[00:00:20] <gus> (The harder bit imo is sorting out the packaging story for random downstream Rust projects.  I brain dumped into https://internals.rust-lang.org/t/how-to-distro-package-a-cargo-using-rust-executable/1785 but haven't had time to work on any of it yet.)
[00:04:31] <arielb1> nrc: rebased
[00:05:14] <nrc> arielb1: r+
[00:07:44] *** Quits: jga (jga@moz-ghe.t1q.244.77.IP) (Ping timeout: 121 seconds)
[00:10:42] *** Quits: mgottschlag (quassel@moz-jofqrs.scc.kit.edu) (Ping timeout: 121 seconds)
[00:11:17] *** Quits: davebettin (davebettin@moz-hde.5e5.136.67.IP) (Ping timeout: 121 seconds)
[00:14:25] *** Joins: bletchrex (Mibbit@moz-juv.9o3.252.72.IP)
[00:17:27] *** Quits: bletchrex (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:19:22] *** Joins: aatch (james@moz-8r6eer.orns.ubhm.e000.2406.IP)
[00:22:38] *** Joins: bytewise (bytewise@moz-mkh5h4.hsi16.unitymediagroup.de)
[00:23:18] <arielb1> and I used the wrong text on the test
[00:25:47] *** Joins: dinfuehr (dinfuehr@moz-uocjue.highway.telekom.at)
[00:27:44] <arielb1> I need a re-r=nrc of gh25840
[00:27:44] <[o__o]> Prevent comparison and dereferencing of raw pointers in constexprs: https://github.com/rust-lang/rust/pull/25840
[00:27:57] *** Quits: Sho (sho@moz-83s.6h6.28.5.IP) (Quit: Konversation terminated!)
[00:28:19] <arielb1> and I need to remember that `make check -j4` output ending with "passed" does not mean that all tests passed
[00:28:35] <nrc> done
[00:28:45] <arielb1> maybe acrichto or someone could add a big red "some tests failed" line?
[00:28:45] <nrc> yeah, I get caught out by that all the time
[00:29:12] <nrc> `make rustc-stage2 -j8 && make check` ftw
[00:29:24] <arielb1> nrc: that does not run check in parallel
[00:29:39] <nrc> that's the point
[00:29:43] <arielb1> its slower
[00:29:49] *** Quits: dinfuehr (dinfuehr@moz-uocjue.highway.telekom.at) (Ping timeout: 121 seconds)
[00:29:50] <nrc> check in || is busted, or at least it was in the past
[00:29:55] <sfackler> each test runner will run its tests in parallel
[00:29:58] *** Quits: James_ (quassel@moz-q6malq.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[00:30:27] <arielb1> make check -j3 || echo -e "\033[31mSome tests failed\033[39m"
[00:30:45] <arielb1> I run make check with -j3 or -j4 because it is actually faster
[00:30:51] <arielb1> than -j8
[00:31:33] <arielb1> because compiletest creates a bajillion threads
[00:31:36] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[00:36:37] *** chmanchester is now known as chmanchester|afk
[00:36:47] <arielb1> actually that's a pretty good idea
[00:37:04] <arielb1> *writes script*
[00:39:45] <WindowsBunny> I intend to find out if it is possible to hit the shared limit on an SRWLock on Windows
[00:40:38] <WindowsBunny> ah ha!
[00:40:39] <WindowsBunny> it can fail
[00:41:18] *** Joins: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net)
[00:42:56] *** Joins: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP)
[00:43:49] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:49:30] *** Joins: jgallagher (john@moz-6ge.dhn.131.24.IP)
[00:53:02] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[00:55:15] *** Quits: goyox86 (textual@moz-rvv.00r.255.109.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:57:00] <Gankro> Hmm, so you need to guard against assigning to a mem::uninitialized field in general because rust will try to Drop the garbage value. However, that *doesn't* apply to !Drop types, right? Perfectly fine to overwrite mem::uninitialized with Plain Old Data?
[00:57:36] <aatch> Gankro, if there's no destructor to run, then yeah.
[00:58:28] *** Quits: arielb1 (Ariel@moz-9he9ta.red.bezeqint.net) (Connection closed)
[00:59:01] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[00:59:12] <Gankro> aatch: What about has_drop_type_inside.not_the_drop_type = x(); where has_drop_type_inside is totally uninit?
[01:00:01] <aatch> Gankro, should work fine. Though you're obviously treading a fine line there.
[01:00:12] * Gankro nods
[01:00:31] <nathan7> I wish we'd have a smarter ptr::write
[01:00:42] <nathan7> I guess memcpy optimisations deal with that sometimes
[01:00:53] <aatch> Gankro, if you want to be really sure, `move_val_init` exists for this.
[01:01:03] <aatch> nathan7, what do you mean?
[01:01:22] <nathan7> ooh, move_val_init looks useful
[01:01:46] <aatch> I have a feeling `ptr::write` and `move_val_init` are functionally identical though.
[01:02:06] <Gankro> aatch: How is that not just ptr::write?
[01:02:10] <Gankro> oh ok
[01:02:12] *** Joins: mudpit (Mibbit@moz-juv.9o3.252.72.IP)
[01:02:25] <aatch> Gankro, move_val_init has been around for longer.
[01:02:39] <Gankro> (I'll advise ptr::write, since it's not *just* an intrinsic)
[01:02:41] *** Quits: mudpit (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:02:46] <nathan7> aatch: ptr::write does a memcpy
[01:03:00] <nathan7> oh!
[01:03:02] <nathan7> it doesn't anymore
[01:03:03] <nathan7> lovely
[01:03:09] <nathan7> my prayers have been answered
[01:03:19] <nathan7> http://doc.rust-lang.org/src/core/ptr.rs.html#264-266
[01:03:48] <aatch> bahahaha. So they are literally the same thing now.
[01:04:26] <nathan7> yep
[01:04:37] <nathan7> I am so fucking happy about this
[01:05:40] <aatch> But yeah, `move_val_init` is just `*foo = bar` where `foo` is assumed to point at unitialized data (if it doesn't, well...)
[01:06:12] <Gankro> aatch: That's just a tricksy mem::forget if it is ;)
[01:06:28] <aatch> It's effectively just exposing the code we generate for `let a = b;`
[01:09:02] *** Quits: ytain (ytain@moz-ffpck2.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[01:09:25] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:11:32] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[01:12:19] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[01:13:15] * Gankro wonders if `x` should actually be mutable in this case http://is.gd/vjzb4a
[01:13:35] <Gankro> I suppose the value is observably changed
[01:19:05] *** Joins: jga (jga@moz-ghe.t1q.244.77.IP)
[01:26:39] *** Quits: bytewise (bytewise@moz-mkh5h4.hsi16.unitymediagroup.de) (Quit: Quit)
[01:37:29] *** Quits: tca (sid17279@moz-kec7hp.highgate.irccloud.com) (Quit: )
[01:37:57] *** Quits: jga (jga@moz-ghe.t1q.244.77.IP) (Ping timeout: 121 seconds)
[01:41:42] *** Quits: stl (stl@moz-o9aiua.broadband.corbina.ru) (Ping timeout: 121 seconds)
[01:42:02] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[01:44:15] *** Joins: c74d3 (c74d3a4ebb6@moz-v3r8ri.mggc.hibn.4404.2002.IP)
[01:45:37] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Ping timeout: 121 seconds)
[01:46:02] *** c74d3 is now known as c74d
[01:54:11] *** Joins: stl (stl@moz-6r1bf1.broadband.corbina.ru)
[01:56:13] *** Quits: erz (erz@moz-fiq1tl.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:06:53] *** Quits: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP) (Ping timeout: 121 seconds)
[02:07:02] *** Joins: TheHydroImpulse (TheHydroImp@moz-r25mqk.ed.shawcable.net)
[02:09:59] <ChrisMorgan> Has anyone ever seriously proposed allowing format_args!(non_literal) to be equivalent to format_args!("{}", non_literal)?
[02:10:18] <Manishearth> ChrisMorgan: I did once I think
[02:10:19] <cmr> ChrisMorgan: yes.
[02:10:32] <ChrisMorgan> I can’t find any discussion of it, any pointers?
[02:10:43] <Manishearth> my first rfc I guess
[02:11:40] <Manishearth> https://github.com/rust-lang/rust/issues/13504
[02:11:57] <Manishearth> see Yurume's ocmment
[02:14:15] <aatch> I guess we don't have C's problem in that a non-static first arg can be an attack vector. But there is the problem of "{}" vs "{:?}".
[02:15:58] <koobs> *times rust build*
[02:17:24] <ChrisMorgan> aatch: a year ago, that was truly unclear. Now I would say it is very clear: it would be {}.
[02:18:17] * ChrisMorgan wishes he didn’t have to keep track of the difference between Rust and Python in {:?} and {!r}
[02:22:24] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:24:49] *** Quits: capella-s3 (capella-s3@moz-vcqob4.res.rr.com) (Connection closed)
[02:25:27] *** Joins: capella-s3 (capella-s3@moz-vcqob4.res.rr.com)
[02:26:27] * ChrisMorgan decides he will try a formal RFC for it
[02:29:02] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[02:29:18] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[02:29:38] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[02:39:01] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[02:39:50] *** Quits: Guest38 (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:47:03] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[02:48:43] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[02:48:51] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[02:55:00] *** Quits: zz_kimundi (kimundi@moz-siarqd.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:56:45] *** Joins: zz_kimundi (kimundi@moz-ch362e.dip0.t-ipconnect.de)
[02:56:46] *** zz_kimundi is now known as kimundi
[03:00:31] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[03:01:27] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[03:06:46] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[03:08:32] *** Joins: c74d3 (c74d3a4ebb6@moz-dc55cs.mggc.hibn.4404.2002.IP)
[03:09:10] *** Quits: c74d (c74d3a4ebb6@moz-v3r8ri.mggc.hibn.4404.2002.IP) (Ping timeout: 121 seconds)
[03:09:48] *** c74d3 is now known as c74d
[03:10:34] *** Quits: c74d (c74d3a4ebb6@moz-dc55cs.mggc.hibn.4404.2002.IP) (Connection closed)
[03:10:38] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[03:23:47] <koobs> " 1h25m20.73s user " Rust is ready to roll
[03:24:22] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[03:24:53] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[03:35:59] *** Joins: semarie (semarie@moz-4gk6rj.torservers.net)
[03:36:00] *** Quits: semarie (semarie@moz-4gk6rj.torservers.net) (A TLS packet with unexpected length was received.)
[03:36:12] *** Joins: semarie (semarie@moz-23n.r2r.23.198.IP)
[03:42:35] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[03:45:20] *** Quits: Rym (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[03:46:32] *** Joins: nham (nham@moz-lglsfe.il.comcast.net)
[03:49:20] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[03:50:57] <ChrisMorgan> Grr, I forgot about println! and writeln! using concat!($fmt, "\n"). That causes a bit of trouble with a scheme for allowing a non-literal sole argument.
[03:53:22] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[03:54:03] *** Joins: summerlight_ (summerlight@moz-99k.2mj.130.121.IP)
[03:57:06] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[03:58:27] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Ping timeout: 121 seconds)
[04:00:45] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:03:15] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[04:09:59] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[04:11:37] *** Joins: Rym (y@moz-c2u.sd4.38.217.IP)
[04:13:37] <sfackler> acrichto: wut, getting WouldBlock instead of TimedOut for a read with a timeout set o_0
[04:16:09] *** Quits: Rym (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[04:17:24] *** Quits: genbattle (genbattle@moz-4v0.gkd.16.182.IP) (Ping timeout: 121 seconds)
[04:17:28] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Ping timeout: 121 seconds)
[04:20:10] *** Quits: summerlight_ (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[04:23:56] *** Joins: Rym (y@moz-c2u.sd4.38.217.IP)
[04:25:39] <steveklabnik> koobs: nice!
[04:25:54] <steveklabnik> koobs: well, not the overall time, but that it's ready to roll, i know you've been working on stuff
[04:26:10] *** Joins: Quxxy (chatzilla@moz-0nv.jkp.167.59.IP)
[04:27:13] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[04:28:17] *** Quits: bdero (bran@moz-lbs.91h.47.73.IP) (Ping timeout: 121 seconds)
[04:28:27] *** Quits: Rym (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[04:29:24] *** Joins: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP)
[04:30:07] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[04:30:21] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[04:30:29] <koobs> steveklabnik: testing a full port build on 9amd64
[04:30:38] <koobs> next is i386 on all versions
[04:30:41] <koobs> llvm takes time ;(~
[04:30:54] <koobs> once ive built it though, ill be able to bypass the llvm build time since it will use the package
[04:31:17] <koobs> yeh ok, annoying
[04:31:18] <koobs> fetch: x86_64-unknown-freebsd/stage0/bin/rustc
[04:31:21] <koobs> determined most recent snapshot: rust-stage0-2015-03-27-5520801-freebsd-x86_64-0910bbad35e213f679d0433884fd51398eb3bc8d.tar.bz2
[04:31:22] <koobs> how do i stop these fetches
[04:32:23] <aatch> koobs, you can't really. I mean, you can pre-fetch the snapshot compilers, but you need them either way.
[04:32:43] <koobs> i wonder if thats why the port was fetching the snapshot
[04:32:46] <koobs> right
[04:33:19] <koobs> aatch: any idea why the port may be doing this:
[04:33:20] <koobs>         @${MKDIR} ${WRKSRC}/dl
[04:33:23] <koobs>         ${LN} -sf ${DISTDIR}/${RUST_BOOT} ${WRKSRC}/dl
[04:33:44] <koobs> is that where get snapshot puts things or something?
[04:34:01] <koobs> RUST_BOOT is: RUST_BOOT=      rust-stage0-${RUST_BOOT_SIG}.tar.bz2
[04:34:29] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[04:34:50] <aatch> koobs, dunno sorry. The build system isn't my area of expertise.
[04:34:57] <koobs> roger
[04:34:58] <semarie> koobs: the result of "make snap-stage3" is "${DISTDIR}/${RUST_BOOT}"
[04:35:14] <semarie> (building a new snapshot for example)
[04:35:22] <koobs> aatch: so if the snapshot doesnt exist somewhere, the build system attempts to grab it ?
[04:35:31] <sfackler> oh, the manpage is just full of crap >_>
[04:35:35] <koobs> and one cant build rust without that snap?
[04:36:26] <aatch> koobs, well, how would it? rustc being written in Rust and all, we need a Rust compiler to compile rustc.
[04:36:54] <koobs> aatch: include it in the source dist?
[04:37:15] <steveklabnik> koobs: nice :)
[04:37:27] <koobs> steveklabnik: which bit? :)
[04:37:27] <aatch> koobs, but that would mean having to include all the snapshots for all the platforms.
[04:37:36] <steveklabnik> the first bit, testing a port
[04:37:43] <koobs> steveklabnik: ah
[04:37:52] <koobs> now i probably understand why this port is amd64 only
[04:37:54] <steveklabnik> i tend to reply an dTHEN read scollback
[04:37:55] <steveklabnik> heh
[04:38:06] <steveklabnik> sfackler: ?
[04:38:08] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[04:38:21] <aatch> koobs, and have a slightly different process compared to a source checkout.
[04:38:33] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[04:38:37] <sfackler> steveklabnik: read(3)'s manpage implies EAGAIN is only used if O_NONBLOCK is set, but it's also used if there's a read/write timeout 
[04:38:38] <koobs> which begs the question
[04:38:41] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[04:38:45] <koobs> where do i get an i386 snapshot
[04:38:46] <koobs> for freebsd
[04:39:05] <aatch> koobs, ooo. I see the problem now.
[04:39:06] <jmesmon> koobs: you could build one using the amd64 build
[04:39:25] <semarie> koobs: you need to bootstrap it first and porting rustc to i386
[04:39:33] <jmesmon> assuming there aren't any latent bugs that no one has bothered fixing
[04:39:51] <jmesmon> and you'll probably need to add a target spec for it
[04:39:54] <koobs> o_O
[04:40:14] <koobs> so where the did amd64 snap come from ?
[04:40:16] <koobs> someone in the past?
[04:41:57] <mcpherrin> koobs: somebody built one on linux
[04:42:06] <koobs> ah
[04:42:13] <koobs> so i can build them for you.
[04:42:21] <koobs> are they version specific ?
[04:44:01] <koobs> can we use our native ARCH values? amd64/i386 instead of x86_64 etc
[04:44:03] <koobs> ?
[04:45:04] <semarie> koobs: you need to 1. tell rustc what is freebsd-i386, and howto use it (mk/cfg, liblibc, librustc_back, ...)
[04:45:45] <semarie> and next, you could use another platform (linux, freebsd-amd64, ...) to build a snapshot of rustc for your target (freebsd-i386)
[04:45:46] <koobs> semarie: so something like https://github.com/rust-lang/rust/blob/master/mk/cfg/x86_64-unknown-freebsd.mk
[04:45:48] <koobs> for i386 ?
[04:45:56] <semarie> koobs: yes
[04:46:31] <koobs> question; so where are your 32bit linux mk's defined ?
[04:46:45] <semarie> when crossbuilding, you need to have also crossbuilding toolchain (be able from freebsd-amd64, to build freebsd-i386 binaries)
[04:46:54] <koobs> ill avoid crossbuild complexities for now
[04:47:00] <koobs> i'll start with our tier 1's
[04:47:18] <koobs> and i have i386 build machines
[04:47:30] <koobs> oh wait, chicken/egg.
[04:47:40] <semarie> koobs: exactly :)
[04:47:46] <koobs> *SHAKES FIST*
[04:48:05] <koobs> semarie: so, 32-bit linux mk's, i dont see any ?
[04:48:21] <semarie> koobs: mk/cfg/i686-unknown-linux-gnu.mk
[04:48:24] <koobs> right
[04:49:10] <koobs> semarie: do i need major version specific bootstraps ?
[04:49:32] <koobs> CFG_JEMALLOC_CFLAGS_x86_64-unknown-freebsd := -I/usr/local/include $(CFLAGS)
[04:49:35] <koobs> is interesting since you bundle it
[04:49:38] <koobs> *ponders*
[04:49:49] <semarie> you should bootstrap a snapshot version (it will be more simple after)
[04:50:03] <koobs> i shouldm bootstrap a snapshot ...
[04:50:05] <koobs> *groks*
[04:50:36] <koobs> isnt that what i was asking before?
[04:50:46] <koobs> how do i build the boostrap stage0 without fetching it ?
[04:51:02] <Manishearth> koobs: crosscompile?
[04:51:14] <semarie> your first build wouldn't be under freebsd-i386
[04:51:27] <sfackler> is the procedure for running a try build still just force pushing to the try branch?
[04:52:32] <Manishearth> sfackler: @bors:try works too
[04:52:41] <Manishearth> I think the try branch is broken, try bors
[04:53:01] *** Joins: p1start (p1start@moz-nftjhe.org)
[04:53:08] <sfackler> thanks
[04:53:16] <koobs> *confused*
[04:53:41] <richo> in record_sp_limit, there's a comment that said `The location that the limit is stored is a pre-ordained location because it's where LLVM has emitted code to check.`. Where is the code that LLVM will emit defined?
[04:57:09] <semarie> koobs: your first build of rustc-freebsd-i386 has to be done from freebsd-amd64 (or another supported platform)
[04:57:24] <koobs> i was hoping for a bull bootstrap capability
[04:57:31] <koobs> reading ML and issue 19706 now
[04:58:03] <semarie> koobs: before building it, you have to port rustc to freebsd-i386 (mainly mk/cfg, liblibc and librustc_back)
[04:58:19] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[04:58:27] <semarie> in order to tell rustc howto build a freebsd-i386 binary
[04:59:19] <koobs> sure, i grok the process 
[04:59:21] <koobs> https://wiki.debian.org/Teams/RustPackaging/Bootstrap
[04:59:22] <koobs> semarie: danke
[04:59:29] <koobs> just getting some more context
[04:59:43] <semarie> :)
[05:00:26] <gus> koobs: just to keep you on your toes, rustc can't be built with its own version as the stage0
[05:00:36] <koobs> semarie: have you seen this? https://kwantam.github.io/Rust_cross_bootstrapping.html
[05:00:43] <koobs> gus: just what i need, more on my toes :)
[05:03:10] <gus> koobs: so you can either cross compile in one go from a rustc source that has an available stage0 (easiest), or convince rustc1.0 source to start from a rustc1.0 stage1 (ie: skip stage0->stage1 altogether).
[05:03:35] <koobs> gus: i dont think i grok enough to consider the latter yet
[05:03:43] <koobs> gus: having said that i could try an i386 compile
[05:03:57] <koobs> gus: though id rather just see a full 3 stage bootstrap of rust not requiring snaps
[05:04:03] <koobs> if not by default, than at least optional
[05:04:19] <koobs> im reading some such about using LLVM's IR assembler
[05:04:25] <koobs> http://aidancully.blogspot.com.au/2014/12/bootstrapping-rust.html
[05:04:41] <koobs> *ignores cargo for now*
[05:04:57] <gus> koobs: oh, and if you're getting into cross compilers, note that rustc supports every rust target - the ./configure --target option just defines what platform(s) you build the stdlibs for.
[05:05:09] <koobs> gus; this all started with: https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=200449
[05:05:30] <koobs> something something pandoras box
[05:05:39] <koobs> something something bstrie 
[05:06:15] <gus> iow: for packaging, you just need to worry about building the libs (and the few C libraries, libbacktrace, etc) for the target platform - rustc for your build host will already support the target.
[05:06:44] <gus> Unless you need to define a brand new target triple, and then you get to have even more fun (I haven't tried this yet, but it looked straight forward enough).
[05:06:53] *** Quits: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP) (Ping timeout: 121 seconds)
[05:06:58] <koobs> gus: youre limited to i386 and x64 yeh?
[05:07:07] <gus> koobs: yeah, but not for any good reason.
[05:07:11] <koobs> sure
[05:07:35] <gus> I merged a more debian-cross-compile-friendly rewrite of the Debian packaging yesterday in fact.
[05:07:56] <gus> I haven't used it yet to bootstrap more Debian architectures, but that's the goal.
[05:08:40] *** Joins: guewen (guewen@moz-ftf7u4.cust.swisscom.ch)
[05:08:58] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[05:10:53] <gus> oh, looking at your original bug and I just realised I'm building with --release-channel=beta - I will fix that right now :P
[05:11:16] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[05:12:37] <koobs> gus:  :)
[05:12:43] <koobs> good defaults rock.
[05:18:05] *** Joins: Rym (y@moz-c2u.sd4.38.217.IP)
[05:18:25] <gus> koobs: oh, and you'll notice in the results that there are duplicates of all the rust *.so's - one set for compile-time linking and one for run-time linking.
[05:18:46] <koobs> as long as the RBS does *the right* TM thing
[05:18:49] <koobs> ill cross that bridge :)
[05:19:05] <gus> It's ok to symlink one to the other (saves almost 70MB on my build), even though they aren't bit-for-bit identical.
[05:19:10] <koobs> Shared object "libc++.so.1" not found, required by "rustc"
[05:19:13] <koobs> hmmmmmmmmmm
[05:19:47] <gus> (they get copied out of different stages of the build, but they're _meant_ to be identical at that point ;)
[05:19:59] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[05:19:59] *** ChanServ sets mode: +o pcwalton
[05:20:04] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[05:20:11] <koobs> *cries*
[05:20:35] <Amaranth> koobs: btw that suggestion in that blog to ship stage0 as LLVM IR for portability wouldn't work, LLVM IR isn't portable
[05:20:49] <koobs> kk
[05:22:37] *** Quits: Rym (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[05:23:36] *** Joins: garming (garming@moz-6o3t19.xtra.co.nz)
[05:24:49] <carllerche> I'm guessing there is no way for a crate to export some sort of configuration? like, #[cfg(my_crate::foo)]...
[05:25:11] <sfackler> hmm, try seems broken
[05:26:29] <carllerche> is there a way to conditionally define code based on if a crate exports a certain function?
[05:26:37] <huon> carllerche: there's cargo features
[05:26:46] <carllerche> huon: yeah, but that isn't what I want :P
[05:27:12] <huon> how are you ending up with a function that is conditionally defined?
[05:27:58] <carllerche> huon: for example, signalfd
[05:28:09] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[05:28:25] <carllerche> huon: it only exists on 2.6.27
[05:28:50] <huon> how is the crate with the conditionally defined function detecting that?
[05:29:30] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[05:30:04] *** Quits: njn (chatzilla@moz-e6r6of.iinet.net.au) (Connection closed)
[05:30:42] *** Joins: njn (chatzilla@moz-e6r6of.iinet.net.au)
[05:31:13] <carllerche> huon: a build.rs file that does the detection and sets a cfg
[05:32:43] *** Quits: O01eg (o01eg@moz-7fe1ek.nlre.4n8f.2698.2a02.IP) (Client exited)
[05:34:12] <carllerche> I think it would be nice for crates to be able to export cfgs 
[05:34:14] *** Joins: Diggsey2 (diggsey@moz-5261it.dsl.pipex.com)
[05:34:34] <koobs> gus; what are build-depends-indep's?
[05:34:36] <koobs> indirect ?
[05:35:09] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[05:35:09] <gus> build deps for "architecture independent" packages.
[05:35:15] <gus> For Rust, thats the doc package.
[05:35:16] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[05:35:30] *** Quits: Diggsey (diggsey@moz-5e07a6.dsl.pipex.com) (Ping timeout: 121 seconds)
[05:36:16] <gus> (The build daemons only build arch-specific packages to avoid duplicate work - so in rustc's case they won't be reinstalling the doc tools and rebuilding the rust docs)
[05:38:23] *** Joins: eerie (eerie@moz-daqmdl.red.bezeqint.net)
[05:39:32] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[05:42:06] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[05:45:48] <huon> nrc++ https://github.com/rust-lang/rust/pull/25849#issuecomment-106180389
[05:47:48] <koobs> gus: ah
[05:50:17] *** Quits: eerie (eerie@moz-daqmdl.red.bezeqint.net) (Connection closed)
[05:50:45] *** Joins: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net)
[05:51:24] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[05:54:58] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Ping timeout: 121 seconds)
[05:57:44] <acrichto> sfackler: yeah that's fine, TimedOut was somewhat synthetic
[05:58:48] <sfackler> acrichto: cool - also, I can't seem to call error::Error::{is, downcast, etc} "method style"
[05:58:53] *** Joins: summerlight_ (summerlight@moz-99k.2mj.130.121.IP)
[05:59:13] <sfackler> UFCS style works fine but I end up with  error: no method named `is` found for type `&error::Error + Send + Sync` in the current scope otherwise
[05:59:16] <acrichto> sfackler: is that b/c the methods aren't defined for (Error + Send + Sync) ?
[05:59:18] <sfackler> and I am importing Error
[05:59:24] <acrichto> it may only be defined on Error itself
[05:59:34] <acrichto> e.g. impl Error vs impl Error + Send + Sync
[05:59:40] <acrichto> (method dispatch isn't so smart about this)
[06:00:59] *** Joins: James (quassel@moz-q6malq.range86-148.btcentralplus.com)
[06:01:14] *** Quits: Diamond (dick@moz-s67uin.ok.cox.net) (Quit: Leaving.)
[06:01:28] <sfackler> yeah, looks like that's waht it is
[06:01:31] *** Quits: c0170 (c0170@moz-4stj9o.cable.virginm.net) (Ping timeout: 121 seconds)
[06:01:48] <sfackler> btw, try doesn't seem to be doing anything right now, any idea why?
[06:02:15] <sfackler> bors says it's started it, but all of the builders are idle
[06:02:28] <acrichto> ... weird
[06:03:11] <huon> sfackler: how long ago?
[06:03:27] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[06:03:58] <sfackler> about an hour ago: https://github.com/rust-lang/rust/pull/25818#issuecomment-106170056
[06:04:32] <huon> oh, can't remember how long the delay was last time I asked, but I'm pretty sure it was less than an hour... :S
[06:12:13] *** Joins: Rym (y@moz-c2u.sd4.38.217.IP)
[06:14:08] <Mutabah> Question from #rust-osdev - Is there a dependency on the ord lang item to use comparisons on builtin types?
[06:14:32] <Mutabah> A user tried to compile deriviatve of rustboot (which doesn't use libcore) and it errored doing a comparison on u64
[06:16:47] *** Quits: Rym (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[06:18:31] <nrc> huon: :-)
[06:19:05] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[06:20:23] *** Joins: c0170 (c0170@moz-bb29a4.cambridge.arm.com)
[06:22:17] <Manishearth> Mutabah: IIRC the partialord impls internally use builtin operators for ints so they look tautological
[06:22:20] <Manishearth> i think
[06:22:23] <Manishearth> I forgot
[06:23:12] <Mutabah> Manishearth: Yeah, I checked on that
[06:23:19] <Mutabah> Which is why I'm surprised this caused an errror
[06:23:31] <Mutabah> and wanted to check if the lang item needed to be defined or not
[06:25:21] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[06:31:27] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[06:43:39] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[06:44:33] *** Joins: quantheory (quantheory@moz-djv2du.o956.jtvf.0001.2601.IP)
[06:46:22] *** Diggsey2 is now known as Diggsey
[06:49:38] *** Joins: bkearns (Adium@moz-vofc96.us.xo.net)
[06:51:03] *** Joins: kushal (kdas@moz-0bg.hkq.143.114.IP)
[06:53:33] *** Quits: semarie (semarie@moz-23n.r2r.23.198.IP) (A TLS packet with unexpected length was received.)
[06:55:17] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[06:57:01] *** Quits: James (quassel@moz-q6malq.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[07:06:33] *** Joins: Rym (y@moz-c2u.sd4.38.217.IP)
[07:10:55] *** Quits: Rym (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[07:16:07] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:16:09] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[07:16:11] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Connection closed)
[07:16:33] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[07:16:39] *** Quits: quantheory (quantheory@moz-djv2du.o956.jtvf.0001.2601.IP) (Quit: Leaving)
[07:24:51] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[07:24:54] *** Joins: mib_56lp2e (Mibbit@moz-juv.9o3.252.72.IP)
[07:28:43] *** Joins: Tobba (Tobba@moz-6oh.7ki.21.217.IP)
[07:30:02] *** Quits: mib_56lp2e (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:36:24] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:36:46] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[07:37:40] *** Quits: chc4 (chc4@moz-pdo0at.ma.comcast.net) (Quit: AHHHHH BEES)
[07:40:57] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[07:41:47] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[07:45:31] *** Quits: rovar_ (rovar@moz-96effg.dyn.optonline.net) (Connection closed)
[07:46:10] *** Quits: aatch (james@moz-8r6eer.orns.ubhm.e000.2406.IP) (Connection closed)
[07:54:56] *** Quits: Kxepal (Miranda@moz-unuini.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[07:57:10] *** Joins: Kxepal (Miranda@moz-j3eqgp.pppoe.mtu-net.ru)
[07:59:56] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[08:00:32] *** Joins: Rym (y@moz-c2u.sd4.38.217.IP)
[08:06:13] *** Quits: Rym (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[08:08:23] *** Joins: goyox86 (textual@moz-qfs.570.70.83.IP)
[08:10:28] *** Joins: munksgaard (munksgaard@moz-33d.hq0.225.130.IP)
[08:18:36] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Connection closed)
[08:25:56] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[08:27:33] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[08:30:56] *** Quits: njn (chatzilla@moz-e6r6of.iinet.net.au) (Quit: ChatZilla 0.9.91.1 [Firefox 41.0a1/20150524155217])
[08:31:01] *** Quits: nham (nham@moz-lglsfe.il.comcast.net) (Quit: leaving)
[08:31:27] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[08:35:30] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[08:36:15] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[08:36:46] *** Joins: genbattle (genbattle@moz-r09mao.xtra.co.nz)
[08:37:21] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[08:39:23] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[08:41:47] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[08:42:58] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[08:44:15] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[08:55:01] *** Joins: nicknikolov (nicknikolov@moz-ko7.r6m.215.90.IP)
[08:55:59] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[08:56:02] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[08:56:29] *** Joins: Rym (y@moz-c2u.sd4.38.217.IP)
[08:56:57] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[08:57:13] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[08:57:23] *** rkruppe_ is now known as rkruppe
[08:59:08] *** Joins: laumann (thomas@moz-gqpfnm.science.ku.dk)
[09:00:26] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[09:01:03] *** Quits: Rym (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[09:13:04] *** Quits: goyox86 (textual@moz-qfs.570.70.83.IP) (Quit: Textual IRC Client: www.textualapp.com)
[09:21:21] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[09:29:11] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[09:33:13] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[09:34:10] *** Quits: jbomo (dkd@moz-uol4mm.fios.verizon.net) (Ping timeout: 121 seconds)
[09:39:30] *** Joins: jbomo (dkd@moz-uol4mm.fios.verizon.net)
[09:39:38] *** Quits: Diggsey (diggsey@moz-5261it.dsl.pipex.com) (Ping timeout: 121 seconds)
[09:41:58] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[09:43:32] *** Quits: jbomo (dkd@moz-uol4mm.fios.verizon.net) (Ping timeout: 121 seconds)
[09:48:19] *** Joins: rkruppe (chatzilla@moz-7q6ejp.uopk.14d9.41b8.2001.IP)
[09:50:30] *** Joins: jbomo (dkd@moz-uol4mm.fios.verizon.net)
[09:50:40] *** Joins: Rym (y@moz-c2u.sd4.38.217.IP)
[09:55:12] *** Quits: Rym (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[09:57:22] *** Quits: kushal (kdas@moz-0bg.hkq.143.114.IP) (Ping timeout: 121 seconds)
[10:19:41] *** Joins: rkruppe_ (chatzilla@moz-6ulsl8.hrz.tu-darmstadt.de)
[10:21:57] *** Quits: rkruppe (chatzilla@moz-7q6ejp.uopk.14d9.41b8.2001.IP) (Ping timeout: 121 seconds)
[10:22:07] *** rkruppe_ is now known as rkruppe
[10:22:51] *** Quits: foo (ctennis@moz-vcpg3c.in.comcast.net) (Quit: Leaving...)
[10:24:47] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[10:28:04] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[10:29:54] *** Joins: p1start (p1start@moz-nftjhe.org)
[10:32:00] *** Quits: Tobba (Tobba@moz-6oh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[10:33:50] *** Quits: genbattle (genbattle@moz-r09mao.xtra.co.nz) (Ping timeout: 121 seconds)
[10:38:25] *** Quits: tamird (textual@moz-gg3hct.res.rr.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[10:40:38] *** Joins: tamird (textual@moz-gg3hct.res.rr.com)
[10:43:03] *** Quits: tamird (textual@moz-gg3hct.res.rr.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[10:44:50] *** Joins: Rym (y@moz-c2u.sd4.38.217.IP)
[10:46:45] *** Joins: jga (jga@moz-e4s.t1q.244.77.IP)
[10:47:47] *** Quits: dustinm` (dustinm@moz-1c1j82.fu2o.sj0n.5300.2607.IP) (Ping timeout: 121 seconds)
[10:49:03] *** Joins: kushal (kdas@moz-so4.f0d.244.121.IP)
[10:49:22] *** Quits: Rym (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[10:51:17] *** Quits: munksgaard (munksgaard@moz-33d.hq0.225.130.IP) (Ping timeout: 121 seconds)
[10:51:32] *** Joins: tamird (textual@moz-gg3hct.res.rr.com)
[10:52:35] *** Quits: nrc (nrc@moz-14pjgj.xtra.co.nz) (Ping timeout: 121 seconds)
[10:53:19] *** Joins: munksgaard (munksgaard@moz-1f0.hq0.225.130.IP)
[10:54:22] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[10:57:29] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[10:58:43] *** Quits: aatch (james@moz-is4j4r.cable.telstraclear.net) (Ping timeout: 121 seconds)
[11:00:38] *** Quits: sp3d (sp3d@moz-ik970v.enn1.s22b.000d.2601.IP) (Ping timeout: 121 seconds)
[11:01:01] *** Quits: JustAPerson (JustAPerson@moz-un628q.moe) (Ping timeout: 121 seconds)
[11:01:40] *** Joins: JustAPerson (JustAPerson@moz-un628q.moe)
[11:01:52] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[11:05:52] *** Joins: dustinm` (dustinm@moz-es6jb7.ip-167-114-152.net)
[11:06:13] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[11:08:36] <eddyb> sfackler: idea: hygienic control-flow: break/continue "bind" to the closest loop in the current syntactic context (as if they were using some default label. can probably be implemented using labels) and return only works if the function definition is in the same syntactic context
[11:08:55] <eddyb> sfackler: very annoying without an escape hatch, but at least the loop part should be useful
[11:10:46] *** Quits: munksgaard (munksgaard@moz-1f0.hq0.225.130.IP) (Ping timeout: 121 seconds)
[11:11:05] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[11:11:48] *** Joins: munksgaard (munksgaard@moz-33d.hq0.225.130.IP)
[11:15:12] *** Quits: jbomo (dkd@moz-uol4mm.fios.verizon.net) (Ping timeout: 121 seconds)
[11:16:29] *** Joins: erz (erz@moz-fiq1tl.broadband.corbina.ru)
[11:21:37] <kimundi> eddyb: so you want to break try!() ?
[11:21:40] <kimundi> ;)
[11:22:20] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[11:22:38] *** Quits: tamird (textual@moz-gg3hct.res.rr.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[11:23:04] <eddyb> kimundi: that would use the escape hatch
[11:23:16] <eddyb> i.e. try! would opt into unhygienic control-flow
[11:24:46] *** Joins: ytain (ytain@moz-ffpck2.dsl.teksavvy.com)
[11:28:57] *** Quits: rkruppe (chatzilla@moz-6ulsl8.hrz.tu-darmstadt.de) (Ping timeout: 121 seconds)
[11:35:45] *** Joins: rkruppe (chatzilla@moz-7q6ejp.uopk.14d9.41b8.2001.IP)
[11:39:00] *** Joins: Rym (y@moz-c2u.sd4.38.217.IP)
[11:39:52] *** Quits: rkruppe (chatzilla@moz-7q6ejp.uopk.14d9.41b8.2001.IP) (Ping timeout: 121 seconds)
[11:40:07] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[11:41:15] *** Quits: jga (jga@moz-e4s.t1q.244.77.IP) (Ping timeout: 121 seconds)
[11:43:32] *** Quits: Rym (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[11:44:45] *** Joins: larhat (Adium@moz-egv.ld6.128.213.IP)
[11:46:02] *** Quits: larhat (Adium@moz-egv.ld6.128.213.IP) (Quit: Leaving.)
[11:47:50] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[11:49:20] *** Quits: laumann (thomas@moz-gqpfnm.science.ku.dk) (Ping timeout: 121 seconds)
[11:51:22] *** Joins: laumann (thomas@moz-33d.hq0.225.130.IP)
[11:54:08] *** kimundi is now known as zz_kimundi
[11:58:07] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[11:58:36] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[11:59:32] *** Joins: Rym (y@moz-c2u.sd4.38.217.IP)
[12:01:56] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[12:02:39] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[12:02:43] *** Joins: Sho (sho@moz-de5aes.cust.telecolumbus.net)
[12:07:22] *** Joins: rkruppe (chatzilla@moz-7q6ejp.uopk.14d9.41b8.2001.IP)
[12:21:59] *** zz_kimundi is now known as kimundi
[12:34:08] *** kimundi is now known as zz_kimundi
[12:38:44] *** Joins: rkruppe_ (chatzilla@moz-6ulsl8.hrz.tu-darmstadt.de)
[12:40:27] <WindowsBunny> Is `as i32` overflow checked?
[12:40:34] <WindowsBunny> In particular is it checked in constant expressions?
[12:40:35] <eddyb> WindowsBunny: not AFAIK
[12:40:37] <eddyb> oh
[12:40:42] <eddyb> constant expressions are special
[12:40:46] <eddyb> but I don't think so
[12:41:00] *** Quits: rkruppe (chatzilla@moz-7q6ejp.uopk.14d9.41b8.2001.IP) (Ping timeout: 121 seconds)
[12:41:09] *** rkruppe_ is now known as rkruppe
[12:41:18] <WindowsBunny> eddyb: mkay, because I have enum variants whose repr is i32, but the values are above 0x80000000
[12:41:24] <eddyb> since it's used for zero/sign-extend and truncate
[12:41:32] <eddyb> WindowsBunny: that is not sane
[12:41:41] <WindowsBunny> eddyb: winapi :D
[12:41:48] <eddyb> :NO:
[12:42:03] <eddyb> WindowsBunny: is the enum signed or unsigned in C?
[12:42:19] <eddyb> if it's signed, then 0x80000000 will actually be -0x80000000
[12:42:33] <eddyb> playbot: 0x80000000 as i32
[12:42:34] <WindowsBunny> eddyb: Microsoft C enums are always represented as int, which is i32 (except on win16 but lets pretend that doesn't exist)
[12:42:35] -playbot- <anon>:9:9: 9:19 warning: literal out of range for i32, #[warn(overflowing_literals)] on by default
[12:42:35] -playbot- <anon>:9         0x80000000 as i32
[12:42:35] -playbot- output truncated; full output at: http://bit.ly/1ckVZjJ
[12:42:40] <eddyb> playbot: 0x80000000u32 as i32
[12:42:41] -playbot- -2147483648
[12:42:52] <eddyb> maybe that works for you *shrug*
[12:43:11] <WindowsBunny> eddyb: Hey, as long as it compiles to the right value, I couldn't care less
[12:43:54] <WindowsBunny> eddyb: VS intellisense, upon hovering over an enum with that discriminant of 0x80000000, confirms that it is actually -2147483648
[12:43:59] <WindowsBunny> So yay
[12:45:24] *** zz_kimundi is now known as kimundi
[12:59:21] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[13:02:20] *** Joins: bdero (bran@moz-itn.uao.189.18.IP)
[13:03:31] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[13:03:48] *** Quits: bdero (bran@moz-itn.uao.189.18.IP) (Connection closed)
[13:05:06] *** Joins: bdero (bran@moz-itn.uao.189.18.IP)
[13:07:17] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Quit: Leaving)
[13:07:50] *** Joins: mib_dtlwy4 (Mibbit@moz-juv.9o3.252.72.IP)
[13:08:36] *** Quits: mib_dtlwy4 (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:09:49] *** Quits: Sho (sho@moz-de5aes.cust.telecolumbus.net) (Ping timeout: 121 seconds)
[13:11:42] *** Joins: Sho (sho@moz-de5aes.cust.telecolumbus.net)
[13:13:39] *** Joins: mgottschlag (quassel@moz-domgh8.h71g.nb65.1398.2a00.IP)
[13:15:09] *** Quits: _Vi (vi@moz-bbs.vhj.131.104.IP) (Ping timeout: 121 seconds)
[13:17:14] *** Quits: Kxepal (Miranda@moz-j3eqgp.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[13:20:54] *** Joins: killercup (killercup@moz-723bo4.dip0.t-ipconnect.de)
[13:31:23] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Quit: Leaving.)
[13:35:45] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[13:37:38] *** Joins: vmx (vmx@moz-au1ueg.dip0.t-ipconnect.de)
[13:40:00] *** Quits: rkruppe (chatzilla@moz-6ulsl8.hrz.tu-darmstadt.de) (Ping timeout: 121 seconds)
[13:42:09] *** Quits: mgottschlag (quassel@moz-domgh8.h71g.nb65.1398.2a00.IP) (Ping timeout: 121 seconds)
[13:51:50] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[13:56:32] *** Quits: Rym (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[13:58:23] *** Quits: jgallagher (john@moz-6ge.dhn.131.24.IP) (Client exited)
[13:58:42] *** Quits: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au) (Ping timeout: 121 seconds)
[13:59:58] *** Joins: _Vi (vi@moz-bbs.vhj.131.104.IP)
[14:00:17] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[14:04:19] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[14:09:01] *** Joins: clatour (clatour@moz-slkfub.hlrn.qwest.net)
[14:10:17] *** Joins: mib_4yo3m9 (Mibbit@moz-juv.9o3.252.72.IP)
[14:11:54] *** Joins: tamird (textual@moz-lje.m54.130.157.IP)
[14:11:57] *** Quits: mib_4yo3m9 (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:14:40] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[14:17:08] *** Joins: jga (jga@moz-e4s.t1q.244.77.IP)
[14:25:05] *** Quits: jga (jga@moz-e4s.t1q.244.77.IP) (Ping timeout: 121 seconds)
[14:25:22] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[14:25:34] *** Joins: Rym (y@moz-c2u.sd4.38.217.IP)
[14:34:56] *** Joins: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net)
[14:38:00] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[14:42:26] *** Joins: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au)
[14:46:13] *** Quits: Rym (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[14:48:59] *** Joins: yoshirex (Mibbit@moz-juv.9o3.252.72.IP)
[14:54:48] *** Quits: yoshirex (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:56:13] *** Joins: jga (jga@moz-e4s.t1q.244.77.IP)
[15:00:14] *** Joins: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP)
[15:00:44] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[15:01:10] *** Joins: bombless (_@moz-ovk.piv.41.59.IP)
[15:04:54] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[15:05:59] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[15:06:43] *** Parts: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) ("")
[15:07:21] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[15:07:51] *** Joins: goyox86 (textual@moz-qfs.570.70.83.IP)
[15:07:52] *** Quits: _Vi (vi@moz-bbs.vhj.131.104.IP) (Ping timeout: 121 seconds)
[15:08:02] *** Quits: poorman (poorman@moz-sdl0oq.res.rr.com) (Quit: )
[15:10:02] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[15:11:41] *** Quits: bombless (_@moz-ovk.piv.41.59.IP) (Quit: Leaving)
[15:12:29] *** Joins: Rym (y@moz-c2u.sd4.38.217.IP)
[15:13:24] *** Joins: joh (uid13099@moz-2c7ap3.ealing.irccloud.com)
[15:13:54] *** Quits: jga (jga@moz-e4s.t1q.244.77.IP) (Connection closed)
[15:17:05] *** Quits: Rym (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[15:17:37] *** bvssvni_ is now known as bvssvni
[15:29:02] *** Joins: jga (jga@moz-e4s.t1q.244.77.IP)
[15:36:10] *** Joins: GBGamer (npm@moz-92sbjt.wa.comcast.net)
[15:36:38] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Client exited)
[15:37:20] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[15:39:00] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[15:42:32] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[15:42:39] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[15:43:34] *** kimundi is now known as zz_kimundi
[15:44:34] *** Quits: garming (garming@moz-6o3t19.xtra.co.nz) (Quit: ChatZilla 0.9.91.1 [Firefox 38.0.5/20150525141253])
[15:45:38] *** Joins: npm (npm@moz-dlv.mg6.56.172.IP)
[15:46:36] *** Joins: brson (brson@moz-d18.tb2.56.172.IP)
[15:46:36] *** ChanServ sets mode: +o brson
[15:46:53] *** Joins: semarie (semarie@moz-4lmh4m.privacyfoundation.ch)
[15:47:11] <brson> i'm going to try to get a regression report out today
[15:47:16] <brson> been 2 weeks since the release
[15:48:26] <brson> acrichto edunham: we should really figure out what IP address to add to the firewall to allow ssh.mozilla.com to get to aws
[15:48:42] <brson> taking another hop through mtv is so bad
[15:49:04] *** Quits: laumann (thomas@moz-33d.hq0.225.130.IP) (Quit: leaving)
[15:49:17] *** Quits: GBGamer (npm@moz-92sbjt.wa.comcast.net) (Ping timeout: 121 seconds)
[15:49:59] *** Quits: npm (npm@moz-dlv.mg6.56.172.IP) (Quit: AndroIRC - Android IRC Client ( http://www.androirc.com ))
[15:50:47] <eddyb> brson: I'm curious if any of the new features broke anything. hope you're using master, since there were some bugfixes yesterday. not sure if a nightly has them
[15:51:04] <eddyb> (rust-encoding was broken for a few days)
[15:51:15] <brson> eddyb: yeah i'll compare nightly to stable
[15:51:28] <brson> acrichto: consider doing a beta tomorrow
[15:52:50] <bluss> brson: is there a tag for regressions (i.e. unplanned breaking changes)
[15:53:05] *** Joins: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net)
[15:53:34] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Connection closed)
[15:53:36] <bluss> I can't add tags anyway, but I'd use it on gh25310
[15:53:36] <[o__o]> Passing a `Fn` to an `fn` now requires explicit lifetimes for the `Fn` and all references passed to it when invoked: https://github.com/rust-lang/rust/issues/25310
[15:53:48] *** Joins: davebettin (davebettin@moz-hde.5e5.136.67.IP)
[15:53:54] *** Joins: Rym (y@moz-c2u.sd4.38.217.IP)
[15:54:00] <brson> bluss: no but i think there definitely should be. i want to be able to track this information for future analysis
[15:55:07] <brson> my ssh session looks like: 4g tether -> ssh.mozilla.com -> mac6 in mtv -> bastion -> crater
[15:55:10] <brson> it's so awful
[15:56:01] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[15:57:22] <edunham> brson: noob question; we need the IP of ssh.m.o for aws firewalls, not the other way around, right?
[15:57:24] <brson> there's an I-regression tag. maybe i can reuse it, name it I-stable-regression?
[15:57:40] <brson> edunham: yes, the public ip
[15:57:42] <edunham> ok
[15:58:02] <brson> acrichto: do you have opinions about the desirability of a stable-regression tag?
[15:58:57] <brson> crater builds are started
[15:59:12] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[16:00:04] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[16:00:34] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[16:00:37] <brson> looks like we've got 2196 unique crates right now
[16:01:13] <aturon> brson: stable-regression sounds good; i agree that tracking would be useful. 
[16:01:20] <edunham> brson: `host ssh.mozilla.com` tells me it's an alias for a machine who's currently at 63.245.214.149
[16:02:17] <edunham> but there might be multiple machines of the form sshX.thing.m.c... 
[16:02:29] <brson> I think I will untag the 5 bugs with I-regression (unless they look new) and repurpose it, maybe give it a bright color
[16:02:45] *** Quits: munksgaard (munksgaard@moz-33d.hq0.225.130.IP) (Ping timeout: 121 seconds)
[16:03:07] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[16:04:58] *** Quits: Rym (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[16:05:11] *** Joins: nham (nham@moz-lglsfe.il.comcast.net)
[16:05:18] *** Joins: Rym (y@moz-c2u.sd4.38.217.IP)
[16:05:23] *** Quits: goyox86 (textual@moz-qfs.570.70.83.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:06:09] <brson> edunham: sgtm. can't know for sure until we try
[16:06:54] *** Joins: goyox86 (textual@moz-qfs.570.70.83.IP)
[16:07:31] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[16:07:44] <brson> I think we should delete I-an-interesting-project. It's never really carried its weight
[16:08:06] <brson> er, A-an-interesting-project
[16:08:27] *** Joins: O01eg (o01eg@moz-qi2pml.uea1.4n8f.2698.2a02.IP)
[16:09:03] <edunham> brson: could you say that on https://github.com/rust-lang/rust/pull/25832 please?
[16:09:05] <Gankro> nmatsakis: Am I correct in stating that `fn foo<'a>() -> &'a T { .. }` is equivalent to `fn foo() -> &'static T { }`
[16:09:06] <aturon> brson: +1, especially with the work steveklabnik has been doing with the issues
[16:09:45] <nmatsakis> Gankro: basically yes
[16:10:09] <brson> edunham: sure
[16:10:16] *** Quits: Rym (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[16:10:36] *** Quits: c0170 (c0170@moz-bb29a4.cambridge.arm.com) (Ping timeout: 121 seconds)
[16:10:47] <Gankro> nmatsakis: aturon has sicced a PhD student interested in lifetime rules on me and I am verrry tempted to just forward the email to you and save us all some time :)
[16:10:55] <edunham> thanks! I'm currently tracking down the information about how ssh.m.c is set up.
[16:13:16] *** Joins: jbomo (dkd@moz-uol4mm.fios.verizon.net)
[16:13:21] *** Quits: jbomo (dkd@moz-uol4mm.fios.verizon.net) (Quit: )
[16:14:02] *** Joins: Rym (y@moz-c2u.sd4.38.217.IP)
[16:15:09] <aturon> Gankro: that is basically correct, yes
[16:15:11] *** Joins: aminb (aminb@moz-b13.071.236.104.IP)
[16:15:24] <Gankro> What's the "basically"?
[16:15:26] <aturon> Gankro: also, i can help with the student -- originally they were asking about doing linked lists etc, but the questions have changed now :)
[16:15:33] <aturon> Gankro: I'm meeting with nmatsakis now, let's talk after
[16:15:49] <aminb> hey guys, I was hoping to tackle https://github.com/rust-lang/rust/issues/24565 as my first contrib to rust
[16:16:01] <aminb> can anyone give me some pointers?
[16:16:12] <aminb> I asked on #rust, they suggested I try here too :)
[16:17:36] <aminb> it has to do with compiletest
[16:18:05] <brson> aminb: actually, this will be in rustdoc
[16:18:30] <brson> docs are tested by rustdoc
[16:19:12] <brson> src/librustdoc/test.rs is a good place to start reading
[16:19:20] <aminb> brson: really? oh I see
[16:19:34] <steveklabnik> i'd be so happy to see that ticket implemented
[16:19:34] <aminb> I was under the impression that it has to do with compiletest
[16:19:35] *** Quits: kushal (kdas@moz-so4.f0d.244.121.IP) (Ping timeout: 121 seconds)
[16:19:36] <aminb> https://github.com/rust-lang/rust/issues/24565#issuecomment-106362200
[16:19:51] <aminb> brson: thank you for the starting point
[16:20:43] <brson> aminb: I think that comment is incorrect
[16:20:44] <bluss> the util that runs tests in docs is rustdoc --test
[16:20:47] <aminb> steveklabnik: yeah looks like it could be quite useful
[16:21:47] <acrichto> brson: hm I figured we wouldn't do a beta b/c the only change has been to manpages
[16:22:00] <acrichto> brson: stable-regression tag also seems fine, albeit somewhat similar to P-high
[16:22:01] <aminb> brson: oh alright. thanks for letting me know!
[16:22:22] <acrichto> edunham: ssh.mozilla.com is that same IP for me from the SF office at least
[16:22:26] <brson> aminb: look in html/markdown.rs, find_testable_code fn
[16:22:32] <brson> aminb: that parses out the test cases from docs
[16:22:36] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[16:22:47] *** Joins: c0170 (c0170@moz-4stj9o.cable.virginm.net)
[16:22:51] <brson> acrichto: ok, if there are no changes then no beta
[16:23:43] <aminb> brson: that's really helpful, thank you!
[16:23:47] <brson> np
[16:25:58] <edunham> acrichto, brson #servicedesk pointed me at #moc for the question, and they said the ip hasn't changed since it was set up... so we should be good to hardcode that IP and just fix it later if they change for unexpected reasons
[16:26:34] <acrichto> edunham: nice!
[16:30:36] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[16:31:05] <Gankro> nmatsakis: You have been officially thrown under the bus :)
[16:31:16] <brson> bluss: tagged your issue
[16:31:41] <bluss> brson: great!
[16:31:51] <brson> #rust is back above 1k users
[16:32:12] <steveklabnik> woo
[16:34:50] *** Quits: blank_na1e (blank_name@moz-etm8up.mi.frontiernet.net) (Ping timeout: 121 seconds)
[16:38:29] *** Quits: vmx (vmx@moz-au1ueg.dip0.t-ipconnect.de) (Quit: Leaving)
[16:40:46] <carllerche> I had an idea for exporting cfg attributes from crates: https://internals.rust-lang.org/t/pre-rfc-crate-defined-cfg-attributes/2154
[16:40:54] *** Joins: Guest38 (textual@moz-4hh.6p3.217.74.IP)
[16:41:15] *** Joins: blank_name (blank_name@moz-tmq.fli.183.192.IP)
[16:42:11] *** Quits: Rym (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[16:47:04] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[16:53:15] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Ping timeout: 121 seconds)
[16:53:54] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[16:53:54] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[16:54:11] *** Quits: mib_iudkuo (Mibbit@moz-g6k.oht.161.46.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:57:09] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[16:58:03] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[16:58:56] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Ping timeout: 121 seconds)
[16:59:11] <sfackler> acrichto: so, it appears that Linux/OSX return EWOULDBLOCK aka EAGAIN after a read/write timeout, but Windows returns WSAETIMEDOUT. We map EWOULDBLOCK to ErrorKind::WouldBlock, and don't map WSAETIMEDOUT to anything though the obvious thing to map it to would be ErrorKind::TimedOut
[16:59:30] <sfackler> it seems bad to have the timed out condition behave differently on windows vs unix
[16:59:47] <sfackler> but I'm also not sure how much "creative" translation we should be doing from error codes
[16:59:50] <acrichto> sfackler: I think it's fine for the precise error to differ, that already happens in many other APIs
[16:59:59] <acrichto> sfackler: I'd add the mapping of WSAETIMEDOUT => TimedOut
[17:00:07] <acrichto> sfackler: and then the tests can just test for one of a number of error kinds
[17:00:14] <acrichto> other TCP/UDP tests already do stuff like this
[17:00:42] <sfackler> ok
[17:00:50] *** Quits: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[17:01:23] <sfackler> seems like somewhat of an unfortunate platform dependence hazard :(
[17:01:33] <sfackler> I guess we can note it in the set_foo_timeout docs
[17:01:55] <acrichto> sfackler: yeah, but this is nothing new
[17:02:06] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[17:03:57] *** Quits: Jesin (Jesin@moz-a3uhsd.fios.verizon.net) (Quit: Leaving)
[17:06:41] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[17:08:16] <carllerche> in what cases does a linux API return ErrorKind::TimedOut?
[17:09:06] <sfackler> it's not clear to me
[17:09:36] <sfackler> the read(3) manpage seems to state that ETIMEDOUT should be returned if you run into a read timeout, and EAGAIN is only used in nonblocking mode
[17:09:42] <sfackler> but that is definitely not the case in reality
[17:10:40] *** Quits: Guest38 (textual@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:10:43] *** Quits: det (chris@moz-9klsea.lv.cox.net) (Connection closed)
[17:10:58] *** Joins: det (chris@moz-9klsea.lv.cox.net)
[17:12:05] *** Quits: brson (brson@moz-d18.tb2.56.172.IP) (Connection closed)
[17:12:18] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[17:12:44] *** Joins: Jesin (Jesin@moz-a3uhsd.fios.verizon.net)
[17:13:42] *** zz_kimundi is now known as kimundi
[17:14:01] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[17:14:16] *** Joins: Guest38 (textual@moz-4hh.6p3.217.74.IP)
[17:14:39] *** Quits: goyox86 (textual@moz-qfs.570.70.83.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:14:55] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[17:15:03] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[17:17:22] *** chmanchester|afk is now known as chmanchester
[17:19:01] *** Quits: Jesin (Jesin@moz-a3uhsd.fios.verizon.net) (Quit: Leaving)
[17:19:14] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[17:23:56] *** Joins: insmo (Mibbit@moz-1v0b8m.cust.comxnet.dk)
[17:24:09] *** Joins: goyox86 (textual@moz-qfs.570.70.83.IP)
[17:24:14] *** Joins: Jesin (Jesin@moz-a3uhsd.fios.verizon.net)
[17:24:45] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[17:26:04] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[17:28:15] *** Quits: insmo (Mibbit@moz-1v0b8m.cust.comxnet.dk) (Quit: http://www.mibbit.com ajax IRC Client)
[17:32:56] *** Quits: jga (jga@moz-e4s.t1q.244.77.IP) (Ping timeout: 121 seconds)
[17:35:56] <nmatsakis> aturon: did you plan to do triage today?
[17:36:22] <aturon> nmatsakis: no, triage is now done via subteams
[17:40:09] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[17:42:22] *** Quits: Sho (sho@moz-de5aes.cust.telecolumbus.net) (Quit: Konversation terminated!)
[17:46:10] *** Quits: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[17:46:29] *** Joins: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net)
[17:47:56] *** Joins: kushal (kdas@moz-0bg.hkq.143.114.IP)
[17:48:01] <pnkfelix> nmatsakis: since you were curious about this, here are some stats on how the move-handling (i.e. Lvalue::post_store's) get broken down: https://gist.github.com/pnkfelix/421a732416d54aaad423
[17:48:42] *** Joins: Sho (sho@moz-de5aes.cust.telecolumbus.net)
[17:49:17] <pnkfelix> namely, its not surprising the effect is small: the vast majority of moves are on concrete types that do not implement Drop, and thus they go through the `post_store_no_need_to_drop` path
[17:49:44] *** Joins: jdm (jdm@moz-i5m.05u.207.66.IP)
[17:53:05] <doener> pnkfelix: is that really just moves, or does that include Copy types? 
[17:53:46] <doener> I guess it's the latter
[17:54:24] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[17:54:44] *** Joins: avikpal (avikpal@moz-020.igl.194.117.IP)
[17:56:45] <Gankro> steveklabnik: You're a monster. Just *closing*  gh24928 like that?
[17:56:45] <[o__o]> [Not serious] Language not unstable enough: https://github.com/rust-lang/rust/issues/24928
[17:57:45] *** Joins: arielb1 (Ariel@moz-9he9ta.red.bezeqint.net)
[17:58:28] *** Quits: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP) (Ping timeout: 121 seconds)
[18:01:40] *** Quits: avikpal (avikpal@moz-020.igl.194.117.IP) (Ping timeout: 121 seconds)
[18:08:35] *** Quits: guewen (guewen@moz-ftf7u4.cust.swisscom.ch) (Ping timeout: 121 seconds)
[18:09:46] <pnkfelix> doener: its both moves and copies, but all the copies end up in the `post_store_no_need_to_drop` line
[18:11:29] <doener> pnkfelix: ok, thought so
[18:12:45] <doener> pnkfelix: just wondered whether you were saying that the majority there is on types that implement neither Drop nor Copy
[18:13:05] *** Joins: chc4 (chc4@moz-pdo0at.ma.comcast.net)
[18:13:23] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[18:13:23] *** ChanServ sets mode: +o pcwalton
[18:13:43] <pnkfelix> doener: Oh I see.  No I think its all the types that do not implement `Drop` (the superset of those that impl Copy)
[18:17:36] *** Quits: blank_name (blank_name@moz-tmq.fli.183.192.IP) (Ping timeout: 121 seconds)
[18:22:12] *** Quits: summerlight_ (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[18:23:58] *** Joins: blank_name (blank_name@moz-fc8n1s.mi.frontiernet.net)
[18:24:57] *** Quits: Quxxy (chatzilla@moz-0nv.jkp.167.59.IP) (Ping timeout: 121 seconds)
[18:26:02] *** Joins: avikpal (avikpal@moz-6n1.loq.194.117.IP)
[18:29:54] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[18:30:47] *** Quits: avikpal (avikpal@moz-6n1.loq.194.117.IP) (Connection closed)
[18:31:27] *** Joins: brson (brson@moz-48fqub.res.rr.com)
[18:31:27] *** ChanServ sets mode: +o brson
[18:33:41] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[18:38:19] *** Quits: goyox86 (textual@moz-qfs.570.70.83.IP) (Ping timeout: 121 seconds)
[18:38:43] <brson> https://internals.rust-lang.org/t/regression-report-stable-2015-05-15-vs-nightly-2015-05-28/2157
[18:40:32] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[18:41:02] <brson> eddyb: ^
[18:41:31] <eddyb> #[repr(packed)], by any chance?
[18:42:34] <eddyb> brson: that looks pretty good as far as I'm concerned, thanks!
[18:42:45] <brson> #[packed] is the only reported regression
[18:43:11] <eddyb> playbot: #[repr(packed)] struct Foo(i32, i32);
[18:43:13] -playbot- ()
[18:43:17] <acrichto> brson: yeah that was known when that went in, I'm kinda surprised it broke 3 crates :\
[18:43:18] <eddyb> playbot: #[packed] struct Foo(i32, i32);
[18:43:19] -playbot- ()
[18:43:19] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[18:43:24] <acrichto> woulda expected that to be a little smaller
[18:43:30] <eddyb> it wasn't deprecated beforehand?
[18:43:37] <steveklabnik> Gankro: hehe <3
[18:43:43] <eddyb> playbot: #[this_isnt_a_thing] struct Foo(i32, i32);
[18:43:44] -playbot- <anon>:9:9: 9:29 error: The attribute `this_isnt_a_thing` is currently unknown to the compiler and may have meaning added to it in the future
[18:43:44] -playbot- <anon>:9         #[this_isnt_a_thing] struct Foo(i32, i32);
[18:43:44] -playbot- output truncated; full output at: http://bit.ly/1Hyz90C
[18:43:45] <acrichto> eddyb: it was mistakenly whitelisted
[18:43:49] <eddyb> acrichto: ouch
[18:44:00] <eddyb> I wonder if those crates actually worked
[18:44:09] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[18:44:40] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[18:52:50] *** Joins: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP)
[18:55:09] *** Quits: brson (brson@moz-48fqub.res.rr.com) (Quit: leaving)
[18:56:29] *** Quits: Havvy (Havvy@moz-epv20b.wa.comcast.net) (Connection closed)
[18:56:55] *** Joins: Havvy (Havvy@moz-2v0ao2.5euu.k9bm.0007.2601.IP)
[18:57:50] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[19:01:12] <nmatsakis> pnkfelix: those stats are fascinating
[19:01:18] <nmatsakis> pnkfelix: libcore is super unbalanced
[19:02:03] <nmatsakis> pnkfelix: seems clear why there was no "faster LLVM" benefit
[19:02:44] <nmatsakis> pnkfelix: still seems like there is roughly 2/3 of cases where we think we can do better when all is said and done, at least in libsyntax, right?
[19:03:20] *** Quits: Guest38 (textual@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:03:20] <pnkfelix> Yes to all.  I LOL'ed upon seeing liibcore data
[19:04:07] *** Quits: TheHydroImpulse (TheHydroImp@moz-r25mqk.ed.shawcable.net) (Ping timeout: 121 seconds)
[19:04:22] <nmatsakis> eddyb: so I extended the const_fn feature gate to trigger also for uses  of const fns
[19:04:33] <nmatsakis> eddyb: this had problems with your macro because the macro expanded to a use of a const fn
[19:04:40] <nmatsakis> eddyb: I found it hard to isolate this out from the rest of the echanges
[19:04:43] <nmatsakis> eddyb: so for now I just reverted that commit
[19:04:53] <nmatsakis> eddyb: we should try to rebase the changes atop, but keeping the macro path 
[19:04:54] <eddyb> nmatsakis: which one?
[19:05:05] *** Quits: chc4 (chc4@moz-pdo0at.ma.comcast.net) (Ping timeout: 121 seconds)
[19:05:09] <eddyb> you reverted *the entire* commit I had?
[19:05:32] <eddyb> nmatsakis: isn't that a failure of stability, if it can't work with macros?
[19:05:44] <eddyb> or maybe you needed an attribute on the macro for it to work?
[19:06:00] <eddyb> I recall seeing such an attribute around, but I forget what it is
[19:07:19] <eddyb> that reminds me, do we use `box` in vec!? if we don't, that's quite limiting
[19:07:43] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[19:07:52] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[19:08:12] <nmatsakis> eddyb: hmm perhaps -- acrichto aturon : can a macro 'opt in' to using feature-gated content?
[19:08:40] <nmatsakis> and if so, what do I do? :)
[19:08:42] <bluss> eddyb: apparently no box
[19:08:46] <eddyb>         $crate::vec::from_elem($elem, $n) // oh, I guess that works...
[19:08:49] <nmatsakis> that is, without requiring the consumers to opt-in
[19:09:23] <nmatsakis> or perhaps I have to modify my feature-gate code to understand the cod was expanded from a macro
[19:09:28] <nmatsakis> which I'm not inclined to do :)
[19:09:41] <eddyb> nmatsakis: if it has to be done, it should be done in a general manner
[19:09:56] <sfackler> nmatsakis: macros defined in libstd are able to bypass API stability - not sure if it can bypass syntax stability as well
[19:10:00] <sfackler> we can make it so probably
[19:10:08] <nmatsakis> well, this is a custom check in rustc
[19:10:10] <eddyb> at most one method call with the span of the expression in question
[19:10:29] <eddyb> nmatsakis: are other custom checks doing something like codemap().can_use_unstable(span)?
[19:10:38] <eddyb> not sure if the method even exists
[19:11:16] <nmatsakis> yeah, I don't know, I've not seen any code doing that, but I guess that'd be the way to refactor it
[19:11:29] *** Joins: TheHydroImpulse (TheHydroImp@moz-r25mqk.ed.shawcable.net)
[19:11:30] <eddyb> oh. the attribute is #[allow_internal_unstable] and the method exists and it's named span_allows_unstable
[19:12:22] <eddyb> nmatsakis: the feature-gate checker actually uses it. see the gate_feature method
[19:12:31] <nmatsakis> hmm, ok :) I'll do that then
[19:12:45] <eddyb> const_fn declarations actually would work in such a macro
[19:13:24] <eddyb> it's just the custom checks outside that feature-gating pass that need an extra condition
[19:13:35] * nmatsakis ponders
[19:14:26] <eddyb> nmatsakis: maybe you want to add a wrapper around emit_feature_err
[19:14:42] <eddyb> nmatsakis: that does all the checking currently specific to the feature-gating pass. and use that in all custom checks
[19:15:36] <nmatsakis> yeah, in general the code in feature-gate.rs should be moved outward, so it can be reused more readily
[19:15:37] <eddyb> tcx.sess.gate_feature("const_fn", span, "Call of a constant function")
[19:16:29] <eddyb> nmatsakis: at least there's a span-based predicate you can use, things have gotten much better since a few months ago :D
[19:17:13] *** Joins: Diggsey (diggsey@moz-9engq5.dsl.pipex.com)
[19:18:47] *** Joins: mib_8qenwf (Mibbit@moz-juv.9o3.252.72.IP)
[19:19:26] *** Joins: Guest38 (textual@moz-4hh.6p3.217.74.IP)
[19:20:07] *** Quits: mib_8qenwf (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:26:57] <Manishearth> Gankro: TURPL-relevant: Be very very very very clear on what our pointers assume, and what not to do when we create raw pointers (eg, don't use an &T when FFI is using the raw pointer, etc etc)
[19:29:01] *** Joins: willem (willem@moz-facs2s.dynamic.upc.nl)
[19:29:29] *** Quits: Jesin (Jesin@moz-a3uhsd.fios.verizon.net) (Quit: Leaving)
[19:29:59] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[19:30:01] *** chmanchester is now known as chmanchester|afk
[19:30:25] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[19:31:14] *** Quits: TheHydroImpulse (TheHydroImp@moz-r25mqk.ed.shawcable.net) (Client exited)
[19:37:04] <SimonSapin> Triage: https://github.com/rust-lang/rust/issues/24593 can be closed
[19:45:02] *** Quits: semarie (semarie@moz-4lmh4m.privacyfoundation.ch) (A TLS packet with unexpected length was received.)
[19:49:51] *** Joins: TheHydroImpulse (TheHydroImp@moz-r25mqk.ed.shawcable.net)
[19:52:52] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[19:56:11] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[19:56:46] <acrichto> nmatsakis: I don't think so, just unstable features as far as I know
[19:57:41] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[19:57:54] <Gankro> Manishearth: plz define what our pointers can do first
[19:58:40] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Ping timeout: 121 seconds)
[19:59:00] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[20:00:27] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[20:00:54] *** Joins: larhat (Adium@moz-vlo5br.cable.virginm.net)
[20:03:02] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Ping timeout: 121 seconds)
[20:03:04] <seanmonstar> acrichto: whatcha think of a --no-run flag for rustdoc --test, that would assume no_run was on each code fence?
[20:03:39] <acrichto> seanmonstar: why not just put no_run on each example?
[20:04:06] <seanmonstar> acrichto: i'd like to rustdoc --test my README.md, but including ```rust,no_run ruins github's syntax highlighting
[20:04:25] *** Joins: mib_oz31cx (Mibbit@moz-juv.9o3.252.72.IP)
[20:16:33] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[20:18:40] *** Quits: bdero (bran@moz-itn.uao.189.18.IP) (Ping timeout: 121 seconds)
[20:20:12] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[20:21:47] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[20:24:20] *** Joins: dmu (dmu@moz-eam.eti.221.66.IP)
[20:25:09] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[20:25:28] *** Parts: dmu (dmu@moz-eam.eti.221.66.IP) ()
[20:32:35] *** Quits: joh (uid13099@moz-2c7ap3.ealing.irccloud.com) (Quit: Connection closed for inactivity)
[20:32:49] *** Quits: blank_name (blank_name@moz-fc8n1s.mi.frontiernet.net) (Ping timeout: 121 seconds)
[20:37:19] *** chmanchester|afk is now known as chmanchester
[20:37:51] *** Joins: achernya_ (quassel@moz-i01917.mit.edu)
[20:38:12] *** Quits: achernya (quassel@moz-8tbl8i.6686.inna.4830.2001.IP) (Ping timeout: 121 seconds)
[20:39:11] *** Joins: blank_name (blank_name@moz-7j6.fli.183.192.IP)
[20:47:07] <Gankro> Wow gh22010 has been in the queue for 4 months, and has never needed a rebase!
[20:47:07] <[o__o]> Make bottom type fallback lazy: https://github.com/rust-lang/rust/pull/22010
[20:47:19] <Gankro> nmatsakis: Any hope of dealing with it?
[20:50:12] <arielb1> Gankro: nobody touched inference
[20:50:14] <arielb1> basically
[20:53:22] <nmatsakis> Gankro: heh, I was looking at that the other day. I'm still not sure what I think of it! :) It's backwards incompat (clearly) though it could be calle a bug fix
[20:53:42] <Gankro> nmatsakis: punt to RFC...?
[20:55:51] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[20:57:25] *** Quits: ytain (ytain@moz-ffpck2.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[20:59:01] *** Joins: James (quassel@moz-q6malq.range86-148.btcentralplus.com)
[21:00:38] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[21:01:39] *** Joins: jooert (johannes@moz-p1f45d.s5d4.oeh7.0908.2a02.IP)
[21:02:25] <nmatsakis> Gankro: hmm, maybe the right bad idea, actually. Given that we also plan to implement type parameter defaults and inference (probably...?) there is certainly room to tweak things here
[21:04:11] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[21:04:12] *** Quits: TheHydroImpulse (TheHydroImp@moz-r25mqk.ed.shawcable.net) (Ping timeout: 121 seconds)
[21:05:45] *** Joins: ctennis (ctennis@moz-vcpg3c.in.comcast.net)
[21:07:03] *** Quits: Guest38 (textual@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:07:24] *** Quits: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net) (Client exited)
[21:08:44] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[21:10:38] *** Joins: Guest38 (textual@moz-4hh.6p3.217.74.IP)
[21:11:14] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[21:12:46] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Ping timeout: 121 seconds)
[21:13:40] *** Quits: arielb1 (Ariel@moz-9he9ta.red.bezeqint.net) (Ping timeout: 121 seconds)
[21:14:46] *** Joins: arielb1 (Ariel@moz-9he9ta.red.bezeqint.net)
[21:16:15] <jooert> Hi! Where are the rust-guidelines (or the style docs) supposed to live now? There is one copy in rust-lang/rust (imported in #22331) and there is the rust-guidelines repo where commits have been merged recently, too...
[21:17:46] *** Joins: _Vi (vi@moz-bbs.vhj.131.104.IP)
[21:19:34] <acrichto> steveklabnik: ^
[21:19:41] *** Quits: jdm (jdm@moz-i5m.05u.207.66.IP) (Quit: )
[21:19:44] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[21:19:59] *** Quits: Kroisse (Kroisse@moz-t75tk5.krois.se) (Quit: Good bye :))
[21:20:37] *** Quits: Guest38 (textual@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:20:41] *** Joins: Guest38 (textual@moz-4hh.6p3.217.74.IP)
[21:23:35] *** Joins: bdero (bran@moz-lbs.91h.47.73.IP)
[21:24:11] <geofft> acrichto: pushed #[allow(dead_code)], can I get an r+ #25784 
[21:24:28] <geofft> I fully expect this to fail again for some dumb reason :( 
[21:24:29] <acrichto> gh25784
[21:24:29] <[o__o]> Reset signal behavior before starting children with std::process: https://github.com/rust-lang/rust/pull/25784
[21:24:36] * acrichto is lazy
[21:24:39] <geofft> :) 
[21:24:45] * acrichto wants r+ from irc
[21:24:55] <geofft> I'm used to the # syntax from other projects, oops 
[21:26:36] <acrichto> ah no worries
[21:26:45] <acrichto> I'm not even sure what bot listens to ghXXXX
[21:26:49] <acrichto> I think it's botbot?
[21:26:56] <acrichto> we have so many bots lol
[21:30:22] *** Quits: kushal (kdas@moz-0bg.hkq.143.114.IP) (Quit: Leaving)
[21:33:30] <edunham> acrichto: that's probably something we could do
[21:34:26] <acrichto> edunham: and lo and behold: http://www.reddit.com/r/rust/comments/37lwlt/announcing_chatbot_an_extensible_platform_for/ :)
[21:39:17] *** Quits: killercup (killercup@moz-723bo4.dip0.t-ipconnect.de) (Quit: Bye)
[21:44:33] *** Joins: genbattle (genbattle@moz-4v0.gkd.16.182.IP)
[21:45:37] *** Joins: jbomo (dkd@moz-uol4mm.fios.verizon.net)
[21:47:26] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[21:47:47] <acrichto> win 14
[21:47:50] <acrichto> gah
[21:48:29] *** Quits: Diggsey (diggsey@moz-9engq5.dsl.pipex.com) (Ping timeout: 121 seconds)
[21:48:40] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[21:49:42] *** Joins: Diggsey (diggsey@moz-9s9ol4.dsl.pipex.com)
[21:52:58] *** Quits: larhat (Adium@moz-vlo5br.cable.virginm.net) (Quit: Leaving.)
[21:59:31] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Connection closed)
[22:00:32] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[22:01:44] <bstrie> I've begun reading rust-highfive's comments in tina fey's voice
[22:04:06] <mcpherrin> is rustc::metadata::loader is the code I want to look at for finding libraries and figuring out what symbols they contain?
[22:04:35] <XMPPwocky> mcpherrin: i seem to recall iti is
[22:04:49] <sfackler> I don't know if i'd describe rustc::metadata as something you'd *want* to look at, but it does contain that information
[22:05:18] <XMPPwocky> lo
[22:05:24] <mcpherrin> My understanding is that rust objects are self-describing via metadata, and so I ought to be able to write a python module that automatically loads and generates bindings to a rust crate
[22:06:42] <acrichto> mcpherrin: metadata::loader primarily just finds libraries, to actually read the metadata you'd want to go through metadata::decoder or metadata::csearch
[22:06:56] <mcpherrin> acrichto: I'd need both, really
[22:07:10] <mcpherrin> I need to find the libraries to decode it, right?
[22:07:36] <acrichto> mcpherrin: yeah
[22:08:33] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[22:08:53] <bstrie> mcpherrin: fascinating, I've never considered using metadata like that before
[22:08:57] <mcpherrin> my endgoal is to write import_rust("std"); std.vec.Vec.new() in python :)
[22:09:16] <bstrie> I hope it works out!
[22:09:20] <XMPPwocky> mcpherrin: can you specify calling nonventions that way
[22:09:22] <XMPPwocky> conventions, even
[22:10:25] <mcpherrin> XMPPwocky: oh yes
[22:10:43] <XMPPwocky> wow, didn't know that about python
[22:10:57] <eddyb> mcpherrin: how do you do generics?
[22:11:21] <mcpherrin> eddyb: that's a good question
[22:11:36] <eddyb> mcpherrin: well, so, if you use librustc you should be able to look stuff up in any compiled crate
[22:11:40] *** Quits: sully (sully@moz-qhc979.emarhavil.com) (Ping timeout: 121 seconds)
[22:11:50] <eddyb> mcpherrin: and even codegen extern "C" wrappers for functions
[22:12:01] <mcpherrin> eddyb: yeah
[22:12:13] <eddyb> but, not all of it is trivial
[22:12:42] <mcpherrin> I think for protoype purposes I won't support generics at all :p
[22:12:46] *** Joins: sully (sully@moz-dmm.ifp.100.208.IP)
[22:12:52] <eddyb> I know how to do interfaces like that in ES6
[22:12:57] <eddyb> does Python have proxies?
[22:12:58] <mcpherrin> IE, version 0 might only support calling extern "C"
[22:13:06] <eddyb> mcpherrin: oh, that's super easy
[22:13:22] <eddyb> mcpherrin: you just need to query the exported symbol name and you're done with the "codegen"
[22:13:28] <mcpherrin> eddyb: pretty much
[22:13:30] <eddyb> you don't have to invoke trans at all
[22:13:37] <mcpherrin> Yeah, that's what I'm thinking
[22:13:57] <mcpherrin> I'd want metadata so I get type safety and can introspect the objects in python
[22:14:39] <Diggsey> for generics: invoke rustc to generate a dynamic library with the monomorphisations you require and then use that :P
[22:15:40] <mcpherrin> Diggsey: pretty much.  But that's outside the "version 0" scope :)
[22:15:59] <eddyb> Diggsey: nah, JIT
[22:17:17] *** Quits: doener (doener@moz-929cn9.unity-media.net) (Ping timeout: 121 seconds)
[22:17:28] <Diggsey> eddyb: that would be harder, though a better solution :P
[22:17:57] <eddyb> it already works
[22:18:01] <eddyb> I believe rusti does actual JIT
[22:18:16] <mcpherrin> Version -1 is calling rust from python with ctypes -- that's easy enough: https://gist.github.com/mcpherrinm/0116cef42d27583bdcde
[22:18:52] <Diggsey> rusti is not exactly stable :P
[22:19:44] <Diggsey> does LLVM JIT allow mixing JITed code with non-JITed code?
[22:23:08] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[22:24:45] *** Joins: jdm (jdm@moz-mu9.06r.98.75.IP)
[22:24:52] <rkruppe_> Diggsey: MCJIT at least can resolve ordinary functions like printf, so the JITed code can call AOTed code and in the opposite direction you have function pointers. So, maybe? I don't know how the AOTed code has to be compiled for MCJIT to find the functions
[22:24:59] *** Joins: doener (doener@moz-929cn9.unity-media.net)
[22:25:02] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[22:25:03] *** rkruppe_ is now known as rkruppe
[22:25:18] <rkruppe> Are you using the old JIT or MC JIT?
[22:26:39] <Diggsey> rkruppe: oh, this was just a hypothetical discussion about using JIT to allow python code to use generics from rust, I'm afraid you missed the start
[22:26:50] <rkruppe> Oh, okay
[22:27:14] <rkruppe> Yeah in principle that should work, though there may be many kinks to work out
[22:28:32] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[22:30:37] *** Joins: summerlight_ (summerlight@moz-99k.2mj.130.121.IP)
[22:32:12] *** Quits: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net) (Connection closed)
[22:37:08] *** Joins: njn (chatzilla@moz-e6r6of.iinet.net.au)
[22:37:45] <steveklabnik> jooert: the copy in src/doc/style is the official one
[22:37:52] <steveklabnik> jooert: i should delete rust-guideilnes
[22:41:10] *** Quits: summerlight_ (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[22:41:12] *** Joins: jga (jga@moz-e4s.t1q.244.77.IP)
[22:41:39] *** Joins: Kxepal (Miranda@moz-j3eqgp.pppoe.mtu-net.ru)
[22:41:40] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[22:42:25] <jooert> steveklabnik: Ah, thanks for clarifying that.
[22:42:45] <steveklabnik> jooert: no problem. we haven't been great about signaling it :/
[22:43:01] <jooert> steveklabnik: :)
[22:43:18] <steveklabnik> aturon and i were talking about improving it and actually linking it from places
[22:43:24] <steveklabnik> we just didn't get around to writing those RFCs :)
[22:43:48] <aturon> indeed. a lot of the API stuff has been RFCed, but not the pure style stuff, and it could use some updating regardless
[22:43:48] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[22:48:28] <jooert> so the recent changes in rust-guidelines should probably be moved to the official style guide, would you like a PR for that?
[22:49:07] <steveklabnik> yes please!
[22:52:17] *** Joins: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net)
[22:52:29] *** Quits: tamird (textual@moz-lje.m54.130.157.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:54:24] <bstrie> nmatsakis: any word on the next installment of the virtual struct blog posts? the last one promised that part two would be coming "later this week" which may have been optimistic :)
[22:55:37] *** Quits: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net) (Connection closed)
[22:55:59] *** Joins: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net)
[22:57:03] *** Joins: Jesin (Jesin@moz-u7t8t5.mobility.exede.net)
[23:00:01] *** Quits: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net) (Ping timeout: 121 seconds)
[23:00:02] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[23:06:48] <jooert> steveklabnik: gh25866
[23:06:48] <[o__o]> Update style guide with latest commits from rust-guidelines: https://github.com/rust-lang/rust/pull/25866
[23:07:08] <steveklabnik> thanks :)
[23:12:59] *** Quits: Guest38 (textual@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:13:27] *** Joins: harrisonclarke (harrisoncla@moz-530kut.eastlink.ca)
[23:14:52] <jooert> do you have any specific plans for improving the style guide?
[23:15:35] <steveklabnik> aturon: ^
[23:16:20] *** Quits: jdm (jdm@moz-mu9.06r.98.75.IP) (Quit: )
[23:17:50] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[23:19:00] *** Parts: jbomo (dkd@moz-uol4mm.fios.verizon.net) ()
[23:22:11] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[23:23:34] *** Quits: nicknikolov (nicknikolov@moz-ko7.r6m.215.90.IP) (Connection closed)
[23:28:13] *** Quits: willem (willem@moz-facs2s.dynamic.upc.nl) (Quit: leaving)
[23:29:32] *** Joins: nicknikolov (nicknikolov@moz-ko7.r6m.215.90.IP)
[23:30:45] *** Quits: blank_name (blank_name@moz-7j6.fli.183.192.IP) (Ping timeout: 121 seconds)
[23:35:13] *** Quits: James (quassel@moz-q6malq.range86-148.btcentralplus.com) (Connection closed)
[23:36:42] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[23:41:31] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[23:41:31] *** ChanServ sets mode: +o pcwalton
[23:42:26] *** Joins: blank_name (blank_name@moz-f80.i34.36.50.IP)
[23:43:15] *** Quits: jooert (johannes@moz-p1f45d.s5d4.oeh7.0908.2a02.IP) (Client exited)
[23:43:18] *** Joins: jooert (jooert@moz-ec67oq.compute-1.amazonaws.com)
[23:44:09] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[23:44:28] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[23:44:28] *** ChanServ sets mode: +o pcwalton
[23:51:08] *** Quits: harrisonclarke (harrisoncla@moz-530kut.eastlink.ca) (Connection closed)
[23:51:29] *** Joins: harrisonclarke (harrisoncla@moz-530kut.eastlink.ca)
[23:53:39] *** Joins: lorenzb (textual@moz-5ev.5pk.144.213.IP)
[23:54:03] *** Quits: Sho (sho@moz-de5aes.cust.telecolumbus.net) (Quit: Konversation terminated!)
[23:54:18] <nmatsakis> bstrie: heh! yes, I should post the 2nd one :) it's mostly written, I just need to revise...
[23:54:28] <nmatsakis> bstrie: I was hoping to get to that this week
[23:54:46] *** Quits: arielb1 (Ariel@moz-9he9ta.red.bezeqint.net) (Quit: Ex-Chat)
[23:55:52] *** Quits: harrisonclarke (harrisoncla@moz-530kut.eastlink.ca) (Ping timeout: 121 seconds)
