[00:00:25] *** Joins: fyolnish (fyolnish@moz-E01DF8EB.uqwimax.jp)
[00:01:36] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[00:01:46] *** Quits: KindOne (KindOne@moz-B276D01E.dynamic.ip.windstream.net) (Ping timeout)
[00:01:49] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[00:02:09] *** Quits: fyolnish (fyolnish@moz-E01DF8EB.uqwimax.jp) (Ping timeout)
[00:02:26] <brendan> olsonjeffery: chrome folks are looking at nacl as a SFI-enforcing machine-dependent compiler to use for safer native code, too -- completely different from pushing it as a web thing
[00:03:14] *** Joins: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net)
[00:03:20] <Vermeille> Oooh okay, thx ChrisMorgan ! it works
[00:03:24] <brendan> seems like a good use of nacl
[00:03:36] <brendan> better SFI-enforcing machine/OS-dependent compiler
[00:03:39] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[00:03:49] *** Quits: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net) (Max SendQ exceeded)
[00:04:13] *** Joins: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP)
[00:04:45] *** Quits: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP) (Max SendQ exceeded)
[00:05:10] *** Joins: KindOne (KindOne@moz-B276D01E.dynamic.ip.windstream.net)
[00:05:41] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[00:05:48] *** Joins: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net)
[00:06:22] *** Quits: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net) (Max SendQ exceeded)
[00:06:47] *** Joins: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP)
[00:07:05] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Quit: Leaving)
[00:07:20] *** Quits: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP) (Max SendQ exceeded)
[00:07:36] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[00:07:37] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[00:07:56] *** Joins: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net)
[00:07:59] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[00:08:02] *** Quits: Denommus (user@40927F8C.80EB1D26.AD91B79.IP) (Quit: going home)
[00:08:22] *** Joins: nkoep (nik@moz-3EEC49EC.pool.mediaways.net)
[00:08:31] *** Quits: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net) (Max SendQ exceeded)
[00:08:46] *** Joins: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net)
[00:09:07] *** Quits: alisdair (textual@BB0336C3.D2943E17.C579BC3E.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:10:49] <cmr> brendan: SFI?
[00:10:59] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[00:15:15] <brendan> Software Fault Isolation
[00:15:19] <brendan> what nacl does
[00:15:20] <cmr> ah
[00:15:29] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Connection reset by peer)
[00:15:38] <brendan> a safety property (fred schneider and ulfar erlingsson, IIRC)
[00:15:51] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[00:15:51] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[00:16:02] <brendan> "for all future reachable program states from this point, nothing of this kind can go wrong"
[00:17:31] *** Quits: nkoep (nik@moz-3EEC49EC.pool.mediaways.net) (Quit: Leaving)
[00:17:40] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[00:17:49] <Jemaclus> hmm. side effect of implementing my PHP code in Rust... got my PHP code from 350s down to 1.5s... heh.
[00:18:07] <Jemaclus> turns out my original PHP code was pretty awful.
[00:18:17] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[00:18:56] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[00:20:36] <o11c> Jemaclus: I have found that "easy" languages tend to encourage bad algorithms
[00:21:04] <Jemaclus> True. Well, to be fair, I wrote the PHP version this morning just as a benchmark thing.
[00:21:15] <Jemaclus> so it's not like this is production code
[00:21:22] <cmr> Jemaclus: is the rust version still faster?
[00:21:26] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[00:21:31] *** flaper87 is now known as flaper87|afk
[00:21:32] <Jemaclus> i need to update the Rust algorithm
[00:21:35] <Jemaclus> but I'll let you know
[00:21:36] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[00:22:32] <o11c> Jemaclus: sounds like most code that ends up in production
[00:22:37] *** Quits: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net) (Quit: Leaving.)
[00:23:20] <Jemaclus> o11c: haha, that's definitely true.
[00:23:26] <Jemaclus> sometimes it just doesn't matter
[00:24:55] <Jemaclus> o11c: in this particular case, 3rd party API calls are the slowest (I can't make an HTTP request any faster, for instance), so for my current production code, any optimizations are gonna be on the microsecond scale and represent < 2% speed increases
[00:25:05] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Quit: Savago)
[00:25:18] <Jemaclus> but I found some offline data sets that I may be able to utilize and skip those API calls, in which case we're talking about closer to 99% increase in efficiency...
[00:25:25] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[00:25:28] <Jemaclus> the trick being optimizing those offline algos :)
[00:26:37] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[00:28:18] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Ping timeout)
[00:28:35] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[00:29:29] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[00:31:07] *** Joins: ksev (DrunkenPan@moz-C6488E57.autodesk.com)
[00:32:55] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[00:33:55] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[00:34:22] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Ping timeout)
[00:35:25] <kmc> I have a situation where the shutdown() method on green::SchedPool deadlocks; my other OS thread is one of the green thread runners and is blocked in uv__epoll_wait
[00:35:28] <kmc> https://pastebin.mozilla.org/4261073
[00:35:37] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[00:35:52] <cmr> acrichto: ^^
[00:35:52] <kmc> (there are also some libuv worker threads but I don't know if those matter)
[00:35:55] <igork> is there crc32 impl somewhere in rust libs? 
[00:36:09] <acrichto> kmc: it's likely that there's still a green thread active somewhere
[00:36:13] <kmc> this happens after some of the threads in the green thread pool have failed
[00:36:16] <cmr> igork: https://github.com/Jurily/rust-zlib
[00:36:40] <acrichto> kmc: that indicates that there's some reason that libuv is still alive which is often a green thread lying around or an I/O handle has leaked
[00:36:49] <kmc> acrichto: yeah; does shutdown() block until all green threads have exited voluntarily?
[00:37:07] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[00:37:15] <acrichto> kmc: it does
[00:37:20] <kmc> oh, that's a real bummer
[00:37:24] <kmc> combined with lack of linked task failure
[00:37:46] <igork> cmr: thanks, i've also made one, but looks like mine sucks :) https://gist.github.com/karablin/8947487
[00:37:47] *** Quits: MrByte (Dartakio@moz-81792842.chy-wy.client.bresnan.net) (Ping timeout)
[00:37:54] *** Quits: chromatic (chromatic@moz-28CBC7F4.hsd1.or.comcast.net) (Ping timeout)
[00:37:56] *** Joins: ryeguy (Mibbit@9C569A0.5D1143CD.E8644521.IP)
[00:37:58] *** Joins: MrByte (Dartakio@moz-81792842.chy-wy.client.bresnan.net)
[00:38:04] <igork> will use that lib
[00:38:06] <kmc> it means that to get clean shutdown I have to find everywhere in Servo that somebody uses 'spawn' and arrange for a message to get delivered to that thread to kill it, even if other threads have failed
[00:38:27] <kmc> this seems like a huge amount of accidental complexity, for a language that supposedly encourages using lots of small threads for local things
[00:38:38] *** Quits: MrByte (Dartakio@moz-81792842.chy-wy.client.bresnan.net) (Quit: )
[00:38:56] *** Joins: fabrice (fabrice@moz-99690620.hinet-ip.hinet.net)
[00:39:42] <eatkinson> rusti: struct Node { x: int, y: int } impl Node { fn setX(&mut self, new_x: int) {self.x=new_x;} fn getY(&self) -> int {self.y} } let mut n = Node{ x: 1, y: 0}; n.setX(n.getY()); n
[00:39:46] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[00:39:57] -rusti- pastebinned 11 lines of output: http://ix.io/as1
[00:40:35] <eatkinson> can someone explain why this ^^ fails the borrow-checker
[00:40:36] <eatkinson> ?
[00:40:50] * eatkinson is confused
[00:41:26] <cmr> eatkinson: setX borrows n mutably, and then you try to borrow it as immutable.
[00:41:30] <cmr> with getY
[00:41:30] <dwrensha> rusti: struct Node { x: int, y: int } impl Node { fn setX(&mut self, new_x: int) {self.x=new_x;} fn getY(&self) -> int {self.y} } let mut n = Node{ x: 1, y: 0}; let y = n.getY(); n.setX(y); n
[00:41:32] -rusti- main::Node{x: 0, y: 0}
[00:41:40] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[00:42:17] <kmc> acrichto: any suggestions? :(
[00:42:57] <eatkinson> cmr: shouldn't rustc desugar it into exactly what dwrensha wrote, or is there some subtle difference?
[00:43:15] *** Joins: sammykim (sammy.kim@5AB4884B.FCC4549.14D5B978.IP)
[00:43:17] <acrichto> kmc: even using linked failure you're still going to have all threads print out that they're dying of linked failure, so it was never clean before. If you don't care about printing then I would recommend dropping one half of each channel so the other end wakes up
[00:43:27] <ryeguy> if i have a struct like: `struct Foo<'a> { a: Thing, b: Thing, c: &'a Thing}`, where `c` is always a ref to one of the 2 other fields, how can I do that? Do i have to use Rc<T>?
[00:44:25] <cmr> ryeguy: it's not possible to hold a borrowed pointer into yourself.
[00:44:31] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[00:44:32] <dwrensha> eatkinson: I think the borrow checker just isn't fancy enough to handle that particular case
[00:44:38] <heftig> eatkinson: because the checker is stoopit. http://smallcultfollowing.com/babysteps/blog/2014/01/09/rvalue-lifetimes-in-rust/
[00:44:57] <cmr> The biggest problem is easy to illustrate: when you move a value of type `Foo`, `c` won't be updated, and will now point to wrong memory...
[00:45:17] <cmr> Holding a borrowed reference to yourself would freeze yourself for eternity.
[00:45:34] <ryeguy> how could i achieve something like this then? would Rc<T> work?
[00:45:41] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[00:46:12] <cmr> it should, yet.
[00:46:17] <cmr> *yes
[00:46:23] <cmr> have all the fields be an Rc<T>
[00:46:29] <cmr> Rc<Thing>, rather
[00:46:33] <ryeguy> right
[00:46:39] <ryeguy> alright, ill try that, ty
[00:47:13] *** Joins: dukeleto (dukeleto@moz-C083E0FB.ptld.qwest.net)
[00:48:10] *** Quits: samdraz (samdraz@690570E4.4697114E.DDC6F5D1.IP) (Ping timeout)
[00:48:45] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[00:49:02] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[00:49:26] <eatkinson> dwrensha, heftig: the weird thing is that if you change it to "n.y = n.x", it works
[00:49:29] <ryeguy> cmr: is `c` supposed to be Rc<Thing> too? 
[00:49:35] <ryeguy> that doenst sound right
[00:49:42] <cmr> ryeguy: yes.
[00:49:57] *** Joins: samdraz (samdraz@690570E4.4697114E.DDC6F5D1.IP)
[00:50:16] *** Quits: alinab (alina@moz-94EAE39D.alinab.org) (Quit: leaving)
[00:50:20] <heftig> eatkinson: what's weird about that? there's no borrowing going on in that case
[00:50:23] <eatkinson> rusti: struct Node { x: int, y: int } let mut n = Node{ x: 1, y: 0}; n.x = n.y; n
[00:50:24] -rusti- main::Node{x: 0, y: 0}
[00:50:25] *** nrc|afk is now known as nrc
[00:51:54] <ryeguy> cmr: so when c wants to borrow a field, do I do a .clone() or a .borrow()?
[00:52:39] *** Joins: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP)
[00:52:41] <eatkinson> heftig: it seemed to me they should at least give the same result, but i guess there are different rvalues
[00:53:45] <heftig> eatkinson: i was mistaken, by the way. it's about the parameters, not the rvalues
[00:54:02] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[00:54:06] *** Joins: alkino_ (alkino@moz-2677AA92.w90-46.abo.wanadoo.fr)
[00:54:18] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[00:54:27] *** Joins: lpy_ (lpy@54B459A1.4439B922.7CEBAF5A.IP)
[00:54:38] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[00:54:39] <heftig> n.setX(...) borrows n mutably for the statement
[00:54:41] <indirect> uhh hmm... can someone explain the feedback I got on this pull request using smaller words? https://github.com/mozilla/rust/issues/10320
[00:54:43] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[00:54:44] *** Quits: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP) (Ping timeout)
[00:54:53] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[00:55:02] <heftig> but at the same time n.getY() tries to borrow it, too, leading to a conflict
[00:55:18] <ryeguy> cmr: nevermind, didn't read the top level docs, thanks again :D
[00:55:20] *** Quits: ryeguy (Mibbit@9C569A0.5D1143CD.E8644521.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:55:29] <eatkinson> heftig: by the time setX is called, shouldn't the borrow from getY have expired?
[00:55:51] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[00:55:52] <heftig> eatkinson: yeah, i think the checker isn't smart enough to realize that
[00:56:00] <indirect> I would like to be able to sort_by and/or cmp() on floats, I did the obvious thing, it was wrong, but now I can't figure out what would or would not be accepted based on the response I got :/
[00:56:12] *** Joins: RJones (RJones@moz-E6F82C3A.maine.res.rr.com)
[00:56:19] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[00:56:37] *** Quits: lpy_ (lpy@54B459A1.4439B922.7CEBAF5A.IP) (Ping timeout)
[00:56:48] *** Quits: Apollo (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[00:57:16] <eatkinson> heftig: ok that's fine. i was just wondering if there's any scenario where &self should outlive the method it belongs to
[00:57:38] <eatkinson> without any explicit-lifetime return values
[00:57:50] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[00:57:50] *** ChanServ sets mode: +ao dherman dherman
[00:58:20] *** Joins: sokomo (sokomo@8293D4FC.93FF164A.408809BB.IP)
[00:58:28] *** Quits: Zylinski (karl@moz-58495553.static.spa.siw.siwnet.net) (Quit: )
[01:00:08] <cmr> indirect: what are you confused by?
[01:00:25] <FreeFull> Haskell has a sort that misbehaves on lists of floats that contain NaN
[01:00:27] *** Joins: fyolnish (fyolnish@moz-1ECB70D2.uqwimax.jp)
[01:01:40] *** Quits: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP) (Quit: Leaving...)
[01:02:09] *** Quits: fyolnish (fyolnish@moz-1ECB70D2.uqwimax.jp) (Ping timeout)
[01:02:15] *** Joins: joebobjoe (Andrew_McK@moz-1D2D613F.ga.at.cox.net)
[01:02:21] <joebobjoe> What is W.R.T.?
[01:02:27] <cmr> joebobjoe: "with regards to"
[01:03:16] <mcpherrin> FreeFull: I assume NaN != NaN causes the trouble?
[01:04:21] <indirect> cmr: I guess I'm confused about what the possible next steps are, since the final response to me seems to say "we should do a major reworking of the ordering and equality traits like I suggested in this ticket"... but there doesn't seem to be consensus on that ticket that that is actually the right thing to do
[01:04:32] <joebobjoe> cmr: Ah.
[01:04:34] *** Parts: joebobjoe (Andrew_McK@moz-1D2D613F.ga.at.cox.net) ()
[01:04:55] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[01:05:06] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:06:22] <indirect> I mean, I would really just like to stop feeling silly whenever I have to implement a custom ordering function every time I have some floats I want to order :P
[01:07:06] <cmr> indirect: I think that issue is the right way forward.
[01:09:02] <indirect> cmr: okay, thanks
[01:09:26] <indirect> it seemed extremely up in the air if anyone agreed with that, eg https://github.com/mozilla/rust/issues/8071#issuecomment-29153453
[01:11:18] <indirect> pretty sure I'm not up to accomplishing that, so I guess it's back to writing my own cmp every time I need it
[01:15:08] * ChrisMorgan is building Firefox for the first time and now wants Rust's build tool to be and look more like mach
[01:15:28] *** Quits: ksev (DrunkenPan@moz-C6488E57.autodesk.com) (Ping timeout)
[01:15:33] <mcpherrin> pre-mach firefox was a bit of a pain to build
[01:15:43] <brandonson> Is there a good way to wrap C++ code for use with rust?  Possibly with the assumption that there's no exceptions coming out of the C++.
[01:15:49] *** Quits: alkino_ (alkino@moz-2677AA92.w90-46.abo.wanadoo.fr) (Ping timeout)
[01:15:51] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[01:15:56] *** Quits: eibwen (kvirc@moz-95DC2A62.dip0.t-ipconnect.de) (Ping timeout)
[01:16:05] <cmr> brandonson: no, not really.
[01:16:05] <mcpherrin> brandonson: rust-bindgen is a tool that can partly automate some stuff
[01:16:14] <mcpherrin> If you have a C interface
[01:17:09] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[01:17:10] *** Quits: Uther (Instantbir@moz-834083A8.hfc.dyn.abo.bbox.fr) (Ping timeout)
[01:19:28] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[01:19:37] <eatkinson> is there any good documentation on how traits work under the hood?
[01:20:15] <eatkinson> specifically, i'd like to know when using a trait would introduce a vtable jump
[01:20:31] <mcpherrin> eatkinson: When you have a trait object, it uses a vtable
[01:21:24] <cmr> <T: SomeTrait> is never virtual.
[01:21:42] <eatkinson> is &SomeTrait always virtual?
[01:21:49] <cmr> Yes.
[01:22:26] <eatkinson> what about *SomeTrait and ~SomeTrait?
[01:23:27] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[01:23:28] <mcpherrin> Yeah, those are virtual
[01:23:33] <cmr> *SomeTrait doesn't exist afaik, all trait objects are virtual, that includes ~SomeTrait
[01:23:50] <eatkinson> awesome, thanks!
[01:23:57] *** Quits: igork (igork@moz-F6DD8476.broadband.corbina.ru) (Quit: Leaving.)
[01:26:35] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[01:26:35] *** ChanServ sets mode: +o tjc
[01:28:48] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[01:30:00] *** Joins: canhtak (canhtak@moz-71C1AFFE.wl.t.ulaval.ca)
[01:32:17] *** Joins: sunfish (chatzilla@moz-C06D9702.mtv1.mozilla.com)
[01:33:47] *** Quits: aklt (aklt@moz-E66E9BCB.u.parknet.dk) (Quit: leaving)
[01:35:59] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[01:38:10] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[01:39:25] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[01:41:50] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[01:42:10] *** Joins: honza_ (honza@2F4A0D37.D725B7F3.2BF60B34.IP)
[01:43:57] *** Quits: honza_ (honza@2F4A0D37.D725B7F3.2BF60B34.IP) (Ping timeout)
[01:44:50] *** Joins: Erik_ (Erik_S@moz-D2F74C7B.hlrn.qwest.net)
[01:46:06] *** Joins: skippydippy (Mibbit@moz-5F4CDB8D.adsl.highway.telekom.at)
[01:46:30] *** Quits: benh (ben@moz-4A0366D2.org) (Ping timeout)
[01:46:30] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[01:47:18] <mrmonday> how do I get a list of files in a directory?
[01:48:06] <mcpherrin> mrmonday: http://static.rust-lang.org/doc/0.9/std/io/fs/fn.readdir.html
[01:48:11] <cmr> mrmonday: http://static.rust-lang.org/doc/master/std/io/fs/index.html
[01:48:17] <cmr> damn, too slow
[01:48:46] <mrmonday> thank you both :)
[01:49:28] <mcpherrin> rusti: let p = Path::new("."); std::io::fs::readdir(p).unwrap()
[01:49:32] -rusti- pastebinned 8 lines of output: http://ix.io/as9
[01:49:51] <mcpherrin> rusti: let p = Path::new("."); std::io::fs::readdir(&p).unwrap()
[01:49:52] -rusti- <anon>:10:33: 11:6 error: type `~[std::path::posix::Path]` does not implement any method in scope named `unwrap`
[01:49:52] -rusti- <anon>:10         let p = Path::new("."); std::io::fs::readdir(&p).unwrap()
[01:49:52] -rusti- <anon>:11     };
[01:49:52] -rusti- error: aborting due to previous error
[01:49:52] -rusti- application terminated with error code 101
[01:49:55] <alan_andrade> IS it possible to iterate over a string and tell if every character is a digit ?
[01:49:58] *** Joins: benh (ben@moz-4A0366D2.org)
[01:50:01] <mcpherrin> rusti: let p = Path::new("."); std::io::fs::readdir(&p)
[01:50:03] -rusti- ~[std::path::posix::Path{repr: ~[111u8, 117u8, 116u8], sepidx: None}]
[01:50:20] <mcpherrin> alan_andrade: I'm going to go with "yes" that is possible
[01:50:34] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[01:51:06] <Eridius> hrm, rust-bindgen doesn't work with the libclang that ships with Xcode. That's rather unfortunate
[01:51:23] <cmr> alan_andrade: http://static.rust-lang.org/doc/master/std/ascii/struct.Ascii.html has an is_digit
[01:52:27] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[01:52:27] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[01:53:23] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Connection reset by peer)
[01:55:12] *** Joins: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP)
[01:56:28] <alan_andrade> rusti: let s = "123"; s.id_digit();
[01:56:29] -rusti- <anon>:10:24: 10:37 error: type `&'static str` does not implement any method in scope named `id_digit`
[01:56:29] -rusti- <anon>:10         let s = "123"; s.id_digit();
[01:56:29] -rusti-                                  ^~~~~~~~~~~~~
[01:56:29] -rusti- error: aborting due to previous error
[01:56:29] -rusti- application terminated with error code 101
[01:56:57] <alan_andrade> :/ I can't find how to use the Ascii struct with a normal string.
[01:57:18] *** Quits: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP) (Ping timeout)
[01:57:52] <kvark> rusti: let s= "123"; s.chars().find(|c| c.is_digit()).is_any()
[01:57:52] -rusti- <anon>:10:23: 11:6 error: type `std::option::Option<char>` does not implement any method in scope named `is_any`
[01:57:52] -rusti- <anon>:10         let s= "123"; s.chars().find(|c| c.is_digit()).is_any()
[01:57:53] -rusti- <anon>:11     };
[01:57:53] -rusti- error: aborting due to previous error
[01:57:53] -rusti- application terminated with error code 101
[01:57:58] <kvark> rusti: let s= "123"; s.chars().find(|c| c.is_digit()).is_some()
[01:58:00] -rusti- true
[01:58:26] <kvark> rusti: let s= "123"; s.chars().find(|c| c.is_digit()).is_none()
[01:58:28] -rusti- false
[01:58:29] <alan_andrade> ahhhhh
[01:59:37] <alan_andrade> rusti: let s="123"; s.chars().all(|c| c.is_digit() );
[01:59:40] -rusti- pastebinned 7 lines of output: http://ix.io/a6T
[02:00:23] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[02:00:24] *** Joins: fyolnish (fyolnish@moz-36EB7688.uqwimax.jp)
[02:01:33] <kvark> wow: ICE
[02:01:49] *** Joins: twi (Adium@moz-53B83326.static.pacific.net.au)
[02:01:57] *** Quits: twi (Adium@moz-53B83326.static.pacific.net.au) (Max SendQ exceeded)
[02:02:08] <alan_andrade> kvark: How do you know you can do `.chars()` on the string ?
[02:02:08] *** Joins: twi (Adium@moz-53B83326.static.pacific.net.au)
[02:02:09] *** Quits: fyolnish (fyolnish@moz-36EB7688.uqwimax.jp) (Ping timeout)
[02:02:27] <alan_andrade> I'm trying to understand why I couldn't realize that with the documentation
[02:02:31] <kvark> http://static.rust-lang.org/doc/master/std/str/trait.StrSlice.html#tymethod.chars
[02:02:49] <alan_andrade> oh
[02:03:03] <kvark> cmr: did you see that? last rusti comand produced ICE
[02:03:11] <alan_andrade> because it implements a trait called StrSlice
[02:03:15] <kvark> yep
[02:03:27] <cmr> kvark: known issue.
[02:03:28] <sam113101> what's ICE?
[02:03:29] <alan_andrade> appreciate it man.
[02:03:38] <cmr> sam113101: Internal Compiler Error
[02:03:39] <kvark> Internal Compiler Error
[02:03:52] <cmr> sam113101: bad things that should never happen, they're a bug in the compiler.
[02:04:04] *** Quits: gimpf (gimpf@moz-B9D88B00.adsl.highway.telekom.at) (Quit: Leaving.)
[02:04:04] <kvark> alan_andrade: I did nothing :) good luck learning Rust!
[02:04:26] <sam113101> (  ;____;)
[02:04:30] <alan_andrade> thanks, I need that ! haha
[02:04:51] <kvark> alan_andrade: please pretend you didn't see that ICE, will patch it ASAP, I hope...
[02:05:11] <kvark> s/will/we'll/
[02:05:13] <alan_andrade> This is the first time I use rust
[02:05:15] <alan_andrade> i
[02:05:33] <cgaebel> I think that's a sign of good luck
[02:05:40] <cgaebel> ICEing a compiler the first time you use it
[02:05:44] <kvark> lol
[02:05:57] <alan_andrade> I know it deserves more love from the community though. I heard it's hosted in a developer laptop.
[02:05:58] <kvark> maybe he's got a talent for finding bugs!
[02:06:13] <cgaebel> yeah it's on poor strcat's lappy
[02:06:14] <alan_andrade> Segmentation faults I do too
[02:06:22] <cgaebel> that's awesome
[02:06:35] <cgaebel> may you find all our bugs... so people using 1.0 don't have to
[02:06:45] <kvark> cgaebel: I feel bad for strcat, we should definitely find a better home for our little rusti pet
[02:06:54] <alan_andrade> but those are my fault :(  I posted a meme yesterday, I was laughing so hard
[02:07:01] <cgaebel> kvark: yeah I can't believe mozilla doesn't have servers lying around
[02:07:20] <alan_andrade> Bad luck Brian: Codes in Rust. Segmentation Fault.
[02:07:21] <alan_andrade> haha
[02:07:23] <cmr> brson: ^ ?
[02:07:37] <cmr> (re: rusti, not re: bad luck brian)
[02:07:55] <alan_andrade> sorry about that noise
[02:08:01] *** Quits: dmac1 (Adium@moz-99EF2EE6.hfc.comcastbusiness.net) (Quit: Leaving.)
[02:08:04] <cmr> it's fine
[02:08:09] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[02:08:19] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[02:08:27] <kvark> cgaebel: it's not even about the physical servers, there is plenty of virtual space to use, I suppose
[02:08:40] <jeaye> cmr: bad luck brian works, too
[02:08:44] <cgaebel> that "virtual space" lives on real servers..
[02:09:01] <cgaebel> I just never pictured mozilla as hardware-starved
[02:09:04] <kvark> alan_andrade: you can also use http://www.compileonline.com/compile_rust_online.php
[02:09:31] <cmr> IIRC, the issue was getting a stable linux versino that had the necessary cgroups and namespace support, as well as firewalling it.
[02:09:34] * kvark has never pictured mozilla as hardware-anything
[02:09:48] <cmr> etc
[02:10:35] <cgaebel> can't you just chuck it in a virtualbox or something?
[02:10:58] *** Quits: astroch (astroch@moz-63EC1C61.hsd1.va.comcast.net) (Ping timeout)
[02:10:59] <kvark> rusti: /*kvark pets rusti*/ "Mrrr"
[02:11:01] -rusti- "Mrrr"
[02:11:05] *** Quits: onelson (onelson@moz-DD666EC5.laika.com) (Quit: Leaving.)
[02:11:13] <alan_andrade> I'm learning Rust by translating C into Rust. It has been hard, but I get to learn more about C and how Rust solves C 'problems'
[02:11:33] <cmr> rusti: botsnack
[02:11:34] -rusti- <anon>:10:9: 10:17 error: unresolved name `botsnack`.
[02:11:34] -rusti- <anon>:10         botsnack
[02:11:34] -rusti-                   ^~~~~~~~
[02:11:35] -rusti- error: aborting due to previous error
[02:11:35] -rusti- application terminated with error code 101
[02:11:37] <cmr> aw
[02:11:39] <brandonson> if strcat ever wants an alternate location for rusti, I have a desktop that almost never gets shut down.  Even have an arch vm I never use any more.
[02:12:03] <cmr> brandonson: it's source is completely open, you could run it yourself, name it brusti :P
[02:12:16] <kvark> rustison
[02:12:32] <cmr> kvark: well, suffixes interfere with tab completion in some clients..
[02:12:54] <cgaebel> brust
[02:12:56] <kvark> alan_andrade: sounds like fun, I hope you'll not need to get into the depth of unsafe{} though
[02:13:12] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[02:13:12] *** ChanServ sets mode: +ao pcwalton pcwalton
[02:13:16] <brandonson> cmr: problem is as far as I can tell it's split into at least two different repos, and I never really figured out what goes where.  Might take another look though.
[02:13:33] <cmr> brandonson: playpen is in Arch's community repo
[02:13:37] <brandonson> I will admit I didn't try all that hard
[02:13:39] <cmr> you just need rust-playpen
[02:13:50] <cmr> (strcat is a TU)
[02:14:05] <brson> cmr: we can probably arrange hosting for rusti
[02:14:16] <brandonson> cmr: TU?
[02:14:26] <cmr> brandonson: Trusted Users, they are the maintainers of the community repository.
[02:14:32] <cmr> (in arch)
[02:15:03] <kvark> I wonder if we can have multiple rusti instances, and have them talk to each other, learn from each other, and maybe eventually taking over rust community support
[02:15:27] *** Joins: mib_ytcwn3 (Mibbit@moz-7AD13335.hsd1.va.comcast.net)
[02:15:31] *** Joins: isaacd (quassel@moz-6902374D.dhcp.oxfr.ma.charter.com)
[02:15:41] <o11c> rustilite: will it happen?
[02:15:42] -rustilite- <anon>:1:15: 1:16 error: unknown start of token: ?
[02:15:42] -rustilite- <anon>:1 will it happen?
[02:15:42] -rustilite-                        ^
[02:15:42] -rustilite- application terminated with error code 101
[02:16:23] <sp3d> kvark: bots must not respond to NOTICE messages
[02:16:33] <sp3d> so interbotular communication is unlikely
[02:16:40] <kvark> rustilite: "rusti: 0xdeadbeef"
[02:16:41] -rustilite- <anon>:1:1: 1:20 error: expected item but found `"rusti: 0xdeadbeef"`
[02:16:41] -rustilite- <anon>:1 "rusti: 0xdeadbeef"
[02:16:41] -rustilite-          ^~~~~~~~~~~~~~~~~~~
[02:16:41] -rustilite- application terminated with error code 101
[02:16:50] <mcpherrin> sp3d: well, bots COULD respond to NOTICEs
[02:16:54] *** Joins: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP)
[02:16:59] <mcpherrin> If they really wanted.
[02:17:31] *** Quits: mib_ytcwn3 (Mibbit@moz-7AD13335.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[02:17:38] <o11c> mcpherrin: by policy they *don't*
[02:17:40] <cmr> kvark: rustilite needs a fn main etc.
[02:17:44] <kvark> eh
[02:17:47] <cmr> kvark: it's rusti, but without the main wrapper.
[02:18:00] <cmr> rusti: println!("rustilite: 123")
[02:18:02] -rusti- rustilite: 123
[02:18:02] -rusti- ()
[02:18:19] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:18:21] *** eatkinson is now known as eatkinson-away
[02:18:30] *** eatkinson-away is now known as eatkinson
[02:18:43] <kvark> rustilite: fn main() {println!("rusti: woof");}
[02:18:44] -rustilite- rusti: woof
[02:19:03] <ChrisMorgan> Good, two little compliant bots.
[02:19:32] *** Quits: Armavica (virgile@moz-AD428ED7.ens.fr) (Ping timeout)
[02:19:49] <kvark> rusti: "rustilite: fn main() {println!(\"rusti: \\\"we need to go deeper\\\"\");}"
[02:19:51] -rusti- "rustilite: fn main() {println!(\"rusti: \\\"we need to go deeper\\\"\");}"
[02:19:51] <mcpherrin> o11c: Oh, I didn't realize it was a policy.  Where's that documented?
[02:20:02] <kvark> shoot
[02:20:17] <kvark> I give up
[02:20:26] *** eatkinson is now known as eatkinson-away
[02:20:39] <ChrisMorgan> kvark: good, 'cos it doesn't look like you'll get away with it.
[02:20:42] <kvark> rusti: println!("rustilite: fn main() {println!(\"rusti: \\\"we need to go deeper\\\"\");}")
[02:20:42] -rusti- <anon>:10:18: 10:93 error: invalid format string: expected `}` but found `!`
[02:20:42] -rusti- <anon>:10         println!("rustilite: fn main() {println!(\"rusti: \\\"we need to go deeper\\\"\");}")
[02:20:42] -rusti-                            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[02:20:42] -rusti- error: aborting due to previous error
[02:20:44] -rusti- application terminated with error code 101
[02:20:58] *** eatkinson-away is now known as eatkinson
[02:21:00] <o11c> mcpherrin: http://en.wikipedia.org/wiki/List_of_Internet_Relay_Chat_commands#NOTICE
[02:21:11] <kvark> ok, rusti, let's go to a private room, we need to talk
[02:21:43] <o11c> I *really* wish rusti would print errors directly in private ...
[02:21:43] *** Joins: astroch (astroch@3E68533D.10591AD7.DDE5D3F6.IP)
[02:21:46] *** eatkinson is now known as eatkinson-away
[02:22:01] <ChrisMorgan> kvark: rusti responds to PMs.
[02:22:01] <o11c> having to open links all the time is sad
[02:22:16] *** Quits: dmac (dmac@moz-94F55C3.hfc.comcastbusiness.net) (NickServ (GHOST command used by dmac1))
[02:22:22] *** Joins: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net)
[02:22:42] <mcpherrin> o11c: the problem is rusti would get bogged down by flood protection
[02:22:58] <kvark> here we go!
[02:22:58] <kvark> rusti: println!("{}", "rustilite: fn main() {println!(\"rusti: \\\"we need to go deeper\\\"\");}")
[02:23:00] -rusti- rustilite: fn main() {println!("rusti: \"we need to go deeper\"");}
[02:23:00] -rusti- ()
[02:23:16] <kvark> cmon rustilite, wake up! eh :(
[02:23:25] <mcpherrin> o11c: Ah, so it does say that in the RFC.  Well that's less fun :)
[02:23:37] <mcpherrin> I don't think I've ever actually seen any other bot use NOTICE though
[02:23:41] *** Quits: astroch (astroch@3E68533D.10591AD7.DDE5D3F6.IP) (Ping timeout)
[02:23:58] *** jorendorff_away is now known as jorendorff
[02:23:59] <cmr> mcpherrin: lots of people ignore the IRC specification.
[02:24:09] *** Quits: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net) (Ping timeout)
[02:24:09] <cmr> including most people who write clients and servers...
[02:24:16] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[02:24:17] *** Joins: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net)
[02:24:28] *** Joins: astroch (astroch@3E68533D.10591AD7.DDE5D3F6.IP)
[02:24:37] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[02:24:49] *** Quits: vertexclique (vertexcliq@EA0561D3.A44700E6.1826D296.IP) (Ping timeout)
[02:25:02] *** pmoore is now known as pmoore|away
[02:25:20] *** Joins: vertexclique (vertexcliq@CBC91E36.762BDE03.1826D296.IP)
[02:25:27] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[02:26:25] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[02:26:26] *** Joins: eholk_ (eholk@moz-F70D5031.hsd1.in.comcast.net)
[02:27:15] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[02:28:37] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[02:30:03] <o11c> mcpherrin: well, not *infinite*, obviously
[02:30:51] <o11c> cmr: incidentally, for many standards, a fully-compliant implementation is necessarily full of security holes ...
[02:31:17] <cmr> o11c: I don't know of any such problems with IRC
[02:32:43] *** Quits: kvark (Mibbit@9A8A5739.49975FB2.AE2D72A6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:34:45] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[02:35:25] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[02:35:46] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[02:36:31] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[02:37:38] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[02:38:51] *** Quits: skippydippy (Mibbit@moz-5F4CDB8D.adsl.highway.telekom.at) (Quit: http://www.mibbit.com ajax IRC Client)
[02:39:08] *** Quits: lurk_ (chatzilla@moz-F088D030.hsd1.in.comcast.net) (Ping timeout)
[02:41:10] <mcpherrin> cmr: well I've written a bunch of IRC code and I've never read the spec...
[02:41:12] <mcpherrin> cmr: so yeah.
[02:41:25] <mcpherrin> code-by-poke-the-server
[02:42:04] <cmr> yup.
[02:42:11] <cmr> mcpherrin: you are part of the problem :)
[02:42:13] *** Parts: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) ()
[02:42:37] <ChrisMorgan> If by "the spec" you mean RFC 1459—no one follows that spec any more.
[02:42:59] *** Joins: future_horizons (Mibbit@D43271B6.278C2F23.97BBD552.IP)
[02:43:23] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[02:43:44] <future_horizons> I want to call - Process::new(prog, *args, options) - and capture any errors and handle them rather than it haulting with try{}. "cannot determine a type for this bounded type parameter: unconstrained type - println!("result :{:?}", result);
[02:43:47] <ChrisMorgan> e.g. RFC 1459 limits nicknames to nine characters.
[02:43:53] *** Quits: dukeleto (dukeleto@moz-C083E0FB.ptld.qwest.net) (Ping timeout)
[02:45:07] <cmr> ChrisMorgan: no, the newer rfcs.
[02:45:10] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[02:45:18] *** Quits: astroch (astroch@3E68533D.10591AD7.DDE5D3F6.IP) (Ping timeout)
[02:45:25] <cmr> I think they're in the three thousands
[02:45:29] * cmr doesn't feel like looking
[02:45:30] <brandonson> Is there a list of rustc exit codes somewhere?  Or am I better off just going with 'non-zero means failure'?
[02:45:30] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[02:45:39] <cmr> brandonson: non-zero means failure.
[02:45:42] <mcpherrin> cmr: well nobody uses my IRC code so it's okay ;)
[02:45:45] <cmr> there are no meaningful error codes.
[02:46:52] <ChrisMorgan> cmr: yeah, looks like I should be using RFC 2812 for clients
[02:46:55] *** Joins: bleibig_ (bleibig@moz-B4D9C5AF.hsd1.ca.comcast.net)
[02:47:03] <ChrisMorgan> cmr: but it still has the nine character limit.
[02:47:12] *** Quits: bleibig (bleibig@moz-B4D9C5AF.hsd1.ca.comcast.net) (Ping timeout)
[02:47:12] *** bleibig_ is now known as bleibig
[02:47:29] *** Quits: azakai (alon@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[02:47:43] *** Quits: John-Galt (kris@moz-882434A3.hsd1.or.comcast.net) (Ping timeout)
[02:47:43] *** Quits: kvanb (kvanb@EE387284.30385D4F.1611EE05.IP) (Ping timeout)
[02:47:46] *** Joins: John-Galt (kris@moz-882434A3.hsd1.or.comcast.net)
[02:47:50] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Ping timeout)
[02:47:54] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[02:48:04] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[02:49:09] <cmr> ChrisMorgan: iirc there's an in-progress IRC re-specification, organized by authors of some of the better ircd's and service daemons.
[02:49:35] <cmr> http://ircv3.org/ is what I was thinking of
[02:50:37] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Ping timeout)
[02:51:31] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[02:52:28] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[02:53:32] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[02:53:32] *** Quits: kalenedrael (wat@moz-DBB6BE74.zagar.us) (Ping timeout)
[02:54:25] *** Quits: andor (andor@moz-708868D.neferty.me) (Ping timeout)
[02:55:15] *** Joins: andor (andor@moz-708868D.neferty.me)
[02:55:40] *** Quits: sully (sully@moz-45967CBE.emarhavil.com) (Ping timeout)
[02:55:49] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[02:55:56] *** Joins: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP)
[02:56:49] *** Joins: kalenedrael (wat@moz-DBB6BE74.zagar.us)
[02:57:18] <brandonson> can rlib vs dylib be specified at the source level?
[02:57:41] <cmr> brandonson: #[crate_type = "rlib"];
[02:57:56] <cmr> you can even have both, just specify the attribute twice.
[02:58:00] *** Quits: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP) (Ping timeout)
[02:58:01] *** Joins: ksev (DrunkenPan@1865C1F9.ECF92FCA.CDBA6951.IP)
[02:58:18] *** Quits: drbawb (drbawb@moz-444F91EA.wi.res.rr.com) (Ping timeout)
[02:58:59] *** Joins: sully (sully@moz-45967CBE.emarhavil.com)
[02:59:45] <brandonson> cmr: okay. also, how does one import an rlib?  (only an rlib on path, no dylib) should 'extern mod blah;' work?
[02:59:58] *** Quits: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net) (Quit: Leaving.)
[02:59:58] *** Joins: dmac (dmac@moz-94F55C3.hfc.comcastbusiness.net)
[03:00:11] <cmr> brandonson: you want to *forbid* it being a dylib?
[03:00:16] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Connection reset by peer)
[03:00:32] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[03:01:30] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[03:02:12] *** jorendorff is now known as jorendorff_away
[03:03:21] <brandonson> cmr: there isn't a dylib, and I'm trying to link an rlib.  Fairly sure it's on my path, but rustc doesn't seem to think so.
[03:03:47] <cmr> brandonson: you can't link to both rlibs and dylibs, that might be the problem?
[03:04:34] *** Quits: mye (mye@moz-441EF80D.dip0.t-ipconnect.de) (Quit: mye)
[03:05:20] *** Joins: onelson (owen@18CF7301.95770028.5B6BFE7D.IP)
[03:05:41] <brandonson> cmr: as in can't have one lib as an rlib and one as a dylib?  If trying causes ICEs, that'd probably be it
[03:06:02] *** Joins: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com)
[03:06:33] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[03:06:57] <cmr> brandonson: if it's not linking to an rlib that is there, that'd probably be the reason.
[03:06:57] *** Quits: ash_ (ash@15DEC023.DFC68827.9C33A531.IP) (Ping timeout)
[03:07:26] *** Quits: sunfish (chatzilla@moz-C06D9702.mtv1.mozilla.com) (Ping timeout)
[03:08:38] *** Quits: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca) (Input/output error)
[03:09:13] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[03:09:27] *** Joins: devbug_ (quassel@23AC5F12.9D950176.3655BBF5.IP)
[03:09:38] *** Quits: John-Galt (kris@moz-882434A3.hsd1.or.comcast.net) (Ping timeout)
[03:09:41] *** Joins: John-Galt (kris@moz-882434A3.hsd1.or.comcast.net)
[03:10:19] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Ping timeout)
[03:11:03] *** Joins: ash_ (ash@15DEC023.DFC68827.9C33A531.IP)
[03:11:34] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[03:11:37] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[03:12:48] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[03:12:56] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: erickt)
[03:13:00] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[03:13:28] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[03:13:52] *** Joins: ctangent (textual@moz-4B354EF9.hsd1.wa.comcast.net)
[03:14:13] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[03:16:51] *** eatkinson-away is now known as eatkinson
[03:17:17] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[03:17:38] *** Quits: sully (sully@moz-45967CBE.emarhavil.com) (Ping timeout)
[03:19:47] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[03:19:51] *** Quits: Vermeille (Mibbit@moz-FB7A7183.w80-13.abo.wanadoo.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[03:20:07] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[03:20:33] *** Joins: sully (sully@moz-45967CBE.emarhavil.com)
[03:20:50] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[03:21:11] *** Quits: a_m0d (a_m0d@moz-2F294D00.acanac.net) (Quit: Leaving.)
[03:22:58] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[03:25:22] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[03:25:55] *** Joins: astroch (astroch@moz-C18802C0.dhcp.embarqhsd.net)
[03:26:00] <brandonson> is getting an ICE when I do 'rustc -L /on/my/path src/main.rs' a known problem?  quick search says no, but there are lots of ICE bugs...
[03:26:23] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[03:27:14] <ChrisMorgan> brandonson: search by the message.
[03:27:27] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[03:28:20] *** Quits: sokomo (sokomo@8293D4FC.93FF164A.408809BB.IP) (Quit: Read error: Connection reset by peer)
[03:29:16] <sp3d> also make sure you compiled the lib with the same version of the compiler as you're using now
[03:29:33] <sp3d> stale libs have a tendency to cause weird ICEs for now
[03:30:20] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[03:33:21] *** Joins: jherms (jherms@C92C5D48.8253A3FC.22A2FE1F.IP)
[03:34:18] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[03:35:05] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[03:36:24] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[03:36:33] *** Quits: zz_kimundi (kimundi@moz-A91BEDFE.dip0.t-ipconnect.de) (Ping timeout)
[03:36:45] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[03:36:46] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[03:36:47] *** ChanServ sets mode: +ao pcwalton pcwalton
[03:37:26] *** Quits: diverse (diverse@moz-ED94B8D.oc.oc.cox.net) (Quit: WeeChat 0.4.2)
[03:38:09] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[03:39:14] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[03:40:02] *** Joins: zz_kimundi (kimundi@moz-7F6EAE0B.dip0.t-ipconnect.de)
[03:40:14] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[03:40:19] *** zz_kimundi is now known as kimundi
[03:42:52] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[03:42:53] *** Joins: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP)
[03:44:22] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[03:44:35] *** Quits: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP) (Ping timeout)
[03:46:10] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[03:46:49] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[03:47:39] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[03:48:03] *** Joins: jdm (jdm@CA0BC3BB.187B3A7C.7042C455.IP)
[03:48:03] *** ChanServ sets mode: +o jdm
[03:48:57] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:49:26] *** Quits: RJones (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[03:49:42] *** Quits: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP) (Quit: Leaving...)
[03:50:02] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Client exited)
[03:50:28] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[03:52:22] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[03:53:41] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[03:54:18] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:54:25] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[03:55:29] *** Quits: utkarsh (utkarsh@moz-CA9C0A97.members.linode.com) (Ping timeout)
[03:55:32] *** Quits: pcmattman (pcmattman@moz-D9B7D938.net) (Ping timeout)
[03:56:42] *** Joins: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP)
[03:56:46] *** Quits: uberj (uberj@moz-AD308AD7.members.linode.com) (Ping timeout)
[03:56:46] *** Quits: wilson (wilson@moz-5531C57F.wb78.net) (Ping timeout)
[03:57:21] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[03:57:46] *** Quits: yosemite (sam@moz-8CEAB1B0.dasbistro.com) (Ping timeout)
[03:58:20] *** Quits: mythmon (mythmon@moz-AD308AD7.members.linode.com) (Ping timeout)
[03:58:46] *** Quits: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP) (Ping timeout)
[03:58:56] *** Joins: utkarsh (utkarsh@moz-CA9C0A97.members.linode.com)
[03:58:57] *** Quits: liszt (liszt@moz-A0A4C524.reverse.softlayer.com) (Ping timeout)
[03:59:06] *** Quits: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP) (Quit: victorporof)
[03:59:06] *** Quits: Munchor (munchor@moz-8CFC84AD.yourvserver.net) (Ping timeout)
[03:59:11] *** Quits: kkris (kkris@moz-CB70009.yourvserver.net) (Ping timeout)
[03:59:23] *** Joins: kkris (kkris@moz-CB70009.yourvserver.net)
[03:59:38] *** Joins: pcmattman (pcmattman@moz-D9B7D938.net)
[03:59:54] *** Joins: Munchor (munchor@moz-8CFC84AD.yourvserver.net)
[04:00:42] *** Quits: sammykim (sammy.kim@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[04:01:04] *** Quits: snerd (motk@moz-D21A06DF.members.linode.com) (Ping timeout)
[04:01:07] *** Quits: twi (Adium@moz-53B83326.static.pacific.net.au) (Quit: Leaving.)
[04:01:13] *** Joins: yosemite (sam@moz-8CEAB1B0.dasbistro.com)
[04:01:19] *** Quits: ross (r@moz-35D0ADAB.clr.io) (Ping timeout)
[04:01:40] *** Quits: jason_ (jason@moz-EC85D533.members.linode.com) (Ping timeout)
[04:02:08] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[04:02:19] *** Joins: liszt (liszt@moz-A0A4C524.reverse.softlayer.com)
[04:02:24] *** Quits: eholk_ (eholk@moz-F70D5031.hsd1.in.comcast.net) (Quit: eholk_)
[04:03:10] *** Joins: ross (r@moz-35D0ADAB.clr.io)
[04:04:27] *** Joins: snerd (motk@moz-D21A06DF.members.linode.com)
[04:04:31] *** Joins: eholk_ (eholk@moz-F70D5031.hsd1.in.comcast.net)
[04:04:35] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Quit: Leaving.)
[04:04:44] *** Quits: eholk_ (eholk@moz-F70D5031.hsd1.in.comcast.net) (Quit: eholk_)
[04:05:00] *** Joins: jason_ (jason@moz-EC85D533.members.linode.com)
[04:05:34] *** Joins: pongad (Mibbit@moz-7E8AAD2E.res.gatech.edu)
[04:05:44] *** Quits: pongad (Mibbit@moz-7E8AAD2E.res.gatech.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[04:05:49] *** Joins: wilson (wilson@moz-5531C57F.wb78.net)
[04:06:10] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[04:06:23] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[04:07:07] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[04:09:23] *** Joins: sammykim (sammy.kim@5AB4884B.FCC4549.14D5B978.IP)
[04:10:15] *** Joins: mythmon (mythmon@moz-AD308AD7.members.linode.com)
[04:10:31] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[04:11:46] *** Joins: sokomo (sokomo@8293D4FC.93FF164A.408809BB.IP)
[04:14:19] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[04:17:30] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[04:17:59] *** Joins: TheHydroImpulse (androirc@moz-D994E24C.wireless.telus.com)
[04:18:03] *** Quits: TheHydroImpulse (androirc@moz-D994E24C.wireless.telus.com) (Quit: TheHydroImpulse)
[04:18:31] *** Quits: jherms (jherms@C92C5D48.8253A3FC.22A2FE1F.IP) (Ping timeout)
[04:19:51] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[04:22:58] *** Joins: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP)
[04:26:16] *** Joins: Vermeille (Mibbit@moz-FB7A7183.w80-13.abo.wanadoo.fr)
[04:26:25] <Vermeille> Hi again
[04:26:39] <Vermeille> (I should definitely use my vps to stay connected here)
[04:27:02] <Vermeille> How can I make option::unwrap() fail using pattern matching ?
[04:27:54] *** Quits: sokomo (sokomo@8293D4FC.93FF164A.408809BB.IP) (Input/output error)
[04:28:56] *** Quits: jdm (jdm@CA0BC3BB.187B3A7C.7042C455.IP) (Quit: Lost terminal)
[04:30:07] <tjc> Vermeille: what are you trying to do?
[04:30:52] <Vermeille> http://pastebin.com/N17Zhmyi nothing fancy
[04:31:44] <tjc> what error message are you getting?
[04:31:44] *** eatkinson is now known as eatkinson-away
[04:32:03] <Vermeille> task '<main>' failed at 'called `Option::unwrap()` on a `None` value', /root/rust_master/src/libstd/option.rs:152
[04:32:15] <tjc> also, you can use the expect() method on an Option so that you don't have to write out the pattern match on lines 14-17
[04:32:55] <tjc> Wait, where is unwrap being called?
[04:32:57] <tjc> I don't see it in your code
[04:33:25] <Vermeille> Absolutely nowhere \o/
[04:33:43] *** Joins: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP)
[04:33:48] <Vermeille> I didn't even know that unwrap() existed before getting this error
[04:33:50] *** Joins: sokomo (sokomo@8293D4FC.93FF164A.408809BB.IP)
[04:34:08] <tjc> can you paste your entire program?
[04:34:18] <tjc> i.e. including the main() function
[04:36:02] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving.)
[04:36:11] *** Quits: future_horizons (Mibbit@D43271B6.278C2F23.97BBD552.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:36:21] <Vermeille> only relevant funs and the whole main?
[04:36:24] *** Joins: kvanb (kvanb@EE387284.30385D4F.1611EE05.IP)
[04:36:45] *** Joins: jherms (jherms@C92C5D48.8253A3FC.22A2FE1F.IP)
[04:37:11] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[04:37:20] <Vermeille> http://pastebin.com/MM7HFsw8
[04:37:46] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[04:38:53] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[04:39:50] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[04:40:04] <marc_> What does it mean when I get this:
[04:40:13] <marc_> error: value may contain references; add `'static` bound
[04:40:53] <marc_> I'm doing something like: ~MyStruct {a: a} as ~MyTrait
[04:41:03] <mcpherrin> marc_: Your value has & in it, which is only okay if they are &'static
[04:41:18] <Yurume> marc_: a trait object forgets the lifetime so it cannot contain a non-static reference inside.
[04:42:03] <marc_> a is actually Rc<blah>, where blah is ~T in the fn signature
[04:42:07] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[04:42:22] <Yurume> hmm? then `blah` may have a reference.
[04:42:36] <tjc> Vermeille: that's really weird -- it looks like all your julday function is doing is calling a C function
[04:42:55] <marc_> pub fn foo(blah: ~T) -> ~MyTrait: {}
[04:43:03] <Vermeille> tjc: absolutely, it does nothing more than calling a C fun
[04:43:22] <tjc> Vermeille: where is the swe_date_conversion function defined?
[04:43:29] <tjc> I'm wondering if it's literally a C function or if it's a Rust wrapper
[04:44:04] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[04:44:08] <Vermeille> tjc: somewhere in an extern {} block using FFI
[04:44:11] <Yurume> tjc: it can't be since there is no unsafe {}
[04:44:31] <Yurume> oh wait, was the error occurred inside julday?
[04:45:47] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Ping timeout)
[04:45:50] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[04:45:50] *** ChanServ sets mode: +ao dherman dherman
[04:46:22] <Vermeille> http://pastebin.com/ptZrfLCe I added the def of the extern fun
[04:46:52] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[04:47:18] <Yurume> Vermeille: I think the error may have occurred somewhere else, how about verifying that?
[04:47:54] <Yurume> for example, the old way to debugging is putting a println!() before and after each statement :)
[04:48:00] <Vermeille> like where?
[04:48:08] <Vermeille> this is really my whole main()
[04:48:47] <tjc> Vermeille: and you're sure the error happens at line 32 (in your gist) and not, say, 36 or 38?
[04:49:00] <tjc> because the error message (not very helpfully, it's a known bug) prints out the line number where unwrap is defined, not where it's called
[04:49:03] <Yurume> Vermeille: most likely, somewhere inside sweph
[04:49:19] <Yurume> so that's why the full source code is required...
[04:49:40] *** Quits: zmthy (zmthy@moz-C2881CC3.ecs.vuw.ac.nz) (Quit: leaving)
[04:50:15] <Vermeille> wtf, it's actually crashing when I'm matchin... the Result
[04:50:44] <Vermeille> which uses absolutely no Option
[04:50:54] <tjc> it could be crashing inside sweph::Calc
[04:50:57] <tjc> er, sweph::calc
[04:51:54] <Vermeille> Hummm, why would it make an Option crash?
[04:52:10] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[04:52:19] <Vermeille> it's far from impossible, but I don't see why would be an Option implied in this foreign call
[04:52:42] <Yurume> could you show the full source code of sweph?
[04:53:03] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[04:54:25] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[04:54:30] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Quit: Sharp)
[04:55:04] *** Quits: sokomo (sokomo@8293D4FC.93FF164A.408809BB.IP) (Connection reset by peer)
[04:55:05] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[04:55:29] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[04:56:00] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[04:56:21] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[04:56:24] *** Quits: agallego (agallego@moz-6B897026.nyc.res.rr.com) (Quit: Leaving.)
[04:56:26] <Vermeille> yurume: http://pastebin.com/MhA6EZPU
[04:56:31] <Vermeille> definition of calc
[04:56:52] <Vermeille> nothing else is used
[04:57:02] *** Quits: Earnestly (earnest@119EDA00.66A37A5.BFD1ABFD.IP) (Ping timeout)
[04:57:06] <Vermeille> swe_calc() is a C function
[04:57:45] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Quit: Leaving...)
[04:57:48] <tjc> could it be str::from_chars?
[04:58:13] <Yurume> is it possible? it's just err.iter().map(|c| *c).collect::<~str>().
[04:58:24] <tjc> no, probably not
[04:58:47] <tjc> Vermeille: you could try running your executable in gdb and then getting a backtrace
[04:58:53] <tjc> usually that at least provides a useful backtrace
[04:59:16] <Yurume> yeah, compile with -Z extra-debug-info and run gdb.
[04:59:27] <Yurume> breaking at rust_fail will give some backtrace
[05:01:57] *** Joins: agallego (agallego@moz-6B897026.nyc.res.rr.com)
[05:02:39] <Vermeille> error: unknown debug flag: extra-debug-info Hum...
[05:02:47] <Vermeille> whabout -g ?
[05:02:58] *** Joins: sokomo (sokomo@8293D4FC.93FF164A.408809BB.IP)
[05:03:01] <Luqman> Vermeille: yep, it's -g now
[05:04:05] *** Quits: nyux (nyux@moz-1CEE0DD2.aiiane.com) (Ping timeout)
[05:04:17] <Vermeille> The stack trace is absolutely useless, I should have missed something about debug info
[05:04:21] *** Quits: btipling (btipling@moz-D51E0AEB.xen.prgmr.com) (Ping timeout)
[05:04:43] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[05:04:51] <Yurume> Luqman: was that changed very recently?
[05:04:54] <Vermeille> http://pastebin.com/bC5h7zPq
[05:05:12] <Yurume> Vermeille: `rust_fail`, not `fail_rust`.
[05:05:38] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[05:05:39] <Vermeille> :D works better
[05:05:52] *** Joins: nyux (nyux@moz-1CEE0DD2.aiiane.com)
[05:05:59] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[05:06:12] *** Joins: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net)
[05:06:18] <brandonson> is there a way to attempt linkage to one library, then default to another if the first one doesn't exist?
[05:06:32] <brandonson> i.e. try for ncursesw, take ncurses if ncursesw isn't found.
[05:06:53] <Yurume> brandonson: that really has to be done within a configure script, I think?
[05:07:03] <Yurume> as far as I know there is no such feature in rustc.
[05:07:28] <Vermeille> http://pastebin.com/XmZFB1aE
[05:07:42] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[05:07:50] <Vermeille> so it's maybe crashing in println()
[05:07:52] <brandonson> Yurume: probably, but I figured I'd ask just in case.
[05:08:16] <Yurume> Vermeille: huh!
[05:08:41] <Yurume> Vermeille: hmm, wait...
[05:08:47] *** Joins: btipling (btipling@moz-D51E0AEB.xen.prgmr.com)
[05:08:50] <Vermeille> it's crashing in fail!()
[05:08:59] <Yurume> Vermeille: okay, calc has some problem: c_char and char are different (the latter being 4 bytes long).
[05:09:05] <ChrisMorgan> brandonson: you can make it so that you can build it with either, though, e.g. through #[cfg(ncursesw)] or #[not(cfg(ncursesw))], building with --cfg ncursesw.
[05:09:09] <Vermeille> it cannot format `err`
[05:09:30] *** Quits: jherms (jherms@C92C5D48.8253A3FC.22A2FE1F.IP) (Ping timeout)
[05:09:33] <Yurume> Vermeille: so you should really have used let err: ~[u8] = ~[0, ..255]; and use from_utf8 instead of from_chars.
[05:09:34] <Vermeille> wait wat oO ?
[05:10:05] <Yurume> Vermeille: don't forget Rust supports Unicode, that means char should contain one Unicode codepoint (at least 21 bits) :)
[05:10:36] <Yurume> so from_chars() somehow emitted an invalid ~str, that caused println!() (or more accurately, formatter) to fail.
[05:10:45] <brandonson> ChrisMorgan: is there a way to have a #[cfg(...)] affect only a link directive?
[05:10:46] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:10:57] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Ping timeout)
[05:11:06] <Yurume> brandonson: you can do with... some macro voodoo.
[05:11:41] <ChrisMorgan> brandonson: no, duplication only. (Macros can help you with that, $a:attr will accept the likes of #[cfg(ncursesw)].)
[05:12:07] <Yurume> brandonson: e.g. macro_rules! define_ffi(($link:attr) => ($link extern "system" { ... })) #[cfg(a)] define_ffi!(#[...]) #[cfg(b)] define_ffi!(#[...])
[05:12:19] <Yurume> e.g. https://github.com/lifthrasiir/rust-opengles-angle/blob/master/gl2.rs#L1460-L1469
[05:12:26] <brandonson> Yurume, ChrisMorgan: alright, thanks.
[05:12:48] <Yurume> (and I realized I should try to push that change to the upstream)
[05:12:58] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[05:13:13] <Vermeille> yurume: do you have any recommended reading about those encoding stuff? I never properly got it
[05:13:17] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:14:12] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[05:14:24] <Yurume> Vermeille: if you absolutely don't know about Unicode, read http://www.joelonsoftware.com/articles/Unicode.html :)
[05:15:04] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[05:15:22] <Yurume> if you know Unicode but don't know about the specifics, fine, what you need to care of is that there are two distinct "strings", i.e. "byte strings" and "Unicode strings", and Rust ~str only allows for Unicode strings (in the specific encoding, but anyway).
[05:15:45] <ChrisMorgan> &str/~str are UTF-8, by definition.
[05:15:58] <Luqman> Yurume: yep
[05:16:27] <Yurume> many C/C++ APIs only care about byte strings in some unknown encodings or in the same encoding as ~str (UTF-8), so you need to decide how to convert those byte strings into a well-behaved Unicode string used by Rust.
[05:16:42] <Vermeille> Okay, thank you for the link!
[05:16:52] <Yurume> assuming the latter, Rust has a simple conversion function std::str::from_utf8 and friends
[05:17:06] <Yurume> and for the former... I have some library to do that. :) (rust-encoding) 
[05:17:22] <Vermeille> I'm actually really surprised that the returned string by the API is not plain old ASCII
[05:17:44] <Yurume> C API? Rust's string?
[05:18:01] <Vermeille> swe_calc(), my C function
[05:18:07] <Yurume> heh
[05:18:09] <Vermeille> s/my/the/
[05:20:25] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[05:20:38] <Vermeille> what is the "real" name of str?  I guess it's just a shorthand/typedef for something in std::str
[05:21:15] <Yurume> `str` itself is not a real type in Rust, `&str` and `~str` is.
[05:21:16] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[05:21:35] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[05:21:43] <Yurume> and they are currently built-in types provided by the compiler.
[05:22:01] <Vermeille> respectively StrSlice and StrVector?
[05:22:21] <Yurume> no, they are only used to provide additional methods to built-in types.
[05:22:36] <Yurume> &str and ~str themselves are not defined in the standard library.
[05:22:39] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[05:22:55] <Yurume> (though you should consult those traits to learn about methods applicable to strings anyway)
[05:23:17] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[05:24:06] *** Joins: nlminhtl (ignotus@moz-4CB8A1D.site.volia.net)
[05:26:16] <Vermeille> it works \o\  \o/  /o/
[05:26:21] <Vermeille> thank you very much
[05:26:46] <Yurume> great! :)
[05:28:19] <marc_> https://gist.github.com/marcbowes/8950478 - I wrote up my problem
[05:31:23] *** Quits: nlminhtl (ignotus@moz-4CB8A1D.site.volia.net) (Quit: Konversation terminated!)
[05:32:59] <Vermeille> what's the most elegant way to deal with bit flags? in C you usually use #define or enum, since they implicitly convert to int and you can "or" them. What about Rust? enum needs an explicit conversion, what's the prefered way?
[05:33:38] <Yurume> marc_: so you want to have a reference-counted agent which implementation is bounded by some trait?
[05:33:56] <ChrisMorgan> Vermeille: extra::enum_set
[05:34:04] <marc_> I really just want the 4 properties at the top and am looking for guidance on how to achieve it
[05:34:13] <marc_> I'm totally new at this :-)
[05:34:17] <Yurume> marc_: as far as I've tried, you need to constrain Magician to be also Send-able. i.e. fn build_client<T:Magician+Send>(...) {...}
[05:34:28] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[05:35:05] <marc_> Yurume: but then I can't share the magician, right?
[05:35:11] <marc_> Because build_client will move it?
[05:35:43] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[05:36:23] <Yurume> hmm? it doesn't matter, ~MyClient inside ~MyApi: is always accessible for the impls.
[05:36:36] <marc_> As in this:
[05:36:38] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[05:36:42] *** Joins: catilac (catilac@26D4CE9A.F9DF2FD8.E9463AEB.IP)
[05:36:55] <marc_> https://www.irccloud.com/pastebin/bIipVfjV
[05:37:16] <marc_> lets assume building certain kinds of Magicians is *really* expensive and I need to share em
[05:37:34] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[05:37:44] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Quit: )
[05:37:54] <Yurume> ah? that is yet another case: if you want to use Rc for some value, then that value should always be wrapped in Rc. you cannot "optionally" share it with Rc.
[05:38:06] *** Joins: uberj (uberj@moz-AD308AD7.members.linode.com)
[05:38:24] <marc_> Ah I see
[05:38:40] <Yurume> if you want that use case, build_client should accept Rc, either &Rc (and clone() it as need) or Rc (the caller calls clone())
[05:40:27] <marc_> Like this?
[05:40:29] <marc_> https://www.irccloud.com/pastebin/0oVlX6of
[05:41:10] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[05:41:20] <Yurume> marc_: yes.
[05:41:41] <marc_> Thanks a lot Yurume!
[05:41:47] <marc_> That makes a lot of sense
[05:41:48] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[05:42:09] <marc_> Btw, do you think this is a reasonable design? Am I doing something stupid?
[05:42:48] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[05:43:18] <Yurume> I think it is an acceptable design, but I wonder if you are overengineering
[05:43:33] <Yurume> especially when there is only one possible clientt.
[05:43:34] <Yurume> client.*
[05:43:41] <marc_> Well that's not true :-)
[05:43:46] <Yurume> :)
[05:43:49] <marc_> There are 2 main cases I need to solve
[05:43:57] <Yurume> what are you making right now? could you share your experience?
[05:44:06] <marc_> 1 is that the magician is really expensive to setup in some cases because it makes network calls to get resources
[05:44:12] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:44:15] <marc_> 2 is that the client itself goes over the network
[05:44:33] <marc_> The reason I want the build() method to return the trait
[05:44:52] <marc_> Is I want to encourage consumers of this to depend on the trait not the thing that goes over the network, for testing purposes
[05:45:03] *** Joins: Jemaclus (jemaclus@moz-5A4BC30.hsd1.ca.comcast.net)
[05:45:05] <marc_> I don't know if that is a good idea in rust, but it's certainly a good idea in other languages
[05:45:37] <Yurume> ah, so you want to replace some parts that use the networking with a dummy part for the purpose of testability.
[05:45:42] <marc_> Exactly
[05:45:46] *** Quits: Jemaclus (jemaclus@moz-5A4BC30.hsd1.ca.comcast.net) (Client exited)
[05:45:55] <marc_> The client is literally a service client for some webservice
[05:46:29] <Yurume> that makes sense. and so does MyApi? (since both the networking client and domain-specfic logic has to be testable)
[05:46:30] <marc_> The magician is actually an enum of various session managers
[05:46:45] *** Quits: Erik_ (Erik_S@moz-D2F74C7B.hlrn.qwest.net) (Connection reset by peer)
[05:47:03] <marc_> Which is why I need to share it because establishing sessions is expensive
[05:47:14] *** Joins: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net)
[05:47:48] <marc_> I think I'd need to test the implementation of the api trait itself
[05:48:00] <marc_> The client might land up having a bunch of magiciany things injected into it
[05:48:09] <marc_> For example, a T: ConnectionPool
[05:48:31] <Yurume> that sounds like a big API. what API are you making a client for?
[05:48:47] <marc_> aws
[05:48:56] <Yurume> oh!
[05:49:04] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[05:49:06] <Yurume> that... is... really... big. good luck to that!
[05:49:20] <marc_> Lol, thanks. Don't hold your breath.
[05:49:20] <Yurume> (something like boto? :)
[05:49:45] <marc_> Yeah, I guess. Just want to solve my own use case for now, hopefully in a way that is extensible
[05:52:01] <Yurume> not sure how to test such library in general. it may make more sense to use something like fakes3, or to test the equivalence against other AWS library like boto using some hooks.
[05:52:19] <Yurume> (since the AWS server itself is not what we can use easily)
[05:52:23] <Vermeille> how do you cast an EnumSet to its integral value?
[05:53:08] <ChrisMorgan> Vermeille: extra::enum_set::CLike.to_uint
[05:53:41] <Vermeille> damn....... I tried my_set.to_uint()
[05:53:47] *** Quits: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:53:48] <marc_> Yurume: if I expect folk to wrap all the magicians in Rc
[05:53:49] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[05:53:51] <Vermeille> wait
[05:53:54] <Vermeille> it should work
[05:54:03] <marc_> Surely it makes sense to return Rc's as part of the constructor?
[05:54:15] <marc_> Is there a convention for that?
[05:54:16] <ChrisMorgan> Vermeille: hang on, my mistake; that's for the elements.
[05:54:19] <marc_> Or am I overthinking it..?
[05:54:36] <Yurume> marc_: I think so, I have done the similar design in the past and it is quite inevitable.
[05:54:55] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[05:55:01] <marc_> OK, so Trevor's new() would just return a Rc
[05:55:11] <Yurume> there are not many precedents though, and I should look at how other libraries do that (e.g. rust-postgres?)
[05:55:31] <Yurume> for my use case it was a global Screen object for the video game.
[05:55:39] *** Quits: six600110 (six600110@moz-9117A1DE.hsd1.il.comcast.net) (Client exited)
[05:55:39] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[05:56:03] <marc_> OK, so Trevor's new() would just return a Rc
[05:56:05] <marc_> Erk
[05:56:07] <marc_> Ok, thanks
[05:56:21] <Yurume> :)
[05:57:25] <Yurume> Vermeille: I guess my_set.iter().map(|v| 1 << v.to_uint()).sum() is the only way to do that.
[05:57:53] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[05:58:59] *** Quits: samdraz (samdraz@690570E4.4697114E.DDC6F5D1.IP) (Ping timeout)
[05:59:46] *** Joins: pingveno (alevar@moz-544E84DC.cat.pdx.edu)
[06:00:05] *** Joins: samdraz (samdraz@690570E4.4697114E.DDC6F5D1.IP)
[06:00:23] <Vermeille> Ooooooooooooh .sum() \o/ I juste wrote a for loop *__*
[06:00:41] <Yurume> that's a magic of traits! XD
[06:00:57] <Vermeille> The more I learn Rust, the more I love it.
[06:04:57] <Vermeille> Hum, Doesn't CLike define default impl? The compiler complains that my enum does not implement to_uint()
[06:05:47] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[06:06:04] <Vermeille> (when looking at the doc, what shows that a defaul impl exists?)
[06:06:20] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[06:06:34] <Yurume> Vermeille: hmm? it does not have a default impl (though it is easy to define your own).
[06:06:42] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[06:06:42] <ChrisMorgan> Vermeille: CLike is for the *variants*, not EnumSet. That was my mistake.
[06:06:47] <Yurume> yes.
[06:07:40] <Vermeille> Sure, but I suppose that the common pattern is to use it like EnumSet<AnyRustCLikeEnum>
[06:07:45] <Yurume> Vermeille: impl CLike for SomeEnum { fn to_uint(&self) -> uint { *self as uint } fn from_uint(v:uint) -> SomeEnum { unsafe { std::cast::transmute(v) } } } may work.
[06:08:27] <ChrisMorgan> Vermeille: there is no obvious way of converting an EnumSet to or from the bit mask.
[06:08:27] <Vermeille> I'm quite suprised that a C-like enum does not have a default impl for CLike
[06:09:08] <Yurume> hmm, it might have to be `std::cast::transmute(v as u8)` (since the enum size is not guaranteed to be uint, and normally the smallest possible integer type is used).
[06:09:14] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[06:09:44] <Vermeille> ChrisMorgan: what is an EnumSet, internally? isn't it just an int?
[06:09:45] * ChrisMorgan is a little confused by EnumSet
[06:10:01] <ChrisMorgan> Vermeille: `pub struct EnumSet<E> { priv bits: uint }`
[06:10:46] <Vermeille> So I definitely don't see the issue
[06:11:42] <Vermeille> I don't even understand why EnumSet itself does not implement CLike
[06:11:45] <Yurume> we currently lack some machinary around C-like enums, that might be a problem.
[06:12:16] <Yurume> (e.g. there is no #[deriving]-able trait to get all enum variants available)
[06:12:39] <Vermeille> Hum ok
[06:12:48] <ChrisMorgan> Vermeille: because that's not what CLike is—it's for enums, not sets.
[06:13:05] *** Quits: catilac (catilac@26D4CE9A.F9DF2FD8.E9463AEB.IP) (Quit: Linkinus - http://linkinus.com)
[06:13:25] <ChrisMorgan> You can see an example of EnumSet in use in rustc::middle::ty, BuiltinBound et al.
[06:13:55] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[06:14:08] <Vermeille> Okay, I'll give it a look. Well okay, an EnumSet is not thought for C interop
[06:14:11] *** Joins: jherms (jherms@C92C5D48.8253A3FC.22A2FE1F.IP)
[06:14:16] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[06:15:18] <Yurume> Vermeille: in rust-sdl, for example, the Rust interface for SDL_CreateSurface flags uses a vector of enums that are summed into one uint internally.
[06:15:36] <Yurume> it may or may not be acceptable depending on the usage.
[06:16:12] <Vermeille> Okay, it more fits my needs
[06:16:15] <Yurume> but unless you want to store a set of enums compactly, enum sets would be more verbose compared to more simple-minded approaches.
[06:16:25] <Yurume> use your good judgement :)
[06:18:26] <Vermeille> I'm trying to understand "The Rust way" :)
[06:19:08] *** Joins: jamil_1 (kvirc@1770E72C.ABD23C1.F6DA161.IP)
[06:19:26] *** Joins: eddyb (eddy@moz-92B95652.residential.rdsnet.ro)
[06:21:49] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[06:21:50] *** ChanServ sets mode: +o tjc
[06:22:18] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[06:22:47] *** Quits: leafstorm (leafstorm@moz-F57A2464.rh.ncsu.edu) (Ping timeout)
[06:23:02] <ChrisMorgan> I think EnumSet needs work; the current implementation is too hard to use.
[06:23:55] <sfackler> iirc the current implementation was just something made for the compiler that was pulled out into libextra
[06:24:05] <sfackler> it could definitely use a rewrite
[06:24:12] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[06:24:26] *** Quits: jamil_1 (kvirc@1770E72C.ABD23C1.F6DA161.IP) (Ping timeout)
[06:25:18] <Yurume> Vermeille: the Rust way is evolving around :)
[06:27:25] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[06:28:11] <ChrisMorgan> sfackler: it certainly strikes me thus
[06:30:59] *** Joins: twi (Adium@moz-B6CDC237.static.pacific.net.au)
[06:33:30] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[06:34:51] *** Quits: heftig (heftig@moz-B229A8FE.dip0.t-ipconnect.de) (Quit: Quitting)
[06:35:07] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[06:35:13] *** Joins: crail (sid24674@moz-E77DEB21.irccloud.com)
[06:37:22] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: Textual IRC Client: www.textualapp.com)
[06:37:47] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[06:39:13] *** Quits: canhtak (canhtak@moz-71C1AFFE.wl.t.ulaval.ca) (Quit: canhtak)
[06:40:19] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[06:40:20] *** Joins: Ferreus (ferreus@moz-D7FB5BA2.dip0.t-ipconnect.de)
[06:40:39] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[06:41:26] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[06:41:29] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[06:41:32] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Quit: patpat)
[06:43:08] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[06:44:03] *** Quits: kvanb (kvanb@EE387284.30385D4F.1611EE05.IP) (Quit: kvanb)
[06:44:04] *** Quits: jherms (jherms@C92C5D48.8253A3FC.22A2FE1F.IP) (Connection reset by peer)
[06:44:13] *** Joins: kvanb (kvanb@EE387284.30385D4F.1611EE05.IP)
[06:44:14] *** Joins: Jemaclus (jemaclus@moz-5A4BC30.hsd1.ca.comcast.net)
[06:44:21] *** Quits: kvanb (kvanb@EE387284.30385D4F.1611EE05.IP) (Quit: kvanb)
[06:45:23] *** Joins: skade (skade@moz-F3F67608.pools.arcor-ip.net)
[06:45:24] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[06:46:03] *** Quits: Jemaclus (jemaclus@moz-5A4BC30.hsd1.ca.comcast.net) (Client exited)
[06:47:09] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[06:47:57] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[06:48:00] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[06:48:05] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Quit: patpat)
[06:48:50] *** Quits: vertexclique (vertexcliq@CBC91E36.762BDE03.1826D296.IP) (Ping timeout)
[06:49:25] *** Joins: vertexclique (vertexcliq@CBC91E36.762BDE03.1826D296.IP)
[06:50:27] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Client exited)
[06:50:35] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[06:53:09] <Vermeille> okay guys thanks for all :) 8am, time to sleep !
[06:53:55] *** Joins: nidhimj22 (chatzilla@moz-B145F03A.mtnl.net.in)
[06:54:16] *** Joins: chromatic (chromatic@moz-28CBC7F4.hsd1.or.comcast.net)
[06:58:46] *** Quits: chromatic (chromatic@moz-28CBC7F4.hsd1.or.comcast.net) (Ping timeout)
[07:01:09] *** Parts: nidhimj22 (chatzilla@moz-B145F03A.mtnl.net.in) ()
[07:03:05] *** Joins: autra (augustin@moz-BE76895F.fbx.proxad.net)
[07:05:02] *** Quits: voxpopuli (fanservice@71D59995.6A843466.689607DE.IP) (Ping timeout)
[07:06:14] *** Quits: autra (augustin@moz-BE76895F.fbx.proxad.net) (Ping timeout)
[07:06:24] *** Quits: LU324 (weechat@9AF4F288.83671C58.1B5D53D7.IP) (Input/output error)
[07:07:27] *** Joins: LU324 (weechat@9AF4F288.83671C58.1B5D53D7.IP)
[07:08:59] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[07:09:11] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[07:10:51] *** Joins: jackneill (jackneill@moz-89B574C7.pool.digikabel.hu)
[07:15:54] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[07:16:37] *** Parts: sammykim (sammy.kim@5AB4884B.FCC4549.14D5B978.IP) ()
[07:16:49] *** Joins: novabyte (novabyte@ACFCB63D.EEABAC9C.AE02ECA4.IP)
[07:17:07] *** Joins: barosl (barosl@34F62860.E551553C.7544CABF.IP)
[07:17:34] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[07:18:33] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[07:18:54] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[07:19:08] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[07:20:41] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[07:20:56] *** Joins: fabiand (fabiand@moz-C5F87642.adsl.alicedsl.de)
[07:21:04] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[07:22:50] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[07:22:57] *** Quits: santiago (santiago@moz-9406C0DC.socal.res.rr.com) (Ping timeout)
[07:23:04] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[07:24:41] *** Joins: lucian_ (lucian@moz-8408FDFA.cable.virginm.net)
[07:24:46] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Connection reset by peer)
[07:25:48] *** Quits: vertexclique (vertexcliq@CBC91E36.762BDE03.1826D296.IP) (Client exited)
[07:26:06] *** Quits: skade (skade@moz-F3F67608.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:26:27] *** Quits: lucian_ (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[07:26:36] *** Joins: santiago (santiago@moz-9406C0DC.socal.res.rr.com)
[07:29:26] *** flaper87|afk is now known as flaper87
[07:29:58] *** Quits: ebalint (ebalint@moz-BFA5E762.inf.u-szeged.hu) (Ping timeout)
[07:34:32] *** Joins: ebalint (ebalint@moz-BFA5E762.inf.u-szeged.hu)
[07:35:51] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:36:54] *** Quits: StarLight (StarLight@moz-5162F05.dynamic.avangarddsl.ru) (Ping timeout)
[07:37:24] *** Joins: alkino_ (alkino@moz-2677AA92.w90-46.abo.wanadoo.fr)
[07:38:37] *** Joins: vertexclique (vertexcliq@CBC91E36.762BDE03.1826D296.IP)
[07:38:46] *** Joins: jensnockert (jensnocker@moz-4C68E8F4.mobileonline.telia.com)
[07:40:30] *** Quits: ksev (DrunkenPan@1865C1F9.ECF92FCA.CDBA6951.IP) (Ping timeout)
[07:40:49] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[07:41:19] *** Joins: StarLight (StarLight@moz-ABB1AF67.dynamic.avangarddsl.ru)
[07:41:49] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[07:42:41] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[07:43:31] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[07:44:38] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[07:44:51] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[07:46:01] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[07:46:28] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[07:50:17] *** Quits: twi (Adium@moz-B6CDC237.static.pacific.net.au) (Quit: Leaving.)
[07:51:16] *** Joins: marianoguerra (marianogue@moz-78700C36.dip0.t-ipconnect.de)
[07:51:52] <alan_andrade> rusti: let a = "123"; println!("{:?}", a as int);
[07:51:58] -rusti- pastebinned 9 lines of output: http://ix.io/ast
[07:52:21] <alan_andrade> Hmm
[07:52:35] <alan_andrade> How can I convert a string into an integer ?
[07:52:48] <alan_andrade> "123" converts into 123
[07:52:53] *** Joins: alexherbo2 (alexherbo2@moz-2464876C.w90-35.abo.wanadoo.fr)
[07:54:19] *** Quits: vertexclique (vertexcliq@CBC91E36.762BDE03.1826D296.IP) (Client exited)
[07:55:10] <veddan> let i: Option<int> = from_str("123")
[07:55:44] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[07:56:24] <alan_andrade> could it be: let i = from_str::<int>("123") ?
[07:56:49] <alan_andrade> .unwrap()
[07:57:23] <mcpherrin> rusti: let x: int = from_str("23").unwrap(); x
[07:57:27] -rusti- 23
[07:58:38] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[07:58:42] <alan_andrade> Why do you skip the Option<int> ?
[07:58:42] <Kroisse> rusti: from_str::<int>("42").unwrap_or(-1)
[07:58:44] -rusti- 42
[07:59:38] *** Quits: trinary (Adium@moz-D78CD0D5.hsd1.co.comcast.net) (Quit: Leaving.)
[07:59:50] <Kroisse> alan_andrade: it wasn't skipped.
[08:00:20] <veddan> alan_andrade: it's up to you how you want to handle the case where the string is not a number
[08:01:11] <alan_andrade> I see. Thank you guys : )
[08:01:16] *** Quits: ctangent (textual@moz-4B354EF9.hsd1.wa.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:01:24] <Kroisse> from_str("23") returns Option<T>, (compiler doesn't know what T is in this moment) and unwrap() is called on this temporal value
[08:03:02] <Kroisse> and the result of unwrap() is assigned to x, which type is int, so return type of from_str("23") is inferred into Option<int>
[08:03:58] <alan_andrade> Oh wow, that's neat!
[08:04:28] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[08:04:54] <alan_andrade> You explained it perfectly, that's exactly the reason I was confused.
[08:06:04] <eddyb> inference *wizard hat*
[08:06:21] <mcpherrin> Hindley-Milner awww yus
[08:07:04] *** Joins: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP)
[08:09:01] <p1start> I'm having problems with static methods on traits: https://gist.github.com/P1start/eb5527278e2e5adc8644
[08:09:57] *** Quits: eddyb (eddy@moz-92B95652.residential.rdsnet.ro) (Ping timeout)
[08:11:23] *** Joins: eddyb (eddy@EF91BDF3.921A1753.FCAAE698.IP)
[08:11:34] *** Joins: Ms2ger (Ms2ger@4A49FFC8.EA68D5B.F15B0BB3.IP)
[08:11:49] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Quit: Leaving)
[08:12:19] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[08:13:27] *** Quits: eddyb (eddy@EF91BDF3.921A1753.FCAAE698.IP) (Ping timeout)
[08:14:00] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[08:14:20] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[08:14:38] *** Joins: eddyb (eddy@1BF544DF.9065A63B.FCAAE698.IP)
[08:18:38] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[08:21:18] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[08:23:39] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[08:24:03] *** Quits: santiago (santiago@moz-9406C0DC.socal.res.rr.com) (Ping timeout)
[08:24:41] <kimundi> p1start: We actually have the problem in the language atm that you can't explicitly specify the Self type for calling assoziated functions
[08:24:50] <kimundi> p1start: So, you'll have to rely on inference here
[08:25:14] <kimundi> let x: Option<T> = Trait::f()
[08:25:26] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:26:52] *** Joins: vgeddes (vincent.ge@moz-D8D4FE4D.dsl.mweb.co.za)
[08:26:54] <Kroisse> kimundi: it seems that doesn't work because f() returns T rather than Option<T>
[08:26:59] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:27:06] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:27:09] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[08:27:17] <kimundi> err, yeah sorry
[08:27:37] <Kroisse> let x: int = Trait::f(); also doesn't work, but I don't know why
[08:28:37] <kimundi> let x = Trait::f();, but that doesn't work because you have two free type variables "T and Self", and can only specify T by doing "let x: T = Trait::f();"
[08:28:38] *** Quits: jackneill (jackneill@moz-89B574C7.pool.digikabel.hu) (Ping timeout)
[08:29:06] <kimundi> If you really want a f() -> T that is independent of the Self type, then you need to use a workaround
[08:29:18] *** Quits: btipling (btipling@moz-D51E0AEB.xen.prgmr.com) (Ping timeout)
[08:29:27] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[08:29:29] <Yurume> fn f(_: &Self) -> T etc.
[08:29:30] *** Quits: nyux (nyux@moz-1CEE0DD2.aiiane.com) (Ping timeout)
[08:29:46] <kimundi> trait Trait<T> { fn f(_workaround: Option<Self>) -> T {  } }
[08:29:47] *** Joins: nyux (nyux@moz-1CEE0DD2.aiiane.com)
[08:30:21] *** Joins: [squiddy] (squiddy@moz-7B493F09.dip0.t-ipconnect.de)
[08:30:42] <kimundi> Then you can call it as "let x = Trait::<T>::f(None::<Option<T>>);" or so :P
[08:30:52] <p1start> kimundi: would this change if trait static methods could be called on the types that implemented them?
[08:30:57] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:31:02] <kimundi> (We really need that ::<for T> syntax)
[08:31:06] *** Joins: twi (Adium@409D1231.8C274976.A622856D.IP)
[08:31:22] <Kroisse> is it useful that a static method without any Self type in its own signature?
[08:31:35] <kimundi> p1start: Yes, because in that case the type it is called on would determine the Self type
[08:32:06] <p1start> OK, thanks! I'll just use that workaround for now
[08:32:16] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[08:32:47] <kimundi> Kroisse: Sure, if it performs a action realted-to, but not actually using the Self type
[08:33:10] *** Quits: eddyb (eddy@1BF544DF.9065A63B.FCAAE698.IP) (Ping timeout)
[08:33:12] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[08:33:26] <kimundi> Like, a hypotetical trait SizeOf { fn size_of() -> uint }
[08:33:37] *** Joins: eddyb (eddy@688E9026.F7C96DA2.FCAAE698.IP)
[08:33:38] *** Joins: btipling (btipling@moz-D51E0AEB.xen.prgmr.com)
[08:33:52] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:34:34] *** Quits: alexherbo2 (alexherbo2@moz-2464876C.w90-35.abo.wanadoo.fr) (Quit: WeeChat 0.4.3-dev)
[08:34:49] *** Quits: onelson (owen@18CF7301.95770028.5B6BFE7D.IP) (Ping timeout)
[08:34:50] <Kroisse> If the trait has generic arguments?
[08:35:38] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[08:38:42] *** Quits: tiernjo (quassel@moz-21A5F23D.ks.ks.cox.net) (Ping timeout)
[08:39:08] *** Joins: ksev (DrunkenPan@1865C1F9.ECF92FCA.CDBA6951.IP)
[08:39:20] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[08:39:55] *** Joins: ghaering (Instantbir@4DECFBA5.E64A0519.C0DAB1E3.IP)
[08:40:15] *** Quits: Kxepal (Miranda@moz-4232FDEF.pppoe.mtu-net.ru) (Quit: Kxepal)
[08:40:29] *** Joins: Kxepal (Miranda@moz-4232FDEF.pppoe.mtu-net.ru)
[08:41:00] *** Quits: ksev (DrunkenPan@1865C1F9.ECF92FCA.CDBA6951.IP) (Ping timeout)
[08:41:54] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[08:42:05] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[08:42:20] *** Quits: yusukesuzuki (yusukesuzu@moz-43160292.net218219047.t-com.ne.jp) (Quit: Tiarra 0.1+svn-39209: SIGINT received; exit)
[08:42:35] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:42:35] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[08:42:47] *** Joins: yusukesuzuki (yusukesuzu@moz-43160292.net218219047.t-com.ne.jp)
[08:43:05] *** Quits: yusukesuzuki (yusukesuzu@moz-43160292.net218219047.t-com.ne.jp) (Quit: Tiarra 0.1+svn-39209: SIGTERM received; exit)
[08:43:11] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:43:12] *** Joins: yusukesuzuki (yusukesuzu@moz-43160292.net218219047.t-com.ne.jp)
[08:43:14] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:44:21] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[08:45:50] *** Joins: Armavica (virgile@moz-AD428ED7.ens.fr)
[08:47:14] *** Quits: nyux (nyux@moz-1CEE0DD2.aiiane.com) (Ping timeout)
[08:47:14] *** Quits: btipling (btipling@moz-D51E0AEB.xen.prgmr.com) (Ping timeout)
[08:48:33] *** Joins: deggert (deggert@moz-2C16B246.host.de.colt.net)
[08:48:53] *** Joins: nkoep (nik@moz-E78B9424.pool.mediaways.net)
[08:49:26] *** Joins: pilf (pilf@8FA95888.1A994CBC.4B228AD7.IP)
[08:50:29] *** Quits: mark_edward (mark@moz-DCB0B750.lightspeed.cicril.sbcglobal.net) (Quit: Leaving)
[08:51:00] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[08:52:40] *** Joins: ramitos (ramitos@moz-5AC0C94E.netvisao.pt)
[08:52:41] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[08:53:08] *** Quits: twi (Adium@409D1231.8C274976.A622856D.IP) (Quit: Leaving.)
[08:54:22] *** Joins: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[08:54:43] *** Joins: nyux (nyux@moz-1CEE0DD2.aiiane.com)
[08:55:55] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:57:13] *** Joins: btipling (btipling@moz-D51E0AEB.xen.prgmr.com)
[08:57:30] *** Quits: chandler (foo@moz-F990611.mastenbrook.net) (Ping timeout)
[09:00:25] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[09:00:35] *** Joins: heftig (heftig@moz-D746319F.unitymedia.biz)
[09:01:03] *** Joins: chandler (foo@moz-F990611.mastenbrook.net)
[09:03:32] *** Quits: alkino_ (alkino@moz-2677AA92.w90-46.abo.wanadoo.fr) (Ping timeout)
[09:03:43] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[09:06:53] *** Quits: FreeFull (freefull@moz-1883929A.as13285.net) (Quit: )
[09:09:08] *** Joins: doener (doener@moz-C68F600D.unity-media.net)
[09:10:03] *** Joins: twi (Adium@409D1231.8C274976.A622856D.IP)
[09:12:16] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[09:12:38] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[09:12:43] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:12:47] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Broken pipe)
[09:14:20] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[09:14:31] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[09:15:12] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Quit: Instantbird 1.5 -- http://www.instantbird.com)
[09:17:03] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[09:21:37] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[09:23:26] *** Joins: ksev (DrunkenPan@1865C1F9.ECF92FCA.CDBA6951.IP)
[09:23:51] *** Quits: dmac (dmac@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[09:24:00] *** Quits: devbug_ (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[09:25:21] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[09:25:22] *** Quits: ksev (DrunkenPan@1865C1F9.ECF92FCA.CDBA6951.IP) (Ping timeout)
[09:28:27] *** Joins: simonask (simon@moz-388D7605.cpe.webspeed.dk)
[09:28:28] *** Joins: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP)
[09:29:03] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[09:29:11] *** Quits: twi (Adium@409D1231.8C274976.A622856D.IP) (Quit: Leaving.)
[09:30:06] *** Quits: Ms2ger (Ms2ger@4A49FFC8.EA68D5B.F15B0BB3.IP) (Quit: bbl)
[09:30:20] *** Quits: heftig (heftig@moz-D746319F.unitymedia.biz) (Quit: Quitting)
[09:30:25] *** Joins: patpat (patpat@EFCB9720.AC933A03.98F3E2B5.IP)
[09:31:03] *** Joins: santiago (santiago@moz-8ADE82B4.socal.res.rr.com)
[09:32:04] *** Joins: heftig (heftig@moz-D746319F.unitymedia.biz)
[09:33:14] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[09:39:01] *** Quits: Vermeille (Mibbit@moz-FB7A7183.w80-13.abo.wanadoo.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[09:41:39] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[09:42:08] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[09:42:27] *** Joins: madmoose (Hat@73F3A637.B23483B.7BA20D97.IP)
[09:44:01] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[09:45:07] *** Joins: rca (rcatolino@moz-124BA3D3.adsl.proxad.net)
[09:47:37] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[09:47:59] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[09:48:11] *** Joins: oberstet (quassel@moz-80393BC7.dynamic.mnet-online.de)
[09:49:49] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[09:51:19] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[09:51:41] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[09:52:23] *** Joins: lucian_ (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[09:52:23] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Connection reset by peer)
[09:53:09] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[09:53:47] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[09:57:36] *** Joins: vertexclique (vertexcliq@CBC91E36.762BDE03.1826D296.IP)
[09:59:26] *** Quits: santiago (santiago@moz-8ADE82B4.socal.res.rr.com) (Ping timeout)
[10:00:15] *** Quits: apoelstra (username@moz-B7040E82.vs.shawcable.net) (Ping timeout)
[10:00:26] *** Joins: apoelstra (username@moz-B7040E82.vs.shawcable.net)
[10:00:42] *** Quits: jesse99 (jesse99@moz-D8DE13A5.hsd1.wa.comcast.net) (Ping timeout)
[10:00:42] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Ping timeout)
[10:00:43] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[10:01:05] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Ping timeout)
[10:01:46] *** Quits: kronquii (kronquii@moz-2F636E0B.onid.oregonstate.edu) (Ping timeout)
[10:01:51] *** Quits: SimonSapin (simon@moz-9A1FE870.exyr.org) (Ping timeout)
[10:02:06] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[10:02:17] *** Joins: kronquii (kronquii@moz-2F636E0B.onid.oregonstate.edu)
[10:05:29] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[10:09:46] *** Joins: six600110 (six600110@moz-9117A1DE.hsd1.il.comcast.net)
[10:14:06] *** Quits: ramitos (ramitos@moz-5AC0C94E.netvisao.pt) (Quit: Computer has gone to sleep.)
[10:14:12] *** Quits: vertexclique (vertexcliq@CBC91E36.762BDE03.1826D296.IP) (Client exited)
[10:15:05] *** Joins: SimonSapin (simon@moz-9A1FE870.exyr.org)
[10:18:07] *** Quits: simonask (simon@moz-388D7605.cpe.webspeed.dk) (Ping timeout)
[10:22:11] *** Joins: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP)
[10:24:12] *** Joins: ksev (DrunkenPan@1865C1F9.ECF92FCA.CDBA6951.IP)
[10:26:01] *** Quits: ksev (DrunkenPan@1865C1F9.ECF92FCA.CDBA6951.IP) (Ping timeout)
[10:27:03] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[10:27:29] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[10:30:03] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[10:30:46] *** Joins: Ms2ger (Ms2ger@moz-9D94162.ugent.be)
[10:32:48] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[10:33:17] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[10:33:58] *** Joins: zimbatm (zimbatm@256DF958.7E61A1A1.9BA20BC9.IP)
[10:34:07] *** Joins: tryzor (bzlandfill@moz-F33EFEC4.dip0.t-ipconnect.de)
[10:34:20] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[10:34:23] <zimbatm> hello, rust newbie here :)
[10:35:12] <zimbatm> does rust have a builtin to join a ~[~str] with a given separator ? 
[10:36:04] <abustany> zimbatm: connect ?
[10:36:11] <zimbatm> looking
[10:36:14] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[10:36:43] <zimbatm> nice :)
[10:36:48] <zimbatm> thanks abustany
[10:36:56] <abustany> np :)
[10:37:06] *** Quits: pilf (pilf@8FA95888.1A994CBC.4B228AD7.IP) (Ping timeout)
[10:37:17] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[10:37:49] *** Joins: vertexclique (vertexcliq@CBC91E36.762BDE03.1826D296.IP)
[10:37:56] *** Joins: pilf (pilf@8FA95888.1A994CBC.4B228AD7.IP)
[10:38:23] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Client exited)
[10:38:36] *** Joins: simonask (simon@moz-388D7605.cpe.webspeed.dk)
[10:40:27] <zimbatm> is it normal that a simple program that imports getopts already is 2.5M big ?
[10:41:29] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[10:43:15] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[10:43:37] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[10:44:02] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[10:44:26] <abustany> zimbatm: the runtime statically linked I guess?
[10:45:08] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[10:45:10] <abustany> libextra has apparently been split in many smaller libs, but I don't know if that would help binary size in your specific case.
[10:45:43] <zimbatm> not sure actually, i'm just compiling without options for now
[10:45:49] <zimbatm> with master
[10:46:05] <zimbatm> i remember 0.9 producing smaller binaries
[10:46:25] <zimbatm> mystery :)
[10:46:43] *** Joins: santiago (santiago@moz-C0D6FDAD.socal.res.rr.com)
[10:47:02] <zimbatm> it's not critical anyways, i was just pleased to see small binaries on 0.9 when compared to Go
[10:47:07] <Zr40> dynamic linking can also help with that
[10:47:25] <abustany> (and Go has an item on the 1.4 roadmap for reducing binary sizes iirc :) )
[10:47:47] <zimbatm> ha back to Go then :)
[10:47:59] <Zr40> -Z prefer-dynamic
[10:48:39] <zimbatm> Zr40: with master ?
[10:48:58] <zimbatm> rustc -Z prefer-dynamic foo.rs
[10:49:04] <zimbatm> error: unknown debug flag: prefer-dynamic
[10:49:35] <zimbatm> it doesn't matter really, first i've got to learn more of the language anyways
[10:49:58] <lucian_> well, Go's binaries are still extremely tiny anyway. i don't think that's a good argument
[10:50:55] <zimbatm> maybe it's just Mach-O that makes everything big :p
[10:51:21] <lucian_> as long as it's not many megabytes, i don't think it matters much
[10:51:32] <Zr40> zimbatm: on master, -Z prefer-dynamic foo.rs on osx results in a 9.3 KB binary (foo.rs being a do-nothing program)
[10:51:39] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[10:51:44] <lucian_> dynamic linking buys you lower memory usage and security updates, i don't see binary size as a significant advantage
[10:52:17] <zimbatm> sweet Zr40
[10:52:39] *** Quits: vertexclique (vertexcliq@CBC91E36.762BDE03.1826D296.IP) (Client exited)
[10:53:23] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[10:53:42] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[10:55:19] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[10:55:21] <zimbatm> lucian_: 2MB is the size of busybox. it just seems wasteful to me to get hello world for the same size.
[10:55:30] *** lucian_ is now known as lucian
[10:55:36] * lucian shrugs
[10:55:48] * zimbatm gets your point
[10:56:06] *** Quits: patpat (patpat@EFCB9720.AC933A03.98F3E2B5.IP) (Ping timeout)
[10:56:30] *** Joins: patpat (patpat@EFCB9720.AC933A03.98F3E2B5.IP)
[10:56:36] *** Quits: jensnockert (jensnocker@moz-4C68E8F4.mobileonline.telia.com) (Connection reset by peer)
[10:57:05] <zimbatm> do you know if the stdlib is going to grow once rust is stable ?
[10:57:19] <zimbatm> or are they doing like node and just ship the core
[10:57:33] <Matthias247> define "stable" :)
[10:58:15] <zimbatm> pointer types not changing ? :)
[10:58:22] <Matthias247> at first then language will be stable, but the stdlib will probably grow for quite a longer time
[10:58:22] *** Joins: Sorella (quildreen@BF8B9A19.AACAE775.A95FAE2B.IP)
[10:59:09] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[11:00:54] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[11:01:32] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[11:03:29] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Quit: )
[11:06:41] *** Joins: eibwen (kvirc@moz-222E10E3.dip0.t-ipconnect.de)
[11:09:15] *** Joins: victorporof_ (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP)
[11:10:07] *** Quits: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP) (Ping timeout)
[11:11:30] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Client exited)
[11:14:36] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[11:14:37] *** Joins: fyolnish (fyolnish@moz-5696A568.uqwimax.jp)
[11:15:08] *** Quits: fyolnish (fyolnish@moz-5696A568.uqwimax.jp) (Quit: Bye)
[11:17:57] <lucian> zimbatm: from what i've been reading, std itself will stay quite small, but a bunch of other crates might get shipped with rust (like all the ones resulting from breaking up extra)
[11:19:19] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[11:19:30] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[11:20:21] *** Quits: morganb (morgan_b_@moz-5EAC75A2.hfc.comcastbusiness.net) (Ping timeout)
[11:20:31] *** Joins: morganb (morgan_b_@moz-5EAC75A2.hfc.comcastbusiness.net)
[11:21:37] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[11:22:56] *** Joins: ramitos (ramitos@moz-5AC0C94E.netvisao.pt)
[11:25:01] *** Joins: ksev (DrunkenPan@1865C1F9.ECF92FCA.CDBA6951.IP)
[11:25:24] <zimbatm> thx lucian
[11:25:29] *** Joins: Dcoder (a@moz-F8BDC9E8.org)
[11:26:59] *** Quits: ksev (DrunkenPan@1865C1F9.ECF92FCA.CDBA6951.IP) (Ping timeout)
[11:29:36] *** Quits: dumitru (dgherman@moz-7C253BEB.getcadre.com) (Ping timeout)
[11:30:43] *** pmoore|away is now known as pmoore
[11:31:29] *** Joins: vmx (vmx@moz-5393F4BD.pools.arcor-ip.net)
[11:33:01] *** Quits: Ferreus (ferreus@moz-D7FB5BA2.dip0.t-ipconnect.de) (Ping timeout)
[11:33:03] *** Joins: dumitru (dgherman@moz-7C253BEB.getcadre.com)
[11:34:06] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[11:35:15] *** Joins: RJones (RJones@moz-E6F82C3A.maine.res.rr.com)
[11:37:36] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[11:38:02] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Client exited)
[11:39:04] *** Quits: Sorella (quildreen@BF8B9A19.AACAE775.A95FAE2B.IP) (Ping timeout)
[11:39:23] *** Joins: Sorella (quildreen@AA4589ED.97245BEB.1ED99692.IP)
[11:39:25] *** Joins: alexherbo2 (alexherbo2@moz-FC10E83F.de)
[11:39:39] *** Quits: eddyb (eddy@688E9026.F7C96DA2.FCAAE698.IP) (Ping timeout)
[11:40:24] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[11:41:50] *** Quits: pilf (pilf@8FA95888.1A994CBC.4B228AD7.IP) (Quit: pilf)
[11:42:16] *** Quits: tryzor (bzlandfill@moz-F33EFEC4.dip0.t-ipconnect.de) (Quit: CGI:IRC)
[11:42:32] *** Quits: simonask (simon@moz-388D7605.cpe.webspeed.dk) (Ping timeout)
[11:43:20] *** Joins: eddyb (eddy@688E9026.F7C96DA2.FCAAE698.IP)
[11:43:23] *** Quits: fabrice (fabrice@moz-99690620.hinet-ip.hinet.net) (Quit: Leaving.)
[11:43:49] *** Joins: pilf (pilf@851C44D1.E702D397.65C00F68.IP)
[11:43:51] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[11:44:59] *** Quits: nkoep (nik@moz-E78B9424.pool.mediaways.net) (Client exited)
[11:45:58] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[11:46:00] *** Quits: rca (rcatolino@moz-124BA3D3.adsl.proxad.net) (Ping timeout)
[11:46:30] *** Quits: samdraz (samdraz@690570E4.4697114E.DDC6F5D1.IP) (Ping timeout)
[11:47:30] *** Joins: samdraz (samdraz@690570E4.4697114E.DDC6F5D1.IP)
[11:47:31] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[11:47:41] *** Quits: Sorella (quildreen@AA4589ED.97245BEB.1ED99692.IP) (Ping timeout)
[11:47:58] *** Joins: Ferreus (ferreus@moz-D7D31878.dip0.t-ipconnect.de)
[11:48:02] *** Quits: ecl3ctic (ecl3ctic@moz-E1FAD64C.wzfv1.vic.bigpond.net.au) (Quit: Leaving)
[11:48:42] *** Joins: simonask (simon@moz-388D7605.cpe.webspeed.dk)
[11:49:15] *** Joins: Sorella (quildreen@BF8B9A19.AACAE775.A95FAE2B.IP)
[11:49:15] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Client exited)
[11:51:10] *** Quits: Ms2ger (Ms2ger@moz-9D94162.ugent.be) (Ping timeout)
[11:51:59] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[11:52:03] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[11:53:09] *** Quits: Rusky (russell@moz-B7E6EE4E.slkc.qwest.net) (Ping timeout)
[11:53:42] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[11:54:19] *** Joins: Rusky (russell@moz-B7E6EE4E.slkc.qwest.net)
[11:54:41] <zimbatm> back with a newb question :)
[11:55:06] <zimbatm> why is std::libc::getuid() unsafe ?
[11:55:25] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[11:56:21] <zimbatm> it's returning a uid_t which is copied by value and doesn't accept any arguments
[11:56:54] <zimbatm> is it just automatically unsafe because of the libc ffi ?
[11:57:00] <Zr40> all ffi functions are unsafe
[11:57:03] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[11:57:47] <Zr40> http://static.rust-lang.org/doc/master/guide-ffi.html
[11:58:13] *** Quits: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP) (No route to host)
[11:58:32] *** Joins: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP)
[11:59:21] *** Joins: nlminhtl (ignotus@8FBD705B.5A3441A6.88573F4C.IP)
[11:59:23] <zimbatm> oh, thanks
[12:04:40] *** Joins: cmr (moznet@moz-EC676DFE.members.linode.com)
[12:04:55] *** Joins: pilf (pilf@8FA95888.1A994CBC.4B228AD7.IP)
[12:05:34] <kimundi> Its not called nil, its called "unit"
[12:05:45] <Zr40> hm, http://static.rust-lang.org/doc/master/tutorial.html#functions does call () nil
[12:05:53] <kimundi> Old terminolgy
[12:06:00] <eddyb> kimundi: oh, right, forgot about that
[12:06:02] <kimundi> The current term is "unit"
[12:06:14] <eddyb> doesn't help that its type is ty_nil in the compiler
[12:08:20] <kimundi> pff, the compiler is the last place where naming conventions get updated in :P
[12:08:32] *** Joins: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP)
[12:08:37] <eddyb> oh I know
[12:10:53] *** Joins: Florob (Florob@moz-39532932.de)
[12:10:55] <Matthias247> after reading that () => is the burger arrow operator in Java you could also call it burger :-)
[12:12:27] <eddyb> what?
[12:13:17] * zimbatm wonders where the unit term comes from
[12:13:34] <eddyb> zimbatm: it's an empty tuple
[12:14:10] <zimbatm> i suppose it's a haskell heritage ?
[12:14:39] *** Quits: Sorella (quildreen@BF8B9A19.AACAE775.A95FAE2B.IP) (Ping timeout)
[12:14:58] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[12:16:29] *** Quits: RJones (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[12:16:32] <zimbatm> gotta run
[12:16:46] <zimbatm> thx a lot for the ideas, it's a great community
[12:17:12] *** Quits: zimbatm (zimbatm@256DF958.7E61A1A1.9BA20BC9.IP) (Input/output error)
[12:17:23] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[12:17:31] *** Joins: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP)
[12:17:40] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Quit: Leaving)
[12:18:29] *** kimundi is now known as zz_kimundi
[12:18:33] *** Quits: victorporof_ (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP) (Ping timeout)
[12:20:36] *** Quits: nlminhtl (ignotus@8FBD705B.5A3441A6.88573F4C.IP) (Quit: Konversation terminated!)
[12:22:57] *** Joins: Kynes (Kynes@moz-3DC6C6E7.mit.edu)
[12:23:57] *** Joins: gimpf (gimpf@moz-3F236853.adsl.highway.telekom.at)
[12:24:57] *** Joins: Ms2ger (Ms2ger@moz-E441BAC.ugent.be)
[12:25:43] *** Joins: ksev (DrunkenPan@1865C1F9.ECF92FCA.CDBA6951.IP)
[12:26:07] *** Quits: alex__ (alex@moz-7421D6C9.mc.videotron.ca) (Ping timeout)
[12:27:02] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[12:27:33] *** Quits: ksev (DrunkenPan@1865C1F9.ECF92FCA.CDBA6951.IP) (Ping timeout)
[12:29:03] *** Joins: nkoep (nik@moz-E78B9424.pool.mediaways.net)
[12:30:23] *** Joins: Sorella (quildreen@BF8B9A19.AACAE775.A95FAE2B.IP)
[12:31:01] *** Joins: jadbaires (jadrian@1F10147D.1C23A4E8.6119BA41.IP)
[12:33:08] *** Joins: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP)
[12:34:29] *** Quits: ramitos (ramitos@moz-5AC0C94E.netvisao.pt) (Quit: Computer has gone to sleep.)
[12:34:47] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[12:36:07] *** Quits: jadbaires (jadrian@1F10147D.1C23A4E8.6119BA41.IP) (Quit: Konversation terminated!)
[12:36:57] *** Joins: leafstorm (leafstorm@moz-F57A2464.rh.ncsu.edu)
[12:37:32] *** Quits: samdraz (samdraz@690570E4.4697114E.DDC6F5D1.IP) (Ping timeout)
[12:41:14] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[12:41:38] *** Joins: victorporof_ (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP)
[12:43:10] *** Quits: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP) (Ping timeout)
[12:43:52] *** Joins: abinader (sid21713@moz-A42E5B7B.irccloud.com)
[12:45:58] *** Joins: richard|s (mindginati@moz-D78F21FB.dyn.cust.vf.net.nz)
[12:46:10] *** Quits: Ms2ger (Ms2ger@moz-E441BAC.ugent.be) (Ping timeout)
[12:46:58] *** Joins: Ms2ger (Ms2ger@moz-947B8309.ugent.be)
[12:47:00] *** Quits: meTaAU (admin@moz-2576F2BD.lns20.per1.internode.on.net) (Ping timeout)
[12:47:29] *** Joins: meTaAU (admin@moz-705AE249.lns20.per2.internode.on.net)
[12:47:58] *** Quits: FliPPeh (flippeh@moz-5A449869.dip0.t-ipconnect.de) (Quit: WeeChat 0.4.2)
[12:48:08] *** Quits: a_m0d (a_m0d@moz-2F294D00.acanac.net) (Quit: Leaving.)
[12:50:21] *** Joins: Earnestly (earnest@119EDA00.66A37A5.BFD1ABFD.IP)
[12:51:08] *** Joins: FliPPeh (flippeh@moz-5A449869.dip0.t-ipconnect.de)
[12:51:13] *** Quits: patpat (patpat@EFCB9720.AC933A03.98F3E2B5.IP) (Ping timeout)
[12:52:06] *** Joins: jadbaires (jadrian@1F10147D.1C23A4E8.6119BA41.IP)
[12:52:13] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[12:52:19] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[12:54:02] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[12:59:49] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[13:00:37] *** Quits: jadbaires (jadrian@1F10147D.1C23A4E8.6119BA41.IP) (Quit: Konversation terminated!)
[13:00:43] *** Joins: jadbaires (jadrian@1F10147D.1C23A4E8.6119BA41.IP)
[13:01:30] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[13:02:07] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[13:04:49] *** Joins: RJones (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us)
[13:05:03] *** Joins: Hildar (Mibbit@moz-1FA995E0.in-addr.btopenworld.com)
[13:05:15] *** RJones is now known as Linear
[13:05:34] *** Quits: richard|s (mindginati@moz-D78F21FB.dyn.cust.vf.net.nz) (Quit: brb)
[13:06:27] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[13:07:00] *** Joins: aklt (aklt@83B8238.6BE5A349.B330AC0A.IP)
[13:11:22] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[13:12:35] *** Quits: Ms2ger (Ms2ger@moz-947B8309.ugent.be) (Ping timeout)
[13:14:57] *** Quits: astroch (astroch@moz-C18802C0.dhcp.embarqhsd.net) (Ping timeout)
[13:15:42] *** Joins: astroch (astroch@moz-C18802C0.dhcp.embarqhsd.net)
[13:17:04] *** Quits: victorporof_ (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP) (Ping timeout)
[13:17:13] *** Quits: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP) (Ping timeout)
[13:19:46] *** Joins: drbawb (drbawb@moz-444F91EA.wi.res.rr.com)
[13:20:20] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[13:20:48] *** Joins: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP)
[13:24:08] *** Joins: canhtak (canhtak@moz-71C1AFFE.wl.t.ulaval.ca)
[13:25:34] *** Quits: astroch (astroch@moz-C18802C0.dhcp.embarqhsd.net) (Ping timeout)
[13:26:29] *** Joins: ksev (DrunkenPan@1865C1F9.ECF92FCA.CDBA6951.IP)
[13:27:30] *** Quits: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP) (Ping timeout)
[13:27:48] *** Quits: nathan7 (nathan@moz-60FC7746.nathan7.eu) (Ping timeout)
[13:28:04] *** Joins: zimbatm (zimbatm@454B35C7.6848B658.5CE2311A.IP)
[13:29:01] *** Joins: igork (igork@moz-F6DD8476.broadband.corbina.ru)
[13:29:53] *** Quits: zimbatm (zimbatm@454B35C7.6848B658.5CE2311A.IP) (Ping timeout)
[13:30:18] *** Quits: ksev (DrunkenPan@1865C1F9.ECF92FCA.CDBA6951.IP) (Ping timeout)
[13:30:51] *** Quits: benh (ben@moz-4A0366D2.org) (Ping timeout)
[13:30:55] *** Quits: jadbaires (jadrian@1F10147D.1C23A4E8.6119BA41.IP) (Quit: Konversation terminated!)
[13:30:59] *** Joins: Ms2ger (Ms2ger@moz-A8CA4C29.ugent.be)
[13:31:01] *** Joins: jadbaires (jadrian@1F10147D.1C23A4E8.6119BA41.IP)
[13:33:26] *** Quits: gimpf (gimpf@moz-3F236853.adsl.highway.telekom.at) (Ping timeout)
[13:33:52] *** Joins: vertexclique (vertexcliq@CBC91E36.762BDE03.1826D296.IP)
[13:34:08] *** Joins: benh (ben@moz-4A0366D2.org)
[13:38:08] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Ping timeout)
[13:39:10] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[13:39:23] *** Joins: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP)
[13:39:39] *** Joins: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca)
[13:39:44] *** Quits: Rusky (russell@moz-B7E6EE4E.slkc.qwest.net) (Ping timeout)
[13:40:12] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[13:40:49] *** Joins: Rusky (russell@moz-B7E6EE4E.slkc.qwest.net)
[13:41:46] *** Quits: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP) (Quit: victorporof)
[13:42:04] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[13:42:39] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[13:43:32] *** Joins: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP)
[13:44:12] *** Joins: ramitos (ramitos@moz-5AC0C94E.netvisao.pt)
[13:44:54] <sanxiyn> #12166 Error message reporting should show overall progress to be less demoralizing
[13:45:13] <sanxiyn> Sounds fun
[13:46:10] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[13:46:13] <sanxiyn> I guess the idea with "X errors (stage Y)" is that (Y, X) always increases lexicographically
[13:46:58] <sanxiyn> I mean, (Y, -X)
[13:47:07] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[13:47:37] <Hildar> Does knowing it's stage 5 of 99 really help? Stages 6+ might have 0 errors, or 5 more each...
[13:47:37] *** Quits: kanru (kanru@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[13:47:47] <sanxiyn> Indeed...
[13:47:51] <sanxiyn> How many stages are there?
[13:48:02] <sanxiyn> (That is, how many times error count can bounce back in rustc?)
[13:48:05] *** Quits: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net) (Quit: sw17ch)
[13:48:07] <eddyb> -Z time-passes
[13:48:12] <sanxiyn> eddyb: No
[13:48:20] <Hildar> I can't recall, there's a -Z time-passes that shows them... beat to it.
[13:48:37] <eddyb> with that, you can tell in which pass an error was emitted
[13:48:38] *** Joins: nathan7 (nathan@moz-60FC7746.nathan7.eu)
[13:48:41] <sanxiyn> eddyb: time-passes shows resolve as monolithic, but resolve has stages and in single resolve stage error count can bounce back
[13:48:44] <sanxiyn> (I have experienced this)
[13:48:53] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[13:49:12] *** Quits: vertexclique (vertexcliq@CBC91E36.762BDE03.1826D296.IP) (Client exited)
[13:49:12] <sanxiyn> That is, rustc can abort running resolve partially
[13:49:21] <eddyb> yes, some errors are fatal, others are delayed (like type checking or borrow checking) with the occasional limit
[13:49:32] *** Joins: jackneill (jackneill@moz-89B574C7.pool.digikabel.hu)
[13:49:34] *** Joins: vertexclique (vertexcliq@CBC91E36.762BDE03.1826D296.IP)
[13:49:39] *** AutomatedTester is now known as dburns
[13:49:44] <eddyb> we can delay more errors, the current system is not perfect at all
[13:49:46] <sanxiyn> Yeah also some passes in time-passes don't stop after errors
[13:50:01] <sanxiyn> I think some stages are unavoidable
[13:50:10] <eddyb> few are, actually
[13:50:18] *** Joins: mib_su4x45 (Mibbit@moz-EC87CB9B.gae.googleusercontent.com)
[13:50:23] *** dburns is now known as AutomatedTester
[13:50:39] <sanxiyn> For one, I think it's unreasonable to typecheck without correct resolve, and unreasonable to borrowck without correct typeck
[13:50:42] *** Quits: mib_su4x45 (Mibbit@moz-EC87CB9B.gae.googleusercontent.com) (Quit: http://www.mibbit.com ajax IRC Client)
[13:50:50] <sanxiyn> I am not sure whether stages in resolve is necessary
[13:51:04] <eddyb> sanxiyn: but typeck isn't monolithic
[13:51:15] *** Quits: vertexclique (vertexcliq@CBC91E36.762BDE03.1826D296.IP) (Ping timeout)
[13:51:24] <eddyb> and you can typeck only functions in which resolution succeeded
[13:51:28] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[13:51:32] <sanxiyn> Eh oh
[13:51:35] <sanxiyn> Eh...
[13:51:48] <sanxiyn> That sounds rather difficult
[13:52:12] <eddyb> this isn't an exact science and there's a lot of good information you can provide even with early failures
[13:52:38] <eddyb> sanxiyn: it actually isn't
[13:52:39] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[13:53:37] <eddyb> you can substitute resolution failures in astconv with ty_err
[13:54:23] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[13:54:44] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[13:54:52] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[13:55:01] <Hildar> It beats g++'s errors at least. 9001 errors, of which 8999 are just attempting to work with type errors due to the first 2.
[13:55:29] <Zr40> especially when templates are involved
[13:55:31] <sanxiyn> Hildar: Well g++ is pretty good. I think it's mainly that C++ template lacks type system (aka concept)
[13:55:46] <sanxiyn> Which is not really g++'s fault
[13:55:52] <eddyb> sanxiyn: if you have time and/or are interested in this and/or know someone working in this area, feel free to create/update an issue with my speculations
[13:56:21] <eddyb> Hildar: we have a similar problem, but it should be possible to not emit errors caused by the presence of ty_err from previous errors
[13:56:24] <sanxiyn> eddyb: Yeah, probably an separate issue
[13:56:45] *** Joins: doomlord_ (servitor@moz-9B2006BF.range109-151.btcentralplus.com)
[13:56:52] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[13:57:15] <eddyb> sanxiyn: we can also conflate errors from identical macro expansions to decrease error bloat
[13:57:46] <sanxiyn> eddyb: Good idea
[13:58:03] <sanxiyn> eddyb: I think actually not reporting errors from ty_err (derived errors) is already there?
[13:58:04] <mjrosenb> kmc: congrats on HN?
[13:58:58] <eddyb> sanxiyn: I guess you're right, but I still see inference errors after a type error, maybe those have different circumstances
[13:59:35] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[13:59:47] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[14:00:12] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[14:00:12] <eddyb> rusti: |x| x as u8
[14:00:13] -rusti- <anon>:10:13: 10:14 error: the type of this value must be known in this context
[14:00:13] -rusti- <anon>:10         |x| x as u8
[14:00:13] -rusti-                       ^
[14:00:13] -rusti- error: aborting due to previous error
[14:00:14] -rusti- application terminated with error code 101
[14:00:20] *** Joins: samdraz (samdraz@690570E4.4697114E.DDC6F5D1.IP)
[14:00:54] <eddyb> sanxiyn: ^^ that's probably easy to fix by emitting the error instead of failing, and inferring ty_err or something like that
[14:01:36] <eddyb> sanxiyn: actually, no, that code can become valid if ExprCast is checked after inference
[14:01:49] <eddyb> rusti: let f = |x| x as u8; f(0)
[14:01:49] -rusti- <anon>:10:21: 10:22 error: the type of this value must be known in this context
[14:01:49] -rusti- <anon>:10         let f = |x| x as u8; f(0)
[14:01:50] -rusti-                               ^
[14:01:50] -rusti- error: aborting due to previous error
[14:01:50] -rusti- application terminated with error code 101
[14:01:54] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[14:02:05] <eddyb> hmm, not sure how to trigger one of those nasty errors
[14:02:16] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[14:02:52] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[14:05:00] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[14:05:42] <sanxiyn> eddyb: It seems "must be known in this context" error is actually delayed and get ty_err
[14:05:50] *** zz_kimundi is now known as kimundi
[14:05:52] <sanxiyn> (grep for message)
[14:06:10] <eddyb> sanxiyn: yeah, ignore that part, the second idea is actually useful
[14:06:33] <sanxiyn> What is the second idea?
[14:06:49] <eddyb> "that code can become valid if ExprCast is checked after inference"
[14:07:12] <eddyb> there's actually some shenanigans dbaupp found
[14:07:22] <eddyb> rusti: let x = true; let y = x as bool; y
[14:07:22] -rusti- <anon>:10:31: 10:40 error: cannot cast as `bool`, compare with zero instead
[14:07:22] -rusti- <anon>:10         let x = true; let y = x as bool; y
[14:07:23] -rusti-                                         ^~~~~~~~~
[14:07:23] -rusti- error: aborting due to previous error
[14:07:23] -rusti- application terminated with error code 101
[14:07:31] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[14:07:35] <eddyb> rusti: let x = 0u8; let y = x as char; y
[14:07:37] -rusti- '\x00'
[14:07:42] <sanxiyn> Huh
[14:07:47] <eddyb> hang on... was that fixed?
[14:07:54] *** Quits: canhtak (canhtak@moz-71C1AFFE.wl.t.ulaval.ca) (Quit: canhtak)
[14:08:00] <eddyb> without fixing "as" completely?
[14:08:34] <eddyb> rusti: let x = id(0u8); let y = x as char; y
[14:08:34] -rusti- <anon>:10:17: 10:19 error: unresolved name `id`.
[14:08:34] -rusti- <anon>:10         let x = id(0u8); let y = x as char; y
[14:08:34] -rusti-                           ^~
[14:08:35] -rusti- error: aborting due to previous error
[14:08:35] -rusti- application terminated with error code 101
[14:08:47] <eddyb> rusti: fn id<T>(x: T){x} let x = id(0u8); let y = x as char; y
[14:08:50] -rusti- pastebinned 8 lines of output: http://ix.io/asL
[14:09:01] <sanxiyn> rusti: true as bool
[14:09:01] -rusti- <anon>:10:9: 10:21 error: cannot cast as `bool`, compare with zero instead
[14:09:01] -rusti- <anon>:10         true as bool
[14:09:02] -rusti-                   ^~~~~~~~~~~~
[14:09:02] -rusti- error: aborting due to previous error
[14:09:02] -rusti- application terminated with error code 101
[14:09:07] <sanxiyn> Why does this fail ?!
[14:09:11] <eddyb> rusti: fn id<T>(x: T)->T{x} let x = id(0u8); let y = x as char; y
[14:09:12] -rusti- '\x00'
[14:09:17] <cmr> sanxiyn: casting to bool is never allowed.
[14:09:26] <eddyb> it must've been fixed without fixing the closure case
[14:09:35] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[14:09:35] <eddyb> cmr: do you know anything about this ^^?
[14:09:49] <cmr> About what?
[14:09:51] <cmr> Casting to char/
[14:10:10] <eddyb> it used to say "only u8 can be cast as char, not u8"
[14:10:20] <cmr> heh
[14:10:26] <cmr> I don't remember seeing anything about that.
[14:11:13] <eddyb> which was amusing (one of those `u8` was the product of a special limited inference resolution for the error, actual inference not having ran)
[14:11:59] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[14:12:56] <sanxiyn> eddyb: So far I heard (1) try to continue after failed resolution (2) unify errors from macros
[14:14:48] <eddyb> sanxiyn: (3) check `as` after inference, x as T always having the type T, even before inference
[14:15:03] <sp3d> rusti: let a = 0u8; let b = 1 * a; b as char;
[14:15:04] -rusti- <anon>:10:37: 10:46 error: only `u8` can be cast as `char`, not `u8`
[14:15:04] -rusti- <anon>:10         let a = 0u8; let b = 1 * a; b as char;
[14:15:04] -rusti-                                               ^~~~~~~~~
[14:15:04] -rusti- error: aborting due to previous error
[14:15:04] -rusti- application terminated with error code 101
[14:15:22] <eddyb> there we go :)
[14:16:12] <eddyb> I'm guessing multiplication has to wait for method type-checking to determine the result type
[14:16:50] <sanxiyn> eddyb: Is there an issue for this? That looks like a wonderful error :)
[14:16:59] *** Parts: negge (unlord@moz-5BD795E6.hsd1.va.comcast.net) ()
[14:17:27] <eddyb> no idea
[14:17:39] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Ping timeout)
[14:18:22] <sanxiyn> #9918
[14:18:27] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[14:18:46] <sanxiyn> (Just tagged it diagnostics)
[14:18:53] <k4nar> hi
[14:19:05] <sanxiyn> sp3d: Ah it was your bug :)
[14:19:12] <k4nar> I've a simple testcase where I call a trait's static function from a trait's implementation
[14:19:22] <k4nar> but it doesn't compile and I don't understand why
[14:19:27] <k4nar> https://gist.github.com/k4nar/8956309
[14:19:30] *** Joins: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP)
[14:20:07] <cmr> k4nar: `Foo::foo()`, what implementation of `Foo` does that call the function for?
[14:20:34] *** Joins: dschatzberg (dschatzber@moz-9384E83C.bu.edu)
[14:20:35] <cmr> Obviously there's only one here, but it could be anything...
[14:20:43] <k4nar> hum, I see
[14:20:55] <k4nar> but how can I be more specific ?
[14:21:00] <cmr> k4nar: this is currently a language flaw, you can't explicitly specify which implementation to use.
[14:21:08] <k4nar> ok
[14:21:17] <cmr> In the future this will be Foo::<for FooStruct>::foo()
[14:21:24] *** Joins: AvianFlu (AvianFlu@moz-31F97978.nyc.res.rr.com)
[14:21:28] <k4nar> ok, I saw an issue about that :)
[14:21:38] <k4nar> wasn't sure this was the matter
[14:21:40] <sanxiyn> sp3d: I think I can fix #9918 easily. Wait a min.
[14:21:41] <k4nar> thanks !
[14:22:00] <cmr> right now you need to use type inference. standard workaround is to take an argument of `Option<Self>` and say `Foo::foo(None::<FooStruct>)`
[14:23:19] <k4nar> hum, I see
[14:24:52] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[14:27:56] *** Joins: canhtak (canhtak@moz-71C1AFFE.wl.t.ulaval.ca)
[14:28:36] *** Joins: edwardw (edwardw@D286B842.1B2F6624.7F41E82D.IP)
[14:29:02] *** Joins: ksev (DrunkenPan@1865C1F9.ECF92FCA.CDBA6951.IP)
[14:29:34] *** Quits: sokomo (sokomo@8293D4FC.93FF164A.408809BB.IP) (Quit: Read error: Connection reset by peer)
[14:30:57] *** Quits: ksev (DrunkenPan@1865C1F9.ECF92FCA.CDBA6951.IP) (Ping timeout)
[14:31:40] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Client exited)
[14:32:10] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[14:33:14] *** Quits: canhtak (canhtak@moz-71C1AFFE.wl.t.ulaval.ca) (Quit: canhtak)
[14:34:11] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[14:34:21] *** Quits: AvianFlu (AvianFlu@moz-31F97978.nyc.res.rr.com) (Ping timeout)
[14:34:24] *** Joins: jamil_1 (kvirc@D73D6C29.C986CB75.3D6CCABD.IP)
[14:35:50] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[14:40:05] *** Quits: vgeddes (vincent.ge@moz-D8D4FE4D.dsl.mweb.co.za) (Ping timeout)
[14:42:04] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:42:18] *** Joins: bakkdoor (bakkdoor@moz-D653693A.osnanet.de)
[14:42:51] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[14:45:18] *** Joins: CyBeRKeL (cyber@E8CD5CE0.139747CF.E9E4DB2.IP)
[14:46:31] *** Quits: jadbaires (jadrian@1F10147D.1C23A4E8.6119BA41.IP) (Quit: Konversation terminated!)
[14:46:37] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[14:46:41] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[14:49:02] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[14:49:18] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[14:50:31] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Connection reset by peer)
[14:50:31] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[14:50:50] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[14:51:55] *** Quits: Blaze- (blaze@moz-9B9AB2F0.dhcp.inet.fi) (Ping timeout)
[14:52:32] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[14:52:58] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[14:53:08] *** pmoore is now known as pmoore|tea-break
[14:54:38] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[14:55:11] *** Joins: vertexclique (vertexcliq@CBC91E36.762BDE03.1826D296.IP)
[14:57:45] *** Quits: Ms2ger (Ms2ger@moz-A8CA4C29.ugent.be) (Ping timeout)
[14:59:44] *** Quits: ramitos (ramitos@moz-5AC0C94E.netvisao.pt) (Quit: Computer has gone to sleep.)
[15:00:29] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[15:00:54] *** Joins: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP)
[15:01:06] *** Quits: alexherbo2 (alexherbo2@moz-FC10E83F.de) (Ping timeout)
[15:01:35] *** Joins: alexherbo2 (alexherbo2@moz-FC10E83F.de)
[15:02:15] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[15:02:36] *** Joins: kvark (Mibbit@9A8A5739.49975FB2.AE2D72A6.IP)
[15:03:01] <kvark> acrichto: ping
[15:05:24] *** Quits: pzol (pzol@86821BC.DEB41A6D.AADC76B.IP) (Ping timeout)
[15:06:32] *** Joins: pzol (pzol@86821BC.DEB41A6D.AADC76B.IP)
[15:06:53] *** Quits: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net) (Ping timeout)
[15:07:29] *** Quits: heftig (heftig@moz-D746319F.unitymedia.biz) (Quit: Quitting)
[15:10:03] *** Joins: Ms2ger (Ms2ger@moz-A8CA4C29.ugent.be)
[15:10:27] *** Quits: vertexclique (vertexcliq@CBC91E36.762BDE03.1826D296.IP) (Client exited)
[15:11:00] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[15:12:41] *** pmoore|tea-break is now known as pmoore
[15:14:52] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[15:15:23] <sanxiyn> sp3d: #9918 fix locally confirmed
[15:16:18] <sanxiyn>                      } else if t_1_is_char {
[15:16:18] <sanxiyn> +                        let te = fcx.infcx().resolve_type_vars_if_possible(te);
[15:16:18] <sanxiyn>                          if ty::get(te).sty != ty::ty_uint(ast::TyU8) {
[15:16:36] *** Parts: darnuria|afk (darnuria@moz-AB6EB255.ip-91-121-133.eu) (WeeChat 0.3.8)
[15:16:49] *** Joins: darnuria|afk (darnuria@moz-AB6EB255.ip-91-121-133.eu)
[15:17:24] *** darnuria|afk is now known as darnuria
[15:17:36] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[15:19:22] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[15:19:59] *** Joins: Denommus (user@40927F8C.80EB1D26.AD91B79.IP)
[15:20:16] <Denommus> so, is pushing and reversing faster than simply unshifting?
[15:20:26] <sanxiyn> yes
[15:20:35] <sanxiyn> usually
[15:21:00] <cmr> Denommus: unshift is linear time, pushing is constant (amortized) and reversing an iterator is constant.
[15:21:12] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[15:21:38] <Denommus> ah, cool
[15:22:07] *** Quits: Linear (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us) (Connection reset by peer)
[15:22:19] *** Quits: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP) (Ping timeout)
[15:22:19] *** Joins: Linear (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us)
[15:22:38] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[15:24:19] <sp3d> sanxiyn: nice!
[15:24:56] *** Quits: bakkdoor (bakkdoor@moz-D653693A.osnanet.de) (Quit: Linkinus - http://linkinus.com)
[15:25:14] <sanxiyn> So... in "x as T", where "x: U", if T = char and U != u8 -> error
[15:25:16] <sanxiyn> Fixed that to
[15:25:28] <sanxiyn> In "x as T", where "x: U", if T = char and resolve(U) != u8 -> error
[15:25:41] <sanxiyn> should resolve before comparison
[15:25:56] *** Joins: canhtak (canhtak@moz-71C1AFFE.wl.t.ulaval.ca)
[15:26:01] *** Quits: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca) (Ping timeout)
[15:26:15] <sanxiyn> cmr: You mean double-ended iterator :)
[15:27:02] <darnuria> Yeh Hello!
[15:27:43] *** Joins: espindola (espindola@moz-9F530B29.com)
[15:27:48] <darnuria> How I can test thing like channels? I have a very simple code who read Stdin and send throught a channel a line from.
[15:28:15] <darnuria> And I want to write a test arround it. I can check the state of a channel etc? :)
[15:28:19] <cmr> sanxiyn: sure, which vector iterators are.
[15:29:43] *** Joins: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca)
[15:29:49] *** Joins: ksev (DrunkenPan@1865C1F9.ECF92FCA.CDBA6951.IP)
[15:30:15] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[15:31:36] *** Quits: ksev (DrunkenPan@1865C1F9.ECF92FCA.CDBA6951.IP) (Ping timeout)
[15:34:05] *** Joins: astroch (astroch@2F1AED71.471081A5.DDE5D3F6.IP)
[15:34:15] *** Quits: [squiddy] (squiddy@moz-7B493F09.dip0.t-ipconnect.de) (Quit: Leaving)
[15:36:41] *** Quits: Ferreus (ferreus@moz-D7D31878.dip0.t-ipconnect.de) (Ping timeout)
[15:37:08] *** Quits: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP) (Quit: Leaving)
[15:38:19] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[15:40:02] *** Joins: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net)
[15:40:21] *** Joins: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP)
[15:42:03] *** Quits: canhtak (canhtak@moz-71C1AFFE.wl.t.ulaval.ca) (Quit: canhtak)
[15:45:08] <Yurume> oh well, #12158 causes a lot of breakage throughout rust-ci :p
[15:47:05] <kvark> Yurume: indeed
[15:47:07] <Yurume> seriously, #12158 essentially makes it impossible to refer to the mutable variable from the closure that is only called occasionally
[15:47:29] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[15:47:39] *** Quits: simonask (simon@moz-388D7605.cpe.webspeed.dk) (Quit: leaving)
[15:47:40] <Yurume> and in my opinion this is not good, since it means you cannot easily refactor the common code into a closure
[15:48:09] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Client exited)
[15:48:28] *** Quits: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP) (Client exited)
[15:48:44] *** Joins: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP)
[15:49:10] <kvark> Yurume: the cost of memory safety...
[15:49:13] <Yurume> the common workaround included in #12158 is i) to include affected mutable variables as an argument of the closure if possible, or ii) to use std::cell::RefCell otherwise. hmm..
[15:50:04] <SiegeLord> Is this another one of "it'd all work if we had C++ closures"?
[15:50:19] <kvark> Yurume: the reasoning behind the change seems perfectly logical to me. We don't kneed an alternative borrow mechanics through closure, they are just borrowing as anything else
[15:50:24] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[15:50:34] <Yurume> kvark: that's a tradeoff, but what I'm not really comfortable with. :S
[15:50:57] <cmr> SiegeLord: no.
[15:51:12] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[15:51:12] *** ChanServ sets mode: +ao dherman dherman
[15:51:40] <kvark> Yurume: to be fair, calling a closure to occasionally change some variable (that is not an argument) - as a use case - really doesn't fit Rust writing style
[15:51:50] <SiegeLord> I guess I don't even know what the issue is
[15:52:07] <SiegeLord> That seems a perfectly good use case to me :/
[15:52:19] *** Quits: astroch (astroch@2F1AED71.471081A5.DDE5D3F6.IP) (Ping timeout)
[15:52:19] <kvark> nope, because it breaks locality
[15:52:27] <cmr> SiegeLord: closure capture borrowing has changed to make it safe...
[15:52:33] <Yurume> maybe I'm the only one that doesn't like the change :p
[15:52:45] <cmr> Yurume: well it's either this or memory unsafety?
[15:53:06] <kvark> Yurume: I'm yet to start fixing my stuff, so I may be crying myself loud soon ;)
[15:53:06] <SiegeLord> That's basically my #1 usage of closures... change a mutable variable
[15:53:19] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:54:14] <Yurume> cmr: I didn't mean we should revert the change, I just wondered if there is another solution.
[15:55:00] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[15:55:02] <kvark> RefCell, assuming you want to keep the code less changed
[15:55:24] *** Quits: Ms2ger (Ms2ger@moz-A8CA4C29.ugent.be) (Ping timeout)
[15:58:18] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[15:58:44] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[15:58:46] *** Quits: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP) (Quit: leaving)
[15:59:19] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[16:00:50] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[16:01:13] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:01:24] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[16:01:48] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[16:02:38] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[16:02:39] *** Joins: tq (tq@moz-9FE9CCF4.a251.priv.bahnhof.se)
[16:03:57] <lpy> Anybody know RtioIoComponent ?
[16:06:36] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[16:09:36] *** Joins: FreeFull (freefull@moz-1883929A.as13285.net)
[16:10:23] <SiegeLord> I wonder if introducing raw trait objects (as in *Trait) would eliminate the need for DST... Rc<Trait> would then be struct Foo{count, data: *Trait}
[16:12:58] <cmr> You can't even say Rc<Trait> without DST
[16:13:32] *** Quits: mib_b7rw3y (Mibbit@moz-CE206B51.t-com.sk) (Quit: http://www.mibbit.com ajax IRC Client)
[16:13:53] <SiegeLord> Oh, I guess Rc<*Trait> then
[16:14:07] <SiegeLord> Maybe it falls apart then... nvm
[16:14:09] <kimundi> That would be double indirection
[16:14:19] <kimundi> We have that already, Rc<~Trait> :P
[16:14:45] <SiegeLord> data would be data: T
[16:15:04] <cmr> you described RcBox, not Rc
[16:15:05] <kimundi> which is behind a pointer
[16:15:08] <SiegeLord> I missing the double indirection bit
[16:15:15] <cmr> Rc is a pointer to an RcBox
[16:15:23] <cmr> It needs to be a pointer so that the count is shared between all of the Rcs...
[16:15:42] <SiegeLord> You'd clone the *Trait
[16:15:48] <SiegeLord> And share it that way
[16:15:57] <kimundi> Rc<T> == struct Rc<T> { bx: *RcBox<T> } struct RcBox<T> { refcount: uint, data: T }
[16:16:13] <cmr> Th e double indirection is the pointer to the RcBox, then the pointer to the data in the trait object.
[16:17:26] *** Joins: Blaze_ (tuomino2@moz-785A3407.org.aalto.fi)
[16:17:39] <cmr> "kibwen is infallible, at least until the other mods notice this in the sidebar."
[16:17:43] <cmr> bstrie: nice :P
[16:18:08] <cmr> bstrie: if you're infallible, but then we ! you... does that make you always-wrong?
[16:18:23] *** Quits: mojoB (mojoB@moz-A4312114.static.exetel.com.au) (Ping timeout)
[16:18:39] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Ping timeout)
[16:18:39] *** Quits: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP) (Ping timeout)
[16:19:32] *** Joins: mojoB (mojoB@moz-A4312114.static.exetel.com.au)
[16:20:24] *** Joins: penguin_dan (dan_johnsi@6902762D.11B071D.FB9A45AF.IP)
[16:20:25] *** Joins: nszceta (hax@moz-E458A7C0.pharm.pitt.edu)
[16:20:30] *** Quits: penguin_dan (dan_johnsi@6902762D.11B071D.FB9A45AF.IP) (Quit: penguin_dan)
[16:22:15] *** Joins: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP)
[16:22:31] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[16:22:31] *** Joins: canhtak (canhtak@moz-71C1AFFE.wl.t.ulaval.ca)
[16:24:20] *** Joins: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu)
[16:25:15] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Client exited)
[16:27:52] *** Quits: alexherbo2 (alexherbo2@moz-FC10E83F.de) (Quit: WeeChat 0.4.2)
[16:28:28] *** Joins: alexherbo2 (alexherbo2@moz-2464876C.w90-35.abo.wanadoo.fr)
[16:30:36] *** Joins: ksev (DrunkenPan@1865C1F9.ECF92FCA.CDBA6951.IP)
[16:31:09] *** Quits: samdraz (samdraz@690570E4.4697114E.DDC6F5D1.IP) (Quit: Leaving)
[16:31:16] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:31:37] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[16:32:04] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[16:32:26] *** Quits: ksev (DrunkenPan@1865C1F9.ECF92FCA.CDBA6951.IP) (Ping timeout)
[16:33:51] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Ping timeout)
[16:34:32] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[16:34:46] <acrichto> kvark: pong
[16:36:12] <kvark> acrichto: morning! I'm just wondering why rust-compress builds just fine in Travis, while I'm getting the following errors in bwt.rs:
[16:36:13] <kvark> error: closure requires unique access to `self` but `self.buf[..]` is already borrowed
[16:36:25] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[16:36:26] <acrichto> that's just a rust update
[16:36:32] <acrichto> travis must not have updated yet
[16:36:46] <kvark> I'm posting from here
[16:36:46] <kvark> https://travis-ci.org/kvark/dark
[16:36:48] *** pmoore is now known as pmoore|dinner
[16:36:50] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[16:36:59] <kvark> it is travis as well
[16:37:20] *** Joins: Jemaclus (jemaclus@A084B2A7.5843BA5A.D4E4C7A5.IP)
[16:37:23] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[16:38:03] <kvark> ah well, I guess the next rust-compress Travis build will fail too
[16:38:09] <kvark> the last one was 7h ago
[16:39:17] <kvark> acrichto: also, what's your position on the whole FiniteWriter thingie? you don't want to have that workaround for now?
[16:39:28] <acrichto> I'd have to look into it again
[16:39:34] <acrichto> I'm starting to think that it shouldn't be an exposed interface
[16:39:37] *** Quits: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP) (Ping timeout)
[16:39:58] *** Quits: canhtak (canhtak@moz-71C1AFFE.wl.t.ulaval.ca) (Quit: canhtak)
[16:40:14] <kvark> acrichto: if it's not exposed, clients would not be able to mix and match rust-compress blocks with their own
[16:40:25] *** Quits: Kxepal (Miranda@moz-4232FDEF.pppoe.mtu-net.ru) (Ping timeout)
[16:40:37] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[16:40:37] *** ChanServ sets mode: +ao dherman dherman
[16:40:48] <kvark> assuming the use of Decoder* at least, clients are still free to use the lower-level functions/structs
[16:41:19] <acrichto> that's just for the samll application though
[16:41:20] <kvark> so may be it's fine to have it hidden, after all, we don't have that many clients (precisely one)
[16:41:28] <acrichto> everything is still function al it's just a little more painful
[16:41:33] *** Joins: astroch (astroch@9788519B.B9AD9095.DDE5D3F6.IP)
[16:42:49] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Ping timeout)
[16:42:52] <kvark> ok, I'll hide it
[16:43:06] *** Quits: Hildar (Mibbit@moz-1FA995E0.in-addr.btopenworld.com) (Quit: http://www.mibbit.com ajax IRC Client)
[16:44:09] *** Quits: astroch (astroch@9788519B.B9AD9095.DDE5D3F6.IP) (Ping timeout)
[16:44:10] *** Joins: arielb1 (Mibbit@moz-E006B9EC.cs.tau.ac.il)
[16:44:24] *** Joins: eholk_ (eholk@18305C91.D158D03F.6E370BFC.IP)
[16:45:30] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[16:46:57] <arielb1> why am I getting '`loop` is now only used for loops and `continue` is used for skipping iterations'
[16:46:59] <arielb1> ?
[16:47:14] *** Joins: Ferreus (ferreus@moz-16D972C4.pools.arcor-ip.net)
[16:47:26] <arielb1> https://gist.github.com/arielb1/8959466
[16:47:56] *** Quits: edwardw (edwardw@D286B842.1B2F6624.7F41E82D.IP) (Ping timeout)
[16:48:27] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[16:48:42] <cmr> arielb1: "loop match" is not a valid construct.
[16:48:48] <cmr> arielb1: you need to say loop { match cur {
[16:49:19] *** Joins: voxpopuli (fanservice@71D59995.6A843466.689607DE.IP)
[16:50:19] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[16:50:41] *** Joins: ksev (DrunkenPan@1865C1F9.ECF92FCA.CDBA6951.IP)
[16:51:19] <arielb1> cmr: why?
[16:51:23] *** Joins: edwardw_ (edwardw@4112974A.B4358688.30F15291.IP)
[16:51:30] <SiegeLord> Kind of an awkward message... in the future it should be changed to 'expected a block' or w/e
[16:51:30] <cmr> arielb1: because that's how it is?
[16:51:44] <arielb1> isn't match an expression in rust?
[16:51:50] <SiegeLord> arielb1: loop literally requires blocks
[16:51:55] <cmr> Yes, but loop doesn't take an expression, it takes a block.
[16:51:56] <SiegeLord> It doesn't work with epxressions
[16:52:46] *** edwardw_ is now known as edwardw
[16:52:53] <arielb1> that's because while can't take an expression because of syntax?
[16:53:01] <arielb1> and loop is like while
[16:53:02] <arielb1> ?
[16:53:22] <SiegeLord> I assume this is done to make break/continue work
[16:53:43] *** Quits: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP) (Quit: Konversation terminated!)
[16:54:10] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[16:54:32] *** Joins: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP)
[16:55:49] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[16:56:11] <kimundi> All control structures in Rust require brackets around their bodies: if, match, while, loop...
[16:57:08] <kimundi> Intentional decision, to prevent stuff like "if (foo) doBar(); doBaz();" becoming a bug from forgetting to add {} or similar situations
[16:57:23] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[16:57:32] <cmr> kimundi: well it was either require parens around the conditional, or require braces around the body.
[16:57:37] *** Quits: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP) (Ping timeout)
[16:57:41] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[16:57:45] *** Joins: bluz (blaz@moz-CCAB48F7.privacyfoundation.ch)
[16:57:49] <kimundi> well sure, but apart from that
[16:57:54] <cmr> removing parens was seen as the larger win since you almost always have more than one expression..
[16:58:23] <cmr> Anyway it could be allowed for loop since it doesn't take an expr after the keyword.
[16:58:25] *** Joins: astroch (astroch@9B509CEB.DFC22EFB.DDE5D3F6.IP)
[16:58:42] *** Joins: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP)
[16:58:56] *** Joins: dukeleto (dukeleto@moz-C083E0FB.ptld.qwest.net)
[16:58:59] <kimundi> As I read it in the manual in the past, it was more a "lets require {}, and as a bonus you don't need ()" decision than a "lets remove the need for (), but you'll need to always write {} then." decision
[16:59:00] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[16:59:39] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[17:00:09] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[17:00:21] <arielb1> kimundi: well under a good editor this code fails to indent
[17:00:27] <kimundi> depending on what the official stance between those two reasonings is, either loop expr; would needed to be forbidden, or could be allowed
[17:00:28] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[17:00:29] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[17:00:54] <cmr> I think `loop match` should at least explicitly be allowed, since it's incredibly useful.
[17:01:02] *** Quits: aklt (aklt@83B8238.6BE5A349.B330AC0A.IP) (Quit: Schlooo)
[17:01:08] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[17:01:16] <arielb1> issue https://github.com/mozilla/rust/issues/12213
[17:01:32] <eddyb> cmr: as a shorthand for loop { x = match x { ... } }?
[17:01:33] <kimundi> cmr: eh, halve the loop match constructs I've written was more a loop { state = match { ... } } construct :P
[17:02:10] *** Quits: marianoguerra (marianogue@moz-78700C36.dip0.t-ipconnect.de) (Ping timeout)
[17:02:11] <cmr> yeah.
[17:02:26] <kimundi> x = loop match { ... } ?
[17:02:50] <arielb1> that would require returning a result on a break
[17:02:53] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[17:03:02] <arielb1> but actually if we make loop match a special form it should be doable
[17:03:31] <kimundi> Anyway, thats backwards compatible changes, I think :P
[17:04:23] *** Quits: ross (r@moz-35D0ADAB.clr.io) (Ping timeout)
[17:04:43] <arielb1> in the grammar loop must be followed by a open parens
[17:04:44] <arielb1> so it is
[17:05:20] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[17:05:24] *** Joins: onelson (onelson@moz-DD666EC5.laika.com)
[17:05:50] *** Quits: mythmon (mythmon@moz-AD308AD7.members.linode.com) (Ping timeout)
[17:05:50] *** Quits: eco (eco@moz-87840B9D.net) (Ping timeout)
[17:06:58] *** Joins: Kxepal (Miranda@moz-9E323D1A.pppoe.mtu-net.ru)
[17:07:07] <arielb1> I don't really
[17:07:12] <arielb1> the 0.9 grammar is weird
[17:07:17] <kimundi> Its wrong
[17:07:21] <arielb1> it uses [ lifetime ] but I can't find lifetime :
[17:07:28] <cmr> the grammar is incomplete and incorrect.
[17:07:31] <cmr> don't bother with it
[17:07:31] <kimundi> The grammer in the manual has not been correct for a long time
[17:07:34] <cmr> easier to just read the parser
[17:07:53] *** Joins: ross (r@moz-35D0ADAB.clr.io)
[17:07:55] <arielb1> where is it?
[17:08:02] <cmr> src/libsyntax/parser/parse.rs
[17:08:13] <cmr> parse/parser.rs, sorry
[17:08:17] <eddyb> src/libsyntax/parse/par- well, cmr is faster
[17:09:01] *** Joins: eco (eco@moz-87840B9D.net)
[17:09:09] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[17:09:25] <arielb1> thats a 5kLoC file
[17:09:34] <cmr> indeed it is
[17:10:06] <arielb1> wouldn't a grammar be much easier to read
[17:10:12] <arielb1> or is rust parsing not context-free?
[17:10:17] <cmr> it is.
[17:10:24] <cmr> if a grammar existed!
[17:10:40] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[17:10:45] <cmr> Oh, I just remembered that https://github.com/jbclements/rust-antlr exists.
[17:10:54] <pnkfelix> arielb1: its more than just context-free.  Its supposed to be LL(1), at least in theory.
[17:10:56] <cmr> it's out of date now, but was correct at the time.
[17:11:08] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:11:24] <eddyb> pnkfelix: we have lookaheads
[17:11:35] <arielb1> pnkfelix: why is LL(1)-ness so important?
[17:11:36] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:11:42] <pnkfelix> arielb1: (its not actually LL(1), its more like LL(k) right now for some k)
[17:11:58] <pnkfelix> eddyb: yeah I know
[17:12:02] <cmr> eddyb: LL(k) says there are only k tokens of lookahead.
[17:12:06] <eddyb> LL(4) I believe
[17:12:11] <arielb1> why?
[17:12:20] <cmr> arielb1: simpler to parser.
[17:12:21] <eddyb> that is, we have a 4-long token buffer
[17:12:33] <arielb1> where the grammar is LL(4)?
[17:12:34] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[17:12:48] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[17:12:59] <eddyb> if foo {x: boo} is one nasty case we've hit recently (gets worse with struct field shorthands)
[17:13:02] <cmr> the grammar was proven LL(1) before.
[17:13:15] <pnkfelix> arielb1: plus I believe you can do much better parse error messages/recovery for an LL grammar.  (Or maybe that's only for LL(1), not sure, I'd have to review.)
[17:13:15] <cmr> it has since changed..
[17:13:29] <eddyb> fn foo(&'lt self, is another one
[17:13:33] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[17:13:56] <eddyb> pnkfelix: LL(k) for small values of k can't get worse, AFAIK
[17:14:27] <pnkfelix> eddyb: yes I think you're right, I'm just CYA w.r.t. the specific property that I'm thinking of
[17:14:43] <pnkfelix> or maybe CMA is more appropriate acronym here
[17:14:44] <eddyb> though it might be hard to tell that you're not hitting the lookhead condition instead of having a general parse error
[17:16:01] *** Quits: fabiand (fabiand@moz-C5F87642.adsl.alicedsl.de) (Ping timeout)
[17:16:20] <eddyb> if Foo {x; boo} == foo { ... } will throw an error on the second { because it comes right after an expression
[17:16:30] *** Joins: tryzor (bzlandfill@moz-F33EFEC4.dip0.t-ipconnect.de)
[17:16:37] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[17:16:42] <eddyb> if you put a semi right after foo, it might even pass typeck
[17:16:44] *** Quits: dukeleto (dukeleto@moz-C083E0FB.ptld.qwest.net) (Ping timeout)
[17:17:14] *** Quits: Jemaclus (jemaclus@A084B2A7.5843BA5A.D4E4C7A5.IP) (Client exited)
[17:17:32] *** Quits: LU324 (weechat@9AF4F288.83671C58.1B5D53D7.IP) (Input/output error)
[17:17:48] *** Joins: LU324 (weechat@9AF4F288.83671C58.1B5D53D7.IP)
[17:17:50] *** pmoore|dinner is now known as pmoore
[17:18:00] *** Joins: dukeleto (dukeleto@moz-C083E0FB.ptld.qwest.net)
[17:18:15] *** Joins: evanm_ (evanm@636AC086.5999CED5.71743E61.IP)
[17:18:19] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Connection reset by peer)
[17:19:06] *** Joins: tiernjo (quassel@moz-21A5F23D.ks.ks.cox.net)
[17:19:07] <arielb1> how can if Foo {x; boo} == foo; typecheck?
[17:19:12] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:19:28] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[17:19:48] *** Quits: dukeleto (dukeleto@moz-C083E0FB.ptld.qwest.net) (Ping timeout)
[17:19:52] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:20:01] <arielb1> is the problem if u == foo { ... }?
[17:21:21] <arielb1> which can be either (if (== (var u) (var foo)) (block ...)) or (if (== (var u) (struct foo ...)) ...)
[17:21:32] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[17:22:33] *** Quits: LU324 (weechat@9AF4F288.83671C58.1B5D53D7.IP) (Input/output error)
[17:22:38] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:22:46] <arielb1> can't you do [if u == a::b::c::d::...::foo { ... }]?
[17:23:43] <arielb1> for infinite lookahead?
[17:24:03] <pnkfelix> arielb1: it can only type check if `foo` and `boo` are both of type `()`
[17:24:16] * pnkfelix had to write some quick code to verify this
[17:24:52] <pnkfelix> arielb1: the reason, I think, is that `if <expr> { ... }` with no `else` expands to `if <expr> { ... } else { () }`
[17:25:18] *** Joins: LU324 (weechat@9AF4F288.83671C58.1B5D53D7.IP)
[17:25:43] <arielb1> that's a semicolon after x
[17:25:52] <pnkfelix> arielb1: I know
[17:25:53] *** Quits: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP) (Ping timeout)
[17:26:06] <arielb1> thought it was a colon and a speck of dust
[17:26:14] *** Joins: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[17:26:14] *** ChanServ sets mode: +ao brson brson
[17:27:19] <pnkfelix> arielb1: https://gist.github.com/pnkfelix/8960297
[17:27:33] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[17:27:38] *** Quits: eholk_ (eholk@18305C91.D158D03F.6E370BFC.IP) (Quit: eholk_)
[17:28:04] <arielb1> why is the semicolon needed?
[17:28:14] *** Quits: Denommus (user@40927F8C.80EB1D26.AD91B79.IP) (Quit: ERC Version 5.3 (IRC client for Emacs))
[17:28:49] *** Quits: japaric (japaric@B95EF77B.8C2993CE.5C7588CA.IP) (Ping timeout)
[17:29:43] <pnkfelix> arielb1: I believe eddyb's point was just that putting a `{` after the `== foo ` will cause the parser to complain.  It isn't necessarily the case that you ened a semi-colon.  There are other tokens that would be acceptable, in other contexts.
[17:30:31] <pnkfelix> sed -e s/ened/need/
[17:30:38] <eddyb> pnkfelix: I guess I wasn't explicit enough :/
[17:31:09] <eddyb> if StructName {field_name; value} == other_value { ... }
[17:31:44] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[17:31:57] <pnkfelix> eddyb: oh are you talking about the hypothetical change to the language to support field_names without trailing colon?   
[17:31:58] <eddyb> if you accidentally type a semicolon instead of a colon, it parses this as an if statement: if StructName {field_name; value}
[17:32:08] *** Joins: mythmon (mythmon@moz-AD308AD7.members.linode.com)
[17:32:08] <pnkfelix> eddyb: ah, I see now
[17:32:40] <eddyb> that's the lookahead that I had to expand in my field shorthands PR
[17:33:02] <eddyb> that if statement has a type of (), so if other_value is of type ()...
[17:33:03] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[17:33:17] *** Quits: barosl (barosl@34F62860.E551553C.7544CABF.IP) (Quit: 랜덤은 쇠퇴했습니다.)
[17:33:18] <arielb1> that's a lookahead of 3
[17:33:22] <eddyb> if StructName {field_name; value} == other_value; { ... } would even compile
[17:33:33] <arielb1> { ident colon or { ident something-other-then-colon
[17:33:38] *** Joins: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP)
[17:33:52] <arielb1> on expr: ident [*]
[17:33:55] <eddyb> yeah, the offset is 2
[17:34:12] <lpy> adridu59
[17:34:20] <eddyb> I'm not sure if the internal buffer includes the current token i.e. if a lookahead of 4 (offset 3) would work
[17:34:22] <lpy> is adridu59 here?
[17:34:54] *** Quits: tryzor (bzlandfill@moz-F33EFEC4.dip0.t-ipconnect.de) (Quit: CGI:IRC (EOF))
[17:35:07] <arielb1> isn't that called LL(3)?
[17:35:19] <arielb1> current token + 3 characters lookahead
[17:35:21] *** Joins: ramitos (ramitos@moz-5AC0C94E.netvisao.pt)
[17:35:22] <arielb1> *tokens
[17:35:39] *** Quits: ramitos (ramitos@moz-5AC0C94E.netvisao.pt) (Quit: Computer has gone to sleep.)
[17:35:50] <cmr> lpy: they are sometimes.
[17:35:56] <eddyb> arielb1: hmm, I don't know whether LL(1) means no lookahead or a maximum lookahead of 1
[17:36:04] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[17:36:10] <cmr> lookahead of one.
[17:36:40] <arielb1> LL(0) exists
[17:36:49] *** Joins: marianoguerra (marianogue@moz-367EB8A3.dip0.t-ipconnect.de)
[17:37:05] *** Joins: ramitos (ramitos@moz-5AC0C94E.netvisao.pt)
[17:37:07] <arielb1> say lisp
[17:37:08] <Jemaclus> in PHP, I might have an array that's like:  $arr = ['Foo' => ['more','stuff','here'], 'Bar' => ['corn','beans','lettuce']]
[17:37:19] <Jemaclus> an associative array with keys that are strings and values that are other arrays
[17:37:26] <Jemaclus> is a HashMap the best way to represent that in Rust?
[17:37:36] <Jemaclus> HashMap<~str, ~[~str]>?
[17:37:44] <kimundi> yeah
[17:37:51] <Jemaclus> (successkid)
[17:37:52] <Jemaclus> thanks
[17:38:15] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[17:38:30] <kimundi> There might be other maps more optimzed for strings, but hashmap is a good default choice
[17:38:36] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[17:38:38] <Jemaclus> I figured.
[17:38:45] <Jemaclus> It's good enough for me. Thanks :)
[17:39:30] <pnkfelix> arielb1: while LL(0) does exist as a concept, I do not think Lisp qualifies...
[17:40:02] <abustany> Does std::str::raw::from_c_str take ownership of the *c_char it's taking as a parameter?
[17:41:36] *** Quits: deggert (deggert@moz-2C16B246.host.de.colt.net) (Quit: deggert)
[17:41:42] <sp3d> abustany: it doesn't result in a call to free on the *c_char, if that's what you mean
[17:41:58] <eddyb> pnkfelix: why would LISP not qualify?
[17:42:02] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[17:42:03] *** Quits: ramitos (ramitos@moz-5AC0C94E.netvisao.pt) (Quit: Computer has gone to sleep.)
[17:42:05] <sp3d> and it does copy bytes, presumably
[17:42:08] *** Joins: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP)
[17:42:13] <sp3d> whereas c_str_to_static_slice would use bytes in-place
[17:42:14] <abustany> sp3d: right, so it makes a copy
[17:42:19] <abustany> I see
[17:42:21] <abustany> thanks
[17:42:23] *** Joins: canhtak (canhtak@moz-5ED861D3.wl.t.ulaval.ca)
[17:43:10] <arielb1> pnkfelix: https://gist.github.com/arielb1/8960665
[17:43:22] *** Joins: ramitos (ramitos@moz-5AC0C94E.netvisao.pt)
[17:43:51] <pnkfelix> arielb1: eddyb: my initial reaction was "it depends on what you define as 'Lisp' "
[17:43:57] *** Quits: ramitos (ramitos@moz-5AC0C94E.netvisao.pt) (Quit: Computer has gone to sleep.)
[17:44:37] *** Joins: mgottschlag (quassel@moz-65AB7C61.cust.bluewin.ch)
[17:44:50] <arielb1> is there some other definition?
[17:44:53] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[17:45:31] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[17:46:08] <lpy> brson: ping
[17:46:28] <pnkfelix> arielb1: but I'm also now not even sure if your s-expr grammar qualifies as LL(0).  I'd have to go reviw the formal defn's.
[17:46:41] <pnkfelix> arielb1: see e.g. the first answer here http://stackoverflow.com/questions/5253816/are-there-such-a-thing-as-ll0-parsers
[17:47:02] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[17:48:23] <arielb1> well the definition I was taught was that the first token of lookahead doesn't count
[17:48:25] <pnkfelix> arielb1: but maybe the issue here is that your defintion of LL(0) is what others are calling LL(1) ?
[17:48:59] <pnkfelix> arielb1: i think the first token of lookahead has to count; otherwise LR(0) loses its meaning...
[17:48:59] <arielb1> as lookahead
[17:49:14] *** Quits: CyBeRKeL (cyber@E8CD5CE0.139747CF.E9E4DB2.IP) (Quit: )
[17:49:20] *** Joins: zihaowang (zihaowang@823D0CA2.6106F5AE.B7830B68.IP)
[17:49:57] <arielb1> fine
[17:50:11] <pnkfelix> arielb1: but really, I've already spent too long on this diversion
[17:50:11] <arielb1> how do you make https://gist.github.com/arielb1/8960554 type-check?
[17:50:47] *** Quits: jamil_1 (kvirc@D73D6C29.C986CB75.3D6CCABD.IP) (Connection reset by peer)
[17:50:48] <brson> lpy: pong
[17:50:57] *** Joins: eholk_ (eholk@589AA5EC.7EDA02CF.51B6877.IP)
[17:51:02] *** Joins: jamil_1 (kvirc@B04B3690.5AF512A7.3D6CCABD.IP)
[17:51:11] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Quit: Leaving)
[17:51:17] <lpy> brson: Hi, could you please help me for issue 11983?
[17:51:22] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[17:51:32] <Jemaclus> if I make my own struct, how do I add the Clone trait to it?
[17:52:03] <lpy> brson: I would like to work that, but I need some guide.
[17:52:09] <eddyb> #[deriving(Clone)], usually
[17:52:32] *** Joins: espindol_ (espindola@moz-F0FBD3B4.dsl.teksavvy.com)
[17:52:49] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[17:53:08] <Jemaclus> oh snap
[17:53:09] <Jemaclus> that's nice
[17:53:10] <Jemaclus> thanks
[17:53:17] <Jemaclus> if I wanted to derive multiple traits
[17:53:33] *** Quits: espindola (espindola@moz-9F530B29.com) (Ping timeout)
[17:53:35] <Jemaclus> would it be: #[deriving(Clone,Ord)] or #[deriving(Clone)] #[deriving(Ord)]?
[17:53:39] <eddyb> the former
[17:54:03] *** Quits: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu) (Ping timeout)
[17:54:10] *** Quits: oberstet (quassel@moz-80393BC7.dynamic.mnet-online.de) (Connection reset by peer)
[17:54:13] <brson> lpy: ok, great. what do you need help with?
[17:54:28] <Jemaclus> cool, that's what i expected.
[17:54:29] <Jemaclus> thanks
[17:55:12] *** Quits: zihaowang (zihaowang@823D0CA2.6106F5AE.B7830B68.IP) (Client exited)
[17:55:41] *** Joins: zihaowang (zihaowang@823D0CA2.6106F5AE.B7830B68.IP)
[17:55:43] <arielb1> how do you make https://gist.github.com/arielb1/8960554 type-check?
[17:55:48] <brson> lpy: this task is about finding all the 'use foo:*;' statements and turning into 'use foo::{bar, baz}'.
[17:55:58] <brson> lpy: the ones not under #[test] modules are the most important
[17:56:04] <eddyb> that will take a while
[17:56:10] *** Joins: lkuper (lkuper@A37A1456.14CD977C.51B6877.IP)
[17:56:11] *** Joins: dukeleto (dukeleto@moz-C083E0FB.ptld.qwest.net)
[17:56:18] <lpy> brson: I see.
[17:56:43] <lpy> brson: I was terrified by the one under #[test]
[17:57:10] *** Quits: uberj (uberj@moz-AD308AD7.members.linode.com) (Ping timeout)
[17:57:13] <lpy> brson: so the "globs" in feature() should be kept, right?
[17:57:30] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[17:57:34] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[17:57:49] *** Quits: mgottschlag (quassel@moz-65AB7C61.cust.bluewin.ch) (Ping timeout)
[17:57:54] *** Quits: snerd (motk@moz-D21A06DF.members.linode.com) (Ping timeout)
[17:58:14] *** Quits: bgmerrell (bgmerrell@moz-AFAF64AB.members.linode.com) (Ping timeout)
[17:58:18] <arielb1> lpy: a few of the tests seem to be testing globs
[17:58:28] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[17:58:36] *** Quits: utkarsh (utkarsh@moz-CA9C0A97.members.linode.com) (Ping timeout)
[17:58:40] <arielb1> lpy: the feature(globs) should go with the globs
[17:59:19] <lpy> arielb1: otherwise it could be deleted?
[17:59:40] *** Joins: utkarsh (utkarsh@moz-CA9C0A97.members.linode.com)
[17:59:47] <arielb1> lpy: after you remove the actual globs
[17:59:50] <arielb1> lpy: of course
[18:00:03] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[18:00:05] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[18:00:54] *** Quits: pilf (pilf@8FA95888.1A994CBC.4B228AD7.IP) (Ping timeout)
[18:00:54] *** Quits: kronquii (kronquii@moz-2F636E0B.onid.oregonstate.edu) (Ping timeout)
[18:00:59] <lpy> arielb1: thank you
[18:01:02] *** Quits: pcmattman (pcmattman@moz-D9B7D938.net) (Ping timeout)
[18:01:10] <lpy> brson: thank you
[18:01:29] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[18:02:02] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[18:02:08] *** Joins: bgmerrell (bgmerrell@moz-AFAF64AB.members.linode.com)
[18:02:34] *** Quits: jamil_1 (kvirc@B04B3690.5AF512A7.3D6CCABD.IP) (Ping timeout)
[18:02:36] <bstrie> cmr: that's a good question. maybe I should change my flair to !!, so that I can be inininfallible
[18:02:43] *** Quits: eco (eco@moz-87840B9D.net) (Ping timeout)
[18:02:45] <bstrie> that way there's no confusion
[18:03:10] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[18:03:13] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[18:04:52] *** Quits: utkarsh (utkarsh@moz-CA9C0A97.members.linode.com) (Ping timeout)
[18:05:42] *** Quits: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP) (Client exited)
[18:06:05] *** Joins: eco (eco@moz-87840B9D.net)
[18:06:28] <arielb1> someone? how do you make https://gist.github.com/arielb1/8960554 type-check?
[18:06:29] *** Joins: espindola (espindola@moz-9F530B29.com)
[18:06:32] *** Quits: mythmon (mythmon@moz-AD308AD7.members.linode.com) (Ping timeout)
[18:06:41] *** Joins: snerd (motk@moz-D21A06DF.members.linode.com)
[18:06:42] *** Joins: pcmattman (pcmattman@moz-D9B7D938.net)
[18:07:00] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[18:07:15] *** Quits: espindol_ (espindola@moz-F0FBD3B4.dsl.teksavvy.com) (Ping timeout)
[18:07:31] <Jemaclus> the docs HashMap::get() say that it "failing if key is not present"
[18:07:46] <Jemaclus> I figured I could do a pattern match on that
[18:07:47] *** Joins: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca)
[18:07:50] <Jemaclus> but it's not working, so maybe I can't
[18:08:09] <Jemaclus> what is the output of a "failure" there?
[18:08:11] *** Joins: utkarsh (utkarsh@moz-CA9C0A97.members.linode.com)
[18:08:17] <Jemaclus> a fail!()?
[18:08:19] <cmr> Jemaclus: http://static.rust-lang.org/doc/master/std/hashmap/struct.HashMap.html
[18:08:20] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[18:08:20] *** ChanServ sets mode: +o tjc
[18:08:23] <cmr> look at the signature of get
[18:08:28] <arielb1> Jemaclus: use find
[18:08:30] <eddyb> Jemaclus: a failure will destroy the task irrecoverably
[18:09:09] <eddyb> Jemaclus: you need something like the find method, which doesn't fail, but returns Option<&Value>
[18:09:17] <Jemaclus> cmr: yeah, I see &`a V, but I dunno what that looks like if it's not there
[18:09:17] <Jemaclus> arielb1: will do, thanks
[18:09:20] <Jemaclus> eddyb: gotcha
[18:09:25] <cmr> Jemaclus: it doesn't look like anything
[18:09:29] <cmr> it doesn't return :)
[18:09:30] <eddyb> it can't look like anything else :)
[18:09:33] *** Joins: jamil_1 (kvirc@B04B3690.5AF512A7.3D6CCABD.IP)
[18:09:34] <Jemaclus> I was doing .contains_key(key) and then if it's true, .get(key)
[18:09:40] <eddyb> eww
[18:09:50] <Jemaclus> ..yeah.. 
[18:09:51] <Jemaclus> :P
[18:10:06] <eddyb> that has the disadvantage of two lookups
[18:10:12] <arielb1> its ugly
[18:10:12] *** Joins: uberj (uberj@moz-AD308AD7.members.linode.com)
[18:10:18] <eddyb> and potential theoretical failure
[18:10:34] <arielb1> and the disadvantage of key duplication
[18:10:43] *** Joins: skade (skade@moz-F3F67608.pools.arcor-ip.net)
[18:10:49] <arielb1> you can accidentally pass different keys
[18:11:03] <Jemaclus> yeah, find is a better choice for sure.
[18:11:24] *** Quits: eholk_ (eholk@589AA5EC.7EDA02CF.51B6877.IP) (Quit: eholk_)
[18:11:31] <Jemaclus> This whole process is still too slow. I must have made a bad decision elsewhere, too.
[18:12:11] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:12:23] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Connection reset by peer)
[18:12:37] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[18:12:51] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[18:13:50] *** Quits: Linear (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us) (Ping timeout)
[18:13:53] *** Quits: zihaowang (zihaowang@823D0CA2.6106F5AE.B7830B68.IP) (Client exited)
[18:13:56] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[18:14:25] <Jemaclus> honestly, I build a function the way I think it should work, then fix the errors. I'm getting better at getting no errors, but this process probably leads to doing things sub-optimally a lot.
[18:14:54] *** Quits: jesse98 (jjones@6251EDC2.15651213.B46B86FA.IP) (Ping timeout)
[18:15:21] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:16:12] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Connection reset by peer)
[18:16:19] *** Joins: jesse98 (jjones@6251EDC2.15651213.B46B86FA.IP)
[18:16:26] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:17:08] <cmr> Jemaclus: clearly you just need to think better!
[18:17:20] <Jemaclus> clearly. :)
[18:17:27] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:17:31] <Jemaclus> i spend a lot more time reading docs than I do actually coding.. 
[18:18:11] * cmr does too
[18:18:27] <cmr> code is the easy part!
[18:18:57] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[18:20:28] *** Quits: jesse98 (jjones@6251EDC2.15651213.B46B86FA.IP) (Connection reset by peer)
[18:20:42] <benh> the hard part is convincig people to put the { in the right place
[18:21:06] <arielb1> which {
[18:21:09] *** Joins: Linear (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us)
[18:21:16] *** Joins: koomi (koomi@moz-41AD638A.uberspace.de)
[18:21:19] *** Joins: chromatic (chromatic@moz-28CBC7F4.hsd1.or.comcast.net)
[18:21:32] <arielb1> [indentation]
[18:22:47] <Jemaclus> haha
[18:23:32] <Jemaclus> I implemented this algorithm in PHP and it ran in 1.5s, and I re-implemented it in Rust and it's taking over 60s, so.. I clearly did something wrong.
[18:23:51] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[18:23:59] <cmr> Jemaclus: can you share the source?
[18:24:31] <Jemaclus> sure
[18:24:32] <Jemaclus> gimme a se
[18:24:33] <Jemaclus> sec*
[18:24:46] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[18:25:09] *** Joins: vertexclique (vertexcliq@CBC91E36.762BDE03.1826D296.IP)
[18:25:25] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[18:25:40] <Jemaclus> please don't cringe too hard: http://pastebin.com/0as8MajC
[18:25:45] <Yurume> https://github.com/lifthrasiir/angolmois-rust/compare/2582617...f5e6826?w=1 phew, I've done migrating.
[18:25:59] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[18:25:59] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:26:12] <Jemaclus> US.csv is a CSV file containing 12 columns... I also have a CSV reader implementation, which is the ::csv::Csv thing...
[18:26:21] <Yurume> there are some systematic changes and some restructuring, i.e. this update is hardly a mechanical update...
[18:26:47] <Yurume> but fortunately the resulting commit was relatively small
[18:27:09] *** Joins: zihaowang (zihaowang@1F0B128A.7F21D601.DDE5D3F6.IP)
[18:27:22] <Yurume> and I somehow managed to refactor more things as a side effect?
[18:27:27] *** Quits: novabyte (novabyte@ACFCB63D.EEABAC9C.AE02ECA4.IP) (Ping timeout)
[18:29:35] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Client exited)
[18:31:17] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[18:31:36] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[18:32:27] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[18:33:43] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[18:34:13] <Jemaclus> cmr: basically, I read a line from the CSV, build a struct to hold the data, find that ~[Geo] in the hashmap (if it exists), append this line to that state's ~[Geo] list, then insert it back into the hashmap
[18:34:14] *** Joins: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net)
[18:34:29] <cmr> Jemaclus: have you profiled it to find the slow part yet?
[18:34:31] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[18:34:38] <Jemaclus> i dunno how to do that
[18:34:43] <Jemaclus> are there docs for that?
[18:34:45] <cmr> what platform are you on?
[18:34:52] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[18:34:58] <Jemaclus> Mac OSX
[18:35:05] <WebeWizard> Wiiizzzaaaarrrrrdddd
[18:35:26] <Jemaclus> My guess is that it's having to find the key in the hashmap and load the geos again each time that's slowing it down
[18:35:43] <cmr> Jemaclus: if you compile with -g, you can run the program using Instruments.
[18:35:45] <cmr> https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/Introduction/Introduction.html
[18:36:08] <Jemaclus> cool!
[18:36:13] *** Joins: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP)
[18:36:28] <cmr> I mean
[18:36:33] <cmr> you can run it under instruments anywayb
[18:36:36] <cmr> *anyway
[18:36:39] <cmr> but -g will give you more useful information
[18:36:42] <edwardw> Is there a way to borrow part of a structure mutably and another part immutably at the same time? Those two parts are not overlapped with each other
[18:36:44] <cmr> like line numbers :P
[18:36:48] <cmr> edwardw: not safely, no.
[18:36:51] <Yurume> edwardw, no.
[18:37:06] <arielb1> borrow the parts
[18:37:11] <edwardw> okay
[18:37:24] <arielb1> or split the struct
[18:37:46] <arielb1> by the way, how do you implement a parallel stack in rust?
[18:37:49] <edwardw> arielb1: actually what I want is exactly the opposite :(
[18:38:00] *** Joins: lpy_ (lpy@54B459A1.4439B922.7CEBAF5A.IP)
[18:38:08] *** Quits: kvark (Mibbit@9A8A5739.49975FB2.AE2D72A6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:38:16] <edwardw> for some reason, I need to merge two structure together
[18:38:21] <arielb1> edwardw: a huge struct of doom?
[18:38:22] *** Quits: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP) (Ping timeout)
[18:38:45] <edwardw> arielb1: basically, yes
[18:39:02] <Eridius> rusti: struct Foo { a: uint, b: uint }; let mut foo = Foo { a: 3, b: 4 }; { let Foo { ref mut a, ref b } = foo; *a = 5; println!("b: {}", *b); } println!("foo: {:?}", foo)
[18:39:02] <arielb1> can't you have substructures?
[18:39:04] -rusti- b: 4
[18:39:04] -rusti- foo: main::Foo{a: 5u, b: 4u}
[18:39:04] -rusti- ()
[18:39:06] *** Joins: m-r-r (m-r-r@DA163170.3FD22A6B.CF651168.IP)
[18:39:09] <Eridius> wel what do you know, it does work
[18:39:18] <Eridius> edwardw: via destructuring you can take both borrows at the same time
[18:39:21] <edwardw> arielb1: I suppose so
[18:39:30] <Yurume> Jemaclus, what csv library are you using now? is it Geal/rust-csv?
[18:39:39] <Jemaclus> Yurume: wrote it myself
[18:39:48] <edwardw> Eridius: what do you mean by destructing?
[18:39:53] <Eridius> edwardw: see what I just write to rusti
[18:39:55] <Eridius> *wrote
[18:40:03] *** Quits: lpy_ (lpy@54B459A1.4439B922.7CEBAF5A.IP) (Ping timeout)
[18:40:05] <Yurume> I think the most likely suspect is CSV parser
[18:40:08] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Connection reset by peer)
[18:40:15] *** Joins: sunfish (chatzilla@moz-8DE7F965.dsl.dynamic.sonic.net)
[18:40:17] <edwardw> Eridius: rusti?
[18:40:19] <arielb1> Jemaclus: can you github the parser?
[18:40:27] <arielb1> rusti: println("Hello")
[18:40:27] -rusti- <anon>:10:9: 10:16 error: unresolved name `println`.
[18:40:27] -rusti- <anon>:10         println("Hello")
[18:40:27] -rusti-                   ^~~~~~~
[18:40:27] -rusti- error: aborting due to previous error
[18:40:28] -rusti- application terminated with error code 101
[18:40:35] <Eridius> edwardw: yes, look up a few lines
[18:40:36] <arielb1> rusti: use println; println("Hello")
[18:40:39] -rusti- pastebinned 8 lines of output: http://ix.io/atb
[18:40:43] <arielb1> rusti: use std::println; println("Hello")
[18:40:46] -rusti- pastebinned 8 lines of output: http://ix.io/atc
[18:40:47] <Jemaclus> arielb1: to help me debug, or just for kicks? :)
[18:40:53] <Eridius> arielb1: println!() is what you should be using, not println
[18:40:54] <arielb1> to help you debug
[18:41:01] <arielb1> rusti: println!("Hello")
[18:41:02] -rusti- Hello
[18:41:02] -rusti- ()
[18:41:13] <Yurume> Jemaclus, ah, and you are better to use find_mut and/or insert_or_update_with instead of find_copy.
[18:41:33] <Yurume> that might be another problem, if there are lots of rows with the same state.
[18:41:41] <Jemaclus> arielb1: heh, ok, i'll push it.
[18:41:51] <Jemaclus> Yurume: there are. 43,000 rows.. only 50 states..
[18:42:15] <Yurume> that... might make a difference, since there should be at least one state with 43000/50 = 860 duplicate rows.
[18:42:18] <arielb1> Jemaclus: that could be the problem
[18:42:39] <arielb1> you're copying it every time
[18:42:39] *** Quits: edwardw (edwardw@4112974A.B4358688.30F15291.IP) (Ping timeout)
[18:42:44] *** Joins: edwardw (edwardw@BF6575DE.1B2F6624.7F41E82D.IP)
[18:42:48] <arielb1> that's O(n^2)
[18:42:50] <Yurume> so the rule of thumb: minimize cloning.
[18:42:57] <Jemaclus> I don't think the data set is the problem. My PHP version runs this in 1.5s (versus my Rust version at 65s)
[18:43:09] <Yurume> Jemaclus, the data set is not a problem, the algorithm is the problem.
[18:43:10] <arielb1> sure because you're O(n^2)
[18:43:11] <Jemaclus> so something in this algorithm is inefficiently parsing that data
[18:43:12] <Eridius> Jemaclus: is your PHP version cloning all the data?
[18:43:22] <Jemaclus> PHP doesn't require cloning
[18:43:23] <Yurume> the algorithm *may* be inefficient
[18:43:25] <Jemaclus> as far as i'm aware
[18:43:28] <Jemaclus> I just put it in an associative array
[18:43:32] <Jemaclus> and it handles all that magically
[18:43:39] <Jemaclus> which is why I'm having trouble getting the Rust version to do what I want.. hehe
[18:43:40] <o11c> there is no magic
[18:43:45] <Yurume> Eridius, it has a crappy version of reference and mutable associative array
[18:43:51] <arielb1> find_copy copies the state-specific array - which is O(n^2) - the PHP doesn't clone the array
[18:43:51] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[18:43:54] <arielb1> probably
[18:44:02] <Jemaclus> sounds right
[18:44:07] <Jemaclus> I don't know much about the PHP internals
[18:44:17] <arielb1> if it's like Python then it doesn't
[18:44:18] <Yurume> if you add it with $geo_map[$state][] = ...; then it wouldn't incur any copying overhead
[18:44:27] <Eridius> Jemaclus: why are you using find_copy?
[18:44:39] <Yurume> arielb1, except that the common idiom is geo_map.setdefault(state, []).append(...) anyway
[18:44:56] <Yurume> the common idiom for Python*
[18:44:58] *** Joins: halleck (a@moz-B7DA19D2.dynamic.mnet-online.de)
[18:45:04] <Eridius> Jemaclus: you should be using geo_map.find_or_insert_with(state, |_| ~[])
[18:45:10] <Jemaclus> Eridius: that's a good question :) I was getting ownership issues
[18:45:13] <Eridius> Jemaclus: that will give you back a &mut ~[] that you can then append to
[18:45:22] <Eridius> and then you can drop the .insert() line
[18:45:35] <Jemaclus> er
[18:45:35] <Jemaclus> hmm
[18:45:44] *** Quits: Kynes (Kynes@moz-3DC6C6E7.mit.edu) (Quit: Leaving)
[18:45:46] *** Quits: canhtak (canhtak@moz-5ED861D3.wl.t.ulaval.ca) (Quit: canhtak)
[18:45:50] <Jemaclus> lemme look at those docs
[18:46:23] <Jemaclus> oh i see.
[18:46:42] <Eridius> fundmantally you wanted .find_mut() instead of .find_copy(), but since that still leaves you with the need to insert the value if it doesn't exist, .find_or_insert_with() does that for you
[18:46:51] <arielb1> mangle(state, x, |x| ~[x], |x,a| a.append(x))
[18:46:58] <Eridius> and I'm recommending that over .find_or_insert() so you don't bother allocating an empty ~[] in the cases where it doesn't have to insert
[18:47:08] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:47:08] <Eridius> arielb1: sure, you could do that too, but it's probably less readable
[18:47:09] <m-r-r> Hello
[18:47:17] <arielb1> mangle(state, x, |_,x| ~[x], |_,x,a| a.append(x))
[18:47:19] <arielb1> actually
[18:47:24] <Yurume> arielb1, mangle is really hard to decipher
[18:47:30] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[18:47:36] <m-r-r> I'm learning Rust, and i'm trying to write a simple HTML tokenizer
[18:47:40] *** Quits: halleck (a@moz-B7DA19D2.dynamic.mnet-online.de) (Ping timeout)
[18:47:46] *** Quits: skade (skade@moz-F3F67608.pools.arcor-ip.net) (Quit: Textual IRC Client: www.textualapp.com)
[18:47:46] <Eridius> arielb1: mangle() is the function that powers .find_or_insert_with() and others. It's only public because it can be used to build other methods
[18:47:49] <m-r-r> Here is my code: http://ix.io/ate+atd
[18:48:05] <Eridius> m-r-r: good luck! the HTML5 tokenizing rules are well-defined, but complicated
[18:48:24] <o11c> m-r-r: suggest you start with something simple like xml
[18:48:29] <m-r-r> Eridius: thanks :-)
[18:48:30] *** Quits: Linear (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us) (Ping timeout)
[18:48:55] <Jemaclus> Eridius: you learn something every day... that's a very useful function.
[18:48:58] <o11c> m-r-r: character references shouldn't be tokens
[18:49:01] *** Joins: autra (augustin@moz-BE76895F.fbx.proxad.net)
[18:49:04] <o11c> m-r-r: instead transform them as you read
[18:49:17] <m-r-r> o11c: good idea
[18:49:25] *** Quits: vmx (vmx@moz-5393F4BD.pools.arcor-ip.net) (Quit: Leaving)
[18:49:52] <m-r-r> but in fact, my code does not compile: the compiler says 'error: unresolved name `Data`. Did you mean `self`?' 
[18:50:22] <Eridius> Jemaclus: protip: read all the documentation on the type in question! There's often some useful functions ;)
[18:50:27] <Eridius> also, skip unnecessary copying
[18:51:05] <Jemaclus> Eridius: yep yep, i'm trying :D
[18:51:18] *** Joins: avsej (avsej@D9A610B8.4841F515.FB33447D.IP)
[18:51:28] <Eridius> it would be nice to be able to skip the cloning of the CSV data too, but I'd need to know more about the Csv type to know if there's any way to do that
[18:51:28] *** Quits: zihaowang (zihaowang@1F0B128A.7F21D601.DDE5D3F6.IP) (Client exited)
[18:51:32] <arielb1> rust types have even more functions then java
[18:51:34] <Eridius> e.g. if it had a .move_iter() or somesuch
[18:51:35] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[18:51:35] *** Joins: zihaowang (zihaowang@1F0B128A.7F21D601.DDE5D3F6.IP)
[18:51:43] *** Quits: zihaowang (zihaowang@1F0B128A.7F21D601.DDE5D3F6.IP) (Client exited)
[18:51:46] <m-r-r> it's at line #94, near 'self.token = Some(Data(self.data))' ... I think my syntax is wrong, but i can't see where :-/
[18:52:11] *** Joins: Linear (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us)
[18:52:14] *** Joins: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com)
[18:52:17] *** Quits: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com) (Quit: johnmurray)
[18:52:21] *** Joins: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de)
[18:52:26] <arielb1> there should be a method index
[18:52:36] <arielb1> that shows (name, type) for each method
[18:52:43] <arielb1> like you have with impls
[18:52:46] *** Quits: vertexclique (vertexcliq@CBC91E36.762BDE03.1826D296.IP) (Client exited)
[18:53:04] <arielb1> *traits
[18:53:54] <Jemaclus> Eridius: the CSV parser: http://pastebin.com/AuBnskkn
[18:53:56] <Jemaclus> arielb1: ^
[18:54:03] <m-r-r> by the way, is there another HTML parser/tokznier project in Rust ?
[18:54:26] <o11c> I imagine servo has something
[18:55:01] <Eridius> Jemaclus: oh dear, .data() already clones all the data
[18:55:13] <Eridius> Jemaclus: but it does return a ~[] so stop using .mut_iter() (why did you use .mut anyway? You didn't mutate it) and use .move_iter()
[18:55:19] <arielb1> why does csv.data clone the dat
[18:56:00] <Eridius> Jemaclus: then in your load_geos you can destructure each line to move the values that you want out of it
[18:56:34] *** Quits: lerc (quassel@moz-289EFA2.telstraclear.net) (Connection reset by peer)
[18:56:57] <Jemaclus> arielb1: because I kept getting "error: cannot move out of dereference of & pointer" and I'm not sure how to fix that otherwise? (sorry, noob)
[18:57:19] <Eridius> Jemaclus: you can consume your Csv object to move the data directly
[18:57:22] <arielb1> can you github all the code
[18:57:27] <arielb1> in one piece?
[18:57:30] <arielb1> or pastebin it
[18:57:32] <Yurume> Jemaclus, pub fn data<'r>(&'r self) -> &'r [~[~str]] { self.data } won't copy the data.
[18:57:48] <arturo> is there any prefered way to send messages from a thread created by a c library? if i use a channel created in the main task sending through it from the native thread chrases, but if i create it inside a swap(proc()... and pass it to the native thread then it works
[18:57:48] <Eridius> Yurume: sure, but with that he'll have to keep the copies he's doing in load_geo
[18:58:04] <Eridius> arielb1: channels should be usable from native threads
[18:58:06] <Jemaclus> Yurume: what's the `r stuff do?
[18:58:08] <arielb1> he wants to destructure the data
[18:58:21] <Eridius> Jemaclus: that's a lifetime. It lets you return a borrowed pointer that's derived from one of your parameters
[18:58:36] <Jemaclus> oh.
[18:58:37] <Eridius> Jemaclus: but in this case you probably want `pub fn move_data(self) -> ~[~[~str]] { self.data }`
[18:58:41] <Yurume> arielb1, then it has to consume the reader...
[18:58:45] <Eridius> Jemaclus: which will destroy your Csv but return the data un-copied
[18:58:58] <arielb1> that's what he wants to do
[18:59:00] *** Joins: claudiu (claudiu@8ECC4BFC.EC83738C.D8D85ABD.IP)
[18:59:02] <Eridius> although yes, your .data() should be modified as Yurume suggested, to avoid the copy there
[18:59:09] <Eridius> but you'll want to use .move_data() in load_geos instead
[18:59:16] <arielb1> although copying the reader *in one piece* isn't too bad
[18:59:50] *** Joins: novabyte (novabyte@ACFCB63D.EEABAC9C.AE02ECA4.IP)
[18:59:58] <arielb1> but he should probably move_iter on a destructured data
[18:59:59] <Yurume> Jemaclus, actually, in this case, do we need Csv at all? :) unless you are providing some useful functions (e.g. header support), you can live with a simple function that parses the CSV and returns ~[~[~str]] and leverage all vector methods available to the return value.
[19:00:25] *** Joins: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:00:55] <Yurume> if you envision something like header support, then you'll have to design it carefully (e.g. it should has a functioning Iterator in order to be usable in loops)
[19:01:15] <Yurume> but for now I doubt Csv is required at the first place.
[19:01:22] <Jemaclus> Yurume: we don't, but I built the CSV as a separate project and I just decided to reuse it for this one.
[19:01:23] <arielb1> by the way, shouldn't it be into_iter rather then move_iter?
[19:01:37] <arielb1> Jemaclus: the struct Csv doesn't add any abstraction
[19:01:43] <Jemaclus> so I was thinking ahead for maybe header support and things like that for a future version
[19:02:26] *** Joins: halleck (a@6AF4241C.AC78C717.9C269F8F.IP)
[19:02:33] <Eridius> arielb1: the convention is .move_iter() will destruct the receiver and return an iterator that moves values instead of providing references
[19:02:33] <Yurume> arielb1, hmm, good point. so move_iter consumes the iteratee and converts it "into" the iterator.
[19:02:55] <Eridius> see e.g. ~[].move_iter()
[19:03:09] <Eridius> although I get why you're suggesting .into_iter()
[19:03:18] *** Joins: ramitos (ramitos@moz-5AC0C94E.netvisao.pt)
[19:03:28] *** Quits: ramitos (ramitos@moz-5AC0C94E.netvisao.pt) (Quit: Computer has gone to sleep.)
[19:03:32] <Eridius> the problem is that .iter() is not generally thought of as returning an Iterator struct, but as performing the action of iterating the receiver
[19:03:39] <Eridius> that's why it's .iter() and not e.g. .as_iter()
[19:03:41] *** Joins: askalski (akuda@2BA4E5A7.CC7751E8.6712E96B.IP)
[19:03:50] <arielb1> .iter() is fine
[19:04:12] <arielb1> actually as_iter and into_iter together would be wrong
[19:04:19] <arielb1> one returns an &iterator, the other returns a iterator
[19:04:42] *** Quits: autra (augustin@moz-BE76895F.fbx.proxad.net) (No route to host)
[19:04:49] *** Joins: claudiu_ (claudiu@moz-FB94486E.thefacebook.com)
[19:04:55] <arielb1> thats an iterator<&T> not an &iterator<T>
[19:05:55] *** Joins: Florob (Florob@moz-39532932.de)
[19:05:57] *** Quits: claudiu (claudiu@8ECC4BFC.EC83738C.D8D85ABD.IP) (Ping timeout)
[19:07:08] <Jemaclus> with .move_iter(), how do I destructure the ~[~str]?
[19:07:13] *** Joins: c-a (c-a@moz-DBDF8C81.cust.bluewin.ch)
[19:07:20] *** Quits: doener (doener@moz-C68F600D.unity-media.net) (Quit: leaving)
[19:08:42] <arielb1> let Csv { data: data } = ::csv::Csv::new(~"US.csv", '\t');
[19:08:54] <arielb1> for f in data.move_iter()
[19:09:06] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[19:09:13] <Yurume> and f would be ~str (not &~str etc.)
[19:09:16] <Eridius> Jemaclus: unfortunately, short of using another .move_iter() and spinning it by hand, the only way I can think of is with a match statement
[19:09:17] <arielb1> or add into_data to Csv
[19:09:22] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:09:43] <arielb1> and use ::csv::Csv::new(~"US.csv", '\t').into_data()
[19:09:51] <Eridius> let (state, zip, city, lat, lng) = match f { [_, zip, city, _, state, _, _, _, lat, lng, ..] => (state, zip, city, lat, lng), _ => unreachable!() };
[19:09:59] <arielb1> fn into_data(self) -> ~[~[str]] { self.data }
[19:10:31] <arielb1> rusti: unreachable!()
[19:10:34] -rusti- pastebinned 8 lines of output: http://ix.io/aaw
[19:10:37] <Eridius> well I mean if you're ok with allocating 5 empty strings you could also just swap them into the vector, for easier readability, but less performance
[19:10:45] <Eridius> arielb1: unreachable!() is a macro that's basically just fail!("unreachable")
[19:11:02] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:11:12] <arielb1> rusti: unreachable!("x")
[19:11:12] -rusti- <anon>:10:22: 10:25 error: no rules expected the token `"x"`
[19:11:12] -rusti- <anon>:10         unreachable!("x")
[19:11:12] -rusti-                                ^~~
[19:11:12] -rusti- application terminated with error code 101
[19:11:28] <Eridius> rusti: let x: int = unreachable!();
[19:11:32] -rusti- pastebinned 8 lines of output: http://ix.io/aaw
[19:11:37] <Eridius> rusti: let x: int = unreachable!(); x
[19:11:39] -rusti- pastebinned 8 lines of output: http://ix.io/aaw
[19:11:49] <Eridius> rusti: if true { unreachable!() } else { 5i }
[19:11:50] -rusti- task '<main>' failed at 'internal error: entered unreachable code', <anon>:10
[19:11:50] -rusti- application terminated with error code 101
[19:11:53] <Eridius> there we go
[19:12:02] <Eridius> so yeah it's fail!("internal error: entered unreachable code")
[19:12:07] *** Joins: mythmon (mythmon@moz-AD308AD7.members.linode.com)
[19:12:11] *** Joins: mgottschlag (quassel@moz-65AB7C61.cust.bluewin.ch)
[19:12:14] <arielb1> why didn't it work originally?
[19:12:31] <arielb1> rusti: { unreachable!() }
[19:12:33] -rusti- pastebinned 8 lines of output: http://ix.io/aaw
[19:12:37] <Eridius> arielb1: because unreachable!() returns ! and the rusti code passed that to println!() which needed to know the type
[19:12:57] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[19:13:21] <arielb1> rusti: unreachable!();
[19:13:23] -rusti- pastebinned 8 lines of output: http://ix.io/aaw
[19:13:28] <arielb1> rusti: { unreachable!(); }
[19:13:30] -rusti- pastebinned 8 lines of output: http://ix.io/aaw
[19:13:34] <arielb1> rusti: { unreachable!(); 0; }
[19:13:37] -rusti- pastebinned 8 lines of output: http://ix.io/aaw
[19:13:39] <Eridius> arielb1: are you having fun?
[19:13:40] <arielb1> rusti: { unreachable!(); 0i }
[19:13:42] -rusti- pastebinned 8 lines of output: http://ix.io/aaw
[19:13:45] <Jemaclus> ok, thanks all. need to move on to another project for a bit. I appreciate all of your help!
[19:13:48] <arielb1> I'm trying to make it work
[19:13:50] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[19:13:54] <Eridius> the only way to get it to work in rusti is to use a control structure with at least one control flow path that doesn't hit unreachable!()
[19:14:16] <arielb1> fine
[19:14:29] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[19:14:35] <arielb1> do you have an idea on how to implement a parallel stack?
[19:14:40] <arielb1> a stack parallel to the call stack?
[19:14:50] <Eridius> arielb1: I'm not sure what you mean
[19:14:55] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[19:15:05] <arielb1> https://gist.github.com/arielb1/8960554
[19:15:31] <arielb1> I'm actually implementing a tree traversal
[19:15:36] <arielb1> and want to keep the parent-chain
[19:15:43] <arielb1> without allocating
[19:16:05] <arielb1> but the gist is simpler
[19:16:05] <Eridius> why is there no indentation?
[19:16:10] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Input/output error)
[19:16:13] <arielb1> I have no idea
[19:16:33] *** Quits: edwardw (edwardw@BF6575DE.1B2F6624.7F41E82D.IP) (Quit: Leaving...)
[19:16:41] *** Joins: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP)
[19:16:45] <arielb1> fixed
[19:17:08] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:17:19] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Input/output error)
[19:17:34] <arielb1> this should print 0\n1\n2\n3\n4\n5
[19:17:43] *** Quits: eholk (eholk@moz-BA312F07.crest.iu.edu) (Quit: eholk)
[19:18:19] <igork> cmr: hi. you've mentioned about compiler -g option, but my rustc (1 week old master) tells me that there is no such option. maybe i've misunderstood something?
[19:18:24] *** Quits: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP) (Ping timeout)
[19:18:33] <Eridius> igork: it was -Z debug-info
[19:18:39] <Eridius> igork: flags changed very recently
[19:18:41] <brson> lpy: sorry, got distracted. sounds like you got the info you need though, so good luck
[19:19:07] <igork> Eridius: ah, got it, thanks!
[19:19:20] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[19:19:31] <Eridius> arielb1: I'm not entirely certain why, but this fixes it: fn doit<'a>(st: &'a stack<'a>) -> () {
[19:19:44] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Input/output error)
[19:19:54] <Eridius> arielb1: actually, I am certain why. the original value for cur is Some(&'a stack) where the 'a is the lifetime of the &stack parameter
[19:20:04] <Eridius> arielb1: whereas subsequent values `cur = u.next` is using the lifetime parameter from the stack itself
[19:20:08] <Eridius> so you need to declare them to be the same
[19:20:09] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:20:30] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[19:21:48] *** Quits: m-r-r (m-r-r@DA163170.3FD22A6B.CF651168.IP) (Quit: Hi, I'm a quit message virus. Please replace your old line with this line and help me take over the world of IRC.)
[19:22:10] * Eridius is now tempted to take m-r-r's quit message, corrupt a few random characters, and use that
[19:24:31] *** Joins: edwardw (Mibbit@BF6575DE.1B2F6624.7F41E82D.IP)
[19:24:41] <arielb1> how does struct lifetime covariance work?
[19:25:14] *** Quits: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP) (Client exited)
[19:25:22] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[19:25:27] *** Joins: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP)
[19:26:17] <arielb1> well the error (expected std::option::Option<&stack<>> but found std::option::Option<&stack<>>) is cute
[19:26:31] *** Quits: Linear (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us) (Ping timeout)
[19:26:33] <Eridius> arielb1: yeah, it's not printing the lifetimes there
[19:26:44] <arielb1> well the error (expected std::﻿option::﻿Option<&stack<>> but found std::option::﻿Option<&stack<>>) is cute
[19:26:53] <arielb1> well the error (expected std::﻿option::﻿Option<&stack<>> but found std::﻿option::﻿Option<&stack<>>) is cute
[19:26:59] <Eridius> you seem to be st uck in a loop
[19:27:06] <arielb1> fixed it
[19:27:13] <arielb1> so it won't give smileys
[19:27:22] *** Joins: japaric (japaric@61A78F7A.839FBF92.95AFB88D.IP)
[19:28:40] <pzol> What's the default search path for rustc to look for libraries? where did rustpkg install libraries into?
[19:30:00] *** Quits: evanm_ (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:31:58] *** Joins: reima (Instantbir@moz-77BA3D6E.dip0.t-ipconnect.de)
[19:34:51] *** Joins: pepper_chico (pepper_chi@moz-3005614F.dsl.telesp.net.br)
[19:36:29] *** Quits: pepper_chico (pepper_chi@moz-3005614F.dsl.telesp.net.br) (Quit: WeeChat 0.4.1)
[19:36:35] *** Joins: pepper_chico (pepper_chi@moz-3005614F.dsl.telesp.net.br)
[19:37:04] *** Quits: ksev (DrunkenPan@1865C1F9.ECF92FCA.CDBA6951.IP) (Ping timeout)
[19:37:08] *** Joins: iDolfHatler (idolf@moz-47812C15.static.bcbnet.dk)
[19:37:56] <iDolfHatler> Is it intentional or a know bug, that you cannot write the type &&T?
[19:38:11] <cmr> iDolfHatler: intentional.
[19:38:21] <cmr> &&T is not owned or mutable.
[19:38:24] <myname> what the hell @ nick
[19:38:45] *** Joins: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP)
[19:38:51] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:39:19] *** Quits: askalski (akuda@2BA4E5A7.CC7751E8.6712E96B.IP) (Quit: Wychodzi)
[19:39:22] <sfackler> cmr: isn't that just a parser bug?
[19:39:24] <arielb1> why?
[19:39:25] <sfackler> & &T works
[19:39:28] *** Quits: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de) (Quit: Leaving.)
[19:39:29] <Eridius> iDolfHatler: && is the && token
[19:39:51] <cmr> Oh the type itself.
[19:39:54] <cmr> Not writing to the value of type...
[19:40:53] *** Quits: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP) (Ping timeout)
[19:40:53] *** Quits: jamil_1 (kvirc@B04B3690.5AF512A7.3D6CCABD.IP) (Ping timeout)
[19:42:17] *** Quits: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: brendan)
[19:42:33] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:42:54] *** Quits: mgottschlag (quassel@moz-65AB7C61.cust.bluewin.ch) (Ping timeout)
[19:43:11] *** Quits: sunfish (chatzilla@moz-8DE7F965.dsl.dynamic.sonic.net) (Ping timeout)
[19:43:24] *** Joins: mawuli (mawuli@moz-5ADAB167.com.gh)
[19:44:00] *** Joins: jamil_1 (kvirc@B04B3690.5AF512A7.3D6CCABD.IP)
[19:44:29] *** Joins: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:44:37] <iDolfHatler> sfackler: thanks
[19:44:53] *** Joins: mgottschlag (quassel@moz-50FD2880.scc.kit.edu)
[19:44:57] <iDolfHatler> Is it just me, or should this be valid code:
[19:45:00] <iDolfHatler> let x: ~[u8] = ~([]);
[19:45:09] <arielb1> DST
[19:45:14] <Eridius> iDolfHatler: ([]) is not valid
[19:45:30] <arielb1> http://smallcultfollowing.com/babysteps/blog/2014/01/05/dst-take-5/
[19:45:41] <Eridius> arielb1: I don't think DST will make that particular syntax work
[19:46:02] *** Quits: mitsuhiko (mitsuhiko-@moz-BC29B73E.srv.pocoo.org) (Ping timeout)
[19:46:08] <Eridius> iDolfHatler: to be more precise: ([]) should be compilable, but it's going to produce, I believe the type &[T]
[19:46:17] <Eridius> which means you're trying to construct ~&[T]
[19:46:28] *** Quits: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP) (Ping timeout)
[19:46:31] <arielb1> won't you have autoderef?
[19:46:41] <Eridius> ah, no, actually that's wrong. It produces [T, ..0], apparently, which normally gets auto-borrowed to &[]
[19:46:48] <Eridius> but in this case it doesn't, instead it produces ~[T, ..0]
[19:46:55] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:46:56] <Eridius> which is distinct from the ~[T] that you wanted
[19:47:02] <Eridius> and no, DST won't change this behavior
[19:47:03] *** Joins: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de)
[19:47:04] <arielb1> ~[T, ..0] converts to ~[T]
[19:47:18] <Eridius> arielb1: I believe you can do that with an `as` cast with DST
[19:47:22] <Eridius> but I don't think it will happen implicity
[19:47:24] <Eridius> *implicitly
[19:47:32] <arielb1> the proposal isn't finalised yet
[19:48:21] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[19:48:28] <arielb1> I think I read somewhere they were planning to add auto-fat-pointer
[19:48:38] *** Quits: arielb1 (Mibbit@moz-E006B9EC.cs.tau.ac.il) (Quit: http://www.mibbit.com ajax IRC Client)
[19:48:39] *** Joins: bakkdoor (bakkdoor@moz-D653693A.osnanet.de)
[19:48:55] *** Joins: ksev (DrunkenPan@moz-C6488E57.autodesk.com)
[19:49:59] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[19:51:08] *** Quits: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[19:51:14] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[19:51:47] *** Quits: edwardw (Mibbit@BF6575DE.1B2F6624.7F41E82D.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:52:11] *** Joins: jesse98 (jjones@6251EDC2.15651213.B46B86FA.IP)
[19:52:22] *** Quits: ezyang (ezyang@moz-3AE7229D.mit.edu) (Quit: leaving)
[19:54:15] *** Joins: askalski (akuda@2BA4E5A7.CC7751E8.6712E96B.IP)
[19:55:05] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[19:56:01] *** Quits: bytbox (s@moz-54E13927.washdc.fios.verizon.net) (Ping timeout)
[19:56:36] *** Quits: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: brendan)
[19:56:48] *** Joins: sigma1 (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[19:56:52] *** Joins: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:57:13] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[19:57:18] *** Joins: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:57:18] *** ChanServ sets mode: +ao brson brson
[19:57:28] *** Quits: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: leaving)
[19:57:43] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Ping timeout)
[19:59:26] *** Quits: Sorella (quildreen@BF8B9A19.AACAE775.A95FAE2B.IP) (Quit: Ex-Chat)
[19:59:58] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Ping timeout)
[20:00:52] *** Joins: mitsuhiko (mitsuhiko-@moz-BC29B73E.srv.pocoo.org)
[20:02:12] *** Joins: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[20:02:12] *** ChanServ sets mode: +ao brson brson
[20:02:52] *** Joins: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP)
[20:02:54] *** Quits: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP) (Quit: diegoyam)
[20:03:05] *** Joins: Uther (Instantbir@moz-834083A8.hfc.dyn.abo.bbox.fr)
[20:03:20] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Connection reset by peer)
[20:03:21] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[20:04:40] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[20:05:17] *** Joins: mib_8xw83g (Mibbit@moz-81E95E89.unassigned.ntelos.net)
[20:05:31] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[20:06:12] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Client exited)
[20:06:12] <mib_8xw83g> what is the way to replicate dup2() in rust; i need to redirect stdout to a file
[20:06:24] <cmr> mib_8xw83g: std::libc::dup2
[20:06:24] *** Joins: jadbaires (jadrian@moz-694D127C.dsl.telepac.pt)
[20:06:56] <mib_8xw83g> does that require an unsafe block?
[20:07:01] <cmr> yes.
[20:07:04] *** Quits: jadbaires (jadrian@moz-694D127C.dsl.telepac.pt) (Quit: Konversation terminated!)
[20:07:05] <cmr> it's calling into C code.
[20:07:07] *** Joins: bytbox (s@moz-54E13927.washdc.fios.verizon.net)
[20:07:47] *** Joins: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP)
[20:07:48] *** Joins: sunfish (chatzilla@moz-8DE7F965.dsl.dynamic.sonic.net)
[20:09:48] <mib_8xw83g> is there a way to do this using only rust code such as std::io::stdio module. I considered using the stdout() function, but it did not provide the desired functionality
[20:10:49] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[20:11:07] <cmr> no.
[20:11:26] *** Quits: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP) (Client exited)
[20:11:28] <mib_8xw83g> thank you
[20:11:36] <cmr> well
[20:11:41] <cmr> you could wrap the syscall yourself.
[20:11:52] <cmr> but it's far easier to just call into libc.
[20:12:32] <mib_8xw83g> ok last question. Is there a way to just close stdout for the current task?
[20:13:00] <cmr> tasks don't have their own sets of file descriptors.
[20:13:03] <cmr> processes do
[20:13:39] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[20:13:42] <mib_8xw83g> i see. that explains a lot.
[20:13:43] *** Joins: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP)
[20:15:26] <Eridius> cmr: std::io::stdio actually does have the notion of task-specific stderr/stdout, but I believe that's only used for print()/println()
[20:15:27] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[20:15:33] <Eridius> (I don't even know if it's used for print!()/println!())
[20:15:34] <cmr> Eridius: that's not the fd.
[20:15:38] <Eridius> sure
[20:15:49] <Jemaclus> good news: I got it down to 250ms.. :) :) :)
[20:15:54] <Eridius> Jemaclus: \o/
[20:16:06] <Eridius> and now you know why indiscriminate copying is a bad idea :)
[20:16:12] <Jemaclus> indeed
[20:16:47] <Jemaclus> I think the rest of the algorithm is still inefficient, but I'll worry about that later. Need to test bigger data sets first.
[20:17:22] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:17:35] <Jemaclus> the test was for 10K addresses, but I actually have 10M... obviously I can't dump a 10M CSV into the program, so I'll have to stream it somehow. I wonder how that'll affect performance.
[20:17:40] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[20:17:43] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Quit: victorporof)
[20:17:51] *** Quits: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[20:18:08] <Eridius> Jemaclus: you should be able to write a streaming CSV parser that takes a Reader on input, provides an iterator over all the rows, and works without unnecessary copying
[20:18:13] <cmr> Jemaclus: you already expose an iterator interface, so it should be easy to stream rows :)
[20:18:34] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[20:18:56] <Eridius> Jemaclus: it probably needs an update but you could try using https://github.com/Geal/rust-csv/
[20:19:01] <Jemaclus> yeah, let's just hope I do it efficiently the first time so I don't bug you guys too much ;)
[20:19:10] <Eridius> although it prints debug info using println!()? how strange
[20:19:14] <Eridius> so maybe just reimplement it yourself ;)
[20:19:31] <Jemaclus> oh man, that looks much cleaner than mine... 
[20:19:36] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[20:19:41] <Jemaclus> but it's more of a learning project than anything, so I'll just update my code to be more betterer
[20:19:42] <Jemaclus> :)
[20:20:06] *** Quits: iDolfHatler (idolf@moz-47812C15.static.bcbnet.dk) (Ping timeout)
[20:22:02] *** pmoore is now known as pmoore|away
[20:22:16] *** Joins: canhtak (canhtak@moz-4D8F0D46.wl.t.ulaval.ca)
[20:23:33] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[20:24:44] <mib_8xw83g> does this idea sound like an applicable way to redirect stdout : create port channel pair; spawn a child task; call std::run::process_output in the child and write the result to  the channel; in the parent, read the port and write output to a file.
[20:24:49] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:25:22] <cmr> mib_8xw83g: that would work, but it'd be incredibly inefficient compared to just using dup and pipe.
[20:25:55] *** Quits: c-a (c-a@moz-DBDF8C81.cust.bluewin.ch) (Ping timeout)
[20:26:22] <mib_8xw83g> i understand. Im writing a shell program, and my professor doesn't want any unsafe blocks, so this is my attempt to avoid using C functions
[20:27:05] <cmr> Ah ok.
[20:27:08] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:27:18] <cmr> Yes, that's a very feasible way to do it.
[20:28:55] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[20:29:16] *** Quits: h3r3tic (heretic@moz-8BC3B3DB.se) (Quit: )
[20:33:39] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[20:34:34] *** Joins: iDolfHatler (idolf@moz-47812C15.static.bcbnet.dk)
[20:34:41] *** Joins: pilf (pilf@44BF5D7D.B6A69891.5411983D.IP)
[20:35:24] <mib_8xw83g> or could i even skip the whole child task. if i call process_output, the results are placed in an object as opposed to being displayed. I can then read from this object and write to the desired file?
[20:37:38] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[20:37:49] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[20:39:16] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[20:39:31] *** Joins: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP)
[20:40:43] *** Quits: sunfish (chatzilla@moz-8DE7F965.dsl.dynamic.sonic.net) (Ping timeout)
[20:41:05] *** Joins: ktt3ja (ktt3ja@moz-85E2770C.hsd1.va.comcast.net)
[20:41:33] *** Quits: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP) (Ping timeout)
[20:46:51] *** Quits: jackneill (jackneill@moz-89B574C7.pool.digikabel.hu) (Ping timeout)
[20:47:04] <Tobba> hm
[20:47:14] <Tobba> a PHF thing could possibly be best intergrated as an LLVM pass
[20:47:15] *** Joins: rca_ (rcatolino@moz-CFD59DD6.adsl.proxad.net)
[20:47:21] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[20:47:52] *** Quits: rca (rcatolino@moz-124BA3D3.adsl.proxad.net) (Ping timeout)
[20:48:06] *** Quits: pepper_chico (pepper_chi@moz-3005614F.dsl.telesp.net.br) (Quit: WeeChat 0.4.1)
[20:48:43] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[20:48:45] <eddyb> Tobba: there's a match => PHF lower pass being implemented (or it was already implemented)
[20:48:57] <Tobba> p sure its already being implemented
[20:49:04] <Tobba> still, it might not be that bad of an LLVM pass
[20:49:45] <Tobba> find sections of code doing comparsions between a semi-big block of mem or a pointer and a set of constants
[20:49:45] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[20:50:13] *** Quits: askalski (akuda@2BA4E5A7.CC7751E8.6712E96B.IP) (Quit: Wychodzi)
[20:51:24] *** Joins: dapz (textual@moz-16954008.hsd1.ca.comcast.net)
[20:52:31] *** Quits: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP) (Ping timeout)
[20:52:55] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[20:53:12] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[20:53:15] <Tobba> heck, in case of an LLVM pass it could probably do more
[20:53:24] *** Joins: fuogo (Mibbit@moz-90BFCC11.hsd1.ca.comcast.net)
[20:53:25] <Tobba> like optimize certain big struct or tuple comparsions
[20:54:52] *** Quits: halleck (a@6AF4241C.AC78C717.9C269F8F.IP) (Quit: Leaving)
[20:55:25] *** Quits: mib_8xw83g (Mibbit@moz-81E95E89.unassigned.ntelos.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:55:44] *** Quits: fuogo (Mibbit@moz-90BFCC11.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:56:02] *** Quits: dukeleto (dukeleto@moz-C083E0FB.ptld.qwest.net) (Ping timeout)
[20:57:42] *** Quits: astroch (astroch@9B509CEB.DFC22EFB.DDE5D3F6.IP) (Ping timeout)
[20:58:05] *** Quits: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: brendan)
[20:59:26] *** Joins: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP)
[21:02:15] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[21:02:29] *** Joins: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:03:21] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[21:03:33] *** Joins: dkeenaghan (dkeenaghan@A9F153F4.DDE28F19.986A907C.IP)
[21:04:24] *** Quits: novabyte (novabyte@ACFCB63D.EEABAC9C.AE02ECA4.IP) (Quit: Leaving.)
[21:04:29] *** Joins: dukeleto (dukeleto@moz-C083E0FB.ptld.qwest.net)
[21:05:28] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Quit: Leaving)
[21:06:20] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[21:06:31] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[21:07:59] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[21:09:18] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[21:09:42] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[21:09:42] *** ChanServ sets mode: +ao pcwalton pcwalton
[21:10:50] *** Quits: eddyb (eddy@688E9026.F7C96DA2.FCAAE698.IP) (Ping timeout)
[21:11:11] <nrc> does ownership for a tuple work the same way as strcuts?
[21:11:12] *** Joins: astroch (astroch@moz-63EC1C61.hsd1.va.comcast.net)
[21:11:18] <nrc> *structs
[21:11:19] *** kimundi is now known as zz_kimundi
[21:11:23] <sfackler> yes
[21:11:35] <nrc> good :-)
[21:11:39] *** Quits: bakkdoor (bakkdoor@moz-D653693A.osnanet.de) (Quit: Leaving...)
[21:11:53] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[21:12:28] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Ping timeout)
[21:12:29] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[21:12:48] <nrc> So, next question, if I write `Type = Option<(Span, ~str)>` why does rust treat the str as &str:Send?
[21:13:23] <nrc> * Type blah =...
[21:13:37] *** Joins: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net)
[21:13:55] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:14:14] <nrc> use of blah as a return type?
[21:14:24] *** Quits: chandler (foo@moz-F990611.mastenbrook.net) (Ping timeout)
[21:14:27] <benh> Does it do that?
[21:14:32] <benh> I don't think &str is Send?
[21:14:48] <nrc> oh sorry, ~str:Send
[21:15:12] <benh> ~str just is Send because ownership can be transfered across tasks, does this cause a problem?
[21:15:13] *** Quits: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP) (Client exited)
[21:15:15] <nrc> technically ~str::str::Str:Send
[21:15:35] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[21:15:41] *** Joins: lerc (quassel@moz-289EFA2.telstraclear.net)
[21:15:50] <eibwen> acrichto: are you here, and have time to help me with the https://github.com/mozilla/rust/issues/7962 issue?
[21:15:53] <benh> oh, that's a boxed trait object then?
[21:16:02] <acrichto> eibwen: I am indeed
[21:16:14] <benh> you probably typed ~Str instead of ~str somewhere inbetween and now it's boxed
[21:16:15] <acrichto> eibwen: how can I help?
[21:16:33] <nrc> I get type errors - expected trait Str bu t found ~str, etc.
[21:16:43] <Eridius> nrc: ~Str and ~str are two different things
[21:16:49] <nrc> benh: ah, right, sweet, I'll check for the typo
[21:16:57] <eibwen> acrichto: I wrote something for that issue and wondered whether you could look over it
[21:16:59] <eibwen> let me pastebin it
[21:17:44] <nrc> benh, Eridius: yep, that fixed it. Thanks!
[21:17:48] *** Joins: h3r3tic (heretic@moz-8BC3B3DB.se)
[21:17:57] *** Joins: chandler (foo@moz-F990611.mastenbrook.net)
[21:17:57] <benh> hooray :)
[21:17:58] <eibwen> acrichto: http://pastebin.com/yt0nAnWW
[21:19:19] <acrichto> eibwen: looking
[21:20:34] *** Joins: espindol_ (espindola@moz-F0FBD3B4.dsl.teksavvy.com)
[21:21:14] <acrichto> eibwen: looks good, nice job!
[21:21:25] *** Quits: espindola (espindola@moz-9F530B29.com) (Ping timeout)
[21:21:26] <acrichto> you sadly can't do cfg(foo = "bar"), only for the predefined attributes
[21:21:31] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: Textual IRC Client: www.textualapp.com)
[21:21:37] <acrichto> cfg(windows) instead of cfg(win32)
[21:21:39] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[21:22:01] <acrichto> you may also want to mention not(foo) as well
[21:22:12] <eibwen> ahh
[21:22:15] <acrichto> nice job with the example though, I like it!
[21:22:26] <eibwen> thanks :)
[21:22:35] <eibwen> does not(foo = "bar") work too?
[21:22:47] <acrichto> yes, but not for user-defined foo
[21:22:54] <acrichto> only for the target_* ones (all compiler defined)
[21:23:29] *** Joins: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP)
[21:24:08] *** Joins: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:24:08] *** ChanServ sets mode: +ao brson brson
[21:25:03] *** Quits: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP) (Connection reset by peer)
[21:25:15] *** Joins: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP)
[21:25:36] *** Quits: b (b@moz-55CA322E.org) (Quit: !)
[21:26:12] *** Quits: dukeleto (dukeleto@moz-C083E0FB.ptld.qwest.net) (Ping timeout)
[21:26:27] *** Joins: ofeldt (ofeldt@moz-E8509514.dip0.t-ipconnect.de)
[21:26:58] *** Quits: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP) (Ping timeout)
[21:27:16] *** Quits: ofeldt- (ofeldt@moz-C0B15DAB.dip0.t-ipconnect.de) (Ping timeout)
[21:27:25] *** Quits: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP) (Ping timeout)
[21:27:26] *** Joins: b (b@moz-55CA322E.org)
[21:27:46] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[21:28:16] <eibwen> acrichto: is it OK to unify line endings to 80 chars in the sections I modify?
[21:28:37] <acrichto> eibwen: yes please :), but I'd restrict it to just what you modify
[21:28:45] <eibwen> yea sure
[21:28:47] <acrichto> I will always r+ the death to over 80 character lines
[21:28:55] *** Joins: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP)
[21:28:56] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[21:29:12] *** Joins: jensnockert (jensnocker@moz-4C68E8F4.mobileonline.telia.com)
[21:29:15] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:30:10] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[21:32:26] *** Quits: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de) (Connection reset by peer)
[21:32:48] <eibwen> acrichto: is there some standard on commit messages? what about the commiter name?
[21:33:31] *** Joins: deggert (deggert@moz-2C16B246.host.de.colt.net)
[21:33:45] <Eridius> acrichto: why 80? We've been limiting to 100
[21:33:56] *** Joins: sunfish (chatzilla@moz-C06D9702.mtv1.mozilla.com)
[21:34:37] <sfackler> I think you're supposed to stay under 80, but can overflow to 100 if you need to
[21:35:27] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Input/output error)
[21:35:41] *** Quits: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP) (Ping timeout)
[21:36:38] *** Quits: Ferreus (ferreus@moz-16D972C4.pools.arcor-ip.net) (Quit: WeeChat 0.4.3-dev)
[21:38:42] <pnkfelix> eibwen: On the subject of commit messages, I'd just like to mention https://github.com/graydon/bors/issues/20
[21:40:04] *** Quits: rca_ (rcatolino@moz-CFD59DD6.adsl.proxad.net) (Ping timeout)
[21:40:16] *** Joins: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP)
[21:40:36] <eibwen> pnkfelix: well, that's just about titles of PRs, not about commit messages
[21:41:26] <pnkfelix> eibwen: its related because it has an influence on the commit message that bors commits.  I'm mostly just asking that whatever you do, try to ensure that your PR description has a superset of the info in the PR title.
[21:41:41] <eibwen> ok
[21:41:57] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[21:42:18] *** Quits: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP) (Ping timeout)
[21:43:08] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[21:43:48] *** Quits: Earnestly (earnest@119EDA00.66A37A5.BFD1ABFD.IP) (Ping timeout)
[21:43:54] *** Quits: nszceta (hax@moz-E458A7C0.pharm.pitt.edu) (Input/output error)
[21:44:00] *** Joins: Earnestly (earnest@119EDA00.66A37A5.BFD1ABFD.IP)
[21:45:09] *** Quits: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: brendan)
[21:45:23] *** Joins: jhasse (jhass_000@moz-CF827B7E.dip0.t-ipconnect.de)
[21:45:39] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[21:45:51] *** Joins: pyon (user@21629915.40E3D2AB.1C8C8CE9.IP)
[21:45:56] *** Quits: jhasse (jhass_000@moz-CF827B7E.dip0.t-ipconnect.de) (Quit: Verlassend)
[21:46:15] *** zz_kimundi is now known as kimundi
[21:47:40] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[21:47:44] *** Quits: astroch (astroch@moz-63EC1C61.hsd1.va.comcast.net) (Ping timeout)
[21:47:46] *** Joins: kvanb (kvanb@EE387284.30385D4F.1611EE05.IP)
[21:48:35] *** Quits: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de) (Quit: Leaving.)
[21:48:39] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Input/output error)
[21:49:54] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[21:53:03] *** Joins: untwisted (untwisted@moz-C4D63F07.ucsc.edu)
[21:53:05] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[21:53:16] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Quit: dherman)
[21:53:38] *** Quits: lkuper (lkuper@A37A1456.14CD977C.51B6877.IP) (Quit: lkuper)
[21:53:42] *** Joins: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP)
[21:55:08] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[21:55:14] *** Joins: KindTwo (KindOne@moz-D832705E.dynamic.ip.windstream.net)
[21:55:33] *** Joins: killerswan (kevin.cant@moz-1F697F7B.uvs.sntcca.sbcglobal.net)
[21:55:42] <untwisted> Howdy! I have a question about converting between types. I've got a &[u8] that I'd like to break into 4 byte chunks and treat as a u32. I am using u32::parse_bytes, but keep getting None. Is this the appropriate method of going from [u8] -> u32?
[21:55:45] *** Quits: KindOne (KindOne@moz-B276D01E.dynamic.ip.windstream.net) (Ping timeout)
[21:56:06] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[21:56:06] *** KindTwo is now known as KindOne
[21:56:13] *** Quits: mythmon (mythmon@moz-AD308AD7.members.linode.com) (Input/output error)
[21:56:56] *** Joins: mythmon (mythmon@moz-AD308AD7.members.linode.com)
[21:57:01] <pnkfelix> untwisted: parse_bytes is for reading in a number encoded in ascii characters bytes, I think...
[21:57:41] <pnkfelix> untwisted: you could just combine the bytes yourself by shifting the values and adding them together.  (a + b << 8 + c << 16 + d << 24)
[21:57:50] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:58:08] *** Quits: mythmon (mythmon@moz-AD308AD7.members.linode.com) (Input/output error)
[21:58:14] <untwisted> yah, I considered that but am trying to learn the std library as well so didn't want to go reinventing any wheels
[21:58:22] *** Joins: heftig (heftig@moz-AD518734.dip0.t-ipconnect.de)
[21:58:24] *** Joins: mythmon (mythmon@moz-AD308AD7.members.linode.com)
[21:58:26] <untwisted> but I guess thats what I'll do for now, thanks
[21:58:41] *** Quits: uberj (uberj@moz-AD308AD7.members.linode.com) (Ping timeout)
[21:58:46] *** Quits: pcmattman (pcmattman@moz-D9B7D938.net) (Ping timeout)
[21:58:47] *** Joins: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:58:48] *** Joins: ldlework (ldlework@6AEB83D1.B92A0FC.176AC772.IP)
[21:59:01] <ldlework> Does anyone have a link to that original traits whitepaper?
[21:59:05] *** kimundi is now known as zz_kimundi
[21:59:10] <eibwen> acrichto: is there some standard on commit messages? what about the commiter name?
[21:59:15] <pnkfelix> untwisted: I wish I knew offhand of a method that would fold together the bytes in the manner above, but I do not know of one.
[21:59:17] *** Quits: ross (r@moz-35D0ADAB.clr.io) (Ping timeout)
[21:59:20] <jamil_1> untwisted: you can use std::io::MemReader
[21:59:23] <jamil_1> MemReader::new(x).read_le_i32().unwrap())
[21:59:32] *** Quits: mythmon (mythmon@moz-AD308AD7.members.linode.com) (Input/output error)
[21:59:37] <untwisted> pnkfelix: jamil_1: thanks for the help!
[21:59:56] <jamil_1> np
[22:00:01] *** Joins: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net)
[22:00:07] *** Quits: toddaaro (toddaaro@moz-98F46974.us) (Ping timeout)
[22:00:12] *** Quits: snerd (motk@moz-D21A06DF.members.linode.com) (Ping timeout)
[22:00:30] <Eridius> eibwen: for commit messages I always just follow the normal Git recommendations (50 characters maximum first line, written like an email subject line, blank linke between first and next, 72 characters max for the test, written in present tense)
[22:00:37] <Eridius> and committer name is presumably your name
[22:00:58] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[22:01:24] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[22:01:37] *** Quits: jason_ (jason@moz-EC85D533.members.linode.com) (Ping timeout)
[22:01:44] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:02:00] *** Quits: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP) (Quit: Leaving.)
[22:02:06] *** Joins: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP)
[22:02:10] *** jorendorff_away is now known as jorendorff
[22:03:05] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[22:03:05] <acrichto> Eridius: oh I Just have a personal preference to 80
[22:03:11] *** Quits: yosemite (sam@moz-8CEAB1B0.dasbistro.com) (Ping timeout)
[22:03:14] *** Joins: pcmattman (pcmattman@moz-D9B7D938.net)
[22:03:25] *** Joins: ross (r@moz-35D0ADAB.clr.io)
[22:03:31] <acrichto> eibwen: commit messages follow normal guidlines of a one line short summary followed by more detailed explanation of what just happened
[22:03:38] <acrichto> eibwen: the committer name is up to you though
[22:03:57] *** Quits: eco (eco@moz-87840B9D.net) (Ping timeout)
[22:04:19] *** Joins: toddaaro (toddaaro@moz-98F46974.us)
[22:04:33] *** Quits: utkarsh (utkarsh@moz-CA9C0A97.members.linode.com) (Ping timeout)
[22:04:34] *** Quits: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP) (Ping timeout)
[22:04:44] <bstrie> eibwen: you committer name must be "Winston Leonard Spencer-Churchill" or we will reject your pull request
[22:04:57] <bstrie> these are just the rules
[22:04:58] *** Quits: pcmattman (pcmattman@moz-D9B7D938.net) (Ping timeout)
[22:05:05] *** Quits: bgmerrell (bgmerrell@moz-AFAF64AB.members.linode.com) (Ping timeout)
[22:05:11] <pnkfelix> Rust made me add "II" to my name!
[22:05:25] *** Joins: mythmon (mythmon@moz-AD308AD7.members.linode.com)
[22:05:51] <bstrie> pnkfelix's committer name is Winston Leonard Spencer-Churchill II
[22:06:05] <bstrie> we allow this slight breach of etiquette because we adore him
[22:06:09] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[22:06:14] *** Joins: pcmattman (pcmattman@moz-D9B7D938.net)
[22:06:21] *** Quits: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP) (Client exited)
[22:06:30] *** Joins: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu)
[22:06:31] *** Joins: yosemite (sam@moz-8CEAB1B0.dasbistro.com)
[22:06:37] *** Joins: utkarsh (utkarsh@moz-CA9C0A97.members.linode.com)
[22:06:44] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Input/output error)
[22:07:13] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[22:07:17] *** Joins: eco (eco@moz-87840B9D.net)
[22:07:27] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[22:08:24] *** Joins: bgmerrell (bgmerrell@moz-AFAF64AB.members.linode.com)
[22:08:34] *** Joins: uberj (uberj@moz-AD308AD7.members.linode.com)
[22:08:55] *** Joins: snerd (motk@moz-D21A06DF.members.linode.com)
[22:09:10] *** Quits: jamil_1 (kvirc@B04B3690.5AF512A7.3D6CCABD.IP) (Ping timeout)
[22:09:36] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[22:09:53] *** Joins: twi (Adium@73A1CD26.382D4AAC.54B829D6.IP)
[22:10:08] *** Joins: jason_ (jason@moz-EC85D533.members.linode.com)
[22:13:51] *** Quits: brandonw (brandonw@moz-B334F9B.dhcp.oxfr.ma.charter.com) (Ping timeout)
[22:14:25] *** Joins: brandonw (brandonw@moz-B334F9B.dhcp.oxfr.ma.charter.com)
[22:18:04] *** Joins: Azdle (patrick@moz-8C723B60.hsd1.mn.comcast.net)
[22:19:20] *** Quits: mythmon (mythmon@moz-AD308AD7.members.linode.com) (Quit: WeeChat 0.4.2)
[22:21:06] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[22:21:15] *** Quits: dapz (textual@moz-16954008.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:21:25] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[22:21:54] *** Joins: bvssvni (Mibbit@moz-C4579D6F.bb.online.no)
[22:24:09] *** Joins: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com)
[22:24:22] <tiernjo> How come rustc complains about unused code when it is in fact being used?
[22:25:11] *** Quits: Azdle (patrick@moz-8C723B60.hsd1.mn.comcast.net) (Input/output error)
[22:25:13] <bvssvni> tienjo: git?
[22:25:15] <benh> Maybe it thinks you are not making the most of it.
[22:26:07] * bvssvni is having ten thumbs today
[22:26:09] <mcpherrin> tiernjo: That sounds like a bug
[22:26:10] *** Quits: jensnockert (jensnocker@moz-4C68E8F4.mobileonline.telia.com) (Connection reset by peer)
[22:26:59] *** Joins: Azdle (patrick@moz-8C723B60.hsd1.mn.comcast.net)
[22:27:06] *** Quits: mgottschlag (quassel@moz-50FD2880.scc.kit.edu) (Ping timeout)
[22:27:14] *** Joins: dapz (textual@moz-16954008.hsd1.ca.comcast.net)
[22:27:16] <tiernjo> "warning: code is never used: `get_bounds`, #[warn(dead_code)] on by default" Is a weird message to get considering i use get_bounds to check if the player charcter is touching and wall blocks
[22:27:40] <tiernjo> i have 75 errors, all saying that every function and method of mine is not used
[22:28:39] <sp3d> your main function calls them?
[22:28:49] <apoelstra> tiernjo: do you have a file included by 'mod' in multiple places?
[22:29:18] <sp3d> or, if it's a lib crate, they're marked as pub?
[22:29:37] *** Joins: dukeleto (dukeleto@moz-C083E0FB.ptld.qwest.net)
[22:30:03] *** Joins: astroch (astroch@6B9F2BA2.10591AD7.DDE5D3F6.IP)
[22:30:33] *** Joins: tali (tali@moz-CB7488B7.red.bezeqint.net)
[22:30:45] <tiernjo> no mods
[22:31:15] <tiernjo> everything is either pub or in the main loop as of now
[22:31:47] <sp3d> reduce to a small inconsistent file and submit an issue? <3
[22:31:51] *** Quits: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com) (Quit: )
[22:32:33] <tiernjo> small inconsistent file?
[22:32:46] <sp3d> small file that still makes rustc behave wrong
[22:32:47] <apoelstra> it'd be nice to pastebin it and post here first. (even if you are doing something wrong probably it's still an issue, but good to know whether it's a compiler bug or something that should have a warning)
[22:33:14] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[22:33:29] <apoelstra> tiernjo: do a git commit or whatever then start deleting lines until the bug goes away
[22:34:50] *** Joins: tjc (tjc@moz-25A51B8D.hsd1.ca.comcast.net)
[22:34:51] *** ChanServ sets mode: +o tjc
[22:34:55] <tiernjo> When you say mod, do you mean lots of modules named mod in their crate named folders only
[22:34:59] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[22:35:10] <tiernjo> or both that type and just crate named modules
[22:35:16] <tiernjo> mod.rs vs player.rs
[22:35:26] <apoelstra> i mean explicitly lines like "mod player;"
[22:35:37] *** Joins: kanaka (joelm@moz-99213C1D.lightspeed.ftwotx.sbcglobal.net)
[22:35:42] <apoelstra> the file structure doesn't really matter
[22:35:53] *** Quits: pyon (user@21629915.40E3D2AB.1C8C8CE9.IP) (Ping timeout)
[22:36:03] <tiernjo> yes, im mod happy then
[22:36:06] <apoelstra> if you have "mod player;" in two files, but only use functions from player in one, then you will get dead code warnings
[22:36:34] <apoelstra> ok, my guess is a bug then
[22:36:52] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[22:37:16] *** Joins: pyon (user@21629915.40E3D2AB.1C8C8CE9.IP)
[22:38:13] *** Quits: astroch (astroch@6B9F2BA2.10591AD7.DDE5D3F6.IP) (Ping timeout)
[22:38:14] <kanaka> new to rust, trying to wrap/ffi a C function that returns char*. How do I convert that (*libc::c_char) to a regular string?
[22:38:36] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:38:40] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[22:38:41] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[22:38:43] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:39:49] <aatch> kanaka, there's a CStr type floating around somewhere that should help.
[22:40:28] <kanaka> aatch: you mean this: http://web.mit.edu/rust-lang_v0.9/doc/std/c_str/index.html The example only shows the other direction.
[22:40:37] <apoelstra> i have been using *u8 in my c bindings, just occured to me now that that's wrong..
[22:41:01] *** Joins: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP)
[22:41:25] <aatch> kanaka, CString has an `as_str` method that returns an Option<&str>
[22:41:43] *** Joins: ikaros (ikaros@moz-7FCBF457.pools.arcor-ip.net)
[22:42:20] <aatch> Oh, you mean *c_char -> CString
[22:42:30] <aatch> You can use `CString::new` for that
[22:42:34] <kanaka> aatch: exactly.
[22:43:06] *** Quits: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP) (Ping timeout)
[22:43:15] *** Quits: ikaros (ikaros@moz-7FCBF457.pools.arcor-ip.net) (Quit: Ex-Chat)
[22:43:43] *** Quits: twi (Adium@73A1CD26.382D4AAC.54B829D6.IP) (Quit: Leaving.)
[22:44:31] <aatch> so you get your *c_char and do `CString::new(buffer, do_i_own_it)`
[22:44:47] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Quit: Leaving)
[22:45:06] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[22:45:10] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[22:46:29] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:51:30] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[22:51:42] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[22:52:02] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[22:52:52] *** Quits: santiago (santiago@moz-C0D6FDAD.socal.res.rr.com) (Quit: Computer has gone to sleep.)
[22:53:10] *** Quits: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:54:13] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[22:54:47] *** Joins: santiago (santiago@moz-C0D6FDAD.socal.res.rr.com)
[22:55:21] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[22:55:49] *** Quits: marianoguerra (marianogue@moz-367EB8A3.dip0.t-ipconnect.de) (Ping timeout)
[22:55:50] <tiernjo> I figured out-ish the problem. I need all of my modules loaded with the main function or they're un-viewable
[22:56:12] <tiernjo> but if i remove it, it removes those errors and then complains about not being able to find my structs
[22:56:34] <tiernjo> but i can't seem to reproduce it with a small example :(
[22:56:42] <kanaka> aatch: cool, thanks, got past that, now I need to figure out "borrowed value does not live long enough". I'm guessing I'll be seeing a lot of that until I grok rust's type system.
[22:57:03] *** jorendorff is now known as jorendorff_away
[22:59:04] *** Quits: tali (tali@moz-CB7488B7.red.bezeqint.net) (Connection reset by peer)
[22:59:16] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[22:59:25] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[23:00:28] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[23:00:55] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[23:02:51] <aatch> kanaka, if you have an Option<&str>, it will only live for as long as the originating CString, use to_owned() to get a ~str out that you can pass around.
[23:02:58] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.3.50.1)
[23:04:23] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[23:06:42] *** Joins: a_m0d (a_m0d@moz-2F294D00.acanac.net)
[23:08:30] *** Quits: Azdle (patrick@moz-8C723B60.hsd1.mn.comcast.net) (Quit: Leaving)
[23:11:07] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Client exited)
[23:11:24] *** Quits: pyon (user@21629915.40E3D2AB.1C8C8CE9.IP) (Quit: restart)
[23:12:17] *** Quits: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu) (Quit: lkuper)
[23:13:21] <cmr> tiernjo: can you post the broken source?
[23:13:27] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[23:13:35] <cmr> It's probably something simple like `mod foo;` twice.
[23:14:34] <tiernjo> https://github.com/Tiernjo/mini_platformer
[23:14:36] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[23:14:50] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Quit: victorporof)
[23:14:51] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[23:14:58] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[23:15:40] <aatch> tiernjo, you only need to have the mod lines once
[23:15:44] <aatch> per crate
[23:15:55] <cmr> yup.
[23:16:12] <aatch> Same for `extern mod` (now `extern crate`)
[23:16:20] *** flaper87 is now known as flaper87|afk
[23:16:45] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:17:05] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[23:17:36] *** zz_kimundi is now known as kimundi
[23:17:44] <aatch> tiernjo, `mod` is an item, like a function or a struct, so declaring it every file is like defining the same struct in every file.
[23:17:52] <aatch> *it in*
[23:18:20] <aatch> The compiler doesn't think it's the same module, because, well, it isn't.
[23:18:29] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:19:29] <aatch> in you have `player` and `render` as top-level modules, but having `mod player` in render introduces `render::player` as a module too.
[23:20:06] *** Quits: untwisted (untwisted@moz-C4D63F07.ucsc.edu) (Ping timeout)
[23:20:27] *** jorendorff_away is now known as jorendorff
[23:21:55] *** Joins: Linear (RJones@moz-E6F82C3A.maine.res.rr.com)
[23:22:08] *** Joins: astroch (astroch@moz-C18802C0.dhcp.embarqhsd.net)
[23:23:35] <tiernjo> Now I'm swimming in these "unresolved import. maybe a missing `extern mod player`"
[23:23:43] *** Joins: blaenk (blaenk@moz-D046F6D6.lsanca.dsl-w.verizon.net)
[23:23:55] *** Quits: astroch (astroch@moz-C18802C0.dhcp.embarqhsd.net) (Ping timeout)
[23:24:04] <aatch> tiernjo, you need to `use` them in the other modules
[23:24:15] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[23:26:05] *** Joins: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP)
[23:26:21] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[23:26:41] *** Quits: dschatzberg (dschatzber@moz-9384E83C.bu.edu) (Input/output error)
[23:27:04] *** Quits: alexherbo2 (alexherbo2@moz-2464876C.w90-35.abo.wanadoo.fr) (Quit: WeeChat 0.4.3-dev)
[23:27:43] *** Joins: ecl3ctic (ecl3ctic@moz-E1FAD64C.wzfv1.vic.bigpond.net.au)
[23:27:47] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:27:50] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[23:28:51] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[23:29:02] *** Quits: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: brendan)
[23:30:09] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[23:30:15] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Input/output error)
[23:30:27] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[23:31:00] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Client exited)
[23:31:38] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[23:31:39] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[23:32:20] *** Quits: tjc (tjc@moz-25A51B8D.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:32:44] *** Quits: reima (Instantbir@moz-77BA3D6E.dip0.t-ipconnect.de) (Quit: Leaving.)
[23:34:48] *** Joins: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP)
[23:35:09] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[23:35:19] *** Joins: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP)
[23:35:49] *** Quits: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP) (Ping timeout)
[23:36:38] *** Quits: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP) (Connection reset by peer)
[23:36:43] *** Joins: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net)
[23:37:10] *** Joins: astroch (astroch@moz-C18802C0.dhcp.embarqhsd.net)
[23:37:18] *** Quits: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net) (Max SendQ exceeded)
[23:37:44] *** Joins: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net)
[23:38:55] *** Quits: iDolfHatler (idolf@moz-47812C15.static.bcbnet.dk) (Ping timeout)
[23:40:00] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Ping timeout)
[23:41:45] *** Joins: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP)
[23:42:26] *** Quits: dukeleto (dukeleto@moz-C083E0FB.ptld.qwest.net) (Ping timeout)
[23:43:34] *** Quits: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP) (Ping timeout)
[23:43:48] *** Quits: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP) (Ping timeout)
[23:43:48] *** Joins: Ralith_ (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[23:43:51] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Connection reset by peer)
[23:44:46] *** Quits: uberj (uberj@moz-AD308AD7.members.linode.com) (Quit: WeeChat 0.4.2)
[23:45:06] *** Quits: tq (tq@moz-9FE9CCF4.a251.priv.bahnhof.se) (Quit: tq)
[23:47:04] <wycats> erickt: hey
[23:47:04] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[23:47:09] <wycats> I'm looking at your ragel binding
[23:47:16] <wycats> you may have seen that I submitted a PR
[23:47:24] <wycats> I'm trying to figure out why write init doesn't emit the cs variable et al
[23:47:50] *** Joins: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP)
[23:48:14] *** Quits: canhtak (canhtak@moz-4D8F0D46.wl.t.ulaval.ca) (Quit: canhtak)
[23:48:14] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[23:48:23] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[23:50:31] *** Joins: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP)
[23:51:00] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[23:51:26] *** Quits: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP) (Client exited)
[23:51:28] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[23:51:32] <tiernjo> Now I get the crate system, I hadn't realized you could make top level crates public so i kept running into errors. When I loaded a module everytime i needed something out of it, it still had errors, but it compiled so I made a mental sticky note to ask later. Yay learning!
[23:52:00] <erickt> wycats: hey there! I did not see it, I'll check it out :)
[23:52:02] *** Quits: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net) (Ping timeout)
[23:52:10] <wycats> erickt: it's very simple :)
[23:52:16] <wycats> I also had other ideas you may be interested in :)
[23:52:20] <wycats> your C++ is stronger than mine
[23:53:30] <erickt> wycats: merged! once I finish https://github.com/mozilla/rust/pull/11863, I'll make sure this and all my other projects work with rust HEAD
[23:53:36] *** Joins: Diamond (dick@moz-80556682.ks.ks.cox.net)
[23:53:47] <erickt> wycats: I'm always happy to hear ideas. What do you have in mind?
[23:53:53] <wycats> erickt: my other ideas are to try to have a mode that emits code that works with a Reader
[23:53:56] <wycats> instead of a &str
[23:54:04] <wycats> a Reader up until some char
[23:54:12] <wycats> i.e. parse until \n or something
[23:54:26] <wycats> did you have any idea why write init isn't working?
[23:54:53] <sfackler> wycats: BufferedReader, MemReader &co have a read_until method
[23:55:05] <wycats> sfackler: yeah but then you need twice the memory
[23:55:16] <wycats> plus you can't start parsing until you have the whole thing in memory
[23:55:20] <erickt> wycats: I can't think of why off the top of my head. got an example?
[23:55:23] <wycats> imagine you're writing a multipart/form parser
[23:55:32] <wycats> erickt: all your examples include let mut cs;
[23:55:37] <wycats> so I assumed you knew about it
[23:55:50] <wycats> erickt: it would be bad to need to wait until the entire body was loaded to begin parsing
[23:56:00] <wycats> ^^ was for sfackler 
[23:56:05] <erickt> wycats: one sec
[23:56:26] *** Joins: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net)
[23:56:48] <sfackler> wycats: you don't need to pull the whole thing into memory with a bufferedreader, right?
[23:57:20] * sfackler hasn't read the scrollback
[23:57:21] *** Quits: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP) (Max SendQ exceeded)
[23:57:24] <wycats> sfackler: but ragel takes a &str
[23:57:26] *** Joins: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP)
[23:57:27] <sfackler> oh
[23:57:31] <wycats> I was suggesting ragel take a Reader
[23:57:40] <sfackler> yeah
[23:57:40] <wycats> there are some issues because fhold needs to go backwards
[23:57:45] <wycats> but that could be a limitation of the Reader mode
[23:57:48] <wycats> no going backwards
[23:58:42] *** Joins: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net)
[23:59:07] <sfackler> it could internally use a Reader impl that stores the previous output and can go backwards
[23:59:15] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[23:59:40] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
