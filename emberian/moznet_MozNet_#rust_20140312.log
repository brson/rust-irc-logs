[00:00:07] <pyon> Errr, Any is evil!
[00:00:14] <ski> SiegeLord : a closed `Any' wouldn't be as useful
[00:00:28] <bvssvni> ski: I had some example code, but now it's broken
[00:00:35] <pyon> If I understand correctly, Any is kind of like Haskell's Typeable.
[00:00:42] *** Quits: captpancakes (textual@moz-11E164FE.washdc.fios.verizon.net) (Quit: Textual IRC Client: www.textualapp.com)
[00:00:44] <ski> yes, which is overkill for this
[00:00:46] *** Joins: zmthy (zmthy@moz-C2881CC3.ecs.vuw.ac.nz)
[00:00:50] <pyon> Be careful of your code will break in horrible ways.
[00:00:50] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[00:00:53] <pyon> Yeah.
[00:01:08] <ski> well, i suppose it's more like Haskell's `Dynamic' (iiuc)
[00:01:12] <pyon> ski: If I understand correctly, basically, you want fine-grained control over quantifiers, right?
[00:01:16] <pyon> Ah!
[00:01:16] <pyon>  
[00:01:32] *** Joins: hobinjk (hobinjk@4D4235D6.FC8B37E4.3A99D594.IP)
[00:01:42] <pyon> ski: As in, where exactly an existential quantifier appears in a type.
[00:01:44] <ski> (where a `Dynamic' contains some unknown type `t', belonging to the type class `Typeable', together with a single value of type `t')
[00:02:03] <ski> pyon : yes, that was the array of pointers example
[00:02:32] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[00:02:32] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[00:02:34] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[00:02:36] <jdsanders> ChrisMorgan: it's in a comment
[00:02:45] <pyon> ski: Sadly, as far as I can tell, not possible. Existentials are limited in ways similar to the way they are limited in OO languages.
[00:02:47] <ChrisMorgan> jdsanders: doc comment?
[00:02:48] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[00:02:56] <jdsanders> https://github.com/bjz/num-rs/blob/master/src/math/algebra.rs#L32
[00:03:04] <jdsanders> yep
[00:03:05] *** Quits: funnel (funnel@DEB31F3E.28CFCE3E.FC69BED9.IP) (Connection reset by peer)
[00:03:09] <ski> pyon : compare with how in C, if you want to have an array of arrays (or pointers to arrays), all of which should have the same length, you don't need to store each length of the "inner" arrays (as you would have to in Java)
[00:03:16] *** jorendorff is now known as jorendorff_away
[00:03:22] <pyon> ski: Yeah, makes sense.
[00:03:31] <ChrisMorgan> jdsanders: thought so. Code blocks will now be parsed for syntax highlighting if you don't mark it as notrust.
[00:03:36] <ski> pyon : too bad
[00:03:42] <pyon> ski: But then you are using a dependent type in your head.
[00:03:47] <ski> yes
[00:03:51] <jdsanders> ChrisMorgan: aaah, ok cool
[00:03:58] <jdsanders> example of marking something notrust?
[00:03:59] <ChrisMorgan> replace the line before with ~~~notrust (BTW, backticks rather than tildes seem to be the preferred style, ```notrust ... ```)
[00:04:05] <jdsanders> great, thanks
[00:04:07] * pyon has been thinking for quite while already that systems languages are the ones that need dependent types the most.
[00:04:10] <ChrisMorgan> s/line before/line two before/
[00:04:12] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[00:04:14] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[00:04:16] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[00:04:25] <ski> but even without dependent types, the same concern carries over to stuff like `exists x. List (String,x)'
[00:04:35] <jdsanders> ChrisMorgan: great, thanks for the pointers
[00:04:44] <pyon> Yeah.
[00:04:46] <jdsanders> bjz: pull requests welcom on num-rs? :)
[00:05:01] <ChrisMorgan> jdsanders: rustdoc should notify you "hey, I tried to highlight this as Rust, but it's not tokenising. Perhaps you meant '```notrust'?"
[00:05:31] *** Quits: beifeng (Mibbit@284C36E7.3062CEC3.670EEFD.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:05:34] <bvssvni> jdsanders: it is probably very welcome
[00:05:47] <ski> i think if you want to make some common basic uses of C and C++ type checked, then this is such a case which would be good to cover
[00:05:55] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[00:05:59] <ski> just my two cents ..
[00:06:03] *** Joins: devbug_ (quassel@23AC5F12.9D950176.3655BBF5.IP)
[00:06:09] *** Quits: pepper_chico (pepper_chi@moz-E15D42C8.dsl.telesp.net.br) (Quit: WeeChat 0.4.1)
[00:06:10] *** Quits: devbug_ (quassel@23AC5F12.9D950176.3655BBF5.IP) (Client exited)
[00:06:22] <ski> pyon : yes
[00:06:56] <jdsanders> ChrisMorgan: I'm guessing I didn't get that error message because my rust is pretty out of date
[00:07:08] <ChrisMorgan> jdsanders: I mean that such a thing should be implemented
[00:07:12] <jdsanders> ooooh
[00:07:13] *** Joins: devbug_ (quassel@23AC5F12.9D950176.3655BBF5.IP)
[00:07:15] <jdsanders> yeah that would be nice
[00:07:16] *** Quits: devbug_ (quassel@23AC5F12.9D950176.3655BBF5.IP) (Client exited)
[00:07:51] <SiegeLord> Could always implement a trait on an array, and pass that trait object around, no?
[00:08:14] <pyon> SiegeLord: Does not work.
[00:08:53] <pyon> SiegeLord: Unless the trait itself is parametrized over the type of an element, but then different element types yield different "concrete traits".
[00:08:58] *** Joins: funnel (funnel@DEB31F3E.28CFCE3E.FC69BED9.IP)
[00:10:07] <pyon> SiegeLord: When ski says he wants an array of an existentially quantified T, where T: SomeTrait, he really means it.
[00:10:27] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:12:30] *** Joins: Erik_ (Erik_S@moz-6691E309.hlrn.qwest.net)
[00:12:31] *** Quits: hacker_s_ (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[00:13:40] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[00:13:57] <ski> all the elements should be of the same type. e.g. if `SomeTrait' says that the type is an implementation of a priority queue, i should be able to call `merge', successively, on all the elements of the array
[00:13:57] <SiegeLord> Well, the reason that doesn't work (if I understand you correctly) hits other things, so you'd work around them the same way
[00:14:07] <ski> elaborate ?
[00:14:43] <SiegeLord> https://gist.github.com/SiegeLord/9497895
[00:14:48] <SiegeLord> Am I misunderstanding something?
[00:15:31] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[00:15:31] *** Quits: claudiu (claudiu@moz-F69B678E.thefacebook.com) (Connection reset by peer)
[00:15:37] *** Joins: claudiu (claudiu@moz-F69B678E.thefacebook.com)
[00:15:52] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[00:16:03] *** Quits: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP) (Input/output error)
[00:16:33] *** Quits: IanCormac84 (User@F331933D.64D641E5.67DFF8B4.IP) (Ping timeout)
[00:16:36] <ski> SiegeLord : iiuc, your array type isn't exisentially quantified
[00:16:44] *** Joins: IanCormac84 (User@64BACE1B.2A8D8854.67DFF8B4.IP)
[00:16:57] <ski> the type `A' shouldn't be visible in the type of `a'
[00:17:34] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[00:18:23] <SiegeLord> https://gist.github.com/SiegeLord/9497895 updated with another type
[00:18:56] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[00:19:22] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[00:19:31] *** Quits: claudiu (claudiu@moz-F69B678E.thefacebook.com) (Connection reset by peer)
[00:19:40] *** Joins: claudiu (claudiu@moz-F69B678E.thefacebook.com)
[00:19:47] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[00:19:51] <ski> SiegeLord : looks like `test' can't see that it is passed an array there ..
[00:20:20] <SiegeLord> No, it cannot
[00:20:23] *** Quits: alkino (alkino@moz-58B8E4B4.w92-151.abo.wanadoo.fr) (Ping timeout)
[00:20:25] *** Quits: kp (kp@4F7252F2.CEBBE496.E48CFF63.IP) (Ping timeout)
[00:20:30] <ski> then it's not what i wanted
[00:21:10] <SiegeLord> I guess I don't see why you need the actual type...
[00:21:23] <bascule> HOLY FUCKING FIRE
[00:21:27] <ski> the point is that i want to know i have an array, where all the elements have the same, (statically) unknown, type. except i also know this (element) type implements some given trait
[00:21:40] *** Quits: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[00:21:44] <ski> the array type itself need not implement the trait (whether or not it does is irrelevant here)
[00:22:03] <SiegeLord> If I wanted to, I could have implemented all the necessary container traits on MyArray and then test would know its an array
[00:22:26] <erickt> bascule: everything okay?
[00:22:27] <SiegeLord> Well, I guess not quite
[00:22:30] <ski> i want to be able to pass the array to any normal polymorphic function which operates on an array
[00:22:33] <SiegeLord> I see what you want
[00:22:36] <bascule> err whoops, misfire
[00:22:37] <bascule> heh
[00:22:45] <bascule> https://twitter.com/ptraughber/status/443541418183634945/photo/1
[00:22:46] <bascule> but yeah
[00:23:10] <ski> e.g. to a "foldr"-type function which summarizes the elements of an array using a callback for combining each element with the current intermediate result, computing the next
[00:23:18] <erickt> bascule: ! I hope everyone's ok
[00:23:22] <ski> (well, or "foldl". it doesn't matter here)
[00:23:42] <bascule> that's kind of over by Mozilla
[00:23:47] <bascule> well not really
[00:23:52] <bvssvni> ski: will this become possible under DST?
[00:23:56] <bascule> probably like a mile away
[00:23:59] <ski> "DST" being ?
[00:24:10] <bvssvni> Dynamically Sized Types
[00:24:30] <kmc> i can't make a macro that's used like    if_foo! { blah } else { blah }  correct?
[00:24:36] <kmc> because the thing after the macro name must be a single token tree?
[00:24:41] <sfackler> yep
[00:24:59] <pyon> bvssvni: This is in no way incompatible with DSTs.
[00:25:06] <ski> bvssvni : well, what i was talking about would only need to work when you are passing around pointers/references to the values of the unknown type -- since presumably even if you don't know the size of the unknown type, you know the size of pointers to it
[00:25:21] <pyon> bvssvni: Just make each array element itself a pointer.
[00:25:21] *** Quits: ChrisOei (ChrisOei@moz-53A9266A.blurb.com) (Ping timeout)
[00:25:35] <pyon> exists T: SomeTrait, ~[~T]
[00:25:43] <pyon> (or replace with appropriate pointer types if necessary)
[00:25:51] <ski> bvssvni : if DST is what it sounds like, then this would possibly be combinable with them, in that case scrapping the requirement to have the datums beind pointers
[00:26:09] *** Quits: funnel (funnel@DEB31F3E.28CFCE3E.FC69BED9.IP) (Connection reset by peer)
[00:26:12] <SiegeLord> I wonder if this would help the efficient inheritance problems
[00:26:25] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[00:26:34] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[00:26:39] <pyon> ski: If you have some existentially quantified type T, I think it has to be behind a pointer anywhere it appears.
[00:27:21] <pyon> ski: I mean, to keep the implementation simple. Otherwise, you would need structs that are dynamically aware of their own offsets, arrays that are dynamically aware of their own element types, etc.
[00:27:59] <bvssvni> this is what happens behind the scene in languages like C#
[00:28:29] <pyon> bvssvni: Well, it is not like C# has what ski is asking for.
[00:28:29] <bvssvni> arrays of objects are basically arrays of pointers
[00:29:25] *** eatkinson-away is now known as eatkinson
[00:29:38] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[00:29:49] <ChrisMorgan> jdsanders: filed https://github.com/mozilla/rust/issues/12834
[00:30:11] *** Joins: funnel (funnel@DEB31F3E.28CFCE3E.FC69BED9.IP)
[00:30:33] *** Quits: ecr (chatzilla@moz-B0A20DAA.dhcp4.washington.edu) (Ping timeout)
[00:31:18] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[00:31:28] *** Quits: Rym (y@2B15C227.8787B3D5.8772DA20.IP) (Ping timeout)
[00:31:41] <jdsanders> ChrisMorgan: excellent, thanks
[00:31:45] *** Joins: Rym (y@2B15C227.8787B3D5.8772DA20.IP)
[00:31:57] *** Quits: dapz (textual@moz-ADE1780.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:32:31] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[00:33:19] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[00:33:19] *** eatkinson is now known as eatkinson-away
[00:33:27] *** Joins: luz1 (luziie@moz-CD18B14B.customer.cdi.no)
[00:33:56] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[00:34:03] *** Quits: luziiie (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[00:34:55] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[00:35:09] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[00:35:24] <jroweboy> bvssvni: So I think I've managed to fix up some of the things you mentioned, but I couldn't figure out how I should impl Clone for ~Trait https://github.com/jroweboy/oxidize/blob/broken_code/src/route.rs#L38 is the code location and 
[00:35:27] *** Quits: funnel (funnel@DEB31F3E.28CFCE3E.FC69BED9.IP) (Connection reset by peer)
[00:35:28] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:35:37] <jroweboy> https://gist.github.com/jroweboy/9497450 is my new error message
[00:35:54] *** Joins: brehaut (andrew@6D85C12E.2F6BE07D.613E47D1.IP)
[00:36:02] *** Quits: rootnode (rootnode@moz-38D6643F.pools.arcor-ip.net) (Ping timeout)
[00:37:03] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[00:37:11] *** Quits: luz1 (luziie@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[00:37:12] *** Quits: Erik_ (Erik_S@moz-6691E309.hlrn.qwest.net) (Ping timeout)
[00:37:13] <bvssvni> jroweboy: first, add a copy() method to Router that returns ~Router
[00:37:27] <bvssvni> jroweboy: then you call that in the Clone impl
[00:37:43] *** Quits: tav (tav@moz-7F8C7893.range31-52.btcentralplus.com) (Ping timeout)
[00:37:43] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[00:37:56] *** Joins: luziie (luziie@moz-CD18B14B.customer.cdi.no)
[00:38:03] <jroweboy> ah, thanks! That's clears it up for me
[00:38:15] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[00:38:16] *** Quits: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com) (Ping timeout)
[00:38:35] *** Joins: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com)
[00:38:42] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[00:38:46] *** Joins: kp (kp@4F7252F2.CEBBE496.E48CFF63.IP)
[00:39:18] <bvssvni> jroweboy: a problem might be that your constructor returns ~Router, which doesn't give the self type to call copy()
[00:40:26] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Ping timeout)
[00:40:48] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[00:41:27] <jroweboy> I thought I had to return a ~Router type though
[00:41:44] <jroweboy> or should the new not be listed in the Trait then?
[00:42:00] <jroweboy> /s/new/constructor 
[00:42:13] <bvssvni> jroweboy: it is normal practice to not have 'new' in the trait
[00:42:52] <bvssvni> jroweboy: and 'new' usually returns the type, not a ~ pointer
[00:42:52] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[00:43:56] *** jorendorff_away is now known as jorendorff
[00:44:05] *** Joins: lawrence (lawrence@moz-BB3C54F8.wireless.utoronto.ca)
[00:44:35] <jroweboy> but in the case of copy, it should return a ~Trait right?
[00:45:36] <bvssvni> jroweboy: if you want to impl Clone on ~Router, then yes
[00:45:46] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[00:45:46] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[00:46:36] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[00:46:38] <bvssvni> jroweboy: one alternative is to add replace ~Router with a generic type argument in conf.rs
[00:47:06] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[00:47:46] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:48:08] <bvssvni> jroweboy: it depends on what you want
[00:49:46] *** Joins: cgaebel (clark@moz-F9D89110.nyc.res.rr.com)
[00:50:22] *** Joins: rootnode (rootnode@moz-F38A8253.pools.arcor-ip.net)
[00:50:38] *** Joins: AlexMax (alexmax@moz-3D3F5603.funcrusher.net)
[00:50:56] *** Quits: gimpf (gimpf@moz-92FB2E02.adsl.highway.telekom.at) (Client exited)
[00:51:15] <mcpherrin> is there a good example of an externally loadable syntax extension somewhere?
[00:51:33] <mcpherrin> my trivial googling hasn't found something self contained
[00:51:39] *** Joins: dougxxx (dougxxx@moz-2801788.perm.iinet.net.au)
[00:51:58] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[00:52:41] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Quit: Savago)
[00:52:49] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[00:52:49] *** ChanServ sets mode: +ao brson brson
[00:52:51] <mcpherrin> there's a bit of info on https://github.com/mozilla/rust/pull/11151 I guess
[00:53:00] <huon> https://github.com/sfackler/syntax-ext-talk/blob/gh-pages/simple-ext/lib.rs
[00:53:06] <huon> https://github.com/sfackler/rust-phf/
[00:53:13] <sfackler> mcpherrin: libfourcc in the rust repo, or https://github.com/sfackler/rust-phf or https://github.com/sfackler/syntax-ext-talk/blob/gh-pages/simple-ext/lib.rs
[00:53:17] <sfackler> efb
[00:53:29] <bvssvni> jroweboy: if you want to use the same Router for clones, then a Rc might suffice
[00:53:50] <mcpherrin> sfackler: cool
[00:53:55] <mcpherrin> huon: thanks
[00:54:07] <bvssvni> jroweboy: this will increase the reference counter instead of copying the whole thing
[00:55:51] *** jorendorff is now known as jorendorff_away
[00:56:01] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[00:56:43] *** Quits: lawrence (lawrence@moz-BB3C54F8.wireless.utoronto.ca) (Ping timeout)
[00:56:49] *** jorendorff_away is now known as jorendorff
[00:57:11] *** Joins: lawrence (lawrence@moz-BB3C54F8.wireless.utoronto.ca)
[00:57:11] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[00:57:11] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[00:58:14] *** Joins: funnel (funnel@DEB31F3E.28CFCE3E.FC69BED9.IP)
[00:58:26] *** Joins: andrewd18 (andrew@moz-DAC9D29F.wi.res.rr.com)
[00:58:48] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[00:58:57] *** Joins: pzol_ (pzol@86821BC.DEB41A6D.AADC76B.IP)
[00:59:02] *** Parts: hobinjk (hobinjk@4D4235D6.FC8B37E4.3A99D594.IP) ()
[00:59:55] *** Quits: IanCormac84 (User@64BACE1B.2A8D8854.67DFF8B4.IP) (Ping timeout)
[01:00:16] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[01:00:48] *** Quits: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net) (Quit: huon)
[01:01:37] *** Joins: IanCormac84 (User@DBB393A5.2A8D8854.67DFF8B4.IP)
[01:01:40] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[01:02:32] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[01:03:06] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[01:03:21] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[01:03:41] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[01:04:13] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[01:04:23] *** Quits: funnel (funnel@DEB31F3E.28CFCE3E.FC69BED9.IP) (Connection reset by peer)
[01:04:34] *** Joins: hobinjk (hobinjk@moz-3C889771.mit.edu)
[01:05:22] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[01:06:30] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[01:06:33] *** Joins: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:06:50] *** Quits: IanCormac84 (User@DBB393A5.2A8D8854.67DFF8B4.IP) (Ping timeout)
[01:07:10] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[01:07:20] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[01:07:25] *** Joins: IanCormac84 (User@9241A25B.64D641E5.67DFF8B4.IP)
[01:07:29] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[01:07:47] *** Quits: mye (mye@moz-4C68D7A6.dip0.t-ipconnect.de) (Quit: mye)
[01:07:47] *** Quits: dougxxx (dougxxx@moz-2801788.perm.iinet.net.au) (Ping timeout)
[01:08:13] *** Quits: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[01:09:23] *** Joins: mye (mye@moz-4C68D7A6.dip0.t-ipconnect.de)
[01:10:27] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[01:11:55] <jroweboy> bvssvni: I think I'll try out Rc, since I don't need the data copied between tasks
[01:12:35] *** Joins: halosghost (halosghost@moz-A41005D9.org)
[01:12:38] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[01:13:32] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[01:13:42] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[01:14:02] *** Quits: Rym (y@2B15C227.8787B3D5.8772DA20.IP) (Ping timeout)
[01:14:02] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[01:15:52] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Ping timeout)
[01:18:12] *** Quits: sunfish (chatzilla@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[01:19:17] *** Quits: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net) (Quit: Leaving.)
[01:19:45] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:23:41] *** Quits: IanCormac84 (User@9241A25B.64D641E5.67DFF8B4.IP) (Ping timeout)
[01:24:14] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[01:24:23] *** Joins: IanCormac84 (User@1AC6118F.2A8D8854.67DFF8B4.IP)
[01:24:46] *** Joins: IanCormac841 (User@3A6DB78E.64D641E5.67DFF8B4.IP)
[01:24:52] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:26:09] *** Quits: IanCormac84 (User@1AC6118F.2A8D8854.67DFF8B4.IP) (Ping timeout)
[01:29:45] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[01:30:15] *** Quits: bvssvni (Mibbit@moz-E289BB64.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[01:30:17] <jroweboy> I feel like I'm so close now :) This next error says my struct doesn't fulfill send and I'm not sure why mine doesn't fulfill Send. The field I think is causing it is the Rc<~Trait> but I don't see why this is not sendable
[01:31:12] *** Quits: LU324 (asdf@moz-864C7465.dyn.embarqhsd.net) (Ping timeout)
[01:31:59] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[01:32:00] *** jorendorff is now known as jorendorff_away
[01:32:28] <jroweboy> here is the update error message https://gist.github.com/jroweboy/9497450
[01:32:34] <kmc>  error: Local ambiguity: multiple parsing options: built-in NTs tt ('rest') or 1 other options.
[01:32:36] <kmc> that's a new one
[01:32:47] <kmc> can I get more info on the ambiguity?
[01:33:06] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Quit: Leaving)
[01:33:17] *** Quits: IanCormac841 (User@3A6DB78E.64D641E5.67DFF8B4.IP) (Ping timeout)
[01:33:47] *** Joins: herrwolfe45 (uid26657@moz-E77DEB21.irccloud.com)
[01:33:55] *** Joins: IanCormac84 (User@8E9AA62A.64D641E5.67DFF8B4.IP)
[01:34:30] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:35:39] <jroweboy> kmc: it looks like someone left a comment in the code saying they should write better error messages there https://github.com/mozilla/rust/blob/master/src/libsyntax/ext/tt/macro_parser.rs#L360
[01:35:42] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[01:35:56] <brson> jroweboy: `Rc<~Trait>` may need to be written `Rc<~Trait: Send>`
[01:36:09] <brson> depending on what the default env bounds actually are
[01:36:18] *** Joins: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP)
[01:37:05] <halosghost> anyone familiar with the rust-curl bindings?
[01:37:10] <herrwolfe45> hi - I recently got this error message from master: https://gist.github.com/derwolfe/460761b4a04291c16a37. I've tried to access http://static.rust-lang.org/doc/master/complement-bugreport.html but I can't seem to get it to load.
[01:37:21] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[01:37:36] <jroweboy> brson: What do you mean by the default env bounds. Just adding :Send didn't fix the issue
[01:38:14] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[01:38:43] *** Joins: mib_wflneg (Mibbit@FE9F738.198AA336.7DA01DD1.IP)
[01:38:47] <jroweboy> halosghost: Which specific rust-curl bindings?
[01:39:01] *** Quits: copumpkin (copumpkin@moz-C41989B3.dyn.optonline.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:39:33] *** Joins: IanCormac841 (User@476722EA.64D641E5.67DFF8B4.IP)
[01:39:38] *** Joins: dougxxx (dougxxx@moz-2801788.perm.iinet.net.au)
[01:39:42] <halosghost> jroweboy: thinking, in particular, of this one: https://github.com/andelf/rust-curl
[01:39:57] <halosghost> but, if there is one further along, I'll happily switch
[01:40:01] *** Quits: IanCormac84 (User@8E9AA62A.64D641E5.67DFF8B4.IP) (Ping timeout)
[01:40:05] <halosghost> just trying to do some basic network IO in rust
[01:41:05] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:41:26] *** Quits: brehaut (andrew@6D85C12E.2F6BE07D.613E47D1.IP) (Quit: brehaut)
[01:41:50] <jroweboy> halosghost: over http? You can use rust-http for that. there is some example http client code in there. It may be a little bit easier. rust-curl looks like its not very mature yet
[01:42:08] <halosghost> jroweboy: fair enough; I'll look into rust-http
[01:42:34] <jroweboy> halosghost: I haven't actually used it for an http client though so I can't say how it fairs, but its author is usually on IRC
[01:42:59] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[01:43:05] *** Quits: IanCormac841 (User@476722EA.64D641E5.67DFF8B4.IP) (Ping timeout)
[01:43:49] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[01:44:22] *** Quits: mpiechotka (mpiechotka@moz-25D332CB.dynamic.mnet-online.de) (Quit: mpiechotka)
[01:44:27] *** Joins: stephenmac7 (quassel@moz-F2C114C1.hsd1.fl.comcast.net)
[01:44:37] <stephenmac7> Is LLVM required to run rust?
[01:44:58] *** Joins: IanCormac84 (User@747742D2.2A8D8854.67DFF8B4.IP)
[01:45:04] <dougxxx> huh, that's weird. Is /** ... */ special somehow? A bare /** *. with no function after it causes the compile to fail.
[01:45:12] <halosghost> jroweboy: hmm, is rust-http only for 0.9? I'm on master
[01:45:14] <kmc> stephenmac7: rustc builds its own copy of LLVM
[01:45:21] <ChrisMorgan> halosghost: rust-http tracks master.
[01:45:25] <kmc> dougxxx: yeah, it's a documentation attribute
[01:45:34] <stephenmac7> kmc: So, is it possible to run rust on ARM?
[01:45:41] <o11c> dougxxx: yeah, /// and /** */ make all sorts of things faul
[01:45:55] <kmc> sugar for #[doc("blah blah")] or something
[01:46:00] <kmc> so that attribute needs an item after it
[01:46:05] <dougxxx> ah~
[01:46:17] <ChrisMorgan> stephenmac7: you can cross compile onto ARM.
[01:46:22] <kmc> stephenmac7: sure, and we do
[01:46:24] <brson> jroweboy: closures and trait objects have an opaque environment that fulfil particular trait bounds, so `~Trait: Send` is some value that implements Trait and that only contains things that are Send
[01:46:26] <stephenmac7> ChrisMorgan: I've tried that... many time
[01:46:28] <stephenmac7> *times
[01:46:28] <aatch> stephenmac7, the rust tests are, in fact, run on Android
[01:46:29] <bstrie> stephenmac7: rust code can run on android, but most people cross compile rather than actually building the compiler itself there
[01:46:44] <ChrisMorgan> stephenmac7: see also http://luqman.ca/rust-builds/ for builds of rustc itself (now out of date).
[01:47:13] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[01:47:26] <dougxxx> totally weird having to comment out a function wholesale by putting the /** ... */ inside a /* ... */ though. Breaks my vim syntax highlighting. :P
[01:47:27] <nstdloop> So Rust traits are basically Haskell typeclasses?
[01:47:38] <nstdloop> Or is there some critical difference I'm not seeing?
[01:47:49] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[01:47:49] *** ChanServ sets mode: +o tjc
[01:47:59] <bjz> nstdloop: no difference
[01:48:10] <bjz> nstdloop: apart from the method sugar
[01:48:11] *** Quits: echristo (echristo@3246441A.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[01:48:12] <ChrisMorgan> dougxxx: or you can change the /** to /* * or /* or /*** or other such variants
[01:48:12] <nstdloop> Has anyone tried monads?
[01:48:25] <stephenmac7> Monads in Rust? Never tried that...
[01:48:30] <ChrisMorgan> halosghost: if you have any questions about rust-http, ping me or join #rust-http
[01:48:33] <bjz> nstdloop: we don't have higher order types
[01:48:35] <dougxxx> yeah, true enough.
[01:48:36] <halosghost> ChrisMorgan: sounds good :)
[01:48:38] <stephenmac7> Anyway, ChrisMorgan, any idea is that will be updated?
[01:48:42] <stephenmac7> *if
[01:48:49] <ChrisMorgan> stephenmac7: you can ask Luqman
[01:48:53] <halosghost> ChrisMorgan: does it do https?
[01:48:53] <bjz> nstdloop: so you can have monads, but you just can't formalise them
[01:49:04] <stephenmac7> bstrie: Is there a guide or something for that? I tried for about 12 hours and couldn't get it to work.
[01:49:18] <herrwolfe45> is the best way to open file a bug report to open an issue on github?
[01:49:32] <nstdloop> bjz: Interesting. I'll have to play around with it.
[01:49:37] <ChrisMorgan> halosghost: there's a slightly out-of-date patch which allows it, but it hasn't been merged in yet (needs updating)
[01:49:54] <ChrisMorgan> herrwolfe45: yes
[01:49:57] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[01:50:00] <halosghost> ChrisMorgan: fair enough :)
[01:50:03] <bjz> nstdloop: support for HKT will be added post 1.0, sll going well
[01:50:11] <bjz> s/sll/all/
[01:50:12] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[01:50:15] *** Quits: dougxxx (dougxxx@moz-2801788.perm.iinet.net.au) (Ping timeout)
[01:50:18] <ChrisMorgan> brson: I like the RFC proposal ☺
[01:50:27] <herrwolfe45> thanks ChrisMorgan 
[01:51:03] <nstdloop>  Neat. Is it in the roadmap for Rust to implement more complicated functional stuff like functional dependencies in typeclasses?
[01:51:15] *** Joins: dougxxx (dougxxx@moz-2801788.perm.iinet.net.au)
[01:51:34] *** Quits: pyon (user@6B56F365.A9B419CB.1C8C8CE9.IP) (Quit: restart)
[01:52:05] <kmc> I don't buy that there's "no difference" between Rust traits and Haskell typeclasses (whether you mean H98 or GHC)
[01:52:14] <kmc> we distinguish static and non-static methods
[01:52:23] <kmc> self, &self, Self are all special in traits
[01:52:40] <bstrie> bjz: stop spouting lies about traits! :P
[01:52:50] <bstrie> you're just uselessly raising the hopes of the functional programmers
[01:53:04] *** Joins: rileyw_ (rileyw@8BA43816.9AA11D69.65DDFA89.IP)
[01:53:08] <kmc> and we have a weird form of multi-param traits, whereas H98 doesn't have them at all and GHC treats all params equally
[01:53:12] <bjz> kmc: yeah I wouldn't disagree
[01:53:34] <kmc> and no HKT
[01:53:38] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[01:53:40] <bjz> kmc: thanks for the correction, it was lazy of me
[01:53:42] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Connection reset by peer)
[01:53:44] <kmc> np
[01:53:56] *** Quits: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP) (Ping timeout)
[01:54:01] <bjz> kmc: I do find `Self` wierd
[01:54:02] <jroweboy> brson: hmm... how can I determine which fields are causing it to fail to fulfill Send then?
[01:54:03] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[01:54:20] <kmc> me too
[01:54:25] <kmc> but I think I get why it's needed
[01:54:45] *** Quits: rileyw_ (rileyw@8BA43816.9AA11D69.65DDFA89.IP) (Ping timeout)
[01:55:00] <bjz> kmc: yeah
[01:55:10] <kmc> when you write "trait Trait { ... }" you don't bind any names, whereas Haskell would say "class Trait a where ..." which binds a
[01:55:29] <bjz> yep
[01:55:37] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[01:55:43] *** Quits: hobinjk (hobinjk@moz-3C889771.mit.edu) (Client exited)
[01:55:49] <kmc> but we also support "trait Trait<A,B> { ... }" which is the weird form of multi-param
[01:56:17] <kmc> another difference is that Haskell allows values that aren't functions in typeclasses
[01:56:32] <kmc> class Bounded a where minBound :: a; maxBound :: a
[01:56:38] <bjz> kmc: well that is hopefully going to be added
[01:56:44] <bjz> associated items
[01:56:44] <kmc> yeah?
[01:56:50] <kmc> these would be associated static items?
[01:56:51] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[01:56:55] <bjz> yeah
[01:56:58] <kmc> that would be cool
[01:57:04] *** Joins: erickt (etryzelaar@49C4075F.3AC15C18.2321E71E.IP)
[01:57:05] *** Joins: hobinjk (hobinjk@moz-3C889771.mit.edu)
[01:57:14] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[01:57:15] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[01:57:22] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[01:57:39] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[01:57:41] <brson> the guy from naughty dog is "enthused about rust": https://www.quora.com/Computer-Programming/What-programming-languages-have-you-mastered-and-which-do-you-recommend-other-programmers-master-as-well/answer/Dave-Baggett?__snids__=236814119&__nsrc__=1
[01:57:42] <bjz> well my hope is that the `self` arg would be either removed, or just used as sugar for `x: Self`
[01:57:49] <nstdloop> So you can't do trait Functor<A> { fn fmap<A>(f: fn(A) -> B) -> Functor<B>}
[01:57:52] <brson> self is going to end up sugar
[01:58:00] *** Quits: erickt (etryzelaar@49C4075F.3AC15C18.2321E71E.IP) (Quit: leaving)
[01:58:01] <bjz> brson: awesome!
[01:58:43] <nstdloop> or you could use static somewhere there to get rid of the implicit param and make it explicit as a Functor<A>
[01:58:46] <bjz> brson: and method call syntax will be sugar for calling associated functions?
[01:59:18] <brson> bjz: yes
[01:59:28] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Ping timeout)
[01:59:31] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[01:59:40] *** Joins: erickt (etryzelaar@49C4075F.3AC15C18.2321E71E.IP)
[01:59:42] <brson> actually, method calls still won't be "sugar" since they add extra resolution rules
[01:59:49] <bjz> ah yes
[02:00:06] <bjz> but from a loose standpoint
[02:00:43] <bjz> but yeah I'm glad that's the approach that has been taken
[02:00:46] <bjz> :)
[02:00:49] *** Quits: pcwalton (pcwalton@moz-BBE3ABD.mv.mozilla.com) (Quit: pcwalton)
[02:01:42] *** Joins: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net)
[02:02:24] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[02:02:28] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[02:02:32] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[02:02:59] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: Textual IRC Client: www.textualapp.com)
[02:03:35] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[02:03:54] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[02:04:09] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[02:04:12] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[02:04:20] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[02:04:39] *** Quits: kris_ (kris@moz-6D20263F.fullrate.dk) (Ping timeout)
[02:04:59] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[02:05:44] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:06:03] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[02:06:23] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[02:06:33] <dougxxx> hm, someone clarify a lifetime thing for me? 
[02:06:46] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[02:06:50] <dougxxx> I have this function: fn push<'a>(&'a mut self, value: T) -> &'a mut ~Node<T> and I can do this: x.push(10).push(11).push(12).push(13);
[02:06:53] <dougxxx> but not this:
[02:07:07] <dougxxx> for i in range(0, 10) { here = here.push(i); }
[02:07:09] <dougxxx> why's that?
[02:07:24] <dougxxx> I don't really understand the "cannot borrow `**here` as mutable more than once at a time"
[02:07:29] *** Quits: IanCormac84 (User@747742D2.2A8D8854.67DFF8B4.IP) (Ping timeout)
[02:08:13] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Ping timeout)
[02:08:18] *** Quits: jroweboy (jrowe7@6B271048.475B5474.71765F8E.IP) (Ping timeout)
[02:08:26] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[02:08:26] <brson> somebody submitted an RFC using the new process https://github.com/rust-lang/rfcs/pull/1
[02:08:49] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[02:08:51] *** Joins: IanCormac84 (User@CCAF56C7.64D641E5.67DFF8B4.IP)
[02:08:53] * sfackler needs to write one up for unused attribute detection
[02:08:57] *** Quits: mib_wflneg (Mibbit@FE9F738.198AA336.7DA01DD1.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:10:34] <bstrie> brson: aaah! this would have been *so useful* years ago as a way for people in the future to evaluate rust in a historical context
[02:10:44] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[02:10:48] <brson> dougxxx: `here = here.push(i)` is trying to mutate 'here' in two ways at the same time (as far as the borrowck sees): .push takes &mut self, and `here =` is also effectively like mutating `here` through a &mut pointer
[02:10:55] <bstrie> though the RFC numbers would be at, like, 2000 by now :P
[02:11:08] <brson> bstrie: there's a lot of historical context ahead of us still
[02:11:18] <FreeFull> dougxxx: Try removing the "here ="
[02:11:26] <FreeFull> .push already modifies it
[02:11:30] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[02:11:43] <dougxxx> O_o
[02:11:44] <brson> bstrie: and we could probably organize the historical RFC's in some way that makes sense and just stick them in the rfcs repo
[02:11:48] *** Joins: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net)
[02:12:02] *** Quits: luziie (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[02:12:04] <dougxxx> push returns the next link in the chain
[02:12:12] <brson> dougxxx: doing the push and assign as two different statements will probably work
[02:12:44] <brson> the method call is borrowing 'here' mutably for the duration of the statement, making the later assignment to 'here' impossible
[02:12:48] <brson> afaict
[02:12:51] <bstrie> brson: we'll have to give them RFC numbers counting down from 4,294,967,295, to indicate prehistory
[02:12:56] <brson> bstrie: naturally
[02:13:24] *** Joins: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[02:13:45] <bstrie> brson: this actually sounds fascinating, organizing historical breaking changes in such a way. it's in the vein of a historical study of rust's evolution that I've had my eye on for a long time now
[02:14:04] *** Joins: mpiechotka (mpiechotka@moz-5393CC9.dynamic.mnet-online.de)
[02:14:07] <dougxxx> brson: hm, that did work
[02:14:10] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[02:14:16] <dougxxx> thanks~
[02:14:22] <brson> np
[02:14:30] *** Quits: mye (mye@moz-4C68D7A6.dip0.t-ipconnect.de) (Quit: mye)
[02:14:33] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[02:15:04] *** Parts: mpiechotka (mpiechotka@moz-5393CC9.dynamic.mnet-online.de) ()
[02:15:32] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[02:16:02] *** Quits: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca) (Ping timeout)
[02:16:27] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[02:17:00] *** Joins: vadimcn_ (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[02:17:08] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[02:17:35] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[02:17:35] *** Quits: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net) (Ping timeout)
[02:17:38] *** Joins: jroweboy (jrowe7@moz-ABD9D9CB.cs.byu.edu)
[02:17:42] *** vadimcn_ is now known as vadimcn
[02:18:42] *** Quits: DanC (connolly@moz-4039CBE6.dyn.everestkc.net) (Ping timeout)
[02:18:54] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[02:19:19] *** Quits: jroweboy (jrowe7@moz-ABD9D9CB.cs.byu.edu) (Ping timeout)
[02:20:28] <halosghost> ChrisMorgan: okay, I'm trying to make an incredibly simple script with rust-http
[02:20:34] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[02:20:56] <halosghost> and I'm having trouble figuring out how I can pass it a URL statically (not as an argument, but as a string)
[02:21:13] <ChrisMorgan> At present, that must be from_str("http://…/").unwrap()
[02:22:34] *** Joins: pongad (pongad@moz-7E8AAD2E.res.gatech.edu)
[02:22:45] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[02:22:48] *** Quits: IanCormac84 (User@CCAF56C7.64D641E5.67DFF8B4.IP) (Ping timeout)
[02:22:51] <halosghost> that's giving me an error: http://ix.io/b2Z
[02:23:16] *** Joins: IanCormac84 (User@4062997D.64D641E5.67DFF8B4.IP)
[02:23:25] *** Joins: Rym (y@2B15C227.8787B3D5.8772DA20.IP)
[02:24:01] <ChrisMorgan> halosghost: you need to unwrap the Option<~str> returned by from_str()
[02:24:49] *** Joins: bleibig (bleibig@moz-B4D9C5AF.hsd1.ca.comcast.net)
[02:24:58] <halosghost> ahh
[02:25:00] <halosghost> there we go
[02:25:05] *** Quits: Rym (y@2B15C227.8787B3D5.8772DA20.IP) (Ping timeout)
[02:25:05] <halosghost> thanks :)
[02:26:48] <halosghost> okay, the body response is returned as "Some(123.456.789.012\n)"
[02:27:18] <halosghost> is the simplest way to remove the "Some()" by using decomposition with a match expression?
[02:27:19] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (Input/output error)
[02:27:54] *** Quits: lawrence (lawrence@moz-BB3C54F8.wireless.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:27:56] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[02:28:08] <aatch> halosghost, nah, unwrap() or expect() are.
[02:28:29] <halosghost> okay, good to know
[02:29:07] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[02:29:29] <halosghost> victory
[02:29:51] <halosghost> and so complete is a basic IP checker :)
[02:30:12] <ChrisMorgan> ☺
[02:30:48] <ChrisMorgan> halosghost: bear in mind, of course, that unwrap() and expect() will cause the task to fail if you ever end up with a None there.
[02:30:53] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[02:31:03] <halosghost> ChrisMorgan: I imagined :)
[02:31:13] *** Quits: IanCormac84 (User@4062997D.64D641E5.67DFF8B4.IP) (Ping timeout)
[02:31:13] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[02:31:35] *** Joins: arturo (Thunderbir@moz-8294763D.pool.mediaways.net)
[02:31:39] <halosghost> that's not the prettiest code I've ever written, but I never tried to do network IO in C without libcurl, so I wouldn't be surprised if this is still significantly simpler
[02:31:55] *** Joins: lpy (lpy@54AA05A8.F09091A8.1348A864.IP)
[02:31:56] *** Joins: IanCormac84 (User@636A0907.2A8D8854.67DFF8B4.IP)
[02:32:04] <ChrisMorgan> halosghost: can you share your code?
[02:32:15] <halosghost> of course
[02:32:19] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[02:32:21] <halosghost> (it's probably terrible)
[02:32:24] <ChrisMorgan> rust-http does not at present expose a sufficiently high-level interface. Things will get better.
[02:32:28] * halosghost is still very new to Rust
[02:32:32] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[02:32:54] <halosghost> ChrisMorgan: http://ix.io/b30
[02:33:02] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Ping timeout)
[02:33:10] <halosghost> I essentially hijacked the example client and stripped out everything I didn't need
[02:33:25] <halosghost> on a related note, I wish ix supported Rust syntax highlighting
[02:33:28] <bstrie> halosghost: what's the prettiest code you've ever written?
[02:33:55] <halosghost> bstrie: don't even know
[02:33:56] <ChrisMorgan> halosghost: three spaces?
[02:34:01] <halosghost> ChrisMorgan: ?
[02:34:02] <ChrisMorgan> halosghost: (four is conventional)
[02:34:05] <strcat> bstrie: #!/bin/rm
[02:34:09] *** Joins: DanC (connolly@moz-BEA079AC.kumc.edu)
[02:34:12] <strcat> bstrie: the most beautifully tragic program
[02:34:20] <ChrisMorgan> Wow. I am impressed by that.
[02:34:30] <ChrisMorgan> halosghost: what you pasted has three space indentation
[02:34:36] <halosghost> ChrisMorgan: oh, that's the default in my vimrc
[02:34:44] <halosghost> Not hard to fix with a modeline
[02:34:56] <halosghost> but I'll make sure to do that
[02:35:02] *** Quits: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca) (Quit: canhtak)
[02:35:09] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (Input/output error)
[02:35:15] <ChrisMorgan> halosghost: ~/.vim/ftplugin/rust.vim: setl sw=4 sts=4 ts=4
[02:35:54] * ChrisMorgan hasn't come across three-space people much at all
[02:36:07] <halosghost> Honestly, I don't know why I have that still
[02:36:18] <halosghost> I prefer four spaces in C too
[02:36:21] *** Joins: nstdloop_ (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[02:36:22] * halosghost goes to change that
[02:36:35] <halosghost> fixed
[02:36:36] <YourBestFriend> 2 3> 4
[02:36:37] * ChrisMorgan explicitly sets reStructuredText to three spaces but defaults to four and noexpandtab.
[02:36:44] <ChrisMorgan> YourBestFriend: false
[02:36:48] <halosghost> I like expandtab
[02:36:52] <halosghost> but, that may just be me
[02:36:54] <YourBestFriend> nope
[02:37:04] <ChrisMorgan> rusti: 2 > 4
[02:37:10] -rusti- timeout triggered!
[02:37:12] <ChrisMorgan> rusti: 2 > 4
[02:37:12] -rusti- false
[02:37:26] <halosghost> haha
[02:37:31] <halosghost> oh, that reminds me
[02:37:40] * ChrisMorgan uses expandtab for quite a few filetypes; Python and Rust certainly get expandtab
[02:37:41] <halosghost> are there plans to revive rusti (the interpreter)?
[02:37:44] <FreeFull> rusti: 4 < 2
[02:37:45] -rusti- false
[02:37:47] <YourBestFriend> he's fast on the timeout trigger
[02:37:52] <ChrisMorgan> halosghost: eventually
[02:37:55] <strcat> YourBestFriend: 5s
[02:37:59] <halosghost> mmmm, fun
[02:38:05] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[02:38:12] <ChrisMorgan> strcat: compile time is included, I presume?
[02:38:18] *** Joins: rileyw (rileyw@moz-E40BCEED.hsd1.ca.comcast.net)
[02:38:18] <strcat> ChrisMorgan: yes
[02:38:29] <strcat> ChrisMorgan: and it's running on my 2nd drive
[02:38:30] <strcat> not my ssd
[02:38:45] <strcat> so 60MiB/s isn't enough to read in rustc, gcc, ld, etc. 
[02:38:47] <strcat> in 5s
[02:38:51] <strcat> has to be cached
[02:39:04] *** Joins: luziie (luziie@moz-CD18B14B.customer.cdi.no)
[02:39:06] <strcat> 550MiB/s is obviously enough so it'd work on the SSD
[02:39:22] <strcat> ;p
[02:39:30] <ChrisMorgan> strcat: bear in mind that Rust *is* growing :P
[02:39:43] <strcat> ChrisMorgan: yeah, and one time someone will offer to pay for a VPS or something for it
[02:39:48] <strcat> one day*
[02:40:02] <strcat> then the web interface can be up somewhere persistent too
[02:40:06] <bstrie> strcat: I still haven't heard of any VPS providers that offer arch :P
[02:40:16] <sfackler> bstrie: digital ocean does
[02:40:16] <strcat> bstrie: lots do ;s
[02:40:30] <sfackler> I have a droplet that's running nothing but an IRC proxy if you want to toss rusti on that
[02:40:34] <strcat> bstrie: aws, linode, etc. all do
[02:40:51] <ChrisMorgan> Doesn't even need a VPS. WebFaction gives enough power to do such a thing.
[02:40:53] *** Joins: claudiu_ (claudiu@moz-F69B678E.thefacebook.com)
[02:40:56] *** Quits: claudiu (claudiu@moz-F69B678E.thefacebook.com) (Input/output error)
[02:40:59] <strcat> I'd be happy with nixos or exherbo too ;p, everything else sucks! ;)
[02:41:35] * halosghost just wants ix to have Rust syntax highlighting and for travis-ci and Github to natively support Rust
[02:41:54] *** Quits: tikue (tkuehn@CB7FC854.FAD414BA.D74CC41D.IP) (Quit: tikue)
[02:42:12] <halosghost> also, for rust-curl (or another high-level network interface) and ncurses-rs to become stable
[02:42:13] <sfackler> github has pretty decent hilighting
[02:42:17] <halosghost> sfackler: eh
[02:42:20] *** Quits: nstdloop_ (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (Input/output error)
[02:42:22] <halosghost> it feels pretty lacking to me
[02:42:26] <halosghost> but perhaps that's just me
[02:42:30] <strcat> ChrisMorgan: needs a recent kernel, etc.
[02:42:33] *** Quits: claudiu_ (claudiu@moz-F69B678E.thefacebook.com) (Ping timeout)
[02:43:02] <ChrisMorgan> Hmm, web323.webfaction.com is running 2.6.32.
[02:43:10] <strcat> so, not nearly new enough
[02:43:15] <andrewd18> pretty sure Linode offers Arch Linux VMs
[02:43:15] <ChrisMorgan> Indeed.
[02:43:18] <strcat> it depends on 3.8 atm, but it'll be bumped soon
[02:43:30] * ChrisMorgan hadn't thought of that but sees it quite clearly
[02:43:35] <strcat> and it will depend on having systemd for cgroups
[02:43:45] <strcat> it should be using a scope unit
[02:43:57] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[02:44:05] * strcat shrugs
[02:44:28] <strcat> only reason the deps aren't stricter is that I'm lazy and haven't implemented all the features it should have ;)
[02:44:37] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[02:46:08] *** Quits: IanCormac84 (User@636A0907.2A8D8854.67DFF8B4.IP) (Ping timeout)
[02:46:48] *** Joins: IanCormac84 (User@484F360D.2A8D8854.67DFF8B4.IP)
[02:47:27] *** Quits: rileyw (rileyw@moz-E40BCEED.hsd1.ca.comcast.net) (Client exited)
[02:48:17] *** Quits: oxum (anonymous@E9528B24.88326D41.520CDC98.IP) (Quit: ...)
[02:48:43] *** Quits: Merth (shaun@moz-E41B2C4D.dhcp.mdsn.wi.charter.com) (Ping timeout)
[02:49:00] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (Input/output error)
[02:49:49] *** Joins: rileyw (rileyw@moz-E40BCEED.hsd1.ca.comcast.net)
[02:50:16] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[02:50:19] *** Quits: lpy (lpy@54AA05A8.F09091A8.1348A864.IP) (Client exited)
[02:50:58] *** Joins: lpy (lpy@F7AFA3.F09091A8.1348A864.IP)
[02:51:11] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[02:51:17] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: evanm)
[02:51:26] *** Quits: IanCormac84 (User@484F360D.2A8D8854.67DFF8B4.IP) (Ping timeout)
[02:51:33] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[02:52:35] *** Joins: IanCormac84 (User@D1AEF093.64D641E5.67DFF8B4.IP)
[02:52:41] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[02:52:43] *** Quits: jadbaires (jadrian@moz-A37AC89A.dsl.telepac.pt) (Connection reset by peer)
[02:52:49] *** Joins: jadbaires (jadrian@moz-A37AC89A.dsl.telepac.pt)
[02:52:55] *** Quits: rileyw (rileyw@moz-E40BCEED.hsd1.ca.comcast.net) (Client exited)
[02:53:20] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[02:53:50] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[02:54:08] *** Joins: rileyw (rileyw@moz-E40BCEED.hsd1.ca.comcast.net)
[02:54:45] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[02:55:03] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[02:56:25] *** Joins: claudiu (claudiu@moz-F69B678E.thefacebook.com)
[02:56:26] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[02:56:27] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (Input/output error)
[02:56:40] *** Joins: ChrisOei (ChrisOei@moz-CA6C5EA5.mycingular.net)
[02:56:46] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[02:57:18] *** Joins: tanayseven (tanay@A45DC6E8.EF0F6887.5A7A4C68.IP)
[02:57:40] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[02:58:35] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Ping timeout)
[02:59:40] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[03:00:00] *** Quits: IanCormac84 (User@D1AEF093.64D641E5.67DFF8B4.IP) (Ping timeout)
[03:00:15] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[03:00:20] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[03:00:20] *** ChanServ sets mode: +ao dherman dherman
[03:01:28] *** Joins: IanCormac84 (User@AE9955FF.2A8D8854.67DFF8B4.IP)
[03:01:54] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[03:02:20] *** Quits: ChrisOei (ChrisOei@moz-CA6C5EA5.mycingular.net) (Ping timeout)
[03:02:31] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[03:02:51] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[03:02:55] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[03:03:08] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[03:03:11] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[03:03:14] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (Input/output error)
[03:04:11] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[03:04:46] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Connection reset by peer)
[03:04:54] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[03:04:56] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[03:04:58] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[03:06:30] *** Quits: tanayseven (tanay@A45DC6E8.EF0F6887.5A7A4C68.IP) (Ping timeout)
[03:06:38] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[03:07:23] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[03:07:57] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[03:08:16] *** Quits: arturo (Thunderbir@moz-8294763D.pool.mediaways.net) (Ping timeout)
[03:08:17] *** Quits: claudiu (claudiu@moz-F69B678E.thefacebook.com) (Input/output error)
[03:08:38] *** Joins: claudiu (claudiu@moz-F69B678E.thefacebook.com)
[03:09:05] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[03:09:17] *** Quits: cgaebel (clark@moz-F9D89110.nyc.res.rr.com) (Ping timeout)
[03:09:29] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[03:09:45] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[03:09:55] *** Joins: claudiu_ (claudiu@moz-F69B678E.thefacebook.com)
[03:10:00] *** Joins: ChrisOei (ChrisOei@moz-30D80888.hsd1.ca.comcast.net)
[03:10:11] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[03:10:19] *** Quits: claudiu (claudiu@moz-F69B678E.thefacebook.com) (Ping timeout)
[03:10:29] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (Connection reset by peer)
[03:11:41] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[03:11:44] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[03:12:17] *** Quits: rileyw (rileyw@moz-E40BCEED.hsd1.ca.comcast.net) (Client exited)
[03:12:18] *** Quits: joelteon (bzzt@moz-317E8D0C.io) (Quit: I'm out)
[03:13:42] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[03:15:05] *** Quits: soumyaC (uid15286@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[03:15:07] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[03:15:21] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[03:16:21] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[03:16:23] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (Input/output error)
[03:17:33] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[03:19:11] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[03:19:29] *** Joins: joelteon_test (bzzt@moz-ACC9D720.members.linode.com)
[03:20:13] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[03:20:32] <dougxxx> IS there some smart way to avoid namespace collisions in traits and structs? eg, a struct has a 'data' element, and the trait defines a 'fn data()', how do you resolve that?
[03:20:39] <dougxxx> woops, :P IS -> is
[03:20:40] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[03:20:41] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[03:20:53] <strcat> dougxxx: different namespaces, no problem
[03:21:05] <strcat> foo.bar() is always a method call, never a field access
[03:21:14] <dougxxx> hm, I'm sure I stumbled into it not working yesterday and had to rename something..
[03:21:24] *** Quits: q66 (q66@moz-63890FED.dab.02.net) (Quit: Leaving)
[03:21:27] <dougxxx> oh, maybe I was using the struct
[03:21:38] <strcat> rusti: struct Foo { bar: int } impl Foo { fn bar() -> int { 5 } }
[03:21:42] -rusti- pastebinned 7 lines of output: http://sprunge.us/FgdO
[03:22:00] <dougxxx> Can I go (blah as TraitType).data();
[03:22:01] <dougxxx> ?
[03:22:08] <strcat> hm?
[03:22:14] <strcat> you don't need to cast as a trait to call a trait method.
[03:22:16] *** Parts: joelteon_test (bzzt@moz-ACC9D720.members.linode.com) (bye)
[03:22:17] *** Joins: alisdair (textual@moz-B1BE70D2.hsd1.co.comcast.net)
[03:22:19] <strcat> you rarely need traits as objects
[03:22:26] <dougxxx> hum...
[03:22:40] <strcat> if a trait is in scope, the methods can be called
[03:22:42] * dougxxx tries it...
[03:23:08] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (Input/output error)
[03:23:28] <ChrisMorgan> dougxxx: x.bar is field access, x.bar() is method call, (x.bar)() is calling a field (e.g. if the x.bar field is a closure)
[03:23:57] *** Quits: IanCormac84 (User@AE9955FF.2A8D8854.67DFF8B4.IP) (Ping timeout)
[03:24:23] *** Joins: IanCormac84 (User@7C3B9F0.2A8D8854.67DFF8B4.IP)
[03:25:14] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[03:26:28] *** Quits: untitaker (untitaker@moz-3C08D535.adsl.highway.telekom.at) (Ping timeout)
[03:27:07] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[03:27:40] <halosghost> is rusti actually a rust interpreter?
[03:27:45] <halosghost> like, this IRC bot
[03:27:50] *** Joins: Rusky1 (russell@moz-173BA32C.slkc.qwest.net)
[03:27:52] *** Quits: Rusky (russell@moz-173BA32C.slkc.qwest.net) (Quit: Leaving.)
[03:28:36] <sfackler> halosghost: it compiles and runs something like "fn main() { let f = { <your text here} }; println!("{:?}", f); }"
[03:28:51] *** Quits: IanCormac84 (User@7C3B9F0.2A8D8854.67DFF8B4.IP) (Ping timeout)
[03:28:54] *** Joins: rileyw (rileyw@moz-E40BCEED.hsd1.ca.comcast.net)
[03:29:02] *** Quits: alisdair (textual@moz-B1BE70D2.hsd1.co.comcast.net) (Ping timeout)
[03:29:18] *** Joins: IanCormac84 (User@F7AB90F7.64D641E5.67DFF8B4.IP)
[03:29:19] <halosghost> ahh
[03:29:20] <halosghost> cool
[03:30:31] *** Joins: oxum (anonymous@FF63FA44.5CB1E4DE.520CDC98.IP)
[03:30:44] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[03:31:04] <dougxxx> hm, I stand corrected; that namespaces thing works perfectly well. lovely~
[03:31:09] *** Quits: IanCormac84 (User@F7AB90F7.64D641E5.67DFF8B4.IP) (Ping timeout)
[03:31:14] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[03:32:46] *** Joins: alisdair (textual@moz-B1BE70D2.hsd1.co.comcast.net)
[03:32:58] <strcat> halosghost: https://github.com/thestinger/playpen
[03:33:00] *** Joins: IanCormac84 (User@F7AB90F7.64D641E5.67DFF8B4.IP)
[03:33:22] *** Joins: claudiu (claudiu@moz-F69B678E.thefacebook.com)
[03:33:22] *** Quits: claudiu_ (claudiu@moz-F69B678E.thefacebook.com) (Connection reset by peer)
[03:34:13] *** Joins: untitaker (untitaker@moz-500C8AFD.adsl.highway.telekom.at)
[03:34:22] *** Joins: joelteon_test (bzzt@moz-ACC9D720.members.linode.com)
[03:34:27] *** Quits: alisdair (textual@moz-B1BE70D2.hsd1.co.comcast.net) (Ping timeout)
[03:35:33] <halosghost> strcat: oh, you're thestinger
[03:35:35] <halosghost> Hi :P
[03:35:49] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[03:37:16] *** Joins: IanCormac841 (User@BA5C0764.64D641E5.67DFF8B4.IP)
[03:37:20] *** Quits: IanCormac84 (User@F7AB90F7.64D641E5.67DFF8B4.IP) (Ping timeout)
[03:37:37] <bollu> how do I do a C/C++ style enum in Rust?
[03:37:55] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[03:38:07] *** Joins: alisdair (textual@moz-B1BE70D2.hsd1.co.comcast.net)
[03:39:48] *** Quits: joelteon_test (bzzt@moz-ACC9D720.members.linode.com) (Quit: goodbye)
[03:39:58] <halosghost> what do you mean?
[03:40:07] *** Joins: joelteon_test (bzzt@moz-ACC9D720.members.linode.com)
[03:40:24] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (Input/output error)
[03:40:34] <bollu> like, enum States { MainMenu = 1, Game, Options };
[03:40:39] *** Quits: alisdair (textual@moz-B1BE70D2.hsd1.co.comcast.net) (Ping timeout)
[03:40:40] <ChrisMorgan> Yes. Like that.
[03:40:56] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[03:41:05] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[03:41:13] <bollu> ChrisMorgan: hmm. but won't they become alternate types? like, you can't implicitly cast them to int
[03:41:13] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[03:41:31] <sfackler> bollu: you can explicitly cast them
[03:41:35] <sfackler> MainMenu as int
[03:41:42] <ChrisMorgan> bollu: correct, you can't implicitly cast them. Rejoice!
[03:41:50] <halosghost> ^
[03:42:00] <halosghost> ahh, language safety
[03:42:02] <bollu> sfackler, ChrisMorgan: ty :)
[03:42:11] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[03:42:11] *** Joins: dranov (dranov@A64F5A43.65119E71.FB866788.IP)
[03:42:19] <ChrisMorgan> (I'm quite serious about that. Implicit casting of these sorts is a bad idea and Rust has very explicitly not gone that way.)
[03:42:59] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[03:43:01] <halosghost> strcat: that's pretty handy
[03:43:11] <halosghost> how often do you use it?
[03:43:18] <strcat> well rusti uses it ;P
[03:43:29] <strcat> I haven't put in the work to make it more generally useful
[03:43:44] <halosghost> niice :)
[03:43:51] <halosghost> It's not bad
[03:44:04] *** Quits: joelteon_test (bzzt@moz-ACC9D720.members.linode.com) (Quit: goodbye)
[03:44:09] *** Joins: alisdair (textual@moz-B1BE70D2.hsd1.co.comcast.net)
[03:44:12] <bollu> halosghost: context?
[03:44:23] *** Joins: joelteon_test (bzzt@moz-ACC9D720.members.linode.com)
[03:44:26] *** Joins: jroweboy (jrowe7@moz-18814A6B.provo.static.broadweavenetworks.net)
[03:44:29] <halosghost> bollu: https://github.com/thestinger/playpen
[03:44:31] *** joelteon_test is now known as joelteon
[03:44:37] <halosghost> strcat: I miss phrik
[03:44:57] <ChrisMorgan> bollu: if you want to go back from an integer to a State (BTW: name it State rather than States), derive FromPrimitive and use FromPrimitive.from_int et al.
[03:45:30] <halosghost> I must say, I am really impressed by Rust's generics and trait systems
[03:45:45] <halosghost> and the overloaded operators are wonderful
[03:45:51] *** Quits: alisdair (textual@moz-B1BE70D2.hsd1.co.comcast.net) (Ping timeout)
[03:46:25] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Ping timeout)
[03:46:30] <bollu> ChrisMorgan: I don't think that will be needed.
[03:46:37] <ChrisMorgan> bollu: good ☺
[03:46:38] <bollu> ChrisMorgan: but it's good to know
[03:46:49] <ChrisMorgan> Yeah, because otherwise it's not obvious.
[03:47:09] *** Joins: sumisu (Mibbit@moz-5840E599.netcologne.de)
[03:47:33] <ChrisMorgan> It's necessary for safety, of course; e.g. 73 => invalid state, hence you can only have int -> Option<State> rather than int -> State
[03:47:35] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[03:47:41] <bollu> strcat: moc v/s ncmpcpp - opinion? :D
[03:48:04] *** Quits: aphistic (aphistic@moz-D08A46AA.erikd.org) (Client exited)
[03:48:06] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[03:48:08] <strcat> I'm too lazy to maintain a music collection
[03:48:10] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[03:48:12] <halosghost> bollu: mpv
[03:48:17] <strcat> just use spotify or something
[03:48:20] <strcat> save yourself a lot of work
[03:48:21] *** Quits: zz_kimundi (kimundi@moz-B5D25C17.dip0.t-ipconnect.de) (Ping timeout)
[03:48:22] <halosghost> haha
[03:48:27] <bollu> lol
[03:48:33] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[03:48:38] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[03:48:44] *** Joins: andelf (fledna@983BB788.FB767B38.1CD28F1D.IP)
[03:48:45] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[03:49:08] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[03:50:06] *** Quits: joelteon (bzzt@moz-ACC9D720.members.linode.com) (Quit: goodbye)
[03:50:26] *** Joins: alisdair (textual@moz-B1BE70D2.hsd1.co.comcast.net)
[03:50:26] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[03:50:26] *** Joins: joelteon (bzzt@moz-ACC9D720.members.linode.com)
[03:50:37] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[03:50:39] <jroweboy> Hello everyone! I can't figure out why I can't have a struct that contains a ~Trait that I defined to fulfill Send. The struct is here https://github.com/jroweboy/oxidize/blob/broken_code/src/conf.rs and it refuses to fulfill Send https://gist.github.com/jroweboy/9497450 (Oxidize only has a Config inside it)
[03:50:43] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[03:50:52] *** Quits: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP) (Quit: mno2)
[03:51:11] <jroweboy> I tried changing the line to ~Router:Send but it still said it doesn't fulfill send
[03:51:21] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[03:51:23] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[03:51:26] *** Joins: depp (depp@500BAFC1.53465674.3C05E6CB.IP)
[03:52:03] <ChrisMorgan> jroweboy: Rc cannot be Send.
[03:52:12] *** Joins: zz_kimundi (kimundi@moz-7F0BEAFC.dip0.t-ipconnect.de)
[03:52:38] *** zz_kimundi is now known as kimundi
[03:53:20] <bollu> morning kimundi!
[03:53:52] <jroweboy> What type should I use to fulfill send then? I want to have just a single config that each task reads from, but RWArc won't let me read(|r: ~Router| {}); since ~Router is not a type
[03:54:01] *** Quits: alisdair (textual@moz-B1BE70D2.hsd1.co.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:54:20] <ChrisMorgan> jroweboy: need the config be mutable?
[03:54:34] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[03:54:52] <ChrisMorgan> (And why is ~Router not a type?)
[03:54:58] <jroweboy> No, actually I think I just found my extremely stupid mistake. I just wasn't using Router at the top of the file >.>
[03:54:59] <ChrisMorgan> jroweboy: sync::arc::Arc is immutable
[03:55:55] <jroweboy> Ah thanks for that tip, I'll start using Arc for that then. 
[03:56:49] <lpy> Hello everyone! what is the meaning of bare slice? for example `let A = [~"a", ~"b", ~"c"]`, when saying "don't need to be ~str values, they can be bare slices", how could I change it?
[03:57:04] *** Joins: alisdair (textual@moz-B1BE70D2.hsd1.co.comcast.net)
[03:57:05] <ChrisMorgan> lpy: ["a", "b", "c"]
[03:57:29] *** Quits: alisdair (textual@moz-B1BE70D2.hsd1.co.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:57:52] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[03:58:15] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[03:58:30] <jroweboy> ChrisMorgan: Also while your around, but what would it take to add http keepalive to rust-http? Just like, what is a good estimate of how much time it'll take to add it. I might have the time to add it if it wouldn't be too much 
[03:58:36] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[03:58:40] <lpy> ChrisMorgan: I have tried that, but I got the "cannot infer an appropriate lifetime for autoref due to conflicting requirements" when I use `A.contains(name.as_slice())`, where `name` is `~str`
[03:58:42] <ChrisMorgan> jroweboy: server has it
[03:58:48] <bollu> is it possible to say "if you import module A, you __automatically__ import moudle B, C, D"
[03:59:02] <lpy> ChrisMorgan: Oh I see. thank you :)
[03:59:19] *** Quits: ChrisOei (ChrisOei@moz-30D80888.hsd1.ca.comcast.net) (Ping timeout)
[03:59:28] <jroweboy> ChrisMorgan: No way! When did that land? 
[03:59:40] <ChrisMorgan> jroweboy: very early on.
[04:00:16] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[04:01:02] <jroweboy> thats awesome! Oxidize is getting really close to being ready to be added to the web framework benchmarks, and that was something they strongly recommend having.
[04:01:18] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[04:01:38] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[04:01:57] <andrewd18> Anyone know how robust/complete the rgtk bindings are? I'm considering porting a Ruby/GTK app over to Rust.
[04:02:28] *** Quits: herrwolfe45 (uid26657@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[04:02:32] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[04:03:30] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Ping timeout)
[04:04:13] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[04:05:31] <bollu> http://www.rust-sfml.org/doc/rsfml/window/event/enum.Event.html <- how do I check for MouseMoved by using match {} 
[04:05:34] <bollu> ?
[04:05:42] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[04:06:28] <ChrisMorgan> bollu: match event { MouseMoved { x, y } => (x, y), … }
[04:06:30] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[04:06:45] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[04:07:16] <ChrisMorgan> (You can use the pattern `MouseMoved { x: thing_to_bind_it_to, y: another_thing }`, but if you omit the latter parts it's equivalent to `MouseMoved { x: x, y: y }`.)
[04:07:23] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[04:07:24] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[04:07:33] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[04:07:34] *** Quits: Rufflewind (rf@moz-4556AD29.lightspeed.lnngmi.sbcglobal.net) (Ping timeout)
[04:07:44] <jroweboy> andrewd18: I'm not sure how feature complete it is, but it looks like this fork is the most up to date version maybe? https://github.com/sp0/rgtk
[04:07:48] <bollu> ChrisMorgan: ah, thank you :) I was using (x, y) not {x, y}
[04:08:49] <ChrisMorgan> bollu: it follows the struct syntax.
[04:09:05] <ChrisMorgan> Refer to the manual for full explanation of what patterns you can use.
[04:09:28] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[04:09:31] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[04:09:52] *** Joins: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP)
[04:10:05] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[04:10:33] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[04:10:41] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[04:12:27] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[04:12:46] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:12:47] *** Joins: mib_rndg0h (Mibbit@moz-462042E6.netcologne.de)
[04:13:47] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (Input/output error)
[04:13:57] *** Quits: sumisu (Mibbit@moz-5840E599.netcologne.de) (Quit: http://www.mibbit.com ajax IRC Client)
[04:14:15] <jroweboy> ChrisMorgan: Hey, someone in my group for oxidize is making a CMake file to replace your makefile for rust-http since the Makefile didn't seem to work on a mac. Would you care to have that sent as a pull request to you then?
[04:14:31] <ChrisMorgan> jroweboy: what doesn't work about the Makefile?
[04:15:19] <ChrisMorgan> CMake just produces Makefiles anyway (or so I understand); it'll just be an accidentally used GNU-specific feature in the makefile, I expect.
[04:15:36] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[04:15:48] *** Quits: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP) (Ping timeout)
[04:15:59] <jroweboy> ChrisMorgan: Well, he says it now works :) Funny how that works sometimes. 
[04:16:00] *** Joins: alisdair (textual@moz-B1BE70D2.hsd1.co.comcast.net)
[04:16:02] <dougxxx> (cmake can also emit ninja stuff, but basically yes)
[04:16:35] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[04:16:39] *** Joins: Rufflewind (rf@moz-4556AD29.lightspeed.lnngmi.sbcglobal.net)
[04:17:19] <jroweboy> CMake can make Visual studio files for windows, XCode for mac and Makefiles for linux so its kinda neat. After writing the Makefile for oxidize I'm starting to see why people want to avoid writing their own makefiles though :/
[04:17:26] *** Quits: alisdair (textual@moz-B1BE70D2.hsd1.co.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:18:28] <ChrisMorgan> Makefiles really aren't that awful.
[04:18:30] <ChrisMorgan> (Normally.)
[04:18:37] <dougxxx> CMake's actually useful features are template generation actually.
[04:18:38] <ChrisMorgan> (Well, mostly.)
[04:18:39] <ChrisMorgan> (Kinda.)
[04:18:43] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[04:18:47] <ChrisMorgan> (OK, they can get pretty nasty.)
[04:18:59] <dougxxx> So for example you can generate a rust file which links to the correct places for a c library
[04:19:07] <dougxxx> (which is what I did for binding V8~)
[04:19:09] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[04:21:02] <jroweboy> I updated the rust-pcre makefile to check to make sure the version of the library was at least 8.30 I had no idea how obtuse it was to make this work properly in a Makefile 
[04:21:26] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[04:22:00] <jroweboy> dougxxx: bindings for V8? what for exactly? That sounds interesting
[04:22:17] <dougxxx> Just playing with
[04:22:45] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[04:22:46] <dougxxx> All I did was get a console.log + callback running, but it's easy enough to do. The v8 embedding guide is pretty straight forward.
[04:23:07] <dougxxx> The ticky bit was linking honestly, and dealing with the thread stuff with v8
[04:23:12] *** Quits: doctor (ARealName@moz-9CB48492.nycmny.fios.verizon.net) (Ping timeout)
[04:23:26] <ChrisMorgan> dougxxx: any reason you haven't published it?
[04:23:26] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[04:23:39] *** Joins: doctor (ARealName@moz-9CB48492.nycmny.fios.verizon.net)
[04:24:01] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Quit: mbx)
[04:24:08] *** Quits: mib_rndg0h (Mibbit@moz-462042E6.netcologne.de) (Quit: http://www.mibbit.com ajax IRC Client)
[04:24:55] <dougxxx> not particularly, I'm not really happy with the cmake stuff as it stands is all, and it doesn't compile on windows obviously.
[04:25:05] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Quit: Leaving)
[04:25:34] <dougxxx> (specifically it has to copy all the binaries one by one to a lib folder about the v8 build so my rust file isn't full of clink stuff. bit meh)
[04:25:55] <dougxxx> I suppose I can put it up on github if anyone is interested
[04:25:58] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[04:26:01] <jroweboy> dougxxx: who needs windows anyway :^) 
[04:26:07] * dougxxx sighs
[04:26:15] <dougxxx> too many people. :P
[04:27:39] *** Quits: matp (matp@moz-16FE1E05.matp.at) (Quit: ZZZzzz…)
[04:27:44] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[04:28:12] *** Quits: victorporof_ (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Ping timeout)
[04:28:14] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[04:30:14] *** Quits: jadbaires (jadrian@moz-A37AC89A.dsl.telepac.pt) (Quit: Konversation terminated!)
[04:30:17] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[04:31:53] *** Quits: claudiu (claudiu@moz-F69B678E.thefacebook.com) (Input/output error)
[04:32:56] *** Joins: IanCormac84 (User@FE70546B.2A8D8854.67DFF8B4.IP)
[04:32:57] *** Quits: IanCormac841 (User@BA5C0764.64D641E5.67DFF8B4.IP) (Ping timeout)
[04:33:09] <bollu> https://gist.github.com/bollu/2c93cab8a4fc35d10d7f <- traits problems...
[04:33:19] *** Joins: nrc (nrc@C6E9F232.74528455.3CFEB252.IP)
[04:33:21] <bollu> I'd like some help understanding what's going on
[04:33:42] *** Quits: dranov (dranov@A64F5A43.65119E71.FB866788.IP) (Ping timeout)
[04:33:51] *** Joins: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net)
[04:33:51] <bollu> http://www.rust-sfml.org/doc/rsfml/graphics/struct.Text.html <- documentation for rsfml::Text
[04:33:56] *** Joins: dranov (dranov@A64F5A43.65119E71.FB866788.IP)
[04:35:24] <jroweboy> bollu: What happens if you change &self.banner to just self.banner? (Just curious, I dunno what that'll do for you)
[04:35:51] <bollu> will try
[04:36:09] <bollu> nope, type error
[04:36:15] <bollu> ../src/game/main_menu.rs:93:15: 93:26 error: mismatched types: expected `&rsfml::traits::drawable::Drawable<no-bounds>` but found `~rsfml::graphics::text::Text<'a>` (expected trait rsfml::traits::drawable::Drawable but found ~-ptr)
[04:36:19] <bollu> ../src/game/main_menu.rs:93 		pump.attach(self.banner);
[04:36:44] <bollu> I have clearly not understood traits
[04:37:14] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[04:37:16] *** Parts: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net) ()
[04:37:44] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[04:37:50] <bollu> dougxxx, strcat: any ideas?
[04:37:51] <jroweboy> bollu: its expecting a Drawable and not a Text, try self.banner as ~Drawable
[04:37:52] <ChrisMorgan> bollu: use &*self.banner
[04:38:39] <jroweboy> or try what ChrisMorgan says :) this is how I code in rust though, I just try everything I can think of and then see what works and reason about why it worked
[04:38:55] <bollu> ChrisMorgan: that worked for banner.
[04:39:04] <bollu> ChrisMorgan: what about opt?
[04:39:49] <bollu> ChrisMorgan: &** - I don't even,,,
[04:39:50] <ChrisMorgan> bollu: the point is that you need to pass in a reference to a variable of a type that implements Drawable. T implementing Drawable does *not* mean that ~T implements Drawable.
[04:40:02] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[04:40:06] <bollu> ChrisMorgan: ah, but why?
[04:40:51] *** Joins: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP)
[04:40:53] <halosghost> Anyone have an example program of something using rsfml?
[04:40:55] <bollu> ChrisMorgan: what I meant to ask was, why does it behave that way?
[04:41:02] <ChrisMorgan> Your menu_opt is of ~Text<'a>, so .iter() will yield things of type &~Text<'a>, while you want &Text<'a>. So (reading from right to left of the &**): dereference (~Text), dereference (Text), take a reference (&Text).
[04:41:21] <ChrisMorgan> That is why attach(&**opt).
[04:41:23] <bollu> ChrisMorgan: yep, understood ^_^. 
[04:41:26] *** Joins: victorporof_ (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[04:41:31] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[04:41:48] <bollu> haloghost: trivial or non-trivial?
[04:41:48] <jroweboy> I thought using * was kinda frowned upon in rust though... isn't there some nicer way?
[04:41:48] *** Quits: nrc (nrc@C6E9F232.74528455.3CFEB252.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 30.0a1/20140311030201])
[04:42:00] <dougxxx> hm, if T implements X, surely ~T does too? It's just &T that wont?
[04:42:07] <dougxxx> or &~t
[04:42:17] <ChrisMorgan> bollu: for that matter, why is it ~Text and not Text?
[04:42:20] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Ping timeout)
[04:42:24] <halosghost> bollu: trivial is fine
[04:42:36] <halosghost> just interested in seeing how it's done and what it looks like
[04:42:59] <ChrisMorgan> halosghost: http://www.rust-sfml.org/
[04:43:12] <halosghost> ChrisMorgan: much obliged
[04:43:13] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[04:43:27] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[04:43:55] <jroweboy> bollu: Why are all the things in the struct stored as a ~? Just curious again :)
[04:43:59] <bollu> ChrisMorgan: I had problems when I made it a bare text
[04:44:12] <bollu> jroweboy: arrays have to have ~ right?
[04:44:27] <jroweboy> couldn't you make them a &'a though? 
[04:45:12] <ChrisMorgan> bollu: problems? What problems?
[04:45:21] <bollu> jroweboy: doing that now. ChrisMorgan: lifetime
[04:45:25] <jroweboy> (I'm just throwing out ideas. I'm kinda new to rust still so I don't fully understand everything)
[04:45:32] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[04:45:40] <bollu> ChrisMorgan: I'll try and make it work
[04:46:57] <bollu> ChrisMorgan, jroweboy: whoa, I'm dumb. It works perfectly with the 'a declaration. thanks!
[04:47:06] <pongad> How do I clone a &[] into ~[] xD
[04:48:00] <ChrisMorgan> pongad: .to_owned()
[04:48:09] <pongad> ChrisMorgan: I'm stupid
[04:48:12] <bollu> CrisMorgan, jroweboy: anything else to change / improve?
[04:48:19] <pongad> Was trying to use clone() :(
[04:48:22] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[04:48:27] <pongad> ChrisMorgan: THanks Chris!
[04:49:37] <halosghost> strcat: 
[04:49:39] <halosghost> sorry
[04:50:18] <halosghost> strcat: do you think, when Rust starts to stabilize more, that more of the external libraries will find their way into the repos?
[04:52:11] <ChrisMorgan> halosghost: what do you mean? In the standard library?
[04:52:19] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[04:53:25] *** Quits: urbanserj (urbanserj@3E28BD5F.398BF19F.86BD9C9E.IP) (Ping timeout)
[04:53:52] <halosghost> ChrisMorgan: no, strcat is a Trusted User for ArchLinux
[04:53:58] <halosghost> I was asking specifically about the Arch repos
[04:54:05] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[04:55:21] <jroweboy> bollu: I'm probably the last person you'll wanna ask that
[04:56:07] *** Joins: alisdair (textual@moz-B1BE70D2.hsd1.co.comcast.net)
[04:56:24] *** Quits: alisdair (textual@moz-B1BE70D2.hsd1.co.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:57:00] *** Quits: erickt (etryzelaar@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[04:57:10] <bollu> can I get a "count" from an iterator? (i.e - number of iterations completed)
[04:57:48] <ChrisMorgan> bollu: .enumerate()
[04:58:07] <bollu> ty
[04:59:22] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Connection reset by peer)
[05:00:01] *** Joins: onelson (owen@C668895F.36788A19.5625D66B.IP)
[05:01:19] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[05:01:46] *** Quits: pongad (pongad@moz-7E8AAD2E.res.gatech.edu) (Quit: Leaving)
[05:02:21] *** Quits: heftig (heftig@moz-6B22D256.dip0.t-ipconnect.de) (Ping timeout)
[05:02:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[05:03:08] <jroweboy> My code finally compiled :`) what a good feeling that is hahaha
[05:03:10] *** Joins: heftig (heftig@moz-C206A7B2.dip0.t-ipconnect.de)
[05:03:41] <ChrisMorgan> And what's more, once it compiles it'll probably do what you wanted it to.
[05:03:55] <dougxxx> ^^ <--- best thing about rust. :D
[05:04:05] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[05:04:09] <bollu> ChrisMorgan: lol, 
[05:04:09] <halosghost> Completely agree
[05:04:32] <halosghost> Are people bugging Travis-CI to support Rust?
[05:04:34] <bollu> https://gist.github.com/874dfd76b750c011cd90 any changes to be made? :)
[05:04:38] <halosghost> if not, we should
[05:04:44] <bollu> haloghost: I think it already does?
[05:04:51] <ChrisMorgan> halosghost: http://www.rust-ci.org/
[05:05:03] <ChrisMorgan> Specifically, http://www.rust-ci.org/help/
[05:05:22] <halosghost> Oh, I'm fully aware that you can get it to work
[05:05:32] <halosghost> but travis-ci doesn't actually recognize rust
[05:05:40] <ChrisMorgan> It doesn't need to.
[05:05:45] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Client exited)
[05:05:55] <halosghost> it'd do most of the boilerplate
[05:05:58] <halosghost> which would be handy
[05:06:03] <ChrisMorgan> Really, before 1.0 I would not recommend them having special support for it.
[05:06:06] <Yurume> halosghost: what Travis does is just a virtual box that can be used to automatically install the software and gather the test results.
[05:06:15] <halosghost> Yurume: I'm aware
[05:06:27] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[05:06:29] <ChrisMorgan> After 1.0, it would be nice. But before, probably not a good plan.
[05:06:31] <halosghost> ChrisMorgan: that's fair
[05:06:48] <Yurume> maybe you wanted to say that the official documentations about Rust on Travis website, maybe
[05:07:03] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[05:07:20] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[05:07:39] <halosghost> Yurume: not really; more I was saying that "language: rust" in .travis.yml sets no helpful Rust defaults
[05:07:41] *** Quits: janra (Janus@1CDC5701.A48867D7.52E4E107.IP) (Ping timeout)
[05:07:53] *** Quits: DanC (connolly@moz-BEA079AC.kumc.edu) (Ping timeout)
[05:08:07] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[05:08:18] <Yurume> aha
[05:08:50] <halosghost> and that's because Travis doesn't officially recognize Rust as a supported language
[05:08:55] *** Joins: ChrisOei (ChrisOei@moz-30D80888.hsd1.ca.comcast.net)
[05:08:58] <halosghost> but ChrisMorgan is right about waiting till 1.0 lands
[05:09:12] <halosghost> and having defaults is handy but unnecessary anyway
[05:09:25] <halosghost> mozilla/rust uses travis-ci already if I'm not mistaken
[05:09:31] <halosghost> clearly that's not an issue :)
[05:09:31] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[05:10:29] <ChrisMorgan> mozilla/rust is extremely unlikely to ever (a) use Travis as its primary source of CI, or (b) use `language: rust`.
[05:11:27] <halosghost> hmm
[05:11:35] <halosghost> I thought I'd seen it using travis-ci
[05:11:45] <halosghost> I must have been thinking of a library
[05:12:11] <halosghost> yeah, there are a couple rust libraries that do
[05:12:22] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[05:12:42] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[05:12:53] <halosghost> my mistake
[05:13:40] *** Quits: brandonson (SingingBoy@610D90A5.EE9B234.1ECA502.IP) (Connection reset by peer)
[05:14:01] *** Quits: lpy (lpy@F7AFA3.F09091A8.1348A864.IP) (Ping timeout)
[05:14:03] <ChrisMorgan> halosghost: mozilla/rust uses Travis CI for running some tests on PRs, for convenience. But that is not the canonical source of CI; bors + buildbot do that.
[05:14:27] <halosghost> ahhh
[05:14:31] <halosghost> fair enough
[05:14:39] <ChrisMorgan> http://www.rust-ci.org/ shows quite a few more than a couple of Rust libraries using Travis CI!
[05:15:22] <halosghost> good point
[05:16:20] <halosghost> how I desperately want a mature ncurses wrapper for Rust
[05:16:50] <halosghost> jeaye's looks all right though
[05:16:59] <halosghost> I'll need to jump into that more next week
[05:17:05] <jeaye> :)
[05:17:17] <halosghost> jeaye: well hi there
[05:17:21] <jeaye> o/
[05:17:21] <halosghost> didn't even see you in here :)
[05:19:03] <halosghost> Okay folks, thanks for the help, I need to hit the sack
[05:19:10] <jeaye> night
[05:19:10] * ChrisMorgan still wants a rustic interface for such a thing—possibly based on ncurses, possibly not.
[05:19:17] <ChrisMorgan> e.g. using RAII
[05:19:45] <dougxxx> :3
[05:19:50] <dougxxx> a rustic interface?
[05:19:53] <jeaye> pnkfelix was working on such an interface in his wrapper. I'm not sure of his progress.
[05:19:58] <dougxxx> That's awesome. I'm totally using that.
[05:20:21] <dougxxx> (must better than rusty.)
[05:20:47] *** Quits: valentin (Thunderbir@99369F58.AE152CC.FAF22AF7.IP) (Ping timeout)
[05:21:16] <ChrisMorgan> Oh, good.
[05:21:57] <sqwishy> Is it possible to initilize the rust runtime and call exported functions from C?
[05:23:55] <dougxxx> directly from C? Can't you import a rust lib from c? 
[05:24:08] <dougxxx> I've never done it but I thought I saw some library that did.
[05:24:42] *** Quits: Earnestly (earnest@18162BE0.BA6AC103.30311652.IP) (Ping timeout)
[05:25:03] <ChrisMorgan> wycats: did you do that (initialising the Rust runtime from a non-Rust program)?
[05:25:21] <o11c> I'm planning to wrap libtickit, which is like ncurses but better ... I'm sitll on libtermkey though
[05:25:38] *** Joins: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP)
[05:26:13] *** Joins: monk (monk@moz-99849335.compsoc.warwick.ac.uk)
[05:26:24] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:27:01] <ChrisMorgan> Personally I would prefer a pure-Rust library to an ncurses wrapper of any form. No external dependencies.
[05:27:10] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[05:27:31] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:28:57] <o11c> I can see the need ... if you do, I would definitely look at libtermkey at least, it's just so *sensible*. I'm not sure how mature libtickit is.
[05:29:12] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[05:29:25] <o11c> I have too many active projects right now ...
[05:29:34] *** Quits: eibwen (kvirc@moz-4DC959C4.dip0.t-ipconnect.de) (Ping timeout)
[05:29:46] *** Joins: urbanserj (urbanserj@3E28BD5F.398BF19F.86BD9C9E.IP)
[05:30:00] <dougxxx> sqwishy --> http://brson.github.io/2013/03/10/embedding-rust-in-ruby/
[05:30:01] *** Joins: zr (Mibbit@CF76BBAC.5D49961F.D8D85ABD.IP)
[05:30:09] *** Joins: lpy (lpy@D4DF2483.F09091A8.1348A864.IP)
[05:30:10] <dougxxx> That's what I was thinking of~
[05:30:19] <zr> am I missing something, or is there no current way to close tcp sockets?
[05:30:37] <strcat> zr: they are closed in the destructor, like other resources
[05:30:47] <zr> I understand they will close if all objects referencing go out of scope, but what about the case where one has multiple tasks using the socket
[05:30:52] <strcat> I don't think there's currently a shutdown command you can call in the writer
[05:30:57] *** Joins: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP)
[05:31:05] <zr> e.g., one task is blocked in read, and it should terminate when closed
[05:31:13] <strcat> zr: no way to handle that atm afaik
[05:31:17] <zr> :(
[05:31:25] <strcat> zr: it wasn't designed with an API in mind
[05:31:31] *** Quits: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP) (Ping timeout)
[05:32:15] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[05:32:36] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[05:32:51] <sqwishy> dougxxx: I don't think that actually starts the runtime though
[05:33:08] <sqwishy> So you don't get all of the fancyness
[05:33:31] <strcat> most stuff doesn't need a runtime
[05:33:40] *** Quits: zr (Mibbit@CF76BBAC.5D49961F.D8D85ABD.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:33:41] *** Quits: kp (kp@4F7252F2.CEBBE496.E48CFF63.IP) (Quit: (╯T~T）╯ ︵ ┻━┻)
[05:35:42] <strcat> imo anything in the stdlib requiring the stdlib-defined life-before-main/life-after-main is buggy
[05:35:59] <strcat> it's not available to other libraries, so the stdlib shouldn't use it either
[05:36:17] *** Joins: matp (matp@moz-16FE1E05.matp.at)
[05:37:06] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[05:38:10] *** Quits: oxum (anonymous@FF63FA44.5CB1E4DE.520CDC98.IP) (Ping timeout)
[05:42:12] *** Joins: oxum (anonymous@3D9821E2.269A2B47.520CDC98.IP)
[05:42:16] *** Quits: oxum (anonymous@3D9821E2.269A2B47.520CDC98.IP) (Quit: Bye..)
[05:42:39] *** Joins: oxum (anonymous@3D9821E2.269A2B47.520CDC98.IP)
[05:43:53] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[05:43:58] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[05:46:46] *** Joins: alisdair (textual@moz-B1BE70D2.hsd1.co.comcast.net)
[05:47:16] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:47:56] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[05:48:27] *** Quits: alisdair (textual@moz-B1BE70D2.hsd1.co.comcast.net) (Ping timeout)
[05:49:54] *** Joins: nlminhtl (ignotus@27EDE6E3.D40C3436.2D85221C.IP)
[05:52:07] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[05:52:33] *** Quits: andrewd18 (andrew@moz-DAC9D29F.wi.res.rr.com) (Quit: Leaving.)
[05:53:18] *** Joins: skade (skade@moz-1EC0F118.pools.arcor-ip.net)
[05:54:33] *** Joins: benjamin_____ (benjamin@moz-EBBAC24D.dip0.t-ipconnect.de)
[05:54:35] *** Joins: edwardw (edwardw@E6E87FA7.354F6412.B9C6B12A.IP)
[05:56:41] *** Quits: skade (skade@moz-1EC0F118.pools.arcor-ip.net) (Ping timeout)
[05:58:25] <lpy> rusti: let listed_elements = ["button", "fieldset", "input", "keygen", "object", "output", "select", "textarea"]; (~[~"foo", ~"select"]).iter().filter(|elem| listed_elements.contains(&elem.as_slice())).to_owned_vec()
[05:58:26] -rusti- pastebinned 16 lines of output: http://sprunge.us/JeFg
[05:58:26] *** Joins: skade (skade@moz-1EC0F118.pools.arcor-ip.net)
[05:59:44] *** Joins: ecr (chatzilla@7C463196.5BB0586B.11F8506F.IP)
[06:00:22] <eddyb> rusti: let list = ["foo", "bar"]; ~[~"foo", ~"baz"].move_iter().filter(|x| list.contains(&x.as_slice())).to_owned_vec()
[06:00:22] -rusti- pastebinned 8 lines of output: http://sprunge.us/DFiX
[06:00:31] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[06:00:35] <ChrisMorgan> Remember rusti's PM support when experimenting.
[06:00:40] <eddyb> bleah
[06:01:01] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:02:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[06:03:12] <eddyb> rusti: let list = ["foo", "bar"]; (~[~"foo", ~"baz"]).move_iter().filter(|x| list.iter().any(|&y| y == *x)).to_owned_vec()
[06:03:13] -rusti- ~[~"foo"]
[06:03:18] <eddyb> lpy: ^^ working solution
[06:04:07] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[06:07:12] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[06:07:21] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[06:08:53] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[06:09:30] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[06:14:56] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:15:56] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[06:16:26] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[06:18:09] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Ping timeout)
[06:21:41] *** Joins: luziiie (luziie@moz-CD18B14B.customer.cdi.no)
[06:21:57] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[06:21:59] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[06:22:09] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[06:22:13] *** Quits: luziie (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[06:22:27] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[06:23:54] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[06:25:01] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[06:28:23] *** Quits: rileyw (rileyw@moz-E40BCEED.hsd1.ca.comcast.net) (Client exited)
[06:28:44] *** Joins: rileyw (rileyw@moz-E40BCEED.hsd1.ca.comcast.net)
[06:29:47] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[06:30:22] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:30:23] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[06:30:56] *** Quits: lpy (lpy@D4DF2483.F09091A8.1348A864.IP) (Ping timeout)
[06:36:44] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Connection reset by peer)
[06:37:28] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[06:37:31] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[06:37:47] <wycats> ChrisMorgan: yessir
[06:38:21] <ChrisMorgan> sqwishy: there, someone you can try talking to about embedding Rust, if you wish
[06:38:41] <wycats> ChrisMorgan: can't right this second, but I need to write a blog post about it ASAP
[06:39:00] <wycats> the tl;dr is that there's some stuff they don't tell you in the manual and some code you need to write to maintain safety
[06:40:28] *** Joins: ofeldt (ofeldt@moz-68B67908.dip0.t-ipconnect.de)
[06:41:02] *** Quits: ofeldt- (ofeldt@moz-E56F692A.dip0.t-ipconnect.de) (Ping timeout)
[06:41:57] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Quit: Leaving.)
[06:45:36] *** Joins: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net)
[06:47:29] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[06:48:00] *** Quits: heftig (heftig@moz-C206A7B2.dip0.t-ipconnect.de) (Ping timeout)
[06:48:08] *** Quits: blindrenderer (blindrende@398333AA.B22400E5.217C7FCC.IP) (Ping timeout)
[06:48:32] *** Joins: lpy (lpy@D4DF2483.F09091A8.1348A864.IP)
[06:50:39] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[06:51:07] *** Quits: bleibig (bleibig@moz-B4D9C5AF.hsd1.ca.comcast.net) (Quit: bleibig)
[06:51:21] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[06:52:42] <bollu> eddyb: really interesting.
[06:52:53] <eddyb> wrong channel?
[06:53:07] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[06:53:23] *** Quits: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP) (Quit: mno2)
[06:54:32] *** Quits: oxum (anonymous@3D9821E2.269A2B47.520CDC98.IP) (Quit: ...)
[06:54:53] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[06:55:07] <bollu> eddyb: ah yes
[07:02:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[07:03:01] *** Quits: edwardw (edwardw@E6E87FA7.354F6412.B9C6B12A.IP) (Ping timeout)
[07:03:11] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Client exited)
[07:03:12] *** Joins: brandonson (SingingBoy@610D90A5.EE9B234.1ECA502.IP)
[07:03:15] *** Quits: jroweboy (jrowe7@moz-18814A6B.provo.static.broadweavenetworks.net) (Quit: Leaving.)
[07:04:06] *** Joins: edwardw (edwardw@CBC31673.351D1665.B9C6B12A.IP)
[07:04:07] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[07:04:50] <edwardw> eddyb: this works let list = ["foo", "bar"]; (~["foo", "baz"]).move_iter().filter(|x| list.contains(x)).to_owned_vec()
[07:05:02] <edwardw> this closure business is tricky
[07:05:13] <eddyb> that's unrelated
[07:05:20] <edwardw> oh?
[07:05:31] <eddyb> &'static str vs &'static str. they're identical. ofc it works :P
[07:05:47] <edwardw> ah I see
[07:05:56] <eddyb> the problem is that the &[&'static str] list doesn't coerce to &[&str]
[07:06:21] <edwardw> hmm, I didn't really understand the problem then
[07:06:24] *** Quits: depp (depp@500BAFC1.53465674.3C05E6CB.IP) (Quit: leaving)
[07:06:37] <aatch_> eddyb, it does not?
[07:06:46] <eddyb> aatch_: at least not in this context
[07:07:08] <eddyb> maybe the upcoming variance stuff will fix it
[07:07:19] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[07:07:23] <aatch_> rusti: let a : &[&str] = ["a", "b"]; println!("{:?}", a);
[07:07:25] -rusti- &["a", "b"]
[07:07:25] -rusti- ()
[07:07:57] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[07:08:09] <eddyb> it's not that easy
[07:08:25] <aatch_> eddyb, figured as much. stupid corner cases etc.
[07:08:33] <eddyb> ["a", "b"].contains((~"foo).as_slice())
[07:08:38] <eddyb> rusti: ["a", "b"].contains((~"foo).as_slice())
[07:08:39] -rusti- <anon>:12:17: 12:18 error: unknown start of token: ?
[07:08:39] -rusti- <anon>:12     println!("{:?}", r)
[07:08:39] -rusti-                           ^
[07:08:39] -rusti- application terminated with error code 101
[07:08:47] <eddyb> huh...
[07:08:51] <eddyb> rusti: ["a", "b"].contains((~"foo").as_slice())
[07:08:52] -rusti- <anon>:10:29: 10:48 error: mismatched types: expected `&&'static str` but found `&str` (expected &-ptr but found &str)
[07:08:52] -rusti- <anon>:10         ["a", "b"].contains((~"foo").as_slice())
[07:08:52] -rusti-                                       ^~~~~~~~~~~~~~~~~~~
[07:08:52] -rusti- error: aborting due to previous error
[07:08:52] -rusti- application terminated with error code 101
[07:08:59] <eddyb> rusti: ["a", "b"].contains(&(~"foo").as_slice())
[07:08:59] -rusti- false
[07:09:10] <eddyb> okay, so how does that work?
[07:09:29] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[07:09:33] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Quit: Leaving.)
[07:09:34] <eddyb> rusti: let s = ~"foo"; let v = ["a", "b"]; v.contains(&s.as_slice())
[07:09:35] -rusti- false
[07:09:38] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[07:09:41] <aatch_> eddyb, I thought the variant stuff had already gone through.
[07:09:47] <aatch_> variance*
[07:09:47] <eddyb> aatch_: just the inference
[07:09:52] <eddyb> the information isn't used yet
[07:10:09] <eddyb> edwardw: okay, so the closure matters... maybe it can't infer properly in it or something
[07:10:10] <edwardw>  it is used, only for lifetime
[07:10:24] <eddyb> edwardw: if it is, only partly so
[07:10:55] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[07:10:56] <edwardw> eddyb: I guess so, at least I saw it was use in `combine.rs`
[07:10:58] <aatch_> inference across closure boundaries has always been a little unrealiable.
[07:11:09] <eddyb> edwardw: https://github.com/mozilla/rust/issues/3598
[07:11:21] <eddyb> "applying results of variance inference to type parameters" that's not implemented
[07:11:39] <eddyb> which means you can't shorten the lifetime in an Option<&'a T>
[07:12:15] <eddyb> just having that instead of &'a T somewhere will make the entire type invariant and good luck putting that anywhere
[07:12:19] <edwardw> "but infer variance for region parameters.", region == lifetime
[07:12:38] *** Joins: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net)
[07:12:38] *** ChanServ sets mode: +o huon
[07:12:46] <eddyb> edwardw: it's inferred and unused
[07:13:57] <edwardw> https://github.com/mozilla/rust/blob/master/src/librustc/middle/typeck/infer/combine.rs#L169 it is used :)
[07:14:24] <eddyb> edwardw: *sigh* I'm not going to fight with you, go talk with nrc and nmatsakis
[07:14:45] <eddyb> because I don't know exactly what it's missing
[07:14:53] <eddyb> (in terms of codes not features)
[07:15:01] <edwardw> k
[07:15:41] <eddyb> rusti: struct Foo<'a> {x: &'a int, y: &'a str} let x = 0; {let s = ~"foo"; let _ = Foo {x: x, y: s};}
[07:15:41] -rusti- <anon>:10:93: 10:94 error: mismatched types: expected `&int` but found `<generic integer #0>` (expected &-ptr but found integral variable)
[07:15:41] -rusti- <anon>:10         struct Foo<'a> {x: &'a int, y: &'a str} let x = 0; {let s = ~"foo"; let _ = Foo {x: x, y: s};}
[07:15:41] -rusti-                                                                                                       ^
[07:15:42] -rusti- error: aborting due to previous error
[07:15:43] -rusti- application terminated with error code 101
[07:15:49] <eddyb> rusti: struct Foo<'a> {x: &'a int, y: &'a str} let x = 0; {let s = ~"foo"; let _ = Foo {x: &x, y: s};}
[07:15:49] -rusti- pastebinned 17 lines of output: http://sprunge.us/VSZW
[07:16:07] <eddyb> wait, what, this doesn't work at all?
[07:16:33] <eddyb> rusti: struct Foo<'a> {x: &'a int, y: &'a str} let x = 0; {let s = ~"foo"; let _ = Foo {x: &x, y: s.as_slice()};}
[07:16:34] -rusti- pastebinned 17 lines of output: http://sprunge.us/cJRE
[07:16:51] <eddyb> good luck trying to demonstrate a working example and a non-working one
[07:16:57] <eddyb> when neither works
[07:18:52] <eddyb> rusti: struct Foo<'a> {x: &'a int, y: &'a int} let x = 0; let xp = &x; {let y = 1; let yp = &y; let _ = Foo {x: xp, y: yp};}
[07:18:54] -rusti- pastebinned 17 lines of output: http://sprunge.us/ETXT
[07:19:06] <eddyb> nmatsakis: ^^ looks completely broken to me. maybe I'm missing something obvious
[07:20:21] <eddyb> rusti: struct Foo<'a> {x: &'a int, y: &'a int} fn foo<'a>(x: &'a int, y: &'a int) -> Foo<'a> {Foo{x: x, y: y}} let x = 0; {let y = 1; let _ = foo(&x, &y);}
[07:20:22] -rusti- ()
[07:20:32] <eddyb> edwardw: oh it seems our struct literals are broken.
[07:20:49] <eddyb> I hope the variance stuff fixes that. at least I can demo the issue now
[07:20:56] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[07:21:10] <eddyb> rusti: struct Foo<'a> {x: &'a int, y: Option<&'a int>} fn foo<'a>(x: &'a int, y: Option<&'a int>) -> Foo<'a> {Foo{x: x, y: y}} let x = 0; {let y = 1; let _ = foo(&x, Some(&y));}
[07:21:10] -rusti- ()
[07:21:12] <huon> rusti: struct Foo<'a> {x: &'a int, y: &'a int} let x = 0; let xp = &x; {let y = 1; let yp = &y; let _ = Foo {x: &*xp, y: yp};}
[07:21:12] -rusti- pastebinned 17 lines of output: http://sprunge.us/SLSO
[07:21:26] <eddyb> huon: the struct literals are broken, don't even bother
[07:21:48] <eddyb> huh, the Some example there shouldn't have worked
[07:21:54] <huon> why not?
[07:22:07] <eddyb> because it's... not implemented yet
[07:22:22] <eddyb> I guess I hit an easy case
[07:22:35] <huon> (I mean, why shouldn't I bother to test/experiment with things?)
[07:22:36] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[07:22:42] <edwardw> eddyb: is there a ticket for that?
[07:22:43] *** Joins: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[07:22:44] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Connection reset by peer)
[07:22:51] <eddyb> huon: ahh because I already tried a lot of combinations
[07:23:22] <eddyb> nmatsakis: hang on, the issues I've seen *were* in struct literals... now I'm a bit confused as to what is actually the problem
[07:23:42] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[07:23:48] <eddyb> edwardw: struct literals? not sure. I didn't realize they were worse than function calls until now
[07:24:06] <edwardw> k
[07:25:00] *** flaper87|afk is now known as flaper87
[07:25:07] *** Quits: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[07:25:13] <eddyb> edwardw: can't find any open issues
[07:26:25] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[07:26:38] *** Joins: paldepind (simon@8C529550.87451125.F2979BBF.IP)
[07:26:58] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[07:28:02] <edwardw> eddyb: we should have one then
[07:28:40] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[07:29:01] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[07:29:25] *** Quits: benjamin_____ (benjamin@moz-EBBAC24D.dip0.t-ipconnect.de) (Client exited)
[07:30:00] *** Joins: pyrac (pyrac@A826EAE9.73C89388.AD05C589.IP)
[07:30:33] *** Joins: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de)
[07:30:44] *** Joins: bvssvni (Mibbit@moz-E289BB64.bb.online.no)
[07:31:07] *** Quits: pyrac (pyrac@A826EAE9.73C89388.AD05C589.IP) (Quit: pyrac)
[07:31:30] *** Joins: nkoep (nik@moz-84FBC066.pool.mediaways.net)
[07:32:18] *** Joins: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com)
[07:32:30] <eddyb> rusti: struct Foo<'a> {x: Option<&'a int>} fn foo<'a>(_x: &'a Foo<'a>, _y: &'a int) {} let x = 0; let f = Foo {x: Some(&x)}; {let y = 0; foo(&f, &y)}
[07:32:31] -rusti- ()
[07:32:34] <eddyb> what?
[07:33:25] *** Joins: oxum (anonymous@A8674305.85934B53.520CDC98.IP)
[07:33:33] <bvssvni> eddyb: foo's return value?
[07:33:48] <eddyb> nmatsakis: I think we were both confused and it's just struct literals being too strict, in my Option case
[07:34:00] <eddyb> however, this is invariant (and maybe with good reason?)
[07:34:01] <eddyb> rusti: use std::vec_ng::Vec; struct Foo<'a> {x: Vec<&'a int>} fn foo<'a>(_x: &'a Foo<'a>, _y: &'a int) {} let x = 0; let f = Foo {x: Vec::new()}; {let y = 0; foo(&f, &y)}
[07:34:02] -rusti- pastebinned 12 lines of output: http://sprunge.us/LiWU
[07:34:37] <eddyb> edwardw: sorry I couldn't come up with a proper example >_>
[07:34:56] *** Joins: Ferreus (ferreus@moz-9D0A55B2.dip0.t-ipconnect.de)
[07:34:59] *** Joins: alkino (alkino@moz-58B8E4B4.w92-151.abo.wanadoo.fr)
[07:35:16] <edwardw> np
[07:35:46] <edwardw> this type infer business is fascinating 
[07:36:15] <eddyb> edwardw: until you go crazy like me https://github.com/mozilla/rust/pull/12809
[07:36:51] <eddyb> rusti: use std::vec_ng::Vec; struct Foo<'a> {x: Vec<fn(&'a int)>} fn foo<'a>(_x: &'a Foo<'a>, _y: &'a int) {} let x = 0; let f = Foo {x: Vec::new()}; {let y = 0; foo(&f, &y)}
[07:36:52] -rusti- pastebinned 12 lines of output: http://sprunge.us/OhXA
[07:37:18] <edwardw> another multi-thousand lines patch? awesome
[07:37:41] <eddyb> rusti: use std::vec_ng::Vec; struct Foo<'a> {x: Vec<fn(&'a int)>} fn foo<'a>(_x: Foo<'a>, _y: &'a int) {} let x = 0; let f = Foo {x: Vec::new()}; {let y = 0; foo(&f, &y)}
[07:37:41] -rusti- pastebinned 5 lines of output: http://sprunge.us/Jjai
[07:37:54] *** Joins: iopq (Instantbir@moz-8CB45329.hsd1.ca.comcast.net)
[07:38:06] <eddyb> rusti: use std::vec_ng::Vec; struct Foo<'a> {x: Vec<fn(&'a int)>} fn foo<'a>(_x: Foo<'a>, _y: &'a int) {} let x = 0; let f = Foo {x: Vec::new()}; {let y = 0; foo(f, &y)}
[07:38:07] -rusti- pastebinned 12 lines of output: http://sprunge.us/RPSK
[07:38:17] *** Quits: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net) (Ping timeout)
[07:38:29] <eddyb> edwardw: ^^ okay, example, that should be covariant wrt 'a but here it's contravariant or invariant
[07:38:34] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[07:38:55] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:39:42] <edwardw> let me staring at it more; my head is spinning
[07:39:50] <edwardw> stare*
[07:40:23] *** Quits: andelf (fledna@983BB788.FB767B38.1CD28F1D.IP) (Ping timeout)
[07:40:30] *** Joins: andelf (fledna@983BB788.FB767B38.1CD28F1D.IP)
[07:40:35] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[07:40:43] <aatch_> eddyb, aha! So it's just covariance that doesn't work for lifetimes atm, right?
[07:40:53] *** Quits: skade (skade@moz-1EC0F118.pools.arcor-ip.net) (Ping timeout)
[07:40:53] <eddyb> found it!
[07:40:58] <eddyb> rusti: fn shorthen<'a, 'b>(x: &'b &'a int) -> &'b int {*x}
[07:40:58] -rusti- <anon>:10:9: 10:60 warning: code is never used: `shorthen`, #[warn(dead_code)] on by default
[07:40:58] -rusti- <anon>:10         fn shorthen<'a, 'b>(x: &'b &'a int) -> &'b int {*x}
[07:40:59] -rusti-                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[07:40:59] -rusti- ()
[07:41:15] <eddyb> rusti: fn shorthen<'a, 'b>(x: &'b Option<&'a int>) -> Option<&'b int> {*x}
[07:41:16] -rusti- pastebinned 11 lines of output: http://sprunge.us/DjSG
[07:41:50] <eddyb> so Option<&'a T> is not contravariant wrt 'a. but I just realized that might not be safe :S
[07:42:31] <eddyb> because a match + ref mut allows you to change the value to something having *current* lifetime, not the real lifetime
[07:42:40] * eddyb slaps himself
[07:42:59] <edwardw> eddyb: unfortunately my PR only dealt with variance in return position, so it didn't compile with my patch on 
[07:43:10] <aatch_> eddyb, yeah, I was wondering.
[07:43:39] <eddyb> so nmatsakis was right. at least partly so. I need 'tcx everywhere if I want to use an arena
[07:43:54] <eddyb> at least it means that the @ removal PR doesn't need anymore tweaks
[07:44:24] *** Joins: skade (skade@moz-1EC0F118.pools.arcor-ip.net)
[07:45:39] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[07:46:04] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[07:46:05] *** Quits: lpy (lpy@D4DF2483.F09091A8.1348A864.IP) (Client exited)
[07:46:32] *** Quits: victorporof_ (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Ping timeout)
[07:46:33] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[07:46:35] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[07:46:39] <eddyb> nmatsakis: hmm, I wonder if we should expand variance based on shallow Freeze
[07:47:20] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[07:47:24] <eddyb> if you can't change the values, shortening their lifetime shouldn't be a problem
[07:47:50] <eddyb> of course that's not the case with the tcx which has the interner
[07:48:17] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Ping timeout)
[07:48:56] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[07:50:22] *** Quits: skade (skade@moz-1EC0F118.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:50:31] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[07:50:42] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[07:51:12] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[07:52:14] <edwardw> eddyb: your last example is golden! 
[07:52:45] *** Joins: mgottschlag (quassel@moz-DDFF21F6.cust.bluewin.ch)
[07:54:19] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[07:54:26] <edwardw> I'm almost certain where in the code base to fix that ... but with that rustc couldn't pass compiling `kinds.rs`
[07:55:04] *** Quits: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP) (Client exited)
[07:55:17] <eddyb> edwardw: wait, it is, Option<&'a T> can be contravariant wrt 'a, it's a reference to it that can't be
[07:55:27] <eddyb> this stuff is all a bit confusing
[07:56:00] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[07:56:05] <eddyb> edwardw: from what nmatsakis told me, nrc is working on it, I'd say talk to either of them before diving deeper into the rabbit hole
[07:56:26] <edwardw> eddyb: sure :P it *is* a rabbit hole
[07:56:51] <edwardw> one or even more abstraction level above normal code
[07:57:25] <eddyb> that's what compilers are supposed to do ;)
[07:57:49] *** Joins: jroweboy (jrowe7@moz-18814A6B.provo.static.broadweavenetworks.net)
[07:58:12] <eddyb> except LISP compilers. because LISP evaluates LISP
[07:58:50] <edwardw> in your last example, 'a is also inside type parameter, which isn't applied right now, a.k.a #3598
[07:58:56] <edwardw> ah sweet LISP
[07:59:03] *** Joins: Ms2ger (Ms2ger@73E4AB59.751D2A92.F15B0BB3.IP)
[07:59:24] <eddyb> had to explain someone *who already wrote a LISP interpreter* what quoting does
[07:59:40] <eddyb> (he implemented it wrong, IIRC)
[07:59:56] <eddyb> but that was an exercise in frustration
[08:00:09] <Ms2ger> What does it do?
[08:01:02] <eddyb> it stops recursive evaluation IIRC
[08:01:25] <eddyb> I could look at my ES6 interpreter, I did it right there
[08:01:34] *** Joins: lpy (lpy@F7AFA3.F09091A8.1348A864.IP)
[08:01:52] <ecr> wow
[08:01:52] <eddyb> we were both looking at this original LISP spec
[08:02:05] <ecr> i'm impressed someone could implement quote wrong
[08:02:06] <eddyb> worse than my technical writing
[08:02:12] <ecr> you literally do nothing
[08:02:13] <eddyb> ecr: they understood it wrong
[08:02:21] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[08:02:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[08:02:27] <ecr> I guess I can see that
[08:02:51] <ecr> I'm not sure how they could write enough LISP to write an interpreter without understanding it though
[08:03:02] <ecr> *shrug*
[08:03:26] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[08:03:28] *** Joins: sigma (sigma@moz-55097A0B.range86-163.btcentralplus.com)
[08:03:58] <eddyb> http://jsfiddle.net/eddyb/yTLym/ there we go. I'm a bit sad you can't get some of this dynamic fluidity in Rust
[08:04:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[08:04:21] <eddyb> (to parse I'm just replacing (a b c) with [a, b, c] and using JSON.parse, hehe)
[08:04:44] <eddyb> ecr: QUOTE(x) { return x; } // I guess you're right
[08:05:08] *** Quits: edwardw (edwardw@CBC31673.351D1665.B9C6B12A.IP) (Quit: Leaving...)
[08:05:23] <eddyb> ah, no, see line 42, I stop evaluation
[08:06:00] <ecr> writing LISP interpreter... in not LISP?
[08:06:02] <ecr> people do that?
[08:06:17] <eddyb> bootstrapping :P
[08:07:14] <ecr> i guess JS is really just Scheme with a lot of extra crap
[08:07:18] *** Joins: marianoguerra (marianogue@moz-F4BF482D.dip0.t-ipconnect.de)
[08:07:21] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[08:07:33] <ecr> so i guess it works
[08:07:38] <eddyb> ecr: and linear arrays instead of lists
[08:07:42] <eddyb> also smalltalk
[08:08:27] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[08:08:42] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:08:46] <eddyb> ecr: look at LAMBDA
[08:09:32] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[08:09:55] *** Joins: benjamin_ (benjamin@moz-EBBAC24D.dip0.t-ipconnect.de)
[08:10:03] <ecr> i imagine this would make a lot more sense if i knew JS
[08:10:15] <eddyb> just half-sense. ES6
[08:10:22] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[08:10:34] *** Joins: silven (quassel@moz-F81D3961.a328.priv.bahnhof.se)
[08:11:42] *** pmoore|away is now known as pmoore
[08:11:51] <ecr> well my understanding of JS is basically: Eich said he wanted to make Scheme, JS has prototype inheritance, JS only has floats (which is terrible)
[08:12:06] <eddyb> it also has i32
[08:12:12] <Ms2ger> Not really
[08:12:23] <eddyb> only multiplication missing, added in ES6 as Math.imul
[08:12:38] <ecr> ints is one of the ES6 changes, right?
[08:12:42] <eddyb> nope
[08:12:58] <ecr> ES5 then? i know it must have been recent
[08:13:00] <eddyb> ES7 should allow for arbitrarily sized machine & big integers
[08:13:16] <eddyb> i32 is either in ES3 or ES5, but it's not recent
[08:13:25] <ecr> hm
[08:13:41] <eddyb> the ES7 operator overloading and value semantic proposals in general are recent
[08:13:58] <ecr> wikipedia disagrees
[08:13:59] *** Joins: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de)
[08:14:00] <eddyb> so I'm creating a new function, with the provided argument names. inside the function, I use Object.create to wrap my evaluator so I can write write properties without affecting the previous one (I should have a nested lambda test) and then just evaluate a serialized version of the AST in that scope
[08:14:01] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[08:14:05] <eddyb> ecr: on what?
[08:14:11] <ecr> and claims there's only Number, which is backed by doubles
[08:14:37] <eddyb> that's not disagreeing, that's missing information (as opposed to misinformation)
[08:14:39] *** Quits: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP) (Ping timeout)
[08:14:54] <eddyb> the wikipedia page for Haskell is probably missing arcane features as well :P
[08:14:55] *** Joins: soumyaC (uid15286@moz-E77DEB21.irccloud.com)
[08:15:08] <eddyb> ecr: all bitwise operations are performed on i32
[08:15:10] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[08:16:01] <eddyb> if you go outside that range, you get f64 which has 50-something (53?) bits of integer precision, for non-bitwise operations
[08:16:24] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[08:16:28] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[08:16:44] <eddyb> ecr: if you look at asm.js, that's a subset of ES5 or ES3 that's optimizable to pretty efficient mostly-integer machine code
[08:17:36] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[08:17:55] <eddyb> v8 doesn't implement asm.js (as in, enforcing the rules) but it has most of those optimizations anyway, and it stores 31bit signed integers immediately
[08:17:58] *** Joins: kris_ (kris@moz-147EE6DF.diku.dk)
[08:18:57] <ecr> optimizing Numbers that behave as ints to ints doesn't count
[08:19:09] <ecr> if the language still has them as floats conceptually
[08:19:10] <eddyb> on x64 it could probably do the same for doubles and use NaNs to encode pointers (as JS only cares for one NaN), but that would be slower
[08:19:18] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[08:19:23] <eddyb> ecr: the bitwise operations are defined to work on i32
[08:19:24] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[08:19:54] <eddyb> http://www.ecma-international.org/publications/files/ECMA-ST-ARCH/ECMA-262,%203rd%20edition,%20December%201999.pdf
[08:20:13] <eddyb> ecr: Ctrl+F bitwise
[08:20:23] <eddyb> "The result is a signed 32-bit integer."
[08:21:12] <eddyb> the optimization is when (a + b) | 0 does i32 addition because of the outer cast
[08:22:31] <eddyb> dynamic typing + the whole object model doesn't really scale
[08:22:42] <eddyb> it's awesome for quick scripts, terrible for large apps
[08:23:00] <Ms2ger> Except <<<
[08:23:13] <eddyb> I know of >>>
[08:23:20] <bvssvni> optional arguments to functions in JS is terrible
[08:23:35] <ecr> I think that just means that it returns a double that's guaranteed to contain an integer
[08:23:58] <jroweboy> Hello everyone! I'm unsure why this struct doesn't fulfill Freeze https://github.com/jroweboy/oxidize/blob/broken_code/src/route.rs#L47 is it the routes field? I thought that since it was static that it wouldn't be mutable so it should also be Freeze as well right?
[08:24:01] <eddyb> ecr: there is no difference between that and having a different type altogether
[08:24:29] <eddyb> ecr: it could be worse, at least in case v8 can have like 5 integer types
[08:24:35] <ecr> that's really not true
[08:24:38] <ecr> according to the spec
[08:24:40] *** Quits: onelson (owen@C668895F.36788A19.5625D66B.IP) (Ping timeout)
[08:24:44] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:24:53] <Ms2ger> bvssvni, don't like function(foo, bar=7) {}?
[08:24:57] <ecr> functions that expect ints can accept any number (doubles) and will convert it first
[08:24:57] <eddyb> ecr: mostly because you can't introspect it
[08:24:58] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[08:25:03] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:25:05] <ecr> which isn't going to happen if they're different types
[08:25:06] <eddyb> bvssvni: ES6 actually-default-valued arguments is saner
[08:25:18] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[08:25:19] <eddyb> ecr: well, that's just dynamic typing
[08:25:28] <ecr> no, it's dynamic clamping
[08:25:36] <ecr> if you pass it a double bigger than the biggest int
[08:25:52] <eddyb> functions don't have type annotations
[08:25:56] <bvssvni> Msg2ger: not default values but function foo(a, b), foo(a)
[08:25:58] <ecr> it'll convert it to a int that's not equivalent to your number
[08:26:09] <bvssvni> Ms2get: ^
[08:26:15] <bvssvni> Ms2ger: ^
[08:26:17] <eddyb> there aren't implicit conversions when passing values
[08:26:27] * bvssvni 10 thumbs day
[08:26:36] <Ms2ger> bvssvni, you mean how required arguments don't exist?
[08:26:41] <ecr> "Some ECMAScript operators deal only with integers in the range
[08:26:43] <ecr> −
[08:26:44] <ecr> 2
[08:26:45] <ecr> 31
[08:26:47] <ecr> through 2
[08:26:48] <ecr> 31
[08:26:50] <ecr> −
[08:26:51] <ecr> 1, inclusive, or in the
[08:26:53] <ecr> range 0 through 2
[08:26:54] <ecr> 32
[08:26:56] <ecr> −
[08:26:57] <ecr> 1, inclusive. These operators accept any
[08:26:59] <ecr> value of the Number type but first convert
[08:27:00] <ecr> each such value to one of 2
[08:27:02] <ecr> 32
[08:27:03] <ecr> integer values. See the descriptions of the ToInt32 and ToUint32 operators in
[08:27:05] <ecr> sections 0 and 0, respectively"
[08:27:06] <bvssvni> Ms2ger: is it possible to make arguments required?
[08:27:06] <ecr> oops
[08:27:08] <ecr> sorry
[08:27:08] <eddyb> yay clients which don't stop you from pasting large blobs of text
[08:27:09] <ecr> copy paste did not go well
[08:27:42] <Ms2ger> bvssvni, with argument.length, yes. I think the committee is wrong on that one
[08:28:34] <ecr> Some ECMAScript operators deal only with integers in the range −2^31 through 2^31−1, inclusive, or in the range 0 through 2^32−1, inclusive. These operators accept any value of the Number type but first convert each such value to one of 2^32 integer values. See the descriptions of the ToInt32 and ToUint32 operators in sections 0 and 0, respectively. (end of section 8.5)
[08:28:38] <ecr> i cleaned it up
[08:28:59] <eddyb> yeah, they do Number -> integer type conversions
[08:29:05] <eddyb> ecr: so these are all integers https://github.com/v8/v8/blob/master/src/types.h#L108-L110
[08:29:15] <eddyb> I remember one or two more types, maybe they removed it
[08:29:42] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[08:30:38] <ecr> yeah, but it's not "throw an error if this double doesn't fit in an int"
[08:30:49] <eddyb> why would you do that?
[08:30:51] <ecr> it's "lets try to construct a int from this float somehow"
[08:31:00] <ecr> so you may pass in some huge float
[08:31:03] <eddyb> reminds me of VB's stupid defaults
[08:31:13] <ecr> and it ends up as 154 or something
[08:31:15] <eddyb> which don't let you do any kind of bitwise code
[08:31:27] <ecr> that's just a silly thing to do
[08:31:36] <eddyb> ecr: if it would error then (a + b) | 0 wouldn't work
[08:31:51] <eddyb> and JS wouldn't have integer arithmetic
[08:33:26] <ecr> w/e. i'd rather go sleep than deal with the idiosyncrasies of JS
[08:33:31] <eddyb> hehe
[08:33:48] *** Quits: ecr (chatzilla@7C463196.5BB0586B.11F8506F.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 28.0/20140306171728])
[08:33:57] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Quit: mbx)
[08:34:45] <eddyb> I kinda gave up on JS a long time ago
[08:34:55] *** Quits: mgottschlag (quassel@moz-DDFF21F6.cust.bluewin.ch) (Ping timeout)
[08:38:23] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[08:40:21] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:40:52] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:41:55] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[08:42:53] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:44:34] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[08:44:34] *** Quits: mindcat (mindcat@CADD953C.90785442.291A146C.IP) (Connection reset by peer)
[08:44:54] *** Joins: mindcat (mindcat@CADD953C.90785442.291A146C.IP)
[08:45:22] *** Joins: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP)
[08:45:26] *** Quits: kris_ (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[08:45:29] *** Joins: kris_ (kris@moz-42A2A7B6.science.ku.dk)
[08:45:35] <dougxxx> is there a super easy way of doing a match for a union of two vectors?
[08:46:01] *** Joins: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP)
[08:46:41] *** Joins: mpiechotka (mpiechotka@moz-5393CC9.dynamic.mnet-online.de)
[08:46:51] <bvssvni> dougxxx: did you meant a tuple or a vector that copies the content of two vectors?
[08:47:31] <dougxxx> if I have two ~[T] and I want to see if the union of the two sets contains any elements.
[08:47:48] <eddyb> there's no match involved there
[08:47:59] <eddyb> a.contains(x) || b.contains(x)
[08:48:12] <bvssvni> dougxxx: assuming they are sorted?
[08:48:17] <dougxxx> sure
[08:48:26] <eddyb> then bsearch
[08:48:49] <eddyb> if the vectors can be long, look in the shortest one first
[08:49:13] <dougxxx> yep; just wondered if there was a special match syntax for something like that.
[08:49:24] <eddyb> matching is... structural
[08:49:26] <dougxxx> eg. match x { [1,2] => ... } (obviously not that, but something)
[08:49:27] <bvssvni> dougxxx: or you could modify this https://github.com/bvssvni/rust-index/blob/master/src/lib.rs#L62
[08:49:50] <dougxxx> oh, cute.
[08:50:14] <eddyb> bvssvni: no, that's expensive
[08:50:31] <eddyb> also, why are you not using min/max?
[08:50:45] *** Quits: FreeFull (freefull@moz-A3210B4C.ppp.as43234.net) (Quit: )
[08:50:47] <bvssvni> eddyb: it's a bit old Rust
[08:50:50] <eddyb> ahh okay
[08:50:53] <jroweboy> Is there any reason why this struct doesn't fulfill freeze? https://github.com/jroweboy/oxidize/blob/broken_code/src/route.rs#L47 
[08:51:01] <eddyb> dougxxx: I'd highly suggest against joining the two vectors
[08:51:24] <eddyb> dougxxx: checking in each of them is cheaper than creating a new one
[08:51:39] <bvssvni> dougxxx: what I meant, you could use a mut bool and check instead of joining
[08:51:41] <eddyb> jroweboy: RWArc
[08:51:54] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[08:52:03] *** Quits: andelf (fledna@983BB788.FB767B38.1CD28F1D.IP) (Quit: This computer has gone to sleep)
[08:52:34] <bvssvni> dougxxx: whenever this line is called, the union is non-empty https://github.com/bvssvni/rust-index/blob/master/src/lib.rs#L100
[08:52:45] <dougxxx> mhm. I dont particularly care what the union is, jstu if there is one.
[08:52:50] <dougxxx> *just. 
[08:53:00] *** Quits: mindcat (mindcat@CADD953C.90785442.291A146C.IP) (Connection reset by peer)
[08:53:08] <jroweboy> eddyb: But what in there is mutable is my question? I don't see anything that would prevent it from being freeze. I wish the error message for Struct does not fulfill Freeze/Send would tell you which field it failed on
[08:53:12] *** Joins: mindcat (mindcat@CADD953C.90785442.291A146C.IP)
[08:53:17] <dougxxx> cheers~
[08:53:23] <eddyb> jroweboy: the latter is being worked on
[08:53:33] <eddyb> jroweboy: the W in RWArc means "writable"
[08:53:37] *** Quits: nlminhtl (ignotus@27EDE6E3.D40C3436.2D85221C.IP) (Quit: Konversation terminated!)
[08:53:55] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[08:54:04] <jroweboy> eddyb: for the sake of my sanity I'll use an RWArc, but it seems a little excessive when the contents of the struct aren't mutable
[08:54:22] <eddyb> jroweboy: is the error for RegexRouter?
[08:54:44] <eddyb> or compiled_routes: ...? because RWArc<T> *needs* T: Freeze
[08:54:55] *** Quits: alkino (alkino@moz-58B8E4B4.w92-151.abo.wanadoo.fr) (Ping timeout)
[08:55:35] <jroweboy> The error was something to the effect of "the type `route::RegexRouter', which does not fulfill `Freeze`, cannot implement this trait"
[08:55:40] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[08:55:48] <eddyb> jroweboy: which trait?
[08:56:04] <jroweboy> lemme push my latest then
[08:56:05] *** Joins: Zr40 (zr40@moz-CCFEAB92.adsl.xs4all.nl)
[08:56:14] <eddyb> https://github.com/jroweboy/rust-pcre/blob/master/src/pcre/mod.rs#L106-L117 looks like that shouldn't be Send
[08:56:53] <eddyb> since it wraps potentially thread-unsafe C APIs
[08:57:01] *** Joins: gimpf (gimpf@moz-648EA225.adsl.highway.telekom.at)
[08:57:25] <jroweboy> eddyb: Pcre works in RWArc though just fine if you take a look at my master branch
[08:57:40] <eddyb> because you didn't restrict it enough :P
[08:58:01] <eddyb> jroweboy: is the C API you wrap describing itself as thread-safe?
[08:58:41] <jroweboy> Should I have? I dunno, I'll have to check to see if it is
[09:00:18] *** Joins: alinab (alina@moz-94EAE39D.alinab.org)
[09:00:42] <jroweboy> man pcreapi -> "The  PCRE functions can be used in multi-threading applications" so maybe its ok. I am using jit though which has extra considerations involved it says
[09:01:32] <eddyb> right. in the future you'll have to implement Send and Share based on whether it's actually thread-safe
[09:02:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[09:03:45] <jroweboy> eddyb: It makes sense to require thread safety there when I think about it. What is Share ? Is it just saying how to pass it between tasks? 
[09:04:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[09:04:15] <eddyb> Share (future kind) will mean that it's thread-safe through a & reference
[09:04:43] <eddyb> it's intended for things like parallel hashmaps, lock-free queue, etc.
[09:04:46] <eddyb> *queues
[09:05:07] <eddyb> safe fork-join / parallel map-reduce
[09:05:25] <eddyb> (think a fixed-sized queue on the stack of the parent task)
[09:06:02] *** Quits: marianoguerra (marianogue@moz-F4BF482D.dip0.t-ipconnect.de) (Ping timeout)
[09:06:10] <jroweboy> That seems pretty neat! 
[09:06:17] <eddyb> rusti: let mut x @ mut y = 1; x += 1; y += 1; (x, y)
[09:06:18] -rusti- (2, 2)
[09:06:25] *** Quits: dougxxx (dougxxx@moz-2801788.perm.iinet.net.au) (Quit: Leaving...)
[09:06:41] *** Joins: sawrubh (uid6719@moz-5F4AA75A.irccloud.com)
[09:06:44] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:07:23] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[09:08:19] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[09:08:28] *** Joins: valentin (Thunderbir@87C1F78E.1DE10CA8.D8E68FF6.IP)
[09:08:52] *** Quits: lpy (lpy@F7AFA3.F09091A8.1348A864.IP) (Ping timeout)
[09:08:54] *** Quits: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net) (Ping timeout)
[09:09:30] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[09:09:59] <Zr40> what's that @?
[09:10:17] *** Joins: twi (Adium@moz-C8A1E1B5.cust.vodafonedsl.it)
[09:10:37] *** Joins: jviereck (Adium@moz-5F2A758D.ethz.ch)
[09:10:55] <eddyb> Zr40: pattern chaining
[09:13:53] *** Joins: jviereck1 (Adium@moz-5F2A758D.ethz.ch)
[09:13:55] *** Quits: jviereck (Adium@moz-5F2A758D.ethz.ch) (Connection reset by peer)
[09:13:55] *** Joins: heftig (heftig@moz-D746319F.unitymedia.biz)
[09:15:06] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Client exited)
[09:16:00] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[09:16:57] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[09:17:03] *** Quits: twi (Adium@moz-C8A1E1B5.cust.vodafonedsl.it) (Ping timeout)
[09:17:20] <Kroisse> rusti: let p @ (x, y) = (3, 2); println!("{:?} {:?} {:?}", p, x, y);
[09:17:20] -rusti- (3, 2) 3 2
[09:17:21] -rusti- ()
[09:17:28] *** Quits: kris_ (kris@moz-42A2A7B6.science.ku.dk) (Ping timeout)
[09:17:58] <Kroisse> rusti: let ref p @ mut (x, y) = (3, 2); x += 1; println!("{:?} {:?} {:?}", p, x, y);
[09:17:59] -rusti- <anon>:10:21: 10:24 error: expected identifier, found path
[09:17:59] -rusti- <anon>:10         let ref p @ mut (x, y) = (3, 2); x += 1; println!("{:?} {:?} {:?}", p, x, y);
[09:17:59] -rusti-                               ^~~
[09:17:59] -rusti- application terminated with error code 101
[09:18:00] <Yurume> rusti: let mut x @ mut y = 1; let xx = &mut x; let yy = &mut y; *xx += 1; *yy += 1; (*xx, *yy)
[09:18:01] -rusti- (2, 2)
[09:18:02] *** Joins: marianoguerra (marianogue@moz-75C9ECC6.hsi14.kabel-badenwuerttemberg.de)
[09:18:40] <Yurume> (technically correct, but somewhat confusing)
[09:18:44] <Kroisse> rusti: let ref p @ (mut x, y) = (3, 2); x += 1; println!("{:?} {:?} {:?}", p, x, y);
[09:18:45] -rusti- &(3, 2) 4 2
[09:18:45] -rusti- ()
[09:18:54] <Kroisse> seems weird
[09:19:01] *** Quits: jviereck1 (Adium@moz-5F2A758D.ethz.ch) (Ping timeout)
[09:19:24] <kimundi> Kroisse: ŵhich part seems weird?
[09:19:43] <bvssvni> Kroisse: x and y are copied by value, I think
[09:19:52] <Kroisse> aha
[09:20:13] <Kroisse> rusti: let ref p @ (ref mut x, ref y) = (3, 2); x += 1; println!("{:?} {:?} {:?}", p, x, y);
[09:20:14] -rusti- <anon>:10:50: 10:56 error: binary assignment operation `+=` cannot be applied to type `&mut <generic integer #0>`
[09:20:14] -rusti- <anon>:10         let ref p @ (ref mut x, ref y) = (3, 2); x += 1; println!("{:?} {:?} {:?}", p, x, y);
[09:20:14] -rusti-                                                            ^~~~~~
[09:20:14] -rusti- error: aborting due to previous error
[09:20:15] -rusti- application terminated with error code 101
[09:20:21] <Kroisse> oops
[09:20:28] <Kroisse> rusti: let ref p @ (ref mut x, ref y) = (3, 2); *x += 1; println!("{:?} {:?} {:?}", p, x, y);
[09:20:28] *** Joins: wirespeed (wirespeed@moz-6B2239D8.mal.dailymotion.com)
[09:20:29] -rusti- &(4, 2) &mut 4 &2
[09:20:29] -rusti- ()
[09:20:29] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[09:20:40] <kimundi> ah, yeah. the ref means to create a reference to the original value, while by value means a shallow copy
[09:21:44] <kimundi> Wait... that should be illegal to do? Is this a bug?
[09:21:54] <kimundi> (what Kroisse didd last)
[09:22:04] *** Quits: wirespeed (wirespeed@moz-6B2239D8.mal.dailymotion.com) (Quit: Leaving.)
[09:22:18] <Kroisse> so... does let x @ y = 2 copies the value '2' twice?
[09:22:20] <eddyb> kimundi: I doubt borrow checking knows about those arcane patterns
[09:22:25] <eddyb> Kroisse: yes
[09:22:31] <kimundi> eddyb: That sounds like a bug then
[09:22:40] <eddyb> Kroisse: you can use it to initialize a lot of variables easy
[09:22:59] <kimundi> let x @ y @ z = 0u; (x, y, z)
[09:23:04] <kimundi> rusti: let x @ y @ z = 0u; (x, y, z)
[09:23:04] -rusti- (0u, 0u, 0u)
[09:23:10] <kimundi> weird, but works :P
[09:23:20] <klutzy> rusti: let x @ x = 0; x
[09:23:21] -rusti- <anon>:10:13: 10:18 warning: unused variable: `x`, #[warn(unused_variable)] on by default
[09:23:21] -rusti- <anon>:10         let x @ x = 0; x
[09:23:21] -rusti-                       ^~~~~
[09:23:21] -rusti- 0
[09:23:22] <eddyb> read @ as "also"
[09:23:25] *** Quits: Ms2ger (Ms2ger@73E4AB59.751D2A92.F15B0BB3.IP) (Quit: bbl)
[09:23:31] <eddyb> and it makes perfect sense
[09:23:50] <kimundi> rusti: let (x, y, z) = (0u, 0u, 0u); (x, y, z)
[09:23:51] -rusti- (0u, 0u, 0u)
[09:24:15] <Kroisse> I think it's a similar thing of Haskell's @
[09:24:18] *** Joins: oberstet (quassel@moz-2D247F16.dynamic.mnet-online.de)
[09:24:25] <eddyb> Kroisse: it's identical
[09:24:29] <kimundi> with variadics, something like rusti: let (x, y, z) = tuple::from_value(0u); might also be possible
[09:24:49] <Kroisse> is it?
[09:24:52] <eddyb> yupp
[09:25:01] <kimundi> as far as I know, they are identical
[09:25:05] <eddyb> needs RepeatingTypeTuple and Pod
[09:25:12] <eddyb> or Clone
[09:26:13] <Kroisse> you mean, is it legal in Haskell: f a@b@c = (a, b, c); f(3) == (3, 3, 3) ?
[09:26:28] <eddyb> try it
[09:27:12] <kimundi> works
[09:27:16] <kimundi> just tested it
[09:27:20] <eddyb> impl<T: Pod, ..Tail: RepeatingValue<T>> RepeatingValue<T> for (T, ..Tail) {fn repeat(x: T) -> (T, ..Tail) {(x, RepeatingValue::repeat(x)}}
[09:27:26] <kimundi> Prelude> let f a@b@c = (a, b, c)
[09:27:26] <kimundi> Prelude> f 3
[09:27:26] <kimundi> (3,3,3)
[09:28:19] <eddyb> kimundi: in case you want to write a post-VG to-implement list
[09:28:29] <bvssvni> where did random go?
[09:28:36] <kimundi> hm?
[09:28:37] <eddyb> into its own crate
[09:28:54] *** Joins: HollyRain (HollyRain@moz-3B87E6F8.dyn.user.ono.com)
[09:29:00] <eddyb> kimundi: though most of the variadic impls I spew are trivial
[09:29:06] <bvssvni> not listed in the docs
[09:29:25] <bvssvni> http://static.rust-lang.org/doc/master/index.html#libraries
[09:29:26] <Kroisse> https://gist.github.com/Kroisse/9503611
[09:29:30] <Kroisse> woah
[09:29:35] <eddyb> typo though, should've been (x, ..RepeatingValue::repeat(x))
[09:29:48] <eddyb> bvssvni: docs update slower
[09:30:16] <Kroisse> operator precedence rules seems weird but it's cool
[09:30:16] <bvssvni> eddyb: it's that pace of changes, ok
[09:30:52] <eddyb> as in, they don't update on every successful bors build, at least I don't think so
[09:31:21] <kimundi> Kroisse: I think the problem in that gist is that "@" _only_ want s a identifier to its left
[09:31:40] <kimundi> so a @ b @ c is legal, but a @ b)
[09:31:41] <eddyb> a binding, not a full pattern
[09:31:42] <kimundi> so a @ b @ c is legal, but a @ b)
[09:31:47] <kimundi> so a @ b @ c is legal, but (a @ b) @ c is not
[09:31:49] <Kroisse> I have thought it's an aliasing of the value after @
[09:31:50] <eddyb> in haskell there are only identifier bindings
[09:31:51] <kimundi> whoops, sorry
[09:32:11] <eddyb> Kroisse: (binding @)+ pattern
[09:32:30] <kimundi> PATTERN := IDENT @ PATTERN
[09:32:40] <eddyb> or... recursive like that
[09:32:58] <eddyb> ref? mut? ident is a binding, at least in Rust
[09:34:32] <kimundi> right, in rusts its more like BINDING := ref? mut? IDENT; PATTERN := BINDING @ PATTERN
[09:35:25] *** Quits: mpiechotka (mpiechotka@moz-5393CC9.dynamic.mnet-online.de) (Ping timeout)
[09:35:34] <eddyb> aww no capacity? http://static.rust-lang.org/doc/master/collections/hashmap/struct.HashMap.html
[09:35:43] <eddyb> so I can't actually tell what occupancy it has
[09:35:48] *** Joins: bharadwaj (uid11995@moz-5F4AA75A.irccloud.com)
[09:36:59] *** Joins: patpat (patpat@D2A89A5D.7FC6F41F.98F3E2B5.IP)
[09:37:34] <bvssvni> when I hover the mouse over the docs I get 'HashMap § <K, V>'
[09:37:42] <eddyb> yupp <3
[09:37:45] <bvssvni> what is that § thing?
[09:38:07] <eddyb> link indicator?
[09:38:08] <kimundi> rusti: let mut ref mut x = 5u; println!("{:?}", x);
[09:38:09] -rusti- pastebinned 7 lines of output: http://sprunge.us/PYMX
[09:38:29] * kimundi thinks this should be valid for consistency
[09:38:54] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[09:38:57] <eddyb> so mut? (ref mut?)?
[09:38:58] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[09:39:01] <bvssvni> eddyb: what's wrong with changing the mouse cursor to hand?
[09:39:08] <kimundi> eddyb: yeah
[09:39:27] <eddyb> bvssvni: I actually expected something nicer to happen, but... nevermind it's just an annoyance now
[09:39:35] <eddyb> I wonder what the rationale was
[09:39:51] <bvssvni> haha
[09:39:55] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[09:40:16] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[09:41:50] <bvssvni> eddyb: maybe HashMap should have get_capacity or something
[09:41:58] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[09:42:57] <bvssvni> eddyb: or just cap() for short, like len()
[09:43:19] <eddyb> it's "capacity" on Vec, I think
[09:43:55] *** Joins: twi (Adium@moz-7B5165D9.cust.vodafonedsl.it)
[09:44:21] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[09:45:09] *** Quits: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com) (Quit: Connection closed for inactivity)
[09:46:24] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[09:46:32] *** Joins: lunaryorn (lunaryorn@moz-9D62EE2F.dynamic.mnet-online.de)
[09:47:36] *** Joins: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP)
[09:48:37] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[09:49:41] *** Quits: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu) (Ping timeout)
[09:50:56] *** Joins: lpy (lpy@DF47E728.25165A39.3F03179E.IP)
[09:52:10] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Quit: Leaving...)
[09:52:38] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[09:53:23] *** Joins: lpy_ (lpy@32DE1D6C.56B853B.8C13C571.IP)
[09:54:27] *** Quits: lpy (lpy@DF47E728.25165A39.3F03179E.IP) (Ping timeout)
[09:55:19] *** Quits: twi (Adium@moz-7B5165D9.cust.vodafonedsl.it) (Ping timeout)
[09:55:23] *** Quits: alonlevy (alon@2CD54432.57968636.E9C721AF.IP) (Ping timeout)
[09:55:36] *** Quits: bvssvni (Mibbit@moz-E289BB64.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[09:56:35] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[09:56:52] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[09:57:42] *** Joins: Rym (y@17236E85.7C051304.51C6DE68.IP)
[09:58:37] *** Joins: mib_clwnil (Mibbit@B62AD1BA.65F4C6C6.48F984E6.IP)
[09:59:39] *** Joins: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu)
[10:00:00] *** Joins: alexherb1 (alexherbo2@moz-A456CD9C.w83-199.abo.wanadoo.fr)
[10:00:11] *** Joins: twi (Adium@moz-77C08F13.cust.vodafonedsl.it)
[10:00:32] *** Quits: twi (Adium@moz-77C08F13.cust.vodafonedsl.it) (Connection reset by peer)
[10:00:58] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[10:02:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[10:04:09] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[10:04:13] *** Joins: twi (Adium@moz-86B3DAA.cust.vodafonedsl.it)
[10:04:21] *** Quits: twi (Adium@moz-86B3DAA.cust.vodafonedsl.it) (Max SendQ exceeded)
[10:04:27] *** Joins: twi (Adium@moz-86B3DAA.cust.vodafonedsl.it)
[10:04:30] *** Quits: twi (Adium@moz-86B3DAA.cust.vodafonedsl.it) (Connection reset by peer)
[10:06:38] <huon> oh, that reminds me
[10:06:52] * huon fixes those incorrect § hovers
[10:07:15] *** Joins: twi (Adium@moz-46C4C01B.cust.vodafonedsl.it)
[10:07:23] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[10:07:25] *** Quits: twi (Adium@moz-46C4C01B.cust.vodafonedsl.it) (Max SendQ exceeded)
[10:07:39] *** Joins: twi (Adium@moz-46C4C01B.cust.vodafonedsl.it)
[10:07:44] *** Quits: twi (Adium@moz-46C4C01B.cust.vodafonedsl.it) (Connection reset by peer)
[10:08:19] *** Joins: mouse (mouse@moz-373942D2.dhcp.yndx.net)
[10:09:15] *** Quits: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP) (Ping timeout)
[10:09:16] *** Quits: mib_clwnil (Mibbit@B62AD1BA.65F4C6C6.48F984E6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[10:09:33] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[10:09:40] <HollyRain> somebody has done a question related to shared library in reddit (thinking in that it's better than the static one)
[10:09:43] <HollyRain> since I have not a reddit account, does anybody could write this link there? http://plan9.bell-labs.com/wiki/plan9/why_static/
[10:09:44] *** Quits: Rym (y@17236E85.7C051304.51C6DE68.IP) (Ping timeout)
[10:09:52] *** Joins: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net)
[10:09:56] <HollyRain> http://www.reddit.com/r/rust/comments/207q19/runtime_in_shared_library/
[10:10:37] *** Quits: lpy_ (lpy@32DE1D6C.56B853B.8C13C571.IP) (Ping timeout)
[10:10:46] *** Joins: lpy (lpy@81C4458B.25165A39.3F03179E.IP)
[10:10:47] *** Joins: twi (Adium@moz-FE4C5924.cust.vodafonedsl.it)
[10:10:49] <jroweboy> HollyRain: Why not just make a reddit account? Consider it a throwaway account where  you never plan on using it again?
[10:10:50] *** Quits: twi (Adium@moz-FE4C5924.cust.vodafonedsl.it) (Connection reset by peer)
[10:11:11] *** pmoore is now known as pmoore|away
[10:11:37] <HollyRain> jroweboy, I usually use TOR, and reddit dislikes it
[10:12:15] *** Joins: Rym (y@17236E85.7C051304.51C6DE68.IP)
[10:12:24] *** Joins: twi (Adium@moz-FE4C5924.cust.vodafonedsl.it)
[10:14:11] *** Quits: mindcat (mindcat@CADD953C.90785442.291A146C.IP) (Ping timeout)
[10:14:25] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Client exited)
[10:14:32] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[10:14:49] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[10:15:48] *** Quits: Rym (y@17236E85.7C051304.51C6DE68.IP) (Ping timeout)
[10:16:26] *** Joins: Rym (y@17236E85.7C051304.51C6DE68.IP)
[10:16:55] *** Joins: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP)
[10:17:05] *** Joins: aepsil0n (ebopp@moz-DFDD087A.ita.uni-heidelberg.de)
[10:17:46] *** Joins: mindcat (mindcat@53441A3E.2AF6B358.291A146C.IP)
[10:18:05] *** Quits: Rym (y@17236E85.7C051304.51C6DE68.IP) (Ping timeout)
[10:19:16] *** Quits: twi (Adium@moz-FE4C5924.cust.vodafonedsl.it) (Ping timeout)
[10:19:20] *** pmoore|away is now known as pmoore
[10:24:37] <HollyRain> jroweboy,  thanks :)
[10:25:01] *** Joins: twi (Adium@moz-ED056769.cust.vodafonedsl.it)
[10:25:28] *** Quits: HollyRain (HollyRain@moz-3B87E6F8.dyn.user.ono.com) (Quit: bye, bye)
[10:25:45] *** Joins: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net)
[10:26:53] *** Joins: Ms2ger (Ms2ger@moz-89969E25.ugent.be)
[10:28:33] *** Quits: sigma (sigma@moz-55097A0B.range86-163.btcentralplus.com) (Client exited)
[10:31:05] *** Joins: Merth (shaun@moz-E41B2C4D.dhcp.mdsn.wi.charter.com)
[10:32:15] *** Parts: jroweboy (jrowe7@moz-18814A6B.provo.static.broadweavenetworks.net) ()
[10:32:54] *** Quits: Merth (shaun@moz-E41B2C4D.dhcp.mdsn.wi.charter.com) (Ping timeout)
[10:35:23] *** Quits: lunaryorn (lunaryorn@moz-9D62EE2F.dynamic.mnet-online.de) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[10:35:54] *** Joins: sigma (sigma@moz-55097A0B.range86-163.btcentralplus.com)
[10:36:36] *** Joins: lunaryorn (lunaryorn@moz-9D62EE2F.dynamic.mnet-online.de)
[10:36:57] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[10:41:17] *** Joins: Merth (shaun@moz-E41B2C4D.dhcp.mdsn.wi.charter.com)
[10:43:15] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[10:44:36] *** Quits: rntz_ (rntz@moz-C76A8D96.sp.cs.cmu.edu) (Ping timeout)
[10:45:47] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[10:47:07] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[10:47:57] *** Quits: oxum (anonymous@A8674305.85934B53.520CDC98.IP) (Ping timeout)
[10:48:55] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[10:49:00] *** Quits: twi (Adium@moz-ED056769.cust.vodafonedsl.it) (Quit: Leaving.)
[10:49:42] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[10:50:56] *** Quits: krdln (Mibbit@moz-C271714F.dynamic.chello.pl) (Quit: http://www.mibbit.com ajax IRC Client)
[10:52:01] <stephenmac7> Seems I was misunderstood yesterday when I asked about cross compiling. I wanted to install the actual compiler on the target. Any way to do this?
[10:52:50] <mcpherrin> yes, you can crosscompile a compiler
[10:53:20] *** Joins: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de)
[10:53:50] *** Joins: rntz_ (rntz@moz-C76A8D96.sp.cs.cmu.edu)
[10:54:36] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[10:54:41] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[10:55:39] <stephenmac7> mcpherrin, would it be just adding a target to configure?
[10:55:46] *** Quits: rntz_ (rntz@moz-C76A8D96.sp.cs.cmu.edu) (Ping timeout)
[10:55:57] *** Quits: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP) (Quit: mno2)
[10:56:09] *** Joins: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net)
[10:56:20] <stephenmac7> Then somehow copying it to the target?
[10:56:34] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[10:57:09] *** Quits: patpat (patpat@D2A89A5D.7FC6F41F.98F3E2B5.IP) (Ping timeout)
[10:57:16] *** Joins: io2 (io2@moz-EE406A5.home.otenet.gr)
[10:58:43] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[10:59:17] *** pmoore is now known as pmoore|away
[10:59:50] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[11:01:03] *** Quits: alinab (alina@moz-94EAE39D.alinab.org) (Ping timeout)
[11:01:47] *** Quits: Ycros (ycros@moz-E0894734.ycros.org) (Ping timeout)
[11:01:53] *** Joins: Ycros (ycros@moz-E0894734.ycros.org)
[11:02:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[11:03:02] *** Quits: Dnyarri (dnyarri@moz-84E87CA5.kapsi.fi) (Ping timeout)
[11:03:35] *** Joins: Dnyarri (dnyarri@moz-84E87CA5.kapsi.fi)
[11:04:10] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[11:05:02] *** Joins: alinab (alina@moz-94EAE39D.alinab.org)
[11:07:21] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[11:07:45] *** Quits: joelteon (bzzt@moz-ACC9D720.members.linode.com) (Ping timeout)
[11:07:55] *** Quits: alinab (alina@moz-94EAE39D.alinab.org) (Ping timeout)
[11:09:33] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[11:09:41] *** Joins: q66 (q66@moz-DABAB06D.dab.02.net)
[11:09:44] *** Quits: Ycros (ycros@moz-E0894734.ycros.org) (Ping timeout)
[11:09:50] *** Joins: Ycros (ycros@moz-E0894734.ycros.org)
[11:10:07] *** Joins: rntz_ (rntz@moz-C76A8D96.sp.cs.cmu.edu)
[11:10:38] *** Joins: patpat (patpat@D2A89A5D.7FC6F41F.98F3E2B5.IP)
[11:11:49] *** Joins: joelteon (bzzt@moz-ACC9D720.members.linode.com)
[11:11:50] *** Quits: Merth (shaun@moz-E41B2C4D.dhcp.mdsn.wi.charter.com) (Ping timeout)
[11:11:55] *** Joins: greedy (Mibbit@574E1E03.90AF3151.B6DDF205.IP)
[11:13:33] *** Quits: aepsil0n (ebopp@moz-DFDD087A.ita.uni-heidelberg.de) (Ping timeout)
[11:14:07] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[11:14:21] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[11:14:39] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[11:15:09] *** Joins: cgaebel (clark@moz-F9D89110.nyc.res.rr.com)
[11:15:40] <eddyb> http://www.reddit.com/r/haskell/comments/207fk8/julia_has_no_dependent_types/
[11:15:44] * eddyb popcorn
[11:16:14] *** Joins: alinab (alina@moz-94EAE39D.alinab.org)
[11:16:22] *** Quits: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net) (Ping timeout)
[11:16:22] *** Joins: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com)
[11:18:02] *** Quits: alinab (alina@moz-94EAE39D.alinab.org) (Ping timeout)
[11:18:37] *** Joins: jadbaires (jadrian@6A33146B.2BA9FC33.6119BA41.IP)
[11:18:53] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[11:19:16] *** Quits: jadbaires (jadrian@6A33146B.2BA9FC33.6119BA41.IP) (Quit: Konversation terminated!)
[11:19:27] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[11:20:58] *** Quits: Ycros (ycros@moz-E0894734.ycros.org) (Ping timeout)
[11:21:03] *** Joins: Ycros (ycros@moz-E0894734.ycros.org)
[11:21:29] *** Joins: alinab (alina@moz-94EAE39D.alinab.org)
[11:21:51] *** Quits: joelteon (bzzt@moz-ACC9D720.members.linode.com) (Quit: goodbye)
[11:22:04] *** Quits: cgaebel (clark@moz-F9D89110.nyc.res.rr.com) (Ping timeout)
[11:22:12] *** Joins: joelteon (bzzt@moz-ACC9D720.members.linode.com)
[11:23:34] *** Joins: twi (Adium@moz-70F4B29C.business.telecomitalia.it)
[11:23:38] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[11:24:07] *** Quits: q66 (q66@moz-DABAB06D.dab.02.net) (Quit: Leaving)
[11:25:27] *** Joins: tanayseven (tanay@1A2541E.B5A27990.5A7A4C68.IP)
[11:26:02] *** Joins: krdln (Mibbit@moz-C271714F.dynamic.chello.pl)
[11:26:28] *** pmoore|away is now known as pmoore
[11:27:08] *** Quits: heftig (heftig@moz-D746319F.unitymedia.biz) (Quit: Quitting)
[11:29:11] *** Joins: q66 (q66@moz-1632118C.range109-150.btcentralplus.com)
[11:29:16] *** Quits: alinab (alina@moz-94EAE39D.alinab.org) (Quit: leaving)
[11:30:34] *** Joins: alinab (alina@moz-94EAE39D.alinab.org)
[11:30:55] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Input/output error)
[11:33:03] *** Joins: heftig (heftig@moz-D746319F.unitymedia.biz)
[11:33:13] *** Joins: aepsil0n (ebopp@moz-EF530DCB.ita.uni-heidelberg.de)
[11:33:28] *** Quits: benjamin_ (benjamin@moz-EBBAC24D.dip0.t-ipconnect.de) (Ping timeout)
[11:34:37] *** Quits: Ferreus (ferreus@moz-9D0A55B2.dip0.t-ipconnect.de) (Ping timeout)
[11:37:27] *** Quits: JanC_ (janc@moz-36A807F5.dsl.scarlet.be) (Ping timeout)
[11:41:46] *** Joins: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net)
[11:49:28] *** Quits: marianoguerra (marianogue@moz-75C9ECC6.hsi14.kabel-badenwuerttemberg.de) (Ping timeout)
[11:50:00] *** Quits: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net) (Ping timeout)
[11:50:03] *** Quits: Ms2ger (Ms2ger@moz-89969E25.ugent.be) (Ping timeout)
[11:51:32] *** Joins: Ferreus (ferreus@moz-942E24F4.dip0.t-ipconnect.de)
[11:52:21] *** Joins: JanC_ (janc@moz-2AC80CF3.dsl.scarlet.be)
[11:52:42] *** Joins: marianoguerra (marianogue@moz-75C9ECC6.hsi14.kabel-badenwuerttemberg.de)
[11:53:20] *** Quits: krdln (Mibbit@moz-C271714F.dynamic.chello.pl) (Quit: http://www.mibbit.com ajax IRC Client)
[11:54:04] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[11:55:49] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[11:59:31] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[12:00:36] *** Joins: Kynes (Kynes@moz-3DC6C6E7.mit.edu)
[12:00:56] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[12:02:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[12:02:27] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[12:03:51] *** jorendorff_away is now known as jorendorff
[12:03:52] *** Quits: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de) (Quit: Leaving.)
[12:04:08] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[12:04:57] <alexherbo2> Hi
[12:05:13] <alexherbo2> Is there an autocomplete engine for Rust in the wild ?
[12:07:12] <Matthias247> nope
[12:07:16] <alexherbo2> :(
[12:07:20] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[12:07:34] *** Joins: krdln (Mibbit@moz-C271714F.dynamic.chello.pl)
[12:09:32] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[12:09:49] *** Quits: limeburst (me@247D1419.D73964AC.27A8748.IP) (Quit: leaving)
[12:09:56] *** Joins: limeburst (me@247D1419.D73964AC.27A8748.IP)
[12:10:02] *** Joins: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca)
[12:11:01] *** Quits: Armavica (virgile@moz-AD428ED7.ens.fr) (Ping timeout)
[12:11:47] <SiegeLord> Where did RNG's go off to?
[12:13:34] *** Quits: greedy (Mibbit@574E1E03.90AF3151.B6DDF205.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[12:13:39] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[12:13:41] *** Joins: LU324 (asdf@moz-864C7465.dyn.embarqhsd.net)
[12:13:47] *** Quits: limeburst (me@247D1419.D73964AC.27A8748.IP) (Quit: leaving)
[12:13:52] *** Joins: limeburst (me@247D1419.D73964AC.27A8748.IP)
[12:14:13] <utkarsh> is it possible to get the arguments passed to a macro as text?
[12:15:12] *** Quits: tanayseven (tanay@1A2541E.B5A27990.5A7A4C68.IP) (Ping timeout)
[12:15:23] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[12:15:39] *** Joins: oxum (anonymous@B9BFB4B1.77B59FE0.520CDC98.IP)
[12:16:08] *** Joins: tanayseven (tanay@1A2541E.B5A27990.5A7A4C68.IP)
[12:16:12] <huon> SiegeLord: rand crate
[12:16:38] <SiegeLord> There is no rand crate
[12:16:40] <SiegeLord> http://static.rust-lang.org/doc/master/index.html
[12:16:52] <huon> ah, crap
[12:16:52] <huon> :(
[12:16:56] <huon> URL hack it, it's there :P
[12:17:07] *** Quits: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP) (Ping timeout)
[12:17:08] * huon forgot to update teh landing page
[12:17:18] <huon> http://static.rust-lang.org/doc/master/rand/index.html
[12:17:21] *** Quits: kvanb (kvanb@moz-971914BC.lnse4.win.bigpond.net.au) (Ping timeout)
[12:18:03] * huon updates it now
[12:18:51] *** Joins: skade (skade@moz-F650E265.web.vodafone.de)
[12:19:40] <kimundi> utkarsh: there is the stringify! macro
[12:19:52] <kimundi> rusti: stringify!(foo)
[12:19:53] -rusti- "foo"
[12:20:21] *** Quits: bharadwaj (uid11995@moz-5F4AA75A.irccloud.com) (Quit: Connection closed for inactivity)
[12:20:38] *** Joins: kvanb (kvanb@6B837AF3.9FF56AB5.1611EE05.IP)
[12:21:10] <Kroisse> stringify!(fn main() {})
[12:21:16] <Kroisse> rusti: stringify!(fn main() {})
[12:21:17] -rusti- "fn main ( ) { }"
[12:21:20] <Kroisse> ?
[12:21:22] <Kroisse> wow
[12:21:25] <utkarsh> kimundi, thanks :)
[12:22:00] <huon> SiegeLord: https://github.com/mozilla/rust/pull/12844
[12:22:09] *** Joins: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de)
[12:22:11] <SiegeLord> Two!
[12:22:19] *** Joins: pczarn (pczarn@moz-69A55FA.izacom.pl)
[12:23:07] <utkarsh> and is there any better way to create several static strs than repeating `static name: &'static str = "..."`?
[12:23:30] *** Joins: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net)
[12:25:09] *** Joins: IanCormac841 (User@93A65D51.64D641E5.67DFF8B4.IP)
[12:25:26] *** Quits: IanCormac84 (User@FE70546B.2A8D8854.67DFF8B4.IP) (Ping timeout)
[12:27:07] *** Quits: urbanserj (urbanserj@3E28BD5F.398BF19F.86BD9C9E.IP) (Ping timeout)
[12:27:18] *** Joins: mno2 (mno2@moz-3506EAC7.singnet.com.sg)
[12:27:27] *** Joins: asmyers (quassel@9B846F14.A07F7734.FAA4474F.IP)
[12:27:53] <pczarn> utkarsh: static name: &'static [&'static str] = &["abc", "def"];
[12:27:54] <SiegeLord> Hmm... the docs have anchors now...
[12:28:06] <SiegeLord> Which shift around text when they appear >_<
[12:28:33] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[12:28:49] *** Joins: Ms2ger (Ms2ger@moz-A9EA7292.ugent.be)
[12:28:54] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[12:29:09] <huon> SiegeLord: accidental
[12:29:22] <huon> https://github.com/mozilla/rust/pull/12843
[12:29:24] <huon> fixes it
[12:29:36] <SiegeLord> Well, my css file doesn't even have them... they seem a bit pointless
[12:30:22] <huon> yeah, I dunno... they kinda make it more obvious the headers are links?
[12:30:27] * huon shrugs
[12:30:50] <SiegeLord> I use a dashed outline as a hover effect
[12:30:54] *** Joins: urbanserj (urbanserj@3E28BD5F.398BF19F.86BD9C9E.IP)
[12:31:59] *** Quits: mouse (mouse@moz-373942D2.dhcp.yndx.net) (Quit: Ex-Chat)
[12:32:07] *** Joins: mouse (mouse@moz-373942D2.dhcp.yndx.net)
[12:33:56] *** Quits: patpat (patpat@D2A89A5D.7FC6F41F.98F3E2B5.IP) (Ping timeout)
[12:33:58] *** Joins: Sorella (quildreen@89788746.FDF9B0F2.A95FAE2B.IP)
[12:34:03] *** Quits: kvanb (kvanb@6B837AF3.9FF56AB5.1611EE05.IP) (Ping timeout)
[12:35:22] *** Joins: kvanb (kvanb@6B837AF3.9FF56AB5.1611EE05.IP)
[12:38:27] <SiegeLord> Now to fiddle with the syntax highlighting... it's a bit odd
[12:38:44] <SiegeLord> Green for strings? Purple for keywords?
[12:41:10] *** Quits: lpy (lpy@81C4458B.25165A39.3F03179E.IP) (Client exited)
[12:41:27] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[12:42:16] <huon> SiegeLord: yeah :(
[12:43:09] <eddyb> red for strings, bold for keywords, pls
[12:43:14] *** Quits: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com) (Client exited)
[12:43:14] <eddyb> huon: got to sleep :P
[12:43:18] <eddyb> s/got/go
[12:43:44] <huon> I filed https://github.com/mozilla/rust/issues/12648 (but wasn't particularly willing to spend time fighting the PR that closed it to get https://github.com/mozilla/rust/issues/12648#issuecomment-36451464 )
[12:45:12] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Client exited)
[12:50:58] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[12:52:09] <SiegeLord> Kind of odd that & counts as a secondary keyword :/
[12:53:33] <huon> SiegeLord: yeah it's a little weird (it's easy enough to fiddle with the rustdoc internals to adjust it, rustdoc::html::highlight)
[12:54:22] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[12:56:00] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[12:56:00] *** ChanServ sets mode: +o jdm
[12:56:05] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[12:56:31] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[12:56:31] *** ChanServ sets mode: +o tjc
[12:57:27] *** Joins: zmike (discomfito@moz-975BC507.hsd1.ct.comcast.net)
[12:58:28] *** Quits: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de) (Connection reset by peer)
[12:59:19] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[12:59:33] *** Joins: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP)
[13:00:04] *** Joins: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de)
[13:01:52] *** Quits: heftig (heftig@moz-D746319F.unitymedia.biz) (Ping timeout)
[13:02:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:03:10] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[13:03:21] *** Joins: lpy (lpy@F7AFA3.F09091A8.1348A864.IP)
[13:04:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[13:06:44] *** Quits: zmike (discomfito@moz-975BC507.hsd1.ct.comcast.net) (Quit: ah. I see.)
[13:06:54] *** Quits: urbanserj (urbanserj@3E28BD5F.398BF19F.86BD9C9E.IP) (Ping timeout)
[13:07:23] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[13:07:27] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[13:07:48] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[13:09:32] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[13:09:32] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[13:09:43] *** Joins: pepper_chico (pepper_chi@moz-E15D42C8.dsl.telesp.net.br)
[13:09:48] *** Joins: zmike (discomfito@moz-975BC507.hsd1.ct.comcast.net)
[13:10:05] *** Quits: twi (Adium@moz-70F4B29C.business.telecomitalia.it) (Quit: Leaving.)
[13:10:27] *** Joins: urbanserj (urbanserj@3E28BD5F.398BF19F.86BD9C9E.IP)
[13:11:36] *** Quits: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca) (Quit: canhtak)
[13:14:53] <SiegeLord> Alright, much better :D http://www.rust-ci.org/SiegeLord/RustGnuplot/doc/gnuplot/index.html
[13:16:19] *** Quits: lunaryorn (lunaryorn@moz-9D62EE2F.dynamic.mnet-online.de) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[13:16:43] *** Joins: Earnestly (earnest@18162BE0.BA6AC103.30311652.IP)
[13:18:24] <eddyb> SiegeLord: wait, what?
[13:18:30] <eddyb> that looks... old
[13:19:13] <eddyb> brownish, some cream, blue and pink...
[13:19:19] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[13:19:33] <eddyb> SiegeLord: now it bugs me that I can't remember what awful place I've previously seen this scheme in
[13:19:39] <SiegeLord> That's cause I made the old rustdoc CSS :P
[13:20:05] <SiegeLord> And then it kind of got butchered into the inconsistent mess it is today
[13:20:32] *** Joins: benjamin_ (benjamin@moz-EBBAC24D.dip0.t-ipconnect.de)
[13:20:44] *** Parts: kngl (Adium@moz-18BD1C.ipv4.evonet.be) ()
[13:21:41] *** Quits: pzol_ (pzol@86821BC.DEB41A6D.AADC76B.IP) (Quit: ZNC - http://znc.in)
[13:23:10] *** Joins: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca)
[13:26:30] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[13:27:30] *** Joins: goffrie_ (goffrie@moz-D4A502E6.dsl.ncf.ca)
[13:27:51] *** Quits: goffrie (goffrie@moz-E76774F0.dsl.ncf.ca) (Ping timeout)
[13:28:46] *** jorendorff is now known as jorendorff_away
[13:32:08] *** Joins: herrwolfe45 (uid26657@moz-E77DEB21.irccloud.com)
[13:33:45] *** Quits: kvanb (kvanb@6B837AF3.9FF56AB5.1611EE05.IP) (Quit: kvanb)
[13:35:07] *** Joins: lunaryorn (lunaryorn@moz-9D62EE2F.dynamic.mnet-online.de)
[13:35:45] *** Joins: fabiand (fabiand@moz-A5CCDD03.redhat.com)
[13:39:20] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[13:40:22] *** Joins: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net)
[13:41:22] <jdsanders> is there a reason that Eq can't be implemented globally for T: TotalEq? am I misunderstanding what the terms mean?
[13:41:51] *** Quits: valentin (Thunderbir@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[13:43:46] *** Joins: aravindavk (aravinda@CD39A371.2FE5B3A1.E5F05D4F.IP)
[13:45:22] *** Joins: redShadow (redShadow@9BDAF02B.D15F9219.1CCF65D9.IP)
[13:45:31] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[13:45:38] *** Joins: valentin (Thunderbir@87C1F78E.1DE10CA8.D8E68FF6.IP)
[13:46:38] <eddyb> jdsanders: Eq contains the operator overloads for == and !=
[13:46:56] *** Joins: jackneill (jackneill@moz-D20A1607.pool.digikabel.hu)
[13:46:59] <eddyb> jdsanders: also, with the current (over-conservative) coherence rules, that would prevent anyone from implementing Eq themselves
[13:47:39] <jdsanders> it would? I thought types that didn't implement TotalEq would still be able to implement Eq
[13:47:55] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[13:48:01] <eddyb> everyone thinks that until coherence bites them
[13:48:06] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[13:48:06] *** Quits: mindcat (mindcat@53441A3E.2AF6B358.291A146C.IP) (Ping timeout)
[13:48:11] <eddyb> (we want to fix it, so it should be possible to have that in the future)
[13:48:19] <jdsanders> hmmm, drat
[13:48:57] <jdsanders> I think I got bitten by that with ToStr awhile back and instead of wrapping my head around it at the time, I just implemented Show instead :)
[13:49:05] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (Input/output error)
[13:49:16] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[13:49:56] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[13:50:02] <eddyb> (which is the better thing to do anyways)
[13:51:28] *** jorendorff_away is now known as jorendorff
[13:52:30] *** Joins: mindcat (mindcat@981CE82F.7EE3DE8.F956842C.IP)
[13:53:04] <jdsanders> well, I suppose - I do think the Show way is more boilerplate-y - I already have a function that returns a ~str representation, but I can't just return that, I have to use write! to turn it into a fmt::Result
[13:53:35] <jdsanders> (not so bad, obviously, just an extra hoop to jump through in some cases)
[13:55:04] *** Quits: q66 (q66@moz-1632118C.range109-150.btcentralplus.com) (Quit: Leaving)
[13:55:06] <kimundi> jdsanders: The advantage of Show is that it is possible to show without allocating a ~str
[13:55:29] <kimundi> Or worse, transitivly allocating a lot of ~str and composing them to new allocated ~str s
[13:56:09] *** Joins: q66 (q66@moz-1632118C.range109-150.btcentralplus.com)
[13:57:06] *** Joins: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com)
[13:58:22] *** Quits: q66 (q66@moz-1632118C.range109-150.btcentralplus.com) (Ping timeout)
[14:00:47] *** pmoore is now known as pmoore|away
[14:02:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:04:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:05:45] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Quit: )
[14:07:12] *** Quits: lunaryorn (lunaryorn@moz-9D62EE2F.dynamic.mnet-online.de) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[14:07:17] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[14:07:21] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[14:07:28] *** Joins: erickt_ (etryzelaar@49C4075F.3AC15C18.2321E71E.IP)
[14:09:30] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[14:10:35] *** Joins: dschatzberg (dschatzber@moz-E2680405.bu.edu)
[14:11:04] *** Joins: mye (mye@moz-698312B3.dip0.t-ipconnect.de)
[14:12:08] *** Joins: FreeFull (freefull@moz-A3210B4C.ppp.as43234.net)
[14:12:16] *** Joins: q66 (q66@moz-DF53ED3A.range86-152.btcentralplus.com)
[14:14:21] <nstdloop> Do Rust "newtypes" also have no runtime representation (like Haskell's) or is there some overhead to using them instead of the raw type?
[14:14:27] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[14:15:15] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[14:15:26] *** pmoore|away is now known as pmoore
[14:16:13] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[14:16:16] *** Joins: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com)
[14:17:50] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:19:06] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[14:19:35] *** Quits: ChrisOei (ChrisOei@moz-30D80888.hsd1.ca.comcast.net) (Ping timeout)
[14:21:29] <eddyb> nstdloop: they should always be represented as their inner type
[14:21:48] <eddyb> doing otherwise can be considered a bug
[14:22:04] <nstdloop> So an Inch(int) is "the same" as an int?
[14:22:09] <nstdloop> At runtime, that is.
[14:22:18] <eddyb> s/runtime/low-level/
[14:22:19] *** Quits: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de) (Connection reset by peer)
[14:22:21] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[14:22:33] <nstdloop> Right. Good to know.
[14:22:47] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[14:22:53] <eddyb> int is going to be represented as i64 (on x64), while Inch(int) will be represented as { i64 }
[14:23:44] <eddyb> but LLVM should be able to work with the latter just as well as with the former (I did fix a related LLVM devirtualization bug, so it's not perfect)
[14:23:57] *** Joins: edwardw (edwardw@F3BE8D26.1B2F6624.7F41E82D.IP)
[14:24:05] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[14:24:22] <eddyb> nstdloop: if you find cases where it's worse (you can use --emit=ir to get human "readable" LLVM IR), please report back :D
[14:25:08] *** Joins: ChrisOei (ChrisOei@moz-CE32A3A7.mycingular.net)
[14:25:23] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[14:26:13] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[14:26:17] *** Joins: twi (Adium@moz-70F4B29C.business.telecomitalia.it)
[14:26:25] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[14:27:03] *** Quits: marianoguerra (marianogue@moz-75C9ECC6.hsi14.kabel-badenwuerttemberg.de) (Ping timeout)
[14:27:57] *** jdm is now known as jdm|away
[14:27:57] <SiegeLord> Why is *T not matching the semantics of C's T* confusing, but &T not matching the semantics of C++'s T& not?
[14:29:58] <mcpherrin> Because T* is used to wrap C libraries primarily
[14:30:02] *** Quits: skade (skade@moz-F650E265.web.vodafone.de) (Connection reset by peer)
[14:30:06] <mcpherrin> is the reason I gather, at least
[14:30:09] *** Joins: skade (skade@moz-F650E265.web.vodafone.de)
[14:30:25] *** Joins: marianoguerra (marianogue@moz-75C9ECC6.hsi14.kabel-badenwuerttemberg.de)
[14:30:42] <kimundi> One could probably argue that Rust can interface with C directly, while C++ has to go through C anyway
[14:31:16] <SiegeLord> Wrapping C libraries in Rust takes a deep understand of Rust's semantics... if you can't get the mutability of *T correct, I wouldn't trust you to get anything else right
[14:31:46] <SiegeLord> The rule does seem pretty simple... pointers are immutable by default
[14:32:11] *** Quits: skade (skade@moz-F650E265.web.vodafone.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:32:28] <kimundi> except its not really immutability these days :P
[14:32:45] *** Joins: skade (skade@moz-F650E265.web.vodafone.de)
[14:32:50] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[14:33:39] *** Joins: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[14:33:47] *** Quits: ChrisOei (ChrisOei@moz-CE32A3A7.mycingular.net) (Ping timeout)
[14:33:48] <bollu> help with lifetimes please -https://gist.github.com/bollu/548c7d3d039f7b8895ba
[14:34:04] <SiegeLord> Are there more differences between * and & than lifetimes and nullability?
[14:34:39] <sp3d> the obvious question of safety/reference validity, but otherwise I think that's it?
[14:35:44] *** Joins: io2 (io2@moz-EE406A5.home.otenet.gr)
[14:36:02] <bollu> I'm not able to figure out why it's complaning - I've bound the lifetime... 
[14:36:07] <bollu> complaining*
[14:36:29] <eddyb> that's invariance, I think
[14:36:35] <Blub\0> what's the signature of Text::new_init?
[14:36:46] *** Joins: ChrisOei (ChrisOei@moz-CE32A3A7.mycingular.net)
[14:37:01] <FreeFull> * let you do pointer arithmetic
[14:37:03] <eddyb> bollu: try using &'a str in MenuItem::new
[14:37:22] <eddyb> bollu: wait, no, don't try that *just yet*, you've hit a bug
[14:37:28] <bollu> okay
[14:37:30] <eddyb> the return type should be MenuItem<'a>
[14:37:40] <eddyb> it's a bug that we allow you to not specify things like that :(
[14:37:57] <SiegeLord> Plus, *T is used in places aside from FFI bindings...
[14:38:07] <bollu> eddyb: ah, I see. anyway, it works! thanks :) 
[14:38:15] <SiegeLord> Maybe FFI bindings should use CPtr and CConstPtr :P
[14:38:17] <bollu> I'd forgotten that you have to annotate the return type also >_<
[14:38:25] <eddyb> "also" lol
[14:38:34] <eddyb> it's the main thing that you have to annotate
[14:38:55] <bollu> eddyb: :) I'd assumed it would "infer" 
[14:38:56] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[14:39:03] <eddyb> no global inference
[14:39:17] <bollu> eddyb: yeah, I realized...
[14:39:57] <herrwolfe45> what is the reason for the using the 'a (i read that as a prime) syntax? 
[14:40:25] <eddyb> prime A? sounds like a potential show name
[14:40:34] <FreeFull> I think Vec's implementation involves *T
[14:40:56] <eddyb> and Rc
[14:41:02] <herrwolfe45> eddyb: do I have the naming incorrect?
[14:41:15] <eddyb> it's just a named lifetime
[14:41:25] <eddyb> do people have to read things out?
[14:41:39] <herrwolfe45> ah, I'll look at the docs for that
[14:41:40] <herrwolfe45> thanks
[14:41:48] <SiegeLord> The old syntax looked even worse >.>
[14:42:09] <eddyb> herrwolfe45: oh I thought you were asking for historical facts about the lifetime syntax *already knowing what it does*, my bad
[14:42:23] *** Quits: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca) (Quit: canhtak)
[14:42:39] <herrwolfe45> eddyb: no worries, I wasn't very clear. 
[14:44:13] <bollu> SiegeLord: what did the old syntax look like?
[14:44:33] <bollu> and yeah, I say "prime" too for the ' symbol - f, f prime, f double prime...
[14:44:58] *** Joins: victorporof_ (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[14:45:25] <eddyb> double prime? isn't it "second" or something like that?
[14:45:32] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Ping timeout)
[14:45:36] <SiegeLord> &lifetime/type
[14:45:44] <eddyb> ahh, the / in types
[14:45:51] <eddyb> str/n still looks a bit funky to me
[14:46:04] <bollu> eddyb: I don't know, that's how I've heard it said is all - my math prof used to say it that way so I picked it up 
[14:46:10] *** Joins: onelson (owen@1EEB87FF.8467815B.CED80046.IP)
[14:46:13] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[14:46:14] *** ChanServ sets mode: +o tjc
[14:46:17] <eddyb> x' (x prim) x'' (x secund)
[14:46:31] <eddyb> bollu: might be a language difference
[14:46:36] <bollu> eddyb: yeah, maybe.
[14:46:55] *** Quits: mye (mye@moz-698312B3.dip0.t-ipconnect.de) (Quit: mye)
[14:46:59] *** Joins: mye (mye@moz-698312B3.dip0.t-ipconnect.de)
[14:47:06] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: Textual IRC Client: www.textualapp.com)
[14:47:10] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[14:47:10] *** ChanServ sets mode: +o tjc
[14:47:14] <herrwolfe45> bollu: i got that from math as well
[14:47:15] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: tjc)
[14:47:52] *** Quits: lpy (lpy@F7AFA3.F09091A8.1348A864.IP) (Client exited)
[14:47:54] <bollu> herrwolfe45: interesting. 
[14:48:22] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[14:48:42] *** Quits: zmike (discomfito@moz-975BC507.hsd1.ct.comcast.net) (Ping timeout)
[14:48:48] <Boreeas> I'm running into problems with lifetimes: http://pastie.org/8911527 gives me http://pastie.org/8911539, however, I'm not sure what exactly rustc tries to infer a lifetime for?
[14:49:17] <SiegeLord> http://en.wikipedia.org/wiki/Prime_%28symbol%29
[14:49:29] *** Joins: zmike (discomfito@moz-975BC507.hsd1.ct.comcast.net)
[14:49:36] <eddyb> Boreeas: the answer is in your types
[14:49:44] <eddyb> there's obviously lifetimes *somewhere*
[14:49:53] *** Quits: Ms2ger (Ms2ger@moz-A9EA7292.ugent.be) (Ping timeout)
[14:50:02] <eddyb> Boreeas: what does push_opcode return?
[14:50:53] <eddyb> Although it is now more common to pronounce x″ and x‴ as "x double prime" and "x triple prime", these are still sometimes pronounced in the old manner as "x second" and "x third"
[14:50:57] <eddyb> yay living in the past
[14:51:07] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[14:51:15] <Boreeas> &'a mut CodeAttr
[14:51:31] <eddyb> Boreeas: you have to explicitly ignore the result
[14:51:54] <eddyb> { ...; }
[14:52:03] *** Quits: victorporof_ (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Ping timeout)
[14:52:14] <eddyb> Boreeas: or put ; after the inner match
[14:52:27] <eddyb> though that wouldn't work
[14:53:16] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[14:54:40] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[14:54:54] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:55:26] *** Joins: benjamin_____ (benjamin@moz-5CD216D9.dip0.t-ipconnect.de)
[14:55:45] *** Quits: benjamin_ (benjamin@moz-EBBAC24D.dip0.t-ipconnect.de) (Ping timeout)
[14:56:19] *** Parts: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net) ()
[14:56:32] *** Quits: ChrisOei (ChrisOei@moz-CE32A3A7.mycingular.net) (Ping timeout)
[14:56:45] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[14:57:31] *** Joins: alan_andrade (alan_andra@moz-5CEA5B40.hfc.comcastbusiness.net)
[14:57:34] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[14:57:56] <Boreeas> Lifetimes and borrowing still confuse the heck out of me
[14:59:12] <nstdloop> Can I borrow a ~ pointer in two different threads if I mark it immutable (or, rather, don't mark it mutable)?
[14:59:14] <mcpherrin> They're fairly unusual and definitely the weirdest part of rust
[14:59:27] <nstdloop> (at the same time)
[14:59:30] <eddyb> nstdloop: no, you have to use an Arc
[14:59:43] <eddyb> we don't have Share yet
[15:00:02] <nstdloop> Is it in the gameplan?
[15:00:09] <eddyb> soon
[15:00:11] *** Joins: MP2E (cray@moz-EB1E242D.lv.lv.cox.net)
[15:00:24] <nstdloop> Cool.
[15:00:28] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[15:01:23] <bollu> code critique please - https://github.com/bollu/equinox/blob/master/src/game/main_menu.rs I'm new to rust
[15:01:42] *** jdm|away is now known as jdm
[15:02:25] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[15:03:16] *** Quits: skade (skade@moz-F650E265.web.vodafone.de) (Connection reset by peer)
[15:04:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[15:04:14] *** Quits: onelson (owen@1EEB87FF.8467815B.CED80046.IP) (Ping timeout)
[15:04:30] *** Joins: onelson (owen@C668895F.36788A19.5625D66B.IP)
[15:04:52] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[15:04:59] <nstdloop> Is there a parsing framework in Rust?
[15:05:14] <nstdloop> (like has someone done the work already, I understand that it's possible)
[15:06:02] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[15:07:21] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[15:07:33] *** Quits: paldepind (simon@8C529550.87451125.F2979BBF.IP) (Quit: paldepind)
[15:09:09] *** Joins: ChrisOei (ChrisOei@moz-53A9266A.blurb.com)
[15:09:37] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[15:13:34] *** Joins: skade (skade@B0278B5A.505237C9.CAE22B62.IP)
[15:15:29] *** Joins: aochagavia (Mibbit@moz-C82E8769.static.ziggozakelijk.nl)
[15:15:42] <aochagavia> Why is this not allowed?: [~1, ..9]
[15:16:19] <aochagavia> (in 0.9)
[15:17:42] <aochagavia> hello?
[15:17:58] <SiegeLord> That syntax constructs the elements by copying them
[15:18:05] *** Joins: Erik_ (Erik_S@moz-6691E309.hlrn.qwest.net)
[15:18:07] <SiegeLord> When you copy ~1, it moves ownership
[15:18:22] <SiegeLord> So... you essentially only have 1 ~1, and 9 spots to fill with it
[15:18:26] <aochagavia> Why arent the elements cloned?
[15:18:27] *** Quits: aepsil0n (ebopp@moz-EF530DCB.ita.uni-heidelberg.de) (Ping timeout)
[15:18:39] <SiegeLord> Not sure, but it's just not how it is implemented
[15:18:52] <aochagavia> maybe that should change?
[15:18:57] *** Joins: andelf (fledna@983BB788.FB767B38.1CD28F1D.IP)
[15:19:32] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[15:19:42] <aochagavia> or is there a reason why it is better to use copy?
[15:19:47] <SiegeLord> I don't know of a reason why it's not done
[15:20:11] <aochagavia> what is the difference between copy and clone?
[15:21:04] <SiegeLord> copy is a shallow copy, and moves ownership for some types
[15:21:04] *** Joins: eibwen (kvirc@moz-48B987C8.dip0.t-ipconnect.de)
[15:21:13] <SiegeLord> clone can do whatever it wants, it's just a trait
[15:21:19] *** Joins: lawrence (lawrence@moz-BB3C54F8.wireless.utoronto.ca)
[15:21:21] <SiegeLord> It tends to create a brand new object
[15:21:44] <aochagavia> should I open an issue in github?
[15:21:56] <pczarn> but what's the difference between move and copy?
[15:22:17] <SiegeLord> You move ownership, you copy data
[15:22:26] <SiegeLord> They are separate concepts
[15:23:30] <alan_andrade> Hey Rusties, I'm reading the lifetimes guide and I don't know what's the difference between managed and owned boxes. Would you please tell me the general idea ?
[15:23:36] <SiegeLord> a = b does a copy, and for some types additionally moves ownership
[15:23:54] <pczarn> for types that are not Pod?
[15:24:26] *** Quits: zxcdw (r-a@F4A4796.FC390A29.3933CC16.IP) (Ping timeout)
[15:24:30] <SiegeLord> I don't know how clear cut it is, but Pod is a big class of types for which ownership is not moved
[15:25:13] <alan_andrade> Both are heap allocated, but one is on the exchange heap and the other one... ?  or am I lost ?
[15:26:08] <SiegeLord> I'd say not to worry about managed boxes, as they are sort of going away as a language feature
[15:26:14] <Tari> alan_andrade: put simply, an owned box is freed when it goes out of scope in its owner. A managed box may have multiple owners of a sort and is freed only when it has no owners
[15:26:38] <FreeFull> SiegeLord: I thought that if it wasn't POD, it only moved the ownership, and didn't copy
[15:26:55] <pczarn> FreeFull: I think so
[15:26:56] <SiegeLord> Every type in Rust can be copied
[15:27:22] <Tari> alan_andrade: but yes, forget @-boxes exist and use Rc<T> instead, since that's the way to do it going forward
[15:27:33] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[15:27:35] <FreeFull> What if it's neither POD nor Clone?
[15:27:37] <alan_andrade> Reference counted ?
[15:28:01] <SiegeLord> I don't think that's possible today...
[15:28:12] *** Quits: onelson (owen@C668895F.36788A19.5625D66B.IP) (Ping timeout)
[15:28:23] <SiegeLord> I guess it'll become possible with the opt-in kinds
[15:28:38] <SiegeLord> Well, no, I might be getting confused
[15:29:13] <alan_andrade> Why are the managed boxes left behind ?
[15:29:39] <SiegeLord> No, even non-POD can be copied
[15:30:07] <aochagavia> So, does anybody know why [~1, ..9] will copy the ~1 instead of cloning it?
[15:30:14] <SiegeLord> let mut a = &mut 1; let b = &mut 2; a = b;
[15:30:25] <SiegeLord> There is a copy and a transfer of ownership
[15:30:27] <Tari> alan_andrade: because Rc<T> does the same thing as a managed box (though I'm not familiar with the exact reason for dropping @)
[15:30:34] <SiegeLord> *move of ownership
[15:30:48] <SiegeLord> And &mut is not POD, and has no Clone
[15:31:20] *** Quits: erickt_ (etryzelaar@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[15:31:22] <eddyb> &mut can't be copied
[15:31:43] <SiegeLord> What is a = b; there if not a copy?
[15:31:48] <eddyb> it's a move
[15:31:56] <kimundi> aochagavia: clone is a library feature, not a language feature - the [elem, ..9] syntax is language, calling clone() is library. You can make a library feature know to the language with lang items, but the intention is to only do it where absolutely necessary
[15:32:09] <eddyb> SiegeLord: it's not really called a copy if it's a move
[15:32:19] <SiegeLord> It's confusing to call it a move when its a copy
[15:32:34] <SiegeLord> Clearly, bytes are being copied
[15:32:36] <eddyb> it's a "shallow copy", if you want to speak low-level
[15:32:43] <pczarn> a pointer is copied
[15:32:47] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[15:32:47] *** ChanServ sets mode: +o tjc
[15:32:52] <SiegeLord> Whenever I say copy, I mean a shallow copy
[15:32:55] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: tjc)
[15:32:57] <pczarn> semantics
[15:32:59] <eddyb> at the semantic level, copy implies being able to do (x, x)
[15:33:00] <kimundi> pczarn: No, not neccessarly a pointer
[15:33:08] *** Joins: aphistic (aphistic@moz-D08A46AA.erikd.org)
[15:33:09] <eddyb> while move transfers ownership
[15:33:10] <aochagavia> kimundi: the problem is that when you have owned pointers, you cannot use that syntax
[15:33:15] <eddyb> moves are always shallow copies
[15:33:31] <eddyb> clones can be deep copies, for uniquely owned data
[15:33:31] <SiegeLord> There are no non-shallow copies
[15:33:31] <aochagavia> kimundi: because it moves the ownership
[15:33:37] <eddyb> SiegeLord: clones
[15:33:40] <SiegeLord> That's a clone
[15:33:43] *** Parts: aphistic (aphistic@moz-D08A46AA.erikd.org) ()
[15:33:43] <eddyb> heck, we had a DeepClone
[15:33:48] <kimundi> aochagavia: correct, the syntax is not usable for any moving type
[15:33:53] *** Joins: aphistic (aphistic@moz-D08A46AA.erikd.org)
[15:33:54] <eddyb> which is deep deep copy
[15:34:08] <kimundi> aochagavia: In general calling clone() to solve such a problem is considered the last resort
[15:34:09] <eddyb> SiegeLord: clones are non-shallow copies
[15:34:20] *** Quits: mye (mye@moz-698312B3.dip0.t-ipconnect.de) (Quit: mye)
[15:34:20] <SiegeLord> That's an implementational detail
[15:34:22] <eddyb> at the semantic level, you have move, copy, clone
[15:34:26] <SiegeLord> I can make my clone do anything
[15:34:27] <alan_andrade> tari this is embarrassing but how do you create a Rc<T> ? Reading docs I think is like: Rc::new(thing) ?
[15:34:35] <eddyb> at the low level, you have shallow copies and deep copies
[15:34:40] *** Quits: pepper_chico (pepper_chi@moz-E15D42C8.dsl.telesp.net.br) (Quit: WeeChat 0.4.1)
[15:34:43] <eddyb> alan_andrade: yes
[15:34:58] <kimundi> aochagavia: We'd rather have a generic fixed_vec::from_fn(|| ~0) that gives you a [T, ..9] with 9 newly created owned boxes instead
[15:35:05] <eddyb> maybe box thing; in the future, hopefully not box(Rc) thing because that's a bit too verbose
[15:35:12] <kimundi> aochagavia: But right now we can'T express this in the type system
[15:35:23] *** Joins: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca)
[15:35:28] <eddyb> kimundi: we kinda can with tuples
[15:35:34] <aochagavia> kimundi: it is nice to know it is an issue
[15:35:45] <eddyb> kimundi: variadic tuples, that is :P
[15:35:53] <aochagavia> kimundi: because the current way is very limited
[15:36:29] <alan_andrade> Wonderful, thank you eddyb and tori , I believe I could update some guides since they still use @-boxes
[15:36:40] <eddyb> yupp get rid of them
[15:36:47] <alan_andrade> seek and destroy!
[15:36:53] <eddyb> sadly, with the workweek and my lazyness, the autoderef PR was delayed
[15:36:57] <alan_andrade> haha, no seriouslty, thanks
[15:37:13] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[15:37:14] <eddyb> maybe this weekend we'll start ripping @ from this universe
[15:37:36] <eddyb> I hope nobody gets there first and litters the AST with something as verbose and bloated as Rc
[15:38:35] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[15:38:36] <kimundi> eddyb: instead?
[15:38:38] <eddyb> (don't worry, it's usually fine, just that the AST has very specific constraints, mostly because there's just an enormous number of nodes)
[15:39:11] <eddyb> kimundi: I'll implement a specialized Rc<T> as SmallRc<T> or something similar and it will be used via P<T>
[15:39:11] *** Joins: q66_ (q66@moz-DF53ED3A.range86-152.btcentralplus.com)
[15:39:31] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[15:39:31] *** Joins: dradtke (dradtke@moz-849051B9.il.subnet.cable.rcn.com)
[15:39:37] <eddyb> I never got around to replacing @T with P<T> = @T, so I'll have to do it when I introduce a real type behind P<T>
[15:39:46] <kimundi> eddyb: specialized with what?
[15:40:07] *** Quits: q66 (q66@moz-DF53ED3A.range86-152.btcentralplus.com) (Ping timeout)
[15:40:31] <eddyb> no weak ref support, small refcount (also doesn't have to be at the start because it doesn't need to support DST)
[15:40:35] <aochagavia> Why is ~[T] being dropped?
[15:40:46] <dradtke> Does anyone know why DList's push_back() method is private? I can't find any way to insert an element into the list unless I offer a dummy method to insert_when()
[15:40:47] <aochagavia> what will we use instead?
[15:40:49] *** Joins: lpy (lpy@54AA05A8.F09091A8.1348A864.IP)
[15:40:49] *** Quits: IanCormac841 (User@93A65D51.64D641E5.67DFF8B4.IP) (Ping timeout)
[15:40:52] <eddyb> aochagavia: because it will mean something different under DST
[15:40:55] <eddyb> Vec<T>
[15:40:57] *** Joins: IanCormac84 (User@841D33B0.2A8D8854.67DFF8B4.IP)
[15:41:14] <eddyb> kimundi: in-place folding (which should produce interesting results if I get it to work. might require duplicating syntax::fold)
[15:41:28] <aochagavia> eddyb: what is DST?
[15:41:43] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[15:41:43] *** Quits: twi (Adium@moz-70F4B29C.business.telecomitalia.it) (Quit: Leaving.)
[15:41:54] *** Quits: murph (murph@moz-19DE15A7.oracle.com) (Ping timeout)
[15:42:02] <bollu> yay! I can answer this aochagavia : DST = dynamically sized types
[15:42:09] *** Quits: mindcat (mindcat@981CE82F.7EE3DE8.F956842C.IP) (Ping timeout)
[15:42:09] <eddyb> kimundi: you need support in the shared pointer to implement in-place folding
[15:42:22] <eddyb> kimundi: also in all the containers you have (that will be fun)
[15:42:29] *** Quits: Erik_ (Erik_S@moz-6691E309.hlrn.qwest.net) (Ping timeout)
[15:42:36] <eddyb> aochagavia: http://smallcultfollowing.com/babysteps/blog/2014/01/05/dst-take-5/
[15:42:42] *** Joins: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP)
[15:43:03] *** ryeguy is now known as rlepidi
[15:43:03] *** Quits: rlepidi (ryeguy@9C569A0.5D1143CD.E8644521.IP) (Quit: )
[15:43:12] *** Quits: Ferreus (ferreus@moz-942E24F4.dip0.t-ipconnect.de) (Ping timeout)
[15:43:34] *** Joins: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP)
[15:43:48] <aochagavia> is ~str also going to dissapear?
[15:43:51] <eddyb> yupp
[15:44:45] <eddyb> kimundi: but passes like cfg and ast mapping shouldn't ever call to "malloc" (for AST nodes)
[15:44:46] <aochagavia> in 0.9 it doesn't work because [T] would be in the stack?
[15:44:54] *** Joins: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net)
[15:45:02] <aochagavia> and then it would not be able to append elements?
[15:45:07] <eddyb> it's unrelated to 0.9
[15:45:13] <eddyb> [T] is currently not a type
[15:45:24] <eddyb> under DST, it will become an unsized type
[15:45:29] <aochagavia> ok
[15:45:39] <aochagavia> and will replace ~[T]
[15:45:58] <eddyb> not [T]
[15:46:18] <eddyb> the DST ~[T] will be a dynamic sized array, but not growable. we have Vec<T> for that
[15:46:31] *** Joins: mindcat (mindcat@45814CCF.B1E12A5D.57E3C596.IP)
[15:46:38] <aochagavia> hmmm
[15:46:38] <edwardw> rusti: fn shorthen<'a, 'b>(x: &'b Option<&'a int>) -> Option<&'b int> {*x}
[15:46:39] -rusti- pastebinned 11 lines of output: http://sprunge.us/KdNC
[15:47:10] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[15:47:19] *** Quits: IanCormac84 (User@841D33B0.2A8D8854.67DFF8B4.IP) (Ping timeout)
[15:47:29] <aochagavia> ok
[15:47:43] <edwardw> eddyb: ^^ I got your distilled example compiled locally :) but I'm not sure whether the fix makes sense or not
[15:48:02] <eddyb> edwardw: talk to nmatsakis ;)
[15:48:08] *** Quits: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca) (Quit: canhtak)
[15:48:09] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[15:48:22] <aochagavia> eddyb: what will be the changes for ~str?
[15:48:28] *** Quits: mouse (mouse@moz-373942D2.dhcp.yndx.net) (Ping timeout)
[15:48:28] <edwardw> yeah, I'll leave a comment in #3598
[15:48:44] *** Joins: flan3002 (flan3002@615E86CD.6062171A.1A5CC7E5.IP)
[15:48:54] <eddyb> edwardw: he's awake
[15:49:01] *** Quits: aochagavia (Mibbit@moz-C82E8769.static.ziggozakelijk.nl) (Quit: http://www.mibbit.com ajax IRC Client)
[15:49:09] *** Joins: aochagavia (Mibbit@moz-C82E8769.static.ziggozakelijk.nl)
[15:49:11] <edwardw> ah great
[15:49:26] <eddyb> east US coast or something like that, see #rust-internals
[15:49:28] *** Joins: IanCormac84 (User@841D33B0.2A8D8854.67DFF8B4.IP)
[15:49:38] <flan3002> Can I reference a module upwards in the file hierarchy? Like mod super::tween;?
[15:49:59] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[15:50:05] *** Quits: MP2E (cray@moz-EB1E242D.lv.lv.cox.net) (Quit: brb)
[15:51:37] *** Joins: samx (sami@3EB32A7C.10A53EE3.77834EAA.IP)
[15:51:37] *** Quits: mno2 (mno2@moz-3506EAC7.singnet.com.sg) (Quit: mno2)
[15:52:10] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:52:26] *** Quits: samx (sami@3EB32A7C.10A53EE3.77834EAA.IP) (Quit: This computer has gone to sleep)
[15:52:45] <kimundi> aochagavia: ~str will get removed, because DST enables str to be defined in the library. Currently, it looks like we will get the unsized type Str and the regular type StrBuf, with StrBuf being analogue to todays ~str
[15:53:06] <kimundi> removed from the compiler, that is
[15:53:38] *** Quits: rweir (rob@moz-B98DF6FB.members.linode.com) (Ping timeout)
[15:55:23] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[15:55:42] <aochagavia> so str will be immutable?
[15:55:48] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[15:56:00] <aochagavia> or, at least, will not be allowed to grow?
[15:56:01] *** Joins: lunaryorn (lunaryorn@moz-9D62EE2F.dynamic.mnet-online.de)
[15:57:01] *** Joins: rweir (rob@moz-B98DF6FB.members.linode.com)
[15:57:26] *** Quits: iopq (Instantbir@moz-8CB45329.hsd1.ca.comcast.net) (Quit: Instantbird 1.5 -- http://www.instantbird.com)
[15:58:23] *** Joins: eholk (eric@moz-F70D5031.hsd1.in.comcast.net)
[15:58:57] *** Joins: twi (Adium@moz-70F4B29C.business.telecomitalia.it)
[15:59:01] *** Quits: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP) (Quit: )
[15:59:18] <alan_andrade> https://gist.github.com/alan-andrade/9509854   How to pass Rc<T> as argument ?
[15:59:38] *** Quits: lawrence (lawrence@moz-BB3C54F8.wireless.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:59:51] <flan3002> Can I reference a module upwards in the file hierarchy? Like mod super::tween;?
[16:01:23] *** Joins: murph (murph@moz-B6DD0228.oracle.com)
[16:02:55] *** Joins: tedh_ (tedh@moz-F3B34318.hsd1.il.comcast.net)
[16:03:11] <rdgawdzi> What is the recommended action for the following: I want to refactor a function, but this said function is called 75 times elsewhere. A default/optional parameter would work if it existed in Rust. Create a clone of the said function?
[16:03:16] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Ping timeout)
[16:03:20] <Tari> alan_andrade: not sure what you want to do, but if you want to increment the ref count, clone your Rc
[16:03:33] *** Joins: nbsdx (neil@moz-B75229F5.ma.res.rr.com)
[16:03:37] *** Quits: IanCormac84 (User@841D33B0.2A8D8854.67DFF8B4.IP) (Ping timeout)
[16:03:40] <kimundi> aochagavia: mutability doesn't really change, and theoretically you could still grow a ~Str, it just would be O(n) instead of amortized (1)
[16:03:44] <kimundi> O(1)*
[16:04:32] *** Joins: IanCormac84 (User@BF4B7ACD.64D641E5.67DFF8B4.IP)
[16:04:33] <kimundi> growability really just refers to _efficient_ growability
[16:04:59] *** Joins: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[16:05:02] <alan_andrade> tari, I see that in the guide, a method signature is as follows: (point: &Point)
[16:05:30] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[16:05:30] *** Joins: lawrence (lawrence@moz-BB3C54F8.wireless.utoronto.ca)
[16:05:39] <alan_andrade> The guide explains how to pass managed/owned boxes into that function.
[16:05:50] *** Joins: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP)
[16:06:13] <krdln> I'm trying to make a struct Callback<'a> {   arg: &'a |&str| -> *c_void }, but rustc says "missing lifetime specifier". I don't get it.
[16:06:14] <alan_andrade> with a stack allocated value, you have to manually use the & to denote you want the reference
[16:06:41] <alan_andrade> whereas with a managed/owned box, it seems to do it automatically ?
[16:06:51] <flan3002> krdln: Maybe missing lifetime of the &str?
[16:06:53] <alan_andrade> that's essentially my doubt.
[16:07:07] <Tari> Rc::new returns an unboxed Rc<T>, which goes on the stack
[16:07:23] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:07:27] <krdln> flan3002: I tried, it doesn't help. And it doesn't make sense too.
[16:08:04] <Tari> fn echo(value: &Rc<int>) { .. } echo(&rc);
[16:08:20] <krdln> rustc underlines "|&str| -> *c_void" in "missing lifetime specifier" error message
[16:08:34] <kimundi> Rc<T> is basically just a pointer to a T, like &T, ~T or *T
[16:09:00] <kimundi> Rust currently implements coercion between some pointers, but not between value -> pointer to value
[16:09:25] <flan3002> krdln: And struct Callback<'a, 'b> { arg: &'a |&'b str| -> *c_void } doesn't work?
[16:09:33] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[16:09:53] <kimundi> does struct Callback<'a, 'b> { arg: &'a <'b> |&'b str| -> *c_void } work?
[16:10:02] <krdln> flan3002: no, same error.
[16:10:04] <kimundi> aah
[16:10:11] *** Quits: q66_ (q66@moz-DF53ED3A.range86-152.btcentralplus.com) (Ping timeout)
[16:10:31] <alan_andrade> tari kimundi whoa, I see.
[16:10:36] <kimundi> &'a || might be parsed as &('a ||), which means it complains about the & missng a lifetime specifier
[16:10:55] <kimundi>  struct Callback<'a, 'b> { arg: &'a 'a |&'b str| -> *c_void } might also work :P
[16:11:18] <kimundi> (this is a bug, and will be fixed)
[16:11:18] <pczarn> Can I compile and use a dynamic lib with modified rustc-stage1?
[16:11:48] <kimundi> pczarn: Its a full fledged rustc, so you can do the same as a rustc from stage2 with it
[16:11:58] <krdln> kimundi: "&'a 'a |&str| -> *c_void" worked, thanks :)
[16:12:05] <pczarn> "libasm_ext-d4e02a79-0.0.so: undefined symbol: _ZN3ext4base32BasicMacroExpander.MacroExpander6expand20h493266aa65952cadeBN9v0.10.preE"
[16:12:42] <kimundi> krdln: Note that it is a bug that that parses at all, and will be removed in the future
[16:12:58] <kimundi> Just as a warning
[16:13:15] *** Quits: lpy (lpy@54AA05A8.F09091A8.1348A864.IP) (Connection reset by peer)
[16:13:16] *** Joins: capt_redbeard (Adium@DB2C9DC7.4C4D3098.18422E69.IP)
[16:14:25] <nbsdx> I'm trying to change stdout for a program; is stdio::set_stdout the recommended way to do that? I only ask because it isn't working for me.
[16:14:27] <krdln> kimundi: "that that parses at all". So you mean &'a|| is an error and even when the bug will be fixed we will have to write 'a 'a?
[16:14:44] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:14:59] <kimundi> krdln: No, the fact that 'a || parses and causes you that problem is the bug
[16:15:20] <kimundi> It will be something like ||:'a in the future afaik
[16:15:22] <capt_redbeard> So I am having trouble with the fact that Rust doesn't have any concept of Null. I am wanting to have structures where certain variables may not have any value for awhile, but it is needed later. What is the correct way to handle this in Rust?
[16:15:58] <kimundi> capt_redbeard: The Option type
[16:16:04] <flan3002> capt_redbeard: Option. You have Some and None as a union type.
[16:16:06] *** Quits: valentin (Thunderbir@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[16:16:13] <kimundi> rusti: let x: Option<int> = None; x
[16:16:13] -rusti- None
[16:16:20] <kimundi> rusti: let x: Option<int> = Some(413); x
[16:16:21] -rusti- Some(413)
[16:16:33] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[16:16:41] <kimundi> In combination with a pointer type it even optimizes to a nullable pointer internally.
[16:17:04] <capt_redbeard> So can I have that in a structure upon creation? Like I may need a lot of "instance variables" in a structure when I create it.
[16:17:22] <YourBestFriend> I can't wait for rust to reach version 1.0
[16:17:22] <capt_redbeard> kimundi: So having &Option<T> = None; for example will make it a nullable pointer internally?
[16:17:41] <kimundi> capt_redbeard: No, something like Option<&T>
[16:18:23] <kimundi> rusti: let x: Option<&int> = unsafe { ::std::Cast::transmute(0u) }; x
[16:18:24] -rusti- pastebinned 11 lines of output: http://sprunge.us/HQjA
[16:18:30] <kimundi> rusti: let x: Option<&int> = unsafe { ::std::cast::transmute(0u) }; x
[16:18:32] -rusti- None
[16:18:41] <flan3002> So, if I have a directory 'src' and a file 'lib.rs' in it, and a directory 'examples' in 'src' with 'example_multi.rs' in it, and I compile with 'rustc -L .. example_multi.rs' from 'examples', it should work?
[16:19:03] <capt_redbeard> kimundi: Ok awesome. Thank you!
[16:19:53] <kimundi> flan3002: what should work?
[16:20:03] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[16:20:07] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[16:20:19] <pczarn> flan3002: I think -L __ applies to libraries, not source files
[16:20:21] <flan3002> Compilation should not about with 'file not found for module 'tween'.
[16:20:36] <flan3002> pczarn: What is the flag for source file then? :)
[16:21:08] <flan3002> *abort
[16:21:38] <pczarn> you need something like: #[path = "../lib.rs"] mod lib;
[16:21:59] <kimundi> flan3002: You only give rustc the crate root, and it should contain all modules and annotation so that it can find the source files automatically.
[16:22:18] <krdln> Lack of auto-deref when accessing fields of *T is bug or feature?
[16:22:19] <aochagavia> How are this things called? #[no_std]; #[no_implicit_prelude]; etc
[16:22:21] *** Quits: Zr40 (zr40@moz-CCFEAB92.adsl.xs4all.nl) (Ping timeout)
[16:22:34] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[16:22:34] *** Joins: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[16:22:47] <kimundi> krdln: Feature, *T is treated very conservatively.
[16:23:03] <kimundi> aochagavia: attributes
[16:23:08] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[16:23:09] <flan3002> pczarn: That worked... Weird thing to me, coming from Java.
[16:23:37] <pczarn> flan3002: better compile with 'rustc lib.rs'
[16:23:44] *** Quits: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: mbx)
[16:23:48] *** Quits: edwardw (edwardw@F3BE8D26.1B2F6624.7F41E82D.IP) (Connection reset by peer)
[16:24:04] *** Quits: capt_redbeard (Adium@DB2C9DC7.4C4D3098.18422E69.IP) (Ping timeout)
[16:24:04] *** Joins: janra (Janus@1CDC5701.A48867D7.52E4E107.IP)
[16:24:26] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[16:24:30] <flan3002> pczarn: But what if I actually want to run the executable from example_multi.rs?
[16:24:42] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[16:24:51] *** Joins: edwardw (edwardw@BB690835.D7DB55D8.50B134B9.IP)
[16:24:57] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[16:25:01] *** Joins: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[16:25:19] <pczarn> flan3002: what executable? Compile two crates.
[16:25:31] <krdln> kimundi: And I see that closures aren't auto-dereferenced too.
[16:25:31] *** Quits: alexherb1 (alexherbo2@moz-A456CD9C.w83-199.abo.wanadoo.fr) (Quit: WeeChat 0.4.3-dev)
[16:25:37] <aochagavia> How are this things called? #[no_std]; #[no_implicit_prelude]; etc
[16:25:42] <pczarn> language items?
[16:25:50] <kimundi> krdln: what do you mean?
[16:25:55] <kimundi> aochagavia: attributes
[16:25:56] *** Joins: joaoportela (joaoportel@moz-D9077293.dsl.telepac.pt)
[16:25:57] <kimundi> (again)
[16:25:58] *** Quits: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de) (Quit: Leaving)
[16:26:01] *** Joins: capt_redbeard (Adium@6F905A68.92C60F1B.18422E69.IP)
[16:26:03] <mrmonday> why might I end up with this error? (my code is in libstd, they should be the same types...) error: mismatched types: expected: `io::net::raw::NetworkInterface` but found `std::io::net::raw::NetworkInterface` (expected struct io::net::raw::NetworkInterface but got std::io::net::raw::NetworkInterface)
[16:26:06] <aochagavia> kimundi: where can I find information about thm?
[16:26:08] <mrmonday> (sorry if the error is slightly wrong, copy/paste doesn't seem to be working for me right now)
[16:26:12] *** Quits: capt_redbeard (Adium@6F905A68.92C60F1B.18422E69.IP) (Quit: Leaving.)
[16:26:12] <bjz> mrmonday: you made it!
[16:26:15] <bjz> o/
[16:26:16] <pczarn> aochagavia: manual
[16:26:18] <krdln> kimundi: I'm trying to call "arg: &'a 'a |&str| -> *c_void" and I have to dereference
[16:26:28] *** Joins: q66_ (q66@moz-DF53ED3A.range86-152.btcentralplus.com)
[16:26:40] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Ping timeout)
[16:26:42] <flan3002> Well, lib.rs obviously contains a library, and I want to use that one from a file "below" the library.
[16:26:47] <kimundi> krdln: Ah, call operator might indeed not dereference automatically
[16:26:52] <bjz> mrmonday: that is kinda odd
[16:26:58] <mrmonday> it is, yes!
[16:27:04] <mrmonday> glad I'm not the only one that thinks that
[16:27:19] <bjz> mrmonday: did you do the full std:: path?
[16:27:34] <bjz> because you don't need that inside libstd
[16:27:37] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[16:27:37] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[16:27:38] <mrmonday> I've played around with a few different paths and continue to get the same error
[16:27:57] <nstdloop> Am I correct in thinking that Rust's treatment of operators is very similar to Pythons, i.e. there are a set number you can overload with specific keywords and that's it?
[16:28:11] <kimundi> mrmonday: Note the difference between those two: one is in a std module, and the other in a io modules. I assume this error happens in a test function?
[16:28:21] <kimundi> nstdloop: yes
[16:28:24] <flan3002> nstdloop: Yes, and I think it's good.
[16:28:42] <flan3002> nstdloop: C++ does the same thing.
[16:28:47] <mrmonday> kimundi: yeah, I'm getting the error in std::io::net::raw::test::get_test_interface()
[16:29:02] <nstdloop> thanks
[16:29:05] *** Quits: aochagavia (Mibbit@moz-C82E8769.static.ziggozakelijk.nl) (Quit: http://www.mibbit.com ajax IRC Client)
[16:29:17] <flan3002> pczarn: Well, lib.rs obviously contains a library, and I want to use that one from a file "below" the library.
[16:29:21] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[16:29:21] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[16:29:25] <pczarn> flan3002: Rust-level paths are different than filesystem-level directories, even though 'mod' infers the filesystem path by default. So the fact that a file is "below" the library is meaningless. 
[16:29:31] *** Quits: lawrence (lawrence@moz-BB3C54F8.wireless.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:29:38] <kimundi> mrmonday: the error is most likely that your writing a test, and are pulling in both the real standard library through an "extern mod std;", and the content of the stdtest crate your writing the test in
[16:30:21] <mrmonday> kimundi: how would I track that down so I can fix it?
[16:30:29] *** Joins: erickt (etryzelaar@moz-A9F9654D.keplers.com)
[16:30:31] *** Quits: sigma (sigma@moz-55097A0B.range86-163.btcentralplus.com) (Client exited)
[16:30:35] <flan3002> pczarn: But then I have to hardcode paths into the sourcecode...
[16:30:44] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[16:30:45] <kimundi> mrmonday: that is, if std gets compiled for tests, that results in a separate executable from the actual library, with effectively copies of the content of whole libstd
[16:30:57] *** Quits: edwardw (edwardw@BB690835.D7DB55D8.50B134B9.IP) (Quit: Leaving...)
[16:31:05] <pczarn> flan3002: see how some libraries do this. I can think of https://github.com/thestinger/rust-core for example
[16:31:49] *** Quits: alan_andrade (alan_andra@moz-5CEA5B40.hfc.comcastbusiness.net) (Input/output error)
[16:32:02] <kimundi> mrmonday: you need to make sure that the test only uses types of either the stdtest crate, or the std crate (both contain identical definitions)
[16:32:15] *** Joins: alan_andrade (alan_andra@moz-5CEA5B40.hfc.comcastbusiness.net)
[16:32:28] *** Quits: skade (skade@B0278B5A.505237C9.CAE22B62.IP) (Ping timeout)
[16:32:31] *** Joins: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca)
[16:32:33] <kimundi> mrmonday: I'd start with making sure you use nothing that got imported with a use std::...
[16:32:54] <mrmonday> my best guess up to now was that it was some weird interaction between crates (std::io::net::raw::test::get_network_interface() calls netsupport::get_network_interfaces() which returns a Vec<std::io::net::raw::NetworkInterface>)
[16:33:27] *** Joins: skade (skade@B0278B5A.505237C9.CAE22B62.IP)
[16:33:30] *** Quits: erickt (etryzelaar@moz-A9F9654D.keplers.com) (Ping timeout)
[16:33:34] *** Quits: japaric (japaric@66349AB0.E05ED48F.F29ED47E.IP) (Ping timeout)
[16:34:00] *** Quits: alan_andrade (alan_andra@moz-5CEA5B40.hfc.comcastbusiness.net) (Ping timeout)
[16:34:00] *** Quits: flan3002 (flan3002@615E86CD.6062171A.1A5CC7E5.IP) (Ping timeout)
[16:34:03] *** Joins: japaric (japaric@4DDCA20.F60EC59D.F29ED47E.IP)
[16:34:08] <kimundi> mrmonday: if the test involves interaction with external crates, then you need to make sure everything uses the real std library definitions instead
[16:34:22] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[16:34:34] <kimundi> which involves explicitly importing everything you use with a "use std::..."
[16:34:43] *** Joins: edwardw (edwardw@D286B842.1B2F6624.7F41E82D.IP)
[16:35:06] <mrmonday> so in the test module I should prefix with std:: then?
[16:35:56] *** Quits: wolfwood (wolfwood@moz-A19F104D.pitbpa.fios.verizon.net) (Ping timeout)
[16:36:02] <kimundi> yes, _if_ you use external libraries, because then you have no other choice
[16:36:20] *** Quits: wilkie (wilkie@moz-A19F104D.pitbpa.fios.verizon.net) (Connection reset by peer)
[16:36:23] <doomlord_> anyone here know theiir way around emacs rust-mode / how that mode does color coding .. 
[16:36:27] <kimundi> if everything is local to libstd itself, then both works
[16:36:36] <mrmonday> ok, I'll try that
[16:38:18] *** Joins: flan3002 (flan3002@moz-E0853D96.superkabel.de)
[16:39:26] *** Joins: echristo (echristo@3246441A.D6CCE4AE.77834EAA.IP)
[16:39:36] *** Joins: andrewd18 (andrew@moz-DAC9D29F.wi.res.rr.com)
[16:40:13] *** Quits: aravindavk (aravinda@CD39A371.2FE5B3A1.E5F05D4F.IP) (Quit: Leaving)
[16:40:40] <nstdloop> This is kind of a dumb question but... what is the power operator?
[16:40:55] <flan3002> Use std::f64::pow.
[16:41:02] <flan3002> For f64 of course...
[16:41:10] <nstdloop> What about for i64s
[16:41:17] <nstdloop> std::i64::pow?
[16:42:01] *** Quits: twi (Adium@moz-70F4B29C.business.telecomitalia.it) (Quit: Leaving.)
[16:42:04] <flan3002> nstdloop: http://static.rust-lang.org/doc/master/std/f64/fn.pow.html
[16:42:21] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[16:42:22] <flan3002> There is a search box up there. Just type in 'pow'.
[16:42:40] <nstdloop> Oh. Thanks
[16:42:50] *** Joins: Kruppe (user@moz-6B573707.dynamic.uwaterloo.ca)
[16:43:48] <pczarn> you can type 's pow'
[16:44:33] *** Joins: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk)
[16:44:34] <pczarn> I have a question about liveness. Am I right that the order of write_lvalue and propagation matters?
[16:45:24] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[16:46:04] *** Quits: skade (skade@B0278B5A.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:46:15] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[16:46:20] <pczarn> I mean, lvalue vs expr
[16:48:14] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[16:48:15] * flan3002 sees himself using the builder pattern as a substitution for optional parameters and would really like them have them now.
[16:48:18] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[16:49:31] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[16:49:52] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:50:00] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[16:50:47] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[16:51:30] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[16:52:09] *** Joins: Ferreus (ferreus@moz-AAB0D1B2.lsn.wtnet.de)
[16:52:32] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[16:53:12] *** Quits: eholk (eric@moz-F70D5031.hsd1.in.comcast.net) (Quit: Konversation terminated!)
[16:53:16] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[16:53:54] *** Quits: Kxepal (Miranda@moz-A34EDBE5.pppoe.mtu-net.ru) (Ping timeout)
[16:54:57] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[16:55:18] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[16:56:03] *** Joins: victorporof_ (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[16:56:05] *** Joins: Kxepal (Miranda@moz-E7D8C0DD.pppoe.mtu-net.ru)
[16:56:10] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[16:56:18] *** Joins: eholk (eric@moz-F70D5031.hsd1.in.comcast.net)
[16:56:44] *** Quits: Sorella (quildreen@89788746.FDF9B0F2.A95FAE2B.IP) (Ping timeout)
[16:56:49] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Ping timeout)
[16:57:08] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Ping timeout)
[16:57:09] *** Quits: eholk (eric@moz-F70D5031.hsd1.in.comcast.net) (Quit: Konversation terminated!)
[16:58:36] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[16:59:28] *** Quits: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de) (Quit: Leaving.)
[17:00:00] <nstdloop> How can I do a mutable 'pop' on a ~[]? I tried to do var.mut_pop_ref() but that tells me that ~[<V12>] doesn't implement that trait.
[17:00:09] <nstdloop> (the variable is declared with mut)
[17:00:11] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[17:01:19] *** Joins: wilmoore (wilmoore@moz-1248C037.mystrotv.com)
[17:01:29] *** Joins: lpy (lpy@54AA05A8.F09091A8.1348A864.IP)
[17:02:07] <edwardw> rusti is offline o_O
[17:02:44] <kimundi> edwardw: It runs on strcats laptop, so it happens
[17:02:45] *** Joins: Sorella (quildreen@89788746.FDF9B0F2.A95FAE2B.IP)
[17:02:45] *** Quits: rileyw (rileyw@moz-E40BCEED.hsd1.ca.comcast.net) (Ping timeout)
[17:02:51] <mcpherrin> edwardw: it's just running on strcat's laptop I think, so not the best uptime
[17:03:02] *** Quits: Kynes (Kynes@moz-3DC6C6E7.mit.edu) (Quit: Leaving)
[17:03:03] <kimundi> nstdloop: What do you mean with mutable pop?
[17:03:04] <sfackler> nstdloop: what do you mean by mutable pop? how would that be different from var.pop()?
[17:03:24] *** Quits: not_gavin (gavin@E04DED12.5AA33DAB.2321E71E.IP) (Ping timeout)
[17:03:26] <mcpherrin> I was thinking of running a copy on another laptop for a redundant array of inexpensive rustis
[17:03:28] <nstdloop> I mean I'm not really sure what I'm doing and trying to do the equivalent of python's .pop()
[17:03:43] <kimundi> nstdloop: In that case just use pop()
[17:03:59] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[17:04:04] <kimundi> nstdloop: But not that the vector needs to be in a mutable location, like a mutable variables, or behind a &mut reference
[17:04:09] <kimundi> note*
[17:04:16] <edwardw> syntax::util::opt_vec has a `pop`
[17:04:26] <nstdloop> Ok thanks
[17:04:38] <kimundi> edwardw: regular Vec<T> a,d ~[T] has too
[17:05:00] <edwardw> but not Iterator?
[17:05:20] <sfackler> edwardw: isn't that just next()?
[17:05:23] <kimundi> Iterator is something different from a vector, how is the question related?
[17:05:26] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[17:06:40] <edwardw> kimundi: point taken. I didn't read the OP very closely then
[17:07:08] <kimundi> I guess technically a next() or next_back() on a move iterator created from a vector does something like pop() internally, but thats really just a special cases
[17:07:30] *** Joins: not_gavin (gavin@E04DED12.5AA33DAB.2321E71E.IP)
[17:07:45] *** Quits: marianoguerra (marianogue@moz-75C9ECC6.hsi14.kabel-badenwuerttemberg.de) (Ping timeout)
[17:09:57] *** Quits: fmtq (fmt@moz-5769BD38.static.tpgi.com.au) (Ping timeout)
[17:10:20] *** Joins: skade (skade@B0278B5A.505237C9.CAE22B62.IP)
[17:10:21] *** Joins: fmtq (fmt@moz-5769BD38.static.tpgi.com.au)
[17:10:23] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[17:10:39] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[17:10:45] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[17:10:51] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:10:54] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[17:11:22] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[17:11:57] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[17:12:00] *** Quits: skade (skade@B0278B5A.505237C9.CAE22B62.IP) (Ping timeout)
[17:12:09] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[17:15:10] *** Joins: IanCormac841 (User@514BD245.2A8D8854.67DFF8B4.IP)
[17:15:15] *** Quits: IanCormac84 (User@BF4B7ACD.64D641E5.67DFF8B4.IP) (Ping timeout)
[17:16:25] <nstdloop> I just ported a pretty complicated algorithm from python to rust. Running time down from 18.7 s to 0.3 s. That's a gain of *62.
[17:16:40] <kimundi> nice
[17:16:46] <joelteon> try being better at python
[17:16:47] * nstdloop officially impressed.
[17:16:49] <SiegeLord> Pretty neat
[17:17:05] *** Quits: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[17:17:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[17:17:29] <mrmonday> kimundi: I get a lot of unresolved imports with the std:: prefix - is there something else I have to do?
[17:17:50] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[17:18:21] *** eatkinson-away is now known as eatkinson
[17:18:23] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[17:19:00] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:19:06] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[17:19:09] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[17:19:18] <kimundi> mrmonday: Hm, I need mor context at this point
[17:19:41] <kimundi> can you link to your code?
[17:20:02] *** Joins: marianoguerra (marianogue@moz-C2CC5C44.dip0.t-ipconnect.de)
[17:21:25] *** Joins: huseby (huseby@moz-9D57B0ED.dhcp.embarqhsd.net)
[17:21:30] <huseby> uh oh
[17:22:09] <huseby> bootstrapping rust master x86_64-unknown-freebsd on a stock 64-bit FreeBSD 10 machine doesn't work
[17:22:32] <huseby> it fails to link when building stage0
[17:24:52] <huseby> http://pastebin.com/PBfiF99Y
[17:26:05] *** Quits: andelf (fledna@983BB788.FB767B38.1CD28F1D.IP) (Quit: This computer has gone to sleep)
[17:26:10] *** Joins: twi (Adium@moz-ED056769.cust.vodafonedsl.it)
[17:26:57] *** Joins: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP)
[17:27:00] *** Quits: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP) (Client exited)
[17:27:06] <mrmonday> kimundi: http://sprunge.us/SSVf <= that's a diff against mrmonday/raw-socket-support on github (haven't committed it yet I'm afraid) interesting things are get_test_interface() in std::io::net::raw::test and possibly netsupport::get_test_interfaces()
[17:27:20] *** Joins: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP)
[17:27:34] *** Joins: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[17:28:28] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[17:28:54] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[17:29:33] *** Quits: japaric (japaric@4DDCA20.F60EC59D.F29ED47E.IP) (Quit: WeeChat 0.4.2)
[17:30:08] *** Quits: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk) (Ping timeout)
[17:32:24] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[17:32:29] <cmr> A much belated http://cmr.github.io/blog/2014/03/11/this-week-in-rust/
[17:32:34] *** Quits: lunaryorn (lunaryorn@moz-9D62EE2F.dynamic.mnet-online.de) (Quit: Textual IRC Client: www.textualapp.com)
[17:32:58] <cmr> Note that it's last week... so things that happened this week (such as the RFC announcement) are not included.
[17:33:07] *** Quits: victorporof_ (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Ping timeout)
[17:33:19] *** Joins: japaric (japaric@4DDCA20.F60EC59D.F29ED47E.IP)
[17:33:32] *** Quits: lpy (lpy@54AA05A8.F09091A8.1348A864.IP) (Client exited)
[17:33:39] <kimundi> mrmonday: You forgot to switch the three use lines inside of get_test_interface to std
[17:33:44] *** Quits: Ferreus (ferreus@moz-AAB0D1B2.lsn.wtnet.de) (Ping timeout)
[17:34:08] *** Joins: lpy (lpy@54AA05A8.F09091A8.1348A864.IP)
[17:34:22] <kimundi> mrmonday: Any you might to need to add "extern crate std;" next to "extern crate netsupport;"
[17:34:50] *** Quits: lpy (lpy@54AA05A8.F09091A8.1348A864.IP) (Connection reset by peer)
[17:34:55] *** Quits: japaric (japaric@4DDCA20.F60EC59D.F29ED47E.IP) (Quit: WeeChat 0.4.2)
[17:35:05] *** Joins: mr_boo (Mibbit@moz-244CF33A.amazon.com)
[17:35:15] *** Joins: japaric (japaric@4DDCA20.F60EC59D.F29ED47E.IP)
[17:35:18] <mr_boo> Hey where did extra::arc go in master?
[17:35:24] <cmr> mr_boo: libsync
[17:35:32] <cmr> mr_boo: http://static.rust-lang.org/doc/master/index.html
[17:35:48] *** Joins: chenyang (user@moz-E57448EF.airbears2.berkeley.edu)
[17:36:09] *** Quits: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net) (Ping timeout)
[17:36:36] <mrmonday> kimundi: I'll try those changes, thanks
[17:37:07] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[17:37:39] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:38:01] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[17:38:29] *** Quits: benjamin_____ (benjamin@moz-5CD216D9.dip0.t-ipconnect.de) (Ping timeout)
[17:38:41] <mrmonday> kimundi: I now get lots of unresolved import errors (it's acting like it's trying to get std::std::* things)
[17:39:00] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:39:17] <mr_boo> cmr: is it still used the same way as 0.9?
[17:39:22] *** Joins: reedlepee (Mibbit@2167A885.8E095D1E.77E6AA5B.IP)
[17:39:27] <eibwen> cmr: I really like your "This Week in Rust"s, thanks for this episode :)
[17:39:52] <kimundi> mrmonday: huh, that sounds weird
[17:40:01] *** Quits: tanayseven (tanay@1A2541E.B5A27990.5A7A4C68.IP) (Ping timeout)
[17:40:09] *** Quits: StarLight (StarLight@moz-E6F913D.dynamic.avangarddsl.ru) (Ping timeout)
[17:40:12] *** Joins: sigma (sigma@moz-55097A0B.range86-163.btcentralplus.com)
[17:40:26] *** Joins: mye (mye@moz-698312B3.dip0.t-ipconnect.de)
[17:41:12] *** Joins: tanayseven (tanay@1A2541E.B5A27990.5A7A4C68.IP)
[17:41:20] <mrmonday> kimundi: yes! :/
[17:41:49] <kimundi> mrmonday: you need to make sure that everything uses the definitions from the std crate you puled in exclusively, if more in that module used the old imports than visible in that diff, then those will break
[17:42:24] *** Joins: adridu59 (Mibbit@moz-A1709D6B.rev.numericable.fr)
[17:42:24] <kimundi> basically, you need to write a test that uses _zero_ definitions of the crate it lives in
[17:42:32] <adridu59> anything new about the doc contractor?
[17:43:34] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[17:43:36] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[17:44:14] *** Joins: eholk (eric@moz-F70D5031.hsd1.in.comcast.net)
[17:44:32] *** Joins: StarLight (StarLight@moz-22ECDDB3.dynamic.avangarddsl.ru)
[17:44:39] *** Quits: tanayseven (tanay@1A2541E.B5A27990.5A7A4C68.IP) (Ping timeout)
[17:45:00] *** Joins: tabraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[17:45:01] <mrmonday> kimundi: no other use statements that I can find. The only thing I can think of is that the iotest! macro isn't using std::, so I'd have to redefine it
[17:45:16] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[17:45:25] <kimundi> might be, yeah
[17:46:14] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[17:46:14] *** ChanServ sets mode: +ao dherman dherman
[17:46:33] *** Joins: victorporof_ (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[17:47:02] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Ping timeout)
[17:47:10] *** Quits: murph (murph@moz-B6DD0228.oracle.com) (Ping timeout)
[17:47:16] *** Joins: mouse (mouse@moz-165D82C0.broadband.corbina.ru)
[17:47:49] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[17:47:49] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[17:47:59] *** Quits: mouse (mouse@moz-165D82C0.broadband.corbina.ru) (Quit: Ex-Chat)
[17:48:11] <mrmonday> no luck, that just gives even more unresolved import errors
[17:48:52] *** Quits: tabraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Input/output error)
[17:49:21] *** Quits: luziiie (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[17:49:34] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[17:49:38] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[17:49:46] *** Joins: luziie (luziie@moz-CD18B14B.customer.cdi.no)
[17:50:37] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[17:51:18] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[17:52:22] *** Joins: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP)
[17:52:22] *** ChanServ sets mode: +o jdm
[17:55:47] *** Quits: nkoep (nik@moz-84FBC066.pool.mediaways.net) (Quit: Leaving)
[17:55:49] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[17:55:49] *** ChanServ sets mode: +ao brson brson
[17:56:44] *** Quits: penguin_dan (dan_johnsi@6902762D.11B071D.FB9A45AF.IP) (Quit: Leaving)
[17:58:02] *** Quits: reedlepee (Mibbit@2167A885.8E095D1E.77E6AA5B.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:58:09] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[17:58:13] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[17:58:38] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[17:58:57] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[18:00:29] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[18:01:12] *** Quits: victorporof_ (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Ping timeout)
[18:01:13] *** Joins: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net)
[18:01:35] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[18:02:17] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[18:02:17] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:02:45] *** Quits: wilmoore (wilmoore@moz-1248C037.mystrotv.com) (Ping timeout)
[18:04:36] *** eatkinson is now known as eatkinson-away
[18:05:02] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:05:25] *** Joins: mib_guhd8u (Mibbit@moz-322EE0DA.inter.net.il)
[18:06:56] *** Quits: redShadow (redShadow@9BDAF02B.D15F9219.1CCF65D9.IP) (Quit: Leaving)
[18:07:10] *** Joins: murph (murph@moz-A933BAE1.oracle.com)
[18:07:14] <andor> when upgrading from 5.0.13 to newest 6.x, what dirs/files do i have to carry over if i do a manual upgrade?
[18:07:19] <kanaka> all: are there examples on how to implement non-trivial Rc/Gc structures such as an Rc'd structure containing another Rc'd structure. For example, this (http://andreiformiga.com/blog/?p=382) shows creating a linked list using managed pointers/@  but what about an example showing the new/right(TM) way (using Rc/Gc)?
[18:07:38] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: pcwalton)
[18:07:43] <andor> err sorry, wrong channel, lol
[18:08:05] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:08:07] *** Joins: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk)
[18:08:21] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[18:08:38] <pczarn> I found this one year old comment: // Not using labeled break to get us through one round of bootstrapping.
[18:09:55] *** Joins: skade (skade@E45BE4B3.377A644B.FF936C9C.IP)
[18:10:20] *** Quits: krdln (Mibbit@moz-C271714F.dynamic.chello.pl) (Quit: http://www.mibbit.com ajax IRC Client)
[18:10:25] <pczarn> can I use labeled break without problems?
[18:10:28] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[18:10:48] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[18:12:40] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Ping timeout)
[18:12:43] <cmr> mr_boo: yes.
[18:12:50] <cmr> mr_boo: (for the most part. see the docs)
[18:12:55] <cmr> eibwen: my pleasure!
[18:13:10] *** Quits: brandonw (brandonw@moz-B334F9B.dhcp.oxfr.ma.charter.com) (Ping timeout)
[18:13:54] *** Joins: brandonw (brandonw@moz-B334F9B.dhcp.oxfr.ma.charter.com)
[18:15:54] <mrmonday> kimundi: pretty sure this is a compiler bug... if I pub use std::io::net::raw::NetworkInterface; in libnetsupport everything works fine :S
[18:16:30] <flan3002> Hm, why do I get error: cannot move out of dereference of `&mut`-pointer for let (start, end, dur, ease, mode) = self.data[self.current]; with data: ~[(T, T, f64, ~ease::Ease, ease::Mode)]?
[18:16:37] *** Joins: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP)
[18:16:43] <Earnestly> Man, the reverse
[18:17:06] *** Joins: Rym (y@D379E926.85D6E662.51C6DE68.IP)
[18:17:10] *** Joins: Zr40 (zr40@moz-CCFEAB92.adsl.xs4all.nl)
[18:17:15] *** Joins: exobit (foo@moz-73E3DBEB.corp.bitshelter.com)
[18:17:23] <flan3002> Earnestly: ?
[18:17:26] *** Joins: krdln (Mibbit@moz-C271714F.dynamic.chello.pl)
[18:17:40] <YourBestFriend> is it because he copied it from his terminal?
[18:17:45] <Earnestly> No
[18:17:54] <SiegeLord> He's from the negative land
[18:18:00] *** Quits: nbsdx (neil@moz-B75229F5.ma.res.rr.com) (Quit: leaving)
[18:18:07] <flan3002> Does it render that bad for you?
[18:18:18] <Earnestly> Reverse, Italics, Bold, etc.
[18:18:20] <flan3002> I think it's better than "" everywhere.
[18:19:00] <YourBestFriend> http://i.imgur.com/UDtphKS.png
[18:19:05] <Earnestly> Hey, feel free, I'm not used to it :P
[18:19:26] <flan3002> YourBestFriend: I think that ok...
[18:19:33] <Earnestly> YourBestFriend: You need ncurses from git (or latest patchset) for italics
[18:19:36] <cmr> flan3002: do you know what move means?
[18:19:36] <Earnestly> In weechat
[18:19:52] <krdln> I'm on x86_64, but I need to compile 32bit std crate. But when I try rustc --target i686-pc-linux lib.rs, it fails on: /usr/bin/ld: cannot find -lrustrt.
[18:19:55] <Earnestly> flan3002: Yeah don't worry too much, I just find it novel :P
[18:19:56] <YourBestFriend> oh?
[18:19:59] *** Joins: mgottschlag (quassel@moz-DDFF21F6.cust.bluewin.ch)
[18:20:02] <flan3002> cmr: Know as in 'really understand'? No.
[18:20:06] <Jemaclus> Any examples out there of manipulating terminal output? (i.e., flush the screen and re-render it)
[18:20:16] <cmr> krdln: ./configure --target=i686-pc-linux,x86_64-unknown-linux-gnu
[18:20:20] <Earnestly> YourBestFriend: Yeah, italics support was basically added a month or two ago iirc
[18:20:24] <cmr> krdln: needs to build rustrt etc for the target too.
[18:21:13] <cmr> flan3002: so the root of the problem is that you don't own the vector, and you're trying to move out of it. If the vector's contents were Pod, that'd be fine, but since it has an ~ease::Ease in it, it isn't.
[18:21:30] *** Quits: mr_boo (Mibbit@moz-244CF33A.amazon.com) (Quit: http://www.mibbit.com ajax IRC Client)
[18:21:58] <flan3002> cmr: That even makes sense, now that you say it.
[18:22:06] <mib_guhd8u> can someone help me with some basic stuff?  how can I make add2(..) work and print() to print the numbers? http://pastebin.com/QZzWc6bD
[18:22:08] <cmr> flan3002: instead you need to take a reference into the vector
[18:22:10] <mib_guhd8u> if its even possible
[18:22:14] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[18:22:26] *** Quits: exobit (foo@moz-73E3DBEB.corp.bitshelter.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:22:41] *** Quits: adridu59 (Mibbit@moz-A1709D6B.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[18:22:45] <flan3002> cmr: Aaaaand... how?
[18:23:28] <kimundi> flan3002: try let (ref start, ref end, ref dur, ref ease, ref mode) = self.data[self.current];
[18:23:44] <cmr> flan3002: let &(ref start, ref end, ref dur, ref ease, ref mode) = &self.data[self.current];
[18:23:47] <cmr> flan3002: is one way
[18:23:52] <kimundi> if that doesn't work, try let &(ref start, ref end, ref dur, ref ease, ref mode) = &self.data[self.current];
[18:23:55] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[18:23:55] <cmr> oops
[18:23:56] <cmr> I was slow
[18:24:10] <flan3002> Oh, what exactly does that 'ref' do? And why 'ref' and not '&'?
[18:24:20] <mcpherrin> flan3002: ref and & are opposites
[18:24:21] <kimundi> flan3002: ref is the opposite of &
[18:24:22] <cmr> In a pattern, & derefences the thing it matches against.
[18:24:27] <cmr> ref just takes a reference.
[18:25:00] <kimundi> flan3002: & matches a reference away, ref adds a reference and allows you to bind to things with a non-owning reference
[18:25:03] <flan3002> Hm, ref ease solves it.
[18:25:08] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[18:25:15] <kimundi> ah, right
[18:25:39] *** Joins: zwarich (zwarich@A89ECEB1.A86FC3A7.DE9B45B6.IP)
[18:25:40] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[18:25:49] *** Quits: joelteon (bzzt@moz-ACC9D720.members.linode.com) (Quit: goodbye)
[18:25:50] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[18:26:34] *** Joins: joelteon (bzzt@moz-ACC9D720.members.linode.com)
[18:26:52] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Ping timeout)
[18:26:56] <flan3002> And how do I set #[warn(dead_code)] to false?
[18:26:59] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[18:27:09] <flan3002> #[warn(dead_code) = false] does not work...
[18:27:10] <cmr> #[allow(dead_code)];
[18:27:12] *** Joins: ray (ray@21E8007B.14FD68F4.B395E7D8.IP)
[18:27:21] <cmr> but you should really just make your code not dead :)
[18:27:24] <cmr> dead code is useless code.
[18:27:28] <flan3002> In a library?
[18:27:45] <cmr> dead code in a library means nothing calls it and nothing can ever call it.
[18:28:22] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[18:28:22] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:28:27] <flan3002> But its the API. How does rustc know I'll never call it from anywhere else?
[18:28:39] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Ping timeout)
[18:28:40] <cmr> it's only dead if it's not publically reachable.
[18:28:40] <ray> are there still syntax changes?
[18:28:45] <cmr> ray: yes.
[18:28:58] <pcwalton> 500 members!
[18:29:06] <flan3002> But its pub fn delay(tw: ~Tween:, time: f64) -> ~Tween: {. Yay, negative :)
[18:29:08] <ray> ok, op will surely deliver :P
[18:29:16] <kimundi> flan3002: Ah, but is it in a public module?
[18:29:39] <kimundi> flan3002: the whole module path up to the crate root needs to be public to for the code to be visible externally
[18:29:50] <mrmonday> do circular dependencies between crates matter for testing? I have libnetsupport that depends on libstd, but during tests libstd needs to import things from libnetsupport. Just wondering since I'm getting some really weird compile errors
[18:30:08] <cmr> mrmonday: that's ok for tests.
[18:30:33] <kimundi> mrmonday: circular dependencies are ok for tests, because in a test its not actually a circular dependcy
[18:30:43] <mrmonday> hmm
[18:30:48] <kimundi> mrmonday: its std -> netsupport -> stdtest
[18:30:48] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[18:31:03] <mrmonday> I'm not really sure what to do about the issues I've been having then :\
[18:31:06] <kimundi> stdtest is considered a entirely different, seperate crate at that point
[18:31:38] <kimundi> which is likely the main problem here: aciidentially using things from those two seperate libraries at the same time
[18:31:52] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[18:32:30] <mrmonday> adding a pub use in libnetsupport worked initially, but it breaks the second you try and work with anything else from libstd. the only thing I can think of is to try and get a testcase/report a bug and use cast::transmute() in the meantime
[18:32:32] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[18:33:23] <kimundi> mrmonday: Don't transmute, I have no idea what that will break xD
[18:33:49] <kimundi> mrmonday: I guess the best you can do is push your code somehwere, and let someone more familiar with the module system tinker with the imports
[18:34:15] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[18:34:17] <mrmonday> kimundi: I couldn't make anything work with the std:: prefix (it was giving errors for everything /not/ defined in std::std)
[18:34:25] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Ping timeout)
[18:35:02] <mrmonday> I'll push it then so you can play with it
[18:35:14] *** Quits: mgottschlag (quassel@moz-DDFF21F6.cust.bluewin.ch) (Ping timeout)
[18:36:40] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[18:36:54] *** Quits: japaric (japaric@4DDCA20.F60EC59D.F29ED47E.IP) (Ping timeout)
[18:37:28] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[18:37:41] *** Joins: japaric (japaric@A3BB1393.E3ED3AAA.BFC118EE.IP)
[18:39:14] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[18:40:40] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[18:40:51] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[18:41:58] <mrmonday> kimundi: I've pushed to mrmonday/raw-socket-support if you could take a look. the tests need to be compiled with --cfg hasroot to reproduce (I haven't modified the build system to do that)
[18:42:15] <mrmonday> or alternatively if someone else could take a look that'd be awesome :)
[18:42:38] *** Quits: ChrisOei (ChrisOei@moz-53A9266A.blurb.com) (Client exited)
[18:42:38] <krdln> cmr: I don't see where are sources for rustrt. I don't want to build whole compiler from scratch.
[18:42:43] <kimundi> mrmonday: Yeah, I sadly can't right now
[18:43:28] *** Quits: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP) (Client exited)
[18:44:41] <cmr> krdln: src/rt
[18:45:14] *** Joins: alonlevy (alon@546A964A.A5C48CE0.9E22F775.IP)
[18:45:43] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: pcwalton)
[18:45:47] <krdln> cmr: I don't see any Makefile here.. and I have no idea how to compile it.
[18:46:31] *** Joins: MP2E (cray@moz-EB1E242D.lv.lv.cox.net)
[18:46:49] *** Joins: mpiechotka (mpiechotka@moz-5393CC9.dynamic.mnet-online.de)
[18:47:37] *** Quits: alonlevy (alon@546A964A.A5C48CE0.9E22F775.IP) (Ping timeout)
[18:47:40] *** Joins: Sharp (Sharp@moz-3301C7AB.static-ip.telepacific.net)
[18:48:01] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[18:48:05] <cmr> krdln: mk/rt.mk
[18:48:06] *** Quits: cremes (cremes@moz-72B945E0.hsd1.il.comcast.net) (Ping timeout)
[18:48:09] *** Quits: IanCormac841 (User@514BD245.2A8D8854.67DFF8B4.IP) (Ping timeout)
[18:48:23] <cmr> krdln: you can just do `make rt` I think
[18:48:32] <cmr> nope
[18:49:00] *** Joins: ChrisOei (ChrisOei@moz-53A9266A.blurb.com)
[18:49:44] *** Joins: IanCormac84 (User@82714BB2.64D641E5.67DFF8B4.IP)
[18:49:46] <cmr> krdln: really you want to be using the build system w/configure ...
[18:50:17] <eibwen> has the automatic dereference of custom pointer types already alnded?
[18:50:23] <cmr> eibwen: no.
[18:50:42] <krdln> cmr: I think I will have to. Just wanted to build libs without going through all the stages
[18:50:42] <eibwen> k
[18:51:16] <cmr> krdln: if you already built it for one target, it only builds the libs, not the entire compiler etc, afaik
[18:52:01] <krdln> cmr: unfortunately I have nigthly build, not from repo
[18:52:44] *** Quits: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP) (Ping timeout)
[18:53:03] *** Joins: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de)
[18:53:18] *** Quits: chenyang (user@moz-E57448EF.airbears2.berkeley.edu) (Ping timeout)
[18:53:28] *** Joins: cremes (cremes@moz-72B945E0.hsd1.il.comcast.net)
[18:53:43] *** Quits: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de) (Quit: Matthias247)
[18:54:41] *** Joins: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP)
[18:54:42] *** Joins: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de)
[18:55:32] *** Quits: mib_guhd8u (Mibbit@moz-322EE0DA.inter.net.il) (Quit: http://www.mibbit.com ajax IRC Client)
[18:56:50] *** Joins: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[18:59:01] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:59:40] <eibwen> how will ambiguities be resolved for automatic dereference?
[18:59:47] *** Quits: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk) (Ping timeout)
[18:59:48] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:59:49] *** Parts: dradtke (dradtke@moz-849051B9.il.subnet.cable.rcn.com) ()
[19:00:39] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[19:00:39] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: evanm)
[19:02:04] <cmr> eddyb: ^
[19:02:06] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[19:02:13] *** Joins: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:02:32] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[19:02:58] <eddyb> eibwen: first reached gets picked
[19:03:08] <eibwen> k
[19:03:11] <eddyb> there aren't really "ambiguities"
[19:03:39] <eddyb> there are some mutability related problems that will be fixed by improved method lookup (related changes, but not that specific to autoderef)
[19:03:48] *** Joins: sstangl (sstangl@moz-DB4A9C19.scl3.mozilla.com)
[19:04:02] *** Quits: fabiand (fabiand@moz-A5CCDD03.redhat.com) (Quit: Verlassend)
[19:04:11] *** Parts: sstangl (sstangl@moz-DB4A9C19.scl3.mozilla.com) ()
[19:04:12] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[19:04:38] <eibwen> eddyb: wouldn't you call it an ambiguity if Rc<foo> implements bar() and foo also implements bar()?
[19:05:05] <eddyb> Rc shouldn't implement anything other than Deref, Clone and Drop IMO
[19:05:16] <eddyb> we can get Show to use autoderef if we're smart about it
[19:05:32] <eddyb> eibwen: but no, it's not, same thing today happens with ~Foo and Foo
[19:05:39] <eddyb> the impl for ~Foo gets picked
[19:05:50] *** Joins: sunfish (chatzilla@moz-BBE3ABD.mv.mozilla.com)
[19:06:03] <eddyb> eibwen: try to clone a &T and see what happens
[19:07:02] *** Joins: Ferreus (ferreus@moz-AAB0D1B2.lsn.wtnet.de)
[19:07:10] *** Quits: krdln (Mibbit@moz-C271714F.dynamic.chello.pl) (Quit: http://www.mibbit.com ajax IRC Client)
[19:07:42] *** Joins: pyon (user@6B56F365.A9B419CB.1C8C8CE9.IP)
[19:09:08] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[19:09:33] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[19:10:00] *** Joins: victorporof_ (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[19:10:09] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Ping timeout)
[19:10:35] *** Quits: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP) (Client exited)
[19:10:56] *** Parts: synackse (jordyd@2D608993.77F880E0.D9401097.IP) ()
[19:12:37] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[19:13:29] *** Joins: refold (gman@moz-42D68426.a258.priv.bahnhof.se)
[19:14:17] <ski> <pyon> ski: If you have some existentially quantified type T, I think it has to be behind a pointer anywhere it appears.
[19:14:21] <ski> <pyon> ski: I mean, to keep the implementation simple. Otherwise, you would need structs that are dynamically aware of their own offsets, arrays that are dynamically aware of their own element types, etc.
[19:14:35] <ski> <bvssvni> this is what happens behind the scene in languages like C#
[19:14:39] <ski> <pyon> bvssvni: Well, it is not like C# has what ski is asking for.
[19:14:42] <ski> <bvssvni> arrays of objects are basically arrays of pointers
[19:14:56] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[19:14:57] * pyon was going to add: but not all guaranteed to be of the same type.
[19:15:10] <ski> pyon : yes, them having to be behind pointers is fine
[19:15:24] <TimAbraldes> I'm seeing this when trying to build rustc on Windows - 
[19:15:24] <TimAbraldes> ln: creating symbolic link `/c/src/rust/i686-pc-mingw32/llvm/Release+Asserts/bin/llvm-ranlib.exe' to `llvm-ar.exe': No such file or directory
[19:15:48] *** Quits: cremes (cremes@moz-72B945E0.hsd1.il.comcast.net) (Ping timeout)
[19:15:48] *** Joins: LePeider (bzlandfill@moz-F79479DB.hsi.kabel-badenwuerttemberg.de)
[19:16:25] *** Quits: LePeider (bzlandfill@moz-F79479DB.hsi.kabel-badenwuerttemberg.de) (Quit: CGI:IRC)
[19:16:41] *** Quits: ray (ray@21E8007B.14FD68F4.B395E7D8.IP) (Quit: Leaving.)
[19:17:09] *** Joins: cremes (cremes@moz-72B945E0.hsd1.il.comcast.net)
[19:17:14] <ski> since this is what the `int blah(char *bleh,void *opaque,double (*callback)(void *opaque,int n,const double *nums)) { .. (*callback)(opaque,...) .. }' and `struct bloh { char *bleh; void *opaque; double (*callback)(void *opaque,int n,const double *nums); }' idioms in C support anyway
[19:17:37] *** Parts: MP2E (cray@moz-EB1E242D.lv.lv.cox.net) (bbl in 2 years)
[19:18:09] <ski> pyon : "not all guaranteed to be of the same type", in C# or ?
[19:18:19] <pyon> ski: In C#.
[19:18:35] *** Joins: t4nk398 (bzlandfill@moz-F79479DB.hsi.kabel-badenwuerttemberg.de)
[19:18:38] *** pmoore is now known as pmoore|coffee
[19:18:47] <pyon> ski: You cannot have a T[], where T itself is existentially quantified.
[19:18:58] <t4nk398> IP: 193.111.141.243 Port: 28100
[19:19:04] <t4nk398> join rust server
[19:19:10] *** Quits: t4nk398 (bzlandfill@moz-F79479DB.hsi.kabel-badenwuerttemberg.de) (Quit: CGI:IRC)
[19:19:14] <ski> pyon : makes sense, with not all objects having the same size
[19:19:39] <ski> hm
[19:20:01] *** Quits: Sharp (Sharp@moz-3301C7AB.static-ip.telepacific.net) (Quit: Sharp)
[19:20:08] <pyon> Dammit, why is it so hard to talk about this without saying "sigma" or "pi"?
[19:20:08] <ski> actually, it could make sense, if we had some evidence for the existential type around, which at run-time amounted to size, and perhaps some more stuff (layout ?)
[19:20:19] <kanaka> all: so I'm trying to create a List structure equivalent of this managed box example (https://gist.github.com/tautologico/7146153). Here is my attempt using std::rc::Rc: https://gist.github.com/kanaka/9514232 (including commented out fails). Any advice on getting it to work?
[19:20:32] <ski> but when `T' is behind pointers, that shouldn't be necessary
[19:21:00] <pyon> ski: You would need to make the runtime aware of type sizes. I think this is evil, because this breaks parametricity.
[19:21:02] <ski> perhaps pointer types should be of a kind that is a subkind of the normal kind of types of values of varying sizes ?
[19:21:18] *** Joins: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP)
[19:21:49] <ski> well, from a naive POV, type classes in Haskell also break parametricity
[19:22:23] <pyon> ski: I interpret them as syntactic sugar for passing records around, only implicitly.
[19:22:25] <ski> for a more nuanced POV, we just get weaker guarantees in cases we have class constraints constraining tyvars on polymorphic operations
[19:22:34] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[19:22:56] <ski> pyon : well, sortof. confluence is an important property, though
[19:23:11] *** Joins: Sharp (Sharp@moz-3301C7AB.static-ip.telepacific.net)
[19:23:28] <kimundi> kanaka: I'd expected one of those that give you "can not move out of" errors to work
[19:23:47] <ski> anyway, an operation that claims to be parametric in a type `T', and returns an `int' that describes the size of values of type `T' would be evil, i agree
[19:24:33] <kimundi> kanaka: In any case, you'd need to change "Cons(_, rest) => 1 + length(rest)" to "Cons(_, rest) => 1 + length(rest.clone())" OR change length to take &IntList instead
[19:24:51] <eddyb> the latter is what you want
[19:24:53] <kanaka> kimundi: yes, me too. I was expecting that Rc and Gc were similar to @, but in the library instead of syntactically part of the language.
[19:24:55] <eddyb> *NOT* clone
[19:25:07] <kimundi> "Cons(_, ref rest) => 1 + length(rest.clone())" even. But try the &IntLIst one first#
[19:25:43] *** Quits: Ferreus (ferreus@moz-AAB0D1B2.lsn.wtnet.de) (Ping timeout)
[19:25:57] *** Quits: edwardw (edwardw@D286B842.1B2F6624.7F41E82D.IP) (Ping timeout)
[19:25:59] *** Parts: synackse (jordyd@2D608993.77F880E0.D9401097.IP) ()
[19:26:06] *** Quits: TeXitoi (texitoi@moz-9CE70EEE.fbx.proxad.net) (Ping timeout)
[19:26:15] <kimundi> kanaka: Well, there are two core differences: No implicit refcouting (need to explcitly call clone() instead), and not implicit dereferencing (a pathc for that lands soon)
[19:26:20] *** Quits: eholk (eric@moz-F70D5031.hsd1.in.comcast.net) (Quit: Konversation terminated!)
[19:26:57] *** Joins: edwardw (edwardw@B5386878.16F55560.50B134B9.IP)
[19:27:28] <kimundi> eddyb: Does something like "match *rc { ... }" work for treading the dereferenced value as rvalue?
[19:27:35] <eddyb> yes
[19:27:44] <eddyb> kimundi: &T is an rvalue
[19:27:59] <eddyb> it's more complicated, actually
[19:28:07] <eddyb> *rc produces an lvalue of type T
[19:28:08] <kimundi> great, was not sure from those error messages kanaka posted whether that is an issue too
[19:28:20] <kimundi> eddyb: wait, am I confusing lvaue and rvalue aigain
[19:29:02] <eddyb> yeah
[19:29:02] *** Quits: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP) (Connection reset by peer)
[19:29:07] <eddyb> lvalues are C++ T&
[19:29:12] *** Joins: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP)
[19:29:15] *** Joins: kvanb (kvanb@6B837AF3.9FF56AB5.1611EE05.IP)
[19:29:16] <eddyb> we only have them for dereferences and field accesses
[19:29:28] <kimundi> Don'T you start with C++ with me ;)
[19:29:29] <pyon> And mutable variables?
[19:30:12] <eddyb> pyon: well, all statics, function arguments and locals
[19:30:42] <kimundi> eddyb: For something like fn(&self) { match *self {} }, the match is happening on a _lvalue_, correct?
[19:30:47] <eddyb> yes
[19:30:48] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[19:30:51] *** Quits: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP) (Ping timeout)
[19:30:51] <kimundi> okay
[19:30:52] *** Quits: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP) (Ping timeout)
[19:30:59] *** Quits: flan3002 (flan3002@moz-E0853D96.superkabel.de) (Ping timeout)
[19:31:05] <kimundi> why is it called lvalue again?
[19:31:06] <ski> pyon : .. conforming to the technical sense of "evil", i believe. see <http://ncatlab.org/nlab/show/equivalence>,<http://ncatlab.org/nlab/show/evil>
[19:31:17] <ski> kimundi : iiuc, "left-value"
[19:31:22] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[19:31:33] <ski> or maybe "location-value" (but probably "left-value")
[19:31:35] <pyon> kimundi: In C and C++, it can appear at the left-hand side of an assignment.
[19:31:46] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:32:04] <pyon> (Well, that is misleading because C and C++ also have const lvalues.)
[19:32:12] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:32:17] <kimundi> pyon: ah, I need to think about them in a assignment context instead of a binding context, gotcha
[19:32:32] <pyon> ski: Let me see. :-)
[19:32:33] <eddyb> pyon: we have immutable lvalues as well
[19:32:46] *** Quits: asmyers (quassel@9B846F14.A07F7734.FAA4474F.IP) (Client exited)
[19:32:51] <pyon> Aw. :-(
[19:32:54] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[19:33:09] <ski> pyon : but still, if a polymorphic operation only uses sizes to find the right offsets, and for copying around values of a type `T' being a type variable, i'm not sure whether that's really harmful for parametricity
[19:33:28] *** Joins: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP)
[19:33:49] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[19:33:53] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[19:33:57] *** Joins: alkino (alkino@moz-58B8E4B4.w92-151.abo.wanadoo.fr)
[19:34:01] *** Joins: eholk (eric@moz-F70D5031.hsd1.in.comcast.net)
[19:34:07] <ski> pyon : still, i think we want to distinguish the cases where we'd want to pass evidence around for the type in question, and cases where we don't need to do so
[19:34:14] <nstdloop> If I want to use one of the functions from here http://static.rust-lang.org/doc/master/std/iter/trait.Iterator.html#method.filter (let's say filter) what do I have to do besides use std::iter; and then calling it like iter::filter?
[19:34:24] <nstdloop> (that gives me an unresolved name error)
[19:34:29] <pyon> ski: Well, as long as the runtime is the only one that has access to the operation for computing the sizes of types (as opposed to your own code being able to do it), I guess it is okay.
[19:34:35] *** Joins: doy_ (doy@moz-8F23663C.net)
[19:34:36] *** Quits: victorporof_ (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Ping timeout)
[19:34:44] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:34:56] <cmr> ski: pyon: what are you discussing?
[19:35:02] *** Quits: doy (doy@moz-8F23663C.net) (Quit: WeeChat 0.4.3)
[19:35:02] *** doy_ is now known as doy
[19:35:11] <cmr> size_of is important in lots of code.
[19:35:12] <cmr> any container.
[19:35:14] <ski> kimundi : an "lvalue" is a kind of expression whose denotation / value / "what it means" is a *location* -- then that location may have some current *contents*, but that's a separate issue
[19:35:19] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[19:35:19] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[19:35:22] <cmr> opengl needs it.
[19:35:37] <Ms2ger> nstdloop, you need to get an iterator and call filter on it
[19:36:06] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[19:36:08] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[19:36:11] <nstdloop> Ms2ger: Obviously. As far as I was informed, range() returns an iterator and I was calling it on that.
[19:36:11] *** Joins: mgottschlag (quassel@moz-DDFF21F6.cust.bluewin.ch)
[19:36:13] <ski> cmr : polymorphic operations (iow universals in types), existentials in data types, and how to flexibly allow those for common (e.g.) C idioms with `void *'
[19:36:26] <Ms2ger> That should work
[19:36:36] <cmr> ski: so DST?
[19:36:43] <pyon> cmr: Sorry, I could not find an appropriate way to word it, but ski already did it.
[19:36:50] <ski> cmr : in some cases, the size of a type isn't known statically
[19:36:55] <cmr> looking at the log and what you just said, it's DST.
[19:37:11] <nstdloop> so iter::filter(predicate, range(0, 100)); for instance?
[19:37:20] *** Quits: eholk (eric@moz-F70D5031.hsd1.in.comcast.net) (Quit: Konversation terminated!)
[19:37:24] <ski> cmr : i'm not quite sure exactly what "Dynamically Sized Types" entails in Rust, so i'm not sure that's what i want
[19:37:39] <cmr> ski: it is. see niko's blog posts and the workweek notes.
[19:37:57] <ski> cmr : do you have any links for those ?
[19:38:20] <cmr> smallcultfollowing.com/babysteps/blog/2014/01/05/dst-take-5/
[19:38:23] <cmr> see also parts 1 through 
[19:38:24] <cmr> 4
[19:38:42] <ski> cmr : anyway, i think we want to distinguish between the case where the occurances of the unknown type variables are all behind pointers, and cases where that may not be the case
[19:38:47] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[19:38:57] <cmr> ski: yes this is all in niko's proposals.
[19:39:16] *** Joins: onelson (owen@C668895F.36788A19.5625D66B.IP)
[19:39:26] *** Quits: oberstet (quassel@moz-2D247F16.dynamic.mnet-online.de) (Client exited)
[19:39:43] <ski> cmr : specifically, we were earlier talking about allowing the situation with an array of pointers to values of type `T', where the type `T' is unknown (and possibly even its size is unknown), but we still know all the elements of the array contain pointers to values of the *same* type `T'
[19:39:51] <ski> cmr : which, iiuc, can't currently be expressed in Resu
[19:39:57] <ski> er/Resu/Rust/
[19:40:13] <kimundi> Heh, I started googling for definitions of lvalue and rvalue, and every explanation that I read seems to be subtly different
[19:40:32] <ski> cmr : tyvm
[19:40:59] <cmr> ski: see also http://smallcultfollowing.com/babysteps/blog/2012/04/27/in-favor-of-types-of-unknown-size/ http://smallcultfollowing.com/babysteps/blog/2012/05/14/vectors/ http://smallcultfollowing.com/babysteps/blog/2013/04/30/dynamically-sized-types/ http://smallcultfollowing.com/babysteps/blog/2013/05/13/recurring-closures-and-dynamically-sized-types/ and
[19:41:00] <cmr> http://smallcultfollowing.com/babysteps/blog/2013/06/06/reducing-dst-annotation/
[19:41:04] <cmr> ski: on top of DST takes 1 through 5
[19:41:07] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[19:41:09] *** Joins: kris (kris@moz-9410C490.dk.customer.tdc.net)
[19:41:18] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[19:41:49] <ski> kimundi : if you say, in C, `int x = 0;' and later the expression `x + 1', then the `x' in this expression is actually also an "lvalue", which is converted to an "rvalue" (corresponds to reading the current contents of the location that the lvalue `x' evaluates to), before adding one
[19:42:44] *** Joins: Merth (shaun@moz-E41B2C4D.dhcp.mdsn.wi.charter.com)
[19:42:48] <cmr> ski: there's also a significant amount of discussion hidden away in the old meeting notes.
[19:43:11] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[19:43:50] <ski> cmr : ok, do you know where i could dig into those notes ?
[19:44:00] <cmr> they're all linked in https://github.com/mozilla/rust/wiki/Meetings
[19:44:07] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[19:44:25] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[19:44:30] <cmr> (as well as the https://github.com/mozilla/rust/wiki/Meetings-2012 and https://github.com/mozilla/rust/wiki/Meetings-2011)
[19:44:38] <kimundi> ski: I think my main problem is that the simple distinction that I thought I knew mapped to either r/l or l/r -values actually has nothing todo with their definition.
[19:44:56] <kimundi> But anyway
[19:45:09] *** Quits: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com) (Quit: Connection closed for inactivity)
[19:45:18] <kanaka> kimundi, eddyb: this works https://gist.github.com/kanaka/9514232, but it doesn't feel idiomatic. In particular, &(*rest.borrow()), feels ... well, ugly.
[19:45:22] <nstdloop> Does range not implement AdditiveIterator?
[19:45:23] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[19:45:41] <eddyb> kanaka: update, that's &*rest now
[19:45:43] <ski> cmr : ok, tyvm for the links ! :)
[19:45:57] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[19:46:02] <eddyb> kanaka: you're building a persistent list, right?
[19:46:02] <cmr> nstdloop: AdditiveIterator is implemented on every iterator that is over a type that implements Zero and Add
[19:46:04] *** Joins: hoverbea_ (hoverbear@726D908C.44E18222.E74D50F2.IP)
[19:46:13] <cmr> nstdloop: the trait needs to be in scope to call its methods though
[19:46:19] <cmr> use std::iter::AdditiveIterator;
[19:46:20] <ski> kimundi : ooc, what was that simple distinction ?
[19:47:02] <nstdloop> Ah... I was trying to it with use std::iter;
[19:47:07] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Ping timeout)
[19:48:26] <ski> cmr : so, i take it i can find info there, not only for DST, but also for allowing existentials like `exists a. SomeTrait a *> List a' in Haskellish syntax (a list of values all of the same unknown type `a', which implements the trait / type class `SomeTrait'), which would not require storing or passing around evidence like a size for the hidden type ?
[19:48:35] <halosghost> good morning
[19:48:50] <kimundi> ski: Well the simple distinction I had in mind is the difference between &*foo_reference being a no-op, and being a reference to a newly created stack copy of foo_reference
[19:49:24] *** Quits: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr) (Ping timeout)
[19:49:36] <kimundi> ski: Thats trait objects basically
[19:49:40] <cmr> ski: don't we already have that with trait objects?
[19:49:41] <cmr> damn it
[19:49:44] <cmr> kimundi: you always beat me to the punch
[19:49:51] <kimundi> :P
[19:49:55] <kimundi> Gotta go fast
[19:49:57] *** pmoore|coffee is now known as pmoore
[19:50:23] <kimundi> (And make a bunch of spelling mistakes in the process, sigh...)
[19:50:28] <ski> kimundi : in SML, one would write the above `x' example like `let val x = ref 0 in ...; !x + 1' where `!x' explicitly dereferences
[19:50:34] *** Joins: brehaut (andrew@6D85C12E.2F6BE07D.613E47D1.IP)
[19:51:14] <ski> otoh, SML doesn't have lvalues, so `x' above is actually a pointer/reference to a mutable cell/location (and so `!' partly corresponds more to `*' as used in rvalues)
[19:52:54] *** Quits: IanCormac84 (User@82714BB2.64D641E5.67DFF8B4.IP) (Ping timeout)
[19:52:55] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:53:10] <ski> kimundi : anyway, you have the right idea about `&*some_location' being a no-op. the only thing `* and `&' does here is change the *point-of-view* / focus between an lvalue which represents some location of some type `T', and an rvalue which represents a value which is of type "pointer to `T'"
[19:53:34] *** Joins: IanCormac84 (User@48EE4DD4.2A8D8854.67DFF8B4.IP)
[19:55:36] <nstdloop> Is there a make system for rust?
[19:55:48] <Jemaclus> fn pi() -> Self
[19:56:01] <Jemaclus> how do I convert that to something useful?
[19:56:04] *** Quits: jackneill (jackneill@moz-D20A1607.pool.digikabel.hu) (Input/output error)
[19:56:05] <Jemaclus> (dumb question, sorry)
[19:56:32] <ski> kimundi : rather, it's the implicit coercion from an lvalue to an rvalue which isn't a no-op -- also iiuc in C++ e.g. `new' can probably be used to convert from rvalue to lvalue
[19:56:34] <Jemaclus> i.e., 10 * num::pi() doesn't really work
[19:56:43] *** Quits: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net) (Ping timeout)
[19:57:15] <kimundi> Jemaclus: let x: TargetType = TraitThatProvidesPi::pi();
[19:57:28] <Jemaclus> ah
[19:57:29] <Jemaclus> gotcha.
[19:57:35] <bjz> Jemaclus: soon you will be able to do: float::pi()
[19:57:36] <ski> cmr : i asked about it earlier, but i got the impression that you can't do `exists a. SomeTrait a *> Array a', but only `Array (exists a. SomeTrait a *> a)' currently
[19:57:41] <cmr> nstdloop: I mean, there's http://metajack.im/2013/12/19/building-rust-code--using-make-part-2/
[19:58:00] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Quit: Bye)
[19:58:02] <cmr> ski: WHat does *> read as, exactly?
[19:58:07] <Jemaclus> ski: that means nothing to me.. thanks though. :P
[19:58:11] <Jemaclus> bjz: cool.
[19:58:11] <cmr> (I don't know much haskell)
[19:58:13] <halosghost> nstdloop: you can just use Makefiles
[19:58:13] *** Joins: claudiu (claudiu@moz-F69B678E.thefacebook.com)
[19:58:28] *** Joins: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr)
[19:58:29] <nstdloop> Hmm ok.
[19:58:30] <ski> cmr : it's a make-believe syntax that i've found useful for explaining existentials in #haskell
[19:58:30] <SiegeLord> There are some better makefile helpers around than that
[19:58:41] *** Quits: alkino (alkino@moz-58B8E4B4.w92-151.abo.wanadoo.fr) (Ping timeout)
[19:58:41] <aatch> ski, yes, but what does it read as?
[19:58:51] *** Joins: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP)
[19:58:55] *** Ms2ger is now known as \n
[19:59:14] *** \n is now known as Ms2ger
[19:59:16] <Jemaclus> so I guess my broader question is... when a function returns Self...
[19:59:30] <aatch> ski, specifically the `*>` part, as it's kinda important.
[19:59:31] <ski> cmr : `forall a. Eq a => ..a..' in the usual implementation means that we will implicitly pass a dict/record/vtable for `Eq a' at run-time (unless we can statically optimize away this, which is commonly the case, but not always, e.g. when the type `a' depends on run-time input)
[19:59:31] *** Joins: flan3002 (flan3002@1C8C2A04.3A27401E.16E13E53.IP)
[19:59:49] <Jemaclus> i'm just confused as to how you use Self
[19:59:53] *** Quits: claudiu (claudiu@moz-F69B678E.thefacebook.com) (Ping timeout)
[19:59:57] <Jemaclus> for something like num::infinity()
[20:00:02] *** Joins: janua (francis@moz-C38AAD4A.cable.virginm.net)
[20:00:09] <kimundi> Jemaclus: So, "Self" only has meaning in the _Definition_ of a trait
[20:00:11] <ski> cmr : while `exists a. Eq *> ..a..' is them in the usual implementation meant to suggest that we implicitly have a pair of a dict for `Eq a', together with a value for `..a..'
[20:00:12] <aatch> Jemaclus, Self is the type that is implementing the trait.
[20:00:16] <bjz> Jemaclus: you need to use inference
[20:00:19] <Jemaclus> but I guess if I cast it as, what, a float? let foo: f64 = num::pi();, then it would come out as a float?
[20:00:38] <bjz> let foo: T = num::infinity();
[20:00:40] <bjz> yep
[20:00:45] <ski> cmr : `forall a. Eq a *> ..a..' and `exists a. Eq a => ..a..' would tecnically be possible to make, but wouldn't be very useful
[20:00:49] *** Quits: kvanb (kvanb@6B837AF3.9FF56AB5.1611EE05.IP) (Quit: kvanb)
[20:00:52] <Jemaclus> gotcha
[20:00:53] <Jemaclus> thanks
[20:01:03] <ski> aatch,cmr : ok ?
[20:01:22] <cmr> ski: with an unsized value?
[20:01:35] <kimundi> Jemaclus: In a trait definition, Self referes to the at that point unknown type the trait is implemented for. If you actually implement the trait for a type, everthing of type Self becomes the type of the thing you implement the trait for instead
[20:01:35] <ski> cmr : possibly, yes
[20:01:38] <janua> I am having major problems compiling rust on osx during linking. I can't find any real solutions on the internet
[20:01:43] <cmr> ski: right now trait objects are (*vtable, *obj)
[20:02:04] <cmr> ski: we don't have anything like what you said before, indeed.
[20:02:11] <bjz> Jemaclus: do you have experience with haskell?
[20:02:17] <ski> cmr : yes, so i want to separate that, so i can have a single `*vtable* and an array (e.g.) of `*obj's all meant to use that
[20:02:22] <aatch> ski, not sure how well this applies to Rust though, since we are explicit in when you have a concrete type or not.
[20:02:29] *** Joins: arturo1 (Thunderbir@moz-E83B14F0.superkabel.de)
[20:02:32] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[20:02:35] <cmr> ski: mm, I see what you mean now.
[20:02:36] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Connection reset by peer)
[20:02:45] <herrwolfe45> janua: what type of issues are you having?
[20:02:47] <kanaka> eddyb: yes, a persistent list (although the goal is not just a simple list, but a more complex structure where each structure may be referred to by multiple other structures).
[20:02:49] <aatch> Ahhh, now I get it.
[20:02:49] *** Quits: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru) (Quit: Leaving.)
[20:03:07] <kanaka> eddyb: so &*rest gives: type std::rc::Rc<IntList> cannot be dereferenced
[20:03:14] <eddyb> kanaka: update your rust
[20:03:20] <ski> cmr : i know in OO you typically bundle the vtable directly with each object value (instance variables), but depending on what you want to do, there are cases where you don't want that
[20:03:32] <kanaka> eddyb: ah, that's what you meant by "now".
[20:03:42] <janua> herrwolfe45: Undefined symbols for architecture x86_64. So something to do with architecture. I have compiled before on this machine, but after updating master, it no longer will compile
[20:03:44] <eddyb> kanaka: and remember to use Weak for non-owning links when you have a more complicated structure, to prevent cycles
[20:03:50] <cmr> ski: quite. it's possible to do, but only with unsafe code.
[20:04:13] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[20:04:13] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[20:04:27] <aatch> hmm, wouldn't actually be that hard to do though.
[20:04:45] <bjz> janua: you might have to nuke it and recompile
[20:04:48] <ski> this is more or less about the difference between using object-orientation for data abstraction, and using abstract data types (of which existentials is an extension of)
[20:04:56] <aatch> At least, implementation side, expressing it in the type system might be more difficult.
[20:05:20] *** Joins: asmyers (quassel@9B846F14.A07F7734.FAA4474F.IP)
[20:05:35] <janua> bjz: Nuke, as in, make clean or re-clone the repo?
[20:05:39] *** Quits: kris (kris@moz-9410C490.dk.customer.tdc.net) (Ping timeout)
[20:05:40] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[20:05:44] <bjz> janua: reclone
[20:05:56] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[20:05:58] *** Quits: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP) (Ping timeout)
[20:06:05] <halosghost> jeaye: will you teach me the song of your people? (ncurses) :P
[20:06:44] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[20:06:46] <janua> bjz: I could try, but I can't see how that would work. Is there something nasty going on with git?
[20:07:11] <bjz> no, there coud be stuff hanging around from the llvm build
[20:07:14] <ski> cmr,aatch : see e.g. "On Understanding Data Abstraction, Revisited" by William R. Cook in 2009-10 at <http://www.cs.utexas.edu/~wcook/Drafts/2009/essay.pdf> for this distinction between OO and ADTs -- the TaPL ("Types and Programming Languages" book by Benjamin C. Pierce in 2002-01 at <http://www.cis.upenn.edu/~bcpierce/tapl/>) book also mentions some aspects of this
[20:07:41] <bjz> janua: gisting the error might help
[20:07:52] <nstdloop> Does rust support any kind of lazy evaluation ala python's generators?
[20:07:55] <aatch> ski, nah, I understand now, just needed to make room for a combination of ideas I hadn't encountered.
[20:08:02] <aatch> nstdloop, the iterators are lazy
[20:08:05] <ski> (if you haven't seen the "previous" classic paper "On Understanding Types, Data Abstraction, and Polymorphism" by Luca Cardelli,Peter Wegner in 1985-12 at <http://lucacardelli.name/Papers/OnUnderstanding.A4.pdf>, then i recommend it as well)
[20:08:08] <janua> bjz: Ok, I will try that then. I actually am giving a make clean a go now, but I think I have already tried this. This is about the fourth time I have tried to compile.
[20:08:11] <eddyb> nstdloop: we have iterators, but no syntax sugar for constructing them like in python
[20:08:26] <bjz> janua: make clean doesn't clean it all :P
[20:08:29] *** Joins: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk)
[20:08:35] <nstdloop> Oh. Cool.
[20:08:48] <eddyb> nstdloop: we want that too, but maybe only as a syntax extension
[20:08:55] *** Quits: joaoportela (joaoportel@moz-D9077293.dsl.telepac.pt) (Quit: Leaving)
[20:08:57] <janua> bjz: Hmm!! Right ill kill this off, and re clone and gist the error if there is one
[20:09:00] <janua> Thanks!
[20:09:05] *** Joins: mib_o8bvg6 (Mibbit@moz-25EBF39F.lightspeed.austtx.sbcglobal.net)
[20:09:07] *** Joins: homa_rano (edre@moz-9BE50501.hsd1.ma.comcast.net)
[20:09:13] <halosghost> jeaye: do you always use allman-style bracing?
[20:09:19] <nstdloop> I'm basically just trying to make a nice fib implementation where I can do something akin to "take n" of a lazy fib iterator.
[20:09:28] <ski> aatch : yes, implementation-wise, it shouldn't be hard -- note this doesn't require DST by itself
[20:09:46] <bjz> janua: there might be a way of cleaning llvm on its own, but it might just be easier to have a clean go
[20:09:46] *** Joins: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP)
[20:09:53] <eddyb> nstdloop: MyFibIter::new().take(n)
[20:10:07] <nstdloop> Nice.
[20:10:09] <Jemaclus> bjz: no experience with Haskell
[20:10:10] <eddyb> nstdloop: and call .collect() on that to get a concrete collection
[20:10:17] *** Quits: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk) (Ping timeout)
[20:10:17] <aatch> ski, like I said, expressing it in the type-system is the hard part, at least, not without making it silly to do.
[20:10:18] <bjz> janua: next time, mkdir build; cd build; ../configure...etc
[20:10:23] <Jemaclus> bjz: but your explanation makes sense to me. thanks.
[20:10:24] <eddyb> nstdloop: we're missing only one feature (that I know of) to be able to implement generators (as state machines) with only a syntax transform and no type info
[20:10:35] <nstdloop> I gotta say rust is pretty cool. C-like performance without all the pain.
[20:10:38] <janua> bjz: Ah, will it namespace it if I do it like that?
[20:11:03] <halosghost> nstdloop: have you discovered the match expression yet?
[20:11:04] <kmc> all my most clever macros are being foiled by "error: Local ambiguity: multiple parsing options: built-in NTs tt ('lcmds') or 1 other options." :/
[20:11:10] <bjz> janua: it will keep the compiled stuff separate
[20:11:15] <kmc> any macro experts around who could help me understand this? maybe pauls?
[20:11:16] <Jemaclus> is -0 a thing?
[20:11:18] <halosghost> that's when Rust really wooed me
[20:11:21] <nstdloop> halosghost: It's still my favorite feature.
[20:11:29] <nstdloop> I miss that so much when not working in Haskell
[20:11:31] <bjz> janua: that way if anything happens you can just rm build
[20:11:34] <sfackler> Jemaclus: it is for floats
[20:11:35] <strcat> Jemaclus: with floats, yes
[20:11:42] <janua> bjz: Thats good advice, thanks
[20:11:43] <strcat> Jemaclus: x == x with floats also isn't always true
[20:11:45] <nstdloop> or, now, rust
[20:11:46] <Jemaclus> awesome.
[20:11:54] <pauls> kmc: so, there's kinda a long story here...
[20:11:59] <strcat> Jemaclus: and !(x < y) && !(y < x) doesn't imply x == y with floats either
[20:12:06] <kmc> I can probably provide a minimal reproducer if desired
[20:12:11] <strcat> Jemaclus: and + 2.0 - 2.0 isn't the same as a no-op
[20:12:15] <strcat> Jemaclus: [...]
[20:12:17] <pauls> kmc: the Rust parser, when it fails, kills the whole task.
[20:12:29] <pauls> (someday, I hope this will be fixed)
[20:13:00] <strcat> and ofc, they're floats, not fixed-point, so they are denser in some areas than others ;)
[20:13:00] *** Quits: asmyers (quassel@9B846F14.A07F7734.FAA4474F.IP) (Ping timeout)
[20:13:00] <pauls> kmc: This means that, when the macro parser wants to parse a syntax fragment using the Rust parser...
[20:13:13] <strcat> iirc, over half of doubles are between -1 and 1
[20:13:17] <Jemaclus> strcat: so uh.. how do other languages handle that?
[20:13:23] <pauls> ...it needs to have no "local ambiguity" going into it.
[20:13:25] <strcat> Jemaclus: which part?
[20:13:35] <Jemaclus> strcat: x == y
[20:13:47] <ski> aatch : one would need some explicit way of writing the existential quantifier, for a type variable. like one could have `forall' for universals
[20:13:57] *** Quits: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: brendan)
[20:14:00] <strcat> Jemaclus: if x is NaN and y is NaN, that's false
[20:14:14] <pauls> e.g., if the macro parser could accept either a block or a type at some point, and it failed to parse a block, it would never get a chance to parse a type.
[20:14:27] <strcat> Jemaclus: and it's true for -0.0 and 0.0 even though they're different
[20:14:32] * ski is looking at <http://cmr.github.io/blog/2014/02/01/polymorphic-declaration-syntax-in-rust/>
[20:14:44] <pauls> So it refuses to go forwards (and gives that error message) if it finds itself in that situation.
[20:14:44] *** Joins: Armavica (virgile@moz-AD428ED7.ens.fr)
[20:14:58] *** Quits: pczarn (pczarn@moz-69A55FA.izacom.pl) (Input/output error)
[20:15:08] *** Quits: mib_o8bvg6 (Mibbit@moz-25EBF39F.lightspeed.austtx.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:15:11] <strcat> Jemaclus: there are also multiple encodings of the same numbers
[20:15:19] * strcat shrugs
[20:15:22] *** Quits: dschatzberg (dschatzber@moz-E2680405.bu.edu) (Input/output error)
[20:15:22] *** Joins: gereeter (Mibbit@moz-25EBF39F.lightspeed.austtx.sbcglobal.net)
[20:15:27] <strcat> that's just how IEEE754 floats are
[20:15:36] <strcat> if you want sanity, use rationals, because computers can't do real numbers
[20:15:45] <aatch> ski, yeah, right now we don't have any way of saying "all the same type, that matches some trait(s), not known at compile time", in fact, I'm not entirely sure if it's actually possible...
[20:15:45] <Jemaclus> hm
[20:15:45] <cmr> ski: btw I've retracted that proposal
[20:15:46] *** Joins: bnicholson (bnicholson@883FDC4D.BF05706.A36C57B9.IP)
[20:15:48] <strcat> rationals are the rational choice ;)
[20:15:55] <strcat> big integer numerator/denominator
[20:16:01] <Jemaclus> strcat: x / 1?
[20:16:02] <ski> cmr : i think i'd prefer `forall<T, U> struct<T, U> Foo { ... }' and `forall<T, U> fn foo<T, U>(...) { ... }' with the possibility of leaving out the `forall<T, U>' part as implicit
[20:16:05] <strcat> you can do multiplication, division, addition, subtraction, etc. with no loss of precision
[20:16:06] <Jemaclus> strcat: x / 1 == y / 1?
[20:16:14] *** Quits: Armavica (virgile@moz-AD428ED7.ens.fr) (Quit: leaving)
[20:16:16] <strcat> Jemaclus: no it doesn't fix floats
[20:16:17] <cmr> ski: It appears I'm going to be diving into the deep end of type and/or proglang theory over spring break.
[20:16:21] <strcat> I am talking about a separate number type
[20:16:24] <Jemaclus> fuuu
[20:16:33] <strcat> true rational numbers work well on computers
[20:16:42] <ski> (because that's the logically sensible way to interpret it)
[20:16:42] <eddyb> strcat: hmm, floats are actually a subset of rationals
[20:16:45] <strcat> computers can't do real numbers, only an approximation, like IEEE754 floating point
[20:16:47] <eddyb> strcat: + infinities
[20:16:59] <strcat> yes, all floats can be represented as rational numbers (except infinity and NaN)
[20:17:02] <Jemaclus> I'm trying to write a test for averages
[20:17:07] <eddyb> and you can totally represents infinities as rationals
[20:17:09] <strcat> but with rational numbers you don't have sqrt, trig functions, etc.
[20:17:13] <kmc> pauls: I'll give you an example of what I'm trying to do and maybe you will know of a workaround
[20:17:16] <eddyb> 1 / 0 and -1 / 0
[20:17:22] <pauls> kmc: ok
[20:17:26] <Jemaclus> so I want to know that (x + y + z) / 3 == w.0
[20:17:26] <eddyb> strcat: so you're only missing NaN. can you complain? I can't
[20:17:28] <Jemaclus> or whatever
[20:17:31] <gereeter> eddyb: and NaN is 0/0
[20:17:31] <strcat> eddyb: most sane representations wouldn't allow that though
[20:17:36] <eddyb> gereeter: oh, right
[20:17:43] <strcat> eddyb: there's no way to actually get infinity as a result with rationals
[20:17:45] <aatch> stupid pi, being all irrational.
[20:18:06] <eddyb> aatch: transcendental, even (I think)
[20:18:06] <ski> cmr : of course, using the same argument, one could argue for `forall(gfx,drawables) draw_all(gfx,drawables) { ... }' :) and here i'm not sure if there's any gain at all with *allowing* an explicit universal
[20:18:08] <strcat> eddyb: you don't have weird functions like sin and log10 ;p
[20:18:19] <aatch> eddyb, actually yes
[20:18:27] <strcat> and you can just use big integers, no worries about overflow or *ever* losing precision
[20:18:29] * strcat shrugs
[20:18:35] <eddyb> nstdloop: we're missing only one feature (that I know of) to be able to implement generators (as state machines) with only a syntax transform
[20:18:36] <Jemaclus> my program is getting the correct results, but i have no way of automatically validating them, because I can't check to see if x == y, because they're both floats. Frustrating.
[20:18:44] <ski> aatch : hm, can you elaborate on why it wouldn't be possible ?
[20:18:48] <eddyb> nstdloop: ^^ I meant to say the above a few minutes ago but got distracted
[20:19:00] <strcat> for money, you really need arbitrary precision decimals though, because monetary stuff usually has defined precision/rounding at various points
[20:19:17] *** Quits: bnicholson (bnicholson@883FDC4D.BF05706.A36C57B9.IP) (Quit: Leaving)
[20:19:18] <nstdloop> eddyb: Iterators seem pretty close right now, considering you can wrap arbitrary info in the struct.
[20:19:18] <eddyb> strcat: so rationals... the only problem with them is the missing hardware support, right?
[20:19:21] <ski> (aatch : e.g. the corresponding concept is possible in GHC Haskell. now there might be reasons why it wouldn't be possible in Rust, but then i'd like to know about them ;)
[20:19:25] <cmr> ski: mind stepping into #rust-offtopic for a moment?
[20:19:27] <sfackler> Jemaclus: floats are traditionally compared for equality within some epsilon. abs(a, b) < eps instead of a==b
[20:19:34] <strcat> eddyb: well they're not as fast as floats, or fixed-point reals
[20:19:43] *** Joins: bnicholson (bnicholson@883FDC4D.BF05706.A36C57B9.IP)
[20:19:45] *** Joins: Armavica (virgile@moz-AD428ED7.ens.fr)
[20:19:46] <sfackler> er, abs(a-b)
[20:19:47] <eddyb> fixed point is rational, though
[20:20:01] <strcat> eddyb: fixed-point is an approximation of real numbers
[20:20:08] <strcat> like floating point
[20:20:19] <eddyb> floats are technically rational if you ignore infinities and NaN (but I'm just repeating myself)
[20:20:26] <strcat> rationals store numbers as a ratio
[20:20:35] <Jemaclus> what's epsilon?
[20:20:37] <strcat> eddyb: but they are an approximation of real numbers
[20:20:40] <sfackler> Jemaclus: some small number
[20:20:43] <strcat> eddyb: they're not a representation of rational numbers
[20:20:47] *** Joins: heftig (heftig@moz-C206A7B2.dip0.t-ipconnect.de)
[20:20:49] <strcat> eddyb: they can't represent every rational number
[20:21:01] <eddyb> strcat: well, true, limited precision
[20:21:04] <Jemaclus> i see.
[20:21:09] <jeaye> halosghost: hmm?
[20:21:12] <strcat> eddyb: anyway
[20:21:14] *** Parts: bnicholson (bnicholson@883FDC4D.BF05706.A36C57B9.IP) (Leaving)
[20:21:17] <eddyb> strcat: you get a similar issue with a non-big-int rational
[20:21:20] <strcat> sanity == big integers, and rationals based on big integers
[20:21:21] <sfackler> Jemaclus: e.g. http://en.wikipedia.org/wiki/Machine_epsilon
[20:21:26] <strcat> eddyb: sure, but why would you use that? ;p
[20:21:34] <halosghost> jeaye: your examples in ncurses-rs are all allman-style braced
[20:21:49] <eddyb> computers can't do irrationals other than starting from an irrational "seed"
[20:21:55] <halosghost> is that your preferred bracing style?
[20:22:00] <Jemaclus> I feel like a moron today.
[20:22:09] *** Quits: edwardw (edwardw@B5386878.16F55560.50B134B9.IP) (Quit: Leaving...)
[20:22:11] <jeaye> halosghost: Ah, yes. I do always use it... in every language I write.
[20:22:13] <aatch> ski, actually, it would be possible, just need some way of essentially inverting trait objects.
[20:22:21] <halosghost> jeaye: fer nuff
[20:22:24] <gereeter> eddyb: they can in some restricted cases
[20:22:30] <strcat> eddyb: you won't get functions like sin/log with rational number types because you can't have sane tables or approximations for an unbounded range of numbers
[20:22:39] <strcat> and rationals are expected to be *exact*
[20:22:43] <strcat> not an approximation
[20:22:49] <gereeter> eddyb: cyclic continued fractions can represent quadratic roots
[20:22:50] <jeaye> halosghost: I don't see why the language should dictate such preferences. :)
[20:22:51] <eddyb> strcat: so I'm wondering... can't you just expand on rationals *without* destroying their benefits, with some sort of irrational bases
[20:22:55] * Ms2ger yawns
[20:22:55] <ski> "What Every Programmer Should Know About Floating-Point Arithmetic" at <http://floating-point-gui.de/> and "What Every Computer Scientist Should Know About Floating-Point Arithmetic" by David Goldberg in 1991 at <http://docs.sun.com/source/806-3568/ncg_goldberg.html> and <http://citeseer.ist.psu.edu/viewdoc/summary?doi=10.1.1.102.244>
[20:22:58] <strcat> so, with zero cares about performance
[20:23:03] <ski> Jemaclus : please consider looking at ^
[20:23:12] <bjz> ski: o/
[20:23:16] *** Quits: Armavica (virgile@moz-AD428ED7.ens.fr) (Ping timeout)
[20:23:17] <halosghost> jeaye: Oh, I completely agree, it annoys me when a language dictates bracing style
[20:23:26] <eddyb> strcat: hmm... tables...
[20:23:28] <halosghost> I just don't see Allman that often
[20:23:35] <strcat> you probably just want big integers, rationals (pair of big integers) and arbitrary precision decimals (or an arbitrary base, but I doubt you really need that)
[20:23:40] <eddyb> strcat: you just gave me an awesome idea!
[20:23:40] <strcat> ofc, rust cares about perf ;)
[20:23:47] <Jemaclus> ski: thanks. i'm coming from a higher level language, so i haven't had to worry about this stuff before.
[20:24:00] *** Joins: alkino (alkino@moz-58B8E4B4.w92-151.abo.wanadoo.fr)
[20:24:01] <strcat> eddyb: fixed-point would be faster than floating-point if hw didn't support floating point explicitly
[20:24:15] <nstdloop> eddyb: So what do you think would be the nicest way to do a fib iterator. I know in python I'd just yield the first two values before going into a loop, but that doesn't seem to be easily doable.
[20:24:20] <bjz> Jemaclus: all langs that use floats have this
[20:24:21] <gereeter> eddyb: also, you can use weird stuff like cyclotomic numbers
[20:24:22] <strcat> but IEEE754 is a standardization of floating point so there's something for hw to target
[20:24:32] *** Joins: Armavica (virgile@moz-AD428ED7.ens.fr)
[20:24:33] <ski> aatch : ok, which was what i thought (if by "inverting" you mean the splitting i meant, while still statically associating the `vtable' with the right values, so that you don't use the wrong `vtable' anywhere)
[20:24:36] <strcat> with fixed-point, afaik there isn't a big standard like that
[20:24:37] <eddyb> nstdloop: just hold two values in a struct as your state
[20:24:42] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[20:24:47] <strcat> so you'll have many, many choices taken by different implementations
[20:24:52] <ski> Jemaclus : ooc, which language ? :)
[20:25:03] <nstdloop> eddyb: Yes, but how do I *start*. i.e. what do I do for the first two values.
[20:25:07] *** Quits: onelson (owen@C668895F.36788A19.5625D66B.IP) (Ping timeout)
[20:25:08] *** Quits: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: mbx)
[20:25:09] <strcat> Jemaclus: which language didn't make you worry about floating point? ;\
[20:25:32] <eddyb> nstdloop: you implement the Iterator trait with its "next" method where you update once
[20:25:41] <strcat> Jemaclus: there is no such thing as a non-approximate real number type on a computer
[20:25:45] <strcat> no language has one, it's not possible.
[20:25:51] <Jemaclus> python, ruby, php
[20:25:57] <Jemaclus> (i'm a web guy)
[20:26:02] <eddyb> strcat: lower precision, use (2D?) trig lookup table, then increase precision (using known methods). now there could be a precision limit so it doesn't take too freaking long
[20:26:06] <strcat> Jemaclus: python uses double-precision floating point for real numbers
[20:26:09] *** Quits: dranov (dranov@A64F5A43.65119E71.FB866788.IP) (Ping timeout)
[20:26:10] <nstdloop> Hmm I see.
[20:26:13] <eddyb> strcat: but I guess that still throws performance out the window
[20:26:15] <strcat> Jemaclus: exactly the same semantics as floats in rust
[20:26:21] <strcat> (f64)
[20:26:32] <strcat> Jemaclus: ruby/php likely use doubles too
[20:26:33] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[20:26:34] <nstdloop> Python calls them floats, everyone else calls them doubles or float64
[20:26:37] <Jemaclus> sure
[20:26:47] <aatch> ski, just trying to model it in my head, I can't really think of a rust-like syntax, which is making it harder. But essentially yes.
[20:26:53] <Jemaclus> but in Ruby I can do something like:   a = 1.0, b = 1.0, a == b
[20:26:58] <nstdloop> Jemaclus: If you do 0.1 + 0.2 in a pyton interpreter you don't get 0.3
[20:26:58] <eddyb> JS has all the float comparison quirks which can lead to wtf's
[20:27:01] <strcat> python has a 'fractions' module with rational numbers and a 'decimal' module with arbitrary precision decimals, but that still counts as worrying about it
[20:27:02] *** Joins: dranov (dranov@A64F5A43.65119E71.FB866788.IP)
[20:27:05] <strcat> Jemaclus: you can do that in rust too...
[20:27:06] <sfackler> Jemaclus: you can do that in rust as well
[20:27:06] <nstdloop> i.e. 0.1 + 0.2 != 0.3 in pyton
[20:27:10] <strcat> Jemaclus: same semantics as rust
[20:27:16] <Jemaclus> ughasdjghaskljdghaskldgjhasklg
[20:27:17] <nstdloop> or ruby or pho
[20:27:19] <Jemaclus> you just told me you can't do that
[20:27:23] <ski> Jemaclus : it might also perhaps be interesting to take a peek at <http://en.wikipedia.org/wiki/Numerical_analysis>, especially the concepts of round-off, truncation, and discretization errors, and the important concepts of stability and well-conditioning
[20:27:24] <Jemaclus> because floats don't match
[20:27:25] <Jemaclus> or something
[20:27:26] <strcat> Jemaclus: no, I told you that x == x isn't always true
[20:27:27] <Jemaclus> wtf
[20:27:28] <eddyb> Jemaclus: it's not sane to do that
[20:27:28] <sfackler> Jemaclus: you can't *always* do that
[20:27:36] <kmc> pauls, or any other macro experts: https://gist.github.com/kmcallister/9515601
[20:27:40] <strcat> Jemaclus: x == x isn't always true, and floating point operations don't follow mathematical laws
[20:27:49] <strcat> notice I'm saying x == x
[20:27:50] <Jemaclus> am I being punked or something?
[20:27:54] <ski> aatch : ok
[20:28:00] <Earnestly> Jemaclus: No, you're not
[20:28:02] <strcat> Jemaclus: no, you're just not reading what I'm saying
[20:28:03] <eddyb> Jemaclus: because you can have two values that are so close but still not exact. there's also the issue strcat is hinting at (NaNs)
[20:28:10] <nstdloop> Jemaclus: I suggest you read some articles about floats. Floats are weeeeeird.
[20:28:10] <gereeter> Jemaclus: try float('nan') == float('nan') in python
[20:28:18] <Earnestly> Jemaclus: This is the fact of life when doing floating point in binary
[20:28:26] <strcat> Earnestly: doesn't have to do with binary
[20:28:32] <ski> nstdloop : actually they're (perhaps somewhat confusingly ?) called `real's in SML :)
[20:28:34] <strcat> there are a multitude of issues
[20:28:47] <Earnestly> strcat: But, it does explain why 0.1 in binary is such a problem :/
[20:28:51] <strcat> Earnestly: computers can't represent real numbers, is the first issue - there is no way to accurately represent real numbers
[20:28:58] <Earnestly> Right
[20:29:00] *** Quits: hoverbea_ (hoverbear@726D908C.44E18222.E74D50F2.IP) (Quit: Taking a nap.)
[20:29:04] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Client exited)
[20:29:04] <eddyb> hmpf
[20:29:05] <bjz> ski: heh, they were a tad optimisic there
[20:29:08] <strcat> Earnestly: the problem there is that 0.1 is a decimal literal
[20:29:14] *** Quits: dranov (dranov@A64F5A43.65119E71.FB866788.IP) (Ping timeout)
[20:29:16] <kmc> fun fact: almost every real number contains an infinite amount of information
[20:29:24] <eddyb> can't we just do e ^ Complex<Rational<BigInt>>?
[20:29:37] <nstdloop> ski: Some other do it too, but less than doubles and floats. I personally actually do like real better, considering it is closer to the mathematical definition.
[20:29:40] <bjz> kmc: err...?
[20:29:42] <SiegeLord> kmc: How are you defining information :P
[20:29:43] <strcat> Earnestly: if the base you're writing literals in is a factor of the base you're representing numbers with, it works sanely
[20:29:47] <ski> bjz : who where ?
[20:29:55] <strcat> Earnestly: there *are* floating point and fixed point numbers in decimal, in fact IEEE754 has them
[20:29:56] <bjz> ski: SML
[20:30:00] <pyon> strcat: http://math.andrej.com/2008/02/06/representations-of-uncomputable-and-uncountable-sets/
[20:30:01] <strcat> Earnestly: it's still messed up.
[20:30:01] *** Quits: Kruppe (user@moz-6B573707.dynamic.uwaterloo.ca) (Client exited)
[20:30:03] <eddyb> strcat: lets use base 60
[20:30:03] <Earnestly> Hmm
[20:30:03] <kmc> well almost every real number is uncomputable, which is like having infinite kolmogorov complexity
[20:30:08] <sigma> kmc: https://github.com/philipl/pifs
[20:30:10] <ski> bjz : ok
[20:30:11] <eddyb> strcat: babylonians had it right
[20:30:18] <bjz> kmc: ohhh
[20:30:21] *** jorendorff is now known as jorendorff_away
[20:30:24] <Jemaclus> all I'm saying is that I'm doing x / y and I want to see if it's equal to z
[20:30:30] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[20:30:34] <eddyb> it's 12 (which has a lot of divisors) * 5 (which you need for base 10)
[20:30:38] <Jemaclus> and it's never true, even though if I print them out, I get 0f64 and 0f64
[20:30:40] <kmc> it means that you can keep asking for more digits forever and there's no algorithm for predicting the next one
[20:30:40] <nstdloop> kmc: Considering that there are an uncountable infinity of those, you can pretty much just say "all" instead of most of :)
[20:30:40] <gereeter> eddyb: why not 30?
[20:30:41] <Ms2ger> Jemaclus, y*z==x?
[20:30:41] <ski> pyon :)
[20:30:45] <eddyb> Jemaclus: you should use some sort of approx_eq
[20:30:48] <pyon> ski: :-)
[20:30:50] <eddyb> gereeter: that might make sense
[20:30:51] <strcat> Jemaclus: x / y == z is equally insane in ruby/python/rust
[20:30:58] <kmc> nstdloop: I said "almost every" which has a precise mathematical meaning
[20:31:02] <kmc> (all but a set of measure zero)
[20:31:04] <sigma> Jemaclus: That happens in python/ruby/js too
[20:31:04] <strcat> Jemaclus: rust's floating point is no higher or lower level than python's floating point
[20:31:06] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[20:31:07] <gereeter> eddyb: or even better, 210
[20:31:09] <Jemaclus> i've never had a problem in the other languages.
[20:31:13] <eddyb> gereeter: lol
[20:31:17] <nstdloop> kmc:  fair.
[20:31:17] <sfackler> nstdloop: http://en.wikipedia.org/wiki/Almost_all
[20:31:19] *** Joins: Kruppe (user@moz-FCFA8F96.dynamic.uwaterloo.ca)
[20:31:19] * Ms2ger approves of mathematics
[20:31:20] <sigma> Jemaclus: http://www.altdevblogaday.com/2012/02/22/comparing-floating-point-numbers-2012-edition/
[20:31:23] <eddyb> Jemaclus: because you didn't know you had problems
[20:31:28] <strcat> Jemaclus: open a python interpreter, run 0.1 + 0.2 == 0.3
[20:31:34] <bjz> Jemaclus: you have just never known about it until today
[20:31:41] *** jorendorff_away is now known as jorendorff
[20:31:45] <SiegeLord> It's not a common problem :P
[20:31:47] <eddyb> Rust hurts you so you can learn to care about important things
[20:31:51] <eddyb> I love it
[20:31:53] <SiegeLord> Only happens if you use == with floats
[20:31:59] *** Quits: luziie (luziie@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[20:32:00] <Earnestly> Jemaclus: Basically you need to set some kind of epsilon, "how close to do you want the result to be "
[20:32:06] <pyon> The operator == cannot be used on floats, right?
[20:32:06] <Earnestly> Jemaclus: https://en.wikipedia.org/wiki/Machine_epsilon
[20:32:08] <strcat> SiegeLord: or <, >, <=, >= because NaN is messed up
[20:32:12] *** Joins: luziie (luziie@moz-CD18B14B.customer.cdi.no)
[20:32:16] <Jemaclus> ugh
[20:32:20] <SiegeLord> You don't get NaNs often
[20:32:22] <Jemaclus> kill me now.
[20:32:24] <pyon> rusti: 0.1 == 0.1
[20:32:27] <SiegeLord> NaNs are usually buggy code
[20:32:31] <eddyb> SiegeLord: Rust is nice that way
[20:32:31] <aatch> strcat, atleast inequality /normally/ works.
[20:32:31] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[20:32:31] *** ChanServ sets mode: +ao pcwalton pcwalton
[20:32:33] <Earnestly> Jemaclus: Have you never come across this before?
[20:32:35] <strcat> pyon: == certainly works on floats in rust
[20:32:40] <eddyb> SiegeLord: try doing anything with numbers in JS
[20:32:41] <pyon> Aw. :-(
[20:32:41] <strcat> aatch: but x != x can be true
[20:32:51] <SiegeLord> eddyb: XD
[20:32:55] <nstdloop> And the painful part is that you can't just set epsilon to some value and just move on, because the difference between floats changes depending on which two "consecutive" floats you are talking about.
[20:32:56] <eddyb> SiegeLord: "oh, you thought this value is going to be a number? too bad"
[20:32:56] <strcat> aatch: and x and y can be different numbers but equal
[20:33:00] <strcat> aatch: (-0.0 and 0.0)
[20:33:02] * strcat shrugs
[20:33:05] <strcat> okay
[20:33:07] <eddyb> SiegeLord: goes for all untyped languages
[20:33:07] <strcat> here's a fun one
[20:33:11] <kmc> floats are an infinite source of wtf
[20:33:19] <Jemaclus> Earnestly: to be honest, no. but I've also never really done a lot of float operations.
[20:33:21] <mcpherrin> floats are okay if you know how they work
[20:33:22] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[20:33:26] <eddyb> ℯ << so that has its own glyph
[20:33:26] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[20:33:30] <strcat> mcpherrin: indeed
[20:33:32] <Earnestly> Jemaclus: Or any lower level languages?
[20:33:38] <strcat> but expecting them to work like real life real numbers doesn't work
[20:33:41] <SiegeLord> Been writing numerical simulations with floats for years... none of this was an issue
[20:33:42] <kmc> they are divine punishment for the sin of trying to represent members of an uncountably infinite set in 64 bits
[20:33:44] <Earnestly> Jemaclus: Even python had to do this
[20:33:52] <SiegeLord> The real issue was catastrophic cancellation
[20:33:55] <strcat> SiegeLord: sure, but people abuse them for monetary calculations and so on
[20:33:56] <gereeter> mcpherrin: can anyone truly internalize how they work?
[20:33:56] <Jemaclus> Earnestly: I get it. Everyone knows about this but me. Thanks.
[20:33:58] <mcpherrin> strcat: the worst is when people pretend they're not ieee754 floats and do weird things
[20:34:06] <ski> pyon : effectively, `==' is never true on floating-point numbers (not strictly true, but you're probably better of thinking of it in that way, for most uses)
[20:34:06] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[20:34:12] <strcat> SiegeLord: in different domains, different choices are needed
[20:34:18] <Earnestly> Jemaclus: Anyway, this is but the tip of the insanity ice berg when it comes to programming, have fun :D
[20:34:26] <aatch> gereeter, sure, they aren't that complicated.
[20:34:28] <pyon> ski: So Standard ML is the only sane language in which floating-points are not comparable... :-(
[20:34:31] <eddyb> strcat: doesn't this allow to get irrational numbers from Complex<Rational> exponents of e? https://en.wikipedia.org/wiki/%E2%84%AF#Complex_numbers
[20:34:36] <bjz> pyon: indeed
[20:34:41] * pyon 's dreams have been crushed.
[20:34:41] *** Quits: sigma (sigma@moz-55097A0B.range86-163.btcentralplus.com) (Ping timeout)
[20:34:47] <SiegeLord> You could say floats are wrong tools for some jobs, but for everything else... they are ok
[20:34:49] <mcpherrin> The hard bit is devising good algorithms that are numerically stable given the realities of ieee754
[20:34:56] <pyon> Errr... s/comparable/testable for equality/
[20:34:57] <bjz> pyon: well, I wouldn't say the *only* lang
[20:35:01] <strcat> pyon: meh, IEEE754 defines equality
[20:35:02] <bjz> yep
[20:35:08] <mcpherrin> There's weirdness with like the 80 bit floats in x86
[20:35:10] <strcat> pyon: so it's sane, as long as they don't meet an Eq type bound
[20:35:12] <pauls> kmc: On line 17, try putting a separator between the `tt`s. So, `$($eq0:tt),+`, instead of `$($eq0:tt)+` (and likewise for `ne0`)
[20:35:14] <strcat> pyon: which we are going to fix.
[20:35:14] <eddyb> strcat: though I don't see an obvious way to get PI out of it
[20:35:19] <Jemaclus> Usually when I deal with floats in the web world, I've limited it to X number of decimal places
[20:35:21] <pyon> strcat: Ah!
[20:35:22] <Jemaclus> for dollar amounts, etc
[20:35:22] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[20:35:26] *** Joins: nlminhtl (ignotus@27EDE6E3.D40C3436.2D85221C.IP)
[20:35:33] <gereeter> eddyb: that does allow you irrational numbers, but not, e.g., 2
[20:35:34] <eddyb> strcat: I feel like this channel is reaching ##c++ status
[20:35:34] <Jemaclus> so maybe that's different.
[20:35:42] <ski> pyon : this is related to the fact that it is in general *impossible* to observe that two given real numbers are equal, *while* it is *possible* to observe that they *are* equal (given that you measure stuff good enough (and of course this ignores Heisenberg's uncertainty principle, and such nasty issues))
[20:35:42] <strcat> pyon: so this is what I want to have in rust
[20:35:46] <aatch> Jemaclus, for those situations, you should probably use fixed-point
[20:35:51] <Earnestly> eddyb: What is ##c++ status?
[20:35:57] <strcat> pyon: PartialEq defines == and !=, PartialOrd inherits from it and defines <, >, <=, >=
[20:35:59] <Jemaclus> aatch: wjats
[20:36:07] <eddyb> Earnestly: incomprehensible mess at rush hours
[20:36:07] <Jemaclus> aatch: how do you do that in rust?
[20:36:10] <kmc> pauls: that works, unfortunately it destroys the syntax of the DSL i'm trying to implement :/
[20:36:11] <Earnestly> heh
[20:36:16] <eddyb> gereeter: because ln 2 is irrational? :(
[20:36:17] <strcat> pyon: Eq inherits from PartialEq and defines *no methods*, it just means that it's an equivalence implementation
[20:36:19] <pyon> ski: Yeah, I know. Actually, I am arguing that floats being testable for equality is a bad thing.
[20:36:31] <gereeter> eddyb: yep
[20:36:34] <kmc> I don't understand the ambiguity because $($eq0:tt)+ is in parentheses... I just want every tt within those delimiters, that should be unambiguous
[20:36:34] <eddyb> gereeter: maybe rational + e ^ i*rational?
[20:36:36] <pyon> strcat: :-O
[20:36:40] <strcat> pyon: Ord inherits from Eq and provides one method 'cmp', (you also get all the other methods via inheritance) and defines it as a total order
[20:36:43] <aatch> Jemaclus, same way you do in every other language, use an integer
[20:36:47] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[20:36:51] <strcat> pyon: anyway that's what I want, and that's almost what we have already
[20:36:56] <strcat> pyon: just need to deal with renaming them
[20:36:58] <Jemaclus> ok.
[20:37:06] *** Joins: dybt (Mibbit@B3D75456.CA4759C1.E7727734.IP)
[20:37:12] *** Quits: nlminhtl (ignotus@27EDE6E3.D40C3436.2D85221C.IP) (Ping timeout)
[20:37:12] <eddyb> Jemaclus: you can do kinda-neat fixed point in Rust
[20:37:14] <strcat> atm we have Eq/Ord (would become PartialEq/PartialOrd) and TotalEq (has a method we need to remove) and TotalOrd
[20:37:14] <mcpherrin> Opinion:  if there was a regex!(a*b*[a-z]) type macro, would it be more or less awesome as regex!("a*b*[a-z]")
[20:37:15] <gereeter> eddyb: probably better is rational * e^ i*rational
[20:37:25] <Jemaclus> clearly i'm not cut out for this.
[20:37:26] <Earnestly> strcat: does PartialEq (will it?) let you define how partial it can be?
[20:37:26] <eddyb> gereeter: that's what I just said :P
[20:37:29] <Jemaclus> i'll go read some stuff and come back later.
[20:37:31] <Jemaclus> thanks for your input.
[20:37:34] <eddyb> gereeter: err, no
[20:37:38] <ski> pyon : "Synthetic topology of data types and classical spaces" by Martín Escardó in 2004-11 at <http://www.cs.bham.ac.uk/~mhe/papers/entcs87.(pdf|dvi|ps)> is an interesting work connecting computation and topology, which talks some about such things
[20:37:43] <bjz> eddyb: perhaps we need a rust-numerics channel
[20:37:51] <mcpherrin> s/Opinion(.*)/Poll\1/
[20:37:52] <strcat> Earnestly: weak enough to support floating point but no weaker
[20:37:52] <pauls> mcpherrin: I tend to like that sort of thing.
[20:37:52] <eddyb> gereeter: so use 0 for the second one, when you have rationals?
[20:37:58] <aatch> mcpherrin, not sure, how much of regex will tokenize in Rust?
[20:38:01] <ski> pyon : you should be able to follow at least the initial parts, if you know some basic Haskell
[20:38:09] <mcpherrin> aatch: Not sure, I think all of what I have in mind
[20:38:11] <strcat> Earnestly: it will basically mean that there are unordered values
[20:38:11] <eddyb> gereeter: the second rational being the irrational factor. I like it. now if only we could do anything with it =))
[20:38:14] <strcat> like NaN, or SQL NULL
[20:38:15] <gereeter> eddyb: that should work
[20:38:16] * pyon knows Haskell.
[20:38:24] <Earnestly> strcat: Oh, is some kind of machine epsilon defined by the standard for floating point?
[20:38:40] <eddyb> Jemaclus: FIxedPoint<uint, [1000000, ..u8]>
[20:38:42] <strcat> Earnestly: sure but it's not a sane thing to use anywhere
[20:38:48] <eddyb> Jemaclus: can totally implement it so that works
[20:38:50] <strcat> Earnestly: floating point values are denser in some areas than others
[20:38:51] <herrwolfe45> just out of curiosity, are floats used heavily in graphics work? In the type of work I do I basically don't use them ever
[20:38:52] <mcpherrin> The problem with writing regex!("abc") is that I obviously want to implement tokenizing regexes via said regex engine
[20:39:00] <mcpherrin> and eugh bootstrapping :)
[20:39:04] <strcat> herrwolfe45: they are used *heavily* in opengl/direct3d
[20:39:04] <eddyb> Jemaclus: but it's more efficient in general to use powers of two
[20:39:04] <Earnestly> strcat: That makes sense, so how will PartialEq deal with that?
[20:39:13] <ski> pyon : there's also a book "Topology Via Logic", by Steven Vickers, which talks about how disequality on reals is semi-observable (you can affirm it by evidence, but not refute it by evidence), and other interesting related stuff
[20:39:14] <strcat> herrwolfe45: they use vectors of floats *everywhere* ;)
[20:39:21] <eddyb> mcpherrin: r"abc" should work
[20:39:21] <kmc> mcpherrin: regexes can have unbalanced delimeters
[20:39:29] <mcpherrin> kmc: examples?
[20:39:38] <strcat> herrwolfe45: (vector as in the math meaning, not rust's)
[20:39:44] <gereeter> eddyb: However, we just lost basic irrational numbers
[20:39:45] <eddyb> mcpherrin: [(]
[20:39:49] *** Joins: mib_lzdvxh (Mibbit@moz-BE0E7C5.w86-203.abo.wanadoo.fr)
[20:39:50] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[20:39:56] <mcpherrin> eddyb: Well you could handle those cases by ["("]
[20:40:01] <eddyb> gereeter: how do you get PI, even?
[20:40:01] <herrwolfe45> thanks strcat 
[20:40:04] <eddyb> mcpherrin: no that's just bad
[20:40:08] <eddyb> mcpherrin: use r"..."
[20:40:16] <strcat> herrwolfe45: linear algebra and 3d graphics are basically the same thing ;p
[20:40:17] <ski> strcat : `PartialEq' may fail to terminate ? or may fail to be defined (detected failure) ? or both ?
[20:40:20] *** Quits: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP) (Quit: Leaving...)
[20:40:20] <mcpherrin> eddyb: okay, I'm convinced
[20:40:23] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[20:40:27] <strcat> ski: neither
[20:40:28] <gereeter> eddyb: another idea: http://hackage.haskell.org/package/cyclotomic-0.4
[20:40:33] <pyon> ski: Makes sense. You can only test finitely many symbols (from the countably infinitely many ones that it would take to represent a real number) in finite time.
[20:40:35] *** Joins: nlminhtl (ignotus@27EDE6E3.D40C3436.2D85221C.IP)
[20:40:47] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:40:50] <strcat> ski: PartialEq/PartialOrd mean there is an equality/ordering implementation, but not all values are ordered
[20:40:50] <Earnestly> herrwolfe45: Have you ever played those early 3D games, where a lot of geometry would wobble about as you moved?
[20:40:50] <ski> strcat : ok, "partial" in which sense, then ?
[20:40:52] <eddyb> mcpherrin: unless you want to write code supporting tokenizer hooks in libsyntax :P
[20:40:58] <mcpherrin> eddyb: nope!
[20:41:00] <strcat> ski: NaN is an unordered value for f32/f64
[20:41:09] <strcat> ski: x == x where x is NaN is *false*
[20:41:23] <herrwolfe45> Earnestly: such as wolfenstein?
[20:41:27] <Earnestly> strcat: How does PartialEq deal with floating point density, as you mentioned above?
[20:41:34] <strcat> Earnestly: doesn't need to
[20:41:37] *** Quits: mib_lzdvxh (Mibbit@moz-BE0E7C5.w86-203.abo.wanadoo.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[20:41:38] <strcat> it's not something it cares about
[20:41:43] <ski> strcat : oh -- but for a `=<' operation (in some languages written like `<='), one assumes reflexivity (while for `<', one assumes irreflexivity), even for partial (non-strict alt. strict) orders
[20:41:55] *** Quits: sawrubh (uid6719@moz-5F4AA75A.irccloud.com) (Quit: Connection closed for inactivity)
[20:42:00] <ski> strcat : so i'm not sure how this applies to equality ..
[20:42:05] <eddyb> what language uses =< for that, even?
[20:42:11] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[20:42:11] <Earnestly> herrwolfe45: Games like Dungeon Keeper 1/2, early Playstation 1 games, I'm sure that, that wobble, is caused by rounding errors with the floating point arith
[20:42:19] <eddyb> ski: I like how you made it sound like <= is in the minority :P
[20:42:24] <ski> strcat : hm .. perhaps you're thinking about <http://en.wikipedia.org/wiki/Partial_equivalence_relation>
[20:42:25] <herrwolfe45> ha, I never thought about that
[20:42:35] <ski> eddyb : well, it ought to be ;)
[20:42:35] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[20:42:36] *** Joins: chenyang (user@moz-8AF6A02F.airbears2.berkeley.edu)
[20:42:42] <strcat> ski: yes, Eq is equivalence, PartialEq is partial equivalence
[20:42:46] *** Joins: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[20:42:49] <ski> strcat : ok, ty
[20:42:49] <eddyb> [<>]=
[20:42:55] <Earnestly> herrwolfe45: Or rather, it just wasn't precise enough
[20:42:57] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Client exited)
[20:43:01] <strcat> ski: although atm they're called Eq (partial) and TotalEq
[20:43:04] *** Joins: phildawes (Mibbit@moz-6FFBC57E.cable.virginm.net)
[20:43:06] <eddyb> Earnestly: have you watched kurt?
[20:43:11] <kmc> pauls: any idea how I can do it without a delimeter between the individual tts?
[20:43:18] <Earnestly> herrwolfe45: If you run those games through an emulator, the wobble is gone
[20:43:25] <strcat> anyway floats basically break all generic code
[20:43:30] <Earnestly> eddyb: No, I'm not familiar
[20:43:34] <eddyb> Earnestly: over the (two?) years he's been walking towards the far lands, you can see rounding errors accumulating
[20:43:44] *** Quits: nlminhtl (ignotus@27EDE6E3.D40C3436.2D85221C.IP) (Ping timeout)
[20:43:46] <strcat> rusti: (0.0f64 / 0.0).min(2.0)
[20:43:47] <eddyb> just tiny small things. I hear it's pretty bad now
[20:43:51] -rusti- 2f64
[20:43:52] *** Joins: valentin (Thunderbir@7F62EB68.9261D8F.FAF22AF7.IP)
[20:43:53] <strcat> that's sane
[20:44:01] <strcat> rusti: (2.0f64).min(0.0 / 0.0)
[20:44:02] -rusti- 2f64
[20:44:04] <strcat> that's sane too
[20:44:04] <bjz> eddyb: yeah, rather jarring actually
[20:44:12] <ski> (is `Eq' any equivalence at all ? i.e. can there be operations detecting differences not detected by `Eq' ? (and i'm not just talking about *internal* implementation stuff inside of modules implementing abstract data types, in order to simulate quotient types (often combined with subtypes)))
[20:44:13] <strcat> rusti: std::cmp::min(2.0, 0.0 / 0.0)
[20:44:13] -rusti- -NaNf64
[20:44:16] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[20:44:16] <strcat> that's *not* sane
[20:44:17] <bjz> eddyb: abit hard to watch
[20:44:24] <strcat> rusti: std::cmp::min(0.0 / 0.0, 2.0)
[20:44:25] -rusti- 2f64
[20:44:35] <Earnestly> eddyb: Can I have a link?  "kurt" is a bit too ambigious :(
[20:44:35] <pauls> kmc: I don't think it can be done: the parser needs something to tell it whether to start parsing a `tt` or to try to grab a `)`
[20:44:41] <ski> strcat ^
[20:44:43] <eddyb> Earnestly: https://www.youtube.com/watch?v=MiMGXFu8BPc
[20:44:48] <bjz> Earnestly: far lands or bust
[20:44:48] <kmc> but a tt never starts with the character )  ;__;
[20:44:53] <eddyb> Earnestly: "kurt and far lands" can't be ambiguous ;)
[20:44:54] <Earnestly> eddyb: Ooh, thanks
[20:44:59] *** Quits: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP) (Quit: nn)
[20:45:04] <Earnestly> eddyb: Ah, I didn't search for the second half
[20:45:14] <eddyb> Earnestly: look at the hitboxes and whatnot
[20:45:37] <bjz> Earnestly: http://minecraft.gamepedia.com/Far_Lands
[20:45:40] <strcat> ski: Eq will just require that the equivalence laws are maintained, you could still have ways of detecting other differences
[20:45:59] *** Quits: Sharp (Sharp@moz-3301C7AB.static-ip.telepacific.net) (Quit: Sharp)
[20:46:15] <eddyb> rusti: 1479940.0f32 + 0.1f32
[20:46:16] -rusti- 1479940.125f32
[20:46:20] <eddyb> Earnestly: ^^
[20:46:28] <bjz> Earnestly: I find the idea of "the far lands" pretty cool
[20:46:35] <eddyb> that's the precious loss he's at right now
[20:46:39] <eddyb> rusti: 1479940.0f32 + 0.5f32
[20:46:40] -rusti- 1479940.5f32
[20:46:50] <eddyb> rusti: 1479940.0f32 + 0.075f32
[20:46:51] -rusti- 1479940.125f32
[20:46:55] * strcat updates rusti
[20:46:58] <strcat> rusti: version
[20:46:58] -rusti- "rustc 0.10-pre (33768c4 2014-03-07 02:51:39 -0800)"
[20:47:21] <strcat> forgot to do it for a while
[20:47:32] <strcat> rusti: version
[20:47:33] -rusti- "rustc 0.10-pre (74bfa71 2014-03-11 12:36:58 -0700)"
[20:47:41] <eddyb> Earnestly: so there are only 8 possible positions in every block
[20:47:53] *** Joins: Sharp (Sharp@moz-3301C7AB.static-ip.telepacific.net)
[20:47:54] <strcat> alright here
[20:48:10] <strcat> rusti: 0.0 == -0.0
[20:48:11] -rusti- true
[20:48:40] <strcat> rusti: let mut xs = std::hashmap::HashMap::new(); xs.insert(0.0, 1); xs.insert(-0.0, 2); xs.len()
[20:48:41] -rusti- pastebinned 11 lines of output: http://sprunge.us/FRIX
[20:48:45] <eddyb> Earnestly: it's nice that you can actually check the precision on that :D
[20:49:06] <strcat> rusti: extern crate collections; let mut xs = collections::HashMap::new(); xs.insert(0.0, 1); xs.insert(-0.0, 2); xs.len()
[20:49:06] -rusti- <anon>:10:9: 10:34 error: "extern crate" declarations are not allowed here
[20:49:06] -rusti- <anon>:10         extern crate collections; let mut xs = collections::HashMap::new(); xs.insert(0.0, 1); xs.insert(-0.0, 2); xs.len()
[20:49:06] -rusti-                   ^~~~~~~~~~~~~~~~~~~~~~~~~
[20:49:07] -rusti- error: aborting due to previous error
[20:49:07] -rusti- application terminated with error code 101
[20:49:12] <strcat> meh
[20:49:27] <eddyb> strcat: put all the crates in the "prelude"
[20:49:41] <eddyb> but not librustc. not that monster
[20:49:54] <eddyb> bjz, Earnestly: ouch, it's really bad diagonally
[20:49:55] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[20:49:55] <strcat> rusti: extern crate collections; let mut xs = collections::HashMap::new(); xs.insert(0.0, 1); xs.insert(-0.0, 2); xs.len()
[20:49:55] -rusti- <anon>:11:9: 11:34 error: "extern crate" declarations are not allowed here
[20:49:56] -rusti- <anon>:11         extern crate collections; let mut xs = collections::HashMap::new(); xs.insert(0.0, 1); xs.insert(-0.0, 2); xs.len()
[20:49:56] -rusti-                   ^~~~~~~~~~~~~~~~~~~~~~~~~
[20:49:56] -rusti- error: aborting due to previous error
[20:49:56] -rusti- application terminated with error code 101
[20:50:01] <eddyb> Diagon Alley :P
[20:50:05] <strcat> rusti: let mut xs = collections::HashMap::new(); xs.insert(0.0, 1); xs.insert(-0.0, 2); xs.len()
[20:50:05] -rusti- <anon>:11:51: 11:68 error: failed to find an implementation of trait std::hash::Hash for <generic float #0>
[20:50:05] -rusti- <anon>:11         let mut xs = collections::HashMap::new(); xs.insert(0.0, 1); xs.insert(-0.0, 2); xs.len()
[20:50:05] -rusti-                                                             ^~~~~~~~~~~~~~~~~
[20:50:06] -rusti- application terminated with error code 101
[20:50:07] <ski> eddyb : in Prolog, and also in Mercury and Erlang, we have `=<' rather than `<=' -- i think this is nice, especially in Prolog where we can declare new operators, so that we could use `<=' and `=>' in a DSL for implications
[20:50:27] <eddyb> ski: why not <- and ->?
[20:50:28] <ski> strcat : ok, i see. ty
[20:50:32] *** Joins: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu)
[20:51:01] <strcat> anyway I think most generic code will use Eq/Ord (as in equivalence and total ordering)
[20:51:11] <strcat> but since the operators will use the partial ones, they will work as people expect on floats
[20:51:13] <eddyb> ski: but I get the appeal. IMO we should allow overloading all mathematical symbols
[20:51:18] <strcat> and Float can inherit from PartialOrd/PartialEq
[20:51:22] <strcat> if it doesn't already
[20:51:28] <eddyb> ski: so you can use the actual symbol for function composition and whatnot
[20:51:33] <ski> eddyb : `->' is used for conditionals. and for function defining equations (clauses), `case's and `receive's in Erlang
[20:51:40] <eddyb> oh ok
[20:51:51] <strcat> imo those 4 traits will be the best solution
[20:51:57] <strcat> despite it being more complex than the ideal
[20:52:42] <ski> strcat : can you have more than one implementation of a trait for the same type ? possibly in force (scope) in the same piece of code ?
[20:53:03] <kmc> pauls: how hard do you think it would be to teach the parser that a tt never starts with ) so this is unambiguous?
[20:53:13] *** Joins: sigma (sigma@C91C7F36.70518F41.9D18269F.IP)
[20:53:23] <ski> strcat : (more or less) iow, do you have confluence for traits ?
[20:53:29] <gereeter> rusti: std:f64:copysign(-0.0, 1.0)
[20:53:30] -rusti- <anon>:11:12: 11:13 error: expected one of `;`, `}` but found `:`
[20:53:30] -rusti- <anon>:11         std:f64:copysign(-0.0, 1.0)
[20:53:30] -rusti-                      ^
[20:53:30] -rusti- application terminated with error code 101
[20:53:43] <gereeter> rusti: std::f64::copysign(-0.0, 1.0)
[20:53:44] -rusti- 0f64
[20:54:07] <strcat> ski: one implementation of a trait for a type, the language enforces coherence by saying that you can only implement a trait for a type if a) the trait is defined in your crate or b) the type is defined in your crate
[20:54:43] <gereeter> rusti: std::f64::next_after(-0.0)
[20:54:44] -rusti- <anon>:11:9: 11:35 error: this function takes 2 parameters but 1 parameter was supplied
[20:54:44] -rusti- <anon>:11         std::f64::next_after(-0.0)
[20:54:44] -rusti-                   ^~~~~~~~~~~~~~~~~~~~~~~~~~
[20:54:44] -rusti- error: aborting due to previous error
[20:54:44] -rusti- application terminated with error code 101
[20:54:45] *** Quits: eagen (eagen@8737942B.7A99C13A.B7961A98.IP) (Quit: Leaving)
[20:54:49] <strcat> gereeter: they're methods
[20:55:13] <strcat> rusti: -0.0f32.copysign(2.0)
[20:55:13] -rusti- <anon>:11:10: 11:30 error: type `f32` does not implement any method in scope named `copysign`
[20:55:13] -rusti- <anon>:11         -0.0f32.copysign(2.0)
[20:55:13] -rusti-                    ^~~~~~~~~~~~~~~~~~~~
[20:55:13] -rusti- error: aborting due to previous error
[20:55:13] -rusti- application terminated with error code 101
[20:55:21] <eddyb> gg
[20:55:24] <strcat> maybe that specific one isn't implemented ;p
[20:55:35] *** Quits: Kruppe (user@moz-FCFA8F96.dynamic.uwaterloo.ca) (Ping timeout)
[20:55:39] <strcat> I don't think there are any free functions left there though
[20:55:41] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[20:57:07] *** Quits: Sorella (quildreen@89788746.FDF9B0F2.A95FAE2B.IP) (Quit: Ex-Chat)
[20:57:33] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:59:39] *** Quits: skade (skade@E45BE4B3.377A644B.FF936C9C.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:59:44] <pauls> kmc: I think it's not too much easier than just fixing the Rust parser. 
[20:59:54] <pauls> Which is not too hard!
[21:00:12] *** Quits: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: brendan)
[21:00:38] *** Joins: rileyw_ (rileyw@8BA43816.9AA11D69.65DDFA89.IP)
[21:00:40] <kmc> what does that entail
[21:00:53] <eddyb> pauls: what's there to fix?
[21:01:04] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[21:01:18] <pauls> Essentially, instead of using `fail!`, it needs to thread failure through some kind of error monad.
[21:01:27] <pauls> `Result` should work.
[21:01:27] *** Joins: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:01:33] *** Quits: sigma (sigma@C91C7F36.70518F41.9D18269F.IP) (Client exited)
[21:01:39] <eddyb> pauls: allowing conditional-like recovery?
[21:01:41] *** Quits: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP) (Ping timeout)
[21:01:42] <eddyb> that sounds interesting
[21:01:44] <pauls> I think that a macros will help.
[21:01:48] *** Quits: rileyw_ (rileyw@8BA43816.9AA11D69.65DDFA89.IP) (Client exited)
[21:01:49] *** Quits: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net) (Ping timeout)
[21:01:53] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[21:02:14] *** Quits: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca) (Ping timeout)
[21:02:17] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[21:02:19] <strcat> pauls: fixing macros with macros? what could go wrong? ;)
[21:02:20] <janua> bjz: It worked! Thanks! The only problem I had was with make install. I used make uninstall and that worked, but now I have rustpkg laying around, and maybe other stuff. Any idea how to cleanly remove what is laying around from older versions?
[21:02:29] <pauls> Hm. All the macro parser needs is for failure to not kill the task; no need for conditions.
[21:02:30] <dybt> http://pastebin.com/r6xxDdLt I'm having trouble understanding this error. Is there a difference in being "valid for the anonymous lifetime defined on the block" and being "valid for the block"?
[21:02:32] *** Quits: avsej (avsej@D9A610B8.4841F515.FB33447D.IP) (Ping timeout)
[21:02:45] *** Quits: zwarich (zwarich@A89ECEB1.A86FC3A7.DE9B45B6.IP) (Quit: zwarich)
[21:02:47] <strcat> pauls: failure is always going to end the task, unless we add catchable exceptions
[21:03:07] <strcat> and if we add catchable exceptions, the language will change quite drastically
[21:03:12] <pauls> strcat: Not `fail!` failure, I just mean parse errors.
[21:03:18] <strcat> ah
[21:03:40] <pauls> (which is to say, we need to not have `fail!` in the parser, except for internal errors)
[21:04:01] * strcat likes not having to document no-throw, strong, basic or no exception safety
[21:04:10] *** Joins: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP)
[21:04:11] <strcat> the stuff of nightmares
[21:04:16] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[21:04:32] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[21:04:33] <strcat> unwinding is still pretty scary anyway when there's even a little bit of unsafe code ;\
[21:04:54] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[21:05:26] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[21:05:54] *** Quits: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP) (Quit: Lost terminal)
[21:05:59] <nstdloop> I have a match where I would like to return [] in one branch and [1] in another, but rustc is telling me I have incompatible types. How do I fix that?
[21:06:04] *** Joins: arielb1 (eran@moz-9CB2889B.red.bezeqint.net)
[21:06:13] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[21:06:45] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[21:07:08] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[21:07:26] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:07:49] *** Quits: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP) (Client exited)
[21:07:50] <strcat> nstdloop: don't use fixed-size arrays where length is part of the type
[21:07:55] <o11c> nstdloop: you you to cast to ~[T]
[21:08:11] <strcat> Vec<T> or &[T], the current ~[T] is deprecated
[21:08:25] <o11c> probably can't return &[T]
[21:08:46] <strcat> you often can
[21:08:54] *** Quits: q66_ (q66@moz-DF53ED3A.range86-152.btcentralplus.com) (Ping timeout)
[21:08:55] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[21:09:07] <o11c> &'a[T]
[21:09:12] <strcat> if you need to return either a) hard-wired internal slices or b) slices based on an argument or c) both, you can use &[T]
[21:09:31] <strcat> you just can't do it if you're generating a vector dynamically in the function
[21:09:32] *** Quits: gereeter (Mibbit@moz-25EBF39F.lightspeed.austtx.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:09:55] <strcat> &'static [T] is what you get from &[1, 2, 3], and you can return that as any &'a [T]
[21:10:05] <strcat> since it meets any lifetime requirement
[21:10:19] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[21:10:53] <strcat> rusti: fn foo(xs: &'a [int]) -> &'a [int] { if xs.len() & 1 == 0 { &[1, 2, 3] } else { xs } }
[21:10:56] -rusti- pastebinned 8 lines of output: http://sprunge.us/WYgh
[21:11:06] *** Joins: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:11:11] <strcat> rusti: fn foo<'a>(xs: &'a [int]) -> &'a [int] { if xs.len() & 1 == 0 { &[1, 2, 3] } else { xs } }
[21:11:12] -rusti- pastebinned 17 lines of output: http://sprunge.us/adbe
[21:11:27] *** Quits: valentin (Thunderbir@7F62EB68.9261D8F.FAF22AF7.IP) (Ping timeout)
[21:11:27] * strcat thinks that's a bug
[21:11:37] *** Joins: valentin (Thunderbir@7F62EB68.9261D8F.FAF22AF7.IP)
[21:11:52] <strcat> rusti: fn foo<'a>(xs: &'a [int]) -> &'a [int] { if xs.len() & 1 == 0 { static ys: &'static [int] = &[1, 2, 3]; ys } else { xs } }
[21:11:54] -rusti- pastebinned 7 lines of output: http://sprunge.us/BhfJ
[21:11:59] *** Joins: wilkie (wilkie@moz-A19F104D.pitbpa.fios.verizon.net)
[21:12:02] <strcat> yeah
[21:12:18] *** Joins: autra (augustin@moz-BE76895F.fbx.proxad.net)
[21:12:29] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (Input/output error)
[21:12:34] *** Quits: flan3002 (flan3002@1C8C2A04.3A27401E.16E13E53.IP) (Ping timeout)
[21:13:00] *** Joins: zwarich (zwarich@A89ECEB1.A86FC3A7.DE9B45B6.IP)
[21:14:09] *** Joins: flan3002 (flan3002@1C8C2A04.3A27401E.16E13E53.IP)
[21:14:51] *** Quits: chenyang (user@moz-8AF6A02F.airbears2.berkeley.edu) (Ping timeout)
[21:15:53] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[21:16:06] <dybt> http://pastebin.com/r6xxDdLt I'm having trouble understanding this error. Is there a difference in being "valid for the anonymous lifetime defined on the block" and being "valid for the block"?
[21:16:24] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[21:16:34] *** Parts: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com) ()
[21:16:36] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[21:16:38] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[21:16:49] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Connection reset by peer)
[21:16:57] *** Quits: flan3002 (flan3002@1C8C2A04.3A27401E.16E13E53.IP) (Ping timeout)
[21:17:03] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[21:17:22] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[21:19:13] *** Joins: flan3002 (flan3002@1C8C2A04.3A27401E.16E13E53.IP)
[21:19:41] *** Joins: alisdair (textual@moz-B1BE70D2.hsd1.co.comcast.net)
[21:19:53] <aatch> dybt, it's not the best error message, however what you have won't work because the lifetime of the pointer to `tex` is tied to the lifetime of obj, which actually ends at the end of the function when you move it out.
[21:20:21] <phildawes> Hello! Is there an easy way to determine if an allocation is on the stack or on the heap? E.g. if I do  let a = MyStruct {...} I think it's on the stack. but then if it gets referenced from a spawned proc then I think it's on the heap - correct?
[21:20:26] <aatch> because you have to borrow the object in order to borrow it's fields, you are trying to borrow it for longer than the function.
[21:20:42] <strcat> phildawes: the variable is still on the stack
[21:20:53] <strcat> phildawes: all heap allocation is explicit, rust never decides to put something on the heap itself
[21:20:54] <aatch> phildawes, it's always on the stack unless you use ~ or Rc<T>
[21:21:03] <phildawes> wow, ok
[21:21:10] <brehaut> probably an easy question: im going through the tutorial and it makes mention of @ pointers a bit, and later Gc/. I was under the impression that @ was going away, and i had to choice my management type explicitly. am i wrong?
[21:21:11] <aatch> or malloc directly, of course.
[21:21:16] <phildawes> I have to try a couple of things and then I'll be back!
[21:21:57] <phildawes> thanks v much strcat
[21:22:00] <aatch> brehaut, `@` is going away, and shouldn't be in the tutorial
[21:22:24] <brehaut> aatch: is it reasonable to open a ticket to that extent on the github?
[21:22:25] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[21:22:29] <strcat> phildawes: when you capture a variable in a proc, rust performs a shallow copy into the proc (as it does for assignment, passing or returning)
[21:23:21] <aatch> brehaut, maybe?
[21:23:25] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:23:27] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[21:23:37] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[21:23:48] *** Quits: IanCormac84 (User@48EE4DD4.2A8D8854.67DFF8B4.IP) (Ping timeout)
[21:23:58] *** Joins: q66_ (q66@moz-DF53ED3A.range86-152.btcentralplus.com)
[21:24:02] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (Input/output error)
[21:24:39] *** Joins: IanCormac84 (User@FACDF774.2A8D8854.67DFF8B4.IP)
[21:25:21] *** Joins: hoverbear (hoverbear@moz-E40E8A2E.wireless.uvic.ca)
[21:25:46] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[21:25:51] <flan3002> Thank you hoverbear, (/src/examples) is working!
[21:25:52] <phildawes> strcat: what if MyStruct implements the drop trait? (I think that means it won't do the copy)
[21:25:57] <hoverbear> flan3002 :)
[21:26:08] <strcat> phildawes: still a shallow copy
[21:26:25] <flan3002> Weird though that it didnt work when used with index...
[21:26:34] <strcat> phildawes: let x = y, foo(y), etc. is always a shallow copy
[21:26:50] <strcat> phildawes: if the type contains &mut, a closure or a type with a destructor, then the source can't be used afterwards
[21:26:59] <strcat> but the implementation/depth is still a shallow copy
[21:27:12] <dybt> aatch, what would be the best way to rework that then? The borrowed tex is passed right back into the obj so I would have thought that they would have the same lifetime. Is there anything I could do with an unsafe block to have it work?
[21:27:48] <strcat> phildawes: move semantics is basically a type check layered onto shallow copies, much like lifetimes are layered onto lightweight references
[21:27:55] <strcat> to restrict what you can do
[21:27:58] <strcat> for safety
[21:28:19] <phildawes> strcat: Ah, got it. It does the shallow copy, and the destructor is still only called once, just on the other task, so everything is cool
[21:28:30] <strcat> yup
[21:28:34] <aatch> dybt, they do have the same lifetime, however it causes the borrow of `obj` to last until just past the end of the function, which isn't allowed here.
[21:28:47] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[21:28:54] <strcat> phildawes: for example an assignment/return/pass/capture of ~T is just a pointer copy
[21:28:57] <aatch> dybt, you could use unsafe code, but I don't recommend it.
[21:29:06] <strcat> so capturing ~T in a proc or sending it over a channel is just a ptr copy
[21:29:23] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Connection reset by peer)
[21:29:29] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: pcwalton)
[21:29:35] <strcat> (and you can't use the source, because it moves ownership due to the dtor)
[21:29:41] <dybt> So the borrow can't be moved out of the function with the ownership?
[21:29:45] *** Joins: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP)
[21:29:53] <aatch> dybt, rsfml has rc versions of most of the types though
[21:30:00] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[21:30:00] *** ChanServ sets mode: +ao pcwalton pcwalton
[21:30:23] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: pcwalton)
[21:30:42] <aatch> dybt, correct. There are a lot of subtleties here, but the crux is that it doesn't work because of memory safety.
[21:30:42] <dybt> oh, ok. I'll give that a go then.
[21:31:09] *** Joins: hoverbea_ (hoverbear@moz-E40E8A2E.wireless.uvic.ca)
[21:31:27] *** Quits: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP) (Ping timeout)
[21:31:27] *** Joins: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP)
[21:32:05] *** Quits: hoverbear (hoverbear@moz-E40E8A2E.wireless.uvic.ca) (Ping timeout)
[21:32:42] *** Joins: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP)
[21:32:42] *** ChanServ sets mode: +o jdm
[21:32:53] *** Quits: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP) (Client exited)
[21:33:12] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[21:33:25] *** Joins: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP)
[21:33:27] *** Quits: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP) (Client exited)
[21:33:28] *** Joins: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP)
[21:33:31] *** Quits: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP) (Client exited)
[21:33:52] *** Joins: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP)
[21:34:02] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Ping timeout)
[21:34:07] <phildawes> strcat: If you do  let a = MyStruct{};  callfn(~a);  is there a shallow copy at the call site into the heap?
[21:34:36] <phildawes> or does it just pass ownership of the stack variable?
[21:34:49] <aatch> phildawes, it copies into the heap
[21:35:43] <phildawes> aatch, strcat: Thanks v much
[21:35:55] <aatch> effectively, you're doing callfn(UniqPtr::new(a))
[21:36:33] <aatch> (Soon, it'll be possible to write a UniqPtr that is identical to `~`, I think)
[21:36:36] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[21:36:51] <phildawes> awesome
[21:37:17] <aatch> just need auto-deref to land
[21:37:21] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[21:37:21] *** ChanServ sets mode: +ao pcwalton pcwalton
[21:37:58] *** Quits: dybt (Mibbit@B3D75456.CA4759C1.E7727734.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:38:12] <flan3002> cmr: You wrote 'flate now returns a CVec<u8> rather than a ~[u8], for efficiency.'. Why is it more efficient?
[21:39:07] <cmr> flan3002: CVec is just a pointer + length to the data returned from C
[21:39:28] <stephenmac7> Rust strings are unicode?
[21:39:37] <cmr> stephenmac7: UTF-8, precisely.
[21:39:47] <stephenmac7> That settles it, I'm learning rust well and dropping C++
[21:39:50] <flan3002> So now conversion and stuff?
[21:39:53] <cmr> flan3002: yes.
[21:40:16] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: pcwalton)
[21:40:35] <flan3002> But why would there be need to convert to ~[u8]?
[21:40:54] <cmr> flan3002: because the data it returns needs to be freed?
[21:41:14] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[21:41:20] <flan3002> I mean: What does the conversion do?
[21:41:27] *** Quits: phildawes (Mibbit@moz-6FFBC57E.cable.virginm.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:41:29] <cmr> copy everything into a new ~[u8]
[21:41:30] <flan3002> A CVec is not freed?
[21:41:32] <aatch> flan3002, copies all the data
[21:41:33] <cmr> it is.
[21:42:24] <flan3002> And it is impossible due to internal layout of ~[u8] to reuse the C data?
[21:43:01] *** Joins: cgaebel (clark@moz-F9D89110.nyc.res.rr.com)
[21:43:01] <cmr> flan3002: well, that and it doesn't use libc's free
[21:43:02] <aatch> flan3002, technically, no, but not exactly a good idea to rely on the implementation details of ~[]
[21:43:05] <cmr> (not necessarily)0
[21:43:25] <cmr> aatch: no, it does, since it's a pointer to (len, cap, data..)
[21:43:52] <janua> If I have a borrowed type &self, (Which is an option), I would like to map over it to turn it into an Option of something else. But i keep getting dereference errors
[21:43:57] <aatch> cmr, oh right. Forgot about that.
[21:44:08] <aatch> thought it was like Vec for a moment
[21:44:17] *** Quits: brandonson (SingingBoy@610D90A5.EE9B234.1ECA502.IP) (Ping timeout)
[21:44:27] *** Quits: mojoB (mojoB@moz-A4312114.static.exetel.com.au) (Ping timeout)
[21:44:36] <aatch> janua, "cannot move out of dereference of borrowed pointer"?
[21:44:48] *** Quits: valentin (Thunderbir@7F62EB68.9261D8F.FAF22AF7.IP) (Ping timeout)
[21:44:49] <janua> aatch: Yes
[21:45:01] *** Joins: valentin (Thunderbir@7F62EB68.9261D8F.FAF22AF7.IP)
[21:45:01] <aatch> you using match?
[21:45:02] <flan3002> cmr, aatch: Thanks for the explanation!
[21:45:05] <janua> N
[21:45:06] <janua> No
[21:45:13] <aatch> what are you doing?
[21:45:55] * aatch is slightly worried that he can quote that error verbatim
[21:46:03] <aatch> I don't even hit it very often!
[21:46:18] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[21:46:24] <strcat> stephenmac7: rust's strings are basically just newtyped byte vectors providing a UTF-8 guarantee
[21:46:37] <janua> aatch: What is a good paste bin these days, for rust
[21:46:38] *** Joins: bvssvni (Mibbit@moz-E289BB64.bb.online.no)
[21:46:38] <strcat> they're valid UTF-8 (no overlong encodings, no surrogates, etc.)
[21:46:49] <aatch> janua, Gist works well
[21:47:00] <strcat> and `char` is a unicode scalar value (no out-of-range values over 21-bit, no surrogates)
[21:47:18] <strcat> once upon a time, rust treated chars as integers
[21:47:24] <strcat> and strings didn't have those guarantees
[21:47:26] <strcat> fixed though ;)
[21:47:28] <janua> aatch: https://gist.github.com/anonymous/9517099
[21:47:56] <aatch> strcat fixed it, by the way.
[21:48:27] <strcat> rust already has nicer strings/characters than most languages
[21:48:29] <strcat> including haskell
[21:48:37] <strcat> the methods are really a mess though
[21:48:44] <strcat> but I can say the same about other languages + more ;p
[21:48:52] * strcat would really like to clean them up a lot though
[21:49:20] <strcat> I think we should even remove stuff like len() (they aren't containers of a specific unit)
[21:49:32] <strcat> can do as_bytes.len() or chars().len()
[21:49:35] *** Joins: mojoB (mojoB@moz-A4312114.static.exetel.com.au)
[21:49:43] <strcat> as_bytes().len() *
[21:49:45] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[21:49:49] *** Quits: alisdair (textual@moz-B1BE70D2.hsd1.co.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:49:53] <mcpherrin> strcat: do we have iterators that can efficienlty answer .len()?
[21:50:06] <strcat> mcpherrin: in that case it's O(n)
[21:50:08] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[21:50:10] <strcat> you can override len if you can do better
[21:50:16] <strcat> chars() can't
[21:50:18] <aatch> mcpherrin, for chars it's O(n) anyway
[21:50:18] <mcpherrin> strcat: right
[21:50:21] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[21:50:39] <mcpherrin> chars() is a bad example, but say bytes().len() might be O(1)
[21:50:47] <strcat> mcpherrin: yeah, it could override it
[21:51:03] <strcat> mcpherrin: they do have size_hint which is O(1), and there's an ExactSize trait telling you whether or not it's accurate
[21:51:16] <strcat> well
[21:51:19] <strcat> it *is* always accurate ;p
[21:51:20] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[21:51:36] <strcat> it gives (uint, Option<uint>) representing (min, max)
[21:51:46] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[21:51:58] <strcat> if Some(min) == max then it's exact
[21:52:06] <strcat> but there's the trait for doing that statically...
[21:52:14] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[21:52:24] <aatch> janua, use `as_ref()` to get a Option<&~Tree> and map on that.
[21:52:38] <stephenmac7> strcat: I see. That's very cool. I like it :)
[21:52:43] *** Joins: alonlevy (alon@moz-944C9098.red.bezeqint.net)
[21:52:54] <aatch> because .map moves the value out of the Option
[21:52:59] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[21:52:59] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Quit: Leaving)
[21:53:09] *** Joins: alexherb1 (alexherbo2@moz-A456CD9C.w83-199.abo.wanadoo.fr)
[21:54:05] *** Parts: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) ()
[21:55:14] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Quit: wilmoore)
[21:55:38] *** Quits: flan3002 (flan3002@1C8C2A04.3A27401E.16E13E53.IP) (Quit: Bye!)
[21:56:57] *** Quits: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP) (Ping timeout)
[21:56:58] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[21:57:05] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[21:57:21] *** Joins: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP)
[21:58:18] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[21:58:39] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[22:00:19] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[22:00:22] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[22:00:57] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[22:00:58] *** ChanServ sets mode: +o tjc
[22:01:33] <janua> aatch: I thought map transforms from Option<T1> to Option<T2>
[22:01:53] *** Joins: pczarn (pczarn@moz-69A55FA.izacom.pl)
[22:01:53] <janua> Or rather, T to U
[22:02:28] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:02:39] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (Input/output error)
[22:02:43] <janua> Oh wait, nevermind
[22:02:44] *** Quits: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu) (Quit: lkuper)
[22:02:45] <janua> It does
[22:02:45] <aatch> janua, it does, but it consumes the Option<T> in the process
[22:03:50] <janua> aatch: Ok, this worked. What does as_ref actually do?
[22:04:06] *** Joins: cschneid (cschneid@moz-CA025D57.ip.mcleodusa.net)
[22:04:07] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[22:04:12] <bvssvni> janua: it gives you an Option with borrowed pointer
[22:04:15] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[22:04:26] <aatch> janua, takes an &'a Option<T> and returns an Option<&'a T>
[22:05:07] *** Joins: skade (skade@moz-1EC0F118.pools.arcor-ip.net)
[22:05:40] <aatch> janua, that said, in your case, it's probably actually saner to just do the two child trees in match blocks
[22:05:55] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:06:03] *** Joins: mno2 (mno2@moz-3506EAC7.singnet.com.sg)
[22:06:07] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[22:06:31] <janua> aatch: Would the new match trees be new or something?
[22:06:35] <aatch> so you'd have match self.left { Some(~ref left) => format!("{}", left), None => ~"" }
[22:06:44] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[22:07:11] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[22:07:12] <aatch> with `let left_str = match ...` at the beginning or something.
[22:07:41] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[22:08:13] <aatch> it's a little more obvious what you're trying to do there then.
[22:08:52] <janua> It is much nicer
[22:08:55] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (Input/output error)
[22:08:56] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[22:09:06] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[22:09:29] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[22:10:32] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[22:11:07] <aatch> yeah, if you're creating a type just to immediately unwrap it, you should probably refactor.
[22:12:18] *** jorendorff is now known as jorendorff_away
[22:12:28] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[22:12:39] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Ping timeout)
[22:13:56] *** Joins: TeXitoi (texitoi@moz-9CE70EEE.fbx.proxad.net)
[22:14:59] *** Quits: q66_ (q66@moz-DF53ED3A.range86-152.btcentralplus.com) (Ping timeout)
[22:15:11] *** Joins: jstark (Mibbit@moz-341FD136.home.otenet.gr)
[22:15:22] *** Quits: mno2 (mno2@moz-3506EAC7.singnet.com.sg) (Quit: mno2)
[22:15:31] *** Quits: bvssvni (Mibbit@moz-E289BB64.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[22:15:35] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[22:15:37] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (Input/output error)
[22:15:55] *** Joins: claudiu (claudiu@moz-F69B678E.thefacebook.com)
[22:16:34] *** Quits: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP) (Connection reset by peer)
[22:17:14] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[22:17:15] *** Joins: klaus (koz@moz-4486E876.hsd1.wa.comcast.net)
[22:17:44] *** Quits: jstark (Mibbit@moz-341FD136.home.otenet.gr) (Quit: http://www.mibbit.com ajax IRC Client)
[22:17:48] *** Quits: valentin (Thunderbir@7F62EB68.9261D8F.FAF22AF7.IP) (Ping timeout)
[22:18:16] *** Parts: IanCormac84 (User@FACDF774.2A8D8854.67DFF8B4.IP) ()
[22:18:46] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:20:26] *** Quits: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: mbx)
[22:20:29] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[22:20:45] *** Quits: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com) (Quit: )
[22:21:53] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (Input/output error)
[22:22:47] *** Joins: intuxicated (intuxicate@7269D995.26CEB0C7.3FFBF42F.IP)
[22:23:29] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[22:24:23] *** Quits: TeXitoi (texitoi@moz-9CE70EEE.fbx.proxad.net) (Quit: leaving)
[22:25:18] *** Quits: autra (augustin@moz-BE76895F.fbx.proxad.net) (Ping timeout)
[22:25:31] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[22:26:18] <stephenmac7> Would it be better to read Rust for Rubyists (http://www.rustforrubyists.com/) or the official tutorial (http://static.rust-lang.org/doc/master/tutorial.html)?
[22:27:19] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[22:27:36] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Quit: )
[22:28:02] <kimundi> stephenmac7: Both are worth to read, but both won't give you the full answers
[22:28:09] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (Input/output error)
[22:28:18] <stephenmac7> kimundi: So, I should read both? If so, which first?
[22:28:39] <burntsushi> stephenmac7: i found the tutorial to be more detailed. maybe skim rustforrubyists as a quick intro, and then dive into the tutorial.
[22:28:40] <kimundi> Note that the tutorial is technically up to date, while rust for rubyist tracks the latest release afaik
[22:28:47] <steveklabnik> yes
[22:28:53] <steveklabnik> i only update r4r on releases
[22:29:00] <steveklabnik> last time the diff was very small
[22:29:06] <mcpherrin> steveklabnik: Do you autotest r4r code snippets?
[22:29:12] <steveklabnik> nope, ALL by hand :'(
[22:29:21] <mcpherrin> :(
[22:29:21] <steveklabnik> i would love a PR that does that, i have not had time to implement it
[22:29:25] <stephenmac7> I see. Thanks! I think I'll do what burntsushi suggested
[22:29:39] <stephenmac7> ...is that even possible burnt sushi?
[22:29:45] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[22:29:57] <burntsushi> stephenmac7: make sure you're using the doco on rust-lang.org that corresponds to the rust release you have. (i made that mistake.)
[22:30:02] <stephenmac7> Unless you cook your sushi, you can't burn it
[22:30:03] <steveklabnik> the standard 'it takes me 4 hours to do this now, and it'd take me 8 to implement auto testing, so I do the 4 hours every time'
[22:30:43] <burntsushi> stephenmac7: i thought it was a clever oxymoron when i was younger. but i've later learned that sushi doesn't have to include raw fish. ah well.
[22:30:47] <mrmonday> https://gist.github.com/mrmonday/74641178c8f77017bbc7 <= any chance someone could put this together for me? two crates libfoo/libbar. My rust-foo isn't good enough to do it from scratch :< My hopes are that it won't compile with --cfg test --test
[22:31:16] *** Joins: IanCormac84 (User@FACDF774.2A8D8854.67DFF8B4.IP)
[22:31:20] *** Joins: q66_ (q66@moz-7197BBFC.range109-150.btcentralplus.com)
[22:31:26] <stephenmac7> burntsushi: Any big difference between 0.9 and master?
[22:31:40] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[22:31:40] *** ChanServ sets mode: +ao pcwalton pcwalton
[22:31:43] *** Quits: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de) (Connection reset by peer)
[22:32:16] <stephenmac7> I just noticed, the rust standart library (and extra) are extensive. That's always nice.
[22:32:22] <stephenmac7> *standard
[22:32:30] *** Joins: rileyw_ (rileyw@8BA43816.9AA11D69.65DDFA89.IP)
[22:32:40] <burntsushi> stephenmac7: there are enough where you'll hit them if you use the wrong doco and write a big enough program. going through This Week in Rust might help with the details: http://cmr.github.io/
[22:33:02] *** Quits: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP) (Ping timeout)
[22:33:07] <kimundi> stephenmac7: If you have the choice, use master
[22:33:31] <stephenmac7> I'm using my distro's rust though...
[22:33:38] <kimundi> which distro?
[22:33:47] *** Quits: hoverbea_ (hoverbear@moz-E40E8A2E.wireless.uvic.ca) (Quit: Taking a nap.)
[22:33:49] <stephenmac7> https://aur.archlinux.org/packages/rust-git
[22:33:55] <stephenmac7> kimundi: Arch
[22:34:00] <burntsushi> stephenmac7: that's good.
[22:34:09] *** Quits: rileyw_ (rileyw@8BA43816.9AA11D69.65DDFA89.IP) (Client exited)
[22:34:10] *** Joins: leowoe (Leo@moz-D3A664F2.dip0.t-ipconnect.de)
[22:34:11] <kimundi> ah, arch has nightlies
[22:34:17] *** Joins: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP)
[22:34:19] <stephenmac7> kimundi: Really? Where?
[22:34:23] <andrewd18> stephenmac7: You're not building a rust release with that, you're actually building master
[22:34:35] <stephenmac7> andrewd18: I know, hence the -git at the end
[22:34:40] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (Input/output error)
[22:34:43] *** Quits: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: brendan)
[22:35:07] <burntsushi> stephenmac7: change the `make` command in the PKGBUILD to use `make -jN` where N is the number of CPUs in your machine. llvm should compile faster...
[22:35:35] <stephenmac7> burntsushi: I think my system is set up to do that anyway...
[22:35:40] <seanmonstar> im flailing trying to generics, getting errors "expected &mut S". trying to fix that, i get "non-scalar cast"... https://gist.github.com/seanmonstar/9bb66794866f7bdc0ac6
[22:35:41] <burntsushi> ah, nice
[22:36:01] <seanmonstar> trying to use* generics
[22:36:03] <stephenmac7> kimundi: So, where can I find the nightlies?
[22:36:05] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:36:07] <kimundi> stephenmac7: https://mail.mozilla.org/pipermail/rust-dev/2013-May/004073.html
[22:36:16] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[22:36:19] *** Quits: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP) (Client exited)
[22:36:40] <kimundi> thestinger is strcat here
[22:37:46] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[22:37:53] <stephenmac7> kimundi: Thanks
[22:38:00] <kimundi> I use them myself
[22:38:00] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[22:38:56] <stephenmac7>  corrupted (invalid or corrupted package (PGP signature)).
[22:39:39] *** Joins: hoverbear (hoverbear@moz-E40E8A2E.wireless.uvic.ca)
[22:39:48] *** Joins: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[22:40:58] <burntsushi> stephenmac7: working for me here. did you use `SigLevel = Optional`?
[22:40:59] <stephenmac7> [stephen@archdesktop ~]$ rustc -v
[22:40:59] <stephenmac7> rustc 0.10-pre (74bfa71 2014-03-11 12:36:58 -0700)
[22:41:10] <stephenmac7> Yes, seems it needed to redownload
[22:41:18] *** Joins: valentin (Thunderbir@7F62EB68.9261D8F.FAF22AF7.IP)
[22:41:26] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (Input/output error)
[22:41:28] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[22:42:22] *** Joins: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net)
[22:42:52] *** Quits: Zr40 (zr40@moz-CCFEAB92.adsl.xs4all.nl) (Quit: leaving)
[22:43:01] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[22:43:24] *** pmoore is now known as pmoore|away
[22:43:56] *** Joins: locks (sid130@moz-5F4AA75A.irccloud.com)
[22:43:57] *** Joins: tcsc (tcsc@moz-5E71BAD9.hsd1.ma.comcast.net)
[22:44:04] *** Quits: q66_ (q66@moz-7197BBFC.range109-150.btcentralplus.com) (Ping timeout)
[22:44:19] *** Quits: hoverbear (hoverbear@moz-E40E8A2E.wireless.uvic.ca) (Quit: Taking a nap.)
[22:44:27] <tcsc> how stable is rust now?
[22:45:23] *** Quits: mgottschlag (quassel@moz-DDFF21F6.cust.bluewin.ch) (Ping timeout)
[22:45:30] <mcpherrin> tcsc: define stable?
[22:45:44] <mcpherrin> tcsc: The compiler and code generated mostly works.  There's still a few langauge changes to be made.
[22:45:53] <SiegeLord> At this very second, there are two extremely disruptive language changes incoming
[22:46:19] <mcpherrin> SiegeLord: Two?  DST is what I think of
[22:46:28] <SiegeLord> ~[] and priv-by-default
[22:46:30] <tcsc> mceier: stable is: if i write code now, how much will i regret writing that code now by the time rust 1.0 is released
[22:46:36] <tcsc> or something like that
[22:47:00] <mcpherrin> tcsc: Porting code from rust-of-now to 1.0 shouldn't be too much work
[22:47:03] *** Quits: stephenmac7 (quassel@moz-F2C114C1.hsd1.fl.comcast.net) (Ping timeout)
[22:47:08] <SiegeLord> If you don't maintain it continuously (see rust-ci.org) you'll find it tough to upgrade
[22:47:15] <SiegeLord> Hah, well, I guess it depends on the person :P
[22:47:17] *** Joins: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP)
[22:47:32] <mcpherrin> Yeah, continual tracking of master is kinda important
[22:47:37] <tcsc> how far off is 1.0 (roughly)?
[22:47:51] <mcpherrin> tcsc: Optimistically, 8 months to a year
[22:48:02] <SiegeLord> That said, my projects managed to not require twiddling for two weeks straight
[22:48:08] <mcpherrin> Or at least, not pessimistically
[22:48:09] <SiegeLord> Only today one of them broke
[22:48:44] <tcsc> hm, and will there be language changes all the way to 1.0 (or after a while will there just be library changes)?
[22:48:55] *** Joins: stephenmac7 (quassel@moz-F2C114C1.hsd1.fl.comcast.net)
[22:49:09] <mcpherrin> tcsc: well, 1.0 happens when the changes are done ... 
[22:49:29] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[22:49:36] *** Quits: alexherb1 (alexherbo2@moz-A456CD9C.w83-199.abo.wanadoo.fr) (Quit: WeeChat 0.4.3-dev)
[22:49:50] *** Quits: pczarn (pczarn@moz-69A55FA.izacom.pl) (Input/output error)
[22:49:50] *** Joins: pongad (pongad@moz-7E8AAD2E.res.gatech.edu)
[22:50:02] <tcsc> sure, but presumably there's a point where there are few/no more backwards incompatible language changes and library support is the focus
[22:50:07] <tcsc> but maybe i'm wrong about that
[22:50:10] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:50:30] <mcpherrin> tcsc: yeah, that'll likely be how it happens
[22:50:36] *** Quits: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: mbx)
[22:50:50] *** Joins: lawrence (lawrence@moz-18D3CB96.wireless.utoronto.ca)
[22:51:10] <mcpherrin> But libraries influence langauge influence libraries, so you could imagine both changing up til the end --presumably less major changes later on though
[22:51:20] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Ping timeout)
[22:51:38] <strcat> the libraries are nowhere near the point where they can be called stable
[22:52:07] <strcat> most haven't had a lot of collaborative work spent on making the APIs nice
[22:52:07] <tcsc> i'm probably not going to write anything major right away, i'm more concerned about needing to unlearn/relearn stuff
[22:52:24] <tcsc> and i wouldn't expect the libraries to be finished before the language.
[22:52:25] <strcat> they're just whatever was easiest to implement to accomplish a specific task + some convenience functions
[22:52:26] <nstdloop> How do I get the length of a list?
[22:52:30] <mcpherrin> .len()
[22:52:39] *** Joins: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[22:52:43] <nstdloop> thanks
[22:52:52] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[22:52:58] <strcat> tcsc: I don't think you'll need to unlearn/relearn stuff, the concepts won't change
[22:53:07] *** Quits: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP) (Client exited)
[22:53:12] <strcat> the APIs will just improve
[22:53:17] *** Joins: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP)
[22:53:20] <strcat> and take advantage of language features becoming usable
[22:54:33] <tcsc> strcat: even for language changes?
[22:54:40] *** Quits: valentin (Thunderbir@7F62EB68.9261D8F.FAF22AF7.IP) (Ping timeout)
[22:54:43] <tcsc> does that mean the new changes are largely cosmetic?
[22:54:47] *** Joins: valentin (Thunderbir@7F62EB68.9261D8F.FAF22AF7.IP)
[22:55:03] <strcat> tcsc: I wouldn't say cosmetic... but the language is pretty complete
[22:55:12] <strcat> it's not going to drastically change
[22:55:21] *** Quits: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP) (Client exited)
[22:56:22] *** Joins: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP)
[22:56:48] <tcsc> i see. thats nice to know
[22:57:06] <nstdloop> I'm getting a "borrowed value does not live long enough" error
[22:57:15] <nstdloop> What's my debug process
[22:57:20] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[22:57:22] *** Joins: adu (ajr@moz-3611E9A9.washdc.fios.verizon.net)
[22:57:35] <ChrisMorgan> nstdloop: the easiest step one is to paste the code so we can see it
[22:57:41] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[22:58:19] <nstdloop> ChrisMorgan: Ok. Is there a particularly popular pastebin?
[22:58:33] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[22:58:36] <ChrisMorgan> nstdloop: you could use http://pastebin.mozilla.org/
[22:59:03] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Ping timeout)
[23:00:01] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:00:17] *** Joins: q66_ (q66@moz-FB60E320.range86-186.btcentralplus.com)
[23:00:54] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[23:00:56] <nstdloop> http://pastebin.mozilla.org/4567306
[23:01:09] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[23:01:11] <nstdloop> error message at the bottom, relevant line highlited
[23:01:17] *** Quits: IanCormac84 (User@FACDF774.2A8D8854.67DFF8B4.IP) (Ping timeout)
[23:01:27] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:01:29] *** Joins: IanCormac84 (User@610BC166.2A8D8854.67DFF8B4.IP)
[23:01:47] <ChrisMorgan> nstdloop: which version of Rust are you using?
[23:01:50] <nstdloop> 0.9
[23:02:10] <ChrisMorgan> Can you reasonably switch to master?
[23:02:20] *** Quits: luziie (luziie@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[23:02:22] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:02:26] <ChrisMorgan> That particular variety of lifetime issue has been fixed since then.
[23:02:29] <nstdloop> Eh... I'm currently installed via brew because compiling from source would probably take all day
[23:02:33] *** Joins: luziie (luziie@moz-CD18B14B.customer.cdi.no)
[23:02:47] <nstdloop> Is there somewhere I could get a binary for OS X?
[23:02:52] * ChrisMorgan doesn't know
[23:03:21] *** Quits: IanCormac84 (User@610BC166.2A8D8854.67DFF8B4.IP) (Ping timeout)
[23:03:22] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[23:03:24] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[23:03:28] <ski> strcat : "crate" meaning module, more or less ?
[23:03:30] *** Joins: IanCormac84 (User@B738930D.2A8D8854.67DFF8B4.IP)
[23:03:58] <SiegeLord> Is there a reason we don't tell people to grab the snapshots?
[23:04:19] <ChrisMorgan> SiegeLord: probably mainly because it's not easy.
[23:04:21] <SiegeLord> It seemd to work well for a different person the other day
[23:04:34] <nstdloop> If anyone is reasonably knowledgeable about brew, they should add a --master option to the rust formula.
[23:04:37] * ChrisMorgan has used snapshots successfully, but one needs to find them
[23:04:42] <ChrisMorgan> nstdloop: --HEAD
[23:04:45] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[23:04:51] <nstdloop> ah
[23:04:51] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[23:04:53] <nstdloop> let me try that
[23:04:58] <SiegeLord> The procedure the other day was to interrupt a build and copy stuff from the stage0 directory
[23:05:01] <ChrisMorgan> (I have heard that mentioned, but I don't use the thing. I dare say that that will compile it.)
[23:05:01] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[23:05:08] <SiegeLord> I guess it was a hack, hah
[23:05:12] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[23:05:14] *** Quits: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP) (Client exited)
[23:05:22] *** Quits: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: brendan)
[23:05:32] *** Quits: marianoguerra (marianogue@moz-C2CC5C44.dip0.t-ipconnect.de) (Ping timeout)
[23:05:51] <nstdloop> Oh ya this is going to compile from source from the git repo
[23:06:07] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[23:06:10] <nstdloop> so that's out
[23:06:40] <nstdloop> ChrisMorgan: So it's a bug? There's no way for me to fix it?
[23:07:14] <ChrisMorgan> nstdloop: that particular issue can be circumvented by shifting the fib call into a separate variable and then calling iter() on *that*.
[23:07:22] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[23:07:36] <ChrisMorgan> i.e. `let nums = fibonacci_simple(1e6 as uint); for num in nums.iter() {`
[23:07:39] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[23:07:41] <strcat> ski: well, crate means library
[23:07:49] <strcat> ski: independent compilation unit
[23:07:59] <nstdloop> Ok. I'll do that for now. As soon as I have an opportunity to upgrade to master I guess I'll do that.
[23:08:13] <strcat> ski: one rustc call per crate
[23:08:19] <ChrisMorgan> nstdloop: you'd do better changing iter() to move_iter() (Iterator<&int> -> Iterator<int>)
[23:08:30] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Client exited)
[23:08:34] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[23:08:37] <ChrisMorgan> nstdloop: you'd also do better using an iterator rather than producing a list.
[23:08:55] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[23:09:03] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[23:09:03] *** ChanServ sets mode: +o tjc
[23:09:17] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[23:09:25] *** Joins: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[23:09:46] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:10:39] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Connection reset by peer)
[23:10:54] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:11:11] *** Quits: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[23:12:00] *** Quits: pyon (user@6B56F365.A9B419CB.1C8C8CE9.IP) (Quit: brb)
[23:12:01] *** Quits: luziie (luziie@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[23:12:11] *** Quits: jesse98 (jjones@6251EDC2.15651213.B46B86FA.IP) (Ping timeout)
[23:12:13] *** Joins: luziie (luziie@moz-CD18B14B.customer.cdi.no)
[23:12:41] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[23:12:42] <nstdloop> ChrisMorgan: the "smart" implementation uses an iterator
[23:13:19] <nstdloop> That generates Fibs lazily so I don't have to guess some random value.
[23:13:39] *** Joins: jesse98 (jjones@6251EDC2.15651213.B46B86FA.IP)
[23:13:44] *** Joins: sinsnare (sinis_000@moz-7E48AC93.washdc.fios.verizon.net)
[23:14:15] <FreeFull> nstdloop: Lazily including sharing?
[23:14:31] <nstdloop> I mean, "lazily"
[23:14:32] *** Joins: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP)
[23:14:35] <nstdloop> as in it's an Iterator
[23:14:37] *** Joins: krdln (Mibbit@moz-C271714F.dynamic.chello.pl)
[23:15:56] <nstdloop> like so: http://pastebin.mozilla.org/4567415
[23:16:01] <FreeFull> To be honest, sharing is asking for a memory leak
[23:16:07] *** Joins: hunt3r (hunt3r@A53E257C.326F2855.735462CA.IP)
[23:16:29] *** Joins: pyon (user@6B56F365.A9B419CB.1C8C8CE9.IP)
[23:16:29] *** Joins: enos (jkingyens@moz-B0C1B161.hsd1.ca.comcast.net)
[23:17:30] <ChrisMorgan> nstdloop: I'd use u64 rather than int.
[23:17:52] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[23:18:26] *** Quits: IanCormac84 (User@B738930D.2A8D8854.67DFF8B4.IP) (Ping timeout)
[23:18:35] <tcsc> did `brew install rust --HEAD` work for the other person here? i was about to install manually but wont if that will do the right thing
[23:18:51] <nstdloop> That compiles from source
[23:18:54] <tcsc> yep
[23:18:57] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[23:18:59] *** Joins: Florob (Florob@moz-39532932.de)
[23:19:06] <nstdloop> I aborted before it started actually compiling
[23:19:10] <tcsc> from rust master?
[23:19:10] <nstdloop> but it gets the source from the git repo
[23:19:32] *** Quits: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP) (Client exited)
[23:19:33] <nstdloop> so I presume so
[23:19:54] *** Joins: IanCormac84 (User@41B5585D.2A8D8854.67DFF8B4.IP)
[23:20:22] <nstdloop> ChrisMorgan: good call.
[23:21:33] <ski> strcat : ok
[23:21:41] <nstdloop> is uint not the same as u64?
[23:21:43] <aatch> interestingly, it's possible to do fib(n) in O(log(n)) time
[23:21:48] <aatch> nstdloop, not always.
[23:21:56] <kimundi> nstdloop: uint is pointer size
[23:22:01] <kimundi> int too
[23:22:08] <ski> strcat : i was thinking that perhaps you could have a sub-crate inside another, but it seems that's not the case then
[23:22:09] *** Quits: hunt3r (hunt3r@A53E257C.326F2855.735462CA.IP) (Ping timeout)
[23:22:10] <ChrisMorgan> nstdloop: you can also write your iterator more efficiently (no branching) by starting with last = current = 1 and replacing the logic `let val = self.current; self.current += self.last; self.last = val; val`
[23:22:23] *** Joins: hunt3r (hunt3r@94FF40AF.1E1FAB7C.B8C0F609.IP)
[23:22:28] *** Joins: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP)
[23:22:40] <nstdloop> aatch: Ya. Using matrices and exponentiation by squaring
[23:22:48] <ChrisMorgan> rusti: (std::mem::size_of::<u64>(), std::mem::size_of::<uint>())
[23:22:49] *** Quits: hunt3r (hunt3r@94FF40AF.1E1FAB7C.B8C0F609.IP) (Quit: Leaving...)
[23:22:49] -rusti- (8u, 8u)
[23:22:49] <nstdloop> But that gets you fib(n) not the first n fibs
[23:22:59] <ChrisMorgan> nstdloop: … but that's on a 64-bit platform.
[23:23:02] <nstdloop> ChrisMorgan: Smart...
[23:23:13] <ChrisMorgan> nstdloop: on a 32-bit platform, uint will be 4u rather than 8u.
[23:23:26] <ski> strcat : requiring a trait implementation to either be coupled with the type or with the trait is kinda :/
[23:23:52] <ski> strcat : however, i'd assume you do that because of the diamond third-party problem
[23:23:57] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Connection reset by peer)
[23:23:57] *** Joins: esummers__ (esummers@moz-3B015C90.wi.res.rr.com)
[23:24:05] <ski> (or maybe there's some more direct compilation related reason)
[23:24:19] *** Quits: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP) (Client exited)
[23:24:19] *** Quits: esummers__ (esummers@moz-3B015C90.wi.res.rr.com) (Connection reset by peer)
[23:24:34] <mcpherrin> hmm how many entries do you need for fib(n: u32) -> u32 to be well defined in a lookup table
[23:24:39] *** Joins: esummers__ (esummers@moz-3B015C90.wi.res.rr.com)
[23:24:40] <mcpherrin> O(1)!
[23:24:42] *** Quits: twi (Adium@moz-ED056769.cust.vodafonedsl.it) (Quit: Leaving.)
[23:25:02] <aatch> mcpherrin, probably not that many, actually
[23:25:20] <aatch> since it's an exponetial sequence, you'll hit u32::max pretty quick
[23:25:29] <strcat> ski: a crate can be made of any number of modules
[23:25:54] <mcpherrin> aatch: exactly :)  Too lazy to actually work it out though :P
[23:26:00] <strcat> and they can have cyclic dependencies among each other, they're compiled as one unit
[23:26:05] <nstdloop> when I try to do for num in Fibonacci::new() I get mimatched types
[23:26:17] <ski> strcat : ok
[23:26:36] <brson> cmr: thanks for twir
[23:26:40] *** Quits: cschneid (cschneid@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[23:26:51] <brson> 66 prs is more than i expected. felt like a slow week
[23:26:57] *** Joins: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP)
[23:27:01] <ski> strcat : and to allow a cycle to be split, i assume you have some kind of way to specify the interface (aka signature) of a module ?
[23:27:02] <aatch> mcpherrin, 47
[23:27:06] <tcsc> are there planned changes for how crates/modules work? (well, externally visible changes)
[23:27:13] <ski> strcat : any SML-style module functors ?
[23:27:21] <tcsc> or is that system stable
[23:27:35] <kimundi> nstdloop: What exactly is the error?
[23:27:39] <ski> s/SML/ML/ (it's in OCaml as well)
[23:27:45] <tcsc> (stable in as much as a system in an actively developped language can be)
[23:27:47] <aatch> since fib(48) is 4807526976
[23:28:00] <nstdloop> error: mismatched types: expected `~[u64]` but found `()`
[23:28:07] <nstdloop> (expected vector but found ())
[23:28:08] *** jorendorff_away is now known as jorendorff
[23:28:29] <kimundi> nstdloop: huh, now I really need to see the whole code again
[23:28:52] <aatch> nstdloop, do you have a semicolon after collect() ?
[23:29:14] <kimundi> ah, that could be it
[23:29:22] <tcsc> i haven't done any SML since college but i would think that the problem solved by SML functors would be solved by macros in rust
[23:29:36] <tcsc> macros or templates
[23:29:41] <FreeFull> nstdloop: How high of a power do you take the matrices to?
[23:29:47] <tcsc> err, generics
[23:30:05] <nstdloop> FreeFull: None. I'm using a buildup approach.
[23:30:07] *** Quits: valentin (Thunderbir@7F62EB68.9261D8F.FAF22AF7.IP) (Ping timeout)
[23:30:10] *** Joins: valentin (Thunderbir@7F62EB68.9261D8F.FAF22AF7.IP)
[23:30:15] <nstdloop> kimundi: its in a pastebin somewhere... one sec
[23:30:21] *** Quits: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP) (Client exited)
[23:30:25] <zwarich> tcsc: the combination of trait system / generics has some overlap with ML modules, but both have important features that the other does not
[23:30:25] <nstdloop> aatch: I don't have collect, could that be the problem?
[23:30:33] <nstdloop> This is the whole line:     for num in Fibonacci::new() { 
[23:30:44] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[23:31:04] <aatch> nstdloop, ok, this is sufficiently different from what you posted before that we're gonna need to see the code.
[23:31:11] <FreeFull> Ah, read more, you'r enot using matrices
[23:31:14] <kimundi> nstdloop: That should work, assuming new() actually returns a type that implementes Iterator
[23:31:22] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[23:31:30] <nstdloop> kimundi: It does. Let me repaste my current code.
[23:31:32] *** Quits: mye (mye@moz-698312B3.dip0.t-ipconnect.de) (Quit: mye)
[23:31:51] <tcsc> zwarich: i guess i never did enough SML to know everything modules were used for
[23:31:52] *** Quits: valentin (Thunderbir@7F62EB68.9261D8F.FAF22AF7.IP) (Ping timeout)
[23:32:02] *** Joins: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP)
[23:32:03] <nstdloop> http://pastebin.mozilla.org/4567579
[23:32:05] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[23:32:43] <nstdloop> I am going to optimize the Iterator once I get the rest figured out.
[23:32:53] <kimundi> nstdloop: Ah, the error is that not all code paths return a value
[23:32:54] *** Joins: valentin (Thunderbir@7F62EB68.9261D8F.FAF22AF7.IP)
[23:32:58] *** Joins: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk)
[23:33:09] <pyon> tcsc: A notable feature of ML modules is that you can get type abstraction without using wrapper structs.
[23:33:11] *** Quits: IanCormac84 (User@41B5585D.2A8D8854.67DFF8B4.IP) (Ping timeout)
[23:33:17] <aatch> nstdloop, basically, what happens if num is never greater than value_cap?
[23:33:20] <nstdloop> kimundi: Should I break and return later
[23:33:29] <aatch> nstdloop, or put a fail!() at the end
[23:33:30] <kimundi> nstdloop: the for loop might never run, which would result in fib_smart returning the value of the loop itself, which is ()
[23:33:31] <nstdloop> it loops forever until it runs out of heap memory for pushing nums
[23:33:32] <pyon> tcsc: Inside a module, it can be known that a type t is, say, int. Outside the module, however, t is abstract, so external code cannot rely on t being int.
[23:33:40] <nstdloop> ah
[23:33:41] <nstdloop> I see
[23:33:43] <nstdloop> ok
[23:33:45] <nstdloop> interesting
[23:33:47] <aatch> kimundi, oh right, that case.
[23:34:06] <nstdloop> Yup. Moving it out works.
[23:34:12] <nstdloop> Rust is clever.
[23:34:25] *** Joins: IanCormac84 (User@8A00AD03.2A8D8854.67DFF8B4.IP)
[23:34:26] <aatch> nstdloop, eh, basic control-flow analysis.
[23:34:28] <kimundi> nstdloop: breaking and just retruning result at the end sems like the best approach here
[23:34:34] <tcsc> pyon: yeah, i think i remember that
[23:34:36] *** Quits: valentin (Thunderbir@7F62EB68.9261D8F.FAF22AF7.IP) (Ping timeout)
[23:34:37] <aatch> kimundi, agreed
[23:34:40] *** Joins: valentin (Thunderbir@7F62EB68.9261D8F.FAF22AF7.IP)
[23:35:20] <nstdloop> aatch: Most of my imperative experience comes from Python, so this kind of compile-time assurance is new. I got used to it with Haskell but it's surpising it works this well in an imperative language.
[23:35:25] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Quit: Bye)
[23:35:32] *** Joins: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP)
[23:35:36] <aatch> nstdloop, it's needed overall to handle all sorts of cases in the borrow checker, liveness analysis and similar
[23:35:42] <pyon> tcsc: In Rust or Haskell, you would have to explicitly make a wrapper: "struct Wrapper { x: int }" (the Haskell version is similar), and wrap/unwrap the int all the time.
[23:35:57] <kimundi> nstdloop: Btw, you can replace the whole body of that function with Fibonacci::new().filter(|&num| num <= value_cap).collect()
[23:36:09] *** Quits: leowoe (Leo@moz-D3A664F2.dip0.t-ipconnect.de) (Quit: Leaving.)
[23:36:10] <tcsc> sure, but there's no overhead in the rust version 
[23:36:21] <tcsc> well, unless you have some weird padding going on
[23:36:21] <pyon> No runtime overhead, but lots of syntactic overhead.
[23:36:24] <nstdloop> Filter works like that!!!
[23:36:28] <nstdloop> How?!
[23:36:28] <kimundi> err, Fibonacci::new().take_while(|&num| num <= value_cap).collect() rather
[23:36:33] <nstdloop> Ah
[23:36:33] <nstdloop> Ya
[23:36:35] <nstdloop> that's what I thought
[23:36:47] <aatch> kimundi, I was about to say, that'd still iterate forever...
[23:36:48] <pyon> tcsc: In ML, the module barrier does the wrapping/unwrapping. In Rust or Haskell, you have to do it manually.
[23:36:54] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Ping timeout)
[23:36:54] <strcat> nstdloop: filter returns another iterator, wrapping the one it was given
[23:36:58] <kimundi> sorry :)
[23:37:03] <strcat> the adaptors are actually easier to write than the iterators themselves
[23:37:24] <strcat> would be nice to have generator syntax for the iterators
[23:37:51] <kimundi> Would need generator syntax for writing bidirectional one though
[23:37:51] <aatch> strcat, definately.
[23:38:26] <strcat> kimundi: I don't think most that people will write themselves will be bidirectional
[23:38:31] <strcat> container ones are often bidirectional
[23:38:36] <strcat> not ones you implement every day
[23:38:39] *** Quits: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net) (Ping timeout)
[23:38:46] <tcsc> pyon: honestly i'm a bit more comfortable with the wrapping needing to be done manually, but maybe that's foolish.
[23:38:50] <kimundi> ah, I thought you meant for implementing the container ones
[23:38:56] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[23:38:59] <aatch> I think generators being forward-only is a reasonable limitation.
[23:39:02] <sinsnare> has anyone given any thought to something like list comprehensions (random thought :p )
[23:39:10] <kimundi> Otherwise, yeah your probably right
[23:39:15] <strcat> sinsnare: definitely not list comprehensions as in vector-based
[23:39:16] *** Joins: chenyang (user@moz-9BE2710B.airbears2.berkeley.edu)
[23:39:33] <aatch> sinsnare, nobodies really brought it up, iterators generally cover all the bases.
[23:39:38] <strcat> sinsnare: that kind of memory allocation isn't really appropriate for rust, and vectors you can push to are being removed as a language feature
[23:39:39] <aatch> nobody's*
[23:39:45] <nstdloop> Ah. But I can't sum after a filter.
[23:39:53] <strcat> nstdloop: you can
[23:40:04] <tcsc> strcat: why are vectors you can push to being removed?
[23:40:05] <strcat> rusti: range(0, 10).filter(|x| *x < 3).sum()
[23:40:06] -rusti- <anon>:11:9: 11:46 error: type `std::iter::Filter<,int,std::iter::Range<int>>` does not implement any method in scope named `sum`
[23:40:06] -rusti- <anon>:11         range(0, 10).filter(|x| *x < 3).sum()
[23:40:06] -rusti-                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[23:40:06] -rusti- error: aborting due to previous error
[23:40:06] -rusti- application terminated with error code 101
[23:40:09] <nstdloop> It says "ype `std::iter::Filter<,&u64,std::vec::VecIterator<,u64>>` does not implement any method in scope named `sum`"
[23:40:10] <strcat> tcsc: from the language.
[23:40:14] <strcat> they are a library feature
[23:40:17] <sinsnare> https://github.com/BurntSushi/quickcheck i was just looking at this readme and the for loop and return just looked ugly
[23:40:20] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:40:21] <strcat> nstdloop: import the trait
[23:40:30] <nstdloop> Right. AdditiveVector right?
[23:40:34] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[23:40:35] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[23:40:38] <strcat> nstdloop: iterator
[23:40:44] <strcat> std::iter::SomeThing ;p
[23:40:54] <nstdloop> ya AdditiveIterator. thanks
[23:41:00] *** Joins: mawuli (mawuli@moz-A135DF9D.com.gh)
[23:41:01] <tcsc> strcat: i thought one of the design decisions rust made was to put vectors and strings in the language to avoid all the hacks c++ has needed to keep them library-only ;p
[23:41:12] <strcat> tcsc: what hacks?
[23:41:20] <strcat> hard-wiring things in the language like that is a hack imo
[23:41:24] <strcat> there are many valid vector representations
[23:41:29] <strcat> why is one representation special?
[23:41:39] <strcat> ptr -> [len|cap|data]
[23:41:41] <tcsc> i think making it a library feature is better
[23:41:44] <strcat> [len|cap|ptr]
[23:42:01] <tcsc> but i remember hearing rust intentionally wasn't doing that for a while
[23:42:02] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[23:42:05] <strcat> [len|cap|ptr] (with a bit from the ptr used to distinguish small/large vectors and data stored inline)
[23:42:07] <strcat> ropes
[23:42:13] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[23:42:14] <aatch> tcsc, where'd you hear that?
[23:42:14] <strcat> tcsc: I don't think there was reasoning behind it
[23:42:15] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[23:42:22] <strcat> tcsc: it was just how vectors were implemented
[23:42:26] *** Joins: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[23:42:29] <strcat> and then maybe people who used rust rationalized it later
[23:42:36] <strcat> but I don't think it was designed that way for a reason
[23:42:39] <nstdloop> Now it "failed to find an implementation of trait std::ops::Add<&u64, &u64>"
[23:42:45] <tcsc> possibly on irc around version 0.4 or 0.5
[23:42:57] <strcat> nstdloop: because you have Iterator<&u64>, not Iterator<u64>
[23:43:01] <strcat> and &T doesn't implement Add
[23:43:03] <tcsc> two attempts at getting "in" to rust ago
[23:43:08] <strcat> fold(0, |a, &b| a + b)
[23:43:10] <strcat> or
[23:43:14] <strcat> map(|&x| x)
[23:43:21] *** Quits: gimpf (gimpf@moz-648EA225.adsl.highway.telekom.at) (Quit: Leaving.)
[23:43:24] <aatch> I'm not sure what we'd do with strings though
[23:43:25] <strcat> we could impl Add for &T
[23:43:27] *** Quits: valentin (Thunderbir@7F62EB68.9261D8F.FAF22AF7.IP) (Ping timeout)
[23:43:32] *** Quits: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP) (Quit: Lost terminal)
[23:43:36] *** Joins: valentin (Thunderbir@7F62EB68.9261D8F.FAF22AF7.IP)
[23:43:42] <nstdloop> strcat: Just tried that with map but now I get that same borrowed value error so I have to split it up anyway.
[23:43:54] <strcat> not sure what you mean
[23:44:16] <strcat> rusti: use std::iter::AdditiveIterator; range(0, 10).filter(|x| *x & 1 == 0).sum()
[23:44:17] -rusti- 20
[23:44:25] <strcat> rusti: use std::iter::AdditiveIterator; range(0, 10).map(|x| x * 2).filter(|x| *x & 1 == 0).sum()
[23:44:25] -rusti- 90
[23:44:28] <strcat> you have an &T iterator
[23:44:34] <nstdloop> Earlier I was getting "borrowed value does not live long enough" and ChrisMorgan said it was an error in 0.9 that is gone in master
[23:44:37] <nstdloop> but I can't move to master
[23:44:38] <tcsc> at the very least adding them to the language would avoid the proliferation of string and vector impementations common in c++
[23:44:56] <strcat> tcsc: I don't really see why
[23:45:03] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[23:45:11] <ChrisMorgan> nstdloop: it was one particular variety of such error, rvalue lifetime stuff.
[23:45:11] <strcat> what's the difference between them being hard-wired into the compiler or in the stdlib?
[23:45:22] <tcsc> strcat: what would the type of a string literal be?
[23:45:45] *** Joins: luziiie (luziie@moz-CD18B14B.customer.cdi.no)
[23:45:55] <strcat> tcsc: a generic type
[23:45:59] <tcsc> since rust doesn't have implicit conversions, you'd have to do MyString::new("foo"), or similar
[23:46:00] <tcsc> oh
[23:46:10] <strcat> rust has generic literals for ints/floats
[23:46:25] <strcat> you can't impl a trait to overload them for user-defined types, but it's possible to support
[23:46:33] *** Quits: echristo (echristo@3246441A.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[23:46:47] *** Quits: luziie (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[23:46:58] <tcsc> that's interesting.
[23:47:03] *** Quits: mawuli (mawuli@moz-A135DF9D.com.gh) (Ping timeout)
[23:47:24] <strcat> tcsc: anyway a string literal atm is a slice
[23:47:40] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[23:47:45] <strcat> (ptr, len) without memory allocation is a sane thing to have at a language level
[23:47:56] <tcsc> definitely
[23:48:17] <strcat> fixed-size arrays are a sane thing to have too, if you don't have the ability to impl them in a library (rust can't, C++ can)
[23:48:44] <aatch> Which is why [T] as a dynamically-sized type is staying around.
[23:48:48] <tcsc> right, rust can't do an integer in a generic
[23:49:03] *** Quits: Sharp (Sharp@moz-3301C7AB.static-ip.telepacific.net) (Quit: Sharp)
[23:49:06] <strcat> but having growable vectors, hash tables, etc. special-cased in the language is weird
[23:49:11] <strcat> because there are many valid implementations
[23:49:19] <strcat> so if you can't implement them equally well in a library, you've got a problem
[23:49:29] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[23:49:46] <aatch> We really need to get overloaded indexing sorted out...
[23:49:52] *** Quits: Rym (y@D379E926.85D6E662.51C6DE68.IP) (Ping timeout)
[23:50:25] <ChrisMorgan> mcpherrin, nstdloop: efficient fn fib(uint) -> Option<u64>: https://gist.github.com/chris-morgan/9519159
[23:50:29] <arielb1> why does begin_unwind execute ud2?
[23:50:29] <nstdloop> strcat: Think it's possible we'll get something like the OverloadedStrings extension from Haskell?
[23:50:31] <sinsnare> another random thought, can we have a Trait for iterating, which is sort of like operator overloading for for-loops? like in python?
[23:50:33] <kimundi> overloaded everything, really
[23:50:58] <arielb1> rather than call _exit properly?
[23:50:58] <nstdloop> ChrisMorgan: hahahaha
[23:51:01] *** Quits: valentin (Thunderbir@7F62EB68.9261D8F.FAF22AF7.IP) (Ping timeout)
[23:51:04] *** Joins: valentin (Thunderbir@7F62EB68.9261D8F.FAF22AF7.IP)
[23:51:05] <strcat> nstdloop: I don't really expect that we'll get that
[23:51:33] *** Quits: chenyang (user@moz-9BE2710B.airbears2.berkeley.edu) (Ping timeout)
[23:51:38] *** Quits: rileyw (rileyw@8BA43816.9AA11D69.65DDFA89.IP) (Client exited)
[23:51:39] <strcat> arielb1: abort does what it can to generate a core dump
[23:51:45] <strcat> abnormal exit
[23:51:59] <kimundi> ChrisMorgan: Tweak that table a bit, and you've got some nice ASCII art there
[23:52:35] <aatch> sinsnare, strcat tried to make something like that, if I recall correctly, ran into all sorts of problems.
[23:52:46] <strcat> maybe it'd work now
[23:52:50] <strcat> that was back when we had 'self
[23:53:08] <strcat> if you can't impl Iterable for Iterator though, it's problematic
[23:53:09] *** Joins: Rym (y@D379E926.85D6E662.51C6DE68.IP)
[23:53:20] <strcat> and I don't think you can.
[23:53:28] <arielb1> programs exiting with "Illegal Instruction" is kinda scary when you first see it
[23:53:46] <strcat> arielb1: it's only done on abnormal situations that should never happen
[23:53:59] <arielb1> like assertion failures?
[23:54:11] <strcat> we don't have debugging asserts
[23:54:13] <strcat> well
[23:54:33] *** Joins: victorporof_ (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[23:54:38] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:54:41] *** Quits: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: mbx)
[23:54:45] *** Quits: tcsc (tcsc@moz-5E71BAD9.hsd1.ma.comcast.net) (Input/output error)
[23:54:48] <strcat> rust's assert! is never optimized out and calls fail!, it's often used to uphold runtime invariants
[23:54:58] *** Joins: tcsc (tcsc@moz-5E71BAD9.hsd1.ma.comcast.net)
[23:54:59] <sinsnare> strcat, interesting, i thought i heard something about that once
[23:55:17] <strcat> Iterable on containers needs to take &self, so it works on immutable variables
[23:55:25] <strcat> so, by definition it can't work for Iterator
[23:55:27] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Ping timeout)
[23:55:30] <strcat> since Iterator needs to mutate the iterator
[23:55:58] <strcat> and you get & &[T] for a slice
[23:56:02] <arielb1> Getting "Illegal Instruction" on an ordinary assertion failure is quite scary
[23:56:03] <strcat> which is problematic for various reasons
[23:56:12] <kimundi> We'd one Iterable trait for each self, &self and &mut self
[23:56:16] <strcat> arielb1: you don't get it on 'an ordering assertion failure'
[23:56:22] <strcat> an ordinary*
[23:56:36] <strcat> arielb1: rust only calls abort for stuff like runtime bugs... it's not used in regular code
[23:56:53] <arielb1> servo seems to cause it quite easily
[23:57:06] <strcat> servo uses a lot of broken unsafe code
[23:57:36] <strcat> it also probably uses unwinding, which doesn't completely work (throw a failure in a destructor while you're unwinding...)
[23:57:42] *** Quits: skade (skade@moz-1EC0F118.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:57:54] *** Quits: IanCormac84 (User@8A00AD03.2A8D8854.67DFF8B4.IP) (Ping timeout)
[23:57:57] <strcat> and I don't really think throwing from dtors is well-defined as a whole
[23:58:18] <arielb1> well in C++ it's an abort
[23:58:22] <tcsc> throwing == `fail!`ing?
[23:58:26] <strcat> yes
[23:58:29] <aatch> unwinding while unwinding is... bad
[23:58:31] <nstdloop> How do I specify the type of a list? Like whether it's u64 or f64s etc.
[23:58:44] <tcsc> iirc it's only an abort in c++ it's an abort if the dtor was called due to an exception
[23:58:45] *** Joins: IanCormac84 (User@E1064C54.2A8D8854.67DFF8B4.IP)
[23:58:50] <strcat> nstdloop: by list do you mean vector?
[23:58:52] *** Joins: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[23:58:55] <nstdloop> strcat: yes :)
[23:59:10] <strcat> &[u64] is a slice, Vec<u64> for a vector
[23:59:14] <tcsc> hence c++11's std::current_exception
[23:59:14] *** Joins: chenyang (user@moz-9BE2710B.airbears2.berkeley.edu)
[23:59:29] *** Parts: chenyang (user@moz-9BE2710B.airbears2.berkeley.edu) (ERC Version 5.3 (IRC client for Emacs))
[23:59:29] <nstdloop> If I have [1, 2, 3, 4] and I want to annotate that the numbers in it are u64s, what do I do?
[23:59:37] <strcat> tcsc: it's only an abort in rust when the dtor is called due to an exception, and it aborts
[23:59:37] <mcpherrin> nstdloop: 1u64
[23:59:40] <aatch> tcsc, yes, because unwinding while unwinding doesn't really have a sane option.
[23:59:46] * strcat shrugs
[23:59:49] <nstdloop> mcpherrin: I have to do that for every number?
[23:59:56] <mcpherrin> nstdloop: one will be enough for the rest to be inferred
[23:59:59] <nstdloop> ah
