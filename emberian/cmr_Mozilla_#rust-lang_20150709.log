[00:12:16] *** Quits: SilverKey (SilverKey@moz-liif3j.res.rr.com) (Quit: ZZZzzz…)
[00:37:45] *** Joins: SilverKey (SilverKey@moz-liif3j.res.rr.com)
[00:38:00] *** Quits: SilverKey (SilverKey@moz-liif3j.res.rr.com) (Quit: Cheerio!)
[00:51:49] *** Quits: blank_name (blank_name@moz-i7g.dq5.36.50.IP) (Ping timeout: 121 seconds)
[00:53:51] *** Joins: blank_name (blank_name@moz-k4s.jk6.36.50.IP)
[01:10:31] *** Joins: blank_na1e (blank_name@moz-dj7667.mi.frontiernet.net)
[01:13:13] *** Quits: blank_name (blank_name@moz-k4s.jk6.36.50.IP) (Ping timeout: 121 seconds)
[01:43:36] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[02:21:34] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[02:21:55] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[02:22:27] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[03:22:46] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[03:33:49] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[04:01:34] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[04:05:43] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[04:25:04] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[06:52:40] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[15:00:15] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[15:06:29] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[15:16:32] *** Quits: blank_na1e (blank_name@moz-dj7667.mi.frontiernet.net) (Ping timeout: 121 seconds)
[15:29:31] <nmatsakis> huon: yeah but we have traits...
[16:21:33] *** Joins: blank_name (blank_name@moz-3fg.2p9.36.50.IP)
[16:24:23] <huon> thoughts? https://github.com/huonw/rfcs/blob/prefix-ty-param/text/0000-prefix-type-params.md
[16:24:38] <huon> aturon, nmatsakis: ^ 
[16:25:42] <aturon> huon: yes please
[16:51:54] *** Quits: JustAPerson (JustAPerson@moz-un628q.moe) (Ping timeout: 121 seconds)
[16:55:22] <sfackler> huon: :+1:
[17:01:47] *** Joins: JustAPerson (JustAPerson@moz-un628q.moe)
[17:20:07] * huon opens it as an RFC
[17:20:51] *** Joins: achanda (achanda@moz-fr1.spq.217.162.IP)
[17:37:09] *** Joins: Tobba (Tobba@moz-4l45on.skybroadband.com)
[17:58:10] *** Quits: blank_name (blank_name@moz-3fg.2p9.36.50.IP) (Ping timeout: 121 seconds)
[18:09:52] *** Joins: blank_name (blank_name@moz-t0ci88.mi.frontiernet.net)
[18:14:42] *** Quits: Tobba (Tobba@moz-4l45on.skybroadband.com) (Ping timeout: 121 seconds)
[18:21:51] *** Joins: Tobba (Tobba@moz-oecqnu.plus.com)
[18:46:02] <jroesch> huon: the only drawback I could see is it could make partial application of HKTs more complicated (if we get there)
[18:46:22] <jroesch> but we could always not do that, or have more syntax 
[18:46:33] <huon> hm, in what way? This only applies to generic parameters in expression paths?
[18:46:55] <huon> Or are you thinking we could allow say, `let x: Foo<T> = ...` to be equivalent to `let x: Foo<T, _> = ...`?
[18:47:20] <jroesch> yeah
[18:47:39] <huon> I'll adjust the RFC to explicit say it's not doing that
[18:49:01] <jroesch> cool, I think this would be a trivial impl
[18:49:17] <jroesch> I may cook one up for you ;) 
[18:52:25] <huon> jroesch: yeah, I assume it's basically just remove the error path
[18:52:30] <huon> and things will work
[18:53:28] *** Quits: Tobba (Tobba@moz-oecqnu.plus.com) (A TLS packet with unexpected length was received.)
[19:01:15] <aturon> draft of specialization RFC: https://github.com/aturon/rfcs/blob/impl-specialization/text/0000-impl-specialization.md
[19:02:53] <jroesch> huon: need to also make sure it plugins into the new defaults code 
[19:08:52] *** Quits: blank_name (blank_name@moz-t0ci88.mi.frontiernet.net) (Ping timeout: 121 seconds)
[19:12:05] <jroesch> aturon: just did a quick read, overall seems solid going to have to do a deep read again after lunch 
[19:26:55] *** Joins: blank_name (blank_name@moz-pg7.fli.183.192.IP)
[19:38:08] *** Quits: blank_name (blank_name@moz-pg7.fli.183.192.IP) (Ping timeout: 121 seconds)
[19:39:42] *** Joins: blank_name (blank_name@moz-b62.iv2.183.192.IP)
[19:48:03] *** Quits: achanda (achanda@moz-fr1.spq.217.162.IP) (Connection closed)
[20:15:09] *** Joins: achanda (achanda@moz-fr1.spq.217.162.IP)
[20:27:30] <aturon> jroesch: cool, thanks! on reflection i think the story for inherent impls is too conservative, need to refine
[20:36:08] *** Quits: achanda (achanda@moz-fr1.spq.217.162.IP) (Connection closed)
[20:49:04] *** Joins: achanda (achanda@moz-fr1.spq.217.162.IP)
[20:54:14] <pnkfelix> aturon: its unfortunate you've used the same name `fn trouble` for all of the trouble examples
[20:54:29] <pnkfelix> aturon: because it makes it hard for me succinctly refer to them when giving feedback via irc
[20:55:19] <pnkfelix> aturon: "Adding default to an associated type takes away some abilities, which makes it a breaking change." you are missing the key words at the end, "makes it a breaking change [to the API]."
[20:55:31] <pnkfelix> (as opposed to the language)
[20:58:37] <pnkfelix> aturon: (also, I had been hoping the addition of `default` was going to go further, to the point where we would not add a specific-ness relation between types for the purposes of specializations
[20:59:22] <pnkfelix> aturon: (and instead, an impl would have to be tagged as `default` if it could ever overlap with any other impl at all, and then the winning impl would have to be a single one that didn't have a `default`)
[20:59:55] <pnkfelix> But perhaps it is naïve of me to think that could be workable.
[21:00:44] <aturon> pnkfelix: fixed missing text, thanks. re: default, IIUC that sounds quite a bit more limited than this proposal -- and in particular, would prevent us from using specialization to fully "capture" inheritance
[21:01:03] <aturon> but maybe i don't understand what you have in mind 
[21:01:12] <aturon> in fact, may be better to hash that out in RFC comments once this is posted :)
[21:01:21] <pnkfelix> that may well be true; I was mostly just thinking about the use cases that I encountered while skimming the RFC
[21:01:42] <pnkfelix> it is an unfortunate situation where the simplest use cases of course seem like they would work with a more limited solutionn
[21:01:43] <aturon> (note that every impl that can be overridden must be marked default)
[21:01:58] <pnkfelix> as in, that is a consequence of my proposal?
[21:02:06] <pnkfelix> (in which case, Yes, that was I think intentional)
[21:02:10] <aturon> sorry no: that's what's being proposed in my RFC
[21:02:16] <pnkfelix> uh
[21:02:21] <pnkfelix> that's not the impression I got
[21:02:35] <pnkfelix> from e.g. the permitting overlap section
[21:02:37] <aturon> hm ok. so basically items are "final" by default (to use Java terminology)
[21:02:48] <aturon> oh, are you looking at the Motivation section only right now?
[21:02:50] <pnkfelix> but I guess all the impl bodies there were empyy
[21:03:05] <aturon> ah i see
[21:03:06] <pnkfelix> no
[21:03:09] <pnkfelix> I was looking at Overlapping impls and specialization
[21:03:11] <aturon> yes, any items in those would have to have `default`
[21:03:29] <pnkfelix> okay, that would probably satisfy me, I think
[21:03:31] <aturon> but maybe i wasn't clear enough in the earlier section on `default`
[21:03:46] <pnkfelix> you were clear, but then I thjought you were introducing an *independent* feature in this section
[21:03:46] <aturon> put differently, default is a bit like `virtual` in C++
[21:03:49] <aturon> ohhh
[21:03:52] <aturon> nope :)
[21:03:57] <pnkfelix> hmm
[21:04:27] <aturon> (default only makes sense when you have overlap, so the two are intimately related)
[21:05:52] <pnkfelix> yes but the complex specialization machinery just worries me a little.  So I was trying to determine if a simpler approach woudl suffice
[21:06:05] <pnkfelix> but I see it probably wont
[21:06:08] <pnkfelix> or rather
[21:06:17] <pnkfelix> it would require a rather baroque language
[21:06:41] <pnkfelix> Back in grad school, I mused at some point about a restriction of Java where all methods would be required to be either abstract or final
[21:06:51] <pnkfelix> I'm wondering if this is an instance of that
[21:06:56] <pnkfelix> (or a variation)
[21:07:12] <pnkfelix> where the thing I'm trying to propose does have certain semi-interesting properties
[21:07:20] <pnkfelix> but would still be rejected by the sane members of a community
[21:16:24] <pnkfelix> aturon: I'll try to re-read with a more open mind.  But in the mean time, the more I think about it, the more I would prefer that the bodies in the examples were not empty.  In particular I probably need it spelled out if you are expecting the more specific impl's to themselves put `default` on their `fn`s as well.
[21:17:33] <aturon> pnkfelix: requiring abstract or final in all cases would rule out a large class of things we want to cover, e.g. the Extend example
[21:18:14] <pnkfelix> aturon: you see, this seems to contradict what you said above
[21:18:49] <aturon> pnkfelix: which thing?
[21:18:55] <pnkfelix> aturon: i got the impression above that one had to put the `default` keyword on, to opt-in to the overlap and specialization comparison
[21:19:08] <pnkfelix> aturon: but skimming over the Extend example in the RFC, no one is using `default`
[21:19:11] <pnkfelix> so no one is opting in?
[21:20:05] <pnkfelix> namely when you wrote "yes, any items in those would have to have `default`"
[21:20:19] <pnkfelix> (or is the point you are making that there is no overlap in the Extend examples?)
[21:20:36] <aturon> pnkfelix: ah, i see the confusion. some of the examples in the intro are written to correspond to one's naive idea of specialization, before even the idea of `default` is introduced --
[21:20:41] <aturon> but that may be more confusing than helpful
[21:20:43] * pnkfelix goes to go try to re-skim. But really he should probably stop talking and just focus on trying to read it from the beginning
[21:21:15] <aturon> i.e. it's probably better to give even the motivating examples in a form corresponding to the final design
[21:21:18] <pnkfelix> aturon: well, at least spelling out the Extend example as you expect it to look
[21:21:19] <pnkfelix> at the bottom
[21:21:20] <aturon> yeah
[21:21:21] <aturon> yes
[21:21:40] <aturon> so the idea is that the blanket version of Extend needs to put `default` on the `extend` fn
[21:21:44] <pnkfelix> Its hard to write Motivation sections in our RFC template
[21:22:04] <pnkfelix> I've encountered this probelm in the past, where you really want to write examples that assume stuff that hasn't been defined yet
[21:22:28] <aturon> yeah :) always the hard part in technical writing
[21:22:30] <pnkfelix> aturon: and the more specific versions *also* put default on their `fn extend`?
[21:22:52] <pnkfelix> aturon: in anticipation that there may be others that are even more specific than they are?
[21:22:55] <aturon> only if they want those to be further overridable -- though in the example, the types are fully concrete, so no further overriding is possible anyway
[21:23:23] <aturon> err, i take that back
[21:23:27] <pnkfelix> aturon: That's an example that the scheme I was talking about would handle then.  Which means you may want to come up with at least one example that breaks my scheme
[21:23:31] <aturon> they're not fully concrete, since the element type is still a parameter
[21:23:43] <aturon> note that default != abstract
[21:23:48] <pnkfelix> right
[21:23:52] <aturon> ok just making sure :)
[21:23:54] <pnkfelix> okay, yes
[21:23:56] <pnkfelix> when I said my scheme
[21:23:58] <pnkfelix> I meant this:
[21:24:35] <pnkfelix> https://gist.github.com/pnkfelix/01a3a88b9450e029ebde
[21:25:27] <pnkfelix> I don't doubt that this will fail for class hierarchies
[21:25:46] <aturon> hmmm
[21:25:49] <pnkfelix> at least ones where one is both providing an override and expecting it to be overridden in some cases
[21:26:05] <aturon> there may be a way to have that work out
[21:26:22] <pnkfelix> but it does, IMO, have a pretty trivial rule for *seeing* how the resolution is going to turn out
[21:26:37] <aturon> yes indeed
[21:26:45] <pnkfelix> I'm basically trying to keep us away from what I see as C++'s complex rules for specific-ness
[21:26:58] <pnkfelix> even though I'm pretty sure you didn't go near that level
[21:27:00] <aturon> i'm curious what you think of the rule proposed in the RFC :)
[21:27:09] <pnkfelix> I need to read it more carefully before I judege it
[21:27:20] <pnkfelix> the examples certainly seemed intutively obvious
[21:27:38] <pnkfelix> but that's the thing about those kinds of examples, they have the whole "doomed to succeed" thing, right?  :)
[21:27:40] <aturon> but anyway, i should come up with a real example, ideally not even based on class hierarchies, where you want multiple levels of overriding
[21:27:50] <aturon> hahaha
[21:28:02] <pnkfelix> yes, not basing it on class hierarchies would indeed be ideal
[21:28:14] <pnkfelix> okay time for me to go to bed
[21:28:16] <aturon> well, i'm *pretty* sure that the rule i ended up with only applies in the "obvious" cases (certainly by comparison to some other more expressive rules i considered...)
[21:28:20] <aturon> alright, thanks for the feedback!
[21:28:27] <pnkfelix> if nothing else
[21:28:37] <pnkfelix> you can add my suggestion to the alterantives
[21:28:41] <aturon> +1
[21:28:43] <pnkfelix> and then the community can poke the hoels in it
[21:28:59] <aturon> i suspect there are lots of holes to go around :) g'nite!
[21:44:46] *** Quits: JustAPerson (JustAPerson@moz-un628q.moe) (*.net *.split)
[21:44:46] *** Quits: WindowsBunny (Peter@moz-vlal7g.east.verizon.net) (*.net *.split)
[21:44:46] *** Quits: jroesch (sid26078@moz-o13a59.charlton.irccloud.com) (*.net *.split)
[21:44:46] *** Quits: huon (huon@moz-hj272o.8rnv.rggd.6180.2400.IP) (*.net *.split)
[21:44:46] *** Quits: spastorino (sid27384@moz-i6sgse.brockwell.irccloud.com) (*.net *.split)
[21:44:46] *** Quits: frewsxcv (sid86219@moz-dneii9.brockwell.irccloud.com) (*.net *.split)
[21:44:46] *** Quits: aturon (sid379@moz-hhfc8n.0j4i.jtu0.0101.2620.IP) (*.net *.split)
[21:44:46] *** Quits: nrc (sid365@moz-3taf2s.0j4i.jtu0.0101.2620.IP) (*.net *.split)
[21:44:46] *** Quits: nmatsakis (sid381@moz-32a8b5.0j4i.jtu0.0101.2620.IP) (*.net *.split)
[21:44:47] *** Quits: pnkfelix (sid344@moz-nnnecs.0j4i.jtu0.0101.2620.IP) (*.net *.split)
[21:44:47] *** Quits: seancorfield (sid45586@moz-lphn72.highgate.irccloud.com) (*.net *.split)
[21:44:47] *** Quits: sfackler (sfackler@moz-ko8uu1.com) (*.net *.split)
[21:44:47] *** Quits: acrichto (acrichto@moz-u3dg2t.sfo1.mozilla.com) (*.net *.split)
[21:44:47] *** Quits: playbot-mini (playbot-min@moz-1vk5qd.compute.amazonaws.com) (*.net *.split)
[21:44:47] *** Quits: playbot (playbot@moz-1vk5qd.compute.amazonaws.com) (*.net *.split)
[21:44:47] *** Quits: bpugh (bpugh@moz-715e47.ca.comcast.net) (*.net *.split)
[21:44:47] *** Quits: achanda (achanda@moz-fr1.spq.217.162.IP) (*.net *.split)
[21:44:47] *** Quits: blank_name (blank_name@moz-b62.iv2.183.192.IP) (*.net *.split)
[21:44:47] *** Quits: Luqman (laden@moz-qhp202.csclub.uwaterloo.ca) (*.net *.split)
[21:44:59] *** Joins: acrichto (acrichto@moz-u3dg2t.sfo1.mozilla.com)
[21:44:59] *** Joins: playbot (playbot@moz-1vk5qd.compute.amazonaws.com)
[21:44:59] *** Joins: sfackler (sfackler@moz-ko8uu1.com)
[21:44:59] *** Joins: bpugh (bpugh@moz-715e47.ca.comcast.net)
[21:44:59] *** Joins: huon (huon@moz-hj272o.8rnv.rggd.6180.2400.IP)
[21:44:59] *** Joins: pnkfelix (sid344@moz-nnnecs.0j4i.jtu0.0101.2620.IP)
[21:44:59] *** Joins: frewsxcv (sid86219@moz-dneii9.brockwell.irccloud.com)
[21:44:59] *** Joins: seancorfield (sid45586@moz-lphn72.highgate.irccloud.com)
[21:44:59] *** Joins: spastorino (sid27384@moz-i6sgse.brockwell.irccloud.com)
[21:44:59] *** Joins: jroesch (sid26078@moz-o13a59.charlton.irccloud.com)
[21:44:59] *** Joins: Luqman (laden@moz-qhp202.csclub.uwaterloo.ca)
[21:44:59] *** Joins: nmatsakis (sid381@moz-32a8b5.0j4i.jtu0.0101.2620.IP)
[21:44:59] *** Joins: aturon (sid379@moz-hhfc8n.0j4i.jtu0.0101.2620.IP)
[21:44:59] *** Joins: nrc (sid365@moz-3taf2s.0j4i.jtu0.0101.2620.IP)
[21:44:59] *** Joins: JustAPerson (JustAPerson@moz-un628q.moe)
[21:44:59] *** Joins: WindowsBunny (Peter@moz-vlal7g.east.verizon.net)
[21:44:59] *** Joins: achanda (achanda@moz-fr1.spq.217.162.IP)
[21:44:59] *** Joins: playbot-mini (playbot-min@moz-1vk5qd.compute.amazonaws.com)
[21:44:59] *** Joins: blank_name (blank_name@moz-b62.iv2.183.192.IP)
[21:45:07] *** Joins: barosl_ (barosl@moz-tmp.qma.67.220.IP)
[21:48:31] *** Quits: barosl (barosl@moz-tmp.qma.67.220.IP) (Ping timeout: 121 seconds)
[23:49:47] *** Quits: achanda (achanda@moz-fr1.spq.217.162.IP) (Connection closed)
