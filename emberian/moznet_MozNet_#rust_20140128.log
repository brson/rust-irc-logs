[00:00:05] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[00:00:36] <dbaupp> joebobjoe: you can (normally) pass ~Trait to a function like `fn foo<T>(x: ~T)` under DST
[00:00:39] *** Quits: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[00:00:46] <dbaupp> (you cannot do so atm)
[00:01:23] <Armavica> hi, is there a reason why we have std::vec::ImmutableCopyableVector, but std::vec::MutableCloneableVector (I'm asking about the name, more specifically "Copyable" vs. "Cloneable")
[00:01:49] <dbaupp> Armavica: Copyable was created when we had a 'Copy' trait
[00:01:49] *** Quits: Earnestly (earnest@moz-A8B5B5EE.dyn.plus.net) (Ping timeout)
[00:02:01] <dbaupp> (erm, *kind, it was a compiler built-in.)
[00:02:10] <Armavica> ok so historical reason
[00:02:15] <dbaupp> yup
[00:02:16] *** Joins: Earnestly (earnest@moz-A8B5B5EE.dyn.plus.net)
[00:02:17] *** Quits: mauricioc (mauricioc@4D3BAAF1.2647FC06.D159334F.IP) (Quit: leaving)
[00:03:00] <Armavica> would that be worth submitting an issue or PR?
[00:03:05] <comex> /usr/src/rust/mk/install.mk:170: *** Aborting install because more than one library matching libstd-*.dylib is present in build tree x86_64-apple-darwin/stage2/lib: .  Stop.
[00:03:23] <dbaupp> Armavica: a PR would be good :)
[00:03:36] <Armavica> great
[00:03:41] <dbaupp> comex: `make uninstall`
[00:04:09] <dbaupp> comex: (or, if that doesn't work, find and delete the directory it's installing to.)
[00:04:34] <comex> dbaupp: are you sure? it says more than one is present in the build tree
[00:04:38] <comex> when i did make install again, it worked
[00:04:45] <Armavica> and second question: is there a native way to append to a vector without modifying it?
[00:04:46] <comex> so i think it's a -j issue, because i originally did make -j8 install
[00:04:48] *** Joins: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net)
[00:04:55] <dbaupp> ah, maybe
[00:05:27] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:05:28] *** Quits: eibwen (kvirc@moz-45352C90.dip0.t-ipconnect.de) (Ping timeout)
[00:05:29] <dbaupp> Armavica: as in allocate a whole new vector, copying the data from the old one along with the new element?
[00:07:00] <Armavica> yeah, that's what I thought, it's not "Rusty"
[00:07:11] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[00:07:11] <Armavica> ok, thank you
[00:07:28] <steveklabnik> Armavica: 'not rustic' ;)
[00:07:28] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[00:07:49] *** Joins: lpy (lpy@9248CA04.F930CE91.65042015.IP)
[00:08:01] <Armavica> steveklabnik: noted!
[00:08:51] *** Quits: synackse (jordyd@moz-15FF66DC.seg107.ucf.edu) (Ping timeout)
[00:09:21] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[00:09:46] *** Quits: lpy (lpy@9248CA04.F930CE91.65042015.IP) (Ping timeout)
[00:10:08] <chromatic> rusterific?
[00:10:10] <jroesch> what is the current situation in (0.9) for closures that can escape their defining environment, and be called more than once?
[00:10:29] <Armavica> steveklabnik: while you're there, let me say you that I really like your tutorials :)
[00:10:38] <steveklabnik> aww thanks!
[00:10:44] *** Quits: twi (Adium@moz-6EBDF94B.static.internode.on.net) (Quit: Leaving.)
[00:10:45] <bvssvni> jroesch: gone
[00:11:05] *** Joins: mib_baxgwv (Mibbit@10522E5B.C658D2E3.4A4D003.IP)
[00:11:08] *** Joins: elxx (elxx@moz-E228319D.tc.ph.cox.net)
[00:11:08] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[00:11:12] *** Quits: mib_baxgwv (Mibbit@10522E5B.C658D2E3.4A4D003.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:11:26] <jroesch> so absolutely no way to emulate them? I was reading over nmatsakis's blog post from late last year and he was suggesting at least some kind of work around
[00:11:36] <dbaupp> jroesch: either just avoiding having captures (a pretty useless closure :P ), or a struct with a call method
[00:11:37] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[00:11:47] *** Quits: skade (skade@moz-B73EE4D5.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:12:08] <dbaupp> (ala Java or (old) C++)
[00:12:13] <bvssvni> jroesch: you can emulate them, by using procs and returning a tuple with new proc on each call
[00:12:27] <jroesch> dbaupp: then make my env part of said struct?
[00:12:37] <dbaupp> jroesch: the struct is the env
[00:13:07] *** Quits: a_m0d (a_m0d@moz-2F294D00.acanac.net) (Quit: Leaving.)
[00:13:11] <bvssvni> jroesch: you need a struct anyway
[00:13:24] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Quit: leaving)
[00:13:34] <dbaupp> i.e. `struct Env { x: int } impl Env { fn call(&self, y: int) -> int { self.x + y } Env { x: 1 }`
[00:13:51] <dbaupp> would be the returnable equivalent to `let x = 1; |y| x + 1`
[00:14:01] <dbaupp> I mean, |y| x + y
[00:14:04] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[00:14:51] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[00:14:54] <jroesch> That is what I was thinking. Was hoping that there was something a little more elegant
[00:14:55] <joebobjoe> dbaupp: Why can't you do that currently?
[00:15:30] <dbaupp> joebobjoe: i.e. why can't you return `|y| x + y`?
[00:16:11] <dbaupp> jroesch: hopefully we'll get unboxed closures (which are that struct + method with more syntactic sugar)
[00:17:20] <jroesch>  yeah that would be nice, each time I come back to Rust the closure situation has been different.
[00:17:26] *** Quits: pietr0 (pietr0@70D0F689.E6386E47.65DDFA89.IP) (Quit: pietr0)
[00:17:34] <joebobjoe> dbaupp: No, I'm talking about the DST example you gave me with Trait
[00:17:46] <joebobjoe> dbaupp: Why doesn't it work?
[00:18:06] <dbaupp> jroesch: hahah, it has been changing quite a bit... hopefully we're stabilising...
[00:18:07] <Jesin> hm, how does one output an f64?
[00:18:08] *** Joins: a_m0d (a_m0d@moz-2F294D00.acanac.net)
[00:18:17] <dbaupp> joebobjoe: oh, so many concurrent discussions :)
[00:18:20] *** Quits: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[00:18:32] <dbaupp> joebobjoe: the reason we can't do it now is because ~Trait isn't ~T with T = Trait
[00:18:47] <dbaupp> it's (~SomeType, vtable pointer)
[00:19:38] *** Joins: mauricioc (mauricioc@4D3BAAF1.2647FC06.D159334F.IP)
[00:19:44] <jroesch> dbaupp: yeah hopefully, I was joking about how much it has changed since the early releases
[00:19:47] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[00:19:47] *** ChanServ sets mode: +o tjc
[00:20:26] <dbaupp> rusti: println!("f64: {}", 1.2345f64);
[00:20:29] -rusti- pastebinned 7 lines of output: http://ix.io/a6T
[00:20:34] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: Textual IRC Client: www.textualapp.com)
[00:20:42] *** Joins: jvrmaia (jvrmaia@3B638C29.261EB871.DF2AC62B.IP)
[00:20:47] <dbaupp> huh
[00:20:57] <dbaupp> rusti: println!("f64: {}", 1.2345f64)
[00:20:58] -rusti- f64: 1.2345
[00:20:58] -rusti- ()
[00:21:01] <dbaupp> Jesin: ^
[00:22:08] <joebobjoe> dbaupp: Hm. Can you still do it with fn(x: ~Trait) ?
[00:22:16] *** Quits: elxx (elxx@moz-E228319D.tc.ph.cox.net) (Quit: Leaving)
[00:22:21] <dbaupp> joebobjoe: yeah, that's fine
[00:22:36] <dbaupp> joebobjoe: it's just the generic case that doesn't work
[00:22:39] <joebobjoe> dbaupp: Why do they work differently?
[00:22:50] *** Joins: elxx (elxx@moz-E228319D.tc.ph.cox.net)
[00:23:22] *** Quits: a_m0d (a_m0d@moz-2F294D00.acanac.net) (Quit: Leaving.)
[00:23:31] <dbaupp> joebobjoe: because ~Trait isn't a ~T with T = Trait
[00:23:42] <dbaupp> the ~ in front is a trick, like with ~str and ~[]
[00:23:47] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[00:24:22] <dbaupp> ~Trait would be better written as `struct OwnedTrait { data: *void, vtable: *TraitVTable }`
[00:24:32] <joebobjoe> dbaupp: Would this work? fn<T>(x: T) with ~Trait as T?
[00:24:37] <dbaupp> yes, that's fine
[00:24:41] <dbaupp> t~Trait is a type
[00:24:46] <dbaupp> s/t/
[00:24:56] <dbaupp> but `Trait` is not a *type*
[00:25:12] <dbaupp> so you can't separate the `~` and `Trait` in `~Trait`.
[00:25:17] <dbaupp> at least, not until we have DST
[00:25:36] <dbaupp> in any case, nmatsakis is apparently talking about this tomorrow at the Bay Area meetup
[00:25:48] <joebobjoe> dbaupp: Will it be recorded?
[00:25:54] <dbaupp> yes
[00:26:02] <dbaupp> and even broadcast live
[00:26:06] <joebobjoe> Where!??
[00:26:17] <dbaupp> https://air.mozilla.org/rust-meetup-january-2014/
[00:26:26] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[00:26:31] <joebobjoe> dbaupp: Cool, thanks
[00:26:54] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[00:27:25] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[00:27:37] <joebobjoe> dbaupp: So, will Trait become a type? Or will there now be a wrapper type
[00:28:21] <dbaupp> joebobjoe: AIUI, it'll becoe a weird "unsized" type
[00:28:32] <dbaupp> so it can't be used completely normally
[00:28:32] <joebobjoe> dbaupp: So, compiler magic?
[00:28:42] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[00:28:58] <dbaupp> but it can be used for, say, Rc<Trait>
[00:29:02] <dbaupp> yes, compiler magic
[00:29:08] <Florob> joebobjoe, <http://smallcultfollowing.com/babysteps/blog/2014/01/05/dst-take-5/> is a decent explanation.
[00:29:17] <joebobjoe> Florob: Thanks
[00:29:39] <joebobjoe> dbaupp: So, the compiler will automatically emit code for accessing methods on DSTs?
[00:29:58] <dbaupp> not sure of the low-level details
[00:30:11] <dbaupp> (and not particularly sure of the high-level ones either :P )
[00:30:28] <joebobjoe> dbaupp: Why is the vtable a pointer?
[00:31:16] <Jesin> hm, what's the equivalent of argc/argv?
[00:31:48] <dbaupp> Jesin: std::os::args()
[00:32:14] <bvssvni> Jesin: http://static.rust-lang.org/doc/master/std/os/fn.args.html
[00:32:30] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[00:32:30] <dbaupp> joebobjoe: to be able to be shared among all instances of `~Trait`
[00:32:38] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[00:32:41] *** Joins: maxiepoo (Max@moz-6F50ADE.hsd1.il.comcast.net)
[00:32:51] <dbaupp> joebobjoe: and to make sure the unboxed part of `~Trait` is small
[00:33:16] <joebobjoe> dbaupp: Okay, so for performance reasons
[00:33:17] <dbaupp> and probably other reasons
[00:33:33] <joebobjoe> dbaupp: But doesn't that mean that there is one extra dereference in lookup?
[00:34:34] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[00:35:03] <dbaupp> yes
[00:35:31] <dbaupp> well, maybe not
[00:35:52] <dbaupp> but the cost of a virtual call is almost certainly much more than the extra dereference
[00:36:04] <joebobjoe> dbaupp: I guess it pales in comparison to copying the whole vtable?
[00:36:07] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[00:36:26] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[00:36:27] <Florob> dbaupp, isn't the difference in a virtual call precisely that extra lookup?
[00:36:37] <olsonjeffery> brson: a pox upon progress in the stdlib!
[00:36:49] *** jorendorff is now known as jorendorff_away
[00:36:51] <olsonjeffery> brson: that whole "let's demo conditions in networking IO" thing?
[00:37:00] <dbaupp> Florob: you could theoretically have (*data, method, method, .., method)
[00:37:13] <olsonjeffery> listener.bind() returns an Option<TcpAcceptor> now, instead of failing
[00:37:14] <dbaupp> rather than (*data, *(method, ..., method))
[00:37:19] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[00:37:26] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[00:37:29] <olsonjeffery> so basically that "get rid of stdlib failures" kind of pre-emptively changed the API
[00:37:41] <olsonjeffery> filed under "let's pull the rug out from underneath"
[00:37:56] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[00:38:05] <Florob> dbaupp, I'd note that "method" in that notation is itself an address AFAIK
[00:38:15] <dbaupp> Florob: yes, that's the virtual call
[00:38:34] <joebobjoe> dbaupp: When a non-vtable method is called, is the address hard-coded into the assembly instruction?
[00:38:36] <olsonjeffery> that's what i get for using master.
[00:38:43] *** jorendorff_away is now known as jorendorff
[00:38:44] <dbaupp> but under the unboxed scheme is trait_object.method.virtual_call()
[00:38:58] <dbaupp> rather than (*trait_object.vtable).method.virtual_call()
[00:39:08] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[00:39:18] <dbaupp> joebobjoe: when a static function is called, yes
[00:39:35] <dbaupp> (closures and function pointers are all so virtual calls)
[00:40:07] <joebobjoe> dbaupp: So there are two extra derefernces in a virtual call... One to get to the vtable and one to index the vtable?
[00:41:19] *** Quits: dbaupp (Thunderbir@32742E97.D5A1DCF.37681C44.IP) (Ping timeout)
[00:41:24] <joebobjoe> lol
[00:42:05] <brson> olsonjeffery: did that impact your ability to publish that article?
[00:42:30] *** Quits: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: dherman)
[00:42:41] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[00:42:49] *** Joins: dbaupp (Thunderbir@32742E97.D5A1DCF.37681C44.IP)
[00:42:55] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[00:42:57] <Florob> joebobjoe, I'd say "at most" two dereferences. If you do multiple calls you can certainly keep the vtable address in a register. Also I'd expect that to always be a cache-hit since it's right next to the object's address
[00:45:38] <dbaupp> (and if you're calling multiple methods, the indexing into the vtable itself will likely be a cache-hit too.)
[00:45:44] *** Quits: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se) (Quit: Ex-Chat)
[00:46:38] *** Joins: sellout (Adium@moz-C6258813.hlrn.qwest.net)
[00:48:43] *** Joins: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[00:48:43] *** ChanServ sets mode: +ao dherman dherman
[00:48:58] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[00:49:00] <olsonjeffery> brson: im just now dealing with the implications of it.. it's kind of toss-up, because i can either code to 0.9, or i can basically toss out conditions in the discussion.
[00:49:03] *** Quits: nkoep (nik@moz-E599836C.pool.mediaways.net) (Quit: Leaving)
[00:49:05] <olsonjeffery> both options kind of suck.
[00:49:23] <olsonjeffery> in any event, i want to turn *something* in.
[00:50:31] <brson> i suggest tossing out conditions, though there's not much left to say about error handling then
[00:50:56] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[00:50:58] * acrichto sneaks in a reference to #11754
[00:51:06] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Quit: ChatZilla 0.9.90.1 [Firefox 26.0/20131205075310])
[00:51:16] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[00:51:21] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[00:51:38] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[00:51:48] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[00:52:07] <olsonjeffery> acrichto: yes i do mention that already
[00:52:35] *** Quits: joebobjoe (Dale@moz-4014DDC7.ga.at.cox.net) (Quit: Leaving.)
[00:52:59] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[00:53:04] <olsonjeffery> i think this is kind of a useless, interstitial because we basically have no way to signal complete error info. i haven't dug into what was changed in I/O (if conditions were entirely tossed out, or what)
[00:53:18] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[00:53:21] <olsonjeffery> but yeah, 11754 is coming and it's no one's fault that this is out things out
[00:53:31] <olsonjeffery> SimonSapin's change is definitely, on the whole, a great thing
[00:53:32] *** Quits: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net) (Quit: Leaving.)
[00:53:43] <olsonjeffery> just a minor inconvenience that im left to deal with and im grumping aloud. sorry
[00:54:01] *** Joins: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net)
[00:54:10] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[00:54:10] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[00:54:55] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[00:54:57] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[00:55:33] *** Joins: marcel_r (chatzilla@37CAED5E.29CC82CF.C33E194F.IP)
[00:56:27] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[00:57:09] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[01:01:05] * ChrisMorgan is sad that rustpkg is not working for him as he seems to be hitting https://github.com/mozilla/rust/issues/11279
[01:01:55] *** Joins: voxpopuli (fanservice@moz-424BC304.hsd1.pa.comcast.net)
[01:04:04] *** Joins: ktt3ja (ktt3ja@moz-85E2770C.hsd1.va.comcast.net)
[01:04:46] <ChrisMorgan> No, looks like it might be a different problem. Can't seem to figure out the http filenames with libhttp-9296ff29-0.1-pre.{so,rlib}, ending with "warning: library_in_workspace didn't find a library in /home/chris/vc/rust-http/build/x86_64-unknown-linux-gnu/http for http".
[01:05:32] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[01:05:41] <SimonSapin> olsonjeffery: the one about returning Option?
[01:07:20] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Ping timeout)
[01:08:24] *** Joins: ntp (quassel@moz-3203DC63.cpe.net.cable.rogers.com)
[01:08:34] *** Joins: lpy (lpy@9248CA04.F930CE91.65042015.IP)
[01:08:50] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[01:10:15] *** Quits: Savago (Savago@8DE0E80A.E820043D.D4C04133.IP) (Quit: Savago)
[01:10:33] *** Quits: lpy (lpy@9248CA04.F930CE91.65042015.IP) (Ping timeout)
[01:11:30] *** Quits: jdm (jdm@moz-C07D5168.p2p.sfo1.mozilla.com) (Ping timeout)
[01:11:31] *** Joins: jdm (jdm@moz-C07D5168.p2p.sfo1.mozilla.com)
[01:11:31] *** ChanServ sets mode: +o jdm
[01:12:28] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[01:15:51] *** Joins: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net)
[01:18:57] *** Quits: jvrmaia (jvrmaia@3B638C29.261EB871.DF2AC62B.IP) (Quit: Leaving...)
[01:19:09] *** Joins: twi (Adium@BC1E56B6.55F3F843.839F6EC0.IP)
[01:19:42] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[01:21:52] *** Joins: Bewilderforce (Bewilderfo@442904D0.6D160A56.18DC1FC6.IP)
[01:22:10] *** Quits: maxiepoo (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo)
[01:22:44] *** Joins: jmgrosen (jmgrosen@moz-BF80C818.sbcc.edu)
[01:22:57] *** Quits: themgt (themgt@moz-83F07CDA.cm.vtr.net) (Ping timeout)
[01:23:56] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[01:24:41] *** Joins: themgt (themgt@moz-83F07CDA.cm.vtr.net)
[01:24:52] <olsonjeffery> SimonSapin: yeah it looks like it touched the std::io stuff that was conditions-based, previously
[01:25:06] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[01:25:19] *** Quits: twi (Adium@BC1E56B6.55F3F843.839F6EC0.IP) (Ping timeout)
[01:26:45] <_achin> RIP rustpkg
[01:26:50] *** Joins: twi (Adium@BC1E56B6.55F3F843.839F6EC0.IP)
[01:27:15] *** Joins: twi1 (Adium@BC1E56B6.55F3F843.839F6EC0.IP)
[01:27:52] <comex> right
[01:27:56] *** Quits: jmgrosen (jmgrosen@moz-BF80C818.sbcc.edu) (Ping timeout)
[01:28:01] <comex> suppose I have an ast::Item
[01:28:16] *** Joins: jmgrosen (jmgrosen@moz-BF80C818.sbcc.edu)
[01:28:26] *** Quits: twi1 (Adium@BC1E56B6.55F3F843.839F6EC0.IP) (Quit: Leaving.)
[01:28:30] <comex> is there a way to find the Span corresponding to its name (not the whole item) other than searching for the name or something dumb?
[01:28:33] *** Quits: twi (Adium@BC1E56B6.55F3F843.839F6EC0.IP) (Ping timeout)
[01:28:48] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[01:29:09] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:29:53] *** Joins: new_one (new_one@E41125F4.AD901773.B3C0173E.IP)
[01:30:13] <dbaupp> comex: I don't think so
[01:30:59] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[01:31:06] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[01:31:26] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[01:31:56] *** Joins: pietr0 (pietr0@70D0F689.E6386E47.65DDFA89.IP)
[01:32:58] <geomyidae_> any rustacians in WA? Any chance of a seattle talk or meetup?
[01:33:32] <brson> so should we just completely rip out rustpkg or make it print a warning for a while?
[01:33:33] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Connection reset by peer)
[01:33:40] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[01:34:05] *** Joins: twi (Adium@BC1E56B6.55F3F843.839F6EC0.IP)
[01:34:06] * geomyidae_ cries
[01:34:15] <_achin> i can't imaging anything more than trivial code relies on rustpkg
[01:35:09] <_achin> ripping it out seems like a fine thing
[01:35:45] *** Quits: GeorgeH_ (George@moz-FB5F2302.hsd1.nj.comcast.net) (Ping timeout)
[01:35:51] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Quit: Leaving...)
[01:36:02] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[01:36:15] *** Joins: GeorgeH_ (George@moz-FB5F2302.hsd1.nj.comcast.net)
[01:36:16] <aatch> brson, I vote for ripping it out.
[01:36:27] <aatch> Like taking off a plaster
[01:36:33] <ChrisMorgan> brson: what, then, would be the recommended procedure for maintaining dependencies?
[01:36:58] <geomyidae_> makefiles and manualness? :(
[01:37:05] *** Quits: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: dherman)
[01:37:06] <brson> ChrisMorgan: I suppose there would not be one for a while
[01:37:26] <ChrisMorgan> e.g. I have a library that I'm working on right now that depends on http and others will depend on it—rustpkg takes care of that (theoretically)
[01:37:49] <SiegeLord> The workspace bit is still encoded into rustc
[01:37:57] <SiegeLord> You could temporarily install things in there
[01:38:15] <ChrisMorgan> (In practice, I'm hitting an error with rustpkg, same error as #11279 but different symptoms.)
[01:38:34] *** Quits: twi (Adium@BC1E56B6.55F3F843.839F6EC0.IP) (Quit: Leaving.)
[01:38:43] *** Joins: twi (Adium@BC1E56B6.55F3F843.839F6EC0.IP)
[01:38:48] *** jorendorff is now known as jorendorff_away
[01:39:22] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:39:28] <SiegeLord> I do wish installing to /usr/local/lib worked though
[01:39:40] <_achin> plus you save yourself from compiling src/librustpkg/
[01:39:43] <SiegeLord> Even if that's not the end goal (I assume)
[01:39:44] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[01:39:45] *** Joins: joebobjoe (Dale@moz-4014DDC7.ga.at.cox.net)
[01:39:52] *** Parts: joebobjoe (Dale@moz-4014DDC7.ga.at.cox.net) ()
[01:40:49] <geomyidae_> I also have some small libs and an app that composes them that is awkward to advise in regards to utilizing, and that's even with rustpkg :(
[01:41:03] <ChrisMorgan> brson: I'm ambivalent about removing rustpkg. I still want it, but removing it could solve some upsets.
[01:41:37] <_achin> you could pull rustpkg into its own repo, if anyone insists it's valuable
[01:42:01] <brson> ChrisMorgan: there will be a package manager for Rust again in the future
[01:42:06] <ChrisMorgan> _achin: that's just as complete a death sentence.
[01:42:23] <_achin> rustpkg is already dead
[01:42:24] <ChrisMorgan> brson: I know—I'd just kind of like it in the interim.
[01:42:29] <brson> maybe if the minimal amount of functionality for fetching dependencies we could keep it around in some minor form
[01:42:34] <brson> is anybody actually having success with it?
[01:43:21] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[01:43:25] <aatch> I've not managed to get it to work. To be honest, the set-up for it boggle[sd] my mind. I could never figure out where things should go.
[01:43:29] <ChrisMorgan> There are people using it—c.f. the number of questions on the topic when `extern mod extra;` broke.
[01:43:53] <_achin> rustpkg also doesn't work with #[link]
[01:44:05] <SiegeLord> Is that for just building projects or using it for dependencies?
[01:44:19] <thesnowdog>  | less
[01:44:35] <aatch> It's a little *too* opinionated in my, uh, opinion
[01:44:51] <ChrisMorgan> I had minor problems with it earlier which have been resolved; I would be using it just now … if it had worked.
[01:45:00] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[01:45:07] <_achin> another problem with rustpkg is that it never had documentation on how you should use it
[01:45:28] <_achin> i think just about everyone wants to use rustpkg.  but i don't think many people actually are
[01:45:28] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[01:45:46] <SiegeLord> I'd say it did... but if you deviated from the golden path, it refused to work :P
[01:45:55] <ChrisMorgan> _achin: it does have some documentation now
[01:45:59] <geomyidae_> It "works" for me now, though rather inconsistently, and I'm not 100% sure how to make it work cleanly with travis ci, etc.
[01:46:03] <olsonjeffery> geomyidae_: im in tacoma
[01:46:42] <_achin> ChrisMorgan: in more detail than guide-rustpkg.html ?
[01:46:48] *** Quits: pietr0 (pietr0@70D0F689.E6386E47.65DDFA89.IP) (Quit: pietr0)
[01:46:52] <olsonjeffery> i want cargo-lite to succeed, as a supreme stroke of irony
[01:46:56] <ChrisMorgan> _achin: and http://static.rust-lang.org/doc/master/rustpkg.html
[01:47:03] <olsonjeffery> at least the config file format, it can be rewritten in rust
[01:47:17] <olsonjeffery> i like it, at first approach. actually have to port my rustpkg stuff to it
[01:47:18] *** Joins: apoelstra (username@moz-BBEB5B9E.sw.biz.rr.com)
[01:47:20] <SiegeLord> I like how cargo-lite is the polar opposite of rustpkg design :P
[01:47:21] <_achin> oh yeah, i did know that existed actually
[01:47:26] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[01:47:33] <_achin> it's still incomplete, i think
[01:47:54] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[01:48:37] *** Joins: gwty (gwtypc@8B449003.36A22018.137C914F.IP)
[01:48:52] <Jesin> What's wrong with this line?  	let res = range(1u, cap).fold<uint>(cap, &std::num::lcm<uint>);
[01:49:26] *** Quits: thesnowdog (doug@2DF7F7AE.8E46834.6F17036B.IP) (Quit: WeeChat 0.4.2)
[01:49:28] <Jesin> I am evidently unfamiliar with how to pass functions as arguments
[01:49:38] <SiegeLord> At the very least, it's ::<uint>
[01:49:40] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[01:49:55] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[01:49:59] *** Quits: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca) (Quit: leaving)
[01:50:17] *** Joins: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca)
[01:50:52] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[01:50:52] *** ChanServ sets mode: +ao pcwalton pcwalton
[01:50:57] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[01:51:00] <SiegeLord> This works: let res = range(1u, cap).fold::<uint>(cap, |x, y| std::num::lcm(x, y));
[01:51:03] <dbaupp> rusti: range(1u, 10).fold(1, std::num::lcm)
[01:51:03] *** Quits: bjustin (bjustin@moz-4B914826.hsd1.mn.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[01:51:05] -rusti- 2520u
[01:51:05] <SiegeLord> (well, compiles)
[01:51:22] <SiegeLord> Don't even need a closure, hah
[01:51:52] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[01:53:14] <sp3d> what's the status of the information at <https://github.com/mozilla/rust/wiki/Doc-attributes#wiki-crate-linkage-attributes>?
[01:53:28] <dbaupp> sp3d: incorrect
[01:53:41] <dbaupp> #[link] is completely obsolete as a crate attribute
[01:53:48] <sp3d> where would I go for the correct stuff so I can update it? :D
[01:54:18] <_achin> dbaupp: is that still true for binding to a forign library?
[01:54:53] <dbaupp> _achin: #[link] was added for foreign libraries basically at the same time as it was removed for crates
[01:54:57] <_achin> (guide-ffi.html still says you need #[link])
[01:55:14] <dbaupp> extern-#[link] is new and fancy
[01:55:19] <dbaupp> (and still valid)
[01:55:27] <dbaupp> sp3d: not really sure
[01:55:32] <_achin> what's extern-#[link] ?
[01:55:33] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[01:55:48] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[01:56:02] <dbaupp> _achin: I just mean the #[link] you put on an extern { .. } block
[01:56:06] <dbaupp> i.e. the one for FFI
[01:56:08] <_achin> ah
[01:56:19] <_achin> got it
[01:56:31] <dbaupp> sp3d: at the very least, deleting that section would be ok
[01:56:44] <dbaupp> sp3d: or replacing it with a stub "crate_id" section
[01:56:48] <dbaupp> (since that's the replacement.)
[01:57:00] <sp3d> ok
[01:57:30] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Ping timeout)
[01:57:37] *** Quits: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP) (Connection reset by peer)
[01:57:52] *** Joins: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net)
[01:58:42] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:58:55] *** Quits: Saj (Sajuuk@moz-840D0658.netvisao.pt) (Quit: Leaving)
[02:00:00] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[02:00:37] <apoelstra> can i make tcpstream not block?
[02:01:11] <_achin> no, i don't think so
[02:01:12] <sp3d> the tutorial says, "For every crate you can define a number of metadata items, such as link name, version or author.", but rustc says #[author = "foo"] is an unknown crate attribute?
[02:01:29] *** Quits: ntp (quassel@moz-3203DC63.cpe.net.cable.rogers.com) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[02:01:33] *** Joins: jroweboy (Mibbit@moz-567E9ED4.byu.edu)
[02:01:45] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[02:01:56] *** Quits: kendle (Mibbit@moz-AC7AF788.bootp.virginia.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[02:02:03] <_achin> apoelstra: see issue #11349 and #11165
[02:02:20] *** Quits: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net) (Quit: Leaving.)
[02:04:47] <apoelstra> thx _achin 
[02:05:06] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[02:05:07] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Connection reset by peer)
[02:05:13] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[02:05:44] <_achin> i hope there's some process on this in the next several weeks
[02:06:23] *** Quits: twi (Adium@BC1E56B6.55F3F843.839F6EC0.IP) (Client exited)
[02:06:40] *** Joins: twi (Adium@BC1E56B6.55F3F843.839F6EC0.IP)
[02:06:50] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[02:09:18] *** Joins: lpy (lpy@9248CA04.F930CE91.65042015.IP)
[02:09:44] *** Joins: bt3ze_ (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[02:09:49] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Connection reset by peer)
[02:10:12] *** Quits: bt3ze_ (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[02:10:40] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[02:11:07] *** Parts: fabrice (fabrice@moz-7B0110AD.mv.mozilla.com) ()
[02:11:14] *** Quits: lpy (lpy@9248CA04.F930CE91.65042015.IP) (Ping timeout)
[02:12:24] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[02:12:35] <SiegeLord> dbaupp: You did quite a bit of work on the RNG stuff in libstd. How do you feel about adding an iterator for the Sample trait to generate a sequence of samples?
[02:12:54] *** Quits: Jesin (Jesin@moz-3114216B.eecs.lehigh.edu) (Quit: Leaving)
[02:13:21] <SiegeLord> So you'd be able to do: for v in Normal::new(2.0, 3.0).samples(&mut rng) { ... }
[02:14:02] *** Quits: jdm (jdm@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: Lost terminal)
[02:14:05] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[02:14:11] <dbaupp> SiegeLord: r+
[02:14:21] <SiegeLord> Or something along those lines (not sure how mutability will play out)
[02:14:39] <SiegeLord> Ok, I'll see if I can come up with something
[02:15:36] <dbaupp> (I was actually thinking of doing adding an iterator myself... but if I can delegate <3 )
[02:16:14] <dbaupp> s/doing //
[02:17:41] *** Joins: ercxx (ercan@moz-88DD3A7E.dyn.optonline.net)
[02:17:51] <jroweboy> Is the master rust branch not compiling for anyone else right now? My friend tried to update to the latest master and it isn't compiling right now for him
[02:18:19] <dbaupp> jroweboy: what's the error(s)?
[02:19:06] <jroweboy> dbaupp lemme ask him real fast
[02:19:44] <ercxx> why is this giving me a lifetime error: http://kib2.free.fr/pastebin/view_paste.php?id=182 ? 
[02:19:49] <_achin> make clean and/or make clean-llvm is likely what's needed to unstick the buid
[02:20:32] <jroweboy> _achin I'll have him try a make clean then
[02:20:51] <ercxx> I shouldn't be getting a lifetime error for a unique pointer, right?
[02:21:54] <_achin> what's the error? ercxx 
[02:21:55] <an0nymous> Can rust be setup to work in visual studios or does rust need MinGW?
[02:22:02] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Quit: canhtak)
[02:22:42] <_achin> i believe you need mingw.  nothing in the rust docs suggests you can use MSVC that i can see
[02:22:51] <ercxx> _achin: http://pastebin.mozilla.org/4116348
[02:23:40] <an0nymous> okay, thank you
[02:26:58] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[02:27:10] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[02:27:23] *** Joins: short (Mibbit@D07DDEB0.8F84E6BF.354D6C10.IP)
[02:27:40] *** Quits: short (Mibbit@D07DDEB0.8F84E6BF.354D6C10.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:27:43] *** Quits: marcel_r (chatzilla@37CAED5E.29CC82CF.C33E194F.IP) (Ping timeout)
[02:27:44] <_achin> ercxx: i wonder what type Cursor is
[02:28:06] <ercxx> it's sqlite3::cursor::Cursor from rustsqlite at https://github.com/linuxfood/rustsqlite/tree/master/src/sqlite3
[02:28:38] <ercxx> it worked until yesterday. I don't know what exactly happened.
[02:28:39] <_achin> it needs a lifetime
[02:28:48] <_achin> pub struct Cursor<'db> 
[02:29:12] <ercxx> _achin: I see.
[02:30:07] *** nrc|lunch is now known as nrc
[02:30:31] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:30:51] *** Joins: Erik_ (Erik_S@moz-E7E31D21.hlrn.qwest.net)
[02:32:11] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:32:26] *** Quits: dbaupp (Thunderbir@32742E97.D5A1DCF.37681C44.IP) (Quit: dbaupp)
[02:33:44] *** Joins: dbaupp (Thunderbir@32742E97.D5A1DCF.37681C44.IP)
[02:34:33] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[02:35:28] <ercxx> _achin: Thank you very much. That changed apparently 8 days ago and I had no idea when I updated it. I have a feeling that it was just before it stopped working :)
[02:36:19] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[02:36:40] *** Quits: chromatic (chromatic@moz-28CBC7F4.hsd1.or.comcast.net) (Quit: Leaving)
[02:36:45] <_achin> ercxx: i'm glad i could point you in the right direction
[02:37:39] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[02:37:40] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[02:39:42] *** Joins: eholk (eholk@moz-F70D5031.hsd1.in.comcast.net)
[02:40:06] <sp3d> does anyone know how to work #[path]?
[02:40:56] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[02:41:18] <sp3d> if I have a file foo-sub.rs with contents "pub enum subenum{}" and file main.rs with "#[path="sub.rs"] mod whatever; fn main() -> () { let x: whatever::subenum; }", I get errors about whatever being an undeclared module
[02:41:30] <sp3d> er, path="foo-sub.rs"
[02:43:13] * _achin hasn't even heard of #[path] :/
[02:43:20] *** Quits: vosen (vosen@moz-266BA656.icpnet.pl) (Connection reset by peer)
[02:43:21] <_achin> there are so many magic compiler directives
[02:43:31] <sp3d> yeah, I wish they were all gathered in one place
[02:43:57] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[02:44:13] *** Quits: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net) (Quit: Leaving.)
[02:44:34] <benh> sp3d: compiles for me with rust from two weeks ago
[02:45:01] *** Joins: onelson_ (owen@18CF7301.95770028.5B6BFE7D.IP)
[02:45:13] <sp3d> my rust is (~4 days old) 9f4e5b6, hmmm
[02:45:23] <benh> 9d63403, gonna update mine
[02:45:31] <benh> see you in half an hour i guess!
[02:45:45] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[02:46:54] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[02:48:14] <sp3d> ohhh, I elided a namespace in my example
[02:48:25] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[02:48:29] <sp3d> and the namespace means a "use" is required
[02:49:00] <sp3d> I can never remember how uses and mods and the implicit file mod and absolute paths interact :x
[02:50:50] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[02:51:26] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[02:51:46] <jroweboy> _achin it looks like the compile error was caused by failing to make clean beforehand. Thanks for the help!
[02:51:50] *** Quits: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP) (Quit: ziad)
[02:52:33] *** Joins: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP)
[02:52:46] *** Quits: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP) (Quit: ziad)
[02:54:46] <_achin> jroweboy: great
[02:54:52] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[02:55:18] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[02:56:10] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[02:57:02] *** Quits: Bewilderforce (Bewilderfo@442904D0.6D160A56.18DC1FC6.IP) (Ping timeout)
[02:57:23] *** Quits: mauricioc (mauricioc@4D3BAAF1.2647FC06.D159334F.IP) (Quit: Lost terminal)
[02:57:53] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Ping timeout)
[02:58:29] *** Quits: jroweboy (Mibbit@moz-567E9ED4.byu.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[02:59:10] *** Joins: Bewilderforce (Bewilderfo@442904D0.6D160A56.18DC1FC6.IP)
[03:00:25] *** Quits: gwty (gwtypc@8B449003.36A22018.137C914F.IP) (Ping timeout)
[03:00:38] *** Joins: a_m0d (a_m0d@moz-2F294D00.acanac.net)
[03:03:56] *** Joins: robhobbes (Mibbit@moz-9B0672CB.hsd1.ut.comcast.net)
[03:04:07] *** Quits: derek_c (derek@moz-E25AC88D.cit.cornell.edu) (Ping timeout)
[03:04:46] <robhobbes> hey all, I tried to compile a program after updating to the current rust master, it says "error: multiple matching crates for `extra`"
[03:05:27] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[03:06:16] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[03:06:50] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[03:07:32] <comex> make: *** [x86_64-apple-darwin/stage1/lib/rustlib/x86_64-apple-darwin/lib/stamp.std] Segmentation fault: 11
[03:07:35] *** Joins: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com)
[03:07:38] <comex> damnit, this keeps happening now :p
[03:07:46] <_achin> robhobbes: do you have more than one libextra*.sp file in $PREFIX/lib/  ?
[03:07:47] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[03:07:51] <kvark> Is "as_mut_ptr()" only defined on vectors?
[03:08:03] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Ping timeout)
[03:08:53] <robhobbes> _achin .. yeah I just looked more carefully at the error message and realized that was it
[03:08:56] <robhobbes> _achin thanks
[03:10:15] *** Joins: lpy (lpy@9248CA04.F930CE91.65042015.IP)
[03:10:42] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[03:10:52] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[03:11:59] *** Quits: lpy (lpy@9248CA04.F930CE91.65042015.IP) (Ping timeout)
[03:12:23] *** Quits: robhobbes (Mibbit@moz-9B0672CB.hsd1.ut.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:12:25] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[03:13:07] <comex> 0x0000000101194165 in middle..resolve..ImportResolution::glue_visit::ha8734159cecae7ccaY ()
[03:13:24] <comex> i guess i'll build debug :<
[03:14:43] *** Quits: andreasvc (andreasvc@moz-29FD4A0A.dynamic.upc.nl) (Ping timeout)
[03:15:02] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[03:15:42] <_achin> comex: is this a clean build?
[03:16:33] <comex> yes, though with -j
[03:16:41] <_achin> try without -j
[03:17:06] <_achin> (in the past, there have been many reports of rust not working with parallel builds)
[03:17:14] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[03:17:26] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Ping timeout)
[03:17:51] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[03:20:23] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[03:21:14] <dbaupp> kvark: what else do you need a mut_ptr from?
[03:22:33] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[03:23:04] <wilson> wycats: So I was thinking about your 'indent' macro error message from the other day.. and it gave me a (possibly dumb) idea of how to enable calling utilities from a macro
[03:23:32] <wilson> wycats: what if $foo:something() were possible, and you could do anything other than one of the built-in macro flavors there?
[03:23:34] <kvark> dbaupp: thanks for responding, the question is not actual any more
[03:24:01] <wycats> heh
[03:24:02] <dbaupp> kvark: oh, ok :)
[03:24:23] <wycats> why not: $call(localName, ...)
[03:24:44] <wilson> Yeah I guess while we are modifying the compiler, we could modify the compiler :)
[03:24:47] <wycats> :P
[03:25:12] <wilson> I totally want racket-style macros in rust
[03:25:15] <wilson> racket is pretty boss
[03:25:17] <wycats> wilson: heh
[03:25:22] <wycats> I can live with sweet.js
[03:25:26] <wycats> which is a copy of racket :P
[03:26:26] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[03:26:28] <wilson> :)
[03:26:32] <wycats> I don't really understand why: use!(std::rt::io); macro_rules! foo( ($abc:ident) => (io($abc)) ) wouldn't work
[03:26:43] <kvark> dbaupp: I'd rather get some help on git... Is it possible to rebase a past commit? (https://github.com/kvark/rust-stb-image/commits/master, I want the one from Jan 01 to combine with the last one)
[03:27:21] <kvark> dbaupp: I was going to go back to that revision prior to Jan 01, and cherry pick not-my commits.
[03:27:30] <aatch> kvark, you can use rebase -i
[03:27:35] <wilson> I'm still just getting started understanding rustc, but it does seem like an accident of history that you can't do that
[03:27:51] <wilson> vs. any particular built-in idea preventing it
[03:28:19] <dbaupp> wycats: because std::rt::io isn't ident... it's a `path`
[03:28:29] <dbaupp> (`path` is also a macro NT.)
[03:28:43] <kvark> aatch: so far I only used it to fuse a couple of consecutive commits. I'll investigate if it can be used for my scenario...
[03:29:35] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[03:29:40] <aatch> kvark, it should be, it's stupidly powerful
[03:29:47] *** Joins: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net)
[03:29:51] *** Joins: peeves (Mibbit@5E7D2AD6.45C6C921.2862F179.IP)
[03:29:57] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[03:29:59] <aatch> you can re-order commits, merge them, remove them, all sorts
[03:30:14] <kvark> aatch: actually, when I do git rebase -i HEAD~3, I only see my last commit1s
[03:30:21] *** Quits: Bewilderforce (Bewilderfo@442904D0.6D160A56.18DC1FC6.IP) (Quit: Leaving)
[03:30:21] *** Quits: int3_ (int3_@moz-EB847D24.subnet-224.amherst.edu) (Client exited)
[03:30:41] <kvark> aatch: isn't it supposed to show me the commits in the same order they are in github?..
[03:30:41] *** Joins: int3_ (int3_@moz-EB847D24.subnet-224.amherst.edu)
[03:30:59] *** Quits: quasisphere (btw@DC685DC2.94302614.1D0D91FF.IP) (Ping timeout)
[03:31:15] <aatch> kvark, it should show you 2 commits
[03:31:25] *** Quits: zz_kimundi (kimundi@moz-B70A68F6.dip0.t-ipconnect.de) (Ping timeout)
[03:31:32] <dbaupp> git rebase -i shows commits in topological order
[03:31:45] *** Quits: a_m0d (a_m0d@moz-2F294D00.acanac.net) (Quit: Leaving.)
[03:31:45] <dbaupp> github is dumb and shows them in chronological order
[03:31:53] <kvark> oh
[03:32:04] <kvark> I see
[03:32:14] <dbaupp> (even if you have something simple like A <- B <- C, github will show B before A if B's timestamp is older.)
[03:32:15] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[03:32:26] *** Quits: int3_ (int3_@moz-EB847D24.subnet-224.amherst.edu) (Ping timeout)
[03:33:51] <kvark> dbaupp: that makes sense, but somehow ruined my hope to use git rebase -i to resolve it
[03:34:11] *** Joins: alex (alex@4A68ADFD.7FDDA9B5.B7830B68.IP)
[03:34:19] *** Joins: zz_kimundi (kimundi@moz-D56C9025.dip0.t-ipconnect.de)
[03:34:28] <dbaupp> kvark: why?
[03:34:42] *** Quits: jmgrosen (jmgrosen@moz-BF80C818.sbcc.edu) (Quit: jmgrosen)
[03:34:45] *** zz_kimundi is now known as kimundi
[03:35:48] <kvark> dbaupp: I... just trying to get my head around it. Actually, I only need to fix my own subtree in the topology, so git rebase -i HEAD~something should be exactly what I need
[03:36:07] *** Joins: s_justin (s_justin@moz-C86DE820.asm.bellsouth.net)
[03:36:26] <dbaupp> sounds good
[03:37:35] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[03:38:20] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[03:38:28] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[03:38:46] *** Quits: twi (Adium@BC1E56B6.55F3F843.839F6EC0.IP) (Quit: Leaving.)
[03:38:51] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[03:39:06] *** Parts: alex (alex@4A68ADFD.7FDDA9B5.B7830B68.IP) ()
[03:39:30] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[03:39:50] *** Joins: pepper_chico (pepper_chi@moz-13107F6.dsl.telesp.net.br)
[03:40:12] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[03:40:40] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[03:40:43] *** Joins: ntp (quassel@moz-3203DC63.cpe.net.cable.rogers.com)
[03:41:01] *** Joins: lpy (lpy@9248CA04.F930CE91.65042015.IP)
[03:41:30] *** Quits: dbaupp (Thunderbir@32742E97.D5A1DCF.37681C44.IP) (Ping timeout)
[03:41:34] *** Joins: dbaupp (Thunderbir@32742E97.D5A1DCF.37681C44.IP)
[03:43:23] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[03:43:23] *** ChanServ sets mode: +ao pcwalton pcwalton
[03:44:16] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[03:45:25] * ChrisMorgan wants a json literal macro
[03:45:39] <kvark> dbaupp: oops. I rebased, merged, and then force-pulled. Now it looks like I overwrote the "other" commits :(
[03:45:48] <kvark> sorry, force-pushed
[03:46:01] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[03:46:11] *** Quits: eholk (eholk@moz-F70D5031.hsd1.in.comcast.net) (Quit: eholk)
[03:46:15] <_achin> if you know the hashes, you'll likely still have the commits in your local repo (or get the hashes from teh reflog)
[03:46:34] <kvark> _how do I reintegrate them?
[03:46:38] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:47:15] <_achin> it depends on how you de-integrated them :P  i wasn't paying attention up here to know what state you're in now
[03:47:58] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[03:48:28] <dbaupp> kvark: `git reflog` lets you get back to where you were
[03:48:58] <dbaupp> (i.e. it will show you the commits that master has previously pointed at, so you can run `git reset --hard ...` to undo and try again)
[03:49:08] <dbaupp> (that's not super helpful, sorry :( )
[03:49:27] <_achin> (or use something like gitk --all to inspect the DAG to make sure you fully understand what's pointing to where)
[03:50:21] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[03:50:54] <kvark> dbaupp: whoa, I got the history back, thanks!
[03:51:24] <_achin> git makes it really hard to really truly lose commits
[03:51:26] *** Parts: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) ()
[03:52:08] *** Quits: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net) (Quit: telotortium)
[03:52:10] <kvark> dbaupp: I guess what I'm missing is git pull --rebase *after* I merged my commits
[03:52:36] <kvark> or no...
[03:52:39] <dbaupp> kvark: if you're pulling from upstream, yeah, I guess that would work
[03:54:45] *** Joins: mib_hnwrmg (Mibbit@moz-6B897026.nyc.res.rr.com)
[03:55:51] *** Quits: peeves (Mibbit@5E7D2AD6.45C6C921.2862F179.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:56:23] *** Quits: mib_hnwrmg (Mibbit@moz-6B897026.nyc.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[03:56:50] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[03:56:54] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[03:58:40] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Ping timeout)
[03:58:44] *** Joins: pietr0 (pietr0@14EF4708.8EF45F5F.396B22AD.IP)
[03:58:45] *** Quits: new_one (new_one@E41125F4.AD901773.B3C0173E.IP) (Client exited)
[04:03:34] *** Joins: mib_fd6xm1 (Mibbit@moz-A5CD384A.dsl.stl2mo.sbcglobal.net)
[04:03:38] <kvark> dbaupp: https://github.com/kvark/rust-stb-image/commits/master Isn't it beautiful now? thank you!
[04:03:51] <dbaupp> cool :)
[04:03:56] *** Joins: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net)
[04:03:58] *** Quits: mib_fd6xm1 (Mibbit@moz-A5CD384A.dsl.stl2mo.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[04:05:02] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[04:05:33] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[04:07:11] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[04:07:18] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[04:07:36] <wycats> https://gist.github.com/wycats/88bf98290d8de64e0259
[04:07:39] <wycats> I love this commit
[04:08:15] <wycats> I was doing gymnastics to convert an ~[Option<~T>] into a &[Option<&T>]
[04:08:42] <wycats> alternatively, make ~T a legal Message for all T's that are
[04:10:27] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[04:10:27] *** ChanServ sets mode: +ao pcwalton pcwalton
[04:14:22] *** Joins: aravindavk (aravinda@B88D8966.7D627531.D2D1FAF0.IP)
[04:15:28] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[04:16:11] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[04:17:51] <comex> how do I turn off the default library search path?
[04:17:56] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[04:21:09] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[04:21:17] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[04:21:36] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[04:21:40] <comex> oh, --sysroot
[04:22:01] <comex> all i'm trying to do is compile rustc *without* recompiling everything twice, but it seems to be really messy
[04:23:01] <olsonjeffery> just use the nightlies, then?
[04:23:12] <comex> no, i'm trying to modify rustc
[04:23:13] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[04:23:20] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[04:23:33] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[04:23:41] <jroesch> comex: are you already just compiling a single stage?
[04:23:51] <comex> jroesch: i'm using --enable-local-rust but that still does two stages apparently
[04:24:46] <jroesch> comex: I've had having similar issues when I was working a few days ago where I want to make a 1-2 line change and recompile without a 10m wait, I was doing make stage1-rustc but it is still slow
[04:25:10] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[04:25:59] <comex> guess i'll try that
[04:26:19] <jroesch> might speed it up, let me know if you find a better way I'm interested as well
[04:27:06] <comex> my eventual goal is to make rustc incremental, but right now i'm trying to actually fix a small bug, which i started a long time ago because compiling rustc is so slow :P
[04:29:58] *** Quits: s_justin (s_justin@moz-C86DE820.asm.bellsouth.net) (Quit: s_justin)
[04:30:21] <jroesch> would be appreciated definitely has slowed down my explorations, like 10-20x slow down compared to say building MRI Ruby (which I was recently patching) or GHC
[04:30:25] *** Joins: johnmurray (jmurray@40511FB.62885029.A0D3DFE2.IP)
[04:31:15] *** Quits: elxx (elxx@moz-E228319D.tc.ph.cox.net) (Connection reset by peer)
[04:32:18] *** Quits: pepper_chico (pepper_chi@moz-13107F6.dsl.telesp.net.br) (Quit: WeeChat 0.4.1)
[04:33:16] *** Quits: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net) (Ping timeout)
[04:33:29] *** Joins: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP)
[04:33:53] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[04:34:05] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[04:35:59] *** Quits: kanru (kanru@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[04:41:11] *** Joins: int3_ (int3_@moz-EB847D24.subnet-224.amherst.edu)
[04:42:57] *** Quits: int3_ (int3_@moz-EB847D24.subnet-224.amherst.edu) (Ping timeout)
[04:44:36] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[04:45:36] *** Quits: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com) (Quit: http://www.mibbit.com ajax IRC Client)
[04:46:13] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[04:46:30] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[04:47:38] *** Quits: pietr0 (pietr0@14EF4708.8EF45F5F.396B22AD.IP) (Quit: pietr0)
[04:48:22] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[04:50:28] *** Quits: stereosteve (stereostev@moz-C6CCE177.cable.mindspring.com) (Quit: Leaving)
[04:51:36] *** Joins: twi (Adium@moz-B47EFC08.dyn.iinet.net.au)
[04:52:12] *** Quits: johnmurray (jmurray@40511FB.62885029.A0D3DFE2.IP) (Quit: johnmurray)
[04:55:13] *** Joins: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net)
[04:56:16] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[04:56:27] *** Joins: derek_c (derek@moz-E25AC88D.cit.cornell.edu)
[04:56:46] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[04:57:28] *** Quits: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo_)
[04:58:14] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[04:58:35] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[05:00:12] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[05:00:37] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[05:00:51] *** Joins: kanru (kanru@moz-99690620.hinet-ip.hinet.net)
[05:02:51] *** Joins: beifeng (Mibbit@284C36E7.3062CEC3.670EEFD.IP)
[05:05:01] *** Quits: nfroidure (nfroidure@moz-93494C89.w90-18.abo.wanadoo.fr) (Ping timeout)
[05:06:25] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[05:06:29] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[05:07:27] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[05:07:55] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[05:07:59] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[05:09:08] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Ping timeout)
[05:09:29] <ercxx> why does rustc ignore filename for a library?
[05:09:31] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[05:10:15] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[05:10:19] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[05:12:31] *** Joins: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com)
[05:13:20] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[05:13:26] *** Quits: sellout (Adium@moz-C6258813.hlrn.qwest.net) (Ping timeout)
[05:15:00] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[05:15:14] *** Joins: sellout (Adium@moz-CF70CF20.hlrn.qwest.net)
[05:17:57] *** Quits: ntp (quassel@moz-3203DC63.cpe.net.cable.rogers.com) (Ping timeout)
[05:19:34] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[05:19:49] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[05:20:28] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[05:21:18] *** Joins: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net)
[05:22:29] <wycats> dbaupp: how do I use `header`?
[05:23:01] <dbaupp> wycats: in theory: rustc bin.rs && ./header my_file.rs
[05:23:03] *** Joins: DrewRWx (DrewRWx@moz-EC0023EB.whatbox.ca)
[05:23:16] <wycats> so copy bin.rs into my app?
[05:23:19] <dbaupp> and wait for it to fail!, because it's not complete
[05:23:21] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[05:23:21] <dbaupp> nah
[05:23:34] <dbaupp> just compile it whereever and it should give you a binary you can run
[05:24:08] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[05:24:16] *** Quits: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com) (Quit: http://www.mibbit.com ajax IRC Client)
[05:24:18] <dbaupp> (so you can copy it into your app if you want, but the location of bin.rs is essentially irrelevant.)
[05:24:22] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[05:24:22] <wycats> what "semi-complete" means?
[05:24:22] <wycats> :p
[05:24:37] <wycats> https://www.irccloud.com/pastebin/Dy2Ed7Bs
[05:24:39] <wycats> WAT
[05:24:42] <dbaupp> ... oh, and it probably doesn't work unless you're using #[no_std]
[05:24:51] <dbaupp> ah, yep
[05:24:52] <wycats> say more
[05:24:57] <dbaupp> no idea how to fix that one
[05:25:04] <wycats> what's the issue?
[05:25:18] <dbaupp> https://github.com/mozilla/rust/issues/11792
[05:25:34] <wycats> you guys really do think that the embedded case involves no_std don't you :)
[05:25:40] <dbaupp> well
[05:25:40] *** Joins: saurik (saurik@moz-DC9423DE.saurik.com)
[05:26:09] <dbaupp> in this case, it's more "I have no idea how to use rustc as a library properly"
[05:26:12] <wycats> saurik: you here to complain about llvm? :trollface:
[05:26:23] <dbaupp> (and, I think it's actually a fundamental limitation of librustc atm. :( )
[05:26:26] <wycats> can you just stick #[no_std] at the top of the source file?
[05:26:49] <wycats> I guess that will make things fail
[05:26:52] <wycats> since I rely on std :P
[05:26:52] <dbaupp> yeah, but then you loose all of std and so all the imports are broken
[05:26:56] <dbaupp> yup
[05:27:05] <dbaupp> so... looks like header can't work :P
[05:27:12] <wycats> hm it also fails on any extern mod
[05:27:20] <dbaupp> (oh... it *might* if you copy it into the same directory as the rustc binary.)
[05:27:28] <dbaupp> maybe
[05:27:31] <wycats> lemme try it
[05:27:41] <dbaupp> or into the directory with librustc-<hash>-<version>.so
[05:27:54] <wycats> it can't find the extern mod
[05:28:09] <wycats> I need to somehow pass -L
[05:29:25] <wycats> hm passing it in to header seems to work somehow
[05:29:37] <wycats> wait
[05:29:59] *** Quits: aperos (Mibbit@moz-1689688F.dyn.optonline.net) (Quit: http://www.mibbit.com ajax IRC Client)
[05:30:06] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[05:30:44] *** Quits: ktt3ja (ktt3ja@moz-85E2770C.hsd1.va.comcast.net) (Quit: Leaving)
[05:31:12] <wycats> dbaupp: regex-based compiler? :P
[05:32:08] <wycats> rustc -L lib src/direwolf-agent/lib.rs --rlib --pretty expanded | grep "pub extern \"C\"" | gist -p
[05:32:13] <wycats> https://gist.github.com/d6444669939eb0d6eda9
[05:34:28] *** Quits: MrByte (Dartakio@moz-81792842.chy-wy.client.bresnan.net) (Ping timeout)
[05:34:46] <wycats> trying to grep with .* and getting broken pipe O_O
[05:34:47] *** Joins: MrByte (Dartakio@moz-81792842.chy-wy.client.bresnan.net)
[05:36:12] *** Joins: jdm (jdm@moz-D434EC03.dsl.sca.megapath.net)
[05:36:12] *** ChanServ sets mode: +o jdm
[05:37:12] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[05:37:13] <Tobba> wycats: quote the .*
[05:37:21] <Tobba> your shell is probably expanding the * and hilarity ensues
[05:37:55] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[05:38:47] <wycats> lolz
[05:39:02] <Tobba> thats one reason the POSIX shell is really stupid actually
[05:39:07] <Tobba> the shell expands the *, not the application
[05:39:17] <wycats> sigh
[05:39:18] <Tobba> while that sounds like a neat idea it ends badly fast
[05:39:27] <mcpherrin> I think it works out generally
[05:39:35] <wycats> is there a way to ask grep to include newlines in a character?
[05:39:43] <Tobba> its great for trolling sysadmins
[05:39:48] <mcpherrin> having to reimplement globbing in each program would get hella annoying
[05:39:53] <mcpherrin> not to mention being different in everything
[05:39:58] <Tobba> "can you remove all the files in this directory" "sure"
[05:39:59] <wycats> mcpherrin: protip
[05:40:01] <wycats> libraries
[05:40:09] <Tobba> *system is rm -rm /'d"
[05:40:09] <bstrie_target> dbaupp: ping
[05:40:18] <mcpherrin> wycats: Just like how every program uses readline uniformly and all obey my .readlinerc?
[05:40:25] <dbaupp> bstrie_target: pong (briefly)
[05:40:30] <pzol> when I get Compiler error message task 'rustc' has overflowed its stack, can I get more debug info?? (triaging issue https://github.com/mozilla/rust/issues/90080
[05:40:33] <pzol> https://github.com/mozilla/rust/issues/9008
[05:41:05] <bstrie_target> dbaupp: looking at the modqueue on reddit it looks like a legitimate post got removed, I think, but there's entry for it being removed in the moderation log
[05:41:13] <bstrie_target> *no entry
[05:41:16] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[05:41:22] *** Quits: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo_)
[05:41:23] <bstrie_target> dbaupp: just trying to decipher what actually happened there
[05:41:35] <jmgrosen> is there any way to get the time in milliseconds? (when you don't need it as precise as extra::time::precise_time_ns)
[05:41:39] <mcpherrin> bstrie_target: spam filter?
[05:41:54] <dbaupp> bstrie_target: which post?
[05:42:22] <dbaupp> bstrie_target: oh, I see it
[05:42:28] <dbaupp> bstrie_target: (I didn't remove it.)
[05:43:20] <dbaupp> bstrie_target: maybe sinma removed it?
[05:43:22] <bstrie_target> dbaupp: I don't think anyone did, which is why I'm scratching my head
[05:43:25] <bstrie_target> as to what it's doing there
[05:43:33] <bstrie_target> maybe
[05:43:44] <bstrie_target> mcpherrin: maybe spam filter
[05:44:45] <dbaupp> maybe .pl links are particularly spammy
[05:44:51] <dbaupp> anyway, gtg
[05:44:56] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[05:44:58] <eddyb> Perl?
[05:45:01] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[05:45:52] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[05:46:38] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[05:48:36] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[05:49:27] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[05:49:49] <bascule> https://twitter.com/bascule/status/428042163016839168
[05:51:27] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[05:52:59] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[05:53:01] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[05:53:15] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[05:53:30] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[05:54:21] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[05:55:02] <Tobba> is there any way to extract specific entries out of a tuple without using match?
[05:55:29] <Yurume> rusti: (2,3,5).n1()
[05:55:30] -rusti- 3
[05:56:20] <Tobba> is that from stdlib
[05:56:26] <Yurume> I think so
[05:56:33] <bascule> heh
[05:56:37] <Tobba> rusti: #[no_std] (2,3,4).n1()
[05:56:37] <Yurume> you can make your own easily though
[05:56:37] -rusti- <anon>:10:17: 10:18 error: expected item after attributes
[05:56:37] -rusti- <anon>:10         #[no_std] (2,3,4).n1()
[05:56:37] -rusti-                           ^
[05:56:37] -rusti- error: aborting due to previous error
[05:56:37] -rusti- application terminated with error code 101
[05:56:41] <Tobba> dangit
[05:56:52] <bascule> so it's like a generalized form of Rails .first .second .third? ;)
[05:56:54] <Yurume> #[no_std]; <-- semicolon missing?
[05:57:13] <Tobba> doesnt sound very flexible though
[05:57:18] <Tobba> .n(1) anyone
[05:58:01] *** Quits: Earnestly (earnest@moz-A8B5B5EE.dyn.plus.net) (Ping timeout)
[05:58:17] <Yurume> that would easily be a runtime burden when not optimized away
[05:58:24] <Yurume> and type problem.
[05:58:56] <Yurume> Tobba: what do you want from `let v: uint = some_function(); (1, 'X', ~"bar").n(v)`?
[05:59:04] <Tobba> I guess
[05:59:09] <Tobba> uh
[05:59:16] <Tobba> hm yeah
[06:00:17] *** Joins: lkuper (lkuper@moz-528BDC8B.public.wayport.net)
[06:01:44] *** Quits: voxpopuli (fanservice@moz-424BC304.hsd1.pa.comcast.net) (Ping timeout)
[06:01:54] *** jorendorff_away is now known as jorendorff
[06:01:57] *** Quits: luz (lucy@moz-CD18B14B.customer.cdi.no) (Quit: 04←)
[06:01:58] *** Joins: luzie (lucy@moz-CD18B14B.customer.cdi.no)
[06:07:18] *** Joins: victorporof (victorporo@D660D2DA.F8731F63.9B1E38F4.IP)
[06:09:49] *** Joins: Scruff (Scruff@94B3BF4D.ABF66092.61E84A1B.IP)
[06:10:30] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[06:11:09] <geomyidae> re: https://mail.mozilla.org/pipermail/rust-dev/2014-January/008224.html does Mozilla front that money presumably?
[06:11:54] *** Joins: ski (ski@moz-E5796727.student.chalmers.se)
[06:12:46] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[06:12:49] *** Joins: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[06:14:33] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[06:14:58] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[06:16:11] *** Quits: derek_c (derek@moz-E25AC88D.cit.cornell.edu) (Quit: Leaving)
[06:18:27] *** Joins: new_one (new_one@2557A8B3.328FFDD8.B3C0173E.IP)
[06:19:25] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[06:19:43] <olsonjeffery> geomyidae: the "core" rust devs (the one w/ ops) are all mozilla employees.
[06:20:44] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[06:21:03] <olsonjeffery> the only non-employee core dev i can recall was/is Marijn Haverbeke, who was a paid consultant for mozilla working on rust
[06:21:05] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[06:21:18] * geomyidae is wondering off topic about the financials of a company like mozilla. they work on cool stuff that's all open
[06:21:56] <geomyidae> I also didn't realize how hard the (rust)pkg problem is apparently.
[06:22:19] <Tobba> me neither actually
[06:22:20] <Tobba> how bad is it
[06:22:49] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[06:23:02] * geomyidae doesn't know
[06:23:03] <olsonjeffery> it's hard. rustpkg tried to be zero-config. this turned out to be pretty hard. so the pendulum has swung the other way w/ cargo-lite
[06:23:04] *** Joins: benjamin_ (benjamin@moz-3AE94AB6.dip0.t-ipconnect.de)
[06:23:10] <geomyidae> apparently bad enough to hire an outside person though
[06:23:11] <olsonjeffery> the marketplace of ideas, people
[06:23:50] <geomyidae> I'm excited that it's still a priority either way. If anything the killing probably accelerates the delivery of a good version
[06:24:13] <olsonjeffery> kinda sucks because tjc put a lot of time into it. so it goes.
[06:24:39] <Tobba> it should be salvagable
[06:24:44] <Tobba> I dont really know where the problems lie though
[06:25:28] *** Quits: dbaupp (Thunderbir@32742E97.D5A1DCF.37681C44.IP) (Ping timeout)
[06:25:31] <olsonjeffery> no one on the core team wants to do maint on it. so it bitrots, despite the test suite. subtle changes to the linking/compiler model have cascading effects in rustpkg
[06:25:48] <olsonjeffery> eg the "extern mod extra" stuff from this week
[06:26:25] <olsonjeffery> its a *lot* less flexible than rustc
[06:26:34] *** Quits: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[06:26:51] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[06:27:04] <olsonjeffery> and you have to do all kinds of contortions with how your code is arranged, annotations in lib.rs/main.rs, etc in order to get behavior that is really straightforward when just using rustc + Makefiles or what-have-you
[06:27:39] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:27:47] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[06:27:54] <olsonjeffery> part of it is that there's this "Shining City On The Hill" that some people expect from Rust, since other competitors langs (notably go-lang) have done reasonably well with a bless build tool.
[06:28:02] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[06:28:03] <olsonjeffery> blessed*
[06:28:15] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[06:28:40] <olsonjeffery> or lein
[06:29:28] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[06:29:42] <olsonjeffery> the same reason there was once a "rust" executable that is now gone: great idea, good initial execution, no follow-up/maint. in the mid-term as the language continues to change.
[06:29:52] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[06:30:13] <olsonjeffery> driven by this "other people have great tooling, why can't we?" idea that, in hindsight, perhaps seems misguided. but the impulse is still there.
[06:30:36] <olsonjeffery> </digression>
[06:30:37] <Tobba> I think we should fix the compiler first
[06:30:46] <Tobba> then make a package manager
[06:30:56] <olsonjeffery> what about it is broken?
[06:31:44] <Tobba> well
[06:31:46] <Tobba> its constantly changing
[06:31:51] <Tobba> if that causes any package manager written to bitrot
[06:31:56] <Tobba> then dont write a goddamn package manager yet
[06:33:14] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[06:33:36] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[06:33:47] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[06:35:53] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[06:39:35] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[06:39:46] *** Joins: m_kato (m_kato@moz-C286AD9A.bitcat.net)
[06:39:48] *** Joins: eibwen (kvirc@moz-AA151D41.dip0.t-ipconnect.de)
[06:40:07] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[06:40:25] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[06:42:47] *** Quits: ercxx (ercan@moz-88DD3A7E.dyn.optonline.net) (Quit: WeeChat 0.4.2)
[06:43:50] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: Textual IRC Client: www.textualapp.com)
[06:45:16] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[06:46:56] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[06:46:59] *** Quits: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:51:16] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[06:51:43] *** Joins: mib_v10az2 (Mibbit@AAB01A7C.3F2F6753.56D254BA.IP)
[06:53:01] *** Quits: heftig (heftig@moz-D3E045E2.dip0.t-ipconnect.de) (Quit: Quitting)
[06:54:58] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[06:55:08] *** Quits: mib_v10az2 (Mibbit@AAB01A7C.3F2F6753.56D254BA.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:56:45] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Client exited)
[06:57:06] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[06:58:46] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Ping timeout)
[07:00:44] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Ping timeout)
[07:01:45] *** Quits: Erik_ (Erik_S@moz-E7E31D21.hlrn.qwest.net) (Ping timeout)
[07:03:13] *** Quits: beifeng (Mibbit@284C36E7.3062CEC3.670EEFD.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:03:22] *** Joins: beifeng (Mibbit@284C36E7.3062CEC3.670EEFD.IP)
[07:03:50] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[07:04:39] *** Quits: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net) (Quit: computer sleeping)
[07:07:36] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[07:08:36] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[07:13:35] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Ping timeout)
[07:14:52] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[07:16:34] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[07:19:14] *** Quits: wilkie (wilkie@moz-A19F104D.pitbpa.fios.verizon.net) (Ping timeout)
[07:19:26] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[07:20:32] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[07:20:59] *** Joins: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de)
[07:21:04] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Ping timeout)
[07:21:04] *** Quits: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de) (Client exited)
[07:21:11] *** Joins: elyzion (elyzion@moz-D4AAE1FD.ap122.ftth.ucom.ne.jp)
[07:22:19] *** Joins: agoforth (agoforth@moz-860DB7A3.pool.mediaways.net)
[07:22:25] *** Quits: decode__ (agoforth@moz-4C8FE0C0.pool.mediaways.net) (Ping timeout)
[07:22:53] *** Quits: FreeFull (freefull@moz-272EA536.as13285.net) (Quit: )
[07:23:11] <Tobba> &fn is a valid type for a function pointer right?
[07:23:16] <Tobba> it doesnt seem to let me transmute to it
[07:25:41] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Ping timeout)
[07:27:14] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[07:27:44] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[07:30:02] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[07:30:44] *** Joins: dbaupp (Thunderbir@moz-68C83524.lns20.syd6.internode.on.net)
[07:31:42] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Ping timeout)
[07:33:47] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[07:34:26] *** Quits: new_one (new_one@2557A8B3.328FFDD8.B3C0173E.IP) (Client exited)
[07:36:35] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[07:39:48] *** Joins: Ms2ger (Ms2ger@moz-EF1E89E8.adsl-dyn.isp.belgacom.be)
[07:41:04] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[07:43:33] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[07:43:53] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:44:50] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[07:44:59] *** flaper87|afk is now known as flaper87
[07:45:33] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[07:45:36] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[07:46:47] *** Quits: Scruff (Scruff@94B3BF4D.ABF66092.61E84A1B.IP) (Quit: )
[07:47:16] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[07:47:19] *** Joins: quasisphere (btw@DC685DC2.94302614.1D0D91FF.IP)
[07:47:55] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[07:48:46] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[07:50:53] *** Joins: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP)
[07:52:31] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[07:52:51] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[07:56:50] *** Joins: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se)
[07:57:12] *** Joins: marianoguerra (marianogue@moz-71156BB2.dip0.t-ipconnect.de)
[08:00:57] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:02:01] *** Joins: judofyr (judofyr@192D24C7.B738D75A.E7F60444.IP)
[08:02:29] *** Joins: vgeddes (vincent.ge@moz-D8D4FE4D.dsl.mweb.co.za)
[08:06:59] *** Quits: kvanb (kvanb@moz-47911313.lnse7.lon.bigpond.net.au) (Client exited)
[08:07:17] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[08:07:38] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[08:08:17] *** Quits: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net) (Quit: telotortium)
[08:09:00] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Ping timeout)
[08:09:06] *** Joins: nfroidure (nfroidure@moz-93494C89.w90-18.abo.wanadoo.fr)
[08:09:28] *** Joins: Scruff (Scruff@94B3BF4D.ABF66092.61E84A1B.IP)
[08:11:54] *** Quits: victorporof (victorporo@D660D2DA.F8731F63.9B1E38F4.IP) (Ping timeout)
[08:13:20] *** Quits: judofyr (judofyr@192D24C7.B738D75A.E7F60444.IP) (Client exited)
[08:13:40] *** Quits: jdm (jdm@moz-D434EC03.dsl.sca.megapath.net) (Ping timeout)
[08:14:41] *** Joins: jdm (jdm@moz-D434EC03.dsl.sca.megapath.net)
[08:14:41] *** ChanServ sets mode: +o jdm
[08:16:19] <Zr40> so what's the deal with rustpkg? Should I stop using it to build my code?
[08:19:24] *** Joins: jackneill (jackneill@moz-B2FEA6FC.pool.digikabel.hu)
[08:20:54] <geomyidae> I think so. Anyone know where are the artifacts are stored at for rust-ci?
[08:21:18] *** Joins: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se)
[08:21:28] <cmr> geomyidae: they aren't.
[08:21:31] <Zr40> rust-ci doesn't produce artifacts
[08:21:36] <cmr> travis-ci doesn't keep state.
[08:21:37] <Zr40> travis-ci does
[08:21:44] <Zr40> er, right. It only keeps logs
[08:21:58] <geomyidae> oh, "docs upload"
[08:22:01] *** Joins: judofyr (judofyr@192D24C7.B738D75A.E7F60444.IP)
[08:22:10] *** Parts: Addle (quassel@93529591.BA907378.971E19F6.IP) (Part.)
[08:22:11] <geomyidae> docs is docs, not "general documents or files" whoops
[08:22:21] <hansjorg> rust-ci stores documentation, but no other artifacts at the moment
[08:22:26] <geomyidae> because it seems to support something https://github.com/JeremyLetang/ears/blob/master/.travis.yml
[08:22:30] <geomyidae> I see
[08:24:05] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Quit: Leaving)
[08:26:04] *** pmoore|away is now known as pmoore
[08:29:33] *** Quits: twi (Adium@moz-B47EFC08.dyn.iinet.net.au) (Quit: Leaving.)
[08:29:35] *** Quits: LRN (LRN@moz-50DF30B.nationalcablenetworks.ru) (Ping timeout)
[08:31:50] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[08:32:26] <eddyb> rusti: match 5 {0..5 => true, _ => false}
[08:32:28] -rusti- true
[08:32:50] <eddyb> that seems inconsistent to me. at least if we make a..b sugar for range(a, b)
[08:33:02] <eddyb> patterns should work the same, at least for num-
[08:33:25] *** Quits: elyzion (elyzion@moz-D4AAE1FD.ap122.ftth.ucom.ne.jp) (Quit: Lost terminal)
[08:33:29] <eddyb> what about range patterns for TotalOrd?
[08:33:38] <cmr> I don't think we should add a..b sugar.
[08:34:05] <cmr> makes the language larger for no particular gain.
[08:34:19] *** Joins: robitex (Mibbit@moz-7CDED281.business.telecomitalia.it)
[08:34:40] <eddyb> but I guess that's orthogonal (extending patterns to more user-definable possibilities, that is)
[08:34:58] <eddyb> cmr: I prefer it over slicing sugar
[08:35:00] *** Joins: LRN (LRN@moz-50DF30B.nationalcablenetworks.ru)
[08:35:11] *** Joins: elyzion (elyzion@moz-D4AAE1FD.ap122.ftth.ucom.ne.jp)
[08:35:11] <cmr> eddyb: I don't think we should have slice sugar either.
[08:35:33] <eddyb> maybe we should just make it an operator or something
[08:35:41] *** Joins: oberstet (quassel@moz-E0FDADF1.dynamic.mnet-online.de)
[08:35:45] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[08:35:46] <cmr> I think the current planned set of operators is fine.
[08:36:30] <eddyb> I wish our tokenizer/parser didn't completely break trivial attempts at user-definable operators
[08:37:10] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[08:38:54] *** Quits: jackneill (jackneill@moz-B2FEA6FC.pool.digikabel.hu) (Ping timeout)
[08:39:06] *** Quits: jdm (jdm@moz-D434EC03.dsl.sca.megapath.net) (Quit: Lost terminal)
[08:39:51] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[08:39:56] *** Joins: Ferreus (ferreus@moz-6C790FCF.dip0.t-ipconnect.de)
[08:39:58] <robitex> Hello, in your opinion there is a bug in this code? https://gist.github.com/robitex/8664114
[08:40:28] <robitex> with std::iter::range_step_inclusive()?
[08:41:14] <Ms2ger> Yes, there's no need to put the p outside the loop
[08:41:18] *** Joins: victorporof (victorporo@BE102863.A1A48594.9B1E38F4.IP)
[08:41:37] <robitex> You have run the code?
[08:42:06] *** Joins: jackneill (jackneill@moz-251CD784.pool.digikabel.hu)
[08:42:18] <judofyr> robitex: range_step_inclusive ranges over [start, stop]
[08:42:59] <judofyr> oh, it should work with negative steps
[08:43:31] <robitex> Yes, it is work with negative steps.
[08:43:58] <robitex> But not with expression for start or stop
[08:44:33] <eddyb> without looking at any code, maybe it infers an unsigned integer type
[08:44:34] <judofyr> does it work with `let start = n/p; range_step_inclusive(start, 0)` ?
[08:45:36] <eddyb> robitex: lol, you actually force your variables to be unsigned?
[08:45:53] <eddyb> robitex: you do realize there's no negative unsigned numbers, right?
[08:45:57] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[08:46:22] <eddyb> I totally sound like a jerk, don't I?
[08:46:29] <judofyr> eddyb: he's trying to range from a positive number down to 0?
[08:46:32] <Ms2ger> A bit :)
[08:46:53] <cmr> -1 is UINT_MAX
[08:47:05] <cmr> n/p + UINX_MAX is going to overflow.
[08:47:14] <cmr> range handles overflowing by stopping.
[08:47:26] <eddyb> rusti: ::std::iter::range_step_inclusive(10u, 0, -1).to_owned_vec()
[08:47:28] -rusti- ~[]
[08:47:33] <eddyb> rusti: ::std::iter::range_step_inclusive(10, 0, -1).to_owned_vec()
[08:47:34] -rusti- ~[10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
[08:47:37] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[08:48:31] <judofyr> of course. foo+(-1) is not the same as foo-1…
[08:48:43] <myname> what
[08:49:16] <judofyr> unsigned ints are tricky
[08:49:22] <eddyb> judofyr: it has different overflow properties
[08:49:43] <cmr> same result, different behavior.
[08:49:52] <eddyb> which only matters with CheckedAdd, I guess
[08:50:06] <eddyb> cmr: interesting, though I was expecting something different, like negative steps with unsigned numbers being treated as positive, and thus the range gets treated as having finished before it tries to advance
[08:50:29] *** Joins: pilf (pilf@8FA95888.1A994CBC.4B228AD7.IP)
[08:51:05] <robitex> Ops...
[08:51:05] <judofyr> I guess there's no quick way of fixing it in range_step_inclusive without introducing a CheckedSub
[08:51:12] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[08:51:21] <judofyr> how would range_step_inclusive(0, 10).rev() perform when optimized?
[08:51:34] <eddyb> judofyr: we should have Check(everything)
[08:51:48] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving.)
[08:52:14] <eddyb> judofyr: but I think all the range constructors all return the same type, it's hard to make that work with uint, if only for the reason I mentioned
[08:54:12] <eddyb> that is, you can't tell between a negative step and an uint above 1 << (size_of::<uint>() * 8 - 1), so the only sane default would be to have only positive steps for uints
[08:54:28] <eddyb> rusti: ::std::iter::range_step_inclusive(0, 10u).rev().to_owned_vec()
[08:54:43] <eddyb> rusti: ::std::iter::range_step_inclusive(0, 10u).invert().to_owned_vec()
[08:54:53] <eddyb> timeout, maybe?
[08:54:58] <Ms2ger> rusti: "hi?"
[08:54:59] -rusti- pastebinned 10 lines of output: http://ix.io/a9V
[08:55:00] -rusti- pastebinned 10 lines of output: http://ix.io/a9W
[08:55:00] -rusti- "hi?"
[08:55:05] <Ms2ger> There we go
[08:55:11] <eddyb> Ms2ger: thanks
[08:55:22] <Ms2ger> Clearly was thanks to me ;)
[08:55:42] <eddyb> what's the method called?
[08:55:51] *** Joins: heftig (heftig@moz-D746319F.unitymedia.biz)
[08:56:28] *** Joins: mankyKitty (Instantbir@moz-9B898D95.enst-bretagne.fr)
[08:57:47] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[08:58:21] <eddyb> rusti: ::std::iter::range(0, 10u).reverse().to_owned_vec()
[08:58:22] -rusti- <anon>:10:9: 10:46 error: type `std::iter::Range<uint>` does not implement any method in scope named `reverse`
[08:58:22] -rusti- <anon>:10         ::std::iter::range(0, 10u).reverse().to_owned_vec()
[08:58:22] -rusti-                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[08:58:22] -rusti- error: aborting due to previous error
[08:58:22] -rusti- application terminated with error code 101
[08:58:31] <eddyb> rusti: ::std::iter::range(0, 10u).invert().to_owned_vec()
[08:58:32] -rusti- <anon>:10:9: 10:45 error: type `std::iter::Range<uint>` does not implement any method in scope named `invert`
[08:58:32] -rusti- <anon>:10         ::std::iter::range(0, 10u).invert().to_owned_vec()
[08:58:32] -rusti-                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[08:58:32] -rusti- error: aborting due to previous error
[08:58:32] -rusti- application terminated with error code 101
[08:58:35] <eddyb> bleah
[08:58:45] <eddyb> is it even a double-ended iterator?
[08:59:28] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Ping timeout)
[08:59:31] <mankyKitty> eddyb: invert() is rev() now.. or at least it will be
[08:59:47] <eddyb> but neither of those are recognized by rusti
[08:59:54] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[08:59:54] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[09:00:13] <cmr> rev
[09:00:15] <cmr> not reverse
[09:00:19] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[09:00:28] <eddyb> rusti: ::std::iter::range(0, 10u).rev().to_owned_vec()
[09:00:30] -rusti- ~[9u, 8u, 7u, 6u, 5u, 4u, 3u, 2u, 1u, 0u]
[09:00:38] <eddyb> cmr: rev was teh first t- oh come on!
[09:00:46] <cmr> :P
[09:01:13] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[09:01:17] <eddyb> and weird enough, the range constructors do return different things - it's all messed up in my head now
[09:01:36] <eddyb> rusti: ::std::iter::range_step_inclusive(0, 10u, 1).rev().to_owned_vec()
[09:01:37] -rusti- <anon>:10:9: 10:60 error: type `std::iter::RangeStepInclusive<uint>` does not implement any method in scope named `rev`
[09:01:37] -rusti- <anon>:10         ::std::iter::range_step_inclusive(0, 10u, 1).rev().to_owned_vec()
[09:01:37] -rusti-                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[09:01:37] -rusti- error: aborting due to previous error
[09:01:38] -rusti- application terminated with error code 101
[09:01:45] <eddyb> oh... interesting
[09:03:57] *** Quits: elyzion (elyzion@moz-D4AAE1FD.ap122.ftth.ucom.ne.jp) (Quit: Lost terminal)
[09:04:41] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:04:51] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[09:07:20] *** Joins: rca (rcatolino@moz-3F131AFE.adsl.proxad.net)
[09:09:03] <robitex> it's more simple to implent the cycle with a while
[09:09:11] *** Joins: fabiand (fabiand@moz-DEF6C6A6.adsl.alicedsl.de)
[09:09:21] <eddyb> if only I had procedural macros within normal crates...
[09:09:25] *** Joins: mib_mwt3g0 (Mibbit@690570E4.4697114E.DDC6F5D1.IP)
[09:10:41] <mib_mwt3g0> is there any way to create a standalone crate(atleast integrating 'extern mod')?
[09:10:56] <eddyb> mib_mwt3g0: a binary or a library?
[09:11:05] <mib_mwt3g0> a binary.
[09:11:12] <cmr> mib_mwt3g0: standalone in which way?
[09:11:38] <eddyb> mib_mwt3g0: that's the default, actually. as long as the libraries you're using are .rlib and not .so/.dll/.dylib
[09:13:03] *** Quits: Scruff (Scruff@94B3BF4D.ABF66092.61E84A1B.IP) (Quit: )
[09:16:06] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[09:16:08] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[09:16:51] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[09:17:13] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:17:34] *** Quits: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se) (Ping timeout)
[09:17:48] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[09:17:48] *** Quits: silven (quassel@moz-F81D3961.a328.priv.bahnhof.se) (Ping timeout)
[09:17:49] *** Joins: silven (quassel@moz-F81D3961.a328.priv.bahnhof.se)
[09:17:49] *** Joins: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se)
[09:17:50] *** Quits: o11c (ben@moz-C0FD33EF.a357.priv.bahnhof.se) (Ping timeout)
[09:18:01] *** Joins: o11c (ben@moz-C0FD33EF.a357.priv.bahnhof.se)
[09:18:53] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[09:19:12] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[09:20:19] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[09:21:54] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[09:23:24] *** pmoore is now known as pmoore|carrying-a-giant-table-
[09:26:05] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[09:27:03] *** jorendorff is now known as jorendorff_away
[09:27:45] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[09:28:08] *** Quits: robarnold (rob@moz-59F6B5.hfc.comcastbusiness.net) (Ping timeout)
[09:28:31] *** Quits: onelson_ (owen@18CF7301.95770028.5B6BFE7D.IP) (Quit: Leaving)
[09:29:03] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[09:29:54] *** Joins: twi (Adium@moz-B47EFC08.dyn.iinet.net.au)
[09:30:59] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[09:31:34] *** Quits: twi (Adium@moz-B47EFC08.dyn.iinet.net.au) (Ping timeout)
[09:35:50] *** pmoore|carrying-a-giant-table- is now known as pmoore
[09:38:31] <mib_mwt3g0> How to link .rlib file with "rustc"(tried rustc -L libxxx.rlib main.rs")?
[09:38:47] <Zr40> extern mod xxx;
[09:39:16] <eddyb> mib_mwt3g0: -L provides a directory, not a complete path
[09:40:33] <dbaupp> -L is just a search path to look for the crates specified with `extern mod ...;`
[09:43:08] <mib_mwt3g0> works now.!
[09:45:17] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[09:45:35] *** Joins: moostik (Icedove@6181009C.10715965.BCDF592F.IP)
[09:45:38] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[09:46:03] *** Quits: dLog (anonymous@moz-8FAE8709.eastlink.ca) (Ping timeout)
[09:46:11] <cmr> did something change with what `as` will cast between? https://gist.github.com/cmr/2f0bfdeff84b99c7e9f1
[09:46:16] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[09:46:38] *** Joins: dLog (anonymous@moz-8FAE8709.eastlink.ca)
[09:47:17] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[09:47:55] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[09:48:20] <cmr> or was the two-layer as always needed
[09:48:34] <dbaupp> always
[09:48:37] <cmr> I thought *T as *U was always allowed...
[09:48:50] <cmr> or maybe it is, and it's just &T as *U that isn't!
[09:48:55] *** Quits: victorporof (victorporo@BE102863.A1A48594.9B1E38F4.IP) (Ping timeout)
[09:49:02] *** Quits: m_kato (m_kato@moz-C286AD9A.bitcat.net) (Quit: Leaving...)
[09:49:08] <dbaupp> &T -> *U needs to go via *T, yeah
[09:49:14] <eddyb> use inflate::InflateStream;
[09:49:17] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[09:49:28] <eddyb> have we decided on foo::FooBar or foo::Bar, in the general case?
[09:49:32] <cmr> foo::Bar, afaik.
[09:50:00] <dbaupp> eddyb: is it a read-write stream? or just a read one?
[09:50:33] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[09:50:35] <eddyb> dbaupp: it's... different than pretty much everything I've seen in std/extra
[09:51:08] *** Quits: anonymous_29563 (Mibbit@moz-A082F561.adsl.xtra.co.nz) (Quit: http://www.mibbit.com ajax IRC Client)
[09:51:22] *** Quits: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se) (Ping timeout)
[09:51:24] <eddyb> update(&[u8]) -> Result<(/* bytes consumed */ uint, /* decompressed data */ &'a [u8]), ~str>
[09:52:06] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[09:52:31] <dbaupp> ah, so it's a compression adaptor
[09:52:52] <eddyb> well, decompression
[09:53:03] <eddyb> dbaupp: wouldn't an adaptor wrap io::Reader?
[09:53:35] <dbaupp> "adaptor"
[09:53:57] <dbaupp> maybe "filter" or something would be better
[09:54:02] <eddyb> I would call it "the update protocol" but I'm sure that's wrong
[09:54:02] * dbaupp shrugs
[09:54:03] <dbaupp> languages
[09:56:13] *** Quits: lkuper (lkuper@moz-528BDC8B.public.wayport.net) (Quit: lkuper)
[09:56:29] *** Joins: alonlevy (alon@992A2F46.2D8B4EF7.77BEDD39.IP)
[09:56:30] *** Joins: samdraz (samdraz@690570E4.4697114E.DDC6F5D1.IP)
[09:56:40] *** Parts: mib_mwt3g0 (Mibbit@690570E4.4697114E.DDC6F5D1.IP) ()
[09:56:54] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[09:57:32] <cmr> "Streaming Decompressor Interface"
[09:57:40] *** Quits: moostik (Icedove@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[09:57:52] *** Joins: andre (andre@CA528A4A.45A4338E.8EE27E6.IP)
[09:58:16] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[09:59:15] <eddyb> hmm, it's close to Decoder/Encoder, I guess
[09:59:17] *** Joins: moostik (Icedove@6181009C.10715965.BCDF592F.IP)
[09:59:34] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[09:59:38] <Yurume> that sounds familiar.
[09:59:48] <Yurume> like, well, the encoding interface?
[09:59:55] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Ping timeout)
[10:00:34] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[10:00:58] <judofyr> is there an easy way to get an Iterator<(&[u8], &[u8])> for ~[(&[u8], &[u8])]?
[10:01:12] <cmr> judofyr: .iter() ?
[10:01:14] <judofyr> calling .iter() just gives me Iterator<&(&[u8], &[u8])>
[10:01:18] <cmr> ah, right.
[10:01:21] <eddyb> judofyr: .iter().map(|x| *x)
[10:01:35] <eddyb> or .vals() if we had one
[10:01:47] <Yurume> judofyr: .move_iter()?
[10:02:08] <Yurume> eddyb: that's really .iter().map(|x| x.clone()).
[10:02:16] <Yurume> well, .clone().move_iter() might work as well
[10:02:18] <judofyr> move_iter() works
[10:02:25] <Yurume> note that
[10:02:30] <eddyb> Yurume: why are you suggesting clones?
[10:02:35] <Yurume> that would the original vector unusable from that point
[10:02:39] <Yurume> eddyb: ^
[10:02:45] <Yurume> unless you are using clone().
[10:02:49] <eddyb> Yurume: my solution doesn't clone anything
[10:03:06] <eddyb> clone + move_iter vs a proper value iterator (which I approximated)
[10:03:11] <Yurume> eddyb: in generall it does not work... oh well, sorry. it was (&[u8], &[u8]).
[10:03:28] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[10:03:48] <Yurume> judofyr: .iter().map(|x| *x) would be the cheapest indeed. sorry for the confusion.
[10:03:56] <judofyr> okay. thanks!
[10:04:20] <eddyb> Yurume: yeah, well, it's not you, but I see random suggestions to newcomers - we do have some blog posts documenting the overuse of ~, but there's also an overuse of cloning
[10:04:29] <dbaupp> If *x works then x.clone() is almost always identical
[10:04:30] <dbaupp> (fwiw)
[10:05:07] <Yurume> eddyb: cloning is sometimes not avoidable anyway, though in this time I forget we have much more context.
[10:05:08] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[10:05:36] <judofyr> what about a helper method for .map(|x| *x)? .values() ?
[10:05:43] *** Joins: victorporof (victorporo@8BF3CD1C.BCF05198.9B1E38F4.IP)
[10:05:47] <judofyr> not sure how common it is though
[10:06:07] <Yurume> sometimes I needed to go with cloning Rc<> in order to avoid the delicate multi-borrowing situation
[10:06:23] <eddyb> judofyr: nah we can have a proper value iterator now. just nobody wrote it
[10:06:29] <Yurume> (which might be impossible to solve with cloning unless I was using Rc<> at that time)
[10:06:37] <eddyb> Yurume: clone is a bad interface for Rc IMO
[10:06:48] <Yurume> agreed. name persists anyway ;_;
[10:07:14] <eddyb> I wish we had an AI to rustify names for us. "split ownership" is what I want to shorten
[10:08:14] <dbaupp> split_ownership
[10:08:21] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[10:08:42] <judofyr> also: is there a shortcut for an empty iter? that always returns None?
[10:08:53] <dbaupp> None.iter()
[10:09:06] *** Quits: victorporof (victorporo@8BF3CD1C.BCF05198.9B1E38F4.IP) (Ping timeout)
[10:09:10] <cmr> rusti: None::<int>.iter().to_owned_vec()
[10:09:11] -rusti- ~[]
[10:09:15] <dbaupp> or [].iter()
[10:09:22] <cmr> rusti: None::<int>.iter().cycle().to_owned_vec()
[10:09:23] -rusti- ~[]
[10:09:25] <WebeWizard> interesting
[10:09:27] <cmr> hm
[10:10:01] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Ping timeout)
[10:14:05] <judofyr> awesome
[10:14:09] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[10:17:24] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[10:18:02] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[10:18:46] *** Joins: kvanb (kvanb@8BB83568.37DB1062.1611EE05.IP)
[10:19:04] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[10:21:29] *** Quits: KindOne (KindOne@moz-E4DA9D1A.dynamic.ip.windstream.net) (Ping timeout)
[10:22:34] *** Quits: dLog (anonymous@moz-8FAE8709.eastlink.ca) (Ping timeout)
[10:23:49] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[10:24:14] *** Joins: nkoep (nik@moz-3078B90F.pool.mediaways.net)
[10:24:28] *** Joins: eibwen_ (hein@moz-DAA7D2AA.wlan.hu-berlin.de)
[10:25:30] *** Joins: KindOne (KindOne@moz-3AEDEC51.dynamic.ip.windstream.net)
[10:26:43] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[10:28:22] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[10:29:12] *** Joins: dLog (anonymous@moz-8FAE8709.eastlink.ca)
[10:30:37] *** Joins: twi (Adium@moz-B47EFC08.dyn.iinet.net.au)
[10:31:40] *** Joins: victorporof (victorporo@7BED5C54.E934E1A1.4A6B528C.IP)
[10:32:17] *** Quits: twi (Adium@moz-B47EFC08.dyn.iinet.net.au) (Ping timeout)
[10:33:26] *** Joins: lenstr (lenstr@728D8BB9.9636F313.7A27613B.IP)
[10:37:22] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[10:38:18] *** Joins: andreasvc (andreasvc@moz-29FD4A0A.dynamic.upc.nl)
[10:38:43] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[10:40:34] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[10:41:32] *** Joins: rust_tryout (Mibbit@moz-9BEC4835.superkabel.de)
[10:41:34] *** Quits: moostik (Icedove@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[10:42:07] *** Joins: thesnowdog (doug@6BB4FF85.9D0B7490.6F17036B.IP)
[10:42:20] <judofyr> is there a way to set linker args in the lib.rs file? I want to include some .c-files in the linker step. currently I'm just doing rustc --linker-args hello.c
[10:43:14] <cmr> judofyr: #[link_args="hello.c"] extern {}
[10:43:17] <cmr> need a feature gate for it
[10:43:59] *** Quits: rust_tryout (Mibbit@moz-9BEC4835.superkabel.de) (Quit: http://www.mibbit.com ajax IRC Client)
[10:44:11] *** Joins: mr_floya (Mibbit@moz-9BEC4835.superkabel.de)
[10:44:48] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[10:45:47] <Yurumechan> cmr : wouldnt it be hello.o after the compilation?
[10:45:56] *** Joins: moostik (Icedove@6181009C.10715965.BCDF592F.IP)
[10:45:57] *** Joins: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP)
[10:46:36] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[10:46:42] <cmr> Yurumechan: since the arguments are passed straight through to gcc, it accepts .c files
[10:46:43] <Yurumechan> though gcc may be able to compile it even when running as a linker... Im not sure.
[10:46:51] <judofyr> it does work
[10:46:54] <Yurumechan> hmm, yeah.
[10:47:04] <eddyb> same with clang
[10:47:05] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[10:47:27] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[10:47:27] <judofyr> there's probably a better way to build .c files
[10:47:35] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[10:47:35] <judofyr> but it was the easiest I found
[10:47:48] <Yurumechan> I... wait a min, that would allow the sqlite lib with no external dependency (with an amalgamated source code)
[10:48:16] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[10:48:28] *** Joins: tq (tq@moz-632DBD9.ad.umu.se)
[10:49:08] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[10:49:12] *** Quits: lenstr (lenstr@728D8BB9.9636F313.7A27613B.IP) (Client exited)
[10:49:24] <judofyr> it also works nicely with LTO. I just added -flto to the linker args and it inlined functions defined in the .c file
[10:49:34] *** Joins: lenstr (lenstr@728D8BB9.9636F313.7A27613B.IP)
[10:49:48] <cmr> heh, fancy.
[10:50:16] <judofyr> and way faste than -Z lto
[10:50:19] <judofyr> faster*
[10:50:35] <cmr> it won't do lto between rust crates with just -flto
[10:50:43] <judofyr> true
[10:50:47] *** Joins: thiago (thiago@705535C9.9074706C.BD25C20F.IP)
[10:50:51] <judofyr> but this library is just a single crate
[10:50:55] <cmr> sure
[10:51:16] *** Quits: lenstr (lenstr@728D8BB9.9636F313.7A27613B.IP) (Ping timeout)
[10:51:49] <dbaupp> judofyr: -Z lto will do LTO with libstd (which you are presumably using?)
[10:51:52] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[10:52:00] <judofyr> dbaupp: ah, yes. good point.
[10:52:25] *** Joins: twi (Adium@moz-B47EFC08.dyn.iinet.net.au)
[10:52:41] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Input/output error)
[10:53:13] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[10:54:06] *** Quits: twi (Adium@moz-B47EFC08.dyn.iinet.net.au) (Ping timeout)
[10:54:55] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[10:55:56] <judofyr> actually, it didn't inline until I compiled with the .bc file
[10:56:07] <judofyr> .c + .bc = inline! .c + .o = no inline :(
[10:59:00] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[10:59:22] <mr_floya> hey, I'm new to rust and cant get a simple example of mine to work.. I searched a lot on various sources and read the documentation but I can't really wrap my head around lifetimes
[10:59:28] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Quit: Leaving)
[10:59:46] <mr_floya> i created a gist, would really appreciate it, if someone could take a look https://gist.github.com/MrFloya/8665644
[11:00:16] <cmr> mr_floya: what you're trying to do isn't possible.
[11:00:39] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Ping timeout)
[11:00:40] <cmr> your first comment is correct: it *does* need to outlive the function.
[11:01:08] <cmr> but you can't return any structure which has a reference to a value created *inside* the function, that would be a dangling pointer.
[11:01:18] *** Joins: io2 (io2@moz-871549F5.home.otenet.gr)
[11:01:21] <cmr> GzipHeader would need to have ~[u8] rather than &'a [u8]
[11:01:33] <mr_floya> hmm okay
[11:01:46] <dbaupp> mr_floya: can you use either u16 or u32 for those fields?
[11:01:55] <dbaupp> or [u8, .. 2], since they're fixed length
[11:02:08] <cmr> (that was going to be ny next recommendation)
[11:02:42] *** Joins: int3_ (int3_@moz-EB847D24.subnet-224.amherst.edu)
[11:02:45] <eddyb> GzipHeader? what is this?
[11:03:15] <dbaupp> mr_floya: (in fact, i'd guess one should be able to write a complete gunzip implementation without using ~[] or ~ ever... theoretically.)
[11:03:23] <mr_floya> a simple struct mostly u8 and &'a[u8] since i thought this was the correct type
[11:03:31] <dbaupp> eddyb: it's a header for a gzip field
[11:03:34] <dbaupp> *file
[11:03:38] <dbaupp> I'd guess :P
[11:03:45] <mr_floya> yeah ;)
[11:03:51] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Quit: Computer has gone to sleep.)
[11:04:01] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[11:04:05] <mr_floya> it's really my first try to write something "useful" in rust
[11:04:09] <eddyb> I shouldn't even try to ask questions having woken up so early
[11:04:16] <eddyb> dbaupp: I was wondering about the context
[11:04:31] <dbaupp> mr_floya: awesome! :) hope it goes well
[11:05:07] <eddyb> mr_floya: I am actually writing an inflate implementation right now. I mean, I've started today. though it might end up being completely different than what you have there, since I have a very specific usecase
[11:05:18] <mr_floya> yeah I just picked it up in the last two weeks, after having done some things in C for university
[11:05:49] <mr_floya> i really appreciate all the safety mechanisms in rust, but I need some time to really grasp what to use when
[11:07:03] <mr_floya> eddyb: I just thought about some "small" app which I could replicate to really dig a bit deeper into rust and I thought gunzip sould be doable
[11:07:04] *** Quits: fmtq (fmt@moz-5769BD38.static.tpgi.com.au) (Ping timeout)
[11:07:30] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[11:07:46] *** Joins: teosz (teosz@EF99CB6A.34A5F0FE.3EA6AAD8.IP)
[11:07:51] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[11:07:51] <mr_floya> thanks for all the feedback, would you rather use [u8, ..2] or u16 for this?
[11:08:17] <eddyb> mr_floya: is it two bytes or a 16bit quantity with a specific endianness?
[11:09:30] *** Joins: fmtq (fmt@moz-5769BD38.static.tpgi.com.au)
[11:09:33] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[11:09:46] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[11:09:49] <mr_floya> hmm I am actually not sure about this, I just read the gzip specification whch mentioned something along the lines of "the field id are the next 2 bytes"
[11:10:19] <eddyb> mr_floya: m_time is an u32 for sure
[11:10:37] <mr_floya> hmm yeah makes sense
[11:11:01] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[11:11:16] <mr_floya> I think I stick to primitives then, I will most likely need them later in that format anway
[11:11:30] *** Quits: alonlevy (alon@992A2F46.2D8B4EF7.77BEDD39.IP) (Ping timeout)
[11:11:31] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[11:11:46] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[11:11:48] *** Joins: mrmonday_ (mrmonday@moz-1E82AE75.members.linode.com)
[11:12:14] *** Quits: mrmonday_ (mrmonday@moz-1E82AE75.members.linode.com) (Input/output error)
[11:12:26] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[11:13:34] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[11:13:42] *** Joins: mrmonday_ (mrmonday@moz-1E82AE75.members.linode.com)
[11:13:54] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[11:17:18] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[11:18:17] <TobiasFar> when building rust i get this error: http://nopaste2.doomsong.co.uk/1390907875.php is this known?
[11:18:52] <cmr> TobiasFar: you may need to clean your build directory, try git clean -xdf
[11:20:45] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[11:21:46] <TobiasFar> ok..rebuilding now
[11:22:28] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[11:22:53] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[11:23:05] *** Quits: teosz (teosz@EF99CB6A.34A5F0FE.3EA6AAD8.IP) (Ping timeout)
[11:23:09] *** Joins: teosz (teosz@EF99CB6A.34A5F0FE.3EA6AAD8.IP)
[11:25:53] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[11:27:00] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[11:28:32] *** kimundi is now known as zz_kimundi
[11:28:41] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[11:31:58] *** Quits: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP) (Quit: leaving)
[11:32:05] *** Quits: benjamin_ (benjamin@moz-3AE94AB6.dip0.t-ipconnect.de) (Ping timeout)
[11:32:13] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Quit: )
[11:35:54] *** Quits: io2 (io2@moz-871549F5.home.otenet.gr) (Ping timeout)
[11:38:26] *** Quits: teosz (teosz@EF99CB6A.34A5F0FE.3EA6AAD8.IP) (Ping timeout)
[11:38:53] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[11:39:25] <judofyr> `rustpkg build <packagename>` suddenly does nothing at all
[11:40:03] <cmr> and suddenly you understand the frustration with it :)
[11:40:07] <ecl3ctic> is there a way to specify the negative of a config option?
[11:40:14] <cmr> ecl3ctic: to configure?
[11:40:16] <ecl3ctic> like #[cfg(not_stuff)]
[11:40:21] <dbaupp> ecl3ctic: #[cfg(not(foo))]
[11:40:22] <cmr> #[cfg(not(stuff))]
[11:40:23] <ecl3ctic> instead of #[cfg(stuff)]
[11:40:28] <judofyr> but why?! I didn't change anything :(
[11:40:30] <ecl3ctic> ah, thanks
[11:40:43] <cmr> judofyr: enlightenment approaches
[11:40:59] <judofyr> and I was just about to remove my Makefile :(
[11:42:14] *** Quits: moostik (Icedove@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[11:42:23] <judofyr> and what's the difference between --lib and --rlib?
[11:43:01] <cmr> judofyr: --lib generates "compiler default", --rlib generates our static lib format.
[11:43:10] <judofyr> what is preferred?
[11:43:14] <cmr> judofyr: http://static.rust-lang.org/doc/master/rust.html#linkage
[11:43:23] <cmr> you should generate both for libraries.
[11:43:38] <cmr> when cargo-lite builds, it passes --dylib --rlib --staticlib
[11:43:41] <cmr> to get all three
[11:43:49] <judofyr> oh, you can pass in multiple
[11:43:53] <judofyr> nice
[11:44:08] <eddyb> what's --staticlib for?
[11:44:14] <cmr> eddyb: .a instead of .rlib
[11:44:21] <eddyb> cmr: but .rlib is .a!
[11:44:35] <eddyb> you don't even need to rename it to use it
[11:45:01] <cmr> OS X chokes on it, and it only includes the .o, if you were linking to it from C
[11:45:32] *** Joins: Earnestly (earnest@moz-A8B5B5EE.dyn.plus.net)
[11:45:34] <eddyb> cmr: right, I don't have all these fancy Operation Systems to test on
[11:45:42] *** Quits: kvanb (kvanb@8BB83568.37DB1062.1611EE05.IP) (Ping timeout)
[11:45:57] *** Joins: moostik (Icedove@6181009C.10715965.BCDF592F.IP)
[11:47:00] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[11:47:52] <judofyr> hm. the rlib doesn't appear to include the symbols from the .c I passed into linker args
[11:48:11] <judofyr> I really wish there was a supported way to include a .c file in the compilation step
[11:48:40] <judofyr> #[link_include="http_parser.c"]  // where the path is taken relatively from the current file
[11:48:40] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[11:48:47] <eddyb> judofyr: you can add files to a .a
[11:48:52] <eddyb> *an .a?
[11:49:22] *** Quits: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP) (Ping timeout)
[11:49:45] <judofyr> eddyb: what'd you mean? I now have #[link_args="hello.c"], but the .rlib doesn't seem to include the file
[11:50:12] <eddyb> judofyr: compile a .c to .o, then add it to the .a/.rlib *afterwards*
[11:50:31] *** Quits: mrmonday_ (mrmonday@moz-1E82AE75.members.linode.com) (Input/output error)
[11:50:52] <judofyr> eddyb: right, but that's hassle :P also: how does that work with optimizations? 
[11:50:57] <eddyb> unless you need something fancier to happen during compilation, in which case...
[11:51:28] <judofyr> I'd prefer if the compiler could inline whatever it thinks should be inlinable
[11:51:32] <eddyb> judofyr: well... I don't know now. sorry for trying
[11:51:47] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[11:51:54] <judofyr> hey, don't be sorry. you're very helpful :)
[11:53:09] *** Joins: twi (Adium@moz-B47EFC08.dyn.iinet.net.au)
[11:53:30] *** Joins: kvanb (kvanb@moz-E3B38E24.lnse1.win.bigpond.net.au)
[11:54:51] *** Quits: twi (Adium@moz-B47EFC08.dyn.iinet.net.au) (Ping timeout)
[11:55:12] *** Quits: mr_floya (Mibbit@moz-9BEC4835.superkabel.de) (Quit: http://www.mibbit.com ajax IRC Client)
[11:55:40] *** Joins: jaen (jaen@moz-C953BE34.play-internet.pl)
[11:57:00] *** Quits: rca (rcatolino@moz-3F131AFE.adsl.proxad.net) (Ping timeout)
[11:57:24] *** Quits: jaen (jaen@moz-C953BE34.play-internet.pl) (Ping timeout)
[11:58:08] *** Quits: kvanb (kvanb@moz-E3B38E24.lnse1.win.bigpond.net.au) (Quit: kvanb)
[11:59:23] *** Joins: twi (Adium@moz-B47EFC08.dyn.iinet.net.au)
[11:59:31] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[12:01:12] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Ping timeout)
[12:05:31] <fmtq> is there a convenient way to run a subprocess in rust that I'm missing?
[12:05:54] <fmtq> run it seems
[12:06:57] *** Joins: teosz (teosz@EF99CB6A.34A5F0FE.3EA6AAD8.IP)
[12:07:35] <cmr> std::run
[12:08:30] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[12:09:36] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[12:11:13] <TobiasFar> cmr: still getting rep/rust/mk/install.mk:122: *** unterminated call to function `foreach': missing `)'.  Stop. 
[12:11:17] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Ping timeout)
[12:11:52] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[12:12:03] *** Joins: jvrmaia (jvrmaia@488448C0.A3C460C4.EBCD9D32.IP)
[12:18:01] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[12:18:38] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[12:20:17] <TobiasFar> anything else i could try
[12:20:19] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[12:20:19] *** Joins: s_justin (s_justin@moz-C86DE820.asm.bellsouth.net)
[12:22:15] <cmr> TobiasFar: hm, open an issue.
[12:22:16] *** zz_kimundi is now known as kimundi
[12:22:40] <TobiasFar> cmr: ok
[12:22:56] <cmr> TobiasFar: what hash are you building? I don't see that here on master.
[12:23:27] <eddyb> what's with the path? rep/rust
[12:23:41] <eddyb> TobiasFar: are you building outside of the tree, or something?
[12:23:54] *** Joins: gwty (gwtypc@F772A19C.DCF3E831.27560D6E.IP)
[12:24:00] <TobiasFar> eddyb: that's just where i checked out rust
[12:24:25] <eddyb> but why is the error like that
[12:25:08] <eddyb> it's not an absolute path AFAICT, so are you running anything from rep/rust/../..?
[12:26:08] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[12:26:49] <TobiasFar>    /Users/tobias/dev/rep/rust/mk/install.mk:122: *** unterminated call to function `foreach': missing `)'.  Stop. 
[12:26:52] <TobiasFar> this is the whole line
[12:27:25] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[12:28:03] <eddyb> TobiasFar: my bad
[12:29:05] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[12:29:14] *** Joins: rca (rcatolino@moz-3F131AFE.adsl.proxad.net)
[12:29:24] <TobiasFar> eddyb: http://nopaste2.doomsong.co.uk/1390912052.php this is the whole log
[12:29:53] <eddyb> TobiasFar: what does update.sh contain?
[12:30:33] <TobiasFar> eddyb: http://nopaste2.doomsong.co.uk/1390912212.php basically git pull, clean the install dir and config + make + make install
[12:32:36] <eddyb> that looks like it could easily break. what's git status? or I guess you could pastebin mk/install.mk
[12:32:51] <dbaupp> rusti: let mut v = ~[1,2,3]; let f = || { v.push(4); }; let w = v; f(); w
[12:32:52] -rusti- application terminated abnormally with signal 11 (Segmentation fault)
[12:32:55] <dbaupp> :(
[12:33:34] <eddyb> wow, you can actually move from a capture?
[12:33:47] <eddyb> what is wrong with the move checker?
[12:33:49] <cmr> eddyb: closures are known to be unsound in many ways.
[12:34:23] <TobiasFar> eddyb: http://nopaste2.doomsong.co.uk/1390912444.php i'm open to improvements to that script
[12:34:31] <dbaupp> the closure isn't moving it
[12:34:39] <dbaupp> it's borrowing it... but not properly
[12:34:45] <eddyb> dbaupp: let w = v; shouldn't be allowed
[12:34:48] <eddyb> because v is captured
[12:35:27] <dbaupp> yup
[12:35:38] <dbaupp> and v is zeroed by that move, so segfault
[12:35:50] <dbaupp> (of course, without zeroing this would be a memory hole.)
[12:35:58] *** Joins: wilkie (wilkie@moz-A19F104D.pitbpa.fios.verizon.net)
[12:35:59] <dbaupp> *memory safety hole
[12:36:24] <eddyb> rusti: let mut x = 0; let f = |x, y| println!("{:?} {:?} ", x, y); let g = |y| f(&mut x, y); g(&mut x);
[12:36:27] -rusti- pastebinned 24 lines of output: http://ix.io/aa0
[12:36:33] *** Joins: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP)
[12:36:49] *** Quits: eagen (eagen@moz-92A457CB.hsd1.mn.comcast.net) (Quit: Leaving)
[12:37:19] <eddyb> rusti: let mut x = 0; let f = |x, y| println!("{:?} {:?} ", x, y); let g = |y| f(&mut x, y); let h = || g(&mut x); h();
[12:37:21] -rusti- pastebinned 35 lines of output: http://ix.io/aa1
[12:37:41] <eddyb> erm, that's... fixed?
[12:37:56] <eddyb> I guess what I was thinking of is semantically related to Cell
[12:38:28] <TobiasFar> eddyb: http://nopaste2.doomsong.co.uk/1390912670.php that's git status
[12:38:56] <eddyb> how come i686-apple-darwin isn't ignored?
[12:39:08] <TobiasFar> who knows
[12:39:17] <cmr> eddyb: why are you interrogting him about a bug in the makefiles :p
[12:39:27] <eddyb> cmr: sorry
[12:39:44] <eddyb> I've had to say that word too many freaking times today. should've slept in
[12:39:59] <TobiasFar> cmr: got a better idea or should i just add a github issue?
[12:40:09] <cmr> TobiasFar: cc @alexcrichton
[12:40:18] <TobiasFar> ok
[12:41:18] <dbaupp> filed as https://github.com/mozilla/rust/issues/11873 (if anyone happens to know a dup)
[12:41:52] *** Quits: moostik (Icedove@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[12:41:56] *** Joins: ekwan (ekwan@moz-6635E2EF.hsd1.ca.comcast.net)
[12:42:04] *** Joins: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net)
[12:43:28] *** Quits: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP) (Quit: leaving)
[12:44:44] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[12:44:47] *** Parts: ekwan (ekwan@moz-6635E2EF.hsd1.ca.comcast.net) ()
[12:45:03] *** Parts: s_justin (s_justin@moz-C86DE820.asm.bellsouth.net) ()
[12:45:17] *** Joins: io2 (io2@moz-871549F5.home.otenet.gr)
[12:45:52] *** Joins: moostik (Icedove@6181009C.10715965.BCDF592F.IP)
[12:47:22] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[12:48:02] *** Quits: sellout (Adium@moz-CF70CF20.hlrn.qwest.net) (Connection reset by peer)
[12:49:02] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[12:49:20] *** Joins: sellout (Adium@moz-CF70CF20.hlrn.qwest.net)
[12:50:33] *** Joins: twi1 (Adium@moz-B47EFC08.dyn.iinet.net.au)
[12:50:35] *** Quits: twi (Adium@moz-B47EFC08.dyn.iinet.net.au) (No route to host)
[12:51:30] *** Joins: Kynes (Kynes@moz-3DC6C6E7.mit.edu)
[12:51:52] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[12:52:34] *** Joins: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP)
[12:52:49] *** Joins: squiddy (squiddy@moz-B7832642.adsl.alicedsl.de)
[12:54:23] <TobiasFar> cmr: done. hope all important info is in there. https://github.com/mozilla/rust/issues/11874
[12:54:49] *** Joins: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP)
[12:54:54] <cmr> TobiasFar: looks good, thanks.
[12:55:46] <TobiasFar> great
[12:55:52] <Zr40> dbaupp: might #11873 perhaps be related to #10398?
[12:57:00] <lexs> i'm trying to use a "=m" memory constrain in inline asm, but it fails: https://gist.github.com/lexs/41f5b19ae70cd5a86efa
[12:58:14] *** Quits: ecl3ctic (Mibbit@578C64B6.F0F44EFA.76AE55C1.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:02:10] <dbaupp> Zr40: ah maybe
[13:02:12] <dbaupp> thanks
[13:02:47] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[13:04:28] <dbaupp> lexs: maybe "=m"(&x)
[13:04:30] * dbaupp shrugs
[13:05:21] <lexs> dbaupp: "Assertion failed: (getOperand(0)->getType() == cast<PointerType>(getOperand(1)->getType())->getElementType() && "Ptr must be a pointer to Val type!")" :(
[13:05:22] *** Joins: zeenix (zeenix@moz-B92AB3AA.range109-158.btcentralplus.com)
[13:06:01] <eddyb> "=m" needs an lvalue (&x is a rvalue) that is in memory
[13:06:18] <lexs> changing it to "=r" works, but I need it to reference memory directly
[13:06:40] <eddyb> lexs: "=r"(&x) would work
[13:06:59] *** Parts: zeenix (zeenix@moz-B92AB3AA.range109-158.btcentralplus.com) (Leaving)
[13:07:06] <lexs> that will still clobber a register though
[13:07:43] *** Joins: mr_floya (Mibbit@moz-24140304.dkrz.de)
[13:07:48] <lexs> and the generated asm doesn't do what I want unfortunately, the store happens after my asm block 
[13:07:50] <eddyb> lexs: sorry. hmpf. how about "=I"(&x) and using ($0) or [$0] instead of $0?
[13:08:14] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Quit: canhtak)
[13:08:19] <eddyb> though it won't work with the stack
[13:08:52] <lexs> still fails with "Ptr must be a pointer to Val type!"
[13:08:59] *** Quits: andreasvc (andreasvc@moz-29FD4A0A.dynamic.upc.nl) (Ping timeout)
[13:09:11] <eddyb> weird
[13:09:36] *** Joins: andreasvc (andreasvc@moz-29FD4A0A.dynamic.upc.nl)
[13:10:00] <eddyb> lexs: does this work, even remotely? asm!("" : "={ax}"(x) ::: "volatile");
[13:10:00] *** Quits: io2 (io2@moz-871549F5.home.otenet.gr) (Ping timeout)
[13:10:30] <lexs> it should work, but the load from eax into x will happen after the whole block
[13:10:43] <lexs> (which fails because I jmp to a different location)
[13:10:53] <lexs> this is for task switching in my kernel :)
[13:10:58] <eddyb> why are you jumping in inline asm? oh, I see
[13:11:12] <lexs> I've basically tried to copy what linux does
[13:11:13] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Input/output error)
[13:11:19] <lexs> http://lxr.free-electrons.com/source/arch/x86/include/asm/switch_to.h
[13:11:19] <eddyb> lexs: does it work when x is (uint, uint)?
[13:11:32] <eddyb> that is, larger than a register
[13:11:42] *** Quits: future_horizons (Mibbit@D43271B6.278C2F23.97BBD552.IP) (Ping timeout)
[13:11:48] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[13:11:57] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[13:11:59] *** Quits: beifeng (Mibbit@284C36E7.3062CEC3.670EEFD.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:12:12] <eddyb> lexs: you can also "pause" the inline assembly, before the jump
[13:12:38] <lexs> do you mean to separate blocks?
[13:12:44] <eddyb> that is, have an asm! the grabs the registers with the empty block above, then do the jump in another one
[13:12:46] <eddyb> lexs: yupp
[13:12:55] *** Joins: alonlevy (alon@moz-2F877D0E.red.bezeqint.net)
[13:13:04] <eddyb> might actually look nice, for once :)
[13:13:05] *** Joins: benjamin_ (benjamin@moz-3AE94AB6.dip0.t-ipconnect.de)
[13:13:06] <lexs> the problem then is how to refer to the label for getting back
[13:13:24] <lexs> I store a label after the jmp as "eip"
[13:13:24] <eddyb> lexs: immediatelly after the jump?
[13:13:28] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[13:13:37] <eddyb> aaah, the stored eip
[13:14:20] <lexs> it's weird that "=m" doesn't work though
[13:14:22] <eddyb> lexs: you can use a dirty trick, I guess
[13:14:24] <lexs> "m" works just fine
[13:14:41] <eddyb> an extern {fn foo();} block to get the symbol foo
[13:14:55] *** Quits: robitex (Mibbit@moz-7CDED281.business.telecomitalia.it) (Ping timeout)
[13:15:16] <lexs> oh, so it links later?
[13:15:37] *** Quits: kdou (Mibbit@moz-26F24B28.cs.virginia.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[13:15:47] <eddyb> lexs: I guess... it's a constant anyway
[13:16:07] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[13:16:23] <lexs> i'll try that. should probably test if "=m" works in clang as well
[13:17:46] *** Joins: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se)
[13:18:08] <eddyb> lexs: clang probably enforces it stronger than rustc
[13:18:37] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[13:22:04] *** Joins: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us)
[13:23:43] *** Joins: bakkdoor (bakkdoor@moz-B5A058D5.dip.osnanet.de)
[13:25:07] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.3.50.1)
[13:26:12] <lexs> eddyb: seems to have worked with dividing the two blocks, didn't even need the extern 
[13:26:19] *** Joins: calvinmetcalf_ (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net)
[13:26:33] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[13:27:16] *** Quits: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net) (Ping timeout)
[13:27:16] *** calvinmetcalf_ is now known as calvinmetcalf
[13:27:44] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[13:27:44] *** Quits: apoelstra (username@moz-BBEB5B9E.sw.biz.rr.com) (Quit: WeeChat 0.4.2)
[13:28:40] *** Joins: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP)
[13:29:24] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[13:29:48] *** Quits: bvssvni (Mibbit@moz-CBD76C21.bb.online.no) (Ping timeout)
[13:31:41] *** Joins: AndChat|724169 (AndChat724@2F4A0D37.D725B7F3.2BF60B34.IP)
[13:32:09] *** Joins: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com)
[13:32:21] *** Quits: int3_ (int3_@moz-EB847D24.subnet-224.amherst.edu) (Client exited)
[13:33:08] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[13:36:22] *** Quits: aravindavk (aravinda@B88D8966.7D627531.D2D1FAF0.IP) (Ping timeout)
[13:37:10] *** Quits: eibwen_ (hein@moz-DAA7D2AA.wlan.hu-berlin.de) (Ping timeout)
[13:38:16] *** Joins: eibwen_ (hein@moz-DAA7D2AA.wlan.hu-berlin.de)
[13:41:04] *** Joins: int3_ (int3_@moz-EB847D24.subnet-224.amherst.edu)
[13:42:09] *** Quits: eibwen_ (hein@moz-DAA7D2AA.wlan.hu-berlin.de) (Quit: Lost terminal)
[13:42:13] *** Quits: moostik (Icedove@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[13:45:55] *** Joins: moostik (Icedove@6181009C.10715965.BCDF592F.IP)
[13:47:22] <geal> has there been any study about the benefits of rust in terms of security? A lot of people are enthusiastic about what security can be provided by memory safety, but I did not see anyone putting it to the test
[13:47:43] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[13:47:59] *** Joins: io2 (io2@moz-871549F5.home.otenet.gr)
[13:48:07] <strcat> geal: glance at CVEs and look at how many are from memory safety issues
[13:48:09] *** Parts: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com) ()
[13:48:13] <strcat> doesn't really take a rust-specific study
[13:48:15] *** Joins: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com)
[13:48:27] <strcat> I'm not sure how you'd do that anyway
[13:49:06] *** Quits: bakkdoor (bakkdoor@moz-B5A058D5.dip.osnanet.de) (Quit: Leaving...)
[13:49:16] <cmr> especially given the miniscule body of rust code, and the extremely small maturity level of any of it
[13:49:23] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[13:49:32] *** Joins: dave1629 (dave@6CDA1669.2E735A23.DDE5D3F6.IP)
[13:49:37] <strcat> you can't do anything but a useless apples to oranges comparison though
[13:51:45] <geal> strcat: I do not want to evaluate if memory safety can protect from some vulnerabilities. I want to see if how it is implemented in rust holds up well
[13:51:53] *** Joins: rca_ (rcatolino@moz-27E0D9CF.adsl.proxad.net)
[13:52:03] <strcat> geal: what do you mean by 'holds up well'?
[13:52:10] <geal> there are still a lot of unsafe { ... } parts when communicating with the OS
[13:52:30] *** Quits: rca (rcatolino@moz-3F131AFE.adsl.proxad.net) (Ping timeout)
[13:53:00] <strcat> geal: and 99.9% of an application isn't that low-level interface
[13:53:10] <strcat> there are plenty of other memory safe languages
[13:53:12] <strcat> look at java
[13:53:24] *** Joins: bakkdoor (bakkdoor@moz-B5A058D5.dip.osnanet.de)
[13:53:29] <cmr> don't look at java, awful example of security ;p
[13:53:31] <geal> yes, but most java code is not low level
[13:53:35] <strcat> although keep in mind that java has data races, while rust doesn't
[13:53:44] <geal> and the JVM has taken a lot of vulns
[13:53:52] <strcat> geal: an application written in rust and an application written in java will be at the same level of abstraction
[13:54:35] <strcat> geal: link to some of those vulnerabilities then? how many are relevant to applications written in java? we're not talking about sandboxing untrusted code here, but whether trusted code is secure
[13:56:39] <geal> strcat: the usual memory corruptions vulnerabilities are a good start. Are theresome code patterns where one could trigger a crash? How easy is it to fix the bug in the general case by modifying the compiler? That kind of stuff
[13:57:15] <geal> saying that rust is safe without testing it is dangerous. in theory, Java has been labeled as safe for more than 10 years, but people still found low level bugs there
[13:57:37] <strcat> rust isn't and won't be a secure sandbox for untrusted code
[13:57:39] <strcat> no one is saying that
[13:57:47] <geal> I did not say that either
[13:57:48] <strcat> LLVM certainly isn't the infrastructure to build such a thing
[13:58:00] <strcat> unless you sandbox LLVM itself
[13:58:30] <strcat> and if you're relying on a sandbox you don't really benefti from a memory safe language for the parts inside the sandbox
[13:58:53] <strcat> geal: so then what?
[13:59:19] <geal> ok
[13:59:35] * strcat shrugs
[13:59:41] <strcat> I don't really see how it would be possible to compare
[13:59:52] <geal> I don't want to compare anything
[14:00:40] <sp3d> something like fuzz-testing rust programs for segfaults?
[14:00:58] *** Quits: int3_ (int3_@moz-EB847D24.subnet-224.amherst.edu) (Client exited)
[14:01:19] *** Quits: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:01:31] *** Quits: thiago (thiago@705535C9.9074706C.BD25C20F.IP) (Client exited)
[14:01:54] <geal> what I want: in theory, a memory safe language eliminates memory corruptiuon vulnerabilities. In practice, there have been many iterations of memory protections to solve many different vulnerabilities that come up in response. So, is Rust safe against those vulnerabilities right now? I do not want to discredit the language, because I like it very much. But when it comes to security, everything must be tested
[14:02:17] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[14:02:24] <strcat> geal: LLVM has bugs
[14:02:26] <strcat> rustc has bugs
[14:02:42] <geal> yup
[14:02:57] <strcat> so no, rust is not 100% secure against memory safety issues as the code generation is buggy
[14:03:07] <geal> so, I'd like to assess what is guaranteed to work right now, what is known, what could be fixed, what cannot
[14:03:11] <strcat> there are very few holes in the type system itself though
[14:03:35] <geal> otherwise, we'll see people shout that rust is a safe low level language, and cringe at the first big vulnerability
[14:03:43] <strcat> geal: rust is intended to be memory safe, and fixing soundness holes will occur regardless of whether it is backwards incompatible
[14:03:54] <strcat> code generation bugs are there and will always be there
[14:04:00] <strcat> they will be fixed, but it will never be 100%
[14:04:05] <strcat> LLVM will never be perfect
[14:04:09] *** Quits: jvrmaia (jvrmaia@488448C0.A3C460C4.EBCD9D32.IP) (Client exited)
[14:04:19] <eddyb> I know I fixed 3 as part of my last PR
[14:04:22] <geal> what I would also like to know is how easy it is to fix those bugs in the compiler
[14:04:30] *** Joins: jvrmaia (jvrmaia@488448C0.A3C460C4.EBCD9D32.IP)
[14:04:37] <eddyb> though those could've been avoided with a stricter and cleaner abstraction in trans
[14:04:46] <eddyb> geal: it really depends what kind of bug it is
[14:04:51] <strcat> geal: making code generation correct and making the type system sound are different issues
[14:04:58] *** Joins: thiago (thiago@705535C9.9074706C.BD25C20F.IP)
[14:05:00] <strcat> the first is mostly an LLVM implementation issue
[14:05:11] <strcat> and partly a rustc implementation issue
[14:05:18] <geal> ok
[14:05:24] <strcat> the latter is a language/library specification issue
[14:05:37] <strcat> so which do you care about? or is it both?
[14:05:59] <strcat> rust isn't a good place to look if you expect correct code generation in all cases *right now*
[14:06:06] <geal> alright
[14:06:21] *** Quits: jvrmaia (jvrmaia@488448C0.A3C460C4.EBCD9D32.IP) (Ping timeout)
[14:06:22] <strcat> LLVM and GCC are bad platforms to build that
[14:06:22] <geal> I guess the most interesting part would be to look more closely at LLVM then
[14:06:31] <eddyb> but it's a good place to start, if you don't mind the alpha/beta state
[14:06:33] <geal> then what would be a good platform?
[14:06:37] <eddyb> reporting bugs, even fixing them, etc.
[14:06:42] <eddyb> strcat: is there anything else as big?
[14:06:57] <strcat> geal: a simple compiler without really complex analysis/optimizations that are impossible for a single person to grasp as a whole
[14:07:30] <eddyb> like a baseline compiler?
[14:07:33] <strcat> just a few simple optimizations like iterative inlining, no vectorization, no loop optimizations, no alias analysis
[14:07:36] <strcat> it's too complicated to get right
[14:07:46] <geal> ls LLVM able to run without optimizations?
[14:07:55] <strcat> geal: kind of
[14:08:02] <strcat> you can choose to not run the optimization passes on the IR
[14:08:10] <strcat> it will still do fairly complex instruction selection
[14:08:15] <strcat> for codegen
[14:08:21] *** Joins: calvinmetcalf_ (cmetcalf@F7C10225.5A8698B7.38E31EF.IP)
[14:08:52] <strcat> it's a very large, modular compiler - it's far more complex than a simple compiler without an IR and so on would be
[14:08:58] <eddyb> strcat: you know what I wonder now?
[14:09:08] *** Quits: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net) (Ping timeout)
[14:09:10] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Quit: canhtak)
[14:09:10] <eddyb> can we implement TableGen with procedural macros?
[14:09:22] <strcat> geal: they also care a lot less about correctness than you'd expect
[14:09:23] *** Joins: calvinmetcalf (cmetcalf@F7C10225.5A8698B7.38E31EF.IP)
[14:09:36] <strcat> there are known correctness issues that are easily fixable, but aren't, because fixing them *without hurting performance* is hard
[14:09:52] <strcat> for example, LLVM has a simple effects system
[14:10:01] *** Quits: calvinmetcalf_ (cmetcalf@F7C10225.5A8698B7.38E31EF.IP) (Ping timeout)
[14:10:02] <strcat> it bubbles up effects like nounwind, readnone, readonly
[14:10:24] *** Joins: calvinmetcalf_ (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net)
[14:10:45] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[14:10:57] <strcat> it will remove calls to functions that are nounwind + readonly/readnone if the result is unused
[14:10:59] <strcat> this is not sound
[14:11:05] *** Quits: calvinmetcalf (cmetcalf@F7C10225.5A8698B7.38E31EF.IP) (Ping timeout)
[14:11:06] *** calvinmetcalf_ is now known as calvinmetcalf
[14:11:09] <geal> huh
[14:11:09] <strcat> as it ignores whether the function may halt
[14:11:23] <strcat> fn foo() -> ! { loop {} }
[14:11:27] <strcat> LLVM will remove a call to that function
[14:11:47] <strcat> anyway they choose to leave this bug in LLVM
[14:11:57] <strcat> because they prefer having a bug like this than not performing well
[14:12:15] *** Joins: nawfel (Mibbit@C1272FD1.66D20036.DFAB1F33.IP)
[14:12:22] <strcat> the 'proper' fix to maintain performance is to add a 'halts' effect
[14:12:26] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Ping timeout)
[14:12:34] <strcat> anyway there are a lot of cases like this
[14:12:50] <geal> that's interesting
[14:12:57] <strcat> I've run into countless known LLVM soundness issues that are left in due to performance concerns
[14:13:07] *** Joins: int3_ (int3_@moz-EB847D24.subnet-224.amherst.edu)
[14:13:09] <strcat> another example is that floats don't really work properly
[14:13:21] <strcat> it considers floating point math to be 'pure' (does not read/write to global state)
[14:13:23] <strcat> but... it's not pure
[14:13:30] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[14:13:32] <strcat> it depends on the rounding mode
[14:13:36] <strcat> and may set floating point exceptions
[14:13:47] <geal> I guess even if someone started a cross platform compiler meant to be safe, they would soon have to make compromises to ger better performance...
[14:13:47] <strcat> so anyway, rounding mode + floating point exceptions are basically unsupported in clang/LLVM
[14:14:04] <strcat> geal: well, they intend to eventually make it sound
[14:14:24] <strcat> it's just that they won't accept a fix for these soundness issues unless it's an implementation of a new effects model
[14:14:26] <geal> floating point is always tricky :)
[14:15:14] <strcat> they'd accept a patch making it correct.... if that patch adds the necessary code to soften the performance hit ;p
[14:15:52] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[14:15:56] <eddyb> strcat: should I? should I not?
[14:16:05] <strcat> eddyb: hm?
[14:16:22] <strcat> I don't think rustc should include another backend
[14:16:26] <strcat> just even more buggy code
[14:16:27] *** Joins: vosen (vosen@moz-266BA656.icpnet.pl)
[14:16:38] <strcat> LLVM is not *that* bad with the optimization passes off
[14:16:44] <strcat> but it's still a lot more complex than it could be
[14:16:45] <eddyb> strcat: I'm probably the only person you know who's crazy/dumb enough to attempt fixing all that in LLVM
[14:17:00] <strcat> geal: well, it's tricky overall
[14:17:09] <strcat> geal: like they need to enumerate a huge number of instructions with the effects
[14:17:25] <strcat> geal: i.e. sets carry flag, sets this thing, blah blah
[14:17:40] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[14:17:47] <strcat> if you have a really dumb compiler using only a small subset of the hardware's features, it would be a lot less prone to bugs
[14:17:51] *** Quits: thiago (thiago@705535C9.9074706C.BD25C20F.IP) (Client exited)
[14:17:51] <strcat> (no vector stuff, etc.)
[14:18:13] *** Joins: thiago (thiago@705535C9.9074706C.BD25C20F.IP)
[14:19:01] <eddyb> strcat: did anyone do codegen fuzzing before?
[14:19:18] <strcat> eddyb: dunno
[14:19:36] <strcat> they were talking about making a fuzzer for SROA
[14:19:39] <strcat> cause no one understands it
[14:19:43] <cmr> heh
[14:19:52] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[14:19:53] *** Quits: thiago (thiago@705535C9.9074706C.BD25C20F.IP) (Ping timeout)
[14:19:54] <eddyb> as in, generate instructions, run them directly on the CPU (ring 3 for starters), use whatever debugging features you have at your disposal to check the effects
[14:20:03] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[14:20:33] <eddyb> technically, you could bruteforce opcode definitions into existence this way :P
[14:21:00] *** Joins: aperos (Mibbit@moz-1689688F.dyn.optonline.net)
[14:21:34] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[14:21:43] *** Joins: jvrmaia (jvrmaia@488448C0.A3C460C4.EBCD9D32.IP)
[14:21:45] <eddyb> (nope. not writing a genetic algorithm for that. I have more serious things to do >_>)
[14:21:52] *** Joins: s_justin (s_justin@8BF58621.8E56FF9E.5E72BC23.IP)
[14:23:50] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[14:25:27] *** Joins: apoelstra (username@moz-3DD6BCE0.public.utexas.edu)
[14:26:58] *** Quits: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP) (Quit: leaving)
[14:28:02] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[14:28:19] *** Joins: benjamin__ (benjamin@moz-A730DF9B.dip0.t-ipconnect.de)
[14:28:22] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[14:28:30] *** Quits: benjamin__ (benjamin@moz-A730DF9B.dip0.t-ipconnect.de) (Connection reset by peer)
[14:28:43] *** Joins: benjamin__ (benjamin@moz-A730DF9B.dip0.t-ipconnect.de)
[14:29:12] *** Quits: benjamin_ (benjamin@moz-3AE94AB6.dip0.t-ipconnect.de) (Ping timeout)
[14:29:43] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[14:29:57] *** Quits: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com) (Quit: johnmurray)
[14:30:28] *** Quits: moostik (Icedove@6181009C.10715965.BCDF592F.IP) (Quit: moostik)
[14:30:43] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[14:30:44] *** Joins: benjamin_ (benjamin@moz-6B99C868.dip0.t-ipconnect.de)
[14:30:52] *** Joins: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com)
[14:31:03] <eddyb> // Format trait for the `b` character pub trait Binary { fn fmt(&Self, &mut Formatter); }
[14:31:15] <eddyb> but... if I use {:b}, it wants Bool :/
[14:31:42] *** Quits: benjamin__ (benjamin@moz-A730DF9B.dip0.t-ipconnect.de) (Ping timeout)
[14:31:46] *** Quits: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se) (Input/output error)
[14:31:55] <eddyb> (I think I remembered. is it t?)
[14:32:06] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[14:32:20] *** Parts: s_justin (s_justin@8BF58621.8E56FF9E.5E72BC23.IP) ()
[14:33:31] *** Quits: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us) (Ping timeout)
[14:34:51] <geal> ok, then, let's rewrite a compiler in rust :P
[14:35:41] *** Joins: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se)
[14:35:42] <strcat> I don't think a non-optimizing compiler for rust would be very interesting
[14:35:54] *** Joins: new_one (new_one@276E97E1.1DF5627.B3C0173E.IP)
[14:36:14] <strcat> it relies too heavily on the ability to build abstractions
[14:36:31] <strcat> you'd need a different language not so focused on writing generic, reusable code
[14:37:06] <strcat> or.... you need a whole lot more metaprogramming
[14:37:21] <strcat> i.e. template metaprogramming, static if, CTFE, etc.
[14:39:16] <strcat> I don't really think rust's usage of type classes is a success, as there's no attempt make laws for them
[14:39:29] <strcat> so they're really no better than generics without bounds from a correctness POV
[14:39:43] <Tobba> why is there an str_eq lang item
[14:39:49] <strcat> Add is even implemented for vectors as concatenation...
[14:39:51] <Tobba> why not just implement the Eq trait on str
[14:39:56] *** Quits: gwty (gwtypc@F772A19C.DCF3E831.27560D6E.IP) (Ping timeout)
[14:40:04] <strcat> Tobba: lang items are implementation details
[14:40:12] <strcat> they have never been thought out as a public interface
[14:40:24] <strcat> probably predates traits
[14:40:36] <Tobba> I think =='ing strings uses it too
[14:40:39] <Tobba> so thats pretty inconsistent
[14:40:54] <strcat> operators on built-in types are an implementation detail too
[14:41:07] <strcat> you can't see a difference when using the stdlib
[14:41:30] <strcat> other than the fact that they work in constexprs, etc.
[14:41:36] <strcat> but you can't implement lang items
[14:42:14] <Tobba> still, would make more sense using Eq
[14:42:40] <strcat> just telling you that it's a low-level implementation detail
[14:42:54] <strcat> it's not different than refactoring a few lines deep in librustc
[14:43:01] <Tobba> hm
[14:43:02] <Tobba> well yeah
[14:43:20] <Tobba> then again it was partially like that originally iirc with numbers at leasrt
[14:43:36] <Tobba> then again I guess it sorta makes sense for builtin types like numbers, so it would be inconsistent not to have it on strings
[14:44:09] <veddan> strcat: what do you mean by "laws" for typeclasses?
[14:44:16] <veddan> documentation of expected invariants?
[14:44:28] <veddan> testable contracts at trait-level?
[14:44:43] <strcat> veddan: documenting the requirements and not making implementations not meeting the requirements
[14:44:59] <strcat> and not writing type classes without that
[14:45:04] <Tobba> also, whats the type of a function pointer
[14:45:07] <strcat> at least in the stdlib
[14:45:08] *** Joins: thiago (thiago@705535C9.9074706C.BD25C20F.IP)
[14:45:10] <cmr> Tobba: fn()
[14:45:12] <Tobba> I tried &fn() and &||
[14:45:14] <Tobba> uh huh
[14:45:19] <Tobba> maybe it just doesnt work in generics
[14:45:35] <strcat> veddan: for example, what does Eq mean?
[14:45:38] <strcat> in the stdlib, not much.
[14:45:41] <veddan> I guess a.add(b) == b.add(a) is something you could expect
[14:45:53] <strcat> veddan: well, you can't expect that in the stdlib
[14:45:59] <strcat> it's not always the case
[14:46:16] <Tobba> I'm doing
[14:46:18] <Tobba> 	unsafe{transmute::<uint, fn()>(match loader.segments[0] { (_,a,_) => a + 0x2E0 })}();
[14:46:18] *** jorendorff_away is now known as jorendorff
[14:46:23] <strcat> veddan: for example, it implements Add for strings/vectors
[14:46:29] <Tobba> but getting mismatched types: expected `()` but found `fn()` (expected () but found extern fn)
[14:46:31] <strcat> so what does Add mean? nothing really
[14:46:37] <strcat> you can stick an Add bound on a generic
[14:46:43] <strcat> it doesn't really mean 'requires X'
[14:46:44] <strcat> it's just noise
[14:47:01] *** Joins: orospakr (orospakr@moz-B9F98D62.dedicated.allstream.net)
[14:47:09] <veddan> I guess it means "lets me write x + y"
[14:47:10] <strcat> if there aren't going to be requirements, then it makes more sense to just use generics without having to write the bounds imo
[14:47:14] <veddan> with no particular semantics
[14:47:16] <strcat> veddan: yep
[14:47:27] <strcat> veddan: but pretty much all the traits in the stdlib are like that
[14:47:45] *** Quits: sellout (Adium@moz-CF70CF20.hlrn.qwest.net) (Quit: Leaving.)
[14:47:56] <apoelstra> i'm having some trouble with moving out of &self. see http://pastebin.com/ysHR0KKX
[14:48:00] <strcat> having to specify bounds on generic type parameters is not much more than noise compared to languages without it, if you don't have actual requirements
[14:48:03] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[14:48:14] <apoelstra> as soon as i call self.list.move_iter() it complains about moving list out of &-pointer self
[14:48:24] <apoelstra> but i replace self.list in that very same line so i know it's safe to move the old list
[14:48:43] <veddan> strcat: if you had something like quickcheck, you could probably write testable invariants for a trait
[14:49:02] <strcat> veddan: I'm not talking about it being testable though
[14:49:03] <veddan> strcat: so a.add(b) == b.add(a) could be enforced for any type implementing Add
[14:49:04] <strcat> that'd be nice
[14:49:10] <strcat> but first it has to be actually required
[14:49:19] <veddan> strcat: yeah, I see what you mean
[14:49:21] <strcat> making it testable is a later step
[14:49:33] <strcat> like, we'd actually have to drop Add for vectors to enforce that with a test
[14:49:43] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[14:50:11] <strcat> veddan: a != b -> false, does not imply a == b
[14:50:32] *** Quits: nawfel (Mibbit@C1272FD1.66D20036.DFAB1F33.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:50:35] *** flaper87 is now known as flaper87|afk
[14:50:54] *** Quits: int3_ (int3_@moz-EB847D24.subnet-224.amherst.edu) (Client exited)
[14:50:55] <strcat> !(a < b) && !(b < a) -> true, does not imply a == b
[14:50:57] *** Joins: bvssvni (Mibbit@moz-CBD76C21.bb.online.no)
[14:50:58] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[14:51:03] <strcat> so why do we have Eq/Ord? what do they mean?
[14:51:55] <veddan> strcat: I'd guess the operator traits are more prone to becoming vague like that, since everyone wants the special syntax
[14:52:24] <strcat> veddan: it's true of pretty much all traits in the stdlib though
[14:52:32] <strcat> operators or not
[14:53:02] <strcat> there are a *huge* number of traits, and I've yet to see one with requirements
[14:53:17] <strcat> imo, it demonstrates that traits are not really useful
[14:54:30] <strcat> as used
[14:55:26] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[14:58:09] *** Quits: orospakr (orospakr@moz-B9F98D62.dedicated.allstream.net) (Connection reset by peer)
[14:59:57] *** Quits: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se) (Ping timeout)
[15:00:12] *** Joins: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se)
[15:00:16] <Tobba> but still uh, fn() doesnt seem to work as a type
[15:00:43] <Tobba> actually, it seems to work in this instance, something else is happening
[15:00:47] <eddyb> Tobba: how so?
[15:01:01] <Tobba> transmuting to it then directly calling it
[15:01:08] <eddyb> it's a function pointer btw
[15:01:10] <Tobba> hm
[15:01:14] <Tobba> putting it in a variable seems to work
[15:01:18] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Ping timeout)
[15:01:20] <Tobba> unsafe{transmute::<uint, fn()>(match loader.segments[0] { (_,a,_) => a + 0x2E0 })}() doesnt though
[15:02:03] <eddyb> maybe the indirect call code doesn't like rvalues
[15:02:28] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[15:03:49] <Tobba> this ELF loader oh god
[15:04:06] <Tobba> this is officially the worst section of code in the entire project in multiple ways, it also does not work
[15:04:09] *** Quits: teosz (teosz@EF99CB6A.34A5F0FE.3EA6AAD8.IP) (Ping timeout)
[15:04:37] <Tobba> oh and I figured out how to properly relocate the base address thing
[15:04:51] <Tobba> grab whatevers at that memory location, add that to the base, translate it and put that in
[15:05:22] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Quit: canhtak)
[15:05:31] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[15:06:13] *** Joins: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com)
[15:07:24] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[15:07:26] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[15:08:33] *** Joins: int3_ (int3_@moz-EB847D24.subnet-224.amherst.edu)
[15:09:04] <Tobba> basicaly its all a bucket of "why does this exist this is awful"
[15:09:35] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[15:10:11] *** Quits: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP) (Client exited)
[15:11:02] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[15:11:24] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[15:12:15] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[15:12:49] *** Quits: Blub\0 (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[15:12:52] *** Joins: Blub\1 (wry@620605B3.71150E1A.237AE2BA.IP)
[15:13:09] *** Quits: judofyr (judofyr@192D24C7.B738D75A.E7F60444.IP) (Client exited)
[15:13:14] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[15:13:17] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[15:13:23] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[15:13:40] *** Joins: judofyr (judofyr@192D24C7.B738D75A.E7F60444.IP)
[15:13:45] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[15:15:11] *** Joins: OliH (Mibbit@CFE1ACFA.4D0638.416762B.IP)
[15:15:16] *** Quits: twi1 (Adium@moz-B47EFC08.dyn.iinet.net.au) (Quit: Leaving.)
[15:15:20] *** Quits: judofyr (judofyr@192D24C7.B738D75A.E7F60444.IP) (Ping timeout)
[15:15:24] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[15:15:45] *** Quits: int3_ (int3_@moz-EB847D24.subnet-224.amherst.edu) (Client exited)
[15:16:07] <OliH> Hey #rust, Could someone tell me how to do a system call in rust? (equivalent of `system("ls");` in C)
[15:16:19] *** Joins: twi (Adium@moz-B47EFC08.dyn.iinet.net.au)
[15:16:55] <cmr> OliH: that's not a system call. but, there's std::libc::syste
[15:16:58] <cmr> m
[15:16:59] *** Quits: twi (Adium@moz-B47EFC08.dyn.iinet.net.au) (Quit: Leaving.)
[15:17:12] <cmr> rusti: "ls".with_c_str(|cstr| unsafe { std::libc::system(cstr); })
[15:17:14] -rusti- ()
[15:17:20] <cmr> rusti: "ls /".with_c_str(|cstr| unsafe { std::libc::system(cstr); })
[15:17:21] -rusti- ()
[15:17:49] <cmr> rusti: "ls /".with_c_str(|cstr| unsafe { std::libc::system(cstr) })
[15:17:50] -rusti- 31i32
[15:17:56] <myname> lol
[15:18:01] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[15:18:01] <OliH> :p
[15:18:06] <cmr> strcat: what are you blocking that makes that not work?
[15:18:40] <OliH> ?
[15:18:46] <cmr> rusti runs in a sandbox
[15:19:03] <OliH> I am using a web irc client
[15:19:33] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[15:20:14] <dave1629> now that ~fn has been removed from Rust, what's the best way to return a function that can be used more than once? 
[15:20:20] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[15:20:36] <dave1629> For a toy example, fn make_adder(a: int) -> (proc(int) -> int) {
[15:20:36] <dave1629>     proc(b: int) { a + b }
[15:20:37] <dave1629> } 
[15:20:48] <strcat> dave1629: you can return a function pointer or trait object but not a closure you can call multiple times at the moment
[15:20:57] <strcat> fn(int) -> int
[15:20:59] <dave1629> works fine to return a function, but I can only call it once, since that moves the value
[15:21:15] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[15:21:27] <strcat> dave1629: closures are a weak point of the language atm https://github.com/mozilla/rust/issues/8622
[15:21:30] *** Joins: olivier (olivier@CFE1ACFA.4D0638.416762B.IP)
[15:21:34] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[15:22:17] *** olivier is now known as OlivierH
[15:22:21] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[15:22:44] <OlivierH> Hey, about the "system" call, what I have to use is this? http://static.rust-lang.org/doc/master/std/libc/funcs/c95/stdlib/ffi.system.html
[15:22:52] <Tobba> is there any better way to cast ~ to & than &(*
[15:22:56] <dave1629> okay, thanks strcat. 
[15:23:10] <strcat> OlivierH: if you really want to run a command in the system shell
[15:23:21] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Quit: Computer has gone to sleep.)
[15:23:25] <strcat> if you want to spawn a subprocess, you don't want that (in fact I'd say, you pretty much never want system())
[15:23:28] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[15:23:55] <OlivierH> What I want to do is to run `system("clear")` to clear the console
[15:24:15] <strcat> OlivierH: you can clear the console without the 'clear' binary
[15:24:25] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[15:24:32] <OlivierH> how?
[15:24:43] *** Joins: gwty (gwtypc@8C592A90.D8EE24C5.E7DAB6F9.IP)
[15:24:50] *** Quits: OliH (Mibbit@CFE1ACFA.4D0638.416762B.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:24:59] <strcat> OlivierH: there is a terminfo lib in libextra
[15:25:00] <cmr> OlivierH: you can use clear_screen with terminfo.
[15:25:08] <OlivierH> will look at that, thanks :)
[15:25:22] <Tobba> oh get terminfo
[15:25:31] <Tobba> though thats probably what clear does
[15:25:47] <OlivierH> is that a part of the rust lib?
[15:25:57] <Tobba> heh, remember termcap? that was some shit
[15:26:01] <OlivierH> ok, got it
[15:26:03] <cmr> OlivierH: http://static.rust-lang.org/doc/master/extra/terminfo/index.html
[15:26:08] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[15:26:17] <strcat> Tobba: terminfo is also pretty bad, but it's all we've got ;p
[15:26:27] <OlivierH> Thanks :)
[15:26:41] <Tobba> well yeah
[15:26:56] <myname> people underestimate clear
[15:27:41] <strcat> Tobba: in fact, it's part of ncurses
[15:27:46] <strcat>        clear  clears  your  screen  if this is possible.  It looks in the environment for the terminal type and then in the terminfo
[15:27:48] <strcat>        database to figure out how to clear the screen.
[15:27:53] <myname> there is actually a clean binary?
[15:27:56] <strcat> at least on systems using ncurses/terminfo
[15:27:58] <cmr> clear, yes.
[15:28:04] <Tobba> oh jesus
[15:28:10] <myname> interesting
[15:28:11] <Tobba> this also explains why the clear command is dodgy as hell
[15:28:17] <Tobba> and usually never actually clears the screen properly
[15:28:17] <strcat> myname: it's not built-in to either bash or zsh
[15:28:31] <strcat> Tobba: it does clear it, clear means move into scrollback ;p
[15:28:31] <cmr> Tobba: is your TERM set correctly?
[15:28:33] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[15:28:34] *** Quits: mr_floya (Mibbit@moz-24140304.dkrz.de) (Quit: http://www.mibbit.com ajax IRC Client)
[15:28:40] <strcat> Tobba: clearing all scrollback is reset
[15:28:41] <Tobba> strcat: yeah
[15:28:48] <Tobba> it moves into scrollback sometimes
[15:28:50] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[15:28:51] <Tobba> which is still terrible
[15:29:02] <Tobba> reset also acts dodgily for some reason
[15:29:07] <Tobba> it tends to mess up the first line thats printed
[15:29:11] <strcat> sounds like you use a broken terminal
[15:29:14] <cmr> it does.
[15:29:21] <strcat> I've never had issues with either
[15:29:27] <cmr> neither have I
[15:29:43] <strcat> although most terminals are broken in various ways
[15:29:49] <strcat> some more than others :)
[15:29:52] <Tobba> though its kinda shitty that clear doesnt actually clear it
[15:30:02] <Tobba> just basicaly prints a bunch of newlines
[15:30:04] <strcat> Tobba: well it clears the screen, not scrollback
[15:30:15] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[15:30:17] <Tobba> it doesnt clear the terminal though
[15:30:28] <strcat> Tobba: it doesn't print newlines in a sane terminal
[15:30:30] <Tobba> scrollback isnt really different from the screen in most cases nowadays
[15:30:38] <strcat> Tobba: clear works fine for me
[15:30:46] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[15:31:02] <strcat> here, I'll run some command with a lot of output filling the screen and spilling into scrollback and clear
[15:31:12] <Tobba> I cant remember too many issues with clear actually
[15:31:17] <Tobba> but I remember reset working badly in xterm
[15:31:18] <strcat>     A very advanced and programmable command interpreter (shell) for UNIX
[15:31:20] <strcat> strcat@thinktank i ~ master % clear
[15:31:31] <strcat> so it doesn't print any lines (that's from scrolling into scrollback a bit)
[15:32:11] *** Joins: int3_ (int3_@moz-EB847D24.subnet-224.amherst.edu)
[15:32:14] *** Quits: int3_ (int3_@moz-EB847D24.subnet-224.amherst.edu) (Client exited)
[15:32:15] *** Joins: int3_ (int3_@moz-EB847D24.subnet-224.amherst.edu)
[15:32:37] *** Joins: sellout (Adium@moz-968E9A09.hsd1.co.comcast.net)
[15:32:44] *** Joins: lkuper (lkuper@moz-528BDC8B.public.wayport.net)
[15:33:05] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[15:34:11] *** Quits: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP) (Ping timeout)
[15:36:03] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[15:36:04] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[15:36:04] *** Quits: apoelstra (username@moz-3DD6BCE0.public.utexas.edu) (Ping timeout)
[15:36:05] *** Joins: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP)
[15:36:53] <OlivierH> Hey all, after looking into the doc for terminfo, I still don't know how to do it; I saw a string called "clear" here, http://static.rust-lang.org/doc/master/extra/terminfo/parser/compiled/index.html, but from there, I don't know what to do
[15:37:03] *** Joins: teosz (teosz@EF99CB6A.34A5F0FE.3EA6AAD8.IP)
[15:38:36] *** Joins: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP)
[15:39:17] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[15:41:39] *** Joins: maxiepoo_ (Max@moz-BF85AD57.nuwlan.northwestern.edu)
[15:41:49] *** Joins: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net)
[15:43:21] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[15:44:10] *** Quits: maxiepoo_ (Max@moz-BF85AD57.nuwlan.northwestern.edu) (Ping timeout)
[15:44:33] *** Parts: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net) ()
[15:44:49] *** Quits: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net) (Ping timeout)
[15:46:19] *** Joins: maxiepoo_ (Max@moz-BF85AD57.nuwlan.northwestern.edu)
[15:49:24] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:50:49] *** Joins: matthewbot (Mibbit@moz-BB6D07A6.xlate.ufl.edu)
[15:50:59] <OlivierH> Hey all, how do I call a terminfo command in rust? (Using http://static.rust-lang.org/doc/master/extra/terminfo/index.html)
[15:51:21] *** Quits: maxiepoo_ (Max@moz-BF85AD57.nuwlan.northwestern.edu) (Ping timeout)
[15:51:46] *** Quits: Kxepal (Miranda@moz-A53C85B.pppoe.mtu-net.ru) (Ping timeout)
[15:54:10] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[15:54:44] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[15:54:48] *** Joins: jdm (jdm@moz-D434EC03.dsl.sca.megapath.net)
[15:54:48] *** ChanServ sets mode: +o jdm
[15:55:20] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[15:56:16] *** Quits: GregorR (Gregor@moz-D9651910.so) (Quit: Coyote finally caught me)
[15:57:32] *** Joins: GregorR (Gregor@moz-D9651910.so)
[15:58:27] *** Joins: agarnier (agarnier@B49B97BC.DF317A48.8108A302.IP)
[15:59:11] *** Quits: agarnier (agarnier@B49B97BC.DF317A48.8108A302.IP) (Quit: Quitte)
[16:01:27] *** Quits: vgeddes (vincent.ge@moz-D8D4FE4D.dsl.mweb.co.za) (Input/output error)
[16:02:29] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[16:02:51] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[16:03:25] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[16:03:27] *** jorendorff is now known as jorendorff_away
[16:04:07] <SiegeLord> OlivierH: Perhaps look into how extra::term::Terminal is implemented
[16:04:31] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[16:04:31] *** Joins: Kxepal (Miranda@moz-9BB50C73.pppoe.mtu-net.ru)
[16:06:29] *** Joins: pietr0 (pietr0@70D0F689.E6386E47.65DDFA89.IP)
[16:06:47] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[16:07:21] *** Quits: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se) (Ping timeout)
[16:07:21] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[16:07:25] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[16:09:35] *** Quits: samdraz (samdraz@690570E4.4697114E.DDC6F5D1.IP) (Quit: Leaving)
[16:11:17] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[16:12:10] *** flaper87|afk is now known as flaper87
[16:12:26] *** pmoore is now known as pmoore|dinner
[16:14:51] *** Joins: FreeFull (freefull@moz-272EA536.as13285.net)
[16:16:16] *** Quits: matthewbot (Mibbit@moz-BB6D07A6.xlate.ufl.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[16:16:57] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Input/output error)
[16:21:33] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[16:22:00] *** jorendorff_away is now known as jorendorff
[16:22:08] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Client exited)
[16:22:30] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[16:22:51] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[16:23:41] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[16:23:42] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[16:24:02] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[16:24:04] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Quit: canhtak)
[16:24:13] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[16:25:35] <arrdem> what is the -! convention for?
[16:25:53] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[16:25:57] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[16:26:05] <strcat> arrdem: you mean in 'fn foo() -> ! { ... }'?
[16:26:15] <strcat> means the function doesn't return
[16:26:17] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[16:26:32] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Connection reset by peer)
[16:26:38] <arrdem> strcat: I was looking more at assert! and format!
[16:26:46] <strcat> arrdem: that means it's a macro
[16:26:50] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[16:27:00] <arrdem> strcat: okay that's what I was thinking. thanks.
[16:27:53] *** Quits: teosz (teosz@EF99CB6A.34A5F0FE.3EA6AAD8.IP) (Ping timeout)
[16:28:13] <pauls> arrdem: (it's not a convention, though, it's a requirement.)
[16:28:20] *** Joins: erickt1 (Adium@8C9ECD8F.3A598286.F12515B4.IP)
[16:28:31] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[16:28:48] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[16:29:18] <arrdem> pauls: compiler enforced naming. gotcha.
[16:30:27] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[16:30:53] <pauls> arrdem: from the point of view of the parser, `!` is part of the invocation syntax, not a valid part of an identifier. But I'm being really pedantic at this point.
[16:31:16] <pauls> Mainly, I'm just excited to have any excuse to talk about macros.
[16:31:21] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[16:31:22] <pnkfelix> arrdem: the reason pauls's statements matter
[16:31:34] <pnkfelix> arrdem: is that the definition of a macro that is invoked like `foo!(...)`
[16:31:46] <pnkfelix> arrdem: is likely to be a definition of the form `macro_rules! foo(..)`
[16:31:57] <pnkfelix> arrdem: So the exclamation point is *not* part of the name
[16:32:20] <pnkfelix> arrdem: (and this matters if e.g. you like to use `grep` to browse code...)
[16:32:36] *** Quits: bakkdoor (bakkdoor@moz-B5A058D5.dip.osnanet.de) (Quit: Leaving...)
[16:32:47] <pnkfelix> pauls: (feel free to elaborate and/or correct me where appropriate.  :)
[16:34:04] *** Quits: victorporof (victorporo@7BED5C54.E934E1A1.4A6B528C.IP) (Connection reset by peer)
[16:34:42] *** Quits: heftig (heftig@moz-D746319F.unitymedia.biz) (Ping timeout)
[16:35:52] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[16:37:00] *** Quits: new_one (new_one@276E97E1.1DF5627.B3C0173E.IP) (Client exited)
[16:37:12] *** Quits: mankyKitty (Instantbir@moz-9B898D95.enst-bretagne.fr) (Ping timeout)
[16:37:14] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[16:38:52] <SiegeLord> rusti: println  !  ("foo");
[16:38:54] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[16:38:56] -rusti- pastebinned 7 lines of output: http://ix.io/a6T
[16:39:07] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[16:39:18] <arrdem> hum... okay sound like there's more foo to this than to my usual Lisp macros. save this for once I can write normal Rust...
[16:39:49] *** Joins: bakkdoor (bakkdoor@moz-B5A058D5.dip.osnanet.de)
[16:40:08] *** Parts: fixplz (uid18459@moz-A42E5B7B.irccloud.com) ()
[16:40:44] <eddyb> rusti: println  !  ("foo")
[16:40:44] -rusti- foo
[16:40:45] -rusti- ()
[16:41:38] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[16:42:18] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Quit: canhtak)
[16:44:30] *** Joins: AvianFlu_ (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[16:45:02] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Ping timeout)
[16:45:40] *** Joins: ntp (quassel@moz-BE62B255.net.uwaterloo.ca)
[16:46:38] *** Joins: teosz (teosz@EF99CB6A.34A5F0FE.3EA6AAD8.IP)
[16:47:16] *** jorendorff is now known as jorendorff_away
[16:48:14] <darnuria> Hey all there is any plan to port documentation of rust on MDN?
[16:49:15] <eddyb> darnuria: that's an interesting question
[16:49:29] <Ms2ger> Mmm
[16:49:33] <eddyb> we could certainly make the autogenerated stuff available in multiple formats
[16:49:49] <Ms2ger> There's been some talk about integrating external docs into MDN
[16:50:12] <pauls> arrdem: they're mostly like Scheme macros, but living in a non-S-exp-based language affects some things rather significantly.
[16:50:14] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[16:50:43] <Yurume> hmm, what does `std::task::spawn` do (in contrast to `native::task::spawn` for example)?
[16:50:53] <arrdem> pauls: lemme finish the tutorial, then I'll stress about the nontrivial stuff :P
[16:51:01] <eddyb> Yurume: pretty sue std::task::spawn is the spawn in prelude
[16:51:04] <pauls> arrdem: cool
[16:51:24] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[16:51:49] <Yurume> eddyb, well, yeah, so what does it do when there is no `extern mod native` nor `extern mod green`?
[16:52:00] <eddyb> Yurume: I'd look at the code
[16:52:18] <eddyb> Yurume: it will probably try to use the dynamic Runtime set by native/green and most likely fail
[16:52:26] <Yurume> heh
[16:52:47] <eddyb> technically you can write your own libblue
[16:52:56] <eddyb> for sad threads
[16:53:16] *** Joins: eholk (eholk@B760D084.7EDA02CF.51B6877.IP)
[16:53:25] *** Quits: alonlevy (alon@moz-2F877D0E.red.bezeqint.net) (Ping timeout)
[16:54:14] *** Joins: alonlevy (alon@moz-2F877D0E.red.bezeqint.net)
[16:54:38] <Yurume> aha, so it uses runtime implementation inside `std::rt::task::Task`
[16:55:16] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[16:55:20] <eddyb> IIRC, there's a spawn_sibling method on a trait object, maybe Runtime itself, maybe something else
[16:56:02] <Yurume> and by default the compiler links to `libgreen` runtime anyway (currently)
[16:56:34] <Yurume> (and you can override the `#[start]` function to use different runtimes...?)
[16:56:54] <eddyb> the non-obvious #[no_uv] crate attribute disables "extern mod green;"
[16:56:59] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[16:58:14] <arrdem> okay so strings are seqs of multibyte UTF8 chars., rather than being [u8, ...len].
[16:59:03] <eddyb> arrdem: the two are... equivalent, almost. &str is represented as &[u8]
[16:59:05] <Yurume> arrdem, and consequently indexing the particular character offset is O(n), for example. (so it is indeed an array of u8)
[16:59:23] <Yurume> it is not an array of char (almost like u32) nor u16
[16:59:37] *** Quits: alonlevy (alon@moz-2F877D0E.red.bezeqint.net) (Ping timeout)
[16:59:46] *** Quits: rca_ (rcatolino@moz-27E0D9CF.adsl.proxad.net) (Ping timeout)
[16:59:58] <arrdem> Right, so strings are "only" a cons seq type rather than being a hard array.
[17:00:02] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[17:00:11] <eddyb> cons seq? what?
[17:00:20] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[17:00:32] <arrdem> eddyb: how does that work out? sure you can expose the bottom byte, but that shouldn't work in general...
[17:00:52] <eddyb> erm?
[17:01:43] <darnuria> eddyb: It could be a very nice option. In my humble opinion.
[17:01:56] <eddyb> darnuria: what would be?
[17:02:17] <darnuria> eddyb: Filling a bug on github about this is a good idea? ID : Doc Rust -> MDN
[17:02:31] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[17:02:35] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[17:02:40] <eddyb> darnuria: ah. sure, go ahead
[17:03:02] *** Quits: lkuper (lkuper@moz-528BDC8B.public.wayport.net) (Quit: lkuper)
[17:03:05] <eddyb> I don't have anything against it, and we already use a doc generator so it shouldn't be too painful to port that to produce MDN-compatible output
[17:03:06] *** Quits: mcpherrin (mcpherrin@BB4DB59D.2876C283.70845BE5.IP) (Ping timeout)
[17:03:32] *** Quits: tq (tq@moz-632DBD9.ad.umu.se) (Quit:  HydraIRC -> http://www.hydrairc.com <- Go on, try it!)
[17:03:34] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[17:04:22] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:04:42] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[17:05:13] *** Joins: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr)
[17:06:44] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[17:07:29] *** Quits: benjamin_ (benjamin@moz-6B99C868.dip0.t-ipconnect.de) (Ping timeout)
[17:08:20] *** Joins: rca (rcatolino@moz-27E0D9CF.adsl.proxad.net)
[17:08:48] *** Quits: Ferreus (ferreus@moz-6C790FCF.dip0.t-ipconnect.de) (Ping timeout)
[17:09:44] *** Joins: mankyKitty (Instantbir@moz-21AD3B58.rev.sfr.net)
[17:09:52] *** Quits: erickt1 (Adium@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[17:10:12] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[17:11:00] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[17:12:27] *** Quits: eholk (eholk@B760D084.7EDA02CF.51B6877.IP) (Quit: eholk)
[17:12:48] *** Quits: fabiand (fabiand@moz-DEF6C6A6.adsl.alicedsl.de) (Quit: Verlassend)
[17:15:00] <veddan> arrdem: strings are stored as arrays of u8 in UTF8, and can be decoded to codepoints with the .chars() iterator
[17:15:13] <veddan> arrdem: there's no null-terminator or such
[17:15:16] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[17:15:25] <veddan> arrdem: and no cons cells
[17:15:36] *** Joins: maxiepoo_ (Max@moz-DEDB4821.nuwlan.northwestern.edu)
[17:16:15] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[17:16:18] <arrdem> veddan: okay thanks. I'll read up more on the UTF8 imp'l then, clearly I don't understand how U8 chars are represented.
[17:17:01] <Yurume> arrdem, you don't need to know about UTF-8, you just need to know that the byte offset and character offset can differ (and Rust primarily uses the former).
[17:17:33] <pnkfelix> arrdem: while I agree with Yurume that you do not need to know UTF-8's representation, ...
[17:17:45] <pnkfelix> arrdem: if you do want to learn more about it, I personally found the thing that made it click for me...
[17:17:48] <pnkfelix> arrdem: was this: http://www.cl.cam.ac.uk/~mgk25/ucs/utf-8-history.txt
[17:17:57] <Yurume> Rust has the sane UTF-8 implementation anyway, so you don't need to do it yourself ;)
[17:18:14] <Yurume> (I doubt the implementation is best possible though...)
[17:18:28] <o11c> *sane, assuming you don't ever take user input
[17:18:42] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[17:19:01] <Yurume> o11c, when I'm saying "sane", I really mean it's RFC 3629 compliant.
[17:19:08] *** Quits: jdm (jdm@moz-D434EC03.dsl.sca.megapath.net) (Ping timeout)
[17:19:11] *** Joins: jdm (jdm@moz-D434EC03.dsl.sca.megapath.net)
[17:19:11] *** ChanServ sets mode: +o jdm
[17:19:14] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[17:19:31] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Input/output error)
[17:19:38] <pnkfelix> o11c: what do you mean by that?  Are you alluding to the condition signalling in the current API, or ... ?
[17:19:59] *** pmoore|dinner is now known as pmoore|away
[17:20:42] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[17:20:47] *** kimundi is now known as zz_kimundi
[17:21:00] <o11c> pnkfelix: I mean, the number of situations in which you want silent passthrough of bad encoding is a LOT more than you think
[17:21:11] <o11c> for example, you can't even take input from a terminal
[17:21:12] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[17:21:30] <pnkfelix> o11c: okay so that is what you are talking about.  Yes I believe that part of the API needs to change (and is scheduled to do so...)
[17:21:34] <o11c> because terminals sometimes input raw binary instead of utf-8
[17:21:38] *** Quits: dave1629 (dave@6CDA1669.2E735A23.DDE5D3F6.IP) (Quit: dave1629)
[17:22:52] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[17:22:57] <pnkfelix> o11c: I believe the relevant ticket here is https://github.com/mozilla/rust/issues/8968
[17:23:05] <c-a> o11c, then I'd argue it shouldn't be considered a string
[17:23:33] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[17:23:35] *** Quits: jdm (jdm@moz-D434EC03.dsl.sca.megapath.net) (Quit: Lost terminal)
[17:23:47] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[17:24:00] <pnkfelix> or perhaps the more open-ended https://github.com/mozilla/rust/issues/6164
[17:24:16] *** Quits: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP) (Ping timeout)
[17:24:52] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Connection reset by peer)
[17:25:04] <o11c> c-a: it's a string of unknown ascii-compatible encoding, which is *usually* utf-8
[17:25:15] <o11c> c-a: it happens a LOT
[17:26:04] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[17:26:13] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[17:26:18] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[17:26:19] <Yurume> yeah, I wrote rust-encoding to give some insight on that problem
[17:26:25] *** Quits: maxiepoo_ (Max@moz-DEDB4821.nuwlan.northwestern.edu) (Quit: maxiepoo_)
[17:26:35] <Yurume> don't think that really worked though
[17:27:22] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[17:27:26] *** Joins: dave1629 (dave@6CDA1669.2E735A23.DDE5D3F6.IP)
[17:27:54] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[17:27:55] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[17:28:13] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[17:28:15] *** Joins: maxiepoo_ (Max@moz-DEDB4821.nuwlan.northwestern.edu)
[17:28:39] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:28:44] *** flaper87 is now known as flaper87|afk
[17:28:48] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[17:29:06] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[17:29:21] *** Quits: dew (Instantbir@moz-AC63CB.dhcp.stls.mo.charter.com) (Ping timeout)
[17:29:33] <c-a> o11c, but can you do anything useful with that except pass it through?
[17:29:48] *** jorendorff_away is now known as jorendorff
[17:30:07] <o11c> c-a: most of the time, that's all you *ever* do with text
[17:30:21] <o11c> Maybe parse the bits you need, pass the rest on unchanged
[17:30:46] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[17:30:53] <o11c> For e.g. for the terminal example, you need access to those few raw bytes to parse mouse coordinates
[17:31:12] * o11c wishes terminals did mouse coordinates by escape sequences
[17:31:17] <eddyb> isn't stdin a Reader, that works with bytes?
[17:31:20] *** Joins: dew (Instantbir@moz-AC63CB.dhcp.stls.mo.charter.com)
[17:31:30] <c-a> o11c, it seems treating it as an array of bytes fits perfectly for that
[17:31:56] <o11c> the point is, dealing with bytes is a pain - and in fact a regression against dumb languages
[17:32:22] <o11c> we're *forced* to deal with everything as bytes just to handle 1% of use cases properly
[17:32:37] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[17:32:41] <eddyb> ByteString, then?
[17:32:47] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[17:33:04] <eddyb> or RawString, even shorter
[17:33:20] *** Quits: AndChat|724169 (AndChat724@2F4A0D37.D725B7F3.2BF60B34.IP) (No route to host)
[17:33:28] <darnuria> https://github.com/mozilla/rust/issues/11884 bug filled
[17:33:29] <o11c> sure. But then str is useless
[17:34:00] *** Joins: Kambfhase (quassel@moz-7E80EAA1.travedsl.de)
[17:34:24] <o11c> one thing I've noticed is that people are *really* bad at designing string classes.
[17:34:27] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Ping timeout)
[17:34:30] *** Joins: jwang (Zealtron@E55BE3B4.65B70227.DDE5D3F6.IP)
[17:34:46] <o11c> For my own C++ library, I ended up implementing 7 different classes, and I'm thinking of a couple more
[17:34:46] *** Joins: MichaelParis (MichaelPar@47BAB86D.83BCE10.DDE5D3F6.IP)
[17:34:56] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[17:35:02] *** Parts: jwang (Zealtron@E55BE3B4.65B70227.DDE5D3F6.IP) ()
[17:35:14] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[17:35:19] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[17:35:53] <o11c> since Rust has traits ... would that really be a *bad* idea?
[17:36:03] <darnuria> and reddit https://github.com/mozilla/rust/issues/11884
[17:36:10] <darnuria> ops fail..
[17:36:14] *** Joins: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net)
[17:36:23] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[17:36:28] <darnuria> http://www.reddit.com/r/rust/comments/1wdv1g/using_mozilla_develloper_networkmdn_for/ sorry.
[17:36:31] *** Joins: apoelstra (username@moz-3DD6BCE0.public.utexas.edu)
[17:36:35] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[17:38:35] *** Joins: eholk (eholk@moz-BA312F07.crest.iu.edu)
[17:38:44] *** Joins: jdm (jdm@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[17:38:44] *** ChanServ sets mode: +o jdm
[17:38:52] *** Joins: bt3ze (bt3ze@AE290BDA.1CA5FEA3.DDE5D3F6.IP)
[17:39:12] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[17:40:38] <o11c> the classes I have are roughly: @str, ~str, @&str (NUL or not), &str (NUL or not), str[..<n]
[17:41:03] <o11c> I'm thinking of adding str[..=n] and enum(~str, str[..<n])
[17:41:04] <eddyb> @ is on its way out so it would be Rc<str>/Gc<str>
[17:41:19] <o11c> I'm being rough, you get the point
[17:41:32] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[17:41:48] <eddyb> though fixed-length, you'd need Rc<RefCell<~str>> for growable
[17:42:05] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:42:21] <o11c> one significant thing: only ONE of the 7 classes I implemented is mutable
[17:42:36] <eddyb> o11c: that last enum, that's ShortString, right?
[17:42:51] <o11c> yeah, short string optimization
[17:43:11] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Ping timeout)
[17:43:16] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: rcirc on GNU Emacs 24.3.1)
[17:43:26] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[17:43:38] <o11c> For now, the places I would use it are just assuming the str len is < n
[17:44:01] <o11c> For my specific purpose, there's not much point in doing otherwise, since I have to be compatible with a network layer that uses fixed length strings
[17:44:44] <eddyb> o11c: a fixed-length ~str could fit 15 bytes on x64 while still keeping the maximum possible length in the bounds of the observable universe :P
[17:45:10] *** Quits: FreeFull (freefull@moz-272EA536.as13285.net) (Ping timeout)
[17:45:16] *** Joins: lucian_ (lucian@303F9692.4304AE1E.CE5E78F6.IP)
[17:45:22] <o11c> can't send pointers over the network, it's sad
[17:45:46] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[17:45:49] *** Joins: FreeFull (freefull@moz-272EA536.as13285.net)
[17:45:54] <o11c> and there's *no* great solution to multiple variable length elements in a single packet
[17:46:01] *** Quits: apoelstra (username@moz-3DD6BCE0.public.utexas.edu) (Quit: WeeChat 0.4.2)
[17:46:10] <cmr> o11c: the interesting string representations aren't contiguous, so I think it's a non-starter.
[17:46:25] <o11c> cmr: my ~str is not contiguous
[17:46:34] <cmr> I mean using a single trait in Rust
[17:46:34] <o11c> that's the only mutable one btw
[17:46:56] <cmr> actually...
[17:46:57] *** Quits: lucian_ (lucian@303F9692.4304AE1E.CE5E78F6.IP) (Ping timeout)
[17:46:57] <o11c> ~str is the only class that doesn't inherit from the CRTP base to get all the useful string methods
[17:47:04] <cmr> a trait that has a method returning an Iterator<&str> might actually work.
[17:47:09] <cmr> for all strings..
[17:47:19] <o11c> Yeah.
[17:48:05] <eddyb> cmr: for ropes?
[17:48:07] <o11c> currently my ~str is implemented on top of (C++, remember) std::deque, but I plan to optimize it sometime
[17:48:16] *** Quits: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP) (Max SendQ exceeded)
[17:48:20] *** Joins: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP)
[17:48:32] <o11c> my @str was std::shared_ptr<std::vector> for a long time, but I finally optimized that
[17:48:36] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[17:48:46] <o11c> C++ std::shared_ptr is sad :(
[17:49:02] <eddyb> o11c: heh, deque sounds like poor man's rope
[17:49:09] <eddyb> just don't hang yourself by it
[17:49:10] *** Joins: azakai_ (alon@moz-BBE3ABD.mv.mozilla.com)
[17:49:29] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[17:49:34] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[17:50:10] *** Quits: dave1629 (dave@6CDA1669.2E735A23.DDE5D3F6.IP) (Quit: dave1629)
[17:50:20] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[17:51:26] *** Joins: dherman (dherman@moz-21F91504.cfw-a-gci.corp.yahoo.com)
[17:51:26] *** ChanServ sets mode: +ao dherman dherman
[17:51:43] <o11c> surprising little code uses it, so it's not a big priority
[17:51:50] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[17:52:04] <o11c> oh, note also that normal strings don't provide operator +
[17:52:20] <cmr> eddyb: ropes, suffix trees, radix trees.
[17:52:47] <o11c> the main ways of building strings are strprintf() -> @str and strnprintf() -> str[..<n]
[17:52:59] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[17:53:02] *** Joins: dave1629 (dave@6CDA1669.2E735A23.DDE5D3F6.IP)
[17:53:05] <o11c> actually that's half the reason I want to main those into an enum
[17:53:21] <cmr> though it occurs to me that it wouldn't provide for very efficient RLE, since it'd have to yield each compressed character sequence one-by-one.
[17:53:24] <eddyb> that's a bad interface IMO. though now that you mention it
[17:53:44] * cmr hates strings
[17:54:36] <eddyb> o11c: my intended std::fmt rewrite would allow you to choose one of those two, without having to copy from the fixed-length one to the shared one
[17:55:18] <o11c> I just provide an iterator<char> for my ~str, but the typical case is to use the conversion-ctor in @strr
[17:55:21] <eddyb> cmr: oh, I was talking about adding arbitrary byte sequence support to our Trie
[17:55:27] <eddyb> a few days ago, in #rust-internals
[17:56:41] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[17:56:43] *** Quits: lpy (lpy@9248CA04.F930CE91.65042015.IP) (Client exited)
[17:57:30] <o11c> Anyway, I think it's sensible to just plain not provide many operations on a mutable string unless you explicitly convert it to mutable
[17:57:40] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[17:57:45] <o11c> which could be a destructive (move-only) operation
[17:58:15] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[17:58:30] *** Joins: Kruppe (user@moz-F242ABE9.net.uwaterloo.ca)
[17:58:31] *** Joins: hjr3 (hradtke@moz-4CC6BC5F.public.wayport.net)
[17:58:41] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[17:59:00] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (No route to host)
[18:00:10] *** Quits: mankyKitty (Instantbir@moz-21AD3B58.rev.sfr.net) (Ping timeout)
[18:00:58] *** Joins: montezuma (Mibbit@728478CF.79CA65DB.DDE5D3F6.IP)
[18:01:20] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[18:01:26] *** Quits: montezuma (Mibbit@728478CF.79CA65DB.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:01:35] *** Joins: tq (tq@moz-9FE9CCF4.a251.priv.bahnhof.se)
[18:02:49] *** zz_kimundi is now known as kimundi
[18:02:51] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[18:03:05] *** Joins: mankyKitty (Instantbir@moz-21AD3B58.rev.sfr.net)
[18:03:07] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[18:03:36] *** Joins: bynaryshef (bynaryshef@295ED4D.54F2CF59.1C814B46.IP)
[18:04:50] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[18:04:50] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:05:00] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[18:05:06] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:05:06] *** ChanServ sets mode: +ao brson brson
[18:07:19] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[18:07:34] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[18:08:14] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[18:08:28] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[18:09:47] *** Joins: ercxx (ercan@moz-88DD3A7E.dyn.optonline.net)
[18:09:48] *** Joins: Ferreus (ferreus@moz-80E5D971.pools.arcor-ip.net)
[18:10:00] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[18:10:46] *** Quits: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP) (Quit: Konversation terminated!)
[18:10:53] *** Joins: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP)
[18:11:01] <ercxx> is there a nice Makefile example for rust that I can look at?
[18:11:02] *** Quits: teosz (teosz@EF99CB6A.34A5F0FE.3EA6AAD8.IP) (Ping timeout)
[18:11:41] <cmr> ercxx: http://metajack.im/2013/12/19/building-rust-code--using-make-part-2/ and part 1
[18:11:46] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Client exited)
[18:12:06] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[18:12:20] <ercxx> cmr: thanks
[18:12:43] <cmr> ercxx: there's https://github.com/SiegeLord/RustCMake for cmake, too.
[18:13:11] <ercxx> cmr: thanks again
[18:13:46] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Ping timeout)
[18:14:11] *** Quits: KindOne (KindOne@moz-3AEDEC51.dynamic.ip.windstream.net) (Ping timeout)
[18:14:58] *** Joins: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net)
[18:15:03] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[18:15:25] *** Parts: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net) ()
[18:15:57] *** Joins: assaf (assaf@2C205411.2D501DF2.9E22F775.IP)
[18:16:02] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[18:16:36] *** Joins: lkuper (lkuper@46B5412F.3597C859.3AF705F3.IP)
[18:18:12] <arrdem> what's the logic for allowing name re-exporting?
[18:18:22] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Client exited)
[18:19:08] *** Joins: synackse (jordyd@moz-88B81E86.seg55.ucf.edu)
[18:19:09] <cmr> arrdem: can craft a nice public API around a potentially deeply heirarchical and ugly private API
[18:19:22] *** jorendorff is now known as jorendorff_away
[18:19:24] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Connection reset by peer)
[18:20:47] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[18:20:48] *** Quits: synackse (jordyd@moz-88B81E86.seg55.ucf.edu) (Ping timeout)
[18:21:36] *** Quits: dherman (dherman@moz-21F91504.cfw-a-gci.corp.yahoo.com) (Quit: dherman)
[18:22:02] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[18:22:03] *** Joins: reima (Instantbir@moz-6C6BEF49.dip0.t-ipconnect.de)
[18:22:14] *** jorendorff_away is now known as jorendorff
[18:22:51] *** Joins: TimAbraldes (quassel@moz-BF4D134B.hsd1.or.comcast.net)
[18:23:11] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[18:23:37] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[18:24:06] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[18:24:06] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[18:24:27] *** Quits: MichaelParis (MichaelPar@47BAB86D.83BCE10.DDE5D3F6.IP) (Quit: MichaelParis)
[18:24:27] *** Quits: maxiepoo_ (Max@moz-DEDB4821.nuwlan.northwestern.edu) (Quit: maxiepoo_)
[18:24:35] *** Quits: oberstet (quassel@moz-E0FDADF1.dynamic.mnet-online.de) (Client exited)
[18:24:53] *** Joins: dherman (dherman@moz-21F91504.cfw-a-gci.corp.yahoo.com)
[18:24:53] *** ChanServ sets mode: +ao dherman dherman
[18:24:57] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[18:25:05] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[18:26:28] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Quit: Leaving...)
[18:27:20] *** Joins: lpy (lpy@9248CA04.F930CE91.65042015.IP)
[18:27:28] *** Quits: bakkdoor (bakkdoor@moz-B5A058D5.dip.osnanet.de) (Quit: Leaving...)
[18:29:50] *** Quits: lpy (lpy@9248CA04.F930CE91.65042015.IP) (Connection reset by peer)
[18:30:24] *** Joins: lpy (lpy@9248CA04.F930CE91.65042015.IP)
[18:30:52] *** Joins: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net)
[18:32:10] *** Quits: lpy (lpy@9248CA04.F930CE91.65042015.IP) (Ping timeout)
[18:33:17] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[18:35:04] *** Joins: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[18:35:52] *** Joins: synackse (jordyd@moz-88B81E86.seg55.ucf.edu)
[18:36:50] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[18:37:16] *** Joins: maxiepoo_ (Max@moz-DEDB4821.nuwlan.northwestern.edu)
[18:37:20] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[18:37:40] *** Quits: claudiu (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP) (Connection reset by peer)
[18:38:02] *** Joins: claudiu (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP)
[18:39:01] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[18:40:14] *** Quits: dave1629 (dave@6CDA1669.2E735A23.DDE5D3F6.IP) (Quit: dave1629)
[18:43:47] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[18:44:06] *** Quits: hjr3 (hradtke@moz-4CC6BC5F.public.wayport.net) (Client exited)
[18:44:27] *** Joins: hjr3 (hradtke@moz-4CC6BC5F.public.wayport.net)
[18:44:37] *** Quits: AvianFlu_ (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Input/output error)
[18:44:51] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[18:45:05] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Quit: Textual IRC Client: www.textualapp.com)
[18:46:01] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[18:46:12] *** Joins: lennart (lennart@moz-DE70D6F.stanford.edu)
[18:46:21] *** Quits: Kynes (Kynes@moz-3DC6C6E7.mit.edu) (Quit: Leaving)
[18:47:32] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[18:47:43] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[18:48:04] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[18:48:21] *** Joins: bakkdoor (bakkdoor@moz-B5A058D5.dip.osnanet.de)
[18:49:00] *** Quits: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[18:49:30] *** Joins: victorporof_ (victorporo@8699B38F.D32F224B.9B1E38F4.IP)
[18:50:51] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[18:51:41] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Client exited)
[18:51:50] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[18:52:02] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[18:52:19] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[18:52:52] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[18:53:15] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[18:53:27] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (No route to host)
[18:53:39] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[18:54:44] *** Joins: dave1629 (dave@6CDA1669.2E735A23.DDE5D3F6.IP)
[18:55:10] *** Quits: synackse (jordyd@moz-88B81E86.seg55.ucf.edu) (Ping timeout)
[18:55:16] *** Parts: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com) ()
[18:55:28] *** Joins: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com)
[18:55:43] *** Quits: bynaryshef (bynaryshef@295ED4D.54F2CF59.1C814B46.IP) (Quit: Leaving)
[18:55:56] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[18:56:25] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[18:56:29] *** Joins: Savago (Savago@523C1D2B.E820043D.D4C04133.IP)
[18:57:28] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[18:57:38] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[18:57:47] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[18:57:48] *** Quits: Savago (Savago@523C1D2B.E820043D.D4C04133.IP) (Quit: Savago)
[18:58:05] *** Joins: ptc1 (Adium@moz-8F01578B.z72-46-65.customer.algx.net)
[18:58:06] *** Joins: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com)
[18:58:20] *** Quits: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[18:58:49] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[18:58:52] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[18:59:05] *** Joins: trinary (Adium@moz-D78CD0D5.hsd1.co.comcast.net)
[18:59:46] *** Quits: ptc1 (Adium@moz-8F01578B.z72-46-65.customer.algx.net) (Ping timeout)
[19:00:02] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[19:00:25] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:00:46] *** Joins: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net)
[19:01:25] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[19:01:43] *** Parts: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net) ()
[19:02:14] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[19:02:32] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[19:04:48] *** Quits: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com) (Quit: brendan)
[19:04:56] *** Joins: mcpherrin (mcpherrin@BB4DB59D.2876C283.70845BE5.IP)
[19:04:59] *** Joins: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com)
[19:05:10] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[19:06:05] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[19:06:24] *** Quits: squiddy (squiddy@moz-B7832642.adsl.alicedsl.de) (Input/output error)
[19:06:43] *** Joins: new_one (new_one@C308C12.B4699C3B.B3C0173E.IP)
[19:06:43] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[19:06:51] <mcpherrin> rusti: ~"mcpherrin"
[19:06:52] -rusti- ~"mcpherrin"
[19:06:57] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[19:07:23] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[19:10:27] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[19:12:21] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[19:12:53] *** Quits: lkuper (lkuper@46B5412F.3597C859.3AF705F3.IP) (Quit: lkuper)
[19:13:48] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[19:13:53] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[19:13:58] *** Quits: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net) (Ping timeout)
[19:14:18] *** Joins: Kjelle (karl@moz-EF3421F5.bredband.comhem.se)
[19:15:02] *** Quits: maxiepoo_ (Max@moz-DEDB4821.nuwlan.northwestern.edu) (Quit: maxiepoo_)
[19:15:44] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Quit: Leaving)
[19:16:23] <Kjelle> Can I use std::gc::Gc in my code when creating a @List from extra or do I need to enable the gated @ feature?
[19:16:27] *** Joins: maxiepoo_ (Max@moz-DEDB4821.nuwlan.northwestern.edu)
[19:16:28] <Kjelle> That is, are they interchangeable?
[19:16:38] <Ms2ger> Don't use @
[19:16:53] <strcat> not much point in using Gc yet
[19:17:08] <strcat> it's just a slower Rc holding onto memory longer without a weak ptr
[19:17:40] <FreeFull> Rc is what @ used to be
[19:17:46] *** Quits: sellout (Adium@moz-968E9A09.hsd1.co.comcast.net) (Quit: Leaving.)
[19:17:53] *** Joins: jasom (aidenn@moz-5F6FC7B3.sb.sd.cox.net)
[19:18:01] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Quit: 랜덤은 쇠퇴했습니다.)
[19:18:02] <Kjelle> I know I'm not supposed to use @, but List in extra lib uses @, I'm wondering if I can write Gc instead of @ when using the List from extra.
[19:18:06] <strcat> FreeFull: no, not really
[19:18:09] <strcat> Gc is what @ used to be
[19:18:24] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[19:18:38] <strcat> Rc is a sane implementation of reference counting (doesn't hold onto refs all the way along the call stack) and weak ptrs
[19:18:55] <FreeFull> strcat: Ah, thanks for correcting me
[19:19:10] <strcat> Kjelle: I doubt you want to use List
[19:19:10] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[19:19:13] *** Quits: bakkdoor (bakkdoor@moz-B5A058D5.dip.osnanet.de) (Quit: Leaving...)
[19:19:38] <eddyb> does it use @ just to get back pointers?
[19:19:40] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[19:19:40] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[19:19:53] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[19:20:01] *** Joins: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net)
[19:20:07] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[19:20:07] *** ChanServ sets mode: +ao pcwalton pcwalton
[19:20:27] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Input/output error)
[19:20:27] <Kjelle> strcat: What's wrong with it?
[19:20:53] <strcat> Kjelle: it uses @
[19:21:04] <Kjelle> Ah
[19:21:16] <strcat> and anyway I think a task-local persistent list will not be a common thing to want
[19:21:38] <jasom> Question: is any work done at run-time for releasing a reference, or is it all statically figured out?
[19:22:36] <abinader> is there an easy way to convert enum values to str? i.e. I want to obtain ~str from a given Enum value, given that my enums are linked to integer values: enum Foo { Bar = 0; ... }
[19:22:49] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[19:23:02] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[19:23:04] <eddyb> abinader: #[deriving(ToStr)]
[19:23:09] <eddyb> or {:?}
[19:23:19] <eddyb> (and probably FromPrimitive)
[19:23:27] <abinader> eddyb: I guess the former is what I'm looking at :D thanks!
[19:24:53] <jasom> alternatively a way of inspecting llvm code generated from a given fn would let me figure this out for myself
[19:24:58] *** Joins: autra (augustin@moz-BE76895F.fbx.proxad.net)
[19:25:13] <Kjelle> strcat: Ok, thanks for the heads up. I have a very functional approach to my current application, returning new lists of things all the time so I thought a list would be nice
[19:25:28] <eddyb> jasom: which kind of reference?
[19:25:35] <strcat> Kjelle: well, you could make your own persistent list
[19:25:39] <eddyb> jasom: --emit-llvm -S gets you LLVM IR btw
[19:25:49] <jasom> eddyb: a mutable reference to an owned item
[19:25:56] <eddyb> jasom: statically resolved
[19:25:58] <strcat> Kjelle: Rc will be better, just have to make sure you don't make cycles, which you can't do if it's immutable
[19:26:01] <strcat> as rust isn't lazy
[19:26:12] <eddyb> jasom: that is, checked. no runtime involvement whatsoever
[19:26:15] <strcat> anyway List is just.... crufty
[19:26:18] <strcat> I think it predates methods
[19:26:24] <strcat> and uses @ ;p
[19:26:32] <mcpherrin> strcat: yeah, List is is old
[19:26:35] <Kjelle> yeah, it looked... different :)
[19:26:44] <mcpherrin> I think it may predate owned pointers ;)
[19:27:00] <strcat> well it's almost useless to have one with owned pointers
[19:27:03] <strcat> since you could just use a vector
[19:27:20] *** Joins: teosz (teosz@EF99CB6A.34A5F0FE.3EA6AAD8.IP)
[19:27:21] <strcat> or ring buffer (so, a vector ;p)
[19:27:44] <Kjelle> Oh well, had already implemented my stuff using vectors, I'll just revert to that
[19:27:46] <eddyb> linked lists are overused in C
[19:27:58] <eddyb> Kjelle: why did you want to use List instead of vectors?
[19:28:05] <strcat> persistent lists can be useful
[19:28:11] <strcat> I just don't think they will be commonly useful ;]
[19:28:12] <jasom> Alright, that brings me to the next question.  I know TCE has been discussed to death on the mailing list, but for the special case of self tail call it seems useful as there is no way to implement certain mutable recursive data structures without resorting to unsafe code or ref counting using loops
[19:28:19] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[19:28:25] <strcat> jasom: there is tail call elimination
[19:28:30] <mcpherrin> strcat: could be useful if you're traversing and inserting a lot
[19:28:37] <strcat> jasom: just not a rust language guarantee
[19:28:38] *** Quits: pilf (pilf@8FA95888.1A994CBC.4B228AD7.IP) (Quit: pilf)
[19:28:43] <strcat> implementation detail
[19:28:46] *** Quits: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP) (Quit: Leaving)
[19:28:58] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[19:29:04] <jasom> and all the discussion seems to say "self-recursion is uninteresting since it can be rewritten as a loop" which seems to be false
[19:29:06] <eddyb> strcat: my only use of lists is actually a DAG with Rc. ast_map's paths, which are over-cloned atm
[19:29:18] *** Joins: mib_wtqnku (Mibbit@moz-B0FFAD70.hsi3.kabel-badenwuerttemberg.de)
[19:29:23] <eddyb> jasom: LLVM can optimize tail recursion to a loop
[19:29:55] <eddyb> not sure about "which seems to be safe" unless the only way your code compiles is with recursive scopes
[19:29:56] <Kjelle> eddyb: My code was very functional, so I thought using List would be The Right Thing
[19:30:07] <eddyb> "very functional"?
[19:30:25] <eddyb> Kjelle: which operations you were using the most? have you profiled?
[19:30:31] <Kjelle> nah
[19:30:34] <mcpherrin> Well, Lispies love Lists obviously
[19:30:39] <Kjelle> I just had to go with something
[19:30:53] <Kjelle> I was thinking a bit too lispy, yes :)
[19:30:56] <mcpherrin> Lisp is entirely designed around singly linked garbage collected lists :P
[19:30:59] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:31:00] *** Quits: Kruppe (user@moz-F242ABE9.net.uwaterloo.ca) (Ping timeout)
[19:31:10] *** Joins: lpy (lpy@9248CA04.F930CE91.65042015.IP)
[19:31:13] <mcpherrin> gotta use Stalin or Chicken Scheme if you wanna do that and have good performance
[19:31:16] <jasom> eddyb: consider mutable trees; you need to walk it getting a mut ref all the way down.  That can't be expressed in a loop without resorting to unsafe code
[19:31:16] *** Joins: heftig (heftig@moz-D3E045E2.dip0.t-ipconnect.de)
[19:31:38] <eddyb> jasom: that should be possible
[19:31:48] *** Quits: dave1629 (dave@6CDA1669.2E735A23.DDE5D3F6.IP) (Quit: dave1629)
[19:31:55] <jasom> eddyb: but it's trivial to write using a self-recursive tail-call
[19:32:07] <eddyb> jasom: unless you want to use the stack as the traversal stack
[19:32:20] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[19:32:32] <eddyb> (which is the special exception I mentioned above)
[19:32:56] *** Quits: lpy (lpy@9248CA04.F930CE91.65042015.IP) (Ping timeout)
[19:34:15] *** Quits: mib_wtqnku (Mibbit@moz-B0FFAD70.hsi3.kabel-badenwuerttemberg.de) (Quit: http://www.mibbit.com ajax IRC Client)
[19:34:25] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[19:34:45] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[19:35:04] <pnkfelix> mcpherrin: do what?  Traverse recursive data structures?
[19:35:06] <jasom> eddyb: consider this: https://gist.github.com/jasom/8674507 (It's a list just because a list is a degenerate case of a fan-out 1 tree and the actual tree code in which I ran into the issue is far more complicated; I agree that a linked-list is of dubious value most of the time in rust)
[19:35:30] *** Joins: pyon (user@5D202184.695050F8.E6392873.IP)
[19:35:31] *** Quits: teosz (teosz@EF99CB6A.34A5F0FE.3EA6AAD8.IP) (Ping timeout)
[19:35:45] <pnkfelix> mcpherrin: I would think Racket's JIT would handle such cases fine, and I'd put money that Larceny is up to par with Chicken.
[19:35:47] <jasom> eddyb: there is no need to use recursion for the non-mutable printl function, but there is for the mutating trunc function
[19:36:03] <eddyb> jasom: a list doesn't need a stack, though
[19:36:13] *** pmoore|away is now known as pmoore
[19:36:26] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[19:36:27] <mcpherrin> pnkfelix: I just mean "use a lisp family language"
[19:36:30] <jasom> eddyb: neither does a lot of tree operations (such as inserting into a binary tree)
[19:36:44] <pnkfelix> mcpherrin: oh okay.  Sure, as in "any reasonable Scheme impl."  :)
[19:36:57] *** Joins: sellout (Adium@2917A62E.8B65BA63.1D2A2C57.IP)
[19:36:57] <mcpherrin> pnkfelix: Racket's JIT is ... okay but I run into perf problems every time I try to use it in prod.  stalin & chicken are just awesomer
[19:36:58] <eddyb> jasom: you should be able to mutably borrow the contents of a &mut T, and loop
[19:37:16] <jasom> eddyb: if yu can show me how to rewrite trunc() as a loop, I will be ecstatic
[19:37:43] <jasom> eddyb: (and without using unsafe, of course)
[19:37:54] <pnkfelix> mcpherrin: i'm suprised to hear that, but I haven't done any serious work on it lately, so what do I know.  (My main use cases for Racket all involve the GUI, like Slideshow, and not performance critical stuff.)
[19:38:06] <pnkfelix> (anyway, totally off-topic ...)
[19:38:42] *** Quits: andre (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[19:38:51] <mcpherrin> pnkfelix: This was a while ago, and there's been a bunch of JIT work done since.  Memory leaks & memory thrashing were the big problems, though.
[19:39:29] <mcpherrin> I know a few people who are happily running Racket powered webapps just fine
[19:40:08] *** Joins: KindOne (KindOne@moz-3AEDEC51.dynamic.ip.windstream.net)
[19:40:15] <eddyb> rusti: enum List<T> {Cons(T, ~List<T>), Nil} fn trunc<T>(mut list: &mut ~List, l: uint) {for _ in range(0, l) {match list {&~Cons(_, ref mut next) => list = next, _ => return}} *list = ~Nil;} let mut l = ~Cons(1, ~Cons(2, ~Cons(3, ~Nil))); trunc(&mut l,2); l
[19:40:20] -rusti- pastebinned 4 lines of output: http://ix.io/aa7
[19:40:23] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[19:40:25] <eddyb> it won't work the first try, of course
[19:40:55] <eddyb> rusti: enum List<T> {Cons(T, ~List<T>), Nil} fn trunc<T>(mut list: &mut ~List<T>, l: uint) {for _ in range(0, l) {match list {&~Cons(_, ref mut next) => list = next, _ => return}} *list = ~Nil;} let mut l = ~Cons(1, ~Cons(2, ~Cons(3, ~Nil))); trunc(&mut l,2); l
[19:40:57] -rusti- pastebinned 23 lines of output: http://ix.io/aa8
[19:41:16] *** Quits: tq (tq@moz-9FE9CCF4.a251.priv.bahnhof.se) (Quit: tq)
[19:41:23] <eddyb> erm, what?
[19:41:33] <jasom> exactly
[19:41:41] <eddyb> rusti: enum List<T> {Cons(T, ~List<T>), Nil} fn trunc<T>(mut list: &mut ~List<T>, l: uint) {for _ in range(0, l) {match list {&~Cons(_, ref mut next) => list = next, _ => return}} /* *list = ~Nil; */} let mut l = ~Cons(1, ~Cons(2, ~Cons(3, ~Nil))); trunc(&mut l,2); l
[19:41:44] -rusti- pastebinned 17 lines of output: http://ix.io/aa9
[19:41:54] <eddyb> jasom: you just have to teach the compiler to understand borrows better
[19:42:05] <jasom> yes
[19:43:00] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[19:43:06] <jasom> That would also solve my problem; a loop construct that has equivalent ownership semantics to a tail-call (it doesn't work because you can't pass a reference from the previous iteration into something scoped locally to the loop)
[19:43:38] <eddyb> rusti: enum List<T> {Cons(T, ~List<T>), Nil} fn trunc<T>(mut list: &mut ~List<T>, l: uint) {for _ in range(0, l) {list = match list {&~Cons(_, ref mut next) => next, _ => return}} /* *list = ~Nil; */} let mut l = ~Cons(1, ~Cons(2, ~Cons(3, ~Nil))); trunc(&mut l,2); l
[19:43:40] -rusti- pastebinned 17 lines of output: http://ix.io/aaa
[19:43:59] <Ms2ger> Hi eddyb :)
[19:44:09] <eddyb> sorry about the spam
[19:44:15] <jasom> eddyb: I have tried all the permutations that you are trying
[19:44:24] <eddyb> I know someone did it
[19:44:27] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Connection reset by peer)
[19:44:28] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.3.1)
[19:44:30] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[19:45:04] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:45:05] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:45:08] <Matthias247> I wonder what I'm doing wrong when I rarely need recursion in my programs ;)
[19:45:32] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:45:33] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:45:47] <Kjelle> I often start out with recursive solutions and make convert them into iterative solutions
[19:45:51] <eddyb> "<anon>:10:116: 10:120 error: cannot assign to `list` because it is borrowed" - I don't really understand that
[19:45:53] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Client exited)
[19:46:01] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:46:02] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:46:02] <Kjelle> because I think it's easier to resonate about recursive algorithms etc
[19:46:03] <jasom> eddyb: it is using the outer list for the assignment
[19:46:09] <Scriptor> supposedly the next step after figuring out recursive solutions is to figure out how to do it with HOF's
[19:46:13] <Kjelle> then convert*
[19:46:28] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:46:29] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:46:31] <jasom> Kjelle: as do I, and I have found a tail-recursive solution that IMO can't be converted to a type-safe iterative solution with rust's current semantics
[19:46:33] <Scriptor> and just have the recursion happen under the hood
[19:46:34] *** Quits: int3_ (int3_@moz-EB847D24.subnet-224.amherst.edu) (Quit: Leaving...)
[19:46:35] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[19:46:38] *** Quits: new_one (new_one@C308C12.B4699C3B.B3C0173E.IP) (Ping timeout)
[19:46:42] *** Joins: new_one (new_one@C308C12.B4699C3B.B3C0173E.IP)
[19:46:47] <Kjelle> jasom: rats :(
[19:46:56] <eddyb> rusti: enum List<T> {Cons(T, ~List<T>), Nil} fn trunc<T>(mut list: &mut ~List<T>, l: uint) {for _ in range(0, l) {list = match *list {~Cons(_, ref mut next) => next, _ => return}} /* *list = ~Nil; */} let mut l = ~Cons(1, ~Cons(2, ~Cons(3, ~Nil))); trunc(&mut l,2); l
[19:46:56] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:46:56] <pcwalton> strcat: just FYI I'm implementing a doug lea-style concurrent hash map at the moment in servo
[19:46:57] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:46:59] -rusti- pastebinned 17 lines of output: http://ix.io/aab
[19:47:07] <pcwalton> it uses native OS mutexes but I plan to convert over to alex's
[19:47:10] *** Joins: eholk_ (eholk@39F761D.7EDA02CF.51B6877.IP)
[19:47:14] <pcwalton> if you want it in rust-core feel free to take it
[19:47:24] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:47:25] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:47:25] <eddyb> rusti: enum List<T> {Cons(T, ~List<T>), Nil} fn trunc<T>(mut list: &mut ~List<T>, l: uint) {for _ in range(0, l) {list = match **list {Cons(_, ref mut next) => next, _ => return}} /* *list = ~Nil; */} let mut l = ~Cons(1, ~Cons(2, ~Cons(3, ~Nil))); trunc(&mut l,2); l
[19:47:28] -rusti- pastebinned 17 lines of output: http://ix.io/aac
[19:47:50] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:47:52] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:47:56] <eddyb> jasom: haha, I forgot :D
[19:48:15] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Ping timeout)
[19:48:17] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[19:48:17] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:48:19] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:48:25] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[19:48:31] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Quit: canhtak)
[19:48:46] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:48:46] <eddyb> jasom: wait, no. that was extracting an element from a list. and it used swap/replace. though it could still iterate just fine
[19:48:47] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:49:13] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:49:14] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:49:36] *** Joins: synackse (jordyd@9E6CE43B.4B53A366.BB6D8913.IP)
[19:49:41] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:49:42] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:49:45] <eddyb> jasom: did you try structs with fields instead of enum variants?
[19:50:03] <eddyb> though it still requires an Option :/
[19:50:08] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:50:10] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:50:15] <jasom> eddyb: no, b/c you still need an enum for termination
[19:50:36] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:50:37] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:50:46] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[19:50:48] <jasom> though I suppose I could create a singleton and use object-identity instead
[19:50:53] *** Quits: maxiepoo_ (Max@moz-DEDB4821.nuwlan.northwestern.edu) (Quit: maxiepoo_)
[19:50:55] <eddyb> nah
[19:50:59] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:50:59] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[19:51:01] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:51:07] *** Joins: robarnold (rob@moz-59F6B5.hfc.comcastbusiness.net)
[19:51:25] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[19:51:29] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[19:51:30] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[19:52:33] <eddyb> Ms2ger: so why did you ping me earlier?
[19:53:15] *** Quits: vosen (vosen@moz-266BA656.icpnet.pl) (Connection reset by peer)
[19:53:15] <eddyb> if it's the PNG thing, I've started working on inflate then IRL drama unleashed
[19:53:19] <Ms2ger> Fun
[19:53:35] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[19:54:57] *** Joins: vertexclique (vertexcliq@3C52C77A.7D2D2643.17913DC0.IP)
[19:55:11] <eddyb> Ms2ger: unless you mean DF
[19:55:13] *** Joins: maxiepoo_ (Max@moz-DEDB4821.nuwlan.northwestern.edu)
[19:56:00] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:56:37] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Ping timeout)
[19:59:04] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[19:59:40] *** Quits: synackse (jordyd@9E6CE43B.4B53A366.BB6D8913.IP) (Ping timeout)
[20:00:07] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[20:01:42] *** Quits: ercxx (ercan@moz-88DD3A7E.dyn.optonline.net) (Quit: WeeChat 0.4.2)
[20:03:07] *** Quits: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com) (Quit: johnmurray)
[20:03:10] *** Quits: jvrmaia (jvrmaia@488448C0.A3C460C4.EBCD9D32.IP) (Quit: Leaving...)
[20:03:50] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[20:04:51] *** Joins: rocode (rocode@moz-8ACDD150.clsp.qwest.net)
[20:06:17] *** Joins: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net)
[20:06:38] *** Joins: dave1629 (dave@6CDA1669.2E735A23.DDE5D3F6.IP)
[20:07:02] *** Parts: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net) ()
[20:07:08] *** Joins: fabiand (fabiand@moz-DEF6C6A6.adsl.alicedsl.de)
[20:09:19] *** Quits: eholk_ (eholk@39F761D.7EDA02CF.51B6877.IP) (Quit: eholk_)
[20:09:54] *** Joins: synackse (jordyd@9E6CE43B.4B53A366.BB6D8913.IP)
[20:10:42] *** Quits: jackneill (jackneill@moz-251CD784.pool.digikabel.hu) (Ping timeout)
[20:10:51] *** Joins: eholk_ (eholk@39F761D.7EDA02CF.51B6877.IP)
[20:10:53] *** Joins: Jesse (jruderman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[20:11:03] *** Quits: eholk_ (eholk@39F761D.7EDA02CF.51B6877.IP) (Quit: eholk_)
[20:11:07] *** Joins: igork (igork@moz-D312758C.broadband.corbina.ru)
[20:12:27] *** Quits: dave1629 (dave@6CDA1669.2E735A23.DDE5D3F6.IP) (Quit: dave1629)
[20:13:14] *** Quits: synackse (jordyd@9E6CE43B.4B53A366.BB6D8913.IP) (Ping timeout)
[20:13:30] *** Joins: vmx (vmx@moz-66858814.pools.arcor-ip.net)
[20:15:04] *** Quits: new_one (new_one@C308C12.B4699C3B.B3C0173E.IP) (Ping timeout)
[20:15:10] *** jorendorff is now known as jorendorff_away
[20:15:18] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[20:15:47] *** Joins: tdc (santegoeds@moz-1B982511.range31-53.btcentralplus.com)
[20:15:52] *** Joins: synackse (jordyd@moz-5171C2FC.seg153.ucf.edu)
[20:16:59] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[20:17:18] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[20:17:32] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[20:19:30] <strcat> http://lwn.net/Articles/82305/ this is hilarious ;p
[20:19:42] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[20:23:06] *** Quits: bt3ze (bt3ze@AE290BDA.1CA5FEA3.DDE5D3F6.IP) (Client exited)
[20:23:21] *** Quits: ntp (quassel@moz-BE62B255.net.uwaterloo.ca) (Ping timeout)
[20:24:30] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[20:25:36] *** Quits: TimAbraldes (quassel@moz-BF4D134B.hsd1.or.comcast.net) (Input/output error)
[20:25:57] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[20:26:35] <mitsuhiko> where do i find the people interested in fixing packaging for rust? (and maybe other things too?)
[20:26:42] *** pmoore is now known as pmoore|away
[20:26:44] *** Quits: aperos (Mibbit@moz-1689688F.dyn.optonline.net) (Ping timeout)
[20:26:57] *** Joins: bt3ze (bt3ze@FA5D614A.C9F034A2.B7830B68.IP)
[20:27:01] <mitsuhiko> I have a high interest of helping out if an effort is underway
[20:27:43] <rocode> mitsuhiko: There is a workgroup channel at #rustpkg-wg
[20:28:49] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[20:29:06] <strcat> mitsuhiko: about to open an issue saying 'just use 0install'
[20:29:08] <strcat> ;p
[20:29:18] <mitsuhiko> strcat: that's very simplistic :P
[20:30:06] <strcat> 0install already works really well though
[20:30:39] <rocode> strcat: I am fiddling around with 0install at the moment. It seems to be very stable, but I do agree that automating some of the process would be easier, as there are six different tools available.
[20:30:50] *** Quits: OlivierH (olivier@CFE1ACFA.4D0638.416762B.IP) (Client exited)
[20:31:02] <strcat> well we could definitely generate what it needs
[20:31:12] <strcat> but I do think we should use a tool already able to handle native deps, etc. well
[20:31:15] *** Joins: montezuma (Mibbit@moz-135892A1.west.biz.rr.com)
[20:31:23] <strcat> instead of making yet another pkg manager I will have to bang my head against
[20:32:02] *** Joins: lpy (lpy@9248CA04.F930CE91.65042015.IP)
[20:32:02] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:32:56] <montezuma> how does one update from 0.8 to 0.9 using make?
[20:33:19] <montezuma> or even to master branch
[20:33:20] <montezuma> ?
[20:33:37] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[20:33:42] *** Quits: lpy (lpy@9248CA04.F930CE91.65042015.IP) (Ping timeout)
[20:33:55] <arrdem> git clean -fd ; git pull --all ; make clean; make install; ?
[20:34:23] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[20:34:41] *** Joins: new_one (new_one@565B6F06.B4699C3B.B3C0173E.IP)
[20:34:52] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[20:38:26] *** Quits: fabiand (fabiand@moz-DEF6C6A6.adsl.alicedsl.de) (Client exited)
[20:38:39] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[20:38:42] <rocode> strcat: Not only does it work well enough, but I have been taking a look at the 3.0 port to OCaml and I think with a simplistic toolchain on top of it, we can resolve most of the issues being presented.
[20:40:08] *** Quits: thiago (thiago@705535C9.9074706C.BD25C20F.IP) (Ping timeout)
[20:40:22] <montezuma> arrdem: looks good
[20:40:31] <rocode> The two other proposals involves a blackbox solution no one has scene, and starting the third (fourth?) rewrite of cargo/rustpkg.
[20:40:52] <arrdem> montezuma: did that work? I just guessed :P
[20:41:21] <rocode> s/scene/seen
[20:41:28] <satalha__> hey guys, I'm running make check on some changes I want to commit and I see a lot of warnings about unused variables, is this a problem?
[20:42:16] <montezuma> arrdem: looks like it will
[20:42:42] *** Quits: montezuma (Mibbit@moz-135892A1.west.biz.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[20:42:49] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Ping timeout)
[20:43:09] <arrdem> montezuma: it should.. the classic "build this C/FORTRAN/`make-langs` project" command sequence
[20:43:36] *** Joins: vgeddes (vincent.ge@moz-D8D4FE4D.dsl.mweb.co.za)
[20:43:50] *** jorendorff_away is now known as jorendorff
[20:44:56] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[20:45:14] *** Joins: tq (tq@moz-9FE9CCF4.a251.priv.bahnhof.se)
[20:45:24] *** Quits: hjr3 (hradtke@moz-4CC6BC5F.public.wayport.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:45:41] *** Quits: doomlord_ (servitor@moz-841308DB.range86-160.btcentralplus.com) (Connection reset by peer)
[20:45:58] *** Quits: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP) (Ping timeout)
[20:46:05] <mitsuhiko> strcat: to be honest, i'm fine with any package manager for as long as it ticks all the boxes i want ticked
[20:46:11] <mitsuhiko> which is tricky :)
[20:46:19] <strcat> mitsuhiko: http://0install.net/comparison.html does that? ;p
[20:46:26] <mitsuhiko> strcat: not entirely
[20:46:31] <strcat> there are even a bunch of existing native libs we can depend on
[20:46:44] <strcat> mitsuhiko: what's missing?
[20:46:58] <rocode> Is this where I start quoting the matrix about the number of times we have redone rustpkg in various naming schemes?
[20:47:14] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[20:47:26] <mitsuhiko> strcat: it's anything but simple. that said, i was not aware that they rewrote it
[20:47:32] <rocode> strcat: The biggest gripe from everyone I have spoken to is the lack of a simplistic and easy to use toolchain.
[20:47:43] <rocode> Are in the process of*
[20:47:44] <mitsuhiko> so maybe my opinion is no longer as valid
[20:48:03] <strcat> mitsuhiko: rust was even considered as a language to rewrite it in, but isn't mature enough :P
[20:48:13] <strcat> mitsuhiko: http://roscidus.com/blog/blog/2013/06/09/choosing-a-python-replacement-for-0install/
[20:49:23] <sp3d> I don't understand what rust-specific concerns there are that necessitate a special package manager for it
[20:49:36] *** Joins: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP)
[20:49:48] <sp3d> it seems rust software has dependencies, versions, and compiled artifacts with similar semantics to those of other languages
[20:50:07] <rocode> sp3d, non-flippantly, NIH syndrome with a dose of "we could do it better, simpler, easier, and leaner".
[20:50:45] <eddyb> not sure about the last three
[20:50:46] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[20:50:49] <mcpherrin> sp3d: The (or just mine?) biggest concern was having a modular standard library that didn't have to be shipped in the same codebase
[20:51:05] <mcpherrin> Having a package manager that understood Rust made that easier, maybe
[20:51:24] <strcat> it needs to understand native libs too
[20:51:31] <strcat> ideally, we don't have to package the native libs ourselves
[20:51:45] <strcat> can build whatever rust needs on top of 0install imo
[20:51:50] <mitsuhiko> you also want to integrate the build process into it, at least partially
[20:51:51] <sp3d> coming from a C perspective, the ecosystem of C-and-unix has no particular package manager and mostly gets along fine--but it could be that the difficulty of doing dependency resolution manually discourages the multitude of small, modular libraries that would be ideal
[20:51:52] <strcat> but I really don't think the world needs another package manager
[20:51:54] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[20:52:02] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Ping timeout)
[20:52:12] <strcat> we don't want to deal with making tooling for managing repositories, figuring out package signing and doing it right, etc.
[20:52:18] <mitsuhiko> nobody spends the time to manually make packages otherwise. there needs to be a simple way to compile into a lib and publish it
[20:52:22] <mitsuhiko> but that can be done on top of 0instal
[20:52:28] <sp3d> I've been bitten many times by C libraries that implement really useful logic deep inside private modules that never see the light of day, and hence have to be reimplemented elsewhere in consuming applications
[20:52:28] <strcat> mitsuhiko: yeah, that's what I want ;)
[20:52:36] * sp3d glares at WebKit
[20:52:39] <strcat> mitsuhiko: rust-specific sugar on top, but with the ability to depend on already packaged native libs...
[20:52:43] <strcat> would be great
[20:52:47] *** Quits: maxiepoo_ (Max@moz-DEDB4821.nuwlan.northwestern.edu) (Quit: maxiepoo_)
[20:52:50] <mitsuhiko> strcat: as i said, i was not aware of the 0install rewrite. the old one definitely was not a system i liked using
[20:53:00] <mitsuhiko> (not that i used it properly at all)
[20:53:42] <rocode> http://article.gmane.org/gmane.comp.lang.rust.devel/1217
[20:55:07] <mitsuhiko> rocode: "Developer machines without revision control and internet connections in this day and age are curious paperweights" but what about build machines? :)
[20:55:26] <o11c> build machines always have to be able to install dependencies
[20:55:40] <rocode> mitsuhiko: 0install supports local. I am linking that for sp3d, who was inquiring about previous discussion on this issue.
[20:55:45] <mitsuhiko> o11c: well, my python deployment process does not install dependencies from the internet
[20:55:53] <mitsuhiko> my builder connects to a local pypi cache only
[20:55:59] <mitsuhiko> (since python packages are not signed)
[20:56:01] <mitsuhiko> too risky otherwise
[20:56:25] <o11c> that said: there must be a way to say "just download" in one step and "jsut build" in another
[20:56:47] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[20:57:09] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[20:57:33] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:57:56] *** Joins: kvanb (kvanb@moz-E3B38E24.lnse1.win.bigpond.net.au)
[20:57:58] *** Quits: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com) (Quit: brendan)
[20:58:28] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Ping timeout)
[20:59:08] *** Joins: s_justin (s_justin@moz-C86DE820.asm.bellsouth.net)
[20:59:13] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[20:59:29] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[20:59:31] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[21:00:35] *** Joins: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com)
[21:00:54] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[21:01:19] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[21:02:16] *** Joins: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com)
[21:02:22] *** Joins: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com)
[21:03:10] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[21:03:32] *** Quits: Jesse (jruderman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[21:03:39] *** Parts: s_justin (s_justin@moz-C86DE820.asm.bellsouth.net) ()
[21:05:03] *** Joins: Jesse (jruderman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:05:04] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[21:05:13] *** Joins: mrmonday_ (mrmonday@moz-1E82AE75.members.linode.com)
[21:05:18] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[21:05:23] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[21:06:15] *** Quits: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com) (Quit: brendan)
[21:06:56] *** Joins: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com)
[21:08:35] <cmr> SiegeLord: ping
[21:08:41] <SiegeLord> Yo
[21:08:56] <cmr> Mind if I bounce a few rustgnuplot questions off you?
[21:09:00] <SiegeLord> Sure
[21:09:05] *** Joins: sigma (sigma@C91C7F36.70518F41.9D18269F.IP)
[21:09:58] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[21:10:11] <cmr> So I want to plot some distributions of random functions. Theoretically I could generate infinite samples. I want either a scatter plot, line graph, or histogram. I can't quite see how to do this from the examples... I also have never used plain-gnuplot before.
[21:10:25] *** Quits: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP) (Ping timeout)
[21:10:38] <cmr> (I eventually also want to plot some 3d surfaces which is distribution of (rand, rand) tuples)
[21:10:57] *** Quits: Jesse (jruderman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: Jesse)
[21:11:30] <olsonjeffery> got another blog post onto safari's blog:  http://blog.safaribooksonline.com/2014/01/28/network-communication-serialization-rust/
[21:11:38] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Quit: 랜덤은 쇠퇴했습니다.)
[21:12:15] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[21:12:15] *** Joins: Jesse (jruderman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:12:21] <mcpherrin> olsonjeffery: doesn't HTTP spec \r\n in headers
[21:12:23] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[21:12:33] *** Joins: aperos (Mibbit@moz-1689688F.dyn.optonline.net)
[21:12:34] *** Quits: autra (augustin@moz-BE76895F.fbx.proxad.net) (Ping timeout)
[21:12:40] <olsonjeffery> mcpherrin: where were the many times i posted review copies to the channel!
[21:12:48] <olsonjeffery> where were you*
[21:12:50] <olsonjeffery> :P
[21:12:51] <mcpherrin> :-P
[21:12:51] <SiegeLord> cmr: Why not something like axes2d().lines(x, prob(x), [])?
[21:12:55] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[21:13:02] <mcpherrin> olsonjeffery: obviously somewhere else :-)
[21:13:13] <olsonjeffery> obviously.
[21:14:28] <cmr> SiegeLord: what will it do in the face of an infinite iterator?
[21:14:37] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[21:14:42] <SiegeLord> Nothing good
[21:14:50] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[21:15:08] <SiegeLord> I guess I don't quite get what your distribution is right now... or do you have just some samples?
[21:15:11] *** Joins: notmatt (notmatt@CC62CF7E.1E7FDFDB.A82DBDDB.IP)
[21:15:28] *** Joins: jvrmaia (jvrmaia@3B638C29.261EB871.DF2AC62B.IP)
[21:15:33] <cmr> I want to plot the distributions of various prngs for my own amusement (and also a blog post I'm writing)
[21:16:04] <SiegeLord> I don't have a function to go from a set of samples to a histogram
[21:16:37] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[21:17:07] <cmr> if there's a way to get a histogram at all I can massage the stuff into whatever it needs I imaine
[21:17:27] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[21:17:28] <cmr> ... though it's probably just a bar plot?
[21:17:43] <cmr> .boxes() looks promising
[21:17:58] <SiegeLord> Right, after you got the bins and bin counts, you'd just use boxes()
[21:18:15] <cmr> cool
[21:18:18] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[21:18:49] *** Joins: lkuper (lkuper@5D0E93D8.BBB8E1FF.2A5718D4.IP)
[21:18:54] <cmr> chaining methods will overlay multiple plots in a single figure?
[21:19:41] *** Quits: tdc (santegoeds@moz-1B982511.range31-53.btcentralplus.com) (Quit: Leaving)
[21:20:17] <SiegeLord> Yes
[21:20:37] <mcpherrin> Man, I miss rust features when writing c++
[21:20:50] <jesse98> R is pretty nifty for charting, and very scriptable
[21:21:05] <SiegeLord> I just spent 5 minutes debugging a C++ issues that was caused by a missing return...
[21:21:11] <Ms2ger> Ugh, R :)
[21:21:17] <SiegeLord> Rust (or frankly _any_ sane language) spoiled me
[21:21:24] *** Quits: synackse (jordyd@moz-5171C2FC.seg153.ucf.edu) (Ping timeout)
[21:21:36] <strcat> SiegeLord: well... you can tell the compiler to disallow that
[21:21:47] <SiegeLord> It's called sensible defaults :P
[21:22:01] <jesse98> well, I wouldn't want to do a lot of programming in R but it is nice for charting and analysis
[21:22:24] <strcat> SiegeLord: -fsanitize=undefined :P
[21:22:27] <SiegeLord> Sure I can remember to write -Wall -Wextra -Wsome-more -Werror... but sometimes it's just g++ test.cpp and me
[21:22:42] <strcat> SiegeLord: no, just -Wmost
[21:22:52] <strcat> you're crazy to use gcc for development ;p
[21:23:00] <strcat> it sucks at reporting errors
[21:23:03] * Ms2ger uses gcc for development
[21:23:11] <Ms2ger> It's gotten much better
[21:23:15] <strcat> Ms2ger: not really
[21:23:23] <strcat> Ms2ger: it has sane formatting for them but they are just as bad
[21:23:29] <strcat> caret errors + colors it has, yes
[21:23:33] <strcat> but not nice errors :P
[21:23:45] *** Quits: Jesse (jruderman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: Jesse)
[21:23:57] <SiegeLord> I'd have to set up clang...
[21:23:59] <strcat> -Wmost is a nice way of getting every warning that's not broken
[21:24:09] <strcat> (well, broken or too annoying to actually use)
[21:24:15] <strcat> + http://clang.llvm.org/docs/UsersManual.html#controlling-code-generation
[21:24:20] <SiegeLord> I don't have Wmost
[21:24:21] <strcat> although gcc has some of that copy-pasted now
[21:24:23] <strcat> SiegeLord: clang feature
[21:24:39] <strcat> with gcc you have to go read that warning page and enable 30 flags yourself :)
[21:25:02] <strcat> clang also compiles twice as fast...
[21:25:27] *** Joins: ofeldt- (ofeldt@moz-116342C4.dip0.t-ipconnect.de)
[21:25:28] *** Quits: ofeldt (ofeldt@moz-E9531139.dip0.t-ipconnect.de) (Ping timeout)
[21:25:38] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[21:25:52] *** Joins: doomlord_ (servitor@moz-841308DB.range86-160.btcentralplus.com)
[21:25:55] <eibwen> strcat: in that article you posted earlier, rust's start up performance was very bad. is that a known issue?
[21:26:00] <o11c> strcat: I find clang sucks at warnings more than gcc - at least, the warnings that are meaningful to me
[21:26:17] <strcat> o11c: which ones?
[21:26:21] <o11c> I've pretty much given up on clang entirely - gcc 4.8 is a pretty solid release, development-wise
[21:26:30] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[21:26:37] * strcat shrugs
[21:26:42] <o11c> the bugs I filed a couple years ago that never got fixed
[21:26:42] <strcat> I have the opposite impression :P
[21:27:06] <o11c> -Wmissing-declarations -Wredundant-decls and __attribute__((warning("")))
[21:27:12] <mcpherrin> They both kinda suck for their own reasons
[21:27:28] <Ms2ger> Sure, it's software :)
[21:27:36] <o11c> at least gcc has a sensible release system
[21:28:04] <mcpherrin> llvm trunk is good enough for me :P
[21:28:14] <strcat> o11c: but not a sane codebase or a good attitude about tests :P
[21:28:23] <o11c> mcpherrin: but impossible to distribute for.
[21:28:38] <mcpherrin> o11c: yeah, fortunately that isn't a problem I have to worry about :-)
[21:28:43] <o11c> gcc, I can test every 4.x.y and say what y works for each xx
[21:28:54] *** Joins: Jesse (jruderman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:29:02] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[21:29:11] <o11c> (4.6.1, 4.7.2 for ABI reasons even though it compiles with the others, ...)
[21:29:32] * mcpherrin stuck on gcc 4.5.1 and grumpy about it
[21:30:00] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[21:30:02] *** Joins: skade (skade@moz-B73EE4D5.pools.arcor-ip.net)
[21:30:23] <o11c> hm? I did an analysis lately, and I wasn't aware of anybody using 4.5
[21:30:57] <o11c> 4.4 especially was very popular, and 4.6+
[21:31:07] <mcpherrin> o11c: I think they're fedora 14 machines?
[21:31:45] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[21:31:54] <strcat> mcpherrin: so they're full of security holes? :)
[21:31:55] <mcpherrin> some 2010 era fedora at least.
[21:32:13] * strcat wonders why anyone uses fedora without wanting to update it
[21:32:23] <mcpherrin> strcat: we're trying to upgrade!
[21:32:27] <o11c> I stopped looking at the Fedora chart on distrowatch after the first half-dozen columns ...
[21:32:28] <strcat> well I mean... why don't they use centos
[21:32:35] *** Joins: lpy (lpy@9248CA04.F930CE91.65042015.IP)
[21:32:41] <mcpherrin> I don't actually know
[21:32:48] <mcpherrin> I should go ask the people who do that sort of thing
[21:33:01] <o11c> I'm guessing they needed the latest and greatest at the time of some release
[21:33:18] <mcpherrin> Well I think we managed to keep up to date until around 2010
[21:33:29] <mcpherrin> Then for some reason things went haywire
[21:33:58] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[21:34:12] <strcat> well that's why fedora is a weird thing to deploy, it includes lots of not-just-bugfix/security updates and then it has the 6 month release cycle
[21:34:29] *** Quits: lpy (lpy@9248CA04.F930CE91.65042015.IP) (Ping timeout)
[21:34:37] <mcpherrin> For a long time we were using pretty bleeding edge linux features
[21:34:41] <strcat> ah
[21:34:48] <mcpherrin> In particular namespace stuff
[21:34:59] <strcat> which is still bleeding edge :)
[21:35:07] <strcat> I've been trying to get CLONE_NEWUSER to work for me in 3.13
[21:35:10] <mcpherrin> Network namespaces were written by one of our employees
[21:35:24] <rocode> eibwen: Those tests were from late 2011/early 2012.
[21:35:41] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[21:35:55] <eibwen> rocode: ok, so pretty much outdated. do you know whether it has been improved?
[21:36:28] <strcat> eibwen: well you can choose to not use libstd and it's not more heavyweight than C in terms of memory/performance/size
[21:36:42] <strcat> except for some really minor issues like not outputting TBAA metadata
[21:36:43] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[21:36:46] *** Joins: squiddy (squiddy@moz-B7832642.adsl.alicedsl.de)
[21:37:07] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[21:37:11] <strcat> dunno if libgreen still spins up many threads
[21:37:17] <strcat> at the start
[21:37:18] <cmr> mcpherrin: xmission?
[21:37:31] *** Quits: Blub\1 (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[21:37:37] <strcat> it's definitely not lightweight in terms of size though
[21:37:43] <strcat> ofc, can opt-out
[21:37:46] *** Joins: moostik (Icedove@moz-2B884898.w83-199.abo.wanadoo.fr)
[21:37:51] *** Quits: moostik (Icedove@moz-2B884898.w83-199.abo.wanadoo.fr) (Quit: moostik)
[21:37:52] <mcpherrin> cmr: no, Arista Networks
[21:38:02] *** Quits: mankyKitty (Instantbir@moz-21AD3B58.rev.sfr.net) (Quit: mankyKitty)
[21:38:16] *** Joins: moostik (Icedove@moz-2B884898.w83-199.abo.wanadoo.fr)
[21:38:34] *** Quits: Ms2ger (Ms2ger@moz-EF1E89E8.adsl-dyn.isp.belgacom.be) (Quit: nn)
[21:38:35] <eibwen> opt-out is obviously different from speed-by-default :)
[21:38:44] <mcpherrin> cmr: it is ebiederm@xmission.com if that's what you're going on though
[21:38:50] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[21:39:28] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[21:39:48] <strcat> eibwen: well I think that is a lost cause (and I mean for small-size-by-default)
[21:40:05] <strcat> small size and near zero overhead over C is easily attained
[21:40:20] *** Quits: tq (tq@moz-9FE9CCF4.a251.priv.bahnhof.se) (Quit: tq)
[21:40:44] <bascule> Fedora on servers? o_O
[21:40:55] <mcpherrin> switches, actually
[21:41:01] <bascule> :O
[21:41:12] * strcat would happily use arch linux on a server ;P
[21:41:21] <strcat> not as stable as centos but certainly less buggy than debian stable :P
[21:41:55] <bascule> you know what's nice? support that lasts more than like 8 months
[21:41:56] <o11c> I'm sad about Arch
[21:42:08] *** Joins: Blub\1 (wry@620605B3.71150E1A.237AE2BA.IP)
[21:42:08] <o11c> Arch looks like a decent distro, but they broke python
[21:42:16] <strcat> o11c: 'broke' python? :P
[21:42:17] <bascule> Python broke itself
[21:42:19] <cmr> Python 3 by default is wonderful.
[21:42:20] <mcpherrin> I used to use arch until an update broke everything so I just reinstalled debian :)
[21:42:33] <o11c> so even if I were willing to deal with it myself, I'm still boycotting
[21:42:49] <strcat> o11c: all that changed is the default python when you open 'python'
[21:42:54] <o11c> bascule: no, everybody but Arch agreed to use python3
[21:43:01] <strcat> 2.x releases are backwards incompatible too...
[21:43:07] <o11c> strcat: which broke every single python program written in the last 20 years
[21:43:12] <bascule> o11c: yes, literally everyone but Arch uses PYthon 3
[21:43:14] <bascule> wait
[21:43:17] <strcat> o11c: doesn't 'break' anything
[21:43:17] *** Quits: Jesse (jruderman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: Jesse)
[21:43:17] <bascule> no that's not true at all
[21:43:20] <eibwen> o11c: you don't have to deal with it yourself
[21:43:21] <o11c> DON'T BREAK shebangs
[21:43:22] <strcat> you already have to point them at the right python
[21:43:30] <strcat> o11c: 2.5 broke compat with 2.4
[21:43:33] <cmr> ln -s /usr/bin/python2 /usr/local/bin/python
[21:43:36] <strcat> 2.6 broke compat with 2.5
[21:43:40] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Client exited)
[21:43:43] <mcpherrin> 2.5 to 2.7 are mostly-compatible most of the time
[21:43:45] <eibwen> cmr: that will break things, for sure
[21:43:46] <strcat> dunno about 2.7, but it probably did too
[21:43:52] <o11c> strcat: in very small ways that you can fix in newer versions of your software
[21:43:56] <strcat> mcpherrin: 'most of the time' isn't really good enough... it's worse in fact
[21:44:01] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[21:44:03] <strcat> since it will appear to work and then fail in an edge case
[21:44:06] <arrdem> bascule: that is total shit. Arch user here, /usr/bin/python -> /usr/bin/python3
[21:44:08] <mcpherrin> strcat: yeah, python sucks like that :)
[21:44:19] <bascule> arrdem: you're arguing with the wrong person
[21:44:27] <o11c> it is impossible, in general, to write python code that works with either python version
[21:44:37] <arrdem> bascule: a thousand pardons saiib
[21:44:44] <o11c> some of my stuff uses #!/usr/bin/env python, and some of it uses #!/usr/bin/env python3
[21:44:47] <eibwen> o11c: not really, look at django for example
[21:44:49] <o11c> this works everywhere except on Arch
[21:44:54] *** Joins: spott_ (spott@moz-5158CBDE.colorado.edu)
[21:45:05] <mcpherrin> I use bin/env python2.7
[21:45:08] <o11c> eibwen: sure, it's possible in specific. I've done it myself. But not in general
[21:45:11] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (No route to host)
[21:45:20] <eibwen> oh right, deps
[21:45:21] *** Quits: bt3ze (bt3ze@FA5D614A.C9F034A2.B7830B68.IP) (Client exited)
[21:45:21] <o11c> mcpherrin: doesn't work if you're still supporting python2.6
[21:45:45] <o11c> RHEL6 and Debian are much more important targets than Arch
[21:45:49] <eibwen> o11c: what about /usr/bin/env python2 ?
[21:45:51] *** Joins: bt3ze (bt3ze@FA5D614A.C9F034A2.B7830B68.IP)
[21:45:58] <o11c> eibwen: doesn't exist
[21:46:06] <mcpherrin> o11c: exists on my system :P
[21:46:08] <strcat> o11c: http://www.python.org/dev/peps/pep-0394/ their fault for not following the PEP ;P
[21:46:10] <o11c> python2 did not exist until arch made it
[21:46:17] <mcpherrin> (and I'm on old-ass-fedora_
[21:46:20] <strcat> o11c: it's standard, though
[21:46:27] <strcat> it's what python says to do
[21:46:28] <o11c> then they made a PEP to try to limit the damage
[21:46:35] *** Quits: jvrmaia (jvrmaia@3B638C29.261EB871.DF2AC62B.IP) (Quit: Leaving...)
[21:46:42] <o11c> strcat: that doesn't help for existing distros
[21:46:44] *** Quits: dbaupp (Thunderbir@moz-68C83524.lns20.syd6.internode.on.net) (Ping timeout)
[21:46:48] *** Quits: lkuper (lkuper@5D0E93D8.BBB8E1FF.2A5718D4.IP) (Quit: lkuper)
[21:46:56] <o11c> and frankly, it's a mistake to expect that to change
[21:47:09] <o11c> so I just #!env python and put "screw arch" in comments
[21:47:15] <o11c> because that works for *everyone* else
[21:47:21] <eibwen> for now
[21:47:32] *** Quits: bt3ze (bt3ze@FA5D614A.C9F034A2.B7830B68.IP) (Ping timeout)
[21:47:33] <eibwen> fedora wanted to go python3 only in the base install
[21:47:36] <eibwen> IIRC
[21:47:38] <rocode> strcat: What is "standard" doesn't always end up that way. Developing against python3 for django across multiple distributions is the source of many of my nightmares.
[21:47:46] <o11c> eibwen: it will be several years before env python2 exists everywhere
[21:47:48] <mcpherrin> eibwen: fedora likes fucking with things almost as much as Arch does :P
[21:47:52] <strcat> o11c: how does python not have version markers like perl has had for ages anyway?
[21:47:55] <arrdem> o11c: what are you expecting env python to do? I get py 3.3.3 for that, which is fine.
[21:48:01] <strcat> 2.4 -> 2.5 was equally problematic...
[21:48:09] <strcat> still lots of 2.x code breaking when you try to run it in 2.7
[21:48:21] <o11c> arrdem: I expect it to be python2.x, which it has been for years
[21:48:31] <o11c> strcat: all that code could be fixed. Not so for Arch's breakage
[21:48:32] <strcat> o11c: it was the most recent release of python, for years
[21:48:35] <mcpherrin> let's just stop using python
[21:48:46] <mcpherrin> :-)
[21:48:48] <mcpherrin> Rust!
[21:48:57] <eibwen> yea, apparantly everyone here uses py :)
[21:49:06] * mcpherrin uses python @ work :-P
[21:49:07] * cmr teaches python for money
[21:49:08] <o11c> mcpherrin: I do think python3 has, overall, weakened python
[21:49:10] <rocode> mcpherrin: Python is firmly entrenched in the academic sector.
[21:49:16] * steveklabnik codes ruby at a python shop ;)
[21:49:24] <strcat> rocode: well, julia will eat their lunch
[21:49:25] <steveklabnik> may i suggest something?
[21:49:30] <strcat> rocode: just give it 5-10 years
[21:49:31] <steveklabnik> this is all getting WAAAAAAAAY off topic
[21:49:32] <strcat> ;P
[21:49:44] <cmr> #rust-python !
[21:49:50] <mcpherrin> What I really want a is a shell/scripting replacement based on Rust :-)
[21:49:53] <cmr> (because #rust-offtopic is for cat gifs)
[21:50:08] <steveklabnik> mcpherrin: just use Any
[21:50:17] <rocode> steveklabnik: Not when we are talking about python's implementation of its packaging system. As linked in #rustpkg-wg http://i.imgur.com/vL8q5Tb.jpg
[21:50:57] <mcpherrin> steveklabnik: I'm thinking a minimal scripting language that basically lets you call Rust functions and exec programs
[21:51:03] <SiegeLord> lol
[21:51:53] <bascule> RustScript!
[21:51:54] <o11c> typing braces is not fun ...
[21:52:15] <rocode> Someone proposed implementing a squirrel binding for rust.
[21:52:17] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.3.1)
[21:52:18] <eibwen> yea, that's one thing py is good at
[21:52:20] <eibwen> no braces
[21:52:41] <strcat> haskell does it way better than python
[21:52:41] <o11c> #[future(no_braces)];
[21:53:05] <bascule> strcat: oh god yes
[21:53:07] <strcat> python manages to do it in a way where significant indentation means you have lots of statement vs. expression problems
[21:53:13] <bascule> yes yes yes!
[21:53:24] <bascule> Python doesn't let you have indentation blocks in expressions
[21:53:26] <bascule> that's crazysauce
[21:53:40] <o11c> bascule: keep it in #rust-masturbation please ...
[21:53:40] <bascule> want an if statement inside a lambda? too bad, use a named function. your lambda is too long
[21:53:44] *** Quits: spott_ (spott@moz-5158CBDE.colorado.edu) (Connection reset by peer)
[21:53:47] <bascule> o11c: o_O
[21:53:53] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[21:53:57] <o11c> lambdas are the one weak point in python
[21:54:04] <strcat> 'one weak point'
[21:54:10] <o11c> but since it shows in backtraces, named is better
[21:54:15] <tiffany> the thing I'm most annoyed by with python is having to always figure out which python I need to run with
[21:54:16] <o11c> strcat: syntax-wise, I mean
[21:54:19] <strcat> no block scope, has var hoisting like js and weird global/nonlocal keywords
[21:54:23] <strcat> o11c: statements.
[21:54:29] <strcat> haskell does significant indentation way better :P
[21:54:31] <tiffany> is it so hard to put #!/usr/bin/env python2 at the top of files
[21:54:38] <bascule> strcat: cannot agree enough
[21:54:44] <o11c> tiffany: it doesn't work on well over 50% of the target platforms
[21:54:52] <bascule> strcat: then you toss in implicit line joining in Python...
[21:54:54] <strcat> as someone who uses python a lot, I can sure complain for a long time about it
[21:55:03] <tiffany> haskell (and many other FP languages) have very lovely indentation-based scopes
[21:55:14] *** Joins: synackse (jordyd@moz-E7A9AB16.seg59.ucf.edu)
[21:55:15] <mcpherrin> haskell is pretty nice syntactically
[21:55:19] <strcat> I honestly think even ES6 is a better *language* than python, but people don't use python as a language - they use it for the library ecosystem
[21:55:20] <tiffany> o11c: but it doesn't error on the platforms it doesn't work on, does it?
[21:55:38] <tiffany> sure it might not work on windows, but at least it works on linux with no detrement to windows users
[21:55:41] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[21:55:43] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Connection reset by peer)
[21:55:54] <strcat> I use python so I can grab numpy/scipy/matplotlib, lxml, requests, nltk, [...]
[21:55:56] <Amaranth> A big early draw of python for me was "batteries included"
[21:55:57] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[21:56:00] <mcpherrin> tiffany: lots of linux distros don't ship a "python2" binary so it doesn't work
[21:56:05] <tiffany> hm
[21:56:06] <cmr> the included batteries suck
[21:56:13] <mcpherrin> better than C's :P
[21:56:17] <tiffany> version number attributes at the top of files are underrated
[21:56:21] <strcat> ^^^
[21:56:24] <strcat> perl does that right
[21:56:26] <strcat> ;P
[21:56:28] <Amaranth> cmr: You learn later that some are junk sure but it's nice to get started
[21:56:29] <mcpherrin> Perl has a lot of things done right
[21:56:31] <tiffany> glsl does it pretty good
[21:56:39] <SiegeLord> No it doesn't :P
[21:56:42] <strcat> it does
[21:56:49] <SiegeLord> You can't use the same GLSL file for desktop GL and GLES
[21:56:52] <strcat> perl is a huge language, so ofc it does a lot right - since it does SO much
[21:56:57] <strcat> oh
[21:56:59] <strcat> you meant glsl
[21:56:59] <o11c> tiffany: I'm not making the error go away on 5% and break it on 50%
[21:57:02] <mcpherrin> strcat: yeah, it does a ton of things wrong too ;_)
[21:57:16] *** Quits: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com) (Quit: johnmurray)
[21:57:19] <tiffany> o11c: how does it break it?
[21:57:24] <o11c> SiegeLord: just ifdef, right?
[21:57:27] <strcat> C++ does a lot of things right too, it just picked the right way after reserving the nice syntax for the wrong way
[21:57:29] <Amaranth> SiegeLord: Leave out the version and desktop will assume GLSL 1.50 while ES will assume... I forgot what their version was
[21:57:30] <SiegeLord> o11c: No
[21:57:34] <o11c> tiffany: the fact that $PATH/python2 just plain doesn't exist
[21:57:40] <SiegeLord> Amaranth: Only if that assumed version works for you :P
[21:57:41] <tiffany> so? it wouldn't have worked anyway
[21:57:53] <rocode> Wait, you guys don't use braces in python? http://pastebin.com/XmMwJzq2
[21:57:59] <SiegeLord> o11c: #version has to be the first non-comment thing, it can't be inside the pre-processor block
[21:58:07] <Amaranth> SiegeLord: If you're writing the same shader for desktop and ES 1.50 had better be more than you need otherwise you're using things ES doesn't have :P
[21:58:29] <Kambfhase> rocode: not sure if serious…
[21:58:32] <mcpherrin> rocode: hah, a pylint pass to enforce indenting to match #{ #} braces would be pretty funny
[21:58:35] * vertexclique I coded a python script just once.
[21:58:48] <SiegeLord> Amaranth: I can add pre-processor blocks elsewhere in the shader
[21:59:04] * strcat can make an enormous list of what he doesn't like about any language he's used
[21:59:13] <rocode> The best part is, Kambfhase, Guido eventually implemented brace syntax for real, but sabotaged it to near uselessness.
[21:59:17] <mcpherrin> strcat: Welcome to software :P
[21:59:22] <Amaranth> SiegeLord: Eh, I think I'd rather just have different files when you get to that point
[21:59:32] <rocode> Every line requires a docstring etc.
[21:59:38] <Kambfhase> mkay
[21:59:45] <Amaranth> If I have enough shared code I can just toss my own preprocessor step in to include a common blob of functions
[21:59:47] <strcat> mcpherrin: there's lots of software I love though :P
[22:00:04] <mcpherrin> strcat: I don't know there's a single programming language I completely love
[22:00:16] <strcat> well there isn't a programming language I 'completely' love
[22:00:26] <tiffany> lambda calculus
[22:00:30] <strcat> maybe I should make a list of what I actually want to save time complaining
[22:00:44] <tiffany> there is nothing to hate
[22:00:44] *** Quits: heftig (heftig@moz-D3E045E2.dip0.t-ipconnect.de) (Ping timeout)
[22:00:46] <bascule> strcat: just switch to PHP and call it good
[22:00:46] <strcat> rust is clearly not actually what I want, just closer to it :P
[22:00:51] <o11c> I want something both pretty and powerful
[22:00:55] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[22:01:01] *** Joins: heftig (heftig@moz-D3E045E2.dip0.t-ipconnect.de)
[22:01:11] <Amaranth> I want something where I speak to it for a while and it spits out a program. I think that might be called a programmer though
[22:01:47] <mcpherrin> tiffany: lambda calculus is pretty okay :P
[22:01:49] <strcat> o11c: http://nimrod-lang.org/ (but it requires GC! and has weird case/underscore-insensitive variables, nullable ptrs by default, [...])
[22:02:01] <jasom> Amaranth: assuming you want a useful program at the end, it doesn't exist; natural languages are too ambiguous
[22:02:12] <o11c> I really do with there was a good string-processing language
[22:02:12] <mcpherrin> nimrod and julia are the next two languages I want to look at
[22:02:16] <o11c> don't mention perl, it's only powerful
[22:02:18] <strcat> and the thing about real-time gc is only true if you don't make cycles
[22:02:25] <strcat> soft real-time*
[22:02:49] <o11c> and awk and sed are not powerful enough ...
[22:02:50] <strcat> mcpherrin: julia's way of doing JIT compilation is a bit hilarious
[22:03:01] <jasom> strcat: Well by that definition, rust has real-time gc without cytles; it's called "std::rc"
[22:03:03] <strcat> mcpherrin: so, how do you deal with dynamic typing? well, just compile each function for each set of type parameters
[22:03:04] <bascule> strcat: what do you think about Idris?
[22:03:21] <strcat> bascule: dunno, haven't learned/used it
[22:03:23] <mcpherrin> strcat: that's not the worst ever
[22:03:25] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Input/output error)
[22:03:31] <strcat> mcpherrin: yeah, it's fine
[22:03:38] <strcat> it's just amusing to me
[22:03:44] <mcpherrin> strcat: does it compile when the function gets called?
[22:03:51] <strcat> mcpherrin: yes, afaik
[22:03:55] <strcat> mcpherrin: uses the LLVM JIT
[22:04:03] <mcpherrin> that .. could have interesting perf
[22:04:07] <tiffany> strcat: well that's exactly how C++ and rust do generics isn't it?
[22:04:13] <Amaranth> Wait, it's a method JIT that spits out a copy for every combination of types you could use, not that you do use?
[22:04:18] <tiffany> and how JS's JIT works
[22:04:23] <tiffany> and lua's as well
[22:04:35] <strcat> tiffany: afaik neither JS/lua specialize the code if it's not hot
[22:04:40] <tiffany> oh
[22:04:41] <tiffany> yeah
[22:04:43] <strcat> well, any JS implementation I know of
[22:04:49] <strcat> and luajit
[22:05:00] <Amaranth> And when they specialize it they don't spit out a version for every type you could use just the types that are hot
[22:05:10] <tiffany> I imagine anything using llvm's jit would specialize over non-hot code
[22:05:14] <strcat> Amaranth: well it's the types you do use, but it's for every method, not just hot ones
[22:05:17] <strcat> (in julia)
[22:05:31] <o11c> tiffany: llvm doesn't have a jit
[22:05:32] <Amaranth> Alright, well that's not terrible then
[22:05:38] <o11c> tiffany: it has an in-process aot
[22:05:47] <Amaranth> Not great either
[22:05:47] <strcat> o11c: well that's what they call JIT compilation
[22:05:51] <strcat> it's support for a JIT compiler
[22:05:54] <strcat> not a JIT compiler alone
[22:06:11] *** Quits: synackse (jordyd@moz-E7A9AB16.seg59.ucf.edu) (Ping timeout)
[22:06:16] <strcat> apple has plans to use it in webkit
[22:06:35] <o11c> oh please no
[22:06:35] <strcat> ofc they're not going to compile *everything* with it, just the really hot code they want to specialize
[22:07:18] <o11c> I'm sick and tired of web browsers getting bloateder - do something faster on a benchmark but forget that other people want RAM too
[22:07:20] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[22:07:20] <strcat> webkit will soon just be safari, anyway...
[22:07:44] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:08:13] <tiffany> browsers like to take the cpu perf when they run into cpu/mem tradeoffs
[22:08:33] <tiffany> would you rather have a browser which uses 10mb of ram but takes 5 minutes to render a page?
[22:08:54] <eibwen> tiffany: sometimes, yes! :)
[22:09:06] <strcat> tiffany: I'd rather use a native Qt application
[22:09:20] <o11c> tiffany: on a heavily loaded system, it would probably be faster actually
[22:09:25] <strcat> ;P
[22:09:28] <tiffany> strcat: well clearly that isn't always an option, unfortnuately
[22:09:35] <tiffany> I'd rather use one as well
[22:09:37] *** Joins: Jesse (jruderman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[22:09:47] <tiffany> assuming it isn't a subset of the functionality of the website, in twitter's case
[22:10:13] *** Joins: anonymous_29563 (Mibbit@moz-A082F561.adsl.xtra.co.nz)
[22:10:15] * o11c has used chromium since the 5.x days or so, and weeps for it
[22:10:52] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[22:10:53] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[22:11:00] <o11c> I also think that a major problem with browsers is that they don't have adblock builtin ... maybe I should look into privoxy again
[22:11:05] <tiffany> I have both firefox and chromium running
[22:11:07] <strcat> I can't stand chromium due to the terrible font rendering (doesn't use fontconfig) and terrible UI
[22:11:10] *** Quits: heftig (heftig@moz-D3E045E2.dip0.t-ipconnect.de) (Ping timeout)
[22:11:10] *** Joins: synackse (jordyd@moz-E7A9AB16.seg59.ucf.edu)
[22:11:30] <strcat> but I am nearing the point where I can't stand firefox due to js being able to block the ENTIRE browser + vimperator/pentadactyl (which make it usable) rotting
[22:11:32] * strcat cries
[22:11:35] <bascule> strcat: oh weird re: Julia
[22:11:39] <tiffany> youcompleteme (the vim autocomplete plugin) often uses more ram than firefox
[22:11:49] <strcat> tiffany: how big is that project? o_O
[22:11:56] <eibwen> o11c: if they had adblock built-in, people will circumvent it for sure
[22:12:05] <tiffany> well, I have vim-sessions
[22:12:05] <o11c> I'm planning on migrating to luakit sometime I think ... but I'm still in the middle of the bash -> zsh transition
[22:12:05] <eibwen> *much more
[22:12:10] <strcat> o11c: privoxy can't element collapse
[22:12:16] <strcat> o11c: look at dwb.
[22:12:18] <tiffany> I've nearly accumulated every single file in my game engine in my open buffers with vim
[22:12:20] <bascule> font rendering is terrible in all browsers :(
[22:12:24] <tiffany> which is 12000 lines of C
[22:12:28] * John-Galt continues to main Pentadactyl, ftr.
[22:12:43] <strcat> o11c: dwb has an amazing UI and adblock... I am so close to abandoning pentadactyl/vimperator for it
[22:12:44] <tiffany> every single one of them contributing to ycmd's memory usage
[22:12:57] <strcat> o11c: if only it used blink/v8 instead of webkit :(
[22:12:58] <mcpherrin> strcat: vimperator is pretty bad for blocking the thread :/
[22:13:14] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Client exited)
[22:13:17] <Matthias247> I don't think that LOC correlates with mem-usage ;)
[22:13:22] <tiffany> it's only using 100mb right now because I haven't actually accessed the buffers yet
[22:13:33] <tiffany> I don't think it loads up autocompletion for files unless you actually view them
[22:13:35] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[22:13:50] <o11c> recent chromium has some pretty bad font errors ... hover over something in italics, it rewraps everything ...
[22:13:55] <Matthias247> I could use 8gb with a few lines of Matlab ;)
[22:14:00] <o11c> all sorts of stuff overflowing a div ...
[22:14:05] <eibwen> strcat: dwb?
[22:14:17] <strcat> eibwen: browser
[22:14:25] <strcat> http://portix.bitbucket.org/dwb/
[22:14:29] <tiffany> matthias: this is about ycmd building up a big autocomplete database from my code, not the code itself using memory
[22:15:03] <tiffany> the code itself uses about 100mb resident memory usage
[22:15:16] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Ping timeout)
[22:15:30] <Matthias247> that's what I mean. You can load lots of memory independent from your actual code size
[22:15:38] <olsonjeffery> strcat: i have up on pentadactyl/vimperator a while back
[22:15:46] <tiffany> what does that have to do with anything though?
[22:15:51] <olsonjeffery> which sucks because, when you stop using them, there's a lot of muscle memory stuff you miss
[22:15:53] *** Joins: future_horizons (Mibbit@D43271B6.278C2F23.97BBD552.IP)
[22:15:56] <tiffany> if you opened up those few lines of matlab, ycmd would not use 8gb of memory
[22:16:03] <strcat> olsonjeffery: well, at some point I'm going to jump ship for dwb
[22:16:06] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Client exited)
[22:16:09] * strcat shrugs
[22:16:15] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[22:16:18] <strcat> if only gnome/gtk switched to blink too...
[22:16:47] <strcat> maybe I should just make my own qt vim-like browser :P
[22:16:59] <tiffany> strcat: with servo!
[22:17:03] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[22:17:08] <Matthias247> tiffany: it was not about using ycmd for matlab. Sorry, I missunderstood it. Thought ycmd is 10kloc, but you ment you've loaded a 10kloc project with it
[22:17:22] <strcat> tiffany: with qt's built-in browser support :P
[22:17:22] *** Quits: sigma (sigma@C91C7F36.70518F41.9D18269F.IP) (Ping timeout)
[22:17:26] <tiffany> I have no idea how big ycmd, just that it's written in python
[22:17:36] <strcat> tiffany: youcompleteme is part C++, part python
[22:17:55] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Ping timeout)
[22:18:00] <strcat> unless you meant something else
[22:18:12] <Matthias247> eclipse for c++ projects is also horrible on resources
[22:18:47] <Matthias247> Qt creator feels really good and fluid. Although I didn't look how much memory it consumes
[22:18:47] <tiffany> I messed up
[22:18:59] <future_horizons> ...but borrowed value is only valid for the method call at (&path).clone().as_str().unwrap(); - is there anyway to keep this to a one line let?
[22:19:07] <tiffany> I guessed it was python because the process's command was started as python
[22:19:31] <strcat> tiffany: well, vim has python plugin support and then it uses C++ from there
[22:19:41] <tiffany> I think the in-vim code is python, the server itself is python, and the code to actually handle the completion database is C++
[22:19:53] <strcat> ah
[22:19:58] <sp3d> strcat: what's wrong with webkit that Blink gets right? just v8 being fast?
[22:20:04] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[22:20:24] <marc_> Is https://air.mozilla.org/rust-meetup-january-2014/ going to be recorded?
[22:21:40] <strcat> sp3d: well, chromium is open-source so by using blink you have access to a whole browser (and any random thing like webrtc)
[22:21:44] <strcat> sp3d: http://blog.qt.digia.com/blog/2013/09/12/introducing-the-qt-webengine/
[22:21:45] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[22:21:50] <strcat> atm dwb feels like it's missing a lot
[22:21:55] <strcat> and yeah, webkit js is slow :P
[22:22:27] <eibwen> dwb looks kinda great
[22:22:40] <Matthias247> strcat: but QT also ditched V8 from QML ;)
[22:22:59] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[22:23:00] *** Joins: ktt3ja (ktt3ja@moz-85E2770C.hsd1.va.comcast.net)
[22:23:47] <strcat> Matthias247: for their weird language extensions :P
[22:24:02] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[22:24:14] * strcat doesn't really understand why js is a good fit for that
[22:24:22] <Matthias247> I also don't
[22:24:34] <strcat> they could have used lua and done easy extensions without implementing a new VM, etc.
[22:24:36] <Matthias247> we're now going for QT/QML for HMI at work
[22:25:15] <Matthias247> I ported my library to it. There are some things I really like about QT. At least more than the c++ stdlib
[22:25:34] <Matthias247> but I find the QT <-> QML interface just bad
[22:25:58] <strcat> gnome-shell is a nice case study in why it's a bad idea :P
[22:26:16] *** Joins: twi (Adium@moz-B47EFC08.dyn.iinet.net.au)
[22:26:21] <strcat> 4MiB of memory usage -> 100-500MiB (and lots of leaks), and what do you really get from it?
[22:26:23] <Matthias247> it uses qt/qml?
[22:26:23] * strcat shrugs
[22:26:31] <strcat> Matthias247: no it's written in js
[22:26:34] <strcat> gjs
[22:26:59] <Matthias247> I think they all go for js juste because it's well known
[22:27:16] <strcat> it uses as much as firefox with a dozens tabs open (which, as with web browsers, varies a lot based on how much it has decided to leak)
[22:27:34] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[22:27:47] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Quit: )
[22:27:52] <strcat> Matthias247: *polkit* uses js now :\
[22:27:58] <strcat> the rule files are js
[22:28:19] <Matthias247> But at least I have no Ram problem. bought 16gb when it was cheap ;)
[22:28:21] <strcat> oh look, a user wants to reboot - well, the sysadmin only let you reboot on tuesdays during a full moon
[22:28:49] <strcat> Matthias247: well, my laptop battery doesn't care for needless CPU wakeups...
[22:29:42] <Matthias247> that's a problem when the meetings are > 4hours - just like yesterday :(
[22:30:09] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:30:13] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[22:30:35] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Ping timeout)
[22:30:35] <Matthias247> but that's no problem of JS but a problem of people in our company liking to talk more about software development than doing software development ;)
[22:31:32] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[22:31:49] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[22:32:45] <strcat> ugh
[22:32:50] <strcat> github changed all the css again
[22:32:55] * strcat sighs
[22:33:13] <strcat> why‽‽‽
[22:33:20] *** Joins: lpy (lpy@9248CA04.F930CE91.65042015.IP)
[22:35:04] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[22:35:15] *** Quits: lpy (lpy@9248CA04.F930CE91.65042015.IP) (Ping timeout)
[22:35:20] <Kjelle> I have a hard time getting code involving static lifetimes to compile. Is there some place to read up on that?
[22:35:33] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[22:36:14] <eibwen> strcat: I don't s ee no changed css
[22:36:19] <strcat> eibwen: open an issue
[22:36:22] <strcat> or pull req
[22:36:33] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[22:36:35] <eibwen> oh
[22:36:40] <eibwen> it looks flatter
[22:36:53] <eibwen> win8 style...
[22:36:57] <strcat> and more padded, yep
[22:37:14] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[22:37:15] <strcat> now barely anything fits on a page ;)
[22:37:17] <acrichto> mentions of issues from PRs are really small now
[22:37:19] <acrichto> https://github.com/mozilla/rust/issues/11422
[22:37:26] <acrichto> you can barely tell there's a PR mention :(
[22:37:33] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[22:37:45] <strcat> acrichto: Comments now stand out as the most important elements in a conversation. Comments that you make are also highlighted blue. Anything that isn't a comment—like commits or issue references—has been subdued to better differentiate content. 
[22:37:48] <strcat> ;s
[22:37:57] <strcat> I wonder if they fixed the ordering 
[22:37:59] <acrichto> well, it's a decision!
[22:38:01] <acrichto> lol I doubt it
[22:38:05] *** Quits: Ferreus (ferreus@moz-80E5D971.pools.arcor-ip.net) (Quit: WeeChat 0.4.3-dev)
[22:39:01] *** Quits: Jesse (jruderman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: Jesse)
[22:39:14] <strcat> on the positive side they made the label UI better
[22:39:46] *** Joins: mojoB (mojoB@moz-A4312114.static.exetel.com.au)
[22:41:12] *** Joins: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[22:41:12] *** ChanServ sets mode: +ao brson brson
[22:41:42] *** Quits: skade (skade@moz-B73EE4D5.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:41:45] *** Quits: oz (oz@moz-20EC2160.net) (Input/output error)
[22:41:55] *** Joins: oz (oz@moz-20EC2160.net)
[22:43:17] <olsonjeffery> ChrisMorgan: as i said to mcpherrin: where were you the many times i posted reviews copies of the post in-chan :P
[22:43:31] <mojoB> has anyone been able to get rust cross compiling to arm for soft-float abi, i'm running into std.rc:(.text+0x27bd0): undefined reference to `fmaf', which is fair enough, my libm.so doesn't have that 
[22:43:37] <ChrisMorgan> olsonjeffery: not there, clearly. Alas!
[22:43:47] <olsonjeffery> so it goes, indeed
[22:43:51] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[22:43:53] <ChrisMorgan> (Otherwise I *would* have checked and commented on it.)
[22:43:56] <olsonjeffery> ChrisMorgan: but otherwise the post isn't too offensive?
[22:44:03] <olsonjeffery> it's hard to write about I/O
[22:44:06] <olsonjeffery> because of the churn
[22:44:10] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[22:44:19] <olsonjeffery> those posts will be basically useless by the next major release :/
[22:44:20] <ChrisMorgan> Oh, hard-coding HTTP requests is always a cringe-worthy thing, but yeah, it looks fine to me.
[22:44:43] <olsonjeffery> heck, conditions are gone from master as it is.
[22:44:48] *** Quits: Kjelle (karl@moz-EF3421F5.bredband.comhem.se) (Quit: Kjelle)
[22:45:02] <olsonjeffery> ChrisMorgan: yes. my 800 word blog post is going to include a digression on designing a type-system-driven solution for programmatic headers :P
[22:45:11] <olsonjeffery> i should just rename it to "using rust-http"
[22:45:21] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Connection reset by peer)
[22:45:42] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:45:48] * ChrisMorgan is writing HTTP/0.9 client and server libraries and an accompanying tutorial in writing such a thing, rust-http0.9, and will keep it up to date with Rust master
[22:46:06] <ChrisMorgan> Conditions are gone?
[22:46:10] <olsonjeffery> yeah
[22:46:15] <acrichto> ChrisMorgan: not quite yet, they're on the way out though
[22:46:18] <olsonjeffery> the IO APIs dont fail anymore
[22:46:26] <olsonjeffery> acrichto: i couldn't catch a condition in .bind
[22:46:27] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:46:29] <olsonjeffery> on TcpListener
[22:46:37] <acrichto> olsonjeffery: hm, that's odd, you should be able to?
[22:46:46] <olsonjeffery> yeah
[22:46:46] * ChrisMorgan knew they were going to be removed but wasn't aware that the process had actually begun
[22:46:54] <olsonjeffery> it got swept up in the Option-changes
[22:47:07] <acrichto> olsonjeffery: https://github.com/xales/rust/commit/e901c4caf30353f6adf12e6b10a46a4de517ec9d
[22:47:09] <olsonjeffery> that was what my testing showed against master
[22:47:11] <acrichto> that was committed recently
[22:47:36] <olsonjeffery> hm
[22:47:42] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[22:48:52] <ChrisMorgan> Working with conditions I have noticed a concerning pattern (in my own code too) of just unwrapping Option<T> from a condition-raising thing, so that even if you handle the condition the task will fail. In a library, that's a big no-no.
[22:49:03] <SiegeLord> Hmm... I thought CTFE was going to mimic the phase stuff of macros
[22:49:27] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[22:50:02] <Matthias247> ChrisMorgan: that's generally a problem with error handling -> Many people ignore it. Whether you use Results, Conditions or Exceptions is irrelevant
[22:50:34] <ChrisMorgan> With Result it was considerably harder to ignore other than deliberately.
[22:50:56] <ChrisMorgan> With exceptions a library doesn't need to worry about it—it can let its caller decide whether or not to handle it.
[22:51:02] <acrichto> ChrisMorgan: don't worry, conditions are on their way out :)
[22:51:28] * ChrisMorgan should bone up on these dynamically scoped variables and what they change in the interface
[22:52:07] <olsonjeffery> acrichto: it looks like just bind doesn't raise, anymore?
[22:52:17] <Matthias247> ChrisMorgan: the problem for exceptions it that the caller won't know what exception could happen. So it would usually crash too. It is the reponsibiility of the library to catch all low-level exceptions and do something with it that the application can understand (probably another exception)
[22:52:26] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[22:52:27] <olsonjeffery> it definitely *used* to.. i had my conditions-example in my blog post using it
[22:52:38] <olsonjeffery> as a way to tease out a condition handling situation
[22:52:42] <acrichto> olsonjeffery: https://github.com/mozilla/rust/blob/master/src/libstd/io/net/tcp.rs#L86-L90
[22:53:00] <olsonjeffery> is that what maybe_raise does?
[22:53:03] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Connection reset by peer)
[22:53:08] <acrichto> LocalIo::maybe_raise will raise on error (or when local I/O isn't present)
[22:53:08] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[22:53:13] *** Quits: Kxepal (Miranda@moz-9BB50C73.pppoe.mtu-net.ru) (Quit: Kxepal)
[22:53:16] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[22:53:27] *** Joins: Kxepal (Miranda@moz-9BB50C73.pppoe.mtu-net.ru)
[22:53:31] <olsonjeffery> ah i see it
[22:53:34] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[22:53:49] <olsonjeffery> hm. so i wonder why it just returned a None and never raised a condition.
[22:53:55] <acrichto> that's odd...
[22:54:04] <olsonjeffery> i guess ill write up an example
[22:54:19] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[22:55:11] *** Quits: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com) (Quit: brendan)
[22:55:42] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[22:56:13] <Matthias247> ChrisMorgan: probably interesting for you if you want to play around more with http server development: https://github.com/Matthias247/revbio
[22:57:54] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[22:58:25] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[22:58:56] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[22:58:56] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[22:59:19] *** Joins: dbaupp (Thunderbir@32742E97.D5A1DCF.37681C44.IP)
[22:59:32] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[22:59:42] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[22:59:44] *** Joins: Jesse (jruderman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[23:00:07] *** Quits: sellout (Adium@2917A62E.8B65BA63.1D2A2C57.IP) (Quit: Leaving.)
[23:00:09] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:00:36] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[23:00:49] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[23:00:55] <ChrisMorgan> Matthias247: where do you feel that fits in in comparison with acrichto's method of letting the TcpStream be cloned?
[23:01:11] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:01:34] *** Quits: assaf (assaf@2C205411.2D501DF2.9E22F775.IP) (Ping timeout)
[23:02:50] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[23:02:57] <dbaupp> jasom: I saw you wondering about &mut, loops and recursion in the logs. It is possible it just requires a little trick: https://github.com/mozilla/rust/issues/11558#issuecomment-32336881
[23:03:13] <dbaupp> (also, github's issue UI has just changed dramatically!)
[23:03:16] *** Quits: rdn (rdn@moz-3FCD2726.tk) (Ping timeout)
[23:03:21] *** Joins: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com)
[23:03:56] <Matthias247> ChrisMorgan: Now they both solve the problem the issue is about. But apart from that they are quite different
[23:04:35] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Quit: Leaving)
[23:04:41] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[23:04:44] <jasom> dbaupp: thanks; care to explain how that works?
[23:04:54] <dbaupp> (oh, it seems I'm late to the UI-change party...)
[23:05:29] <dbaupp> jasom: it allows the compiler to recognise that the reassignment of `thing` and the internal borrow don't overlap
[23:06:02] <dbaupp> i.e. it call tell that `thing` isn't/doesn't have to be borrowed when you overwrite it
[23:06:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:06:25] <dbaupp> (whereas without the `tmp` variable, it thinks that overwriting `thing` may invalidate the `next` reference.)
[23:06:29] *** Joins: rdn (rdn@moz-3FCD2726.tk)
[23:06:48] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[23:07:04] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[23:07:13] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[23:07:41] <Matthias247> ChrisMorgan: mine let's you handle a lot of connections on single-native tasks and also works for other contructs. But it doesn't let you write straightforward synchronous code. But imho that doesn't work for most advanced tasks anyway
[23:07:42] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[23:09:04] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[23:09:04] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Connection reset by peer)
[23:09:08] <jasom> dbaupp: I had tried so many iterations (including two temporary variables) and couldn't hit upon that one way of getting it right; thanks!
[23:09:17] * jasom goes back to writing tree
[23:09:19] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[23:09:48] <dbaupp> jasom: I missed it too (hence filing the bug)... fortunately acrichto knows what's what with borrowck. :)
[23:09:50] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[23:09:50] *** ChanServ sets mode: +o tjc
[23:10:06] <acrichto> I know about borrowck?
[23:10:19] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[23:10:30] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[23:10:43] <dbaupp> acrichto: when iterating through trees, yes
[23:11:07] <acrichto> lol
[23:11:08] *** Joins: jvrmaia (jvrmaia@3B638C29.261EB871.DF2AC62B.IP)
[23:11:21] <dbaupp> you should set up a consulting business for that
[23:12:17] *** Quits: vgeddes (vincent.ge@moz-D8D4FE4D.dsl.mweb.co.za) (Ping timeout)
[23:13:21] *** Joins: spott_ (spott@moz-5158CBDE.colorado.edu)
[23:13:21] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Connection reset by peer)
[23:13:35] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[23:14:12] <olsonjeffery> Matthias247: this is a pretty neat library
[23:14:14] *** Quits: rca (rcatolino@moz-27E0D9CF.adsl.proxad.net) (Ping timeout)
[23:15:05] *** Quits: io2 (io2@moz-871549F5.home.otenet.gr) (Ping timeout)
[23:15:15] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[23:16:22] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[23:16:35] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[23:18:52] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[23:19:23] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[23:19:35] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[23:19:35] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[23:20:17] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[23:20:34] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[23:20:38] *** Quits: synackse (jordyd@moz-E7A9AB16.seg59.ucf.edu) (Ping timeout)
[23:20:41] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[23:20:59] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[23:21:05] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[23:21:38] *** Quits: jvrmaia (jvrmaia@3B638C29.261EB871.DF2AC62B.IP) (Quit: Leaving...)
[23:22:22] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[23:22:45] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[23:22:49] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Quit: Savago)
[23:23:33] <kmc> can I convert ~Trait to &Trait?
[23:24:59] *** Joins: synackse (jordyd@moz-E7A9AB16.seg59.ucf.edu)
[23:24:59] *** Quits: nkoep (nik@moz-3078B90F.pool.mediaways.net) (Client exited)
[23:25:46] *** Quits: gwty (gwtypc@8C592A90.D8EE24C5.E7DAB6F9.IP) (Ping timeout)
[23:25:49] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[23:26:09] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[23:26:27] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[23:26:54] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[23:27:21] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[23:27:54] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:28:04] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[23:28:48] <kimundi> kmc: sure
[23:29:08] <dbaupp> kmc: in theory it coerces automatically
[23:29:21] <dbaupp> although it may have to be done explicitly as `let foo: &Trait = bar;`
[23:30:27] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[23:30:40] *** Quits: Kambfhase (quassel@moz-7E80EAA1.travedsl.de) (Ping timeout)
[23:30:58] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[23:32:37] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[23:32:51] *** Joins: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net)
[23:32:59] *** Quits: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se) (Quit: Ex-Chat)
[23:33:38] *** Joins: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[23:33:54] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[23:34:03] *** Joins: lpy (lpy@9248CA04.F930CE91.65042015.IP)
[23:34:06] *** Quits: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[23:34:12] <kmc> dbaupp: ok, the 'let' works; implicit coercion or "as" didn't
[23:34:13] <kmc> thanks!
[23:35:23] *** Quits: marianoguerra (marianogue@moz-71156BB2.dip0.t-ipconnect.de) (Ping timeout)
[23:35:52] *** Quits: lpy (lpy@9248CA04.F930CE91.65042015.IP) (Ping timeout)
[23:36:01] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[23:37:10] *** Quits: spott_ (spott@moz-5158CBDE.colorado.edu) (Client exited)
[23:37:18] *** Quits: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[23:37:32] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[23:37:40] *** Quits: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com) (Quit: brendan)
[23:38:57] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[23:39:10] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Ping timeout)
[23:39:23] <vmx> what would be the best way having the PriorityQueue using a min instead of a max heap. i could copy the whole file and change two lines. any good alternatives (that might even get merged)? or is it too special?
[23:40:17] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[23:40:52] <kimundi> vmx: Write a newtype wrapper for the thing it is sorting, with a inverted Ord impl
[23:41:25] <kimundi> Not neccessary the best solution, but an easy one :)
[23:41:39] <dbaupp> (TotalOrd)
[23:41:41] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[23:41:53] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[23:42:04] *** Joins: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com)
[23:42:07] <vmx> kimundi: that's certainly an idea i haven't had. 
[23:42:15] <vmx> thanks
[23:42:17] *** Joins: Kjelle (karl@moz-58495553.static.spa.siw.siwnet.net)
[23:43:21] <vmx> in the end it might become extremely ugly that way, but i'll see once i get there
[23:44:35] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[23:45:02] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[23:45:54] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[23:46:23] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[23:46:30] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[23:46:32] <jasom> hits for debugging stack overflows?
[23:46:36] <jasom> s/hits/hints
[23:47:55] *** Quits: igork (igork@moz-D312758C.broadband.corbina.ru) (Quit: Leaving)
[23:48:50] *** Quits: vmx (vmx@moz-66858814.pools.arcor-ip.net) (Quit: Leaving)
[23:48:56] *** Joins: ChrisMorgan1 (chris@moz-6AC741CA.static.tpgi.com.au)
[23:49:05] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Quit: Leaving.)
[23:49:14] *** ChrisMorgan1 is now known as ChrisMorgan
[23:49:37] <dbaupp> jasom: -Z extra-debug-info and a debugger
[23:50:36] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[23:52:22] <jasom> oh durn.  automatically freeing highly recursive boxes => stack overflow
[23:52:51] *** Joins: alan_andrade (Adium@moz-B2C44770.car1.sanfrancisco1.level3.net)
[23:52:55] <acrichto> jasom: https://github.com/alexcrichton/rs-splay/blob/master/lib.rs#L157-L166
[23:53:02] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[23:53:04] <Matthias247> hmm, can I get from ~Derived to ~Base (both traits objects) by transmuting or some other way?
[23:53:28] <acrichto> jasom: the idea is that you can deallocate a binary tree in O(1) stack space
[23:53:37] <acrichto> jasom: without a heap-allocated stack
[23:53:52] <jasom> acrichto: you are the tree master
[23:54:06] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[23:54:38] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[23:55:07] *** Quits: anonymous_29563 (Mibbit@moz-A082F561.adsl.xtra.co.nz) (Quit: http://www.mibbit.com ajax IRC Client)
[23:56:12] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Quit: Textual IRC Client: www.textualapp.com)
[23:56:18] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[23:57:56] <eibwen> kmc: shouldn't as work as well?
[23:58:23] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:59:10] *** Quits: dyreshark (george@moz-1B7B9AC7.members.linode.com) (Quit: WeeChat 0.4.0)
[23:59:23] <kmc> eibwen: I couldn't make it work
[23:59:38] <eibwen> mh. is that worth an issue?
[23:59:59] *** Joins: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net)
