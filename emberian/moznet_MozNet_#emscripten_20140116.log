[06:45:57] *** Joins: cmr (moznet@moz-EC676DFE.members.linode.com)
[07:01:10] <cmr> emscripten is astoundingly easy to get running. all I needed was a git clone and ./emcc.
[07:01:25] <cmr> I was expecting a huge long painful quest with LLVM's build system
[07:13:39] <zagabar> :D
[07:14:03] <zagabar> azakai|2__: posted the issue just to let you know. https://github.com/kripken/emscripten/issues/2022
[07:16:20] *** Quits: int3_ (int3_@B9C75F30.B8DE573D.EC6C369A.IP) (Quit: Leaving...)
[07:18:34] *** Joins: hummeleBop (Thunderbir@moz-2356396.fbx.proxad.net)
[07:37:16] *** Quits: inolen (Adium@moz-B6800D37.socal.res.rr.com) (Ping timeout)
[07:38:25] *** Joins: inolen (Adium@moz-B6800D37.socal.res.rr.com)
[07:42:08] *** Joins: monkeycoder (monkeycode@9853FD42.F7456DDA.48F984E6.IP)
[08:00:37] *** Quits: LCID_Fire (andreas@moz-CB6B963B.dip0.t-ipconnect.de) (Quit: Ex-Chat)
[08:03:11] *** Joins: pjoe (quassel@moz-3BA48E8C.fullrate.dk)
[08:03:53] *** Joins: inolen1 (Adium@moz-B6800D37.socal.res.rr.com)
[08:03:58] *** Quits: inolen (Adium@moz-B6800D37.socal.res.rr.com) (No route to host)
[08:07:12] <cmr> So I'm trying to make Rust run on Emscripten, but having a bit of difficulty. I figured I'd be able to emit IR from rustc and then feed that into emcc, which seems to be working for bare-bones examples, but when I start wanting to link to the standard library things seem to get hairy..
[08:11:05] <cmr> actually I was just being dense, nevermind
[08:18:54] <cmr> ok I take it back I'm not being dense.
[08:19:31] <cmr> -lstd-3e5aeb83-0.9, where libstd... provides the symbol _ZN2io5stdio12println_args19he2182364cce0f447aU4v0_9E, still claims that it is unresolved.
[08:21:02] <cmr> Should I be using this emlink.py I see referenced?
[08:28:14] *** Quits: inolen1 (Adium@moz-B6800D37.socal.res.rr.com) (Quit: Leaving.)
[08:29:00] *** Joins: int3_ (int3_@moz-F4FB75FE.omega83.maxonline.com.sg)
[08:29:11] *** Quits: int3_ (int3_@moz-F4FB75FE.omega83.maxonline.com.sg) (Client exited)
[08:29:18] *** Joins: int3_ (int3_@moz-F4FB75FE.omega83.maxonline.com.sg)
[08:29:25] <cmr> hm, it doesn't accept our IR at -O1 or higher, so that's not a good option.
[08:30:37] *** Joins: inolen (Adium@moz-B6800D37.socal.res.rr.com)
[08:31:07] *** Quits: int3_ (int3_@moz-F4FB75FE.omega83.maxonline.com.sg) (Ping timeout)
[08:31:15] *** Joins: int3_ (int3_@B9C75F30.B8DE573D.EC6C369A.IP)
[08:43:31] *** Quits: inolen (Adium@moz-B6800D37.socal.res.rr.com) (Ping timeout)
[08:44:45] *** Joins: inolen (Adium@moz-B6800D37.socal.res.rr.com)
[09:04:56] *** Quits: safety (safety@moz-2801788.perm.iinet.net.au) (Quit: Leaving...)
[09:09:25] *** Joins: safety (safety@moz-2801788.perm.iinet.net.au)
[09:21:36] *** Quits: safety (safety@moz-2801788.perm.iinet.net.au) (Quit: Leaving...)
[09:23:08] *** Quits: jaeholee (uid4856@moz-31ABA2C0.irccloud.com) (Quit: )
[09:39:38] *** Quits: azakai|2__ (alon@moz-8D0CC798.lightspeed.sntcca.sbcglobal.net) (Ping timeout)
[09:41:16] <brucem> cmr: Rust uses C++ name mangling?
[09:42:50] <brucem> cmr: did you confirm via llvm-nm that libstd correctly provides that symbol? Do you have the link order correct?
[09:42:51] *** Joins: azakai|2__ (alon@moz-8D0CC798.lightspeed.sntcca.sbcglobal.net)
[10:03:22] *** Quits: digitarald (uid15587@moz-5F4AA75A.irccloud.com) (Ping timeout)
[10:03:23] *** Quits: Vito`` (sid7616@moz-31ABA2C0.irccloud.com) (Ping timeout)
[10:03:23] *** Quits: bgyss (sid11244@moz-31ABA2C0.irccloud.com) (Ping timeout)
[10:03:23] *** Quits: fhd (sid2508@moz-31ABA2C0.irccloud.com) (Ping timeout)
[10:03:23] *** Quits: int3_ (int3_@B9C75F30.B8DE573D.EC6C369A.IP) (Ping timeout)
[10:03:23] *** Quits: felipe (sid2734@moz-E77DEB21.irccloud.com) (Ping timeout)
[10:03:26] *** Quits: cocks (cocks@moz-CA4611A.lns20.cbr1.internode.on.net) (Ping timeout)
[10:04:47] *** Joins: digitarald (uid15587@moz-5F4AA75A.irccloud.com)
[10:05:05] *** Joins: int3_ (int3_@B9C75F30.B8DE573D.EC6C369A.IP)
[10:05:46] *** Joins: felipe (sid2734@moz-E77DEB21.irccloud.com)
[10:09:12] *** Joins: bgyss (sid11244@moz-31ABA2C0.irccloud.com)
[10:13:42] *** Quits: Pierre (Pierre@moz-41751585.psi189.maxonline.com.sg) (Connection reset by peer)
[10:14:45] *** Joins: Pierre (Pierre@moz-41751585.psi189.maxonline.com.sg)
[10:17:13] *** Quits: bbouvier (bnjbouv@moz-63AFAFBF.gagahome.fr) (Ping timeout)
[10:20:22] *** Quits: inolen (Adium@moz-B6800D37.socal.res.rr.com) (Ping timeout)
[10:20:38] *** Joins: bbouvier (bnjbouv@moz-63AFAFBF.gagahome.fr)
[10:22:02] *** Joins: inolen (Adium@moz-B6800D37.socal.res.rr.com)
[10:28:55] *** Quits: inolen (Adium@moz-B6800D37.socal.res.rr.com) (Ping timeout)
[10:29:49] *** Joins: inolen (Adium@moz-B6800D37.socal.res.rr.com)
[10:35:07] *** Quits: int3_ (int3_@B9C75F30.B8DE573D.EC6C369A.IP) (Ping timeout)
[10:36:33] *** Joins: int3_ (int3_@B9C75F30.B8DE573D.EC6C369A.IP)
[10:38:37] *** Joins: fhd (sid2508@moz-31ABA2C0.irccloud.com)
[10:39:15] *** Quits: inolen (Adium@moz-B6800D37.socal.res.rr.com) (Quit: Leaving.)
[10:48:05] *** Quits: ggp (ggp@F19369F6.E7DE191F.B65F468E.IP) (Ping timeout)
[11:01:31] *** Quits: chad (Chad@moz-7896A174.hsd1.ca.comcast.net) (Ping timeout)
[11:02:22] *** Quits: int3_ (int3_@B9C75F30.B8DE573D.EC6C369A.IP) (Quit: Leaving...)
[11:04:17] *** Joins: ggp (ggp@moz-B40D4A6E.dsl.telesp.net.br)
[11:08:42] *** Joins: jeanfrancoisg (jeanfranco@1B38CC37.FC95818.5EFB9497.IP)
[11:08:48] *** Quits: jeanfrancoisg (jeanfranco@1B38CC37.FC95818.5EFB9497.IP) (Client exited)
[11:15:09] *** Quits: kaelan (kaelan@moz-A8798821.hfc.comcastbusiness.net) (Quit: Instantbird 1.5 -- http://www.instantbird.com)
[11:28:44] *** Joins: Vito`` (sid7616@moz-31ABA2C0.irccloud.com)
[11:31:57] *** Joins: ehsan (ehsan@moz-C48D29C4.cable.teksavvy.com)
[11:33:42] *** Quits: ehsan (ehsan@moz-C48D29C4.cable.teksavvy.com) (Ping timeout)
[11:54:10] *** Joins: kidanger (kidanger@moz-E29086D1.rev.sfr.net)
[12:21:58] *** Joins: feeley (feeley@1109FE05.6C56CFEB.BF4BC958.IP)
[12:33:08] *** Joins: rib (bob@moz-ED19016C.cable.virginm.net)
[12:44:40] *** Quits: feeley (feeley@1109FE05.6C56CFEB.BF4BC958.IP) (Quit: Leaving.)
[12:50:42] *** Quits: SketchCow (jscott@moz-3E6A00C.textfiles.com) (Ping timeout)
[12:51:49] *** Joins: SketchCow (jscott@moz-3E6A00C.textfiles.com)
[12:59:33] *** Joins: feeley (feeley@1109FE05.6C56CFEB.BF4BC958.IP)
[13:02:31] *** Quits: feeley (feeley@1109FE05.6C56CFEB.BF4BC958.IP) (Quit: Leaving.)
[13:20:18] *** Joins: safety (safety@moz-2801788.perm.iinet.net.au)
[13:31:18] *** Joins: bgrins (Adium@2E6E9164.E6468DB3.BAB75B95.IP)
[13:31:30] *** Quits: safety (safety@moz-2801788.perm.iinet.net.au) (Quit: Leaving...)
[13:38:37] *** Joins: feeley (feeley@moz-AF0EB6A1.xtpr.umontreal.ca)
[14:06:09] *** Quits: kidanger (kidanger@moz-E29086D1.rev.sfr.net) (Quit: WeeChat 0.4.2)
[14:10:49] *** Joins: embot (embot@1E8607E8.6A2AE50.F3114085.IP)
[14:10:49] <embot> [13emscripten] 15waywardmonkeys opened pull request #2023: Remove __01*64_ aliases that don't appear to be necessary. (06master...06remove-01-aliases) 02http://git.io/5Az9LA
[14:10:49] *** Parts: embot (embot@1E8607E8.6A2AE50.F3114085.IP) ()
[14:11:57] *** Joins: trevor (trevor@212FADD0.F8B02F77.B8C1C2E1.IP)
[14:29:17] *** Quits: monkeycoder (monkeycode@9853FD42.F7456DDA.48F984E6.IP) (Quit: Leaving...)
[14:29:30] *** Quits: victorporof (victorporo@416E2802.271BFD43.9B1E38F4.IP) (Quit: victorporof)
[14:29:40] *** Joins: victorporof (victorporo@416E2802.271BFD43.9B1E38F4.IP)
[14:32:01] *** Joins: ehsan (ehsan@moz-C48D29C4.cable.teksavvy.com)
[14:43:12] *** Joins: kidanger (kidanger@moz-E29086D1.rev.sfr.net)
[14:50:20] *** Quits: ehsan (ehsan@moz-C48D29C4.cable.teksavvy.com) (Input/output error)
[14:55:06] *** Quits: sellout (Adium@moz-76D71F1A.hlrn.qwest.net) (Quit: Leaving.)
[15:01:41] *** Quits: feeley (feeley@moz-AF0EB6A1.xtpr.umontreal.ca) (Quit: Leaving.)
[15:03:35] *** Quits: benzap`` (user@moz-5AF0151A.tb.shawcable.net) (Ping timeout)
[15:04:53] *** Joins: feeley (feeley@moz-AF0EB6A1.xtpr.umontreal.ca)
[15:05:46] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[15:15:34] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[15:15:41] *** Joins: ehsan (ehsan@13F2CEC5.7672369.D8E68FF6.IP)
[15:16:52] *** Joins: andreas (andreas@moz-539E5EF6.dip0.t-ipconnect.de)
[15:27:53] *** Quits: feeley (feeley@moz-AF0EB6A1.xtpr.umontreal.ca) (Quit: Leaving.)
[15:30:43] *** Joins: feeley (feeley@moz-AF0EB6A1.xtpr.umontreal.ca)
[15:31:48] *** Quits: cwahlers (cwahlers@moz-4EEE34A3.dsl.telesp.net.br) (Ping timeout)
[15:32:01] *** Joins: benzap`` (user@moz-5AF0151A.tb.shawcable.net)
[15:34:11] *** Joins: sellout (Adium@moz-F0804961.mycingular.net)
[15:40:26] *** Joins: sellout1 (Adium@moz-1D225F38.hsd1.co.comcast.net)
[15:40:27] *** Quits: sellout (Adium@moz-F0804961.mycingular.net) (Connection reset by peer)
[15:41:57] *** Joins: kaelan (kaelan@moz-A8798821.hfc.comcastbusiness.net)
[15:42:28] <cmr> brucem: we use mostly-c++ name mangling.
[15:42:41] <cmr> I used nm -D ... link order probably was wrong, let me retry
[15:43:19] <brucem> cmr: interesting about the name mangling. I guess that wouldn't work for the language I maintain as we support -?!%/ and more in identifiers.
[15:43:49] <cmr> brucem: well, we do some extra stuff to make our identifiers "fit"
[15:43:58] <cmr> (android in particular is awful about what it allows in symbol names)
[15:47:21] <cmr> ok link order was right. the symbol that is there is _ZN2io5stdio12println_args19he2182364cce0f447aU4v0.9E, but it emcc is complaining about _ZN2io5stdio12println_args19he2182364cce0f447aU4v0_9E ...  said symbol doesn't appear anywhere in the IR, so not sure if something is getting lost somewhere.
[15:48:35] <cmr> (the . is replaced with a _)
[15:49:58] <brucem> cmr: best to ask azakai about that then ... I think something does . -> _ for LLVM intrinsics though, so might be something similar.
[15:51:19] <cmr> brucem: thanks!
[15:52:04] <brucem> cmr: i suspect that valid symbol names for emscripten need to also be valid JS identifiers ... but that's just a guess.
[16:10:21] *** Quits: pjoe (quassel@moz-3BA48E8C.fullrate.dk) (Ping timeout)
[16:13:57] *** Quits: jvilk (jvilk@moz-945C3411.hsd1.ct.comcast.net) (Ping timeout)
[16:16:20] *** Quits: sellout1 (Adium@moz-1D225F38.hsd1.co.comcast.net) (Ping timeout)
[16:16:27] *** Joins: sellout (Adium@moz-1D225F38.hsd1.co.comcast.net)
[16:27:01] *** Joins: cwahlers (cwahlers@moz-A72D6C6B.dsl.telesp.net.br)
[16:28:09] *** Quits: feeley (feeley@moz-AF0EB6A1.xtpr.umontreal.ca) (Quit: Leaving.)
[16:29:09] *** Joins: brion (brion@moz-8DC833F4.hsd1.ca.comcast.net)
[16:30:46] *** Joins: feeley (feeley@moz-AF0EB6A1.xtpr.umontreal.ca)
[16:36:30] *** Quits: feeley (feeley@moz-AF0EB6A1.xtpr.umontreal.ca) (Quit: Leaving.)
[16:36:32] *** Joins: feeley (feeley@moz-AF0EB6A1.xtpr.umontreal.ca)
[16:37:51] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[16:38:19] *** Quits: feeley (feeley@moz-AF0EB6A1.xtpr.umontreal.ca) (Ping timeout)
[16:47:04] *** Joins: feeley (feeley@moz-21D6CF9F.iro.umontreal.ca)
[16:58:47] *** Joins: inolen (Adium@moz-B6800D37.socal.res.rr.com)
[17:01:15] *** Joins: jvilk (jvilk@moz-AD4BD307.cs.umass.edu)
[17:02:31] *** Quits: echristo (echristo@moz-1892C634.hsd1.ca.comcast.net) (Quit: echristo)
[17:04:50] *** Quits: kidanger (kidanger@moz-E29086D1.rev.sfr.net) (Quit: WeeChat 0.4.2)
[17:12:47] *** Quits: trevor (trevor@212FADD0.F8B02F77.B8C1C2E1.IP) (Input/output error)
[17:13:22] *** Joins: trevor (trevor@212FADD0.F8B02F77.B8C1C2E1.IP)
[17:16:03] *** Quits: sellout (Adium@moz-1D225F38.hsd1.co.comcast.net) (Ping timeout)
[17:17:35] *** Joins: sellout (Adium@moz-1D225F38.hsd1.co.comcast.net)
[17:30:00] *** Joins: echristo (echristo@4241698A.2E4FD3DD.225F4543.IP)
[17:41:30] *** Quits: sellout (Adium@moz-1D225F38.hsd1.co.comcast.net) (Quit: Leaving.)
[17:45:29] *** Joins: sellout (Adium@2917A62E.8B65BA63.1D2A2C57.IP)
[17:47:05] *** Joins: chad (Chad@moz-7896A174.hsd1.ca.comcast.net)
[17:59:15] *** Quits: brambles (xymox@moz-969AAE9B.barwen.ch) (Ping timeout)
[18:01:38] *** Joins: brambles (xymox@moz-969AAE9B.barwen.ch)
[18:10:47] *** Joins: Kalessin (Kalessin@moz-EE88DCA7.zone3.bethere.co.uk)
[18:34:14] *** Quits: echristo (echristo@4241698A.2E4FD3DD.225F4543.IP) (Quit: echristo)
[18:35:13] *** Quits: bgrins (Adium@2E6E9164.E6468DB3.BAB75B95.IP) (Quit: Leaving.)
[18:40:13] *** Joins: echristo (echristo@E55635C9.D6CCE4AE.77834EAA.IP)
[18:40:54] *** Joins: bgrins (Adium@2E6E9164.E6468DB3.BAB75B95.IP)
[18:47:54] *** Quits: fairfieldt (fairfieldt@moz-D8998E1C.xen.prgmr.com) (Ping timeout)
[18:47:54] *** Quits: rfkelly|away (rfkelly@moz-3FEB32CD.xen.prgmr.com) (Ping timeout)
[18:48:54] *** Quits: andreas (andreas@moz-539E5EF6.dip0.t-ipconnect.de) (Quit: Leaving)
[18:50:06] *** Joins: safety (safety@moz-2801788.perm.iinet.net.au)
[18:51:39] *** Joins: rfkelly|away (rfkelly@moz-3FEB32CD.xen.prgmr.com)
[18:52:13] *** Joins: fairfieldt (fairfieldt@moz-D8998E1C.xen.prgmr.com)
[18:58:18] *** Joins: tilgovi (randall@moz-91C7B057.hsd1.ca.comcast.net)
[19:00:59] *** Quits: Pierre (Pierre@moz-41751585.psi189.maxonline.com.sg) (Ping timeout)
[19:01:21] *** Quits: safety (safety@moz-2801788.perm.iinet.net.au) (Quit: Leaving...)
[19:11:40] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[19:12:19] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[19:20:46] *** Quits: inolen (Adium@moz-B6800D37.socal.res.rr.com) (Ping timeout)
[19:20:56] *** Joins: inolen (Adium@moz-B6800D37.socal.res.rr.com)
[19:21:35] *** Joins: embot (embot@9C8B94D4.6A2AE50.F3114085.IP)
[19:21:35] <embot> [13emscripten] 15sindresorhus opened pull request #2024: It's 2014 (06master...06patch-1) 02http://git.io/FkpMFw
[19:21:35] *** Parts: embot (embot@9C8B94D4.6A2AE50.F3114085.IP) ()
[19:25:09] *** Quits: inolen (Adium@moz-B6800D37.socal.res.rr.com) (Ping timeout)
[19:26:23] *** Joins: inolen (Adium@moz-B6800D37.socal.res.rr.com)
[19:27:48] *** Joins: KungPhoo (kungphoo@moz-7EF96309.dip0.t-ipconnect.de)
[19:27:53] *** Joins: embot (embot@C8693FCB.6A2AE50.F3114085.IP)
[19:27:53] <embot> 01[13emscripten01] 15kripken pushed 1 new commit to 06incoming: 02http://git.io/0j8-lA
[19:27:53] <embot> 13emscripten/06incoming 14a310827 15Alon Zakai: enable a form of safe heap in asm, using js optimizer pass to ensure full coverage and support for fastcomp
[19:27:53] *** Parts: embot (embot@C8693FCB.6A2AE50.F3114085.IP) ()
[19:27:56] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[19:30:09] <KungPhoo> question: why must I allocate memory for emscripten, wny isn't alloc() doing that?
[19:31:07] <KungPhoo> I mean -s TOTAL_MEMORY=33554432
[19:31:28] <inolen> that's the total heap size allocated up front
[19:32:35] <KungPhoo> so alloc() can't get more than this?
[19:33:04] <inolen> in non-asm.js there is ALLOW_MEMORY_GROWTH
[19:33:11] <inolen> (check out settings.js)
[19:33:30] <KungPhoo> but with asm.js it's fixed size?
[19:33:35] <inolen> right
[19:33:56] <KungPhoo> not really great
[19:36:08] *** Quits: inolen (Adium@moz-B6800D37.socal.res.rr.com) (Ping timeout)
[19:42:47] *** Joins: inolen (Adium@moz-B6800D37.socal.res.rr.com)
[19:46:26] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[19:47:52] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[19:55:52] *** Quits: KungPhoo (kungphoo@moz-7EF96309.dip0.t-ipconnect.de) (Quit: Nettalk6 - www.ntalk.de)
[20:10:21] *** Joins: embot (embot@79968228.6A2AE50.F3114085.IP)
[20:10:21] <embot> 01[13emscripten01] 15kripken pushed 2 new commits to 06incoming: 02http://git.io/BjfphQ
[20:10:21] <embot> 13emscripten/06incoming 149fed906 15Sindre Sorhus: It's 2014
[20:10:21] <embot> 13emscripten/06incoming 140d1f0bd 15Alon Zakai: Merge branch 'patch-1' of github.com:sindresorhus/emscripten into incoming
[20:10:21] *** Parts: embot (embot@79968228.6A2AE50.F3114085.IP) ()
[20:14:09] *** Quits: inolen (Adium@moz-B6800D37.socal.res.rr.com) (No route to host)
[20:14:15] *** Joins: inolen (Adium@moz-B6800D37.socal.res.rr.com)
[20:22:43] *** Quits: victorporof (victorporo@416E2802.271BFD43.9B1E38F4.IP) (Quit: victorporof)
[20:25:29] *** Quits: chad (Chad@moz-7896A174.hsd1.ca.comcast.net) (Ping timeout)
[20:35:04] *** Quits: inolen (Adium@moz-B6800D37.socal.res.rr.com) (Ping timeout)
[20:38:32] *** Joins: inolen (Adium@moz-B6800D37.socal.res.rr.com)
[20:39:13] *** Quits: trevor (trevor@212FADD0.F8B02F77.B8C1C2E1.IP) (Input/output error)
[20:39:59] *** Joins: trevor (trevor@212FADD0.F8B02F77.B8C1C2E1.IP)
[20:40:54] <cmr> azakai: ping
[20:54:22] *** Joins: victorporof (victorporo@416E2802.271BFD43.9B1E38F4.IP)
[20:57:18] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[20:57:25] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[20:57:40] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[20:59:34] <azakai> cmr: pong
[21:00:39] <cmr> azakai: hi. I'm trying to get rust running on emscripten. having a problem with symbol names.
[21:00:45] *** Quits: inolen (Adium@moz-B6800D37.socal.res.rr.com) (Ping timeout)
[21:00:49] <cmr> I get warning: unresolved symbol: _ZN2io5stdio12println_args19he2182364cce0f447aU4v0_9E
[21:01:10] <cmr> that symbol should come from the stdlib, but the name is wrong. it should be _ZN2io5stdio12println_args19he2182364cce0f447aU4v0.9E
[21:01:24] <cmr> brucem said to ask you about it, and mentioned that symbols might need to be valid JS identifiers.
[21:01:30] *** Joins: inolen (Adium@moz-B6800D37.socal.res.rr.com)
[21:01:38] <cmr> (Can't use emlink right now because we have some nasty bitcasted functions)
[21:01:38] <azakai> we do lower all names to names that are possible in js, so . becomes _
[21:01:55] <cmr> ok
[21:03:32] <azakai> in js . would mean to take a field on an object
[21:03:53] <cmr> right. we embed version numbers in symbols for reasons.
[21:04:42] <azakai> it is a bug though if you get an error on that, file an issue if you can't easily work around it
[21:04:57] <cmr> well I think the fundamental issue is that I'm trying to link to a native library.
[21:05:13] <cmr> and not emlinking. not quite sure.
[21:05:44] <cmr> How should I port Rust to emscripten? Will the stdlib + other libraries need to be compiled to js first?
[21:07:20] <azakai> what do you mean linking to a native library? you can't like emscripten output to native libs
[21:07:21] <cmr> it might actually just be easiest to use the llvm backend.
[21:07:37] <azakai> you would need to get all the output you want to run, ported to js
[21:15:31] *** Joins: kidanger (kidanger@moz-E29086D1.rev.sfr.net)
[21:15:57] *** Joins: emfastbot (emfastbot@DE823A67.6A2AE50.F3114085.IP)
[21:15:57] <emfastbot> 01[13emscripten-fastcomp01] 15kripken pushed 1 new commit to 06master: 02http://git.io/En8oEg
[21:15:57] <emfastbot> 13emscripten-fastcomp/06master 14d2a5f50 15Alon Zakai: align non-constant allocas
[21:15:57] *** Parts: emfastbot (emfastbot@DE823A67.6A2AE50.F3114085.IP) ()
[21:18:26] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[21:18:33] *** Joins: embot (embot@1E8607E8.6A2AE50.F3114085.IP)
[21:18:33] <embot> 01[13emscripten01] 15kripken pushed 1 new commit to 06incoming: 02http://git.io/XJrlaw
[21:18:33] <embot> 13emscripten/06incoming 1441675a7 15Alon Zakai: strengthen test_alloca to check alignment
[21:18:33] *** Parts: embot (embot@1E8607E8.6A2AE50.F3114085.IP) ()
[21:19:54] *** Quits: hummeleBop (Thunderbir@moz-2356396.fbx.proxad.net) (Quit: hummeleBop)
[21:20:36] *** Joins: monkeycoder (monkeycode@9853FD42.F7456DDA.48F984E6.IP)
[21:24:24] *** Quits: diffalot (diffalot@moz-FB6A21A5.hsd1.ms.comcast.net) (Ping timeout)
[21:25:14] *** Joins: diffalot (diffalot@moz-FB6A21A5.hsd1.ms.comcast.net)
[21:28:25] *** Joins: mark_ (mark@moz-DEE6DC71.hsd1.in.comcast.net)
[21:32:30] *** Quits: feeley (feeley@moz-21D6CF9F.iro.umontreal.ca) (Quit: Leaving.)
[21:32:33] *** Joins: feeley (feeley@moz-AF0EB6A1.xtpr.umontreal.ca)
[21:34:26] *** Quits: feeley (feeley@moz-AF0EB6A1.xtpr.umontreal.ca) (Ping timeout)
[21:35:30] *** Quits: inolen (Adium@moz-B6800D37.socal.res.rr.com) (Ping timeout)
[21:36:00] *** Joins: inolen (Adium@moz-B6800D37.socal.res.rr.com)
[21:38:22] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[21:44:03] *** Quits: monkeycoder (monkeycode@9853FD42.F7456DDA.48F984E6.IP) (Ping timeout)
[21:44:55] *** Joins: monkeycoder (monkeycode@D3CD5FDE.1F33FD0C.48F984E6.IP)
[21:46:45] *** Quits: monkeycoder (monkeycode@D3CD5FDE.1F33FD0C.48F984E6.IP) (Ping timeout)
[21:47:12] *** Joins: monkeycoder (monkeycode@5B61A253.58E31124.48F984E6.IP)
[21:49:51] *** Quits: inolen (Adium@moz-B6800D37.socal.res.rr.com) (Ping timeout)
[21:50:42] *** Joins: inolen (Adium@moz-B6800D37.socal.res.rr.com)
[21:58:36] *** Quits: echristo (echristo@E55635C9.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[22:00:15] *** Quits: bgrins (Adium@2E6E9164.E6468DB3.BAB75B95.IP) (Quit: Leaving.)
[22:00:38] *** Joins: bgrins (Adium@2E6E9164.E6468DB3.BAB75B95.IP)
[22:02:21] *** Joins: echristo (echristo@E55635C9.D6CCE4AE.77834EAA.IP)
[22:05:33] <mark_> when I use Module.ccall (or .cwrap) I get a failed assertion, "cannot call unknown function _main"
[22:06:05] <mark_> I run emcc with -s EXPORTED_FUNCTIONS="['_main']", which is all that's necessary, right?
[22:10:07] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[22:13:56] *** Quits: jvilk (jvilk@moz-AD4BD307.cs.umass.edu) (Ping timeout)
[22:17:25] *** Joins: embot (embot@9C8B94D4.6A2AE50.F3114085.IP)
[22:17:25] <embot> 01[13emscripten01] 15kripken pushed 1 new commit to 06incoming: 02http://git.io/8b-DmQ
[22:17:25] <embot> 13emscripten/06incoming 1462de2bd 15Alon Zakai: don't override Module.print and printErr if the user specified them
[22:17:25] *** Parts: embot (embot@9C8B94D4.6A2AE50.F3114085.IP) ()
[22:28:03] *** rfkelly|away is now known as rfkelly
[22:31:50] *** Joins: embot (embot@9C8B94D4.6A2AE50.F3114085.IP)
[22:31:50] <embot> 01[13emscripten01] 15kripken pushed 1 new commit to 06incoming: 02http://git.io/bN-I_A
[22:31:50] <embot> 13emscripten/06incoming 1472972e7 15Alon Zakai: add __h_errno; fixes #2013
[22:31:50] *** Parts: embot (embot@9C8B94D4.6A2AE50.F3114085.IP) ()
[22:32:04] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Quit: Leaving)
[22:32:17] <mark_> any suggestions on my ccall/cwrap problem?
[22:32:40] *** Quits: inolen (Adium@moz-B6800D37.socal.res.rr.com) (Ping timeout)
[22:32:41] *** Joins: feeley (feeley@1109FE05.6C56CFEB.BF4BC958.IP)
[22:33:50] *** Joins: inolen (Adium@moz-B6800D37.socal.res.rr.com)
[22:39:02] *** Quits: inolen (Adium@moz-B6800D37.socal.res.rr.com) (Ping timeout)
[22:40:46] *** Joins: inolen (Adium@moz-B6800D37.socal.res.rr.com)
[22:41:44] *** Quits: sellout (Adium@2917A62E.8B65BA63.1D2A2C57.IP) (Quit: Leaving.)
[22:42:48] *** Quits: feeley (feeley@1109FE05.6C56CFEB.BF4BC958.IP) (Quit: Leaving.)
[22:43:02] <azakai> mark_: yes, that should work. do you see _main in the generated code?
[22:43:16] <mark_> yes I do
[22:43:31] *** Joins: feeley (feeley@1109FE05.6C56CFEB.BF4BC958.IP)
[22:43:55] <mark_> actually, I just tried ccall with 'main' instead of '_main' and got a different error
[22:44:14] <azakai> oh right, ccall uses the c name, which has no leading _
[22:44:24] <mark_> I think some of the documentation makes it sound like you use the underscore with ccall/cwrap
[22:44:59] <mark_> I *hope* the errors I have now can be fixed with ASM_JS=0
[22:45:11] <azakai> which docs? we should fix those
[22:45:12] *** Joins: jvilk (jvilk@moz-945C3411.hsd1.ct.comcast.net)
[22:45:45] <mark_> azakai: somewhere on the wiki, I'll look
[22:46:30] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[22:46:46] *** Quits: echristo (echristo@E55635C9.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[22:47:13] <mark_> azakai: under 'other methods' at https://github.com/kripken/emscripten/wiki/Interacting-with-code
[22:47:34] <mark_> ... you need to prefix function calls with '_' ...
[22:47:51] <azakai> thanks, fixing now
[22:47:57] <mark_> oh crap, I just read that more carefully
[22:49:21] <azakai> ?
[22:49:41] <mark_> azakai: looks good now :)
[22:50:04] <mark_> I guess I didn't realize that section wasn't talking about ccall/cwrap
[22:51:21] <mark_> azakai: think I'll make a change at the top of that page, to make it clear that EXPORTED_FUNCTIONS requires the underscore but ccall/cwrap don't
[22:51:28] <azakai> yeah, i edited now to make that clearer
[22:52:30] <azakai> your suggestion sounds good
[22:58:03] <mark_> azakai: I changed it a bit more https://github.com/kripken/emscripten/wiki/Interacting-with-code/_compare/6ecf108dc4e932dd371c5f50223dc4d96dc6adea...a154af36c3d81148dd6bd8afc8428394a73dcaf1
[22:58:39] <azakai> cool
[23:04:15] *** Quits: ehsan (ehsan@13F2CEC5.7672369.D8E68FF6.IP) (Input/output error)
[23:04:23] *** Quits: kidanger (kidanger@moz-E29086D1.rev.sfr.net) (Quit: WeeChat 0.4.2)
[23:12:28] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[23:17:18] *** Joins: echristo (echristo@E55635C9.D6CCE4AE.77834EAA.IP)
[23:17:26] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[23:31:54] *** rfkelly is now known as rfkelly|away
[23:33:09] *** Quits: bhldev (briandev@moz-345947D0.cpe.pppoe.ca) (Ping timeout)
[23:34:42] *** Quits: trevor (trevor@212FADD0.F8B02F77.B8C1C2E1.IP) (Quit: Computer has gone to sleep.)
[23:35:43] *** Joins: bhldev (briandev@moz-345947D0.cpe.pppoe.ca)
[23:38:35] <brucem> https://github.com/trevorlinton/webkit.js
[23:38:51] <brucem> cmr: yt?
[23:39:22] *** Joins: Pierre (Pierre@moz-41751585.psi189.maxonline.com.sg)
[23:42:45] *** Joins: embot (embot@24260B07.6A2AE50.F3114085.IP)
[23:42:45] <embot> 01[13emscripten01] 15kripken pushed 2 new commits to 06incoming: 02http://git.io/d5Yjcw
[23:42:45] <embot> 13emscripten/06incoming 143d771ae 15Alon Zakai: fix strnlen input of size, which should be unsigned
[23:42:45] <embot> 13emscripten/06incoming 145bb976e 15Alon Zakai: add fnmatch; fixes #2002
[23:42:46] *** Parts: embot (embot@24260B07.6A2AE50.F3114085.IP) ()
[23:43:36] *** Quits: Pierre (Pierre@moz-41751585.psi189.maxonline.com.sg) (Ping timeout)
[23:44:27] *** Joins: Pierre (Pierre@moz-41751585.psi189.maxonline.com.sg)
[23:45:06] *** rfkelly|away is now known as rfkelly
[23:54:07] *** Quits: ggp (ggp@moz-B40D4A6E.dsl.telesp.net.br) (Ping timeout)
