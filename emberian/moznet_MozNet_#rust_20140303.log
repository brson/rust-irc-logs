[00:00:02] *** Quits: eibwen (kvirc@moz-B706ADB3.dip0.t-ipconnect.de) (Ping timeout)
[00:00:05] *** Quits: nkoep (nik@moz-ACB0D78B.pool.mediaways.net) (Quit: Leaving)
[00:01:21] *** Quits: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de) (Connection reset by peer)
[00:04:17] <Rym> What's up with tuple equality? Is `==` not appropriate?
[00:04:39] <kimundi> Rym: what do you mean?
[00:05:34] <Rym> Sometimes I'm getting test failures on my check e.g. `someresult == (9, 5)` while other times it completes correctly. Printing the result looks to have the exact same tuple (by value)
[00:06:34] *** Quits: KindOne (KindOne@CF141454.262456B2.5670445F.IP) (Ping timeout)
[00:06:36] <kimundi> Rym: That doesn't sound like a problem with equality, tuples or == at all
[00:06:36] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[00:06:38] *** Joins: Denommus (user@moz-2A8D5B3F.user.veloxzone.com.br)
[00:06:41] <Denommus> hi
[00:07:00] <Denommus> how does rustpkg detects a crate's dependency before compiling it?
[00:07:15] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[00:07:19] <Denommus> which module would be responsible for this in librust?
[00:07:48] <cmr> Denommus: rustpkg has been removed.
[00:07:57] <cmr> but it just liked in the `extern mod`'s.
[00:08:04] <cmr> using an ast visitor.
[00:08:19] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[00:08:30] <Denommus> cmr: I know rustpkg was removed, but I'm curious about it nevertheless. You're the creator of cargo-lite, right?
[00:08:34] <cmr> yes.
[00:08:57] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[00:09:08] <Denommus> so, librust doesn't provide tooling for "extern crate"s yet?
[00:09:18] <cmr> it doesn't need to...
[00:09:23] <cmr> all the information is in the ast.
[00:09:26] <cmr> (and it's librustc)
[00:09:55] <Denommus> oh, that makes sense
[00:10:57] <Denommus> librustc's modules seems a bit sketchy for now. Is that the reason for you to use a separate file for cargo-lite?
[00:11:22] <cmr> no, I do that for simplicity and flexibility.
[00:11:36] <cmr> rustpkg depended on specific repository layouts.
[00:11:43] *** Quits: anasyrma (x@moz-DE175E38.caltech.edu) (Ping timeout)
[00:11:56] <cmr> cargo-lite just needs a config file in the repo root, and then you can structure it however you want...
[00:12:14] <Denommus> hm. Indeed
[00:12:40] *** Joins: KindOne (KindOne@CF141454.262456B2.5670445F.IP)
[00:12:40] *** Joins: anasyrma (x@moz-DE175E38.caltech.edu)
[00:12:43] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Quit: Leaving.)
[00:13:33] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[00:13:34] *** Joins: pnkfelix (pnkfelix@49869947.3778D849.1D6E592A.IP)
[00:13:39] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[00:14:19] *** Quits: q66 (q66@moz-5B854356.dab.02.net) (Quit: Leaving)
[00:14:40] *** Joins: untwisted (untwisted@moz-60D579DC.hsd1.ca.comcast.net)
[00:15:27] <Denommus> cmr: any news about the possible new package manager, or are the devs focused in other things?
[00:15:47] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[00:16:01] <cmr> I haven't heard any news
[00:16:16] <andor> why can't i make a static ~str?
[00:16:40] <andor> main.rs:6:21: 6:28 error: cannot allocate vectors in constant expressions
[00:16:42] <andor> main.rs:6 static endl: ~str = ~"\r\n";
[00:16:43] *** Quits: alkino (alkino@moz-53CAAA6D.w92-151.abo.wanadoo.fr) (Ping timeout)
[00:16:45] *** Joins: alkino (alkino@moz-53CAAA6D.w92-151.abo.wanadoo.fr)
[00:17:28] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[00:17:55] <cmr> andor: would require runtime allocation and deallocation, it isn't read-only data.
[00:18:01] <cmr> use:
[00:18:09] <cmr> static endl: &'static str = "\r\n";
[00:19:27] <Rym> kimundi: found it, it was dumb. :P
[00:19:34] *** Quits: KindOne (KindOne@CF141454.262456B2.5670445F.IP) (Ping timeout)
[00:21:13] *** Joins: twi (Adium@moz-348C9523.cust.vodafonedsl.it)
[00:21:34] *** Quits: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP) (Ping timeout)
[00:22:03] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[00:22:11] *** Joins: lpy (lpy@E44EE2C4.F09091A8.1348A864.IP)
[00:22:21] *** Joins: KindOne (KindOne@CF141454.262456B2.5670445F.IP)
[00:22:55] *** Quits: twi (Adium@moz-348C9523.cust.vodafonedsl.it) (Ping timeout)
[00:24:12] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Quit: Leaving)
[00:24:30] *** Joins: snerd (motk@moz-D21A06DF.members.linode.com)
[00:24:32] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[00:26:58] <andor> what does it mean that a "result must be used"?
[00:27:24] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[00:29:14] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Quit: )
[00:29:20] <Denommus> andor: what's the context?
[00:29:29] *** Parts: judder (maradukewa@A4DC519F.6379DA33.78E362FE.IP) ()
[00:29:31] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[00:29:38] <pongad> Do vector slice methods work with [ ) range or [ ]?
[00:29:52] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:29:57] <andor> Denommus: i have helper function that just writes some string to a Writer
[00:30:25] <andor> fn irc_write<W: Writer>(writer: &mut W, line: &str) { writer.write_str(line + endl); }
[00:30:35] <brandonson> andor: most (all?) I/O methods return a Result that indicates whether the operation succeeded or failexd
[00:30:43] <brandonson> s/failexd/failed
[00:31:07] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:31:14] <brandonson> andor: there's a lint that will warn if you ignore that Result
[00:31:35] <andor> i think the warning is worded a bit silly
[00:31:44] <cmr> andor: yikes don't do that. use write!(writer, "{}{}", line, endl)
[00:31:52] <cmr> you're allocating an extra string for no reason
[00:32:20] <cmr> it's saying that you're ignoring error cases...
[00:32:35] *** Joins: ganitsu1 (ganitsu@moz-BBD86173.dialup.adsl.anteldata.net.uy)
[00:33:03] *** Quits: ganitsu (ganitsu@moz-36E4677F.dialup.adsl.anteldata.net.uy) (Ping timeout)
[00:33:37] <andor> cmr: write! warns me that format arguments must be string literals
[00:34:01] <cmr> andor: only the format string needs to be a literal.
[00:34:06] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[00:34:16] <andor> main.rs:8:70: 8:74 error: format argument must be a string literal.
[00:34:18] <andor> main.rs:8 fn irc_write<W: Writer>(writer: &mut W, line: &str) { write!("{}{}", line, endl); }
[00:34:32] <andor> err, derp, sorry
[00:34:37] <cmr> first argument is a writer.
[00:34:42] <andor> yeah, forgot that
[00:34:48] <andor> realized as soon as i pasted the error
[00:34:54] <andor> hence the sorry
[00:36:20] <andor> main.rs:8:62: 8:68 error: value may contain references; add `'static` bound
[00:36:22] <andor> main.rs:8 fn irc_write<W: Writer>(writer: &mut W, line: &str) { write!(writer, "{}{}", line, endl); }
[00:36:37] <andor> erm... what?
[00:36:58] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[00:38:50] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[00:38:56] *** Quits: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net) (Ping timeout)
[00:41:40] *** Quits: lpy (lpy@E44EE2C4.F09091A8.1348A864.IP) (Client exited)
[00:41:53] <sfackler> andor: it's a coersion bug. do write!(writer as &mut Writer, "{}{}", line, endl)
[00:43:16] *** Quits: leafstorm (leafstorm@moz-F57A2464.rh.ncsu.edu) (Ping timeout)
[00:44:02] *** Joins: quiggle (Mibbit@moz-F92D23BC.red.bezeqint.net)
[00:44:19] *** Quits: gentlefolk (chatzilla@moz-D195EAF9.cpe.teksavvy.com) (Quit: ChatZilla 0.9.90.1 [Firefox 27.0.1/20140212131424])
[00:46:14] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[00:48:11] *** Quits: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP) (Quit: Leaving...)
[00:54:46] *** Quits: quiggle (Mibbit@moz-F92D23BC.red.bezeqint.net) (Quit: http://www.mibbit.com ajax IRC Client)
[00:54:54] *** Joins: lpy (lpy@E44EE2C4.F09091A8.1348A864.IP)
[00:55:40] *** Quits: jkingyens (jkingyens@moz-B0C1B161.hsd1.ca.comcast.net) (Quit: jkingyens)
[00:57:49] <brandonson> Is an ICE when linking to a crate that has no version number in crate_id a known bug?
[00:58:03] <brandonson> if not I'll try to find a minimal case
[00:58:05] *** Quits: Saj (Sajuuk@moz-840D0658.netvisao.pt) (Quit: Leaving)
[00:58:09] *** Quits: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net) (Connection reset by peer)
[00:58:57] <sfackler> are you sure the crate was built with the same version of rustc?
[00:59:17] *** Quits: pongad (pongad@moz-7E8AAD2E.res.gatech.edu) (Quit: Leaving)
[00:59:26] *** Quits: blender (blender@5EA19532.B22400E5.217C7FCC.IP) (Ping timeout)
[00:59:45] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[00:59:56] *** Joins: blender (blender@398333AA.B22400E5.217C7FCC.IP)
[01:01:03] <brandonson> sfackler: yup
[01:01:10] *** Joins: m_kato (m_kato@moz-C286AD9A.bitcat.net)
[01:01:57] *** Quits: blender (blender@398333AA.B22400E5.217C7FCC.IP) (Ping timeout)
[01:03:13] *** Joins: jdm (jdm@moz-E41E4269.dsl.teksavvy.com)
[01:03:13] *** ChanServ sets mode: +o jdm
[01:07:11] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[01:07:16] *** Quits: alexherbo2 (alexherbo2@moz-543C523F.w83-199.abo.wanadoo.fr) (Quit: WeeChat 0.4.3-dev)
[01:08:01] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[01:08:55] *** Joins: dukeleto (dukeleto@moz-3E7A0A89.ptld.qwest.net)
[01:09:42] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[01:10:02] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[01:11:43] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[01:12:29] *** Quits: alkino (alkino@moz-53CAAA6D.w92-151.abo.wanadoo.fr) (Ping timeout)
[01:13:39] *** Quits: ambro718 (ambro@moz-2E81752A.static.dsl.siol.net) (Quit: Konversation terminated!)
[01:14:11] *** Joins: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP)
[01:17:15] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[01:17:28] *** Joins: Puzzler (puzzler@moz-CD721145.hsd1.mi.comcast.net)
[01:19:33] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[01:21:48] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[01:21:58] *** Joins: twi (Adium@moz-2D4A2861.cust.vodafonedsl.it)
[01:22:59] *** Quits: Guest_ (textual@moz-310FD28A.dynamic.caiway.nl) (Quit: Computer has gone to sleep.)
[01:23:00] *** Joins: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net)
[01:23:04] *** Quits: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net) (Client exited)
[01:23:40] *** Quits: twi (Adium@moz-2D4A2861.cust.vodafonedsl.it) (Ping timeout)
[01:23:49] *** Joins: twi (Adium@moz-2D4A2861.cust.vodafonedsl.it)
[01:24:30] *** Quits: PumpMagic (PumpMagic@moz-16722420.hsd1.ca.comcast.net) (Quit: Leaving)
[01:25:31] *** Quits: twi (Adium@moz-2D4A2861.cust.vodafonedsl.it) (Ping timeout)
[01:25:37] *** Quits: Puzzler (puzzler@moz-CD721145.hsd1.mi.comcast.net) (Quit: )
[01:25:47] *** Joins: Guest_ (textual@moz-ED7F06D5.lightspeed.cicril.sbcglobal.net)
[01:26:14] <jxs> Hey guys, is it possible to match strings?
[01:26:45] *** Guest_ is now known as bmurphy1976
[01:27:06] <sfackler> jxs: yep
[01:27:27] <sfackler> match "foo" { "foo" => {}, "bar" => {} }
[01:27:48] <jxs> ok, but what about to heap allocated strings?
[01:27:52] <jxs> i am getting type mismatch
[01:28:08] <jxs> mismatched types: expected `~str` but found `&'static str`
[01:28:09] *** Quits: epall (epall@moz-FA29BBA2.lightspeed.sntcca.sbcglobal.net) (Quit: epall)
[01:28:21] <sfackler> you can either do "match s.as_slice() { "foo" => ... }" or "match s { ~"foo" => {} }"
[01:29:55] <ChrisMorgan> Match on ~[T] is gone, is match on ~str also going?
[01:30:19] <jxs> with ~"foo" it doesn't match ehe
[01:30:24] <sfackler> I would assume so, but it's still there for now
[01:30:29] <sfackler> or maybe it's gone
[01:30:34] <jxs> ok ChrisMorgan, so should as_slice() be used? 
[01:30:39] <sfackler> yeah
[01:30:58] <ChrisMorgan> If it compiles, it works and that's not the problem you're experiencing.
[01:31:39] <jxs> indeed
[01:33:26] *** Quits: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca) (Quit: canhtak)
[01:33:38] *** Quits: pnkfelix (pnkfelix@49869947.3778D849.1D6E592A.IP) (Ping timeout)
[01:34:27] <jxs> http://pastebin.com/1PdaTrnh
[01:34:29] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[01:34:43] <jxs> doesn't match "foo"
[01:35:03] *** Quits: victorporof_ (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Ping timeout)
[01:37:08] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[01:37:15] <cmr> you sure the newline isn't in there?
[01:37:47] <jxs> yes it's the newine noticed now, thanks cmr 
[01:39:08] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[01:40:56] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[01:41:06] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[01:44:44] *** Joins: pongad (pongad@moz-7E8AAD2E.res.gatech.edu)
[01:47:19] *** Quits: zslayton (Mibbit@moz-4806B979.nyc.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[01:47:27] *** Joins: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP)
[01:47:51] *** Joins: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca)
[01:52:11] *** Quits: alan_andrade_ (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[01:52:36] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[01:54:22] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Ping timeout)
[01:54:49] *** Joins: Puzzler (puzzler@moz-979AD744.hsd1.mi.comcast.net)
[01:55:26] <jxs> if i type let input = reader.read_line().unwrap().as_slice(); i get borrowed value does not live long enough
[01:55:43] *** Quits: bmurphy1976 (textual@moz-ED7F06D5.lightspeed.cicril.sbcglobal.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:55:49] *** Joins: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP)
[01:58:04] *** Quits: wilkie (wilkie@moz-A19F104D.pitbpa.fios.verizon.net) (Ping timeout)
[01:58:34] *** Quits: wolfwood (wolfwood@moz-A19F104D.pitbpa.fios.verizon.net) (Ping timeout)
[01:58:57] *** Quits: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: Ex-Chat)
[01:58:58] <ChrisMorgan> jxs: that is correct. The slice, &str, can only live as long as the ~str (returned by read_line() and then unwrapped), which is immediately destroyed.
[01:59:19] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:59:19] <ChrisMorgan> Instead, go for `let input = reader.read_line().unwrap(); input.as_slice()`
[02:02:06] *** Joins: wolfwood (wolfwood@moz-A19F104D.pitbpa.fios.verizon.net)
[02:02:15] *** Quits: pongad (pongad@moz-7E8AAD2E.res.gatech.edu) (Quit: Leaving)
[02:02:28] *** Joins: wilkie (wilkie@moz-A19F104D.pitbpa.fios.verizon.net)
[02:04:08] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[02:04:26] <jxs> oh ok nice, thanks ChrisMorgan 
[02:05:49] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[02:06:37] *** Quits: Puzzler (puzzler@moz-979AD744.hsd1.mi.comcast.net) (Quit: )
[02:06:39] *** Joins: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net)
[02:07:22] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[02:08:35] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[02:08:48] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[02:09:31] *** Quits: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net) (Quit: Leaving.)
[02:09:54] *** Quits: jdm (jdm@moz-E41E4269.dsl.teksavvy.com) (Ping timeout)
[02:10:28] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[02:10:36] *** Quits: dukeleto (dukeleto@moz-3E7A0A89.ptld.qwest.net) (Ping timeout)
[02:11:14] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[02:11:29] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[02:11:49] *** Quits: jeff_ (jeff@moz-E6A9E8C9.hsd1.or.comcast.net) (Quit: jeff_)
[02:12:19] *** Joins: jeff_ (jeff@moz-E6A9E8C9.hsd1.or.comcast.net)
[02:12:44] *** Quits: jeff_ (jeff@moz-E6A9E8C9.hsd1.or.comcast.net) (Quit: jeff_)
[02:13:11] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[02:13:16] *** Joins: Guest_ (textual@moz-ED7F06D5.lightspeed.cicril.sbcglobal.net)
[02:14:50] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[02:16:41] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Ping timeout)
[02:17:04] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[02:19:34] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[02:20:38] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[02:24:34] *** Joins: twi (Adium@moz-C93256DF.cust.vodafonedsl.it)
[02:24:49] <aatch> jxs, there is an open issue about that, by the way. Extending the lifetime of temporaries in those kinds of cases.
[02:26:16] *** Quits: twi (Adium@moz-C93256DF.cust.vodafonedsl.it) (Ping timeout)
[02:27:31] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[02:28:30] *** Quits: blank_name (blank_name@463DB555.53526368.6D228269.IP) (Quit: Lost terminal)
[02:28:32] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[02:30:15] *** Quits: ganitsu1 (ganitsu@moz-BBD86173.dialup.adsl.anteldata.net.uy) (Ping timeout)
[02:30:25] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[02:30:55] *** Joins: jkingyens (jkingyens@moz-B0C1B161.hsd1.ca.comcast.net)
[02:31:24] <jxs> oh ok aatch, like until the end of the scope? 
[02:31:40] <aatch> jxs, under the current model, yes.
[02:31:54] <jxs> ok thanks
[02:32:14] <aatch> However nmatsakis (the guy who actually knows how it works) wants to base lifetimes on data-flow information
[02:32:37] <aatch> borrows would only need to last as long as the need to.
[02:33:35] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:34:59] *** Joins: blank_name (blank_name@463DB555.53526368.6D228269.IP)
[02:36:43] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[02:37:03] <ryeguy> that would be great
[02:37:16] <ryeguy> having to wrap things in curly braces for that purposes is ugly
[02:37:55] <o11c> is there some value you can put in a let for "zero initialize, regardless of type" ?
[02:38:41] <ryeguy> o11c: like this? http://static.rust-lang.org/doc/master/std/mem/fn.uninit.html
[02:38:50] *** Joins: devbug_ (quassel@23AC5F12.9D950176.3655BBF5.IP)
[02:38:54] *** Quits: devbug_ (quassel@23AC5F12.9D950176.3655BBF5.IP) (Client exited)
[02:39:27] <o11c> well, that's uninit, is there a zero-init ?
[02:39:37] <ryeguy> http://static.rust-lang.org/doc/master/std/mem/fn.init.html
[02:39:58] <o11c> ugh, sadness
[02:40:06] <ryeguy> maybe you're looking for this? http://static.rust-lang.org/doc/master/std/default/trait.Default.html
[02:40:20] *** Quits: ambimorph (amber@moz-B3FBDFCE.hlrn.qwest.net) (Ping timeout)
[02:40:28] <Valloric> there's char::escape_default, but is there something like unescape?
[02:41:34] <aatch> Valloric, I don't think std::char has gotten much attention...
[02:41:37] <o11c> In C++ you can just say T v = {}; and that works for anything (unless it only provides constructors that require arguments)
[02:41:50] <Valloric> aatch: a bit sad
[02:42:24] <ryeguy> o11c: that sounds like Default::default(), but that assumes its implemented for that type
[02:43:18] <o11c> it looks like #[deriving(Default)] works 
[02:43:35] <ryeguy> interesting, didnt know that was derivable, makes sense though
[02:44:04] <o11c> hm, except that it *doesn't* work
[02:44:15] <o11c> it doesn't put an error on the deriving, but it errors later
[02:44:34] <o11c> wait
[02:44:43] <o11c> it errored on one of the *members*
[02:44:47] <o11c> that's progress!
[02:44:49] <aatch> ryeguy, o11c, for a generic function/method it has to compile for *all* possible instantiations of that function/method
[02:46:46] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[02:46:53] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[02:47:07] <o11c> sadness, it's not implemented for arrays
[02:49:59] <o11c> oh well, manually impl'ed it for the outer type
[02:50:32] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[02:53:32] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[02:55:34] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[02:56:20] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[02:56:55] *** Joins: kanru (kanru@moz-99690620.hinet-ip.hinet.net)
[02:56:57] <Valloric> this doesn't work: let f: u8 = '\n' as u8; let b: u8 = match f { '\n' => 2, _ => 3};
[02:57:12] <Valloric> how do I match against a u8 with a char literal?
[02:57:20] *** Quits: blank_name (blank_name@463DB555.53526368.6D228269.IP) (Quit: leaving)
[02:57:25] *** Joins: blank_name (blank_name@463DB555.53526368.6D228269.IP)
[02:58:14] *** Quits: lpy (lpy@E44EE2C4.F09091A8.1348A864.IP) (Ping timeout)
[02:58:46] *** Joins: lpy (lpy@E44EE2C4.F09091A8.1348A864.IP)
[03:01:03] *** Quits: kanru (kanru@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[03:01:14] <aatch> Valloric, I think you might be able to do '\n' as u8 in the pattern itself.
[03:01:31] <Valloric> aatch: tried that, didn't work
[03:03:06] <Valloric> I think this could be worked around with a macro that takes a char literal and converts it to a u8
[03:03:19] <Valloric> but ideally we'd have something in the compiler for this use case
[03:03:32] *** Quits: klapaucius (klapaucius@E5AF674E.5692770D.BB41F968.IP) (Ping timeout)
[03:03:44] <aatch> It doesn't actually come up that often.
[03:03:54] <Valloric> parsing binary data?
[03:04:03] <Valloric> I'd think it would come up
[03:04:19] *** Joins: klapaucius (klapaucius@FE07153.2B843F0C.19F9CE4C.IP)
[03:04:23] <aatch> not really, since you'd match against u8 literals
[03:04:59] <Valloric> but I want to write '\n', not the numeric ASCII value and a comment
[03:05:38] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[03:05:52] <aatch> Valloric, then either use an 'if' or cast the other thing to a char.
[03:06:18] <Valloric> ah, but I'm matching against a &[u8]
[03:06:35] <Valloric> with something like [ '\n', 'x', c, ...] in the pattern
[03:07:17] <aatch> Valloric, is this valid ASCII data?
[03:07:19] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[03:07:41] <Valloric> not guaranteed to be
[03:08:11] <Valloric> that's one of the match arms
[03:08:11] *** Quits: Rym (WUT@3F0A136F.A7136DCB.8772DA20.IP) (Connection reset by peer)
[03:08:17] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:08:17] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[03:08:25] <Valloric> binary formats suck, but they're all around us
[03:08:45] *** Joins: Rym (WUT@3F0A136F.A7136DCB.8772DA20.IP)
[03:08:45] <aatch> Valloric, sure, but you don't *have* to use character literals.
[03:08:58] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[03:09:07] <aatch> It's not really a binary format if the values are supposed to be those characters
[03:09:23] *** Quits: klapaucius (klapaucius@FE07153.2B843F0C.19F9CE4C.IP) (Ping timeout)
[03:09:31] <Valloric> correct, I could use 109 instead of 'm'
[03:09:43] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[03:09:43] *** Quits: Rym (WUT@3F0A136F.A7136DCB.8772DA20.IP) (Connection reset by peer)
[03:09:45] <Valloric> but it's not very readable 
[03:10:00] *** Joins: klapaucius (klapaucius@6DAEB5DB.2B843F0C.19F9CE4C.IP)
[03:10:17] *** Joins: Rym (WUT@3F0A136F.A7136DCB.8772DA20.IP)
[03:11:23] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[03:11:30] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[03:11:44] <aatch> Valloric, anyway, what you're asking for is to have a coercion that we don't do anywhere else.
[03:12:06] <aatch> because we use the full unicode code point for `char`
[03:12:16] <Valloric> not necessarily; I'd be fine with a macro to help out
[03:12:32] <aatch> Valloric, then make one. Should be possible with macro_rules!
[03:12:47] <Valloric> aatch: I would if I knew how ;)
[03:12:58] <Valloric> macros are a bit beyond my current Rust level
[03:13:11] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[03:14:57] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[03:15:24] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[03:17:18] *** Joins: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net)
[03:18:21] *** Quits: lpy (lpy@E44EE2C4.F09091A8.1348A864.IP) (Ping timeout)
[03:19:53] *** Joins: dukeleto (dukeleto@moz-3E7A0A89.ptld.qwest.net)
[03:21:34] *** Quits: dukeleto (dukeleto@moz-3E7A0A89.ptld.qwest.net) (Ping timeout)
[03:22:06] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[03:23:35] *** Joins: adonohue (adonohue@3332E4C0.6B10AC3.E2F59BBC.IP)
[03:23:43] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[03:24:57] <o11c> hm ...
[03:25:10] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Ping timeout)
[03:25:19] *** Joins: twi (Adium@moz-C93256DF.cust.vodafonedsl.it)
[03:25:32] <o11c> I'm facing a C API that expects a statically-allocated string ... is there any way to represent this in rust?
[03:25:46] <o11c> as far as I know, &'static str is not \0-terminated
[03:26:09] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[03:26:32] <Valloric> can't you just do this: static CSTR: &'static = "foo\0";
[03:26:48] <o11c> but that pushes the ugliness into all my callers
[03:26:54] <o11c> I'm wrapping the library, not using it
[03:27:00] *** Quits: twi (Adium@moz-C93256DF.cust.vodafonedsl.it) (Ping timeout)
[03:29:23] *** Quits: oxum (anonymous@5B2B4DB0.BBE46712.520CDC98.IP) (Quit: ...)
[03:29:57] *** Quits: Guest_ (textual@moz-ED7F06D5.lightspeed.cicril.sbcglobal.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:31:29] *** YourBestFriend is now known as sam113101_afk
[03:31:31] <o11c> maybe I'll just omit this API and hope nobody uses it
[03:32:29] *** sam113101_afk is now known as YourBestFriend
[03:32:37] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[03:33:22] *** Joins: sigma (sigma@moz-55097A0B.range86-163.btcentralplus.com)
[03:34:55] <brandonson> o11c you could probably write a macro to do \0 for you.  No idea how though.
[03:35:08] * brandonson doesn't use macros much
[03:36:40] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[03:37:29] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[03:38:29] <ChrisMorgan> It would need to be a procedural macro
[03:38:57] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[03:38:58] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[03:42:50] *** Joins: eddyb (eddy@DD15F8DE.17CB6122.FCAAE698.IP)
[03:45:06] *** Joins: kanru (kanru@moz-99690620.hinet-ip.hinet.net)
[03:45:40] *** Joins: alan_andrade_ (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[03:47:26] <mindslight> o11c: for sometihng similar, i used an allocated ~[u8] on a long-lived wrapping object
[03:48:42] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[03:49:12] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[03:49:37] *** Joins: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se)
[03:49:48] *** Quits: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net) (Quit: Leaving.)
[03:50:55] *** Quits: ab (alex@BC9D99CC.37C1012D.FE617B51.IP) (Ping timeout)
[03:50:55] *** Quits: adonohue (adonohue@3332E4C0.6B10AC3.E2F59BBC.IP) (Quit: adonohue)
[03:51:00] *** Quits: nszceta (hax@moz-E6CA8D6.hsd1.pa.comcast.net) (Input/output error)
[03:51:59] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:53:59] *** Quits: saml (saml@moz-AFAADF83.nycmny.east.verizon.net) (Quit: Leaving)
[03:54:24] *** Joins: dukeleto (dukeleto@moz-3E7A0A89.ptld.qwest.net)
[03:54:57] *** Joins: ab (alex@BC9D99CC.37C1012D.FE617B51.IP)
[03:55:32] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[03:56:05] *** Quits: dukeleto (dukeleto@moz-3E7A0A89.ptld.qwest.net) (Ping timeout)
[03:57:37] *** Quits: engla_ (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[03:58:37] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[03:58:39] *** Quits: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se) (Quit: WeeChat 0.4.3)
[03:58:52] *** Quits: kimundi (kimundi@moz-94744042.dip0.t-ipconnect.de) (Ping timeout)
[03:59:07] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[03:59:11] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[04:00:00] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[04:00:47] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[04:01:42] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[04:01:42] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[04:01:59] *** Joins: kimundi (kimundi@moz-C46B8065.dip0.t-ipconnect.de)
[04:03:24] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[04:04:41] *** Joins: aravindavk (aravinda@99AD0EE1.1A99E103.C28A6AA4.IP)
[04:06:18] *** Joins: frogzilla (Mibbit@E87770CF.F746F57.CC1A2609.IP)
[04:06:41] *** kimundi is now known as zz_kimundi
[04:06:58] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[04:07:55] *** Joins: adonohue (adonohue@3332E4C0.6B10AC3.E2F59BBC.IP)
[04:08:27] *** Quits: frogzilla (Mibbit@E87770CF.F746F57.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:08:45] *** Quits: bytewise (bytewise@moz-20A3039F.adsl.alicedsl.de) (Ping timeout)
[04:09:01] *** Quits: Rym (WUT@3F0A136F.A7136DCB.8772DA20.IP) (Connection reset by peer)
[04:11:57] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[04:12:28] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[04:13:29] *** Quits: heftig_ (heftig@moz-291A580B.dip0.t-ipconnect.de) (Quit: Quitting)
[04:13:32] *** zz_kimundi is now known as kimundi
[04:13:37] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[04:13:44] *** Joins: heftig (heftig@moz-291A580B.dip0.t-ipconnect.de)
[04:15:13] <ryeguy> is there a flag to disable test println buffering?
[04:16:29] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[04:17:19] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[04:18:54] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Quit: )
[04:25:45] *** Joins: oxum (anonymous@EA486233.44F41798.520CDC98.IP)
[04:26:06] *** Joins: twi (Adium@moz-C93256DF.cust.vodafonedsl.it)
[04:27:27] *** Quits: adonohue (adonohue@3332E4C0.6B10AC3.E2F59BBC.IP) (Ping timeout)
[04:27:48] *** Quits: twi (Adium@moz-C93256DF.cust.vodafonedsl.it) (Ping timeout)
[04:28:39] *** Joins: adonohue (adonohue@moz-2CCCCA78.vc.shawcable.net)
[04:29:07] *** Quits: oxum (anonymous@EA486233.44F41798.520CDC98.IP) (Quit: Bye..)
[04:29:32] *** Joins: oxum (anonymous@EA486233.44F41798.520CDC98.IP)
[04:30:00] *** Quits: alan_andrade_ (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[04:30:43] *** Quits: refold (gman@moz-42D68426.a258.priv.bahnhof.se) (Quit: leaving)
[04:31:18] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[04:31:31] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[04:31:44] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[04:32:32] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[04:32:41] *** Quits: adonohue (adonohue@moz-2CCCCA78.vc.shawcable.net) (Quit: adonohue)
[04:33:24] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[04:34:12] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[04:38:48] *** Joins: sruggier1 (sruggier@moz-B9FB4CF4.cpe.pppoe.ca)
[04:39:34] <sruggier1> Hi all, I'm porting my code up to the current version of rustc, and one thing I'm having trouble with is extern crate {...}
[04:40:45] *** Joins: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP)
[04:40:45] *** ChanServ sets mode: +ao brson brson
[04:41:00] <sruggier1> I have a file A that pulls in file B using mod B. File B depends on the sync library, and I compile the program by calling rustc on file A. If I declare extern crate sync; at the top of file B, it seems to make no differece. If I put it at the top of file A, though, file B is able to use stuff from sync.
[04:41:19] <sruggier1> Is this what we're expected to do, or am I doing it wrong?
[04:41:39] <sruggier1> difference*
[04:41:40] *** Joins: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com)
[04:43:27] <cmr> sruggier1: do you have a `use sync` in B?
[04:44:21] <sruggier1> cmr: no, I have "use sync::{Mutex};" instead. Is that my problem?
[04:45:10] <cmr> yes.
[04:45:22] <cmr> `use` is relative to the crate root, not the curent module.
[04:45:35] <cmr> so if you put the `extern crate sync` in B, you'd need `use self::sync::Mutex;`
[04:46:59] <sruggier1> cmr: ooh, that worked, thanks
[04:47:09] * o11c wonders how long the rust people will insist that there's nothing wrong with the rust module/crate system
[04:47:35] *** Joins: bvssvni (Mibbit@moz-C4579D6F.bb.online.no)
[04:47:49] <sruggier1> ***o11c: meh, now that I understand that, I have no problem with it
[04:48:13] *** Joins: adonohue (adonohue@moz-2CCCCA78.vc.shawcable.net)
[04:48:32] *** sruggier1 is now known as sruggier
[04:51:11] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[04:53:40] <Denommus> o11c: what do you think it's wrong?
[04:54:01] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[04:55:26] *** Quits: adonohue (adonohue@moz-2CCCCA78.vc.shawcable.net) (Quit: adonohue)
[04:55:42] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[04:57:38] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[04:58:33] *** Joins: epall (epall@moz-FA29BBA2.lightspeed.sntcca.sbcglobal.net)
[04:59:48] <ChrisMorgan> o11c: accusations of wrongness need to be accompanied with examples of *what* is wrong. Preferably ways in which it could be improved, also.
[05:00:15] <Denommus> ChrisMorgan++
[05:00:39] *** Joins: adonohue (adonohue@3332E4C0.6B10AC3.E2F59BBC.IP)
[05:01:04] *** Joins: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net)
[05:01:11] <cmr> o11c: I've been thinking more on our conversation last night and the only problem is that it's difficult to refactor the module heirarchy, and a module can't easily be split across multiple files (requires all manner of nasty reexports, which wouldn't be so bad except glob reexports are not long for this world)
[05:01:24] <cmr> also I'm only one person... and I didn't insist that *nothing* was wrong.
[05:01:28] <sruggier> if I were to read between the lines, I'd say the wrongness is that it wasn't immediately obvious to me how to include and use an extern crate from within a submodule. I'm personally fine with that, but that's how I'd interpret the accusation of wrongness
[05:01:54] *** Quits: heftig (heftig@moz-291A580B.dip0.t-ipconnect.de) (Ping timeout)
[05:01:55] <ChrisMorgan> I will grant that it does take learning, rather than being intuitive, but I can't see how one can *get* intuitive behaviour while retaining the power of the module system. And once it's learned, I don't believe it's a problem at all.
[05:02:17] <Denommus> splitting a module in different files is a good point
[05:02:24] *** Quits: aravindavk (aravinda@99AD0EE1.1A99E103.C28A6AA4.IP) (Ping timeout)
[05:03:16] <sruggier> I have to say also, it seems like Rust is still in such an unstable state (in terms of rate of change, not reliability) that the community is clearly not afraid to break things in the name of fixing gaps in the language
[05:03:40] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[05:03:41] <sruggier> I say this as I deal with with lots of breakage from not having updated my rustc in a few months :)
[05:03:45] <cmr> Calling the modules is probably not very good, because they're more accurately namespaces. (But, for example, traits and structs/enums also introduce namespaces, for their methods.) I can't think of good syntax that would make it better.
[05:04:39] <wolfwood> is there a quick way to reference the last element of a vector?
[05:04:44] <cmr> wolfwood: .last()
[05:04:49] <wolfwood> ty
[05:05:03] <Denommus> sruggier: I don't think that's a bad thing. The language is unstable, after all. I prefer it is tweaked until it is more or less ideal than Go's approach of saying it is stable and having to handle design decisions from when the design was still immature
[05:05:32] <Denommus> cmr: hm? How are they not modules?
[05:06:01] <cmr> Denommus: 1. I said they were *more accurately* namespaces, not that they weren't modules, 2. define module
[05:06:21] <Denommus> cmr: well, you made the claim, why should I be the one to define stuff?
[05:06:34] <cmr> it's a nebulous term with no meaning, that's my point.
[05:06:34] <wolfwood> cmr: I was looking at the doumentation for vec, any idea which trait that method comes from?
[05:06:42] <cmr> wolfwood: ImmutableVector probably.
[05:06:48] *** Joins: heftig (heftig@moz-61DF4D47.dip0.t-ipconnect.de)
[05:06:52] *** Quits: mno2 (mno2@76ED98CE.BEBC37B7.DA359910.IP) (Quit: mno2)
[05:06:52] <cmr> wolfwood: docs for builtin types are such a pain :(
[05:07:09] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[05:07:09] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[05:07:25] *** Quits: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: leaving)
[05:07:33] <sruggier> Denommus: I didn't mean to imply that it's a bad thing, I was offering that up as a counterpoint to the idea that anyone was insisting nothing was wrong with the module system
[05:07:37] <wolfwood> well, it would be nice to get all the applicable methods on one page
[05:08:00] <sruggier> I actually like the changes I'm seeing so far, it's nice to see the task related runtime getting more fleshed out
[05:08:32] <Denommus> sruggier: right
[05:08:49] <sruggier> the inconvenience to me is the price I pay for using a bleeding edge language that's still being baked, and so far I find it worth it to do that
[05:09:04] <o11c> Denommus, ChrisMorgan: I posted on the bug yesterday
[05:09:18] * ChrisMorgan doesn't know of such a bug
[05:09:20] <sruggier> I don't know any other language with the same combination of safety and memory management. I'll stop rambling now.
[05:09:41] <Denommus> o11c: is it a design problem or just an implementation bug?
[05:09:47] <o11c> design
[05:10:23] <Denommus> o11c: I'd like to see the link :)
[05:10:31] <o11c> https://github.com/mozilla/rust/issues/11745
[05:12:44] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[05:13:11] <Denommus> o11c: 1 is a great point
[05:13:38] *** Joins: alinab_ (alina@moz-94EAE39D.alinab.org)
[05:13:45] *** Quits: alinab_ (alina@moz-94EAE39D.alinab.org) (Quit: alinab_)
[05:14:25] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[05:14:32] *** Quits: alinab (alina@moz-94EAE39D.alinab.org) (Quit: leaving)
[05:14:35] *** Joins: alinab (alina@moz-94EAE39D.alinab.org)
[05:14:42] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Ping timeout)
[05:14:53] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[05:15:01] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[05:15:01] *** ChanServ sets mode: +o jdm
[05:15:48] *** Quits: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca) (Quit: canhtak)
[05:16:31] *** Joins: ChemicalHarm (Mibbit@moz-A9F37238.hsd1.md.comcast.net)
[05:16:55] *** Quits: alinab (alina@moz-94EAE39D.alinab.org) (Quit: leaving)
[05:16:58] *** Joins: alinab (alina@moz-94EAE39D.alinab.org)
[05:17:34] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[05:18:30] *** Parts: ChemicalHarm (Mibbit@moz-A9F37238.hsd1.md.comcast.net) ()
[05:19:25] <wolfwood> hmmm, I'm using .last() not .last_opt() but getting a type error that suggests I'm still getting an option
[05:19:54] <cmr> are you looking at the docs for the version of rust you have installed?
[05:20:06] <cmr> most foo_opt's have been removed in favor of just returning an option
[05:20:22] <wolfwood> looking at docs for master
[05:20:45] <cmr> http://static.rust-lang.org/doc/master/std/vec/trait.ImmutableVector.html#tymethod.last
[05:20:48] <cmr> returns an option
[05:21:18] <wolfwood> hmm, some how I ended up on 0.9, you're right
[05:22:20] *** Quits: blank_name (blank_name@463DB555.53526368.6D228269.IP) (Quit: leaving)
[05:22:49] *** Joins: blank_name (blank_name@463DB555.53526368.6D228269.IP)
[05:23:01] <sruggier> btw, is there a draft copy of the 0.10 release notes in the codebase, or similar? it may make my porting easier. I'm finding git log to be almost as good, though, so I can't complain.
[05:23:11] *** Joins: brson (brson@6A848D32.C1B840DD.76F66111.IP)
[05:23:11] *** ChanServ sets mode: +ao brson brson
[05:23:25] *** Joins: ChemicalHarm (chemicalha@moz-A9F37238.hsd1.md.comcast.net)
[05:23:28] <cmr> sruggier: I write http://cmr.github.io/blog/categories/this-week-in-rust/ every week
[05:23:33] <cmr> has a list of all the breaking changes.
[05:23:43] <cmr> I think brson writes the release notes off of them now...
[05:24:06] <bvssvni> when does the 0.10 come?
[05:24:14] <cmr> 3 months after 0.9
[05:25:56] <sruggier> I'm porting through almost 4 months of changes, so I don't know how helpful TWIR will be, but thanks, I'll give it a try
[05:26:02] <cmr> yeah :)
[05:26:04] <sruggier> it must be a lot of work keeping that up to date
[05:26:08] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[05:26:26] <snerd> wow, lotsa changes
[05:26:35] <cmr> salient summary: std::io is overhauled, most everything returns an Option or Result, extra::foo is now its own crate named foo.
[05:26:49] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[05:26:49] *** Joins: twi (Adium@moz-C93256DF.cust.vodafonedsl.it)
[05:26:51] *** Quits: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net) (Quit: Leaving.)
[05:27:07] <cmr> past that... lots of minor changes.
[05:27:12] <sruggier> yep
[05:27:30] *** Joins: aravindavk (aravinda@B06D8BA1.3879373B.48ADE194.IP)
[05:28:21] <Valloric> cmr: thanks for writing TWIR btw, those are awesome; I never skip it
[05:28:30] *** Quits: twi (Adium@moz-C93256DF.cust.vodafonedsl.it) (Ping timeout)
[05:28:52] <cmr> I write it because it's useful and necessary :)
[05:29:29] <Valloric> just wanted to let you know your work is appreciated :)
[05:29:39] *** Quits: jkingyens (jkingyens@moz-B0C1B161.hsd1.ca.comcast.net) (Quit: jkingyens)
[05:30:19] <bvssvni> it is awesome
[05:30:47] <sruggier> Certainly an amazing resource. I feel like I'm wasting it by not finding the time to read it.
[05:31:07] <wolfwood> i dunno what to do if last returns a None, exit I guess
[05:31:14] <sruggier> but on the other hand, I didn't want to worry about it while I was getting the resizing scheme working on my disruptor implementation
[05:31:15] <cmr> it's more useful if you're keeping up with rustc changes ~weekly, rather than... quarterly :p
[05:31:20] <sruggier> yeah
[05:31:41] <cmr> wolfwood: yeah, if you can't usefully continue just use .unwrap()
[05:31:56] <sruggier> I may start doing that now that I have the hard part out of the way.
[05:32:01] *** Quits: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:32:09] *** Quits: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP) (Quit: )
[05:32:28] <cmr> what kind of perf are you seeing btw?
[05:32:49] <cmr> I remember being really excited when you first said you were working on it
[05:34:35] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[05:35:05] <sruggier> on my P8800-based system (2.66GHz Core 2), I get ~27 million ops per second, using a wait strategy that is fit for use in casually developed programs
[05:35:45] <sruggier> it seems like it may be dropping by 1-2 million with the resizing support, but that's fine, if your software is performance sensitive enough to care about that, you won't be using that, as far as I can tell
[05:36:03] *** Quits: ab (alex@BC9D99CC.37C1012D.FE617B51.IP) (Ping timeout)
[05:36:13] <sruggier> and by fit for use in casually developed programs, I mean won't burn CPU time when you're not using it
[05:36:17] <cmr> do you have measurements of the built-in channels on that box?
[05:36:32] <sruggier> I do, but they're of the built in channels from 4 months ago :)
[05:36:34] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[05:36:44] <cmr> ok
[05:36:58] <cmr> well, you should send something to the ML or reddit once it's up to date
[05:37:11] <sruggier> I was going to do that today, until I hit the wall of compile errors
[05:37:27] <sruggier> I almost forgot that I had to update rustc before sending the message, that would have been awkward
[05:37:44] <cmr> heh
[05:37:58] <cmr> definitely. we do a lot better codegen now than we did at 0.8
[05:38:08] <sruggier> and thanks, I hadn't thought of sending to the reddit until brson suggested it
[05:38:09] <cmr> and we have LTO and static linking, which might be able to help a bit.
[05:38:28] <bvssvni> what is LTO?
[05:38:33] <sruggier> link-time optimization
[05:38:35] <cmr> link-time optimization
[05:38:40] <bvssvni> thanks
[05:38:48] <sruggier> i.e. across functions
[05:38:57] <cmr> basically concatenates all of the IR from all the libraries together, and optimizes it as a whole.
[05:39:03] <sruggier> yeah, so far I haven't done anything abstraction-wise and then seen performance blow up, I'm impressed
[05:39:05] <bvssvni> with rlibs?
[05:39:10] <cmr> knowing that nothing is public.
[05:39:13] <cmr> yes, and -Z lto
[05:39:43] <cmr> anyway time for me to hit the sack
[05:39:54] <bvssvni> is the -Z lto flag requires to enable link time optimization?
[05:40:00] <bvssvni> *required
[05:40:03] *** Joins: dukeleto (dukeleto@moz-3E7A0A89.ptld.qwest.net)
[05:40:18] <cmr> yep.
[05:40:27] <cmr> it's *very* slow
[05:40:32] <cmr> so it isn't enabled by default
[05:40:46] <cmr> but it results in faster, smaller binaries
[05:40:47] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[05:40:47] <ChrisMorgan> *Very* slow.
[05:40:49] <cmr> (usually)
[05:40:52] <ChrisMorgan> *Very*, *very* slow.
[05:40:55] <bvssvni> haha
[05:41:06] <sruggier> thanks for your help cmr
[05:41:07] <mindslight> is it possible to clone a ~Trait ? The compiler gives me an error (due to self-type), but it seems overly restrictive as we know the self type will satisfy ~Trait as well
[05:41:36] *** Quits: zmike (discomfito@moz-975BC507.hsd1.ct.comcast.net) (Ping timeout)
[05:41:52] *** Joins: jkingyens (jkingyens@moz-DD2E02EB.mycingular.net)
[05:42:24] <bvssvni> mindslight: Clone returns a Self
[05:42:48] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[05:42:52] <bvssvni> mindslight: so it doesn't look it is possible directly
[05:43:20] <mindslight> yeah, but Self will obviously conform to ~Trait
[05:44:15] *** Quits: zmthy (zmthy@moz-C2881CC3.ecs.vuw.ac.nz) (Quit: leaving)
[05:44:30] <mindslight> i can understand why there is an error, but it seems like a bug :>
[05:45:28] <bvssvni> mindslight: Self works as a generic type
[05:46:10] <bvssvni> mindslight: there might be possible to use the Any trait and cast then clone it
[05:46:21] *** Joins: lpy (lpy@E44EE2C4.F09091A8.1348A864.IP)
[05:46:54] <wolfwood> building up a vector in a loop, but the compiler is afraid its uninitialized when I try to return it
[05:47:10] <bvssvni> mindslight: or, possibly, make the ~Trait inherit Clone
[05:47:28] <mindslight> wolfwood: what happens if there is nothing to loop over ?
[05:48:05] <mindslight> bvssvni: doing that, which i'd think is necessary to clone at all
[05:48:13] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[05:48:22] <wolfwood> mindslight: well, I don't know how to prmise that won't happen
[05:48:24] <ChrisMorgan> bvssvni: that still won't cut it. There is no general solution for it in the language at present.
[05:49:26] *** Joins: Puzzler (puzzler@moz-CD721145.hsd1.mi.comcast.net)
[05:49:54] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[05:50:25] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[05:50:42] <mindslight> wolfwood: i don't know if you can.. if you're "building" it, doesn't it need some initial value?
[05:51:35] *** Quits: adonohue (adonohue@3332E4C0.6B10AC3.E2F59BBC.IP) (Quit: adonohue)
[05:51:43] <mindslight> i can understand why cloning a trait instance doesn't work right now... maybe ill ask tomorrow to feel out if i should file a bug 
[05:51:46] <ChrisMorgan> I said that there is no general solution for cloning trait objects—but you can do it on a trait-by-trait basis.
[05:51:49] <ChrisMorgan> rusti: trait Foo: Clone + Send { fn clone_foo(&self) -> ~Foo { ~self.clone() as ~Foo } } #[deriving(Clone)] struct Bar; impl Foo for Bar { } (~Bar as ~Foo).clone_foo()
[05:51:49] -rusti- ~main::Foo:Send
[05:52:03] <mindslight> can always make a method that does it, just seems unclean
[05:52:16] <mindslight> ChrisMorgan: yeah, that's the workaround i'm thinking
[05:52:45] <ChrisMorgan> But due to how the language is structured at present, it is not possible to implement Clone itself for a trait object..
[05:53:14] <mindslight> it's not really a language issue, but an overrestrictive compiler, no?
[05:53:48] <mindslight> (due to some unimplemented functionality)
[05:55:46] * ChrisMorgan wonders how to tell the difference between language and compiler in this case
[05:56:01] <ChrisMorgan> It is a language issue.
[05:56:59] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[05:57:09] <mindslight> hm, i'll have to think about that a bit more tomorrow
[05:57:30] <ChrisMorgan> Because calling Clone.clone() requires you to know what type it is, and that information is not available (without a variety of reflection not available) for trait objects.
[05:58:28] <mindslight> you don't need to know the type for any other trait methods
[05:58:44] *** Quits: sigma (sigma@moz-55097A0B.range86-163.btcentralplus.com) (Ping timeout)
[05:59:14] <wolfwood> I can't make an empty vector can I?
[05:59:44] <bvssvni> wolfwood: let a: ~[T] = ~[];
[05:59:51] <mindslight> and if it were *taking* a second Self parameter, the caller would *need* to know the exact type
[05:59:58] <mcpherrin> rusti: let v: ~[u8] = ~[]; v
[05:59:59] <wolfwood> oh, sweet
[05:59:59] -rusti- ~[]
[06:00:18] <mcpherrin> You do need to specify the type explicitly since it can't be inferred from ~[]
[06:01:15] <bvssvni> rusti: let mut a = ~[]; a.push(2); a
[06:01:16] -rusti- ~[2]
[06:01:32] <Puzzler> Speaking of vectors, I'm trying to modify an element in a vector of owned references to enums with struct variants. Getting "cannot borrow immutable field as mutable". Don't know if it's because the elements of the vector are immutable or what. Would anyone mind taking a look at a distilled example at: http://pastie.org/8825361# ?
[06:01:34] <bvssvni> it can derive the type from how you use it
[06:02:12] *** Joins: maxli (maxli@moz-1650391B.hsd1.ca.comcast.net)
[06:02:32] *** Quits: maxli (maxli@moz-1650391B.hsd1.ca.comcast.net) (Quit: Leaving.)
[06:02:37] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[06:03:04] <bvssvni> Puzzler: change & to &mut
[06:03:18] <bvssvni> Puzzler: line 15
[06:03:44] <Puzzler> On the rhs of =?
[06:04:14] <o11c> how do you do pointer subtraction on *i8 ?
[06:04:15] <bvssvni> Puzzler: yes
[06:04:17] <Puzzler> Worked! thanks!
[06:05:01] <Puzzler> That really changes my sense of the meaning of mut. Thought it could only be applied to variables….
[06:05:16] <bvssvni> o11c: maybe cast it to [i8] and then use index arithmetic
[06:05:48] <o11c> bvssvni: I mean, subtracting two *i8's
[06:05:57] <bvssvni> o11c: ah
[06:06:09] <o11c> maybe transmute to uint?
[06:06:59] <bvssvni> o11c: wouldn't that change memory outside the *i8 as well?
[06:07:25] <bvssvni> o11c: ah, I understand
[06:07:45] <bvssvni> o11c: yeah, that might work
[06:08:48] *** Joins: blindrenderer (blindrende@CFA55475.329A1D83.D01D599A.IP)
[06:12:20] <o11c> okay, I think I got it
[06:12:42] <o11c> (going to a fair bit of work to deal with a C API that does string slicing)
[06:13:07] <o11c> (basically: parse a char *, return what whatever was unparsed)
[06:13:13] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[06:13:13] *** Quits: lpy (lpy@E44EE2C4.F09091A8.1348A864.IP) (Client exited)
[06:13:17] *** Quits: blindrenderer (blindrende@CFA55475.329A1D83.D01D599A.IP) (Quit: Leaving)
[06:13:28] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[06:13:28] *** Joins: blindrenderer (blindrende@CFA55475.329A1D83.D01D599A.IP)
[06:13:39] <bvssvni> o11c: https://gist.github.com/bvssvni/9319361
[06:14:02] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[06:14:48] <bvssvni> o11c: interestingly, the first pointer got higher address
[06:15:09] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[06:15:25] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Quit: )
[06:16:12] *** Joins: twi (Adium@moz-C93256DF.cust.vodafonedsl.it)
[06:16:32] *** Quits: Kxepal (Miranda@moz-D26FCE20.pppoe.mtu-net.ru) (Quit: Kxepal)
[06:16:46] *** Joins: Kxepal (Miranda@moz-D26FCE20.pppoe.mtu-net.ru)
[06:20:05] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[06:20:06] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[06:20:49] *** Joins: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP)
[06:22:27] *** Quits: ChemicalHarm (chemicalha@moz-A9F37238.hsd1.md.comcast.net) (Client exited)
[06:22:31] *** Quits: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP) (Ping timeout)
[06:23:05] *** Joins: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP)
[06:23:16] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[06:25:08] *** Quits: epall (epall@moz-FA29BBA2.lightspeed.sntcca.sbcglobal.net) (Quit: epall)
[06:26:04] *** Joins: huon1 (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net)
[06:26:11] *** Joins: ChemicalHarm (chemicalha@moz-A9F37238.hsd1.md.comcast.net)
[06:26:54] *** huon1 is now known as huon
[06:27:23] <huon> o11c: `p as uint - q as uint` works too, btw
[06:27:30] <sruggier> cmr: Just got it running again, it's still at least around 6x faster than using Chan. My lead is slipping a little bit :)
[06:27:30] <sruggier> I'll post to the ML later this week.
[06:27:49] <huon> (`*T as uint` is a non-unsafe & lossless operation)
[06:29:13] <o11c> ah, since *T is unsafe generally, no reason not to allow as
[06:29:24] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[06:30:42] <bvssvni> o11c: you can not dereference the uint, therefore it is safe
[06:30:50] *** Quits: ChemicalHarm (chemicalha@moz-A9F37238.hsd1.md.comcast.net) (Client exited)
[06:36:42] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[06:39:47] *** Joins: ofeldt- (ofeldt@moz-7804B8F1.dip0.t-ipconnect.de)
[06:40:48] *** Quits: ofeldt (ofeldt@moz-D9D7E8D6.dip0.t-ipconnect.de) (Ping timeout)
[06:41:50] <huon> the only unsafe operations with *T are dereferencing (obviously unsafe) and .offset (is undefined behaviour to move the pointer outside the object from which it came).
[06:42:23] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[06:42:41] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[06:43:04] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[06:44:04] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[06:44:20] *** Quits: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net) (Ping timeout)
[06:44:32] *** Joins: alkino (alkino@moz-53CAAA6D.w92-151.abo.wanadoo.fr)
[06:50:19] <wolfwood> looks like I need to use ref counting instead of owned pointers, any good places to look for examples?
[06:50:51] *** Quits: oxum (anonymous@EA486233.44F41798.520CDC98.IP) (Quit: ...)
[06:50:55] <o11c> wolfwood: http://static.rust-lang.org/doc/master/std/rc/index.html
[06:51:17] <wolfwood> yeah, there's no example code there
[06:52:20] *** Quits: Valloric (Valloric@moz-288722BA.hsd1.ca.comcast.net) (Quit: Valloric)
[06:53:04] *** Joins: edwardw (edwardw@24D7341C.32602B75.B9C6B12A.IP)
[06:57:13] <Eridius> wolfwood: the API is at http://static.rust-lang.org/doc/master/std/rc/struct.Rc.html. Your refcounted pointer type is Rc<T> (e.g. Rc<int> if you really want a ref-counted integer for some crazy reason)
[06:57:33] <Eridius> you create it with Rc::new(val), and you use ptr.borrow() to get a &T
[06:57:47] <wolfwood> so, I can't use a raw [] as a T tho, right?
[06:58:03] <Eridius> not right now. DST will fix that though
[06:58:24] <Eridius> Rc<~[T]> works though
[06:58:33] *** Quits: aravindavk (aravinda@B06D8BA1.3879373B.48ADE194.IP) (Ping timeout)
[06:59:03] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[06:59:19] *** Quits: Puzzler (puzzler@moz-CD721145.hsd1.mi.comcast.net) (Quit: )
[06:59:23] <wolfwood> ok, and Rc<~[RC<~[Rc<~str>]>]> for a 3d string array?
[06:59:28] *** Joins: angdev (angdev@3AC3DC35.8E8CA546.413CBA8C.IP)
[06:59:31] <Eridius> o_O
[06:59:33] <Eridius> cripes
[06:59:53] <Eridius> do you really need each dimension to be separately ref-counted?
[07:00:05] <Eridius> as upposed to just Rc<~[~[~str]]>
[07:00:10] <wolfwood> no
[07:00:25] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[07:01:13] *** Quits: angdev (angdev@3AC3DC35.8E8CA546.413CBA8C.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:01:14] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[07:01:15] *** Quits: jkingyens (jkingyens@moz-DD2E02EB.mycingular.net) (Connection reset by peer)
[07:02:08] <myname> what references does that count? those of the first dimension?
[07:02:41] <Kroisse> how about Rc<~[[~str, ..n]]> if n is fixed?
[07:02:58] <huon> (it has to be fixed at compile time)
[07:03:04] <wolfwood> its not
[07:03:22] <Eridius> myname: the reference counting is wrapped around the value
[07:03:28] <Eridius> it's counting the whole ~[~[~str]]
[07:03:42] <Eridius> note that the outer ~[T] value owns the inner ~[~str], and the inner ~[T] owns the doubly-inner ~str
[07:03:54] *** Joins: lpy (lpy@E44EE2C4.F09091A8.1348A864.IP)
[07:03:55] <myname> a
[07:03:59] *** Joins: aravindavk (aravinda@B06D8BA1.3879373B.48ADE194.IP)
[07:06:51] <wolfwood> and how do I 'let mut sprites: Rc<~[~[~str]]> = ~[~[]];'
[07:06:52] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[07:07:04] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[07:07:10] <wolfwood> works without the Rc
[07:08:30] *** Joins: mgottschlag (quassel@moz-B2C39C83.cust.bluewin.ch)
[07:08:37] <huon> Rc::new(~[~[]])?
[07:08:59] <bvssvni> wolfwood: Rc is immutable
[07:10:02] <wolfwood> i see
[07:10:13] <huon> (the contents of Rc are an immutable slot, that is.)
[07:10:22] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[07:10:32] <huon> you need std::cell::RefCell to have mutable contents
[07:10:58] <huon> that said, I would strongly recommend you avoid Rc if at all possible; especially if you're just learning Rust
[07:14:14] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[07:15:54] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[07:16:29] *** Joins: fabiand (fabiand@moz-7E0AD54C.adsl.alicedsl.de)
[07:17:30] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[07:20:42] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[07:21:02] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[07:21:13] <wolfwood> yeah, I can make the compiler happy using a .clone() but its really unnecessary
[07:22:16] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Quit: mbx)
[07:22:49] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[07:23:13] *** Joins: Guest_ (textual@moz-310FD28A.dynamic.caiway.nl)
[07:24:55] <huon> maybe you should be passing a reference (&) around, rather than taking a vector by value
[07:25:05] <huon> (since a vector moves ownership)
[07:28:21] *** Joins: oxum (anonymous@5B2B4DB0.BBE46712.520CDC98.IP)
[07:31:06] <doomlord_> http://dwrensha.github.io/capnproto-rust/2013/11/16/benchmark.html <<< is this benchmark simply the result of library optimizations we're waiting for, or optimizations that require unsafe code
[07:32:44] <mcpherrin> doomlord_: fyi there's an updated version of that benchmark, http://dwrensha.github.io/capnproto-rust/2014/01/15/benchmark-update.html
[07:32:50] <huon> doomlord_: which part of that benchmark?
[07:33:05] *** Quits: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP) (Quit: Leaving...)
[07:33:09] *** Quits: Guest_ (textual@moz-310FD28A.dynamic.caiway.nl) (Quit: Computer has gone to sleep.)
[07:33:21] <huon> (the benchmark itself is the result of dwrensha wanting to compare the performance of his library to the canonical C++ one.)
[07:34:09] *** Joins: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP)
[07:34:45] <doomlord_> mcpherrin, the text says "he got a faster computer" :) i hope thats not the improvement
[07:34:48] *** Quits: philix (philix@6B5FF376.A196ECBA.648674BD.IP) (Quit: philix)
[07:35:04] *** Joins: eibwen (kvirc@moz-170ABD96.dip0.t-ipconnect.de)
[07:35:11] *** Quits: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP) (Ping timeout)
[07:35:44] <huon> doomlord_: why not?
[07:36:06] <huon> it means the rust language/compiler/library have improved and lead to faster code
[07:36:33] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[07:36:36] <huon> oh
[07:36:40] <huon> computer, not compiler
[07:36:55] <Yurume> doomlord_: "faster computer" means that the two results are not directly comparable, just that.
[07:36:56] * huon learns to read
[07:37:12] <huon> (the C++ and Rust results within the second post are still comparable, though.)
[07:37:33] <Yurume> results from two separate benchmarks, right.
[07:37:49] <huon> and the relative times C++ vs. Rust are (mostly) comparable between the posts.
[07:38:14] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[07:38:44] *** Quits: dukeleto (dukeleto@moz-3E7A0A89.ptld.qwest.net) (Ping timeout)
[07:40:42] <doomlord_> that looks within the margin of comparing one C++ compiler and another
[07:41:11] *** Quits: eibwen (kvirc@moz-170ABD96.dip0.t-ipconnect.de) (Ping timeout)
[07:41:41] <huon> I wonder what C++ compiler he is using...
[07:42:29] *** Quits: aravindavk (aravinda@B06D8BA1.3879373B.48ADE194.IP) (Ping timeout)
[07:44:57] *** Joins: tgkokk (tgkokk@moz-29BC739C.home.otenet.gr)
[07:45:40] *** Quits: mgottschlag (quassel@moz-B2C39C83.cust.bluewin.ch) (Ping timeout)
[07:46:56] *** Quits: brson (brson@6A848D32.C1B840DD.76F66111.IP) (Ping timeout)
[07:51:21] *** Joins: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP)
[07:51:21] *** ChanServ sets mode: +ao brson brson
[07:56:14] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[07:56:59] *** Joins: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net)
[07:57:19] *** Joins: alonlevy (alon@2CD54432.57968636.E9C721AF.IP)
[07:59:27] *** Joins: _eddyb_ (eddy@F8B50789.F33C1089.FB866788.IP)
[07:59:38] *** Quits: eddyb (eddy@DD15F8DE.17CB6122.FCAAE698.IP) (Connection reset by peer)
[07:59:56] *** _eddyb_ is now known as eddyb
[08:00:09] *** flaper87|afk is now known as flaper87
[08:02:22] *** Joins: mno2 (mno2@76ED98CE.BEBC37B7.DA359910.IP)
[08:03:02] *** Joins: aravindavk (aravinda@597F85D2.442FC963.4781A82F.IP)
[08:03:11] *** Joins: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP)
[08:06:08] *** Quits: edwardw (edwardw@24D7341C.32602B75.B9C6B12A.IP) (Quit: Leaving...)
[08:06:58] *** Quits: urbanserj (urbanserj@3E28BD5F.398BF19F.86BD9C9E.IP) (Ping timeout)
[08:07:12] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[08:08:43] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[08:09:12] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:09:22] <doomlord_> There's no semantic reason for rust to be slower - right - possibly growable stacks but thats acceptable, since you could use the stack more than heap allocation for specific optimization
[08:09:37] <doomlord_> (and C++ has a growable stack option too,i think)
[08:10:05] <mcpherrin> Really, there's a lot of stuff in Rust that should make it faster
[08:10:07] *** Joins: Ferreus (ferreus@moz-DAF3AD3F.dip0.t-ipconnect.de)
[08:10:10] <doomlord_> if that was the case, (growable safe-stacks slower?) couldn't rust just get an "unsafe stack" option (program wide rather than crate wide)
[08:10:26] <eddyb> growable stacks haven't been in Rust for months now, AFAIK
[08:10:29] <doomlord_> pointer-aliasing is the one thing i'm aware of - in the console development work i've done, "restrict" was really important
[08:10:53] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[08:10:55] <eddyb> we don't take full advantage of our pointer semantics
[08:10:59] <eddyb> see the TBAA issue
[08:11:06] <doomlord_> i'm basically expecting that C,C++,Rust are all the same speed.  Its just the convinience of each for a specific style of code.
[08:11:11] <mcpherrin> And even if we did, LLVM doesn't do everything it could wtih proper alaiasing info
[08:11:13] *** Joins: jackneill (jackneill@moz-8C0F0504.pool.digikabel.hu)
[08:11:19] <huon> and Rust code generally attempts to expose a safer interface
[08:11:38] <huon> i.e. no undefined behaviour (e.g. checking strings are UTF8)
[08:11:39] *** Joins: vgeddes (vincent.ge@moz-CE3C0499.access.mtnbusiness.co.za)
[08:12:01] <doomlord_> And this is the multicore era: the biggest performance issue is 'how easily can you exploit multiple cores' .. for which safety is a design benefit
[08:12:01] <eddyb> idiomatically iterating a slice in Rust should be just as fast as in C++. it's the same low-level code
[08:12:23] <doomlord_> i really like the fact modifying globals is 'unsafe' (*is that true?)
[08:13:09] <eddyb> but chaining iterators can be quite nicer (and shorter) compared to equivalent C++. while still being just as fast
[08:13:09] <Yurume> yes.
[08:13:47] <doomlord_> chaining iterators - I'm tempted to try and replicate some subset of the rust libraries as closely as possible in C++ if i have to jump back and forth :)
[08:14:21] <eddyb> well, C++11 adds closures, so there's that
[08:14:24] *** Quits: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP) (Quit: leaving)
[08:14:49] <eddyb> you don't have the advantage of a compact Option<T>, which is used all over the iterator world
[08:14:59] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[08:15:10] <doomlord_> i keep hearing about a closure optimization that rust doesn't have, but I think its got the cases *i* want handled fine
[08:15:14] *** Quits: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net) (Ping timeout)
[08:15:16] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[08:15:28] *** Quits: Erik_ (Erik_S@moz-6691E309.hlrn.qwest.net) (Ping timeout)
[08:15:31] <eddyb> Rust doesn't do optimizations :P
[08:15:39] *** Joins: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net)
[08:15:39] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[08:15:45] *** Joins: marianoguerra (marianogue@moz-9CEBEFD.dip0.t-ipconnect.de)
[08:15:56] <eddyb> LLVM does, and it's a similar situation to what clang is going to output
[08:15:58] <doomlord_> strcat keeps saying something about c++ lambdas being better, a case where they're returned or something
[08:15:59] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[08:16:09] <eddyb> doomlord_: that's semantics
[08:16:20] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[08:16:50] <eddyb> we don't have unboxed closures yet, and to return them you'd need to be able to return anonymous types, bounded by traits (there's an RFC for that, I think)
[08:17:17] <eddyb> doomlord_: I wish we had a way of putting an Atomic<T> in a static, that would be considered safe to access. like an immutable local that holds a Cell. but immutable statics require Freeze, and for good reason (read-only memory)
[08:17:58] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[08:18:00] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[08:18:01] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:18:07] <eddyb> nmatsakis: maybe we should do it the other way around, decide whether to use read-only or read-write static memory based on the type being Freeze or not? but this is the shallow Freeze problem, not the deep Freeze
[08:18:29] <doomlord_> immutable read of globals are already safe, right?
[08:18:42] *** Quits: onelson (owen@18CF7301.95770028.5B6BFE7D.IP) (Ping timeout)
[08:18:46] <eddyb> reads of immutable globals is safe
[08:18:54] <eddyb> s/is/are/
[08:19:14] <doomlord_> i like this coding style where you have to pass pointers to what gets modified
[08:19:16] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[08:19:25] *** Quits: brandonson (SingingBoy@610D90A5.EE9B234.1ECA502.IP) (Ping timeout)
[08:19:43] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:20:38] <eddyb> nmatsakis: alternatively, make static mut safe when it holds a Share type. imagine static parallel hashmaps and RWArc<[T]> :D
[08:20:58] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[08:21:14] <eddyb> I know static data isn't supposed to be abused, but sometimes you have to put something *somewhere*
[08:21:36] *** Quits: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net) (Ping timeout)
[08:23:07] *** Joins: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net)
[08:23:31] *** Quits: untwisted (untwisted@moz-60D579DC.hsd1.ca.comcast.net) (Ping timeout)
[08:23:39] *** Joins: urbanserj (urbanserj@3E28BD5F.398BF19F.86BD9C9E.IP)
[08:23:43] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[08:25:59] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[08:26:07] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:26:17] *** Quits: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: leaving)
[08:26:45] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[08:26:56] *** Quits: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net) (Ping timeout)
[08:27:36] *** Joins: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net)
[08:31:44] *** Joins: ghaering (Instantbir@4DECFBA5.E64A0519.C0DAB1E3.IP)
[08:33:28] <doomlord_> fuck my IRC block user isn't working  :( this fucking troll keeps coming back
[08:33:38] *** Quits: blindrenderer (blindrende@CFA55475.329A1D83.D01D599A.IP) (Quit: Leaving)
[08:33:49] *** Quits: davbo (dave@moz-DCB29D15.skybroadband.com) (Ping timeout)
[08:33:53] *** Quits: maggick (maggick@moz-29BE3AB5.lc) (Ping timeout)
[08:33:58] *** Quits: glandium (glandium@moz-A09032B1.kimsufi.com) (Ping timeout)
[08:34:00] *** Quits: Siosm (quassel@moz-9911B053.fr) (Ping timeout)
[08:34:00] *** Quits: GrecKo (GrecKo@moz-A7AA1BB6.fr) (Ping timeout)
[08:34:02] *** Quits: luisbg (luisbg@moz-C54443AD.baconseed.org) (Ping timeout)
[08:34:02] *** Joins: GrecKo (GrecKo@moz-A7AA1BB6.fr)
[08:34:02] *** Joins: Siosm (quassel@moz-9911B053.fr)
[08:34:03] *** Joins: luisbg (luisbg@moz-C54443AD.baconseed.org)
[08:34:07] *** Joins: glandium (glandium@moz-A09032B1.kimsufi.com)
[08:34:09] *** Joins: maggick (maggick@moz-29BE3AB5.lc)
[08:34:10] *** Quits: TobiasFar (tm@moz-A929D162.flosoft-servers.net) (Ping timeout)
[08:34:10] <eddyb> doomlord_: one thing I know to work is ignoring them
[08:34:14] *** Quits: alkino (alkino@moz-53CAAA6D.w92-151.abo.wanadoo.fr) (Ping timeout)
[08:34:17] *** Quits: Phlogistique (no@moz-B2BEB013.net) (Ping timeout)
[08:34:18] *** Joins: TobiasFar (tm@moz-A929D162.flosoft-servers.net)
[08:34:19] *** Joins: Phlogistique (no@moz-B2BEB013.net)
[08:34:20] *** Quits: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net) (Ping timeout)
[08:34:35] *** Joins: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net)
[08:34:41] *** Joins: davbo (dave@moz-DCB29D15.skybroadband.com)
[08:34:43] <eddyb> doomlord_: if they're on a different IRC network that you rarely use, just disconnect from there
[08:34:56] <eddyb> I pretty much "left" freenode
[08:35:08] <doomlord_> i use freenode mostly
[08:35:24] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Input/output error)
[08:35:44] <doomlord_> he's an anti-rust, creationist, peak oil denier
[08:36:13] <eddyb> I would've believed it before you added "creationist"
[08:36:27] <doomlord_> i can accept talking to someone who is opposed to me on any one of those issues, but not all 3 :)
[08:36:39] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[08:36:49] * Yurume wonders if two of them is sufficient
[08:36:52] <Yurume> are*
[08:36:52] <eddyb> it's a classic troll. don't feed it
[08:37:08] *** Quits: indirect (indirect_m@moz-FE554AD3.hsd1.ca.comcast.net) (Ping timeout)
[08:37:16] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[08:37:18] <Yurume> btw, ignore does not work? seems a client fault...
[08:37:29] *** Joins: indirect (indirect_m@moz-FE554AD3.hsd1.ca.comcast.net)
[08:37:41] <eddyb> doomlord_: they picked 3 things they expect a large population to have a problem with
[08:38:09] <doomlord_> well, rust i know i'm in a minority, i'm ok with that , i have the courage of my convictions ..
[08:38:26] <eddyb> rust is actually a bit odd on there
[08:38:39] <eddyb> but if they have a target (that is, you), might as well
[08:38:48] <eddyb> gtfo and keep cozy
[08:38:50] <doomlord_> this person seems to have become obsessed with me
[08:39:10] <eddyb> because you're feeding its need for attention?
[08:40:35] <eddyb> I actually didn't make the connection until now (with trolls). but I've had to deal with a teenager... a black hole of attention. and we were just friends >_>
[08:41:23] <eddyb> we should rename "trolls" to "troll worms, despicable parasites"
[08:41:32] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[08:41:50] <eddyb> doomlord_: you should require payment for your services
[08:43:00] *** Quits: bvssvni (Mibbit@moz-C4579D6F.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[08:45:08] *** Joins: lpy_ (lpy@7360AA58.F09091A8.1348A864.IP)
[08:45:56] *** Quits: lpy (lpy@E44EE2C4.F09091A8.1348A864.IP) (Ping timeout)
[08:47:59] *** Joins: nkoep (nik@moz-9FFC5868.pool.mediaways.net)
[08:48:41] *** Quits: DasIch (dasich@moz-5EDA591.de) (Ping timeout)
[08:53:41] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[08:54:55] *** Joins: Guest_ (textual@moz-310FD28A.dynamic.caiway.nl)
[08:56:33] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[08:57:05] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:58:45] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[08:58:55] *** pmoore|away is now known as pmoore
[09:00:15] *** Quits: cdidd (cdidd@moz-B0030549.broadband.corbina.ru) (Ping timeout)
[09:00:20] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[09:03:00] *** Joins: safiire (safiire@moz-A378BFE8.vc.shawcable.net)
[09:03:26] <safiire> Hello, does anyone know where the create extra::complex has moved?
[09:03:29] <safiire> In master*
[09:04:47] <safiire> Something tells me num, but I am unsure where to find the docs for num on the rust-lang site.
[09:05:12] <eddyb> safiire: static.rust-lang.org/doc/master/index.html
[09:05:19] *** Quits: eevee (eevee@moz-A8156E13.lv.lv.cox.net) (Ping timeout)
[09:05:29] <safiire> Ah, thank you.
[09:05:40] <safiire> Found it: http://static.rust-lang.org/doc/master/num/complex/index.html
[09:06:20] <kimundi> Oh, a new landing page for docs
[09:06:26] <kimundi> nice
[09:06:34] <eddyb> it's not *that* new :P
[09:06:39] *** Joins: Ms2ger (Ms2ger@AC8075E6.AB2E6B66.F15B0BB3.IP)
[09:06:50] <kimundi> Maybe, but its news tro me ;)
[09:07:19] <eddyb> http://static.rust-lang.org/doc/master/rustc/middle/ty/struct.t.html "LatticeValue"? hehe I haven't seen that before
[09:08:43] *** Joins: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se)
[09:09:06] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[09:09:16] *** Joins: jviereck (Adium@moz-C44E0E8.ethz.ch)
[09:09:22] *** Joins: awidegreen (awidegreen@moz-E4E59BCA.dip0.t-ipconnect.de)
[09:09:43] *** Joins: eevee (eevee@moz-A8156E13.lv.lv.cox.net)
[09:11:31] *** Quits: lessless (lessless@moz-F3755E99.emplot.net) (Ping timeout)
[09:13:40] <ChrisMorgan> And extra is almost completely exploded now ☺
[09:14:56] <Yurume> c_vec, stats, tempfile, url, workcache.
[09:15:00] *** Joins: blindrenderer (blindrende@398333AA.B22400E5.217C7FCC.IP)
[09:15:46] <safiire> So now I need to go extern crate num; use num::complex::{Cmplx}; ?  This gets me error: unresolved import. maybe a missing `extern crate num`?
[09:16:05] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Connection reset by peer)
[09:16:14] <eddyb> do proc's allocate when they don't capture anything?
[09:16:32] <eddyb> because CVec's proc would make more sense then if it took the buffer as the argument
[09:17:11] *** Quits: blindrenderer (blindrende@398333AA.B22400E5.217C7FCC.IP) (Ping timeout)
[09:17:15] <eddyb> (not that I would want my CVec to be Send by default... how many C APIs do you know that are thread-safe? I mean, apart from malloc/free)
[09:18:58] *** Quits: jviereck (Adium@moz-C44E0E8.ethz.ch) (Quit: Leaving.)
[09:18:58] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[09:19:21] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[09:19:39] *** Quits: aravindavk (aravinda@597F85D2.442FC963.4781A82F.IP) (Ping timeout)
[09:20:04] *** Joins: aravindavk (aravinda@1AC35523.D5C446B0.4781A82F.IP)
[09:20:23] *** Quits: Guest_ (textual@moz-310FD28A.dynamic.caiway.nl) (Quit: Computer has gone to sleep.)
[09:20:30] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[09:21:50] *** Joins: blindrenderer (blindrende@CFA55475.329A1D83.D01D599A.IP)
[09:22:16] <kimundi> eddyb: Do you know what the layout of a traitobject fatpointer is? I'd assume {*data, *vtable}, but so far I'm getting segfaults with that assumption
[09:22:27] <eddyb> kimundi: back::abi knows
[09:22:36] *** Quits: blindrenderer (blindrende@CFA55475.329A1D83.D01D599A.IP) (Quit: Leaving)
[09:22:38] <eddyb> you can always try to switch it around
[09:22:47] *** Joins: blindrenderer (blindrende@CFA55475.329A1D83.D01D599A.IP)
[09:23:01] <eddyb> DST kinda required the data pointer to come before the erased values, especially when there can be more than one
[09:23:18] <eddyb> but we have a few things that are backwards and/or incompatible with DST
[09:23:36] <safiire> Is SharedChan called something else now?
[09:23:45] <eddyb> channels are cloneable now
[09:23:51] <safiire> ah ok, thanks
[09:23:52] <Yurume> merged to Chan
[09:24:12] <safiire> Heh, just git pulled and am updating some of my code.
[09:24:21] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Client exited)
[09:24:39] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[09:26:28] *** Joins: lessless (lessless@moz-F3755E99.emplot.net)
[09:27:33] *** Joins: yota (sdouche@moz-7D878FB8.securactive.net)
[09:28:35] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[09:29:19] *** Quits: blindrenderer (blindrende@CFA55475.329A1D83.D01D599A.IP) (Quit: Leaving)
[09:29:41] *** Quits: aravindavk (aravinda@1AC35523.D5C446B0.4781A82F.IP) (Ping timeout)
[09:30:00] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[09:31:56] *** pmoore is now known as pmoore|brb
[09:32:47] *** Joins: jkingyens (jkingyens@moz-B0C1B161.hsd1.ca.comcast.net)
[09:34:16] *** Joins: CarpNet (ac@98575CFC.588FCCCF.2D84FE65.IP)
[09:36:45] *** Joins: redbrain (uid24282@moz-E77DEB21.irccloud.com)
[09:36:59] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[09:37:45] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[09:42:50] *** Quits: MP2E (cray@moz-EB1E242D.lv.lv.cox.net) (Quit: sleep)
[09:42:52] *** Joins: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP)
[09:47:31] *** Quits: mno2 (mno2@76ED98CE.BEBC37B7.DA359910.IP) (Quit: mno2)
[09:48:17] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[09:51:06] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[09:51:46] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[09:51:49] *** Joins: ChemicalHarm (chemicalha@moz-A9F37238.hsd1.md.comcast.net)
[09:54:02] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[09:54:40] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[09:55:26] *** Quits: safiire (safiire@moz-A378BFE8.vc.shawcable.net) (Quit: This computer has gone to sleep)
[09:55:59] *** Quits: ChemicalHarm (chemicalha@moz-A9F37238.hsd1.md.comcast.net) (Client exited)
[09:56:20] *** Quits: vgeddes (vincent.ge@moz-CE3C0499.access.mtnbusiness.co.za) (Ping timeout)
[09:57:42] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[09:58:40] *** Joins: aravindavk (aravinda@276D4322.DC29D963.C28A6AA4.IP)
[10:00:15] *** Joins: teosz (teosz@5F23F990.D75A9DA0.3EA6AAD8.IP)
[10:01:26] *** Joins: io2 (io2@moz-EE406A5.home.otenet.gr)
[10:01:57] *** Quits: teosz (teosz@5F23F990.D75A9DA0.3EA6AAD8.IP) (Ping timeout)
[10:02:32] *** Joins: ChemicalHarm (chemicalha@moz-A9F37238.hsd1.md.comcast.net)
[10:02:44] *** Quits: ChemicalHarm (chemicalha@moz-A9F37238.hsd1.md.comcast.net) (Client exited)
[10:05:07] *** Joins: mno2 (mno2@76ED98CE.BEBC37B7.DA359910.IP)
[10:06:46] *** Quits: klapaucius (klapaucius@6DAEB5DB.2B843F0C.19F9CE4C.IP) (Quit: klapaucius)
[10:07:16] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[10:09:07] *** Joins: glaebhoer1 (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[10:10:25] *** Joins: jviereck (Adium@moz-C44E0E8.ethz.ch)
[10:10:26] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[10:11:25] *** Joins: novabyte (novabyte@7DC5F3D9.61E2C193.4C4C480B.IP)
[10:12:19] *** Quits: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[10:12:32] *** Joins: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP)
[10:13:51] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[10:15:39] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[10:16:09] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[10:16:58] *** Quits: jviereck (Adium@moz-C44E0E8.ethz.ch) (Quit: Leaving.)
[10:17:58] *** Joins: teosz (teosz@5F23F990.D75A9DA0.3EA6AAD8.IP)
[10:18:02] *** Quits: yusukesuzuki (yusukesuzu@moz-43160292.net218219047.t-com.ne.jp) (Quit: Tiarra 0.1+svn-39209: SIGINT received; exit)
[10:18:26] *** Joins: yusukesuzuki (yusukesuzu@moz-43160292.net218219047.t-com.ne.jp)
[10:19:15] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[10:20:55] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[10:22:56] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[10:22:57] *** pmoore|brb is now known as pmoore
[10:25:33] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[10:25:46] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[10:26:38] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[10:27:40] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[10:28:30] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[10:31:30] *** Joins: josh (josh@moz-C1D9FC5F.meeting.ietf.org)
[10:33:19] *** Quits: tgkokk (tgkokk@moz-29BC739C.home.otenet.gr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[10:35:00] *** Joins: tgkokk (tgkokk@moz-29BC739C.home.otenet.gr)
[10:35:17] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[10:36:51] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[10:36:54] *** vfetwnuncszu is now known as dcrewi
[10:38:01] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[10:38:13] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[10:38:36] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[10:44:12] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[10:44:38] *** Joins: MP2E (cray@moz-EB1E242D.lv.lv.cox.net)
[10:44:46] *** Joins: cdidd (cdidd@moz-51484B56.broadband.corbina.ru)
[10:45:07] *** Joins: alexherbo2 (alexherbo2@moz-543C523F.w83-199.abo.wanadoo.fr)
[10:45:20] *** Quits: aravindavk (aravinda@276D4322.DC29D963.C28A6AA4.IP) (Ping timeout)
[10:46:34] *** Joins: kvanb (kvanb@moz-B2CBD248.lnse7.win.bigpond.net.au)
[10:48:08] *** Quits: fyolnish (fyolnish@moz-3374B6BA.uqwimax.jp) (Client exited)
[10:48:30] *** Joins: fyolnish (fyolnish@moz-3374B6BA.uqwimax.jp)
[10:48:39] *** Joins: aravindavk (aravinda@276D4322.DC29D963.C28A6AA4.IP)
[10:50:11] *** Quits: fyolnish (fyolnish@moz-3374B6BA.uqwimax.jp) (Ping timeout)
[10:50:49] *** Joins: Guest_ (textual@moz-F999E598.host.hu.nl)
[10:50:50] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Quit: victorporof)
[10:51:14] *** Joins: fyolnish (fyolnish@moz-3374B6BA.uqwimax.jp)
[10:51:30] *** Quits: teosz (teosz@5F23F990.D75A9DA0.3EA6AAD8.IP) (Quit: Lost terminal)
[10:51:39] *** Joins: teosz (teosz@5F23F990.D75A9DA0.3EA6AAD8.IP)
[10:55:48] *** Quits: alexherbo2 (alexherbo2@moz-543C523F.w83-199.abo.wanadoo.fr) (Ping timeout)
[10:59:37] *** Quits: b (b@moz-55CA322E.org) (Ping timeout)
[11:00:08] *** Joins: b (b@moz-55CA322E.org)
[11:01:49] *** Joins: vgeddes (vincent.ge@moz-CE3C0499.access.mtnbusiness.co.za)
[11:02:04] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[11:02:05] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[11:03:53] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[11:03:56] *** Joins: sk (sk@35CFDE22.E993C7C3.78DD174B.IP)
[11:04:32] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[11:04:55] *** Quits: kvanb (kvanb@moz-B2CBD248.lnse7.win.bigpond.net.au) (Ping timeout)
[11:05:26] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[11:07:12] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[11:07:39] *** Joins: kvanb (kvanb@5E9D2ECA.B8AECADD.1611EE05.IP)
[11:09:08] *** Joins: summerlight_ (summerligh@327FC32B.2C956A45.501EFF44.IP)
[11:09:44] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[11:11:37] *** Joins: alexherbo2 (alexherbo2@moz-EB37CAC8.w90-3.abo.wanadoo.fr)
[11:13:52] *** Quits: aravindavk (aravinda@276D4322.DC29D963.C28A6AA4.IP) (Ping timeout)
[11:15:34] *** Joins: refold (gman@moz-42D68426.a258.priv.bahnhof.se)
[11:15:48] *** Joins: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se)
[11:24:48] *** Joins: doomlord__ (servitor@moz-99BE89EC.range86-184.btcentralplus.com)
[11:24:52] *** Quits: doomlord__ (servitor@moz-99BE89EC.range86-184.btcentralplus.com) (Quit: doomlord__)
[11:24:53] *** Quits: Ferreus (ferreus@moz-DAF3AD3F.dip0.t-ipconnect.de) (Ping timeout)
[11:24:58] *** Quits: Guest_ (textual@moz-F999E598.host.hu.nl) (Quit: Computer has gone to sleep.)
[11:25:12] *** Quits: tgkokk (tgkokk@moz-29BC739C.home.otenet.gr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[11:25:17] *** Quits: alonlevy (alon@2CD54432.57968636.E9C721AF.IP) (Ping timeout)
[11:25:17] *** Joins: tgkokk (tgkokk@moz-29BC739C.home.otenet.gr)
[11:27:26] *** Joins: Sintendo (sint@moz-28C1EAB9.access.telenet.be)
[11:33:30] *** Quits: JanC_ (janc@moz-E665F87F.dsl.scarlet.be) (Connection reset by peer)
[11:34:42] *** Quits: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com) (Ping timeout)
[11:36:21] *** Joins: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com)
[11:37:22] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[11:38:01] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[11:38:46] *** Joins: aravindavk (aravinda@74FBFC23.CF07FF06.C28A6AA4.IP)
[11:38:47] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[11:39:03] *** Joins: Ferreus (ferreus@moz-7CCF6380.dip0.t-ipconnect.de)
[11:40:09] *** Joins: Guest_ (textual@moz-F999E598.host.hu.nl)
[11:41:42] *** Joins: matematikaadit (adit@4BABD6D1.4B489085.4712F74.IP)
[11:42:40] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[11:43:15] *** Quits: cdidd (cdidd@moz-51484B56.broadband.corbina.ru) (Ping timeout)
[11:44:21] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[11:47:05] *** Quits: josh (josh@moz-C1D9FC5F.meeting.ietf.org) (Quit: josh)
[11:48:18] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[11:48:35] *** Joins: JanC_ (janc@moz-36A807F5.dsl.scarlet.be)
[11:49:10] *** Quits: tgkokk (tgkokk@moz-29BC739C.home.otenet.gr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[11:51:51] *** Quits: matematikaadit (adit@4BABD6D1.4B489085.4712F74.IP) (Quit: Leaving)
[11:52:01] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[11:56:10] *** Joins: DasIch (dasich@moz-5EDA591.de)
[11:56:15] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[11:58:31] *** Quits: vgeddes (vincent.ge@moz-CE3C0499.access.mtnbusiness.co.za) (Ping timeout)
[12:02:42] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[12:02:54] *** Joins: marwy (user@41303A68.5C2AEEF8.CFA44423.IP)
[12:03:00] *** lpy_ is now known as lpy
[12:04:20] *** Joins: tgkokk (tgkokk@moz-29BC739C.home.otenet.gr)
[12:04:29] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[12:04:53] *** Quits: Guest_ (textual@moz-F999E598.host.hu.nl) (Quit: Computer has gone to sleep.)
[12:06:12] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[12:06:46] *** Joins: bmurphy1976 (bmurphy197@moz-ED7F06D5.lightspeed.cicril.sbcglobal.net)
[12:06:49] *** Quits: bmurphy1976 (bmurphy197@moz-ED7F06D5.lightspeed.cicril.sbcglobal.net) (Quit: bmurphy1976)
[12:07:13] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[12:10:07] *** Joins: jviereck (Adium@moz-C44E0E8.ethz.ch)
[12:10:56] *** Joins: leowoe (Leo@moz-B4840CF0.dip0.t-ipconnect.de)
[12:12:17] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[12:12:50] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[12:13:04] *** Quits: leowoe (Leo@moz-B4840CF0.dip0.t-ipconnect.de) (Quit: Leaving.)
[12:13:26] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Ping timeout)
[12:15:12] *** Joins: ganitsu (ganitsu@moz-80EF3CD0.dialup.mobile.ancel.net.uy)
[12:16:54] *** Quits: teosz (teosz@5F23F990.D75A9DA0.3EA6AAD8.IP) (Ping timeout)
[12:25:29] *** Quits: tgkokk (tgkokk@moz-29BC739C.home.otenet.gr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[12:26:24] *** Quits: rootnode (rootnode@moz-48B383D1.pools.arcor-ip.net) (Ping timeout)
[12:26:38] *** Quits: aravindavk (aravinda@74FBFC23.CF07FF06.C28A6AA4.IP) (Ping timeout)
[12:31:03] *** Joins: pczarn (Mibbit@moz-69A55FA.izacom.pl)
[12:32:18] *** Joins: cdidd (cdidd@moz-62131E1F.broadband.corbina.ru)
[12:32:44] *** Joins: rootnode (rootnode@moz-E07EECD2.pools.arcor-ip.net)
[12:34:04] *** Joins: johnmurray (jmurray@moz-E993B3F8.dynamic.ip.windstream.net)
[12:34:06] *** Quits: johnmurray (jmurray@moz-E993B3F8.dynamic.ip.windstream.net) (Quit: johnmurray)
[12:35:29] <pczarn> I guess there's no way to automatically get: struct Singleton; fn singleton::<T: SingletonStruct>() -> T
[12:37:09] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[12:37:18] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[12:37:47] *** Joins: frogzilla (Mibbit@E87770CF.F746F57.CC1A2609.IP)
[12:37:57] *** Joins: dmsky (dmsky@moz-63A2E3E4.pppoe.spdop.ru)
[12:38:26] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[12:38:39] *** Joins: Kynes (Kynes@moz-3DC6C6E7.mit.edu)
[12:39:43] *** Joins: mib_a0d59v (Mibbit@moz-CFB96525.cnrs-imn.fr)
[12:40:44] *** Joins: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net)
[12:41:12] *** Quits: frogzilla (Mibbit@E87770CF.F746F57.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[12:41:31] <mib_a0d59v> Hi, I can't use "std::io::buffered::BufferedReader" rustc tells me it is private (I'm on master). There is nothing about it in the doc (master branch also). What's the replacement of it?
[12:42:10] <SiegeLord> pczarn: What do you mean, automatically
[12:42:26] <SiegeLord> mib_a0d59v: It's reexported in std::io, the doc should reflect that
[12:43:12] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[12:43:51] <mib_a0d59v> Oh, Ok. I missed that (std::io::buffered and std::io are pretty similar to the eye). Thanks
[12:43:52] *** Quits: glaebhoer1 (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Connection reset by peer)
[12:43:52] *** Joins: ninechars (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[12:43:59] <pczarn> SiegeLord: I mean, without creating my own trait for unit-like structs
[12:44:11] <SiegeLord> I see
[12:44:11] *** Quits: mib_a0d59v (Mibbit@moz-CFB96525.cnrs-imn.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[12:44:12] <pczarn> I don't expect it to be possible, just planned
[12:47:39] *** pmoore is now known as pmoore|away
[12:49:35] *** Quits: jviereck (Adium@moz-C44E0E8.ethz.ch) (Quit: Leaving.)
[12:49:56] *** Joins: arrrrrrrrr (arrrrrrrrr@moz-AD6000DF.dynamic.qsc.de)
[12:50:17] *** Parts: Sintendo (sint@moz-28C1EAB9.access.telenet.be) ()
[12:50:58] *** Joins: matematikaadit (adit@D96AAF00.A59813F5.8B274F0B.IP)
[12:51:44] *** Quits: arrrrrrrrr (arrrrrrrrr@moz-AD6000DF.dynamic.qsc.de) (Quit: arrrrrrrrr)
[12:51:46] *** Joins: jviereck (Adium@moz-C44E0E8.ethz.ch)
[12:52:59] *** Quits: kvanb (kvanb@5E9D2ECA.B8AECADD.1611EE05.IP) (Quit: kvanb)
[12:53:10] *** Joins: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP)
[12:53:57] *** Joins: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de)
[12:54:38] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[12:56:15] *** Joins: eibwen (kvirc@moz-D4DF209C.dip0.t-ipconnect.de)
[12:56:23] <kimundi> pczarn: You mean a trait bound for zero sized types? What do you need this for?
[12:56:57] <eddyb> pczarn: you can use Default::default() to create it
[12:59:06] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[13:00:25] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[13:01:55] *** Joins: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca)
[13:02:09] *** Joins: peterdn (chatzilla@moz-63996255.as13285.net)
[13:02:48] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[13:03:57] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:04:26] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[13:04:33] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[13:06:05] *** Joins: mccabec123 (Mibbit@AE15BAFF.929BBCE9.15A9B104.IP)
[13:06:46] <mccabec123> hey guys
[13:07:17] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[13:07:32] <kimundi> mccabec123: hi
[13:08:50] *** Joins: vmx (vmx@moz-39B2DC4C.dip0.t-ipconnect.de)
[13:08:56] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[13:08:59] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[13:09:18] <mccabec123> Looking for some good examples of rust for dynamic web development, I'm really interested in this language as I've heard it's similar to Ruby without the overhead of a scripting language, if somebody could point me in the right direction that'd be amazing :)
[13:09:50] *** pmoore|away is now known as pmoore
[13:12:17] <eddyb> *sigh* why do people keep comparing Rust to Ruby?
[13:12:28] *** Joins: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net)
[13:12:59] <SiegeLord> It used to be comparable, but then do and .times were removed XD
[13:13:34] <huon> mccabec123: Rust is not actually particularly similar to Ruby; Go is much closer (and almost certainly easier to learn for someone coming from those sort of scripting languages)
[13:14:05] <jensnockert> Well, the main issue is that there isn't really any good frameworks for web stuff in Rust yet.
[13:14:52] *** Quits: mccabec123 (Mibbit@AE15BAFF.929BBCE9.15A9B104.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:15:00] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[13:15:15] <huon> eddyb: if you don't have something productive to say... please don't say it :/
[13:15:31] *** Joins: kvanb (kvanb@5E9D2ECA.B8AECADD.1611EE05.IP)
[13:16:19] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[13:17:26] <Ms2ger> Meh, productivity
[13:17:44] *** Quits: matematikaadit (adit@D96AAF00.A59813F5.8B274F0B.IP) (Quit: Leaving)
[13:18:54] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[13:19:14] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[13:21:14] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[13:21:20] <WebeWizard> i'll admit that i've been slacking on my web server project
[13:21:55] *** Quits: marshall_law (marshall@BCC5EC56.B2070AF7.505F6A0C.IP) (Ping timeout)
[13:22:10] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[13:22:14] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[13:22:41] *** Joins: marshall_law (marshall@BCC5EC56.B2070AF7.505F6A0C.IP)
[13:23:03] *** Quits: heftig (heftig@moz-61DF4D47.dip0.t-ipconnect.de) (Ping timeout)
[13:25:09] *** Joins: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[13:25:19] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[13:25:23] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[13:26:37] <bollu> guys a little help? https://gist.github.com/bollu/d742f741f48b899c693f
[13:26:51] <bollu> sorry, haven't been able to use rust in a while.
[13:27:12] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[13:27:12] <bollu> basically, the error is that I'm trying to pass a *this* pointer down to a member but it's failing
[13:28:02] *** Quits: Ms2ger (Ms2ger@AC8075E6.AB2E6B66.F15B0BB3.IP) (Quit: bbl)
[13:28:04] *** Quits: ninechars (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Connection reset by peer)
[13:28:09] *** Joins: ninechars (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[13:28:13] <bollu> any ideas? 
[13:28:16] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Ping timeout)
[13:28:21] *** Joins: Guest_ (textual@moz-310FD28A.dynamic.caiway.nl)
[13:28:24] <bollu> is anyone here? (-_^)
[13:28:50] <kimundi> bollu: reading your gist...
[13:28:55] <bollu> okay. ty
[13:28:59] *** Quits: Guest_ (textual@moz-310FD28A.dynamic.caiway.nl) (Quit: Computer has gone to sleep.)
[13:29:01] *** Joins: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com)
[13:29:13] <bollu> I should not have dumped the entire file. my bad
[13:29:49] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[13:29:54] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Client exited)
[13:29:59] <kimundi> bollu: okay, so one main problem is that while you are iterating over a filed behind &mut self with mut_iter(), you are not allowed to do anything else with self
[13:30:16] <kimundi> bollu: No, dumping the whole file is actually welcomed ;D
[13:30:29] *** Quits: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se) (Ping timeout)
[13:30:32] <bollu> so, how would I reimplement this? and really? :) I thought it makes it more annoying
[13:30:37] <kimundi> bollu: THe main problem I have for helping someone here is usually missing context ;)
[13:30:52] <bollu> xD fair enough
[13:31:07] *** Quits: marshall_law (marshall@BCC5EC56.B2070AF7.505F6A0C.IP) (Ping timeout)
[13:31:16] <bollu> so, rewrite how? 
[13:31:20] <kimundi> So... what is "Update" supposed to do, on a abstract layer?
[13:31:33] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[13:31:47] <bollu> yeah it's supposed to push the game world by time (dt)
[13:31:57] <WebeWizard> also, in pub fn step(&mut self, world: ~World, dt: f32) -> (){}, do you really want to transfer ownership of the world to the object?
[13:32:18] <bollu> I want objects to be able to mutate *other* objects
[13:32:28] <bollu> so I'm not sure what the best way to do that is
[13:32:39] <bollu> I assumed I could just lump them up into World and pass it around
[13:32:45] <bollu> but clearly that's not gonna happen
[13:32:47] <WebeWizard> in the step function, try take a reference to a World instead of an owned world
[13:33:03] <bollu> in that case: will I able to modify other objects?
[13:33:15] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[13:33:33] <kimundi> bollu: well, you need to resolve the knot of modifying something while modifing it (calling step with self while mut_iter() ing over self, that is)
[13:33:43] *** Quits: EKK (kviiri@moz-4C25427B.cs.helsinki.fi) (Ping timeout)
[13:33:52] <bollu> hmm, so what's the best way to decompose this?
[13:34:00] <kimundi> bollu: does step() care about self.objects?
[13:34:32] <bollu> no not really. it just has to iterate over a list of all things that can change the game world - in this case, self.objects
[13:34:42] *** Joins: marshall_law (marshall@BCC5EC56.B2070AF7.505F6A0C.IP)
[13:34:54] *** Joins: heftig (heftig@moz-61DF4D47.dip0.t-ipconnect.de)
[13:35:13] <kimundi> one thing that would work would be to first seperate self out into "objects" and everything else, and then pass the everything else into step
[13:36:28] <kimundi> struct World { objects: ~[Object], data: WorldData} struct WorldData { ... } ... fn step(&mut self, &mut WorldData)
[13:36:54] <bollu> hmm, but that still prevents me from mutating other objects directly yes?
[13:37:08] <kimundi> yes
[13:37:20] *** Joins: EKK (kviiri@moz-4C25427B.cs.helsinki.fi)
[13:37:24] <kimundi> (that was what I emant with the question of wether it is relevant for step)
[13:37:48] <kimundi> well aslo
[13:37:57] <kimundi> you can of course mutate the current object
[13:38:11] <bollu> yeah, it kind of is
[13:38:22] <bollu> okay, forget this design :)
[13:38:30] <bollu> can I do something more traditional like this? http://cowboyprogramming.com/2007/01/05/evolve-your-heirachy/
[13:38:31] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Client exited)
[13:38:49] *** Joins: Guest_ (textual@moz-310FD28A.dynamic.caiway.nl)
[13:39:11] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[13:39:39] *** Joins: ambimorph (amber@moz-B3FBDFCE.hlrn.qwest.net)
[13:39:44] <bollu> I actually wanted to implement Carmack's idea - each step of the game world recieves an imutable previous state and a mutable new state,
[13:39:48] <kimundi> bollu: Need to get familiar with Component design first to really anser that - but in the meantime, doomlord_ seems to know about this stuff (he's a professional gamedev)
[13:39:55] <bollu> okay
[13:39:56] <WebeWizard> well, your error states that your trying to pass a & when it expects a ~, so maybe you should address that first
[13:39:59] <kimundi> bollu: well that would work
[13:40:01] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Client exited)
[13:40:10] <bollu> I was worried about memory actually
[13:40:13] <kimundi> bollu: if you can seperate it into two versions of the worldata
[13:40:27] <bollu> ?
[13:40:45] <bollu> kimundi: care to expand?
[13:41:32] <kimundi> Well if you have two seperate copies of the worldata, you can use the old one for reading while writing to a new one, and it should give you less trouble with this stuff
[13:42:10] <bollu> yeah, as in double-buffer the two WorldData(s) yes?
[13:42:28] <bollu> with one being read to while the other is being written to
[13:42:28] <doomlord_> carmack knows his stuff for sure :) its a viable idea i think
[13:42:52] <bollu> yeah, I thought so too, but won't it need 2x the memory? 
[13:42:55] <doomlord_> the lions share of memory is graphics resources, meshes, collision shapes.. double buffering game state should be no problem
[13:42:59] <bollu> not for the immutable data
[13:43:07] <bollu> yeah I realize, but even so
[13:43:13] <SiegeLord> Kind of a necessity if you're doing interpolation
[13:43:24] <bollu> I could try it out though. will be interesting for sure
[13:43:33] *** Joins: bvssvni (Mibbit@moz-C4579D6F.bb.online.no)
[13:43:42] <bollu> and doomlord_, thoughts on the component based design thing?
[13:43:49] <SiegeLord> Although, for that you just need whatever state you need to draw
[13:44:19] <doomlord_> bollu avoiding lots of vtables is a good thing, component design lets you sort data by type.. thats a good thing
[13:44:20] <bollu> yeah, that was the motivation - the Renderer can use the previous immutable state freely while the world can chug along on a separate thread
[13:44:41] <bollu> dommlord_: I meant implementation :) I've done it using C++ - but never in Rust.
[13:44:43] <WebeWizard> i'm still confused why we arn't actually addressing the error of his gist
[13:44:59] <bollu> WebeWizard: decided to scrap the design xD
[13:45:14] <bollu> it seems too weird to jump over hoops just to get things to work "my way"
[13:45:29] <WebeWizard> said every programmer ever
[13:45:35] <kimundi> WebeWizard: The actuall error is just an artifact of a design problem that wouldn'T compile in general
[13:45:35] <bollu> :)
[13:45:48] <kimundi> iterator invalidation etc
[13:46:00] *** Quits: jviereck (Adium@moz-C44E0E8.ethz.ch) (Quit: Leaving.)
[13:46:15] <SiegeLord> Here's my small test with components... doesn't really handle the double buffering idea (and it's just a sketch): https://gist.github.com/SiegeLord/9179565
[13:46:51] <bollu> will check out SiegeLrd.
[13:46:52] *** Quits: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP) (Connection reset by peer)
[13:46:52] <SiegeLord> Oh wait, that's the erroring one...
[13:46:55] <SiegeLord> Hold on
[13:46:56] <bollu> xD
[13:46:57] <bollu> okay
[13:47:26] *** Joins: claudiu (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP)
[13:47:31] <SiegeLord> Now you can look
[13:47:54] <SiegeLord> You rapidly hit Rust's borrow checks in any design
[13:48:05] <SiegeLord> But, one could argue, when you fix your code, the resultant code is better
[13:48:16] *** Joins: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net)
[13:48:28] <bollu> doomlord_: what does "'" represent?
[13:48:32] <kimundi> Hm, this passing e1, e2 looks weird, I wonder if it is possible to abstract over this for a more OO-like feel
[13:48:48] <doomlord_> ' ?
[13:48:50] <bollu> whoops, meant SiegeLord :)
[13:48:51] <bollu>     fn get_mut<'l>(&'l mut self, comp_idx: uint) -> &'l mut T
[13:48:52] *** Quits: kvanb (kvanb@5E9D2ECA.B8AECADD.1611EE05.IP) (Quit: kvanb)
[13:48:55] <bollu> what's the 'l?
[13:48:56] <doomlord_> pointer lifetime
[13:49:14] <bollu> any part of the rust manual to help?
[13:49:57] <SiegeLord> kimundi: Component based frameworks are designed not to be OOP, so superficial dissimilarity could be construed as a good thing ;)
[13:50:15] <SiegeLord> The reality is that it was easier to get the borrow checking to work... but I didn't /really/ try
[13:50:27] <doomlord_> the lifetimes are declared along with the template parameters at the front, then you tag indvididual pointers with them to mark that they share a lifetime
[13:50:29] *** Quits: EKK (kviiri@moz-4C25427B.cs.helsinki.fi) (Ping timeout)
[13:50:46] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[13:51:30] <bollu> ... and the tagging works by adding a ' symbol?
[13:51:33] <bollu> that seems hacky
[13:51:40] <doomlord_> so that just means the return value is a pointer with the same lifetime as the self  (I hope in future they can add a special 'self lifetime)
[13:51:51] <doomlord_> bollu the Rust syntax is constrained by being context-free
[13:52:02] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Client exited)
[13:52:13] <bollu> really? the entire language grammar is context-free?
[13:52:16] <doomlord_> so they dont need to parse all the context from header files
[13:52:19] <doomlord_> yes
[13:52:22] <bollu> how? O_O that's crazy
[13:52:33] <bollu> I don't think I know of any major language that's context free
[13:52:49] *** Quits: veddan (viktor@moz-C79BC80B.csbnet.se) (Ping timeout)
[13:52:52] <kimundi> Well, I know of only one major language that is turing complete to parse :P
[13:53:00] <bollu> xD
[13:53:09] *** Joins: mib_43j30b (Mibbit@2023A6C5.858EC6D8.45AEFC1E.IP)
[13:53:11] <doomlord_> just a few tweaks here and there, eg 'let' disambiguates creating variables ,   blahblah::<T> when instantiating types sometimes (you dont notice because inference is so good, you just do BlahBlah<T> in function signatures)
[13:53:19] *** Joins: veddan (viktor@moz-C79BC80B.csbnet.se)
[13:53:19] <bollu> templates aren't fully turing complete I think
[13:53:20] *** Quits: mib_43j30b (Mibbit@2023A6C5.858EC6D8.45AEFC1E.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:53:23] <kimundi> We even have a fixed sized lookahead - LL(2) or LL(3) I think
[13:53:24] <SiegeLord> I actually can't think of any either...
[13:53:33] <SiegeLord> Except for D (not really major)
[13:53:36] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[13:53:46] <SiegeLord> D minor, I guess
[13:53:48] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Ping timeout)
[13:53:57] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[13:54:00] <doomlord_> bollu even though its context free, i'm pretty certain rust is more compact overall than C++  - because the defaults are chosen for the intended coding style
[13:54:02] <bollu> music theory!
[13:54:06] <kimundi> *rimshot - in d minor*
[13:54:17] <doomlord_> they've got more freedom to choose more keywords *now* 
[13:54:17] <SiegeLord> I don't know if Go is
[13:54:18] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[13:54:43] <bollu> doomlord_: that makes sense (somewhat?)
[13:54:53] <doomlord_> bollu "as" for casting is another one ... a symbol in brackets requires context for that to be a cast... the cost is an extra keyword but i think its worth it
[13:55:11] <bollu> so does implementing  operator overloading removing it's context free-ness?
[13:55:21] <bollu> I've never done a lot with parsing, so I'm not sure
[13:55:21] <SiegeLord> Aha, looks like Ada is
[13:55:23] <doomlord_> no because the operator overloads always mean the same thing
[13:55:35] *** Joins: EKK (kviiri@moz-4C25427B.cs.helsinki.fi)
[13:55:47] <bollu> doomlord_: well, in C++ you can screw with the signature pretty badly can't you?
[13:55:49] <doomlord_> in C++ a*b; could be declaring a pointer, or calling multiply operator. in rust, it would only be declaring a new variable in "let" , and the type is introduced with ":"
[13:56:13] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[13:56:14] <doomlord_> bollu yes. I went back to C++ yesterday, thinking "ok i want to stick with C++ for crossplatform ability.. "
[13:56:33] <doomlord_> it looked like such a mess i decided to persevere with hacking up  the android build process for rust instead :)
[13:56:45] <doomlord_> const all over the place ..
[13:56:47] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[13:56:48] <eddyb> doomlord_: what are the problems with android?
[13:56:49] <bollu> doomlord_: you have full NDK access?
[13:56:58] <bollu> and yeah that too 
[13:56:59] <sp3d> C++ ambiguity between initialization with parens vs. function declaration is also a pain
[13:57:04] <doomlord_> eddyb i got it working , the problem was me being lazy really :)
[13:57:07] <sp3d> "Foo x(y);"
[13:57:10] *** Quits: heftig (heftig@moz-61DF4D47.dip0.t-ipconnect.de) (Ping timeout)
[13:57:22] <jmmk> I'm having trouble with already-borrowed values and moved values: https://gist.github.com/jmmk/889724aabb04200187bf 
[13:57:25] <bollu> sp3d: I'm not sure why, but I find that more readable >_<
[13:57:34] <sp3d> it means two different things at once.
[13:57:42] <jmmk> What's the best way to do that inside the same block of code
[13:57:44] <doomlord_> eddyb i just need to make a decent makefile myself.. the android makefile looks like it can bring extra libraries in but its' doing voodoo behind the scenes ... 
[13:57:48] <eddyb> doomlord_: I wonder if anyone did anything with Rust and NDK somewhere. if not, I should put primitive bindings up on github
[13:57:57] <sp3d> (actually, I think they resolve it to one of them, but logically it would make sense as either)
[13:58:10] <bollu> doomlord_: yeah android's build process seems extremely fragile. 
[13:58:13] <doomlord_> eddyb i might have a bash at making a "hello rusty android" spining cube or something
[13:58:16] *** Quits: EKK (kviiri@moz-4C25427B.cs.helsinki.fi) (Ping timeout)
[13:58:25] <bollu> I've used it a bit and it's a pain to use
[13:58:29] <doomlord_> yes
[13:58:41] <eddyb> doomlord_: yeah, I wanted one of those "tap the circle" with random movement and whatnot
[13:58:45] <kimundi> jmmk: could you also add the actuall error message?
[13:58:49] *** Quits: refold (gman@moz-42D68426.a258.priv.bahnhof.se) (Quit: leaving)
[13:58:56] <bollu> ANT is annoying, but maven is just crazy. I could never get the IDEA IDE to work with a large sized android project
[13:59:01] <doomlord_> i just managed to prove it was calling some rust code i linked by printing a number returned , lol.
[13:59:18] <bollu> lol. that's impressive nonetheless
[13:59:27] <eddyb> doomlord_: does println!("foo") work?
[13:59:31] <doomlord_> no
[13:59:38] <eddyb> (can you build console binaries?)
[13:59:39] <doomlord_> you need to go through androids' logging
[13:59:40] <kimundi> We _have_ android build integration build bots after all
[13:59:53] <jmmk> kimundi: there are 5, self.sprite_sheets is borrowed from the first match, so it doesn't like that I'm doing something else with it inside the block, and p is already moved from the outside match so it doesn't like my reuse of that
[14:00:09] <doomlord_> eddyb i think you can but i couldn't run one. what i did was built an rust static library and linked it to the NDK sample code and packaged it.
[14:00:31] <bollu> doomlord_: how hard would it be to build a game the "monolithic" way?
[14:00:36] <eddyb> doomlord_: right, so can the NDK sample code be ported?
[14:00:48] <doomlord_> eddyb i think so
[14:00:52] <bollu> doomlord_: the way quake 3 source code reads?
[14:00:57] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Ping timeout)
[14:01:01] <doomlord_> ok i guess
[14:01:17] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Client exited)
[14:01:23] <doomlord_> the NDK "native activity" sample is just plain C, so obviously Rust can implement the exact same functions
[14:01:29] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[14:01:38] <doomlord_> we'd need to start making rust bindings to android stuff
[14:01:47] <bollu> doomlord_: not really (?) 
[14:01:52] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[14:01:57] <bollu> you have to access Java objects using JNI
[14:02:03] <bollu> which is not C as far as I remember
[14:02:06] <eddyb> doesn't NDK have some stuff?
[14:02:14] *** Quits: marianoguerra (marianogue@moz-9CEBEFD.dip0.t-ipconnect.de) (Ping timeout)
[14:02:18] <bollu> eddyb: "some stuff" as in? :)
[14:02:24] *** Joins: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com)
[14:02:31] <eddyb> enough to give you access to input & gfx
[14:02:32] <doomlord_> yes most samples are JNI, and again thats just exporting C functions
[14:02:33] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[14:02:42] <eddyb> EGL. that's the same thing behind wayland, isn't it?
[14:02:48] <bollu> eddyb: yeah you have to grab an openGL context
[14:03:00] <doomlord_> most samples have some Java stub, which has an interface to a load of JNI c functions... so you can provide those in rust quite hapily
[14:03:16] <kimundi> jmmk: well, you need to make a copy of p either way I think
[14:03:19] <bollu> oh, has anyone ported glEW to rust?
[14:03:20] <doomlord_> perhaps the best idea is to just get whichever crossplatform windowing gl wrapper is most suited to android...
[14:03:30] <doomlord_> make sure its got events for touchscreen, accelerometer
[14:03:42] <kimundi> jmmk: And then I guess move the code out of the None arm to afterwards
[14:03:44] *** Joins: EKK (kviiri@moz-4C25427B.cs.helsinki.fi)
[14:03:53] <eddyb> doomlord_: oh, right, I haven't thought of that
[14:03:55] <doomlord_> then you can just write a 'GLFW' rust app, and rely on the C 'GLFW' implementaino having androidsupport
[14:04:05] <kimundi> setting a bool flag in the actual None arm indicating that it should run or so
[14:04:17] <doomlord_> i've already been through the process of making a cross platform gl project - windows/iOS,NDK in C++
[14:04:22] <bollu> doomlord_: you can define a canvas on the Android side and get it's context. and you can do event handling by creating an event loop on the Java side and then jumping over to C++
[14:04:30] *** Quits: jkingyens (jkingyens@moz-B0C1B161.hsd1.ca.comcast.net) (Ping timeout)
[14:04:35] <doomlord_> i basically have my own controller layer .. but i know things like GLFW are designed to do that job
[14:05:16] <jmmk> kimundi: added the errors to the gist. So there's no way to use self.sprite_sheets again inside of that?
[14:05:17] <bollu> doomlord: Also, if you get the accelerometer readings correctly on multiple devices, please do tell me how
[14:05:22] <doomlord_> there's freeglut, i know people look down on it .. i saw another one aswell .. I would expect at least one is suitable to wrap android
[14:05:28] <doomlord_> then you can just make crossplatform code... 
[14:05:38] <doomlord_> i would want to develop mostly on the desktop 
[14:05:44] <doomlord_> thats what i did with C++
[14:05:50] <bollu> doomlord_: I'm not sure what you mean by "wrap" android
[14:06:02] <doomlord_> abstract it sorry
[14:06:03] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[14:06:17] <eddyb> doomlord_: well, we have glfw bindings... so I just need to build glfw itself against the NDK and then cross-compile the rust glfw bindings?
[14:06:24] <doomlord_> cross platform abstraction layer to create a 'window' , receive input information...
[14:06:30] <doomlord_> right
[14:06:36] <bollu> android exports openGL functions so AFAIK you don't need to use GLFW
[14:06:51] <doomlord_> you still need something to take input
[14:06:58] <eddyb> and setup everything
[14:07:04] *** Quits: Blaze_ (tuomino2@moz-785A3407.org.aalto.fi) (Ping timeout)
[14:07:05] <doomlord_> if you can do that crossplatform .. then you'll have an easier time
[14:07:14] <doomlord_> you can get touchscreen tablet PC's :)
[14:07:15] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[14:07:25] <eddyb> test on desktop, and only rarely cross-compile
[14:07:29] <doomlord_> exactly
[14:07:33] <kimundi> jmmk: Apparently not, but I also see that the "return ~Surface" pattern will not work
[14:07:37] <doomlord_> much easier to debug , faster iteration
[14:07:42] <doomlord_> we did that for consoles alot
[14:07:45] <eddyb> fast iteration <3
[14:07:47] <bollu> doomlord_: I've never setup anything like that for Android
[14:08:01] <bollu> but, I'm pretty sure it should be simple enough
[14:08:02] <bollu> wait a sec
[14:08:13] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[14:08:18] *** Quits: lessless (lessless@moz-F3755E99.emplot.net) (Ping timeout)
[14:08:21] <bollu> check this out - https://github.com/hrydgard/native
[14:08:25] <doomlord_> i wrote CELL spu code ... on the xbox 360 through an emulation layer because the debugging on the xbox was so good by comparison..
[14:08:33] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[14:08:54] *** Joins: redShadow (redShadow@9BDAF02B.D15F9219.1CCF65D9.IP)
[14:09:00] <bollu> CELL as in the PS3 CELL architecture?
[14:09:02] <doomlord_> eyes
[14:09:03] <doomlord_> yes
[14:09:16] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[14:09:19] <kimundi> jmmk: What I think you want to do there in load_image is to return a shared ownership immutable type to a Surface, like Rc<Surface>
[14:09:19] <bollu> yeah, i've heard that the PS3 was insane to develop for
[14:09:23] <doomlord_> yes it was
[14:09:43] <doomlord_> Rust would have been nice 10 years ago
[14:09:43] <kimundi> jmmk: And take a "Path" directly
[14:09:44] <bollu> something like (6?) pipelines to go through before the pixels hit the screen
[14:09:51] <bollu> xD
[14:09:52] <jmmk> kimundi: what is Rc
[14:09:59] <eddyb> ref-counted shared pointer
[14:10:01] <doomlord_> bollu the experience of working on consoles is exactly what drove me to look for a new language
[14:10:05] <kimundi> jmmk: Reference counted shared ownership type
[14:10:37] *** Joins: Blaze_ (tuomino2@moz-785A3407.org.aalto.fi)
[14:10:51] *** Quits: ambimorph (amber@moz-B3FBDFCE.hlrn.qwest.net) (Ping timeout)
[14:10:55] <bollu> doomlord_: how would rust help? It's runtime seems to be heavier than C++ too
[14:11:10] <kimundi> jmmk: ~ is a owned moving type - which means returning it from a data structure after inserting it is just a very expensive no-op, as if will move in and out again ;)
[14:11:31] <doomlord_> rust is pay for what you use.. its pointer safety and lack of mutable globals that make threaded code eaiser
[14:11:33] <bollu> doomlord_: would the type safety features be a good trade off ?
[14:11:41] *** Joins: josh (josh@moz-C1D9FC5F.meeting.ietf.org)
[14:11:41] <doomlord_> bollu also we had to use 'restrict' all over the place in C++
[14:11:45] <bollu> makes sense
[14:11:48] <doomlord_> Rust gets' the aliasing assumptinos right
[14:11:58] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[14:12:01] <kimundi> jmmk: What you instead want to do is create a new Surface if it doesn't exits in the cache, and store it as a Rc<Surface>. then, everytime it gets requested clone the Rc<Surface> handle
[14:12:03] <doomlord_> "restrict" was a total mess - it can change program semantics, so most C++ programmers fear it
[14:12:09] <doomlord_> but we had no choice :)
[14:12:13] <doomlord_> it was essential for performance
[14:13:12] <kimundi> bollu: Note that "zero memory unsafety" also remains true in Rust even if you don'T use the runtime :)
[14:13:25] <bollu> kimundi: how is that possible?
[14:13:33] <kimundi> bollu: static analysis
[14:13:49] *** Joins: heftig (heftig@moz-61DF4D47.dip0.t-ipconnect.de)
[14:13:59] <kimundi> bollu: & references are completely memory safe at compiletime, and just plain pointers at runtime
[14:14:12] <bollu> kimundi: that's a tall claim to make :) 
[14:14:23] <kimundi> Rust _main_ goal is guaranteed memory safety
[14:14:36] <bollu> doomlord_: would you write your next pet project / game in Rust?
[14:14:47] <bollu> like, do you consider it mature yet?
[14:14:50] <doomlord_> bollu yes now that i've seen rust code in android
[14:14:59] <kimundi> bollu: Anything that can cause a segfault in normal Rust code is considered a language bug
[14:15:05] <doomlord_> bollu i've been torturing myself over that question for a while!
[14:15:15] <jmmk> kimundi: So if I return anything from a HashMap I have to clone it unless I'm actually taking the object out?
[14:15:27] <bollu> kimundi: that's hardcode. so, if I manage to segfault rust I file a bug?
[14:15:34] <kimundi> jmmk: Ususaly thats the case, yeah
[14:15:44] <kimundi> bollu: Yes
[14:15:46] <doomlord_> bollu there are 2 sticking points - platform support (seeing android now helps enourmously, but there's still more.. I should be aiming for an indy project that can get onto the PS4 )
[14:15:49] <eddyb> jmmk: you can take a reference to an object in the HashMap, but that means you can't modify the HashMap itself
[14:15:57] <kimundi> bollu: Unless you use unsafe {} yourself and mess it up yourself ;)
[14:16:04] <bollu> doomlord_: is the PS4 SDK acessible to everyone?
[14:16:09] <bollu> kimundi: fair enough
[14:16:14] <eddyb> doomlord_: PS4 is x64 though
[14:16:15] <doomlord_> and [2] - its possible that IDE's more than make up for C++ deficiencies. I am more productive in c++ still,probably.
[14:16:24] *** Joins: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se)
[14:16:34] <doomlord_> even though i prefer the design of the rust language about 80%
[14:16:43] <bollu> doomlord_: I feel the same way about C++, cause I've use it for quite a long time
[14:17:00] <doomlord_> i know the PS Vita has a custom compiler to fix hardware bugs
[14:17:12] <bollu> and I can't believe that rust essentially shot down a design that's prefectly viable C++ >_>/
[14:17:12] <doomlord_> so getting Rust onto the PS Vita might not be easy
[14:17:21] <kimundi> jmmk: Note that there is of course the third option - returning a reference into the hashmap#
[14:17:33] <doomlord_> I haven't been anywhere near the PS4. someone recently invited me to do some graphics work for them on a ps4 project
[14:17:36] <bollu> didn't know that. thanks for the info
[14:17:59] <doomlord_> but i would really like to approach sony to ask if i can join their middleware program and do rust support for it ...
[14:18:10] <kimundi> jmmk: Which is actually what you'd try first usually. But if you want a value independent from the HashMap, clone or taking out it is
[14:18:16] <bollu> doomlord_: you think you have a chance?
[14:18:21] <bollu> I'd wait till rust hits 1.0
[14:18:22] <bollu> :)
[14:18:32] <doomlord_> start early 
[14:18:39] <jmmk> kimundi: I really only need a reference. What would that look like?
[14:18:42] <bollu> that's fair
[14:19:08] <kimundi> jmmk: well, look in the Map API for methods that return a reference (&)
[14:19:09] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[14:19:27] <bollu> doomlord_: ever had to hand crank assembly out for xBox / PS3? I'm curious 
[14:19:41] <bollu> I hope I'm not violating NDA or something
[14:20:00] <doomlord_> i wrote lots of intrinsics based code on those platforms, not hand assembly but not so far off
[14:20:11] <doomlord_> you had to examine output and manually tweak the unrolling
[14:20:18] <jmmk> kimundi: both find and get that I'm currently using should
[14:20:28] <bollu> thanks for answering :) 
[14:20:48] <doomlord_> CELL programming rules were public domain
[14:20:49] <jmmk> kimundi: Maybe I just need to untangle that code
[14:20:52] <bollu> I'm not part of the industry (still a student) so I have a fascination with this sort of stuff!
[14:21:04] <doomlord_> xbox 360 .. its common knowledge that it was an in-order processor
[14:21:13] <kimundi> jmmk: Note however that that will freeze the map for the duration of the reference - so for a more dynamic environment like returning a handle to a Surface that will be used by many parts of the code it will be to restricted
[14:21:24] <bollu> doomlord_: ever think a PS3 emulator will be "perfect" the way GBA / nDS  emulators are?
[14:21:48] <doomlord_> so you had to allow the compiler to schedule manually.. with long instruction latencies... which meant lots of manual loop unrolling and eliminating branches (if statements in loops = killer)
[14:22:05] <kimundi> jmmk: well, if get returns a reference you should change the method signature to something like "load_image<'a>(&'a mut self, p: ~str) -> &'a surface::Surface"
[14:22:18] <doomlord_> bollu not so sure, you'd need serious horsepower to emuate the SPUs - i'm not sure machines are getting much individually faster, they're getting wider
[14:22:21] <jmmk> kimundi: The reference should be finished by the caller immediately after
[14:22:21] <kimundi> but, again probably not what you want longterm
[14:22:31] *** Quits: ghaering (Instantbir@4DECFBA5.E64A0519.C0DAB1E3.IP) (Ping timeout)
[14:22:37] <kimundi> well, then it might be fine
[14:22:46] <bollu> doomlord_: so the xBox was similar to writing SIMD code?
[14:22:58] <doomlord_> up until the 360/ps3, each sucessive generation of CPUs was individually much faster, so you had a chance to emulate the prev gen
[14:23:09] <doomlord_> bollu yes, SIMD code, altivec but modified
[14:23:28] <bollu> cool
[14:23:33] <doomlord_> extended altivec... altivec just being powerpc's version of SSE
[14:23:52] <bollu> I see. that is fascinating 
[14:24:02] *** Quits: fyolnish (fyolnish@moz-3374B6BA.uqwimax.jp) (Client exited)
[14:24:03] <doomlord_> again writing single threaded code on the 360/ps3 required a parallel mindset ,because of the looop unrolling. thats where i became interested in functional programming
[14:24:25] <kimundi> bollu: "and I can't believe that rust essentially shot down a design that's prefectly viable C++ >_>/" - what do you mean?
[14:24:42] <doomlord_> rust and C++11 allow a more functional way of working with lambdas. Rust goes just alittle bit further in making the functional style seem more natural
[14:24:46] <bollu> kimundi: the design earlier? World -> object.step
[14:24:52] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[14:25:11] <bollu> doomlord_: C++ is (IMHO) getting /really/ big
[14:25:29] <bollu> not that it wasn't large before, but C++ 11 just... made it so much more complex
[14:25:58] <bollu> kimundi: I realize that rust has a particular way of doing things, but I was a teeny bit disappointed
[14:25:59] *** Quits: heftig (heftig@moz-61DF4D47.dip0.t-ipconnect.de) (Ping timeout)
[14:26:42] <kimundi> bollu: Ah, that. Well it would be invalid in C++ too
[14:26:45] <doomlord_> bollu yeah, its a step forward though :) its needed
[14:26:47] <kimundi> iterator invalidation
[14:26:50] <doomlord_> bollu i just 
[14:26:58] *** Joins: lessless (lessless@moz-F3755E99.emplot.net)
[14:27:15] <doomlord_> discovered c++14 fixes one of my long time gripes... operator delete[](void*, size_t) ... unless thats been escaping me for longer
[14:27:15] <kimundi> You just won'T get a compiler error directly, and it might work as long as you are careful ;)
[14:27:28] <bollu> kimundi: no, if you use a std::vector<Object> , the iterator lets you mutate
[14:27:34] <bollu> yeah that's right
[14:27:34] <doomlord_> when i first went from c to C++ the way vectors worked always annoyed me
[14:27:46] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[14:27:49] <bollu> as long as you don't remove / add, the iterator stays safe
[14:27:58] <kimundi> bollu: Define "letting mutate"
[14:27:59] <bollu> doomlord_: yeah, I hated it tbh
[14:28:01] <SiegeLord> You can always mutate through iterator in C++, unless you change the container
[14:28:09] <bollu> ^
[14:28:13] <bollu> better way of putting it
[14:28:15] <kimundi> bollu: remove/add is what I meant
[14:28:27] <bollu> I'm not removing / adding in my case am I?
[14:28:29] *** Quits: josh (josh@moz-C1D9FC5F.meeting.ietf.org) (Quit: josh)
[14:29:09] <kimundi> bollu: No, code your calling could do it in theory, because they can get write access to the objects field
[14:29:38] <bollu> kimundi: just because it *could* happen it's not allowed?
[14:29:48] *** Joins: heftig (heftig@moz-61DF4D47.dip0.t-ipconnect.de)
[14:30:00] <bollu> why can't modifying the *vector* be separate from modifying it's *elements* ?
[14:30:06] <bollu> its*
[14:30:29] <kimundi> bollu: Yes, static analysis has to make some generalizations. However, if the actual operation is safe there is usually a way to get around it by structuring the code differently
[14:31:02] <bollu> in that case, any way to restructure my code? :)
[14:31:06] *** Joins: vgeddes (vincent.ge@moz-CE3C0499.access.mtnbusiness.co.za)
[14:31:48] <bollu> actually, better question: https://github.com/bollu/proGenY/blob/develop/src/core/componentSys/Property.h how would I write that in rust?
[14:32:04] <bollu> I know the entire class is unsafe, but it made things sooo much easier
[14:32:31] <bollu> or is it impossible?
[14:33:58] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[14:35:17] <kimundi> re restructuring, the problem is that without the add/remove problem, you can still not have aliasing mutable objects for the same reasons (the same problem can happen with whatever a object contains). One easy way around would be to make the borrow checking dynamically with RefCell, then you would only fail at runtime if you violate the mutable aliasing rule, instead being static prevented to compile at all
[14:36:06] *** Joins: josh (josh@moz-C1D9FC5F.meeting.ietf.org)
[14:36:23] <kimundi> So, instead of ~[Object], you'd have ~[RefCell<Object>], and could use immutable references, which allow aliasing
[14:37:21] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[14:37:22] *** Joins: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net)
[14:37:34] <bollu> kimundi: would you recommend it? :)
[14:37:36] *** Joins: aocha (Mibbit@moz-C82E8769.static.ziggozakelijk.nl)
[14:37:58] <bvssvni> http://static.rust-lang.org/doc/master/collections/enum_set/struct.EnumSet.html
[14:38:17] <kimundi> bollu: Well, its intended for cases where static checking is to restrictive
[14:38:19] <bvssvni> interesting way of using generics as phantom type to bind to a specific impl of CLike
[14:38:22] *** Quits: marshall_law (marshall@BCC5EC56.B2070AF7.505F6A0C.IP) (Ping timeout)
[14:38:27] <kimundi> bollu: SO, if it helps you, use it
[14:39:03] *** Joins: ChemicalHarm (chemicalha@moz-A9F37238.hsd1.md.comcast.net)
[14:39:03] <kimundi> (Btw, I don'T know C++, so my help with Property.h is going to bevery limited ;))
[14:39:30] *** Joins: judder (maradukewa@A4DC519F.6379DA33.78E362FE.IP)
[14:39:51] <bollu> kimduni: no probs :)
[14:39:54] <bollu> doomlord_: ideas?
[14:39:57] <SiegeLord> I think it should be ok... we have that Any type which you'd use for dynamic_cast
[14:40:30] <SiegeLord> (if I understand Any correctly)
[14:40:46] *** Joins: tq (tq@moz-632DBD9.ad.umu.se)
[14:40:57] <kimundi> Sadly using Any for custom code requires reimplementing it in its entirety :P
[14:41:01] <doomlord_> bollu if you're making a component system i think you can largely avoid vtables, but with rust i get the impression its easier to move back and forth
[14:41:12] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[14:41:55] <SiegeLord> kimundi: How custom is custom?
[14:42:06] *** Joins: edwardw (edwardw@655F78EA.BF27AFA4.B9C6B12A.IP)
[14:42:09] <doomlord_> for a component entity system you just have arrays of similar components.. linked by ID's .. possibly a master structure for each "id" with Option<> to each potential component  ?
[14:42:52] <bollu> doomlord_: yeah, that's how I was visualizing it
[14:43:02] <bollu> with something like a hash table for fast random access
[14:43:17] <kimundi> SiegeLord: Well, if you want to implement a custom trait that inherits from Any, you have to implement al the Extension traits that offer the actual implementation. I could look into factoring it out into custom functions you'd call though
[14:43:45] <SiegeLord> Why would you want to inherit from Any?
[14:44:17] <bollu> ^ I'm confused too
[14:44:35] *** Quits: aocha (Mibbit@moz-C82E8769.static.ziggozakelijk.nl) (Quit: http://www.mibbit.com ajax IRC Client)
[14:45:04] <bvssvni> SiegeLord: if one needs to construct ~Trait for example
[14:45:16] <kimundi> SiegeLord: Well if you want upcasting
[14:45:21] *** Joins: mye (mye@moz-C6E6EB2.dip0.t-ipconnect.de)
[14:45:27] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[14:45:28] <kimundi> Or however youD call it
[14:45:38] <SiegeLord> Ah... in this case I don't think it is necessary, however
[14:45:49] *** Joins: jviereck (Adium@moz-C44E0E8.ethz.ch)
[14:46:00] <bvssvni> in a component system it is usual to have a list of enteties
[14:46:27] <bvssvni> if one uses a vector then the content needs to be a pointer to a trait Entity
[14:47:08] <bvssvni> Entity must then inherit Any in able to cast it back to the specific type
[14:47:20] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[14:48:12] <bvssvni> I got some example code, will gist it
[14:49:11] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[14:49:33] <bollu> okay, will this work: for each component of type T, I have an array in global(-ish) scope, something like TComponentList. And I'll process over these components with a TComponentProcessor every tick. 
[14:49:57] <bollu> there is no "Object" class - it's just an ID
[14:50:02] *** Quits: jviereck (Adium@moz-C44E0E8.ethz.ch) (Ping timeout)
[14:50:10] <bollu> Object / Entity
[14:50:37] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[14:51:50] *** Joins: jviereck (Adium@moz-5F2A758D.ethz.ch)
[14:52:56] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[14:53:46] *** Quits: alexherbo2 (alexherbo2@moz-EB37CAC8.w90-3.abo.wanadoo.fr) (Quit: WeeChat 0.4.3-dev)
[14:53:52] *** Joins: alexherbo2 (alexherbo2@moz-FC10E83F.de)
[14:57:26] <SiegeLord> That's how I did it
[14:57:58] <bollu> SiegeLord: thanks
[14:58:21] *** Joins: marshall_law (marshall@BCC5EC56.B2070AF7.505F6A0C.IP)
[14:58:43] <SiegeLord> Except in my case, each 'processor' had a list of components that were 'active'
[14:58:45] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Connection reset by peer)
[14:59:02] <SiegeLord> So I don't go through the entire list each frame
[14:59:05] *** Parts: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de) (PONG :concrete.mozilla.org)
[14:59:05] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[14:59:42] <bollu> rust can't implicitly typecast int to float?
[15:00:00] <bollu> SiegeLord: yeah, forgot to mention that detail
[15:00:10] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[15:00:31] <SiegeLord> Rust is a bit intense with disallowing implicit conversions
[15:00:54] <SiegeLord> But the good bit of that is that nobody asks for overloadable implicit conversions 8)
[15:00:57] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[15:01:18] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[15:01:25] <bollu> okay, what's rust convention for naming bool types?
[15:01:59] *** Quits: josh (josh@moz-C1D9FC5F.meeting.ietf.org) (Quit: josh)
[15:02:05] <bollu> like, just bool invulnerabe or something else?
[15:02:36] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[15:02:37] <bollu> like, just bool invulnerabe or something else?
[15:02:44] <bollu> whoops, sorry
[15:03:17] <kimundi> bollu: Well convention is snake_case for everthing except types and enum variants
[15:03:46] <bollu> kimduni: thanks
[15:04:12] <kimundi> and all caps for constants
[15:04:43] <kimundi> (CAPS_SNAKE?)
[15:04:55] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[15:05:16] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[15:05:33] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[15:05:37] <bollu> :)
[15:06:40] <dmsky> Hi. I've noticed that make check-stage1-std is now failing. This seems to be due to the fact that librustc/front/test.rs now has mk_test_module that always fails for cfg=stage0 (src/librustc/front.rs:316), and librustc gets then copied from stage0 to stage1. 
[15:06:58] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[15:07:01] *** Quits: mno2 (mno2@76ED98CE.BEBC37B7.DA359910.IP) (Ping timeout)
[15:07:05] <bollu> how would I rewrite RenderNode? https://github.com/bollu/proGenY/blob/develop/src/core/Rendering/renderProcess.h
[15:07:06] <kimundi> bollu: Oh, btw we have the #rust-gamedev channel
[15:07:09] <bollu> ty
[15:07:14] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[15:07:47] <dmsky> I guess the workaround would be forcing librustc rebuild with --cfg=stage1, but i don't know build system well enough. Does anybody have any suggestions?
[15:07:48] *** Joins: mno2 (mno2@76ED98CE.BEBC37B7.DA359910.IP)
[15:08:04] *** Joins: patpat (patpat@69FF1C62.D798B35A.98F3E2B5.IP)
[15:08:09] <eddyb> dmsky: you... just have to wait :/
[15:08:34] <eddyb> dmsky: either build stage2 or wait for a snapshot to cycle through and fix the problem
[15:09:07] <bollu> kimundi: I'm struggling with the language as of now :) Once I get to gamedev problems, I'll migrate ;)
[15:09:19] <bollu> and.. rewrite? use Enum?
[15:09:32] *** Quits: mno2 (mno2@76ED98CE.BEBC37B7.DA359910.IP) (Ping timeout)
[15:09:33] *** Quits: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca) (Quit: canhtak)
[15:10:44] *** Joins: mno2 (mno2@76ED98CE.BEBC37B7.DA359910.IP)
[15:11:06] <dmsky> eddyb: ah, ok, thanks, so that failing stage0 definition will go away once the new snapshot is available, right?
[15:12:26] <eddyb> I think so
[15:13:47] *** Joins: ambimorph (amber@moz-DD573110.hsd1.co.comcast.net)
[15:13:58] <dmsky> Ok, thanks for clarification.
[15:15:58] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[15:16:24] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Quit: valenting)
[15:17:29] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[15:17:36] <cmr> hansjorg: I'm getting HTTP 500's when I try to add hgl-rs on rust-ci
[15:17:44] *** Joins: ulfr (ulfr@moz-678788A9.tampfl.fios.verizon.net)
[15:17:51] <hansjorg> cmr: I'll take a look
[15:18:06] <cmr> thanks
[15:18:34] *** Quits: jviereck (Adium@moz-5F2A758D.ethz.ch) (Quit: Leaving.)
[15:19:08] <ulfr> California)
[15:20:51] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[15:20:51] *** ChanServ sets mode: +o jdm
[15:21:21] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[15:21:58] *** Parts: ulfr (ulfr@moz-678788A9.tampfl.fios.verizon.net) ()
[15:22:01] <hansjorg> cmr: it choked on missing description from GitHub, should work now
[15:22:27] *** Joins: jviereck (Adium@moz-5F2A758D.ethz.ch)
[15:22:51] <cmr> ah ok
[15:23:46] *** Quits: ChemicalHarm (chemicalha@moz-A9F37238.hsd1.md.comcast.net) (Client exited)
[15:24:06] <cmr> still 500
[15:24:09] *** Quits: jviereck (Adium@moz-5F2A758D.ethz.ch) (Quit: Leaving.)
[15:25:24] *** Joins: jviereck (Adium@moz-5F2A758D.ethz.ch)
[15:26:05] <bvssvni> https://gist.github.com/bvssvni/9327294
[15:27:33] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[15:28:23] *** Quits: mno2 (mno2@76ED98CE.BEBC37B7.DA359910.IP) (Ping timeout)
[15:29:08] <bvssvni> updated the gist
[15:29:13] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[15:29:30] <bvssvni> bollu: ^
[15:29:59] *** Joins: bmurphy1976 (bmurphy197@46E64081.D240E006.6624BF1.IP)
[15:30:03] <hansjorg> cmr: ah, helps to actually update the code on the server :)
[15:30:16] <cmr> heh
[15:30:16] <hansjorg> should help at least
[15:30:23] <cmr> usually works for me
[15:31:18] <kimundi> bvssvni: Btw, I have a PR that cleans up the ANy implementation somewhat - though it probably won'T make much of a difference here
[15:31:19] <cmr> hansjorg: works, thanks.
[15:31:38] <Tobba> ugh
[15:31:41] <kimundi> r? anyone https://github.com/mozilla/rust/pull/12667
[15:31:52] <hansjorg> cmr: great
[15:31:52] <Tobba> trying to do use Rust outside of OS programming
[15:32:17] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[15:32:21] *** Joins: dranov (dranov@C53D18C7.630468A5.FB866788.IP)
[15:32:21] <Tobba> Rc/RefCell is pretty awful
[15:32:49] <kimundi> Tobba: Well, you'll get Deref traits oonish
[15:32:57] <Tobba> hopefully
[15:32:58] <Tobba> because uh yeah
[15:32:59] <Tobba> let file = pack.borrow().borrow_mut().get().open_index(0, false);
[15:33:03] <Tobba> what the fuck is this shit
[15:33:23] <cmr> already PR's open for it.
[15:33:28] <Tobba> thats great
[15:34:02] <kimundi> Once eddyb's PR lands, it will be pack.borrow_mut().open_index(0, false);, with borrow_mut() being intentionally written out
[15:34:15] <kimundi> (To signify dynamic borrowing)
[15:34:23] <Tobba> excellent
[15:34:41] <Tobba> thats actually reasonable
[15:34:51] *** Joins: suzak (suzak@moz-FEBD2936.sakura.ne.jp)
[15:35:16] <edwardw> Tobba: I had worse, something like borrow().borrow().get().get(...) LOL
[15:35:20] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[15:35:24] <Tobba> ahahah
[15:35:45] <edwardw> A Vec inside a RefCell inside a Rc, that is
[15:35:58] <eddyb> Tobba: we can technically implement autoderef through RefCell itself. but choosing between Deref/DerefMut becomes harder. you'll also have unexpected borrow_mut calls
[15:36:05] <eddyb> (that you can't grep for)
[15:36:13] <Tobba> yeah that would suck
[15:36:49] *** Joins: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca)
[15:37:01] <eddyb> if you call a method that you don't know that it takes &mut self (or if API changes to that), it would automatically pick DerefMut
[15:37:29] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[15:37:35] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[15:37:40] <eddyb> one solution is to only do it for .borrow(), but that still requires some changes we aren't completely comfortable with
[15:37:41] <Tobba> also, is there any way to have a pointer to say, Reader+Seek
[15:37:51] <Tobba> or will that come with DST
[15:37:53] <eddyb> need to write a trait to wrap them, sorry :(
[15:38:04] <eddyb> it's not an actual DST problem
[15:38:59] <eddyb> Tobba: you can open an RFC for that if there isn't one already
[15:39:16] <kimundi> just for fun, once Deref lands, I'd like to see it implemented on any type that could somehow be contorted into being autoderefable, and then look how obfuscated the code gets ;). Stuff like making a option get_ref a Deref impl etc
[15:39:21] *** jorendorff_away is now known as jorendorff
[15:40:53] <eddyb> kimundi: that's strictly auto-ref I would say
[15:41:01] <eddyb> and doesn't chain as much as you'd think
[15:41:22] <eddyb> but you can implement it on newtypes
[15:41:41] <eddyb> and call methods on the wrapped type through it
[15:41:58] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[15:42:22] <eddyb> kimundi: can make Gc<T> a struct now
[15:42:44] <eddyb> so we can hide the fact that it uses @T even more
[15:43:11] <eddyb> can replace @T with P<T> in the ast and implement P<T> like Rc (but simpler, no real need for weak support)
[15:44:16] *** Joins: [squiddy] (squiddy@moz-686F69E9.dip0.t-ipconnect.de)
[15:45:16] *** Joins: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com)
[15:46:55] *** Joins: voxpopuli (fanservice@8C584618.171E5B70.689607DE.IP)
[15:47:37] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:47:43] *** Quits: awidegreen (awidegreen@moz-E4E59BCA.dip0.t-ipconnect.de) (Ping timeout)
[15:48:57] <eddyb> so my code looks something like this, after porting to rust. not sure how much I like it
[15:49:00] <eddyb> |L, Rm|~[L && Mov(cx.lr(), cx.pc() + 4i32), Mov(cx.pc(), Rm)]
[15:49:29] <kimundi> what is that even supossed to be oO
[15:49:32] <eddyb> and L && value won't work in Rust. I have to find a simple way of expressing that. Option would require Some all over the place
[15:49:58] <kimundi> pc()... cpu emulator?
[15:50:08] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[15:50:14] <eddyb> kimundi: machine code -> IR
[15:50:30] <eddyb> if L {Mov(cx.lr(), cx.pc() + 4i32)} else {Nop} is too verbose IMO
[15:50:37] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:50:54] <eddyb> rusti: true & false
[15:50:56] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[15:50:59] -rusti- false
[15:51:12] <eddyb> great, so I can't overload that. coherent life is tricky
[15:51:57] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[15:52:07] <edwardw> rusti: true && false
[15:52:07] -rusti- false
[15:52:11] <eddyb> also, I've forgotten I used a lot of different types in JS. ad-hoc doesn't work for Rust
[15:52:13] <edwardw> o_O
[15:52:18] <eddyb> edwardw: & is non-shortcircuiting
[15:52:34] <edwardw> eddyb: yeah, a bit surprising
[15:52:47] <eddyb> rusti: false && {print!("foo "); true}
[15:52:48] -rusti- false
[15:52:50] <eddyb> rusti: false & {print!("foo "); true}
[15:52:51] -rusti- foo false
[15:53:02] <eddyb> edwardw: same deal in C/C++
[15:53:37] <edwardw> k
[15:54:05] *** Quits: Denommus (user@moz-2A8D5B3F.user.veloxzone.com.br) (Quit: ERC Version 5.3 (IRC client for Emacs))
[15:54:14] *** Joins: dschatzberg (dschatzber@moz-B15FAF67.bu.edu)
[15:54:42] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Quit: Leaving.)
[15:54:47] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[15:54:51] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[15:55:10] *** Joins: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net)
[15:55:24] <eddyb> kimundi: I could impl expr & stmt if it weren't for this coherence mess :(
[15:55:54] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:57:36] *** Quits: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP) (Quit: leaving)
[15:57:45] *** Joins: tgkokk (tgkokk@moz-29BC739C.home.otenet.gr)
[15:58:13] <Tobba> ugh
[15:58:28] *** Quits: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca) (Quit: canhtak)
[15:58:30] <Tobba> and the classic problem of "read until" only being available in buffered readers, which dont support seeking
[15:58:38] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[15:58:47] <Tobba> I think I can work around it though
[15:58:52] *** Joins: victorporof_ (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[15:58:52] *** Joins: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca)
[15:59:21] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[16:00:03] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[16:00:43] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[16:00:59] *** Quits: jviereck (Adium@moz-5F2A758D.ethz.ch) (Quit: Leaving.)
[16:01:32] *** Joins: AvianFlu_ (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[16:01:36] *** Quits: voxpopuli (fanservice@8C584618.171E5B70.689607DE.IP) (Ping timeout)
[16:01:45] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:01:50] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Quit: )
[16:02:14] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[16:02:20] <Darnuria> hmm Implementing a .words() method on ascii does have any sense? (I search a little thing to do for rust :))
[16:02:22] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[16:02:24] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Ping timeout)
[16:02:27] <Darnuria> I didn't find one.
[16:02:43] *** Quits: AvianFlu_ (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Quit: Leaving...)
[16:03:03] <eddyb> Darnuria: any particular reason why you're using Ascii?
[16:03:48] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[16:04:05] *** Quits: tq (tq@moz-632DBD9.ad.umu.se) (Quit:  HydraIRC -> http://www.hydrairc.com <- IRC with a difference)
[16:04:07] *** Joins: ChemicalHarm (chemicalha@moz-A9F37238.hsd1.md.comcast.net)
[16:04:20] <Darnuria> eddyb: Actually for uppercasing english string
[16:04:32] <Darnuria> I didn't find a utf-8 way... :(
[16:04:53] <Darnuria> there is no to_upper() for str/chars
[16:05:05] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Quit: Leaving...)
[16:05:06] <eddyb> I wonder if that was merged yet
[16:05:17] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[16:05:36] <Darnuria> There is a patch for it?
[16:05:52] *** Joins: jviereck (Adium@moz-5F2A758D.ethz.ch)
[16:06:23] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[16:06:26] <eddyb> Darnuria: https://github.com/mozilla/rust/pull/12561
[16:06:31] *** Joins: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se)
[16:06:42] <bvssvni> Darnuria: http://static.rust-lang.org/doc/master/std/ascii/trait.StrAsciiExt.html#tymethod.to_ascii_upper
[16:06:56] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[16:06:59] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Quit: )
[16:08:01] <Darnuria> ok
[16:08:48] <Darnuria> bvssvni: My problem is not so simple I want to uppercase all of the first letter of words
[16:09:03] *** Quits: edwardw (edwardw@655F78EA.BF27AFA4.B9C6B12A.IP) (Quit: Leaving...)
[16:09:14] <Darnuria> like "fuu BAR TOoT" -> "Fuu Bar Toot"
[16:09:25] <eddyb> ahh, titlecase
[16:09:25] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[16:09:35] <Darnuria> I tried with nasty ascii thing
[16:09:49] <Darnuria> but it forces to use unsafe methods lot of casting etc
[16:10:14] *** Quits: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca) (Quit: canhtak)
[16:10:17] *** Joins: zmike (discomfito@moz-975BC507.hsd1.ct.comcast.net)
[16:10:27] *** Joins: jmmk (jmmk@moz-3BDBD2C0.hfc.comcastbusiness.net)
[16:10:34] *** Quits: EKK (kviiri@moz-4C25427B.cs.helsinki.fi) (Ping timeout)
[16:10:37] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:10:54] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Ping timeout)
[16:11:32] <eddyb> Darnuria: oh dear https://github.com/mozilla/rust/pull/12561#discussion_r10192232
[16:12:11] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[16:12:30] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[16:13:12] *** Quits: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se) (Ping timeout)
[16:13:58] *** Joins: EKK (kviiri@moz-4C25427B.cs.helsinki.fi)
[16:14:11] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Input/output error)
[16:14:14] *** Quits: ChemicalHarm (chemicalha@moz-A9F37238.hsd1.md.comcast.net) (Client exited)
[16:14:23] *** Quits: lpy (lpy@12172131.F09091A8.1348A864.IP) (Quit: Leaving...)
[16:14:33] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[16:14:42] *** Joins: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca)
[16:14:56] <kimundi> unicode is hard :P
[16:15:00] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[16:15:28] *** Quits: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net) (Quit: Leaving.)
[16:15:34] *** Joins: awidegreen (awidegreen@moz-E4E59BCA.dip0.t-ipconnect.de)
[16:16:08] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[16:16:51] *** Quits: lpy (lpy@12172131.F09091A8.1348A864.IP) (Client exited)
[16:17:21] *** pmoore is now known as pmoore|dinner
[16:18:31] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[16:20:11] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Ping timeout)
[16:20:13] *** Joins: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP)
[16:20:34] *** Joins: Rym (WUT@39CBEBF9.BF9A5138.8772DA20.IP)
[16:21:55] *** Joins: voxpopuli (fanservice@8C584618.171E5B70.689607DE.IP)
[16:21:58] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[16:22:08] *** Joins: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca)
[16:23:34] *** Joins: marianoguerra (marianogue@moz-DA2C7260.dip0.t-ipconnect.de)
[16:24:49] *** Joins: fyolnish (fyolnish@moz-DEE2B184.uqwimax.jp)
[16:26:30] *** Quits: fyolnish (fyolnish@moz-DEE2B184.uqwimax.jp) (Ping timeout)
[16:26:40] <Darnuria> kimundi: yep :(
[16:28:15] *** Quits: summerlight_ (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[16:28:55] <Darnuria> eddyb: holy crap it's broken on travis
[16:28:57] <Darnuria> :O
[16:29:02] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[16:29:59] <Darnuria> hmm... Working with utf-8 is not so easy as I imagine...
[16:30:16] <eddyb> travis is broken until we get a new snapshot, I think
[16:31:47] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[16:32:19] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:32:23] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[16:32:30] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:33:01] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Ping timeout)
[16:33:03] *** Quits: sk (sk@35CFDE22.E993C7C3.78DD174B.IP) (Ping timeout)
[16:33:51] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[16:34:12] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[16:34:47] *** Joins: earlzlap (earlz@5B1FE501.78CAA20E.2F043D47.IP)
[16:36:00] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[16:36:02] *** Quits: patpat (patpat@69FF1C62.D798B35A.98F3E2B5.IP) (Ping timeout)
[16:36:07] *** Joins: patpat (patpat@69FF1C62.D798B35A.98F3E2B5.IP)
[16:36:18] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[16:36:21] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[16:36:54] *** Joins: Ms2ger (Ms2ger@57ACE628.C60A97A6.F9FB0584.IP)
[16:37:13] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[16:37:46] *** Joins: sk (sk@35CFDE22.E993C7C3.78DD174B.IP)
[16:37:48] *** Quits: patpat (patpat@69FF1C62.D798B35A.98F3E2B5.IP) (Ping timeout)
[16:37:54] *** Joins: patpat (patpat@69FF1C62.D798B35A.98F3E2B5.IP)
[16:38:02] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[16:38:57] <Tobba> is there any way to do match ... { x(mut ref y) => ... }?
[16:39:15] <Ms2ger> ref mut?
[16:39:18] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[16:39:35] *** Quits: patpat (patpat@69FF1C62.D798B35A.98F3E2B5.IP) (Ping timeout)
[16:39:41] <Tobba> only one I didnt try
[16:39:42] <Tobba> dangit
[16:39:43] *** Joins: patpat (patpat@69FF1C62.D798B35A.98F3E2B5.IP)
[16:40:03] *** Quits: Ferreus (ferreus@moz-7CCF6380.dip0.t-ipconnect.de) (Ping timeout)
[16:40:27] <bvssvni> Tobba: ref mut = same order as &mut
[16:41:14] *** Quits: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca) (Quit: Leaving.)
[16:41:24] *** Quits: patpat (patpat@69FF1C62.D798B35A.98F3E2B5.IP) (Ping timeout)
[16:41:30] *** Joins: patpat (patpat@69FF1C62.D798B35A.98F3E2B5.IP)
[16:42:15] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[16:42:16] *** Joins: patpatter (patpat@69FF1C62.D798B35A.98F3E2B5.IP)
[16:42:18] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[16:43:11] *** Quits: patpat (patpat@69FF1C62.D798B35A.98F3E2B5.IP) (Ping timeout)
[16:43:54] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Quit: Lost terminal)
[16:44:23] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[16:45:01] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:45:09] *** Joins: josh (josh@moz-244364B2.cable.virginm.net)
[16:45:32] *** Joins: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP)
[16:45:37] *** Quits: patpatter (patpat@69FF1C62.D798B35A.98F3E2B5.IP) (Ping timeout)
[16:48:07] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[16:48:22] *** Joins: arturo (Thunderbir@moz-4F69776.superkabel.de)
[16:48:31] *** Quits: Kxepal (Miranda@moz-D26FCE20.pppoe.mtu-net.ru) (Ping timeout)
[16:51:02] *** Joins: arturo1 (Thunderbir@moz-E83B14F0.superkabel.de)
[16:51:31] *** Joins: teosz (teosz@5F23F990.D75A9DA0.3EA6AAD8.IP)
[16:51:42] *** Quits: arturo (Thunderbir@moz-4F69776.superkabel.de) (Ping timeout)
[16:52:16] *** Joins: Kxepal (Miranda@moz-363D0201.pppoe.mtu-net.ru)
[16:53:24] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[16:53:38] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[16:53:51] *** Quits: marianoguerra (marianogue@moz-DA2C7260.dip0.t-ipconnect.de) (Ping timeout)
[16:56:14] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[16:56:23] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[16:57:29] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[16:58:53] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:59:09] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[16:59:12] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[17:01:07] *** Joins: gaston (landry@moz-2911F07A.rhaalovely.net)
[17:01:27] *** Quits: ziad (ziad@moz-C0318336.hsd1.ca.comcast.net) (Quit: ziad)
[17:01:41] <gaston> question about porting rust to another OS, what's the best path ? using linux binary compatibility to use linux bootstraps ?
[17:01:59] *** Joins: jdsanders (Adium@D073F53D.C41F93F.96556A09.IP)
[17:03:48] *** Joins: jensnockert (jensnocker@moz-840940F2.wireless.lu.se)
[17:04:02] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[17:06:03] *** Quits: vmx (vmx@moz-39B2DC4C.dip0.t-ipconnect.de) (Ping timeout)
[17:07:11] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[17:08:50] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[17:09:10] *** Joins: vmx (vmx@moz-39B2DC4C.dip0.t-ipconnect.de)
[17:09:30] <Darnuria> gaston: Maybe posting this question on the mailling list will be more effective for you. :)
[17:09:46] <gaston> damn mailing lists :)
[17:09:56] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[17:10:10] *** Joins: ChemicalHarm (chemicalha@moz-A9F37238.hsd1.md.comcast.net)
[17:10:12] *** Quits: claudiu (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP) (Connection reset by peer)
[17:10:17] *** Joins: onelson (owen@moz-DD666EC5.laika.com)
[17:10:28] *** Quits: bvssvni (Mibbit@moz-C4579D6F.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[17:10:31] <Ms2ger> gaston, could just say "BSD" ;)
[17:10:43] *** Joins: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP)
[17:11:57] *** Joins: lawrence (lawrence@moz-9DD7132D.wireless.utoronto.ca)
[17:12:36] *** Quits: ambimorph (amber@moz-DD573110.hsd1.co.comcast.net) (Ping timeout)
[17:12:38] <gaston> Ms2ger: damn, busted :p
[17:12:38] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[17:13:16] <gaston> oh well i'll try our linux emul to see if i can get something building from the linux bootstraps..
[17:13:20] *** Quits: mceier (mceier@moz-C1591437.dynamic.chello.pl) (Quit: leaving)
[17:14:11] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:15:10] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[17:16:24] *** Joins: dherman (dherman@F16146EB.9D3722BB.58DC3EE6.IP)
[17:16:24] *** ChanServ sets mode: +ao dherman dherman
[17:16:41] *** Quits: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: azita)
[17:16:41] *** Joins: mceier (mceier@moz-C1591437.dynamic.chello.pl)
[17:16:59] *** Joins: ramitos (ramitos@moz-BBC9010D.net.novis.pt)
[17:18:00] *** Quits: [squiddy] (squiddy@moz-686F69E9.dip0.t-ipconnect.de) (Ping timeout)
[17:18:40] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[17:19:42] *** Joins: RustProof (Mibbit@moz-FB62ACB9.w90-24.abo.wanadoo.fr)
[17:19:51] *** Quits: RustProof (Mibbit@moz-FB62ACB9.w90-24.abo.wanadoo.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[17:19:56] *** pmoore|dinner is now known as pmoore
[17:20:05] *** Quits: jviereck (Adium@moz-5F2A758D.ethz.ch) (Quit: Leaving.)
[17:20:43] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[17:21:06] *** Joins: aepsil0n (ebopp@moz-EF530DCB.ita.uni-heidelberg.de)
[17:21:36] *** Joins: nrc (nrc@F16146EB.9D3722BB.58DC3EE6.IP)
[17:21:50] *** Parts: aepsil0n (ebopp@moz-EF530DCB.ita.uni-heidelberg.de) ()
[17:22:50] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[17:24:32] *** Quits: vmx (vmx@moz-39B2DC4C.dip0.t-ipconnect.de) (Ping timeout)
[17:25:44] *** Joins: vmx (vmx@moz-39B2DC4C.dip0.t-ipconnect.de)
[17:25:49] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[17:27:33] *** Joins: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[17:27:57] *** Joins: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca)
[17:28:24] *** Joins: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP)
[17:28:25] *** ChanServ sets mode: +ao brson brson
[17:29:45] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[17:29:53] *** Parts: gaston (landry@moz-2911F07A.rhaalovely.net) ()
[17:30:07] *** Quits: bmurphy1976 (bmurphy197@46E64081.D240E006.6624BF1.IP) (Quit: Textual IRC Client: www.textualapp.com)
[17:32:50] *** Quits: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca) (Quit: Leaving.)
[17:32:51] *** Quits: vgeddes (vincent.ge@moz-CE3C0499.access.mtnbusiness.co.za) (Ping timeout)
[17:34:12] *** Quits: dherman (dherman@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: dherman)
[17:34:57] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:35:08] *** Quits: lawrence (lawrence@moz-9DD7132D.wireless.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:35:58] *** Joins: dherman (dherman@F16146EB.9D3722BB.58DC3EE6.IP)
[17:35:58] *** ChanServ sets mode: +ao dherman dherman
[17:36:05] *** Joins: puzzler (puzzler@moz-CD721145.hsd1.mi.comcast.net)
[17:37:20] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[17:37:28] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:37:33] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[17:37:33] *** Quits: StarLight (StarLight@moz-F20650A3.dynamic.avangarddsl.ru) (Connection reset by peer)
[17:37:40] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:39:46] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[17:41:12] *** Joins: arielb1 (Mibbit@moz-A625531D.cs.tau.ac.il)
[17:41:35] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:42:52] *** Quits: ChemicalHarm (chemicalha@moz-A9F37238.hsd1.md.comcast.net) (Broken pipe)
[17:43:01] *** Joins: StarLight (StarLight@9A0E9778.5DC686ED.F1EF1E39.IP)
[17:43:05] *** Joins: ChemicalHarm (chemicalha@moz-A9F37238.hsd1.md.comcast.net)
[17:43:09] <Tobba> whats the proper way to get a pointer to an owned pointer?
[17:43:28] <cmr> &foo ?
[17:43:38] <cmr> what type do you want
[17:43:40] <Tobba> gives me a &~
[17:43:46] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[17:43:49] <cmr> that's a pointer to an owned pointer :p
[17:43:51] <Tobba> I have a owned string and want a borrow on it
[17:44:00] <Ms2ger> Then just "foo"
[17:44:08] <Ms2ger> Or .as_slice()
[17:44:09] <cmr> .as_slice() to explicitly get a slice.
[17:44:16] *** Quits: murph1 (murph@moz-F07B75BF.oracle.com) (Client exited)
[17:44:31] *** Joins: murph1 (murph@moz-F07B75BF.oracle.com)
[17:44:36] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[17:44:51] *** Quits: arielb1 (Mibbit@moz-A625531D.cs.tau.ac.il) (Quit: http://www.mibbit.com ajax IRC Client)
[17:45:19] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:45:19] *** Quits: arturo1 (Thunderbir@moz-E83B14F0.superkabel.de) (Quit: arturo1)
[17:46:14] *** Parts: jdsanders (Adium@D073F53D.C41F93F.96556A09.IP) ()
[17:46:17] *** Quits: mye (mye@moz-C6E6EB2.dip0.t-ipconnect.de) (Quit: mye)
[17:46:18] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[17:46:20] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:49:34] *** Quits: lerc (quassel@moz-289EFA2.telstraclear.net) (Ping timeout)
[17:49:37] *** Joins: lerc (quassel@moz-289EFA2.telstraclear.net)
[17:49:57] *** Quits: trobertson (quassel@moz-A4AC319.sd.sd.cox.net) (Ping timeout)
[17:49:58] *** Joins: trobertson (quassel@moz-A4AC319.sd.sd.cox.net)
[17:49:59] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[17:50:14] *** Quits: fabiand (fabiand@moz-7E0AD54C.adsl.alicedsl.de) (Quit: Verlassend)
[17:50:35] *** Quits: jensnockert (jensnocker@moz-840940F2.wireless.lu.se) (Input/output error)
[17:50:41] *** Quits: not_gavin (gavin@E04DED12.5AA33DAB.2321E71E.IP) (Ping timeout)
[17:50:55] <eddyb> you know what's sad? http://en.wikipedia.org/wiki/Transcendental_computing
[17:51:13] *** Joins: claudiu (claudiu@moz-7D1F0258.thefacebook.com)
[17:51:18] *** Quits: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net) (Ping timeout)
[17:52:11] *** Quits: Rym (WUT@39CBEBF9.BF9A5138.8772DA20.IP) (Ping timeout)
[17:52:42] *** Joins: Rym (WUT@39CBEBF9.BF9A5138.8772DA20.IP)
[17:54:10] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[17:54:37] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[17:55:14] *** Joins: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[17:55:34] *** Quits: silotis (quassel@moz-4B8C4631.oc.oc.cox.net) (Ping timeout)
[17:55:40] *** Joins: silotis (quassel@moz-4B8C4631.oc.oc.cox.net)
[17:55:59] *** Quits: redShadow (redShadow@9BDAF02B.D15F9219.1CCF65D9.IP) (Quit: Leaving)
[17:57:28] *** Quits: Guest_ (textual@moz-310FD28A.dynamic.caiway.nl) (Quit: Computer has gone to sleep.)
[17:57:50] *** Quits: avsej_ (avsej@D9A610B8.4841F515.FB33447D.IP) (Ping timeout)
[17:58:25] *** Joins: avsej_ (avsej@D9A610B8.4841F515.FB33447D.IP)
[17:58:46] *** Joins: Capt_Redbeard (Capt_Redbe@moz-4998C3D0.ok.ok.cox.net)
[17:59:32] <Havvy> Wikipedia does not have an article with this exact name.
[18:00:54] *** Joins: montezuma (Mibbit@moz-CFB96525.cnrs-imn.fr)
[18:01:18] *** Quits: rootnode (rootnode@moz-E07EECD2.pools.arcor-ip.net) (Connection reset by peer)
[18:01:30] *** Joins: awidegre1n (awidegreen@moz-E6DD8F8D.dip0.t-ipconnect.de)
[18:02:06] *** Quits: awidegreen (awidegreen@moz-E4E59BCA.dip0.t-ipconnect.de) (Ping timeout)
[18:03:02] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:04:12] <montezuma> Hi, all. I want to read a csv file. I know the size of the table it contains at runtime. I wanted to know if there was any way to allocate a vec of vec at runtime. I know I can "push" values in a table preallocated with "with_capacity" BUT I don't know if there are any guaranty that the table won't get expanded as I push values inside.
[18:04:52] <montezuma> Fixed size vec wouldn't work as I don't know the size of the table at compile time.
[18:05:57] *** Joins: not_gavin (gavin@E04DED12.5AA33DAB.2321E71E.IP)
[18:06:47] <sp3d> with_capacity is an optimization to avoid having to resize extra times; you can always push onto a vec
[18:06:50] <SiegeLord> That guarantee exists... that said, you could use from_fn
[18:07:08] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[18:07:15] *** Joins: Kruppe (user@moz-B38DC767.dynamic.uwaterloo.ca)
[18:07:32] <SiegeLord> You'd probably want with_capacity_exact in that specific case
[18:07:43] <SiegeLord> Oh, that doesn't exist...
[18:07:46] <SiegeLord> I thought it did
[18:07:59] <cmr> with_capacity is exact.
[18:08:07] *** Joins: jensnockert (jensnocker@moz-AED896E2.wireless.lu.se)
[18:08:12] <SiegeLord> Aha, ok
[18:09:43] *** Quits: ramitos (ramitos@moz-BBC9010D.net.novis.pt) (Quit: Textual IRC Client: www.textualapp.com)
[18:11:05] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[18:11:08] <o11c> yay, finished *writing* my wrapper ... now to port all the unit tests and demos
[18:11:30] *** Joins: marianoguerra (marianogue@moz-10E0E118.dip0.t-ipconnect.de)
[18:12:13] *** Joins: hhhhhhhhhh (mike@moz-C957E6A8.stcatz.ox.ac.uk)
[18:12:52] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[18:12:53] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[18:13:09] <montezuma> sp3d : I understand, but if it is set to 200 for instance, will it try to allocate more space when I reach 190 ?
[18:14:08] *** Quits: azakai (alon@moz-BBE3ABD.mv.mozilla.com) (Quit: Ex-Chat)
[18:14:15] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[18:14:21] *** Quits: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca) (Quit: canhtak)
[18:14:54] *** Joins: Guest (textual@moz-310FD28A.dynamic.caiway.nl)
[18:15:15] <montezuma> SiegeLord : oh I see. That should do it perfectly. 
[18:15:20] <montezuma> Thanks to all.
[18:16:18] *** Quits: tgkokk (tgkokk@moz-29BC739C.home.otenet.gr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[18:16:42] *** Quits: montezuma (Mibbit@moz-CFB96525.cnrs-imn.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[18:17:19] *** Joins: Ferreus (ferreus@moz-7218DD5.lsn.wtnet.de)
[18:19:33] *** Quits: MP2E (cray@moz-EB1E242D.lv.lv.cox.net) (Quit: leaving)
[18:19:37] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[18:19:57] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Quit: Sharp)
[18:20:11] *** Joins: vincent_ (vincent@92340C0D.F31F2D7D.9510F13D.IP)
[18:21:14] *** Joins: MP2E (cray@moz-EB1E242D.lv.lv.cox.net)
[18:21:35] *** Joins: geoffhill (geoffhill@moz-95FF7399.members.linode.com)
[18:21:41] <vincent_> how long should librustc take to compile
[18:21:49] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[18:22:04] <cmr> 3-6min depending on your hardware.
[18:22:26] *** Joins: intuxicated (intuxicate@C36E0E08.A0BADBCC.DA0107E2.IP)
[18:22:50] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[18:22:57] <vincent_> been over 20 minutes
[18:23:25] *** Joins: nszceta (hax@moz-E458A7C0.pharm.pitt.edu)
[18:24:05] <o11c> vincent_: that's typical
[18:24:24] <cmr> for the entire compilation, or specifically for the step that says "oxidize: ...librustc..."
[18:24:51] *** Joins: daschl1 (Adium@moz-DC6DE6E2.vie.surfer.at)
[18:25:08] <vincent_> compile_and_link: x86_64-unknown-linux-gnu/stage0/lib/rustlib/x86_64-unknown-linux-gnu/lib/librustc.so. i restarted it so i could get an accurate time for the time
[18:25:21] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Ping timeout)
[18:25:33] <cmr> what version are you building?
[18:25:55] *** Joins: edwardw (edwardw@ED48E813.BF27AFA4.B9C6B12A.IP)
[18:26:06] *** Joins: q66 (q66@moz-A1DC287C.dab.02.net)
[18:26:26] <vincent_> 0.9 - Jan 9 2014. the .tar.gz
[18:26:33] <cmr> any particular reason you're not using master?
[18:26:44] <cmr> (also note there are nightlies for various distros: https://github.com/mozilla/rust/wiki/Doc-packages,-editors,-and-other-tools)
[18:27:03] <Ms2ger> How much RAM?
[18:27:05] <vincent_> i just went to the homepage. i just want to play with rust a bit
[18:27:22] *** Quits: daschl1 (Adium@moz-DC6DE6E2.vie.surfer.at) (Ping timeout)
[18:27:28] <cmr> ah yes, if you're swapping it will take *hours* to finish.
[18:27:59] *** Quits: jensnockert (jensnocker@moz-AED896E2.wireless.lu.se) (Input/output error)
[18:28:10] <vincent_> Ms2ger: 2.5G . using a 2G swapfile (because its a VM from digital ocean)
[18:28:15] <cmr> vincent_: there's no point to using 0.9 then. use master. it's more stable, docs, etc.
[18:28:26] *** Joins: jensnockert (jensnocker@moz-AED896E2.wireless.lu.se)
[18:28:37] <Ms2ger> vincent_, not sure that's enough
[18:28:51] <cmr> it should be if no other programs are using much ram.
[18:29:02] <cmr> the librustc build should only use 1.2G on master.
[18:29:03] <vincent_> its staying near 50 mem usage, only other program is irssi and ssh
[18:29:10] <vincent_> 50%
[18:30:00] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:30:11] *** Quits: jensnockert (jensnocker@moz-AED896E2.wireless.lu.se) (Ping timeout)
[18:31:21] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[18:32:20] *** Quits: Guest (textual@moz-310FD28A.dynamic.caiway.nl) (Quit: Computer has gone to sleep.)
[18:33:03] *** Joins: rootnode (rootnode@moz-E07EECD2.pools.arcor-ip.net)
[18:33:07] *** Quits: pczarn (Mibbit@moz-69A55FA.izacom.pl) (Quit: http://www.mibbit.com ajax IRC Client)
[18:33:28] *** Joins: Guest (textual@moz-310FD28A.dynamic.caiway.nl)
[18:34:54] *** Joins: herrwolfe45 (user@CACBD77F.4EBBBE62.C082B7DC.IP)
[18:35:35] *** Joins: tgkokk (tgkokk@moz-29BC739C.home.otenet.gr)
[18:36:46] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[18:37:05] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[18:37:21] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[18:38:21] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[18:38:53] *** Joins: sunfish (chatzilla@moz-BBE3ABD.mv.mozilla.com)
[18:38:56] *** Joins: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP)
[18:38:57] *** Joins: skade (skade@moz-C4F7242D.dip0.t-ipconnect.de)
[18:39:38] *** Quits: Kynes (Kynes@moz-3DC6C6E7.mit.edu) (Quit: Leaving)
[18:40:18] <jdm> root.rs:33:16: 33:21 error: variable 'js' is still repeating at this depth
[18:40:34] * Ms2ger blinks
[18:41:14] <rocode> vincent_: I just compiled rust on 512mb of RAM 2GHz CPU in a little under an hour. 
[18:41:56] <bollu> anyone here?
[18:42:02] <doomlord_> hi
[18:42:06] <bollu> hey :)
[18:42:09] <rocode> bollu: Deep question.
[18:42:17] *** valenting is now known as valentin
[18:42:21] <bollu> error: wrong number of lifetime parameters: expected 1 but found  0
[18:42:26] <bollu> Shape(graphics::Shape)
[18:42:27] <Ms2ger> pastebin
[18:42:31] <bollu> it's inside an enum
[18:42:33] <bollu> in a sec
[18:43:25] *** Joins: alkino (alkino@moz-53CAAA6D.w92-151.abo.wanadoo.fr)
[18:44:10] <bollu> https://gist.github.com/bollu/8e7fb5a780bedca6b6a5
[18:44:54] *** Quits: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Quit: valentin)
[18:45:00] *** Joins: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca)
[18:45:00] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[18:45:08] *** Joins: cremes_ (cremes@moz-72B945E0.hsd1.il.comcast.net)
[18:45:28] <bollu> sooo any ideas?
[18:45:29] *** Joins: echristo (echristo@5CA6DC39.C60FE7DC.4065847B.IP)
[18:45:42] *** Quits: cremes_ (cremes@moz-72B945E0.hsd1.il.comcast.net) (Quit: cremes_)
[18:45:59] <cmr> does graphics::Shape have a lifetime parameter?
[18:46:01] <cmr> check the docs.
[18:46:07] <cmr> lifetime parameters are like type parameters.
[18:46:17] <cmr> they always need to be substituted in type declarations.
[18:46:20] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Quit: valenting)
[18:46:25] <Yurume> bollu, http://rust-ci.org/JeremyLetang/rust-sfml/doc/rsfml/graphics/rc/struct.Shape.html
[18:46:57] <Yurume> rsfml has two ways to refer objects: by a borrowed pointer to the global context, and a reference-counted wrapper to that pointer.
[18:47:01] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[18:47:07] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[18:47:16] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[18:47:29] <Yurume> you likely want to use the latter variants (`rc` in the mod paths)
[18:47:30] *** Joins: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[18:48:12] <bollu> okay, @Yurume: so, rc is the reference counted version?
[18:48:20] <Yurume> yes.
[18:48:23] <Yurume> (afaik)
[18:48:50] <bollu> and what does the compiler error mean exactly?
[18:49:29] <bollu> actually, what does a lifetime parameter look like? 
[18:49:32] <bollu> in terms of synrax?
[18:49:32] <Yurume> Shape is a struct containing a borrowed pointer, which is delimited by its lifetime, and thus Shape also needs the ptr's lifetime
[18:49:34] <bollu> syntax*
[18:49:35] <Yurume> <'a>
[18:49:46] <Yurume> struct Foo<'a> { contained_ptr: &'a str } etc.
[18:50:11] <bollu> how is it different from struct Foo { contained_ptr: ~a }
[18:50:14] *** Parts: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) ()
[18:50:25] *** Quits: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru) (Quit: Leaving.)
[18:50:25] <bollu> ~a is also reference counted yes?
[18:50:29] <Yurume> no.
[18:50:34] <bollu> but it's on the heap
[18:50:35] <bollu> no?
[18:50:53] <bollu> so, what's ~a in that case?
[18:50:54] <Yurume> ~a is heap-allocated but can be owned by only one owner.
[18:51:07] <bollu> and &a in that case?
[18:51:14] <bollu> is "borrowed" yes?
[18:51:17] <Yurume> yes, borrowed.
[18:51:23] <bollu> wait, is that the right spelling?
[18:51:28] <bollu> either way
[18:51:35] <bollu> so 'a == ? in C++
[18:51:39] <Yurume> it does not have ownership, but it *needs* some ownership to start borrowing
[18:51:42] *** Joins: fabiand (fabiand@moz-7E0AD54C.adsl.alicedsl.de)
[18:51:47] <Yurume> C++ does not have such (powerful? :) concept.
[18:51:56] <bollu> xD
[18:52:15] <bollu> okay, so give me an analogy here. I'm grasping at straws -.-
[18:52:23] <Yurume> btw, referenced counted pointer can be owned by multiple owners and is implemented in the (standard) library.
[18:52:45] <hhhhhhhhhh> if i have modules dir/a.rs and b.rs, how can i include b.rs from dir/a.rs
[18:52:48] <steveklabnik> bollu: you may want to read this: http://static.rust-lang.org/doc/0.9/guide-pointers.html
[18:52:50] <Yurume> in many cases you can live with one owner and multiple borrowed ptrs from it, but sometimes you need such pointers.
[18:53:04] <myname> bollu: 'a is like "Num a => a -> a" in haskell, but it does not determine the type but the lifetime
[18:53:06] <bollu> ty for the link
[18:53:41] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:53:57] <Yurume> hhhhhhhhhh, not very recommended, but #[path="../b.rs"] mod a;
[18:54:00] *** Quits: ChemicalHarm (chemicalha@moz-A9F37238.hsd1.md.comcast.net) (Client exited)
[18:54:17] <Yurume> you should avoid that as long as possible.
[18:54:41] <hhhhhhhhhh> Yurume: ok so my real world example is: shape.rs (defines Shape trait), shapes/sphere.rs, shapes/aabb.rs, etc
[18:54:50] <bollu> @steve: where's the documentation on "'" ?
[18:55:00] <bollu> I knew the rest of it (sort of)
[18:55:01] <hhhhhhhhhh> Yurume: do i need to move shape.rs to be shapes/mod.rs or something
[18:55:26] <Yurume> hhhhhhhhhh, aha, yes, you'd better in that way.
[18:55:34] *** Quits: teosz (teosz@5F23F990.D75A9DA0.3EA6AAD8.IP) (Ping timeout)
[18:55:56] <bollu> Yurume: are there docs for the ' ?
[18:56:12] <hhhhhhhhhh> Yurume: ok thanks
[18:56:31] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[18:56:33] <Yurume> bollu, http://static.rust-lang.org/doc/0.9/guide-lifetimes.html
[18:56:35] <kimundi> bollu: http://static.rust-lang.org/doc/master/guide-lifetimes.html
[18:56:52] <Yurume> ah, yes, master is a bit better
[18:57:06] <kimundi> Also,  in gehttp://static.rust-lang.org/doc/master/index.htmlneral for all Rust doc needs
[18:57:13] <kimundi> whoops
[18:57:15] <kimundi> http://static.rust-lang.org/doc/master/index.html
[18:57:29] <bollu> ty guys!
[18:57:47] <bollu> I thought @ was scrapped?
[18:58:06] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[18:58:08] <Yurume> yes, the documentation is a bit outdated on that.
[18:58:18] <kimundi> The syntax is in the process of being removed, but none cleaned the docs up yet
[18:58:52] <kimundi> And its not really a good moment to rewrite them yet, with further changes on the horizont
[18:59:30] <kimundi> Like, the comparison between &, ~ and @ could be one between &, ~, Gc, Rc etc
[19:00:12] <bollu> fn get_x<'r>(p: &'r Point) -> &'r f64 { &p.x } <- what *IS* r ?
[19:00:18] *** Quits: herrwolfe45 (user@CACBD77F.4EBBBE62.C082B7DC.IP) (Client exited)
[19:00:21] <Ms2ger> A named lifetime
[19:00:42] <bollu> so, that syntax has to be used to create a named lifetime?
[19:00:45] <Ms2ger> It says the pointer to p.x will remain alive at least as long as the pointer to p
[19:00:47] <Ms2ger> Yep
[19:00:49] <kimundi> bollu: Just a name used to link the lifetime of two or more references together
[19:01:18] *** Quits: tgkokk (tgkokk@moz-29BC739C.home.otenet.gr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:01:29] <bollu> so just because I said &'r Point and &'r f64, the two get linked?
[19:01:37] <o11c> hm ... is there any way to do a match against only some bits in an integer?
[19:01:37] <bollu> the 'r is what links the lifetimes?
[19:01:48] <Ms2ger> Yep
[19:02:00] <kimundi> bollu: Well, not because of those two, but because the declaration of 'r at the beginning
[19:02:01] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:02:06] <kimundi> the <'r> part
[19:02:16] *** Joins: teosz (teosz@5F23F990.D75A9DA0.3EA6AAD8.IP)
[19:02:18] <bollu> kimundi: thanks for the clarification
[19:02:28] <bollu>  fn get_x<'r>(p: &'r Point) -> & f64 { &p.x }
[19:02:31] <bollu> now what happens?
[19:02:38] <Ms2ger> You could have fn get_x<'r, 's>(p1: &'r Point, p2: &'s Point) -> (&'r f64, &'s f64) { (&p1.x, &p2.x) }
[19:02:39] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[19:02:48] <Ms2ger> bollu, compile error
[19:02:53] <kimundi> fn foo<'a, T>(r: &'a T) -> &'a T // Declares both a named lifetime 'a  and a type parameter T, and then uses them in the signature at two different places
[19:03:11] <Ms2ger> You can't return a borrowed pointer from a function without telling what you borrowed it from
[19:03:29] <kimundi> bollu: returning a & without a lifetime name is actually almost always invalid
[19:03:44] <bollu> okay, that makes it way clearer actually
[19:04:33] <bollu> so, the 'r is used to bind point.x back to point, because just returning point.x without a... "channel" back to point could break it. I think I got this right?
[19:04:43] *** Quits: vmx (vmx@moz-39B2DC4C.dip0.t-ipconnect.de) (Ping timeout)
[19:05:05] <kimundi> yeah, but its just a conceptual thing that only exists at compiletime
[19:05:06] <bollu> 'cause I could destroy point but point.x would still be around as a reference if the binding was not present
[19:05:14] <kimundi> yeah
[19:05:29] <bollu> thanks!
[19:05:51] *** Joins: vmx (vmx@moz-39B2DC4C.dip0.t-ipconnect.de)
[19:05:52] <bollu> so, is that all the confusion Rust has to offer in terms of pointers? ;] or is there some more stuff?
[19:05:59] <kimundi> You are basically telling rustc how to group different lifetimes together, because there are many possibilities
[19:06:42] <bollu> kimundi: yeah, understood. Ms2ger's exampled helped
[19:06:56] <kmc> bollu: C has the same complexity but the compiler gives you no help managing it :)
[19:06:56] <kimundi> bollu: Well, lifetimes are the most original thing about Rust. Next comes stuff like the explicit, upfront ownership semantic of everything
[19:06:58] *** Joins: dkeenaghan (dkeenaghan@A9F153F4.DDE28F19.986A907C.IP)
[19:07:57] *** Joins: qrpth (andreas@moz-235A8761.dyn.internet.emt.ee)
[19:08:33] <kimundi> bollu: One thing I often see beginners fall into is thinking that ~T is something special.
[19:08:52] <kimundi> The truth is, its really not, just simple and convenient enough to get extra syntax, but a library type Uniq<T> could work identical. ;)
[19:09:08] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[19:09:18] <bollu> I always thought of it as "dynamically sized? stick a ~"
[19:09:37] <kimundi> simple than that even
[19:09:41] <bollu> well, "always" being "after being educated :)"
[19:09:54] <bollu> kmc: good point I suppose :)
[19:09:56] *** Joins: ChemicalHarm (chemicalha@moz-A9F37238.hsd1.md.comcast.net)
[19:10:14] <kmc> o11c: I don't think you can, other than using & and ==, but you can do that in an "if" clause on a match arm if that's convenient
[19:10:31] <kimundi> "Needs to own, but with pointer indirection? Then use ~!"
[19:10:57] <kimundi> dynamically sized things are simply things that inherently need a pointer indirection to work
[19:11:15] <kimundi> (And soon we will properly be able to describe that in  the type system)
[19:11:31] *** Quits: qrpth (andreas@moz-235A8761.dyn.internet.emt.ee) (Quit: leaving)
[19:11:47] <o11c> kmc: ooh, didn't realize about the if
[19:12:03] <bollu> kimundi: "soon we will properly be able to describe that in  the type system" what do you mean?
[19:12:08] <kmc> rusti: match 7 { x if (x & 3) == 3 => 0, _ => 1 }
[19:12:09] -rusti- 0
[19:12:11] <kimundi> bollu: DST
[19:12:17] <o11c> Hm, is there a way to get errno after a native call?
[19:12:25] <kimundi> bollu: The concept of a type that has not compiletime-known size
[19:12:28] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[19:12:30] <kmc> bollu: right now str and [T] aren't really types, because their size is unknown
[19:12:55] <kmc> bollu: so ~str and &str and ~[T] and &[T] are all different primitive types, even though the syntax looks like ~T and &T
[19:13:09] <kmc> bollu: but this is planned to change eventually
[19:13:23] <bollu> kmc: yeah, I realized. and what's DST? 
[19:13:28] <kmc> "dynamically-sized types"
[19:13:41] <bollu> ah, thanks! didn't know that acronym
[19:13:42] <kmc> the name for the feature which makes str and [T] first-class, albeit with some restrictions
[19:14:10] <kmc> basically we remove the rule that all types have known size, and introduce a trait (named Sized maybe) to encompass the ones that do
[19:14:35] <bollu> hmm
[19:14:37] <kimundi> bollu: http://smallcultfollowing.com/babysteps/blog/2014/01/05/dst-take-5/ if you are interested
[19:14:40] <kmc> C has this distinction too; there are some things you can't do with a forward-declared struct type, for example
[19:15:02] <bollu> kmc: that's /completely/ different no?
[19:15:35] <kmc> hm?
[19:15:43] <bollu> no, nvm
[19:15:50] <bollu> I got what you were trying to say
[19:15:54] <kmc> okay :)
[19:16:04] <kmc> it might not be a very helpful connection to draw
[19:16:49] *** Joins: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru)
[19:17:07] *** Quits: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca) (Quit: canhtak)
[19:17:23] <bollu> @kimundi: the link is interesting
[19:17:27] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[19:17:34] <bollu> but I don't know the type system well enough to breeze through it
[19:17:46] <bollu> will have to take my time :)
[19:17:55] *** Quits: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru) (Quit: Leaving.)
[19:17:56] <kimundi> yeah, Its not an easy read :)
[19:18:02] *** Quits: redbrain (uid24282@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[19:18:25] *** Joins: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru)
[19:18:50] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Connection reset by peer)
[19:19:08] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[19:19:22] *** Joins: Sharp (Sharp@moz-3301C7AB.static-ip.telepacific.net)
[19:20:15] *** Quits: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru) (Quit: Leaving.)
[19:20:28] *** Quits: ChemicalHarm (chemicalha@moz-A9F37238.hsd1.md.comcast.net) (Client exited)
[19:20:28] *** Joins: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru)
[19:20:28] <bollu> how large is the rust standard reference in comparison to C++ / Java ?
[19:21:32] <eddyb> there isn't one, really
[19:21:42] <eddyb> there's the reference manual but it's not completely updated AFAIK
[19:21:58] *** Quits: sk (sk@35CFDE22.E993C7C3.78DD174B.IP) (Input/output error)
[19:22:40] *** Quits: awidegre1n (awidegreen@moz-E6DD8F8D.dip0.t-ipconnect.de) (Ping timeout)
[19:23:00] *** Joins: ChemicalHarm (chemicalha@moz-A9F37238.hsd1.md.comcast.net)
[19:23:45] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[19:23:51] <bollu> this is more intellectual curiosity than anything else: but how do I use Arena?
[19:24:54] <eddyb> heheh. Arena is kinda bad. probably useful if revamped. TypedArena is what you want to use most of the time
[19:25:15] <eddyb> but there should be a method to allocate objects
[19:25:25] <bollu> any example? :)
[19:25:26] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Ping timeout)
[19:25:53] *** Quits: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com) (Quit: Connection closed for inactivity)
[19:27:33] <bollu> anyway, good night all! I'm off to bed
[19:27:37] *** Quits: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP) (Quit: Lost terminal)
[19:28:25] *** Joins: untwisted (untwisted@moz-8E42F91A.ucsc.edu)
[19:29:57] *** Quits: dranov (dranov@C53D18C7.630468A5.FB866788.IP) (Ping timeout)
[19:30:08] *** Quits: fabiand (fabiand@moz-7E0AD54C.adsl.alicedsl.de) (Quit: Verlassend)
[19:31:19] *** Joins: alonlevy (alon@moz-944C9098.red.bezeqint.net)
[19:32:22] *** Joins: UVA_Student (Mibbit@moz-E3C5F8FA.hsd1.va.comcast.net)
[19:33:53] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[19:33:56] <UVA_Student> Hi guys, I have a (hopefully quick) question about the str::from_utf8 method. I'm reading in a file with the read_bytes() method so I should be getting ~[u8] as the result. However, when I call str::from_utf8 on that it gives me a runtime error saying "task '<unnamed' failed at 'from_utf8: not utf-8'.
[19:34:19] <UVA_Student> this only happens when I try to read a binary file. It seems to work fine for other files (so far tested on a .html file)
[19:34:50] <kimundi> UVA_Student: Well, does the binary file contain valid utf8?
[19:35:18] <UVA_Student> Derp. Probably not. Is there a way to read in the file then?
[19:35:54] <kimundi> What do you want to do? From your description it sounds like you are already doing the right thing ;)
[19:36:05] *** Quits: puzzler (puzzler@moz-CD721145.hsd1.mi.comcast.net) (Quit: )
[19:36:05] <kimundi> that is, read a binary file, get a ~[u8]
[19:36:28] <kimundi> Do you expect the binary file to contain text?
[19:36:38] <UVA_Student> after that I'm trying to turn it into a string because I want to cache the file, and we set up our LRUCache to hold strings
[19:36:56] <UVA_Student> but I could change the cache to take in a different type instead of strings
[19:37:24] <kimundi> Well, you can only turn it into a string if it actually is a valid unicode text
[19:37:33] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[19:37:46] <UVA_Student> that makes sense... I got caught up in the type checking and forgot to actually take a step back and think haha
[19:37:58] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[19:38:00] <UVA_Student> im going to change my Cache to hold ~[u8] instead of ~str and hopefully that fixes the issue. Thanks for your help!
[19:38:18] <kimundi> Np! :)
[19:39:54] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:39:59] *** Joins: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca)
[19:40:57] *** Quits: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru) (Quit: Leaving.)
[19:42:18] *** Joins: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru)
[19:42:55] *** Quits: novabyte (novabyte@7DC5F3D9.61E2C193.4C4C480B.IP) (Quit: Leaving.)
[19:43:58] *** Quits: teosz (teosz@5F23F990.D75A9DA0.3EA6AAD8.IP) (Ping timeout)
[19:44:06] *** Joins: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de)
[19:45:34] *** Quits: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru) (Quit: Leaving.)
[19:45:40] *** Quits: ChemicalHarm (chemicalha@moz-A9F37238.hsd1.md.comcast.net) (Client exited)
[19:46:19] *** Quits: alexherbo2 (alexherbo2@moz-FC10E83F.de) (Quit: WeeChat 0.4.2)
[19:47:16] *** jdm sets mode: -b Yoric!*@*
[19:48:14] *** Quits: josh (josh@moz-244364B2.cable.virginm.net) (Quit: josh)
[19:48:16] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[19:48:16] *** Joins: ChemicalHarm (chemicalha@moz-A9F37238.hsd1.md.comcast.net)
[19:48:44] *** Quits: earlzlap (earlz@5B1FE501.78CAA20E.2F043D47.IP) (Ping timeout)
[19:48:53] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:50:08] *** Joins: josh (josh@moz-244364B2.cable.virginm.net)
[19:50:12] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[19:51:12] *** Joins: earlzlap (earlz@5B1FE501.78CAA20E.2F043D47.IP)
[19:51:56] *** Quits: UVA_Student (Mibbit@moz-E3C5F8FA.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[19:52:15] *** Joins: alexherbo2 (alexherbo2@moz-14A2C8F9.w83-199.abo.wanadoo.fr)
[19:52:33] *** Quits: Rym (WUT@39CBEBF9.BF9A5138.8772DA20.IP) (Ping timeout)
[19:53:03] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Ping timeout)
[19:54:17] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[19:54:54] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[19:55:20] <rocode> I just had a disturbing thought. Know how people refer to good practices as <language-name>+"ic"? In the terrible, distant future, a HR drone is going to be looking for programmers with a rural aesthetic because of miscommunication with a hiring manager.
[19:56:19] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[19:56:37] *** Quits: josh (josh@moz-244364B2.cable.virginm.net) (Quit: josh)
[19:58:21] *** Joins: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru)
[19:58:46] *** Quits: Capt_Redbeard (Capt_Redbe@moz-4998C3D0.ok.ok.cox.net) (Quit: Textual IRC Client: www.textualapp.com)
[19:58:46] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[19:58:47] *** ChanServ sets mode: +o jdm
[19:58:50] <Havvy> rocode:  XD
[19:58:58] *** Joins: Rym (WUT@39CBEBF9.BF9A5138.8772DA20.IP)
[19:59:16] *** Quits: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru) (Quit: Leaving.)
[19:59:34] <rocode> Havvy: You laugh now, I am going to be investing in cowboy boots and a straw hat. 
[19:59:47] *** Joins: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru)
[20:00:15] *** Joins: awidegreen (awidegreen@moz-E6DD8F8D.dip0.t-ipconnect.de)
[20:00:31] <Havvy> rocode:  So you can be a rustic ruster?
[20:00:48] <aphistic> rocode: you mean idiomatic?
[20:01:19] <rocode> aphistic: "pythonic" etc.
[20:01:27] *** Quits: ChemicalHarm (chemicalha@moz-A9F37238.hsd1.md.comcast.net) (Client exited)
[20:01:32] <rocode> But yes.
[20:01:41] *** Quits: alexherbo2 (alexherbo2@moz-14A2C8F9.w83-199.abo.wanadoo.fr) (Ping timeout)
[20:01:56] *** Quits: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru) (Quit: Leaving.)
[20:01:57] <aphistic> i don't think that works for anything other than python
[20:02:00] <Havvy> Really, it's only Python that has 'pythonic'
[20:02:00] *** Joins: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru)
[20:02:07] *** Quits: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru) (Quit: LRN)
[20:02:08] <aphistic> and i don't think i've even ever heard of "pythonic"
[20:02:22] <Havvy> Closure, JS, Erlang, Haskell all use idiomatic.
[20:02:44] <kimundi> clearly "rusty" is the better adjective here
[20:02:45] <Havvy> aphistic:  I see Pythonic most in the python mailing lists and stack overflow.
[20:03:00] <patpat> rustic is pretty nice
[20:03:06] *** Quits: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP) (Quit: Taking a nap.)
[20:03:16] <Havvy> kimundi:  But then how do we say our Rust is rusty (as in, not up to par)
[20:03:30] *** Quits: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: leaving)
[20:03:42] *** Joins: nif (nif@F16146EB.9D3722BB.58DC3EE6.IP)
[20:03:49] *** Quits: vmx (vmx@moz-39B2DC4C.dip0.t-ipconnect.de) (Ping timeout)
[20:04:05] *** Joins: vmx (vmx@moz-39B2DC4C.dip0.t-ipconnect.de)
[20:04:07] <kimundi> just call _that_ rustic ;)
[20:04:09] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[20:04:17] <rocode> kimundi: You are an agent of chaos.
[20:04:26] <doomlord_> which way round is it seriously
[20:04:29] *** Joins: ChemicalHarm (chemicalha@moz-A9F37238.hsd1.md.comcast.net)
[20:04:30] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[20:04:37] *** Quits: peterdn (chatzilla@moz-63996255.as13285.net) (Quit: ChatZilla 0.9.90.1-rdmsoft [XULRunner 22.0/20130619132145])
[20:05:10] *** Quits: nif (nif@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: Konversation terminated!)
[20:05:13] <rocode> doomlord_: Obviously rustic is the idiogramatic usage for rust.
[20:05:24] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[20:05:51] <rocode> Rust lends itself to so many puns. Building a rust 3D game engine? Call it Rust3D, or "rusted".
[20:05:53] <Havvy> doomlord_:  Seeing that rusty already has a meaning that is usable for programming, we aren't going to change it.
[20:06:10] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[20:06:33] <Havvy> So rustic for idiomatic, rusty for sub-par.  My Rust skills are rusty, for instance.
[20:06:47] <kimundi> Heh, how about a Rust garbage collector called Oxyclean
[20:06:51] *** Joins: pyon (Mibbit@6B56F365.A9B419CB.1C8C8CE9.IP)
[20:06:58] *** Joins: brson (brson@E9A6A33E.708C0A12.C7EEF3A2.IP)
[20:06:58] *** ChanServ sets mode: +ao brson brson
[20:07:00] <photex> hello folks, I'm building a static library and linking under Linux works fine. On OSX I'm hitting a missing symbol: __rust_create_map_toplevel
[20:07:08] <mcpherrin> kimundi: hahaha, nice
[20:07:11] <photex> what should I be linking with to get that symbol?
[20:07:45] *** Quits: tav (tav@moz-176B7039.range31-52.btcentralplus.com) (Ping timeout)
[20:07:50] *** Quits: ChemicalHarm (chemicalha@moz-A9F37238.hsd1.md.comcast.net) (Ping timeout)
[20:08:13] *** Joins: tav (tav@moz-7F8C7893.range31-52.btcentralplus.com)
[20:09:24] <photex> ok, that appears to be in libstd
[20:10:44] *** Joins: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru)
[20:11:04] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[20:11:05] <eddyb> photex: libstd defines it as weak
[20:11:21] <eddyb> it effectively "imports" it from whatever links against libstd and contains the symbol
[20:11:31] <eddyb> photex: only binaries have it
[20:11:33] *** Quits: victorporof_ (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[20:11:46] *** Quits: edwardw (edwardw@ED48E813.BF27AFA4.B9C6B12A.IP) (Quit: Leaving...)
[20:11:51] <zmike> what's the syntax/usage for nomangle in rust?
[20:11:54] <zmike> can't seem to find any docs for it
[20:11:59] <eddyb> #[no_mangle]
[20:12:14] <zmike> does it just work for the function you put that on?
[20:12:19] <zmike> or can be be applied globally to a crate
[20:12:24] <eddyb> just that function
[20:12:28] <zmike> ugh
[20:13:02] <photex> eddyb: nm lib/libkds-2aed3a86-0.1.a| grep __rust_crate under linux lists nothing, but under osx lists an undefined (? prefixed with U) symbol.
[20:13:30] <eddyb> photex: because it's weak
[20:13:41] <photex> but why the difference in my library?
[20:13:44] *** Quits: skade (skade@moz-C4F7242D.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:13:45] <eddyb> photex: how old is your OSX?
[20:13:51] <photex> it's the latest 10.9
[20:14:03] <photex> rust built from master on Friday perhaps
[20:14:14] <photex> same version between Linux and OSX (build from specific git revision)
[20:14:45] *** Quits: Kruppe (user@moz-B38DC767.dynamic.uwaterloo.ca) (Ping timeout)
[20:15:27] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[20:16:31] *** Quits: avsej_ (avsej@D9A610B8.4841F515.FB33447D.IP) (Ping timeout)
[20:16:45] <photex> Builds fine as a dylib
[20:17:11] <zmike> eddyb: is there documentation anywhere for those # directives?
[20:18:13] <eddyb> zmike: I think the ffi guide mentions #[no_mangle]. I don't think there are any other docs
[20:18:44] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[20:19:46] <zmike> hm
[20:19:51] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[20:19:55] <zmike> I was trying to also find docs about #[start]
[20:20:12] *** Joins: ChemicalHarm (chemicalha@moz-A9F37238.hsd1.md.comcast.net)
[20:20:24] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:20:56] <eddyb> zmike: there's a runtime guide also, I think
[20:21:11] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[20:21:30] <photex> eddyb: should I create an issue for this?
[20:21:33] <aatch> zmike, what do you want to know?
[20:21:52] <zmike> aatch: what it does :)
[20:22:27] <aatch> It replaces the normal entry function, which sets up the runtime environment with your own function.
[20:22:34] <zmike> ahh
[20:22:44] <zmike> so it's like tagging that function as main()
[20:22:48] <aatch> #[start] was one of my first contributions.
[20:23:00] <zmike> neat
[20:23:07] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[20:23:13] <aatch> zmike, sort of, but #[start] functions take an argc and argv
[20:23:25] *** Joins: avsej_ (avsej@D9A610B8.4841F515.FB33447D.IP)
[20:23:41] <aatch> it'll complain at compile time if you get the signature wrong.
[20:23:52] <zmike> makes sense
[20:24:31] *** Quits: luz (lu.cy@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[20:24:36] <jxs> aatch, what about #[deriving(Clone)] on top of the struct declaration, whats the difference from declaring impl Clone for struct {} ?
[20:25:17] <aatch> jxs, nothing, except with #[deriving(Clone)] the compiler generates the boiler-plate for you
[20:25:37] <aatch> same with the other derive-able types
[20:25:40] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Ping timeout)
[20:26:15] <aatch> Since you can pretty much boil it down to just cloning each field into a new struct.
[20:26:18] *** Joins: leowoe (Leo@moz-B4840CF0.dip0.t-ipconnect.de)
[20:26:56] *** Quits: MP2E (cray@moz-EB1E242D.lv.lv.cox.net) (Quit: bbl)
[20:27:00] <aatch> deriving is done just after parsing, by the way, do it literally just generates the AST equivalent of doing it yourself.
[20:27:24] <vincent_> update, librustc took 2 hours and 47 seconds
[20:27:55] <jxs> ok thanks aatch! 
[20:28:01] <jxs> going to re-read http://static.rust-lang.org/doc/master/tutorial.html#deriving-implementations-for-traits though
[20:28:29] <aatch> So if you have struct Foo<T> { a: T }, the compiler will make impl<T:Clone> Clone for Foo<T> { fn clone(&self) -> Foo<T> { Foo { a: self.a.clone() } } }
[20:29:02] *** Joins: alexherbo2 (alexherbo2@moz-14A2C8F9.w83-199.abo.wanadoo.fr)
[20:30:39] *** Joins: AvianFlu_ (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[20:30:46] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Ping timeout)
[20:30:55] <jxs> ok i see, thanks!
[20:31:03] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Client exited)
[20:31:08] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[20:31:08] *** Quits: ChemicalHarm (chemicalha@moz-A9F37238.hsd1.md.comcast.net) (Client exited)
[20:32:26] *** Quits: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca) (Quit: canhtak)
[20:33:01] *** Joins: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca)
[20:34:27] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[20:36:03] *** Joins: nlminhtl (ignotus@moz-4CB8A1D.site.volia.net)
[20:37:48] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[20:37:58] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:39:51] *** Quits: jackneill (jackneill@moz-8C0F0504.pool.digikabel.hu) (Ping timeout)
[20:41:00] *** Joins: fabiand (fabiand@moz-7E0AD54C.adsl.alicedsl.de)
[20:42:21] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[20:43:26] *** Quits: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net) (Ping timeout)
[20:44:32] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:45:04] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[20:45:51] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[20:46:20] <hhhhhhhhhh> i have a module layout like: maths/vec.rs (defines Vec3), shapes/sphere.rs (defines Sphere which uses Vec3) but from shape.rs i can't do mod maths { pub mod vec; };
[20:46:25] <hhhhhhhhhh> what should i do about this
[20:47:01] <SiegeLord> Do you have a root module?
[20:47:03] <eddyb> you don't do mod to import
[20:47:17] <hhhhhhhhhh> i have a main.rs
[20:47:27] <Havvy> hhhhhhhhhh:  use maths.vec;
[20:47:27] <eddyb> you do use absolute::path::to::item::in::question;
[20:47:32] <Havvy> Err, ::
[20:47:32] <eddyb> Havvy: :: not .
[20:47:47] <Havvy> eddyb:  So many languages. So much syntax. :/
[20:47:48] <hhhhhhhhhh> so use ::maths::vec::Vec3?
[20:47:56] <Havvy> hhhhhhhhhh:  Without the starting ::
[20:48:25] *** Joins: luz (lu.cy@moz-CD18B14B.customer.cdi.no)
[20:48:26] <Havvy> Actually, I might be wrong on that.
[20:50:01] *** Quits: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se) (Ping timeout)
[20:50:05] <huon> `use maths::vec::Vec3` is correct
[20:50:37] <huon> `mod` defines the module tree, `use` brings names into scope (by default using an absolute path, from the crate root)
[20:50:52] <hhhhhhhhhh> so wait when should i be using `mod` :d
[20:50:58] <hhhhhhhhhh> only in my main.rs?
[20:51:12] <huon> that's one way
[20:51:17] <huon> yes
[20:51:25] <o11c> huon: still insisting that there's nothing wrong with the module system?
[20:51:37] <hhhhhhhhhh> or if i have a a/mod.rs, a/b.rs ... then put the `mod b` in mod.rs
[20:51:47] <huon> yes, that works too
[20:51:49] *** Joins: MP2E (cray@moz-EB1E242D.lv.lv.cox.net)
[20:52:23] *** Joins: skade (skade@moz-F3F67608.pools.arcor-ip.net)
[20:54:09] <Havvy> o11c:  It's only confusing at first brush up with it.
[20:54:32] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[20:54:44] <o11c> so you have to explain this to *every* new rust user ... or you could just fix it
[20:54:46] *** Quits: awidegreen (awidegreen@moz-E6DD8F8D.dip0.t-ipconnect.de) (Ping timeout)
[20:54:50] *** Joins: dcrewi (david@moz-AB8667CE.gyrae.net)
[20:54:53] *** Joins: mye (mye@moz-C6E6EB2.dip0.t-ipconnect.de)
[20:55:13] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[20:55:57] *** Quits: vfetwnuncszu (david@moz-AB8667CE.gyrae.net) (Quit: leaving)
[20:56:19] * Havvy would rather wish that `use` was taught before `mod`.
[20:56:49] <SiegeLord> Is the tutorial on this topic not clear in some way?
[20:56:50] <Havvy> Show the file based ways, and then introduce `mod` as an alternative.
[20:57:00] <Havvy> SiegeLord:  It's not.
[20:57:08] <SiegeLord> It should be made clear then
[20:57:35] *** Quits: intuxicated (intuxicate@C36E0E08.A0BADBCC.DA0107E2.IP) (Ping timeout)
[20:57:49] <o11c> again: no amount of documentation excuses doing things the confusing way in the first place
[20:58:01] <Havvy> Also, the error message for when it can't find a used module is completely unclear since it doesn't say where it looked for the module.
[20:58:10] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:58:11] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[20:58:22] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[20:58:29] <Havvy> o11c:  Everything about programming is confusing, in case you forgot.
[20:58:33] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:59:49] <hhhhhhhhhh> for what it's worth
[20:59:56] <hhhhhhhhhh> i think it's "fine" now huon explained it to me
[21:00:02] <o11c> Havvy: nope, never noticed that before
[21:00:02] <hhhhhhhhhh> but the docs definitely do not explain it :d
[21:00:15] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[21:00:15] *** Quits: skade (skade@moz-F3F67608.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:00:31] *** Joins: skade (skade@moz-F3F67608.pools.arcor-ip.net)
[21:00:36] *** Joins: capt_redbeard (Adium@moz-4998C3D0.ok.ok.cox.net)
[21:00:54] <hhhhhhhhhh> ok i have a new problem
[21:01:25] <Havvy> o11c:  I personally think that C-type for loops are the most arbitrary thing ever. And also the very concept of side effects.
[21:01:39] <hhhhhhhhhh> i have `pub struct Intersection { obj : Shape, ... }` and `pub trait Shape { intersection( &self, start : Vec3, dir : Vec3 ) -> Intersection { ... } ... }`
[21:01:50] <hhhhhhhhhh> this is whining because i can't just do `obj : Shape` in a struct
[21:02:12] <hhhhhhhhhh> i tried Intersection< T : Shape > { obj : T ... } but that also whines
[21:02:17] <hhhhhhhhhh> and now i am stumped :d
[21:02:34] <thiez> rusti: let pi = std::f64::consts::PI; let pow = std::f64::pow; let mut result = pi; for _ in range(0,5) { result = pow(result,pi) } result
[21:02:34] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Client exited)
[21:02:35] -rusti- pastebinned 1 lines of output: http://sprunge.us/JaNb
[21:02:59] <thiez> how is it that we print f64 with waaaay more significant digits than f64 can keep track of? :p
[21:03:32] <hhhhhhhhhh> a double can hold huge numbers
[21:03:37] <thiez> not that huge
[21:03:43] <hhhhhhhhhh> it's just that it won't be at all accurate at that kind of size
[21:03:48] <thiez> rusti: let pi = std::f64::consts::PI; let pow = std::f64::pow; let mut result = pi; for _ in range(0,5) { result = pow(result,pi) } result == (result + 1.0)
[21:03:49] -rusti- true
[21:03:50] <huon> hhhhhhhhhh: I think the docs do explain it somewhat (they can probably be improved a lot)
[21:04:13] <kimundi> Havvy: What do you mean with "wish that `use` was taught before `mod`." and "Show the file based ways, and then introduce `mod` as an alternative." ?
[21:04:13] <huon> hhhhhhhhhh: buried somewhere in http://static.rust-lang.org/doc/master/tutorial.html#crates-and-the-module-system maybe
[21:04:35] <huon> but then I haven't looked over that for a while, so I'm probably wrong
[21:05:19] <thiez> Suppose a f64 can hold 5 significant digits (sure it can do more, but let's assume 5 at the moment) then I would expect the printer to do 1.2345e<50> rather than just making up a number
[21:05:30] <Havvy> kimundi:  As in say that the way to create a submodule is to create submodule.rs or submodule/mod.rs   first.
[21:05:37] <Havvy> And then later show the `mod` keyword.
[21:05:45] <kimundi> thiez: Fun fact: float printing is _hard_
[21:05:48] <hhhhhhhhhh> the actual number it would give would be 1.2345<garbage>e50
[21:06:08] <hhhhhhhhhh> the first 5 digits are significant, the rest are not :d
[21:06:20] <kimundi> Havvy: I do not understand, thats the same concept
[21:06:26] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[21:06:27] <SiegeLord> Just because there are so and so significant digits, doesn't mean that you can't print more and be right
[21:06:27] <thiez> kimundi: yes I guess so, but aren't there any ready-to-use algorithms available? :/
[21:07:00] <hhhhhhhhhh> thiez: the max value for a f64 is 1.7976931348623157E+308
[21:07:02] <SiegeLord> If you expand 2^-1023 you'll get a lot of digits
[21:07:13] <hhhhhhhhhh> thiez: but the second largest will be like 1.7976931348623157E+307
[21:07:20] *** Quits: fabiand (fabiand@moz-7E0AD54C.adsl.alicedsl.de) (Client exited)
[21:07:22] <SiegeLord> Err... 2^-300 something
[21:07:49] <thiez> I don't really care about the details, just that the printer suggests more detail than it should :)
[21:07:50] <Havvy> kimundi:  They're two ways of doing the same thing.
[21:08:06] <kimundi> thiez: there are many papers, and a ton of optimized special cased algorithms for base ten. The general case is very complicated though, and requires bignum fractionals to achieve something approximating correctness
[21:08:09] *** Joins: teosz (teosz@5F23F990.D75A9DA0.3EA6AAD8.IP)
[21:08:23] <o11c> you need 16 digits for a double (2**53)
[21:08:26] <thiez> ah, that sounds like it would suck.
[21:08:28] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[21:08:49] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[21:08:57] <kimundi> Havvy: I don't understand. They _are_ the same thing. What distinction do you see there?
[21:09:07] <eddyb> kimundi: just go hex :P
[21:09:14] <eddyb> pow2 == easy mode everything
[21:09:21] <kimundi> eddyb: Yeah
[21:09:58] *** Joins: mgottschlag (quassel@moz-B2C39C83.cust.bluewin.ch)
[21:10:13] <aatch> Also, the minimum round-trip precision (so parsing the number back in gets you the same value) for single-precision floats is like 11 digits.
[21:10:19] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[21:10:23] <SiegeLord> Havvy: There are no modules without the 'mod' keyword
[21:10:30] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[21:10:36] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[21:10:44] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[21:10:44] <Havvy> Oh wait. You have to do `mod submodulename`.  Forgot about that.
[21:10:53] <Havvy> `mod submodulename;`
[21:11:05] <SiegeLord> Is the module system patterned after some language, incidentally?
[21:11:27] <aatch> SiegeLord, not really. Probably started with the Ocaml one though
[21:11:38] <aatch> Well, ML
[21:11:40] <Havvy> SiegeLord:  Seeing as no language gets the module system right...I'd hope not.
[21:11:55] <aatch> There are similarities, like file == module.
[21:12:00] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[21:12:07] <aatch> and the `use` keyword.
[21:12:27] *** Joins: jdsanders (Adium@D073F53D.C41F93F.96556A09.IP)
[21:12:34] <Havvy> Closure also uses (use)
[21:12:55] <jdsanders> is there any way to ask rustc what its library path is?
[21:13:04] <jdsanders> for instance, so that a `make install` can put something there
[21:13:20] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Quit: Bye)
[21:13:22] <kimundi> I wrote that module system guide - I fully understand that its not all that beginner friendly, and I have not much experience in writing stuff like that. We need a more boiled down version, with pretty graph pictures I think :P
[21:13:44] *** Joins: ChemicalHarm (chemicalha@moz-A9F37238.hsd1.md.comcast.net)
[21:14:24] *** Quits: skade (skade@moz-F3F67608.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:14:31] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[21:14:38] <SiegeLord> I wonder if Rust gets the module system right XD
[21:14:46] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[21:14:48] <hhhhhhhhhh> i have `pub struct Intersection { obj : Shape, ... }` and `pub trait Shape { intersection( &self, start : Vec3, dir : Vec3 ) -> Intersection { ... } ... }`
[21:14:55] <kimundi> But as far as I know it is pretty comprehensive what the actual semantic is concerned (minus privacy, which was not well defined at that point)
[21:14:55] <hhhhhhhhhh> this is whining because i can't just do `obj : Shape` in a struct
[21:14:57] *** Quits: vmx (vmx@moz-39B2DC4C.dip0.t-ipconnect.de) (Ping timeout)
[21:15:04] <hhhhhhhhhh> how can i do this the rust way
[21:15:13] *** Joins: vmx (vmx@moz-39B2DC4C.dip0.t-ipconnect.de)
[21:15:38] <SiegeLord> I guess it depends on what you want it mean
[21:15:50] <cmr> hhhhhhhhhh: if you want static dispatch, pub struct Intersection<S> { obj : S, ... }
[21:15:54] *** Joins: johnpclaus (johnpclaus@moz-EA6DE54A.res-cmts.dnh.ptd.net)
[21:15:54] <kimundi> hhhhhhhhhh: Do you want Intersection to be generic over a specific Shape, or do you want it to work with trait objects, so that you can plug in different Shape-implementors at the same time?
[21:15:58] <cmr> and then impl<S: Shape> Intersection<S> { ... }
[21:16:01] <doomlord_> i like the inherit idea proposed on github, but i'd prefer 'use' as standard to be inherited by submodules, and write 'priv use' to not inherit (they say they want to remove 'priv' but it'd just be trading one keyword for another)
[21:16:05] <hhhhhhhhhh> kimundi: latter
[21:16:07] <cmr> If you want virtual dispatch, obj: ~Shape
[21:16:14] *** Quits: ChemicalHarm (chemicalha@moz-A9F37238.hsd1.md.comcast.net) (Ping timeout)
[21:16:18] *** Quits: johnpclaus (johnpclaus@moz-EA6DE54A.res-cmts.dnh.ptd.net) (Quit: Textual IRC Client: www.textualapp.com)
[21:18:48] <hhhhhhhhhh> cmr: i think ~Shape did it
[21:19:48] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[21:20:49] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[21:21:11] *** Quits: Ms2ger (Ms2ger@57ACE628.C60A97A6.F9FB0584.IP) (Quit: nn)
[21:21:21] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[21:22:05] *** Joins: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP)
[21:23:00] *** Quits: earlzlap (earlz@5B1FE501.78CAA20E.2F043D47.IP) (Ping timeout)
[21:23:02] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[21:23:28] *** Quits: brson (brson@E9A6A33E.708C0A12.C7EEF3A2.IP) (Ping timeout)
[21:24:19] *** Joins: brson (brson@4A08E125.708C0A12.C7EEF3A2.IP)
[21:24:19] *** ChanServ sets mode: +ao brson brson
[21:26:13] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[21:27:45] <kmc> can std::cell::RefCell remember where it was borrowed to provide more useful dynamic borrow failure messages?
[21:27:50] <kmc> i seem to recall @-boxes could do this
[21:27:50] *** Joins: pepper_chico (chatzilla@moz-220E6D6D.dsl.telesp.net.br)
[21:27:55] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[21:27:56] *** Joins: parkjsung (user@moz-3ED567E7.hsd1.ma.comcast.net)
[21:29:27] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[21:29:54] <huon> kmc: I don't think RefCell has that functionality
[21:30:00] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[21:30:03] *** Quits: ninechars (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Ping timeout)
[21:30:09] *** Joins: ninechars (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[21:30:33] <kmc> would a patch to add it (in debug builds) be accepted?
[21:30:48] <pepper_chico> hello, I have a default pass setup for mozilla irc server on my weechat config, but since some time ago, it never logins anymore, just the mozilla server, I always get "password mismatch" "Closing Link"
[21:30:54] <pepper_chico> anyone knows about this?
[21:31:39] <pepper_chico> a have accounts on freenode and a bunch of other servers, all of them logins
[21:31:39] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[21:31:55] <huon> kmc: I guess so; I'm not sure of the best way to implement it though
[21:33:14] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[21:33:21] <kmc> on glibc i would use http://www.gnu.org/software/libc/manual/html_node/Backtraces.html
[21:33:28] <kmc> doing it portably would be more work
[21:33:39] <kmc> does rust already have anything that records backtraces and prints them later?
[21:34:24] <thiez> rusti: use std::num::Zero; let x:uint=Zero::zero(); x
[21:34:25] -rusti- 0u
[21:34:37] *** Quits: pepper_chico (chatzilla@moz-220E6D6D.dsl.telesp.net.br) (Quit: ChatZilla 0.9.90.1 [Firefox 27.0.1/20140218135856])
[21:34:44] <thiez> is there any way to do the above without the intermediate x variable?
[21:35:19] <thiez> I tried Zero::zero::<uint>() or Zero<uint>::zero() but rusti doesn't like it.
[21:35:31] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[21:36:03] <kimundi> thiez: The syntax would be Zero::<for uint>::zero(), but we don'T have it atm
[21:36:03] *** Joins: jviereck1 (Adium@moz-7859BAFE.dclient.hispeed.ch)
[21:36:26] <thiez> I would like that syntax :)
[21:36:38] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[21:37:11] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Ping timeout)
[21:39:04] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[21:39:15] <cmr> km: yes, in std::rt I believe.
[21:39:22] <cmr> sorry km, meant kmc
[21:39:34] *** Joins: kvanb (kvanb@5E9D2ECA.B8AECADD.1611EE05.IP)
[21:39:56] *** Joins: pepper_chico (pepper_chi@moz-220E6D6D.dsl.telesp.net.br)
[21:40:01] <huon> has the backtraces patch landed?
[21:40:08] *** Joins: skade (skade@moz-F3F67608.pools.arcor-ip.net)
[21:40:13] <cmr> oh maybe it hasn't
[21:40:32] *** Quits: vmx (vmx@moz-39B2DC4C.dip0.t-ipconnect.de) (Quit: Leaving)
[21:40:36] *** Quits: hhhhhhhhhh (mike@moz-C957E6A8.stcatz.ox.ac.uk) (Quit: WeeChat 0.4.3)
[21:40:50] *** Joins: awidegreen (awidegreen@moz-E6DD8F8D.dip0.t-ipconnect.de)
[21:44:15] *** Quits: jviereck1 (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[21:44:23] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[21:44:29] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[21:44:31] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[21:45:25] *** Parts: jdsanders (Adium@D073F53D.C41F93F.96556A09.IP) ()
[21:47:42] <aatch> rusti: Zero::<uint>::zero()
[21:47:43] -rusti- pastebinned 11 lines of output: http://sprunge.us/dgGf
[21:48:17] <aatch> rusti: std::num::Zero::<uint>::zero()
[21:48:18] -rusti- pastebinned 10 lines of output: http://sprunge.us/bcZE
[21:48:32] <aatch> Oh right...
[21:48:54] *** Quits: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru) (Quit: Leaving.)
[21:49:25] *** Quits: Rusky (russell@moz-173BA32C.slkc.qwest.net) (Ping timeout)
[21:50:57] *** Joins: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru)
[21:51:16] *** Joins: Rusky (russell@moz-173BA32C.slkc.qwest.net)
[21:51:28] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[21:52:44] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[21:53:06] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[21:54:01] *** Quits: pepper_chico (pepper_chi@moz-220E6D6D.dsl.telesp.net.br) (Quit: WeeChat 0.4.1)
[21:54:30] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:54:35] *** Joins: pepper_chico (pepper_chi@moz-220E6D6D.dsl.telesp.net.br)
[21:54:46] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[21:54:47] *** Joins: LU324 (asdf@moz-864C7465.dyn.embarqhsd.net)
[21:55:49] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[21:56:00] *** Quits: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru) (Quit: Leaving.)
[21:56:11] *** Joins: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru)
[21:56:38] *** Quits: pepper_chico (pepper_chi@moz-220E6D6D.dsl.telesp.net.br) (Quit: WeeChat 0.4.1)
[21:56:42] *** Quits: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru) (Quit: Leaving.)
[21:56:54] *** Joins: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru)
[21:57:05] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[21:57:58] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[21:58:19] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[21:58:19] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[21:58:24] *** Joins: pepper_chico (pepper_chi@moz-220E6D6D.dsl.telesp.net.br)
[21:58:36] *** Quits: Rym (WUT@39CBEBF9.BF9A5138.8772DA20.IP) (Ping timeout)
[21:58:58] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[21:59:00] <capt_redbeard> I'm trying to access this struct: struct FontDisplay {
[21:59:01] <capt_redbeard>     font: &Font,
[21:59:01] <capt_redbeard>     text: &Text,
[21:59:01] <capt_redbeard> } but the compiler says missing lifetime specifier. What is the correct syntax here?
[21:59:20] *** Quits: dschatzberg (dschatzber@moz-B15FAF67.bu.edu) (Input/output error)
[21:59:24] <Tari> you must specify a lifetime for borrowed values in a struct
[21:59:27] <huon> struct FontDisplay<'a> { font: &'a Font, text: &'a Text }
[21:59:32] <o11c> ... that
[21:59:35] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[21:59:36] <Tari> ^^
[21:59:54] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:59:56] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Quit: victorporof)
[21:59:59] *** Quits: murph1 (murph@moz-F07B75BF.oracle.com) (Ping timeout)
[21:59:59] <huon> so the compiler doesn't loose track of the borrowed-ness of the internal references
[22:00:09] *** Joins: Rym (WUT@39CBEBF9.BF9A5138.8772DA20.IP)
[22:00:19] <capt_redbeard> error: wrong number of lifetime parameters: expected 1 but found 0
[22:00:22] <pepper_chico> well, I dunno pass ident with mozilla server is weird, I'd like to know, any progress on pointer traits for natural borrowing of RC and GC pointers?
[22:00:36] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[22:00:50] <capt_redbeard> Thats with: struct FontDisplay<'a> {
[22:00:51] <capt_redbeard>     font: &'a Font,
[22:00:51] <capt_redbeard>     text: &'a Text,
[22:00:51] <capt_redbeard> }
[22:01:26] <huon> you need to use `impl<'a> FontDisplay<'a> { ... }` too
[22:01:35] *** Joins: murph1 (murph@moz-F07B75BF.oracle.com)
[22:01:39] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[22:01:42] <huon> pepper_chico: there's a PR for it
[22:02:05] <capt_redbeard> huon: I did that as well
[22:02:08] <pepper_chico> last time I came here there's was the discussion about box syntax and one had to call .borrow() in Rc and Gc pointers
[22:02:18] <huon> https://github.com/mozilla/rust/pull/12491
[22:02:25] <huon> capt_redbeard: on trait impls too?
[22:02:26] <pepper_chico> huon: a cool, nice to know
[22:02:40] <huon> (that's just the *foo bit though)
[22:02:52] <capt_redbeard> huon: https://gist.github.com/kylecook80/9335620
[22:04:03] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[22:04:22] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Max SendQ exceeded)
[22:04:27] <huon> capt_redbeard: you need `pub fn new(font: &'a str, text: &'a str) -> FontDisplay<'a> {`
[22:04:34] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[22:04:51] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Max SendQ exceeded)
[22:04:59] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[22:05:04] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[22:05:07] <capt_redbeard> Ah thats right, that attaches the lifetime of that instance of the struct to those fields.
[22:05:12] <capt_redbeard> so thats why I need to put it in the return right?
[22:05:21] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Max SendQ exceeded)
[22:05:31] <huon> yeah, exactly
[22:05:36] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[22:05:51] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[22:06:05] <capt_redbeard> huon: well, I did that but it still gives the wrong number of lifetime parameters error :/
[22:06:08] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Max SendQ exceeded)
[22:07:19] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[22:07:52] *** pmoore is now known as pmoore|away
[22:08:11] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[22:08:19] *** Joins: Jarrett (chatzilla@moz-465FA06E.dhcp.rvsd.ca.charter.com)
[22:08:44] <pepper_chico> hmm, he's providing implementation of the traits for Rc only pointers by now, woudn't it apply for Gc too?...
[22:08:52] *** Quits: skade (skade@moz-F3F67608.pools.arcor-ip.net) (Ping timeout)
[22:08:58] *** Quits: ninechars (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Ping timeout)
[22:09:22] <huon> pepper_chico: Gc isn't real
[22:09:30] <huon> (i.e. it's not a Gc and shouldn't be used)
[22:09:52] <huon> capt_redbeard: is it pointing at a specific line?
[22:09:57] <pepper_chico> huon: ah I know, so it's being left behing regarding features by now
[22:10:18] <pepper_chico> until it becomes real Gc
[22:10:26] *** Quits: ganitsu (ganitsu@moz-80EF3CD0.dialup.mobile.ancel.net.uy) (Ping timeout)
[22:10:35] <doomlord_> its Rc at the minute?
[22:10:55] <capt_redbeard> huon: yes, src/font.rs:7:15: 7:19 error: wrong number of lifetime parameters: expected 1 but found 0
[22:10:55] <capt_redbeard> src/font.rs:7     text: &'a Text,
[22:11:09] <pepper_chico> last time I tried rust it was Rc
[22:11:19] <pepper_chico> not so long ago
[22:12:08] <pepper_chico> indeed, I'm curious what Gc will really turn up...
[22:12:36] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[22:12:36] <huon> capt_redbeard: seems like Text itself needs a lifetime parameter Text<'b>
[22:12:41] *** Joins: skade (skade@moz-F3F67608.pools.arcor-ip.net)
[22:12:45] *** Joins: ninechars (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[22:13:00] <pepper_chico> as of now what I saw was somewhat nebulous
[22:13:04] <huon> pepper_chico: yeah, the API may change arbitrarily when we get a GC
[22:13:33] <capt_redbeard> huon: well, Text is in a library, I don't have access to it.
[22:13:35] <huon> the current goal is to have a tracing, moving, generational GC.
[22:13:46] <pepper_chico> ok
[22:13:54] <huon> capt_redbeard: `text: &'a Text<'b>`
[22:14:10] *** Quits: awidegreen (awidegreen@moz-E6DD8F8D.dip0.t-ipconnect.de) (Ping timeout)
[22:14:11] <huon> struct FondDisplay<'a, 'b> { ... }
[22:14:12] *** Quits: LU324 (asdf@moz-864C7465.dyn.embarqhsd.net) (Connection reset by peer)
[22:14:17] <huon> (could just reuse 'a too, I guess)
[22:14:27] *** Joins: LU324 (asdf@moz-864C7465.dyn.embarqhsd.net)
[22:14:33] <capt_redbeard> huon: oh I see, let me give it a shot
[22:14:35] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[22:15:06] *** Quits: LU324 (asdf@moz-864C7465.dyn.embarqhsd.net) (Connection reset by peer)
[22:15:18] *** Joins: LU324 (asdf@moz-864C7465.dyn.embarqhsd.net)
[22:15:25] *** Quits: tav (tav@moz-7F8C7893.range31-52.btcentralplus.com) (Quit: tav)
[22:15:35] *** Joins: tav (tav@moz-7F8C7893.range31-52.btcentralplus.com)
[22:15:56] *** Quits: LU324 (asdf@moz-864C7465.dyn.embarqhsd.net) (Connection reset by peer)
[22:16:09] *** Joins: LU324 (asdf@moz-864C7465.dyn.embarqhsd.net)
[22:16:10] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[22:16:12] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Connection reset by peer)
[22:16:25] <huon> pepper_chico: (it's not clear if the overhead of generational GC will be beneficial to Rust; most very short-lived values will be allocated on the stack unlike GC-everything languages.)
[22:16:59] *** Quits: sunfish (chatzilla@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[22:17:10] *** Quits: LU324 (asdf@moz-864C7465.dyn.embarqhsd.net) (Quit: Leaving)
[22:17:15] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[22:17:15] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[22:17:16] *** Quits: nszceta (hax@moz-E458A7C0.pharm.pitt.edu) (Input/output error)
[22:17:24] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[22:17:48] *** Joins: LU324 (asdf@moz-864C7465.dyn.embarqhsd.net)
[22:18:06] *** Joins: sunfish (chatzilla@moz-BBE3ABD.mv.mozilla.com)
[22:18:36] <zwarich> huon: is the plan for precise GC, even on the stack?
[22:18:40] *** Joins: awidegreen (awidegreen@moz-E6DD8F8D.dip0.t-ipconnect.de)
[22:18:54] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[22:18:57] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[22:19:05] <huon> zwarich: currently no
[22:19:13] *** Quits: nlminhtl (ignotus@moz-4CB8A1D.site.volia.net) (Ping timeout)
[22:19:16] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:19:52] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[22:19:54] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:19:57] <capt_redbeard> huon: ok got most of the errors cleared up, now it says it cannot infer appropriate lifetime for coercion due to conflicting requirements:     fn get_text(text: &str, font: &Font) -> &Text<'b> {
[22:19:57] <capt_redbeard>         match Text::new_init(format!("FPS: {}", 0), font, 30) { … }
[22:20:17] <huon> zwarich: (the current goal is something like the Bartlett mostly-copying collector)
[22:20:19] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Ping timeout)
[22:20:51] <huon> capt_redbeard: you can't return a reference to the stack allocated Text
[22:20:57] *** Joins: nlminhtl (ignotus@moz-4CB8A1D.site.volia.net)
[22:21:11] <zwarich> huon: interesting, has anyone ever implemented a conservative mostly copying collector in an industrial setting?
[22:21:24] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[22:21:58] <huon> capt_redbeard: and what's the signature of new_init (surely get_text has to taking the 'b lifetime from either text or font?)
[22:22:48] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:22:56] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Input/output error)
[22:22:59] <huon> zwarich: I don't know (Barlett is precise on the heap, fwiw.)
[22:23:01] <capt_redbeard> huon: here is the signature pulled from the docs at the website: fn http://rust-sfml.org/doc/rsfml/graphics/struct.Text.html#method.new_init(string: &str, font: &'s http://rust-sfml.org/doc/rsfml/graphics/struct.Font.html, character_size: uint) -> http://static.rust-lang.org/doc/master/std/option/enum.Option.html<http://rust-sfml.org/doc/rsfml/graphics/struct.Text.html<'s>>
[22:23:04] <capt_redbeard> oh crud
[22:23:08] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[22:23:47] <capt_redbeard> fn new_init(string: &str, font: &'s Font, character_size: uint) -> Option<Text<'s>>
[22:24:09] <capt_redbeard> so I should pass the 'a to font here.
[22:24:20] <huon> ok, so you need `fn get_text(text: &str, font: &'b Font) -> Text<'b> { ... }`
[22:24:39] <huon> (and based on that, I suggest that FontDisplay just uses 'a for everything; not too lifetimes.)
[22:24:42] <huon> *two
[22:25:43] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[22:25:57] *** Joins: ambimorph (amber@moz-B3FBDFCE.hlrn.qwest.net)
[22:26:34] *** Quits: eholk (eholk@moz-BA312F07.crest.iu.edu) (Quit: eholk)
[22:26:34] <capt_redbeard> huon: Ohhhh ok this makes much more sense now. Is there an appropriate situaiton to use more than one lifetime?
[22:27:29] *** Joins: zmthy (zmthy@moz-C2881CC3.ecs.vuw.ac.nz)
[22:28:02] <huon> I think it's really useful when you have &mut's involved
[22:28:33] *** Quits: Ferreus (ferreus@moz-7218DD5.lsn.wtnet.de) (Quit: WeeChat 0.4.4-dev)
[22:28:56] <capt_redbeard> alright cool. Thank you for the help!
[22:29:32] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Client exited)
[22:30:14] *** Quits: heftig (heftig@moz-61DF4D47.dip0.t-ipconnect.de) (Ping timeout)
[22:30:22] *** flaper87 is now known as flaper87|afk
[22:31:58] *** Quits: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de) (Quit: Leaving)
[22:31:58] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[22:32:01] *** Joins: ganitsu (ganitsu@moz-7F2843F0.dialup.mobile.ancel.net.uy)
[22:32:39] * pepper_chico still have to learn this 'a 'b lifetime thing
[22:33:42] <huon> capt_redbeard: btw, looking at your code, it seems like `FontDisplay<'a> { font: Font, text: Text<'a> }` is what you want?
[22:33:56] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[22:34:27] *** Quits: skade (skade@moz-F3F67608.pools.arcor-ip.net) (Ping timeout)
[22:34:37] <capt_redbeard> huon, yes it is. Is it what I have as of now.
[22:34:44] *** Quits: nlminhtl (ignotus@moz-4CB8A1D.site.volia.net) (Ping timeout)
[22:35:29] <huon> awesome
[22:35:36] *** Joins: skade (skade@moz-F3F67608.pools.arcor-ip.net)
[22:36:14] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:36:23] *** Quits: skade (skade@moz-F3F67608.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:36:29] *** Joins: frogzilla (Mibbit@E87770CF.F746F57.CC1A2609.IP)
[22:37:49] *** Joins: heftig (heftig@moz-61DF4D47.dip0.t-ipconnect.de)
[22:38:14] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[22:38:40] *** Joins: nlminhtl (ignotus@moz-4CB8A1D.site.volia.net)
[22:39:14] *** Quits: frogzilla (Mibbit@E87770CF.F746F57.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:39:14] *** Joins: skade (skade@moz-F3F67608.pools.arcor-ip.net)
[22:40:28] *** Joins: earlzlap (earlz@5B1FE501.78CAA20E.2F043D47.IP)
[22:40:36] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[22:41:54] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Quit: Savago)
[22:42:55] *** Quits: alkino (alkino@moz-53CAAA6D.w92-151.abo.wanadoo.fr) (Quit: WeeChat 0.4.3)
[22:44:05] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[22:44:18] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[22:44:22] *** Joins: josh (josh@moz-244364B2.cable.virginm.net)
[22:44:27] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:45:52] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[22:45:53] *** Joins: pcwalton (pcwalton@F16146EB.9D3722BB.58DC3EE6.IP)
[22:45:53] *** ChanServ sets mode: +ao pcwalton pcwalton
[22:46:07] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[22:46:46] *** Quits: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP) (Quit: Leaving...)
[22:48:01] *** Quits: skade (skade@moz-F3F67608.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:48:16] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[22:48:24] *** Quits: nlminhtl (ignotus@moz-4CB8A1D.site.volia.net) (Ping timeout)
[22:49:00] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[22:49:48] *** Quits: ganitsu (ganitsu@moz-7F2843F0.dialup.mobile.ancel.net.uy) (Quit: WeeChat 0.4.3)
[22:51:11] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:52:38] <vincent_> is there a way to export a instatiated generic, like "pub MyOptionalInt = Option<int>"
[22:53:07] <aatch> vincent_, you can use a type alias
[22:53:24] <aatch> but there are limitations on those, they aren't "real" types.
[22:54:14] *** Joins: nlminhtl (ignotus@moz-4CB8A1D.site.volia.net)
[22:54:37] <cmr> (specifically, pub type MyOptionalInt = Option<int>)
[22:55:50] <aphistic> does anyone know why there's a trailing -> on a function declaration as opposed to just listing the type? it seems un-needed
[22:57:03] *** Quits: awidegreen (awidegreen@moz-E6DD8F8D.dip0.t-ipconnect.de) (Ping timeout)
[22:58:04] <eddyb> aphistic: readability, I would guess
[22:58:23] <eddyb> also, can't do a type without -> on closures
[22:58:28] <aphistic> a way to visually separate it? i guess i can see that
[22:58:42] <eddyb> *return type, I mean
[22:59:35] <aphistic> ah, i haven't gotten to closures yet. reading through the tutorial now
[22:59:49] <eddyb> |A, B, C| -> R
[23:00:12] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[23:01:03] *** Joins: exobit (foo@moz-37C6BBB2.corp.bitshelter.com)
[23:01:17] <eddyb> in an expression, types are optional, |a, b, c| a+b+c. you can't add a return type hint without -> there, |a, b, c| R a+b+c can't really parse well. (|a, b, c| -> R a+b+c is the current situation)
[23:02:34] <aphistic> that makes sense. they wanted similar ideas to look the same
[23:02:34] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[23:02:36] *** Quits: mgottschlag (quassel@moz-B2C39C83.cust.bluewin.ch) (Ping timeout)
[23:02:44] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Client exited)
[23:02:45] *** Joins: mpiechotka (mpiechotka@moz-FD6AC988.dynamic.mnet-online.de)
[23:03:31] *** Quits: Yurume (Yurume@A826BD81.8A0DEF81.38747683.IP) (Ping timeout)
[23:03:57] *** Quits: zv (zv@moz-955F83E9.hsd1.ca.comcast.net) (Ping timeout)
[23:04:00] *** Quits: apoelstra (username@moz-B7040E82.vs.shawcable.net) (Ping timeout)
[23:04:07] *** Joins: zv (zv@moz-955F83E9.hsd1.ca.comcast.net)
[23:04:13] *** Joins: apoelstra (username@moz-B7040E82.vs.shawcable.net)
[23:04:41] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[23:04:44] *** Quits: syst3mw0rm (quassel@moz-7886FF16.us-west-2.compute.amazonaws.com) (Ping timeout)
[23:05:01] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[23:05:12] *** Quits: ninechars (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Quit: )
[23:05:14] *** Joins: Yurume (Yurume@A826BD81.8A0DEF81.38747683.IP)
[23:05:15] *** Joins: syst3mw0rm (quassel@moz-7886FF16.us-west-2.compute.amazonaws.com)
[23:05:22] *** Quits: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP) (Ping timeout)
[23:05:27] <capt_redbeard> Let's say I am storing a couple of values into a struct by value. Is there a way to reference an early value in the struct in a later one? For example, I want to reference font, but it is now owned by the struct, so I can't pass it by value to the second value.         let my_font = FontDisplay::get_font(format!("res/{}", font));
[23:05:27] <capt_redbeard>         FontDisplay {
[23:05:27] <capt_redbeard>             font: my_font,
[23:05:27] <capt_redbeard>             text: FontDisplay::get_text(text, &my_font),
[23:05:27] <capt_redbeard>         }
[23:05:29] *** Joins: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP)
[23:06:30] <huon> self references like that don't really work, unfortunately :(
[23:06:56] *** Quits: Yurume (Yurume@A826BD81.8A0DEF81.38747683.IP) (Ping timeout)
[23:06:58] *** Quits: jmmk (jmmk@moz-3BDBD2C0.hfc.comcastbusiness.net) (Ping timeout)
[23:07:30] *** Quits: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com) (Quit: )
[23:08:16] *** Joins: skade (skade@moz-F3F67608.pools.arcor-ip.net)
[23:08:59] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[23:09:19] *** Quits: exobit (foo@moz-37C6BBB2.corp.bitshelter.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:09:37] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[23:10:06] *** Joins: Yurume (Yurume@A826BD81.8A0DEF81.38747683.IP)
[23:10:12] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Quit: )
[23:10:39] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:10:48] <kmc> capt_redbeard: yeah, there isn't a great solution afaik :/
[23:10:58] <kmc> you can make text into an Option and set it after the struct is created
[23:11:03] <kmc> or you can do unsafe hax
[23:11:55] *** Quits: mawuli (mawuli@moz-A89BBCE.com.gh) (Connection reset by peer)
[23:12:38] <capt_redbeard> Hmm I may look into the Option solution then. unsafe may be the way to go unfortunately.
[23:13:00] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[23:13:15] * kmc thinks about the best unsafe solution
[23:13:21] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[23:13:28] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[23:13:39] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[23:13:47] <kmc> you could do  FontDisplay { font: my_font, text: std::unstable::intrinsics::uninit() }
[23:13:58] <kmc> but you have to be careful not to run the destructor on the uninit value when you replace it
[23:14:01] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:15:01] *** Joins: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP)
[23:15:03] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[23:15:29] *** Joins: Saj (Sajuuk@moz-840D0658.netvisao.pt)
[23:15:34] <kmc> something like   cast::forget(replace(&mut font_display.text, FontDisplay::get_text(text, &font_display.my_font)))
[23:16:43] *** Joins: ChemicalHarm (chemicalha@moz-A9F37238.hsd1.md.comcast.net)
[23:17:22] <capt_redbeard> Hmm thats interesting. So we replace the structure text with our new get_text(), and then forget the old reference to get_text()? Not sure if that made sense haha
[23:17:24] <kmc> probably better to restructure things to avoid this problem, if possible
[23:18:13] <kmc> capt_redbeard: there's no old reference to get_text().  font_display.text was "initialized" to std::unstable::intrinsics::uninit()
[23:18:23] *** Quits: ChemicalHarm (chemicalha@moz-A9F37238.hsd1.md.comcast.net) (Ping timeout)
[23:18:30] <kmc> which means "don't actually initialize this field"
[23:18:52] <kmc> it will just have whatever garbage value was leftover in memory, C-style
[23:18:59] *** Joins: lawrence (lawrence@moz-DE2DF17B.wireless.utoronto.ca)
[23:19:43] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[23:19:49] <kmc> then we assign it a new value later, but we shouldn't try to clean up the old value because it was never actually a legit value
[23:20:52] <capt_redbeard> kmc: Well that is what I was thinking about. I want a generic Engine (for a game btw) with helpers for easily generating font text, and with multiple loops to easily manage. So I've been experimenting with the language to figure out the best structure for that.
[23:21:04] <capt_redbeard> kmc: That is actually a really need trick. I definitely need to explore the std package more.
[23:22:09] <kmc> capt_redbeard: do you know about Rust's memory safety guarantees, and what is meant by the "unsafe dialect" of Rust?
[23:22:26] *** Joins: brendan (brendaneic@moz-B097949B.hfc.comcastbusiness.net)
[23:23:26] *** Quits: marianoguerra (marianogue@moz-10E0E118.dip0.t-ipconnect.de) (Ping timeout)
[23:23:28] <kmc> if you provide more context for this code maybe we can help you restructure to avoid nasty unsafe hacks
[23:23:40] *** Quits: nkoep (nik@moz-9FFC5868.pool.mediaways.net) (Quit: Leaving)
[23:23:44] <kmc> you can put it on a pastebin like https://pastebin.mozilla.org/ or https://gist.github.com/
[23:26:49] *** Quits: skade (skade@moz-F3F67608.pools.arcor-ip.net) (Ping timeout)
[23:26:59] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[23:27:11] *** Quits: marwy (user@41303A68.5C2AEEF8.CFA44423.IP) (Quit: ERC Version 5.3 (IRC client for Emacs))
[23:27:38] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Quit: wilmoore)
[23:27:42] <capt_redbeard> Sure, give me a little bit and I'll get it posted.
[23:28:19] *** Quits: alexherbo2 (alexherbo2@moz-14A2C8F9.w83-199.abo.wanadoo.fr) (Quit: WeeChat 0.4.3-dev)
[23:28:58] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[23:29:19] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[23:30:26] <capt_redbeard> Here is my project thus far. Using rsfml, https://gist.github.com/kylecook80/9336884
[23:30:59] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[23:31:08] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[23:34:39] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[23:34:42] <kmc> looks like instead of Text::new_init() you could use Text::new() and then the .set_font() method
[23:35:54] *** Joins: mawuli (mawuli@moz-A89BBCE.com.gh)
[23:35:56] <huon> (having an interior reference will stop you from moving the struct: the struct becomes position-in-memory dependent, and Rust doesn't offer the same tools as C++ for handling this.)
[23:36:16] <kmc> ah, interesting point
[23:36:20] <kmc> which tools does C++ provide?
[23:36:31] <kmc> The Struct That Borrowed Itself
[23:36:35] <capt_redbeard> so are you suggesting I pass that kind of thing into the engine?
[23:37:02] *** Quits: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:37:07] <kmc> capt_redbeard: I'm talking about a change you could make within get_text()
[23:37:31] <capt_redbeard> kmc: my apologies, I meant that towards huon.
[23:37:33] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Input/output error)
[23:37:34] *** Quits: MP2E (cray@moz-EB1E242D.lv.lv.cox.net) (Quit: brb)
[23:37:56] <kmc> oh sorry
[23:38:00] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[23:38:44] <bstrie> golang thread on hn -> rust doesn't get mentioned even once -> today was a good day
[23:39:07] <eddyb> bstrie: y?
[23:39:41] <bstrie> because I'm happy to see that the constant go vs. rust discussions are behind us
[23:39:43] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Ping timeout)
[23:40:01] <eddyb> bstrie: because we won?
[23:40:13] <eddyb> >\m/<
[23:40:15] *** Quits: teosz (teosz@5F23F990.D75A9DA0.3EA6AAD8.IP) (Ping timeout)
[23:40:25] <bstrie> eddyb: didn't you hear? rust is now the only language in the world
[23:40:41] <bstrie> for all practical purposes, anyway
[23:40:51] <eddyb> bstrie: that would be nice. at least to see PHP gone forever
[23:41:14] <capt_redbeard> huon: kmc: from a purely architectural standpoint, I was wondering if the traditional 'C++' way of game engines would be appropriate for rust or if I could do something crazy like storing the game loop logic in a closure and storing that in a struct would work?
[23:41:37] <eddyb> bstrie: and Java. but I may step over toes and break the code conduct if I start enumerating more :P
[23:41:41] <wolfwood> is there anything special about 'new' or is it just a convention?
[23:41:48] <cmr> wolfwood: convention
[23:41:57] <huon> kmc: aiui, you can override copy/move constructors in C++ to update the inner pointers as appropriate
[23:42:13] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Quit: Leaving.)
[23:42:16] <huon> kmc: (and there's possibly even a first-class interior pointer type)
[23:42:18] <wolfwood> word
[23:42:18] <kmc> capt_redbeard: I'm not sure; Rust is low-level enough that a lot of the nice FP tricks are less nice
[23:42:26] * huon <- learnt most of his C++ in #rust
[23:42:32] <kmc> :)
[23:42:39] <eddyb> but you only have inner pointers if they can be more than just an offset...
[23:42:53] <eddyb> and then you basically implement a relocating GC :P
[23:42:54] <kmc> I know a good chunk of C++ but I haven't done much with move semantics yet
[23:42:56] <huon> capt_redbeard: one way would be just using a shared memory type
[23:43:02] <kmc> eddyb: what do you mean?
[23:43:07] <huon> (e.g. Rc<RefCell<...>>)
[23:43:14] <capt_redbeard> kmc: Ah alright. I may just go with the more traditional C++ way of doing it.
[23:43:26] <eddyb> kmc: what do you update the pointer to if it can have more than one possible value, relative to "this"?
[23:43:35] <capt_redbeard> huon: I have been a little confused as to why Rc exists when you have ~ and @.
[23:43:46] <eddyb> @ is not for general consumption
[23:43:47] <kmc> capt_redbeard: we basically don't have @ anymore. it's deprecated
[23:43:59] <kmc> it was never real GC, it was just refcounting with weirder semantics than Rc<T>
[23:44:01] <eddyb> it solely exists to support an aged compiler
[23:44:04] *** Quits: elij (elij@E6C4342E.9D386EAF.AF7F4FE0.IP) (Ping timeout)
[23:44:07] <capt_redbeard> Oh! I did not hear about that.
[23:44:11] <kmc> eventually @ may be sugar for Gc<T>
[23:44:26] <eddyb> will be killed on sight once we get nice smart ptr semantics
[23:44:37] <eddyb> (which means this week. if nmatsakis isn't busy with more important things)
[23:44:44] <kmc> nice!
[23:44:48] * kmc has been wanting that for a long time
[23:45:24] <eddyb> cmr: re: convention. I wanted to mention - there was that one week when we thought "new" was going to be an operator and we were renaming things =))
[23:45:27] *** Joins: raisin (Mibbit@4A918A12.2F87036F.DDE5D3F6.IP)
[23:45:30] <eddyb> what did Path::new become, even?
[23:45:34] *** Quits: parkjsung (user@moz-3ED567E7.hsd1.ma.comcast.net) (Ping timeout)
[23:45:37] <eddyb> Path::create?
[23:45:55] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Quit: Textual IRC Client: www.textualapp.com)
[23:46:02] <raisin> Hi all, I'm a bit lost with the WebServer library
[23:46:12] <eddyb> I saved "new" by (almost) secretly seeling "box"'s soul
[23:46:23] <eddyb> *selling, even
[23:46:24] <raisin> ach, disregard
[23:46:28] *** Quits: raisin (Mibbit@4A918A12.2F87036F.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:46:48] <eddyb> bstrie: you must know if that was a Go thing or not
[23:46:54] *** Joins: elij (elij@E6C4342E.9D386EAF.AF7F4FE0.IP)
[23:47:09] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[23:47:16] <eddyb> bstrie: if it was, it's your fault for jinxing it >_<
[23:47:51] *** Parts: RagtagPsyche (sid24923@moz-31ABA2C0.irccloud.com) ()
[23:47:52] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[23:48:11] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[23:48:30] *** Joins: skade (skade@moz-F3F67608.pools.arcor-ip.net)
[23:48:31] *** Joins: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net)
[23:48:52] <kmc> eddyb: you know Servo had a module box.rs :(
[23:48:53] <kmc> it's box_.rs now
[23:49:10] <eddyb> :box pls
[23:49:32] <eddyb> or \box? that reminds me PHP's "namespaces"
[23:49:37] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[23:50:16] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[23:50:28] <kmc> not as bizarre as the time when we had to rename aux.rs because AUX is still a reserved name on Windows, along with CON and NUL and LPT1
[23:50:46] <huon> even with a file extension?
[23:50:49] <eddyb> bwahahahha
[23:50:49] <kmc> seems so
[23:50:58] <masonl> wow
[23:50:59] <eddyb> kmc: or was it a directory?
[23:50:59] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[23:51:08] <eddyb> aux/*.rs
[23:51:10] <kmc> who here remembers <img src="C:\CON\CON">
[23:51:18] * pcwalton raises hand
[23:51:22] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[23:51:31] <kmc> eddyb: I think it was aux.rs. extensions are stored separately in DOS filesystems and I bet it's reserved regardless of ext
[23:51:37] <pcwalton> https://bugzilla.mozilla.org/show_bug.cgi?id=31607
[23:51:41] <eddyb> oh dear that's FAT for you
[23:52:00] <zmike> anyone have suggestions for why task spawning might be triggering an abort  with assert !ptr.is_null() ?
[23:52:01] <kmc> another one I quite enjoyed on old IE is about:<script>while(1){window.open(document.src);}</script>
[23:52:10] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[23:52:12] <kmc> zmike: do you have a backtrace?
[23:52:16] <eddyb> pcwalton: 2k o_O
[23:52:19] *** Quits: brendan (brendaneic@moz-B097949B.hfc.comcastbusiness.net) (Quit: brendan)
[23:52:19] <zmike> yeah
[23:52:20] <zmike> sec
[23:52:28] <kmc> pcwalton: nice. vintage bug
[23:52:35] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Quit: Leaving.)
[23:52:52] <eddyb> reminds me of that time I read a mail from the 70s or 80s... Richard Stallman?
[23:52:57] *** Quits: dkeenaghan (dkeenaghan@A9F153F4.DDE28F19.986A907C.IP) (Quit: Leaving)
[23:53:07] <zmike> kmc: http://slexy.org/view/s21ScW8Bu3
[23:53:35] *** Quits: skade (skade@moz-F3F67608.pools.arcor-ip.net) (Ping timeout)
[23:53:35] *** jorendorff is now known as jorendorff_away
[23:53:36] <kmc> eddyb: in 1978, DEC sent the first Internet spam ever, and RMS was one of the people who replied: http://www.templetons.com/brad/spamreact.html
[23:54:00] <strcat> pcwalton: I can't think of a way to avoid breaking deriving without having PartialEq/Eq split
[23:54:01] *** Joins: skade (skade@moz-F3F67608.pools.arcor-ip.net)
[23:54:04] <eddyb> kmc: not that, the creation of GNU or some important event like that
[23:54:19] <pcwalton> how come?
[23:54:20] <strcat> pcwalton: I also can't think of a way to make deriving Eq work without Eq having a useless extension method
[23:54:23] <kmc> zmike: does 'break rust_fail' give you a different backtrace?
[23:54:33] <strcat> pcwalton: because deriving will happily implement it as if there's a total ordering when there's not
[23:54:41] <zmike> kmc: no
[23:54:54] <eddyb> zmike: I wish I had enough short-term memory to hold that quote in my head
[23:54:57] <kmc> I guess that this is a runtime failure outside of task failure mechanism
[23:55:02] <strcat> maybe I am thinking about it wrong
[23:55:05] <eddyb> zmike: I don't think you're initializing the runtime
[23:55:18] <zmike> eddyb: what do you mean?
[23:55:20] <strcat> if they were merged, I guess types are forbidden from implementing them if they don't define a total ordering
[23:55:28] <eddyb> zmike: it's trying to spawn a task util::task::spawn_named
[23:55:38] <eddyb> zmike: but there's no "start" function down lower
[23:55:43] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[23:55:49] <eddyb> it looks like it's running barebone
[23:55:50] <strcat> and generic code would mostly not be able to use the operators
[23:55:56] <strcat> (for example, min/max/clamp are wrong atm)
[23:55:56] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[23:56:01] <zmike> eddyb: it's not a rust program
[23:56:10] <eddyb> you have to initialize the runtime
[23:56:17] <eddyb> that's what the abort is all about
[23:56:20] <zmike> hm
[23:56:23] <zmike> how can I do that then?
[23:56:25] <pcwalton> NaN.ord(&NaN) is Equal; (NaN, NaN).ord(&(NaN, NaN)) is Equal
[23:56:38] <eddyb> pcwalton: you have a control char in there. \b maybe?
[23:56:48] <pcwalton> NaN.ord(&NaN) is Equal; (NaN, NaN).ord(&(NaN, NaN)) is Equal
[23:56:59] <strcat> rusti: std::cmp::min(0.0 / 0.0, 2.0)
[23:57:00] -rusti- 2f64
[23:57:01] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:57:03] *** Quits: earlzlap (earlz@5B1FE501.78CAA20E.2F043D47.IP) (Ping timeout)
[23:57:10] <strcat> rusti: std::cmp::min(2.0, 0.0 / 0.0)
[23:57:11] -rusti- -NaNf64
[23:57:13] <eddyb> zmike: see the runtime guide, I guess
[23:57:20] <strcat> pcwalton: min/max/clamp need a total ordering as they are defined
[23:57:29] <strcat> a proper min/max/clamp for floats needs special care
[23:57:29] <zmike> oh
[23:57:32] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:57:33] <zmike> I have never seen this document before!
[23:57:43] <strcat> I really doubt there is much code correct with a partial ordering without being special cased for it...
[23:57:47] <eddyb> zmike: there's start functions in both green and native, which take a proc and run code in rust task inside the proc
[23:58:22] <zmike> yes, I see now
[23:58:25] <pcwalton> how does C++ std::min work?
[23:58:26] <eddyb> zmike: you want to wrap the outermost rust layer in a call to that
[23:58:49] <eddyb> pcwalton: probably expands to 50 expressions :P
[23:58:57] <zmike> eddyb: okay, that seems to make sense
[23:58:58] <zmike> thanks
[23:59:01] <strcat> pcwalton: C++ doesn't have trait bounds
[23:59:09] <eddyb> does clang have the equivalent of --pretty expanded?
[23:59:09] <pcwalton> min has to do something
[23:59:12] <pcwalton> what does it do?
[23:59:14] <strcat> pcwalton: it's undefined behaviour to use a NaN with one of those things
[23:59:14] <pcwalton> with NAN
[23:59:17] <strcat> pcwalton: UB afaik
[23:59:19] <pcwalton> ok
[23:59:21] <strcat> like with unordered_map and map
[23:59:22] <pcwalton> then rust min is the same
[23:59:36] * eddyb doesn't like UB
[23:59:39] <sunfish> pcwalton: fmin in C guarantees you get the non-NaN
[23:59:52] <strcat> pcwalton: so why have trait bounds?
