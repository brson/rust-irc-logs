[00:00:07] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[00:04:17] *** Quits: burg (burg@moz-4C66C3D2.hfc.comcastbusiness.net) (Quit: burg)
[00:11:36] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[00:46:01] *** Joins: dzbarsky (Adium@moz-D8666FB8.wlan.wireless-resnet.upenn.edu)
[00:49:26] *** Joins: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net)
[00:53:15] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[00:55:51] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[01:02:11] *** Quits: tjc (tjc@moz-879D556A.utilitytelephone.net) (Quit: zzzzzzzzzz)
[01:16:46] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[01:40:51] *** Joins: dbaron (dbaron@moz-C566053C.dsl.dynamic.sonic.net)
[01:55:51] *** Joins: tjc (tjc@moz-D3C492BF.static.snlo.ca.charter.com)
[01:55:51] *** ChanServ sets mode: +o tjc
[02:00:11] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[02:12:37] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[02:18:00] *** Joins: annevk (annevk@DF1341F2.4F390C2A.420B7681.IP)
[02:19:48] *** Quits: annevk (annevk@DF1341F2.4F390C2A.420B7681.IP) (Ping timeout)
[02:23:06] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[02:28:10] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[02:29:11] *** Quits: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk) (Ping timeout)
[02:29:25] *** Joins: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk)
[02:42:27] *** Quits: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net) (Quit: tikue_)
[02:43:40] *** Quits: tjc (tjc@moz-D3C492BF.static.snlo.ca.charter.com) (Quit: zzzzzzzzzz)
[02:46:26] *** Quits: kimundi (kimundi@moz-E6949FE1.dip0.t-ipconnect.de) (Ping timeout)
[02:49:48] *** Joins: kimundi (kimundi@moz-845FFCCA.dip0.t-ipconnect.de)
[02:51:56] *** Quits: dzbarsky (Adium@moz-D8666FB8.wlan.wireless-resnet.upenn.edu) (Quit: Leaving.)
[02:54:17] *** kimundi is now known as zz_kimundi
[03:01:11] *** zz_kimundi is now known as kimundi
[03:06:45] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: G'night everynyan~!)
[03:30:04] *** Quits: dbaron (dbaron@moz-C566053C.dsl.dynamic.sonic.net) (Ping timeout)
[03:36:58] *** Quits: aria (royalty@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[03:51:09] *** Joins: tjc (tjc@moz-99DCA715.public.wayport.net)
[03:51:09] *** ChanServ sets mode: +o tjc
[03:52:31] *** Quits: tjc (tjc@moz-99DCA715.public.wayport.net) (Connection reset by peer)
[03:52:33] *** Joins: tjc_ (tjc@moz-99DCA715.public.wayport.net)
[04:12:19] *** Joins: dzbarsky (Adium@298AEAFA.D5562F02.B5C6E82B.IP)
[04:31:41] *** Quits: tjc_ (tjc@moz-99DCA715.public.wayport.net) (Quit: zzzzzzzzzz)
[04:40:41] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[04:50:06] *** Joins: ghservo (ghservo@79968228.6A2AE50.F3114085.IP)
[04:50:06] <ghservo> [13servo] 15june0cho opened issue #942: Calculate correct values of `FontMetrics` struct fields for macos  02http://git.io/g--6eA
[04:50:06] *** Parts: ghservo (ghservo@79968228.6A2AE50.F3114085.IP) ()
[05:00:46] *** Quits: dzbarsky (Adium@298AEAFA.D5562F02.B5C6E82B.IP) (Quit: Leaving.)
[05:08:57] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[05:11:10] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[05:16:58] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[05:25:32] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[05:37:32] *** Joins: aria (royalty@moz-9FE842F.cpe.net.cable.rogers.com)
[05:39:20] *** Quits: aria (royalty@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[05:57:03] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[05:57:39] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[05:57:42] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[06:18:47] *** Joins: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP)
[06:18:47] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/jtUm-Q
[06:18:47] *** Parts: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP) ()
[06:18:47] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[06:18:48] <ghservo> 01[13servo01] 15bors-servo pushed 3 new commits to 06auto: 02http://git.io/UsdeOw
[06:18:48] <ghservo> 13servo/06auto 144d719df 15Junyoung Cho: Implement the rest of 'text-decoration' property.
[06:18:48] <ghservo> 13servo/06auto 147436c10 15Junyoung Cho: Fix android/font.rs. Add an issue in macos/font.rs
[06:18:48] <ghservo> 13servo/06auto 142223eac 15bors-servo: auto merge of #932 : june0cho/servo/text_deco, r=metajack...
[06:18:50] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[06:22:52] *** Quits: valenting (Thunderbir@moz-9C32009D.residential.rdsnet.ro) (Ping timeout)
[06:31:54] *** Joins: annevk (annevk@DF1341F2.4F390C2A.420B7681.IP)
[07:10:06] *** Joins: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net)
[07:33:18] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[07:33:43] *** Quits: six600110 (six600110@moz-2FA48202.neo.res.rr.com) (Ping timeout)
[07:47:32] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[07:51:48] *** Quits: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net) (Quit: tikue_)
[08:03:03] *** Joins: victorporof (victorporo@6C2683EC.42B20A5F.6A4F8DA2.IP)
[08:07:08] *** Quits: harth (heather@moz-A0276582.hsd1.ca.comcast.net) (Client exited)
[08:07:28] *** Joins: harth (heather@moz-A0276582.hsd1.ca.comcast.net)
[08:09:19] *** Quits: harth (heather@moz-A0276582.hsd1.ca.comcast.net) (Ping timeout)
[08:11:24] *** Quits: annevk (annevk@DF1341F2.4F390C2A.420B7681.IP) (Input/output error)
[08:11:52] *** Joins: annevk (annevk@DF1341F2.4F390C2A.420B7681.IP)
[08:13:36] *** Quits: annevk (annevk@DF1341F2.4F390C2A.420B7681.IP) (Ping timeout)
[08:37:52] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[08:42:09] *** Joins: aria (royalty@moz-9FE842F.cpe.net.cable.rogers.com)
[08:44:16] *** Quits: aria (royalty@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[08:48:06] *** Joins: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net)
[08:59:11] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[08:59:36] *** Joins: Kostic (marko@moz-3702C35C.mbb.telenor.rs)
[09:34:21] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[09:52:15] *** Quits: Kostic (marko@moz-3702C35C.mbb.telenor.rs) (Quit: Ex-Chat)
[09:53:19] *** Joins: mib_0ytsmk (Mibbit@A05ED603.7179CDFD.EEBBAFDA.IP)
[10:04:00] <mib_0ytsmk> Hi 
[10:04:13] <mib_0ytsmk> I was trying to build my linux 64 bit sys
[10:04:25] <mib_0ytsmk> but during make check it gives following errors
[10:04:43] <mib_0ytsmk> X11 connection rejected because of wrong authentication
[10:05:19] <mib_0ytsmk> can anyone help ??
[10:12:36] <mib_0ytsmk> .
[10:14:04] <tikue_> mib_0ytsmk: it's 3am where most of the core servo devs live
[10:14:20] <mib_0ytsmk> yes
[10:14:35] <mib_0ytsmk> i was expecting from some korean counterparts
[10:14:45] <tikue_> mib_0ytsmk: it's after the work day for them :)
[10:15:02] <mib_0ytsmk> hmm\
[10:15:16] <mib_0ytsmk> tikue_ : can u help
[10:15:48] <tikue_> mib_0ytsmk: I wish I could, but I don't know why you're getting that error :(
[10:16:03] <mib_0ytsmk> tikue_: okk .. no problem :)
[10:17:35] <klutzy> you mean servo failed to connect to X?
[10:19:55] <mib_0ytsmk> hmm may br
[10:20:32] <mib_0ytsmk> klutzy: some segementation fault (core dumped) happen
[10:26:18] *** Joins: aria (royalty@moz-9FE842F.cpe.net.cable.rogers.com)
[10:43:05] *** Quits: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net) (Quit: tikue_)
[10:46:19] *** AutomatedTester is now known as AutomatedTester|away
[10:50:59] *** Joins: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net)
[10:56:56] *** Joins: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[10:56:57] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[10:59:14] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[10:59:15] *** Quits: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[11:04:31] *** Joins: Kostic (marko@C4D4CB5C.58A2DD99.2168A69F.IP)
[11:07:06] *** Quits: Kostic (marko@C4D4CB5C.58A2DD99.2168A69F.IP) (Quit: Ex-Chat)
[11:07:22] *** Joins: Kostic (marko@C4D4CB5C.58A2DD99.2168A69F.IP)
[11:09:40] *** Quits: Kostic (marko@C4D4CB5C.58A2DD99.2168A69F.IP) (Client exited)
[11:11:59] *** Joins: Kostic (marko@C4D4CB5C.58A2DD99.2168A69F.IP)
[11:39:27] *** Quits: mib_0ytsmk (Mibbit@A05ED603.7179CDFD.EEBBAFDA.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:46:16] *** Joins: Debloper (debloper@moz-BD0CADEE.redhat.com)
[11:53:03] *** Joins: dbaron (dbaron@moz-C566053C.dsl.dynamic.sonic.net)
[12:10:01] *** Joins: harth (heather@moz-A0276582.hsd1.ca.comcast.net)
[12:11:51] *** Quits: harth (heather@moz-A0276582.hsd1.ca.comcast.net) (Ping timeout)
[12:13:30] *** Quits: eagen (eagen@8737942B.7A99C13A.B7961A98.IP) (Ping timeout)
[12:13:52] *** Joins: eagen (eagen@8737942B.7A99C13A.B7961A98.IP)
[12:25:58] *** Quits: eagen (eagen@8737942B.7A99C13A.B7961A98.IP) (Client exited)
[12:27:46] *** Quits: Kostic (marko@C4D4CB5C.58A2DD99.2168A69F.IP) (Client exited)
[12:38:00] *** AutomatedTester|away is now known as AutomatedTester
[12:44:34] *** Joins: eagen (eagen@8737942B.7A99C13A.B7961A98.IP)
[12:45:49] *** Quits: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net) (Quit: tikue_)
[12:58:10] *** Quits: Debloper (debloper@moz-BD0CADEE.redhat.com) (Quit: Leaving.)
[12:59:13] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[13:06:47] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[13:06:47] <ghservo> 01[13servo01] 15bors-servo 04force-pushed 06auto from 142223eac to 14849fba2: 02http://git.io/c8GovQ
[13:06:47] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[13:06:49] *** Joins: ghservo (ghservo@79968228.6A2AE50.F3114085.IP)
[13:06:49] <ghservo> 01[13servo01] 15bors-servo pushed 4 new commits to 06auto: 02http://git.io/8JZhAw
[13:06:49] <ghservo> 13servo/06auto 144d719df 15Junyoung Cho: Implement the rest of 'text-decoration' property.
[13:06:49] <ghservo> 13servo/06auto 147436c10 15Junyoung Cho: Fix android/font.rs. Add an issue in macos/font.rs
[13:06:49] <ghservo> 13servo/06auto 14d4ab2fc 15Junyoung Cho: Fix error: declare a module.
[13:06:51] *** Parts: ghservo (ghservo@79968228.6A2AE50.F3114085.IP) ()
[13:16:29] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[13:30:44] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[13:30:44] <ghservo> 01[13servo01] 15bors-servo merged 06auto into 06master: 02http://git.io/8JZhAw
[13:30:44] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[13:35:29] *** Joins: Kostic (marko@C4D4CB5C.58A2DD99.2168A69F.IP)
[13:42:48] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[13:46:18] *** Joins: lmandel (lmandel@13F2CEC5.7672369.D8E68FF6.IP)
[13:51:26] *** Joins: ahal (ahal@FCCEA34F.7672369.D8E68FF6.IP)
[13:57:36] *** Joins: dzbarsky (Adium@moz-D43C9197.wireless-pennnet.upenn.edu)
[13:58:39] *** Joins: yong (chatzilla@89F941DF.4E87ADC2.263D9828.IP)
[14:01:31] *** Quits: victorporof (victorporo@6C2683EC.42B20A5F.6A4F8DA2.IP) (Quit: victorporof)
[14:12:06] *** Joins: dzbarsky1 (Adium@moz-D43C9197.wireless-pennnet.upenn.edu)
[14:12:07] *** Quits: dzbarsky (Adium@moz-D43C9197.wireless-pennnet.upenn.edu) (Connection reset by peer)
[14:22:21] *** Quits: Kostic (marko@C4D4CB5C.58A2DD99.2168A69F.IP) (Ping timeout)
[14:22:27] *** Quits: dzbarsky1 (Adium@moz-D43C9197.wireless-pennnet.upenn.edu) (Quit: Leaving.)
[14:24:17] *** Joins: dzbarsky (Adium@moz-D43C9197.wireless-pennnet.upenn.edu)
[14:32:40] *** Joins: Kostic (marko@C4D4CB5C.58A2DD99.2168A69F.IP)
[14:35:42] *** Joins: victorporof (victorporo@CFB98BB1.77B8163B.2B3D3D4.IP)
[14:38:46] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[15:00:31] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[15:06:45] *** Joins: jdm (jdm@92FB48CA.8B5E9DF.9A8C35B4.IP)
[15:06:45] *** ChanServ sets mode: +o jdm
[15:28:14] *** Joins: eholk (eric@moz-F70D5031.hsd1.in.comcast.net)
[15:47:05] *** Quits: dzbarsky (Adium@moz-D43C9197.wireless-pennnet.upenn.edu) (Quit: Leaving.)
[15:50:08] <jack> Starting the week with an LLVM build...
[15:51:07] <jdm> long builds times: part of a complete breakfast
[15:51:55] <jdm> jack: I've got a fix that should have made all dom manipulations occur outside of layout, but it itermittantly doesn't work ;_;
[15:52:59] <jack> you implemented cow dom, or just block on layout finishing?
[15:54:20] <jdm> the latter
[15:55:14] *** Joins: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca)
[15:56:15] <jack> is something else modifying layout?
[15:56:18] <jack> er, the DOM nodes
[15:56:45] <jdm> I can't figure out what would
[15:57:23] <jdm> this happens in a test for setting textContent, when we remove the old text node and append a new one
[15:57:37] <jdm> each operation triggers a reflow, but each operation also blocks on any pending layout operation
[15:57:54] <jdm> and we always block on the most recent, so any queue shouldn't be a problem
[16:00:00] <jack> and it only fails sometimes?
[16:02:24] <jdm> yes
[16:03:45] *** Quits: dbaron (dbaron@moz-C566053C.dsl.dynamic.sonic.net) (Ping timeout)
[16:05:19] *** Joins: dzbarsky (Adium@moz-5BE303AE.wlan.wharton.upenn.edu)
[16:05:52] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[16:07:57] *** Quits: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca) (Ping timeout)
[16:08:11] <jack> do you know what specifically is changing?
[16:10:27] *** AutomatedTester is now known as AutomatedTester|away
[16:25:35] *** Joins: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca)
[16:26:16] *** Quits: txdv (quassel@966F3542.3BA477DA.14C26596.IP) (Ping timeout)
[16:27:10] <jdm> no, just that there's an unexpected inherited style encountered
[16:32:43] <jdm> jack: do you know if reflow requests are triggered by anyone besides the script task?
[16:32:58] <jdm> kmc: you may also know the answer
[16:33:14] *** Joins: txdv (quassel@966F3542.3BA477DA.14C26596.IP)
[16:35:33] <jack> the renderers have a pointer to this stuff via the displaylist right?
[16:35:34] *** Joins: bholley (anonymous@moz-BBE3ABD.mv.mozilla.com)
[16:35:36] <jack> but i dont' think they touch it
[16:36:01] * jdm greps for ReflowMsg
[17:05:00] <jdm> curses, my assertions do nothing
[17:05:13] <jdm> task <unnamed> failed at 'unexpected 'inherit' value in complete style', /home/jdm/sdb/servo/src/support/css/rust-css/complete.rs:267
[17:05:38] *** Quits: eholk (eric@moz-F70D5031.hsd1.in.comcast.net) (Quit: Konversation terminated!)
[17:07:23] *** Joins: Jayflux (Jason@moz-A35EA4AB.ppp.as43234.net)
[17:07:31] *** Joins: dbaron (dbaron@moz-BE33DA21.fw1.sfo1.mozilla.net)
[17:08:36] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[17:08:36] *** ChanServ sets mode: +o brson
[17:18:51] *** Quits: dzbarsky (Adium@moz-5BE303AE.wlan.wharton.upenn.edu) (Quit: Leaving.)
[17:19:24] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[17:19:24] *** ChanServ sets mode: +o pcwalton
[17:20:18] <pcwalton> jack: kmc: nearly got the cpu rendering patch done, just some crashes to sort out
[17:20:21] <pcwalton> working on it now
[17:22:44] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[17:23:14] *** Joins: dzbarsky (Adium@moz-5BE303AE.wlan.wharton.upenn.edu)
[17:25:00] <jdm> bleah, I have no idea what I'm doing searching through this css code
[17:25:12] <jdm> maybe we're not restyling properly or something
[17:25:48] *** Joins: harth (heather@moz-A0276582.hsd1.ca.comcast.net)
[17:26:33] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[17:27:09] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[17:27:09] *** ChanServ sets mode: +o brson
[17:27:33] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[17:28:20] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[17:28:20] <ghservo> [13servo] 15jdm opened issue #943: Servo doesn't finish  02http://git.io/l9zRiA
[17:28:20] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[17:29:34] <pcwalton> how do I compile servo with debug info?
[17:29:56] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[17:30:40] <jdm> pcwalton: reconfigure; I think we do it automatically
[17:32:04] <lbergstrom> yes, I added it while I was out last week, after I found out the last rust build we picked up no longer died when it was turned on 
[17:32:19] <jdm> oh! wow, I was totally barking up the wrong tree
[17:32:34] <jdm> servo's failing for me while loading the failure page because something failed :)
[17:32:55] <jdm> no wait, that may be a lie
[17:33:11] <pcwalton> I hope so because I can't parse that sentence
[17:33:17] <lbergstrom> you should still see the other task failures before getting the failure page
[17:33:34] <jdm> lbergstrom: yeah, I just saw that. however, the same failure that kills the original page kills the failure page ;_;
[17:33:35] <lbergstrom> if you're getting the failure page without seeing task failures (and not directly browsing to it), something is horribly wrong and it's probably my fault
[17:33:51] <jdm> well, duplicate failure
[17:33:57] <jdm> not the same one, they're not linked
[17:34:28] <lbergstrom> jdm: ick. hopefully not an infinite tower of failure? I should make sure we handle that and blank the iframe or something in that case
[17:35:50] *** Quits: dzbarsky (Adium@moz-5BE303AE.wlan.wharton.upenn.edu) (Ping timeout)
[17:36:06] *** Joins: dzbarsky (Adium@moz-5BE303AE.wlan.wharton.upenn.edu)
[17:36:20] *** Quits: dzbarsky (Adium@moz-5BE303AE.wlan.wharton.upenn.edu) (Max SendQ exceeded)
[17:36:28] *** Joins: dzbarsky (Adium@moz-5BE303AE.wlan.wharton.upenn.edu)
[17:43:12] *** Quits: Kostic (marko@C4D4CB5C.58A2DD99.2168A69F.IP) (Ping timeout)
[17:43:35] *** Joins: gandi (zbraniecki@moz-BE33DA21.fw1.sfo1.mozilla.net)
[17:44:12] *** Joins: Kostic (marko@C4D4CB5C.58A2DD99.2168A69F.IP)
[17:44:31] *** Joins: victorporof_ (victorporo@CFB98BB1.77B8163B.2B3D3D4.IP)
[17:45:07] *** Quits: victorporof (victorporo@CFB98BB1.77B8163B.2B3D3D4.IP) (Ping timeout)
[17:47:02] *** Quits: gandi (zbraniecki@moz-BE33DA21.fw1.sfo1.mozilla.net) (Ping timeout)
[17:52:15] *** Joins: gandi (zbraniecki@moz-BE33DA21.fw1.sfo1.mozilla.net)
[17:56:03] *** Joins: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP)
[17:59:32] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[18:00:51] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[18:01:15] <jdm> jack: do you think we can turn on reftests now?
[18:04:05] <jack> are linux ones still failing on exit?
[18:05:48] *** Joins: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net)
[18:08:33] * jdm hasn't checked
[18:08:33] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[18:08:53] <jack> jdm: it's worth a shot. we could also perhaps turn off exit status checking.
[18:09:15] <jdm> it would be nice to avoid as many pre-summit regressions as possible
[18:12:54] <jack> jdm: agreed
[18:13:16] <cmr> What's the summit?
[18:13:44] <jdm> cmr: https://wiki.mozilla.org/Summit2013
[18:14:23] <cmr> Oh!
[18:19:06] *** Joins: tjc (tjc@moz-BBE3ABD.mv.mozilla.com)
[18:19:06] *** ChanServ sets mode: +o tjc
[18:20:11] <jdm> huh, we don't even look at the newly added node before we freak out now
[18:20:13] <jdm> this is weird
[18:21:12] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[18:32:18] <jack> tjc: ping
[18:32:45] <tjc> jack: pong
[18:35:08] <jack> tjc: so i pulled out dtrace to figure out what it's doing when building rust-core-text
[18:35:24] <jack> to recap, it produces the output of librust-core-text but not the dependencies
[18:35:32] <jack> and trace shows it doesn' twrite any other files, or even read them.
[18:35:35] <tjc> hmm
[18:36:16] <jack> actually reads aren't represented in this output i guess
[18:36:33] <jack> i can't figure out where it's getting the other dylibs from
[18:37:24] <tjc> jack: remind me -- can I try to reproduce this with a checked-in version of the package?
[18:37:40] *** Quits: harth (heather@moz-A0276582.hsd1.ca.comcast.net) (Client exited)
[18:37:51] <jack> tjc: no. i'll push those changes now so you can try to reproduce.
[18:38:00] *** Joins: harth (heather@moz-A0276582.hsd1.ca.comcast.net)
[18:38:25] <tjc> thx
[18:38:46] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[18:39:50] *** Quits: harth (heather@moz-A0276582.hsd1.ca.comcast.net) (Ping timeout)
[18:40:38] *** Quits: victorporof_ (victorporo@CFB98BB1.77B8163B.2B3D3D4.IP) (Ping timeout)
[18:46:05] *** Quits: Kostic (marko@C4D4CB5C.58A2DD99.2168A69F.IP) (Ping timeout)
[18:47:19] <jack> tjc: metajack/rust-core-foundation, metajack/rust-core-graphics, metajack/rust-core-text all on branch rustpkg
[18:47:47] <tjc> jack: ok, will try it
[18:49:02] *** Quits: dzbarsky (Adium@moz-5BE303AE.wlan.wharton.upenn.edu) (Quit: Leaving.)
[18:52:05] <jack> dtruss doesn't show it opening the files. /me cleans first
[18:53:15] *** Joins: victorporof (victorporo@CFB98BB1.77B8163B.2B3D3D4.IP)
[18:53:44] <jack> wait. dtruss isn't getting the RUST_PATH
[18:53:55] *** Joins: victorporof_ (victorporo@CFB98BB1.77B8163B.2B3D3D4.IP)
[18:53:57] <tjc> and you have a RUST_PATH set?
[18:54:02] <tjc> well, I guess it doesn't matter either way
[18:54:37] *** Quits: victorporof (victorporo@CFB98BB1.77B8163B.2B3D3D4.IP) (Ping timeout)
[18:56:33] <jack> yes. i see it stat64ing all the rust-core-foundation files
[18:56:34] <pcwalton> jack: so the old CPU rendering patch actually had a non-Azure GL context creation path
[18:56:39] *** Joins: valenting (Thunderbir@moz-9C32009D.residential.rdsnet.ro)
[18:56:41] <pcwalton> which maybe isn't the best thing
[18:56:55] <pcwalton> do you think it'd be better to use Skia to create the GL context even in CPU rendering?
[18:56:59] <pcwalton> Skia-GL that is
[18:58:36] *** AutomatedTester|away is now known as AutomatedTester
[18:59:08] <jack> pcwalton: this is just for storing a pointer context for the texture right?
[18:59:32] <pcwalton> it's to set up the context for the compositor to use and for the renderer to perform texture upload with
[18:59:33] <jack> i dont' think the context matters. the bit that's important in skia-gl is the way the FBO is set up
[18:59:34] <pcwalton> I'm gonna try it
[18:59:41] <pcwalton> well, you have to have *some* context
[18:59:43] <pcwalton> otherwise it crashes :)
[18:59:44] <jack> but just uploading a texture doesn't much matter
[18:59:54] <jack> so any context is as good as any other
[19:00:26] *** Joins: dzbarsky (Adium@moz-C67024D7.wlan.seas.upenn.edu)
[19:00:58] <jack> tjc: so best as i can tell, it doesn't ever read core-foundation stuff.
[19:01:33] <tjc> jack: weird. as soon as I finish this other thing I'll try building it
[19:02:32] <pcwalton> jack: how does the first AzGLContext get created?
[19:02:37] <pcwalton> oh wait, GLFW creates it
[19:08:10] <jack> It seems to check the rust-core-graphics dir, but never reads anything out of it.
[19:10:35] <jack> I have this feeling you are going to discover I'm doing something exceedlying stupid and it's driving me crazy what it could be.
[19:10:49] <jack> My only other theory is that rustc is happily compiling things without reading the dependencies.
[19:12:12] <tjc> jack: hmm, so far I'm getting a compile error that it can't find the core_foundation package
[19:16:04] <tjc> oh, probably I need to set my RUST_PATH
[19:16:51] <jack> ok. i had dtruss follow children, and now i see it reading all the core-foundation stuff. but it never produces any output from it and it never reads core-graphics at all.
[19:17:02] <jack> but it does end up writing out a librust-core-text....dylib
[19:17:10] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[19:17:25] <tjc> jack: so far i have it producing both librust-core-foundation‚Ä¶ and librust-core-graphics‚Ä¶ in ./lib/x86_64-apple-darwin
[19:17:34] <tjc> (I made a workspace that I checked all three packages out into, and put it in my RUST_PATH)
[19:18:03] <jack> for me, they are in teh normal servo hierarchy and i run rustpkg like this:
[19:18:13] *** victorporof_ is now known as victorporof
[19:18:26] <jack> $ RUST_PATH=~/src/servo/build/workspace:~/src/servo/src/platform/macos/rust-core-foundation:~/src/servo/src/platform/macos/rust-core-graphics:~/src/servo/src/platform/macos/rust-core-text ~/src/servo/build/x86_64-apple-darwin/src/compiler/rust/x86_64-apple-darwin/stage2/bin/rustpkg --rust-path-hack install rust-core-text
[19:18:26] <jack>  
[19:19:02] <jack> i am assuming that if i install foo and foo depends on bar, then bar is also installed
[19:19:28] <tjc> yes, that should happen
[19:20:10] <jack> that builds librust-core-text.dylib and i dont get any librust-core-foundation or librust-core-graphics
[19:20:23] <jack> if i build and install those manually, they appear as i expect
[19:20:24] <tjc> I'm still getting an error message about not finding core_foundation, which is weird, because core_foundation is just the "extern mod" name and it should be searching for rust-core-foundation
[19:24:36] *** Quits: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: jet)
[19:25:01] <jack> i don't get any errors
[19:27:12] <tjc> jack: what directory are you in when you run that command?
[19:28:45] <jack> ~/src/servo/build
[19:28:52] <jack> i htink i've tried it from other places too
[19:28:57] <jack> but not sure about that.
[19:29:51] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[19:35:25] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[19:35:42] *** Quits: valenting (Thunderbir@moz-9C32009D.residential.rdsnet.ro) (Ping timeout)
[19:35:55] <jdm> do we need to do anything special to run under valgrind?
[19:36:09] <jdm> there are so many glfw things by default
[19:36:23] <kmc> I put some notes on https://github.com/mozilla/servo/wiki/Debugging
[19:36:34] <jdm> oh look, so you did
[19:36:56] *** Quits: Jayflux (Jason@moz-A35EA4AB.ppp.as43234.net) (Ping timeout)
[19:37:25] <tjc> jack: any chance you could rebuild with --enable-debug and paste the results of running RUST_LOG=rustpkg ‚Ä¶ ?
[19:37:36] <tjc> I know it's a pain, but I'm kind of puzzled and haven't been able to reproduce the same outcome on my machine
[19:37:37] <jdm> kmc: the suppressions file didn't survive
[19:37:40] <jdm> do you have a copy?
[19:37:47] <jdm> it should go in a gist, not pastebin
[19:38:50] <jack> tjc: i can do that in ~2hrs.
[19:39:13] <tjc> jack: ok. in the meantime I'll see what I can do
[19:39:42] *** Joins: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net)
[19:42:42] <kmc> jdm: sec
[19:43:22] *** Quits: jakub (jakub@D9037AF.8AB8D9CD.806C54C8.IP) (Quit: Lost terminal)
[19:44:12] <kmc> https://gist.github.com/kmcallister/6585550 & updated the wiki
[19:44:13] <jdm> interesting, I consistently get a null deref inside parse_html under valgrind
[19:44:14] *** Joins: spyr (sp@moz-86F86509.home.otenet.gr)
[19:44:33] <jdm> ==25674== Process terminating with default action of signal 11 (SIGSEGV)
[19:44:33] <jdm> ==25674==  Access not within mapped region at address 0x30
[19:44:34] <jdm> ==25674==    at 0x9B55B53: huge_salloc (huge.c:232)
[19:44:34] <jdm> ==25674==    by 0x9B428BF: realloc (jemalloc_internal.h:866)
[19:44:34] <jdm> ==25674==    by 0x8D5CC53: hubbub_treebuilder_destroy (in /run/media/jdm/ssd/servo/build/x86_64-unknown-linux-gnu/src/support/hubbub/rust-hubbub/libhubbub-15fb3a718ea23983-0.1.so)
[19:44:37] <jdm> ==25674==    by 0x8D521A6: hubbub_parser_destroy (in /run/media/jdm/ssd/servo/build/x86_64-unknown-linux-gnu/src/support/hubbub/rust-hubbub/libhubbub-15fb3a718ea23983-0.1.so)
[19:44:39] <jdm> ==25674==    by 0x93CC83D: hubbub..hubbub..Parser::glue_drop_33419::_c372634798e3659c (<std-macros>:36)
[19:44:42] <jdm> ==25674==    by 0x93C7B93: html::hubbub_html_parser::parse_html::_fc63ffcc341176::v0.1 (hubbub_html_parser.rs:584)
[19:48:48] *** Quits: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP) (Ping timeout)
[19:50:02] <jdm> oh my, valgrind is freaking out while doing layout
[19:54:22] *** Joins: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP)
[19:56:28] <lbergstrom> is anybody familiar with the compositor / quad tree stuff? I've tracked down the "sometimes invisble iframes" issue, but am not sure of the right fix
[19:56:47] <lbergstrom> basically, we're still working in page coordinates when calling quadtree::get_tile_rects, but everything there is in iframe-local coords
[19:57:21] <jdm> pcwalton: ^ ?
[19:57:22] <lbergstrom> so when there's a lot of content, we are more likely to render the iframe, since it's still "colliding" in page coords. but if there isn't much content, we don't show anything because it assumes all of the iframe's content is off-page
[20:00:02] *** Joins: valenting (Thunderbir@moz-9C32009D.residential.rdsnet.ro)
[20:05:38] *** Joins: Kostic (marko@moz-C714EF03.mbb.telenor.rs)
[20:09:25] <lbergstrom> nevermind; I figured it out (finally!). who worked on that code originally? Is there somebody I should @ it for review?
[20:09:37] <lbergstrom> don't know whether to be happy or sad about three days of hacking for a one-line fix
[20:11:09] <jdm> haha
[20:11:27] <jdm> lbergstrom: that was eschweic, I believe
[20:11:27] <lbergstrom> or, I guess, more appriately, is eschweic still around? I've seen a comment or two from him on github, but would hate to distract him from school/whatever he's up to now
[20:11:36] *** Quits: dzbarsky (Adium@moz-C67024D7.wlan.seas.upenn.edu) (Quit: Leaving.)
[20:11:52] <lbergstrom> jdm: thanks for not saying "let me github-log that for you" :-)
[20:12:05] <jdm> it might be ok to draw him in for a one line fix
[20:12:16] <jdm> lure them back gently
[20:13:48] <lbergstrom> I'm not above bribery. Maybe I should ask azita about finding a designer to make a Tom Servo-inspired logo sticker‚Ä¶
[20:14:47] <tjc> lbergstrom: well, there's the designer who made the T-shirts, maybe they would also make a sticker :-)
[20:14:58] <cmr> Ther are servo t-shirts?
[20:15:02] <tjc> the Rust T-shirts, I mean
[20:15:04] <cmr> Oh
[20:15:09] <lbergstrom> cmr: I had the same reaction :-)
[20:18:31] <kmc> "three days of hacking for a one-line fix" is par for the course in my experience with Servo so far... not that I'm complaining; I think it comes with the territory of the exciting things we're trying to do
[20:18:33] *** Joins: Jayflux (Jason@moz-F0EB1DF7.as13285.net)
[20:19:05] *** Quits: ahal (ahal@FCCEA34F.7672369.D8E68FF6.IP) (Ping timeout)
[20:22:19] <lbergstrom> kmc: speaking of, good luck with the last shutdown bug :-)
[20:22:38] <kmc> thanks :)
[20:23:28] <kmc> waiting on pcwalton's CPU render patches atm, since that'll touch the layer tree
[20:23:38] <kmc> going to try to pick off some smaller issues while I wait
[20:23:43] <kmc> is there a list of stuff that remains to be demo-ready?
[20:24:22] <jdm> kmc: making dom modifications not kill everything
[20:24:32] <jdm> I'm working on that
[20:24:43] <jdm> trying to figure out whether this intermittent problem I see is symptomatic or not
[20:25:08] <lbergstrom> kmc: and actually making a demo that looks like we drew on the board (instead of just my hacked-together summit.html page that I used to test iframe rendering)
[20:25:22] <jdm> heh, true
[20:28:08] *** Joins: dzbarsky (Adium@moz-D2EAD337.wireless-pennnet.upenn.edu)
[20:34:00] *** Quits: valenting (Thunderbir@moz-9C32009D.residential.rdsnet.ro) (Ping timeout)
[20:36:33] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[20:39:12] *** Quits: Kostic (marko@moz-C714EF03.mbb.telenor.rs) (Ping timeout)
[20:39:25] *** Joins: Jayflux_ (Jason@moz-F0EB1DF7.as13285.net)
[20:39:46] *** Quits: dbaron (dbaron@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: 8403864 bytes have been tenured, next gc will be global.)
[20:39:50] *** Joins: ahal (ahal@13F2CEC5.7672369.D8E68FF6.IP)
[20:39:54] *** Quits: Jayflux (Jason@moz-F0EB1DF7.as13285.net) (Ping timeout)
[20:40:09] *** Joins: dbaron (dbaron@moz-BE33DA21.fw1.sfo1.mozilla.net)
[20:42:32] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[20:52:13] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[20:57:50] *** Quits: ahal (ahal@13F2CEC5.7672369.D8E68FF6.IP) (Connection reset by peer)
[20:58:49] *** Joins: victorporof_ (victorporo@CFB98BB1.77B8163B.2B3D3D4.IP)
[20:59:37] *** Quits: victorporof (victorporo@CFB98BB1.77B8163B.2B3D3D4.IP) (Ping timeout)
[21:01:43] *** Quits: victorporof_ (victorporo@CFB98BB1.77B8163B.2B3D3D4.IP) (Quit: victorporof_)
[21:02:55] *** Joins: Kostic (marko@moz-C714EF03.mbb.telenor.rs)
[21:14:12] *** Quits: azakai (alon@moz-BBE3ABD.mv.mozilla.com) (Input/output error)
[21:14:21] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[21:21:28] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[21:21:56] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[21:23:36] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[21:25:11] *** Quits: spyr (sp@moz-86F86509.home.otenet.gr) (Quit: ŒëœÄŒøœáœéœÅŒ∑œÉŒµ)
[21:25:25] *** Quits: dbaron (dbaron@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: 8403864 bytes have been tenured, next gc will be global.)
[21:25:50] *** Joins: dbaron (dbaron@moz-BE33DA21.fw1.sfo1.mozilla.net)
[21:27:18] *** Joins: eholk (eric@moz-F70D5031.hsd1.in.comcast.net)
[21:32:25] *** Quits: Kostic (marko@moz-C714EF03.mbb.telenor.rs) (Quit: Kostic)
[21:38:53] <pcwalton> profiling servo is funny
[21:38:59] <pcwalton> we spend 10% of our time drawing the progress throbber
[21:39:03] <pcwalton> maybe we shouldn't update that so often ;)
[21:40:46] *** Quits: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: jet)
[21:42:35] <jdm> haha
[21:43:49] *** Quits: tjc (tjc@moz-BBE3ABD.mv.mozilla.com) (Quit: zzzzzzzzzz)
[21:44:25] <kmc> yeah that generates a lot of X traffic as well
[21:44:28] <kmc> noticed that in xtrace
[21:45:36] *** Joins: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net)
[21:46:13] <kmc> our Makefile is quite metaprogrammed
[21:46:45] *** Quits: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP) (Client exited)
[21:47:01] <jdm> avoid looking at it directly
[21:48:21] *** Quits: dzbarsky (Adium@moz-D2EAD337.wireless-pennnet.upenn.edu) (Quit: Leaving.)
[21:48:30] <kmc> too late
[21:48:36] *** Joins: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP)
[21:48:39] *** Joins: dzbarsky (Adium@moz-D2EAD337.wireless-pennnet.upenn.edu)
[21:49:37] *** Joins: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP)
[21:49:37] <ghservo> [13servo] 15larsbergstrom opened pull request #944: Fix the case of the invisible iframes (06master...06iframe_display)  02http://git.io/R7HeMw
[21:49:37] *** Parts: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP) ()
[21:50:12] *** Quits: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP) (Client exited)
[21:50:38] *** Joins: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP)
[22:00:37] *** Joins: tikue_ (tkuehn@37EC8A1F.D038900B.689607DE.IP)
[22:01:02] <tikue_> lbergstrom: nice work detective :)
[22:02:53] <lbergstrom> tikue_: thanks :-) 
[22:05:20] *** Quits: tikue_ (tkuehn@37EC8A1F.D038900B.689607DE.IP) (Quit: tikue_)
[22:06:28] <jack> tjc: any luck. i'm back now
[22:07:31] *** Joins: tikue_ (tkuehn@37EC8A1F.D038900B.689607DE.IP)
[22:08:20] <jack> s/./?/ would probably help there.
[22:08:28] * jack figures out why rustpkg has no debugging
[22:09:15] <jack> kmc: this is not a very fun task, but you could look into the skia-gl memory leak
[22:09:28] <jack> i don't think i'm going to get to it today or tomorrow.
[22:09:30] <kmc> lbergstrom: nice, let me know if eschweic can't be found and you'd like me to review instead
[22:09:42] <kmc> jack: okay, does that have a ticket?
[22:10:01] <jack> kmc: i don't think so yet. pcwalton found it during the team meetup
[22:10:21] <jack> lbergstrom: great job tracking that down.
[22:10:49] *** Quits: tikue_ (tkuehn@37EC8A1F.D038900B.689607DE.IP) (Quit: tikue_)
[22:10:56] <lbergstrom> kmc: thanks for the offer! if you're comfortable with that part of the code, that would be great. I was not and spent a long time puzzling the coordinate systems and tracking the messages ping/pong'ing between the render task and compositor
[22:11:28] <lbergstrom> jack: thanks! I have about 10 pages of random notes on how all that stuff is glued together in for when we have our next feature work in it :-)
[22:12:04] <jack> lbergstrom: are the coordinate systems at least commented in that code?
[22:12:11] <jack> it might make sense to do that
[22:13:21] <lbergstrom> jack: I couldn't find anything. if it is, it's scattered. I was planning to type up a small doc and put it somewhere in the tree on how all of that stuff is tied together, what the sequence of messages is, and how the various coordinates are laid out
[22:13:33] <lbergstrom> is there a place where we want those? the wiki, or a page in the source tree?
[22:13:53] <kmc> lbergstrom: I don't really have knowledge of the coordinate systems so I'll wait and see if eschweic shows up :)
[22:13:57] <jack> the wiki is fine. though it woudl be good to annotate the source where possible.
[22:14:17] <lbergstrom> jack: will do
[22:15:28] *** Joins: tikue_ (tkuehn@37EC8A1F.D038900B.689607DE.IP)
[22:15:52] <lbergstrom> kmc: I'm happy to sit on it for a day or two to get him to confirm and then I'll document the structures and messages a bit more so that it's easier to understand how it fits together. once he tells me if I've understood it correctly or not...
[22:16:30] <jack> brson: are you a committer on graydon/bors?
[22:21:09] <kmc> ok
[22:22:11] <brson> jack: yes
[22:22:59] <kmc> jack: how do I reproduce the memory leak?
[22:25:06] <jack> kmc: run the longcat or similar demo that causes lots of relayout
[22:25:37] <jack> that seemed to do bad things to the main window manager for pcwalton due to gpu emmory getting consumed rapidly
[22:25:48] <kmc> okay
[22:27:39] <jack> brson: could you r? bhearsum's bors PR?
[22:28:56] <jdm> valgrind error from layout on a totally blank page
[22:28:56] <jdm> fun
[22:29:41] <kmc> damn, I really thought we were close to memory safe now
[22:30:55] <jdm> of course, valgrind is pointing at code that is supposedly not run
[22:31:22] <jdm> that could just be weird debug symbols
[22:31:33] * jdm hates not being able to trust his tools
[22:32:16] <kmc> yeah :/
[22:32:25] <kmc> that's how I'm feeling about makefile hacking atm
[22:32:34] <kmc> I can't really test my changes without doing a clean build which takes 20 min :/
[22:32:38] <jdm> erf
[22:32:43] <brson> jack: done
[22:32:58] <pcwalton> jack: r? https://github.com/mozilla/servo/pull/553
[22:33:00] <jack> brson: thanks
[22:38:05] *** Joins: harth_ (heather@moz-A0276582.hsd1.ca.comcast.net)
[22:39:50] *** Quits: harth_ (heather@moz-A0276582.hsd1.ca.comcast.net) (Ping timeout)
[22:42:11] *** Quits: lmandel (lmandel@13F2CEC5.7672369.D8E68FF6.IP) (Quit: lmandel)
[22:45:43] <jack> pcwalton: i don't quite understand why you stuff a blank texture into an Arc, only to replace it later.
[22:45:53] <jack> maybe I should view the whole file for context
[22:45:54] <pcwalton> it was simpler that way
[22:48:04] *** Quits: Jayflux_ (Jason@moz-F0EB1DF7.as13285.net) (Quit: Leaving)
[22:49:04] *** Quits: azakai (alon@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[22:53:36] <jdm> what shall we discuss in today's meeting, I wonder?
[22:56:40] <jack> some agenda topics for seoul. we should talk about the demo plan too.
[23:07:29] *** Joins: victorporof (victorporo@CFB98BB1.77B8163B.2B3D3D4.IP)
[23:10:11] *** Quits: eholk (eric@moz-F70D5031.hsd1.in.comcast.net) (Quit: Konversation terminated!)
[23:16:25] *** Joins: eholk (eholk@moz-F70D5031.hsd1.in.comcast.net)
[23:16:34] *** Joins: victorporof_ (victorporo@CFB98BB1.77B8163B.2B3D3D4.IP)
[23:16:50] <jdm> riddle me this
[23:17:02] <jdm> we create all of the original html nodes as @Foo in the parser task
[23:17:17] *** Quits: victorporof (victorporo@CFB98BB1.77B8163B.2B3D3D4.IP) (Ping timeout)
[23:17:21] <jdm> and then we stash those away and let the script task deal with them from then on
[23:17:34] <jdm> is this just not blowing up by accident?
[23:18:30] *** Quits: dzbarsky (Adium@moz-D2EAD337.wireless-pennnet.upenn.edu) (Quit: Leaving.)
[23:23:13] <jack> Ok. I cannot seem to compile rust with debugging.
[23:23:35] <jack> Can someone please explain it to me like I'm a PHP developer?
[23:24:14] <cmr> jack: First off, what makes you think you don't have debugging?
[23:24:35] <jack> I assume rustc needs to compile rustpkg with --cfg debug or something right?
[23:24:47] <cmr> If you want debug! logging, yes.
[23:24:50] *** Joins: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP)
[23:24:50] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/J7pIxw
[23:24:50] *** Parts: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP) ()
[23:24:51] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[23:24:51] <ghservo> 01[13servo01] 15bors-servo pushed 4 new commits to 06auto: 02http://git.io/hdcMTQ
[23:24:51] <ghservo> 13servo/06auto 14ce96a5b 15Patrick Walton: main: Implement pinch zooming on Mac
[23:24:51] <ghservo> 13servo/06auto 14b500671 15Patrick Walton: main: Share textures, not draw targets, to reduce jank.
[23:24:51] <ghservo> 13servo/06auto 14a0a7b3d 15Patrick Walton: gfx: Implement CPU painting with texture upload on the painting side.
[23:24:53] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[23:25:04] <jack> cmr: i cannot make it do that.
[23:25:17] <jack> It appears to be configured with --enable-debug
[23:25:26] <jack> but that appears not to cause --cfg debug to show up.
[23:25:37] <jack> (i'm wathcing VERBOSE=1 make output)
[23:25:49] <cmr> Huh, perhaps the makefile is broken :\
[23:26:21] <jack> Do rust devs not need debug logging? or did you switch it all to info! :)
[23:27:05] <jack> pcwalton: did your submodule updates land already? I don't remember seeing those.
[23:27:18] <cmr> rustc gets debug logging, I haven't tried debugging rustpkg since the --cfg debug change landed.
[23:27:29] <cmr> jack: You could build rustpkg yourself, with the built compiler.
[23:27:32] <pcwalton> jack: I can land them if you would like
[23:27:35] *** Quits: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP) (Ping timeout)
[23:28:10] *** Quits: bholley (anonymous@moz-BBE3ABD.mv.mozilla.com) (Quit: bholley)
[23:28:20] <jack> Do I need to disable-optimize to get it?
[23:28:32] <cmr> No
[23:30:05] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[23:30:15] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[23:30:25] <jack> I don't even see --cfg debug on rustc.
[23:30:38] <cmr> :\
[23:30:49] <cmr> what does `RUST_LOG=::help rustc` say?
[23:31:29] <jack> cmr: https://gist.github.com/metajack/6588082
[23:32:11] <cmr> That's missing a significant number of modules that have debugging.
[23:32:14] <cmr> What rust version?
[23:32:19] <cmr> (hash)
[23:32:41] <jack> 2562f48
[23:33:16] <cmr> Huh, that's really new. Super weird :\
[23:33:36] <jdm> do I dare try the conversion to RcMut to see if my bizarro layout problems are solved?
[23:33:50] *** Joins: bholley (anonymous@moz-BBE3ABD.mv.mozilla.com)
[23:35:42] <jdm>  /** Task-local reference counted smart pointers
[23:35:43] <jdm> :(
[23:36:19] <jdm> maybe the parser needs to make a fake, sendable DOM tree :<
[23:36:41] <pcwalton> jack: how should I do this? should I just push my submodule changes?
[23:36:50] <pcwalton> and update the pointer with my PR?
[23:39:02] *** Quits: dbaron (dbaron@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: 8403864 bytes have been tenured, next gc will be global.)
[23:39:48] <jdm> wait, it looks like parsing actually occurs in the script task
[23:40:09] <jdm> in which case my fears are baseless
[23:42:18] <lbergstrom> it's never baseless to fear the use of @
[23:44:45] <kmc> agreed!
[23:46:15] *** Quits: bholley (anonymous@moz-BBE3ABD.mv.mozilla.com) (Quit: bholley)
[23:46:19] <kmc> I mean, the DOM nodes still get seen by layout, so it's still sketchy
[23:46:39] <kmc> it works out because at the moment, it's always script that deletes the final reference (via SpiderMonkey finalizer)
[23:47:02] <kmc> that's what I concluded last time I looked at this, but I'm not 100% convinced :)
[23:47:13] *** Joins: tjc (tjc@moz-BBE3ABD.mv.mozilla.com)
[23:47:13] *** ChanServ sets mode: +o tjc
[23:48:48] *** victorporof_ is now known as victorporof
[23:53:29] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: pcwalton)
[23:54:36] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[23:54:36] *** ChanServ sets mode: +o pcwalton
[23:54:44] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[23:54:44] <ghservo> 01[13rust-azure01] 15pcwalton pushed 1 new commit to 06master: 02http://git.io/zlEV-Q
[23:54:44] <ghservo> 13rust-azure/06master 14af5d2e6 15Patrick Walton: Add stealing and manual GL context creation
[23:54:44] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[23:56:06] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[23:56:06] <ghservo> 01[13rust-layers01] 15pcwalton pushed 2 new commits to 06master: 02http://git.io/vvpxGw
[23:56:07] <ghservo> 13rust-layers/06master 1472df15a 15Patrick Walton: Factor out the texture rendering and delete unnecessary layer types.
[23:56:07] <ghservo> 13rust-layers/06master 14c7a3de7 15Patrick Walton: Add flipping and modernize the codebase a bit
[23:56:07] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[23:58:19] *** Quits: tikue_ (tkuehn@37EC8A1F.D038900B.689607DE.IP) (Quit: tikue_)
