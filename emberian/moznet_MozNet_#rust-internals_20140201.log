[00:09:55] <cgaebel> is there any way to test a specific module in libstd?
[00:10:07] <cgaebel> instead of the whole thing?
[00:12:16] <acrichto> cgaebel: make check-stage1-std TESTNAME=my_module
[00:14:18] <cgaebel> achrichto: thanks
[00:16:28] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Connection reset by peer)
[00:21:23] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[00:26:34] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[00:26:34] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/eweWkQ
[00:26:34] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[00:27:37] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[00:29:41] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[00:31:53] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[00:31:53] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/wJiugw
[00:31:53] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[00:36:58] <cgaebel> is there a way to automatically print a stack trace on task failure?
[00:38:09] <acrichto> sadly no
[00:38:14] <acrichto> gdb/lldb are your best bets
[00:38:18] <acrichto> you can break on the rust_fail function
[00:38:34] <cgaebel> alright. is there just no backtrace api in general?
[00:38:44] <dbaupp> not yeah
[00:38:49] <dbaupp> it's wanted
[00:39:03] <cgaebel> well, by me too, then!
[00:39:30] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[00:39:31] *** Quits: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw) (Ping timeout)
[00:39:39] <cgaebel> is the rust calling convention documented anywhere?
[00:41:36] *** Joins: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw)
[00:45:27] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[00:45:55] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[00:47:37] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[00:51:48] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[00:52:36] <acrichto> rusti: 0b01
[00:52:37] -rusti- 1
[00:54:56] <strcat> rusti: 0_0
[00:54:57] -rusti- 0
[00:55:08] <strcat> rusti: 0b0_0
[00:55:08] -rusti- 0
[00:55:10] <strcat> rusti: 0b_0
[00:55:11] -rusti- 0
[00:55:14] <strcat> rusti: 0b__0
[00:55:15] -rusti- 0
[00:55:18] <strcat> rusti: 0_b__0
[00:55:19] -rusti- <anon>:10:11: 10:15 error: expected one of `;`, `}` but found `b__0`
[00:55:19] -rusti- <anon>:10         0_b__0
[00:55:19] -rusti-                     ^~~~
[00:55:19] -rusti- application terminated with error code 101
[00:58:01] *** Quits: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: dherman)
[01:18:49] <dbaupp> r? https://github.com/mozilla/rust/pull/11966
[01:19:45] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[01:21:17] <Eridius> why did `impl Foo;` even exist?
[01:22:06] *** Quits: new_one (new_one@FFA6C699.940F5E39.B3C0173E.IP) (Client exited)
[01:25:20] *** Joins: ktt3ja (ktt3ja@moz-54586A12.washdc.fios.verizon.net)
[01:25:34] <dbaupp> Eridius: consistency?
[01:25:55] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Quit: Leaving...)
[01:26:09] <dbaupp> acrichto: do you reckon that https://github.com/mozilla/rust/issues/9201 would've been fixed with all the runtime changes?
[01:27:01] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Connection reset by peer)
[01:28:22] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[01:29:41] *** Quits: cgaebel (clark@moz-92F543E4.nycmny.east.verizon.net) (Ping timeout)
[01:30:34] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[01:32:51] *** Joins: bytbox (s@moz-54E13927.washdc.fios.verizon.net)
[01:37:15] *** Quits: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP) (Connection reset by peer)
[01:40:40] <acrichto> dbaupp: yeah I think it's safe to close that
[01:40:52] <acrichto> the runtime has been rewritten at least twice between then and now
[01:43:46] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: sleep)
[01:45:41] *** Joins: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP)
[01:45:41] <bjz> dbaupp: o/
[01:46:25] <bjz> dbaupp: https://github.com/mozilla/rust/issues/8449 :(
[01:47:47] <bjz> dbaupp: might have to get rid of https://github.com/mozilla/rust/pull/11930/files#diff-df3af786fbf128b98f9747b620108991R443
[01:48:16] <dbaupp> bjz: :(
[01:48:28] <dbaupp> bjz: leave CheckedAdd and CheckedSub there?
[01:49:06] <dbaupp> or, just comment out the CheckedMul with a // FIXME #8849 there?
[01:49:13] <bjz> yep
[01:49:23] <bjz> I'll do the latter
[01:49:34] <dbaupp> bjz: anyway the ping was about https://github.com/mozilla/rust/pull/11955
[01:49:44] <dbaupp> I think that may've been what was causing the weird unwinding stuff
[01:50:10] <bjz> ah ok
[01:50:14] <bjz> nice
[01:50:20] <bjz> \o/ acrichto 
[01:51:38] <dbaupp> 18 r+'d things in the queue \o/
[01:52:17] <dbaupp> r? https://github.com/mozilla/rust/pull/11905 (or maybe it should go on a meeting?)
[01:53:45] <acrichto> dbaupp: I added that to the agenda
[02:05:39] *** Quits: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP) (Ping timeout)
[02:06:46] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[02:06:46] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14b692cd0 to 1483f0f6e: 02http://git.io/N3iJvQ
[02:06:46] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[02:06:47] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[02:06:47] <ghrust> 01[13rust01] 15bors pushed 10 new commits to 06auto: 02http://git.io/Ax4PYQ
[02:06:47] <ghrust> 13rust/06auto 14608e7a9 15Alex Crichton: Add an AtomicU64 type to std::sync::atomics...
[02:06:47] <ghrust> 13rust/06auto 144682efb 15Alex Crichton: Enable the +v7 feature on Android by default...
[02:06:47] <ghrust> 13rust/06auto 144d2bac3 15Alex Crichton: extra: Make room for more sync primitives
[02:06:50] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[02:15:40] *** Joins: new_one (new_one@1C73FAA.8AA374E2.B3C0173E.IP)
[02:17:12] <dbaupp> pcwalton: ping
[02:17:17] <pcwalton> dbaupp: pong
[02:17:32] <dbaupp> pcwalton: are you working on removing @[] at the moment?
[02:17:36] <pcwalton> dbaupp: just @str
[02:17:41] <pcwalton> but @[] was going to be my next thing
[02:17:43] <pcwalton> however feel free to take it
[02:17:49] <dbaupp> yup, I will
[02:17:54] <pcwalton> there aren't very many @[]s
[02:18:05] <pcwalton> awesome, thanks
[02:21:44] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[02:21:44] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 148cfc51e to 1483f0f6e: 02http://git.io/N3iJvQ
[02:21:44] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[02:21:46] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[02:21:46] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/iEG7sA
[02:21:46] <ghrust> 13rust/06auto 14464b2e2 15Ben Noordhuis: Add libc::consts::os::posix01::PTHREAD_STACK_MIN...
[02:21:46] <ghrust> 13rust/06auto 14b02b5cd 15Ben Noordhuis: Retry on EINVAL from pthread_attr_setstacksize()...
[02:21:46] <ghrust> 13rust/06auto 14431edac 15Ben Noordhuis: Use __pthread_get_minstack() when available....
[02:21:48] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[02:23:24] *** Joins: cgaebel (clark@moz-92F543E4.nycmny.east.verizon.net)
[02:26:24] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[02:26:27] *** Quits: gwty (gwtypc@BFFD2B64.D9A70983.27560D6E.IP) (Ping timeout)
[02:26:31] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[02:33:53] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Ping timeout)
[03:06:46] *** Quits: ktt3ja (ktt3ja@moz-54586A12.washdc.fios.verizon.net) (Quit: Leaving)
[03:13:14] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[03:23:54] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[03:25:55] *** Quits: zz_kimundi (kimundi@moz-2148C9CF.dip0.t-ipconnect.de) (Ping timeout)
[03:29:19] *** Joins: zz_kimundi (kimundi@moz-CC8364D0.dip0.t-ipconnect.de)
[03:29:20] *** zz_kimundi is now known as kimundi
[03:31:45] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[03:31:45] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/iEG7sA
[03:31:45] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[03:33:43] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[03:33:43] *** ChanServ sets mode: +ao pcwalton pcwalton
[03:34:57] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Quit: canhtak)
[03:36:41] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[03:36:41] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/XJED7A
[03:36:41] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[03:36:45] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[03:36:45] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/GKAG_w
[03:36:45] <ghrust> 13rust/06auto 1481d8328 15Niko Matsakis: Introduce marker types for indicating variance and for opting out...
[03:36:45] <ghrust> 13rust/06auto 14cc6afe1 15bors: auto merge of #11768 : nikomatsakis/rust/issue-11385-cell-and-variance, r=pnkfelix...
[03:36:45] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[03:37:51] *** Quits: doomlord_ (servitor@moz-841308DB.range86-160.btcentralplus.com) (Ping timeout)
[03:38:22] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[03:38:30] *** Joins: doomlord_ (servitor@moz-841308DB.range86-160.btcentralplus.com)
[03:49:26] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[04:00:59] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[04:01:06] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Quit: Sharp)
[04:06:52] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[04:09:11] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[04:10:03] *** Quits: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw) (Ping timeout)
[04:12:40] *** Joins: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw)
[04:29:49] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[04:36:59] *** Quits: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw) (Ping timeout)
[04:39:41] *** Joins: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw)
[04:43:35] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[04:46:43] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[04:46:43] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/GKAG_w
[04:46:43] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[04:51:49] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[04:51:49] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/Udsp3Q
[04:51:49] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[04:59:36] *** Joins: brson (brson@6A848D32.C1B840DD.76F66111.IP)
[04:59:36] *** ChanServ sets mode: +qo brson brson
[05:06:40] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[05:06:40] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/SNUMug
[05:06:40] <ghrust> 13rust/06auto 14fb9ab83 15Michael Darakananda: Added minmax function....
[05:06:41] <ghrust> 13rust/06auto 14edb71d7 15bors: auto merge of #11789 : pongad/rust/master, r=huonw...
[05:06:41] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[05:27:39] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[05:27:41] <Eridius> dbaupp: https://github.com/mozilla/rust/pull/11789 still has a grammatical error in the comments (the first one I pointed out wasn't fixed correctly). Unfortunately it's already testing
[05:27:48] <Eridius> what's the right behavior here?
[05:31:22] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[05:31:41] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[05:31:41] <ghrust> 01[13rust01] 15bors pushed 10 new commits to 06auto: 02http://git.io/DNA8nw
[05:31:41] <ghrust> 13rust/06auto 14325ffa0 15Alex Crichton: Add an AtomicU64 type to std::sync::atomics...
[05:31:41] <ghrust> 13rust/06auto 148462891 15Alex Crichton: Enable the +v7 feature on Android by default...
[05:31:41] <ghrust> 13rust/06auto 14f087b2f 15Alex Crichton: extra: Make room for more sync primitives
[05:31:42] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[05:33:19] *** nrc is now known as nrc|afk
[05:36:32] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[05:37:29] *** Quits: new_one (new_one@1C73FAA.8AA374E2.B3C0173E.IP) (Client exited)
[05:38:52] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Client exited)
[05:42:38] <xales> Eridius: probably to fix it after it lands :p
[05:46:49] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Quit: canhtak)
[05:47:46] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[05:48:31] <Eridius> xales: the submitter already force-pushed a new commit. Does bors even notice that if it's already merging?
[05:49:10] <xales> Eridius: Oh. I'm not sure, but my guess is if he tracks the commit hash, he either won't merge or will fail to merge
[05:49:31] <Eridius> I hope so
[05:49:33] *** Quits: andrew-d (andrew-d@6C6C9B53.23518FA3.CE794808.IP) (Ping timeout)
[05:50:12] *** Joins: andrew-d (andrew-d@6C6C9B53.23518FA3.CE794808.IP)
[05:50:42] <acrichto> aww bors is confused again
[05:50:52] <acrichto> bors doesn't like force-pushes to actively testing branches
[05:50:57] <Eridius> :/
[05:51:30] <acrichto> I'm cancelling the builds
[05:56:39] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[05:56:40] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 141c0dfcf to 14cc6afe1: 02http://git.io/N3iJvQ
[05:56:40] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[06:00:48] *** Quits: zv (zv@moz-955F83E9.hsd1.ca.comcast.net) (Ping timeout)
[06:03:47] <erickt> dbaupp: ping
[06:09:27] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[06:10:38] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[06:11:44] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[06:19:23] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[06:21:39] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[06:21:39] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14c3605b2 to 14cc6afe1: 02http://git.io/N3iJvQ
[06:21:39] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[06:21:39] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[06:21:39] <ghrust> 01[13rust01] 15bors pushed 13 new commits to 06auto: 02http://git.io/eTn0wg
[06:21:39] <ghrust> 13rust/06auto 142c8b112 15Alex Crichton: Un-xfail test for 7385...
[06:21:39] <ghrust> 13rust/06auto 14b9a026a 15Virgile Andreani: Fix minor doc typos
[06:21:39] <ghrust> 13rust/06auto 144f24caa 15JeremyLetang: Add test case for issue 7911
[06:21:41] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[06:29:19] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Quit: canhtak)
[06:29:48] <erickt> hey folks. anyone want to help me cheat? I'm working on the next gen std::hash, and in some micro benchmarking, I'm finding that it might be a lot faster to special case hashing of a [T] where `T` is a POD type. Does anyone know if this possible?
[06:31:04] <erickt> would it be "safe" to do `if intrinsics::needs_drop<T>() { hash-elt-at-a-type } else { cast-to-&[u8]-and-hash }`?
[06:31:19] <erickt> *hash-elt-at-a-time
[06:31:35] <brson> does 'needs_drop' mean 'Pod'?
[06:31:41] <brson> er, not Pod
[06:31:42] <erickt> I'm not sure
[06:31:53] <brson> maybe there's a is_pod intrinsic
[06:32:28] <erickt> I don't see one
[06:33:05] <brson> is there a risk of hashing alignment garbage by doing that?
[06:33:49] <erickt> I'm not sure :)
[06:34:51] <erickt> do `&[u8]`s have  alightment requirements?
[06:37:42] <erickt> btw, the performance increase only happens at â€”opt-level=1. llvm is able to optimize this down at â€”opt-level=3. I would normally say that we should let llvm do it's thing in this case, but this might help out xxHash which seems to be doing some funky things with simd instructions
[06:43:48] *** Joins: jdm (jdm@A7937365.8212E19F.1D05C454.IP)
[06:50:59] <erickt> brson: libarena appears to use `needs_drop` do decide if a type is pod or not
[06:52:11] <erickt> brson: I'll ping pcwalton or strcat next time they are around as they know more about these alignment fiddlybits than I do
[06:58:07] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[07:10:26] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[07:10:40] *** Joins: andrew-d_w (andrew-d_w@moz-1396EAD2.dyn.estpak.ee)
[07:12:27] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[07:13:48] *** Joins: zimbabao (rajaram@FD91A22A.240F5E31.D2D1FAF0.IP)
[07:17:25] *** Joins: tedh (tedh@moz-76BF83CB.z180-91-67.customer.algx.net)
[07:18:32] *** Joins: tedh_ (tedh@moz-76BF83CB.z180-91-67.customer.algx.net)
[07:18:32] *** Quits: tedh (tedh@moz-76BF83CB.z180-91-67.customer.algx.net) (Connection reset by peer)
[07:19:29] *** Quits: tedh_ (tedh@moz-76BF83CB.z180-91-67.customer.algx.net) (Quit: Textual IRC Client: www.textualapp.com)
[07:28:29] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[07:28:29] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/eTn0wg
[07:28:29] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[07:31:28] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[07:31:28] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/W0DdqQ
[07:31:28] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[07:31:29] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[07:31:29] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/yU4x3g
[07:31:29] <ghrust> 13rust/06auto 14d088e5f 15Michael Darakananda: Added minmax function....
[07:31:29] <ghrust> 13rust/06auto 14ac000cd 15bors: auto merge of #11789 : pongad/rust/master, r=kballard...
[07:31:29] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[07:32:15] <acrichto> brson: r? https://github.com/mozilla/rust/pull/11963
[07:32:31] *** Quits: andrew-d_w (andrew-d_w@moz-1396EAD2.dyn.estpak.ee) (Input/output error)
[07:32:55] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[07:50:41] <brson> acrichto: thank you for doing that workaround
[07:57:35] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[07:57:53] *** Quits: limeburst (me@247D1419.D73964AC.27A8748.IP) (Client exited)
[07:59:48] <acrichto> the queue has under 40 PRs!
[08:00:02] <acrichto> and if everything lands it'll have under 30 PRs!
[08:00:38] <brson> \o/
[08:01:27] <brson> there are going to be a lot of error codes dedicated to random bits os extension parsing, i imagine there are a number of distict "expected coma" errors in ext
[08:03:01] <Eridius> acrichto: good luck having your io changes pass in the night!
[08:03:08] <Eridius> and by "pass" I mean "merge"
[08:03:13] <acrichto> there's no way :(
[08:03:32] <Eridius> give it p=100!
[08:03:36] <Eridius> let everything else fail
[08:03:39] <acrichto> hehe
[08:03:50] <Eridius> I'm not kidding. I want I/O results!
[08:03:50] <acrichto> I'll wait for it to get a little closer to the top
[08:03:55] <acrichto> I've got all weekend
[08:03:56] <acrichto> :D
[08:05:36] <Eridius> ahh, FastMail is so much better than Gmail. I can actually filter the mails from GitHub properly now!
[08:11:11] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[08:13:08] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[08:13:56] *** Joins: andrew-d_w (andrew-d_w@moz-1396EAD2.dyn.estpak.ee)
[08:14:06] *** Quits: andrew-d_w (andrew-d_w@moz-1396EAD2.dyn.estpak.ee) (Input/output error)
[08:14:28] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[08:16:02] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[08:41:29] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[08:41:29] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/yU4x3g
[08:41:29] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[08:45:26] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[08:46:24] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[08:46:24] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/Pt6Dcw
[08:46:24] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[08:46:24] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[08:46:24] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/u6lWLA
[08:46:24] <ghrust> 13rust/06auto 14723072f 15Alex Crichton: Fix rustpkg tests with --disable-inject-std-version...
[08:46:24] <ghrust> 13rust/06auto 14c80d28c 15bors: auto merge of #11963 : alexcrichton/rust/fix-rustpkg, r=brson...
[08:46:24] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[09:00:09] *** Quits: jdm (jdm@A7937365.8212E19F.1D05C454.IP) (Ping timeout)
[09:11:38] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[09:20:29] *** Quits: nrc|afk (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[09:22:27] *** Quits: zimbabao (rajaram@FD91A22A.240F5E31.D2D1FAF0.IP) (Ping timeout)
[09:28:52] *** flaper87|afk is now known as flaper87
[09:32:08] <flaper87> Eridius: is it?
[09:32:19] <flaper87> I've been hearing great things about fastmail
[09:33:04] <flaper87> I've just been lazy to consider moving to it. What filters are you using for GH issues?
[09:37:49] *** Joins: zimbabao (rajaram@9C51A363.C0113EA2.D2D1FAF0.IP)
[09:49:10] *** Quits: zimbabao (rajaram@9C51A363.C0113EA2.D2D1FAF0.IP) (Ping timeout)
[09:51:38] *** Joins: doener (doener@moz-C68F600D.unity-media.net)
[09:56:25] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[09:56:25] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/u6lWLA
[09:56:25] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[10:01:24] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[10:01:24] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/jh8L0g
[10:01:24] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[10:01:26] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[10:01:26] <ghrust> 01[13rust01] 15bors pushed 10 new commits to 06auto: 02http://git.io/PjzaZA
[10:01:26] <ghrust> 13rust/06auto 14325ffa0 15Alex Crichton: Add an AtomicU64 type to std::sync::atomics...
[10:01:26] <ghrust> 13rust/06auto 148462891 15Alex Crichton: Enable the +v7 feature on Android by default...
[10:01:27] <ghrust> 13rust/06auto 14f087b2f 15Alex Crichton: extra: Make room for more sync primitives
[10:01:29] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[10:06:15] *** Joins: jdm (jdm@moz-DB4A9C19.scl3.mozilla.com)
[10:25:07] *** Quits: jdm (jdm@moz-DB4A9C19.scl3.mozilla.com) (Quit: Lost terminal)
[10:25:24] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[10:36:25] *** Joins: rca (rcatolino@moz-BBB12EEA.adsl.proxad.net)
[10:53:07] *** Joins: NiccosSystem (NiccosSyst@moz-27DB731.connect.netcom.no)
[10:54:52] <flaper87> w0000t, libglob is almost completely migrated to BytesContainer
[10:55:11] <flaper87> non-utf8 support for glob is comming!
[10:55:24] *** Quits: NiccosSystem (NiccosSyst@moz-27DB731.connect.netcom.no) (Ping timeout)
[10:56:45] *** Joins: NiccosSystem (NiccosSyst@moz-27DB731.connect.netcom.no)
[10:56:53] *** Quits: NiccosSystem (NiccosSyst@moz-27DB731.connect.netcom.no) (Quit: Leaving)
[10:59:01] *** Quits: brson (brson@6A848D32.C1B840DD.76F66111.IP) (Ping timeout)
[11:01:10] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[11:02:20] <doener> heh, write_le_u64 ends up writing the u64 one byte at a time
[11:02:37] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[11:03:25] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[11:03:25] *** ChanServ sets mode: +qo brson brson
[11:11:46] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[11:16:53] <dbaupp> doener: not in one go?
[11:17:31] <doener> dbaupp: err, I've expressed that badly
[11:18:20] <doener> dbaupp: it calls write() just once, but writing the value _to the stack_ (so write() can get a pointer) happens one byte at a time
[11:18:53] <doener> dbaupp: https://gist.github.com/dotdash/0664e47da54f76191bfd
[11:20:13] <doener> that's for MemWriter, but except for the callq line, they all look the same (as expected)
[11:20:37] <dbaupp> ah, yes
[11:20:54] <dbaupp> coincidentally I discovered the same thing with our hashers just today
[11:20:56] <dbaupp> sec
[11:21:22] <dbaupp> https://github.com/mozilla/rust/pull/11863#discussion_r9363967
[11:22:37] <dbaupp> eh
[11:22:53] <dbaupp> the implementation of .write_le_u64 goes to a lot of effort to share code
[11:23:08] <dbaupp> how peculiar
[11:26:35] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[11:27:41] <dbaupp> doener: (also... shouldn't MemWriter.write be being inlined, since it's basically just a thin wrapper for ~[].push?)
[11:30:12] <doener> dbaupp: are we looking at the same MemWriter.write?
[11:30:47] <dbaupp> doener: well
[11:30:58] <doener> the generated assembly is rather large, and the rust source doesn't look that slim to me either
[11:30:58] <dbaupp> no.. I was just assuming that it'd be relatively simple
[11:32:06] <dbaupp> anyway, no that I've checked the source, I agree with you.
[11:32:09] <dbaupp> *now
[11:32:50] <doener> :-)
[11:37:26] *** Quits: rca (rcatolino@moz-BBB12EEA.adsl.proxad.net) (Ping timeout)
[11:40:06] *** Joins: rca (rcatolino@moz-428C471F.adsl.proxad.net)
[11:41:13] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Quit: Leaving...)
[11:41:26] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[11:41:26] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14ed2336e to 14c80d28c: 02http://git.io/N3iJvQ
[11:41:26] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[11:43:56] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[11:50:36] *** Joins: jdm (jdm@moz-DB4A9C19.scl3.mozilla.com)
[11:53:46] *** Joins: gwty (gwtypc@275AE1CA.470EC439.27560D6E.IP)
[11:57:27] <flaper87> dbaupp: any chance you can help me understand what I'm doing wrong here? https://github.com/FlaPer87/rust/blob/3e7e14ee3b521d4468591c1916874334728c8ddb/src/libglob/lib.rs#L386
[11:57:36] <flaper87> dbaupp: I think it's related to: https://github.com/mozilla/rust/issues/11740
[11:57:39] <flaper87> but I could be wrong
[11:58:29] <dbaupp> flaper87: can you just write the .shift_ref() call separately?
[11:58:51] <dbaupp> i.e. let bytes = file.container_as_bytes(); let c = bytes.shift_ref()
[11:59:11] <flaper87> dbaupp: already tried, same error
[11:59:24] <dbaupp> flaper87: ah :(
[11:59:29] <flaper87> :(
[12:00:12] <dbaupp> erm, why are you converting to an immutable variable bytes inside the loop?
[12:00:19] <dbaupp> (not that solves the problem.)
[12:00:33] <dbaupp> ... and why are you doing it several times?
[12:00:39] <flaper87> dbaupp: that was just an experiment
[12:00:43] <flaper87> it was outside the loop
[12:00:57] <dbaupp> but it doesn't help?
[12:00:59] <flaper87> I was playing around w/ that thing trying to understand that lifetime error
[12:01:20] <flaper87> it'll be outside the loop
[12:01:28] <dbaupp> cool cool :)
[12:01:36] <flaper87> :D
[12:01:49] <dbaupp> can you give it type annotations?
[12:02:02] <dbaupp> possibly even explicit lifetimes?
[12:02:38] <dbaupp> also, I have this feeling you've changed behaviour
[12:02:46] <dbaupp> since file is `mut` but never mutated
[12:03:21] <dbaupp> i.e. `file: &'a T ... let bytes: &'a [u8] = file.container_as_bytes();`
[12:03:43] <dbaupp> (having defined 'a next to T: BytesContainer)
[12:03:59] <flaper87> yeah, I'll add lifetimes to the various calls
[12:04:23] <flaper87> re changing behaviour, the shift_ref should change the vec in place
[12:04:29] <flaper87> so, I don't need mut
[12:04:33] <dbaupp> yes, but you recreate it each time
[12:04:58] <dbaupp> eh
[12:05:08] <dbaupp> I think the private matches_from should just take &[u8]
[12:05:29] <dbaupp> the public functions can call .container_as_bytes() themselves, before passing it to matches_from
[12:05:38] <dbaupp> which would theoretically solve the lifetime issues
[12:05:38] <flaper87> that was my other option, I just didn't want to make it inconsistent w/ the other methods
[12:05:48] <dbaupp> it saves on code bloat
[12:05:59] <dbaupp> and it will fix this problem
[12:06:18] <dbaupp> \o/ bootstrapping without @[]
[12:06:39] <flaper87> matches_from is just called by other matches within Pattern so I guess it won't be that bad :P
[12:06:41] <flaper87> dbaupp: w0000t
[12:11:23] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[12:11:23] <ghrust> 01[13rust01] 15bors pushed 5 new commits to 06auto: 02http://git.io/3URpWQ
[12:11:24] <ghrust> 13rust/06auto 149a3583f 15Brendan Zabarauskas: Make next_power_of_two generic for unsigned integers...
[12:11:24] <ghrust> 13rust/06auto 144109caf 15Brendan Zabarauskas: Remove some unused imports
[12:11:24] <ghrust> 13rust/06auto 141388c05 15Brendan Zabarauskas: Remove free-standing div functions in std::uint
[12:11:26] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[12:13:19] *** Quits: jdm (jdm@moz-DB4A9C19.scl3.mozilla.com) (Quit: Lost terminal)
[12:17:18] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[12:22:22] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[12:23:45] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[12:23:58] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[12:24:01] *** Joins: jdm (jdm@moz-DB4A9C19.scl3.mozilla.com)
[12:26:33] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[12:27:00] <bjz> dbaupp: yay!
[12:27:26] <flaper87> dbaupp: test test::test_non_utf8_glob ... ok <- ;)
[12:27:35] <flaper87> Eridius: ^
[12:28:34] <doener> dbaupp: using transmute for *_to_{be,le}_bytes works nicely :-) https://gist.github.com/dotdash/2e84edadfa041c938dac
[12:28:52] <flaper87> wow
[12:28:56] <flaper87> doener: dbaupp ++
[12:31:24] <dbaupp> doener: cool! :)
[12:31:28] <dbaupp> flaper87: cool! :)
[12:32:33] <flaper87> I broke something but at least that one works :P
[12:32:42] *** Joins: limeburst (me@247D1419.D73964AC.27A8748.IP)
[12:32:44] <doener> dbaupp: btw, thanks for the black box trick, I'm always confused when LLVM decides to optimize away functions marked as "no inline"
[12:33:45] <dbaupp> doener: yeah, it's annoying
[12:33:59] *** Quits: jdm (jdm@moz-DB4A9C19.scl3.mozilla.com) (Quit: Lost terminal)
[12:34:08] <dbaupp> you tell LLVM to never inline something... and it still does :'(
[12:34:13] <doener> hm, do I write that as "f(unsafe { transmute(...) })" or "unsafe { f(transmute(...)) }"?
[12:35:02] <flaper87> what is the black box trick?
[12:35:11] <doener> flaper87: see https://github.com/mozilla/rust/pull/11863#discussion_r9363967
[12:35:17] <flaper87> dbaupp: thanks
[12:35:34] <doener> flaper87: empty functions hidden in a different crate, so LLVM is unable to optimize them away
[12:36:03] <dbaupp> -Z lto would presumably make it disappear again too :P
[12:36:20] <flaper87> oh cool
[12:39:33] *** Joins: zimbabao (rajaram@51B03E8C.D73DD9E6.D2D1FAF0.IP)
[12:43:27] *** Quits: limeburst (me@247D1419.D73964AC.27A8748.IP) (Client exited)
[12:45:49] *** Quits: zimbabao (rajaram@51B03E8C.D73DD9E6.D2D1FAF0.IP) (Ping timeout)
[13:01:08] *** Joins: zimbabao (rajaram@A89AE5C8.13E31C97.D2D1FAF0.IP)
[13:04:26] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[13:04:48] *** Quits: zimbabao (rajaram@A89AE5C8.13E31C97.D2D1FAF0.IP) (Ping timeout)
[13:05:58] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[13:11:15] *** Joins: eddyb (eddy@832D2DE5.66315F97.FB866788.IP)
[13:13:51] <doener>       2u => f(unsafe { transmute::<[i16, ..1], [u8, ..2]>([to_be16(n as i16)]) }),
[13:13:52] <eddyb> acrichto: I guess this is my first introduced bug https://github.com/mozilla/rust/issues/11964
[13:13:58] <doener> can I get that shorter somehow?
[13:14:09] <eddyb> doener: i16 without the array
[13:14:19] *** Quits: gwty (gwtypc@275AE1CA.470EC439.27560D6E.IP) (Ping timeout)
[13:14:35] <eddyb> though u16 is saner if you're doing bit stuff
[13:15:02] <doener> the to_{b,l}e* intrinsics expect signed types though
[13:16:07] *** Joins: gwty (gwtypc@9E193C90.91ADB6E0.49FF672.IP)
[13:16:31] <eddyb> doener: because LLVM types start with i, it just means integer, no signed/unsigned distinction
[13:16:48] <doener> dropping the array works fine though, thanks
[13:17:23] <eddyb> doener: but the intrinsics should be smarter *sigh*
[13:17:43] <eddyb> doener: why are you transmuting after converting to big endian?
[13:17:56] <eddyb> it doesn't make much sense
[13:18:03] <dbaupp> eddyb: to get bytes
[13:18:05] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[13:18:06] <dbaupp> it makes a lot of sense
[13:18:07] <doener> because f() wants a &[u8]
[13:18:25] <eddyb> dbaupp: yes, but, it's much simpler to use shifts
[13:18:28] <doener> eddyb: it's in u64_to_be_bytes
[13:18:31] <dbaupp> eddyb: and slower
[13:18:45] <doener> eddyb: it's using shifts now
[13:18:45] <eddyb> dbaupp: shifts can lower to byte accesses
[13:18:48] <eddyb> o_O
[13:18:53] <dbaupp> eddyb: https://gist.github.com/dotdash/2e84edadfa041c938dac
[13:18:58] <doener> and https://gist.github.com/dotdash/0664e47da54f76191bfd
[13:19:01] *** Joins: zimbabao (rajaram@713E0D38.1B02E6B.D2D1FAF0.IP)
[13:19:14] <dbaupp> doener: what's the new version look like?
[13:19:17] <eddyb> so I walked in the middle of an optimization process? this sounds like a LLVM bug
[13:19:39] <dbaupp> (I guess the difference for be would be more interesting for a le target.)
[13:19:51] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[13:19:58] <doener> https://gist.github.com/dotdash/19d1722bdf9347893e1d
[13:20:06] <doener> eddyb: that gist _is_ the le version
[13:20:12] <doener> (the first one)
[13:20:14] <dbaupp> ah, bswap!
[13:20:16] <dbaupp> fancy
[13:20:27] <doener> that new one is for be. le only differs in that bswap is missing
[13:20:45] <dbaupp> yeah, I was wondering what the swapping intrinsics lowered too
[13:20:45] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[13:22:50] <eddyb> I guess this is too complicated for LLVM to recompose
[13:23:34] <eddyb> I wonder if poly can do it better
[13:23:47] <eddyb> doener: well, good job
[13:24:54] <doener> I just stumbled across the problem and stole the solution from dbaupp
[13:25:10] <doener> https://github.com/mozilla/rust/pull/11863#discussion_r9363967
[13:26:22] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[13:26:22] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/3URpWQ
[13:26:22] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[13:27:53] *** Quits: gwty (gwtypc@9E193C90.91ADB6E0.49FF672.IP) (Ping timeout)
[13:31:27] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[13:31:27] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/o3xlVg
[13:31:27] <ghrust> 13rust/06auto 14bc8983a 15David Manescu: Handle attributes on cross-crate tuple-structs correctly...
[13:31:27] <ghrust> 13rust/06auto 14362cbbe 15bors: auto merge of #11932 : dmanescu/rust/11741-stability-cross-crate, r=alexcrichton...
[13:31:27] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[13:31:28] *** Joins: andrew-d_w (andrew-d_w@moz-1396EAD2.dyn.estpak.ee)
[13:31:29] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[13:31:29] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/X7eogw
[13:31:29] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[13:34:53] *** Joins: jdm (jdm@moz-DB4A9C19.scl3.mozilla.com)
[13:40:13] *** Quits: andrew-d_w (andrew-d_w@moz-1396EAD2.dyn.estpak.ee) (Input/output error)
[13:40:36] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[13:45:26] *** kimundi is now known as zz_kimundi
[13:54:21] *** Quits: jdm (jdm@moz-DB4A9C19.scl3.mozilla.com) (Quit: Lost terminal)
[14:02:22] <mrmonday> does anyone know anything about the iotest! macro? trying to write test cases for my raw socket stuff, need some advise
[14:03:18] <mrmonday> I see that it creates a green() and native() function, what actually calls these?
[14:03:59] <dbaupp> mrmonday: they have the #[test] attribute
[14:04:07] <dbaupp> so they're called by the test runner automatically
[14:06:22] <mrmonday> doesn't that mean that they're both called though?
[14:06:27] <doener> dbaupp: r? https://github.com/mozilla/rust/pull/11973
[14:06:34] <dbaupp> mrmonday: yes
[14:06:47] <mrmonday> surely only one of them should be called depending on which backend is being used for the test?
[14:07:16] <mrmonday> oh, wait, I see how it works
[14:07:33] <dbaupp> doener: are those benchmarks in the source tree?
[14:07:35] <mrmonday> it's using the green backend, but the native method spawns off a native task
[14:07:42] <dbaupp> mrmonday: yeah, it loads the two backends
[14:07:45] <doener> dbaupp: no
[14:07:47] <dbaupp> "loads"
[14:08:01] <dbaupp> doener: could they be? (or some subset)
[14:08:32] <doener> dbaupp: guess so
[14:09:07] <dbaupp> doener: wait. I guess they won't really work, without the blackbox thing
[14:09:32] <doener> dbaupp: was just about to say the same
[14:11:05] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[14:12:28] <dbaupp> doener: maybe just a short comment that the intrinsics are 10-20% faster than manual shiting?
[14:12:32] <dbaupp> er, *shifting
[14:16:31] <mrmonday> ok, next question... I've got my tests in src/test/test-make for various reasons is there any way to access functions from librustuv/lib.rs? (which aren't marked as pub)
[14:16:40] <flaper87> dbaupp: erm, looks like I forgot to update the comments all around
[14:16:42] <flaper87> T_T
[14:16:52] <flaper87> I'll submit another patch w/ updated comments
[14:18:46] <doener> dbaupp: updated, though I'm wary about using numbers, might be target dependent
[14:26:48] *** Quits: zimbabao (rajaram@713E0D38.1B02E6B.D2D1FAF0.IP) (Ping timeout)
[14:35:06] *** Joins: limeburst (me@247D1419.D73964AC.27A8748.IP)
[14:42:36] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[14:42:36] *** ChanServ sets mode: +ao dherman dherman
[14:46:31] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[14:46:31] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/o3xlVg
[14:46:31] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[14:51:26] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[14:51:26] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/MBF-TQ
[14:51:26] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[14:51:26] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[14:51:26] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/He-R7w
[14:51:26] <ghrust> 13rust/06auto 14954f834 15JeremyLetang: move concurrent stuff from libextra to libsync...
[14:51:26] <ghrust> 13rust/06auto 14e69537c 15bors: auto merge of #11939 : JeremyLetang/rust/move-libsync, r=alexcrichton...
[14:51:27] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[14:55:01] <mrmonday> hrrm, never mind, I can work around it
[14:56:28] *** Joins: zimbabao (rajaram@713E0D38.1B02E6B.D2D1FAF0.IP)
[15:14:17] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[15:15:46] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[15:21:24] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[15:21:25] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14e69537c to 14362cbbe: 02http://git.io/N3iJvQ
[15:21:25] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[15:21:25] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[15:21:25] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/ax_LSA
[15:21:25] <ghrust> 13rust/06auto 14d451c15 15Nathaniel Herman: Make shift_ref and mut_shift_ref return Option instead of failing
[15:21:25] <ghrust> 13rust/06auto 143396034 15Nathaniel Herman: Make pop_ref and mut_pop_ref return Option instead of failing on empty vectors
[15:21:26] <ghrust> 13rust/06auto 14d9fadbc 15Nathaniel Herman: Make mut_last return Option instead of failing on empty vector (and add a test for mut_last)
[15:21:28] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[15:24:44] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[15:29:15] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[15:35:20] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[15:36:25] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[15:37:39] *** zz_kimundi is now known as kimundi
[15:42:50] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[15:42:54] *** Joins: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[15:44:10] <eddyb> acrichto, dbaupp: the ICE is just a side-effect of my whoopsie https://github.com/mozilla/rust/issues/11964#issuecomment-33874729
[15:44:34] <eddyb> wait, is that how you spell it? looks wrong
[15:45:11] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Quit: Leaving)
[15:45:33] *** Joins: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[15:45:38] <dbaupp> eddyb: google agrees with 'whoopsie'
[15:45:42] <dbaupp> eddyb: you should fix it ;)
[15:45:50] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[15:45:55] <dbaupp> and then you get to write some more tests \o/
[15:45:59] <dbaupp> :P
[15:46:08] <eddyb> dbaupp: right now I'm trying to find out where I need to add the extra substitutions
[15:46:39] <eddyb> Bar<bool> expands to Bar<bool, Foo<T>>
[15:48:12] <eddyb> dbaupp: how should we handle struct Foo<T, U = (T, V), V = T>?
[15:48:20] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[15:49:07] <eddyb> Foo<bool> would expand to Foo<bool, (bool, V), bool> in one of the ways I can implement it
[15:49:58] <dbaupp> eddyb: don't know
[15:50:01] <dbaupp> an error?
[15:50:38] *** Joins: gwty (gwtypc@9E193C90.91ADB6E0.49FF672.IP)
[15:55:35] *** Joins: jdm (jdm@moz-DB4A9C19.scl3.mozilla.com)
[16:06:48] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[16:06:48] *** ChanServ sets mode: +ao dherman dherman
[16:08:43] *** Quits: dbaupp (Thunderbir@moz-68C83524.lns20.syd6.internode.on.net) (Input/output error)
[16:09:10] *** Joins: dbaupp (Thunderbir@moz-68C83524.lns20.syd6.internode.on.net)
[16:13:01] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[16:17:58] <olsonjeffery> so is stage0 built solely from the snapshot compiler and libraries?
[16:18:14] <olsonjeffery> or does the bootstrap compiler use the stage0 libraries as they're built?
[16:18:46] <dbaupp> the bootstrap compiler has a libstd etc. that it is using internally
[16:19:08] <olsonjeffery> i moved the serialize crate into its own libserialize library, and i adjusted the stuff in libsyntax/ext/deriving to point at that crate, i adjusted the deps in crates.mk
[16:19:13] <dbaupp> but the libraries that are built only refer to non-bootstrap ones
[16:19:14] <olsonjeffery> and im getting this when building stage0 libsyntax:
[16:19:30] <eddyb> stage0 builds libraries (from libstd to librustc) then uses them to build stage1 rustc
[16:19:32] <olsonjeffery> /Users/jeff/src/rust/src/libsyntax/parse/token.rs:102:30: 102:39 error: attempt to implement a nonexistent trait `extra::serialize::Decodable`
[16:19:35] <olsonjeffery> /Users/jeff/src/rust/src/libsyntax/parse/token.rs:102 #[deriving(Clone, Encodable, Decodable, Eq, IterBytes)]
[16:19:35] <dbaupp> ah, yes, libsyntax + bootstrap == : (
[16:19:37] <olsonjeffery>                                                                                    ^~~~~~~~~
[16:19:37] <dbaupp> * :(
[16:19:38] <olsonjeffery> <quote expansion>:9:66: 9:103 error: unresolved import: could not find `serialize` in `extra`.
[16:19:40] <olsonjeffery> <quote expansion>:9                                                                  ::extra::serialize::Decodable::decode(_d)
[16:19:42] <olsonjeffery>                                                                                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[16:19:44] <olsonjeffery> pages of it
[16:19:47] <olsonjeffery> thousands of lines
[16:19:53] <dbaupp> hahahaha
[16:20:01] <olsonjeffery> so it seems like a weird situation
[16:20:11] <olsonjeffery> the compiler is expanding based on the old location
[16:20:14] <dbaupp> it's because #[deriving(Encodable)] etc. refer directly to extra::serialize::...
[16:20:15] <olsonjeffery> but can't find it in stage0 libextra?
[16:20:23] <olsonjeffery> i adjusted the stuff in libsyntax
[16:20:28] <eddyb> olsonjeffery: is it still in stage0 libextra?
[16:20:31] <dbaupp> yeah, exactly, because stage0 libextra has your changes
[16:20:33] <olsonjeffery> no its not
[16:20:39] <eddyb> olsonjeffery: stage0 should remain intact
[16:20:46] <eddyb> (sorry)
[16:20:47] <dbaupp> I think you may need to leave it there with a #[cfg(stage0)]
[16:20:49] <olsonjeffery> so is this a snapshot thing?
[16:20:52] *** Quits: jdm (jdm@moz-DB4A9C19.scl3.mozilla.com) (Quit: Lost terminal)
[16:20:56] <eddyb> olsonjeffery: yupp
[16:21:00] <olsonjeffery> gotcha.
[16:21:06] <dbaupp> (i..e have two copies of serialize in stage0, but only on, in libserialize for latter stages)
[16:21:09] <eddyb> olsonjeffery: you may be able to re-export it from libextra instead of having a copy of it
[16:21:20] <olsonjeffery> yeah i was thinking of re-exporting
[16:21:25] <olsonjeffery> can you do cross-crate re-export?
[16:21:28] <dbaupp> libserialize depends on libextra?
[16:21:29] <olsonjeffery> rather do that than have two copies
[16:21:31] <olsonjeffery> no
[16:21:36] <olsonjeffery> libextra depends on libserialize
[16:21:40] <dbaupp> oh, easy!
[16:21:40] <olsonjeffery> ive had to leave json behind for now
[16:21:41] <dbaupp> :)
[16:21:49] <dbaupp> yeah, cross-crate re-exporting works fine
[16:21:52] <olsonjeffery> until TreeMap leaves libextra
[16:21:56] <olsonjeffery> ok ill do that, then.
[16:22:01] <dbaupp> r? https://github.com/mozilla/rust/pull/11974
[16:25:13] *** bstrie_what is now known as bstrie_boot
[16:25:51] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[16:32:22] *** Quits: gwty (gwtypc@9E193C90.91ADB6E0.49FF672.IP) (Ping timeout)
[16:33:18] *** Quits: zimbabao (rajaram@713E0D38.1B02E6B.D2D1FAF0.IP) (Ping timeout)
[16:33:50] *** Joins: gwty (gwtypc@BEB2E7A8.D37BBF03.CF29F6CE.IP)
[16:36:31] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[16:36:32] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/ax_LSA
[16:36:32] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[16:41:10] <dbaupp> \o/ @[] + @str removal passes tests
[16:41:25] <eddyb> dbaupp: took it over from cmr?
[16:41:27] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[16:41:27] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/-gnyxA
[16:41:27] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[16:42:08] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[16:42:13] <dbaupp> eddyb: maybe? I just worked off pcwalton's @str removal to do the @[] part
[16:42:26] <dbaupp> (as in, I didn't know cmr was doing it)
[16:42:29] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[16:44:13] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[16:44:56] *** Quits: Kxepal (Miranda@moz-951C3442.pppoe.mtu-net.ru) (Ping timeout)
[16:48:19] *** Joins: Kxepal (Miranda@moz-447F3688.pppoe.mtu-net.ru)
[16:48:24] *** Joins: zimbabao (rajaram@81CCB1A6.256A5526.D2D1FAF0.IP)
[16:58:57] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[16:59:42] *** Quits: japaric (japaric@BA37D376.D2FA42B.95AFB88D.IP) (Ping timeout)
[17:01:48] *** Joins: japaric (japaric@BA37D376.D2FA42B.95AFB88D.IP)
[17:03:05] *** Joins: new_one (new_one@338D8DF9.4C461BEC.59A381B9.IP)
[17:04:22] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[17:04:22] *** ChanServ sets mode: +ao dherman dherman
[17:05:38] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[17:15:14] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[17:21:14] *** Quits: Kxepal (Miranda@moz-447F3688.pppoe.mtu-net.ru) (Quit: Kxepal)
[17:21:28] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[17:21:29] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14e7091d0 to 14df044ea: 02http://git.io/N3iJvQ
[17:21:29] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[17:21:57] *** Joins: Kxepal (Miranda@moz-447F3688.pppoe.mtu-net.ru)
[17:23:10] *** Quits: Kxepal (Miranda@moz-447F3688.pppoe.mtu-net.ru) (Quit: Kxepal)
[17:23:24] *** Joins: Kxepal (Miranda@moz-447F3688.pppoe.mtu-net.ru)
[17:24:20] <eddyb> dbaupp: right now I have huffman code lengths + type param substitutions in my head and I feel like I can't work on either
[17:24:30] <eddyb> such are Saturday afternoons
[17:28:02] <eddyb> dbaupp: I'd rather have a few library bugs from a triage to work on
[17:29:03] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Client exited)
[17:30:58] *** Quits: zimbabao (rajaram@81CCB1A6.256A5526.D2D1FAF0.IP) (Ping timeout)
[17:31:05] *** Quits: Kxepal (Miranda@moz-447F3688.pppoe.mtu-net.ru) (Quit: Kxepal)
[17:31:27] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[17:31:27] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1420f8ffe to 14df044ea: 02http://git.io/N3iJvQ
[17:31:27] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[17:31:31] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[17:31:31] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/F_Tagg
[17:31:31] <ghrust> 13rust/06auto 142b1dbff 15Huon Wilson: std: rename fmt::Default to `Show`....
[17:31:31] <ghrust> 13rust/06auto 14c7077a3 15Huon Wilson: std::fmt: prepare to convert the formatting traits to methods, and work...
[17:31:32] <ghrust> 13rust/06auto 145789f06 15bors: auto merge of #11948 : huonw/rust/show, r=alexcrichton...
[17:31:34] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[17:31:38] *** Joins: Kxepal (Miranda@moz-447F3688.pppoe.mtu-net.ru)
[17:31:48] <eddyb> ooh, we are doing that change?
[17:32:05] <eddyb> rebasing my partial fmt rewrite is going to be a PITA, but at least the diff will be smaller
[17:51:27] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[17:51:27] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 145789f06 to 14df044ea: 02http://git.io/N3iJvQ
[17:51:27] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[17:51:28] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[17:51:28] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/nbXm-A
[17:51:28] <ghrust> 13rust/06auto 14835e537 15David Manescu: Rename reserve to reserve_exact and reserve_at_least to reserve...
[17:51:28] <ghrust> 13rust/06auto 14d5a594f 15bors: auto merge of #11951 : dmanescu/rust/reserve-rename, r=huonw...
[17:51:28] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[17:59:39] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[18:01:31] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[18:01:31] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/X9zbEw
[18:01:31] <ghrust> 13rust/06auto 145afc63a 15BjÃ¶rn Steinbrink: Optimize u64_to_{le,be}_bytes...
[18:01:31] <ghrust> 13rust/06auto 1460ffbeb 15bors: auto merge of #11973 : dotdash/rust/u64_to_bytes, r=huonw...
[18:01:31] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[18:01:49] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[18:05:51] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:05:51] *** ChanServ sets mode: +qo brson brson
[18:07:55] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[18:07:55] <ghrust> 01[13rust01] 15alexcrichton merged 06master into 06snap-stage3: 02http://git.io/WbUmYQ
[18:07:55] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[18:08:14] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Quit: Leaving)
[18:09:31] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[18:10:53] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:10:59] <eddyb> coming back to struct Foo<T, U = (T, V), V = T>, I can probably get away with an O(N*N) algorithm
[18:13:38] <eddyb> no, I don't want that
[18:14:11] <eddyb> since something like this is totally nuts struct Foo<T, U = (V, V), V = (U, U)>
[18:16:47] <eddyb> dbaupp, acrichto: any ideas if I can coerce resolve to make Foo<T = U, U = int> invalid? i.e. defaults can only refer to type params defined before them
[18:17:26] <acrichto> eddyb: if you attempt to resolve things left-to-right it should work (U isn't declared for T=U
[18:17:29] <acrichto> )
[18:19:15] <eddyb> acrichto: type param resolution happens inside with_type_parameter_rib
[18:19:39] <acrichto> those are words!
[18:19:47] <acrichto> (I don't know much about the specifics of resolve)
[18:20:07] <eddyb> that is, it defines all the type params and then resolves them
[18:21:22] <eddyb> which means my solution has to be recursive and it involves rewriting all calls to with_type_parameter_rib
[18:24:02] <bstrie_boot> dbaupp: ouch, android failure...
[18:24:48] * bstrie_boot really wants to see @str and @[] gone!
[18:26:03] <eddyb> @Trait too, pls
[18:26:34] <eddyb> we'd be throwing out silly logic from all over the place <3
[18:29:26] <bstrie_boot> http://joearms.github.io/2014/02/01/big-changes-to-erlang.html
[18:33:37] <eddyb> "After this feat of intellectual masturbation is over you have defined the factorial function. We can even type this monstrously horrible expression into the shell and test it: ... And goodness gracious - it works."
[18:37:38] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[18:37:39] <ghrust> 01[13rust01] 15alexcrichton 04force-pushed 06try from 14a976420 to 14dee0b6e: 02http://git.io/k471pw
[18:37:39] <ghrust> 13rust/06try 14261f5b4 15Alex Crichton: std: Remove io::io_error...
[18:37:39] <ghrust> 13rust/06try 14465f509 15Alex Crichton: extra: Remove io_error usage
[18:37:39] <ghrust> 13rust/06try 14988c365 15Alex Crichton: syntax: Remove io_error usage
[18:37:40] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[18:42:16] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[18:45:24] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[18:45:24] <ghrust> 01[13rust01] 15alexcrichton 04force-pushed 06try from 14dee0b6e to 1422c9feb: 02http://git.io/k471pw
[18:45:24] <ghrust> 13rust/06try 1422c9feb 15Alex Crichton: std: Fixing all documentation...
[18:45:24] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[18:55:32] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[18:55:50] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[18:59:59] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Quit: canhtak)
[19:00:23] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[19:02:30] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[19:11:29] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[19:11:30] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/X9zbEw
[19:11:30] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[19:14:23] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[19:16:25] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[19:16:26] <ghrust> 01[13rust01] 15bors pushed 50 new commits to 06auto: 02http://git.io/yXwoeg
[19:16:26] <ghrust> 13rust/06auto 1470c5a0f 15Patrick Walton: libsyntax: Introduce an `InternedString` type to reduce `@str` in the...
[19:16:26] <ghrust> 13rust/06auto 148e52b85 15Patrick Walton: libsyntax: De-`@str` literal strings in the AST
[19:16:26] <ghrust> 13rust/06auto 14a0646ae 15Patrick Walton: libsyntax: De-`@str` `to_source`
[19:16:28] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[19:22:29] * bstrie_boot roots for bors
[19:25:16] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:25:16] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[19:25:17] <ghrust> 01[13rust01] 15alexcrichton 04force-pushed 06try from 1422c9feb to 145142467: 02http://git.io/k471pw
[19:25:17] <ghrust> 13rust/06try 14a73db09 15Alex Crichton: std: Fixing all documentation...
[19:25:17] <ghrust> 13rust/06try 145142467 15Alex Crichton: Fixing remaining warnings and errors throughout
[19:25:17] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[19:26:30] <eddyb> dbaupp: a sight for sore eyes https://github.com/mozilla/rust/pull/11974/files
[19:28:30] <eddyb> dbaupp: DEPRECATED - don't we have #[deprecated]?
[19:40:10] <eddyb> strcat: do you have any experience with resolve?
[19:42:12] <eddyb> I guess I can always handle it in typeck
[19:48:42] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[19:50:19] <Eridius> flaper87: re: utf8: yay. re: fastmail: they support the Sieve filtering language so I wrote it in that
[20:01:09] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[20:03:18] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[20:04:24] *** Joins: jdm (jdm@A7937365.8212E19F.1D05C454.IP)
[20:07:29] *** Joins: robert3005 (chatzilla@moz-DA3F8722.skybroadband.com)
[20:09:25] *** Quits: robert3005 (chatzilla@moz-DA3F8722.skybroadband.com) (Quit: ChatZilla 0.9.90.1 [Firefox-Trunk 29.0a1/20140131072118])
[20:10:31] *** Quits: gwty (gwtypc@BEB2E7A8.D37BBF03.CF29F6CE.IP) (Ping timeout)
[20:10:59] *** Quits: dbussink (dbussink@moz-E0A5568C.bussink.me) (Ping timeout)
[20:12:03] *** Joins: gwty (gwtypc@BEB2E7A8.D37BBF03.CF29F6CE.IP)
[20:14:32] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[20:16:24] *** Joins: dbussink (dbussink@moz-E0A5568C.bussink.me)
[20:17:44] <eddyb> brson: got any time to update this? https://docs.google.com/spreadsheet/ccc?key=0AlWBWplsaTZvdGdSdEVzZW1BeDA5dm0zM2FFeW0ySEE&usp=drive_web#gid=0
[20:18:29] <eddyb> brson: though I feel kinda bad because there is one bug in my default type params implementation
[20:21:21] <eddyb> brson: I would also put variadic generics in there, if only to track their interaction with 1.0
[20:22:20] *** Quits: dbussink (dbussink@moz-E0A5568C.bussink.me) (Ping timeout)
[20:22:58] <brson> eddyb: default type params is done? is variadic generics different from default type params?
[20:23:27] <eddyb> brson: yes (modulo one bug I'm trying to fix. I hope there's just one) and yes
[20:23:58] <brson> eddyb: what's the issue on variadic generics?
[20:24:09] <brson> eddyb: thanks for knocking out that issue
[20:24:21] <brson> eddyb: are you going to work on allocators?
[20:24:24] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[20:24:24] *** Joins: dbussink (dbussink@moz-E0A5568C.bussink.me)
[20:24:48] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Connection reset by peer)
[20:25:24] <eddyb> brson: my RFC for variadic generics is https://github.com/mozilla/rust/issues/10124 (there's also one PR, but it's for a small part of that RFC and it's kindof out of date)
[20:26:47] <eddyb> as for allocators, I might do something about them, but I don't have a plan for now
[20:31:15] *** Quits: dbussink (dbussink@moz-E0A5568C.bussink.me) (Ping timeout)
[20:31:20] <brson> variadic generics seems like a very large change to the language
[20:31:57] *** Quits: rca (rcatolino@moz-428C471F.adsl.proxad.net) (Ping timeout)
[20:32:41] *** Quits: gwty (gwtypc@BEB2E7A8.D37BBF03.CF29F6CE.IP) (Ping timeout)
[20:33:36] <eddyb> brson: unboxed closures, among other things, would be easier to implement with variadic generics
[20:33:41] *** Joins: robert3005 (robert3005@moz-DA3F8722.skybroadband.com)
[20:34:19] *** Joins: gwty (gwtypc@BEB2E7A8.D37BBF03.CF29F6CE.IP)
[20:34:19] <brson> there are alternatives for closure traits that don't involve variadic generics?
[20:34:40] <brson> this is the first i've heard of closures being blocked by variadic generics
[20:34:52] <eddyb> brson: the ones I know of are compiler hacks
[20:35:08] <erickt1> ugh, I think I need to restructure my `Hasher` patch. `HashMap.find_equiv` needs to be able to use the same Hasher as `HashMap.find`, but as of right now the `Hasher` can be used with one hashee type.
[20:37:18] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Ping timeout)
[20:40:17] <eddyb> brson: nothing is really blocked, actually. nmatsakis can probably tell you more about the interactions between variadic generics and current/potential language features
[20:46:25] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[20:46:25] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/yXwoeg
[20:46:25] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[20:47:39] <eddyb> dbaupp: did @str/@[T] removal just land?
[20:47:52] *** Quits: doener (doener@moz-C68F600D.unity-media.net) (Quit: leaving)
[20:48:08] *** Joins: nrc|afk (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[20:49:36] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[20:50:52] <brson> acrichto: what's blocking conversion to native threading by default?
[20:51:28] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[20:51:28] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/x_QltQ
[20:51:28] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[20:51:40] <acrichto> brson: not much at this point, the unimplemented I/O interfaces are only unix signals and unix pipes
[20:56:25] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[20:56:25] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/8zf-DA
[20:56:25] <ghrust> 13rust/06auto 148cff852 15JeremyLetang: move concurrent stuff from libextra to libsync
[20:56:25] <ghrust> 13rust/06auto 14f8a7d02 15bors: auto merge of #11939 : JeremyLetang/rust/move-libsync, r=alexcrichton...
[20:56:26] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[20:58:56] <brson> bbl
[20:58:58] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[21:01:53] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[21:01:58] <olsonjeffery> is `pub extern mod foo;` how you would re-export a linked mod?
[21:02:06] <olsonjeffery> aparently not.
[21:02:08] <olsonjeffery> hm.
[21:02:50] <olsonjeffery> curious. so i have the extra::serialize mod moved into the lib.rs for libserialize
[21:03:49] <olsonjeffery> but i can't do `extern mod serialize; pub mod serialize;` because it's the name of the foreign crate. so not sure what to do. would i need to move the contents of libserialize/lib.rs into a sub-mod of the libserialize create for i can reexport?
[21:04:03] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[21:08:31] <eddyb> acrichto: so I can fix that bug but probably introduce another error
[21:08:47] <acrichto> eddyb: how so?
[21:08:50] <eddyb> acrichto: changing resolve for this is not realistic IMO
[21:09:18] <acrichto> :(
[21:12:01] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[21:13:42] *** nrc|afk is now known as nrc
[21:20:43] <cmr> olsonjeffery: pub use foo::*; ?
[21:24:26] <olsonjeffery> didn't satisfy libsyntax.
[21:24:47] <olsonjeffery> i think ill move the contents of lib.rs into serialize.rs, then re-export from the lib.rs in libserialize
[21:29:01] <bjz> acrichto: any suggestions on a plan of attack re. std::num::strconv?
[21:29:07] *** Joins: mankyKitty (Instantbir@moz-F98AF264.rev.sfr.net)
[21:29:27] <acrichto> bjz: oh sorry I think I missed the conversation, have we had a plan up to now?
[21:29:42] <bjz> acrichto: none really, afaik
[21:30:01] <bjz> acrichto: all I know is it needs a major look at
[21:30:14] <acrichto> bjz: yeah I'd believe that
[21:30:25] <bjz> acrichto: possibly a rewrite
[21:31:01] <acrichto> hmm, I think the floating point one is the most preseeing
[21:31:07] <acrichto> the one for int is not that bad I think
[21:31:16] <cmr> they aren't separate.
[21:31:22] <bjz> yep -_-
[21:31:38] <eddyb> they should be
[21:31:39] <bjz> acrichto: only asking because you have experience with fmt
[21:31:44] <bjz> eddyb: I know
[21:31:48] <bjz> https://github.com/mozilla/rust/blob/master/src/libstd/num/strconv.rs
[21:32:02] <acrichto> I only remember floats requiring allocation
[21:32:09] <acrichto> otherwise I think it was all ok
[21:32:24] <bjz> acrichto: I have been waiting for somebody to do it, hoping, but it might be up to me
[21:32:39] <bjz> :[
[21:32:44] <acrichto> alas!
[21:33:09] <bjz> maybe we should work in a separate module
[21:33:21] <bjz> transfer the functionality for floats
[21:33:27] <bjz> then ints
[21:33:45] *** Joins: sunfish (chatzilla@moz-8DE7F965.dsl.dynamic.sonic.net)
[21:33:48] <bjz> yeah
[21:33:53] <bjz> that might be an idea
[21:33:57] <acrichto> do you believe that the interface is lacking?
[21:34:52] <bjz> well, the fundamental logic of the string conversion is flawed
[21:35:27] *** Joins: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net)
[21:35:38] <bjz> it conflates float string conversion with integer string conversion, which makes it all very convoluted
[21:35:48] <bjz> and hence, harder to optimise
[21:35:51] <acrichto> ah I guess so
[21:35:58] <bjz> and it uses its own separate system of traits
[21:36:17] <bjz> basically it was written before the original std::num re-write
[21:38:06] <bjz> acrichto: you probably haven't seen it because I was bad and swept it under the carpet into a separate module -_-#
[21:38:29] <acrichto> lol
[21:40:15] * bjz also wishes we had a better Conv api
[21:40:36] <bjz> but for that we'd need to change some of the rules with traits
[21:41:22] <bjz> To<T> and From<T>
[21:41:25] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[21:41:25] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14f8a7d02 to 142bcd951: 02http://git.io/N3iJvQ
[21:41:25] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[21:41:29] *** Quits: blank_name (blank_name@75624DB1.E6D3F868.537E532E.IP) (Quit: leaving)
[21:41:30] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[21:41:30] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/bsc-Aw
[21:41:30] <ghrust> 13rust/06auto 14dab8640 15OGINO Masanori: Update the zsh completion file for rustc....
[21:41:30] <ghrust> 13rust/06auto 147d89d8c 15bors: auto merge of #11959 : omasanori/rust/update-zsh, r=brson...
[21:41:30] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[21:41:38] <cmr> I don't think To and From are sufficient
[21:41:43] <bjz> no?
[21:41:44] <cmr> Consider the issue of rounding.
[21:41:50] <cmr> To<int> for float
[21:41:53] <bjz> oh yes
[21:41:58] <cmr> Round? towards zero? floor? trunc?
[21:42:03] <cmr> erm, ceil or trunc
[21:42:05] <cmr> etc
[21:42:24] <bjz> hm, that is true
[21:42:43] <bjz> but floats have all kinds of exceptions
[21:42:47] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[21:42:53] <cmr> it applies to any non-integer.
[21:43:01] <cmr> not just floats
[21:43:09] <cmr> (ie, equally to a rational type)
[21:43:24] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[21:43:24] <bjz> hm, ok, you are probably right
[21:43:52] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[21:43:52] *** ChanServ sets mode: +ao dherman dherman
[21:45:46] <cmr> I find myself idly wondering if we should change the syntax for impl
[21:45:54] <cmr> instead of impl[Generics]
[21:45:57] <cmr> [Generics] impl
[21:46:06] <cmr> That way I can actually grep for `impl Clone for`
[21:46:11] <bjz> yeah
[21:46:25] <cmr> or just impl Clone
[21:46:37] <cmr> since the trait can validly be parameterized
[21:46:48] <bjz> I find it *really* hard to format lots of type bounds nicely
[21:47:01] <cmr> yeah
[21:47:36] <bjz> but greppibility is a very concrete design problem
[21:48:32] <bjz> with<T, U, V> impl Foo<T, U> for A<V> { ... }
[21:49:42] <eddyb> bjz: I will make a "NOT ANOTHER KEYWORD" banner and protest
[21:49:51] <cmr> ah with is a good solution to the "what are we parsing" problem.
[21:50:00] <bjz> ofc, with [T, U, V] impl Foo[T, U] for A[V] { ... } is much nicer, but we won't go there cmr
[21:50:05] <cmr> though I don't think < in any context could ever be ambiguous
[21:50:11] <bjz> no
[21:50:34] <bjz> :(
[21:50:52] <olsonjeffery> ugh dude.
[21:51:03] <bjz> or where<T, U, V> impl Foo<T, U> for A<V> { ... }
[21:51:04] <cmr> rusti: if a < impl A for B { ... } { println!("wat"); }
[21:51:08] -rusti- pastebinned 7 lines of output: http://ix.io/afZ
[21:51:12] <cmr> not an ice!
[21:51:35] *** Joins: blank_name (blank_name@75624DB1.E6D3F868.537E532E.IP)
[21:51:39] <bjz> forall<T, U, V> impl Foo<T, U> for A<V> { ... }
[21:51:49] <cmr> ohh that's especially nice
[21:52:06] <cmr> forall<T where Bound, U, V where Bound> ...
[21:52:14] <cmr> eddyb: we can dream :)
[21:52:27] <eddyb> and it's not snake_case so it won't conflict with regular names
[21:52:33] <eddyb> but "where" is another silly one
[21:52:57] <bjz> âˆ€<TâˆˆFoo, U, V> impl Foo<T, U> for A<V> { ... }
[21:53:02] <bjz> :P
[21:53:22] <cmr> we can toss the <> since impl and for aren't valid identifiers.
[21:53:37] <cmr>  âˆ€ TâˆˆFoo, U, V impl Foo T, U for A V { ... } 
[21:53:58] <eddyb> cmr: great, now you have Haskell
[21:54:03] <bjz> \o/
[21:54:06] <cmr> getting there :)
[21:54:11] * cmr loves haskell's syntax
[21:54:17] * eddyb gives up and goes to apply for a job at the local McDonalds
[21:54:34] <bjz> <3 types above identifiers
[21:55:51] <bjz> cmr: there is also the question of generic functions
[21:56:02] <bjz> do you standardise it?
[21:56:09] <cmr> bjz: generic functions are fine, I can still grep for `fn foo`.
[21:56:20] <cmr> I see no particular reason to change it.... but the inconsistency is a bit unfortunate.
[21:56:34] <bjz> forall<T, U> fn foo(x: Foo<T, U>) { ... }
[21:56:48] <bjz> that could be nicely formatted on two lines
[21:56:52] <cmr> it could be.
[21:56:59] <cmr> actually I am really liking forall
[21:57:03] <bjz> forall<T, U>
[21:57:04] <bjz> fn foo(x: Foo<T, U>) { ... }
[21:57:17] <eddyb> you do realize that's template from C++, right?
[21:57:21] <bjz> yes
[21:57:27] <eddyb> now can we *not* have it?
[21:57:33] <cmr> why not?
[21:57:39] <bjz> why not?
[21:57:40] <cmr> it's only similar syntactically.
[21:57:44] <cmr> it's a fine syntax.
[21:57:57] <bjz> and also forall describes what it actually is
[21:58:40] <bjz> http://en.wikipedia.org/wiki/Bounded_quantification
[21:59:18] <cmr> It also hints that it's actually monomorphized, too.
[21:59:26] <cmr> forall<T> struct Foo { x: T }
[21:59:40] <cmr> for every type T, there is a struct Foo which contains a member x of type T
[21:59:44] <bjz> yes
[21:59:49] <cmr> which is how it ends up happening; every Foo<T> is unique.
[22:00:18] <bjz> not that the is a struct, with generic type <T>
[22:00:27] <bjz> the issue is
[22:00:44] <eddyb> after 1.0 we can have #[syntax(Haskell)] mkay?
[22:00:50] <bjz> it is used like Foo<T> outside the declaration
[22:01:04] <cmr> I don't particularly find that to be a problem.
[22:01:12] <cmr> eddyb: this is solving real problems with the syntax though.
[22:01:44] <bjz> eddyb: standardising the f-bounded declaration syntax
[22:02:26] <bjz> http://en.wikipedia.org/wiki/Bounded_quantifier
[22:02:33] <eddyb> or even Foo[T] - I understand how it can be better, but I don't like it personally
[22:02:38] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[22:03:30] <bjz> cmr: I definitely think you could argue the monomorphisation thing
[22:03:47] <eddyb> though we've had bikesheds over this already
[22:04:00] <bjz> have we?
[22:04:04] <cmr> bjz: would you like to co-propose this with me? I can write it up.
[22:04:08] <bjz> yes
[22:04:25] <cmr> ok, I'll do it after I finish TWiR
[22:04:26] <eddyb> *sigh*
[22:04:29] <cmr> (working on it now)
[22:04:50] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[22:05:09] <cmr> hell I'll do this first
[22:05:46] <bjz> cmr: greppable, reflects monomorphisation, easier to format
[22:06:16] <bjz> standardised across the multiple use cases
[22:06:39] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[22:06:40] <flaper87> do you guys usually work w/ several branches or several working copies? What's the trick to avoid building when switching branches? (if there's any)
[22:06:53] <cmr> flaper87: git-new-workdir
[22:06:57] <cmr> several working copies.
[22:07:03] <flaper87> cmr: thought so!
[22:07:05] <cmr> but using the same underlying git repo
[22:07:05] <flaper87> thanks
[22:07:09] <cmr> so also multiple branches.
[22:15:49] *** Quits: cgaebel (clark@moz-92F543E4.nycmny.east.verizon.net) (Ping timeout)
[22:16:39] *** Joins: cgaebel (clark@moz-92F543E4.nycmny.east.verizon.net)
[22:16:42] <Eridius> flaper87: I apologize I'm not going to be able to resume reviewing your glob PR this afternoon. I have a headache. If dbaupp or someone else wants to review it that's fine, otherwise I'll get to it later
[22:17:51] <Eridius> flaper87: as for supporting both, perhaps you can just modify the pattern parsing and have the enum contain both Byte and Char tokens, and then the actual matching won't have to care
[22:18:25] <flaper87> Eridius: hey, don't worry. it can wait if no one wants to jump in
[22:18:52] <flaper87> Eridius: thanks for the review, btw!
[22:19:04] <Eridius> flaper87: np, hopefully I can get back to it soon
[22:19:26] <flaper87> Eridius: yeah, that sounds like a good idea.
[22:19:41] <flaper87> not sure if we should make that change as part of this PR
[22:19:51] <flaper87> I don't mind adding it, though!
[22:20:11] <Eridius> well, the PR as it stands now is breaking existing patterns that use unicdoe codepoints in character classes, so it seems sensible to do this as part of teh same PR
[22:21:53] *** Quits: cgaebel (clark@moz-92F543E4.nycmny.east.verizon.net) (Ping timeout)
[22:21:58] *** Parts: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net) ()
[22:22:17] <flaper87> Eridius: sure thing. I'll work on that in a bit or tomorrow! 
[22:22:28] *** Joins: cgaebel (clark@moz-92F543E4.nycmny.east.verizon.net)
[22:23:47] *** Quits: bytbox (s@moz-54E13927.washdc.fios.verizon.net) (Ping timeout)
[22:24:10] *** Joins: bytbox (s@moz-54E13927.washdc.fios.verizon.net)
[22:24:38] <flaper87> Eridius: mmh, but having both bytes and char tokens, we would be having a wider range for unicodes, I guess. It'll still match the right files though
[22:27:07] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[22:27:15] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[22:28:39] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[22:28:44] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[22:28:54] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[22:29:04] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[22:35:27] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[22:36:29] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[22:36:29] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 147d89d8c to 142bcd951: 02http://git.io/N3iJvQ
[22:36:29] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[22:36:31] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[22:36:31] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/TzkSvA
[22:36:31] <ghrust> 13rust/06auto 141eafdce 15Alex Crichton: Move doc/ to src/doc/...
[22:36:31] <ghrust> 13rust/06auto 1469316f4 15Alex Crichton: Remove VPATH usage in Makefiles...
[22:36:32] <ghrust> 13rust/06auto 14fc7a1d9 15Alex Crichton: Rewrite the doc makefile for doc => src/doc...
[22:36:34] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[22:41:10] <acrichto> cmr: you may be interested in https://github.com/mozilla/rust/issues/9996
[22:47:32] <flaper87> cmr: that is indeed an interesting proposal
[22:47:47] <flaper87> I agreee it's more readable
[22:47:51] <flaper87> agree*
[22:49:46] <dbaupp> eddyb: yes there's #[deprecated], but I didn't add the DEPRECATED
[22:49:54] <dbaupp> eddyb: also, yes, @[]/@str removal landed \o/
[22:50:02] <eddyb> sweet :D
[22:50:09] <eddyb> dbaupp: including trans code?
[22:50:18] <dbaupp> eddyb: as much as I could find
[22:50:26] <dbaupp> (although I didn't look super hard)
[22:50:28] <dbaupp> just with grep
[22:50:34] <dbaupp> but vstore_box is now dead
[22:51:05] <eddyb> why does typeck::check have to be so silly?
[22:51:50] <eddyb> I don't like duplicating code, but I don't have a simple and sane way of inserting an element into an iterator at an arbitrary position
[22:52:41] <eddyb> I also don't understand why it does that instead of setting self_ty, but there's probably a good reason for it
[22:54:03] <Eridius> acrichto: github says https://github.com/mozilla/rust/pull/11946 is already stale again
[22:57:41] <acrichto> I'm in the middle of rebasing it
[22:57:44] <acrichto> (kinda)
[22:57:48] <acrichto> removing @ wreaked havoc with it
[22:58:35] <Eridius> p=100!
[22:58:57] <eddyb> 11111!!!!
[23:02:22] *** Quits: mankyKitty (Instantbir@moz-F98AF264.rev.sfr.net) (Ping timeout)
[23:02:56] *** flaper87 is now known as flaper87|afk
[23:03:23] *** Joins: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP)
[23:05:32] *** Quits: lpy (lpy@ADFC09F7.6E01A51A.65042015.IP) (Ping timeout)
[23:06:31] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[23:06:32] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/sOujIA
[23:06:32] <ghrust> 13rust/06auto 141eafdce 15Alex Crichton: Move doc/ to src/doc/...
[23:06:32] <ghrust> 13rust/06auto 1469316f4 15Alex Crichton: Remove VPATH usage in Makefiles...
[23:06:33] <ghrust> 13rust/06auto 14c10e783 15Alex Crichton: Rewrite the doc makefile for doc => src/doc...
[23:06:34] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[23:07:48] <dbaupp> acrichto: we only removed *some* support for @, so it should be fine :P
[23:09:47] <cmr> https://github.com/mozilla/rust/pull/11840/files#diff-eabfb0a8fb2fa390356bbbf0517d6327R602
[23:09:51] <cmr> why is that test failing
[23:09:53] <cmr> what did I do wrong
[23:09:57] <cmr> why is strcmp returning -127?
[23:10:47] <dbaupp> because it's only defined to return positive/negative/zero, not -1, 0, 1?
[23:10:53] <cmr> sure
[23:10:57] <cmr> but it should be returning 0
[23:11:04] <dbaupp> oh
[23:11:06] <dbaupp> i see
[23:11:12] * dbaupp reads the code properly
[23:11:14] <Eridius> which test failed?
[23:11:19] <cmr> the test I linked to :p
[23:11:22] <cmr> test_clone
[23:11:30] <Eridius> oh, it scrolled to the bottom of the page
[23:11:34] <Eridius> so I couldn't tell which one you were trying to link to
[23:11:39] <cmr> doesn't for me..
[23:11:54] <Eridius> when I'm scrolled to the bottom, test_clone is at the top of the screen
[23:12:06] <Eridius> so I guess I'm just lucky with my browser window size
[23:12:09] <cmr> ah
[23:13:36] <Eridius> cmr: copy_nonoverlapping_memory won't add the NUL
[23:13:50] <cmr> ohhhh len isn't including the 0
[23:13:52] <cmr> duh
[23:13:53] <Eridius> heck, you're missing the +1 on the malloc too
[23:13:54] <cmr> Eridius: thanks <3
[23:13:57] <Eridius> I could have sworn you had a +1 before
[23:14:03] <cmr> I didn't.
[23:14:06] <Eridius> hrm
[23:14:10] <cmr> actually
[23:14:17] <Eridius> oh the +1 is in to_c_str_unchecked
[23:14:22] <cmr> I had it in the old Eq impl too
[23:15:24] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[23:20:40] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[23:21:33] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[23:21:34] *** ChanServ sets mode: +qo brson brson
[23:38:16] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[23:38:31] <cmr> Eridius: ah thanks for the r+, hadn't finished running tests / was busy with other things.
[23:39:42] *** Joins: zv (zv@moz-955F83E9.hsd1.ca.comcast.net)
[23:41:19] <Eridius> cmr: I was gonna ask, but everything in it looks good to me
[23:46:26] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[23:46:27] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1486ff69b to 142bcd951: 02http://git.io/N3iJvQ
[23:46:27] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[23:46:28] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[23:46:28] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/gL8LLw
[23:46:28] <ghrust> 13rust/06auto 1473024e4 15Corey Richardson: impl Clone for CString...
[23:46:28] <ghrust> 13rust/06auto 14a7f0ecf 15Corey Richardson: impl Eq for CString
[23:46:28] <ghrust> 13rust/06auto 14a72ab2d 15bors: auto merge of #11840 : cmr/rust/cstr, r=kballard
[23:46:29] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[23:46:30] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[23:46:50] *** Quits: cgaebel (clark@moz-92F543E4.nycmny.east.verizon.net) (Ping timeout)
[23:47:20] <eddyb> I guess I can always make the error message for a missing type param during substitution (the index out of bounds one) better
[23:47:23] *** Joins: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP)
[23:47:42] <eddyb> though there's so span, so tough luck
[23:49:18] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[23:54:33] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[23:54:41] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
