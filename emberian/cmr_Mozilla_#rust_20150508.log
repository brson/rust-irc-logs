[00:00:22] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[00:00:31] *** Joins: dawehner (quassel@moz-ipohd2.hsi7.kabel-badenwuerttemberg.de)
[00:00:57] *** Joins: naerbnic (naerbnic@moz-mol.4ra.239.216.IP)
[00:01:32] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[00:01:40] <Havvy> There's a lot less people on the Rust 1.0 Authors list than I would have thought there'd be.
[00:01:57] <bluss> only 1000 people or so?
[00:02:06] <Havvy> 1030.
[00:02:16] <shep-home> "only"
[00:02:31] <shep-home> what kind of number would you expect?
[00:02:33] <Havvy> I was expecting more like 4000 to 5000.
[00:02:47] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[00:02:49] <shep-home> I have no experience with numbers of contributors for stuff like this
[00:02:55] <cmr> really? that's an absurd amount of contributors for almost any project this young.
[00:03:09] <cmr> *especially* for a programming language!
[00:03:09] <steveklabnik> rails/rails has 2700 contributors
[00:03:22] <shep-home> Havvy: clearly all the contributors are 4x developers ;-)
[00:03:30] <steveklabnik> ruby/ruby shows.... 28? that's wrong. for sure.
[00:03:34] <steveklabnik> 38
[00:03:42] *** Joins: KeyboardFire (llama@moz-4s8.jeh.196.98.IP)
[00:03:44] <Havvy> cmr:  Well, I'm counted as a contributor, and my two commits are "Added missing #[test]" and "Changed <T, S> to <S, R>", both in files that no longer exist.
[00:03:49] *** Joins: bugweiser (Mibbit@moz-jvqs46.panda-world.ne.jp)
[00:03:54] <brson> /r/rust is now listed among the 'very large' language subreddits https://www.reddit.com/r/programming/wiki/faq#wiki_what_language_reddits_are_there.3F
[00:03:56] <steveklabnik> still a contribution!
[00:04:10] <d-snp> I contributed to ruby once, but they use svn, so my git commit got turned into svn with a different author
[00:04:11] <cmr> We've kept almost 1 new contributor a day for the past two years, roughly.
[00:04:12] *** Quits: bugweiser (Mibbit@moz-jvqs46.panda-world.ne.jp) (Quit: http://www.mibbit.com ajax IRC Client)
[00:04:31] *** Quits: spider-mario (spidermario@moz-coblcf.fbx.proxad.net) (A TLS packet with unexpected length was received.)
[00:04:36] <brson> d-snp: llvm did that to me too!
[00:04:41] <brson> so demoralizing
[00:04:50] *** Quits: dawehner (quassel@moz-ipohd2.hsi7.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[00:04:56] <brson> i can't put my 5 or so llvm commits on me resume
[00:05:04] <d-snp> well, I was so starstruck that tenderlove was personally helping me I didnt care :P
[00:05:14] <cmr> heh
[00:05:15] <steveklabnik> :)
[00:05:17] <Havvy> brson:  Did you raise an issue with the LLVM team about it?
[00:05:21] *** Quits: kgrandon1 (Adium@moz-u3dg2t.sfo1.mozilla.com) (Quit: Leaving.)
[00:05:22] <steveklabnik> he's great. but that's so offtopic
[00:06:09] *** Quits: Fiveside (fiveside@moz-t2eatg.vsp.com) (Ping timeout: 121 seconds)
[00:06:28] *** Joins: yichoi (yichoi@moz-t0r.chb.167.121.IP)
[00:06:36] <bstrie> shep-home: are you in pittsburgh? are you going to the rust party there?
[00:06:42] *** Joins: kazimuth (james@moz-n85.696.189.18.IP)
[00:06:47] *** Joins: renderful (renderful@moz-atg40s.co.comcast.net)
[00:06:49] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[00:06:57] *** Quits: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net) (Client exited)
[00:07:27] *** Joins: ndhoule (ndhoule@moz-qlf.50d.255.50.IP)
[00:07:29] <shep-home> bstrie: indeed. It'd be awkward for carols10cents to throw a party and me not attend ;-)
[00:07:31] *** Quits: nfiedler (nfiedler@moz-1ejjru.hfc.comcastbusiness.net) (Client exited)
[00:07:38] <brson> Havvy: nah, it's not really a big deal. i'll get my cred elsewhere
[00:07:41] *** Quits: yichoi (yichoi@moz-t0r.chb.167.121.IP) (Quit: )
[00:07:46] *** Quits: futile (felix@moz-cmcd12.unity-media.net) (Quit: WeeChat 1.2-rc1)
[00:08:06] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[00:08:06] *** ChanServ sets mode: +o erickt
[00:08:24] *** Quits: ismaelga (ismaelga@moz-efj.1n6.251.188.IP) (Connection closed)
[00:08:53] <shep-home> bstrie, steveklabnik: maybe you can help me think of a name for my crate. It lets me search for a small set of ASCII characters in a UTF-8 string at 6501 MB/s. Need a name so I can publish it :-)
[00:08:59] *** Joins: choplin (choplin@moz-qkm9un.ap.nuro.jp)
[00:09:13] *** Joins: ajtulloch (ajtulloch@moz-ga0.9o0.201.199.IP)
[00:09:29] <bstrie> shep-home: do you work at think through learning too?
[00:09:43] *** Joins: bren2010 (bren2010@moz-356.o3d.198.71.IP)
[00:10:05] *** Joins: raph (raph@moz-05k.780.198.207.IP)
[00:10:12] *** Quits: raph (raph@moz-05k.780.198.207.IP) (Quit: Leaving.)
[00:10:24] <Havvy> shep-home:  shep-grep
[00:10:34] *** Quits: ayonix (quassel@moz-4i0eh6.xyz) (A TLS packet with unexpected length was received.)
[00:10:34] <bstrie> shep-home: "fastcii"
[00:10:36] *** Joins: ayonix (quassel@moz-4i0eh6.xyz)
[00:10:45] <bstrie> "spiidii"
[00:10:49] *** Quits: renderful (renderful@moz-atg40s.co.comcast.net) (Ping timeout: 121 seconds)
[00:10:55] <Havvy> No @ spiidii
[00:11:13] <bstrie> "havvii"
[00:11:32] <Havvy> That's actually a variant of my name I've not used.
[00:11:46] <shep-home> bstrie: nah, I work downtown, remotely for a CA company
[00:11:50] <bstrie> shep-home: what's the general intent of this library?
[00:11:51] <d-snp> "ascii-in-utf8-search"
[00:11:56] <d-snp> ;)
[00:12:06] <shep-home> d-snp: that's where my literal brain goes too ;-)
[00:12:29] <shep-home> bstrie: it's very useful for parsing tasks. specifically, I'm using it in my XML crate
[00:12:45] <shep-home> Although I am liking "fascii"
[00:12:48] <d-snp> oddly specific speed though, why is it 6501MB/s?
[00:12:53] <shep-home> a small variant of the earlier
[00:13:06] <shep-home> d-snp: cause 6500 would be too slow? ^_^
[00:13:17] <shep-home> Nah, I just pasted in my benchmark result
[00:13:25] <shep-home> and that's what it was from the last run
[00:13:35] <Jesse> "fascii" almost sounds like it could be the plural of "fascist"
[00:13:38] <bstrie> shep-home: be aware that that might be interpreted as a reference to http://en.wikipedia.org/wiki/Fasces :P
[00:14:13] <bstrie> indeed, fascii might be the plural of fascis, which is the latin root for fasces, which is the origin of the word fascism
[00:14:29] <shep-home> hmm
[00:14:43] *** Quits: hjr3_ (hradtke@moz-dmp.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:14:59] <shep-home> I need a Venn diagram of "people parsing strings in Rust" and "language nerds"
[00:15:00] <d-snp> which means something like 'deed'
[00:15:06] <d-snp> I think :P
[00:15:09] <KeyboardFire> is there a concise way to get [0,1,...,n-2,,n-1,n-2,...,1,0] from n? ex. 3 -> [0,1,2,1,0]
[00:15:32] <bstrie> "parscii"
[00:15:34] *** Joins: xificurC_ (xificurC@moz-3u7gmd.chello.sk)
[00:15:35] <Havvy> Is there not a .repeat() iterator?
[00:15:46] <bstrie> shep-home: maybe being literal isn't a bad thing here :P
[00:15:54] <bstrie> Havvy: there is, somewhere
[00:15:56] <bluss> Havvy: std::iter::repeat().
[00:15:59] *** Joins: pgonda (peter@moz-otulp7.ma.comcast.net)
[00:16:03] <bluss> Havvy: or do you want .cycle() ?
[00:16:16] <Havvy> bluss:  I'm more thinking of KeyboardFire's question.
[00:16:19] <d-snp> KeyboardFire: that's just 0..n + (0..n) in reverse right?
[00:16:25] <KeyboardFire> yeah
[00:16:26] <d-snp> ehh n-1
[00:16:33] <KeyboardFire> same thing
[00:16:38] <Jesse> shep-home: bytescan?
[00:16:47] *** Quits: xificurC (xificurC@moz-3u7gmd.chello.sk) (Ping timeout: 121 seconds)
[00:16:48] <shep-home> KeyboardFire (0..3).chain((0..3).rev().skip(1))
[00:16:56] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[00:17:33] *** Quits: eric_lagergren (barsonme@moz-hshokg.q6t2.2174.0008.2601.IP) (Ping timeout: 121 seconds)
[00:17:33] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[00:17:40] <shep-home> or you can subtract 1 from the second range and lose the `skip`
[00:17:40] <KeyboardFire> that works; thanks!
[00:17:44] *** Quits: tadh (quassel@moz-88tk3f.res.rr.com) (Ping timeout: 121 seconds)
[00:17:53] <d-snp> the haskell channel has a bot that lets you evaluate oneliners like that, would perhaps be cool here too
[00:18:15] <bluss> d-snp: we have playbot. Just missing a simple way to display sequences from iterators
[00:18:38] <KeyboardFire> playbot: (0..3).chain((0..3).rev().skip(1)).collect::<Vec<i32>>()
[00:18:40] -playbot- [0, 1, 2, 1, 0]
[00:18:42] <KeyboardFire> ^ like so?
[00:18:45] <d-snp> lol
[00:18:47] <d-snp> excellent
[00:19:18] *** Quits: choplin (choplin@moz-qkm9un.ap.nuro.jp) (Connection closed)
[00:19:20] *** Joins: _td (tatterdemal@moz-a0dnkb.ca.comcast.net)
[00:19:29] <shep-home> bstrie: you can't give me the "fascii" idea and then tell me to be literal :-p
[00:19:37] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[00:19:47] <bluss> that's close to fasciism
[00:20:03] <shep-home> turns out the Venn diagram has a lot of overlap
[00:20:18] <shep-home> bluss: are you not a fasciist?
[00:20:35] <bluss> I will be when I install fascii
[00:20:41] <bluss> never turn back
[00:20:43] <shep-home> sxd-super-fast-ascii-search
[00:21:09] <shep-home> I feel bad taking an overly generic crate name for something simple
[00:21:14] *** Quits: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP) (Client exited)
[00:21:18] <shep-home> so I'd want to prefix it with my project name
[00:21:33] <shep-home> like "ascii-search" seems too global
[00:21:35] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[00:21:35] <bluss> see lack of namespaces is good for creativity
[00:21:55] <shep-home> but evidently creativity leads to fasciism
[00:22:39] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[00:22:51] *** Quits: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com) (Ping timeout: 121 seconds)
[00:22:57] *** Joins: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP)
[00:22:57] <shep-home> Maybe I'll pick fascii and add a disclaimer "not associated with any political ideology"
[00:23:28] *** Joins: tadh (quassel@moz-88tk3f.res.rr.com)
[00:23:29] <bluss> what about jetscii
[00:23:51] <dwrensha> :o
[00:23:55] <d-snp> org-shep-utf8-ascii-search
[00:23:57] *** Joins: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net)
[00:25:35] <d-snp> you might also take advantage of rust' relative youth and claim some super common english word for your crate name :P
[00:26:57] <shep-home> d-snp: "a"
[00:27:10] <d-snp> exactly :P
[00:27:28] *** Joins: Takronix (Takronix@moz-nm15k0.hr.cox.net)
[00:27:35] <shep-home> "'a' stands for ASCII, which stands for ..." 
[00:28:33] *** Quits: naerbnic (naerbnic@moz-mol.4ra.239.216.IP) (Client exited)
[00:28:35] <shep-home> github suggests miniature-bear
[00:28:46] <shep-home> which has like a 10% appeal
[00:29:17] <FreeFull> Miniature bears are rather cute
[00:29:21] *** Quits: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:29:53] *** Joins: eric_lagergren (barsonme@moz-hshokg.q6t2.2174.0008.2601.IP)
[00:30:08] *** Quits: Altazimuth (Altazimuth@moz-rb7u6p.skybroadband.com) (Ping timeout: 121 seconds)
[00:30:33] <bstrie> bluss: jetscii ++++
[00:30:38] <bstrie> shep-home: ^ endorsed
[00:30:53] *** Joins: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net)
[00:31:06] <shep-home> it's too late
[00:31:12] <bstrie> not too late
[00:31:14] *** Quits: KeyboardFire (llama@moz-4s8.jeh.196.98.IP) (Ping timeout: 121 seconds)
[00:31:24] <d-snp> there is always git push -f
[00:31:31] <bstrie> never too late
[00:31:55] <shep-home> OH GOD THE PRESSURE
[00:32:06] <shep-home> peer pressure exists forever
[00:32:06] *** Quits: GaryOak_ (GaryOak_@moz-etoj16.hfc.comcastbusiness.net) (Connection closed)
[00:32:22] <shep-home> maybe I'll publish under multiple names
[00:32:27] <shep-home> see which gets more downloads
[00:32:42] <Havvy> That would be namespace pollution. :S
[00:33:04] <shep-home> oh, i'll do it as "a", "b", ... "z"
[00:33:05] *** Joins: anders (andars@moz-bsldst.sntcca.sbcglobal.net)
[00:33:27] *** Quits: pgonda (peter@moz-otulp7.ma.comcast.net) (Ping timeout: 121 seconds)
[00:34:21] <bstrie> brson: I'm surprised that anybody ever checks that list of language subreddits, it makes me feel like it wasn't a waste to continually update it :P
[00:34:28] <d-snp> I actually have a rust question now, if I get a dependency that doesnt compile such as this: http://pastie.org/private/2ocqkunlcripa3yxhfgrmq that means the dependency version is not well defined right?
[00:34:36] *** Joins: yoshi (Mibbit@moz-rf5rhc.eastlink.ca)
[00:34:42] *** Joins: minot2 (kkus@moz-baj4jj.74.srtnet.com)
[00:34:50] <d-snp> how would I solve it, can I override dependency versions or something?
[00:35:19] <yoshi> Hey Peeps
[00:35:29] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[00:35:33] *** Joins: damian0 (damian0@moz-34a6qv.retail.telecomitalia.it)
[00:35:46] *** Quits: RC9 (RCIX@moz-vnmep7.ph.cox.net) (Connection closed)
[00:36:18] <yoshi> Does anyone know if Mozilla is talking to any startup teams looking to build cool new stuff with Rust?
[00:36:56] *** Quits: tadh (quassel@moz-88tk3f.res.rr.com) (Ping timeout: 121 seconds)
[00:37:30] *** Joins: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net)
[00:38:08] *** Quits: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP) (Ping timeout: 121 seconds)
[00:38:13] <bstrie> yoshi: do you represent a startup team looking to build cool new stuff with rust? :)
[00:38:26] *** Joins: RCIX (RCIX@moz-tk1q7b.reverse.softlayer.com)
[00:38:30] *** Quits: oceanwhit (christianwh@moz-a38b1m.ca.comcast.net) (Ping timeout: 121 seconds)
[00:38:30] <bstrie> yoshi: there are at least a few startups using rust that have contacted us, depends on what you mean by "talking to"
[00:38:36] *** Quits: RCIX (RCIX@moz-tk1q7b.reverse.softlayer.com) (Connection closed)
[00:38:59] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[00:40:07] <yoshi> hey, thanks - yes I do :)
[00:40:20] <yoshi> we're really excited about rust and working on a cool open source project atm
[00:40:38] *** Joins: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com)
[00:40:39] <yoshi> looking to get on the phone with somebody who might be able to help inform our business model
[00:40:44] <bstrie> yoshi: we'd love to hear what you're doing with rust, are you in stealth mode?
[00:40:57] <talevy> What is the best way to allow an argument to be passed in as a both a String and &str without allocating an extra String when it is not needed. using T: ToString causes me to say "to_string()" which may unnecessarily allocate another String when a String is passed... I have been looking into Cow<str> but am not sure how to effectively use it for this
[00:40:57] <talevy> use-case.
[00:41:09] <bstrie> talevy: Cow is used for this, I believe
[00:41:34] *** Quits: Nextra (Nextra@moz-embftu.dip.osnanet.de) (Connection closed)
[00:41:42] *** Quits: bebijlya (bebijlya@moz-50asnr.adsl.tpnet.pl) (Quit: kthxbai)
[00:41:48] *** Joins: dickchansey (dickchansey@moz-50asnr.adsl.tpnet.pl)
[00:41:59] <yoshi> bstrie - are you the best person to reach out to? We are working towards something to show for the bay area launch party
[00:42:16] <bstrie> yoshi: would you like to give a lightning talk? would you happen to be with maidsafe?
[00:42:29] *** Joins: tkellen (tkellen@moz-f5ji1n.vt.comcast.net)
[00:42:58] <bluss> talevy: you can use  Into<String> as a bound for the argument I think
[00:43:01] *** Quits: Kroisse (Kroisse@moz-t75tk5.krois.se) (Quit: Good bye :))
[00:43:09] <bstrie> yoshi: I don't know if I'm the best person, but I'm certainly a person :) erickt and brson are the ones taking point on organizing the SF launch party
[00:43:14] *** Parts: c0r5um (n0x0ff@moz-75e028.abo.wanadoo.fr) ()
[00:43:29] *** Joins: KeyboardFire (llama@moz-4s8.jeh.196.98.IP)
[00:44:01] <talevy> bluss: I suppose that does what I want from ToString without doing a semantic copy. thanks!
[00:44:29] <yoshi> sweet
[00:44:39] <bstrie> bluss: is Cow or Into preferred there?
[00:44:39] <bluss> talevy: it allows you to accept both &str and String, and only copy if in the &str case
[00:44:53] <bstrie> bluss: does Into subsume Cow, then?
[00:44:56] <bluss> bstrie: depends on what you need I think? If you need String
[00:45:10] <talevy> I want an owned String at the end of the day
[00:45:18] <bluss> bstrie: Cow can be used if you want to take a Cow, /maybe/ ownify and mutate it
[00:45:21] <talevy> but I have a few layers of abstraction until that String gets where it needs to be
[00:45:45] <talevy> and I don't want to keep allocating at random steps where it would be nice for &str to be passed in
[00:46:00] <yoshi> bstrie, sent you a pm :)
[00:47:23] *** Joins: kgrandon (Adium@moz-2d2teg.2rkg.9kg1.0101.2620.IP)
[00:47:24] *** Quits: Savago (Savago@moz-8hd.3b6.246.162.IP) (Client exited)
[00:48:12] <bstrie> steveklabnik: do you think that the book deserves a paragraph discussion how a function can take either &str or String (via Into or Cow or whatever we're using for that these days)
[00:48:12] *** Quits: rovar (rovar@moz-6iq.47m.88.38.IP) (NickServ (RECOVER command used by rovar_))
[00:48:12] *** rovar_ is now known as rovar
[00:48:25] *** Joins: rovar_ (rovar@moz-6iq.47m.88.38.IP)
[00:48:43] *** Joins: aatch (james@moz-ciignl.bmm3.j08e.e000.2406.IP)
[00:49:16] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[00:49:33] *** Joins: maedhroz (maedhroz@moz-4jk5ho.res.rr.com)
[00:49:37] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[00:50:00] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[00:50:34] <bluss> bstrie: or Into<Cow<'a, str>>!
[00:50:37] <Sgeo> If I do a thing but need to catch panics, but there's no actual safe thing for me to do upon a panic, is it reasonable to abort?
[00:50:45] *** Quits: KeyboardFire (llama@moz-4s8.jeh.196.98.IP) (Quit: leaving)
[00:50:46] *** Quits: dickchansey (dickchansey@moz-50asnr.adsl.tpnet.pl) (Quit: kthxbai)
[00:50:49] <cmr> Sgeo: I think so yes.
[00:50:55] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[00:50:55] *** Joins: dickchansey (dickchansey@moz-50asnr.adsl.tpnet.pl)
[00:50:56] *** Joins: sin8h (Adium@moz-f0u.cn5.51.106.IP)
[00:51:09] <Sgeo> Probably should document /turns panics into aborts/ in the function
[00:51:10] <cmr> I'm a fan of aborting. Nice, simple, well-defined behavior that a crash reporter can deal with :)
[00:51:31] *** Joins: brson (brson@moz-r1h.uhc.47.96.IP)
[00:51:31] *** ChanServ sets mode: +ao brson brson
[00:52:23] *** Quits: dickchansey (dickchansey@moz-50asnr.adsl.tpnet.pl) (Quit: kthxbai)
[00:52:33] *** Joins: dickchansey (dickchansey@moz-50asnr.adsl.tpnet.pl)
[00:53:35] *** Quits: maedhroz (maedhroz@moz-4jk5ho.res.rr.com) (Ping timeout: 121 seconds)
[00:53:39] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Connection closed)
[00:53:40] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[00:54:14] *** bvssvni is now known as bvssvni_
[00:54:31] <aatch> cmr, not evil enough. Should call `exit(0)`.
[00:54:37] <cmr> :(
[00:55:07] <FreeFull> Should call system("shutdown -h 0")
[00:55:27] *** Joins: Kroisse (Kroisse@moz-t75tk5.krois.se)
[00:55:50] *** Quits: Selemur (chatzilla@moz-tpgfbn.kawo1.rwth-aachen.de) (Ping timeout: 121 seconds)
[00:56:04] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[00:56:04] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Connection closed)
[00:56:09] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[00:56:20] *** Joins: hjr3 (hradtke@moz-dmp.av4.169.69.IP)
[00:56:52] <rovar> sigint
[00:57:55] *** Quits: ajtulloch (ajtulloch@moz-ga0.9o0.201.199.IP) (A TLS packet with unexpected length was received.)
[00:58:13] *** Joins: KeyboardFire (llama@moz-4s8.jeh.196.98.IP)
[00:58:20] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[00:59:56] *** Quits: errordeveloper (ilya@moz-4uj.bgu.199.90.IP) (Ping timeout: 121 seconds)
[01:00:46] *** Quits: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:01:23] *** Joins: dawehner (quassel@moz-ipohd2.hsi7.kabel-badenwuerttemberg.de)
[01:01:23] *** Quits: kazimuth (james@moz-n85.696.189.18.IP) (Connection closed)
[01:02:05] *** Joins: Guest67 (textual@moz-hnq.m3l.124.74.IP)
[01:02:23] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[01:02:23] *** Quits: Guest67 (textual@moz-hnq.m3l.124.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:02:25] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[01:02:31] *** Quits: hjr3 (hradtke@moz-dmp.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:02:41] <d-snp> has this been deprecated? std::marker::PhantomFn
[01:02:44] *** Quits: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net) (Client exited)
[01:02:53] <d-snp> the doc says it's stable, but it's not in the nightly nor in the beta
[01:02:55] *** Quits: sin8h (Adium@moz-f0u.cn5.51.106.IP) (Quit: Leaving.)
[01:03:19] *** Quits: lov2cod (Adium@moz-40l.ob1.22.8.IP) (Quit: Leaving.)
[01:03:26] <bluss> d-snp: yes it's gone
[01:03:29] <aatch> d-snp, it was removed.
[01:03:35] <d-snp> ah ok
[01:03:38] <aatch> d-snp, the docs your looking at must be old.
[01:04:08] <huon> shep-home: I guess you may know this but the crates.io 'documentation' link of your jetscii package is broken
[01:04:37] <bluss> yay jetscii, great name :))
[01:04:48] <huon> shep-home: (also, woah, it's fast)
[01:05:01] <d-snp> pub trait Isometry<N, P, V>: PhantomFn<Self, N> + // FIXME: we actually want associated types here
[01:05:18] <d-snp> is there a standard way I should solve this, or is it going to be hard and should I leave it to the library author
[01:05:23] <aatch> So what is jetscii? I assume it's something to do with ASCII.
[01:05:29] <huon> it's... sad that |c| == ' ' and ' ' are the same speed; the latter should be ASCII-optimised
[01:05:34] <huon> aatch: https://github.com/shepmaster/jetscii
[01:05:39] *** Quits: dawehner (quassel@moz-ipohd2.hsi7.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[01:05:44] *** Quits: dmac (dmac@moz-4kcd1c.ca.comcast.net) (Ping timeout: 121 seconds)
[01:05:51] *** Joins: hjr3 (hradtke@moz-dmp.av4.169.69.IP)
[01:06:06] <huon> shep-home: (shameless plug, https://github.com/huonw/travis-cargo makes uploading docs so much easier :P )
[01:06:14] *** Joins: raph (raph@moz-05k.780.198.207.IP)
[01:07:17] *** Quits: tamird (textual@moz-lje.m54.130.157.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:07:33] *** Joins: renderful (renderful@moz-atg40s.co.comcast.net)
[01:08:01] <d-snp> wait.. I can just remove PhantomFn, and the error disappears :P
[01:08:36] *** Joins: sin8h (Adium@moz-f0u.cn5.51.106.IP)
[01:08:50] *** Joins: tadh (quassel@moz-88tk3f.res.rr.com)
[01:09:17] *** Quits: montezuma (Mibbit@moz-tpjl46.co.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[01:11:33] *** Joins: glennpratt (glennpratt@moz-neq2gf.dsl-w.verizon.net)
[01:11:35] *** Quits: renderful (renderful@moz-atg40s.co.comcast.net) (Ping timeout: 121 seconds)
[01:12:06] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[01:12:19] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[01:12:37] *** Quits: glennpra_ (glennpratt@moz-neq2gf.dsl-w.verizon.net) (Ping timeout: 121 seconds)
[01:12:40] *** Quits: eric_lagergren (barsonme@moz-hshokg.q6t2.2174.0008.2601.IP) (Quit: Leaving)
[01:12:41] *** Quits: Ralith (ralith@moz-miv.lne.251.63.IP) (Ping timeout: 121 seconds)
[01:13:06] *** Joins: jperla (Mibbit@moz-5p1.h2b.247.173.IP)
[01:13:22] <talevy> which channel do I visit to ask questions about Hyper. is there a #rust-web?
[01:13:25] <jperla> i'm trying to add a signal to clean up a socket when I ctrl+c
[01:13:31] <jperla> is there an example i can use?
[01:13:38] <jperla> it's just resource cleanup so doesn't have to be particularly safe
[01:13:48] <jperla> for an exit
[01:13:57] <Mutabah> talevy: #rust-webdev
[01:14:04] <ytain> talevy try #rust-webdev
[01:14:06] <talevy> Mutabah: thanks!
[01:14:52] <jperla> i can make a signal happen that is static, just prints something
[01:15:07] <jperla> but it needs to have a reference to the actual object I want to stop
[01:15:08] *** Joins: m_kato (m_kato@moz-86b4bs.bitcat.net)
[01:15:17] <huon> talevy: there's #hyper too
[01:15:56] <d-snp> was std::num::Int deprecated as well?
[01:15:58] *** Joins: renderful (renderful@moz-atg40s.co.comcast.net)
[01:16:26] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[01:16:33] *** Quits: kgrandon (Adium@moz-2d2teg.2rkg.9kg1.0101.2620.IP) (Quit: Leaving.)
[01:16:57] <niconii> d-snp: yeah; but there's PrimInt in the num crate on crates.io
[01:17:29] <talevy> huon: thanks!
[01:19:18] <d-snp> what's the current way of getting int max value?
[01:20:00] <d-snp> using PrimInt worked.. same for float I guess then
[01:20:40] *** Quits: agjacome (agjacome@moz-6073ot.dynamic.jazztel.es) (Ping timeout: 121 seconds)
[01:21:04] <aatch> d-snp, what code are you using because that looks really similar to cgmath
[01:21:57] <aatch> d-snp, or maybe nalgebra
[01:22:06] <d-snp> nalgebra
[01:22:08] *** Joins: ajtulloch (ajtulloch@moz-ga0.9o0.201.199.IP)
[01:22:16] <d-snp> trying to get it to work on my machine
[01:22:18] <shep-home> huon: yeah, I screwed up my token. I rolled my own upload mechanism so I didn't require sudo. That lets me use travis' container architecture
[01:22:28] <d-snp> no idea what I'm doing mostly :P
[01:22:34] *** Quits: KeyboardFire (llama@moz-4s8.jeh.196.98.IP) (Quit: leaving)
[01:22:40] <huon> shep-home: travis-cargo only requires sudo for coveralls :)
[01:23:02] <shep-home> aatch: https://github.com/shepmaster/jetscii
[01:23:12] *** Quits: jechochamber (Mibbit@moz-rvv.det.208.17.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:23:21] <shep-home> oh, you got that link already
[01:23:39] <huon> shep-home: (`travis-cargo doc-upload` is a slight tweak of hoverbear's instructions for exactly to avoid sudo to work with containers)
[01:23:48] <huon> *grammar
[01:24:20] <shep-home> huon: indeed. I think I read your blog post about this...
[01:25:19] *** Joins: Lurkin2 (Lurkin@moz-p4efgs.mpls.qwest.net)
[01:25:27] <huon> (that is, if you don't run `travis-cargo coveralls` you don't need sudo)
[01:25:28] <aatch> shep-home, I'm confused about one thing though. I'm assuming that the line about falling back to a generic search method is just future stuff?
[01:25:38] <shep-home> aatch: :-) you caught me!
[01:25:45] *** Quits: sin8h (Adium@moz-f0u.cn5.51.106.IP) (Quit: Leaving.)
[01:25:52] *** Quits: chc4 (chc4@moz-pdo0at.ma.comcast.net) (Ping timeout: 121 seconds)
[01:26:06] *** Quits: yoshi (Mibbit@moz-rf5rhc.eastlink.ca) (Quit: http://www.mibbit.com ajax IRC Client)
[01:26:07] <aatch> d-snp, I'm confused, nalgebra doesn't *have* an Isometry trait.
[01:26:11] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[01:26:12] *** Joins: sin8h (Adium@moz-f0u.cn5.51.106.IP)
[01:26:22] *** Quits: damian0 (damian0@moz-34a6qv.retail.telecomitalia.it) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[01:26:39] <jperla> how do i declare my rust object as a global?
[01:26:51] *** Quits: smohan (smohan@moz-m6j.f0d.244.121.IP) (Connection closed)
[01:26:53] *** Joins: smohan (smohan@moz-m6j.f0d.244.121.IP)
[01:26:56] *** Quits: sin8h (Adium@moz-f0u.cn5.51.106.IP) (Quit: Leaving.)
[01:26:59] <aatch> jperla, define "rust object"
[01:27:20] *** Quits: brson (brson@moz-r1h.uhc.47.96.IP) (Quit: leaving)
[01:27:22] *** Quits: d356 (d@moz-go99rq.res.bhn.net) (Ping timeout: 121 seconds)
[01:27:56] *** Joins: brson (brson@moz-k0d.pdv.48.37.IP)
[01:27:56] *** ChanServ sets mode: +ao brson brson
[01:28:00] <aatch> jperla, also, you're aware that things like file handles are automatically cleaned-up by the OS when a program exits, right?
[01:28:12] <d-snp> aatch: eh yeah that trait was in ncollide
[01:28:32] <d-snp> I'm in nalgebra now though, trying to find out why num::Float doesn't have fn epsilon()
[01:28:47] *** Quits: Lurkin (Lurkin@moz-p4efgs.mpls.qwest.net) (Ping timeout: 121 seconds)
[01:29:05] <jperla> @aatch it's not for netlink sockets
[01:29:42] <jperla> i need a global pointer to my object
[01:29:48] <jperla> to access from my signal handler
[01:29:49] <zzmp> jperla can you make a global ptr with std::ptr::null() and then assign that pointer to the nl_q?
[01:29:50] <jperla> how do i make that
[01:29:51] *** Joins: glennpra_ (glennpratt@moz-neq2gf.dsl-w.verizon.net)
[01:30:04] *** Quits: glennpratt (glennpratt@moz-neq2gf.dsl-w.verizon.net) (Connection closed)
[01:30:55] <aatch> jperla, http://doc.rust-lang.org/book/const-and-static.html
[01:31:11] *** Quits: raph (raph@moz-05k.780.198.207.IP) (Quit: Leaving.)
[01:32:42] *** Joins: fleabay (Mibbit@moz-fdcruo.ip.windstream.net)
[01:32:53] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[01:33:25] <jperla> @aatch that only works for int/str not objects
[01:33:42] *** Joins: aaparella (alex@moz-vv4kb7.ucdavis.edu)
[01:33:57] <cmr> jperla: it works for anything you can write the literal of, including objects.
[01:34:05] <aaparella> This may be a silly question, but is there anywhere to get Rust stickers?
[01:34:07] <cmr> use 0 as *const _
[01:34:14] <cmr> brson: ^
[01:34:50] *** Joins: dlc (dlc@moz-ijetde.res.rr.com)
[01:35:10] <jperla> src/main.rs:32:39: 32:55 error: function calls in statics are limited to struct and enum constructors [E0015]
[01:35:41] <aatch> jperla, yeah, there's a big difference between "only strings and numbers" and "not function calls".
[01:35:46] *** Quits: dlc (dlc@moz-ijetde.res.rr.com) (Quit: Leaving)
[01:35:52] <aatch> jperla, only constant expressions are allowed in statics.
[01:36:19] <Mutabah> jperla: The function calls it refers to are Enum::Variant(values...) and Struct(values...)
[01:36:24] *** Joins: adjivas (adjivas@moz-t655t6.abo.wanadoo.fr)
[01:36:39] *** Joins: onix (Mibbit@moz-uur7pt.eastlink.ca)
[01:37:01] *** Quits: HighlightMe (Fanboy@moz-4vj.kr1.205.66.IP) (Quit: Leaving)
[01:37:10] <aatch> playbot: let f : fn(i32) -> Option<i32> = Some; f(1)
[01:37:11] -playbot- Some(1)
[01:37:18] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[01:37:46] *** Quits: adjivas (adjivas@moz-t655t6.abo.wanadoo.fr) (Quit: WeeChat 0.4.2)
[01:37:49] *** Quits: aaparella (alex@moz-vv4kb7.ucdavis.edu) (Quit: leaving)
[01:37:58] *** Quits: Slava_I (slava@moz-a7c.n0g.135.88.IP) (Connection closed)
[01:38:00] *** Joins: Slava_I (slava@moz-a7c.n0g.135.88.IP)
[01:39:19] *** Joins: tamird (textual@moz-gg3hct.res.rr.com)
[01:39:50] *** Joins: da-kid (da@moz-a2d.k2d.153.84.IP)
[01:39:53] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[01:40:07] <aatch> jperla, Rust has a policy of "no life before main". The only stuff that happens before main is the C runtime setup and some minimal setup we do ourselves. There's no setup of global variables allowed.
[01:40:27] <jperla> @aatch but i need to setup global variables in order to clean them up in my signal handler
[01:40:28] *** Quits: ndhoule (ndhoule@moz-qlf.50d.255.50.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:40:29] <brson> aw i missed aaparella
[01:40:33] <jperla> signal handlers don't accept arguments
[01:40:35] <jperla> @aatch ^
[01:41:09] *** Quits: nham (nham@moz-755.bu3.214.98.IP) (Ping timeout: 121 seconds)
[01:41:27] <brson> jperla: i don't have any context but often we do global initialization lazily
[01:41:34] <aatch> jperla, well you said you need to clean up resources right? Why not just initialize the global when the resource is created?
[01:41:41] <brson> there are types somewhere that can help with that
[01:41:55] <aatch> lazy-static is one
[01:42:01] <jperla> @aatch @brson how do I do that? Because of RAII I have to have something when i set it up
[01:42:21] <zzmp> http://rust-ci.org/Kimundi/lazy-static.rs/doc/lazy_static/
[01:42:35] *** Quits: da-kid_ (da@moz-qr6.k2d.153.84.IP) (Ping timeout: 121 seconds)
[01:42:44] <Mutabah> jperla: aatch suggested lazy-static, it's basically a wrapper that initialises statics (globals) when they're first accessed
[01:42:44] <zzmp> > Like regular static muts, this macro only works for types that fulfill the Sync trait.
[01:42:48] *** Joins: Ralith (ralith@moz-tiaj7p.customer.broadstripe.net)
[01:42:52] <zzmp> Maybe we need to impl sync then.
[01:43:07] <Mutabah> These, of course, are never destroyed (but you can clear/reset them if you need to)
[01:44:15] *** Joins: chc4 (chc4@moz-pdo0at.ma.comcast.net)
[01:45:00] <jperla> @aatch why do I need to implement Sync if my program is single-threaded?
[01:45:06] *** Joins: Caleb (caleb@moz-kln47c.mo.comcast.net)
[01:45:41] <Caleb> http://pastebin.com/12BmBn1b Why doesn't my guessing game (from the tutorial) work?
[01:45:57] <aatch> jperla, because Rust doesn't know that your program is single-threaded.
[01:45:58] <Caleb> I'm on OS X Yosemite, using brew installed rust
[01:47:16] <swgillespie> Caleb: read_line returns the number of bytes read, not the string that was read
[01:47:23] <aatch> Caleb, that is taking the number of read characters as the input.
[01:47:24] <swgillespie> Caleb: you'll probably want to print out guess instead
[01:47:40] *** Joins: cjwelborn (cjwelborn@moz-np6hed.al.charter.com)
[01:47:54] * swgillespie s/bytes/chars D:
[01:48:10] <aatch> swgillespie, actually it probably is bytes.
[01:48:30] *** Quits: fleabay (Mibbit@moz-fdcruo.ip.windstream.net) (Quit: http://www.mibbit.com ajax IRC Client)
[01:48:37] <Caleb> Got it! Weird that the tutorial recommends read_line
[01:48:53] <swgillespie> BufRead says bytes fwiw
[01:48:55] * swgillespie shrug
[01:49:18] <aatch> Caleb, what's weird about it?
[01:49:37] *** Joins: ndhoule (ndhoule@moz-qlf.50d.255.50.IP)
[01:49:39] <Caleb> They say to guess a number, then the number is actually the length of your string, not the number passed in
[01:49:45] <Caleb> How do you read in an i32?
[01:50:02] <niconii> Caleb: read_line is fine, it's just that the argument you give it is where it writes your guess
[01:50:21] <niconii> Caleb: and it returns how many bytes it read (which is useful for other reasons)
[01:50:35] *** Quits: lyc (lyc@moz-9b5.q2e.4.49.IP) (Connection closed)
[01:50:37] *** Joins: lyc (lyc@moz-dtr.d1s.38.106.IP)
[01:50:41] <swgillespie> Caleb: you can read in a string and then parse a i32 out of it
[01:50:48] <Caleb> Got it. So the printed output should be guess, not input
[01:50:54] <swgillespie> http://doc.rust-lang.org/std/primitive.str.html#method.parse
[01:50:54] <swgillespie> right
[01:50:56] <niconii> Caleb: yes
[01:51:05] <Caleb> Is that a typo in the docs? http://doc.rust-lang.org/nightly/book/guessing-game.html
[01:51:13] <aatch> Caleb, ah, just read that part of the book. Clearly a bug.
[01:51:24] * aatch shines the steveklabnik signal.
[01:51:51] *** Quits: tadh (quassel@moz-88tk3f.res.rr.com) (Ping timeout: 121 seconds)
[01:52:36] *** Quits: rootnode (rootnode@moz-go1ut4.ip1.george24.com) (Ping timeout: 121 seconds)
[01:52:40] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[01:53:31] <niconii> something else that's odd is that it doesn't even show the "let input =" part when going through the code line by line
[01:53:40] <Caleb> Agreed
[01:53:54] <niconii> (not that it should, in this example you shouldn't need to save the returned value at all)
[01:53:58] <Caleb> Thank you all for letting me know, I was really confused earlier today
[01:54:03] *** Joins: tadh (quassel@moz-88tk3f.res.rr.com)
[01:54:14] <geofft> jperla: wait, did you say signal handler? 
[01:54:22] *** Joins: sin8h (Adium@moz-4gl.cvv.51.106.IP)
[01:54:26] *** Joins: v21 (vee@moz-9hj.bqs.204.223.IP)
[01:54:28] *** Quits: Caleb (caleb@moz-kln47c.mo.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:54:31] *** Joins: lyc_ (lyc@moz-jft.nr8.226.207.IP)
[01:54:32] <aatch> I think it probably got slightly mangled from an update.
[01:54:40] *** Quits: lyc (lyc@moz-dtr.d1s.38.106.IP) (Ping timeout: 121 seconds)
[01:54:47] <geofft> jperla: you can't safely have (UNIX-style) signal handlers in Rust. 
[01:54:58] <aatch> I think the code samples are tested, but that doesn't mean they'll actually be correct.
[01:55:01] *** Joins: raph (raph@moz-teag66.ca.comcast.net)
[01:55:03] <jperla> @geofft that is fine, i only need to clean up one thing in a signal and then die
[01:55:05] <geofft> jperla: unsafe code might be modifying invariants, holding locks on malloc, etc. when the signal gets delivered 
[01:55:09] *** Joins: mahdi (mahdi@moz-qd2.8nj.244.151.IP)
[01:55:24] <jperla> @geofft i agree, i just need to cleanup this socket
[01:55:26] <geofft> if you are okay with the risks, you can do whatever you want in an unsafe block 
[01:55:27] *** Quits: cjwelborn (cjwelborn@moz-np6hed.al.charter.com) (Quit: sys.exit(1))
[01:55:30] <jperla> in case someone does ctrl+c
[01:55:39] <geofft> what cleanup do you need to do? 
[01:55:41] <niconii> Caleb: thanks for bringing it to our attention, anyway; the Learn Rust section of the book is still very new so there's bound to be some bugs
[01:55:57] <geofft> close the socket, or anything more than that? 
[01:55:57] *** Quits: jperla (Mibbit@moz-5p1.h2b.247.173.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:55:59] *** Joins: errordeveloper (ilya@moz-4uj.bgu.199.90.IP)
[01:56:07] *** Joins: jperla (Mibbit@moz-5p1.h2b.247.173.IP)
[01:56:25] <jperla> i start a program, it connects to netlink socket and reads data
[01:56:30] <jperla> if someone ctrl+c then I need to close the socket
[01:56:34] *** Quits: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca) (Connection closed)
[01:56:43] <geofft> sockets get closed when you exist the process :) 
[01:56:44] <jperla> if i don't close the socket then i can't reconnect
[01:56:49] <jperla> false for netlink
[01:56:49] <geofft> hrm. 
[01:56:55] <jperla> so
[01:56:57] <geofft> ... wait, really?? 
[01:57:06] <jperla> based on my experiments
[01:57:12] <jperla> i have to rmmod nfnetlink_queue to get it back
[01:57:18] <geofft> wat 
[01:57:44] <Diggsey> when I'm running make check, the output is all out of alignment: https://gist.github.com/Diggsey/c2ff3ec9e6978f178cdf is that normal on windows?
[01:57:47] <geofft> anyway, so Rust's concern (which applies to your case, even though you're single-threaded) is that someone might be mutating your global variable while you're in a signal handler 
[01:57:55] <jperla> yes
[01:58:00] <jperla> totally viable
[01:58:02] *** Quits: raph (raph@moz-teag66.ca.comcast.net) (Quit: Leaving.)
[01:58:08] <jperla> but i don't care since i'm dying anyway
[01:58:15] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:58:21] <geofft> depending on what you do (like allocate memory), you might deadlock while dying. 
[01:58:23] *** Joins: kgrandon (Adium@moz-ksv4i3.hjek.d045.0009.2601.IP)
[01:58:34] <geofft> but, if you're just storing a file descriptor and just calling close(2), then put it in an Atomic and things will probably be fine 
[01:58:42] <geofft> and call only FFI things, with no allocations, no Rust things 
[01:58:50] <jperla> no allocations
[01:58:53] <geofft> and call only FFI things that are Async-Signal-Safe according to signal(7) 
[01:59:09] <niconii> Caleb, aatch: hmm, actually, on master it seems to already be fixed
[01:59:14] <geofft> so at that point you _can_ use globals, and they don't have to be Sync, if you access them via an unsafe block. 
[01:59:24] <geofft> but also the atomic types take care of this for you. 
[01:59:26] <jperla> well my problem is that i can't even initialize it
[01:59:46] <niconii> Caleb, aatch: about 16 hours ago, so maybe after the next nightly build, it'll be fixed?
[01:59:47] <geofft> https://doc.rust-lang.org/std/sync/atomic/index.html 
[01:59:55] <jperla> initializing a Handle object: https://github.com/terminalcloud/libnetfilter_queue
[02:00:14] *** Quits: errordeveloper (ilya@moz-4uj.bgu.199.90.IP) (Ping timeout: 121 seconds)
[02:00:26] *** Joins: cjwelborn (cjwelborn@moz-np6hed.al.charter.com)
[02:00:26] *** Joins: popow (Thunderbird@moz-03f.kd0.252.223.IP)
[02:00:39] *** Quits: ndhoule (ndhoule@moz-qlf.50d.255.50.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:00:51] <niconii> ...oh, Caleb left. yeah this is the problem with me filtering out join/quit messages
[02:01:36] <aatch> niconii, dammit, I just wrote up an issue as well...
[02:01:47] *** Quits: housl (housl@moz-qnjt4k.ut.comcast.net) (Quit: WeeChat 1.1.1)
[02:01:50] <aatch> niconii, at least I didn't actually submit it.
[02:02:01] *** Quits: ajtulloch (ajtulloch@moz-ga0.9o0.201.199.IP) (A TLS packet with unexpected length was received.)
[02:02:01] <geofft> if you're just storing a file descriptor, AtomicUsize will work, and that has a static initializer 
[02:02:22] <niconii> aatch: yeah, i was gonna as well, but i decided to check the actual file first
[02:02:24] *** Quits: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[02:02:33] *** Joins: jcpst (joe@moz-97brhe.res.rr.com)
[02:02:37] <niconii> aatch: probably for the best or we probably *both* would've ended up opening an issue...
[02:02:44] <jperla> @geofft oh isee, i don't need the whole rust object, just enough to call the raw c ffi and fd
[02:03:01] <geofft> yeah. just store the file descriptor in a global 
[02:03:45] <aatch> niconii, I normally investigate problems before opening issues about them, but that's when they're compiler ones.
[02:04:26] *** Joins: Twinklebear (Twinklebear@moz-ttrcn3.ut.comcast.net)
[02:04:53] <niconii> aatch: i pretty much only checked because i had no idea where the hell to file the issue repository-wise
[02:04:58] <geofft> and call sigaction on unsafe fn cleanup(c_int) {let fd = FD.load(Ordering::Something); close(fd); std::process::exit(0);} 
[02:05:00] <geofft> or thereabouts 
[02:05:02] <niconii> aatch: wasn't sure if it was just the main rust repository or what
[02:05:19] <geofft> er `if fd close(fd)` or someting, probably. 
[02:05:24] <aatch> niconii, ah, see I already knew where to file it. I can even tag it properly!
[02:05:43] <geofft> which is going to be just about the best you can do. 
[02:06:02] <geofft> alternatively, if you have a mainloop, receive SIGINT via signalfd instead of via an async signal 
[02:06:10] <geofft> which is going to make you happier. 
[02:06:33] <aatch> might as well just use `Ordering::SeqCst`, not as if performance matters in a sigint handler.
[02:06:41] * Sgeo thinks it might be too easy to get function trait bounds wrong
[02:06:42] <aatch> Or in a signal handler in general for that matter.
[02:07:07] <Sgeo> Like, if your function produces a boxed closure that is sync and send, but you don't realize that, then you're limiting what downstream can do for no good reason
[02:07:21] *** Joins: kmcguire (kmcguire@moz-bbqf14.res.bhn.net)
[02:07:34] <Sgeo> (Well, if you're not sure it will always be sync+send)
[02:07:46] <Sgeo> But it's possible to do that accidentally I think
[02:08:22] *** Quits: mahdi (mahdi@moz-qd2.8nj.244.151.IP) (Ping timeout: 121 seconds)
[02:08:37] <aatch> Sgeo, but we can't make them Sync/Send automatically. For one that breaks the whole local reasoning thing, but more importantly it creates a backwards-compat hazard.
[02:09:25] <aatch> Sgeo, since if you change the closure such that it is no longer one of those two, you break the users of that function.
[02:09:41] <skeuomorf> Hey folks, regarding siphash, does the current implementation i.e. std::hash::SipHasher guarantee uniformity?
[02:10:00] <aatch> skeuomorf, what do you mean by uniformity?
[02:10:11] <aatch> skeuomorf, as in the distribution of values?
[02:10:14] <skeuomorf> aatch: Yes
[02:10:24] <jperla> @geofft gah, it's not an fd, it's a pointer
[02:10:35] *** Joins: mahdi (mahdi@moz-qd2.8nj.244.151.IP)
[02:10:53] <aatch> skeuomorf, I'm no expert (that's probably huon), but probably.
[02:11:11] <skeuomorf> aatch: No worries, thanks! :)
[02:11:22] <jperla> @geofft http://libnetfilter-queue.sourcearchive.com/documentation/0.0.17/group__LibrarySetup_gf8195e372983c2a097dbc628becbc023.html
[02:11:26] <aatch> skeuomorf, since the effectiveness of hash maps are dependent on having a good hash function.
[02:11:59] <skeuomorf> aatch: Yeah, it probably is, as you said.
[02:12:04] <geofft> jperla: nfq_close calls free, so it _could_ deadlock. :( 
[02:12:13] <skeuomorf> jperla: You don't have to use @ before handle :)
[02:12:35] *** Joins: ndhoule (ndhoule@moz-qlf.50d.255.50.IP)
[02:12:55] <aatch> skeuomorf, I mean, I doubt it's reasonable to expect perfect uniformity unless you have true random input data.
[02:13:09] *** Quits: m-r-r (mrr@moz-br1no5.rev.sfr.net) (Ping timeout: 121 seconds)
[02:13:36] <geofft> jperla: this is a bit baffling, nfq_close just calls free and nfnl_close. nfnl_close just calls free and close(2). 
[02:13:38] <geofft> https://git.netfilter.org/libnfnetlink/tree/src/libnfnetlink.c#n314 
[02:13:39] <jperla> geofft: oh okay; so i want to go back to my original plan of telling the Handle rust object to stop processing on the next while loop
[02:13:53] <geofft> so I'm sorta confused why letting the process just die doesn't work. 
[02:13:58] <skeuomorf> aatch: Nah, I don't expect perfect uniformity, I am going to write a lib for consistent hashing, so having uniformity is essential (or it would kinda defeat the purpose of a consistent hashing scheme) :)
[02:14:02] <geofft> (is there a netlink equivalent to SO_REUSEADDR or something?) 
[02:15:02] <jperla> the best idea i have is to use a global flag
[02:15:13] *** Joins: m-r-r (mrr@moz-uvfnet.abo.wanadoo.fr)
[02:15:15] <jperla> that's probably fine
[02:15:22] <geofft> global flag via AtomicBool seems fine, yes. 
[02:15:47] <jperla> module global
[02:15:49] <geofft> and isn't even unsafe :) (the Atomic types are magical in that you can modify them even with an immutable reference, so they can be global) 
[02:15:55] <jperla> yea
[02:15:57] *** Quits: ndhoule (ndhoule@moz-qlf.50d.255.50.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:16:00] <jperla> i just slow down my loop now
[02:16:03] *** Quits: mahdi (mahdi@moz-qd2.8nj.244.151.IP) (Ping timeout: 121 seconds)
[02:16:04] <jperla> because it has to access this atomic each time
[02:16:18] <geofft> but if you have a mainloop, you can also register for SIGINT via signalfd(2) 
[02:16:21] *** Joins: ndhoule (ndhoule@moz-qlf.50d.255.50.IP)
[02:16:22] <jperla> just to cleanup at the end?
[02:16:33] <geofft> and throw that file descriptor into your select/poll/whatever 
[02:16:58] <geofft> (sadly I'm not aware of a Rustish wrapper for signalfd) 
[02:17:20] <jperla> netlink uses a while loop
[02:17:22] *** Quits: zcourts (zcourts@moz-7ms809.cable.virginm.net) (Client exited)
[02:18:16] *** Joins: mahdi (mahdi@moz-qd2.8nj.244.151.IP)
[02:19:01] *** Joins: zcourts (zcourts@moz-7ms809.cable.virginm.net)
[02:19:15] <aatch> jperla, looking at this, it doesn't *have* to, right?
[02:19:30] *** Joins: nstoddard_ (nstoddard@moz-urhoua.resnet.purdue.edu)
[02:19:38] <Sgeo> aatch, sure, but maybe a lint saying that this is something you may or may not want to do? Isn't there something like that for derive(Copy)?
[02:19:47] *** Joins: fleabay (Mibbit@moz-fdcruo.ip.windstream.net)
[02:20:07] *** Quits: zz_kimundi (kimundi@moz-l2r.uqm.188.87.IP) (Ping timeout: 121 seconds)
[02:20:49] *** Quits: nstoddard (nstoddard@moz-urhoua.resnet.purdue.edu) (Ping timeout: 121 seconds)
[02:20:53] <aatch> Sgeo, yeah, the missing-copy-implementations lint. It's allow-by-default though.
[02:20:57] *** nstoddard_ is now known as nstoddard
[02:21:24] *** Joins: zz_kimundi (kimundi@moz-ovh.rvb.226.79.IP)
[02:21:54] *** zz_kimundi is now known as kimundi
[02:22:33] <nstoddard> If I have a Rc<T>, is there a way to get a &T?
[02:23:14] <aatch> nstoddard, Rc<T> will deref to give you a &T, most of the time you can rely on deref coercion though.
[02:23:38] <aatch> nstoddard, so if you have a function that takes a &T, pass in &my_rc and it'll coerce.
[02:24:15] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[02:24:49] *** Joins: rmgk (ragnar@moz-4ki0t6.dyn.telefonica.de)
[02:25:07] * aatch doesn't miss deref tetris
[02:25:43] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:25:56] *** Quits: ytain (ytain@moz-pr2.aip.175.108.IP) (Quit: Textual IRC Client: www.textualapp.com)
[02:26:11] *** Joins: mib_kxkc9o (Mibbit@moz-er017j.in.comcast.net)
[02:26:16] *** Quits: dickchansey (dickchansey@moz-50asnr.adsl.tpnet.pl) (Ping timeout: 121 seconds)
[02:26:31] *** Joins: playjax (chatzilla@moz-u87nth.optusnet.com.au)
[02:26:39] *** Joins: dickchansey (dickchansey@moz-dub.s33.107.193.IP)
[02:26:53] *** Joins: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca)
[02:26:58] *** Quits: mib_kxkc9o (Mibbit@moz-er017j.in.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[02:27:29] *** Quits: turtil (turtil@moz-gfc.es4.23.103.IP) (Quit: WeeChat 1.1.1)
[02:27:37] <Sgeo> deref tetris?
[02:27:41] *** Quits: lyc_ (lyc@moz-jft.nr8.226.207.IP) (Connection closed)
[02:28:13] *** Quits: rmgk_ (ragnar@moz-e3cltq.dyn.telefonica.de) (Ping timeout: 121 seconds)
[02:29:01] <niconii> Sgeo: i'm guessing "needing to get every single one of your derefs just right so everything fits absolutely perfectly"
[02:29:23] *** Quits: zcourts (zcourts@moz-7ms809.cable.virginm.net) (Client exited)
[02:29:45] <niconii> like tetris! except with more asterisks and ampersands
[02:29:51] *** Quits: dickchansey (dickchansey@moz-dub.s33.107.193.IP) (Quit: kthxbai)
[02:30:03] <Diggsey> I'm unable to run "make check": error while loading shared libraries: test-4e7c5e5c.dll: cannot open shared object file: No such file or directory
[02:30:03] <aatch> Sgeo, adding '*' until it fits
[02:30:18] <Diggsey> the .dll exists but is in a different folder from the executables :/
[02:30:44] *** Quits: mahdi (mahdi@moz-qd2.8nj.244.151.IP) (Ping timeout: 121 seconds)
[02:32:53] *** Quits: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca) (Ping timeout: 121 seconds)
[02:34:16] <aatch> Sgeo, especially obnoxious when you have a smart pointer in a variant, you bind by-ref (because you don't want to move it), but want the contents, so you end up with `&**foo`.
[02:34:53] *** Quits: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com) (Ping timeout: 121 seconds)
[02:35:00] *** Quits: DerisiveLogic (smuxi@moz-g93io6.res.rr.com) (A TLS packet with unexpected length was received.)
[02:35:07] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[02:35:14] <aatch> Sgeo, even worse is if you have a pointer to a a Vec and want a slice in the same situation: `&***foo[..]` is the version you need if you don't have the coercions.
[02:36:07] <aatch> (So &Rc<Vec<T>> -> &[T])
[02:36:23] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[02:36:57] *** Joins: mahdi (mahdi@moz-qd2.8nj.244.151.IP)
[02:36:57] <aatch> (not that Rc<Vec<T>> is a particularly sensible type, but generics can produce some odd things at times).
[02:38:02] <Sgeo> Wait what's wrong with mutual ownership of a vector?
[02:38:47] <aatch> Sgeo, Rc<[T]> would make more sense (if it works)
[02:39:03] <Sgeo> Oh right immutability
[02:39:16] <chowmeined> which is important, it prevents things like iterator invalidation bugs
[02:39:20] <aatch> Sgeo, otherwise, `Rc<Box<[T]>>` saves a word (which probably isn't worth it).
[02:39:25] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[02:39:35] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[02:39:37] *** Joins: Caleb (caleb@moz-kln47c.mo.comcast.net)
[02:39:45] *** Joins: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com)
[02:40:17] <aatch> chowmeined, it's more that Vec is useful because you can add/remove items, when compared to a regular slice.
[02:40:21] <Sgeo> I should be able to make pure_to_mut here safe with a catch_panic! and aborting, right? https://gist.github.com/Sgeo/ee7ce70ad91cad0d11bd
[02:40:25] <Sgeo> Also needs syntax fixes
[02:40:59] *** Quits: mahdi (mahdi@moz-qd2.8nj.244.151.IP) (Ping timeout: 121 seconds)
[02:41:27] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[02:42:15] *** Joins: eric_lagergren (barsonme@moz-lr1hrn.wa.comcast.net)
[02:42:24] *** Joins: mindtree (Mitch@moz-maa.quv.240.116.IP)
[02:42:29] *** Quits: chc4 (chc4@moz-pdo0at.ma.comcast.net) (Quit: AHHHHH BEES)
[02:42:58] <Sgeo> Wait why am I thinking it's a macro, it's not a macro
[02:43:41] *** Quits: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:43:51] *** Joins: mahdi (mahdi@moz-qd2.8nj.244.151.IP)
[02:44:17] *** Quits: fleabay (Mibbit@moz-fdcruo.ip.windstream.net) (Quit: http://www.mibbit.com ajax IRC Client)
[02:44:33] <Sgeo> Is there a way to catch a panic involving a type that is not known to be Send?
[02:44:44] *** Quits: rbranson (rbranson@moz-i7m.9o0.201.199.IP) (Quit: Computer has gone to sleep.)
[02:45:26] <Sgeo> And/or some wrapper type to make arbitrary types Send-able?
[02:45:46] *** Quits: kmcguire (kmcguire@moz-bbqf14.res.bhn.net) (Ping timeout: 121 seconds)
[02:45:51] <aatch> Sgeo, the `R` in catch_panic is for the exception itself.
[02:46:19] *** Quits: Jesse (jruderman@moz-5kkr1p.ujol.1ibb.0101.2620.IP) (Client exited)
[02:46:20] <Sgeo> But F is what needs to be Send
[02:46:52] <aatch> Sgeo, oh right.
[02:47:46] *** Joins: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net)
[02:48:05] *** Quits: mahdi (mahdi@moz-qd2.8nj.244.151.IP) (Ping timeout: 121 seconds)
[02:48:11] *** Joins: nham (nham@moz-755.bu3.214.98.IP)
[02:48:34] <aatch> Sgeo, also, the documentation of catch_panic is lying anyway.
[02:48:56] <Sgeo> Well that's fun
[02:49:50] <aatch> Sgeo, I thought it was weird that it said it would return Ok(()) on success.
[02:49:58] *** Joins: dawehner (quassel@moz-ipohd2.hsi7.kabel-badenwuerttemberg.de)
[02:50:12] *** Joins: maedhroz (maedhroz@moz-4jk5ho.res.rr.com)
[02:50:18] <Sgeo> o.O I failed to notice that
[02:51:00] *** Joins: mahdi (mahdi@moz-qd2.8nj.244.151.IP)
[02:51:48] *** Quits: mahdi (mahdi@moz-qd2.8nj.244.151.IP) (Connection closed)
[02:53:52] *** Quits: brson (brson@moz-k0d.pdv.48.37.IP) (Quit: leaving)
[02:53:54] *** Quits: onix (Mibbit@moz-uur7pt.eastlink.ca) (Quit: http://www.mibbit.com ajax IRC Client)
[02:53:58] <aatch> Sgeo, anyway, you might be able to make it unwind-safe by using ptr::read_and_drop to "drop" the contents of `a`
[02:54:04] *** Quits: jperla (Mibbit@moz-5p1.h2b.247.173.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:54:14] *** Quits: maedhroz (maedhroz@moz-4jk5ho.res.rr.com) (Ping timeout: 121 seconds)
[02:54:19] *** Quits: dawehner (quassel@moz-ipohd2.hsi7.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[02:54:43] <aatch> Sgeo, actually, it might not have any unwind problems anyway.
[02:55:01] <Sgeo> aatch, hmm, how not?
[02:55:39] *** Quits: gingermusketeer (gingermuske@moz-ftiva7.compute.amazonaws.com) (Connection closed)
[02:55:46] *** Joins: gingermusketeer (gingermuske@moz-fn9qh2.compute.amazonaws.com)
[02:55:57] <aatch> Oh, no, wait, it'll try to drop the value you clobbered further up the stack.
[02:56:04] *** Joins: genki (Mibbit@moz-irsfji.cit.cornell.edu)
[02:56:13] <aatch> Sgeo, so yeah, read_and_drop might be easier.
[02:56:14] *** Quits: genki (Mibbit@moz-irsfji.cit.cornell.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[02:56:17] *** Quits: Caleb (caleb@moz-kln47c.mo.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:56:40] <Sgeo> read_and_drop is unstable
[02:56:45] *** Joins: errordeveloper (ilya@moz-4uj.bgu.199.90.IP)
[02:56:52] <Sgeo> Also I thought the drop flag was going away eventually?
[02:56:54] *** Joins: csherratt (colin@moz-357qdq.cable.teksavvy.com)
[02:58:17] <Sgeo> Also, I'm not... totally sure what the idea is. read_and_drop(a as *mut A) which would mutate the &mut a to be already dropped?
[02:58:26] <aatch> Sgeo, correct
[02:58:44] *** nsm is now known as nsm|away
[02:59:05] *** Quits: jcpst (joe@moz-97brhe.res.rr.com) (Quit: Leaving)
[02:59:22] <aatch> Sgeo, the idea being that if `f` panics, the original source of the `&mut A` you're given won't try to drop garbage.
[02:59:51] <Sgeo> aatch, ah
[02:59:53] <Sgeo> aatch, ty
[02:59:55] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[03:00:05] <Sgeo> Is this likely to be stabalized?
[03:00:32] <aatch> Sgeo, no idea sorry. pnkfelix would be the one to ask.
[03:00:57] *** Quits: rcx (rcx@moz-vqm.jmj.174.217.IP) (Quit: Leaving)
[03:00:59] *** Quits: errordeveloper (ilya@moz-4uj.bgu.199.90.IP) (Ping timeout: 121 seconds)
[03:01:43] <aatch> Sgeo, at any rate, the functionality it provides should continue to exist.
[03:02:08] <aatch> Sgeo, since being able to do this kind of thing is useful.
[03:02:46] <aatch> Sgeo, hmm, thinking about it more, read_and_drop might not be appropriate after all.
[03:03:06] <Sgeo> Can read_and_drop be undone?
[03:03:36] <Sgeo> Otherwise is there a leakage risk?
[03:03:45] <Sgeo> (Which I guess is technically "safe" by today's standards_
[03:05:09] <aatch> Sgeo, eh, I'm not sure how to do this properly.
[03:06:23] <aatch> Sgeo, I think you were right originally, aborting probably is the only reasonable course of action.
[03:07:07] *** Joins: p1start (p1start@moz-nftjhe.org)
[03:07:52] *** Joins: mib_a9wouh (Mibbit@moz-akesgr.dynamic.hinet.net)
[03:07:52] *** Quits: glennpra_ (glennpratt@moz-neq2gf.dsl-w.verizon.net) (Connection closed)
[03:08:04] *** Quits: tadh (quassel@moz-88tk3f.res.rr.com) (Connection closed)
[03:08:11] *** Joins: glennpratt (glennpratt@moz-q78g48.fios.verizon.net)
[03:08:44] <mib_a9wouh> I am a little confused about lifetime, why the code below can't be compiled with an error ( `b` does not live long enough) fn func_test<'a>(param1: &'a str) -> &'a Box<&str> {   let b = Box::new("aaa");   &b }
[03:09:26] <Mutabah> mib_a9wouh: You're returning a borrow of the Box from the stack
[03:09:41] *** Quits: Db (Db@moz-hma9kp.me) (Quit: leaving)
[03:10:04] <mib_a9wouh> hmm, how should I revise the code to do the same functionality as I wanted
[03:10:16] *** Joins: Db (Db@moz-hma9kp.me)
[03:10:17] *** Joins: dickchansey (dickchansey@moz-50asnr.adsl.tpnet.pl)
[03:11:13] <Mutabah> mib_a9wouh: Don't return a borrow of a box, return the box itself
[03:11:14] *** Joins: raph (raph@moz-o75.fg7.77.192.IP)
[03:12:21] *** Joins: ajtulloch (ajtulloch@moz-5389o1.kvuk.09sg.010d.2620.IP)
[03:12:54] <Sgeo> aatch, my "abort" thinking was based on catch_panic() being usable
[03:13:00] *** Quits: rovar (rovar@moz-96effg.dyn.optonline.net) (Ping timeout: 121 seconds)
[03:13:38] *** Quits: idegen (greg@moz-9c4nle.or.frontiernet.net) (Quit: Leaving.)
[03:15:04] <mib_a9wouh> @Mutabah: Thanks. it works.
[03:15:55] *** Quits: nham (nham@moz-755.bu3.214.98.IP) (Ping timeout: 121 seconds)
[03:15:57] *** Joins: glennpra_ (glennpratt@moz-q78g48.fios.verizon.net)
[03:16:54] *** nsm|away is now known as nsm
[03:16:57] *** Joins: nham (nham@moz-755.bu3.214.98.IP)
[03:18:48] *** Joins: rovar (rovar@moz-96effg.dyn.optonline.net)
[03:19:14] *** Quits: glennpratt (glennpratt@moz-q78g48.fios.verizon.net) (Ping timeout: 121 seconds)
[03:19:18] *** Joins: Verdagon (Verdagon@moz-ff302e.ca.comcast.net)
[03:20:17] *** Quits: saml_ (saml@moz-rkfmct.res.rr.com) (Ping timeout: 121 seconds)
[03:20:25] *** Joins: mpiechotka (mpiechotka@moz-ptb6iv.ca.comcast.net)
[03:22:35] *** Joins: _ixti_ (ixti@moz-21k.dae.119.188.IP)
[03:22:41] *** Quits: ndhoule (ndhoule@moz-qlf.50d.255.50.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:23:23] *** Quits: playjax (chatzilla@moz-u87nth.optusnet.com.au) (Ping timeout: 121 seconds)
[03:23:24] *** Quits: cjwelborn (cjwelborn@moz-np6hed.al.charter.com) (Quit: sys.exit(1))
[03:25:25] *** Quits: ixti (ixti@moz-21k.dae.119.188.IP) (Ping timeout: 121 seconds)
[03:26:16] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[03:26:22] *** Joins: davebettin_ (davebettin@moz-ip635p.or.comcast.net)
[03:28:05] *** Joins: lyc (lyc@moz-dtr.d1s.38.106.IP)
[03:29:13] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[03:29:47] *** Joins: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca)
[03:30:01] *** Quits: glennpra_ (glennpratt@moz-q78g48.fios.verizon.net) (Quit: Leaving...)
[03:30:43] *** Quits: meh (meh@moz-2vi7cf.42-151.net24.it) (Ping timeout: 121 seconds)
[03:31:01] *** Joins: Jesse (jruderman@moz-pqc1f5.ca.comcast.net)
[03:31:07] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[03:32:24] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[03:34:03] *** Quits: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca) (Ping timeout: 121 seconds)
[03:34:54] *** Joins: oceanwhit (christianwh@moz-a38b1m.ca.comcast.net)
[03:36:18] *** Quits: erz (erz@moz-n26c5c.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:37:30] *** Quits: mindtree (Mitch@moz-maa.quv.240.116.IP) (Ping timeout: 121 seconds)
[03:38:25] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:38:25] *** ChanServ sets mode: +o erickt
[03:39:01] *** Quits: oceanwhit (christianwh@moz-a38b1m.ca.comcast.net) (Ping timeout: 121 seconds)
[03:40:48] *** Joins: dawehner (quassel@moz-q7qqfk.mullvad.net)
[03:41:32] *** Joins: mindtree (Mitch@moz-0i72ki.iprimus.net.au)
[03:46:36] *** Quits: davebettin_ (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[03:46:46] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[03:50:09] *** Joins: Stents_ (Stents@moz-r8d.u6c.187.68.IP)
[03:50:23] *** Quits: Stents (Mibbit@moz-r8d.u6c.187.68.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:54:19] *** Quits: dawehner (quassel@moz-q7qqfk.mullvad.net) (Ping timeout: 121 seconds)
[03:57:07] *** Quits: akawaka (akawaka@moz-0bb8q8.irvnca.sbcglobal.net) (Ping timeout: 121 seconds)
[03:57:12] *** Joins: forgottenone (forgottenon@moz-j3l.lq5.40.176.IP)
[03:57:27] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[03:58:11] *** Joins: akawaka (akawaka@moz-0bb8q8.irvnca.sbcglobal.net)
[04:00:28] *** Quits: zzing (textual@moz-jucm1n.cpe.distributel.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:01:56] *** Quits: orangeshark (erik@moz-ajq3v2.44tj.56ot.0306.2602.IP) (Quit: Leaving)
[04:03:13] *** Quits: mib_a9wouh (Mibbit@moz-akesgr.dynamic.hinet.net) (Quit: http://www.mibbit.com ajax IRC Client)
[04:03:36] *** Joins: naerbnic (naerbnic@moz-tm2gcl.ca.comcast.net)
[04:03:55] *** Quits: naerbnic (naerbnic@moz-tm2gcl.ca.comcast.net) (Client exited)
[04:04:16] <Stents_> So I'm trying to learn rust coming from an Object oriented background, but I can't really seem to understand how I'm supposed to structure applications
[04:04:27] <Stents_> Is there any literature that discusses this?
[04:04:43] *** Quits: new_one (new_one@moz-suj.lcf.15.50.IP) (Quit: WeeChat 1.1.1)
[04:05:02] <ChrisMorgan> Stents_: that’s a very broad and vague subject!
[04:05:11] <aatch> Stents_, it's best to have a specific project in mind.
[04:05:41] <aatch> Stents_, Rust lends itself well to a top-down approach to design.
[04:05:45] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[04:05:48] *** Quits: nham (nham@moz-755.bu3.214.98.IP) (Ping timeout: 121 seconds)
[04:06:06] *** Joins: naerbnic (naerbnic@moz-tm2gcl.ca.comcast.net)
[04:09:58] *** Joins: oceanwhit (christianwh@moz-a38b1m.ca.comcast.net)
[04:11:27] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[04:13:31] <Stents_> Well one example would be something like a gui toolkit
[04:13:39] <pylos> I'm working on updating some old Rust code.  Right now, I'm working on some code that would read a fixed amount of data from a file (but the size only known at runtime), into a vector.
[04:13:52] <pylos> Can anyone tell me if my old vs new code looks correct: http://pastebin.com/wJviEPuW
[04:14:00] <Stents_> Usually each widget would have an object
[04:14:11] <Stents_> And their would be container widgets
[04:14:33] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:14:59] <Stents_> However, in rust once a widget is added to a collection in another object
[04:15:05] <Stents_> IT is now owned by that object
[04:15:58] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[04:16:45] *** Quits: renderful (renderful@moz-atg40s.co.comcast.net) (Connection closed)
[04:16:50] <pylos> I replaced Vec::from_elem with the vec! macro, and replaced File's read_at_least with read, and as_mut_slice with &mut v[..]. Not sure if that brings those couple of lines up to date completely or not
[04:17:06] *** Joins: renderful (renderful@moz-atg40s.co.comcast.net)
[04:17:07] *** Parts: zzmp (zzmp@moz-192o99.12ul.lrlq.5500.2604.IP) ()
[04:17:07] <pylos> I just went item by item
[04:17:19] <Mutabah> pylos: If it compiles, it works?
[04:17:23] <JustAPerson> pylos: that looks right
[04:17:39] *** Quits: JanC__ (janc@moz-1kb413.dsl.scarlet.be) (Ping timeout: 121 seconds)
[04:18:12] <pylos> Mutabah: I'm interested in if the code I wrote is now what would be considered idiomatic Rust -- I've gotten some terrible code to compile 
[04:18:41] <JustAPerson> pylos: those are both the proper replacements
[04:18:51] <pylos> JustAPerson: thank you
[04:19:17] *** Quits: james4k (james@moz-fm2a4v.consolidated.net) (Ping timeout: 121 seconds)
[04:19:45] <cajbir> Stents_: think how you'd do it in C++. If you added to a collection in another object then you'd have to manage the lifetime manually.
[04:20:10] <cajbir> Stents_: So maybe reference counting to do that for example
[04:20:34] *** Quits: akawaka (akawaka@moz-0bb8q8.irvnca.sbcglobal.net) (Ping timeout: 121 seconds)
[04:21:08] *** Quits: renderful (renderful@moz-atg40s.co.comcast.net) (Ping timeout: 121 seconds)
[04:21:24] *** Joins: akawaka (akawaka@moz-0bb8q8.irvnca.sbcglobal.net)
[04:21:44] *** Joins: theme (theme@moz-i3mhhb.asianet.co.th)
[04:23:18] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[04:23:44] <Dabo> pylos, one thing to note is that vec! is usually used like vec![] instead of vec!(), but that's just a minor style thing
[04:23:52] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[04:24:28] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[04:24:35] *** Quits: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com) (Ping timeout: 121 seconds)
[04:24:46] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[04:26:30] <niconii> hmm, so, if i'm porting something to rust called xyz, say... i'm just gonna call the crate xyz naturally, but
[04:27:00] <niconii> as for naming the repo, what's preferred really? rust-xyz? xyz-rust? xyz.rs? or does no one actually care
[04:27:27] *** Joins: nham (nham@moz-755.bu3.214.98.IP)
[04:27:37] <Dabo> rust-xyz, xyz-rs, xyz.rs are all used afaik
[04:27:45] <pylos> Dabo: alright.  Also, vec!'s size parameter is a usize.  Should I make my constant PRG_PAGE_SIZE usize and cast header.prg_rom_size as usize?
[04:28:26] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[04:29:12] <Dabo> pylos, That would probably be good, yeah, rather than casting to u32 then usize
[04:30:20] *** Joins: Guest (textual@moz-rtn.fg7.77.192.IP)
[04:30:36] *** Joins: JanC__ (janc@moz-eh24b8.dsl.scarlet.be)
[04:30:41] *** Joins: zyphrus (David@moz-1a4.urk.98.101.IP)
[04:30:45] *** Joins: mib_4w9a5l (Mibbit@moz-sr4ot6.HINET-IP.hinet.net)
[04:30:48] *** Joins: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca)
[04:31:07] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[04:31:07] *** ChanServ sets mode: +o jdm
[04:31:42] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[04:31:45] <mib_4w9a5l> I am returning Box<&string::String> with "return Box::new(&String::from_str("111"));" but compiler tell me borrowed value does not live long enough. any ideas ?
[04:32:07] <theme> mib_4w9a5l, returning `Box<&T>` makes no sense at all
[04:32:09] *** Joins: mib_uho22e (Mibbit@moz-0hu1ne.rcsntx.sbcglobal.net)
[04:32:09] <Mutabah> !mib
[04:32:10] <rustbot> Hello, Mibbit user with a “mib_<random>” nickname. Please change your nickname to something less confusing by saying `/nick NEW_NAME_HERE`.
[04:32:22] <theme> btw I just noticed something weird
[04:32:32] <theme> Why is it possible to send a !Send type?
[04:32:35] *** Quits: tkellen (tkellen@moz-f5ji1n.vt.comcast.net) (Client exited)
[04:32:44] *** Quits: mib_uho22e (Mibbit@moz-0hu1ne.rcsntx.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[04:32:54] <theme> mpsc::{channel, Sender, Receiver} do not require Send for the type parameter
[04:32:59] <Mutabah> mib_4w9a5l: &-ptrs are borrows, they borrow some other memory (and must not outlive the source)
[04:33:11] <Mutabah> theme: They may require Send on the methdos
[04:33:12] *** Parts: CMCDragonkai (nobody@moz-v01.321.218.216.IP) ()
[04:33:13] <Mutabah> *methods
[04:33:20] *** Joins: CMCDragonkai (nobody@moz-v01.321.218.216.IP)
[04:33:22] <theme> Mutabah, which method?
[04:33:30] <Mutabah> theme: On the impl block
[04:33:34] <theme> Mutabah, I can't find any method there that requires Send
[04:33:59] *** Joins: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com)
[04:34:30] <mib_4w9a5l> Yup, got it. I should return Box<string::String> instread. with str::to_string().
[04:34:41] <Dabo> theme, Send is only implemented on Receiver of T implements Send
[04:34:41] <theme> Mutabah, at least channel(), Sender::send() and Receiver::recv() don't
[04:34:45] <theme> mib_4w9a5l, almost
[04:34:50] *** Quits: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca) (Ping timeout: 121 seconds)
[04:34:50] <theme> mib_4w9a5l, Box<String> makes no sense
[04:35:06] <Dabo> mib_4w9a5l, You probably want to avoid boxing things if you don't have to
[04:35:09] <theme> mib_4w9a5l, a String uses a Box (or something similar) for its internal implementation
[04:35:11] <Mutabah> theme: Ooh! The trick is that the Sender is only Send if T is Sen
[04:35:14] <Mutabah> *Send
[04:35:29] <theme> Mutabah, Dabo, wait what?
[04:35:35] <Dabo> theme, YOu can't send the receiver/sender to another thread unless T is also Send
[04:35:44] <theme> hmm
[04:35:45] <mib_4w9a5l> hmm, got it, thank you.
[04:35:50] <Dabo> So you are allowed a sender & receiver on the same thread with a non-Send type xD
[04:35:56] <Dabo> impl<T: Send> Send for Receiver<T>
[04:36:18] <geofft> mib_4w9a5l: another way of putting it is that String is a type that owns strings, and str (well, &str) is a non-owning reference 
[04:36:22] <theme> Dabo, that's a weird design
[04:36:29] <geofft> just like Box<T> is a type that owns just about anything else, and &T is a non-owning reference 
[04:36:42] <Dabo> theme, it does allow for more legal usages then requiring Send for everything though
[04:36:44] <theme> mib_4w9a5l, by the way, you don't need to say "string::String"
[04:36:50] <theme> mib_4w9a5l, you only need to say "String"
[04:37:04] <geofft> except strings aren't first-class things, really (which is why you need to decide whether you're using them as a String, or as a &str or something) 
[04:37:13] <Mutabah> theme: It allows you to use a mpsc in a single-threaded context
[04:37:15] <theme> mib_4w9a5l, http://doc.rust-lang.org/nightly/std/prelude/
[04:37:30] <theme> Mutabah, why would I want that?
[04:37:41] <mib_4w9a5l> Ok, learn a lot. Thanks.
[04:37:42] <Mutabah> theme: Event queue?
[04:37:43] *** Joins: frankmcsherry (frankmcsher@moz-fnrnnp.dyn.telefonica.de)
[04:38:09] <theme> Mutabah, I'd use a VecDeque for that
[04:38:29] <theme> wait a sec, that would be a borrowing error
[04:38:42] <theme> O_o
[04:38:47] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[04:38:52] *** Joins: kushal (kdas@moz-cbaein.202.sitibroadband.in)
[04:38:55] *** Quits: dhole (dhole@moz-2mk2f7.dynamic.jazztel.es) (Ping timeout: 121 seconds)
[04:39:16] *** Quits: Novacha (Novacha@moz-7qs.5ej.249.192.IP) (Quit: ZNC - http://znc.in)
[04:39:28] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[04:39:59] *** Joins: zcourts (zcourts@moz-7ms809.cable.virginm.net)
[04:40:05] *** Quits: zcourts (zcourts@moz-7ms809.cable.virginm.net) (Client exited)
[04:41:37] *** Joins: renderful (renderful@moz-atg40s.co.comcast.net)
[04:41:47] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[04:42:12] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[04:42:17] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[04:44:38] *** Joins: rbranson (rbranson@moz-oeg7f0.ca.comcast.net)
[04:44:43] <abcrawf> is there a better way to handle the lifetime of arms in this gist? https://gist.github.com/crawford/4524bce03117ab07ffc6
[04:44:43] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:45:04] *** Joins: arjun_ (arjun@moz-7ht.5jn.102.118.IP)
[04:45:04] *** Quits: OtterCoder (quassel@moz-lij.rme.199.67.IP) (Quit: No Ping reply in 180 seconds.)
[04:45:33] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[04:45:34] <abcrawf> in my broken code, "u" isn't alive long enough to be used by println!
[04:45:51] *** Joins: errordeveloper (ilya@moz-4uj.bgu.199.90.IP)
[04:46:05] *** Joins: OtterCoder (quassel@moz-lij.rme.199.67.IP)
[04:46:54] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[04:47:32] *** Quits: zeebo (zeebo@moz-6rqv1a.ut.comcast.net) (Ping timeout: 121 seconds)
[04:47:48] <theme> abcrawf, what exactly is the type of u?
[04:48:15] <Mutabah> and what exactly is the error you get?
[04:48:40] *** Quits: rbranson (rbranson@moz-oeg7f0.ca.comcast.net) (Ping timeout: 121 seconds)
[04:49:06] <abcrawf> u is a RequestUri::AbsoluteUri from the hyper crate
[04:49:21] <abcrawf> "error: borrowed value does not live long enough"
[04:49:31] *** Quits: minot2 (kkus@moz-baj4jj.74.srtnet.com) (Connection closed)
[04:49:42] <abcrawf> (pointing to "&u.serialize()")
[04:49:54] <jonalmeida> I didn't realize I could have a nested function in Rust
[04:50:06] *** Quits: errordeveloper (ilya@moz-4uj.bgu.199.90.IP) (Ping timeout: 121 seconds)
[04:50:15] <theme> jonalmeida, a closure is usually more concise
[04:50:36] <jonalmeida> theme: How do I call the 'inner' closure though from the outside?
[04:50:46] <jonalmeida> In this case: http://is.gd/nTJUIn
[04:50:54] *** Quits: nham (nham@moz-755.bu3.214.98.IP) (Ping timeout: 121 seconds)
[04:51:00] *** Joins: maedhroz (maedhroz@moz-4jk5ho.res.rr.com)
[04:51:14] <swgillespie> jonalmeida:you can't
[04:51:40] *** Joins: rbranson (rbranson@moz-ga0.9o0.201.199.IP)
[04:51:40] <jonalmeida> I guess that makes sense.
[04:51:41] <theme> abcrawf, serialize() returns a String
[04:51:43] <theme> not a &str
[04:51:45] *** Joins: ndhoule (ndhoule@moz-sf7g6k.ca.comcast.net)
[04:51:54] <swgillespie> jonalmeida: the inner function could refer to things on the stack of the parent function
[04:51:54] *** Joins: nham (nham@moz-755.bu3.214.98.IP)
[04:52:00] <swgillespie> (potentially)
[04:52:11] <Mutabah> theme: and it's lent out to the print function
[04:52:15] *** Quits: abaez (abaez@moz-pqg1ef.fios.verizon.net) (A TLS packet with unexpected length was received.)
[04:52:27] *** Quits: d_rezzer (chatzilla@moz-t0fmuj.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[04:52:30] <abcrawf> theme: so the String doesn't live outside the scope of the match, right?
[04:52:31] *** Quits: hjr3 (hradtke@moz-dmp.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[04:52:33] <abcrawf> (still learning)
[04:52:36] <theme> abcrawf, yes
[04:52:47] <abcrawf> if it were a &String, it would be okay?
[04:53:01] <abcrawf> (or &str)
[04:53:08] <theme> abcrawf, yes if that &str is borrowed from u
[04:53:09] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[04:53:32] <jonalmeida> I'm trying to figure out how design a rust object that is simpler to a FFI c callback (the callback is in a struct) where it's optional to set the callback.
[04:54:25] <jonalmeida> I guess using an extern fn with closures in it wouldn't work
[04:55:02] *** Quits: maedhroz (maedhroz@moz-4jk5ho.res.rr.com) (Ping timeout: 121 seconds)
[04:55:05] *** Quits: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com) (Ping timeout: 121 seconds)
[04:55:08] *** Joins: abaez (abaez@moz-pqg1ef.fios.verizon.net)
[04:55:20] <abcrawf> theme: is there a better way to structure my code? my understanding is that the lifetime of the print statement needs to be a subset of the lifetime of the String.
[04:55:28] <theme> abcrawf, I am thinking...
[04:55:31] *** mib_4w9a5l is now known as gmk
[04:55:54] *** Joins: wldcordeiro (wldcordeiro@moz-pvsror.ut.comcast.net)
[04:56:02] <theme> abcrawf, this case is tricky
[04:56:23] *** Quits: popow (Thunderbird@moz-03f.kd0.252.223.IP) (Connection closed)
[04:56:30] *** Quits: happy-dude_ (uid62780@moz-jt3517.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[04:56:34] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[04:56:38] *** Joins: popow (Thunderbird@moz-03f.kd0.252.223.IP)
[04:57:25] <srjek> What am I supposed to do with f64::consts::E? As in, the docs say it's a f64, but the compiler thinks it's an ambiguous type, then tells me to use some syntax that I don't understand yet.
[04:57:59] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[04:58:05] <theme> abcrawf, probably something similar to me https://gist.github.com/theemathas/d21a0739ac681a153f63
[04:58:23] <theme> srjek, are you using beta or nightly?
[04:58:33] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[04:58:38] <srjek> nightly
[04:58:50] *** Quits: ndhoule (ndhoule@moz-sf7g6k.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:58:53] <abcrawf> theme: ah ha. okay.
[04:58:57] <gsingh93> can someone explain why I can't do this, or how I can get it to work: http://is.gd/DhP2hO
[04:59:07] <theme> abcrawf, by the way, you don't need .as_ref() on the first variant
[04:59:12] <srjek> playpen is giving me the same error for beta
[04:59:22] *** Quits: slashus2 (slashus2___@moz-dj7anc.res.rr.com) (Ping timeout: 121 seconds)
[04:59:35] <theme> playbot, let x = std::f64::consts::E;
[04:59:37] -playbot- ()
[04:59:41] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[04:59:42] <theme> srjek, no error here
[04:59:50] *** Joins: hjr3 (hradtke@moz-dmp.av4.169.69.IP)
[04:59:50] *** Quits: gmk (Mibbit@moz-sr4ot6.HINET-IP.hinet.net) (Quit: http://www.mibbit.com ajax IRC Client)
[04:59:55] *** Quits: jasonrm (jasonrm@moz-ei1vbk.ph.cox.net) (Ping timeout: 121 seconds)
[05:00:00] <srjek> ? http://is.gd/OlPhvO
[05:00:14] <srjek> ...
[05:00:24] <srjek> std::f64::consts::E != f64::consts::E
[05:00:30] <theme> srjek, http://is.gd/iRbLQA
[05:00:32] <srjek> Not sure why, but it is
[05:00:34] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Connection closed)
[05:00:39] <theme> srjek, there's a module std::f64
[05:00:42] <theme> and a primitive type f64
[05:00:45] <theme> which is confusing :(
[05:01:02] <srjek> That is confusing
[05:01:07] *** Quits: hjr3 (hradtke@moz-dmp.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[05:01:47] *** Quits: anders (andars@moz-bsldst.sntcca.sbcglobal.net) (Ping timeout: 121 seconds)
[05:01:47] <srjek> I still don't understand why the primitive f64::consts::E isn't a f64, but at least I move on now
[05:02:06] <theme> srjek, ??
[05:02:09] <huon> writing it without the std:: looks for an associated constant inside the f64 type, which doesn't exist
[05:02:16] *** Joins: janne (Mibbit@moz-181rp8.cust.bredband2.com)
[05:02:25] <carllerche> is there anyway to specify a cargo dependency only for windows & only for unix?
[05:02:27] <huon> writing it with the std:: looks for a normal constant inside the std::f64::... module, which does exist
[05:02:37] <carllerche> do all triple permutations have to be specified?
[05:02:40] *** Quits: janne (Mibbit@moz-181rp8.cust.bredband2.com) (Quit: http://www.mibbit.com ajax IRC Client)
[05:02:43] <theme> gsingh93, the compiler is saying that Foo is not Send
[05:02:52] <huon> carllerche: I think so, unfortunately
[05:02:58] <theme> gsingh93, which is due to Mutex<Rc<u32>> not being Send
[05:02:59] <srjek> So, the error message is actually telling me that there is no f64::consts:e
[05:03:08] <theme> gsingh93, actually, Sync
[05:03:22] *** Joins: hjr3 (hradtke@moz-dmp.av4.169.69.IP)
[05:03:23] <theme> gsingh93, at the bottom of this page: http://doc.rust-lang.org/nightly/std/sync/struct.Mutex.html
[05:03:27] <pylos> String's from_utf8 method takes a vec<u8>.  I currently have an [u8;4], that I want to pass to the from_utf8 function.  Is the best way to do this: String::from_utf8(some_array.iter().cloned().collect()).unwrap()?
[05:03:50] <theme> gsingh93, Mutex<Rc<u8>> is not Sync because Rc<u8> is not Send
[05:03:52] <gsingh93> theme: i guess I dont fundamentally understand what could go wrong
[05:04:04] <theme> gsingh93, we need an Arc
[05:04:06] <gsingh93> accessing the Rc should be safe because of the mutex, right?
[05:04:08] <theme> gsingh93, nope
[05:04:14] <abcrawf> theme: if I leave it out, the compiler says that the match arms are incompatible ("unknown" in a &str, but the AbsolutePath is a &String)
[05:04:51] <theme> abcrawf, oh great.... I thought &String coerces to &str
[05:05:02] <theme> gsingh93, lemme write some code
[05:05:02] *** Quits: Tuna-Fish (quassel@moz-5djkv5.kortex.jyu.fi) (Connection closed)
[05:05:05] <huon> theme: it does, but not always
[05:05:14] <theme> gsingh93, maybe not
[05:05:48] *** Joins: fyolnish (fyolnish@moz-ocvfrf.au-net.ne.jp)
[05:05:59] <seanmonstar> &*s will give you a &str from a String
[05:06:04] <theme> gsingh93, you can (1) create an Rc (2) clone it, and put the clone in a Mutex (3) send the Mutex to another thread (rust prevents this) (4) attempt to modify the reference count via the two clones
[05:06:23] <theme> seanmonstar, actually &**
[05:06:23] *** Quits: hjr3 (hradtke@moz-dmp.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[05:06:26] <theme> in this case
[05:06:32] *** Joins: jasonrm (jasonrm@moz-cfuelm.ph.cox.net)
[05:06:36] <carllerche> huon: :(
[05:06:38] *** Quits: naerbnic (naerbnic@moz-tm2gcl.ca.comcast.net) (Connection closed)
[05:06:47] <seanmonstar> theme: perhaps, haven't read. 
[05:06:49] <carllerche> i assume there already is an issue for this
[05:07:01] <theme> seanmonstar, in this case, it's a &String
[05:07:10] *** Joins: naerbnic (naerbnic@moz-tm2gcl.ca.comcast.net)
[05:07:33] <theme> gsingh93, got it?
[05:08:20] <gsingh93> theme: can you write some non-compiling code? I think that would be easier for me to understand
[05:09:28] *** Joins: gmk (Mibbit@moz-sr4ot6.HINET-IP.hinet.net)
[05:09:42] <theme> gsingh93,  please wait
[05:10:15] <abcrawf> fg
[05:10:27] *** Joins: srjek_ (srjek@moz-gg7i72.ece.uic.edu)
[05:10:27] *** Quits: srjek (srjek@moz-gg7i72.ece.uic.edu) (Connection closed)
[05:10:54] <gmk> if I call a function which return type (&collections::string::String), how do I copy it to a struct which has member of type (collections::string::String) ?
[05:12:01] *** Quits: popow (Thunderbird@moz-03f.kd0.252.223.IP) (Connection closed)
[05:12:04] <Mutabah> gmk: You would need to clone it
[05:12:09] *** Joins: popow (Thunderbird@moz-03f.kd0.252.223.IP)
[05:12:09] <Mutabah> however, why does it return &String?
[05:12:21] *** Joins: zeebo (zeebo@moz-6rqv1a.ut.comcast.net)
[05:12:51] *** Quits: naerbnic (naerbnic@moz-tm2gcl.ca.comcast.net) (Client exited)
[05:13:18] *** Quits: abaez (abaez@moz-pqg1ef.fios.verizon.net) (Ping timeout: 121 seconds)
[05:13:23] <abcrawf> theme: thank you for your help
[05:13:46] <theme> :)
[05:13:53] <gmk> Mutabah: I use this function, it returns &str (https://github.com/zonyitoo/rust-ini/blob/master/src/ini.rs#L144)
[05:14:02] <seanmonstar> abcrawf: if you ever have Web specific questions, join us #rust-webdev 
[05:14:10] <Mutabah> gmk: Ah, &str != &String
[05:14:28] <Mutabah> gmk: To turn the &str into a String, use String::from(value)
[05:14:29] <theme> gsingh93, http://is.gd/xlFb60
[05:14:30] <gmk> Mutabah: Option<&'a str>, so I unwrap it, then it became &collections::string::String
[05:14:38] <theme> gmk, no
[05:14:43] *** Quits: mpiechotka (mpiechotka@moz-ptb6iv.ca.comcast.net) (Client exited)
[05:14:44] *** Joins: minot2 (kkus@moz-baj4jj.74.srtnet.com)
[05:14:50] <theme> gmk, it becomes `&'a str`
[05:14:51] <Mutabah> gmk: Unwrapping just gives you &'a str
[05:15:00] <theme> gsingh93, understand what's going on here?
[05:15:05] *** Joins: csoriano (csoriano@moz-g6rkdc.net.upcbroadband.cz)
[05:15:18] <gmk> Mutabah, hmm, I misunderstood the type.
[05:15:22] *** Quits: brandonson (brandonson@moz-04bj5s.cs.ubc.ca) (Ping timeout: 121 seconds)
[05:15:40] <theme> gmk, I'd say that &str is similar to &String, though (but &str is more generic)
[05:15:57] <Mutabah> theme: &String should be linted against
[05:16:18] <theme> Mutabah, eh.... sounds reasonable
[05:16:19] <gmk> be'coz compiler told me  expected `collections::string::String`,     found `&collections::string::String`, LOL
[05:16:20] <Mutabah> (as in, we really should have a lint that fires when that type is written in code)
[05:16:24] <carllerche> So, now that I have a windows VM running, what's the easiest way to dev? o_O
[05:16:26] <gsingh93> theme: yea, that helps alot
[05:16:30] <theme> gsingh93, :)
[05:16:31] <carllerche> how do I run cargo from windows? :P
[05:16:33] *** Joins: Tuna-Fish (quassel@moz-5djkv5.kortex.jyu.fi)
[05:16:34] <forgottenone> what is the syntax for named fields in anonymous structs or tuples?
[05:16:37] <carllerche> I don't know what I am doing!
[05:16:39] <theme> carllerche, command prompt?
[05:16:40] <Mutabah> gmk: Code and exact output?
[05:16:54] <gmk> Mutabah: OK, wait.
[05:16:55] <theme> forgottenone, what is an "anonymous struct"?
[05:17:11] <Mutabah> carllerche: Same way as you call rustc?
[05:17:25] <theme> gsingh93, why do you want a Mutex<Rc<T>>, any way?
[05:17:35] <forgottenone> theme: i thought this is an anonymous struct let x={3;7};
[05:17:51] <theme> forgottenone, it isn't
[05:17:54] <Mutabah> forgottenone: Ah, no, it isn't
[05:17:58] <niconii> forgottenone: { 3; 7 } is a block which would return 7
[05:17:59] <Mutabah> forgottenone: That's a block
[05:18:02] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[05:18:10] <theme> forgottenone, FYI in rust, blocks are expressions
[05:18:23] <forgottenone> oh i see
[05:18:29] <theme> forgottenone, and in rust, the semicolon is similar to C/C++'s comma operator
[05:18:33] <gmk> Mutabah: http://pastebin.com/1YQWZ5jv
[05:18:37] <theme> in case you know C/C++
[05:19:21] <abcrawf> seanmonstar: I have a question about that syntax you used (&*s). I see that '*' calls deref() on the String, which looks like it returns a &str. But that must not be true.
[05:19:34] <reem> abcrawf: &*x is sugar for x.deref()
[05:19:36] <gsingh93> theme: it's a simplified example, it's a mutex on some other object, that contains some other objects, and one of those has a HashMap of Rc's because it's cheaper than cloning the entire object as the key
[05:19:41] <reem> abcrawf: &mut *x is sugar for x.deref_mut()
[05:19:47] <forgottenone> then is it possible to give name to fields of structs?
[05:20:07] <theme> abcrawf, IIRC in that case, you had &String
[05:20:10] <theme> not String
[05:20:10] <niconii> forgottenone: what do you mean?
[05:20:19] <theme> gsingh93, ever saw CoW?
[05:20:26] *** Quits: popow (Thunderbird@moz-03f.kd0.252.223.IP) (Connection closed)
[05:20:31] <Mutabah> gmk: And the compiler output?
[05:20:35] *** Quits: khades (Thunderbird@moz-u45.3vk.74.212.IP) (Ping timeout: 121 seconds)
[05:20:38] <theme> gsingh93, http://doc.rust-lang.org/nightly/std/borrow/enum.Cow.html
[05:20:40] <Mutabah> gmk: Also, are you using the current verison of that code?
[05:20:44] <niconii> forgottenone: struct fields do have names: struct MyStruct { my_field: i32 }
[05:20:48] <Mutabah> (the rust-ini repo)
[05:20:58] <niconii> forgottenone: unless you mean a tuple struct: struct MyStruct(i32);
[05:21:00] <seanmonstar> abcrawf: deref returns str, not & str
[05:21:14] <gmk> Mutabah: Compiler tell me http://pastebin.com/9SpX7qZ2
[05:21:14] <theme> seanmonstar, x.deref() returns &String
[05:21:29] <forgottenone> niconii: i might be wrong, but i remember something like (Foo:3,Bar=5) in previous documentations
[05:21:32] <theme> seanmonstar, I mean, if x is String, then x.deref() returns &str
[05:21:42] <theme> and if x is String, then *x returns str
[05:21:49] <forgottenone> sorry (Foo:3,Bar:5)
[05:21:52] <theme> but x wasn't String, it was &String
[05:21:56] <niconii> forgottenone: i've never seen syntax like that before
[05:22:04] <gsingh93> theme: i've heard of it, but i never really understood when to use it
[05:22:06] <theme> forgottenone, old versions of rust, I guess
[05:22:07] <gmk> Mutabah: the ini function is here : https://github.com/zonyitoo/rust-ini/blob/master/src/ini.rs#144
[05:22:09] <gsingh93> should i use it instead of Rc?
[05:22:16] <theme> gsingh93, in some cases
[05:22:22] <Mutabah> gmk: 1. check that you're not using an old version of rust-ini, 2. (this should fix things) use String::from(channel.unwrap())
[05:22:24] <forgottenone> niconii: then i am wrong
[05:22:31] <niconii> forgottenone: anyway, if you want to get an item from a tuple, like (123, 456, 789), you can do
[05:22:34] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[05:22:34] <seanmonstar> theme: he asked a different question 
[05:22:41] <forgottenone> theme: i guess, it was 0.12 or 0.13 reference
[05:22:45] <niconii> playbot: let tuple = (123, 456, 789); tuple.1
[05:22:46] <abcrawf> theme: I need to RTFM. I thought '*' was equal to '.deref()'
[05:22:47] -playbot- 456
[05:22:47] *** Joins: dstrbad (dstrbad@moz-v485c3.cable.xnet.hr)
[05:23:00] <theme> abcrawf, '*' is sort of magic
[05:23:03] <niconii> forgottenone: (this also works with struct tuples)
[05:23:18] <gmk> Mutabah: OK, I will check that, Thanks.
[05:23:27] <niconii> forgottenone: oh, but wait, you may be talking about destructuring?
[05:23:27] <abcrawf> theme: ha, ok. (coming from C)
[05:23:28] <theme> forgottenone, {Foo: 3, Bar: 5}?
[05:23:28] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[05:23:38] *** Joins: dellavg (dellavg@moz-9lesb5.retail.telecomitalia.it)
[05:23:43] <carllerche> i don't think I have used windows in over 15 years...
[05:23:44] <niconii> playbot: let (foo, bar) = (123, 456); bar
[05:23:45] -playbot- 456
[05:24:01] <niconii> forgottenone: is this what you were talking about? ^
[05:24:08] *** Joins: winding-lines (textual@moz-g7k4j8.ca.comcast.net)
[05:24:19] <forgottenone> niconii: not exactly 
[05:24:29] <forgottenone> theme yes i meant that but it wont compile
[05:25:08] <Sgeo> aatch, maybe a struct with a destructor that will abort unless I say not to (after I manage to call f without panicking)
[05:25:13] <theme> abcrawf, if x is not "&T", but x implements Deref, then I think of "*x" as "*(x.deref())" (note that the second '*' is on &T)
[05:25:32] <theme> forgottenone, TypeNameHere { Foo: 3, Bar: 5}
[05:25:33] *** Quits: jasonrm (jasonrm@moz-cfuelm.ph.cox.net) (Ping timeout: 121 seconds)
[05:25:44] <aatch> Sgeo, that might work
[05:25:54] <theme> playbot, struct Foo { x: i32, y: i32 } let x = Foo { x: 3, y: 5}; x
[05:25:55] -playbot- <anon>:8:5: 8:9 error: the trait `core::fmt::Debug` is not implemented for the type `main::Foo` [E0277]
[05:25:55] -playbot- <anon>:8     show({
[05:25:55] -playbot- output truncated; full output at: http://bit.ly/1cdEj9W
[05:26:01] <forgottenone> theme,what i was asking is it possible to do it without giving a name
[05:26:07] <forgottenone> to the struct
[05:26:10] *** Joins: popow (Thunderbird@moz-03f.kd0.252.223.IP)
[05:26:12] <theme> playbot, struct Foo { x: i32, y: i32 } let val = Foo { x: 3, y: 5}; val.x
[05:26:13] -playbot- 3
[05:26:16] <theme> forgottenone, currently, nope
[05:26:22] <theme> postponed feature or something
[05:26:47] * theme finds structural typing confusing
[05:26:59] <theme> forgottenone, you can use a tuple, though
[05:27:10] <forgottenone> theme: ok thanks,that's the answer 
[05:27:15] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Ping timeout: 121 seconds)
[05:27:17] <theme> forgottenone, found this, thought https://github.com/rust-lang/rfcs/issues/294
[05:27:23] <theme> more like "anonymous enums"
[05:27:40] <forgottenone> theme: but tuples dont allow named fields afaik?
[05:27:48] <theme> forgottenone, yes
[05:27:54] <forgottenone> ok thank
[05:27:56] <forgottenone> s
[05:27:57] *** Quits: lutter1 (lutter@moz-7v7ueu.PUBLIC.monkeybrains.net) (Quit: Leaving.)
[05:28:13] *** Joins: adu (adu@moz-d3un5a.ms5a.74ae.000a.2601.IP)
[05:28:58] *** Quits: popow (Thunderbird@moz-03f.kd0.252.223.IP) (Connection closed)
[05:29:04] *** Joins: popow (Thunderbird@moz-03f.kd0.252.223.IP)
[05:29:15] <carllerche> is it sane to try to work with rust / cargo on windows w/o mingw?
[05:29:51] <tomaka> carllerche: yes, but some crates like "time" require mingw to be installed
[05:30:10] <tomaka> carllerche: (that's why I often say here that "time" is a cancer to windows useers as long as that's not fixed)
[05:31:11] <carllerche> :(
[05:31:19] <carllerche> tomaka: is there an alternative to time?
[05:31:36] *** Joins: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca)
[05:32:00] <tomaka> if you just need precise_time_ns there's "clock_ticks", otherwise no
[05:32:35] *** Quits: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se) (Ping timeout: 121 seconds)
[05:34:05] *** Quits: O01eg (o01eg@moz-pr9fvp.pbl2.4n8f.2698.2a02.IP) (Client exited)
[05:34:32] <carllerche> tomaka: do you work a bunch w/ windows?
[05:34:36] *** Quits: csoriano (csoriano@moz-g6rkdc.net.upcbroadband.cz) (Client exited)
[05:34:47] *** Joins: pgonda (peter@moz-otulp7.ma.comcast.net)
[05:34:49] <abcrawf> theme: your explanation just made sense to me... now I see why the additional & is needed.
[05:35:05] <theme> abcrawf, additional '*'?
[05:35:38] *** Quits: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca) (Ping timeout: 121 seconds)
[05:35:57] <abcrawf> the additional & in "&*s" where s is a String. I thought "*s" would return a &str, but it really only provides a str.
[05:36:03] <theme> :)
[05:36:44] <theme> It's compiler magic :P
[05:37:04] <abcrawf> ehh, I don't like magic
[05:37:16] <abcrawf> though, I'm afraid of compilers, so I won't complain
[05:37:21] <abcrawf> :)
[05:37:24] *** Quits: adu (adu@moz-d3un5a.ms5a.74ae.000a.2601.IP) (Quit: Leaving)
[05:37:30] <theme> abcrawf, at least this is less magical than trait objects :P
[05:37:43] <tomaka> carllerche: yeah, I'm mostly on windows
[05:37:49] <theme> Actually, I still treat method resolution as magic :/
[05:38:02] *** Quits: rbranson (rbranson@moz-ga0.9o0.201.199.IP) (Ping timeout: 121 seconds)
[05:38:03] <carllerche> tomaka: I'm starting work on adding windows support to mio!
[05:38:06] <carllerche> hopefully it will go well
[05:38:13] <gmk> by the way, how do I clone a String
[05:38:14] <tomaka> carllerche: ah!
[05:38:47] <raph> carllerche: may the force be with you, or however you say that
[05:38:57] <tomaka> carllerche: WindowsBunny has knowledge about the win32 api if you need help
[05:39:16] *** Joins: jasonrm (jasonrm@moz-lcis6m.ph.cox.net)
[05:39:38] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[05:39:53] <gmk> figured it, .clone().
[05:40:00] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[05:44:48] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[05:44:57] *** Joins: loyd (loyd@moz-uft.32f.108.213.IP)
[05:45:14] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[05:45:30] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[05:45:36] *** Joins: kamilc__ (kamil@moz-u843uu.play-internet.pl)
[05:45:57] *** Joins: xishvai (Thunderbird@moz-pd9.j5n.231.101.IP)
[05:46:15] <seanmonstar> tomaka: we could probably get time in pure rust, like we did with num_cpus
[05:46:23] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[05:46:34] *** Joins: errordeveloper (ilya@moz-4uj.bgu.199.90.IP)
[05:47:17] <tomaka> seanmonstar: yeah there's an issue open for this
[05:47:33] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[05:47:44] <seanmonstar> PR is more useful :) 
[05:47:53] <tomaka> but IIRC the C code has conditional compilation with a lot of platforms, and nobody is brave enough to rewrite it and test it everywhere
[05:47:56] <dpc> Hi. Is `libc::funcs::posix01::stat_::lstat` the best way to get a lstat call?
[05:48:17] *** Quits: winding-lines (textual@moz-g7k4j8.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[05:49:12] *** Quits: pgonda (peter@moz-otulp7.ma.comcast.net) (Ping timeout: 121 seconds)
[05:49:38] <gmk> How do I use concat! with String ?
[05:49:51] <seanmonstar> gmk: you dont
[05:49:53] <Mutabah> gmk: concat! is just for string literals
[05:50:00] <Mutabah> gmk: With String, + is avaliable
[05:50:02] <seanmonstar> Concat happens at compile time
[05:50:10] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:50:11] <Mutabah> playbot: String::from("Hello ") + "world"
[05:50:12] -playbot- "Hello world"
[05:50:33] <gmk> Ok.
[05:50:40] <mbrubeck> gmk: For Strings you can use http://doc.rust-lang.org/std/slice/trait.SliceConcatExt.html#tymethod.concat
[05:50:48] *** Quits: errordeveloper (ilya@moz-4uj.bgu.199.90.IP) (Ping timeout: 121 seconds)
[05:50:51] *** Quits: Slava_I (slava@moz-a7c.n0g.135.88.IP) (Connection closed)
[05:51:18] *** Joins: Slava_I (slava@moz-a7c.n0g.135.88.IP)
[05:51:22] *** Quits: Verdagon (Verdagon@moz-ff302e.ca.comcast.net) (Client exited)
[05:52:05] <mbrubeck> dpc: http://doc.rust-lang.org/std/fs/struct.File.html#method.metadata wraps lstat in a portable API
[05:52:49] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[05:53:15] *** Quits: fengshaun (fengshaun@moz-rf0qk5.cable.teksavvy.com) (Ping timeout: 121 seconds)
[05:53:15] *** Quits: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net) (Connection closed)
[05:54:01] *** Quits: panicbit (panicbit@moz-kqu.rvb.226.79.IP) (Ping timeout: 121 seconds)
[05:54:37] <Sgeo> Even aborting is unstable?
[05:54:58] <Sgeo> panic in destructor == abort, right?
[05:55:04] *** Quits: frankmcsherry (frankmcsher@moz-fnrnnp.dyn.telefonica.de) (Connection closed)
[05:55:04] <gmk> It seems I can't use + with two String
[05:55:20] *** Joins: chowmeined_ (chowmeined@moz-vqsrfv.wa.comcast.net)
[05:56:02] *** Joins: khades (Thunderbird@moz-ual.b31.186.31.IP)
[05:56:06] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[05:56:06] *** ChanServ sets mode: +o erickt
[05:57:00] <abcrawf> I find it interesting that '*' will dereference a pointer, even if that type implements Deref
[05:57:38] *** Quits: jasonrm (jasonrm@moz-lcis6m.ph.cox.net) (Ping timeout: 121 seconds)
[05:57:42] <abcrawf> the result is that, given s as &String, &**s and s.deref() are equivalent
[05:58:29] <gmk> I use format! instead, it works great.
[05:58:38] <theme> abcrawf, what do you mean?
[05:58:43] *** Quits: chowmeined (chowmeined@moz-vqsrfv.wa.comcast.net) (Ping timeout: 121 seconds)
[05:59:25] *** Joins: Verdagon (Verdagon@moz-ff302e.ca.comcast.net)
[05:59:26] *** Quits: Guest (textual@moz-rtn.fg7.77.192.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:59:31] <theme> wait, nvm
[05:59:33] <abcrawf> theme: http://is.gd/DdZC7g
[05:59:52] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:59:59] <theme> Sgeo, panic in destructor is not abort
[06:00:16] <mbrubeck> Sgeo: If I remember correctly, panic in a destructor causes an abort only if it happens during a previous panic
[06:00:20] <theme> Sgeo, panic in destructor when unwinding from another panic *is* an abort
[06:00:25] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[06:00:49] <theme> there are some proposals to make all panics in destructors be aborts, though
[06:00:55] *** Joins: panicbit (panicbit@moz-kqu.rvb.226.79.IP)
[06:01:16] <theme> The only case of panicking destructors that I know of is thread::scoped()
[06:01:21] <theme> which is unsound :/
[06:01:47] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[06:02:08] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[06:04:22] *** Quits: aatch (james@moz-ciignl.bmm3.j08e.e000.2406.IP) (Connection closed)
[06:04:59] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[06:05:10] <theme> playbot, let x = "mbru".to_string(); let y = "beck".to_string(); let z: String = x + &y; println!("{}", z);
[06:05:12] -playbot- mbrubeck
[06:05:13] -playbot- ()
[06:05:16] <theme> :)
[06:05:50] <theme> not sure why it is done this way
[06:07:21] <dpc> mbrubeck: Thanks.
[06:07:46] *** Quits: minot2 (kkus@moz-baj4jj.74.srtnet.com) (Connection closed)
[06:08:00] *** Quits: srh (User@moz-328gfs.q9f2.utp8.0306.2602.IP) (Ping timeout: 121 seconds)
[06:08:14] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[06:08:25] *** Quits: gmk (Mibbit@moz-sr4ot6.HINET-IP.hinet.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:08:33] *** Joins: llogiq (andre@moz-ebe0kb.unity-media.net)
[06:08:33] <theme> wait a sec, wrong person
[06:08:49] <theme> playbot, let x = "g".to_string(); let y = "mc, here you go :)".to_string(); let z: String = x + &y; println!("{}", z);
[06:08:51] -playbot- gmc, here you go :)
[06:08:51] -playbot- ()
[06:09:40] *** Quits: genbattle (genbattle@moz-4v0.gkd.16.182.IP) (Ping timeout: 121 seconds)
[06:10:26] *** Quits: theme (theme@moz-i3mhhb.asianet.co.th) (Quit: Leaving)
[06:10:45] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[06:11:03] *** Quits: timj (timj@moz-hvd0lf.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[06:11:05] *** Quits: Verdagon (Verdagon@moz-ff302e.ca.comcast.net) (Client exited)
[06:11:11] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Connection closed)
[06:12:06] *** Joins: KLP (KLP@moz-qdcjho.res.rr.com)
[06:13:24] *** Joins: marsel (user@moz-86r.010.180.94.IP)
[06:13:31] <carllerche> is there a way to annotate a fn or a type to prevent rustdoc from including docs for it (even if it is exported)?
[06:14:20] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[06:17:37] *** Quits: chowmeined_ (chowmeined@moz-vqsrfv.wa.comcast.net) (Connection closed)
[06:17:39] <ChrisMorgan> carllerche: #[doc(hidden)]
[06:17:46] <carllerche> so obvious now
[06:17:57] <ChrisMorgan> Any location that includes the type will simply not be a hyperlink.
[06:18:59] *** Joins: khades1 (Thunderbird@moz-ual.b31.186.31.IP)
[06:19:16] *** Joins: jasonrm (jasonrm@moz-qreh3a.ph.cox.net)
[06:19:35] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[06:21:13] *** Quits: khades (Thunderbird@moz-ual.b31.186.31.IP) (Ping timeout: 121 seconds)
[06:21:40] *** Joins: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se)
[06:22:37] *** Joins: alonlevy_ (alon@moz-p48.q13.159.94.IP)
[06:22:44] *** Joins: Guest (textual@moz-rtn.fg7.77.192.IP)
[06:23:25] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[06:23:30] *** Joins: jaen (jaen@moz-ifmik2.copit.pl)
[06:25:00] *** Quits: jaen (jaen@moz-ifmik2.copit.pl) (Quit: WeeChat 1.1.1)
[06:25:03] *** Quits: sin8h (Adium@moz-4gl.cvv.51.106.IP) (Quit: Leaving.)
[06:25:19] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[06:25:36] *** Quits: OtterCoder (quassel@moz-lij.rme.199.67.IP) (Ping timeout: 121 seconds)
[06:26:04] *** Quits: jimb (user@moz-6gkikn.or.comcast.net) (Ping timeout: 121 seconds)
[06:26:46] *** Joins: dawehner (quassel@moz-sub.hhs.128.88.IP)
[06:26:53] *** Joins: timj (timj@moz-0dl3bs.dip0.t-ipconnect.de)
[06:27:02] *** Quits: niconii (nicole@moz-5gqgia.frgo.qwest.net) (Quit: leaving)
[06:27:58] *** Quits: Gamecubic (cubic@moz-bglmk5.mc.videotron.ca) (Quit: Leaving)
[06:28:45] *** Joins: thiblahute (tsaunier@moz-68f5rr.rev.sfr.net)
[06:28:49] *** Joins: dickchansey3 (dickchansey@moz-vbukko.adsl.tpnet.pl)
[06:28:57] *** Quits: DerisiveLogic (smuxi@moz-g93io6.res.rr.com) (Ping timeout: 121 seconds)
[06:29:26] *** srjek_ is now known as srjek
[06:31:46] *** Quits: khades1 (Thunderbird@moz-ual.b31.186.31.IP) (Client exited)
[06:31:53] *** Joins: khades (Thunderbird@moz-ual.b31.186.31.IP)
[06:32:02] *** Joins: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca)
[06:32:06] *** Joins: iamtyler (Adium@moz-1dtmni.wa.comcast.net)
[06:32:07] *** Quits: dickchansey (dickchansey@moz-50asnr.adsl.tpnet.pl) (Ping timeout: 121 seconds)
[06:32:41] *** Quits: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se) (Ping timeout: 121 seconds)
[06:33:20] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Ping timeout: 121 seconds)
[06:34:31] *** Quits: AngelOfSol (AngelOfSol@moz-dj58kc.rh.rit.edu) (Quit: Remember to close the door when you're done!)
[06:34:33] *** Quits: Twinklebear (Twinklebear@moz-ttrcn3.ut.comcast.net) (Quit: Leaving)
[06:34:50] *** Joins: sin8h (Adium@moz-4gl.cvv.51.106.IP)
[06:36:19] *** Quits: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca) (Ping timeout: 121 seconds)
[06:37:25] *** Quits: psy (psy@moz-93g.ntd.6.103.IP) (Ping timeout: 121 seconds)
[06:38:06] *** Joins: frankmcsherry (frankmcsher@moz-fnrnnp.dyn.telefonica.de)
[06:38:59] *** Quits: oceanwhit (christianwh@moz-a38b1m.ca.comcast.net) (Ping timeout: 121 seconds)
[06:39:47] *** Quits: loyd (loyd@moz-uft.32f.108.213.IP) (Ping timeout: 121 seconds)
[06:40:40] *** Quits: panicbit (panicbit@moz-kqu.rvb.226.79.IP) (Ping timeout: 121 seconds)
[06:40:56] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[06:41:16] *** Quits: basicdays (basicdays@moz-vreeoj.cable.rcn.com) (Quit: I'm out)
[06:42:16] *** Joins: nstoddard_ (nstoddard@moz-urhoua.resnet.purdue.edu)
[06:42:53] *** Joins: Guest44 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[06:43:39] <Guest44> Hey guys, I really like Rust. Is there a chance that it will have garbage collection and dynamic typing, critical for any modern language?
[06:44:10] <raph> Guest44: short answer: no to the dynamic typing part
[06:44:26] <raph> but eventually it will have integration with a garbage collector, almost certainly
[06:44:29] <geofft> yes, I believe that the ability to have garbage collection in the future is something people are keeping in mind 
[06:44:46] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[06:44:46] <Guest44> also, what about syntax-significant whitespace instead of curly braces? is that planned?
[06:44:47] <raph> ideally as a library that works well, as opposed to something in the core language
[06:44:48] <geofft> (also, to be slightly pedantic, reference counting is a form of garbage collection) 
[06:44:50] *** Joins: akiss (akiss@moz-s2omc8.uio.no)
[06:44:50] *** Quits: nstoddard (nstoddard@moz-urhoua.resnet.purdue.edu) (Ping timeout: 121 seconds)
[06:44:57] *** nstoddard_ is now known as nstoddard
[06:45:04] *** Joins: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se)
[06:45:15] <geofft> Guest44: there is the Any type, to "emulate dynamic typing": https://doc.rust-lang.org/std/any/trait.Any.html 
[06:45:42] <Guest44> geofft but I don't wanna have to emulate it, I want a language that is just that way
[06:45:53] <geofft> that will break a lot of existing Rust code 
[06:45:58] <raph> Guest44: then it sounds like Python may be the language of your dreams
[06:46:04] *** Joins: {AS} (uid45026@moz-srvrrh.uxbridge.irccloud.com)
[06:46:05] <dpc> error: the trait `core::marker::Sized` is not implemented for the type `[u8]` [E0277]
[06:46:09] <Guest44> a dynamically-typed, garbage-collected, whitespace-significant language
[06:46:10] <geofft> you can interoperate with Python and Rust! 
[06:46:18] <dpc> I'm getting this for Path struct element. What's the deal?
[06:46:29] <Guest44> basically like Python but better
[06:46:42] <raph> Guest44: that's not really the goal of Rust
[06:46:46] <geofft> write your critical-path, solid stuff in Rust, write the rest of it in Python 
[06:47:06] <geofft> I haven't heard people talk about syntax-significant whitespace _instead of_ braces, but people definitely want rustfmt to be a thing 
[06:47:18] <Guest44> braces clutter the code
[06:47:39] <dpc> Guest44: Are you trolling? :)
[06:47:50] <geofft> you can write your own parser to convert whitespace-only Rust to an AST! 
[06:47:59] <Guest44> dpc: yes regarding dynamic typing and garbage collection. No regarding whitespace.
[06:48:11] <geofft> Guest44: https://github.com/rust-lang/rust/tree/master/src/librustc 
[06:48:13] *** Joins: genbattle (genbattle@moz-ikj3l8.xtra.co.nz)
[06:48:20] <llogiq> Any sufficiently advanced stupidity is indistinguishable from trolling.
[06:48:21] *** Joins: giucam (giucam@moz-u9jnsc.c665.0nib.2060.2001.IP)
[06:48:33] *** Joins: sonder (chatzilla@moz-nt8r49.idi.ntnu.no)
[06:48:37] <dpc> I hate Python with passion. Everything that Python is doing is an abomination. :D
[06:48:48] <raph> dpc: be nice :)
[06:48:51] <geofft> other than "working", I'd hope :) 
[06:48:56] <llogiq> dpc has a right to his personal opinion.
[06:49:17] <llogiq> I quite like python, though I have been bitten by lack of static typing more than once.
[06:49:20] <Guest44> Python is immensely versatile, readable, and maintainable, and that matters.
[06:49:23] <raph> dpc: there's a bunch of py in the rust-lang repo, for doing things like extracting unicode tables
[06:50:00] <dpc> There's a lot of Python everywhere. Just because it's a terrible language, does not mean that smart people can't produce useful stuff with it. :)
[06:50:08] <geofft> Rust is also targeting readability and maintainability 
[06:50:10] <Guest44> Python may not be performing too well (although PyPy is pretty good), but as a language to create working prototypes it's unmatched
[06:50:19] <geofft> whether it works, will take some time to see 
[06:50:31] <dpc> But for me everything about Python is terrible. There seem to be no single thing that is right there. :D
[06:50:33] <geofft> but I think it's impossible to say that it's clearly not going to work. 
[06:50:42] <geofft> dpc: community 
[06:50:43] <Guest44> dpc not even list comprehensions?
[06:50:48] <Guest44> dps not even generators?
[06:50:51] <Guest44> dpc*
[06:50:52] <llogiq> dpc, open a python interpreter and type "import this".
[06:50:54] <geofft> like that is genuinely the one thing Python does massively right. 
[06:51:07] <geofft> want to do a thing? there's a Python library for it. 
[06:51:18] <llogiq> Anyway, we're not here to discuss other languages.
[06:51:20] <Guest44> Python community is so amazing I send chocolate boxes to random people on Freenode/#python (I actually do)
[06:51:21] <geofft> (Perl got really close, and then gave up) 
[06:51:22] <dpc> This "import this" in practice does not work. :D
[06:51:42] *** Quits: fkaa (tundmatu@moz-501od2.business.telia.com) (RecvQ exceeded)
[06:51:54] <Guest44> Python is the language where you code a web service in the morning, then do some machine learning in the evening, and computer vision in the night, and afternoon you code some game scripts
[06:51:58] <Guest44> all using the same language
[06:52:03] *** Joins: fkaa (tundmatu@moz-501od2.business.telia.com)
[06:52:03] <dpc> Every single time I have to use software written in Python I'm being bitten by dependency conflicts and other problems.
[06:52:03] *** Joins: maedhroz (maedhroz@moz-4jk5ho.res.rr.com)
[06:52:14] <Guest44> dpc virtualenv? docker?
[06:52:21] *** nsm is now known as nsm|away
[06:52:28] <llogiq> And now for something completely different: Rust.
[06:52:33] <llogiq> :-)
[06:52:33] <dpc> Well, I'm exagerating... but quite quite often this is happening.
[06:52:52] <geofft> yeah, I'm trying to drive the conversation this way because I think it's important for people interested in a new language that community is as important as it is 
[06:52:52] <Guest44> Anyway, if Rust had significant whitespace instead of curls, that'd be ideal
[06:53:07] <dpc> Yeah, so Python is so terrible at handling version dependencies, that now you need to bundle whole OS image, to make your software work.
[06:53:07] <raph> speaking of trolling, http://www.reddit.com/r/rust/comments/357td7/awesome_rust_a_curated_list_of_awesome_rust_code/cr26y9d
[06:53:27] <Guest44> dpc not really, if your package specifies versions, you shouldn't have problems
[06:53:28] <geofft> (which I think Rust folks recognize, to be fair) 
[06:53:28] <dpc> Whole industry created to overcome Python terribleness.
[06:53:35] <raph> i didn't write my full frustration there, but it's palpable
[06:53:37] <Guest44> dpc think making Cargo.toml with unspecified versions
[06:54:00] <raph> and the reason _why_ i'm frustrated is that the rust/cargo/etc vision comes _really_ close to Just Working
[06:54:15] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[06:54:16] <dpc> Rust has a concept of software interfaces.
[06:54:27] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[06:54:34] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[06:54:38] <raph> ie, without having to figure out why dependencies mismatch, and what magic configuration options you have to provide
[06:54:47] <dpc> In Python everything is basically a "string". And you need to write a unittests for everything just to know if you don't have a typo somewhere...
[06:55:19] *** bentley|away is now known as bentley
[06:55:45] * Guest44 shrugs
[06:55:54] <iamtyler> is there a way to partially consume an iterator in a for loop, break out of the loop, then continue to consume it in a second for loop?
[06:56:00] *** Quits: kushal (kdas@moz-cbaein.202.sitibroadband.in) (Ping timeout: 121 seconds)
[06:56:03] <raph> this is why, btw, python3 has so little adoption
[06:56:05] *** Quits: maedhroz (maedhroz@moz-4jk5ho.res.rr.com) (Ping timeout: 121 seconds)
[06:56:16] <dpc> I can have 100 deamons compiled in C, running in the same OS just fine, but with Python some software wants Python2.3, some Python2.8, other Python3. Each of them wants different versions of some libraries.
[06:56:20] <raph> your chances of things just working are lower than with py2
[06:56:22] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[06:56:41] <Guest44> dpc virtualenvs
[06:56:46] *** Quits: dawehner (quassel@moz-sub.hhs.128.88.IP) (Ping timeout: 121 seconds)
[06:56:58] <raph> i think the criticisms of py are valid, as a model for rust to either emulate or do better
[06:57:13] <dpc> On top of this in the core, it's still plently of C related problems because Python is too slow to handle anything serious, so you end up with C extensions everywhere.
[06:57:19] <raph> of which the meta-dependency on language version is one of teh biggies
[06:57:55] <dpc> Yes. So now I nave 30 virtulenvs, which don't play well with my OS packaging, etc.
[06:58:15] <llogiq> iamtyler: You may want to look at Iterator::take_while
[06:58:23] *** Quits: Dartanjan (Tan@moz-r5oa06.student.uu.se) (Ping timeout: 121 seconds)
[06:58:23] <Guest44> anyway this is offtopic, bashing Python
[06:58:29] <Guest44> but syntax significant whitespace is amazing
[06:58:40] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[06:58:40] *** ChanServ sets mode: +o erickt
[06:58:47] *** Joins: skade (skade@moz-u1j.1t9.225.62.IP)
[06:58:47] <dpc> Significant whitespace is terrible too!
[06:58:47] <Guest44> it's the best invention in programming languages since indexed arrays
[06:58:50] <iamtyler> llogiq: i'll give that a shot. thanks
[06:59:01] <llogiq> You're welcome.
[06:59:08] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[06:59:10] *** Joins: theme (theme@moz-i3mhhb.asianet.co.th)
[06:59:10] <Guest44> dpc only if you're determined to write convulated-looking unmaintainable code
[06:59:26] *** Quits: CustosLimen (CustosLimen@moz-nb664a.mtnbusiness.co.za) (Ping timeout: 121 seconds)
[06:59:27] <Guest44> and then start flame wars of "tabs vs spaces"
[06:59:36] <dpc> Jumping around the code gets so much harder. Changing indendation kills your diffs etc.
[06:59:58] *** Joins: ray1 (ray@moz-5i1.t3f.66.59.IP)
[07:00:05] <Guest44> huh? why would you change indentation unless you've changed the parent scope level?
[07:00:19] <Guest44> and if you did, why wouldn't you shift your indentation in the block even if it's not syntax significant?
[07:00:24] <Guest44> that'd be super unreadable
[07:00:31] <Guest44> exactly my point
[07:00:59] <frankmcsherry> if you are arguing whitespace vs braces, it means your IDE has failed you. that is all.
[07:01:07] <theme> I think I found a compiler bug
[07:01:07] <theme> http://is.gd/XCLWez
[07:01:10] <theme> Not quite sure
[07:01:33] *** Joins: p1start (p1start@moz-nftjhe.org)
[07:01:34] <Guest44> it's not even about IDE, it's about having to read fewer characters
[07:01:44] <Guest44> (and type, too, but one mostly reads code)
[07:01:53] <dpc> OK. My dislike to significant whitespace is more of preference, than real deal. But saying that significant whitespace is any better than eg. {} is exactly the same.
[07:02:06] <frankmcsherry> Guest44: that is exactly what the IDE should be doing for you. 
[07:02:07] <geofft> Guest44: so I write a bunch of Python, and I find the syntax-significant whitespace awesome 
[07:02:12] <theme> Is `where Option<Self>: Sized` supposed to be different to `where Self: Sized`?
[07:02:12] <Guest44> frankmcsherry what, hiding braces?
[07:02:21] <frankmcsherry> Guest44: if that is what you want, yes.
[07:02:33] <geofft> but I also don't think that the braces make the language unreadable (empirically) 
[07:02:34] <Guest44> geofft so do I!
[07:02:38] <llogiq> theme, certainly.
[07:02:43] <dpc> Anyway, I'm glad Rust is exactly opposite of Python. 
[07:02:47] <Guest44> geofft it makes code less legible
[07:02:52] <theme> llogiq, how should they be different?
[07:02:52] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Quit: leaving)
[07:02:54] <geofft> I do think that it's very important that people keep whitespace consistent with braces though! 
[07:02:56] <Guest44> not "unreadable", but more stress on your brain/eyes
[07:03:08] <geofft> Guest44: empirically, I think lots of people seem to be fine with it 
[07:03:08] * theme points to #rust-offtopic for whitespace debates
[07:03:10] <Guest44> geofft exactly, and if you enforce that, then braces become redundant
[07:03:16] <geofft> and it allows doing a bunch of things that are hard to do in other languages 
[07:03:24] <dpc> I only wish convention was to use tabs in Rust, but whatever, I can still use tabs in my own projects just fine. :> 
[07:03:28] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[07:03:46] <llogiq> Guest44, geofft, dpc, please take your discussion to #rust-offtopic.
[07:03:47] <Yurume> anyone with whitespace obsession should use this language http://esolangs.org/wiki/Unispace
[07:03:49] *** Quits: njn (chatzilla@moz-6gdjm4.iinet.net.au) (Quit: ChatZilla 0.9.91.1 [Firefox 40.0a1/20150503160042])
[07:03:57] <Yurume> but anyway, this is becoming increasingly off-topic :)
[07:03:59] <theme> Seriously, this is weird
[07:04:00] <theme> http://is.gd/dSDsq4
[07:04:14] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Quit: Leaving...)
[07:04:16] <dpc> I'm done with Python bashing, sorry. :)
[07:04:32] <dpc> error: the trait `core::marker::Sized` is not implemented for the type `[u8]` [E0277]  I'd like to ask help with this, and I'm back to my Vim.
[07:04:41] <Yurume> theme: did you mean http://is.gd/UJnWcM ?
[07:04:49] <theme> dpc, good old DST :/
[07:04:49] <dpc> I can't have Path struct fields?
[07:04:59] <Yurume> but well, that sounds somewhat weird
[07:05:01] <theme> dpc, http://smallcultfollowing.com/babysteps/blog/2014/01/05/dst-take-5/
[07:05:12] <p1start> dpc: Path is like str
[07:05:20] <p1start> You probably either want PathBuf or &str
[07:05:20] <dpc> "This is an unsized type, meaning that it must always be used with behind a pointer like & or Box."
[07:05:23] <p1start> s/&str/&Path/
[07:05:24] *** Quits: fyolnish (fyolnish@moz-ocvfrf.au-net.ne.jp) (Connection closed)
[07:05:45] <theme> Yurume, I didn't mean that
[07:05:52] <llogiq> theme, why? When you take a Box<Foo>, you give up the information that it may contain a Bar (which is sized).
[07:06:02] <dpc> Aaaaaa... I wish rust docs showed ?Sized in more structurized ways... I tend to read only function/types signatures...
[07:06:12] <geofft> theme: I _think_ that's the "sized self" exception to object safety in e.g. http://huonw.github.io/blog/2015/01/object-safety/ 
[07:06:16] <theme> llogiq, the problem is that `Option<Self>: Sized` and `Self: Sized` are different
[07:06:52] <raph> oh, my repo is all tabs (sublime text tends to default to it)
[07:07:03] <raph> i should probably convert to spaces before publishing it
[07:07:06] <geofft> trait objects cannot demand the Sized bound, because otherwise functions on trait objects can't actually be called 
[07:07:21] <raph> although i tend to dislike whitespace-only commits, they screw up git blame etc
[07:07:21] <geofft> because as long as it's a trait object and not a real object, it's !Sized 
[07:07:39] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[07:07:53] *** Quits: Guest44 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[07:08:18] <geofft> theme: is your question why it compiles with the Option<Self>: Sized bound? 
[07:08:34] <theme> geofft, yes
[07:08:48] <theme> Also, this http://is.gd/1iduER
[07:08:53] <geofft> because the compiler doesn't know that Option<Self> is any different from, like, Box<Self> 
[07:09:00] <theme> O_o
[07:09:07] <theme> geofft, the compiler *does* know
[07:09:13] <theme> see my last edit
[07:10:15] *** Quits: Guest (textual@moz-rtn.fg7.77.192.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:10:26] <theme> This is getting weirder
[07:10:39] *** Quits: ucarion (ulyssecario@moz-t95pfr.c3v0.fbki.f140.2607.IP) (Quit: WeeChat 1.0.1)
[07:10:53] <geofft> which, foo::<Foo>()? 
[07:10:53] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:10:57] <theme> geofft, yes
[07:12:04] <geofft> ... oh, I see, you've demonstrated that I must be wrong in that claim because it compiles if you change the bound to Box instead of Option. :) 
[07:12:08] <theme> http://is.gd/ikiZo0
[07:12:18] <theme> geofft, hey! you said that before me!
[07:12:30] *** Joins: Guest (textual@moz-rtn.fg7.77.192.IP)
[07:12:35] *** Quits: Guest (textual@moz-rtn.fg7.77.192.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:12:57] *** Joins: kushal (kdas@moz-cbaein.202.sitibroadband.in)
[07:13:12] <geofft> I could believe this is an insufficient inference thing? 
[07:13:33] <geofft> 'cause like, it's not like it should be accepting your original code, right? 
[07:13:49] <theme> geofft, I don't know
[07:13:51] <geofft> (since your Option<Self>: Sized constraint would imply Self: Sized, would imply not usable as a trait object) 
[07:14:03] <theme> but it is not supposed to accept *this combination* of codes
[07:14:29] <geofft> I don't think I've seen it accept something it shouldn't, just give the wrong error. 
[07:14:38] *** Joins: areski (areski@moz-adq529.user.ono.com)
[07:14:39] *** Quits: Outlander (Mr@moz-tiv139.internode.on.net) (Ping timeout: 121 seconds)
[07:15:07] *** Quits: kushal (kdas@moz-cbaein.202.sitibroadband.in) (Quit: Leaving)
[07:15:17] *** Joins: kushal (kdas@moz-cbaein.202.sitibroadband.in)
[07:16:04] *** Joins: gmk (Mibbit@moz-sr4ot6.HINET-IP.hinet.net)
[07:16:29] <gmk> how can I make this code to work for now. (it seems it was working before) http://is.gd/SdeDWO
[07:16:45] *** Quits: kgrandon (Adium@moz-ksv4i3.hjek.d045.0009.2601.IP) (Quit: Leaving.)
[07:16:55] *** Joins: ebel (rory@moz-l1ldq7.hsi4.kabel-badenwuerttemberg.de)
[07:17:13] <Dabo> gmk, Change deriving to derive, and Encodable/Decodable to RustcEncodable to RustcDecodable
[07:17:22] *** bentley is now known as bentley|away
[07:17:34] <gmk> Dabo, Thanks, let me try it.
[07:17:39] *** Joins: slashus2 (slashus2___@moz-dj7anc.res.rr.com)
[07:17:52] <Dabo> er, you'll also need to depend on rustc_serialize crate that replaced the in-tree seralize
[07:17:54] <Dabo> serialize*
[07:18:26] <theme> geofft, why do you think the trait Foo in my code is object-safe?
[07:18:34] <Dabo> and the other thing is that int was renamed to isize - though you probably want to use i32 or i64 instead to specify it
[07:18:41] <theme> http://is.gd/ziHCbJ
[07:19:18] *** Quits: frankmcsherry (frankmcsher@moz-fnrnnp.dyn.telefonica.de) (Connection closed)
[07:19:39] *** Joins: frankmcsherry (frankmcsher@moz-fnrnnp.dyn.telefonica.de)
[07:19:56] *** Quits: frankmcsherry (frankmcsher@moz-fnrnnp.dyn.telefonica.de) (Connection closed)
[07:20:56] *** Quits: nonsensickle_ (nonsensickl@moz-4v0.gkd.16.182.IP) (Quit: Leaving)
[07:21:16] *** Joins: kerrick (kerrick@moz-fub7j7.hfc.comcastbusiness.net)
[07:21:23] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[07:22:44] *** Joins: Nextra (Nextra@moz-9ert3d.osnanet.de)
[07:25:21] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[07:25:39] <p1start> theme: Box<T> is supposed to be Sized even if T isn’t
[07:25:48] <theme> p1start, yes
[07:26:01] <theme> p1start, geofft, filed a bug report https://github.com/rust-lang/rust/issues/25204
[07:26:10] <p1start> So I don’t see what the problem with box_sized::<Foo>() is
[07:26:21] <p1start> The Option<Self> thing is pretty bad though
[07:26:21] <theme> wait... whoops
[07:26:38] *** Joins: derek_c (derek@moz-3cq.oet.84.128.IP)
[07:26:57] <geofft> yeah, I buy the argument that rustc ought to have all the info needed to do inference on the Option<Self>: Sized thing 
[07:27:17] <theme> updated the code and issue
[07:27:19] <geofft> (and reading huon's post,, it seems like the way that it goes about inference, it doesn't look at that info) 
[07:27:22] <theme> http://is.gd/z6oq3G
[07:27:38] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[07:27:42] <geofft> but I think that this isn't a correctness bug -- if you try to make use of it, you'll get a (different, less useful) error 
[07:27:49] *** chmanchester is now known as chmanchester|afk
[07:29:49] *** Quits: renderful (renderful@moz-atg40s.co.comcast.net) (Connection closed)
[07:29:51] <p1start> geofft: I think it is a correctness bug
[07:30:16] <p1start> Trait objects should *always* automatically implement their trait unless it is not object safe, in which case they should not be creatable
[07:30:35] *** Joins: errordeveloper (ilya@moz-4uj.bgu.199.90.IP)
[07:30:56] <geofft> I mean "correctness" in the sense of, there's no program we've seen that compiles when it shouldn't (or doesn't compile when it should), right? 
[07:31:02] <dpc> 404: http://doc.rust-lang.org/getopts/fn.getopts.html
[07:31:08] <gmk> I tried with official example of rustc-serialize, it seems compile failed. (http://is.gd/P29N3W)
[07:31:26] <p1start> geofft: You shouldn’t be able to create a Foo trait object, but you can
[07:31:40] <p1start> So there are cases that compile when they shouldn’t
[07:31:59] <geofft> oh hm, I guess. you can't actually use that trait object for anything, though? 
[07:32:36] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[07:32:37] <theme> p1start, geofft, I found something weirder
[07:32:38] <Dabo> gmk, changing the first line to `extern crate rustc_serialize;` should work if you depend on it via cargo
[07:32:39] <theme> http://is.gd/akBmMH
[07:32:49] <p1start> geofft: You can sort of do things with it
[07:32:51] <Dabo> besides the first line, it should work
[07:32:57] *** Quits: Shackra (Jorge@moz-7bh.ng6.177.186.IP) (Ping timeout: 121 seconds)
[07:33:00] <iamtyler> llogiq: regarding take_while, i don't believe that will work for me because it moves the iterator into the TakeWhile adapter so the original iterator won't be usable anymore
[07:33:02] <theme> Now *that* looks like a bug
[07:33:03] <p1start> But nothing really useful
[07:33:08] *** Joins: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca)
[07:33:12] <dpc> Was getopts removed from Rust?
[07:33:55] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[07:34:15] <raph> dpc: pretty sure it's moved to crates.io
[07:34:19] <Murarth> dpc: It's there, but it's not meant for public use. The one you should use now is getopts in crates.io.
[07:34:27] <p1start> theme: That looks unrelated, but still looks like a bug
[07:34:39] *** Quits: eric_lagergren (barsonme@moz-lr1hrn.wa.comcast.net) (Ping timeout: 121 seconds)
[07:35:17] *** Joins: nedp (nedp@moz-vg6vvt.bigpond.net.au)
[07:35:27] *** Quits: thiblahute (tsaunier@moz-68f5rr.rev.sfr.net) (Connection closed)
[07:35:30] <theme> p1start, geofft, updated the issue
[07:35:31] <theme> https://github.com/rust-lang/rust/issues/25204#issuecomment-100133451
[07:35:33] <theme> gotta go
[07:35:36] <theme> bye
[07:35:38] *** Quits: theme (theme@moz-i3mhhb.asianet.co.th) (Quit: Leaving)
[07:36:03] *** Quits: dstrbad (dstrbad@moz-v485c3.cable.xnet.hr) (A TLS packet with unexpected length was received.)
[07:36:42] <gmk> Dabo, Great, it works.
[07:37:14] *** Quits: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca) (Ping timeout: 121 seconds)
[07:37:39] *** Joins: thiblahute (tsaunier@moz-68f5rr.rev.sfr.net)
[07:37:42] <dpc> raph, Murarth: Thanks.
[07:39:00] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[07:39:31] *** Quits: sin8h (Adium@moz-4gl.cvv.51.106.IP) (Quit: Leaving.)
[07:41:03] *** Joins: vks (quassel@moz-b54qc9.fias.uni-frankfurt.de)
[07:42:23] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[07:44:09] <dpc> cb: Fn(&Path)
[07:44:20] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[07:44:35] <dpc> My function is taking clousure argument and it fails as the closure argument is unsized. What can I do about it?
[07:46:05] <ChrisMorgan> dpc: you can use either a generic type parameter or a trait object.
[07:46:37] <ChrisMorgan> dpc: e.g. `fn foo<F: Fn(&Path)>(cb: F)` and `fn foo(cb: &Fn(&Path))`
[07:46:55] <ChrisMorgan> Prefer the former form where it is possible.
[07:47:38] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[07:48:15] <dpc> ChrisMorgan, Thank you.
[07:48:45] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[07:49:33] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[07:50:54] *** Joins: slomo (slomo@moz-p8m0g2.net)
[07:51:52] *** Quits: forgottenone (forgottenon@moz-j3l.lq5.40.176.IP) (Quit: Konversation terminated!)
[07:51:54] *** Joins: jviereck (Adium@moz-28htm3.ethz.ch)
[07:52:04] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[07:52:58] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[07:53:18] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[07:55:03] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[07:55:30] <iamtyler> ChrisMorgan: i read your blog post introducing teepee tonight. i'm really excited to try it out someday.
[07:55:57] *** Quits: jviereck (Adium@moz-28htm3.ethz.ch) (Ping timeout: 121 seconds)
[07:56:05] *** Joins: fabiand (fabiand@moz-oabqel.dip0.t-ipconnect.de)
[07:56:20] <ChrisMorgan> iamtyler: through various twists and turns, Teepee hasn’t become a production product; most of the stuff that I have developed for it has wound up in the Hyper project, however. Teepee is being used for various experiments still.
[07:56:34] <dpc> It seems I've found a way to hang the compiler...
[07:58:01] <iamtyler> ChrisMorgan: it's good that something has come of your work. hopefully hyper can meet the needs you set out to fill with teepee
[07:58:21] *** Joins: jviereck (Adium@moz-28htm3.ethz.ch)
[07:58:55] *** Quits: slashus2 (slashus2___@moz-dj7anc.res.rr.com) (Quit: Leaving)
[08:01:03] *** Joins: mrmonday (mrmonday@moz-20udp8.lin.openzula.org)
[08:01:07] *** Joins: dmac (dmac@moz-44n.m62.181.69.IP)
[08:01:30] *** Joins: munksgaard (munksgaard@moz-33d.hq0.225.130.IP)
[08:02:00] *** Joins: giucam_ (giucam@moz-72p.2a8.194.192.IP)
[08:02:04] *** Quits: giucam (giucam@moz-u9jnsc.c665.0nib.2060.2001.IP) (Quit: Konversation terminated!)
[08:03:10] *** Joins: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se)
[08:05:14] *** Quits: dmac (dmac@moz-44n.m62.181.69.IP) (Ping timeout: 121 seconds)
[08:05:16] *** Quits: kushal (kdas@moz-cbaein.202.sitibroadband.in) (Ping timeout: 121 seconds)
[08:06:39] <darkfox> Traits can define types; but can they define variables? ex. trait X must have methods F, G and H, and must have a paramter named Y.
[08:06:42] <darkfox> y *
[08:07:46] <kagami> tfw rust program compiled with --release is like tens times faster. I'd had spent about ten minutes trying to understand why is it so slow until I just recompiled with --release and everything is blasing fast now.
[08:08:18] *** Joins: Altazimuth (Altazimuth@moz-rb7u6p.skybroadband.com)
[08:09:02] *** jandem-away is now known as jandem
[08:09:10] <darkfox> kagami: Speaking of --release; I can't run that on gentoo :/
[08:09:22] *** Quits: kerrick (kerrick@moz-fub7j7.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[08:09:32] <darkfox> everything works until it tries to link it...
[08:09:48] *** Joins: laparca (laparca@moz-rgcs06.mgob.kh00.0488.2a01.IP)
[08:10:28] *** Quits: nham (nham@moz-755.bu3.214.98.IP) (Quit: leaving)
[08:10:56] <darkfox> error: missing compressed bytecode in /usr/lib64/rust-1.0.0_beta2/rustlib/x86_64-unknown-linux-gnu/lib/libstd-gentoo-1.0.rlib
[08:11:23] <Kingsquee> http://rustbyexample.com/attribute.html
[08:11:26] <Kingsquee> [This metadata can be used to/for: set crate name, version and type (binary or library)]
[08:11:28] <Kingsquee> >version
[08:11:34] <Kingsquee> http://doc.rust-lang.org/nightly/reference.html#crate-only-attributes
[08:11:37] <Kingsquee> really now
[08:11:39] *** Joins: djcb (user@moz-nqdj21.elisa-laajakaista.fi)
[08:11:51] *** Joins: tigrou3tac (fabien@moz-gdonfo.fbx.proxad.net)
[08:12:57] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[08:13:11] <darkfox> Kingsquee: You looking for a way to set the crate's version?
[08:13:25] <darkfox> Any particular reason to using these crate attributes instead of Cargo.toml ?
[08:13:54] <Kingsquee> darkfox: yeah, because I'm considering parsing the source code for dependency info rather than a toml
[08:14:11] <darkfox> toml probably easier...
[08:14:24] <darkfox> Like - no doubt easier
[08:14:33] <Kingsquee> easier isn't something I'm concerned about
[08:14:38] <Kingsquee> :>
[08:14:51] <Kingsquee> was considering adding the attribute, but rustbyexample implies it already exists
[08:14:57] <Kingsquee> while the reference implies it doesn't
[08:15:00] <Kingsquee> so I'm confused
[08:15:33] *** Joins: sin8h (Adium@moz-4gl.cvv.51.106.IP)
[08:15:37] <darkfox> The rustbyexample does mention version; but not even if you follow its link is version mentioned anywhere else... Possible mistake
[08:16:20] <arjun_> Hi, how can I print type of a variable?
[08:16:57] <bluss> arjun_: You can't really do that in Rust code itself
[08:17:00] <darkfox> One possible intepretation for version would not be the number, but the capabilities compiled into the binary/library, namely... See Cargo's [feature] section. #[cfg(feature = "something")]
[08:17:21] <Kingsquee> darkfox: probably, sadly
[08:17:21] <bluss> arjun_: but the compiler can tell you what it knows about the type of something -- in some error messages(!)
[08:17:25] <ChrisMorgan> arjun_: http://stackoverflow.com/a/21747400/497043
[08:17:48] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[08:17:51] <darkfox> Kingsquee: I also don't see any reason to why a crate_version attribute doesn't exist; maybe worth requesting on the github/issues.
[08:18:03] <bluss> rusti / the rust REPL can tell types though. It's not very mature
[08:18:50] *** Quits: jml (jml@moz-mqpurn.178.in-addr.arpa) (Quit: ZNC - http://znc.in)
[08:20:08] <arjun_> I just wanted to know the type of some variables. Thanks bluss and ChrisMorgan.
[08:21:09] <bluss> arjun_: the type_name intrinsic basically makes what I said wrong.. you can tell the type
[08:21:38] *** Joins: kushal (kdas@moz-cbaein.202.sitibroadband.in)
[08:23:06] <arjun_> bluss, is it this https://doc.rust-lang.org/std/intrinsics/fn.type_name.html ?
[08:23:17] <Kingsquee> darkfox: Is version info actually compiled into rust binaries though
[08:23:22] <Kingsquee> I think it's only defined at the cargo level
[08:23:33] <Kingsquee> which would explain the lack of such an attribute
[08:23:42] *** Joins: aravindavk (aravinda@moz-1s8.d0e.200.117.IP)
[08:24:46] *** Quits: evilman_work (evilman@moz-bmo.108.244.87.IP) (Connection closed)
[08:24:54] *** Joins: Lilly (Lillypad@moz-par17p.cust.telenor.se)
[08:26:01] *** Joins: evilman_work (evilman@moz-bmo.108.244.87.IP)
[08:26:08] *** Joins: jml (jml@moz-mqpurn.178.in-addr.arpa)
[08:28:09] *** Quits: evilman_work (evilman@moz-bmo.108.244.87.IP) (Connection closed)
[08:28:34] <Lilly> I was thinking about something
[08:28:48] <Lilly> Would it be possible to compile rustc for android? 
[08:29:02] <Lilly> Just for fun
[08:29:13] *** Joins: evilman_work (evilman@moz-bmo.108.244.87.IP)
[08:31:07] <llogiq> It *should* be possible, as a terminal program. However, you'd need to build to your target platform  android systems are surprisingly diverse, with multiple CPUs, etc.
[08:31:23] <Dabo> Lilly, it probably would be if you could also get libraries rustc depends on on android as well
[08:31:33] <bluss> arjun_: yes. http://is.gd/a853od
[08:31:46] *** Quits: errordeveloper (ilya@moz-4uj.bgu.199.90.IP) (Ping timeout: 121 seconds)
[08:31:52] <Dabo> I think you would need llvm as well at least
[08:32:10] <Lilly> Dabo, llogiq cool! 
[08:32:12] <bluss> arjun_: note that closures have anonymous types that can't be written out
[08:33:05] *** Joins: ehiggs (ehiggs@moz-pob5cp.ugent.be)
[08:33:20] *** Joins: ajtulloc_ (ajtulloch@moz-mj4.ktt.28.204.IP)
[08:33:34] *** Joins: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca)
[08:33:50] *** Joins: CustosLimen (CustosLimen@moz-43o.etd.160.41.IP)
[08:33:57] *** Joins: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP)
[08:34:11] *** Quits: ajtulloc_ (ajtulloch@moz-mj4.ktt.28.204.IP) (Quit: Leaving...)
[08:34:33] *** Quits: mindtree (Mitch@moz-0i72ki.iprimus.net.au) (Ping timeout: 121 seconds)
[08:34:34] <Lilly> How does compiling for android evwn work? Do you compile to java bytecode or something? 
[08:34:55] <Diggsey> android can run native code just fine
[08:34:56] *** Joins: mindtree (Mitch@moz-qbevee.iprimus.net.au)
[08:35:04] <Lilly> Ah
[08:35:08] <llogiq> Not for a terminal application. You only need Java if you want to interface with the launcher.
[08:35:10] <Diggsey> you just compile for the ARM architecture
[08:35:16] <Lilly> I see
[08:35:35] <Lilly> But then you wouldn't be able to make an app in pure rust? 
[08:35:41] *** Joins: errordeveloper (ilya@moz-4uj.bgu.199.90.IP)
[08:35:43] <Lilly> You'd need a wrapper in java? 
[08:35:58] <Diggsey> You can call java methods using JNI
[08:36:05] <Diggsey> without needing to use java
[08:36:08] <llogiq> Lilly, as I said, if you want to start it from the launcher, you'd need a shim.
[08:36:10] <Lilly> Neat
[08:36:13] <arjun_> bluss, ok.
[08:36:22] *** Quits: ajtulloch (ajtulloch@moz-5389o1.kvuk.09sg.010d.2620.IP) (Ping timeout: 121 seconds)
[08:36:25] <darkfox> Kingsquee: Maybe so; which does sound fair - however, there is still no reason to compile in the name without the version...
[08:36:50] <Kingsquee> a good point
[08:37:00] <Lilly> Idk, still seems like a hassle to run stuff natively on Android 
[08:37:08] <Lilly> Which is a shame! 
[08:37:26] <darkfox> Questionable to even include the name for that matter - maybe suitable for dynlib?
[08:37:35] <Diggsey> it's not too hard if (as llogiq said) you make a java wrapper - you can still implement most of your app in rust
[08:37:38] <Lilly> But still, it's really cool that it's still possible! 
[08:37:59] *** Quits: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca) (Ping timeout: 121 seconds)
[08:37:59] <Diggsey> the android framework has examples of using C to write apps
[08:38:07] *** Quits: KLP (KLP@moz-qdcjho.res.rr.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[08:38:11] <Diggsey> it should be fairly straitforward to convert those to Rust
[08:38:18] <Lilly> Is it llvm that does the android magic? 
[08:38:29] <Lilly> I barely know what llvm ks
[08:38:33] <Lilly> Is*
[08:38:44] <darkfox> Lilly: You might want to take a look at Mozilla's project 'Servo' - this definatly has rust running on android.
[08:38:54] <darkfox> With very minimal java.
[08:38:58] <Diggsey> there's not really any magic involved, LLVM handles most of the ARM specific stuff
[08:39:07] <darkfox> Diggsey: Indeed
[08:39:08] <Lilly> I should probably take this to #rust-offtopic :) 
[08:39:24] <darkfox> Lilly: It is very on topic; but... #servo :P
[08:40:09] <Lilly> darkfox: was referring to llvm! 
[08:40:41] <darkfox> Oh; well; it is still on topic as rust uses llvm for it's compiling
[08:40:54] <Diggsey> in any event, nobody really minds when
[08:40:58] <Diggsey> rust isn't that busy
[08:41:14] <darkfox> +1
[08:41:27] <Lilly> Gtg now
[08:41:31] <Diggsey> cya
[08:41:55] <darkfox> o/
[08:42:55] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[08:43:17] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[08:43:31] *** Joins: mib_0egjzy (Mibbit@moz-5m3.18r.18.37.IP)
[08:43:38] *** Joins: twipeD (wipeD@moz-a62.e4h.225.79.IP)
[08:43:51] *** Joins: icelesstea (berry@moz-mg6l13.lahem.in)
[08:44:09] *** Quits: Jesse (jruderman@moz-pqc1f5.ca.comcast.net) (Client exited)
[08:44:12] *** Joins: squiddy (squiddy@moz-k0pj6r.dyn.telefonica.de)
[08:45:44] *** Joins: FrozenCow (FrozenCow@moz-i2tvv4.chello.nl)
[08:45:44] <darkfox> When does the rust compiler decide to auto inline functions? "based on internal heuristics" -> As defined where?
[08:45:53] <darkfox> http://doc.rust-lang.org/reference.html#inline-attributes
[08:46:06] *** Joins: futile (felix@moz-cmcd12.unity-media.net)
[08:47:26] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[08:47:45] <klutzy> darkfox: llvm decides
[08:48:34] <Diggsey> it's basically a space/time tradeoff, so you can use some intuition
[08:48:52] <Diggsey> larger methods used from lots of places are less likely to get inlined
[08:49:15] <Diggsey> unless llvm thinks that they're a particular performance bottleneck
[08:50:01] *** Quits: gmk (Mibbit@moz-sr4ot6.HINET-IP.hinet.net) (Quit: http://www.mibbit.com ajax IRC Client)
[08:50:10] <Diggsey> I'm sure it's much more complicated internally, but that's the broad idea
[08:51:10] *** Joins: damian0 (damian0@moz-34a6qv.retail.telecomitalia.it)
[08:51:21] *** Joins: jaster (jaster@moz-trk099.u42v.sj0n.5300.2607.IP)
[08:52:55] *** Joins: maedhroz (maedhroz@moz-4jk5ho.res.rr.com)
[08:53:50] <_td> Trying to impl a trait for all tuples using a macro; how can i do something like "self.$n" on the tuple?
[08:54:54] <bluss> _td: there's a workaround for that actually
[08:55:03] <_td> what is it?
[08:55:12] *** Joins: Outlander (Mr@moz-23mcoh.iinet.net.au)
[08:55:44] *** Joins: zxq9 (ceverett@moz-qsm369.mesh.ad.jp)
[08:56:02] <bluss> _td: it looks like this. https://github.com/rust-lang/rust/blob/master/src/libcore/tuple.rs#L56 
[08:56:11] <bluss> look at the e macro just some lines above
[08:56:38] <bluss> $idx is your $n
[08:56:47] <_td> right
[08:56:56] <_td> haha, okay
[08:56:57] *** Quits: maedhroz (maedhroz@moz-4jk5ho.res.rr.com) (Ping timeout: 121 seconds)
[08:57:07] *** Quits: danv (danv@moz-0js00c.iinet.net.au) (Quit: Linkinus - http://linkinus.com)
[08:57:11] *** Joins: panicbit (panicbit@moz-kqu.rvb.226.79.IP)
[08:57:20] *** Quits: genbattle (genbattle@moz-ikj3l8.xtra.co.nz) (Ping timeout: 121 seconds)
[08:57:20] <_td> and $idx/$n should be a tt it looks like?
[08:57:24] <darkfox> klutzy: Yes; but where is that defined?
[08:57:39] <bluss> _td: That's probably the only thing that works
[08:57:48] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[08:57:53] <bluss> _td: $tt can be used to forward to another macro
[08:58:02] *** AutomatedTester|AFK is now known as AutomatedTester
[08:58:15] *** Joins: kngl (Adium@moz-m3a3bq.ipv4.evonet.be)
[08:58:55] *** Quits: {AS} (uid45026@moz-srvrrh.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[08:59:11] *** Joins: Hail_Spacecake (quesa@moz-djc.ktt.28.204.IP)
[08:59:34] <Hail_Spacecake> what's the best way to build a &str from a String and a string literal?
[09:00:03] <Hail_Spacecake> like, I have some user-provided substr: String, and I want to concat a consant string to it and pass that to something that expects a &str
[09:00:19] *** Joins: renderful (renderful@moz-atg40s.co.comcast.net)
[09:00:25] <bluss> Hail_Spacecake: well concatenating the two should be easy, just .push_str on the String
[09:00:37] <bluss> then you can borrow the String by just putting & in front
[09:00:43] <bluss> &String will coerce to &str
[09:01:47] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[09:02:59] <darkfox> playbot: ..::Iter<u8>
[09:02:59] -playbot- <anon>:9:17: 9:21 error: chained comparison operators require parentheses
[09:03:00] -playbot- <anon>:9         ..::Iter<u8>
[09:03:00] -playbot- output truncated; full output at: http://bit.ly/1KpeAGx
[09:03:56] *** Joins: mikedanese (sid65740@moz-bvpbqt.brockwell.irccloud.com)
[09:04:21] *** Quits: renderful (renderful@moz-atg40s.co.comcast.net) (Ping timeout: 121 seconds)
[09:04:27] *** Quits: wldcordeiro (wldcordeiro@moz-pvsror.ut.comcast.net) (Ping timeout: 121 seconds)
[09:05:21] *** Joins: dstrbad (dstrbad@moz-goq19k.srce.hr)
[09:05:49] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[09:05:54] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[09:06:10] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[09:06:40] <darkfox> playbot: 0u8..-1
[09:06:41] -playbot- 0..255
[09:07:10] *** Joins: arBmind (Andreas@moz-1kns89.adsl.alicedsl.de)
[09:07:38] <mikedanese> anyone know of a binary distribution of rustc for linux-unknown-arm?
[09:07:40] * darkfox wonders why this when iterated over loops for 255 times of 0-255... as if it were for i in u8.. { for j in u8.. { ... } }
[09:07:59] <mikedanese> preferably version 1.0 beta (unofficial is fine)
[09:08:35] <darkfox> http://is.gd/scailM
[09:09:24] <bluss> darkfox: that neither warns nor trips the overflow checking in debug builds, that's disappointing
[09:09:45] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[09:09:49] <bluss> playbot: 0..-1u8
[09:09:50] -playbot- <anon>:9:12: 9:16 error: unary negation of unsigned integers may be removed in the future
[09:09:51] -playbot- <anon>:9         0..-1u8
[09:09:51] -playbot- output truncated; full output at: http://bit.ly/1KpghE3
[09:09:55] <bluss> it should do this ^
[09:10:03] *** Joins: mkpankov (user@moz-nleeis.partnertech.ru)
[09:10:12] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[09:11:17] <darkfox> bluss: Shouldn't 0u8.. be equal to 0u8..-1 ?
[09:11:27] <darkfox> or 0u8..255
[09:12:10] *** Joins: eerie (eerie@moz-rll6i6.red.bezeqint.net)
[09:12:42] <bluss> darkfox: not sure. I agree with you, but I'm not sure what the discussions concluded
[09:13:39] <bluss> darkfox: you should try 0u8.. in a debug build (you will see it trips debug assertion after 254
[09:14:38] <darkfox> bluss: I did that in play.rust-lang.org; it just gives me as many iterations over 0-255, 0-255, 0-255 as it can (without counting, my guess is that it does this for `usize / 256`
[09:14:46] <darkfox> )
[09:15:16] <bluss> darkfox: use -O0 to get debug assertions
[09:16:25] <darkfox> let mut x = Vec::new(); for n in 0u8..-1 { x.push(n) }; x.len()
[09:16:30] <darkfox> let mut x = Vec::new(); for n in 0u8.. { x.push(n) }; x.len()
[09:16:55] <darkfox> The second on play.rust-lang.org returns but with many extras...
[09:17:07] <darkfox> playbot: let mut x = Vec::new(); for n in 0u8..-1 { x.push(n) }; x.len() // this is what is expected
[09:17:08] -playbot- 255
[09:17:35] <bluss> darkfox: When I tried with -O0 it panicked
[09:17:44] <darkfox> Hmm
[09:18:09] <bluss> pick -O0 http://is.gd/iz6f7l
[09:18:13] <klutzy> darkfox: do you mean llvm's inlining mechanism?
[09:18:47] <darkfox> klutzy: Yes *For eariler...*
[09:19:51] *** Joins: QuadTan (Tan@moz-r5oa06.student.uu.se)
[09:20:19] *** Joins: eibwen (eibwen@moz-4ii.o4b.231.217.IP)
[09:20:21] *** Quits: ray1 (ray@moz-5i1.t3f.66.59.IP) (Ping timeout: 121 seconds)
[09:20:58] *** Joins: dawehner (quassel@moz-dkp.hhs.128.88.IP)
[09:21:45] *** Quits: Outlander (Mr@moz-23mcoh.iinet.net.au) (Ping timeout: 121 seconds)
[09:22:10] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[09:22:21] *** Joins: og_wolf (og_wolf@moz-qj2v4d.static.chello.pl)
[09:22:35] *** Quits: og_wolf (og_wolf@moz-qj2v4d.static.chello.pl) (Quit: )
[09:23:04] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[09:23:10] *** Quits: areski (areski@moz-adq529.user.ono.com) (Ping timeout: 121 seconds)
[09:23:31] <klutzy> well, inlining is just a llvm optimization pass - based on inlining hints provided by rustc
[09:24:35] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[09:25:58] <klutzy> you could see llvm passes via `rustc -Z print-llvm-passes`: when optimization is on, `-inline` is enabled
[09:26:13] *** Quits: Johannes (Johannes@moz-4et8d7.ocn.ne.jp) (Connection closed)
[09:26:30] <klutzy> and there's `-always-inline` pass for always-inline attribute (which is from #[inline(always)])
[09:26:45] *** Quits: kngl (Adium@moz-m3a3bq.ipv4.evonet.be) (Quit: Leaving.)
[09:27:22] <klutzy> llvm computes inlining costs that I don't know well :p then decides what to inline
[09:28:21] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[09:28:43] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[09:28:52] *** Joins: jophish (jophish@moz-epocft.broadband.tesco.net)
[09:28:57] *** Joins: kngl (Adium@moz-m3a3bq.ipv4.evonet.be)
[09:31:49] *** Joins: apes (apes@moz-5hmc7u.com)
[09:32:45] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[09:32:47] *** Quits: apes (apes@moz-5hmc7u.com) (Quit: leaving)
[09:32:48] *** Quits: futile (felix@moz-cmcd12.unity-media.net) (Quit: WeeChat 1.2-rc1)
[09:33:16] *** Quits: damian0 (damian0@moz-34a6qv.retail.telecomitalia.it) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[09:33:58] *** Quits: dawehner (quassel@moz-dkp.hhs.128.88.IP) (Ping timeout: 121 seconds)
[09:34:38] *** Joins: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca)
[09:35:19] *** Joins: damian0 (damian0@moz-34a6qv.retail.telecomitalia.it)
[09:35:28] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[09:36:38] *** Quits: popow (Thunderbird@moz-03f.kd0.252.223.IP) (Ping timeout: 121 seconds)
[09:36:40] <darkfox> klutzy: Thanks for the rustc -Z print-llvm-passes; knew the rest already. And that computation to decide if a function should be inlined is what I'm curious about :P
[09:36:46] *** Joins: popow (Thunderbird@moz-03f.kd0.252.223.IP)
[09:37:02] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[09:37:16] <mkpankov> I have a strange question
[09:37:17] *** Joins: erz (erz@moz-n26c5c.broadband.corbina.ru)
[09:37:22] *** Joins: yati (yati@moz-phu.79g.169.122.IP)
[09:37:59] *** kimundi is now known as zz_kimundi
[09:38:00] <klutzy> darkfox: you should read llvm/src/lib/Transforms/IPO/Inliner.cpp and teach it to me! :p I'm also curious
[09:38:19] <mkpankov> how come thread is a "library", but when for example I use thread::spawn with stack variables, compiler tells me "thread can outlive the variable". so it appears it knows of "threads". so it's built-in somehow?..
[09:38:40] *** Quits: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca) (Ping timeout: 121 seconds)
[09:39:01] <darkfox> klutzy: You found the file already - maybe you should read it then tell create an article/blog entry about it ;)
[09:39:06] <mkpankov> or is that just "a custom error message"?
[09:39:11] <yati> mkpankov, I think there are many such things, like the for...in integration with std::iter::IntoIterator
[09:39:24] <yati> sorry, just Iterator
[09:39:27] <darkfox> tell / create *
[09:39:28] *** Joins: apes (apes@moz-5hmc7u.com)
[09:39:34] <mkpankov> yati: do you know how it works? :)
[09:39:40] <klutzy> hehe
[09:40:10] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[09:40:49] <yati> mkpankov, haha no :) Am pretty new to the lang and trying to wrap my head around IntoIterator now
[09:41:05] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[09:41:07] <mkpankov> eh :(
[09:41:08] *** Quits: dstrbad (dstrbad@moz-goq19k.srce.hr) (A TLS packet with unexpected length was received.)
[09:41:17] <darkfox> klutzy: I'm personally curious as to how to convince the compiler to for the better to inline functions for performance without telling it to - ex. simple design decisions to prefer method A or method B. My main guess is for how many arguments/variables are required and how cleanly that can interface with the current positioning without moving all registers away for context switching into functions.
[09:41:38] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[09:41:42] <bluss> mkpankov: thread::spawn uses the regular borrow checker
[09:41:48] <mkpankov> how is that steveklabnik or bluss are not around?
[09:41:49] <mkpankov> oh
[09:41:53] <mkpankov> here you are ^^
[09:41:53] <bluss> LOL
[09:42:02] <darkfox> XD
[09:42:24] <mkpankov> bluss: borrow checker knows of threads?
[09:42:51] *** Quits: Lilly (Lillypad@moz-par17p.cust.telenor.se) (Quit: Bye)
[09:42:56] <darkfox> mkpankov: With reference counters?
[09:42:59] *** Joins: larhat1 (Adium@moz-egv.ld6.128.213.IP)
[09:42:59] <huon> mkpankov: the threads use type system features to ensure safety
[09:43:10] <huon> mkpankov: e.g. std::thread::spawn requires that any data is 'static
[09:43:12] <aatch> The borrow checker does not know about threads. No part of the compiler does.
[09:43:24] *** Joins: amir_ (amir@moz-jnohkj.3bcq.01f6.0168.2a02.IP)
[09:43:29] <darkfox> aatch: Luckly ;)
[09:43:30] <bluss> mkpankov: two important parts are Send / Sync halfway builtin traits and the borrow checker
[09:43:46] <bluss> mkpankov: thread::spawn uses a closure and it put bounds on that closure
[09:44:02] *** Joins: laumann (thomas@moz-1f0.hq0.225.130.IP)
[09:44:18] <bluss> mkpankov: and the closure's bounds are those of the bag of captures basically
[09:44:21] <mkpankov> huon: ah, I see
[09:44:57] <mkpankov> bluss: hm, halfway builtin? :)
[09:45:39] *** Quits: iamtyler (Adium@moz-1dtmni.wa.comcast.net) (Quit: Leaving.)
[09:45:45] <aatch> bluss, no. Not even "halfway builtin". We just have tools to make working with threads safer.
[09:45:54] <aatch> mkpankov, ^^ (sorry bluss)
[09:46:02] *** Joins: forgottenone (forgottenon@moz-j3l.lq5.40.176.IP)
[09:46:21] <mkpankov> aatch: by tools you mean compiler support?
[09:46:29] <aatch> mkpankov, I mean language features
[09:46:52] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[09:46:56] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[09:47:13] <aatch> mkpankov, Send and Sync and 'static are no more tools for thread safety than the borrow checker is a tool for preventing iterator invalidation.
[09:47:18] *** Quits: amir (amir@moz-hvgilg.dclient.hispeed.ch) (Ping timeout: 121 seconds)
[09:47:26] *** Quits: eerie (eerie@moz-rll6i6.red.bezeqint.net) (Connection closed)
[09:47:31] <bluss> well the specialness of Send and Sync was generalized
[09:47:33] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[09:47:38] <mkpankov> erhm, Send and Sync are by default or opt-in?
[09:48:00] <mkpankov> if I have my own, new type
[09:48:02] <bluss> they are by default, with some exceptions, and if you're excepted you can opt in
[09:48:57] <folsen> how do i write functions as arguments? I tried `f(g: |int| -> int) -> int` but then I get the error `expected type, found `|``
[09:49:23] <aatch> folsen, http://doc.rust-lang.org/book/closures.html
[09:50:16] *** Quits: evilman_work (evilman@moz-bmo.108.244.87.IP) (Connection closed)
[09:50:32] *** Joins: }ls{ (uhelp@moz-g6b.b6c.169.84.IP)
[09:50:41] *** Joins: eerie (eerie@moz-rll6i6.red.bezeqint.net)
[09:50:50] *** Quits: damian0 (damian0@moz-34a6qv.retail.telecomitalia.it) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[09:51:45] <folsen> aatch: so if I have a function g(x: int) -> int and want to pass that into another function f, I have to create some sort of intermediary closure? don't think i'm understanding this correctly
[09:52:04] <aatch> folsen, functions coerce to closures
[09:52:55] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[09:54:06] <mkpankov> aatch bluss huon ok thanks for explanations, will need some time to wrap my head around this
[09:54:19] *** Joins: areski (areski@moz-fvk8de.dynamic.jazztel.es)
[09:54:19] <folsen> so the syntax is `f(g: &Fn(i32) -> i32) -> i32` ?
[09:55:45] <mkpankov> btw, is explicit dropping an anti-pattern?
[09:57:17] <yati> Hi, I want to have a trait function return Iterator<Item=MyType> and then the impls of this trait to return an appropriate impl of Iterator<Item=MyType> with custom logic for next(). Here's something I put together: https://dpaste.de/OcT8 It doesn't compile saying the all() function returns a struct when the trait Iterator is expected. As you can see, that struct implements the Iterator trait. What's wrong?
[09:57:35] <bluss> mkpankov: well things drop by themselves when they go out of scope, so if it's redundant it's confusing
[09:59:51] *** Quits: arBmind (Andreas@moz-1kns89.adsl.alicedsl.de) (Connection closed)
[10:00:31] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[10:00:59] *** Joins: arBmind (Andreas@moz-1kns89.adsl.alicedsl.de)
[10:01:33] *** Joins: renderful (renderful@moz-atg40s.co.comcast.net)
[10:02:31] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[10:02:32] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[10:04:32] *** Joins: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk)
[10:04:45] *** Quits: kalail (uid62296@moz-5ck9vu.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[10:05:24] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[10:05:32] *** Quits: larhat1 (Adium@moz-egv.ld6.128.213.IP) (Quit: Leaving.)
[10:05:35] *** Quits: renderful (renderful@moz-atg40s.co.comcast.net) (Ping timeout: 121 seconds)
[10:06:31] *** Joins: stjahns (stjahns@moz-aov.070.52.96.IP)
[10:06:39] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[10:10:19] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Connection closed)
[10:10:33] *** Quits: stjahns (stjahns@moz-aov.070.52.96.IP) (Ping timeout: 121 seconds)
[10:11:03] *** Quits: nicoch (nicoch@moz-g02d7k.be) (Quit: My Mac has gone to sleep. ZZZzzz…)
[10:12:42] *** zz_kimundi is now known as kimundi
[10:15:23] <Manishearth> yati: you can't return a trait like that
[10:15:50] <Manishearth> you could return T where T:ITerator<...>
[10:15:55] <Manishearth> but that's not what you want either
[10:16:36] *** Joins: Ms2ger (Ms2ger@moz-2md1ol.isp.belgacom.be)
[10:16:54] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[10:16:59] <Manishearth> yati: this is what you want
[10:17:00] <Manishearth> http://is.gd/2NR9gY
[10:17:16] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[10:17:40] <Manishearth> actually, http://is.gd/2NR9gY
[10:17:46] <Manishearth> I'm not sure how to get the lifetime to work
[10:18:05] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Connection closed)
[10:18:13] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[10:19:19] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[10:19:31] <folsen> Anyone feeling in a refactoring mood? :P I'm wondering how I can remove the threading of `input` in this block of code: https://github.com/folsen/epl2rust/blob/master/src/parser.rs#L119-L127
[10:20:29] *** Joins: rvlander (rvlander@moz-5m8688.criu.9fof.41d0.2001.IP)
[10:20:37] *** Quits: rvlander (rvlander@moz-5m8688.criu.9fof.41d0.2001.IP) (Connection closed)
[10:20:54] <aatch> folsen, implement `lex` as a method on State?
[10:21:17] *** Joins: akiss_ (akiss@moz-s2omc8.uio.no)
[10:21:18] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[10:21:20] *** Quits: v21 (vee@moz-9hj.bqs.204.223.IP) (Ping timeout: 121 seconds)
[10:21:51] <bluss> Manishearth: yati: I'm not sure if you can get the iterator to work this way http://is.gd/Zu5rTT
[10:22:00] *** Joins: chowmeined (chowmeined@moz-vqsrfv.wa.comcast.net)
[10:22:30] <chowmeined> Is there an indexOf method somewhere for &[u8]? 
[10:22:41] <bluss> yati: oh sorry, the trait version of fn all needs the 'a on &'a mut self too
[10:22:44] *** Quits: xishvai (Thunderbird@moz-pd9.j5n.231.101.IP) (Client exited)
[10:23:02] <mkpankov> what does this line mean? pub trait FnMut<Args>: FnOnce<Args> { 
[10:23:09] *** Quits: eerie (eerie@moz-rll6i6.red.bezeqint.net) (Connection closed)
[10:23:15] *** Quits: Porkepix (Porkepix@moz-e1bv2v.rev.sfr.net) (Ping timeout: 121 seconds)
[10:23:38] <bluss> chowmeined: not yet (not stable), but it's available using iterators
[10:23:39] <aatch> mkpankov, it means that all implementors of FnMut must also implement FnOnce
[10:23:40] *** AutomatedTester is now known as AutomatedTester|away
[10:23:48] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[10:23:53] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[10:23:58] *** Joins: Stents (Stents@moz-r8d.u6c.187.68.IP)
[10:24:27] <bluss> chowmeined: (.position() method on an iterator)
[10:24:33] <Manishearth> bluss: I believe type Output = for<'a> StoreIterator<'a> should work
[10:24:37] <chowmeined> aha, thanks bluss 
[10:24:45] *** Quits: akiss (akiss@moz-s2omc8.uio.no) (Ping timeout: 121 seconds)
[10:24:51] <mkpankov> aatch: what are such constraints called?
[10:25:17] <folsen> aatch: hmm.. State is coming from the library, I don't know enough Rust to immediately see how to do this, essentially I want do-notation but I don't know how to automatically pass along the state to the next function call
[10:25:27] <folsen> I probably don't understand the parser-combinators library well-enough either
[10:25:29] *** Joins: wei2912 (wei2912@moz-ffo.5hb.156.175.IP)
[10:26:19] <bluss> Manishearth: interesting. I use something simlilar to this whole concept, but it's pretty unclear exactly how it should work. I don't use for<'a> like that, but rather on the bound side when I use the iterator method
[10:26:27] *** Quits: Stents_ (Stents@moz-r8d.u6c.187.68.IP) (Ping timeout: 121 seconds)
[10:27:22] <chowmeined> is it possible to selectively enable traits? I've got methods I need from conflicting traits
[10:27:52] *** Joins: Outlander (Mr@moz-23mcoh.iinet.net.au)
[10:28:03] *** Quits: aatch (james@moz-is4j4r.cable.telstraclear.net) (Connection closed)
[10:28:05] <mkpankov> ah, nevermind, found it's trait inheritance
[10:31:56] *** Quits: Outlander (Mr@moz-23mcoh.iinet.net.au) (Ping timeout: 121 seconds)
[10:32:17] <bluss> chowmeined: you don't need to import traits to use them
[10:32:36] <bluss> chowmeined: though you can import them and still use this trick, just use TraitName::methodname(...)
[10:32:59] <bluss> playbot: Clone::clone(&vec![1,2,3])
[10:33:01] -playbot- [1, 2, 3]
[10:33:27] <chowmeined> If I don't import it I get this error: "methods from traits can only be called if the trait is in scope; the following trait is implemented but not in scope, perhaps add a `use` for it"
[10:33:53] <bluss> if you don't import it you have to use the Traitname::methodname for all uses
[10:33:56] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[10:33:59] <bluss> including the path to traitname
[10:34:10] <bluss> so that would be std::clone::Clone::clone(&..)
[10:34:17] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[10:35:03] *** Joins: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca)
[10:35:06] <chowmeined> ah i see, thanks
[10:35:08] *** Joins: SerialVelocity (SerialVeloc@moz-e7qnk5.ic.ac.uk)
[10:35:08] *** Joins: v21 (vee@moz-1aa.kug.204.223.IP)
[10:35:19] *** Quits: laumann (thomas@moz-1f0.hq0.225.130.IP) (Ping timeout: 121 seconds)
[10:35:52] *** Joins: genbattle (genbattle@moz-ikj3l8.xtra.co.nz)
[10:36:01] *** Quits: mib_0egjzy (Mibbit@moz-5m3.18r.18.37.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[10:36:13] *** Joins: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net)
[10:36:14] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[10:36:14] *** ChanServ sets mode: +o erickt
[10:36:21] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[10:36:32] <bluss> chowmeined: importing and then using Traitname::methodname for the clashes should work?
[10:37:01] <chowmeined> its working, on to the next error :)
[10:37:04] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[10:37:17] *** Joins: mkoskar (mkoskar@moz-ib8bp9.us.unmetered.com)
[10:39:21] *** Quits: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca) (Ping timeout: 121 seconds)
[10:39:32] *** Joins: andre_ (andre@moz-rnd.3qv.76.201.IP)
[10:39:45] <yati> Manishearth, bluss, yay! it worked :) That was something, I didn't know you can have lifetime variables in trait bounds
[10:40:18] *** Joins: RCIX (RCIX@moz-vnmep7.ph.cox.net)
[10:40:59] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[10:41:11] <bluss> yati: I'd love to how the trait you ended up using looks
[10:41:30] *** kimundi is now known as zz_kimundi
[10:41:31] <bluss> yati: oh by the way make sure you can use the trait and the iterator too
[10:42:01] *** AutomatedTester|away is now known as AutomatedTester
[10:42:37] <RCIX> WindowsBunny, you there?
[10:43:39] *** Joins: vmx (vmx@moz-sjlg50.pools.vodafone-ip.de)
[10:43:41] <yati> bluss, It is pretty much exactly what you pasted. Just that in the actual impl, I had to `type OutputIter = SQLiteStoreIter<'a>` :)
[10:43:44] *** Joins: DasIch (dasich@moz-ddrbj8.de)
[10:43:44] <yati> http://is.gd/MfcQKW
[10:44:26] <genbattle> Can anyone help me with the generics in this example, I think I'm doing it wrong? http://is.gd/9wY6nG
[10:44:38] *** Quits: jviereck (Adium@moz-28htm3.ethz.ch) (Quit: Leaving.)
[10:44:45] <bluss> yati: ok nice! I can offer you no warranty :)
[10:45:10] <yati> Haha. I'll flesh out a few methods and see if it actually works
[10:45:10] *** Joins: eerie (eerie@moz-rll6i6.red.bezeqint.net)
[10:45:40] <bluss> yati: that's a nontrivial part of it from my experience
[10:46:01] *** Quits: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[10:46:22] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[10:46:37] <yati> bluss, haha, fingers crossed :D
[10:46:58] *** Joins: zcourts (zcourts@moz-7ms809.cable.virginm.net)
[10:47:46] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[10:47:46] <bluss> genbattle: I think either you change Point<T> to be Point and use an associated type (may not be what you want) or you use a PhantomData like the help from rustc says
[10:48:22] <bluss> not even sure what the correct phantomdata is, it matters for subtyping. I guess PhantomData<fn() -> T> ?
[10:48:25] *** Joins: popow1 (Thunderbird@moz-03f.kd0.252.223.IP)
[10:48:33] *** Quits: vks (quassel@moz-b54qc9.fias.uni-frankfurt.de) (Ping timeout: 121 seconds)
[10:48:35] <bluss> since your type contains something that returns T
[10:48:58] *** Quits: popow (Thunderbird@moz-03f.kd0.252.223.IP) (Ping timeout: 121 seconds)
[10:49:08] <Ms2ger> huon, nice post
[10:49:12] *** Quits: eerie (eerie@moz-rll6i6.red.bezeqint.net) (Ping timeout: 121 seconds)
[10:49:30] <genbattle> i'm trying to make a tree data structure, but i'm also trying to make it generic across leaf value types
[10:49:37] <Ms2ger> huon, s/chose/choose/ and maybe s/minimization/monomorphisation/?
[10:49:48] <genbattle> so each node stores a value plus optionally two additional nodes
[10:50:12] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[10:50:17] <bluss> genbattle: so the Point thing is not needed?
[10:50:23] *** Quits: v21 (vee@moz-1aa.kug.204.223.IP) (Ping timeout: 121 seconds)
[10:50:25] <genbattle> it works ok it I just box up the data, but it adds an extra layer of indirection, which seems like a waste if the leaf value is an int or float or something
[10:50:26] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[10:50:40] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[10:50:48] <genbattle> the point thing is so the leaf data can have a variable dimension
[10:50:56] <bluss> genbattle: a recursive datastructure like a tree needs boxes for indirection
[10:51:05] <genbattle> the Point trait gives me the number of dimensions and allows me to get the data in each dimension
[10:51:10] <bluss> ok
[10:51:17] <genbattle> yes I understand I need boxes for the nodes
[10:51:32] <genbattle> but I should be able to store the data for each node directly in the node, rather than boxing that up too
[10:51:45] <genbattle> because the node already sits in a box
[10:51:46] *** Joins: ptalbot (ptalbot@moz-lrq2ca.dyn.as47377.net)
[10:51:55] <bluss> you don't have to change anything in the actual representation to make this work
[10:52:10] <bluss> all you need is one of the two choices mentioned
[10:52:23] *** Joins: thelastinuit (thelastinui@moz-doh.aqt.240.148.IP)
[10:52:28] *** Joins: evilman_work (evilman@moz-bmo.108.244.87.IP)
[10:52:31] <genbattle> ok, i'll have a look :-)
[10:52:43] <mfs> The libc crate has fork() though no waitpid(). That seems weird. The nix crate has both though would have liked to use libc.
[10:52:56] <bluss> a phantomdata marker is just a zero-size marker type. A bit strange, halfway into theoretical PL theory areas, at least not for me
[10:53:04] *** Quits: SerialVelocity (SerialVeloc@moz-e7qnk5.ic.ac.uk) (Quit: Textual IRC Client: www.textualapp.com)
[10:53:08] <bluss> at least not simple for me :)
[10:53:44] *** Joins: maedhroz (maedhroz@moz-4jk5ho.res.rr.com)
[10:53:45] <genbattle> yea i had a look at it after I first got the error, but from the examples in the docs it didn't really look like the right tool for the job
[10:54:11] *** Joins: timonv (timonv@moz-7btgcn.dynamic.ziggo.nl)
[10:54:16] <genbattle> I work with C++ at work but don't even really dabble in TMP, so this stuff is fairly over my head
[10:54:17] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[10:55:02] <genbattle> and Rust's type system is much more powerful than C++'s
[10:55:16] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[10:55:16] <genbattle> maybe not as extensive yet
[10:55:35] <bluss> well no backtracking SFINAE madness
[10:56:25] <FreeFull> Rust has the advantage of ML lineage
[10:56:29] *** Quits: m_kato (m_kato@moz-86b4bs.bitcat.net) (Quit: Leaving...)
[10:57:16] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[10:57:21] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[10:57:46] *** Quits: maedhroz (maedhroz@moz-4jk5ho.res.rr.com) (Ping timeout: 121 seconds)
[10:58:13] <aatch> C++'s type system is pretty much just C's type system, with a few tweaks here and there. It's important to remember that templates aren't technically part of the type system in C++
[10:59:12] *** Quits: sin8h (Adium@moz-4gl.cvv.51.106.IP) (Quit: Leaving.)
[10:59:19] *** Joins: Outlander (Mr@moz-23mcoh.iinet.net.au)
[10:59:45] <genbattle> it looks like associated types might help me out here
[11:00:10] <genbattle> didn't imagine a simple kd-tree would take me this far down the rabbit hole
[11:01:23] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (Ping timeout: 121 seconds)
[11:02:13] <mitsuhiko> mfs: you can just bind those yourself if you need. they are simple functions
[11:02:20] *** Joins: renderful (renderful@moz-atg40s.co.comcast.net)
[11:02:29] *** Quits: Outlander (Mr@moz-23mcoh.iinet.net.au) (Quit: Lost terminal)
[11:03:16] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[11:03:37] *** Quits: zyphrus (David@moz-1a4.urk.98.101.IP) (Ping timeout: 121 seconds)
[11:03:45] *** Joins: v21 (vee@moz-k82.kug.204.223.IP)
[11:04:22] *** Quits: alonlevy_ (alon@moz-p48.q13.159.94.IP) (Ping timeout: 121 seconds)
[11:04:23] <mfs> mitsuhiko: True, though I haven't looked at the FFI stuff except in passing. No time like the present. Will try that. Thanks.
[11:04:26] <genbattle> what's the difference between Ord and PartialOrd?
[11:04:40] <mitsuhiko> mfs: it's super simple
[11:04:47] <mitsuhiko> genbattle: one is a total order the other a partial order
[11:04:53] <mitsuhiko> floats for instance cannot be totally ordered
[11:05:17] *** Joins: elbow_json (elbow@moz-vj1.qot.30.50.IP)
[11:05:20] *** Quits: elbow_jason (elbow@moz-vj1.qot.30.50.IP) (Connection closed)
[11:05:42] <genbattle> i'm looking to constrain types to those that are sortable, so PartialOrd sounds like the correct trait
[11:06:22] *** Quits: renderful (renderful@moz-atg40s.co.comcast.net) (Ping timeout: 121 seconds)
[11:06:37] <mitsuhiko> genbattle: sort requires Ord
[11:06:42] <mitsuhiko> note that floats in rust are not sortable
[11:07:04] <bluss> if you have a k-d tree you probably want to work with floats though
[11:07:24] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[11:07:37] <bluss> PartialOrd is the trait for the comparison operators btw. Ord just adds behavioral guarantees (total ordering)
[11:07:39] *** Joins: frankmcsherry (frankmcsher@moz-jvbri7.airspot.airfy.com)
[11:07:40] <bluss> no new API
[11:08:45] <frankmcsherry> hiho folks. What is the current best way to Read (as in the trait) bytes on to the end of a Vec<u8>? My understanding is that I need to extend the vector by as much as I might like, pass it in as a &mut [u8], and then truncate back based on the result.
[11:08:57] <genbattle> mitsuhiko, why aren't floats sortable in rust if they're comparable?
[11:09:15] <frankmcsherry> is there possibly a less horrible way, that doesn't have me cleaning 1MB each time I might want to read that much?
[11:09:29] <mitsuhiko> genbattle: because they are not comparable unfortunately
[11:09:33] <mitsuhiko> genbattle: NaN is the problem
[11:09:42] <genbattle> right
[11:09:56] <bluss> playbot: 1. < (0./0.)
[11:09:57] -playbot- false
[11:10:04] <mitsuhiko> genbattle: you can use sort_by with floats though
[11:10:15] <genbattle> ok
[11:10:36] <mitsuhiko> playbot: [1.0, 2.0, 0.0/0.0].sort_by(|a, b| a.partial_cmp(b).unwrap_or(Equal));
[11:10:37] -playbot- <anon>:9:71: 9:76 error: unresolved name `Equal`. Did you mean `a`?
[11:10:37] -playbot- <anon>:9         [1.0, 2.0, 0.0/0.0].sort_by(|a, b| a.partial_cmp(b).unwrap_or(Equal));
[11:10:37] -playbot- output truncated; full output at: http://bit.ly/1F3yvLn
[11:10:46] <bluss> frankmcsherry: .read_to_end pushes to a vector
[11:10:50] <mitsuhiko> something like this
[11:10:59] *** Quits: llogiq (andre@moz-ebe0kb.unity-media.net) (Connection closed)
[11:11:21] <mitsuhiko> there should be a shortcut for this :P
[11:11:22] <frankmcsherry> bluss: right, but it also blocks on getting an EOF. This is meant for a TCPStream, so .. no dice.
[11:11:44] <frankmcsherry> bluss: there used to be "push", which had the delightful property that it solved the "do readers see uninitialized memory" too, but it got removed in the great step forward.
[11:12:13] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[11:12:31] <bluss> frankmcsherry: blocks on EOF? it should return
[11:12:36] <mitsuhiko> playbot: [1.0, 2.0, 0.0/0.0].sort_by(|a, b| a.partial_cmp(b).unwrap_or(Ordering::Equal));
[11:12:36] -playbot- <anon>:9:71: 9:86 error: failed to resolve. Use of undeclared type or module `Ordering`
[11:12:37] -playbot- <anon>:9         [1.0, 2.0, 0.0/0.0].sort_by(|a, b| a.partial_cmp(b).unwrap_or(Ordering::Equal));
[11:12:37] -playbot- output truncated; full output at: http://bit.ly/1PunBQn
[11:12:44] <mitsuhiko> playbot: use std::cmp::Ordering; [1.0, 2.0, 0.0/0.0].sort_by(|a, b| a.partial_cmp(b).unwrap_or(Ordering::Equal));
[11:12:46] -playbot- ()
[11:12:49] <frankmcsherry> bluss: "Read all bytes until EOF in this source, placing them into buf."
[11:13:13] <frankmcsherry> bluss: sorry, I meant it blocks *until* it gets an EOF. My bad.
[11:13:15] <aatch> frankmcsherry, you want to read into the end of a Vec, right?
[11:13:16] <bluss> right
[11:13:23] <frankmcsherry> aatch: yes!
[11:13:25] *** Joins: TheLemonMan (lemonboy@moz-d7e434.45-151.net24.it)
[11:13:28] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[11:13:39] <frankmcsherry> without reserve and set_len, which is what I have been using.
[11:14:01] <bluss> frankmcsherry: you can use .by_ref().take() to have it return after a set number of bytes
[11:14:12] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Quit: Konversation terminated!)
[11:14:13] <bluss> use that on the stream
[11:14:33] <bluss> it still loops though
[11:14:46] <frankmcsherry> bluss: oh no. noooooooo. I don't want an Iterator<Item=u8> between me and my 10Gbs network connection. :D
[11:14:47] <aatch> frankmcsherry, oh, I think I understand your problem. I think the only way is to buffer manually.
[11:15:09] <frankmcsherry> aatch: I see. Push totally used to do this. .. RIP push.
[11:15:10] <bluss> frankmcsherry: there is no such iterator there.
[11:15:20] <bluss> frankmcsherry: .take() is an I/O adaptor
[11:15:33] <frankmcsherry> bluss: oh? wait, where can I read about it, then?
[11:15:36] <bluss> http://doc.rust-lang.org/std/io/trait.Read.html#method.take
[11:15:36] <aatch> frankmcsherry, assuming that you don't want to reserve/truncate.
[11:16:09] <aatch> bluss, oh, that'd work!
[11:16:18] <frankmcsherry> aatch: I sense that it will scrub the buffer each time. I'd like to offer up ~1MB to the reader, but don't want to scrub it each time if I'm getting ~KB back. 
[11:16:37] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[11:16:40] <bluss> frankmcsherry: so in the great leap forward they seem to have had these iterator inspired ideas about composing different stuff
[11:16:49] *** Joins: laumann (thomas@moz-1f0.hq0.225.130.IP)
[11:16:55] <bluss> frankmcsherry: I have no idea how it works in your 10 Gbps setting :)
[11:16:57] *** Joins: nyx (nyx@moz-ivelpd.res.rr.com)
[11:17:08] <frankmcsherry> bluss: I'm reading that and I think it blocks until it gets the amount, right?
[11:17:18] <bluss> frankmcsherry: yes
[11:17:24] <mitsuhiko> frankmcsherry: unfortunately :(
[11:17:31] <frankmcsherry> bluss: yeah, that's not exactly what I need. 
[11:17:44] <mitsuhiko> there is no non blocking stuff anywhere in rust yet
[11:17:46] <bluss> frankmcsherry: what do you mean by scrub though?
[11:17:49] <aatch> frankmcsherry, what *do* you need then?
[11:17:56] <frankmcsherry> mitsuhiko: "read" is, I think, right?
[11:18:02] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[11:18:09] <mitsuhiko> frankmcsherry: which read?
[11:18:12] *** Quits: _td (tatterdemal@moz-a0dnkb.ca.comcast.net) (Ping timeout: 121 seconds)
[11:18:28] <frankmcsherry> aatch: read any number of available bytes into the end of a Vec<u8>. I'm ok blocking if zero available, or spinning.
[11:18:33] <mitsuhiko> Read.read?
[11:18:38] <bluss> frankmcsherry: it's sync but just a single read call
[11:19:18] <mitsuhiko> frankmcsherry: i think the interface would allow something to not block but as far as i know everything blocks
[11:19:35] <mitsuhiko> the idea of that is (i think) that you could set whatever is below it to non blocking
[11:19:43] <mfs> mitsuhiko: Hmmm, that is nice and simple. Had a read of http://blog.rust-lang.org/2015/04/24/Rust-Once-Run-Everywhere.html
[11:19:46] <frankmcsherry> mitsuhiko: the text suggests that it won't block (but is permitted to), and prefers returning an error if it would block.
[11:20:05] <frankmcsherry> mitsuhiko: I'm flexible on that, but the others (read_to_end) have blocking as part of their spec.
[11:20:19] <aatch> frankmcsherry, the text says that it may or not block. I think that TcpStream is blocking by default though.
[11:20:54] <frankmcsherry> aatch: erm, well TCPStream is totally happy to trickle bytes back at me if I use read. Obvs it isn't guaranteeing that, but.
[11:22:03] <frankmcsherry> aatch: it would have serious issues if it buffered until at least some size and returned, I would think. Lots of protocols would just stall.
[11:22:39] <mitsuhiko> frankmcsherry: well, it stalls for me
[11:22:40] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[11:22:42] <mitsuhiko> (in my library)
[11:23:02] <bluss> it probably waits for at least 1 byte
[11:23:03] <mitsuhiko> but the protocol i implement gives me length markers
[11:23:11] <mitsuhiko> so i never read more than the server promised to send
[11:23:21] <frankmcsherry> mitsuhiko: O.o like, you send one byte, and try to read one byte, and the reader blocks indefinitely?
[11:23:26] <mitsuhiko> frankmcsherry: yep
[11:23:33] <mitsuhiko> as i said, there is no async in rust yet
[11:23:40] <frankmcsherry> mitsuhiko: I don't have that problem.
[11:23:43] <genbattle> mitsuhiko, I got is working with associated types, thanks!
[11:23:47] <genbattle> *it
[11:23:55] <mitsuhiko> frankmcsherry: let me check my code
[11:24:31] *** Quits: khades (Thunderbird@moz-ual.b31.186.31.IP) (Ping timeout: 121 seconds)
[11:24:47] *** Joins: ray1 (ray@moz-5i1.t3f.66.59.IP)
[11:24:55] <panicbit> Should I name a new package "*-sys" even though the crate needs to be named "*_sys" or should I go with "*_sys" for both?
[11:25:40] *** Quits: errordeveloper (ilya@moz-4uj.bgu.199.90.IP) (Ping timeout: 121 seconds)
[11:26:07] <mitsuhiko> frankmcsherry: so i definitely read byte by byte via Read.read currently
[11:26:08] * panicbit wants to hear some bikeshedding pro tips
[11:26:12] <mitsuhiko> and it blocks
[11:26:13] *** Joins: espadrine (tyl@moz-l019mn.fbx.proxad.net)
[11:26:35] *** Quits: abinader (sid21713@moz-emdqe7.uxbridge.irccloud.com) (Quit: )
[11:27:19] *** bvssvni_ is now known as bvssvni
[11:27:21] <frankmcsherry> mitsuhiko: maybe we're talking about diff things? I am totally ok with it blocking if no data available (sorry if that wasn't clear), but not ok (for my purposes) with blocking in the way that read_to_end may block (waiting for the stream to close).
[11:27:39] <mitsuhiko> frankmcsherry: there is no such thing as "data available" in tcp
[11:27:51] <mitsuhiko> it's a stream
[11:28:10] <mitsuhiko> you can probably read until PSH but not with that api
[11:28:34] <frankmcsherry> I am totally ok with it blocking (or not) if the kernel's tcp buffer is empty
[11:28:40] <aatch> mitsuhiko, sure there is. It might be a stream, but if the OS doesn't have any data in the buffer, there's no data in the buffer. It can signal that to the caller.
[11:28:48] *** Joins: sin8h (Adium@moz-f0u.cn5.51.106.IP)
[11:29:08] <aatch> It just doesn't do that unless you tell it to.
[11:29:38] <mitsuhiko> aatch: i am aware of that, but there is on rust api for this
[11:29:54] <mitsuhiko> the only way you can do that would be select()/epoll() and a non blocking socket
[11:30:57] <frankmcsherry> mitsuhiko: ok, sorry. let me reframe: I'd like to restrict myself to read calls with the property that they will return if any unread data is made available.
[11:31:00] *** Joins: popow (Thunderbird@moz-03f.kd0.252.223.IP)
[11:31:01] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Connection closed)
[11:31:04] *** Quits: popow1 (Thunderbird@moz-03f.kd0.252.223.IP) (Connection closed)
[11:31:07] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[11:31:23] <mitsuhiko> frankmcsherry: i understand and as far as i know you cannot do this with rust currently
[11:31:27] <frankmcsherry> mitsuhiko: I worry that read_to_end need not do that, and I feel that read (even though it doesn't promise) likely does do this.
[11:31:33] <mitsuhiko> if you find a way, let me know, because i am interested in this as well
[11:31:48] *** Joins: alonlevy_ (alon@moz-8vcuc9.red.bezeqint.net)
[11:31:58] *** Joins: smarks (smarks@moz-7ks.g8t.76.109.IP)
[11:32:08] *** Quits: smarks (smarks@moz-7ks.g8t.76.109.IP) (Quit: )
[11:32:26] <mitsuhiko> frankmcsherry: https://github.com/rust-lang/rfcs/issues/682
[11:32:29] <frankmcsherry> mitsuhiko: ok, again, the api doesn't promise this, but for me today read does this. I just have a hard time letting it fill a Vec<u8> for me (rather than a &mut [u8]).
[11:32:54] <mitsuhiko> frankmcsherry: how does it respond when there is no data?
[11:33:09] <mitsuhiko> because here it blocks for me
[11:33:12] <frankmcsherry> mitsuhiko: no clue, but again this isn't a constraint I have.
[11:33:24] <frankmcsherry> mitsuhiko: when data are made available it should unblock, is what I need.
[11:33:25] <mitsuhiko> so it looks like our rusts do different things?
[11:33:25] <aatch> frankmcsherry, I think that you're just going to have to handle it manually.
[11:33:51] *** Joins: vks (quassel@moz-b54qc9.fias.uni-frankfurt.de)
[11:34:10] <aatch> So the `read` call for sockets will block if there is no data, and return the data that there *is* if said data is available.
[11:34:12] * mitsuhiko is confused now
[11:34:21] *** Joins: dawehner (quassel@moz-aca.hhs.128.88.IP)
[11:34:25] *** Joins: dr4yyee (dr4yyee@moz-0o1.d8p.2.91.IP)
[11:34:43] <mitsuhiko> aatch: yes, that is what happens for me
[11:34:56] <mitsuhiko> as i only read one byte :P
[11:35:04] <frankmcsherry> aatch: we're dying here. if you are looking at the source, you know what case you need to describe next. :)
[11:36:47] *** Quits: genbattle (genbattle@moz-ikj3l8.xtra.co.nz) (Ping timeout: 121 seconds)
[11:37:01] *** Joins: dinfuehr_ (dinfuehr@moz-c25.u8s.112.91.IP)
[11:37:15] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[11:37:27] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[11:37:31] <aatch> frankmcsherry, well the issue you have is that it's not possible to read up some amount of data, but in small chunks.
[11:37:40] <mitsuhiko> frankmcsherry: http://carllerche.github.io/mio/mio/
[11:37:44] <mitsuhiko> you might be interested in this
[11:37:46] <aatch> frankmcsherry, up to* some amount of data.
[11:37:53] <frankmcsherry> aatch: no I mean, what happens to a blocked thread once data arrives.
[11:38:18] <forgottenone> what is the correct way to pattern match a reference
[11:38:35] <aatch> frankmcsherry, oh, well then that data will be put into the buffer and the call returns
[11:39:10] *** Joins: nodweber_ (nodweber@moz-knt.fgq.178.5.IP)
[11:39:37] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[11:39:38] *** bvssvni is now known as bvssvni_
[11:40:08] <aatch> frankmcsherry, what I mean, is that if you read in, say, 8Kb chunks, you have no way of knowing if there is actually more data available or if the data fell perfectly on a boundary.
[11:40:10] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[11:40:30] <forgottenone> i am trying to match self reference i get 
[11:40:32] <forgottenone> expected `&LinkedList<T>`,
[11:40:33] <forgottenone>     found `LinkedList<_>`
[11:40:35] <forgottenone> (expected &-ptr,
[11:40:36] <forgottenone>     found enum `LinkedList`) 
[11:40:39] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Ping timeout: 121 seconds)
[11:40:53] <aatch> forgottenone, the pattern is `&pattern`
[11:41:05] *** Quits: dinfuehr_ (dinfuehr@moz-c25.u8s.112.91.IP) (Ping timeout: 121 seconds)
[11:42:08] <forgottenone> aatch i get this: expected `&&LinkedList<T>`,                              14         match(&self){                                |    found `LinkedList<_>`                                 15             Cons(head,_) => head,                    |(expected &-ptr,                                          16             Nil => panic!("Empty List")              |    found enum `LinkedList`)
[11:42:35] <aatch> forgottenone, no, in the pattern itself.
[11:42:36] <forgottenone> and the code is: expected `&&LinkedList<T>`,                              14         match(&self){                                |    found `LinkedList<_>`                                 15             Cons(head,_) => head,                    |(expected &-ptr,                                          16             Nil => panic!("Empty List")              |    found enum `LinkedList`)
[11:43:01] <frankmcsherry> forgottenone: I think you may want to remove the & from self.
[11:43:14] <frankmcsherry> but, hard to read. >.<
[11:43:14] <aatch> forgottenone, so `match self { &Cons( ...`
[11:43:24] *** Joins: Nickleoi (sailfish@moz-jsd.i1i.96.112.IP)
[11:43:46] <aatch> forgottenone, also, it's better to post code to playpen, gist.github.com or a pastebin.
[11:44:23] *** Quits: laumann (thomas@moz-1f0.hq0.225.130.IP) (Ping timeout: 121 seconds)
[11:44:28] <forgottenone> sorry wrong paste:     fn head(&self) -> T{         match(&self){             Cons(head,_) => head,             Nil => panic!("Empty List")         }
[11:44:41] <Ms2ger> Again, match self {
[11:44:54] <Ms2ger> Actually, match *self {
[11:45:20] <forgottenone> aatch ok:http://is.gd/lgVhc5
[11:45:20] <aatch> Ms2ger, well, either `match *self {` or use the `&` in the pattern.
[11:45:25] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[11:45:27] *** Joins: James (quassel@moz-225vcm.range86-148.btcentralplus.com)
[11:45:28] <Ms2ger> Right
[11:45:38] <Ms2ger> I think match *foo {} is more common
[11:45:41] <aatch> forgottenone, we've already told you two ways to fix it.
[11:45:42] <forgottenone> aatch:  so references needs to be dereferenced in rust?
[11:45:47] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[11:45:54] <aatch> forgottenone, if you want to pattern match, yes.
[11:46:08] <huon> Ms2ger: thanks! (and yeah, both typos)
[11:46:53] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[11:46:54] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[11:46:55] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[11:47:04] <forgottenone> aatch: is it only applies to pattern matching, or do i need to dereference in other cases also?
[11:47:26] <aatch> forgottenone, it depends on what you're doing.
[11:47:33] <aatch> forgottenone, have you read the rust book?
[11:47:46] <aatch> forgottenone, http://doc.rust-lang.org/book/README.html
[11:48:18] *** Joins: khades (Thunderbird@moz-u45.3vk.74.212.IP)
[11:49:06] *** Joins: jviereck (Adium@moz-c0nvm7.ethz.ch)
[11:49:08] *** Joins: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP)
[11:49:10] <forgottenone> aatch: i read mort parts of it but somehow i thought references as in c++, also thanks for the answer
[11:49:35] *** Joins: duncan (paul@moz-dst.ms6.225.173.IP)
[11:50:06] *** Joins: larhat1 (Adium@moz-egv.ld6.128.213.IP)
[11:50:07] *** Quits: ehiggs (ehiggs@moz-pob5cp.ugent.be) (Ping timeout: 121 seconds)
[11:51:23] <yati> bluss, Tried it out after implementing put() and all(), it works :)
[11:51:26] *** Quits: frankmcsherry (frankmcsher@moz-jvbri7.airspot.airfy.com) (Connection closed)
[11:51:38] *** Joins: frankmcsherry (frankmcsher@moz-jvbri7.airspot.airfy.com)
[11:53:17] *** Joins: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com)
[11:53:18] *** Quits: lyc (lyc@moz-dtr.d1s.38.106.IP) (Connection closed)
[11:53:24] *** Quits: larhat1 (Adium@moz-egv.ld6.128.213.IP) (Quit: Leaving.)
[11:56:02] <frankmcsherry> ok, true or false: the expressions for the values fields in a struct initializer are run in the order they are listed. (( why did I write my code like this? ))
[11:56:58] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[11:56:59] *** ChanServ sets mode: +o pnkfelix
[11:57:23] *** Joins: lyc (lyc@moz-jft.nr8.226.207.IP)
[11:58:31] *** Quits: jviereck (Adium@moz-c0nvm7.ethz.ch) (Quit: Leaving.)
[11:59:04] <aatch> frankmcsherry, true (modulo compiler optimisations, but they shouldn't have visible effects)
[11:59:35] *** Quits: dawehner (quassel@moz-aca.hhs.128.88.IP) (Connection closed)
[11:59:35] *** Quits: frankmcsherry (frankmcsher@moz-jvbri7.airspot.airfy.com) (Connection closed)
[11:59:42] *** Joins: frankmcsherry (frankmcsher@moz-jvbri7.airspot.airfy.com)
[11:59:58] <frankmcsherry> aatch: thank you! :D
[12:00:04] <frankmcsherry> aatch: !#@$!#ing cafe wifi in Germany. I swear it should be better than this.
[12:00:18] *** Quits: abcrawf (abcrawf@moz-11rs77.acrawford.com) (Connection closed)
[12:00:19] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[12:00:30] <aatch> frankmcsherry, oh yeah, you're in Berlin, right?
[12:00:44] <frankmcsherry> aatch: for now... :)
[12:00:59] <aatch> frankmcsherry, my sister's boyfriend is from Hamburg.
[12:01:01] *** Joins: calatalee (Mibbit@moz-1072lv.dsl.as9105.com)
[12:01:14] <frankmcsherry> aatch: I've heard it is nice there!
[12:01:18] <aatch> And by "from" I mean "lives there".
[12:01:21] <frankmcsherry> aatch: maybe they have reliable wifi, for example.
[12:01:38] *** Joins: anomand (andrew@moz-5b2.hnp.122.86.IP)
[12:01:51] <anomand> I get "  No `package` or `project` section found.
[12:01:59] <anomand> after adding rand to dependencies
[12:02:03] <aatch> (My sister, on the other hand, does *not* live in Hamburg)
[12:02:08] *** Joins: eerie (eerie@moz-7hv.miu.65.109.IP)
[12:02:26] <frankmcsherry> woowoo. I am now 100% unsafe-free in timely-dataflow.
[12:02:33] *** Joins: shellac (pldms@moz-c7026f.bris.ac.uk)
[12:02:49] *** Joins: agjacome (agjacome@moz-6073ot.dynamic.jazztel.es)
[12:02:50] *** Quits: yuja (yuja@moz-07pdo8.pikara.ne.jp) (Ping timeout: 121 seconds)
[12:03:05] *** Joins: renderful (renderful@moz-atg40s.co.comcast.net)
[12:04:01] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[12:04:17] *** Quits: erz (erz@moz-n26c5c.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[12:04:53] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[12:05:04] <aatch> frankmcsherry, nice!
[12:05:22] *** Quits: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[12:06:07] *** Joins: brianloveswords (brianlovesw@moz-mcv.d4h.14.108.IP)
[12:06:21] *** Quits: ptalbot (ptalbot@moz-lrq2ca.dyn.as47377.net) (Ping timeout: 121 seconds)
[12:06:29] *** Quits: brianloveswords (brianlovesw@moz-mcv.d4h.14.108.IP) (Quit: Textual IRC Client: www.textualapp.com)
[12:07:07] *** Quits: renderful (renderful@moz-atg40s.co.comcast.net) (Ping timeout: 121 seconds)
[12:07:39] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[12:07:44] *** Joins: frankmcs_ (frankmcsher@moz-he4chv.airspot.airfy.com)
[12:07:50] *** Joins: meh (meh@moz-2vi7cf.42-151.net24.it)
[12:08:00] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Ping timeout: 121 seconds)
[12:08:09] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[12:08:42] *** Joins: kmicu (kmicu@moz-uga.edn.218.91.IP)
[12:09:41] *** Quits: frankmcsherry (frankmcsher@moz-jvbri7.airspot.airfy.com) (Ping timeout: 121 seconds)
[12:10:03] *** Joins: dstrbad (dstrbad@moz-v485c3.cable.xnet.hr)
[12:10:07] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[12:10:31] *** Joins: abinader (abinader@moz-f6tmuo.com)
[12:11:00] *** Quits: marsel (user@moz-86r.010.180.94.IP) (Ping timeout: 121 seconds)
[12:11:28] *** Joins: lawki (lawki@moz-e6g56e.abo.bbox.fr)
[12:11:30] *** Quits: ray1 (ray@moz-5i1.t3f.66.59.IP) (Ping timeout: 121 seconds)
[12:11:34] *** Quits: lawki (lawki@moz-e6g56e.abo.bbox.fr) (Quit: Quitte)
[12:11:53] <calatalee> How do I convert a String to  &[u8] ?
[12:12:11] <Manishearth> calatalee: .as_bytes or something?
[12:12:13] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[12:12:19] *** Quits: ellinokon (ellinokon@moz-gh5.r2h.62.178.IP) (A TLS packet with unexpected length was received.)
[12:12:20] <calatalee> tried that Manishearth 
[12:12:22] *** Joins: ellinokon (ellinokon@moz-gh5.r2h.62.178.IP)
[12:12:25] <Manishearth> what did it do?
[12:12:30] <FreeFull> playbot: let foo = "foer".to_string(); let bar: &[u8] = foo.as_bytes();
[12:12:32] -playbot- ()
[12:12:39] <FreeFull> playbot: let foo = "foer".to_string(); let bar: &[u8] = foo.as_bytes(); bar
[12:12:40] -playbot- <anon>:9:56: 9:59 error: `foo` does not live long enough
[12:12:41] -playbot- <anon>:9         let foo = "foer".to_string(); let bar: &[u8] = foo.as_bytes(); bar
[12:12:41] -playbot- output truncated; full output at: http://bit.ly/1dS59Wa
[12:12:50] <FreeFull> playbot: let foo = "foer".to_string(); let bar: &[u8] = foo.as_bytes(); show(bar);
[12:12:52] -playbot- [102, 111, 101, 114]
[12:12:52] -playbot- ()
[12:13:00] *** Joins: yuja (yuja@moz-07pdo8.pikara.ne.jp)
[12:13:20] *** Joins: oberstet (quassel@moz-bqk2mf.dynamic.mnet-online.de)
[12:14:04] *** Joins: errordeveloper (ilya@moz-4uj.bgu.199.90.IP)
[12:14:16] <calatalee> hmm, as_bytes seems  to work now
[12:14:43] *** Quits: mindtree (Mitch@moz-qbevee.iprimus.net.au) (Ping timeout: 121 seconds)
[12:15:30] *** Quits: abinader (abinader@moz-f6tmuo.com) (Quit: ZNC - http://znc.in)
[12:16:00] *** Joins: abinader (abinader@moz-f6tmuo.com)
[12:16:03] <calatalee> thanks
[12:16:14] *** Joins: ray1 (ray@moz-5i1.t3f.66.59.IP)
[12:16:27] *** Quits: vmx (vmx@moz-sjlg50.pools.vodafone-ip.de) (Quit: Leaving)
[12:16:47] *** Joins: new_one (new_one@moz-suj.lcf.15.50.IP)
[12:17:32] *** Quits: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[12:17:45] *** Joins: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca)
[12:18:05] *** Joins: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de)
[12:18:33] *** Joins: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP)
[12:18:41] *** Joins: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net)
[12:19:06] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[12:19:29] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[12:19:29] *** ChanServ sets mode: +o pnkfelix
[12:22:07] *** Quits: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca) (Ping timeout: 121 seconds)
[12:22:39] *** Joins: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca)
[12:23:08] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[12:23:15] *** Quits: arBmind (Andreas@moz-1kns89.adsl.alicedsl.de) (Connection closed)
[12:23:35] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[12:23:46] *** Joins: jeffasinger (jeff@moz-1j1qti.cable.mindspring.com)
[12:23:52] *** Quits: Raven67854 (Raven67854@moz-8fl3ql.unassigned.ntelos.net) (Quit: Leaving)
[12:24:43] *** Quits: khades (Thunderbird@moz-u45.3vk.74.212.IP) (Client exited)
[12:24:52] *** Joins: khades (Thunderbird@moz-u45.3vk.74.212.IP)
[12:25:37] *** Quits: skade (skade@moz-u1j.1t9.225.62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[12:25:51] *** Quits: Havvy (Havvy@moz-2v0ao2.5euu.k9bm.0007.2601.IP) (Ping timeout: 121 seconds)
[12:26:25] *** Joins: mindtree (Mitch@moz-qbevee.iprimus.net.au)
[12:26:40] *** Quits: untitaker (untitaker@moz-tasggu.highway.telekom.at) (Ping timeout: 121 seconds)
[12:26:58] *** Quits: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com) (Connection closed)
[12:27:13] *** Joins: untitaker (untitaker@moz-7j2lio.highway.telekom.at)
[12:27:20] *** Joins: Raven67854 (Raven67854@moz-8fl3ql.unassigned.ntelos.net)
[12:27:36] *** Joins: larhat1 (Adium@moz-egv.ld6.128.213.IP)
[12:28:25] *** Quits: larhat1 (Adium@moz-egv.ld6.128.213.IP) (Quit: Leaving.)
[12:28:56] *** Joins: pgonda (peter@moz-otulp7.ma.comcast.net)
[12:29:23] *** Quits: sin8h (Adium@moz-f0u.cn5.51.106.IP) (Quit: Leaving.)
[12:31:03] *** Quits: v21 (vee@moz-k82.kug.204.223.IP) (Ping timeout: 121 seconds)
[12:32:56] *** Quits: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca) (Connection closed)
[12:33:17] *** Joins: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca)
[12:33:29] *** Joins: erz (erz@moz-n26c5c.broadband.corbina.ru)
[12:37:15] *** Quits: pgonda (peter@moz-otulp7.ma.comcast.net) (Ping timeout: 121 seconds)
[12:37:24] *** Quits: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca) (Ping timeout: 121 seconds)
[12:37:59] *** Joins: eric_lagergren (barsonme@moz-lr1hrn.wa.comcast.net)
[12:38:08] *** zz_kimundi is now known as kimundi
[12:38:20] *** Joins: popow1 (Thunderbird@moz-03f.kd0.252.223.IP)
[12:38:54] *** Joins: gmorenz (normal@moz-6a8.048.51.70.IP)
[12:39:08] *** Quits: popow (Thunderbird@moz-03f.kd0.252.223.IP) (Ping timeout: 121 seconds)
[12:39:41] *** Quits: kngl (Adium@moz-m3a3bq.ipv4.evonet.be) (Quit: Leaving.)
[12:39:50] <calatalee> How can I distinguish between users that connect to a tcplistener with telnet/netcat and those that connect with a web browser ?
[12:40:08] *** Joins: larhat1 (Adium@moz-egv.ld6.128.213.IP)
[12:41:03] *** Joins: kngl (Adium@moz-m3a3bq.ipv4.evonet.be)
[12:41:10] *** Quits: larhat1 (Adium@moz-egv.ld6.128.213.IP) (Quit: Leaving.)
[12:41:15] *** Joins: larhat1 (Adium@moz-egv.ld6.128.213.IP)
[12:41:50] <huon> examine the content of the request?
[12:42:02] *** Joins: JosiahOne|Work (Thunderbird@moz-f2hp7h.biz.rr.com)
[12:42:21] <huon> it seems to me that there's no general way to distinguish (a sufficiently skilled user can emulate being a web browser)
[12:42:36] <Ms2ger> Don't
[12:43:26] *** Joins: sin8h (Adium@moz-f0u.cn5.51.106.IP)
[12:43:39] <cmr> yeah, it's not possible.
[12:43:58] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[12:44:08] <tomaka> I have a problem with rustup
[12:44:10] <calatalee> I guess I can have to listeners running on different ports
[12:44:22] *** Joins: Havvy (Havvy@moz-epv20b.wa.comcast.net)
[12:44:25] <tomaka> Currently, I call this command at initialization: https://github.com/tomaka/glium/blob/master/circle.yml#L3
[12:44:37] <tomaka> However rustup now asks to write y/N when starting
[12:44:39] * tomaka grumbles
[12:44:48] *** Quits: yuja (yuja@moz-07pdo8.pikara.ne.jp) (Ping timeout: 121 seconds)
[12:44:53] *** Joins: Nickleu (sailfish@moz-md1.shv.96.112.IP)
[12:45:02] *** Joins: v21 (vee@moz-kuj.kug.204.223.IP)
[12:45:04] <tomaka> So, as advised I tried passing `--disable-sudo`: https://github.com/tomaka/glium/pull/814/files
[12:45:06] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[12:45:16] <tomaka> however now running rustup seems to block
[12:45:27] <calatalee> pipe  to yes?
[12:45:31] <tomaka> Nothing happens for 10mn and the build fails
[12:45:40] *** Quits: ray1 (ray@moz-5i1.t3f.66.59.IP) (Ping timeout: 121 seconds)
[12:45:41] <tomaka> how does that work?
[12:45:45] <cmr> tomaka: why do you do rustup instead of language: rust?
[12:45:54] <tomaka> cmr: that's not travis
[12:45:59] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[12:46:00] <cmr> oh, sorry.
[12:46:10] *** Quits: Nickleoi (sailfish@moz-jsd.i1i.96.112.IP) (Ping timeout: 121 seconds)
[12:46:11] *** Joins: ismaelga (ismaelga@moz-efj.1n6.251.188.IP)
[12:46:20] <Amaranth> travis times out before the build finishes :P
[12:46:32] <huon> tomaka: don't you have to tell it to install somewhere that doesn't need sudo if you want to use --disable-sudo?
[12:46:32] *** Quits: rainemak (rainemak@moz-6btvus.gjaa.pi0p.0998.2001.IP) (Ping timeout: 121 seconds)
[12:46:34] <tomaka> Yeah I've had some issues with memor limits in travis
[12:46:40] <tomaka> memory*
[12:46:53] *** Joins: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP)
[12:46:54] <calatalee>  command | yes ?
[12:46:54] <tomaka> huon: I have no idea
[12:47:02] <huon> I would assume so
[12:47:09] <tomaka> I don't have access to my linux machine right now, so I can't test if things work
[12:47:14] *** Joins: jjthrash (jjthrash@moz-trc.kca.55.50.IP)
[12:47:16] <huon> I believe rustup has a --yes flag
[12:47:18] *** Quits: popow1 (Thunderbird@moz-03f.kd0.252.223.IP) (Connection closed)
[12:47:20] <tomaka> ah
[12:47:22] <cmr> calatalee: piping *too* yes isn't very fruitful.
[12:47:23] *** Joins: popow (Thunderbird@moz-03f.kd0.252.223.IP)
[12:47:24] <cmr> *to
[12:47:37] <calatalee> oops 
[12:47:41] <huon> cmr: y?
[12:47:47] <calatalee> haha
[12:48:04] *** Quits: blank_name (blank_name@moz-649u30.mi.frontiernet.net) (Quit: leaving)
[12:48:09] *** Joins: saml_ (saml@moz-rkfmct.res.rr.com)
[12:48:16] <calatalee> normally you would pipe yes to the command eg yes | command
[12:49:00] <huon> yeah (I was just making the joke :P )
[12:49:05] <Amaranth> You can tell whoever wrote yes for BSD back in the day was upset about scripts suddenly getting interactive on him
[12:49:08] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[12:50:06] <fkaa> does `yes` just spam `y`?
[12:50:10] *** Joins: PudgePacket (Mibbit@moz-obu378.tpgi.com.au)
[12:50:11] <Amaranth> The argument it takes is called expletive and it repeats forever
[12:50:15] <kali> fkaa: y
[12:50:15] <tomaka> Ahh the option `--yes` works
[12:50:17] *** Quits: fabiand (fabiand@moz-oabqel.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[12:50:25] <tomaka> \o/ thanks
[12:50:30] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[12:50:38] *** Joins: TheLemon1an (lemonboy@moz-d7e434.45-151.net24.it)
[12:50:41] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[12:50:45] <tomaka> this thing has been broken for almost a week now
[12:50:45] <fkaa> yes no
[12:51:25] <huon> tomaka: nice \o/
[12:52:06] *** Quits: TheLemonMan (lemonboy@moz-d7e434.45-151.net24.it) (Ping timeout: 121 seconds)
[12:52:42] *** Quits: akiss_ (akiss@moz-s2omc8.uio.no) (Ping timeout: 121 seconds)
[12:53:05] *** Joins: tomprogrammer (thomas@moz-b2v4k3.tr5r.qept.4dd0.2001.IP)
[12:53:15] *** Quits: frankmcs_ (frankmcsher@moz-he4chv.airspot.airfy.com) (Connection closed)
[12:54:14] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[12:54:34] <aatch> Man, x86 really packs functionality into it's instructions.
[12:54:37] *** Joins: maedhroz (maedhroz@moz-4jk5ho.res.rr.com)
[12:55:50] *** Joins: ehiggs (ehiggs@moz-pob5cp.ugent.be)
[12:56:19] *** Quits: larhat1 (Adium@moz-egv.ld6.128.213.IP) (Quit: Leaving.)
[12:57:18] *** Joins: v212 (vee@moz-kuj.kug.204.223.IP)
[12:58:25] *** Joins: ray1 (ray@moz-m8t.t3f.66.59.IP)
[12:58:39] *** Quits: maedhroz (maedhroz@moz-4jk5ho.res.rr.com) (Ping timeout: 121 seconds)
[13:00:36] *** Quits: v21 (vee@moz-kuj.kug.204.223.IP) (Ping timeout: 121 seconds)
[13:00:41] <aatch> The condition code-based instructions are annoyingly opaque too.
[13:00:54] <cmr> In what way?
[13:01:00] *** Joins: jviereck (Adium@moz-28htm3.ethz.ch)
[13:01:04] <aatch> cmr, like "ja"
[13:01:11] <cmr> Ah, to read you mean?
[13:01:17] *** Joins: d_rezzer (chatzilla@moz-t0fmuj.hfc.comcastbusiness.net)
[13:01:25] <aatch> I know it's a jump, but that 'a' is impossible to guess at the meaning.
[13:01:32] <cmr> well it's clearly "above" :P
[13:01:36] *** Joins: dhole (dhole@moz-47n32q.dynamic.jazztel.es)
[13:01:36] *** Quits: v212 (vee@moz-kuj.kug.204.223.IP) (Ping timeout: 121 seconds)
[13:01:42] <aatch> "jge" is nice and easy.
[13:01:47] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[13:02:12] <tomaka> "jge" obviously means "jump graciously and elegantly"
[13:02:20] <cmr> haha
[13:02:48] <aatch> cmr, well the 'a' condition code is when the carry-flag and the zero-flag are both set to zero.
[13:03:12] <aatch> cmr, in contrast to the 'b' condition code, which is when they're both set to 1
[13:03:39] *** Quits: yati (yati@moz-phu.79g.169.122.IP) (Quit: Leaving)
[13:03:42] <tomaka> and what would j.c. do? :3
[13:03:52] *** Joins: renderful (renderful@moz-atg40s.co.comcast.net)
[13:03:55] <mkpankov> that's insane
[13:03:57] <cmr> I guess I just have stockholm syndrome
[13:04:10] <cmr> mkpankov: it's not that bad, and it's super useful
[13:04:17] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[13:04:21] *** Joins: fabiand (fabiand@moz-3u5ogd.dip0.t-ipconnect.de)
[13:04:40] <aatch> Oh, it's incredibly useful. I'm just getting annoyed having to constantly look these instructions up.
[13:04:46] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[13:04:53] *** Quits: nyx (nyx@moz-ivelpd.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:04:54] <anomand> .filter(|s| s.len() > 0).collect() what is with the "|s|" there ?
[13:04:58] *** Joins: pgonda (peter@moz-otulp7.ma.comcast.net)
[13:05:02] <cmr> anomand: it creates a closure.
[13:05:16] <cmr> anomand: http://huonw.github.io/blog/2015/05/finding-closure-in-rust/
[13:05:19] <mkpankov> somehow ARMv7 looks much better in terms of this
[13:05:29] *** Joins: skade (skade@moz-u1j.1t9.225.62.IP)
[13:05:37] *** Quits: eerie (eerie@moz-7hv.miu.65.109.IP) (Connection closed)
[13:05:38] <mkpankov> (although I won't be able to remember details)
[13:05:44] *** Quits: popow (Thunderbird@moz-03f.kd0.252.223.IP) (Connection closed)
[13:05:44] <aatch> Isn't ARM a RISC architecture?
[13:05:46] <calatalee> How can I have two tcplisteners running at the same time?
[13:05:55] <calatalee> create a thread for each?
[13:06:04] <tomaka> calatalee: yes
[13:06:19] *** Joins: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com)
[13:06:21] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[13:06:24] <mkpankov> aatch: meaning can you have different jump versions? oh you can
[13:06:34] <anomand> cmr: thanks!
[13:06:41] <mkpankov> aatch: I'd say it's no RISC anymore
[13:07:03] <tomaka> calatalee: you can create a channel, clone the Sender so that you have one sender per TcpListener
[13:07:03] *** Joins: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net)
[13:07:19] <tomaka> calatalee: and when a Tcplistener receives a connection, it sends in on the channel
[13:07:32] <tomaka> this way you can wait on both listeners at the same time
[13:07:35] <aatch> I'm playing around with some of the numerical algorithms from Knuth's "The Art of Computer Programming"
[13:07:39] <mkpankov> aatch: there also were predicate instruction for example, my favorite. they stripped it down in ARMv8 :(
[13:07:54] *** Quits: renderful (renderful@moz-atg40s.co.comcast.net) (Ping timeout: 121 seconds)
[13:08:54] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[13:09:00] *** Joins: popow (Thunderbird@moz-03f.kd0.252.223.IP)
[13:09:01] *** Joins: mkpankov` (mkpankov@moz-o45.k4a.16.195.IP)
[13:09:04] *** Quits: jviereck (Adium@moz-28htm3.ethz.ch) (Ping timeout: 121 seconds)
[13:09:04] *** Joins: ahal (ahal@moz-b8e0a0.cpe.pppoe.ca)
[13:09:07] *** Joins: idegen (greg@moz-9c4nle.or.frontiernet.net)
[13:09:42] <aatch> One thing that's really handy in Rust is being able to use the add_with_overflow intrinsics and get result + carry in one go. Makes code way easier to understand compared to the equivalent C
[13:09:43] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[13:10:44] <aatch> Since in C you have to do a comparison after the fact, which isn't exactly obvious at first.
[13:11:17] *** Joins: tkellen (tkellen@moz-f5ji1n.vt.comcast.net)
[13:11:32] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[13:12:15] *** Quits: pgonda (peter@moz-otulp7.ma.comcast.net) (Ping timeout: 121 seconds)
[13:12:24] *** Joins: pgonda (peter@moz-otulp7.ma.comcast.net)
[13:12:25] *** Quits: nedp (nedp@moz-vg6vvt.bigpond.net.au) (Connection closed)
[13:12:56] *** Joins: emk- (mk@moz-v8jscg.dynamic.chello.pl)
[13:12:58] <emk-> hey
[13:13:07] *** Joins: tcard (tcard@moz-5eb1g3.staticIP.rima-tde.net)
[13:13:31] <mkpankov`> emk- hi
[13:13:34] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[13:14:29] *** Joins: v212 (vee@moz-kuj.kug.204.223.IP)
[13:14:51] <emk-> is there a way to override error: use of unstable library feature 'libc' ?
[13:15:06] *** Quits: mkpankov (user@moz-nleeis.partnertech.ru) (Ping timeout: 121 seconds)
[13:15:14] <aatch> emk-, not in beta
[13:15:24] *** Joins: Nickleoi (sailfish@moz-gkd.32t.96.112.IP)
[13:15:30] *** Joins: nico (nico@moz-bg79p6.dip0.t-ipconnect.de)
[13:15:30] <cmr> emk-: depend on the libc from crates.io
[13:15:33] <vks> emk: you can use the crate on crates.io AFAIK
[13:15:37] <cmr> not the one shipped with rustc
[13:16:01] <huon> playbot-mini: extern crate libc; fn main() {}
[13:16:02] -playbot-mini- <anon>:1:1: 1:19 error: use of unstable library feature 'libc'
[13:16:02] -playbot-mini- <anon>:1 extern crate libc; fn main() {}
[13:16:02] -playbot-mini- output truncated; full output at: http://bit.ly/1AKtSR3
[13:16:26] *** Quits: popow (Thunderbird@moz-03f.kd0.252.223.IP) (Connection closed)
[13:16:26] *** Joins: tadh (quassel@moz-iq6hhs.biz.rr.com)
[13:16:30] <vks> I think it is really confusing to have a libc in std and another on crates.io.
[13:16:33] <huon> argh, that error message sucks
[13:16:36] *** Joins: popow (Thunderbird@moz-03f.kd0.252.223.IP)
[13:16:56] <vks> It should really be mentioned in the docs of either.
[13:17:12] *** Quits: Nickleu (sailfish@moz-md1.shv.96.112.IP) (Ping timeout: 121 seconds)
[13:17:19] *** Quits: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net) (Connection closed)
[13:17:22] <huon> why is there no reason = "..." ?!?
[13:17:24] * huon adds one
[13:17:25] <emk-> sorry, it's my second day playing with rust
[13:17:51] <aatch> Shouldn't the one shipped with the compiler be called rustc_libc or something?
[13:18:05] <huon> emk-: no problem at all, this is our fault :)
[13:18:19] <huon> we have the tools to make the error message much more informative, but they're not being used in this case
[13:18:24] <calatalee> I don't quite understand how to use mpsc::channel? 
[13:18:25] <cmr> aatch: I think so: https://github.com/rust-lang/rust/issues/24853
[13:18:27] <huon> aatch: yeah, there's an issue about that too
[13:18:33] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Quit: )
[13:19:04] *** Joins: dzyp (hiatt@moz-ofiasr.static.qwest.net)
[13:19:04] <panicbit> huon: I think rand could use a similar doc
[13:19:17] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[13:19:26] *** Quits: Nickleoi (sailfish@moz-gkd.32t.96.112.IP) (Ping timeout: 121 seconds)
[13:19:27] <emk-> so with: extern crate libc; i'm using the crates.io libc, right?
[13:19:51] <cmr> emk-: not necessarily, you need to add it to your Cargo.toml.
[13:21:19] <huon> panicbit: oh, good point
[13:21:27] *** Quits: kngl (Adium@moz-m3a3bq.ipv4.evonet.be) (Quit: Leaving.)
[13:21:29] *** Joins: popow1 (Thunderbird@moz-03f.kd0.252.223.IP)
[13:21:59] <huon> r? cmr aatch https://github.com/rust-lang/rust/pull/25211 
[13:22:30] *** Quits: popow (Thunderbird@moz-03f.kd0.252.223.IP) (Ping timeout: 121 seconds)
[13:22:35] <calatalee> tomaka: when should I clone sender?
[13:22:46] *** Quits: saml_ (saml@moz-rkfmct.res.rr.com) (Connection closed)
[13:23:28] <tomaka> calatalee: for example:   `let (tx, rx) = channel(); for _ in (0 .. 4) { let tx = tx.clone(); thread::spawn(|| { ... use tx ... }) }`
[13:23:38] *** Joins: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net)
[13:23:41] *** Joins: kngl (Adium@moz-m3a3bq.ipv4.evonet.be)
[13:23:45] <tomaka> (and thread::spawn returns a guard that you must store somewhere)
[13:23:47] *** Joins: Nickleoi (sailfish@moz-a3r.e65.96.112.IP)
[13:23:56] *** Joins: Guest67 (textual@moz-rras9m.gwi.net)
[13:24:31] *** Joins: dawehner (quassel@moz-mhb.hhs.128.88.IP)
[13:24:40] <calatalee> How do I handle having the tcp listeners on different ports? tomaka 
[13:25:01] <tomaka> what the problem with that?
[13:25:13] *** Joins: Nickleu (sailfish@moz-gdi.pgr.96.112.IP)
[13:25:17] <calatalee> That just creates 4 identical  threads right?
[13:25:24] *** Joins: Lurkin3 (Lurkin@moz-p4efgs.mpls.qwest.net)
[13:25:26] <tomaka> Yeah that was an example
[13:25:44] *** Joins: _td (tatterdemal@moz-a0dnkb.ca.comcast.net)
[13:25:44] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[13:25:44] *** ChanServ sets mode: +o erickt
[13:25:51] <tomaka> You can write `for port in [80, 81, 101, 102] { ... }`
[13:26:03] <tomaka> actually I'm not sure, maybe you need `&`
[13:26:09] <tomaka> rusti: for _ in [1, 2, 3, 4] {}
[13:26:11] -playbot- <anon>:9:9: 9:33 error: the trait `core::iter::Iterator` is not implemented for the type `[_; 4]` [E0277]
[13:26:11] -playbot- <anon>:9         for _ in [1, 2, 3, 4] {}
[13:26:11] -playbot- output truncated; full output at: http://bit.ly/1FTC2fU
[13:26:14] <tomaka> rusti: for _ in &[1, 2, 3, 4] {}
[13:26:15] -playbot- ()
[13:26:33] *** Joins: frankmcsherry (frankmcsher@moz-fnrnnp.dyn.telefonica.de)
[13:26:38] <calatalee> And then can I just call the handle_client from within?
[13:26:39] <tomaka> or if you have a Vec<u16> containing the ports, you can write `for port in ports_list { ... }`
[13:26:49] *** Joins: lenstr (lenstr@moz-pm1.vju.25.171.IP)
[13:27:02] <tomaka> depends what "the handle_client" is
[13:27:04] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[13:27:32] <calatalee> To have different ones for each port?
[13:27:49] *** Quits: Nickleoi (sailfish@moz-a3r.e65.96.112.IP) (Ping timeout: 121 seconds)
[13:28:37] *** Joins: Nickleoi (sailfish@moz-bsh.q7c.8.175.IP)
[13:28:48] *** Quits: Lurkin2 (Lurkin@moz-p4efgs.mpls.qwest.net) (Ping timeout: 121 seconds)
[13:28:51] *** Quits: pgonda (peter@moz-otulp7.ma.comcast.net) (Ping timeout: 121 seconds)
[13:29:15] *** Quits: Nickleu (sailfish@moz-gdi.pgr.96.112.IP) (Ping timeout: 121 seconds)
[13:29:17] *** Joins: derek (derek@moz-dg9p20.retail.telecomitalia.it)
[13:29:25] *** Quits: popow1 (Thunderbird@moz-03f.kd0.252.223.IP) (Ping timeout: 121 seconds)
[13:29:50] *** Joins: jcpst (joe@moz-5f6pan.biz.rr.com)
[13:30:10] <derek> hi guys... I'm new here... can I have a pdf tutorial of rust lang if exist?
[13:30:21] <acgtyrant> what is static methods?
[13:30:30] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[13:30:51] <aatch> derek, as far as I know, there isn't a pdf of the Rust book.
[13:31:05] <aatch> derek, there is this though: http://doc.rust-lang.org/book/README.html
[13:31:27] <cmr> acgtyrant: it's a method that doesn't take a "self"
[13:31:37] <cmr> acgtyrant: so really it's just a function that is namespaced under a type.
[13:31:50] <cmr> (which is why I prefer to call them associated functions)
[13:32:12] <aatch> cmr, also seems more consistent with associated types and associated constants.
[13:32:39] *** Joins: mib_y9r7kw (Mibbit@moz-7en4n8.members.linode.com)
[13:32:50] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[13:33:06] <emk-> so basically it's not possible to use libc bindings shipped with beta at all?
[13:33:08] *** Joins: pgonda (peter@moz-otulp7.ma.comcast.net)
[13:33:19] <cmr> emk-: no, you need to use the ones from crates.io
[13:33:23] <aatch> emk-, correct.
[13:33:32] <emk-> ah, ok
[13:33:40] <cmr> (this is a Good Thing; you can pin to a version etc separate from whatever gets shipped with rustc for internal use by rustc)
[13:33:52] *** Quits: Nextra (Nextra@moz-9ert3d.osnanet.de) (Connection closed)
[13:34:17] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[13:34:27] <aatch> Dammit, I wish LLVM had an intrinsic for double-precision multiply.
[13:34:52] <cmr> aatch: what is "double-precision" if not f64?
[13:34:53] *** Joins: Nextra (Nextra@moz-9ert3d.osnanet.de)
[13:35:51] <aatch> cmr, not sure "double-precision" is the best name, but on x86 at least the result of `mul` instruction is spread over two registers.
[13:35:55] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Connection closed)
[13:35:56] *** Quits: lenstr (lenstr@moz-pm1.vju.25.171.IP) (Quit: Leaving...)
[13:36:01] *** Joins: akiss (akiss@moz-s2omc8.uio.no)
[13:36:42] <kagami> That error processing boilerplate drives me crazy: http://pastebin.com/Get0sGnT Is there any better way to handle many different errors during function execution?
[13:37:04] <cmr> aatch: ah, yeah
[13:37:12] *** AutomatedTester is now known as AutomatedTester|AFK
[13:37:16] <aatch> cmr, so you can multiply two 32-bit integers and get (in effect) a 64-bit answer.
[13:37:21] *** Quits: pgonda (peter@moz-otulp7.ma.comcast.net) (Ping timeout: 121 seconds)
[13:37:23] <cmr> right, yes.
[13:37:27] <acgtyrant> cmr, so it is, thank you!
[13:37:28] *** Quits: Lunatrius (Lunatrius@moz-mkv.hcu.38.77.IP) (Connection closed)
[13:37:49] <cmr> I thought you could use i64 %res = mul i32 %a, %b but I guess not
[13:37:51] *** Joins: Nickleu (sailfish@moz-j05.ii8.96.112.IP)
[13:38:23] <aatch> cmr, nope, I checked that after checking the intrinsics.
[13:38:34] *** Joins: vmx (vmx@moz-ojoj6q.dip0.t-ipconnect.de)
[13:38:58] *** Joins: Porkepix (Porkepix@moz-564nci.abo.wanadoo.fr)
[13:39:05] <dr4yyee> I wanna get started with Rust but what IDE would you recommend? IDEA seems a bit unfinished with the respective plugin, don't even know how to get that thing to run.
[13:39:16] *** Quits: jgallagher (john@moz-6ge.dhn.131.24.IP) (Client exited)
[13:39:23] <cmr> dr4yyee: most people just use a plain text editor with a terminal.
[13:39:42] <calatalee> Maybe this? https://github.com/oakes/SolidOak
[13:40:28] <calatalee> However it uses an embedded copy of neovim
[13:40:43] *** Quits: Nickleoi (sailfish@moz-bsh.q7c.8.175.IP) (Ping timeout: 121 seconds)
[13:40:52] <derek> thanx a lot, now I read your links!
[13:40:56] <calatalee> racer is good for both vim and emacs
[13:41:16] <cmr> and atom
[13:41:48] <aatch> kagami, that kind of boilerplate is what macros are for.
[13:42:32] *** Joins: gonzaloserrano1 (Adium@moz-1nv.3t7.97.62.IP)
[13:43:01] *** Quits: _td (tatterdemal@moz-a0dnkb.ca.comcast.net) (Ping timeout: 121 seconds)
[13:43:11] <calatalee> derek: Maybe try this if you are on windows https://github.com/PistonDevelopers/VisualRust 
[13:43:20] *** Joins: essem2 (Thunderbird@moz-0g3v4k.biz.rr.com)
[13:43:38] *** Lurkin3 is now known as Lurkin
[13:44:49] *** Quits: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP) (Ping timeout: 121 seconds)
[13:45:15] *** Joins: jsheldon (Stylez@moz-60nu73.fios.verizon.net)
[13:45:17] <dr4yyee> calatalee, thank you, gonna look into it when I happen to be on my linux machine :D
[13:45:17] <kimundi> playbot: let x = 5; const F: &'static Fn() -> i32 = || x; x
[13:45:18] -playbot- <anon>:9:55: 9:56 error: attempt to use a non-constant value in a constant
[13:45:18] -playbot- <anon>:9         let x = 5; const F: &'static Fn() -> i32 = || x; x
[13:45:18] -playbot- output truncated; full output at: http://bit.ly/1AKyjLU
[13:45:36] *** Quits: jsheldon (Stylez@moz-60nu73.fios.verizon.net) (Quit: leaving)
[13:45:53] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[13:46:18] <calatalee> Can somebody explain why there is no output to this program? http://is.gd/H3Y7iM
[13:46:25] <dr4yyee> not gonna ask whether to use vim or emacs though >.>
[13:46:52] <Ms2ger> nano
[13:47:11] <calatalee> our very own https://github.com/gchp/iota
[13:47:24] *** Quits: tamird (textual@moz-gg3hct.res.rr.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[13:47:25] *** Quits: vmx (vmx@moz-ojoj6q.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[13:47:30] *** Joins: mkpankov (user@moz-h0n.sma.198.91.IP)
[13:47:54] <anomand> How do I call the it_works function(lib.rs) from my /bin/bin.rs file ? I have imported the crate by using "extern crate foo" 
[13:48:10] <anomand> I can't get it working by use foo:lib
[13:48:17] <kagami> aatch: yea, but it would only hide boilerplate under the cover :/ It will be still here. Haskell has the same "problem" though: you often need to wrap/rewrap values just to make it compile. Strong typing is unpleasant sometimes. Though with exceptions it might have been better, but rust lacks them.
[13:48:32] <calatalee> anomand: you mean foo::lib?
[13:49:00] <cmr> anomand: foo::it_works
[13:49:47] <kimundi> calatalee: THe process ends when the main function ends, so I guess you spawbned threads never got the change to print something
[13:49:48] *** Joins: pgonda (peter@moz-otulp7.ma.comcast.net)
[13:49:56] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[13:50:07] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[13:50:07] *** ChanServ sets mode: +o erickt
[13:50:08] *** Quits: akiss (akiss@moz-s2omc8.uio.no) (Ping timeout: 121 seconds)
[13:50:20] <aatch> kagami, I don't think we have the same idea of what constitutes boilerplate.
[13:50:20] <calatalee> So how do I fix it? kimundi 
[13:50:34] <dr4yyee> calatalee, nice. It won't do anything rust-specific for now, does it? Plain text editor in development?
[13:50:48] <cmr> calatalee: http://is.gd/UEB98V
[13:51:04] <calatalee> Indeed dr4yyee
[13:51:05] <kimundi> calatalee: make sure the main thread is running/blocks as long as other threads are alive, eg by calling .join() on the handle the spawn() returns
[13:51:23] <anomand> cmr: When I use "foo::it_works()" I get rror: unresolved name `lplib::it_works`
[13:51:24] *** Joins: Stylez (Stylez@moz-60nu73.fios.verizon.net)
[13:51:30] <aatch> You can detach threads as well, right?
[13:51:53] <anomand> cmr: I'm using foo as an example, I'm calling it by lplib::it_works();
[13:51:58] <kimundi> calatalee: Like this: http://is.gd/x5FkED
[13:52:20] <calatalee> Yes, thanks kimundi and cmr
[13:52:35] <cmr> aatch: no, not right now.
[13:52:36] <emk-> thanks for the help, using libc from crates.io stuff compiles :)
[13:52:38] <kimundi> calatalee: You can also use messaeg passing or similar to create this block dependency, eg by waiting on a "done" message
[13:52:41] *** Joins: vmx (vmx@moz-ojoj6q.dip0.t-ipconnect.de)
[13:52:47] *** Quits: Nickleu (sailfish@moz-j05.ii8.96.112.IP) (Quit: IRC for Sailfish 0.9)
[13:53:23] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[13:53:26] <calatalee> How so kimundi ?
[13:54:04] <emk-> so the rustc-shipped libc bindings will stay "internal" or they will be usable?
[13:54:14] <kimundi> calatalee: Create a sender/receiver pair, have the main thread block on a .recv() and the child threads .send() a message if they are done
[13:54:15] <cmr> aatch: or rather, you can't detach them into their own threadgroup, which would prevent them from being killed when the main thread calls exit. they are pthread_detached by default if you don't join.
[13:54:27] <cmr> emk-: they'll stay internal.
[13:54:41] <emk-> cmr: thanks, noted
[13:54:45] *** Quits: vmx (vmx@moz-ojoj6q.dip0.t-ipconnect.de) (Quit: Leaving)
[13:54:50] *** Joins: vmx (vmx@moz-ojoj6q.dip0.t-ipconnect.de)
[13:55:07] *** Quits: PudgePacket (Mibbit@moz-obu378.tpgi.com.au) (Quit: http://www.mibbit.com ajax IRC Client)
[13:55:09] <kimundi> cmr: Do you know the reason why you can not detach them completely like this? platform differences?
[13:55:58] <cmr> kimundi: I'm not sure if it's possible on any platform :)
[13:55:59] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[13:56:05] *** Quits: pgonda (peter@moz-otulp7.ma.comcast.net) (Ping timeout: 121 seconds)
[13:56:07] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[13:56:14] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[13:56:15] <calatalee> kimundi: How do I block the main thread?
[13:56:41] *** Joins: Lunatrius (Lunatrius@moz-mkv.hcu.38.77.IP)
[13:56:45] <kimundi> calatalee: by using something that blocks, like those .join() methods or the .recv(), or something else in the std::sync module
[13:57:14] *** Joins: housl (housl@moz-qnjt4k.ut.comcast.net)
[13:57:53] <mkpankov> steveklabnik: you around?
[13:58:47] <calatalee> Hmm when creating the second tcp listener the thread always seems to panic
[13:58:57] <calatalee> They are on different ports
[13:59:00] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[13:59:08] *** Joins: happy-dude_ (uid62780@moz-jt3517.charlton.irccloud.com)
[13:59:14] <cmr> calatalee: playpen can't actually do networking
[13:59:21] <cmr> all those syscalls are blocked
[13:59:24] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[13:59:32] <calatalee> even on my machine
[13:59:36] <cmr> ah
[13:59:36] *** Joins: mib_ka786h (Mibbit@moz-enp.nj4.95.177.IP)
[13:59:50] *** Quits: smohan (smohan@moz-m6j.f0d.244.121.IP) (Connection closed)
[13:59:51] *** Joins: smohan (smohan@moz-m6j.f0d.244.121.IP)
[13:59:51] <cmr> Binding port 80 requires root.
[13:59:55] <cmr> as 80 < 1024
[14:00:18] <calatalee> ahh that would be it cmr
[14:00:37] <calatalee> Nope
[14:00:54] <calatalee> Oh yes
[14:00:57] *** Quits: mib_ka786h (Mibbit@moz-enp.nj4.95.177.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:01:22] <calatalee> I was trying under 80
[14:03:07] *** Joins: lutter1 (lutter@moz-7v7ueu.PUBLIC.monkeybrains.net)
[14:03:18] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[14:03:54] *** Joins: mib_c7vnw1 (Mibbit@moz-fnv5dv.il.comcast.net)
[14:04:39] *** Joins: renderful (renderful@moz-atg40s.co.comcast.net)
[14:05:31] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[14:05:40] <mib_c7vnw1> Hi. Last time I checked on Rust was half a year ago. Are there any exciting and significant new developments that would make it more practical yet?
[14:06:07] *** Quits: jophish (jophish@moz-epocft.broadband.tesco.net) (Connection closed)
[14:06:56] *** Quits: datalus (Andrew@moz-28gbmi.res.rr.com) (Connection closed)
[14:07:02] *** Quits: smohan (smohan@moz-m6j.f0d.244.121.IP) (Ping timeout: 121 seconds)
[14:07:02] *** Quits: alonlevy_ (alon@moz-8vcuc9.red.bezeqint.net) (Ping timeout: 121 seconds)
[14:07:13] *** Joins: trigen (MSX@moz-2vj6gq.tweaknet.net)
[14:07:14] <mib_c7vnw1> I see that 1.0 is due this month some time.
[14:07:18] <mkpankov> noticed TRPL uses 'empty tuple' as a substitute of 'unit' sometimes. I wonder if it's actually correct
[14:07:21] *** Joins: datalus (Andrew@moz-28gbmi.res.rr.com)
[14:07:22] *** Quits: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de) (Connection closed)
[14:07:38] <anomand> is CharEq no longer in the latest version ? I get "error: unresolved import `std::str::CharEq`" when tring to import it "use std::str::CharEq;'
[14:07:47] <cmr> mkpankov: while not strictly accurate, it's pretty much the same thing.
[14:08:00] <SneakySnake> mib_c7vnw1: That's one thing. It'll be released in a week, on May 15th, offering backwards compatibility. That's one practical benefit, not having to rewrite your code due to breaking changes.
[14:08:26] <mib_c7vnw1> Yeah definitely.
[14:08:41] *** Quits: renderful (renderful@moz-atg40s.co.comcast.net) (Ping timeout: 121 seconds)
[14:08:48] <mib_c7vnw1> Are there any standard libraries yet for HTTP?
[14:09:00] <cmr> hyper.
[14:09:08] <cmr> It's not in the stdlib but it's de facto
[14:09:22] <cmr> (I doubt http will ever be in the stdlib. that's what cargo is for0
[14:09:22] *** Joins: jophish (jophish@moz-epocft.broadband.tesco.net)
[14:09:34] <mib_c7vnw1> Oh.
[14:09:38] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[14:09:39] <mib_c7vnw1> Is hyper stable?
[14:09:50] <cmr> No.
[14:09:54] <mib_c7vnw1> Dang.
[14:10:00] <cmr> It's pretty stable, but it's not officially stable.
[14:10:11] <mib_c7vnw1> I'm eager to write some web apps in Rust.
[14:10:12] <calatalee> mib_c7vnw1: http://arewewebyet.com/
[14:10:23] <mib_c7vnw1> haha
[14:10:27] <mkpankov> cmr: well I do have the same feeling, looks like it's used this way because it's more intuitive
[14:10:56] *** Quits: mib_c7vnw1 (Mibbit@moz-fnv5dv.il.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[14:10:56] <cmr> mkpankov: there's really no practical difference, the only difference is that it's actually its own type in the compiler, and not represented as an empty tuple.
[14:11:00] *** Joins: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de)
[14:11:00] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[14:11:34] *** Quits: nodweber_ (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[14:11:41] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[14:11:46] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[14:11:57] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[14:12:03] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[14:12:04] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[14:12:35] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[14:12:37] *** Quits: arjun_ (arjun@moz-7ht.5jn.102.118.IP) (Ping timeout: 121 seconds)
[14:12:45] * mkpankov tries to think of something that would need to return empty tuples sometimes
[14:12:46] *** Quits: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP) (Connection closed)
[14:13:01] <cmr> There is no empty tuple besides unit :)
[14:13:23] <mkpankov> what if a function takes a Vec and makes a tuple out of it (it's superficial, just an example)
[14:13:36] <mkpankov> and empty Vec should be empty tuple, not unit?
[14:13:48] <cmr> Unit may as well be the empty tuple.
[14:13:57] <VShell> what's the difference between an empty tuple and a unit, mkpankov?
[14:14:08] <Ms2ger> There isn't one
[14:14:11] <cmr> There is no empty tuple besides unit
[14:14:40] *** Joins: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net)
[14:15:00] <mkpankov> VShell: to be honest, I don't strictly think there is one, we are just working on translation of TRPL and came to argue about terms :)
[14:15:06] <VShell> that's what I thought.
[14:15:45] <mkpankov> the other person claims there is
[14:15:57] *** Quits: James (quassel@moz-225vcm.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[14:15:59] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[14:15:59] <mkpankov> I don't think it's worth it
[14:16:42] *** Quits: dstrbad (dstrbad@moz-v485c3.cable.xnet.hr) (A TLS packet with unexpected length was received.)
[14:17:50] <kimundi> there is (), T and (T,), but no (,) afaik
[14:17:52] *** Quits: munksgaard (munksgaard@moz-33d.hq0.225.130.IP) (Ping timeout: 121 seconds)
[14:18:06] *** Joins: datalus_ (Andrew@moz-pf2oad.pearsontc.com)
[14:18:11] <cmr> () *is* the empty tuple for all practical purposes.
[14:19:05] *** Joins: lenstr (lenstr@moz-pm1.vju.25.171.IP)
[14:19:14] <mkpankov> I guess I have to agree and still I'll need to over-argue another contributor... sigh :)
[14:19:20] *** Quits: lenstr (lenstr@moz-pm1.vju.25.171.IP) (Quit: Leaving...)
[14:19:21] <mkpankov> thanks anyway
[14:20:35] <panicbit> Wikipedia says an empty tuple is also called unit (http://en.wikipedia.org/wiki/Tuple)
[14:20:40] <calatalee> How can I get  the path after the slash in a url from a tcpstream?
[14:20:47] *** Quits: datalus (Andrew@moz-28gbmi.res.rr.com) (Ping timeout: 121 seconds)
[14:21:34] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[14:21:35] *** rovar is now known as Guest13268
[14:21:35] *** rovar_ is now known as rovar
[14:21:51] *** chmanchester|afk is now known as chmanchester
[14:22:04] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[14:22:21] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[14:22:42] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[14:22:42] *** Quits: datalus_ (Andrew@moz-pf2oad.pearsontc.com) (Connection closed)
[14:22:54] <panicbit> calatalee: So you have a Path object? You can use Path::components (http://doc.rust-lang.org/nightly/std/path/struct.Path.html#method.components).
[14:23:06] *** Joins: datalus (Andrew@moz-28gbmi.res.rr.com)
[14:23:13] <mkpankov> panicbit: oh good! that might be it
[14:23:16] <panicbit> calatalee: Or probabbly just iter()
[14:23:46] <calatalee> as in I have a request 127.0.0.0/foo
[14:23:54] <calatalee> how can I get the foo bit?
[14:23:55] <panicbit> calatalee: But components() returns an iterator over enums which enables you to discard stuff you probably don't want
[14:24:38] *** Quits: saml (saml@moz-0pt9vd.cst.lightpath.net) (Connection closed)
[14:25:09] *** Quits: steshaw (uid30841@moz-eom82r.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[14:25:57] <panicbit> playbot: let p = std::path::Path::new("127.0.0.0/foo"); p.components().last() // calatalee 
[14:25:58] -playbot- Some(Normal("foo"))
[14:26:21] <calatalee> Yes but how do I get that from the request?
[14:26:45] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[14:26:51] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[14:27:12] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[14:27:20] *** Quits: c0a8 (joel@moz-6ampnk.gtri.gatech.edu) (Quit: WeeChat 1.1.1)
[14:27:39] *** Joins: c0a8 (joel@moz-ind.838.207.130.IP)
[14:27:42] <panicbit> calatalee: What kind of request? Do you use a framework like iron?
[14:28:07] *** Joins: saterus (saterus@moz-o0ug28.res.rr.com)
[14:28:08] <calatalee> Nope just a std::net::tcplistener
[14:29:38] <panicbit> calatalee: Then you need to parse the incoming data and stuff that into a Path
[14:30:04] <calatalee> hmm, gonna have to look up the http protocol
[14:30:21] <panicbit> calatalee: It's probably easier to just use a library for that =D
[14:30:25] *** Quits: kushal (kdas@moz-cbaein.202.sitibroadband.in) (Ping timeout: 121 seconds)
[14:30:37] <panicbit> calatalee: Is it just for learning or for something mor serious?
[14:30:39] *** Joins: dstrbad (dstrbad@moz-tjmago.dsl.iskon.hr)
[14:30:43] <panicbit> more*
[14:31:01] *** Joins: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net)
[14:32:15] <panicbit> calatalee: http://arewewebyet.com/ should give you an overview of the popular http libs and web frameworks
[14:32:30] *** Quits: anomand (andrew@moz-5b2.hnp.122.86.IP) (Quit: Lost terminal)
[14:32:35] *** Joins: Gamecubic (cubic@moz-bglmk5.mc.videotron.ca)
[14:33:19] <jorendorff> Is there any way to take a closure with non-'static lifetime and run it on another thread?
[14:33:34] *** Quits: martin (martin@moz-bmp33l.u0v6.gff7.1608.2001.IP) (A TLS packet with unexpected length was received.)
[14:33:36] *** Joins: martin_ (martin@moz-bmp33l.u0v6.gff7.1608.2001.IP)
[14:33:39] <kimundi> jorendorff: yes, with scoped threads
[14:34:32] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[14:34:32] <jorendorff> that's what i want. is the design settled yet? where should i go to read more?
[14:34:50] *** Joins: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de)
[14:35:06] * jorendorff looks at #24292
[14:35:17] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[14:36:27] *** Quits: Guest67 (textual@moz-rras9m.gwi.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:37:25] *** Joins: colinsurprenant (colin@moz-rmn4e2.169.electronicbox.net)
[14:37:51] *** Quits: DerisiveLogic (smuxi@moz-g93io6.res.rr.com) (Ping timeout: 121 seconds)
[14:38:07] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[14:38:46] *** Quits: martin_ (martin@moz-bmp33l.u0v6.gff7.1608.2001.IP) (A TLS packet with unexpected length was received.)
[14:39:08] *** Joins: martin_ (martin@moz-bmp33l.u0v6.gff7.1608.2001.IP)
[14:39:25] *** Joins: deadc0de_ (chsitter@moz-lrh.035.31.94.IP)
[14:40:18] <mkpankov> jorendorff: yeah, it's not stable and will most probably API will change
[14:40:19] *** Joins: zzing (textual@moz-jucm1n.cpe.distributel.net)
[14:40:50] <mkpankov> jorendorff: but in case you don't intend leaking JoinGuard s it's okay
[14:40:51] *** Joins: llogiq (andre@moz-ebe0kb.unity-media.net)
[14:41:24] *** AutomatedTester|AFK is now known as AutomatedTester
[14:41:50] <llogiq> Hi again. Is there a way to speed up the rust build?
[14:41:54] *** Joins: OtterCoder (quassel@moz-lij.rme.199.67.IP)
[14:42:12] *** Joins: kushal (kdas@moz-cbaein.202.sitibroadband.in)
[14:42:19] *** Quits: deadc0de (chsitter@moz-lrh.035.31.94.IP) (Ping timeout: 121 seconds)
[14:42:41] *** Joins: sad (Mibbit@moz-tpjl46.co.comcast.net)
[14:42:50] <llogiq> I haven't timed it, but it feels like more than an hour.
[14:42:52] *** Quits: ehiggs (ehiggs@moz-pob5cp.ugent.be) (Ping timeout: 121 seconds)
[14:43:18] <mkpankov> llogiq: do you build multiple crates or just one?
[14:43:21] <derek> pdf tutorial founded at http://web.mit.edu/rust-lang_v0.11/doc/tutorial.pdf
[14:43:26] *** Joins: saml (saml@moz-0pt9vd.cst.lightpath.net)
[14:43:32] <mkpankov> if multiple, try cargo build --jobs `nproc`
[14:43:44] <llogiq> I just went into rust/ and typed make.
[14:43:59] <mkpankov> ah, you mean rustc itself
[14:44:04] <mkpankov> I don't know, then
[14:44:07] <llogiq> Can cargo build rustc yet?
[14:44:13] *** Quits: sonder (chatzilla@moz-nt8r49.idi.ntnu.no) (Ping timeout: 121 seconds)
[14:44:15] <aatch> derek, that's quite old
[14:44:16] *** Joins: akiss (akiss@moz-s2omc8.uio.no)
[14:44:18] <mkpankov> I don't think so
[14:44:21] <mkpankov> ll
[14:44:34] <mkpankov> llogiq: I still think make -j would be quicker anyway
[14:44:38] <derek> I know...
[14:44:49] <aatch> derek, please don't read it, you'll only confuse yourself later
[14:44:54] <llogiq> mpankov, thanks, I will try that on the next build.
[14:44:55] <derek> sure?
[14:45:06] <mkpankov> derek: yep, he's very right :)
[14:45:19] <aatch> derek, a significant amount of the language has changed since 0.11
[14:45:20] <derek> ok, I trust you all...
[14:45:55] <derek> yes, like old D languagfe compared to new D lang
[14:45:58] <derek> yes, like old D language compared to new D lang
[14:46:28] <derek> new is completely different by old D
[14:46:31] *** Quits: sin8h (Adium@moz-f0u.cn5.51.106.IP) (Ping timeout: 121 seconds)
[14:47:10] <aatch> derek, I guess, except that we're only just now having a stable release.
[14:47:23] *** Joins: alexherbo2 (alex@moz-m1s.bcu.100.89.IP)
[14:47:34] *** Joins: dschatzberg (dschatz@moz-nk1clf.bu.edu)
[14:47:38] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[14:48:40] <derek> yes... u r right... in effect...
[14:49:20] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[14:50:18] *** Quits: RCIX (RCIX@moz-vnmep7.ph.cox.net) (Ping timeout: 121 seconds)
[14:51:04] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[14:51:15] *** Quits: erz (erz@moz-n26c5c.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:51:26] *** Joins: bfrog (tburdick@moz-hpc0jl.il.comcast.net)
[14:51:52] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[14:52:26] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[14:52:59] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[14:53:05] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:53:20] *** Quits: aatch (james@moz-is4j4r.cable.telstraclear.net) (Ping timeout: 121 seconds)
[14:53:33] *** Joins: Guest67 (textual@moz-m4uijf.lib.me.us)
[14:54:28] *** Quits: akiss (akiss@moz-s2omc8.uio.no) (Ping timeout: 121 seconds)
[14:54:53] *** Joins: deadc0de (chsitter@moz-lrh.035.31.94.IP)
[14:55:27] *** Joins: minot2 (kkus@moz-baj4jj.74.srtnet.com)
[14:55:29] *** Joins: Jesse (jruderman@moz-pqc1f5.ca.comcast.net)
[14:55:36] *** Joins: maedhroz (maedhroz@moz-4jk5ho.res.rr.com)
[14:55:51] *** Joins: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net)
[14:56:39] *** Joins: wave| (morgan@moz-8jm.nl2.113.24.IP)
[14:56:53] *** Joins: ytain (ytain@moz-pr2.aip.175.108.IP)
[14:56:56] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[14:57:40] *** Quits: Guest67 (textual@moz-m4uijf.lib.me.us) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:57:49] *** Quits: deadc0de_ (chsitter@moz-lrh.035.31.94.IP) (Ping timeout: 121 seconds)
[14:57:59] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[14:58:06] *** Joins: DerisiveLogic (smuxi@moz-1jqqlg.biz.rr.com)
[14:58:18] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[14:59:16] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[14:59:21] *** nsm|away is now known as nsm
[14:59:38] *** Quits: maedhroz (maedhroz@moz-4jk5ho.res.rr.com) (Ping timeout: 121 seconds)
[15:00:58] *** Quits: giucam_ (giucam@moz-72p.2a8.194.192.IP) (Ping timeout: 121 seconds)
[15:02:09] *** Quits: firemole (Thunderbird@moz-ok750a.thorcom.com) (Ping timeout: 121 seconds)
[15:03:41] *** Quits: tcard (tcard@moz-5eb1g3.staticIP.rima-tde.net) (Client exited)
[15:03:52] *** Joins: firemole (Thunderbird@moz-ok750a.thorcom.com)
[15:04:06] *** Joins: sigma (sigma@moz-llrbra.range86-135.btcentralplus.com)
[15:04:15] *** Joins: deadc0de_ (chsitter@moz-lrh.035.31.94.IP)
[15:05:23] *** Joins: renderful (renderful@moz-atg40s.co.comcast.net)
[15:06:16] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[15:07:08] *** Quits: deadc0de (chsitter@moz-lrh.035.31.94.IP) (Ping timeout: 121 seconds)
[15:07:13] *** Quits: dstrbad (dstrbad@moz-tjmago.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[15:07:56] *** Quits: firemole (Thunderbird@moz-ok750a.thorcom.com) (Ping timeout: 121 seconds)
[15:08:11] *** Joins: firemole (Thunderbird@moz-ok750a.thorcom.com)
[15:08:48] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Connection closed)
[15:08:53] *** Quits: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP) (Ping timeout: 121 seconds)
[15:09:24] *** Joins: Hannibal_Smith (nico@moz-hacth9.retail.telecomitalia.it)
[15:09:25] *** Quits: renderful (renderful@moz-atg40s.co.comcast.net) (Ping timeout: 121 seconds)
[15:10:00] <mkpankov> playbot: show(1)
[15:10:01] -playbot- 1
[15:10:02] -playbot- ()
[15:10:23] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[15:10:38] *** Joins: hcp (Mibbit@moz-hmu.n73.13.177.IP)
[15:10:40] <mkpankov> playbot: show(1); failme
[15:10:41] -playbot- <anon>:9:18: 9:24 error: unresolved name `failme`
[15:10:41] -playbot- <anon>:9         show(1); failme
[15:10:41] -playbot- output truncated; full output at: http://bit.ly/1Jw1eIA
[15:10:54] *** Quits: OtterCoder (quassel@moz-lij.rme.199.67.IP) (Ping timeout: 121 seconds)
[15:10:56] *** Quits: pavelpenev (quassel@moz-8vs4j7.btc-net.bg) (Connection closed)
[15:10:59] *** Joins: frankmcs_ (frankmcsher@moz-uaqde2.dyn.telefonica.de)
[15:11:02] *** Quits: elbow_json (elbow@moz-vj1.qot.30.50.IP) (Connection closed)
[15:11:02] <mkpankov> how come show is not in prelude?
[15:11:04] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[15:12:01] <bluss> mkpankov: it's a function from the playbot template
[15:12:02] *** Quits: skade (skade@moz-u1j.1t9.225.62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:12:13] <bluss> do you mean it should be in the prelude
[15:12:44] <hcp> irc! hopefully a simple question. Why don't trait objects implement the trait they are made of? Or do they and i'm missing something?
[15:12:47] <mkpankov> bluss: yeah I found out, I mean it's useful
[15:12:49] *** Joins: O01eg (o01eg@moz-sgb7te.m4if.3egh.2698.2a02.IP)
[15:12:50] <bluss> mkpankov: I'd almost agree, debug prints are a huge part of what you do when developing
[15:13:01] <bluss> println!("{:?}", x) is a bit noisy
[15:13:07] <mkpankov> yep
[15:13:22] *** Joins: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP)
[15:13:26] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[15:13:29] <bluss> hcp: they do if the trait is object safe, i.e. if trait objects can exist for that trait
[15:13:37] *** Quits: frankmcsherry (frankmcsher@moz-fnrnnp.dyn.telefonica.de) (Ping timeout: 121 seconds)
[15:13:43] <mkpankov> I saw RFC the other day suggesting we overload println! so that it understood it has to output single value when there's no template
[15:13:56] *** Joins: Racquetball (namestolenw@moz-dnlovt.cpe.twtelecom.net)
[15:14:00] <mkpankov> but that looks like an overkill, a simple function would do
[15:14:14] *** Quits: firemole (Thunderbird@moz-ok750a.thorcom.com) (Ping timeout: 121 seconds)
[15:14:31] *** Joins: alonlevy_ (alon@moz-nbm25c.012.net.il)
[15:14:43] <bluss> I would be fine with println!(1, 2, 3) too I think we can do that
[15:14:43] <acgtyrant> hello, i am studing this code: https://github.com/lilydjwg/swapview/blob/master/Rust/swapview.rs
[15:14:55] *** Quits: zzing (textual@moz-jucm1n.cpe.distributel.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:15:00] *** Joins: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP)
[15:15:00] <acgtyrant> what does #![[feature(io)]] and so on use?
[15:15:25] *** Joins: ahunt (ahunt@moz-2obh4g.cam.ac.uk)
[15:15:31] <Ms2ger> "use"?
[15:15:34] *** Joins: bfrog_ (tburdick@moz-hpc0jl.il.comcast.net)
[15:15:46] <Ms2ger> It makes some experimental features available to nightly builds
[15:15:59] *** Joins: firemole (Thunderbird@moz-ok750a.thorcom.com)
[15:16:15] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[15:16:18] <mkpankov> the only way to freeze a mutable value is to take an immutable reference to it?
[15:16:32] <Ms2ger> That'd work
[15:16:39] <Ms2ger> Or you could do let x = x;
[15:16:48] <acgtyrant> Ms2ger, where can i find the documentation about these experimental features?
[15:16:50] <mkpankov> ah that's what I was looking for
[15:17:13] *** Quits: pdgendt (pdgendt@moz-3q0nfd.access.telenet.be) (Connection closed)
[15:17:24] *** Quits: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP) (Ping timeout: 121 seconds)
[15:17:25] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[15:17:27] *** Quits: bfrog_ (tburdick@moz-hpc0jl.il.comcast.net) (Quit: WeeChat 1.0.1)
[15:17:34] <Ms2ger> steveklabnik would know
[15:17:44] *** Joins: SiegeLord (sl@moz-rlo.cft.184.50.IP)
[15:18:05] <bluss> acgtyrant: there is no explicit documentation for which unstable function belongs to which feature I think
[15:18:09] *** Joins: Kynes (Kynes@moz-j2us35.mit.edu)
[15:18:16] <bluss> acgtyrant: unstable API is documented
[15:18:21] <bluss> in the regular libstd docs
[15:18:31] <bluss> (libstd and the rest)
[15:19:04] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[15:19:22] <mkpankov> there's http://doc.rust-lang.org/nightly/reference.html#compiler-features but it looks outdated
[15:19:25] <[dmp]> Hi. Newbie here: I have a parameter p(&[u8]) in a function. I have let iter = p.iter(); and do; decode_integer(iter) .. I can't figure out what me function signature for decode_integer needs to be. Any pointers?
[15:20:10] *** Joins: Guest67 (textual@moz-m4uijf.lib.me.us)
[15:20:22] <mkpankov> [dmp]: you want the function to receive the int, not the iterator, do you?
[15:20:43] <hcp> bluss: are you sure? Tell me something, is the following trait object-safe? "trait Test {fn m(&self);}"
[15:20:54] *** Joins: bfrog_ (tburdick@moz-hpc0jl.il.comcast.net)
[15:20:55] <new_one> [dmp]: sometimes I put an obviously wrong type and then the compiler tells me what it should be
[15:21:03] <acgtyrant> mkpankov, i have read it, but it does not mention io, fs, os, path, core and so on these "features"
[15:21:14] <bluss> hcp: it is
[15:21:16] *** Quits: vks (quassel@moz-b54qc9.fias.uni-frankfurt.de) (Ping timeout: 121 seconds)
[15:21:20] *** Joins: jxv (jxv___@moz-2celrt.res.rr.com)
[15:21:24] <mkpankov> acgtyrant: yeah, as I said, probably outdated. maybe just the wrong place
[15:21:28] <acgtyrant> these features are all enabled in https://github.com/lilydjwg/swapview/blob/master/Rust/swapview.rs
[15:21:29] *** Joins: dstrbad (dstrbad@moz-tjmago.dsl.iskon.hr)
[15:21:37] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[15:21:38] <bluss> acgtyrant: probably only covers compiler features, not library feature flags
[15:22:09] *** Joins: jdm (jdm@moz-lgg87s.ckpj.s0pt.0450.2001.IP)
[15:22:09] *** ChanServ sets mode: +o jdm
[15:22:12] <[dmp]> mkpankov: I might be doing this all wrong. I get a binary packet I need decode. I figure instead of doing p[i] etc, it would be safer to use the iterator. So the idea is that decode_<type> takes the iterator and reads as many u8's as needed.. so i want it to use the iterator
[15:22:23] <acgtyrant> I am wondering how does lilydjwg find these features which is not documented...
[15:22:45] *** Joins: deadc0de (chsitter@moz-lrh.035.31.94.IP)
[15:22:45] <hcp> bluss: then what's wrong with this code? http://is.gd/BfIXEQ
[15:23:03] *** Quits: mib_y9r7kw (Mibbit@moz-7en4n8.members.linode.com) (Quit: http://www.mibbit.com ajax IRC Client)
[15:23:04] <llogiq> dmp: Another newb here. Do I understand this right, you want something like fn decode_integer(IntoIterator<Item=u8>) -> usize?
[15:23:28] <mkpankov> [dmp]: hehe, ^
[15:23:28] <Ms2ger> hcp, you should remove the .m()
[15:23:35] <hcp> my bad, http://is.gd/2LQKsA
[15:23:44] <hcp> (still not working tho)
[15:23:58] <[dmp]> llogiq: exactly 
[15:24:02] <llogiq> On the other hand, maybe you want to use https://crates.io/crates/byteorder
[15:24:09] <llogiq> instead of rolling your own.
[15:24:19] *** Joins: niconii (nicole@moz-5gqgia.frgo.qwest.net)
[15:24:20] <bluss> hcp: the type `Test` will impl `Test`. Not &Test or Box<Test> unfortunately
[15:24:39] <bluss> hcp: do this: fn foo<T: ?Sized + Test>(x: &T) { }
[15:25:05] *** Joins: KurtRustle (Mibbit@moz-rtu72a.dynamic.kabel-deutschland.de)
[15:25:24] <KurtRustle> what is the syntax for a static array? static NUMBERS: &'static [i32] = &'static [1, 2, 3, 4, 5]; doesnt seem to work
[15:25:34] <bluss> hcp: http://is.gd/5eBnDF
[15:25:41] *** Quits: deadc0de_ (chsitter@moz-lrh.035.31.94.IP) (Ping timeout: 121 seconds)
[15:26:04] *** Joins: brson (brson@moz-qjg.7vl.56.172.IP)
[15:26:04] *** ChanServ sets mode: +ao brson brson
[15:26:23] <Ms2ger> static NUMBERS: [i32; 5] = [1, 2, 3, 4, 5];?
[15:26:24] <[dmp]> llogiq: thanks - i might be able to learn some stuff from there :)  .. but i like to make my own, until it works.. then I make use some crate for it
[15:26:53] <bluss> hcp: http://is.gd/KVTbAp
[15:27:04] <KurtRustle> Ms2ger thanks
[15:27:09] <Ms2ger> Np
[15:27:28] <llogiq> [dmp], you're welcome.
[15:27:39] *** Quits: dstrbad (dstrbad@moz-tjmago.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[15:27:55] *** Joins: dstrbad (dstrbad@moz-tjmago.dsl.iskon.hr)
[15:27:56] *** Quits: bfrog_ (tburdick@moz-hpc0jl.il.comcast.net) (Ping timeout: 121 seconds)
[15:28:10] *** Quits: wave| (morgan@moz-8jm.nl2.113.24.IP) (Quit: Leaving)
[15:28:47] <brson> \o/ #rust
[15:28:54] *** Quits: dstrbad (dstrbad@moz-tjmago.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[15:30:38] <bluss> yay us. Did we do something?
[15:30:56] *** Quits: Guest67 (textual@moz-m4uijf.lib.me.us) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:31:40] <mkpankov> bluss: you mean what? :)
[15:31:53] <hcp> bluss: hey, thanks for the help
[15:32:01] *** Joins: giucam_ (giucam@moz-iv0nnc.bb.dnainternet.fi)
[15:32:02] <hcp> stil trying to digest this, though
[15:32:21] <bluss> hcp: I figured! yes, T is a ?Sized type parameter
[15:32:45] <bluss> those have to live behind a pointer, and we can pass both &i32 and &Test
[15:32:47] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[15:33:10] *** Joins: erz (erz@moz-n26c5c.broadband.corbina.ru)
[15:33:35] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[15:33:42] <hcp> like, why did the first iteration fail? when i had "fn foo<T:Test>(x:T) {}", why couldn't we pass a box<Test>?
[15:34:06] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[15:34:12] <bluss> Box<Test> doesn't impl Test. You can impl it manually, that's an option.
[15:34:21] <bluss> I don't know off hand why it's not automatic
[15:34:27] *** Quits: DerisiveLogic (smuxi@moz-1jqqlg.biz.rr.com) (Ping timeout: 121 seconds)
[15:34:29] <WindowsBunny> good morning rustaceans
[15:35:04] <hcp> yeah, that was my question to begin with, why isn't it automatic...
[15:35:25] <Ms2ger> Not all traits are object-safe, though
[15:35:42] <bluss> hcp: the automatic part is "impl Test for Test". If it's object safe.
[15:35:53] <bluss> Test being the name of a trait.
[15:35:59] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[15:36:01] *** Quits: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[15:36:16] *** Quits: squiddy (squiddy@moz-k0pj6r.dyn.telefonica.de) (Quit: Leaving)
[15:36:23] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[15:37:04] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[15:37:15] *** Quits: SiegeLord (sl@moz-rlo.cft.184.50.IP) (Quit: It's a joke, it's all a joke.)
[15:37:24] *** Joins: detsak (darren@moz-804egb.dyn.optonline.net)
[15:37:53] <hcp> hm. well, i'll think a little harder about it. Later irc!
[15:38:18] *** Quits: hcp (Mibbit@moz-hmu.n73.13.177.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:38:24] *** Joins: DerisiveLogic (smuxi@moz-1jqqlg.biz.rr.com)
[15:38:29] *** Quits: mkpankov` (mkpankov@moz-o45.k4a.16.195.IP) (Ping timeout: 121 seconds)
[15:38:31] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Ping timeout: 121 seconds)
[15:38:31] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[15:38:54] *** Quits: erz (erz@moz-n26c5c.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:39:06] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[15:39:07] *** Joins: Guest67 (textual@moz-m4uijf.lib.me.us)
[15:39:12] *** Joins: Guest63_ (textual@moz-qfs.570.70.83.IP)
[15:39:33] *** Joins: dstrbad (dstrbad@moz-tjmago.dsl.iskon.hr)
[15:39:48] *** Quits: eibwen (eibwen@moz-4ii.o4b.231.217.IP) (Ping timeout: 121 seconds)
[15:39:54] *** Joins: chc4 (chc4@moz-pdo0at.ma.comcast.net)
[15:40:11] *** Quits: CustosLimen (CustosLimen@moz-43o.etd.160.41.IP) (Ping timeout: 121 seconds)
[15:40:19] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Connection closed)
[15:40:26] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[15:40:38] *** Joins: harrisonclarke (harrisoncla@moz-8uv.oo2.212.173.IP)
[15:40:46] *** Quits: harrisonclarke (harrisoncla@moz-8uv.oo2.212.173.IP) (Connection closed)
[15:41:27] *** Joins: eibwen (eibwen@moz-96pnjp.dip0.t-ipconnect.de)
[15:41:52] *** Quits: v212 (vee@moz-kuj.kug.204.223.IP) (Ping timeout: 121 seconds)
[15:42:25] *** Quits: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[15:43:07] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[15:43:20] *** Quits: alonlevy_ (alon@moz-nbm25c.012.net.il) (Ping timeout: 121 seconds)
[15:43:25] *** Joins: Fiveside (fiveside@moz-t2eatg.vsp.com)
[15:43:37] *** Joins: Savago (Savago@moz-8hd.3b6.246.162.IP)
[15:43:38] *** Joins: ryanxcharles (ryan@moz-lcf.eq6.124.64.IP)
[15:43:40] <mkpankov> is it correct to say that a reference is just a pointer at runtime, and all the difference is at compile time?
[15:44:00] <brson> twir desires quotes https://users.rust-lang.org/t/twir-quote-of-the-week/328/47
[15:44:11] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[15:44:23] *** Quits: vodik (simon@moz-86ind4.dedicated.allstream.net) (Quit: WeeChat 1.1.1)
[15:44:30] *** Joins: vodik (simon@moz-86ind4.dedicated.allstream.net)
[15:44:39] *** Joins: harrisonclarke (harrisoncla@moz-03qrro.eastlink.ca)
[15:44:43] *** Quits: dstrbad (dstrbad@moz-tjmago.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[15:45:55] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[15:45:58] <Ms2ger> mkpankov, sure
[15:46:15] <mkpankov> good
[15:47:17] <pylos> String's from_utf8 method takes a vec<u8>.  I currently have an [u8;4], that I want to pass to the from_utf8 function.
[15:47:23] <pylos>  Is the best way to do this: String::from_utf8(some_array.iter().cloned().collect()).unwrap()?
[15:47:35] *** Quits: ebel (rory@moz-l1ldq7.hsi4.kabel-badenwuerttemberg.de) (Connection closed)
[15:47:55] <Ms2ger> Use std::str::from_utf8(&foo)
[15:48:04] <apoelstra> what are the conditions for being in the authors file?
[15:48:20] <Ms2ger> And add .to_owned() to that if you need to
[15:48:24] <apoelstra> i've got 16 commits an a RFC, can i be an author?
[15:48:27] <bluss> pylos: .to_vec() is easy to type
[15:48:30] <Ms2ger> apoelstra, you should already be
[15:48:53] <apoelstra> Ms2ger: ohh, i am
[15:48:56] <apoelstra> sorry, i should've checked :)
[15:49:23] *** Joins: renderful (renderful@moz-atg40s.co.comcast.net)
[15:50:44] *** Quits: jjthrash (jjthrash@moz-trc.kca.55.50.IP) (Connection closed)
[15:50:52] <pylos> Ms2ger: what is the difference between cloning and calling to_owned()?  How does it transfer ownership without cloning?
[15:51:04] *** Joins: Verdagon (Verdagon@moz-ff302e.ca.comcast.net)
[15:51:15] <Ms2ger> pylos, to_owned() is like to_vec(), but for more things
[15:51:26] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:52:25] <bluss> Ms2ger: ah, a bit of an annoying redundancy
[15:52:50] <Ms2ger> It's what makes Cow tick
[15:52:59] <bluss> Cows love it
[15:53:17] *** Quits: Guest67 (textual@moz-m4uijf.lib.me.us) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:53:37] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[15:53:38] <bluss> pylos: .to_owned() is a method from a trait, and it does the same thing as your solution or .to_vec() too
[15:54:02] *** Quits: Guest63_ (textual@moz-qfs.570.70.83.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:54:04] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[15:54:04] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Connection closed)
[15:54:25] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[15:54:48] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[15:54:48] *** ChanServ sets mode: +o erickt
[15:54:56] <Ms2ger> brson, you need a quote? "Whats a closure?" -huonw
[15:55:13] *** chmanchester is now known as chmanchester|afk
[15:55:24] *** Joins: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP)
[15:56:35] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[15:57:13] *** Quits: timj (timj@moz-0dl3bs.dip0.t-ipconnect.de) (Quit: Leaving.)
[15:57:19] *** Quits: eibwen (eibwen@moz-96pnjp.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[15:57:38] *** Joins: srh (User@moz-s2fgkg.q9f2.utp8.0306.2602.IP)
[15:58:27] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Ping timeout: 121 seconds)
[15:58:28] *** Joins: Izacht13 (Izacht13@moz-oqb.nch.45.199.IP)
[15:58:40] <pylos> bluss: alright, thanks
[15:58:48] *** Quits: eric_lagergren (barsonme@moz-lr1hrn.wa.comcast.net) (Ping timeout: 121 seconds)
[15:59:29] *** Joins: OtterCoder (quassel@moz-p97qam.onrq.kn87.100e.2600.IP)
[16:00:02] *** Quits: michael2 (michael@moz-9vjtig.mo.charter.com) (Quit: WeeChat 1.1.1)
[16:00:35] *** Joins: eibwen (eibwen@moz-96pnjp.dip0.t-ipconnect.de)
[16:00:37] <pylos> bluss: to_vec() returns a vector, how does the conversion from array to vec work with to_owned()?  With FromIterator on vec like my original solution?
[16:00:39] *** Joins: Viewtiful (Viewtiful@moz-kf71rl.abo.wanadoo.fr)
[16:01:00] *** Joins: mahdi (mahdi@moz-qd2.8nj.244.151.IP)
[16:01:36] *** Quits: Viewtiful (Viewtiful@moz-kf71rl.abo.wanadoo.fr) (Quit: Leaving...)
[16:02:17] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[16:02:28] <bluss> pylos: .to_owned() just calls .to_vec(), I looked it up
[16:02:55] *** Joins: brainproxy (michael@moz-9vjtig.mo.charter.com)
[16:03:06] *** Joins: raziellight (fdf@moz-rc3nss.cg.shawcable.net)
[16:03:16] <bluss> .to_vec() uses Vec::push_all, which is implemented with Vec::reserve and basic operations
[16:03:40] *** Joins: erz (erz@moz-n26c5c.broadband.corbina.ru)
[16:03:58] *** Joins: bfrog_ (tburdick@moz-hpc0jl.il.comcast.net)
[16:04:01] *** Parts: raziellight (fdf@moz-rc3nss.cg.shawcable.net) ()
[16:04:09] *** Quits: laparca (laparca@moz-rgcs06.mgob.kh00.0488.2a01.IP) (Quit: Leaving.)
[16:05:02] *** Quits: mahdi (mahdi@moz-qd2.8nj.244.151.IP) (Ping timeout: 121 seconds)
[16:05:36] *** Quits: erz (erz@moz-n26c5c.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:05:52] *** Quits: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de) (Connection closed)
[16:06:40] *** Quits: wei2912 (wei2912@moz-ffo.5hb.156.175.IP) (Quit: Lost terminal)
[16:06:59] <pylos> bluss: alright.  some_array.iter().cloned().collect(), I'm able to assign the result of this to a vec of the same type.  How does that conversion work?
[16:07:33] *** Joins: GaryOak_ (GaryOak_@moz-etoj16.hfc.comcastbusiness.net)
[16:07:41] *** Joins: lov2cod (Adium@moz-k1q32r.o38v.k60l.0119.2620.IP)
[16:07:45] <Ms2ger> Look for the FromIterator<T> implementation for Vec<T>
[16:07:54] *** Joins: gopar (gopar@moz-5039uj.ca.comcast.net)
[16:08:29] *** Quits: ahunt (ahunt@moz-2obh4g.cam.ac.uk) (Ping timeout: 121 seconds)
[16:09:42] *** Quits: Verdagon (Verdagon@moz-ff302e.ca.comcast.net) (Client exited)
[16:09:44] *** Joins: Guest67 (textual@moz-m4uijf.lib.me.us)
[16:09:50] *** Quits: ismaelga (ismaelga@moz-efj.1n6.251.188.IP) (Connection closed)
[16:09:54] *** Joins: ismaelga (ismaelga@moz-efj.1n6.251.188.IP)
[16:10:27] *** Joins: pavelpenev (quassel@moz-8vs4j7.btc-net.bg)
[16:10:34] <pylos> Ms2ger: yea, I saw that.. when I'm doing the assignment, what actually invokes the from_iter function?  I think that is what throws me
[16:10:48] *** Joins: killercup (killercup@moz-qj5qhi.dip0.t-ipconnect.de)
[16:10:55] <pylos> Is the compiler handling that as a special case?
[16:10:59] *** Quits: eibwen (eibwen@moz-96pnjp.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[16:11:04] *** Joins: jxcl (abliskovsky@moz-o4k.t5t.173.207.IP)
[16:11:10] *** Joins: wolfviking0_ (wolfviking0@moz-76u.vqt.177.166.IP)
[16:11:10] *** Quits: timonv (timonv@moz-7btgcn.dynamic.ziggo.nl) (Ping timeout: 121 seconds)
[16:11:37] *** Quits: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP) (Ping timeout: 121 seconds)
[16:11:37] *** wolfviking0_ is now known as wolfviking0
[16:11:51] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[16:12:07] *** Joins: sin8h (Adium@moz-f0u.cn5.51.106.IP)
[16:12:25] <bluss> not a special case, just some traits involved
[16:12:29] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:12:35] <bluss> .collect() on Iterator and FromIterator
[16:12:48] *** Joins: alonlevy_ (alon@moz-nbm25c.012.net.il)
[16:13:10] <acgtyrant> why there is no the details of `to_string()` in https://doc.rust-lang.org/std/str/?
[16:13:38] *** Quits: wolfviking0 (wolfviking0@moz-76u.vqt.177.166.IP) (Connection closed)
[16:13:50] <acgtyrant> i find it: https://doc.rust-lang.org/std/string/index.html
[16:14:24] <bluss> acgtyrant: it's implemented in a roundabout way
[16:14:25] *** Joins: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP)
[16:14:41] <bluss> acgtyrant: Just blanket impl for everything that impls Display
[16:14:48] <bluss> you'll find Display in the list instead
[16:14:55] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[16:14:58] <bluss> (for any particular trait that implements Display)
[16:15:03] *** Quits: ismaelga (ismaelga@moz-efj.1n6.251.188.IP) (Quit: Leaving...)
[16:16:17] *** Joins: Colglazier (uid64399@moz-rp9ic4.irccloud.com)
[16:16:31] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[16:16:34] <hoverbear> ctjhoa: Thanks for the plug!
[16:16:58] *** Joins: eibwen (eibwen@moz-96pnjp.dip0.t-ipconnect.de)
[16:17:08] *** Joins: AngelOfSol (AngelOfSol@moz-dj58kc.rh.rit.edu)
[16:17:20] *** Quits: frankmcs_ (frankmcsher@moz-uaqde2.dyn.telefonica.de) (Connection closed)
[16:18:05] *** Joins: nicoch (nicoch@moz-g02d7k.be)
[16:18:12] *** Quits: m-r-r (mrr@moz-uvfnet.abo.wanadoo.fr) (Quit: leaving)
[16:18:44] *** Joins: sayan (sayan@moz-ip8.595.51.106.IP)
[16:18:53] *** Joins: ehiggs (ehiggs@moz-939f42.1fqp.rav1.1812.2a02.IP)
[16:19:06] *** Quits: mkpankov (user@moz-h0n.sma.198.91.IP) (Ping timeout: 121 seconds)
[16:19:42] *** Quits: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP) (Connection closed)
[16:19:53] <Ms2ger> pylos, yeah, Iterator::collect() just calls FromIterator::from_iter() with the arguments swapped, for coherence reasons
[16:19:54] *** Quits: thiblahute (tsaunier@moz-68f5rr.rev.sfr.net) (Ping timeout: 121 seconds)
[16:19:55] *** Joins: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP)
[16:20:11] <seanmonstar> pylos: are you hoping to turn the [u8; 4] into a char?
[16:20:19] *** Joins: abcrawf (abcrawf@moz-11rs77.acrawford.com)
[16:21:08] *** Joins: hjr3 (hradtke@moz-dmp.av4.169.69.IP)
[16:21:08] *** Quits: nstoddard (nstoddard@moz-urhoua.resnet.purdue.edu) (Quit: ChatZilla 0.9.91.1 [Firefox 37.0.2/20150415140819])
[16:21:09] <mikedanese> any way to do async io on sockets with the std lib?
[16:21:18] <acgtyrant> bluss, thank you!
[16:21:21] <mikedanese> can't find any good (recent) doc
[16:21:26] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[16:21:32] <seanmonstar> mikedanese: not with libstd
[16:21:36] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[16:21:36] <pylos> seanmonstar: turn the [u8; 4] into a string, with each u8 as a char, yea
[16:21:44] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[16:21:55] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Quit: Leaving.)
[16:22:17] <seanmonstar> pylos: oh ok. since that 4 bytes can be a single char, i wondered if you were converting to str to get the char
[16:22:22] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[16:22:24] *** Quits: eibwen (eibwen@moz-96pnjp.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[16:22:44] *** Joins: jimb (user@moz-09a.i8g.126.207.IP)
[16:23:05] *** Joins: erz (erz@moz-n26c5c.broadband.corbina.ru)
[16:23:06] <mikedanese> seanmonstar: hmm okay. any rust libraries that can do it?
[16:23:14] <seanmonstar> mikedanese: theres mio
[16:23:32] *** Joins: eibwen (eibwen@moz-96pnjp.dip0.t-ipconnect.de)
[16:23:39] <seanmonstar> https://crates.io/crates/mio
[16:23:52] <mikedanese> okay awesome. I'll take a look. thanks
[16:25:16] *** Quits: trigen (MSX@moz-2vj6gq.tweaknet.net) (Connection closed)
[16:25:23] <rovar> if you have any questions, there is also #mio on this server
[16:25:38] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:25:47] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[16:26:10] <hoverbear> mikedanese: Mio is great stuff. :)
[16:26:57] *** Quits: derek (derek@moz-dg9p20.retail.telecomitalia.it) (Ping timeout: 121 seconds)
[16:27:03] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[16:27:26] *** Joins: peeves (Mibbit@moz-05i3a1.members.linode.com)
[16:27:28] *** Joins: mjewkes (mjewkes@moz-03qrro.eastlink.ca)
[16:27:54] *** Quits: shellac (pldms@moz-c7026f.bris.ac.uk) (Ping timeout: 121 seconds)
[16:28:15] *** Quits: bfrog_ (tburdick@moz-hpc0jl.il.comcast.net) (Quit: WeeChat 1.0.1)
[16:28:23] *** Quits: Ralith (ralith@moz-tiaj7p.customer.broadstripe.net) (Ping timeout: 121 seconds)
[16:28:34] <mikedanese> I'm reimplenting a tcp proxy in rust that is currently written in go
[16:29:41] <mikedanese> I've noticed a really long tail on the latency distribution with the current one. I'm excited to see how rust handles this kind of task
[16:29:57] *** Quits: brson (brson@moz-qjg.7vl.56.172.IP) (Quit: leaving)
[16:30:06] *** Joins: brson (brson@moz-qjg.7vl.56.172.IP)
[16:30:07] *** ChanServ sets mode: +ao brson brson
[16:30:17] <ville> it gets stuck and won't go 
[16:30:17] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[16:30:38] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[16:30:48] <seanmonstar> ba dum tish
[16:31:46] *** Quits: DerisiveLogic (smuxi@moz-1jqqlg.biz.rr.com) (Ping timeout: 121 seconds)
[16:31:56] *** Quits: rmgk (ragnar@moz-4ki0t6.dyn.telefonica.de) (A TLS packet with unexpected length was received.)
[16:33:11] *** Joins: rmgk (ragnar@moz-4ki0t6.dyn.telefonica.de)
[16:34:12] <gleb> I can't seem to make end-to-end lifetime inference of the type `fn foo(&'a A) -> &'a B` work. what am I doing wrong here: http://is.gd/PdP1Yv
[16:34:24] *** chmanchester|afk is now known as chmanchester
[16:34:33] *** Quits: erz (erz@moz-n26c5c.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:34:40] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[16:35:16] *** Quits: lov2cod (Adium@moz-k1q32r.o38v.k60l.0119.2620.IP) (Ping timeout: 121 seconds)
[16:35:22] *** Joins: bfrog_ (tburdick@moz-hpc0jl.il.comcast.net)
[16:35:35] *** Quits: bfrog (tburdick@moz-hpc0jl.il.comcast.net) (Quit: WeeChat 1.1.1)
[16:36:18] *** Quits: dawehner (quassel@moz-mhb.hhs.128.88.IP) (Connection closed)
[16:36:21] *** Quits: saterus (saterus@moz-o0ug28.res.rr.com) (Connection closed)
[16:36:25] <hoverbear> mikedanese: If you need a bit of a start with mio this might help www.hoverbear.org/2015/03/04/getting-acquainted-with-mio/
[16:36:33] *** Quits: sin8h (Adium@moz-f0u.cn5.51.106.IP) (Quit: Leaving.)
[16:36:43] *** Joins: saterus (saterus@moz-o0ug28.res.rr.com)
[16:36:46] *** Joins: DerisiveLogic (smuxi@moz-1jqqlg.biz.rr.com)
[16:37:26] *** Quits: alexherbo2 (alex@moz-m1s.bcu.100.89.IP) (Quit: WeeChat 1.1.1)
[16:38:02] <terpstra> gleb, http://is.gd/kKTpyj
[16:38:05] <seanmonstar> gleb: the s.as_ref() is creating a refernce to the Option in `s`, that lives inside the stack of the method. you're then returning a reference to *that* ref. The first ref to s will clean up at the end of the method
[16:38:17] <seanmonstar> so you're left with the return value pointing at freed memory
[16:38:34] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:39:37] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[16:39:39] <Ms2ger> http://is.gd/B6oCuz
[16:39:45] <GaryOak_> hoverbear: that EventLoop::<(), String>::new() syntax is weird
[16:39:50] *** AutomatedTester is now known as AutomatedTester|AFK
[16:39:50] <gleb> terpstra: that's interesting. can you put it in words also? :) I may not be able to forgo the lifetime parameter on Foo
[16:40:31] *** Quits: khades (Thunderbird@moz-u45.3vk.74.212.IP) (Client exited)
[16:40:43] <terpstra> gleb, well, i didn't really get the context of what you were trying to do, but your trait said that the lifetime of &self and the Baz are the same, but i don't think this is what you meant.
[16:40:45] *** Quits: saterus (saterus@moz-o0ug28.res.rr.com) (Ping timeout: 121 seconds)
[16:40:59] *** Quits: OtterCoder (quassel@moz-p97qam.onrq.kn87.100e.2600.IP) (Ping timeout: 121 seconds)
[16:41:00] <terpstra> i assume the reference that Bar::bar is returning is supposed to have the lifetime of the reference in the object
[16:41:12] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[16:41:15] <terpstra> not the reference of the reference you used to call .bar()
[16:41:24] <terpstra> so i just wrote what i assumed you were trying to do ?
[16:41:40] <mikedanese> hoverbear: thanks, I'll take a read
[16:41:47] <terpstra> not the lifetime of the reference you used to call .bar()
[16:41:49] <gleb> terpstra: okay, thanks, I'll mull on that
[16:42:03] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[16:42:16] *** Quits: gonzaloserrano1 (Adium@moz-1nv.3t7.97.62.IP) (Quit: Leaving.)
[16:42:20] *** Quits: lyc (lyc@moz-jft.nr8.226.207.IP) (Connection closed)
[16:42:55] <gleb> Ms2ger: thanks, but consuming self may not work.. I'll think more with both of the examples in front of me.. :)
[16:42:56] *** Joins: OtterCoder (quassel@moz-p97qam.onrq.kn87.100e.2600.IP)
[16:43:24] <terpstra> the point is that "Bar" is a trait for objects that have a reference of lifetime 'a. when you call bar(), the &self is a reference to the Bar object. that reference probably has a shorter lifetime than the object Bar itself (the &self reference should end on call return). my version removed the 'a from &self,,,
[16:44:15] <gleb> terpstra: yeah I may've put too mych parameters in there trying to reproduce my problem quickly
[16:44:20] *** Joins: Twinklebear (Twinklebear@moz-b2b.o78.110.128.IP)
[16:44:29] <gleb> *too many
[16:44:47] *** ahal is now known as ahal|lunch
[16:44:55] *** Joins: JosiahOne|Work1 (Thunderbird@moz-ub5.sco.30.4.IP)
[16:45:17] <forgottenone> how can i private method in impl EnumType block
[16:45:27] <forgottenone> how can i define* private method in impl EnumType block
[16:45:48] *** Quits: colinsurprenant (colin@moz-rmn4e2.169.electronicbox.net) (Client exited)
[16:46:26] *** Quits: JosiahOne|Work (Thunderbird@moz-f2hp7h.biz.rr.com) (Ping timeout: 121 seconds)
[16:46:42] <Mutabah> forgottenone: If it isn;t pub, it's private
[16:47:33] *** Joins: jjthrash (jjthrash@moz-trc.kca.55.50.IP)
[16:47:46] <forgottenone> Mutabah: thanks
[16:47:46] * Mutabah is away (Bike and Sleep)
[16:47:55] <Mutabah> (derp, didn't clear)
[16:48:46] *** Joins: pgonda (peter@moz-otulp7.ma.comcast.net)
[16:48:59] *** Joins: JosiahOne|Work (Thunderbird@moz-f2hp7h.biz.rr.com)
[16:49:42] *** Quits: Guest67 (textual@moz-m4uijf.lib.me.us) (Quit: Textual IRC Client: www.textualapp.com)
[16:49:57] <peeves> In rust the type of "class" equal struct + impl ?
[16:50:26] *** Quits: JosiahOne|Work1 (Thunderbird@moz-ub5.sco.30.4.IP) (Ping timeout: 121 seconds)
[16:50:34] <Mutabah> peeves: Pretty much
[16:50:58] *** Joins: khades (Thunderbird@moz-u45.3vk.74.212.IP)
[16:51:11] <llogiq> cu folks.
[16:51:14] *** Quits: llogiq (andre@moz-ebe0kb.unity-media.net) (Quit: Verlassend)
[16:51:43] <peeves> so why not use the keywords "class"?
[16:51:49] *** Joins: Shackra (Jorge@moz-7bh.ng6.177.186.IP)
[16:52:01] <cmr> peeves: it's not quite the same thing.
[16:52:05] *** Joins: timj (timj@moz-0dl3bs.dip0.t-ipconnect.de)
[16:52:13] <cmr> Our trait system is more flexible than an OOP class system.
[16:53:20] *** Joins: lov2cod (Adium@moz-40l.ob1.22.8.IP)
[16:53:46] *** Joins: abaez (abaez@moz-pqg1ef.fios.verizon.net)
[16:54:07] <Mutabah> peeves: impl blocks can apply to enums too
[16:54:26] *** Joins: mdibaiee (mahdi@moz-qd2.8nj.244.151.IP)
[16:54:29] <mbrubeck> peeves: Rust has types, traits, and impls.  An impl connects a type to a trait.  Traits are more like Haskell typeclasses than Java or C++ classes.
[16:54:33] *** Quits: hjr3 (hradtke@moz-dmp.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:54:44] <mbrubeck> Even primitive types like `char` can have impls!
[16:55:10] <kali> mbrubeck: peeves: rust trait look a lot like the new java 8 interfaces though
[16:55:31] *** Joins: mib_3ekv1u (Mibbit@moz-i7cb3r.fios.verizon.net)
[16:55:32] <niconii> peeves: there's no inheritance either, unlike classes
[16:55:34] <kali> mbrubeck: peeves: they can bring default implementation
[16:55:52] *** Quits: mib_3ekv1u (Mibbit@moz-i7cb3r.fios.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[16:56:11] <cmr> niconii: trait inheritance is a thing.
[16:56:14] <seanmonstar> mbrubeck: i think of traits as Java interfaces
[16:56:29] *** Joins: maedhroz (maedhroz@moz-4jk5ho.res.rr.com)
[16:56:51] *** Joins: wldcordeiro (wldcordeiro@moz-pvsror.ut.comcast.net)
[16:56:57] <terpstra> one VERY nice thing about traits vs. interfaces ... other people can implement an interface for an existing type
[16:57:37] <niconii> cmr: in what sense?
[16:57:37] <terpstra> so, if some library has String, and you defined a fancy trait/interface for things that can be compressed. you can implement this trait for String
[16:57:44] *** Joins: Ralith (ralith@moz-miv.lne.251.63.IP)
[16:57:50] *** Joins: davebettin (davebettin@moz-hde.5e5.136.67.IP)
[16:57:54] <seanmonstar> terpstra: ah, you said interface at first
[16:57:57] *** Joins: ndhoule (ndhoule@moz-qlf.50d.255.50.IP)
[16:58:02] <cmr> niconii: in that it's a thing that exists? `trait Foo : Bar`
[16:58:38] <seanmonstar> niconii: with trait Foo: Bar {}, when you receive <T: Foo>, you can also use T as a Bar
[16:58:45] *** Quits: gopar (gopar@moz-5039uj.ca.comcast.net) (Connection closed)
[16:58:56] <terpstra> i mean, you cannot do this with interfaces. only the guy who made the class decides what interfaces it meets. with traits, you can say how that type fulfulls the trait requirements later/elsewhere.
[16:59:03] <Twinklebear> hey all, is it planned to stabilize some constants like u32::BITS ? it seems it's still marked unstable so a library I use won't build on beta :(
[16:59:36] <seanmonstar> Twinklebear: there's uncertainty around them still, as they might become associated constants
[16:59:42] *** Joins: mib_9mee6b (Mibbit@moz-i7cb3r.fios.verizon.net)
[16:59:43] <niconii> cmr, seanmonstar: hmm, never seen that before... it's not shown in the book or anything
[16:59:54] <Twinklebear> seanmonstar, ah I see, what's an associated constant?
[16:59:57] *** Quits: ndhoule (ndhoule@moz-qlf.50d.255.50.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:00:06] *** Joins: ndhoule (ndhoule@moz-qlf.50d.255.50.IP)
[17:00:30] <seanmonstar> Twinklebear: basically, move the constant from the u32 module, to the u32 type
[17:00:31] *** Quits: maedhroz (maedhroz@moz-4jk5ho.res.rr.com) (Ping timeout: 121 seconds)
[17:01:06] *** Quits: mdibaiee (mahdi@moz-qd2.8nj.244.151.IP) (Ping timeout: 121 seconds)
[17:01:21] <terpstra> have a nice evening, everyone!
[17:01:24] *** Quits: terpstra (terpstra@moz-290p6a.gsi.de) (Quit: Leaving)
[17:01:29] *** Joins: redshift (redshift@moz-c8c.73t.246.204.IP)
[17:01:54] *** Joins: ebel (rory@moz-0lehdb.m4r4.nqcu.0470.2001.IP)
[17:02:01] <Twinklebear> interesting, is there some discussion I could read on the differences?
[17:02:15] <peeves> Can give me some doc about trait type system ?
[17:02:17] <seanmonstar> niconii: you can see it in something like `std::error::Error`
[17:02:57] <seanmonstar> Twinklebear: well, the concept of associated constants recently landed in nightly. practically, it'd mean you could write `u32::BITS` without having to import `use std::u32`
[17:03:10] <Twinklebear> ah that would be very nice
[17:03:12] <seanmonstar> since it'd no longer be a constant in a module, but a constant part of the type
[17:03:24] <niconii> seanmonstar: hmm... are there any docs about this?
[17:03:59] <Twinklebear> is someone working on moving to associated constants?
[17:04:30] <Twinklebear> naively it doesn't sound too complicated, I might try working on it
[17:04:32] <seanmonstar> niconii: the reference touches on trait inheritance http://doc.rust-lang.org/1.0.0-beta.4/reference.html#traits
[17:05:36] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[17:05:43] <niconii> seanmonstar: alright, thanks
[17:05:54] <seanmonstar> Twinklebear: that i dont know
[17:06:02] *** Quits: jxv (jxv___@moz-2celrt.res.rr.com) (Quit: Leaving)
[17:06:13] *** Quits: pgonda (peter@moz-otulp7.ma.comcast.net) (Ping timeout: 121 seconds)
[17:06:17] *** Joins: rbranson (rbranson@moz-i7m.9o0.201.199.IP)
[17:06:19] *** Joins: mdibaiee (mahdi@moz-qd2.8nj.244.151.IP)
[17:07:29] <seanmonstar> Twinklebear: but, i believe they could become `impl u32 { pub const BITS: usize = 32; }` or something
[17:07:41] *** Joins: frankmcsherry (frankmcsher@moz-uaqde2.dyn.telefonica.de)
[17:08:19] <seanmonstar> it'd probably be changing the int_macros in core::num
[17:08:42] *** Joins: erz (erz@moz-n26c5c.broadband.corbina.ru)
[17:09:56] *** Quits: giucam_ (giucam@moz-iv0nnc.bb.dnainternet.fi) (Connection closed)
[17:10:06] *** Joins: willem (willem@moz-facs2s.dynamic.upc.nl)
[17:10:23] *** Quits: areski (areski@moz-fvk8de.dynamic.jazztel.es) (Ping timeout: 121 seconds)
[17:10:43] *** Joins: dmac (dmac@moz-4kcd1c.ca.comcast.net)
[17:10:51] <seanmonstar> ah, just read the comment, they may be removed once std::mem::size_of::<u32>() can be inlined at compile time
[17:11:07] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[17:11:33] *** Quits: kushal (kdas@moz-cbaein.202.sitibroadband.in) (Quit: Leaving)
[17:12:05] <Twinklebear> oh neat, I'll just stay on nightly then until stuff gets sorted out heh
[17:12:27] <seanmonstar> Twinklebear: fwiw, i was looking here: https://github.com/rust-lang/rust/blob/master/src/libcore/num/int_macros.rs#L15
[17:13:31] *** Joins: ahunt (ahunt@moz-2obh4g.cam.ac.uk)
[17:14:00] <Twinklebear> oo some form of compile time function evaluation is planned? very cool
[17:14:11] <seanmonstar> it'd probably be nice for the reason to be added to #[unstable] attribute
[17:14:34] *** Joins: choplin (choplin@moz-qkm9un.ap.nuro.jp)
[17:15:09] *** Joins: iamtyler (Adium@moz-gu5.i3g.162.66.IP)
[17:15:17] <Twinklebear> yea, I wasn't sure why it was marked unstable initially
[17:15:19] *** Joins: Guest22 (textual@moz-v8ufgd.fibertel.com.ar)
[17:16:27] *** Quits: Guest22 (textual@moz-v8ufgd.fibertel.com.ar) (Quit: Textual IRC Client: www.textualapp.com)
[17:17:06] *** Joins: lov2cod1 (Adium@moz-37m58g.eodv.k60l.0119.2620.IP)
[17:17:06] *** Quits: lov2cod (Adium@moz-40l.ob1.22.8.IP) (Connection closed)
[17:17:49] *** Joins: hjr3 (hradtke@moz-dmp.av4.169.69.IP)
[17:17:58] *** Joins: ai (ai@moz-pqofrl.sunline.net.ua)
[17:18:01] <seanmonstar> interesting, i thought the unstable attributes required a reason part, but im finding several that dont have one
[17:18:36] *** Quits: choplin (choplin@moz-qkm9un.ap.nuro.jp) (Ping timeout: 121 seconds)
[17:18:59] *** Quits: meh (meh@moz-2vi7cf.42-151.net24.it) (Ping timeout: 121 seconds)
[17:20:39] *** Joins: tamird (textual@moz-lje.m54.130.157.IP)
[17:21:45] *** Quits: Kynes (Kynes@moz-j2us35.mit.edu) (Quit: Leaving)
[17:21:47] *** jdm is now known as jdm|away
[17:21:53] *** Quits: detsak (darren@moz-804egb.dyn.optonline.net) (Quit: WeeChat 1.1.1)
[17:21:55] *** Joins: alexherbo2 (alex@moz-m1s.bcu.100.89.IP)
[17:22:05] *** Quits: nico (nico@moz-bg79p6.dip0.t-ipconnect.de) (Quit: Leaving...)
[17:22:22] *** Joins: sfalcon (textual@moz-qtd94t.customer.broadstripe.net)
[17:22:38] *** Joins: CustosLimen (CustosLimen@moz-nb664a.mtnbusiness.co.za)
[17:22:45] *** Joins: proclus (user@moz-i6nqh2.fios.verizon.net)
[17:23:16] *** Quits: wldcordeiro (wldcordeiro@moz-pvsror.ut.comcast.net) (Connection closed)
[17:23:30] *** Joins: wldcordeiro (wldcordeiro@moz-ot4uvv.hmj8.a2nn.0007.2601.IP)
[17:23:51] *** Quits: ahunt (ahunt@moz-2obh4g.cam.ac.uk) (Ping timeout: 121 seconds)
[17:25:55] *** Quits: ehiggs (ehiggs@moz-939f42.1fqp.rav1.1812.2a02.IP) (Ping timeout: 121 seconds)
[17:26:30] *** Quits: happy-dude_ (uid62780@moz-jt3517.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[17:27:59] *** Quits: Colglazier (uid64399@moz-rp9ic4.irccloud.com) (Quit: Connection closed for inactivity)
[17:28:07] <hoverbear> GaryOak_: Yes it is :-p
[17:28:21] <GaryOak_> How does that work?
[17:29:03] *** Quits: silven (quassel@moz-0roor3.priv.bahnhof.se) (Ping timeout: 121 seconds)
[17:29:03] <GaryOak_> I don't understand Rust syntax very well :P
[17:29:09] *** Joins: silven (quassel@moz-0roor3.priv.bahnhof.se)
[17:29:57] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[17:30:23] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[17:30:24] *** Joins: iirelu (iirelu@moz-djc7e8.range217-42.btcentralplus.com)
[17:30:50] <mbrubeck> GaryOak_: If you have a type like `struct EventLoop<T, U>` then you can call the type's methods like `EventLoop::new()` to infer the type, or `EventLoop::<Foo, Bar>::new()` to explicitly pass the type params.
[17:31:01] *** Joins: eddyb_ (eddyb@moz-9pm.kjd.26.188.IP)
[17:31:06] <sfalcon> Is there a way to dynamically call a function in a struct? Something like: apply(foo, bar, args) being equiv to foo.bar(args)?
[17:31:18] <redshift> Hi folks.  I'm trying to build Rust beta with a published stage0, then build it again with the just-built rustc.  I'm getting "unresolved name `core::intrinsics::discriminant_value`" from a lot of libcore modules.
[17:31:20] <iirelu> how would i write (x, y) = (y, x) in rust? i couldve sworn you could do it but its giving me "error: illegal left-hand side expression"
[17:31:24] <mbrubeck> GaryOak_: In C++ it would be `EventLoop<Foo, Bar>` instead of `EventLoop::<Foo, Bar>` but Rust adds an extra `::` to disambiguate the grammar
[17:31:38] <mbrubeck> (because `<` could be a comparison operator)
[17:32:00] *** Joins: sin8h (Adium@moz-f0u.cn5.51.106.IP)
[17:32:07] <mbrubeck> iirelu: Rust only allows destructing when making new bindings..
[17:32:26] <GaryOak_> ok, so like EventLoop<Foo, Bar>::new() would be a comparison?
[17:32:28] *** Quits: errordeveloper (ilya@moz-4uj.bgu.199.90.IP) (Ping timeout: 121 seconds)
[17:32:31] <mbrubeck> iirelu: So you can write `let (x, y) = (y, x);` but this won't work for all use cases
[17:32:36] <mbrubeck> GaryOak_: Probably it would be a syntax error
[17:32:43] <redshift> I'm guessing I've misaligned the stage0 with the source, but I'm not sure how to do it correctly.  Any help appreciated :)
[17:32:48] <iirelu> mbrubeck: yeah, i want to modify the variables, not shadow them
[17:32:51] <mbrubeck> GaryOak_: But the parser can't tell it's not a comparison without lookahead
[17:33:01] <mbrubeck> s/destructing/destructuring/
[17:34:01] *** Quits: jcpst (joe@moz-5f6pan.biz.rr.com) (Connection closed)
[17:34:29] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[17:34:29] *** Quits: jophish (jophish@moz-epocft.broadband.tesco.net) (Connection closed)
[17:34:49] *** Joins: jophish (jophish@moz-epocft.broadband.tesco.net)
[17:34:49] *** Quits: ebel (rory@moz-0lehdb.m4r4.nqcu.0470.2001.IP) (Quit: Leaving)
[17:34:53] *** Joins: dinfuehr (dinfuehr@moz-kgtbsa.highway.telekom.at)
[17:35:15] *** Joins: jxv (jxv@moz-2celrt.res.rr.com)
[17:36:06] *** Quits: jophish (jophish@moz-epocft.broadband.tesco.net) (Connection closed)
[17:36:54] <talchas> sfalcon: you can get the relevant function name with "let x = Foo::bar", and then call it with "x(foo, arg1, arg2)"
[17:37:09] <talchas> sfalcon: there's not apply that takes a list of args and unpacks it
[17:37:12] <talchas> there's no*
[17:37:35] *** Quits: iamtyler (Adium@moz-gu5.i3g.162.66.IP) (Quit: Leaving.)
[17:37:48] <sfalcon> talchas: oh nice, that will work. If the function takes an &self first arg, I'm guessing I can just pass that explicitly?
[17:37:50] <harrisonclarke> is there a way to clear a variable/explicitly end its lifetime?
[17:37:51] *** Quits: brainproxy (michael@moz-9vjtig.mo.charter.com) (Ping timeout: 121 seconds)
[17:38:06] *** Joins: ahunt (ahunt@moz-2obh4g.cam.ac.uk)
[17:38:11] <talchas> sfalcon: yeah, that's the foo arg
[17:38:42] *** Joins: arjun_ (arjun@moz-e93.1bu.185.223.IP)
[17:38:59] <mbrubeck> harrisonclarke: drop(foo)
[17:39:03] <talchas> harrisonclarke: there isn't a way to end the lifetime
[17:39:20] <talchas> drop() or equivalent will call drop, but won't fix lifetime issues
[17:39:26] *** Joins: ehiggs (ehiggs@moz-939f42.1fqp.rav1.1812.2a02.IP)
[17:39:37] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[17:39:38] *** Joins: iamtyler (Adium@moz-gu5.i3g.162.66.IP)
[17:39:39] *** Quits: bfrog_ (tburdick@moz-hpc0jl.il.comcast.net) (Quit: WeeChat 1.1.1)
[17:39:45] *** Quits: iamtyler (Adium@moz-gu5.i3g.162.66.IP) (Quit: Leaving.)
[17:39:48] <mbrubeck> harrisonclarke: To change the lifetime of a borrow, you can introduce an inner scope using `{ ... }`
[17:39:51] <talchas> (well, at very least not in the common way you'd want to where you have let x = &y; drop(x);)
[17:40:19] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[17:40:37] *** Quits: dinfuehr (dinfuehr@moz-kgtbsa.highway.telekom.at) (Connection closed)
[17:40:42] <mbrubeck> { let x = &y; /* do stuff with x */ } /* lifetime of x has now ended */
[17:40:46] *** Joins: dinfuehr (dinfuehr@moz-kgtbsa.highway.telekom.at)
[17:40:52] *** Quits: alevy (alevy@moz-roc8ao.scs.stanford.edu) (Quit: ZNC - http://znc.in)
[17:41:04] *** Joins: meh (meh@moz-6gtvkc.retail.telecomitalia.it)
[17:41:19] *** Quits: kngl (Adium@moz-m3a3bq.ipv4.evonet.be) (Ping timeout: 121 seconds)
[17:41:33] *** Quits: alexherbo2 (alex@moz-m1s.bcu.100.89.IP) (Quit: WeeChat 1.1.1)
[17:42:32] *** Joins: alevy (alevy@moz-roc8ao.scs.stanford.edu)
[17:44:26] *** Quits: dinfuehr (dinfuehr@moz-kgtbsa.highway.telekom.at) (Connection closed)
[17:44:47] *** Joins: dinfuehr (dinfuehr@moz-kgtbsa.highway.telekom.at)
[17:45:26] *** Quits: ahunt (ahunt@moz-2obh4g.cam.ac.uk) (Ping timeout: 121 seconds)
[17:45:30] *** Quits: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP) (Connection closed)
[17:47:04] *** Joins: marsel (user@moz-qg3.mg0.180.94.IP)
[17:47:11] *** Quits: ndhoule (ndhoule@moz-qlf.50d.255.50.IP) (Quit: Textual IRC Client: www.textualapp.com)
[17:48:06] *** Quits: samnmax (samnmax@moz-1vk.aq9.27.72.IP) (Quit: Ex-Chat)
[17:48:16] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[17:48:50] *** Quits: dinfuehr (dinfuehr@moz-kgtbsa.highway.telekom.at) (Ping timeout: 121 seconds)
[17:48:54] *** Joins: alexherbo2 (alex@moz-m1s.bcu.100.89.IP)
[17:49:01] *** Quits: mdibaiee (mahdi@moz-qd2.8nj.244.151.IP) (Ping timeout: 121 seconds)
[17:49:12] *** Quits: alexherbo2 (alex@moz-m1s.bcu.100.89.IP) (Quit: WeeChat 1.1.1)
[17:49:37] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Quit: Konversation terminated!)
[17:49:46] *** Quits: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP) (Client exited)
[17:49:57] *** Quits: d_rezzer (chatzilla@moz-t0fmuj.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[17:50:24] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[17:50:52] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[17:50:58] *** Quits: wldcordeiro (wldcordeiro@moz-ot4uvv.hmj8.a2nn.0007.2601.IP) (Ping timeout: 121 seconds)
[17:52:52] *** Quits: lov2cod1 (Adium@moz-37m58g.eodv.k60l.0119.2620.IP) (Quit: Leaving.)
[17:53:04] *** Joins: mdibaiee (mahdi@moz-qd2.8nj.244.151.IP)
[17:53:10] *** Joins: eric_lagergren (barsonme@moz-hshokg.q6t2.2174.0008.2601.IP)
[17:54:28] *** Joins: JosiahOne|Work1 (Thunderbird@moz-ub5.sco.30.4.IP)
[17:55:35] *** Quits: JosiahOne|Work (Thunderbird@moz-f2hp7h.biz.rr.com) (Ping timeout: 121 seconds)
[17:55:36] *** Quits: Twinklebear (Twinklebear@moz-b2b.o78.110.128.IP) (Ping timeout: 121 seconds)
[17:55:37] *** Joins: dstrbad (dstrbad@moz-tjmago.dsl.iskon.hr)
[17:55:38] *** Quits: Racquetball (namestolenw@moz-dnlovt.cpe.twtelecom.net) (Ping timeout: 121 seconds)
[17:55:57] *** Joins: dpc (dpc@moz-52v2l7.nvidia.com)
[17:56:30] *** Joins: d_rezzer (chatzilla@moz-t0fmuj.hfc.comcastbusiness.net)
[17:56:48] *** Joins: bfrog (tburdick@moz-hpc0jl.il.comcast.net)
[17:56:59] <dpc> Yesterday I was refactoring a code a bitten by the fact that join (http://doc.rust-lang.org/std/path/struct.Path.html#method.join) semantic changed from mutating, to returning new instance.
[17:57:04] *** Joins: JosiahOne|Work (Thunderbird@moz-f2hp7h.biz.rr.com)
[17:57:06] *** Quits: mdibaiee (mahdi@moz-qd2.8nj.244.151.IP) (Ping timeout: 121 seconds)
[17:57:24] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Quit: Leaving.)
[17:57:34] <dpc> And it made me think: shouldn't there by lint that warns when the value of a function that takes no mutable arguments is discarded?
[17:58:16] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[17:58:30] *** Quits: JosiahOne|Work1 (Thunderbird@moz-ub5.sco.30.4.IP) (Ping timeout: 121 seconds)
[17:58:55] <dpc> Why wouldn't anyone want to do an "no-op"? Though I guess internal-mutability, might make sucha calls not always no-op.
[17:59:01] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Quit: Konversation terminated!)
[17:59:02] *** Joins: davebettin_ (davebettin@moz-hde.5e5.136.67.IP)
[17:59:11] <mbrubeck> dpc: I prefer the opt-in #[must_use] warning that's currently enabled for Result and iterator adapters.
[17:59:29] <mbrubeck> dpc: Not just internal mutability; also I/O and other side effects.
[17:59:51] <dpc> mbrubeck: Can I have this crate level #![must_use] ?
[17:59:56] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:00:02] *** Joins: lov2cod (Adium@moz-40l.ob1.22.8.IP)
[18:00:06] *** Joins: dstrbad_ (dstrbad@moz-gs1n9v.dsl.iskon.hr)
[18:00:10] <bluss> you need a must_use for a particular function (but it would apply to a ton of them)
[18:00:13] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[18:00:14] *** Joins: mdibaiee (mahdi@moz-qd2.8nj.244.151.IP)
[18:00:15] <seanmonstar> dpc: it's used on structs 
[18:00:16] *** Quits: lov2cod (Adium@moz-40l.ob1.22.8.IP) (Quit: Leaving.)
[18:00:17] <XMPPwocky> dpc: interior mutability would break it unfortunately
[18:00:27] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[18:01:13] *** ahal|lunch is now known as ahal
[18:01:18] <dpc> So that's too much work. My problem was that I was refactoring the code and I have not noticed change in semantics. I'm not in control of implementation of what I was using.
[18:01:24] *** Parts: Ericson2314 (user@moz-md3.070.16.138.IP) ("ERC (IRC client for Emacs 24.5.2)")
[18:01:31] *** Quits: davebettin (davebettin@moz-hde.5e5.136.67.IP) (Ping timeout: 121 seconds)
[18:01:38] <dpc> Aren't types with interior mutability distinct?
[18:01:48] *** Quits: davebettin_ (davebettin@moz-hde.5e5.136.67.IP) (Quit: Leaving)
[18:01:53] <nathan7> They are.
[18:01:53] *** Joins: davebettin (davebettin@moz-hde.5e5.136.67.IP)
[18:02:04] <dpc> And would such "false-possitives" not a problem anyway?
[18:02:12] <nathan7> Why would they not be?
[18:02:18] *** Quits: Boscop (me@moz-5ac.5rj.126.98.IP) (Ping timeout: 121 seconds)
[18:02:18] *** Joins: lov2cod (Adium@moz-40l.ob1.22.8.IP)
[18:02:27] *** Quits: davebettin (davebettin@moz-hde.5e5.136.67.IP) (Quit: Leaving)
[18:02:37] *** Joins: davebettin (davebettin@moz-hde.5e5.136.67.IP)
[18:02:47] *** jdm|away is now known as jdm
[18:02:57] *** Quits: dstrbad (dstrbad@moz-tjmago.dsl.iskon.hr) (Ping timeout: 121 seconds)
[18:03:02] *** Joins: Boscop (me@moz-5ac.5rj.126.98.IP)
[18:03:08] <dpc> If someone is calling a function with not mut arguments and discarding a result, chances are it's still mistake, even if one of arguments had interior mutability.
[18:03:21] <mbrubeck> `Iterator::count` is sometimes used only for its side effects, and it neither takes a mutable argument nor a type with interior mutability...
[18:03:33] <mbrubeck> Though I guess you could also exclude functions that take their arguments by value.
[18:03:34] *** Joins: dstrbad (dstrbad@moz-8gqg2r.dsl.iskon.hr)
[18:03:45] <dpc> But if such types are distiquishable, maybe the rule should be: no mutable arguments and no interior mutable one neither. 
[18:03:54] *** Quits: lov2cod (Adium@moz-40l.ob1.22.8.IP) (Quit: Leaving.)
[18:04:08] *** Joins: jaen (jaen@moz-ifmik2.copit.pl)
[18:04:10] <eddyb_> so "frozen"
[18:04:21] *** Quits: Hail_Spacecake (quesa@moz-djc.ktt.28.204.IP) (Quit: Leaving)
[18:04:28] <dpc> Oh well. Just a thought. 
[18:04:30] *** Quits: meh (meh@moz-6gtvkc.retail.telecomitalia.it) (Ping timeout: 121 seconds)
[18:04:36] *** Quits: mdibaiee (mahdi@moz-qd2.8nj.244.151.IP) (Ping timeout: 121 seconds)
[18:04:36] <dpc> Might be it's not a practical idea.
[18:04:43] <eddyb_> which means it's referentially pure, but then there's also global state
[18:04:47] <dpc> However, is there a way to opt-in to "warn me about any result I discard" ?
[18:05:04] *** Joins: veqz (veqz@moz-nvr8g6.209.getinternet.no)
[18:05:06] <nathan7> dpc: so, say, performing I/O without using the result should spray you with warnings, per your proposal
[18:05:08] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[18:05:16] <dpc> Basically I really like Rust because it plays well with my sloppiness. 
[18:05:22] <mbrubeck> nathan7: That's already the case for io functions that return Result. :P
[18:05:28] <eddyb_> dpc: I like it, could you note it down in an issue at rust-lang/rfcs?
[18:05:35] <dpc> And I would rather add `let _ = ...` everywhere than spend time debugging my own mistakes.
[18:05:40] *** Joins: mdibaiee (mahdi@moz-qd2.8nj.244.151.IP)
[18:05:55] <mbrubeck> dpc: It sounds doable as a custom lint, too, if it doesn't get adopted in the language.
[18:05:56] <nathan7> dpc: ; is equivalent to `let _ = ...;`, though
[18:06:00] *** Joins: colinsurprenant (colin@moz-rmn4e2.169.electronicbox.net)
[18:06:12] *** Quits: dstrbad_ (dstrbad@moz-gs1n9v.dsl.iskon.hr) (Ping timeout: 121 seconds)
[18:06:14] <mbrubeck> nathan7: `let _ =` is already used for silencing #[must_use] warnings
[18:06:21] <mbrubeck> This would just be an extension of that
[18:06:25] *** Quits: peeves (Mibbit@moz-05i3a1.members.linode.com) (Quit: http://www.mibbit.com ajax IRC Client)
[18:06:28] <dpc> nathan7: Ah, shoot; you're right.
[18:06:44] <dpc> eddyb_: Will do.
[18:06:46] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[18:07:08] <eddyb_> there is value in categorizing possible combinatioms of types and behaviors
[18:07:09] <nathan7> mbrubeck: mhm
[18:07:20] <eddyb_> dpc: thanks!
[18:07:20] *** Quits: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP) (Connection closed)
[18:07:35] *** Quits: Izacht13 (Izacht13@moz-oqb.nch.45.199.IP) (Quit: Leaving)
[18:07:46] *** Joins: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se)
[18:07:54] *** Quits: chc4 (chc4@moz-pdo0at.ma.comcast.net) (Ping timeout: 121 seconds)
[18:08:02] *** Joins: dstrbad_ (dstrbad@moz-lbk9qa.dsl.iskon.hr)
[18:08:13] *** Joins: trigen (MSX@moz-sgda69.static.versatel.nl)
[18:08:47] *** Quits: Boscop (me@moz-5ac.5rj.126.98.IP) (Ping timeout: 121 seconds)
[18:09:08] *** Joins: futile (felix@moz-cmcd12.unity-media.net)
[18:09:25] *** Quits: Savago (Savago@moz-8hd.3b6.246.162.IP) (Client exited)
[18:09:42] *** Quits: mdibaiee (mahdi@moz-qd2.8nj.244.151.IP) (Ping timeout: 121 seconds)
[18:09:45] *** Quits: harrisonclarke (harrisoncla@moz-03qrro.eastlink.ca) (Connection closed)
[18:09:45] *** Joins: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP)
[18:09:52] *** Joins: harrisonclarke (harrisoncla@moz-03qrro.eastlink.ca)
[18:10:03] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[18:10:13] <mbrubeck> nathan7: http://is.gd/324Jmv
[18:10:38] *** Quits: dstrbad (dstrbad@moz-8gqg2r.dsl.iskon.hr) (Ping timeout: 121 seconds)
[18:10:40] <nathan7> mbrubeck: yes, I knew that
[18:10:45] *** Joins: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP)
[18:10:56] *** Quits: arjun_ (arjun@moz-e93.1bu.185.223.IP) (Ping timeout: 121 seconds)
[18:11:31] *** Quits: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP) (Ping timeout: 121 seconds)
[18:11:35] *** Joins: meh (meh@moz-6gtvkc.retail.telecomitalia.it)
[18:11:46] *** Joins: mdibaiee (mahdi@moz-qd2.8nj.244.151.IP)
[18:12:00] *** Joins: Boscop (me@moz-5ac.5rj.126.98.IP)
[18:12:21] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[18:13:00] *** Joins: kgrandon (Adium@moz-8c32up.hjek.d045.0009.2601.IP)
[18:13:04] *** Quits: DerisiveLogic (smuxi@moz-1jqqlg.biz.rr.com) (A TLS packet with unexpected length was received.)
[18:13:11] *** Joins: JKWright (JKWright@moz-sed6c9.biz.rr.com)
[18:14:06] *** Joins: Racquetball (namestolenw@moz-dnlovt.cpe.twtelecom.net)
[18:14:42] *** Joins: cjwelborn (cjwelborn@moz-np6hed.al.charter.com)
[18:14:52] *** Quits: sigma (sigma@moz-llrbra.range86-135.btcentralplus.com) (Ping timeout: 121 seconds)
[18:15:28] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[18:15:50] *** Joins: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP)
[18:16:15] *** Quits: trigen (MSX@moz-sgda69.static.versatel.nl) (Ping timeout: 121 seconds)
[18:16:20] *** Quits: kamilc__ (kamil@moz-u843uu.play-internet.pl) (Quit: Leaving...)
[18:16:38] *** Joins: areski (areski@moz-adq529.user.ono.com)
[18:16:51] *** Joins: poorman (poorman@moz-sdl0oq.res.rr.com)
[18:16:51] *** Quits: kgrandon (Adium@moz-8c32up.hjek.d045.0009.2601.IP) (Quit: Leaving.)
[18:16:53] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[18:17:14] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[18:17:34] <panicbit> Is there a way to get a libc::FILE from a std::fs::File?
[18:18:41] *** Joins: naerbnic (naerbnic@moz-mol.4ra.239.216.IP)
[18:19:50] *** Joins: Savago (Savago@moz-8hd.3b6.246.162.IP)
[18:19:52] *** Quits: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP) (Ping timeout: 121 seconds)
[18:20:55] <bluss> panicbit: I don't think there is any active libc FILE object
[18:21:03] <dpc> Is "pure" a word to describe a function that does not mutate arguments?
[18:21:18] *** Quits: Boscop (me@moz-5ac.5rj.126.98.IP) (Ping timeout: 121 seconds)
[18:21:34] *** Quits: mdibaiee (mahdi@moz-qd2.8nj.244.151.IP) (Ping timeout: 121 seconds)
[18:21:42] <bluss> panicbit: File is created using open (2) on linux, not using fopen 
[18:21:49] <Diggsey> pure means it has no side effects
[18:21:55] <panicbit> bluss: Oh I see
[18:22:04] <futile> dpc: what if it mutates/edits a file?
[18:22:05] <panicbit> bluss: That makes sense
[18:22:23] <Diggsey> ie. doesn't access global state
[18:23:05] *** Joins: arjun_ (arjun@moz-v1v.jjr.206.106.IP)
[18:24:25] <dpc> futile: ?
[18:24:44] <dpc> Than it's not really pure.
[18:24:46] <frankmcsherry> ok, so I'm writing some sorting functions. They have the signature: sort_by<V, T: Ord, F:Fn(&V)->&T>(xs: &mut [V], f: &F). That seemed smart.
[18:24:47] <Tuna-Fish> files are global state
[18:24:53] *** Joins: mdibaiee (mahdi@moz-qd2.8nj.244.151.IP)
[18:25:10] <ehiggs> futile, think idemopotent. if you call it multiple times will it have no effect and the same answer
[18:25:18] *** Joins: jtdowney (jtdowney@moz-gh1isj.static.twtelecom.net)
[18:25:21] <frankmcsherry>  Now I'm banging my head against radix-sort, because it wants to use a Fn(&V) -> u64, and I can drop in to the above funcs as a base case, because I can't get a &u64 (because it only exists in whatever closure I pass around)
[18:25:23] <ehiggs> if you write to a file you can't call it multiple times and expect the same result
[18:25:28] <frankmcsherry> can't* >.<
[18:26:00] <frankmcsherry> I thought maybe F: Fn(&V)->T would be smart, assuming (?) that &T: Ord when T: Ord, but ... various lifetimes explode then too.
[18:26:01] <ehiggs> sorry, i meant dpc. 
[18:26:12] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[18:26:24] <futile> ehiggs: yeah, thats what I was getting at
[18:26:38] <bluss> frankmcsherry: this latter thought is reasonable
[18:26:42] *** Quits: harrisonclarke (harrisoncla@moz-03qrro.eastlink.ca) (Connection closed)
[18:27:06] <bluss> frankmcsherry: what about this: sort_by<'a, V, T: Ord, F:Fn(&'a V)-> T>(xs: &'a mut [V], f: &F)
[18:27:15] <ehiggs> dpc: to put what i said on it's head: imagine the compiler wants to optimize the function. let x = not_pure() + not_pure(); could you make let y = not_pure(); let x = y + y; ?
[18:27:17] <bluss> frankmcsherry: oh no, that's a mutable borrow, then it ends in tears
[18:27:25] *** Joins: mib_jlp00p (Mibbit@moz-jjp.d9g.161.78.IP)
[18:27:30] <frankmcsherry> bluss: to do Fn(&V)->T? I get a pile of "can't infer lifetime errors. Maybe ... maybe what you have..
[18:27:35] <forgottenone> why rust even allocate heap from 16 times 1,400(1,328 with rustc) bytes even in a simple  fn main(){} with cargo build --release
[18:27:50] <bluss> frankmcsherry: yes, except the borrow is mutable so it won't work. :(
[18:28:14] <frankmcsherry> bluss: wait, why doesn't it work? at least, what do you think goes wrong?
[18:28:18] *** Quits: mib_jlp00p (Mibbit@moz-jjp.d9g.161.78.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:28:40] *** Joins: Izacht13 (Izacht13@moz-gee645.atsnmeam.ccmaine.net)
[18:28:46] <bluss> frankmcsherry: it will have treat multiple calls to f as multiple borrows
[18:28:54] *** Quits: khades (Thunderbird@moz-u45.3vk.74.212.IP) (Client exited)
[18:29:07] <bluss> frankmcsherry: which works fine with &'a [V], but I didn' see the &mut [V] first
[18:29:38] <bluss> frankmcsherry: you grant the closure a borrow 'a and you can't tell if it ends sooner :/
[18:29:41] *** Quits: mdibaiee (mahdi@moz-qd2.8nj.244.151.IP) (Ping timeout: 121 seconds)
[18:30:14] *** Joins: mdibaiee (mahdi@moz-qd2.8nj.244.151.IP)
[18:30:27] *** Quits: JKWright (JKWright@moz-sed6c9.biz.rr.com) (Connection closed)
[18:30:46] *** Joins: druppy (Mibbit@moz-n6s33a.0.fullrate.dk)
[18:30:57] *** Joins: lyc (lyc@moz-0ke.pqd.150.123.IP)
[18:30:58] *** Quits: meh (meh@moz-6gtvkc.retail.telecomitalia.it) (Ping timeout: 121 seconds)
[18:31:08] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[18:31:17] *** Joins: icorderi (Mibbit@moz-24l8p6.mtryca.sbcglobal.net)
[18:31:43] <frankmcsherry> I'm half tempted to make a 'static [u64; 256] with each radix in it so that I can reference them. >=/
[18:31:45] *** Joins: JKWright (JKWright@moz-sed6c9.biz.rr.com)
[18:33:29] *** Joins: gopar (gopar@moz-5039uj.ca.comcast.net)
[18:33:36] <forgottenone> anyone? just wondering why rust need heap allocation in fn main(){
[18:34:04] <ehiggs> frankmcsherry: how about sort_by and sort_by_radix since it's such a special case?
[18:34:43] *** Joins: brainproxy (michael@moz-9vjtig.mo.charter.com)
[18:35:03] <frankmcsherry> ehiggs: the thing I'm trying to do (I think I found a solution) is a radix sort that bails out to a regular sort when either a) slice too small, or b) slice not sufficiently smaller than with previous radix (i.e. loss of entropy).
[18:35:35] <frankmcsherry> ehiggs: so, at the moment I've only been given a Fn(&V)->u64, and am trying to plug in to sorts that want a Fn(&V)->&T
[18:35:37] <dpc> ehiggs: I'm not advocating for introducing concpets of "pure" functions. I was just checking the term that I should use. :)
[18:35:46] *** Joins: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP)
[18:35:57] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Quit: Konversation terminated!)
[18:36:26] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[18:36:40] <dpc> AFAIR, Rust dropped the concept of purity at some point. I'm just researching if a practical warning could help catch some human errors.
[18:36:41] <frankmcsherry> ehiggs, bluss: but I think I'll just have radix-sort take a G:Fn(&mut [V]) called "and_then", which is just a contiuation, I gues.
[18:36:54] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[18:37:23] <dpc> https://github.com/rust-lang/rfcs/issues/1110
[18:37:31] <ehiggs> forgottenone: when I make a C program void main() {} and compile with -O3 I get 18 calls to malloc
[18:38:12] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[18:38:17] *** Quits: fabiand (fabiand@moz-3u5ogd.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[18:38:17] *** Quits: icorderi (Mibbit@moz-24l8p6.mtryca.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[18:38:30] <futile> that libc overhead?
[18:38:38] <ehiggs> dpc i know you're just asking the definition. I hope I didn't come across as beligerant or anything.
[18:38:40] <dpc> BTW. Is there any way to get someone to comment on a different rfc-issue I've wrote: https://github.com/rust-lang/rfcs/issues/1002 . Lack of this functionality is actually preventing me from doing some embedded-Rust stuff that would be cool.
[18:39:00] <dpc> ehiggs: Nope. No worries. :)
[18:39:12] <forgottenone> ehiggs:  odd int main(){return 0;} gwith gcc (no optimization) gives 0 allocs
[18:39:45] *** Quits: oberstet (quassel@moz-bqk2mf.dynamic.mnet-online.de) (Connection closed)
[18:40:06] <Hannibal_Smith> futile, http://eli.thegreenplace.net/2012/08/13/how-statically-linked-programs-run-on-linux
[18:40:06] *** Joins: groxx (uid57660@moz-p0d26v.brockwell.irccloud.com)
[18:40:11] <forgottenone> it's also the case for void main(){}
[18:40:11] <Hannibal_Smith> It's a nice blog post on this
[18:40:18] <futile> thanks
[18:40:21] *** Quits: colinsurprenant (colin@moz-rmn4e2.169.electronicbox.net) (Client exited)
[18:40:32] <ehiggs> i used valgrind to measure it. ill try strace now. and ill alos try static linking. i think the mallocs were in libdl code
[18:40:41] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[18:40:45] *** Quits: sin8h (Adium@moz-f0u.cn5.51.106.IP) (Quit: Leaving.)
[18:40:54] <Hannibal_Smith> You can skip directly to "The C library start function"
[18:41:52] <mbrubeck> ehiggs: That would explain it, since rustc links to libc dynamically...
[18:42:07] <d-snp> hi guys, I'm trying to fix a package that broke probably due to dropped features in the beta or something, it says:
[18:42:12] *** Quits: mdibaiee (mahdi@moz-qd2.8nj.244.151.IP) (Ping timeout: 121 seconds)
[18:42:12] <d-snp> cannot apply unary operator `-` to type `V`
[18:42:36] <d-snp> I suppose the type should implement some trait to have a unary operator, but I can't find the documentation for that
[18:42:42] *** Joins: sambotron (sambotron@moz-lgc.bdf.247.173.IP)
[18:42:45] *** Joins: d356 (d@moz-go99rq.res.bhn.net)
[18:42:52] *** Quits: dstrbad_ (dstrbad@moz-lbk9qa.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[18:42:55] <mbrubeck> d-snp: http://doc.rust-lang.org/std/ops/trait.Neg.html
[18:43:02] *** Quits: sambotron (sambotron@moz-lgc.bdf.247.173.IP) (Quit: )
[18:43:10] <ehiggs> bah ltrace doesn't print anything for malloc
[18:43:10] <d-snp> ah thanks mbrubeck 
[18:43:33] *** Joins: mdibaiee (mahdi@moz-qd2.8nj.244.151.IP)
[18:43:43] *** Joins: mdinger (mdinger@moz-04s2ou.9bf5.ppaa.0306.2602.IP)
[18:44:19] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[18:44:35] *** Quits: mdinger (mdinger@moz-04s2ou.9bf5.ppaa.0306.2602.IP) (Quit: Leaving)
[18:45:11] <ehiggs> forgottenone: in any case, when i run valgrind --tool=callgrind ./a.out and open the results in kcachegrind i see 18 calls to malloc almost all coming from ld-2.20.so
[18:45:18] <mbrubeck> d-snp: The operator traits changed a while ago to take self by value instead of reference, so you might need to change your impl accordingly.
[18:45:40] <talchas> ehiggs: a remarkably large amount of stuff runs before main
[18:46:22] <ehiggs> forgottenone: rust's empty main function has 3 calls to malloc for me and they come from foptn, __fopen_internal, and realloc (via getdelim in libc)
[18:46:26] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[18:46:36] *** Joins: JosiahOne|Work1 (Thunderbird@moz-ub5.sco.30.4.IP)
[18:46:40] *** Joins: DerisiveLogic (smuxi@moz-1jqqlg.biz.rr.com)
[18:47:08] <ehiggs> talchas: yes i know. forgottenone was asking why an empty rust program allocates to the heap and im pointing out that empty c programs do too. but he/she doesn't see this behaviour in their env
[18:47:10] <d-snp> mbrubeck: yeah I'm trying to find out which trait actually should have this Neg trait
[18:47:19] *** Quits: dzyp (hiatt@moz-ofiasr.static.qwest.net) (Quit: Leaving)
[18:47:23] <d-snp> do you know if it's been taken out of something recently?
[18:47:24] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[18:47:30] *** Joins: fizzbooze (bp@moz-no6phj.sm5k.54kg.0101.2620.IP)
[18:47:34] *** Quits: JosiahOne|Work (Thunderbird@moz-f2hp7h.biz.rr.com) (Ping timeout: 121 seconds)
[18:47:36] *** Quits: mdibaiee (mahdi@moz-qd2.8nj.244.151.IP) (Ping timeout: 121 seconds)
[18:47:39] *** Joins: Kirth (Kirth@moz-hvjtnm.0o56.icp4.1811.2a02.IP)
[18:47:56] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[18:48:23] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[18:48:26] *** Joins: khades (Thunderbird@moz-u45.3vk.74.212.IP)
[18:48:43] *** Quits: brainproxy (michael@moz-9vjtig.mo.charter.com) (Ping timeout: 121 seconds)
[18:49:01] *** Joins: harrisonclarke (harrisoncla@moz-03qrro.eastlink.ca)
[18:49:18] <forgottenone> ehiggs: i see maybe it's because i use valgrind --leak-check=full ./a.out the results are different
[18:49:18] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[18:49:22] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[18:49:23] <mbrubeck> d-snp: There were big changes in the std::num traits -- they got removed, added to the external `num` crate, partially moved back to std...
[18:49:45] <d-snp> yeah, I've fixed a bunch of those errors already
[18:50:08] <talchas> forgottenone: hmm, you can try running it in gdb and breaking on malloc before you run
[18:50:13] *** Joins: JosiahOne|Work (Thunderbird@moz-f2hp7h.biz.rr.com)
[18:50:25] <talchas> (it'll be unresolved to start with but should still work)
[18:50:38] *** Quits: JosiahOne|Work1 (Thunderbird@moz-ub5.sco.30.4.IP) (Ping timeout: 121 seconds)
[18:50:50] <d-snp> I'm a bit confused, I suppose somewhere in this code there should already have been an impl of a trait that enabled it, but it doesn't throw an error that something is impl'ed that doesn't exist
[18:50:51] <mbrubeck> d-snp: Looks like the old std::num::Num trait inherited from Neg, but the new num::Num does not.
[18:51:24] *** Joins: thelink2012 (Mibbit@moz-21t.aul.183.179.IP)
[18:51:59] *** Quits: arjun_ (arjun@moz-v1v.jjr.206.106.IP) (Ping timeout: 121 seconds)
[18:52:10] <thelink2012> How to capture something into a closure by copy/clone?
[18:52:12] *** Quits: TheLemon1an (lemonboy@moz-d7e434.45-151.net24.it) (Quit: "It's now safe to turn off your computer.")
[18:52:19] <mbrubeck> d-snp: Related to that, Neg is no longer implemented for unsigned types.
[18:52:19] *** Quits: druppy (Mibbit@moz-n6s33a.0.fullrate.dk) (Quit: http://www.mibbit.com ajax IRC Client)
[18:52:25] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[18:52:51] <mbrubeck> thelink2012: I'm not sure if there's a built-in way. You can copy or clone outside of the closure and then have it capture the copy.
[18:53:03] *** Joins: mdibaiee (mahdi@moz-qd2.8nj.244.151.IP)
[18:53:42] <d-snp> right.. that could explain a part of it, V is a FloatVec, which is a NumVec<N> + Norm<N> + Basis where N: BaseFloat
[18:53:46] *** Quits: DerisiveLogic (smuxi@moz-1jqqlg.biz.rr.com) (A TLS packet with unexpected length was received.)
[18:54:00] <d-snp> I suppose NumVec couldn't just implement neg as it could be a vec of unsigneds as well
[18:54:23] <ehiggs> forgottenone: perhaps. I can imagine that valgrind doesn't include info for the c runtime; but isn't aware of the rust runtime so it shows all the guts
[18:54:35] <ehiggs> valgrind -> memcheck
[18:54:50] *** Joins: robyoung (uid12953@moz-mj1ko8.charlton.irccloud.com)
[18:55:03] *** Joins: DerisiveLogic (smuxi@moz-1jqqlg.biz.rr.com)
[18:55:28] <forgottenone> ehiggs: i see, it makes sense
[18:55:45] <d-snp> ah I found the offending commit https://github.com/sebcrozet/nalgebra/commit/d47cdb55947e272e4eb84846e429969cdd67212a
[18:55:46] <ehiggs> are you checking w/ callgrind now and seeing what im seeing?
[18:55:48] <d-snp> hmm
[18:56:12] <mbrubeck> d-snp: It could be added to BaseFloat though, presumably
[18:56:20] <mbrubeck> d-snp: num::Float requires Neg
[18:56:22] <d-snp> yes
[18:56:46] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[18:56:48] <d-snp> lets see if I can get that to compile
[18:57:04] <robyoung> is it possible to return a pointer to a Rust variable through the FFI? I want to create a Python extension in rust that has an interface something like https://gist.github.com/robyoung/01ea217605fb292cc3c8
[18:57:12] <bluss> d-snp: so that's logical
[18:57:23] *** Quits: bfrog (tburdick@moz-hpc0jl.il.comcast.net) (Quit: WeeChat 1.1.1)
[18:57:25] <fizzbooze> i'm getting a lifetime error about how `self` does not outlive the enclosing closure http://is.gd/wMBXzU
[18:57:30] *** Joins: maedhroz (maedhroz@moz-4jk5ho.res.rr.com)
[18:58:04] <d-snp> wow it compiled :P
[18:58:12] <bluss> fizzbooze: put self.size in a separate value to be captured
[18:58:12] <fizzbooze> but the threadpool will be destroyed at the end of the scope, so i know that self has at least the same lifetime as the closure
[18:58:20] *** Joins: fkaa_ (tundmatu@moz-501od2.business.telia.com)
[18:58:33] <fizzbooze> bluss can you elaborate :P
[18:58:52] <fizzbooze> bluss i'm not sure that you mean by a separate value to be captured
[18:59:01] *** Quits: tkellen (tkellen@moz-f5ji1n.vt.comcast.net) (Client exited)
[18:59:08] <bluss> fizzbooze: just let size = self.size;
[18:59:13] <bluss> outside the closure
[18:59:21] <fizzbooze> bluss ok thanks!
[18:59:47] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[19:00:04] *** Quits: LRN (LRN@moz-63ipbh.nationalcablenetworks.ru) (Connection closed)
[19:00:09] <bluss> fizzbooze: is this the current version of the threadpool docs? http://doc.rust-lang.org/threadpool/threadpool/struct.ThreadPool.html#method.execute
[19:00:16] *** Joins: LRN (LRN@moz-63ipbh.nationalcablenetworks.ru)
[19:00:52] <bluss> fizzbooze: in that case, since there is a 'static bound on the closure to execute, relative life doesn't matter here. the closure can't borrow anything nonstatic
[19:01:01] *** Joins: rbranson_ (rbranson@moz-k3u.9o0.201.199.IP)
[19:01:14] *** Quits: rbranson (rbranson@moz-i7m.9o0.201.199.IP) (Ping timeout: 121 seconds)
[19:01:21] *** rbranson_ is now known as rbranson
[19:01:32] *** Quits: maedhroz (maedhroz@moz-4jk5ho.res.rr.com) (Ping timeout: 121 seconds)
[19:01:38] *** Quits: fkaa (tundmatu@moz-501od2.business.telia.com) (Ping timeout: 121 seconds)
[19:02:12] *** Joins: dstrbad (dstrbad@moz-lbk9qa.dsl.iskon.hr)
[19:02:17] <niconii> fizzbooze: i believe the issue was that you cannot move self.size into the closure because all you have is a &mut self (i.e. you don't own self.size); that's why you have to copy it by assigning it to another variable
[19:02:21] *** Joins: james4k (james@moz-fm2a4v.consolidated.net)
[19:02:38] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[19:02:44] <fizzbooze> bluss: that's strange, because in "let size = self.size", size isn't 'static, but it still compiles
[19:03:18] <Tuna-Fish> That's a copy. So being 'static doesn't matter.
[19:03:19] *** Joins: spider-mario (spidermario@moz-coblcf.fbx.proxad.net)
[19:03:21] <fizzbooze> niconii: i see. that's rather confusing as the error is about "self" not outliving the lifetime 
[19:03:29] *** Joins: tkellen (tkellen@moz-f5ji1n.vt.comcast.net)
[19:03:39] <fizzbooze> Tuna-Fish: makes sense
[19:03:41] *** Quits: khades (Thunderbird@moz-u45.3vk.74.212.IP) (Client exited)
[19:04:28] <niconii> fizzbooze: right, i don't really understand why you got that error in particular
[19:04:36] *** Quits: DemonOne (Avi@moz-h6mspk.red.bezeqint.net) (Connection closed)
[19:05:23] *** Quits: rbranson (rbranson@moz-k3u.9o0.201.199.IP) (Ping timeout: 121 seconds)
[19:05:29] *** Joins: andresv (textual@moz-kvanfr.dyn.estpak.ee)
[19:06:07] *** Quits: dstrbad (dstrbad@moz-lbk9qa.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[19:06:17] *** Joins: arBmind (Andreas@moz-4iukk4.dyn.telefonica.de)
[19:06:17] *** Quits: mdibaiee (mahdi@moz-qd2.8nj.244.151.IP) (Ping timeout: 121 seconds)
[19:06:40] <d-snp> awesome it totally worked, now I have 700 other compile errors :D
[19:06:46] <Dabo> :D
[19:07:22] *** Quits: aravindavk (aravinda@moz-1s8.d0e.200.117.IP) (Quit: Konversation terminated!)
[19:07:29] <fizzbooze> shouldn't Rust be able to tell that reference self from the closure in that particular case is totally safe?
[19:07:32] *** Joins: mdibaiee (mahdi@moz-qd2.8nj.244.151.IP)
[19:07:41] <d-snp> I do hope mr sebcrozet is not working himself on these fixes as well
[19:07:56] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[19:08:12] *** Joins: Twinklebear (Twinklebear@moz-b2b.o78.110.128.IP)
[19:08:16] *** Joins: rbranson (rbranson@moz-i7m.9o0.201.199.IP)
[19:09:41] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[19:09:44] *** Quits: sayan (sayan@moz-ip8.595.51.106.IP) (Ping timeout: 121 seconds)
[19:11:27] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[19:11:32] *** Joins: fengshaun (fengshaun@moz-rf0qk5.cable.teksavvy.com)
[19:11:34] <talchas> robyoung: you can return a Box<Foo> that's been turned into a *Foo
[19:11:40] <panicbit> d-snp: Like literally? Because I know that feel...
[19:12:04] *** Joins: chc4 (chc4@moz-pdo0at.ma.comcast.net)
[19:12:05] <talchas> (you'll need a way to make sure to free the Box whenever the python object is GCed, and do so using rust's allocator)
[19:12:20] *** Quits: vmx (vmx@moz-ojoj6q.dip0.t-ipconnect.de) (Quit: Leaving)
[19:12:27] <panicbit> d-snp: Though it was more like 300 :P
[19:13:16] <d-snp> it's just 69 :P
[19:13:20] <panicbit> Sexy
[19:13:49] *** Quits: mdibaiee (mahdi@moz-qd2.8nj.244.151.IP) (Ping timeout: 121 seconds)
[19:13:56] <d-snp> ah it's another weird one though: nalgebra::traits::structure::BaseFloat` is not implemented for the type `N`
[19:13:57] *** Quits: tadh (quassel@moz-iq6hhs.biz.rr.com) (Ping timeout: 121 seconds)
[19:13:59] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[19:14:10] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[19:14:35] <bluss> fizzbooze: size is static. You capture it by value (move) so the type you capture is usize. No borrowed data in usize! => 'static
[19:14:37] *** Quits: mjewkes (mjewkes@moz-03qrro.eastlink.ca) (Connection closed)
[19:14:54] <d-snp> but N is a Scalar, and most definitely has BaseFloat as a trait
[19:14:55] <bluss> fizzbooze: roughly 'static ~= no borrowed data or borrowed for all program lifetime
[19:15:04] *** Joins: mjewkes (mjewkes@moz-03qrro.eastlink.ca)
[19:15:19] <d-snp> is nalgebra::traits::structure::BaseFloat not the same as BaseFloat?
[19:15:34] *** Quits: harrisonclarke (harrisoncla@moz-03qrro.eastlink.ca) (Connection closed)
[19:15:36] <d-snp> they should be..
[19:15:44] *** Joins: harrisonclarke (harrisoncla@moz-03qrro.eastlink.ca)
[19:15:59] *** Joins: DemonOne (Avi@moz-h6mspk.red.bezeqint.net)
[19:16:02] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[19:16:09] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Connection closed)
[19:16:22] *** Joins: __ixti__ (ixti@moz-21k.dae.119.188.IP)
[19:16:25] <d-snp> oh no, I've got a dependency issue, I see it now
[19:16:28] <robyoung> talchas: thanks, and then how do accept the pointer and turn it back into a Foo?
[19:16:34] *** Quits: duncan (paul@moz-dst.ms6.225.173.IP) (Connection closed)
[19:17:08] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Quit: Konversation terminated!)
[19:17:36] <d-snp> hmm this is super awkward, to make the project depend on my modified code I have to change the dependency in 10 different places
[19:17:38] *** Quits: _ixti_ (ixti@moz-21k.dae.119.188.IP) (Ping timeout: 121 seconds)
[19:17:59] <panicbit> I still can't decide whether to accept CString or just &str in a higher level API
[19:18:08] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[19:18:23] <talchas> robyoung: well, then you can have ffi functions that take a *mut Foo
[19:18:30] <talchas> and they can just do whatever they need on that
[19:18:31] *** Quits: jeffasinger (jeff@moz-1j1qti.cable.mindspring.com) (Client exited)
[19:19:02] <panicbit> Using CString would push error handling towards the parameter side, using &str would push error handling towards the returning side...
[19:19:02] *** Joins: tadh (quassel@moz-iq6hhs.biz.rr.com)
[19:19:07] <XMPPwocky> panicbit: take T: AsRef<OsStr> ?
[19:19:08] *** Quits: pyon (pyon@moz-v9d.mdl.7.179.IP) (Quit: I have irrefutable proof that D < 0. It follows trivially from 2D > 3D, which is obviously true.)
[19:19:20] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[19:19:54] <talchas> if you've written (&self) or (&mut self) methods on Foo, then you can just do (*foo).whatever() in the wrappers you expose to python
[19:20:06] <mbrubeck> d-snp: You can use a Cargo override
[19:20:13] *** Joins: mahdi (mahdi@moz-a0t.hlt.244.151.IP)
[19:20:15] *** Joins: Brochacho_ (alberto@moz-b2ovno.cable.rcn.com)
[19:20:17] <mbrubeck> http://doc.crates.io/guide.html#overriding-dependencies
[19:20:34] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[19:20:38] *** Quits: ray1 (ray@moz-m8t.t3f.66.59.IP) (Ping timeout: 121 seconds)
[19:21:02] <talchas> (you could probably even abuse the fact that &self is probably the same as arg-0 == *const Foo, and export the methods directly)
[19:21:06] *** Joins: saterus (saterus@moz-o0ug28.res.rr.com)
[19:21:10] <d-snp> mbrubeck: thanks a lot!
[19:21:14] <d-snp> tha'ts going to help :P
[19:21:26] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[19:21:51] *** Quits: ytain (ytain@moz-pr2.aip.175.108.IP) (Quit: Textual IRC Client: www.textualapp.com)
[19:23:01] <robyoung> talchas: is that something I have to write? all I can see in the std::ffi package is for dealing with strings (sorry if these are really dumb questions)
[19:23:05] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Quit: Konversation terminated!)
[19:23:36] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[19:23:36] *** ChanServ sets mode: +ao pcwalton pcwalton
[19:23:52] <talchas> yeah, there's no automatic "export all this impl block's methods under some naming pattern"
[19:24:10] *** Joins: geomyidae_ (uid214@moz-n22p0h.charlton.irccloud.com)
[19:24:12] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[19:24:12] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[19:24:18] *** Joins: LRN1 (LRN@moz-63ipbh.nationalcablenetworks.ru)
[19:24:32] *** Quits: LRN (LRN@moz-63ipbh.nationalcablenetworks.ru) (Ping timeout: 121 seconds)
[19:24:32] <talchas> there's #[no_mangle] or like #[export_name="foo"] or something to make a function exported under a name of your choice
[19:25:18] <geomyidae_> Y'all might find this interesting https://twitter.com/chuckguy55/status/596757280063823872
[19:25:19] <talchas> in terms of the Box<Foo><->*mut Foo, there's boxed::into_raw and Box::from_raw (or transmute)
[19:25:43] <tOkeshu> quick question: I'm not too familiar with linking in rust. But if I understand well, I just have to put #![crate_type = "bin"] at the top of the file with the main function and Cargo will produce a static binary I can distribute?
[19:25:46] *** Joins: kgrandon (Adium@moz-u3dg2t.sfo1.mozilla.com)
[19:25:54] <robyoung> talchas: cool, thanks, I think I'm going to dive in and just see what happens *fingers-crossed*
[19:26:44] *** Quits: atomic (atomic@moz-md1mas.ipredator.se) (Quit: Leaving)
[19:27:00] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[19:27:27] *** Quits: harrisonclarke (harrisoncla@moz-03qrro.eastlink.ca) (Connection closed)
[19:27:48] *** Joins: pyon (pyon@moz-v9d.mdl.7.179.IP)
[19:27:53] <panicbit> XMPPwocky: So you think I should return e.g. NulError in the return type of the function? The issue is that handling these errors is pretty ugly, especially when almost every single function needs to take a string.
[19:28:35] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Quit: Konversation terminated!)
[19:29:05] *** Quits: Dean4Devil (Dean@moz-qe2kds.paranoidlabs.org) (Quit: I just nomnomed the Interweb)
[19:29:09] <panicbit> XMPPwocky: The idea is that some functions wouldn't need a Result<..> return type if it would directly take a CString
[19:29:16] <XMPPwocky> mm
[19:29:20] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[19:29:35] *** Quits: JosiahOne|Work (Thunderbird@moz-f2hp7h.biz.rr.com) (Ping timeout: 121 seconds)
[19:30:13] <panicbit> XMPPwocky: But that in turn would make calling the functions uglier again...
[19:30:41] *** Quits: k1000 (k1000@moz-bodlln.ip-198-50-149.net) (Ping timeout: 121 seconds)
[19:31:22] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[19:31:23] *** Joins: atomic (atomic@moz-5jhi75.piratenpartei-nrw.de)
[19:31:26] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[19:31:44] <blaenk> hey, long time away from rust, is it just me or is the bitflags package essentially broken?
[19:31:59] <blaenk> something about associated constants being feature gated. so I added associated_consts and it still errors
[19:32:25] *** chmanchester is now known as chmanchester|afk
[19:32:45] *** Quits: mjewkes (mjewkes@moz-03qrro.eastlink.ca) (Connection closed)
[19:32:58] <d-snp> expected `&V`, found `&<V as core::ops::Neg>::Output` hmm, it lost type specifity in the operation
[19:33:00] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Quit: Konversation terminated!)
[19:33:14] <blaenk> nevermind bros
[19:33:21] <blaenk> it's cause this package was using rustc_bitflags
[19:33:25] *** Joins: k1000 (k1000@moz-bodlln.ip-198-50-149.net)
[19:33:26] <blaenk> they should've been using bitflags
[19:33:53] *** Joins: mjewkes (mjewkes@moz-03qrro.eastlink.ca)
[19:33:57] *** Quits: zaeleus (zaeleus@moz-r5abra.cpe.cableone.net) (Ping timeout: 121 seconds)
[19:34:10] *** Quits: mahdi (mahdi@moz-a0t.hlt.244.151.IP) (Ping timeout: 121 seconds)
[19:34:17] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[19:34:30] *** Quits: DemonOne (Avi@moz-h6mspk.red.bezeqint.net) (Ping timeout: 121 seconds)
[19:35:11] *** Quits: thelink2012 (Mibbit@moz-21t.aul.183.179.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:35:22] *** Joins: harrisonclarke (harrisoncla@moz-03qrro.eastlink.ca)
[19:36:13] <panicbit> XMPPwocky: This one of the functions where I have this dilemma: https://github.com/panicbit/rust-augeas/blob/master/src/lib.rs#L16
[19:36:38] *** Joins: geri (Mibbit@moz-5j998n.highway.telekom.at)
[19:36:49] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Quit: Konversation terminated!)
[19:36:56] *** Joins: DemonOne (Avi@moz-o1ngmi.cablep.bezeqint.net)
[19:37:20] *** Joins: mahdi (mahdi@moz-a0t.hlt.244.151.IP)
[19:37:40] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:37:49] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[19:38:06] <geri> hi, how does rust do packet management? ...vendoring?
[19:38:09] *** Joins: lov2cod (Adium@moz-40l.ob1.22.8.IP)
[19:38:19] <blaenk> with cargo
[19:38:24] *** Joins: jeffasinger (jeff@moz-1j1qti.cable.mindspring.com)
[19:38:32] <blaenk> http://doc.crates.io
[19:38:37] <geri> can you explain why go needs vendoring and rust not?
[19:38:41] <blaenk> no
[19:38:43] <d-snp> :P
[19:39:11] <blaenk> "use os::platform::fs::MetadataExt extension traits", so theres no longer a way to get e.g. modified() time in a cross-platform manner?
[19:39:12] <d-snp> eh, does Go have a lock file?
[19:39:42] <blaenk> I guess I'll have to define my own functions with a cfg guard?
[19:39:44] <blaenk> that's a shame
[19:39:59] <geri> blaenk: ?
[19:40:05] <blaenk> what?
[19:40:23] <blaenk> haha rustdoc showing impl docs twice
[19:40:24] <blaenk> http://doc.rust-lang.org/std/os/unix/fs/struct.Metadata.html
[19:40:28] <blaenk> good ol rustdoc
[19:40:28] <d-snp> geri: Rust uses a lock file to overcome the need for vendoring
[19:40:38] <d-snp> if Go doesn't, then that's the reason
[19:40:49] <geri> what is lock file?
[19:41:23] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Quit: Konversation terminated!)
[19:41:26] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[19:41:47] <d-snp> it's a copy of the dependencies file, but with all versions precisely specified, you ship it with your source so other builds will have exact same versions
[19:42:04] *** Joins: fabiand (fabiand@moz-1mcrin.dip0.t-ipconnect.de)
[19:42:28] <geri> where is it located?
[19:42:40] <geri> ...i refer to the lock file
[19:42:41] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[19:42:48] <d-snp> right next to your dependency file (so you have a Cargo.toml and next to it a Cargo.lock)
[19:44:05] <andresv> i have an [i16] array and i would like to write it to stdout as raw bytes: http://is.gd/2wqDuM, however stdout write takes [u8] buf as argument, what is preferred way handle this problem?
[19:44:06] *** Joins: brainproxy (michael@moz-9vjtig.mo.charter.com)
[19:45:18] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Quit: Konversation terminated!)
[19:45:19] *** Quits: gmorenz (normal@moz-6a8.048.51.70.IP) (Connection closed)
[19:45:28] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Quit: leaving)
[19:45:30] *** Joins: gmorenz (normal@moz-6a8.048.51.70.IP)
[19:45:51] *** Quits: mahdi (mahdi@moz-a0t.hlt.244.151.IP) (Ping timeout: 121 seconds)
[19:46:10] <d-snp> cool question andresv, I'd loop over it and do two writes per i16
[19:46:13] *** Quits: DerisiveLogic (smuxi@moz-1jqqlg.biz.rr.com) (Ping timeout: 121 seconds)
[19:46:18] <d-snp> but maybe that's not very performant
[19:46:22] *** Quits: zoosha (gmunoz@moz-e0j.3sr.79.167.IP) (Quit: leaving)
[19:46:37] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[19:46:40] <d-snp> I guess in C you could reinterpret cast the i16[] to an i8[] of twice the length, and be super quick about it?
[19:47:11] <talchas> only if you're on the right endianness for your output format
[19:47:15] <d-snp> right
[19:47:18] <panicbit> I'd probably iterate over the array, and write it to stdio using podio
[19:47:23] *** Joins: maugzoide (maugzoide@moz-ua3.1qv.43.177.IP)
[19:47:26] <talchas> (and if you want to do that, there's transmute)
[19:47:30] <andresv> jep in C it is super simple problem with casts
[19:47:36] <Ms2ger> Just do the simple loop
[19:47:39] <panicbit> podio has a write_i16 http://mvdnes.github.io/rust-docs/podio/podio/trait.WritePodExt.html#tymethod.write_i16
[19:47:49] <talchas> yeah, or there's byteorder
[19:48:04] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[19:48:10] *** Quits: brainproxy (michael@moz-9vjtig.mo.charter.com) (Ping timeout: 121 seconds)
[19:48:24] <panicbit> Sure, but if you don't care about the endianess podio should suffice
[19:48:33] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[19:48:42] <talchas> I mean, it needs to know too
[19:49:03] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Quit: Konversation terminated!)
[19:49:44] <panicbit> talchas: Oh yeah. Derp.
[19:50:30] <panicbit> Anyway, either one is fine :D
[19:50:33] <blaenk> thread 'rustc' panicked at 'path not fully resolved: PathResolution { base_def: DefStruct(DefId { k
[19:50:33] <blaenk> rate: 9, node: 19881 }), last_private: LastMod(AllPublic), depth: 1 }', /home/rustbuild/src/rust-bu
[19:50:33] <blaenk> ildbot/slave/nightly-dist-rustc-linux/build/src/librustc/middle/def.rs:81
[19:50:35] <blaenk> aww maan
[19:50:40] <blaenk> wanted to work on my project, got an ICE instead
[19:50:44] <blaenk> in some dependency
[19:50:50] *** Quits: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP) (Client exited)
[19:50:52] *** Quits: Defaultti (Defaultti@moz-bmdn13.kapsi.fi) (Quit: Quitting.)
[19:51:03] <andresv> panicbit: podio is nice, i will use that
[19:51:12] *** Joins: mkpankov (mkpankov@moz-52o.21l.23.84.IP)
[19:51:17] *** Joins: DerisiveLogic (smuxi@moz-1jqqlg.biz.rr.com)
[19:51:26] <d-snp> blaenk: at least you got to Berlin really fast right?
[19:51:28] *** Quits: fabiand (fabiand@moz-1mcrin.dip0.t-ipconnect.de) (Quit: Verlassend)
[19:51:33] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[19:51:37] *** Quits: fizzbooze (bp@moz-no6phj.sm5k.54kg.0101.2620.IP) (Ping timeout: 121 seconds)
[19:51:55] <blaenk> that joke went over my head
[19:52:05] <blaenk> something about TSP? idk
[19:52:09] <d-snp> it is super lame.. ICE are high speed trains in germany :P
[19:52:14] <blaenk> o lol
[19:52:25] <panicbit> Haha, nice one :P
[19:52:33] *** Joins: Defaultti (Defaultti@moz-bmdn13.kapsi.fi)
[19:52:54] *** Quits: GaryOak_ (GaryOak_@moz-etoj16.hfc.comcastbusiness.net) (Connection closed)
[19:53:21] <panicbit> blaenk: Have you tried updating rust?^^
[19:53:26] <Ms2ger> Nice ones, too
[19:53:27] *** Quits: harrisonclarke (harrisoncla@moz-03qrro.eastlink.ca) (Connection closed)
[19:53:28] *** Quits: Takronix (Takronix@moz-nm15k0.hr.cox.net) (Connection closed)
[19:53:35] *** Joins: mahdi (mahdi@moz-a0t.hlt.244.151.IP)
[19:53:43] <blaenk> yeah I did a multirust update, I'm on: rustc 1.1.0-nightly (7bd71637c 2015-05-06) (built 2015-05-06)
[19:53:45] <blaenk> playbot: VERSION
[19:53:47] -playbot- "rustc 1.0.0-beta.3 (5241bf9c3 2015-04-25) (built 2015-04-25)"
[19:53:53] <blaenk> I got one over on playbot for sure
[19:53:56] <blaenk> oh it's on beta
[19:53:58] <blaenk> there a nightly bot?
[19:54:51] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[19:55:15] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:55:57] <panicbit> blaenk: https://github.com/rust-lang/rust-playpen/issues/85
[19:55:59] <frankmcsherry> d-snp: I have taken two trains to Berlin ever, and was late 1 and 2 hours, resp. !@#$ ICEs..
[19:56:39] *** Joins: zoosha (gmunoz@moz-e0j.3sr.79.167.IP)
[19:57:14] *** Quits: DerisiveLogic (smuxi@moz-1jqqlg.biz.rr.com) (Ping timeout: 121 seconds)
[19:57:28] *** Joins: DerisiveLogic (smuxi@moz-1jqqlg.biz.rr.com)
[19:57:37] *** Quits: mahdi (mahdi@moz-a0t.hlt.244.151.IP) (Ping timeout: 121 seconds)
[19:57:48] <geomyidae_> frustrating that the navigation is still different on every single site on rust-langorg
[19:58:25] *** Quits: atomic (atomic@moz-5jhi75.piratenpartei-nrw.de) (Connection closed)
[19:58:28] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[19:58:41] *** Joins: harrisonclarke (harrisoncla@moz-03qrro.eastlink.ca)
[19:58:53] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[19:59:15] *** Quits: killercup (killercup@moz-qj5qhi.dip0.t-ipconnect.de) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:59:54] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[20:00:03] *** Joins: atomic (atomic@moz-th81f8.headstrong.de)
[20:00:11] *** Quits: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de) (Quit: leaving)
[20:00:18] *** Quits: lyc (lyc@moz-0ke.pqd.150.123.IP) (Ping timeout: 121 seconds)
[20:00:26] *** Joins: mahdi (mahdi@moz-a0t.hlt.244.151.IP)
[20:00:31] <d-snp> frankmcsherry: I once waited 7 hours for a train in Greece, the morning one broke down so we had to take the afternoon one :P with that in mind I'm pretty happy with ICE's ;)
[20:00:52] *** Joins: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de)
[20:01:00] *** Joins: lyc (lyc@moz-0ke.pqd.150.123.IP)
[20:01:22] *** Quits: JKWright (JKWright@moz-sed6c9.biz.rr.com) (Connection closed)
[20:01:37] *** Quits: kodomulo (Thunderbird@moz-2tuel4.or.comcast.net) (Client exited)
[20:01:49] *** Joins: jshs (jshs@moz-o713hv.dip0.t-ipconnect.de)
[20:02:57] *** Joins: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk)
[20:03:47] <andresv> panicbit: hmm, not sure if podio will do the trick
[20:03:56] *** Quits: chc4 (chc4@moz-pdo0at.ma.comcast.net) (Connection closed)
[20:04:04] <panicbit> andresv: Why not?
[20:04:04] *** Quits: harrisonclarke (harrisoncla@moz-03qrro.eastlink.ca) (Connection closed)
[20:04:17] *** Quits: homa_rano (edre@moz-6pigob.cable.rcn.com) (Ping timeout: 121 seconds)
[20:04:28] *** Quits: mahdi (mahdi@moz-a0t.hlt.244.151.IP) (Ping timeout: 121 seconds)
[20:04:46] *** Joins: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP)
[20:05:23] *** Joins: kamilc__ (kamil@moz-u843uu.play-internet.pl)
[20:05:35] *** Joins: mib_izwuet (Mibbit@moz-03qrro.eastlink.ca)
[20:06:02] *** Joins: chc4 (chc4@moz-pdo0at.ma.comcast.net)
[20:06:17] *** Quits: geofft (geofft@moz-vfphq1.mit.edu) (Connection closed)
[20:06:19] *** Joins: homa_rano (edre@moz-6pigob.cable.rcn.com)
[20:06:44] <benji> is there a way to create an array using information not available at compile-time? (i.e. i've tried something like `let x: [0; Foo::bar()]` where `fn bar() -> u32 { 10 }`)
[20:07:04] <geomyidae_> http://www.rust-lang.org/ http://users.rust-lang.org/ http://doc.rust-lang.org/nightly/book/ http://doc.rust-lang.org/nightly/reference.html http://doc.rust-lang.org/nightly/std/index.html http://doc.rust-lang.org/nightly/index.html I mean, the nav for every one of these is different/inconsistent
[20:07:14] *** Quits: achernya (quassel@moz-8tbl8i.6686.inna.4830.2001.IP) (Quit: No Ping reply in 180 seconds.)
[20:07:15] *** Joins: achernya (quassel@moz-8tbl8i.6686.inna.4830.2001.IP)
[20:07:34] *** Quits: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk) (Ping timeout: 121 seconds)
[20:07:34] <kwantam> benji: if it needs to be dynamically sized, it should be a Vec
[20:07:46] *** Quits: sw17ch (sw17ch@moz-h64l8d.wa.comcast.net) (Client exited)
[20:07:52] <benji> kwantam: that's.. not quite right
[20:08:05] *** Quits: lyc (lyc@moz-0ke.pqd.150.123.IP) (Ping timeout: 121 seconds)
[20:08:09] <benji> let me show you an example: http://is.gd/z8YtC6
[20:08:15] *** Quits: mark_edward (mark@moz-dg4mrp.in.comcast.net) (Quit: Leaving)
[20:08:26] *** Joins: omaskery (Oliver@moz-q2n77u.range86-130.btcentralplus.com)
[20:08:39] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[20:08:43] <benji> kwantam: it's not exactly  dynamically sized, rather, it may be one of two sizes, both of which implement a trait
[20:08:43] <talchas> there's no way to directly create that
[20:08:43] *** Joins: lyc (lyc@moz-0ke.pqd.150.123.IP)
[20:09:08] *** Quits: eevee (eevee@moz-buleoj.veekun.com) (Ping timeout: 121 seconds)
[20:09:18] <talchas> if it's fixed at two you could use an enum
[20:09:31] <talchas> but that'll always allocate the larger size, if that matters
[20:09:37] *** Joins: alexggordon (alexggordon@moz-b3e66j.hfc.comcastbusiness.net)
[20:09:51] <benji> talchas: ah! that hadn't occurred to me
[20:09:55] <talchas> (if you don't want it to, then it has to be a DST, even if there's only two options)
[20:10:06] <benji> DST
[20:10:12] *** Joins: JKWright (JKWright@moz-8v5.ejr.173.24.IP)
[20:10:12] <benji> i'm guessing is dynamically sized type?
[20:10:14] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[20:10:19] <talchas> yeah, sorry
[20:10:39] <benji> right, I think having an enum would be fine and still be reasonably clean
[20:10:56] <mjewkes> Does anyone quickly know how to go about running "make" from a cargo build script? 
[20:11:03] <bluss> size of an enum is at least the size of the largest variant, benji 
[20:11:19] <andresv> panicbit: examples are only using single value to write for example i16 into [u8] buf, however i would like to write [i16] buf to stdout, which takes [u8] buf as input
[20:11:37] <bluss> mjewkes: you can simply spawn it with the Command thing from libstd
[20:11:44] *** Joins: meh (meh@moz-2vi7cf.42-151.net24.it)
[20:11:55] *** Quits: achernya (quassel@moz-8tbl8i.6686.inna.4830.2001.IP) (Quit: No Ping reply in 180 seconds.)
[20:11:59] *** Joins: eligreen (eli@moz-l60e55.dynamic.jazztel.es)
[20:12:00] <mjewkes> bluss: Thanks!
[20:12:06] <panicbit> andresv: stdout implements Write and WritePodExt is implemented for every type that implements Write
[20:12:16] <robyoung> talchas: I've given it a try but I'm getting a segfault when trying to reuse the pointer; this is what I have, is there anything obviously wrong I'm doing? https://gist.github.com/robyoung/3644f13a05c95cb1b947
[20:12:19] <bluss> mjewkes: I mean the essence is just std::process::Command::new("make").spawn().unwrap();   
[20:12:21] <meh> is there a simple way to get a `#[repr(C)] enum` from an int?
[20:12:45] <kwantam> bluss, benji: it wouldn't save on size, but having an Enum does mean the type system is enforcing properties that you'd otherwise have to enforce yourself
[20:12:52] *** Joins: achernya (quassel@moz-i01917.mit.edu)
[20:13:02] <panicbit> andresv: You just have to use the correct endianess
[20:13:03] <mjewkes> bluss: Ya, looking at the doc now. Looks right. Thanks :)
[20:13:27] <panicbit> andresv: I'm preparing a fitting example for you
[20:13:45] *** Quits: silven (quassel@moz-0roor3.priv.bahnhof.se) (Ping timeout: 121 seconds)
[20:13:50] *** Joins: silven (quassel@moz-0roor3.priv.bahnhof.se)
[20:13:50] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:14:01] *** Joins: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP)
[20:14:09] *** Joins: harrisonclarke (harrisoncla@moz-03qrro.eastlink.ca)
[20:14:18] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[20:15:19] <talchas> robyoung: hmm, that looks ok (the continue_state will free the Point, which is probably not what you want long term, but shouldn't crash immediately)
[20:15:41] *** Joins: savage884 (dev@moz-39ha0d.com)
[20:16:27] <talchas> (you probably want either (*point).x, (*point).y, or let p = &*point, and make sure that it doesn't infer 'static for p or something)
[20:16:37] <savage884> Is there a way to specify the name for a serialized property in a struct in Rust--like, say, for json deserialization, etc.?
[20:17:00] *** Joins: choplin (choplin@moz-qkm9un.ap.nuro.jp)
[20:17:08] *** Joins: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk)
[20:17:13] *** Joins: zzing (textual@moz-jucm1n.cpe.distributel.net)
[20:18:02] *** Quits: achernya (quassel@moz-i01917.mit.edu) (Quit: No Ping reply in 180 seconds.)
[20:18:58] <andresv> panicbit: that would be the best - i could not understand yet how to properly use it with stdin/stdout
[20:19:11] <Dabo> savage884, with #[derive(RustcSerialize)] I don't think so - but you can always implement it manually as well
[20:19:24] *** Joins: achernya (quassel@moz-8tbl8i.6686.inna.4830.2001.IP)
[20:19:35] *** Quits: DerisiveLogic (smuxi@moz-1jqqlg.biz.rr.com) (A TLS packet with unexpected length was received.)
[20:19:43] *** Quits: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net) (Client exited)
[20:19:58] <savage884> Dabo: Yeah, it looked like that was the case for both of the serialization libraries I was able to find. :|
[20:20:08] <d-snp> alright, after a brief break, round 3: error: the trait `core::marker::Reflect` is not implemented for the type `T` [E0277]
[20:20:10] *** Joins: akiss (akiss@moz-ulk.jp0.1.195.IP)
[20:20:12] <bluss> savage884: it's going to be possible in the future
[20:20:40] <Dabo> savage884, one thing you could do is create a second struct which represents serialized data with different names for things, and have a method to turn your data into it / get your data from it
[20:21:02] *** Quits: choplin (choplin@moz-qkm9un.ap.nuro.jp) (Ping timeout: 121 seconds)
[20:21:13] <savage884> Dabo: That's a good idea, actually. I never thought of that. Unfortunately, the whole reason I would need alternative names is just that the names they use for this object aren't legal in Rust.
[20:21:22] <Dabo> ahh, ok
[20:21:43] <Dabo> savage884, with serde at least, I don't think it's *that* hard to implement it manually though
[20:21:46] <bluss> savage884: serde supports JSON serialization with field renames http://erickt.github.io/
[20:22:06] <bluss> savage884: I'm sure it requires rust nightly though
[20:22:24] *** Quits: iirelu (iirelu@moz-djc7e8.range217-42.btcentralplus.com) (Quit: Leaving)
[20:22:42] *** Joins: Boscop (me@moz-5ac.5rj.126.98.IP)
[20:22:46] <savage884> bluss: That's what I was hoping for! Spent an hour or two looking for it yesterday before giving up and using a regex. :P
[20:22:50] <savage884> Thank you.
[20:22:59] <panicbit> andresv: http://is.gd/PNBb9G
[20:23:46] *** Quits: Havvy (Havvy@moz-epv20b.wa.comcast.net) (Quit: Leaving)
[20:24:20] *** Quits: akiss (akiss@moz-ulk.jp0.1.195.IP) (Ping timeout: 121 seconds)
[20:24:25] *** Joins: eevee (eevee@moz-snfe52.qot6.ifqp.0470.2001.IP)
[20:24:43] <benji> d-snp: what's the problem?
[20:25:01] *** Quits: Brochacho_ (alberto@moz-b2ovno.cable.rcn.com) (Client exited)
[20:25:17] <d-snp> I'm figuring it out now, it's similar to this code here: https://github.com/reem/rust-typeable/commit/7a3cad3918aa4d472d74873f037402b159751446 apparently using Any fixes it somehow
[20:25:40] <d-snp> alright I get other compilation errors now, so Ithink I fixed it
[20:28:03] *** Quits: hjr3 (hradtke@moz-dmp.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:28:23] <andresv> panicbit: ahaa, now i get it, however could you know about performance, it seems to be slow compared to C version, where uint16_t array can be just casted to (uint8_t*) and only 1 write will be called for whole array
[20:28:38] *** Quits: slomo (slomo@moz-p8m0g2.net) (Quit: Ex-Chat)
[20:28:51] *** Joins: errordeveloper (ilya@moz-4uj.bgu.199.90.IP)
[20:28:58] *** Joins: trigen (MSX@moz-sgda69.static.versatel.nl)
[20:29:09] *** Quits: tamird (textual@moz-lje.m54.130.157.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:29:18] <bluss> savage884: found some examples for serde. https://github.com/serde-rs/serde/blob/master/tests/test_annotations.rs#L19
[20:29:24] <bluss> aways mine the tests
[20:30:40] *** Quits: OtterCoder (quassel@moz-p97qam.onrq.kn87.100e.2600.IP) (Ping timeout: 121 seconds)
[20:31:14] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[20:32:00] *** Joins: dinfuehr (dinfuehr@moz-kgtbsa.highway.telekom.at)
[20:32:08] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: Textual IRC Client: www.textualapp.com)
[20:32:21] *** Joins: OtterCoder (quassel@moz-p97qam.onrq.kn87.100e.2600.IP)
[20:32:22] *** Joins: akiss (akiss@moz-ulk.jp0.1.195.IP)
[20:32:44] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[20:32:51] *** Quits: andresv (textual@moz-kvanfr.dyn.estpak.ee) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:33:00] <d-snp> alright, round 4: it uses std::collections::VecMap, which is unstable
[20:33:05] *** Quits: errordeveloper (ilya@moz-4uj.bgu.199.90.IP) (Ping timeout: 121 seconds)
[20:33:05] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[20:33:07] *** Quits: Hannibal_Smith (nico@moz-hacth9.retail.telecomitalia.it) (Quit: Leaving)
[20:33:10] <d-snp> I suppose it's been extracted somewhere then
[20:33:12] *** bvssvni_ is now known as bvssvni
[20:33:29] *** Quits: eligreen (eli@moz-l60e55.dynamic.jazztel.es) (Quit: Konversation terminated!)
[20:34:21] <savage884> bluss: Thank you again. I didn't think to look in the tests directory before.
[20:35:15] <bluss> first check docs.. nope, examples, no.. ok tests.
[20:35:21] <savage884> lol
[20:35:23] <bluss> nope w.r.t uses of rename
[20:35:32] *** Quits: zzing (textual@moz-jucm1n.cpe.distributel.net) (Quit: Textual IRC Client: www.textualapp.com)
[20:35:34] *** Joins: khades (Thunderbird@moz-u45.3vk.74.212.IP)
[20:35:59] <d-snp> hmm I suppose I should just change it to be a HashMap for now, hopefully with no big consequence
[20:36:02] *** Quits: tigrou3tac (fabien@moz-gdonfo.fbx.proxad.net) (Ping timeout: 121 seconds)
[20:36:14] <d-snp> features that have been marked as unstable at this point are basically out right?
[20:36:28] *** Quits: akiss (akiss@moz-ulk.jp0.1.195.IP) (Ping timeout: 121 seconds)
[20:36:38] <kwantam> d-snp, likely for 1.0, but not necessarily for future versions.
[20:37:07] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[20:37:59] <kwantam> Unless you're super worried about the cost of the hashing you could just use HashMap instead of VecMap. Or I guess if you're relying on having a `predecessor()` function.
[20:38:13] *** Quits: dellavg (dellavg@moz-9lesb5.retail.telecomitalia.it) (Ping timeout: 121 seconds)
[20:38:19] *** Quits: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP) (Ping timeout: 121 seconds)
[20:38:30] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[20:38:46] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[20:40:25] <d-snp> kwantam: well it's in a physics engine, and the whole file is a Map that transparently switches between VecMap and HashMap
[20:40:35] <d-snp> so basically I'm changing it to be utterly useless :D
[20:40:42] *** Quits: essem2 (Thunderbird@moz-0g3v4k.biz.rr.com) (Client exited)
[20:40:43] <kwantam> haha I see
[20:40:44] *** Joins: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP)
[20:41:29] <kwantam> a map based on a vector is not so hard to implement by hand if you are really averse to using unstable code
[20:41:35] <brson> what are the first things newbies want to know when they open this page http://doc.rust-lang.org/std/
[20:42:03] <brson> is the current text useful?
[20:42:04] <kwantam> It's basically just Vec<Option<T>> where the key is the position in the array
[20:42:26] <d-snp> kwantam: it's not that I'm particularily averse to using unstable code, but I'm trying to build a game with a friend, and have this physics engine as a dependency, and it would be cool if we could just use Rust 1.0.0 when it comes out
[20:42:46] <futile> brson: it starts with ptr and mem, not sure if that is what newbies need first?
[20:42:49] <d-snp> and apparently it disables unstable code
[20:43:07] *** Joins: oal (oal@moz-0lm.qc2.255.130.IP)
[20:43:22] <brson> futile: excellent observation!
[20:43:31] *** Quits: sfalcon (textual@moz-qtd94t.customer.broadstripe.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:43:33] <futile> maybe mention more collection types, like Maps
[20:43:42] <kwantam> In that case, I guess the choice is the performance hit of using HashMap even when keys are small or the pain of maintaining your own VecMap implementatation (which, honestly, is not that much of a pain)
[20:43:43] <brson> yeah, like 'these are the types you should care about'
[20:44:05] <oal> The rust compiler is really friendly, and highly intelligent. "unresolved name `board`. Did you mean `b`?"
[20:44:14] <oal> Makes me happy :D
[20:44:23] <d-snp> kwantam: I could just pull its source from std, and put it in here right?
[20:44:31] <d-snp> I'll check if the licenses match
[20:44:37] *** Joins: canhtak (canhtak@moz-1a9fh1.luxdsl.pt.lu)
[20:44:42] <kwantam> Apache 2.0 or MIT for rust
[20:44:43] <futile> yeah, like that
[20:44:54] <d-snp> it's MIT licenses, so that should be fine
[20:45:02] *** Quits: jjthrash (jjthrash@moz-trc.kca.55.50.IP) (Connection closed)
[20:45:09] *** Joins: brainproxy (michael@moz-9vjtig.mo.charter.com)
[20:46:10] <bluss> brson: link to std::env, not std::os in the blurb
[20:46:30] <brson> bluss: thanks!
[20:46:47] <bluss> brson: and I agree more friendly stuff in the start of the overview. Collections, I/O, Result & Option & Iterator
[20:46:50] <bluss> hm
[20:47:07] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[20:47:25] *** Quits: forgottenone (forgottenon@moz-j3l.lq5.40.176.IP) (Quit: Konversation terminated!)
[20:49:10] <futile> go simply has a long list: https://golang.org/pkg/
[20:49:20] <futile> also pretty useful
[20:50:09] *** Quits: brainproxy (michael@moz-9vjtig.mo.charter.com) (Ping timeout: 121 seconds)
[20:50:14] <futile> then again, they don't make it immediately obvious where file operations hide
[20:50:17] <futile> (atleast not to me)
[20:50:24] <aaronm04> Has anybody written Linux kernel modules in Rust?
[20:50:51] <mbrubeck> aaronm04: I think a few people have; https://github.com/tsgates/rust.ko is one
[20:50:55] <mbrubeck> (just a toy one)
[20:51:02] <aaronm04> ah cool, thanks
[20:51:45] *** Joins: sfalcon (textual@moz-25s.gtv.190.216.IP)
[20:51:46] *** Quits: frankmcsherry (frankmcsher@moz-uaqde2.dyn.telefonica.de) (Connection closed)
[20:51:56] <panicbit> mbrubeck, aaronm04: Seeing that my commits are still the latest ones I'd say it hasn't advanced very much (and wasn't very much to begin with...)
[20:52:43] <bluss> futile: brson: Yeah, so we should link std::io, std::fs, std::net next to each other in that case
[20:52:55] *** Quits: Savago (Savago@moz-8hd.3b6.246.162.IP) (Client exited)
[20:53:15] <brson> bluss: agree
[20:53:38] <d-snp> ah this is fun, I think I'm succeeding :P
[20:53:54] <Diggsey> how can I get equivalent semantics to a field of type: PhantomData<Cell<DST>>
[20:54:29] *** Quits: ehiggs (ehiggs@moz-939f42.1fqp.rav1.1812.2a02.IP) (Ping timeout: 121 seconds)
[20:54:49] <Diggsey> obviously Cell<DST> doesn't make sense on its own, but it accurately describes the semantics the containing type should have...
[20:55:08] <bluss> brson: hilight of std::num should probably be removed, it doesn't do anything interesting anymore
[20:55:35] *** Joins: larhat1 (Adium@moz-tb1ulb.cable.virginm.net)
[20:55:41] <aaronm04> mbrubeck, panicbit: ah, I see. It seems like Rust is the ideal language for kernels, since you need safety, and without a compiler guaranteeing safety you'd need either intense code analysis or a microkernel
[20:55:44] *** Quits: proclus (user@moz-i6nqh2.fios.verizon.net) (Ping timeout: 121 seconds)
[20:55:48] <futile> maybe it should directly link to Iterator, not only to iter
[20:55:57] *** Quits: andre_ (andre@moz-rnd.3qv.76.201.IP) (Quit: leaving)
[20:55:59] <aaronm04> and microkernels result in way too many context switches IMO
[20:56:06] <brson> bluss: right, thanks
[20:56:17] <rkruppe> Diggsey: What are the semantics? The Cell<> part shouldn't make any difference for the compiler, should it?
[20:56:28] <panicbit> aaronm04: You loose the whole std world though...
[20:56:53] <bluss> rkruppe: Cell contains UnsafeCell which the compiler knows about
[20:56:57] <jshs> aaronm04: rust doesn't save you from logic errors
[20:57:00] <Diggsey> rkruppe: Doesn't PhantomData<Cell<_>> make it !Sync
[20:57:02] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[20:57:03] <aaronm04> everything? maybe it can be replaced with a kernel-friendly version
[20:57:06] <oal> I get "note: the type `[u8]` cannot be indexed by `u8`" here. How can I avoid that? http://hastebin.com/diyatutize.coffee
[20:57:12] <aaronm04> jshs: yeah, I know
[20:57:12] <rkruppe> bluss: Yes, I mean in the context of PhantomData
[20:57:23] *** Joins: GaryOak_ (GaryOak_@moz-etoj16.hfc.comcastbusiness.net)
[20:57:32] <rkruppe> Diggsey: But you can opt out of Sync manually, can't you?
[20:57:43] <bluss> oal: index with usize indices
[20:57:55] <FreeFull> oal: casting col_num to usize when indexing with it would work
[20:58:02] <Diggsey> rkruppe: Assuming that !Sync is the only information the compiler gets from UnsafeCell
[20:58:04] <jshs> rkruppe: I marks all lifetime parameters within the cell type invariant (afaik)
[20:58:07] <jshs> it*
[20:58:13] *** Joins: maedhroz (maedhroz@moz-4jk5ho.res.rr.com)
[20:58:27] *** Quits: maugzoide (maugzoide@moz-ua3.1qv.43.177.IP) (Quit: (null))
[20:58:31] <rkruppe> Oh, that's cool
[20:58:32] <bluss> rkruppe: I'm not sure all it does, but probably everything of the above^
[20:58:52] <oal> bluss, FreeFull, thanks, that works!
[20:59:08] <rkruppe> Proving once again that the fastest way to get answers is to post the wrong answer :P
[20:59:33] <rkruppe> panicbit: You lose std, but you can keep core and maybe some other crates, which constitute a large chunk of std's functionality
[20:59:35] <Diggsey> does PhantomData<DST> make the containing struct a DST?
[21:00:06] <mbrubeck> Diggsey: no, since PhantomData<T> is always zero-sized
[21:00:26] <panicbit> rkruppe: Oh right, I forgot that std itself is composed of multiple crates. That definitely helps.
[21:00:31] *** Joins: BossKonaSegway (Michael@moz-vp8rf7.res.rr.com)
[21:00:37] <Derecho> hmm I'm having a little disagreement with the borrow checker. I'm not quite sure what direction I should be looking at to solve this.
[21:00:51] <apoelstra> Derecho: can you post some code?
[21:00:55] <Derecho> code: http://s.drk.sc/4OGVz8?guess   error: http://s.drk.sc/rUq5S5/
[21:01:05] <panicbit> rkruppe: Does that mean that you could e.g. gain support for Vec if you'd impl malloc?
[21:01:12] <rkruppe> panicbit: But you're right that you lose every third party crate that uses std, even if it wouldn't need to. Then again, how much third party code will go into a kernel
[21:01:17] <Diggsey> ok, so can I rely on PhantomData<DST> + !Sync being exactly the same as a hypothetical PhantomData<Cell<DST>>?
[21:01:28] *** Quits: Fiveside (fiveside@moz-t2eatg.vsp.com) (Ping timeout: 121 seconds)
[21:01:35] <rkruppe> Yes, Vec is in libcollections, which needs allocation but not a while lot more
[21:01:38] <Derecho> I believe I understand what the message is saying, but I wouldn't know how to solve it
[21:02:03] *** Joins: SafeMoneyOnl (SafeMoneyO@moz-7lrc37.residential.rdsnet.ro)
[21:02:05] <rkruppe> *a whole lot more
[21:02:15] *** Quits: maedhroz (maedhroz@moz-4jk5ho.res.rr.com) (Ping timeout: 121 seconds)
[21:02:17] <panicbit> rkruppe: Huh? Just import gtk into the kernel. Isn't that what Windows did at some point? ;P
[21:02:20] *** Joins: Fiveside (fiveside@moz-t2eatg.vsp.com)
[21:02:21] <mbrubeck> Derecho: You'll need to do `let left = self.load_register(...); let right = self.load_register(...); let sum = self.add(left, right); ...`
[21:02:21] *** Joins: Gabriel_7 (Gabriel@moz-mn5uqh.mtgr.92aj.0e35.2a01.IP)
[21:02:22] *** Quits: mib_9mee6b (Mibbit@moz-i7cb3r.fios.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:02:26] <SafeMoneyOnl> 4,1 Win 20.000-30.000 Euro Per year (1700-2500 Euro per month) With 1 H per day for 365 days. At start you will earn little money but with time your starting to learn much more at start you can win 0.5 euro per day first week and after a month you will earn 10-20 euro per day Its Verry simple just Make an account on my link and i will train you and i will be your guide as much you need Sign Up 
[21:02:26] <SafeMoneyOnl> 4,1here And good Luck 9,1 -----> http://www.marketglory.com/strategygame/lolopoco
[21:02:33] <Diggsey> :/
[21:02:33] *** Joins: kvsari (kvsari@moz-fgsnv9.bbtec.net)
[21:02:36] *** Joins: bfrog (tburdick@moz-hpc0jl.il.comcast.net)
[21:02:39] <panicbit> SafeMoneyOnl: YES, give me all your money
[21:02:46] *** Quits: kamilc__ (kamil@moz-u843uu.play-internet.pl) (Quit: Linkinus - http://linkinus.com)
[21:02:49] *** Joins: RCIX (RCIX@moz-vnmep7.ph.cox.net)
[21:02:56] <mbrubeck> Derecho: Relevant discussion: https://www.reddit.com/r/rust/comments/2zj34k/why_doesnt_the_compiler_figure_this_borrowing_out/
[21:03:01] <Derecho> mbrubeck: oh really? :( that's going to ruin my plans of having it looking OCD proof
[21:03:07] *** Joins: ytain (ytain@moz-pr2.aip.175.108.IP)
[21:03:13] <jshs> Diggsey: if DST is parametric in lifetime(s), they may be different
[21:03:20] *** Joins: mark_edward (mark@moz-dg4mrp.in.comcast.net)
[21:03:39] <Diggsey> jshs: I think I found a solution: UnsafeCell doesn't require Sized
[21:03:48] <Diggsey> so I can use PhantomData<UnsafeCell<DST>>
[21:03:51] *** Quits: SafeMoneyOnl (SafeMoneyO@moz-7lrc37.residential.rdsnet.ro) (G-Lined: abuse)
[21:04:14] <Diggsey> that should guarantee correct semantics
[21:04:23] <Derecho> mbrubeck: well, thank you anyway
[21:04:31] <jshs> Diggsey: I _think_ that PhantomData<[&'a T]> and PhantomData<Cell<[&'a T]>> behave differently for example
[21:04:36] *** Quits: c0a8 (joel@moz-ind.838.207.130.IP) (Ping timeout: 121 seconds)
[21:04:39] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[21:05:30] <mbrubeck> Derecho: Yeah, it's definitely a wart in the language; lots of people run into errors because of this.
[21:05:32] <jshs> s/Cell/UnsafeCell
[21:06:00] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[21:06:14] <Diggsey> jshs: But PhantomData<Cell<T>> behaves the same as PhantomData<UnsafeCell<T>> with the exception of the Sized bound on Cell?
[21:06:46] <mbrubeck> Derecho: It sounds like there's a good chance it'll be fixed in a future release so that your original code will work.
[21:06:54] <jshs> Diggsey: I'm not sure
[21:06:54] *** Quits: Izacht13 (Izacht13@moz-gee645.atsnmeam.ccmaine.net) (Quit: Leaving)
[21:07:15] <niconii> holy shit, irc advertisements exist?
[21:07:27] <panicbit> niconii: Not advertisement. SPAM.
[21:07:36] <mbrubeck> If you can communicate with it, you can spam with it. :P
[21:07:46] <Derecho> mbrubeck: that would be handy. it'd make code like this a lot more compact
[21:08:03] *** Quits: da-kid (da@moz-a2d.k2d.153.84.IP) (Quit: Nope: 1.1.1)
[21:08:22] <Derecho> shit I can't do any lets in a match can I ?
[21:08:23] *** Quits: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP) (Connection closed)
[21:08:24] <mbrubeck> Derecho: Actually I think my suggested fix was more verbose than needed...
[21:08:26] *** Quits: savage884 (dev@moz-39ha0d.com) (Quit: leaving)
[21:09:11] <Derecho> well if self. isn't released until the line finishes that does appear to be the only way
[21:09:11] <mbrubeck> Derecho: you want to bind a variable that exists it the surrounding scope?  You can do `let x = match y { ... }` and return the value from the match arms...
[21:09:15] *** Quits: calatalee (Mibbit@moz-1072lv.dsl.as9105.com) (Quit: http://www.mibbit.com ajax IRC Client)
[21:09:34] *** Joins: omaskery_ (Oliver@moz-q2n77u.range86-130.btcentralplus.com)
[21:09:38] *** Quits: omaskery_ (Oliver@moz-q2n77u.range86-130.btcentralplus.com) (Connection closed)
[21:09:43] <mbrubeck> Derecho: http://is.gd/Uqbkmm
[21:09:48] <Derecho> it won't always be known what variable will get set
[21:09:48] *** Joins: proclus (user@moz-i6nqh2.fios.verizon.net)
[21:09:57] *** Quits: jdm (jdm@moz-lgg87s.ckpj.s0pt.0450.2001.IP) (Quit: )
[21:09:59] <mbrubeck> Derecho: Ugly, but not horribly ugly. :)
[21:10:08] <d-snp> what crate is this in? use super::range::RangeArgument;
[21:10:12] <Derecho> right, let's tryu
[21:10:14] <Derecho> -u
[21:10:59] <d-snp> argh, it's in collections
[21:11:04] *** Joins: alexherbo2 (alex@moz-m1s.bcu.100.89.IP)
[21:11:21] *** Joins: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP)
[21:11:32] <Derecho> huh. that worked.
[21:11:37] *** Quits: DerisiveLogic (smuxi@moz-g93io6.res.rr.com) (A TLS packet with unexpected length was received.)
[21:11:37] <Derecho> when I had it more verbose it didn't.
[21:11:47] <Derecho> must've missed a ; somewhere.
[21:11:52] <Derecho> cheers
[21:11:57] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[21:12:21] *** Quits: Racquetball (namestolenw@moz-dnlovt.cpe.twtelecom.net) (Quit: leaving)
[21:12:37] *** Quits: futile (felix@moz-cmcd12.unity-media.net) (Quit: WeeChat 1.2-rc1)
[21:12:48] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[21:13:56] *** Quits: lov2cod (Adium@moz-40l.ob1.22.8.IP) (Quit: Leaving.)
[21:14:13] <sfalcon> Anyone have an example of passing a function as an argument to a function? I found a SE answer, but pretty sure it is out of date (https://stackoverflow.com/questions/27080405/how-to-pass-a-function-as-argument-in-rust)
[21:14:37] *** Quits: jeffasinger (jeff@moz-1j1qti.cable.mindspring.com) (Client exited)
[21:15:30] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[21:16:42] *** jandem is now known as jandem-away
[21:17:14] <Tari> sfalcon: fn call<F, T>(f: F) -> T where F: FnMut() -> T { f() }
[21:17:14] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[21:17:14] *** ChanServ sets mode: +o erickt
[21:17:16] *** Joins: hjr3 (hradtke@moz-dmp.av4.169.69.IP)
[21:17:17] <Tari> as a minimal example
[21:17:35] *** Quits: JKWright (JKWright@moz-8v5.ejr.173.24.IP) (Connection closed)
[21:17:44] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:17:51] <FreeFull> The bound might be Fn or FnOnce instead
[21:18:08] <sfalcon> Tari: thanks!
[21:18:15] *** Joins: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP)
[21:18:20] <pyon> Can I define my own dynamically sized types?
[21:18:23] *** Quits: mindtree (Mitch@moz-qbevee.iprimus.net.au) (Ping timeout: 121 seconds)
[21:18:47] <pyon> (Besides just wrappers around existing DSTs.)
[21:19:33] <pyon> I'd like something like "the size of this struct is a function of its first usize".
[21:19:37] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[21:20:26] *** Quits: trigen (MSX@moz-sgda69.static.versatel.nl) (Connection closed)
[21:20:34] <rkruppe> pyon: That sounds pretty much like [T] modulo where the size is stored
[21:20:54] <reem> pyon: no, not really
[21:20:58] *** Quits: mib_izwuet (Mibbit@moz-03qrro.eastlink.ca) (Quit: http://www.mibbit.com ajax IRC Client)
[21:21:29] *** Quits: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:21:55] *** Joins: csoriano (csoriano@moz-g6rkdc.net.upcbroadband.cz)
[21:21:55] *** Quits: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net) (Connection closed)
[21:22:04] <pyon> It's something like "struct Object { tag: usize, data: [usize; self.tag] }". Objects will be all dynamically allocated in arenas, and will always be manipulated through pointers, so not knowing the size statically is fine.
[21:22:05] *** Quits: mkpankov (mkpankov@moz-52o.21l.23.84.IP) (Quit: Bye)
[21:22:17] *** Quits: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP) (Ping timeout: 121 seconds)
[21:22:51] *** Joins: cburgdorf (cburgdorf@moz-q880t5.dynamic.kabel-deutschland.de)
[21:23:06] <rkruppe> So the size doesn't change after creation?
[21:23:36] *** Joins: genbattle (genbattle@moz-ikj3l8.xtra.co.nz)
[21:23:41] <cburgdorf> Anyone got some minutes to help me understand something about https://github.com/rust-lang/rust/issues/25115 better?
[21:23:59] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[21:24:24] *** Joins: sw17ch (sw17ch@moz-7ebl88.hfc.comcastbusiness.net)
[21:24:25] <pyon> rkruppe: noppe
[21:24:27] <oal> Hmm, I see .permutations() is marked as unstable. Is there another way to use it in 1.0 beta?
[21:24:27] <pyon> nope*
[21:25:01] <mbrubeck> cburgdorf: https://github.com/rust-lang/rust/issues/21232
[21:25:03] <rkruppe> pyon: Then why don't you just use [usize]? Does the size need to be stored in-line as well, for C interop or something?
[21:25:14] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[21:25:22] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Quit: )
[21:25:30] *** Joins: dawehner (quassel@moz-2qq.hhs.128.88.IP)
[21:25:36] *** Joins: Havvy (Havvy@moz-nafeuv.5euu.k9bm.0007.2601.IP)
[21:26:03] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:26:11] *** Joins: virtual (virtual@moz-0e3j8p.dip0.t-ipconnect.de)
[21:26:15] <pyon> No, no C interop. I'm porting this from C, where I'm using "struct object { size_t size; size_t data[]; };", though.
[21:26:29] <pyon> I guess using a [usize] works.
[21:26:44] <rkruppe> Yeah, that's more like the Rust(tm) way
[21:27:21] *** Quits: FrozenCow (FrozenCow@moz-i2tvv4.chello.nl) (Quit: Leaving)
[21:27:29] *** Quits: twipeD (wipeD@moz-a62.e4h.225.79.IP) (Connection closed)
[21:28:19] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[21:29:34] *** Quits: jtdowney (jtdowney@moz-gh1isj.static.twtelecom.net) (Ping timeout: 121 seconds)
[21:29:37] *** Quits: canhtak (canhtak@moz-1a9fh1.luxdsl.pt.lu) (Client exited)
[21:29:59] *** Parts: bracewel (bracewel@moz-rql.i86.105.184.IP) ("Leaving")
[21:30:03] *** Joins: ekiwi_ (kevin@moz-a2becv.halifax.rwth-aachen.de)
[21:30:33] *** Quits: gmorenz (normal@moz-6a8.048.51.70.IP) (Ping timeout: 121 seconds)
[21:30:45] <mbrubeck> oal: You can copy its implementation into your own code (assuming compatible licenses) or into a separate crate, if someone hasn't already done so, and assuming it doesn't rely on too much other unstable code.
[21:30:51] *** Joins: gmorenz (normal@moz-6a8.048.51.70.IP)
[21:32:20] <oal> mbrubeck, how is the plan for unstable features going forward? Will they be enabled by default in 1.0, or remain unstable until some 1.x version of Rust?
[21:32:30] *** Quits: larhat1 (Adium@moz-tb1ulb.cable.virginm.net) (Quit: Leaving.)
[21:32:44] <cmr> oal: they remain unstable until they are stabilized.
[21:32:47] <cmr> (or removed)
[21:33:08] <cmr> 1.0's feature set is already cut, what you have in the beta is what you'll get, pretty much.
[21:33:25] *** Quits: dawehner (quassel@moz-2qq.hhs.128.88.IP) (Connection closed)
[21:33:45] <benji> is there a nicer way to export an enum's values to the parent namespace, other than `use Enum::{x, y, ...}` ?
[21:33:51] <oal> ok, I'll try to write a not-too-ugly workaround then :)
[21:33:59] <mbrubeck> benji: use Enum::*
[21:34:25] *** Joins: daze (daze@moz-tc29eq.static.zebra.lt)
[21:34:26] <benji> mbrubeck: ah, yeah; that still needs to be done for each enum though
[21:34:35] <cburgdorf> mbrubeck: thanks! Gotta wrap my head around that. Seems weird at first glance. But there’s another thing that I don’t fully understand. When I write let foo = SomeStruct; let rc_foo = Rc::new(foo); The rc_foo doesn’t point to the same memory location as the foo, right? I mean, when I do Rc::new(foo); It’s actually copying the foo into the RC, right?
[21:34:39] <benji> that's a lot nicer though, I hadn't thought about that
[21:34:43] <benji> thanks
[21:34:54] *** Quits: djcb (user@moz-nqdj21.elisa-laajakaista.fi) (Connection closed)
[21:35:20] <mbrubeck> cburgdorf: Right -- a move is the same as a copy, except the original location becomes unreadable.
[21:35:58] *** Quits: renderful (renderful@moz-atg40s.co.comcast.net) (Connection closed)
[21:36:17] <cburgdorf> mbrubeck: ok, awesome! Got it! Thanks for clarifying :)
[21:36:27] *** Joins: dwrensha_ (chatzilla@moz-46o4hi.pa.comcast.net)
[21:36:38] <pyon> Do objects that implement Drop still have a runtime drop flag?
[21:37:01] <mbrubeck> cburgdorf: In the specific case from that issue, it *has* to copy, because the original data is on the stack, while Rc data is on the heap.
[21:37:14] *** Quits: dwrensha (chatzilla@moz-46o4hi.pa.comcast.net) (Ping timeout: 121 seconds)
[21:37:23] *** dwrensha_ is now known as dwrensha
[21:38:25] *** Joins: p1start (p1start@moz-nftjhe.org)
[21:38:31] *** Quits: gopar (gopar@moz-5039uj.ca.comcast.net) (Quit: Leaving)
[21:38:40] *** Quits: bfrog (tburdick@moz-hpc0jl.il.comcast.net) (Quit: WeeChat 1.1.1)
[21:38:42] <benji> Some versions back, there used to be std::io::Reader that allowed reading to le/be u8,u16, etc. but is now gone; Is there anything providing equivalent functionality?
[21:38:58] <mbrubeck> benji: https://crates.io/crates/byteorder
[21:39:40] <benji> mbrubeck: great, thanks
[21:40:33] *** Joins: Douman (Douman@moz-ovkjj3.dynamic.mts-nn.ru)
[21:41:09] *** Joins: renderful (renderful@moz-atg40s.co.comcast.net)
[21:41:18] <pcwalton> can I not cast &mut Self to a trait object inside a default method?
[21:41:21] *** Quits: renderful (renderful@moz-atg40s.co.comcast.net) (Connection closed)
[21:41:22] <pcwalton> it complains about missing Sized
[21:41:29] <pcwalton> for no good reason as far as I can tell
[21:41:53] *** Quits: ahal (ahal@moz-b8e0a0.cpe.pppoe.ca) (A TLS packet with unexpected length was received.)
[21:42:19] *** Quits: alexggordon (alexggordon@moz-b3e66j.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[21:42:29] <talchas> hmm, well you can make the method "where Self: Sized"
[21:42:36] <talchas> though it's not immediately clear why that would be necessary
[21:42:50] <pcwalton> probably a compiler bug
[21:44:37] *** Joins: loyd (loyd@moz-uft.32f.108.213.IP)
[21:44:44] <pcwalton> nmatsakis: ^
[21:44:50] <pcwalton> seems like a compiler bug?
[21:44:55] <pcwalton> I'll work around it with a transmute
[21:44:57] <pcwalton> if you confirm
[21:45:20] *** Quits: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:45:43] *** Quits: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de) (Connection closed)
[21:46:24] *** Quits: proclus (user@moz-i6nqh2.fios.verizon.net) (Ping timeout: 121 seconds)
[21:46:25] *** Joins: Kxepal832 (Miranda@moz-fq6oo0.pppoe.mtu-net.ru)
[21:46:35] *** Joins: brainproxy (michael@moz-9vjtig.mo.charter.com)
[21:46:50] <aji> i heard somewhere that rust does some kind of result pointer thing?
[21:46:51] *** Quits: virtual (virtual@moz-0e3j8p.dip0.t-ipconnect.de) (Quit: Leaving)
[21:46:59] *** Joins: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de)
[21:47:07] <aji> like if a return value is too big, caller passes in a pointer to a location to store the result, or something
[21:47:08] *** Joins: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net)
[21:47:11] *** Joins: fabianvf (fabianvf@moz-ts8.m01.147.73.IP)
[21:47:19] <aji> if that's the case, what is the size threshold exactly?
[21:47:19] *** fkaa_ is now known as fkaa
[21:47:24] <geri> is there a queue ds in rust?
[21:47:40] *** Quits: mjewkes (mjewkes@moz-03qrro.eastlink.ca) (Connection closed)
[21:47:54] *** Quits: Kxepal (Miranda@moz-ncstea.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[21:48:36] *** Joins: mjewkes (mjewkes@moz-03qrro.eastlink.ca)
[21:48:45] <cmr> geri: VecDeque
[21:48:55] <cmr> http://static.rust-lang.org/doc/master/std/collections/index.html
[21:48:56] <talchas> aji: I believe it is up to the abi
[21:49:06] <skeuomorf> Will std::hash::hash() become stable in 1.0-stable?
[21:49:16] <talchas> which on x86_64 is >128 bits iirc (below that it is in registers)
[21:49:22] <cmr> skeuomorf: no, nothing that is currently unstable in the beta will become stable in the beta.
[21:49:24] <cmr> *release
[21:49:37] <d-snp> got a weird one again, hundreds of these: the type parameter `N` is not constrained by the impl trait, self type, or predicates
[21:49:48] <skeuomorf> cmr: Ok, thanks :)
[21:49:58] * skeuomorf tries to find the hash gh issue
[21:50:05] *** Joins: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk)
[21:50:16] *** Quits: mjewkes (mjewkes@moz-03qrro.eastlink.ca) (Connection closed)
[21:50:23] <mystor> What is the best way in rust to make a cyclic graph of trait objects? I’m not sure how to make something like that because I could use, for example, an arena to allocate the nodes, but if I want mutability, I need RefCells, which don’t work on trait objects (iirc). Any suggestions? (I also think there’s a problem with Arc/Rc and trait objects, not as
[21:50:23] <mystor> sure about that one).
[21:50:39] *** Quits: brainproxy (michael@moz-9vjtig.mo.charter.com) (Ping timeout: 121 seconds)
[21:50:43] <mystor> I could also, of course, use raw pointers, but that just seems sketchy
[21:51:13] *** Quits: fabianvf (fabianvf@moz-ts8.m01.147.73.IP) (Ping timeout: 121 seconds)
[21:51:16] *** Quits: harrisonclarke (harrisoncla@moz-03qrro.eastlink.ca) (Connection closed)
[21:51:45] *** Joins: harrisonclarke (harrisoncla@moz-03qrro.eastlink.ca)
[21:51:47] *** Quits: tkellen (tkellen@moz-f5ji1n.vt.comcast.net) (Client exited)
[21:51:56] <talchas> I believe Rc + DST is fixed
[21:52:00] <talchas> I don't know about RefCell
[21:52:17] <mystor> talchas: Really? That’s pretty sweet. Still can’t do mutability with it though :-/
[21:52:23] <bluss> talchas: Rc isn't fixed yet
[21:52:25] <mystor> RefCell requires Sized
[21:52:28] <mystor> bluss: :(
[21:52:31] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[21:52:37] <talchas> oh, I thought this week in rust said it was, I must have misread
[21:52:56] <bluss> RefCell, Mutex and others, but not Rc
[21:52:57] <d-snp> impl<N: Scalar, V: Norm<N>> Plane<V> // <-- is this wrong somehow?
[21:53:02] <talchas> ah
[21:53:09] *** Quits: daze (daze@moz-tc29eq.static.zebra.lt) (Connection closed)
[21:53:15] <mystor> wait, bluss so I can use trait objects in RefCell?
[21:54:11] <cmr> d-snp: yes, you need to use N somewhere besides as just a parameter.
[21:54:29] <cmr> d-snp: you probably want it to be an associated type on Norm
[21:54:38] <Diggsey> mystor: I think you can actually re-assign RefCell<DST>s, but you can mutate them (without changing the size)
[21:54:43] <Diggsey> *can't
[21:55:00] *** Joins: victor (Mibbit@moz-fgundf.dynamic.ziggo.nl)
[21:55:03] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:55:08] *** Quits: saterus (saterus@moz-o0ug28.res.rr.com) (Connection closed)
[21:55:17] <d-snp> cmr: thanks, I'm reading up on associated types now
[21:55:18] <mystor> cmr: So RefCell is still sized? Is that what you’re saying?
[21:55:20] *** Quits: sfalcon (textual@moz-25s.gtv.190.216.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:55:30] *** Joins: saterus (saterus@moz-o0ug28.res.rr.com)
[21:55:34] <mystor> I can just use a trait object as long as I know it’s size?
[21:55:38] <mystor> I’m a bit confused
[21:55:39] <Ms2ger> Nono
[21:55:44] <cmr> mystor: I didn't say anything :P
[21:55:48] *** Quits: harrisonclarke (harrisoncla@moz-03qrro.eastlink.ca) (Ping timeout: 121 seconds)
[21:55:52] <victor> is there a way to constrain the type of an associated type? e.g. trait A { type B : C; } ?
[21:55:59] <Ms2ger> If T is unsized, RefCell<T> works, but is unsized too
[21:56:00] <mystor> cmr: Oh, you were replying to someone else
[21:56:02] <mystor> :s
[21:56:04] <Diggsey> if you mean me, no RefCell is still DST
[21:56:06] <cmr> victor: just like that.
[21:56:08] <mystor> Ms2ger: ok awesome
[21:56:16] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Connection closed)
[21:56:17] <mystor> is that in beta?
[21:56:21] <mystor> or do I need nightly
[21:56:56] <Ms2ger> I think that's 1.1 material
[21:57:29] <geri> how can i use pop_back of a VecDeque? current = queue.pop_back();
[21:57:31] <mystor> ok, awesome. I was pretty sure that it didn’t work last time I tried it. How’d you guys pull it off :S?
[21:57:39] *** Joins: jjthrash (jjthrash@moz-gsigbq.res.rr.com)
[21:57:53] <pcwalton> ok, this compiler bug involving Sized is driving me up the wall
[21:58:01] <cmr> geri: just like that?
[21:58:14] <mystor> nvm found the patch https://github.com/rust-lang/rust/commit/57d8289754767e046a01abaab6054b7146c51f74
[21:58:15] *** Joins: grncdr (Adium@moz-m1g.e47.90.95.IP)
[21:58:24] <talchas> hmm, it sounds like actually they made the /types/ work but maybe not the coercions needed to actually use them
[21:58:39] <geri> cmr: i would like to get the last element and remove it?
[21:58:41] <victor> cmr: thank you! :)
[21:58:42] <geri> !
[21:58:46] *** Quits: ekiwi_ (kevin@moz-a2becv.halifax.rwth-aachen.de) (Client exited)
[21:58:54] *** Joins: sfalcon (textual@moz-qtd94t.customer.broadstripe.net)
[21:59:10] <geri> cmr: found `core::option::Option<u32>`
[21:59:15] <geri> (expected u32,
[21:59:20] <cburgdorf> mbrubeck: but putting a Box<int> into an Rc would also copy, no? Because Rc::new() does always a move, right?
[21:59:32] *** Quits: saterus (saterus@moz-o0ug28.res.rr.com) (Ping timeout: 121 seconds)
[21:59:35] <cmr> geri: yes, it returns an Option because it could be empty. Handle it as you please, maybe with an unwrap.
[21:59:46] <d-snp> cmr: is it new that impl<N: Scalar, V: Norm<N>> Plane<V> doesn't work anymore?
[22:00:01] <cmr> d-snp: it's been this way for a few months at least.
[22:00:03] *** Joins: renderful (renderful@moz-atg40s.co.comcast.net)
[22:00:04] <d-snp> I get it for a dozen of files
[22:00:09] <d-snp> hm
[22:00:27] <d-snp> last commit to this repo was a few weeks ago, but maybe they're using an older compiler then
[22:01:04] <geri> cmr: is there a way to avoid unwrap?
[22:01:18] *** Quits: kmicu (kmicu@moz-uga.edn.218.91.IP) (Client exited)
[22:01:19] <cmr> geri: what do you want to do if the queue is empty?
[22:01:27] *** Quits: uqbar (hrishi@moz-k31.ocr.38.69.IP) (Ping timeout: 121 seconds)
[22:01:41] <geri> i check if the queue is empty before
[22:01:55] <cmr> instead of checking if it's empty, match on queue.pop_back()
[22:01:58] <geri> in this case it would not pop and element just simple exit the loop
[22:02:06] *** Joins: Izacht13 (Izacht13@moz-gee645.atsnmeam.ccmaine.net)
[22:02:09] *** Quits: jjthrash (jjthrash@moz-gsigbq.res.rr.com) (Quit: Leaving...)
[22:02:11] <geri> queue.pop_back() as u32 ?
[22:02:20] *** Joins: orangeshark (erik@moz-n692gt.44tj.56ot.0306.2602.IP)
[22:02:21] <talchas> you can possibly instead do while let Some(x) = queue.pop_back() { }
[22:02:35] <Ms2ger> match queue.pop_back() { Some(x) => ..., None => ... }, or what he said
[22:02:35] *** Joins: wldcordeiro (wldcordeiro@moz-f5i18e.hmj8.a2nn.0007.2601.IP)
[22:02:38] <cmr> match queue.pop_back() { Some(element) => { ... }, None => { ... } }
[22:03:17] *** Joins: brainproxy (michael@moz-9vjtig.mo.charter.com)
[22:03:24] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[22:03:33] <d-snp> cmr: I don't get the associated type in this case, there's no trait, just that impl I gave and a struct definition, where do I put the associated types?
[22:03:40] <geri> cmr: match?
[22:03:49] <cmr> geri: http://doc.rust-lang.org/book/
[22:03:58] <Ms2ger> impl Foo { pub type X = u32; }
[22:04:02] <Ms2ger> d-snp, ^
[22:04:02] <geri> cmr i know match... but can it be done simpler?
[22:04:17] <Ms2ger> geri, maybe  while let Some(x) = queue.pop_back() { }
[22:04:49] <geri> current is already allocated
[22:04:49] <geri> current = queue.pop_back()
[22:04:57] <geri> let mut current: u32;
[22:05:05] <mbrubeck> cburgdorf: Yes, I think so, though I believe there are cases where a move could potentially be optimized to a no-op.  (Not sure if it actually happens in practice.)
[22:05:17] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:05:37] <Ms2ger> geri, show more code, please
[22:06:27] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Connection closed)
[22:06:29] <geri> Ms2ger: http://is.gd/xeQSqc
[22:06:31] *** Quits: santiago (santiago@moz-ro2mm9.res.rr.com) (Quit: Computer has gone to sleep.)
[22:06:58] *** Quits: OtterCoder (quassel@moz-p97qam.onrq.kn87.100e.2600.IP) (Quit: No Ping reply in 180 seconds.)
[22:07:04] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[22:07:20] *** Quits: renderful (renderful@moz-atg40s.co.comcast.net) (Quit: Leaving...)
[22:07:45] *** Quits: QuadTan (Tan@moz-r5oa06.student.uu.se) (Quit: Leaving)
[22:07:49] *** Quits: FreeFull (freefull@moz-f65lp3.skybroadband.com) (Ping timeout: 121 seconds)
[22:07:49] <jshs> d-snp: you should change the Norm trait, from `trait<N> Norm<N> {...}` to `trait Norm { type N; ... }` (keep constraints on N if there are any)
[22:07:52] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[22:07:54] <talchas> geri: yeah, you can instead do while let Some(current) = queue.pop_back() { ... } for your main loop
[22:08:00] *** Joins: OtterCoder (quassel@moz-p97qam.onrq.kn87.100e.2600.IP)
[22:08:03] *** Quits: naerbnic (naerbnic@moz-mol.4ra.239.216.IP) (Client exited)
[22:08:10] <talchas> (and then you don't need the earlier current declaration)
[22:08:20] *** Quits: datalus (Andrew@moz-28gbmi.res.rr.com) (Connection closed)
[22:08:43] *** Quits: geomyidae_ (uid214@moz-n22p0h.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[22:08:45] *** Joins: datalus (Andrew@moz-28gbmi.res.rr.com)
[22:09:18] <jshs> d-snp: in impls of Norm, you do `impl Norm for X { type N = Y; ... }`, where Y may depend on type parameters
[22:09:34] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Ping timeout: 121 seconds)
[22:10:00] *** Quits: alexherbo2 (alex@moz-m1s.bcu.100.89.IP) (Quit: WeeChat 1.1.1)
[22:10:13] <Ms2ger> geri, something like http://is.gd/OrLiUi
[22:10:21] *** Quits: grncdr (Adium@moz-m1g.e47.90.95.IP) (Ping timeout: 121 seconds)
[22:10:25] *** Joins: grncdr (Adium@moz-m1g.e47.90.95.IP)
[22:10:49] <geri> let mut visited = repeat(false).take(len).collect::<Vec<_>>(); 
[22:10:52] <geri> looks complicated
[22:10:55] *** Joins: nham (nham@moz-755.bu3.214.98.IP)
[22:10:58] *** Joins: gopar (gopar@moz-5039uj.ca.comcast.net)
[22:11:18] <d-snp> jshs: I tried a bunch of variations on that now, I can't seem to get it right, could you look at this? http://pastie.org/10178696
[22:11:18] <talchas> it should be the same either way
[22:11:20] <Murarth> geri: vec![false; len] also works.
[22:11:24] <talchas> though I would recommen efb that
[22:11:27] <Ms2ger> Murarth wins
[22:11:28] *** Joins: sin8h (Adium@moz-f0u.cn5.51.106.IP)
[22:11:33] *** Quits: dschatzberg (dschatz@moz-nk1clf.bu.edu) (Quit: Leaving)
[22:11:49] <Ms2ger> collect() is the magic way to turn an iterator into a container
[22:12:17] <bluss> into a collection
[22:12:24] *** Quits: saml (saml@moz-0pt9vd.cst.lightpath.net) (Quit: Leaving)
[22:12:41] <bluss> so logical
[22:12:45] <bluss> ?¿
[22:12:57] *** Quits: sin8h (Adium@moz-f0u.cn5.51.106.IP) (Quit: Leaving.)
[22:13:01] <Ms2ger> Should clearly be called contain() ;)
[22:13:21] *** Joins: sigma (sigma@moz-llrbra.range86-135.btcentralplus.com)
[22:13:23] <mbrubeck> contain yourself, Ms2ger 
[22:13:30] <bluss> Ms2ger.contain()
[22:13:40] * Ms2ger iterates bluss 
[22:13:44] *** Joins: mjewkes (mjewkes@moz-7hfo21.eastlink.ca)
[22:13:47] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[22:13:58] <jshs> d-snp: well, you need to get rid of that parameter `N` somehow. it was already suggested to change the Norm trait, did you try that?
[22:14:29] <bluss> I'm lazy
[22:14:31] <d-snp> ohh
[22:14:42] <d-snp> let me take a look at norm
[22:14:47] <d-snp> it's from a different package
[22:14:57] <jshs> d-snp: mh, which one?
[22:15:07] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:15:49] *** Joins: jazz (Mibbit@moz-7hfo21.eastlink.ca)
[22:15:55] *** Quits: mjewkes (mjewkes@moz-7hfo21.eastlink.ca) (Connection closed)
[22:15:56] <d-snp> nalgebra
[22:16:09] <d-snp> it's pub trait Norm<N: BaseFloat>
[22:16:38] <d-snp> I'm working on nalgebra as well, so if I should change it to be more compatible that's alright
[22:17:03] <jshs> yeah, using an associated type would be better
[22:17:06] <geri> Murarth: let mut visited: vec![false; len]; ?
[22:17:33] <Murarth> Not : but  =
[22:17:35] <talchas> let mut visited = vec![false; len];
[22:17:45] <jshs> d-snp: because N is uniquely determined for each type Norm is impl'ed for
[22:17:48] *** Quits: espadrine (tyl@moz-l019mn.fbx.proxad.net) (Ping timeout: 121 seconds)
[22:17:50] <talchas> you don't need to specify types on variables most of the time
[22:17:54] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[22:18:23] <geri> talchas: resize will work soon in 1.0?
[22:18:24] <d-snp> jshs: so would it be: pub trait Norm<N: BaseFloat> { type N;
[22:18:26] <geri> visited.resize(self.nodes.len(), false);
[22:18:27] <d-snp> .. }
[22:18:28] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:18:51] <jshs> d-snp: without the <N: ...>
[22:19:02] <talchas> geri: dunno
[22:19:05] <d-snp> oh but I still have to constrain it right?
[22:19:14] <jshs> yes, `type N: BaseFloat;`
[22:19:18] *** Quits: srh (User@moz-s2fgkg.q9f2.utp8.0306.2602.IP) (Ping timeout: 121 seconds)
[22:19:23] <d-snp> ahh ok
[22:19:32] <talchas> vec![X; n] is for precisely this sort of thing though
[22:19:35] <d-snp> thats not in the book :P
[22:19:44] <d-snp> oh it is
[22:19:45] <d-snp> nvm :P
[22:19:52] *** Quits: tadh (quassel@moz-iq6hhs.biz.rr.com) (Connection closed)
[22:20:09] <jshs> http://doc.rust-lang.org/nightly/book/associated-types.html#defining-associated-types
[22:20:16] <jshs> I guess you found it already :p
[22:20:32] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[22:20:40] *** Joins: dumbbell (dumbbell@moz-tfn004.made4.biz)
[22:20:44] <geri> Murarth: what does vec![X; n]  exactly?
[22:21:34] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:21:42] <Murarth> geri: It calls .clone() on the first argument (n - 1) times, with the last value being moved into place. So, it works for any type implementing Clone, but doesn't create unnecessary copies.
[22:21:46] *** Joins: bfrog (tburdick@moz-hpc0jl.il.comcast.net)
[22:21:55] *** Joins: jechochamber (Mibbit@moz-rvv.det.208.17.IP)
[22:23:20] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[22:23:31] *** Joins: Savago (Savago@moz-28o.4t3.247.50.IP)
[22:23:40] <geri> Murarth: like std::move?
[22:24:35] *** Quits: dinfuehr (dinfuehr@moz-kgtbsa.highway.telekom.at) (Connection closed)
[22:24:37] <Murarth> geri: Yes. That's the default behavior in Rust when a value is assigned to something.
[22:25:09] *** Quits: tomprogrammer (thomas@moz-b2v4k3.tr5r.qept.4dd0.2001.IP) (Quit: WeeChat 1.1.1)
[22:25:18] *** Quits: jxcl (abliskovsky@moz-o4k.t5t.173.207.IP) (Quit: Leaving)
[22:25:48] *** Joins: alexggordon (alexggordon@moz-4q0f8f.cable.rcn.com)
[22:26:30] <geri> Murarth: while let is cool!
[22:27:01] <talchas> yep
[22:27:05] <geri> is the variable reallocated every time?
[22:27:36] <talchas> it's on the stack, and rust doesn't currently even have alloca
[22:27:52] <talchas> (and there's no operator= vs initialization or anything)
[22:27:53] <geri> i refer to the stack
[22:28:11] <geri> let allocates on the stack at each while iteration?
[22:28:34] <talchas> I'm not entirely certain how it desugars, but there isn't really any meaning to the question?
[22:28:45] *** Joins: srh (User@moz-g3qqf4.public.wayport.net)
[22:29:01] <talchas> it's not like the compiler is changing the stack pointer as you go without allocas
[22:29:12] *** Quits: fkaa (tundmatu@moz-501od2.business.telia.com) (Ping timeout: 121 seconds)
[22:29:51] *** Quits: Douman (Douman@moz-ovkjj3.dynamic.mts-nn.ru) (Quit: )
[22:29:52] <talchas> and it's certainly all subject to llvm's optimizations, which even if rust grew alloca, would still make it uncertain
[22:29:53] <geri> talchas: i would like to know how often the variable is pushed on to the stack!?
[22:29:55] *** Joins: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net)
[22:29:55] *** Quits: groxx (uid57660@moz-p0d26v.brockwell.irccloud.com) (Quit: )
[22:29:57] *** Quits: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net) (Connection closed)
[22:30:00] *** Joins: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net)
[22:30:43] <pingveno> geri: It depends on what the compiler does.
[22:30:56] <reem> geri: It will likely re-use the same stack slot for the variable in each iteration, but it’s not certain as the compiler is free to optimize this however it sees fit.
[22:31:10] *** Quits: csoriano (csoriano@moz-g6rkdc.net.upcbroadband.cz) (Client exited)
[22:31:13] <talchas> there's no logical difference between let mut x; while whatever { x = something; } and while whatever { let x = something; }
[22:31:14] <geri> pingveno: while let queue.pop_back()
[22:31:25] <geri> current = pop_back()
[22:31:26] <jn> geri: if you *really* want to know, disassemble the compiled program (preferably at different optimization levels)
[22:31:39] <talchas> the compiler can use push/pop or not for either
[22:31:41] *** Joins: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net)
[22:31:46] <geri> ok
[22:31:58] *** Joins: arBmind1 (Andreas@moz-8uf6vu.adsl.alicedsl.de)
[22:32:04] *** Quits: loyd (loyd@moz-uft.32f.108.213.IP) (Ping timeout: 121 seconds)
[22:32:27] *** Quits: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP) (Connection closed)
[22:32:35] <cmr> geri: there will never be push/pop/stack pointer adjustment in a loop.
[22:32:40] *** Quits: arBmind (Andreas@moz-4iukk4.dyn.telefonica.de) (Ping timeout: 121 seconds)
[22:33:18] *** Joins: James (quassel@moz-225vcm.range86-148.btcentralplus.com)
[22:33:28] <aldeka> https://i.imgur.com/wGjc785.jpg
[22:34:13] <d-snp> jshs: something weird happened, I've made it work sort of, but now Norm doesn't implement `sqrt` anylonger
[22:34:34] <d-snp> I'm not sure where that came from
[22:35:11] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[22:35:19] <bluss> d-snp: what is norm?
[22:35:21] *** Joins: proclus (user@moz-i6nqh2.fios.verizon.net)
[22:35:38] <jshs> bluss: https://github.com/sebcrozet/nalgebra/blob/master/src/traits/geometry.rs#L211-L228
[22:35:43] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[22:36:10] <d-snp> yes so I get an error on line 215 now, that it can't call sqrt
[22:37:11] <jshs> did you add the BaseFloat constraint?
[22:37:26] <jshs> (to the assoc type)
[22:37:43] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[22:37:59] <d-snp> yes it looks like this:     type N: BaseFloat;
[22:38:20] *** Quits: sw17ch (sw17ch@moz-7ebl88.hfc.comcastbusiness.net) (Client exited)
[22:38:21] <jshs> you might need to change `N` in the function signatures to `Self::N`
[22:38:30] <d-snp> yes I did that
[22:38:40] *** Quits: areski (areski@moz-adq529.user.ono.com) (Ping timeout: 121 seconds)
[22:38:48] <d-snp> http://pastie.org/10178717
[22:38:51] <d-snp> thats what it looks like now
[22:39:07] <cburgdorf> mbrubeck: ok, one last before I can start writing the „ownership for dummies“ guide haha. Why is that not possible fn manipulate(car: Car) {
[22:39:08] <cburgdorf>     car.name = "bar".to_string();
[22:39:08] <cburgdorf> }
[22:39:12] <cburgdorf> Ooops
[22:39:30] <cburgdorf> mbrubeck: fn manipulate(car: Car) { car.name = "bar".to_string(); }
[22:40:01] <cburgdorf> mbrubeck: I mean, obviously it takes ownership. How can it take ownership and mutate it without taking a &mut
[22:40:25] *** Joins: alexherbo2 (alex@moz-m1s.bcu.100.89.IP)
[22:40:27] <niconii> cburgdorf: you need to mutate it and then return the result, otherwise it just gets destroyed
[22:40:32] <jn> fn manipulate(mut car: Car) {,...} i think
[22:40:33] *** Quits: Twinklebear (Twinklebear@moz-b2b.o78.110.128.IP) (Ping timeout: 121 seconds)
[22:40:50] <niconii> cburgdorf: fn manipulate(car: Car) -> Car { car.name = "bar".to_string(); car }
[22:41:07] *** Joins: sin8h (Adium@moz-f0u.cn5.51.106.IP)
[22:41:17] *** Quits: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP) (Ping timeout: 121 seconds)
[22:41:26] *** Joins: Twinklebear (Twinklebear@moz-b2b.o78.110.128.IP)
[22:41:37] <Diggsey> why does libsyntax take sooo long to compile now :/
[22:41:44] *** Joins: mjewkes (mjewkes@moz-7hfo21.eastlink.ca)
[22:41:50] <jshs> d-snp: weird, that seems fine
[22:41:59] <cburgdorf> niconii: no, that doesn’t work either because it gives „cannot assign to immutable field `car.name`“
[22:42:18] <niconii> cburgdorf: ahh, right right right, sorry
[22:42:26] <niconii> cburgdorf: fn manipulate(mut car: Car) -> Car { car.name = "bar".to_string(); car }
[22:42:37] *** Quits: sin8h (Adium@moz-f0u.cn5.51.106.IP) (Quit: Leaving.)
[22:42:40] <niconii> cburgdorf: arguments are immutable by default
[22:43:02] *** Quits: chc4 (chc4@moz-pdo0at.ma.comcast.net) (Ping timeout: 121 seconds)
[22:43:07] <niconii> cburgdorf: fn manipulate(car: Car) -> Car { let mut new_car = car; new_car.name = "bar".to_string(); new_car }
[22:43:12] <niconii> cburgdorf: this also works ^
[22:43:14] <cburgdorf> niconii: ahhhh! the mut goes before the variable name! That was the missing bit
[22:43:37] <d-snp> jshs: I'll try fixing the other errors first, maybe it just blocks on someone else
[22:44:02] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[22:44:03] <cburgdorf> niconii: I was missing that syntax bit. I only knew how to take &mut car but not how to have an owned mutable parameter. Thanks!
[22:44:15] <niconii> cburgdorf: yep, no problem
[22:44:39] *** Quits: sfalcon (textual@moz-qtd94t.customer.broadstripe.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:45:31] *** Quits: Ms2ger (Ms2ger@moz-2md1ol.isp.belgacom.be) (Quit: nn)
[22:46:26] *** Quits: shep-home (shep@moz-7pm0e0.fios.verizon.net) (Ping timeout: 121 seconds)
[22:46:26] *** Quits: KurtRustle (Mibbit@moz-rtu72a.dynamic.kabel-deutschland.de) (Quit: http://www.mibbit.com ajax IRC Client)
[22:46:40] *** Quits: carols10cents (carols10cen@moz-7pm0e0.fios.verizon.net) (Ping timeout: 121 seconds)
[22:47:34] <Twinklebear> hey all, is there some functionality to partition a slice in place? I found Iterator::partition but it looks like this creates two new Vecs, which isn't what I want to do
[22:48:04] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[22:48:24] <talchas> split_at
[22:48:36] <talchas> and/or split_at_mut
[22:48:46] <d-snp> jshs: I fixed it, it didnt work because Float wasnt in scope
[22:49:03] <d-snp> it was right there in the error message, but under the red text so I thought it was part of the next message
[22:49:08] *** Joins: zyphrus (David@moz-1a4.urk.98.101.IP)
[22:49:33] <jshs> d-snp: oh, that explains it :)
[22:50:03] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[22:50:36] <Twinklebear> sorry, talchas I should have been clearer in what I want, I want to do a partial sort I think it's called. basically C++'s std::partition: http://en.cppreference.com/w/cpp/algorithm/partition
[22:50:53] *** Quits: veqz (veqz@moz-nvr8g6.209.getinternet.no) (Quit: Konversation terminated!)
[22:51:36] <bluss> Twinklebear: that's a nice function, doesn't exist in libstd
[22:51:37] *** Quits: nham (nham@moz-755.bu3.214.98.IP) (Ping timeout: 121 seconds)
[22:51:40] *** Joins: veqz (veqz@moz-nvr8g6.209.getinternet.no)
[22:51:43] *** Quits: ai (ai@moz-pqofrl.sunline.net.ua) (Quit: Leaving.)
[22:53:03] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[22:53:06] <Twinklebear> dang, I guess a full sorting would be ok as well then. maybe I can cheat it somehow and get the same effect
[22:53:54] <Twinklebear> ah yep I can definitely use sort_by to do this
[22:54:21] *** Quits: brson (brson@moz-qjg.7vl.56.172.IP) (Quit: leaving)
[22:54:22] <ebfull> will multirust work for installing really old nightlies, like last october?
[22:54:25] *** Joins: shep-home (shep@moz-7pm0e0.fios.verizon.net)
[22:54:27] *** Quits: Izacht13 (Izacht13@moz-gee645.atsnmeam.ccmaine.net) (Quit: Leaving)
[22:54:41] *** Joins: carols10cents (carols10cen@moz-7pm0e0.fios.verizon.net)
[22:54:52] *** Quits: omaskery (Oliver@moz-q2n77u.range86-130.btcentralplus.com) (Quit: Leaving)
[22:55:55] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Quit: leaving)
[22:56:00] *** Joins: sw17ch (sw17ch@moz-h64l8d.wa.comcast.net)
[22:56:26] *** Quits: hjr3 (hradtke@moz-dmp.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:56:33] <talchas> Twinklebear: well, sort_by might end up slower than std::partition even with a function that makes it equivalent in behavior
[22:56:46] *** Quits: bfrog (tburdick@moz-hpc0jl.il.comcast.net) (A TLS packet with unexpected length was received.)
[22:57:20] <Twinklebear> yea, it will be slower doing a full sort
[22:57:20] <talchas> but if you don't care /that/ much about perf, then yeah, it would work
[22:57:54] <d-snp> holy shit, jshs it compiled! :D
[22:58:04] <jshs> d-snp: wooo
[22:58:04] *** nsm is now known as nsm|away
[22:58:09] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[22:58:17] <Twinklebear> it might be worht it to implement an equivalent to std::partition, I'm not sure. Using this for BVH construction so there is some leeway for performance
[22:58:32] *** Joins: FreeFull (freefull@moz-f65lp3.skybroadband.com)
[22:58:44] <talchas> probably the worst part is that sort/sort_by allocate for a mergesort
[22:58:56] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[22:59:07] *** Joins: maedhroz (maedhroz@moz-4jk5ho.res.rr.com)
[22:59:09] <Twinklebear> oh I thought it was supposed to be in place from the docs?
[22:59:25] *** Joins: santiago (santiago@moz-8th.j2e.167.12.IP)
[22:59:27] <bluss> I don't think the docs say
[22:59:52] <jshs> Twinklebear: out of curiosity, which algorithm do you use for the BVH?
[23:00:09] <Twinklebear> jshs, I'm doing a SAH based split, it's basically the PBRT implementation
[23:00:25] <talchas> Twinklebear: it is in place only in that it mutates the array rather than returning a new one
[23:00:34] <Twinklebear> ooh i see talchas 
[23:00:42] <Twinklebear> that may kind of be bad then heh
[23:01:09] <Twinklebear> It can be working on millions of triangles at the start, although the structures being sorted themselves are relatively light
[23:01:35] *** Quits: cjwelborn (cjwelborn@moz-np6hed.al.charter.com) (Quit: sys.exit(1))
[23:01:56] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[23:02:01] <bluss> you can surely find quicksort for rust somewhere
[23:02:02] *** Quits: mkedlaya (mkedlaya@moz-orqmh5.cs.ucsb.edu) (Ping timeout: 121 seconds)
[23:02:09] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[23:02:38] *** Quits: davebettin (davebettin@moz-hde.5e5.136.67.IP) (Ping timeout: 121 seconds)
[23:02:39] <talchas> well, if you only need partition, that's pretty easy to implement
[23:02:57] <Twinklebear> yea, if sort_by allocates then I may do that
[23:03:01] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[23:03:02] <bluss> I think you can even impl it on a double ended iterator?
[23:03:09] *** Quits: maedhroz (maedhroz@moz-4jk5ho.res.rr.com) (Ping timeout: 121 seconds)
[23:03:12] <bluss> maybe that's less efficient.
[23:03:14] <Twinklebear> bluss, partiton or quicksort?
[23:03:17] <bluss> partition
[23:03:39] <Twinklebear> interesting, the C++ version just needs bidirectional iterators so you're probably right there
[23:03:48] <d-snp> jshs: what do you think, does it make sense? https://github.com/tinco/nalgebra/commit/de542606123006ef4601343e1cea64d54cf85107
[23:03:48] *** Quits: Kirth (Kirth@moz-hvjtnm.0o56.icp4.1811.2a02.IP) (Connection closed)
[23:03:49] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[23:03:55] <talchas> you'd probably need one that has PartialEq on the iterator type
[23:04:03] <bluss> well rust iterators aren't bidirectional
[23:04:05] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[23:04:11] <Twinklebear> ooh right
[23:04:26] <jshs> Twinklebear: nice. I'm writing a toy raytracer in rust as well, but your project seems to be much more advanced
[23:04:27] <bluss> talchas: why?
[23:04:56] <Twinklebear> jshs, it's basically a port of a C++ version I wrote for class :P
[23:05:10] <Twinklebear> are you going to implement path tracing? or just ray tracing?
[23:05:16] *** Quits: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[23:05:24] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[23:05:26] <talchas> bluss: ah, I misunderstood how doubleended worked
[23:05:42] <jshs> Twinklebear: yeah, I've seen that one too. getting such a nice cornell box in the end is the goal :)
[23:05:53] *** Joins: nham (nham@moz-755.bu3.214.98.IP)
[23:05:55] <jshs> currently only ray tracing, but I might upgrade it at some point
[23:06:01] <Twinklebear> super cool :D
[23:06:14] <Twinklebear> the hardest part of a ray tracer is the BVH imo
[23:06:23] <Twinklebear> well, the construction of one
[23:06:45] *** Quits: wldcordeiro (wldcordeiro@moz-f5i18e.hmj8.a2nn.0007.2601.IP) (Ping timeout: 121 seconds)
[23:06:48] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[23:06:55] <aji> "extern crate rand" produces no errors, but "use rand::random" does
[23:07:20] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[23:07:54] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[23:08:06] <jshs> Twinklebear: I have an implementation based on AAC, but it's horribly bad atm :p
[23:08:13] <jshs> anyway, enough of the off-topic
[23:08:27] <aji> ah, i had to add rand to Cargo.toml
[23:09:21] *** Joins: hjr3 (hradtke@moz-dmp.av4.169.69.IP)
[23:11:49] <jshs> d-snp: I think that's good, the only thing to discuss might be the name of the assoc type
[23:12:17] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[23:12:23] <d-snp> Yeah, with all the N=N going on that's probably not brilliant
[23:12:40] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[23:12:43] <jshs> the operator traits in libstd use `Output`
[23:13:10] *** Quits: alonlevy_ (alon@moz-nbm25c.012.net.il) (Ping timeout: 121 seconds)
[23:13:56] <d-snp> yeah I wondered about it, can those clash?
[23:14:18] <d-snp> hmm it's the Output type of the Norm trait
[23:14:23] <d-snp> that does make sense I think
[23:15:02] <d-snp> yes it does
[23:15:07] <d-snp> ok I'll change that
[23:15:21] <d-snp> thanks a lot for checking it out and helping me, I'm learning a lot :)
[23:15:49] *** Quits: grncdr (Adium@moz-m1g.e47.90.95.IP) (Quit: Leaving.)
[23:16:09] *** Quits: cburgdorf (cburgdorf@moz-q880t5.dynamic.kabel-deutschland.de) (Client exited)
[23:16:18] *** Quits: James (quassel@moz-225vcm.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[23:16:18] <jshs> no problem :)
[23:16:42] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[23:16:54] *** Quits: panicbit (panicbit@moz-kqu.rvb.226.79.IP) (Ping timeout: 121 seconds)
[23:17:48] *** Quits: srh (User@moz-g3qqf4.public.wayport.net) (Ping timeout: 121 seconds)
[23:18:21] <d-snp> now lets hope the author thinks it's cool too :P
[23:19:25] *** Joins: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP)
[23:21:11] *** Quits: timj (timj@moz-0dl3bs.dip0.t-ipconnect.de) (Quit: Leaving.)
[23:21:50] *** kimundi is now known as zz_kimundi
[23:22:04] *** Quits: Ralith (ralith@moz-miv.lne.251.63.IP) (Ping timeout: 121 seconds)
[23:23:27] *** Quits: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP) (Ping timeout: 121 seconds)
[23:24:02] *** Joins: yuja (yuja@moz-tvn458.pikara.ne.jp)
[23:24:13] *** Joins: srh (User@moz-s78nuu.q9f2.utp8.0306.2602.IP)
[23:25:13] *** Quits: alexggordon (alexggordon@moz-4q0f8f.cable.rcn.com) (Ping timeout: 121 seconds)
[23:25:32] *** Quits: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se) (Client exited)
[23:27:38] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[23:27:45] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[23:27:57] *** Quits: kgrandon (Adium@moz-u3dg2t.sfo1.mozilla.com) (Quit: Leaving.)
[23:28:44] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[23:28:51] *** Joins: cburgdorf (cburgdorf@moz-q880t5.dynamic.kabel-deutschland.de)
[23:29:38] *** Quits: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se) (Quit: bajs)
[23:30:03] *** Quits: arBmind1 (Andreas@moz-8uf6vu.adsl.alicedsl.de) (Quit: Leaving.)
[23:30:12] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[23:30:38] <bluss> Twinklebear: ok I wrote a partition, but not sure if it's correct. And then the question, is it enough to use iterators to get great performance?
[23:31:47] *** Quits: mjewkes (mjewkes@moz-7hfo21.eastlink.ca) (Connection closed)
[23:31:50] *** Quits: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP) (Ping timeout: 121 seconds)
[23:31:58] *** Joins: alexggordon (alexggordon@moz-4q0f8f.cable.rcn.com)
[23:32:01] <bluss> Twinklebear: http://is.gd/YtBqyU
[23:32:38] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[23:33:19] *** Joins: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net)
[23:34:33] <Twinklebear> oh very cool! This looks similar to where I was heading with my implementation haha
[23:35:00] *** Joins: dinfuehr (dinfuehr@moz-kgtbsa.highway.telekom.at)
[23:35:07] <aatch> bluss, the problem with that is what if I pass an iterator over, for example, values in a hashmap?
[23:35:30] <aatch> bluss, is there a good reason to use an iterator instead of a &mut [T]?
[23:35:38] <bluss> for fun
[23:35:48] <bluss> I don't see the problem with passing a weird iterator
[23:36:09] <bluss> This one can partition a linked list or vecdeque too
[23:36:10] *** Joins: harrisonclarke (harrisoncla@moz-nhv.35b.255.199.IP)
[23:36:12] *** Quits: alexggordon (alexggordon@moz-4q0f8f.cable.rcn.com) (Ping timeout: 121 seconds)
[23:36:31] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[23:36:46] <aatch> I guess it doesn't (or shouldn't anyway) break anything.
[23:37:11] <bluss> you can create a mess for yourself but yeah
[23:37:29] *** Quits: gopar (gopar@moz-5039uj.ca.comcast.net) (Quit: Leaving)
[23:37:34] <aatch> partitioning in an unordered collection is meaningless, but doesn't break anything.
[23:37:55] *** Quits: ytain (ytain@moz-pr2.aip.175.108.IP) (Quit: Textual IRC Client: www.textualapp.com)
[23:38:33] <aatch> Even stuff like `TreeMap` are ordered by *key*, not value. And I don't think any of the maps give you mutable refs to keys
[23:38:39] <aatch> Since that *would* break things.
[23:38:47] <bluss> they don't
[23:38:59] <bluss> the .iter_mut() on hashmap gives &K, &mut V
[23:39:07] *** Quits: dinfuehr (dinfuehr@moz-kgtbsa.highway.telekom.at) (Ping timeout: 121 seconds)
[23:39:18] <bluss> a btreemap is ordered though
[23:39:24] <bluss> so partitioning there is fine
[23:39:33] <aatch> bluss, isn't it ordered by key though?
[23:39:44] <bluss> yes, that doesn't matter
[23:39:50] <chowmeined> is there a tree ordered set?
[23:39:56] <aatch> bluss, well you'd only swap the values around.
[23:39:56] <bluss> the partitioning doesn't take a comparison function either
[23:40:06] <aatch> chowmeined, BTreeSet, I think.
[23:40:08] <bluss> aatch: well that's exactly what you do in a vector too! :)
[23:40:13] <bluss> you only swap values around
[23:40:27] *** Joins: mjewkes (mjewkes@moz-7hfo21.eastlink.ca)
[23:40:33] <nathan7> dang, I can't use derive with macros
[23:40:38] <nathan7> that's annoying as fuck
[23:41:02] <aatch> bluss, true. At any rate, I take back what I said before, it might have some silly cases, but making it iterator-based is fine.
[23:41:40] <aatch> Other than people doing stuff that would break collections anyway (like storing things with internal mutability as keys in a map).
[23:42:01] <aatch> nathan7, what do you mean?
[23:42:35] <nathan7> I'm writing a display_static! function that impls trait DisplayStatic { fn fmt_static(&self) -> &'static str; }
[23:42:42] *** Quits: veqz (veqz@moz-nvr8g6.209.getinternet.no) (Ping timeout: 121 seconds)
[23:42:42] <nathan7> s/function/macro/
[23:43:08] <nathan7> so I can do like display_static! { enum Foo { Bar, Baz } }
[23:43:13] <aatch> nathan7, ah, so you want a custom derive?
[23:43:18] <nathan7> but now #[derive] is not useful anymore
[23:43:26] <nathan7> I can't put it inside the macro because the macro bars
[23:43:26] *** Quits: proclus (user@moz-i6nqh2.fios.verizon.net) (Ping timeout: 121 seconds)
[23:43:27] <nathan7> *barfs
[23:43:44] <nathan7> and I can't put it outside the macro because then the compiler yells at me for putting it on the macro invocation
[23:44:01] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[23:44:10] <aatch> nathan7, oh, there's actually a token-type-thing (I dunno what they're called) for attributes.
[23:45:08] <aatch> nathan7, more specifically, there's one for "meta items", which are the things inside the #[...]
[23:45:24] <nathan7> interesting
[23:45:28] <nathan7> How do I use those?
[23:45:37] *** Joins: saterus (saterus@moz-0hsirc.dhcp.embarqhsd.net)
[23:45:52] *** Quits: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net) (Client exited)
[23:45:56] <aatch> nathan7, so you should be able to do $(#[$attr:meta])*
[23:46:18] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:46:52] <aatch> nathan7, I've seen it before somewhere.
[23:47:10] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[23:47:44] <nathan7> lovely, thanks
[23:47:54] <nathan7> What *are* our plans for custom derive anyway?
[23:48:38] *** Quits: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de) (Connection closed)
[23:48:49] *** Quits: dr4yyee (dr4yyee@moz-0o1.d8p.2.91.IP) (Ping timeout: 121 seconds)
[23:49:00] *** Joins: fabianvf (fabianvf@moz-onn.3sq.102.66.IP)
[23:49:26] <aatch> nathan7, I think it's supported the same way syntax extensions are.
[23:49:36] *** Joins: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de)
[23:50:20] <p1start> #[derive(Foo)] is just sugar for #[derive_Foo] now, I think
[23:51:25] *** Quits: mjewkes (mjewkes@moz-7hfo21.eastlink.ca) (Connection closed)
[23:51:46] *** Joins: mjewkes (mjewkes@moz-7hfo21.eastlink.ca)
[23:51:52] <nathan7> that's cool, I guess
[23:51:53] *** Quits: mjewkes (mjewkes@moz-7hfo21.eastlink.ca) (Connection closed)
[23:51:54] *** Quits: fabianvf (fabianvf@moz-onn.3sq.102.66.IP) (Connection closed)
[23:52:25] *** Joins: steshaw (uid30841@moz-eom82r.uxbridge.irccloud.com)
[23:52:32] *** Joins: frankmcsherry (frankmcsher@moz-uaqde2.dyn.telefonica.de)
[23:52:34] <niconii> yeah, and #[derive(Foo, Bar, Baz)] == #[derive_Foo] #[derive_Bar] #[derive_Baz]
[23:52:49] *** Quits: meh (meh@moz-2vi7cf.42-151.net24.it) (Quit: I don't want to live on this planet anymore.)
[23:52:57] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[23:53:02] *** Joins: alexggordon (alexggordon@moz-4q0f8f.cable.rcn.com)
[23:53:14] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[23:55:11] *** Joins: jdsanders1 (Adium@moz-t2ud2f.co.comcast.net)
[23:55:26] *** Quits: Savago (Savago@moz-28o.4t3.247.50.IP) (Client exited)
[23:55:35] *** Joins: Ralith (ralith@moz-tiaj7p.customer.broadstripe.net)
[23:55:57] *** Joins: ChuckR (Mibbit@moz-gvi.h8h.107.131.IP)
[23:56:07] *** Parts: jdsanders1 (Adium@moz-t2ud2f.co.comcast.net) ()
[23:56:29] <ChuckR> I'm trying to get the pretty-printer working on windows
[23:56:34] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[23:56:35] *** Quits: frankmcsherry (frankmcsher@moz-uaqde2.dyn.telefonica.de) (Ping timeout: 121 seconds)
[23:56:46] <ChuckR> and it doesn't look like the .debug_gdb_scripts sections is being produced on windows
[23:57:21] *** Quits: jshs (jshs@moz-o713hv.dip0.t-ipconnect.de) (Client exited)
[23:58:16] *** Quits: saterus (saterus@moz-0hsirc.dhcp.embarqhsd.net) (Connection closed)
[23:59:06] <Twinklebear> bluss, here's what I came up with: http://is.gd/bTFQYe 
[23:59:09] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[23:59:38] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[23:59:59] *** Quits: GaryOak_ (GaryOak_@moz-etoj16.hfc.comcastbusiness.net) (Connection closed)
