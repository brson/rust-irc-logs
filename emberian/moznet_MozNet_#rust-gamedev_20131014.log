[00:01:53] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[00:03:36] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[00:07:16] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[00:08:55] *** Quits: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net) (Quit: jeffb)
[00:13:05] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[00:15:11] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[00:17:06] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[00:19:56] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[00:22:25] *** Quits: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Leaving...)
[00:32:14] *** Joins: maik (maik@moz-9C654BFC.dip0.t-ipconnect.de)
[00:34:07] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[00:43:38] *** Quits: maik (maik@moz-9C654BFC.dip0.t-ipconnect.de) (Ping timeout)
[01:15:03] *** Quits: tikue3 (tikue_star@3DC9855F.F3E8A984.689607DE.IP) (Client exited)
[01:25:11] *** Joins: tikue_ (tikue_star@3DC9855F.F3E8A984.689607DE.IP)
[01:35:58] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[01:36:31] *** Quits: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP) (Quit: Yeri)
[01:49:31] *** Joins: azth (Mibbit@moz-5729CEA7.hsd1.ca.comcast.net)
[01:52:27] *** Quits: azth (Mibbit@moz-5729CEA7.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[02:02:20] *** Joins: MrByte (Dartakio@moz-147070D0.chy-wy.client.bresnan.net)
[02:14:38] *** Joins: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[02:18:07] *** Quits: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net) (Quit: jeffb)
[02:19:04] *** Joins: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[02:27:55] *** Quits: zz_kimundi (kimundi@moz-5EF96D6C.dip0.t-ipconnect.de) (Ping timeout)
[02:31:15] *** Joins: zz_kimundi (kimundi@moz-2FF9FB9A.dip0.t-ipconnect.de)
[02:31:16] *** zz_kimundi is now known as kimundi
[02:31:51] *** Joins: mark_edward (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net)
[02:44:55] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[02:46:21] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[02:50:06] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[02:57:11] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:06:59] *** Joins: dbaupp (Thunderbir@299A223E.D5A1DCF.37681C44.IP)
[03:12:18] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[03:41:31] *** Quits: canhtak (jeremy@moz-EF57C296.wl.t.ulaval.ca) (Quit: canhtak)
[03:58:39] *** Quits: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net) (Quit: jeffb)
[03:59:19] *** Quits: dbaupp (Thunderbir@299A223E.D5A1DCF.37681C44.IP) (Ping timeout)
[04:03:10] *** Joins: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[04:39:59] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Quit: Leaving)
[04:42:19] *** Quits: tikue_ (tikue_star@3DC9855F.F3E8A984.689607DE.IP) (Ping timeout)
[04:50:12] *** Quits: doomlord_ (servitor@moz-728E30A7.range109-151.btcentralplus.com) (Ping timeout)
[04:50:50] *** Joins: doomlord_ (servitor@moz-6732E9D4.range86-184.btcentralplus.com)
[04:51:54] *** Quits: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[04:56:00] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[05:11:02] *** Joins: tikue_ (tikue_star@3DC9855F.F3E8A984.689607DE.IP)
[05:16:48] *** Quits: tikue_ (tikue_star@3DC9855F.F3E8A984.689607DE.IP) (Ping timeout)
[06:01:14] *** Joins: Ferreus (ferreus@moz-407DDF2F.dip0.t-ipconnect.de)
[06:03:50] *** Quits: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net) (Ping timeout)
[06:04:11] *** Joins: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[06:05:09] *** Joins: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net)
[06:09:59] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[06:35:05] *** Joins: steveklabnik (steveklabn@moz-1DC93A6C.wiera.hu)
[06:51:25] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[07:00:35] *** Joins: dbaupp (Thunderbir@moz-BFBD65B3.lns20.syd6.internode.on.net)
[07:14:37] *** Quits: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net) (Ping timeout)
[07:14:58] *** Joins: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[07:20:45] *** Quits: dbaupp (Thunderbir@moz-BFBD65B3.lns20.syd6.internode.on.net) (Quit: dbaupp)
[07:24:16] *** Joins: dbaupp (Thunderbir@moz-BFBD65B3.lns20.syd6.internode.on.net)
[07:32:39] *** Quits: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net) (Quit: jeffb)
[07:42:06] *** Quits: steveklabnik (steveklabn@moz-1DC93A6C.wiera.hu) (Ping timeout)
[08:36:37] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[08:40:30] *** Quits: mark_edward (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net) (Client exited)
[08:40:36] *** Joins: tikue_ (tikue_star@3DC9855F.F3E8A984.689607DE.IP)
[08:42:51] *** Quits: tikue_ (tikue_star@3DC9855F.F3E8A984.689607DE.IP) (Ping timeout)
[09:17:16] *** Joins: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP)
[09:23:28] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[09:36:14] *** Joins: maik (maik@moz-9C654BFC.dip0.t-ipconnect.de)
[09:42:56] *** Quits: maik (maik@moz-9C654BFC.dip0.t-ipconnect.de) (Ping timeout)
[09:51:52] *** Joins: maik (maik@moz-9C654BFC.dip0.t-ipconnect.de)
[10:12:01] *** Quits: StarLight (StarLight@moz-879AB5FF.dynamic.avangarddsl.ru) (Ping timeout)
[10:16:12] *** Joins: StarLight (StarLight@moz-F2756DD7.pppoe.avangarddsl.ru)
[10:34:27] *** Joins: steveklabnik (steveklabn@moz-1DC93A6C.wiera.hu)
[11:16:54] *** Quits: maik (maik@moz-9C654BFC.dip0.t-ipconnect.de) (Ping timeout)
[11:17:46] *** Joins: maik (maik@moz-9C654BFC.dip0.t-ipconnect.de)
[11:19:26] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Bye!)
[11:19:32] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[11:30:16] *** jdm is now known as jdm|f00ding
[11:56:22] *** Quits: maik (maik@moz-9C654BFC.dip0.t-ipconnect.de) (Ping timeout)
[12:11:22] *** Joins: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de)
[12:25:53] *** kimundi is now known as zz_kimundi
[12:27:29] *** jdm|f00ding is now known as jdm
[12:41:01] *** Joins: lbergstrom (Adium@moz-5D8E4B14.lightspeed.cicril.sbcglobal.net)
[12:52:18] *** Quits: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de) (Ping timeout)
[12:53:39] *** Quits: steveklabnik (steveklabn@moz-1DC93A6C.wiera.hu) (Ping timeout)
[13:05:52] *** Joins: canhtak (jeremy@moz-EF57C296.wl.t.ulaval.ca)
[13:25:24] <bjz> is anybody using glfw-rs with an apt-get os thingy?
[13:25:36] <bjz> ubuntu?
[13:29:46] <bjz> I'm trying to get https://travis-ci.org/bjz/glfw-rs to work :/
[13:30:16] <bjz> need to work out how to get glfw3, when its not on apt-get
[13:30:32] <bjz> but I don't use an OS with apt-get
[13:30:41] <bjz> help would be appreaciated
[13:31:43] <dbaupp> might be impossible for now
[13:32:37] <zokier`> maybe there is a ppa for glfw3
[13:33:54] <zokier`> if not then you'll need to build it from source
[13:40:01] <zokier`> you probably should be able to prebuild a .deb and then do something like curl -O glfw3.deb http://example.com/glfw3.deb && sudo dpkg -i glfw3.deb
[13:40:51] <bjz> .deb?
[13:41:12] <zokier`> package file
[13:41:24] <zokier`> what apt-get uses
[13:42:16] <bjz> ah
[13:43:39] *** Joins: tikue_ (tikue_star@3DC9855F.F3E8A984.689607DE.IP)
[13:55:29] *** Joins: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de)
[13:57:54] *** Quits: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de) (Ping timeout)
[14:21:32] *** Joins: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de)
[14:39:46] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[14:39:50] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[14:58:21] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[15:09:27] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[15:32:04] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[15:37:47] *** Joins: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[15:38:40] *** Quits: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de) (Ping timeout)
[15:40:33] *** Quits: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net) (Ping timeout)
[15:49:11] *** Joins: squiddy (squiddy@moz-FF47E765.adsl.alicedsl.de)
[15:59:22] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[16:01:47] *** zz_kimundi is now known as kimundi
[16:04:08] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[16:04:29] *** Joins: pnkfelix (pnkfelix@moz-3E993C4C.public.wayport.net)
[16:11:26] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[16:14:10] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[16:14:32] *** Quits: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[16:15:55] *** Quits: Ferreus (ferreus@moz-407DDF2F.dip0.t-ipconnect.de) (Ping timeout)
[16:45:25] *** Quits: pnkfelix (pnkfelix@moz-3E993C4C.public.wayport.net) (Ping timeout)
[16:45:38] *** Joins: pnkfelix (pnkfelix@moz-3E993C4C.public.wayport.net)
[16:46:03] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[16:49:59] *** Quits: pnkfelix (pnkfelix@moz-3E993C4C.public.wayport.net) (Ping timeout)
[16:50:26] *** Joins: pnkfelix (pnkfelix@moz-3E993C4C.public.wayport.net)
[16:50:30] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[16:52:21] *** Quits: pnkfelix (pnkfelix@moz-3E993C4C.public.wayport.net) (Ping timeout)
[16:53:03] *** Quits: sp3d (a@6361F3B1.19CD1E54.8354FB35.IP) (Ping timeout)
[16:58:25] *** Joins: pnkfelix (pnkfelix@moz-3E993C4C.public.wayport.net)
[17:00:54] *** Joins: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de)
[17:02:31] *** Quits: pnkfelix (pnkfelix@moz-3E993C4C.public.wayport.net) (Ping timeout)
[17:10:27] *** Joins: pcwalton (pcwalton@moz-BE33DA21.fw1.sfo1.mozilla.net)
[17:10:27] *** ChanServ sets mode: +qo pcwalton pcwalton
[17:10:37] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[17:15:57] *** Joins: jxv_ (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[17:24:40] *** Quits: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de) (Ping timeout)
[17:24:51] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[17:26:01] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[17:30:08] *** Quits: jxv_ (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Quit: Leaving)
[17:39:12] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[17:49:44] *** Joins: pnkfelix (pnkfelix@moz-813314A4.hsd1.ma.comcast.net)
[17:57:31] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[18:02:34] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[18:06:45] *** Joins: samx (sami@3EB32A7C.10A53EE3.77834EAA.IP)
[18:07:13] *** Quits: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP) (Quit: Lost terminal)
[18:12:56] *** Quits: tikue_ (tikue_star@3DC9855F.F3E8A984.689607DE.IP) (Ping timeout)
[18:13:20] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[18:13:51] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:19:21] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:26:59] *** Quits: PGGB (PGGB@BD9E64E0.2702580D.85889BB1.IP) (Ping timeout)
[18:27:37] *** Joins: PGGB (PGGB@BD9E64E0.2702580D.85889BB1.IP)
[18:29:21] *** Quits: canhtak (jeremy@moz-EF57C296.wl.t.ulaval.ca) (Quit: canhtak)
[18:34:48] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[18:39:08] *** Joins: tikue_ (tikue_star@E7B9D891.DF8FC23A.689607DE.IP)
[18:47:33] *** Quits: samx (sami@3EB32A7C.10A53EE3.77834EAA.IP) (Quit: This computer has gone to sleep)
[18:51:52] *** Quits: squiddy (squiddy@moz-FF47E765.adsl.alicedsl.de) (Quit: Leaving)
[19:18:15] *** Joins: canhtak (jeremy@moz-EF57C296.wl.t.ulaval.ca)
[19:30:13] *** Quits: tikue_ (tikue_star@E7B9D891.DF8FC23A.689607DE.IP) (Ping timeout)
[19:33:54] *** Joins: ecr (Thunderbir@moz-BEB13C3B.dhcp4.washington.edu)
[20:00:45] *** Joins: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de)
[20:13:17] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[20:20:08] *** Quits: ecr (Thunderbir@moz-BEB13C3B.dhcp4.washington.edu) (Ping timeout)
[20:26:35] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[20:27:38] *** Quits: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de) (Ping timeout)
[20:48:17] *** Joins: tikue_ (tikue_star@18C1ABA5.D038900B.689607DE.IP)
[20:50:31] *** Quits: tikue_ (tikue_star@18C1ABA5.D038900B.689607DE.IP) (Ping timeout)
[20:51:29] *** Joins: tikue_ (tikue_star@18C1ABA5.D038900B.689607DE.IP)
[20:54:27] *** Quits: dbaupp (Thunderbir@moz-BFBD65B3.lns20.syd6.internode.on.net) (Ping timeout)
[20:58:22] *** Joins: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de)
[21:16:25] *** Joins: CarpNet (Alasdair@moz-EF831A5E.cable.virginmedia.com)
[21:21:54] *** Quits: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de) (Ping timeout)
[21:23:00] *** Quits: zagabar (zagabar@BC4D85C9.B543C4DE.3933CC16.IP) (Ping timeout)
[21:23:09] *** Joins: zagabar (zagabar@BC4D85C9.B543C4DE.3933CC16.IP)
[21:24:01] *** kimundi is now known as zz_kimundi
[21:43:26] *** Quits: tikue_ (tikue_star@18C1ABA5.D038900B.689607DE.IP) (Ping timeout)
[21:43:28] *** Joins: ecr (Thunderbir@moz-CE637C05.dhcp4.washington.edu)
[21:50:54] *** Quits: pcwalton (pcwalton@moz-BE33DA21.fw1.sfo1.mozilla.net) (Ping timeout)
[21:51:39] *** Joins: tikue_ (tikue_star@18C1ABA5.D038900B.689607DE.IP)
[21:51:49] <bjz> lbergstrom: ping
[21:52:11] <lbergstrom> bjz:pong
[21:53:13] <bjz> lbergstrom: so yeah, the refactor
[21:53:37] <bjz> https://gist.github.com/metajack/5982180
[21:54:10] <bjz> dunno how you would handle the callbacks
[21:54:37] *** Joins: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de)
[21:56:10] <lbergstrom> do you mean the ffi callbacks (passed to `set_window_callback`) that we generate in glfw-rs?
[21:56:15] <lbergstrom> or the user-provided ones?
[21:57:15] <bjz> I'm guessing you could have glfw::init return an Option<Context>, and do glfw::start |glfw| { let w = glfw.create_window(...); } or something
[21:57:24] <bjz> lbergstrom: the client side
[21:57:40] <bjz> lbergstrom: because we can't use @fn now
[22:00:01] <bjz> lbergstrom: maybe you could have Context::poll_events(&self) -> Option<ContextEvent>, Context::iter_events(&self) -> EventIterator
[22:00:08] <lbergstrom> well, we could require a function that does not capture the environment and then pass it the Window instance as an argument
[22:00:13] <lbergstrom> The first kind from: http://smallcultfollowing.com/babysteps/blog/2013/10/10/fn-types-in-rust/
[22:00:43] <lbergstrom> Or, yeah, we could have the events just come across as messages on a stream that the client is required to recv() and handle themselves
[22:01:43] <bjz> it would be nice to wrap up the Chan so the user wouldn't have to deal with it
[22:02:35] <bjz> Context::poll_events() would fire the glfwPollEvents function
[22:02:54] <bjz> and the callbacks would build up a queue of events
[22:03:20] <bjz> there would also be window-specific qeues
[22:03:43] <lbergstrom> agreed; it's a bit weird to require the use of the channel for the client, though it might be worth trying it out and porting a few of the samples (e.g., window) to see how it looks
[22:03:43] <bjz> so that you could handle window destruction
[22:05:28] <lbergstrom> you could still be in trouble if you did `let chan = comm::ThatCloneChanThing::new(window.chan); do spawn { loop { chan.recv() … } }` since the window destruction could happen while the task was still off handling those events and, presumably, going to touch the window again during the processing
[22:05:31] <bjz> lbergstrom: it would be nice if you could check for errors in paralell to the other stuff
[22:05:54] <bjz> dunno how it would work with something like task::spawn
[22:07:38] <bjz> lbergstrom: the window events wouldn't include a window pointer in the message
[22:08:01] <bjz> so it would be Pos { x, y }
[22:08:44] <bjz> instead of windowPosCallback(w: &Window, x: int, x: int)
[22:08:45] *** Quits: CarpNet (Alasdair@moz-EF831A5E.cable.virginmedia.com) (Quit: Leaving)
[22:08:55] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[22:09:00] <bjz> you'd have o check the window events specifically
[22:09:22] *** Joins: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net)
[22:09:24] <lbergstrom> that makes sense
[22:09:29] <bjz> window.iter_events()
[22:09:44] <bjz> then you'd message the context on window destruction
[22:09:53] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[22:10:15] <bjz> clearing up the old queues
[22:10:17] <lbergstrom> though I still worry that it's a lot more complicated than just hooking up event handlers to closures. folks really didn't like getting away from that, at least in github issue comments :-)
[22:10:29] <bjz> yeah
[22:10:57] <bjz> jeaye h3r3tic maik cmr: thoughts?
[22:11:04] * cmr reads
[22:11:34] <bjz> lbergstrom: I wonder if it would be better to store the Context in tls?
[22:11:55] <bjz> lbergstrom: seeing as you can only make one instance of glfw?
[22:12:38] <lbergstrom> bjz: since context only contains a channel, it should be easy for people to send wherever they need it
[22:13:08] <bjz> ohh yeah
[22:13:10] <lbergstrom> previously we've abused tls when we had objects that weren't safe for that and we didn't feel like putting it in a RC :-)
[22:13:21] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Quit: Leaving)
[22:13:25] <cmr> I haven't actually done anything serious with glfw, so I have no opinion.
[22:13:29] <bjz> ok
[22:14:06] <lbergstrom> I suspect we'll have to put together a branch and port over the examples and get some feedback from users then
[22:14:43] <lbergstrom> The glfw integration is such a small part of servo of our already fairly tangly code that we can make pretty much anything work and look reasonable, so we're probably not the best testbed :-)
[22:14:55] <bjz> np
[22:15:08] <bjz> I would rather hear from jeaye I think
[22:15:18] <bjz> sebcrozet too, but he's not online
[22:15:37] <lbergstrom> yeah, they had great comments and tried several different approaches last time we made a big change, iirc
[22:16:38] *** pnkfelix is now known as pnkfelix|taqueria
[22:17:45] <jeaye> What's the question here?
[22:18:02] <jeaye> I like the idea of start returning Option<Context>
[22:18:10] <jeaye> And then everything operating on that context.
[22:19:06] <jeaye> init, rather
[22:21:47] *** Quits: ecr (Thunderbir@moz-CE637C05.dhcp4.washington.edu) (Quit: ecr)
[22:30:36] <bjz> jeaye lbergstrom: https://gist.github.com/bjz/63821c2a34e593583a19#file-callbacks_refactor-rs-L34
[22:32:35] <bjz> I mean, maybe Context could have a destructor that called glfwTerminate
[22:32:56] <bjz> eliminating the utility of the closure in glfw::start
[22:33:11] <bjz> so I could get rid of glfw::start
[22:33:12] *** Quits: pksu (pksu@moz-2051CC54.fi) (Quit: leaving)
[22:33:24] <jeaye> RAIIFTW
[22:35:06] <bjz> ok, updated: https://gist.github.com/bjz/63821c2a34e593583a19
[22:35:22] <bjz> jeaye h3r3tic: does thatr api look acceptable?
[22:35:48] <jeaye> ehh
[22:36:04] <jeaye> The mixture between glfw.foo and glfw::bar is misleading.
[22:36:21] <jeaye> Namely window_hint
[22:36:30] <bjz> yeah
[22:36:34] <bjz> I was thinking that
[22:36:53] <bjz> would be nice to just have the hints done in the window creation
[22:37:52] <bjz> glfw.create_window(800, 600, "Hello, I am a window.", glfw::Windowed, [glfw::WindowResizable(true), ...]).unwrap();
[22:38:08] <bjz> dunno if that's too radical a change
[22:38:18] <jeaye> Use expect, not unwrap
[22:38:26] <bjz> ok
[22:38:37] <jeaye> Same for glfw::init()
[22:38:42] <bjz> glfw.create_window(800, 600, "Hello, I am a window.", glfw::Windowed, [glfw::WindowResizable(true), ...]).expect("Window creation failed");
[22:39:12] * jeaye prefers bitmasks to [glfw::WindowResizable(true), ...])
[22:39:51] <jeaye> Maybe take out the glfw::Windowed
[22:40:03] <jeaye> Have glfw.create_window and glfw.create_fullscreen
[22:40:18] <jeaye> or glfw.create_fullscreen_window
[22:40:30] <bjz> https://gist.github.com/bjz/63821c2a34e593583a19
[22:40:33] <bjz> oh ok
[22:40:49] <jeaye> These are all just random suggestions.
[22:41:04] <jeaye> Use your best judgment.
[22:41:48] <bjz> woops, forgot to remove window_hint: https://gist.github.com/bjz/63821c2a34e593583a19
[22:41:51] <bjz> heh
[22:42:04] <bjz> jeaye: does that look better though?
[22:42:17] <doomlord_> adts make event handlers rather nice
[22:42:39] <jeaye> bjz: Looks better to me.
[22:42:52] <bjz> it's a big departure from glfw :P
[22:43:00] <jeaye> Very true.
[22:43:07] <jeaye> That's both good & bad.
[22:43:22] <bjz> but we need to make it ideomatic
[22:44:00] <bjz> it's almost going to an sld-style of event handling :P
[22:44:04] <bjz> *sdl
[22:44:06] <doomlord_> would it be too much work to ditch existing libraries to make something idiomatic thats pure rust - if its going to be a big departure - was the servo project doing this already
[22:44:30] <bjz> doomlord_: we could just use glfw and call it something different :P
[22:44:38] <doomlord_> just design a rust graphics/windowing layer around modern platforms
[22:44:57] <bjz> cross platform ui work is super time consuming
[22:45:10] <doomlord_> (am i remembering wrong... i think i heard that about servo, that eventually they were going to roll their own..)
[22:45:36] <doomlord_> i suppose its not so far off making a C++ wrapper for C code
[22:45:47] <doomlord_> ^^ (wrapping glfw in idiomatic rust..)
[22:45:56] <bjz> mm
[22:46:08] <doomlord_> there was another project i encountered .. someone trying to make a glfw replacement
[22:46:18] <bjz> where?
[22:46:21] <doomlord_> that was more designed for tablets etc , (let me check i'm not making that up)
[22:46:36] <doomlord_> i was telling them about rust ADTs and trying to talk them into making something for rust :)
[22:46:48] *** Quits: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de) (Ping timeout)
[22:47:12] <bjz> ok
[22:47:12] <doomlord_> let me see if i got a github link.. i was on irc with them
[22:48:14] <doomlord_> https://github.com/rikusalminen/glwt
[22:48:36] <h3r3tic> bjz: I'm confused. how do you actually use the values from the even handlers? I mean you're printing some stuff in them, but I'd like them to change some sort of state
[22:49:00] <doomlord_> maybe they gave up :(
[22:49:36] <bjz> h3r3tic: that would be up to the user
[22:49:58] <bjz> h3r3tic: they could maybe set up ports of their own for communication
[22:50:04] <lbergstrom> doomlord_: right now we (servo) are using glfw-rs on desktop platforms and rust-glut on android
[22:50:36] <doomlord_> ok
[22:50:40] <lbergstrom> first we'd like to clean up some of the bigger issues around cross-platform windowing
[22:50:44] <bjz> lbergstrom: I believe glfw is going to have touch stuff around the corner
[22:51:11] <lbergstrom> in particular, instead of poll + sleep loop, just being able to do a waitMessages and block the thread completely
[22:51:16] <h3r3tic> bjz: hrm, last time I tried using the API as-was, I dind't really know how to do it. maybe I was missing the comm ports bit. I'd expect the functions to get some sort of context as an extra param
[22:51:25] <lbergstrom> reduced CPU usage, especially on mobile platforms and all :-)
[22:51:35] <bjz> h3r3tic: you could do that too
[22:51:59] <doomlord_> https://github.com/rikusalminen/glwt/blob/master/include/GLWT/glwt.h <<<< those guys were setting up event handlers and i was asking if they could make what they do compatible with Rust ADTs..
[22:52:09] <bjz> h3r3tic: the issue was with moving stuff into owned closures
[22:52:22] <bjz> h3r3tic: was like a blck hole
[22:52:27] <h3r3tic> bjz: yeah, and with owned closures it's not exactly simple to modify some shared state
[22:52:44] <h3r3tic> so in my experience the API was a bit awkward to use
[22:55:37] <h3r3tic> I'm probably too much of a Rust noob to figure out a clean way of using this API, so I'd appreciate some real world example, where you atually do something useful with e.g. the mouse cursor position
[23:05:26] *** Joins: dbaupp (Thunderbir@BEECE994.D5A1DCF.37681C44.IP)
[23:16:35] *** Quits: dbaupp (Thunderbir@BEECE994.D5A1DCF.37681C44.IP) (Quit: dbaupp)
[23:17:13] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[23:19:43] *** Joins: dbaupp (Thunderbir@BEECE994.D5A1DCF.37681C44.IP)
[23:19:50] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[23:26:41] *** Joins: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[23:26:49] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[23:32:14] *** Joins: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de)
[23:51:10] *** Quits: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de) (Ping timeout)
[23:57:28] *** Joins: sp3d (a@6361F3B1.19CD1E54.8354FB35.IP)
