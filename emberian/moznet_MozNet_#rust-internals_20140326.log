[00:00:48] *** Quits: aatch (James@moz-B437F499.pocketrent.com) (Client exited)
[00:04:36] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[00:06:43] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[00:12:46] <acrichto> brson: it appears taht buildbot restarts reliaby cause llvm updates to fail
[00:13:55] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[00:13:55] *** ChanServ sets mode: +o tjc
[00:17:03] *** Joins: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP)
[00:17:03] <ghrust> [13rust] 15bors pushed 1 new commit to 06auto: 02http://git.io/QwzBPw
[00:17:03] <ghrust> 13rust/06auto 146053102 15bors: auto merge of #13141 : brson/rust/fix-make-install, r=cmr
[00:17:03] *** Parts: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP) ()
[00:17:06] *** Joins: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP)
[00:17:06] <ghrust> [13rust] 15bors 04force-pushed 06auto from 1420a2d9a to 14d130d87: 02http://git.io/N3iJvQ
[00:17:06] *** Parts: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP) ()
[00:19:58] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[00:20:23] *** Quits: canhtak (canhtak@moz-1300C4D7.wl.t.ulaval.ca) (Quit: canhtak)
[00:20:26] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[00:21:24] *** Joins: dherman (dherman@77CEA1B2.767934EB.9B6EB213.IP)
[00:21:25] *** ChanServ sets mode: +ao dherman dherman
[00:22:27] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[00:22:31] <brson> does anybody want to update RELEASES.txt for 0.10-pre?
[00:26:10] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[00:26:29] <brson> *0.10
[00:28:54] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[00:31:25] *** Quits: huon (Thunderbir@moz-7CC720CF.lns20.syd7.internode.on.net) (Quit: huon)
[00:36:18] <brson> if fedora really requires libs at /usr/local/lib64 then i don't see how rust works on fedora
[00:39:01] <strcat> ugh, my libmagic bindings don't pass the tests anymore
[00:39:07] <strcat> libmagic seems to have done a breaking API change
[00:41:20] *** Quits: blank_name (blank_name@5EC13E3.964BADD.93A5C78C.IP) (Ping timeout)
[00:41:32] <strcat>      The magic_file() function returns a textual description of the contents of the filename argument, or NULL if an error occurred.
[00:41:34] <strcat>      If the filename is NULL, then stdin is used.
[00:41:36] <strcat> it's a lie
[00:41:38] <strcat> they changed it
[00:42:08] <strcat> task 'tests::file_error' failed at 'assertion failed: `(left == right) && (right == left)` (left: `Some(cannot open `non-existent_file.txt' (No such file or directory))`, right: `None`)', magic.rs:220
[00:42:12] <strcat> ;(
[00:42:30] * strcat reports a bug
[00:45:17] <strcat> http://bugs.gw.com/view.php?id=302 :(
[00:48:11] <strcat> there
[00:51:47] *** Quits: andrew-__ (andrew-d_w@86B47CBD.7A62F771.CC0301A2.IP) (Input/output error)
[00:51:56] *** Joins: canhtak (canhtak@moz-1300C4D7.wl.t.ulaval.ca)
[00:52:08] *** Joins: andrew-d_w (andrew-d_w@86B47CBD.7A62F771.CC0301A2.IP)
[00:55:16] *** Quits: aatch_ (aatch@moz-2BB0AC01.cable.telstraclear.net) (Client exited)
[00:56:39] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[00:57:12] *** Joins: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP)
[00:57:12] <ghrust> [13rust] 15brson created 06dist (+2 new commits): 02http://git.io/hBF7Bg
[00:57:12] <ghrust> 13rust/06dist 14b08dbe2 15Brian Anderson: mk: Remove leading './' from manifest entries
[00:57:12] <ghrust> 13rust/06dist 1497b933c 15Brian Anderson: Revert "Revert "mk: Run 'make install' through install.sh""...
[00:57:13] *** Parts: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP) ()
[00:57:22] <brson> oops
[00:57:23] *** Quits: andrew-d_w (andrew-d_w@86B47CBD.7A62F771.CC0301A2.IP) (Ping timeout)
[00:57:25] *** Joins: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP)
[00:57:25] <ghrust> [13rust] 15brson 04deleted 06dist at 1497b933c: 02http://git.io/OzqmTg
[00:57:25] *** Parts: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP) ()
[01:00:22] *** Joins: zimbabao (rajaram@52A9E86D.EA743218.BE4CF869.IP)
[01:01:12] *** Quits: eibwen (kvirc@moz-80084333.dip0.t-ipconnect.de) (Ping timeout)
[01:03:33] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[01:04:11] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[01:06:10] *** Quits: gimpf (gimpf@moz-CFB7E1A1.adsl.highway.telekom.at) (Quit: Leaving.)
[01:06:34] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[01:07:32] *** Quits: zimbabao (rajaram@52A9E86D.EA743218.BE4CF869.IP) (Ping timeout)
[01:09:13] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[01:11:38] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[01:11:38] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[01:15:30] <brson> acrichto: ping
[01:15:57] *** Quits: bvssvni (Mibbit@moz-A47B6F8E.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[01:16:43] <acrichto> brson: pong
[01:19:38] <brson> acrichto: are you still in mv?
[01:19:51] <acrichto> brson: yeah
[01:20:04] <acrichto> I'll be out in a few
[01:22:11] <nrc> hmm, casting for DST...
[01:28:08] *** Quits: dherman (dherman@77CEA1B2.767934EB.9B6EB213.IP) (Quit: dherman)
[01:31:17] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[01:33:19] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[01:45:14] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 31.0a1/20140325030201])
[01:51:58] *** Joins: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP)
[01:51:59] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/jZgzyg
[01:51:59] *** Parts: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP) ()
[01:52:55] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[01:55:03] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[01:56:53] *** Joins: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP)
[01:56:53] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/Z-GFAA
[01:56:53] *** Parts: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP) ()
[02:04:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[02:06:29] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[02:07:38] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[02:14:15] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[02:15:08] *** Quits: lkuper (lkuper@87D98E32.4046EB22.428F94DD.IP) (Quit: lkuper)
[02:16:34] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[02:36:23] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[02:36:27] *** Joins: zimbabao (rajaram@52A9E86D.EA743218.BE4CF869.IP)
[02:37:09] <brson> restarting buildbot
[02:38:22] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[02:38:51] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[02:39:37] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[02:46:17] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[02:46:17] *** ChanServ sets mode: +o tjc
[02:48:26] *** Joins: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP)
[02:48:26] <ghrust> [13rust] 15brson pushed 5 new commits to 06dist-snap: 02http://git.io/9Gc11g
[02:48:26] <ghrust> 13rust/06dist-snap 14b08dbe2 15Brian Anderson: mk: Remove leading './' from manifest entries
[02:48:26] <ghrust> 13rust/06dist-snap 1497b933c 15Brian Anderson: Revert "Revert "mk: Run 'make install' through install.sh""...
[02:48:26] <ghrust> 13rust/06dist-snap 14daba863 15Brian Anderson: configure: Make rustlibdir non-configurable...
[02:48:28] *** Parts: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP) ()
[02:56:17] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: Textual IRC Client: www.textualapp.com)
[02:58:11] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[02:59:59] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[03:00:17] <brson> this next dist-snap should upload all possible binary installers along with a doc snapshot
[03:00:24] <brson> for mac too
[03:04:05] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[03:05:13] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[03:06:27] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[03:17:47] <nrc> If I want to add a well-formedness check on all types, where would be a good place? I thought ast_path_substs in astconv would be good, but it is too early and I don't have neough type information
[03:19:15] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[03:20:03] *** Joins: lkuper (lkuper@moz-61339218.dyn.optonline.net)
[03:21:09] *** Quits: zimbabao (rajaram@52A9E86D.EA743218.BE4CF869.IP) (Ping timeout)
[03:21:34] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[03:21:58] *** Joins: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP)
[03:21:58] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/KvIiHw
[03:21:58] <ghrust> 13rust/06auto 1459fd476 15Alex Crichton: syntax: Tweak parsing bounds on generics paths...
[03:21:58] <ghrust> 13rust/06auto 1455e165c 15bors: auto merge of #13079 : alexcrichton/rust/colons, r=cmr...
[03:21:58] *** Parts: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP) ()
[03:21:59] *** Joins: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP)
[03:21:59] <ghrust> [13rust] 15bors 04force-pushed 06auto from 1498b2aff to 146053102: 02http://git.io/N3iJvQ
[03:21:59] *** Parts: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP) ()
[03:23:59] *** kimundi is now known as zz_kimundi
[03:26:57] *** Joins: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP)
[03:26:57] <ghrust> [13rust] 15bors 04force-pushed 06auto from 1455e165c to 146053102: 02http://git.io/N3iJvQ
[03:26:57] *** Parts: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP) ()
[03:26:59] *** Joins: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP)
[03:26:59] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/1PP8sw
[03:26:59] <ghrust> 13rust/06auto 146200e76 15Marvin L√∂bel: Changed `iter::Extendable` and `iter::FromIterator` to take a `Iterator` by value
[03:26:59] <ghrust> 13rust/06auto 1434ffded 15bors: auto merge of #13039 : Kimundi/rust/iter_by_value_extend, r=alexcrichton...
[03:26:59] *** Parts: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP) ()
[03:31:59] *** Joins: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP)
[03:31:59] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/4i8WeA
[03:31:59] <ghrust> 13rust/06auto 146200e76 15Marvin L√∂bel: Changed `iter::Extendable` and `iter::FromIterator` to take a `Iterator` by value
[03:31:59] <ghrust> 13rust/06auto 14626cc83 15bors: auto merge of #13039 : Kimundi/rust/iter_by_value_extend, r=alexcrichton...
[03:32:00] *** Parts: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP) ()
[03:33:27] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[03:37:16] <erickt> acrichto: I'm fine submitting a PR to kill List. Did anyone make a call if arena should use a `Vec<T>` or a private list type?
[03:38:13] <strcat> imo there's no reason to use a list
[03:38:51] <acrichto> erickt: arena can just change to whatever it needs to work
[03:39:15] <erickt> Ok, I'll use a Vec
[03:39:40] <sfackler> unless it's using an implicit list in the free blocks, I don't see any reason to not use a Vec
[03:41:22] <erickt> sfackler: nope, it was just a plain old external `List`. An intrusive list on the allocated chunks may be a nice optimization at some future point
[03:41:26] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[03:43:22] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[03:48:22] *** Quits: zz_kimundi (kimundi@moz-116E00E4.dip0.t-ipconnect.de) (Ping timeout)
[03:52:42] *** Joins: zz_kimundi (kimundi@moz-F5F69403.dip0.t-ipconnect.de)
[03:52:44] *** zz_kimundi is now known as kimundi
[03:56:06] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[03:56:12] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[03:57:11] <erickt> acrichto: oops, replacing the use of List with Vec in librustc seems to cause an ICE
[03:58:07] *** Joins: dherman (dherman@moz-705E7FCC.static.twtelecom.net)
[03:58:08] *** ChanServ sets mode: +ao dherman dherman
[03:58:58] *** Quits: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP) (Ping timeout)
[03:59:05] *** Joins: zimbabao (rajaram@52A9E86D.EA743218.BE4CF869.IP)
[04:02:20] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[04:02:56] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[04:06:14] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[04:08:00] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[04:09:27] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[04:09:27] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Broken pipe)
[04:10:08] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:16:11] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[04:19:25] <nrc> someone who knows about expn_info and/or deriving implementations - r? https://github.com/mozilla/rust/pull/13150
[04:25:33] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Quit: Ï†Ñ Ïù¥Îßå Í∞ëÎãàÎã§.)
[04:25:38] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[04:25:51] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[04:26:07] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[04:27:08] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Quit: Ï†Ñ Ïù¥Îßå Í∞ëÎãàÎã§.)
[04:28:07] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[04:32:00] *** Joins: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP)
[04:32:00] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14626cc83 to 146053102: 02http://git.io/N3iJvQ
[04:32:00] *** Parts: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP) ()
[04:32:01] *** Joins: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP)
[04:32:01] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/mOvkqA
[04:32:01] <ghrust> 13rust/06auto 1459fd476 15Alex Crichton: syntax: Tweak parsing bounds on generics paths...
[04:32:01] <ghrust> 13rust/06auto 14d664a68 15bors: auto merge of #13079 : alexcrichton/rust/colons, r=cmr...
[04:32:01] *** Parts: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP) ()
[04:35:57] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[04:38:22] *** Quits: zimbabao (rajaram@52A9E86D.EA743218.BE4CF869.IP) (Ping timeout)
[04:41:24] *** Quits: lkuper (lkuper@moz-61339218.dyn.optonline.net) (Quit: lkuper)
[04:41:36] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[04:45:52] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[04:47:03] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[04:48:14] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[04:48:28] *** Quits: canhtak (canhtak@moz-1300C4D7.wl.t.ulaval.ca) (Ping timeout)
[04:51:04] *** Quits: brson (brson@moz-62518563.mtv2.mozilla.com) (Ping timeout)
[04:51:22] *** Joins: aurynj (Eon@C498BDEC.C264657C.C6282BC4.IP)
[04:52:01] *** Joins: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP)
[04:52:01] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/_3DUkg
[04:52:01] <ghrust> 13rust/06auto 147dfa4b2 15noam: docs: named lifetimes...
[04:52:01] <ghrust> 13rust/06auto 144b224af 15noam: Added suggested notes...
[04:52:01] <ghrust> 13rust/06auto 14e28f081 15bors: auto merge of #13106 : CLUSTERfoo/rust/docs/labelled_breaks, r=brson...
[04:52:01] *** Parts: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP) ()
[04:56:40] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:56:46] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:59:47] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Connection reset by peer)
[05:00:56] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[05:04:36] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[05:06:32] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[05:09:07] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Connection reset by peer)
[05:16:47] *** Joins: brson (brson@moz-62518563.mtv2.mozilla.com)
[05:16:47] *** ChanServ sets mode: +qo brson brson
[05:19:09] <Eridius> acrichto: reading the meeting notes now... you can write count!() as a macro_rule that counts the number of arguments it has
[05:19:15] <Eridius> by expanding it to 1 + 1 + 1 + 1 + ...
[05:19:23] <Eridius> which is unfortunate, but that will be trivially constant-folded
[05:19:37] * Eridius was debating submitting precisely that in order to optimize vec!()
[05:22:51] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[05:29:10] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[05:31:31] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[05:36:30] <cmr> brson: it seems like we could seamlessly switch to mingw-w64 now
[05:38:16] *** Joins: edwardw (Mibbit@AC1442B4.1B2F6624.7F41E82D.IP)
[05:39:02] <brson> cmr: great!
[05:39:39] <brson> i'd like to do that next after the installers are done
[05:40:02] <cmr> don't you find infrastructure/buildsystem work soul sucking?
[05:43:49] <brson> yes
[05:50:29] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[05:51:26] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[05:53:14] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[06:01:46] *** Joins: zimbabao (rajaram@47769425.AE842F9B.81C3DAA1.IP)
[06:03:31] *** Quits: Kxepal (Miranda@moz-83F7AF52.pppoe.mtu-net.ru) (Quit: Kxepal)
[06:03:46] *** Joins: Kxepal (Miranda@moz-83F7AF52.pppoe.mtu-net.ru)
[06:04:05] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[06:06:26] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[06:12:28] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[06:14:53] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[06:22:48] *** Quits: vadimcn (chatzilla@moz-E841EA3A.hsd1.wa.comcast.net) (Connection reset by peer)
[06:25:57] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 31.0a1/20140325030201])
[06:28:44] *** Joins: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[06:34:38] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[06:36:36] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[06:37:01] *** Joins: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP)
[06:37:01] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/_3DUkg
[06:37:01] *** Parts: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP) ()
[06:38:45] <acrichto> my mind was just blown
[06:38:50] <acrichto> you can do iterator macros in rust!
[06:39:26] <acrichto> https://gist.github.com/9777865
[06:39:45] <acrichto> zomg rust gets better every day
[06:40:10] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[06:41:57] *** Joins: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP)
[06:41:57] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/gtj5kg
[06:41:57] *** Parts: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP) ()
[06:41:58] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[06:41:58] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/EnbESw
[06:41:58] <ghrust> 13rust/06auto 146200e76 15Marvin L√∂bel: Changed `iter::Extendable` and `iter::FromIterator` to take a `Iterator` by value
[06:41:58] <ghrust> 13rust/06auto 146bac560 15bors: auto merge of #13039 : Kimundi/rust/iter_by_value_extend, r=alexcrichton...
[06:41:59] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[06:43:36] *** Quits: edwardw (Mibbit@AC1442B4.1B2F6624.7F41E82D.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:45:00] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[06:45:21] <ChrisMorgan> acrichto: yes‚Äîso searching for `bar!` is no longer sufficient!
[06:47:52] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[06:47:59] *** Joins: edwardw (edwardw@4112974A.B4358688.30F15291.IP)
[06:48:26] *** Joins: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP)
[06:48:26] <ghrust> [13rust] 15brson 04force-pushed 06dist-snap from 14fac3765 to 147be37e6: 02http://git.io/0Tp-4A
[06:48:26] <ghrust> 13rust/06dist-snap 14ff17b7c 15Brian Anderson: mk: Remove leading './' from manifest entries
[06:48:26] <ghrust> 13rust/06dist-snap 14e509cd6 15Brian Anderson: Revert "Revert "mk: Run 'make install' through install.sh""...
[06:48:26] <ghrust> 13rust/06dist-snap 146f9b30c 15Brian Anderson: configure: Make rustlibdir non-configurable...
[06:48:28] *** Parts: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP) ()
[06:52:09] *** Joins: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP)
[06:52:10] <ghrust> [13rust] 15brson 04force-pushed 06dist-snap from 147be37e6 to 14f44c79f: 02http://git.io/0Tp-4A
[06:52:10] <ghrust> 13rust/06dist-snap 14f44c79f 15Brian Anderson: install: Support --libdir and --mandir correctly...
[06:52:10] *** Parts: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP) ()
[06:55:51] *** Joins: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP)
[06:55:51] <ghrust> [13rust] 15brson pushed 1 new commit to 06dist-snap: 02http://git.io/pl10Lg
[06:55:51] <ghrust> 13rust/06dist-snap 1439cce4a 15Brian Anderson: install: Untabify
[06:55:51] *** Parts: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP) ()
[06:56:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[06:56:12] <sfackler> has anyone seen the libserialize test suite just die mid way through?
[06:57:56] *** Joins: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP)
[06:57:56] <ghrust> [13rust] 15brson 04force-pushed 06dist-snap from 1439cce4a to 14ce1e48a: 02http://git.io/0Tp-4A
[06:57:56] <ghrust> 13rust/06dist-snap 14ce1e48a 15Brian Anderson: install: Support --libdir and --mandir correctly...
[06:57:56] *** Parts: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP) ()
[06:58:13] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[06:59:50] *** Quits: edwardw (edwardw@4112974A.B4358688.30F15291.IP) (Ping timeout)
[07:01:36] *** Joins: edwardw (edwardw@68931FF2.B77F1D58.FAED9FFC.IP)
[07:02:53] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[07:04:05] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[07:06:26] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[07:08:40] <eddyb> woo vec![]
[07:09:18] <edwardw> lanaded?
[07:09:23] <edwardw> landed*
[07:09:25] <eddyb> not sure, but accepted
[07:09:53] <eddyb> nmatsakis: GADT is not that simple, I've realized :/. leads to type pattern matching (if a specific branch matches in a generic function, you suddenly have a more detailed view of the type)
[07:12:32] <eddyb> nmatsakis: enum Tuple<T> {Tuple0 for T = (), Tuple1<A> for T = (A,), Tuple2<A, B> for T = (A, B), ...} fn foo<T>(x: T) {match unsafe {transmute<(), Tuple<T>>()} {... Tuple2 => {let (a, b) = x;} ...}} etc.
[07:13:33] <eddyb> nmatsakis: not to mention that the enum is potentially uninhabited so you need to guard against that somehow
[07:15:49] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[07:17:25] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[07:19:47] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[07:19:51] <sfackler> this seems to happen the first time libserialize tests run, but the second run always works: http://sprunge.us/hHBB
[07:24:16] *** Quits: brson (brson@moz-62518563.mtv2.mozilla.com) (Ping timeout)
[07:29:42] <pnkfelix> eddyb: surely `unsafe {transmute<(), Tuple<T>>()}` is nonsensical?
[07:29:49] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[07:29:56] <pnkfelix> eddyb: where is the discriminator going to come from?
[07:30:04] <eddyb> pnkfelix: there is no discriminator :)
[07:30:25] <eddyb> pnkfelix: each possible Tuple<T> has exactly one variant or it's uninhabited
[07:30:25] <pnkfelix> eddyb: even with GADTs, enum's need a discriminator, no?
[07:30:46] <eddyb> if it has one variant, then it's representation is () and it works
[07:30:53] <eddyb> *its
[07:32:20] <pnkfelix> <shrug> that's not my mental model of how GADT's work, but perhaps I am misguided, I haven't thought too carefully about cases like this
[07:32:39] <eddyb> monomorphization really changes the rules to the game :P
[07:33:41] <eddyb> pnkfelix: for Tuple<(A, B)> there is only one variant that can be constructed, Tuple2
[07:34:10] <eddyb> pnkfelix: every other variant is impossible to have
[07:34:26] <pnkfelix> eddyb: hmm maybe it works out
[07:34:48] <eddyb> unlike Haskell, GADTs in Rust would also be an optimization feature
[07:36:05] *** Quits: aurynj (Eon@C498BDEC.C264657C.C6282BC4.IP) (Quit: Leaving)
[07:37:36] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[07:38:32] <eddyb> pnkfelix: I suspect we'll have to solve the uninhabited problem first
[07:39:02] <eddyb> rusti: match unsafe {::std::cast::transmute::<(), Void>(()))}{}
[07:39:05] -rusti- pastebinned 7 lines of output: http://sprunge.us/EbXH
[07:39:15] <eddyb> rusti: match unsafe {::std::cast::transmute::<(), Void>(())}{}
[07:39:17] -rusti- pastebinned 8 lines of output: http://sprunge.us/cWRV
[07:39:20] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[07:39:36] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[07:39:44] <eddyb> rusti: enum Void {} match unsafe {::std::cast::transmute::<(), Void>(())}{}
[07:39:45] -rusti- pastebinned 8 lines of output: http://sprunge.us/LAVh
[07:40:04] <eddyb> rusti: enum Void {} match unsafe {::std::cast::transmute::<(), Void>(())}{} if true {return}
[07:40:05] -rusti- pastebinned 8 lines of output: http://sprunge.us/efjR
[07:40:10] <eddyb> come on :(
[07:40:24] <eddyb> rusti: enum Void {} fn foo(){match unsafe {::std::cast::transmute::<(), Void>(())}{}} foo()
[07:40:25] -rusti- task '<main>' failed at 'scrutinizing value that can't exist', <anon>:10
[07:40:26] -rusti- application terminated with error code 101
[07:40:34] <eddyb> pnkfelix: ^^ this lovely runtime failure
[07:40:35] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[07:40:43] <eddyb> rusti: enum Void {} fn foo(){match unsafe {::std::cast::transmute::<(), Void>(())}{_ => {}}} foo()
[07:40:43] -rusti- ()
[07:40:49] <eddyb> and that nonsensical match works
[07:41:02] <pnkfelix> eddyb: yeah I'm aware of it, I think I had a discussion about it at a triage mtg recently
[07:41:28] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[07:41:30] <pnkfelix> eddyb: i.e. there's already a bug open with discussion.  Maybe even a decision about what we'll do, not sure.
[07:41:46] <eddyb> pnkfelix: bottom-like types propagate into generics like DST unsized, and it gets quite messy
[07:42:01] <pnkfelix> eddyb: https://github.com/mozilla/rust/issues/4499
[07:42:11] <eddyb> thanks
[07:44:31] <eddyb> silly bugzilla, won't let me read ll files because they're application/octet-stream
[07:44:52] <eddyb> dumb mime detection like that feels so unjust sometimes :(
[07:45:54] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Input/output error)
[07:51:59] *** Joins: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP)
[07:51:59] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/EnbESw
[07:51:59] *** Parts: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP) ()
[07:54:46] *** Quits: edwardw (edwardw@68931FF2.B77F1D58.FAED9FFC.IP) (Quit: Leaving...)
[07:56:57] *** Joins: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP)
[07:56:57] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/UG8Fdg
[07:56:57] *** Parts: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP) ()
[07:56:59] *** Joins: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP)
[07:56:59] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/Ooh8JQ
[07:56:59] <ghrust> 13rust/06auto 1459fd476 15Alex Crichton: syntax: Tweak parsing bounds on generics paths...
[07:56:59] <ghrust> 13rust/06auto 140544973 15bors: auto merge of #13079 : alexcrichton/rust/colons, r=cmr...
[07:56:59] *** Parts: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP) ()
[07:57:35] *** flaper87|afk is now known as flaper87
[08:00:58] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[08:03:05] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[08:17:33] *** Joins: bvssvni (Mibbit@moz-A47B6F8E.bb.online.no)
[08:22:20] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[08:23:17] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:23:58] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:24:01] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:24:03] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:24:39] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[08:27:03] *** Joins: huon (Thunderbir@moz-7CC720CF.lns20.syd7.internode.on.net)
[08:27:03] *** ChanServ sets mode: +o huon
[08:28:33] * huon had a very neat revelation about the relationship between Send, Share and Isolate
[08:28:51] <eddyb> what's Isolate?
[08:29:09] <huon> they are things that are threadsafe when shared by, respectively, value, reference and mutable reference.
[08:29:32] <huon> eddyb: http://smallcultfollowing.com/babysteps/blog/2013/06/11/data-parallelism-in-rust/ mentions it
[08:29:41] <huon> same as Share, but with &mut instead of &, basically.
[08:30:04] <eddyb> does it imply Share?
[08:30:04] <huon> (i.e. things that are threadsafe when non-aliased, like a writable &mut.)
[08:30:08] <huon> yes
[08:30:14] <huon> wait
[08:30:17] <huon> no
[08:30:22] <eddyb> the other way around?
[08:30:25] <huon> Cell is isolate but not Share
[08:30:34] <huon> yeah, that way
[08:30:39] * huon got his subsets mixed up
[08:31:52] <eddyb> so everything is going to be Isolate modulo thread-unsafe C APIs and some task-local stuff?
[08:32:32] <eddyb> splitting a &mut [T] in half and giving the halves to two tasks, that would be neat
[08:33:01] <eddyb> parallel quicksort for large slices, maybe?
[08:33:45] <strcat> parallel quicksort doesn't work for very
[08:33:48] <strcat> very well*
[08:34:07] <strcat> parallel merge sort does
[08:34:16] <strcat> since it does the work within the children
[08:34:26] <eddyb> right, I shouldn't have picked a specific algorithm
[08:35:11] <bvssvni> will a DST be able to allocate return values on the stack?
[08:35:21] <eddyb> bvssvni: mmmaybe
[08:35:29] <eddyb> I don't think we've decided on that yet
[08:35:38] <strcat> I don't see how
[08:35:44] *** Quits: bvssvni (Mibbit@moz-A47B6F8E.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[08:36:09] *** Joins: bvssvni (Mibbit@moz-A47B6F8E.bb.online.no)
[08:36:14] <eddyb> strcat: splitting work wherever the benefits outweigh the cost, sounds like a good thing to have in the standard distribution
[08:36:47] <eddyb> embrace non-verbose parallelism
[08:37:01] <bvssvni> with a DST array of slices, one can represent any set on the stack
[08:37:06] <strcat> you'd be surprised at how memory bandwidth bound sorts are
[08:37:24] <strcat> bvssvni: how are you going to return a variadic length thing?
[08:37:26] <strcat> at a low-level
[08:38:01] <bvssvni> strcat: if it is possible to allocate something DST on the stack with limited lifetime
[08:38:09] <strcat> but how do you return it
[08:38:14] <strcat> at a low-level, not talking about type checking
[08:38:45] <strcat> the caller calls your function, how do you give it variadic length data?
[08:38:57] <bvssvni> I don't know, because I am not sure how DST works
[08:39:04] <strcat> this isn't really about DST
[08:39:15] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:39:15] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:39:36] *** Joins: dmsky (dmsky@moz-63A2E3E4.pppoe.spdop.ru)
[08:39:38] <strcat> it seems like we'd have to add our own weird calling convention to LLVM
[08:39:56] <strcat> write out a size of the return value and do something weird with the stack ptr
[08:40:03] <eddyb> oh dear
[08:40:07] <eddyb> is it worth it?
[08:40:10] <strcat> no
[08:40:16] <strcat> we don't even have alloca
[08:40:36] <strcat> should worry about having alloca long before you want something C/C++/Fortran/Pascal/whatever don't have in their model at all
[08:40:37] <bvssvni> if it is possible, it open up a new class of faster algorithms
[08:41:09] <bvssvni> because sets are mathematically equivalent to Boolean algebra
[08:41:21] <bvssvni> or can be used to do same computations, but different representation
[08:41:47] <huon> why will this be faster than what we can currently do?
[08:41:58] *** Joins: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP)
[08:41:58] <ghrust> [13rust] 15bors 04force-pushed 06auto from 140544973 to 146bac560: 02http://git.io/N3iJvQ
[08:41:58] *** Parts: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP) ()
[08:42:02] <eddyb> bvssvni: you can do all that on the heap
[08:42:18] <bvssvni> eddyb: I know, but isn't that slower?
[08:42:38] <eddyb> keep in mind that you have limited stack space
[08:42:38] <strcat> slower than what?
[08:42:52] <bvssvni> eddyb: true
[08:43:07] <strcat> if you can actually explain how you want to return a variable length thing it will make more sense to ask for it to be implemented and reason about the performance ;p
[08:43:28] <strcat> I can't really see how it would be done
[08:43:35] <strcat> at least in LLVM's compilation model
[08:43:51] <strcat> I can see how you'd do something like that in asm by hand if you were a bit crazy
[08:44:08] <strcat> since you don't have to worry about calling conventions ;p
[08:44:37] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[08:45:17] <bvssvni> fn predicate<'a ,T>(arr: &'a [T]) -> 'a [&'a [T]]
[08:45:35] <eddyb> aka "lifetimes are magic"
[08:45:49] <eddyb> bvssvni: guess how that is compiled
[08:46:05] <eddyb> fn predicate<T>(arr: &'static [T]) -> 'static [&'static [T]]
[08:46:18] <eddyb> now you only need a .data runtime allocator
[08:46:20] <strcat> bvssvni: lifetimes are entirely a type system thing
[08:46:23] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[08:46:38] <strcat> when rust actually compiles the functions it substitutes the type parameters, and erases all the lifetimes
[08:47:19] <eddyb> bvssvni: even push-down with DSTs is hard
[08:47:30] <eddyb> you can't just cheap out and use alloca because we don't have it
[08:47:35] <strcat> even alloca is restricted
[08:47:46] <strcat> it's not like you can alloca an array and then extend it
[08:47:50] <strcat> it's a stack
[08:48:02] <eddyb> yeah you're stuck with the capacity you have
[08:48:05] <strcat> going to be stuff put after it
[08:48:15] <strcat> but anyway I can see that if you ignore calling conventions
[08:48:21] <strcat> you could write out an arbitrary amount of data
[08:48:28] <strcat> and have a convention for telling the caller what you just did
[08:48:34] <eddyb> bvssvni: but at least you can get something like fn with_predicate<'a, T, U>(arr: &'a [T], cb: |[&'a [T]]| -> U) -> U working
[08:48:39] <strcat> but we can't easily do that
[08:48:46] <eddyb> bvssvni: with the alloca restriction, of course
[08:49:04] *** Joins: doener (bs@moz-AA189A5A.unitymedia.biz)
[08:49:05] <eddyb> strcat: look ma', no heap!
[08:49:23] <eddyb> ("what you just did")
[08:49:38] * strcat wonders if just copy-pasting http://cgit.freedesktop.org/systemd/systemd/tree/src/systemd/sd-bus.h into his project would work
[08:49:41] <strcat> before it's public
[08:49:44] <strcat> ;s
[08:49:51] <doener> eddyb: sorry, didn't get the IR ready in time yesterday, cleaning up made the bug disappear :-/
[08:50:03] <strcat> ah it actually depends on stuff like memfd now
[08:50:03] <doener> eddyb: but I guess you saw the LLVM bug I filed?
[08:50:04] <eddyb> doener: I saw the LLVM issue
[08:50:06] <strcat> meh
[08:50:23] <eddyb> strcat: good luck tracking down all the header files :P
[08:50:34] <strcat> eddyb: I'm just going to build a kernel with kdbus support
[08:50:37] <strcat> much easier
[08:50:47] <eddyb> strcat: it was a nightmare to steal (or to even browse) the official Mach-O implementation
[08:50:55] <eddyb> that stuff has decades of dust on top of it
[08:51:18] <eddyb> that cured me of header hunting
[08:51:26] <strcat> systemd has great documentation
[08:51:35] <eddyb> I sure hope so
[08:51:39] <strcat> it's just that this is only public if you compile with kdbus
[08:51:56] <strcat> I think because if you don't half of it won't work
[08:52:05] <strcat> but some of it must still work either way
[08:53:14] <strcat> oh great
[08:53:19] <strcat> I don't even need to build a kernel
[08:55:20] <eddyb> strcat: hang on, what are wicked and dracut?
[08:55:28] <eddyb> alternatives to NetworkManager and systemd?
[08:55:31] <strcat> no
[08:55:50] <eddyb> strcat: offtopic but you're not in #rust-offtopic https://news.opensuse.org/2014/03/19/development-for-13-2-kicks-off/
[08:55:53] <strcat> dracut makes an initramfs
[08:56:07] <strcat> it uses systemd ;s
[08:56:08] <eddyb> ah, initrd not /etc/init.d my bad
[08:56:15] <strcat> initramfs, not inird
[08:56:17] <strcat> initrd*
[08:56:33] <eddyb> strcat: initrd replacement, that is. I read it wrong
[08:56:54] <strcat> arch linux uses mkinitcpio, fedora uses dracut
[08:57:00] <strcat> they just generate an initramfs
[08:57:35] <strcat> http://ix.io/bhj well, kdbus works
[08:58:10] <strcat> eddyb: anyway I'm used to getting a new systemd release 10 minutes after it's tagged upstream now ;p
[08:58:26] * strcat can just bug the person who packages it
[08:58:49] <strcat> if it works I'll make nice modern rust kdbus bindings ;)
[08:58:58] <eddyb> openSUSE seems to slow down under the weight of time :(
[08:59:35] <eddyb> strcat: any idea where I can find officially packaged versions of nix packages? version numbers, that is
[08:59:40] <strcat> dunno
[08:59:54] <strcat> you really don't want to use nix outside of your home dir on another distro
[09:00:09] <strcat> you can't exactly mix system package managers
[09:00:27] <eddyb> I mean, on NixOS itself
[09:00:47] <strcat> nixpkgs on gihub
[09:00:48] <strcat> github*
[09:01:05] <eddyb> https://nixos.org/wiki/How_to_install_nix_in_home_(on_another_distribution) oh how did I not see this before?
[09:01:34] <strcat> they're not very up-to-date
[09:01:43] <strcat> some more out of date than others
[09:02:06] <eddyb> aww no kf5
[09:02:07] <strcat> although I'm quite used to having the latest stable release of everything
[09:02:57] <huon> sfackler: ping
[09:03:42] <eddyb> oh, I thought kde4 was in feature-freeze, I guess not the apps http://scummos.blogspot.de/2014/02/kate-intelligent-code-completion-for.html
[09:04:27] <eddyb> the python support makes me jelly http://scummos.blogspot.de/
[09:04:31] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[09:05:02] <strcat> eddyb: so use arch, we have kdevelop-python 1.6.1
[09:05:04] * strcat shrugs
[09:05:24] <eddyb> strcat: because I don't have the same for rust, that is
[09:05:45] <strcat> oh ;p
[09:05:51] <eddyb> strcat: 1.6.60git.1395612899 here
[09:05:57] <strcat> anyway about to see if kdbus lets me boot
[09:06:00] <strcat> fun
[09:06:14] <eddyb> if openSUSE drops unstable kde packages, that will be the breaking point for me
[09:06:20] *** Quits: dherman (dherman@moz-705E7FCC.static.twtelecom.net) (Quit: dherman)
[09:06:49] <strcat> silly kde
[09:07:07] <eddyb> the version numbers?
[09:07:18] <strcat> no
[09:07:25] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[09:07:49] <eddyb> http://community.kde.org/Frameworks/Binary_Packages#Arch_Linux cool
[09:08:33] <strcat> there's a binary repo for those
[09:08:48] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[09:09:09] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[09:09:19] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[09:09:51] <strcat> rusti: 2
[09:09:52] -rusti- 2
[09:09:53] <eddyb> strcat: I would move right away if it weren't so hard to redo my setup
[09:09:54] <strcat> rusti: soon!
[09:09:55] -rusti- <anon>:11:5: 11:6 error: expected ident, found `}`
[09:09:55] -rusti- <anon>:11     };
[09:09:55] -rusti-               ^
[09:09:55] -rusti- application terminated with error code 101
[09:10:26] * strcat can't wait for all these silly tests to compile :|
[09:10:55] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[09:11:35] <eddyb> strcat: I don't have a second HDD to do this with
[09:11:45] <eddyb> hmm, I have a 2TB HDD with ext4 on it
[09:12:18] <eddyb> so I could technically back up /etc, /usr, /home/eddy/.* and whatever else
[09:12:33] <eddyb> (without losing permissions)
[09:13:07] <strcat> rust-dbus coming right up ;p
[09:13:33] <strcat> although I have to do playpen first
[09:14:33] *** Quits: luz (lu.cy@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[09:16:37] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[09:17:56] * strcat wonders if systemctl daemon-reexec will work for this ;s
[09:18:00] <strcat> somewhat doubt it
[09:18:46] <eddyb> strcat: what's it about?
[09:18:57] <strcat> kdbus
[09:19:13] <eddyb> what does playpen do with kdbus?
[09:19:14] *** Joins: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP)
[09:19:21] <eddyb> strcat: you want to rewrite it in Rust?
[09:19:31] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[09:19:32] <strcat> it uses the old cgroup API
[09:19:35] <eddyb> aah
[09:19:53] <eddyb> wait, it was cmr who was using python scripts, I think
[09:19:54] <strcat> I want to port it to the new one, and I want to use the sane new dbus
[09:19:58] <eddyb> cmr: was that bug fixed?
[09:20:04] <strcat> https://github.com/thestinger/playpen/blob/master/playpen.c
[09:20:11] <strcat> it's a huge pain that way
[09:20:19] <strcat> + deprecated
[09:20:29] <strcat> and I want it to have a scope unit
[09:23:37] <strcat> eddyb: https://github.com/thestinger/playpen/blob/master/playpen.c#L487 rust isn't up to doing this kind of thing without making a whole point of really painful C bindings myself ;\
[09:23:49] <strcat> well, and the rest too
[09:24:50] <strcat> it can't block because I need to kill it after a timeout
[09:25:34] <strcat> although this is more complicated than it needs to be because it did more before
[09:25:41] <strcat> doesn't actually need timerfd atm
[09:26:51] <strcat> anyway I can probably cut this whole thing down to 300 lines + get it using a scope unit
[09:26:52] <strcat> going to be nice
[09:27:06] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[09:27:12] *** Joins: luz (lu.cy@moz-CD18B14B.customer.cdi.no)
[09:27:19] <strcat> although it'll get longer when I add a whole long list of features ;p
[09:28:15] *** Quits: dmsky (dmsky@moz-63A2E3E4.pppoe.spdop.ru) (Input/output error)
[09:29:25] <strcat> eddyb: well, it did pass tests
[09:29:55] <strcat> # TOTAL: 75
[09:29:57] <strcat> # PASS:  71
[09:29:59] <strcat> # SKIP:  4
[09:39:19] <eddyb> strcat: when removing DeepClone, we left around code generic over Clone/DeepClone, AFAICT
[09:39:24] <eddyb> strcat: in ext::deriving::clone
[09:39:33] <nmatsakis> eddyb: I confess I've not thought deeply about GADT but I'm ... unsurprised it's not that simple :)
[09:39:45] <strcat> eddyb: I'm still a bit sad about that ;\
[09:39:48] <strcat> DeepClone was useful for Rc
[09:39:49] <eddyb> I should give up on "simple"
[09:40:03] <strcat> it wasn't going to work for Gc though
[09:41:10] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[09:45:45] <strcat> eddyb: well, I did daemon-reexec a while ago and my computer still works ;p
[09:46:13] * strcat tries a reboot
[09:46:14] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[09:46:33] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[09:46:33] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[09:48:56] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[09:51:18] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[09:57:04] *** Joins: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP)
[09:57:04] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/4NgW1Q
[09:57:04] *** Parts: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP) ()
[09:57:47] *** Joins: dmsky (dmsky@moz-63A2E3E4.pppoe.spdop.ru)
[09:57:58] <huon> sfackler: unping
[09:59:26] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:00:06] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:01:58] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[10:01:58] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/ME7pXA
[10:01:58] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[10:01:58] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[10:01:58] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02https://github.com/mozilla/rust/compare/de85948ac0a6...82c8cb2abf46
[10:01:58] <ghrust> 13rust/06auto 145fddb42 15Alex Crichton: rustuv: Handle short writes in uv_fs_write...
[10:01:58] <ghrust> 13rust/06auto 1482c8cb2 15bors: auto merge of #13133 : alexcrichton/rust/issue-13130, r=brson...
[10:01:59] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[10:04:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[10:04:53] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[10:05:15] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[10:06:32] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[10:10:37] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[10:12:58] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[10:17:56] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[10:18:24] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[10:25:40] *** Quits: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP) (Ping timeout)
[10:32:35] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[10:34:44] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[10:36:26] *** Joins: eibwen (kvirc@moz-70651089.dip0.t-ipconnect.de)
[10:39:09] <huon> nmatsakis: is the Isolate trait (from your data parallelism blog post) still planned?
[10:39:44] <nmatsakis> huon: no
[10:39:53] <nmatsakis> I need to write an update, but I think we can get by with just Share
[10:39:59] <nmatsakis> (if we have unboxed closures)
[10:40:04] <nmatsakis> or, well, not unboxed
[10:40:15] <nmatsakis> just more variety of closure types, which making them traits opens the door for
[10:41:19] <nmatsakis> (which I am very happy about; I always hated Isolate)
[10:41:25] <huon> I assume that passing unaliased &mut T's (that are therefore writeable) will still be expressible under the new scheme?
[10:44:13] <nmatsakis> huon: Right. (As an aside, we should perhaps amend the definition of Share to say: &T and &mut are threadsafe. Note that in the latter you can assume this thread has unique access to the instance of T.)
[10:44:26] <nmatsakis> I think though that &T being threadsafe implies &mut T being threadsafe;
[10:44:31] <nmatsakis> but I guess not *necessarily*
[10:44:40] <nmatsakis> in any case, the basic idea would be this:
[10:45:00] <nmatsakis> if you fork a thread, you'd want to supply a closure type like FnMut<A,R>:Share
[10:45:17] <nmatsakis> where FnMut is "a closure type with an &mut self" -- basically our closures today 
[10:45:30] <nmatsakis> if you do a parallel map, you'd want to supply a closure type like Fn<A,R>:Share
[10:45:44] <nmatsakis> where Fn is "a closure type with &self" -- we don't have this today
[10:45:58] <nmatsakis> the latter would ensure that all upvars are considered aliased, and hence it would forbid mutation
[10:46:30] <nmatsakis> (this should more-or-less "just work" -- the borrow checker already treats upvars as being referenced through a pointer, but there is some work in the front-end needed)
[10:47:38] <huon> All we need is the Fn trait(s)...
[10:48:10] <nmatsakis> actually the fork part we could build today, but for https://github.com/mozilla/rust/issues/12624
[10:49:24] * nmatsakis goes through days and days of github bug e-mail
[10:49:27] <nmatsakis> only up to mar 23rd
[10:53:07] <huon> nmatsakis: should that RFC migrate to rust-lang/rfcs? (is pnkfelix's comment indicating it was effectively accepted already? I can't remember...)
[10:53:34] <nmatsakis> huon: sorry, which RFC?
[10:53:48] <nmatsakis> huon: oh #12624? we did discuss / accept it
[10:54:08] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[10:55:56] <huon> nmatsakis: yeah, #12624... I'm not sure, I can barely remember the details of what we discussed this meeting, let alone triage 2 weeks ago :)
[10:56:16] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[10:58:59] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.3.50.1)
[11:04:05] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[11:04:29] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[11:05:41] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[11:06:25] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[11:11:56] *** Joins: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP)
[11:11:56] <ghrust> [13rust] 15bors merged 06auto into 06master: 02https://github.com/mozilla/rust/compare/de85948ac0a6...82c8cb2abf46
[11:11:56] *** Parts: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP) ()
[11:12:19] <eddyb> why is that not shortened?
[11:12:26] <strcat> github.
[11:14:17] <huon> such consistency
[11:15:33] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[11:16:00] <eddyb> aww, strcat is missing all the fun
[11:16:29] <eddyb> strcat: https://gist.github.com/eddyb/504beee795c50465f910/4c3cf93c997ad3ffcb8435805d3798b081e9d13c
[11:16:41] <eddyb> strcat: and https://gist.github.com/eddyb/504beee795c50465f910
[11:16:55] *** Joins: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP)
[11:16:56] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/O54Xzw
[11:16:56] *** Parts: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP) ()
[11:16:56] *** Joins: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP)
[11:16:56] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/KtkrOA
[11:16:56] <ghrust> 13rust/06auto 14d1f8fb2 15Alex Crichton: std: Explicitly link to libm for freebsd...
[11:16:56] <ghrust> 13rust/06auto 140908ffa 15bors: auto merge of #13134 : alexcrichton/rust/freebsd-libm, r=thestinger...
[11:16:57] *** Parts: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP) ()
[11:17:16] <strcat> so, kdbus totally broke my networking
[11:17:22] * strcat sighs
[11:17:52] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[11:18:54] *** Joins: blank_name (blank_name@B7AFA74A.94CCB18F.53C6B850.IP)
[11:23:31] * huon waves to eddyb
[11:24:52] <eddyb> https://gist.github.com/huonw/b8f0bb527222e8ad635f you can have enum Expr<Phase = PostExpansion> btw
[11:25:06] <huon> eddyb: true enough
[11:25:17] <eddyb> that would require minimal changes to librustc, which has only a handful of files touching pre-expanded AST
[11:25:54] <eddyb> supporting IdentMac would be the best win we can get
[11:27:30] <eddyb> huon: hmmm
[11:27:52] <eddyb> huon: you couldn't have in-place expansion folding
[11:28:31] <eddyb> but that's not too bad
[11:28:43] <eddyb> (as long as you can reclaim memory)
[11:32:28] <huon> arenas for each phase
[11:35:18] *** Joins: bjz_ (bjz@B398BE78.F804C29E.D35A31DF.IP)
[11:35:18] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[11:37:37] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[11:37:59] <bvssvni> ok so the idea is to return Result<T, Phantom> and optimize out the branches that never gets called?
[11:38:22] *** Quits: zimbabao (rajaram@47769425.AE842F9B.81C3DAA1.IP) (Ping timeout)
[11:39:39] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[11:40:27] <huon> bvssvni: Result<T, Void> would "know" that the Err variant can never exist and so not bother to retain the ability to represent it (which would, as a consequence, automatically remove the relevant branches, etc.)
[11:42:29] <bvssvni> and then you could create a trait NeverFails<T> { fn run() -> Result<T, Void>; }
[11:42:41] <huon> yeah... I guess?
[11:43:08] <bvssvni> that's interesting
[11:43:13] <huon> More interesting would be `trait Foo<T, E> { fn run() -> Result<T, E> }` and then a type that implements Foo<T, Void> to assert it never fails
[11:43:34] <eddyb> widespread usage of Void vs () will confuse some people :P
[11:43:36] <huon> we can currently do this, but it has barely any semantics
[11:44:24] <bvssvni> it will also optimize things like dynamical languages written in Rust
[11:44:36] <bvssvni> if one uses enums
[11:45:03] <eddyb> bvssvni: GADTs kinda require type pattern matching :P
[11:45:26] <eddyb> my example this morning was enum Tuple<T> {Tuple0 for T = (), Tuple1<A> for T = (A,), Tuple2<A, B> for T = (A, B), ...} fn foo<T>(x: T) {match unsafe {transmute<(), Tuple<T>>()} {... Tuple2 => {let (a, b) = x;} ...}} etc.
[11:46:43] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[11:47:55] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[11:47:59] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[11:48:08] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[11:48:29] <bvssvni> eddyb: are Tuple0, Tuple1 both types and variants?
[11:48:35] <eddyb> just variants
[11:48:46] <eddyb> associated to a type
[11:49:02] <bvssvni> like sugar for Tuple0: Tuple0
[11:49:17] <eddyb> bvssvni: that enum happens to have at most one variant and that variant is empty
[11:49:35] <eddyb> (for any given T)
[11:50:42] <bvssvni> eddyb: wait do you mean for T = () also satisfy for T = (A,)?
[11:51:09] <eddyb> bvssvni: no, the opposite
[11:51:31] <eddyb> Tuple<()> only has one variant, Tuple0
[11:51:32] <bvssvni> eddyb: yes, I have problems keeping up with the logic :P
[11:51:47] <eddyb> Tuple<(*,)> has only one variant, Tuple1
[11:51:58] <eddyb> Tuple<(*, *)> only has Tuple2 etc. etc.
[11:53:50] <bvssvni> eddyb: when you write let (a, b) = x;, and x returns (a, b, c), it throws away c?
[11:54:06] <huon> eddyb: most of the ideas in that "RFC" became this comment: https://github.com/mozilla/rust/issues/4499#issuecomment-38674744 fwiw
[11:54:27] <eddyb> bvssvni: x can never be (a, b, c)
[11:54:43] <bvssvni> eddyb: ok, nice to get rid of that confusion
[11:54:43] <eddyb> bvssvni: (T, U, V) can never be (A, B)
[11:57:49] * bvssvni was surprised how this made perfectly sense
[12:04:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[12:05:01] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[12:05:31] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[12:06:25] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[12:07:17] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[12:18:04] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[12:20:29] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[12:22:52] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[12:26:11] <bvssvni> eddyb: does this make sense https://gist.github.com/bvssvni/9781993
[12:26:52] <eddyb> bvssvni: what would + mean?
[12:27:12] <eddyb> bvssvni: also, you cannot use T in the variant if you "overwrite it"
[12:27:57] <bvssvni> ah
[12:29:26] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Connection reset by peer)
[12:29:28] <bvssvni> eddyb: https://gist.github.com/bvssvni/9781993
[12:29:55] <eddyb> bvssvni: what does + mean?
[12:30:33] <eddyb> we don't have a + operator on types
[12:30:33] <bvssvni> eddyb: that A(int) is a variant if T is either () or int
[12:30:39] <eddyb> that would be |
[12:30:47] <eddyb> but it would still be hypothetical
[12:31:41] <bvssvni> eddyb: what about traits?
[12:31:59] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[12:32:18] <eddyb> bvssvni: that's something different
[12:32:33] <bvssvni> eddyb: ok, I think I get it
[12:32:59] <eddyb> you could have `for T: Trait` but only after we start allowing bounds in structures
[12:33:06] <eddyb> well, in type definitions I should say
[12:34:00] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[12:34:32] <bvssvni> eddyb: https://gist.github.com/bvssvni/9781993
[12:35:19] <bvssvni> does this make sense for multiple generic arguments?
[12:36:10] <eddyb> sure
[12:36:58] *** Joins: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP)
[12:36:58] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/KtkrOA
[12:36:58] *** Parts: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP) ()
[12:37:53] <bvssvni> eddyb: let there be existential phantom types :D
[12:40:09] *** Joins: lpy (lpy@F3793011.25165A39.3F03179E.IP)
[12:41:52] *** Joins: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP)
[12:41:52] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/ByNLwA
[12:41:52] *** Parts: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP) ()
[12:42:00] *** Quits: lpy (lpy@F3793011.25165A39.3F03179E.IP) (Client exited)
[12:42:36] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[12:44:40] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[12:47:43] <strcat> rusti: 2
[12:47:43] -rusti- pastebinned 7 lines of output: http://sprunge.us/GZhf
[12:47:45] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[12:47:52] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[12:48:26] <strcat> rusti: 2
[12:48:27] -rusti- 2
[12:48:32] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[12:48:39] <strcat> rustilite: fn main() { }
[12:53:01] *** Joins: zimbabao (rajaram@52A9E86D.EA743218.BE4CF869.IP)
[13:01:24] <eibwen> rustilite: 2
[13:01:25] -rustilite- <anon>:1:1: 1:2 error: expected item but found `2`
[13:01:25] -rustilite- <anon>:1 2
[13:01:25] -rustilite-          ^
[13:01:26] -rustilite- application terminated with error code 101
[13:04:12] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[13:07:26] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[13:14:35] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[13:14:46] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[13:14:46] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[13:15:41] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[13:18:00] *** Quits: zimbabao (rajaram@52A9E86D.EA743218.BE4CF869.IP) (Ping timeout)
[13:28:02] *** Joins: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP)
[13:31:07] *** Joins: gimpf (gimpf@moz-F444DB07.adsl.highway.telekom.at)
[13:32:46] *** Joins: zimbabao (rajaram@D0E950B.6E9421F6.BE4CF869.IP)
[13:35:04] *** Quits: limeburst (me@247D1419.D73964AC.27A8748.IP) (Ping timeout)
[13:37:39] *** Joins: limeburst (me@247D1419.D73964AC.27A8748.IP)
[13:42:15] <eddyb> huon: the is a reason TokenTree uses @ :(
[13:42:38] <eddyb> it has to share sub-trees in different parts
[13:45:19] *** Quits: zimbabao (rajaram@D0E950B.6E9421F6.BE4CF869.IP) (Ping timeout)
[13:46:21] <eddyb> huon: not saying that the transcriber is idiomatic, but it needs Rc for now
[13:46:38] <eddyb> huon: RefCell<Vec<@T>> is also a pain to deal with, you need sharing there
[13:46:51] <eddyb> (e.g. FileMap)
[13:47:08] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[13:49:35] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[13:50:35] <huon> can anyone think of any error messages that point directly to the whole of a `let .. = ..;` statement? (rather than the expression or variable itself)
[13:51:43] <bvssvni> huon: maybe if you write let a = 2, let b = 3; ?
[13:55:03] <huon> bvssvni: it's just a parse error
[13:55:29] <huon> anyway I just checked the source... literally nothing reads the span I'm interested in, so I don't need to worry.
[13:55:51] <eddyb> huon: removing some spans :D:D?
[13:56:44] <huon> eddyb: nope, not tonight
[14:04:01] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[14:04:38] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[14:04:44] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[14:04:53] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[14:05:19] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[14:06:18] *** Joins: sunfish (chatzilla@13F2CEC5.7672369.D8E68FF6.IP)
[14:07:07] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[14:09:52] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[14:12:17] *** Joins: lpy_ (lpy@E44EE2C4.F09091A8.1348A864.IP)
[14:13:26] *** Quits: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP) (Ping timeout)
[14:13:57] *** Quits: lpy_ (lpy@E44EE2C4.F09091A8.1348A864.IP) (Ping timeout)
[14:29:27] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[14:30:28] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[14:32:51] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[14:46:53] *** Joins: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP)
[14:46:53] <ghrust> [13rust] 15bors 04force-pushed 06auto from 149fc9223 to 140908ffa: 02http://git.io/N3iJvQ
[14:46:53] *** Parts: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP) ()
[14:46:55] *** Joins: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP)
[14:46:55] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/TpiWtg
[14:46:55] <ghrust> 13rust/06auto 140063504 15Brian Anderson: rustdoc: Display rust logo again. Closes #13148
[14:46:55] <ghrust> 13rust/06auto 14bb1d0bf 15bors: auto merge of #13149 : brson/rust/rustdoclogo, r=alexcrichton
[14:46:55] *** Parts: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP) ()
[14:50:11] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[14:50:54] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[14:51:15] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[14:52:40] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[14:53:03] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[14:54:32] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[14:58:36] *** Joins: dherman (dherman@moz-705E7FCC.static.twtelecom.net)
[14:58:37] *** ChanServ sets mode: +ao dherman dherman
[15:04:08] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[15:06:31] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[15:06:49] *** Joins: NiccosSystem` (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[15:06:52] *** Quits: NiccosSystem` (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Quit: NiccosSystem`)
[15:07:04] *** Joins: edwardw (edwardw@9366486F.7FC992B3.B3B412E5.IP)
[15:13:51] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[15:16:14] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[15:18:11] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Quit: victorporof)
[15:21:53] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[15:24:01] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[15:24:23] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[15:26:32] *** Quits: balpert_ (sid15886@moz-A42E5B7B.irccloud.com) (User has been banned from Mozilla (no spamming here))
[15:26:32] *** Quits: tca (sid17279@moz-A42E5B7B.irccloud.com) (User has been banned from Mozilla (no spamming here))
[15:26:32] *** Quits: larsberg (sid16141@moz-A42E5B7B.irccloud.com) (User has been banned from Mozilla (no spamming here))
[15:26:32] *** Quits: jack (sid19593@moz-A42E5B7B.irccloud.com) (User has been banned from Mozilla (no spamming here))
[15:27:12] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[15:29:27] *** Joins: larsberg (larsberg@moz-3F68A7C1.lightspeed.cicril.sbcglobal.net)
[15:35:58] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[15:37:53] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[15:46:07] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
[15:51:28] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[15:59:22] *** Quits: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP) (Quit: leaving)
[16:01:41] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[16:02:26] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[16:04:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:06:24] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[16:10:15] *** Joins: tca (sid17279@moz-A42E5B7B.irccloud.com)
[16:10:54] *** Quits: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP) (Ping timeout)
[16:12:01] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[16:12:01] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/9CobTg
[16:12:01] <ghrust> 13rust/06auto 14a424e84 15Patrick Walton: libstd: Document the following modules:...
[16:12:01] <ghrust> 13rust/06auto 14fad7717 15Alex Crichton: std: Touch various I/O documentation blocks...
[16:12:01] <ghrust> 13rust/06auto 145da14c0 15bors: auto merge of #13135 : alexcrichton/rust/dox, r=alexcrichton...
[16:12:03] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[16:15:23] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[16:15:56] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[16:16:09] *** Quits: edwardw (edwardw@9366486F.7FC992B3.B3B412E5.IP) (Quit: Leaving...)
[16:17:41] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[16:17:44] *** Joins: edwardw (edwardw@C5A98CE5.177282A3.FAED9FFC.IP)
[16:18:45] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:19:16] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[16:21:03] *** Joins: jensnock_ (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[16:21:06] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[16:21:08] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[16:21:10] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[16:21:30] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:25:34] <acrichto> nmatsakis: ping
[16:33:50] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[16:40:54] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:42:52] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[16:43:59] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[16:52:52] *** Quits: dmsky (dmsky@moz-63A2E3E4.pppoe.spdop.ru) (Ping timeout)
[16:53:28] <cmr> eddyb: which bug?
[16:53:37] <eddyb> cmr: the multibuilder one
[16:54:10] <cmr> yes but it's not running because I'm booted into windows atm
[16:54:35] <eddyb> fun
[16:57:32] *** Joins: dmsky (dmsky@moz-FF2573B1.pppoe.spdop.ru)
[16:57:56] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[16:58:02] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:58:16] <eddyb> cmr: any idea if there's a way to disable spans?
[16:58:17] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[16:58:27] *** Quits: Kxepal (Miranda@moz-83F7AF52.pppoe.mtu-net.ru) (Ping timeout)
[16:58:32] <eddyb> cmr: I guess I could grep them away, but it's not nice
[16:58:37] <cmr> wut
[16:58:56] <cmr> disable spans in what?
[16:59:01] <eddyb> error output
[16:59:04] <cmr> no.
[16:59:16] <cmr> (I thought you meant in libsyntax itself)
[16:59:19] <eddyb> cmr: the line/column numbers provide the same information, and a smart enough IDE could even select across multiple lines
[16:59:40] <cmr> eddyb: sure but it's meant for humans to read :P
[17:00:06] <eddyb> yeah but for me it makes it harder to read errors and click through them
[17:06:49] *** Joins: Kxepal (Miranda@moz-28B57678.pppoe.mtu-net.ru)
[17:08:06] *** Quits: jensnock_ (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[17:08:37] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[17:09:41] <eddyb> fn next_token(&self) -> TokenAndSpan // IMO that should be &mut self
[17:10:01] <eddyb> Parser has already been converted to take &mut self AFAICT
[17:10:21] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[17:11:54] *** Quits: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP) (Ping timeout)
[17:12:59] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[17:14:17] *** Quits: larsberg (larsberg@moz-3F68A7C1.lightspeed.cicril.sbcglobal.net) (Quit: Leaving.)
[17:14:25] *** Joins: larsberg (sid16141@moz-A42E5B7B.irccloud.com)
[17:20:39] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:21:59] *** Joins: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP)
[17:21:59] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/9CobTg
[17:21:59] *** Parts: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP) ()
[17:23:54] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:24:26] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[17:24:26] *** ChanServ sets mode: +o tjc
[17:26:14] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:26:55] *** Joins: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP)
[17:26:55] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/C7ujbw
[17:26:55] *** Parts: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP) ()
[17:26:56] *** Joins: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP)
[17:26:57] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/Ro9iHA
[17:26:57] <ghrust> 13rust/06auto 1419d913b 15Kiet Tran: Prefer lifetime suggestion over generic error
[17:26:57] <ghrust> 13rust/06auto 142c71cdf 15bors: auto merge of #13071 : ktt3ja/rust/deterministic-lifetime-suggestion, r=cmr...
[17:26:57] *** Parts: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP) ()
[17:27:40] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[17:27:40] *** ChanServ sets mode: +ao pcwalton pcwalton
[17:30:14] *** Joins: andrew-d_w (andrew-d_w@3B0E9325.9DFA657C.CC0301A2.IP)
[17:30:20] *** Quits: andrew-d_w (andrew-d_w@3B0E9325.9DFA657C.CC0301A2.IP) (Input/output error)
[17:30:27] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[17:30:43] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[17:30:48] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[17:32:31] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[17:32:33] *** Joins: victorporof_ (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[17:33:18] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:33:25] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[17:33:51] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[17:35:42] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[17:39:41] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[17:43:09] *** Quits: rook (rook@moz-DE88DB2D.hfc.comcastbusiness.net) (Quit: rook)
[17:44:03] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Quit: Sharp)
[17:44:30] <herrwolfe45> acrichto: regarding PR #13110 (the outfile, out-dir error msgs) I noticed you said you'd almost rather fix the compiler issue itself instead of adding these path checks. My thought process has been, the user is supplying erroneous information to the compiler, so the compiler should fail before running. Were  you thinking of another way to handle this?
[17:45:03] <acrichto> herrwolfe45: one thing I realized is that we use these inputs in a lot of different places in a few different ways
[17:45:04] <herrwolfe45> I'm mainly just curious, because I haven't thought of another way to handle the iissue
[17:45:24] <acrichto> for example, if you sepcify --out-dir, it could be fine, but what if all the destination files are directories?
[17:45:34] <acrichto> it's only later in compilation that you figure out what exactly you're emitting
[17:45:55] <acrichto> the concrete issue we have today is an opaque ICE with no indication to the real error
[17:46:12] <acrichto> we may want to just fix that ICE without adding in all the extra machinery to check for paths and directories and such
[17:46:24] *** Joins: andrew-__ (andrew-d_w@3B0E9325.9DFA657C.CC0301A2.IP)
[17:47:43] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[17:49:45] <acrichto> herrwolfe45: does that make sense?
[17:49:50] <acrichto> I may be a bit sprawling :(
[17:49:52] <herrwolfe45> yes that makes sense. I'd like to figure out how to fix the ICE error if possible
[17:49:55] <herrwolfe45> oh no, you're fine
[17:50:20] <acrichto> sounds good to me!
[17:50:26] <acrichto> I'd start with RUST_BACKTRACE=1
[17:50:50] *** Joins: jdm (jdm@FCCEA34F.7672369.D8E68FF6.IP)
[17:50:54] <herrwolfe45> i'm mainly trying to figure out how I could go about fixing the issue from that direction, instead of just from the call to rustc
[17:50:57] <herrwolfe45> ok
[17:51:37] <herrwolfe45> I should be able to get working on it again later this evening. Thanks for your help!
[17:51:49] <acrichto> no problem, and thank you for the work!
[17:51:54] <herrwolfe45> no problem, it's fun
[18:11:34] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[18:17:28] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[18:21:20] <bvssvni> https://github.com/mozilla/rust/pull/13109
[18:21:30] <bvssvni> does anyone have something to say about this?
[18:25:32] *** Quits: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com) (Connection reset by peer)
[18:26:09] *** Joins: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com)
[18:26:30] <bvssvni> I'll try search for a precedence, but I am fine either way
[18:26:52] <eddyb> *sigh* I think we should just use Items<'a> inside TtReader
[18:27:04] <eddyb> I don't like how it uses indexes
[18:28:25] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[18:30:31] *** Joins: Sharp (Sharp@19388942.6B775EBE.DC877F3B.IP)
[18:30:34] <sfackler> bvssvni: I'd be okay with it if there is precedence
[18:32:47] <cmr> I don't think we should special case it
[18:33:44] <cmr> We rejected another change to one of those lints that was along this vein
[18:35:43] <bvssvni> it wouldn't be an issue without the lint, but I seem to be the only one with this case
[18:35:53] <bvssvni> so it's rare
[18:36:37] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:36:51] *** Joins: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP)
[18:36:52] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/Ro9iHA
[18:36:52] *** Parts: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP) ()
[18:40:17] *** Quits: edwardw (edwardw@C5A98CE5.177282A3.FAED9FFC.IP) (Ping timeout)
[18:41:17] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[18:41:31] *** Joins: edwardw (edwardw@96E7298D.3E260003.B9C6B12A.IP)
[18:41:55] *** Joins: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP)
[18:41:55] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/l7nghA
[18:41:55] <ghrust> 13rust/06auto 14de58571 15Alex Crichton: syntax: Tweak parsing bounds on generics paths...
[18:41:55] <ghrust> 13rust/06auto 14c5feece 15bors: auto merge of #13079 : alexcrichton/rust/colons, r=cmr...
[18:41:55] *** Parts: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP) ()
[18:41:59] *** Joins: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP)
[18:41:59] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/8hjYdA
[18:41:59] *** Parts: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP) ()
[18:43:02] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:43:09] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:45:26] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
[18:45:35] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[18:49:11] *** Joins: brson (brson@moz-62518563.mtv2.mozilla.com)
[18:49:11] *** ChanServ sets mode: +qo brson brson
[18:49:29] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[18:50:59] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:52:27] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[18:53:19] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:58:18] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[19:03:01] <brson> restarting buildbot. sorry :-(
[19:05:12] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:05:50] <eddyb> woo I figured how to remove one kind of @
[19:06:04] <edwardw> such as?
[19:06:18] <eddyb> not sure what it implies, just that our TtReader should be more efficient
[19:06:30] <eddyb> edwardw: right now there's @Vec<TokenTree> all over the place
[19:06:39] <eddyb> they need sharing because you can't borrow into self
[19:06:58] <eddyb> but... you own the damn thing. solution? MoveIter
[19:07:32] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:08:51] <eddyb> strcat: can you clone a MoveIter?
[19:09:10] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[19:09:31] <eddyb> MoveItems, even
[19:09:41] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[19:10:04] <kimundi> eddyb: cloning a move iter is equivalent to cloning the Vec it was derived from
[19:10:15] <eddyb> kimundi: except the Vec is gone
[19:10:20] <eddyb> okay, I know how to do this :D
[19:10:43] <kimundi> eddyb: Hm? The vec gets convered into a iterator.
[19:10:53] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[19:10:53] *** Quits: victorporof_ (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[19:10:55] *** Joins: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP)
[19:10:55] <ghrust> [13rust] 15brson pushed 1 new commit to 06dist-snap: 02http://git.io/1AE8fw
[19:10:55] <ghrust> 13rust/06dist-snap 1474cd69a 15Brian Anderson: install: name the bundled manifest 'manifest.in'. Cleanup...
[19:10:55] *** Parts: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP) ()
[19:11:44] <eddyb> kimundi: MoveItems uses Items inside, so I can actually clone that, map with clone, collect it to a new Vec and call move_iter on it ;)
[19:11:58] <kimundi> yeah
[19:12:16] <kimundi> wait
[19:12:40] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:12:48] <eddyb> self.iter.clone().map(|x| x.clone()).collect::<Vec<T>>().move_iter()
[19:13:06] <kimundi> to map it you need to exhaust it. SO you need to iterate over the iterator, map it to stream of (T, cloned T), and collect it into two new vectors
[19:13:14] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: rcirc on GNU Emacs 24.3.1)
[19:13:23] <eddyb> two new vectors?
[19:13:32] <eddyb> kimundi: I have a MoveItems. the original Vec is long gone
[19:13:33] <kimundi> original and cloned one.
[19:13:36] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[19:13:48] <kimundi> eddyb: The MoveItems _is_ a vector
[19:13:54] <eddyb> no it's not
[19:13:59] <kimundi> jst different name, different interface
[19:14:11] <eddyb> it's a pointer to the original allocation and an iterator
[19:14:18] <kimundi> but is a owning memory slice that allows you to pop the elements from both sides.
[19:14:31] <eddyb> just one side
[19:14:38] <strcat> both
[19:14:45] <strcat> I improved it
[19:14:46] <kimundi> wait, what?
[19:14:48] <eddyb> ah, sorry, DoubleEndedIterator
[19:15:01] <strcat> and zero overhead, before it had to swap
[19:15:06] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:15:13] <eddyb> strcat: does my implementation above make sense?
[19:15:48] <strcat> hm?
[19:15:58] <eddyb> let v: Vec<T> = self.iter.clone().map(|x| x.clone()).collect(); v.move_iter()
[19:16:06] <eddyb> to Clone a MoveItems<T>
[19:16:39] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[19:18:01] <kimundi> AH, looked at the source... Interesting way to implement it.
[19:18:17] <kimundi> (The MoveIter itself, that is)
[19:18:43] <kimundi> I remembered a different implementation. :P
[19:19:20] <kimundi> eddyb: Anyway that should work, yeah.
[19:19:39] <eddyb> I was bugging strcat in case there's some weird detail that I'm missing
[19:20:56] <kimundi> I don't think there is much to miss as long as you don't actually mutate any field of the original MoveItem struct.
[19:21:40] <kimundi> The new vec has independently cloned values only, so that should be safe too.
[19:22:56] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[19:25:54] <eddyb> I dun goof'd
[19:26:11] <eddyb> there is a simple reason for using index + @Vec
[19:26:34] <eddyb> repeats
[19:27:30] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[19:30:06] <strcat> kimundi: yeah it did swaps before, I micro-optimized that out + made it double-ended
[19:30:29] <strcat> no reason to do it the way it was done before
[19:30:39] <kimundi> yeah
[19:30:49] <strcat> well, before it could have been all safe code
[19:30:54] <strcat> don't remember if it *was* all safe code
[19:31:03] <strcat> might have avoided bounds checks
[19:31:09] <kimundi> I assume making it reuse the "Item" iterator internally was just convenience?
[19:32:08] <strcat> yes
[19:32:22] <strcat> item iterator already has to be correct
[19:32:31] <kimundi> yeah
[19:34:46] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:37:07] *** Quits: doener (bs@moz-AA189A5A.unitymedia.biz) (Quit: leaving)
[19:37:28] <eddyb> strcat: well, I figured out how to clone MoveItems, but I won't use it
[19:37:37] <eddyb> I guess, if anyone ever needs it, ping me
[19:37:55] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:39:52] <edwardw> roger
[19:43:06] *** Quits: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP) (Ping timeout)
[19:45:40] *** Joins: aatch (James@moz-B437F499.pocketrent.com)
[19:45:43] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Connection reset by peer)
[19:49:18] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[19:54:41] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[19:55:56] <nrc> nmatsakis: ping
[19:56:30] <nmatsakis> nrc: pong
[19:56:52] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[19:56:54] *** Joins: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP)
[19:56:54] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/fooarQ
[19:56:54] <ghrust> 13rust/06auto 140063504 15Brian Anderson: rustdoc: Display rust logo again. Closes #13148
[19:56:54] <ghrust> 13rust/06auto 14461a459 15bors: auto merge of #13149 : brson/rust/rustdoclogo, r=alexcrichton
[19:56:54] *** Parts: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP) ()
[19:57:58] <nrc> nmatsakis: do you have a suggestion for where to do the unsized-ness checks on types?
[19:58:11] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:58:39] <nrc> atm I do them in vtable.rs which means they only get checked where bounds get checked, but I need to do them everywhere
[20:00:24] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[20:00:28] <nmatsakis> nrc: do you mean the check that the type with which a type parameter is instantiated is sized?
[20:00:43] <nmatsakis> (presuming it's not marked unsized etc etc)
[20:02:51] *** Joins: doener (doener@moz-C68F600D.unity-media.net)
[20:03:14] <nrc> nmatsakis: yes, exactly
[20:03:27] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[20:03:27] *** ChanServ sets mode: +o tjc
[20:03:32] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:13:53] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[20:14:12] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[20:16:13] <carter> o/ cmr 
[20:16:59] *** Joins: mawuli (mawuli@5054574.B199513B.DE15C958.IP)
[20:18:41] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
[20:18:48] *** Quits: mawuli (mawuli@5054574.B199513B.DE15C958.IP) (Ping timeout)
[20:21:33] *** Quits: jdm (jdm@FCCEA34F.7672369.D8E68FF6.IP) (Ping timeout)
[20:23:59] *** Joins: mawuli (mawuli@5054574.B199513B.DE15C958.IP)
[20:25:39] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[20:25:53] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[20:26:14] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[20:27:14] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[20:28:22] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[20:30:33] *** Quits: edwardw (edwardw@96E7298D.3E260003.B9C6B12A.IP) (Quit: Leaving...)
[20:32:31] *** Quits: sunfish (chatzilla@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[20:33:22] *** Joins: sunfish (chatzilla@13F2CEC5.7672369.D8E68FF6.IP)
[20:35:49] *** Quits: dherman (dherman@moz-705E7FCC.static.twtelecom.net) (Quit: dherman)
[20:36:53] *** Joins: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP)
[20:36:53] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14461a459 to 142c71cdf: 02http://git.io/N3iJvQ
[20:36:53] *** Parts: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP) ()
[20:36:53] *** Joins: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP)
[20:36:53] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/WWgtGg
[20:36:53] <ghrust> 13rust/06auto 1485ff90c 15Huon Wilson: syntax: add a some docs/clarification to the fields of ExpnInfo.
[20:36:53] <ghrust> 13rust/06auto 146419848 15Huon Wilson: syntax: add a missing span rewrite in fold....
[20:36:54] <ghrust> 13rust/06auto 14533a526 15bors: auto merge of #13152 : huonw/rust/wtf-are-things-in-spans, r=alexcrichton...
[20:36:56] *** Parts: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP) ()
[20:37:29] *** Quits: sunfish (chatzilla@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[20:40:07] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[20:41:14] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[20:47:59] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[20:48:24] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[20:48:26] *** Joins: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP)
[20:52:45] <jdm> have we ever discussed the possibility of move constructors
[20:52:46] <jdm> ?
[20:54:27] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[20:55:27] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[20:55:27] *** ChanServ sets mode: +o tjc
[20:55:55] *** Joins: sunfish (chatzilla@13F2CEC5.7672369.D8E68FF6.IP)
[21:00:37] <Eridius> jdm: I don't see that they would do anything
[21:00:55] <jdm> Eridius: I have a rebuttal use case :)
[21:01:06] <strcat> Eridius: well, for gc they might, without some fancy compiler integration
[21:01:35] <strcat> jdm: it'd be broken
[21:01:37] <jdm> in SpiderMonkey, we want to root objects by storing a linked list with RAII objects, such that JS objects are unrooted when their rust rooting counterpart dies
[21:01:39] <strcat> jdm: vectors use realloc
[21:01:56] <strcat> and they're waaaaaay faster than std::vector due to that
[21:02:09] <jdm> this breaks in the presence of being able to move the rooting objects around and breaking the implicit ordering
[21:02:15] <strcat> especially large ones if the allocator falls through to mremap
[21:02:23] <jdm> so if we could run code when the moves occur, that would be extremely useful
[21:02:27] <strcat> difference between copying 2GiB and touching page tables
[21:02:46] <jdm> strcat: could you explain what "it'd be broken" means?
[21:02:55] <strcat> jdm: realloc moves stuff in memory
[21:03:03] <strcat> if you have move ctors you can't use it (like C++)
[21:03:25] <jdm> why?
[21:03:41] <strcat> jdm: because it won't run the move ctors, it'll just move it
[21:04:52] <jdm> and that's not something we can control?
[21:05:35] <strcat> jdm: with large allocations, C++ will allocate a whole new vector + move over to it
[21:05:53] <strcat> while in rust, realloc falls through to mremap
[21:06:05] *** Joins: dherman (dherman@77CEA1B2.767934EB.9B6EB213.IP)
[21:06:05] *** ChanServ sets mode: +ao dherman dherman
[21:06:32] <strcat> and mremap doesn't really have to do much, because once it finds a place that's big enough no copy is required
[21:06:41] <strcat> you can tell mremap to fail instead of moving
[21:06:48] *** Quits: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[21:07:10] *** Quits: sunfish (chatzilla@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[21:07:21] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[21:08:06] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[21:08:06] *** ChanServ sets mode: +ao pcwalton pcwalton
[21:10:59] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:11:25] *** Joins: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP)
[21:11:56] *** Joins: sunfish (chatzilla@13F2CEC5.7672369.D8E68FF6.IP)
[21:12:14] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[21:13:10] *** Quits: bjz_ (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[21:14:03] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[21:14:23] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[21:14:42] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[21:15:04] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[21:15:18] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[21:16:07] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[21:16:35] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[21:17:16] *** Joins: victorporof_ (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[21:17:34] *** Quits: sunfish (chatzilla@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[21:18:00] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[21:18:32] *** Joins: sunfish (chatzilla@13F2CEC5.7672369.D8E68FF6.IP)
[21:21:01] *** Quits: mawuli (mawuli@5054574.B199513B.DE15C958.IP) (Ping timeout)
[21:22:20] <pnkfelix> nmatsakis: ping
[21:22:50] <nmatsakis> pnkfelix: pong (in call)
[21:23:07] <pnkfelix> nmatsakis: just wanted to say, feel free to reassign the r? on #13157
[21:24:12] <nmatsakis> pnkfelix: oh, ok, I'll prob do it
[21:24:28] <nmatsakis> pnkfelix: I hadn't seen it yet for some reason?
[21:24:34] <pnkfelix> nmatsakis: i only filed it just now
[21:24:37] <nmatsakis> oh, ok
[21:24:47] <pnkfelix> nmatsakis: but I wanted to try to encourage reassigning the r? since I knew you are super busy
[21:25:24] <nmatsakis> ok
[21:27:38] <nmatsakis> pnkfelix: there are more ICEs not addressed by this fix?
[21:27:52] <pnkfelix> nmatsakis: yes
[21:27:58] <pnkfelix> nmatsakis: if you look at this gist
[21:28:22] <pnkfelix> linked from here: https://github.com/mozilla/rust/issues/5121#issuecomment-38714138
[21:28:39] <pnkfelix> nmatsakis: there are three test cases that I have cfg'ed off by default
[21:29:03] <pnkfelix> nmatsakis: ... either all three or just the latter two correspond to unfixed ICEs
[21:29:04] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[21:29:31] <pnkfelix> nmatsakis: (I'm about to double-check this now, in order to better document on #5121 what remains to be done w.r.t. to ICEs and unsoundness)
[21:29:36] <nmatsakis> ok
[21:29:53] <pnkfelix> nmatsakis: In addition to the ICE's, there is also outright unsoundness that remains unaddressed.  Those cases are also illustrated by the gist'ed code.
[21:30:15] <pnkfelix> nmatsakis: (the gist itself is very little new stuff, its just an accumulation of the cases that were linked via #5121)
[21:32:08] <nmatsakis> pnkfelix: I wanted to talk to you about cleaning up the treatment of parameter bounds, trait bounds, etc
[21:32:21] <nmatsakis> pnkfelix: maybe we can talk thu or fri morning?
[21:32:35] <pnkfelix> nmatsakis: sure, I think so
[21:32:37] <nmatsakis> I was looking at edwardw's fix and playing with JSON and I am somewhat limited by our current rules,
[21:32:42] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[21:32:45] <nmatsakis> which I think are both overly and insufficiently conservative :)
[21:33:00] <nmatsakis> might relate to some of these errors too, maybe we can look at those a bit
[21:33:25] *** Quits: victorporof_ (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[21:34:30] * nrc is interested in cleaning up bounds too
[21:34:44] <nrc> let me know what you come up with
[21:34:48] <doener> *sigh* instcombine doesn't fold shifts that have more than one user, so it doesn't clean up the mess that sroa sometime leaves behind for enums with more than 2 variants :-/
[21:37:40] <nmatsakis> nrc: oh, sorry I didn't answer you before, got distracted by vidyo, I think kind.rs might be the answer, but I'm not 100% sure if that'll still be true after flaper87 makes progress on opt-in kinds
[21:38:01] <nmatsakis> nrc: but I do think kind.rs is where should enforce other rules, like "rvalues must be of sized type" and so on
[21:39:30] <nrc> nmatsakis: phrased another way, _if_ we were going to check type well-formedness wrt to decalred bounds, where would we check that?
[21:39:34] <nrc> still kind.rs?
[21:39:45] <nmatsakis> nrc: currently kind.rs has this job, for the builtin bounds
[21:40:38] <nrc> OK, it is a nice small, friendly looking file, so that sounds good to me
[21:40:45] <nrc> thanks nmatsakis 
[21:41:14] <nmatsakis> nrc: "kind" is the old name for "builtin bound"
[21:41:26] <nmatsakis> no relation to its usage in haskell / HKT tc
[21:41:27] <nmatsakis> *etc
[21:42:35] <acrichto> brson: mac5 is currently not connected to the buildmaster, and I am also logged into it
[21:42:58] <nrc> nmatsakis: we no longer use that name? That makes me happy
[21:43:07] <acrichto> brson: well nvmd, it just connected again, oh well
[21:43:16] <nmatsakis> nrc: I've been trying to transition away from that name, yes. Old habits die hard.
[21:46:55] *** Joins: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP)
[21:46:55] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/WWgtGg
[21:46:55] *** Parts: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP) ()
[21:49:23] *** Joins: mawuli (mawuli@5054574.B199513B.DE15C958.IP)
[21:50:49] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[21:51:47] <flaper87> nrc: nmatsakis are you guys discussing nrc's RFC about bounds ?
[21:51:52] *** Joins: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP)
[21:51:52] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/TqLffg
[21:51:52] *** Parts: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP) ()
[21:51:54] *** Joins: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP)
[21:51:54] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/s1lSMg
[21:51:54] <ghrust> 13rust/06auto 140063504 15Brian Anderson: rustdoc: Display rust logo again. Closes #13148
[21:51:54] <ghrust> 13rust/06auto 14530c5b3 15bors: auto merge of #13149 : brson/rust/rustdoclogo, r=alexcrichton
[21:51:55] *** Parts: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP) ()
[21:52:59] <nmatsakis> flaper87: not exactly
[21:53:01] <nrc> flaper87: no, DST implementation
[21:53:08] <brson> restarting buildbot again. sorry
[21:53:10] <flaper87> oh ok, I should've kept reading :D
[21:53:33] <nrc> flaper87: got comments for my RFC - it is feeling lonely and un-commented upon
[21:53:46] <nrc> which I choose to interpret as unanimous agreement :-p
[21:54:17] <flaper87> nrc: re your email / RFC, the opt-in work will introduce bound checking on struct fields too 
[21:54:31] <flaper87> *field's types
[21:54:34] <nrc> flaper87: yes, that is the idea
[21:55:02] <flaper87> nrc: that kinda overlaps with your proposal, right? (assuming I understood exactly what you were proposing)
[21:55:23] <nrc> oh, I see what you mean, sorry
[21:55:34] <nrc> yes, it does
[21:55:44] <nrc> I guess my proposal just takes that a step further
[21:56:09] <nrc> in terms of steps 'earlier' in type checking declarations
[21:56:52] <nrc> flaper87: I'm not clear on what checking the opt-in work will add, could you add a little comment to my RFC stating what you are adding please?
[21:57:50] <cmr> carter: hi
[21:57:57] *** Quits: dherman (dherman@77CEA1B2.767934EB.9B6EB213.IP) (Quit: dherman)
[21:58:09] <flaper87> nrc: I definitely will, I've got the impression the work overlaps in several areas but TBH, I need to read your proposal again and more thoroughly (sorry these last couple of days have been crazy)
[21:58:44] <nrc> flaper87: thanks, and no rush :-)
[21:59:33] *** Joins: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP)
[21:59:33] <ghrust> [13rust] 15brson 04force-pushed 06dist-snap from 1474cd69a to 1492d0ec2: 02http://git.io/0Tp-4A
[21:59:33] <ghrust> 13rust/06dist-snap 1492d0ec2 15Brian Anderson: install: name the bundled manifest 'manifest.in'. Cleanup...
[21:59:33] *** Parts: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP) ()
[22:01:03] *** Quits: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Ping timeout)
[22:04:53] *** Quits: huon (Thunderbir@moz-7CC720CF.lns20.syd7.internode.on.net) (Ping timeout)
[22:08:45] <cmr> hm
[22:09:00] <cmr> acrichto: looking at the recent thread, it's not clear to me that tasks need to be the boundary of failure
[22:09:10] <cmr> couldn't anything that runs a proc isolate its failure?
[22:09:35] *** Quits: dmsky (dmsky@moz-FF2573B1.pppoe.spdop.ru) (Quit: Leaving...)
[22:11:08] <acrichto> that's another name for exceptions
[22:11:21] <cmr> aren't tasks?
[22:11:30] <acrichto> you can think of them that way
[22:11:34] <acrichto> you never use them that way
[22:11:52] <cmr> you do if you need to isolate task failure?
[22:12:32] <acrichto> yeah, but you rarely architect an application for each iteration of a performance-intensive loop to spawn a task
[22:12:52] <acrichto> I don't think there's an implementation/soundness reason to require the failure boundary to be tasks
[22:13:32] <cmr> no, but if you want each request to be isolated it'd be nice to have something a bit less heavy than spawning a task.
[22:13:40] <cmr> I suppose green is supposed to provide cheap tasks
[22:17:04] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[22:17:50] *** Joins: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[22:19:03] *** Joins: cgaebel (clark@moz-F9D89110.nyc.res.rr.com)
[22:21:26] <cgaebel> while true {}
[22:22:05] <cgaebel> loop {}; "hi"
[22:23:37] <sfackler> I think the minimum you'd need for failure boundaries is memory isolation, right?
[22:30:16] <cmr> sfackler: right, which is why I thought proc
[22:30:34] <cmr> anything it does can't be observed from outside the proc
[22:30:42] <cmr> (ignoring system-level side effects)
[22:31:30] <sfackler> proc does require an allocation, though
[22:31:45] <sfackler> a stack allocated proc seems like it'd be ideal for this
[22:35:40] *** Quits: andrew-__ (andrew-d_w@3B0E9325.9DFA657C.CC0301A2.IP) (Input/output error)
[22:36:02] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[22:41:54] *** Joins: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP)
[22:41:54] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/48mBsQ
[22:41:54] <ghrust> 13rust/06auto 148118406 15Alex Crichton: syntax: Tweak parsing bounds on generics paths...
[22:41:54] <ghrust> 13rust/06auto 147aea22a 15bors: auto merge of #13079 : alexcrichton/rust/colons, r=cmr...
[22:41:54] *** Parts: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP) ()
[22:44:13] *** Joins: dherman (dherman@77CEA1B2.767934EB.9B6EB213.IP)
[22:44:13] *** ChanServ sets mode: +ao dherman dherman
[22:44:33] <acrichto> nmatsakis: r? https://github.com/mozilla/rust/pull/13050
[22:46:30] *** Quits: dherman (dherman@77CEA1B2.767934EB.9B6EB213.IP) (Quit: dherman)
[22:49:16] *** Joins: sinistersnare (sinistersn@moz-7E48AC93.washdc.fios.verizon.net)
[22:50:27] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 31.0a1/20140325030201])
[22:53:12] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[22:53:35] *** Joins: andrew-__ (andrew-d_w@3B0E9325.9DFA657C.CC0301A2.IP)
[22:53:39] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[22:53:46] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[22:54:11] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[22:54:19] *** Quits: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP) (Quit: Lost terminal)
[22:56:13] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
[22:56:14] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:00:38] *** Quits: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Ping timeout)
[23:03:23] *** Quits: Sharp (Sharp@19388942.6B775EBE.DC877F3B.IP) (Quit: Sharp)
[23:06:55] *** Joins: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP)
[23:06:55] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/-3byMg
[23:06:55] <ghrust> 13rust/06auto 14104aaa4 15Alex Crichton: rustc: Relax restriction on privacy for fields...
[23:06:55] <ghrust> 13rust/06auto 147de4841 15Alex Crichton: syntax: Permit visibility on tuple fields...
[23:06:55] <ghrust> 13rust/06auto 14bbdffa4 15bors: auto merge of #13145 : alexcrichton/rust/flip-some-defaults, r=brson...
[23:06:57] *** Parts: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP) ()
[23:06:58] *** Joins: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP)
[23:06:58] <ghrust> [13rust] 15bors 04force-pushed 06auto from 147aea22a to 14533a526: 02http://git.io/N3iJvQ
[23:06:58] *** Parts: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP) ()
[23:07:29] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:09:07] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:09:37] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:10:13] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:10:53] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:12:18] <strcat> sfackler: unboxed closures would cover that use case
[23:12:18] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Quit: victorporof)
[23:12:21] *** Joins: ChrisMorgan (chris@moz-8DCBEA52.vic.adsl.internode.on.net)
[23:12:24] <strcat> sfackler: you'd be able to consume them if you wanted
[23:12:46] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:13:38] *** Quits: darkf (darkf@moz-F9058B8A.net) (Ping timeout)
[23:13:46] <sfackler> are unboxed closures a 1.0-blocker?
[23:14:17] <strcat> backwards incompatible changes it would require are
[23:14:24] <strcat> like changing the capture semantics of closures
[23:14:40] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:16:15] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:16:49] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:17:06] *** Joins: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP)
[23:17:06] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14bbdffa4 to 14533a526: 02http://git.io/N3iJvQ
[23:17:06] *** Parts: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP) ()
[23:17:08] *** Joins: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP)
[23:17:08] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/yyXwmA
[23:17:08] <ghrust> 13rust/06auto 14104aaa4 15Alex Crichton: rustc: Relax restriction on privacy for fields...
[23:17:08] <ghrust> 13rust/06auto 147de4841 15Alex Crichton: syntax: Permit visibility on tuple fields...
[23:17:09] <ghrust> 13rust/06auto 14a27bfca 15bors: auto merge of #13145 : alexcrichton/rust/flip-some-defaults, r=brson...
[23:17:11] *** Parts: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP) ()
[23:17:21] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[23:17:53] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[23:18:00] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Client exited)
[23:18:33] *** flaper87 is now known as flaper87|afk
[23:22:10] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:22:58] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:23:26] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:24:02] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:24:11] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[23:24:11] *** ChanServ sets mode: +o tjc
[23:24:26] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:24:50] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:24:51] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:26:57] *** Joins: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP)
[23:26:57] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14a27bfca to 14533a526: 02http://git.io/N3iJvQ
[23:26:57] *** Parts: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP) ()
[23:26:59] *** Joins: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP)
[23:26:59] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/1gn1Tw
[23:26:59] <ghrust> 13rust/06auto 148118406 15Alex Crichton: syntax: Tweak parsing bounds on generics paths...
[23:26:59] <ghrust> 13rust/06auto 14188e7aa 15bors: auto merge of #13079 : alexcrichton/rust/colons, r=cmr...
[23:26:59] *** Parts: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP) ()
[23:27:12] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:30:42] <acrichto> brson: when you restart bors, is it just for configuration changes?
[23:31:47] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[23:31:48] *** Joins: bjz_ (bjz@B398BE78.F804C29E.D35A31DF.IP)
[23:32:49] <brson> acrichto: depends on what you mean by that. it's changing master.cfg, which is practically the only thing that can change
[23:32:56] <brson> i know what you are thinking though
[23:33:01] <brson> reconfig doesn't seem to be sufficient
[23:33:08] <acrichto> :(
[23:33:09] <brson> what reconfig *actually* does is mysterious
[23:33:22] <acrichto> oh well
[23:33:23] <brson> sure, buildbot keeps running, but I have no idea in what state
[23:33:27] <acrichto> lol
[23:33:50] <brson> restarting all the ec2 bots and dealing with the various startup failures sucks though
[23:33:50] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:35:41] <brson> i'm thinking that a staging env for our automation might be within reach now though
[23:35:47] <brson> or soon at least
[23:35:51] <brson> once we move the master to ec2
[23:36:19] <acrichto> you're brave
[23:37:04] *** Joins: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP)
[23:37:05] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/tK7JxA
[23:37:05] <ghrust> 13rust/06auto 14104aaa4 15Alex Crichton: rustc: Relax restriction on privacy for fields...
[23:37:05] <ghrust> 13rust/06auto 147de4841 15Alex Crichton: syntax: Permit visibility on tuple fields...
[23:37:05] <ghrust> 13rust/06auto 14c83994e 15bors: auto merge of #13145 : alexcrichton/rust/flip-some-defaults, r=brson...
[23:37:07] *** Parts: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP) ()
[23:37:19] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:40:06] *** Quits: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net) (Ping timeout)
[23:45:41] *** Quits: GrecKo (GrecKo@moz-A7AA1BB6.fr) (Quit: No Ping reply in 180 seconds.)
[23:46:08] *** Joins: GrecKo (GrecKo@moz-A7AA1BB6.fr)
[23:47:11] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:47:37] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:50:13] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:50:36] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:51:07] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:51:36] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:52:17] *** kimundi is now known as zz_kimundi
[23:53:21] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[23:54:45] *** Quits: ChrisMorgan (chris@moz-8DCBEA52.vic.adsl.internode.on.net) (Ping timeout)
[23:56:32] *** Joins: ChrisMorgan (chris@moz-8DCBEA52.vic.adsl.internode.on.net)
[23:57:11] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[23:57:11] *** ChanServ sets mode: +o tjc
[23:58:02] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:59:50] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[23:59:50] *** ChanServ sets mode: +ao pcwalton pcwalton
