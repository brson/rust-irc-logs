[00:01:12] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[00:01:43] <nrc|afk> brson: sweet, thanks!
[00:18:56] *** Joins: gal (gal@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[00:21:12] <brson> nmatsakis nrc|afk: do you have rides from SFO to Santa Cruz?
[00:22:22] <larsberg> brson: we were talking about getting a "rust party van" and having me drive the four of us down (w/ felix)
[00:22:36] <larsberg> but if there's more than four we could do two rides, since our arrivals are split over like 14 hours
[00:37:04] <mccr8> just have a 14 hour hackathon at the airport. ;)
[00:37:22] <nmatsakis> brson: I do not have any rides
[00:37:34] <nmatsakis> but I'm happy to have larsberg ferry,
[00:37:40] <nmatsakis> if they don't mind waiting at the airport :)
[00:38:05] <brson> i think i'm going to have gurvinder drive nif (who arrives at sjc) and i
[00:38:23] <brson> Nif arrives at 1:40 PM
[00:48:51] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[00:48:51] *** ChanServ sets mode: +o pcwalton
[00:49:45] *** Quits: sunfish (chatzilla@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[00:50:20] *** Quits: mchang (mchang@BE99BE02.84BCE52A.BCAEBB33.IP) (Quit: mchang)
[01:01:01] *** Joins: mchang (mchang@BE99BE02.84BCE52A.BCAEBB33.IP)
[01:07:27] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[01:12:09] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[01:15:03] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[01:15:03] *** ChanServ sets mode: +o pcwalton
[01:15:09] *** Joins: mekki (mekki@moz-9F9F62E0.cpe.net.cable.rogers.com)
[01:28:52] *** nrc|afk is now known as nrc
[01:28:59] *** Quits: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com) (Quit: )
[01:37:33] *** Joins: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net)
[01:40:52] *** Quits: eholk (eholk@moz-BA312F07.crest.iu.edu) (Quit: eholk)
[01:42:38] *** Quits: gal (gal@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: gal)
[01:47:10] *** Quits: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: brendan)
[01:50:42] <roc> cjones: how hard would it be to allow rr replay to debug a process other than the root?
[01:51:52] <cjones> you can do that currently
[01:51:58] <roc> oooh how?
[01:52:02] <cjones> the patch i'm writing right now will make it way easier
[01:52:15] <cjones> replay -g to the event you want and then attach to the socket
[01:52:32] <cjones> the socket is opened for the process that happens to be current at the targeted event
[01:52:35] <roc> oh
[01:52:40] <roc> that's not so easy :-)
[01:52:50] <cjones> "replay -g" is your friend until we have gdb-mi
[01:52:51] <cjones> yeah
[01:52:58] <roc> I suppose it works
[01:53:03] <cjones> it's going to get easier though
[01:53:13] <cjones> you're really going to like the patch i'm writing :)
[01:53:22] <roc> I like all your patches :-)
[01:53:34] <cjones> aww shucks
[02:04:03] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[02:05:22] *** terrence is now known as terrence-afk
[02:05:55] *** Quits: azakai_ (alon@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[02:06:37] <brson> acrichto nmatsakis pcwalton nrc: remember tomorrow the rust meeting is at a new time
[02:06:45] <pcwalton> roger
[02:06:51] <acrichto> that is news to me
[02:06:58] <acrichto> but just news I had forgotten
[02:07:01] <nrc> looking forward to my lie-in :-)
[02:07:57] <acrichto> brson: you coming up to sfo tmw for the meetup?
[02:08:02] <brson> acrichto: yes
[02:08:08] <acrichto> partay
[02:08:16] <brson> larsberg: ^ rust meetup changes schedule tomorrow
[02:08:33] <brson> er "meeting"
[02:08:55] <larsberg> brson: thanks! I'll be there :-)
[02:10:41] <pcwalton> acrichto: regarding TLS, did you figure out whether we'll be able to use #[thread_local] and swap out the OS TLS slot?
[02:10:45] <pcwalton> for libgreen
[02:11:04] <roc> cjones: hmm, latest rr is dying with "[EMERGENCY] (/home/roc/rr/src/share/task.cc:984:inited_syscallbuf: errno: None) (task 19816 (rec:19816) at trace line 1828)
[02:11:05] <roc>  -> Assertion `regs->xfs == 0' failed to hold: $fs should have been 0, but is 99"
[02:11:17] <acrichto> pcwalton: I figured we'd use #[thread_local] to swap out the ~Task pointer and then you'd index off that
[02:11:38] <pcwalton> could we just change the OS slot that #[thread_local] uses?
[02:11:39] <cjones> roc, uh oh.  on any test in particular?
[02:11:47] <cjones> oh drat, i forgot to test on my x64 box
[02:11:55] <roc> pretty much all of them
[02:12:06] <pcwalton> when swapping tasks
[02:12:10] <acrichto> pcwalton: we could perhaps yeah, dunno how much of a win that would be
[02:12:11] <cjones> ok. this sounds really bad
[02:12:12] <pcwalton> I guess that would probably break horribly on windows
[02:12:22] <pcwalton> although I have no idea how TLS works on windows anyway
[02:12:22] <roc> cjones: not all. Things that use threads
[02:12:47] <acrichto> pcwalton: it's like pthread_{get,set}specific
[02:12:54] <pcwalton> so, bad
[02:12:55] <pcwalton> :)
[02:13:04] <acrichto> lol
[02:13:12] <acrichto> I think it's a syscall?
[02:13:14] <acrichto> it may not be
[02:13:20] <roc> it's not
[02:13:21] <acrichto> I just assume all windows apis are kernel calls
[02:13:24] <cjones> roc, thanks for the heads-up
[02:13:24] <acrichto> oh yay!
[02:14:13] <roc> on x86 it uses a dedicated segment register, FS or something like that, to point to per-thread data
[02:14:38] <pcwalton> acrichto: I wonder if it is kosher for us to mutate that register
[02:14:41] <cjones> windows uses $fs, glibc finds it through $gs
[02:14:55] <acrichto> pcwalton: btw I talked to sunfish about that TLS bug with green threading and the answer is basically "LLVM isn't built for green threads, and neither is C"
[02:14:56] <pcwalton> if we can do that then we may even interoperate better with native TLS via libgreen....
[02:14:59] <cjones> which turns out to be fortuitous for WINE
[02:15:09] <pcwalton> acrichto: so they won't fix it? :\
[02:15:16] <acrichto> didn't sound like it
[02:15:20] <acrichto> so we're stuck with #[inline(never)]
[02:15:22] <pcwalton> they wouldn't take a patch to turn that off?
[02:15:23] <acrichto> which makes me very sad
[02:15:24] <pcwalton> that's absurd
[02:15:30] <acrichto> I didn't submit one
[02:15:36] <acrichto> but it sounds like there would be opposition
[02:15:41] <pcwalton> why?
[02:15:56] <pcwalton> C isn't built for GC either
[02:15:59] <acrichto> sunfish thought that b/c it's something that only green threading wants that it's kinda odd
[02:16:01] <acrichto> it's true
[02:16:05] <acrichto> I should probably try a patch
[02:16:10] <acrichto> dunno what the patch would be though
[02:16:15] <pcwalton> well, a lot of languages use green threading
[02:16:22] <pcwalton> haskell, etc
[02:16:23] <acrichto> @foo = global thread_local this_is_a_green_threading_local i32 
[02:16:28] <pcwalton> yeah
[02:16:45] <sunfish> llvm considers a variable address to be a "constant", meaning its address doesn't change
[02:16:59] <acrichto> but this is that TLS global
[02:17:07] <sunfish> it's still a constant
[02:17:10] <acrichto> it's that first TLS table that's loaded and then cached on the stack
[02:17:17] <acrichto> hm that makes sense
[02:17:34] <acrichto> but even if we did something like make them volatile it wouldn't re-load that TLS table?
[02:17:51] <sunfish> volatile applies to the contents of the variable, not its address
[02:18:17] <acrichto> that also makes sense
[02:18:49] <pcwalton> what exactly needs to be inline(never)?
[02:18:59] <cjones> roc, are you seeing my rr-dev posts? i'm not getting a bounce
[02:19:03] <acrichto> Local::{take, try_take} etc
[02:19:10] <acrichto> everything inside of local_ptr.rs
[02:19:25] <roc> cjones: I am
[02:19:42] <acrichto> pcwalton: anything that touches RT_TLS_PTR must be inline(never)
[02:20:02] <cjones> roc,  the two from today?
[02:20:08] <roc> yes
[02:20:27] <sunfish> acrichto: to clarify my earlier comment, I don't think the llvm community would reject such a patch on pure principle; I just expect that such a patch would have to be really complex in order to work, which may make it undesirable
[02:20:34] <cjones> hm
[02:21:06] <acrichto> sunfish: yeah that's what worries me, and I wouldn't want to hamstring all other code in existence, so I'd want a way to make it opt-in for our use case
[02:25:02] <jld> ...this is the same problem I had at VMware with the per-CPU region, isn't it.
[02:25:25] <pcwalton> ok, I think I see the problem.
[02:25:27] <pcwalton> this is unfortunate
[02:25:53] <acrichto> pcwalton: the reason we need inline(never) ?
[02:25:55] <jld> Except the compiler TLS support wasn't usable, so it was inline asm with constraints that had to be too conservative.
[02:26:16] <pcwalton> why it isn't possible to just hack LLVM
[02:26:20] <pcwalton> easily, anyway
[02:26:24] <pcwalton> to make this work
[02:26:31] <acrichto> it may well be, I just haven't looked
[02:26:39] <pcwalton> maybe we should just use inline asm
[02:26:44] <pcwalton> to access TLS
[02:26:55] <acrichto> wouldn't that be the same?
[02:26:58] <pcwalton> it's bound to be faster than inline(never)
[02:27:02] <pcwalton> since it avoids the overhead of a function call and such
[02:27:04] <acrichto> oh hm I suppose that could get inlineed more
[02:27:21] <acrichto> I feel like we just need to teach LLVM that the TLS table isn't a constant value
[02:27:30] <acrichto> b/c it's constant unless you call a function
[02:27:48] <pcwalton> the problem is that that isn't really enough because LLVM globals are considered to have constant addresses
[02:27:57] <pcwalton> they're SSA-ified
[02:28:05] <pcwalton> SSA doesn't like making something constant into nonconstant
[02:28:09] <pcwalton> it's really built into the system
[02:28:13] <pcwalton> that's what sunfish is saying AFAICT
[02:28:18] <sunfish> yes
[02:28:28] <jld> I dimly recall some attempts to abuse a phantom parameter of the inline asm -- mark it as reading some global variable that isn't actually used.
[02:28:32] <acrichto> globals can be modeled with SSA?
[02:28:40] <sunfish> global *addresses* can
[02:28:40] <acrichto> aren't they like memory?
[02:28:40] <pcwalton> they're considered constants
[02:28:48] <pcwalton> globals in LLVM are addresses
[02:28:51] <pcwalton> that's the thing
[02:28:53] <pcwalton> the addresses are constants
[02:28:57] <acrichto> but can't we say that the TLS table's address is constant, not the thread_local ?
[02:29:10] <pcwalton> that makes thread_local no longer create globals
[02:29:13] <pcwalton> as far as LLVM is concerned
[02:29:19] <pcwalton> a global is a thing with a constant address, full stop
[02:29:33] <sunfish> acrichto: also, the details of the tls table aren't exposed at the LLVM IR level
[02:29:33] <pcwalton> #thread_local works in LLVM because it does not change this view of the world
[02:29:50] <jld> So, if green threads can't be rescheduled by preemption, that might work.
[02:30:23] <acrichto> if you inline enough things function calls that may reschedule can kill it
[02:30:31] *** Quits: azakai|2__ (alon@moz-8D0CC798.lightspeed.sntcca.sbcglobal.net) (Ping timeout)
[02:30:33] <jld> ...rescheduled onto a different OS thread.  Um, assuming that this is the problem I think it is?
[02:30:37] <acrichto> we weren't getting hurt by the preemption, it was that the code didn't reload the TLS table
[02:31:06] <acrichto> jld: https://github.com/mozilla/rust/blob/master/src/libstd/rt/local_ptr.rs#L96-L145 <- description of the problem
[02:31:17] <pcwalton> I feel like we should just handle this in the frontend
[02:31:20] <pcwalton> instead of hacking LLVM
[02:31:48] <acrichto> what would we inject?
[02:31:55] <pcwalton> i.e. don't use real LLVM thread_locals, instead lower them into something like let tls_addr = asm { get_tls_addr }; tls_addr[some_index]
[02:32:21] <acrichto> we need LLVM to put stuff in the elf header though?
[02:32:22] <pcwalton> rationale: the Rust frontend has no such assumption of "a global is a single address" built into it
[02:32:25] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[02:32:45] <pcwalton> yeah, I guess so. we have to figure out how to do that :)
[02:33:20] <pcwalton> I guess if we had some way of asking LLVM what the index of this thread_local global variable was then that would be enough
[02:33:37] <pcwalton> although â€¦ I have no idea how the ELF relocations work here W_W
[02:33:38] <pcwalton> @_@
[02:33:43] <pcwalton> I really should study up on that
[02:34:05] <pcwalton> there has to be some sort of relocation information that it wants to emit
[02:34:17] <pcwalton> we can probably emit the same thing in our inline asm
[02:34:27] <acrichto> that's a platform-specific detail though, I think it's different for osx/windows I think
[02:34:33] <pcwalton> yup
[02:34:58] <pcwalton> so I don't know how the relocations work
[02:35:07] <jld> Okay; it is the problem I think it is.  Except that the inline asm approach is harder, because it has to work with the compiler and linker instead of just having one big struct for the fast-path fields. /-:
[02:35:42] <pcwalton> jld: not harder I don't think. you just write whatever information is necessary to tell the assembler to emit the right reloc.
[02:36:04] <pcwalton> it would be super awesome if we could hack the relocs to allow the linker to relocate TLS addresses even if they don't load from the dedicated TLS register -- that way we could reuse the infrastructure!
[02:36:15] <pcwalton> chances of that working on all of {Mac+Windows+Linux} are slim
[02:36:19] <pcwalton> but I can look anyway
[02:36:27] <jld> pcwalton: That... might actually work, since we can do things like ask LLVM for the symbol name.
[02:36:31] <pcwalton> yes
[02:36:39] <pcwalton> all LLVM is doing is emitting asm after all
[02:36:42] <pcwalton> you can do the same
[02:36:45] *** Quits: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[02:36:46] <pcwalton> in inline asm
[02:37:00] <jld> (This is harder when all you have are C macros.)
[02:41:00] *** Joins: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[02:45:01] *** Joins: azakai|2__ (alon@moz-8D0CC798.lightspeed.sntcca.sbcglobal.net)
[02:48:31] <pcwalton> acrichto: on mac it looks like my proposal should work
[02:48:51] <pcwalton> all the linker does is assign you some slot numbers and writes those slots into a certain section of your executable
[02:48:52] <acrichto> generating raw assembly?
[02:48:56] <pcwalton> it does not munge any instructions
[02:49:10] <pcwalton> so we could just use those slots
[02:49:18] <pcwalton> as indices into our own table
[02:49:38] <acrichto> interesting
[02:49:42] <pcwalton> yeah
[02:49:54] <acrichto> I wonder if we could even just swap out the tables on a context switch
[02:49:55] <pcwalton> looks like there's one slot number for the particular library/executable and one slot number for each variable
[02:50:01] <pcwalton> the OS might not like that
[02:50:01] <acrichto> that way native TLS would work
[02:50:02] <pcwalton> but we may not have to
[02:50:03] <pcwalton> yeah
[02:50:08] <pcwalton> I like that idea if we can get away with it :)
[02:50:13] <pcwalton> but the OS may hate us for it
[02:50:14] <acrichto> that'd be slick
[02:50:16] <pcwalton> possibly worth trying though
[02:50:18] <acrichto> lol
[02:50:45] <pcwalton> #[thread_local] on mac x86-64 isn't that efficient, it's a dynamic lookup into a table
[02:50:50] <pcwalton> the slot numbers are preassigned
[02:50:59] <pcwalton> but it still calls this function tlv_get_addr
[02:51:12] <pcwalton> with the preassigned slot numbers
[02:51:13] <acrichto> I've seen that up in profiles a bunch
[02:51:16] <pcwalton> also that call is virtual for some reason
[02:51:21] <acrichto> hm
[02:52:37] <pcwalton> brb, dinner -- going to check out linux afterwards
[02:52:43] <pcwalton> if we can get away with this I will eat my hat
[02:52:48] <pcwalton> and be happy
[03:01:43] *** Quits: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: mbx)
[03:06:55] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[03:07:26] *** jld is now known as jld|laundromat
[03:22:39] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[03:22:39] *** ChanServ sets mode: +qo dherman dherman
[03:23:52] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Connection reset by peer)
[03:24:15] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[03:24:15] *** ChanServ sets mode: +qo dherman dherman
[03:32:01] *** Quits: cjones (cjones@moz-45913895.socal.res.rr.com) (Quit: Ex-Chat)
[03:39:23] *** Quits: mchang (mchang@BE99BE02.84BCE52A.BCAEBB33.IP) (Quit: mchang)
[03:44:13] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[03:44:42] *** Quits: roc (chatzilla@34E8ECDF.DC2C3734.616A18A6.IP) (Ping timeout)
[03:44:49] *** Quits: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net) (Quit: tobytailor)
[03:44:58] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[03:45:33] *** Quits: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net) (Quit: tobytailor)
[03:45:44] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[03:46:29] *** Quits: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net) (Quit: tobytailor)
[03:49:50] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[04:23:35] *** jld|laundromat is now known as jld
[04:26:35] *** Joins: cjones (cjones@moz-45913895.socal.res.rr.com)
[04:44:20] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[04:47:38] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Ping timeout)
[05:01:01] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[05:02:09] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[05:15:19] *** Quits: till (till@34E8ECDF.DC2C3734.616A18A6.IP) (Input/output error)
[05:23:23] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[06:08:21] *** Joins: bitfear (uid12218@moz-31ABA2C0.irccloud.com)
[06:09:01] *** bitfear is now known as sankha93
[06:15:45] *** Joins: till (till@moz-21D273D3.dialup.ihug.co.nz)
[07:12:44] *** Joins: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[07:13:03] *** Joins: gal (gal@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[07:14:48] *** Quits: gal (gal@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Ping timeout)
[07:16:23] *** Joins: gal (gal@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[07:18:34] *** Quits: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: brendan)
[07:24:13] *** Quits: gal (gal@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: gal)
[08:42:45] *** Quits: sankha93 (uid12218@moz-31ABA2C0.irccloud.com) (Quit: Connection closed for inactivity)
[08:43:22] *** Joins: gds (user@moz-D3DA81D6.wlan.ic.ac.uk)
[09:00:05] *** Joins: roc (chatzilla@FF000F4A.E13291EC.FC74E68.IP)
[09:19:42] *** Quits: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net) (Ping timeout)
[09:24:41] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[09:32:20] *** Quits: yury (yury@moz-86474802.ok.ok.cox.net) (Ping timeout)
[09:32:24] *** Joins: yury (yury@moz-86474802.ok.ok.cox.net)
[09:40:21] <cjones> roc, are you around?
[09:40:28] <cjones> faster to chat here than through gh email ;)
[10:09:57] <roc> yeah
[10:10:16] <roc> I was wondering if there's a way to define custom gdb commands that feed through to the gdbserver
[10:10:24] <roc> Did undodb modify gdb directly to add their commands?
[10:17:36] <cjones> ohai
[10:17:46] <cjones> yeah, i wish we could do that, but i didn't see a way
[10:17:52] <cjones> they have their own gdb, yeah
[10:18:04] <cjones> definitely not a road i want to go down
[10:18:28] <cjones> but i don't think they modified it much, because they adhere to the gdb-mi
[10:18:34] <cjones> they're compatible with Eclipse
[10:19:13] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Quit: mbx)
[10:19:38] <cjones> roc, i really think you're going to come over to the magic-write side ;)
[10:20:45] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[10:22:14] <roc> sure, I don't care all that much
[10:24:55] <cjones> if we go even further and have rr write to the gdb stdin, we could get it to automatically restart *and run* the new session
[10:35:01] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 30.0a1/20140223030204])
[10:36:05] *** Quits: cjones (cjones@moz-45913895.socal.res.rr.com) (Quit: Ex-Chat)
[11:00:48] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[11:04:22] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Quit: mbx)
[11:24:54] *** Quits: san (anirudh@57DDC4C1.F2DEA9A7.1C37C358.IP) (Input/output error)
[11:25:08] *** Joins: san (anirudh@57DDC4C1.F2DEA9A7.1C37C358.IP)
[11:31:53] *** Joins: sawrubh (uid6719@moz-5F4AA75A.irccloud.com)
[12:18:30] *** Quits: roc (chatzilla@FF000F4A.E13291EC.FC74E68.IP) (Ping timeout)
[12:31:02] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[12:56:33] *** Joins: cmr (moznet@moz-EC676DFE.members.linode.com)
[13:02:32] *** jorendorff_away is now known as jorendorff
[13:11:46] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[13:23:03] *** Quits: till (till@moz-21D273D3.dialup.ihug.co.nz) (Input/output error)
[13:41:53] *** Quits: sawrubh (uid6719@moz-5F4AA75A.irccloud.com) (Quit: Connection closed for inactivity)
[13:59:04] *** jorendorff is now known as jorendorff_away
[14:11:40] <nmatsakis> pnkfelix: mornin'
[14:21:11] *** Joins: roc (chatzilla@FF000F4A.E13291EC.FC74E68.IP)
[14:21:13] *** jorendorff_away is now known as jorendorff
[14:22:24] *** Quits: roc (chatzilla@FF000F4A.E13291EC.FC74E68.IP) (Ping timeout)
[14:33:17] *** Joins: cmr (moznet@moz-EC676DFE.members.linode.com)
[14:40:26] *** Joins: cmr (moznet@moz-EC676DFE.members.linode.com)
[14:40:30] *** Joins: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net)
[14:45:28] <nmatsakis> pnkfelix: still on for 10?
[14:45:45] <pnkfelix> nmatsakis: sure, sounds fine
[14:46:17] <nmatsakis> (er, 10 my time, obviously)
[14:57:22] *** Joins: cjones (cjones@moz-45913895.socal.res.rr.com)
[15:01:14] <pnkfelix> nmatsakis: (on my way)
[15:06:04] <pnkfelix> nmatsakis: okay, in your room now
[15:06:51] <nmatsakis> pnkfelix: ok
[15:07:05] <nmatsakis> pnkfelix: coming, got delayed :)
[15:13:46] *** Quits: gds (user@moz-D3DA81D6.wlan.ic.ac.uk) (Quit: ERC Version 5.3 (IRC client for Emacs))
[15:31:04] <nmatsakis> pnkfelix: https://etherpad.mozilla.org/pnRFgwAoBv
[15:53:40] <pnkfelix> nmatsakis: *T.foo
[16:09:13] *** Joins: gds (user@moz-42339416.range86-136.btcentralplus.com)
[16:47:01] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[16:47:30] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[16:51:39] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[16:52:19] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[16:53:51] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[16:53:52] *** ChanServ sets mode: +qo dherman dherman
[16:55:16] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[16:55:28] *** Joins: sawrubh (uid6719@moz-5F4AA75A.irccloud.com)
[16:55:33] *** terrence-afk is now known as terrence
[16:58:14] *** Joins: mchang (mchang@BE99BE02.84BCE52A.BCAEBB33.IP)
[16:59:22] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[16:59:22] *** ChanServ sets mode: +o brson
[17:00:53] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[17:01:08] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[17:14:33] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[17:14:59] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[17:22:33] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[17:34:53] *** Joins: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com)
[17:38:18] <nmatsakis> pnkfelix: ping
[17:47:31] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[17:51:40] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[17:58:17] <brson> nmatsakis: doc meeting in 2m
[17:59:17] <nmatsakis> brson: thanks for pinging me
[17:59:50] <nmatsakis> brson: I am a terrible person and didn't realize the time, I will be 5-10 mins late, have to run home
[18:00:01] <nmatsakis> brson: I got caught up finishing up an old blog post...
[18:06:27] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Quit: mbx)
[18:09:01] *** jorendorff is now known as jorendorff_away
[18:13:54] *** jorendorff_away is now known as jorendorff
[18:15:40] *** Joins: eholk (eholk@moz-BA312F07.crest.iu.edu)
[18:17:49] <cmr> brson: double-checking, rust meeting at 2pm pacific today?
[18:18:15] <brson> cmr: yes
[18:18:23] <cmr> ok.
[18:23:24] <dherman> \o/
[18:27:44] *** jorendorff is now known as jorendorff_away
[18:33:52] *** jorendorff_away is now known as jorendorff
[18:44:40] *** jorendorff is now known as jorendorff_away
[18:47:45] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Ping timeout)
[18:50:06] *** Joins: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[18:50:50] *** Quits: mchang (mchang@BE99BE02.84BCE52A.BCAEBB33.IP) (Quit: mchang)
[18:52:33] *** Quits: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com) (Quit: )
[18:56:30] *** Joins: mchang (mchang@BE99BE02.84BCE52A.BCAEBB33.IP)
[18:56:46] *** Quits: mchang (mchang@BE99BE02.84BCE52A.BCAEBB33.IP) (Quit: mchang)
[18:57:56] *** Joins: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com)
[18:58:15] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[18:58:15] *** ChanServ sets mode: +qo dherman dherman
[18:59:36] *** Joins: mchang (mchang@BE99BE02.84BCE52A.BCAEBB33.IP)
[18:59:40] *** Joins: gal (gal@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[19:00:34] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[19:00:59] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[19:00:59] *** ChanServ sets mode: +o brson
[19:01:58] *** Joins: mekki (mekki@moz-9F9F62E0.cpe.net.cable.rogers.com)
[19:03:03] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[19:06:59] *** jorendorff_away is now known as jorendorff
[19:18:39] *** Joins: azakai_ (alon@moz-BBE3ABD.mv.mozilla.com)
[19:21:52] *** Quits: sawrubh (uid6719@moz-5F4AA75A.irccloud.com) (Quit: Connection closed for inactivity)
[19:22:39] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[19:22:39] *** ChanServ sets mode: +o pcwalton
[19:32:13] <nmatsakis> larsberg: ping
[19:43:28] *** Joins: nrc|afk (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[19:58:57] *** Quits: gds (user@moz-42339416.range86-136.btcentralplus.com) (Ping timeout)
[20:01:17] <nmatsakis> nrc|afk: ping
[20:01:41] <nrc|afk> nmatsakis: hi
[20:01:49] *** nrc|afk is now known as nrc
[20:01:53] <nmatsakis> nrc: still a good time?
[20:02:02] <nrc> yep
[20:02:10] <nrc> just logging in to vodyo
[20:02:17] <nmatsakis> nrc: ok, in my room
[20:02:38] <larsberg> nmatsakis: sorry I missed your ping - chaos over here and I'm about to do some more interviewing! will be available before/after rust meeting, though :-)
[20:03:04] <nmatsakis> larsberg: ok, just wanted to ask about cars and rust work week
[20:12:36] * jdm first thought nmatsakis was talking about running rust on embedded car hardware
[20:14:41] *** Quits: cjones (cjones@moz-45913895.socal.res.rr.com) (Quit: Ex-Chat)
[20:21:31] <nrc> nmatsakis: https://etherpad.mozilla.org/P0iaWyrN6K
[20:37:14] *** Quits: mekki (mekki@moz-9F9F62E0.cpe.net.cable.rogers.com) (Ping timeout)
[20:38:29] *** Joins: roc (chatzilla@34E8ECDF.DC2C3734.616A18A6.IP)
[20:42:32] *** Joins: mekki (mekki@moz-9F9F62E0.cpe.net.cable.rogers.com)
[20:46:08] *** Quits: mekki (mekki@moz-9F9F62E0.cpe.net.cable.rogers.com) (Quit: Leaving.)
[20:48:01] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Quit: dherman)
[20:51:17] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[20:56:23] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[20:56:24] *** ChanServ sets mode: +qo dherman dherman
[20:59:01] *** Quits: gal (gal@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: gal)
[21:05:18] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Client exited)
[21:11:30] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:19:38] <larsberg> nmatsakis, nrc: I think I might try to just have gurv book a car for nrc and myself for the rust workweek and then let you and felix go later (unless you want to hang out, nrc?)
[21:21:14] <larsberg> I just tried, and renting a huge car to drive us all down is "out of policy" on egencia. And I'm a long-time city driver anyway and would probably terrify you all :-)
[21:26:22] <nrc> will it be a pain not having a car in SC?
[21:27:02] <nrc> If it makes sense to have one then it should not be an issue to expense it
[21:27:38] <nrc> I imagine that renting a car for a week is <= the cost of a car each way to SC and a couple of taxi rides, but I have no idea of US prices for this kind of thing
[21:28:23] <larsberg> I think azita said something about maybe having a car around so we could all go out for a dinner, if it wasn't in walking distance? I don't know that area well.
[21:29:14] <larsberg> the rental probably is close to on par - it was like $381 (USD) to rent a Chevy Monstrosity for the week
[21:29:40] <jdm> any distance is walking distance
[21:29:44] <nrc> as for hanging out - I have to spend Sunday hanging out either in SF or SC, and I think SF is more interesting
[21:29:45] <jdm> you just need me there to remind you of that fact
[21:30:46] <larsberg> jdm: I learned that lesson in Korea, Mr-I'm-sure-there's-a-temple-around-here-somewhere...
[21:34:07] <nrc> help, we need an adult, er manager, to make a decision
[21:46:09] *** Quits: gmaxwell (greg@moz-29D892D2.osuosl.org) (Ping timeout)
[21:51:33] *** Joins: gmaxwell (greg@moz-29D892D2.osuosl.org)
[21:56:06] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[21:57:11] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[21:57:12] *** ChanServ sets mode: +o pcwalton
[21:58:26] *** Joins: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:58:27] *** ChanServ sets mode: +o brson
[22:00:22] *** Joins: till (till@34E8ECDF.DC2C3734.616A18A6.IP)
[22:01:42] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[22:05:30] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[22:08:25] <dherman> nrc: is dbaupp still unable to hear?
[22:10:58] <nrc> I don't know, I think so
[22:11:16] <nrc> his irc nick is huon
[22:11:27] <nrc> now
[22:11:34] <nrc> my internet seems to be dying
[22:11:37] <nrc> rejoining soon
[22:12:42] <nrc> grrr, Vidyo
[22:15:32] <dherman> pcwalton: damn... you've done your homework!
[22:20:41] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[22:21:34] * dherman begins to see the controversy
[22:25:03] <mccr8> teach the controversy
[22:26:44] <cmr> I don't appear to hear anything, but my laptop's audio seems to be entirely broken with vidyo...
[22:28:26] <dherman> cmr: what OS? I've heard people have a hard time with vidyo on linux
[22:28:41] * nrc has a windows box pretty much just for vidyo
[22:28:45] <nrc> and skype
[22:29:07] <nrc> if you ahve an ANdroid mobile or tablet, apparently that works much better than linux desktop
[22:29:26] <dherman> :(
[22:30:09] <cmr> dherman: linux, of course. :p
[22:30:14] <dherman> d'oh
[22:30:18] <cmr> nrc: all I got is a fxos phone
[22:30:24] <cmr> so I'm dialed in to that
[22:30:42] * nrc grumbles about Vidyo using Flash
[22:31:12] <cmr> it's flash? I have some nasty plugin...
[22:32:05] <cmr> the wifi is also being bad, which doesn't help
[22:32:06] <nrc> yes :-(
[22:36:55] <cmr> and it segfaulted
[22:37:03] <cmr> I should just reboot into windows next time
[22:38:03] <dherman> cmr: that's what people usually do, so sorry :(
[22:38:12] <cmr> good to know, at least :p
[22:41:21] *** Joins: mekki (mekki@CAB30FBD.8F96AEA7.2D179A7D.IP)
[22:43:55] <cmr> can I be heard?
[22:44:08] <dherman> cmr: I didn't hear you
[22:44:27] <nrc> no
[22:44:30] <nmatsakis> cmr: nope :)
[22:46:05] * cmr gives up on vidyo
[22:57:25] *** Joins: cjones (cjones@moz-45913895.socal.res.rr.com)
[23:10:36] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[23:10:49] *** jorendorff is now known as jorendorff_away
[23:13:01] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[23:14:39] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[23:19:22] *** Quits: mekki (mekki@CAB30FBD.8F96AEA7.2D179A7D.IP) (Ping timeout)
[23:19:35] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[23:19:43] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[23:20:35] *** terrence is now known as terrence-afk
[23:23:15] <roc> cjones: I'm going to edit the Usage page to reflect the new state
[23:23:58] <cjones> were you able to start up without hacking DRI?
[23:24:09] <cjones> or you're going to leave that one for now
[23:24:23] <roc> DRI's fine
[23:24:30] <cjones> interesting
[23:24:31] <roc> blocking nvidiactl blocks it
[23:25:05] <roc> with those two pull requests I sent you, rr works great with no system config changes
[23:25:27] <roc> a more general DRI block might be a good idea for other drivers
[23:26:45] <cjones> we can see how bad things are before kicking out 1.0
[23:28:46] <roc> hooking XQueryExtension is a bit of a pain because it will require RTLD_NEXT or something like that
[23:29:16] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[23:30:09] <cjones> we already do that for pthread_create
[23:30:13] <cjones> so you can copy 'n paste
[23:30:56] *** till is now known as till|lunch
[23:34:21] *** Quits: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net) (Client exited)
[23:35:06] *** Joins: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net)
[23:54:52] *** Quits: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
