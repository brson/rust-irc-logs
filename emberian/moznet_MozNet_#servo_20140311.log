[00:00:22] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[00:00:52] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[00:02:25] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[00:03:19] *** Quits: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca) (Quit: canhtak)
[00:04:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[00:04:50] *** Joins: circ-user-Lh3t6 (circuser-L@moz-20A6B1BC.ed.shawcable.net)
[00:05:26] *** circ-user-Lh3t6 is now known as analyst74_
[00:06:39] *** Joins: enos (jkingyens@moz-E6FB95AC.lightspeed.sntcca.sbcglobal.net)
[00:07:04] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[00:07:35] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[00:07:45] *** Joins: enos_ (jkingyens@moz-ABD94068.mycingular.net)
[00:08:29] *** Quits: enos (jkingyens@moz-E6FB95AC.lightspeed.sntcca.sbcglobal.net) (Ping timeout)
[00:08:29] *** enos_ is now known as enos
[00:09:17] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[00:12:45] *** Quits: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net) (Ping timeout)
[00:25:47] *** Quits: analyst74_ (circuser-L@moz-20A6B1BC.ed.shawcable.net) (Client exited)
[00:26:04] *** kimundi is now known as zz_kimundi
[00:29:47] *** Quits: analyst74 (analyst74@9D2B184F.DE01D124.4EFEDE71.IP) (Quit: Leaving)
[00:30:12] *** Joins: analyst74 (analyst74@moz-20A6B1BC.ed.shawcable.net)
[00:31:32] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[00:39:51] *** Quits: eibwen (kvirc@moz-D4489A0B.dip0.t-ipconnect.de) (Ping timeout)
[00:42:14] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[00:42:47] *** Quits: Jayflux (Jason@moz-33214257.as13285.net) (Quit: Leaving)
[00:42:48] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[00:44:01] *** Quits: Jesse_ (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse_)
[00:46:04] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[00:46:21] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[00:47:44] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[00:50:12] *** Joins: cgaebel (clark@moz-F9D89110.nyc.res.rr.com)
[00:50:23] *** Quits: analyst74 (analyst74@moz-20A6B1BC.ed.shawcable.net) (Connection reset by peer)
[00:50:54] *** bhearsum is now known as bhearsum|afk
[00:54:29] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[00:55:17] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Ping timeout)
[00:55:27] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[00:56:09] *** Quits: jet (jet@D061C795.45500B72.24454B25.IP) (Quit: jet)
[01:02:25] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[01:03:40] *** Joins: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca)
[01:04:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[01:05:16] *** Quits: tikue (tkuehn@CB7FC854.FAD414BA.D74CC41D.IP) (Quit: tikue)
[01:06:16] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[01:06:27] *** Joins: tikue (tkuehn@CB7FC854.FAD414BA.D74CC41D.IP)
[01:11:34] *** Quits: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com) (Quit: )
[01:15:48] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[01:17:14] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[01:23:24] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[01:24:33] *** Joins: Savago (Savago@moz-679D1D3C.hsd1.ca.comcast.net)
[01:29:14] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Quit: victorporof)
[01:32:51] *** Joins: jet (jet@moz-99690620.hinet-ip.hinet.net)
[01:33:45] *** Joins: analyst74 (analyst74@moz-20A6B1BC.ed.shawcable.net)
[01:34:56] *** Quits: analyst74 (analyst74@moz-20A6B1BC.ed.shawcable.net) (Input/output error)
[01:35:49] *** Quits: enos (jkingyens@moz-ABD94068.mycingular.net) (Ping timeout)
[01:35:53] *** Joins: analyst74 (analyst74@moz-20A6B1BC.ed.shawcable.net)
[01:43:05] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[01:54:30] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[01:58:18] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[01:59:41] *** Joins: enos (jkingyens@moz-ABD94068.mycingular.net)
[02:02:25] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[02:02:31] *** Quits: Savago (Savago@moz-679D1D3C.hsd1.ca.comcast.net) (Quit: Savago)
[02:04:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[02:07:47] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[02:07:47] *** ChanServ sets mode: +o pcwalton
[02:08:24] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[02:10:11] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[02:10:23] *** Joins: lpy (lpy@F7AFA3.F09091A8.1348A864.IP)
[02:11:02] <pradeep> larsberg: just a gentle nudge regarding #1808 ... cos it's been a week now :)
[02:11:02] <crowbot> Issue #1808: Send in the right container block size for relative positioning. - https://github.com/mozilla/servo/pull/1808
[02:14:02] <pcwalton> pradeep: I'll r+ it
[02:14:41] *** Joins: Savago (Savago@moz-679D1D3C.hsd1.ca.comcast.net)
[02:15:20] *** Quits: Savago (Savago@moz-679D1D3C.hsd1.ca.comcast.net) (Quit: Savago)
[02:15:29] <pradeep> pcwalton: Thanks!
[02:15:41] *** Quits: enos (jkingyens@moz-ABD94068.mycingular.net) (No route to host)
[02:16:48] *** Joins: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP)
[02:16:48] <ghservo> [13servo] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/wmTbSQ
[02:16:48] *** Parts: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP) ()
[02:16:50] *** Joins: ghservo (ghservo@88C0CBA2.6A2AE50.F3114085.IP)
[02:16:50] <ghservo> [13servo] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/cjDOYA
[02:16:50] <ghservo> 13servo/06auto 1420a4ac6 15S Pradeep Kumar: Send in the right container block size for relative positioning....
[02:16:50] <ghservo> 13servo/06auto 14fadf2b0 15bors-servo: auto merge of #1808 : pradeep90/servo/relative-position-container-block-size, r=pcwalton...
[02:16:51] *** Parts: ghservo (ghservo@88C0CBA2.6A2AE50.F3114085.IP) ()
[02:18:08] <larsberg> pradeep: sorry about that - i must have missed the mail from github and haven't been checking the PR backlog closely enough. My apologies!
[02:18:24] *** Joins: enos (jkingyens@moz-ABD94068.mycingular.net)
[02:18:41] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[02:18:42] <pradeep> larsberg: np :)
[02:18:51] *** Quits: tikue (tkuehn@CB7FC854.FAD414BA.D74CC41D.IP) (Ping timeout)
[02:18:52] <larsberg> I also owe you a comment on stacking context design. I will write up what pcwalton, nrc, and i discussed tomorrow morning
[02:20:01] *** Joins: tikue (tkuehn@CB7FC854.FAD414BA.D74CC41D.IP)
[02:21:42] <pradeep> larsberg: no problem. I used the time last week to implement the Width calculation trait, so no trouble :)
[02:22:29] <larsberg> Awesome :)
[02:23:26] *** Joins: ghservo (ghservo@2DCF43EA.6A2AE50.F3114085.IP)
[02:23:26] <ghservo> [13servo] 15analyst74 opened pull request #1881: Ubuntu doesn't have g++ installed by default, adding it to pre-requisite (06master...06master) 02http://git.io/bB5gPg
[02:23:26] *** Parts: ghservo (ghservo@2DCF43EA.6A2AE50.F3114085.IP) ()
[02:23:52] *** Quits: enos (jkingyens@moz-ABD94068.mycingular.net) (Connection reset by peer)
[02:36:56] *** Joins: enos (jkingyens@moz-E6FB95AC.lightspeed.sntcca.sbcglobal.net)
[02:37:54] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[02:39:20] <cgaebel> tikue: https://github.com/mozilla/rust/pull/12081
[02:39:35] <tikue> cgaebel: i found it, thanks :) 
[02:39:58] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[02:42:59] *** Joins: kanru (kanru@moz-DB4A9C19.scl3.mozilla.com)
[02:44:40] *** Quits: cgaebel (clark@moz-F9D89110.nyc.res.rr.com) (Ping timeout)
[02:46:35] *** Quits: oxum (anonymous@2EA69919.88326D41.520CDC98.IP) (Quit: ...)
[02:47:16] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[02:47:20] *** Joins: cgaebel (clark@moz-F9D89110.nyc.res.rr.com)
[02:48:57] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[02:52:50] *** Joins: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP)
[02:52:50] <ghservo> [13servo] 15bors-servo 04force-pushed 06auto from 14fadf2b0 to 1492f295b: 02http://git.io/c8GovQ
[02:52:50] *** Parts: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP) ()
[02:52:53] *** Joins: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP)
[02:52:53] <ghservo> [13servo] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/h1_k8Q
[02:52:53] <ghservo> 13servo/06auto 144dcec9b 15Bill Yang: Ubuntu doesn't have g++ installed by default, adding it to pre-requisites
[02:52:53] <ghservo> 13servo/06auto 14864f6df 15bors-servo: auto merge of #1881 : analyst74/servo/master, r=metajack...
[02:52:53] *** Parts: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP) ()
[03:02:13] *** Joins: stumpart (stumpart@moz-93393D0A.hsd1.ca.comcast.net)
[03:02:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[03:04:08] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[03:06:21] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[03:08:30] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[03:09:49] *** Quits: tikue (tkuehn@CB7FC854.FAD414BA.D74CC41D.IP) (Ping timeout)
[03:11:32] *** Joins: tikue (tkuehn@CB7FC854.FAD414BA.D74CC41D.IP)
[03:13:18] *** Joins: ghservo (ghservo@C82447D.6A2AE50.F3114085.IP)
[03:13:18] <ghservo> [13servo] 15kmcallister opened issue #1882: Move macros into a new crate 02http://git.io/O4LInA
[03:13:18] *** Parts: ghservo (ghservo@C82447D.6A2AE50.F3114085.IP) ()
[03:13:50] *** Joins: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP)
[03:13:50] <ghservo> [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/h1_k8Q
[03:13:50] *** Parts: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP) ()
[03:13:50] *** Joins: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP)
[03:13:50] <ghservo> [13servo] 15bors-servo closed pull request #1881: Ubuntu doesn't have g++ installed by default, adding it to pre-requisite (06master...06master) 02http://git.io/bB5gPg
[03:13:50] *** Parts: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP) ()
[03:18:19] *** Quits: maxli1 (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[03:19:40] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[03:19:45] *** Joins: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[03:20:19] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[03:21:17] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[03:21:48] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[03:21:53] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[03:22:54] *** Joins: oxum (anonymous@11A35D26.C8CF0713.520CDC98.IP)
[03:25:05] *** Quits: soumyaC (uid15286@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[03:26:11] *** Quits: untitaker (untitaker@moz-B081D019.adsl.highway.telekom.at) (Ping timeout)
[03:27:15] *** Quits: enos (jkingyens@moz-E6FB95AC.lightspeed.sntcca.sbcglobal.net) (Quit: enos)
[03:34:14] *** Joins: untitaker (untitaker@moz-3C08D535.adsl.highway.telekom.at)
[03:35:09] *** Quits: oxum (anonymous@11A35D26.C8CF0713.520CDC98.IP) (Quit: Bye..)
[03:35:24] *** Joins: oxum (anonymous@11A35D26.C8CF0713.520CDC98.IP)
[03:37:23] *** Quits: cgaebel (clark@moz-F9D89110.nyc.res.rr.com) (Ping timeout)
[03:38:47] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[03:48:22] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[03:49:44] *** Quits: zz_kimundi (kimundi@moz-17FBB277.dip0.t-ipconnect.de) (Ping timeout)
[03:50:04] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[03:53:47] *** Joins: zz_kimundi (kimundi@moz-B5D25C17.dip0.t-ipconnect.de)
[03:53:48] *** zz_kimundi is now known as kimundi
[04:02:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[04:04:08] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[04:05:33] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[04:06:15] *** Quits: june0cho (june0cho@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[04:06:16] *** Joins: june0cho (june0cho@5AB4884B.FCC4549.14D5B978.IP)
[04:06:27] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[04:08:30] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[04:09:11] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[04:11:05] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[04:11:14] *** Quits: jet (jet@moz-99690620.hinet-ip.hinet.net) (Quit: jet)
[04:12:53] *** Joins: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[04:13:41] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[04:17:46] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[04:20:38] *** Quits: stumpart (stumpart@moz-93393D0A.hsd1.ca.comcast.net) (Quit: stumpart)
[04:42:36] *** Quits: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca) (Quit: canhtak)
[04:45:31] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[04:47:24] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[04:49:08] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[04:50:49] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[04:55:36] *** Quits: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[04:59:36] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Quit: victorporof)
[05:02:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[05:04:07] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[05:06:12] *** Joins: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net)
[05:06:24] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[05:06:44] *** Quits: lpy (lpy@F7AFA3.F09091A8.1348A864.IP) (Ping timeout)
[05:08:29] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[05:10:19] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Quit: Computer has gone to sleep.)
[05:10:43] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[05:12:25] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[05:12:35] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[05:13:03] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[05:15:52] *** Quits: june0cho (june0cho@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[05:16:11] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[05:16:13] *** Joins: june0cho (june0cho@5AB4884B.FCC4549.14D5B978.IP)
[05:22:07] *** Joins: lpy (lpy@338D4834.F09091A8.1348A864.IP)
[05:27:19] *** Quits: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net) (Ping timeout)
[05:35:34] *** Quits: analyst74 (analyst74@moz-20A6B1BC.ed.shawcable.net) (Input/output error)
[05:49:19] *** Quits: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net) (Quit: tobytailor)
[05:49:51] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[05:51:33] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[05:52:37] *** Quits: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca) (Ping timeout)
[05:53:11] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[05:53:39] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[06:02:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[06:04:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[06:06:20] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[06:08:31] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[06:09:43] *** Quits: lpy (lpy@338D4834.F09091A8.1348A864.IP) (Client exited)
[06:10:05] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[06:11:58] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[06:12:06] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Quit: Computer has gone to sleep.)
[06:12:30] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[06:12:48] <abucur> ping! is anyone available to help me with a short technical mailing list issue?
[06:13:15] <abucur> I want to check if an email has arrived to the dev-servo list or not
[06:14:11] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[06:16:12] *** Joins: enos (jkingyens@moz-B0C1B161.hsd1.ca.comcast.net)
[06:20:21] *** Quits: bharadwaj (uid11995@moz-5F4AA75A.irccloud.com) (Quit: Connection closed for inactivity)
[06:26:22] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[06:27:57] <pradeep> abucur: Would it help to check the Google Group - https://groups.google.com/forum/#!forum/mozilla.dev.servo ?
[06:28:24] <abucur> pradeep: actually that is my problem... I've replied to that list and it seems my email got blocked
[06:28:31] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[06:28:40] <abucur> pradeep: however, I've received a reply on the list from Rob
[06:29:07] <abucur> pradeep: I want to know if my email was delivered to dev-servo or mozilla-dev-servo but I didn't get
[06:29:26] <abucur> pradeep: or if I need to resend it (without using the google groups interface this time :( _
[06:30:30] <abucur> pradeep: my account is marked as bouncing on google groups and I suspect this is the reason my emails are not sent
[06:31:00] <abucur> pradeep: so, if you are subscribed to dev-servo, have you received an email "Dealing with fragmentation/pagination" yesterday from me?
[06:31:19] <pradeep> abucur: one sec
[06:31:31] <abucur> pradeep: no hurries, thanks!
[06:32:27] *** Joins: mihnea_ (sid16310@moz-A42E5B7B.irccloud.com)
[06:32:46] <pradeep> abucur: I see a mail with Subject "Re: [dev-servo] Dealing with fragmentation/pagination" starting with "
[06:32:50] <pradeep> I'm happy to see this topic brought up in the discussion. If you want, I can give you more details about "
[06:33:00] <abucur> pradeep: ok, nice!
[06:33:08] <pradeep> abucur: peace
[06:43:06] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[06:46:27] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[06:50:36] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[06:52:16] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[06:55:34] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[07:02:01] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[07:02:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[07:04:07] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[07:06:21] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[07:08:31] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[07:10:40] *** Joins: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net)
[07:12:32] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[07:17:16] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[07:19:57] *** Joins: Ms2ger (Ms2ger@moz-CF2215D5.ugent.be)
[07:20:24] *** Quits: dreamer_ (dreamer_@90E8C08F.8480A87C.DDAA0084.IP) (Ping timeout)
[07:24:46] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[07:26:12] *** Quits: dbaron (dbaron@6E6C815B.27376607.189F3E15.IP) (Ping timeout)
[07:26:24] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[07:27:51] *** Joins: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[07:29:41] *** Quits: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[07:36:33] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[07:49:24] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[07:50:25] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Quit: victorporof)
[07:52:23] *** Quits: june0cho (june0cho@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[07:52:24] *** Joins: june0cho (june0cho@5AB4884B.FCC4549.14D5B978.IP)
[07:53:05] *** Quits: june0cho (june0cho@5AB4884B.FCC4549.14D5B978.IP) (Quit: )
[07:53:30] *** Quits: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[08:02:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[08:03:23] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[08:04:07] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[08:05:09] *** Joins: bjz_ (bjz@B398BE78.F804C29E.D35A31DF.IP)
[08:05:41] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[08:06:15] *** Joins: eibwen (kvirc@moz-50744DFB.dip0.t-ipconnect.de)
[08:06:23] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[08:08:29] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[08:12:39] *** Quits: oxum (anonymous@11A35D26.C8CF0713.520CDC98.IP) (Quit: ...)
[08:15:39] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[08:17:18] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[08:23:58] *** Joins: lpy (lpy@F7AFA3.F09091A8.1348A864.IP)
[08:26:02] *** Quits: Ms2ger (Ms2ger@moz-CF2215D5.ugent.be) (Ping timeout)
[08:28:21] *** Joins: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net)
[08:30:47] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[08:30:50] *** Joins: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[08:32:36] *** Quits: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[08:32:41] *** Joins: Ms2ger (Ms2ger@moz-970593D0.ugent.be)
[08:33:10] *** Quits: yury (yury@moz-86474802.ok.ok.cox.net) (Ping timeout)
[08:33:13] *** Joins: yury (yury@moz-86474802.ok.ok.cox.net)
[08:42:46] *** Joins: oxum (anonymous@E9528B24.88326D41.520CDC98.IP)
[08:48:47] *** Joins: jet (jet@moz-99690620.hinet-ip.hinet.net)
[08:50:43] *** Quits: Ms2ger (Ms2ger@moz-970593D0.ugent.be) (Ping timeout)
[08:53:08] *** Quits: tikue (tkuehn@CB7FC854.FAD414BA.D74CC41D.IP) (Quit: tikue)
[08:58:21] *** Quits: jpierre03 (jpierre03@moz-EA4C02E3.prunetwork.fr) (Ping timeout)
[08:58:59] *** Quits: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[09:01:10] *** Joins: jpierre03 (jpierre03@moz-EA4C02E3.prunetwork.fr)
[09:02:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[09:04:07] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[09:06:20] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[09:08:29] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[09:11:46] *** Joins: Debloper (debloper@moz-88FF8AE8.redhat.com)
[09:16:10] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Quit: Computer gone to sleep - Zzzz...)
[09:16:23] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[09:17:37] *** Joins: six600110 (six600110@moz-9117A1DE.hsd1.il.comcast.net)
[09:17:45] *** Parts: six600110 (six600110@moz-9117A1DE.hsd1.il.comcast.net) (Ex-Chat)
[09:18:05] *** Joins: soumyaC (uid15286@moz-E77DEB21.irccloud.com)
[09:18:54] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[09:21:54] *** Parts: jet (jet@moz-99690620.hinet-ip.hinet.net) ()
[09:23:48] *** Joins: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net)
[09:39:42] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[09:47:59] *** Joins: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP)
[10:02:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[10:02:34] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Ping timeout)
[10:04:07] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[10:06:21] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[10:08:28] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[10:17:28] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[10:19:58] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[10:22:10] *** Joins: Ms2ger (Ms2ger@moz-7B50A82B.adsl-dyn.isp.belgacom.be)
[10:24:17] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[10:30:16] *** Quits: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP) (Quit: mno2)
[11:02:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[11:04:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[11:06:20] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[11:08:30] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[11:19:03] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[11:19:43] *** Joins: jackneill (jackneill@moz-F8100363.pool.digikabel.hu)
[11:20:44] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[11:29:22] *** Joins: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca)
[11:29:54] *** Quits: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca) (Quit: canhtak)
[11:36:23] *** Joins: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca)
[11:38:25] *** Joins: system64 (uid17738@moz-A42E5B7B.irccloud.com)
[11:46:39] *** Joins: sawrubh (uid6719@moz-5F4AA75A.irccloud.com)
[12:02:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[12:04:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[12:04:28] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[12:06:10] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[12:06:22] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[12:08:28] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[12:12:22] *** Quits: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca) (Quit: canhtak)
[12:26:50] *** Joins: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca)
[12:27:39] <Manishearth> Ms2ger: The seal of approval thing showed up on the critic review, so I assume the code review is over. I rebased and pushed.
[12:27:49] <Manishearth> (hope that was handled correctly)
[12:28:14] <Ms2ger> It did?
[12:28:23] <Ms2ger> "97 % and 1 issue"
[12:28:25] *** Joins: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com)
[12:29:31] <Manishearth> Ms2ger: hm
[12:29:33] <Ms2ger> And there's a space after unreachable!() you should remove :)
[12:30:09] <Manishearth> Ms2ger: that line has been left alone in the rebased one : https://github.com/Manishearth/servo/commit/76a3a7900ec61d74f970391533f8255da425b893#diff-7a29c288a1b741eb2aec7ffcb1a41f62R71
[12:30:18] <Ms2ger> That's good :)
[12:30:42] <Ms2ger> Oh, and looks like I missed that the "static DOCUMENT_POSITION..." lines are indented 4 spaces too far
[12:31:01] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[12:31:35] <Ms2ger> And could you revert this change? https://github.com/mozilla/servo/pull/1862/files#diff-02fea8678d0cba8673c67b8750cd478cR133
[12:34:38] <Manishearth> Ms2ger: fixed
[12:34:59] <Ms2ger> Alright, let's go :)
[12:35:37] <Manishearth> yay, r+
[12:35:44] *** Joins: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP)
[12:35:44] <ghservo> [13servo] 15Ms2ger opened pull request #1883: Cleanup codegen (06master...06cleanup-codegen) 02http://git.io/cbVN1w
[12:35:44] *** Parts: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP) ()
[12:36:55] *** Joins: Kostic (Kostic@C4D4CB5C.58A2DD99.2168A69F.IP)
[12:37:26] <Ms2ger> Oh hm
[12:37:52] <Ms2ger> Manishearth, looks like you still need to rebase
[12:38:09] *** Quits: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca) (Quit: canhtak)
[12:40:55] *** Joins: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca)
[12:41:39] *** Quits: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca) (Quit: canhtak)
[12:42:51] <Manishearth> Ms2ger: as in?
[12:42:58] <Manishearth> oh, there was no botspam
[12:42:59] <Manishearth> hm
[12:43:34] <Manishearth> there's only one commit though
[12:43:43] <Ms2ger> Yeah, but it doesn't merge cleanly
[12:44:03] <Manishearth> anything I need to change? 
[12:44:14] <Manishearth> Or do I git pull locally and do the merge
[12:45:08] <Manishearth> got to go, will look at later
[12:45:54] <Ms2ger> Manishearth, git checkout master; git fetch origin; git merge --ff-only origin/master; git checkout comparedoc-1794; git rebase -i origin/master
[12:53:38] *** bhearsum|afk is now known as bhearsum
[12:56:45] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[12:56:45] *** ChanServ sets mode: +o jdm
[13:02:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:04:08] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[13:06:19] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[13:07:21] <Ms2ger> Good morning, jdm 
[13:07:35] <jdm> and what a morning!
[13:07:36] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Quit: )
[13:07:53] <Ms2ger> Did you snow under? :)
[13:08:23] <jdm> the snow's actually mostly gone for once
[13:08:28] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[13:08:30] <jdm> puddles everywhere
[13:08:41] <Ms2ger> Yay puddles
[13:09:32] <Ms2ger> jdm, we talked about merging declare()/define() a while back... So I did that
[13:09:32] *** Joins: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca)
[13:09:48] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[13:15:00] *** Quits: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca) (Quit: canhtak)
[13:18:25] <Ms2ger> (I was actually trying to reindent stuff to look nicer, but I got distracted)
[13:19:57] * Ms2ger looks for something to work on that isn't blocked on jdm
[13:26:42] * jdm feels ashamed
[13:27:12] <abinader> Ms2ger: I'm now passing clone() w/ clone_children set to false inside clone_children, testing now everything to see how it works :-) thanks!
[13:27:41] *** Joins: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca)
[13:27:41] <Ms2ger> Np
[13:28:34] <abinader> btw, for clone() I've created a "CloneChildrenFlags" so we avoid passing a shy "true/false" in clone(...);
[13:28:51] <Ms2ger> Neat
[13:30:11] <Ms2ger> Woop
[13:30:19] <Ms2ger> Trying to load the HTML spec: OOM
[13:30:46] * jgraham tries to look surprised
[13:30:51] * jgraham fails
[13:30:54] * eddyb giggles
[13:31:29] <jgraham> Would be neat to be able to dogfood using servo to display the specs we need to implement in servo though
[13:32:14] *** Joins: valentin (Thunderbir@87C1F78E.1DE10CA8.D8E68FF6.IP)
[13:32:58] * Ms2ger tries DOM
[13:33:29] <Ms2ger> task 'task '<unnamed>' failed at 'RefCell<T> already mutably borrowed<unnamed>',
[13:34:07] <eddyb> can't implement your spec and read it too
[13:34:27] * Ms2ger wonders why Servo is using 200% CPU to render DOM
[13:34:36] <Ms2ger> Or to not render it, actually
[13:35:48] <jdm> Ms2ger: backtrace backtrace backtrace
[13:36:08] <Ms2ger> For which?
[13:36:12] <jdm> the borrow failure
[13:36:18] *** Joins: andelf (fledna@983BB788.FB767B38.1CD28F1D.IP)
[13:36:35] <Ms2ger> Somewhere under libgreen, I hadn't set a breakpoint yet
[13:37:21] <jdm> darn
[13:37:34] <jdm> that's a layout race
[13:38:51] <Ms2ger> file://resources.whatwg.org/file-bug.js
[13:38:52] <Ms2ger> Orly
[13:40:18] <Ms2ger> Oh, it actually works quite well
[13:40:37] *** Quits: system64 (uid17738@moz-A42E5B7B.irccloud.com) (Quit: Connection closed for inactivity)
[13:40:47] * Ms2ger suspects dfn.js is doing a getElementsByTagName that we do eagerly
[13:41:31] <Ms2ger> Oh no, worse
[13:41:36] <Ms2ger>   dfnMapTarget = document.links.length;
[13:41:36] <Ms2ger>   for (var i = 0; i < dfnMapTarget; i += 1)
[13:41:36] <Ms2ger>     links[i] = document.links[i];
[13:41:56] <Ms2ger> And I'm pretty sure we recreate document.links every iteration through that loop
[13:42:16] <Ms2ger> So that's O(# of links * # of nodes)
[13:42:18] <jdm> best
[13:43:07] <Ms2ger> We render pretty damn slow, too
[13:43:46] <Ms2ger> Every time I scroll it goes "What? You want to see this bit too?"
[13:44:29] <Ms2ger> Apart from that, we're good
[13:44:36] * Ms2ger ponders trying to click a link
[13:44:53] <jdm> doooo it
[13:44:54] <Ms2ger> And crash
[13:45:02] <Ms2ger> task 'RenderTask' failed at 'You should have disposed of the pixmap properly with destroy()! This pixmap will leak!'
[13:45:13] <jdm> I've seen that a few times
[13:45:21] <jdm> pcwalton will be interested in that
[13:45:28] <jdm> and/or jack I presume
[13:46:01] <Ms2ger> abinader, want to implement caching for document.links? :)
[13:46:44] <abinader> Ms2ger: sounds like a plan :-) I'm uploading the fixes for cloneNode atm
[13:46:57] <Ms2ger> Excellent :)
[13:47:01] <jgraham> Ms2ger: You should file a bug on getting specs to work in servo
[13:47:50] <jgraham> That's totally the sort of thing that produces a load of small fixes
[13:48:39] <abinader> Ms2ger: okie dokie, https://critic.hoppipolla.co.uk/r/961 updated
[13:48:51] * jgraham would rather be doing than that than trying to debug multiprocess python code trying to interact with a device :(
[13:48:58] <jdm> ewww
[13:49:03] <Ms2ger> task '<unnamed>' failed at 'assertion failed: self.parent.borrow != WRITING && self.parent.borrow != UNUSED'
[13:49:09] <Ms2ger> Anyone care for that one?
[13:49:20] <jdm> Ms2ger: yeah, more layout races
[13:49:26] <jdm> please to obtain backtrace
[13:49:27] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[13:49:56] <abinader> Ms2ger: I've modified the "clone children" content test a bit to verify # of children when children >1 and grand children
[13:49:57] <Ms2ger> Also for other threads?
[13:50:12] <Ms2ger> jdm, ^
[13:50:21] <jdm> Ms2ger: can't hurt
[13:52:19] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[13:53:13] *** Joins: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP)
[13:53:13] <ghservo> [13servo] 15Ms2ger opened issue #1884: Make specifications render in Servo 02http://git.io/xO3K2w
[13:53:13] *** Parts: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP) ()
[13:53:57] *** Quits: Kostic (Kostic@C4D4CB5C.58A2DD99.2168A69F.IP) (Quit: Leaving)
[13:54:05] *** Joins: Kostic (Kostic@C4D4CB5C.58A2DD99.2168A69F.IP)
[13:54:51] *** Joins: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP)
[13:54:51] <ghservo> [13servo] 15Ms2ger opened issue #1885: Cache document.links 02http://git.io/10dhIg
[13:54:51] *** Parts: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP) ()
[13:57:54] *** Joins: ghservo (ghservo@88C0CBA2.6A2AE50.F3114085.IP)
[13:57:54] <ghservo> [13servo] 15Ms2ger opened issue #1886: Race when loading the DOM spec 02http://git.io/XBkfCQ
[13:57:54] *** Parts: ghservo (ghservo@88C0CBA2.6A2AE50.F3114085.IP) ()
[13:58:11] <abinader> Ms2ger: ah, I see
[13:58:18] <Ms2ger> Hmm?
[13:58:25] <abinader> yeah, I saw that on the spec (regarding re-using same HTMLCollections)
[13:58:38] <jdm> oh craaap
[13:58:52] <jdm> html_element_in_html_document
[13:59:03] <jdm> I remember noticing that yesterday and going :|
[13:59:17] <jdm> what a house of cards
[13:59:37] <Ms2ger> Let's do a browser with lots of threading
[13:59:38] * jdm kind of wishes we had the DOM phantom types back
[13:59:50] <jdm> then layout simply could not call these DOM helpers
[14:00:27] <Ms2ger> bbiaf
[14:01:36] *** Quits: Kostic (Kostic@C4D4CB5C.58A2DD99.2168A69F.IP) (Client exited)
[14:01:37] *** Joins: ahal (ahal@moz-7DE89BF0.cable.teksavvy.com)
[14:02:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:03:23] <jdm> I wonder if owner_doc should return &JS<Document> instead
[14:03:29] <jdm> make callers clone if they want to do stuff
[14:03:41] <jdm> maybe too many things return bare JS types by default
[14:04:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:06:21] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[14:06:37] *** Quits: lpy (lpy@F7AFA3.F09091A8.1348A864.IP) (Ping timeout)
[14:08:28] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[14:10:57] *** Joins: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP)
[14:10:57] <ghservo> [13servo] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/pX0UBQ
[14:10:57] *** Parts: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP) ()
[14:10:58] *** Joins: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP)
[14:10:58] <ghservo> [13servo] 15bors-servo pushed 9 new commits to 06auto: 02http://git.io/1LMW-w
[14:10:58] <ghservo> 13servo/06auto 14e54a17b 15Ms2ger: Remove unused CGAbstractStaticMethod class.
[14:10:58] <ghservo> 13servo/06auto 14d1f5b09 15Ms2ger: Remove some dead code from CGAbstractMethod._decorators.
[14:10:58] <ghservo> 13servo/06auto 14f7a847c 15Ms2ger: Stop pointlessly indenting GetProtoObject.
[14:11:00] *** Parts: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP) ()
[14:11:25] *** Quits: jackneill (jackneill@moz-F8100363.pool.digikabel.hu) (Quit: WeeChat 0.4.3)
[14:11:42] *** Joins: jackneill (jackneill@moz-F8100363.pool.digikabel.hu)
[14:16:30] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[14:18:15] *** Quits: Debloper (debloper@moz-88FF8AE8.redhat.com) (Ping timeout)
[14:18:23] <SimonSapin> https://groups.google.com/forum/#!forum/mozilla.dev.servo seems to be out of date
[14:18:27] <SimonSapin> some messages are not showing up
[14:18:28] *** Quits: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca) (Quit: canhtak)
[14:18:42] <jdm> we can file a bug about that and get it escalated to google
[14:19:08] <SimonSapin> I have no idea how this is even supposed to work
[14:19:28] <SimonSapin> is it going through NNTP?
[14:22:31] *** Joins: geam (lala@894B2C75.505B6224.307DE5D7.IP)
[14:23:42] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[14:28:07] <Ms2ger> jdm, &'a JS<Document>, you mean?
[14:28:16] <jdm> Ms2ger: correct
[14:28:52] *** Joins: system64 (uid17738@moz-A42E5B7B.irccloud.com)
[14:30:18] *** Joins: dranov (dranov@9D9CC3FE.F39E9F97.FCAAE698.IP)
[14:30:44] *** Quits: dranov (dranov@9D9CC3FE.F39E9F97.FCAAE698.IP) (Client exited)
[14:31:38] *** Joins: dranov (dranov@9D9CC3FE.F39E9F97.FCAAE698.IP)
[14:32:35] *** Joins: mccr8 (mccr8@moz-F6A7B612.dsl.dynamic.sonic.net)
[14:32:58] *** Joins: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca)
[14:33:30] *** Quits: dranov (dranov@9D9CC3FE.F39E9F97.FCAAE698.IP) (Client exited)
[14:34:08] *** Joins: dranov (dranov@9D9CC3FE.F39E9F97.FCAAE698.IP)
[14:35:04] *** Joins: ghservo (ghservo@38D6F008.6A2AE50.F3114085.IP)
[14:35:04] <ghservo> [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/1LMW-w
[14:35:04] *** Parts: ghservo (ghservo@38D6F008.6A2AE50.F3114085.IP) ()
[14:35:04] *** Joins: ghservo (ghservo@88C0CBA2.6A2AE50.F3114085.IP)
[14:35:04] <ghservo> [13servo] 15bors-servo closed pull request #1883: Cleanup codegen (06master...06cleanup-codegen) 02http://git.io/cbVN1w
[14:35:04] *** Parts: ghservo (ghservo@88C0CBA2.6A2AE50.F3114085.IP) ()
[14:38:22] *** Joins: ghservo (ghservo@88C0CBA2.6A2AE50.F3114085.IP)
[14:38:22] <ghservo> [13servo] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/soN7lA
[14:38:22] *** Parts: ghservo (ghservo@88C0CBA2.6A2AE50.F3114085.IP) ()
[14:43:31] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Ping timeout)
[14:49:35] *** Joins: gimpf (gimpf@moz-92FB2E02.adsl.highway.telekom.at)
[14:49:52] *** Quits: Ms2ger (Ms2ger@moz-7B50A82B.adsl-dyn.isp.belgacom.be) (Ping timeout)
[14:52:36] *** Joins: Ms2ger (Ms2ger@73E4AB59.751D2A92.F15B0BB3.IP)
[14:52:39] *** Joins: lpy (lpy@54AA05A8.F09091A8.1348A864.IP)
[15:02:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[15:03:21] *** Joins: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[15:04:07] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[15:05:12] *** Quits: lpy (lpy@54AA05A8.F09091A8.1348A864.IP) (Ping timeout)
[15:06:22] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[15:06:30] *** Joins: lpy (lpy@54AA05A8.F09091A8.1348A864.IP)
[15:08:30] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[15:09:05] *** Joins: stumpart (stumpart@moz-93393D0A.hsd1.ca.comcast.net)
[15:10:32] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[15:17:46] *** Quits: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca) (Quit: canhtak)
[15:25:33] *** Quits: mccr8 (mccr8@moz-F6A7B612.dsl.dynamic.sonic.net) (Quit: computer sleep)
[15:34:39] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[15:38:36] *** Joins: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca)
[15:39:48] *** Joins: aurynj (Eon@C498BDEC.C264657C.C6282BC4.IP)
[15:44:05] *** Quits: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net) (Ping timeout)
[15:47:28] *** Joins: bholley (bholley@32EFA1FF.F0338C73.AECC5372.IP)
[15:55:57] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[16:01:47] *** Joins: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[16:03:15] *** Joins: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com)
[16:04:24] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[16:06:21] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:06:42] *** Joins: analyst74 (analyst74@9D2B184F.DE01D124.4EFEDE71.IP)
[16:08:29] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[16:09:52] *** Joins: hoverbear (hoverbear@moz-AFB2E9CC.wireless.uvic.ca)
[16:10:39] *** Quits: hoverbear (hoverbear@moz-AFB2E9CC.wireless.uvic.ca) (Quit: Taking a nap.)
[16:25:15] *** Quits: lpy (lpy@54AA05A8.F09091A8.1348A864.IP) (Client exited)
[16:27:09] *** Joins: Savago (Savago@176221C0.E820043D.D4C04133.IP)
[16:28:32] <Ms2ger> jdm, https://github.com/mozilla/servo/pull/1878 rebased
[16:31:52] *** Joins: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP)
[16:31:52] <ghservo> [13servo] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/PyiA6g
[16:31:52] <ghservo> 13servo/06auto 14256a5cb 15Ms2ger: Replace GetReflector by an implementation of ToJSValConvertible.
[16:31:52] <ghservo> 13servo/06auto 148e16c00 15bors-servo: auto merge of #1878 : Ms2ger/servo/GetReflector, r=jdm
[16:31:53] *** Parts: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP) ()
[16:31:54] *** Joins: ghservo (ghservo@88C0CBA2.6A2AE50.F3114085.IP)
[16:31:55] <ghservo> [13servo] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/soN7lA
[16:31:55] *** Parts: ghservo (ghservo@88C0CBA2.6A2AE50.F3114085.IP) ()
[16:32:11] *** Joins: hoverbear (hoverbear@moz-AFB2E9CC.wireless.uvic.ca)
[16:32:42] *** Quits: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca) (Quit: Leaving.)
[16:33:12] *** Joins: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net)
[16:34:38] *** Quits: eibwen (kvirc@moz-50744DFB.dip0.t-ipconnect.de) (Ping timeout)
[16:35:14] *** Joins: eibwen (kvirc@moz-4DC959C4.dip0.t-ipconnect.de)
[16:40:52] *** Quits: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[16:44:48] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:48:12] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Client exited)
[16:48:25] *** Joins: dbaron (dbaron@6E6C815B.27376607.189F3E15.IP)
[16:48:33] *** Quits: geam (lala@894B2C75.505B6224.307DE5D7.IP) (Client exited)
[16:49:38] *** Joins: dreamer_ (dreamer_@90E8C08F.8480A87C.DDAA0084.IP)
[16:50:15] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[16:53:20] *** Quits: dreamer_ (dreamer_@90E8C08F.8480A87C.DDAA0084.IP) (Quit: Leaving)
[16:55:48] *** Joins: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP)
[16:55:48] <ghservo> [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/PyiA6g
[16:55:48] *** Parts: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP) ()
[16:55:48] *** Joins: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP)
[16:55:48] <ghservo> [13servo] 15bors-servo closed pull request #1878: Replace GetReflector by an implementation of ToJSValConvertible. (06master...06GetReflector) 02http://git.io/35uBLQ
[16:55:48] *** Parts: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP) ()
[17:07:33] *** Joins: victorporof_ (victorporo@B2068DC0.F60B0462.67AC9B1.IP)
[17:07:59] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[17:08:34] *** Quits: andelf (fledna@983BB788.FB767B38.1CD28F1D.IP) (Quit: This computer has gone to sleep)
[17:15:43] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:18:02] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[17:24:35] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[17:29:18] *** Quits: valentin (Thunderbir@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[17:30:06] <Manishearth> Ms2ger: rebased and fixed, I thingk
[17:30:09] <Manishearth> *think
[17:30:15] <Manishearth> I had to do it a bit differently
[17:30:24] <Ms2ger> I'll look in a bit
[17:30:25] *** eatkinson-away is now known as eatkinson
[17:30:31] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:30:48] * Ms2ger wonders if he should submit his cv as a screenshot of it rendered in Servo
[17:31:31] <Manishearth> lol
[17:32:21] <Manishearth> Ms2ger: you should reference all the commits you had to make to have the cv render properly as well
[17:32:34] <Manishearth> "I wrote 500 lines of code to get this CV to you"
[17:32:37] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[17:32:55] <Manishearth> Though servo rendering seems to work pretty well now :D
[17:33:06] <larsberg> Alternatively, you could just write "I am ms2ger" in the resume field :-)
[17:33:11] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[17:33:19] <Ms2ger> It actually renders nearly perfectly out of the box
[17:33:27] <Ms2ger> And I'm not going to fix floats :)
[17:33:32] <Manishearth> For the heck of it I checked out an old version of servo. Wow.
[17:33:48] <Manishearth> larsberg: Exactly!
[17:34:09] <Ms2ger> larsberg, I've been made to understand that I should write a cv
[17:34:48] <Ms2ger> Oh, and list bullets, but it looks fine without
[17:35:08] <Manishearth> Name: Ms2ger. Previous work experience: Being Ms2ger. Where do you see yourself in 5 years? I see myself as Ms2ger.
[17:35:26] <Manishearth> that should bea good enough cv/interview :p
[17:35:36] <Ms2ger> "However, in 10 years, I see myself as Manishearth, just to confuse you"
[17:35:46] *** eatkinson is now known as eatkinson-away
[17:35:49] <Manishearth> lol
[17:35:53] <Manishearth> you do not want to be me
[17:35:54] *** ahal is now known as ahal|afk
[17:35:54] <Manishearth> :p
[17:38:41] *** eatkinson-away is now known as eatkinson
[17:39:07] <Manishearth> I am *still* marvelling over the concept of named lifetimes in Rust.
[17:39:16] <Manishearth> I don't understand it completely, but still.
[17:40:23] <jgraham> What the hell kind of application process would ask you to submit written answers to questions like "where do you see yourself in five years"?
[17:40:32] <kmc> Manishearth: it's pretty awesome :)
[17:40:38] <Manishearth> jgraham: I hope none.
[17:40:49] *** Quits: bholley (bholley@32EFA1FF.F0338C73.AECC5372.IP) (Ping timeout)
[17:40:55] * Manishearth has not yet had to write any applications, has no clue what they contain
[17:41:25] <Manishearth> Make that programming apps. I have written some for physics. Which are pretty freeform :D
[17:41:43] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[17:41:54] <Ms2ger> In five years, I intend to still be subject to gravity
[17:42:04] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[17:42:41] <kmc> 'Indeed, Mr. Cray had so little patience for traditional corporate activities, Mr. Norris once recalled that when he asked Mr. Cray to write a five-year plan for C.D.C., his response was: "Five-year goal: Build the biggest computer in the world. One-year goal: Achieve one-fifth of the above."'
[17:42:56] <Manishearth> kmc: Someone should make a presentation on how many ways Rust prevents you from you shooting yourself in the foot
[17:43:09] <kmc> there have been some of those
[17:43:16] <Ms2ger> Build the biggest one fifth of a computer in the world?
[17:43:46] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[17:44:54] *** Quits: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com) (Quit: computer sleep)
[17:46:28] <kmc> Manishearth: http://smallcultfollowing.com/babysteps/pubs/2013.07.17-NEU.pdf
[17:46:31] *** Joins: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com)
[17:48:18] <kmc> highly recommend those slides
[17:49:33] <Manishearth> kmc: thanks :D
[17:50:29] <kmc> if you get stuck on any of the programming languages theory jargon, don't hesitate to ask questions (I don't know what your background with PLT is)
[17:51:25] <Manishearth> Extending http://www.thealmightyguru.com/Humor/Docs/ShootYourselfInTheFoot.html, "Rust: you try to shoot yourself in the foot, you are able to find some awesome guns, but you're unable to point them at yourself let alone pull the trigger" :P
[17:52:00] <Manishearth> kmc: Uh, I've done some scattered reading out of interest. I'm a physics student who enjoys programming (a lot).
[17:52:55] <Manishearth> I will ask though, thanks :)
[17:54:56] *** Joins: tikue (tkuehn@CB7FC854.FAD414BA.D74CC41D.IP)
[17:55:27] <kmc> cool :)
[17:55:58] <kmc> I think it's a pretty clear presentation, but it was written for a PLT audience
[17:58:30] <Manishearth> http://words.steveklabnik.com/pointers-in-rust-a-guide seems to be a good prereq
[17:58:40] * Manishearth has coursework to complete first
[18:02:52] <kmc> SimonSapin: I'm looking at rust-cssparser for design guidance on the HTML parser
[18:03:00] <kmc> are you happy with the decision to make the tokenizer an iterator?
[18:04:10] <kmc> the alternative I'm considering is like Gecko's HTML parser: calling a trait method to emit a token, and having the tree builder implement that trait
[18:05:00] <SimonSapin> kmc: I end up calling the .next() method directly more often than using a for loop or anything. But if you have something with a .next() method anyway, there is not much of a reason not to make an iterator
[18:05:11] <kmc> yeah
[18:05:12] <SimonSapin> oh, you mean a "pull" vs. "push" approach
[18:05:25] <kmc> I guess that's partly a question of whether the tokenizer or the tree builder should be more explicitly a state machine
[18:05:35] <kmc> but I think they both will be explicit state machines, anyway
[18:05:40] <kmc> because that's how the spec is written
[18:05:58] <jgraham> FWIW python-html5lib uses the tokenizer as an iterator
[18:06:06] <kmc> there's some appeal to not actually representing the tokens as data
[18:06:19] <SimonSapin> kmc: how so?
[18:06:20] <jgraham> I wouldn't look at that for performance-sensitive design advice though
[18:06:55] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Quit: Computer has gone to sleep.)
[18:07:18] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[18:07:43] <jdm> bhearsum: do you know what's happening with bug 968375?
[18:07:44] *** Quits: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com) (Quit: computer sleep)
[18:08:09] *** ahal|afk is now known as ahal
[18:08:24] <bhearsum> jdm: jhopkins has been out for personal reasons
[18:08:27] *** Quits: enos (jkingyens@moz-B0C1B161.hsd1.ca.comcast.net) (Ping timeout)
[18:08:31] <SimonSapin> about pushing vs. pulling data, what matters more than the tokenizer itself is how it interacts with everything else. Ie. is the network layer doing blocking reads, or is it notified somehow when thereâ€™s data available?
[18:08:31] <bhearsum> i think he should be back sometime this week
[18:08:31] <jdm> ah, I see
[18:08:56] <kmc> SimonSapin: performance maybe, and also no need define another enum type (but you define a trait with analogous type signatures, so maybe it's about the same)
[18:09:00] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[18:09:00] <kmc> SimonSapin: that's a good point
[18:09:31] <SimonSapin> kmc: what would you have instead of a data type for tokens?
[18:09:36] *** Joins: enos (jkingyens@moz-B0C1B161.hsd1.ca.comcast.net)
[18:09:51] *** Joins: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com)
[18:12:04] *** Quits: jackneill (jackneill@moz-F8100363.pool.digikabel.hu) (Connection reset by peer)
[18:12:10] <kmc> trait TokenSink { fn startTag(name: ~str, attrs: Attrs, self_closing: bool); fn endTag(name: ~str); ... }
[18:12:30] <eddyb> ahh, callbacks
[18:12:35] <kmc> this is how gecko's parser works
[18:12:42] <eddyb> reminds me of hard to use XML parsers
[18:12:58] <eddyb> but with traits... you can probably get some composable action going
[18:13:02] *** Joins: jackneill (jackneill@moz-F8100363.pool.digikabel.hu)
[18:15:06] <SimonSapin> kmc: looks like an internal iterator
[18:15:19] <kmc> so there are multiple events that can feed data into the beginning of the pipeline, e.g. network reads, document.write
[18:15:27] <kmc> which suggests a consistent "push" style
[18:15:48] <kmc> buffering only when necessary
[18:16:25] <kmc> the data is probably coming as messages from different tasks
[18:16:50] <SimonSapin> good point
[18:16:58] <SimonSapin> though "multiple" is really two
[18:17:39] <kmc> there are also events which unblock the parser
[18:19:04] <SimonSapin> unblock?
[18:19:17] <kmc> in fact the spec wires the tokenizer into the browser event loop: "Block the tokenizer for this instance of the HTML parser, such that the event loop will not run tasks that invoke the tokenizer."
[18:20:26] <larsberg> there's a bugzilla bug tracking the dev-servo mailing list not copying to google groups (affecting others, too): https://bugzilla.mozilla.org/show_bug.cgi?id=982177
[18:20:40] <kmc> thanks
[18:21:10] <jdm> kmc: that should be fairly easy to integrate with the planned task source architecture for the event loop
[18:21:25] *** Quits: Savago (Savago@176221C0.E820043D.D4C04133.IP) (Quit: Savago)
[18:21:38] <kmc> jdm: is there some writeup about that plan?
[18:21:50] <Ms2ger> Doesn't jdm's head count?
[18:22:52] <jdm> kmc: just https://github.com/mozilla/servo/issues/503
[18:22:53] <crowbot> Issue #503: Split kitchen-sink "dom channel" into finer-grained channels - https://github.com/mozilla/servo/issues/503
[18:25:04] <abinader> Ms2ger: I've started working on caching last HTMLCollection
[18:25:47] <abinader> however I'm wondering how could we store a reference to JS<Element> statically
[18:26:23] <abinader> it seems I need a 'a lifetime name
[18:26:40] <jdm> yeah, I don't expect that to work out well
[18:27:04] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:27:04] *** ChanServ sets mode: +o brson
[18:27:12] <Ms2ger> Probably store a JS<>, not a reference to one?
[18:27:13] *** Quits: stumpart (stumpart@moz-93393D0A.hsd1.ca.comcast.net) (Quit: stumpart)
[18:28:05] <abinader> right
[18:30:25] *** Joins: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net)
[18:30:56] *** Quits: bjz_ (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[18:31:15] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[18:31:49] <jack> kmc: have you thought about how to support speculation or parallel parsing? specifically we want to be able to scan ahead for resource urls to start loading.
[18:32:13] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[18:32:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[18:32:39] <kmc> a bit, yeah
[18:34:07] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[18:34:18] <kmc> when </script> blocks parsing, Gecko spins up a new instance of the tokenizer + tree builder to speculatively parse the rest of the document
[18:34:48] *** Parts: Ms2ger (Ms2ger@73E4AB59.751D2A92.F15B0BB3.IP) (Leaving)
[18:34:48] <kmc> depending on the result of script execution, the resulting tree may or may not be usable, but it will prefetch resources in any case
[18:34:53] *** Joins: Ms2ger (Ms2ger@73E4AB59.751D2A92.F15B0BB3.IP)
[18:35:11] <kmc> I think in Gecko that's already done in parallel, too
[18:35:26] *** Joins: hoverbea_ (hoverbear@moz-AFB2E9CC.wireless.uvic.ca)
[18:35:30] <kmc> (I mean, it sort of doesn't make sense otherwise)
[18:35:59] <kmc> so I imagine we would do approximately the same, but if there are reasons to change that approach we can discuss them
[18:35:59] <Ms2ger> HTML parsing is usually off the main thread
[18:36:01] *** Quits: hoverbear (hoverbear@moz-AFB2E9CC.wireless.uvic.ca) (Ping timeout)
[18:36:08] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[18:36:19] <kmc> right, hsivonen is currently landing a patch to move it back to the main thread just for document.write
[18:36:37] <kmc> and cautioned that we should get that right from the beginning
[18:36:48] <kmc> which i think will be straightforward
[18:36:59] <eddyb> why has document.write survived?
[18:37:02] <kmc> (well, document.write and innerHTML and friends)
[18:37:07] <kmc> eddyb: because people use it.
[18:37:13] <Ms2ger> Because ... what he saud
[18:37:14] <Ms2ger> said
[18:37:27] <eddyb> I wish we could just do what jQuery 2.0 did. but for everything like that
[18:37:36] <kmc> common use case is a <script> that talks to an ad service and then document.write()s an ad <iframe> right after the script
[18:37:47] <Ms2ger> eddyb, you mean XHTML 2.0?
[18:37:54] <eddyb> HTML6 aka "screw backwards compat"
[18:37:58] <eddyb> Ms2ger: ah, already been done?
[18:38:00] <Ms2ger> Yep
[18:38:20] <Ms2ger> And failed, which is why you didn't know it :)
[18:38:32] <eddyb> I may have heard of it
[18:38:56] <eddyb> kmc: document.body.appendChild?
[18:39:19] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[18:39:21] <Ms2ger> That's "hard"
[18:39:22] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:39:23] *** ChanServ sets mode: +o brson
[18:39:29] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[18:39:48] *** Quits: victorporof_ (victorporo@B2068DC0.F60B0462.67AC9B1.IP) (Ping timeout)
[18:40:10] <eddyb> it's a bit amusing how JS/webdev beginners try to use document.write from non-load-time JS code
[18:40:15] <eddyb> and it just doesn't do anything at all
[18:40:23] <eddyb> "why my code not work???"
[18:41:09] <kmc> the alternative is something like  <script id="put-ad-here">var elt = document.createElement('div'); elt.innerHTML = get_ad(); var me = document.getElementById('put-ad-here'); me.parentNode.insertBefore(elt, me);</script>
[18:41:10] *** Joins: Savago (Savago@176221C0.E820043D.D4C04133.IP)
[18:41:43] <kmc> not that bad, but harder than document.write(get_ad());
[18:41:49] <eddyb> IIFE. if that's the right acronym
[18:42:43] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[18:42:49] <kmc> I still wish people would do it the hard way, but realistically they won't as long as the easy way works
[18:43:01] <eddyb> (function(W, D){var e = D.createElement('div'); /*etc.*/})(this, this.document);
[18:44:11] <kmc> and the easy way isn't any slower on existing browser engines, as long as the document.write() content is a well behaved tree fragment
[18:44:21] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:44:21] *** ChanServ sets mode: +o brson
[18:44:42] <kmc> async loading of ads would be better of course, but more work for the site developer
[18:45:17] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:45:32] *** Quits: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[18:47:07] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[18:47:52] <Ms2ger> jdm, rebased https://github.com/mozilla/servo/pull/1875
[18:48:02] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[18:52:45] *** Joins: ghservo (ghservo@49477F7E.6A2AE50.F3114085.IP)
[18:52:46] <ghservo> [13servo] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/G75xAQ
[18:52:46] *** Parts: ghservo (ghservo@49477F7E.6A2AE50.F3114085.IP) ()
[18:52:47] *** Joins: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP)
[18:52:47] <ghservo> [13servo] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/6xXM5w
[18:52:47] <ghservo> 13servo/06auto 1406f9afd 15Ms2ger: Completely rewrite the code to convert JSVals to unions....
[18:52:47] <ghservo> 13servo/06auto 148c1f6bc 15bors-servo: auto merge of #1875 : Ms2ger/servo/unions, r=jdm...
[18:52:48] *** Parts: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP) ()
[18:54:46] *** Quits: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse_)
[18:57:42] *** Joins: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[19:03:56] *** ahal is now known as ahal|brb
[19:04:52] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[19:06:32] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[19:06:34] *** Joins: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net)
[19:14:08] *** eatkinson is now known as eatkinson-away
[19:15:00] <mihneadb> jdm: hey :) ping
[19:15:06] <jdm> hey min
[19:15:08] <jdm> grr
[19:15:10] <jdm> mihneadb: 
[19:15:31] <mihneadb> I noticed the discussion on yammer about keeping track of pull requests
[19:16:50] *** Joins: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP)
[19:16:50] <ghservo> [13servo] 15bors-servo closed pull request #1875: Completely rewrite the code to convert JSVals to unions. (06master...06unions) 02http://git.io/LWI5Pg
[19:16:50] *** Parts: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP) ()
[19:16:54] *** Joins: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP)
[19:16:54] <ghservo> [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/6xXM5w
[19:16:54] *** Parts: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP) ()
[19:17:00] <mihneadb> I wanted to mention that I'm working on an open source dashboard for keeping track of a github project's evolution. I'm mostly trying to find what's useful now, but here's a demo dashboard (it doesn't have too much history) for servo: http://elasticboard.mihneadb.net/#/mozilla/servo and there's a shinier landing page here: http://elasticboard.mihneadb.net/landing.html
[19:17:13] <mihneadb> any sort of feedback (or maybe you would even be interested in using it) would be great :)
[19:18:24] <jdm> ooh
[19:18:46] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[19:19:04] <jdm> mmm, per-project timeline
[19:19:05] <jdm> that's nice
[19:19:40] <mihneadb> it's easy to deploy, there's a docker container so it's just one line
[19:21:15] <kmc> nice!
[19:21:21] <kmc> there's some useful stuff here, and it looks great
[19:21:35] <jdm> I wonder what "servo" in the active people means
[19:22:04] *** ahal|brb is now known as ahal
[19:22:24] <kmc> i'm guessing a parse error splitting "bors-servo" into two users
[19:22:25] <mihneadb> jdm: good question, I'll check
[19:22:41] <kmc> also happens with "hoppipolla-critic-bot"
[19:22:50] <mihneadb> oh right
[19:23:08] <mihneadb> thanks, will check & fix
[19:23:14] *** Joins: Jayflux (Jason@moz-33214257.as13285.net)
[19:23:57] *** Quits: dbaron (dbaron@6E6C815B.27376607.189F3E15.IP) (Ping timeout)
[19:24:39] <mihneadb> other than that, would you be interested in maybe giving it a try? :)
[19:25:56] <jdm> I'll add it to my daily workflow and see how it goes
[19:26:03] <jdm> could be nicer than reading everything on github
[19:26:20] <jdm> I can imagine it being useful for people who aren't already subscribed to all servo activity
[19:27:10] <mihneadb> jdm: right, and the idea would be to spend less time than going through all the github data yourself
[19:28:00] <mihneadb> jdm: the dashboard for servo that I showed is a temporary one (it's just a demo site), can you try and run it yourself? Or if it would help I guess I can make it "permanent" on the demo site
[19:28:36] <jdm> oh, I see
[19:28:55] <jdm> the permanent demo would definitely help
[19:29:01] <mihneadb> ok, I'll do that
[19:29:08] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[19:29:24] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[19:31:04] *** Quits: hoverbea_ (hoverbear@moz-AFB2E9CC.wireless.uvic.ca) (Quit: Taking a nap.)
[19:31:07] *** Joins: hoverbear (hoverbear@moz-AFB2E9CC.wireless.uvic.ca)
[19:31:16] *** Quits: hoverbear (hoverbear@moz-AFB2E9CC.wireless.uvic.ca) (Quit: hoverbear)
[19:31:18] *** Joins: hoverbear (hoverbear@moz-AFB2E9CC.wireless.uvic.ca)
[19:31:26] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[19:31:30] *** Quits: hoverbear (hoverbear@moz-AFB2E9CC.wireless.uvic.ca) (Quit: Taking a nap.)
[19:31:34] *** Joins: hoverbear (hoverbear@moz-AFB2E9CC.wireless.uvic.ca)
[19:31:39] *** Quits: hoverbear (hoverbear@moz-AFB2E9CC.wireless.uvic.ca) (Input/output error)
[19:31:40] <mihneadb> jdm: done :) please ping me with any feedback you have (via issue or email, however you prefer)
[19:32:31] <Ms2ger> Ohai mihneadb 
[19:32:37] <mihneadb> hi Ms2ger 
[19:32:53] <mihneadb> kmc: that bug seems to be because of the way elasticsearch treats dashes
[19:33:27] *** Joins: hoverbear (hoverbear@moz-AFB2E9CC.wireless.uvic.ca)
[19:34:53] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[19:35:41] <Ms2ger> task 'task '<unnamed>' failed at '<unnamed>' failed at 'RefCell<T> already mutably borrowed', RefCell<T> already mutably borrowed'
[19:35:46] <Ms2ger> jdm, did you want a bt for that?
[19:35:54] <jdm> yes yes yes
[19:36:02] <Ms2ger> Oh, html_element_in_html_document
[19:36:09] <eddyb> nested failures for nested^2 borrows?
[19:36:09] <jdm> yeah
[19:36:14] <jdm> sounds like we need to address that stat
[19:36:43] *** Quits: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[19:36:56] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:36:58] <Ms2ger> More unsafe magic?
[19:37:37] <jdm> Ms2ger: or make owner_doc return &JS<T>
[19:37:43] <jdm> that would be my preference
[19:38:03] <Ms2ger> Hmm
[19:38:05] <Ms2ger> I can try that
[19:38:07] <jdm> Ms2ger: got STR, by chance?
[19:38:14] <Ms2ger> "Load the DOM spec"
[19:38:50] <Ms2ger> (From a local checkout with scripts commented out)
[19:39:00] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:39:11] <jdm> heh
[19:39:17] <kmc> is http://svn.whatwg.org/webapps/source the ultimate "source code" for the HTML spec?
[19:39:48] <Ms2ger> Yes
[19:41:27] <Ms2ger> Yay, borrowck
[19:43:44] <eddyb> caw caw
[19:44:19] <abinader> Ms2ger: https://github.com/mozilla/servo/pull/1852 squashed & rebased :-)
[19:45:44] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:48:06] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:48:46] <Ms2ger> We should implement a monospace font
[19:49:02] <Ms2ger> Also, why is the background of the DOM spec gray?
[19:49:56] <Ms2ger> And why does it use 100% cpu
[19:50:38] <Ms2ger> jdm, okay, that didn't help
[19:50:47] <jdm> say wha?
[19:50:48] <Ms2ger> Or help much
[19:50:59] <jdm> backtrace?
[19:52:24] <Ms2ger> https://pastebin.mozilla.org/4554400 https://pastebin.mozilla.org/4554411
[19:54:03] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[19:58:16] <jdm> hrm
[19:58:46] *** Joins: victorporof_ (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[19:59:00] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[19:59:30] <jdm> Ms2ger: what's the failure?
[19:59:45] <Ms2ger> task '<unnamed>' failed at 'assertion failed: self.parent.borrow != WRITING && self.parent.borrow != UNUSED'
[19:59:53] <kmc> hm, the tree builder spec is written as a switch on current state followed by a switch on text token
[20:00:07] <kmc> if we have token callbacks like Gecko then we need to transpose that structure
[20:00:31] <Ms2ger> Hmm, I thought it was webkit that switched around the switches
[20:00:36] *** Quits: doomlord__ (servitor@moz-99BE89EC.range86-184.btcentralplus.com) (Quit: Leaving)
[20:00:45] <jdm> Ms2ger: huh, so I guess we're styling the document node at the same time or something? that's weird
[20:01:16] *** Quits: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca) (Quit: canhtak)
[20:01:41] <Ms2ger> I see servo::layout::flow::Descendants::push_descendants
[20:02:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[20:02:56] <jdm> Ms2ger: so the other solution here is to add a flag to each node indicating that it's in an html document
[20:03:09] <jdm> then we don't touch any owner document
[20:04:08] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[20:05:52] *** Joins: dbaron (dbaron@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[20:06:05] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:07:33] <Ms2ger> jdm, :/
[20:08:28] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[20:15:28] *** Quits: jackneill (jackneill@moz-F8100363.pool.digikabel.hu) (Quit: WeeChat 0.4.3)
[20:15:43] <Ms2ger> jdm, any use in keeping this open in gdb?
[20:15:49] <jdm> don't think so
[20:16:47] *** Joins: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP)
[20:16:47] <ghservo> [13servo] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/4AxSCw
[20:16:47] <ghservo> 13servo/06auto 14d5a1a36 15Bruno de Oliveira Abinader: Implement Node.cloneNode...
[20:16:47] <ghservo> 13servo/06auto 141c106c6 15bors-servo: auto merge of #1852 : brunoabinader/servo/node-clonenode, r=Ms2ger...
[20:16:48] *** Parts: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP) ()
[20:16:50] * Ms2ger ponders what to do next
[20:20:17] *** Joins: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com)
[20:21:38] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[20:22:30] *** Quits: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net) (Ping timeout)
[20:22:56] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:24:05] <abinader> Ms2ger: I'm using unsafe {}'s to handle mutable static... I wonder if we could avoid that
[20:24:26] <Ms2ger> Wait, mutable static? What?
[20:24:47] <abinader> yeah, for caching the last HTMLCollection created
[20:25:25] <Ms2ger> So...
[20:25:43] <tinco> does rust make promises about atomic pointer operations?
[20:25:51] <Ms2ger> while (true) { document.links; document.embeds; } recreates them anew every time?
[20:26:18] <abinader> yes - this is what I'm working to avoid
[20:26:20] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[20:26:20] *** ChanServ sets mode: +o pcwalton
[20:26:31] <Ms2ger> And doing document.links in two tabs will race and leak information?
[20:26:49] <Ms2ger> Let's just stick the collection in a member of the document
[20:27:15] <jdm> yeah, static is the wrong level of granularity here
[20:27:34] <abinader> I see - so 1 cacheable HTMLCollection per document
[20:27:42] <Ms2ger> One of each :)
[20:27:43] <jdm> tinco: can you be more specific?
[20:27:47] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[20:28:35] <Ms2ger> abinader, basically, what you're implementing should be black-box indistinguishable from creating the collections when the document is created
[20:28:37] <abinader> hmm, lemme upload my current work to a branch so you could check if the "one of each" you mean matches my definition
[20:29:10] <abinader> yes - right now the whole logic is contained inside HTMLCollection::create()
[20:29:21] <Ms2ger> struct Document { ..., links: Option<JS<HTMLCollection>>, embeds: Option<JS<HTMLCollection>>, ... à
[20:29:22] <Ms2ger> }
[20:29:29] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Input/output error)
[20:29:46] *** Quits: dranov (dranov@9D9CC3FE.F39E9F97.FCAAE698.IP) (Ping timeout)
[20:30:27] <tinco> jdm: oh I was thinking about the mutable static abinader was thinking about, if it is a reference to a HTMLCollection object, I wonder if there was a multithreading safety problem if it was written to and read from concurrently
[20:30:53] <jdm> tinco: quite likely yes
[20:30:56] <tinco> like C# promises that writing a reference is atomic, it can't be half the old value and half the new value
[20:31:17] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[20:31:23] *** Joins: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP)
[20:31:23] <ghservo> [13servo] 15Ms2ger opened pull request #1887: Merge CGThing.declare and CGThing.define. (06master...06merge-declare-define) 02http://git.io/y67Rtg
[20:31:23] *** Parts: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP) ()
[20:31:59] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[20:32:22] <abinader> Ms2ger: please have a quick look at https://github.com/brunoabinader/servo/commit/b5ec3d4feec75bf63b07f76ea86a52c5e4ee8df1 and https://github.com/brunoabinader/servo/commit/0cfae1275fd0417358d0a2bc516f237a39e2a33e
[20:32:50] <abinader> the former moves all HTMLCollection creation logic inside htmlcollection.rs, adding a typeid enum called CollectionTypeId
[20:33:03] <Ms2ger> No :)
[20:34:20] <Ms2ger> What you actually want is to create the collections as before, but store them in a member of the document on the first access
[20:35:00] <abinader> I see - what I wanted to do was actually trying to avoid that :D
[20:35:14] <jdm> it is no use running
[20:35:14] <abinader> but ok - I guess this also applies to element
[20:35:34] <Ms2ger> Hmm
[20:35:49] <abinader> and all the html*elements that has a function that returns an HTMLCollection
[20:35:57] <Ms2ger> Actually, let's not cache the methods, just the attributes
[20:36:07] <jdm> yep
[20:36:37] <Ms2ger> And then someone needs to implement live collections
[20:36:45] <abinader> like I did on the latter patch ( https://github.com/brunoabinader/servo/commit/0cfae1275fd0417358d0a2bc516f237a39e2a33e ) by storing root and HTMLCollectionTypeId?
[20:36:57] <abinader> they seem live to me already, Ms2ger 
[20:37:19] <abinader> see content test for htmlcollection, #4 I guess
[20:37:19] <crowbot> Issue #4: Bind harfbuzz - https://github.com/mozilla/servo/issues/4
[20:37:20] <abinader> lemme check
[20:37:35] <Ms2ger> How? They store a static ~[JS<Element>]
[20:37:46] <jdm> live means that the collection object should change if the underlying document changes
[20:37:50] <jdm> that does not happen
[20:37:59] <jdm> s/the/all/
[20:38:00] <abinader> nope, test2
[20:38:35] <abinader> https://www.irccloud.com/pastebin/QVe3cgqq
[20:38:46] <abinader> so this isn't exactly "live" ?
[20:39:04] <Ms2ger> Why is irccloud-pastebin so slow?
[20:39:16] <abinader> I can upload it to mozilla pastebin :D
[20:39:17] <jdm> abinader: childNodes is a NodeList which is live
[20:39:25] <jdm> the actual htmlcollection is not changing at all
[20:39:50] <Ms2ger> Right
[20:39:53] <abinader> hmm
[20:39:57] <abinader> I see
[20:45:00] <Ms2ger> jdm, I hope you like https://github.com/mozilla/servo/pull/1887 :)
[20:50:24] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[20:51:00] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[20:55:46] *** Joins: ghservo (ghservo@38D6F008.6A2AE50.F3114085.IP)
[20:55:46] <ghservo> [13servo] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/Jze0kg
[20:55:46] <ghservo> 13servo/06auto 14dd160b6 15Ms2ger: Merge CGThing.declare and CGThing.define....
[20:55:46] <ghservo> 13servo/06auto 147b8a0fd 15bors-servo: auto merge of #1887 : Ms2ger/servo/merge-declare-define, r=jdm...
[20:55:47] *** Parts: ghservo (ghservo@38D6F008.6A2AE50.F3114085.IP) ()
[20:57:02] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: pcwalton)
[20:57:47] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[20:58:54] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Client exited)
[20:59:21] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[20:59:21] *** ChanServ sets mode: +o pcwalton
[20:59:27] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[20:59:27] *** ChanServ sets mode: +o brson
[21:02:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[21:03:22] *** Joins: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca)
[21:04:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[21:05:16] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[21:05:17] *** ChanServ sets mode: +qo dherman dherman
[21:07:08] *** Joins: eholk (eric@moz-F70D5031.hsd1.in.comcast.net)
[21:11:26] *** bhearsum is now known as bhearsum|afk
[21:13:07] *** Quits: eholk (eric@moz-F70D5031.hsd1.in.comcast.net) (Quit: Konversation terminated!)
[21:14:26] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Quit: Bye)
[21:16:53] *** Joins: ghservo (ghservo@49477F7E.6A2AE50.F3114085.IP)
[21:16:53] <ghservo> [13servo] 15bors-servo closed pull request #1887: Merge CGThing.declare and CGThing.define. (06master...06merge-declare-define) 02http://git.io/y67Rtg
[21:16:53] *** Parts: ghservo (ghservo@49477F7E.6A2AE50.F3114085.IP) ()
[21:20:37] *** Quits: system64 (uid17738@moz-A42E5B7B.irccloud.com) (Quit: Connection closed for inactivity)
[21:21:39] *** Quits: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca) (Quit: canhtak)
[21:22:46] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[21:28:16] *** Quits: enos (jkingyens@moz-B0C1B161.hsd1.ca.comcast.net) (Quit: enos)
[21:28:46] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[21:29:32] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[21:29:34] *** Joins: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca)
[21:30:35] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[21:30:47] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[21:32:03] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[21:34:15] *** Quits: Savago (Savago@176221C0.E820043D.D4C04133.IP) (Quit: Savago)
[21:38:10] *** Quits: Ms2ger (Ms2ger@73E4AB59.751D2A92.F15B0BB3.IP) (Quit: nn)
[21:42:20] *** Joins: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP)
[21:47:20] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Quit: Bye)
[21:48:46] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Ping timeout)
[21:49:41] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[21:49:41] *** ChanServ sets mode: +o jdm
[21:50:03] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[21:50:49] *** Quits: victorporof_ (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[21:51:40] *** Quits: hoverbear (hoverbear@moz-AFB2E9CC.wireless.uvic.ca) (Quit: Taking a nap.)
[21:51:55] *** Quits: sawrubh (uid6719@moz-5F4AA75A.irccloud.com) (Quit: Connection closed for inactivity)
[22:00:46] *** Joins: hoverbear (hoverbear@moz-AFB2E9CC.wireless.uvic.ca)
[22:02:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:04:07] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[22:05:52] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[22:07:09] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[22:07:09] *** ChanServ sets mode: +o brson
[22:11:20] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[22:15:09] *** Quits: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com) (Quit: Connection closed for inactivity)
[22:15:35] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[22:16:44] *** Joins: Diamond (dick@moz-80556682.ks.ks.cox.net)
[22:21:36] *** Quits: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com) (Quit: computer sleep)
[22:22:44] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:23:14] <pcwalton> jack: want to come down to MV tomorrow? :)
[22:24:44] *** Joins: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com)
[22:25:54] *** Quits: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com) (Connection reset by peer)
[22:26:01] *** Joins: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com)
[22:26:48] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[22:28:00] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[22:31:25] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[22:33:06] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[22:36:34] *** Quits: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com) (Quit: computer sleep)
[22:37:16] *** Joins: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com)
[22:37:52] *** Joins: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP)
[22:37:52] <ghservo> [13servo] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/u_dymA
[22:37:52] *** Parts: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP) ()
[22:38:17] *** Quits: ahal (ahal@moz-7DE89BF0.cable.teksavvy.com) (Ping timeout)
[22:39:03] *** Quits: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com) (Quit: computer sleep)
[22:39:10] *** Joins: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com)
[22:42:21] *** Quits: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com) (Connection reset by peer)
[22:43:35] *** Joins: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com)
[22:49:14] *** Quits: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca) (Quit: canhtak)
[22:49:52] *** Joins: victorporof_ (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[22:50:38] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[22:51:38] *** Quits: victorporof_ (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[22:52:25] *** Joins: askalski (akuda@2BA4E5A7.CC7751E8.6712E96B.IP)
[22:54:49] *** Quits: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com) (Quit: computer sleep)
[22:55:02] *** Joins: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com)
[22:57:42] *** Quits: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com) (Connection reset by peer)
[22:57:50] *** Joins: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com)
[22:58:02] *** Quits: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com) (Connection reset by peer)
[22:58:13] *** Joins: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com)
[22:59:03] *** Quits: askalski (akuda@2BA4E5A7.CC7751E8.6712E96B.IP) (Quit: Wychodzi)
[23:03:39] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Connection reset by peer)
[23:03:39] *** Joins: Jesse_ (jruderman@moz-BBE3ABD.mv.mozilla.com)
[23:04:20] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[23:05:32] *** Quits: Jesse_ (jruderman@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[23:06:07] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[23:07:27] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[23:09:34] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[23:09:55] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[23:09:58] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[23:11:34] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[23:11:41] *** Joins: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca)
[23:15:15] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Ping timeout)
[23:16:10] *** Joins: pcwalton (pcwalton@moz-BBE3ABD.mv.mozilla.com)
[23:16:11] *** ChanServ sets mode: +o pcwalton
[23:17:14] *** Quits: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com) (Quit: computer sleep)
[23:18:35] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[23:18:35] *** ChanServ sets mode: +qo dherman dherman
[23:19:12] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[23:20:38] *** Joins: valentin (Thunderbir@99369F58.AE152CC.FAF22AF7.IP)
[23:22:34] <pcwalton> hmmmmmmm
[23:22:37] <pcwalton> looks like races on the bots!
[23:22:56] *** Joins: ghservo (ghservo@38D6F008.6A2AE50.F3114085.IP)
[23:22:56] <ghservo> [13servo] 15bors-servo 04force-pushed 06auto from 14f1a6ab6 to 147b8a0fd: 02http://git.io/c8GovQ
[23:22:56] *** Parts: ghservo (ghservo@38D6F008.6A2AE50.F3114085.IP) ()
[23:22:57] *** Joins: ghservo (ghservo@5AC7F92B.6A2AE50.F3114085.IP)
[23:22:57] <ghservo> [13servo] 15bors-servo pushed 3 new commits to 06auto: 02http://git.io/HjDGHw
[23:22:57] <ghservo> 13servo/06auto 14e98c839 15S Pradeep Kumar: Add a trait for width and margin calculation....
[23:22:57] <ghservo> 13servo/06auto 149d510a7 15S Pradeep Kumar: Implement min-width and max-width for non-block flows....
[23:22:57] <ghservo> 13servo/06auto 149d5567b 15bors-servo: auto merge of #1872 : pradeep90/servo/calculate-width-trait, r=pcwalton...
[23:22:59] *** Parts: ghservo (ghservo@5AC7F92B.6A2AE50.F3114085.IP) ()
[23:23:00] <pcwalton> content tests are racy.
[23:24:59] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[23:27:37] *** Joins: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP)
[23:27:37] <ghservo> [13servo] 15pcwalton opened issue #1888: The use of RefCell in JS<T> seems bogus 02http://git.io/n6Cdxw
[23:27:37] *** Parts: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP) ()
[23:27:40] *** Quits: aurynj (Eon@C498BDEC.C264657C.C6282BC4.IP) (Quit: Leaving)
[23:28:13] *** Quits: hoverbear (hoverbear@moz-AFB2E9CC.wireless.uvic.ca) (Quit: Taking a nap.)
[23:28:31] *** Quits: valentin (Thunderbir@99369F58.AE152CC.FAF22AF7.IP) (Ping timeout)
[23:28:36] *** Joins: valentin (Thunderbir@99369F58.AE152CC.FAF22AF7.IP)
[23:32:07] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[23:32:56] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[23:34:10] <larsberg> pcwalton: jdm and I have been trying to track down those races. There's at least  #1886 and  #1857 , but there is also another OSX-only that I haven't been able to get a backtrace on (it's always a dynamic borrow failure that results in deadlock)
[23:34:10] <crowbot> Issue #1886: Race when loading the DOM spec - https://github.com/mozilla/servo/issues/1886
[23:34:10] <crowbot> Issue #1857: Intermittent content test failure on Linux - https://github.com/mozilla/servo/issues/1857
[23:34:29] <pcwalton> larsberg: is it reproducible?
[23:34:30] <jdm> larsberg: did you see ms2ger and I discussing it earlier?
[23:34:34] <larsberg> lack of scripting in lldb and my gdb on osx not being able to break on rust_fail has made it brutal
[23:34:36] <pcwalton> locally
[23:34:41] <pcwalton> oh, I can break on rust_fail
[23:34:43] <jdm> it's is_html_element_in_html_document calling owner_doc
[23:34:51] <pcwalton> aha
[23:34:54] <pcwalton> easy to fix then
[23:34:54] <jdm> and that clones a JS type and we get borrow errors
[23:35:09] <jdm> easy and ugly if we keep doing what we've been doing :(
[23:35:18] *** Joins: mccr8 (mccr8@moz-F6A7B612.dsl.dynamic.sonic.net)
[23:35:29] <jdm> oh wait, you listed the one ms2ger found
[23:35:31] <pcwalton> well, the ugliness should be contained if we stop adding methods that layout needs to call ;)
[23:35:55] <larsberg> jdm: Yes, I wasn't sure if there's a third one getting us or not from that conversation earlier
[23:35:58] <jdm> the other choice is adding a flag to all nodes that replaces the need to check the document
[23:36:22] <jdm> or at least all elements
[23:36:31] <pcwalton> jdm: I don't see any method named that
[23:36:47] <jdm> pcwalton: sorry, no is_ prefix
[23:36:57] <pcwalton> ah, ok
[23:37:12] <pcwalton> also, element.get_attr() is probably bogus
[23:37:30] <jdm> explain?
[23:37:31] <pcwalton> do we expect wrapper.rs to grow much?
[23:37:46] <pcwalton> there's a call to get_attr inside wrapper.rs as well that I bet needs to be get_attr_val_for_layout
[23:37:54] <pcwalton> in the same function where html_element_in_html_document is
[23:38:44] *** Quits: zmike (discomfito@moz-975BC507.hsd1.ct.comcast.net) (Ping timeout)
[23:38:57] <jdm> pcwalton: nope
[23:39:02] <jdm> pcwalton: http://mxr.mozilla.org/servo/source/src/components/main/layout/wrapper.rs#322
[23:39:17] <pcwalton> jdm: http://mxr.mozilla.org/servo/source/src/components/main/layout/wrapper.rs#232
[23:39:19] <pcwalton> that one
[23:39:25] <pcwalton> oh wait
[23:39:25] <jdm> pcwalton: I know, and it's calling the one I linked :)
[23:39:27] <pcwalton> that's LayoutElement
[23:39:28] <pcwalton> ah
[23:40:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[23:41:19] <pcwalton> well, at least the races so far have all been traceable to wrapper.rs
[23:41:23] <pcwalton> I'm fixing that issue now
[23:41:34] *** Quits: valentin (Thunderbir@99369F58.AE152CC.FAF22AF7.IP) (Ping timeout)
[23:41:41] *** Joins: valentin (Thunderbir@99369F58.AE152CC.FAF22AF7.IP)
[23:42:01] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[23:42:44] <pcwalton> jdm: I think we might be able to just remove borrow flags from DOM nodes perhaps
[23:42:52] <pcwalton> maybe for attrs
[23:42:55] *** Joins: victorporof_ (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[23:42:59] <jdm> pcwalton: I thought you said they were necessary?
[23:43:13] <pcwalton> wellâ€¦ they aren't necessary if you structure it like this
[23:43:28] <pcwalton> struct Node { parent: Cell<JS<Node>>, first_child: Cell<JS<Node>>, â€¦ }
[23:43:38] <pcwalton> i.e. wrap all mutable fields in Cell
[23:43:46] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Ping timeout)
[23:43:57] <pcwalton> once we have the full Deref trait (in a PR right now for Rustâ€¦ or maybe it landed?) those won't have any syntactic overhead
[23:44:22] <jdm> pcwalton: there's still the size overhead
[23:44:28] <pcwalton> Cell is freeeeeee :)
[23:44:31] <pcwalton> it's 0 cost
[23:44:43] <pcwalton> RefCell has the flags
[23:45:10] <jdm> Oh wait, we would want Cell<Option<JS<Node>>, not Option<Cell<JS<Node>>
[23:45:14] <pcwalton> yeah
[23:45:15] <jdm> so that would actually be free
[23:45:21] <pcwalton> well, either one should work.
[23:45:34] <pcwalton> actually, hmm.
[23:45:46] <pcwalton> maybe we should just make JS<T> always mutable
[23:46:14] <pcwalton> and always nullable
[23:46:29] <pcwalton> that way it's JS<T> with no borrow flags and no option overhead, yay!
[23:46:53] <pcwalton> as long as it's non copyable and everything JS<T> is inside is mutable (I think that's true?) then it should be OK.
[23:46:59] *** kimundi is now known as zz_kimundi
[23:47:33] <jdm> what do you mean by everything in JS<T> is mutable?
[23:47:44] <jdm> oh
[23:47:54] * jdm misread JS<T> is inside
[23:47:56] <pcwalton> I mean, that you can mutate a JS<T> to point to anything else
[23:48:02] <pcwalton> you just always can
[23:48:09] <jdm> hmm, interesting
[23:48:11] <pcwalton> not that whatever it points *at* is mutable
[23:48:17] <pcwalton> (but usually it will be)
[23:48:47] <pcwalton> then you wouldn't need borrow_mut(), JS<T> is just always borrowable to &Tâ€¦ if you root it first, of course.
[23:48:52] <jdm> but we still use Cell DOM types for dynamic mutable aliasing checks?
[23:49:02] <pcwalton> Cell has no dynamic mutable aliasing checks
[23:49:04] <pcwalton> that's the neat thing about it
[23:49:17] <pcwalton> it's not needed because there's nothing unsafe about itâ€¦
[23:49:31] <jdm> I thought that was a property we wanted/needed?
[23:49:48] <pcwalton> it's needed if you want to hand out pointers to &mut Node
[23:49:51] <jdm> oh, I see
[23:49:52] <jdm> right
[23:49:56] <pcwalton> if you want to hand out &mut Node references
[23:49:58] <pcwalton> but you could just hand out &Node
[23:50:02] <jdm> and now it's just get and set calls for each field?
[23:50:03] <pcwalton> and wrap every field in a Cell or a RefCell as appropriate
[23:50:04] <pcwalton> yeah
[23:50:10] <pcwalton> but with the Deref trait those become syntactically free
[23:50:17] <pcwalton> so it won't be annoying to use
[23:50:19] <jdm> that does sound appealing
[23:50:25] <pcwalton> and the overhead goes away
[23:50:37] <jdm> so what was this nullable thing?
[23:50:47] <pcwalton> oh, just that Option<JS<T>> probably has 2 words now, right?
[23:50:50] <jdm> yes
[23:50:54] <pcwalton> you could fold it into one if JS<T> could be null
[23:51:02] <pcwalton> maybe JS<T> should hand back Option<T>
[23:51:14] <pcwalton> I mean, semantically in WebIDL every Object reference can be null anyway, right?
[23:51:19] <jdm> that sounds like it would complicate implementing Deref though
[23:51:25] <pcwalton> that's true, you'd have to pattern match
[23:51:27] <jdm> gross
[23:51:30] <jdm> super gross
[23:51:38] <pcwalton> but I don't think WebIDL has not-null annotations anyway, no?
[23:51:43] <jdm> it totally does
[23:51:45] <pcwalton> oh, it does?
[23:51:50] <jdm> HTMLElement? vs HTMLElement
[23:51:53] <pcwalton> aha, ok
[23:51:59] <pcwalton> MaybeJS<T> and JS<T> then ;)
[23:52:06] <pcwalton> MaybeJS<T> would just be Cell<JS<T>> or something
[23:52:36] <jdm> orrrrr we could fix https://github.com/mozilla/rust/issues/11303 and get Option<JS<T>> to be one word?
[23:52:37] <crowbot> Issue #11303: Nullable-pointer `Option`s aren't FFI-compatible with the base pointer types. - https://github.com/mozilla/rust/issues/11303
[23:52:50] <jdm> actually, riddle me this
[23:52:57] <pcwalton> yeah, we could try to fix that, I dunno how though
[23:52:58] *** Quits: valentin (Thunderbir@99369F58.AE152CC.FAF22AF7.IP) (Ping timeout)
[23:53:03] *** Joins: valentin (Thunderbir@99369F58.AE152CC.FAF22AF7.IP)
[23:53:14] <jdm> if JS<T> is *Cell<T> or something, don't we take advantage of that?
[23:53:25] * jdm is no longer quite sure what the inner type would be in this new scheme
[23:53:37] <pcwalton> I dunno if the null pointer optimization goes through structs though
[23:53:39] <pcwalton> so like
[23:53:44] <pcwalton> if you say
[23:53:46] <jdm> oh :(
[23:53:48] <pcwalton> struct MyPointer(*Thingy)
[23:53:55] <pcwalton> Option<MyPointer> may not be null pointer optimized
[23:53:57] <pcwalton> which is what you're hitting
[23:54:02] <pcwalton> maybe we should just fix that...
[23:54:09] <pcwalton> dunno if it has ABI implications
[23:54:24] <pcwalton> the C standards may conspire to make us unable to do that
[23:55:12] <jdm> so how could MaybeJS<T> be Cell<JS<T>>? What's the null value there?
[23:55:37] * jdm is really not keen on losing all of the nice Option methods and helpers
[23:55:43] <pcwalton> just transmute 0 to it
[23:55:43] *** Joins: ghservo (ghservo@49477F7E.6A2AE50.F3114085.IP)
[23:55:44] <ghservo> [13servo] 15bors-servo closed pull request #1872: Add a trait for width calculation (06master...06calculate-width-trait) 02http://git.io/LnCtRA
[23:55:44] *** Parts: ghservo (ghservo@49477F7E.6A2AE50.F3114085.IP) ()
[23:55:46] <pcwalton> yeah, you'd have to reimplement those
[23:55:48] <pcwalton> it's not nice
[23:57:45] *** Joins: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP)
[23:57:45] <ghservo> [13servo] 15jdm closed issue #1888: The use of RefCell in JS<T> seems bogus 02http://git.io/n6Cdxw
[23:57:45] *** Parts: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP) ()
