[00:02:42] <jdm> good lord, a single software watchpoint has rendered this debugging session completely unusable
[00:03:32] * jdm bets it also won't work because software watchpoints only operate for a single thread, apparently
[00:03:38] *** Quits: chmanchester (chmancheste@moz-lmo.64e.222.162.IP) (Connection closed)
[00:03:47] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[00:03:47] -ghservo- [13servo] 15bors-servo 04force-pushed 06auto from 149640c83 to 148e81122: 02http://git.io/A9I6iA
[00:03:47] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[00:03:48] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[00:03:48] -ghservo- [13servo] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/pyfr
[00:03:48] -ghservo- 13servo/06auto 148c5f9bb 15Peter Reid: Fix warnings in tests/reftest.rs
[00:03:48] -ghservo- 13servo/06auto 141a96798 15bors-servo: auto merge of #5177 : PeterReid/servo/issue5158, r=jdm...
[00:03:48] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[00:04:00] <Manishearth> Cell<Result<(),()>>
[00:04:02] <Manishearth> um, bool?
[00:04:09] <jdm> nevar
[00:04:12] <pcwalton> http://i.imgur.com/KTCXPG5.png close
[00:04:33] * pcwalton is suspicious about the pixel snapping
[00:04:51] <Manishearth> enum JdmsSpecialTwoState {True, False}
[00:05:07] <jdm> Trueish, MaybeFalse
[00:05:28] <Manishearth> jdm: you're not in Kansas^W Javascript anymore
[00:07:36] <Manishearth> fn fetch2(...
[00:07:38] * Manishearth approves
[00:07:41] <Manishearth> fetch all the things
[00:09:00] *** Joins: evanfarrar (evanfarrar@moz-lftg5l.east.verizon.net)
[00:11:36] <Manishearth> jdm: any particular reason for nesting a ton of impls and stuff inside a function?
[00:12:01] <jdm> Manishearth: it seemed sensible, given that their use is restricted to that function
[00:12:10] <jdm> keeps the logic in one place
[00:12:19] <Manishearth> jdm: yeah, but they're interleaved with regular function logic
[00:12:35] <jdm> I defer to the judgement of my reviewers
[00:12:42] <Manishearth> heh
[00:12:54] <Manishearth> I'm okay with this (find it strange, but readable)
[00:13:21] <Manishearth> I'm surprised impls can be placed in if blocks without issue
[00:13:33] * Manishearth wonders how the AST for that looks
[00:13:55] *** Quits: wldcordeiro (wldcordeiro@moz-h7mvf3.hmj8.a2nn.0007.2601.IP) (Ping timeout: 121 seconds)
[00:14:54] *** Quits: adu (ajr@moz-m9p.pdt.243.69.IP) (Client exited)
[00:15:29] *** Joins: Daniellynet_ (Cupcake@moz-bci30q.customer.tdc.net)
[00:15:46] *** Joins: Savago (Savago@moz-h1n.mju.244.17.IP)
[00:16:24] <Savago> pcwalton: tried to take some notes on the display list session (they are rough and unedited)
[00:16:25] <Savago> https://gist.github.com/Adenilson/9b8896ba211f5cc188de
[00:17:23] *** Quits: Daniellynet (Cupcake@moz-bci30q.customer.tdc.net) (Ping timeout: 121 seconds)
[00:17:49] <pcwalton> interesting, basically that's all the same conclusions we came to
[00:18:01] <pcwalton> http://robert.ocallahan.org/2005/11/frame-display-lists_03.html
[00:18:05] <pcwalton> well, that roc came to in 2005
[00:18:46] <Manishearth> jdm: wait a sec; just noticed
[00:18:57] <Manishearth> how come notify_error_and_return! doesn't fall afoul of hygeine?
[00:19:20] <Manishearth> or does hygeine now only work on new bindings
[00:19:39] * jdm shrugs
[00:19:58] <Manishearth> (if that's the case kmc might get toremove the `self` hack in h5e macros)
[00:20:22] * jdm disembarks
[00:20:23] *** Quits: jdm (jdm@moz-4vu.06r.98.75.IP) (Quit: )
[00:20:46] *** Quits: MrZeus (Orestes@moz-fec8v7.as13285.net) (Quit: Leaving)
[00:20:50] *** Quits: logbot (logbot@moz-4j4idd.glob.com.au) (Ping timeout: 121 seconds)
[00:21:45] <pcwalton> yay for display list printing
[00:22:00] * pcwalton goes to enhance it with more border information
[00:22:04] <pcwalton> need to track down pixel snapping problems
[00:22:09] *** Quits: eibwen (eibwen@moz-i37.e5n.231.217.IP) (Ping timeout: 121 seconds)
[00:23:45] *** Parts: larsberg (sid16141@moz-fnneme.uxbridge.irccloud.com) ("")
[00:25:34] <pcwalton> #### BorderClass(T30px R30px B30px, L30px) @ Rect(112pxÃ—109.983333px at (61px,58.983333px)).
[00:25:36] <pcwalton> rounding error!!!!!!!
[00:26:01] *** Quits: jlembeck (jlembeck@moz-gh926i.wa.comcast.net) (A TLS packet with unexpected length was received.)
[00:28:27] <Savago> pcwalton: that means that the flowtree calculated it wrong? Or it happened while building the display list?
[00:28:32] <pcwalton> not sure
[00:29:01] <Savago> You can also dump the flowtree.
[00:29:44] <Savago> -Z dump-flow-tree
[00:33:42] *** Joins: bjwbell (user@moz-5rbuu3.frokca.sbcglobal.net)
[00:34:20] <pcwalton> hmmm, still looks wrong if I get set the width and height such that it comes out in .5 increments and the bottom border in the DL is at precisely the same location
[00:34:28] <pcwalton> guess I should dump the azure commands
[00:35:52] *** Joins: chmanchester (Chris@moz-e7ufq6.2rkg.9kg1.0101.2620.IP)
[00:36:16] *** Joins: jlembeck (jlembeck@moz-gh926i.wa.comcast.net)
[00:39:47] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[00:39:47] -ghservo- [13servo] 15bors-servo closed pull request #5177: Fix warnings in tests/reftest.rs (06master...06issue5158) 02http://git.io/pOt5
[00:39:47] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[00:39:51] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[00:39:51] -ghservo- [13servo] 15bors-servo closed issue #5158: Fix warnings in tests/reftests.rs 02http://git.io/xNzm
[00:39:51] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[00:42:27] <Savago> pcwalton: I recall one ref test that there was a 1-2px difference while running on GPU X CPU.
[00:42:44] <Savago> does it still look wrong while doing painting on cpu?
[00:42:53] <pcwalton> yeah, the problem is that it's rounding somewhere
[00:44:16] <pcwalton> doh, to_azure_rect() really should round *out*
[00:44:17] <pcwalton> not to nearest
[00:45:30] *** Quits: valentin1 (icecold@moz-ufp.552.196.81.IP) (Ping timeout: 121 seconds)
[00:46:15] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[00:46:15] -ghservo- [13servo] 15ehegnes opened pull request #5204: Further squelch warnings from contenttest.rs (06master...06squelch_contenttest) 02http://git.io/pym7
[00:46:15] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[00:46:41] <gw> pcwalton: I wonder if changing that might fix the one pixel error on the acid2 nose
[00:46:48] <pcwalton> quite possibly, yeah
[00:49:12] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[00:50:48] *** Quits: dbaron (dbaron@moz-vuesma.2rkg.9kg1.0101.2620.IP) (Quit: 8403864 bytes have been tenured, next gc will be global.)
[00:52:36] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[00:52:36] *** ChanServ sets mode: +o pcwalton
[00:53:33] *** Quits: mccr8 (mccr8@moz-cfhap5.mtv2.mozilla.com) (Quit: )
[00:53:34] *** Joins: ienzam (enzam@moz-hpc.6ir.101.89.IP)
[00:54:49] *** Joins: je_julie (uid29643@moz-2q4j9e.brockwell.irccloud.com)
[00:57:50] *** Quits: Savago (Savago@moz-h1n.mju.244.17.IP) (Client exited)
[00:58:45] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[01:00:06] <pcwalton> close http://i.imgur.com/lrTuESC.png
[01:00:11] <pcwalton> I need to figure out how to handle the corners...
[01:00:38] <pcwalton> Gecko does http://i.imgur.com/IhLPMkY.png
[01:00:54] <pcwalton> and I have no idea why 2, 6, and 8 are out of alignment in Gecko
[01:01:04] <pcwalton> the spec doesn't say to do that
[01:02:42] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[01:03:42] <bjwbell> pcwalton: Does chrome do the same? (i.e. 2,6, 8 out of alignment)
[01:03:54] <bjwbell> *chromium
[01:04:30] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[01:04:38] *** Quits: jlembeck (jlembeck@moz-gh926i.wa.comcast.net) (A TLS packet with unexpected length was received.)
[01:04:58] *** AutomatedTester is now known as AutomatedTester|AFK
[01:11:38] *** kimundi is now known as zz_kimundi
[01:13:44] *** Quits: bholley (bholley@moz-rvkgl6.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[01:18:14] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[01:19:33] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[01:23:51] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[01:25:36] *** Quits: ienzam (enzam@moz-hpc.6ir.101.89.IP) (Ping timeout: 121 seconds)
[01:28:24] *** Joins: logbot (logbot@moz-4j4idd.glob.com.au)
[01:31:31] *** nrc|afk is now known as nrc
[01:31:38] *** Quits: Zoxc (Zoxc@moz-g6sljr.bb.online.no) (Ping timeout: 121 seconds)
[01:36:31] *** Joins: slyu (slyu@moz-2hf62a.HINET-IP.hinet.net)
[01:37:09] *** Joins: Zoxc (Zoxc@moz-g6sljr.bb.online.no)
[01:40:08] *** Quits: Jayflux (Jason@moz-03lsr1.as13285.net) (Quit: Leaving)
[01:45:02] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[01:47:07] *** Joins: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP)
[01:49:20] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[01:53:55] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[01:54:07] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[02:06:54] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[02:10:35] *** Joins: Nekit1234007 (nekit@moz-vfr.64q.51.84.IP)
[02:15:10] *** Joins: moa (Cedric@moz-quu9i9.enlightenment.org)
[02:19:30] *** Quits: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt) (Ping timeout: 121 seconds)
[02:21:12] *** Joins: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt)
[02:25:07] *** Joins: brson (brson@moz-acp.7vl.56.172.IP)
[02:25:07] *** ChanServ sets mode: +o brson
[02:27:10] *** Quits: mcanders (textual@moz-kd3.g9o.171.216.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[02:28:16] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[02:35:24] *** Joins: mcanders (textual@moz-kd3.g9o.171.216.IP)
[02:39:15] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[02:42:05] *** Quits: mcanders (textual@moz-kd3.g9o.171.216.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[02:43:23] *** Joins: valentin (icecold@moz-ufp.552.196.81.IP)
[02:43:31] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[02:43:57] *** Quits: chmanchester (Chris@moz-e7ufq6.2rkg.9kg1.0101.2620.IP) (Ping timeout: 121 seconds)
[02:44:23] *** Quits: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt) (Ping timeout: 121 seconds)
[02:47:44] *** Joins: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt)
[02:48:48] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[02:48:48] -ghservo- [13servo] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/py21
[02:48:48] -ghservo- 13servo/06auto 146208eaa 15Eric Hegnes: Further squelch warnings from contenttest.rs...
[02:48:48] -ghservo- 13servo/06auto 145f439e7 15bors-servo: auto merge of #5204 : ehegnes/servo/squelch_contenttest, r=jdm...
[02:48:48] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[02:53:44] *** Joins: wldcordeiro (wldcordeiro@moz-h7mvf3.hmj8.a2nn.0007.2601.IP)
[02:58:03] <jack> Sad to hear the watchpoint thing didn't work :(
[02:58:22] <jack> It is reproducible with -y 1, so maybe working only single threaded isn't a big deal.
[03:05:40] *** Quits: mkcp (mkcp@moz-5ln.0t9.55.68.IP) (Connection closed)
[03:10:07] *** Quits: bjwbell (user@moz-5rbuu3.frokca.sbcglobal.net) (A TLS packet with unexpected length was received.)
[03:11:21] *** Joins: mahdi (mahdi@moz-sa5.a9p.244.151.IP)
[03:14:27] *** Quits: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt) (Ping timeout: 121 seconds)
[03:15:46] *** Joins: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt)
[03:25:18] *** Quits: chc4 (chc4@moz-dc8.7km.96.65.IP) (Quit: AHHHHH BEES)
[03:26:51] *** Quits: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt) (Ping timeout: 121 seconds)
[03:29:17] *** Joins: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt)
[03:30:47] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[03:30:47] -ghservo- [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/py21
[03:30:47] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[03:30:48] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[03:30:48] -ghservo- [13servo] 15bors-servo closed pull request #5204: Further squelch warnings from contenttest.rs (06master...06squelch_contenttest) 02http://git.io/pym7
[03:30:48] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[03:32:02] *** Joins: dbaron (dbaron@moz-rb4k89.dynamic.fusionbroadband.com)
[03:33:22] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[03:33:39] *** Joins: jlembeck (jlembeck@moz-gh926i.wa.comcast.net)
[03:34:50] *** Joins: mkcp (mkcp@moz-5ln.0t9.55.68.IP)
[03:35:35] *** Joins: Savago (Savago@moz-k613vv.ca.comcast.net)
[03:37:40] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[03:39:21] *** Quits: zz_kimundi (kimundi@moz-ere.cfn.188.87.IP) (Ping timeout: 121 seconds)
[03:39:52] *** Quits: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt) (Ping timeout: 121 seconds)
[03:41:52] *** Joins: zz_kimundi (kimundi@moz-0cj.3hq.188.87.IP)
[03:41:58] *** zz_kimundi is now known as kimundi
[03:42:18] *** Joins: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt)
[03:57:25] *** Quits: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt) (Ping timeout: 121 seconds)
[03:59:49] *** Joins: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt)
[04:00:20] *** Quits: mkcp (mkcp@moz-5ln.0t9.55.68.IP) (Connection closed)
[04:01:00] *** Joins: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net)
[04:04:22] *** Quits: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt) (Ping timeout: 121 seconds)
[04:05:19] *** Joins: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt)
[04:11:00] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Connection closed)
[04:11:18] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[04:14:17] <SimonSapin> mbrubeck: Yeah that definitely sounds weird.
[04:19:56] *** Quits: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt) (Ping timeout: 121 seconds)
[04:22:14] <zslayton> Is it not possible to use the #[jstraceable] annotation outside of `script`?
[04:22:50] *** Joins: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt)
[04:22:59] *** Quits: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[04:23:32] <zslayton> I'm trying to place an instance of a new struct `net::storage_task::StorageType` in `dom::storage::Storage`, but the compiler's telling me that StorageType doesn't implement JSTraceable. If I try to use the annotation, I get an unused annotation warning.
[04:23:38] *** Quits: Savago (Savago@moz-k613vv.ca.comcast.net) (Client exited)
[04:23:56] *** Joins: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net)
[04:24:21] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[04:25:32] *** Quits: brson (brson@moz-acp.7vl.56.172.IP) (Quit: leaving)
[04:27:34] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[04:28:29] *** Joins: sprogcxd (Mibbit@moz-juv.9o3.252.72.IP)
[04:31:49] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[04:32:57] <SimonSapin> zslayton: that decorator is defined in the plugins crate, which you could use anywhere
[04:33:24] <SimonSapin> zslayton: but it seems to rely on things that are in the script crate (specifically js::jsapi::JSTracer)
[04:34:18] <SimonSapin> zslayton: maybe you can have a traceble wrapper in the script crate?
[04:34:47] *** Quits: kanru (kanru@moz-aj9ejj.HINET-IP.hinet.net) (Connection closed)
[04:34:50] <zslayton> SimonSapin: a simple tuple struct, for example? 
[04:34:59] <SimonSapin> something like that
[04:35:29] <SimonSapin> I assume that StorageType never references things owned by the JS garbage collector, so it doesnâ€™t need to actually trace anything
[04:35:31] <zslayton> That's a good idea; it'll at least get it to compile. Then I can follow up with jdm when I open a PR.
[04:35:51] <zslayton> SimonSapin: Right, it's just a simple enum
[04:36:13] <zslayton> SimonSapin: Thanks for your help!
[04:39:52] *** Quits: zslayton (Mibbit@moz-0gsjuf.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[04:40:30] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[04:41:50] *** Quits: _zxq9_ (ceverett@moz-qsm369.mesh.ad.jp) (Quit: Konversation terminated!)
[04:42:53] *** Quits: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP) (Quit: å •å…¥ /dev/null)
[04:44:57] *** Quits: jlembeck (jlembeck@moz-gh926i.wa.comcast.net) (A TLS packet with unexpected length was received.)
[04:46:58] *** Joins: playjax (chatzilla@moz-n3ovf3.optusnet.com.au)
[04:51:21] *** Quits: Nekit1234007 (nekit@moz-vfr.64q.51.84.IP) (A TLS packet with unexpected length was received.)
[04:57:18] *** Quits: evanfarrar (evanfarrar@moz-lftg5l.east.verizon.net) (Connection closed)
[05:00:25] *** Quits: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[05:00:58] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Connection closed)
[05:03:18] *** Joins: azita (Azita@moz-v16.4ki.202.73.IP)
[05:03:57] *** Quits: valentin (icecold@moz-ufp.552.196.81.IP) (Ping timeout: 121 seconds)
[05:06:14] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[05:08:11] *** Joins: aravindavk (aravinda@moz-m6j.f0d.244.121.IP)
[05:09:43] *** darkowlzz|afk is now known as darkowlzz
[05:10:01] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[05:10:02] -ghservo- [13servo] 15glennw opened pull request #5205: First (and biggest) part of refactoring constellation to support iframe navigation. (06master...06iframe-nav) 02http://git.io/py5b
[05:10:02] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[05:12:25] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[05:14:03] *** Quits: sprogcxd (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:16:24] *** darkowlzz is now known as darkowlzz|afk
[05:21:41] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[05:22:49] *** Quits: wldcordeiro (wldcordeiro@moz-h7mvf3.hmj8.a2nn.0007.2601.IP) (Ping timeout: 121 seconds)
[05:23:29] *** Quits: azita (Azita@moz-v16.4ki.202.73.IP) (Client exited)
[05:24:51] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[05:25:25] *** Quits: fabrice (fabrice@moz-r84lgh.ca.comcast.net) (Ping timeout: 121 seconds)
[05:26:01] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[05:30:57] *** Joins: acgtyrant (acgtyrant@moz-47i.4sk.186.39.IP)
[05:45:31] *** Quits: hoverbear (hoverbear@moz-csaicn.gv.shawcable.net) (Quit: Time to hibernate.... ZzZz...)
[05:46:14] *** Quits: njn (chatzilla@moz-02nu63.iinet.net.au) (Quit: ChatZilla 0.9.91.1 [Firefox 39.0a1/20150309142159])
[05:53:13] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[05:53:13] *** ChanServ sets mode: +o pcwalton
[05:53:42] *** Quits: mahdi (mahdi@moz-sa5.a9p.244.151.IP) (Connection closed)
[05:53:52] <pcwalton> http://i.imgur.com/eYJqHu7.png same page in two browsers :(
[05:53:53] * pcwalton gives up on trying to do anything sensible for the border corners
[05:55:05] *** Joins: mahdi (mahdi@moz-sa5.a9p.244.151.IP)
[05:57:55] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[06:00:23] *** Quits: gozala (uid5923@moz-ftm4af.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[06:01:44] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[06:06:03] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[06:06:11] *** Quits: yusukesuzuki (yusukesuzuk@moz-dt1lc7.t-com.ne.jp) (Ping timeout: 121 seconds)
[06:07:42] *** Joins: evanfarrar (evanfarrar@moz-lftg5l.east.verizon.net)
[06:08:29] *** Quits: mahdi (mahdi@moz-sa5.a9p.244.151.IP) (Connection closed)
[06:09:18] *** Joins: psd (psd@moz-acc.mpg.78.202.IP)
[06:11:52] *** Quits: evanfarrar (evanfarrar@moz-lftg5l.east.verizon.net) (Ping timeout: 121 seconds)
[06:12:18] *** Joins: yusukesuzuki (yusukesuzuk@moz-dt1lc7.t-com.ne.jp)
[06:13:33] *** Joins: bholley (bholley@moz-qpv0dk.ca.comcast.net)
[06:15:32] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[06:15:52] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[06:20:10] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[06:26:51] *** Quits: Caspy7 (chatzilla@moz-qg6.7b1.185.99.IP) (Ping timeout: 121 seconds)
[06:28:44] *** Joins: dstrbad (dstrbad@moz-hpmvof.net.t-com.hr)
[06:30:25] *** Quits: dstrbad (dstrbad@moz-hpmvof.net.t-com.hr) (A TLS packet with unexpected length was received.)
[06:32:22] *** Joins: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net)
[06:33:29] *** Quits: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[06:37:13] *** Quits: aravindavk (aravinda@moz-m6j.f0d.244.121.IP) (Connection closed)
[06:37:17] *** Joins: aravindavk (aravinda@moz-m6j.f0d.244.121.IP)
[06:37:46] *** Joins: cakecatz (cakecatz@moz-1souik.smart2j.com)
[06:54:13] *** Quits: psd (psd@moz-acc.mpg.78.202.IP) (Ping timeout: 121 seconds)
[06:56:33] *** Quits: nonsensickle (nonsensickl@moz-4v0.gkd.16.182.IP) (Quit: Leaving)
[06:57:57] *** Quits: bholley (bholley@moz-qpv0dk.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[06:58:57] *** Quits: cakecatz (cakecatz@moz-1souik.smart2j.com) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[07:01:00] *** Joins: dstrbad (dstrbad@moz-hpmvof.net.t-com.hr)
[07:06:59] *** Joins: kmicu (kmicu@moz-uga.edn.218.91.IP)
[07:08:08] *** Joins: cakecatz (cakecatz@moz-1souik.smart2j.com)
[07:09:06] *** Quits: eddyb (eddyb@moz-mmq.pug.25.188.IP) (Ping timeout: 121 seconds)
[07:10:04] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[07:10:27] *** Joins: psd (psd@moz-uo0.7bo.203.116.IP)
[07:14:15] *** Quits: tommy (tommy@moz-uen3fl.com) (*.net *.split)
[07:14:15] *** Quits: freebroccolo (sid51271@moz-ealde0.ealing.irccloud.com) (*.net *.split)
[07:14:15] *** Quits: mdoglio|afk (sid15662@moz-4tb3ff.uxbridge.irccloud.com) (*.net *.split)
[07:14:15] *** Quits: mihnea_ (sid16310@moz-3jj6fb.uxbridge.irccloud.com) (*.net *.split)
[07:14:15] *** Quits: gw (uid31717@moz-hcr55a.charlton.irccloud.com) (*.net *.split)
[07:14:15] *** Quits: zwarich (sid63988@moz-402giv.ealing.irccloud.com) (*.net *.split)
[07:14:15] *** Quits: ggherdov_ (sid11402@moz-u71qnt.charlton.irccloud.com) (*.net *.split)
[07:14:15] *** Quits: burg (sid14893@moz-r6aeph.brockwell.irccloud.com) (*.net *.split)
[07:14:15] *** Quits: dkua (sid29936@moz-74bhjj.charlton.irccloud.com) (*.net *.split)
[07:14:15] *** Quits: bigbluehat (sid632@moz-e9hfd2.ealing.irccloud.com) (*.net *.split)
[07:14:15] *** Quits: luisbg (luisbg@moz-5qprl2.065o.r2sr.41d0.2001.IP) (*.net *.split)
[07:14:15] *** Quits: jandem (sid16255@moz-s8ebmu.uxbridge.irccloud.com) (*.net *.split)
[07:14:15] *** Quits: jack (sid19593@moz-d7cue0.uxbridge.irccloud.com) (*.net *.split)
[07:14:15] *** Quits: dherman (sid7996@moz-u0jlif.ealing.irccloud.com) (*.net *.split)
[07:14:15] *** Quits: huon (huon@moz-hj272o.8rnv.rggd.6180.2400.IP) (*.net *.split)
[07:14:15] *** Quits: flaki (sid26072@moz-k9a1ua.uxbridge.irccloud.com) (*.net *.split)
[07:14:15] *** Quits: mrobinson (mrobinson@moz-630lok.qa6l.uj49.3c02.2600.IP) (*.net *.split)
[07:14:15] *** Quits: krit (sid15081@moz-itd50n.charlton.irccloud.com) (*.net *.split)
[07:14:15] *** Quits: jryans (sid12941@moz-u4l2d8.brockwell.irccloud.com) (*.net *.split)
[07:14:15] *** Quits: abinader (sid21713@moz-emdqe7.uxbridge.irccloud.com) (*.net *.split)
[07:14:15] *** Quits: mno2 (sid33176@moz-nd1l6h.brockwell.irccloud.com) (*.net *.split)
[07:14:15] *** Quits: sp3d (sp3d@moz-ik970v.enn1.s22b.000d.2601.IP) (*.net *.split)
[07:14:15] *** Quits: cha0s (chaos@moz-ebt9bj.q7tv.7c32.b0c0.2a03.IP) (*.net *.split)
[07:14:15] *** Quits: evilpie (sid7877@moz-cergcq.charlton.irccloud.com) (*.net *.split)
[07:14:15] *** Quits: jaeju (sid11274@moz-fdm1ku.charlton.irccloud.com) (*.net *.split)
[07:14:15] *** Quits: je_julie (uid29643@moz-2q4j9e.brockwell.irccloud.com) (*.net *.split)
[07:14:15] *** Quits: wycats (sid79@moz-b4lrm3.brockwell.irccloud.com) (*.net *.split)
[07:14:15] *** Quits: ato (sid16069@moz-n2ossk.uxbridge.irccloud.com) (*.net *.split)
[07:14:15] *** Quits: dmarcos (sid15240@moz-9ahsin.ealing.irccloud.com) (*.net *.split)
[07:14:15] *** Quits: Gankro (uid71432@moz-sc2bd6.charlton.irccloud.com) (*.net *.split)
[07:14:15] *** Quits: seanmonstar (seanmonstar@moz-jd3i0j.fkdv.ulf6.3c01.2600.IP) (*.net *.split)
[07:14:15] *** Quits: GPHemsley (GPHemsley@moz-m8bfao.nggo.qi13.000b.2601.IP) (*.net *.split)
[07:14:15] *** Quits: dprien (dprien@moz-15s7c4.udtd.gaqb.04f8.2a01.IP) (*.net *.split)
[07:14:15] *** Quits: mbrubeck (sid17036@moz-omrqa0.uxbridge.irccloud.com) (*.net *.split)
[07:14:21] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Connection closed)
[07:14:23] *** Quits: gavin (gavin@irc.mozilla.org) (A TLS packet with unexpected length was received.)
[07:14:31] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[07:14:39] *** Joins: evilpie (sid7877@moz-cergcq.charlton.irccloud.com)
[07:14:39] *** Joins: dprien (dprien@moz-15s7c4.udtd.gaqb.04f8.2a01.IP)
[07:14:39] *** Joins: jaeju (sid11274@moz-fdm1ku.charlton.irccloud.com)
[07:14:39] *** Joins: dmarcos (sid15240@moz-9ahsin.ealing.irccloud.com)
[07:14:39] *** Joins: ggherdov_ (sid11402@moz-u71qnt.charlton.irccloud.com)
[07:14:39] *** Joins: mihnea_ (sid16310@moz-3jj6fb.uxbridge.irccloud.com)
[07:14:39] *** Joins: wycats (sid79@moz-b4lrm3.brockwell.irccloud.com)
[07:14:39] *** Joins: jryans (sid12941@moz-u4l2d8.brockwell.irccloud.com)
[07:14:39] *** Joins: jandem (sid16255@moz-s8ebmu.uxbridge.irccloud.com)
[07:14:39] *** Joins: huon (huon@moz-hj272o.8rnv.rggd.6180.2400.IP)
[07:14:39] *** Joins: mbrubeck (sid17036@moz-omrqa0.uxbridge.irccloud.com)
[07:14:39] *** Joins: dkua (sid29936@moz-74bhjj.charlton.irccloud.com)
[07:14:39] *** Joins: bigbluehat (sid632@moz-e9hfd2.ealing.irccloud.com)
[07:14:39] *** Joins: je_julie (uid29643@moz-2q4j9e.brockwell.irccloud.com)
[07:14:39] *** Joins: dherman (sid7996@moz-u0jlif.ealing.irccloud.com)
[07:14:39] *** Joins: Gankro (uid71432@moz-sc2bd6.charlton.irccloud.com)
[07:14:39] *** Joins: mno2 (sid33176@moz-nd1l6h.brockwell.irccloud.com)
[07:14:39] *** Joins: zwarich (sid63988@moz-402giv.ealing.irccloud.com)
[07:14:39] *** Joins: mdoglio|afk (sid15662@moz-4tb3ff.uxbridge.irccloud.com)
[07:14:39] *** Joins: krit (sid15081@moz-itd50n.charlton.irccloud.com)
[07:14:39] *** Joins: GPHemsley (GPHemsley@moz-m8bfao.nggo.qi13.000b.2601.IP)
[07:14:39] *** Joins: flaki (sid26072@moz-k9a1ua.uxbridge.irccloud.com)
[07:14:39] *** Joins: abinader (sid21713@moz-emdqe7.uxbridge.irccloud.com)
[07:14:39] *** Joins: burg (sid14893@moz-r6aeph.brockwell.irccloud.com)
[07:14:39] *** Joins: tommy (tommy@moz-uen3fl.com)
[07:14:39] *** Joins: gw (uid31717@moz-hcr55a.charlton.irccloud.com)
[07:14:39] *** Joins: freebroccolo (sid51271@moz-ealde0.ealing.irccloud.com)
[07:14:39] *** Joins: cha0s (chaos@moz-ebt9bj.q7tv.7c32.b0c0.2a03.IP)
[07:14:39] *** Joins: luisbg (luisbg@moz-5qprl2.065o.r2sr.41d0.2001.IP)
[07:14:39] *** Joins: ato (sid16069@moz-n2ossk.uxbridge.irccloud.com)
[07:14:39] *** Joins: jack (sid19593@moz-d7cue0.uxbridge.irccloud.com)
[07:14:39] *** Joins: mrobinson (mrobinson@moz-630lok.qa6l.uj49.3c02.2600.IP)
[07:14:39] *** Joins: sp3d (sp3d@moz-ik970v.enn1.s22b.000d.2601.IP)
[07:14:39] *** Joins: seanmonstar (seanmonstar@moz-jd3i0j.fkdv.ulf6.3c01.2600.IP)
[07:14:39] *** bruford.mozilla.org sets mode: +ooo mbrubeck gw jack
[07:14:53] *** Joins: gavin (gavin@moz-no0.93r.245.63.IP)
[07:14:57] *** Quits: nmatsakis (nmatsakis@moz-dkjr1g.scl3.mozilla.com) (A TLS packet with unexpected length was received.)
[07:14:59] *** Joins: nmatsakis (nmatsakis@moz-no0.93r.245.63.IP)
[07:15:30] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[07:18:06] *** Joins: mahdi (mahdi@moz-3df.lbl.244.151.IP)
[07:23:38] *** Quits: caitp (caitp@moz-lmogh4.cable.rogers.com) (Ping timeout: 121 seconds)
[07:23:50] *** Quits: untitaker (untitaker@moz-n9v0fd.highway.telekom.at) (Ping timeout: 121 seconds)
[07:24:01] *** Joins: kaksmet (kaksmet@moz-ismsth.se.alltele.net)
[07:27:40] *** Quits: dbaron (dbaron@moz-rb4k89.dynamic.fusionbroadband.com) (Quit: 8403864 bytes have been tenured, next gc will be global.)
[07:30:48] *** Joins: untitaker (untitaker@moz-vtb95m.highway.telekom.at)
[07:35:31] *** Joins: ttaubert (uid2620@moz-6d2u0s.uxbridge.irccloud.com)
[07:43:13] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[07:44:12] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[07:47:31] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[08:00:10] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[08:04:02] *** Joins: dinfuehr (dinfuehr@moz-nlvoeb.tuwien.ac.at)
[08:04:38] *** Joins: dinfuehr_ (dinfuehr@moz-nlvoeb.tuwien.ac.at)
[08:04:38] *** Quits: dinfuehr (dinfuehr@moz-nlvoeb.tuwien.ac.at) (Connection closed)
[08:06:01] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[08:07:31] *** Joins: pakupaku (pl@moz-lc4.ai6.55.193.IP)
[08:08:42] *** Quits: dinfuehr_ (dinfuehr@moz-nlvoeb.tuwien.ac.at) (Ping timeout: 121 seconds)
[08:10:18] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[08:22:49] *** Joins: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net)
[08:27:25] *** Joins: Ms2ger (Ms2ger@moz-t9m.9ho.190.193.IP)
[08:28:54] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[08:30:13] *** Quits: pakupaku (pl@moz-lc4.ai6.55.193.IP) (Quit: WeeChat 1.0.1)
[08:32:04] *** Joins: pakupaku (pl@moz-jse.is7.143.79.IP)
[08:35:11] *** Joins: dinfuehr (dinfuehr@moz-nlvoeb.tuwien.ac.at)
[08:35:55] *** Quits: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt) (Ping timeout: 121 seconds)
[08:37:44] *** Joins: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt)
[08:38:20] *** Joins: eddyb_ (eddyb@moz-d42.j1b.166.109.IP)
[08:39:06] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[08:41:08] *** Quits: psd (psd@moz-uo0.7bo.203.116.IP) (Ping timeout: 121 seconds)
[08:48:49] *** Quits: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt) (Ping timeout: 121 seconds)
[08:50:15] *** Joins: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt)
[08:52:14] *** Quits: moa (Cedric@moz-quu9i9.enlightenment.org) (Ping timeout: 121 seconds)
[08:54:11] *** Joins: mihneadb (mihneadb@moz-b5r.gbu.120.86.IP)
[08:58:01] *** Joins: ienzam (enzam@moz-hpc.6ir.101.89.IP)
[08:58:51] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[09:00:11] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[09:00:44] *** Joins: Nekit1234007 (nekit@moz-vfr.64q.51.84.IP)
[09:01:20] *** Quits: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt) (Ping timeout: 121 seconds)
[09:03:17] *** Joins: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt)
[09:04:27] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[09:06:04] *** Quits: ienzam (enzam@moz-hpc.6ir.101.89.IP) (Ping timeout: 121 seconds)
[09:08:30] *** Quits: acgtyrant (acgtyrant@moz-47i.4sk.186.39.IP) (Quit: å •å…¥ /dev/null)
[09:11:51] *** Quits: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt) (Ping timeout: 121 seconds)
[09:11:52] *** Joins: dstrbad_ (dstrbad@moz-8ce.sr1.188.46.IP)
[09:13:18] *** Joins: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt)
[09:15:02] *** Quits: dstrbad (dstrbad@moz-hpmvof.net.t-com.hr) (Ping timeout: 121 seconds)
[09:18:08] *** Joins: psd (psd@moz-acc.mpg.78.202.IP)
[09:18:30] *** Quits: Gankro (uid71432@moz-sc2bd6.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[09:20:03] *** Quits: Ms2ger (Ms2ger@moz-t9m.9ho.190.193.IP) (Ping timeout: 121 seconds)
[09:21:29] *** Quits: dstrbad_ (dstrbad@moz-8ce.sr1.188.46.IP) (A TLS packet with unexpected length was received.)
[09:23:05] *** Joins: eibwen (eibwen@moz-r39.1tm.231.217.IP)
[09:24:54] *** Joins: laumann (thomas@moz-fso.hq0.225.130.IP)
[09:26:24] *** Quits: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt) (Ping timeout: 121 seconds)
[09:26:40] *** Joins: Nefzaoui (nefzaoui_@moz-50p.mj3.1.197.IP)
[09:28:19] *** Joins: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt)
[09:30:49] *** Joins: valentin (icecold@moz-ufp.552.196.81.IP)
[09:32:38] *** Quits: slyu (slyu@moz-2hf62a.HINET-IP.hinet.net) (A TLS packet with unexpected length was received.)
[09:36:46] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[09:36:53] *** Quits: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt) (Ping timeout: 121 seconds)
[09:38:50] *** Joins: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt)
[09:49:36] *** Quits: je_julie (uid29643@moz-2q4j9e.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[09:54:02] *** Quits: kmicu (kmicu@moz-uga.edn.218.91.IP) (Ping timeout: 121 seconds)
[09:54:21] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[09:58:37] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[10:09:06] *** Quits: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net) (Connection closed)
[10:09:24] *** Joins: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net)
[10:12:06] *** Quits: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt) (Ping timeout: 121 seconds)
[10:13:53] *** Joins: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt)
[10:14:50] *** Joins: acgtyrant (acgtyrant@moz-47i.4sk.186.39.IP)
[10:17:05] *** Quits: aravindavk (aravinda@moz-m6j.f0d.244.121.IP) (Ping timeout: 121 seconds)
[10:19:25] *** Quits: dinfuehr (dinfuehr@moz-nlvoeb.tuwien.ac.at) (Connection closed)
[10:19:45] *** Joins: dinfuehr (dinfuehr@moz-nlvoeb.tuwien.ac.at)
[10:23:47] *** Quits: dinfuehr (dinfuehr@moz-nlvoeb.tuwien.ac.at) (Ping timeout: 121 seconds)
[10:30:40] *** Joins: ienzam (enzam@moz-2jsbpn.dynamic.upc.ie)
[10:34:33] *** Joins: dstrbad (dstrbad@moz-nrq3tb.cable.xnet.hr)
[10:35:19] *** Quits: dstrbad (dstrbad@moz-nrq3tb.cable.xnet.hr) (A TLS packet with unexpected length was received.)
[10:35:21] *** Joins: dstrbad (dstrbad@moz-nrq3tb.cable.xnet.hr)
[10:35:41] *** Quits: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[10:36:34] *** Quits: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt) (Ping timeout: 121 seconds)
[10:37:05] *** Joins: mkcp (mkcp@moz-5ln.0t9.55.68.IP)
[10:38:25] *** Joins: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt)
[10:41:14] *** Quits: mkcp (mkcp@moz-5ln.0t9.55.68.IP) (Ping timeout: 121 seconds)
[10:48:33] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[10:50:40] *** Quits: TheHydroImpulse (TheHydroImp@moz-4vd.6hg.148.68.IP) (Client exited)
[10:52:49] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[10:57:34] *** Quits: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt) (Ping timeout: 121 seconds)
[11:00:56] *** Joins: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt)
[11:01:55] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[11:02:27] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[11:06:29] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Ping timeout: 121 seconds)
[11:08:57] *** Quits: DroidLogician (Austin@moz-9lhp5e.ca.charter.com) (Quit: Leaving)
[11:09:14] *** Quits: palodequeso (quassel@moz-8afrdq.dhcp.embarqhsd.net) (Ping timeout: 121 seconds)
[11:13:00] *** Joins: aweinstock (aweinstock@moz-8mcrmr.us)
[11:13:46] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[11:15:59] *** Quits: xidorn (xidorn@moz-9565iq.upsuper.org) (Quit: ZNC - http://znc.in)
[11:17:49] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Ping timeout: 121 seconds)
[11:19:47] *** Joins: dinfuehr (dinfuehr@moz-nlvoeb.tuwien.ac.at)
[11:22:59] *** Quits: eddyb_ (eddyb@moz-d42.j1b.166.109.IP) (Ping timeout: 121 seconds)
[11:23:11] *** Quits: dinfuehr (dinfuehr@moz-nlvoeb.tuwien.ac.at) (Quit: )
[11:23:38] *** Joins: jlembeck (jlembeck@moz-gh926i.wa.comcast.net)
[11:26:52] *** Joins: dinfuehr (dinfuehr@moz-nlvoeb.tuwien.ac.at)
[11:34:39] *** Quits: valentin (icecold@moz-ufp.552.196.81.IP) (Quit: Leaving.)
[11:42:40] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[11:42:51] *** mdoglio|afk is now known as mdoglio
[11:44:13] *** Joins: Ms2ger (Ms2ger@moz-iltjo2.access.telenet.be)
[11:46:58] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[11:47:37] *** jandem is now known as jandem-brb
[11:49:35] *** Quits: crowbot (nodebot@moz-md5r3k.compute-1.amazonaws.com) (A TLS packet with unexpected length was received.)
[11:49:39] *** Joins: crowbot (nodebot@moz-1tnu8s.compute-1.amazonaws.com)
[11:57:13] *** Quits: dstrbad (dstrbad@moz-nrq3tb.cable.xnet.hr) (A TLS packet with unexpected length was received.)
[11:58:56] *** Joins: aravindavk (aravinda@moz-m6j.f0d.244.121.IP)
[11:59:42] *** Quits: acgtyrant (acgtyrant@moz-47i.4sk.186.39.IP) (Connection closed)
[12:00:06] *** Joins: acgtyrant (acgtyrant@moz-47i.4sk.186.39.IP)
[12:06:49] *** Joins: palodequeso (quassel@moz-ebjt83.hfc.comcastbusiness.net)
[12:11:41] *** Joins: mib_z7awev (Mibbit@moz-juv.9o3.252.72.IP)
[12:12:34] *** Quits: playjax (chatzilla@moz-n3ovf3.optusnet.com.au) (Connection closed)
[12:14:11] *** Quits: mib_z7awev (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[12:14:15] *** Quits: gw (uid31717@moz-hcr55a.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[12:14:51] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[12:15:02] *** Quits: mahdi (mahdi@moz-3df.lbl.244.151.IP) (Connection closed)
[12:19:07] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[12:20:42] *** Quits: ienzam (enzam@moz-2jsbpn.dynamic.upc.ie) (Ping timeout: 121 seconds)
[12:21:40] *** Joins: akiss (akiss@moz-c6colr.inf.u-szeged.hu)
[12:23:02] *** Quits: cakecatz (cakecatz@moz-1souik.smart2j.com) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[12:24:11] *** Joins: Gankro (uid71432@moz-8qssdp.irccloud.com)
[12:26:03] *** Quits: aravindavk (aravinda@moz-m6j.f0d.244.121.IP) (Ping timeout: 121 seconds)
[12:34:23] *** Joins: eddyb_ (eddyb@moz-mmq.pug.25.188.IP)
[12:36:37] *** Joins: kmicu (kmicu@moz-uga.edn.218.91.IP)
[12:36:52] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[12:41:07] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[12:43:09] *** Joins: jdm (jdm@moz-d6lm22.dsl.bell.ca)
[12:43:09] *** ChanServ sets mode: +qo jdm jdm
[12:48:04] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: Textual IRC Client: www.textualapp.com)
[12:49:13] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[12:49:22] *** Quits: dinfuehr (dinfuehr@moz-nlvoeb.tuwien.ac.at) (Connection closed)
[12:49:37] <mmatyas> Hm, how can I set in a webidl file that a non-void function should not accept infinite float parameters?
[12:50:30] *** Joins: dstrbad (dstrbad@moz-gj8m09.cable.xnet.hr)
[12:50:40] *** Quits: acgtyrant (acgtyrant@moz-47i.4sk.186.39.IP) (Ping timeout: 121 seconds)
[12:51:30] *** Joins: oldornew (oldornew@moz-369lu1.dynamic.simnet.is)
[12:51:50] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[12:51:50] -ghservo- [13servo] 15bors-servo pushed 7 new commits to 06auto: 02http://git.io/p9C4
[12:51:50] -ghservo- 13servo/06auto 1464fb028 15yodalee: add unit struct of TextEncoder
[12:51:50] -ghservo- 13servo/06auto 149caba3a 15yodalee: implement textencoder constructor
[12:51:50] -ghservo- 13servo/06auto 14b0c7a85 15yodalee: implement encoding method, encoding name variable
[12:51:50] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[12:52:54] <jdm> mmatyas: restricted, but that PR hasn't merged yet
[12:53:14] <jdm> er, I mean don't add unrestricted to the argument
[12:53:21] <jdm> #5106
[12:53:21] <crowbot> Issue #5106: Add bindings support for unrestricted float/double values. - https://github.com/servo/servo/pull/5106
[12:53:30] * jdm should revie wthat today
[12:56:28] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[12:56:28] -ghservo- [13servo] 15SimonSapin pushed 2 new commits to 06rustup_20150311: 02http://git.io/p9W4
[12:56:28] -ghservo- 13servo/06rustup_20150311 140aaa80d 15Simon Sapin: constellation builds
[12:56:28] -ghservo- 13servo/06rustup_20150311 14970dd76 15Simon Sapin: glutin port builds
[12:56:28] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[12:56:47] <mmatyas> jdm, I get 'throws TypeError if arguments are not finite' for one of my wpt tests, will that solve this issue?
[12:57:26] <jdm> mmatyas: you'll want to explictly check arg.is_finite()
[12:57:42] <jdm> and then use http://mxr.mozilla.org/servo/source/components/script/dom/bindings/error.rs#155
[12:58:24] <mmatyas> I see, thanks!
[13:00:30] *** Joins: ahal (ahal@moz-blga2k.cpe.pppoe.ca)
[13:10:53] *** Joins: ienzam (enzam@moz-0mn6nu.customer.teliacarrier.com)
[13:12:53] *** Joins: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP)
[13:13:20] <tomaka> I think I'll upload glutin_cocoa and glutin_core_foundation if you have nothing against it
[13:13:35] <Ms2ger> real_cocoa
[13:13:40] <tomaka> yeah
[13:15:45] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[13:15:45] -ghservo- [13rust-mozjs] 15SimonSapin created 06rustup_2015-03-11 (+1 new commit): 02http://git.io/p906
[13:15:45] -ghservo- 13rust-mozjs/06rustup_2015-03-11 147742114 15Simon Sapin: Upgrade to rustc 1.0.0-dev (d3c49d214 2015-03-10) (built 2015-02-24)
[13:15:45] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[13:16:15] <Ms2ger> SimonSapin, ugh
[13:16:34] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[13:16:34] -ghservo- [13rust-mozjs] 15SimonSapin opened pull request #137: Upgrade to rustc 1.0.0-dev (d3c49d214 2015-03-10) (built 2015-02-24) (06master...06rustup_2015-03-11) 02http://git.io/p90x
[13:16:34] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[13:21:35] <SimonSapin> Ms2ger: error: expected identifier, found keyword `Self` fn Self(self) -> Temporary<Window>
[13:21:39] <SimonSapin> how do you want to rename this?
[13:21:57] <Ms2ger> Nice
[13:22:08] <Ms2ger> Do we have binaryname support yet?
[13:22:37] <Ms2ger> Looks like we do
[13:22:40] <SimonSapin> whatâ€™s that?
[13:22:57] <Ms2ger> [BinaryName="Self_"] attribute Window self;
[13:23:09] <Ms2ger> Or WindowProxy, I guess
[13:23:41] *** Joins: MrZeus (Orestes@moz-78di83.as13285.net)
[13:24:55] *** Quits: ienzam (enzam@moz-0mn6nu.customer.teliacarrier.com) (Ping timeout: 121 seconds)
[13:25:45] <jdm> that was fortuitous timing
[13:26:01] <SimonSapin> Ms2ger: that seems to build, thanks
[13:26:36] <Ms2ger> The other solution would have been to make it nullable
[13:26:40] *** AutomatedTester|AFK is now known as AutomatedTester
[13:29:14] *** Quits: garvank (Garvan@moz-1fp.d2n.140.24.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[13:29:26] *** Joins: garvank (Garvan@moz-1fp.d2n.140.24.IP)
[13:31:01] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[13:32:08] *** Joins: valentin (icecold@moz-rd8.ia0.125.86.IP)
[13:35:19] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[13:35:36] <SimonSapin> Ms2ger: can we have codegen s
[13:35:42] *** Joins: mystor_ (mystor@moz-vpa.r78.15.130.IP)
[13:35:45] <SimonSapin> Ms2ger: can we have codegen skip the XMethods trait when itâ€™s empty?
[13:35:58] <SimonSapin> empty traits now cause error: parameter `Self` is never used
[13:36:07] <Ms2ger> That shouldn't be too hard
[13:36:59] * Ms2ger does that now
[13:37:12] <SimonSapin> Same with unused lifetime parameters
[13:37:13] <SimonSapin> https://pastebin.mozilla.org/8825657
[13:37:36] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[13:37:36] -ghservo- [13servo] 15SimonSapin pushed 2 new commits to 06rustup_20150311: 02http://git.io/p9rQ
[13:37:36] -ghservo- 13servo/06rustup_20150311 14b789112 15Simon Sapin: Update rust-mozjs
[13:37:36] -ghservo- 13servo/06rustup_20150311 14183ba49 15Simon Sapin: script fixes
[13:37:36] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[13:40:28] <jdm> that unused lifetimes error is surprising
[13:40:48] <jdm> maybe that happens if the new method is never used?
[13:41:05] <Ms2ger> Root used to have lifetimes
[13:41:26] <jdm> oh, right
[13:44:29] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[13:44:29] -ghservo- [13servo] 15SimonSapin pushed 1 new commit to 06rustup_20150311: 02http://git.io/p96X
[13:44:29] -ghservo- 13servo/06rustup_20150311 140ec8ceb 15Simon Sapin: More script fixes
[13:44:29] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[13:45:04] <SimonSapin> Ms2ger: all right, the errors in the pastebin are all thatâ€™s left for now
[13:45:19] <Ms2ger> Ta
[13:45:35] *** jandem-brb is now known as jandem
[13:45:50] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[13:45:50] -ghservo- [13servo] 15bors-servo 04force-pushed 06auto from 14b43d4e7 to 145f439e7: 02http://git.io/A9I6iA
[13:45:50] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[13:45:51] *** Joins: ghservo (ghservo@moz-abh.5u0.30.192.IP)
[13:45:51] -ghservo- [13servo] 15bors-servo pushed 7 new commits to 06auto: 02http://git.io/p9il
[13:45:51] -ghservo- 13servo/06auto 1464fb028 15yodalee: add unit struct of TextEncoder
[13:45:51] -ghservo- 13servo/06auto 149caba3a 15yodalee: implement textencoder constructor
[13:45:51] -ghservo- 13servo/06auto 14b0c7a85 15yodalee: implement encoding method, encoding name variable
[13:45:51] *** Parts: ghservo (ghservo@moz-abh.5u0.30.192.IP) ()
[13:47:07] *** Quits: aweinstock (aweinstock@moz-8mcrmr.us) (Quit: leaving)
[13:53:46] *** Joins: mahdi (mahdi@moz-3df.lbl.244.151.IP)
[13:55:49] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[13:55:49] -ghservo- [13servo] 15Ms2ger opened pull request #5206: Pre rustup codegen cleanup (06master...06pre-rustup-codegen-cleanup) 02http://git.io/p91N
[13:55:49] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[13:56:47] <Ms2ger> jdm, r?
[13:57:14] *** Quits: jlembeck (jlembeck@moz-gh926i.wa.comcast.net) (A TLS packet with unexpected length was received.)
[13:58:56] *** Joins: jlembeck (jlembeck@moz-gh926i.wa.comcast.net)
[13:59:21] *** Quits: garvank (Garvan@moz-1fp.d2n.140.24.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[14:03:05] <SimonSapin> note to self: donâ€™t leave the inotify-based build script running while rebasing
[14:04:39] <Ms2ger> Oops
[14:09:37] <SimonSapin> does our bors understand p=1 ?
[14:09:47] <jdm> SimonSapin: yep
[14:10:12] <SimonSapin> jdm: can you set it on #5206 ?
[14:10:13] <crowbot> Issue #5206: Pre rustup codegen cleanup - https://github.com/servo/servo/pull/5206
[14:12:50] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[14:12:50] -ghservo- [13servo] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/p95I
[14:12:50] -ghservo- 13servo/06auto 14033ca5f 15James Gilbertson: Reftests for viewport percentage length units
[14:12:50] -ghservo- 13servo/06auto 14cb324b0 15bors-servo: auto merge of #5164 : luniv/servo/viewport-length-units-reftests, r=SimonSapin...
[14:12:50] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[14:14:33] *** Joins: ghservo (ghservo@moz-abh.5u0.30.192.IP)
[14:14:33] -ghservo- [13servo] 15Ms2ger 04force-pushed 06rustup_20150311 from 140ec8ceb to 147d1c84a: 02http://git.io/piz8
[14:14:33] -ghservo- 13servo/06rustup_20150311 14b213a80 15Ms2ger: Remove unused lifetime parameters to dictionaries....
[14:14:33] -ghservo- 13servo/06rustup_20150311 146eb9607 15Ms2ger: Don't define empty FooMethods traits.
[14:14:33] -ghservo- 13servo/06rustup_20150311 148283913 15Ms2ger: Upgrade rustc to d3c49d2140fc65e8bb7d7cf25bfe74dda6ce5ecf/rustc-1.0.0-dev.
[14:14:33] *** Parts: ghservo (ghservo@moz-abh.5u0.30.192.IP) ()
[14:14:34] <Ms2ger> SimonSapin, ^
[14:14:51] <Ms2ger> I'm also fixing the remaining script errors
[14:15:05] <SimonSapin> Ms2ger: I was doing the same, but thanks :)
[14:16:55] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[14:16:55] -ghservo- [13servo] 15Ms2ger pushed 1 new commit to 06rustup_20150311: 02http://git.io/p9dS
[14:16:55] -ghservo- 13servo/06rustup_20150311 1474a0d8e 15Ms2ger: More script
[14:16:55] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[14:16:58] <Ms2ger> Ugh, lifetime errors
[14:17:11] <Ms2ger> All yours :)
[14:20:37] *** Quits: mystor_ (mystor@moz-vpa.r78.15.130.IP) (Connection closed)
[14:25:11] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[14:25:46] *** Joins: caitp (caitp@moz-lmogh4.cable.rogers.com)
[14:26:10] *** Joins: barosl (barosl@moz-7vg.qma.67.220.IP)
[14:28:06] *** Quits: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP) (Ping timeout: 121 seconds)
[14:28:29] *** Joins: smerft (Mibbit@moz-juv.9o3.252.72.IP)
[14:29:27] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[14:32:20] *** Joins: ghservo (ghservo@moz-abh.5u0.30.192.IP)
[14:32:20] -ghservo- [13servo] 15SimonSapin pushed 1 new commit to 06rustup_20150311: 02http://git.io/p9hi
[14:32:20] -ghservo- 13servo/06rustup_20150311 147fbd43f 15Simon Sapin: script fixes
[14:32:20] *** Parts: ghservo (ghservo@moz-abh.5u0.30.192.IP) ()
[14:37:17] *** Quits: caitp (caitp@moz-lmogh4.cable.rogers.com) (Ping timeout: 121 seconds)
[14:37:21] *** Joins: aravindavk (aravinda@moz-h9p.vo4.171.122.IP)
[14:39:09] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[14:39:09] -ghservo- [13servo] 15jdm opened issue #5207: Intermittent WPT reftest failure in /2dcontext/shadows/canvas_shadows_002.htm 02http://git.io/pHvN
[14:39:09] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[14:40:27] <SimonSapin> Soâ€¦ I can keep making this silly work arounds, or wait for a potential fix in the compiler https://github.com/rust-lang/rust/issues/23338
[14:40:28] <crowbot> Issue #23338: RefCell::borrow does not pass borrow-check without a seemingly no-op let binding - https://github.com/rust-lang/rust/issues/23338
[14:40:37] *** Joins: garvank (Garvan@moz-i5m.05u.207.66.IP)
[14:41:00] *** Joins: eddyb__ (eddyb@moz-q10.6n6.26.188.IP)
[14:42:51] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[14:42:51] -ghservo- [13servo] 15bors-servo pushed 1 new commit to 06auto: 02http://git.io/pHJ7
[14:42:51] -ghservo- 13servo/06auto 14c05de08 15bors-servo: auto merge of #5206 : Ms2ger/servo/pre-rustup-codegen-cleanup, r=jdm,SimonSapin
[14:42:51] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[14:43:54] *** Quits: eddyb_ (eddyb@moz-mmq.pug.25.188.IP) (Ping timeout: 121 seconds)
[14:45:52] *** AutomatedTester is now known as AutomatedTester|AFK
[14:46:40] *** Joins: Caspy7 (chatzilla@moz-qg6.7b1.185.99.IP)
[14:50:40] *** Quits: jlembeck (jlembeck@moz-gh926i.wa.comcast.net) (A TLS packet with unexpected length was received.)
[14:51:05] *** eddyb__ is now known as eddyb
[14:51:21] *** Joins: larsberg (sid16141@moz-fnneme.uxbridge.irccloud.com)
[14:51:21] *** ChanServ sets mode: +o larsberg
[14:52:08] <Manishearth> SimonSapin: workarounds with a greppable comment please
[14:52:36] * SimonSapin sighs
[14:53:32] <Manishearth> SimonSapin: we can't count on Rust to prioritize bugfixes like this with beta so close (and the team already rather busy) :)
[15:01:12] *** Quits: MrZeus (Orestes@moz-78di83.as13285.net) (Ping timeout: 121 seconds)
[15:02:15] *** Joins: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net)
[15:03:26] *** Joins: fabrice (fabrice@moz-r84lgh.ca.comcast.net)
[15:07:10] * larsberg shudders, as he remembers slews of borrowchk bugs like that in previous rustups... so many fake `let` bindings and scopes...
[15:08:30] *** Quits: Gankro (uid71432@moz-8qssdp.irccloud.com) (Quit: Connection closed for inactivity)
[15:11:13] *** Quits: sunu (quassel@moz-dq2.41e.235.168.IP) (Quit: Bye!)
[15:12:52] <Manishearth> Anyone good with quantum computation?
[15:12:53] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[15:12:53] -ghservo- [13servo] 15SimonSapin pushed 1 new commit to 06rustup_20150311: 02http://git.io/pHnl
[15:12:53] -ghservo- 13servo/06rustup_20150311 14f711d92 15Simon Sapin: Silly work arounds
[15:12:53] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[15:13:17] <SimonSapin> I give up. I mostly understand the work around with RefCell, but with js::Root I have no idea whatâ€™s going on
[15:13:29] <Manishearth> summon the jdm 
[15:13:42] <jdm> hmm?
[15:14:40] <SimonSapin> jdm: for every (?) RefCell::borrow{,_mut} call Iâ€™m adding a work around like this https://github.com/rust-lang/rust/issues/23338 , but for Root::r the same doesnâ€™t seem to have any effect
[15:14:40] <crowbot> Issue #23338: RefCell::borrow does not pass borrow-check without a seemingly no-op let binding - https://github.com/rust-lang/rust/issues/23338
[15:14:56] <jdm> oh dear
[15:15:08] <SimonSapin> itâ€™s in the rustup_20150311 branch
[15:16:41] *** Quits: fabrice (fabrice@moz-r84lgh.ca.comcast.net) (Quit: Leaving.)
[15:17:37] * jdm downloads the snapshot
[15:19:21] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[15:19:31] * Ms2ger computes Manishearth's quanta
[15:19:52] * Manishearth measures Ms2ger, destroying him
[15:20:07] *** Ms2ger is now known as blackhole
[15:20:28] * blackhole consumes Manishearth 
[15:20:32] *** Quits: smerft (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:20:38] *** Manishearth is now known as spaghetti
[15:20:46] <blackhole> Hmm, spaghetti 
[15:20:55] <spaghetti> http://en.wikipedia.org/wiki/Spaghettification
[15:21:08] <spaghetti> physicists are great at naming things
[15:21:39] <blackhole> Like the GUT and the TOE?
[15:21:42] *** blackhole is now known as Ms2ger
[15:21:45] <spaghetti> yep
[15:21:48] *** spaghetti is now known as Manishearth
[15:22:03] <jdm> ahaha, the noodle effect
[15:22:07] <Ms2ger> See, that's why we keep you around :)
[15:22:19] <Ms2ger> CS people are awful
[15:22:44] <Manishearth> lol
[15:23:13] * jack goes back to the memory grind
[15:23:27] <jack> jdm: Does hte fact that it is reproducible with -y 1 make watchpoints any easier?
[15:23:35] <jdm> jack: haven't checked; I'll do so right now
[15:23:39] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[15:23:40] <jack> Or is just the fact that both script and layout access that memory make it impossible?
[15:25:03] <jdm> no difference for hardware watchpoints
[15:25:11] <jdm> script shouldn't be accessing it afaict
[15:25:16] <jdm> it's a field in a type that script doesn't know about
[15:25:20] <jack> Script initializes it, no?
[15:25:32] <jdm> layout does
[15:25:37] <jack> I guess it's a *mut pointer 
[15:25:43] <jack> and we want to watch the actual allocation
[15:26:02] * jdm is watching for write to the actual flow_construction_result field
[15:26:07] <jdm> should I be watching something else?
[15:26:22] <jack> No, that's the right spot.
[15:33:52] *** Joins: caitp (caitp@moz-lmogh4.cable.rogers.com)
[15:33:53] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[15:33:53] -ghservo- [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/pHzC
[15:33:53] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[15:35:12] *** Joins: mystor_ (mystor@moz-vpa.r78.15.130.IP)
[15:36:51] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[15:36:51] -ghservo- [13servo] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/pHgp
[15:36:51] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[15:36:52] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[15:36:52] -ghservo- [13servo] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/pHgh
[15:36:52] -ghservo- 13servo/06auto 14fafc357 15James Gilbertson: Fix broken viewport percentage length units after a viewport resize....
[15:36:52] -ghservo- 13servo/06auto 14a508070 15bors-servo: auto merge of #5180 : luniv/servo/viewport-length-cached-values-invalidation, r=SimonSapin...
[15:36:52] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[15:38:53] *** Quits: caitp (caitp@moz-lmogh4.cable.rogers.com) (Ping timeout: 121 seconds)
[15:38:59] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[15:38:59] -ghservo- [13rust-core-text] 15jdm created 06rustup_20150311 (+1 new commit): 02http://git.io/pHaY
[15:38:59] -ghservo- 13rust-core-text/06rustup_20150311 148809f01 15Josh Matthews: Upgrade to rustc 1.0.0-dev (d3c49d214 2015-03-10) (built 2015-02-24)
[15:38:59] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[15:39:20] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[15:39:20] -ghservo- [13rust-core-text] 15jdm opened pull request #35: Upgrade to rustc 1.0.0-dev (d3c49d214 2015-03-10) (built 2015-02-24) (06master...06rustup_20150311) 02http://git.io/pHal
[15:39:20] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[15:41:02] *** Joins: mkcp (mkcp@moz-5ln.0t9.55.68.IP)
[15:41:31] *** Quits: mkcp (mkcp@moz-5ln.0t9.55.68.IP) (Connection closed)
[15:41:53] *** Joins: mkcp (mkcp@moz-5ln.0t9.55.68.IP)
[15:42:01] *** Quits: mkcp (mkcp@moz-5ln.0t9.55.68.IP) (Connection closed)
[15:42:03] *** Joins: mkcp (mkcp@moz-5ln.0t9.55.68.IP)
[15:45:18] *** Joins: jlembeck (jlembeck@moz-gh926i.wa.comcast.net)
[15:46:25] *** Quits: mihneadb (mihneadb@moz-b5r.gbu.120.86.IP) (Connection closed)
[15:46:42] *** Quits: mystor_ (mystor@moz-vpa.r78.15.130.IP) (Connection closed)
[15:48:17] *** Joins: mihneadb (mihneadb@moz-b5r.gbu.120.86.IP)
[15:48:23] *** Quits: oldornew (oldornew@moz-369lu1.dynamic.simnet.is) (Quit: Leaving)
[15:48:23] *** Quits: mahdi (mahdi@moz-3df.lbl.244.151.IP) (Connection closed)
[15:48:52] *** Joins: ghservo (ghservo@moz-abh.5u0.30.192.IP)
[15:48:52] -ghservo- [13rust-io-surface] 15jdm created 06rustup_20150311 (+1 new commit): 02http://git.io/pHKz
[15:48:52] -ghservo- 13rust-io-surface/06rustup_20150311 14f380a03 15Josh Matthews: Upgrade to rustc 1.0.0-dev (d3c49d214 2015-03-10) (built 2015-02-24)
[15:48:52] *** Parts: ghservo (ghservo@moz-abh.5u0.30.192.IP) ()
[15:48:59] *** Joins: ghservo (ghservo@moz-abh.5u0.30.192.IP)
[15:48:59] -ghservo- [13rust-io-surface] 15jdm opened pull request #28: Upgrade to rustc 1.0.0-dev (d3c49d214 2015-03-10) (built 2015-02-24) (06master...06rustup_20150311) 02http://git.io/pHKr
[15:48:59] *** Parts: ghservo (ghservo@moz-abh.5u0.30.192.IP) ()
[15:49:45] *** Quits: valentin (icecold@moz-rd8.ia0.125.86.IP) (Quit: Leaving.)
[15:51:24] *** mdoglio is now known as mdoglio|bbiab
[15:52:24] <jdm> Manishearth: looks like the travis integration for https://travis-ci.org/servo/rust-core-text/builds/54261796 is kind of messed up
[15:53:57] <Manishearth> jdm: no osx
[15:56:17] <jdm> ah
[15:56:29] *** Joins: mystor (mystor@moz-vpa.r78.15.130.IP)
[15:59:02] <Manishearth> jdm: I had flipped the switch on those three repos first
[15:59:12] <Manishearth> but no osx, so I didn't finish the job
[15:59:17] <Manishearth> you can turn travis off for them
[15:59:20] <Manishearth> if you want
[16:00:15] <Ms2ger> jdm, I'm trying to implement usvstring right now
[16:01:11] <jdm> <3
[16:01:33] *** Joins: bholley (bholley@moz-qpv0dk.ca.comcast.net)
[16:03:54] *** Joins: ProgramFOX (ProgramFOX@moz-r4a2r0.isp.belgacom.be)
[16:04:00] *** Joins: fabrice (fabrice@moz-9ffabk.ujol.1ibb.0101.2620.IP)
[16:04:46] *** Joins: luniv (textual@moz-25e.rfv.3.74.IP)
[16:04:49] *** AutomatedTester|AFK is now known as AutomatedTester
[16:06:59] *** Joins: hoverbear (hoverbear@moz-1opgd3.wireless.uvic.ca)
[16:09:15] *** Quits: mihneadb (mihneadb@moz-b5r.gbu.120.86.IP) (Connection closed)
[16:09:35] *** Joins: mihneadb (mihneadb@moz-b5r.gbu.120.86.IP)
[16:11:13] *** darkowlzz|afk is now known as darkowlzz
[16:11:35] <jack> Whee! found the memory leak
[16:11:43] <jack> it's with absolute positioned elements
[16:12:02] <Ms2ger> \o/
[16:12:13] <Ms2ger> Wait, your test cases didn't have any
[16:12:39] <jack> http://mxr.mozilla.org/servo/source/components/layout/flow.rs#1313
[16:12:46] <jack> ms2ger: it does if you look carefully
[16:13:05] <jack> That fucntion sets a backpointer to the root flow on every abs position descendant
[16:13:22] <jack> or rather, to the containing block
[16:13:32] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[16:13:35] <larsberg> Nice work!
[16:13:45] *** darkowlzz is now known as darkowlzz|afk
[16:13:51] <jack> For some reason jdm's watchpoint idea worked on my gdb
[16:14:17] <jack> Now we need WeakFlowRefs i guess
[16:16:30] *** darkowlzz|afk is now known as darkowlzz
[16:17:48] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[16:18:21] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[16:18:50] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[16:18:50] -ghservo- [13servo] 15bors-servo closed pull request #5180: Fix broken viewport percentage length units after a viewport resize. (06master...06viewport-length-cached-values-invalidation) 02http://git.io/p3lg
[16:18:50] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[16:21:10] <luniv> Is there a way to write/run unit tests for a component (in my case, style) without having to rebuild the entire tree?
[16:22:50] *** mdoglio|bbiab is now known as mdoglio
[16:24:19] <jack> luniv: if nothing else `./mach cargo test -p style` should work
[16:24:30] <luniv> That's what I'm using now
[16:24:35] <luniv> er
[16:24:38] <luniv> nvm
[16:24:48] <luniv> ./mach test-unit
[16:25:08] <jack> test-unit runs all the components
[16:25:19] <jack> included components/servo so it has to build them all
[16:25:25] *** ahal is now known as ahal|lunch
[16:27:42] *** Quits: dstrbad (dstrbad@moz-gj8m09.cable.xnet.hr) (A TLS packet with unexpected length was received.)
[16:27:59] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[16:30:04] *** Joins: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP)
[16:30:19] <luniv> Ah. It worked! Thanks!
[16:30:33] <Caspy7> Oh hey, the Fosdem talk is finally up
[16:30:37] <luniv> 3 minutes per change was getting old
[16:30:37] <Caspy7> http://video.fosdem.org/2015/devroom-mozilla/
[16:31:04] <Ms2ger> test-unit is the worst
[16:32:07] <luniv> Maybe it should print a note saying something to that effect
[16:32:25] <luniv> e.g. You probably want ./mach cargo test <whatever>
[16:32:52] *** Quits: hoverbear (hoverbear@moz-1opgd3.wireless.uvic.ca) (Quit: Time to hibernate.... ZzZz...)
[16:33:42] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[16:38:27] *** Joins: dbaron (dbaron@moz-rb4k89.dynamic.fusionbroadband.com)
[16:38:43] *** AutomatedTester is now known as AutomatedTester|AFK
[16:39:48] *** Quits: agile (mike@moz-m71dqt.rcsntx.sbcglobal.net) (Connection closed)
[16:41:30] *** Joins: Gankro (uid71432@moz-sc2bd6.charlton.irccloud.com)
[16:41:47] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[16:42:51] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[16:42:51] -ghservo- [13servo] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/pQTp
[16:42:51] -ghservo- 13servo/06auto 14d80abce 15James Gilbertson: Reftests for viewport percentage length units
[16:42:51] -ghservo- 13servo/06auto 142382d71 15bors-servo: auto merge of #5164 : luniv/servo/viewport-length-units-reftests, r=jdm...
[16:42:51] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[16:45:03] *** Joins: mystor_ (mystor@moz-vpa.r78.15.130.IP)
[16:45:21] *** Quits: mystor (mystor@moz-vpa.r78.15.130.IP) (Connection closed)
[16:45:58] *** mystor_ is now known as mystor
[16:46:30] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[16:46:30] *** ChanServ sets mode: +o brson
[16:46:34] <jack> Why does BaseFLow have the ref counts and not FlowRef?
[16:46:39] <jack> That seems kind of odd.
[16:46:51] *** Joins: pcwalton (pcwalton@moz-u92.384.6.71.IP)
[16:46:52] *** ChanServ sets mode: +o pcwalton
[16:47:29] <jdm> jack: because you need to store the atomicuint somewhere shared, presumably
[16:47:30] <jack> pcwalton: memory leak is http://mxr.mozilla.org/servo/source/components/layout/flow.rs#1313
[16:47:34] *** jandem is now known as jandem-away
[16:47:46] <jack> pcwalton: Why does BaseFLow have the ref counts and not FlowRef? That seems odd.
[16:47:49] <jack> Arc stores it internally
[16:48:05] <pcwalton> because you need to store the atomicuint somewhere shared
[16:48:14] <pcwalton> as jdm said
[16:48:37] <jack> I don't understand why it's different that Arc<T>
[16:48:47] <pcwalton> hmm, looks like that's creating a cycle
[16:48:54] <pcwalton> Arc<T> stores the T by value
[16:49:00] <pcwalton> Arc --> { ref count, T }
[16:49:03] <jack> pcwalton: It sure is. One for each abs positioned element :)
[16:49:04] <pcwalton> whereas FlowRef is
[16:49:24] <pcwalton> FlowRef --> BaseFlow
[16:49:52] <pcwalton> nice sleuthing
[16:50:09] <jack> FlowRef is a trait object
[16:50:26] <jack> sotres one i mean
[16:50:42] <pcwalton> right
[16:50:43] <pcwalton> so the short answer is
[16:50:45] <pcwalton> "no DST"
[16:51:47] <pcwalton> if we had DST we could do the same thing that Arc does
[16:51:50] <pcwalton> but we don't
[16:54:09] *** AutomatedTester|AFK is now known as AutomatedTester
[16:54:17] *** Quits: aravindavk (aravinda@moz-h9p.vo4.171.122.IP) (Quit: Konversation terminated!)
[16:54:31] <Ms2ger> pcwalton, Arc<Trait> doesn't work yet, does it?
[16:54:37] <pcwalton> Ms2ger: right
[16:54:39] <pcwalton> that's the problem :)
[16:55:07] <pcwalton> are people OK if I don't implement the unspecced Gecko/WebKit behavior for the corners of borders for border-collapse?
[16:56:18] <pcwalton> Gecko does one thing while WebKit/WeasyPrint do another thing, and Gecko's thing looks better than what WebKit does, but the spec is silent on what to do and doing either would be a tremendous pain
[16:57:07] <larsberg> are the unspec'd behaviors logged with whomever owns the spec as either bugs or e-mail thread?
[16:57:12] <pcwalton> not yet
[16:57:43] <Ms2ger> I'm not ok with implementing anything unspecced :)
[16:57:45] <larsberg> I'm personally fine with not implementing things that are in the spec, but it would be good to get that thread started since we'll presumably have to tackle it at some point just to make pages work
[16:57:48] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[16:57:48] -ghservo- [13servo] 15jdm pushed 2 new commits to 06rustup_20150311: 02http://git.io/pQOS
[16:57:48] -ghservo- 13servo/06rustup_20150311 140c12dd9 15Josh Matthews: Make script build.
[16:57:48] -ghservo- 13servo/06rustup_20150311 14d940e7c 15Josh Matthews: Update mac deps.
[16:57:48] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[16:57:58] <larsberg> s/are in the spec/are not in the spec/
[16:58:07] <pcwalton> larsberg: well, maybe. I'm honestly not sure how much this literal "corner case" matters
[16:58:34] <larsberg> pun winner for today... pcwalton!
[16:58:34] <SimonSapin> pcwalton: shoot an email about it to www-style noting lack of interop, but donâ€™t count on it causing much
[16:58:41] *** Joins: agile (mike@moz-m71dqt.rcsntx.sbcglobal.net)
[16:58:56] <pcwalton> SimonSapin: yeah, I figure nobody really wants to do anything
[16:59:01] <pcwalton> it's nasty table layout stuff
[16:59:04] <SimonSapin> CSS 2, and especially the tables chapter, is not really being maintained
[16:59:10] <pcwalton> and in Gecko nobody wants to touch table layout
[16:59:14] <pcwalton> and I imagine WebKit is similar
[16:59:45] <SimonSapin> pcwalton: also, if we donâ€™t have interop and nobody cared enough to fix itâ€¦ maybe you can get away doing whatever
[16:59:56] <SimonSapin> with* doing
[17:00:02] <pcwalton> it's only one of multiple interop problems I've noticed with border-collapse
[17:00:14] <pcwalton> Gecko and WebKit have this weird behavior whereby large borders push table elements "out of the way"
[17:00:23] <pcwalton> table cells, rather
[17:00:51] <pcwalton> so table cells will appear misaligned with other table cells
[17:01:30] <pcwalton> I don't see any spec language allowing this to happen, and the diagram in fact seems to forbid it
[17:02:31] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[17:08:14] <SimonSapin> pcwalton: "pushing out of the way" sounds like content_rect = border_rect - padding_rect
[17:08:41] <pcwalton> SimonSapin: but shouldn't all cells in the same row be aligned with each other?
[17:08:44] <SimonSapin> the cell ends up with a border-*-width based on the winning collapsed border
[17:09:04] <SimonSapin> it depends
[17:09:15] <SimonSapin> aligned vertically or horizontally?
[17:09:23] *** Joins: Savago (Savago@moz-6cf.6cr.244.17.IP)
[17:09:40] <pcwalton> well, both
[17:09:45] <pcwalton> in this case vertically
[17:09:52] <SimonSapin> `vertical-align` defaults to `baseline`, so yes they should align
[17:10:00] <pcwalton> in Gecko and WebKit they don't
[17:10:05] <pcwalton> I can show you a picture
[17:10:11] <SimonSapin> but with `vertical-align: top` they might get a different border-top-width
[17:10:27] <Savago> Good morning.
[17:10:29] <SimonSapin> then maybe thatâ€™s a bug
[17:10:34] <SimonSapin> Hi Savago
[17:10:40] *** Joins: azita (Azita@moz-cfhap5.mtv2.mozilla.com)
[17:10:41] <SimonSapin> good evening :)
[17:10:45] <Savago> SimonSapin: hi there, Simon. :-)
[17:11:34] <Manishearth> happy midnight
[17:11:42] *** ahal|lunch is now known as ahal
[17:11:59] <pcwalton> SimonSapin: https://dl.dropboxusercontent.com/u/4186469/Screen%20Shot%202015-03-13%20at%2010.10.37%20AM.png look at the top row
[17:12:03] <pcwalton> that is Gecko
[17:12:37] <pcwalton> SimonSapin: https://dl.dropboxusercontent.com/u/4186469/Screen%20Shot%202015-03-13%20at%2010.12.17%20AM.png this is Servo
[17:12:37] <SimonSapin> pcwalton: whatâ€™s the CSS/HTML?
[17:13:07] <pcwalton> SimonSapin: https://gist.github.com/pcwalton/77ca27bb4b724551a59a
[17:13:34] <SimonSapin> pcwalton: yeah, this mis-alignment in Gecko looks like a bug to me
[17:13:37] *** jandem-away is now known as jandem
[17:13:46] <pcwalton> SimonSapin: notice it also happens with the 6 on the right side
[17:13:52] <pcwalton> WebKit duplicates this behavior, weirdly
[17:13:57] <pcwalton> I wonder if WebKit just copied Gecko's code
[17:14:04] <SimonSapin> the 6 I can explain
[17:14:16] <SimonSapin> there is not horizontal equivalent to vertical-align
[17:14:39] <Manishearth> pcwalton: clearly, this is Sparta(aaaaa)
[17:14:50] <SimonSapin> the 6 cell behaves as if it had border-left-width of half the blue border
[17:14:53] <Manishearth> so is everyone wrong?
[17:15:00] *** AutomatedTester is now known as AutomatedTester|AFK
[17:15:45] <Savago> Manishearth: probably. But I bet some money FF is the closer to be right. :-)
[17:15:51] *** Joins: ghservo (ghservo@moz-abh.5u0.30.192.IP)
[17:15:51] -ghservo- [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/pQTp
[17:15:51] *** Parts: ghservo (ghservo@moz-abh.5u0.30.192.IP) ()
[17:15:52] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[17:15:52] -ghservo- [13servo] 15bors-servo closed issue #5165: Add reftests for viewport-relative units 02http://git.io/xpco
[17:15:52] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[17:15:57] <pcwalton> well Gecko and WebKit agree here
[17:16:13] <Savago> And WK probably copied Gecko behavior.
[17:16:14] *** Joins: crowbot1 (nodebot@moz-7cglvj.compute-1.amazonaws.com)
[17:16:18] <Manishearth> pcwalton: IE?
[17:16:21] *** Quits: mystor (mystor@moz-vpa.r78.15.130.IP) (Connection closed)
[17:16:22] <pcwalton> haven't tested in IE
[17:16:52] <Savago> Oddly enough, SVG support generally is better in some cases in IE than WK.
[17:17:12] *** Quits: crowbot1 (nodebot@moz-7cglvj.compute-1.amazonaws.com) (A TLS packet with unexpected length was received.)
[17:17:26] <jdm> grumble
[17:17:36] <pcwalton> SimonSapin: I'm somewhat confused, but it's hard for me to explain how I interpreted the spec on IRC :)
[17:17:38] <jdm>  /Users/jdm/src/dev-servo/components/layout/wrapper.rs:171:10: 171:14 error: the trait `Copy` may not be implemented for this type; field `chain` does not implement `Copy` [E0204]
[17:17:48] <jdm> chain is a ContravariantLifetime marker
[17:17:49] <pcwalton> would need to whiteboard this
[17:17:49] <jdm> halp
[17:18:17] <Manishearth> jdm: but it does?
[17:18:18] <pcwalton> isn't ContravariantLifetime replaced with PhantomData?
[17:18:18] <pcwalton> or something
[17:18:23] <Manishearth> pcwalton: not yet
[17:18:37] <SimonSapin> pcwalton: http://result.dabblet.com/gist/b4a09530b68db29862c8/e0ed020ea8ac9a72486cfc2e244e3a775e791622 foo and bar are not aligned
[17:18:39] <jdm> PhantomData doesn't take lifetime parameters
[17:18:41] <Manishearth> we have the dubious distinction of living in the past
[17:18:53] <Manishearth> jdm: ContravariantLifetime is Copy
[17:18:55] <Manishearth> jdm: yes it does
[17:19:03] <Manishearth> jdm: PhantomData<&'a ()>
[17:19:38] <SimonSapin> Manishearth: ContravariantLifetime seems not to be Copy anymore or something, I had to change one instance to PhantomData<&'a ()>
[17:19:52] <Manishearth> SimonSapin: jdm oh, you guys are rustupping
[17:19:59] <Manishearth> move *everything* to PhantomData
[17:20:06] <Manishearth> &'a () is the way to go
[17:20:10] <pcwalton> SimonSapin: right, but I interpreted border-collapse as making the gridlines always have uniform width throughout the table, based on that diagram
[17:20:19] <pcwalton> I mean, not uniform throughout the table
[17:20:23] <pcwalton> but uniform in a single row or column
[17:20:25] <pcwalton> it's hard to explain
[17:20:36] <SimonSapin> jdm: so you managed to fix script in the rustup?
[17:20:54] <jdm> SimonSapin: yep
[17:21:21] <SimonSapin> pcwalton: each column has a given width, and the content width of cells in that column is column width - borders - padding
[17:21:27] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[17:21:27] -ghservo- [13servo] 15jdm pushed 1 new commit to 06rustup_20150311: 02http://git.io/pQBa
[17:21:27] -ghservo- 13servo/06rustup_20150311 149bfc829 15Josh Matthews: Easy layout fixes.
[17:21:27] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[17:21:34] <jdm> ok, I need to get back to non rustup activities
[17:21:41] <jdm> and the errors look more complicated now
[17:21:44] *** Quits: mihneadb (mihneadb@moz-b5r.gbu.120.86.IP) (Connection closed)
[17:21:57] *** Joins: mihneadb (mihneadb@moz-b5r.gbu.120.86.IP)
[17:22:33] *** Joins: mystor (mystor@moz-vpa.r78.15.130.IP)
[17:23:10] <pcwalton> SimonSapin: yes, OK, I see
[17:23:25] *** Quits: mihneadb (mihneadb@moz-b5r.gbu.120.86.IP) (Quit: Computer gone to sleep - Zzzz...)
[17:23:48] <pcwalton> I guess I had assumed that in border-collapse the widths of the content areas of all cells within a column were the same, but the spec doesn't say that
[17:24:12] <pcwalton> it *looks* better that way IMO ;) but the spec doesn't say it, so
[17:24:12] <pcwalton> OK
[17:24:20] <pcwalton> I'll change to do what Gecko does then
[17:25:18] <SimonSapin> pcwalton: thatâ€™s how I interpret http://dev.w3.org/csswg/css2/images/tbl-width.png
[17:25:59] <pcwalton> SimonSapin: yeah, unfortunately it's ambiguous as to this exact question, because there's only one row shown and the content heights in that row is all the same
[17:26:07] *** Quits: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP) (Ping timeout: 121 seconds)
[17:26:09] <SimonSapin> indeed
[17:26:11] <pcwalton> that diagram is ambiguous here, that is
[17:26:23] *** Quits: garvank (Garvan@moz-i5m.05u.207.66.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[17:26:49] *** Quits: bholley (bholley@moz-qpv0dk.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[17:27:13] <pcwalton> in order to clarify it would either need to (a) have the bottom border have different widths on different cells or (b) show more than one row, with the left or right borders of different widths on different cells
[17:27:31] *** jdm is now known as jdm|away
[17:28:25] *** Quits: pcwalton (pcwalton@moz-u92.384.6.71.IP) (Connection closed)
[17:28:33] *** Joins: pcwalton (pcwalton@moz-u92.384.6.71.IP)
[17:28:34] *** ChanServ sets mode: +o pcwalton
[17:29:48] *** Joins: hoverbear (hoverbear@moz-1opgd3.wireless.uvic.ca)
[17:31:18] *** Quits: laumann (thomas@moz-fso.hq0.225.130.IP) (Ping timeout: 121 seconds)
[17:32:23] *** Joins: mihneadb (mihneadb@moz-b5r.gbu.120.86.IP)
[17:32:37] *** Quits: pcwalton (pcwalton@moz-u92.384.6.71.IP) (Ping timeout: 121 seconds)
[17:36:14] *** Quits: mystor (mystor@moz-vpa.r78.15.130.IP) (Connection closed)
[17:36:34] *** Joins: mystor (mystor@moz-vpa.r78.15.130.IP)
[17:37:36] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[17:38:10] *** Joins: chmanchester (Chris@moz-e7ufq6.2rkg.9kg1.0101.2620.IP)
[17:41:53] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[17:42:32] *** Quits: mystor (mystor@moz-vpa.r78.15.130.IP) (Ping timeout: 121 seconds)
[17:43:18] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[17:43:19] *** ChanServ sets mode: +o pcwalton
[17:43:40] *** Joins: garvank (Garvan@moz-i5m.05u.207.66.IP)
[17:45:22] *** Quits: mihneadb (mihneadb@moz-b5r.gbu.120.86.IP) (Quit: Computer gone to sleep - Zzzz...)
[17:45:53] <SimonSapin> pcwalton: thatâ€™s good feedback for when "someone" will rewrite that spec
[17:46:12] <SimonSapin> which might be me, *maybe*, *some day*
[17:46:16] <pcwalton> :)
[17:47:04] *** Quits: chmanchester (Chris@moz-e7ufq6.2rkg.9kg1.0101.2620.IP) (Ping timeout: 121 seconds)
[17:47:51] *** Joins: chmanchester (Chris@moz-e7ufq6.2rkg.9kg1.0101.2620.IP)
[17:47:55] *** Joins: mihneadb (mihneadb@moz-b5r.gbu.120.86.IP)
[17:48:38] <SimonSapin> uh the remaining rustup issues are scary
[17:48:41] *** Quits: garvank (Garvan@moz-i5m.05u.207.66.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[17:48:53] <SimonSapin> *mut util::deque::Buffer<util::workqueue::WorkUnit<context::SharedLayoutContextWrapper, (usize, usize)>> is not Send
[17:51:13] <larsberg> Isn't that our usual "newtype and unsafe impl Send" all the raw pointers pattern? https://github.com/servo/servo/blob/a50807051b0ff9a46ce6f76189617534b8294276/components/layout/context.rs#L92-L93
[17:53:06] *** Joins: garvank (Garvan@moz-i5m.05u.207.66.IP)
[17:55:39] *** jdm|away is now known as jdm
[17:57:34] <SimonSapin> larsberg: probably, but typing `unsafe impl` is saying "yes I know what Iâ€™m doing", but I donâ€™t :)
[17:57:50] <kmc> yeah I don't think one should blindly create such wrappers
[17:58:11] <kmc> I'm guessing from the name that it'd be inappropriate to replace SharedLayoutContextWrapper with Unique<SharedLayoutContext>
[17:58:44] <kmc> if it's shared, should it have a lifetime?
[17:59:31] <kmc> struct SharedLayoutContextWrapper<'a> { pub ptr: *const SharedLayoutContext, _phantom: PhantomData<&'a SharedLayoutContext> }
[17:59:36] <kmc> g2g
[18:02:05] *** Quits: mihneadb (mihneadb@moz-b5r.gbu.120.86.IP) (Quit: Computer gone to sleep - Zzzz...)
[18:02:07] *** Joins: bholley (bholley@moz-qpv0dk.ca.comcast.net)
[18:04:34] *** Joins: gozala (uid5923@moz-1vt7bj.irccloud.com)
[18:07:02] *** Quits: jevin (jevin@moz-sra.ovp.12.72.IP) (Quit: Textual IRC Client: www.textualapp.com)
[18:16:53] *** Joins: chc4 (chc4@moz-pdo0at.ma.comcast.net)
[18:19:02] *** Quits: hoverbear (hoverbear@moz-1opgd3.wireless.uvic.ca) (Quit: Time to hibernate.... ZzZz...)
[18:21:45] *** Joins: jevin (jevin@moz-sra.ovp.12.72.IP)
[18:22:38] *** Quits: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[18:23:23] *** jandem is now known as jandem-away
[18:25:42] *** Quits: bholley (bholley@moz-qpv0dk.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[18:27:43] *** Quits: garvank (Garvan@moz-i5m.05u.207.66.IP) (Quit: )
[18:27:50] *** Joins: garvank (Garvan@moz-i5m.05u.207.66.IP)
[18:31:45] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[18:31:51] *** Quits: capella (chatzilla@moz-a6lqme.res.rr.com) (Connection closed)
[18:33:35] *** Joins: capella (chatzilla@moz-a6lqme.res.rr.com)
[18:36:04] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[18:37:43] *** Quits: dbaron (dbaron@moz-rb4k89.dynamic.fusionbroadband.com) (Quit: 8403864 bytes have been tenured, next gc will be global.)
[18:45:54] *** Quits: ProgramFOX (ProgramFOX@moz-r4a2r0.isp.belgacom.be) (Quit: ChatZilla 0.9.91.1 [Firefox 36.0.1/20150305021524])
[19:00:36] *** Joins: nrc|afk (nrc|afk@moz-4bhi2i.xtra.co.nz)
[19:02:17] * jack implemented WeakFlowRef and fixed the bug. Servo just compiled without errors. Let's test!
[19:03:39] <jack> WOOHOO
[19:03:40] <jack> FIRST TRY
[19:06:25] * jack tests wikipedia now
[19:06:59] <jdm> jack: nice!
[19:10:02] *** Joins: Jayflux (Jason@moz-03lsr1.as13285.net)
[19:11:33] <Ms2ger> \o/
[19:16:59] <jack> Sigh. There is apparently another leak.
[19:17:12] <jack> Wikipedia still grows
[19:17:18] *** Quits: luniv (textual@moz-25e.rfv.3.74.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[19:18:13] <jack> pcwalton: Does the one leak I found trigger any ideas for others you may remember?
[19:18:34] <pcwalton> are you sure you fixed that leak?
[19:18:47] <pcwalton> I'm not sure, although the inline hypothetical box might still be a problem
[19:19:50] <jack> The root flow now gets dropped when it should.
[19:19:55] <jack> That's as far as I've looked so far.
[19:20:51] <pcwalton> hmm, not sure off the top of my head, but you might try looking at the inline hypothetical box
[19:22:49] *** Quits: Savago (Savago@moz-6cf.6cr.244.17.IP) (Client exited)
[19:23:08] *** Joins: gw (uid31717@moz-hcr55a.charlton.irccloud.com)
[19:23:08] *** ChanServ sets mode: +o gw
[19:24:49] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[19:24:49] -ghservo- [13servo] 15Ms2ger opened pull request #5208: Implement USVString. (06master...06USVString) 02http://git.io/p7ae
[19:24:49] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[19:25:46] <jack> First I will check all the flows in the simple reftest to make sure they all get freed
[19:25:56] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[19:26:25] <Ms2ger> jdm, ^
[19:26:48] <jdm> you're the best
[19:26:51] <jdm> beat the rest
[19:27:18] *** Joins: caitp (caitp@moz-lmogh4.cable.rogers.com)
[19:29:29] <larsberg> mbrubeck: as far as you know, are the instructions at https://github.com/servo/servo/wiki/Building-for-Android#installing-and-running-on-device correct?
[19:29:42] <Manishearth> jdm: yesterday I held a session on open source (specifically geared towards gsoc). We have a facebook group for open source which I asked them to join for further questions. We had repeatedly encouraged them to ask questions on IRC or on the group, yet today I've been pinged twice with private questions.
[19:29:52] <Manishearth> And yesterday we answered a lot of questions
[19:29:59] <larsberg> I was trying a --release --android build, and it installs properly, but the activity "com.example.native_activity/rust.glutin.MainActivity" does not appear correct and I'm just starting to dig into it
[19:30:04] <Manishearth> Any idea how to get people to stop being scared of asking qeustions publically?
[19:30:26] <larsberg> (the app definitely exists on-device - I can click and watch it crash <grin>)
[19:30:55] <Manishearth> larsberg: linker erros?
[19:30:57] <Manishearth> *errors
[19:31:06] <Manishearth> please don't let it be linker errors
[19:31:17] <mbrubeck> larsberg: I've never tried `am start` command
[19:31:23] <larsberg> oh, it's "com.example.native_activity/android.app.NativeActivity"
[19:31:25] *** Quits: caitp (caitp@moz-lmogh4.cable.rogers.com) (Ping timeout: 121 seconds)
[19:31:34] <larsberg> I should have just read the logcat after clicking on it in-UI :-)
[19:31:34] <jdm> Manishearth: all I've got is "That's a great question, and I think you should ask it at X"
[19:31:45] <mbrubeck> Manishearth: https://github.com/servo/servo/issues/5145
[19:31:45] <crowbot> Issue #5145: Android startup fails loading libmain.so due to OpenSSL library failure - https://github.com/servo/servo/issues/5145
[19:31:46] <larsberg> mbrubeck: How are you starting it? Just clicking on it?
[19:32:05] <mbrubeck> larsberg: Yeah, just tapping the launcher icon.
[19:32:14] <Manishearth> jdm: right, done that :)
[19:32:19] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[19:32:29] <Manishearth> jdm: that only works if it's me they're pinging though
[19:32:33] <jdm> yep
[19:33:02] <larsberg> mbrubeck: Is there more than just installing the APK now? Or does the APK sometimes miss files? See: https://www.irccloud.com/pastebin/gbqA6CpJ
[19:33:05] <jdm> I presume it's a thing where people are afraid to parade their ignorance in public when they're just starting to dip their toes in
[19:33:12] <Manishearth> yeah, it is
[19:33:27] <jdm> I haven't figured out ways to offset that except to show "experts" doing the same thing
[19:33:31] <Manishearth> we'd discussed this at the Portland session too, IIRC you were there at the time (though not in the discussion at lunch)
[19:34:13] <Manishearth> jdm: the main issue is that even if experts are willing to do this, it won't change much since the people are afraid of connecting with the experts in the first place :)
[19:34:16] <mbrubeck> larsberg: That's the same error I'm getting in https://github.com/servo/servo/issues/5145
[19:34:16] <crowbot> Issue #5145: Android startup fails loading libmain.so due to OpenSSL library failure - https://github.com/servo/servo/issues/5145
[19:34:31] <Manishearth> catch-22 I guess
[19:34:35] <larsberg> Aha, I should have read the link the first time you pasted it :-)
[19:34:41] <mbrubeck> larsberg: libmain.so is there, but it fails trying to load shared libraries it depends on.
[19:34:43] * larsberg apologizes
[19:34:59] <larsberg> Manishearth: that's a great example of somebody with an @-symbol totally failing to read the IRC chatter, btw :-)
[19:35:14] <jdm> self.dependsOn = "Everything"
[19:35:17] <Manishearth> mbrubeck: openssl issues?
[19:35:19] <jdm> self.affects = "Everything"
[19:35:21] <mbrubeck> Manishearth: yes
[19:35:22] <Manishearth> is that my fault?
[19:35:26] <mbrubeck> Manishearth: I don't think so
[19:35:33] <Ms2ger> jdm, that's the extended [Pure]
[19:35:42] <mbrubeck> Manishearth: We got everything working, but then it broke again in the last rustup. :/
[19:35:43] <Manishearth> mbrubeck: perhaps adding a symlink to the build steps?
[19:35:45] <jdm> yeah, it just struck me as fitting
[19:35:57] <Manishearth> wait we link statically, right?
[19:36:00] <larsberg> mbrubeck: Makes sense. I'll try to just get the APK up regardless; I was actually pretty excited that it even built an APK that installed with "--release" passed, honestly :-)
[19:36:02] <jdm> mbrubeck: you should get it working again just in time for this new upgrade :)
[19:36:05] <Manishearth> larsberg: lol
[19:36:12] <mbrubeck> larsberg: Nice. What's the file size?
[19:36:24] <larsberg> mbrubeck: it's only 13.8MB!
[19:36:30] <larsberg> That's... totally reasonable
[19:36:33] <mbrubeck> yeah!
[19:38:11] <larsberg> jdm: when we get emulators working that test android & gonk, we'll see who's laughing during that next rustup... }:-)
[19:39:07] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[19:40:31] *** chmanchester is now known as chmanchester|lunch
[19:42:01] <Manishearth> larsberg: I think at that point we'd just ungate and walk away from the burning builders
[19:42:04] *** AutomatedTester|AFK is now known as AutomatedTester
[19:42:07] <Manishearth> http://i0.kym-cdn.com/photos/images/facebook/000/000/130/disaster-girl.jpg
[19:42:11] <Manishearth> https://pbs.twimg.com/media/BjOBqpkCMAAJuni.jpg
[19:46:04] <larsberg> Manishearth: r-
[19:46:33] <jack> the second one made me laugh
[19:50:42] <Manishearth> larsberg: http://i.imgur.com/dw2LtIk.jpg you mean
[19:50:56] *** Quits: fabrice (fabrice@moz-9ffabk.ujol.1ibb.0101.2620.IP) (Quit: Leaving.)
[19:51:51] <tomaka> Manishearth: wait, I just found a loophole
[19:51:51] * larsberg is not entirely disappointed by being characterized as Grumpy Cat
[19:51:57] <Manishearth> haha
[19:52:03] <Manishearth> tomaka: ?
[19:52:05] <tomaka> Manishearth: the squatter uses "core-foundation", not "core_foundation"
[19:52:07] <Manishearth> you mean the name clash?
[19:52:09] <Manishearth> hah
[19:52:12] <tomaka> I was able to upload core_foundation myself
[19:52:16] <Manishearth> tomaka: though that might be confusing
[19:52:16] <tomaka> I can transfer ownership if you want
[19:52:35] <tomaka> actually I wanted to upload it under "glutin_core_foundation"
[19:52:43] <tomaka> I ran "cargo publish" then realized I forgot to change its name
[19:52:48] <Manishearth> tomaka: [dependencies] core-foundation = "0" // why wont this work??!!
[19:52:50] *** Joins: fabrice (fabrice@moz-s26hrg.mh2d.1ibb.0101.2620.IP)
[19:54:53] *** Quits: akiss (akiss@moz-c6colr.inf.u-szeged.hu) (Ping timeout: 121 seconds)
[19:54:54] *** Joins: Savago (Savago@moz-6cf.6cr.244.17.IP)
[19:55:21] <Manishearth> tomaka: Um, I guess you should trasfer to SimonSapin or someone who knows their way around Crates (and has a Mac?)
[19:55:43] <Manishearth> tomaka: also, I guess we should  see what we plan to do about the squatter anyway
[19:55:50] <Manishearth> since cocoa isn't going anywhere
[19:56:07] <Manishearth> (beware, my internets may cut out in a few minutes)
[19:56:09] <tomaka> I just uploaded glutin_cocoa, core_foundation, and glutin_cocoa_graphics
[19:56:14] <tomaka> because I needed these urgently
[19:56:17] <Manishearth> sure np
[19:56:43] <SimonSapin> have we tried contacting the squatter and asking them nicely?
[19:56:48] <Manishearth> not yet, jack planned to
[19:56:50] <Manishearth> i think
[19:56:54] <Manishearth> and that's the Crates policy
[19:57:15] <Manishearth> we can't deus ex machina it unfortunately :P
[19:58:59] <SimonSapin> Manishearth: whatâ€™s that "why wont this work" comment?
[19:59:26] <Manishearth> SimonSapin: I'm saying users may be confused when they try to use our package and instead get a blank one
[19:59:39] <SimonSapin> oh, I see
[20:00:00] <Manishearth> generally underscore packages are dash packages in disguise
[20:00:01] <SimonSapin> arenâ€™t there also proposal to forbid dashes in crate names?
[20:00:04] <Manishearth> yep
[20:00:23] *** darkowlzz is now known as darkowlzz|afk
[20:00:35] <Manishearth> the poor osx crates aren't having nay luck
[20:00:43] <Manishearth> Travis doesn't like them, and they got squatted
[20:01:42] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[20:02:17] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[20:02:17] *** ChanServ sets mode: +o pcwalton
[20:02:24] *** Quits: garvank (Garvan@moz-i5m.05u.207.66.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[20:02:33] *** Joins: garvank (Garvan@moz-i5m.05u.207.66.IP)
[20:02:36] *** Quits: garvank (Garvan@moz-i5m.05u.207.66.IP) (A TLS packet with unexpected length was received.)
[20:02:39] <tomaka> there's a small problem with this
[20:02:49] <tomaka> there are several hundred crates that end with "-sys" on crates.io
[20:03:10] *** Joins: valentin (icecold@moz-7ecbn7.hm47.3ooc.2f0a.2a02.IP)
[20:03:11] * larsberg has mail out to the travis folks about what it costs to get a travis enterprise setup for us to use...
[20:03:18] <tomaka> https://crates.io/search?q=-sys
[20:03:35] *** Joins: garvank (Garvan@moz-i5m.05u.207.66.IP)
[20:04:05] *** Joins: dbaron (dbaron@moz-vuesma.2rkg.9kg1.0101.2620.IP)
[20:05:31] <jack> Well the WeakFlowRef implementation is not correct I guess. The Flow still doesn't get dropped
[20:06:12] <jack> Can someone look over the implementation quick? https://github.com/metajack/servo/blob/memory-debug/components/layout/flow_ref.rs
[20:06:30] <jack> (it's derived from rust/src/liballoc/arc.rs
[20:06:55] *** Joins: hoverbear (hoverbear@moz-a97.b2m.54.96.IP)
[20:08:19] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Ping timeout: 121 seconds)
[20:08:30] *** Quits: Gankro (uid71432@moz-sc2bd6.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[20:13:42] *** Joins: luniv (textual@moz-25e.rfv.3.74.IP)
[20:14:29] *** Joins: evanfarrar (evanfarrar@moz-56vd31.res.rr.com)
[20:15:09] <SimonSapin> http://internals.rust-lang.org/t/pre-rfc-resolve-support-for-hyphens-in-crate-names/1459
[20:16:36] *** Quits: evanfarrar (evanfarrar@moz-56vd31.res.rr.com) (Connection closed)
[20:18:19] *** mdoglio is now known as mdoglio|afk
[20:18:35] *** Quits: fabrice (fabrice@moz-s26hrg.mh2d.1ibb.0101.2620.IP) (Ping timeout: 121 seconds)
[20:19:26] *** Joins: evanfarrar (evanfarrar@moz-56vd31.res.rr.com)
[20:20:06] *** Joins: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net)
[20:20:26] *** Quits: evanfarrar (evanfarrar@moz-56vd31.res.rr.com) (Connection closed)
[20:22:53] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[20:23:33] *** Joins: mihneadb (mihneadb@moz-fj0scp.5o5r.k6qi.2f0b.2a02.IP)
[20:25:30] *** Quits: psd (psd@moz-acc.mpg.78.202.IP) (A TLS packet with unexpected length was received.)
[20:26:22] <jdm> jack: https://github.com/metajack/servo/blob/memory-debug/components/layout/flow_ref.rs#L161 looks scary
[20:26:27] <jdm> deref doesn't even try to upgrade?
[20:26:28] <Ms2ger> jdm, https://critic.hoppipolla.co.uk/r/4257
[20:27:09] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[20:27:22] <Ms2ger> jdm, (about to head out, so if you want me to squash tonight... :))
[20:27:40] <jdm> Ms2ger: yep, just reviewed
[20:28:10] <Ms2ger> jdm, pushed, thanks
[20:28:49] *** Quits: palodequeso (quassel@moz-ebjt83.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[20:30:51] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[20:30:51] -ghservo- [13servo] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/p5JO
[20:30:51] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[20:30:52] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[20:30:52] -ghservo- [13servo] 15bors-servo pushed 5 new commits to 06auto: 02http://git.io/p5Js
[20:30:52] -ghservo- 13servo/06auto 144157a2b 15Ms2ger: Update the WebIDL parser.
[20:30:52] -ghservo- 13servo/06auto 14bbbdb98 15Ms2ger: Implement USVString.
[20:30:52] -ghservo- 13servo/06auto 140593d77 15Ms2ger: Use USVString for URLUtils and URLUtilsReadOnly.
[20:30:52] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[20:32:12] *** Quits: Ms2ger (Ms2ger@moz-iltjo2.access.telenet.be) (Ping timeout: 121 seconds)
[20:37:03] <jack> jdm: If you have a weakref, the memory isn't freed
[20:37:16] <jdm> jack: that... doesn't sound like a weak reference?
[20:37:57] <jdm> jack: also, should weak_ref_count really start at 1?
[20:38:01] <jdm> that looks wrong
[20:39:18] <jack> jdm: http://mxr.mozilla.org/rust/source/src/liballoc/arc.rs#304
[20:39:33] <jack> Yes. The memory isn't deallocated until weak_ref = 0
[20:39:35] <jdm> and why is Drop for FlowRef decrementing weak_ref_count?
[20:39:40] <jack> and the last strong ref will remove a weak_ref
[20:39:50] <jdm> huh.
[20:40:04] <jack> This is how Arc<T> works, which I think lifted the design from Boost
[20:40:16] * jdm finds this totally counterintuitive
[20:40:24] <jack> Me too
[20:40:47] <jack> So the problem I have right now is that all the strong refs go away, but the weak ref doesn't.
[20:40:49] *** Joins: fabrice (fabrice@moz-9a6uvo.ujol.1ibb.0101.2620.IP)
[20:41:05] <jack> So I am missing some important part
[20:41:26] <jack> I suspect this part: http://mxr.mozilla.org/rust/source/src/liballoc/arc.rs#358
[20:42:24] <jdm> jack: oh, I see - Arc drops the inner value and therefore frees the real memory, but the wrapper stays alive until all weak references are gone
[20:42:58] <jack> What wrapper?
[20:43:14] <jdm> jack: ArcInner
[20:43:33] <jack> I guess drop zeroes it?
[20:44:19] <jack> i don't really understand drop(ptr::read(foo)). we copy the Inner and drop it
[20:44:37] <jack> then we only free the * Inner when the weak ref dies
[20:44:50] <jack> What is the equivalent of that for a TraitObject?
[20:45:34] *** Quits: chc4 (chc4@moz-pdo0at.ma.comcast.net) (Quit: AHHHHH BEES)
[20:46:44] *** Quits: hoverbear (hoverbear@moz-a97.b2m.54.96.IP) (Quit: Time to hibernate.... ZzZz...)
[20:47:35] <jdm> yeah, that's pretty weird
[20:48:09] <jack> convert ot Box<Flow> and drop the flow I guess
[20:48:41] *** Joins: hoverbear (hoverbear@moz-ctf.3ep.54.96.IP)
[20:56:12] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[20:56:12] -ghservo- [13saltfs] 15larsbergstrom pushed 1 new commit to 06master: 02http://git.io/p5c6
[20:56:12] -ghservo- 13saltfs/06master 14d5755ae 15Lars Bergstrom: Fix the android installation steps. Change the doc/nightly builder to have android stuffs.
[20:56:12] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[20:57:26] <jack> So thsi can't be done like Arc<T>
[20:57:34] <jack> I can't zero out that memory because it contains the refcounts.
[20:57:37] <jdm> right
[20:58:16] *** chmanchester|lunch is now known as chmanchester
[20:58:21] *** Quits: garvank (Garvan@moz-i5m.05u.207.66.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[20:58:24] <jack> actually, maybe ptr::read will work for that?
[20:58:29] <jack> since that copies the data to drop it
[20:58:46] <jack> so all the pointers will get freed, but the ref counts won't be touched.
[21:02:50] *** jdm is now known as jdm|busy
[21:06:48] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[21:06:48] -ghservo- [13servo] 15bors-servo closed pull request #5208: Implement USVString. (06master...06USVString) 02http://git.io/p7ae
[21:06:48] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[21:08:32] <jack> Dadly acrichto is telling me this is impossible.
[21:08:35] <jack> *Sadly
[21:09:27] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[21:09:27] *** ChanServ sets mode: +o pcwalton
[21:09:37] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[21:10:31] *** Joins: Savago_ (Savago@moz-6cf.6cr.244.17.IP)
[21:10:50] <jack> pcwalton!
[21:11:05] *** Quits: Savago (Savago@moz-6cf.6cr.244.17.IP) (Connection closed)
[21:11:05] *** Savago_ is now known as Savago
[21:11:12] *** Quits: Savago (Savago@moz-6cf.6cr.244.17.IP) (Client exited)
[21:11:13] <pcwalton> sorry for not being online earlier, colloquy did its thing where it hung halfway through the connection process and I didn't notice
[21:11:15] <pcwalton> hey jack
[21:11:17] <jack> So my WeakFlowRef doesn't drop and deallocate properly
[21:11:17] *** Joins: Savago (Savago@moz-6cf.6cr.244.17.IP)
[21:11:30] <jack> I need to figure out how to do that.
[21:11:33] <jack> https://www.irccloud.com/pastebin/mbIEdbL6
[21:11:36] <jack> appears to do the first part.
[21:11:58] <jack> But how do I deallocate the Box without dropping the FLow again?
[21:12:16] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[21:12:18] <pcwalton> how does FlowRef do it today?
[21:12:30] <jack> It doesn't have this problem of having to do it in two steps
[21:12:52] <pcwalton> well, in any case, heap::deallocate should work
[21:13:04] <pcwalton> that's what Box does internally
[21:13:12] <jack> aren't there three deallocations?
[21:13:22] <jack> don't the vtable and object have to be deallocated too?
[21:13:32] <pcwalton> no, vtable is static memory and is never deallocated
[21:13:58] <pcwalton> there is no extra allocation in there
[21:14:05] <pcwalton> (vtable,object) are by-value and are not allocated
[21:14:06] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[21:14:09] <pcwalton> for Box<Trait>
[21:14:12] <pcwalton> vtable is static memory
[21:14:14] <pcwalton> object is allocated
[21:14:18] <pcwalton> so, only 1 allocation.
[21:14:24] <jack> so what will free object?
[21:14:32] <jack> drop(Flow)?
[21:14:40] <pcwalton> drop(Box<Flow>) would
[21:14:43] <pcwalton> drop(Flow) will not
[21:14:52] <jack> so I need to deallocate two things then
[21:14:59] <pcwalton> no, you just deallocate one
[21:15:13] <jack> then who will deallocate the object?
[21:15:20] <pcwalton> you will
[21:15:23] <pcwalton> that's your one deallocation :)
[21:15:30] <jack> I'm just deallocated the Box
[21:15:35] <pcwalton> that box contains the object
[21:16:05] <jack> Oh I'm confused. The one pointer I want to deallocate IS the object pointer.
[21:16:09] <pcwalton> yes
[21:16:11] <pcwalton> you don't need to deallocate the FlowRef
[21:16:12] <pcwalton> it's by-value
[21:16:16] <pcwalton> just deallocate the object
[21:16:18] <jack> yes, got it now.
[21:16:26] <jack> deallocate wants a size :)
[21:16:35] <pcwalton> it's in the vtable
[21:16:52] <pcwalton> there's a struct you can cast the vtable to, hold on
[21:19:00] <pcwalton> actually, maybe not
[21:19:12] <pcwalton> I don't know how strcat did this stuff
[21:19:18] <pcwalton> he redid all of this a while ago without telling anyone how it worked
[21:20:38] <eddyb> uhm
[21:20:42] *** Joins: evanfarrar (evanfarrar@moz-56vd31.res.rr.com)
[21:20:46] <eddyb> are you trying to make a custom Arc<Trait> work?
[21:20:47] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[21:20:47] -ghservo- [13saltfs] 15larsbergstrom pushed 1 new commit to 06master: 02http://git.io/p5g7
[21:20:47] -ghservo- 13saltfs/06master 14a4d19dd 15Lars Bergstrom: Add the cheesiest android nightly build imaginable
[21:20:47] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[21:20:57] <jack> eddyb: Yes.
[21:21:05] <eddyb> pcwalton: did I not tell you this is not implemented?
[21:21:07] <jack> The Arc part worked. Trying to add Weak to it.
[21:21:16] <eddyb> there is no way to do the destructor
[21:21:51] <pcwalton>             // info points to the vtable and the second entry in the vtable is the
[21:21:52] <pcwalton>             // dynamic size of the object.
[21:21:53] <eddyb> because Box<T> as Box<Trait> puts Box<T>'s drop glue in the vtable
[21:22:22] <pcwalton> jack: looks like the size is the second entry in the vtable, and the third entry in the vtable is the alignment
[21:22:25] <eddyb> *mut T as *mut Trait or &mut T as &mut Trait will give you a noop drop glue in the vtable
[21:22:37] <pcwalton> eddyb: you aren't understanding
[21:22:39] <eddyb> T's destructor never ends up
[21:22:40] <pcwalton> we're using Box<Trait>
[21:22:46] <pcwalton> just wrapping it in a custom arc
[21:22:54] <eddyb> pcwalton: so it's *not* Arc<Trait>
[21:23:03] <pcwalton> that's right
[21:23:12] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[21:23:12] -ghservo- [13saltfs] 15larsbergstrom pushed 1 new commit to 06master: 02http://git.io/p5ae
[21:23:12] -ghservo- 13saltfs/06master 1480893e0 15Lars Bergstrom: Add force command to android-nightly builder
[21:23:12] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[21:23:17] <eddyb> then why are you not using Arc<Box<Trait>>?
[21:23:23] <pcwalton> because that's an extra allocation
[21:23:32] <eddyb> or are you doing shenanigans with the allocation?
[21:23:36] <jack> eddyb: http://mxr.mozilla.org/servo/source/components/layout/flow_ref.rs
[21:23:43] <pcwalton> yes, we are doing "shenanigans with the allocation"
[21:23:46] <jack> FlowRef is our custom Arc
[21:23:50] <eddyb> pcwalton: that doesn't work
[21:24:11] <eddyb> again, T's drop's glue doesn't exist anywhere
[21:24:13] <pcwalton> jack: cast the trait to an array of isizes and take the second and third
[21:24:18] <eddyb> other than in the tydesc, I guess
[21:24:25] <eddyb> pcwalton: I started working on this today
[21:24:30] <pcwalton> it's allocated as a Box<Trait> and then transmuted
[21:24:32] <eddyb> nathan7 wanted to do it a while back
[21:24:36] <pcwalton> eddyb: this has been working for months
[21:24:38] <pcwalton> it works
[21:24:43] <eddyb> pcwalton: where are you putting the refcount?
[21:24:45] <jack> pcwalton: [isize; 3] ?
[21:24:50] <pcwalton> jack: that will work, yes
[21:24:51] *** Quits: evanfarrar (evanfarrar@moz-56vd31.res.rr.com) (Ping timeout: 121 seconds)
[21:24:56] <pcwalton> then take vtable[1] and vtable[2]
[21:25:02] <pcwalton> eddyb: in the beginning of every struct
[21:25:07] <pcwalton> that is casted to the trait object
[21:25:09] <eddyb> I guess that works...
[21:25:10] <pcwalton> yes it's unsafe
[21:25:14] *** Joins: cakecatz (cakecatz@moz-rqfnlo.sannet.ne.jp)
[21:25:25] <eddyb> still, how are you going to do Weak?
[21:25:31] <eddyb> unless you have a method on the trait
[21:25:58] <pcwalton> the same way
[21:26:16] <eddyb> you need to run T's drop glue, not Box<T>'s
[21:26:34] *** Joins: aturon (sid36348@moz-n3h4qj.brockwell.irccloud.com)
[21:27:11] <jack> eddyb: I did drop(ptr::read(&*t)) where t is Box<Trait>
[21:27:26] <jack> I guess you are saying that won't work?
[21:27:26] *** Quits: mihneadb (mihneadb@moz-fj0scp.5o5r.k6qi.2f0b.2a02.IP) (Quit: Leaving)
[21:27:47] <eddyb> jack: that will not work
[21:27:52] <pcwalton> maybe you should grab it out of the tydesc
[21:28:18] <jack> Yeah, the compiler was not happy with that I just found out, because it doesn't implement Sized.
[21:28:31] <eddyb> jack: it would be a drop_in_place intrinsic
[21:28:41] <eddyb> which would take the dtor out of the vtable, which is incorrect right now
[21:28:51] <eddyb> jack: easiest way is to add a method in the trait
[21:28:56] <eddyb> that does precisely that
[21:28:57] <jack> How bad is it just to use Arc<Box<Flow>> ?
[21:29:01] <pcwalton> bad, please don't
[21:29:04] <pcwalton> we want servo to be performant
[21:29:10] <pcwalton> I would just add a method in the trait
[21:29:16] <jack> Well I mean, leaking all the memory is not performant either.
[21:29:23] <pcwalton> no, but double allocations are much worse honestly
[21:29:29] <pcwalton> because of benchmarks
[21:29:31] *** Quits: ahal (ahal@moz-blga2k.cpe.pppoe.ca) (A TLS packet with unexpected length was received.)
[21:29:42] <jack> So what method do I need to add to Flow?
[21:29:50] <pcwalton> I'd just add an unsafe method drop_me(self) {}
[21:30:12] <pcwalton> can probably just do that as a default method
[21:30:47] <eddyb> &mut self
[21:30:55] <eddyb> or self: *mut Self, but I don't think that's supported
[21:31:38] <pcwalton> yeah, I guess &mut self is easier
[21:31:44] <pcwalton> transmute it and then drop
[21:33:16] *** Joins: evanfarrar (evanfarrar@moz-56vd31.res.rr.com)
[21:33:31] <jack> transmute it from &mut self to wait?
[21:33:47] <pcwalton> well, you can ptr::read it I guess and then drop
[21:33:54] <pcwalton> drop(ptr::read(self))
[21:38:24] <jack> can't call ptr::read on Unsized
[21:38:49] <jack> why is &mut self easier that self?
[21:39:53] <pcwalton> it shouldn't be unsized inside the definition of the method
[21:40:03] *** Joins: akiss (akiss@moz-kpgbac.pool.digikabel.hu)
[21:40:08] <jack> this is on trait Flow
[21:40:10] <jack> https://www.irccloud.com/pastebin/ukShqCta
[21:40:24] *** Joins: caitp (caitp@moz-lmogh4.cable.rogers.com)
[21:40:31] <pcwalton> that doesn't work?
[21:40:42] <pcwalton> oh, need to add : Sized to Flow
[21:40:44] <pcwalton> most likely
[21:41:50] *** Quits: azita (Azita@moz-cfhap5.mtv2.mozilla.com) (Client exited)
[21:41:52] <jack> what does T: ?Sized mean?
[21:42:03] <pcwalton> means "may or may not be sized"
[21:42:57] *** Quits: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[21:43:34] <jack> https://www.irccloud.com/pastebin/nZcmhXoS
[21:43:58] <pcwalton> what I mean is "pub trait Flow : Sized"
[21:44:08] <pcwalton> not "add Sized to type parameters of type Flow"
[21:44:25] <jack> I added Sized to the pub trait Flow line
[21:44:37] <jack> that made compiler errors for base and mut_base, since they take ?Sized
[21:44:42] <jack> I deleted those
[21:44:51] <jack> And now I get all the errors above.
[21:45:55] <pcwalton> I think maybe flow::base should be an &'a Flow instead of an &'a T where T : ?Sized + Flow
[21:46:06] *** Quits: akiss (akiss@moz-kpgbac.pool.digikabel.hu) (Ping timeout: 121 seconds)
[21:46:06] <pcwalton> if you have a concrete type there's no need to use flow::base after all
[21:47:47] <jack> These are all fun errors. More:
[21:47:51] <jack> https://www.irccloud.com/pastebin/KMHfn4lF
[21:48:04] <jack> that's after changing base and mut_base to be &'a Flow
[21:48:26] <jack> The trait cannot require that Self: Sized
[21:48:37] <pcwalton> argh
[21:48:39] <pcwalton> I hate Rust
[21:48:40] <pcwalton> ok
[21:48:40] <jack> So I guess that's why it was unized :)
[21:49:37] <aturon> pcwalton: jack: i'm totally missing context here, but there's a trick for making traits object-safe: you can add `where Self: Sized` to any object-unsafe methods
[21:49:38] <Savago> pcwalton: can I quote you?
[21:49:45] <pcwalton> Savago: no
[21:49:46] <Savago> â€œ Argh! I Hate Rust.â€
[21:49:50] <Savago> LOL!
[21:50:16] <pcwalton> aturon: the whole point is we're trying to invoke that on an object though :(
[21:50:21] <pcwalton> this is ridiculous
[21:50:25] <pcwalton> Rust really really REALLY needs DST
[21:50:27] <aturon> pcwalton: ok, i was worried that was the case
[21:50:33] <aturon> pcwalton: ?
[21:50:37] <pcwalton> it doesn't have DST
[21:50:39] <pcwalton> you can't do Arc<Trait>
[21:50:49] <aturon> yes :(
[21:50:54] <jack> And apaprently we can't use the unsafe language to make a custom Arc<Trait> either.
[21:50:55] <pcwalton> I thought this was done a long time ago
[21:51:03] <pcwalton> Rust is nowhere near production ready
[21:51:06] *** Joins: bjwbell (user@moz-5rbuu3.frokca.sbcglobal.net)
[21:51:10] <eddyb> pcwalton: bug nrc|afk to finish cleaning up the coercions RFC mess
[21:51:28] <eddyb> and there's a chance Arc<Trait> might work in 1.0
[21:52:02] <aturon> pcwalton: (just out of morbid curiosity, is that last comment about DST specifically or are there other things biting you at the moment?)
[21:52:20] <pcwalton> it's about DST and the zeroing out
[21:52:24] <pcwalton> zeroing out is terrible too
[21:52:25] <aturon> ok
[21:52:33] <pcwalton> anyway
[21:52:35] <aturon> yeah, and both implementations have been long-delayed
[21:53:02] <eddyb> I've been waiting on those pretty much from the moment I picked up Rust
[21:53:13] <pcwalton> jack: I guess we have no choice but to use Arc<Box<Flow>>
[21:53:15] *** Quits: evanfarrar (evanfarrar@moz-56vd31.res.rr.com) (Connection closed)
[21:53:20] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[21:55:00] <eddyb> uhm... Box<[T]> looks broken
[21:55:04] <jack> pcwalton: sadface
[21:55:20] <jack> is there a schedule for DST?
[21:55:22] <pcwalton> no there's not
[21:55:26] <eddyb> it... checks the wrong pointer :|
[21:55:27] <pcwalton> it's just delayed and delayed and delayed
[21:55:33] <jack> Because this is going to make that jump to #1 or #2 on the Servo list
[21:55:33] <crowbot> Issue #1: Create azure bindings for Rust - https://github.com/servo/servo/issues/1
[21:55:34] <crowbot> Issue #2: Fix out-of-tree builds - https://github.com/servo/servo/issues/2
[21:55:45] <pcwalton> I really don't have time to spend next quarter doing major infrastructure work for Rust but I guess I have to now
[21:55:52] <jack> jdm: Can you add something to crowbot that ignores single digits? :)
[21:56:08] <eddyb> pcwalton: the problem is decisional, really
[21:56:23] <eddyb> pcwalton: the currently accepted RFC is not... acceptable
[21:56:35] <pcwalton> I don't care how it's done, it just has to be done
[21:56:45] <eddyb> also, nobody ever opened up an RFC for pivot pointers, which are essential for efficiency
[21:56:58] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[21:57:13] <eddyb> otherwise every borrow of the contents will involve pointer adjustments using data from the vtable
[21:57:19] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[21:58:05] <eddyb> pcwalton: do you happen to know if LLVM plays nice with fields at negative offets?
[21:58:09] <pcwalton> no idea
[21:58:14] <pcwalton> I think we should just not use the RFC process for this stuff honestly
[21:58:16] <pcwalton> DST is well accepted
[21:58:24] <pcwalton> it is far delayed
[21:58:27] <aturon> jack: pcwalton: i will make sure that nmatsakis and nrc are aware of the needs of servo here
[21:58:27] <pcwalton> nobody cares about the minutiae
[21:58:31] <eddyb> okay
[21:58:50] <aturon> (i don't think they were aware of a pressing need)
[21:59:03] <eddyb> pcwalton: atm I'm doing what I've given up on waiting other people to do, and it involves fixing that drop glue nonsense
[21:59:04] <jack> aturon: We just discovered this ourselves.
[21:59:05] <pcwalton> ok
[21:59:21] <eddyb> and removing tydesc. tydesc has far outlived its natural lifespan
[21:59:51] *** Joins: reem_ (reem@moz-o59qsl.coob.q2h1.0009.2601.IP)
[21:59:56] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[21:59:58] <jack> aturon: It started as a reported memleak, which was a circular reference. We tried to extend our custom Arc<Trait> to have Weak<Trait> to fix it, and disocvered the problem.
[22:00:00] <eddyb> aturon: I got a discussion started after a few weeks of failed attempts, but it's low-priority
[22:00:43] <aturon> jack: OK. i know that this part of DST had been deferred in part due to lack of demand, so this will help bump it up on nrc's list i'm sure
[22:01:06] *** Quits: valentin (icecold@moz-7ecbn7.hm47.3ooc.2f0a.2a02.IP) (Quit: Leaving.)
[22:01:06] <pcwalton> Servo is completely built around Arc<Trait>
[22:01:10] <pcwalton> the performance is totally gated on that
[22:01:12] <jack> aturon: Using Arc<Box<Trait>> will also fix it, but degrade performanc eof Servo severely.
[22:01:15] <pcwalton> without that we can't ship it, end of story
[22:01:23] <aturon> understood
[22:01:25] <pcwalton> it might not be that bad
[22:01:29] <pcwalton> it mainly affects flow construction
[22:01:43] <jack> But all our current numbers are mostly flow construction :)
[22:01:45] <pcwalton> and allocations are high in flow construction but not the #1 thing IIRC
[22:01:45] <crowbot> Issue #1: Create azure bindings for Rust - https://github.com/servo/servo/issues/1
[22:01:47] <pcwalton> yes, they are
[22:01:47] <aturon> i don't think the impl is that far out, as eddyb is saying it's partly been waiting on final design decision
[22:01:57] <pcwalton> r+ whatever makes it work
[22:02:01] <aturon> :) yep
[22:02:04] <jack> So thsi essentially regresses our only big demo :(
[22:02:08] <aturon> :-/
[22:02:09] <pcwalton> yes
[22:02:10] <aturon> that is bad
[22:02:12] <pcwalton> all of our demos are at risk
[22:02:17] <pcwalton> because of the lack of DST in rust
[22:02:22] <aturon> ok. i have pinged niko and will get back to you all
[22:02:26] * eddyb priority++
[22:02:42] <eddyb> pcwalton: wish I knew. I fiddled with this code like a month or two ago :/
[22:02:51] <pcwalton> yeah, I wish we knew about this earlier too
[22:02:57] <jack> I would also accept a clever workaround for implementing Arc<Trait> ourselves unsafely.
[22:02:57] <eddyb> I told niko I feel confident about implementing coercions
[22:03:05] <pcwalton> jack: honestly maybe we should just not fix the memory leak
[22:03:06] <eddyb> aaaand then I found out about that ridiculous RFC
[22:03:27] <jack> pcwalton: I'd rather regress performance on something we know well and like njn continue to play.
[22:03:32] <pcwalton> jack: actually hmmm
[22:03:36] <jack> Becaues we dont' know what he will find.
[22:03:39] <pcwalton> I wonder if we can implement an explicit cycle breaker
[22:04:11] <pcwalton> alternately, replace Weak<T> with unsafe pointers
[22:04:18] <pcwalton> yes, really
[22:04:25] <pcwalton> it'll encourage Rust to implement it :)
[22:04:27] *** Joins: hoverbea_ (hoverbear@moz-a97.b2m.54.96.IP)
[22:05:02] <pcwalton> all of our security gains of Rust vs. C++ in Servo will be out the window but for now performance is more important
[22:05:25] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[22:06:18] <pcwalton> jack: is there a method that everything goes through when render objects are removed from the flow tree? you could break cycles in there
[22:07:19] <adu> sounds like the beginning of a bad hack
[22:07:24] <pcwalton> absoultely
[22:07:26] <pcwalton> absolutely
[22:07:27] <pcwalton> it's terrible
[22:07:29] <pcwalton> Rust needs to be repaired
[22:07:32] *** Quits: hoverbear (hoverbear@moz-ctf.3ep.54.96.IP) (Ping timeout: 121 seconds)
[22:08:40] *** Quits: jga (asdf@moz-guj.407.254.201.IP) (Connection closed)
[22:08:47] *** Quits: cakecatz (cakecatz@moz-rqfnlo.sannet.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[22:09:34] <Savago> pcwalton: a quick questionâ€¦ after a â€˜match-edâ€™ a DisplayItem and know its type, how can I get some geometry information about it? Is it available in the DisplayList or would I need to reference the flow tree?
[22:10:36] <Savago> Iâ€™m refering to this: https://github.com/servo/servo/blob/master/components/gfx/display_list/mod.rs#L172
[22:10:55] <pcwalton> jack: here's an ideaâ€¦ since the drop glue seems to be for Box<FlowRef>, you could construct an artificial Box<FlowRef> using the size and align inside the vtable and drop *that*
[22:11:18] <pcwalton> this adds 1 extra malloc but only in the case of dropping when there are weak references left
[22:11:23] <pcwalton> which is less perf critical than flow construction
[22:12:09] <pcwalton> what you'd do is say fakebox = heap::allocate(vtable[1], vtable[2]), copy that into (vtable, fakebox), drop that vtable/fakebox
[22:12:45] <pcwalton> by "copy that" I mean bytes::copy_memory(transmute<_,*mut u8>(fakebox), transmute<_,*const u8>(originalbox), vtable[1])
[22:12:54] <pcwalton> then drop(fakebox)
[22:12:55] <jack> I'll give that a try.
[22:13:01] <pcwalton> now you have the original box left
[22:13:04] <pcwalton> with dropped contents
[22:13:09] <pcwalton> eddyb: that'll work right? ^
[22:13:32] <pcwalton> Savago: display_item.base.bounds
[22:13:40] <pcwalton> oughta work
[22:14:47] <Savago> pcwalton: nice!
[22:14:50] *** Joins: dstrbad (dstrbad@moz-msup7s.dsl.iskon.hr)
[22:15:07] *** Quits: dstrbad (dstrbad@moz-msup7s.dsl.iskon.hr) (Connection closed)
[22:15:17] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: Textual IRC Client: www.textualapp.com)
[22:15:37] *** Joins: dstrbad (dstrbad@moz-msup7s.dsl.iskon.hr)
[22:16:29] <eddyb> pcwalton: it should
[22:16:36] <pcwalton> cool
[22:17:05] <eddyb> pcwalton, jack: if you open issues about this stuff, cc me please
[22:17:12] <pcwalton> sure
[22:18:02] <pcwalton> jack: you can use core::raw::TraitObject to construct a raw trait object
[22:18:08] <pcwalton> just build it and then transmute to Box<Flow>
[22:18:09] *** reem_ is now known as reem
[22:18:25] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[22:22:38] <jack> how does htat help us?
[22:22:51] <pcwalton> that lets you drop the fake box
[22:22:52] <jack> we want to run drop logic on the BlockFlow or InlineFLow
[22:22:54] <pcwalton> right
[22:22:57] <pcwalton> you use that to drop the fake box
[22:23:12] <pcwalton> allocate a box, copy the data from the flow object in
[22:23:16] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Quit: WeeChat 1.1.1)
[22:23:20] <pcwalton> construct a TraitObject whose object is that box
[22:23:21] <pcwalton> then drop it
[22:23:24] <jack> oh, i see
[22:23:26] <pcwalton> now you have the original box
[22:23:27] <jack> i missed the copy step
[22:23:29] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[22:23:29] <pcwalton> with dropped data inside
[22:23:33] <eddyb> pcwalton: can this Arc<Trait> be only one of two types?
[22:23:41] <pcwalton> it can be one of about 10 different types
[22:23:46] <eddyb> okay, that's good
[22:23:50] *** Quits: dstrbad (dstrbad@moz-msup7s.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[22:24:02] <eddyb> I was worried a tag would suffice and all this crazy contraption was for nothing
[22:24:48] *** Joins: dstrbad (dstrbad@moz-msup7s.dsl.iskon.hr)
[22:26:15] *** Joins: jga (asdf@moz-onm.1k6.254.201.IP)
[22:27:59] *** Joins: mihneadb (mihneadb@moz-fj0scp.5o5r.k6qi.2f0b.2a02.IP)
[22:29:21] *** Quits: dstrbad (dstrbad@moz-msup7s.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[22:30:14] *** Joins: dstrbad (dstrbad@moz-msup7s.dsl.iskon.hr)
[22:31:01] *** Quits: ttaubert (uid2620@moz-6d2u0s.uxbridge.irccloud.com) (Quit: )
[22:31:04] <jack> I want [usize; 3] not [isize; 3] for the vtable right?
[22:31:26] <pcwalton> yeah, I think so
[22:32:24] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[22:34:52] *** Quits: dstrbad (dstrbad@moz-msup7s.dsl.iskon.hr) (Ping timeout: 121 seconds)
[22:37:22] <jack> pcwalton:
[22:37:25] <jack> https://www.irccloud.com/pastebin/ysiQljGT
[22:39:55] <jack> That appears to have worked!
[22:40:04] <jack> Checking wikipedia now.
[22:41:17] <jack> It's a hack, but at least it's very isolated.
[22:41:39] <jack> We incur the penalty regardless of the state of the weak_ref_count
[22:41:57] <jack> but that could be optimized to only do the two-step drop if needed.
[22:42:10] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[22:42:16] *** Joins: garvank (Garvan@moz-1fp.d2n.140.24.IP)
[22:42:26] *** Quits: seif (seif@moz-ilq.99t.243.162.IP) (Ping timeout: 121 seconds)
[22:42:53] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[22:43:31] <jack> Wikipedia now crashes after the first layout :)
[22:43:45] *** Quits: garvank (Garvan@moz-1fp.d2n.140.24.IP) (Connection closed)
[22:44:10] <jack> In FlowRef drop :)
[22:44:21] <jack> But that should be far easier to figure out
[22:45:09] <jack> I'm going to take a break for a while and dig into that later. Seems like progress though.
[22:45:31] *** Joins: seif (seif@moz-ilq.99t.243.162.IP)
[22:45:42] *** Joins: dstrbad (dstrbad@moz-msup7s.dsl.iskon.hr)
[22:52:12] <pcwalton> jack: cool
[22:52:28] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Ping timeout: 121 seconds)
[22:56:05] *** Quits: Nefzaoui (nefzaoui_@moz-50p.mj3.1.197.IP) (Quit: Exit)
[22:56:30] *** Joins: Nefzaoui_ (nefzaoui_@moz-50p.mj3.1.197.IP)
[22:56:40] *** Quits: caitp (caitp@moz-lmogh4.cable.rogers.com) (Ping timeout: 121 seconds)
[22:58:42] *** Joins: mib_0w6kzi (Mibbit@moz-juv.9o3.252.72.IP)
[22:59:06] *** Quits: Nefzaoui_ (nefzaoui_@moz-50p.mj3.1.197.IP) (Connection closed)
[23:00:14] *** Joins: Nefzaoui (nefzaoui_@moz-50p.mj3.1.197.IP)
[23:00:46] *** Quits: hoverbea_ (hoverbear@moz-a97.b2m.54.96.IP) (Quit: Time to hibernate.... ZzZz...)
[23:02:32] *** Joins: caitp (caitp@moz-lmogh4.cable.rogers.com)
[23:06:59] *** Joins: playjax (chatzilla@moz-99ipuo.optusnet.com.au)
[23:13:08] *** Quits: mib_0w6kzi (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:18:51] *** Quits: dstrbad (dstrbad@moz-msup7s.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[23:20:50] <larsberg> mbrubeck: any ideas on http://build.servo.org/builders/android-nightly/builds/0/steps/compile/logs/stdio (failure of the android "nightly" builder)?
[23:21:08] *** Quits: mkcp (mkcp@moz-5ln.0t9.55.68.IP) (Connection closed)
[23:21:08] <larsberg> I'd have guessed misinstalled SDK/NDK, but it made it all the way to the magical apk builder tool
[23:21:16] *** Quits: luniv (textual@moz-25e.rfv.3.74.IP) (Ping timeout: 121 seconds)
[23:22:28] <mbrubeck> hmm
[23:23:29] * larsberg runs the 'android' update tool again in case the magical expect script failed
[23:23:35] <eddyb> I thought I had this :(
[23:23:37] <eddyb> test result: FAILED. 1953 passed; 19 failed; 36 ignored; 0 measured
[23:23:43] <larsberg> this stuff - https://github.com/servo/saltfs/blob/master/android-dependencies.sls#L60-L75
[23:24:12] <mbrubeck> Does it say anywhere what file iy 
[23:24:22] <mbrubeck> *it
[23:24:32] <mbrubeck> failed to open?
[23:25:56] *** Joins: dstrbad (dstrbad@moz-msup7s.dsl.iskon.hr)
[23:27:19] <larsberg> I don't see it either, if so. And the stack backtraces doesn't have any recognizable function names for me to go track down
[23:29:43] *** Quits: kmicu (kmicu@moz-uga.edn.218.91.IP) (Client exited)
[23:30:01] *** Quits: dstrbad (dstrbad@moz-msup7s.dsl.iskon.hr) (Ping timeout: 121 seconds)
[23:32:34] *** Joins: hoverbear (hoverbear@moz-a97.b2m.54.96.IP)
[23:42:32] *** Joins: evanfarrar (evanfarrar@moz-56vd31.res.rr.com)
[23:44:42] *** Quits: evanfarrar (evanfarrar@moz-56vd31.res.rr.com) (Connection closed)
[23:51:00] *** Quits: Yurume (Yurume@moz-0t8.piq.68.115.IP) (Ping timeout: 121 seconds)
[23:51:15] *** Quits: klutzy (not@moz-0t8.piq.68.115.IP) (Ping timeout: 121 seconds)
[23:53:36] *** Quits: playjax (chatzilla@moz-99ipuo.optusnet.com.au) (Connection closed)
[23:54:55] *** Quits: Savago (Savago@moz-6cf.6cr.244.17.IP) (Connection closed)
[23:55:16] *** Quits: hoverbear (hoverbear@moz-a97.b2m.54.96.IP) (Quit: Time to hibernate.... ZzZz...)
[23:55:30] *** Quits: caitp (caitp@moz-lmogh4.cable.rogers.com) (Ping timeout: 121 seconds)
