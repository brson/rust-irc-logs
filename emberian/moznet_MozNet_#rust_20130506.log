[00:00:17] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Client exited)
[00:01:58] *** Quits: santiago (santiago@moz-8ADE82B4.socal.res.rr.com) (Quit: Computer has gone to sleep.)
[00:02:56] <goldfeld> "mutable fields are deprecated", so what should I use?
[00:03:07] <aatch> goldfeld, mutable variables
[00:03:19] <aatch> let mut = foo
[00:03:21] <goldfeld> outside the struct?
[00:03:25] <aatch> yep
[00:03:35] <goldfeld> and assign them to the field?
[00:03:35] <strcat> if the struct is mutable the fields in the struct are mutable
[00:03:44] <goldfeld> oh, right
[00:03:49] <strcat> mutable fields were something different
[00:03:58] <strcat> a mut field was mutable *when the struct was immutable*
[00:04:02] <aatch> and didn't make much sense in retrospect
[00:04:11] <EXetoC> yay, my first sorting function!
[00:06:22] <goldfeld> nice one!
[00:06:29] <EXetoC> who here did not try to implement one the first few years of programming? :-)
[00:06:33] <goldfeld> i still have a ways to go
[00:06:37] *** Quits: MrFahrenheit (RageOfThou@moz-CF7139ED.dynamic.telemach.ba) (Quit: Leaving)
[00:07:11] <aatch> I don't think I did, but I did during uni.
[00:07:32] <aatch> Its been less time from me stopping uni to now than me starting programming to uni though
[00:07:59] <goldfeld> hmm, so I'm trying to "let mut" my struct instance, but i still get the same error
[00:08:10] *** Joins: santiago (santiago@moz-8ADE82B4.socal.res.rr.com)
[00:08:23] <goldfeld> could it be because it's a @-ptr?
[00:08:36] <strcat> goldfeld: remove the mut field
[00:08:59] <goldfeld> it's just a regular field
[00:09:09] <goldfeld> as in field1: int
[00:09:15] <aatch> goldfeld, you need let a = @mut foo
[00:09:32] <Thad> Who here can hack Make files ?  rt.mk needs help at line 163 - 173.  libuv/src/fs-poll.c is not finding it's include of uv.h for some weird reason
[00:10:12] <goldfeld> so everywhere I'm referring to @Struct needs to now be @mut Struct?
[00:10:35] <aatch> goldfeld, if it needs to be mutable, yes.
[00:10:37] <aatch> probably
[00:12:16] <goldfeld> something still seems to be making rustc angry
[00:12:26] <goldfeld> should it be Option<@mut Spellbook> as I have it?
[00:13:04] <EXetoC> yet another game dev eh? :-P
[00:13:10] *** Joins: enticeing (user@40584768.29B601FE.5037098C.IP)
[00:13:16] <aatch> goldfeld, whats the actual error?
[00:13:22] <goldfeld> ha, almost
[00:13:40] <goldfeld> it's actually a command line tool with some gamification thrown in
[00:13:53] <EXetoC> o
[00:13:55] *** Joins: MrFahrenheit (RageOfThou@moz-CF7139ED.dynamic.telemach.ba)
[00:13:58] <enticeing> okay, so i can't have mutable fields in a struct anymore?
[00:14:05] <aatch> enticeing, nope
[00:14:12] <enticeing> well what do i do then?
[00:14:15] <goldfeld> haha
[00:14:28] * aatch wonders how people keep finding that
[00:14:37] <EXetoC> enticeing: you make the variable mutable
[00:14:38] <aatch> enticeing, use mutable variables
[00:14:51] <aatch> let mut a = foo
[00:15:02] <goldfeld> aatch: it's saying "mismatched types: expected &fn(+:@<V4>) but found extern "Rust" fn(@mut spellbook::Spellbook)
[00:15:12] <enticeing> aatch: wait, i'm kinda confused now
[00:15:31] <goldfeld> i'm adapting that singleton example
[00:15:40] <goldfeld> https://github.com/mozilla/rust/blob/incoming/src/libcore/rand.rs#L817
[00:15:50] <goldfeld> it's fairly analogous, but my struct is mutable
[00:16:44] <EXetoC> enticeing: the mutability of the fields depends on the mutability of said struct instance
[00:17:04] <aatch> goldfeld, in that example, `tls_rng_state` is just used as a unique value to identify the thread-local storage
[00:17:04] <enticeing> okay, but the compiler's complaining about assigning to immutable fields and i haven't even made an instance of the struct yet
[00:17:40] <aatch> enticeing, that doesn't seem right.
[00:17:43] <enticeing> maybe i just have a typo somewhere, lemme check
[00:17:43] <aatch> example?
[00:18:19] <aatch> goldfeld, can you post a relevant example?
[00:18:23] <goldfeld> aatch: I have fn spellbook_instance(sb: @mut Spellbook) {}, and that's the handle I give it in that place
[00:19:21] <enticeing> okay, so elements of a vector follow the same rules, right?
[00:19:41] <aatch> goldfeld, you can drop the mut on that
[00:19:57] <aatch> since you won't actually pass it anything
[00:20:49] <aatch> enticeing, what do you mean?
[00:21:24] <enticeing> elements are mutable if the vector is mutable, kinda talking to myself
[00:21:30] *** Quits: threecreepio (jdp@moz-DB2D70E9.cust.bredbandsbolaget.se) (Ping timeout)
[00:21:45] <goldfeld> so on https://github.com/mozilla/rust/blob/incoming/src/libcore/rand.rs#L817 up to line 841, where do I do s/@/@mut /
[00:21:49] <aatch> enticeing, yup (mostly)
[00:22:05] *** Joins: threecreepio (jdp@moz-DB2D70E9.cust.bredbandsbolaget.se)
[00:22:30] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[00:22:36] *** Quits: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk) (Ping timeout)
[00:23:06] <enticeing> this is what i have so far, i think i must be missing something http://ix.io/5v6
[00:23:12] <aatch> goldfeld, you don't. Change your version to be `mut`-less
[00:23:29] <goldfeld> aw, c'mon
[00:23:43] <goldfeld> I need a singleton struct that I'll keep serializing to a json
[00:23:43] <aatch> enticeing, what line is the error?
[00:23:46] <goldfeld> basically
[00:24:06] *** Quits: EXetoC (ex@moz-2DBEB1E4.customer.t3.se) (Quit: WeeChat 0.4.0)
[00:24:10] <aatch> goldfeld, no, I mean you change the function that you are using as a key to not take a @mut
[00:24:18] <enticeing> 35 has an illegal borrow, 33 has assigning to immutable vec content
[00:24:20] <aatch> so it matches the type descriptor
[00:24:30] <enticeing> which doesn't make sense to me because why would it be immutable if it hasn't even been instanced?
[00:25:17] <goldfeld> but then I want to do "let sb = get_spellbook(); sb.spells += 1;"
[00:25:39] <goldfeld> that one I did change
[00:25:40] <strcat> enticeing: &self is an immutable borrowed ptr
[00:25:42] <aatch> enticeing, change add_client(&self,...) to add_client(&mut self...)
[00:25:46] *** Quits: kesserich (Mibbit@moz-7ABC9BDB.hsd1.pa.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[00:25:52] <enticeing> ah, thanks
[00:25:59] <enticeing> i knew i was missing something
[00:26:35] *** Quits: MrFahrenheit (RageOfThou@moz-CF7139ED.dynamic.telemach.ba) (Connection reset by peer)
[00:27:30] <aatch> enticeing, it's part of the borrow checking, stops you from doing stuff like making a mutable borrow of an immutable borrow
[00:28:11] <enticeing> anyways, i should have this mostly workable, for me at least, by tonight
[00:28:21] <aatch> Which means the checker can make much stronger assertions of the safety of your code
[00:29:53] <goldfeld> https://gist.github.com/goldfeld/5522714
[00:29:53] <goldfeld> now it's complaining that task::local_data::local_data_set(spellbook_key, sb); expected @spellbook::Spellbook but found @mut spellbook::Spellbook
[00:31:02] <aatch> goldfeld, I think there might be a way to cast (unsafely of course) to an @mut
[00:31:13] <aatch> have a look in core::cast
[00:31:26] * aatch takes no responsibility for unsafe code
[00:31:54] *** Joins: MrFahrenheit (RageOfThou@moz-CF7139ED.dynamic.telemach.ba)
[00:32:37] <strcat> you really shouldn't work around mutability/borrowck stuff with unsafe
[00:32:40] *** Quits: MrFahrenheit (RageOfThou@moz-CF7139ED.dynamic.telemach.ba) (Connection reset by peer)
[00:32:51] <aatch> strcat, normally no
[00:32:55] <strcat> unless you know it's a current limitation - otherwise you're probably creating a bug'
[00:32:57] <goldfeld> kinda what I'm feeling
[00:33:17] <goldfeld> i mean, my use case is pretty straightforward, right?
[00:33:28] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[00:33:32] <goldfeld> a singleton that keeps track of a count or whatever
[00:33:36] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[00:34:40] <aatch> goldfeld, why do you need to do it like that though?
[00:35:15] *** Joins: MrFahrenheit (RageOfThou@moz-CF7139ED.dynamic.telemach.ba)
[00:35:50] <strcat> pass around an &mut uint unless you really need TLS for some reason
[00:35:53] <goldfeld> well, i'm basically going that direction because I want a struct, constantly serializing to a config file as it's updated
[00:36:28] <goldfeld> and it's a central authoritative point of the application
[00:36:53] <strcat> so isn't the config file the authoritative point?
[00:37:05] <goldfeld> well, yeah, I thought about that
[00:37:08] <aatch> goldfeld, then make the bulk of that logic be methods on that point.
[00:37:57] <goldfeld> but why shouldn't i be able to have an in-memory representation of the file? i mean it's much faster to access for read, and writes can be done lazily to the file
[00:38:36] <strcat> the OS will already do that if you don't fsync
[00:38:57] <aatch> goldfeld, safety. "Globally mutable data" is practically a synonym for "race condition"
[00:39:14] <aatch> Which is why rust currently doesn't have any easy way to have it.
[00:39:27] <aatch> And when it does, using it will still be an unsafe operation
[00:39:53] <aatch> s/when/when or if/
[00:40:10] <goldfeld> yeah, it does make sense and sounds a much more robust approach
[00:40:34] <goldfeld> thanks for the advice guys, I'll start messing around with the filesystem now
[00:40:34] <aatch> If you have to work around rust, you are probably doing something wrong
[00:40:51] <strcat> still non-trivial to make atomic commits to a file
[00:40:58] <goldfeld> yeah
[00:41:01] <strcat> need to write to a second file and rename over the original
[00:41:12] <goldfeld> that's why serialization sounded quick and dirty
[00:41:13] <strcat> well
[00:41:17] *** Joins: jack (jack@EF36212C.8FA609AD.840029BC.IP)
[00:41:17] <strcat> write, fsync, rename
[00:41:27] <strcat> reads can just read the main file
[00:41:39] *** Quits: jack (jack@EF36212C.8FA609AD.840029BC.IP) (Quit: Leaving.)
[00:41:41] *** Joins: jack (jack@EF36212C.8FA609AD.840029BC.IP)
[00:41:51] *** Quits: true_droid (Adium@moz-123FD9B8.beck.volia.net) (Quit: Leaving.)
[00:41:52] *** Quits: santiago (santiago@moz-8ADE82B4.socal.res.rr.com) (Quit: Computer has gone to sleep.)
[00:41:58] <strcat> or just use sqlite ;p
[00:42:04] <goldfeld> swap files right?
[00:42:13] <strcat> so you have
[00:42:15] <goldfeld> hahaha no way
[00:42:15] <strcat> atomic.txt
[00:42:18] <strcat> you never write to it
[00:42:19] <goldfeld> I'll go the git route
[00:42:25] <strcat> you write to atomic.txt.tmp
[00:42:27] <strcat> fsync
[00:42:27] <enticeing> oh, for the future, how good is sqlite access in rust?
[00:42:29] <strcat> and rename over atomic.txt
[00:42:37] *** Joins: santiago (santiago@moz-8ADE82B4.socal.res.rr.com)
[00:42:37] <aatch> enticeing, there is a binding
[00:42:57] <goldfeld> besides i'd go with mongo preferrably for that
[00:43:21] <aatch> sqlite can be completely embedded though
[00:43:28] <aatch> no servers or anything
[00:43:29] *** Quits: jack (jack@EF36212C.8FA609AD.840029BC.IP) (Ping timeout)
[00:44:35] <goldfeld> does nothing to make it appear less dirty to me when i see sqlite as an apt dependency (or mongo for that matter)
[00:44:37] *** Quits: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP) (Quit: Leaving.)
[00:45:32] *** Joins: strcat1 (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[00:45:34] <goldfeld> i mean, doesn't jive with the unix way, for cli tools at least
[00:45:48] <strcat1> goldfeld: sqlite has a cli tool and works great in scripts
[00:45:54] <strcat1> it's a small embedded C library
[00:45:57] <strcat1> there's no server
[00:46:00] <aatch> it uses a single file
[00:46:06] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[00:46:16] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[00:46:17] <aatch> it's pretty much "The UNIX way"
[00:46:19] <strcat1> it's a file format with nested transactions, constraints, etc.
[00:46:24] <strcat1> non-trivial to get that right yourself
[00:46:41] <strcat1> atomic updates to a *single file* you can do with writing to a temp file, fsync and rename
[00:46:42] *** Joins: ssbr_ (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP)
[00:46:55] <aatch> sqlite does 1 thing: databases
[00:47:05] <goldfeld> it does sound compelling, i wasn't aware of it's simplicity
[00:47:37] <goldfeld> still, i can't convince myself it's a good plan for a cli tool in the long run
[00:48:12] <goldfeld> well, then again my use case would be a single table
[00:48:44] <aatch> goldfeld, I've seen people using sqlite files as an "image file format"
[00:48:49] <strcat1> it's just 1 file regardless of how many tables there are, easier to query/manipulate with the sqlite3 cli tool than something unstructured
[00:49:11] <aatch> And their reasoning is pretty solid
[00:49:39] <strcat1> I usually like leveldb more for simple things but sqlite is nice too
[00:49:43] <aatch> http://shapeof.com/archives/2013/4/we_need_a_standard_layered_image_format.html
[00:49:57] <strcat1> as soon as I needed nested transactions there's no way I would be using leveldb
[00:50:14] <aatch> Oh and from the "When to use sqlite": "SQLite is not designed to replace Oracle. It is designed to replace fopen()."
[00:50:14] *** Quits: ens (chatzilla@A8DBE445.6E8FE3C5.C90F432E.IP) (Ping timeout)
[00:50:21] <goldfeld> oh, I saw that article on hn the other day but didn't click through
[00:50:28] <goldfeld> looks really interesting actually
[00:53:03] <goldfeld> i think i might go with sqlite for the time being if only for getting acquainted with it, or else i'll try to use it on a more complex project
[00:57:06] *** Joins: arete (arete@moz-CC2E6F16.new.xen.prgmr.com)
[00:58:31] *** Joins: solancile (solancile@moz-A1CFFAE5.hsd1.wa.comcast.net)
[01:03:21] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:07:39] <aatch> strcat1, can you think of a case where indent is introduced by something other than a block, function call or function definition?
[01:08:32] *** strcat1 is now known as strcat
[01:08:42] <strcat> aatch: wrapping lines
[01:09:14] <aatch> strcat, as in inside strings?
[01:09:25] <strcat> aatch: just wrapping long lines of code
[01:09:48] <aatch> strcat, yeah, that would be a function call.
[01:10:05] <aatch> unless you have endless aritmetic
[01:10:13] <strcat> ah, well struct definitions, etc.
[01:10:23] <strcat> lots of things get wrapped ;p
[01:10:24] <aatch> ok, rephrase block to '{'
[01:10:37] *** Joins: wilsonk|2 (kvirc@moz-39EFBFC2.cg.shawcable.net)
[01:10:48] <aatch> this is just for auto-indenting remember
[01:11:10] *** Quits: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net) (Ping timeout)
[01:14:43] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[01:15:40] *** Joins: jack (jack@EF36212C.8FA609AD.840029BC.IP)
[01:17:53] *** Joins: mrplant (Mibbit@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[01:19:05] *** Quits: Thad (chatzilla@moz-C35F90AE.tx.res.rr.com) (Quit: ChatZilla 0.9.90 [Firefox 21.0/20130430204233])
[01:19:40] <goldfeld> by the way, on the subject of db, i've been fond lately of the idea of using vim as database
[01:19:53] <aatch> goldfeld, ???
[01:20:02] <goldfeld> it does need a server, you need to start vim with --server-name=NAME and then you can send commands to it
[01:20:04] <goldfeld> haha
[01:20:10] <goldfeld> it's as part of a project of mine
[01:20:42] <goldfeld> i'm doing something akin to org-mode for vim, though it's wildly different at the same time
[01:21:34] <goldfeld> and it's cool that vim can have a server waiting commands like emacs can, so i'm working on defining an api/query language so that these outlines files can be interacted with by other apps (including this one in rust)
[01:23:01] <goldfeld> it's just, you know, you get a bunch of transactional stuff for free by telling vim to change a certain value and allowing it to handle the file change however it sees fit
[01:24:11] <strcat> not really transactional
[01:24:23] <goldfeld> yeah, it was a loose use of the term
[01:24:44] *** Joins: Erik (Erik-S@moz-252DBA2.hsd1.co.comcast.net)
[01:24:55] <goldfeld> but you get history of commands, history of change, undo
[01:26:37] *** Joins: philix (philix@moz-451739D3.user.veloxzone.com.br)
[01:30:53] *** Quits: threecreepio (jdp@moz-DB2D70E9.cust.bredbandsbolaget.se) (Quit: threecreepio)
[01:31:58] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[01:34:18] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Quit: Eaten by a grue)
[01:37:32] <enticeing> why does vec.len() return a uint?
[01:37:45] <cmr> What would you have it return?
[01:37:47] <aatch> enticeing, because you can't have a negative length?
[01:38:00] <enticeing> ah, but it would be easier if it was int :P
[01:38:00] <aatch> cmr, float!
[01:38:05] <enticeing> i see what you mean though
[01:38:16] <enticeing> just a few extra `as int`s
[01:38:54] <aatch> enticeing, I do agree that there are a few cases where coercion could be useful
[01:39:18] <enticeing> it's not a huge problem though
[01:40:26] <aatch> The problem is that you have to define what let a : int = 1i + uint::max_value is.
[01:40:39] <aatch> It's easy to come up with definitions, but everybody complains
[01:40:46] <aatch> no matter what you pick
[01:41:01] <aatch> so it's easier to disallow it altogether
[01:45:59] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[01:46:18] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[01:46:18] *** Quits: nejucomo (nejucomo@68DD7008.27435823.DC56C324.IP) (Ping timeout)
[01:49:23] <enticeing> how does rust handle dividing by 0 ?
[01:49:35] <aatch> enticeing, depends on the situation.
[01:49:46] <aatch> For ints, it's a hardware fault
[01:50:01] <aatch> for floats, NaN or {+.-}Inf
[01:50:10] <aatch> basically, whatever C des
[01:50:12] <aatch> does*
[01:53:00] *** Quits: skchrko_ (sk@61A494B3.BA40E8A.AAC02D62.IP) (Ping timeout)
[01:53:23] *** Joins: skchrko_ (sk@61A494B3.BA40E8A.AAC02D62.IP)
[01:54:50] <Jesse> enticeing: in your programs, do you have more ints than uints?
[01:55:25] <Erik> rusti: 0
[01:55:47] <aatch> Erik, strcat/rusti are having wi-fi problems atm
[01:55:48] <enticeing> this one is sort of an even mix
[01:56:06] <Erik> aatch: Thanks.
[01:56:49] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:00:04] *** Joins: steven_is_false (quassel@moz-144077DE.bchsia.telus.net)
[02:00:32] *** Quits: Jesin (Jessin_@moz-A03A364F.cc.lehigh.edu) (Ping timeout)
[02:01:02] *** Quits: skchrko_ (sk@61A494B3.BA40E8A.AAC02D62.IP) (Ping timeout)
[02:01:12] *** Quits: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net) (Ping timeout)
[02:02:09] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:04:26] <goldfeld> does anyone know why the fat arrow => isn't syntax colored as a unit? in my colorscheme the '>' is so faded against the background i can't see it, so it shows up as just a '= '
[02:04:55] <aatch> goldfeld, I'm guessing the syntax file hasn't been updates
[02:04:57] <aatch> updated*
[02:05:33] <strcat> goldfeld: gvim?
[02:05:36] *** Joins: skchrko_ (sk@61A494B3.BA40E8A.AAC02D62.IP)
[02:05:42] <goldfeld> yeah
[02:05:47] <strcat> conceal doesn't work in gvim
[02:05:55] <strcat> just use
[02:05:56] <strcat> let g:no_rust_conceal = 1
[02:06:01] <goldfeld> what's conceal?
[02:06:07] <strcat> replaces stuff like => with unicode
[02:06:09] <strcat> I don't like it
[02:06:14] <enticeing> are traits like Eq in the docs somewhere?
[02:06:15] <goldfeld> oh, interesting
[02:06:17] <strcat> anyway doesn't work in gvim when it's multiple characters
[02:06:20] <enticeing> or i mean generics
[02:06:22] <cmr> enticeing: core::cmp
[02:06:26] <enticeing> thanks
[02:06:37] <enticeing> wait, it is a trait
[02:06:41] <strcat> yes
[02:07:02] <strcat> and a lang item letting it overload the == operator
[02:07:16] <strcat> but other than that a normal trait
[02:07:19] <aatch> strcat, it's odd, I don't remember turning conceal off, but it is
[02:07:29] <strcat> aatch: in vimrc?
[02:07:36] * strcat shrugs
[02:07:39] <strcat> I hate conceal ;p
[02:07:51] <enticeing> how should i implement Eq for this? http://ix.io/5v7
[02:07:59] <enticeing> or would it be easier to set them to ints
[02:08:25] <strcat> enticeing: #[deriving(Eq)] can do it for you
[02:08:27] <goldfeld> thank god, and you strcat
[02:08:33] <goldfeld> now i can see my fatties
[02:08:34] <strcat> but if you really wanted to do it manually you would use 'match'
[02:08:46] <enticeing> strcat: and what does that do, like behind the scenes?
[02:08:52] *** Joins: jfredett (jfredett@moz-C01C350.bstnma.fios.verizon.net)
[02:09:04] <strcat> enticeing: just implements the "default" for you (comparing all the variants or fields)
[02:09:08] <aatch> strcat, I don't think I've installed the latest rust vimfile
[02:09:30] <enticeing> also, what do you guys think of `} else {`
[02:09:43] <goldfeld> cool in my book enticeing
[02:09:47] <cmr> enticeing: that's how I do it
[02:09:52] <enticeing> i picked it up a while back from go, myself
[02:09:55] <strcat> enticeing: that's the style used in the rust codebase
[02:10:01] <enticeing> okay, great!
[02:10:10] <aatch> I prefer inline braces
[02:11:51] *** Joins: Ralith (ralith@moz-50F3C77.vc.shawcable.net)
[02:12:20] *** Joins: Axord (xord@moz-C3CCF156.lsanca.dsl-w.verizon.net)
[02:13:04] <goldfeld> what are inline braces?
[02:13:31] <aatch> goldfeld, not having the '{' on its own line
[02:14:18] <goldfeld> oh ok, i thought you were saying you preferred something else and i was really puzzled thinking of anything more inline that } else {
[02:14:18] <cmr> I like the kernel style, minus the "no braces on single-statement loop bodies"
[02:16:39] *** Quits: Sorella (queen@B12A78F5.BA14766C.95C8B7C6.IP) (Quit: (quit))
[02:16:43] <enticeing> i just don't really see how braces on their own line helps
[02:16:57] <aatch> enticeing, neither
[02:16:57] <enticeing> it doesn't really help make the code stand out if you're indenting, which you should be anyways
[02:17:09] <goldfeld> what's the idiom to make a match case noop? eg None => ?
[02:17:15] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[02:17:18] <enticeing> {} i think
[02:17:20] <aatch> goldfeld, ()
[02:17:28] <goldfeld> i tried exactly ()
[02:17:34] <aatch> assuming that you aren't returning something from the case
[02:17:34] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:17:44] <aatch> I mean the match
[02:17:55] <goldfeld> i'm not
[02:18:10] <goldfeld> should I do None => (); or None => (), ?
[02:18:22] <aatch> goldfeld, (); doesn't work
[02:18:26] <goldfeld> it says it was expecting a comma but found Some
[02:18:28] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[02:18:31] <goldfeld> because I have None then Some
[02:18:50] <enticeing> i always put the none at the end
[02:18:54] <aatch> so you have to have (),
[02:19:07] <aatch> But I agree with enticeing, have it at the end.
[02:19:28] <aatch> if it's a no-op, it's not important, so it shouldn't be first
[02:20:17] *** Quits: skchrko_ (sk@61A494B3.BA40E8A.AAC02D62.IP) (Ping timeout)
[02:20:47] *** Quits: steven_is_false (quassel@moz-144077DE.bchsia.telus.net) (Client exited)
[02:21:11] <goldfeld> so the thing is when a non-last case has a {} body it doesn't need a comma, otherwise it does
[02:21:15] *** Joins: steven_is_false (quassel@moz-144077DE.bchsia.telus.net)
[02:21:38] <cmr> The last case of a match never needs a comma?
[02:21:49] <aatch> goldfeld, if you have a block ({ }), then you never need a comma after it
[02:21:53] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:21:56] *** Quits: klapaucius (klapaucius@272B8F8B.5692770D.BB41F968.IP) (Ping timeout)
[02:22:03] <aatch> you need commas after bare expressions
[02:22:16] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[02:22:31] <goldfeld> that sounds right
[02:23:04] <aatch> goldfeld, that would be because it is :P
[02:23:07] <goldfeld> one other thing i'm running into, can I not expect a Option<int> argument and pass a plain int e.g. 5 to the function?
[02:23:19] <cmr> No, you cannot.
[02:23:31] <cmr> You need to pass Some(5)
[02:23:39] <cmr> An int isn't an Option<int>
[02:23:52] <strcat> goldfeld: Option is just an enum, nothing special
[02:23:57] <goldfeld> got it, thanks
[02:23:59] <cmr> goldfeld: http://static.rust-lang.org/doc/core/option.html#enum-option
[02:24:27] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:24:44] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[02:24:49] <goldfeld> yeah it would be cool to have some sugar on it since it's such a common use case (plus there's the case for stimulating it's ubiquitous use)
[02:25:04] <cmr> Sugar on what?
[02:25:13] <goldfeld> Option
[02:25:18] <goldfeld> i don't know how Haskell's does though
[02:25:41] <cmr> What is your ideal syntax?
[02:26:06] *** Joins: skchrko_ (sk@61A494B3.BA40E8A.AAC02D62.IP)
[02:26:11] <Ralith> Haskell has no such magic.
[02:26:19] *** Joins: klapaucius (klapaucius@272B8F8B.5692770D.BB41F968.IP)
[02:26:21] <goldfeld> well, i wish it could cast an int into a Some(int)
[02:26:31] <goldfeld> i think there's a language that does though
[02:26:36] <goldfeld> scala or scheme can't recall
[02:26:51] <goldfeld> in which it is a far more ingrained syntax feature
[02:26:57] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[02:27:07] <bjz> Java does that. And it's bloody confusing.
[02:27:24] <bjz> (ie. everything is an Option)
[02:27:30] <cmr> Automatically coercice it into an Option?
[02:27:43] <bjz> null?
[02:28:00] <goldfeld> well, when the target expects an Option<T> and you pass a T, yes
[02:28:02] <cmr> This is re: my original question to goldfeld about syntax
[02:28:43] <goldfeld> what actually gets to me in parenthesis creep
[02:28:58] <aatch> goldfeld, but that would mean special-casing Option
[02:29:41] <goldfeld> it's already a function call, then you add a nested one, fun(Some(x)), let alone all other parenthesis nesting your code may have itself
[02:30:20] <goldfeld> yes, it would
[02:30:40] <goldfeld> but isn't Option so special that it needn't be a plain enum?
[02:30:43] <goldfeld> what do you gain?
[02:31:02] <cmr> Language simplicity
[02:31:09] <bjz> clarity
[02:31:09] <aatch> goldfeld, stuff like that, along with indent drift, tend to indicate that your code should be re-structured
[02:31:19] <aatch> precedent (or lack thereof)
[02:33:03] <goldfeld> i may yet learn to appreciate it
[02:35:17] <goldfeld> but i do feel there's a fine balance between simplicity and expressiveness, and theres a cognitive simplicity that comes with more expressiveness rather than less
[02:35:45] <aatch> goldfeld, but that expressiveness often translates to opacity
[02:35:47] <cmr> I never even noticed this "issue" before you mentioned it :p
[02:36:11] <aatch> "Wow, thats really easy! I have no idea how it works"
[02:36:49] *** Quits: klapaucius (klapaucius@272B8F8B.5692770D.BB41F968.IP) (Ping timeout)
[02:36:51] <goldfeld> aatch: that might well be the defining line for the balance i mentioned
[02:37:09] <goldfeld> aatch: i mean, there's a degree to which a language needs to get 'low-level'
[02:37:29] <aatch> goldfeld, but rust /is/ a lower-level language.
[02:37:31] <goldfeld> but otherwise, taking your quote to it's logical conclusion, everything but assembler is opaque
[02:37:45] <goldfeld> yes, yes, i'm conceding here, not the other way
[02:39:42] <goldfeld> i'm just trying to say not every feature that translates into expressiveness can be argued that way (of opacity), and rust is actually fairly high-level and expressive despite being a systems language
[02:40:20] *** Quits: skchrko_ (sk@61A494B3.BA40E8A.AAC02D62.IP) (Ping timeout)
[02:40:33] *** Quits: jack (jack@EF36212C.8FA609AD.840029BC.IP) (Quit: Leaving.)
[02:41:29] <strcat> I don't see why Option should be different than other enums
[02:42:40] *** Joins: klapaucius (klapaucius@272B8F8B.5692770D.BB41F968.IP)
[02:42:48] *** Joins: skchrko_ (sk@61A494B3.BA40E8A.AAC02D62.IP)
[02:43:44] <goldfeld> i won't argue that it should, given the arguments you all have given, but you could of it in terms of "what's the percentage of enum uses that Option accounts to, on average across codebases", akin to profiling bottlenecks
[02:43:53] <goldfeld> could think of it*
[02:45:02] *** Joins: strcat1 (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:45:10] <strcat1> goldfeld: but why should Option be *different*?
[02:45:34] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[02:45:38] *** strcat1 is now known as strcat
[02:46:25] *** Joins: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP)
[02:46:25] *** Quits: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP) (Z:lined (Open Proxy found on your host. Please visit www.blitzed.org/proxy?ip=115.68.131.49 for more information.))
[02:46:32] *** Quits: kimundi (kimundi@moz-FDD5BF22.dip0.t-ipconnect.de) (Ping timeout)
[02:46:41] *** Quits: twm (twm@moz-13417AD3.dsl.static.sonic.net) (Ping timeout)
[02:48:26] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[02:48:34] <goldfeld> for it to be as easy to use as a plain type, thus increasing adoption and overall solidness of rust codebases
[02:48:52] <goldfeld> but that's a tentative argument
[02:50:05] *** Joins: kimundi (kimundi@moz-C95FB01C.dip0.t-ipconnect.de)
[02:50:31] *** Joins: RUSTASTIC (Mibbit@moz-AB722A1C.mc.videotron.ca)
[02:50:40] *** Joins: nejucomo (nejucomo@moz-86C92AF3.kimsufi.com)
[02:51:14] *** Quits: RUSTASTIC (Mibbit@moz-AB722A1C.mc.videotron.ca) (Quit: http://www.mibbit.com ajax IRC Client)
[02:51:36] <strcat> it's not harder to use than other types
[02:51:43] <strcat> int doesn't coerce to f32 implicitly either
[02:51:45] <strcat> or u8
[02:52:04] <strcat> or a newtype struct, or a struct with one field
[02:52:40] <strcat> there's auto-deferencing/auto-borrowing for method calls
[02:52:49] <strcat> not many other implicit conversions
[02:53:15] *** kimundi is now known as zz_kimundi
[02:53:24] <goldfeld> yes, i have seen a couple 'magic' stuff, but i can see how rust's philosophy seems to be for explicitness overall
[02:54:31] <aatch> strcat, what function definition/call style should I have in vim?
[02:55:01] <aatch> where you split the arguments over multiple line
[02:56:03] <strcat> aatch: well atm the codebase using the hanging indent style
[02:56:10] <strcat> cindent calls it (0 or something
[02:56:14] <strcat> cindentoptions(*
[02:58:48] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:59:06] <strcat> rusti: core::run::run_program("./foo", [])
[02:59:08] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[02:59:12] <strcat> heh
[02:59:39] <cmr> strcat: it'd be cool if rusti didn't die on segfaults, too
[02:59:52] <strcat> cmr: it doesn't afaik
[02:59:58] <cmr> it did last I checked
[03:00:04] <strcat> what do you mean die?
[03:00:04] <cmr> or, not necessarily die, but doesn't paste anything
[03:00:39] <strcat> I screwed up the rlimits
[03:06:20] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[03:09:37] *** Quits: MrFahrenheit (RageOfThou@moz-CF7139ED.dynamic.telemach.ba) (Connection reset by peer)
[03:10:12] *** Quits: klapaucius (klapaucius@272B8F8B.5692770D.BB41F968.IP) (Ping timeout)
[03:10:20] *** Joins: MrFahrenheit (RageOfThou@moz-CF7139ED.dynamic.telemach.ba)
[03:10:40] *** Joins: klapaucius (klapaucius@272B8F8B.5692770D.BB41F968.IP)
[03:11:57] *** Quits: nass (nass@4F314BB3.5408CE6B.B38D1DE0.IP) (Ping timeout)
[03:11:57] *** Quits: prudhvi (prudhvi@moz-154A460A.supr.io) (Ping timeout)
[03:11:58] *** Joins: prudhvi (prudhvi@moz-154A460A.supr.io)
[03:11:58] *** Quits: pcdummy (quassel@moz-CF4CA865.page4me.ch) (Ping timeout)
[03:12:00] *** Joins: pcdummy (quassel@moz-CF4CA865.page4me.ch)
[03:12:08] *** Joins: nass (nass@4F314BB3.5408CE6B.B38D1DE0.IP)
[03:12:16] *** Quits: mixi (mixi@moz-DBD8904A.org) (Ping timeout)
[03:12:19] *** Quits: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP) (Ping timeout)
[03:12:19] *** Quits: DasIch (dasich@moz-756B08B1.clients.your-server.de) (Ping timeout)
[03:12:19] *** Quits: sawrubh (uid6719@moz-C944F5EC.irccloud.com) (Ping timeout)
[03:12:20] *** Joins: DasIch (dasich@moz-756B08B1.clients.your-server.de)
[03:12:27] *** Joins: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP)
[03:12:30] *** Joins: mixi (mixi@moz-DBD8904A.org)
[03:12:33] *** Quits: decoder (quassel@moz-D7023D7D.own-hero.net) (Ping timeout)
[03:12:33] *** Quits: gmcabrita (uid4474@moz-C944F5EC.irccloud.com) (Ping timeout)
[03:12:33] *** Quits: jaws (uid2871@moz-D8B63698.irccloud.com) (Ping timeout)
[03:12:33] *** Quits: geomyidae__ (uid214@moz-D8B63698.irccloud.com) (Ping timeout)
[03:12:41] *** Quits: skchrko_ (sk@61A494B3.BA40E8A.AAC02D62.IP) (Ping timeout)
[03:12:46] *** Joins: decoder (quassel@moz-D7023D7D.own-hero.net)
[03:13:22] *** Joins: skchrko_ (sk@61A494B3.BA40E8A.AAC02D62.IP)
[03:13:43] *** Quits: an0nymous (an0nymous@moz-A6B0CE4.tx.res.rr.com) (Ping timeout)
[03:14:02] <aatch> Man, rust's syntax is really easy to define a basic indent for
[03:16:04] <Jeaye> Improving Vim's syntax file? :D
[03:16:12] <aatch> Jeaye, just the indent atm
[03:16:25] *** Quits: goldfeld (Mibbit@74A459DB.EC2C9DB7.8DF84892.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:16:31] <aatch> Biggest thing for me: not treating '#' special
[03:16:35] *** Joins: goldfeld (Mibbit@74A459DB.EC2C9DB7.8DF84892.IP)
[03:16:40] <Jeaye> ahh
[03:16:45] <aatch> constantly hit that while writing tests
[03:16:50] <Jeaye> I'll be interested in your changes.
[03:16:59] <aatch> Jeaye, they aren't interesting.
[03:17:03] *** Joins: dbaupp (Thunderbir@1E81938B.D5A1DCF.37681C44.IP)
[03:17:05] <cmr> yeah, that was really annoying
[03:17:06] <Jeaye> Sure they are.
[03:17:08] <aatch> I just set the right cinoptions lol
[03:17:10] <Jeaye> I'm very interested in getting tag completion working in Rust.
[03:18:09] <goldfeld> hmm, tag completion
[03:18:48] <cmr> shouldn't be too hard, right? could use libsyntax.
[03:19:28] <Jeaye> I dunno. Never been on that side of tags before.
[03:19:33] *** Quits: cdidd (cdidd@moz-7F9BCE5D.broadband.corbina.ru) (Ping timeout)
[03:19:45] <goldfeld> is there anything extra to tag completion beyond what's needed for tag navigation?
[03:20:04] <Jeaye> I don't think so.
[03:20:14] *** Quits: skchrko_ (sk@61A494B3.BA40E8A.AAC02D62.IP) (Ping timeout)
[03:20:18] <Jeaye> Just for the editor to pop up a menu with options.
[03:20:19] <goldfeld> if anything it should be less demanding
[03:20:19] *** Joins: jack (jack@EF36212C.8FA609AD.840029BC.IP)
[03:20:44] <goldfeld> hmm, yeah, maybe it does take more intelligence though
[03:20:53] <Jeaye> I know tags are generated in Rust already (with the makefile), but I'm not sure if anyone is using them for anything.
[03:21:13] <goldfeld> yeah i saw the tags too
[03:21:46] <Jeaye> I believe it was nmatsakis that set them up. 
[03:21:56] <goldfeld> but i'm yet to delve into ctags on vim since i've never coded anything static in it
[03:22:37] <Jeaye> Ahh, I use it at work with C++, Java, and ObjC with ctags.
[03:22:54] <Jeaye> It's handy.
[03:23:04] <goldfeld> btw, i saw some objc rust bindings
[03:23:20] *** Joins: catpigger (catpig@moz-D49D45E6.dip0.t-ipconnect.de)
[03:23:27] <goldfeld> what's the state of that
[03:24:16] <goldfeld> Jeaye: yeah i'll get into them as soon as ctrlp gets unwieldy with my rust project
[03:24:26] *** Quits: catpig (catpig@moz-BE63F2FC.dip0.t-ipconnect.de) (Ping timeout)
[03:24:47] *** Quits: klapaucius (klapaucius@272B8F8B.5692770D.BB41F968.IP) (Ping timeout)
[03:25:47] *** Joins: klapaucius (klapaucius@272B8F8B.5692770D.BB41F968.IP)
[03:26:09] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[03:26:54] *** Joins: skchrko_ (sk@61A494B3.BA40E8A.AAC02D62.IP)
[03:27:17] <aatch> so new indent file. Hanging indent for function calls and defs, standard handling for '{'. No handling of anything else
[03:28:53] <strcat> aatch: can test by auto-indenting code
[03:28:58] <strcat> just auto-indent a whole file
[03:29:07] <aatch> strcat, I did.
[03:29:12] <aatch> I'm just informing people
[03:29:15] <strcat> does it work well? :)
[03:29:20] <aatch> Seems to
[03:29:23] <strcat> :D
[03:29:37] *** Joins: alisdair (textual@moz-EBE9F394.bchsia.telus.net)
[03:29:52] <strcat> o
[03:30:26] <aatch> Doesn't handle type bounds lists very well though
[03:30:35] *** Joins: brson (brson@58B3E13.EF2694B5.DFAC6AA7.IP)
[03:30:35] *** ChanServ sets mode: +o brson
[03:30:38] <strcat> when wrapped you mean?
[03:30:44] <aatch> strcat, yep
[03:30:49] <aatch> I could fix that.
[03:30:53] <aatch> But not right now
[03:32:31] <aatch> strcat, do you think people would complain if i made conceal opt-in?
[03:32:40] <strcat> dunno
[03:33:17] <cmr> aatch: I would like that :)
[03:33:53] <aatch> cool, no you have to set g:rust_conceal
[03:34:07] <aatch> I also made that damn red line a setlocal
[03:34:17] <cmr> the colorcolumn?
[03:34:21] <aatch> yeah
[03:34:43] <strcat> aatch: only red if your colorscheme makes it red ;p
[03:35:13] <aatch> strcat, what ever. It was just that it came up in every file type because it was just a 'set'
[03:35:23] <strcat> yeah, shouldn't be global
[03:35:42] *** Joins: doomlord (doomlod@moz-92EDFF3A.range31-52.btcentralplus.com)
[03:36:19] <strcat> other than not working in gvim, conceal interacts poorly with pasting/copying and :TOhtml
[03:36:51] <aatch> strcat, I don't appear to even /have/ conceal in my build of vim
[03:37:02] <strcat> how old is it?
[03:37:12] <strcat> aatch: :help conceallevel ?
[03:37:24] <aatch> compiled Apr 10
[03:37:42] <aatch> I use YCM, it must be relatively new
[03:38:02] <strcat> aatch: which feature level did you use?
[03:38:08] <strcat> there's tiny, small, normal, big, huge
[03:38:15] <strcat> conceal turns on at big
[03:38:33] <strcat> kind of a ridiculous system if you ask me ;p
[03:38:53] <strcat> proper mouse support is also a "Big" feature
[03:39:05] <aatch> I didn't pick a feature level, but I have the help for it, it just doesn't know about conceal
[03:39:17] <aatch> I manually chose the features
[03:39:23] <strcat> ah
[03:42:19] <aatch> Any other general things you know of that could be improved for rust's vim support?
[03:42:24] *** Joins: chadz (Mibbit@moz-6EE80298.tukw.qwest.net)
[03:43:36] *** Quits: Axord (xord@moz-C3CCF156.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[03:44:16] <aatch> m32 is a keyword?
[03:44:19] <aatch> What's m32?
[03:45:41] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[03:46:56] <Jeaye> Hmm, it's highlighted for me.
[03:46:58] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[03:47:00] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: strcat)
[03:47:13] <Jesse> but it's used as an identifier in https://github.com/mozilla/rust/blob/incoming/src/test/run-pass/issue-3149.rs
[03:47:43] <aatch> Jeaye, it's a keyword in the syntax file, along with a few others I've never seen
[03:48:00] <enticeing> is using int::range the easiest way to run something n times?
[03:48:08] <aatch> enticeing, nope
[03:48:15] <sp3d> the GtkSourceView syntax doesn't highlight it
[03:48:16] <aatch> for n.times { }
[03:48:39] <aatch> sp3d, I'm guessing it's obsolete
[03:48:40] <enticeing> ah, i though i remembered something like that
[03:48:41] <enticeing> thanks
[03:48:56] <aatch> I'm just curious as to what it was
[03:49:11] <enticeing> would range still be the easiest if you wanted to keep around the variable?
[03:49:20] *** Quits: nejucomo (nejucomo@moz-86C92AF3.kimsufi.com) (Client exited)
[03:49:26] <aatch> enticeing, what do you mean?
[03:50:20] <enticeing> well, i want to loop over a vector, keeping the number of the element
[03:50:34] <enticeing> right now i'm doing for int::range(0, self.clients.len() as int) |i| { ... }
[03:51:14] <Jesse> enticeing: iteri
[03:51:29] <enticeing> i was just scanning the docs for core::iter too :P
[03:51:31] <Jesse> or is it eachi
[03:51:37] <dbaupp> enticeing: for self.clients.each |i, elem| { .. }
[03:51:41] <aatch> enticeing, self.clients.eachi
[03:51:48] <dbaupp> *eachi
[03:51:50] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Ping timeout)
[03:52:19] <enticeing> thanks
[03:57:50] <aatch> Hmm, does '=>' being higlighted as an operator make sense?
[03:59:08] *** Joins: cdidd (cdidd@moz-551F500.broadband.corbina.ru)
[04:00:33] <doomlord> .each |i,elem|{}   versus .each |elem|{   }  . .. is that 'each' "overloaded" to pass elem or (i,elem)
[04:00:39] *** Quits: dbaupp (Thunderbir@1E81938B.D5A1DCF.37681C44.IP) (Ping timeout)
[04:00:51] <enticeing> for |i, elem| it's eachi
[04:01:17] <doomlord> aah thats what i'm missinig
[04:01:44] *** Quits: catpigger (catpig@moz-D49D45E6.dip0.t-ipconnect.de) (Quit: Verlassend)
[04:05:17] *** Quits: chadz (Mibbit@moz-6EE80298.tukw.qwest.net) (Quit: http://www.mibbit.com ajax IRC Client)
[04:08:23] <ssbr_> aw man, nice
[04:08:36] <ssbr_> because Servo uses GLES, there's some high quality GLES2 bindings already written
[04:10:23] <ssbr_> Egh. What does the "++" in `fn foo(++x: y)` mean?
[04:10:33] <steven_is_false> a
[04:11:03] <cmr> ssbr_: Deprecated and removed feature
[04:11:18] <cmr> it was one of the modes, copy, I think
[04:11:50] <ssbr_> I see. Well, the GLES bindings will probably stop using it soonish then
[04:12:06] <cmr> hopefully. the de-mode patch has already landed.
[04:12:47] <ssbr_> well, it's Servo, so if they can't do it, I assume that'd just mean that modes would get added back to Rust, right? Since Servo is the test case of Rust as a language
[04:13:13] <cmr> modes were replaced by borrowed reference, iirc
[04:13:22] <cmr> I don't know all the details, too new to the language
[04:13:24] <aatch> ssbr_, arguably rustc is the test case
[04:13:36] <ssbr_> aatch: that's a fair counterpoint
[04:13:50] <aatch> cmr, they specified how the argument was passed to the function.
[04:13:53] <ssbr_> but slightly more embarrassing to admit
[04:14:24] <aatch> They were replaced by borrowed pointers and stronger semantics on the existing ones
[04:14:46] <aatch> The borrow checker was god send.
[04:14:59] <aatch> Which may make Niko Jesus
[04:15:35] *** Quits: devbug (quassel@moz-E1DE087C.bchsia.telus.net) (Ping timeout)
[04:17:10] <Jeaye> Niko's a valid candidate for Jesus.
[04:19:28] <cmr> A new snapshot compiler would really make my day :(
[04:20:18] <cmr> Wasn't graydon working on one a few days ago? I recall him wrangling with valgrind stuff.
[04:21:40] <aatch> cmr, there is one
[04:21:48] <cmr> ! when?
[04:21:49] *** Quits: doomlord (doomlod@moz-92EDFF3A.range31-52.btcentralplus.com) (Connection reset by peer)
[04:21:56] <aatch> May 3rd
[04:22:07] <cmr> makes sense, that was the day I was travelling
[04:22:18] <aatch> cmr, don't worry, I missed it too.
[04:22:25] <aatch> And I wasn't travelling either.
[04:22:47] *** Quits: jfredett (jfredett@moz-C01C350.bstnma.fios.verizon.net) (Ping timeout)
[04:23:05] *** Quits: int3_ (int3_@moz-1692740B.subnet-248.amherst.edu) (Client exited)
[04:23:09] <cmr> It'd be nice if new snapshots were anounced on the ML
[04:24:35] *** Joins: doomlord (doomlod@moz-92EDFF3A.range31-52.btcentralplus.com)
[04:24:48] <Jeaye> I knew of that one; it fixed my building on Linux. :D
[04:26:17] <aatch> The formatting stuff me and dbapp are working on need it to compile
[04:27:28] <aatch> Without using #[cfg(stage0)] that is
[04:28:09] *** Joins: int3_ (int3_@moz-1692740B.subnet-248.amherst.edu)
[04:28:20] <brson> cmr: noted for the future. usually there isn't such widespread demand for them, but it seems like a lot of people were waiting for this one
[04:30:08] <aatch> brson, I've noticed that there have been a lot of changes between 0.6 and now. Like "that doesn't work any more" or "that only works on incoming" kind of changes
[04:32:14] *** Joins: devbug (quassel@moz-E1DE087C.bchsia.telus.net)
[04:32:26] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[04:33:18] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Ping timeout)
[04:40:10] *** Joins: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP)
[04:40:14] *** Quits: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP) (Quit: BizarreCake)
[04:40:23] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Client exited)
[04:43:42] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[04:48:46] <brson> aatch: what are your thoughts about the subject of breaking changes?
[04:49:18] <aatch> brson, depends on what the change is
[04:49:18] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:49:22] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:49:25] <strcat> rusti: 1
[04:49:26] <rusti> 1
[04:49:37] <aatch> if it's trivial, then not worth it.
[04:49:52] <strcat> rusti: "foo"
[04:49:53] <rusti> "foo"
[04:49:54] <aatch> If it's "temporary" then probably wait until the real change
[04:49:58] * strcat remade rusti a bit
[04:50:31] <aatch> At the moment, breaking changes are a fact of rust's development though
[04:50:55] *** Quits: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net) (Connection reset by peer)
[04:51:11] *** Joins: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net)
[04:51:42] <Jeaye> Rah, locked up my system... again. >.<
[04:51:49] <cmr> rusti: unsafe { *(0x0 as *mut uint) = 2; }
[04:51:58] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[04:51:59] <cmr> strcat: that's what I mean by "dies on segfault"
[04:52:10] <cmr> the bot is fine but he doesn't say anything
[04:52:20] <Jeaye> Not sure if it's Rust or a faulty video driver. :(
[04:52:40] <strcat> cmr: well it worked before, but I happened to rewrite it and it ignores stderr now
[04:53:20] <strcat> rusti: a
[04:53:25] <strcat> doesn't report stderr at all atm.
[04:53:29] *** Joins: geomyidae__ (uid214@moz-D8B63698.irccloud.com)
[04:53:36] *** Quits: solancile (solancile@moz-A1CFFAE5.hsd1.wa.comcast.net) (Ping timeout)
[04:53:48] *** Quits: santiago (santiago@moz-8ADE82B4.socal.res.rr.com) (Ping timeout)
[04:53:51] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[04:53:58] *** Joins: twm (twm@moz-13417AD3.dsl.static.sonic.net)
[04:54:12] *** Joins: santiago (santiago@moz-8ADE82B4.socal.res.rr.com)
[04:54:29] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:54:31] <strcat> rusti: a
[04:54:32] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/fgVJ
[04:54:41] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[04:54:56] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:54:58] <strcat> rusti: a
[04:54:58] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/iIiH
[04:55:18] <strcat> anyway it's in a properly setup container now
[04:55:25] <cmr> rusti: unsafe { *(0x0 as *mut uint) = 2; }
[04:55:26] <rusti> -bash: line 1:    20 Segmentation fault      ./foo
[04:55:31] <cmr> good enough
[04:55:37] <strcat> rusti: core::run::run_program("./foo", [])
[04:55:39] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/LDbI
[04:55:52] * strcat is amused by that
[04:56:10] <strcat> builds a stack of processes (running itself) until it hits the 128MiB memory limit for the cgroup
[04:56:17] <strcat> and then they die in order of memory consumption ;p
[04:56:23] <cmr> heh
[04:56:39] *** Quits: doy (doy@moz-5FE28A32.akrasiac.org) (Ping timeout)
[04:56:54] <strcat> rusti: core::run::run_program("ip", [~"a"])
[04:56:56] <rusti> line longer than 100 columns, pastebinned: http://sprunge.us/BeTD
[04:57:05] <strcat> hmm wat
[04:57:11] *** Joins: doy (doy@moz-5FE28A32.akrasiac.org)
[04:57:15] <strcat> rusti: core::run::run_program("ls", [])
[04:57:16] <rusti> foo
[04:57:16] <rusti> foo.rs
[04:57:16] <rusti> 0
[04:57:42] *** Quits: igl (igl@moz-289A4E28.adsl.alicedsl.de) (Ping timeout)
[04:58:13] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[04:58:30] <enticeing> okay, so i finally got tiling working
[04:58:47] <cmr> what are you working on, enticeing?
[04:58:53] <enticeing> oh, it's a window manager
[04:58:58] <cmr> exciting!
[04:58:59] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:59:01] *** Joins: igl (igl@moz-FDC3B0AE.adsl.alicedsl.de)
[04:59:02] <enticeing> around 160 lines so far
[04:59:04] <strcat> rusti: core::run::run_program("ip", [])
[04:59:05] <rusti> line longer than 100 columns, pastebinned: http://sprunge.us/bELR
[04:59:12] <strcat> huh.
[04:59:16] <strcat> ah I know
[04:59:18] <enticeing> i'm going to brag and say it's the first rust window manager, even if it isn't :P
[04:59:23] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[04:59:36] *** Joins: mzabaluev (mzabaluev@moz-91FFD755.dhcp.inet.fi)
[05:00:13] <enticeing> only one file so far, so no real reason for git, but it's here if you're interested: https://github.com/enticeing/cog/
[05:00:16] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[05:00:25] <strcat> rusti: core::run::run_program("env", [])
[05:00:27] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/WBXD
[05:00:33] *** Quits: steven_is_false (quassel@moz-144077DE.bchsia.telus.net) (Ping timeout)
[05:00:39] *** Joins: steven_is_false (quassel@moz-144077DE.bchsia.telus.net)
[05:00:53] <strcat> just has a terrible default path.
[05:01:19] <aatch> enticeing, cool
[05:01:32] <strcat> rusti: core::run::run_program("/sbin/ip", [~"a"])
[05:01:33] <rusti> 1: lo: <LOOPBACK> mtu 65536 qdisc noop state DOWN
[05:01:33] <rusti>     link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
[05:01:33] <rusti> 0
[05:01:37] <enticeing> there are only a few more minor things until i can be using it myself
[05:01:41] <strcat> alright it's basically as it was before now...
[05:01:57] <aatch> Have many problems with my bindings?
[05:02:10] <enticeing> no, none at all
[05:02:18] * aatch is happy
[05:02:24] <enticeing> i'm having a problem where the tiling doesn't take place without adding a new client
[05:02:40] <enticeing> but i can't be sure if that's me missing a conn.flush() or something else
[05:03:05] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (Ping timeout)
[05:03:46] <aatch> enticeing, try adding conn.flush() at the end of the event loop
[05:04:18] *** Joins: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP)
[05:04:27] *** Quits: mrplant (Mibbit@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: http://www.mibbit.com ajax IRC Client)
[05:04:30] <enticeing> damn you, aatch, i could've sworn i'd tried that earlier :P
[05:04:31] <enticeing> thanks
[05:05:00] <enticeing> i should probably unmap and then remap before and after tiling though, to get rid of tearing
[05:05:08] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[05:05:16] <doublec> i/win 25
[05:05:52] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[05:06:04] <aatch> enticeing, so that's one minor problem down :D
[05:06:46] <aatch> strcat, is there a technical reason why you can't implement drop on enums?
[05:06:56] <strcat> aatch: nope, I reported it
[05:07:04] <enticeing> http://imgur.com/a/R7Ckc
[05:07:13] <aatch> I know, that's why I was asking you
[05:07:13] <enticeing> you can't kill clients or do anything really useful just yet though :P
[05:07:44] <strcat> aatch: it's just not implemented :)
[05:07:54] <aatch> Ah, ok
[05:08:31] <enticeing> i found this bug that hangs rustc, somebody who's on a newer incoming should check if it still exists
[05:08:35] <enticeing> https://github.com/mozilla/rust/issues/6238
[05:08:57] <enticeing> like, it doesn't even give an error, rustc just sits there
[05:09:46] <strcat> huh. it wrongly compiles now
[05:09:54] <enticeing> that's good to know
[05:10:17] <aatch> enticeing, it should wrongly compile though, so its even better
[05:10:21] <strcat> oh only if you don't use the struct
[05:10:41] <strcat> if you do use the struct it goes oom
[05:10:50] <aatch> weird.
[05:10:51] <enticeing> yeah, i forget why i didn't put that in the report
[05:11:12] <aatch> It's a recursive datastruture, so it should fail on that.
[05:11:41] <enticeing> anyways, it compiles fine with ~[Group, ..2]
[05:11:51] <enticeing> i figured it could be something big because rustc just went kaboom
[05:11:53] <aatch> since the size of [Group,..2] depends on the size of Group, which depends on the size of [Group,..2] and so on
[05:12:00] *** Joins: sawrubh (uid6719@moz-C944F5EC.irccloud.com)
[05:12:14] <enticeing> yeah, i've figured out why it *should* fail, just not why rustc is hanging
[05:13:13] <aatch> wow, the wind is making my house shake.
[05:13:20] <aatch> I'm slighly worried atm
[05:13:28] <enticeing> i hate the wind, it's always windy here 
[05:13:34] *** Joins: jaws (uid2871@moz-D8B63698.irccloud.com)
[05:13:41] <enticeing> i think there's been one calm day since i moved here
[05:14:10] <aatch> enticeing, I live in New Zealand. In a city surrounded by water
[05:14:27] *** Joins: gmcabrita (uid4474@moz-C944F5EC.irccloud.com)
[05:14:50] <enticeing> springfield, missouri, which is recognized as the city with the most varied weather in the US, apparently
[05:15:01] <enticeing> varied my ass, it just snowed in may!
[05:15:13] <enticeing> i like non-varied, thanks
[05:16:07] <aatch> enticeing, don't come to NZ then
[05:16:11] <bjz> any idea what this might mean?
[05:16:15] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[05:16:28] <strcat> rusti: core::run::run_program("ls", [~"/dev"])
[05:16:29] <rusti> kmsg
[05:16:29] <rusti> mqueue
[05:16:29] <rusti> random
[05:16:29] <rusti> urandom
[05:16:29] <rusti> 0
[05:16:39] <strcat> more minimal now ;p
[05:16:57] <bjz>  /Users/brendan/dev/rust/rust/src/libcore/num/f64.rs:246:41: 246:49 error: only refutable patterns allowed here
[05:16:58] <bjz>  /Users/brendan/dev/rust/rust/src/libcore/num/f64.rs:246     fn approx_eq_eps(&self, other: &f64, epsilon: &f64) -> bool {
[05:17:17] <bjz> (pointing at `epsilon: &f64`)
[05:18:16] <enticeing> would it be easier to keep focus as a copy of the client, or just its position in the vector of clients, do you think?
[05:19:42] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[05:20:51] <aatch> enticeing, you could get a borrowed pointer to it, assuming that you don't need to edit it
[05:21:02] <bjz> brson: ^?
[05:21:14] <enticeing> yeah, but would it be easy to delete it from the vector with just that?
[05:21:18] *** Quits: dymk (dymk@44EEE21C.A6E21E6E.5E500FC7.IP) (Ping timeout)
[05:21:33] <enticeing> and it doesn't really *need* to be a pointer, considering xcb windows are pretty much just ints
[05:22:10] <aatch> enticeing, true, it's just an XID, which is an int
[05:22:29] <bjz> the method is: fn approx_eq_eps(&self, other: &Self, epsilon: &Eps) -> bool;
[05:23:18] <enticeing> aatch: i can't for the life of me remember how i stopped X from changing focus itself..
[05:24:25] <bjz> ack this is weird :S
[05:26:59] <enticeing> i *think* i just need to SetInputFocus and then X should just leave it alone
[05:27:02] <enticeing> can't really remember
[05:27:10] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (Ping timeout)
[05:27:59] *** Joins: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP)
[05:28:00] <strcat> rusti: 1 + 1
[05:28:01] <rusti> 2
[05:28:04] <strcat> rusti: aa
[05:28:05] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/MXbU
[05:28:17] <strcat> rusti: unsafe { libc::abort() }
[05:28:18] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/NWfM
[05:28:30] <strcat> rusti: fn foo() { unsafe { libc::abort() } }; foo()
[05:28:30] <cmr> enticeing: might look at dwm or dminiwm
[05:28:31] <rusti> -bash: line 1:    20 Aborted                 ./foo
[05:28:46] <enticeing> oh, dwm is a mess of code
[05:28:48] <cmr> strcat: I'm getting google 404's on the sprunge links?
[05:28:58] <strcat> cmr: they work for me
[05:29:05] <aatch> enticeing, yeah, I tried looking at dwm
[05:29:12] <enticeing> also, i do not like at all the style of suckless
[05:29:18] <enticeing> they put braces all over the place
[05:29:48] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (Ping timeout)
[05:30:20] <enticeing> aatch: what would be the easiest way to get a timestamp for SetInputFocus
[05:30:37] <enticeing> also, i've always wondered why it requires a timestamp in the first place
[05:30:45] <aatch> enticeing, can't you pass a CurrentTime special value?
[05:31:09] <strcat> rusti: fn foo() { loop { do spawn { foo() } } }; foo()
[05:31:10] <rusti> -bash: line 1:    20 Killed                  ./foo
[05:31:14] *** Joins: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP)
[05:31:35] <enticeing> what do you mean?
[05:31:48] <aatch> enticeing, if you pass 0, it's treated as now
[05:31:51] <strcat> rusti: fn foo() { loop { } }; foo()
[05:31:53] <enticeing> ah
[05:31:57] <rusti> timed out after 5 seconds
[05:32:05] * strcat is happy with it now ;p
[05:32:14] <cmr> rusti: core::run::run_command("systemctl", [~"start", ~"shutdown.target"])
[05:32:16] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/iOAZ
[05:32:29] <strcat> cmr: it doesn't have init
[05:32:47] <strcat> rusti: core::run::run_program("ls", [~"/proc"])
[05:32:48] <enticeing> yeah, X leaves alone the focus after you set it manually
[05:32:48] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/RYSB
[05:32:58] <strcat> rusti: core::run::run_program("ls", [~"/dev"])
[05:32:59] <rusti> kmsg
[05:32:59] <rusti> mqueue
[05:32:59] <rusti> random
[05:32:59] <rusti> urandom
[05:32:59] <rusti> 0
[05:33:04] <aatch> enticeing, also, I'm pretty sure you have the timestamp so it can properly order things
[05:33:05] <cmr> that's no fun :p
[05:33:11] <strcat> rusti: core::run::run_program("ps", [~"ax"])
[05:33:12] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/KdDg
[05:33:20] <strcat> well lxc is init
[05:33:22] <strcat> I guess.
[05:33:28] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (Ping timeout)
[05:33:33] <strcat> I could make rust_run.sh pid1 though if I cared
[05:33:39] <strcat> rust.sh *
[05:35:14] *** Joins: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP)
[05:35:19] <strcat> rusti: core::run::run_program("cat", [~"foo.rs"]);
[05:35:20] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/ITCY
[05:35:44] <cmr> oh, I'm getting 404's because firefox is adding a www.
[05:35:46] <cmr> why is it doing that :s
[05:36:12] <cmr> and now I can't reproduce it, of course...
[05:36:12] <enticeing> i dislike sites that REQUIRE a www.
[05:36:12] * strcat shrugs
[05:36:18] <strcat> I think sprunge is just on google app engine
[05:36:24] <strcat> thus the google 404s
[05:37:17] <aatch> strcat, this is amusing, destructors for types are stored in a hashmap called `destructor_for_type`
[05:37:34] <aatch> Which has the comment: A mapping from the def ID of an enum or struct type to the def ID of the method that implements its destructor.
[05:37:47] <aatch> So it actually says enums
[05:38:20] * aatch facepalms
[05:42:03] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (Ping timeout)
[05:42:37] *** Joins: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP)
[05:43:37] *** Quits: enticeing (user@40584768.29B601FE.5037098C.IP) (Client exited)
[05:45:05] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[05:45:15] <cmr> Would someone mind helping me create a testcase out of https://github.com/mozilla/rust/issues/6068? I've tried https://gist.github.com/cmr/d4b319763328f504f331 so far but it compiled just fine.
[05:45:45] *** Quits: mzabaluev (mzabaluev@moz-91FFD755.dhcp.inet.fi) (Ping timeout)
[05:45:59] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[05:46:29] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[05:46:30] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[05:46:47] <aatch> cmr, try self-by-value on something bigger than a pointer
[05:47:09] <aatch> so try struct Foo { a: [u8,..32] }
[05:47:12] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (Ping timeout)
[05:47:43] <aatch> If I remember correctly, self-by-value was related to that.
[05:48:21] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[05:48:26] *** Joins: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP)
[05:50:32] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[05:51:45] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[05:53:17] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (Ping timeout)
[05:53:47] <cmr> aatch: still works, https://gist.github.com/cmr/d4b319763328f504f331
[05:53:56] *** Joins: haard (fredrik@18E6EC45.6A26450D.BE04C429.IP)
[05:54:01] *** Joins: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP)
[05:54:20] <aatch> cmr, no idea then
[05:55:49] *** Quits: bnicholson (bnicholson@moz-E98974C1.hsd1.ca.comcast.net) (Ping timeout)
[05:55:51] <cmr> Is there a way I can get the compiler to dump what line/expression/whatever it is compiling, as it does it? It would be very useful to see where in the source it's failing
[05:56:02] *** Quits: bnicholson__ (bnicholson@moz-E98974C1.hsd1.ca.comcast.net) (Ping timeout)
[05:56:02] *** Quits: bnicholson_ (bnicholson@moz-E98974C1.hsd1.ca.comcast.net) (Ping timeout)
[05:57:11] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (Ping timeout)
[05:57:17] *** Quits: doomlord (doomlod@moz-92EDFF3A.range31-52.btcentralplus.com) (Quit: Leaving)
[05:57:44] *** Joins: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP)
[05:58:43] *** Joins: dbaupp (Thunderbir@moz-C2F1637E.lns20.syd6.internode.on.net)
[06:01:33] <cmr> Well, I think I can get the span from the context in middle::trans::build::PointerCast
[06:02:18] <steven_is_false> WTF Java, why u no find javax.media.opengl.GLDrawableFactory?
[06:02:36] <cmr> Not too useful without the codemap though
[06:02:38] <steven_is_false> BTW, how possible would it be to call Rust from a Java application.
[06:03:06] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (Ping timeout)
[06:03:23] <cmr> ah, block.ccx()
[06:03:33] *** Joins: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP)
[06:04:36] <aatch> cmr, I have a test case for you, just shrinking it a bit first
[06:04:42] <aatch> but it's currently 25 lines
[06:04:51] <cmr> That's much more manageable than all of libcore :p
[06:05:45] <aatch> 14 lines now
[06:06:39] *** Joins: doomlord (doomlod@moz-92EDFF3A.range31-52.btcentralplus.com)
[06:07:59] *** Joins: flipcoder (flipcoder@moz-EE3A28B2.dhcp.rvsd.ca.charter.com)
[06:08:42] <aatch> cmr, posted it on the issue
[06:08:55] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (Ping timeout)
[06:09:28] <cmr> aatch: You are awesome, thank you :)
[06:10:45] *** Joins: webber46 (webber46@moz-F6310FF0.lha.sgsnet.se)
[06:10:59] *** Quits: webber46 (webber46@moz-F6310FF0.lha.sgsnet.se) (Quit: webber46)
[06:11:40] *** Joins: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP)
[06:11:55] *** Quits: MrFahrenheit (RageOfThou@moz-CF7139ED.dynamic.telemach.ba) (Ping timeout)
[06:13:40] *** Quits: brson (brson@58B3E13.EF2694B5.DFAC6AA7.IP) (Quit: leaving)
[06:14:21] *** Quits: steven_is_false (quassel@moz-144077DE.bchsia.telus.net) (Client exited)
[06:15:19] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[06:19:27] *** Quits: dbaupp (Thunderbir@moz-C2F1637E.lns20.syd6.internode.on.net) (Ping timeout)
[06:19:33] *** Joins: Jesin (Jessin_@moz-A03A364F.cc.lehigh.edu)
[06:20:15] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (Ping timeout)
[06:20:47] *** Quits: blitter (blitter@moz-7C98731E.dyn.centurytel.net) (Ping timeout)
[06:21:30] *** Joins: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP)
[06:23:06] *** Joins: dbaupp (Thunderbir@moz-AA5B7F76.lns20.syd6.internode.on.net)
[06:25:59] *** Joins: sanxiyn (tinuviel@858F408C.B797260D.EF43EC08.IP)
[06:26:25] *** Joins: bnicholson (bnicholson@moz-5051BD01.sub-70-197-2.myvzw.com)
[06:26:28] *** Joins: bnicholson_ (bnicholson@moz-5051BD01.sub-70-197-2.myvzw.com)
[06:27:16] *** Quits: doomlord (doomlod@moz-92EDFF3A.range31-52.btcentralplus.com) (Quit: Leaving)
[06:27:26] *** Quits: jack (jack@EF36212C.8FA609AD.840029BC.IP) (Quit: Leaving.)
[06:27:30] *** Quits: dbaupp (Thunderbir@moz-AA5B7F76.lns20.syd6.internode.on.net) (Ping timeout)
[06:31:06] *** Quits: alisdair (textual@moz-EBE9F394.bchsia.telus.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz)
[06:31:17] *** Joins: dbaupp (Thunderbir@moz-45FF305C.lns20.syd6.internode.on.net)
[06:32:03] *** Parts: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Killing koopas in another castle)
[06:33:54] *** Joins: Mowah (Mowah@moz-59D1A475.cust.bredbandsbolaget.se)
[06:34:17] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (Ping timeout)
[06:38:32] *** Joins: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP)
[06:40:16] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (Ping timeout)
[06:42:18] <cmr> Is it just me or is the new snapshot a *lot* slower?
[06:42:27] <sanxiyn> Is it?
[06:42:43] *** Joins: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP)
[06:42:56] *** Quits: dbaupp (Thunderbir@moz-45FF305C.lns20.syd6.internode.on.net) (Ping timeout)
[06:43:01] <cmr> It seems like stage0 is taking a lot more time than usual
[06:43:07] <cmr> No measurements, though
[06:44:53] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (Ping timeout)
[06:45:09] *** Quits: bnicholson_ (bnicholson@moz-5051BD01.sub-70-197-2.myvzw.com) (Ping timeout)
[06:45:27] *** Quits: bnicholson (bnicholson@moz-5051BD01.sub-70-197-2.myvzw.com) (Ping timeout)
[06:46:03] *** Joins: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP)
[06:46:21] *** Joins: dbaupp (Thunderbir@moz-FC37E6AA.lns20.syd6.internode.on.net)
[06:46:25] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[06:46:25] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[06:47:09] *** Quits: Erik (Erik-S@moz-252DBA2.hsd1.co.comcast.net) (Ping timeout)
[06:47:49] *** Joins: yong_ (chatzilla@74DA0C97.4E87ADC2.263D9828.IP)
[06:47:54] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (Ping timeout)
[06:48:03] *** yong_ is now known as yong
[06:48:50] *** Joins: jviereck (Adium@moz-F5ED0307.ethz.ch)
[06:49:56] <aatch> cmr, your issue is a duplicate, so I'm gonna close it as such, ok?
[06:50:09] <cmr> aatch: sure. which issue does ti duplicate?
[06:50:22] <aatch> https://github.com/mozilla/rust/issues/5321
[06:51:21] *** Joins: fabiand (fabiand@moz-3E4C6B80.adsl.alicedsl.de)
[06:52:45] *** Joins: MrFahrenheit (RageOfThou@moz-CF7139ED.dynamic.telemach.ba)
[06:54:11] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (Ping timeout)
[06:54:52] *** zz_kimundi is now known as kimundi
[06:55:05] *** Joins: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP)
[06:55:20] *** Quits: santiago (santiago@moz-8ADE82B4.socal.res.rr.com) (Ping timeout)
[06:58:41] *** Quits: BitPuffin (quassel@moz-8370D1B9.bredband.comhem.se) (Client exited)
[06:59:33] *** Joins: santiago (santiago@moz-8ADE82B4.socal.res.rr.com)
[07:00:02] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (Ping timeout)
[07:00:24] *** Joins: bnicholson_ (bnicholson@moz-E98974C1.hsd1.ca.comcast.net)
[07:01:04] *** Joins: bnicholson (bnicholson@moz-E98974C1.hsd1.ca.comcast.net)
[07:02:41] *** Quits: MrFahrenheit (RageOfThou@moz-CF7139ED.dynamic.telemach.ba) (Connection reset by peer)
[07:03:13] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[07:05:54] *** Joins: jensnockert (jensnocker@moz-C2088C23.mobileonline.telia.com)
[07:09:05] *** Quits: jviereck (Adium@moz-F5ED0307.ethz.ch) (Quit: Leaving.)
[07:14:06] *** Joins: jviereck (Adium@moz-F5ED0307.ethz.ch)
[07:19:27] *** Joins: Heather (Heather@19663F6.F53BAACC.9C17E900.IP)
[07:19:37] <Heather> hello
[07:19:46] <Heather> how can I concat &[~str] with [~str] ?
[07:19:59] <Heather> I'm getting binary operation + cannot be applied to type `& ~str`
[07:20:25] <Heather> when I'm trying to process run_program("cp", (args + [from, to]));
[07:25:05] *** Joins: jack (jack@EF36212C.8FA609AD.840029BC.IP)
[07:25:45] *** Quits: dbaupp (Thunderbir@moz-FC37E6AA.lns20.syd6.internode.on.net) (Ping timeout)
[07:26:39] *** Joins: dbaupp (Thunderbir@moz-EFC0FBAB.lns20.syd6.internode.on.net)
[07:26:51] *** Quits: jack (jack@EF36212C.8FA609AD.840029BC.IP) (Ping timeout)
[07:27:01] <dbaupp> rusti: let x = &[1,2,3]; x + ~[~"1", ~"2"]
[07:27:02] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/HOFC
[07:27:16] <dbaupp> rusti: let x = &[1,2,3]; x.to_owned() + ~[~"1", ~"2"]
[07:27:17] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/RcNd
[07:27:45] <dbaupp> rusti: let x = &[~"1"]; x.to_owned() + ~[~"2", ~"3"]
[07:27:46] <rusti> ~[~"1", ~"2", ~"3"]
[07:28:07] <dbaupp> rusti: let x = &[~"1"]; x.to_owned() + [~"2", ~"3"]
[07:28:09] <rusti> ~[~"1", ~"2", ~"3"]
[07:28:20] <dbaupp> Heather: like that
[07:28:42] <dbaupp> rusti: let x = &[~"1"]; ~[] + x + [~"2", ~"3"]
[07:28:43] <rusti> ~[~"1", ~"2", ~"3"]
[07:28:59] <dbaupp> Heather: or like that (that has fewer copies)
[07:29:32] <dbaupp> the left-most argument to + for lists and strs has to be the ~ form
[07:29:43] <Heather> oh
[07:30:40] <Heather> I transfer args as parameters
[07:30:49] <joshua_> Hmm, I'm going to guess we haven't a matrix library (yet)?
[07:31:00] *** Joins: SimonSapin (simon@moz-C4A83ED9.net-89-2-126.rev.numericable.fr)
[07:31:05] <cmr> joshua_: there's one somewhere
[07:31:22] <Heather> dbaupp check whole function please https://gist.github.com/Heather/5523798
[07:31:44] <dbaupp> joshua_: it's possibly called 'lmath'
[07:31:58] <joshua_> yeah, recommend ~[] + args + ~[from, to] there, if I understand dbaupp right
[07:32:18] <dbaupp> Heather: run_program("cp", ~[] + args + [from, to]);
[07:32:52] <joshua_> ah, sadly, lmath provides fixed sized matrices
[07:32:56] <dbaupp> (Or pass args as ~[~str], but only if you don't need to use it after cp is called)
[07:33:04] <joshua_> I require, say, a 12142 x 12142 matrix :-)
[07:33:19] <dbaupp> joshua_: ah
[07:33:25] <dbaupp> joshua_: a bit larger than 4x4
[07:33:32] <joshua_> yes, somewhat
[07:33:34] <joshua_> it is sparse, as well
[07:33:54] <Heather> dbaupp this way it works, thanks
[07:34:11] <dbaupp> joshua_: you could write some bindings to your favourite BLAS library ;)
[07:34:48] <joshua_> as it turns out, a sparse matrix library for what I am trying to do is not terribly difficult to hack together (though this is mostly out of curiosity; the placer I have is written in Lua right now, and once I transitioned to a sparse matrix, LuaJIT turns out to be fast enough)
[07:36:25] <dbaupp> joshua_: is it still the router?
[07:36:58] <joshua_> I have shelved the router for the time being since it is 'good enough'; a previous task was to write a placer, which is basically massive matrix manipulations
[07:37:35] <joshua_> I did that one in Lua since it is my go-to for low-to-mid-performance rapid prototyping
[07:37:45] *** Quits: heftig (heftig@moz-AD47C876.dip0.t-ipconnect.de) (Ping timeout)
[07:38:47] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[07:41:00] *** Joins: berak (chatzilla@5225B.5F42470D.16E13E53.IP)
[07:41:31] <dbaupp> joshua_: yeah, you got the router to 130s or so, didn't you?
[07:43:06] <joshua_> yes
[07:43:50] <dbaupp> nice :)
[07:43:55] <joshua_> the quality of results is not great still, though it is slightly better; if I care, I will add congestion avoidance, and single-direction-per-layer placement (i.e., layer 1 can only go left-right, layer 2 can only go up-down)
[07:44:17] <cmr> routing traces on a pcb?
[07:44:22] <joshua_> on an ASIC, yeah
[07:44:26] * dbaupp doesn't know much about ASIC routing
[07:45:31] <joshua_> https://spark-public.s3.amazonaws.com/vlsicad/lecture_slides/11-vlsicad-route-RED.pdf are slides from that bit
[07:45:57] <joshua_> (https://spark-public.s3.amazonaws.com/vlsicad/programming_assignments/Router/ProgrammingAssignment4.pdf is the writeup for the bit that I implemented)
[07:46:41] <joshua_> https://www.coursera.org/course/vlsicad is the class as a whole
[07:47:18] *** Joins: heftig (heftig@moz-3074EE02.dip0.t-ipconnect.de)
[07:52:27] *** Joins: donri (dag@moz-9BB61102.tbcn.telia.com)
[07:53:31] <dbaupp> joshua_: thanks
[07:53:48] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[07:54:21] *** Joins: lr (quassel@A0B983C9.98812F7A.4B164862.IP)
[07:54:31] <dbaupp> I just scanned the first one... it looks... complicated.
[07:54:40] *** Quits: devbug (quassel@moz-E1DE087C.bchsia.telus.net) (Connection reset by peer)
[07:56:25] <joshua_> I mean, the essence of it is that the naive thing to do is Dijkstra's algorithm, and the better thing to do is to do A* path-finding; and there are a few other optimizations that make it more possible to route a lot of nets, but they make the cost function inconsistent
[07:59:56] *** Joins: hansjorg (hansjorg@moz-EECB5F79.static.cust.telenor.com)
[08:06:57] *** Quits: jviereck (Adium@moz-F5ED0307.ethz.ch) (Quit: Leaving.)
[08:09:00] *** Joins: Blub\w (wry@moz-42E8D38B.wireless.dyn.drei.com)
[08:17:04] *** Quits: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net) (Quit: Don't tell them I was here...)
[08:18:50] *** Joins: jviereck (Adium@moz-7EEDD72E.ethz.ch)
[08:19:59] *** Joins: bnicholson__ (bnicholson@moz-E98974C1.hsd1.ca.comcast.net)
[08:20:07] *** Quits: flipcoder (flipcoder@moz-EE3A28B2.dhcp.rvsd.ca.charter.com) (Quit: Leaving)
[08:20:29] *** kimundi is now known as zz_kimundi
[08:20:44] *** Quits: bnicholson__ (bnicholson@moz-E98974C1.hsd1.ca.comcast.net) (Input/output error)
[08:20:53] *** Quits: bnicholson_ (bnicholson@moz-E98974C1.hsd1.ca.comcast.net) (Input/output error)
[08:20:53] *** Quits: bnicholson (bnicholson@moz-E98974C1.hsd1.ca.comcast.net) (Input/output error)
[08:21:01] *** Joins: bnicholson (bnicholson@moz-E98974C1.hsd1.ca.comcast.net)
[08:22:27] <dbaupp> joshua_: yeah, I imagine the actually implementation requires significant care though (sorry for silence... I had to make dinner)
[08:25:37] *** Joins: jack (jack@EF36212C.8FA609AD.840029BC.IP)
[08:25:40] *** Quits: sanxiyn (tinuviel@858F408C.B797260D.EF43EC08.IP) (Quit: Leaving)
[08:26:00] <bjz> hullo, did somebody mention lmath?
[08:26:08] *** Quits: philix (philix@moz-451739D3.user.veloxzone.com.br) (Quit: philix)
[08:26:36] *** Parts: Heather (Heather@19663F6.F53BAACC.9C17E900.IP) ()
[08:26:42] *** Quits: Blub\w (wry@moz-42E8D38B.wireless.dyn.drei.com) (Quit: hard drive troubles)
[08:27:23] *** Quits: jack (jack@EF36212C.8FA609AD.840029BC.IP) (Ping timeout)
[08:27:37] <dbaupp> bjz: joshua_ was looking for a linear algebra library... but one for general matrices, not just computer graphics 4x4 ones
[08:28:09] <bjz> dang
[08:28:49] <aatch> dbaupp, how dare you eat!
[08:28:50] <bjz> yeah we really need one
[08:28:50] <bjz> also a geometric algrebra lib :D
[08:28:57] <aatch> You should be working on rust
[08:29:21] <dbaupp> aatch: sorry :(
[08:29:27] <aatch> :P
[08:29:31] <dbaupp> aatch: it won't happen again, promise
[08:29:41] <dbaupp> :P
[08:29:41] <bjz> (because geomeric algebra is sweet)
[08:29:54] *** Joins: Blub\w (wry@moz-42E8D38B.wireless.dyn.drei.com)
[08:30:12] <dbaupp> bjz: https://duckduckgo.com/Geometric_algebra ?
[08:30:20] <dbaupp> bjz: err, https://en.wikipedia.org/wiki/Geometric_algebra ?
[08:30:35] <bjz> yah
[08:30:43] <bjz> generalisation of linear algebra
[08:30:59] <bjz> (amongst other things)
[08:31:27] <bjz> dbaupp: http://geometricalgebra.net/
[08:32:37] <dbaupp> bjz: aha
[08:33:05] <dbaupp> bjz: you feeling up to writing one?
[08:33:35] <bjz> dbaupp: if linear algebra has ever felt hacky, it's because it's not the full story
[08:34:34] <bjz> dbaupp: only trouble is the data structures take up more space
[08:34:39] <dbaupp> bjz: linear algebra has (by and large) always felt amazingly amazing
[08:34:42] <dbaupp> everything just works
[08:34:47] <dbaupp> *almost everything
[08:35:31] <dbaupp> "are these random variables independent?" *linear algebra solo* "yes"
[08:35:35] *** Quits: jensnockert (jensnocker@moz-C2088C23.mobileonline.telia.com) (Ping timeout)
[08:35:35] *** Quits: berak (chatzilla@5225B.5F42470D.16E13E53.IP) (Ping timeout)
[08:36:01] <dbaupp> :P
[08:36:16] <aatch> dbaupp, I've always like linear algebra in a geometric context.
[08:36:41] <aatch> I want to do a bunch of things to a set of points. <One matrix multiplication later> Done
[08:37:56] <dbaupp> aatch: I agree
[08:38:27] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:38:56] <dbaupp> another one is computing fibonacci numbers in O(log n) time... it's pretty much magic
[08:39:11] <aatch> How does that work (roughly)
[08:39:26] <dbaupp> given M = [[1, 1], [0, 1]]
[08:39:48] <dbaupp> the entries of M^n are F_n, F_{n+1}, F_{n+2}
[08:40:18] <dbaupp> and you can do matrix exponentiation in log n time
[08:40:24] <dbaupp> (by squaring)
[08:41:34] *** Joins: berak (chatzilla@6C80668B.3A27401E.16E13E53.IP)
[08:42:09] *** Joins: true_droid (Adium@moz-123FD9B8.beck.volia.net)
[08:43:20] <dbaupp> (this actually generalises to any linear recurrence, with any initial conditions, which is the icing on the cake.)
[08:43:33] <aatch> nice
[08:45:55] *** Joins: doomlord (doomlod@moz-92EDFF3A.range31-52.btcentralplus.com)
[08:51:29] *** Quits: ssbr_ (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP) (Connection reset by peer)
[08:52:32] *** Quits: ssbr (ssbr@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[08:53:23] *** Joins: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP)
[08:53:37] *** Joins: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP)
[08:54:26] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:54:30] <bjz> is assert_eq documented anywhere?
[08:55:39] <aatch> bjz, not as far as I know
[08:56:01] <aatch> (assuming you aren't including the compiler)
[08:56:06] *** Joins: Cromulent (Cromulent@moz-5111C23B.cable.virginmedia.com)
[08:56:09] <bjz> ok
[08:56:32] *** Quits: Jesin (Jessin_@moz-A03A364F.cc.lehigh.edu) (Ping timeout)
[08:56:37] <aatch> dbaupp, you done any more on the formatting stuff?
[08:57:00] <bjz> yeah, I'm moving FuzzyEq into core::cmp, and renaming it to ApproxEq. I'm then implementing assert_approx_eq
[08:58:11] <doomlord> compare and simd is interesting..
[08:58:23] <bjz> doomlord?
[08:59:00] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Client exited)
[08:59:16] <doomlord> maybe  you can make simd compares return select masks
[08:59:20] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[08:59:27] <bjz> doomlord: neat
[08:59:35] <doomlord> i've seen people do that in c++ with operator overloading
[09:00:12] <doomlord> but then you might also want things like "anyGreater"/"allGreater" ... perhaps a seperate simd compare..
[09:01:06] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[09:01:18] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[09:02:51] <dbaupp> aatch: no sorry... but I've almost wrapped up stuff I was working on yesterday (yay cleaner #[deriving] code, and #[deriving(Rand)])
[09:03:12] <aatch> dbaupp, thats fine, just asking
[09:03:21] <dbaupp> is there any traits anyone thinks could be deriving'd while I'm at it?
[09:03:26] <aatch> #[deriving(Rand)]?
[09:03:34] <dbaupp> yep, done!
[09:03:41] <aatch> No, I mean, what is it?
[09:03:48] <dbaupp> it just fills each element of the struct with a random number
[09:03:59] <aatch> Use case?
[09:04:00] <dbaupp> (or thing)
[09:04:13] <dbaupp> or chooses a random enum variant and does the same
[09:04:25] <dbaupp> aatch: quickcheck-like libraries
[09:04:28] <dbaupp> (I guess)
[09:04:57] <aatch> fair enough.
[09:05:48] <aatch> Would an uninit intrinsic just compile down to a no-op, effectively?
[09:06:49] *** Joins: Axord (xord@moz-C3CCF156.lsanca.dsl-w.verizon.net)
[09:07:33] *** Joins: trapni (trapni@moz-6A0EA166.dawanda.com)
[09:10:11] *** Quits: jviereck (Adium@moz-7EEDD72E.ethz.ch) (Quit: Leaving.)
[09:16:46] *** Joins: jviereck (Adium@moz-7EEDD72E.ethz.ch)
[09:18:31] *** Quits: dbaupp (Thunderbir@moz-EFC0FBAB.lns20.syd6.internode.on.net) (Ping timeout)
[09:21:45] *** Quits: aatch (aatch@moz-2BB0AC01.cable.telstraclear.net) (Ping timeout)
[09:22:02] *** Joins: dbaupp (Thunderbir@moz-BE44DB88.lns20.syd6.internode.on.net)
[09:24:14] *** Joins: aatch (aatch@moz-2BB0AC01.cable.telstraclear.net)
[09:25:45] *** Quits: trapni (trapni@moz-6A0EA166.dawanda.com) (Ping timeout)
[09:26:09] *** Joins: jack (jack@EF36212C.8FA609AD.840029BC.IP)
[09:26:56] <aatch> rusti: "abc" "def"
[09:26:56] <rusti> foo.rs:5:15: 5:20 error: expected `;` or `}` after expression but found `"def"`
[09:26:56] <rusti> foo.rs:5          "abc" "def"
[09:26:56] <rusti>                         ^~~~~
[09:27:59] *** Quits: jack (jack@EF36212C.8FA609AD.840029BC.IP) (Ping timeout)
[09:29:27] *** Quits: cdidd (cdidd@moz-551F500.broadband.corbina.ru) (Ping timeout)
[09:38:16] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[09:40:26] *** Joins: MrFahrenheit (RageOfThou@moz-CF7139ED.dynamic.telemach.ba)
[09:40:30] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[09:41:12] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Client exited)
[09:42:23] *** Quits: joshua_ (joshua@moz-45967CBE.emarhavil.com) (Ping timeout)
[09:42:27] *** Quits: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP) (Connection reset by peer)
[09:43:10] *** Joins: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP)
[09:44:10] *** Quits: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[09:45:03] *** Joins: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP)
[09:46:17] *** Joins: trapni (trapni@F0E22329.CB586464.544FF5A6.IP)
[09:46:23] <aatch> ssbr, how goes the regexing?
[09:46:43] <ssbr> aatch: sorry, I've been doing other things today
[09:47:04] <ssbr> I'm graduating from university next month, and applying for jobs. It's difficult to write cover letters and things. :(
[09:48:24] <aatch> fair enough
[09:49:13] *** Quits: thou (thou@moz-1C1CA9F7.fasttrackcomm.net) (Input/output error)
[09:49:28] *** Quits: jviereck (Adium@moz-7EEDD72E.ethz.ch) (Quit: Leaving.)
[09:49:33] *** Quits: Cromulent (Cromulent@moz-5111C23B.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[09:53:08] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[09:53:08] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/67DjmQ
[09:53:08] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[09:53:10] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[09:53:10] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/FLBiUw
[09:53:10] <ghrust> 13rust/06auto 1420698e2 15Niko Matsakis: Lift restriction on calling extern C functions, and propagate...
[09:53:10] <ghrust> 13rust/06auto 140641d9a 15bors: auto merge of #5759 : nikomatsakis/rust/issue-3678-type-of-extern-fns, r=nikomatsakis...
[09:53:10] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[09:55:11] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:02:06] *** Joins: EXetoC (ex@moz-2DBEB1E4.customer.t3.se)
[10:04:15] <bjz> rusti: fmt!("%?", 1.0e-7)
[10:04:16] <rusti> ~"0.0000001"
[10:05:33] <bjz> rusti: fmt!("%?", 1.0000001f)
[10:05:34] <rusti> ~"1.0000001"
[10:05:41] <doomlord> http://pastebin.com/6Yzc2NHF <<< should this work? (expected result:  2,4,6)
[10:05:59] <bjz> rusti: fmt!("%?", 1.0f)
[10:06:00] <rusti> ~"1"
[10:06:19] *** Joins: boggle (boggle@moz-4E2FA529.dip0.t-ipconnect.de)
[10:09:18] <doomlord> crashes written like that, but works if i write let r= vec::filter(....)  instead of do a.filter |x|{....}
[10:09:32] *** Quits: goldfeld (Mibbit@74A459DB.EC2C9DB7.8DF84892.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[10:18:10] <dbaupp> doomlord: `a.filter` takes self by value, and that seems to be unreliable/buggy at the moment
[10:19:06] <dbaupp> doomlord: is the crash anything like? https://github.com/mozilla/rust/issues/5321
[10:19:25] <nmatsakis> ssbr: but think how good "rust regex engine" will look on those letters ;)
[10:19:53] *** Joins: jensnockert (jensnocker@moz-EF95FD94.astro.lu.se)
[10:20:26] <ssbr> nmatsakis: regex engines aren't hard, but I'm not an experienced rust developer, and there also might be desire to do something complicated
[10:20:54] <ssbr> so I'd estimate a couple of weeks before I can really put that on my resume
[10:21:40] <ssbr> I don't know. I put off sending resumes for lots of stupid minor things like this
[10:21:53] <ssbr> I think it was a bad idea to do that
[10:22:27] <ssbr> also my parents will probably murder me if I don't get a job quickly :|
[10:22:36] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[10:25:53] <EXetoC> same. it sucks not having a job
[10:26:28] *** Quits: fabiand (fabiand@moz-3E4C6B80.adsl.alicedsl.de) (Quit: Verlassend)
[10:26:39] *** Joins: jack (jack@EF36212C.8FA609AD.840029BC.IP)
[10:26:56] <ssbr> EXetoC: a fellow brother in arms!
[10:27:07] <ssbr> we were very foolish to leave it this late
[10:27:24] <ssbr> maybe if we contribute lots to rust Mozilla will pay our bills? ;)
[10:27:34] <doomlord> dpaupp - the only output i get is 'segmentation fault'; just to clarify- its the act of taking self by value that is broken (but its intended to work eventually?)
[10:28:11] <doomlord> heh . functions over methods ftw
[10:28:30] *** Quits: jack (jack@EF36212C.8FA609AD.840029BC.IP) (Ping timeout)
[10:29:07] <doomlord> i do like the idea of being able to implement for inbuilt types though , i hope that works eventually, i''d use it
[10:29:50] *** Quits: jensnockert (jensnocker@moz-EF95FD94.astro.lu.se) (Connection reset by peer)
[10:29:56] <bjz> ssbr EXetoC: no job either :(
[10:30:04] *** Joins: jensnockert (jensnocker@moz-EF95FD94.astro.lu.se)
[10:33:27] <dbaupp> doomlord: yes, the self by value is probably the culprit
[10:33:35] <EXetoC> only studying eh? life's tough :p
[10:37:05] <aatch> doomlord, self-by-value doesn't work because methods assume you are passing a pointer
[10:37:46] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[10:38:08] <aatch> so they work if the value is less than pointer sized though :S
[10:38:40] *** Joins: fabiand (fabiand@moz-3E4C6B80.adsl.alicedsl.de)
[10:38:45] <dbaupp> aatch: wow... that's an awesome bug
[10:39:13] <aatch> dbaupp, it also means that primitive types throw an LLVM assertion at compile time
[10:40:01] <aatch> so you can't have self-by-value on any primitive types!
[10:40:25] <dbaupp> aatch: but struct Foo(u8) still works, right?
[10:40:32] <aatch> dbaupp, yep
[10:42:01] <aatch> dbaupp, I helped cmr with an issue earlier, getting a minimal test case for him.
[10:42:13] <aatch> I ended up closing the issue in the end because it was a duplicate
[10:42:39] <aatch> but doing a small struct by-value worked fine
[10:42:51] <aatch> doing a char by-value did not...
[10:43:30] <dbaupp> I see
[10:45:15] *** Quits: dbaupp (Thunderbir@moz-BE44DB88.lns20.syd6.internode.on.net) (Ping timeout)
[10:47:06] *** Joins: dbaupp (Thunderbir@moz-86B17808.lns20.syd6.internode.on.net)
[10:47:10] <aatch> actually, even a large struct works, though I didn't test to see if it works at compile time.
[10:47:17] <aatch> I mean run time
[10:48:14] <dbaupp> aatch: well ~[]'s crash with a segfault, so maybe similar
[10:48:46] <dbaupp> also, did you convert the .format_X methods to take the spec directly, without the Spec struct?
[10:49:58] <aatch> they take the spec values now
[10:51:34] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[10:53:19] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[10:53:52] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:54:51] *** Quits: SimonSapin (simon@moz-C4A83ED9.net-89-2-126.rev.numericable.fr) (Ping timeout)
[11:01:48] <ssbr> I wish someone would say definitively, "you should write a wrapper around <some library>", or "you should write a regexp implementation from scratch"
[11:01:57] <ssbr> since that's the big issue on which everything else depends
[11:02:17] <aatch> ssbr, you should write a regex implementation from scratch
[11:02:31] <ssbr> aatch: well like, canonically :(    on the ml also
[11:02:59] <bjz> ssbr, you should write a regex implementation from scratch
[11:03:17] <dbaupp> ssbr: being pure rust would be awesome, so you should write a regex implementation from scratch
[11:03:21] <ssbr> who has to say it / how many have to say it before it becomes the conensus
[11:03:38] <ssbr> like, what if graydon comes down and says "you must write RE2 bindings"
[11:03:58] <bjz> he won't, I'm sure
[11:03:58] <aatch> ssbr, if you write one from scratch, then people will just accept it.
[11:04:17] <bjz> if it's a wrapper it will have to be written eventually
[11:04:17] <ssbr> aatch: that's a point
[11:04:20] <aatch> In my experience, people will discuss and argue for ever
[11:04:24] <bjz> *re-written
[11:04:35] <dbaupp> ssbr: not having a dependency on an external library for such a key feature would be nice
[11:04:38] <ssbr> that's another good point
[11:04:45] <ssbr> which would resolve my worries about other issues
[11:04:57] <bjz> ssbr: the devs don't want to add more dependencies
[11:05:01] <ssbr> I can always just do what I feel is right, and if people don't like it we can discuss it then, rather than waiting for the approval of others
[11:05:14] <ssbr> bjz: ah, I see
[11:05:32] <bjz> ssbr: they are already working hard to get rid of the C++ runtime
[11:05:45] <aatch> ssbr, you've seen the discussion about the formatting stuff
[11:05:53] <ssbr> aatch: I have avoided it religiously
[11:05:58] <ssbr> :p
[11:05:59] <bjz> heh
[11:06:07] <ssbr> but I have seen that it's a big discussion
[11:06:15] <dbaupp> ssbr: that's no fun... bikeshedding is the best part of programming ;P
[11:06:25] <aatch> I've pretty much ignored it and got on with implementation
[11:07:08] <ssbr> I see
[11:09:01] <aatch> as long as there is a consensus that it needs to be done, then that's the most important thing.
[11:09:10] <ssbr> can std depend on llvm, or is that bad or impossible?
[11:09:28] <ssbr> (or, can a regex module live outside of std and depend on llvm?)
[11:10:27] *** Joins: quvarxa (chatzilla@moz-4285C44D.lns20.adl6.internode.on.net)
[11:11:28] *** Joins: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP)
[11:12:04] <dbaupp> ssbr: is this for a jit-ing one?
[11:12:15] <ssbr> dbaupp: yeah
[11:12:43] <ssbr> I was considering that I honestly don't think it's worthwhile to compile regexps to rust, since compiling to LLVM IR lets us do it at runtime too
[11:12:48] <dbaupp> I guess it's not impossible... it's probably not trivial though... the easiest way might be via librustc
[11:13:03] <ssbr> (unless rust gains eval())
[11:13:07] <dbaupp> and I guess std depending on librustc would be a bad thing
[11:13:27] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (Ping timeout)
[11:13:50] *** Joins: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP)
[11:13:51] <ssbr> Hm, hm. Yeah, I guess JIT support would have to live outside of std then
[11:15:41] *** Quits: dbaupp (Thunderbir@moz-86B17808.lns20.syd6.internode.on.net) (Ping timeout)
[11:15:41] *** Joins: dbaupp1 (Thunderbir@moz-C737908E.lns20.syd6.internode.on.net)
[11:15:52] *** Quits: jonasac (jonasac@moz-D4CDC8CE.members.linode.com) (Quit: Coyote finally caught me)
[11:15:53] *** Joins: jfredett (jfredett@moz-C01C350.bstnma.fios.verizon.net)
[11:16:16] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (Ping timeout)
[11:16:44] *** Joins: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP)
[11:17:40] *** Quits: jfredett (jfredett@moz-C01C350.bstnma.fios.verizon.net) (Ping timeout)
[11:17:57] *** Quits: jensnockert (jensnocker@moz-EF95FD94.astro.lu.se) (Input/output error)
[11:19:43] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[11:22:49] *** Joins: jfredett (jfredett@moz-C01C350.bstnma.fios.verizon.net)
[11:24:10] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (Ping timeout)
[11:24:33] *** Quits: jfredett (jfredett@moz-C01C350.bstnma.fios.verizon.net) (Ping timeout)
[11:25:09] *** Joins: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP)
[11:25:38] *** Quits: dbaupp1 (Thunderbir@moz-C737908E.lns20.syd6.internode.on.net) (Ping timeout)
[11:27:10] *** Joins: jack (jack@EF36212C.8FA609AD.840029BC.IP)
[11:28:04] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (Ping timeout)
[11:28:54] *** Joins: dbaupp (Thunderbir@moz-86485C1C.lns20.syd6.internode.on.net)
[11:28:57] *** Quits: jack (jack@EF36212C.8FA609AD.840029BC.IP) (Ping timeout)
[11:29:20] *** Joins: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP)
[11:30:11] *** Joins: jviereck (Adium@moz-F5ED0307.ethz.ch)
[11:32:09] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (Ping timeout)
[11:32:46] *** Joins: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP)
[11:36:54] *** Quits: jviereck (Adium@moz-F5ED0307.ethz.ch) (Quit: Leaving.)
[11:37:33] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[11:38:13] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (Ping timeout)
[11:38:18] *** Joins: jviereck (Adium@moz-F5ED0307.ethz.ch)
[11:38:22] *** Quits: jviereck (Adium@moz-F5ED0307.ethz.ch) (Client exited)
[11:38:46] *** Joins: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP)
[11:39:30] *** Joins: z0w0 (zack@51D3A0A8.B06D67C0.2CE63F58.IP)
[11:40:12] *** Joins: jensnockert (jensnocker@moz-C2088C23.mobileonline.telia.com)
[11:40:45] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (Ping timeout)
[11:45:03] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[11:46:27] *** Joins: judder (maradukewa@DABDEEA3.F2C0D0AC.78E362FE.IP)
[11:53:25] *** bhearsum|afk is now known as bhearsum
[11:54:30] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[11:58:10] *** Joins: jviereck (Adium@moz-F5ED0307.ethz.ch)
[12:02:07] *** Quits: jviereck (Adium@moz-F5ED0307.ethz.ch) (Connection reset by peer)
[12:02:32] *** Joins: jviereck (Adium@moz-5B852EE6.ethz.ch)
[12:03:09] *** Joins: jviereck1 (Adium@moz-F5ED0307.ethz.ch)
[12:04:07] *** Quits: fabiand (fabiand@moz-3E4C6B80.adsl.alicedsl.de) (Quit: Verlassend)
[12:04:24] *** Quits: jviereck (Adium@moz-5B852EE6.ethz.ch) (Ping timeout)
[12:06:24] *** Joins: jfredett (jfredett@moz-88F224A7.mycingular.net)
[12:07:21] *** Quits: jviereck1 (Adium@moz-F5ED0307.ethz.ch) (Ping timeout)
[12:10:00] *** Quits: Blub\w (wry@moz-42E8D38B.wireless.dyn.drei.com) (Ping timeout)
[12:11:11] *** Quits: jfredett (jfredett@moz-88F224A7.mycingular.net) (Ping timeout)
[12:13:42] *** Joins: jfredett (jfredett@moz-88F224A7.mycingular.net)
[12:18:53] *** Joins: jviereck (Adium@moz-95B6EF80.ethz.ch)
[12:19:39] *** Quits: jviereck (Adium@moz-95B6EF80.ethz.ch) (Quit: Leaving.)
[12:24:27] *** Joins: pnkfelix (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net)
[12:24:38] *** Quits: z0w0 (zack@51D3A0A8.B06D67C0.2CE63F58.IP) (Quit: Leaving.)
[12:24:47] *** Quits: jfredett (jfredett@moz-88F224A7.mycingular.net) (Ping timeout)
[12:25:35] *** Joins: Blub\w (wry@moz-EB3ADD0F.wireless.dyn.drei.com)
[12:26:08] *** Joins: pnkfelix|rcirc (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net)
[12:26:54] *** Quits: RMF (RMF@moz-90B282A.dsl.telepac.pt) (Ping timeout)
[12:27:41] *** Joins: jack (jack@EF36212C.8FA609AD.840029BC.IP)
[12:29:28] *** Quits: jack (jack@EF36212C.8FA609AD.840029BC.IP) (Ping timeout)
[12:30:49] *** Joins: RMF (RMF@moz-BBAAC65A.dsl.telepac.pt)
[12:31:13] *** Quits: dbaupp (Thunderbir@moz-86485C1C.lns20.syd6.internode.on.net) (Ping timeout)
[12:32:32] *** Joins: jviereck (Adium@moz-95B6EF80.ethz.ch)
[12:34:54] *** Joins: dbaupp (Thunderbir@moz-D1FE2872.lns20.syd6.internode.on.net)
[12:35:50] *** Joins: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP)
[12:37:22] *** Joins: tilde (tilde@moz-9091C250.clienti.tiscali.it)
[12:38:14] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[12:39:43] *** Joins: acrichto_ (acrichto@moz-FE112B96.res.cmu.edu)
[12:40:03] *** Quits: acrichto (acrichto@moz-FE112B96.res.cmu.edu) (Ping timeout)
[12:40:44] *** Quits: rntz (rntz@moz-C76A8D96.sp.cs.cmu.edu) (Ping timeout)
[12:45:30] *** Joins: maxli (maxli@F2D29657.F60B0462.67AC9B1.IP)
[12:46:49] *** Joins: rntz (rntz@moz-C76A8D96.sp.cs.cmu.edu)
[12:47:55] *** Joins: SimonSapin (simon@moz-C4A83ED9.net-89-2-126.rev.numericable.fr)
[12:48:37] *** Joins: Jesin (Jessin_@moz-A03A364F.cc.lehigh.edu)
[12:49:57] *** Quits: dbaupp (Thunderbir@moz-D1FE2872.lns20.syd6.internode.on.net) (Ping timeout)
[12:53:37] *** Joins: dbaupp (Thunderbir@moz-B8CA7F12.lns20.syd6.internode.on.net)
[12:53:56] *** Quits: trapni (trapni@F0E22329.CB586464.544FF5A6.IP) (Ping timeout)
[12:54:11] *** Joins: fabiand (fabiand@moz-3E4C6B80.adsl.alicedsl.de)
[12:55:10] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[13:04:38] *** Quits: jviereck (Adium@moz-95B6EF80.ethz.ch) (Quit: Leaving.)
[13:06:40] *** Quits: Jesin (Jessin_@moz-A03A364F.cc.lehigh.edu) (Ping timeout)
[13:08:13] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[13:08:13] <ghrust> 01[13rust01] 15nikomatsakis pushed 5 new commits to 06try: 02http://git.io/YKKLWw
[13:08:13] <ghrust> 13rust/06try 147b36e34 15Niko Matsakis: Fix two more write guard failures
[13:08:13] <ghrust> 13rust/06try 144dc62df 15Niko Matsakis: do not run regionck if there have been type errors
[13:08:13] <ghrust> 13rust/06try 14e235f6c 15Niko Matsakis: remove some unused mut decls and vars
[13:08:15] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[13:08:37] *** Joins: Cromulent (Cromulent@moz-5111C23B.cable.virginmedia.com)
[13:09:03] *** Joins: trapni (trapni@moz-6A0EA166.dawanda.com)
[13:11:24] *** Quits: Blub\w (wry@moz-EB3ADD0F.wireless.dyn.drei.com) (Quit: bb)
[13:12:54] *** Joins: Jesin (Jessin_@moz-A03A364F.cc.lehigh.edu)
[13:14:13] *** Quits: dbaupp (Thunderbir@moz-B8CA7F12.lns20.syd6.internode.on.net) (Ping timeout)
[13:17:36] *** Joins: dbaupp (Thunderbir@moz-978C9FDC.lns20.syd6.internode.on.net)
[13:18:01] *** Joins: Erik (Erik-S@moz-252DBA2.hsd1.co.comcast.net)
[13:18:28] *** Quits: wuwei`lab (wuwei@1A513F49.818D7924.FAA9ED67.IP) (Input/output error)
[13:18:29] *** Joins: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net)
[13:19:01] *** Quits: quvarxa (chatzilla@moz-4285C44D.lns20.adl6.internode.on.net) (Quit: ChatZilla 0.9.90 [Firefox 21.0/20130430204233])
[13:20:44] *** Quits: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net) (Quit: jorendorff)
[13:24:46] *** Joins: jfredett (jfredett@moz-35CE0253.bstnma.east.verizon.net)
[13:28:12] *** Joins: jack (jack@EF36212C.8FA609AD.840029BC.IP)
[13:30:08] *** Quits: jack (jack@EF36212C.8FA609AD.840029BC.IP) (Ping timeout)
[13:30:59] *** Joins: jviereck (Adium@moz-95B6EF80.ethz.ch)
[13:32:30] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[13:33:57] *** Quits: jensnockert (jensnocker@moz-C2088C23.mobileonline.telia.com) (Input/output error)
[13:36:23] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Input/output error)
[13:37:33] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Client exited)
[13:37:54] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[13:39:09] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[13:39:40] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Ping timeout)
[13:47:46] *** Quits: otters (joel@moz-82AAB099.rs) (Ping timeout)
[13:47:56] *** Quits: dbaupp (Thunderbir@moz-978C9FDC.lns20.syd6.internode.on.net) (Ping timeout)
[13:48:06] *** Joins: otters (joel@3C3A7FE4.5A735C3C.AC7F8427.IP)
[13:48:16] *** Joins: dbaupp (Thunderbir@moz-978C9FDC.lns20.syd6.internode.on.net)
[13:49:12] *** Quits: int3_ (int3_@moz-1692740B.subnet-248.amherst.edu) (Client exited)
[13:50:18] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[13:52:50] *** Quits: MrFahrenheit (RageOfThou@moz-CF7139ED.dynamic.telemach.ba) (Ping timeout)
[13:53:51] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[13:56:00] <bstrie> ssbr: you should write a regex implementation from scratch
[13:56:13] <ssbr> heh :)
[13:56:47] <bstrie> ssbr: I really don't think graydon cares about compiling regexes at runtime, I think he's said that what he really wants is a syntax extension that compiles to a state machine
[13:56:51] <bstrie> but you'd have to ask him
[13:57:16] <bstrie> I also don't think he cares about being pcre-compatible
[13:57:22] <bstrie> that's what pcre bindings are for
[13:58:08] <bstrie> but he does worry that the RE2 approach is too slow for the common case, as does pcwalton
[13:58:19] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[13:58:19] <ghrust> 01[13rust01] 15nikomatsakis pushed 1 new commit to 06try: 02http://git.io/PpP6AQ
[13:58:19] <ghrust> 13rust/06try 1484f7ecc 15Niko Matsakis: Adust arena test: can no longer allocate recursively
[13:58:19] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[13:58:23] <ssbr> Well, then what does he want out of it?
[13:58:45] <ssbr> (or what is important)
[13:59:05] <nmatsakis> ssbr: I think a regex engine from scratch would be most useful, if that is in doubt.
[13:59:14] <nmatsakis> ssbr: however, I do think that compiing at runtime is mp't
[13:59:15] <nmatsakis> *imp't
[13:59:21] <nmatsakis> ssbr: as is compiling at compile-time...
[13:59:38] <nmatsakis> that is, ideally you'd defer both to the same engine
[13:59:40] <ssbr> nmatsakis: as weighed against a binding to RE2 or pcre or something
[13:59:59] <nmatsakis> ssbr: I presume we'll have bindings too.
[13:59:59] <ssbr> I question it, because I don't want my own value judgments to take over what's actually best
[14:00:24] <nmatsakis> but implementing in Rust gives many benefits:
[14:00:36] <nmatsakis> - memory safety etc, more "native" feel to API
[14:00:44] <nmatsakis> - nice benchmark for us to optimize :)
[14:00:58] *** Joins: jorendorff (jorendorff@moz-1747FB68.hsd1.tn.comcast.net)
[14:01:17] <nmatsakis> but I would be happy with an engine that starts simple
[14:01:34] <nmatsakis> whiz-bang features can come over time
[14:01:56] <ssbr> Agreed :)
[14:02:36] <ssbr> TBH the hardest part is parsing, haha. I've never written a parser by hand before (I used Python's SRE parser, and then later a PEG parser-generator)
[14:02:47] *** Joins: MrFahrenheit (RageOfThou@moz-CF7139ED.dynamic.telemach.ba)
[14:02:54] <nmatsakis> recursive descent is pretty straight-forward,
[14:02:57] <nmatsakis> though not entirely obvious.
[14:02:58] <ssbr> some research says that probably I should use operator precedence parsing with some preprocessing
[14:03:06] <ssbr> nmatsakis: but super expensive!
[14:03:14] <nmatsakis> super expensive?
[14:03:22] <ssbr> exponential time worst case, isn't it?
[14:03:36] <nmatsakis> well, that depends on your grammar and how you implement it
[14:03:58] <nmatsakis> typically recursive descent parsers are linear time
[14:04:02] <nmatsakis> and quite fast because instead of using tables
[14:04:12] <nmatsakis> you have different subroutines for each state in your grammar
[14:04:20] <nmatsakis> so they work better with branch prediction etc
[14:04:26] <nmatsakis> but I don't claim to have studied this in depth
[14:04:31] <bstrie> ssbr: expontential time in the pathological case, yes. this is really only a concern when you have a service that exposes the regex engine as an attack vector
[14:04:31] <nmatsakis> (parser pref)
[14:04:44] <aatch> (says the guy working on a compiler)
[14:04:46] <nmatsakis> I know that in a past life we converted a heavily optimized, but YACC-based XML parser
[14:04:52] <nmatsakis> to a hand-written recursive descent parser
[14:04:55] <nmatsakis> and got great perf wins
[14:05:10] <dbaupp> ssbr: the grammar of a regular expression is probably LL(1) (I guess), so rec. desc. will be perfectly fine
[14:05:15] <ssbr> nmatsakis: operator precedence parsing doesn't look much harder either
[14:05:37] <ssbr> dbaupp: it didn't look LL(1) to me, but I don't have great experience there
[14:05:46] <ssbr> is LL(1) closed under reversal?
[14:05:47] <nmatsakis> ssbr: yes, that would be fine.
[14:06:08] <nmatsakis> a hand-written OP parser, you mean?
[14:06:10] <ssbr> if not, I'm sure that reversed regexps are LL(1), so it's fine anyway
[14:06:13] <ssbr> nmatsakis: yeah
[14:06:23] <nmatsakis> what do you mean by "reversed"?
[14:06:25] <nmatsakis> and why is that relevant?
[14:06:31] <dbaupp> ssbr: I think so
[14:06:38] <Diablo-D3> [10:03:16] <nmatsakis> I know that in a past life we converted a heavily optimized, but YACC-based XML parser
[14:06:42] <dbaupp> ssbr: but I have no idea
[14:06:42] <Diablo-D3> re2c + lemon == win
[14:06:47] <ssbr> nmatsakis: reverse the string: "abc" -> "cba"
[14:07:05] <ssbr> I am pretty confident if you reverse a regexp, you can parse it with only one token of lookahead
[14:07:10] <nmatsakis> in what cases do regular expression grammars require extensive lookahead? they seem straight-forward, but I don't know as much about the various extensions
[14:07:23] <ssbr> nmatsakis: I don't know, how do you parse "abc*"?
[14:07:48] <ssbr> this should become Star(Concat(~['a', 'b', 'c'])
[14:08:15] <bstrie> isn't reversing something to make it LL(1) the same as saying that thing is LR(1) ?
[14:08:18] <ssbr> I've never written an LL(1) grammar before either, so I don't know how they handle things like arithmetic
[14:08:24] <nmatsakis> so, it doens't matter much, but I thought abc* would be Concat(a, b, Star(c))
[14:08:43] <Erik> ssbr: ABC* parses to AB(C)* not (ABC)*
[14:08:48] <ssbr> errrr
[14:08:49] <ssbr> yes.
[14:09:34] <nmatsakis> ssbr: anyway, in either case, the way recursive descent works, you also have as input the next token, basically
[14:09:49] <nmatsakis> ssbr: so you would come in and parse `C` and then examine the next token, see it is `*`, and convert to Star(C)
[14:10:06] <nmatsakis> the problems come about if the grammar is sort of ambiguous so you can't do such decisions locally
[14:10:09] <Erik> ssbr: Writing a full regex enginer from scratch is hard. It might be easier to take an existing one and port from C
[14:10:17] <ssbr> nmatsakis: ah, I see
[14:10:27] <ssbr> Erik: I've already written two! (or five, depending on how you count)
[14:10:28] <aatch> Erik, he's done it twice
[14:10:44] <ssbr> I've just never written a parser :(
[14:10:52] <Erik> Never mind then!
[14:10:55] *** Joins: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com)
[14:11:23] <nmatsakis> ssbr: anyway, I guess wikipedia refers to the kind of parser I am talking about as a "predictive parser"
[14:11:23] <Erik> Glad Rust has someone with experience working on it
[14:11:35] <ssbr> nmatsakis: right, but that's always possible to write as long as it's LL(1)
[14:11:51] <ssbr> so the trick is finding an LL(1) grammar for regexps
[14:11:58] *** Quits: dbaupp (Thunderbir@moz-978C9FDC.lns20.syd6.internode.on.net) (Ping timeout)
[14:12:26] <nmatsakis> ssbr: tell you what, i'll happily write the parser for you if you get something that works well given the AST :)
[14:12:45] <bjz> :)
[14:13:00] <aatch> parsers are easy :D
[14:13:14] <ssbr> all y'all so confident.
[14:13:30] <Sodel_the_V> Sorry I'm late with this link, but I think this link is relevant to regular expression matching. In particular, it deals with the pitfalls of certain extensions. http://swtch.com/~rsc/regexp/regexp1.html
[14:13:34] * bjz is yet to tackle parsing
[14:13:53] <ssbr> Sodel_the_V: russ cox is amazing
[14:14:12] <Sodel_the_V> ssbr: No kidding.
[14:14:12] *** Joins: dbaupp (Thunderbir@moz-222D8422.lns20.syd6.internode.on.net)
[14:14:21] <ssbr> regexp2 and regexp3 are more interesting for PCRE style parsers (with submatch extraction), though
[14:15:40] <Sodel_the_V> Well, I'm mostly ignorant in that area
[14:15:44] <ssbr> oh, so I misunderstood LL(1) grammars
[14:16:16] <ssbr> I thought that it was the class of grammars with terminals at the left of every production. Apparently that is not the case :X
[14:16:58] *** Quits: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP) (Ping timeout)
[14:17:18] <ssbr> (but you can't have a recursive nonterminal on the left)
[14:20:05] *** Joins: josh (josh@moz-299FF8FF.fw.nyc2.appnexus.com)
[14:22:02] *** Quits: dbaupp (Thunderbir@moz-222D8422.lns20.syd6.internode.on.net) (Quit: dbaupp)
[14:22:06] *** Joins: dbaupp (Thunderbir@moz-222D8422.lns20.syd6.internode.on.net)
[14:25:22] <friggle> re2 was written by rsc based on that series of articles, right?
[14:27:11] *** Joins: int3_ (int3_@moz-1692740B.subnet-248.amherst.edu)
[14:28:12] *** Joins: jack (jack@EF36212C.8FA609AD.840029BC.IP)
[14:29:22] <ssbr> friggle: I think rsc wrote RE2 after he wrote the first two articles, yeah
[14:29:32] <ssbr> but only because the source code for the second is called "re1"
[14:35:48] *** Quits: jviereck (Adium@moz-95B6EF80.ethz.ch) (Quit: Leaving.)
[14:37:11] *** Quits: dbaupp (Thunderbir@moz-222D8422.lns20.syd6.internode.on.net) (Ping timeout)
[14:37:32] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[14:38:14] *** Quits: Cromulent (Cromulent@moz-5111C23B.cable.virginmedia.com) (Ping timeout)
[14:38:23] *** Joins: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP)
[14:39:53] *** Quits: josh (josh@moz-299FF8FF.fw.nyc2.appnexus.com) (Quit: josh)
[14:40:57] *** Joins: dbaupp (Thunderbir@moz-E89C2C9E.lns20.syd6.internode.on.net)
[14:41:06] *** Joins: jviereck (Adium@moz-F5ED0307.ethz.ch)
[14:43:31] *** Quits: dbaupp (Thunderbir@moz-E89C2C9E.lns20.syd6.internode.on.net) (Ping timeout)
[14:43:40] *** Joins: josh (josh@moz-299FF8FF.fw.nyc2.appnexus.com)
[14:46:11] <nmatsakis> ssbr: https://github.com/nikomatsakis/rust-recursive-descent-regex-parser
[14:46:14] <nmatsakis> just for fun
[14:46:29] <ssbr> egh, is it possible to have enums with borrowed pointers inside them? I had hoped this would work: enum Foo<'life> { A(&'life Foo); B }
[14:46:33] *** Joins: erickt (Adium@moz-6A641B4B.maine.res.rr.com)
[14:46:42] <ssbr> but rust complains that I can't use any lifetime declaration other than 'self
[14:46:43] <nmatsakis> ssbr: yes, it is possible, but ... possibly not what you want?
[14:46:51] <nmatsakis> ssbr: oh, yes, right now you must call the parameter self
[14:46:51] <ssbr> nmatsakis: possibly not
[14:46:53] <nmatsakis> ssbr: that will be fixed
[14:47:03] <nmatsakis> hopefully very soon
[14:47:07] *** Joins: dbaupp (Thunderbir@moz-A56CD65E.lns20.syd6.internode.on.net)
[14:47:27] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Quit: WeeChat 0.4.0)
[14:47:29] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[14:48:11] <nmatsakis> ssbr: it's only what you want if the lifetime of every instance of your enum is tied to some stack frame, basically
[14:48:12] <ssbr> nmatsakis: I to define a directed graph as an enum
[14:48:41] <ssbr> I can't use owned pointers because the same vertex might have multiple incoming edges, and I don't want to use garbage collected pointers
[14:48:43] <nmatsakis> ssbr: for a directed graph, I personally would use indices
[14:48:57] <nmatsakis> ssbr: probably defined like `struct NodeIndex(uint)`
[14:49:01] <ssbr> nmatsakis: but then the compiler doesn't verify that my indices are correct :(
[14:49:26] <nmatsakis> ssbr: what graph is this?
[14:49:33] *** Joins: sanxiyn (tinuviel@858F408C.B797260D.EF43EC08.IP)
[14:49:34] <ssbr> nmatsakis: NFA
[14:49:36] <nmatsakis> is it to represent a compiled regex?
[14:49:40] <ssbr> yes
[14:49:44] <nmatsakis> ie, something you will be returning to the user?
[14:49:50] <sanxiyn> r? https://github.com/mozilla/rust/pull/6265
[14:50:04] <sanxiyn> (It is for #[packed], but the actual reason I did this is for #[simd])
[14:50:06] <nmatsakis> ssbr: then you either want @T or indices. I'd use indices.
[14:50:09] <ssbr> right. I was hoping to return an owned pointer to an enum, and then all the internal pointers between nodes would have the same lifetime as that owned pointer
[14:50:24] <nmatsakis> ssbr: lifetimes don't work like that
[14:50:28] <ssbr> Oh. Sad. :(
[14:50:32] <ssbr> I'll use indices then
[14:50:33] <nmatsakis> you can't tie the lifetime of a pointer to the data structure
[14:50:37] *** Quits: Jesin (Jessin_@moz-A03A364F.cc.lehigh.edu) (Ping timeout)
[14:50:38] <nmatsakis> but rather to a stack frame
[14:50:42] <nmatsakis> yeah, it'd be nice, maybe someday
[14:50:53] <nmatsakis> it's a kind of exponential leap in complexity
[14:50:56] <ssbr> nmatsakis: that makes sense
[14:51:25] <ssbr> I thought you could tie it to the lifetime of another pointer because that's what this is all about, but it means to the lifetime of another _borrowed_ pointer, I guess
[14:51:29] <ssbr> which as a base case is a stack frame
[14:51:34] <nmatsakis> ssbr: exactly.
[14:52:45] <nmatsakis> is buildbot...wedged?
[14:52:57] <nmatsakis> I actually haven't quite figured out how to determine that :)
[14:54:34] *** Joins: Jesin (Jessin_@moz-A03A364F.cc.lehigh.edu)
[14:54:36] <sanxiyn> http://buildbot.rust-lang.org/buildslaves shows buildslaves idle
[14:54:37] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[14:54:58] <sanxiyn> Maybe it is bors that is wedged?
[14:55:54] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[14:58:24] *** Quits: jviereck (Adium@moz-F5ED0307.ethz.ch) (Quit: Leaving.)
[14:58:36] *** Joins: jviereck (Adium@moz-F5ED0307.ethz.ch)
[14:58:56] *** Quits: jviereck (Adium@moz-F5ED0307.ethz.ch) (Max SendQ exceeded)
[14:59:02] *** Joins: jviereck (Adium@moz-95B6EF80.ethz.ch)
[14:59:15] *** Quits: int3_ (int3_@moz-1692740B.subnet-248.amherst.edu) (Client exited)
[14:59:33] <sanxiyn> I'd also appreciate any comment on https://github.com/mozilla/rust/pull/6214
[14:59:33] *** Quits: tilde (tilde@moz-9091C250.clienti.tiscali.it) (Connection reset by peer)
[14:59:37] <sanxiyn> (SIMD take 2)
[14:59:51] <nmatsakis> sanxiyn: ok, I'll take a look
[14:59:56] *** Joins: tilde (tilde@moz-9091C250.clienti.tiscali.it)
[14:59:57] <sanxiyn> Thanks!
[15:00:29] <nmatsakis> sanxiyn: bors...appears to be progressing
[15:00:59] <sanxiyn> Indeed, I see updated timestamp
[15:01:28] *** Joins: int3_ (int3_@moz-1692740B.subnet-248.amherst.edu)
[15:01:31] <sanxiyn> (But still buildslaves are idle?!)
[15:01:34] <dbaupp> nmatsakis: apparently, there is no build happening http://buildbot.rust-lang.org/console?branch=auto&refresh=15
[15:02:07] <sanxiyn> dbaupp: You did #[packed] patch?
[15:02:12] <dbaupp> sanxiyn: yup
[15:02:17] <sanxiyn> dbaupp: https://github.com/mozilla/rust/pull/6265
[15:02:23] <sanxiyn> (By the way, that patch was a great help)
[15:02:40] <dbaupp> sanxiyn: oops! thanks for fixing it
[15:02:46] <dbaupp> sanxiyn: :)
[15:02:51] <ssbr> nmatsakis: I didn't see your link before because I was being dumb. thanks!
[15:03:12] *** Quits: jviereck (Adium@moz-95B6EF80.ethz.ch) (Quit: Leaving.)
[15:03:15] <sanxiyn> dbaupp: On my branch I parametrized lookup_packed and renamed to lookup_attr
[15:03:24] <sanxiyn> (So that it can lookup #[simd] :-)
[15:03:33] <sanxiyn> And I noticed it doesn't work cross-crate
[15:04:29] <dbaupp> sanxiyn: I had no idea I had to do anything special for cross-crate
[15:04:30] *** Joins: Cromulent (Cromulent@moz-5111C23B.cable.virginmedia.com)
[15:04:46] <dbaupp> sanxiyn: looking forward to your simd patch(es) landing! :)
[15:04:47] <sanxiyn> dbaupp: Apparently attributes on structs weren't encoded
[15:05:55] *** Quits: haard (fredrik@18E6EC45.6A26450D.BE04C429.IP) (Ping timeout)
[15:06:30] *** Quits: dbaupp (Thunderbir@moz-A56CD65E.lns20.syd6.internode.on.net) (Ping timeout)
[15:07:21] <sanxiyn> nmatsakis: I wasn't too willing to fight graydon, but my experience confirms that
[15:07:32] <sanxiyn> "my opinion is that a new type is cleaner than using an attribute"
[15:07:36] <sanxiyn> https://github.com/mozilla/rust/pull/5841#issuecomment-16393973
[15:09:22] <nmatsakis> sanxiyn: ok, I haven't gotten to reading your patch yet, but I will  do so today
[15:09:31] *** Joins: solancile (solancile@moz-A1CFFAE5.hsd1.wa.comcast.net)
[15:09:38] <sanxiyn> Much appreciated :)
[15:09:43] <sanxiyn> It's midnight here :(
[15:09:44] <sanxiyn> Bye!
[15:09:56] *** Joins: dbaupp (Thunderbir@moz-4F100455.lns20.syd6.internode.on.net)
[15:10:11] *** Quits: sanxiyn (tinuviel@858F408C.B797260D.EF43EC08.IP) (Quit: Leaving)
[15:10:31] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Client exited)
[15:10:52] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[15:11:01] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Quit: Lost terminal)
[15:11:04] *** Joins: mzabaluev (mzabaluev@moz-91FFD755.dhcp.inet.fi)
[15:11:24] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[15:12:39] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[15:12:43] <nmatsakis> santiago: bye :)
[15:13:29] *** Quits: dbaupp (Thunderbir@moz-4F100455.lns20.syd6.internode.on.net) (Ping timeout)
[15:16:58] *** Joins: dbaupp (Thunderbir@moz-6C63234B.lns20.syd6.internode.on.net)
[15:17:00] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[15:17:28] *** Joins: bleibig (bleibig@moz-58EF3B3A.rochester.res.rr.com)
[15:18:28] *** Joins: haard (fredrik@moz-6A86987C.dynamic.se.alltele.net)
[15:19:43] *** Quits: lr (quassel@A0B983C9.98812F7A.4B164862.IP) (Quit: http://quassel-irc.org - Discuter simplement. Partout.)
[15:23:19] *** Quits: dbaupp (Thunderbir@moz-6C63234B.lns20.syd6.internode.on.net) (Ping timeout)
[15:26:42] *** Joins: dbaupp (Thunderbir@moz-CF8324A5.lns20.syd6.internode.on.net)
[15:27:56] *** Joins: jensnockert (jensnocker@moz-C2088C23.mobileonline.telia.com)
[15:28:36] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Computer has gone to sleep.)
[15:30:16] *** Quits: dbaupp (Thunderbir@moz-CF8324A5.lns20.syd6.internode.on.net) (Ping timeout)
[15:30:53] *** Joins: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net)
[15:31:30] *** Quits: wilsonk|2 (kvirc@moz-39EFBFC2.cg.shawcable.net) (Ping timeout)
[15:31:42] <nmatsakis> ssbr: let me know if you have any questions...
[15:31:44] <nmatsakis> (btw)
[15:32:40] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[15:32:51] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[15:33:11] *** Quits: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[15:33:34] *** Quits: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[15:33:37] *** Joins: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP)
[15:34:04] *** Joins: dbaupp (Thunderbir@moz-817FD433.lns20.syd6.internode.on.net)
[15:34:08] *** Joins: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP)
[15:35:54] *** Quits: dbaupp (Thunderbir@moz-817FD433.lns20.syd6.internode.on.net) (Ping timeout)
[15:38:06] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[15:38:38] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[15:38:57] *** Joins: akashj87 (akash@20504158.7FACFDC5.35E3DDC8.IP)
[15:39:18] *** Joins: dbaupp (Thunderbir@moz-2CF61D2B.lns20.syd6.internode.on.net)
[15:39:37] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Connection reset by peer)
[15:39:43] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[15:40:23] <pnkfelix> ssbr: FYI, "recursive descent with backup" (or sometimes "backtracking" ?) is the one that's exponential, as opposed to "recursive descent [without backup; implicit]".  The terminology here is quite unfortunate.
[15:41:04] <pnkfelix> ssbr: there are alternative terms, in addition to "predictive parsing" as mentioned by nmatsakis already.
[15:41:06] *** Quits: dbaupp (Thunderbir@moz-2CF61D2B.lns20.syd6.internode.on.net) (Ping timeout)
[15:41:15] *** Quits: jensnockert (jensnocker@moz-C2088C23.mobileonline.telia.com) (Input/output error)
[15:41:42] <aatch> pnkfelix, doc comments are sugar for the #[doc] attribute btw
[15:41:46] <nmatsakis> I don't think I've ever seen anyone implement recursive descent with backup by hand, but rather as part of a combinator approach
[15:41:56] <pnkfelix> ssbr: e.g. "the confusion has led to alternative terms such
[15:41:56] <pnkfelix> as "definite clause grammar (DCG) parser" for the abominable technique, and "hand-coded LL(1) parser" for the excellent technique."
[15:42:12] <pnkfelix> (reference: https://groups.google.com/d/msg/comp.lang.lisp/AezzhxTliME/V3j_S6W0jgsJ)
[15:43:07] *** aatch is now known as aatch|bed
[15:43:11] *** Quits: erickt (Adium@moz-6A641B4B.maine.res.rr.com) (Quit: Leaving.)
[15:45:01] *** Joins: dbaupp (Thunderbir@moz-C3A29E16.lns20.syd6.internode.on.net)
[15:46:39] *** Joins: erickt (Adium@moz-6A641B4B.maine.res.rr.com)
[15:47:23] *** Quits: Erik (Erik-S@moz-252DBA2.hsd1.co.comcast.net) (Ping timeout)
[15:50:45] *** Quits: trapni (trapni@moz-6A0EA166.dawanda.com) (Quit: Leaving)
[15:53:21] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[15:53:49] *** Joins: bent (chatzilla@moz-BE33DA21.fw1.sfo1.mozilla.net)
[15:54:13] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[15:54:13] <ghrust> 01[13rust01] 15nikomatsakis pushed 1 new commit to 06try: 02http://git.io/bVcmgA
[15:54:13] <ghrust> 13rust/06try 14c50a9d5 15Niko Matsakis: Use rust_try_get_task for compat with new rt, and strenghten assumptions about borrow list
[15:54:14] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[15:54:37] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[15:55:18] *** Joins: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP)
[15:56:52] *** Quits: tilde (tilde@moz-9091C250.clienti.tiscali.it) (Ping timeout)
[15:56:54] *** Joins: Jesse (jruderman@moz-C03D0C61.vlan426.asr1.sfo1.gblx.net)
[15:57:08] *** Quits: erickt (Adium@moz-6A641B4B.maine.res.rr.com) (Quit: Leaving.)
[15:57:26] *** Quits: dbaupp (Thunderbir@moz-C3A29E16.lns20.syd6.internode.on.net) (Ping timeout)
[15:58:34] *** Joins: jviereck (Adium@moz-340574DC.dclient.hispeed.ch)
[15:59:09] <pnkfelix> aatch:	 thanks for resolving that.
[16:00:49] *** Joins: dbaupp (Thunderbir@moz-41C5FBB8.lns20.syd6.internode.on.net)
[16:04:01] *** zz_kimundi is now known as kimundi
[16:04:38] *** Joins: skchrko (sk@61A494B3.BA40E8A.AAC02D62.IP)
[16:05:06] *** skchrko is now known as sk
[16:06:09] *** Quits: dbaupp (Thunderbir@moz-41C5FBB8.lns20.syd6.internode.on.net) (Ping timeout)
[16:07:18] <ssbr> Confusing error message, where we have enum MyEnum{Foo(~MyEnum), Bar};  : "Foo(f) => *f" -> "error: moving out of dereference of immutable ~ pointer".  Solved by doing "Foo(~f) => f". I have to say I don't know what the difference is.
[16:08:50] *** Quits: jviereck (Adium@moz-340574DC.dclient.hispeed.ch) (Quit: Leaving.)
[16:09:28] *** Joins: dbaupp (Thunderbir@moz-111EE45F.lns20.syd6.internode.on.net)
[16:10:09] <ssbr> (what's the difference? Is dereferencing unique pointers not allowed?)
[16:10:10] *** Quits: jfredett (jfredett@moz-35CE0253.bstnma.east.verizon.net) (Connection reset by peer)
[16:10:28] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Ping timeout)
[16:10:29] *** Joins: jfredett (jfredett@moz-35CE0253.bstnma.east.verizon.net)
[16:11:43] *** Joins: jviereck (Adium@moz-340574DC.dclient.hispeed.ch)
[16:12:09] *** Quits: josh (josh@moz-299FF8FF.fw.nyc2.appnexus.com) (Quit: josh)
[16:12:09] *** Quits: jfredett (jfredett@moz-35CE0253.bstnma.east.verizon.net) (Connection reset by peer)
[16:12:43] *** Joins: jfredett (jfredett@moz-35CE0253.bstnma.east.verizon.net)
[16:13:27] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[16:13:27] *** ChanServ sets mode: +o dherman
[16:14:09] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[16:14:09] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 140641d9a to 146e6a4be: 02http://git.io/N3iJvQ
[16:14:09] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[16:14:09] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[16:14:09] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/Owti5w
[16:14:09] <ghrust> 13rust/06auto 140211833 15Brendan Zabarauskas: Move FuzzyEq trait into core::cmp and rename it to 'ApproxEq'
[16:14:09] <ghrust> 13rust/06auto 140e2242f 15Brendan Zabarauskas: Add assert_approx_eq! macro
[16:14:10] <ghrust> 13rust/06auto 14b6dea9d 15bors: auto merge of #6263 : bjz/rust/approx-eq, r=erickt...
[16:14:12] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[16:16:32] *** Quits: dbaupp (Thunderbir@moz-111EE45F.lns20.syd6.internode.on.net) (Ping timeout)
[16:19:07] *** Joins: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net)
[16:19:22] *** Joins: tilde (tilde@moz-28DF82F9.retail.telecomitalia.it)
[16:19:30] *** Joins: Blub\w (wry@moz-EB3ADD0F.wireless.dyn.drei.com)
[16:19:40] <EXetoC> bjz: cool!
[16:19:42] *** Parts: tilde (tilde@moz-28DF82F9.retail.telecomitalia.it) ()
[16:19:46] <bjz> ?
[16:20:08] <bjz> oh yeah
[16:20:10] <bjz> :)
[16:20:30] <nmatsakis> ssbr: that is a known bug...
[16:20:38] <nmatsakis> ssbr: I can lookup the issue # for you if you want
[16:20:43] <ssbr> nmatsakis: oh, it's a bug! OK, no, that's fine.
[16:20:49] *** Quits: Ralith (ralith@moz-50F3C77.vc.shawcable.net) (Ping timeout)
[16:20:53] <nmatsakis> ssbr: the effect of the two bits of code are identical, but only one is accepted right now
[16:20:57] <ssbr> I was confused because I thought I wasn't understanding something. If it's not supposed to be an error, everything is good.
[16:21:15] *** Joins: brendan (brendaneic@2557E599.66715431.D25A875A.IP)
[16:21:15] <nmatsakis> on my list of things to fix, hopefully for 0.7 :)
[16:22:33] *** Quits: Jesin (Jessin_@moz-A03A364F.cc.lehigh.edu) (Ping timeout)
[16:22:35] *** Quits: boggle (boggle@moz-4E2FA529.dip0.t-ipconnect.de) (Quit: boggle)
[16:23:39] *** Joins: Jesin (Jessin_@moz-A03A364F.cc.lehigh.edu)
[16:23:51] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Computer has gone to sleep.)
[16:24:11] *** Joins: catpig (catpig@moz-D49D45E6.dip0.t-ipconnect.de)
[16:26:08] *** Joins: echristo (echristo@CFC3C6C3.D6CCE4AE.77834EAA.IP)
[16:26:18] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[16:27:46] <engla> do you think the Sized / Unsized change will happen? It sounds exciting
[16:28:07] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Computer has gone to sleep.)
[16:30:58] *** Joins: thou (thou@moz-1C1CA9F7.fasttrackcomm.net)
[16:33:10] *** Joins: victorporof (victorporo@E676DE54.4D5984FA.4A6B528C.IP)
[16:33:36] *** Joins: azita (Azita@2557E599.66715431.D25A875A.IP)
[16:34:41] *** Quits: jviereck (Adium@moz-340574DC.dclient.hispeed.ch) (Quit: Leaving.)
[16:35:36] *** Joins: posco (oscarboyki@636AC086.5999CED5.71743E61.IP)
[16:37:24] <friggle> it seemed to get positive feedback
[16:37:25] *** Quits: jfredett (jfredett@moz-35CE0253.bstnma.east.verizon.net) (Connection reset by peer)
[16:37:59] *** Joins: jfredett (jfredett@moz-35CE0253.bstnma.east.verizon.net)
[16:38:04] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[16:38:30] <EXetoC> bjz: it's probably a common operation so it's nice to have. do the assertion constructs need to be macros though?
[16:38:35] *** Joins: Ralith (ralith@moz-460B1018.wireless.sfu.ca)
[16:39:33] *** Quits: int3_ (int3_@moz-1692740B.subnet-248.amherst.edu) (Client exited)
[16:40:11] <bjz> EXetoC: all of the asserts are macros. The nice thing is that it allows you to report back the file name, line and column number on which the macro was invoked
[16:40:16] *** Joins: seth (seth@moz-BE33DA21.fw1.sfo1.mozilla.net)
[16:40:30] *** Quits: Ralith (ralith@moz-460B1018.wireless.sfu.ca) (Ping timeout)
[16:41:21] <bjz> EXetoC: the macro is defined in syntax::ext::expand
[16:42:00] <nmatsakis> engla: I sure hope so, I think we will discuss it in our next meeting this Tuesday
[16:42:52] *** Quits: jfredett (jfredett@moz-35CE0253.bstnma.east.verizon.net) (Connection reset by peer)
[16:42:52] *** kimundi is now known as zz_kimundi
[16:43:13] *** Joins: jfredett (jfredett@moz-35CE0253.bstnma.east.verizon.net)
[16:44:29] *** Joins: Ralith (ralith@moz-460B1018.wireless.sfu.ca)
[16:44:49] *** Quits: haard (fredrik@moz-6A86987C.dynamic.se.alltele.net) (Ping timeout)
[16:45:07] *** Joins: philix (philix@moz-451739D3.user.veloxzone.com.br)
[16:45:23] <EXetoC> bjz: ok, I didn't know it was macro-specific
[16:47:33] *** Joins: int3_ (int3_@moz-1692740B.subnet-248.amherst.edu)
[16:47:42] <EXetoC> bjz: no wait, it shouldn't be; it's just that you can't do what D does
[16:48:04] <EXetoC> when taking the function approach
[16:48:26] *** Quits: Ralith (ralith@moz-460B1018.wireless.sfu.ca) (Ping timeout)
[16:50:30] <bjz> EXetoC: what do you mean?
[16:51:30] *** Quits: rbancroft (rumble@moz-4E8E0D7F.cg.shawcable.net) (Ping timeout)
[16:53:09] *** Quits: jack (jack@EF36212C.8FA609AD.840029BC.IP) (Quit: Leaving.)
[16:53:29] *** Joins: jack (jack@EF36212C.8FA609AD.840029BC.IP)
[16:53:48] *** Joins: sdh_ (sdh@8557E3E0.AAC4A127.9105FBCF.IP)
[16:54:15] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:54:21] <engla> nmatsakis: it should be a good step for rust, removing the specialness of [T] and so on
[16:54:25] *** Joins: rbancroft (rumble@moz-4E8E0D7F.cg.shawcable.net)
[16:56:36] <nmatsakis> engla: yes, I think it would be a great step forward, unless of course we come up with some reason it would not work
[16:58:22] *** Joins: jensnockert (jensnocker@moz-C2088C23.mobileonline.telia.com)
[16:59:47] <bjz> nmatsakis: hmm, how long do the tests normally take?
[16:59:59] <bjz> ie. via bors
[17:00:27] *** Joins: geomyidae (geomyidae@9FDA6BE2.37A86C23.448B98CC.IP)
[17:01:37] *** Quits: azita (Azita@2557E599.66715431.D25A875A.IP) (Quit: azita)
[17:01:46] *** Quits: Cromulent (Cromulent@moz-5111C23B.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[17:01:52] <EXetoC> bjz: I didn't think of the fact that you can't do what D does, that's all (arguments with default values set to __LINE__ and __FILE__)
[17:02:03] <bjz> yeah :(
[17:02:13] <EXetoC> if those are even expanded at the call site. can't remember
[17:02:19] *** Joins: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl)
[17:02:25] <bjz> default args are cool
[17:03:18] *** Quits: brendan (brendaneic@2557E599.66715431.D25A875A.IP) (Quit: brendan)
[17:03:31] <nmatsakis> bjz: I think bors or buildbot is wedged in some way
[17:03:47] *** Quits: mzabaluev (mzabaluev@moz-91FFD755.dhcp.inet.fi) (Ping timeout)
[17:04:20] <bjz> nmatsakis: yeah, he said he was trying a build, but it hasn't showed up on the console: https://github.com/mozilla/rust/pull/6263
[17:04:30] <bjz> nmatsakis: I guess we must wait
[17:04:33] <bjz> :)
[17:04:53] *** Joins: mzabaluev (mzabaluev@moz-91FFD755.dhcp.inet.fi)
[17:04:59] <bjz> (for the boss-wranglers to come)
[17:05:08] <bjz> *bot-wranglers
[17:05:20] *** Quits: int3_ (int3_@moz-1692740B.subnet-248.amherst.edu) (Client exited)
[17:05:22] <bjz> :P
[17:05:48] *** Quits: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl) (Client exited)
[17:05:54] *** Joins: azita (Azita@2557E599.66715431.D25A875A.IP)
[17:08:02] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[17:08:03] *** Joins: jviereck (Adium@moz-340574DC.dclient.hispeed.ch)
[17:09:40] *** Joins: sk_ (sk@61A494B3.BA40E8A.AAC02D62.IP)
[17:09:45] *** Quits: sk_ (sk@61A494B3.BA40E8A.AAC02D62.IP) (Input/output error)
[17:10:24] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[17:10:24] *** ChanServ sets mode: +o brson
[17:10:45] *** Quits: jviereck (Adium@moz-340574DC.dclient.hispeed.ch) (Ping timeout)
[17:11:49] *** Joins: int3_ (int3_@moz-1692740B.subnet-248.amherst.edu)
[17:12:07] *** Quits: EXetoC (ex@moz-2DBEB1E4.customer.t3.se) (Quit: WeeChat 0.4.0)
[17:12:55] *** Joins: jviereck (Adium@moz-71F6F35C.dynamic.hispeed.ch)
[17:13:59] *** Joins: boggle (boggle@moz-4E2FA529.dip0.t-ipconnect.de)
[17:14:06] *** Joins: cdidd (cdidd@moz-4FB24AF0.broadband.corbina.ru)
[17:14:35] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[17:14:38] *** Quits: terje (terje@moz-C0F75C5F.san.res.rr.com) (Ping timeout)
[17:14:42] *** Joins: haard (fredrik@moz-6A86987C.dynamic.se.alltele.net)
[17:15:14] *** Joins: josh (josh@moz-299FF8FF.fw.nyc2.appnexus.com)
[17:16:30] *** Quits: haard (fredrik@moz-6A86987C.dynamic.se.alltele.net) (Ping timeout)
[17:18:34] <ssbr> are assert_eq! and the like documented anywhere?
[17:18:57] *** Joins: terje (terje@moz-C0F75C5F.san.res.rr.com)
[17:18:57] *** Quits: boggle (boggle@moz-4E2FA529.dip0.t-ipconnect.de) (Connection reset by peer)
[17:18:58] <ssbr> a list of things I can use in #[test] fns would be nice <_<
[17:19:49] *** Quits: Axord (xord@moz-C3CCF156.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[17:20:46] *** Joins: BitPuffin (quassel@moz-8370D1B9.bredband.comhem.se)
[17:22:27] *** Joins: graydon (Adium@A5087023.2354C43D.D8E68FF6.IP)
[17:22:27] *** ChanServ sets mode: +qo graydon graydon
[17:23:00] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:23:02] *** Joins: jonasac (jonasac@moz-D4CDC8CE.members.linode.com)
[17:24:26] *** Quits: Blub\w (wry@moz-EB3ADD0F.wireless.dyn.drei.com) (Quit: bb)
[17:25:31] *** Joins: brendan (brendaneic@2557E599.66715431.D25A875A.IP)
[17:25:39] <nmatsakis> graydon: buildbot/bors seem to not be making progress.
[17:26:00] <graydon> checking
[17:26:26] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[17:26:53] <graydon> (I know I am repetitive in saying this, but I am not the only person who can unstick it)
[17:27:53] <graydon> nmatsakis: can I ask that you not use 'try'? it appears to be interfering with buildbot's scheduling of changes on the 'auto' branch
[17:27:59] <graydon> I've been trying to figure out why, to little avail
[17:28:14] <graydon> maybe I will disable the try scheduler for now :((
[17:28:17] <nmatsakis> graydon: sure, np---
[17:28:31] <nmatsakis> as far as you not being the only one who can fix it, who else can?
[17:28:54] <nmatsakis> can I? :)
[17:28:55] <graydon> depends on the breakage. in this case I expect it's just mis-scheduled a job and anyone can do so from the webpage
[17:29:01] <pnkfelix> nmatsakis: strcar was explaining this to me last week
[17:29:03] <graydon> that is, force the build on the auto branch that it's waiting on
[17:29:04] *** Joins: haard (fredrik@moz-6A86987C.dynamic.se.alltele.net)
[17:29:04] <brendanc> might want to turn off the try scheduler in the buildbot conf :)
[17:29:15] <graydon> yeah, I guess so :(
[17:29:45] <nmatsakis> graydon: ok. I've learned remarkably little about the new infrastructure, partly because I've not been 100% on Rust ...
[17:29:55] <graydon> sure, np
[17:30:02] <nmatsakis> but next time I'll look into that (forcing the build)
[17:30:49] *** Quits: thou (thou@moz-1C1CA9F7.fasttrackcomm.net) (Input/output error)
[17:31:21] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[17:31:54] <brendanc> might also try replacing anybranchscheduler with a bunch of singlebranchschedulers (it's voodoo, but I think worth a try)
[17:33:53] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[17:34:59] <pnkfelix> nmatsakis: in case it helps, dialogue between strcat and me on unwedging buildbot is here: https://botbot.me/irc.mozilla.org/rust/msg/2977466/
[17:35:28] <pnkfelix> nmatsakis: (ah, but the conversation went private at some point, so that won't be as useful as I had hoped.  :) 
[17:36:20] *** Quits: bnicholson (bnicholson@moz-E98974C1.hsd1.ca.comcast.net) (Ping timeout)
[17:38:04] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[17:39:36] *** Quits: victorporof (victorporo@E676DE54.4D5984FA.4A6B528C.IP) (Client exited)
[17:39:40] *** Joins: victorporof (victorporo@90976241.6D2FB7A4.79933D60.IP)
[17:40:44] *** Quits: josh (josh@moz-299FF8FF.fw.nyc2.appnexus.com) (Quit: josh)
[17:46:57] *** Joins: josh (josh@moz-299FF8FF.fw.nyc2.appnexus.com)
[17:51:50] *** Joins: bnicholson (bnicholson@2557E599.66715431.D25A875A.IP)
[17:51:54] *** Joins: Ralith (ralith@moz-50F3C77.vc.shawcable.net)
[17:52:47] *** Joins: Cromulent (Cromulent@moz-5111C23B.cable.virginmedia.com)
[17:53:01] *** Quits: int3_ (int3_@moz-1692740B.subnet-248.amherst.edu) (Client exited)
[17:54:57] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[17:56:32] *** Joins: int3_ (int3_@moz-1692740B.subnet-248.amherst.edu)
[17:58:31] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[18:00:15] *** Joins: mschifer (Adium@2557E599.66715431.D25A875A.IP)
[18:01:04] *** Joins: EXetoC (ex@moz-2DBEB1E4.customer.t3.se)
[18:02:07] <indutny> hi
[18:02:11] <indutny> so I get this: "illegal borrow unless pure: unique value in aliasable, mutable location"
[18:02:26] <indutny> when trying to access some methods of "&mut Struct"
[18:02:31] <indutny> when trying to access some methods of "&mut Struct"'s field
[18:02:46] <indutny> like: let a: &mut Struct = ; a.field.method();
[18:02:56] <indutny> and I sort of understand what's happening here
[18:03:15] <indutny> but anyway its completely unclear to me how to deal with it, without making `a` immutable
[18:04:08] *** Joins: steven_is_false (quassel@moz-144077DE.bchsia.telus.net)
[18:04:37] *** Quits: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP) (Quit: Leaving)
[18:04:42] <nmatsakis> indutny: gist of the code? this is quite possibly related to bugs in the existing safety checker
[18:05:53] *** Quits: mschifer (Adium@2557E599.66715431.D25A875A.IP) (Ping timeout)
[18:06:07] *** Quits: jorendorff (jorendorff@moz-1747FB68.hsd1.tn.comcast.net) (Quit: jorendorff)
[18:06:55] *** Quits: brendan (brendaneic@2557E599.66715431.D25A875A.IP) (Quit: brendan)
[18:07:17] <steven_is_false> I've got a weird recursive problem that I don't know how to solve.
[18:07:33] *** Joins: Sharp (Mibbit@moz-A8731642.pool.digikabel.hu)
[18:08:01] <steven_is_false> So I have a structure containing all my state struct RenderLoop <'self> { priv program_in_use : ProgramInUsePointer <PointsTo <'self>> }
[18:08:16] <steven_is_false> There's more but that's all that matters.
[18:08:16] *** Joins: mschifer (Adium@43CB6079.66715431.D25A875A.IP)
[18:08:56] <steven_is_false> What I need is a way to manage the shader program that is being pointed to.
[18:09:11] *** Quits: Sharp (Mibbit@moz-A8731642.pool.digikabel.hu) (Quit: http://www.mibbit.com ajax IRC Client)
[18:10:09] <steven_is_false> The only way I can think of doing that would be to have the struct be struct RenderLoop <'self> { program_in_use : Program <Linked>, used_program : ProgramInUsePointer <PointsTo <'self>> } But that's recursive.
[18:10:27] *** Quits: Cromulent (Cromulent@moz-5111C23B.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[18:10:57] *** Joins: thou (thou@moz-1C1CA9F7.fasttrackcomm.net)
[18:13:26] <steven_is_false> I'm thinking up a short sample that could show the problem.
[18:13:36] *** Quits: seth (seth@moz-BE33DA21.fw1.sfo1.mozilla.net) (Input/output error)
[18:14:50] *** Joins: seth (seth@moz-BE33DA21.fw1.sfo1.mozilla.net)
[18:15:04] *** Joins: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com)
[18:15:12] *** Joins: fairfieldt (chatzilla@F0DA239E.246E5E69.4AE11518.IP)
[18:15:57] *** Quits: int3_ (int3_@moz-1692740B.subnet-248.amherst.edu) (Client exited)
[18:16:00] *** Joins: pcwalton (pcwalton@43CB6079.66715431.D25A875A.IP)
[18:16:00] *** ChanServ sets mode: +o pcwalton
[18:16:51] <steven_is_false> Okay So here's the strange example that Rust isn't powerful enough to describe https://gist.github.com/sstewartgallus/1a0b9a5ea849d15999d2 .
[18:17:47] *** Quits: bnicholson (bnicholson@2557E599.66715431.D25A875A.IP) (Ping timeout)
[18:17:48] *** Joins: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net)
[18:17:55] <steven_is_false> I think I'd have to hack around this using mutability.
[18:18:43] <steven_is_false> Nope, that doesn't work.
[18:18:46] <doy> well, & can refer to owned pointers
[18:18:54] <doy> and owned pointers can't describe data structures with cycles
[18:19:50] *** Quits: jviereck (Adium@moz-71F6F35C.dynamic.hispeed.ch) (Quit: Leaving.)
[18:19:52] <steven_is_false> doy: I don't know how to describe this exactly but what I want is that while one can not point to oneself one can point to a level beneath oneself.
[18:22:12] <doy> well, the example you gave was the structure pointing to itself
[18:22:23] <doy> what do you mean by "a level beneath oneself"
[18:22:31] <steven_is_false> doy: No it was pointing to a subfield of itself.
[18:22:40] *** Joins: jviereck (Adium@moz-71F6F35C.dynamic.hispeed.ch)
[18:22:59] <doy> the subfield isn't a pointer
[18:23:01] *** Joins: blitter (blitter@moz-7C98731E.dyn.centurytel.net)
[18:23:05] <doy> so it is part of itself
[18:23:35] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Ping timeout)
[18:23:42] <doy> if you declare it as ~uint, it would probably work, i think
[18:23:59] <steven_is_false> doy: But as a subfield it can't lead to a cycle. Let me work on a code snippet that shows what I mean.
[18:24:00] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[18:24:20] *** Quits: pcwalton (pcwalton@43CB6079.66715431.D25A875A.IP) (Quit: pcwalton)
[18:24:27] <doy> it is a cycle though
[18:24:36] <doy> just a cycle with only a single actual node
[18:24:41] <doy> pointing back to itself
[18:24:45] <doy> that's still a cycle
[18:25:01] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Quit: leaving)
[18:25:02] *** Joins: pcwalton (pcwalton@43CB6079.66715431.D25A875A.IP)
[18:25:02] *** ChanServ sets mode: +o pcwalton
[18:25:05] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[18:25:05] *** ChanServ sets mode: +o brson
[18:25:15] <brson> i'll look into the failures on incoming
[18:26:12] <steven_is_false> doy: It's like my weird list implemention here https://gist.github.com/sstewartgallus/5414180 There is no cycle because the size decreases every level.
[18:26:33] <brson> graydon: do you think there's any hope of running the full test suite on auto before merging?
[18:26:50] <brson> maybe we can split x86_64 and i686 into their own bots
[18:26:54] <graydon> brson: what do you mean "full"?
[18:26:58] <graydon> 64 and 32?
[18:27:06] <brson> graydon: run the same thing on incoming as auto
[18:27:15] <brson> right now we don't valgrind and we don't i686
[18:27:15] <graydon> I think valgrind is the big difference, no?
[18:27:21] <graydon> i686 as well, mm
[18:27:25] <graydon> I'm all in favour :)
[18:27:39] <graydon> but I think there was ... some disagreement about it. like it wasn't keeping up when we first did that.
[18:27:49] *** Joins: erickt (Adium@moz-6A641B4B.maine.res.rr.com)
[18:28:24] <steven_is_false> doy: Consider a skip list datastracture implemented similar to my gist implementing arrays as nonprimitive types.
[18:28:41] <steven_is_false> doy: In that case one might want to have pointers to subfields.
[18:28:59] <steven_is_false> doy: But It'd be safe because the size of the data types would be decreasing.
[18:29:27] *** Joins: bnicholson (bnicholson@2557E599.66715431.D25A875A.IP)
[18:29:37] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[18:29:37] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/Owti5w
[18:29:37] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[18:30:11] <doy> well, you may need to talk to someone who knows more about the type system than me(:
[18:30:45] <steven_is_false> doy: Okay, thanks for your help though.
[18:30:51] <otters> rats, there's no map_consume for result
[18:31:02] <steven_is_false> doy: Who do you think it'd be best for me to talk to?
[18:31:37] <doy> not sure, nmatsakis maybe?
[18:31:55] <otters> okay I'm confused by rust again
[18:32:08] <nmatsakis> what is the question?
[18:32:21] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[18:32:21] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/JfEOqg
[18:32:21] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[18:32:22] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[18:32:22] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/6zpYvA
[18:32:22] <ghrust> 13rust/06auto 14502817a 15Seo Sanghyeon: Fix cross-crate packed structs
[18:32:22] <ghrust> 13rust/06auto 14a5891be 15bors: auto merge of #6265 : sanxiyn/rust/xc-packed, r=nikomatsakis
[18:32:22] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[18:32:24] <otters> hang on I will pastebin
[18:32:31] <nmatsakis> doy: steven_is_false: also what is your question?
[18:32:33] <otters> gist actually
[18:32:39] *** Quits: jack (jack@EF36212C.8FA609AD.840029BC.IP) (Quit: Leaving.)
[18:32:39] <steven_is_false> nmatsakis: I'll explain.
[18:33:31] <steven_is_false> nmatsakis: As I understand it, a data structure that does not use managed pointers pointing to itself is unsafe but a datastructure with pointers pointing to a subfield of itself should be safe.
[18:34:08] <steven_is_false> nmatsakis: I might be wrong but I can't figure out why.
[18:34:35] *** Joins: Jesse_ (jruderman@moz-C03D0C61.vlan426.asr1.sfo1.gblx.net)
[18:34:37] *** Quits: Jesse (jruderman@moz-C03D0C61.vlan426.asr1.sfo1.gblx.net) (Connection reset by peer)
[18:34:54] *** Joins: mschifer1 (Adium@2557E599.66715431.D25A875A.IP)
[18:35:11] *** Joins: jack (jack@EF36212C.8FA609AD.840029BC.IP)
[18:35:18] <nmatsakis> steven_is_false: barring complications with moving GCs or something that's reasonable, but it's not something our type system is designed to handle
[18:35:33] <otters> https://gist.github.com/joelteon/22c8eb3097593097174c
[18:35:55] <otters> should I just pattern match on the result?
[18:36:11] *** Quits: Jesin (Jessin_@moz-A03A364F.cc.lehigh.edu) (Ping timeout)
[18:36:27] <steven_is_false> nmatsakis: Okay, I guess I could file an issue then. If I do I guess I'll have to make sure to give a convincing use case.
[18:36:30] *** Quits: mschifer (Adium@43CB6079.66715431.D25A875A.IP) (Ping timeout)
[18:37:26] <otters> omg I could just make the argument |&sk| instead of |sk|
[18:37:30] <nmatsakis> steven_is_false: I can imagine it'd be useful, and it's interesting to think about, but I have to tell you that I think this is something we will not even consider until post Rust 1.0...
[18:38:01] <nmatsakis> steven_is_false: ...just because it sounds like a not-insignificant change to the type system and there is a lot to do yet :)
[18:38:06] *** Joins: khyperia (khyperia@moz-AF00B41A.hsd1.in.comcast.net)
[18:38:24] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[18:39:08] <steven_is_false> nmatsakis: That's fair enough. I mean the thing I really most want to happen is the debug info stuff, and the rust package system. This was just an interesting problem I discovered.
[18:39:42] *** Joins: Jesin (Jessin_@moz-A03A364F.cc.lehigh.edu)
[18:39:43] <khyperia> Hello, I'm looking for the best / most commonly used development tool for Rust (I'm on windows). Any suggestions?
[18:40:20] <steven_is_false> khyperia: You mean, IDE right? As opposed to the basic tools like rustc.
[18:40:26] <khyperia> yeah
[18:40:28] *** Quits: josh (josh@moz-299FF8FF.fw.nyc2.appnexus.com) (Quit: josh)
[18:40:45] <mcpherrin> khyperia: The tooling for rust is fairly immature.  You're basically limited to syntax hilighting in a few editors (Vim, Emacs, and maybe a handful more)
[18:41:23] <khyperia> Dang. I was afraid of hearing that.
[18:41:37] <mcpherrin> And Rust on Windows is a huge pain right now too
[18:41:58] <otters> where do we bug report?
[18:42:09] <mcpherrin> otters: on the rust github bug tracker
[18:42:11] <otters> oh
[18:42:32] <steven_is_false>  nmatsakis Thank you for your time.
[18:42:34] <khyperia> I did discover this Rusty Cage plugin for Eclipse, but there seems to be utterly zero documentation on how to install it.
[18:42:43] <nmatsakis> steven_is_false: np :) 
[18:43:48] *** Joins: josh (josh@moz-299FF8FF.fw.nyc2.appnexus.com)
[18:45:07] *** Quits: jack (jack@EF36212C.8FA609AD.840029BC.IP) (Quit: Leaving.)
[18:45:24] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[18:48:10] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:48:13] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[18:48:28] <strcat> heh, that zip thing turned into quite the thread
[18:50:39] <graydon> ML threads are getting bigger and bigger lately
[18:52:11] *** Quits: rbancroft (rumble@moz-4E8E0D7F.cg.shawcable.net) (Ping timeout)
[18:53:21] <strcat> oh I should add my nightly build repo to that page on the wiki
[18:53:41] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:53:53] <strcat> huh. where was rusti?
[18:53:54] <strcat> ;\
[18:54:00] <strcat> rusti: 2 + 2
[18:54:01] <rusti> 4
[18:54:18] <thiez> strcat: I just read #6239 (intrinsic for calling a type's destructor) and I was wondering what you meant. Do you wish to call a finalizer on an object that is still alive?
[18:54:32] <strcat> thiez: yes
[18:54:39] <strcat> for example behind an * in a smart pointer implementation
[18:54:39] *** Joins: jack (jack@EF36212C.8FA609AD.840029BC.IP)
[18:55:09] <strcat> without having to do 'let mut x = init(); swap(&mut x, &mut *ptr); free(ptr)'
[18:55:36] <strcat> just 'early_drop(*ptr); free(ptr)' - would be much faster
[18:55:57] <thiez> can't you simply cast the pointer to ~something and move it into an empty function?
[18:56:25] <strcat> it doesn't want exchange_free, it wants free
[18:56:43] <strcat> or whatever or allocator you're choosing to use 
[18:56:46] <strcat> other*
[18:57:36] <strcat> rust-dev was actually the busiest mailing list of the ones I'm subscribed to overnight ;p
[18:59:27] <thiez> I don't much like the zip-thread, I've grown rather attached to the haskell-version of zip
[18:59:28] *** Quits: Jesse_ (jruderman@moz-C03D0C61.vlan426.asr1.sfo1.gblx.net) (Quit: Jesse_)
[18:59:31] <ssbr> (asking again) -- where should I find out about things like assert_eq!() ?
[18:59:52] <strcat> thiez: I like it because it's fast and not picky ;p
[18:59:52] <nmatsakis> ssbr: I don't know that they are documented
[19:00:10] <ssbr> nmatsakis: are they all grouped together somewhere nicely in the source? :(
[19:00:18] <strcat> I think if something fails, LLVM will have trouble reducing the composed adaptors to 1 loop
[19:00:22] <EXetoC> libsyntax/ext/expand.rs
[19:00:22] * khyperia wishes badly for autocomplete
[19:00:25] <strcat> skip/skip_while are already too big :(
[19:00:27] <thiez> strcat: I don't like where it is heading :D
[19:00:44] <strcat> thiez: post then :)
[19:00:56] *** Quits: posco (oscarboyki@636AC086.5999CED5.71743E61.IP) (Ping timeout)
[19:01:02] <strcat> nmatsakis: did you look at https://github.com/mozilla/rust/pull/6251 ?
[19:02:16] <strcat> graydon: is it possible for a condition to *not* fail by default?
[19:02:20] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Computer has gone to sleep.)
[19:02:36] <steven_is_false> nmatsakis: Okay, the subfield problem I'm thinking about is really complicated. I'm going to have a snack and think about it.
[19:02:46] <graydon> strcat: not presently, but it'd be a reasonable addition to the macro that declares conditions
[19:02:53] * strcat has a feeling LLVM won't like TLS in iterator bodies though :(
[19:02:57] <graydon> there are a bunch of fixes to conditions queued up. that's clearly one of them.
[19:03:07] <pcwalton> yeah, I share strcat's worry.
[19:04:24] <strcat> the problem compared to internal iterators is that the next() call is actually only a single iteration
[19:04:46] <strcat> so if there's a condition trap check, it's on every iteration
[19:04:53] *** Quits: steven_is_false (quassel@moz-144077DE.bchsia.telus.net) (Ping timeout)
[19:05:05] * strcat doesn't know the details of that anyway
[19:05:08] *** Joins: joshua_ (joshua@moz-45967CBE.emarhavil.com)
[19:05:08] *** Quits: erickt (Adium@moz-6A641B4B.maine.res.rr.com) (Quit: Leaving.)
[19:08:17] <jack> am i going crazy, or did github issues remove the search box?
[19:08:31] *** Joins: posco (oscarboyki@636AC086.5999CED5.71743E61.IP)
[19:08:33] *** Quits: akashj87 (akash@20504158.7FACFDC5.35E3DDC8.IP) (Ping timeout)
[19:08:33] <strcat> jack: I think it's on the left
[19:08:45] <strcat> unless they changed the css yet again
[19:09:05] <strcat> hmm... it's gone
[19:09:24] <jack> the top of the page search (even on the issues page) is completely useless
[19:09:39] <jack> i suppose i better get used to ghi
[19:09:43] <strcat> jack: looks like they merged it :(
[19:09:56] <strcat> jack: if you hit ? you get a keyboard shortcuts list
[19:10:06] <strcat> and there's a / binding for issue search.... focusing the top search box now
[19:10:16] <nmatsakis> jack: yeah it's annoying.
[19:10:29] *** Quits: khyperia (khyperia@moz-AF00B41A.hsd1.in.comcast.net) (Quit: Leaving)
[19:10:42] <jack> the first 5 results i get for "lint" are not even things from the rust repo
[19:10:58] <jack> even though it specifically has the pull down set to "this repo"
[19:11:10] <strcat> yeah it shows me random things I've contributed to
[19:11:21] <strcat> also their fuzzy search.... is really bad
[19:11:25] <strcat> lint -> linguist
[19:11:31] <strcat> because all it cares about is the order the letters appear
[19:11:38] <strcat> lin-ignoreallthis-t ;p
[19:12:04] <strcat> lint -> blake winton, too
[19:12:33] <strcat> and franck lecollinet
[19:12:36] * strcat sighs
[19:12:36] *** Quits: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[19:12:47] *** Quits: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[19:13:15] <jack> that's better for you at least. metajack/lein-cljsbuild is #1 for lint for me
[19:13:24] <jack> it must be matching on the description too
[19:13:27] *** Joins: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP)
[19:13:53] *** Joins: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP)
[19:15:13] <strcat> jack: yeah, it does
[19:15:27] <strcat> it just sees l-in and then t somewhere :)
[19:15:37] <strcat> I noticed their weird fuzzy search with their file search before
[19:15:42] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:16:17] *** Joins: lkuper (lkuper@99346DF3.FFCF2A3B.51B6877.IP)
[19:17:00] *** Joins: isaac (Mibbit@moz-F5F497CA.dyn.grandenetworks.net)
[19:17:48] <isaac> Hi #rust, I'm getting build errors because of the make rule targeting doc/rust.css...is there anyway to build without generating docs?
[19:18:45] <isaac> Is it just rustc?
[19:21:08] *** Quits: josh (josh@moz-299FF8FF.fw.nyc2.appnexus.com) (Quit: josh)
[19:21:10] *** Quits: pnkfelix|rcirc (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net) (Quit: rcirc on GNU Emacs 24.2.1)
[19:21:24] *** Joins: Jesse (jruderman@moz-BE33DA21.fw1.sfo1.mozilla.net)
[19:21:37] <jack> oh, and ghi can't search. so ugh.
[19:21:52] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[19:22:30] <brson> isaac: `make rustc` is a target that might work, but I never use it, so it may not
[19:22:46] <brson> isaac: I thought I fixed that doc build error. it might go away if you upgrade to the latest incoming
[19:23:16] *** Joins: josh (josh@moz-299FF8FF.fw.nyc2.appnexus.com)
[19:23:33] <brson> hm, the *one* test of std::ebml is failing on i686. that's a bad sign
[19:23:42] *** Quits: jviereck (Adium@moz-71F6F35C.dynamic.hispeed.ch) (Quit: Leaving.)
[19:24:21] <isaac> brson: Thanks, I'll try that.
[19:25:05] <ssbr> EXetoC: thanks for the help
[19:25:28] <ssbr> sorry, I was pulled away just as I was going to thank you before
[19:25:33] <ssbr> it was what I wanted to see :)
[19:26:19] *** Joins: int3_ (int3_@moz-F22B16C8.subnet-248.amherst.edu)
[19:26:32] *** Quits: pnkfelix (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net) (Quit: Leaving.)
[19:26:39] *** Quits: jensnockert (jensnocker@moz-C2088C23.mobileonline.telia.com) (Input/output error)
[19:26:50] <EXetoC> alright c(:)
[19:27:37] <ssbr> Writing tests with #[test] is interesting. Are there plans to have something more xUnit-y in the future?
[19:28:01] *** Quits: int3_ (int3_@moz-F22B16C8.subnet-248.amherst.edu) (Ping timeout)
[19:28:04] <ssbr> It looks as if such a thing would be possible for users to define with a macro, so that it's probably not important
[19:28:16] <ssbr> (or should be)
[19:29:42] *** Joins: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net)
[19:30:26] <bstrie> pcwalton: https://github.com/mozilla/rust/issues/5050 is closable because you can no longer implement traits on &things, right?
[19:30:41] <pcwalton> no, you can
[19:30:58] <bstrie> hmm
[19:31:20] <brson> ssbr: I would like the infrastructure supporting #[test] to be reusable for other test frameworks, but don't have any specific plans
[19:31:22] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Client exited)
[19:32:13] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[19:32:13] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/6zpYvA
[19:32:13] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[19:32:20] *** Joins: steven_is_false (quassel@moz-144077DE.bchsia.telus.net)
[19:34:37] *** Quits: lkuper (lkuper@99346DF3.FFCF2A3B.51B6877.IP) (Ping timeout)
[19:35:17] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[19:35:17] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/9LFzaA
[19:35:17] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[19:37:35] <EXetoC> "let mut (a,b) = foo(); (a,b) = foo();" is using 'match' the only way to make the second expression compile?
[19:37:58] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[19:38:19] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[19:38:27] *** Joins: tcsc (tcsc@moz-A838B260.dhcp.nwtn.ct.charter.com)
[19:40:43] <brson> so many pull requests
[19:41:15] *** Quits: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net) (Quit: jorendorff)
[19:42:04] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:42:41] *** Joins: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net)
[19:43:33] *** Joins: jviereck (Adium@moz-71F6F35C.dynamic.hispeed.ch)
[19:44:03] <ssbr_> What does this error mean / what do I do to fix it? http://bpaste.net/show/1CdyUwApI8BirL2KFfYi/
[19:44:11] <EXetoC> actually, it might be possible, assuming that 'let' works the way I think it does. will try it out and see
[19:44:14] <ssbr_> I don't know what "uniq" is :S
[19:44:35] <bstrie> EXetoC: you can also just redeclare them with let, yeah
[19:45:35] *** Joins: eholk (eholk@moz-4E33D4F.wavecable.com)
[19:45:53] <ssbr> brson: That's fair. I don't have any specific suggestions, after all. :(
[19:46:54] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:47:21] <bstrie> ssbr_: is uniq just a type somewhere in the compiler?
[19:48:08] <ssbr> bstrie: I don't know. Googling gave me https://github.com/mozilla/rust/blob/master/src/librustc/middle/trans/uniq.rs
[19:48:58] *** Joins: cc (cc@moz-9962C9F4.rev.numericable.fr)
[19:54:24] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:55:11] *** Joins: guitsaru (guitsaru@10BE83CF.5DF68D0E.4C2245EF.IP)
[19:55:23] *** Quits: guitsaru_ (guitsaru@10BE83CF.5DF68D0E.4C2245EF.IP) (Ping timeout)
[19:56:31] <otters> so for and do are the same thing, except a do returns something?
[19:56:42] <strcat> otters: they're not quite the same
[19:56:47] <strcat> do passes a block as a closure
[19:56:54] <strcat> can have any signature and return type
[19:56:57] <otters> oh
[19:57:02] <strcat> for implements the looping protocol
[19:57:06] *** Quits: philix (philix@moz-451739D3.user.veloxzone.com.br) (Quit: philix)
[19:57:08] <otters> oh I see
[19:57:12] <strcat> a function with any parameters, that returns bool
[19:57:19] <strcat> fn() -> bool
[19:57:31] <strcat> for 5.times { print("foo ") }
[19:57:37] <strcat> rusti: for 5.times { print("foo ") }
[19:57:38] <rusti> foo foo foo foo foo
[19:57:43] <strcat> rusti: do 5.times { print("foo "); true }
[19:57:44] <rusti> foo foo foo foo foo
[19:57:52] <strcat> the bool is whether to keep going
[19:57:56] <strcat> 'break' in for returns false
[19:58:27] <otters> oh, I see
[20:00:08] *** Quits: Mowah (Mowah@moz-59D1A475.cust.bredbandsbolaget.se) (Ping timeout)
[20:00:16] *** Quits: doy (doy@moz-5FE28A32.akrasiac.org) (Ping timeout)
[20:00:39] *** Joins: doy (doy@moz-5FE28A32.akrasiac.org)
[20:01:57] *** Quits: eholk (eholk@moz-4E33D4F.wavecable.com) (Quit: eholk)
[20:03:02] *** Quits: alexrp (zor@moz-180BED6.rfw.name) (Ping timeout)
[20:03:12] *** Joins: wunki (wunki@moz-D4C0427D.cm-6-7d.dynamic.ziggo.nl)
[20:03:50] <bstrie> nmatsakis: what's left to do on https://github.com/mozilla/rust/issues/2202 ?
[20:04:16] <nmatsakis> bstrie: I'll add a comment 
[20:04:20] <bstrie> ok
[20:04:26] *** Quits: isaac (Mibbit@moz-F5F497CA.dyn.grandenetworks.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:04:45] <nmatsakis> graydon: pcwalton: brson: I'd like to ask your opinion.
[20:04:57] <pcwalton> sure
[20:04:59] *** Quits: wunki (wunki@moz-D4C0427D.cm-6-7d.dynamic.ziggo.nl) (Quit: Bye)
[20:05:00] *** Quits: KindOne (KindOne@moz-AAA92C5A.dynamic.ip.windstream.net) (Ping timeout)
[20:05:01] *** Joins: wunki (wunki@moz-D4C0427D.cm-6-7d.dynamic.ziggo.nl)
[20:05:07] <nmatsakis> the borrowck stuff seems ready to land except for the fact that perf of the dataflow code is problematic
[20:05:10] <nmatsakis> I have some ideas how to fix it
[20:05:12] *** Quits: wunki (wunki@moz-D4C0427D.cm-6-7d.dynamic.ziggo.nl) (Quit: Bye)
[20:05:17] <nmatsakis> but I'm wondering if it would be beter to land now and fix afterwards
[20:05:21] <pcwalton> ship it
[20:05:40] <nmatsakis> ok, we're talking about ~10-15s in an unopt build, ~2-3 in an opt build when building rustc
[20:05:46] <nmatsakis> (on my computer, anyway)
[20:05:49] *** Joins: dymk (dymk@44EEE21C.A6E21E6E.5E500FC7.IP)
[20:05:51] <pcwalton> 2-3 seconds in an opt build?
[20:05:55] <nmatsakis> yes
[20:05:58] <pcwalton> who cares :)
[20:06:07] <nmatsakis> up from 0.2 before :)
[20:06:09] <pcwalton> (OK, that was flippant)
[20:06:09] *** Joins: KindOne (KindOne@moz-AAA92C5A.dynamic.ip.windstream.net)
[20:06:13] <nmatsakis> but I am pretty sure I know how to fix it
[20:06:15] *** Joins: alexrp (zor@moz-180BED6.rfw.name)
[20:06:23] <nmatsakis> just that it's not 2 lines of code
[20:06:35] <nmatsakis> pcwalton: ok, that's kind of how I feel
[20:06:42] <nmatsakis> this branch has gone on long enough :)
[20:06:50] *** Joins: rbancroft (rumble@moz-4E8E0D7F.cg.shawcable.net)
[20:06:57] <ssbr_> Is this a bug in rust? http://bpaste.net/show/W9ZoxmnMqvMnZ3vvdWzz/
[20:07:25] <pcwalton> looks like it
[20:07:52] <ssbr_> OK, I'll quickly look on the bug tracker and file a report if I don't see this somewhere else already
[20:08:03] <ssbr_> can you recommend a workaround to pattern match against the empty vec?
[20:08:03] *** Quits: dymk (dymk@44EEE21C.A6E21E6E.5E500FC7.IP) (Connection reset by peer)
[20:08:05] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[20:08:09] *** Quits: KindOne (KindOne@moz-AAA92C5A.dynamic.ip.windstream.net) (Ping timeout)
[20:08:15] *** Joins: wunki (wunki@moz-D4C0427D.cm-6-7d.dynamic.ziggo.nl)
[20:08:30] <strcat> nmatsakis: I think Send was actually a better name for Owned
[20:08:36] <nmatsakis> ssbr_: the syntax omits the sigil
[20:08:38] <bstrie> ssbr_: can you do `foo.len() == 0` ?
[20:08:40] <nmatsakis> ssbr_: MyStruct([])
[20:08:48] <nmatsakis> ssbr_: 
[20:08:51] <nmatsakis> (oops)
[20:08:52] <strcat> ARC isn't "owned" but it has to be sendable
[20:09:03] <nmatsakis> ssbr_: specifically when matching vectors
[20:09:13] <nmatsakis> ssbr_: (I think we eventually plan to do the same when matchin strings)
[20:09:22] <graydon> nmatsakis: that is _so_ tolerable
[20:09:36] <ssbr_> nmatsakis: Oh, OK, that's weird.
[20:09:49] <ssbr_> Sorry for the false alarm.
[20:09:53] <nmatsakis> ssbr_: it works against any sort of vector, ~[], &[], @[] etc
[20:10:08] <nmatsakis> but it ... is a bit inconsistent.
[20:10:20] <graydon> nmatsakis: for the scope of changes involved. we're not in "must get faster or can't land" territory yet. the GC, the IO layer, and several other disruptive shifts to trans, linkage, codegen and such will likely bounce perf around substantially
[20:10:29] <nmatsakis> graydon: yeah ok.
[20:10:36] *** Quits: wunki (wunki@moz-D4C0427D.cm-6-7d.dynamic.ziggo.nl) (Quit: Bye)
[20:10:40] <nmatsakis> graydon: as it happens the fix is a refactoring I want to do anyway, so that liveness+borrowck can share code
[20:10:46] <nmatsakis> at least I believe that is the case
[20:10:50] <nmatsakis> based on perf measurements
[20:11:00] *** Joins: wunki (wunki@moz-D4C0427D.cm-6-7d.dynamic.ziggo.nl)
[20:11:19] *** Quits: mzabaluev (mzabaluev@moz-91FFD755.dhcp.inet.fi) (Quit:    )
[20:11:31] <ssbr_> I guess I'm not used to how ~[...] and so on are different types and not just a ~ combined with a [...]
[20:11:36] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[20:11:37] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[20:11:49] <nmatsakis> ssbr_: yes. this may change...if my proposal works out...
[20:12:01] <bstrie> ssbr_: yes, land borrowck so that you can work on that :)
[20:12:03] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[20:12:08] <bstrie> er, nmatsakis :P
[20:12:15] <pcwalton> I'll perhaps be trying to pick it up too
[20:12:51] <pcwalton> I would like ~ to be nothing more than syntactic sugar for a struct in the standard library
[20:12:52] <ssbr_> nmatsakis: then I wish you good luck with that! :)
[20:12:54] <bstrie> I'll enjoy not having to say "strings and vectors in rust are weird" ever again
[20:13:30] <ssbr_> Still, aside from minor issues like these, rust is really pleasant to program in.
[20:14:01] <graydon> did .. github just decide to remove search from issue tracker?
[20:14:04] <graydon> for some reason?
[20:14:11] <cmr> ssbr_: it's just that the minor issues are legion
[20:14:25] <bstrie> graydon: consolidated it up in the top bar, I think
[20:14:54] <nmatsakis> graydon: pcwalton: ok then the last question is whether I should try to clean up the commit history, or just leave it as a mess. I guess we said a mess at the meeting, but I'm having a hard time bring myself to do that :)
[20:14:59] <pcwalton> mess
[20:15:01] <pcwalton> :)
[20:15:01] <graydon> ssbr: fwiw the team (or at least I) really appreciate knowing that! it's easy to hear -- due to the selective reporting of bugs-and-critiques-made -- that everyone is upset with it :)
[20:15:05] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Connection reset by peer)
[20:15:22] <graydon> mess is ok
[20:15:48] * nmatsakis gives up :)
[20:15:50] <cmr> I'm coming to love rust. It's a very good language, even in its toddler state
[20:16:12] <ssbr_> graydon: I suspected something like that would be the case
[20:16:16] <johnmurray> cmr: agreed :]
[20:16:30] <bjz> rust is great!
[20:17:05] <ssbr_> But no, the language "feels natural". Things like borrowed pointers work exactly as one would expect. #rust is fantastically helpful and kind.
[20:17:10] <ssbr_> Seriously feel proud :)
[20:17:10] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[20:17:11] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 146da36fe to 14a5891be: 02http://git.io/N3iJvQ
[20:17:11] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[20:17:12] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[20:17:12] <ghrust> 01[13rust01] 15bors pushed 12 new commits to 06auto: 02http://git.io/2BAiLQ
[20:17:12] <ghrust> 13rust/06auto 14dca8870 15Young-il Choi: mk: install-runtime-target added to install.mk (pushing shared library to android target)
[20:17:12] <ghrust> 13rust/06auto 1457c126e 15Young-il Choi: mk: test.mk expanded to ARM test automation
[20:17:12] <ghrust> 13rust/06auto 14f7ef71d 15Young-il Choi: compiletest: expanded to ARM test automation
[20:17:15] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[20:17:37] <Diablo-D3> hrm
[20:17:45] <ssbr_> I'm really surprised by how long it took to feel at ease in rust (like, a day.)
[20:17:50] <Diablo-D3> why the hell does erlang keep interesting me
[20:18:40] <graydon> huh. anyone know where the raw-strings bug is? or if I even .. wrote it up?
[20:18:43] <graydon> it's on the roadmap, weirdly
[20:18:44] <graydon> hmm
[20:19:15] <bstrie> Diablo-D3: it must be because erlang is interesting :)
[20:20:16] <Diablo-D3> yeah =/
[20:22:56] <ssbr_> OK, what about this: http://bpaste.net/show/IXyFn60MByTNxgIC3cng/
[20:23:16] <jaen> it just has to have prolog inspired syntax though ; /
[20:23:54] <EXetoC> bstrie: yes, but re-declaring in a nested scope will create a new var, so 'match' it is.
[20:23:58] <cmr> ssbr_: sure you don't just want a = MyStruct(2) ?
[20:24:01] *** Quits: jviereck (Adium@moz-71F6F35C.dynamic.hispeed.ch) (Quit: Leaving.)
[20:24:05] *** Quits: berak (chatzilla@6C80668B.3A27401E.16E13E53.IP) (Quit: .. too much fighting on the dancefloor ..)
[20:24:29] <ssbr_> cmr: yeah, I'm sure. I actually have Thread(pc, sp) = ready.pop()
[20:24:39] <ssbr_> and then I want to be able to rebind both pc and sp
[20:25:14] *** Quits: guitsaru (guitsaru@10BE83CF.5DF68D0E.4C2245EF.IP) (Client exited)
[20:25:16] <ssbr_> but I can't get it to work :(
[20:25:30] <cmr> there was a function somewhere to squelch those sorts of errors
[20:25:57] <strcat> graydon: hmm, what happens if someone puts @ in an alternate vector/string implementation or another smart pointer?
[20:25:59] <ssbr_> well I could do let mut a = -1; MuStruct(a) = ...
[20:26:01] <strcat> that seems bad
[20:26:08] <ssbr_> but maybe "MyStruct(a) = ..." doesn't do what I think it does?
[20:26:09] <strcat> I guess they really do need an Owned bound
[20:26:25] <strcat> I think it would be nice to separate sendable from managed
[20:26:30] *** Joins: guitsaru (guitsaru@10BE83CF.5DF68D0E.4C2245EF.IP)
[20:27:16] <Diablo-D3> well Im listening to a talk about erlang otp
[20:27:31] <ssbr_> oh, heh, if I do that I get "assigning to non-lvalue"
[20:27:37] <Diablo-D3> http://www.infoq.com/presentations/Erlang-OTP-Behaviors
[20:27:41] <strcat> or.... I guess using ~ handles that for me
[20:27:55] <strcat> but having two headers is a shame ;p
[20:28:03] <ssbr_> so I guess I have to do "let MyStruct(a) = MyStruct(2); let mut a = a;"
[20:28:23] *** Quits: catpig (catpig@moz-D49D45E6.dip0.t-ipconnect.de) (Quit: Verlassend)
[20:28:28] *** Joins: catpig (catpig@moz-D49D45E6.dip0.t-ipconnect.de)
[20:28:35] <strcat> yeah mut doesn't work in patterns right now
[20:28:58] <strcat> I think it should work in closure arguments and patterns like it does in function arguments
[20:29:10] <ssbr_> strcat: Makes sense to me.
[20:31:48] *** Quits: wunki (wunki@moz-D4C0427D.cm-6-7d.dynamic.ziggo.nl) (Ping timeout)
[20:32:01] *** Joins: akashj87 (akash@D39F90CD.B8B0670E.35E3DDC8.IP)
[20:33:16] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Quit: dherman)
[20:33:20] *** Quits: guitsaru (guitsaru@10BE83CF.5DF68D0E.4C2245EF.IP) (Client exited)
[20:33:43] <ssbr_> woo, super basic backtracking regexps
[20:36:04] <pcwalton> cool!
[20:36:21] *** Quits: cc (cc@moz-9962C9F4.rev.numericable.fr) (Ping timeout)
[20:36:21] *** Joins: cc_ (cc@moz-9962C9F4.rev.numericable.fr)
[20:37:15] *** Joins: strcat1 (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[20:37:39] <strcat1> rusti: 1
[20:37:50] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[20:38:15] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[20:38:48] *** strcat1 is now known as strcat
[20:39:07] * strcat doesn't understand wifi :(
[20:39:36] <strcat> it used to just lag and keep going.... now the connection dies immediately
[20:39:44] <indutny> nmatsakis: sorry
[20:39:46] <indutny> I was afk
[20:39:48] <indutny> one sec
[20:40:00] <acrichto_> ssbr_: you can write "let mut MyStruct(a) = MyStruct(2)" to make 'a' mutable, although it also makes all other bindings in the pattern mutable (https://gist.github.com/alexcrichton/5527999)
[20:40:02] *** Quits: josh (josh@moz-299FF8FF.fw.nyc2.appnexus.com) (Quit: josh)
[20:40:09] <indutny> https://gist.github.com/indutny/9b20a155d6307155424e
[20:40:11] <indutny> nmatsakis: ^
[20:40:21] <indutny> more specifically https://gist.github.com/indutny/9b20a155d6307155424e#file-1-rs-L121
[20:41:02] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[20:41:02] *** ChanServ sets mode: +o dherman
[20:42:08] *** Joins: KindOne (KindOne@moz-AAA92C5A.dynamic.ip.windstream.net)
[20:43:20] <indutny> impure due to access to impure function
[20:43:27] <indutny> illegal borrow unless pure: unique value in aliasable, mutable location
[20:43:30] *** Quits: maxli (maxli@F2D29657.F60B0462.67AC9B1.IP) (Quit: Leaving.)
[20:43:55] *** Quits: akashj87 (akash@D39F90CD.B8B0670E.35E3DDC8.IP) (Ping timeout)
[20:44:07] <indutny> anyway
[20:44:17] <indutny> what's the best way to implement graph of mutable nodes?
[20:44:33] <strcat> do the nodes have a unique key?
[20:44:44] <indutny> strcat: unique key?
[20:44:52] <strcat> like a name, or an id
[20:44:58] *** Quits: sully (sully@moz-45967CBE.emarhavil.com) (Ping timeout)
[20:45:03] <indutny> they could have
[20:45:08] <indutny> but I don't want to use hashmaps
[20:45:14] <indutny> or external lists
[20:45:23] *** Joins: sully (sully@moz-45967CBE.emarhavil.com)
[20:45:35] <strcat> what kind of graph is it?
[20:45:36] <indutny> is - struct Node { children: ~[@mut Node] } that bad?
[20:45:40] <indutny> strcat: CFG
[20:45:47] <strcat> indutny: well depends on what you want to do
[20:45:55] <indutny> I want to traverse it :)
[20:46:33] <strcat> if you just build and traverse that's probably fine
[20:46:40] <indutny> well
[20:46:46] *** Joins: akashj87 (akash@DB171789.BCAFA986.35E3DDC8.IP)
[20:46:47] <indutny> changing nodes is important as well
[20:47:07] <indutny> just FYI, I'm implementing linear scan register allocator
[20:47:27] <indutny> so, as you can imagine, a lot of changes are required to block's (nodes) and their contents
[20:47:47] <indutny> :)
[20:48:22] <otters> so a for-loop's body HAS to return ()
[20:49:19] <indutny> strcat: have you seen my code?
[20:49:45] <strcat> indutny: no, I haven't
[20:49:46] <cmr> otters: http://static.rust-lang.org/doc/rust.html#for-expressions
[20:50:09] <otters> why do error messages about unknown types say stuff like "expected ~[u8] but got &<V36>"
[20:50:14] <strcat> indutny: if you want to change specific nodes and you have a key, I really think you want a map
[20:50:16] <otters> what's V36
[20:50:22] <strcat> indutny: if they're all small ids, you could just use SmallIntMap
[20:50:31] <strcat> it's just an array of Option's up to the highest key
[20:50:38] <indutny> strcat: well, its two lookups
[20:50:47] <indutny> and doesn't really looks good...
[20:50:52] <indutny> but its probably it
[20:50:54] <strcat> a lookup in SmallIntMap is cheaper than a pointer traversal
[20:51:02] <indutny> hm...
[20:51:08] <indutny> right
[20:51:21] <indutny> I think I can just put them in a list
[20:51:25] <indutny> and use indexes
[20:51:31] <strcat> well that's what SmallIntMap is :)
[20:51:42] <indutny> well, I'm putting them in a list anyway :)
[20:51:45] <strcat> ah
[20:51:48] <indutny> in order of creation
[20:52:07] <indutny> I just want to figure out what I'm doing wrong
[20:52:15] <indutny> and probably move to SmallIntMap or whatever
[20:52:26] <indutny> that's what I'm getting right now: "illegal borrow unless pure: unique value in aliasable, mutable location"
[20:52:34] <indutny> and also "impure due to access to impure function"
[20:52:43] <nmatsakis> otters: <Vxxx> refers to a type that is being iferrred
[20:52:51] <nmatsakis> otters: *inferred
[20:53:32] <nmatsakis> otters: it's a crummy message---actually you could file a bug, it typically shouldn't be printing such types but rather substituting whatever it has managed to infer thus far
[20:54:22] <otters> fair enough
[20:55:00] <nmatsakis> indutny: sorry, didn't get a chance to look at those gists, can you resend
[20:55:00] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[20:55:02] *** Quits: akashj87 (akash@DB171789.BCAFA986.35E3DDC8.IP) (Ping timeout)
[20:55:12] <indutny> https://gist.github.com/indutny/9b20a155d6307155424e#file-1-rs-L121
[20:55:16] <indutny> nmatsakis: np
[20:55:59] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Leaving...)
[20:56:17] <nmatsakis> indutny: yeah, that's a known bug, what you probably want to do is create a temporary like "let block = &mut *self.block; block.successors..."
[20:56:28] <indutny> oh gosh :)
[20:56:29] <nmatsakis> indutny: there's a PR pending that should fix that... 
[20:56:34] <indutny> ok
[20:56:54] <strcat> brson: I'm not really sure how to use ~ for the refcounted ptrs since it will implicitly get destroyed (and it's probably not a good idea to break the aliasing guarantee)
[20:57:27] *** Joins: lkuper (lkuper@moz-D6AAFF3.cs.indiana.edu)
[20:57:33] <strcat> I think I'll just bring up Managed/NonManaged traits later
[20:58:09] <strcat> otherwise I can't see leaving out the Owned bound working out well with a gc for @
[20:59:23] <strcat> need a way to call the exchange vs local allocator based on whether T is managed
[20:59:40] *** Joins: brendan (brendaneic@2557E599.66715431.D25A875A.IP)
[20:59:52] *** Joins: akashj87 (akash@310638EE.D26252D3.35E3DDC8.IP)
[21:00:23] *** Quits: jfredett (jfredett@moz-35CE0253.bstnma.east.verizon.net) (Ping timeout)
[21:02:41] <indutny> strcat: is there any reason for me to move to rust's incoming branch?
[21:02:43] <indutny> instead of using 0.6
[21:02:53] <indutny> or will I get even less stable compiler?
[21:03:06] *** Quits: Jesse (jruderman@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: Jesse)
[21:03:22] <strcat> indutny: well it's not less stable
[21:03:28] <strcat> it passes more tests than 0.6 did
[21:03:43] <indutny> aha
[21:03:45] <strcat> since they weren't tested for then ;p
[21:03:51] <indutny> haha
[21:03:51] <indutny> :)
[21:03:57] <indutny> ok, better build and use it then
[21:04:13] *** Joins: Jesse (jruderman@moz-C03D0C61.vlan426.asr1.sfo1.gblx.net)
[21:04:31] <indutny> Sometimes compiler behave really really oddly
[21:04:41] <indutny> I wonder how servo guys are dealing with it
[21:05:08] <indutny> are they using `incoming` too?
[21:05:27] *** Quits: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com) (Quit: johnmurray)
[21:05:41] <strcat> afaik servo uses a specific commit, but I doubt it's 0.6 since no fixes are backported
[21:05:42] <brson> strcat: it's nbd, but you do it by transmuting the ~ to a void pointer
[21:06:07] <indutny> strcat: ah, interesting
[21:06:45] <thiez> is there a nice trick to make task_rng().gen() return some specific type?
[21:07:04] <strcat> thiez: there are utility methods for getting specific types
[21:07:22] <strcat> afaik they just truncate it
[21:07:25] <thiez> strcat: not anymore :)
[21:07:32] <strcat> thiez: there are still those methods
[21:07:39] <strcat> RandUtil trait or something
[21:08:06] *** Quits: azita (Azita@2557E599.66715431.D25A875A.IP) (Quit: azita)
[21:09:14] <thiez> nope, those are all gone :)
[21:09:30] <thiez> figured it out tho, task_rng().gen::<T>()
[21:09:35] *** bhearsum is now known as bhearsum|afk
[21:10:53] *** Joins: enticeing (user@40584768.29B601FE.5037098C.IP)
[21:11:09] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[21:11:09] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/2BAiLQ
[21:11:09] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[21:11:46] *** Quits: enticeing (user@40584768.29B601FE.5037098C.IP) (Client exited)
[21:11:50] <engla> thiez: return type can also be inferred
[21:12:07] *** Joins: enticeing (user@40584768.29B601FE.5037098C.IP)
[21:12:22] *** Joins: bbrittain (ben@moz-632384CB.dr02.roch.ny.frontiernet.net)
[21:12:52] <thiez> engla: it was being used in an expression and I wanted it to be possible without storing intermediate values
[21:14:25] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[21:14:26] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/n8kmfQ
[21:14:26] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[21:14:29] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[21:14:29] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/rbjc7g
[21:14:29] <ghrust> 13rust/06auto 140ef4e86 15Niko Matsakis: Replace NOTE with FIXME
[21:14:29] <ghrust> 13rust/06auto 142e4790c 15Niko Matsakis: Merge remote-tracking branch 'mozilla/incoming' into issue-5910-dyna-freeze
[21:14:29] <ghrust> 13rust/06auto 1408a2a3d 15bors: auto merge of #6278 : nikomatsakis/rust/issue-5910-dyna-freeze, r=nikomatsakis...
[21:14:30] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[21:17:46] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Quit: Textual IRC Client: www.textualapp.com)
[21:17:54] <pcwalton> hoooly crap
[21:17:56] <pcwalton> go go go bors
[21:23:31] *** Joins: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP)
[21:25:04] *** Quits: fabiand (fabiand@moz-3E4C6B80.adsl.alicedsl.de) (Quit: Verlassend)
[21:26:20] *** Quits: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP) (Quit: lmandel)
[21:26:45] *** Joins: snearch (snearch@moz-378AA4FC.pool.mediaways.net)
[21:30:34] *** Joins: philix (philix@moz-451739D3.user.veloxzone.com.br)
[21:32:27] <ssbr_> acrichto_: Ah, I see, thank you!
[21:37:49] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[21:38:11] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[21:38:33] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[21:40:50] <pcwalton> nmatsakis: looking over your patch
[21:41:12] <pcwalton> the error messages seem much better, the one nit I have is that it should say what an "aliasable location" is (although I realize this error may never show up in practice)
[21:43:59] *** Joins: jeff (jeff@moz-7B743C0B.members.linode.com)
[21:44:00] *** Joins: jgilbert (jgilbert@moz-E7782931.hsd1.ca.comcast.net)
[21:50:26] *** Quits: brendan (brendaneic@2557E599.66715431.D25A875A.IP) (Quit: brendan)
[21:50:54] <nmatsakis> pcwalton: it will show up in practice, I think. So yes, let's try to improve it.
[21:51:15] <pcwalton> that seems unfortunate
[21:51:33] <pcwalton> did it show up when you were working on the new borrow checker?
[21:52:36] <nmatsakis> it showed up in a few places. Mostly when you try to have sa context struct Context that contains a &mut Map
[21:52:41] <nmatsakis> *you try == one tries
[21:52:49] <nmatsakis> that is better done with an &mut context
[21:52:54] <pcwalton> ah, I see
[21:53:06] <nmatsakis> basically, although mutability is not inhrited for &mut, you kind of have to treat it ike it is
[21:53:12] <nmatsakis> so as to get the uniqueness guarantees
[21:53:27] <pcwalton> I wonder if it's best to just warn if you create an &&mut
[21:53:35] <pcwalton> obviously we can't soundly catch all cases
[21:53:37] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[21:53:43] <nmatsakis> yeah, that's a good idea.
[21:54:00] <nmatsakis> a lint-mode that says "&&mut is an antipattern, see AQ 123"
[21:54:05] <nmatsakis> *FAWQ 123
[21:54:05] <nmatsakis> damn lag
[21:54:26] <pcwalton> :)
[21:54:27] <nmatsakis> very high latency here, sorry for typos :(
[21:55:26] *** Quits: haard (fredrik@moz-6A86987C.dynamic.se.alltele.net) (Ping timeout)
[21:55:47] <strcat> nmatsakis: isn't &&mut actually not memory safe?
[21:56:02] <nmatsakis> strcat: well, yo can create one, but we won't let you do much with it
[21:56:17] <strcat> ah so you're just saying we should encourage not using it
[21:56:22] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[21:56:29] <nmatsakis> (you cannot write to it or borrow its contents)
[21:56:51] *** Joins: flipcoder (flipcoder@moz-EE3A28B2.dhcp.rvsd.ca.charter.com)
[21:57:23] *** zz_kimundi is now known as kimundi
[22:00:28] <Luqman> 19
[22:00:45] *** Quits: donri (dag@moz-9BB61102.tbcn.telia.com) (Quit: Leaving)
[22:01:48] *** Joins: curioushoe (Mibbit@moz-8347EE79.cable.mindspring.com)
[22:02:12] *** Joins: jfredett (jfredett@moz-984558F2.mycingular.net)
[22:02:12] *** Quits: curioushoe (Mibbit@moz-8347EE79.cable.mindspring.com) (Quit: http://www.mibbit.com ajax IRC Client)
[22:02:51] <flipcoder> how do i disambiguate each_char  (getting this: https://gist.github.com/flipcoder/5528577)
[22:02:59] <steven_is_false> error: cannot call a generic method through a boxed trait. I don't understand, shouldn't that be possible just only slower?
[22:03:03] *** Joins: curioushelly (Mibbit@moz-8347EE79.cable.mindspring.com)
[22:03:10] <nmatsakis> steven_is_false: no, we'd have to generate the code at runtime
[22:03:30] <steven_is_false> nmatsakis: But can't we just do pointer stuff?
[22:03:56] <nmatsakis> pcwalton: I've got to go for an hour or two, but I'd love to talk over patch with you late
[22:04:06] <curioushelly> Hey, quick question! What was rust designed for? Web development? Or is it a general language?
[22:04:08] <pcwalton> cool
[22:04:17] <pcwalton> I'd also like to talk about pointers at some point
[22:04:33] <pcwalton> not about syntax but how to get to @-and-~-in-the-library
[22:04:36] <nmatsakis> steven_is_false: gotta go, but short answer is not in the general case :)
[22:04:43] <nmatsakis> pcwalton: right, sounds good
[22:04:53] <steven_is_false> nmatsakis: Bye!
[22:04:53] *** Quits: jfredett (jfredett@moz-984558F2.mycingular.net) (Ping timeout)
[22:05:24] *** Quits: curioushelly (Mibbit@moz-8347EE79.cable.mindspring.com) (Quit: http://www.mibbit.com ajax IRC Client)
[22:07:28] *** Quits: Jesin (Jessin_@moz-A03A364F.cc.lehigh.edu) (Ping timeout)
[22:08:43] *** Joins: jfredett (jfredett@moz-984558F2.mycingular.net)
[22:09:48] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Quit: Leaving)
[22:10:01] <strcat> pcwalton: can you review https://github.com/mozilla/rust/pull/6241 and https://github.com/mozilla/rust/pull/6251 ?
[22:10:24] <strcat> brson took a lot at them already but I think he wants more input
[22:10:55] <steven_is_false> This is strange I can declare a trait parameterized over S with the method fn get <'r> (&self, &fn (&'r S)), and create an implementation but when I try to use the trait with the static lifetime I get a weird error.
[22:12:14] <thiez> flipcoder: I commented on your gist
[22:12:42] <flipcoder> thiez: thanks :)
[22:12:59] <steven_is_false> Goodbye everybody.
[22:13:02] *** Quits: steven_is_false (quassel@moz-144077DE.bchsia.telus.net) (Client exited)
[22:13:39] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Client exited)
[22:14:37] <strcat> pcwalton: thanks :)
[22:15:46] *** Quits: flowsnake (flowsnake@moz-1918C33E.aztw.cable.virginmedia.com) (Ping timeout)
[22:17:19] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Client exited)
[22:18:49] *** Joins: flowsnake (flowsnake@moz-1918C33E.aztw.cable.virginmedia.com)
[22:19:28] *** Quits: cc_ (cc@moz-9962C9F4.rev.numericable.fr) (Quit: cc_)
[22:20:25] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[22:20:40] *** Quits: jc-denton (nils@moz-C5E8B5EA.ethz.ch) (Ping timeout)
[22:20:44] *** Quits: klapaucius (klapaucius@272B8F8B.5692770D.BB41F968.IP) (Ping timeout)
[22:20:44] *** Joins: jc-denton (nils@moz-C5E8B5EA.ethz.ch)
[22:20:59] *** Joins: klapaucius (klapaucius@272B8F8B.5692770D.BB41F968.IP)
[22:21:39] *** Quits: flowsnake (flowsnake@moz-1918C33E.aztw.cable.virginmedia.com) (Quit: ZNC - http://znc.in)
[22:21:57] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[22:22:14] *** Joins: flowsnake (flowsnake@moz-1918C33E.aztw.cable.virginmedia.com)
[22:28:46] <indutny> strcat: failed to resolve import: smallintmap::SmallIntMap
[22:29:05] <indutny> failed to resolve import: std::smallintmap::SmallIntMap
[22:29:08] <strcat> indutny: do you have 'extern mod std'?
[22:29:16] <indutny> yes
[22:29:34] <strcat> rusti: let mut xs = std::smallintmap::SmallIntMap::new(); xs.insert(5, 3)
[22:29:36] <rusti> true
[22:29:42] <indutny> hm...
[22:29:49] <strcat> rusti: let mut xs = std::smallintmap::SmallIntMap::new(); xs.insert(5, 3); xs
[22:29:50] <rusti> {v: ~[None, None, None, None, None, Some(3)]}
[22:29:59] <indutny> true
[22:29:59] <indutny> rusti> leaked memory in rust main loop (1 objects)
[22:29:59] <indutny>                                                   Assertion failed: (false), function ~memory_region, file /Users/indutny/Code/mozilla/rust/src/rt/memory_region.cpp, line 192.
[22:29:59] <indutny>                                                                                                                                                                                Abort trap: 6
[22:30:00] <indutny> haha
[22:30:01] <indutny> :)
[22:30:09] <indutny> nice
[22:30:09] <strcat> rusti doesn't work ;p
[22:30:12] <strcat> the bot is really rustc
[22:30:15] <indutny> ah
[22:30:16] <indutny> ok
[22:30:19] <indutny> brb
[22:31:43] <otters> it would be cool to have a :t command like ghci
[22:32:16] *** Joins: SiegeLord (sl@moz-56D7E78.bstnma.fios.verizon.net)
[22:33:21] <sp3d> otters: +1
[22:34:01] *** Quits: fairfieldt (chatzilla@F0DA239E.246E5E69.4AE11518.IP) (Ping timeout)
[22:34:20] <thiez> agreed
[22:34:44] *** Joins: fairfieldt (chatzilla@F0DA239E.246E5E69.4AE11518.IP)
[22:35:43] <thiez> rusti: use core::str::*; use core::io::*; for each_char(&"test") |ch| {}
[22:35:44] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/bDDK
[22:36:36] *** aatch|bed is now known as aatch
[22:36:49] <thiez> rusti: use core::str::*; use core::io::*; for "test".each_char |ch| {}
[22:36:57] *** Joins: strcat1 (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[22:37:19] *** Quits: enticeing (user@40584768.29B601FE.5037098C.IP) (Client exited)
[22:37:27] <thiez> I broke it?
[22:37:27] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[22:37:37] <strcat1> no
[22:37:44] <strcat1> my wifi just has dropouts atm.
[22:37:53] <flipcoder> it crashed on me before when i did that
[22:38:02] <flipcoder> rustc did i mean
[22:38:15] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[22:38:17] <graydon> nmatsakis: https://github.com/mozilla/rust/issues/4846 is done, yes? are there residual bits?
[22:38:18] <thiez> flipcoder: yeah, I was wondering if that was a proper bug, I think it should be
[22:38:20] *** strcat1 is now known as strcat
[22:38:31] <flipcoder> sometimes it crashes, sometimes i doesn't, exact same input
[22:38:40] <flipcoder> it*
[22:38:46] <thiez> uh, that's interesting
[22:39:28] *** Quits: jfredett (jfredett@moz-984558F2.mycingular.net) (Ping timeout)
[22:39:39] <flipcoder> trying to fix my own program tho otherwise i'd help with the bug :)
[22:39:44] *** Quits: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[22:40:03] *** Joins: Jesin (Jessin_@moz-A03A364F.cc.lehigh.edu)
[22:40:07] <thiez> oh this is amazing, you actually get different errors when running rustc on the same input multiple times
[22:40:15] <flipcoder> yep
[22:41:13] <thiez> oh, it has to do with the order of the traits, it's probably storing them in a hashmap somewhere
[22:44:58] <strcat> the output from LLVM is pretty non-deterministic too
[22:45:00] <strcat> because of that
[22:45:09] <strcat> since rust is passing stuff in varying orders
[22:45:18] <strcat> makes the deltas between versions huge ;p
[22:45:48] <strcat> it just varies in minor details like the memory ordering
[22:46:18] <graydon> strcat: like .. you mean the order we emit items in, into LLVM? (and thus name symbols, etc.?)
[22:46:28] <graydon> I think any patches to make that more-regular would be quite welcome
[22:46:30] <strcat> graydon: yes
[22:46:41] *** Quits: true_droid (Adium@moz-123FD9B8.beck.volia.net) (Ping timeout)
[22:46:43] <strcat> graydon: well I think it's just because it starts with a different seed
[22:46:50] <strcat> could add RUST_SEED or something
[22:46:51] *** Quits: klapaucius (klapaucius@272B8F8B.5692770D.BB41F968.IP) (Ping timeout)
[22:46:57] *** Quits: jc-denton (nils@moz-C5E8B5EA.ethz.ch) (Ping timeout)
[22:47:11] <graydon> you mean .. because we wind up driving something off a hashtable iteration order?
[22:47:11] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[22:47:17] <strcat> graydon: yeah
[22:47:24] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[22:47:29] *** Joins: klapaucius (klapaucius@272B8F8B.5692770D.BB41F968.IP)
[22:47:30] <strcat> graydon: I fixed something to do with that already (crate hashes were non-deterministic)
[22:47:32] *** Joins: jc-denton (nils@moz-C5E8B5EA.ethz.ch)
[22:47:38] <strcat> because it randomly ordered deps and then used the order as part of the hash
[22:47:39] <graydon> in many cases I think it'd be fine to sort the keys before iterating
[22:47:41] *** Quits: MrFahrenheit (RageOfThou@moz-CF7139ED.dynamic.telemach.ba) (Ping timeout)
[22:47:52] <graydon> (possibly even more-correct)
[22:48:09] *** Joins: int3_ (int3_@moz-98676091.subnet-248.amherst.edu)
[22:48:11] <strcat> or just use trie/treemap/smallintmap in places that rely on order
[22:48:12] *** Joins: MrFahrenheit (RageOfThou@moz-CF7139ED.dynamic.telemach.ba)
[22:48:21] <strcat> I think smallintmap could be used in many more places
[22:48:28] <graydon> yeah
[22:48:50] <graydon> (thanks again for all the factoring and rationalizing of the container types!)
[22:48:55] <strcat> :)
[22:49:34] *** Quits: skchrko_ (sk@61A494B3.BA40E8A.AAC02D62.IP) (Ping timeout)
[22:49:38] *** Joins: true_droid (Adium@moz-123FD9B8.beck.volia.net)
[22:49:40] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Ping timeout)
[22:49:49] *** Quits: posco (oscarboyki@636AC086.5999CED5.71743E61.IP) (Ping timeout)
[22:49:53] <graydon> if it ever feels "thankless", just picture me thanking you at length; it's super great. including the perf work. having not-remotely-competitive containers is a great way to lose sleep as a language engineer :(
[22:49:57] <brson> graydon: are there docs on #[bench]?
[22:49:58] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[22:50:14] <graydon> brson: no. as usual, a festival of me-not-documenting properly. I can explain briefly?
[22:50:23] <graydon> maybe I should write it down somewhere. where would be best?
[22:50:28] <thiez> the wiki
[22:50:39] <graydon> ok
[22:50:50] <brson> graydon: https://github.com/mozilla/rust/wiki/Doc-unit-testing
[22:51:14] <indutny> strcat: figured it out
[22:51:15] <EXetoC> hm, negative index, or error message error? :>
[22:51:22] <indutny> needed to put "extern mod std" in main .rs file
[22:51:25] <indutny> not in module
[22:51:48] *** Quits: sdh_ (sdh@8557E3E0.AAC4A127.9105FBCF.IP) (Ping timeout)
[22:52:00] *** Joins: jfredett (jfredett@moz-88F224A7.mycingular.net)
[22:52:09] <strcat> graydon: I'd like to get the delta size smaller so I think I'll start looking into why that happens this week
[22:52:19] <strcat> very silly for a day to go by and the delta to be 16MiB
[22:52:19] <graydon> sure!
[22:52:25] <graydon> oh dear. that's no good :(
[22:52:25] *** Quits: Jesse (jruderman@moz-C03D0C61.vlan426.asr1.sfo1.gblx.net) (Quit: Jesse)
[22:52:33] <strcat> xdelta is also really bad, so that's another reason
[22:52:35] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[22:53:05] <strcat> the package is 83MiB but only 26MiB compressed so... the deltas aren't helping much
[22:53:47] *** Quits: MrFahrenheit (RageOfThou@moz-CF7139ED.dynamic.telemach.ba) (Ping timeout)
[22:53:49] *** Quits: jfredett (jfredett@moz-88F224A7.mycingular.net) (Ping timeout)
[22:55:07] *** Joins: Bernkastel (suckmy@7F352483.A9B419CB.1C8C8CE9.IP)
[22:56:29] *** Joins: devbug (quassel@moz-E1DE087C.bchsia.telus.net)
[22:57:55] <indutny> strcat: one more question please, if you don't mind :)
[22:58:10] <indutny> so, suppose I'm using SmallIntMap<~Struct>
[22:58:30] <indutny> how can I modify instance of Struct in map?
[22:59:01] <indutny> ah
[22:59:03] <indutny> find_mut
[22:59:35] <indutny> nvm
[22:59:36] *** Joins: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP)
[22:59:36] *** Quits: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP) (Z:lined (Open Proxy found on your host. Please visit www.blitzed.org/proxy?ip=115.68.131.49 for more information.))
[22:59:37] <indutny> thank you :)
[23:00:37] <aatch> strcat, that was amazing, I didn't even see you say anything!
[23:00:51] * pcwalton grumbles at the pipes compiler
[23:01:00] *** Quits: BitPuffin (quassel@moz-8370D1B9.bredband.comhem.se) (Client exited)
[23:01:26] *** Joins: Jesse (jruderman@moz-BE33DA21.fw1.sfo1.mozilla.net)
[23:02:27] *** Joins: skchrko_ (sk@61A494B3.BA40E8A.AAC02D62.IP)
[23:04:08] *** Joins: posco (oscarboyki@636AC086.5999CED5.71743E61.IP)
[23:04:41] *** Quits: Bernkastel (suckmy@7F352483.A9B419CB.1C8C8CE9.IP) (Quit: Brain.sys has encountered a problem and needs to close. We are sorry for the inconvenience.)
[23:04:46] <brson> i seem to have basic working tcp server and client code now
[23:04:53] <pcwalton> yay!
[23:04:53] <strcat> graydon: well, xdelta is bad enough that the daily aurora build has an 8MiB delta
[23:05:00] *** Joins: Sorella (queen@B12A78F5.BA14766C.95C8B7C6.IP)
[23:05:01] <brson> so I need to come up with a simple throughput benchmark
[23:05:17] *** Quits: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP) (Quit: Leaving.)
[23:05:25] <pcwalton> do those "web framework performance benchmarks" that have been going around HN have something small enough?
[23:05:26] <brson> maybe 1 benchmark to test throughput and one to test scaling
[23:05:30] <strcat> rdiff and bsdiff aren't much better :(
[23:05:30] <pcwalton> or do they all need HTTP
[23:05:30] <brson> i'll look
[23:05:48] <thiez> go write a bittorrent client :p
[23:05:52] <graydon> brson: \o/
[23:06:12] <strcat> pcwalton: could just compare against tcp in node.js/go
[23:06:21] <pcwalton> yeah, but we need to compare something
[23:06:22] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[23:07:01] *** Joins: dbaupp (Thunderbir@moz-663555AF.lns20.syd6.internode.on.net)
[23:07:55] <indutny> is there a way to loan pointer to another function if it was loaned to me?
[23:08:14] <pcwalton> indutny: yup, just pass it
[23:08:38] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Input/output error)
[23:09:00] <thiez> is it possible to configure a task so that it uses a different stdout/stderr ?
[23:09:05] <indutny> doesn't work :)
[23:09:15] <pcwalton> indutny: what does your code look like?
[23:09:16] <indutny> ah
[23:09:17] <indutny> one sec
[23:09:22] <indutny> I've an idea
[23:09:34] <indutny> no, it doesn't work
[23:09:42] <indutny> pcwalton: one sec, posting a gist
[23:10:05] *** Quits: mschifer1 (Adium@2557E599.66715431.D25A875A.IP) (Ping timeout)
[23:10:33] *** Joins: mschifer (Adium@2557E599.66715431.D25A875A.IP)
[23:11:16] <indutny> pcwalton: https://gist.github.com/indutny/911b3a3fad526df696f4#file-1-rs-L77
[23:11:21] <indutny> loan of dereference of mutable & pointer as mutable conflicts with prior loan
[23:11:52] <pcwalton> do &mut *self
[23:12:01] <pcwalton> although this may be a flow sensitivity problem
[23:12:18] <pcwalton> this whole algorithm is about to change any minute now
[23:12:18] *** Quits: mschifer (Adium@2557E599.66715431.D25A875A.IP) (Ping timeout)
[23:12:23] <pcwalton> assuming that bors passes the tests
[23:12:47] <acrichto_> I think bors may be stuck?
[23:12:53] *** Joins: mschifer (Adium@2557E599.66715431.D25A875A.IP)
[23:13:09] <pcwalton> oh bleh, it is
[23:13:10] <EXetoC> statement or question? :p
[23:13:11] <pcwalton> graydon: bors is stuck
[23:13:14] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[23:13:17] <pcwalton> has been for hours
[23:13:24] <thiez> indutny: why do your 'new' methods return ~T instead of T? :)
[23:13:34] <indutny> good question
[23:13:38] *** acrichto_ is now known as acrichto
[23:13:55] <indutny> pcwalton: thanks
[23:14:24] <aatch> borrow checking with flow sensitivity!
[23:14:42] <graydon> pcwalton: checking
[23:16:05] *** Quits: SimonSapin (simon@moz-C4A83ED9.net-89-2-126.rev.numericable.fr) (Ping timeout)
[23:17:03] <aatch> That is a very large pull request...
[23:17:10] <pcwalton> yup
[23:17:42] <graydon> genuinely confused at the sticking this time
[23:17:47] <graydon> it got past niko's stuff
[23:17:54] <graydon> and then ... didn't
[23:17:54] <aatch> At least nmatsakis admitted that it's sprawling though
[23:17:55] <pcwalton> it didn't seem to merge it
[23:18:05] <pcwalton> maybe a manual push will wake it up?
[23:18:33] <graydon> no, don't push please
[23:18:41] <brson> does anybody care about the RUST_SEED environment variable these days?
[23:18:44] <aatch> If the tests passed, couldn't one of you manually merge it?
[23:20:14] <indutny> ok, another question to help me understand things
[23:20:18] <graydon> brson: unsure. ask on list. people have been poking at PRNGs
[23:20:33] <graydon> aatch: let me figure out what happened please? it's easy to make matters worse :(
[23:20:35] <indutny> rusti: struct P; let x = P; let y = ~x;
[23:20:39] <rusti> foo.rs:5:34: 5:35 warning: unused variable: `y`
[23:20:39] <rusti> foo.rs:5          struct P; let x = P; let y = ~x;
[23:20:39] <rusti>                                            ^
[23:20:39] <rusti> note: in expansion of fmt!
[23:20:40] <rusti> foo.rs:4:12: 6:7 note: expansion site
[23:21:02] <indutny> so, will it allocate P once on stack and once in memory?
[23:21:10] <indutny> and copy value of on-stack P to memory?
[23:21:51] <strcat> indutny: if you didn't use -O, yes
[23:22:00] *** Quits: mschifer (Adium@2557E599.66715431.D25A875A.IP) (Ping timeout)
[23:22:13] <indutny> strcat: so rust is capable of optimizing it into one allocation, right?
[23:22:14] *** Quits: bleibig (bleibig@moz-58EF3B3A.rochester.res.rr.com) (Quit: bleibig)
[23:22:25] <strcat> well LLVM is
[23:22:25] <indutny> good
[23:22:33] <indutny> oh, even that
[23:22:50] <indutny> ok, thank you
[23:23:28] *** Quits: jeff (jeff@moz-7B743C0B.members.linode.com) (Quit: jeff)
[23:23:38] <dbaupp> brson: I guess that if someone really wants deterministic random numbers they can/will do that in userspace
[23:24:02] <aatch> Oh, that reminds me. Is there any reason why rustc outputs an alloca of the target for each method call?
[23:24:09] *** Quits: Jesse (jruderman@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: Jesse)
[23:24:19] *** Quits: Jesin (Jessin_@moz-A03A364F.cc.lehigh.edu) (Ping timeout)
[23:24:30] <thiez> Would it be worth storing stdin/stdout/stderr per task instead of as a global constant? That way we can redirect i/o
[23:24:33] <strcat> brson: oh there's already RUST_SEED? I care about it :)
[23:24:40] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[23:24:44] <strcat> well, not really ;p
[23:25:19] * strcat would like to figure out a way to make the compilation more deterministic but it would be better to just fix the iteration over hashmaps
[23:25:53] <graydon> this is so weird
[23:26:16] <graydon> I would give real money for a more-deterministic buildbot.
[23:26:26] <brendanc> fwiw, we're using buildbot 0.8.5 on git with PBChangeSource and the git_buildbot.py post-receive hook in a mirror, with good results. I still think it's odd that the changes column in buildbot doesn't show all the changes.
[23:27:21] *** Joins: Jesse (jruderman@moz-BE33DA21.fw1.sfo1.mozilla.net)
[23:27:44] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[23:28:17] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[23:29:09] <graydon> brendanc: hm. did you see our config? maybe I'm just doing something magnificently wrong
[23:29:21] <graydon> brendanc: happy to share :)
[23:29:28] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[23:29:32] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[23:29:32] <brendanc> I didn't see it, if you have the config I'd look at it
[23:30:08] <dbaupp> could I have a review/comment on https://github.com/mozilla/rust/pull/6267 ? :)
[23:31:15] <indutny> strcat: &mut *self doesn't work
[23:31:30] <pcwalton> it may well be just a bug
[23:31:32] <indutny> unfortunatelly
[23:31:37] <pcwalton> it might be fixed once bors is unstuck!
[23:32:20] <indutny> pcwalton: was it addressed to me?
[23:32:22] <thiez> living on the edge, try pulling from auto instead of incoming ;)
[23:32:26] <pcwalton> yes
[23:32:44] <indutny> thiez: my knees won't survive another rebuild
[23:32:46] <indutny> :)
[23:32:55] *** Quits: true_droid (Adium@moz-123FD9B8.beck.volia.net) (Quit: Leaving.)
[23:32:57] <indutny> macbook is really hot at building rust
[23:33:57] <pcwalton> dbaupp: looking
[23:34:46] *** Joins: bleibig (bleibig@moz-58EF3B3A.rochester.res.rr.com)
[23:35:03] <indutny> pcwalton: I will try pulling latest incoming
[23:35:05] <indutny> probably it'll help
[23:35:09] <pcwalton> it won't help
[23:35:11] <indutny> ah
[23:35:12] <indutny> ok
[23:35:17] <indutny> lets try auto then :)
[23:35:17] <pcwalton> until niko's changes stick
[23:35:20] <pcwalton> graydon is investigating
[23:35:38] <indutny> ok
[23:35:43] <indutny> thank you anyway
[23:35:45] <graydon> yeah .. this .. it looks like buildbot just is completely unaware of that change having landed on auto
[23:36:01] <Jeaye> pcwalton: What was the decision on "enum mod"?
[23:36:03] <pcwalton> did it build it?
[23:36:07] <Jeaye> I remember there being some discussion.
[23:36:13] <pcwalton> I don't remember what "enum mod" was
[23:36:33] <Jeaye> enum mod Foo { Bar }; let f: Foo = Foo::Bar;
[23:36:40] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[23:36:44] <pcwalton> oh, right
[23:36:51] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[23:36:54] <pcwalton> I don't think there has been any decision made
[23:37:06] <pcwalton> it's a backwards compatible change so we don't really need to make a decision per se...
[23:37:18] <aatch> enum mod?
[23:37:27] <Jeaye> aatch: Like C++'s 'enum class'
[23:37:36] <pcwalton> namespaces the variants under the enum
[23:37:38] <aatch> namespaced variants?
[23:37:47] <aatch> sounds useful for C binding
[23:38:06] <Jeaye> Also useful for 'use'ing the enum.
[23:38:18] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[23:38:33] <aatch> Jeaye, agreed, don't have to `use` all the variants too
[23:38:38] <Jeaye> Yup!
[23:38:55] <graydon> what the _hell_
[23:39:07] <graydon> brendanc: I just did a force-build on a specific rev/branch pair
[23:39:17] <graydon> it registered the revision, then "got_revision" was different
[23:40:01] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[23:40:05] <brson> oh, I see we already converted to the Rust implementation of isaac. I wonder how much of the old rng we can strip out
[23:40:09] *** Quits: int3_ (int3_@moz-98676091.subnet-248.amherst.edu) (Client exited)
[23:40:33] <graydon> (the one it decided to build isn't one of _any_ of the heads, that I can tell)
[23:40:40] *** Joins: jclements (jclements@2557E599.66715431.D25A875A.IP)
[23:40:45] <brendanc> git reset --hard 08a2a3d431171ecee48d16b3126effedf9b2d36c 
[23:40:47] <brendanc> fatal: Could not parse object '08a2a3d431171ecee48d16b3126effedf9b2d36c'.
[23:40:54] <brendanc> http://buildbot.rust-lang.org/builders/auto-mac/builds/1100/steps/git/logs/stdio
[23:41:38] <brendanc> is it possible there's some kind of race at github?
[23:42:10] <brendanc> like an internal repo CDN that isn't completely in sync?
[23:42:28] <brson> so it looks like RUST_SEED no longer does anything
[23:42:33] * brson deletes
[23:43:04] <brendanc> eh, what branch is it supposed to be building
[23:43:22] <brendanc> auto, I wonder why it's fetching master
[23:43:33] <graydon> dunno. it does this regularly.
[23:43:58] <graydon> github _does_ fail on lots of requests we make against it
[23:44:07] <dbaupp> brson: aah.. FWIW, it's unused because I forgot about hooking RUST_SEED into the Rust version of isaac... not because any decision was made at the time
[23:44:13] <graydon> I get a cron whine every time bors makes a github API call that fails
[23:44:26] <graydon> I get one of those every 10-15 minutes.
[23:44:31] <graydon> (bors runs every 3 minutes)
[23:44:46] <graydon> (but it makes 40+ API calls per run)
[23:45:07] <graydon> "webscale!"
[23:45:09] <brson> dbaupp: i think i'm wrong. your code still uses the C++ seeding codepath, so RUST_SEED is used
[23:45:20] *** Quits: Sorella (queen@B12A78F5.BA14766C.95C8B7C6.IP) (Client exited)
[23:45:34] <brson> dbaupp: I will preserve RUST_SEED. Just trying to remove the dependency on rust_kernel
[23:45:54] *** Joins: dbaupp1 (Thunderbir@moz-65648600.lns20.syd6.internode.on.net)
[23:46:03] *** Quits: dbaupp (Thunderbir@moz-663555AF.lns20.syd6.internode.on.net) (Ping timeout)
[23:46:25] <aatch> Eventually we will have a completely Rust runtime. :D
[23:46:39] <dbaupp1> brson: ah, good :)
[23:46:39] <graydon> nmatsakis: it seems your change also .. doesn't build :(
[23:46:45] *** dbaupp1 is now known as dbaupp
[23:46:47] <brendanc> buildbot's git checkout step is pretty flaky, esp in incremental mode
[23:47:53] <graydon> is there some way to make it _not_ be flaky?
[23:47:56] <indutny>  ok
[23:47:58] <indutny> time for me to sleep
[23:47:58] <graydon> (some other thing we can use instead?)
[23:48:00] <indutny> ttyl guys!
[23:48:04] <graydon> cya
[23:49:55] *** Quits: echristo (echristo@CFC3C6C3.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[23:50:06] *** Joins: Sorella (queen@B12A78F5.BA14766C.95C8B7C6.IP)
[23:50:31] *** Quits: victorporof (victorporo@90976241.6D2FB7A4.79933D60.IP) (Quit: victorporof)
[23:51:40] *** Quits: jclements (jclements@2557E599.66715431.D25A875A.IP) (Quit: jclements)
[23:52:34] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[23:52:40] <brendanc> our config does a lot of mode='full', method='clobber' tbh. We can do that because the buildslaves are next to the git repos
[23:54:28] *** Joins: int3_ (int3_@moz-98676091.subnet-248.amherst.edu)
[23:54:57] *** Joins: int3__ (int3_@moz-98676091.subnet-248.amherst.edu)
[23:54:58] *** Quits: int3_ (int3_@moz-98676091.subnet-248.amherst.edu) (Connection reset by peer)
[23:56:09] <graydon> brson: added docs on benchmarking to the unit tests page
[23:56:14] *** Quits: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net) (Quit: jorendorff)
[23:56:19] <brendanc> short of that, I'd try maybe passing the branch down into the rust_git step
[23:56:19] <graydon> pcwalton: niko's code sadly does not compile on mac or windows
[23:56:24] <graydon> maybe messed up .def file in librt?
[23:56:34] <pcwalton> hmm, ok
[23:56:36] <brendanc> giving a parameter to make_and_check_buildfactory and passing it down the stack
[23:56:43] <graydon> brendanc: I see. maybe.
[23:56:53] <graydon> can try that anyway :)
[23:56:57] <graydon> thanks
[23:56:59] <brendanc> since it seems to have decided to ignore the branch name you supplied
[23:57:28] <brson> thanks, graydon
