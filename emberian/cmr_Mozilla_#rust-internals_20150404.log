[00:00:38] *** Quits: swgillespie (swgillespie@moz-upj.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:07:13] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[00:08:31] <simukis> WindowsBunny: nice to know
[00:09:15] <WindowsBunny> simukis: I know because we were accidentally using them for mutexes on windows before
[00:09:38] <WindowsBunny> which led to a bug where you could get multiple &mut to the same thing in the same thread
[00:11:00] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[00:12:33] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[00:15:42] *** Quits: Rym (y@moz-o8t.887.55.31.IP) (Ping timeout: 121 seconds)
[00:15:59] *** Quits: tcurdt (tcurdt@moz-kbsrse.dip0.t-ipconnect.de) (Quit: Textual IRC Client: www.textualapp.com)
[00:17:03] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[00:17:25] *** Joins: Rym (y@moz-o8t.887.55.31.IP)
[00:17:40] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[00:19:00] *** Joins: crt (crt@moz-8l15f0.bchsia.telus.net)
[00:19:39] *** Quits: Rym (y@moz-o8t.887.55.31.IP) (Connection closed)
[00:21:54] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[00:22:54] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[00:23:09] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[00:25:19] <carllerche> seanmonstar: did you figure out how to downcast from Any?
[00:25:22] *** Joins: brson (brson@moz-k2tblc.tmodns.net)
[00:25:22] *** ChanServ sets mode: +o brson
[00:25:53] <seanmonstar> carllerche: there didnt seem to be a way
[00:26:21] <seanmonstar> carllerche: seems like the eventual fix is to allow upcasting
[00:26:34] <carllerche> annoying :-/
[00:26:36] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[00:27:32] <seanmonstar> carllerche: yea, we ended up using https://crates.io/crates/traitobject to do our casting (which includes transmuting to *mut *mut ()
[00:28:13] <seanmonstar> if a better way is ever found, i'll switch immediately
[00:30:22] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[00:33:16] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[00:34:11] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[00:38:13] *** Joins: ytain (ytain@moz-6bg2hd.dsl.teksavvy.com)
[00:38:22] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[00:38:25] <brson> acrichto: re 'why doesn't exit unwind' i do think it's kind of peculiar that the only way to return an exit code is to do something that is basically memory-unsafe
[00:39:10] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[00:45:33] *** Quits: brson (brson@moz-k2tblc.tmodns.net) (Quit: leaving)
[00:47:05] *** Quits: crt (crt@moz-8l15f0.bchsia.telus.net) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[00:48:52] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[00:49:23] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[00:50:35] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[00:50:42] *** Joins: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com)
[00:51:19] *** Joins: theme (theme@moz-i3mhhb.asianet.co.th)
[00:51:22] *** Joins: Rym (y@moz-o8t.887.55.31.IP)
[00:51:39] *** Joins: ELD (textual@moz-mqboa7.co.comcast.net)
[00:52:33] *** Joins: jgallagher (john@moz-6ge.dhn.131.24.IP)
[00:54:00] *** Joins: crt (crt@moz-8l15f0.bchsia.telus.net)
[00:55:52] *** Quits: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[00:56:41] *** Joins: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com)
[00:58:09] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[01:06:06] *** Quits: crt (crt@moz-8l15f0.bchsia.telus.net) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[01:07:30] *** Joins: ok32 (ok32@moz-i89.uc8.106.77.IP)
[01:08:55] *** Quits: Nosprawls (Mibbit@moz-74t0cs.virginmediabusiness.co.uk) (Quit: http://www.mibbit.com ajax IRC Client)
[01:09:55] *** Joins: vbnvbnvmlb (Mibbit@moz-juv.9o3.252.72.IP)
[01:11:40] *** Quits: ok32 (ok32@moz-i89.uc8.106.77.IP) (Ping timeout: 121 seconds)
[01:11:55] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[01:12:46] *** Quits: Rym (y@moz-o8t.887.55.31.IP) (Ping timeout: 121 seconds)
[01:14:58] *** Joins: tjakubow (tom@moz-783qe0.res.rr.com)
[01:15:18] <tjakubow> hey, I'm glad to see IteratorExt is gone, but how is it able to be gone? Is there an alternative to Box<Iterator> ?
[01:15:26] <tjakubow> maybe should ask in #rust, sorry
[01:16:34] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:17:09] <bstrie> so I've only just been made aware of std::ptr::Unique, and I'm curious how it differs from Box
[01:17:45] <theme> bstrie, no allocation, no deallocation, allows unsafe stuff
[01:17:56] <theme> pretty much that
[01:18:14] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:19:12] <bstrie> ah I see, its new method takes a pointer instead of a value like Box does
[01:19:26] *** Joins: mib_cypwe8 (Mibbit@moz-l36.isq.240.91.IP)
[01:19:29] <bstrie> so you have to preallocate something manually. got it
[01:20:01] *** Quits: vbnvbnvmlb (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:20:29] <Mutabah> bstrie: Yeah, it just provides NonZero, and Send/Sync if the inner is Send/Sync
[01:24:24] *** Quits: mib_cypwe8 (Mibbit@moz-l36.isq.240.91.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:26:50] *** Joins: enix (enix@moz-0mgr2v.fios.verizon.net)
[01:27:30] *** theme is now known as abyss
[01:27:37] *** abyss is now known as theme
[01:28:14] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[01:29:32] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[01:29:57] *** Joins: blaenk (blaenkdenum@moz-12e081.res.rr.com)
[01:30:20] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[01:30:34] *** Joins: cornelius (Mibbit@moz-l36.isq.240.91.IP)
[01:32:13] *** Quits: bleibig_ (bleibig@moz-kn8mvj.ca.comcast.net) (Connection closed)
[01:32:41] *** Joins: bleibig (bleibig@moz-kn8mvj.ca.comcast.net)
[01:35:38] *** Quits: cornelius (Mibbit@moz-l36.isq.240.91.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:38:36] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[01:39:51] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Connection closed)
[01:41:03] *** Joins: Rym (y@moz-o8t.887.55.31.IP)
[01:41:16] *** Quits: ytain (ytain@moz-6bg2hd.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[01:46:03] *** Joins: blaenk_ (blaenkdenum@moz-2koo52.n2pv.fsko.e000.2605.IP)
[01:46:11] *** Quits: tjakubow (tom@moz-783qe0.res.rr.com) (Ping timeout: 121 seconds)
[01:49:24] *** Quits: blaenk (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[01:54:51] <carllerche> seanmonstar: I'm thinking it should be possible if using a custom box of sorts
[01:55:37] <carllerche> seanmonstar: basically (&TraitObj, *mut ()), so you save the raw pointer so that you can "downcast" it out
[01:55:55] <carllerche> it will need unsafe code to manage the lifetimes though
[01:56:44] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:58:47] <seanmonstar> hm
[01:58:53] <seanmonstar> whats gained?
[01:59:34] <carllerche> you can downcast :)
[02:02:28] <Mutabah> What's the interaction of 'impl Trait for ..' and raw pointers?
[02:02:40] *** Quits: untitaker (untitaker@moz-djjcqr.highway.telekom.at) (Ping timeout: 121 seconds)
[02:02:50] <Mutabah> do raw pointers implement the trait is the inner implements it?
[02:03:09] <Tobba> https://gist.github.com/anonymous/23bebe67c3545fa23a89
[02:03:19] <Tobba> and optimizations are... on?!
[02:04:33] <theme> Tobba, is that a noop sled ??!!
[02:04:44] <Tobba> theme: LLVM does that a lot
[02:04:46] <Tobba> I really have no idea why
[02:05:26] <theme> xor    %eax,%eax and then mov    %eax,%ecx looks pointless
[02:05:42] <Tobba> theme: the entire snippet screams "optimizations are off"
[02:05:55] <Tobba> but -C opt-level=2 and -C lto are passed
[02:06:00] <theme> or wait, did I get the argument order wrong?
[02:06:37] *** Quits: theme (theme@moz-i3mhhb.asianet.co.th) (Quit: Leaving)
[02:06:41] <Tobba> I think you did but anyways, there are a million things wrong with that
[02:06:46] <Tobba> Most of the entire snippet does nothing
[02:09:09] *** Joins: untitaker (untitaker@moz-2ulp6f.highway.telekom.at)
[02:14:15] *** Joins: blaenk (blaenkdenum@moz-12e081.res.rr.com)
[02:15:56] *** Quits: blaenk_ (blaenkdenum@moz-2koo52.n2pv.fsko.e000.2605.IP) (Ping timeout: 121 seconds)
[02:21:03] *** Joins: scialex (scialex@moz-if7.du5.16.138.IP)
[02:31:24] *** Joins: brson (brson@moz-k2tblc.tmodns.net)
[02:31:25] *** ChanServ sets mode: +o brson
[02:31:48] *** Joins: c74d (c74d3a4ebb6@moz-bpqgf0.mggc.hibn.4404.2002.IP)
[02:32:32] *** Quits: c74d3 (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Ping timeout: 121 seconds)
[02:34:34] *** Joins: summerlight_ (summerlight@moz-99k.2mj.130.121.IP)
[02:35:11] *** Joins: blaenk_ (blaenkdenum@moz-12e081.res.rr.com)
[02:36:27] *** Quits: blaenk (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[02:43:00] *** Joins: blaenk (blaenkdenum@moz-12e081.res.rr.com)
[02:43:59] *** Quits: brson (brson@moz-k2tblc.tmodns.net) (Quit: leaving)
[02:44:27] *** Quits: blaenk_ (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[02:48:42] *** Joins: blaenk_ (blaenkdenum@moz-12e081.res.rr.com)
[02:50:09] *** Quits: blaenk (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[02:50:18] *** Quits: kimundi (kimundi@moz-d0vsal.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:51:16] *** Joins: kimundi (kimundi@moz-0fkcjr.dip0.t-ipconnect.de)
[02:54:46] *** Quits: bleibig (bleibig@moz-kn8mvj.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:55:46] *** kimundi is now known as zz_kimundi
[02:55:50] *** Joins: blaenk (blaenkdenum@moz-12e081.res.rr.com)
[02:57:28] *** Quits: blaenk_ (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[02:57:42] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[03:03:05] *** zz_kimundi is now known as kimundi
[03:05:00] *** Joins: TheDan64 (TheDan64@moz-6hceng.ma.charter.com)
[03:05:12] *** Quits: scialex (scialex@moz-if7.du5.16.138.IP) (Ping timeout: 121 seconds)
[03:08:24] *** Joins: blaenk_ (blaenkdenum@moz-12e081.res.rr.com)
[03:08:40] *** Quits: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[03:10:09] *** Quits: blaenk (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[03:16:47] *** Joins: meteredsection (meteredsect@moz-ersuj2.wa.comcast.net)
[03:17:42] *** Joins: blaenk__ (blaenkdenum@moz-2koo52.n2pv.fsko.e000.2605.IP)
[03:20:11] *** Joins: blaenk (blaenkdenum@moz-12e081.res.rr.com)
[03:20:59] *** Quits: blaenk_ (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[03:21:59] *** Quits: blaenk__ (blaenkdenum@moz-2koo52.n2pv.fsko.e000.2605.IP) (Ping timeout: 121 seconds)
[03:22:56] *** Quits: marsel (user@moz-j1u.go6.180.94.IP) (Ping timeout: 121 seconds)
[03:23:56] *** Joins: blaenk_ (blaenkdenum@moz-12e081.res.rr.com)
[03:23:57] <carllerche> Am I correct that the enum memory layout could be improved in this case? https://github.com/rust-lang/rust/issues/24041
[03:24:17] <bstrie> what things in the stdlib still require runtime support?
[03:25:30] *** Quits: blaenk (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[03:26:11] <Mutabah> bstrie: box?
[03:27:37] *** Joins: semarie (semarie@moz-8vk.jbp.187.37.IP)
[03:27:41] *** Joins: brson (brson@moz-sn7.c9m.56.172.IP)
[03:27:41] *** ChanServ sets mode: +o brson
[03:29:01] <bstrie> Mutabah: I don't consider dynamic allocation to be a part of the runtime :P
[03:29:48] <bstrie> Gankro: what's the idiomatic way of checking a key/val store for a certain key, then modifying the store based on the result of the check
[03:29:54] *** Quits: summerlight_ (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[03:30:03] <Mutabah> bstrie: .entry()?
[03:30:17] <bstrie> Mutabah: I don't know how that api works :\
[03:30:23] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[03:31:06] <Mutabah> bstrie: Well, it's a API design, take a look at HashMap::entry()
[03:31:24] <Mutabah> bstrie: It borrows the collection mutably, and returns a handle to a (possibly populated) slot in the map
[03:31:41] <Mutabah> bstrie: You can match on that, and either mutate the already present entry, or cheaply insert a new one
[03:32:31] <bstrie> I would like an example to give to someone that says that rust "can't do this at all"
[03:33:14] *** Joins: reem (reem@moz-m5i.bm2.75.97.IP)
[03:35:44] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[03:36:10] <Eridius> bstrie: I'm guessing this person is trying something like `match map.get_mut(&key) { Some(val) => mutate(val), None => map.insert(key, newVal) }` which of course will have the problem of the map being borrowed when it tries to insert
[03:37:09] *** Quits: blaenk_ (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[03:37:58] <Eridius> hrm, why was std::collections::hash_map::Entry::get() deprecated? The notice said it's replaced with the more ergnomic or_insert() and or_insert_with() except those functions aren't equivalent
[03:38:07] *** Joins: bleibig (bleibig@moz-kn8mvj.ca.comcast.net)
[03:38:26] <Eridius> well, you can match on the Entry itself to find if it's Occupied or Vacant to recover that ability
[03:38:40] <Mutabah> Eridius: I think Entry is supposed to be matched
[03:38:47] <Eridius> (the ability being to behave differently if it was empty, rather than filling in a default and then mutating it)
[03:39:10] <Eridius> I guess matching against the enum is sufficient. I was just a bit surprised reading that deprecation notice because they're not equivalent functions
[03:39:22] <Eridius> also, for some reason the docs page on Entry lists the impl twice
[03:39:47] <Mutabah> yeah, I've seen it do that before
[03:39:59] <bstrie> I still don't understand how to work with the Entry
[03:41:04] <Mutabah> https://github.com/thepowersgang/rust-cc/blob/master/src/ast/mod.rs#L64
[03:41:21] <Eridius> bstrie: looks like you can say something like `*map.entry(key).or_insert(0) += 1` if e.g. you have a HashMap<Key,i32> and are using it to count things
[03:41:34] <Mutabah> Eridius: Yep
[03:41:48] <Mutabah> That looks quite lovely
[03:41:48] <Eridius> or you can match against it directly
[03:41:53] <Rym> bstrie: http://is.gd/Ld2v1t
[03:42:21] <bstrie> also, why is Entry under hash_map? is this not a standard API for all collections?
[03:42:30] <Mutabah> bstrie: It's a standard API model
[03:42:42] <Mutabah> bstrie: But the implementation differs (because the underlying strucutre is different)
[03:42:50] <Mutabah> bstrie: It's kinda like the various Iter object
[03:42:52] <Eridius> Mutabah: that example you gave would actually be cleaner as `self.structs.entry(key).or_insert_with(|| ::types::Struct::new_ref(name)).clone()`
[03:42:53] <Mutabah> *objects
[03:43:02] <Mutabah> Eridius: Yeah, it was written before that method existed
[03:43:06] <Eridius> fair enough
[03:43:16] <Mutabah> I don't know if that codebase compiles with latest nightly tbqh
[03:43:32] <Eridius> I do wish Rust had a shorthand for referring to enum variants when the context unambiguously requires that enum. I love how Swift lets me just say `.Foo` for a variant
[03:44:01] <Mutabah> Eridius: Yeah, it would be nice if match acted that way
[03:44:33] <Mutabah> However, I think it would be non-trivial to handle
[03:44:44] <Mutabah> (it needs knowing the type of the match controller, which isn't known until type resolution)
[03:46:28] <bstrie> Rym: thanks
[03:47:31] <bstrie> woah woah woah, since when does `match` not let me ignore the return type of a thing? http://is.gd/etfmCe
[03:47:32] *** Quits: reem (reem@moz-m5i.bm2.75.97.IP) (Connection closed)
[03:47:34] *** Joins: reem (reem@moz-m5i.bm2.75.97.IP)
[03:47:53] <Eridius> bstrie: since the match evaluates to a value and you didn't semicolon-terminate it
[03:48:23] <frewsxcv> yes, what Eridius said
[03:48:29] <bstrie> Eridius: I thought `if` and `match` auto-inserted semicolons if they weren't part of a larger statement
[03:48:40] <Eridius> if you used true => { 1; } false => { 2; } then you don't need to semicolon-terminate the match itself
[03:48:57] <bstrie> that's so ugly though
[03:49:01] <Eridius> bstrie: people generally semicolon-terminate the bodies of if statements if they aren't explicitly trying to return a value
[03:49:02] <bstrie> I just want to use the arms for side effects :(
[03:49:10] <frewsxcv> bstrie: http://is.gd/lvJkYA
[03:49:15] <frewsxcv> then add a semicolon
[03:49:29] <frewsxcv> i don't think rust ever adds semicolons like you suggest
[03:49:35] <bstrie> I know that I can add a semicolon there, but it's so gross
[03:49:42] <frewsxcv> why?
[03:49:51] <bstrie> how is it that I've *never* hit this in four years of using rust
[03:50:13] <frewsxcv> this has always been the case and makes sense
[03:50:22] <frewsxcv> it's an expression that you don't want to return. add a semicolon.
[03:50:31] <ebfull> yeah it's always been like that with match statements afaik
[03:50:32] <Eridius> maybe you've just never happened to evaluate an expression purely for its side-effect when it's the sole expression of a match arm and wasn't long enough to justify using {} and a newline?
[03:50:41] *** Joins: c74d3 (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[03:50:51] <scott> bstrie: sometimes the side-effecty arms look like { a; b; }, which would preclude the problem
[03:50:53] *** Quits: reem (reem@moz-m5i.bm2.75.97.IP) (Connection closed)
[03:51:01] *** Quits: c74d (c74d3a4ebb6@moz-bpqgf0.mggc.hibn.4404.2002.IP) (Ping timeout: 121 seconds)
[03:51:04] <bstrie> Eridius: I guess so
[03:54:01] <Gankro> bstrie: http://doc.rust-lang.org/std/collections/#entries
[03:54:24] *** Joins: reem (reem@moz-90buup.hfc.comcastbusiness.net)
[03:55:01] <Gankro> I made the api too ergonomic so the examples are too same-y now :S
[03:55:41] <Eridius> haha
[03:57:20] *** Joins: summerlight_ (summerlight@moz-99k.2mj.130.121.IP)
[03:57:57] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[03:58:45] *** Quits: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Ping timeout: 121 seconds)
[04:00:53] *** Joins: mib_bcwmn1 (Mibbit@moz-juv.9o3.252.72.IP)
[04:02:30] *** Quits: mib_bcwmn1 (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:04:50] <bstrie> Gankro: is the entry API super unsafe under the hood?
[04:05:06] <Gankro> bstrie: no more than insertion
[04:05:15] <bstrie> Gankro: IOW if someone were implementing this on their own collection would they have any more unsafe code than is reasonable
[04:05:30] <Gankro> It basically runs the insertion algorithm up until it finds the place to insert and save's the algorithm's state
[04:05:56] <Gankro> modulo some extra bits to support `remove` if necessary
[04:07:49] <Mutabah> bstrie: Actually, I'd assume that entry() could be the only part of impl with unsafe
[04:08:09] <Eridius> a naive implementation doesn't even need to do that, it could just perform the entire insertion algorithm again if asked to insert
[04:08:26] <Gankro> Eridius: True; which is exactly what VecMap does >.>
[04:08:43] <Eridius> so entry() could actually just be implemented in terms of get_mut() and insert() if need be
[04:08:49] <Eridius> i.e. with zero unsafe code
[04:09:07] <Mutabah> Eridius: Yup
[04:09:10] <Mutabah> (just looked my impl)
[04:09:40] <Mutabah> Actually, mine is fully safe... because it uses Vec::insert()
[04:12:56] <bstrie> Gankro: thanks for these docs, they good
[04:13:39] *** Quits: Rym (y@moz-o8t.887.55.31.IP) (Ping timeout: 121 seconds)
[04:16:55] *** Quits: reem (reem@moz-90buup.hfc.comcastbusiness.net) (Connection closed)
[04:18:03] *** Joins: reem (reem@moz-m5i.bm2.75.97.IP)
[04:19:21] *** Quits: reem (reem@moz-m5i.bm2.75.97.IP) (Connection closed)
[04:20:46] *** Joins: reem (reem@moz-90buup.hfc.comcastbusiness.net)
[04:24:16] *** Quits: reem (reem@moz-90buup.hfc.comcastbusiness.net) (Connection closed)
[04:37:11] *** Joins: reem (reem@moz-90buup.hfc.comcastbusiness.net)
[04:37:26] *** Quits: reem (reem@moz-90buup.hfc.comcastbusiness.net) (Connection closed)
[04:37:47] *** Joins: reem (reem@moz-90buup.hfc.comcastbusiness.net)
[04:39:16] <Eridius> is there any official place to comment on the utility of unstable functions? I see a function right now marked "Unstable: unclear whether this function is necessary" and I'm about to use the function, so I want to give support to keeping it
[04:39:58] *** Joins: Rym (y@moz-o8t.887.55.31.IP)
[04:41:44] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[04:42:11] *** Quits: reem (reem@moz-90buup.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[04:44:26] *** Quits: Rym (y@moz-o8t.887.55.31.IP) (Ping timeout: 121 seconds)
[04:45:56] *** Quits: bytewise (bytewise@moz-5gneu8.adsl.alicedsl.de) (Quit: Leaving)
[04:50:06] *** Joins: reem (reem@moz-90buup.hfc.comcastbusiness.net)
[04:51:56] *** Quits: reem (reem@moz-90buup.hfc.comcastbusiness.net) (Connection closed)
[04:53:09] <brson> Eridius: perhaps this thread http://users.rust-lang.org/t/using-unstable-apis-tell-us-about-it/157/46
[04:53:10] <Gankro> Eridius: http://users.rust-lang.org/t/using-unstable-apis-tell-us-about-it/157/98
[04:53:27] <brson> my link is best
[04:53:29] <brson> click mine
[04:53:54] <brson> i'll be able to tell if you click Gankro's
[04:54:00] <Gankro> I concede, brson's is clearly the best because it demonstrates he's read less of the thread ;)
[04:54:49] <Gankro> :O unsafe_destructor is really truly dead!?
[04:55:09] <Gankro> Oh wait it's just ungated :(
[04:55:38] <brson> really?
[04:55:48] *** Parts: waieez (Quantitativ@moz-gmgfu1.cicril.sbcglobal.net) ()
[04:55:53] <Eridius> heh thanks
[04:57:05] <Gankro>  brson: really to which?
[05:00:13] <brson> that unsafe_destructor made it into stable rust
[05:00:16] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[05:00:23] <brson> i thought pnkfelix was in the final stages of killing it
[05:00:38] <Gankro> brson: https://github.com/contain-rs/blist/pull/7/files
[05:00:45] <Gankro> No warnings on travis
[05:01:18] <brson> Gankro: i'm guessing #[unsafe_destructor] turned into a nop
[05:01:21] <brson> but not sure
[05:01:24] <Gankro> brson: I agree with your thought, though.
[05:01:41] <Gankro> That's why I thought it was dead when I saw this PR
[05:01:49] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[05:03:01] <brson> Gankro: the comment on unsafe_destructor feature says 'deprecate after snapshot'
[05:03:14] <Gankro> brson: sweet
[05:05:03] <brson> I think rustc just ignores #[unsafe_destructor] now.
[05:06:04] <brson> yeah, it's on the whitelist of attributes as 'does nothing'
[05:21:44] <frewsxcv> sorry for all my small PRs tonight :P
[05:22:44] <kmc> brson: wooooo
[05:31:30] *** Quits: ELD (textual@moz-mqboa7.co.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[05:33:10] <Eridius> argh, io::Error is not Sync, so I can't put it in an Arc and have the result be Send
[05:34:06] *** Joins: Rym (y@moz-o8t.887.55.31.IP)
[05:35:48] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[05:38:37] *** Quits: Rym (y@moz-o8t.887.55.31.IP) (Ping timeout: 121 seconds)
[05:48:34] <Manishearth> brson: I and ted were discussing yesterday -- do we plan to move the rust CI infra to taskcluster?
[05:53:06] <brson> Manishearth: it's not clear, but if so it would be incrementally. taskcluster only works with 64-bit linux
[05:53:33] <brson> Manishearth: first step is to split the CI builds into a build step, then a massively-parallel test step
[05:53:52] <brson> because that's what taskcluster likes
[05:53:57] <brson> lots of small parallel tasks
[05:54:29] <brson> My vague plan is to do that refactoring using just buildbot - then integrate taskcluster *into* buildbot
[05:54:56] <brson> spliting the auto builds into build -> test will cut the number of builds about in half, which will save some money
[05:55:13] <brson> because right now we do the same build on two machines then run the tests in diff configs
[05:55:45] <brson> but if we do that refactoring in buildbot and also switch to spot instances (which buildbot can theoretically do)
[05:55:51] <brson> we've achieved most of the benefit of taskcluster
[05:56:55] <Manishearth> brson: right
[05:56:59] *** Joins: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[05:57:42] <Manishearth> According to ted my plans for an autolander (one that makes smarter rollups) would work better with taskcluster
[05:58:04] <brson> what is your plan and why is it better w/ taskcluster?
[05:58:06] <brson> and who is ted?
[05:58:13] <Manishearth> Ted Mielczarek
[05:58:21] <Manishearth> one of the automation team members
[05:58:28] <brson> for b2g?
[05:58:40] <Manishearth> He was trying to hammer on Servo-ios, and we started discussing CI in general
[05:58:47] <Manishearth> brson: https://gist.github.com/Manishearth/f2971973e164be03890a
[05:59:16] <Manishearth> better with taskcluster -- not sure, ted just said that it would be easier
[05:59:23] <Manishearth> brson: Firefox/b2g, I think
[05:59:25] <Manishearth> not sure
[05:59:47] <Manishearth> He was conducting the build system discussion at Portland, can't remember if you were there (Alex was)
[06:00:24] <Manishearth> I think you were too (the Rust-on-Windows and Rust-in-Gecko one)
[06:01:29] * brson reading
[06:06:31] <brson> Manishearth: this plan looks pretty good to me
[06:06:47] <brson> and yeah, taskcluster makes it easier to coordinate these chains of events
[06:06:59] <brson> mostly because it's not a CI system but a task scheduler library
[06:07:09] <brson> obv buildbot could be made to do it as well though
[06:07:52] <brson> we'll need a lot more instances, which means we must switch to spot instances
[06:08:43] <brson> Manishearth: do you anticipate doing the re-rollup tests under all configs, or enough to have some confidence?
[06:08:48] <brson> *pre-rollup
[06:09:25] <brson> when we switch to spot instances we'll need to set up a distributed ccache for the llvm builds
[06:09:43] <brson> an extension to your plan might use a distributed cargo-cache to speed up the post-rollup build too
[06:10:01] <brson> i.e. pick X builds that look like they touch different parts of the codebase and don't invalidate the cache
[06:10:20] <brson> oh, no that wouldn't work because the rollup has to be rebased on whatever landed while the pre-rollup tests were running
[06:11:02] <brson> not sure how this would effect homu offhand, a lot of the merging logic would probably just be part of buildbot
[06:11:19] <brson> (is it clear that i think moving off of buildbot is a very long term project?)
[06:12:23] <brson> we'll have to pay a few X more for our macs because there are no such things as mac spot instances
[06:13:20] *** Quits: hoverbear (hoverbear@moz-csaicn.gv.shawcable.net) (Quit: Time to hibernate.... ZzZz...)
[06:14:57] <Manishearth> brson: I think if we want to do buildbot we'd need to do the scheduling in an app like homu
[06:15:14] <Manishearth> brson: the original plan was to pick a config, not do try on all configs
[06:15:18] <Manishearth> And I think that will work
[06:15:29] <brson> who picks the config?
[06:15:38] <brson> and why do you think that will work ;)?
[06:15:47] <Manishearth> we don't get that many platform-specific failures for PRs that aren't obviously platform specific (or libc related)
[06:16:15] <Manishearth> That's one reason why I was doing rollups (the other was becasue it was necessary :P). To get an idea of what sorts of failures we have
[06:16:42] <brson> what does a reviewer do when they see a platform-specific patch?
[06:17:07] <Manishearth> brson: r+ p=individual
[06:17:22] <brson> the script that does the pre-rollup testing could be its own thing yeah
[06:17:29] <brson> that just pushes to branches like homu
[06:17:32] <Manishearth> yep
[06:17:41] <brson> and feeds data about which are ready to homu somehow
[06:17:43] <brson> maybe over github?
[06:17:49] <brson> god we have so many bots
[06:17:53] <brson> they'll be talking to each other
[06:17:58] <Manishearth> My original idea was just to build this on top of homu
[06:18:44] <brson> Do you think it would be ok to do all pre-rollup tests on 64-bit linux?
[06:19:08] <brson> that could make life simpler
[06:19:28] <brson> nearly trivial
[06:19:34] <brson> just create 20 pre-auto branches
[06:19:42] <brson> attached to spot instances
[06:19:59] <Manishearth> brson: yes
[06:20:00] <brson> that are all configured identically
[06:20:03] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[06:20:47] <Manishearth> if we subtract all platform specific changes (libc stuff, low level stuff like threading and whatnot),  P(passes|passes on linux) is quite high
[06:21:02] <Manishearth> (or windows, or mac)
[06:21:42] <brson> I think the bare minimum pre-requisite to undertaking something like this is to switch our current stuff to spot instances, so we don't increase our costs
[06:21:47] <Manishearth> ah
[06:22:12] <Manishearth> well, I won't have the time to implement this until ... at least a month (and then it depends on how busy my intern will be)
[06:22:50] *** Quits: enix (enix@moz-0mgr2v.fios.verizon.net) (Ping timeout: 121 seconds)
[06:23:31] <Manishearth> mostly I was focused on figuring out a good design, and looking at how the rollups perform to see how well it will work
[06:25:19] <brson> I feel pretty good about trying it. When you are ready I can set you up on aws to work in the dev environment
[06:25:57] <Manishearth> thanks
[06:26:38] <Manishearth> I think as far as Rust infra goes my personal priority would be the occasional valgrind/linux32-emulation builders
[06:26:46] *** Quits: TheDan64 (TheDan64@moz-6hceng.ma.charter.com) (Quit: Leaving)
[06:27:29] <Manishearth> this autolander design would be great to have, but it addresses dev problems, not user problems, and right now we should focus on user problems (perf, for example)
[06:27:39] <Manishearth> (also it's a lot of work :P)
[06:27:51] <brson> it does sound like a lot of work
[06:28:01] <brson> the build-test cycle for rust CI is very very painful
[06:28:11] <Manishearth> yes
[06:28:13] *** Joins: Rym (y@moz-o8t.887.55.31.IP)
[06:28:42] <brson> you get a few runs a day, make some tweaks tomorrow, try again
[06:28:44] <brson> takes forever
[06:28:53] <Manishearth> yeah
[06:32:32] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[06:32:32] *** ChanServ sets mode: +o pcwalton
[06:32:45] *** Quits: Rym (y@moz-o8t.887.55.31.IP) (Ping timeout: 121 seconds)
[06:33:36] <brson> spot instances plus distributed ccache as fist steps actually
[06:33:45] <brson> don't think spot instances will fly without caching the llvm build
[06:34:03] <Manishearth> right
[06:34:39] <Manishearth> My solution didn't really consider the details of the cost
[06:34:53] <brson> spot instances also are prone to shutting down, and with our long builds there may be bad complications there
[06:34:54] <Manishearth> The idea was to solve the problem by throwing money at it
[06:35:14] <Manishearth> ah, that makes sense
[06:35:27] <brson> heh, unfortunately i have strong orders not to spend *more* money on CI
[06:36:06] *** Joins: marsel (user@moz-1so.9a8.180.94.IP)
[06:36:29] <brson> that's one thing taskcluster is good at - it's resilient to flaky infrastructure
[06:36:39] <brson> buildbot just gives up and dies as soon as something goes south
[06:37:09] <Manishearth> aw
[06:37:36] <brson> buildbot's spot instance support probably accounts for disappearing slaves though
[06:37:44] <brson> it's one of the big risks of spot instances
[06:38:20] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[06:39:16] <brson> reducing aws expenses is a big priority for the projct, so maybe i can prioritize it to do myself after 1.0
[06:39:28] <brson> the spot instances that is
[06:39:30] <Manishearth> ah
[06:40:00] <Manishearth> Servo uses fixed linode boxes
[06:40:12] <Manishearth> not sure if that's cheaper (probably not)
[06:40:23] <brson> i'm not sure either. i imagine we run a lot more machines
[06:40:57] <brson> cheper than non-spot instances for sure
[06:41:03] <Manishearth> yeah
[06:41:22] <Manishearth> We have 7 machines
[06:42:19] <brson> rust has 33 slaves configured in prod, though they don't all run all the time
[06:42:29] <brson> then several other machines for other purposes
[06:43:07] <brson> right now we're running 13 slaves
[06:43:18] <Manishearth> yeah, I've seen
[06:43:19] <brson> oh, but one is bitrig1
[06:56:32] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[07:01:17] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Connection closed)
[07:04:38] *** Quits: barosl (barosl@moz-tmp.qma.67.220.IP) (Connection closed)
[07:06:24] *** Joins: squiddy (squiddy@moz-4bg3b0.adsl.alicedsl.de)
[07:06:32] *** Joins: dinfuehr (dinfuehr@moz-7bk8d7.highway.telekom.at)
[07:09:49] *** Joins: barosl (barosl@moz-tmp.qma.67.220.IP)
[07:11:49] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[07:14:30] *** Joins: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net)
[07:18:35] *** Quits: brson (brson@moz-sn7.c9m.56.172.IP) (Quit: leaving)
[07:20:30] <Manishearth> steveklabnik: should this be necessary? wes
[07:20:35] <Manishearth> https://github.com/Manishearth/rust/commit/b62c11023c4fdbb1e6ef9f074310a8e95db7827e
[07:20:50] <Manishearth> the rustdoc parser chokes on lines that are just a #
[07:22:25] *** Joins: Rym (y@moz-o8t.887.55.31.IP)
[07:22:39] *** Quits: summerlight_ (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[07:26:53] *** Quits: Rym (y@moz-o8t.887.55.31.IP) (Ping timeout: 121 seconds)
[07:35:21] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Connection closed)
[07:42:11] *** Quits: dinfuehr (dinfuehr@moz-7bk8d7.highway.telekom.at) (Connection closed)
[07:43:55] *** Quits: squiddy (squiddy@moz-4bg3b0.adsl.alicedsl.de) (A TLS packet with unexpected length was received.)
[07:45:08] *** Joins: mjboa (mike@moz-g6do7p.dip0.t-ipconnect.de)
[07:45:37] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[07:52:39] *** Joins: reem (reem@moz-90buup.hfc.comcastbusiness.net)
[07:56:49] *** Quits: reem (reem@moz-90buup.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[08:01:33] *** Quits: Mutabah (tpg@moz-hklpnj.mutabah.net) (Ping timeout: 121 seconds)
[08:02:44] *** Joins: ok32 (ok32@moz-i89.uc8.106.77.IP)
[08:07:04] *** Joins: Mutabah (tpg@moz-hklpnj.mutabah.net)
[08:07:42] *** Quits: marsel (user@moz-1so.9a8.180.94.IP) (Ping timeout: 121 seconds)
[08:08:08] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[08:15:51] *** Joins: enix (enix@moz-0mgr2v.fios.verizon.net)
[08:16:32] *** Joins: Rym (y@moz-o8t.887.55.31.IP)
[08:17:23] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[08:19:37] *** Joins: hirschen (hirschen@moz-m0mlis.h7ls.rebm.810b.2a02.IP)
[08:21:02] *** Quits: Rym (y@moz-o8t.887.55.31.IP) (Ping timeout: 121 seconds)
[08:28:34] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[08:35:57] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[08:40:01] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[08:41:18] <bstrie> at some point I want to split rustc and the stdlib out into separate repos, if only so that rustdoc's output stops being so cluttered with rustc's million APIs that I don't care about
[08:50:21] *** Joins: imperio (Mibbit@moz-0ebgt2.fbx.proxad.net)
[08:50:27] *** Joins: tjakubow (tom@moz-ag87jj.fios.verizon.net)
[08:53:16] *** Quits: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net) (Connection closed)
[09:04:53] *** Joins: minzh (minzh@moz-tak.b70.39.106.IP)
[09:10:39] *** Joins: Rym (y@moz-o8t.887.55.31.IP)
[09:11:58] *** Quits: imperio (Mibbit@moz-0ebgt2.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[09:12:10] *** Joins: imperio (Mibbit@moz-0ebgt2.fbx.proxad.net)
[09:12:12] *** Joins: summerlight_ (summerlight@moz-99k.2mj.130.121.IP)
[09:12:34] <bluss> bstrie: cleaning up docs will already happen regardless I think
[09:15:11] *** Quits: Rym (y@moz-o8t.887.55.31.IP) (Ping timeout: 121 seconds)
[09:19:40] *** Quits: minzh (minzh@moz-tak.b70.39.106.IP) (A TLS packet with unexpected length was received.)
[09:24:00] *** Quits: summerlight_ (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[09:25:11] *** Quits: imperio (Mibbit@moz-0ebgt2.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[09:32:15] *** Joins: larhat (Adium@moz-9vj.vcf.204.37.IP)
[09:32:46] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[09:34:15] *** Joins: pczarn (piotr@moz-9un7t9.izacom.pl)
[09:34:32] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[09:37:04] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[09:38:51] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[09:40:11] <Manishearth> bstrie: I believe the plan is to not expose internal docs in beta at any rate
[09:40:28] <Manishearth> personally speaking I need the rustc docs for plugins :P
[09:41:08] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[09:41:37] *** Joins: minzh (minzh@moz-pu2.b70.39.106.IP)
[09:42:05] <bluss> half of the rustc crates are already hidden in the beta docs
[09:42:50] <bluss> the list of implementors of Iterator is noticably shorter
[09:47:59] *** Quits: _td (tatterdemal@moz-a0dnkb.ca.comcast.net) (Quit: Leaving)
[09:49:19] *** Quits: minzh (minzh@moz-pu2.b70.39.106.IP) (A TLS packet with unexpected length was received.)
[09:50:22] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[10:03:12] *** Quits: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk) (Ping timeout: 121 seconds)
[10:06:29] *** Quits: tjakubow (tom@moz-ag87jj.fios.verizon.net) (Ping timeout: 121 seconds)
[10:13:09] *** Quits: O01eg (o01eg@moz-s1po2u.itej.3egh.2698.2a02.IP) (Client exited)
[10:17:04] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[10:22:17] *** Quits: Defaultti (Defaultti@moz-bmdn13.kapsi.fi) (Quit: Quitting.)
[10:24:00] *** Joins: Defaultti (Defaultti@moz-bmdn13.kapsi.fi)
[10:37:14] *** Quits: dustinm` (dustinm@moz-es6jb7.ip-167-114-152.net) (Ping timeout: 121 seconds)
[10:37:49] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[10:37:58] *** Joins: marsel (user@moz-hki.vdo.180.94.IP)
[10:41:52] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[10:41:54] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[10:52:47] *** Joins: dustinm` (dustinm@moz-1c1j82.fu2o.sj0n.5300.2607.IP)
[10:53:08] <bstrie> nmatsakis: looking at the derivation RFC, now that Copy: Clone I think we can simplify the proposed rule to "deriving a trait also attempts to derive all supertraits", yes?
[10:53:56] <WindowsBunny> bstrie: But what if I want to auto-derive a trait but provide a manual super trait impl
[10:55:29] <bstrie> WindowsBunny: ideally the implementation of the feature would only insert the automatic derivation when a user hasn't done that, but I don't know how difficult that would be to implement
[10:55:45] <bstrie> WindowsBunny: if you have objections, add them to the RFC :)
[10:56:28] <bstrie> https://github.com/rust-lang/rfcs/pull/1028
[10:58:59] *** Joins: Rym (y@moz-o8t.887.55.31.IP)
[11:03:31] *** Quits: Rym (y@moz-o8t.887.55.31.IP) (Ping timeout: 121 seconds)
[11:04:10] *** Quits: ok32 (ok32@moz-i89.uc8.106.77.IP) (Connection closed)
[11:04:32] *** Joins: ok32 (ok32@moz-imu.af0.232.213.IP)
[11:23:29] *** Joins: dinfuehr (dominik@moz-7bk8d7.highway.telekom.at)
[11:33:19] *** Quits: larhat (Adium@moz-9vj.vcf.204.37.IP) (Quit: Leaving.)
[11:37:03] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[11:37:52] *** Joins: summerlight_ (summerlight@moz-99k.2mj.130.121.IP)
[11:38:34] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[11:42:37] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[11:53:16] *** Joins: Rym (y@moz-o8t.887.55.31.IP)
[11:54:26] *** Quits: hugod (user@moz-885.jmo.24.70.IP) (Connection closed)
[11:57:38] *** Quits: Rym (y@moz-o8t.887.55.31.IP) (Ping timeout: 121 seconds)
[11:58:14] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[12:02:23] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[12:07:44] *** Joins: ytain (ytain@moz-6bg2hd.dsl.teksavvy.com)
[12:09:20] *** Joins: James_ (quassel@moz-s85ors.range86-163.btcentralplus.com)
[12:23:13] *** Joins: imperio (Mibbit@moz-0ebgt2.fbx.proxad.net)
[12:27:54] *** Quits: dinfuehr (dominik@moz-7bk8d7.highway.telekom.at) (Ping timeout: 121 seconds)
[12:27:58] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[12:31:50] *** Quits: hirschen (hirschen@moz-m0mlis.h7ls.rebm.810b.2a02.IP) (Ping timeout: 121 seconds)
[12:32:17] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[12:39:20] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[12:41:43] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[12:43:23] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[12:47:16] *** Joins: Rym (y@moz-o8t.887.55.31.IP)
[12:48:21] *** Joins: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de)
[12:51:48] *** Quits: Rym (y@moz-o8t.887.55.31.IP) (Ping timeout: 121 seconds)
[13:05:25] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[13:06:19] *** Quits: mceier (mceier@moz-fm89sb.dynamic.chello.pl) (Ping timeout: 121 seconds)
[13:08:21] *** Joins: mceier (mceier@moz-fm89sb.dynamic.chello.pl)
[13:08:44] *** Quits: tiffany (lymia@moz-6q5ofr.lyrical.lymia.moe) (Quit: ZNC - http://znc.in)
[13:09:33] *** Joins: tiffany (lymia@moz-6q5ofr.lyrical.lymia.moe)
[13:10:38] *** Quits: pczarn (piotr@moz-9un7t9.izacom.pl) (Quit: WeeChat 1.1.1)
[13:11:54] *** Quits: Kxepal (Miranda@moz-adleo0.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[13:13:09] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Quit: Leaving.)
[13:13:32] *** Joins: Kxepal (Miranda@moz-8vigu6.pppoe.mtu-net.ru)
[13:13:46] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[13:22:33] *** Joins: minzh (minzh@moz-ajh.58o.206.111.IP)
[13:28:57] *** Joins: dinfuehr (dinfuehr@moz-78fv5o.highway.telekom.at)
[13:31:41] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Ping timeout: 121 seconds)
[13:37:33] *** Joins: slimersssd (Mibbit@moz-juv.9o3.252.72.IP)
[13:39:14] *** Quits: dcrewi (david@moz-3u3d5k.gyrae.net) (Connection closed)
[13:40:06] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[13:41:26] *** Joins: Rym (y@moz-o8t.887.55.31.IP)
[13:43:04] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[13:44:09] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[13:44:19] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[13:45:58] *** Quits: Rym (y@moz-o8t.887.55.31.IP) (Ping timeout: 121 seconds)
[13:47:10] *** Joins: etw (john@moz-2lpgmu.fios.verizon.net)
[13:47:13] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Ping timeout: 121 seconds)
[13:47:40] *** Quits: slimersssd (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:58:25] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[13:59:28] *** Joins: mib_q5y2y1 (Mibbit@moz-juv.9o3.252.72.IP)
[14:02:34] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Ping timeout: 121 seconds)
[14:03:36] *** Quits: mib_q5y2y1 (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:10:52] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[14:13:40] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[14:13:43] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[14:17:52] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Ping timeout: 121 seconds)
[14:17:58] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[14:19:30] *** Quits: minzh (minzh@moz-ajh.58o.206.111.IP) (A TLS packet with unexpected length was received.)
[14:19:50] *** Joins: pczarn (piotr@moz-9un7t9.izacom.pl)
[14:29:05] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[14:33:14] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Ping timeout: 121 seconds)
[14:35:15] *** Joins: akawaka (akawaka@moz-0bb8q8.irvnca.sbcglobal.net)
[14:35:36] *** Joins: Rym (y@moz-o8t.887.55.31.IP)
[14:38:57] *** kimundi is now known as zz_kimundi
[14:40:08] *** Quits: Rym (y@moz-o8t.887.55.31.IP) (Ping timeout: 121 seconds)
[14:40:27] <steveklabnik> Manishearth: there's an issue open, but yes, that's current behavior
[14:40:57] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[14:44:24] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[14:45:10] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[14:48:38] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Ping timeout: 121 seconds)
[14:50:10] *** Joins: scialex (scialex@moz-j5mi8i.cs.brown.edu)
[14:50:25] <Manishearth> kay
[14:50:39] <Manishearth> No, just letting you know that it happens and pro bably should be fixed :)
[14:52:44] *** Joins: mib_vgfoja (Mibbit@moz-juv.9o3.252.72.IP)
[14:53:35] *** Joins: Rym (y@moz-o8t.887.55.31.IP)
[14:58:12] *** Joins: petrochenkov (Mibbit@moz-odrbta.broadband.corbina.ru)
[14:59:46] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[15:01:04] <petrochenkov> Hi. What does DPS mean in context of translation? Like in `RvalueDpsExpr`.
[15:03:36] *** Quits: mib_vgfoja (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:03:55] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Ping timeout: 121 seconds)
[15:12:31] <scialex> Hey I want to include some rust functions taken from liballoc in a paper I am writing. Is there any specific requirements for copyright/attribution?
[15:13:06] <kmc> I'm not aware of anything besides the stated license -- Apache 2 or MIT, at your choice
[15:13:21] <kmc> https://github.com/rust-lang/rust/blob/master/LICENSE-APACHE https://github.com/rust-lang/rust/blob/master/LICENSE-MIT
[15:13:43] <kmc> nmatsakis or steveklabnik might have opinions on the best way to cite "the rust language" or "the rust standard library"
[15:14:00] <steveklabnik> i mean, MIT is pretty straightforward, just reproduce it
[15:14:09] <steveklabnik> I'm pretty sure we just say "The Rust Project Developers"
[15:14:30] <scialex> steveklabnik: In the code example?
[15:15:07] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[15:15:22] <scialex> steveklabnik, would this be sufficent: "Copyright 2014 The Rust Project Developers. Licensed under the Apache License, Version 2.0"
[15:17:01] *** Quits: enix (enix@moz-0mgr2v.fios.verizon.net) (Ping timeout: 121 seconds)
[15:17:08] *** Joins: hoverbear (hoverbear@moz-csaicn.gv.shawcable.net)
[15:19:17] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Ping timeout: 121 seconds)
[15:19:27] <steveklabnik> https://github.com/rust-lang/rust/blob/master/LICENSE-MIT#L1 <-
[15:19:32] <steveklabnik> oh, you want to cite apache
[15:19:46] <steveklabnik> https://github.com/rust-lang/rust/blob/master/LICENSE-APACHE#L189
[15:19:48] <steveklabnik> ahahahahahahaha
[15:20:25] <steveklabnik> but yeah scialex i think that's fine
[15:20:28] <steveklabnik> ianal though
[15:21:20] <scialex> steveklabnik, cool. thanks.
[15:24:26] <imperio> I have question : why can't use feature ? And why can't I don't use features ? I have error with and without them. What's happening ?
[15:25:09] <steveklabnik> imperio: beta cannot use feature flags
[15:25:12] <steveklabnik> only nightly can
[15:25:19] <steveklabnik> http://blog.rust-lang.org/2014/10/30/Stability.html
[15:25:21] <steveklabnik> ^^^
[15:25:34] <imperio> I thin I'm not gonna like that at all
[15:25:58] <steveklabnik> then just stick to nightly ;)
[15:26:14] <imperio> that's what I'm looking for ^^
[15:26:53] <imperio> hum... no reference to that. How do you switch to nightly ?
[15:27:14] <steveklabnik> well
[15:27:21] <steveklabnik> this is more of a #rust question
[15:27:33] <steveklabnik> http://www.rust-lang.org/install.html <-
[15:28:13] <imperio> steveklabnik: oh okay ! I thought it was a compiler option !
[15:28:38] <steveklabnik> nope, it's a different build of the compiler :)
[15:29:25] <imperio> I leave for 2 days and when I come back, the whole world has already changed... That's scaring
[15:29:53] <imperio> scary, sorry
[15:29:56] <imperio> scarry
[15:29:56] <imperio> erf
[15:30:29] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[15:34:33] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[15:34:38] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Ping timeout: 121 seconds)
[15:34:51] *** Joins: eerie (eerie@moz-1v60sm.red.bezeqint.net)
[15:38:53] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[15:41:48] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[15:45:47] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[15:45:51] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[15:48:19] *** Joins: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net)
[15:50:01] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Ping timeout: 121 seconds)
[16:00:56] *** Joins: pitdicker (pitdicker@moz-328u1s.adsl.online.nl)
[16:01:14] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[16:03:47] *** sunfish-away is now known as sunfish
[16:04:20] *** Quits: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net) (Ping timeout: 121 seconds)
[16:04:46] *** Quits: eerie (eerie@moz-1v60sm.red.bezeqint.net) (Connection closed)
[16:05:01] *** Quits: pitdicker (pitdicker@moz-328u1s.adsl.online.nl) (Quit: Ik ga weg)
[16:05:08] *** Joins: eerie (eerie@moz-1v60sm.red.bezeqint.net)
[16:05:23] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Ping timeout: 121 seconds)
[16:16:32] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[16:20:42] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Ping timeout: 121 seconds)
[16:24:59] *** Joins: mr_evil (Mibbit@moz-idijir.cust.tele2.se)
[16:25:17] *** Quits: mr_evil (Mibbit@moz-idijir.cust.tele2.se) (Quit: http://www.mibbit.com ajax IRC Client)
[16:26:26] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[16:26:28] *** Joins: reem (reem@moz-90buup.hfc.comcastbusiness.net)
[16:31:54] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[16:31:57] *** Quits: mjboa (mike@moz-g6do7p.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[16:35:01] *** Joins: eerie_ (eerie@moz-1v60sm.red.bezeqint.net)
[16:36:00] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[16:36:00] *** ChanServ sets mode: +o pcwalton
[16:36:03] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Ping timeout: 121 seconds)
[16:38:11] *** Quits: eerie (eerie@moz-1v60sm.red.bezeqint.net) (Ping timeout: 121 seconds)
[16:41:50] *** Quits: reem (reem@moz-90buup.hfc.comcastbusiness.net) (Connection closed)
[16:41:54] *** Joins: reem (reem@moz-90buup.hfc.comcastbusiness.net)
[16:41:54] *** Quits: reem (reem@moz-90buup.hfc.comcastbusiness.net) (Connection closed)
[16:47:13] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[16:51:22] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Ping timeout: 121 seconds)
[16:53:14] *** Joins: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net)
[16:59:36] *** Quits: dinfuehr (dinfuehr@moz-78fv5o.highway.telekom.at) (Connection closed)
[17:01:31] *** Joins: eerie (eerie@moz-cf2l00.red.bezeqint.net)
[17:02:36] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[17:03:05] *** Quits: eerie_ (eerie@moz-1v60sm.red.bezeqint.net) (Ping timeout: 121 seconds)
[17:05:09] *** Joins: brson (brson@moz-8u1.c9m.56.172.IP)
[17:05:09] *** ChanServ sets mode: +o brson
[17:06:45] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Ping timeout: 121 seconds)
[17:07:49] *** Joins: whipsch (whipsch@moz-bl4i0b.from.irc.camp)
[17:17:50] *** Joins: waieez (Quantitativ@moz-gmgfu1.cicril.sbcglobal.net)
[17:17:55] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[17:22:04] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Ping timeout: 121 seconds)
[17:23:42] *** Quits: summerlight_ (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[17:26:50] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[17:27:30] *** Joins: reem (reem@moz-90buup.hfc.comcastbusiness.net)
[17:28:14] *** Quits: tiffany (lymia@moz-6q5ofr.lyrical.lymia.moe) (Quit: ZNC - http://znc.in)
[17:30:29] *** Joins: tiffany (lymia@moz-6q5ofr.lyrical.lymia.moe)
[17:30:31] <ebfull> are there any ways to speed up rust compilation?
[17:30:58] <ebfull> i want to test minor changes without having to recompile every stage again
[17:31:08] *** Quits: eerie (eerie@moz-cf2l00.red.bezeqint.net) (Connection closed)
[17:31:32] *** Joins: eerie (eerie@moz-cf2l00.red.bezeqint.net)
[17:32:33] *** Quits: tiffany (lymia@moz-6q5ofr.lyrical.lymia.moe) (Quit: ZNC - http://znc.in)
[17:33:04] <semarie> ebfull: depending the nature of your changes, compiling just a stage1 could be enough (with make rustc-stage1)
[17:33:17] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[17:33:54] *** Joins: tiffany (lymia@moz-6q5ofr.lyrical.lymia.moe)
[17:35:19] <semarie> you could also take also a look at "make tips", in particular NO_MKFILE_DEPS=1 NO_REBUILD=1 (but again, depending of your changes...)
[17:35:41] <ebfull> cool
[17:37:26] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Ping timeout: 121 seconds)
[17:38:46] <whipsch> funny, i was about to ask something similar
[17:40:51] <whipsch> unfortunately im guessing libsyntax is still going to take a long time to rebuild no matter what you pass along to make, yes?
[17:41:23] *** Joins: larhat (Adium@moz-9vj.vcf.204.37.IP)
[17:43:54] <cmr> yes
[17:44:20] <whipsch> :D
[17:44:56] *** Joins: reem_ (uid78397@moz-octfcu.brockwell.irccloud.com)
[17:45:05] *** Quits: reem (reem@moz-90buup.hfc.comcastbusiness.net) (Quit: )
[17:45:08] *** reem_ is now known as reem
[17:45:47] <whipsch> doesnt help that i also forgot to -j8 on this last attempt
[17:47:36] *** Joins: dinfuehr (dinfuehr@moz-78fv5o.highway.telekom.at)
[17:48:38] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[17:51:51] *** Quits: playbot (playbot@moz-1vk5qd.compute.amazonaws.com) (Connection closed)
[17:51:51] *** Quits: playbot-mini (playbot-min@moz-1vk5qd.compute.amazonaws.com) (Connection closed)
[17:51:53] *** Joins: playbot-mini (playbot-min@moz-1vk5qd.compute.amazonaws.com)
[17:51:54] *** Joins: playbot (playbot@moz-1vk5qd.compute.amazonaws.com)
[17:52:52] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Ping timeout: 121 seconds)
[17:53:04] *** Quits: barosl (barosl@moz-tmp.qma.67.220.IP) (Quit: Leaving)
[17:54:40] <petrochenkov> Btw, make check -j4 causes spurious test errors for me, something like "crate not found", but I don't remember exactly
[17:55:01] <petrochenkov> They don't happen with -j1. Is it known problem?
[17:55:40] <brson> petrochenkov: no
[17:55:46] <brson> make -jN should work
[17:55:54] *** Joins: barosl (barosl@moz-tmp.qma.67.220.IP)
[17:55:57] <brson> you might file a bug
[17:57:55] <petrochenkov> Ok, I'll try to repeat the errors to file a bug
[17:59:27] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[17:59:28] *** Quits: dinfuehr (dinfuehr@moz-78fv5o.highway.telekom.at) (Connection closed)
[17:59:49] *** Joins: dinfuehr (dinfuehr@moz-78fv5o.highway.telekom.at)
[18:01:35] *** Joins: eerie_ (eerie@moz-cf2l00.red.bezeqint.net)
[18:01:40] *** Quits: brson (brson@moz-8u1.c9m.56.172.IP) (Quit: leaving)
[18:01:57] <kmc> i've always had trouble with make -j check :/ 
[18:02:05] <kmc> i'll usually do make -j16 all && make check
[18:03:37] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Ping timeout: 121 seconds)
[18:04:03] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[18:04:44] *** Quits: eerie (eerie@moz-cf2l00.red.bezeqint.net) (Ping timeout: 121 seconds)
[18:04:54] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Connection closed)
[18:06:16] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Connection closed)
[18:06:34] *** Joins: mib_3p8h97 (Mibbit@moz-juv.9o3.252.72.IP)
[18:08:12] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Ping timeout: 121 seconds)
[18:08:37] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[18:09:30] *** Quits: scialex (scialex@moz-j5mi8i.cs.brown.edu) (Quit: Leaving)
[18:12:44] *** Quits: mib_3p8h97 (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:19:25] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[18:23:34] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Ping timeout: 121 seconds)
[18:30:02] <reem> Is there a way to get travis to run nightlies instead of beta?
[18:30:11] <reem> Generating *a lot* of spurious failures for me
[18:31:13] *** Quits: eerie_ (eerie@moz-cf2l00.red.bezeqint.net) (Connection closed)
[18:31:36] *** Joins: eerie (eerie@moz-cf2l00.red.bezeqint.net)
[18:31:40] <steveklabnik> yes
[18:31:53] <steveklabnik> check it: https://github.com/DaGenix/rust-crypto/blob/master/.travis.yml
[18:32:04] <steveklabnik> i'm gonna write up a bunch of stuff about this today or tomorrow
[18:32:12] <cmr> Cool, will that automatically do the matrix thing?
[18:32:15] <steveklabnik> library author advice for dealing with multi channels
[18:32:17] <steveklabnik> yup
[18:32:23] <steveklabnik> as far as i know, anwyay
[18:32:27] <reem> oh man does that run both?
[18:32:29] <steveklabnik> it builds both
[18:32:31] <reem> that's great
[18:32:50] <reem> does that generate two different status boxes on PRs?
[18:33:23] <steveklabnik> no
[18:33:30] <steveklabnik> the overall build is still success / fail
[18:33:33] <steveklabnik> you can do stuff like https://github.com/drapergem/draper/blob/428e36a94522230478110a7f3c62551f595112fc/.travis.yml#L21-L23
[18:33:40] <steveklabnik> you wouldn't use env though
[18:33:50] <steveklabnik> but like, you can say 'allow this to fail on nightly'
[18:33:51] <steveklabnik> etc
[18:34:43] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[18:37:28] <reem> cool
[18:38:52] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Ping timeout: 121 seconds)
[18:42:26] *** Quits: ok32 (ok32@moz-imu.af0.232.213.IP) (Connection closed)
[18:42:47] *** Joins: ok32 (ok32@moz-imu.af0.232.213.IP)
[18:43:52] <SimonSapin> So, I have some vague idea of what they’re for, but what’s the actual difference between *const T and *mut T?
[18:44:28] <SimonSapin> reference.html#pointer-types and std/ptr/index.html don’t really say
[18:44:42] <Tobba> mostly none
[18:45:02] <Tobba> *const T doesn't let you mutate by referencing
[18:45:10] <Tobba> dereferencing*
[18:46:00] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[18:46:54] *** Quits: ok32 (ok32@moz-imu.af0.232.213.IP) (Ping timeout: 121 seconds)
[18:47:03] <reem> iirc there aren't actually many rules about them directly, instead, it mostly matters where you got it from
[18:47:17] <reem> e.g. if you extracted from an &T you should use *const T, which helps you not break the rules
[18:47:33] <reem> but you could still get a *mut T and just not mutate through it
[18:48:08] <SimonSapin> I see, thanks
[18:49:22] *** c74d3 is now known as c74d
[18:50:05] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[18:51:22] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[18:51:55] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[18:54:06] *** Quits: Rym (y@moz-o8t.887.55.31.IP) (Ping timeout: 121 seconds)
[18:54:14] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Ping timeout: 121 seconds)
[19:00:23] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[19:01:12] *** Quits: eerie (eerie@moz-cf2l00.red.bezeqint.net) (Connection closed)
[19:01:39] *** Joins: eerie (eerie@moz-cf2l00.red.bezeqint.net)
[19:05:16] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[19:05:26] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[19:09:32] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[19:09:36] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Ping timeout: 121 seconds)
[19:11:03] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[19:14:36] <frewsxcv> does anyone have a link to that gist that links all the broken libraries?
[19:14:51] <frewsxcv> https://gist.github.com/brson/ddabedac32a325c91815
[19:14:52] <frewsxcv> nevermind
[19:17:54] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (A TLS packet with unexpected length was received.)
[19:20:36] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[19:20:45] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[19:22:26] <simukis> https://github.com/rust-lang/rust/pull/24029 `@bors try` someone?
[19:23:30] <simukis> cmr: thanks!
[19:23:34] <cmr> yup
[19:24:54] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Ping timeout: 121 seconds)
[19:28:16] <simukis> arrgh
[19:28:18] <simukis> forgot to add a file
[19:28:19] <simukis> sigh
[19:28:50] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:29:19] <simukis> cmr: is there perchance a `try force` or an equivalent??
[19:29:25] <cmr> I don't know
[19:30:11] <simukis> oh well, another try then, please 😃
[19:30:54] <simukis> thanks!
[19:36:08] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[19:40:17] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Ping timeout: 121 seconds)
[19:44:11] *** Joins: jculpon (peri@moz-8i8.vsk.251.12.IP)
[19:45:01] *** Quits: semarie (semarie@moz-8vk.jbp.187.37.IP) (A TLS packet with unexpected length was received.)
[19:45:18] *** Joins: scialex (scialex@moz-j5mi8i.cs.brown.edu)
[19:51:25] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[19:55:33] *** Joins: blaenk (blaenkdenum@moz-nhjd3p.n2pv.fsko.e000.2605.IP)
[19:55:39] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Ping timeout: 121 seconds)
[19:55:51] *** Joins: brson (brson@moz-ppb.c9m.56.172.IP)
[19:55:51] *** ChanServ sets mode: +o brson
[19:57:22] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[19:58:48] *** Quits: waieez (Quantitativ@moz-gmgfu1.cicril.sbcglobal.net) (Connection closed)
[20:02:31] *** Joins: simukis1 (nagisa@moz-8t068g.static.zebra.lt)
[20:02:38] <petrochenkov> I've reproduced the errors with `make check -j4` but it turned out, that an issue is already opened
[20:02:40] <petrochenkov> https://github.com/rust-lang/rust/issues/22021
[20:05:33] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[20:06:21] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[20:06:46] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[20:09:11] *** Quits: eerie (eerie@moz-cf2l00.red.bezeqint.net) (Connection closed)
[20:10:23] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[20:11:00] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Ping timeout: 121 seconds)
[20:11:59] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:19:24] <brson> multirust bugs are starting to pile up. I will get to them sometime this cycle, but it's mostly a freetime project
[20:19:28] <brson> entirely
[20:20:50] <brson> petrochenkov: thanks
[20:47:49] <petrochenkov> I've just checked, `make -j4 && make check -j4` works okay, i.e. running `all` strictly before `check-stage2` is sufficient condition
[21:04:28] *** Quits: jculpon (peri@moz-8i8.vsk.251.12.IP) (Quit: Textual IRC Client: www.textualapp.com)
[21:06:34] *** Quits: marsel (user@moz-hki.vdo.180.94.IP) (Ping timeout: 121 seconds)
[21:17:21] *** Quits: dinfuehr (dinfuehr@moz-78fv5o.highway.telekom.at) (Connection closed)
[21:37:18] *** Quits: imperio (Mibbit@moz-0ebgt2.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:41:56] <simukis1> anybody on os x could print me the value of PTHREAD_MUTEX_RECURSIVE?
[21:41:59] <simukis1> (C)
[21:42:19] * kmc writes a cargo build script library that goes on IRC and asks the value of #defines
[21:42:49] <steveklabnik> heh
[21:42:59] <kmc> crowdsource cross compilation
[21:43:10] <simukis1> Also, WindowsBunny, I summon you
[21:43:37] * simukis1 cries about his IRC client not supporting SUMMON command
[21:43:41] <simukis1> that’s the useful one
[21:45:41] *** Joins: dcb (textual@moz-i0id0o.ca.comcast.net)
[21:45:53] <whipsch> need SummonServ on this network
[21:47:22] *** Joins: ok32 (ok32@moz-i89.uc8.106.77.IP)
[21:48:31] * simukis1 found on the internets that it is either 8 (XNU sources) or 2 (some forum post)
[21:48:48] <whipsch> 8 | 2 it is!
[21:48:53] <simukis1> or perhaps anything between 0 and 2³²
[21:49:12] <simukis1> whipsch: sadly not a bitmask :(
[21:51:20] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[21:51:57] *** Quits: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net) (Ping timeout: 121 seconds)
[21:52:45] <scott> get a quantum computer, use a quantum superposition of 8 and 2
[21:55:08] * simukis1 goes to procrastinate some more until some goodwilled person turns up on this gloomy early early sunday morning
[21:55:22] *** simukis1 is now known as simukis
[21:57:54] <ytain> simukis1 its 2
[21:58:07] *** Joins: MARKZUCKERBERG (the@moz-1bc.362.205.66.IP)
[21:58:12] <MARKZUCKERBERG> Is there an MDN analog for Rust?
[21:58:23] <ytain> that is on yosemite on a i5 dual core
[21:58:35] <simukis> ytain: yay!
[21:58:40] <steveklabnik> MARKZUCKERBERG: http://doc.rust-lang.org/ is the closest thing we've got
[21:59:11] <MARKZUCKERBERG> What if I was really inventor of Facebook?
[21:59:44] <whipsch> grats?
[21:59:45] <simukis> We’d expect you to announce you’re migrating all your codebases to rust within a month tomorrow
[22:00:20] <c74d> simukis: I could check that on Mac OS X 10.6.8 on Intel Core 2 Duo, for another data-point. What header is it in?
[22:02:17] <o11c> c74d: <pthread.h> or something included from it ...
[22:02:38] <o11c> use cpp, not grep
[22:03:48] <c74d> Will do; hadn't thought of using grep.
[22:04:26] *** Joins: kontinuity (kontinuity@moz-1omfjr.oc.cox.net)
[22:05:15] *** Joins: Rym (y@moz-cfe.mso.205.31.IP)
[22:05:25] * c74d goes to switch monitor from IRC-ing desktop to Mac laptop…
[22:05:33] <SimonSapin> Is a std::rc::Rc incref followed by a decref likely to be optimized away? I’d use a move, but that’s tricky to make borrow-check
[22:06:02] <ytain> no need to use pthread.h
[22:06:31] <ytain> just do a small c++ file which includes iostream and use std::cout << PTHREAD_MUTEX_RECURSIVE
[22:06:38] <ytain> and compile it with clang++
[22:06:46] <ytain> with --std=c++1y
[22:07:07] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[22:07:36] <bluss> SimonSapin: not yet I think. https://github.com/rust-lang/rust/issues/13018
[22:08:36] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[22:08:38] <SimonSapin> bluss: https://github.com/rust-lang/rust/pull/21418 ?
[22:08:56] <bluss> see bottom of that issue
[22:09:01] <SimonSapin> oh, right
[22:09:18] <bluss> and "I left out the other half of #21418 because that still causes a ~16% increase in compile times (30m -> 35m)."
[22:09:23] <bluss> from https://github.com/rust-lang/rust/pull/21894
[22:10:57] <SimonSapin> let’s just have a clone and a fixme comment for later
[22:15:17] *** Quits: barosl (barosl@moz-tmp.qma.67.220.IP) (Connection closed)
[22:16:01] *** Quits: KokaKiwi (kokakiwi@moz-cagds5.kokakiwi.net) (Connection closed)
[22:16:49] <c74d> simukis: It's 2 for me too, for both o11c's way and ytain's (which I saw because my cat distracted me before I disconnected the monitor), with Clang, using `-std=c++1y`, with either `-stdlib=libc++` or `-stdlib=libstdc++`.
[22:17:32] <kmc> achievement unlocked: used a HRTB with one of my own traits
[22:17:35] *** Joins: KokaKiwi (kokakiwi@moz-cagds5.kokakiwi.net)
[22:18:10] *** Joins: dinfuehr (dinfuehr@moz-78fv5o.highway.telekom.at)
[22:18:48] <frewsxcv> MARKZUCKERBERG: if you were the inventor of facebook, you should navigate to donate.mozilla.org and throw money at your screen
[22:18:49] <kmc> needed it to switch an API from indexing to iteration
[22:19:01] <kmc> so it's a perfect example of fancy types => safe + fast
[22:19:20] <whipsch> kmc: care to take a peak at https://github.com/rust-lang/rust/pull/24078 ? related to an issue you posted a while ago
[22:19:47] *** Quits: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:20:01] <kmc> looks ok
[22:20:05] <kmc> i might be able to look more later
[22:20:33] <whipsch> sure thing
[22:21:35] <bstrie> kmc: blog post time
[22:21:48] <bstrie> convince me to bother actually learning what HRTB do :P
[22:22:02] <kmc> hmm
[22:22:18] *** Quits: dinfuehr (dinfuehr@moz-78fv5o.highway.telekom.at) (Ping timeout: 121 seconds)
[22:22:19] <kmc> in this case it's a workaround for lack of HKT
[22:22:57] <kmc> see, I want this:   trait Foo { type Iter: Lifetime -> Iterator<Target=Blah>; fn foo<'a>(&'a self) -> Self::Iter<'a>; }
[22:23:13] <kmc> (that's using a weird notation where trait bounds are kinds, but never mind that)
[22:23:36] <kmc> but that's HKT so I hav eto settle for
[22:23:51] <kmc> trait Foo<'a> { type Iter: Iterator<Target=Blah>; fn foo(&'a self) -> Self::Iter<'a>; }
[22:24:00] <kmc> er
[22:24:02] <kmc> trait Foo<'a> { type Iter: Iterator<Target=Blah>; fn foo(&'a self) -> Self::Iter; }
[22:24:52] <kmc> NOW, when I go to write    impl<'a, T> OtherType where T: Foo<'a> { ... }
[22:24:59] <kmc> then everything is terrible
[22:25:18] <kmc> and borrowck is very angry at me
[22:25:28] <kmc> so I have to do    impl<T> OtherType where T: for<'a> Foo<'a> { ... }
[22:25:32] <kmc> and then everything is kittens and rainbows
[22:35:54] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[22:37:26] *** Joins: blaenk_ (blaenkdenum@moz-12e081.res.rr.com)
[22:37:52] *** Joins: whidglexxx (Mibbit@moz-juv.9o3.252.72.IP)
[22:39:11] *** Quits: blaenk (blaenkdenum@moz-nhjd3p.n2pv.fsko.e000.2605.IP) (Ping timeout: 121 seconds)
[22:41:49] *** Quits: whidglexxx (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:44:18] *** Quits: ok32 (ok32@moz-i89.uc8.106.77.IP) (Connection closed)
[22:44:39] *** Joins: ok32 (ok32@moz-i89.uc8.106.77.IP)
[22:47:24] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[22:48:18] <kmc> thus the method 'foo' is usable at any lifetime 'a
[22:48:26] <kmc> which is what I wanted in the first place
[22:48:46] *** Quits: ok32 (ok32@moz-i89.uc8.106.77.IP) (Ping timeout: 121 seconds)
[22:48:56] *** Joins: ELD (textual@moz-tbcsac.co.comcast.net)
[22:49:00] *** Joins: kmcguire (kmcguire@moz-c955nf.res.rr.com)
[22:51:12] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[22:51:51] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[22:53:28] *** Quits: Rym (y@moz-cfe.mso.205.31.IP) (Ping timeout: 121 seconds)
[22:54:18] *** Quits: dcb (textual@moz-i0id0o.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:55:04] <simukis> https://github.com/rust-lang/rust/pull/24029 another try some1?
[22:55:08] * simukis goes to sleep
[22:56:12] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[22:56:23] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Quit: Leaving.)
[23:06:10] <MARKZUCKERBERG> Can I use Rust on windows to the same effect as on Linux?
[23:06:17] *** Joins: hirschen (hirschen@moz-m0mlis.h7ls.rebm.810b.2a02.IP)
[23:06:40] <whipsch> sorta
[23:07:03] <whipsch> some things just may be more annoying to deal with
[23:07:07] <whipsch> but its pretty much the same
[23:07:31] *** blaenk_ is now known as blaenk
[23:10:34] <MARKZUCKERBERG> Interesting.  Maybe I should just have a development VM.
[23:15:40] *** Quits: pczarn (piotr@moz-9un7t9.izacom.pl) (Ping timeout: 121 seconds)
[23:16:47] *** Quits: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk) (Ping timeout: 121 seconds)
[23:17:02] *** Quits: ytain (ytain@moz-6bg2hd.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[23:18:33] *** Quits: Skyler (Skyler@moz-e93b35.sd.cox.net) (Client exited)
[23:21:38] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[23:25:13] *** Joins: madalynndss (Mibbit@moz-juv.9o3.252.72.IP)
[23:25:36] *** Quits: madalynndss (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:29:58] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[23:30:25] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[23:34:39] *** Quits: hirschen (hirschen@moz-m0mlis.h7ls.rebm.810b.2a02.IP) (Ping timeout: 121 seconds)
[23:35:14] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[23:35:29] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[23:39:47] <huon> 10000 stars! http://i.imgur.com/gTDPBtF.png
[23:40:58] <MARKZUCKERBERG> What does systems programming mean?  Is rust not intended for general use programming?
[23:43:44] <scott> rust is general purpose, but compared to most languages, it excels at giving you the low-level control necessary to write high-performance programs like games or web browsers, or bare metal stuff like operating systems
[23:43:53] <scott> it's in the same niche as C and C++ in that sense
[23:43:59] <scott> that's roughly what systems programming is
[23:44:34] *** Quits: ELD (textual@moz-tbcsac.co.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[23:46:37] <scott> huon: woohoo
[23:50:05] *** Quits: DenSchub (DenSchub@moz-4qh7qk.0b101010.org) (Connection closed)
[23:50:37] *** Joins: Rym (y@moz-cfe.mso.205.31.IP)
[23:55:07] *** Quits: Rym (y@moz-cfe.mso.205.31.IP) (Ping timeout: 121 seconds)
[23:55:45] *** Joins: DenSchub (DenSchub@moz-6io4fd.hol4.1ume.2260.2a02.IP)
[23:59:28] *** Quits: scialex (scialex@moz-j5mi8i.cs.brown.edu) (Quit: Leaving)
