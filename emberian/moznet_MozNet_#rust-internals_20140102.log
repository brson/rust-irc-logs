[00:07:20] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[00:09:45] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[00:09:45] *** ChanServ sets mode: +ao dherman dherman
[00:10:09] *** Quits: tikue_ (tkuehn@moz-C55F9DFF.hsd1.pa.comcast.net) (Quit: tikue_)
[00:10:27] *** Joins: brson (brson@981AA104.E81F12CD.76F66111.IP)
[00:10:27] *** ChanServ sets mode: +qo brson brson
[00:21:56] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[00:21:56] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 142d2e257 to 1448918fa: 02http://git.io/N3iJvQ
[00:21:56] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[00:21:59] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[00:21:59] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/85UKtg
[00:21:59] <ghrust> 13rust/06auto 147a8ca91 15a_m0d: Update documentation to remove reference to ::rt logging
[00:21:59] <ghrust> 13rust/06auto 147bdc3d9 15bors: auto merge of #11235 : am0d/rust/doc_update, r=brson...
[00:21:59] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[00:39:18] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[00:51:27] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[00:55:18] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[00:55:36] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[01:12:01] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[01:12:01] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 147bdc3d9 to 1448918fa: 02http://git.io/N3iJvQ
[01:12:01] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[01:49:41] *** Quits: gwty (gwtypc@F97FFBA9.3803318B.25B273F5.IP) (Ping timeout)
[01:49:52] *** Quits: gwty_ (gwtypc@F97FFBA9.3803318B.25B273F5.IP) (Ping timeout)
[01:57:02] *** Quits: brson (brson@981AA104.E81F12CD.76F66111.IP) (Quit: leaving)
[02:14:26] *** Quits: tupshin_ (quassel@moz-54DE2E9C.du.xdsl.is) (Ping timeout)
[02:21:29] *** Joins: luz (lucy@moz-CD18B14B.customer.cdi.no)
[02:22:03] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[02:22:03] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/eMZFIg
[02:22:03] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[02:27:01] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[02:27:01] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/ZwsyTQ
[02:27:01] <ghrust> 13rust/06auto 147a8ca91 15a_m0d: Update documentation to remove reference to ::rt logging
[02:27:01] <ghrust> 13rust/06auto 146475255 15bors: auto merge of #11235 : am0d/rust/doc_update, r=brson...
[02:27:01] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[02:53:41] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[02:53:41] *** ChanServ sets mode: +ao dherman dherman
[03:14:42] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[03:19:43] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[03:19:44] *** ChanServ sets mode: +ao dherman dherman
[03:25:12] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[03:30:41] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[03:36:53] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[03:36:53] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/ZwsyTQ
[03:36:53] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[03:39:06] *** Quits: zz_kimundi (kimundi@moz-AA8877D1.dip0.t-ipconnect.de) (Ping timeout)
[03:41:57] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[03:41:57] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/-PH-xg
[03:41:57] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[03:42:46] *** Joins: zz_kimundi (kimundi@moz-56BCBF80.dip0.t-ipconnect.de)
[03:42:47] *** zz_kimundi is now known as kimundi
[04:07:51] <sfackler> are base.rs files in the compiler historical oddities? is there any reason they aren't just mod.rs?
[04:09:39] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[04:09:39] *** ChanServ sets mode: +ao dherman dherman
[04:14:08] <ChrisMorgan> sfackler: I know of precedent in Python and Django for doing exactly what those things are doing.
[04:14:15] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[04:15:53] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[04:16:40] <ChrisMorgan> In Python it'd be __init__.py and base.py for Rust's mod.rs and base.rs, but the concept is the same: put the base types and such in that place, so that all of its sibling modules can use it from there.
[04:17:42] <ChrisMorgan> That's needed in Python to avoid circular imports while in Rust it's not strictly necessary for that reason. But still, separating it out so that mod.rs is normally just submodule declarations and reexports and the like is quite possibly a good thing.
[04:34:20] *** Quits: Diamond (dick@moz-80556682.ks.ks.cox.net) (Ping timeout)
[04:36:26] *** Joins: Diamond (dick@moz-80556682.ks.ks.cox.net)
[04:51:55] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[04:51:55] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/0lv4ww
[04:51:55] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[04:56:55] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[04:56:55] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/RDFSCQ
[04:56:55] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[04:56:56] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[04:56:56] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/tNA5mg
[04:56:56] <ghrust> 13rust/06auto 140daaeab 15Alex Crichton: Conservatively export all trait methods and impls...
[04:56:56] <ghrust> 13rust/06auto 14aca1749 15Alex Crichton: Don't leave lingering files in doc tests...
[04:56:56] <ghrust> 13rust/06auto 14a969510 15bors: auto merge of #11245 : alexcrichton/rust/issue-11225, r=pcwalton...
[04:56:58] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[05:07:05] *** Joins: doomlord_ (servitor@moz-D40D68D6.range86-184.btcentralplus.com)
[05:09:50] *** Quits: ChristopherBurg (Christophe@moz-2C03E71B.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[05:16:55] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[05:22:14] *** Quits: doomlord_ (servitor@moz-D40D68D6.range86-184.btcentralplus.com) (Quit: Leaving)
[05:28:50] *** Joins: jdm (jdm@moz-3FFA85CA.dsl.teksavvy.com)
[05:34:16] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[05:41:01] *** Joins: lpy_ (lpy@12172131.F09091A8.1348A864.IP)
[05:41:34] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[05:42:55] *** Quits: lpy_ (lpy@12172131.F09091A8.1348A864.IP) (Ping timeout)
[05:47:22] *** Joins: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca)
[06:07:09] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[06:07:10] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/tNA5mg
[06:07:10] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[06:09:25] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[06:09:25] *** ChanServ sets mode: +ao dherman dherman
[06:12:13] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[06:12:13] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/upy15A
[06:12:13] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[06:12:16] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[06:12:16] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/4mGnkQ
[06:12:16] <ghrust> 13rust/06auto 14576a851 15Kiet Tran: Mark provided methods in dead-code pass
[06:12:16] <ghrust> 13rust/06auto 148ba6151 15bors: auto merge of #11246 : ktt3ja/rust/issue-11224, r=alexcrichton...
[06:12:17] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[06:13:45] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[06:18:50] <acrichto> bjz: ping
[06:19:08] <bjz> acrichto: poing
[06:19:42] <bjz> acrichto: having a go at tackling fmt::Default -> fmt::Format
[06:19:44] <acrichto> bjz: so I'm trying to use gl/glfw, and let's say I've got a large array of rgba values, my opengl knowledge is severely lacking, so would you be able to help me put this large array of rgba values on the screen?
[06:19:59] <bjz> come to #rust-gamedev?
[06:20:04] <acrichto> ah sure
[06:35:05] *** Quits: jdm (jdm@moz-3FFA85CA.dsl.teksavvy.com) (Ping timeout)
[06:35:32] *** Joins: jdm (jdm@moz-3FFA85CA.dsl.teksavvy.com)
[06:37:11] *** Quits: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca) (Quit: canhtak)
[06:37:37] *** Joins: jdm_ (jdm@moz-3FFA85CA.dsl.teksavvy.com)
[06:37:40] *** Quits: jdm (jdm@moz-3FFA85CA.dsl.teksavvy.com) (Connection reset by peer)
[07:23:45] <bjz> can we ignore the rustpkg failures?
[07:26:55] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[07:26:55] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/4mGnkQ
[07:26:55] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[07:32:08] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[07:32:08] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/RoTNqA
[07:32:08] <ghrust> 13rust/06auto 1414a01b1 15Brian Anderson: Update RELEASES.txt for 0.9
[07:32:08] <ghrust> 13rust/06auto 14e34b1ea 15bors: auto merge of #11248 : brson/rust/0.9relnotes, r=alexcrichton
[07:32:09] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[07:32:35] <bjz> acrichto: what do we do about the rustpkg errors with make check?
[07:33:34] <acrichto> run it again :(
[07:34:14] <bjz> is it a race condition?
[07:34:50] <bjz> acrichto: btw, I have `pub fn to_str<T: Format>(x: &T) -> ~str { format!("{}", x) }` instead of a method
[07:35:05] *** Quits: Diamond (dick@moz-80556682.ks.ks.cox.net) (Quit: Leaving.)
[07:35:29] <bjz> is that ok?
[07:35:47] <acrichto> I think the rustpkg things are a known bug
[07:35:52] <acrichto> but yeah that looks ok
[07:36:01] <acrichto> I forget, but did I OK the name "Format" before?
[07:36:16] <acrichto> I remember having concerns, and then having those concerns alleviated
[07:36:26] <bjz> https://github.com/mozilla/rust/issues/9806#issuecomment-30045380
[07:36:53] <bjz> see, having to_str as a default method is weird
[07:37:01] <acrichto> cool
[07:37:11] <bjz> and it's out of balance with the other formatting traits
[07:37:33] <acrichto> it should be a method somewhow
[07:37:46] <Yurume> do we want to keep a to_str-providing trait (whatever it is) reexported in the prelude?
[07:37:59] <bjz> Yurume: we are going to remove it
[07:38:16] <Yurume> so will we remove `to_str` and replace it with `format!` completely?
[07:38:41] <bjz> acrichto: I kind of agree with strcat that there are beginning to be far too many traits, especially ones that can just be free functions
[07:39:11] <bjz> acrichto: but that is not my decision to make
[07:39:37] <bjz> Yurume: we are planning to have it rely on the `{}` format specifier
[07:40:18] <acrichto> no I completely agree but we can't "jsut remove all of them"
[07:40:28] <bjz> acrichto: of course
[07:40:31] <acrichto> we should just be hesitant to add more
[07:41:05] <bjz> acrichto: I could just impl ToStr for T: fmt::Format for now
[07:41:17] <bjz> and then we can decide where to go from there
[07:41:41] <acrichto> I'm ok with that
[07:42:15] * bjz now has to figure out deriving
[07:42:21] <bjz> o_o
[07:43:08] * bjz has not done much compiler hacking
[07:44:05] <acrichto> it's a lot easier than understanding opengl from what I'm learning lol
[07:44:29] <bjz> heh
[07:44:42] <bjz> for you that is
[07:44:45] <bjz> :)
[07:44:52] <acrichto> lol I suppose so
[07:46:32] <bjz> and tbh, for all the gl infrastructure work I've done, I'm still a relative noob when it comes to actually *using* it :P
[07:46:39] <bjz> #-_-
[07:47:57] <bjz> http://i.imgur.com/28ZtXkm.jpg
[08:07:44] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Ping timeout)
[08:15:16] <bjz> ugh, why do these rustpkg tests keep failing
[08:17:09] <bjz> acrichto: https://gist.github.com/bjz/81f04827aa3b980901b2
[08:17:44] <acrichto> bjz: I think rustpkg tests are just hopelessly broken :(
[08:17:56] * bjz cries
[08:18:19] <bjz> how can I get make check to test all the other stuff then?
[08:18:33] <acrichto> make check -k
[08:18:40] <acrichto> I haven't seen it that broken recently
[08:18:44] <bjz> heh
[08:18:44] <acrichto> dunno what's going on
[08:19:37] * bjz loves how there is a special flag to ignore the rustpkg tests
[08:20:07] <acrichto> oh that's not a special flag
[08:20:08] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[08:20:16] <acrichto> that ells make to keep going once it hits errors
[08:20:20] <bjz> ohhh
[08:20:21] <bjz> ok
[08:20:23] <bjz> haha
[08:20:30] <bjz> http://i.imgur.com/28ZtXkm.jpg
[08:33:24] *** Quits: jdm_ (jdm@moz-3FFA85CA.dsl.teksavvy.com) (Connection reset by peer)
[08:34:09] *** Joins: jdm (jdm@moz-3FFA85CA.dsl.teksavvy.com)
[08:47:01] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[08:47:01] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/RoTNqA
[08:47:01] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[08:51:56] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[08:51:56] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/WsKtBg
[08:51:56] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[08:54:15] *** Joins: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP)
[08:57:25] *** Joins: tupshin_ (quassel@moz-54DE2E9C.du.xdsl.is)
[09:20:15] *** Joins: nrc (ncameron@moz-A76F1825.cable.virginm.net)
[09:50:14] <bjz> dbaupp: any tips on how to shorten my iteration time when hacking on deriving?
[09:53:34] *** Quits: jdm (jdm@moz-3FFA85CA.dsl.teksavvy.com) (Input/output error)
[09:53:44] *** Joins: jdm (jdm@moz-3FFA85CA.dsl.teksavvy.com)
[09:55:15] <bjz> dbaupp: so for a nil ret_ty, it's Tuple(~[])?
[09:59:16] *** Quits: tupshin_ (quassel@moz-54DE2E9C.du.xdsl.is) (Ping timeout)
[10:01:16] <eddyb> that wasn't fixed AFAIK, we still have ty_nil in places
[10:03:08] <bjz> eddyb: talking about deriving?
[10:03:24] <eddyb> about the type system in general
[10:06:55] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[10:06:55] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/0I8zfQ
[10:06:55] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[10:09:34] <eddyb> define internal void @"Baz$$BP$Bar::baz::h6128c7cab9c5f133QRak::v0.0"({ %tydesc*, i8* }*) unnamed_addr #4 {
[10:10:18] <eddyb> yay shorter symbols. nay &Trait passed as **Trait
[10:10:58] <eddyb> oooooh, wait, it's right. because &self for &Trait, so it becomes &&Trait
[10:11:26] <eddyb> define internal void @"Baz$$BP$Bar::baz::h6128c7cab9c5f1330Mak::v0.0"({ %tydesc*, i8* }*) unnamed_addr #4 {
[10:11:43] <eddyb> and that's wrong. self on &Trait still has the duble indirection
[10:11:52] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[10:11:52] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/izvV0Q
[10:11:52] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[10:15:08] <eddyb> yay more faulty logic in type_of: arg_is_indirect
[10:16:44] <eddyb> cmr, dbaupp: any ideas if &Trait should be passed by value?
[10:20:02] <bjz> what is an ExtCtxt?
[10:20:29] <bjz> oh, ext::base::ExtCtxt
[10:21:07] <bjz> wook
[10:23:13] <eddyb> what's the logic behind passing arguments by value?
[10:26:58] <eddyb> haha, unused imports is broken. I have a function call to said import in an "if" condition in a struct literal
[11:01:40] <bjz> any idea how I might construct `write!(f, "{}", x)` in an ExtCtxt?
[11:02:16] <bjz> or should I just stay well away from macros in ExtCtxts?
[11:05:06] *** kimundi is now known as zz_kimundi
[11:13:15] <bjz> dbaupp: o/
[11:13:30] <bjz> yay, look at my floundering :D
[11:13:34] <dbaupp> bjz: hi!
[11:13:52] <bjz> I'll gist my amazing progress with deriving
[11:13:52] <dbaupp> bjz: I think you'll just have to call the functions in syntax::ext::fmt yourself
[11:14:03] <dbaupp> to get formating
[11:14:10] <dbaupp> anything else will be hard work
[11:14:42] <bjz> https://gist.github.com/bjz/ed520febc0eb89ce3dbb
[11:15:03] <bjz> see, it would be easier if I had a fmt::to_str function :P
[11:15:14] <bjz> oh wait
[11:15:17] <bjz> no it wouldn't
[11:15:24] <bjz> I need to be using the writer
[11:15:32] <bjz> doh
[11:15:59] <dbaupp> yup
[11:16:15] <dbaupp> I think the easiest way to do this will be constructing a format string
[11:16:30] <dbaupp> and then deferring to the main format!() formatter
[11:17:02] <bjz> so I can do Path::new(~["syntax", "ext", "fmt", ...]) from in the ctx?
[11:17:14] <dbaupp> No
[11:17:21] <bjz> or do I need to import styntax?
[11:17:22] <dbaupp> i.e. actually call syntax::ext::fmt::...
[11:17:29] <bjz> oh yeah
[11:17:32] <dbaupp> in syntax::ext::deriving::format
[11:17:35] <bjz> that's what I mean
[11:17:41] <bjz> oh
[11:17:42] <dbaupp> (or whatever you're calling it)
[11:17:43] <bjz> wait
[11:17:57] <dbaupp> i.e. use ext::fmt to create the formatter ast node
[11:18:07] <dbaupp> after creating the format string
[11:18:16] <dbaupp> hmmm...
[11:18:33] <dbaupp> ext::fmt probably isn't set up to allow that to work
[11:21:09] <bjz> dbaupp: yeah - pub fn expand_syntax_ext(ecx: &mut base::ExtCtxt, sp: Span, _tts: &[ast::token_tree]) -> base::MacResult { ?
[11:21:31] <bjz> doesn't seem all that comprehensive :P
[11:22:19] <bjz> so write! expands to `format_args!(|args| { ::std::fmt::write($dst, args) }, $($arg)*)`
[11:23:00] <bjz> but where is format_args?
[11:24:08] <eddyb> bjz: format_args! is what libsyntax works on
[11:24:20] <dbaupp> format args is what ext::fmt implements
[11:24:30] <bjz> ah
[11:24:54] <dbaupp> but the problem is you have to feed it a vector of token trees
[11:25:07] <dbaupp> not a vector of expressions + a format string (which is what we want)
[11:25:29] <bjz> hum
[11:25:53] <dbaupp> feel free to refactor ext::fmt slightly to achieve that
[11:26:07] <dbaupp> since it does actually just parse the token trees into a vector of expression + a format string
[11:26:09] <bjz> o_o
[11:26:21] <dbaupp> hm, wait... there might already be such a division in it
[11:26:25] * dbaupp checks
[11:26:31] <eddyb> dbaupp: wouldn't quoting the macro "call" work to produce the token tree?
[11:26:42] <bjz> wait, do you mean ext::format?
[11:26:46] <dbaupp> oh, yes
[11:26:47] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[11:26:48] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/qwSunA
[11:26:48] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[11:26:49] <dbaupp> whoops
[11:27:19] <bjz> heh
[11:28:49] <bjz> so there is a struct Context<'a> {
[11:28:54] <bjz> in ext::format
[11:29:04] <bjz> could we manually build one?
[11:32:04] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[11:32:05] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/IeUXNw
[11:32:05] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[11:32:05] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[11:32:05] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/waBXlw
[11:32:05] <ghrust> 13rust/06auto 1465baedf 15a_m0d: Fix typo in lint description.
[11:32:05] <ghrust> 13rust/06auto 14ff578b7 15bors: auto merge of #11269 : am0d/rust/lint_typo, r=sanxiyn
[11:32:06] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[11:32:08] <dbaupp> bjz: I think you could break up the expand_args function
[11:32:23] <dbaupp> before and after the cx.parse_args calls
[11:32:24] <dbaupp> *call
[11:32:41] <dbaupp> (but yes, you'd have to create a Context in the deriving mode too.)
[11:39:16] <bjz> dbaupp: so how would I use the base::MacResult?
[11:39:23] *** Quits: dbussink (dbussink@moz-E0A5568C.bussink.me) (Quit: bye)
[11:39:43] *** Joins: dbussink (dbussink@moz-E0A5568C.bussink.me)
[11:41:55] <bjz> ohhh, MacResult == MacroResult
[11:43:32] <bjz> so I'm guessing just expect an MRExpr
[11:44:22] <bjz> expand_args only seems to output an MRExpr
[11:44:41] <dbaupp> yes
[11:45:04] <dbaupp> or, break out the function that takes a context and a format string and a list of exprs and returns an expr
[11:45:19] <dbaupp> with a wrapper used by ext::format that does the parsing of the tt, and the wrapping in a MRExpr
[11:46:16] *** Joins: gwty (gwtypc@102CF09B.E5EF4F0B.27560D6E.IP)
[11:46:41] *** Joins: lpy (lpy@9A6870A6.F09091A8.1348A864.IP)
[11:46:41] *** Joins: gwty_ (gwtypc@102CF09B.E5EF4F0B.27560D6E.IP)
[11:49:43] <eddyb> Store %str_slice = type { i8*, i64 } -> %str_slice**
[11:50:05] <eddyb> missing information I can deal with. I'll just add it. broken logic, however...
[11:50:19] *** Quits: jdm (jdm@moz-3FFA85CA.dsl.teksavvy.com) (Quit: Lost terminal)
[12:09:24] <eddyb> monomorphize_fn mangled to option::Option::Some::h6c4f49e740f38b00aX::v0.9.pre
[12:09:40] <eddyb> I want function arguments being mangled in there :S
[12:10:27] <eddyb> though I think it's Some::<&'a &'static str>() from the surrounding debug output
[12:11:30] <dbaupp> "monomorphize_fn mangled to option::Option::Some::h6c4f49e740f38b00aX::v0.9.pre" as in the function called monomorphize_fn is getting the symbol name `option::Option::Some::...` ??
[12:14:27] <bjz> what's the difference between AstBuilder::{lambda, lambda_expr, lambda_stmts}?
[12:14:52] <eddyb> dbaupp: yeah
[12:15:03] <bjz> I want to generate |args| { ::std::fmt::write($dst, args) }
[12:15:47] *** Joins: wtw (wtw@moz-D8FB7390.org)
[12:15:55] <bjz> ohwait, what *is* std::fmt::write o_o
[12:16:33] <dbaupp> bjz: the difference is what arguments they take
[12:16:51] <dbaupp> iirc lambda_{expr,stmts} are just sugary wrappers for two common cases of `lambda`
[12:17:11] <bjz> ah
[12:17:20] <bjz> ok
[12:17:51] <eddyb> so it seems I broke auto-generated ctors, i.e. struct Foo<'a>(&'a bool);
[12:18:02] <eddyb> Store i8 -> i8**
[12:18:04] <bjz> interesting - you can call pub fn write(output: &mut io::Writer, args: &Arguments)
[12:18:11] <bjz> in std::fmt
[12:19:13] <eddyb> and even simpler, struct Foo(&'static bool);
[12:22:09] <dbaupp> eddyb: btw, re using #[deriving(Encodable)] to get tracing info: I can't work out how to extract alignment info (i.e. position of the fields within the struct/enum), so I'm not sure how to get it to work
[12:22:30] <eddyb> dbaupp: what about repr?
[12:22:39] <eddyb> and TyVisitor
[12:23:01] <dbaupp> yeah, no alignment info
[12:23:03] <dbaupp> aiui
[12:25:09] <eddyb> AFAIK TyVisitor is called virtually. since we can't just derive through trait objects, I had another crazy idea
[12:25:35] <bjz> so many @s
[12:25:36] <eddyb> pluggable glues
[12:29:48] <eddyb> so every implementor of TyVisitor would cause rustc to generate specific visitor glue and add it to the tydesc
[12:30:04] <eddyb> but as I writing that sentence, I realized that won't work across crates
[12:32:01] *** Quits: nrc (ncameron@moz-A76F1825.cable.virginm.net) (Ping timeout)
[12:33:18] <eddyb> so once a crate (std) defines all the visitor glues, that's that. not sure how well that would pan out
[12:34:43] <eddyb> but it would mean you could have a set of automatically derived traits that go through trait objects. repr/reflection and Traceable could be two of those
[12:35:00] <eddyb> and maybe the take glue, I'm not sure. I just want to move things out of rustc
[12:35:15] *** Quits: lpy (lpy@9A6870A6.F09091A8.1348A864.IP) (Quit: Leaving...)
[12:46:53] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[12:46:53] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/waBXlw
[12:46:53] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[12:49:28] <eddyb> dbaupp: a chat with someone made me feel better about my constant failures (and progress) in my trans work
[12:49:44] <eddyb> dbaupp: as in, it could be worse: I could be trying to fix a relationship
[12:50:34] <bjz> dbaupp: do you need to put unsafe blocks into the Ast?
[12:50:49] <bjz> if you want to use an unsafe function?
[12:52:54] <dbaupp> bjz: yes
[12:53:02] <bjz> how?
[12:53:07] <bjz> :P
[12:53:07] <dbaupp> not sure
[12:53:10] <bjz> heh
[12:53:31] <dbaupp> line 648 of ext::format
[12:53:31] <eddyb> there has be a block constructor somewhere
[12:53:36] <bjz> can't find something in AstBuilder
[12:54:03] <bjz> there is .block(&self, span: Span, stmts: ~[@ast::Stmt], expr: Option<@ast::Expr>) -> P<ast::Block>;
[12:55:00] <bjz> does the 'unsafe' go somehwere in stmts?
[12:55:12] <dbaupp> no
[12:55:13] <eddyb> it would go in ast::Block, I would think
[12:55:21] <eddyb> but I'm not sure now
[12:55:44] <bjz> :/
[12:55:55] <eddyb> heeey can we define "bool" in the language?
[12:56:01] <eddyb> enum bool {false, true}
[12:56:18] <bjz> :D
[12:56:40] <bjz> can we, can we?
[12:56:55] <eddyb> and optimize that to use i1 like clang does for bools
[12:57:34] <eddyb> you know LLVM has all bit sizes, right? though I have no idea how well optimized they are
[12:58:25] <eddyb> I would love to see this possible: enum Foo {A, B, C, D}; (Foo, Foo, Foo, Foo) => {i2, i2, i2, i2} => pass as a byte
[12:59:37] <bjz> I thought there was a rationale for a word-sized bool
[12:59:44] <bjz> I dunno what it was though
[12:59:56] <eddyb> we don't have a word-sized bool (thankfully)
[13:00:13] <bjz> we don't?
[13:00:20] <eddyb> bjz: storing as i8 and operating on it as i1 is what clang does
[13:00:21] * bjz is wrong
[13:00:34] <bjz> oh
[13:00:37] <eddyb> we compare the i8 with 0 to produce i1 AFAIK
[13:00:54] <dbaupp> eddyb: can't do (Foo, Foo, Foo, Foo) as one byte because you can't take subbyte references
[13:01:24] <eddyb> dbaupp: bleah, references
[13:01:28] <bjz> std::mem::size_of::<bool>() == 1 though?
[13:01:44] <eddyb> yeah, that's one byte
[13:01:51] <bjz> ohhh
[13:01:58] <bjz> me is stupid
[13:02:24] <bjz> lol 'word sized bools'.... gaahhh
[13:02:51] <eddyb> (which means we generate code to compare two values - which produces i1 -, zext that to i8 then compare the i8 with 0 to get back an i1. which is STUPID)
[13:16:12] <eddyb> woo, another function which is only called by datum!
[13:16:43] <eddyb> right now I know of zero_mem and memcpy_ty which I've removed non-datum calls to. should I move them to datum.rs?
[13:21:39] <eddyb> dbaupp: a tiny ctor - struct Foo(bool); - is 8 lines on master. that is depressing
[13:21:51] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Connection reset by peer)
[13:22:15] <dbaupp> and with your change?
[13:23:43] <eddyb> I was trying to preserve some logic, which means that one is unchanged. but struct Foo(&'static bool); should circumvent that logic and we'll see in a few minutes what it ends up being
[13:24:24] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[13:24:29] <eddyb> though one of the reasons for that logic was expr/_match not using Datum, which is gone now
[13:24:40] <eddyb> the other reason is debug info, which I'm not sure about
[13:25:15] <eddyb> I mean, you should be able to put debug info on arguments without copying them on the stack, that's ridiculous. I guess I could enable the logic only when extra-debug-info is enabled
[13:26:00] <dbaupp> that seems prone to possibly creating extra weird heisenbugs
[13:26:34] <eddyb> because lack of testing?
[13:27:04] <dbaupp> maybe
[13:27:06] * dbaupp shrugs
[13:28:49] <eddyb> dbaupp: that silly logic made me waste almost an entire day because it was causing weird bugs. and it's wasting LLVM time
[13:29:05] <eddyb> error: internal compiler error: fictitious type ty_param(middle::ty::param_ty{idx: 0u, def_id: syntax::ast::DefId{crate: 0u32, node: 188167u32}}) in sizing_type_of()
[13:29:13] <eddyb> oh come on :(
[13:32:45] <eddyb> dbaupp: 5 instructions. most of that is required to create a Foo on stack, assign to it, and return it
[13:33:46] <eddyb> struct Baz(&'static bool, &'static bool); is 4 instructions + ret void (because it uses an out param)
[13:34:36] *** zz_kimundi is now known as kimundi
[13:34:36] <eddyb> it's 10 instructions + ret void on master. I'll take that as a win
[13:34:42] <dbaupp> awesome
[13:34:46] <dbaupp> does it bootstrap yet?
[13:36:27] <eddyb> dbaupp: no, see that ICE. I'll investigate that next
[13:36:31] <eddyb> " we want to always have all locals and arguments be by-ref so that we can cancel the cleanup and for better interaction with LLVM's debug info"
[13:36:49] <eddyb> great, I (again) need someone who understanding cleanup
[13:52:20] <eddyb> that comment is wrong :P
[13:55:54] <eddyb> dbaupp: debuginfo already creates indirection for self when it's passed by value, but not for other args. which means I can fix debuginfo (for -Z extra-debug-info) later if I remove the silly indirection logic from self/args
[14:01:39] *** Quits: Kxepal (Miranda@moz-937849DD.pppoe.mtu-net.ru) (Connection reset by peer)
[14:01:56] *** Joins: Kxepal (Miranda@moz-937849DD.pppoe.mtu-net.ru)
[14:11:59] <eddyb> monomorphize_fn mangled to reflect::TyVisitor$MovePtrAdaptor::visit_bot::h437abb77d3a68323AYaf::v0.9.pre
[14:17:51] <eddyb> I might have broken monomorphize :S
[14:22:56] <eddyb> dbaupp: this ICE favors you. take a look at std::reflect
[14:23:30] <eddyb> you were complaining about lack of alignment info :P. oh, well, I go back to figuring what on earth goes wrong there
[14:30:12] *** Quits: gwty_ (gwtypc@102CF09B.E5EF4F0B.27560D6E.IP) (Quit: No Ping reply in 180 seconds.)
[14:30:40] *** Joins: gwty_ (gwtypc@102CF09B.E5EF4F0B.27560D6E.IP)
[14:34:09] <eddyb> trans_arg_expr(formal_arg_ty=(&mut Bar<T>), arg_expr=expr(30: self)) vs trans_arg_expr(formal_arg_ty=(@?), self_mode=ByCopy, arg_expr=expr(30: self))
[14:35:47] *** Quits: gwty (gwtypc@102CF09B.E5EF4F0B.27560D6E.IP) (Quit: No Ping reply in 180 seconds.)
[14:36:31] *** Quits: gwty_ (gwtypc@102CF09B.E5EF4F0B.27560D6E.IP) (Ping timeout)
[14:36:39] *** Joins: gwty (gwtypc@102CF09B.E5EF4F0B.27560D6E.IP)
[14:36:48] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[14:36:48] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/a5zsnQ
[14:36:48] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[14:36:48] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[14:36:49] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/z8T9AA
[14:36:49] <ghrust> 13rust/06auto 14a9c03e0 15Adrien TÃ©tar: doc: un-xfail conditions tutorial
[14:36:49] <ghrust> 13rust/06auto 14da3e64d 15Adrien TÃ©tar: std: io: add some code examples...
[14:36:49] <ghrust> 13rust/06auto 14b74b2bd 15bors: auto merge of #11271 : adridu59/rust/patch-io, r=huonw
[14:36:51] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[14:42:02] <eddyb> typeck::method_map_entry field self_ty can contain generics :(
[14:50:27] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[14:52:58] <eddyb> oh, there's a monomorphize_type
[14:58:00] <bjz> acrichto: ping
[14:58:53] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Quit: Textual IRC Client: www.textualapp.com)
[14:59:00] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[15:12:18] <dbaupp> \o/ a tracing GC for Rust
[15:12:31] <eddyb> dbaupp: with std::reflect :D?
[15:12:34] <dbaupp> eddyb: nope
[15:12:38] <dbaupp> hand coded
[15:13:31] <eddyb> 14k lines of debug output, that's some progress. but now something else is derping out: type_of &mut V (0xdb027b0 as *())
[15:19:24] *** Joins: ChristopherBurg (Christophe@moz-2C03E71B.hfc.comcastbusiness.net)
[15:31:40] <bjz> dbaupp: \o/
[15:32:44] <bjz> dbaupp: ugh, ext::format::Context wants a &'a mut ExtCtxt, but combine_substructure gives an &ExtCtxt
[15:33:36] <bjz> :P
[15:35:54] <eddyb> dbaupp: what do you mean? without rustc support?
[15:39:39] <nmatsakis> eddyb: hi. I'm back now, for a bit anyway, though buried under e-mail etc. Digging out now. I haven't gotten around to reading IRC backlog but I see you've mentioned my nick a lot :)
[15:41:16] <eddyb> nmatsakis: yeah, well, when you have time (and I'm done regurgitating trans), we have to go back to type system discussions. which I loathe a bit, but let's not let 1.0 catch us by surprise
[15:42:10] <eddyb> nmatsakis: also, happy new year :D
[15:44:49] <nmatsakis> likewise
[15:47:05] <eddyb> nmatsakis: in case you know, is the datum::ZeroMem cleanup mode required *by design* or is it there just to support old code which isn't using datum?
[15:47:18] <nmatsakis> eddyb: fyi I hvae completely rewritten the cleanup system.
[15:47:24] <nmatsakis> eddyb: I am hoping to finish that patch very soon.
[15:47:26] <eddyb> *when*?
[15:47:35] <nmatsakis> as the fix for #3511
[15:47:38] <eddyb> because I went bezerk on it
[15:47:49] <nmatsakis> :(
[15:47:55] <eddyb> yay two days spent on what is going to be a rebase nightmare for you
[15:48:09] <nmatsakis> did you already merge?
[15:48:11] <eddyb> nmatsakis: did you fix the type of self for methods?
[15:48:18] <nmatsakis> no.
[15:48:42] <eddyb> okay, that means you shouldn't have touched enough code to make a rebase impossible
[15:48:59] <eddyb> (and no, I've yet to get it to bootstrap)
[15:49:27] <eddyb> nmatsakis: I did change _match slightly to make it use Datums and go through them for cleanup
[15:55:11] <eddyb> oh, great, bind_irrefutable_pat assumes ByRef
[15:58:07] <eddyb> nmatsakis: I wish I knew. I'll try to keep myself from refactoring anything in trans. I guess you'll have to look through my patch and tell me what I should revert (if possible)
[15:59:58] <eddyb> like, right now I could datumize _match::bind_irrefutable_pat, but I'll just make sure it gets a ByRef llval instead
[16:04:16] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Ping timeout)
[16:04:37] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[16:12:39] *** Joins: tupshin_ (quassel@moz-54DE2E9C.du.xdsl.is)
[16:16:07] <eddyb> dbaupp: I.... I can't keep arguments by value because mut bindings :(
[16:16:51] <eddyb> rusti: struct Foo; impl Foo {fn foo(mut self){}} Foo.foo()
[16:16:52] -rusti- ()
[16:16:58] <eddyb> >:(
[16:31:02] <eddyb> rusti: struct Foo{x: uint, y: uint}; impl Foo {fn foo(mut self){sef = Foo{x:0, y:0}} let x = Foo{x:5, y: 6}; x.foo(); x
[16:31:05] -rusti- pastebinned 9 lines of output: http://ix.io/9Df
[16:31:16] <eddyb> rusti: struct Foo{x: uint, y: uint}; impl Foo {fn foo(mut self){self = Foo{x:0, y:0}} let x = Foo{x:5, y: 6}; x.foo(); x
[16:31:19] -rusti- pastebinned 9 lines of output: http://ix.io/9Df
[16:31:45] <eddyb> rusti: struct Foo{x: uint, y: uint}; impl Foo {fn foo(mut self){self = Foo{x:0, y:0}}} let x = Foo{x:5, y: 6}; x.foo(); x
[16:31:46] -rusti- main::Foo{x: 5u, y: 6u}
[16:32:11] <eddyb> I'm afraid I would break that
[16:32:31] <eddyb> rusti: struct Foo{x: uint, y: uint}; impl Foo {fn foo(mut x: Foo){self = Foo{x:0, y:0}}} let x = Foo{x:5, y: 6}; Foo::foo(x); x
[16:32:34] -rusti- pastebinned 7 lines of output: http://ix.io/9Dg
[16:32:50] <eddyb> rusti: struct Foo{x: uint, y: uint}; impl Foo {fn foo(mut x: Foo){x = Foo{x:0, y:0}}} let x = Foo{x:5, y: 6}; Foo::foo(x); x
[16:32:53] -rusti- pastebinned 7 lines of output: http://ix.io/9Dh
[16:33:15] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[16:33:38] *** Quits: Kxepal (Miranda@moz-937849DD.pppoe.mtu-net.ru) (Ping timeout)
[16:34:00] <eddyb> how does that work? Foo is passed by ref, the assignment would store to the original AFAIK
[16:34:48] *** Joins: Kxepal (Miranda@moz-9E54938F.pppoe.mtu-net.ru)
[16:36:46] <kimundi> eddyb: No?
[16:37:44] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[16:38:01] <kimundi> eddyb: a "fn (mut x) { ... }" is just shorthand for "fn (x) { let mut x = x; ... }" - passing Foo to the function is a pass by alue and will just copy it
[16:38:41] <eddyb> kimundi: it's not implemented as such. thankfully, I think I found an explanation
[16:39:23] <kimundi> Ah, you wondered why it works correctly despite being implemented otheriwse?
[16:39:31] <kimundi> carry on then, no idea about that :P
[16:41:49] <eddyb> it creates a local "Foo", i.e. that copy you mentioned... but I didn't touch anything like that
[16:43:49] <eddyb> kimundi: this is so easy to get confused about
[16:44:24] <kimundi> Yeah, I can imagine
[16:49:24] <eddyb> I really want the gain from not copying everything ever to an alloca. now to find if I can find the pattern for "self"
[17:00:09] *** Joins: jdm (jdm@moz-3FFA85CA.dsl.teksavvy.com)
[17:00:14] *** Joins: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[17:02:01] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[17:02:01] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14b74b2bd to 14ff578b7: 02http://git.io/N3iJvQ
[17:02:01] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[17:02:03] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[17:02:03] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/vAIsQg
[17:02:03] <ghrust> 13rust/06auto 146d20876 15Michael Woerister: debuginfo: Fix issue #11083 and some minor clean up.
[17:02:03] <ghrust> 13rust/06auto 14645bb32 15Michael Woerister: debuginfo: Add test case for recursive enum types (issue #11083)
[17:02:03] <ghrust> 13rust/06auto 143249de8 15bors: auto merge of #11274 : michaelwoerister/rust/issue11083, r=pcwalton...
[17:02:05] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[17:03:37] <acrichto> bjz: pong
[17:12:31] <eddyb> nmatsakis: hmm, datum needs more optionally named immediates
[17:36:47] <eddyb> OMG
[17:37:00] <eddyb> dbaupp: a miracle has happened. std is passing LLVM
[17:37:28] <eddyb> [04:48] <eddyb> std: time: 35.442 s  LLVM passes -> time: 33.817 s  LLVM passes
[17:37:39] <eddyb> that was almost 5 hours past 2014
[17:38:11] <eddyb> wait, no, nvm. wat?
[17:38:17] * eddyb scratches head
[17:38:56] <eddyb> (i was looking about "codegen passes". nothing to see here >_>)
[17:40:54] *** Quits: [o__o] (~o__o@moz-24EBFAC7.me) (Input/output error)
[17:41:13] *** Joins: [o__o] (~o__o@moz-24EBFAC7.me)
[17:42:06] <eddyb> nmatsakis: why is FunctionContext holding an (undistinguished) NodeId?
[17:42:44] <eddyb> the current failure is trying to get a local method from extra, but the method is in std
[17:51:02] *** Quits: [o__o] (~o__o@moz-24EBFAC7.me) (Input/output error)
[17:54:33] *** Joins: [o__o] (~o__o@moz-24EBFAC7.me)
[17:55:40] <nmatsakis> eddyb: do you mean the `id` field?
[17:55:59] <eddyb> nmatsakis: yupp
[17:58:17] <nmatsakis> eddyb: I'm not sure what it's used for exactly, but it's the id of the function being trans'd
[17:59:06] <eddyb> nmatsakis: the problem is that the function can be outside of the current crate
[18:00:04] <eddyb> I'm using the ID to get the explicit_self from ty::Method to check for "mut self"
[18:02:30] <nmatsakis> eddyb: how can the function be outside the current crate?
[18:02:42] <eddyb> nmatsakis: a generic
[18:02:46] <nmatsakis> in that case,
[18:02:57] <nmatsakis> we generate an intra-crate copy
[18:03:07] <nmatsakis> and redirect to that
[18:03:13] <eddyb> o_O
[18:03:45] <eddyb> nmatsakis: No def'n found for syntax::ast::DefId{crate: 0u32, node: 109092u32} in tcx.methods
[18:04:00] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:04:00] *** ChanServ sets mode: +qo brson brson
[18:05:38] <nmatsakis> eddyb: note: crate id is 0, hence not from an external crate
[18:05:50] <nmatsakis> eddyb: probably your problem is that this table is not being properly encoded and then populated for cross-crate
[18:06:09] <eddyb> nmatsakis: crate id is 0 because I only have a NodeId
[18:06:59] <nmatsakis> eddyb: so, I don't quite hvae much context here, but the way that cross-crate inlining works, is that we load the AST from the external crate and create a crate-local copy 
[18:07:13] <nmatsakis> eddyb: we also load all relevant side table entries and populate the various maps
[18:07:28] <nmatsakis> eddyb: this is done in astencode.rs, see encode_side_tables_for_id and decode_side_tables_for_id
[18:07:42] <nmatsakis> or rather just decode_side_tables()
[18:07:46] <eddyb> ooooooooooh
[18:08:02] <eddyb> nmatsakis: I actually rewrote the part that assigns new IDs >_>
[18:08:17] <eddyb> so I should know how this works, heh
[18:10:16] <eddyb> nmatsakis: the main problem here is the lack of forward information passing
[18:11:51] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[18:11:51] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/vAIsQg
[18:11:51] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[18:12:58] <eddyb> nmatsakis: typeck::method_map_entry is encoded and it's actually available at the caller sites
[18:14:30] <eddyb> or not. these things are not named consistently, I'm not sure if I'm looking at calls or functions
[18:14:37] <nmatsakis> eddyb: "forward information passing"?
[18:15:01] <nmatsakis> eddyb: I don't see (in my branch) anything encoding tcx.methods
[18:16:52] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[18:16:52] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/cykOzw
[18:16:52] <ghrust> 13rust/06auto 141722074 15lyuts: Recognize LLVM 3.4 when building on opensuse with --llvm-root specified.
[18:16:52] <ghrust> 13rust/06auto 14c29b1be 15bors: auto merge of #11266 : lyuts/rust/opensuse_build, r=brson...
[18:16:53] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[18:16:56] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[18:16:56] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/ChoUVA
[18:16:56] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[18:18:55] <eddyb> nmatsakis: by that weird construct I meant that various information is "lost" as you go down call chains and sometimes one has to go through hash tables to retrieve it when it could just be passed down
[18:19:39] <eddyb> getting the self type of a function can be really hard, depending where you are
[18:25:30] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[18:25:31] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:25:45] <eddyb> heh. meth::trans_method has ast::method *right there*
[18:34:37] <pcwalton> acrichto: any objections to https://github.com/mozilla/rust/pull/10828 ?
[18:34:46] * pcwalton is going through the bors queue
[18:35:03] <acrichto> pcwalton: nah it seems ok
[18:35:28] <pcwalton> r+ it is
[18:36:07] <acrichto> pcwalton: btw I heard you were interested in making sprocketness use opengl instead of sdl?
[18:36:14] <pcwalton> yes, someday :)
[18:36:20] <acrichto> https://github.com/alexcrichton/jba/blob/rust/src/gl.rs
[18:36:23] <pcwalton> I updated sprocketnes to use libnative the other day
[18:36:28] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[18:36:29] <pcwalton> it works great and removes a bunch of LOC
[18:36:31] <acrichto> I'm porting my gameboy emulator from JS to rust
[18:36:34] <pcwalton> also it's all statically linked now
[18:36:38] <acrichto> and I got opengl working with bjz last night
[18:36:39] <acrichto> also nice!
[18:36:52] <pcwalton> although honestly I think I may just use SDL2 instead of GL
[18:36:58] <acrichto> https://github.com/alexcrichton/jba/blob/rust/src/gl.rs#L176-L283
[18:37:01] <acrichto> so much shaders
[18:37:05] <pcwalton> since I don't really need much GL stuff unless I want to start doing HQ2X or something
[18:37:14] <sfackler> for macro_rules! exports, the most straightforward method I see is to just keep it in the AST all the way through to metadata encoding. It does raise some questions of e.g. what type to give it in ty_of_item. Would it be reasonable to just give it ! or () or is this a bad idea and I should store them away somewhere outside of the AST?
[18:37:16] <acrichto> I don't even know what any of that is lol
[18:37:31] <pcwalton> acrichto: yeah, this is the basic problem with OpenGL ES.
[18:37:34] <pcwalton> I agree with jwz's criticism
[18:37:42] <pcwalton> it is WAY TOO HARD for newcomers to just get a stupid triangle on the screen
[18:37:53] <acrichto> sfackler: I would expect them to be stored separately if possible
[18:38:01] <acrichto> pcwalton: yeah I just needed to draw a square :(
[18:38:04] <pcwalton> the committee was extremely "batteries not included"
[18:38:13] <pcwalton> as an overreaction to GL 1.0 having too much crap IMHO
[18:38:14] <acrichto> lol
[18:38:18] <pcwalton> GL 1.0 was very bloated
[18:38:27] <sfackler> acrichto: should I just dump them somewhere in the Session then?
[18:38:28] <pcwalton> so the committee went "let's remove everything except the bare minimum"
[18:38:35] <acrichto> it'd be mildly ok if there wre examples, but all internet examples use the old stuff
[18:38:36] <pcwalton> which is great for AAA games
[18:38:42] <pcwalton> but 90% of OpenGL users are not AAA games
[18:38:51] <pcwalton> exactly
[18:38:56] <pcwalton> there's also a big migration problem
[18:39:02] <acrichto> sfackler: if possible it'd be best to keep on the tcx (no reason for macros to persist across multiple compilations), but even storage witha  type of ! would be ok
[18:39:19] <acrichto> sfackler: it's probably best to get a demo-quality thing up and running first than to get it pristine the first time around
[18:39:24] <sfackler> yeah
[18:40:08] <pcwalton> IMHO GL 2.0 should have a "default shader program" that you can just use if you don't need any special effects
[18:40:14] <pcwalton> that would solve most of the problems
[18:40:20] <pcwalton> and would scarcely add any complexity
[18:40:45] <acrichto> that would be nice
[18:41:04] <pcwalton> acrichto: but hey, now that you have the complexity, you can now add HQ2X support if you want :)
[18:41:08] <pcwalton> without much trouble
[18:41:16] <acrichto> what is HQ2X?
[18:41:29] <pcwalton> https://gitorious.org/bsnes/xml-shaders/source/de81fa4fd2063ca9d4de84f05b6ad0676bccecec:shaders/OpenGL/v1.0/HQ2x.shader
[18:41:37] <pcwalton> http://en.wikipedia.org/wiki/Hqx
[18:41:43] <acrichto> what
[18:41:56] <pcwalton> it's a super simplified "vector tracing" algorithm
[18:42:00] <acrichto> that's fancy
[18:42:08] <pcwalton> that scales up a pixelated image by 2x (or 3x or 4x)
[18:42:23] <acrichto> oh that'd be nice
[18:42:25] <pcwalton> so it looks nice on a big screen
[18:42:30] <pcwalton> and it can be done on the GPU
[18:42:37] <pcwalton> so it doesn't slow down your emulation
[18:43:04] <sfackler> acrichto: what's the tcx again?
[18:43:05] <acrichto> rubyTexture?
[18:43:12] <acrichto> sfackler: middle::cx == type context
[18:43:15] <acrichto> middle::ty::cx
[18:43:17] <sfackler> ah
[18:43:22] <acrichto> ty::ctxt actually
[18:44:46] <pcwalton> acrichto: heh, https://gitorious.org/bsnes/xml-shaders/source/de81fa4fd2063ca9d4de84f05b6ad0676bccecec:shaders/OpenGL/v1.0 is cute
[18:44:47] <sfackler> so in that case I'd leave them in the AST and then pull them out in the middle of phase 3?
[18:44:53] <pcwalton> there are some cute shaders like ones that simulate a CRT screen
[18:45:12] <acrichto> sfackler: sounds reasonable
[18:45:18] *** Quits: tupshin_ (quassel@moz-54DE2E9C.du.xdsl.is) (Ping timeout)
[18:45:24] <acrichto> man shaders are crazy
[18:45:30] <acrichto> pcwalton: do you know how to run multiple shaders?
[18:45:34] <pcwalton> someone should rewrite these in rust ;)
[18:46:14] <pcwalton> hmm, I don't know if you can, short of render to texture, but it's a full programming language so you can just factor out the two shaders you want to compose into functions and then call them both
[18:46:26] <sfackler> acrichto: the normal way to run multiple shaders is to render to texture the first time
[18:46:36] <pcwalton> yeah, that's what I figured
[18:46:39] <pcwalton> FBO crap
[18:46:41] <acrichto> sfackler: oh don't make me drag out my 462 old code :(
[18:46:55] <acrichto> maybe I can just concat the shaders...
[18:47:44] <sfackler> acrichto: don't take anything in 462 as the right way to do anything in OpenGL :(
[18:47:49] <acrichto> lol
[18:47:55] <acrichto> I re-learned that last night
[18:48:09] <sfackler> I guess one nice thing about new opengl is that they just removed all of the deprecated stuff
[18:48:19] <sfackler> so it's a bit harder to do the wrong thing
[18:48:57] <acrichto> alright let's do this fbo business
[18:49:13] * acrichto has no idea what he's doing
[18:49:17] <sfackler> wow, the ty::ctxt is enormous
[18:49:32] <acrichto> don't worry, it's behind @!
[18:49:53] <sfackler> so many RefCells!
[18:49:59] <acrichto> blame pcwalton
[18:50:01] <acrichto> :)
[18:50:31] <sfackler> hmm, so I'm not sure if I feel worse about pulling macro defs out of the ast into the ty::ctxt or keeping them around with a ! type
[18:50:35] <sfackler> they both feel kind of hacky
[18:50:51] <pcwalton> RefCell will get nicer over time.
[18:51:01] <pcwalton> niko's thing will make a BIG difference
[18:51:07] <pcwalton> and then the Deref trait will make it nicer still
[18:51:42] <sfackler> pcwalton: I'm complaining less about the API weirdness and more about the fact that we should just pass these things around mutably :)
[18:51:45] <SimonSapin> pcwalton: does https://github.com/mozilla/rust/pull/11251 really removes @mut from the language, or just have the compiler stop using it?
[18:52:09] <pcwalton> SimonSapin: it really removes it from the language
[18:52:31] <SimonSapin> oh, I just noticed itâ€™s @mut and not @
[18:57:30] <brson> acrichto: re-r https://github.com/mozilla/rust/pull/11277
[18:58:07] <acrichto> brson: need more +'s for that commit
[19:00:19] *** bstrie_mojitos is now known as bstrie
[19:00:51] <acrichto> lol robust_close
[19:06:33] <brson> anybody up for reviewing a trans patch? https://github.com/mozilla/rust/pull/11252
[19:07:37] <sfackler> brson: the last commit in that looks like it's still in progress
[19:09:20] *** Quits: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP) (Ping timeout)
[19:11:50] <acrichto> brson: r? https://github.com/mozilla/rust/pull/11149
[19:12:26] *** Joins: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP)
[19:15:43] <brson> so many approved PRs! What an exciting year.
[19:19:46] <eddyb> heh, that explains why I didn't see a std speedup. it actually takes longer than I previously measured, for stage0
[19:26:54] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[19:26:54] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/cykOzw
[19:26:54] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[19:32:08] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[19:32:09] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/4xDfTg
[19:32:09] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[19:32:10] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[19:32:10] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/on-qfw
[19:32:10] <ghrust> 13rust/06auto 14f42a36c 15Florian Hahn: Remove `extern mod foo (name="bar")` syntax, closes #9543
[19:32:10] <ghrust> 13rust/06auto 144cb13ed 15Florian Hahn: Inject std libs with versions
[19:32:11] <ghrust> 13rust/06auto 140df9b85 15bors: auto merge of #10696 : fhahn/rust/issue9543-remove-extern-mod-foo, r=pcwalton...
[19:32:13] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[19:47:50] *** Quits: gwty (gwtypc@102CF09B.E5EF4F0B.27560D6E.IP) (Ping timeout)
[19:51:17] <eddyb> task 'rustc' failed at 'No def'n found for syntax::ast::DefId{crate: 0u32, node: 109586u32} in tcx.methods', /home/eddy/Projects/rust/src/librustc/middle/ty.rs:3607
[19:51:28] <eddyb> but.... I'm not querying the ID anymore ;_;
[19:57:56] *** jdm is now known as jdm|busy
[20:03:16] <eddyb> nmatsakis: it seems the typeck::method_map_entry is for ExprCalls, so I can't use that. do I need to store ty::method's in the metadata :/?
[20:04:43] <eddyb> and I have to go now, not sure if I can finish this tomorrow
[20:05:21] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[20:05:22] *** ChanServ sets mode: +o tjc
[20:06:41] <eddyb> nmatsakis: trans::base::register_method needs the self type, which is actually erased from middle::ty :( (apart from middle::ty::method which isn't encoded)
[20:07:55] <nmatsakis> eddyb: I'm unsure of the details off the top of my head
[20:08:18] <nmatsakis> eddyb: I'd guess you can add the relevant info to something pre-existing, but I have to refresh my memory 
[20:08:55] <eddyb> there is no actual method type, just functions with erased self. maybe I should fix that. but that sounds like a huge task
[20:10:09] <lkuper> brson: it makes me happy that you bumped the version number just a few hours after I finally got a measly commit in
[20:10:23] <lkuper> so I can keep telling everyone I've contributed to every release
[20:11:19] <lkuper> just barely made that one, though :)
[20:12:09] <cmr> brson: is 0.9 being cut before the next meeting?
[20:15:02] <nmatsakis> pcwalton: nice to see how much code goes away w/o @mut :)
[20:17:17] * nmatsakis idly wonders if the github user `mut` gets a lot of random rust-related notifications due to people writing @mut
[20:17:24] *** Quits: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP) (Ping timeout)
[20:17:33] <nmatsakis> I'm sure they'll be happy if we changed to GC<>
[20:30:31] *** jdm|busy is now known as jdm
[20:41:15] <pcwalton> nmatsakis: yup, I'm pretty happy.
[20:41:34] <pcwalton> btw. I am thinking of not landing box(GC) and converting everything to Gc::new instead
[20:41:45] <pcwalton> makes it easier to experiment with Boehm.
[20:42:09] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[20:42:09] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/on-qfw
[20:42:09] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[20:46:54] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[20:46:54] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/eC8mew
[20:46:54] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[20:46:55] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[20:46:55] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/h-uF1A
[20:46:55] <ghrust> 13rust/06auto 1480d0f60 15Simon Sapin: Add .insert() and .insert_char() methods to ~str.
[20:46:55] <ghrust> 13rust/06auto 14f93b778 15bors: auto merge of #10826 : SimonSapin/rust/str-insert, r=brson...
[20:46:56] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[20:48:46] <brson> lkuper: we've been holding off on 0.9 until you got your commit done
[20:48:49] <brson> cmr: probably not
[20:49:05] <cmr> ok
[20:49:58] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[20:50:43] <lkuper> brson: glad to hear your priorities are in the right place
[20:53:39] <nmatsakis> pcwalton: https://github.com/mozilla/rust/pull/11251#issuecomment-31483583
[20:53:51] <pcwalton> nmatsakis: cool, thanks
[20:53:56] <pcwalton> glad I didn't mess up the borrow check :)
[20:54:21] <nmatsakis> pcwalton: looked like it was mostly just removing cases (which makes sense...)
[20:54:26] <pcwalton> yup
[20:54:28] <pcwalton> that's what it did :)
[20:54:51] <pcwalton> nmatsakis: how goes your extend-lifetimes-to-a-full-stmt patch?
[20:55:06] <pcwalton> no rush of course, just mentioning that that would help a great deal to make ref cells more usable
[21:02:51] <kimundi> Oh, we finally get that?
[21:02:54] * kimundi is excited
[21:05:15] <nmatsakis> pcwalton: it's coming. I have to rebase over your changes. that will take a bit :)
[21:05:24] <pcwalton> cool
[21:06:05] <nmatsakis> pcwalton: I'm hoping to get it done next week at linux.conf.au -- it's at that mindless "compile-fix-trivial-bug-recompile" stage that I find very good for conferences actually :)
[21:06:13] <pcwalton> heh :)
[21:29:19] *** Joins: geoffhill (geoffhill@moz-738DC0DB.org)
[21:32:06] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[21:32:07] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14f93b778 to 140df9b85: 02http://git.io/N3iJvQ
[21:32:07] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[21:32:09] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[21:32:09] <ghrust> 01[13rust01] 15bors pushed 17 new commits to 06auto: 02http://git.io/qbIiLg
[21:32:09] <ghrust> 13rust/06auto 147c32ce2 15Patrick Walton: libsyntax: Make the parser mutable
[21:32:09] <ghrust> 13rust/06auto 146b990ce 15Patrick Walton: libsyntax: De-`@mut` `quote_depth` in the parser
[21:32:10] <ghrust> 13rust/06auto 144b8cf41 15Patrick Walton: libsyntax: De-`@mut` `token` in the parser
[21:32:12] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[21:41:54] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[21:41:54] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 145d87fb9 to 140df9b85: 02http://git.io/N3iJvQ
[21:41:54] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[21:41:55] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[21:41:55] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/8bqMqg
[21:41:55] <ghrust> 13rust/06auto 1480d0f60 15Simon Sapin: Add .insert() and .insert_char() methods to ~str.
[21:41:55] <ghrust> 13rust/06auto 1452f1cd1 15bors: auto merge of #10826 : SimonSapin/rust/str-insert, r=brson...
[21:41:55] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[21:50:54] *** Quits: jxs (joaoxsouls@1FF12F4F.CDF09DE2.D6573861.IP) (Ping timeout)
[21:57:42] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[22:11:27] *** Quits: larsberg (sid16141@moz-A42E5B7B.irccloud.com) (Ping timeout)
[22:12:11] *** Quits: jack (sid19593@moz-A42E5B7B.irccloud.com) (Ping timeout)
[22:14:08] *** Quits: whitglint (uid15486@moz-31ABA2C0.irccloud.com) (Ping timeout)
[22:14:49] *** Joins: jack (sid19593@moz-A42E5B7B.irccloud.com)
[22:16:32] *** Quits: jack (sid19593@moz-A42E5B7B.irccloud.com) (Ping timeout)
[22:21:06] *** Quits: steveklabnik (uid17044@moz-A42E5B7B.irccloud.com) (Ping timeout)
[22:25:00] *** Joins: steveklabnik (uid17044@moz-A42E5B7B.irccloud.com)
[22:26:45] *** Quits: steveklabnik (uid17044@moz-A42E5B7B.irccloud.com) (Ping timeout)
[22:26:50] *** Quits: ChristopherBurg (Christophe@moz-2C03E71B.hfc.comcastbusiness.net) (Ping timeout)
[22:27:00] *** Joins: steveklabnik (uid17044@moz-A42E5B7B.irccloud.com)
[22:27:08] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[22:27:09] *** ChanServ sets mode: +o tjc
[22:31:11] *** Quits: steveklabnik (uid17044@moz-A42E5B7B.irccloud.com) (Ping timeout)
[22:41:52] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[22:41:52] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/h6Zd_Q
[22:41:52] <ghrust> 13rust/06auto 14f8cc9a9 15Simon Sapin: [std::ascii] Add .to_ascii_opt() and .into_ascii_opt() returning Option...
[22:41:52] <ghrust> 13rust/06auto 142e98a93 15bors: auto merge of #10828 : SimonSapin/rust/ascii_opt, r=pcwalton...
[22:41:52] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[22:41:53] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[22:41:53] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1452f1cd1 to 140df9b85: 02http://git.io/N3iJvQ
[22:41:53] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[22:42:57] <sfackler> does anyone know why csearch::maybe_get_item_ast takes a closure to decode? every single call to it just uses astencode::decode_inlined_item for it
[22:43:41] <Luqman> sfackler: some legacy reason i'd guess
[22:44:31] <brson> could have been a way to lift a dependency out of csearch
[22:44:41] <brson> at one point i was trying to decouple a bunch of metadata decoding stuff from librustc
[22:48:53] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[22:52:13] *** Quits: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Ping timeout)
[23:02:58] *** Joins: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca)
[23:05:54] *** Quits: geoffhill (geoffhill@moz-738DC0DB.org) (Ping timeout)
[23:10:09] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[23:10:12] *** Quits: tikue (tikue@moz-FEADCD38.hsd1.pa.comcast.net) (Ping timeout)
[23:10:20] *** Joins: tikue (tikue@moz-FEADCD38.hsd1.pa.comcast.net)
[23:13:01] *** Joins: jxs (joaoxsouls@1FF12F4F.CDF09DE2.D6573861.IP)
[23:21:17] *** Joins: ChristopherBurg (Christophe@moz-2C03E71B.hfc.comcastbusiness.net)
[23:25:25] *** Joins: tupshin_ (quassel@moz-54DE2E9C.du.xdsl.is)
[23:34:43] *** Quits: jdm (jdm@moz-3FFA85CA.dsl.teksavvy.com) (Quit: Lost terminal)
[23:49:26] *** Quits: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca) (Quit: canhtak)
[23:51:51] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[23:51:51] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/h6Zd_Q
[23:51:51] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[23:56:52] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[23:56:52] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/j2tnug
[23:56:52] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[23:57:25] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[23:58:34] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[23:58:34] *** ChanServ sets mode: +o tjc
[23:59:31] *** Joins: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca)
