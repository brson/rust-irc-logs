[00:00:08] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[00:00:16] <cmr> brson: ^ PR for rust-www
[00:00:21] <huon> cmr: Vec isn't reexported as collections::Vec
[00:00:34] <huon> and std::vec_ng::Vec isn't deprecated (yet)
[00:00:56] <cmr> huon: oh, I remember it being discussed, assumed it happened with the ~[] deprecation
[00:01:13] <brson> looks like https://github.com/graydon/rust-www/pull/22 does the same thing
[00:01:19] <meyer> cmr: brson: Actually there's a better PR already sent, it looks like. I thought about changing the "extra" link to "all docs" or "docs", but not sure
[00:01:44] <huon> cmr: no, the PR moving it was closed as wontfix due to a misunderstanding
[00:03:04] *** Quits: eibwen (kvirc@moz-72527DDC.dip0.t-ipconnect.de) (Ping timeout)
[00:04:21] <meyer> If I merge https://github.com/graydon/rust-www/pull/22 into my fork, then make a new PR on top of it changing "docs" to "all docs" and "Other docs" to "Full docs", will that make it hard to merge?
[00:05:04] <brson> meyer: no
[00:05:13] <brson> if all you do is merge then it will work out
[00:05:22] <brson> meyer: so which of these shouild I merge now?
[00:05:27] <meyer> Not mine.
[00:05:30] <brson> maybe i should give them both a look
[00:05:43] *** Quits: aatch_ (aatch@moz-2BB0AC01.cable.telstraclear.net) (Ping timeout)
[00:05:55] <meyer> I think we should put "all docs" where "extra" is right now, and change the 0.9 "Other docs" to "Full docs"
[00:06:02] <meyer> Since it isn't really "Other docs"
[00:06:14] <huon> isn't the code example meant to be for the latest release?
[00:06:34] <meyer> In mine, I just remove extra, and change Other to Full for both 0.9 and master, but I think the other PR is visually nicer
[00:06:34] <huon> (i.e. forward porting it from 0.9 before 0.10 is released isn't what we want?)
[00:07:09] <meyer> But I'd still make the Other->Full change, and I think "all docs" instead of just "docs" makes it clear that it isn't documentation for "std" or something
[00:07:28] <meyer> I'll make a new PR, hold on a sec.
[00:09:08] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[00:09:31] *** Joins: mno2 (mno2@moz-3506EAC7.singnet.com.sg)
[00:10:50] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[00:11:00] *** Joins: aatch (aatch@moz-2BB0AC01.cable.telstraclear.net)
[00:11:10] <brson> huon: yeah, typically the example is for the latest stable
[00:11:31] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[00:11:36] <brson> meyer: I merged adrien's, so rebase yours on top of master
[00:11:37] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[00:11:53] <brson> unless you've already merged adrien's branch. that also works
[00:12:05] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[00:12:31] <meyer> I just pushed a revert commit on mine and was about to merge adrien's into mine, too.
[00:13:47] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[00:14:12] *** Quits: Lovot (root@moz-64ED673A.knology.net) (Quit: Lost terminal)
[00:14:31] *** Joins: Lovot (root@moz-64ED673A.knology.net)
[00:14:53] *** Joins: wilkie (wilkie@moz-A19F104D.pitbpa.fios.verizon.net)
[00:14:55] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Quit: )
[00:15:19] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[00:16:56] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:17:34] <Tobba> woo ICE's
[00:19:39] *** Joins: int3_ (int3_@moz-8FFDEA32.public.wayport.net)
[00:19:44] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[00:20:30] <YourBestFriend> NOT GOOD
[00:20:32] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[00:22:13] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[00:23:23] <brson> does anybody have the doc sprint etherpad link?
[00:23:26] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[00:25:01] *** Quits: int3_ (int3_@moz-8FFDEA32.public.wayport.net) (Client exited)
[00:25:24] *** Joins: int3_ (int3_@moz-8FFDEA32.public.wayport.net)
[00:25:54] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Ping timeout)
[00:25:57] <sfackler> brson: erickt might be the only person
[00:27:18] *** Quits: int3_ (int3_@moz-8FFDEA32.public.wayport.net) (Ping timeout)
[00:27:43] *** Joins: int3_ (int3_@moz-8FFDEA32.public.wayport.net)
[00:27:49] *** Quits: Rym (y@3138B97C.86D1DEDD.51C6DE68.IP) (Ping timeout)
[00:29:14] *** Joins: Rym (y@3138B97C.86D1DEDD.51C6DE68.IP)
[00:30:30] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[00:31:56] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[00:33:29] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[00:33:41] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[00:33:55] *** Quits: marianoguerra (marianogue@moz-184D29F5.dip0.t-ipconnect.de) (Ping timeout)
[00:35:14] *** jorendorff is now known as jorendorff_away
[00:35:15] *** Joins: jaras (textual@CA59A5EC.5F4B69C0.52E4E107.IP)
[00:35:44] *** Quits: int3_ (int3_@moz-8FFDEA32.public.wayport.net) (Client exited)
[00:35:55] <brson> sfackler: what's the deal with vec!?
[00:36:11] *** Joins: int3_ (int3_@moz-8FFDEA32.public.wayport.net)
[00:36:36] <brson> bstrie: congrats on that awesome fastco article
[00:36:43] *** Parts: robhobbes (robert@moz-9B0672CB.hsd1.ut.comcast.net) ()
[00:36:52] *** Quits: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl) (Quit: Leaving)
[00:37:23] <sfackler> brson: It was added along with vec_ng to make it easier to do the equivalent of ~[foo, bar]
[00:37:37] <cmr> I thought it was trite and read more planning into our history than was actually intended.
[00:38:00] <sfackler> I'm not sure if it's sticking around or if its a stopgap to make conversion easier
[00:38:03] *** Quits: int3_ (int3_@moz-8FFDEA32.public.wayport.net) (Ping timeout)
[00:38:06] *** Joins: mib_84yhvk (Mibbit@C63373B4.50C9C681.55B09B25.IP)
[00:38:25] <brson> cmr: it was good press
[00:38:29] <cmr> it was.
[00:38:33] *** Joins: ChrisOei (ChrisOei@moz-30D80888.hsd1.ca.comcast.net)
[00:38:43] <brson> sfackler: what's the alternative without the macro?
[00:39:00] <brson> Maybe `Vec::new([foo, bar])` doesn't work yet
[00:39:08] <brson> but it seems like it should
[00:39:12] <Tobba> brson: wait, link to article?
[00:39:16] <cmr> Tobba: http://www.examiner.com/article/amazon-prime-buyers-not-happy-with-add-on-program
[00:39:20] <cmr> erm
[00:39:23] <cmr> http://www.fastcolabs.com/3027664/under-the-hood-of-mozillas-new-multi-core-browser-and-the-open-source-language-that-powers-i
[00:39:25] <cmr> wrong tab :P
[00:39:29] <sfackler> brson: it doesn't so you have to do { let mut v = Vec::new(); v.push(foo); v.push(bar); v }
[00:39:47] <sfackler> brson: I don't think Vec::new([foo, bar]) can happen until the DST changes go through 
[00:39:49] *** Quits: IanCormac84 (User@93A65D51.64D641E5.67DFF8B4.IP) (Ping timeout)
[00:39:49] *** Quits: Rym (y@3138B97C.86D1DEDD.51C6DE68.IP) (Ping timeout)
[00:39:57] <brson> sfackler: that's right, yes
[00:39:58] <bjustin> ahhh std::cmp::min doesn't work on f64's anymore. is there another function I can use?
[00:40:13] <sfackler> bjustin: std::f64::min iirc
[00:40:17] <brson> bjustin: there's a min method on floats via the Float trait
[00:40:27] <brson> i think
[00:40:27] <bjustin> thanks
[00:40:40] *** Quits: ChrisOei (ChrisOei@moz-30D80888.hsd1.ca.comcast.net) (Client exited)
[00:40:47] *** Joins: IanCormac84 (User@BC8245A0.2A8D8854.67DFF8B4.IP)
[00:41:21] *** Quits: mib_84yhvk (Mibbit@C63373B4.50C9C681.55B09B25.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:41:26] *** Joins: Rym (y@3138B97C.86D1DEDD.51C6DE68.IP)
[00:41:39] *** jorendorff_away is now known as jorendorff
[00:41:46] *** kimundi is now known as zz_kimundi
[00:41:55] <bjustin> std::f64::min does not appear to exist
[00:42:44] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[00:43:10] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[00:43:23] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[00:43:30] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[00:44:03] <meyer> Isn't it std::cmp::min for types that implement Ord?
[00:44:12] <meyer> Or TotalOrd
[00:44:12] <sfackler> meyer: TotalOrd now
[00:44:30] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (Ping timeout)
[00:44:37] <sfackler> bjustin: http://static.rust-lang.org/doc/master/std/num/trait.Float.html#tymethod.min
[00:44:42] *** Joins: int3_ (int3_@moz-9D7D6A7A.public.wayport.net)
[00:44:52] <meyer> And http://static.rust-lang.org/doc/master/std/cmp/fn.min.html
[00:45:07] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[00:45:10] *** Joins: jvoorhis_ (jvoorhis@moz-930B7923.ptld.qwest.net)
[00:45:12] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Connection reset by peer)
[00:45:36] *** Quits: jvoorhis_ (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[00:45:37] <bjustin> all the google results that I get for rust docs are for 0.9 :(
[00:45:47] <bjustin> I'll try that
[00:45:58] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[00:46:13] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[00:46:13] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[00:46:32] <meyer> bjustin: http://static.rust-lang.org/doc/master/index.html has documentation for each crate, and you can search from the docs pages within a crate.
[00:46:56] *** Quits: matematikaadit (adit@352CCDDA.C60397B7.C9B8F0F7.IP) (Quit: Leaving)
[00:46:58] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[00:47:02] *** Quits: brontron (Mibbit@moz-C8D86903.tc.ph.cox.net) (Quit: http://www.mibbit.com ajax IRC Client)
[00:47:15] <bjustin> I know, but I usually get there via google, look around, realize I'm on 0.9, then replace the 0.9 with master in the URL
[00:47:19] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[00:47:20] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[00:47:31] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[00:47:35] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[00:47:36] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[00:47:46] *** Joins: luziie (luziie@moz-CD18B14B.customer.cdi.no)
[00:47:55] *** Quits: luziiie (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[00:48:20] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[00:48:32] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[00:49:15] *** Quits: jaras (textual@CA59A5EC.5F4B69C0.52E4E107.IP) (Ping timeout)
[00:49:17] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[00:49:19] *** Quits: mib_r94o9f (Mibbit@moz-7AD9232F.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[00:49:29] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[00:49:43] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[00:50:07] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[00:50:07] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Connection reset by peer)
[00:50:24] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[00:51:40] *** Quits: Havvy (Havvy@moz-4FE57F72.hsd1.wa.comcast.net) (Connection reset by peer)
[00:51:57] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[00:52:06] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[00:52:35] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[00:54:23] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[00:54:29] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[00:56:29] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[00:56:50] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[00:57:05] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[00:57:06] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[00:57:26] *** Joins: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com)
[00:57:32] *** Joins: luziiie (luziie@moz-CD18B14B.customer.cdi.no)
[00:57:51] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[00:58:07] <kvark> sorry if this question has already been answered 100 times... but why can't we index a Vec now? (error: cannot index a value of type `std::vec_ng::Vec<u8>`)
[00:58:12] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[00:58:25] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[00:58:26] *** Quits: luziie (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[00:58:26] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[00:59:03] <FreeFull> kvark: I haven't seen it asked yet
[00:59:10] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[00:59:11] <brandonson> kvark: Something about the Index trait is not currently suitable, not sure exactly what it is though.
[00:59:26] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[00:59:42] <brandonson> kvark: it's my_vec.get(0) instead of my_vec[0] for now
[00:59:43] <kvark> I don't see Index implemented for Vec in the docs...
[01:00:04] <kvark> brandonson: is it by design? I mean, it is so natural to index a vector...
[01:00:08] <brandonson> kvark: yeah, something about it means that it can't be implemented until Index gets overhauled
[01:00:10] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[01:00:20] <kvark> so, temporary then, ok
[01:00:28] <brandonson> kvark: afaik, yeah
[01:00:33] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[01:00:40] <kvark> cool, thanks
[01:00:45] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[01:00:46] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[01:01:01] *** Quits: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de) (Connection reset by peer)
[01:01:30] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[01:01:40] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[01:02:25] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[01:02:46] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[01:03:29] *** Joins: jvoorhis_ (jvoorhis@moz-930B7923.ptld.qwest.net)
[01:03:30] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Connection reset by peer)
[01:03:31] <FreeFull> brandonson: I think it used to be that Vec was indexable, did something change?
[01:03:39] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[01:04:16] *** Joins: rook (rook@moz-97AF7010.hsd1.mn.comcast.net)
[01:05:03] *** Joins: blindrenderer (blindrende@772B3B0F.54C85F70.2125B4DC.IP)
[01:05:11] *** Quits: jvoorhis_ (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[01:05:32] *** Quits: int3_ (int3_@moz-9D7D6A7A.public.wayport.net) (Client exited)
[01:05:48] <Tobba> on_connect: 'a || -> 'static |&mut ServerClient, &Packet|,
[01:05:51] <Tobba> for some reason this causes an ICE
[01:05:52] *** Joins: int3_ (int3_@moz-9D7D6A7A.public.wayport.net)
[01:07:45] *** Quits: int3_ (int3_@moz-9D7D6A7A.public.wayport.net) (Ping timeout)
[01:07:47] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[01:08:01] *** Quits: quux00 (uid24415@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[01:09:06] <Tobba> actually, simply the compile suceeding seems to trigger this ICE
[01:09:19] <Tobba> Ok(task 'rustc' failed at 'assertion failed: !r0.is_bound()', D:\Heather\Contrib\P\rust\src\librustc\middle\typeck\infer\glb.rs:180
[01:09:37] *** Joins: int3_ (int3_@moz-9D7D6A7A.public.wayport.net)
[01:09:55] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[01:10:17] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[01:10:17] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Ping timeout)
[01:10:21] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[01:11:39] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[01:12:18] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[01:13:08] *** Quits: int3_ (int3_@moz-9D7D6A7A.public.wayport.net) (Client exited)
[01:13:31] *** Joins: int3_ (int3_@moz-9D7D6A7A.public.wayport.net)
[01:14:02] * kvark is sad because os::args returns ~[]
[01:15:20] *** Quits: int3_ (int3_@moz-9D7D6A7A.public.wayport.net) (Ping timeout)
[01:16:57] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[01:17:17] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[01:18:06] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[01:18:27] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[01:19:06] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[01:20:09] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[01:20:25] *** jorendorff is now known as jorendorff_away
[01:20:32] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[01:20:34] <Armavica> hmm, I wish Option::or were lazy
[01:21:01] <Armavica> I guess the compiler starts by evaluating the argument?
[01:21:22] <Armavica> and I guess I can't do much about that?
[01:21:27] <huon> Armavica: or_else, iirc
[01:21:41] <Armavica> oh, I see what you mean
[01:21:57] <Armavica> nice! thanks
[01:22:19] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[01:23:02] <kvark> bang, MemWriter::unwrap is also not ported
[01:23:21] <kvark> perhaps, I should have waited a bit before fixing this stuff :(
[01:23:47] <brson> meyer: thanks!
[01:24:46] *** Quits: IanCormac84 (User@BC8245A0.2A8D8854.67DFF8B4.IP) (Ping timeout)
[01:25:17] *** Quits: Rym (y@3138B97C.86D1DEDD.51C6DE68.IP) (Ping timeout)
[01:25:28] <brson> is there a way yet in rustdoc to make explicit cross-reference links?
[01:25:35] <meyer> brson: No problem. 
[01:25:46] <brson> if e.g. my prose wants to link to mod `bool`
[01:26:22] *** Joins: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com)
[01:26:27] *** Joins: rustilite (rustilite@moz-61B073BC.cpe.net.cable.rogers.com)
[01:27:13] *** Joins: IanCormac84 (User@BC8245A0.2A8D8854.67DFF8B4.IP)
[01:27:34] *** jorendorff_away is now known as jorendorff
[01:29:04] *** Quits: luziiie (luziie@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[01:29:16] *** Joins: luziiie (luziie@moz-CD18B14B.customer.cdi.no)
[01:30:44] *** Quits: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net) (Quit: telotortium)
[01:31:21] *** Quits: LU324 (asdf@moz-864C7465.dyn.embarqhsd.net) (Ping timeout)
[01:31:38] <sfackler> brson: nope, there's no equivalent of javadoc's @see :(
[01:32:26] <sfackler> kvark: the current Index trait isn't powerful enough to make indexing work the way you'd expect it to
[01:32:51] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[01:32:59] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[01:34:24] <kvark> sfackler: I suppose I can do as_mut_slice() and proceed as usual
[01:34:32] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[01:35:10] *** Quits: bjustin (bjustin@moz-4B914826.hsd1.mn.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:35:23] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[01:35:47] *** Joins: angdev (angdev@16F167B.4C57D258.D8E8354F.IP)
[01:36:04] <sfackler> yep, that or get_mut(x)
[01:40:33] *** Quits: glaebhoerl (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Quit: )
[01:41:24] *** Joins: alkino_ (alkino@moz-61F150EC.w92-151.abo.wanadoo.fr)
[01:42:53] *** Joins: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net)
[01:43:21] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[01:43:24] *** Joins: listboss (Mibbit@moz-CC5410C2.hsd1.ca.comcast.net)
[01:43:56] *** Quits: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net) (Quit: telotortium)
[01:45:09] *** Quits: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com) (Quit: Connection closed for inactivity)
[01:46:11] *** Quits: mpiechotka (mpiechotka@moz-966273FD.dynamic.mnet-online.de) (Ping timeout)
[01:46:49] <kvark> why do I get a deprecated ~[] error on the crate level when compiling with --test? https://gist.github.com/kvark/3de64aa2250c464155be
[01:47:28] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[01:47:34] <sfackler> kvark: the test infrastructure uses std::os::args() internally which returns a ~[~str]
[01:48:18] *** jorendorff is now known as jorendorff_away
[01:48:28] <kvark> ouch
[01:48:36] *** Quits: cgaebel (clark@moz-F9D89110.nyc.res.rr.com) (No route to host)
[01:49:05] *** Quits: pepper_chico (pepper_chi@BE2968B5.6F4A2706.E4090502.IP) (Quit: WeeChat 0.4.1)
[01:49:32] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[01:49:52] <kvark> acrichto: ^, what do I do with our tests then?..
[01:50:56] <sfackler> just ignore the warning
[01:51:12] <sfackler> I'll put in a PR to suppress the warning on the line that injects it
[01:51:33] *** Joins: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP)
[01:51:33] *** Joins: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net)
[01:52:21] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[01:52:38] *** Joins: Rym (y@3138B97C.86D1DEDD.51C6DE68.IP)
[01:52:46] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[01:52:50] *** Joins: bjustin (bjustin@moz-4B914826.hsd1.mn.comcast.net)
[01:53:52] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Quit: Leaving)
[01:54:04] <kvark> sfackler: to ignore it, I must add [allow(deprecated_owned_vector)];, but I can't make it effective *only* for the test configuration
[01:55:28] <sfackler> no, like just let the warning print
[01:55:57] <sfackler> you can also suppress it with rustc -A deprecated_owned_vector
[01:57:07] *** Joins: dougxxx (dougxxx@moz-21B0BD70.dyn.iinet.net.au)
[01:57:09] *** Joins: shmoo (Mibbit@756FFB2A.65314FF9.3612B92D.IP)
[01:57:32] *** Quits: shmoo (Mibbit@756FFB2A.65314FF9.3612B92D.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:58:17] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[01:59:43] <kvark> sfackler: ok, thanks
[02:00:48] *** Joins: morganb (morgan_b_@moz-5EAC75A2.hfc.comcastbusiness.net)
[02:03:01] *** Quits: jesse99 (jesse99@moz-D8DE13A5.hsd1.wa.comcast.net) (Ping timeout)
[02:04:27] <dougxxx> O_o --> expected `&'a T` but found `&'a mut T` (values differ in mutability)
[02:04:38] <Tobba> yep that is awfully annoying
[02:04:47] *** Joins: tiffnya (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[02:04:49] <Tobba> you have to cast it
[02:04:50] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[02:04:52] <dougxxx> shouldn't casting down from mut x to x be implicit?
[02:04:56] <dougxxx> gah
[02:04:57] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[02:04:57] <dougxxx> :/
[02:05:27] <ryeguy> rust dislikes implicit conversions
[02:06:02] <dougxxx> I get that, but surely the set of operations you can do to a mutable value is a super set of what you can do to an immutable one.
[02:06:06] <dougxxx> Oh well~
[02:06:06] <tiffnya> dougxxx: what happens if the mut x is modified under your feet? it breaks things
[02:06:38] <tiffnya> I guess that's what the freeze kind is for
[02:06:39] <dougxxx> You're borrowing it as immutable though, surely?
[02:06:48] *** Joins: jesse99 (jesse99@moz-D8DE13A5.hsd1.wa.comcast.net)
[02:06:53] <Tobba> yeah theres pretty much no reason to not do it implictly
[02:07:00] <Tobba> except for coherence I guess
[02:07:27] *** Quits: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP) (Input/output error)
[02:07:41] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[02:07:47] *** Joins: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP)
[02:08:41] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[02:09:27] *** Quits: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP) (Ping timeout)
[02:09:29] <huon> &mut -> &T normally happens implicitly?
[02:09:39] <Tobba> it never does
[02:09:51] <huon> rusti: fn f(_: &int) {} let x = &mut 1; f(x)
[02:09:56] -rusti- timeout triggered!
[02:10:01] <huon> rusti: fn f(_: &int) {} let x = &mut 1; f(x)
[02:10:03] -rusti- ()
[02:10:09] <huon> Tobba: nope
[02:10:14] <Tobba> huh
[02:10:17] <Tobba> it normally doesnt
[02:10:24] <huon> no, it normally does
[02:10:37] <huon> there are some situations where it doesn't
[02:10:49] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[02:10:58] <dougxxx> Like if you have lifetime scopes that might not match?
[02:11:12] <huon> (like trying to return a &T, coercions don't yet get triggered by explicit return type)
[02:11:34] <huon> rusti: fn foo<'a>(x: &'a mut int) -> &'a int { x } 
[02:11:37] -rusti- <anon>:11:49: 11:50 error: mismatched types: expected `&'a int` but found `&'a mut int` (values differ in mutability)
[02:11:37] -rusti- <anon>:11         fn foo<'a>(x: &'a mut int) -> &'a int { x } 
[02:11:37] -rusti-                                                           ^
[02:11:37] -rusti- error: aborting due to previous error
[02:11:37] -rusti- application terminated with error code 101
[02:11:44] <dougxxx> ah, yep. that's what I'm doing.
[02:11:45] <huon> rusti: fn foo<'a>(x: &'a mut int) -> &'a int { &*x } 
[02:11:46] -rusti- <anon>:11:9: 11:54 warning: code is never used: `foo`, #[warn(dead_code)] on by default
[02:11:46] -rusti- <anon>:11         fn foo<'a>(x: &'a mut int) -> &'a int { &*x } 
[02:11:47] -rusti-                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[02:11:47] -rusti- ()
[02:12:38] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[02:13:23] <tcsc> i think the rusti probably has too many warnings on by default.
[02:13:32] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[02:13:43] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[02:13:49] <tcsc> well, in general. not necessarially by default
[02:15:45] *** Joins: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net)
[02:17:14] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[02:22:13] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[02:23:43] *** Quits: q66 (q66@moz-E680C693.range109-154.btcentralplus.com) (Quit: Leaving)
[02:23:54] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[02:24:28] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[02:25:30] *** Quits: Rym (y@3138B97C.86D1DEDD.51C6DE68.IP) (Ping timeout)
[02:28:22] *** Quits: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com) (Quit: http://www.mibbit.com ajax IRC Client)
[02:29:54] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (No route to host)
[02:31:00] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[02:33:46] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[02:34:52] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[02:35:28] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[02:37:09] *** Quits: alkino_ (alkino@moz-61F150EC.w92-151.abo.wanadoo.fr) (Ping timeout)
[02:37:52] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:38:41] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[02:39:23] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[02:41:09] <brson> having the uint and unit modules right next to each other in the docs is kind of maddening
[02:41:20] <brson> we may drive new users instantly crazy when they see it
[02:41:44] *** Joins: bmu_ (chatzilla@moz-A87574A6.hsd1.pa.comcast.net)
[02:42:56] *** bmu_ is now known as bmu
[02:44:03] *** Quits: asmyers (quassel@DB6A517B.4C874661.F98C6DDA.IP) (Ping timeout)
[02:44:06] <sfackler> the unit module has no docs, so we can just #[doc(hidden)] the entire thing: http://static.rust-lang.org/doc/master/std/unit/index.html
[02:44:27] <sinistersnare> ok so i finished compiling rustc, where in my x86_64.... folder is rustc?
[02:44:31] <sinistersnare> or where would it be?
[02:44:41] <brson> sfackler: oh yeah, we should just make it private or remove it
[02:45:11] <brson> i'd like impls for primitives to be by the trait anyway - makes it easier to move the traits around
[02:45:23] <sfackler> agreed
[02:45:49] *** Joins: luziie (luziie@moz-CD18B14B.customer.cdi.no)
[02:46:41] *** Quits: luziiie (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[02:47:19] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[02:49:28] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[02:49:50] <mcpherrin> oooooooooo rust docs got [src] links
[02:49:53] *** Quits: mindcat (mindcat@F32E3B11.297EFC2A.57E3C596.IP) (Ping timeout)
[02:49:53] <mcpherrin> when did they show up
[02:49:56] <mcpherrin> I <3 them!
[02:50:02] *** Joins: mindcat (mindcat@F32E3B11.297EFC2A.57E3C596.IP)
[02:51:10] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[02:51:31] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[02:51:50] <brson> mcpherrin: can you show me?
[02:52:07] *** Joins: jmgrosen (user@moz-848F6087.sb.sd.cox.net)
[02:52:54] *** Quits: mindcat (mindcat@F32E3B11.297EFC2A.57E3C596.IP) (Ping timeout)
[02:53:03] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[02:53:17] <brson> damn rustdoc is handsome these days
[02:53:25] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[02:54:26] <huon> mcpherrin: ages ago :P
[02:54:42] *** Quits: MrByte (Dartakio@moz-81792842.chy-wy.client.bresnan.net) (Quit: )
[02:54:59] *** Joins: mindcat (mindcat@F32E3B11.297EFC2A.57E3C596.IP)
[02:55:11] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[02:56:08] <mcpherrin> huon: well maybe it's too subtle a link then :)
[02:56:20] <huon> mcpherrin: yup, I agree
[02:58:30] <cmr> sinistersnare: x86.../stage2/bin
[02:58:46] <cmr> sinistersnare: protip: find -name rustc
[02:58:54] <sinistersnare> there was errors,  im recompiling now
[02:59:26] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (Input/output error)
[02:59:32] <brson> mcpherrin huon: i don't see the link!
[02:59:39] <brson> oh
[02:59:40] <brson> lol
[02:59:52] <brson> i do now ...
[03:00:08] <brson> aw, that looks so good
[03:00:40] <sinistersnare> and now its yelling at me for not having the x86 directory....
[03:00:45] <sinistersnare> i hvae no idea
[03:00:55] <brson> the src links don't link to the right place though
[03:01:02] *** Quits: zz_kimundi (kimundi@moz-DDACA362.dip0.t-ipconnect.de) (Ping timeout)
[03:01:23] *** Quits: janra (Janus@1CDC5701.A48867D7.52E4E107.IP) (Ping timeout)
[03:02:00] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[03:03:47] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (Ping timeout)
[03:03:58] *** Joins: Mathieu (cicak@7B7B7C8D.8F79F0B0.9900354A.IP)
[03:04:16] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[03:04:30] <huon> yeah, the module ones are broken
[03:04:37] *** Joins: zz_kimundi (kimundi@moz-583268FC.dip0.t-ipconnect.de)
[03:04:47] <huon> well... not broken so much as not very useful
[03:04:53] <brson> https://github.com/mozilla/rust/issues/12926
[03:04:57] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[03:05:02] *** zz_kimundi is now known as kimundi
[03:05:31] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[03:05:50] *** Quits: tomh- (uid501@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[03:06:29] *** Joins: charmander (Mibbit@moz-81E95E89.unassigned.ntelos.net)
[03:07:07] <charmander> could you provide an example of how to use the extra::sync::Semaphore struct
[03:07:22] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[03:07:48] <brson> does rustdoc require unreachable things to be documented?
[03:08:27] <cmr> brson: rustdoc doesn't actually do that lint
[03:08:38] *** Joins: pepper_chico (pepper_chi@BE2968B5.6F4A2706.E4090502.IP)
[03:08:49] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[03:08:50] <brson> the question stands for rustc
[03:08:57] <cmr> yeah, I'm checking
[03:08:58] <huon> brson: theoretically only exported items
[03:09:08] <huon> (i.e. things with a public path)
[03:09:10] <sfackler> it also requries docs on all traits
[03:09:13] <sfackler> even private ones
[03:09:18] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[03:09:18] <charmander> could you provide an example of how to use the extra:ync::Semaphore struct
[03:09:27] <huon> oh, yeah... they're always exported
[03:09:36] *** Joins: MrByte (Dartakio@moz-81792842.chy-wy.client.bresnan.net)
[03:09:37] <huon> charmander: are you using 0.9
[03:09:38] <huon> ?
[03:09:46] <charmander> yes
[03:10:16] <cmr> the missing-doc lint checks every item, not just reachable ones.
[03:10:22] <cmr> afaict
[03:11:01] <huon> let x = Semaphore::new(2); let y = x.clone() do spawn { y.acquire(); /* ... */ y.release(); } x.acquire(); /* ... */ x.release()
[03:11:32] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[03:11:48] <huon> cmr: it short circuits on `       Some(ref id) if !cx.exported_items.contains(id) => return,`
[03:13:17] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[03:13:18] <cmr> ah ok
[03:13:25] *** Quits: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net) (Ping timeout)
[03:13:49] <brson> does anybody know of an existing module that represents 'good rustdocs'?
[03:13:59] <brson> something i can point to and say 'do like that'
[03:14:50] <cmr> http://static.rust-lang.org/doc/master/std/path/index.html
[03:15:16] <cmr> design goals, examples, and everything has docs.
[03:15:27] <huon> maybe http://static.rust-lang.org/doc/master/rand/index.html (but I wrote essentially of it, so I'm not a good judge)
[03:15:29] <cmr> We should probably show docs on reexports.
[03:15:37] *** Quits: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net) (Client exited)
[03:15:45] <cmr> rand is good too
[03:15:57] *** Joins: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net)
[03:16:00] <cmr> iter is basically good but huge.
[03:16:21] <cmr> it'd be better if it had examples for each of the adaptors.
[03:16:31] <cmr> (that'd be a good task for the docathon)
[03:16:59] <huon> I personally think documenting Vec would be a *very* good task
[03:17:07] <cmr> yeah that'd be nice too
[03:17:16] <huon> since it's currently completely empty http://static.rust-lang.org/doc/master/std/vec_ng/struct.Vec.html
[03:17:49] *** Quits: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net) (Ping timeout)
[03:17:50] <sfackler> copying over the remainder of the vec methods would be nice as well
[03:18:05] <huon> what's missing?
[03:18:35] <cmr> everything in vec::raw
[03:18:53] <cmr> all of the std::str stuff takes a ~[u8]
[03:18:53] <huon> bleh
[03:18:56] *** Quits: bjustin (bjustin@moz-4B914826.hsd1.mn.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[03:19:02] <huon> can we redo vec::raw instead of copying it please
[03:19:04] <huon> ?
[03:19:05] <cmr> but that was the only source of badness I found when porting my stuff to Vec
[03:19:10] <cmr> yeah why not! :)
[03:19:13] <sfackler> I guess it depends on if we want to write proxy methods for f.as_mut_slice().whatever() for all of the whatevers
[03:19:18] *** Joins: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net)
[03:19:20] <sfackler> e.g. there's sort_by but not sort
[03:19:39] <cmr> Vec could implement Deref<&[T]>
[03:19:43] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[03:19:49] <sfackler> that'd be cool
[03:19:50] <cmr> not sure if they *should*, but it'd be super useful.
[03:19:57] <huon> wouldn't work
[03:20:00] <huon> atm
[03:20:09] <huon> becuase it would have to return & &[T]
[03:20:18] <sfackler> DSTTTTTTTTT
[03:20:23] <cmr> ah yes, deref returns &Result
[03:20:27] <cmr> forgot about that
[03:20:27] <huon> need DST for Deref<[T]> and MutDeref<[T]>
[03:20:31] <cmr> yup
[03:21:01] <cmr> although I think auto-deref will reach the slice methods through that.
[03:21:37] <sfackler> I wonder if auto-deref here would also get us auto-slicing
[03:21:48] <cmr> auto-overridable-deref does.
[03:21:56] <cmr> which landed! \o/
[03:22:49] <huon> auto-deref doesn't cover fn f(x: &T) {} f(Rc::new(1)) right?
[03:23:18] <cmr> hmm
[03:23:25] <cmr> I don't think it does right now.
[03:23:32] <cmr> same for fn returns iirc
[03:23:38] <brson> cmr huon: thanks
[03:23:45] <cmr> I think that's just adding some calls to adjust in rustc though.
[03:23:55] <huon> yeah, no coercions work for fn returns though :)
[03:27:26] *** Quits: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net) (Quit: telotortium)
[03:28:01] *** Quits: untitaker (untitaker@moz-6DF8CD9D.adsl.highway.telekom.at) (Ping timeout)
[03:29:40] *** Quits: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP) (Quit: )
[03:29:45] *** Joins: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net)
[03:29:52] *** Quits: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se) (Ping timeout)
[03:34:02] *** Joins: bjz (bjz@AE0B7388.B8C2BBC3.F4A11E52.IP)
[03:34:41] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[03:35:23] *** Quits: charmander (Mibbit@moz-81E95E89.unassigned.ntelos.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:35:26] *** Joins: untitaker (untitaker@moz-2B5E2A0B.adsl.highway.telekom.at)
[03:35:36] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (Input/output error)
[03:36:17] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[03:36:23] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[03:37:07] <brson> huon: are you going to do the doc sprint tomorrow?
[03:37:47] *** Quits: alinab (alina@moz-94EAE39D.alinab.org) (Quit: leaving)
[03:38:26] *** Quits: ganitsu (ganitsu@9FB9052B.7B0D0CBC.9D24D5E8.IP) (Quit: WeeChat 0.4.3)
[03:38:28] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[03:39:13] *** Quits: Mathieu (cicak@7B7B7C8D.8F79F0B0.9900354A.IP) (Ping timeout)
[03:39:31] <huon> brson: I might be able to be there for like 30 minutes very early in my morning, but I've got things to do :(
[03:41:04] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[03:42:33] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[03:43:27] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[03:44:22] *** Quits: mojoB (mojoB@moz-A4312114.static.exetel.com.au) (Connection reset by peer)
[03:44:36] *** Joins: mojoB (mojoB@moz-A4312114.static.exetel.com.au)
[03:46:17] <huon> brson: race conditions! :P
[03:46:22] <brson> lol
[03:46:33] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (No route to host)
[03:46:38] <huon> humans need less `unsafe` code
[03:47:09] *** Quits: Rusky (russell@moz-173BA32C.slkc.qwest.net) (Ping timeout)
[03:52:12] *** Quits: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net) (Quit: telotortium)
[03:52:46] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[03:53:52] *** Quits: sellout (Adium@moz-F3B3B6C3.hlrn.qwest.net) (Quit: Leaving.)
[03:56:30] *** Parts: meyer (meyer@moz-A9CF56E4.hsd1.ca.comcast.net) ()
[03:57:07] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[04:00:36] *** Quits: kimundi (kimundi@moz-583268FC.dip0.t-ipconnect.de) (Ping timeout)
[04:04:08] *** Joins: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net)
[04:04:10] *** Joins: zz_kimundi (kimundi@moz-31C8768.dip0.t-ipconnect.de)
[04:04:33] *** zz_kimundi is now known as kimundi
[04:04:52] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[04:05:57] *** Joins: alinab (alina@moz-94EAE39D.alinab.org)
[04:09:56] *** Joins: Rusky (russell@moz-173BA32C.slkc.qwest.net)
[04:10:23] *** Quits: jesse99 (jesse99@moz-D8DE13A5.hsd1.wa.comcast.net) (Ping timeout)
[04:11:05] *** Joins: jesse99 (jesse99@moz-D8DE13A5.hsd1.wa.comcast.net)
[04:11:08] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[04:11:33] *** Joins: strcat (strcat@moz-61B073BC.cpe.net.cable.rogers.com)
[04:12:21] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[04:13:17] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[04:13:20] *** Quits: Rusky (russell@moz-173BA32C.slkc.qwest.net) (Ping timeout)
[04:13:43] <strcat> rusti: 2
[04:13:48] -rusti- 2
[04:14:11] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[04:14:33] <strcat> rusti: 2
[04:14:34] -rusti- 2
[04:16:04] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:16:16] *** Quits: klaus (koz@moz-4486E876.hsd1.wa.comcast.net) (Ping timeout)
[04:18:02] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[04:18:54] <olsonjeffery> i went from rustpkg -> cargo-lite (never got it working ;_; ) -> rust-mk
[04:19:01] <olsonjeffery> and i have to say, the latter is pretty nice
[04:19:19] <olsonjeffery> i guess it reflects some kind of character flaw wherein i enjoy Makefile hackery.
[04:19:25] <cmr> what was broken with cargo-lite?
[04:19:32] <cmr> also what is rust-mk?
[04:19:32] <olsonjeffery> (i haven't worked on a sufficiently complex project)
[04:19:50] <olsonjeffery> cmr: well you recall that we had lots of back and forth over cargo-lite.. and i never got it working :(
[04:20:10] <olsonjeffery> probably was how i was using it. im not happy about it. but i was comfortable with the rust-mk approach so i guess i put in the elbow to make it work
[04:20:19] <olsonjeffery> cmr: https://github.com/KokaKiwi/rust-mk
[04:20:20] <cmr> (I fixed all of those bugs in the rewrite)
[04:20:31] <olsonjeffery> yeah i know. i was still having issues.
[04:20:39] <cmr> which were they?
[04:21:02] <cmr> also cargo-lite and rust-mk seem unrelated?
[04:21:03] <olsonjeffery> i don't recall exactly. i never ended up checking in my cargo-lite.conf files so i can't really show.
[04:21:16] <cmr> rust-mk being a build system and cargo-lite being a thing that downloads and builds things.
[04:21:17] <olsonjeffery> well i was just trying to get a build going w/ cargo-lite
[04:21:26] <olsonjeffery> yeah, that's true
[04:21:31] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[04:21:42] <brson> i've put a fair bit on the doc-sprint etherpad https://etherpad.mozilla.org/Rust-doc-sprint
[04:22:02] <olsonjeffery> cmr: im not bashing on cargo-lite at all. i think my dropping it was more a reflection of my own failure.
[04:22:11] <brson> could be more thorough still. particularly need a bigger list of important items to tackle
[04:22:28] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[04:22:53] <cmr> olsonjeffery: not trying to attack you, just curious what bugs I still need to fix!
[04:22:53] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[04:23:27] <olsonjeffery> cmr: honestly, i stalled on momentum, w/ my personal project, because of cargo-lite + personal stuff
[04:23:51] <olsonjeffery> i don't really have anythingt o articulate, i guess.
[04:23:55] <brandonson> is there a range_inclusive somewhere?  range(-1,2) just looks weird
[04:24:07] <cmr> brandonson: it's called range_inclusive
[04:24:21] *** Joins: Denommus (user@moz-CAD047F5.user.veloxzone.com.br)
[04:24:24] <Denommus> hi
[04:24:25] <brandonson> cmr: hmm.  guess I should've just tried it first :o
[04:24:51] <Denommus> cargo-lite install is not working for me. It says "No such file or directory: './cargo-lite.conf'"
[04:24:53] <strcat> brandonson: it already includes the lower end though
[04:24:53] <Denommus> but it is there
[04:25:01] <cmr> brandonson: (it's in std::iter as the doc search will tell you)
[04:25:02] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[04:25:11] <strcat> rusti: version
[04:25:15] -rusti- rustc 0.10-pre (4444f49 2014-03-15 16:11:32 -0700)
[04:25:23] <cmr> Denommus: can you run it with CARGO_DEBUG=on and gist the output for me?
[04:26:06] *** Joins: Rusky (russell@moz-173BA32C.slkc.qwest.net)
[04:26:08] <sfackler> aah, why are there two of me on the etherpad :(
[04:26:50] *** Quits: intuxicated (intuxicate@5BA9DB47.F2F0EDE4.DA0107E2.IP) (Quit: Leaving)
[04:27:42] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[04:28:41] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[04:29:01] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[04:30:18] <sfackler> I am apparently the op of #rust-doc-sprint
[04:30:42] <Denommus> cmr: https://gist.github.com/Denommus/4393db0763b0e4410134
[04:31:13] <cmr> Denommus: https://github.com/AngryLawyer/rust-sdl2 has no cargo-lite.conf
[04:31:44] <brandonson> All hail sfackler, for he is become docthulu, destroyer of bad documentation.
[04:32:10] <brandonson> on a more serious note, is there a list that doesn't use @-ptrs?
[04:32:25] <cmr> brandonson: DList
[04:32:28] <cmr> Uses ~
[04:32:34] <Denommus> cmr: oh
[04:32:45] <cmr> Denommus: let me improve that error message, it's very poor.
[04:33:01] <Denommus> cmr: can I specify how a given dependency should be build?
[04:33:17] <cmr> Denommus: no.
[04:33:26] <cmr> that's what the cargo-lite.conf is for
[04:33:35] <cmr> you can clone it and add one locally, though.
[04:33:48] <Denommus> cmr: oh
[04:34:14] <strcat> sfackler: just means you created the channel ;p
[04:34:33] <strcat> if they're not registered with chanserv they're ephemeral
[04:35:10] <Denommus> cmr: thanks
[04:35:12] <brandonson> cmr: hmm, really looking for singly linked list I think, looking to have multiple lists with the same tail but a different head.
[04:35:37] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[04:36:03] *** Joins: luziiie (luziie@moz-CD18B14B.customer.cdi.no)
[04:36:22] <strcat> brandonson: make one out of Rc<T>
[04:36:49] *** Quits: luziie (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[04:37:10] <brandonson> what I really want is collections::list::List, but with &List<T> instead of @List<T>
[04:37:20] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[04:38:00] <strcat> brandonson: well you can make that pretty easily
[04:38:11] *** Joins: klaus (koz@moz-4486E876.hsd1.wa.comcast.net)
[04:38:11] <strcat> but that's going to be quite restricted by borrow checking
[04:38:20] <brandonson> strcat: yeah, was just hoping there was something
[04:38:32] <sfackler> I tried writing something like that once and it was a bit of a nightmare
[04:38:36] <sfackler> never got it working right
[04:38:51] <strcat> well it works well in a simple example
[04:38:55] <strcat> like making them all in one scope
[04:38:57] <brandonson> strcat, sfackler: it's only supposed to live for a single function, so hopefully it'll be okay
[04:39:05] <strcat> that will work then
[04:40:19] <sfackler> an unused extern crate lint would be cool
[04:40:47] *** Joins: sawrubh (uid6719@moz-5F4AA75A.irccloud.com)
[04:42:22] *** Quits: dougxxx (dougxxx@moz-21B0BD70.dyn.iinet.net.au) (Quit: )
[04:42:51] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[04:44:10] *** Joins: erickt (etryzelaar@49C4075F.3AC15C18.2321E71E.IP)
[04:45:04] *** Joins: djvj|home (kvijayan@moz-203FEBEE.dreamhost.com)
[04:46:02] <djvj|home> is the current manual correct as to whether enum struct variants are under question for inclusion?
[04:46:56] <sfackler> they're feature gated, but I think that's because of a couple of obscure matching bugs rather than the possibility that they'll be removed
[04:47:09] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[04:48:07] <djvj|home> cool.
[04:48:32] <sfackler> I use them all the time
[04:49:25] *** Parts: bollu|zZZ (bollu@31CCE710.7065DDB9.6D6A344F.IP) ()
[04:49:30] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[04:49:31] <djvj|home> yeah, I was just alarmed.  Not all data constructors have a natural expression as an unnamed tuple
[04:50:18] *** Joins: sellout (Adium@moz-F3B3B6C3.hlrn.qwest.net)
[04:52:13] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[04:52:27] <sfackler> I would be pretty sad if I had to have a variant Bind(&'a str, &'a str, &'a [i16], &'a [Option<~[u8]>], &'a [i16]) :P
[04:53:56] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[04:54:09] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[04:54:13] *** Joins: sourab (jnu@AFFA1A4F.56BFFF2E.9BC7F97B.IP)
[04:54:20] *** Quits: sourab (jnu@AFFA1A4F.56BFFF2E.9BC7F97B.IP) (Quit: )
[04:55:53] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[04:56:56] *** Quits: Kxepal (Miranda@moz-253D3FA5.pppoe.mtu-net.ru) (Quit: Kxepal)
[04:57:11] *** Joins: Kxepal (Miranda@moz-253D3FA5.pppoe.mtu-net.ru)
[05:01:59] *** Joins: heftig_ (heftig@moz-31284028.dip0.t-ipconnect.de)
[05:02:39] *** Quits: heftig (heftig@moz-F0695C26.dip0.t-ipconnect.de) (Ping timeout)
[05:03:23] *** Quits: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net) (Ping timeout)
[05:06:42] *** Joins: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net)
[05:08:07] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[05:08:21] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[05:09:22] *** Quits: erickt (etryzelaar@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[05:09:48] *** Quits: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca) (Quit: canhtak)
[05:10:34] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[05:10:36] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[05:10:37] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[05:10:38] *** Parts: IanCormac84 (User@BC8245A0.2A8D8854.67DFF8B4.IP) ()
[05:11:28] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[05:13:07] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[05:14:10] *** Joins: dranov (dranov@C0E4546F.5ABDACB1.FB866788.IP)
[05:14:38] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[05:14:48] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[05:15:01] *** Quits: dranov (dranov@C0E4546F.5ABDACB1.FB866788.IP) (Quit: Leaving)
[05:16:04] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[05:17:31] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[05:17:33] *** Joins: luz1 (luziie@moz-CD18B14B.customer.cdi.no)
[05:17:39] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[05:18:10] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[05:18:35] *** Quits: luziiie (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[05:19:06] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[05:19:32] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[05:20:01] *** Joins: erickt (etryzelaar@F5DC7C0B.E3D2786E.2321E71E.IP)
[05:20:26] *** Joins: luziiie (luziie@moz-CD18B14B.customer.cdi.no)
[05:21:04] *** Quits: luz1 (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[05:21:08] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[05:21:30] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[05:21:35] *** Quits: erickt (etryzelaar@F5DC7C0B.E3D2786E.2321E71E.IP) (Quit: Reconnecting)
[05:21:39] *** Joins: erickt (etryzelaar@F5DC7C0B.E3D2786E.2321E71E.IP)
[05:23:12] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[05:23:25] *** Quits: pepper_chico (pepper_chi@BE2968B5.6F4A2706.E4090502.IP) (Quit: WeeChat 0.4.1)
[05:24:19] *** Quits: Earnestly (earnest@18162BE0.BA6AC103.30311652.IP) (Ping timeout)
[05:26:03] *** Quits: oxum (anonymous@2E07CA23.E5007E99.520CDC98.IP) (Ping timeout)
[05:26:13] *** Quits: erickt (etryzelaar@F5DC7C0B.E3D2786E.2321E71E.IP) (Ping timeout)
[05:30:34] *** Quits: Denommus (user@moz-CAD047F5.user.veloxzone.com.br) (Quit: going to sleep)
[05:31:24] *** Joins: edwardw (edwardw@4CA3FA20.E1A076E0.4A6948F8.IP)
[05:31:45] *** Quits: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Quit: valentin)
[05:32:06] *** Joins: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[05:32:26] *** Joins: rootnode (rootnode@moz-B09A7E8E.pools.arcor-ip.net)
[05:33:58] *** Quits: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Quit: valentin)
[05:34:21] *** Joins: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[05:35:27] *** Joins: luz1 (luziie@moz-CD18B14B.customer.cdi.no)
[05:35:54] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[05:36:32] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[05:36:41] *** Quits: luziiie (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[05:37:42] *** Joins: oxum (anonymous@9057F4B6.6E532920.520CDC98.IP)
[05:38:13] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[05:39:06] *** Quits: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Connection reset by peer)
[05:39:24] *** Joins: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[05:40:56] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Ping timeout)
[05:45:17] *** Quits: blindrenderer (blindrende@772B3B0F.54C85F70.2125B4DC.IP) (Ping timeout)
[05:45:21] *** Quits: tcsc (tcsc@moz-5E71BAD9.hsd1.ma.comcast.net) (Quit: bye!)
[05:48:20] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[05:49:51] <brandonson> is there a way to push to a vector and then get a reference to the value where it is now.  myvec.push(val); let x = myvec.get(mvec.length() - 1); doesn't work - borrow checker complains
[05:50:01] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[05:50:05] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[05:50:43] <cmr> brandonson: it'd be better written as myvec.last()
[05:50:51] *** Quits: bjz (bjz@AE0B7388.B8C2BBC3.F4A11E52.IP) (Ping timeout)
[05:50:56] <cmr> brandonson: but what complaints are you getting?
[05:51:19] <strcat> rusti: let mut xs = vec!(); xs.push(5); *xs.last()
[05:51:23] <edwardw> double borrow I think
[05:51:23] -rusti- pastebinned 11 lines of output: http://sprunge.us/hDfE
[05:51:30] <strcat> rusti: let mut xs = vec!(); xs.push(5); *xs.last().unwrap()
[05:51:32] -rusti- 5
[05:51:48] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[05:51:49] <strcat> rusti: let mut xs = vec!(); xs.push(5); xs[xs.len() - 1]
[05:51:49] -rusti- pastebinned 11 lines of output: http://sprunge.us/bcIA
[05:51:52] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[05:52:09] <strcat> rusti: let mut xs = vec!(); xs.push(5); xs.as_slice()[xs.len() - 1]
[05:52:10] -rusti- 5
[05:52:16] * strcat shrugs
[05:52:21] *** Quits: sevandk (ksev@moz-71F7E457.cable.teksavvy.com) (Quit: Lost terminal)
[05:53:27] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Connection reset by peer)
[05:53:42] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[05:53:57] *** Quits: brson (brson@981AA104.E81F12CD.76F66111.IP) (Ping timeout)
[05:54:06] <brandonson> rusti: let mut xs = vec!(); loop {let x = 0;  xs.push(x); let x = xs.last().unwrap(); break;}
[05:54:06] -rusti- <anon>:16:64: 16:65 warning: unused variable: `x`, #[warn(unused_variable)] on by default
[05:54:07] -rusti- <anon>:16         let mut xs = vec!(); loop {let x = 0;  xs.push(x); let x = xs.last().unwrap(); break;}
[05:54:07] -rusti-                                                                          ^
[05:54:07] -rusti- ()
[05:54:12] <brandonson> hmm
[05:54:27] *** Quits: edwardw (edwardw@4CA3FA20.E1A076E0.4A6948F8.IP) (Quit: Leaving...)
[05:54:47] *** Quits: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net) (Quit: telotortium)
[05:55:29] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[05:55:37] <brandonson> rusti: let mut xs = std::vec_ng::Vec::new(); loop {let x = 0;  xs.push(x); let x = xs.last().unwrap(); break;}
[05:55:38] -rusti- <anon>:16:81: 16:82 warning: unused variable: `x`, #[warn(unused_variable)] on by default
[05:55:38] -rusti- <anon>:16         let mut xs = std::vec_ng::Vec::new(); loop {let x = 0;  xs.push(x); let x = xs.last().unwrap(); break;}
[05:55:38] -rusti-                                                                                           ^
[05:55:38] -rusti- ()
[05:55:38] *** Quits: kvanb (kvanb@moz-373A87EB.lnse7.lon.bigpond.net.au) (Ping timeout)
[05:56:23] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[05:56:36] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[05:56:49] <brandonson> rusti: let mut xs = std::vec_ng::Vec::new(); loop {let x = 0;  xs.push(x); let x = xs.last().unwrap(); let mut y = 0; for _ in range(0,2){y += x;} break;}
[05:56:51] -rusti- pastebinned 5 lines of output: http://sprunge.us/AQEO
[05:56:58] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[05:57:40] <brandonson> well that's odd.  wonder if it's because of using ints rather than structs
[05:57:55] *** Joins: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net)
[05:59:05] <huon> .last() gives a reference to the last element
[05:59:21] <huon> (i.e. Vec<T>.last() -> &T)
[05:59:45] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[06:00:06] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[06:00:09] <sfackler> isn't it actually an Option<&T>?
[06:00:32] <brandonson> huon: not so much that, my borrow problems in general
[06:00:57] <brandonson> trying to use a vector to keep things alive that are used via references elsewhere, but I can't add things to the vector
[06:01:18] <brandonson> efficient pathfinding is hard :/
[06:01:50] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[06:02:36] *** Quits: philix (felipe@moz-9FAFA12F.user.veloxzone.com.br) (Ping timeout)
[06:02:48] *** Quits: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net) (Quit: telotortium)
[06:03:38] <huon> sfackler: yeah, that
[06:03:49] *** Quits: jmgrosen (user@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[06:03:51] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:04:37] <huon> brandonson: ah; if you've got a borrowed reference you cannot push to the vector
[06:04:52] <huon> because that might cause it to be reallocated, invalidating the reference
[06:05:41] *** Quits: japaric1 (japaric@F2B464FF.B7BC9CB9.E5B504CC.IP) (Ping timeout)
[06:05:41] *** Joins: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net)
[06:06:17] *** Joins: japaric1 (japaric@6F54E9F.F3E5B3F6.F4D5766F.IP)
[06:08:42] <brandonson> huon: hmm well now the reason for the problem makes sense, still no idea what the solution is though.
[06:09:37] <huon> One possibility is storing Rc's in the vector
[06:09:56] <huon> and then v.last().unwrap().clone() will not be a borrow
[06:10:05] <huon> so v can still be modified
[06:11:29] <brandonson> huon: hoping to avoid Rc, partly to see if I can do it and partly because refcounting paths when pathfinding seems odd.
[06:12:10] *** Joins: brson (brson@moz-264E1FDC.static.wiline.com)
[06:12:10] *** ChanServ sets mode: +ao brson brson
[06:12:45] <huon> theoretically we could have  StableVec that allows pushing and referencing at the same time
[06:12:56] <strcat> brandonson: Rc is pretty cheap
[06:13:12] <strcat> brandonson: there are no implicit reference counts, just like Rust doesn't do implicit heap allocation
[06:13:23] <cmr> Rc still requires an additional allocation (for the rc box) where previously there was none.
[06:13:38] <huon> any stable vector needs something like that
[06:13:44] <cmr> yes.
[06:13:49] <huon> or a chunked rope thing
[06:13:50] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[06:13:55] <strcat> cmr: which is 2 words (and could be one without Weak<T> support) and will often not increase the allocation size
[06:14:31] <cmr> strcat: not talking about size, but the allocation itself
[06:14:44] <huon> it's cool how move semantics give (approximately) deferred reference counting automatically
[06:15:33] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[06:15:34] <strcat> and task-local makes it 10x faster than shared_ptr
[06:15:56] <strcat> (although I think boost does have a non-thread-safe shared_ptr equivalent)
[06:16:54] <strcat> getuid() on windows http://sprunge.us/GWZQ
[06:16:56] * strcat cries
[06:18:42] <cmr> that's miserable.
[06:19:20] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[06:19:25] <strcat> it was worse before I realized GetCurrentProcess existed and I was using GetCurrentProcessId + OpenProcess ;p
[06:19:41] <strcat> but I think this is almost as good as it's going to get
[06:20:55] * strcat hates win32 apis
[06:21:03] <strcat> so many objects where you need to tell them how big they are
[06:21:22] <strcat> like, Foo foo; foo.sizeBytes = sizeof(foo); is a very common pattern
[06:21:51] * strcat guesses something to do with ABI compatibility
[06:23:28] *** Joins: dmillerw (Dylan@moz-56E63BDE.eugn.qwest.net)
[06:24:36] *** Joins: edwardw (edwardw@D01C1499.B4358688.30F15291.IP)
[06:26:28] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[06:26:43] *** Quits: luz1 (luziie@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[06:26:56] *** Joins: luz1 (luziie@moz-CD18B14B.customer.cdi.no)
[06:27:17] <YourBestFriend> sounds terrible
[06:27:24] <sankha93> In rust when should a struct be preferred over a class or vice versa?
[06:27:33] <strcat> sankha93: no such thing as a class in rust
[06:27:33] <cmr> sankha93: classes don't exist so you don't have a choice.
[06:28:20] <sankha93> oh, then the post here: http://pcwalton.github.io/blog/2012/06/03/maximally-minimal-classes-for-rust/
[06:28:26] <sankha93> is it just a proposal?
[06:28:27] <cmr> rust *used* to have classes.
[06:28:35] <sankha93> ah, ok!
[06:28:35] <strcat> sankha93: 2012 is a long time ago
[06:29:01] <strcat> that could be before rust had lifetimes/references ;p
[06:29:29] <edwardw> wow, no lifetime and reference?
[06:29:42] <strcat> rust didn't used to have unique pointers or lifetimes/references
[06:29:47] <cmr> rust used to only have @
[06:29:55] <edwardw> ah ok
[06:29:55] <cmr> that is, managed pointers
[06:29:57] <cmr> everything was gc
[06:30:01] <strcat> 'gc' ;p
[06:30:06] <cmr> yeah :p
[06:30:14] <strcat> graydon mentioned that at one point rust statically prevented reference cycles though
[06:30:18] <sankha93> oh, that was before gc was optional?
[06:30:41] <strcat> sankha93: rust has never actually had a garbage collector
[06:30:46] <YourBestFriend> 0,4WHY didn't graydon define those things before creating the language?
[06:30:59] <cmr> YourBestFriend: which things?
[06:31:04] <cmr> references? the region system?
[06:31:09] <YourBestFriend> everything
[06:31:14] <cmr> ...
[06:31:21] <cmr> will I mean he isn't omniscient.
[06:31:35] <strcat> rust is the result of a *lot* of iteration on ideas
[06:31:38] <YourBestFriend> the development of rust looks like there was no planning at all
[06:31:42] <cmr> it's not like you can pump parameters into a formula and get a programming language out of it.
[06:31:49] <YourBestFriend> features added and removed
[06:32:04] <strcat> that's how most software works
[06:32:09] <cmr> YourBestFriend: features have been thought about, implemented, decided ther was something better, and then replaced.
[06:32:30] <cmr> If the original rust was polished and released, it'd be extremely useless.
[06:33:28] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:33:28] <edwardw> YourBestFriend: it is actually kind a relieve, isn't it? no body is *that* smart :P
[06:35:52] <strcat> rust is the sum of a lot of collaboration too.
[06:36:32] <strcat> without lots of ideas and debate, it wouldn't be as good as it is
[06:37:28] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[06:37:29] <YourBestFriend> is it good?
[06:37:49] <cmr> depends on who you ask, doesn't it?
[06:37:55] <huon> nah
[06:38:00] <strcat> it's clearly the best programming language
[06:38:04] <strcat> but it could be better.
[06:38:05] <huon> Rust is good in an absolute sense
[06:38:13] <strcat> ;p
[06:38:17] <huon> it's a theorem
[06:38:25] <mcpherrin> YourBestFriend: Sometimes you think ideas are good, but then once you use them for a while, you change your mind
[06:38:45] <strcat> mcpherrin: or someone else changes your mind, different perspectives
[06:39:03] <huon> (or new features make old ones hard to use/irrelevant)
[06:39:09] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[06:39:28] <YourBestFriend> weird
[06:39:55] <huon> seriously? it's weird that people change their minds after using something in the real world?
[06:40:23] <strcat> lots of people decided they liked external iterators after seeing them implemented in rust for example
[06:40:27] <strcat> but not before that
[06:40:29] *** Joins: ofeldt (ofeldt@moz-42DEEB44.dip0.t-ipconnect.de)
[06:40:40] <cmr> or non-exhaustive matches..
[06:40:48] <cmr> or regions...
[06:40:50] <cmr> or modes...
[06:40:52] <cmr> or typestate...
[06:40:56] * strcat sighs at modes
[06:40:59] <cmr> etc etc etc etc etc
[06:41:00] <brandonson> well I mean, I'm always right, so why would I ever change my mind?  Except about Rc-less pathfinding.  That doesn't seem to work at all
[06:41:22] <huon> brandonson: you could do it with Gc to avoid Rc :P
[06:41:27] *** Quits: ofeldt- (ofeldt@moz-46A3A5E9.dip0.t-ipconnect.de) (Ping timeout)
[06:41:31] <cmr> brandonson: you can sprinkle in some unsafe code if you know better than the compiler, but...
[06:41:36] <strcat> Gc is just a universally slower Rc atm ;p
[06:42:03] <huon> strcat: not just slower; it helps you use more memory too
[06:42:06] <brandonson> cmr: not entirely sure I do, and if I ever have to go back into it I definitely won't :p
[06:42:32] <brandonson> huon, strcat: Gc - Great for stress-testing your machine all day, every day!
[06:42:43] <strcat> well there's not actually a garbage collector
[06:42:51] <strcat> it's just a bad reference counting implementation
[06:42:56] *** Quits: brson (brson@moz-264E1FDC.static.wiline.com) (Ping timeout)
[06:43:00] <cmr> if there were it might not be a bad choice for pathfinding
[06:43:13] <strcat> if there *was* a garbage collector, it'd still be slower in most cases thanks to rust eliding nearly all the refcounts
[06:43:15] <cmr> because you can allocate without penalty and then free everything at the end.
[06:43:32] <eddyb> cmr: sounds like an arena
[06:43:36] <cmr> ideally there'd even be specific gc pool
[06:43:38] <cmr> s
[06:43:51] <eddyb> yupp. arenas
[06:44:01] <eddyb> TLS arenas, but still
[06:46:22] *** Quits: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net) (Client exited)
[06:46:43] *** Joins: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net)
[06:47:04] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[06:47:20] *** Joins: brson (brson@6A848D32.C1B840DD.76F66111.IP)
[06:47:20] *** ChanServ sets mode: +ao brson brson
[06:47:35] <eddyb> strcat: can we get *very cheap* TLS access in Rust?
[06:48:04] <cmr> thread or task?
[06:48:08] <eddyb> thread
[06:48:15] <cmr> how cheap is very cheap?
[06:48:17] <eddyb> task is always going to have some issues
[06:48:22] <cmr> we're already as cheap as C with #[thread_local]
[06:48:28] <eddyb> cmr: segment register + static offset
[06:48:29] *** Joins: tgkokk (tgkokk@moz-88CCC929.home.otenet.gr)
[06:48:34] *** Quits: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net) (Ping timeout)
[06:48:57] <eddyb> because it's not that hard to get one TypedArena<T> for each T you want to allocate
[06:49:03] <strcat> eddyb: #[thread_local] works
[06:49:22] <strcat> you probably need to build a true static executable though
[06:49:26] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[06:49:26] <strcat> for it to be really cheap
[06:49:34] <eddyb> yeah, that's what I was worrying about
[06:49:43] <eddyb> strcat: does it call pthread functions?
[06:49:47] <strcat> eddyb: no
[06:50:00] <strcat> eddyb: but __get_tls_addr is the dynamic linking support for it on linux
[06:50:02] <strcat> elsewhere, dunno
[06:51:11] *** Joins: jdavis (jdavis@moz-1BE8A6A1.hsd1.ca.comcast.net)
[06:51:13] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[06:52:03] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[06:52:25] <jdavis> I'm trying to build the latest rust-postgres with the latest rust installed. When I do ./configure and make, I get: error: can't find crate for 'url'
[06:52:47] <cmr> jdavis: what's rustc -v say?
[06:53:04] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[06:53:23] <brandonson> speaking of arenas, how do the alloc fns for the ones in std::arena work?  It looks like they take the actual object and move it into the memory, which doesn't seem very efficient when in theory I should be able to just allocate in place.
[06:53:35] <cmr> oh hm, it's failing with that in travis too.
[06:53:44] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[06:53:52] <cmr> brandonson: in-place allocation is the subject of the `box` keyword.
[06:54:20] <eddyb> which isn't properly implemented yet
[06:54:20] <cmr> it's currently partially unimplemented, but it'd probably end up being `box(some_arena) expr`
[06:54:22] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[06:54:26] *** Joins: kvanb (kvanb@moz-4000547C.lnse7.win.bigpond.net.au)
[06:54:52] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[06:54:53] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[06:55:02] <brandonson> ah, so there's just no way to do it currently.  fair enough.
[06:55:16] <o11c> and requires strange interactions with DSTs
[06:56:02] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[06:56:38] <eddyb> moving unsized types \o/
[06:56:44] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[06:56:44] <huon> o11c: ?
[06:56:47] <eddyb> (by passing them by value)
[06:56:57] <huon> I wouldn't call them strange
[06:56:59] <eddyb> I don't personally like the closures
[06:57:01] <cmr> I also don't remember any interactions between box and DST, besides the obvious ones.
[06:57:11] <cmr> (that are orthogonal to box)
[06:57:24] <eddyb> I'd rather have box return an uninitialized &mut or something like that and box assign to it
[06:57:49] *** Quits: mihe (quassel@moz-DD16D594.ias.bredband.telia.com) (Ping timeout)
[06:58:01] <huon> the design is trying to make it as safe as possible
[06:58:12] <eddyb> huon: but closures add crazy complications
[06:58:12] <huon> ... and an uninit &mut is the opposite of safe
[06:59:28] <cmr> Servo only landed 10 less PRs than us last week.
[06:59:30] <eddyb> make it *mut T then
[06:59:32] <cmr> We need to step up our game.
[06:59:43] <eddyb> that's because I put all the commits in one PR
[06:59:44] <cmr> (56 to 66)
[07:00:33] <huon> cmr: bors has been slacking off so much
[07:00:42] <huon> it's really quite upsetting
[07:00:52] * huon needs therapy
[07:00:52] <eddyb> s/bors/eddyb
[07:01:38] <huon> you're not the only one who can submit PRs
[07:01:59] <huon> there are several other people who are capable of contributing to Rust.
[07:02:01] *** eddyb is now known as Neo
[07:02:05] <Neo> huon: you mean...
[07:02:10] <Neo> huon: I am not the one?
[07:02:18] * cmr dies from that joke
[07:02:21] <cmr> (and not of laughter)
[07:02:28] *** Neo is now known as eddyb
[07:02:39] <eddyb> [09:02] [Notice] -NickServ- This nick is owned by someone else.  Please choose another.
[07:02:42] <cmr> huon: at latest calculation it was exactly 3
[07:03:10] <eddyb> so apparently I am not me
[07:03:26] <eddyb> (myself?)
[07:04:20] *** Quits: klaus (koz@moz-4486E876.hsd1.wa.comcast.net) (Quit: klaus)
[07:04:41] <huon> cmr: my computation puts it at 3 + floating point epsilon
[07:04:52] <huon> I think you suffered from some cancellation
[07:04:57] * eddyb rounds up to 4
[07:04:59] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[07:06:31] <eddyb> src/libstd/rt/task.rs:            next: Option<@RefCell<List>>,
[07:06:36] <eddyb> what?
[07:06:46] * eddyb shudders
[07:07:03] <cmr> it's only a test :p
[07:07:15] <eddyb> I was hoping for that
[07:07:15] <brandonson> eddyb: which circle of hell did you pull that type from?
[07:07:18] *** Quits: dmillerw (Dylan@moz-56E63BDE.eugn.qwest.net) (Quit: Leaving)
[07:07:24] <brandonson> eddyb: on second thought, don't tell me
[07:07:29] <eddyb> brandonson: first
[07:07:35] <eddyb> you've seen nothing
[07:07:55] <brandonson> eddyb: heh, and I thought my pyramid of and_then was bad
[07:08:03] <huon> There was a @@RefCell in the code base, iirc
[07:08:05] <cmr> I don't even know what that is testing.
[07:08:19] <eddyb> cmr: everything was @mut at one point or another
[07:08:29] <cmr> I still wouldn't know what it's testing.
[07:08:38] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[07:08:46] <eddyb> in other news... only 39 @RefCell left in the compiler
[07:08:47] <edwardw> @@RefCell? oh my god
[07:08:57] <cmr> eddyb: you really are a saint.
[07:09:04] <Luqman> eddyb: the one that annoyed me the most was building_library: @mut bool
[07:09:14] <eddyb> cmr: more like a hunter </Supernatural>
[07:09:20] <eddyb> Luqman: lol, Cell pls
[07:09:42] <brandonson> I knew there was a reason I never tried to work with the compiler internals
[07:09:59] <cmr> brandonson: that reason is that eddyb isn't done making it idiomatic, clean Rust
[07:09:59] <eddyb> brandonson: it's only that way because it's old code
[07:10:06] <cmr> amirite?
[07:10:15] <edwardw> brandonson: well, there are very good ones too
[07:10:29] <eddyb> edwardw: @@@struct {foo: @RefCell<Vec<T>>, bar: @RefCell<HashMap<T, uint>>}
[07:10:37] * brandonson runs
[07:10:45] <eddyb> edwardw: pretty sure that's how the TLD interner used to look
[07:10:46] * cmr bludgeons eddyb with an @
[07:10:55] * edwardw dies from it
[07:11:15] <huon> cmr needs bludgeon-aiming practice
[07:11:20] <cmr> seriously
[07:11:24] <eddyb> cmr: hey, I only know because I removed some @ from that stuff in the ast_map PR
[07:11:52] <eddyb> someone really had rooting issues when they added *two* @ just to keep the interner in the TLD
[07:12:31] <eddyb> the other @ was from the type alias itself, and the internals used to use @mut
[07:14:38] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[07:16:16] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:16:27] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[07:16:35] *** Quits: tgkokk (tgkokk@moz-88CCC929.home.otenet.gr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:16:37] <jdavis> cmr: rustc 0.10-pre
[07:16:42] *** Joins: tgkokk (tgkokk@moz-88CCC929.home.otenet.gr)
[07:17:28] *** Joins: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com)
[07:19:40] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[07:20:25] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[07:20:52] *** Joins: glaebhoerl (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[07:21:51] *** Joins: IanCormac84 (User@BC8245A0.2A8D8854.67DFF8B4.IP)
[07:22:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[07:22:27] *** Quits: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net) (Ping timeout)
[07:23:23] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[07:24:43] *** Joins: alkino_ (alkino@moz-61F150EC.w92-151.abo.wanadoo.fr)
[07:28:22] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Input/output error)
[07:30:22] *** Quits: tgkokk (tgkokk@moz-88CCC929.home.otenet.gr) (Quit: Textual IRC Client: www.textualapp.com)
[07:32:04] <lkuper> just finished watching acrichto's talk from the meetup -- debug info is looking really awesome
[07:32:32] <cmr> Any announcements for This Week in Rust?
[07:32:39] <cmr> lkuper: it really is :) mw is amazing.
[07:32:56] <cmr> (the gsoc student, and current contractor, who initially implemented the current incarnation)
[07:33:08] <lkuper> cmr: oh, is mw the contractor that acrichto mentioned?
[07:33:11] <cmr> mhm
[07:33:26] <lkuper> cool.  I wondered about that
[07:33:38] <lkuper> also, servo is looking really good
[07:33:45] <lkuper> and jvns's talk was just pure joy
[07:34:47] <cmr> probably the most engaging tech talk I've ever seen
[07:35:13] <edwardw> a link pls?
[07:35:29] <brandonson> ^ I second this request
[07:35:37] <lkuper> https://air.mozilla.org/rust-meetup-march-2014/
[07:35:44] <edwardw> ty
[07:36:04] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:36:12] <huon> can everyone be as enthusiastic as jvns please? :)
[07:36:13] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[07:37:25] <lkuper> the story that she tells at the beginning, when she decided to write her kernel in Rust...
[07:37:32] <lkuper> ...that's pretty much exactly how it happened
[07:38:23] <lkuper> I show up at hacker school one day, and she's all, "yeah, I'm going to start writing an OS kernel tomorrow"
[07:38:24] <mcpherrin> lkuper: jvns makes me want to stay up all night and help people learn things :D
[07:38:25] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[07:38:32] <mcpherrin> also, write operating systems
[07:38:38] <mcpherrin> (fortunately, the latter is my day job)
[07:38:42] <lkuper> and so I ask her if she's done anything with rust yet
[07:38:52] <lkuper> she says "oh, well, I'm not really a systems programmer"
[07:38:57] <lkuper> I'm like "..."
[07:39:12] <lkuper> I'm like "your blog is all about writing kernel modules and you just said you're going to start writing an OS"
[07:39:12] <eddyb> oh I know who to send this to :D
[07:40:13] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[07:41:01] *** Joins: chridou (chatzilla@moz-D480DC03.dip0.t-ipconnect.de)
[07:41:52] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:45:06] <eddyb> huon: oh wow that's overwhelming
[07:45:36] *** Quits: brson (brson@6A848D32.C1B840DD.76F66111.IP) (Ping timeout)
[07:45:48] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[07:46:33] <edwardw> who is at the beginning of march meetup video? brson?
[07:46:49] <cmr> Erick Tryzelaar
[07:46:54] <cmr> (erickt on IRC)
[07:46:55] <edwardw> k
[07:47:01] <cmr> He organizes all the meetups etc.
[07:47:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[07:47:07] <edwardw> I see
[07:47:16] <cmr> Not a mozilla employee, either!
[07:47:21] <eddyb> cmr: hah so that's what was hiding in that "t"
[07:47:49] <eddyb> cmr: he has an awful lot of contributions for someone who isn't a core dev
[07:48:01] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[07:48:48] <huon> eddyb: ?
[07:49:09] <eddyb> huon: jvns
[07:49:21] <cmr> eddyb: don't you? don't I or huon or sfackler or strcat or many of us? :D
[07:49:36] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[07:49:42] <cmr> (although I haven't been as active as I'd like, damn school will be the death of me)
[07:49:52] <eddyb> school would've been the death of me
[07:50:31] <eddyb> cmr: https://github.com/mozilla/rust/graphs/contributors?type=a
[07:50:54] <eddyb> maybe he did some mass refactoring stuff
[07:50:56] <huon> he added libuv
[07:50:58] <huon> iirc
[07:51:00] <eddyb> haha
[07:51:05] <huon> (and not as a submodule)
[07:51:13] <eddyb> and then removed it?
[07:51:17] <huon> possible
[07:51:21] <huon> *possibly
[07:52:02] <huon> somewhere around https://github.com/mozilla/rust/commits?author=erickt&page=18
[07:52:14] <huon> (also, he changed generics from [] to <>
[07:52:24] *** Joins: luziie (luziie@moz-CD18B14B.customer.cdi.no)
[07:52:32] <eddyb> huon: that must've been fun to bootstrap
[07:52:46] *** Quits: luz1 (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[07:53:11] <cmr> oh hey that was even with a rust rustc.
[07:54:22] *** Joins: Guest (textual@D6B5DD7E.D8252BC.9532F1CE.IP)
[07:54:35] <cmr> I'd have 67 more commits if I didn't import rustdoc in a single commit
[07:54:52] <mcpherrin> I am getting a ~[] deprecation warning but I'm not using it?
[07:55:02] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[07:55:06] <eddyb> mcpherrin: something else it's using it
[07:55:12] <cmr> mcpherrin: you sure? any use of a ~[] (the type, not the syntax) will trigger it.
[07:55:13] <eddyb> huon must've been bored with that lint
[07:55:44] <mcpherrin> unless #[deriving(eq, clone, show)] is doing it
[07:56:10] *** Joins: eibwen (kvirc@moz-11EA65C9.dip0.t-ipconnect.de)
[07:56:35] *** Quits: edwardw (edwardw@D01C1499.B4358688.30F15291.IP) (Quit: Leaving...)
[07:56:51] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[07:56:55] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Quit: Leaving...)
[07:56:58] <sfackler> mcpherrin: are you seeing it when building tests? the test setup stuff uses a ~[]
[07:57:02] <eddyb> jvns perfectly captures my IRC behavior
[07:57:11] <eddyb> "am I doing this wrong?"
[07:57:13] <eddyb> yes
[07:57:22] <mcpherrin> sfackler: yes, I am using ~[]
[07:57:26] <mcpherrin> sfackler: yes, I am using tests*
[07:57:46] *** Joins: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de)
[07:58:02] <sfackler> that'd do it. a PR just merged to silence that warning
[07:58:16] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[07:58:30] <mcpherrin> Coolios
[07:59:23] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:00:41] * huon wonders why he must've been bored
[08:00:52] <eddyb> bors being lazy?
[08:01:02] *** Joins: philix (felipe@moz-9FAFA12F.user.veloxzone.com.br)
[08:03:03] *** Quits: philix (felipe@moz-9FAFA12F.user.veloxzone.com.br) (Ping timeout)
[08:06:16] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[08:07:49] *** Joins: mib_kmie1r (Mibbit@7E217F04.2C8DBE39.CC1A2609.IP)
[08:09:11] *** Quits: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP) (Ping timeout)
[08:09:11] *** Quits: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[08:10:04] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[08:10:23] *** Joins: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP)
[08:13:16] *** Joins: IanCormac841 (User@6EF0B921.64D641E5.67DFF8B4.IP)
[08:13:35] *** Quits: IanCormac84 (User@BC8245A0.2A8D8854.67DFF8B4.IP) (Ping timeout)
[08:13:46] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[08:15:13] *** Quits: luziie (luziie@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[08:15:22] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:15:25] *** Joins: luziie (luziie@moz-CD18B14B.customer.cdi.no)
[08:17:03] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[08:18:28] <cmr> http://cmr.github.io/blog/2014/03/15/this-week-in-rust/
[08:19:29] *** Quits: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net) (Ping timeout)
[08:19:48] *** Joins: Ms2ger (Ms2ger@moz-F6755E2F.adsl-dyn.isp.belgacom.be)
[08:20:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[08:20:55] *** Joins: brontron (Mibbit@moz-C8D86903.tc.ph.cox.net)
[08:20:58] *** Quits: glaebhoerl (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Connection reset by peer)
[08:20:59] *** Joins: glaebhoerl_ (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[08:21:22] <eddyb> cmr: literally the last bullet point
[08:21:55] <cmr> Sorry  :(
[08:22:01] <cmr> they're usually in reverse chronological order
[08:22:06] <cmr> that is, newest first
[08:22:08] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[08:22:12] <cmr> although sometimes they're the other way around
[08:22:14] <eddyb> cmr: dw
[08:22:20] <cmr> depends on whether I start from the front or end of the tab strip :p
[08:22:54] <huon> cmr: the collect example should be Vec<_> :P
[08:23:14] <eddyb> huon: until people try it and it doesn't work
[08:23:25] <huon> cmr: and the mention of the ~[] lint could suggest that the fix is Vec
[08:23:33] <huon> eddyb: well the current example is just as broken
[08:23:42] <eddyb> heh yeah
[08:23:45] <cmr> it's only broken in that it warns, no?
[08:23:57] <cmr> that and that some_iter doesn't exist
[08:23:58] <eddyb> cmr: type hints are broken because inference is broken
[08:24:14] <eddyb> because... we never needed such good inference =))
[08:24:38] *** Quits: mib_kmie1r (Mibbit@7E217F04.2C8DBE39.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:24:57] <cmr> oh
[08:24:59] <cmr> well.
[08:25:16] <huon> 3 new peter/poitr's!
[08:25:21] <cmr> inorite
[08:26:39] <huon> gee, rustdoc doesn't like statics http://burntsushi.net/rustdoc/quickcheck/ (DEFAULT_CONFIG)
[08:26:47] <eddyb> yay https://github.com/rust-lang/rfcs/pull/9#issuecomment-37751883
[08:27:10] <cmr> huon: updated the example
[08:27:14] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[08:27:15] <cmr> eddyb: reordered by perceived impact
[08:27:28] <eddyb> you didn't have to :). but thanks
[08:27:39] <huon> cmr: awesome
[08:27:48] <cmr> and another reorder
[08:28:00] <cmr> also I've noticed gh pages being far more responsive.
[08:28:09] <huon> loop { task_rng().shuffle(twir_items) }
[08:28:26] *** Joins: luziiie (luziie@moz-CD18B14B.customer.cdi.no)
[08:29:08] *** Quits: luziie (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[08:32:13] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:32:41] *** Quits: zwarich_ (zwarich@moz-2399D5F2.hfc.comcastbusiness.net) (Ping timeout)
[08:32:53] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[08:33:20] *** Joins: luziie (luziie@moz-CD18B14B.customer.cdi.no)
[08:33:41] *** Quits: luziiie (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[08:33:42] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[08:34:00] <huon> "    fn shrink(&self) -> ~ObjIter<Self><> { ... }"
[08:34:02] <huon> http://burntsushi.net/rustdoc/quickcheck/trait.Arbitrary.html
[08:34:21] <huon> that's peculiar
[08:36:05] <eddyb> HKT
[08:36:34] <eddyb> ObjIter<T><U = SomeDefault> obviously
[08:38:12] <cmr> Also, https://news.ycombinator.com/item?id=7408576
[08:39:19] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[08:39:43] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[08:39:52] <cmr> huon: dammit you stole my proggit karma <3
[08:40:02] *** Joins: luziiie (luziie@moz-CD18B14B.customer.cdi.no)
[08:40:03] <cmr> I always forget about proggit.
[08:40:37] *** Quits: luziie (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[08:41:04] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[08:41:51] *** Joins: acutus (Mibbit@moz-56DD9C0A.ip13.netikka.fi)
[08:43:00] <huon> direct links to HN posts set of voting ring detectors, just btw
[08:43:22] *** Quits: oxum (anonymous@9057F4B6.6E532920.520CDC98.IP) (Quit: Bye..)
[08:43:37] *** Joins: oxum (anonymous@9057F4B6.6E532920.520CDC98.IP)
[08:43:52] <strcat> huon: as in no Referer header?
[08:47:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[08:48:39] <brandonson> does enum Foo{ X(uint, uint uint) } have the same size as enum Foo { X(MyStruct) } if MyStruct has 3 fields that are uints?
[08:48:56] *** Quits: glaebhoerl_ (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Ping timeout)
[08:49:02] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[08:49:12] <tiffnya> why has matching ~str been removed?
[08:49:22] <strcat> ~str and ~[T] are being removed
[08:49:30] <tiffnya> is this related to DST?
[08:49:32] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[08:49:38] *** tiffnya is now known as tiffany
[08:49:41] <strcat> kind of
[08:49:41] <huon> strcat: something like that
[08:50:00] <strcat> tiffany: ~[T] is being replaced by Vec<T>
[08:50:12] <strcat> there will be a real [T] type, but it won't be what ~[T] is now
[08:50:26] <strcat> ~[T] won't be growable
[08:50:31] <tiffany> oh
[08:50:43] <tiffany> will you be able to pattern match Vec?
[08:51:02] * strcat doubts it
[08:51:09] <tiffany> that's unfortunate
[08:51:11] <strcat> can't pattern match on the other containers
[08:51:23] <tiffany> I don't like regressions on being able to write functional style code
[08:51:42] <eddyb> https://github.com/BonzaiThePenguin/WikiSort someone implement this in Rust pls :))
[08:52:02] <acutus> what is the correct way to initialize a vector of structs? Compiler is not very happy with my: let mut points = [MyPoint, ..43200];
[08:52:07] <eddyb> cmr: *sigh* now I'm browsing HN again
[08:52:25] <eddyb> acutus: is MyPoint a struct?
[08:52:29] <acutus> yes
[08:52:34] <eddyb> acutus: then why are you not providing its fields?
[08:53:48] <acutus> does being a noob pass as a reason?
[08:53:49] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[08:53:53] <acutus> as in:         let mut points = [MyPoint{x=0,y=0}, ..43200];
[08:53:54] <acutus> ?
[08:54:02] <eddyb> x:0, y:0
[08:54:31] <acutus> thanks, that made both me and the compiler happy :)
[08:55:39] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[08:55:43] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[08:55:59] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[08:56:06] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[08:56:34] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[08:57:27] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[08:57:49] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[08:59:33] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[08:59:42] *** Joins: bvssvni (Mibbit@moz-E289BB64.bb.online.no)
[08:59:48] *** Quits: luziiie (luziie@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[09:00:01] *** Joins: luziiie (luziie@moz-CD18B14B.customer.cdi.no)
[09:00:51] *** Joins: skade (skade@DD375DFE.A1F06FC5.9532F1CE.IP)
[09:01:22] *** Joins: fenster (Mibbit@7E217F04.2C8DBE39.CC1A2609.IP)
[09:02:02] *** Quits: Guest (textual@D6B5DD7E.D8252BC.9532F1CE.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[09:03:23] *** Joins: Guest (textual@D6B5DD7E.D8252BC.9532F1CE.IP)
[09:05:56] *** Joins: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[09:07:57] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[09:12:12] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[09:12:25] *** Joins: nlminhtl (ignotus@moz-393BCEC.la.net.ua)
[09:14:30] *** Quits: Guest (textual@D6B5DD7E.D8252BC.9532F1CE.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[09:16:04] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:17:02] *** flaper87|afk is now known as flaper87
[09:17:48] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[09:18:54] <tiffany> which way is the community leaning in regards to fat objects vs classes? I like fat objects a lot more
[09:20:16] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[09:23:24] *** Joins: Guest (textual@D6B5DD7E.D8252BC.9532F1CE.IP)
[09:23:42] *** Joins: gimpf (gimpf@moz-DF4B0476.adsl.highway.telekom.at)
[09:23:50] *** Quits: angdev (angdev@16F167B.4C57D258.D8E8354F.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[09:24:14] *** Quits: brontron (Mibbit@moz-C8D86903.tc.ph.cox.net) (Quit: http://www.mibbit.com ajax IRC Client)
[09:24:22] *** Quits: smarter (smarter@moz-6A5ADB30.cust.bluewin.ch) (Ping timeout)
[09:24:44] *** Joins: oberstet (quassel@moz-2B51532.dynamic.mnet-online.de)
[09:24:53] *** Joins: smarter (smarter@moz-6A5ADB30.cust.bluewin.ch)
[09:28:18] *** Quits: pcdummy (pcdummy@moz-CF4CA865.page4me.ch) (Ping timeout)
[09:30:30] <bvssvni> tiffany: what do you mean?
[09:31:00] <bvssvni> is fat objects = structs?
[09:31:00] *** Joins: pcdummy (pcdummy@moz-CF4CA865.page4me.ch)
[09:31:12] <tiffany> fat objects as in the RFC here: https://github.com/MicahChalmer/rust-rfcs/blob/fat-objects/active/0000-fat-objects.md
[09:31:20] <bvssvni> thanks
[09:31:54] <eddyb> tiffany: see my comment
[09:32:48] *** Quits: strcat (strcat@moz-61B073BC.cpe.net.cable.rogers.com) (Quit: sleep)
[09:34:55] *** Joins: twi (Adium@752B0356.FC95818.5EFB9497.IP)
[09:40:15] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[09:41:01] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[09:41:55] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[09:42:25] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[09:42:44] *** Quits: acutus (Mibbit@moz-56DD9C0A.ip13.netikka.fi) (Quit: http://www.mibbit.com ajax IRC Client)
[09:42:48] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[09:43:19] *** Joins: jcleung (Mibbit@C24067BA.D73C0BC2.77E6AA5B.IP)
[09:44:28] *** Joins: Doppp (Doppp@moz-6B405134.hsd1.ca.comcast.net)
[09:44:33] *** Joins: FrozenCow (FrozenCow@moz-54300F7F.upc-j.chello.nl)
[09:47:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[09:48:23] *** Quits: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[09:49:28] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[09:53:15] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[09:55:09] <myname> what
[09:56:35] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[09:57:50] *** Joins: jackneill (jackneill@moz-8FCF2BD.pool.digikabel.hu)
[09:58:17] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[09:58:30] *** Joins: glaebhoerl_ (glaebhoerl@moz-782D142E.catv.broadband.hu)
[09:58:37] *** Quits: pcdummy (pcdummy@moz-CF4CA865.page4me.ch) (Client exited)
[09:59:23] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[10:00:15] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[10:01:23] *** Joins: mye (mye@moz-44FA1913.dip0.t-ipconnect.de)
[10:01:43] *** Quits: fenster (Mibbit@7E217F04.2C8DBE39.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[10:04:15] *** Joins: pcdummy (pcdummy@moz-CF4CA865.page4me.ch)
[10:09:53] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Client exited)
[10:11:47] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Ping timeout)
[10:11:54] *** Joins: jviereck (Adium@moz-5DA38405.dclient.hispeed.ch)
[10:12:12] <huon> has anyone written a 2048 clone in Rust yet?
[10:12:48] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[10:13:11] <eddyb> huon: you mean 0x800?
[10:13:26] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Quit: Leaving)
[10:13:28] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[10:13:47] <eddyb> huon: ohhh
[10:13:59] <eddyb> huon: this? http://gabrielecirulli.github.io/2048/
[10:14:02] <huon> yeah
[10:15:19] <eddyb> seems slightly easier than minesweeper :P
[10:15:32] <kimundi> I still haven'T won it
[10:15:57] *** Joins: kris (kris@moz-42A2A7B6.science.ku.dk)
[10:16:31] <eddyb> how far do you have to go to even lose?
[10:16:53] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[10:17:19] <eddyb> aaaand I lose
[10:17:42] <huon> kimundi: it's easy ;P
[10:17:52] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[10:18:37] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[10:19:01] *** Quits: kris (kris@moz-42A2A7B6.science.ku.dk) (Ping timeout)
[10:19:01] *** Joins: kris_ (kris@moz-147EE6DF.diku.dk)
[10:19:41] *** Joins: ztomo (ztomo@moz-54927FEF.qcl9.cha.bigpond.net.au)
[10:20:06] *** Quits: ztomo (ztomo@moz-54927FEF.qcl9.cha.bigpond.net.au) (Quit: )
[10:20:13] *** Joins: ztomo (ztomo@moz-54927FEF.qcl9.cha.bigpond.net.au)
[10:20:19] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[10:20:51] <eddyb> wow 256 this time
[10:21:22] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[10:21:39] <huon> (hint, choose a direction to not press)
[10:21:41] <kimundi> wtf
[10:21:53] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[10:22:53] <bvssvni> too addicting
[10:23:18] <eddyb> huon: hmm? for some reason I never press down
[10:23:18] <huon> kimundi: you basically want to keep the largest one in a single corner, and just keep building it up
[10:23:44] <eddyb> huon: great, now I feel like walking diagonally
[10:23:55] *** Quits: pcdummy (pcdummy@moz-CF4CA865.page4me.ch) (Client exited)
[10:24:51] <Doppp> You guys should play Threes
[10:25:42] <huon> http://cyberzhg.github.io/2048/
[10:25:45] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[10:25:47] <huon> is a nice one :P
[10:27:25] <bvssvni> this is evil
[10:27:47] <huon> heh, the "auto-move" AI button isn't idempotent
[10:28:05] <huon> i.e. clicking it multiple times will run multiple AI instances concurrently, on the one board
[10:28:16] *** Joins: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de)
[10:28:26] <huon> (at least, that's what it looks like)
[10:28:33] *** Joins: luz1 (luziie@moz-CD18B14B.customer.cdi.no)
[10:28:53] <eddyb> yay async JS
[10:29:16] *** Quits: luziiie (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[10:29:16] <eddyb> that board looks larger :/
[10:29:55] <utkarsh> how do I enable printing from #[test] functions?
[10:30:15] <huon> eddyb: good counting :P
[10:30:33] *** Joins: jmgrosen (user@moz-848F6087.sb.sd.cox.net)
[10:30:36] <bvssvni> utkarsh: it prints out under each section I think
[10:31:11] <utkarsh> I don't think it prints if a test passes
[10:31:22] <huon> erro!("..") probably prints
[10:31:31] <huon> *error!("..")
[10:31:43] <utkarsh> huon, worked, ty
[10:32:58] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[10:33:20] *** Joins: Ferreus (ferreus@moz-8F21EEE7.lsn.wtnet.de)
[10:34:14] *** Quits: jmgrosen (user@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[10:35:13] *** Quits: nlminhtl (ignotus@moz-393BCEC.la.net.ua) (Connection reset by peer)
[10:35:21] *** Quits: skade (skade@DD375DFE.A1F06FC5.9532F1CE.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[10:35:38] *** Joins: nlminhtl (ignotus@moz-393BCEC.la.net.ua)
[10:35:42] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[10:36:01] *** Joins: luziiie (luziie@moz-CD18B14B.customer.cdi.no)
[10:36:03] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[10:36:41] *** Quits: luz1 (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[10:37:44] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[10:37:53] *** Quits: luziiie (luziie@moz-CD18B14B.customer.cdi.no) (Quit: Leaving)
[10:38:19] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[10:38:24] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[10:38:26] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[10:41:09] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[10:41:11] *** Quits: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net) (Connection reset by peer)
[10:41:47] *** Joins: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net)
[10:41:47] *** ChanServ sets mode: +o huon
[10:42:03] <huon> kimundi: http://jennypeng.me/2048/
[10:43:40] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[10:44:50] <kimundi> huon: \o/ I won!
[10:45:04] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[10:45:17] <kimundi> (seriously, even with that tip I only got up to 512 or so)
[10:46:27] <eddyb> we need to make a 3D version
[10:46:27] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[10:46:41] <kimundi> In VR!
[10:46:55] *** Joins: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net)
[10:46:58] <huon> kimundi: you have to be fairly disciplined about keeping the largest one in the corner
[10:47:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[10:47:14] <huon> but yeah, it's just a help, not a definite-win strategy
[10:47:25] <huon> eddyb: http://joppi.github.io/2048-3D/
[10:47:35] <eddyb> I should've known
[10:48:05] <huon> gah
[10:48:17] * huon can't visualise this very well
[10:48:52] *** Quits: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net) (Ping timeout)
[10:48:53] * eddyb neither
[10:48:58] <eddyb> but I got 128 already
[10:49:31] * huon wants 4d
[10:49:33] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[10:49:42] <huon> much easier to visualise :P
[10:50:25] <eddyb> 256
[10:51:02] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[10:51:46] *** Joins: pcdummy (pcdummy@moz-CF4CA865.page4me.ch)
[10:52:36] *** Quits: nlminhtl (ignotus@moz-393BCEC.la.net.ua) (Connection reset by peer)
[10:52:54] *** Joins: nlminhtl (ignotus@moz-393BCEC.la.net.ua)
[10:52:57] <eddyb> 512...
[10:54:52] <eddyb> game over at 6936 score (had 128, 256 and 512)
[10:56:12] *** Quits: nlminhtl (ignotus@moz-393BCEC.la.net.ua) (Connection reset by peer)
[10:56:22] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[10:56:34] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[10:56:39] *** Joins: nlminhtl (ignotus@moz-393BCEC.la.net.ua)
[10:57:10] *** Quits: nlminhtl (ignotus@moz-393BCEC.la.net.ua) (Quit: Konversation terminated!)
[10:57:10] *** Joins: nlminhtl|home (ignotus@moz-393BCEC.la.net.ua)
[10:57:19] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[10:57:38] <huon> my best is 5044
[10:57:44] <Kroisse> How can I convert Vec<T> to ~[T]?
[10:57:59] <Kroisse> with a lowest cost
[10:58:03] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[10:58:22] <Kroisse> or vice versa?
[10:58:22] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[10:58:34] *** Quits: nlminhtl|home (ignotus@moz-393BCEC.la.net.ua) (Quit: Konversation terminated!)
[10:58:40] *** Joins: nlminhtl|home (ignotus@moz-393BCEC.la.net.ua)
[10:58:41] <kimundi> move_iter().collect()
[10:58:51] <kimundi> is the general way
[10:59:03] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[10:59:31] <kimundi> with future DST there will be a zero cost way, but not with todays ~[T]
[10:59:37] *** Quits: chridou (chatzilla@moz-D480DC03.dip0.t-ipconnect.de) (Quit: ChatZilla 0.9.90.1 [Firefox 27.0.1/20140214013806])
[10:59:47] *** Quits: nlminhtl|home (ignotus@moz-393BCEC.la.net.ua) (Quit: Konversation terminated!)
[10:59:50] *** Joins: nlminhtl|work (ignotus@moz-393BCEC.la.net.ua)
[11:00:23] <eddyb> so alternating down/left and q/e seems quite productive
[11:00:40] *** Quits: nlminhtl|work (ignotus@moz-393BCEC.la.net.ua) (Quit: Konversation terminated!)
[11:00:41] *** Joins: nlminhtl (ignotus@moz-393BCEC.la.net.ua)
[11:02:12] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[11:02:12] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Connection reset by peer)
[11:02:33] *** Quits: kvanb (kvanb@moz-4000547C.lnse7.win.bigpond.net.au) (Ping timeout)
[11:02:35] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[11:03:58] <FreeFull> kimundi: Wouldn't there be a lower-cost way with unsafe code?
[11:04:09] *** Joins: kvanb (kvanb@10099007.831B6F86.1611EE05.IP)
[11:05:01] <kimundi> FreeFull: This has nothing todo with unsafe code - if it where possible there could be a safe API for it
[11:05:27] <kimundi> FreeFull: Todays ~[T] stores size and capacity inside the allocation, Vec<T> doesn't
[11:05:55] <FreeFull> Ah, I didn't know that Vec<T> didn't
[11:06:15] <FreeFull> How does it know when to resize and such?
[11:06:36] *** Quits: nlminhtl (ignotus@moz-393BCEC.la.net.ua) (Connection reset by peer)
[11:06:47] <kimundi> Vec<T> is {uint, uint, *T}, ~[T] is *{uint, uint, ..T}
[11:07:00] *** Joins: nlminhtl (ignotus@moz-393BCEC.la.net.ua)
[11:07:09] <huon> 1024 \o/
[11:07:19] <Kroisse> kimundi: thanks :)
[11:07:31] * kimundi shots evil glares at huon 
[11:07:52] * bvssvni gives up
[11:08:22] <bvssvni> no higher than 256
[11:08:34] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[11:09:09] *** Joins: marianoguerra (marianogue@moz-EE86C0E9.dip0.t-ipconnect.de)
[11:09:51] <huon> eddyb: 12468 on the 3d one :P
[11:10:45] * eddyb goes back to pretty printer nonsense
[11:11:08] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[11:11:40] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[11:11:40] <huon> eddyb: doubling-numbers nonsense is more important
[11:13:24] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[11:13:50] <kimundi> okay, I have a question: std::clone defines a clone_impl macro. how do I get that macro to be visible in other libstd modules?
[11:13:50] *** Quits: ztomo (ztomo@moz-54927FEF.qcl9.cha.bigpond.net.au) (Quit: )
[11:14:18] <eddyb> kimundi: include clone first
[11:14:37] <eddyb> in lib.rs
[11:14:45] <kimundi> I don't understand
[11:14:53] <huon> kimundi: #[macro_escape]
[11:14:58] <huon> on the clone module
[11:14:58] <eddyb> and you probably need a module level attribute ^^
[11:15:16] *** Quits: Matrixiumn (zack@moz-1B22AAE2.net) (Client exited)
[11:15:29] <huon> and then the macro will be visible for everything that appears after the `mod clone` in lib.rs
[11:15:45] <kimundi> ah, _after_ the mod clone
[11:16:02] <kimundi> okay... this is going to be a problem xD
[11:16:18] <huon> put it in macros.rs
[11:16:25] <eddyb> kimundi: that's why I said you have to put it first. or yeah, move the macro
[11:16:26] <kimundi> yeah
[11:16:34] <huon> but *without* a #[macro_export] on the macro itself
[11:16:39] <kimundi> eddyb: Ah, _that_ meaning of "first"
[11:16:44] <eddyb> lol
[11:16:54] <eddyb> huon: *sigh* you're playing and you're still better at explaining things than me
[11:16:54] <kimundi> huon: right, macro export makes it visible to the outside
[11:16:55] *** Quits: matp (matp@moz-16FE1E05.matp.at) (Ping timeout)
[11:17:18] * huon hopes the other meaning of "first" is "give huon a pile of chocolate"
[11:17:26] <huon> eddyb: not playing any more
[11:17:32] * huon broke the habit
[11:17:39] <kimundi> "first you do this, then you do that... "
[11:17:57] <huon> "first you give huon chocolate, then you give him some more"
[11:18:02] <huon> sounds good to me
[11:18:03] <huon> :P
[11:18:51] <kimundi> Hm... chocolate...
[11:19:04] * kimundi searches the kitchen in a quest for some
[11:19:59] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[11:20:07] *** Quits: nlminhtl (ignotus@moz-393BCEC.la.net.ua) (Connection reset by peer)
[11:20:13] *** Joins: nlminhtl (ignotus@moz-393BCEC.la.net.ua)
[11:20:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[11:20:53] * kimundi opens his last pack oreo imitates
[11:21:05] *** Quits: nlminhtl (ignotus@moz-393BCEC.la.net.ua) (Connection reset by peer)
[11:21:12] *** Joins: nlminhtl (ignotus@moz-393BCEC.la.net.ua)
[11:21:29] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[11:22:12] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[11:22:26] *** Quits: nlminhtl (ignotus@moz-393BCEC.la.net.ua) (Quit: Konversation terminated!)
[11:22:28] *** Joins: nlminhtl|home (ignotus@moz-393BCEC.la.net.ua)
[11:22:31] *** Joins: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se)
[11:23:12] *** Joins: mib_f2n395 (Mibbit@moz-C82E8769.static.ziggozakelijk.nl)
[11:23:52] *** Quits: nlminhtl|home (ignotus@moz-393BCEC.la.net.ua) (Quit: Konversation terminated!)
[11:23:56] *** Joins: nlminhtl|home (ignotus@moz-393BCEC.la.net.ua)
[11:24:26] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[11:24:50] *** Quits: nlminhtl|home (ignotus@moz-393BCEC.la.net.ua) (Quit: Konversation terminated!)
[11:24:53] *** Joins: nlminhtl|work (ignotus@moz-393BCEC.la.net.ua)
[11:25:52] *** Quits: nlminhtl|work (ignotus@moz-393BCEC.la.net.ua) (Quit: Konversation terminated!)
[11:25:59] *** Joins: nlminhtl|work (ignotus@moz-393BCEC.la.net.ua)
[11:26:45] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[11:26:51] *** Quits: nlminhtl|work (ignotus@moz-393BCEC.la.net.ua) (Connection reset by peer)
[11:26:53] *** Quits: mib_f2n395 (Mibbit@moz-C82E8769.static.ziggozakelijk.nl) (Quit: http://www.mibbit.com ajax IRC Client)
[11:26:57] *** Joins: nlminhtl|work (ignotus@moz-393BCEC.la.net.ua)
[11:28:31] *** Joins: asmyers (quassel@DB6A517B.4C874661.F98C6DDA.IP)
[11:28:31] *** Quits: nlminhtl|work (ignotus@moz-393BCEC.la.net.ua) (Connection reset by peer)
[11:28:35] *** Joins: nlminhtl|work (ignotus@moz-393BCEC.la.net.ua)
[11:30:04] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[11:30:16] *** Quits: nlminhtl|work (ignotus@moz-393BCEC.la.net.ua) (Connection reset by peer)
[11:30:24] *** Joins: nlminhtl|work (ignotus@moz-393BCEC.la.net.ua)
[11:30:48] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[11:31:35] *** Joins: jmgrosen (user@moz-848F6087.sb.sd.cox.net)
[11:32:01] *** Joins: angdev (angdev@16F167B.4C57D258.D8E8354F.IP)
[11:33:19] *** Quits: jmgrosen (user@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[11:34:27] *** Quits: angdev (angdev@16F167B.4C57D258.D8E8354F.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[11:34:31] *** Joins: angdev (angdev@16F167B.4C57D258.D8E8354F.IP)
[11:34:35] *** Quits: angdev (angdev@16F167B.4C57D258.D8E8354F.IP) (Client exited)
[11:35:40] *** Joins: angdev (angdev@16F167B.4C57D258.D8E8354F.IP)
[11:39:53] *** Joins: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net)
[11:40:31] *** Quits: nlminhtl|work (ignotus@moz-393BCEC.la.net.ua) (Quit: Konversation terminated!)
[11:42:32] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[11:44:15] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[11:47:05] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[11:49:31] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[11:53:36] <kimundi> Is there a macro variable type for items?
[11:53:43] <eddyb> item?
[11:54:09] <kimundi> Is $it:item valid? The macr guide doesn'T mention it
[11:54:14] <eddyb> try it
[11:54:31] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[11:54:32] *** Quits: bvssvni (Mibbit@moz-E289BB64.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[11:54:51] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[11:54:57] <NiccosSystem> 7332 on 2048 8)
[11:55:14] <eddyb> https://github.com/bvssvni/rust-empty oh wow
[11:55:32] <eddyb> I can't hold all these options
[11:56:37] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[11:58:05] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[11:58:45] *** Quits: kp (kp@4F7252F2.CEBBE496.E48CFF63.IP) (Quit: (╯T~T）╯ ︵ ┻━┻)
[11:59:09] <kimundi> ...
[11:59:20] <kimundi> Doc comments are items, right?
[11:59:45] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[12:00:03] <kimundi> Where do I have to look into libsyntax to see what macro_rules actually supports?
[12:01:11] <eddyb> kimundi: doc comments are attributes
[12:01:19] <eddyb> kimundi: somewhere in ext/macro_rules
[12:01:29] <eddyb> kimundi: ext/tt even
[12:02:26] *** Joins: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[12:03:48] * kimundi ponders if he should start hacking up macro_rules to support parsing doc comments
[12:03:50] <huon> kimundi: syntax::ext::tt::macro_parser::parse_nt
[12:04:22] <huon> rusti: macro_rules! foo ( ($a: attr) => { $a fn foo() {} } } foo!(/** a */)
[12:04:23] -rusti- pastebinned 7 lines of output: http://sprunge.us/GaSB
[12:04:33] <huon> rusti: macro_rules! foo ( ($a: attr) => { $a fn foo() {} } } ) foo!(/** a */)
[12:04:35] -rusti- pastebinned 7 lines of output: http://sprunge.us/YZaa
[12:04:46] <huon> rusti: macro_rules! foo ( ($a: attr) => { $a fn foo() {} } ) foo!(/** a */)
[12:04:46] -rusti- <anon>:16:68: 16:77 error: expected `#` but found `/** a */`
[12:04:47] -rusti- <anon>:16         macro_rules! foo ( ($a: attr) => { $a fn foo() {} } ) foo!(/** a */)
[12:04:47] -rusti-                                                                              ^~~~~~~~~
[12:04:47] -rusti- application terminated with error code 101
[12:05:06] <huon> kimundi: just use the #[doc="..." form
[12:05:16] <kimundi> huh, what is "matchers"
[12:05:18] <huon> or use inner doc-coments
[12:05:47] <huon> rusti: macro_rules! foo(($m: matches) => {}) foo!(($x:item))
[12:05:47] -rusti- <anon>:16:52: 16:53 error: unsupported builtin nonterminal parser: matches
[12:05:47] -rusti- <anon>:16         macro_rules! foo(($m: matches) => {}) foo!(($x:item))
[12:05:47] -rusti-                                                              ^
[12:05:47] -rusti- application terminated with error code 101
[12:05:48] <eddyb> did... did someone fix log level?
[12:05:53] <huon> rusti: macro_rules! foo(($m: matchers) => {}) foo!(($x:item))
[12:05:54] -rusti- <anon>:1:1: 1:1 error: unexpected token: `<eof>`
[12:05:54] -rusti- <anon>:1 #[feature(globs, macro_rules, struct_variant, simd, asm)];
[12:05:54] -rusti-          ^
[12:05:54] -rusti- application terminated with error code 101
[12:05:56] <huon> eddyb: yes
[12:05:57] <huon> guess who
[12:06:01] <kimundi> huon: The goal here is to have a nice syntax, so doc="..." is kinda out. But inner doc comments would work fine
[12:06:02] <huon> rusti: macro_rules! foo(($m: matches) => {}) foo!(($x:item) => {})
[12:06:02] -rusti- <anon>:16:52: 16:53 error: unsupported builtin nonterminal parser: matches
[12:06:02] -rusti- <anon>:16         macro_rules! foo(($m: matches) => {}) foo!(($x:item) => {})
[12:06:02] -rusti-                                                              ^
[12:06:03] -rusti- application terminated with error code 101
[12:06:11] <huon> kimundi: oh, it's a public macro?
[12:06:15] <huon> rusti: macro_rules! foo(($m: matchers) => {}) foo!(($x:item) => {})
[12:06:15] -rusti- <anon>:16:63: 16:65 error: no rules expected the token `=>`
[12:06:15] -rusti- <anon>:16         macro_rules! foo(($m: matchers) => {}) foo!(($x:item) => {})
[12:06:15] -rusti-                                                                         ^~
[12:06:15] -rusti- application terminated with error code 101
[12:06:19] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[12:06:30] * huon doesn't know what's matchers does, but it's something like that
[12:06:50] <kimundi> huon: Not public, but I want to make it pretty anyway :P
[12:08:27] <kimundi> hrm, now I notice that neither inner nor outer would work anyway
[12:08:35] <kimundi> for what I'm trying
[12:08:40] <huon> what is it?
[12:08:51] *** Quits: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[12:09:19] *** Joins: lbonn (lbonn@moz-FBFAA8BC.rev.sfr.net)
[12:09:42] <kimundi> huon: Trying to do https://github.com/mozilla/rust/issues/12925 without duplicating a lot of primitve impl macros like "impl_clone!(u8)"
[12:09:53] <Tobba> what exactly does a "type of this value muts be known in this context" error mean
[12:09:59] *** Joins: LU324 (asdf@moz-864C7465.dyn.embarqhsd.net)
[12:09:59] <Tobba> all the types are explictly specified
[12:10:03] <Tobba> and it just marks the entire line as the error
[12:10:10] <huon> Tobba: code?
[12:10:29] <huon> kimundi: use $a: attr and #[doc="..."] ;P
[12:10:37] <Tobba> wait, hold ob
[12:10:55] <Tobba> heh yeah there we go, whoops
[12:11:08] <kimundi> huon: So I'm trying to write a nice-ish extensible primitive! { impl Clone for u8; impl TotalEq for u8; ... } macro
[12:11:14] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[12:12:09] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[12:12:42] *** Joins: nlminhtl (ignotus@moz-393BCEC.la.net.ua)
[12:13:42] <Tobba> also is there any sane way to cast a &~T into a &mut T
[12:13:56] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[12:14:01] <Tobba> everything I try complains about either non-scalar casts or dereferencing
[12:15:23] <kimundi> Tobba: There is no way to get &mut access to something you can only reach with a &T
[12:15:50] <Tobba> ugh right, the outer pointer that holds the owned pointer isnt mutable
[12:15:53] *** Joins: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net)
[12:16:03] <kimundi> &~T can be turned into &T; &mut ~T can be tuned into &mut T, &~T and &T
[12:16:09] <Tobba> is there a mutable version of the vector iterator?
[12:16:26] <kimundi> mut_iter()
[12:16:37] <Tobba> oh huh
[12:16:38] <kimundi> gives you mutable references to the content of the vector
[12:16:58] <Tobba> oh, vector stuff is in vec_ng
[12:18:18] <huon> kimundi: why do those need docs?
[12:19:46] <kimundi> huon: Well stuff like Clone for &T for example has the same primitive implementation, but a doc that says that it is a shallow copy etc
[12:19:54] *** Joins: Rym (y@BC06E343.3B79F2EC.51C6DE68.IP)
[12:20:26] *** Joins: kp (kp@4F7252F2.CEBBE496.E48CFF63.IP)
[12:23:36] *** Quits: rootnode (rootnode@moz-B09A7E8E.pools.arcor-ip.net) (Ping timeout)
[12:23:54] <huon> kimundi: I don't understand
[12:24:17] <doomlord_> has anyone here used c++1y , i thought i should check out how its polymorphic lambdas work for comparison
[12:24:30] <doomlord_> and is support widely availalbe, or flaky
[12:25:33] *** Quits: Rym (y@BC06E343.3B79F2EC.51C6DE68.IP) (Ping timeout)
[12:26:23] <kimundi> huon: I want to write a macro that allows me to write `primitive! { /// Returns a shallow copy of the reference impl<'a, T> Clone for &'a T }`, but that doesn't work anyway for many reasons, so I'm just not doing it
[12:27:23] <eddyb> doomlord_: generic lambdas?
[12:27:27] <doomlord_> yes
[12:27:44] <eddyb> doomlord_: like <T: ToStr> |x: T| x.to_str()
[12:27:45] <eddyb> ?
[12:28:07] <doomlord_> yeah, the C++1y equiv being auto all over the place
[12:28:28] <eddyb> doomlord_: isn't auto inference?
[12:28:28] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[12:28:57] *** Joins: Rym (y@BC06E343.3B79F2EC.51C6DE68.IP)
[12:28:58] <eddyb> doomlord_: instead of generic?
[12:29:02] <doomlord_> they special case it i think, 'auto in lambda arguments expands out to <some big templated equivalent>'
[12:29:08] <eddyb> ah ok
[12:29:27] <doomlord_> not as neat as simply 'the absence of a type being generic' of course
[12:29:47] <doomlord_> http://yapb-soc.blogspot.co.uk/2012/12/clang-and-generic-polymorphic-lambdas.html
[12:30:20] *** Joins: bvssvni (Mibbit@moz-E289BB64.bb.online.no)
[12:30:28] <huon> kimundi: oh... you could just skip the docs :P
[12:30:51] <huon> but yeah, lifetimes and generics will be annoying
[12:30:52] <eddyb> doomlord_: I would think Rust wouldn't let you assign a generic closure to a variable...
[12:31:28] <eddyb> (if we had them)
[12:31:28] <huon> Rust doesn't have polymorphic closures
[12:31:36] <huon> yeah
[12:32:02] *** Joins: jmgrosen (user@moz-848F6087.sb.sd.cox.net)
[12:32:26] <eddyb> huon: hmm, we could do some of that stuff
[12:32:42] *** Joins: leowoe (Leo@moz-1DE816AE.dip0.t-ipconnect.de)
[12:32:49] <eddyb> imagine impl<T: ToStr> Fn<T, ~str> for Foo {...}
[12:33:06] <eddyb> now Foo acts like a generic function
[12:33:15] <eddyb> yet it's a value with a concrete type
[12:33:22] <eddyb> (considering struct Foo;)
[12:33:42] <kimundi> rusti: let x = ~5; let y = &*x as *int; unsafe { (y, ::std::cast::transmute<~int, *int>(x)) }
[12:33:43] <eddyb> nmatsaki1: ^^ so, uhm, could we do that to pass generic functions around?
[12:33:43] -rusti- pastebinned 8 lines of output: http://sprunge.us/ddKg
[12:33:55] *** Joins: pczarn (pczarn@moz-69A55FA.izacom.pl)
[12:34:01] <kimundi> rusti: let x = ~5; let y = &*x as *int; unsafe { (y, ::std::cast::transmute::<~int, *int>(x)) }
[12:34:02] -rusti- (0x1e59030, 0x1e59030)
[12:34:10] *** Quits: jmgrosen (user@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[12:35:58] <kimundi> rusti: let mut b = ~5; let b_ptr = { &*b as *() as uint }; unsafe { (b_ptr, ::std::cast::transmute::<~int, *int>(b)) }
[12:35:59] -rusti- <anon>:16:39: 16:42 error: mismatched types: expected `*()` but found `&<generic integer #0>` (expected () but found integral variable)
[12:36:00] -rusti- <anon>:16         let mut b = ~5; let b_ptr = { &*b as *() as uint }; unsafe { (b_ptr, ::std::cast::transmute::<~int, *int>(b)) }
[12:36:03] -rusti-                                                 ^~~
[12:36:05] -rusti- error: aborting due to previous error
[12:36:07] -rusti- application terminated with error code 101
[12:36:25] <huon> rusti: struct Foo; trait Bar<T> { fn f(&self, _: T); } impl<T> Bar<T> { fn f(&self, _: T) {} } Foo.f(1i); Foo.f(~"foo")
[12:36:25] <kimundi> rusti: let mut b = ~5; let b_ptr = { &*b as *int as uint }; unsafe { (b_ptr, ::std::cast::transmute::<~int, *int>(b)) }
[12:36:26] -rusti- pastebinned 8 lines of output: http://sprunge.us/XLeT
[12:36:26] -rusti- <anon>:16:13: 16:18 warning: variable does not need to be mutable, #[warn(unused_mut)] on by default
[12:36:26] -rusti- <anon>:16         let mut b = ~5; let b_ptr = { &*b as *int as uint }; unsafe { (b_ptr, ::std::cast::transmute::<~int, *int>(b)) }
[12:36:26] -rusti-                       ^~~~~
[12:36:27] -rusti- (26812464, 0x1992030)
[12:36:43] <huon> rusti: struct Foo; trait Bar<T> { fn f(&self, _: T); } impl<T> Bar<T> for Foo { fn f(&self, _: T) {} } Foo.f(1i); Foo.f(~"foo")
[12:36:45] -rusti- ()
[12:40:29] *** Joins: q66 (q66@moz-E680C693.range109-154.btcentralplus.com)
[12:41:59] *** Quits: pzol (pzol@86821BC.DEB41A6D.AADC76B.IP) (Ping timeout)
[12:43:04] *** pzol_ is now known as pzol
[12:43:28] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[12:44:08] *** Joins: pzol_ (pzol@86821BC.DEB41A6D.AADC76B.IP)
[12:45:08] *** Quits: pzol (pzol@86821BC.DEB41A6D.AADC76B.IP) (Quit: ZNC - http://znc.in)
[12:45:08] *** pzol_ is now known as pzol
[12:45:13] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[12:47:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[12:47:44] *** Quits: Rym (y@BC06E343.3B79F2EC.51C6DE68.IP) (Ping timeout)
[12:49:28] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[12:52:29] *** Quits: angdev (angdev@16F167B.4C57D258.D8E8354F.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[12:53:01] *** Joins: Rym (y@BC06E343.3B79F2EC.51C6DE68.IP)
[12:54:15] *** Quits: glaebhoerl_ (glaebhoerl@moz-782D142E.catv.broadband.hu) (Ping timeout)
[12:54:40] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[12:56:35] *** Joins: eholk (eric@moz-F70D5031.hsd1.in.comcast.net)
[12:56:55] *** Quits: FrozenCow (FrozenCow@moz-54300F7F.upc-j.chello.nl) (Ping timeout)
[12:57:35] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[12:57:35] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[12:58:52] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[12:58:52] *** Quits: nlminhtl (ignotus@moz-393BCEC.la.net.ua) (Connection reset by peer)
[12:59:15] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[12:59:19] *** Joins: nlminhtl (ignotus@moz-393BCEC.la.net.ua)
[12:59:25] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[13:00:20] *** Quits: nlminhtl (ignotus@moz-393BCEC.la.net.ua) (Connection reset by peer)
[13:00:31] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[13:00:35] *** Joins: nlminhtl (ignotus@moz-393BCEC.la.net.ua)
[13:00:59] <Tobba> and now the magical crash
[13:01:12] <Tobba> apparently, semaphores are buggy, or something like that
[13:02:44] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[13:03:32] *** Quits: nlminhtl (ignotus@moz-393BCEC.la.net.ua) (Connection reset by peer)
[13:04:02] *** Joins: nlminhtl (ignotus@moz-393BCEC.la.net.ua)
[13:04:44] *** Quits: Rym (y@BC06E343.3B79F2EC.51C6DE68.IP) (Ping timeout)
[13:05:30] *** Quits: oberstet (quassel@moz-2B51532.dynamic.mnet-online.de) (Client exited)
[13:05:53] *** Quits: nlminhtl (ignotus@moz-393BCEC.la.net.ua) (Ping timeout)
[13:05:54] *** Joins: nlminhtl|home (ignotus@moz-393BCEC.la.net.ua)
[13:07:05] <kimundi> Tobba: First rule of using synchronization primitives: If you think your code is correct, you're wrong ;)
[13:10:01] *** Quits: jviereck (Adium@moz-5DA38405.dclient.hispeed.ch) (Quit: Leaving.)
[13:11:38] *** Joins: skade (skade@moz-127E304B.ii.uni.wroc.pl)
[13:12:30] <listboss> how do I match a foo:~str against string literals?
[13:12:39] <listboss>  let command = std::os::args()[1];
[13:12:46] <listboss>  match command { ~"foo" => println!("expected `~str` but found a `~`-box pattern") } 
[13:12:48] <Tobba> kimundi: well, its segfaulting
[13:12:51] <Tobba> without any unsafe blocks
[13:12:53] <bvssvni> listboss: .as_slice()?
[13:12:55] <Tobba> so in this case I'd blame the primitive
[13:12:55] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[13:13:03] *** Joins: Rym (y@BC06E343.3B79F2EC.51C6DE68.IP)
[13:13:17] <kimundi> Tobba: yeah, in that case you are right in blaming it :P
[13:13:27] <Tobba> also fuck this networking and fuck its shit
[13:13:57] <Tobba> I have a bunch of tasks to read the packets
[13:14:06] <Tobba> however, due to the fact that for some reason TcpSockets arent Freeze
[13:14:13] <bvssvni> listboss: then you can match with "foo" which is &'static str
[13:14:15] <Tobba> I cant put the clients in an Arc
[13:14:23] *** Joins: edwardw (edwardw@96E7298D.3E260003.B9C6B12A.IP)
[13:14:27] <Tobba> so the on_receive handler needs to be called on the main thread
[13:14:37] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[13:14:38] <Tobba> however, the on_receive method may affect the receiving of the next packet
[13:14:47] <Tobba> the performance of this is going to be ass
[13:14:52] <listboss> thanks
[13:15:31] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[13:16:22] *** Quits: eholk (eric@moz-F70D5031.hsd1.in.comcast.net) (Quit: Konversation terminated!)
[13:16:50] *** Quits: nlminhtl|home (ignotus@moz-393BCEC.la.net.ua) (Connection reset by peer)
[13:17:43] <Tobba> ah yes
[13:17:43] *** Joins: nlminhtl|home (ignotus@moz-393BCEC.la.net.ua)
[13:17:49] <Tobba> and later on I need async file I/O
[13:17:52] *** Quits: edwardw (edwardw@96E7298D.3E260003.B9C6B12A.IP) (Ping timeout)
[13:17:57] <Tobba> this is *really* going to suck
[13:20:03] *** Joins: ganitsu (ganitsu@moz-2760BD4E.dialup.adsl.anteldata.net.uy)
[13:20:39] <Tobba> actually, tasks waiting for eachother constantly is probably always going to be godawful
[13:20:50] <Tobba> and thus we see that libuv is unsuprisingly a shit idea who would have thought
[13:21:19] <bvssvni> Tobba: keep the langage civil :)
[13:21:30] <Tobba> I've been working on this for like a day now
[13:21:46] <Tobba> just trying to wrap the horrible networking
[13:21:49] <Tobba> so I can actually work with it 
[13:22:17] <kimundi> Tobba: Tone it down a bit :) - libuv has been chosen on purpose, you have the option of not using it and synchronous ask communication is intended to not be inherently slow
[13:22:30] *** Joins: edwardw (edwardw@CA121B1F.E91AB7CD.1D660E71.IP)
[13:22:45] *** Joins: ventos (ventos@moz-70CE2B42.dip0.t-ipconnect.de)
[13:22:46] <Tobba> this is pretty much always going to be inherently slow
[13:23:05] <Tobba> although libuv is an async communication library so I dont know what the shit you people are doing to it
[13:23:07] <Matthias247> Tobba: you should probably write your own networking library. You will ending up using lots of unsafe anyway
[13:23:26] <Tobba> afaik libuv is pretty ingrained in the scheduler atm to make it not suck though
[13:23:34] <Tobba> would be nice not to lose that but yep time to just wrap BSD sockets
[13:24:07] <Matthias247> Tobba: start here, copy everything you need ;) https://github.com/Matthias247/revbio
[13:24:10] <Tobba> though atm I would just like to get this to goddamn *work*
[13:24:17] <Tobba> except that semaphores cause a segfault
[13:24:22] <Tobba> so I cant even hacksaw my way to making the POS work
[13:25:24] *** Quits: Armavica (virgile@moz-AD428ED7.ens.fr) (Quit: leaving)
[13:25:33] *** Joins: ktos (ktos@moz-947805C3.swidnica.mm.pl)
[13:25:40] <ktos> Hi
[13:25:42] <Tobba> I would rather just wrap winsock than actually use that
[13:25:47] <Tobba> or BSD sockets
[13:25:48] <bvssvni> ktos: hi!
[13:25:59] *** Joins: mpiechotka (mpiechotka@moz-9B05281B.dynamic.mnet-online.de)
[13:26:03] *** Joins: Armavica (virgile@moz-AD428ED7.ens.fr)
[13:26:05] <Tobba> blocking I/O, no matter how you do it really, is a shitstorm of godawful
[13:26:10] <Tobba> you cant get around that the model is horrible sadly
[13:26:24] <ktos> I'm C# programmer, tell me please, do I need to worry about memory in rust?
[13:26:39] <bvssvni> ktos: if you mean pointers, then yes
[13:26:50] <bvssvni> ktos: I have a C# background too
[13:27:00] *** Parts: mpiechotka (mpiechotka@moz-9B05281B.dynamic.mnet-online.de) ()
[13:27:05] <Tobba> I just need to find a sync primitive that I can lock and unlock
[13:27:14] <ktos> bvssvni: I wish I don't need pointers or destructors
[13:27:19] <Tobba> basicaly a semaphore except without the crashing part
[13:27:28] <bvssvni> ktos: you don't need destructors most of the time
[13:27:46] <bvssvni> ktos: pointers in Rust are quite different from C
[13:27:55] <kimundi> ktos: Rust is like C++ what memory management is concerned, but you can't do it wrong. :) No way to misuse a pointer in Rust
[13:28:03] *** Joins: klaus (koz@moz-4486E876.hsd1.wa.comcast.net)
[13:28:12] <kimundi> Well, no way to get segfaults, sue after free etc at least
[13:28:15] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Ping timeout)
[13:28:19] <ktos> good to know
[13:28:22] <ktos> http://words.steveklabnik.com/pointers-in-rust-a-guide
[13:28:41] *** Parts: kvanb (kvanb@10099007.831B6F86.1611EE05.IP) ()
[13:28:46] <ktos> this guy claims pointers are not very common in use
[13:28:55] <Tobba> apparently if you try to lock an already locked semaphore it just crashes
[13:29:02] <ktos> but I'm not sure how common he means
[13:29:07] <Tobba> a++ sync primitives
[13:29:16] <Matthias247> Tobba: there was std.unstable.mutex once
[13:29:20] <Tobba> oh
[13:29:20] <Tobba> neat
[13:29:25] <bvssvni> ktos: he is right, it is mostly used for data structures that contain pointers
[13:29:38] <Matthias247> Tobba: but acrichto rewrote all that, so I don't know where it is now
[13:29:53] <Tobba> theres std::sync::mutex
[13:30:01] <Tobba> which sadly does RAII stuff
[13:30:04] <Tobba> so the hack I want to do cant use it
[13:30:11] <Matthias247> And also it used once used pthread and win mutexes under the hood it konw uses some homebrew lcoks
[13:30:17] <ktos> bvssvni: so if I write some class without pointers and I will not use pointers, code will be still efficient?
[13:30:37] <kimundi> ktos: Yeah, that is kinda strangely worded. What he means is, while Rust uses a lot of pointer-like primitives, none of the safe ones have the problems or behaviors that C/C++-like pointers have
[13:30:39] <bvssvni> ktos: it will be allocated on the stack
[13:30:39] *** Quits: mawuli (mawuli@moz-EF4254B1.com.gh) (Ping timeout)
[13:31:22] <bvssvni> ktos: you can use ~MyStruct to allocate on the heap
[13:31:41] <Tobba> oh screw it
[13:31:42] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[13:31:43] <bvssvni> ktos: but most methods takes either &, &mut or by value
[13:31:43] <Tobba> I have the most shit idea ever
[13:31:48] <Tobba> create one green task for each packet
[13:31:50] <Tobba> NOTHING CAN GO WRONG
[13:31:57] <Tobba> (its also the only way to do this)
[13:32:02] <kimundi> ktos: For example, a &T in Rust is a reference to a value of type T. It is implemented as a pointer to a T, but that doesn't really concern you because a reference has different semantics than a C/C++ like pointer
[13:32:14] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[13:32:33] <bvssvni> ktos: &mut is similar to 'ref' in C#
[13:32:43] *** Quits: pcdummy (pcdummy@moz-CF4CA865.page4me.ch) (Ping timeout)
[13:32:43] *** Joins: jviereck (Adium@moz-5DA38405.dclient.hispeed.ch)
[13:33:03] *** Joins: jmgrosen (user@moz-848F6087.sb.sd.cox.net)
[13:33:13] <ktos> ok, I start to understand, so rust in more explicit in memory usage but is still safe
[13:33:23] <kimundi> ktos: Exactly
[13:33:26] <bvssvni> ktos: it is much safer than C#
[13:33:42] <ktos> oh, interesting
[13:33:57] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[13:34:13] *** Joins: pcdummy (pcdummy@moz-CF4CA865.page4me.ch)
[13:34:15] <tiffany> tobba: just be happy in knowing that no matter what goes wrong, your memory usage probably won't be worse than apache
[13:34:28] <Tobba> hahhahhaah
[13:34:30] <Tobba> the thing is
[13:34:41] <Tobba> this is an application that sits between the client and the horrible tangled mess of a closed source server that we cant fix
[13:34:42] <ktos> ok, thank you guys for help, diving into tutorial then :)
[13:34:47] *** Quits: japaric1 (japaric@6F54E9F.F3E5B3F6.F4D5766F.IP) (Ping timeout)
[13:34:52] <bvssvni> ktos: but is low level, so you have a lot more choices how to represent data in memory
[13:34:52] *** Joins: japaric1 (japaric@F125041E.42AF0950.5C7588CA.IP)
[13:34:53] <Tobba> its meant to just intercept some packets that slows the server down to shit and handle those in a sane fashion
[13:34:55] <tiffany> I don't like being shoehorned into faux-blocking IO, as someone who has a background in C and event loops
[13:34:56] *** Quits: jmgrosen (user@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[13:35:10] <Tobba> in this case my implementation is SLOWER than the 1990 code that server runs
[13:35:15] <Tobba> based blocking I/O
[13:35:52] <Matthias247> Tobba: sorry to say that: I won't recommend using Rust for making any kind of serios networking application at the moment. It will just turn you crazy
[13:36:03] <Tobba> the last part has already happened
[13:36:07] <Tobba> this is absolutely insane
[13:36:09] <tiffany> the networking stuff is pretty wip
[13:36:12] <Tobba> and fuck whoever thought who was this a good idea
[13:36:19] <tiffany> the ability to do reading and writing at the same time, at all, is a very recent addition
[13:36:36] <Matthias247> the standard libraries are not complete and you will need some kind of callbacks sooner or later, which are HARD in rust
[13:36:45] *** Joins: io2 (io2@moz-EE406A5.home.otenet.gr)
[13:36:58] <Tobba> everything works except for the receiving part
[13:37:03] <Tobba> I figured out how to hacksaw my way around it
[13:37:08] <Tobba> one green task per packet
[13:37:16] <Tobba> its the only way to ensure it gets synced properly
[13:37:41] <apoelstra> Tobba: i share your frustration with the networking stuff. it certainly seems complete enough until you slam into this blocking wall and you've got a half-finished project with no clear way forward
[13:38:03] <Tobba> I can probably write some slow-as-shit wrapper
[13:38:04] <bvssvni> Tobba: perhaps you are interested in the latest Rust meetup video, there is a talk about WorkQueue in Servo
[13:38:04] <apoelstra> Tobba: but for the most part this is a relaxing and polite channel, so please choose your language more carefully
[13:38:07] <Tobba> that just makes it appear to be sane
[13:38:32] <bvssvni> Tobba: https://air.mozilla.org/rust-meetup-march-2014/
[13:40:22] <Tobba> oh yes it works, at last
[13:40:22] *** Quits: nlminhtl|home (ignotus@moz-393BCEC.la.net.ua) (Connection reset by peer)
[13:41:01] *** Quits: Rym (y@BC06E343.3B79F2EC.51C6DE68.IP) (Ping timeout)
[13:41:09] *** Joins: nlminhtl|home (ignotus@moz-393BCEC.la.net.ua)
[13:42:26] <eddyb> bvssvni: I did tell him about work pools and stuff. I guess Servo's code can just be reused
[13:42:56] *** Joins: Rym (y@BC06E343.3B79F2EC.51C6DE68.IP)
[13:43:06] <Tobba> I hope green tasks reuse their stack
[13:43:10] <Tobba> in that case this shouldent be too bad
[13:44:22] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[13:44:51] <Tobba> at least writing a kernel in rust was enjoyable since you didnt have to deal with std
[13:44:55] <Tobba> I should get back to that
[13:46:03] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[13:47:11] *** Quits: nlminhtl|home (ignotus@moz-393BCEC.la.net.ua) (Connection reset by peer)
[13:47:24] *** Joins: nlminhtl|home (ignotus@moz-393BCEC.la.net.ua)
[13:47:26] *** Quits: Guest (textual@D6B5DD7E.D8252BC.9532F1CE.IP) (Ping timeout)
[13:47:31] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[13:48:51] <huon> Tobba: please stop being so abusive. You are consistently being very rude, and it's not the atmosphere that #rust needs.
[13:49:01] <Tobba> well yeah
[13:49:03] <huon> I don't care if the stdlib isn't working the way you want it
[13:49:12] <huon> being *so* rude is entirely unnecessary
[13:49:32] <Tobba> I've been playing hopscotch in a minefield for the past day trying to get this to work
[13:49:35] *** Quits: jviereck (Adium@moz-5DA38405.dclient.hispeed.ch) (Quit: Leaving.)
[13:49:35] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[13:49:36] *** Joins: jviereck (Adium@moz-6C0C0C2A.ethz.ch)
[13:49:37] <huon> Don't care
[13:49:42] <huon> no need to swear
[13:51:14] *** Quits: Rym (y@BC06E343.3B79F2EC.51C6DE68.IP) (Ping timeout)
[13:52:33] <huon> and no need to continuously rag on the stdlib; if you have constructive criticism, feel free to write it up in a reasoned manner; if not, see the code of conduct.
[13:52:45] <Tobba> I'm gonna calm down with a calm session of IDA
[13:53:21] *** Quits: svenstaro (svenstaro@moz-FE5F6CCD.org) (Connection reset by peer)
[13:53:24] *** Joins: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net)
[13:54:00] <eddyb> Tobba: ahh, IDA, wasteful days spent in it
[13:54:46] *** Quits: mye (mye@moz-44FA1913.dip0.t-ipconnect.de) (Quit: mye)
[13:54:52] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[13:55:01] <Tobba> gotta love software written in, probably earlier than 1990
[13:55:12] <Tobba> theres obfasucation all over, its slow as heck, and its a huge black box
[13:55:34] <eddyb> Tobba: that obscure thing you were wrapping wround?
[13:55:40] <eddyb> *around
[13:55:45] <Tobba> I'm writing a proxy basicaly
[13:56:05] <eddyb> and doing some RE-connaissance?
[13:56:08] <Tobba> if it crashes, which happens a lot in constantly nonsensical ways, it wont disconnect everyone, just gracefully restart the server and clean up the mess
[13:56:26] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[13:56:29] <Tobba> I wrote a sorta working custom client, which connects to my custom server fine, but the official client hangs
[13:56:30] <eddyb> is there any binary that you can share?
[13:56:38] <Tobba> nah I've got all the RE done
[13:57:28] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[13:57:37] <eddyb> Tobba: I'm curious because I had this crazy decompiler project
[13:57:49] <eddyb> and I still want to play around with it, in Rust
[13:57:53] <Tobba> hah
[13:58:26] <eddyb> at least I should be able to lift a 1MB binary without running out of RAM
[13:58:45] <eddyb> unlike v8 (and its 1.5GB heap limit)
[13:59:20] <Tobba> were you trying to turn binaries into LLVM bitcode or something?
[13:59:36] *** Joins: glaebhoerl_ (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[13:59:43] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[13:59:50] <eddyb> Tobba: my own IR, recompilation via LLVM was one of the options
[14:00:02] <Tobba> neat
[14:00:08] <Tobba> main binary is 5MB though
[14:00:13] <eddyb> higher-level decompilation (and analysis on the result) was my main goal
[14:00:26] *** Quits: doener (doener@moz-C68F600D.unity-media.net) (Quit: leaving)
[14:00:27] *** Quits: morganb (morgan_b_@moz-5EAC75A2.hfc.comcastbusiness.net) (Ping timeout)
[14:00:30] <eddyb> Tobba: I mean, the bad memory situation was with the ES6 implementation
[14:00:38] *** Joins: rootnode (rootnode@moz-D8F6EB5B.pools.arcor-ip.net)
[14:00:54] <Tobba> wait, you had it written in JS?
[14:00:57] <eddyb> ES6
[14:01:09] <eddyb> well, I said that already
[14:01:20] <eddyb> traceur-compiler transpiled that to JS which I was running in node.js
[14:01:23] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[14:01:31] <Tobba> oh lord
[14:01:31] <eddyb> Tobba: I didn't have Rust
[14:01:51] *** Quits: goffrie (goffrie@moz-1A16243B.dsl.ncf.ca) (Ping timeout)
[14:01:52] <eddyb> and I was going to use ocaml
[14:01:55] <eddyb> *wasn't
[14:02:07] *** Joins: goffrie (goffrie@BF60BC60.2D0E3299.F2563FDA.IP)
[14:02:44] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[14:03:02] *** Quits: ventos (ventos@moz-70CE2B42.dip0.t-ipconnect.de) (Input/output error)
[14:03:11] <tiffany> this sounds like a haphazard tower made out of toothpicks and bubble gum
[14:03:37] *** Joins: philix (felipe@moz-9FAFA12F.user.veloxzone.com.br)
[14:04:01] <eddyb> tiffany: that's what it was :D
[14:04:09] <Tobba> you know you're dealing with odd software when you have this in your code
[14:04:24] <Tobba> packet2.write_le_u32(0x8E429CD1); packet2.write_le_u32(1); packet2.write_le_u32(0xE824C91D);
[14:04:27] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[14:04:32] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[14:04:42] <Tobba> only one of those values actually do anything other than prevent a freeze
[14:04:43] <eddyb> I see what's it doing
[14:05:17] <eddyb> but... why?
[14:05:20] <Tobba> I dont know
[14:05:25] <Tobba> its all encrypted for some reason
[14:05:36] *** Quits: philix (felipe@moz-9FAFA12F.user.veloxzone.com.br) (Ping timeout)
[14:05:39] <Tobba> and the keys are sent in a horribly obfasucated manner that locks up the client if done wrong
[14:05:46] <eddyb> that is so exciting
[14:05:53] <Tobba> it needs trash values at the end that follow a specific pattern or it just locks up
[14:06:09] <eddyb> Tobba: what *kind* of software is this, even?
[14:06:16] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[14:06:26] <Tobba> the kind that is highly embarassing for a programmer to even be close to
[14:06:40] <eddyb> reminds me of Battle.Net's guard dog thing that scans your RAM and whatnot... but at least that has a purpose
[14:06:46] <eddyb> Tobba: how much can you even tell me?
[14:06:46] <Tobba> in this case its actually for games
[14:06:55] <Sharp> Is it joystick related?
[14:06:55] <Tobba> so its just a hobby thing
[14:07:04] <eddyb> okay, so it is a game
[14:07:26] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[14:08:22] <Tobba> its a game engine with an actually decent game trapped on it due to a 300k line codebase
[14:08:27] <Tobba> we got blend modes last year
[14:09:18] <tiffany> is the protocol deliberately designed to be a nightmare?
[14:09:29] <Tobba> pretty much
[14:10:14] *** Joins: goku12 (gokuldas@11C4E2B.2FF285CA.A2DC32D.IP)
[14:13:01] <Tobba> the bytecode is probably also designed to be as slow as possible
[14:16:02] *** Quits: kp (kp@4F7252F2.CEBBE496.E48CFF63.IP) (Quit: (╯T~T）╯ ︵ ┻━┻)
[14:17:06] *** Joins: morganb (morgan_b_@moz-5EAC75A2.hfc.comcastbusiness.net)
[14:18:19] *** Joins: tcsc (tcsc@moz-5E71BAD9.hsd1.ma.comcast.net)
[14:18:33] *** Quits: FreeFull (freefull@moz-A3210B4C.ppp.as43234.net) (Ping timeout)
[14:19:04] *** Quits: asmyers (quassel@DB6A517B.4C874661.F98C6DDA.IP) (Ping timeout)
[14:20:12] *** Quits: edwardw (edwardw@CA121B1F.E91AB7CD.1D660E71.IP) (Quit: Leaving...)
[14:20:12] *** Parts: goku12 (gokuldas@11C4E2B.2FF285CA.A2DC32D.IP) (Konversation terminated!)
[14:20:40] *** Joins: goku12 (gokuldas@11C4E2B.2FF285CA.A2DC32D.IP)
[14:20:43] *** Joins: edwardw (edwardw@CA121B1F.E91AB7CD.1D660E71.IP)
[14:21:48] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:24:27] *** Quits: edwardw (edwardw@CA121B1F.E91AB7CD.1D660E71.IP) (Quit: Leaving...)
[14:24:31] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[14:25:00] *** jorendorff_away is now known as jorendorff
[14:25:12] *** Joins: matp (matp@moz-16FE1E05.matp.at)
[14:26:18] *** Joins: edwardw (edwardw@BB690835.D7DB55D8.50B134B9.IP)
[14:27:56] *** Quits: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de) (Connection reset by peer)
[14:29:32] *** Joins: mawuli (mawuli@moz-EF4254B1.com.gh)
[14:29:32] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Quit: Sharp)
[14:30:08] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[14:30:24] *** Joins: mye (mye@moz-44FA1913.dip0.t-ipconnect.de)
[14:32:20] *** Joins: wippler (Mibbit@11835E72.D3235946.44213868.IP)
[14:36:44] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[14:37:07] *** Quits: wippler (Mibbit@11835E72.D3235946.44213868.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:37:45] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[14:37:55] *** Joins: aochagavia (Mibbit@moz-C82E8769.static.ziggozakelijk.nl)
[14:38:30] *** Joins: WalrusPony (retep998@moz-DBA66FA0.bstnma.east.verizon.net)
[14:38:49] <aochagavia> I would like to write a program with a GUI to display and navigate the mandelbrot set (http://en.wikipedia.org/wiki/Mandelbrot_set)
[14:38:52] *** Quits: WalrusPony1 (retep998@moz-DBA66FA0.bstnma.east.verizon.net) (Ping timeout)
[14:39:10] <aochagavia> Which library would be good for the graphics?
[14:39:31] <eddyb> right know the best option is OpenGL
[14:39:51] <eddyb> with something like glfw for the platform stuff and hgl to wrap the sharper bits of OpenGL
[14:40:13] <bvssvni> aochagavia: https://github.com/bjz/glfw-rs
[14:40:39] <aochagavia> is there anything less low level?
[14:40:53] <eddyb> not that I'm aware of
[14:41:34] * bvssvni would like to see a rust cairo wrapper
[14:41:35] <aochagavia> ok, thanks!
[14:41:52] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[14:43:21] *** Joins: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net)
[14:43:59] *** Quits: aochagavia (Mibbit@moz-C82E8769.static.ziggozakelijk.nl) (Quit: http://www.mibbit.com ajax IRC Client)
[14:44:24] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[14:44:55] *** Joins: davidillsley (sid18481@moz-5F4AA75A.irccloud.com)
[14:45:08] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[14:45:12] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[14:45:30] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[14:46:15] *** Quits: twi (Adium@752B0356.FC95818.5EFB9497.IP) (Quit: Leaving.)
[14:46:53] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[14:47:31] *** Joins: Rym (y@BC06E343.3B79F2EC.51C6DE68.IP)
[14:48:21] *** Quits: skade (skade@moz-127E304B.ii.uni.wroc.pl) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:48:42] <andrewd18> bvssvni: apparently https://github.com/mozilla-servo/rust-cairo exists but hasn't been touched in a year
[14:49:01] <bvssvni> oh dear
[14:49:07] <bvssvni> think of all the breaking changes
[14:49:14] <andrewd18> there's also https://github.com/jensnockert/cairo.rs which was committed to 2 days ago but I'm not sure of its completion
[14:49:41] *** Quits: marianoguerra (marianogue@moz-EE86C0E9.dip0.t-ipconnect.de) (Ping timeout)
[14:53:01] *** Joins: twi (Adium@752B0356.FC95818.5EFB9497.IP)
[14:54:07] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[14:54:21] *** Joins: skade (skade@DD375DFE.A1F06FC5.9532F1CE.IP)
[14:55:09] *** Joins: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net)
[14:55:57] *** Joins: m-r-r (m-r-r@DA163170.3FD22A6B.CF651168.IP)
[14:56:05] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[14:56:22] <m-r-r> Hello
[14:56:25] <Yurume> huon, haha, 2048-3D! I beat that at the first try (21196), that was actually easier than the original 2048
[14:56:35] <bvssvni> m-r-r: hi!
[14:56:36] <Yurume> but 2147483648 is... pretty mad. XD
[14:56:40] <Yurume> m-r-r, hello
[14:57:28] <m-r-r> I have a trait problem: i'm trying to create a trait that is an iterator of itself. Is it possible ?
[14:58:07] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[14:58:10] <bvssvni> m-r-r: can you post some code using gist.github.com?
[14:58:21] *** Joins: erickt (etryzelaar@F5DC7C0B.E3D2786E.2321E71E.IP)
[14:59:41] <Armavica> hello, do you know of a nice syntax to do ~[2, 3, 5] with std::vec_ng::Vec?  I found std::vec_ng::from_slice(&[2, 3, 5]) but I'd like it prettier...
[14:59:42] *** Quits: erickt (etryzelaar@F5DC7C0B.E3D2786E.2321E71E.IP) (Connection reset by peer)
[14:59:56] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[14:59:57] *** Quits: twi (Adium@752B0356.FC95818.5EFB9497.IP) (Quit: Leaving.)
[15:00:19] <eddyb> Armavica: vec!(2, 3, 5)
[15:00:19] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[15:00:31] *** Joins: skade_ (skade@moz-127E304B.ii.uni.wroc.pl)
[15:00:33] <eddyb> could be vec![2, 3, 5] in the future
[15:00:41] *** Quits: skade (skade@DD375DFE.A1F06FC5.9532F1CE.IP) (Ping timeout)
[15:00:53] <Armavica> eddyb: pretty enough for me, thank you!
[15:01:00] <bvssvni> the macro could use an example: http://static.rust-lang.org/doc/master/std/macros/macro.vec.html
[15:01:21] <Yurume> m-r-r, http://ix.io/b73 this works.
[15:01:40] <Yurume> eddyb, I was writing an RFC about that and stuck with the detailed parts. :(
[15:01:48] <eddyb> about what?
[15:01:48] <Yurume> maybe I should try to implement that first
[15:01:54] <Yurume> allowing vec![2, 3, 5] and others
[15:01:58] <eddyb> someone implemented it
[15:02:03] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[15:02:36] <m-r-r> Here is my code: https://gist.github.com/m-r-r/a5a707532c1617d98916 I don't get an error message, but rustc runs out of stack.
[15:03:01] <Yurume> eddyb, more accurately: allowing [] in place of ()/{}, make the matcher actually match the delimiters, allowing literals in place of ()/{}/[]
[15:03:25] *** Joins: erickt (etryzelaar@49C4075F.3AC15C18.2321E71E.IP)
[15:03:34] <kimundi> Yurume: So IDENT! TT ?
[15:03:41] <Yurume> kimundi, essentially.
[15:03:42] <eddyb> Yurume: glaebhoerl has an implementation for the former
[15:03:45] <kimundi> Yurume: Nice
[15:04:01] <eddyb> kimundi: sadly, macro_rules! becomes ambiguos
[15:04:02] <kimundi> foo! 'c', foo! "blub" etc
[15:04:09] <bvssvni> m-r-r: maybe you don't need to inherit Iterator
[15:04:11] *** Joins: Earnestly (earnest@18162BE0.BA6AC103.30311652.IP)
[15:04:14] <Yurume> kimundi, my initial estimation was that it is not very hard to do, but I'm unsure now due to the matcher changes
[15:04:19] *** Joins: philix (felipe@moz-9FAFA12F.user.veloxzone.com.br)
[15:04:28] <kimundi> eddyb: Eh, it should be folded with regular macro syntax anyway
[15:05:05] <kimundi> I'd still like to see something like `match_two_tt!! {...} (...)`
[15:05:11] <bvssvni> m-r-r: I am surprised this compiles, since impls are not written on traits that way
[15:05:17] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[15:05:32] <kimundi> or `match_two_tt!2 FOO BAR`
[15:06:38] <Yurume> https://gist.github.com/lifthrasiir/f5466db83b4c5c3363d2 the half-baked proposal. and yes, that makes macro_rules! ambiguous, and triggers the matcher changes in turn
[15:06:58] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[15:07:00] <Yurume> (the Motivation section is the only well-thought part)
[15:07:09] <bvssvni> m-r-r: it should be 'for ~Node<N>' or 'for &Node<N>' since Node<N> is not a type
[15:07:11] <m-r-r> bvssvni:  it doesn't really compiles, since rustc crashes...
[15:07:38] <m-r-r> bvssvni: ok, i will try that
[15:07:47] <bvssvni> m-r-r: yeah, I think the inheritance confuses rustc
[15:08:56] *** Joins: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net)
[15:09:32] <kimundi> Yurume: If we can find a way to annotate a macro invocation with the number of token trees to parse that does not look horrible we would win a lot of expressiveness and macro_rules would work similar to today
[15:09:44] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Connection reset by peer)
[15:09:50] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[15:10:06] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[15:10:45] <kimundi> I wonder whether allowing `$` outside of macros to chain them would work... `macro_rules! IDENT $ { ... }`
[15:10:45] <Yurume> kimundi, I actually thought of making IDENT! IDENT disallowed as like today, IDENT! LIT_* was the major concern
[15:11:09] <Yurume> (since it is intended as a "conservative" extension)
[15:11:11] <eddyb> re!r"fooo"
[15:11:21] <eddyb> for regexp. that's what I'd want it for
[15:11:44] <kimundi> Yurume: Makes sense, seeing how foo! bar would not often be useful
[15:12:19] <Yurume> kimundi, foo!"bar" will subsume most uses, indeed
[15:12:23] <m-r-r> bvssvni: i think i should rather try to add an iter() method that returns a Node
[15:12:52] <m-r-r> s/Node/Iterator<Node>/
[15:13:03] <bvssvni> m-r-r: iterators usually contains a mutable state, so I would separate it from Node
[15:13:29] <eddyb> please don't use iterators via trait objects. it gets pretty bad
[15:13:33] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Quit: Textual IRC Client: www.textualapp.com)
[15:13:52] <kimundi> Yurume: being able to write somthing that invokes like `try! {...} catch {...} finally {...}` would be nice though - it would be holy grail of making Rusts macros useable for custom constrol structures or DSL ;)
[15:13:55] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[15:14:07] <bvssvni> better to use generics and make T: Trait?
[15:14:12] *** Joins: alexherbo2 (alexherbo2@moz-AB6EB255.ip-91-121-133.eu)
[15:14:51] <Yurume> kimundi, or `try! {...} catch! {...} finally! {...}`, at the expense of two token lookaheads.
[15:15:01] <kimundi> yeah
[15:15:02] <Yurume> (that actually sounds unambiguous if I was not mistaken!)
[15:15:14] <kimundi> that would work
[15:15:18] *** Joins: intuxicated (intuxicate@5BA9DB47.F2F0EDE4.DA0107E2.IP)
[15:15:19] <eddyb> those aren't two tokens
[15:15:43] <kimundi> oh, right
[15:15:46] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[15:15:55] <kimundi> well
[15:15:57] <eddyb> try! {...} is 3 token *trees*
[15:16:01] <Yurume> eddyb, three, if you count the initial token tree
[15:16:04] <Yurume> ah
[15:16:10] <Yurume> yes, in that sense...
[15:16:26] *** Quits: kris_ (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[15:16:38] *** Joins: kris_ (kris@660E0B7D.D09F7DA9.AD7AD1F8.IP)
[15:16:45] <kimundi> the parser could still parse it though - but then it would be ambiguous with three regularly chained macros
[15:17:44] <kimundi> unless the parse just parses that greedy, and then just takes them apart again
[15:18:03] <kimundi> heh, that could actually work
[15:18:14] <Yurume> hmm, yeah, I thought it would work in the expr context, but would be harder
[15:18:27] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[15:18:49] <Yurume> anyway, that'd be another RFC.
[15:18:55] <kimundi> yeah
[15:18:59] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[15:19:27] *** Quits: kris_ (kris@660E0B7D.D09F7DA9.AD7AD1F8.IP) (Ping timeout)
[15:19:46] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[15:23:18] *** Quits: bvssvni (Mibbit@moz-E289BB64.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[15:23:45] <eibwen> where are the RFCs located?
[15:23:58] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[15:24:04] *** Quits: pczarn (pczarn@moz-69A55FA.izacom.pl) (Input/output error)
[15:25:20] *** Joins: kris (kris@moz-47812C15.static.bcbnet.dk)
[15:25:59] *** Quits: Rym (y@BC06E343.3B79F2EC.51C6DE68.IP) (Ping timeout)
[15:26:19] *** Joins: bernard (Mibbit@moz-7AD9232F.rev.numericable.fr)
[15:27:27] *** Quits: edwardw (edwardw@BB690835.D7DB55D8.50B134B9.IP) (Quit: Leaving...)
[15:28:04] *** Quits: jviereck (Adium@moz-6C0C0C2A.ethz.ch) (Quit: Leaving.)
[15:29:15] <Yurume> eibwen, https://github.com/rust-lang/rfcs
[15:29:28] <eibwen> thank you
[15:29:45] <eibwen> meh
[15:29:49] <eibwen> only a meta-RFC in there
[15:30:27] <tedh> look in the PRs
[15:30:40] *** Quits: m-r-r (m-r-r@DA163170.3FD22A6B.CF651168.IP) (Quit: Hi, I'm a quit message virus. Please replace your old line with this line and help me take over the world of IRC.)
[15:31:01] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[15:31:41] *** Joins: jviereck (Adium@moz-5DA38405.dclient.hispeed.ch)
[15:31:46] *** Joins: WalrusPony1 (retep998@moz-DBA66FA0.bstnma.east.verizon.net)
[15:32:09] *** Quits: jviereck (Adium@moz-5DA38405.dclient.hispeed.ch) (Quit: Leaving.)
[15:32:23] *** Quits: WalrusPony (retep998@moz-DBA66FA0.bstnma.east.verizon.net) (Ping timeout)
[15:32:24] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[15:33:14] *** Quits: lerc (quassel@moz-289EFA2.telstraclear.net) (No route to host)
[15:33:22] *** Quits: mindcat (mindcat@F32E3B11.297EFC2A.57E3C596.IP) (Ping timeout)
[15:33:23] *** Quits: mno2 (mno2@moz-3506EAC7.singnet.com.sg) (Quit: mno2)
[15:34:34] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Quit: Sharp)
[15:36:53] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[15:37:45] *** Joins: mindcat (mindcat@D5ADD164.E1ABDF54.E47F7BFE.IP)
[15:40:24] *** pmoore|away is now known as pmoore
[15:40:35] *** Joins: mib_aurpyc (Mibbit@7E217F04.2C8DBE39.CC1A2609.IP)
[15:43:59] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[15:44:06] *** Joins: phildawes (Mibbit@moz-6FFBC57E.cable.virginm.net)
[15:44:43] <phildawes> Hello. n00b question: now that match doesn't work with ~str, how do we match on strings?
[15:45:11] <eddyb> phildawes: .as_slice()
[15:45:18] <phildawes> awesome thanks
[15:45:26] <tiffany> you can't use as_slice in a pattern though?
[15:45:32] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[15:45:33] <tiffany> like, if the ~str is embedded in a struct
[15:45:45] <eddyb> well... that's a problem
[15:45:52] <tiffany> I imagine what you'd have to do is MyStruct(x) | x.equiv("some string") =>
[15:46:01] <eddyb> we want to fix it in general, by having a generic pointer pattern
[15:46:03] <tiffany> er, whatever the arm guard syntax was
[15:46:05] <tiffany> if x.equiv?
[15:46:19] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[15:46:20] *** Quits: mib_aurpyc (Mibbit@7E217F04.2C8DBE39.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:46:30] *** Quits: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net) (Input/output error)
[15:47:08] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[15:48:05] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[15:49:34] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[15:49:47] *** Quits: phildawes (Mibbit@moz-6FFBC57E.cable.virginm.net) (Quit: http://www.mibbit.com ajax IRC Client)
[15:49:57] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[15:51:25] *** Joins: lpy (lpy@1834E2CB.F09091A8.1348A864.IP)
[15:52:29] <kimundi> rusti: format!("{}", 3.4f32)
[15:52:30] -rusti- 3.4
[15:53:00] <kimundi> rusti: format!("{}", 3.4f64)
[15:53:01] -rusti- 3.4
[15:53:50] *** Joins: mindcat_ (mindcat@D5ADD164.E1ABDF54.E47F7BFE.IP)
[15:54:11] <mindcat_> rusti: "龙".len()
[15:54:12] -rusti- 3
[15:54:27] <mindcat_> rusti: "龙".as_bytes()
[15:54:28] -rusti- [233, 190, 153]
[15:54:31] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[15:54:35] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[15:54:37] *** Joins: Florob (Florob@moz-39532932.de)
[15:57:01] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[15:57:15] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Quit: Taking a nap.)
[15:57:59] *** jorendorff is now known as jorendorff_away
[16:00:51] *** jorendorff_away is now known as jorendorff
[16:01:09] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[16:01:18] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[16:01:35] <eibwen> "龙".len()
[16:01:44] <eibwen> this renders funny in my monospaced font
[16:01:50] *** Joins: mno2 (mno2@moz-3506EAC7.singnet.com.sg)
[16:01:52] <eibwen> it renders as literally 3 characters
[16:02:05] <eddyb> eibwen: console?
[16:02:08] *** Quits: mno2 (mno2@moz-3506EAC7.singnet.com.sg) (Quit: mno2)
[16:02:14] *** Quits: jcleung (Mibbit@C24067BA.D73C0BC2.77E6AA5B.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:02:18] <sp3d> as in, it's decoded as latin-1 instead of utf-8?
[16:02:19] <eddyb> it sounds like zwsp, but I'm not sure
[16:02:27] <kimundi> rusti: format!("{}", ())
[16:02:28] -rusti- ()
[16:02:28] <eibwen> eddyb: no, it's a chinese character
[16:02:36] <eibwen> but rendered with the width of three characters
[16:02:57] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[16:03:00] <kimundi> eibwen: it should be rendered with 2 char width
[16:03:13] <eibwen> mh.. it's three here
[16:03:14] <kimundi> its a double width character
[16:03:28] <eibwen> KVIrc client
[16:03:35] <eddyb> I used to use zwsp to pretend I'm highlighting someone on IRC (whom I'm not supposed to) while actually not doing it
[16:03:40] <sp3d> screenshot? :D
[16:03:57] <eibwen> second (read: minute)
[16:04:00] <eddyb> eibwen: why are you not using Konversation :P? (not that this one doesn't have its share of UCS-2 issues)
[16:04:11] *** Joins: jviereck (Adium@moz-5DA38405.dclient.hispeed.ch)
[16:04:20] *** Joins: chridou (chatzilla@moz-D16DD711.dip0.t-ipconnect.de)
[16:05:50] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[16:06:02] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[16:06:40] <eibwen> sp3d: http://i.imgur.com/jGQCPoD.png 
[16:06:46] <eibwen> eddyb: I dunno
[16:07:05] *** Joins: angdev (angdev@16F167B.4C57D258.D8E8354F.IP)
[16:07:09] <eibwen> the choice of my IRC client wasn't really big, I just took one that worked and had a vertical channel display
[16:07:44] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[16:07:48] <eddyb> for a GUI client, can I say that it's atrocious?
[16:08:13] <eibwen> I had to look up that word :)
[16:08:22] <eibwen> so you suggest Konversation`?
[16:08:42] <eddyb> maybe. that character doesn't render at all here
[16:08:49] <kimundi> What is std::repr:Repr used for?
[16:08:56] <eibwen> mh. konversation doesn't have vertical channel display
[16:09:02] *** Quits: jviereck (Adium@moz-5DA38405.dclient.hispeed.ch) (Quit: Leaving.)
[16:09:13] <eddyb> "龙" == "" here
[16:09:22] <eddyb> eibwen: you mean like a tree instead of tabs?
[16:09:26] <eibwen> yes
[16:09:34] <eibwen> or maybe just vertical tabs
[16:09:48] <kimundi> have you tried hexchat? :P
[16:09:53] <eddyb> xchat has that by default IIRC. and there's new forks of it
[16:09:57] <eddyb> yeah, like hexchat
[16:10:11] <kimundi> I'm using it right now, for what its worth
[16:10:37] <eddyb> eibwen: Konversation has vertical tabs, I just checked
[16:10:44] <eddyb> options are left/top/bottom
[16:10:54] *** Joins: jviereck (Adium@moz-5DA38405.dclient.hispeed.ch)
[16:10:59] <eddyb> you're screwed if you want "right" for some reason :P
[16:11:25] <eibwen> :)
[16:11:35] *** Quits: mindcat_ (mindcat@D5ADD164.E1ABDF54.E47F7BFE.IP) (Quit: Lost terminal)
[16:11:42] <eibwen> kimundi: does hexchat have proper copy/paste support?
[16:11:57] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[16:12:02] <eddyb> what GUI IRC client doesn't?
[16:12:06] <kimundi> eibwen: define proper
[16:12:08] * eddyb is so confused right now
[16:12:11] *** Quits: heftig_ (heftig@moz-31284028.dip0.t-ipconnect.de) (Ping timeout)
[16:12:24] <kimundi> <eibwen> kimundi: does hexchat have proper copy/paste support?
[16:12:32] <kimundi> does that count as proper?
[16:12:35] <kimundi> ;)
[16:12:52] <eibwen> can you do that over multiple lines and with timestamps?
[16:13:01] <kimundi> <kimundi> <eibwen> kimundi: does hexchat have proper copy/paste support?
[16:13:01] <kimundi> <kimundi> does that count as proper?
[16:13:01] <kimundi> <kimundi> ;)
[16:13:01] <kimundi> <eibwen> can you do that over multiple lines and with timestamps?
[16:13:13] <kimundi> lets see if I can enable timestamps for that...
[16:13:25] *** Quits: jviereck (Adium@moz-5DA38405.dclient.hispeed.ch) (Quit: Leaving.)
[16:13:25] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[16:13:35] <eddyb> watch kimundi reconnect
[16:13:43] <kimundi> hm?
[16:14:13] *** Joins: lawrence (lawrence@moz-C57B5688.wireless.utoronto.ca)
[16:14:29] <kimundi> [17:10] <kimundi> ;)
[16:14:29] <kimundi> [17:10] <eibwen> can you do that over mul
[16:14:34] <kimundi> yeah, its a checkbox
[16:14:52] *** Joins: Guest (textual@D6B5DD7E.D8252BC.9532F1CE.IP)
[16:15:17] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[16:17:01] <eibwen> kimundi: thanks :)
[16:17:17] <eibwen> I'll consider it, though I'm tempted to leave it as KVIrc as a good-enough solution
[16:17:27] <eibwen> (as I haven't really found flaws with it yet)
[16:17:34] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[16:17:57] *** Quits: Guest (textual@D6B5DD7E.D8252BC.9532F1CE.IP) (Ping timeout)
[16:18:20] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[16:19:43] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[16:20:45] <kimundi> rusti: format!("{}", ~5u)
[16:20:45] -rusti- 5
[16:20:52] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[16:21:12] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[16:21:15] *** jorendorff is now known as jorendorff_away
[16:21:22] *** Joins: Guest (textual@D6B5DD7E.D8252BC.9532F1CE.IP)
[16:21:58] *** Joins: heftig_ (heftig@moz-31284028.dip0.t-ipconnect.de)
[16:22:01] <kimundi> rusti: format!("{:p}", ~5u)
[16:22:03] -rusti- pastebinned 8 lines of output: http://sprunge.us/ACcd
[16:22:29] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:22:53] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[16:23:55] *** Joins: Mathuin (matthias@moz-8ADC3ECC.rev.sfr.net)
[16:24:00] <Mathuin> hello
[16:24:27] *** Joins: pczarn (pczarn@moz-69A55FA.izacom.pl)
[16:24:39] <Mathuin> I've seen that Rust has a term library for terminal colors, but AFAIK it doesn't support cursor movement yet
[16:24:44] <Mathuin> does it ?
[16:25:20] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Quit: Computer gone to sleep - Zzzz...)
[16:25:34] <eddyb> Mathuin: there's a rust-term or something like that
[16:25:51] <Mathuin> yes, but in the standard lib' ?
[16:26:09] <eddyb> Mathuin: nope, different project
[16:26:33] <eibwen> btw, are there already plans for the next rust package manager?
[16:26:44] <eddyb> eibwen: kinda
[16:26:53] <eddyb> there's an empty repo: rust-lang/cargo
[16:26:55] <Mathuin> I've found rust-term on github this morning, but I was wondering whether one would write minimal cursor movement functions
[16:27:07] <Mathuin> (in stdlib)
[16:28:11] *** Joins: jmgrosen (user@moz-848F6087.sb.sd.cox.net)
[16:28:35] *** Joins: FrozenCow (FrozenCow@moz-54300F7F.upc-j.chello.nl)
[16:28:57] <Mathuin> in fact i'd love to write it. I've done some research, and printing stuff like \033[2E to the terminal isn't exactly *that* hard
[16:29:24] <eddyb> Mathuin: but you need terminfo, AFAIK
[16:29:30] <eddyb> we have a parser, I guess
[16:29:41] *** jorendorff_away is now known as jorendorff
[16:29:53] <Mathuin> why would I need terminfo ?
[16:30:10] <Mathuin> I only need to output \033[whatever
[16:30:11] <eddyb> Mathuin: so it actually works
[16:30:32] <eddyb> one more than one (group of) terminal(s)
[16:30:39] <eddyb> s/^one/on/
[16:30:50] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[16:30:51] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[16:31:09] *** Quits: lpy (lpy@1834E2CB.F09091A8.1348A864.IP) (Client exited)
[16:31:13] <Mathuin> ahh
[16:31:40] <Mathuin> you just popped my bubble :D
[16:32:25] *** Joins: brontron (Mibbit@moz-C8D86903.tc.ph.cox.net)
[16:32:34] <Earnestly> Use tput if you can, then fall back to escapes
[16:32:39] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[16:33:12] <Earnestly> if ! hash tput &> /dev/null; then red='\e[...' else red=$(tput setaf 1); fi, etc...
[16:34:03] <Earnestly> Use tput for all of these terminfo-related escapes, for bold, underline, moving the cursor, etc. instead of relying on escapes
[16:35:11] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[16:36:16] <eibwen> are there compile-pass tests for lints? like e.g., with #[deny(uppercase_variables)];, that let x = 0; still compiles?
[16:38:09] <erickt> hey #rust! just a reminder of the doc sprint at 12pm PDT. Info is here to participate: https://mail.mozilla.org/pipermail/rust-dev/2014-March/009078.html
[16:38:36] *** Quits: skade_ (skade@moz-127E304B.ii.uni.wroc.pl) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:38:42] <eddyb> we need a refactoring sprint :P
[16:38:57] *** Joins: twi (Adium@1A0AD8E6.E7BADBF1.B0C2132F.IP)
[16:39:33] <erickt> eddyb: that sounds like a terrible day for bors
[16:40:55] <eddyb> we need more than just me and pcwalton doing things like these https://github.com/mozilla/rust/pull/12735
[16:41:03] *** Joins: skade (skade@DD375DFE.A1F06FC5.9532F1CE.IP)
[16:41:10] *** Quits: skade (skade@DD375DFE.A1F06FC5.9532F1CE.IP) (Quit: skade)
[16:42:28] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[16:42:29] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[16:44:17] *** Joins: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[16:44:57] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[16:45:11] *** Joins: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[16:46:17] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[16:46:38] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Quit: Leaving)
[16:46:39] *** Quits: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[16:46:56] *** Quits: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com) (Ping timeout)
[16:47:00] *** Quits: rustilite (rustilite@moz-61B073BC.cpe.net.cable.rogers.com) (Ping timeout)
[16:47:12] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[16:47:36] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:48:20] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[16:48:21] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[16:48:45] *** Quits: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP) (Quit: Lost terminal)
[16:48:54] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[16:49:32] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[16:49:33] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[16:49:54] *** Joins: Auv (Jack@moz-341A75C6.cpe.net.cable.rogers.com)
[16:49:55] *** Quits: mye (mye@moz-44FA1913.dip0.t-ipconnect.de) (Quit: mye)
[16:50:45] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[16:51:01] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[16:52:35] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[16:52:43] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[16:52:44] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[16:53:27] *** Joins: mib_1aqbsb (Mibbit@moz-FAE3A1C5.hlrn.qwest.net)
[16:54:07] *** jorendorff is now known as jorendorff_away
[16:54:31] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[16:54:38] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[16:55:12] *** pmoore is now known as pmoore|away
[16:55:30] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[16:55:47] *** Quits: Kxepal (Miranda@moz-253D3FA5.pppoe.mtu-net.ru) (Ping timeout)
[16:55:53] *** Quits: mib_1aqbsb (Mibbit@moz-FAE3A1C5.hlrn.qwest.net) (Quit: http://www.mibbit.com ajax IRC Client)
[16:56:39] *** Quits: sellout (Adium@moz-F3B3B6C3.hlrn.qwest.net) (Quit: Leaving.)
[16:57:51] *** Joins: tautologico (uid22285@moz-A42E5B7B.irccloud.com)
[16:58:22] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Quit: canhtak)
[16:58:52] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[16:59:11] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[16:59:23] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[16:59:31] *** Joins: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[16:59:32] *** Joins: Kxepal (Miranda@moz-2765ECDB.pppoe.mtu-net.ru)
[16:59:41] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[17:00:30] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[17:00:37] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[17:00:39] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[17:00:55] <sinistersnare> huon, https://gist.github.com/sinistersnare/1dbe2f6d39c6afc1566b !
[17:01:00] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[17:01:44] <sinistersnare> and i just fixed that error message to get rid of the (try writing...)
[17:02:05] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[17:02:31] <eddyb> for me, it's always about missing ()
[17:02:33] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[17:03:00] <eddyb> (I intentionally cause that error to replace a field access with a method call)
[17:03:01] *** Joins: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com)
[17:03:04] *** Joins: rustilite (rustilite@moz-61B073BC.cpe.net.cable.rogers.com)
[17:03:39] <sinistersnare> eddyb, so this is good? awesome!
[17:03:46] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[17:04:11] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[17:06:02] *** Quits: lawrence (lawrence@moz-C57B5688.wireless.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:06:35] *** Quits: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP) (Quit: Lost terminal)
[17:06:47] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[17:08:26] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Connection reset by peer)
[17:08:30] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[17:08:55] *** Joins: _Y_ (Mibbit@moz-6D775AAC.dynamic.isp.telekom.rs)
[17:09:15] <sinistersnare> when i did 'git push --set-upstream origin method-error-message' git gave me a permission denied. saying 'could not read from remote repository' any ideas? my origin is set to git@github.com:sinistersnare/rust.git
[17:09:38] *** Quits: twi (Adium@1A0AD8E6.E7BADBF1.B0C2132F.IP) (Ping timeout)
[17:09:44] <eddyb> sinistersnare: was it a timeout?
[17:09:49] *** Joins: twi (Adium@1A0AD8E6.E7BADBF1.B0C2132F.IP)
[17:09:52] *** Joins: edwardw (edwardw@BB690835.D7DB55D8.50B134B9.IP)
[17:10:00] <eddyb> sinistersnare: github's been having weird issues lately
[17:10:11] <sinistersnare> 'please make sure you have the correct access rights and the repository exists' it returns almost immedeately
[17:10:19] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[17:10:21] <sinistersnare> well after a pause 
[17:10:30] <eddyb> try again
[17:10:48] <_Y_> Hi guys, I'm trying to swap two borrowed values, but not all is going according to plan
[17:10:57] <_Y_> https://gist.github.com/DanielFath/9586541
[17:11:27] <_Y_> Basically I get error I can't assign "cannot assign to immutable argument `a` "
[17:11:33] *** Quits: krdln (Mibbit@moz-C271714F.dynamic.chello.pl) (Quit: http://www.mibbit.com ajax IRC Client)
[17:11:49] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[17:11:52] <_Y_> but I said they were mutable borrowed pointers, so what is the problem?
[17:11:54] <eddyb> _Y_: *a = *b;
[17:11:59] <eddyb> also, it won't work
[17:12:10] <eddyb> because Rust is safe and that swap isn't ;)
[17:12:23] <eddyb> (yes, you've been lied to your entire life :P)
[17:12:28] <_Y_> tried that one
[17:12:32] <kimundi> _Y_: swapping two values like this requires unsafe code to implement, which is why we provide it as a library function :)
[17:12:35] <_Y_> didn't work either :(
[17:12:42] <kimundi> _Y_: mem::swap()
[17:12:46] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[17:12:47] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[17:12:49] <eddyb> ^^ only safe way to swap
[17:13:00] <_Y_> mem :: swap
[17:13:01] <eddyb> s
[17:13:02] <eddyb> ssh: connect to host github.com port 22: Connection timed out
[17:13:03] <_Y_> mem :: swap?
[17:13:03] <eddyb> fatal: Could not read from remote repository.
[17:13:06] <eddyb> sinistersnare: ^^ I mean
[17:13:13] <eddyb> _Y_: without the spaces
[17:13:17] <kimundi> rusti: let mut x = 1; let mut y = 10; ::std::mem::swap(&mut x, &mut y); (x, y)
[17:13:18] -rusti- (10, 1)
[17:13:24] <cmr> _Y_: http://static.rust-lang.org/doc/master/std/mem/fn.swap.html
[17:13:32] <sinistersnare> no i thinks its because i didnt setup ssh keys...
[17:13:36] <_Y_> thanks :)
[17:13:40] <_Y_> I'll look into it
[17:13:45] <eibwen> for vectors, use [].swap(0,1)
[17:13:48] <eddyb> sinistersnare: then how did you manage to clone your fork?
[17:14:04] <kimundi> eddyb: you can clone with ssh
[17:14:13] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[17:14:31] <eddyb> kimundi: sinistersnare seems to have setup their SSH
[17:14:39] *** Quits: twi (Adium@1A0AD8E6.E7BADBF1.B0C2132F.IP) (Quit: Leaving.)
[17:14:41] <eddyb> *to not have
[17:14:45] <sinistersnare> idk, life
[17:15:17] <_Y_> @eibwen what would [].swap(0,1) do?
[17:15:18] *** Joins: marianoguerra (marianogue@moz-4DFE2D3.dip0.t-ipconnect.de)
[17:15:31] <eddyb> _Y_: swap the values at indexes 0 and 1
[17:15:31] *** Quits: philix (felipe@moz-9FAFA12F.user.veloxzone.com.br) (Ping timeout)
[17:15:44] <eddyb> _Y_: [] is just referring to a vector/slice
[17:16:04] <kimundi> rusti: let mut v = ~[1, 2, 3]; v.swap(0, 2); v
[17:16:05] -rusti- pastebinned 24 lines of output: http://sprunge.us/HgdB
[17:16:32] <kimundi> rusti: let mut v: Vec<int> = vec!(1, 2, 3); v.swap(0, 2); v
[17:16:33] -rusti- <anon>:16:20: 16:28 error: use of undeclared type name `Vec`
[17:16:33] -rusti- <anon>:16         let mut v: Vec<int> = vec!(1, 2, 3); v.swap(0, 2); v
[17:16:33] -rusti-                              ^~~~~~~~
[17:16:34] -rusti- error: aborting due to previous error
[17:16:34] -rusti- application terminated with error code 101
[17:16:38] <kimundi> bah
[17:16:50] <edwardw> lol
[17:17:00] <kimundi> rusti: let mut v = [1, 2, 3]; v.swap(0, 2); v.to_owned()
[17:17:01] -rusti- pastebinned 15 lines of output: http://sprunge.us/FAGG
[17:17:20] <_Y_> thank you
[17:17:43] <kimundi> rusti: let mut v = [1, 2, 3]; v.swap(0, 2); v.iter().map(|x| *x).collect::<::std::vec_ng::Vec<int>>()
[17:17:44] -rusti- [3, 2, 1]
[17:17:45] <nstdloop> What's the idiomatic way to replace ~str with a Vec?
[17:17:49] *** Joins: krdln (Mibbit@moz-C271714F.dynamic.chello.pl)
[17:17:54] <eddyb> nstdloop: hmm?
[17:18:00] <kimundi> nstdloop: you mean ~[] ?
[17:18:04] <eddyb> ~str will become a new type
[17:18:07] <nstdloop> In the specific case of a string
[17:18:12] <eddyb> it just got overlooked
[17:18:18] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[17:18:24] <nstdloop> I presume that ~str is deprecated to?
[17:18:27] <nstdloop> too*
[17:18:37] <cmr> nstdloop: no since there's no replacement yet
[17:18:39] <eddyb> nstdloop: not yet
[17:18:49] <nstdloop> Ah. Ok.
[17:18:51] <eddyb> someone go wrap Vec<u8> yet
[17:19:14] <eddyb> s/yet/already
[17:19:27] <eddyb> my brain seems to be infested with @
[17:19:30] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[17:19:45] <kimundi> eddyb: I'm busy moving impls in lbstd around :P
[17:19:54] <eddyb> thanks :)
[17:19:59] *** Joins: mye (mye@moz-44FA1913.dip0.t-ipconnect.de)
[17:20:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[17:20:48] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Ping timeout)
[17:21:01] *** Joins: jviereck (Adium@moz-5DA38405.dclient.hispeed.ch)
[17:21:49] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[17:22:12] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[17:23:28] *** Quits: jviereck (Adium@moz-5DA38405.dclient.hispeed.ch) (Quit: Leaving.)
[17:23:39] *** Quits: kris (kris@moz-47812C15.static.bcbnet.dk) (Ping timeout)
[17:26:13] <Tobba> can range operate backwards?
[17:26:20] *** Joins: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP)
[17:26:29] <cmr> .rev()
[17:26:41] <Tobba> range().rev()?
[17:26:42] <nstdloop> Anyone else having trouble cloning src/llvm? ./configure is failing for me
[17:26:46] <cmr> mhm
[17:27:00] <kimundi> rusti: range(0, 5).rev().collect::<::std::vec_ng::Vec<int>>()
[17:27:00] -rusti- [4, 3, 2, 1, 0]
[17:27:09] <kimundi> rusti: range(0, 5).rev().collect::<::std::vec_ng::Vec<_>>()
[17:27:10] -rusti- <anon>:16:9: 16:61 error: cannot determine a type for this bounded type parameter: unconstrained type
[17:27:10] -rusti- <anon>:16         range(0, 5).rev().collect::<::std::vec_ng::Vec<_>>()
[17:27:10] -rusti-                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[17:27:10] -rusti- application terminated with error code 101
[17:27:16] * kimundi is sad
[17:28:09] <cmr> rusti: range(0, 5).rev().collect::<~[int]>()
[17:28:10] -rusti- pastebinned 15 lines of output: http://sprunge.us/MWPj
[17:28:17] <cmr> what a pain!
[17:28:30] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[17:28:40] <eddyb> does rusti use Show now?
[17:28:51] <cmr> yes
[17:29:08] *** Joins: kris (kris@moz-47812C15.static.bcbnet.dk)
[17:29:54] <eddyb> rusti: &0
[17:29:54] -rusti- 0
[17:30:08] <eddyb> hmm, seeing how it's wrapped, that shouldn't work. but I guess it does
[17:30:10] <krdln> rusti: range(0, 5).rev().collect::<std::vec_ng::Vec<_>>()
[17:30:10] -rusti- <anon>:16:9: 16:59 error: cannot determine a type for this bounded type parameter: unconstrained type
[17:30:10] -rusti- <anon>:16         range(0, 5).rev().collect::<std::vec_ng::Vec<_>>()
[17:30:10] -rusti-                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[17:30:10] -rusti- application terminated with error code 101
[17:30:13] <eddyb> rusti: let x = 0; &x
[17:30:14] -rusti- pastebinned 16 lines of output: http://sprunge.us/UbRj
[17:30:23] <eddyb> ^^ we can make that work
[17:30:30] <nstdloop> Is there a fast way to test one file in the rust source code without building the entire compiler for make check every time?
[17:30:36] <eddyb> rusti: println!("{}", {let x = 0; &x})
[17:30:36] *** Quits: jmgrosen (user@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[17:30:37] -rusti- pastebinned 15 lines of output: http://sprunge.us/FGOS
[17:30:41] *** Joins: mindcat_ (mindcat@D5ADD164.E1ABDF54.E47F7BFE.IP)
[17:30:45] <eddyb> wait, no?
[17:30:47] <cmr> eddyb: it should work because &constant has the 'static lifetime.
[17:31:10] <eddyb> right, but not &struct
[17:31:16] <kimundi> nstdloop: not really. you can do make check-stage1-std generally though
[17:31:16] <eddyb> rusti: struct Foo; &Foo
[17:31:17] -rusti- pastebinned 8 lines of output: http://sprunge.us/VWKd
[17:31:27] <mindcat_> I just thought a vector, when shift, just ignore first elem
[17:31:27] <eddyb> rusti: #[deriving(Show)] struct Foo; &Foo
[17:31:28] -rusti- Foo
[17:31:53] <eddyb> huh, I made a static to make that work....
[17:32:12] <cmr> mindcat_: shift removes the first element from a vector, yes.
[17:32:15] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[17:32:16] <kimundi> eddyb: special case
[17:32:23] <kimundi> rusti: &5u
[17:32:24] -rusti- 5
[17:32:30] <kimundi> rusti: let x = &5u; x
[17:32:31] -rusti- pastebinned 16 lines of output: http://sprunge.us/ZFdY
[17:32:34] <mindcat_> and if it waste enough memorys, then do copy and paste
[17:32:45] <kimundi> eddyb: Note the difference
[17:32:50] <eddyb> kimundi: I mean, &Foo
[17:32:57] <cmr> mindcat_: no, it will always do "copy and paste"
[17:33:21] <eddyb> kimundi: &Foo being &'static doesn't seem to apply in my case in libsyntax
[17:33:27] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[17:33:49] <mindcat_> cmr: vector start pointer can't move to next a bit?
[17:33:57] <krdln> mindcat_: there is collections::Deque
[17:34:06] *** Joins: m-r-r (m-r-r@moz-D06911F6.rev.sfr.net)
[17:34:16] <kimundi> mindcat_: It couldn'T, because then you couldn't free the memory anymore
[17:34:26] <Tobba> uhhhh
[17:34:28] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[17:34:30] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (Input/output error)
[17:34:36] <Tobba> while I like the dead_code lint
[17:34:45] <Tobba> it just flagged my gigantic lookup table as dead
[17:34:47] <kimundi> mindcat_: The vector needs to remember where it started
[17:34:48] <Tobba> and printed the whole thing
[17:34:53] <eddyb> haha
[17:34:53] <kimundi> Tobba: Heh
[17:34:57] <mindcat_> kimundi: yes
[17:35:00] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[17:35:22] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[17:35:30] <Tobba> you know you're reverse engineering when you have mystery_decrypt
[17:35:59] <krdln> oh, it's only a trait?
[17:36:16] <eddyb> krdln: two implementors
[17:36:28] <cmr> mindcat_: if it does, how will it get freed afterwards?
[17:36:30] <eddyb> RingBuf and DList (I think?)
[17:36:47] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (Connection reset by peer)
[17:37:01] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[17:37:37] <mindcat_> cmr: when wasted memory is enough
[17:38:00] <mindcat_> cmr: depend somethings
[17:38:12] <eddyb> cmr: I... I stopped trying
[17:38:18] <mindcat_> cmr: depend how to use?
[17:38:19] *** Joins: nkoep (nik@moz-3B478A5A.pool.mediaways.net)
[17:38:30] *** Joins: cceckman (cceckman@C60A988D.87CA334A.DDE5D3F6.IP)
[17:38:31] <eddyb> in other news, I'm going green :D
[17:38:45] <mindcat_> cmr: depend requirements
[17:39:12] <cmr> mindcat_: so it needs to keep track of how many it has shifted, which means yet another word....
[17:39:15] <kimundi> eddyb: libgreen, or did you stop running your CPU under high load ;)
[17:39:26] <eddyb> neither, travis passed
[17:39:37] <cceckman> Hey folks. I'm getting an error asking for the ty_visitor language item; can anyone explain (or point me to some docs explaining) what this is?
[17:39:38] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Quit: Computer gone to sleep - Zzzz...)
[17:39:54] <eddyb> cceckman: what are you doing?
[17:40:06] <eddyb> that stuff is outdated and potentially getting ripped out
[17:40:07] <cceckman> Trying to convert a &mut StructName to a &mut TraitName, with #[no_std]
[17:40:17] <cceckman> eddyb: OK. I'm working under 0.9 right now
[17:40:26] <cmr> cceckman: TyVisitor is one of those fun, ancient things: http://static.rust-lang.org/doc/master/std/intrinsics/trait.TyVisitor.html
[17:40:31] <cmr> you should probably just copy it right out
[17:40:33] *** Quits: StarLight (StarLight@moz-2554AC97.dynamic.avangarddsl.ru) (Ping timeout)
[17:40:39] <eddyb> (from the right version of libstd)
[17:40:41] <cmr> it's how reflection works, essentially.
[17:40:51] <eddyb> cceckman: have you written {:?} anywhere?
[17:40:51] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[17:40:56] <cceckman> eddyb: Nope.
[17:40:59] <eddyb> hmpf
[17:41:01] <cmr> eddyb: no_std :P
[17:41:19] <eddyb> I guess we used to always output visitor glue
[17:41:20] <Sharp> Wait, reflection is out?
[17:41:28] <eddyb> Sharp: will be. why?
[17:41:31] <Sharp> Yay!
[17:41:34] <eddyb> its current state is pretty bad
[17:41:52] *** Quits: krdln (Mibbit@moz-C271714F.dynamic.chello.pl) (Quit: http://www.mibbit.com ajax IRC Client)
[17:41:55] <cceckman> cmr: So when you say "copy it right out", how do you mean?
[17:41:55] <eddyb> I want something more generic and less pointer-magicky, if we add it again
[17:42:00] <mindcat_> cmr: what? can we do *(start pointer) - *(current pointer)?
[17:42:12] <eddyb> cceckman: copy the TyVisitor trait from libstd
[17:42:19] <Sharp> Nah, I'm glad it's out :P  Just hadn't heard about that planned change.
[17:42:25] <cmr> mindcat_: we don't store start pointer separate from current pointer.
[17:42:31] <eddyb> Sharp: not yet out
[17:42:36] <eddyb> cceckman: any chance you could use master?
[17:42:55] <Sharp> "On the way out," then :)
[17:43:10] <cmr> eddyb: hilariously, visitor_object_ty asks for the lang item but seems to never use it.
[17:43:12] <mindcat_> so it seem I got bad idea
[17:43:22] <eddyb> cmr: oh I know it's bad
[17:43:28] <cceckman> eddyb: I'd like to, but other devs on the project are using 0.9... we're working on slightly different scenarios, so I might be able to, just makes my work less useful to them
[17:43:40] <eddyb> just switch the project to master :P
[17:43:43] *** Quits: Mathuin (matthias@moz-8ADC3ECC.rev.sfr.net) (Quit: Lost terminal)
[17:44:03] <eddyb> there's no point in using an unsupported version that has known issues
[17:44:08] *** Joins: sevandk (ksev@moz-71F7E457.cable.teksavvy.com)
[17:44:18] <cceckman> They can't use master, alas. Their work is a kernel core for an OS class; I'm trying to make it a working kernel. They have to value stability so they can grade, etc.
[17:44:18] <eddyb> rustilite: #[no_std]; fn start(_: i32, _: **i8) -> i32 {trait Foo {} impl Foo for () {} let x = &() as &Foo;0}
[17:44:19] -rustilite- error: main function not found
[17:44:19] -rustilite- error: aborting due to previous error
[17:44:19] -rustilite- application terminated with error code 101
[17:44:29] <eddyb> rustilite: #[no_std]; fn main(){} #[start] fn start(_: i32, _: **i8) -> i32 {trait Foo {} impl Foo for () {} let x = &() as &Foo;0}
[17:44:29] <mindcat_> the vector must good for somethings
[17:44:30] -rustilite- <anon>:1:33: 1:121 error: start function expects type: `fn(int, **u8) -> int`: expected int but found i32
[17:44:30] -rustilite- <anon>:1 #[no_std]; fn main(){} #[start] fn start(_: i32, _: **i8) -> i32 {trait Foo {} impl Foo for () {} let x = &() as &Foo;0}
[17:44:30] -rustilite-                                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[17:44:30] -rustilite- error: aborting due to previous error
[17:44:31] -rustilite- application terminated with error code 101
[17:44:37] <cmr> eddyb: int, not i32
[17:44:43] <eddyb> rustilite: #[no_std]; fn main(){} #[start] fn start(_: int, _: **i8) -> int {trait Foo {} impl Foo for () {} let x = &() as &Foo;0}
[17:44:43] -rustilite- <anon>:1:33: 1:121 error: start function expects type: `fn(int, **u8) -> int`: expected u8 but found i8
[17:44:43] -rustilite- <anon>:1 #[no_std]; fn main(){} #[start] fn start(_: int, _: **i8) -> int {trait Foo {} impl Foo for () {} let x = &() as &Foo;0}
[17:44:44] -rustilite-                                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[17:44:44] -rustilite- error: aborting due to previous error
[17:44:45] -rustilite- application terminated with error code 101
[17:44:47] <eddyb> cmr: I can read :D
[17:44:51] <eddyb> rustilite: #[no_std]; fn main(){} #[start] fn start(_: int, _: **u8) -> int {trait Foo {} impl Foo for () {} let x = &() as &Foo;0}
[17:44:52] *** Joins: StarLight (StarLight@moz-B4A68CC7.dynamic.avangarddsl.ru)
[17:44:54] <eddyb> sorry for the spam btw
[17:44:54] -rustilite- pastebinned 20 lines of output: http://ix.io/b79
[17:45:05] <sinistersnare> ok i have the PR window open, do i just submit it?
[17:45:11] * mindcat_ nevermind
[17:45:12] <edwardw> in the march meetup video, pcwalton talked about using workqueue to render dom nodes in parallel. isn't it also useable for ast nodes parsing?
[17:45:13] <eddyb> sinistersnare: yupp
[17:45:17] <sinistersnare> :) yay
[17:45:23] <sinistersnare> https://github.com/mozilla/rust/pull/12937
[17:45:24] <eddyb> edwardw: how would that work?
[17:45:31] <sinistersnare> no its wrong!
[17:45:32] <eddyb> edwardw: parsing is a linear process
[17:45:44] <sinistersnare> ive messed everything up! i forgot to delete a thing!
[17:45:53] <edwardw> eddyb: I don't know. it just strikes me as possible
[17:45:54] <eddyb> sinistersnare: force push
[17:46:07] <eddyb> edwardw: how does a state machine strike you as parallelizable?
[17:46:13] <eddyb> well, not exactly state machine
[17:46:15] <eddyb> but a linear process
[17:46:17] <cceckman> eddyb: ok. Yep, that's what I was trying to do, apparently just doesn't work in 0.9 without ty_visitor. Will branch my project to master. Thanks for the help (cmr too!)
[17:46:32] *** Joins: tomh- (uid501@moz-E77DEB21.irccloud.com)
[17:46:35] <edwardw> eddyb: I really don't know, just some random crazy thoughts :P
[17:46:46] <eddyb> edwardw: what you could do is parse modules in parallel
[17:46:59] <eddyb> edwardw: but it won't get you much
[17:47:06] <edwardw> ah ok
[17:47:09] <cmr> parsing is pretty fast, as it stands.
[17:47:23] <eddyb> sinistersnare: I'd suggest using `git gui`, makes it easy to amend and force push ;)
[17:47:29] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:47:33] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[17:47:43] <cmr> but it could indeed scan for blocks (just looking at {'s and }'s) and parse mods separately.
[17:47:51] <eddyb> sinistersnare: you can also see the diffs before committing them and you can pick individual lines
[17:47:51] <cmr> any top-level item really
[17:47:56] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[17:48:03] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[17:48:27] <sinistersnare> ok fixed it, sorry about that
[17:48:39] <eddyb> sinistersnare: you could've amended the first commit
[17:48:39] <sinistersnare> How do i 'squash' it into one commit?
[17:48:45] <sinistersnare> oh...
[17:48:51] <eddyb> that's what I was saying =))
[17:49:04] <sinistersnare> oh sorry :(
[17:49:06] <eddyb> sinistersnare: if you don't want to break anything, git reset HEAD~1
[17:49:09] <kimundi> git rebase -i is helpful for something like that :)
[17:49:19] <eddyb> sinistersnare: then use git gui to amend the first commit with that change
[17:49:19] <sinistersnare> ok im confused. what do i do now? :=\
[17:49:24] <sinistersnare> ok ill do that
[17:49:32] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:49:35] <eddyb> kimundi: -i is not entry level :P
[17:49:38] <tomh-> is rust's feature set complexity similar to scala?
[17:49:45] <eddyb> not yet
[17:49:46] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[17:49:53] <sinistersnare> git gui does not do anything for me
[17:50:09] <kimundi> eddyb: I find a nice bullet list of options friendly than having to remember an open set of possible commands :P
[17:50:13] <eddyb> sinistersnare: it should start a gui where you can do a lot of things from
[17:50:14] *** Quits: bernard (Mibbit@moz-7AD9232F.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[17:50:26] <tomh-> how is the compiler performance of rust?
[17:50:26] <sinistersnare> it says its not a git command, and it recommends some other commands
[17:50:35] <eddyb> sinistersnare: then install it
[17:50:39] <sinistersnare> ok
[17:50:44] *** Joins: mib_g670yd (Mibbit@moz-7AD9232F.rev.numericable.fr)
[17:50:48] <cmr> tomh-: not bad, but still has lots of room for improvement.
[17:51:01] <eddyb> sinistersnare: it seems you don't have the full git package set installed
[17:51:13] <sinistersnare> it seems so, its just what apt-get install git did
[17:51:16] <tomh-> is it at least faster than scala's compiler in your experience (if you have experience with scala's compiler)?
[17:51:17] *** Quits: alinab (alina@moz-94EAE39D.alinab.org) (Quit: leaving)
[17:51:19] <sinistersnare> IIRC i think i did that
[17:51:23] * cmr has never used scala
[17:51:32] *** Joins: krdln (Mibbit@moz-C271714F.dynamic.chello.pl)
[17:51:36] <tomh-> ok
[17:51:45] <eddyb> tomh-: the compiler takes a few minutes to compile itself
[17:51:53] <tomh-> that sounds pretty sweet
[17:51:55] <eddyb> tomh-: that is, producing LLVM IR. optimizing that takes longer
[17:51:57] <sinistersnare> ok now how do i use git gui to make the commits into 1
[17:52:06] <eddyb> sinistersnare: did you reset HEAD~1?
[17:52:09] <sinistersnare> yes
[17:52:15] <tomh-> well I guess optimization is then as fast as other LLVM stuff right
[17:52:21] <eddyb> sinistersnare: choose "amend last commit"
[17:52:25] <cmr> eddyb: maybe a few minutes for your slow computer :P
[17:52:25] <eddyb> tomh-: like clang
[17:52:44] <sinistersnare> its showing some alex chriton PR
[17:52:45] <cmr> it's like 3 minutes for a complete librustc build here.
[17:52:51] <sinistersnare> but my code is still there 
[17:52:51] <eddyb> sinistersnare: huh lol
[17:52:56] <tomh-> I guess I should try to install the rust compiler and check it out :)
[17:53:02] <eddyb> sinistersnare: did you do reset HEAD~1 twice?
[17:53:04] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[17:53:05] *** Joins: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net)
[17:53:11] <sinistersnare> crap, it looks like its gonna add all the stuff from commits i missed? i guess i did hit it twice
[17:53:18] <cmr> tomh-: there are nightlies for some platforms: https://github.com/mozilla/rust/wiki/Doc-packages,-editors,-and-other-tools
[17:53:22] <sinistersnare> ... darnit
[17:53:26] <eddyb> sinistersnare: it's still fine, just switch to "new commit" instead of "amend"
[17:53:33] <sinistersnare> oh ok
[17:53:43] <eddyb> sinistersnare: put in the message for the first commit and pick both changes
[17:53:50] <sinistersnare> ok
[17:53:57] <tomh-> cmr: currently I'm using my windows machine, seems a bit more complicated there to install it
[17:54:10] <eddyb> sinistersnare: commit, then push, and tick "force update"
[17:54:12] <cmr> very much so, yes.
[17:54:20] <nstdloop> Is there a way to make make not rebuild llvm every time.... 
[17:54:25] <eddyb> sinistersnare: it gets very easy after the first few times
[17:54:30] <eddyb> nstdloop: how did you manage that?
[17:55:09] *** Quits: nfroidure (nfroidure@moz-5D77108B.w90-18.abo.wanadoo.fr) (Quit: Ex-Chat)
[17:55:12] <eddyb> nstdloop: one solution (if you accidentally make it recompile often) is to install ccache to cache almost the entire LLVM compilation
[17:55:21] <tomh-> I have very little experience with pointers and memory management, will it be hard to pick up rust?
[17:55:22] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[17:55:31] <nstdloop> eddyb: I'll give that a look.
[17:55:49] <eddyb> tomh-: not very, as long as you're ready to accept new concepts ;)
[17:56:00] <tomh-> sure, I should be :)
[17:56:00] *** Joins: nfroidure (nfroidure@moz-5D77108B.w90-18.abo.wanadoo.fr)
[17:56:01] <sinistersnare> eddyb, i tick "force overwrite existing branch (may discard changes)" ?
[17:56:07] <eddyb> sinistersnare: yeah
[17:56:22] <sinistersnare> hey look its only one commit now!
[17:56:24] <eddyb> I'm still not aware of a language with lifetimes like in Rust
[17:56:50] <eddyb> sinistersnare: that's how I do it :P
[17:56:51] <cmr> eddyb: we stole them from cyclone
[17:56:57] <cmr> nothing in rust is new.
[17:57:01] <eddyb> cmr: I think I tried to look that up
[17:57:04] <sinistersnare> that was fun! well, is my commit good?
[17:57:07] <eddyb> wikipedia wasn't really helpful
[17:57:13] <kimundi> cmr: Apart from parts of borrowchk afaik
[17:57:15] <cmr> http://en.wikipedia.org/wiki/Cyclone_%28programming_language%29 http://cyclone.thelanguage.org/
[17:57:17] <sinistersnare> do i need to do anything else now that im a new contributor?
[17:57:27] <kimundi> sinistersnare: Not really
[17:57:32] <eddyb> sinistersnare: ask for "r?" in #rust-internals, usually
[17:57:35] <cmr> sinistersnare: you need to pester bstrie to give you the contributor flair on reddit :)
[17:57:46] <eddyb> hehe
[17:58:01] <Tobba> is there any way to get a mutable vector which contains a part of a vector?
[17:58:09] <Tobba> otherwise I'll need to modify my decryption functions
[17:58:14] <eddyb> (well, I've learned how to use rebase -i and I'm getting pretty good at fixing up commits from the past. that actually made me split my changes into more commits)
[17:58:19] <cmr> Tobba: &mut [T], a mutable slice?
[17:58:21] <eddyb> Tobba: &mut [T]
[17:58:30] <Tobba> I need a section of it
[17:58:47] <Tobba> only a part of the vector is encrypted and my decryption function just chews through the whole thing
[17:58:52] <sinistersnare> eddyb, ok :p
[17:58:57] *** Joins: jmgrosen (user@moz-848F6087.sb.sd.cox.net)
[17:58:58] <sinistersnare> cmr, good! thats exciting
[17:59:00] <cmr> yes, &mut [T]
[17:59:12] <cmr> you can say v.mut_slice(start, end)
[17:59:14] <eddyb> cmr: oh, I remember now, regions in cyclone are more like arenas
[17:59:29] <Tobba> mut_slice was what I was looking for
[17:59:42] *** Quits: kris (kris@moz-47812C15.static.bcbnet.dk) (Ping timeout)
[17:59:49] *** Joins: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[17:59:49] *** ChanServ sets mode: +ao brson brson
[18:00:52] *** Quits: jmgrosen (user@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[18:00:53] <cmr> eddyb: did you read the paper?
[18:01:05] *** Quits: lbonn (lbonn@moz-FBFAA8BC.rev.sfr.net) (Quit: leaving)
[18:01:20] <eddyb> cmr: did I make my rustc compile yet? I don't have time for papers!
[18:01:39] <eddyb> cmr: it is something if they manage to check at least some of them
[18:01:41] *** Quits: jackneill (jackneill@moz-8FCF2BD.pool.digikabel.hu) (Ping timeout)
[18:01:57] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[18:02:16] <eddyb> so I guess rust lifetimes are a refinement of Cyclone regions (minus the builtin arena behavior - which we might get for stack scopes)
[18:02:25] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[18:02:30] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[18:02:44] <eddyb> i.e. 'a: {let foo = {let bar = &'a Bar; ... bar}; ...}
[18:03:48] *** Joins: jackneill (jackneill@moz-51ABD5E3.pool.digikabel.hu)
[18:04:20] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[18:05:55] *** Quits: erickt (etryzelaar@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[18:06:25] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[18:06:40] *** Quits: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net) (Ping timeout)
[18:06:44] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (Quit: Leaving...)
[18:08:17] *** Quits: murph (murph@moz-A933BAE1.oracle.com) (Client exited)
[18:08:23] <eibwen> are there compile-pass tests for lints? like e.g., with #[deny(uppercase_variables)];, that let x = 0; still compiles?
[18:08:29] *** Joins: murph (murph@moz-A933BAE1.oracle.com)
[18:08:59] <cmr> I don't actually think there are.
[18:09:15] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[18:09:33] <Yurume> rusti: format!("{:x} {:X} {:#x} {:#X}", 42, 42, 42, 42)
[18:09:35] -rusti- 2a 2A 0x2a 0x2A
[18:09:56] <Yurume> the last one is not `0X2A`, right? (radix prefix is case-sensitive)
[18:09:57] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[18:10:04] *** Quits: sinistersnare (sinistersn@moz-7E48AC93.washdc.fios.verizon.net) (Ping timeout)
[18:10:12] <cmr> correct
[18:10:17] <nstdloop> Why does rustc use so much memory to build itself?
[18:10:48] <cmr> nstdloop: because it's a lot of code.
[18:11:01] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[18:11:06] <cmr> that and inefficiencies.
[18:11:08] <kimundi> nstdloop: Can't answer you why, but I can show you where: http://huonw.github.io/isrustfastyet/mem/
[18:11:31] <cmr> (the bencher is back up btw, new harddrive came in)
[18:11:59] <eddyb> I am going to fix a lot of that btw
[18:12:06] <eddyb> (if someone else doesn't steal the spotlight)
[18:12:21] <eddyb> already identified a big garbage source in type checking
[18:12:28] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[18:12:42] <eddyb> needs some redesign though, not that easy to fix
[18:13:40] *** Joins: cadence (Mibbit@moz-10A3B59C.sub-70-209-23.myvzw.com)
[18:13:53] *** Joins: sinistersnare (sinistersn@moz-7E48AC93.washdc.fios.verizon.net)
[18:14:10] <cadence> Just updated and now I'm seeing: error: macro undefined: 'debug'
[18:14:20] *** Quits: jschuster (jschuster@moz-72EFA7.hsd1.ma.comcast.net) (Quit: Leaving)
[18:14:24] <cadence> Do I need to import something?
[18:14:27] <eddyb> cadence: need to import liblog
[18:14:36] <cmr> cadence: https://github.com/mozilla/rust/pull/12791
[18:14:49] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[18:14:55] <Kroisse> http://static.rust-lang.org/doc/master/log/index.html
[18:15:23] <cadence> Thanks!
[18:15:42] <enix> What does the '@' in "let mut count_x @ mut count_y = 0;" do (from vec_ng.rs)? That doesn't look like a managed box to me.
[18:16:07] <eibwen> is the rustc build parallelizable via make -j <count>?
[18:16:16] <cmr> enix: in patterns, it binds names to a pattern result.
[18:16:17] <eddyb> some libraries
[18:16:18] <cmr> eibwen: slightly.
[18:16:42] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[18:17:10] *** Joins: dylanb (Mibbit@E6EBCD3B.BF465F54.B0C1FFA1.IP)
[18:17:18] <cadence> On builds, the build time has really improved from a few months ago.
[18:17:54] <cadence> I was stunned when I started a build @7156ded and it was finished when I checked up on it a few minutes later!
[18:18:01] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[18:18:02] *** Joins: soundczech (nimu@AFA757FE.C2437F4F.DC877F3B.IP)
[18:18:16] <enix> so, in this particular example does that result in just setting both count_x and count_y to 0?
[18:18:39] <eddyb> yeah
[18:18:51] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[18:19:39] <Yurume> rusti: format!("{: <5} {:!<5} {:z<5}", 7, 8, 9) // I never knew that!
[18:19:39] -rusti- 7     8!!!! 9zzzz
[18:19:52] <enix> ah, ok, cool, thanks
[18:20:00] <eddyb> I only knew about 0
[18:20:08] <Yurume> rusti: format!("{:+<5}", 10) // this may also work depending on the parser...
[18:20:09] -rusti- 10+++
[18:20:10] <eddyb> (before a few weeks ago)
[18:20:14] <Yurume> :o
[18:20:20] *** Joins: arielb1 (tali@moz-9CB2889B.red.bezeqint.net)
[18:20:26] <nstdloop> What exactly does "oxidize" mean?
[18:20:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[18:20:47] <eddyb> compile_and_link
[18:21:02] <nstdloop> I like it
[18:21:46] <arielb1> won't datasort refinements solve the virtual-fn problem?
[18:21:58] <eibwen> ohh. oxidize as in rust, now I get it :D
[18:22:16] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[18:22:32] <eddyb> arielb1: how would they?
[18:22:45] *** Joins: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de)
[18:22:50] *** Joins: WalrusPony (retep998@moz-DBA66FA0.bstnma.east.verizon.net)
[18:22:51] <eddyb> the problem is more of a layout optimization than anything else
[18:23:02] <arielb1> declare DomNode as a big enum
[18:23:06] <arielb1> (DomBase)
[18:23:20] <arielb1> or whatever
[18:23:26] *** Quits: WalrusPony1 (retep998@moz-DBA66FA0.bstnma.east.verizon.net) (Ping timeout)
[18:23:31] <eddyb> arielb1: doesn't really work
[18:23:51] <arielb1> why?
[18:24:00] <eddyb> because you need each allocation to be different
[18:24:24] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[18:24:25] <arielb1> niko's initial proposal says its possible
[18:24:41] <sinistersnare> random question: is it possible to run the rust tests in parallel?
[18:25:01] <eddyb> datasort refinements are more complicated and probably overkill (just like virtual fn) for a *layout optimization*
[18:25:11] <edwardw> sinistersnare: make -j4 ***
[18:25:17] *** Joins: ganitsu1 (ganitsu@moz-8758C797.dialup.adsl.anteldata.net.uy)
[18:25:19] <eddyb> doesn't help cfail AFAIK
[18:25:36] <arielb1> but we probably want them
[18:25:38] <arielb1> anyway
[18:25:42] <eddyb> arielb1: we already have an RFC for "fat struct" (confusing name. opposite of "fat pointer") which handles the issue
[18:25:45] <sinistersnare> edwardw, interesting, just wondering :P
[18:25:45] <nstdloop> Is there a "no rustdoc" option?
[18:25:51] *** Quits: ganitsu (ganitsu@moz-2760BD4E.dialup.adsl.anteldata.net.uy) (Ping timeout)
[18:26:11] <eddyb> arielb1: refinements are likely more complicated than DST or VG
[18:26:18] <arielb1> VG?
[18:26:21] <eddyb> good luck getting them in 1.0
[18:26:23] <edwardw> sinistersnare: also good luck to you with the PR. bors gave me some trouble lately
[18:26:40] <eddyb> arielb1: variadic generics
[18:27:09] <sinistersnare> edwardw, o.O ok ill hope luck is on my side
[18:27:13] *** Quits: angdev (angdev@16F167B.4C57D258.D8E8354F.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[18:28:11] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[18:28:54] <arielb1> the thing is, we probably want some kind of datasort refinements
[18:29:17] <arielb1> at least tree-style ones
[18:29:52] <eddyb> arielb1: most of the problems those solve are syntax sugar
[18:30:15] <eddyb> the "it would be nice if I could keep this clean and reuse the enum" kind of things
[18:30:40] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[18:30:54] *** Joins: quiggle (Mibbit@7E217F04.2C8DBE39.CC1A2609.IP)
[18:30:56] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[18:31:04] *** Joins: jakub (jakub@BF138CC2.4C95477C.CBC7865F.IP)
[18:31:15] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[18:31:45] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[18:31:55] <arielb1> well they do solve the DOM problem
[18:32:23] *** Quits: ganitsu1 (ganitsu@moz-8758C797.dialup.adsl.anteldata.net.uy) (Quit: WeeChat 0.4.3)
[18:32:33] <eddyb> arielb1: by being overkill
[18:32:51] <arielb1> on the other side it could be said that open-ended traits are overkill
[18:32:53] <eddyb> and you still probably need unsafe code to make it fully work
[18:32:54] <sinistersnare> are make test results stored in a file somewhere?
[18:33:05] <arielb1> unsafe code in the allocators
[18:33:11] <arielb1> is there such a thing as a safe allocator?
[18:33:13] *** Joins: ganitsu (ganitsu@moz-8758C797.dialup.adsl.anteldata.net.uy)
[18:33:13] <sinistersnare> because i think ive come across a few unused imports i can remove?
[18:33:21] *** Joins: nstdloop1 (Jonathan@moz-27F8BE93.hsd1.ct.comcast.net)
[18:33:37] <eddyb> arielb1: you're suggesting a semantic feature for an *optimization* problem
[18:33:42] <arielb1> well an external linked-list allocator would probably be
[18:33:44] *** Joins: sellout (Adium@moz-F3B3B6C3.hlrn.qwest.net)
[18:34:17] *** Quits: nstdloop1 (Jonathan@moz-27F8BE93.hsd1.ct.comcast.net) (Quit: Lost terminal)
[18:34:20] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (Quit: Leaving...)
[18:34:26] <eddyb> plus, interior vtables can allow for C++ interop
[18:34:50] <eibwen> error: linking with `cc` failed: exit code: 1
[18:35:07] <eibwen> note: rust/x86_64-unknown-linux-gnu/stage1/lib/rustlib/x86_64-unknown-linux-gnu/lib/libnative-0915f5d5-0.10-pre.so: undefined reference to `rust_dirent_t_size'
[18:35:17] <eibwen> rust/x86_64-unknown-linux-gnu/stage1/lib/rustlib/x86_64-unknown-linux-gnu/lib/librustc-6ccece0c-0.10-pre.so: undefined reference to `LLVMRustAddModuleFlag'
[18:35:18] <eibwen> [...]
[18:36:17] <eibwen> haven't changed anything relevant to that IMO
[18:36:37] *** Joins: lerc (quassel@moz-289EFA2.telstraclear.net)
[18:36:40] <eibwen> I'm not sure what this error means
[18:36:51] <eddyb> it failed to update some stuff
[18:36:57] <kimundi> eibwen: run ./configure again, your llvm is outdated
[18:37:01] <edwardw> Finally, DST has a bug open
[18:37:09] <edwardw> s/bug/ticket
[18:37:38] *** Joins: nstdloop (Jonathan@moz-27F8BE93.hsd1.ct.comcast.net)
[18:37:46] <burntsushi> are there any tools that generate a ctags-like file for Rust?
[18:37:57] <eddyb> I've seen at least one or two
[18:38:30] <eibwen> kimundi: I think I ran ./configure right before  the make...
[18:38:33] <eibwen> I'll try again
[18:39:54] <burntsushi> eddyb: https://github.com/nikomatsakis/rust-etags -- i think that'll work
[18:40:00] *** Joins: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[18:40:07] <eddyb> burntsushi: I think there is something in-tree
[18:40:11] <eibwen> 263c617d66005999afa27d00809c1568a26112ee src/llvm (remotes/origin/rust-llvm-2014-02-25)
[18:40:13] <burntsushi> yup, that points to it
[18:40:18] <eibwen> is that right?
[18:40:24] <bollu> Question - I'm not able to find rustc anymore, and make install doesn't seem to be installing rustc. help?
[18:40:35] *** Quits: _Y_ (Mibbit@moz-6D775AAC.dynamic.isp.telekom.rs) (Quit: http://www.mibbit.com ajax IRC Client)
[18:40:36] <arielb1> The rust type-system is complicated enough with just DSTs
[18:40:54] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[18:41:04] <arielb1> and refinements are important
[18:41:18] <nstdloop> So what exactly makes DSTs cause so many problems?
[18:41:20] *** Quits: quiggle (Mibbit@7E217F04.2C8DBE39.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:41:22] <bollu> eddyb: any ideas?
[18:41:32] *** Quits: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de) (Input/output error)
[18:42:02] <kimundi> Is the person that wrote the new Hasher stuff online?
[18:42:05] *** Quits: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net) (Quit: telotortium)
[18:42:09] <chridou> Hello, i have a noob question: When i say "use std::vec_ng;" then why does "vec_ng::Vec::new()" cause the compiler to abort with " error: use of undeclared module `vec_ng::Vec`"? Thanks.
[18:42:12] <eddyb> kimundi: erickt?
[18:42:30] <bollu> where's rustc located? >_<;
[18:42:33] <eddyb> chridou: import Vec directly
[18:42:38] <eddyb> bollu: ./x*/stage1/bin
[18:42:44] <eddyb> and stage2
[18:42:52] <bollu> eddyb: thanks.
[18:43:52] <bollu> eddyb: so I'll just copy rustc and rustdoc into /usr/bin ?
[18:44:08] <eddyb> maybe
[18:44:18] <eddyb> I symlinked ./x*/stage1/bin/rustc to ~/bin/rustc
[18:44:21] *** Joins: angdev (angdev@16F167B.4C57D258.D8E8354F.IP)
[18:44:29] <bollu> eddyb: hm that works too
[18:44:40] <bollu> I'm still not sure how the older version got wiped
[18:44:42] <bollu> *shrug*
[18:45:12] <chridou> eddyb: thanks
[18:46:24] <bollu> ../src/main.rs:1:1: 1:1 error: can't find crate for `std` I'm not sure what that means
[18:46:41] <eddyb> you copied it instead of making a symlink?
[18:47:13] <bollu> eddyb: yep.
[18:47:19] <bollu> eddyb: okay, will symlink
[18:47:22] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:47:45] <edwardw> bollu: I just use bash alias, another option
[18:48:20] <bollu> edwardw: I'd prefer a symlink :)
[18:48:28] <edwardw> sure :P
[18:48:53] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[18:49:02] <bollu> what's the "correct" method to install?
[18:49:29] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:49:35] <edwardw> I brew install a relatively stable rust and shell alias my local build
[18:50:35] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[18:50:38] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[18:50:46] <bollu> hm, warn! is deprecated?
[18:50:55] <bollu> or moved someplace else?
[18:51:05] <edwardw> liblog?
[18:51:20] <bollu> edwardw: ty
[18:51:22] *** Quits: IanCormac841 (User@6EF0B921.64D641E5.67DFF8B4.IP) (Quit: Leaving.)
[18:51:32] <cadence> bollu: http://static.rust-lang.org/doc/master/log/index.html
[18:51:43] *** Joins: jmgrosen (user@moz-848F6087.sb.sd.cox.net)
[18:53:04] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[18:53:10] <cadence> Is there an overview of vec_ng?
[18:53:41] <cadence> Why was vec_ng created? What advantage does it have over the old vector?
[18:53:52] <eddyb> the layout is better
[18:53:57] <eddyb> (in most cases)
[18:54:01] <eibwen> kimundi: re-./configuring didn't help
[18:54:03] <eddyb> and the old vector is getting removed
[18:54:10] <eibwen> it's still the same error
[18:54:13] <eddyb> because it will mean something else as part of DST
[18:54:30] *** Quits: brontron (Mibbit@moz-C8D86903.tc.ph.cox.net) (Quit: http://www.mibbit.com ajax IRC Client)
[18:54:45] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[18:54:50] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[18:55:20] <kimundi> cadence: ~[T] will mean something else with DST, Vec<T> has better performance, Vec<T> is implemented in the library instead of by the compiler
[18:55:20] <killerswan> hello all
[18:55:24] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[18:55:31] *** Quits: pczarn (pczarn@moz-69A55FA.izacom.pl) (Input/output error)
[18:56:06] *** Joins: bjustin (bjustin@moz-4B914826.hsd1.mn.comcast.net)
[18:56:36] <bollu> killerswan: hey
[18:56:41] <companion_cube> what's DST?
[18:56:56] <bollu> kimundi: what does ~[T] mean? companion_cube : dynamically sized types
[18:57:00] <kimundi> companion_cube: dynamically sized types
[18:57:03] <bollu> in the new cntext that is
[18:57:06] <bollu> context*
[18:57:16] <companion_cube> oh
[18:57:31] <kimundi> bollu: A owned box ~T composed with a unsized slice [T]
[18:58:25] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[18:58:32] <bollu> kimundi: how can a slice be "unsized" ?
[18:58:49] *** Quits: nstdloop (Jonathan@moz-27F8BE93.hsd1.ct.comcast.net) (Quit: Lost terminal)
[18:58:51] <eddyb> it can only be unsized :P
[18:58:56] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[18:59:01] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[18:59:04] <eddyb> bollu: [T, ..N] is sized, [T] is unsized
[18:59:10] <eddyb> bollu: as in, dynamically sized
[18:59:11] <kimundi> bollu: well naming is still not set in stone
[18:59:24] <bollu> eddyb: isn't slice = a frozen accessor into a vector?
[18:59:30] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[18:59:32] <eddyb> that's &[T]
[18:59:36] <eddyb> immutable slice
[18:59:37] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[18:59:39] <bollu> eddyb: ah
[18:59:40] *** Quits: ganitsu (ganitsu@moz-8758C797.dialup.adsl.anteldata.net.uy) (Quit: WeeChat 0.4.3)
[18:59:44] <eddyb> see the &?
[18:59:54] *** Quits: goku12 (gokuldas@11C4E2B.2FF285CA.A2DC32D.IP) (Quit: Konversation terminated!)
[18:59:55] <bollu> yep :)
[18:59:58] <kimundi> eddyb: I guess we would have to call it reference to a slice then
[19:00:14] <bollu> so, difference b/w [T] and Vec<T> ? 
[19:00:22] <eddyb> the latter is growable
[19:00:30] <bollu> and the former is 
[19:00:33] <bollu> "unsized" ?
[19:00:42] *** ooo_ is now known as olle
[19:00:52] <eddyb> Vec<T> is (DST) ~[T] + capacity
[19:01:20] <bollu> eddyb: hmm...
[19:01:28] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[19:01:54] <bollu> So, I use Vec<T> where I /was/ using ~[T] and now [T] will be used internally to implement Vec<T> ?
[19:02:18] <kimundi> bollu: yeah.
[19:02:26] <eddyb> bollu: not necessarily
[19:02:41] <kimundi> bollu: don't really need [T] to implement Vec<T>, but you could use it
[19:03:10] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[19:03:38] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[19:03:43] <eddyb> the new ~[T] won't be growable like Vec<T>
[19:03:44] *** Joins: erickt (etryzelaar@moz-C07D5168.p2p.sfo1.mozilla.com)
[19:05:06] <chridou> so, when i don't want to return something growable i can ignore the compiler warning to use vec_ng?
[19:05:06] <eddyb> can I build rustdoc (preferably with tests) without building librustc more than once?
[19:05:15] <eddyb> chridou: not yet
[19:05:38] <eddyb> "new ~[T]" == future (DST)
[19:05:38] <kimundi> chridou: right now, you should change everything to Vec<T>
[19:05:39] <edwardw> eddyb: NO_REBUILD=1?
[19:05:52] <eddyb> edwardw: that won't help
[19:05:52] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[19:06:04] <edwardw> oh ok
[19:06:09] <eddyb> hmm, I wonder if the stamps work
[19:06:10] <kimundi> chridou: Once we actually have DST, then you can decide between ~[T] and Vec<T> depending on growability
[19:06:24] <chridou> Vec<T> but not vec_ng, the standard one?
[19:06:26] <eddyb> like, build librustdoc just like librustc
[19:06:36] <eddyb> chridou: vec_ng is Vec<T>
[19:06:48] <kimundi> vec_ng is the module Vec is defined in
[19:07:04] <chridou> ok. thank you very much
[19:08:43] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[19:08:57] <arielb1> the fat struct proposal looks simpler then I thought
[19:09:05] <arielb1> downcast should be exact
[19:09:12] <arielb1> (is it?)
[19:09:41] *** Quits: Blub\1 (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[19:09:55] *** Joins: Blub\1 (wry@620605B3.71150E1A.237AE2BA.IP)
[19:10:02] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[19:10:20] <eddyb> arielb1: the DOM problem *is* simple
[19:10:35] <eddyb> it's a memory layout optimization problem
[19:10:37] *** Joins: sfackler_ (sfackler@moz-C07D5168.p2p.sfo1.mozilla.com)
[19:10:40] *** Joins: ehsanul (Mibbit@moz-C07D5168.p2p.sfo1.mozilla.com)
[19:10:44] <eddyb> mainly thin trait pointers
[19:10:58] <arielb1> so Fat<U,V> is an "IST" (internally-sized type)
[19:11:05] *** Parts: sfackler_ (sfackler@moz-C07D5168.p2p.sfo1.mozilla.com) ()
[19:11:11] *** Joins: sfackler_ (sfackler@moz-C07D5168.p2p.sfo1.mozilla.com)
[19:11:26] <arielb1> this means that DSTsize is a function of the struct
[19:11:35] <arielb1> instead of the tag
[19:11:38] <arielb1> which is empty
[19:11:46] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[19:11:51] <arielb1> I suppose you won't allow for doubly-fat pointers
[19:11:57] <arielb1> (still)
[19:12:05] <eddyb> arielb1: are you making it sound more complicated than it is?
[19:12:12] <eddyb> the term is "erased information", AFAIK
[19:12:13] <arielb1> I'm trying to integrate it with DST
[19:12:21] <eddyb> DST doesn't store "sizes"
[19:12:33] <arielb1> It stores a tag from which the size can be recovered
[19:12:38] <eddyb> nope
[19:12:54] <eddyb> it erases statically known information, making it dynamic
[19:13:03] <eddyb> in the case of trait objects, it's a vtable
[19:13:33] <arielb1> thats a tag/type parameter/whatever - the type (and therefore the size) can be recovered from it
[19:13:38] <arielb1> (at runtime)
[19:13:49] <eddyb> you can't recover the size from a vtable ;)
[19:14:15] <eddyb> and not the type, either, unless you inherit Any
[19:14:22] <arielb1> Well if nobody asks a question, you don't need to store the answer
[19:14:24] *** Joins: philix (felipe@moz-9FAFA12F.user.veloxzone.com.br)
[19:14:30] <arielb1> you can get the vtable
[19:14:36] <eddyb> arielb1: I mean, "size" is not what DST erases
[19:14:37] *** Joins: div (Mibbit@moz-C07D5168.p2p.sfo1.mozilla.com)
[19:14:48] <eddyb> the size isn't important, the fact that it's dynamic, that's important
[19:14:57] *** Quits: angdev (angdev@16F167B.4C57D258.D8E8354F.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:15:01] <eddyb> and by dynamic, I mean not known at compile time
[19:15:19] *** Joins: ganitsu (ganitsu@moz-8758C797.dialup.adsl.anteldata.net.uy)
[19:15:24] <eddyb> in the case of slices, the erased information is the length. not the size, the length
[19:15:39] <eddyb> and we kinda want things like these to work: Rc<[[[[T]]]]>
[19:15:53] <arielb1> how is the last supposed to work
[19:16:16] *** Quits: soundczech (nimu@AFA757FE.C2437F4F.DC877F3B.IP) (Quit: soundczech)
[19:16:23] *** Quits: philix (felipe@moz-9FAFA12F.user.veloxzone.com.br) (Ping timeout)
[19:16:23] <arielb1> in the blogpost pointers could only be singly fat
[19:16:38] <eddyb> that's still true for traits (excluding possible extensions)
[19:16:43] *** Joins: bourbaki (chatzilla@moz-51BC180C.dip0.t-ipconnect.de)
[19:16:49] <eddyb> but in the case of slices like that, there is no problem if they're multi-dimensional
[19:16:49] <bourbaki> Greetings gentlemen
[19:16:57] <eddyb> you statically know the dimension count
[19:17:24] <arielb1> this isn't always a problem with traits too
[19:17:31] <arielb1> the problem is when you go A<B<C>> -> A<B> -> A
[19:17:43] <arielb1> that's A<B<C>> -> A<B<T>> -> A<T>\
[19:17:52] *** Quits: cceckman (cceckman@C60A988D.87CA334A.DDE5D3F6.IP) (Client exited)
[19:17:56] <bourbaki> I really came to wonder how well FP and OOP mix in Rust.
[19:18:13] <bourbaki> Is there any kind of blog or some such that tries to get deeper into the is?
[19:18:40] <eddyb> arielb1: care to expand?
[19:19:00] <arielb1> If you erase a once-fattened pointer
[19:19:10] *** Joins: telotortium (rmi1@moz-2333C9E1.public.wayport.net)
[19:19:20] <arielb1> a type that is already erased - you need to store dynamically both the erased part
[19:19:27] <eddyb> arielb1: the type isn't erased in the [[[[T]]]] case
[19:19:28] <arielb1> and the new part
[19:19:29] <bollu> eddyb: so ~[T] = C++ arrays and Vec<T> = std::vector ?
[19:19:45] <eddyb> bollu: kinda. but more powerful than C++ arrays
[19:19:52] <arielb1> [[[T]]] ~ Slice<Int, Slice<Int, Slice<Int, T>>>
[19:20:01] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[19:20:02] <eddyb> arielb1: that's not true
[19:20:05] *** Joins: alan_andrade (alan_andra@moz-C07D5168.p2p.sfo1.mozilla.com)
[19:20:06] <bollu> eddyb: good to know. 
[19:20:07] <arielb1> for DST purposes
[19:20:10] <eddyb> nope
[19:20:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[19:20:34] <eddyb> arielb1: the type isn't erased so you don't loose the arity
[19:20:37] <arielb1> what's the difference
[19:20:45] <eddyb> *lose
[19:20:57] <eddyb> first, you know T
[19:21:04] <eddyb> and you know all the intermediary types
[19:21:19] <eddyb> that makes it so you don't need a dynamic drop glue
[19:21:23] *** Joins: stevekla1nik (steveklabn@moz-C07D5168.p2p.sfo1.mozilla.com)
[19:21:32] <bollu> eddyb: arity in what sense?
[19:21:39] <eddyb> bollu: dimension count
[19:21:46] <bollu> eddyb: ah.
[19:21:46] <arielb1> the requirement is that you don't erase a dynamic type
[19:21:57] <arielb1> because you would need to construct a vtable at runtime
[19:21:59] <arielb1> or something
[19:22:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[19:22:07] <eddyb> there are no dynamic types in [[[[T]]]]
[19:22:10] <arielb1> Converting A<B,C> -> A<T,T> is fine
[19:22:11] <eddyb> only unsized ones
[19:22:14] <bollu> arielb1: "
[19:22:18] <arielb1> should be
[19:22:20] <bollu> arielb1: "fat" pointers?
[19:22:37] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[19:22:44] <eddyb> (you'd need the drop glue if you were doing something like trait Array<T> {const LEN: uint;} and ~Array<T>)
[19:22:45] <arielb1> it's no different then [[[A, ..1], ..2], ..3] -> [[[T]]]
[19:22:55] *** Joins: blindrenderer (blindrende@772B3B0F.54C85F70.2125B4DC.IP)
[19:22:56] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[19:23:02] <eddyb> arielb1: you're missing something important here
[19:23:03] <sankha93> I am getting the error cannot determine a type for this expression: unconstrained type when compiling, what does this refer to?
[19:23:13] <eddyb> sankha93: inference failed to find a type for you
[19:23:16] <eddyb> need to specify more
[19:23:16] <bollu> eddyb: what are "fat" pointers? functors
[19:23:18] <bollu> ?
[19:23:24] <eddyb> bollu: no, (*T, information)
[19:23:32] <bollu> eddyb: ah. 
[19:23:35] <eddyb> like (*T, length) in the case of &[T]
[19:23:39] <kimundi> bollu: A fat pointer is a pointer paired with an additional piece of information
[19:23:46] <eddyb> arielb1: we're not abstracting [T] as Array<T>
[19:23:55] <eddyb> arielb1: (the latter being an imaginary trait)
[19:23:55] <bollu> kimundi: good to know. have not heard that before.
[19:24:03] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[19:24:09] <sankha93> eddyb, this is the code that I have: http://pastebin.mozilla.org/4603883
[19:24:17] <bollu> kimundi: I meant the term, not the concept.
[19:24:25] <eddyb> arielb1: we know everything about [[[[T]]]] at compile time *but* the lengths/dimensions
[19:24:31] <nstdloop> After a clean install using make all make check-stage1-std NO_REBUILD=1 NO_BENCH=1 fails trying to get the rustuv crate
[19:24:32] <bollu> kimundi: so could smart pointers be considered a "fat" pointer?
[19:24:38] <nstdloop> What am I doing wrong?
[19:24:40] <eddyb> arielb1: which is quite different than trait objects
[19:24:43] <ktos> don't take it as an offence, I was just wondering, taking aside things like closed-source, being closed-company product,and being non functional flavoured, why rust is better than full AOT'ed C#
[19:24:45] <krdln> Somebody could link to the page listing rust pre-built packages for different distros? I don't see it in „all docs”.
[19:24:50] <kimundi> bollu: depends. some are, some are not
[19:24:56] <eddyb> ktos: performance
[19:25:05] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Ping timeout)
[19:25:12] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[19:25:18] <bollu> kimundi: most are(?) they store a ref count of sure which is "information" correct?
[19:25:19] <kimundi> bollu: Its less about the information in general, and more about it being placed right next to the pointer word
[19:25:31] *** Quits: stevekla1nik (steveklabn@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: leaving)
[19:25:32] <eddyb> bollu: no, that's not related to refcounts
[19:25:35] <bollu> kimundi: hmm. 
[19:25:41] *** Joins: stevekla1nik (steveklabn@moz-C07D5168.p2p.sfo1.mozilla.com)
[19:25:59] <kimundi> bollu: Eg, a Rc<T> is not a fat pointer because it is internally a *RcBox<T>, which is just a single pointer
[19:26:25] <eddyb> arielb1: even then, we could have ~FooTrait:unsized*3 that could hold a [[T]] with its width and height + a vtable
[19:26:30] <kimundi> bollu: a &[T] however is a fat pointer, because it is internally a *T and a uint next to each other
[19:26:32] *** Quits: mindcat_ (mindcat@D5ADD164.E1ABDF54.E47F7BFE.IP) (Ping timeout)
[19:26:39] *** Quits: telotortium (rmi1@moz-2333C9E1.public.wayport.net) (Quit: telotortium)
[19:26:41] <bollu> kimundi: understood. 
[19:26:55] <bollu> kimundi: any idea about the origin of the term? :)
[19:27:21] <arielb1> Well if you have A<B,C> -> A<T,T> you know everything but the types of B and C
[19:27:25] <arielb1> at compile-time
[19:27:36] <eddyb> how is that true?
[19:27:39] <eddyb> I don't see traits there
[19:27:46] <arielb1> B,C are structs
[19:27:48] <arielb1> T a trait
[19:27:51] <arielb1> B:T, C:T
[19:27:54] <kimundi> bollu: No idea where it originated, its an older term.
[19:28:05] <eddyb> arielb1: ok. we tend to use Trait for traits and T for types
[19:28:08] <ktos> eddyb: fair enough, are you aware about some comparison? (I believe there is much difference, just wondering how big it can be)
[19:28:21] <eddyb> ktos: pretty sure C# relies on a GC
[19:28:34] *** Joins: telotortium (rmi1@moz-2333C9E1.public.wayport.net)
[19:28:35] <eddyb> ktos: C# isn't really a systems programming language
[19:28:36] *** Joins: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[19:28:37] <bollu> ktos: and I haven't used C# much, but I found it much more verbose
[19:28:43] <krdln> anybody? ^
[19:28:46] <ktos> eddyb: doesn't rust have hc as well?
[19:28:52] <eddyb> nope
[19:29:05] <eddyb> (not yet. and even then, it will be opt-in)
[19:29:07] <kimundi> ktos: Rust has never had a garbage collector to this date ;)
[19:29:17] *** Joins: twi (Adium@1003EE9C.E815CABE.77D54CE0.IP)
[19:29:20] <bollu> kimundi: Rc<T> ?
[19:29:22] *** Quits: blindrenderer (blindrende@772B3B0F.54C85F70.2125B4DC.IP) (Connection reset by peer)
[19:29:26] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Ping timeout)
[19:29:27] <bollu> ah, not the language
[19:29:27] <eddyb> bollu: that's ref-counted not GC
[19:29:33] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[19:29:34] <kimundi> Rust has never had a _tracing_ garbage collector to this date ;)
[19:29:37] *** Joins: blindrenderer (blindrende@772B3B0F.54C85F70.2125B4DC.IP)
[19:29:41] <arielb1> if you have multiply-fat pointers, how do you make &&[Trait] work
[19:29:52] <ktos> oh, I though so because of this post http://sebastiansylvan.com/2012/12/01/garbage-collection-thoughts/
[19:29:54] <arielb1> which ref holds which part of the vtable
[19:30:05] <eddyb> ktos: it's also more likely to have dynamic stuff like vtables, whereas in Rust you need to explicitly use trait objects to get vtables
[19:30:09] <kimundi> eddyb: ref counting is just another kind of garbage collection - though it needs cycle collecting to be equivalent
[19:30:16] <eddyb> arielb1: I suspect you mean &[Trait]
[19:30:23] <arielb1> no &&[Trait]
[19:30:28] <eddyb> arielb1: the extra pointer is pointless
[19:30:31] <eddyb> it's like &&&&&
[19:30:31] <ktos> and this http://pcwalton.github.io/blog/2013/06/02/removing-garbage-collection-from-the-rust-language/
[19:30:36] <arielb1> you have &[T] and you convert it to the dst &[Trait] and ref it to &&[Trait]
[19:30:50] <arielb1> or you have &[Trait, ..n] and you convert it to &[Trait] and ref it to &&[Trait]
[19:30:53] <eddyb> arielb1: the ref doesn't change anything
[19:31:02] <bollu> kimundi: yep. that was what I was wondering. 
[19:31:15] <eddyb> arielb1: &[Trait] would have two erased pieces of information
[19:31:28] <eddyb> arielb1: a length and a vtable (used for all the types in the slice)
[19:31:55] *** Quits: telotortium (rmi1@moz-2333C9E1.public.wayport.net) (Quit: telotortium)
[19:31:55] <ktos> ok, I see the point
[19:32:00] <eddyb> arielb1: something like (*T, uint, *vtable). adding a reference to that isn't special
[19:32:16] * ktos is wondering will managed operating systems do it way anytime
[19:32:18] <kimundi> ktos: We plan since long to actually have a tracing garbage collector, and had the concept of a managed smartpointer for quite some time.
[19:32:33] <arielb1> the dynamic is always "eaten" by a pointer
[19:32:52] <ktos> kimundi: won't it make performance comparable to AOT'ed C#?
[19:32:58] <arielb1> so you can't convert a &'long [Trait, ..n] to a &'long [Trait]
[19:33:07] <eddyb> arielb1: lol no
[19:33:12] <kimundi> ktos: It won't change anything about existing Rust
[19:33:13] <eddyb> arielb1: I think you misunderstood something
[19:33:22] <kimundi> ktos: Its an optional usable type Gc<T>
[19:33:27] <arielb1> actually the last one's fine
[19:33:33] <dylanb> Is there any way to expose a rust library to c code?
[19:33:37] <eddyb> arielb1: &&[T] is &(*T, uint)
[19:33:44] <kimundi> ktos: ~T, Rc<T>, T etc.... all still won't have anything todo with gc
[19:33:46] <eddyb> arielb1: the extra & doesn't do anything magical
[19:33:52] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[19:33:56] <kimundi> _tracing_ gc
[19:34:15] <ktos> kimundi: I understand, cool idea
[19:34:24] <kimundi> dylanb: yes, write rust code with an extern "C" API
[19:34:45] *** Joins: telotortium (rmi1@moz-2333C9E1.public.wayport.net)
[19:34:49] <arielb1> Well so it's &'long &T which is not convertible to &'long &Trait
[19:35:24] <ktos> kimundi: so it's like c# has unsafe code as addon, and rust will have managed part as addon
[19:35:32] <dylanb> But how is it included in c then kimundi? Can I just write a header file with equivalent function declarations and link against the library?
[19:35:43] <kimundi> ktos: yeah
[19:36:09] <killerswan> bollu: Trait is the term used in the paper from which Haskell's typeclasses were derived.
[19:36:26] *** Quits: intuxicated (intuxicate@5BA9DB47.F2F0EDE4.DA0107E2.IP) (Quit: Leaving)
[19:36:34] <arielb1> and also &A<B<Trait>> not convertible to &A<Trait>
[19:36:35] <killerswan> bollu: (Haskell changed the word because they actually didn't implement it entirely.)
[19:36:38] <ktos> it would be nice to see performance comparison between unsafe c# and rust
[19:36:41] <arielb1> because you don't know B<Trait> statically
[19:36:59] <eddyb> arielb1: it depends on whether B<Trait> is unsized or not
[19:37:00] <kimundi> dylanb: yes, I think. I don't really have experience with that, but if you write rust functions with C ABI, disable the symbol mangling, it should owrk
[19:37:11] <dylanb> ok, thanks
[19:37:25] <nstdloop> ktos: There are the general language benchmarks you could look at
[19:37:29] *** Quits: ehsanul (Mibbit@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: http://www.mibbit.com ajax IRC Client)
[19:37:54] <ktos> nstdloop: can you put a link please? :)
[19:38:16] <nstdloop> ktos: http://benchmarksgame.alioth.debian.org/
[19:38:30] <nstdloop> Just compare C# and Rust on any benchmarks where they both have solutions
[19:39:57] <nstdloop> ktos: Though I would ignore pidigits because it's basically just a test of the language's bigint library
[19:40:31] <nstdloop> Was debug! removed recently?
[19:40:57] <arielb1> eddyb: sure - if B<Trait> is sized there's no problem
[19:41:39] <eddyb> arielb1: then it only works if the second Trait is unsized*2
[19:41:49] <brandonson> for timers, am I just looking at using something out of one of the IO libs?
[19:41:50] <ktos> nstdloop: thanks, nice site btw, didn't know about
[19:41:51] <eddyb> arielb1: but that's a possible (and unlikely) extension to DST
[19:42:01] *** Joins: aochagavia (Mibbit@moz-C82E8769.static.ziggozakelijk.nl)
[19:42:01] <eddyb> arielb1: whereas [[[[T]]]] just works
[19:42:09] *** Quits: telotortium (rmi1@moz-2333C9E1.public.wayport.net) (Quit: telotortium)
[19:42:16] <aochagavia> How can I see which tests failed in a pull request?
[19:42:19] <arielb1> eddyb: in which implementation?
[19:42:32] <jensnockert> Anyone have any tips on note: Undefined symbols for architecture x86_64: "_rust_readdir_r", referenced from: libc::funcs::posix88::dirent::readdir_r::h52f349f97db04884nBH::v0.10.pre in std.o ?
[19:42:35] <eddyb> arielb1: in the future DST implementation
[19:42:49] <aochagavia> How can I see which tests failed in a pull request? (https://github.com/mozilla/rust/pull/12931)
[19:43:42] <arielb1> what's the difference between them
[19:44:08] <aochagavia> I have already found out
[19:44:18] <eddyb> arielb1: the difference is that you statically know the dimension count of a nested slice
[19:45:05] *** Joins: reedlepee (Mibbit@7E217F04.2C8DBE39.CC1A2609.IP)
[19:45:12] <arielb1> and...
[19:45:22] *** Quits: reedlepee (Mibbit@7E217F04.2C8DBE39.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:46:04] <arielb1> You can statically know the erasure count of a singly-erased type
[19:46:45] <eddyb> basically trait Array<const N: uint, T: Unsized<N>>: Unsized<N + 1> {}
[19:47:00] <nstdloop> Anyone know what happened to debug! in master?
[19:47:02] <eddyb> it's hard to model array -> slice erausre using traits
[19:47:04] <eddyb> nstdloop: liblog
[19:47:10] <nstdloop> std::log?
[19:47:24] <eddyb> no, liblog
[19:47:29] <eddyb> std is libstd
[19:47:44] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:47:56] <nstdloop> So I get that by...
[19:48:09] <eddyb> extern crate log;
[19:48:13] <eddyb> and maybe some other magic
[19:48:30] *** Joins: soundczech (nimu@AFA757FE.C2437F4F.DC877F3B.IP)
[19:49:10] *** Quits: aochagavia (Mibbit@moz-C82E8769.static.ziggozakelijk.nl) (Quit: http://www.mibbit.com ajax IRC Client)
[19:49:17] *** Quits: dylanb (Mibbit@E6EBCD3B.BF465F54.B0C1FFA1.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:49:37] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:49:47] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[19:50:34] <arielb1> const N
[19:50:37] <arielb1> what does it mean?
[19:50:58] <nstdloop> When I try to do extern crate log; then log::debug! I get "expected macro name without module separators"
[19:51:29] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[19:51:36] *** Quits: jakub (jakub@BF138CC2.4C95477C.CBC7865F.IP) (Ping timeout)
[19:52:11] <edwardw> nstdloop: http://static.rust-lang.org/doc/master/log/index.html
[19:52:20] <arielb1> Well then can you erase a fat struct (A<Fat<B>> -> A<Trait>)?
[19:52:21] <eddyb> arielb1: it's imaginary notation
[19:52:41] *** Quits: FrozenCow (FrozenCow@moz-54300F7F.upc-j.chello.nl) (Client exited)
[19:52:42] <eddyb> arielb1: hmm, that depends on how fat structures are implemented
[19:52:48] *** Quits: mib_g670yd (Mibbit@moz-7AD9232F.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[19:53:02] <eddyb> arielb1: if it's like struct B {vtable: Vtable<Trait>, ...}, then it should work
[19:53:03] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[19:53:20] <eddyb> arielb1: as long as the trait is marked as thin-pointer/fat-struct
[19:53:29] <eddyb> not sure if the RFC does that properly
[19:55:30] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[19:56:24] *** Joins: kvanb (kvanb@10099007.831B6F86.1611EE05.IP)
[19:56:45] *** Quits: mawuli (mawuli@moz-EF4254B1.com.gh) (Ping timeout)
[19:57:28] *** Quits: twi (Adium@1003EE9C.E815CABE.77D54CE0.IP) (Quit: Leaving.)
[19:57:39] *** Joins: alexherb1 (alexherbo2@moz-87609C6F.w90-35.abo.wanadoo.fr)
[19:57:56] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[19:58:27] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[19:58:46] *** Quits: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net) (Client exited)
[19:59:07] *** Joins: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net)
[19:59:46] *** Quits: bourbaki (chatzilla@moz-51BC180C.dip0.t-ipconnect.de) (Quit: ChatZilla 0.9.90.1 [Firefox 27.0.1/20140212131424])
[20:01:06] *** Quits: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net) (Ping timeout)
[20:01:20] *** Quits: alexherb1 (alexherbo2@moz-87609C6F.w90-35.abo.wanadoo.fr) (Quit: WeeChat 0.4.3-dev)
[20:03:07] *** Joins: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net)
[20:03:43] *** Quits: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net) (Client exited)
[20:04:03] *** Joins: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net)
[20:04:13] *** Joins: stomper (Mibbit@7E217F04.2C8DBE39.CC1A2609.IP)
[20:05:57] *** Quits: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net) (Ping timeout)
[20:05:59] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Ping timeout)
[20:06:28] *** Quits: jmgrosen (user@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[20:06:35] <Tobba> ugh, the magic of state machines
[20:06:59] <eibwen> still getting this when I try to compile rustc :(
[20:07:01] <Tobba> since you cant modify the state from inside a match on the state this always manages to get crappy
[20:07:01] <eibwen> http://pastebin.com/raw.php?i=HC4QDCPG
[20:07:13] *** Joins: vikstrous (v@moz-1E061984.cpe.distributel.net)
[20:07:20] *** Parts: vikstrous (v@moz-1E061984.cpe.distributel.net) ()
[20:08:06] <arielb1> You also shouldn't have A<Trait<B>> -> A<Trait<Trait2>> - that requires HKT
[20:08:27] *** Joins: ChrisOei (ChrisOei@moz-30D80888.hsd1.ca.comcast.net)
[20:08:35] <tautologico> is it possible to specify register variables like in C/C++ ?
[20:08:52] <Tobba> literally every C(++) compile ignores the register keyword
[20:08:53] <stevekla1nik> tautologico: no
[20:09:01] <Tobba> its one of the most legacy things you can find
[20:09:50] <arielb1> actually, traits shouldn't have type params at unsized positions
[20:09:56] <arielb1> so it is moot
[20:10:07] *** Joins: judder (maradukewa@75FA4DEE.A989D80C.78E362FE.IP)
[20:10:23] <eddyb> arielb1: they can, but there's no point
[20:10:29] *** Parts: stomper (Mibbit@7E217F04.2C8DBE39.CC1A2609.IP) ()
[20:10:31] *** Joins: jmgrosen (user@moz-848F6087.sb.sd.cox.net)
[20:10:35] <eddyb> arielb1: DST doesn't really work in a few ways you're talking about
[20:10:47] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:11:00] <Tobba> I wish borrows would end when you arent using them anymnore
[20:11:07] <Tobba> it would make this so much less bad
[20:11:50] <stevekla1nik> Tobba: can you expand on that?
[20:12:05] <eddyb> we have an issue about it
[20:12:15] *** Quits: Guest (textual@D6B5DD7E.D8252BC.9532F1CE.IP) (Ping timeout)
[20:12:17] <Tobba> at the moment I just have a match self.state { somestate(ref a, ref b) => { ... }, ...}
[20:12:24] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[20:12:28] <Tobba> the problem is if you do this you cant modify self.state from within it
[20:12:28] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[20:12:30] <eddyb> "borrow scopes aren't always lexical"
[20:12:34] <Tobba> and you have to work around it in one hell of a mess
[20:12:35] <stevekla1nik> ahhh yes i got it
[20:12:36] <stevekla1nik> right
[20:12:37] <stevekla1nik> thanks
[20:12:38] <stevekla1nik> :D
[20:14:04] <Yurume> I've written something like this: https://gist.github.com/lifthrasiir/9589206 any suggestions?
[20:14:58] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[20:14:58] *** ChanServ sets mode: +ao pcwalton pcwalton
[20:15:09] *** Quits: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com) (Quit: Connection closed for inactivity)
[20:16:58] *** Joins: Florob (Florob@moz-39532932.de)
[20:18:06] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Ping timeout)
[20:18:13] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[20:18:30] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (Input/output error)
[20:19:02] *** Joins: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net)
[20:20:15] *** Quits: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[20:20:20] *** Joins: jakub (jakub@moz-828D5B6C.mobile.telia.dk)
[20:20:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[20:20:46] *** Quits: nstdloop (nstdloop@moz-27F8BE93.hsd1.ct.comcast.net) (Ping timeout)
[20:21:20] <sinistersnare> does anyone know why my test fails? https://gist.github.com/sinistersnare/b0e4951129c30ec2ea2a how the structure of run-fails work
[20:22:07] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[20:22:19] *** Joins: brontron (Mibbit@moz-C8D86903.tc.ph.cox.net)
[20:22:24] <edwardw> "maybe a missing ..." vs. "maybe you forgot ..."
[20:22:31] <edwardw> they don't match
[20:23:09] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[20:23:53] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[20:24:35] <kimundi> sinistersnare: the test tests that the error message matches a specific wording
[20:24:38] *** Quits: Doppp (Doppp@moz-6B405134.hsd1.ca.comcast.net) (Ping timeout)
[20:25:03] <sinistersnare> for some reason when i compiled it compiled the old wording. recompiling tosee now
[20:25:31] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[20:25:58] *** Parts: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) ()
[20:27:49] *** Joins: Guest (textual@D6B5DD7E.D8252BC.9532F1CE.IP)
[20:28:22] <sinistersnare> it works!
[20:30:55] *** Joins: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[20:33:33] *** Quits: edwardw (edwardw@BB690835.D7DB55D8.50B134B9.IP) (Quit: Leaving...)
[20:33:45] <eibwen> who can I ask when linking rustc fails? https://gist.github.com/tbu-/045ab07378eefb29260b
[20:34:01] *** Joins: bvssvni (Mibbit@moz-E289BB64.bb.online.no)
[20:35:53] *** Joins: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net)
[20:36:20] *** Quits: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr) (Ping timeout)
[20:36:49] *** Quits: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net) (Ping timeout)
[20:37:39] *** Quits: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net) (Quit: huon)
[20:40:52] <killerswan> ok, so I'm trying to make an example of something and I've fallen down a rabbit hole
[20:41:02] <killerswan> Is there a string lowercase function?
[20:41:05] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Quit: Computer gone to sleep - Zzzz...)
[20:41:15] <eddyb> killerswan: *swan dove down a rabbit hole
[20:41:25] <eddyb> killerswan: I think there is now, if pzol's PR got merged
[20:41:47] <bollu> eddyb: if I symlink rustc, does it effect relavtive paths that I pass to the compiler?
[20:41:57] <bollu> paths to the libraries that is (-L)
[20:42:35] <killerswan> I couldn't find one and imagined it would be trivial to just do `s.chars().map(|ch| ch.to_lowercase()).from_chars()` or something like that...
[20:43:02] <killerswan> But it turns out that chars() now gives some goofy `std::str::Chars<>` thing
[20:43:45] *** Joins: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr)
[20:44:01] <killerswan> eddyb: maybe not merged yet, couldn't find it in std::str unless it has a very weird name
[20:45:03] <bollu> eddyb: has the mechanism to supply external crates changed?
[20:46:19] <killerswan> bollu: yes
[20:46:33] <killerswan> bollu: now use, e.g., `extern crate test;`
[20:46:45] <doomlord_> i guess writing Vec<T> instead of ~[T] its going to be easier to special case it later.
[20:46:59] <doomlord_> trying to pursuade myself fixing all those warnings is worthwhile lol.
[20:47:13] <doomlord_> 'SmallVec' .. 'GrowableVec' etc
[20:48:41] <eddyb> bollu: shouldn't affect -L
[20:48:51] <eddyb> bollu: if it's symlinked, it should find the libraries it was compiled with
[20:50:02] <companion_cube> hmmm, is rust able to specify distinct instances of traits ? for specialization?
[20:50:23] <companion_cube> like, implementing Vec<Bool> as a bitset rather than an array of booleans
[20:50:26] <eddyb> companion_cube: as in, have a generic impl and a specialized one?
[20:50:30] <companion_cube> yes
[20:50:45] <eddyb> the Vec thing wouldn't be a trait, it would be just generic specialization
[20:50:48] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[20:50:52] <eddyb> but no, Rust doesn't have such a thing
[20:52:35] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[20:53:15] *** Joins: vikstrous (v@moz-1E061984.cpe.distributel.net)
[20:53:39] <kimundi> killerswan: That goofy Chars<> thing is a iterator :P
[20:54:03] *** jorendorff_away is now known as jorendorff
[20:54:08] <killerswan> righty, so how do i get a &[char] out of it?
[20:54:27] *** jorendorff is now known as jorendorff_away
[20:54:36] <kimundi> rusti: "abc".chars().collect::<::std::vec_ng::Vec<char>>
[20:54:40] -rusti- pastebinned 11 lines of output: http://sprunge.us/JJGF
[20:54:41] <kimundi> rusti: "abc".chars().collect::<::std::vec_ng::Vec<char>>()
[20:54:43] -rusti- [a, b, c]
[20:55:11] *** Quits: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net) (Ping timeout)
[20:55:15] <kimundi> rusti: let v: std::vec_ng::Vec<char> = "abc".chars().collect(); v
[20:55:15] -rusti- [a, b, c]
[20:55:31] *** Quits: cdidd (cdidd@moz-FC37667D.broadband.corbina.ru) (Ping timeout)
[20:55:42] <kimundi> rusti: let v: std::vec_ng::Vec<char> = "abc".chars().map(|c| c.to_upper()).collect(); v
[20:55:43] -rusti- <anon>:16:63: 16:75 error: type `char` does not implement any method in scope named `to_upper`
[20:55:43] -rusti- <anon>:16         let v: std::vec_ng::Vec<char> = "abc".chars().map(|c| c.to_upper()).collect(); v
[20:55:43] -rusti-                                                                         ^~~~~~~~~~~~
[20:55:43] -rusti- error: aborting due to previous error
[20:55:45] -rusti- application terminated with error code 101
[20:55:49] <kimundi> rusti: let v: std::vec_ng::Vec<char> = "abc".chars().map(|c| c.to_uppercase()).collect(); v
[20:55:50] -rusti- [A, B, C]
[20:55:51] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[20:56:12] <kimundi> rusti: let v: std::vec_ng::Vec<char> = "Äbß".chars().map(|c| c.to_uppercase()).collect(); v
[20:56:13] -rusti- [Ä, B, ß]
[20:56:44] *** Quits: soundczech (nimu@AFA757FE.C2437F4F.DC877F3B.IP) (Quit: soundczech)
[20:56:44] <eibwen> rusti: "ß" == "ß"
[20:56:45] -rusti- true
[20:57:31] *** Joins: aatch_ (James@moz-B437F499.pocketrent.com)
[20:57:48] *** Quits: aatch (aatch@moz-2BB0AC01.cable.telstraclear.net) (NickServ (GHOST command used by aatch_))
[20:57:51] <benh> rusti: 'ß'.to_uppercase() == 'ẞ'
[20:57:51] -rusti- false
[20:57:52] *** aatch_ is now known as aatch
[20:57:54] <benh> :(
[20:58:02] <eibwen> the other way around!
[20:58:06] <aatch> rusti: 'ß'.to_uppercase()
[20:58:07] -rusti- ß
[20:58:21] <kimundi> eibwen: nope
[20:58:36] <eibwen> rusti: 'ẞ'.to_lowercase() == 'ß' 
[20:58:37] -rusti- true
[20:58:40] <eibwen> kimundi: yes
[20:58:49] *** Joins: soundczech (nimu@AFA757FE.C2437F4F.DC877F3B.IP)
[20:58:56] *** Joins: aatch_ (aatch@moz-2BB0AC01.cable.telstraclear.net)
[20:59:07] <benh> :D
[20:59:22] <kimundi> eibwen: well, thats not otherway round, thats two different axis of otherway round :P
[20:59:34] *** Joins: cdidd (cdidd@moz-FC37667D.broadband.corbina.ru)
[20:59:52] <eibwen> what kind of 'other way around' did you have in mind? :D
[21:00:23] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[21:00:48] <aatch> rusti: 'ẞ'.to_uppercase()
[21:00:49] <doomlord_> ~[T] vs &[T] ... when moving to vec_ng::Vec,  you write Vec<T> and &Vec<T> ?
[21:00:49] -rusti- ẞ
[21:00:49] <kimundi> eibwen: I though you'd mean either 'ẞ'.to_uppercase() == 'ß' or 'ß'.to_lowercase() == 'ẞ', which both would be wrong :P
[21:01:06] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[21:01:12] <eibwen> :)
[21:01:19] <kimundi> doomlord_: No, &[T] remains
[21:01:32] <aatch> so you can lower case ẞ, but not upper-case ß, that makes no sense...
[21:01:36] <kimundi> doomlord_: Vec<T> is a ~[T] equivalent, not a [T] equivalent
[21:01:43] *** Joins: vky (chatzilla@moz-402D01EB.dsl.dynamic.sonic.net)
[21:02:00] <doomlord_> Vec<T> .. does that do pretty much what C++ does, and &[T] is.. what
[21:02:07] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[21:02:50] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[21:02:54] <kimundi> aatch: Backwards compability :P ẞ is uppercase ß in germany, but only since a few years or so... the older canonical uppercase form of ß is SS, which however are two codepoints, and thus not implemented under the simple case folding Rusts char type supports now
[21:03:11] <eibwen> what?
[21:03:17] <eibwen> since when is ẞ uppercase ß in germany?
[21:03:21] <brandonson> is there a way to tell a task to yield?  I think I'm starving my timer which makes things weird.
[21:03:43] <kimundi> doomlord_: Vec<T> is struct {*T, size, capacity}, and &[T] is struct {*T, size}
[21:04:00] <Eridius> brandonson: std::task::deschedule()
[21:04:04] <kimundi> doomlord_: Vec<T> is a owning, growable vector, &[T] is still a non-owning immutable slice
[21:04:09] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[21:04:16] <brandonson> Eridius: thanks, I'll give it a try
[21:04:26] <doomlord_> i'm kind of hoping ~[T] can remain as (*T,size) ..:)
[21:04:41] <Eridius> doomlord_: (*T,size) is not growable
[21:04:51] <doomlord_> so if you're passing mut ~[T] with the intent of growing it, you'd have to pass &Vec<T> instead ?
[21:04:54] <eddyb> but that's what DST ~[T] will be
[21:05:08] <doomlord_> i do like the distinction between growable and non growable cases.
[21:05:14] <eddyb> doomlord_: if you own a ~[T], you should be able to convert it to Vec<T>
[21:05:16] <eddyb> and vice-versa
[21:05:23] <kimundi> eibwen: http://en.wikipedia.org/wiki/%C3%9F#Upper_case
[21:05:30] <eddyb> shrink_to_owned(Vec<T>) -> ~[T]
[21:05:34] <doomlord_> the compiler is telling me to replace ~[T] with Vec<T>, right ?
[21:05:38] <eddyb> making capacity == length
[21:05:40] <doomlord_> thats the plan?
[21:05:40] <eddyb> doomlord_: yes
[21:05:52] <eddyb> doomlord_: current ~[T] will be removed
[21:06:06] *** Joins: toffaste1337 (toffaste13@moz-961E85E8.customer.lyse.net)
[21:06:08] <eddyb> DST will make [T] a type, ~[T] becoming just the result of ~ mixed with [T]
[21:06:20] <eddyb> it will have the same representation as &[T]
[21:06:31] <eddyb> (since it's just a different kind of pointer to the same type)
[21:07:00] *** Quits: chridou (chatzilla@moz-D16DD711.dip0.t-ipconnect.de) (Quit: ChatZilla 0.9.90.1 [Firefox 27.0.1/20140214013806])
[21:07:00] <kimundi> doomlord_: temporary, the compiler wants you to replace _all_ ~[T] with Vec<T>, because there will be a transitionary phase where ~[T] will be unimplemented. Once it got removed, and we have DST, you will be free to choose between ~[T] and Vec<T> depending on wether you want growability or not
[21:07:05] <doomlord_> wait is ~[T] actually going to be like Uniq<(*T,size)> ... or (*T,size)
[21:07:07] *** Quits: Guest (textual@D6B5DD7E.D8252BC.9532F1CE.IP) (Ping timeout)
[21:07:23] <kimundi> (*T,size)
[21:07:28] <toffaste1337> Could anyone tell my what the "server.sendbuffer" field is? I am getting an error on my server saying "Send buffer full" can this be fixed by changing the "server.sendbuffer" field?
[21:07:30] <doomlord_> ok then thats great
[21:07:53] <eddyb> toffaste1337: Rust the game?
[21:08:09] <toffaste1337> Yes
[21:08:15] <eddyb> bstrie: they are invading IRC!
[21:08:15] <doomlord_> this is a step forward, ~[T] is going to be what i used to have as my 'default case' in my pre stdlib C++ :) and i made the growable case somethign else. 'DynamicArray<T>'.  
[21:08:17] <aatch> This is Rust the programming language.
[21:08:21] <bvssvni> hahahahaha
[21:08:23] <eddyb> toffaste1337: how did you even find this place?
[21:08:26] <toffaste1337> Lol xD
[21:08:32] <aatch> But, we're on the Mozilla IRC network!
[21:09:01] <benh> googling for 'rust irc' gives pretty much exclusively rustlang-related results
[21:09:15] <aatch> Why did nobody tell me Mozilla was getting into game-dev!
[21:09:24] <bvssvni> is that a good sign or is this a bad sign
[21:10:12] <bvssvni> toffaste1337: look for r/playrust at Reddit
[21:10:25] <bvssvni> toffaste1337: perhaps they have a link to irc there
[21:10:44] <eddyb> someone should be evil and name a game after *old* programming language
[21:10:48] <eddyb> *languages
[21:10:58] *** Joins: dybt (dybt@E6EBCD3B.BF465F54.B0C1FFA1.IP)
[21:10:59] <bvssvni> yeah
[21:11:01] <bvssvni> COBOL
[21:11:03] <aatch> benh, one problem, Google uses your search history to tailor your search results.
[21:11:04] *** Quits: dybt (dybt@E6EBCD3B.BF465F54.B0C1FFA1.IP) (Connection reset by peer)
[21:11:09] <eddyb> bvssvni: Cobalt gets close
[21:11:25] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[21:11:27] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[21:11:31] *** Quits: toffaste1337 (toffaste13@moz-961E85E8.customer.lyse.net) (Quit: Leaving)
[21:11:32] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[21:11:54] *** Joins: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP)
[21:12:29] <kimundi> Someone should name a popular a game in whatever programming language Rust the game is written in, to get back at them ;)
[21:12:42] <eddyb> C or C++
[21:12:52] <eddyb> make a music game and name it C#+
[21:13:20] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[21:13:22] *** Joins: Doppp (Doppp@moz-CE720357.hfc.comcastbusiness.net)
[21:13:24] * eddyb ducks and runs
[21:13:31] *** Quits: Ferreus (ferreus@moz-8F21EEE7.lsn.wtnet.de) (Quit: WeeChat 0.4.4-dev)
[21:13:59] <benh> aatch: i've got that turned off
[21:14:40] <benh> and it's the same if i search in a private-browsing session via a proxy, so unless they go out of their way to track me via some weird fingerprinting, i think i'm good
[21:15:02] <olsonjeffery> awesome. i have a json structure, created w/ json::Encode that can't be parsed w/ json::Decode
[21:15:16] *** Joins: philix (felipe@moz-9FAFA12F.user.veloxzone.com.br)
[21:15:28] <Eridius> olsonjeffery: ?
[21:16:14] <doomlord_> yikes, Vec doesn't support [i] yet ? .get(i) .. is that WIP , or do i just need to update my compiler
[21:16:20] <kimundi> NOOOOOOOOOOOOOOOOOOOOOOO
[21:16:25] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[21:16:31] <kimundi> DAMN IT!
[21:16:34] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Ping timeout)
[21:16:38] <benh> calm down :U
[21:16:41] <kimundi> I read https://github.com/mozilla/rust/issues/12925 wrong
[21:16:51] <eddyb> how so?
[21:16:56] <kimundi> I spend the whole day refactoring the impls _away_ from the trait modules
[21:17:07] <eddyb> hahahahaha
[21:17:15] *** Quits: philix (felipe@moz-9FAFA12F.user.veloxzone.com.br) (Ping timeout)
[21:17:24] <kimundi>  was just about to make a PR T_T
[21:17:24] <kimundi> https://github.com/Kimundi/rust/compare/move_impls?expand=1
[21:17:36] <eddyb> kimundi: at least it's not thousands of lines in librustc
[21:17:37] <olsonjeffery> olsonjeffery: pretty much what it is. i made a json document w/ the built-in encodable/decodable facilities
[21:17:56] <olsonjeffery> and i can't decode it. also verified that its bogus json (i can't parse it w/ firefox's jsonviewer addon)
[21:17:56] <eddyb> doomlord_: I should be working on that, actually
[21:18:00] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[21:18:05] <olsonjeffery> so now to figure out how it isn't well-formed
[21:18:09] <Eridius> olsonjeffery: make a reproducible test case?
[21:18:10] <eddyb> olsonjeffery: try JSON.parse in node.js
[21:18:25] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[21:18:27] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[21:18:30] <Eridius> olsonjeffery: also to find out what's wrong just google for "json validator"
[21:18:38] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[21:18:46] <olsonjeffery> ah
[21:18:49] <olsonjeffery> interesting
[21:18:51] <eddyb> or that
[21:18:52] <olsonjeffery> used a raw int key
[21:19:02] <olsonjeffery> and not int-key-wrapped-in-double-quotes
[21:19:22] <olsonjeffery> so it looks like possibly from HashMaps w/ int keys
[21:20:02] <ChrisMorgan> The [T] *syntax* is going to stay around in a DST world, right?
[21:20:11] <kimundi> ChrisMorgan: yes
[21:20:18] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[21:20:20] <eddyb> ChrisMorgan: embrace the [[[T]]]
[21:20:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[21:20:52] <doomlord_> will it be called something else .. is it a slice
[21:21:02] *** Joins: mib_drgcym (Mibbit@moz-F6E8DA4C.pppoe-dynamic.high-speed.ns.bellaliant)
[21:21:03] <doomlord_> or just a 'non growable vector'
[21:21:19] <eddyb> array but some people only want array for [T, ..N]
[21:21:22] <kimundi> doomlord_: probably slice, or unsized array or so
[21:21:22] * ChrisMorgan therefore puzzles a little over why one would be encouraged to change one's code from ~[T] to Vec<T> if when the change does take place the code should be changed back to almost what it was before
[21:21:36] <Eridius> ChrisMorgan: because ~[T] is growable now and won't be in DST
[21:21:36] <bvssvni> [[[o]]] I'm sorry Dave. I'm afraid I can't do that
[21:22:13] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[21:22:19] * bvssvni looking forward to Rust obfuscation contests
[21:22:23] <kimundi> Like, possible names could be "owned slice" for ~[T], referenced slice for &[T] etc
[21:22:33] <ChrisMorgan> Eridius: OK, I must have misread the DST proposals that I read. I thought that ~[T] would be a fat pointer including length, thus sized.
[21:22:41] <olsonjeffery> yeah. definitely hashmaps and int keys.
[21:22:47] <doomlord_> i used to call them 'Array<T> for (T*,size)',  DynamicArray<T>(T*,size,maxSize),   Buffer ( like that but wouldn't realloc..) FixedBuffer(stack allocated, compile time capacity..)  etc etc
[21:22:49] <kimundi> ChrisMorgan: No, you are right
[21:22:49] <eddyb> ChrisMorgan: sized != growable
[21:22:53] <olsonjeffery> well, now to update rust and go through the song and dance of fixing it.
[21:23:00] <ChrisMorgan> Oh, yeah.
[21:23:03] <mib_drgcym> Hello, I used bindgen to generate a c -> rust binding then I compiled it to an rlib. But I can't seem to figure out how do I add my rlib so it resolves? Do I need to do #[link(name=)] or extern crate or what?
[21:23:08] * ChrisMorgan was indeed conflating those two things
[21:23:13] <eddyb> ChrisMorgan: things like the AST will likely use ~[T]
[21:23:14] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[21:23:28] <eddyb> ChrisMorgan: to not waste one word in various places
[21:23:28] <bvssvni> mib_drgcym: extern mod blah;
[21:23:38] <eddyb> extern crate
[21:23:38] <ChrisMorgan> So growable will need to explicitly be Vec<T> or some such thing?
[21:23:42] <kimundi> ChrisMorgan: Theoretical, if you do not use the groawble functionality from ~[T] (.push() etc), you could leave it unchanged - but its easier to first switch to Vec<T> completely than to handle all the subtl differences
[21:23:47] <eddyb> ChrisMorgan: yupp
[21:23:47] <aatch> you can *technically* grow a ~[T], it's just not nearly as efficient
[21:23:50] <doomlord_> explicit growable is a good thing :)
[21:23:54] <eddyb> ChrisMorgan: Rc<[T]> is a shared slice
[21:23:57] <bvssvni> mib_drgcym: and you need a -L to rustc and the folder
[21:24:05] <eddyb> ChrisMorgan: Rc<RefCell<Vec<T>>> is a shared growable vector
[21:24:18] <doomlord_> i can now go back in time and punch someone in the face for telling me 'you only need one vector everywhere'
[21:24:30] <eddyb> doomlord_: JS?
[21:24:43] <doomlord_> i mean a few ex colleagues
[21:24:44] <eddyb> numbers, arrays and objects. why would you want more?
[21:24:52] <mib_drgcym> So at the top of my c -> rust bindgen result I have #[crate_id = "test#0.1"]; #[crate_type = "lib"]; then I added extern crate test; and ran rustc -L . test.rs is this correct?
[21:24:53] *** Joins: dylanb (dylanb@E6EBCD3B.BF465F54.B0C1FFA1.IP)
[21:24:54] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[21:24:54] <bvssvni> doomlord_: Lua has one type for everything
[21:24:54] <Earnestly> eddyb: All you need is `mov`
[21:25:06] <eddyb> Earnestly: mauve, mauve is all you need
[21:25:12] <doomlord_> back when the boss decreed ' all programmers must standardize the way they write C++'
[21:25:26] <Earnestly> http://www.cl.cam.ac.uk/~sd601/papers/mov.pdf
[21:25:36] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[21:25:40] <eddyb> massively owning vector? (trying to guess now)
[21:25:42] <aatch> Hmm, ~[T] could also fit well in a SmallVector-esque niche
[21:25:51] <mib_drgcym> Lua has more then one type.
[21:25:59] <doomlord_> aatch definitely
[21:25:59] <eddyb> Earnestly: wait what? oh dear this is going to be a ride
[21:25:59] <Earnestly> eddyb: x86 assembly instruction
[21:26:18] <Earnestly> He shows how it can be optimised at the end as well
[21:26:37] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[21:26:40] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[21:26:41] <doomlord_> aatch i wondered if you could use adress space hacks to encode the information that a ~[T] is actually growable (if the *T is in a certain range, assume its' got capacity prefixed...)
[21:26:41] <eddyb> sooo... can you have a uISC?
[21:26:47] <eddyb> with just mov?
[21:26:54] <eddyb> (like RISC, but micro)
[21:26:58] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[21:27:13] <doomlord_> .. but thats dependant on having enough adress space to throw around for that..
[21:27:30] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[21:27:32] <eddyb> Earnestly: sounds like a good model for a redstone CPU (where you don't want a large instruction set)
[21:27:47] <bvssvni> https://en.wikipedia.org/wiki/One_instruction_set_computer
[21:27:48] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[21:27:49] <Earnestly> I think "one" is about as small as you can get ;p
[21:27:51] <kimundi> doomlord_: That sounds like a horrible, if interesting, hack. :D
[21:27:58] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[21:28:02] <eddyb> 1-bit is amusing
[21:28:22] <eddyb> "Subtract and branch if less than or equal to zero" hahahaha
[21:28:36] <eddyb> so this is a CISC with one instruction
[21:28:58] <eddyb> you know what? wiREd can actually decompile something obfuscated with that
[21:29:25] <eddyb> (not sure about the memory part. but it definitely computes stacked instructions like that)
[21:29:26] <Earnestly> eddyb: Well, the paper isn't a "subtract if branch"
[21:29:34] <Earnestly> eddyb: It's mentioned in the Discussion at the end though
[21:29:39] <eddyb> yeah, I know, the paper is weirder
[21:29:45] <Tobba> I know some guy who built one of those
[21:29:47] <Tobba> it was weird
[21:30:03] *** Joins: ehsanul (Mibbit@moz-C07D5168.p2p.sfo1.mozilla.com)
[21:30:08] *** Quits: wting (wting@E31B3884.E538DA90.20F09BA6.IP) (Client exited)
[21:30:12] <eddyb> NOT a reminds me of how I would've done addition in a clamping arithmetic world with only subtraction
[21:30:19] <eddyb> (i.e. analog redstone in minecraft)
[21:30:27] *** Quits: vky (chatzilla@moz-402D01EB.dsl.dynamic.sonic.net) (Ping timeout)
[21:30:32] <div> possibly stupid Q: is there any reason rust needs explicit dereference operator for boxed types?
[21:30:42] <div> let sum = *managed + *owned + *borrowed;
[21:30:45] <eddyb> div: design choice
[21:30:57] <div> why can't this be: let sum = managed + owned + borrowed;
[21:31:01] <eddyb> something about adga and a battle between implicit and explicit
[21:31:21] <div> yeah that's what i figured
[21:31:22] <Tobba> ugh
[21:31:27] <eddyb> div: C++ references work that way and there's a lot of issues with them
[21:31:31] <Tobba> somehow something is getting double borrowed
[21:31:42] <Tobba> and fail_ gives no backtrace whatsoever
[21:31:53] <eddyb> you can't nest them like in Rust and you can't assign the reference instead of the referee
[21:31:55] <aatch> It doesn't come up that often, mostly when doing stuff like implement operator overloads for newtypes
[21:31:56] *** Quits: sawrubh (uid6719@moz-5F4AA75A.irccloud.com) (Quit: Connection closed for inactivity)
[21:32:20] <aatch> Tobba, hang-on, what?
[21:32:38] <doomlord_> acutally instead of refactoring all my ~[T] , maybe i should just look for everywhere i do actually grow the things, and leave it be
[21:32:45] <Tobba> my stuff is failing because I somehow have something thats already borrowed when it tries to be borrowed
[21:32:48] <doomlord_> ^leave it be elsewhere
[21:32:56] <Tobba> but I have no idea what because the failure happens in cell.rs and it gives no backtrace
[21:32:58] <eddyb> Tobba: b rust_fail (in a debugger)
[21:33:08] <Tobba> I'm on windows
[21:33:16] <Tobba> debuggers would be cheating and also more effort than its worth
[21:33:19] <eddyb> Tobba: and now you can get a backtrace by enabling a RUST_LOG thing
[21:33:28] <Tobba> ah, yeah thats what I'm looking for
[21:33:36] <eddyb> mentioned by acrichto in his presentation
[21:33:49] *** Joins: Guest (textual@D6B5DD7E.D8252BC.9532F1CE.IP)
[21:34:24] <Tobba> well now its failing instantly instead
[21:34:25] <Tobba> what the shit
[21:34:56] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[21:35:12] <doomlord_> yikes, Vec::from_slice(&[[0,1,2],[1,3,2]])    ... "failed to find an implementaion of Clone for [int, ..3]"  (its' a Vec<[int,..3]> being initialized..)
[21:35:51] <Tobba> eddyb: what do I have to set it to to get a backtrace
[21:35:54] <eddyb> doomlord_: y u no macro?
[21:35:56] <Tobba> anything higher than 2 crashes the application
[21:35:58] *** Joins: tboyt (sid23344@moz-5F4AA75A.irccloud.com)
[21:35:59] <kimundi> doomlord_: use vec!([0,1,2],[1,3,2])
[21:36:06] <eddyb> Tobba: std::rt::backtrace or something like that
[21:36:12] <eddyb> doomlord_: can't wait for https://github.com/mozilla/rust/pull/12947
[21:36:15] <killerswan> thanks, kimundi 
[21:36:16] <Tobba> uhhhh
[21:36:18] <eddyb> I'm sure it will be approved
[21:36:19] <kimundi> that expands to let tmp=... .push(...). push(...)
[21:36:30] <eddyb> with type macros, we'll be able to do simd![4 x f32]
[21:37:09] <eddyb> Tobba: does it work?
[21:37:54] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[21:37:57] <Tobba> nope
[21:38:02] <Tobba> according to an issue report, its broken
[21:38:04] <Tobba> fantastic
[21:38:20] <doomlord_> eddyb that looks rather interesting
[21:38:24] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[21:38:38] <killerswan> hey, so has anyone noticed that the [src] links in the docs are bogus when compiled locally?
[21:39:18] *** Quits: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP) (Quit: Leaving...)
[21:39:25] <Tobba> all I can say: well, shit
[21:39:27] <Tobba> time to go through it manually
[21:39:56] *** Joins: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP)
[21:40:33] <doomlord_> yikes, the new compiler crashes with my current sourcebase, i'm wondering if fixing the warnings (which are all Vec..) will help
[21:41:09] <aatch> Tobba, well it shouldn't be too hard to find where the borrows are, since you should be able to look at all the borrow_mut calls
[21:41:18] *** Quits: ehsanul (Mibbit@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: http://www.mibbit.com ajax IRC Client)
[21:41:25] <Tobba> theres a whole bunch and I have no idea how they can happen inside eachother
[21:41:38] <aatch> Tobba, easier than when it was implicit
[21:41:41] <Tobba> it happened when I made this one borrow_mut() but it shouldent be borrowed in the first place
[21:41:54] <aatch> and I was tracking them down in the compiler code-base...
[21:42:00] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:42:35] <Tobba> logical conclusion: this cant happen
[21:42:39] <Tobba> I think I may need that backtrace
[21:43:14] <aatch> Tobba, that's not the logical conclusion. It *shouldn't* happen, but it clearly is.
[21:43:16] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[21:43:36] <Tobba> nothing else even borrows where I think the error is occuring
[21:43:37] <Tobba> in that scope
[21:44:21] <aatch> Tobba, this is a runtime error, so scopes aren't relevant
[21:44:39] <aatch> it could be a borrow from way off somewhere else.
[21:45:48] <Tobba> its only borrowed in a few places
[21:45:49] *** Quits: sevandk (ksev@moz-71F7E457.cable.teksavvy.com) (Client exited)
[21:45:51] <Tobba> and I've taken out almost them all
[21:45:56] <Tobba> and its still happening
[21:46:03] <Tobba> I really need to get a backtrace for fixing this 
[21:46:23] <Tobba> sadly the code is intelligently compiled through mingw which makes mere morals not able to attach a debugger
[21:46:30] <Tobba> and RUST_LOG is broken
[21:46:39] <Tobba> mortals*
[21:47:08] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[21:47:52] *** Quits: Ms2ger (Ms2ger@moz-F6755E2F.adsl-dyn.isp.belgacom.be) (Quit: nn)
[21:48:20] <Tobba> thing is, it worked fine before this one was borrow_mut
[21:48:27] <Tobba> and now even if I take it out it still doesnt work
[21:49:33] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:50:28] <aatch> Tobba, sounds like trying to fix it made stuff worse.
[21:50:33] <Tobba> pretty much
[21:50:35] <Tobba> I found it though
[21:50:53] <Tobba> as expected, stupidity
[21:51:37] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[21:51:43] <aatch> Tobba, btw, this is why `@mut` was removed. Imagine that pain, but without the advantage of being able to grep for borrow[_mut]
[21:51:52] <Tobba> hah
[21:51:52] <Tobba> yeah
[21:52:09] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[21:53:03] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[21:53:05] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[21:53:05] <Tobba> oh hey it seems to sorta work
[21:53:08] <stevekla1nik> what's the _newest_ PLT theory stuff we use?
[21:53:09] <bvssvni> jensnockert: ping
[21:53:12] <doomlord_> is there a chance @ could stay without mut. shared, immutable data.
[21:53:16] *** Joins: johnwalker (john@moz-E52097FC.dhcp.insightbb.com)
[21:53:16] <Tobba> well
[21:53:22] <Tobba> its even slower than I thought and seems to fail miserably
[21:53:22] <doomlord_> or is that too much of a niche case
[21:53:23] <Tobba> oh well
[21:53:25] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[21:53:40] <aatch> doomlord_, unlikely.
[21:53:40] <eddyb> stevekla1nik: lifetimes, maybe
[21:53:56] <stevekla1nik> seems reasonable
[21:54:01] <aatch> Rc is the replacement.
[21:54:09] <eddyb> stevekla1nik: I hear they're from cyclone, and that's less than a decade old, from what I could gather
[21:54:15] <stevekla1nik> eddyb: happen to know ... oh ok
[21:54:17] <stevekla1nik> hehe
[21:54:21] *** Quits: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP) (Quit: Leaving...)
[21:55:20] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[21:55:22] <killerswan> @erickt do you know how to include source in a doc comment?
[21:55:22] *** Quits: johnwalker (john@moz-E52097FC.dhcp.insightbb.com) (Quit: Konversation terminated!)
[21:55:36] <aatch> killerswan, as in an example?
[21:55:44] <eddyb> stevekla1nik: there they're called "regions" and they also act like arenas
[21:55:50] <killerswan> I'm waiting for rust to build documents again, and it is taking forever, and I dunno if I've got it right
[21:55:53] <krdln> and DST? Is there any language with dst and fat pointers?
[21:56:12] <killerswan> when I did code inside of ```, it got all garbled
[21:56:19] <erickt> killerswan: I think it's ```rust ... ```
[21:56:35] <eddyb> stevekla1nik: I don't think they're checked as strictly as they are in rust, and I doubt the &T/&mut T aliasing rules are there
[21:56:37] <jensnockert> bvssvni: pong.
[21:56:40] <aatch> Hmm, DST might be Rust's one and only rust-only feature.
[21:56:50] <erickt> killerswan: you can see examples of it in libstd/vec.rs
[21:56:53] *** Quits: sfackler_ (sfackler@moz-C07D5168.p2p.sfo1.mozilla.com) (Ping timeout)
[21:57:00] <bvssvni> jensnockert: I have a question about cairo.rs. What is RSI?
[21:57:07] <stevekla1nik> eddyb: yeah, makes sense. the paper is from '02
[21:57:14] <stevekla1nik> reading now :)
[21:57:35] <krdln> aatch: yey!
[21:57:51] <krdln> aatch: something not „rusty” in rust
[21:58:03] <jensnockert> bvssvni: Ah, sorry, it is a code generator that generates Rust bindings for libraries from XML files.
[21:58:19] <killerswan> erickt: hmm, that's what I was doing: just missing the "rust" label, and had left no blank line before the first ```
[21:58:35] <killerswan> we'll see if this builds better looking now...
[21:58:36] <jensnockert> bvssvni: So you feed it a set of XML files, and it outputs the code for a rust crate.
[21:58:52] <jensnockert> bvssvni: 'it' being a ruby program called rsi.
[21:59:05] <bvssvni> jensnockert: ah
[21:59:39] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[21:59:39] <bvssvni> jensnockert: is it easy to make it compile?
[21:59:41] <jensnockert> The idea being that it generates perfect Rust code for what is otherwise a quite tedious exercise.
[22:00:20] <bvssvni> would be nice to have some more instructions in the README :P
[22:00:21] *** Quits: Guest (textual@D6B5DD7E.D8252BC.9532F1CE.IP) (Ping timeout)
[22:00:27] <jensnockert> bvssvni: Yes, sorry.
[22:00:54] <jensnockert> bvssvni: The rust I built it for is about two weeks old, so it might actually not build right now.
[22:01:18] <jensnockert> But the .rs file in the repo should build with minimal modification.
[22:01:36] <bvssvni> jensnockert: there is a lot of breaking changes happening now, so I write little Rust code
[22:01:36] *** Joins: sfackler_ (sfackler@moz-C07D5168.p2p.sfo1.mozilla.com)
[22:01:49] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[22:01:55] <jensnockert> bvssvni: Yeah, that's why I wanted a code generator ;)
[22:02:01] <jensnockert> So I can just update the code generator.
[22:02:04] <bvssvni> jensnockert: :D
[22:03:42] <brson> i can't figure out the semantics of fetch_nand
[22:04:07] <bvssvni> jensnockert: thinking about a 2D game engine similar to Löve
[22:05:46] <dylanb> I've been trying to work out how to export rust code to be run from c. I've set #[no_std
[22:06:07] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:06:14] <dylanb> ] and no_mangle, but I'm getting loads of undefined reference errors when I try to link the library.
[22:06:32] <dylanb> https://gist.github.com/anonymous/8c900f654186552fc850 any idea where these are coming from?
[22:06:33] *** Joins: tyna (Mibbit@moz-BB1BAD9A.dynamic.chello.pl)
[22:06:35] <killerswan> erickt: the blank line seems to have done it
[22:06:42] <erickt> great
[22:06:46] <killerswan> freaking markdown
[22:06:50] <erickt> haha
[22:07:55] <killerswan> a pull req. documenting std::cml with a good example should be incoming soon (I'm still fiddling with wording here and there)
[22:08:04] <killerswan> s/cml/cmp/
[22:08:11] <killerswan> also spellchecking :P
[22:09:07] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[22:09:16] *** Quits: soundczech (nimu@AFA757FE.C2437F4F.DC877F3B.IP) (Quit: soundczech)
[22:09:17] *** Joins: IanCormac84 (User@D19DC04B.2A8D8854.67DFF8B4.IP)
[22:10:54] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[22:11:32] <bjustin> if I say "let (mut a, mut b) = (1, 2);" can I later do something like "(a, b) = (3, 4);"?
[22:11:57] *** Joins: soundczech (nimu@AFA757FE.C2437F4F.DC877F3B.IP)
[22:12:18] <krdln> rusti: let (mut a, mut b) = (1, 2); (a,b) = (3,4)
[22:12:19] -rusti- <anon>:16:38: 16:43 error: illegal left-hand side expression
[22:12:19] -rusti- <anon>:16         let (mut a, mut b) = (1, 2); (a,b) = (3,4)
[22:12:19] -rusti-                                                ^~~~~
[22:12:19] -rusti- error: aborting due to previous error
[22:12:19] -rusti- application terminated with error code 101
[22:12:20] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:12:47] <krdln> oh, i thought you can
[22:13:09] <bjustin> I though so too until it didn't work :(
[22:14:00] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[22:14:48] <eddyb> cmr: game over at 15936 in 3D. and I think I had everything I needed to get to 2048
[22:15:10] *** Joins: findow (Mibbit@7E217F04.2C8DBE39.CC1A2609.IP)
[22:15:33] <bvssvni> eddyb: link?
[22:15:47] <eddyb> bvssvni: http://joppi.github.io/2048-3D/
[22:17:15] *** Quits: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net) (Ping timeout)
[22:17:41] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[22:17:45] <bvssvni> eddyb: what worries me is that I am just slightly better than hitting random keys
[22:18:05] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[22:18:30] *** Quits: findow (Mibbit@7E217F04.2C8DBE39.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:19:38] *** Quits: soundczech (nimu@AFA757FE.C2437F4F.DC877F3B.IP) (Quit: soundczech)
[22:19:55] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:20:55] *** Joins: twi (Adium@moz-ED056769.cust.vodafonedsl.it)
[22:21:24] *** Quits: blindrenderer (blindrende@772B3B0F.54C85F70.2125B4DC.IP) (Ping timeout)
[22:23:00] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[22:23:14] <kimundi> bjustin, krdln: No, that is currently not supported - pattern bindings only work for introducing new local variables
[22:23:15] *** Joins: bmu_ (chatzilla@moz-A87574A6.hsd1.pa.comcast.net)
[22:23:17] *** bmu_ is now known as bmu
[22:23:48] *** Joins: Guest (textual@D6B5DD7E.D8252BC.9532F1CE.IP)
[22:24:30] <Earnestly> bvssvni: Same haha
[22:24:36] <bvssvni> :D
[22:24:53] <Earnestly> Except less better and more "the same"
[22:25:34] *** Quits: pcdummy (pcdummy@moz-CF4CA865.page4me.ch) (Client exited)
[22:26:23] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Quit: )
[22:26:29] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[22:26:37] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[22:29:08] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[22:29:23] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[22:29:31] *** Quits: div (Mibbit@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: http://www.mibbit.com ajax IRC Client)
[22:30:03] *** Quits: Guest (textual@D6B5DD7E.D8252BC.9532F1CE.IP) (Ping timeout)
[22:30:44] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[22:31:18] *** Quits: nlminhtl|home (ignotus@moz-393BCEC.la.net.ua) (Quit: Konversation terminated!)
[22:31:22] *** Joins: codebx (textual@moz-B0DA5BFF.hsd1.sc.comcast.net)
[22:32:16] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Quit: )
[22:32:35] *** Joins: Guest (textual@D6B5DD7E.D8252BC.9532F1CE.IP)
[22:33:37] *** Joins: ipetkov (ipetkov@moz-E8CA8C2A.resnet.ucla.edu)
[22:35:06] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[22:37:19] *** Quits: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se) (Ping timeout)
[22:41:26] *** Quits: morganb (morgan_b_@moz-5EAC75A2.hfc.comcastbusiness.net) (Ping timeout)
[22:43:20] *** Quits: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr) (Quit: ZNC - http://znc.sourceforge.net)
[22:43:20] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[22:44:44] *** Joins: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr)
[22:45:35] *** Quits: alan_andrade (alan_andra@moz-C07D5168.p2p.sfo1.mozilla.com) (Input/output error)
[22:45:37] *** flaper87 is now known as flaper87|afk
[22:45:56] *** Quits: ipetkov (ipetkov@moz-E8CA8C2A.resnet.ucla.edu) (Quit: ipetkov)
[22:46:03] *** Joins: alan_andrade (alan_andra@moz-C07D5168.p2p.sfo1.mozilla.com)
[22:46:38] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[22:47:04] *** Quits: erickt (etryzelaar@moz-C07D5168.p2p.sfo1.mozilla.com) (Ping timeout)
[22:47:14] *** Joins: strcat (strcat@moz-61B073BC.cpe.net.cable.rogers.com)
[22:47:39] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[22:47:46] *** Quits: cschneid (cschneid@moz-621ACC77.hlrn.qwest.net) (Client exited)
[22:47:46] *** Quits: alan_andrade (alan_andra@moz-C07D5168.p2p.sfo1.mozilla.com) (Ping timeout)
[22:47:54] *** Quits: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr) (Ping timeout)
[22:49:15] *** Quits: rook (rook@moz-97AF7010.hsd1.mn.comcast.net) (Quit: leaving)
[22:49:32] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[22:50:29] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[22:52:08] *** Quits: mye (mye@moz-44FA1913.dip0.t-ipconnect.de) (Quit: mye)
[22:52:37] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[22:52:38] *** Joins: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr)
[22:52:45] *** Joins: enos (jkingyens@moz-B0C1B161.hsd1.ca.comcast.net)
[22:53:07] *** Joins: alonlevy (alon@2CD54432.57968636.E9C721AF.IP)
[22:53:49] *** Quits: alkino_ (alkino@moz-61F150EC.w92-151.abo.wanadoo.fr) (Ping timeout)
[22:54:19] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[22:55:15] *** Quits: stevekla1nik (steveklabn@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: bai)
[22:56:13] *** Joins: morganb (morgan_b_@moz-5EAC75A2.hfc.comcastbusiness.net)
[22:56:31] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Quit: canhtak)
[22:58:29] *** Joins: pcdummy (pcdummy@3CD6C9EC.D7F3C061.6A8D7145.IP)
[23:00:15] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[23:00:39] <pcwalton> brson: r? https://github.com/mozilla/rust/pull/12952
[23:00:59] *** Quits: Doppp (Doppp@moz-CE720357.hfc.comcastbusiness.net) (Ping timeout)
[23:01:06] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[23:01:23] *** Joins: rook (rook@moz-97AF7010.hsd1.mn.comcast.net)
[23:01:25] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[23:01:31] *** Joins: Doppp (Doppp@moz-CE720357.hfc.comcastbusiness.net)
[23:01:38] *** Quits: Doppp (Doppp@moz-CE720357.hfc.comcastbusiness.net) (Quit: Doppp)
[23:01:47] *** Quits: jackneill (jackneill@moz-51ABD5E3.pool.digikabel.hu) (Input/output error)
[23:02:01] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[23:02:54] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[23:02:55] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[23:03:00] *** Quits: codebx (textual@moz-B0DA5BFF.hsd1.sc.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:03:08] *** Quits: cadence (Mibbit@moz-10A3B59C.sub-70-209-23.myvzw.com) (Quit: http://www.mibbit.com ajax IRC Client)
[23:03:19] *** Joins: Doppp (Doppp@moz-CE720357.hfc.comcastbusiness.net)
[23:04:47] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Input/output error)
[23:05:14] *** pmoore|away is now known as pmoore
[23:05:36] *** Quits: Doppp (Doppp@moz-CE720357.hfc.comcastbusiness.net) (Quit: leaving)
[23:06:50] *** jorendorff_away is now known as jorendorff
[23:06:57] *** Joins: claude (Mibbit@moz-7AD9232F.rev.numericable.fr)
[23:07:43] *** Quits: IanCormac84 (User@D19DC04B.2A8D8854.67DFF8B4.IP) (Connection reset by peer)
[23:08:05] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[23:08:12] *** Quits: trustin (trustin@946D547D.87A02F9E.6FF1C976.IP) (Ping timeout)
[23:08:50] *** Joins: IanCormac84 (User@D19DC04B.2A8D8854.67DFF8B4.IP)
[23:09:19] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[23:09:24] *** jorendorff is now known as jorendorff_away
[23:10:17] *** jorendorff_away is now known as jorendorff
[23:10:42] *** Quits: enos (jkingyens@moz-B0C1B161.hsd1.ca.comcast.net) (Quit: enos)
[23:12:20] *** Joins: trustin (trustin@946D547D.87A02F9E.6FF1C976.IP)
[23:12:39] *** kimundi is now known as zz_kimundi
[23:13:05] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:13:10] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[23:14:48] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[23:15:41] *** Joins: alinab (alina@moz-94EAE39D.alinab.org)
[23:16:08] *** Joins: philix (felipe@moz-9FAFA12F.user.veloxzone.com.br)
[23:16:20] *** Quits: bjustin (bjustin@moz-4B914826.hsd1.mn.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:16:41] <bvssvni> why is SVGVersion_1_2 triggering the non_camel_case warning
[23:17:30] *** Joins: vky (chatzilla@moz-402D01EB.dsl.dynamic.sonic.net)
[23:17:44] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:18:03] <mcpherrin> bvssvni: because underscores
[23:18:07] *** Quits: philix (felipe@moz-9FAFA12F.user.veloxzone.com.br) (Ping timeout)
[23:18:40] <bvssvni> mcpherrin: ok, hmm
[23:20:44] <bvssvni> shouldn't numbers be allowed after underscore?
[23:21:03] <brandonson> what's the function to break on for task failure again?
[23:21:08] <cmr> brandonson: rust_fail
[23:21:25] <mcpherrin> bvssvni: Possibly; fix it :-)
[23:22:40] *** Joins: zeuxcg (zeuxcg@moz-80D1F912.hsd1.ca.comcast.net)
[23:23:16] *** Quits: marianoguerra (marianogue@moz-4DFE2D3.dip0.t-ipconnect.de) (Ping timeout)
[23:25:24] * bvssvni -> bed
[23:26:05] <ChrisMorgan> bvssvni: I'd name it Svg12
[23:27:34] <zeuxcg> Is there a thread somewhere on rust-dev or elsewhere with rationale behind removing ~[T]?
[23:27:59] <cmr> zeuxcg: not sure, but it's part of the changes leading up to DST.
[23:28:17] <cmr> ~[T] is going to mean something very different (essentially an owned slice), and won't be growable, and therefore not a vector.
[23:28:55] <zeuxcg> owned slice means that you can still construct it but can't resize?
[23:29:35] <cmr> it will be exactly like &[T] except you will be able to move out of it.
[23:31:12] *** Quits: bvssvni (Mibbit@moz-E289BB64.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[23:32:13] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Client exited)
[23:32:58] *** Joins: mermi (Mibbit@7E217F04.2C8DBE39.CC1A2609.IP)
[23:33:17] <zeuxcg> but how will you get instances of the type?
[23:33:31] <zeuxcg> I'm just looking at this diff (conveniently yours): https://github.com/cmr/hgl-rs/commit/0f61b24d8fe786d636387263c7d13395fd77ec06
[23:33:51] <zeuxcg> and trying to figure out if the long-term strategy for fixed-size heap-allocated arrays is ~[] or Vec.
[23:34:00] *** Quits: Guest (textual@D6B5DD7E.D8252BC.9532F1CE.IP) (Ping timeout)
[23:34:10] <cmr> fixed size heap allocated will be ~[]
[23:34:25] <cmr> I only do that ~[u8] stuff there because std::str requires it.
[23:34:38] <cmr> Vec will be convertable to ~[], AFAIK
[23:35:00] <Tobba> if you run spawn(, will the new task run before or after the following code?
[23:35:30] <zeuxcg> cmr: ok, thanks for the clarification
[23:35:31] <cmr> Tobba: undefined.
[23:35:39] <sfackler_> Tobba: it will run concurrently with the following code
[23:35:50] <Tobba> well shit
[23:35:57] <Tobba> I need it to strictly run before the following segment
[23:36:06] <Tobba> due to stupid blocking networking
[23:36:09] <cmr> you can use a barrier (sync::Barrier)
[23:36:09] <sfackler_> Tobba: use task::try
[23:36:10] *** pmoore is now known as pmoore|away
[23:36:14] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[23:36:18] <cmr> that works too.
[23:37:01] *** Quits: mermi (Mibbit@7E217F04.2C8DBE39.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:37:17] *** Quits: sellout (Adium@moz-F3B3B6C3.hlrn.qwest.net) (Ping timeout)
[23:37:33] <Tobba> I'm not exactly sure what task::try does
[23:37:52] <Tobba> docs are a bit iffy
[23:37:57] <cmr> runs the following code in a new task but waits for its result, returning whether it failed or not.
[23:38:09] <Tobba> ah, not what I need
[23:38:18] <Tobba> I need it to run a new task, and wait for the result unless the task blocks
[23:38:43] <Tobba> only way to do cross platform networking
[23:38:47] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[23:39:00] <cmr> have you considered using zmq instead of our half-baked networking?
[23:39:08] *** Quits: JanC_ (janc@moz-503D5FC.dsl.scarlet.be) (Ping timeout)
[23:39:15] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[23:39:20] <Tobba> zmq doesnt do raw tcp does it
[23:39:32] <cmr> no
[23:39:40] <Tobba> well I need raw tcp
[23:39:45] <cmr> if you need to integrate with an existing protocol, I'm so sorry :(
[23:39:58] <Tobba> I've been trying to do this for a while
[23:40:09] <Tobba> currently it launches a new tasks, which reads a message, pushes it to a channel, then exits
[23:40:10] <cmr> I'm surprised you haven't just given up yet
[23:40:15] <Tobba> however this all had to happen with callbacks
[23:40:22] <Tobba> which went to shit, so now I'm making it use a try_receive function
[23:40:34] <Tobba> however, I cant start reading the packet before the call to try_receive
[23:40:41] *** Quits: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[23:40:55] <Tobba> I was considering wrapping winsock but thats a pain + not cross platform
[23:41:03] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[23:41:28] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[23:42:33] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[23:42:59] *** Joins: mib_2h7aed (Mibbit@moz-FDBE15EC.hsd1.ma.comcast.net)
[23:43:45] *** Joins: doeklund (chatzilla@moz-FDBE15EC.hsd1.ma.comcast.net)
[23:43:58] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[23:44:01] <Tobba> anyone know a cross platform networking lib that isnt libuv?
[23:44:02] *** Quits: mib_2h7aed (Mibbit@moz-FDBE15EC.hsd1.ma.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[23:44:04] *** Joins: enos (jkingyens@moz-E6FB95AC.lightspeed.sntcca.sbcglobal.net)
[23:44:14] *** doeklund is now known as reverend_paco
[23:45:21] *** Quits: sfackler_ (sfackler@moz-C07D5168.p2p.sfo1.mozilla.com) (Ping timeout)
[23:45:23] <ChrisMorgan> Tobba: Rust has libnative which doesn't use libuv.
[23:45:42] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[23:45:42] *** ChanServ sets mode: +ao pcwalton pcwalton
[23:45:48] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[23:45:54] <Tobba> the issue is that all rusts I/O is blocking
[23:45:58] <Tobba> which just gets unmanagable instantly
[23:46:16] *** jorendorff is now known as jorendorff_away
[23:46:26] <mcpherrin> Tobba: depends what you mean by networing library?
[23:46:46] <Tobba> anything I could wrap that could do me cross platform non-blocking I/O
[23:46:47] <mcpherrin> there's stuff like http://enet.bespin.org/
[23:46:56] <Tobba> raw TCP
[23:47:05] <tcsc> depending on how daring you are you could look at boost::asio
[23:47:19] <Tobba> wrapping c++ code would be a nightmare
[23:47:19] <tcsc> probably very hard to wrap from rust though.
[23:47:20] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:47:29] <Tobba> considering wrapping winsock and doing something else for *NIX
[23:47:36] <Tobba> however linking on windows is a PITA in general
[23:48:05] <ChrisMorgan> Given a DST ~[T], how would I go about extending it (object identity is not necessary)?
[23:48:17] <cmr> I've written cross-platform net abstractions, and winsock isn't really that different besides like 3 or 4 things.
[23:48:29] <cmr> ChrisMorgan: convert it into a Vec<T> and push to that.
[23:48:30] <Tobba> depends on what you do
[23:48:34] <Tobba> there are some winsock-only functions
[23:48:36] <Tobba> which are really good by the way
[23:48:45] <ChrisMorgan> cmr: … and then back to ~[T] for storage?
[23:49:02] <ChrisMorgan> That's what I expected.
[23:49:03] <cmr> which are they? I haven't found a hole in the standard stuff. I assume it's the async stuff?
[23:49:20] <cmr> ChrisMorgan: yes. Vec<T> => ~[T] is free though.
[23:49:23] *** Joins: angdev (angdev@16F167B.4C57D258.D8E8354F.IP)
[23:49:33] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:49:33] <cmr> it just loses the capacity.
[23:50:12] *** Joins: Guest (textual@D6B5DD7E.D8252BC.9532F1CE.IP)
[23:52:11] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[23:52:38] *** Quits: claude (Mibbit@moz-7AD9232F.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[23:53:12] <Tobba> I dont even know how I would wrap to wsock32.dll on windows
[23:53:32] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[23:53:41] *** Joins: JanC_ (janc@moz-503D5FC.dsl.scarlet.be)
[23:53:56] <cmr> http://static.rust-lang.org/doc/master/guide-ffi.html ?
[23:54:12] <cmr> #[link(name="wsock32")] extern { fn whatever() }
[23:54:13] <Tobba> afaik windows really does not approve
[23:54:18] <Tobba> but that might work
[23:54:26] *** Joins: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[23:54:27] <cmr> "not approve"?
[23:54:35] <cmr> you might need extern "stdcall" { ... }
[23:54:40] <Tobba> actually
[23:55:03] <Tobba> #[link] should work on windows
[23:55:06] <Tobba> forgot about that one, oh well
[23:55:22] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[23:55:49] <doomlord_> is there ettiquette  to submitting a PR.
[23:56:31] <doomlord_> beyond just testing it works..  ( perhaps it requires an issue to reference first ..)
[23:56:53] <cmr> doomlord_: not usually
[23:57:49] *** Quits: jakub (jakub@moz-828D5B6C.mobile.telia.dk) (Ping timeout)
[23:58:55] *** Quits: zootm (calum@moz-150DDDC2.sgyl.cable.virginm.net) (Ping timeout)
