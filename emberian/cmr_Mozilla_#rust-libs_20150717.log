[00:30:02] *** Quits: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au) (Ping timeout: 121 seconds)
[00:44:56] *** Quits: nagisa (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[01:13:45] *** Joins: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au)
[01:43:05] *** Joins: aatch (james@moz-i1k1ks.tlms.2o1v.e006.2406.IP)
[02:02:50] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[02:07:00] *** Quits: kimundi (kimundi@moz-22v.6le.188.87.IP) (Ping timeout: 121 seconds)
[02:08:47] *** Joins: kimundi (kimundi@moz-nu14gg.pjbh.jk0h.57bc.2002.IP)
[02:12:39] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[02:56:50] *** Quits: rustbot (havvy@moz-epv20b.wa.comcast.net) (Quit: Bot terminated.)
[04:50:16] *** Joins: rustbot (havvy@moz-epv20b.wa.comcast.net)
[06:09:14] *** Quits: aatch (james@moz-i1k1ks.tlms.2o1v.e006.2406.IP) (Quit: Leaving)
[06:21:30] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[06:52:52] *** Quits: Rym (uid91135@moz-n2i7qm.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[06:52:55] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[07:01:10] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[08:03:26] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[08:06:11] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[08:06:11] <ChrisMorgan> Would it be considered backwards-compatible to change, in std::cell, `struct Ref<'a, T: ?Sized + 'a>` to `struct SomeOtherName<'a, T: Deref + 'a>` plus `type Ref<'a, T: ?Sized + 'a> = SomeOtherName<'a, &'a T>;`? (I can explain what this enables if you like.)
[08:08:11] <SimonSapin> ChrisMorgan: I’m curious what this enables
[08:08:27] <ChrisMorgan> It makes the not-yet-stable Ref::map more powerful; as an example, a function producing Cow<T> rather than &T could then be used transparently.
[08:08:43] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[08:08:48] <ChrisMorgan> I make use of this very pattern in mucell, which I’m just updating for this new fanciness. It works.
[08:09:01] <SimonSapin> interesting
[08:09:10] <ChrisMorgan> And you can then also have a fn into_inner on the Ref where T: 'static.
[08:10:19] <ChrisMorgan> So for a Cow, for example, you can do Ref::map(ref, |x| x.something_that_makes_a_cow().into_owned()).into_inner().
[08:11:05] <ChrisMorgan> This will be happening in mucell, I just want to know if the change I propose would be considered backwards-compatible; if it is, I’ll propose it for std::cell too. I believe it should be.
[08:11:15] <ChrisMorgan> (I need it in mucell for teepee’s header representation.)
[08:12:43] <ChrisMorgan> (Well, to do it *enormously* more cleanly than the invasive approach I have in the tree at present.)
[08:18:01] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[08:27:32] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[09:03:24] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[09:24:21] *** Joins: Elaine (Elaine@moz-35s2fm.members.linode.com)
[09:41:40] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[10:14:26] *** Joins: nagisa (nagisa@moz-8t068g.static.zebra.lt)
[11:05:55] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[11:13:03] *** Joins: gleb_ (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[11:13:27] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[12:19:50] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[12:50:52] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[13:01:39] *** Quits: Gankro (sid71432@moz-sc2bd6.charlton.irccloud.com) (Ping timeout: 121 seconds)
[13:03:21] *** Joins: Gankro (sid71432@moz-sc2bd6.charlton.irccloud.com)
[13:15:00] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[14:08:55] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[14:11:11] *** Quits: nagisa (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[14:14:52] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[14:23:55] <ChrisMorgan> SimonSapin: then comes the hard question of CS, what should this more general Ref/RefMut be named? I dodged the question for my implementation that I just made (yes, the technique definitely works) by calling them Ref2/RefMut2!
[14:43:28] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[14:43:45] *** Joins: nagisa (nagisa@moz-8t068g.static.zebra.lt)
[14:56:54] *** Joins: Rym (uid91135@moz-n2i7qm.charlton.irccloud.com)
[15:16:43] *** Joins: nagisa1 (nagisa@moz-8t068g.static.zebra.lt)
[15:17:27] *** Quits: nagisa (nagisa@moz-8t068g.static.zebra.lt) (Connection closed)
[15:32:16] *** Quits: nagisa1 (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[15:43:17] *** Joins: nagisa (nagisa@moz-8t068g.static.zebra.lt)
[16:03:56] <SimonSapin> aww, std::iter::iterate is deprecated. I’ve wanted to use it multiple times but didn’t because it was unstable.
[16:06:10] <SimonSapin> acrichto: how is "traction" judged?
[16:12:58] <acrichto> SimonSapin: gut feeling
[16:42:29] *** Quits: burntsushi (burntsushi@moz-t92kn9.ma.charter.com) (Ping timeout: 121 seconds)
[17:17:42] <Gankro> SimonSapin: in the future there will be a proper FCP
[17:19:12] <SimonSapin> what would it take to un-deprecate it?
[17:19:47] <SimonSapin> It’s not something that most programs need, but it’s fairly general purpose. Same as some other things in that module, like Peekable for example
[17:20:24] <Gankro> SimonSapin: Which one was iterate? Give it a closure and it jsut keeps calling it?
[17:20:36] <SimonSapin> yes
[17:20:43] <SimonSapin> until the closure returns None
[17:21:25] <Gankro> I'm actually surprised that was deprecated
[17:21:39] <Gankro> SimonSapin: But that seems prime "easy to do in a crate" territory, no?
[17:21:49] <SimonSapin> http://doc.rust-lang.org/std/iter/fn.iterate.html
[17:22:13] <SimonSapin> Gankro: yes, like many other things in str::iter
[17:22:38] <Gankro> fwiw a lot of the other niceties are on the way out to
[17:22:44] <Gankro> So it's not exactly inconsistent
[17:22:48] <SimonSapin> :(
[17:22:53] <SimonSapin> what’s on the way out?
[17:23:26] <Elaine> itertools to the rescue!
[17:23:34] <Gankro> I'm not sure anything that's unstable right now is on the stability path
[17:23:44] *** Quits: Asandari (Asandari@moz-emp96u.cable.teksavvy.com) (Ping timeout: 121 seconds)
[17:24:45] <Gankro> SimonSapin: We did a quick'n'dirty split of the features here: https://etherpad.mozilla.org/rust-libs-triage
[17:28:20] *** Joins: Asandari (Asandari@moz-emp96u.cable.teksavvy.com)
[17:35:46] <Gankro> wait acrichto you really want to kill vec::resize?
[17:36:29] <Gankro> ...did we have this conversation before...?
[17:56:07] <acrichto> Gankro: I basically want to just kill everything
[17:56:11] <acrichto> Gankro: but not with a passion
[17:56:16] <Gankro> lol
[17:56:16] <acrichto> if it's wanted then I have no umbridge
[17:56:19] <Gankro> I can respect that
[18:06:03] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[18:06:03] *** ChanServ sets mode: +qo brson brson
[18:26:17] *** Joins: killercup (killercup@moz-gibg6f.dip0.t-ipconnect.de)
[18:33:17] *** Quits: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP) (Ping timeout: 121 seconds)
[18:36:10] *** Joins: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP)
[19:46:25] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[21:17:13] *** Joins: burntsushi (burntsushi@moz-tru9ni.ma.charter.com)
[21:29:13] <Gankro> aturon: I assume you saw I posted Life and Death?
[21:29:59] <aturon> Gankro: no, haven't been on computer. I'm on phone in back seat en route to Yosemite
[21:30:08] <Gankro> Ah ok
[21:30:30] <Gankro> It overlaps pretty heavily with rust-lang crates. Probably makes sense to fold them together
[21:31:58] <Gankro> aturon: I assume you're basically radio silent till monday?
[21:32:09] <Gankro> next moday that is
[21:33:04] <aturon> Gankro: ish. I'll probably check in a bit. I didn't have a chance to write up the rust-Lang stuff so if you want to incorporate that would be great
[21:33:14] <aturon> Notes are in the triage ether pad
[21:34:17] <aturon> (And fine to leave some details underspecced since this will itself be an RFC)
[21:34:34] <Gankro> aturon: eh you seem to have a better picture in your head. I'm kinda "whatever" on rust-lang crates myself. Like I get it... just don't super care.
[21:34:59] <aturon> Haha ok, I can take care of it
[21:35:20] <Gankro> The problems in that space I'm interested in apply more to crates.io in general. And not really in a rust-lang specific way
[21:38:45] <aturon> Yep, plenty to do there also
[21:40:28] *** Quits: WindowsBunny (Peter@moz-vlal7g.east.verizon.net) (Ping timeout: 121 seconds)
[21:43:20] *** Joins: WindowsBunny (Peter@moz-vlal7g.east.verizon.net)
[22:14:24] *** Quits: nagisa (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[22:55:56] *** Quits: kimundi (kimundi@moz-nu14gg.pjbh.jk0h.57bc.2002.IP) (Ping timeout: 121 seconds)
[22:56:09] *** Quits: gleb_ (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[23:00:57] *** Joins: kimundi (kimundi@moz-bsafd4.bs4k.bqfc.57bc.2002.IP)
[23:28:20] *** Quits: killercup (killercup@moz-gibg6f.dip0.t-ipconnect.de) (Quit: Bye)
[23:28:45] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
