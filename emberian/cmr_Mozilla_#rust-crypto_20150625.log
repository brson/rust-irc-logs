[00:03:04] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[00:03:45] *** Joins: dpc (dpc@moz-52v2l7.nvidia.com)
[00:35:44] *** Quits: dpc (dpc@moz-52v2l7.nvidia.com) (Ping timeout: 121 seconds)
[00:43:36] *** Quits: brson (brson@moz-ilu.bfn.243.173.IP) (Quit: leaving)
[00:50:25] *** Joins: adu (ajr@moz-99ult9.md.comcast.net)
[01:03:55] *** Joins: dpc (dpc@moz-52v2l7.nvidia.com)
[01:08:04] *** Quits: dpc (dpc@moz-52v2l7.nvidia.com) (Ping timeout: 121 seconds)
[01:11:58] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[01:27:17] *** Quits: WindowsBunny (Peter@moz-vlal7g.east.verizon.net) (Ping timeout: 121 seconds)
[01:28:49] *** Joins: WindowsBunny (Peter@moz-vlal7g.east.verizon.net)
[01:39:11] *** Quits: skeuomorf (skeuomorf@moz-v34.cog.32.197.IP) (Ping timeout: 121 seconds)
[01:54:37] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[01:54:49] *** Quits: adu (ajr@moz-99ult9.md.comcast.net) (Client exited)
[02:04:57] *** Joins: adu (ajr@moz-99ult9.md.comcast.net)
[02:11:24] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[02:35:12] *** Quits: adu (ajr@moz-99ult9.md.comcast.net) (Client exited)
[03:07:51] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:29:58] <Ilari> Or someone from the respective coutries proposes something based on ECGDSA (German) or ECKDSA (Korean; never seen description for that one)...
[04:05:27] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[04:12:48] <bascule> Ilari: How about EdDDSA (where the extra D is for the state of DJB)
[04:38:33] *** Joins: adu (ajr@moz-99ult9.md.comcast.net)
[04:38:44] *** Quits: adu (ajr@moz-99ult9.md.comcast.net) (Client exited)
[04:45:30] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[04:52:02] <kmc> bascule: ++
[04:53:26] <bascule> Ilari: what do you think about Koblitz curves?
[04:53:31] <bascule> Ilari: they're basically crap, right?
[04:53:36] <bascule> like the internal structure is scary?
[04:54:14] <bascule> I was just talking with gmaxwell about them, who's like one of the main people behind libsecp256k1
[04:54:56] <bascule> I don't really understand the attacks but the concept sets off a lot of warning bells to me
[05:23:01] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[06:41:15] *** Quits: Ilari (user@moz-rej.1k4.155.91.IP) (Ping timeout: 121 seconds)
[06:46:37] *** Joins: Ilari (user@moz-cb3c4u.elisa-laajakaista.fi)
[07:35:14] *** Joins: skeuomorf (skeuomorf@moz-v34.cog.32.197.IP)
[07:38:05] <Ilari> bpugh: I think there are two kinds of kobliz curves. There are the binary ones (yeah, binary curves). And there are the prime ones (which are unrelated, but also called that).
[08:04:02] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[08:16:54] *** Joins: WindowsBunny1 (Peter@moz-vlal7g.east.verizon.net)
[08:18:43] *** Quits: WindowsBunny (Peter@moz-vlal7g.east.verizon.net) (Ping timeout: 121 seconds)
[08:22:44] *** WindowsBunny1 is now known as WindowsBunny
[08:32:42] <Ilari> bascule: And as I understand endomorphisms, those are some cheap way to compute some (usually huge) multiple on the curve.
[09:19:12] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[09:56:01] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[10:42:46] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[10:43:55] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[10:48:36] <Ilari> Well, a bit over half week has gone by since call for proposals, bit under 1.5 weeks to go...
[10:53:33] *** Joins: Tuba (Tobba@moz-o13d22.bredband.telia.com)
[10:54:55] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[10:55:02] *** Tuba is now known as Tobba
[11:34:47] *** Quits: samnmax (samnmax@moz-1vk.aq9.27.72.IP) (Quit: WeeChat 0.3.7)
[11:48:15] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[13:28:47] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[14:19:19] *** Quits: skeuomorf (skeuomorf@moz-v34.cog.32.197.IP) (Ping timeout: 121 seconds)
[14:34:52] *** Joins: Lurkin (Lurkin@moz-a8i1kp.mpls.qwest.net)
[14:51:57] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[15:08:29] <Ilari> The double-hashing the two other proposals do. That's going to be nasty (about equivalent to offline-only) for most protocols.
[16:16:52] <Tiffany> elaine: https://moderncrypto.org/mail-archive/noise/2015/000150.html
[16:26:09] <eternaleye> \o/
[16:27:01] <eternaleye> And now Noise can be easily used over SCTP, too :D
[16:28:33] <eternaleye> I do wonder if he's seen the Rogaway paper, though
[16:32:57] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[16:33:39] *** Joins: brson (brson@moz-ilu.bfn.243.173.IP)
[16:42:41] <bascule> oh hey, new Noise draft
[16:43:04] <bascule> there you go, he got rid of the rekeying and just uses a nonce now, heh
[16:43:53] <bascule> or at least, rekeying is optional
[16:45:19] <eternaleye> His new setup is close to, but not quite the same as, the STREAM construction Rogaway laid out for nonce-based AE schemes
[16:45:28] <eternaleye> Which is why I'm wondering
[16:59:57] *** Quits: brson (brson@moz-ilu.bfn.243.173.IP) (Ping timeout: 121 seconds)
[17:01:40] *** Joins: brson (brson@moz-ilu.bfn.243.173.IP)
[17:02:45] <Lurkin> Would you guys mind linking to the papers you're talking about?
[17:03:51] <bascule> https://github.com/trevp/noise/blob/master/noise.md
[17:05:17] <Lurkin> Very cool.
[17:05:42] *** Quits: brson (brson@moz-ilu.bfn.243.173.IP) (Ping timeout: 121 seconds)
[17:06:41] *** Joins: brson (brson@moz-ilu.bfn.243.173.IP)
[17:07:52] <eternaleye> https://eprint.iacr.org/2015/189
[17:09:48] <Tiffany> wtf
[17:09:58] <Tiffany> I tried checking out my fork of sodiumoxide and it's erroring
[17:10:02] <Tiffany> but it's not erroring in its own repo
[17:10:27] <Tiffany> it's like it's using the wrong version of libsodium-sys somehow
[17:10:31] <Tiffany> even though it's included in the repo
[17:10:59] <Tiffany> libsodium-sys = "*"
[17:11:01] <Tiffany> would that do it?
[17:11:38] <Tiffany> I think it is..
[17:11:38] <Tiffany> https://crates.io/crates/libsodium-sys
[17:17:32] <eternaleye> Tiffany: Don't you need a path-dep for in-repo deps?
[17:17:39] <eternaleye> Tiffany: Not just a version dep?
[17:17:50] <Tiffany> I don't really know how this works
[17:24:03] <sfackler> * dependencies are evil
[17:28:41] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[17:47:37] <Tiffany> what is the relationship between group elements and scalars, and public and private keys?
[17:54:31] <Ilari> Tiffany: Usually public keys are privkey*G, where G is fixed element. But that can be different for some protocols.
[17:55:06] <Ilari> And there is scalar multiplication: scalar element x group element -> group element.
[17:55:23] <Tiffany> I'm specifically referring to noise, which does a scalar multiplication to do ECDHE
[17:55:49] <Tiffany> I think it uses the private key as the scalar and the other party's public key as the group element?
[17:56:23] <Ilari> Yeah.
[17:57:12] <Ilari> a(bX)=(ab)X=b(aX), for any group element X and scalars a and b.
[18:03:56] <Tiffany> I appear to be crashing rustc because I wanted a macro to concatenate some vectors
[18:04:01] <Tiffany> why is concatenating vectors so painful
[18:05:07] <Ilari> Usually scalars are taken to be integers mod modulo prime (there is faster way to compute discrete log if size of scalars is not a prime).
[18:06:58] <Ilari> Specifically, one can calculate discrete log separatedly for each prime factor of scalar size, and one can step up powers of primes one at a time too).
[18:07:57] <eternaleye> Tiffany: Vectors as in Vec, or vectors as in [;] ?
[18:08:03] <Tiffany> Vec
[18:08:06] <Tiffany> well
[18:08:11] <Tiffany> this macro I want in particular
[18:08:16] <eternaleye> Tiffany: Because the former really should be easy enough via Extend/FromIterator
[18:08:19] <Tiffany> I want to take a bunch of slices and make a contiguous vector out of them
[18:08:37] <Tiffany> using a mutable variable and a bunch of val.extend(foo.iter().cloned()) is awkward
[18:08:47] <eternaleye> No, no, no.
[18:09:09] <Tiffany> this python example on wikipedia is particularly painful, since it just uses + as concatenation
[18:09:12] <eternaleye> You join the iterators using chain(), then do .cloned(), then FromIterator
[18:09:38] <eternaleye> You can just work your way rightwards via recursive macro application
[18:10:19] <Ilari> Tiffany: In ECC, it is actually possible to construct an elliptic curve with arbitrary scalar size. And if the size only has small prime factors, the resulting curve is very weak.
[18:10:19] <eternaleye> Hell, even just make it call .collect() at the end, so the caller decides the result type.
[18:11:22] <Tiffany> how does that work?
[18:11:31] <Tiffany> foo.iter().chain(y.iter().cloned).collect()?
[18:11:36] <eternaleye> Not quite
[18:11:39] *** Quits: brson (brson@moz-ilu.bfn.243.173.IP) (Ping timeout: 121 seconds)
[18:11:50] <eternaleye> foo.iter.chain(y.iter()).cloned().collect()
[18:12:00] <eternaleye> er, +parens on that first iter
[18:12:15] <Ilari> Tiffany: For prime curves (excluding some rare exceptions), the strength of curve is determined by the largest prime factor of number of points on curve (scalar size has to divide that).
[18:12:20] <eternaleye> Also, if you are on unstable, http://doc.rust-lang.org/std/slice/trait.SliceConcatExt.html
[18:12:21] <Tiffany> so much for making that a macro
[18:12:23] <Tiffany> I tried this too
[18:12:25] <Tiffany> and got
[18:12:26] <Tiffany> src/net/noise.rs:45:40: 19:18 error: the type of this value must be known in this context
[18:12:36] <Tiffany> followed by an ICE
[18:12:56] <eternaleye> Yes, you need to do let v: Vec<_> = concat!( slices )
[18:13:09] <eternaleye> Or use collect::<Vec<_>>()
[18:13:14] <Tiffany> no, it still does that
[18:13:22] <Tiffany> even when I specifically force .collect::<Vec<u8>>
[18:13:28] <eternaleye> Weird
[18:13:29] <eternaleye> Does it not know the value type in the slice?
[18:13:33] <eternaleye> Hm
[18:13:40] <eternaleye> Sounds like an inference bug
[18:14:17] <eternaleye> But anyway, slice of slices.concat() does the job regardless on unstable with SliceConcatExt
[18:15:25] <Tiffany> https://gist.github.com/tiffany352/7bb454d884b1b0798329
[18:17:56] <Ilari> Tiffany: Already reported? ICEs are bugs.
[18:18:03] <Tiffany> I'll do it
[18:19:13] <Tiffany> I'll make a smaller testcase first
[18:20:22] <Tiffany> huh
[18:20:29] <Tiffany> it appears to only crash sometimes
[18:20:57] <Ilari> rustc with the same file?
[18:21:07] <Tiffany> no, I'm writing a reduced test case
[18:21:13] <Tiffany> there we go
[18:21:21] <Tiffany> I'm apparently doing strange things with the borrow checker
[18:21:24] <Tiffany> er
[18:21:27] <Tiffany> not borrow checker
[18:21:29] <Tiffany> the type inference
[18:23:29] <Tiffany> I should probably try with an updated version of rustc..
[18:23:32] <Tiffany> I'm still on 1.0.0
[18:24:35] <Tiffany> can one of you try compiling this on nightly? http://sprunge.us/AGdg
[18:26:35] <Elaine> still ICEs
[18:26:38] <Elaine> there's a bug open for that though
[18:26:45] <Elaine> the ICE is unrelated to the other error
[18:28:12] <Tiffany> oh
[18:28:15] <Tiffany> so I don't need to report it?
[18:28:27] <Elaine> nah
[18:28:53] *** Joins: brson (brson@moz-ilu.bfn.243.173.IP)
[18:29:25] *** Joins: samnmax (samnmax@moz-1vk.aq9.27.72.IP)
[18:29:36] <Tiffany> I managed to work around it
[18:29:39] <Elaine> you need a type annotation on foo
[18:29:49] <Tiffany> yeah
[18:31:40] *** Quits: samnmax (samnmax@moz-1vk.aq9.27.72.IP) (Quit: WeeChat 0.4.2)
[18:50:22] <Tiffany> I finally finished switching to sodiumoxide
[18:50:55] <bascule> Tiffany: nice!
[18:51:21] <Tiffany> now to update this to the most recent noise revision, and then add decryption
[18:51:46] <bascule> Tiffany: make sure to call sodiumoxide::init()
[18:52:20] <bascule> that will select the faster implementations of various algorithms
[18:59:06] <Tiffany> it's annoying how RFC 7539 deviates from standard chacha20
[19:00:03] <Tiffany> I don't think I can actually use the exact suite defined in the noise spec
[19:00:17] <Tiffany> there is no way for sodiumoxide to use a 96-bit nonce, it doesn't expose the block counter at all
[19:10:18] *** Quits: brson (brson@moz-ilu.bfn.243.173.IP) (Ping timeout: 121 seconds)
[19:16:37] *** Joins: brson (brson@moz-ilu.bfn.243.173.IP)
[20:07:00] <Tiffany> I'm trying to understand how this all works now
[20:07:09] <Tiffany> I'm kind of confused by sessions
[20:07:54] <Tiffany> is h actually initialized to something that isn't a hash?
[20:08:03] <Tiffany> I don't like this Option spam either
[20:09:01] <Tiffany> what happens when a variable is empty and you do something to it?
[20:09:09] <Tiffany> specifically, what happens when you run GETKEY or KDF on an empty k?
[20:09:12] <Tiffany> is it treated as zeros?
[20:48:36] <Ilari> Can that actually happen?
[20:50:05] <Tiffany> well, I'm pretty sure it can ilari
[20:50:19] <Tiffany> initializing a session leaves key empty afaik
[20:50:36] <Tiffany> and DH is specified as doing k = KDF(k, n, output)
[20:50:39] <Tiffany> where output is the DH result
[20:50:48] <Tiffany> but what do you do if k is empty?
[20:56:32] <Ilari> draft-ietf-tls-sslv3-diediedie -> RFC7568 (PS).
[21:08:05] *** Joins: skeuomorf (skeuomorf@moz-v34.cog.32.197.IP)
[21:17:12] <bascule> Ilari: nice, now we just need tlsv1-diediedie
[21:18:13] <Ilari> Also, v1.1 (on basis that it is almost completely unused).
[21:18:44] <Ilari> Yeah, Chrome might do some 1.1 connections, but those are mostly due to server bugs.
[21:18:57] <Ilari> Where both sides would be capable of 1.2
[21:22:53] <Ilari> Or more wholesome deprecation of all kinds of insecure and unused crap in TLS?
[21:23:47] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[21:24:14] <Ilari> Garbage like MD5 is still not formally deprecated.
[21:26:51] <Ilari> A lot of ciphersuites could be marked as "reserved for old insecure ciphersuite" or somesuch.
[21:34:28] <Ilari> 316 ciphersuites currently... All but 155 could be pruned as "Insecure garbage" or "unused and no use forseen".
[21:36:17] <bascule> :(
[21:41:50] <Tiffany> 155 sounds like a lot
[21:42:25] <Ilari> The set of ciphersuites that are actually considered as modern is a lot smaller than that.
[21:42:54] <Tiffany> so stuff like 3DES make up most of the 155
[21:43:44] <Ilari> Actually, I put 3DES in "unused" bin.
[21:44:14] <bascule> but 3DES is Bank Grade(TM)!
[21:44:25] <bascule> the silly combinatorial explosion of key exchange algorithms and symmetric ciphers
[21:44:32] <Ilari> I count 35 ciphersuites that don't contain obsolete stuff.
[21:45:39] <Tiffany> why does TLS allocate entire suites into single code points?
[21:46:05] <Ilari> I guess the reason is because SSL v3.0 did that.
[22:09:19] <eternaleye> And the reason for that is because SSL v1.0 did that
[22:09:28] <eternaleye> And the reason for *that* is lolnetscape
[22:18:01] <bascule> The Mess We're In
[22:33:07] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[22:33:43] <Ilari> Regarding the combinatorial explosion of ciphersuites harming interop, we are going to get the explosion one way or another.
[22:37:45] *** Quits: brson (brson@moz-ilu.bfn.243.173.IP) (Ping timeout: 121 seconds)
[22:55:35] <bascule> Ilari: oh, it's more just calling out all of the possible combinations that gets insane
[22:55:44] <bascule> like each one having a unique OID and so forth
[22:56:06] <bascule> and system administrators having to spell out all of the ciphersuites they want in their config
[22:59:28] <Ilari> If SHA-2 ever breaks, things get real fun with present ciphersuite system.
[23:02:52] <Ilari> Haha: "ARIN #IPv4 stocks down to #007 #IPv6 is Forever! #badJamesBondjokes" "@apnic it's 0.04 already!" "@zajdee that was quick!"
[23:04:29] <Ilari> (Now down to 0.01(372)...) :-)
[23:22:54] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[23:25:13] *** Joins: dpc (dpc@moz-52v2l7.nvidia.com)
[23:25:15] <Tiffany> 0.01 of what?
[23:26:58] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[23:27:55] <Ilari> /8 (2^24 addresses).
[23:30:24] *** Joins: brson (brson@moz-ilu.bfn.243.173.IP)
[23:32:58] <Ilari> Also, 72% of that pool is in /23 (512 addresses) or /24 (256 addresses) fragments.
[23:34:17] <Ilari> Next update is in ~4.5 hours. I expect very little if any blocks larger than /23 to remain.
[23:34:50] <Tiffany> where is this coming from?
[23:35:32] <Ilari> ARIN website.
[23:35:36] <mcpherrin> I am kinda tempted to get a /22 of PI space "just in case"
[23:35:55] <Ilari> And those quotes are from Twitter.
[23:37:17] <Tiffany> trying to find where on the ARIN site it shows these numbers and failing
[23:38:10] <Ilari> Well, AFRINIC still has 2.47 or so /8s in their general pool. :-)
[23:40:05] <Ilari> Tiffany: https://www.arin.net/resources/request/ipv4_countdown.html
[23:44:22] <Tiffany> it's pretty terrible that we're in the middle of the IPv4pocalypse and the majority of low-end consumer-grade routers still lack IPv6 support
[23:45:40] <mcpherrin> Many do support v6 though
[23:45:46] <Tiffany> eh
[23:45:57] <Tiffany> I've been through like a dozen of them and only 1 has had v6 support
[23:46:09] <mcpherrin> I have some random asus one and v6 works fine on it
[23:46:28] <mcpherrin> and I think most of the ones Comcast ships its customers support v6
[23:49:12] <Tiffany> the one I'm on right now doesn't have it
[23:49:19] <eternaleye> And then there's the fact that loads can run OpenWRT
[23:49:25] <Tiffany> the one I got from centurylink doesn't have it, though that one is several years old
[23:49:43] <Tiffany> I think centurylink supports ipv6, but I've never had a router which could do it
[23:52:36] <Tiffany> hmm
[23:52:44] <Tiffany> have there been previous RFCs that prevent fallback to SSLv2?
[23:53:59] <mcpherrin> Comcast is one of the biggest v6 pushers these days
[23:54:07] <mcpherrin> along with Facebook
[23:55:29] <Ilari> SSLv2 is totally insecure.
