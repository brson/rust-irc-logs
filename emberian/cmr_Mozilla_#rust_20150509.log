[00:00:08] *** Joins: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net)
[00:00:14] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[00:01:10] *** Quits: harrisonclarke (harrisoncla@moz-nhv.35b.255.199.IP) (Connection closed)
[00:01:16] *** Joins: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca)
[00:01:25] *** Joins: sfalcon (textual@moz-qtd94t.customer.broadstripe.net)
[00:01:58] *** Quits: santiago (santiago@moz-8th.j2e.167.12.IP) (Ping timeout: 121 seconds)
[00:02:50] *** Quits: hjr3 (hradtke@moz-dmp.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:03:23] *** Joins: santiago (santiago@moz-8th.j2e.167.12.IP)
[00:03:53] <bluss> looping on the back part too is smart
[00:04:25] *** Quits: santiago (santiago@moz-8th.j2e.167.12.IP) (Quit: Computer has gone to sleep.)
[00:04:29] <Twinklebear> too smart?
[00:04:35] *** Joins: jgallagher (john@moz-6ge.dhn.131.24.IP)
[00:04:52] <bluss> I don't know, it's probably the right thing to do
[00:05:07] <bluss> cppreference does it too I noticed after writing mine
[00:05:10] <Twinklebear> oh heh, I mostly copied what the std::partition doc is
[00:05:15] *** Quits: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de) (Connection closed)
[00:06:21] *** Quits: tormoz (geov@moz-3q6.afp.124.178.IP) (Connection closed)
[00:08:26] *** Joins: tormoz (geov@moz-3q6.afp.124.178.IP)
[00:08:26] *** Joins: paratr00pr (amiraj@moz-kjk.trb.186.1.IP)
[00:08:48] *** Quits: jechochamber (Mibbit@moz-rvv.det.208.17.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:08:52] *** Quits: ryanxcharles (ryan@moz-lcf.eq6.124.64.IP) (Ping timeout: 121 seconds)
[00:09:21] *** Quits: Twinklebear (Twinklebear@moz-b2b.o78.110.128.IP) (Quit: Leaving)
[00:09:29] *** bentley|away is now known as bentley
[00:11:11] *** Quits: spider-mario (spidermario@moz-coblcf.fbx.proxad.net) (A TLS packet with unexpected length was received.)
[00:11:12] *** Quits: housl (housl@moz-qnjt4k.ut.comcast.net) (Quit: WeeChat 1.1.1)
[00:11:40] *** Quits: marsel (user@moz-qg3.mg0.180.94.IP) (Ping timeout: 121 seconds)
[00:13:26] *** Quits: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se) (Ping timeout: 121 seconds)
[00:13:44] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[00:15:01] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[00:15:18] <bluss> this has to go into itertools
[00:15:22] *** bentley is now known as bentley|away
[00:15:30] *** Joins: saml_ (saml@moz-rkfmct.res.rr.com)
[00:15:54] *** Quits: sigma (sigma@moz-llrbra.range86-135.btcentralplus.com) (Ping timeout: 121 seconds)
[00:16:51] *** Quits: cburgdorf (cburgdorf@moz-q880t5.dynamic.kabel-deutschland.de) (Client exited)
[00:17:44] *** Quits: Kurufu (Kurufu@moz-pvv8b5.res.rr.com) (Ping timeout: 121 seconds)
[00:17:46] *** Joins: dpc_ (dpc@moz-ja7.3us.228.216.IP)
[00:17:58] *** Quits: victor (Mibbit@moz-fgundf.dynamic.ziggo.nl) (Quit: http://www.mibbit.com ajax IRC Client)
[00:18:05] *** Joins: sin8h (Adium@moz-f0u.cn5.51.106.IP)
[00:18:18] *** Joins: kmcguire (kmcguire@moz-bbqf14.res.bhn.net)
[00:19:42] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:19:46] *** Joins: Kurufu (Kurufu@moz-pvv8b5.res.rr.com)
[00:20:06] *** Joins: essem2 (Thunderbird@moz-l86scb.sd.cox.net)
[00:20:21] *** Quits: Fiveside (fiveside@moz-t2eatg.vsp.com) (Ping timeout: 121 seconds)
[00:20:42] *** Joins: choplin (choplin@moz-qkm9un.ap.nuro.jp)
[00:20:54] *** Quits: Porkepix (Porkepix@moz-564nci.abo.wanadoo.fr) (Connection closed)
[00:21:19] *** Joins: Porkepix (Porkepix@moz-bm3.ndj.138.157.IP)
[00:23:08] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[00:23:21] *** Quits: emk- (mk@moz-v8jscg.dynamic.chello.pl) (Quit: Leaving)
[00:24:44] *** Quits: choplin (choplin@moz-qkm9un.ap.nuro.jp) (Ping timeout: 121 seconds)
[00:26:19] *** Joins: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se)
[00:26:33] *** Joins: jdm (jdm@moz-qme.6cb.114.24.IP)
[00:26:34] *** ChanServ sets mode: +o jdm
[00:28:17] *** Quits: jimb (user@moz-09a.i8g.126.207.IP) (Ping timeout: 121 seconds)
[00:28:24] *** Joins: amukiza (user@moz-3rfrrt.et45.t3cp.014d.2804.IP)
[00:29:40] *** Quits: lyc (lyc@moz-0ke.pqd.150.123.IP) (Connection closed)
[00:29:43] *** Joins: lyc (lyc@moz-dtr.d1s.38.106.IP)
[00:29:50] *** Joins: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se)
[00:30:38] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[00:31:21] *** Quits: mkoskar (mkoskar@moz-ib8bp9.us.unmetered.com) (Ping timeout: 121 seconds)
[00:31:37] *** Quits: sin8h (Adium@moz-f0u.cn5.51.106.IP) (Ping timeout: 121 seconds)
[00:31:58] *** Quits: d_rezzer (chatzilla@moz-t0fmuj.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[00:31:58] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[00:32:04] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:32:26] <genbattle> how do I get a mutable subslice of a mutable slice?
[00:32:44] *** Quits: homa_rano (edre@moz-6pigob.cable.rcn.com) (Ping timeout: 121 seconds)
[00:32:47] <genbattle> or is that bad and I should feel bad for trying?
[00:32:56] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[00:33:13] <bluss> regular slicing works
[00:33:42] <FreeFull> playbot: let foo = &mut [1,2,3][..]; { let bar = &mut foo[1..]; bar[0] = 10; } format!("{}", foo)
[00:33:43] -playbot- <anon>:9:93: 9:96 error: the trait `core::fmt::Display` is not implemented for the type `[_]` [E0277]
[00:33:43] -playbot- <anon>:9         let foo = &mut [1,2,3][..]; { let bar = &mut foo[1..]; bar[0] = 10; } format!("{}", foo)
[00:33:43] -playbot- output truncated; full output at: http://bit.ly/1IXm05P
[00:33:49] <FreeFull> playbot: let foo = &mut [1,2,3][..]; { let bar = &mut foo[1..]; bar[0] = 10; } format!("{:?}", foo)
[00:33:51] *** Joins: errordeveloper (ilya@moz-4uj.bgu.199.90.IP)
[00:33:51] -playbot- "[1, 10, 3]"
[00:34:04] *** Quits: lyc (lyc@moz-dtr.d1s.38.106.IP) (Ping timeout: 121 seconds)
[00:34:06] *** Quits: eric_lagergren (barsonme@moz-hshokg.q6t2.2174.0008.2601.IP) (Ping timeout: 121 seconds)
[00:34:07] *** Joins: lyc (lyc@moz-jft.nr8.226.207.IP)
[00:34:47] *** Quits: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se) (Client exited)
[00:34:47] *** Joins: homa_rano (edre@moz-6pigob.cable.rcn.com)
[00:35:46] <genbattle> hmmm, strange, i'm getting a "expected `&mut [T]`, found `[T]`" error when trying to subslice a mutable array as a function parameter
[00:35:59] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: Textual IRC Client: www.textualapp.com)
[00:36:19] <ChrisMorgan> genbattle: you need to write `&mut x[..]`, not just `x[..]`.
[00:36:26] <genbattle> ohhhh
[00:36:34] <genbattle> thanks
[00:36:37] *** Quits: homa_rano (edre@moz-6pigob.cable.rcn.com) (Connection closed)
[00:36:40] <ChrisMorgan> x[..] is unsized, of type [T].
[00:36:58] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[00:37:11] <genbattle> yea, I blanked on having to &/&mut when passing parameters byref
[00:37:29] <genbattle> used to implicit references in C++ :-/
[00:37:31] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[00:37:39] *** Joins: Twinklebear (Twinklebear@moz-ttrcn3.ut.comcast.net)
[00:37:46] <burntsushi> eddyb_: pong
[00:37:57] <burntsushi> eddyb_: i keep missing you. been a crazy week.
[00:38:02] <ChrisMorgan> If you call a method on it you don’t need the explicit & or &mut, because of autoref.
[00:38:08] *** Joins: skeuomor1 (skeuomorf@moz-59b.jr0.32.197.IP)
[00:38:20] *** Joins: saml__ (saml@moz-rkfmct.res.rr.com)
[00:38:25] <genbattle> right, but that doesn't apply for free functions?
[00:38:31] *** Joins: chc4 (chc4@moz-mjph4c.ma.comcast.net)
[00:39:06] <ChrisMorgan> genbattle: autoref applies to the self parameter of methods only.
[00:39:23] <ChrisMorgan> (Conscious design decision.)
[00:39:32] <genbattle> what's the reasoning behind it?
[00:39:47] *** Joins: homa_rano (edre@moz-6pigob.cable.rcn.com)
[00:39:53] *** Joins: proclus (user@moz-i6nqh2.fios.verizon.net)
[00:39:55] <aatch> genbattle, borrowing is an important part of Rust, having it happen invisibly seemed like a bad idea.
[00:40:14] <ChrisMorgan> … but methods are just too common to do without it.
[00:40:18] *** Joins: fabianvf (fabianvf@moz-onn.3sq.102.66.IP)
[00:40:36] <ChrisMorgan> Method call syntax would need to be substantially altered to be tenable were autoref removed.
[00:40:48] <aatch> genbattle, with method calls, there's an obvious operation for the borrow to attach itself to.
[00:40:57] *** Quits: skeuomorf (skeuomorf@moz-h8l.u8d.32.197.IP) (Ping timeout: 121 seconds)
[00:41:00] *** Quits: saml__ (saml@moz-rkfmct.res.rr.com) (Quit: Leaving)
[00:41:15] *** Quits: Gabriel_7 (Gabriel@moz-mn5uqh.mtgr.92aj.0e35.2a01.IP) (Connection closed)
[00:41:37] *** Quits: alexggordon (alexggordon@moz-4q0f8f.cable.rcn.com) (Ping timeout: 121 seconds)
[00:42:25] <genbattle> right, so the point is to make the programmer specify their intent for how something should be borrowed on the call side as well as the receiver side?
[00:42:59] <genbattle> it makes sense with Rust's borrowing restrictions
[00:43:10] *** Joins: alexggordon (alexggordon@moz-4q0f8f.cable.rcn.com)
[00:43:17] *** Quits: Uther (Thunderbird@moz-gssp49.fbx.proxad.net) (Client exited)
[00:43:32] <genbattle> just strikes me as a little inconsistent, because self in methods is *special*
[00:43:34] *** Quits: geri (Mibbit@moz-5j998n.highway.telekom.at) (Quit: http://www.mibbit.com ajax IRC Client)
[00:44:01] <aatch> genbattle, but we have to use the type of `self` to determine which method to call anyway.
[00:44:38] *** Quits: proclus (user@moz-i6nqh2.fios.verizon.net) (Ping timeout: 121 seconds)
[00:44:52] *** Quits: Havvy (Havvy@moz-nafeuv.5euu.k9bm.0007.2601.IP) (Connection closed)
[00:44:57] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[00:45:06] *** Quits: csherratt (colin@moz-357qdq.cable.teksavvy.com) (Quit: Konversation terminated!)
[00:45:54] <aatch> AND method calls autoderef as well as autoref.
[00:45:58] *** Joins: Havvy (Havvy@moz-nafeuv.5euu.k9bm.0007.2601.IP)
[00:46:28] <aatch> So if they didn't autoref, you'd have weird inconsistencies about when you had to explicitly borrow and when not.
[00:47:26] *** Quits: dpc_ (dpc@moz-ja7.3us.228.216.IP) (Ping timeout: 121 seconds)
[00:47:38] *** Joins: sin8h (Adium@moz-aam.v1v.76.171.IP)
[00:47:39] <XMPPwocky> there's another, sort of silly but real issue
[00:47:42] *** Joins: csherratt (colin@moz-357qdq.cable.teksavvy.com)
[00:47:46] *** Joins: playjax (chatzilla@moz-2m2bp4.optusnet.com.au)
[00:47:48] <XMPPwocky> foo.bar(baz)
[00:48:02] <XMPPwocky> if you type that, then remember .bar takes &self
[00:48:11] <XMPPwocky> you'd have to go back and change it to (&foo).bar(baz)
[00:48:15] <XMPPwocky> this also looks awful
[00:48:32] <XMPPwocky> but if you remember it wants &baz, you just go back a little and insert one &
[00:49:20] <genbattle> is .clone() the only way to copy objects, or is there a way to make them implicitly copy instead of move?
[00:49:46] <FreeFull> XMPPwocky: Especially awful when chaining methods together
[00:49:54] *** Quits: fabianvf (fabianvf@moz-onn.3sq.102.66.IP) (Connection closed)
[00:50:31] <bluss> genbattle: if your type is entirely composed of Copy parts, you can derive Copy for it
[00:50:38] <aatch> genbattle, if a type isn't Copy, then clone is the only way to duplicate a value.
[00:50:44] <bluss> and it will implicitly copy just like for example the type i32 does
[00:50:48] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[00:51:27] *** Joins: hjr3 (hradtke@moz-dmp.av4.169.69.IP)
[00:51:59] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[00:52:57] <genbattle> cool, I was using clone() everywhere to explicitly copy, but deriving Copy for my types may be better
[00:53:08] *** Quits: sw17ch (sw17ch@moz-h64l8d.wa.comcast.net) (Client exited)
[00:53:09] *** Joins: d_rezzer (chatzilla@moz-t0fmuj.hfc.comcastbusiness.net)
[00:54:23] *** Joins: kgrandon (Adium@moz-0b1.6mt.129.104.IP)
[00:55:00] *** Joins: fabianvf (fabianvf@moz-onn.3sq.102.66.IP)
[00:55:37] *** Quits: kwantam (kwantam@moz-1adqok.DYNAPOOL.NYU.EDU) (Quit: WeeChat 1.0)
[00:56:00] *** Quits: OtterCoder (quassel@moz-p97qam.onrq.kn87.100e.2600.IP) (Ping timeout: 121 seconds)
[00:56:12] <bluss> Copy is also incompatible with a type that has a destructor (impl Drop)
[00:57:00] <aatch> genbattle, also, Copy locks you into having the type being Copy (if you expose the type).
[00:57:12] <aatch> genbattle, which is why it's opt-in to start with.
[00:57:50] <genbattle> the type i'm using it is just a bunch of numeric values grouped together, so that shouldn't be an issue
[00:58:40] <aatch> genbattle, just making sure you don't do it purely for the convenience.
[00:59:02] *** Quits: fabianvf (fabianvf@moz-onn.3sq.102.66.IP) (Ping timeout: 121 seconds)
[00:59:12] <aatch> genbattle, if the type should always be Copy anyway (from a "I'm doing something wrong otherwise" perspective) then go right ahead
[00:59:53] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[01:01:33] <genbattle> hmmm
[01:02:21] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[01:02:27] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[01:05:06] <genbattle> we have a lint for recursive function calls now?
[01:06:06] *** Joins: kwantam (kwantam@moz-1adqok.DYNAPOOL.NYU.EDU)
[01:06:15] *** Quits: hjr3 (hradtke@moz-dmp.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:06:54] *** Joins: nstoddard (nstoddard@moz-ce50ao.dhcp.embarqhsd.net)
[01:07:25] *** Joins: hjr3 (hradtke@moz-dmp.av4.169.69.IP)
[01:07:31] *** Joins: woboats (tatterdemal@moz-a0dnkb.ca.comcast.net)
[01:08:20] *** Quits: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca) (Connection closed)
[01:09:02] *** Joins: cburgdorf (cburgdorf@moz-63ai4l.dip0.t-ipconnect.de)
[01:09:08] <nstoddard> Is there documentation on `thread_local!` and `scoped_thread_local!`? I don't know how to use them, or when to use them instead of a `static` variable.
[01:09:16] *** Quits: abaez (abaez@moz-pqg1ef.fios.verizon.net) (A TLS packet with unexpected length was received.)
[01:09:42] *** Quits: hjr3 (hradtke@moz-dmp.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:09:46] *** Quits: erz (erz@moz-n26c5c.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:11:23] <huon> nstoddard: http://doc.rust-lang.org/nightly/std/thread/struct.LocalKey.html
[01:11:25] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:11:45] *** Joins: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca)
[01:12:58] *** Quits: srh (User@moz-s78nuu.q9f2.utp8.0306.2602.IP) (Quit: Leaving)
[01:13:08] *** Quits: jaen (jaen@moz-ifmik2.copit.pl) (Quit: WeeChat 1.1.1)
[01:13:32] *** Quits: jdm (jdm@moz-qme.6cb.114.24.IP) (Quit: )
[01:15:41] *** Quits: sin8h (Adium@moz-aam.v1v.76.171.IP) (Quit: Leaving.)
[01:17:02] *** Joins: fleabay (Mibbit@moz-fdcruo.ip.windstream.net)
[01:17:52] <genbattle> I'm getting a mismatched type error when I try to implicitly return `None` inside an if block in a function that returns an `Option<>`?
[01:18:08] <genbattle> it only lets me return none there if I use an explicit `return None;`
[01:18:37] <genbattle> expected `()`, found `core::option::Option<_>`
[01:18:43] <nstoddard> huon: Thanks, I was looking at http://doc.rust-lang.org/std/macro.thread_local!.html which isn't much help at all. It should probably have a link to the page you linked to.
[01:18:45] *** Quits: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca) (Connection closed)
[01:18:47] <niconii> genbattle: you can't implicitly return None
[01:18:54] <genbattle> ah
[01:19:05] *** Joins: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca)
[01:19:07] <genbattle> but you can implicitly return Some()?
[01:19:20] <niconii> genbattle: ...no?
[01:19:20] <bluss> genbattle: and you must have both the branches of an if-else to evaluate to a value
[01:19:27] *** Quits: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca) (Connection closed)
[01:19:28] *** Joins: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca)
[01:19:45] <niconii> genbattle: Options are just normal enums, there's no special implicit semantics with them
[01:20:24] <genbattle> niconii, I realise that, I'm talking about rust's normal implicit return syntax
[01:20:40] <genbattle> bluss seems to have identified the reason it won't work
[01:20:48] *** Joins: cptroot (Mibbit@moz-n169l8.caltech.edu)
[01:20:55] *** Quits: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca) (Connection closed)
[01:21:25] <niconii> genbattle: well, it's not an implicit return syntax, it's just "whatever the last expression in a block is, that's what's returned"
[01:21:26] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[01:21:44] *** Quits: willem (willem@moz-facs2s.dynamic.upc.nl) (A TLS packet with unexpected length was received.)
[01:21:50] *** bstrie sets mode: +o niconii
[01:21:58] <genbattle> right
[01:22:09] <bstrie> niconii: one of these days I'll figure out who to talk to to make that automatic :P
[01:22:21] *** Joins: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca)
[01:22:25] *** Joins: fkaa (tundmatu@moz-501od2.business.telia.com)
[01:22:49] <aldeka> Hi! I'm trying to combine some strings in Rust, but everything I've tried has failed. http://pastebin.com/adFFFshv
[01:23:01] <huon> nstoddard: good point
[01:23:02] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[01:23:08] <aldeka> (it's a const in the paste, but I tried with a &str as well and got the same error)
[01:23:37] <aldeka> I think that I may be missing something fundamental about strings, they never seem to be happy being printed or being arguments to other things :/
[01:24:09] <mbrubeck> aldeka: push_str modifies its argument; it doesn't return a value.
[01:24:22] <aldeka> Oh.
[01:25:19] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[01:25:21] <ebfull> Rc<Trait> works now?
[01:25:24] *** Joins: Lurkin2 (Lurkin@moz-p4efgs.mpls.qwest.net)
[01:25:25] <niconii> genbattle: anyway, to be clear, { a; b; c } always returns c, { a; b; c; } always returns () -- rust doesn't do any magic there
[01:25:48] <mbrubeck> aldeka: If you don't want to modify the original String, you can do something like `let recv_email = address.to_string() + SEND_DOMAIN;`
[01:25:58] <aldeka> Oh!
[01:26:11] <aldeka> I think I tried +ing strings before and got an error, but maybe they were &strs.
[01:26:29] <ebfull> i guess it doesn't
[01:26:32] <ebfull> will it someday?
[01:26:36] *** Quits: dpc (dpc@moz-52v2l7.nvidia.com) (Quit: Leaving)
[01:26:46] <mbrubeck> Yeah, the str/String split can be tricky..
[01:27:23] <FreeFull> aldeka: The left side of + has to be a String and the right a &str
[01:28:01] <blaenk> reem: can you bump ver for staticfile thanks
[01:28:07] <niconii> playbot: "hi ".to_string() + "there"
[01:28:08] -playbot- "hi there"
[01:28:23] <reem> blaenk: yes, doing now
[01:28:28] <blaenk> aww yee
[01:28:51] <reem> blaenk: also just added DebugMap support to TypeMap
[01:28:55] <blaenk> :O
[01:29:00] *** Quits: Lurkin (Lurkin@moz-p4efgs.mpls.qwest.net) (Ping timeout: 121 seconds)
[01:29:16] <reem> blaenk: I’m thinking about changing iron to use it instead of a vanilla map
[01:29:25] *** Quits: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca) (Connection closed)
[01:29:27] <reem> but then I would have to change plugin to work with it as well
[01:29:46] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[01:29:57] *** Quits: errordeveloper (ilya@moz-4uj.bgu.199.90.IP) (Ping timeout: 121 seconds)
[01:30:07] *** Joins: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca)
[01:30:08] <aldeka> whoa!
[01:30:18] <blaenk> what do would you use DebugMap for in iron?
[01:30:23] <blaenk> not too familiar with iron atm reem
[01:30:27] <blaenk> its internals rather
[01:30:33] <reem> blaenk: ah ok, the Request and Response types just embed a TypeMap
[01:30:36] <aldeka> playbot: "is this" + " an error?"
[01:30:37] -playbot- <anon>:9:9: 9:18 error: binary operation `+` cannot be applied to type `&'static str` [E0369]
[01:30:37] -playbot- <anon>:9         "is this" + " an error?"
[01:30:37] -playbot- output truncated; full output at: http://bit.ly/1KsmHlD
[01:30:43] <aldeka> playbot: "is this".to_string() + " an error?"
[01:30:45] -playbot- "is this an error?"
[01:30:48] <blaenk> reem: you mean the extensions field? or is that separate
[01:30:49] <reem> blaenk: so I’d just use a DebugMap so I could include all the current extensions data in the Debug impl
[01:30:54] <reem> blaenk: yes in the extensions field
[01:30:56] <blaenk> oooooo
[01:31:19] <reem> right now the Request and Response Debug impls do not include very much useful information
[01:31:26] <blaenk> yeah
[01:31:34] <reem> since both bodies are stored in readers, and all the extensions data is opaque (since TypeMap)
[01:31:41] <blaenk> yeah, I see
[01:31:45] <reem> basically all you get is the status and method/url
[01:31:56] <blaenk> yeah that's a very interesting idea
[01:31:56] <benji> Hi guys, if I create a BufReader using a fs::File object, is there any way i can reset the cursor for that File, so I can create another BufReader?
[01:31:59] *** Quits: robyoung (uid12953@moz-mj1ko8.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[01:32:29] <reem> blaenk: staticfile bumped
[01:32:31] <benji> (I know this is a silly request, but it's for a unit test and I can't be bothered to use two different files / close the file before hand)
[01:32:32] <blaenk> sweet :D
[01:32:44] *** Joins: kgrandon1 (Adium@moz-338de5.mycingular.net)
[01:33:03] <aldeka> Can I convert a String into a str?
[01:33:10] <XMPPwocky> benji: .seek
[01:33:27] <aldeka> smtp's EmailBuilder appears to only take strs for arguments.
[01:33:35] <FreeFull> aldeka: &*string, or usually just &string
[01:33:41] *** Quits: kgrandon (Adium@moz-0b1.6mt.129.104.IP) (Ping timeout: 121 seconds)
[01:33:52] <Dabo> benji, why not use tempdir?
[01:33:57] <benji> XMPPwocky: ahhh, it's on the FIle object, not the reader :D
[01:34:00] <benji> XMPPwocky: thanks!
[01:34:10] *** Quits: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca) (Ping timeout: 121 seconds)
[01:34:37] <XMPPwocky> benji: it's on both
[01:34:48] <XMPPwocky> BufReader implements Seek when the underlying Reader implements Seek
[01:34:50] *** Quits: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net) (Client exited)
[01:35:15] *** Quits: cburgdorf (cburgdorf@moz-63ai4l.dip0.t-ipconnect.de) (Client exited)
[01:35:38] <blaenk> passcod: check out my fixes for `notify` when you get a chance :)
[01:35:42] <blaenk> sup wocky
[01:36:37] <aldeka> FreeFull: thanks!
[01:36:46] *** Joins: nedp (nedp@moz-vg6vvt.bigpond.net.au)
[01:37:51] <blaenk> hey reem, do you have any interest in/is it even possible to allow typemap to be used like an anymap, with the least friction possible? i.e. if you want the key and value to be the same type, to avoid having to provide the impl for every type
[01:38:06] <Sgeo> What's the difference between Rust's deref coercions and Scala's implicit conversions?
[01:38:19] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[01:38:43] *** Quits: dmac (dmac@moz-4kcd1c.ca.comcast.net) (Ping timeout: 121 seconds)
[01:38:45] <blaenk> cause I think it'd be pretty cool if typemap scaled down to that level if someone didn't need separate types for k/v, but I understand if that's not a goal, since that was the impression I originally got
[01:39:08] <reem> blaenk: I wouldn’t be against adding that flexibility if it didn’t make the non-same-key-value-types API worse
[01:39:14] *** Quits: dwrensha (chatzilla@moz-46o4hi.pa.comcast.net) (Ping timeout: 121 seconds)
[01:39:30] *** Joins: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca)
[01:39:33] <reem> blaenk: a macro that adds an “id” Key impl would alleviate some situations
[01:39:41] <blaenk> yeah I was thinking a macro is the best we could get probably
[01:39:44] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[01:39:54] <reem> blaenk: the major thing is that you can’t implement Key for like, String, since coherence
[01:40:00] <FreeFull> Sgeo: You'll get an answer as soon as someone who knows Scala shows up
[01:40:03] <blaenk> ahh
[01:40:09] <reem> blaenk: so if you want your values to be the plain types, you need a separate key type anyway
[01:40:21] <blaenk> Sgeo: let me remember what implicit conversions are and I'll tell you
[01:40:49] <blaenk> reem: yeah. I don't mind so much in that case cause I'm already used to creating newtypes to make entries more descriptive
[01:40:52] <reem> Sgeo: I do not know how implicit conversions work, but Deref coercions apply only in a rather specific situation, from &T -> &U where T: Deref<Target=U>
[01:41:02] *** Joins: proclus (user@moz-i6nqh2.fios.verizon.net)
[01:41:16] <blaenk> yup, that should cover it. they're specifically for derefs
[01:41:40] *** Joins: mr_trousers (Mibbit@moz-ou20uk.volia.net)
[01:41:45] <reem> blaenk: a type_key! (name bikesheddable) macro that could be invoked either type_key! { Ty } or type_key! { Ty => OtherTy } would be nice
[01:42:06] *** Quits: mr_trousers (Mibbit@moz-ou20uk.volia.net) (Quit: http://www.mibbit.com ajax IRC Client)
[01:42:10] <reem> though impl Key for Ty { type Value = OtherTy } is not so bad, and much more flexible if you have type parameters involved
[01:42:23] *** Quits: kgrandon1 (Adium@moz-338de5.mycingular.net) (Quit: Leaving.)
[01:42:47] <blaenk> yeah. well what about such a macro with 2 arms. the normal arm would be Ty => OtherTy, and if you only give Ty then it'd use the same type for both things
[01:42:50] <blaenk> or is that what you meant
[01:43:03] <reem> that is what I meant :)
[01:43:06] <Sgeo> How is that specific? Because of the limited ability to make those due to coherence?
[01:43:09] <blaenk> duh lol -_-
[01:43:22] <blaenk> yeah that'd be pretty cool I guess, but yeah it's not all that much of a gain in the end
[01:43:30] <blaenk> the gain would be to not have to write a macro invok at all
[01:43:51] <blaenk> but I don't know if that'd be possible. like it wouldn't be possible to create a typemap alias like DebugMap et al that would assume <T, T> ?
[01:44:01] <reem> Sgeo: you can’t define an implicit conversion from T -> U that applies in all cases
[01:44:26] <Sgeo> But &T seems rather common anyway
[01:44:31] <reem> blaenk: nope, since the methods signatures all have the Key stuff
[01:44:37] <blaenk> ahh okay
[01:44:37] *** Quits: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca) (Connection closed)
[01:44:53] <reem> blaenk: maybe you could have a default somewhere, but I don’t see exactly where and it would probably give weird errors if you did something wrong in the K != V case
[01:45:06] <reem> or worse, just implicitly do the wrong thing
[01:45:13] *** Quits: proclus (user@moz-i6nqh2.fios.verizon.net) (Ping timeout: 121 seconds)
[01:45:18] <blaenk> :S
[01:45:20] *** Joins: bfrog (tburdick@moz-hpc0jl.il.comcast.net)
[01:46:12] <reem> e.g let x: String = map.get().unwrap(); would implicitly look up with K = String, even though you might not mean that and just want String as the value type, so you’d get a sad panic.
[01:46:28] *** Joins: newbie (eibwen@moz-t09e97.dip0.t-ipconnect.de)
[01:46:29] *** Quits: paratr00pr (amiraj@moz-kjk.trb.186.1.IP) (Quit: Leaving.)
[01:46:30] <blaenk> yeah
[01:47:12] <Sgeo> Just use HList instead, which is still unreleased because I'm still not sure how to resolve the coherence issues
[01:47:28] <blaenk> me?
[01:47:34] *** Joins: sin8h (Adium@moz-4gl.cvv.51.106.IP)
[01:48:02] * Sgeo is half joking. HList is probably unsuitable for some use-cases anyway
[01:48:02] <reem> an HList would be better, but unfortunately doesn’t really exist right now
[01:48:22] *** Joins: munksgaa1d (munksgaard@moz-478pev.u.parknet.dk)
[01:49:02] <Sgeo> So, why can't macros bypass coherence as though their produced code was in the crate where the macro was defined? (Or maybe they secretly do, which would be weird, I haven't tested it)
[01:49:23] *** Quits: eibwen (eibwen@moz-96pnjp.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[01:49:39] <reem> they don't
[01:49:49] <reem> probably just because it would be a pretty complex semantic if it worked that way
[01:50:27] *** skeuomor1 is now known as skeuomorf
[01:50:35] *** Quits: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP) (Ping timeout: 121 seconds)
[01:51:18] *** Quits: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk) (Ping timeout: 121 seconds)
[01:51:22] <blaenk> dude reem lol
[01:51:26] <blaenk> I think I might switch to typemap actually
[01:51:33] *** Joins: dwrensha (chatzilla@moz-52ciq2.east.verizon.net)
[01:51:35] <blaenk> I just realized duhhh, much nicer than having to wrap in a newtype and all that
[01:51:40] <blaenk> and having to unwrap etc
[01:51:43] <blaenk> cause I've been doing that a lot
[01:51:47] <reem> that is why I created typemap
[01:51:49] <blaenk> lol
[01:52:02] <reem> this was before we had tuple indexing too
[01:52:05] <blaenk> it's just that it seemed inconvenient for the cases when the type is already self-descriptive
[01:52:10] <reem> so you had to do a let to unpack a newtype
[01:52:10] <blaenk> like SomeUniqueType
[01:52:31] <Sgeo> I'm thinking of newtypes to get around my coherence issues
[01:52:34] <blaenk> in that case what should one do, impl Key for UniqTy { type Value = UniqTy }? or should they create a separate label type anyways?
[01:52:34] *** Parts: Sgeo (Sgeo@moz-mo8ath.dyn.optonline.net) ("Leaving")
[01:52:38] *** Joins: Sgeo (Sgeo@moz-mo8ath.dyn.optonline.net)
[01:52:42] <blaenk> yeah that's how you get around them sgeo
[01:52:53] <Sgeo> Not sure how that affects the API though
[01:52:59] <reem> blaenk: you can do either, they are both appropriate at times
[01:53:01] *** bvssvni is now known as bvssvni_
[01:53:14] <Sgeo> So .get() and .get_mut() are only callable on the fully constructed HList
[01:53:15] <blaenk> hmmm. yeah I think imma try this typemap
[01:53:34] <reem> blaenk: basically you just have to remember that the user has to type out the key type entirely, but the value type is inferred, so if there is a very complex value type even if is unique it’s often worth adding a key type or some kind of type alias
[01:53:43] *** Quits: munksgaa1d (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[01:54:28] *** Quits: rbranson (rbranson@moz-i7m.9o0.201.199.IP) (Quit: Computer has gone to sleep.)
[01:55:06] <blaenk> ahh
[01:55:12] <blaenk> that's a good idea
[01:55:16] *** Quits: lyc (lyc@moz-jft.nr8.226.207.IP) (Connection closed)
[01:55:31] *** Joins: lyc (lyc@moz-0ke.pqd.150.123.IP)
[01:55:36] <blaenk> so the value type is inferred, since the key type uniquely identifies the value type
[01:55:40] <blaenk> so you don't need to annotate it right
[01:55:42] <reem> exactly
[01:55:46] <blaenk> ahh okay
[01:55:52] <reem> before associated types existed you had to write both the key and value types, which kind of sucked
[01:56:00] *** Joins: envi_u (envi@moz-ih5.olo.169.121.IP)
[01:56:08] <blaenk> yeaaaah that's how I remembered it
[01:56:15] <blaenk> which was why I went with anymap since at the time, for the most part, I wanted K == V
[01:56:30] <blaenk> but lately I've been wrapping in newtypes a lot, so I'm definitely gonna try typemap
[01:56:36] *** Joins: thelink2012 (Mibbit@moz-21t.aul.183.179.IP)
[01:57:24] *** Joins: tkellen (tkellen@moz-f5ji1n.vt.comcast.net)
[01:57:28] *** Joins: pjenvey (pjenvey@moz-ph7jic.org)
[01:57:43] <thelink2012> How could I let this macro work http://is.gd/WDKRx9 ?
[01:57:55] *** Joins: dpc_ (dpc@moz-t6gr4b.ca.comcast.net)
[01:58:34] *** Joins: geofft (geofft@moz-vfphq1.mit.edu)
[01:58:56] *** Quits: amukiza (user@moz-3rfrrt.et45.t3cp.014d.2804.IP) (Connection closed)
[01:59:06] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[01:59:33] *** Quits: tkellen (tkellen@moz-f5ji1n.vt.comcast.net) (Client exited)
[01:59:34] <whipsch> thelink2012: you probably need to add a case for just 1 arg
[01:59:35] *** Quits: lyc (lyc@moz-0ke.pqd.150.123.IP) (Ping timeout: 121 seconds)
[01:59:42] <whipsch> because with that pattern it will always expect the ,
[01:59:46] *** Quits: jawzi (jawzi@moz-9o5r4v.mn.charter.com) (Connection closed)
[02:00:01] <thelink2012> whipsch: Oh, nice, thanks
[02:00:05] <whipsch> in fact, if you do test! { fn fun(obj: i32,); } it will work
[02:00:07] <blaenk> reem I can define the typemap myself right, I don't have to use the alias?
[02:00:20] <blaenk> e.g. I can create TypeMap<CloneAny> myself, or do I have to use CloneMap
[02:00:32] <reem> blaenk: DebugAny and CloneAny are exported, so you can define them and their send/sync variants yourself
[02:00:39] <blaenk> ahh okay
[02:00:51] <blaenk> hey about that, you can't do TypeMap<CloneAny + DebugAny> can you
[02:00:54] <reem> unfortunately the system doesn’t support CloneAny + DebugAny
[02:00:59] <blaenk> aww, oh well
[02:01:21] <reem> I could add support for it, and CloneAny + DebugAny + Send etc. but there’s a combinatorial explosion of methods on CloneAny and impls
[02:01:26] <blaenk> yeah definitely
[02:01:32] <blaenk> that was the problem I was originally unsure about
[02:01:54] <reem> eventually when the support for X + Send gets less awful, and eventually when we get X + Y this could all be simplified
[02:02:14] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[02:02:27] *** nsm|away is now known as nsm
[02:03:08] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[02:03:22] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[02:03:41] <geofft> waaaait a second, is the implementation of Any just that it checks equality on the trait object's vtable? 
[02:04:23] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[02:05:24] <blaenk> reem do you know if pub struct Label; stuff is type-level only and elided away at runtime?
[02:05:36] <blaenk> I mean I imagine it's already a negligible impact, but is there even one at all?
[02:05:49] <blaenk> not something I worry about, but a curiosity
[02:06:06] <reem> geofft: it has a vtable method for getting the TypeId of the underlying type, which it can call from Any objects to implement downcasting (the actual downcast is just a transmute of the data ptr)
[02:06:35] *** Joins: lyc (lyc@moz-jft.nr8.226.207.IP)
[02:06:43] <reem> blaenk: that is a zero sized type, so it is almost entirely elided, you can use enum Label { } to be sure you *only* use it as a type and it will have absolutely no overhead
[02:06:53] <blaenk> oooo
[02:06:56] <reem> (since you can’t even create an instance of that type even if you wanted to)
[02:06:57] <blaenk> didn't know that bit about the enum
[02:07:03] <blaenk> but I probably won't bother, good to know though
[02:07:10] <reem> cf. https://github.com/reem/rust-void
[02:08:23] *** Quits: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:08:46] <geofft> reem: so there is compiler support for the TypeIds? 
[02:09:05] <reem> geofft: yes, it’s basically just a compiler-generated hash unique to each type
[02:09:08] <geofft> it sorta seems like you don't need compiler support, you can just make TypeId a newtype on the vptr 
[02:09:42] <geofft> on the other hand, if the compiler is generating vptrs, generating real TypeIds is not too hard and less crazy :) 
[02:10:02] <reem> geofft: the “vtable method” is just a method that is part of the Any trait
[02:10:07] <reem> with a default implementation
[02:10:18] <reem> actually it is implemented for all T: ‘static + Reflect
[02:10:38] *** Joins: kngl (Adium@moz-rmgnkh.dynamic.voo.be)
[02:11:25] *** Quits: qrlpx (quassel@moz-n7t.3nb.211.95.IP) (Ping timeout: 121 seconds)
[02:12:11] *** Quits: gthank (gthank@moz-5sim0m.ga.charter.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:13:27] *** Joins: gandalf_ (zbraniecki@moz-cp7c4m.ca.comcast.net)
[02:13:27] *** Quits: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:14:12] *** Quits: }ls{ (uhelp@moz-g6b.b6c.169.84.IP) (Quit: User terminated by real life interrupt)
[02:14:39] *** Joins: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca)
[02:15:03] *** Quits: sin8h (Adium@moz-4gl.cvv.51.106.IP) (Quit: Leaving.)
[02:16:03] *** Quits: nham (nham@moz-755.bu3.214.98.IP) (Ping timeout: 121 seconds)
[02:17:16] *** Joins: mjewkes (mjewkes@moz-uur7pt.eastlink.ca)
[02:17:47] *** Quits: zz_kimundi (kimundi@moz-ovh.rvb.226.79.IP) (Ping timeout: 121 seconds)
[02:18:02] *** Quits: Nextra (Nextra@moz-9ert3d.osnanet.de) (Quit: Leaving)
[02:19:59] *** Joins: zz_kimundi (kimundi@moz-a3om2j.dip0.t-ipconnect.de)
[02:20:14] <thelink2012> in C++ zero sized types aren't allowed, that's not the case in Rust as I see?
[02:20:27] *** zz_kimundi is now known as kimundi
[02:21:37] <blaenk> man I always get confused with as_ref vs by_ref. is there a reason for the naming that would allow me to remember? this most recent time I got it right (Option's as_ref)
[02:21:45] <blaenk> as_ref is also easier to remember now because of AsRef
[02:21:53] *** Joins: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP)
[02:22:04] <blaenk> so I guess I just need to remember when it's by_ref, and I think that's just Read/Write and Iterator
[02:22:24] *** Joins: ozgrub (Mibbit@moz-h4er9s.static.wiline.com)
[02:22:29] <blaenk> I guess 'get the value 'by reference'', whereas as_ref you already have the value and want it as a reference
[02:22:34] *** Joins: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk)
[02:22:48] <blaenk> with by_ref, read/write/iterator you don't have the value, so you're saying get the value by reference
[02:23:07] *** Quits: ozgrub (Mibbit@moz-h4er9s.static.wiline.com) (Quit: http://www.mibbit.com ajax IRC Client)
[02:23:10] <blaenk> as_ref on any of those would more intuitively yield &I/&R/&W which doesn't make much sense. alright I think I got this
[02:23:25] <reem> blaenk: if you guessed as_ref all the time you’d get it right 90% of the time
[02:23:30] <blaenk> yeah lol
[02:23:40] <reem> by_ref is comparatively much rarer and does something more specialized
[02:24:13] *** Joins: nham (nham@moz-755.bu3.214.98.IP)
[02:24:13] *** Quits: homa_rano (edre@moz-6pigob.cable.rcn.com) (Connection closed)
[02:24:38] *** Joins: homa_rano (edre@moz-6pigob.cable.rcn.com)
[02:24:56] *** Quits: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:25:11] *** Joins: rmgk_ (ragnar@moz-rtqdl3.dyn.telefonica.de)
[02:25:22] *** nsm is now known as nsm|away
[02:25:55] *** Quits: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP) (Ping timeout: 121 seconds)
[02:25:56] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[02:28:32] *** Quits: rmgk (ragnar@moz-4ki0t6.dyn.telefonica.de) (Ping timeout: 121 seconds)
[02:33:05] <posborne> Hey all, I need to allocate a buffer (on the heap) whose size I do not know until runtime (i.e. a Box<[u8]>)
[02:33:18] <posborne> What is the easiest way to perform that allocation
[02:33:41] <posborne> My current solution involves creating a vec and then doing into_boxed_slice
[02:35:09] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[02:35:15] *** Quits: dickchansey3 (dickchansey@moz-vbukko.adsl.tpnet.pl) (Ping timeout: 121 seconds)
[02:35:22] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[02:35:32] *** Joins: dickchansey3 (dickchansey@moz-mikldi.static-ro.twistednetworks.net)
[02:35:52] <qmx> howdy! I have a fn that receives a Write, and another thing that needs a Read - is there something already done which pipes one into the other?
[02:36:44] *** Joins: sin8h (Adium@moz-4gl.cvv.51.106.IP)
[02:37:05] <qmx> closest I've seen is std::io::copy but this isn't exactly what I want
[02:37:26] <Dabo> posborne, that's probably the easiest way
[02:37:38] <Dabo> I don't think that's too bad of a way to do it personally
[02:38:28] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[02:39:10] <posborne> Dabo: Is there any easy way to fill the vector up to a certain length?  I can set the capacity but into_boxed_slice drop excess capacity
[02:39:48] <posborne> Dabo: I'm in idiot... looks like set_len will do what I want here
[02:39:52] *** chmanchester|afk is now known as chmanchester
[02:40:04] *** Joins: matp (matp@moz-rvt9hl.matp.at)
[02:40:17] *** Quits: gandalf_ (zbraniecki@moz-cp7c4m.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:40:27] *** Quits: matp_ (matp@moz-rvt9hl.matp.at) (Ping timeout: 121 seconds)
[02:40:46] <posborne> Dabo: I guess it is unsafe, but that is fine for my use case
[02:40:58] <Dabo> posborne, yeah, if you are sure to fill it up that works
[02:41:12] <thelink2012> posborne: I think it's more conveniet to vec![V, N]?
[02:41:17] <Dabo> vec![] also works to fill it with some Copy type too though
[02:41:18] <reem> qmx: You can pipe a read to a write using io::copy, but not a write to a read - a Write doesn’t produce any data, and a Read doesn’t receive any data.
[02:41:27] *** Joins: Twinklebear_ (Twinklebear@moz-ttrcn3.ut.comcast.net)
[02:41:43] <Dabo> thelink2012, that is less efficient if you are going to fill it with something else afterwards though, and also has the disadvantage of only working for Copy types afaik
[02:41:44] <reem> posborne: Vec::with_capacity(x).into_boxed_slice()
[02:41:55] <posborne> reem: not quite
[02:42:07] <reem> posborne: Ah I just saw your last few messages
[02:42:09] <Dabo> er, clone
[02:43:25] *** Quits: coderanger (Noah@moz-m5ti9s.net) (Ping timeout: 121 seconds)
[02:43:26] <reem> posborne: (0..x).map(|_| initial_value).collect::<Vec<_>>().into_boxed_slice() will do it, but might be a bit slower than vec![initial_value; N].into_boxed_slice() (but I can’t remember if that N can be a runtime value)
[02:43:40] <reem> posborne: the iterator thing should optimize to something reasonable though
[02:43:42] *** Quits: Twinklebear (Twinklebear@moz-ttrcn3.ut.comcast.net) (Ping timeout: 121 seconds)
[02:43:45] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[02:43:55] <posborne> Yeah, I think this should work and be efficient...
[02:43:57] <posborne> let v: Vec<u8> = Vec::with_capacity(n); v.set_len(n)
[02:44:02] <qmx> reem: yeah, rust-mustache wants a Write, iron wants a Read =/
[02:44:22] <posborne> Umm, with unsafe...
[02:44:29] <thelink2012> reem: Yeah N can be a runtime value, tested a while ago :)
[02:44:47] *** Quits: Twinklebear_ (Twinklebear@moz-ttrcn3.ut.comcast.net) (Quit: Leaving)
[02:45:01] *** Joins: Twinklebear (Twinklebear@moz-ttrcn3.ut.comcast.net)
[02:45:02] <Dabo> posborne, if you aren't doing anything with the Box<[u8]> between using .set_len() and putting data in it, it should be fine
[02:45:11] *** Joins: dawehner (quassel@moz-0b2.uga.249.209.IP)
[02:45:33] *** Joins: dawehner-afk (quassel@moz-o3k00f.mullvad.net)
[02:45:35] <reem> qmx: I see. I don’t really see a *great* way to solve this. Response streaming is a bit tricky in iron right now, mostly just because a lot of APIs have that structure (receive a Write and write to it).
[02:45:36] <fleabay> dang rustaway.com is taken
[02:45:36] <posborne> Dabo: Yeah, it is encapsulated, so it should be fine
[02:45:53] <reem> qmx: the simplest thing is to write into a Vec then set that Vec as the body, but that’s not streaming :P
[02:46:14] *** Joins: pgonda (peter@moz-otulp7.ma.comcast.net)
[02:46:43] <thelink2012> Damn why doesn't this work? http://is.gd/ugVTKJ :/
[02:46:44] <qmx> reem: well, that's what I would do on Java too in this case (ByteArrayInputStream) then flush... ugly but better ugly and working first, improve later
[02:46:54] *** Quits: gmorenz (normal@moz-6a8.048.51.70.IP) (Ping timeout: 121 seconds)
[02:47:01] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[02:47:01] *** ChanServ sets mode: +o erickt
[02:47:09] <reem> qmx: You could write an adaptor though, that implements io::Read and will ask rust-mustache to write more data if you are asked for more data.
[02:47:11] *** Joins: coderanger (Noah@moz-m5ti9s.net)
[02:47:34] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[02:47:35] <aatch> Hahaha, I just spent like an hour figuring out the hand-written assembly for some routine only to realise that the compiler was generating almost exactly the same thing.
[02:47:46] <Dabo> qmx, io::copy might also be useful for this afaik
[02:47:58] <Dabo> well, not sure
[02:48:13] <qmx> Dabo: how so? it feels like it does exactly the opposite the thing I want :)
[02:48:18] <Dabo> yeah :/
[02:48:26] *** Joins: Twinklebear_ (Twinklebear@moz-ttrcn3.ut.comcast.net)
[02:48:28] <qmx> reem: what are the google terms for "write crap to a Vec?"
[02:48:44] * qmx wants some RTFM session :)
[02:48:46] *** Joins: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net)
[02:48:46] <reem> qmx: Vec<u8> implements Writer
[02:48:47] <aatch> Thats what I get for thinking I can out-do LLVM
[02:48:57] <qmx> reem: does it auto-grows?
[02:48:57] <reem> Write*
[02:48:59] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[02:49:06] <reem> qmx: yes
[02:49:11] <qmx> schweet!
[02:49:12] *** Quits: dawehner (quassel@moz-0b2.uga.249.209.IP) (Ping timeout: 121 seconds)
[02:50:06] <reem> aatch: I had a similar thing happen where I tried to optimize httparse for a while and wasn’t seeing any major difference on the benchmarks. I then decided to diff the post-optimization IR and… no changes. LLVM generated exactly the same thing after all the changes.
[02:50:12] *** Quits: kngl (Adium@moz-rmgnkh.dynamic.voo.be) (Quit: Leaving.)
[02:50:26] <Dabo> qmx, thought: wrapping VecDeque and implementing Read/Write for that probably wouldn't be too hard
[02:50:31] *** Joins: frangio (frangio@moz-04sgf8.fibertel.com.ar)
[02:50:46] <qmx> Dabo: this sounds like a good second step for this newb here :P
[02:50:48] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[02:50:59] <aatch> reem, heh. I did have to essentially make my own multiplication intrinsic though, to handle the two-register output of `mul`
[02:51:01] <qmx> make it work first, make it less ugly later ;)
[02:51:12] *** Quits: Twinklebear (Twinklebear@moz-ttrcn3.ut.comcast.net) (Ping timeout: 121 seconds)
[02:51:16] *** Joins: csherrat_ (textual@moz-357qdq.cable.teksavvy.com)
[02:51:31] *** Joins: harrison_ (harrisoncla@moz-7hfo21.eastlink.ca)
[02:51:33] <aatch> reem, since, annoyingly, LLVM doesn't have a built-in intrinsic for it.
[02:51:45] *** Quits: coderanger (Noah@moz-m5ti9s.net) (Connection closed)
[02:52:06] <reem> qmx: this whole thing is a bit weird, since under the hood iron will io::copy your Read onto the socket (which is a Write), so you really want to just bypass the iron step in the middle, but you can’t since you could invalidate the state of the stream
[02:53:24] <qmx> reem: that's what I've thought - java servlet API exposes the underlying output stream and lets you poop all over it :P
[02:54:00] <aatch> Iron could have an unsafe function exposing it?
[02:54:04] <reem> qmx: I may end up just exposing a method for that, but I want to think carefully about how to structure it to end up with the least opportunity for errors
[02:54:04] *** Joins: srh (User@moz-s78nuu.q9f2.utp8.0306.2602.IP)
[02:54:38] <reem> aatch: That’s the first thing I thought of, but it really isn’t and shouldn’t be unsafe, and I hope to have a better solution then “if you call this and write to the stream all bets are off and you have to track the state of the body field yourself”
[02:54:43] *** Quits: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca) (Ping timeout: 121 seconds)
[02:55:14] <reem> (you can only cause semantic errors, not memory unsafety)
[02:55:21] <qmx> reem: that's a fair concern - I still remember being bitten by the same issue with Ruby's rack impl - had to use an iterator as a hack for streaming the output
[02:55:37] <qmx> getting this right api-wise is important
[02:55:54] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:56:05] *** Quits: harrison_ (harrisoncla@moz-7hfo21.eastlink.ca) (Connection closed)
[02:56:07] *** Joins: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca)
[02:56:13] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[02:56:47] *** Joins: zzing (textual@moz-jucm1n.cpe.distributel.net)
[02:56:54] <reem> io::Read is basically just a more efficient Iterator<Item=u8>
[02:57:01] <ChrisMorgan> reem: as soon as it’s exposed in any way, you’ve lost control completely. This will probably have substantial impact on the ability to implement HTTP/2 effectively. I would advise against exposing it at all at present.
[02:58:25] *** Quits: jxv (jxv@moz-2celrt.res.rr.com) (Connection closed)
[02:58:37] <qmx> reem: writing to a vec worked fine, thanks
[02:58:55] *** Joins: alkoma (Mibbit@moz-7brh4c.ca.comcast.net)
[02:59:19] <reem> ChrisMorgan: agreed, it’s not exposed currently
[03:00:04] *** Joins: bombless (_@moz-odk.piv.41.59.IP)
[03:00:51] *** Quits: pgonda (peter@moz-otulp7.ma.comcast.net) (Ping timeout: 121 seconds)
[03:00:53] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[03:03:03] *** Quits: alkoma (Mibbit@moz-7brh4c.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:03:59] *** Quits: d_rezzer (chatzilla@moz-t0fmuj.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[03:04:41] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[03:04:51] *** Quits: dpc_ (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[03:05:24] <reem> ChrisMorgan: note that what I want to expose is an io::Write which pretends to be the stream, not the actual TcpStream itself
[03:05:46] *** Quits: kvsari (kvsari@moz-fgsnv9.bbtec.net) (Connection closed)
[03:07:54] *** Joins: Guest (textual@moz-rtn.fg7.77.192.IP)
[03:08:17] *** Quits: newbie (eibwen@moz-t09e97.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[03:08:17] *** Joins: Feyn (Feyn@moz-b9v.4n2.115.42.IP)
[03:08:44] *** bentley|away is now known as bentley
[03:08:52] *** Joins: cjwelborn (cjwelborn@moz-np6hed.al.charter.com)
[03:09:16] <ChrisMorgan> reem: you’d need to make it so it either hijacks the entire connection, or else protects you from writing anything but a suitable body (e.g. Content-Length protection or the chunked Transfer-Coding), but such a thing can definitely be safely and compatibly written.
[03:09:27] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[03:09:53] <frangio> i was just wondering why env::Args is an iterator of String and not of &str... is a new copy of each argument created on the heap when i iterate over Args?
[03:10:09] <Mutabah> frangio: The arguments passed to the program may not be UTF-8
[03:10:14] <reem> ChrisMorgan: right, basically what Hyper has for the Response type
[03:10:20] <Mutabah> (they could be UTF-16 for example)
[03:10:24] *** Quits: alexggordon (alexggordon@moz-4q0f8f.cable.rcn.com) (Ping timeout: 121 seconds)
[03:10:32] <frangio> Mutabah: alright suppose my question is dealing with env::ArgsOs
[03:10:43] *** Joins: d_rezzer (chatzilla@moz-t0fmuj.hfc.comcastbusiness.net)
[03:11:09] <ChrisMorgan> reem: the hijacking the connection part is something you can do with Go’s net/http, but it’s something that’s only really going to be possible for HTTP/1.
[03:11:33] *** Joins: alexggordon (alexggordon@moz-4q0f8f.cable.rcn.com)
[03:11:36] <Mutabah> frangio: There I'm less sure, but it could be that on windows you don't get args passed in a user-accessible buffer?
[03:11:41] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[03:12:16] *** Quits: gingermusketeer (gingermuske@moz-fn9qh2.compute.amazonaws.com) (Connection closed)
[03:12:25] *** Joins: gingermusketeer (gingermuske@moz-961jk7.compute.amazonaws.com)
[03:12:47] <ChrisMorgan> On Windows the arguments are got through GetCommandLineW and CommandLineToArgvW.
[03:13:05] *** Joins: oceanwhit (christianwh@moz-ibl2hm.hfc.comcastbusiness.net)
[03:13:35] <ChrisMorgan> Remember that Windows is all UTF-16LE, too.
[03:13:42] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[03:13:52] *** Quits: brainproxy (michael@moz-9vjtig.mo.charter.com) (Quit: WeeChat 1.1.1)
[03:14:17] <ChrisMorgan> So for Windows at least, it clearly needs owned strings.
[03:15:23] *** Quits: essem2 (Thunderbird@moz-l86scb.sd.cox.net) (Client exited)
[03:15:27] <frangio> ChrisMorgan: what does the encoding have to do with it? would that also be true for ArgsOs?
[03:15:30] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[03:15:55] <ChrisMorgan> frangio: you want a &str? It’s UTF-8.
[03:16:14] <Diggsey> shouldn't it be an OsStr?
[03:16:47] *** Quits: idegen (greg@moz-9c4nle.or.frontiernet.net) (Quit: Leaving.)
[03:17:14] *** Quits: oceanwhit (christianwh@moz-ibl2hm.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[03:18:39] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[03:20:02] *** Joins: kkimdev (kkimdev@moz-jq0.6h8.135.104.IP)
[03:20:34] *** Joins: Sorella (quildreen@moz-b73.gfe.182.177.IP)
[03:20:37] *** Quits: derek_c (derek@moz-3cq.oet.84.128.IP) (Ping timeout: 121 seconds)
[03:20:37] *** Quits: Sorella (quildreen@moz-b73.gfe.182.177.IP) (Connection closed)
[03:21:27] <kkimdev> Q: What would be the most rusty way of writing observer pattern that allows each listener to unregister itself? 
[03:21:43] <frangio> apparently according to the C standard the strings pointed to by argv have to be valid between program startup and program termination. from this i understand that for practical purposes they'll have 'static duration
[03:21:48] <zamabe> pythonic > rustic?
[03:21:55] <zamabe> The rustic way?
[03:22:16] <kkimdev> or, in other words without unsafe
[03:22:41] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[03:22:56] <Diggsey> kkimdev: it depends on the exact behaviour you want
[03:22:59] <Diggsey> eg
[03:23:17] <Diggsey> if an observer attaches a listener to an object
[03:23:32] <Diggsey> does that keep the object around as long as the observer exists?
[03:23:36] *** Joins: amukiza (user@moz-3rfrrt.et45.t3cp.014d.2804.IP)
[03:24:04] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[03:24:06] *** Quits: Twinklebear_ (Twinklebear@moz-ttrcn3.ut.comcast.net) (Quit: Leaving)
[03:24:09] <Diggsey> or does the listener get implicitly detached when the object dies?
[03:24:14] *** Joins: Twinklebear (Twinklebear@moz-ttrcn3.ut.comcast.net)
[03:24:27] *** Joins: psy (psy@moz-93g.ntd.6.103.IP)
[03:25:01] <amukiza> hello there, I am wondering what  type R is in new(inner: R) -> BufReader<R>. 
[03:25:09] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[03:25:22] <amukiza> Is it a reader?
[03:25:25] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:25:33] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[03:25:34] <Diggsey> amukiza: R is a generic parameter, so it can be any type that satisfies the constraints
[03:25:51] <Diggsey> you need to look at the next outer scope to see where R is declared
[03:26:32] *** Joins: kvsari (kvsari@moz-fgsnv9.bbtec.net)
[03:26:38] <amukiza> Diggsey: oh, okay. Let keep following. Thanks.
[03:26:57] <kkimdev> Diggsey, ok, then let's say object outlives listeners, and that's statically analyzable.
[03:27:35] <Diggsey> kkimdev: Ok, in that case you just give each of the listeners a borrow of the object
[03:27:52] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[03:27:58] <kkimdev> Diggsey, but to unregister without unsafe, it should borrow mutably
[03:28:13] <Diggsey> you can use interior mutability
[03:28:19] <Diggsey> to store the set of listeners
[03:28:30] <Sgeo> Oh! I think I get the difference between deref coercion and scala implicit conversion
[03:28:33] <Diggsey> ie. a Cell or RefCell
[03:28:56] <Diggsey> that will let you add and remove listeners via an immutable borrow
[03:28:59] *** Quits: d_rezzer (chatzilla@moz-t0fmuj.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[03:29:06] <Sgeo> For any given A, in RUst there's only allowed to be one B such that the conversion goes A -> B
[03:29:07] <kkimdev> Diggsey, yeah that should work... 
[03:29:09] <Sgeo> Not so in Scala
[03:29:11] <Sgeo> Is that accurate?
[03:29:33] <Diggsey> Sgeo: yes, I think so
[03:29:35] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (Ping timeout: 121 seconds)
[03:29:36] *** Joins: proclus (user@moz-i6nqh2.fios.verizon.net)
[03:29:44] <Diggsey> you can tell because "Deref" has no generic parameters
[03:29:48] <Diggsey> only an associated type
[03:30:17] <Diggsey> if it was Deref<T> you could implement it multiple times for different T
[03:30:17] <Sgeo> Does this solve the problems people have with Scala implicit conversions being confusing?
[03:30:47] <Diggsey> Sgeo: well that's subjective :P
[03:30:57] <reem> Sgeo: for the most part deref coercions are only for pretty trivial conversions (what would otherwise be &* or &** is now just &)
[03:31:17] <kkimdev> Diggsey, I guess it cannot be done without paying runtime cost
[03:31:35] <Diggsey> kkimdev: Cell/RefCell doesn't have much in the way of runtime cost
[03:33:34] *** Quits: Guest (textual@moz-rtn.fg7.77.192.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:33:53] <Diggsey> kkimdev: the only real downside to interior mutability via Cell/RefCell is that your type will no longer by Sync (ie. you can't access it from multiple threads at the same time)
[03:34:13] *** Quits: proclus (user@moz-i6nqh2.fios.verizon.net) (Ping timeout: 121 seconds)
[03:34:39] <Diggsey> Mutex/Atomics allow you to have interior mutability *and* be Sync, but they do pay a runtime cost
[03:35:01] *** Joins: dpc_ (dpc@moz-t6gr4b.ca.comcast.net)
[03:35:56] <kkimdev> Diggsey, since it will have listeners container, I think in this case it should be RefCell::borrow, and I wonder what's the runtime cost of that, since it's checking borrow state dynamically
[03:36:59] <Diggsey> yeah but that's just the cost of an 'if' statement, plus as long as your code is correct, it will always succeed, so branch prediction will work perfectly on it :P
[03:38:08] *** Joins: brson (brson@moz-uf6fgd.tmodns.net)
[03:38:08] *** ChanServ sets mode: +ao brson brson
[03:38:17] *** Joins: brainproxy (michael@moz-9vjtig.mo.charter.com)
[03:38:23] <woboats> There's no trim_left_matches that will only trim once?
[03:38:31] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Connection closed)
[03:38:56] *** Joins: derek_c (derek@moz-samgps.cit.cornell.edu)
[03:39:41] *** Joins: gandalf_ (zbraniecki@moz-cp7c4m.ca.comcast.net)
[03:40:27] *** Quits: gandalf_ (zbraniecki@moz-cp7c4m.ca.comcast.net) (Connection closed)
[03:41:13] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[03:41:29] *** Joins: forgottenone (forgottenon@moz-j3l.lq5.40.176.IP)
[03:41:41] *** Quits: akawaka (akawaka@moz-0bb8q8.irvnca.sbcglobal.net) (Ping timeout: 121 seconds)
[03:41:50] *** Quits: mjewkes (mjewkes@moz-uur7pt.eastlink.ca) (Connection closed)
[03:42:32] *** Joins: akawaka (akawaka@moz-0bb8q8.irvnca.sbcglobal.net)
[03:43:54] *** Joins: KLP (KLP@moz-ub3elr.res.rr.com)
[03:44:32] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[03:44:42] *** Quits: brson (brson@moz-uf6fgd.tmodns.net) (Ping timeout: 121 seconds)
[03:45:45] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[03:45:54] *** Joins: brson (brson@moz-uf6fgd.tmodns.net)
[03:45:54] *** ChanServ sets mode: +ao brson brson
[03:46:34] *** Quits: dawehner-afk (quassel@moz-o3k00f.mullvad.net) (Ping timeout: 121 seconds)
[03:46:50] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[03:47:04] *** Quits: Diggsey (diggsey@moz-j9rl4k.dsl.pipex.com) (Ping timeout: 121 seconds)
[03:47:31] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:47:31] *** ChanServ sets mode: +o erickt
[03:49:27] *** Quits: brson (brson@moz-uf6fgd.tmodns.net) (Quit: leaving)
[03:50:35] *** Joins: fabianvf (fabianvf@moz-onn.3sq.102.66.IP)
[03:52:39] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[03:54:14] *** Joins: lyc_ (lyc@moz-jft.nr8.226.207.IP)
[03:54:31] *** Quits: kkimdev (kkimdev@moz-jq0.6h8.135.104.IP) (Ping timeout: 121 seconds)
[03:54:37] *** Quits: fabianvf (fabianvf@moz-onn.3sq.102.66.IP) (Ping timeout: 121 seconds)
[03:54:40] *** Quits: new_one (new_one@moz-suj.lcf.15.50.IP) (Quit: WeeChat 1.1.1)
[03:55:11] *** Quits: FreeFull (freefull@moz-f65lp3.skybroadband.com) (Ping timeout: 121 seconds)
[03:55:33] *** Joins: sw17ch (sw17ch@moz-h64l8d.wa.comcast.net)
[03:55:34] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[03:55:38] *** Quits: lyc (lyc@moz-jft.nr8.226.207.IP) (Ping timeout: 121 seconds)
[03:56:31] *** Quits: niconii (nicole@moz-5gqgia.frgo.qwest.net) (Connection closed)
[03:57:14] *** Joins: FreeFull (freefull@moz-f65lp3.skybroadband.com)
[03:57:28] *** Joins: niconii (nicole@moz-5gqgia.frgo.qwest.net)
[03:57:33] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[03:57:58] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[03:58:32] *** Quits: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca) (Connection closed)
[03:59:02] *** Joins: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca)
[04:00:53] *** Joins: kerrick (kerrick@moz-fub7j7.hfc.comcastbusiness.net)
[04:01:56] *** Quits: frangio (frangio@moz-04sgf8.fibertel.com.ar) (Client exited)
[04:02:01] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[04:02:17] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[04:02:17] *** ChanServ sets mode: +o erickt
[04:03:15] *** Quits: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca) (Ping timeout: 121 seconds)
[04:05:06] *** Joins: sayan (sayan@moz-ip8.595.51.106.IP)
[04:07:11] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[04:07:20] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[04:08:43] *** Quits: alexggordon (alexggordon@moz-4q0f8f.cable.rcn.com) (Ping timeout: 121 seconds)
[04:08:45] <bombless> If you are using nightly, you can write a Pattern that match only once I think ;)
[04:12:11] <thelink2012> any way to do something like this #[doc=concat!("A", $expr)] ?
[04:12:22] *** bentley is now known as bentley|away
[04:12:55] <thelink2012> This concat! probably makes no sense there as the attrib is probably expanded wayyy before macros
[04:14:02] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[04:14:22] *** Joins: sp0 (seth@moz-i3f9r5.internode.on.net)
[04:14:36] <Mutabah> thelink2012: Pretty much
[04:14:38] *** Quits: playjax (chatzilla@moz-2m2bp4.optusnet.com.au) (Ping timeout: 121 seconds)
[04:14:50] *** Joins: alonlevy_ (alon@moz-nbm25c.012.net.il)
[04:14:56] <blaenk> sup mubtabah
[04:15:09] *** Quits: derek_c (derek@moz-samgps.cit.cornell.edu) (Ping timeout: 121 seconds)
[04:15:13] <blaenk> still working on GNU/rust i see
[04:15:25] <blaenk> GNU/Linux/rust
[04:15:40] *** Joins: zacts (user@moz-qrtjuh.nm.comcast.net)
[04:15:49] *** Quits: csherrat_ (textual@moz-357qdq.cable.teksavvy.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:16:41] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[04:16:51] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[04:18:14] <pyon> What's the equivalent of C's memcpy() and memmove() in Rust?
[04:18:26] *** Joins: dstrbad (dstrbad@moz-lbk9qa.dsl.iskon.hr)
[04:18:37] <huon> if you want raw pointers, look in the std::ptr module
[04:18:42] <aatch> pyon, `ptr::copy_overlapping` and `ptr::copy` respectively.
[04:18:52] *** Quits: alonlevy_ (alon@moz-nbm25c.012.net.il) (Ping timeout: 121 seconds)
[04:18:54] <pyon> Ah, thanks!
[04:19:14] *** Joins: derek_c (derek@moz-samgps.cit.cornell.edu)
[04:19:41] <pyon> Is there anything similar, but for a &mut [T] and a &[T], where T: Copy?
[04:20:06] <pyon> Possibly more like memmove() than memcpy(), since the type checker can't guarante ranges won't overlap.
[04:20:14] *** Quits: saml_ (saml@moz-rkfmct.res.rr.com) (Quit: Leaving)
[04:20:34] <pyon> No, wait, it *can* guarantee it! Aliasing rules.
[04:20:47] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[04:20:48] <talchas> clone_from_slice()
[04:20:55] <talchas> (unstable though)
[04:20:58] <pyon> Ah! ty!
[04:21:32] *** Quits: dstrbad (dstrbad@moz-lbk9qa.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[04:21:47] *** Quits: zacts (user@moz-qrtjuh.nm.comcast.net) (Quit: ERC (IRC client for Emacs 24.5.1))
[04:21:51] *** Joins: frankmcsherry (frankmcsher@moz-uaqde2.dyn.telefonica.de)
[04:22:28] <talchas> that said, I'm not sure that gets optimized into a memmove like you'd like
[04:23:04] *** Joins: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP)
[04:23:49] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[04:24:54] <aatch> talchas, it probably won't, but only because it's a simple implementation.
[04:25:26] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[04:25:48] <talchas> yeah
[04:25:49] <aatch> talchas, LLVM isn't as good as it could be when it comes to optimising out bounds checks.
[04:25:55] *** Quits: thelink2012 (Mibbit@moz-21t.aul.183.179.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:26:14] <pyon> Mmm... Basically, I'm implementing a heap (in the memory management sense) as a Vec<usize>. The size of an object is always an integer number of usizes. I'm implementing a mark-and-compact GC that "moves upwards" live objects in the Vec<usize>, to fill the gaps left by dead objects.
[04:26:49] *** Joins: errordeveloper (ilya@moz-4uj.bgu.199.90.IP)
[04:26:54] <raph> pyon: so it sounds like you want an mmove within a vec
[04:27:00] <bombless> If you know how your type's Clone is implemented, I think sometimes Clone::clone is the same as memcpy.
[04:27:02] <raph> memmove, that is
[04:27:05] <pyon> raph: Yeah.
[04:27:06] *** Quits: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP) (Ping timeout: 121 seconds)
[04:27:06] <talchas> aatch: it appears to manage to do well enough this time to turn a [u8] copy into vectorized copies, so that's pretty good
[04:27:16] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[04:27:17] <talchas> while ptr::copy winds up as a call to memmove
[04:27:21] <raph> if you're willing to go unsafe, it's ptr::copy, or ptr::volatile_copy_memory
[04:27:22] <aatch> talchas, oh? That's good.
[04:27:38] <aatch> talchas, well that's because ptr::copy *is* memmove
[04:27:41] <pyon> Don't mind going unsafe. :-)
[04:28:05] <aatch> talchas, we output the LLVM intrinsic for it.
[04:28:05] <talchas> aatch: yeah, I'm just somewhat surprised it doesn't inline the intrinsic
[04:28:16] <raph> i think there should be a safe method, useful for, for example, inserting or deleting things into strings
[04:28:23] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[04:28:50] <raph> i was just thinking about this, considering making a cord/rope lib
[04:29:07] <raph> it would be nice to be able to do it efficiently without unsafe, but i think we're not quite there yet
[04:29:22] <aatch> raph, oh, nrc (who's not here right now) was working on a rope impl for rustfmt
[04:29:28] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[04:29:41] <aatch> raph, you might be able to take what he has and go from there.
[04:30:04] <raph> in my day job, i work a bunch with a gapped buffer with annotations (in java)
[04:30:40] *** Quits: frankmcsherry (frankmcsher@moz-uaqde2.dyn.telefonica.de) (Connection closed)
[04:30:41] <raph> out of curiosity, why is cord/rope a win for rustfmt?
[04:31:03] *** Quits: errordeveloper (ilya@moz-4uj.bgu.199.90.IP) (Ping timeout: 121 seconds)
[04:31:10] <aatch> raph, not entirely sure. I just remember a conversion he had with someone else a while back.
[04:31:22] *** Joins: frankmcsherry (frankmcsher@moz-uaqde2.dyn.telefonica.de)
[04:32:04] <aatch> raph, presumably it's not just a straight pass so it has to insert spaces and newlines.
[04:33:10] <raph> ah ok, that does make sense
[04:33:23] <raph> obviously if you're doing edits on a string you win
[04:33:40] <raph> for my markdown parser i just use String
[04:33:59] <aatch> raph, oh, how is the open-sourcing for that going, btw?
[04:34:00] <mbrubeck> kmc has been working on this for html5ever and Servo: https://github.com/kmcallister/tendril
[04:34:09] <raph> performance isn't quite as good as the fast C renderers, but close
[04:34:22] <raph> aatch: all approvals but one, not sure why that's taking so long
[04:34:59] <aatch> raph, hmm, i wonder why the C renderers are faster? I may investigate once you release it.
[04:35:16] <qmx> what are the cool kids using for shaN hashing?
[04:35:25] *** Quits: frankmcsherry (frankmcsher@moz-uaqde2.dyn.telefonica.de) (Ping timeout: 121 seconds)
[04:35:40] <raph> aatch: feel free to
[04:35:48] <raph> my architecture is very different than both cmark and hoedown
[04:36:50] <raph> i've done some profiling, i don't think there's any low hanging fruit
[04:36:51] <genbattle> qmx, are you asking for a library recommendation?
[04:36:59] <raph> hoedown is ridiculously highly optimized
[04:38:13] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:38:20] *** Joins: santiago (santiago@moz-8th.j2e.167.12.IP)
[04:38:23] <aatch> raph, I don't doubt it. But one advantage of working on the compiler is that I know how to make it produce good code.
[04:38:26] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[04:38:41] <raph> aatch: so here's one for you
[04:39:42] <raph> let mut i = 0; for b in buf:&[u8] { if b == '\n' { break} i += 1; }
[04:40:57] <qmx> genbattle: I've thought this was built-in
[04:41:12] <raph> looking at the asm, there's a null ptr check on the iterator
[04:41:31] <huon> raph: argh, I thought we fixed those :/
[04:41:31] <raph> it's not there if you don't have the break
[04:41:38] <huon> raph: could you file a bug?
[04:41:42] <raph> huon: yes
[04:41:54] <raph> i'm guessing you fixed the simple case :)
[04:42:01] <aatch> raph, if you could make a standalone example, that'd be super awesome.
[04:42:04] <huon> raph: btw, one can write that as `buf.iter().position(|b| b == '\n')`
[04:42:21] <huon> raph: yeah
[04:42:28] <raph> huon: oh, will check that out
[04:42:38] <huon> raph: I don't imagine it will avoid this pitfall
[04:42:40] <aatch> I'm assuming it's supposed to be b'\n'?
[04:42:42] <huon> though
[04:42:53] <raph> yes duh
[04:43:14] <genbattle> qmx, I don't think so? There's internal functions the compiler uses for hashing, but I don't think it's part of the stdlib. Try https://crates.io/crates/sha
[04:43:17] <huon> raph: since the implementation of position is essentially isomorphic, https://github.com/rust-lang/rust/blob/master/src/libcore/iter.rs#L729
[04:43:52] *** Joins: alonlevy_ (alon@moz-nbm25c.012.net.il)
[04:43:52] <c74d> qmx: I believe the standard library is supposed to not contain any cryptography stuff; I'd be surprised if it had “shaN hashing” (which I've never heard of before).
[04:44:16] <blaenk> probably a place holder as in sha1, sha256, or w/e
[04:44:20] <c74d> ohh
[04:44:24] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[04:44:29] <c74d> SHA-N
[04:44:53] <qmx> yep :)
[04:44:59] <qmx> going with sha
[04:45:07] <blaenk> I'm pretty sure theres some pkgs for that
[04:46:41] <raph> huon: the position() code generates good asm, thanks
[04:46:49] <blaenk> reem you around. I'm trying to figure out if I could do this with typemap. say have a struct that contains a value that can be inserted into a typemap. so with anymap I had say struct Extender<T> where T: Sync + Send + Clone { payload: T } then some method that clones the self.payload into a given anymap
[04:46:49] <qmx> ouch, sha crate is outdated wrt nightly
[04:47:07] <c74d> qmx: I recommend asking in #rust-crypto
[04:47:34] <blaenk> what I think is the problem for me is I can't figure out how or if that'd work with typemap, cause I would parameterize on the value, but then I would lose the data on the key type
[04:47:40] <blaenk> maybe a phantomdata to store the key type? idk
[04:47:45] *** Joins: arjun_ (arjun@moz-7ht.5jn.102.118.IP)
[04:47:52] *** Quits: lutter1 (lutter@moz-7v7ueu.PUBLIC.monkeybrains.net) (Quit: Leaving.)
[04:47:54] *** Quits: alonlevy_ (alon@moz-nbm25c.012.net.il) (Ping timeout: 121 seconds)
[04:48:16] <huon> raph: oh, interesting
[04:48:36] <aatch> huon, using `enumerate` seems to make a difference.
[04:48:52] <blaenk> reem: something like struct Extender<K, V> where K: Key, K::Value: Sync + Send + Clone { payload: K::Value, _phantom: PhantomData<K> } ?
[04:49:13] <reem> yes, like that, but you can drop the V from Extender<K, V>
[04:49:18] <blaenk> awwwwwwwwww yeeeee
[04:49:25] <blaenk> yeah idk why I left that int here
[04:49:30] <reem> you might not even need the PhantomData
[04:49:35] <blaenk> will try
[04:49:41] *** Joins: hjr3 (hradtke@moz-e235ok.fios.verizon.net)
[04:49:59] *** Joins: brson (brson@moz-uf6fgd.tmodns.net)
[04:49:59] *** ChanServ sets mode: +ao brson brson
[04:50:30] <aatch> huon, using the same loop that raph showed, but getting the index from enumerator instead of manually seems to make the difference.
[04:50:37] <raph> aatch: i get similar but not identical code using enumerate (as long as the break is in there)
[04:50:42] <raph> it's still got a null check
[04:51:12] <blaenk> reem: idk if same would apply to iron, but basically imagine a handler struct that would contain some data that you want to be cloned and inserted into each response's (?) extensions map
[04:51:17] <blaenk> something like that I guess
[04:51:49] <huon> aatch: raph: huh, weird. what platform?
[04:52:15] <aatch> huon, x86_64
[04:52:16] <raph> i'm using play.rust-lang for this, but mac 64 bit when i measure performance
[04:52:20] <blaenk> error: internal compiler error: coherence failed to report ambiguity: cannot locate the impl of the trait `core::any::Any` for the type `<T as typemap::Key>::Value`
[04:52:21] <blaenk> awww yeeee
[04:52:28] <blaenk> it aint another day with rust if you don't strike ICE
[04:52:31] <huon> aatch: linux?
[04:52:39] <aatch> huon, yep
[04:52:46] <raph> http://is.gd/YacJ2N with a few bits of the test code
[04:53:56] <blaenk> I think I just need to make T::Value: Any, maybe
[04:54:47] <huon> raph: hm, they seem pretty similar? https://gist.github.com/huonw/5a9b4bdc959e8e8cdc54
[04:55:38] <reem> blaenk: Plugins?
[04:55:56] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[04:55:59] <blaenk> not sure, I'll take a look at plugin, but I think plugin is for like extensible behavior no?
[04:56:09] <reem> check out the source, it’s short
[04:56:12] <blaenk> will do
[04:56:30] <huon> raph: but, yeah, looks like the manual counter version is pretty horrible (just added it to the gist too)! how strange
[04:56:33] <huon> optimisers :/
[04:56:34] <raph> huon: oh, i was misreading
[04:56:41] *** Quits: amukiza (user@moz-3rfrrt.et45.t3cp.014d.2804.IP) (Ping timeout: 121 seconds)
[04:56:55] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Connection closed)
[04:56:58] <raph> huon: yes, the manual counter asm matches what i was seeing
[04:57:33] *** Quits: sfalcon (textual@moz-qtd94t.customer.broadstripe.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:58:29] *** Quits: nham (nham@moz-755.bu3.214.98.IP) (Ping timeout: 121 seconds)
[05:00:19] *** Quits: KLP (KLP@moz-ub3elr.res.rr.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[05:01:37] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[05:01:56] *** Joins: maedhroz (maedhroz@moz-4jk5ho.res.rr.com)
[05:02:18] *** Quits: brson (brson@moz-uf6fgd.tmodns.net) (Quit: leaving)
[05:02:55] *** Joins: mdinger (mdinger@moz-4emk49.9bf5.ppaa.0306.2602.IP)
[05:03:15] <blaenk> yeee it worked reme
[05:04:10] *** Quits: moa (Cedric@moz-m40tdh.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[05:04:45] <mdinger> how do I place a bound which restricts types to tuplestructs?
[05:04:57] <mdinger> I can't find one that does that
[05:05:07] <blaenk> tuple structs? you can't do that afaik
[05:05:16] <mbrubeck> mdinger: Out of curiousity, why?
[05:05:19] <blaenk> bounds are for traits, there's no trait that represents tuple structs is there?
[05:05:41] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[05:05:57] <mdinger> i'm trying to write a trait which does a `tuple.0` but it's complaining that some types aren't tuples
[05:05:58] *** Quits: maedhroz (maedhroz@moz-4jk5ho.res.rr.com) (Ping timeout: 121 seconds)
[05:06:06] <blaenk> yeah, can't do that afaik
[05:06:18] <mdinger> ok
[05:06:45] <raph> huon: thanks, the position() idea makes a couple % difference
[05:06:56] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[05:06:58] <raph> and i might be able to refactor html_escape to use it
[05:08:35] <raph> html escaping is > 25% of the total run time, which tells you how optimized this code is anyway :)
[05:08:41] <huon> raph: is this for your markdown library?
[05:08:47] <raph> huon: yes, this is
[05:08:52] <huon> nice
[05:09:14] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[05:09:17] <raph> huon: it's _almost_ as fast as cmark, but not quite
[05:09:47] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[05:10:25] <raph> roughly 150ms vs 162ms for the progit benchmark (about 10MB of source)
[05:10:26] *** Quits: srjek (srjek@moz-gg7i72.ece.uic.edu) (Connection closed)
[05:10:26] *** Joins: srjek_ (srjek@moz-gg7i72.ece.uic.edu)
[05:10:43] <blaenk> how bout hoedown raph
[05:10:56] <blaenk> hoedown prolly 5ns
[05:10:58] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[05:11:02] <raph> blaenk: hoedown is faster still, lemme measure...
[05:11:12] *** Quits: jazz (Mibbit@moz-7hfo21.eastlink.ca) (Quit: http://www.mibbit.com ajax IRC Client)
[05:11:26] *** Quits: flan3002 (flan3002@moz-6vhgm3.de) (Ping timeout: 121 seconds)
[05:11:28] <raph> ~116ms
[05:11:33] <blaenk> oo not bad
[05:11:44] <blaenk> esp. considering 10 mb of source
[05:11:53] <raph> hoedown is kind of insanely optimized
[05:11:55] <blaenk> for more trivial things it shouldn't be very noticeable of a difference
[05:11:57] <blaenk> lol
[05:12:02] <huon> raph: I believe `memchr` is likely to be even faster than `position` for that sort of search, btw
[05:12:19] <raph> huon: i'll check it out also
[05:12:31] <huon> (have to call via FFI though, unfortunately)
[05:12:32] <aatch> What about shep-home's jetscii? Though you can't use that on stable.
[05:12:39] <huon> oh, that too
[05:12:41] <blaenk> haha jetscii, that's awesome name
[05:12:55] <raph> huon: but the actual use case goes into a table of active chars rather than just cmp'ing against a constant
[05:13:18] <huon> raph: ah, well maybe jetscii will be better
[05:13:29] <raph> like, for html escaping, there are 6 or 7 chars you need to test against
[05:13:32] <huon> (if the table is often fewer than 8 chars)
[05:13:58] <huon> sounds like it might help, then
[05:14:12] <huon> although it relies on PCMPESTRI
[05:14:17] <raph> input is not ascii-only, it can have unicode
[05:14:23] <blaenk> yeah was gonna say
[05:14:39] <huon> raph: and the chars you're comparing against may be non-ascii?
[05:14:41] <blaenk> maybe not a prob if you're just searching for \n? no idea
[05:14:54] <raph> chars comparing against are all ascii
[05:14:59] *** Joins: flan3002 (flan3002@moz-6vhgm3.de)
[05:15:03] <raph> oh, i guess jetscii does handle that
[05:15:20] <huon> the magic of UTF-8!
[05:15:30] *** Quits: kmcguire (kmcguire@moz-bbqf14.res.bhn.net) (Ping timeout: 121 seconds)
[05:16:11] <raph> i bet you guys will have fun trying to speed it up when i publish the code ;)
[05:16:16] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[05:16:16] <huon> heh
[05:16:19] <raph> having really fast C code is a challenge
[05:16:23] <raph> it would be great to come close
[05:17:05] <huon> easiest way to optimise code is to post the code to IRC/the forum with "Rust is slower than C" :P
[05:17:13] <raph> huon: heheh
[05:17:14] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[05:17:14] *** Quits: sayan (sayan@moz-ip8.595.51.106.IP) (Quit: Leaving)
[05:17:35] <raph> it's _possible_ my architecture is not ideal for speed
[05:17:40] <aatch> I'm currently attempting a high-performance multi-precision numerics library.
[05:17:43] *** Quits: sin8h (Adium@moz-4gl.cvv.51.106.IP) (Quit: Leaving.)
[05:17:55] <raph> aatch: that's ambitious :)
[05:17:57] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[05:18:03] <aatch> raph, I am aware
[05:18:11] <huon> aatch: i.e. a replacement for GMP?
[05:18:32] *** Joins: proclus (user@moz-i6nqh2.fios.verizon.net)
[05:18:43] <aatch> huon, yep. I mean, I have a book with a bunch of numeric algorithms just sitting here.
[05:19:01] <aatch> I'm working on the low-level routines at the moment.
[05:19:36] <huon> sweet
[05:20:04] *** Quits: cjwelborn (cjwelborn@moz-np6hed.al.charter.com) (Quit: sys.exit(1))
[05:20:19] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[05:21:00] <aatch> Only needed asm for the lowest-level multiplication and division so far.
[05:21:33] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[05:21:34] <huon> to use the mulx instructions? (or optimising at quite that level yet?)
[05:21:38] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[05:22:15] <aatch> huon, mulx? Dunno that one. Just being able to get at the high part of the multiplication.
[05:22:22] <huon> ah
[05:22:32] <aatch> Unless you're using 'x' as a placeholder.
[05:22:33] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[05:22:44] <huon> I think mulx are a recent intel instruction set that use the flags in a nicer way for bignums
[05:22:45] *** Quits: proclus (user@moz-i6nqh2.fios.verizon.net) (Ping timeout: 121 seconds)
[05:22:46] *** Quits: flowsnake (flowsnake@moz-imbr2b.cable.virginm.net) (Ping timeout: 121 seconds)
[05:23:05] <huon> oh, sorry, just one instruction
[05:23:17] <huon> http://www.felixcloutier.com/x86/MULX.html
[05:24:05] <huon> the instruction set I was thinking of is https://en.wikipedia.org/wiki/Intel_ADX
[05:24:16] *** Quits: oal (oal@moz-0lm.qc2.255.130.IP) (Ping timeout: 121 seconds)
[05:24:20] *** Joins: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP)
[05:25:41] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[05:25:54] *** Joins: moa (Cedric@moz-d23h55.abo.wanadoo.fr)
[05:25:57] *** Joins: nham_ (nham@moz-755.bu3.214.98.IP)
[05:26:11] *** Quits: nham_ (nham@moz-755.bu3.214.98.IP) (Quit: leaving)
[05:26:21] *** Joins: nham (nham@moz-755.bu3.214.98.IP)
[05:26:35] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[05:26:57] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[05:28:00] *** Joins: sin8h (Adium@moz-4gl.cvv.51.106.IP)
[05:28:22] *** Quits: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP) (Ping timeout: 121 seconds)
[05:29:03] <aatch> huon, I think I'd need to write some of the routines completely in assembly to make good use of that.
[05:29:52] <aatch> huon, since right now I do `mul; add; adc` so the side-effects from `mul` don't actually matter.
[05:30:38] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[05:30:59] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[05:31:50] *** Joins: bombless_ (_@moz-odk.piv.41.59.IP)
[05:31:56] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[05:32:40] *** Joins: frankmcsherry (frankmcsher@moz-uaqde2.dyn.telefonica.de)
[05:33:11] <aatch> I'll do stuff like partially unroll the loops at some point. Since the advantage of having adc is somewhat lost when you have to increment pointers each iteration anyway.
[05:33:37] *** Joins: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de)
[05:33:38] *** Quits: bombless (_@moz-odk.piv.41.59.IP) (Ping timeout: 121 seconds)
[05:33:40] *** Joins: kazimuth (james@moz-7vh.gq7.111.18.IP)
[05:34:31] *** Quits: danbtl (dlb___@moz-8h5ia7.f8pd.76io.fa48.2607.IP) (Ping timeout: 121 seconds)
[05:36:16] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[05:36:17] *** chmanchester is now known as chmanchester|afk
[05:36:42] *** Quits: frankmcsherry (frankmcsher@moz-uaqde2.dyn.telefonica.de) (Ping timeout: 121 seconds)
[05:38:55] *** Quits: dpc_ (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[05:40:18] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[05:41:05] *** Quits: kazimuth (james@moz-7vh.gq7.111.18.IP) (Quit: Textual IRC Client: www.textualapp.com)
[05:41:05] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[05:41:27] *** Quits: lyc_ (lyc@moz-jft.nr8.226.207.IP) (Connection closed)
[05:41:38] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[05:43:05] <aatch> I will admit though, LLVM does some clever things. Like using `sbb $r, $r` to set `$r` to all-ones if the carry flag is set and 0 if not.
[05:43:24] <kagami> Does putting element to some index in vector always do bound checks? Even with optimized build?
[05:44:15] <aatch> kagami, the bounds checks are always generated, however they may be optimised out in some cases.
[05:44:31] *** Quits: kerrick (kerrick@moz-fub7j7.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[05:44:35] *** Joins: dpc_ (dpc@moz-t6gr4b.ca.comcast.net)
[05:45:13] <kagami> I did set_len(my desired length) before but probably it's not so smart. Huh, will use as_mut_ptr and offset.
[05:45:40] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[05:46:23] <aatch> kagami, a better option is using `get_unchecked` or `get_unchecked_mut`
[05:46:28] <Mutabah> kagami: Why are you not just using a Vec as it's supposed to be?
[05:46:46] <Mutabah> Are bounds checks a profiled hotspot in your code?
[05:46:55] <Mutabah> (and also, as aatch said, there's unchecked indexing methods)
[05:46:57] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[05:47:07] <raph> redoing escape_html to use position instead of looping was a win; it's down to 15% from 25% of total time
[05:47:19] <aatch> raph, awesome!
[05:47:24] <Mutabah> raph: :)
[05:47:39] <raph> which puts me within measurement error of cmark
[05:47:40] <aatch> raph, the put you faster than cmark?
[05:47:41] <kagami> aatch: oh, thanks, get_uncheked_mut is much nicier.
[05:48:14] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[05:48:41] *** Quits: nham (nham@moz-755.bu3.214.98.IP) (Ping timeout: 121 seconds)
[05:48:57] <raph> aatch: the variation from run to run is larger than the difference; i think it's slightly faster
[05:49:02] <kagami> Mutabah: I've not profiled yet, but this is a big loop which converts image pixels from one colorspace to another so it's one of the main thing I want to be optimized in my program.
[05:49:30] *** Quits: jml (jml@moz-mqpurn.178.in-addr.arpa) (Ping timeout: 121 seconds)
[05:49:43] *** Joins: jml (jml@moz-mqpurn.178.in-addr.arpa)
[05:50:59] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[05:51:54] <aatch> kagami, what about using `map`+`collect`?
[05:52:02] *** Joins: towynlin (towynlin@moz-1ts7ej.ok.cox.net)
[05:52:15] <aatch> kagami, at worst it won't vectorize, but you won't have bounds checks.
[05:53:18] <aatch> And without knowing exactly what you're doing, I can't say whether auto-vectorisation is likely or not.
[05:53:27] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[05:54:01] <kagami> aatch: source of pixels is raw pointer... Probably I can construct slice from that pointer but then it'll own the memory under that pointer.
[05:54:10] *** Joins: frankmcsherry (frankmcsher@moz-uaqde2.dyn.telefonica.de)
[05:54:24] <aatch> kagami, nah, you can construct a regular old slice from a raw pointer = len
[05:54:30] <aatch> + len, rather
[05:54:55] <raph> sweet: mean of 100 runs, me 145.5ms, cmark 151.7ms, hoedown 109.2ms
[05:55:15] <raph> being faster than cmark is pretty darned good
[05:55:33] <aatch> kagami, std::slice::from_raw_parts
[05:55:33] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[05:55:58] *** Joins: wca (will@moz-oonm1e.firepipe.net)
[05:56:08] *** Quits: orangeshark (erik@moz-n692gt.44tj.56ot.0306.2602.IP) (Quit: Leaving)
[05:56:31] <aatch> raph, awesome in terms of demonstrating that Rust is viable for high-performance code.
[05:56:40] <kagami> aatch: ah, yes, thanks, I forgot slice doesn't own the memory. Yea, probably rewrite that in function style would be nice.
[05:56:49] *** Joins: nham (nham@moz-755.bu3.214.98.IP)
[05:56:54] <kagami> functional*
[05:56:57] <raph> aatch: in this case, without even touching unsafe
[05:57:12] <aatch> raph, really? Even better then.
[05:58:02] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[05:58:47] <blaenk> reem are you there, found a pretty big problem in typemap
[06:03:40] <harrisonclarke> what's the preferred way to constrain a type to not implement Copy? should i force it to implement Drop?
[06:03:58] <blaenk> maybe negative bounds works with copy?
[06:04:02] <blaenk> T: !Copy
[06:04:09] <blaenk> idk
[06:04:26] <forgottenone> why rust doesn't allow something like that? (*i,*j) = (j.clone(),i.clone());
[06:04:40] <blaenk> what?
[06:04:46] <blaenk> oh swapping
[06:05:05] <aatch> We have `mem::swap`
[06:05:11] <darkfox> Hmm... How does one import macros from a module of the same library/crate ?
[06:05:35] *** Joins: __yulin__ (chatzilla@moz-t8apkn.dynamic-ip.hinet.net)
[06:05:59] <forgottenone> aatch: i know but what i wonder why rust doesnt allow tuple assinging 
[06:07:22] *** Quits: homa_rano (edre@moz-6pigob.cable.rcn.com) (Connection closed)
[06:07:30] <darkfox> #[macro_use] pub use macros; // nothing. :(
[06:07:37] *** Joins: homa_rano (edre@moz-6pigob.cable.rcn.com)
[06:08:47] *** Quits: dickchansey3 (dickchansey@moz-mikldi.static-ro.twistednetworks.net) (Client exited)
[06:08:47] <blaenk> reem: https://github.com/reem/rust-typemap/pull/30
[06:09:40] <harrisonclarke> blaenk: are negative bounds a planned feature? or feature gated, or something? that syntax doesn't seem to work on play.rust-lang.org, beta or nightly.
[06:09:47] *** Quits: aatch (james@moz-is4j4r.cable.telstraclear.net) (Ping timeout: 121 seconds)
[06:09:55] <blaenk> nah I didn't say it'd work, was thinking maybe it'd work
[06:10:05] <blaenk> I think it works for like Sync and Send, idr
[06:10:49] *** Joins: eerie (eerie@moz-rll6i6.red.bezeqint.net)
[06:11:03] <reem> blaenk: ah geez
[06:11:14] <blaenk> hahaha, don't worry about it
[06:11:18] <blaenk> happens to me from time to time too
[06:11:57] *** Joins: Hail_Spacecake (quesa@moz-djc.ktt.28.204.IP)
[06:12:12] *** Joins: kerrick (kerrick@moz-fub7j7.hfc.comcastbusiness.net)
[06:12:17] <blaenk> reem: just finished migrating to typemap, went well :D
[06:12:18] <Hail_Spacecake> what does the type signature of a 2d array look like in rust?
[06:12:34] <reem> blaenk: good to hear
[06:13:15] <reem> Hail_Spacecake: Vec<Vec<T>>, [[T; X]; Y], etc. combinations including &[T] as well
[06:13:34] <blaenk> haha the new rustup is asking for confirmation on travis, so it doesn't run the tests, maybe it'll time out
[06:13:56] *** Quits: genbattle (genbattle@moz-ikj3l8.xtra.co.nz) (Ping timeout: 121 seconds)
[06:13:59] <bombless_> negative bounds is not accepted, and nobody knows whether it will be accepted
[06:14:10] *** Joins: canhtak (canhtak@moz-1a9fh1.luxdsl.pt.lu)
[06:14:16] <blaenk> yeah I shouldn't have said negative bounds
[06:14:22] <blaenk> I'm not a fan of neg bounds myself
[06:14:29] <blaenk> I meant negative impls, I wondered if neg bounds worked with them
[06:14:31] <Hail_Spacecake> what would negative bounds imply?
[06:14:33] <blaenk> like with !Sync etc
[06:14:39] <blaenk> there's an RFC
[06:14:48] <blaenk> of one possible approach
[06:15:02] <Hail_Spacecake> if you do [T; X] ; Y], X and Y have to be known at compile time, right?
[06:15:05] *** Quits: eerie (eerie@moz-rll6i6.red.bezeqint.net) (Ping timeout: 121 seconds)
[06:15:06] *** Quits: Twinklebear (Twinklebear@moz-ttrcn3.ut.comcast.net) (Quit: Leaving)
[06:15:11] <blaenk> nah bounds as in trait bounds
[06:15:17] <blaenk> oh that's a separate question I guess
[06:15:21] <blaenk> yeah they do
[06:15:31] <Hail_Spacecake> hm
[06:15:35] <WindowsBunny> Hail_Spacecake: array sizes for fixed size arrays must be compile time constants
[06:15:40] <Hail_Spacecake> I'm making a pixel buffer, which is why I care
[06:16:10] <Hail_Spacecake> it'd be nice if there was a way to get that guarantee with runtime-specified integers 
[06:16:12] <WindowsBunny> if you don't know the size at compile time, then you either need to use Vec<T> or Box<[T]>
[06:16:45] <blaenk> reem: not sure if my fix is correct but it works
[06:16:47] *** Joins: twipeD (wipeD@moz-81i1ii.dip0.t-ipconnect.de)
[06:16:50] *** Quits: __yulin__ (chatzilla@moz-t8apkn.dynamic-ip.hinet.net) (Connection closed)
[06:17:15] *** Quits: yuja (yuja@moz-tvn458.pikara.ne.jp) (Ping timeout: 121 seconds)
[06:17:38] *** Quits: towynlin (towynlin@moz-1ts7ej.ok.cox.net) (Quit: leaving)
[06:17:56] *** Joins: __yulin__ (chatzilla@moz-t8apkn.dynamic-ip.hinet.net)
[06:17:57] *** Quits: jml (jml@moz-mqpurn.178.in-addr.arpa) (Ping timeout: 121 seconds)
[06:17:57] *** Quits: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[06:18:15] <Hail_Spacecake> so what's the most idiomatic way to create a mutable Vec of Vecs, and start pushing pixels into it in a double loop?
[06:18:46] *** Joins: Douman (Douman@moz-35cmpg.dynamic.mts-nn.ru)
[06:19:25] <blaenk> there are packages that to blitting and image stuff that you might want to look at
[06:19:43] <blaenk> https://github.com/PistonDevelopers/image
[06:19:52] <whipsch> do you really need a 2 dimensional array?
[06:20:01] <Hail_Spacecake> maybe I don't
[06:20:11] <blaenk> yeah I think most use just a 1 d
[06:20:15] <blaenk> and then do the math to map to the coord
[06:20:22] <Hail_Spacecake> it just seems a bit easier to use a 2d data structure to get blocks of pixels
[06:20:28] <Hail_Spacecake> then to use a 1d one and calculate the offsets yourself
[06:20:37] <blaenk> can create an inline function to do it, I guess
[06:20:50] <Hail_Spacecake> I'm using a 1d Vec<PixelColor> now, and I just realized I need blocks of pixels and so I have to worry about keeping track of offsets
[06:21:01] <Hail_Spacecake> this seems like the sort of thing that it'd be good to let the type system handle if possible
[06:21:15] *** Joins: jml (jml@moz-mqpurn.178.in-addr.arpa)
[06:21:17] *** Joins: Wqer` (user@moz-rn4tf7.541k.ockc.8900.2605.IP)
[06:22:21] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Connection closed)
[06:22:45] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[06:23:00] *** Quits: Wqer (user@moz-rn4tf7.541k.ockc.8900.2605.IP) (Connection closed)
[06:23:05] *** Joins: dellavg (dellavg@moz-9lesb5.retail.telecomitalia.it)
[06:25:10] *** Quits: frankmcsherry (frankmcsher@moz-uaqde2.dyn.telefonica.de) (Connection closed)
[06:25:31] <kagami> Is there any particular reason why vec::dedup uses as_mut_ptr instead of get_unchecked_mut? http://doc.rust-lang.org/1.0.0-beta.3/src/collections/vec.rs.html#1185-1191 There shouldn't be any difference in performance, right?
[06:26:39] <Mutabah> kagami: borrow reasons? Old code?
[06:29:32] *** Quits: kerrick (kerrick@moz-fub7j7.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[06:29:42] <reem> blaenk: oh no travis is borked
[06:29:53] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[06:29:54] <blaenk> you think maybe it's cause you use rustup.sh?
[06:29:59] <blaenk> is using language: rust any different?
[06:32:01] *** Joins: loyd (loyd@moz-uft.32f.108.213.IP)
[06:34:47] <blaenk> oh yeah reem github gave me the username I wanted, they agreed it was inactive :D
[06:34:51] <blaenk> made an org out of it
[06:34:52] *** Joins: genbattle (genbattle@moz-ikj3l8.xtra.co.nz)
[06:35:10] <blaenk> thanks for the info about that
[06:36:59] <reem> nice :)
[06:37:12] <reem> blaenk: oh, I must never have updated that for typemap
[06:37:59] *** Joins: mkoskar (mkoskar@moz-pampba.piraten-nds.de)
[06:39:44] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[06:41:46] *** Quits: bombless_ (_@moz-odk.piv.41.59.IP) (Ping timeout: 121 seconds)
[06:41:50] *** Joins: lyc (lyc@moz-0iq.pqd.150.123.IP)
[06:43:35] *** Quits: mkoskar (mkoskar@moz-pampba.piraten-nds.de) (Client exited)
[06:44:50] *** Quits: chc4 (chc4@moz-mjph4c.ma.comcast.net) (Quit: AHHHHH BEES)
[06:45:26] *** Quits: genbattle (genbattle@moz-ikj3l8.xtra.co.nz) (Ping timeout: 121 seconds)
[06:45:41] *** Joins: mindtree (Mitch@moz-q2aegn.iprimus.net.au)
[06:45:53] *** Quits: lyc (lyc@moz-0iq.pqd.150.123.IP) (Ping timeout: 121 seconds)
[06:46:24] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[06:46:51] *** Joins: brson (brson@moz-uf6fgd.tmodns.net)
[06:46:52] *** ChanServ sets mode: +ao brson brson
[06:47:08] *** Joins: alonlevy_ (alon@moz-nbm25c.012.net.il)
[06:47:36] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[06:48:02] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[06:48:10] *** Quits: minot2 (kkus@moz-baj4jj.74.srtnet.com) (Connection closed)
[06:48:24] <Mutabah> Can you enable feature flags from the command libe?
[06:48:26] <Mutabah> *line
[06:48:32] <blaenk> --feature I think
[06:49:10] <Mutabah> blaenk: nope
[06:49:21] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[06:49:37] *** Joins: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at)
[06:49:46] <blaenk> yeah I've seen it with --feature, idk how though
[06:50:38] *** Joins: nedp_ (nedp@moz-vg6vvt.bigpond.net.au)
[06:50:48] <Mutabah> blaenk: Isn't that a cargo flag?
[06:51:33] <reem> yes
[06:52:10] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[06:52:16] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[06:52:41] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[06:52:46] <Mutabah> Annoyingly, 'include!' can't define crate attributes
[06:53:12] *** Quits: nedp (nedp@moz-vg6vvt.bigpond.net.au) (Ping timeout: 121 seconds)
[06:53:42] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[06:53:46] <Mutabah> (I have four lines worth of setup code at the top of every module - setting feature flags, disabling std, loading core and kernel)
[06:54:08] *** Quits: hjr3 (hradtke@moz-e235ok.fios.verizon.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:56:08] *** Joins: lenstr (lenstr@moz-gja.vju.25.171.IP)
[06:57:15] *** Quits: derek_c (derek@moz-samgps.cit.cornell.edu) (Ping timeout: 121 seconds)
[06:58:23] *** Quits: mmatyas (mmatyas@moz-4lg94m.inf.u-szeged.hu) (Ping timeout: 121 seconds)
[06:59:05] *** Joins: csherrat_ (textual@moz-357qdq.cable.teksavvy.com)
[06:59:14] *** Joins: nwin (textual@moz-7jj8l0.pools.vodafone-ip.de)
[07:00:18] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[07:00:23] *** Joins: derek_c (derek@moz-samgps.cit.cornell.edu)
[07:01:23] *** Joins: mmatyas (mmatyas@moz-4lg94m.inf.u-szeged.hu)
[07:01:48] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[07:02:39] *** Joins: maedhroz (maedhroz@moz-4jk5ho.res.rr.com)
[07:02:46] *** Quits: brson (brson@moz-uf6fgd.tmodns.net) (Quit: leaving)
[07:04:53] *** Joins: yuja (yuja@moz-tvn458.pikara.ne.jp)
[07:05:55] *** Joins: dstrbad (dstrbad@moz-h33uj8.net.t-com.hr)
[07:06:27] *** Quits: zzing (textual@moz-jucm1n.cpe.distributel.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[07:06:41] *** Quits: maedhroz (maedhroz@moz-4jk5ho.res.rr.com) (Ping timeout: 121 seconds)
[07:07:57] *** Quits: mdinger (mdinger@moz-4emk49.9bf5.ppaa.0306.2602.IP) (Quit: Leaving)
[07:08:58] *** Joins: eerie (eerie@moz-rll6i6.red.bezeqint.net)
[07:09:12] *** Quits: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at) (Connection closed)
[07:09:33] *** Joins: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at)
[07:09:35] *** Quits: nedp_ (nedp@moz-vg6vvt.bigpond.net.au) (Connection closed)
[07:10:20] <huon> Mutabah: every module, or every crate?
[07:10:30] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[07:10:48] *** Joins: Guest (textual@moz-ovh.un1.180.37.IP)
[07:13:21] *** Joins: thiblahute (tsaunier@moz-rkc6r5.fbx.proxad.net)
[07:13:36] *** Quits: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at) (Ping timeout: 121 seconds)
[07:13:42] *** Quits: Gamecubic (cubic@moz-bglmk5.mc.videotron.ca) (Quit: Leaving)
[07:15:17] *** Quits: santiago (santiago@moz-8th.j2e.167.12.IP) (Quit: Computer has gone to sleep.)
[07:16:41] *** Quits: Guest (textual@moz-ovh.un1.180.37.IP) (Quit: Textual IRC Client: www.textualapp.com)
[07:16:47] *** Joins: genbattle (genbattle@moz-ikj3l8.xtra.co.nz)
[07:19:14] <Mutabah> huon: Crate here, but I'm also looking forward to custom preludes
[07:19:28] <Mutabah> (herp, yeah, kernel side they're "modules", but acutally crates)
[07:20:00] <Hail_Spacecake> does writing linux kernel modules in rust work now?
[07:20:23] <Mutabah> Hail_Spacecake: Dunno, this is my full-rust kernel
[07:21:04] <Hail_Spacecake> oh, cool
[07:21:09] <Hail_Spacecake> is the code available publicly?
[07:21:15] <Hail_Spacecake> that's something I'm interested in doing too
[07:21:47] <Mutabah> Hail_Spacecake: http://github.com/thepowersgang/rust_os
[07:22:19] *** Joins: jaen (jaen@moz-ifmik2.copit.pl)
[07:22:31] <Hail_Spacecake> what does this run on right now?
[07:23:01] <Mutabah> amd64 (x86_64)
[07:23:26] <Mutabah> It comes with a script to run qemu... but iirc it copies pxelinux from where it's stored on my server
[07:24:01] *** Quits: agjacome (agjacome@moz-6073ot.dynamic.jazztel.es) (Ping timeout: 121 seconds)
[07:24:25] <Hail_Spacecake> how does rust handle integer division?
[07:24:36] <Mutabah> the / operator?
[07:24:38] <Hail_Spacecake> yeah
[07:24:48] <Mutabah> What about it?
[07:25:01] <Mutabah> i32 / i32 = i32 (round to zero iirc)
[07:25:30] *** Joins: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP)
[07:26:22] *** Quits: aredridel (aredridel@moz-4ipci1.mn92.glcm.0470.2001.IP) (Ping timeout: 121 seconds)
[07:26:29] <niconii> playbot: (5/2, (-5)/2)
[07:26:30] -playbot- (2, -2)
[07:26:32] *** Joins: khades1 (Thunderbird@moz-u45.3vk.74.212.IP)
[07:26:35] *** Quits: khades (Thunderbird@moz-u45.3vk.74.212.IP) (Connection closed)
[07:27:14] *** Joins: kmicu (kmicu@moz-uga.edn.218.91.IP)
[07:27:25] *** Joins: ahunt (ahunt@moz-2obh4g.cam.ac.uk)
[07:27:53] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[07:27:53] *** Joins: aredridel (aredridel@moz-4ipci1.mn92.glcm.0470.2001.IP)
[07:28:12] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Connection closed)
[07:28:53] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[07:29:32] *** Quits: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP) (Ping timeout: 121 seconds)
[07:31:34] <Hail_Spacecake> ah, okay
[07:31:35] <Hail_Spacecake> cool
[07:31:55] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[07:32:21] *** Joins: ehiggs (ehiggs@moz-939f42.1fqp.rav1.1812.2a02.IP)
[07:33:04] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[07:33:19] *** Joins: KLP (KLP@moz-ub3elr.res.rr.com)
[07:34:12] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[07:34:17] *** Joins: frankmcsherry (frankmcsher@moz-uaqde2.dyn.telefonica.de)
[07:34:28] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[07:34:36] *** Quits: genbattle (genbattle@moz-ikj3l8.xtra.co.nz) (Ping timeout: 121 seconds)
[07:35:20] *** Quits: mdbooth (mdbooth@moz-nuft0b.range86-160.btcentralplus.com) (Ping timeout: 121 seconds)
[07:37:21] *** Joins: santiago (santiago@moz-ro2mm9.res.rr.com)
[07:37:37] <Hail_Spacecake> it would be cool if std library documentation sections
[07:37:42] <SneakySnake> playbot: 5 / 3
[07:37:43] -playbot- 1
[07:37:55] <Hail_Spacecake> had a link to the source code where that function was defined
[07:38:00] <Hail_Spacecake> I thougth that rust had that at one point
[07:38:14] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[07:38:55] *** Joins: Ms2ger (Ms2ger@moz-2md1ol.isp.belgacom.be)
[07:39:19] *** Joins: eerie_ (eerie@moz-rll6i6.red.bezeqint.net)
[07:39:31] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[07:41:02] <niconii> Hail_Spacecake: it does
[07:41:23] <Hail_Spacecake> am I missing the link?
[07:41:26] <niconii> Hail_Spacecake: not on each individual method for... some reason, but there's a [src] link up top
[07:41:38] <Hail_Spacecake> ah, okay, that's where it is
[07:41:40] *** Joins: mdbooth (mdbooth@moz-9ba44q.range86-160.btcentralplus.com)
[07:41:46] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[07:41:47] <niconii> Hail_Spacecake: you can ctrl+f for it i guess
[07:42:15] <niconii> Hail_Spacecake: i'm not really sure why there isn't a link for each method though
[07:42:37] *** Quits: eerie (eerie@moz-rll6i6.red.bezeqint.net) (Ping timeout: 121 seconds)
[07:43:33] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[07:43:43] *** Joins: Gabriel_7 (Gabriel@moz-aoq91m.mtgr.92aj.0e35.2a01.IP)
[07:44:29] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[07:44:33] *** Quits: mark_edward (mark@moz-dg4mrp.in.comcast.net) (Ping timeout: 121 seconds)
[07:46:14] *** Joins: csoriano (csoriano@moz-g6rkdc.net.upcbroadband.cz)
[07:46:20] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[07:46:40] *** Quits: adrake (adrake@moz-an93jq.adrake.org) (Quit: ZNC - http://znc.in)
[07:47:40] *** Joins: adrake (adrake@moz-iaes2r.fs1g.619c.a880.2604.IP)
[07:48:10] <Hail_Spacecake> if I have some u8's, and I want to average them as a u8
[07:48:27] <Hail_Spacecake> do I have to explicitly cooerce them into larger type when I multiply them together before dividing?
[07:48:40] <myname> /+%#
[07:48:45] <Hail_Spacecake> or will the truncation only happen when the final assignment happens, when it should be less than 255
[07:48:49] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[07:49:42] *** Quits: eerie_ (eerie@moz-rll6i6.red.bezeqint.net) (Connection closed)
[07:49:58] *** Quits: KLP (KLP@moz-ub3elr.res.rr.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[07:50:06] *** Joins: arBmind (Andreas@moz-8uf6vu.adsl.alicedsl.de)
[07:50:13] <Mutabah> Hail_Spacecake: The additions will overflo
[07:50:16] <Mutabah> *overflow
[07:50:47] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[07:51:52] <myname> interesting problem
[07:52:48] *** Joins: mark_edward (mark@moz-dg4mrp.in.comcast.net)
[07:52:51] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[07:54:11] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[07:54:54] *** Quits: sin8h (Adium@moz-4gl.cvv.51.106.IP) (Quit: Leaving.)
[07:55:54] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[07:56:32] *** Joins: sin8h (Adium@moz-4gl.cvv.51.106.IP)
[07:57:55] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:58:07] *** Quits: dpc_ (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[07:58:13] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[07:58:21] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[07:58:31] *** Joins: tigrou3tac (fabien@moz-gdonfo.fbx.proxad.net)
[07:59:31] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[08:00:09] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[08:03:33] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[08:03:44] *** Quits: ctjhoa (Mibbit@moz-fv3.bbg.167.195.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:04:24] *** Joins: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at)
[08:06:27] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[08:06:48] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[08:07:19] *** srjek_ is now known as srjek
[08:08:51] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[08:08:52] *** Joins: mytrile (mytrile@moz-jkn.up2.40.84.IP)
[08:09:31] *** Quits: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at) (Connection closed)
[08:09:52] *** Joins: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at)
[08:10:53] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[08:11:22] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[08:12:53] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[08:13:10] *** Joins: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de)
[08:13:54] *** Quits: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at) (Ping timeout: 121 seconds)
[08:14:03] *** Joins: mkpankov (mkpankov@moz-sp9.3mh.23.84.IP)
[08:14:19] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[08:15:20] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[08:15:34] *** Joins: genbattle (genbattle@moz-ikj3l8.xtra.co.nz)
[08:17:49] *** Joins: rootnode (rootnode@moz-go1ut4.ip1.george24.com)
[08:18:21] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[08:18:31] *** Joins: areski (areski@moz-adq529.user.ono.com)
[08:19:39] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[08:19:41] *** Joins: fatichar (bzlandfill@moz-ovu.tnf.200.49.IP)
[08:19:56] *** Joins: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net)
[08:20:23] *** Quits: Stents (Stents@moz-r8d.u6c.187.68.IP) (Quit: Leaving)
[08:20:43] *** Joins: skade (skade@moz-0djl38.boh1-r2.syseleven.net)
[08:21:48] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[08:22:09] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[08:23:10] *** Quits: niconii (nicole@moz-5gqgia.frgo.qwest.net) (Quit: leaving)
[08:23:41] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[08:24:13] <fatichar> Guys, I have a question about Option::unwrap(). Is this method not as unsafe as accessing a null pointer?
[08:24:39] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[08:24:47] <tomaka> unwrap() panics if the Option is empty
[08:25:07] <tomaka> It's not unsafe, as you can never have access to the content if there is none
[08:25:18] <XMPPwocky> it's not memory unsafe, but it can be unwise
[08:25:36] *** Quits: fatichar (bzlandfill@moz-ovu.tnf.200.49.IP) (Quit: CGI:IRC)
[08:25:40] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[08:25:58] *** Joins: ptalbot (ptalbot@moz-lrq2ca.dyn.as47377.net)
[08:26:12] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[08:26:26] *** Joins: fatichar (bzlandfill@moz-ovu.tnf.200.49.IP)
[08:26:42] <tomaka> the definition of "safe" is that you can't have data race, access to objects that no longer exist, etc. but it doesn't mean that you program will work correctly
[08:26:47] *** Joins: choplin (choplin@moz-qkm9un.ap.nuro.jp)
[08:27:15] <VShell> fatichar: it has defined behaviour and is memory-safe - it panics, i.e. it unwinds the stack and calls a panic handler, or exits the program. it does not segfault. it's still not the best of ideas to call when you can do something else, though.
[08:27:16] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[08:27:41] *** Quits: canhtak (canhtak@moz-1a9fh1.luxdsl.pt.lu) (Client exited)
[08:28:05] <fatichar> tomaka, you can't have data race with a null pointer either
[08:28:23] <XMPPwocky> it's like using null in Java
[08:28:26] <XMPPwocky> you get an exception
[08:28:28] <XMPPwocky> it's awful
[08:28:33] <XMPPwocky> but you're still memory-sfae
[08:29:14] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[08:29:23] <Havvy> Option::unwrap on None is equivalent to a NullPointerException, but Rust never tries to actually get whatever is at address 0, so it's still memory safe compared to C/C++ which will try and immediately cause a SegFault in modern desktop OSes.
[08:29:55] <fatichar> VShell, ok, wouldn't things be better without unwrap? The whole point of Option type+ exhaustive matches in enums is that you HAVE to check for every case
[08:30:08] <XMPPwocky> note that dereferencing null in C isn't guaranteed to segfault
[08:30:37] <XMPPwocky> fatichar: and sometimes if something is None, you want to panic
[08:30:39] <tomaka> in many situations handling `None` is impossible except by panicking
[08:30:49] *** Quits: choplin (choplin@moz-qkm9un.ap.nuro.jp) (Ping timeout: 121 seconds)
[08:30:50] <fatichar> XMPPwocky and Havvy: I agree
[08:30:57] <tomaka> by "impossible", I mean in the logic of your code
[08:31:19] *** Quits: srh (User@moz-s78nuu.q9f2.utp8.0306.2602.IP) (Ping timeout: 121 seconds)
[08:31:20] <Havvy> Well, you're explicitly opting into a NullPointerException instead of letting it happen naturally.
[08:31:56] <VShell> fatichar: the whole point is that you can't dereference null and cause a segfault. the actual implementation of that involves the idea that 99% of the time you'll check for every case. .unwrap() is useful sometimes, though, as shorthand for if let Some(bar) = foo { } else { panic!(); }, though.
[08:31:58] *** Quits: Shackra (Jorge@moz-7bh.ng6.177.186.IP) (Connection closed)
[08:32:07] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[08:32:30] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[08:32:32] *** Quits: AngelOfSol (AngelOfSol@moz-dj58kc.rh.rit.edu) (Connection closed)
[08:32:33] <fatichar> But then the developer can always choose to panic() explicitly. provision of unwraps makes the bug hidden. it can be used by lazy developers as a shortcut to match/unwrap_or, just like people skip checking for null ptr assuming it will never be null
[08:33:17] <Mutabah> fatichar: Except it "Crashes" instantly, instead of maybe dereferencing random memory
[08:33:24] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[08:33:45] <tomaka> fatichar: Usually if your Option contains None but shouldn't contain None, it's too late
[08:33:50] <tomaka> it means that the bug is somewhere else
[08:34:00] <tomaka> and handling `None` manually doesn't help
[08:34:11] <VShell> fatichar: you can't really protect against lazy developers. if you want, you can write a compiler lint that prevents calling .unwrap().
[08:34:22] *** Quits: genbattle (genbattle@moz-ikj3l8.xtra.co.nz) (Ping timeout: 121 seconds)
[08:35:16] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[08:35:29] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[08:35:32] <fatichar> VShell, sounds acceptable. If I move to Rust in my org, will surely put that lint in place :)
[08:35:46] <tomaka> Basically I can see two situations in which you use Option
[08:35:54] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[08:35:58] <tomaka> 1- The Option can contain either Some or None, in which case you definitely shouldn't call unwrap()
[08:36:20] <tomaka> 2- You know that the Option must not contain None, and you use an Option because you can't really do otherwise
[08:36:32] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[08:36:43] <fatichar> but the 'bug is somewhere else' argument can be used by developers for skipping all kinds of data checks
[08:37:12] <Havvy> >> None.expect("Does expect exist on None?")
[08:37:16] *** Joins: genbattle (genbattle@moz-ikj3l8.xtra.co.nz)
[08:37:24] <Havvy> playrust: None.expect("Does expect exist on None?")
[08:37:35] <Havvy> playbot: None.expect("Does expect exist on None?")
[08:37:36] -playbot- <anon>:8:5: 8:9 error: unable to infer enough type information about `_`; type annotations required [E0282]
[08:37:36] -playbot- <anon>:8     show({
[08:37:36] -playbot- output truncated; full output at: http://bit.ly/1IqYqO6
[08:37:37] <fatichar> but we recommend using assert() to state such assumtions
[08:37:39] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[08:38:02] <bluss> None::<i32> will be of known type to rustc
[08:38:08] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Quit: Konversation terminated!)
[08:38:21] <Havvy> playbot: None::<i32>.expect("Does expect exist on None?")
[08:38:22] -playbot- output truncated; full output at: http://bit.ly/1Pwzaqe
[08:39:04] <Havvy> fatichar:  Sounds like the rule would be to favor .expect() over .unwrap() in all cases then.
[08:39:45] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[08:40:13] <Havvy> Main purpose for .unwrap() to me is for things like small scripts that are only ran once.
[08:40:20] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[08:40:23] *** Quits: ehiggs (ehiggs@moz-939f42.1fqp.rav1.1812.2a02.IP) (Ping timeout: 121 seconds)
[08:40:26] <fatichar> Havvy, yes, I would vote for that. that reads much like assert (an assumtion)
[08:40:30] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[08:41:41] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[08:42:00] <VShell> fatichar: in reality, the type of your function, if it can error, should always be fn foo(_) -> Result<_>, and from there returning a error when an option is None is trivial - try!(your_option.ok_or(your_error)).
[08:43:28] <kagami> IMO if there _must't_ be None, the choice of Option is wrong. You need to unwrap it earlier or just skip current procedure and print error message instead of panicing. Using of unwrap() should be discouraged.
[08:44:11] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[08:44:19] <tomaka> kagami: let me write an example
[08:44:46] <fatichar> VShell, yes, my point was only about logic behind existance of unwrap()
[08:45:24] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[08:45:43] <XMPPwocky> CString::new("Wello, hurld").unwrap()
[08:45:46] <XMPPwocky> that is never going to fail
[08:45:54] <XMPPwocky> that is going to succeed 100% of the time
[08:46:08] <chowmeined> i find that hard to believe
[08:46:17] <XMPPwocky> if it fails the fundamental rules of the universe have changed and your computer is probably now a cat
[08:46:24] <XMPPwocky> Allocation failure always panics
[08:46:40] <chowmeined> which is a mistake imo
[08:47:12] <tomaka> kagami: I have a code that looks like this in glutin for example: http://is.gd/LWMID1
[08:47:12] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Quit: Leaving)
[08:47:13] <kagami> XMPPwocky: I believe in that case unwrap() is just analogue of assert. Assert is ok sometimes.
[08:47:41] <tomaka> obviously, "param6" can never be "None" as we make sure that it isn't in "create"
[08:47:50] <tomaka> "Option" is clearly not the good choice here
[08:47:53] <VShell> fatichar: yeah. my point is that there's rarely temptation to use it if your function types are correct/planned well - and if they're not, Rust's strict enough that you can fix them just by changing them and following the compiler errors. I would support an anti-unwrap lint being bundled with the compiler, though... but I'd more want an anti-panic! lint which covers that and a lot more.
[08:47:58] <chowmeined> XMPPwocky, it can fail
[08:48:13] <tomaka> but would you rewrite an entire CreationParametersNoOption struct and turn the CreationParameters into a CreationParametersNoOption?
[08:48:14] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[08:48:15] <XMPPwocky> chowmeined: no, it can't
[08:48:20] <chowmeined> XMPPwocky, it can fail if the referenced bytes contains an internal null byte
[08:48:23] <XMPPwocky> chowmeined: right
[08:48:27] <chowmeined> it says so in the docs
[08:48:31] <XMPPwocky> does "Wello, hurld" contain an internal null byte
[08:48:32] <XMPPwocky> no
[08:48:35] <kagami> tomaka: can create() return just Result instead?
[08:48:39] <chowmeined> it doesnt have a specialization
[08:48:44] <chowmeined> for string literals
[08:48:49] <tomaka> kagami: Why would it return a Result?
[08:48:50] <XMPPwocky> chowmeined: right, that's what i'm saying
[08:48:56] <chowmeined> you're saying it should?
[08:48:58] <XMPPwocky> no
[08:49:07] <XMPPwocky> chowmeined: so specificallyy that call, as written, with a string literal that contains no NULs
[08:49:10] <XMPPwocky> will never fail
[08:49:13] <XMPPwocky> it will always be Some
[08:49:19] <tomaka> kagami: if the Option contains None, it's clearly an internal problem in rustc
[08:49:21] <XMPPwocky> unwrapping it just makes the type signatures work out
[08:49:26] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (Ping timeout: 121 seconds)
[08:49:29] <chowmeined> okay
[08:49:47] <XMPPwocky> that's like the most basic usecase for .unwrap()
[08:50:09] <XMPPwocky> a more controversial case is when it's an error, but you either don't care about it (small little scripts) and just want to give up if it fails
[08:50:19] *** Joins: eerie (eerie@moz-rll6i6.red.bezeqint.net)
[08:50:35] <XMPPwocky> or actually want an unrecoverable error and tear the whole thread down
[08:50:44] <chowmeined> i find your example to be contrived
[08:51:03] <XMPPwocky> chowmeined: i do that CString::new stuff with string literals a *lot*
[08:51:10] <XMPPwocky> anyways, re: errors:
[08:51:18] <XMPPwocky> for example, i wrote a program to do a whole bunch of math for brute-forcing a key for something
[08:51:26] <XMPPwocky> it took 3 arguments on the command line
[08:51:34] <tomaka> chowmeined: the CString unwrap could be avoided by writing a macro or something that turns a string literal into a CString at compile-time
[08:51:45] <tomaka> chowmeined: but right no, there's no other solution than to call unwrap()
[08:51:45] <XMPPwocky> i used from_str on them, and unwrapped each Option from_str returned
[08:51:45] <chowmeined> then re-evaluate your designs strategy or make an RFC proposal
[08:51:47] <tomaka> now*
[08:51:58] <XMPPwocky> because this was like 30 lines of code
[08:52:13] <XMPPwocky> it would be extremely silly to get "real" error handling set up
[08:52:26] <XMPPwocky> so i have no issue using unwrap there
[08:52:44] *** Quits: csherrat_ (textual@moz-357qdq.cable.teksavvy.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[08:52:44] <kagami> XMPPwocky: it's the same like skipping the errors.
[08:52:44] <XMPPwocky> if I see that it panics, I know I typod the arguments or something
[08:52:55] <XMPPwocky> kagami: no, it's saying "if errors ever happen, give up."
[08:53:16] <XMPPwocky> there's a difference between saying "i am writing a paper and my house is on fire, i will just keep trying to write the paper"
[08:53:29] <XMPPwocky> and "i am writing a paper and my house is on fire, i'll scream and run outside and give up on the paper"
[08:53:48] <kagami> Wrong analogue. Parsing the cli argument shouldn't panic.
[08:53:53] *** Quits: khades1 (Thunderbird@moz-u45.3vk.74.212.IP) (Client exited)
[08:54:25] <XMPPwocky> kagami: in little scripts? yeah, it probably should
[08:54:27] <XMPPwocky> imo
[08:54:27] <tomaka> If you're in main, what's the difference between panicking and manually printing "wrong parameter"?
[08:54:40] <kagami> In case of CString I agree with you: it's just like assert.
[08:54:43] *** Joins: debu (debu@moz-vrmpv2.dyn.telefonica.de)
[08:54:46] <Mutabah> kagami: In production code, you should ensure that all .unwrap() calls are never able to be called with None...
[08:54:54] <XMPPwocky> https://gist.github.com/XMPPwocky/3083b7a13181525898c0 this is awful code, it should never ship, it will never ship
[08:55:00] <XMPPwocky> but it works for what i needed it 
[08:55:04] <Mutabah> kagami: but for development, or in short script-like programs, .unwrap is acceptable
[08:55:06] *** Joins: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP)
[08:55:12] <XMPPwocky> which is running through several billion possibilities in a few minutes
[08:55:22] <fatichar> XMPPwocky, not caring for safety can be argued for any small hobby programs. but does Rust allow bypassing ownership model (unless when explicitly saying unsafe)?
[08:55:37] <XMPPwocky> fatichar: no, I care for safety
[08:55:38] <kagami> tomaka: more robust imo.
[08:55:39] <tomaka> panicking is *not* being unsafe
[08:55:42] <XMPPwocky> you can throw twhatever you want at that program
[08:55:46] <XMPPwocky> it'll be memory-safe
[08:55:59] <XMPPwocky> but if you pass in "banana" it will print a 'thread main panicked' message
[08:56:00] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:56:20] *** Quits: eerie (eerie@moz-rll6i6.red.bezeqint.net) (Ping timeout: 121 seconds)
[08:56:53] <tomaka> a panic is like an exception
[08:56:54] <XMPPwocky> unrelated: is there a better way to deal with those obnoxious calls to .join()
[08:57:17] <kagami> tomaka: unhandled exception to be correct. It's the bad practice in scripting languages like Python too.
[08:57:21] <tomaka> I wrote a small webserver the other day, and if a handler panicks the server returns an error 500
[08:57:28] <tomaka> and the server continues
[08:57:38] <kagami> You should re-catch it at the top level and exit with nice error message instead of trace.
[08:57:59] <kagami> Traces for just typo in input argument are awful.
[08:58:23] *** Quits: martin_ (martin@moz-bmp33l.u0v6.gff7.1608.2001.IP) (Quit: WeeChat 1.1.1)
[08:58:44] <fatichar> I am not against exceptions. But it better be obvious when one reads the code
[08:58:47] *** Quits: james4k (james@moz-fm2a4v.consolidated.net) (Ping timeout: 121 seconds)
[08:59:26] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[08:59:30] <XMPPwocky> kagami: again, if this was shipping, sure
[08:59:30] <fatichar> I think we have had our arguments, now it comes down to schools of thought
[08:59:36] <XMPPwocky> if anybody else was going to use it, sure
[08:59:44] <kagami> sure thing
[08:59:46] <XMPPwocky> before I ported it to Rust, i was debugging in Python
[08:59:51] <tomaka> at one point there were debates about adding no_panic, making function that can panic more apparent by replacing it with a syntax in the compiler, etc.
[08:59:53] *** Joins: abique (abique@moz-alq0r9.ko9f.54u1.0e35.2a01.IP)
[09:00:00] <XMPPwocky> and in Python, int("banana", 16) does
[09:00:00] <XMPPwocky> uh
[09:00:14] <XMPPwocky> raises a ValueError
[09:00:17] <XMPPwocky> so the same thing happens
[09:00:24] <XMPPwocky> although the error message is a lot more helpful
[09:00:25] <tomaka> but I don't remember what happend to these debates
[09:00:31] <XMPPwocky> rust at least makes you *explicitly* call .unwrap()
[09:00:41] <XMPPwocky> instead of making the default to not handle exceptions
[09:01:01] *** Joins: martin (martin@moz-bmp33l.u0v6.gff7.1608.2001.IP)
[09:01:50] *** Joins: ddr2 (ddr@moz-am1.cj5.154.195.IP)
[09:02:28] *** Quits: ptalbot (ptalbot@moz-lrq2ca.dyn.as47377.net) (Ping timeout: 121 seconds)
[09:02:47] *** Joins: grncdr (Adium@moz-m1g.e47.90.95.IP)
[09:02:56] *** Joins: canhtak (canhtak@moz-1a9fh1.luxdsl.pt.lu)
[09:03:21] *** Joins: maedhroz (maedhroz@moz-4jk5ho.res.rr.com)
[09:03:28] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[09:03:56] *** Quits: fatichar (bzlandfill@moz-ovu.tnf.200.49.IP) (Quit: CGI:IRC (EOF))
[09:04:46] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[09:05:53] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[09:06:08] *** Joins: vosen (vosen@moz-mtm1g4.dynamic.chello.pl)
[09:06:40] *** Joins: ehiggs (ehiggs@moz-939f42.1fqp.rav1.1812.2a02.IP)
[09:07:23] *** Quits: maedhroz (maedhroz@moz-4jk5ho.res.rr.com) (Ping timeout: 121 seconds)
[09:08:17] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[09:08:48] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[09:10:56] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[09:11:17] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[09:13:20] *** Quits: mytrile (mytrile@moz-jkn.up2.40.84.IP) (Connection closed)
[09:13:33] *** Joins: jacwodjo (jacwodjo@moz-c73e2q.static-ro.twistednetworks.net)
[09:14:27] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[09:15:08] *** Joins: tomprogrammer (thomas@moz-dfmrok.tr5r.qept.4dd0.2001.IP)
[09:15:21] *** Quits: derek_c (derek@moz-samgps.cit.cornell.edu) (Ping timeout: 121 seconds)
[09:16:46] *** Joins: khades (Thunderbird@moz-u45.3vk.74.212.IP)
[09:17:37] *** Joins: cjs2 (cjs2@moz-tjbrim.lsn.wtnet.de)
[09:18:29] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[09:19:48] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[09:20:22] *** Quits: grncdr (Adium@moz-m1g.e47.90.95.IP) (Ping timeout: 121 seconds)
[09:20:57] *** Joins: debuuu (debu@moz-hjbvi6.dyn.telefonica.de)
[09:21:07] *** Joins: grncdr (Adium@moz-m1g.e47.90.95.IP)
[09:21:50] *** Joins: dawehner (quassel@moz-d8n.uga.249.209.IP)
[09:22:25] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[09:22:40] *** Joins: derek_c (derek@moz-samgps.cit.cornell.edu)
[09:23:14] *** Quits: debu (debu@moz-vrmpv2.dyn.telefonica.de) (Ping timeout: 121 seconds)
[09:23:50] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[09:24:53] *** Quits: O01eg (o01eg@moz-sgb7te.m4if.3egh.2698.2a02.IP) (Client exited)
[09:25:15] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[09:25:45] *** Quits: canhtak (canhtak@moz-1a9fh1.luxdsl.pt.lu) (Client exited)
[09:25:58] *** Quits: dawehner (quassel@moz-d8n.uga.249.209.IP) (Ping timeout: 121 seconds)
[09:26:27] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[09:26:54] *** Quits: yuja (yuja@moz-tvn458.pikara.ne.jp) (Ping timeout: 121 seconds)
[09:29:13] *** Quits: nham (nham@moz-755.bu3.214.98.IP) (Quit: leaving)
[09:29:15] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[09:29:18] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[09:30:04] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[09:30:34] *** Quits: tormoz (geov@moz-3q6.afp.124.178.IP) (Connection closed)
[09:33:17] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[09:34:05] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[09:34:33] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[09:34:40] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[09:35:14] *** Quits: fengshaun (fengshaun@moz-rf0qk5.cable.teksavvy.com) (Quit: bye bye!)
[09:36:17] *** Joins: Ketsuban (thomas@moz-n5k.lcd.221.2.IP)
[09:36:26] *** Quits: skade (skade@moz-0djl38.boh1-r2.syseleven.net) (Quit: Textual IRC Client: www.textualapp.com)
[09:36:44] *** Quits: Ketsuban (thomas@moz-n5k.lcd.221.2.IP) (Quit: To robbery, slaughter, plunder they give the lying name of empire; they make a desert and call it peace.)
[09:37:37] *** Quits: kkus (kkus@moz-fj2.o46.234.165.IP) (Ping timeout: 121 seconds)
[09:37:48] *** Joins: mytrile (mytrile@moz-jkn.up2.40.84.IP)
[09:38:07] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[09:38:26] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[09:38:35] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[09:38:56] *** Quits: ahunt (ahunt@moz-2obh4g.cam.ac.uk) (Ping timeout: 121 seconds)
[09:39:53] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[09:42:21] *** Joins: kkus (kkus@moz-fj2.o46.234.165.IP)
[09:42:46] *** Quits: lenstr (lenstr@moz-gja.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[09:43:55] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[09:44:00] *** Joins: erz (erz@moz-n26c5c.broadband.corbina.ru)
[09:44:12] *** Quits: Jesse (jruderman@moz-pqc1f5.ca.comcast.net) (Client exited)
[09:44:24] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[09:44:44] *** Joins: {AS} (uid45026@moz-srvrrh.uxbridge.irccloud.com)
[09:45:19] *** Joins: aepsil0n (eduard@moz-ob9p8k.hsi8.kabel-badenwuerttemberg.de)
[09:45:36] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[09:45:38] *** rkruppe_ is now known as rkruppe
[09:46:06] *** Joins: naufraghi (Mibbit@moz-s63e4h.41-151.net24.it)
[09:46:55] *** Joins: dr4yyee (dr4yyee@moz-bgv9e9.dip0.t-ipconnect.de)
[09:47:06] <naufraghi> hi all
[09:47:50] *** Joins: turtil (turtil@moz-8am.857.98.121.IP)
[09:48:13] <naufraghi> navigating the rust site I really miss a common header for navigation
[09:48:37] <bstrie> naufraghi: which site?
[09:48:45] <naufraghi> sometime I'm in the book and I'd like to read something on the API ore reverse
[09:49:06] *** Joins: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se)
[09:49:11] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[09:49:17] <naufraghi> and I must go back to the main page just to follow the link
[09:49:18] *** Joins: lenstr (lenstr@moz-gja.vju.25.171.IP)
[09:49:32] <bstrie> naufraghi: can you use multiple tabs for that?
[09:49:34] *** Quits: lenstr (lenstr@moz-gja.vju.25.171.IP) (Quit: Leaving...)
[09:49:58] <naufraghi> yes, I can, but is an usability issue IMHO, just a suggestion
[09:50:41] <Mutabah> naufraghi: The problem is that the book, API docs, and website are three different self-contained items
[09:52:23] <naufraghi> perhaps a common header, with a link back "home" and other sites (same rust version) links can be a plus
[09:53:03] *** Joins: eerie (eerie@moz-rll6i6.red.bezeqint.net)
[09:53:13] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[09:54:12] *** Joins: Nextra (Nextra@moz-3jjrit.ewe-ip-backbone.de)
[09:54:24] *** Joins: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk)
[09:54:29] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[09:54:31] *** Quits: jacwodjo (jacwodjo@moz-c73e2q.static-ro.twistednetworks.net) (Ping timeout: 121 seconds)
[09:54:33] *** Joins: proc (proc@moz-3fapej.dip0.t-ipconnect.de)
[09:54:40] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[09:56:19] <naufraghi> Mutabah: can I formally suggest this enhancement somewere?
[09:57:15] *** Quits: eerie (eerie@moz-rll6i6.red.bezeqint.net) (Ping timeout: 121 seconds)
[09:57:42] *** Joins: omaskery (Oliver@moz-q2n77u.range86-130.btcentralplus.com)
[09:57:53] <Mutabah> naufraghi: I think there's a website repo
[09:58:29] <Mutabah> However, I don't think this will be easy to implement. Well, for the API docs, as they're autogenerated by rustdoc, and published with rustc
[09:58:31] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[09:58:34] *** Joins: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at)
[09:58:35] *** Quits: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at) (Connection closed)
[09:58:36] *** Joins: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at)
[09:58:52] *** Joins: coderanger (Noah@moz-m5ti9s.net)
[09:59:50] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[10:03:41] *** Quits: frankmcsherry (frankmcsher@moz-uaqde2.dyn.telefonica.de) (Connection closed)
[10:03:52] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[10:04:05] *** Quits: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at) (Connection closed)
[10:04:18] *** Joins: duesenfranz_ (jona@moz-711djm.tirol.surfer.at)
[10:04:25] *** Joins: ainieco (ainieco@moz-ach.ksd.162.188.IP)
[10:04:26] *** Joins: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at)
[10:04:28] <ainieco> hello
[10:04:51] *** Quits: mkpankov (mkpankov@moz-sp9.3mh.23.84.IP) (Ping timeout: 121 seconds)
[10:06:15] <ainieco> could you please recommend a xml parsing library where xpath is supported? i just want to get all attribute values from certain tags as vector/slice/whatever
[10:06:24] *** Quits: mytrile (mytrile@moz-jkn.up2.40.84.IP) (Connection closed)
[10:07:24] *** Quits: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at) (Connection closed)
[10:07:25] *** Joins: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at)
[10:08:08] <ainieco> ah, i think https://github.com/shepmaster/sxd-xpath is what i need
[10:08:33] *** Quits: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[10:09:00] *** Quits: naufraghi (Mibbit@moz-s63e4h.41-151.net24.it) (Quit: http://www.mibbit.com ajax IRC Client)
[10:09:09] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[10:09:34] *** Quits: kidnapped_robot (kidnapped_r@moz-en3d16.il.comcast.net) (Ping timeout: 121 seconds)
[10:09:53] *** Joins: mytrile (mytrile@moz-jkn.up2.40.84.IP)
[10:10:56] *** Joins: eerie (eerie@moz-rll6i6.red.bezeqint.net)
[10:11:49] *** Joins: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se)
[10:12:19] *** Quits: mindtree (Mitch@moz-q2aegn.iprimus.net.au) (Ping timeout: 121 seconds)
[10:12:21] <ainieco> what feature(core) do?
[10:12:35] <ainieco> where can i find least of all features and their descriptions?
[10:12:44] <Mutabah> ainieco: It marks that your code can use the unstable parts of libcore
[10:13:05] <Mutabah> ainieco: Most of those are documented by the error messages you get when you need to use them :D
[10:13:11] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[10:13:21] *** Joins: mindtree (Mitch@moz-leplsr.iprimus.net.au)
[10:13:25] *** Quits: __ixti__ (ixti@moz-21k.dae.119.188.IP) (Ping timeout: 121 seconds)
[10:13:44] *** Quits: sin8h (Adium@moz-4gl.cvv.51.106.IP) (Quit: Leaving.)
[10:13:58] *** Joins: skade (skade@moz-0djl38.boh1-r2.syseleven.net)
[10:13:59] *** Joins: veqz (veqz@moz-nvr8g6.209.getinternet.no)
[10:14:49] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[10:15:20] <ainieco> Mutabah: would be great to see a list of all of them tho, what feature(test) does?
[10:15:57] *** Joins: ahunt (ahunt@moz-2obh4g.cam.ac.uk)
[10:16:48] *** Quits: tav (tav@moz-ivrq8h.range31-52.btcentralplus.com) (Ping timeout: 121 seconds)
[10:17:13] <Ms2ger> test is for some testing-related features, such as benchmarking
[10:17:27] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[10:18:13] <Ms2ger> See src/libtest/lib.rs
[10:18:18] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[10:18:29] *** Quits: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at) (Connection closed)
[10:18:51] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[10:21:24] *** Quits: Gabriel_7 (Gabriel@moz-aoq91m.mtgr.92aj.0e35.2a01.IP) (Ping timeout: 121 seconds)
[10:21:53] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[10:21:54] <Mutabah> *grr* Ok, nice, there's now a deny lint for mut transmutes
[10:22:03] <Mutabah> oh, and error lints still get lost
[10:22:06] <filsmick> is there a style guideline for grouping `use` statements?
[10:22:44] *** Joins: jacwodjo (jacwodjo@moz-5bq.k90.254.5.IP)
[10:23:20] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[10:23:29] *** Quits: areski (areski@moz-adq529.user.ono.com) (Ping timeout: 121 seconds)
[10:24:13] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[10:24:14] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[10:25:13] *** Quits: genbattle (genbattle@moz-ikj3l8.xtra.co.nz) (Quit: Leaving)
[10:25:33] <Mutabah> raw-pointer slices are fat, right?
[10:25:51] <kimundi> yes
[10:26:01] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[10:26:30] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[10:26:32] <ainieco> how can i make it stable? default_namespaces.iter().max_by(|ns| ns.name.offset).unwrap();
[10:27:22] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[10:27:44] <Mutabah> ainieco: I assume that max_by is unstable?
[10:27:48] <ainieco> Mutabah: yes
[10:27:56] *** Joins: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP)
[10:28:09] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[10:28:14] <Mutabah> ainieco: .fold(|ret,v| max(ret,v)) maybe?
[10:28:16] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[10:28:24] <ainieco> no
[10:28:49] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[10:29:02] <ainieco> oh geez, it's easier to use nightly than fix all those libs
[10:29:04] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[10:29:17] <Mutabah> ainieco: Why no?
[10:29:20] *** Joins: Porkepix_ (Porkepix@moz-e0d.ndj.138.157.IP)
[10:29:34] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[10:30:04] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[10:30:46] *** Joins: kaeluka_ (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se)
[10:31:10] *** Quits: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se) (Connection closed)
[10:31:11] *** kaeluka_ is now known as kaeluka
[10:31:20] *** Quits: Porkepix (Porkepix@moz-bm3.ndj.138.157.IP) (Ping timeout: 121 seconds)
[10:31:58] *** Quits: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP) (Ping timeout: 121 seconds)
[10:32:41] <ainieco> Mutabah: 1) fold takes 2 args. 2) max has different signature. 3) easier to use nightly than think how to fix all of that 
[10:33:06] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[10:33:16] <Mutabah> ainieco: My sample wasn't meant to comple, but it can be used as an alternative to max_by
[10:33:36] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[10:33:53] <Mutabah> .fold(0, |ret, v| ::std::cmp::max(ret, v.name.offset))
[10:34:18] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[10:34:33] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[10:34:37] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[10:35:22] *** Quits: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[10:36:26] *** Joins: larhat1 (Adium@moz-tb1ulb.cable.virginm.net)
[10:36:33] *** Joins: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de)
[10:36:34] *** Joins: Jackneill (Jackneill@moz-dqu8i4.pool.digikabel.hu)
[10:36:35] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[10:36:39] <ainieco> Mutabah: yeah, i appreciate that, alas that's still incorrect because 0 is not valid initial value, gives " attempted access of field `name` on type `usize`, but no field with that name was found" in other part of lib
[10:36:51] <ainieco> Mutabah: nvm as i said it's easier to use nightly afterall
[10:37:02] *** Quits: grncdr (Adium@moz-m1g.e47.90.95.IP) (Quit: Leaving.)
[10:37:06] *** Quits: dstrbad (dstrbad@moz-h33uj8.net.t-com.hr) (A TLS packet with unexpected length was received.)
[10:37:16] <ainieco> than trying to figure out how that xml lib works and fix it
[10:37:25] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[10:37:26] <ainieco> Mutabah: thanks for help tho
[10:38:02] <ainieco> my personal record of staying on bets is 2 weeks, lol :)
[10:38:12] <ainieco> nothing that i need works with beta 
[10:38:43] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[10:38:43] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[10:38:59] <ainieco> too bad that people used to nightlies and it's hard to get them off it already
[10:39:40] *** Joins: Gabriel_7 (Gabriel@moz-aoq91m.mtgr.92aj.0e35.2a01.IP)
[10:40:10] <Mutabah> The only thing keeping me off beta with my non-kernel projects is WEak
[10:40:59] <Hail_Spacecake> what's the best way to have a map from a key to a list of values?
[10:41:08] <Hail_Spacecake> such that you can insert and remove values from the list
[10:41:09] <Hail_Spacecake> by key
[10:41:11] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[10:41:12] *** Joins: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se)
[10:41:13] <ainieco> HashMap?
[10:41:24] *** Joins: eric_lagergren (barsonme@moz-lr1hrn.wa.comcast.net)
[10:41:42] <Hail_Spacecake> can you have a HashMap<K, mutable Vec<V>> or something like that?
[10:42:07] *** Joins: mkpankov (mkpankov@moz-sp9.3mh.23.84.IP)
[10:43:19] <kimundi> Hail_Spacecake: There is nothing like a "mutable" modifer required - the values are mutable if the hashmap is mutable, which depends on hwo you access it
[10:44:12] <Hail_Spacecake> so, I just need a HashMap<K, Vec<V>>, and I can pull out the interior vec's and mutate them?
[10:44:18] <kimundi> yes
[10:44:28] *** Quits: larhat1 (Adium@moz-tb1ulb.cable.virginm.net) (Quit: Leaving.)
[10:44:41] <kimundi> the hashmap has ways to give you a &mut Vec<T> into its insiode
[10:44:53] <bluss> methods .get_mut and .entry both give mut access to values. And .iter_mut()
[10:46:10] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[10:47:22] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[10:47:37] *** Quits: Feyn (Feyn@moz-b9v.4n2.115.42.IP) (Quit: Leaving)
[10:48:14] *** Joins: kngl (Adium@moz-rmgnkh.dynamic.voo.be)
[10:48:51] <Hail_Spacecake> hm, and I need to implement a check to see if the item doesn't already exists, so I can create a new singleton vec
[10:49:02] *** Joins: TheLemonMan (lemonboy@moz-2rse6n.26-151.libero.it)
[10:49:06] <Hail_Spacecake> I'm surprised this sort of data structure doesn't already exist
[10:49:40] *** Quits: omaskery (Oliver@moz-q2n77u.range86-130.btcentralplus.com) (Quit: Leaving)
[10:49:55] *** Quits: ehiggs (ehiggs@moz-939f42.1fqp.rav1.1812.2a02.IP) (Ping timeout: 121 seconds)
[10:49:59] <bluss> be sure to look at the .entry() API on hashmap
[10:50:24] <bluss> oh, its documentation doesn't even have an example
[10:50:44] *** Joins: sin8h (Adium@moz-f0u.cn5.51.106.IP)
[10:51:24] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[10:51:49] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[10:52:33] <bluss> Hail_Spacecake: let vec_for_k: &mut Vec<V> = map.entry(K).or_insert(Vec::new()); 
[10:52:39] <bluss> types for illustration
[10:52:49] *** Quits: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se) (Quit: bajs)
[10:52:51] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[10:52:52] *** Quits: eerie (eerie@moz-rll6i6.red.bezeqint.net) (Connection closed)
[10:53:08] *** Joins: eerie (eerie@moz-rll6i6.red.bezeqint.net)
[10:55:03] <Hail_Spacecake> ah, okay, that works
[10:55:54] <bluss> what do you mean works? Not just that but it's awesome :)
[10:56:51] *** Joins: Pieter (Mibbit@moz-7bjs3j.ftth.telfortglasvezel.nl)
[10:56:52] *** Joins: davorb (uid17780@moz-nbjr2u.uxbridge.irccloud.com)
[10:56:57] <Hail_Spacecake> I mean, it works in that it implements exactly the functionality that I was thinking needed to be implementd with another data structure
[10:57:01] <Hail_Spacecake> so yes that is awesome :)
[10:57:13] <sp0> bluss: you are a very helpful person. Keep it up :D
[10:58:24] *** Joins: uga (Mibbit@moz-dcsoaa.univie.teleweb.at)
[10:58:31] *** Joins: canhtak (canhtak@moz-1a9fh1.luxdsl.pt.lu)
[10:59:31] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[10:59:50] <bluss> thanks sp0
[11:00:00] *** Quits: mytrile (mytrile@moz-jkn.up2.40.84.IP) (Connection closed)
[11:00:49] *** Quits: eerie (eerie@moz-rll6i6.red.bezeqint.net) (Connection closed)
[11:00:55] *** Parts: uga (Mibbit@moz-dcsoaa.univie.teleweb.at) ()
[11:01:46] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[11:02:06] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Quit: Konversation terminated!)
[11:02:37] *** Quits: DemonOne (Avi@moz-o1ngmi.cablep.bezeqint.net) (Ping timeout: 121 seconds)
[11:02:51] *** Joins: LukasKa (lukas@moz-5qjori.ewe-ip-backbone.de)
[11:03:07] <LukasKa> Hi there, can anyone tell me why this does not compile? http://is.gd/ncJc7F
[11:03:09] <Hail_Spacecake> what's the canonical way to turn a &str into a new String?
[11:03:24] *** Joins: sigma (sigma@moz-llrbra.range86-135.btcentralplus.com)
[11:03:33] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[11:04:18] <bluss> Hail_Spacecake: not sure what the canonical way is. There is String::from(&str)  and (&str).to_owned() and (&str).to_string()
[11:04:19] *** Joins: maedhroz (maedhroz@moz-4jk5ho.res.rr.com)
[11:04:54] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[11:05:30] *** Joins: dstrbad (dstrbad@moz-lbk9qa.dsl.iskon.hr)
[11:06:53] *** Joins: DemonOne (Avi@moz-3ji606.cablep.bezeqint.net)
[11:07:02] <LukasKa> Isn't that a compiler bug? It tells me that my generic argument is never used, but when I remove it, it tells me that it needs it...
[11:07:17] <klutzy> sounds like a bug
[11:07:47] <klutzy> ah hmm
[11:08:21] *** Quits: maedhroz (maedhroz@moz-4jk5ho.res.rr.com) (Ping timeout: 121 seconds)
[11:08:35] <LukasKa> klutzy, "ah hmm"? Any new insights? :P
[11:08:39] <bluss> LukasKa: it's intentional basically. You can add a phantomdata field to use it
[11:08:57] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[11:10:21] <bluss> if your struct does not contain a N, you are forced to add a phantomdata field to tell rust about how that N type behaves in your case
[11:10:22] *** Quits: alonlevy_ (alon@moz-nbm25c.012.net.il) (Ping timeout: 121 seconds)
[11:10:44] <LukasKa> bluss, Ah ok... I think its a bit confusing 0.o Wouldn't it be wiser to not throw an error when the type is used in another type's definition?
[11:10:46] <bluss> then rustc will use that information for variance, basically how does subtyping change when the parameter N changse
[11:11:02] <LukasKa> mh...
[11:11:26] *** Joins: frankmcsherry (frankmcsher@moz-uaqde2.dyn.telefonica.de)
[11:11:47] *** Joins: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at)
[11:13:21] <bluss> I would add a field PhantomData<fn(N)>
[11:13:24] <bluss> I think that's correct
[11:14:13] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[11:15:21] *** Quits: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP) (Connection closed)
[11:15:32] *** Quits: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at) (Connection closed)
[11:16:18] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[11:16:30] *** Joins: gmk (Mibbit@moz-0hpfv1.dynamic.hinet.net)
[11:16:34] *** Joins: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP)
[11:16:39] <cods> Hi. I'm rather new to Rust. I'm a bit stuck with the way to pass closures to threads. I don't know how to fix that: http://tuxee.net/rust.txt  I understand the error (it make sense) but what I'm supposed to do in this case?
[11:17:36] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[11:17:45] *** rkruppe_ is now known as rkruppe
[11:18:15] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[11:18:15] *** Joins: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at)
[11:18:18] <gmk> it seems that custom deserialization has some problem, compiler will tell me (wrong number of type arguments: expected 0, found 1 ), reference: http://is.gd/TKPROs
[11:18:22] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[11:19:33] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[11:20:32] <bluss> gmk: your code is for an old version of rust. On which line is the error?
[11:20:50] *** Joins: mytrile (mytrile@moz-jkn.up2.40.84.IP)
[11:21:27] <gmk> bluss, yup I know, I has changed some old codes to fit with rust-serialize, but it still fails on line (impl<S: Decoder<E>, E> Decodable<S, E> for Person)
[11:21:29] <kali> gmk: if you're going to refactor this code, note that it is recommended to use the serde crate instead of rustc_serialization
[11:21:31] *** Joins: ytain (ytain@moz-pr2.aip.175.108.IP)
[11:21:46] *** Quits: nstoddard (nstoddard@moz-ce50ao.dhcp.embarqhsd.net) (Ping timeout: 121 seconds)
[11:22:58] <bluss> gmk: docs for rustc-serialize is here http://doc.rust-lang.org/rustc-serialize/rustc_serialize/index.html
[11:22:58] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[11:23:32] <bluss> if you are going to use that crate, use it from crates.io, extern crate rustc_serialize; and look where the traits have changed
[11:23:35] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[11:23:45] <bluss> the number of type parameters on them have changed
[11:24:52] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[11:27:06] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[11:27:30] *** Quits: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de) (Connection closed)
[11:27:38] *** Quits: mindtree (Mitch@moz-leplsr.iprimus.net.au) (Ping timeout: 121 seconds)
[11:28:41] *** Joins: mindtree (Mitch@moz-c3t.iuc.240.116.IP)
[11:28:54] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[11:28:56] *** Joins: nerdopoly (nerdopoly@moz-ouaagf.range86-143.btcentralplus.com)
[11:29:11] *** Joins: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP)
[11:29:33] *** Joins: tno (tomas@moz-iskdco.7pm2.so41.08a0.2001.IP)
[11:29:46] *** Joins: ptalbot (ptalbot@moz-lrq2ca.dyn.as47377.net)
[11:29:53] *** Quits: Porkepix_ (Porkepix@moz-e0d.ndj.138.157.IP) (Ping timeout: 121 seconds)
[11:29:57] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[11:31:09] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[11:32:36] *** Joins: kngl1 (Adium@moz-rmgnkh.dynamic.voo.be)
[11:32:45] *** Quits: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at) (Connection closed)
[11:33:13] *** Quits: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP) (Ping timeout: 121 seconds)
[11:33:59] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[11:34:14] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[11:34:18] *** Quits: kngl (Adium@moz-rmgnkh.dynamic.voo.be) (Ping timeout: 121 seconds)
[11:34:38] <cods> Regarding my question above, I've tested to create a closure with Box::new(move || ..) thinking that nothing would be left referencing the current scope, but that's not better actually (does not compile either).
[11:34:55] *** Quits: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de) (Connection closed)
[11:35:29] *** Joins: d_rezzer (chatzilla@moz-t0fmuj.hfc.comcastbusiness.net)
[11:35:30] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[11:35:35] *** Joins: ehiggs (ehiggs@moz-939f42.1fqp.rav1.1812.2a02.IP)
[11:36:26] <bluss> cods: you can move the render closure into one thread
[11:36:35] <bluss> cods: but you'd need to clone it to move it into 3
[11:37:19] <bluss> that closure should totally implement Clone. In the future when we fix cloning for closures.
[11:38:36] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[11:39:34] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[11:39:37] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[11:40:55] <Hail_Spacecake> how do I iterate over charaters in a string and then combine them into a string again?
[11:40:58] <cods> bluss: I see. How could I circumvent this limitation then? (My aim is to reuse the closure in another loop, and since it's referencing various locals variables, I thought it would be better implemented as a closure..)
[11:41:06] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[11:41:40] <Hail_Spacecake> e.g. I have my_string.chars().filter(|c| c.whatever()).map(|c| c.to_lowercase()), and I want to turn that back into a string
[11:41:44] <Hail_Spacecake> and I can't make the types work out
[11:43:14] *** Joins: eerie (eerie@moz-rll6i6.red.bezeqint.net)
[11:43:36] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[11:44:09] <duesenfranz_> HailSpacecake: I think you need .collect::<String>()
[11:44:27] <kimundi> Hail_Spacecake: you can collect iterators of char into a String directly
[11:44:43] *** Joins: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net)
[11:44:43] <Hail_Spacecake> so what am I doing wrong?
[11:44:53] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[11:44:54] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[11:45:04] <kimundi> playbot: my_string.chars().filter(|c| c.whatever()).map(|c| c.to_lowercase()).collect::<String>()
[11:45:05] -playbot- <anon>:9:9: 9:18 error: unresolved name `my_string`
[11:45:05] -playbot- <anon>:9         my_string.chars().filter(|c| c.whatever()).map(|c| c.to_lowercase()).collect::<String>()
[11:45:05] -playbot- output truncated; full output at: http://bit.ly/1F5nbOZ
[11:45:20] <kimundi> playbot: "foo".chars().filter(|c| c == 'o').map(|c| c.to_lowercase()).collect::<String>()
[11:45:21] -playbot- output truncated; full output at: http://bit.ly/1F5nc5v
[11:45:42] <kimundi> playbot: "foo".chars().filter(|&c| c == 'o').map(|c| c.to_lowercase()).collect::<String>()
[11:45:43] -playbot- output truncated; full output at: http://bit.ly/1KT3GcY
[11:46:26] <kimundi> Hail_Spacecake: to_lowercase does not return a a char, but a iterator over chars, since under unicode a char lower/upper case might map to more than one char
[11:46:50] <duesenfranz_> playbot: "foo".chars().filter(|c| c == &'o').map(|c| c.to_lowercase().next().unwrap()).collect::<String>()
[11:46:52] -playbot- "oo"
[11:46:55] <kimundi> Hail_Spacecake: So instead of map, you need flat_map to embedded that sequence of chars into the stream of chars
[11:47:02] <kimundi> playbot: "foo".chars().filter(|&c| c == 'o').flat_map(|c| c.to_lowercase()).collect::<String>()
[11:47:04] -playbot- "oo"
[11:47:12] <kimundi> duesenfranz_: does it the wrong way btw :P
[11:47:13] <Hail_Spacecake> oh
[11:47:21] * duesenfranz_ oops
[11:47:51] <kimundi> playbot: "foo".chars().filter(|&c| c == 'o').flat_map(char::to_lowercase).collect::<String>()
[11:47:53] -playbot- "oo"
[11:48:11] * kimundi like using those function directly instead of a lambda if possible
[11:48:34] <duesenfranz_> kimundi: but if multiple lowercase characters exist for this char, your method will print all of them, right?
[11:48:57] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[11:49:04] <duesenfranz_> playbot: "foo".chars().filter(|c| c == &'o').filter_map(|c| c.to_lowercase().next()).collect::<String>() wouldn't this be better?
[11:49:04] -playbot- <anon>:9:105: 9:111 error: expected one of `.`, `;`, `}`, or an operator, found `wouldn`
[11:49:05] -playbot- <anon>:9         "foo".chars().filter(|c| c == &'o').filter_map(|c| c.to_lowercase().next()).collect::<String>() wouldn't this be better?
[11:49:05] -playbot- output truncated; full output at: http://bit.ly/1F5nk4Z
[11:49:06] <kimundi> duesenfranz_: yes, but thats correct. it does not mean that there are many different chars, but that one char maps to a sequence of chars
[11:49:25] <kimundi> duesenfranz_: Eg, 'ß' to_uppercase ought to map to "SS"
[11:49:35] *** Quits: thiblahute (tsaunier@moz-rkc6r5.fbx.proxad.net) (Ping timeout: 121 seconds)
[11:49:37] <duesenfranz_> kimundi: aah ok thanks i understand now
[11:49:53] <duesenfranz_> unicode is hard :P
[11:49:59] <kimundi> yeah :P
[11:50:11] *** Quits: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se) (Client exited)
[11:50:17] *** Joins: adjivas (adjivas@moz-t655t6.abo.wanadoo.fr)
[11:50:29] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[11:50:50] *** Joins: filsmick_ (filsmick@moz-tj8j41.abo.wanadoo.fr)
[11:52:05] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[11:52:45] *** Joins: wei2912 (wei2912@moz-a2b.pb3.156.175.IP)
[11:52:55] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[11:53:37] *** Quits: filsmick_ (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[11:54:42] *** Quits: flan3002 (flan3002@moz-6vhgm3.de) (Quit: Have an awesome day!)
[11:55:01] *** Joins: flan3002 (till@moz-pti.6c5.113.82.IP)
[11:55:05] *** flan3002 is now known as tilpner
[11:55:05] <gmk> How can I use serde for json custom deserialization ? (if a json has 5 fields, I just want 2 of them, for example)
[11:56:46] *** Joins: nstoddard (nstoddard@moz-ce50ao.dhcp.embarqhsd.net)
[11:57:01] *** Quits: tilpner (till@moz-pti.6c5.113.82.IP) (Quit: Have an awesome day!)
[11:57:20] *** Joins: flan3002 (flan3002@moz-6vhgm3.de)
[11:57:35] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[11:57:35] *** Quits: flan3002 (flan3002@moz-6vhgm3.de) (Quit: Have an awesome day!)
[11:59:52] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[12:00:23] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[12:00:40] *** Quits: nerdopoly (nerdopoly@moz-ouaagf.range86-143.btcentralplus.com) (Connection closed)
[12:00:40] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Connection closed)
[12:00:48] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[12:00:55] *** Joins: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at)
[12:01:11] *** Quits: zyphrus (David@moz-1a4.urk.98.101.IP) (Ping timeout: 121 seconds)
[12:01:37] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[12:01:45] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[12:01:49] *** rkruppe_ is now known as rkruppe
[12:03:07] *** Quits: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at) (Connection closed)
[12:03:31] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[12:03:39] *** Joins: tamird (textual@moz-gg3hct.res.rr.com)
[12:04:16] *** Quits: kagami (kagami@moz-mof.5r5.61.185.IP) (Ping timeout: 121 seconds)
[12:05:53] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[12:06:04] *** Joins: mkpankov` (mkpankov@moz-5mc.k4a.16.195.IP)
[12:06:33] *** Joins: qrlpx (quassel@moz-motrvs.dip0.t-ipconnect.de)
[12:06:47] *** Joins: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at)
[12:07:28] *** Quits: RCIX (RCIX@moz-vnmep7.ph.cox.net) (Connection closed)
[12:07:57] *** Joins: acamda (adam@moz-1af19r.iinet.net.au)
[12:09:03] *** Quits: mkpankov (mkpankov@moz-sp9.3mh.23.84.IP) (Ping timeout: 121 seconds)
[12:09:43] *** Joins: tilpner (tilpner@moz-6vhgm3.de)
[12:09:45] *** Quits: sin8h (Adium@moz-f0u.cn5.51.106.IP) (Quit: Leaving.)
[12:09:55] *** Joins: gonzaloserrano (Adium@moz-ljn7sg.staticIP.rima-tde.net)
[12:11:39] *** Joins: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP)
[12:11:40] *** Quits: homa_rano (edre@moz-6pigob.cable.rcn.com) (Connection closed)
[12:12:10] *** Joins: homa_rano (edre@moz-6pigob.cable.rcn.com)
[12:12:40] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[12:12:40] *** Quits: mkpankov` (mkpankov@moz-5mc.k4a.16.195.IP) (Connection closed)
[12:12:57] *** Quits: eerie (eerie@moz-rll6i6.red.bezeqint.net) (Connection closed)
[12:13:13] *** Joins: eerie (eerie@moz-rll6i6.red.bezeqint.net)
[12:13:30] *** Joins: newbie (eibwen@moz-t09e97.dip0.t-ipconnect.de)
[12:15:22] *** Quits: ruukasu (ruukasu@moz-obsv1c.res.rr.com) (Ping timeout: 121 seconds)
[12:15:26] *** Joins: ruukasu (ruukasu@moz-obsv1c.res.rr.com)
[12:15:29] *** Joins: sin8h (Adium@moz-f0u.cn5.51.106.IP)
[12:17:06] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[12:17:39] *** Joins: kagami (kagami@moz-mof.5r5.61.185.IP)
[12:18:47] *** Joins: rainemak (rainemak@moz-ekdrjb.elisa-laajakaista.fi)
[12:20:21] *** Quits: gonzaloserrano (Adium@moz-ljn7sg.staticIP.rima-tde.net) (Quit: Leaving.)
[12:21:40] *** Joins: errordeveloper (ilya@moz-l8r.m9l.11.94.IP)
[12:22:28] *** Quits: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at) (Connection closed)
[12:24:16] *** Quits: kngl1 (Adium@moz-rmgnkh.dynamic.voo.be) (Quit: Leaving.)
[12:24:30] *** Quits: Douman (Douman@moz-35cmpg.dynamic.mts-nn.ru) (Ping timeout: 121 seconds)
[12:24:58] *** Joins: ptalbot_ (ptalbot@moz-h7l0dh.dyn.as47377.net)
[12:25:45] *** Quits: ptalbot (ptalbot@moz-lrq2ca.dyn.as47377.net) (Ping timeout: 121 seconds)
[12:25:51] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[12:26:53] *** Quits: untitaker (untitaker@moz-7j2lio.highway.telekom.at) (Ping timeout: 121 seconds)
[12:26:56] *** Joins: yuja (yuja@moz-tvn458.pikara.ne.jp)
[12:27:31] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (A TLS packet with unexpected length was received.)
[12:27:33] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[12:27:35] *** Joins: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se)
[12:28:53] <filsmick> is it possible to have generic return types? i.e. return any error?
[12:28:55] *** Joins: untitaker (untitaker@moz-jbfa5n.highway.telekom.at)
[12:30:12] *** Quits: eerie (eerie@moz-rll6i6.red.bezeqint.net) (Connection closed)
[12:30:37] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[12:30:49] *** Joins: griff (griff@moz-bf2.sbd.199.62.IP)
[12:31:21] *** Quits: sin8h (Adium@moz-f0u.cn5.51.106.IP) (Quit: Leaving.)
[12:31:36] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[12:31:49] *** Joins: ZenSword (ZenSword@moz-hlrta3.pools.vodafone-ip.de)
[12:32:06] *** Joins: kngl (Adium@moz-rmgnkh.dynamic.voo.be)
[12:32:59] <duesenfranz_> filsmick: I think you are looking for abstract return types, and I think they are unfortunately not possible...
[12:33:48] <filsmick> duesenfranz_: that's unfortunate
[12:33:50] <duesenfranz_> filsmick: meanwhile, Box<Error> is as good as it gets...
[12:34:01] <filsmick> duesenfranz_: I'd like to use try!() without defining an error enum
[12:34:06] <FreeFull> Box<Error> works well enough
[12:34:15] <FreeFull> It'll work with try!()
[12:34:37] <FreeFull> Well, you might need  Error + Some other bounds
[12:34:39] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[12:34:45] <FreeFull> I don't quite remember
[12:35:22] <FreeFull> playbot: fn foo() -> Result<(), Box<Error>> { try!(Err("foo")); }
[12:35:23] -playbot- <anon>:9:36: 9:41 error: use of undeclared type name `Error`
[12:35:24] -playbot- <anon>:9         fn foo() -> Result<(), Box<Error>> { try!(Err("foo")); }
[12:35:24] -playbot- output truncated; full output at: http://bit.ly/1H56RNt
[12:35:36] <FreeFull> playbot: use std::error::Error; fn foo() -> Result<(), Box<Error>> { try!(Err("foo")); }
[12:35:37] -playbot- <std macros>:6:1: 6:32 error: the trait `std::error::Error` is not implemented for the type `&str` [E0277]
[12:35:37] -playbot- <std macros>:6 $ crate:: convert:: From:: from ( err ) ) } } )
[12:35:37] -playbot- output truncated; full output at: http://bit.ly/1IZ3gTf
[12:35:42] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[12:35:45] <duesenfranz_> and gmk: I think it's explained in the serde docs
[12:36:17] <duesenfranz_> gmk: personally, I'd say it's easiest to make a struct that just contains the fields you want to export, and then auto-derive
[12:36:44] *** Joins: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP)
[12:37:03] *** Joins: maximih (maximih@moz-u2untg.k49b.su5n.2002.2001.IP)
[12:37:26] <FreeFull> playbot: use std::error::Error; struct Foo; impl Error for Foo {} fn foo() -> Result<(), Box<Error>> { try!(Err(Foo)); }
[12:37:27] -playbot- <anon>:9:44: 9:65 error: the trait `core::fmt::Debug` is not implemented for the type `main::Foo` [E0277]
[12:37:27] -playbot- <anon>:9         use std::error::Error; struct Foo; impl Error for Foo {} fn foo() -> Result<(), Box<Error>> { try!(Err(Foo)); }
[12:37:27] -playbot- output truncated; full output at: http://bit.ly/1H572sa
[12:38:15] *** Quits: Gabriel_7 (Gabriel@moz-aoq91m.mtgr.92aj.0e35.2a01.IP) (Ping timeout: 121 seconds)
[12:39:08] *** Joins: kidnapped_robot (kidnapped_r@moz-en3d16.il.comcast.net)
[12:39:10] <FreeFull> Ok, the example would grow too long because I'd have to include a manual implementation of Display too
[12:39:46] <VShell> Display?
[12:39:59] *** Quits: maximih (maximih@moz-u2untg.k49b.su5n.2002.2001.IP) (A TLS packet with unexpected length was received.)
[12:40:23] <VShell> playbot: use std::error::Error; #[derive(Debug)] struct Foo; impl Error for Foo {} fn foo() -> Result<(), Box<Error>> { try!(Err(Foo)); }
[12:40:24] *** Quits: skade (skade@moz-0djl38.boh1-r2.syseleven.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[12:40:24] -playbot- <anon>:9:61: 9:82 error: the trait `core::fmt::Display` is not implemented for the type `main::Foo` [E0277]
[12:40:24] -playbot- <anon>:9         use std::error::Error; #[derive(Debug)] struct Foo; impl Error for Foo {} fn foo() -> Result<(), Box<Error>> { try!(Err(Foo)); }
[12:40:24] -playbot- output truncated; full output at: http://bit.ly/1IZ47DI
[12:40:30] <VShell> ah, ok. :P
[12:40:33] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[12:41:18] <bluss> cods: I think you should use a type, with methods
[12:41:21] <FreeFull> And the Error implentation would need impls for the methods too
[12:41:31] *** Quits: tamird (textual@moz-gg3hct.res.rr.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[12:41:37] <bluss> cods: those are so to speak more first class than closures, due to this cloning issue
[12:43:35] <FreeFull> playbot: use std::error::Error; fn foo() -> Result<(), Box<Error>> { try!(std::io::Empty.read(&mut [0])); }
[12:43:36] -playbot- <anon>:9:74: 9:88 error: unresolved name `std::io::Empty`
[12:43:36] -playbot- <anon>:9         use std::error::Error; fn foo() -> Result<(), Box<Error>> { try!(std::io::Empty.read(&mut [0])); }
[12:43:36] -playbot- output truncated; full output at: http://bit.ly/1IZ4FcK
[12:44:01] <bluss> cods: I've got one silly workaround for you though! http://is.gd/PUpyQF
[12:44:04] <FreeFull> playbot: use std::error::Error; fn foo() -> Result<(), Box<Error>> { try!(std::io::empty().read(&mut [0])); }
[12:44:06] -playbot- output truncated; full output at: http://bit.ly/1H57mar
[12:44:35] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (Ping timeout: 121 seconds)
[12:44:52] <FreeFull> playbot: use std::error::Error; use std::io::Read; fn foo() -> Result<(), Box<Error>> { try!(std::io::empty().read(&mut [0])); Ok(()) }
[12:44:55] -playbot- ()
[12:44:57] <FreeFull> Finally
[12:45:01] <FreeFull> Sorry about the playbot spam
[12:45:15] *** Joins: Gabriel_7 (Gabriel@moz-aoq91m.mtgr.92aj.0e35.2a01.IP)
[12:45:28] <bluss> you can /query or /msg to sort it out before showing :)
[12:45:45] *** Quits: abique (abique@moz-alq0r9.ko9f.54u1.0e35.2a01.IP) (Ping timeout: 121 seconds)
[12:45:57] <bluss> that way it looks like you always get it right on the first try too
[12:46:05] *** Joins: lyc (lyc@moz-jft.nr8.226.207.IP)
[12:46:35] *** Joins: geri (Mibbit@moz-u9v2ul.highway.telekom.at)
[12:46:52] <FreeFull> bluss: Or just sort it out in the playpen
[12:47:36] *** Joins: ai (ai@moz-pqofrl.sunline.net.ua)
[12:48:25] *** Quits: yuja (yuja@moz-tvn458.pikara.ne.jp) (Ping timeout: 121 seconds)
[12:48:32] <geri> hi, why does dfs not output 3,2,1,0? http://is.gd/o4coxY
[12:49:10] *** Joins: jws (jsalter@moz-q98cl6.cable.virginm.net)
[12:49:18] *** Quits: dstrbad (dstrbad@moz-lbk9qa.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[12:49:28] <bluss> geri: looks like the dfs() implements a bfs
[12:49:44] *** Quits: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au) (Ping timeout: 121 seconds)
[12:49:49] <FreeFull> geri: .len() already returns usize by the way
[12:50:02] <bluss> you should take the top element of the stack
[12:50:18] <bluss> while let Some(current) = stack.pop() {  should work?
[12:50:29] <shep-home> Am I correct in guessing that std::str::pattern::Pattern won't be stable for 1.0?
[12:50:33] <frankmcsherry> geri: because both bfs and dfs do the same thing.
[12:50:46] <frankmcsherry> you probably want .pop() rather than .remove(0) in dfs
[12:50:57] <cods> bluss: oh, your workaround is interesting. Doesn't look that silly to me :)
[12:50:59] <bluss> shep-home: yes. Beta is the preview, nothing major will change from the betas
[12:50:59] <geri> bluss: dfs uses a stack!
[12:50:59] *** Joins: yuja (yuja@moz-tvn458.pikara.ne.jp)
[12:51:22] <bluss> geri: well it could but you can't do .remove(0) on a stack
[12:51:26] <bluss> a stack is push/pop
[12:51:48] <bluss> use it like a stack and it will fall into place
[12:52:06] <shep-home> bluss: well, that's a zinger. I guess I need to... reimplement pattern myself. oof
[12:52:22] *** Joins: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au)
[12:52:28] *** Joins: maximih (maximih@moz-2fka0c.k49b.su5n.2002.2001.IP)
[12:52:38] <geri> bluss: remove(0) removes the front element...
[12:52:41] <jws> abs noob here trying to fix a package that refers to std::num::cast removed in eeb948 - what is supposed to replace it?
[12:53:02] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[12:53:06] <bluss> geri: right, you don't want that. Use stack.pop() to remove the "back" element. In stack language, the "top" element
[12:53:12] <FreeFull> .remove(0) is really inefficient
[12:53:25] <bluss> geri: a Vec is a stack if you use its two methods .push() and .pop()
[12:53:34] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[12:53:50] <mindtree> jws: there is a `num` crate on crates.io that replaces it
[12:53:59] <FreeFull> If you use .push(...) and .remove(0) it's a really inefficient queue
[12:55:03] <frankmcsherry> geri: http://is.gd/iuXqrk
[12:55:07] <jws> mindtree: thankyou
[12:55:13] *** Quits: ptalbot_ (ptalbot@moz-h7l0dh.dyn.as47377.net) (Ping timeout: 121 seconds)
[12:55:24] <eddyb_> VecDeque is efficient at both ends
[12:55:36] <mindtree> eddyb_: why?
[12:55:37] <geri> frankmcsherry: ah ok...
[12:55:39] <geri> thx
[12:55:48] <bluss> Vec is more efficient, but only on the end end
[12:55:54] *** Quits: LukasKa (lukas@moz-5qjori.ewe-ip-backbone.de) (Quit: Leaving)
[12:55:56] *** Joins: terpstra (terpstra@moz-92dji5.dip0.t-ipconnect.de)
[12:56:03] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[12:56:09] <eddyb_> mindtree: it's a growable ring buffer
[12:56:27] <frankmcsherry> geri: you could also use the bfs impl but just change pop_back() to pop_front().
[12:56:34] <mindtree> eddyb_: if your size never exceed capacity, it should be fine though yeah?
[12:57:28] <geri> frankmcsherry: is bfs wrong?
[12:58:33] <geri> frankmcsherry: ah you mean reuse code...
[12:58:35] <frankmcsherry> my recommended form of bfs: https://github.com/frankmcsherry/differential-dataflow/blob/master/examples/bfs.rs
[12:59:32] <eddyb_> mindtree: then it will be more efficient, just like Vec is more efficient when not exceeding capacity
[12:59:47] *** Quits: yuja (yuja@moz-tvn458.pikara.ne.jp) (Ping timeout: 121 seconds)
[12:59:54] *** Joins: R4lf3X (Mibbit@moz-f1g5um.fbx.proxad.net)
[12:59:54] <gmk> how can I fix this issue ? (serde: http://pastebin.com/eMaRD9un)
[13:00:37] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[13:01:04] *** Quits: noustuff (sid82844@moz-n7p65f.uxbridge.irccloud.com) (Quit: )
[13:01:13] *** Joins: noustuff (sid82844@moz-n7p65f.uxbridge.irccloud.com)
[13:01:19] *** Joins: mib_rny97i (Mibbit@moz-bermsq.vt.charter.com)
[13:01:28] *** Quits: mib_rny97i (Mibbit@moz-bermsq.vt.charter.com) (Quit: http://www.mibbit.com ajax IRC Client)
[13:02:12] <mindtree> eddyb_: haha oh my, i'm sorry, I originally read your msg as "VecDeque is inefficient at both ends" and I freaked out
[13:02:31] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[13:02:34] <mindtree> :)
[13:03:01] * mindtree is using it a bunch for audio stuff
[13:03:26] *** Joins: saml_ (saml@moz-rkfmct.res.rr.com)
[13:04:14] <eddyb_> lol
[13:04:14] *** Quits: homa_rano (edre@moz-6pigob.cable.rcn.com) (Connection closed)
[13:04:37] *** Joins: Douman (Douman@moz-35cmpg.dynamic.mts-nn.ru)
[13:04:40] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[13:04:46] *** Joins: skade (skade@moz-0djl38.boh1-r2.syseleven.net)
[13:05:10] *** Joins: homa_rano (edre@moz-6pigob.cable.rcn.com)
[13:05:18] *** Joins: maedhroz (maedhroz@moz-4jk5ho.res.rr.com)
[13:06:00] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[13:06:01] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[13:06:31] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[13:06:39] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[13:06:41] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[13:07:38] *** Joins: espadrine (tyl@moz-l019mn.fbx.proxad.net)
[13:08:06] <R4lf3X> hi! I'm new here and I'm also new with rust .... so i was wondering if one of you know a good book (in french if it's possible) to learn rust...
[13:09:10] <eddyb_> I think there's a french channel on here (#rust-fr?)
[13:09:20] *** Quits: maedhroz (maedhroz@moz-4jk5ho.res.rr.com) (Ping timeout: 121 seconds)
[13:10:13] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[13:10:19] <R4lf3X> thanks i'll try here :)
[13:10:25] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[13:10:27] <eddyb_> book, well... there aren't many (any?) even in English - the first stable version hasn't even been released yet
[13:10:55] <geri> R4lf3X: try english :D
[13:11:13] <jws> does the "unstable feature" completely prevent me from building a package? is there a way to ignore it?
[13:11:17] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[13:11:18] <eddyb_> R4lf3X: having the official "book" being translated to French would be cool though
[13:11:22] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[13:11:36] <eddyb_> jws: it prevents building on beta and stable
[13:12:05] <eddyb_> R4lf3X: I would still call it a reference/tutorial-set, though
[13:12:29] <jws> does that imply i have to roll back my actual version of rustc? 
[13:12:32] *** Joins: idegen (greg@moz-9c4nle.or.frontiernet.net)
[13:12:56] <huon> jws: you can use https://github.com/brson/multirust to easily switch between versions
[13:13:13] <eddyb_> jws: the opposite
[13:13:22] <eddyb_> nightly can compile anything
[13:13:51] <jws> eddyb: sweet, thanks
[13:14:14] *** Quits: andschwa (andschwa@moz-v32.q66.42.104.IP) (Ping timeout: 121 seconds)
[13:14:47] *** eddyb_ is now known as eddyb
[13:15:25] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[13:15:35] *** Quits: mytrile (mytrile@moz-jkn.up2.40.84.IP) (Quit: )
[13:15:37] *** Joins: andschwa (andschwa@moz-v32.q66.42.104.IP)
[13:15:53] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Quit: )
[13:18:17] *** Quits: cjs2 (cjs2@moz-tjbrim.lsn.wtnet.de) (Connection closed)
[13:18:30] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[13:18:39] *** Joins: Dean4Devil (Dean@moz-qe2kds.paranoidlabs.org)
[13:19:13] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[13:19:38] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[13:20:24] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[13:20:30] *** Quits: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se) (Client exited)
[13:21:05] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[13:21:39] *** Quits: terpstra (terpstra@moz-92dji5.dip0.t-ipconnect.de) (Client exited)
[13:23:01] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[13:24:59] *** Joins: ptalbot_ (ptalbot@moz-h7l0dh.dyn.as47377.net)
[13:25:03] *** Joins: thiblahute (tsaunier@moz-rkc6r5.fbx.proxad.net)
[13:25:28] *** Joins: Lurkin3 (Lurkin@moz-p4efgs.mpls.qwest.net)
[13:25:34] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[13:27:35] *** Quits: tomprogrammer (thomas@moz-dfmrok.tr5r.qept.4dd0.2001.IP) (Quit: WeeChat 1.1.1)
[13:27:50] *** Quits: frankmcsherry (frankmcsher@moz-uaqde2.dyn.telefonica.de) (Connection closed)
[13:28:13] *** Quits: adjivas (adjivas@moz-t655t6.abo.wanadoo.fr) (Quit: WeeChat 0.4.2)
[13:28:17] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[13:29:03] *** Quits: Lurkin2 (Lurkin@moz-p4efgs.mpls.qwest.net) (Ping timeout: 121 seconds)
[13:29:44] *** Quits: loyd (loyd@moz-uft.32f.108.213.IP) (Connection closed)
[13:30:24] *** Joins: loyd (loyd@moz-uft.32f.108.213.IP)
[13:30:24] *** Joins: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP)
[13:30:53] *** Joins: eerie (eerie@moz-rll6i6.red.bezeqint.net)
[13:31:28] *** Joins: smckay_ (steve@moz-bfutgb.va.comcast.net)
[13:31:29] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[13:31:57] <R4lf3X> I ask the rust-fr and there's no (for now) tutorial in french thanks for your answer (i've got some http://doc.rust-lang.org/1.0.0-beta.4/book/ to read ;) )
[13:32:20] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[13:32:59] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[13:33:33] *** Quits: smckay (steve@moz-bfutgb.va.comcast.net) (Ping timeout: 121 seconds)
[13:34:26] *** Quits: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP) (Ping timeout: 121 seconds)
[13:34:26] *** Joins: alonlevy_ (alon@moz-nbm25c.012.net.il)
[13:34:34] *** bvssvni_ is now known as bvssvni
[13:34:58] *** Quits: eerie (eerie@moz-rll6i6.red.bezeqint.net) (Ping timeout: 121 seconds)
[13:35:26] <geri> R4lf3X: you can make one...
[13:35:32] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[13:35:58] *** Quits: rovar (rovar@moz-6iq.47m.88.38.IP) (NickServ (RECOVER command used by Guest13268))
[13:35:59] *** Guest13268 is now known as rovar
[13:36:11] *** Joins: rovar_ (rovar@moz-6iq.47m.88.38.IP)
[13:36:43] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[13:37:10] *** Joins: mcoffee (mcoffee@moz-or8.o86.5.154.IP)
[13:37:15] *** Quits: griff (griff@moz-bf2.sbd.199.62.IP) (Client exited)
[13:37:31] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[13:38:06] *** Joins: FrozenCow (FrozenCow@moz-i2tvv4.chello.nl)
[13:38:43] *** Quits: acamda (adam@moz-1af19r.iinet.net.au) (Quit: leaving)
[13:39:25] *** Joins: griff (griff@moz-bf2.sbd.199.62.IP)
[13:39:41] *** Joins: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de)
[13:40:18] *** Joins: terpstra (terpstra@moz-92dji5.dip0.t-ipconnect.de)
[13:40:49] *** Joins: mkpankov (mkpankov@moz-2j8.jvq.149.83.IP)
[13:40:51] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[13:40:58] *** rkruppe_ is now known as rkruppe
[13:40:59] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[13:41:03] *** Quits: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[13:41:22] <eddyb> geri, R4lf3X: a coordinated multi-language translation effort would be amazing
[13:41:28] *** Quits: terpstra (terpstra@moz-92dji5.dip0.t-ipconnect.de) (Client exited)
[13:42:05] <eddyb> something that can track progress and display the English version if there is no up-to-date localized page/paragraph
[13:42:35] *** Quits: thiblahute (tsaunier@moz-rkc6r5.fbx.proxad.net) (Ping timeout: 121 seconds)
[13:43:04] <eddyb> if I start doing this for Romanian... I will have to invent about a hundred new phrases
[13:43:28] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[13:43:29] <kimundi> heh
[13:43:29] *** Joins: terpstra (terpstra@moz-92dji5.dip0.t-ipconnect.de)
[13:44:04] <eddyb> kimundi: did I mention how all the cool terms on the front page are untranslatable?
[13:44:16] *** Joins: new_one (new_one@moz-suj.lcf.15.50.IP)
[13:44:52] <eddyb> "data race"? it sounds like "race of datas" but 100% more horsy
[13:45:07] *** fmtq is now known as fmtq`
[13:45:26] <kimundi> haha
[13:46:21] <eddyb> "safety" sounds like "ensurance" without the "en"
[13:46:22] <kimundi> To be fair, I don't actually know good german translation of those phrases either
[13:46:36] *** Joins: xauth (vincent@moz-r6n7aq.xs4all.nl)
[13:46:55] <geri> eddyb: im fine with english :D
[13:47:14] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[13:47:15] <geri> idk why people dont like english
[13:47:18] <kimundi> Actually, according to wikipedia the german term for "race condition" is "race condition", so there'S that :P
[13:47:20] *** Joins: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com)
[13:47:27] <Tobba> eddyb: it's untranslatable to swedish as well, but theres a good reason why noone likes swedish translations
[13:47:28] *** Joins: pgonda (peter@moz-otulp7.ma.comcast.net)
[13:47:39] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[13:47:39] *** Quits: eddyb (eddyb@moz-9pm.kjd.26.188.IP) (Connection closed)
[13:47:40] <R4lf3X> someone has start to write his own way to teach rust but he is now in the half and i've  not enough knowledge to help him 
[13:47:42] *** Joins: eddyb (eddyb@moz-9pm.kjd.26.188.IP)
[13:47:48] <Tobba> (they all sound cheesy as fuck or just have the english words dumped in because it's untranslatable)
[13:48:00] <kimundi> pfff but it gives german tranlations... "Wettlaufsituation" 
[13:48:21] <eddyb> welcome to Romania where we teach C++ like it's COBOL and OOP is POO
[13:48:24] *** Quits: awrush (awrush@moz-15s7c4.udtd.gaqb.04f8.2a01.IP) (Ping timeout: 121 seconds)
[13:48:25] <kali> in french it's "condition de course" but it sounds bad
[13:48:44] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[13:48:51] *** Quits: fjh (fjh@moz-mof4p1.62vh.lq23.04f8.2a01.IP) (Ping timeout: 121 seconds)
[13:48:53] <fkaa> Tobba: data rejs mellan trådar
[13:48:55] <kali> it sounds incredibly old school and academic
[13:48:57] <eddyb> kali: that's exactly what "race condition" is in Romanian
[13:49:20] *** Quits: heftig (heftig@moz-5r9s0n.archlinux.org) (Quit: No Ping reply in 180 seconds.)
[13:49:21] <geri> does rust have green threads?
[13:49:24] *** Quits: m_khvoinitsky (quassel@moz-bkl6sn.d57a.lq23.04f8.2a01.IP) (Quit: No Ping reply in 180 seconds.)
[13:49:28] <Tobba> fkaa: hence the cheeseness or swenglish salad
[13:49:38] <Tobba> cheesiness*
[13:49:49] <eddyb> "cursa" in Romanian is a horse or car race though
[13:49:50] <kimundi> geri: not as a build-in concept. there are/can be libraries for that though
[13:49:57] <eddyb> oh, there is a better word
[13:50:01] <kali> most of the time when reading french tech stuff, i find myself translating the terms one by one back to english to understand them
[13:50:11] *** Joins: dstrbad (dstrbad@moz-lbk9qa.dsl.iskon.hr)
[13:50:16] <Tobba> fkaa: alternatively come up with a better translation for "race" than "lopp"
[13:50:21] *** Joins: awrush (awrush@moz-15s7c4.udtd.gaqb.04f8.2a01.IP)
[13:50:31] *** Quits: boustrophedon (boustrophed@moz-hl0kqf.sh) (Ping timeout: 121 seconds)
[13:50:32] <Tobba> because that has the same problem was eddyb is describing
[13:50:34] <eddyb> "intrecere" which means something between "competition", "concurrence" and "race"
[13:50:38] <fkaa> data flees!
[13:50:40] <fkaa> loppor
[13:50:48] <Tobba> dataloppor
[13:50:48] *** Quits: psy (psy@moz-93g.ntd.6.103.IP) (Connection closed)
[13:50:50] <Tobba> excellent
[13:50:56] *** Joins: fjh (fjh@moz-mof4p1.62vh.lq23.04f8.2a01.IP)
[13:51:07] <fkaa> not even sure how you'd translate integer, float, etc.
[13:51:08] <Tobba> that sounds like some crazy things which eat your data
[13:51:14] <Tobba> integer, flyttal
[13:51:19] <fkaa> hehe
[13:51:24] <Tobba> fixed-point though...
[13:51:29] <eddyb> "intrecere de date"
[13:51:31] <Tobba> (but that isn't used on the frontpage)
[13:51:34] *** Joins: boustrophedon (boustrophed@moz-hl0kqf.sh)
[13:51:40] <fkaa> fixerad-punkt
[13:51:45] <eddyb> lol it could totally mean "data pissing contest"
[13:51:45] <kali> fkaa: these one may have well accepted translations as they come from maths
[13:51:46] <fkaa> </cool>
[13:51:49] <Tobba> fixerad-punkt värden
[13:51:52] <Tobba> christ
[13:51:56] <fkaa> kali: true
[13:51:57] *** Joins: heftig (heftig@moz-5r9s0n.archlinux.org)
[13:51:57] *** Joins: m_khvoinitsky (quassel@moz-bkl6sn.d57a.lq23.04f8.2a01.IP)
[13:52:08] <Tobba> kali: swedish math is also awful though
[13:52:09] <kali> fkaa: well, at least "integer", float is not the same thing as "real"
[13:52:16] *** Joins: fmtq (quassel@moz-54c141.sk83.bjud.7e00.2a01.IP)
[13:52:19] <fkaa> now i kind of want to localise rust syntax to swedish
[13:52:33] <eddyb> fkaa: u wot m8?
[13:52:48] *** Joins: jxv (jxv@moz-2celrt.res.rr.com)
[13:52:52] <eddyb> you can write a translated library
[13:52:58] <fkaa> använd std;
[13:53:05] *** Joins: thelink2012 (Mibbit@moz-ra3.o3h.183.179.IP)
[13:53:05] <Tobba> om jag.är_röd() { printa!("något har gått hemskt fel här") }
[13:53:06] <bluss> ok everyone, if you make a new cargo package with the current nightly, review the package carefully before you upload
[13:53:10] <Tobba> brilliant
[13:53:15] <fkaa> alternatively
[13:53:25] <eddyb> Tobba: sheesh
[13:53:26] <bluss> for me it is picking up a lot of junk files (including Cargo.lock)
[13:53:30] <fkaa> i could write something that would translate each identifier into random emoji character
[13:53:54] *** Joins: areski (areski@moz-adq529.user.ono.com)
[13:54:03] <thelink2012> How can I transmute a Box both into a fat pointer (double ptr) and into a pointer (single ptr), I mean how's it possible to have this semantic?
[13:54:20] <Tobba> fkaa: ☢ { *(0x10000 as *const u8) }
[13:54:23] *** Quits: dstrbad (dstrbad@moz-lbk9qa.dsl.iskon.hr) (Ping timeout: 121 seconds)
[13:54:31] <geri> do people check in cargo.lock to git?
[13:54:35] <Tobba> yeah
[13:54:36] <eddyb> thelastinuit: Box<T> is a fat pointer iff T is not Sized
[13:54:40] *** fmtq is now known as fmtq_
[13:54:41] <kimundi> thelink2012: not sure what you mean - a box is a fat pointer if it points at a unsized type and a thin pointer otherwise
[13:54:43] <d-snp> hi guys, yesterday I learned I should change generics to associated types when I encounter this error, but these types come from std::ops so I can't change them, what should I do?
[13:54:45] <fkaa> geri: usually depends
[13:54:46] <rovar> is there ever reason to havea mutable fnmut?  I'm trying to determine if its a good idea to design a system where multiple objects are keeping references to the same fnmut
[13:54:46] <d-snp> http://pastie.org/10179774
[13:54:49] <rovar> if that's even possible
[13:54:58] *** fmtq_ is now known as fmtq
[13:55:02] <geri> fkaa: depends on? how do you handle it?
[13:55:13] <kimundi> rovar: You mean FnMut?
[13:55:20] <rovar> kimundi, yes
[13:55:37] <fkaa> geri: binaries usually have different requirements than libraries
[13:55:51] <fkaa> latest changes vs. stable releases.
[13:55:58] <eddyb> rovar: Rc<RefCell<FnMut(...)>> might work for you
[13:56:01] <thelink2012> But how is there such a fat specialization and plain specialization to Box?
[13:56:13] <rovar> hmmm
[13:56:17] <eddyb> thelastinuit: any pointer behaves that way
[13:56:18] <kimundi> rovar: well, for writing a library that takes a closure, FnOnce is the most common thing you should take, followed by FnMut and Fn with last priority
[13:56:37] <eddyb> thelastinuit: *mut T will be a fat poimter iff T is unsized
[13:56:45] <thelink2012> oh I got it
[13:56:50] <eddyb> thelastinuit: and that's built into the compiler
[13:56:51] <kimundi> thelink2012: thats build in semantic of (raw) pointers
[13:57:08] <eddyb> so anything using pointers or references will get those semantics
[13:57:25] *** Quits: errordeveloper (ilya@moz-l8r.m9l.11.94.IP) (Ping timeout: 121 seconds)
[13:57:41] <rovar> FnOnce would probably not work, since the fn will be called multiple times in response to network events.  This will also be operating in the same thread, so *I* can guarantee safety.. I don't think I'll be able to convince the compiler though :)
[13:58:09] *** Joins: errordeveloper (ilya@moz-l8r.m9l.11.94.IP)
[13:58:18] <rovar> Rc<RefCell< seems a tad excessive
[13:58:25] <rovar> but it would get the job done
[13:58:41] <FreeFull> Rc<Fn(...)>
[13:58:45] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[13:58:58] <FreeFull> FnMut is of course more flexible
[13:59:02] *** Joins: detsak (darren@moz-804egb.dyn.optonline.net)
[13:59:25] <rovar> Yea, potentially mutating the env seems helpful
[13:59:26] <FreeFull> Oh, Rc hasn't had the Sized constraint lifted yet
[13:59:34] <d-snp> alternatively, could someone link me to an article about why this whole associated types conversion thing has to be done?
[13:59:47] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[13:59:47] <FreeFull> Rc<Box<Fn(...)>> for an immutable closure for now
[13:59:58] <rovar> there's another associated types conversion? 
[14:00:01] <rovar> !
[14:01:09] *** Quits: fleabay (Mibbit@moz-fdcruo.ip.windstream.net) (Quit: http://www.mibbit.com ajax IRC Client)
[14:01:21] *** Joins: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at)
[14:01:40] <FreeFull> d-snp: What error did you get again?
[14:01:57] <FreeFull> Oh, found it
[14:02:05] <d-snp>  the type parameter `N` is not constrained by the impl trait, self type, or predicates [E0207]
[14:02:11] *** Joins: eerie (eerie@moz-rll6i6.red.bezeqint.net)
[14:02:13] <eddyb> seems like a bug to me
[14:02:25] <eddyb> it is used in a predicate
[14:02:27] *** Joins: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se)
[14:02:59] <d-snp> eddyb: this is in the 1.0.0.beta4, should I try the nightly?
[14:03:12] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[14:03:12] *** Quits: Douman (Douman@moz-35cmpg.dynamic.mts-nn.ru) (Quit: )
[14:03:20] <FreeFull> I concur with eddyb
[14:03:24] <d-snp> though, the nightly is for 1.1 right? is there an unstable branch for 1.0.0 that I can try?
[14:03:40] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[14:04:00] <FreeFull> d-snp: 1.0 hasn't come out yet, so nightly is for 1.0
[14:04:02] *** Quits: mkpankov (mkpankov@moz-2j8.jvq.149.83.IP) (Ping timeout: 121 seconds)
[14:04:06] *** Quits: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP) (Ping timeout: 121 seconds)
[14:04:06] <d-snp> ah ok
[14:04:22] *** Joins: nedp (nedp@moz-vg6vvt.bigpond.net.au)
[14:04:36] <FreeFull> I wouldn't strictly count on the bug being fixed in nightly though
[14:04:42] <FreeFull> Check if there is a bug report
[14:04:45] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[14:06:07] *** Joins: Hannibal_Smith (nico@moz-hacth9.retail.telecomitalia.it)
[14:06:50] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[14:06:53] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[14:07:00] *** Quits: davorb (uid17780@moz-nbjr2u.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[14:07:20] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[14:07:50] *** Joins: Douman (Douman@moz-35cmpg.dynamic.mts-nn.ru)
[14:08:17] <d-snp> this one isn't it right? https://github.com/rust-lang/rust/issues/25041
[14:09:04] <d-snp> oh I get a different exception in the nightly
[14:09:45] *** Quits: areski (areski@moz-adq529.user.ono.com) (Ping timeout: 121 seconds)
[14:10:03] *** Quits: thelink2012 (Mibbit@moz-ra3.o3h.183.179.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:10:43] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[14:10:45] <d-snp> mutating transmuted &mut T from &T may cause undefined behavior,consider instead using an UnsafeCell
[14:10:48] <d-snp> fancy
[14:10:55] <FreeFull> d-snp: Looks similar, except you don't have a closure
[14:11:05] <FreeFull> And yes, making a &mut T from &T is bad
[14:11:07] <d-snp> it always throws errors on lines I totally don't understand :P
[14:11:12] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[14:11:39] *** Joins: BlaXpirit (blaxpirit@moz-3in83j.pool.ukrtel.net)
[14:12:46] <d-snp> its wrapped in an unsafe { }, does that make it better? :P
[14:13:41] *** Joins: mkpankov (mkpankov@moz-c9m.70f.16.195.IP)
[14:13:41] <eddyb> d-snp: no, it's never correct
[14:14:03] *** Joins: willem (willem@moz-facs2s.dynamic.upc.nl)
[14:14:45] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[14:15:25] <d-snp> I'm abit confused though, because the type of the function is (& self) -> &N
[14:15:35] <d-snp> there's no &mut involved is there?
[14:15:54] <FreeFull> d-snp: http://doc.rust-lang.org/book/unsafe.html#what-does-%E2%80%98safe%E2%80%99-mean? Here's a list of things that you can do with "unsafe { }" but that aren't correct
[14:16:05] <d-snp> thanks
[14:16:15] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[14:16:38] <d-snp> the line is this: &mem::transmute::<&$t<N>, &mut [N; $dim * $dim]>(self)[i + j * $dim]
[14:16:54] <d-snp> so there's an &mut [N; $dim * $dim] in there
[14:16:59] *** Joins: }ls{ (uhelp@moz-f4ea1i.dip0.t-ipconnect.de)
[14:17:25] <d-snp> oh hmm and that's supposed to be the output
[14:17:40] <FreeFull> Are you doing any mutation afterwards?
[14:17:44] <FreeFull> I'm guessing not
[14:17:57] <d-snp> maybe this is just a bug, I'm removing the mut and recompiling
[14:18:10] <d-snp> yes that fixed it
[14:18:21] <d-snp> weird, so the compiler didn't catch that in the beta at all
[14:18:29] <FreeFull> Must be a new lint
[14:18:37] <FreeFull> Or that other error you were getting masked it
[14:18:45] <d-snp> well now I get that other error again :P
[14:19:02] <eddyb> it's a new lint
[14:19:11] *** Quits: ehiggs (ehiggs@moz-939f42.1fqp.rav1.1812.2a02.IP) (Quit: WeeChat 1.1.1)
[14:19:25] <FreeFull> It is a very good lint
[14:19:36] <eddyb> delicious
[14:20:17] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[14:21:32] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[14:21:43] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[14:22:43] *** Joins: KLP (KLP@moz-qdcjho.res.rr.com)
[14:25:00] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[14:25:19] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[14:25:45] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[14:25:59] *** Quits: KLP (KLP@moz-qdcjho.res.rr.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[14:26:58] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[14:27:56] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[14:28:06] *** Joins: frankmcsherry (frankmcsher@moz-uaqde2.dyn.telefonica.de)
[14:29:01] *** Joins: abique (abique@moz-alq0r9.ko9f.54u1.0e35.2a01.IP)
[14:29:02] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[14:29:20] *** Joins: lyc_ (lyc@moz-jft.nr8.226.207.IP)
[14:30:07] *** Quits: lyc (lyc@moz-jft.nr8.226.207.IP) (Ping timeout: 121 seconds)
[14:30:25] *** Joins: dstrbad (dstrbad@moz-lbk9qa.dsl.iskon.hr)
[14:32:09] *** Quits: frankmcsherry (frankmcsher@moz-uaqde2.dyn.telefonica.de) (Ping timeout: 121 seconds)
[14:32:10] *** Joins: eerie_ (eerie@moz-rll6i6.red.bezeqint.net)
[14:33:05] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[14:35:17] *** Quits: eerie (eerie@moz-rll6i6.red.bezeqint.net) (Ping timeout: 121 seconds)
[14:35:29] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[14:35:42] *** Joins: cn (cn@moz-9l3v08.enterprises)
[14:35:51] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[14:36:15] *** Quits: R4lf3X (Mibbit@moz-f1g5um.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[14:37:48] *** Joins: agjacome (agjacome@moz-6073ot.dynamic.jazztel.es)
[14:39:58] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[14:40:55] *** Quits: mindtree (Mitch@moz-c3t.iuc.240.116.IP) (Ping timeout: 121 seconds)
[14:41:39] *** Joins: frankmcsherry (frankmcsher@moz-uaqde2.dyn.telefonica.de)
[14:41:54] *** Joins: OtterCoder (quassel@moz-lij.rme.199.67.IP)
[14:43:12] <nathan7> huon: http://www.clash-lang.org
[14:43:23] <nathan7> huon: I remember we were discussing HDLs a while back
[14:43:35] <nathan7> huon: and this is incredibly exciting!
[14:43:45] *** Quits: mkpankov (mkpankov@moz-c9m.70f.16.195.IP) (Ping timeout: 121 seconds)
[14:44:18] <d-snp> I know the guy that made clash :)
[14:44:27] <d-snp> guys
[14:44:47] *** Quits: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at) (Connection closed)
[14:45:49] *** Joins: mindtree (Mitch@moz-2lb.efi.240.116.IP)
[14:46:25] *** Quits: maximih (maximih@moz-2fka0c.k49b.su5n.2002.2001.IP) (A TLS packet with unexpected length was received.)
[14:46:48] <Lilly> why does cargo recompile some dependencies every time even though I haven't changed my deps at all?
[14:48:31] *** Joins: grantdefayette (grantdefaye@moz-c2phg3.ct.charter.com)
[14:49:10] *** Joins: frogzilla (Mibbit@moz-uf6.6ol.172.59.IP)
[14:49:22] *** Quits: frogzilla (Mibbit@moz-uf6.6ol.172.59.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:49:47] <Ms2ger> Lilly, it shouldn't, but I know there's been issues like that with Servo too
[14:50:02] *** Joins: tamird (textual@moz-gg3hct.res.rr.com)
[14:50:25] <eddyb> Lilly: did you update the compiler?
[14:50:36] <FreeFull> It's a bug
[14:51:00] <Lilly> I'm playing with conrod and piston and every time I compile it compiles image and a bunch of piston stuff
[14:51:06] <Lilly> I'll try updating
[14:51:14] *** Joins: bkircher (bkircher@moz-hd45qg.dip0.t-ipconnect.de)
[14:51:23] <Lilly> I'm on windows if that matters
[14:51:55] *** Quits: Romster (Romster@moz-4g83e8.rev.eftel.com) (Ping timeout: 121 seconds)
[14:53:03] *** Joins: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at)
[14:53:03] *** Quits: pavelpenev (quassel@moz-8vs4j7.btc-net.bg) (Connection closed)
[14:53:13] *** Quits: errordeveloper (ilya@moz-l8r.m9l.11.94.IP) (Ping timeout: 121 seconds)
[14:54:15] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[14:54:40] *** Joins: dcuddeback (textual@moz-ilr344.ca.comcast.net)
[14:54:48] *** Quits: raph (raph@moz-o75.fg7.77.192.IP) (Quit: Leaving.)
[14:54:55] *** Joins: mw (Mibbit@moz-f1s7jp.vie.surfer.at)
[14:55:55] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[14:56:20] *** Quits: TheLemonMan (lemonboy@moz-2rse6n.26-151.libero.it) (Quit: "It's now safe to turn off your computer.")
[14:56:49] *** Parts: mw (Mibbit@moz-f1s7jp.vie.surfer.at) ()
[14:57:10] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[14:57:17] *** Quits: bkircher (bkircher@moz-hd45qg.dip0.t-ipconnect.de) (Quit: )
[14:57:35] *** Joins: bkircher (bkircher@moz-hd45qg.dip0.t-ipconnect.de)
[14:58:38] *** Joins: Romster (Romster@moz-4g83e8.rev.eftel.com)
[14:58:44] *** Joins: Porkepix (Porkepix@moz-564nci.abo.wanadoo.fr)
[14:58:47] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[14:58:52] *** Quits: mindtree (Mitch@moz-2lb.efi.240.116.IP) (Quit: leaving)
[14:58:56] *** Quits: Porkepix (Porkepix@moz-564nci.abo.wanadoo.fr) (Connection closed)
[14:59:22] *** Joins: Porkepix (Porkepix@moz-u8k.ndj.138.157.IP)
[14:59:44] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Connection closed)
[15:00:26] *** Joins: Gamecubic (cubic@moz-bglmk5.mc.videotron.ca)
[15:00:30] <Mutabah> Question - How bad is it (when doing hardware stuff) to have "new_dma_buffer_mut(&mut [u8])" just call "new_dma_buffer(&[u8])"?
[15:00:56] <Mutabah> Where the latter may allow writing (because hardware)
[15:01:08] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[15:01:12] *** Quits: FrozenCow (FrozenCow@moz-i2tvv4.chello.nl) (Ping timeout: 121 seconds)
[15:01:12] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[15:01:34] <eddyb> Mutabah: UB
[15:01:35] <Mutabah> Or should I use a common raw-pointer function?
[15:01:55] <Mutabah> eddyb: fun
[15:02:06] *** Joins: lenstr (lenstr@moz-2uv.vju.25.171.IP)
[15:02:06] <Mutabah> any good way of restricting that UB?
[15:02:12] <eddyb> you can use UnsafeCell, although it might not have ?Sized set
[15:02:23] *** Quits: lenstr (lenstr@moz-2uv.vju.25.171.IP) (Quit: Leaving...)
[15:02:28] <Ms2ger> I think it does by now
[15:02:33] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[15:02:33] <Ms2ger> At least in 1.1
[15:02:34] *** Joins: bkircher_ (bkircher@moz-hd45qg.dip0.t-ipconnect.de)
[15:02:51] *** Joins: eerie (eerie@moz-rll6i6.red.bezeqint.net)
[15:03:21] <Mutabah> Evil option - Have disk writes require &mut
[15:03:42] <eddyb> Ms2ger: didn't expect this day to come so soon
[15:03:46] *** Joins: lov2cod (Adium@moz-9q2s7r.sdt7.vfco.0306.2602.IP)
[15:03:48] <FreeFull> I feel like &mut isn't appropriate either, because it implies unique access
[15:03:57] <Ms2ger> eddyb, versioning! woo!
[15:03:58] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[15:04:10] *** Quits: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at) (Connection closed)
[15:04:12] <eddyb> feature creep, woo
[15:04:50] <Mutabah> FreeFull: Ideally, I would like a case were I can tell the compiler "I'll manage the mutability from here", while still correctly keeping borrows propagated
[15:05:14] *** Quits: eerie_ (eerie@moz-rll6i6.red.bezeqint.net) (Ping timeout: 121 seconds)
[15:05:16] <ainieco> why doesn't http://doc.rust-lang.org/std/io/trait.Read.html#method.read_to_string returns Result<String>(or Result<(String, usize)> it matters and imo it doesn't) but requires a mutable buffer?
[15:05:22] *** Joins: lov2cod1 (Adium@moz-io98p0.u583.gjp6.0119.2620.IP)
[15:05:47] <bluss> ainieco: this is more flexible
[15:05:54] <Mutabah> ainieco: It avoids having to allocate the buffer
[15:05:56] *** Quits: pgonda (peter@moz-otulp7.ma.comcast.net) (Ping timeout: 121 seconds)
[15:06:03] <bluss> ainieco: less convenient maybe but it does more with the same amount of methods
[15:06:05] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[15:06:06] <Mutabah> ainieco: Which allows you to reuse an existing buffer (or read onto the stack)
[15:06:06] *** Joins: maedhroz (maedhroz@moz-4jk5ho.res.rr.com)
[15:06:20] *** Quits: bkircher (bkircher@moz-hd45qg.dip0.t-ipconnect.de) (A TLS packet with unexpected length was received.)
[15:06:30] <FreeFull> ainieco: Convenience methods that just return a String would be nice, but they don't exist right now in the stdlib. Easy enough to write your own.
[15:06:31] <Mutabah> eddyb: https://github.com/thepowersgang/rust_os/blob/master/Kernel/Core/memory/helpers/dma_buffer.rs#L11 - This is the code I'm trying to work with
[15:06:35] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[15:06:36] <bluss> ainieco: Also, Result<String> does not allow to tell about a partial read
[15:07:04] <ainieco> bluss: Mutabah FreeFull, got it, thanks for an explanation!
[15:07:42] <d-snp> ok I'm going to ask a question I don't know how to put in words at all, I have a Matrix, and it impl's Mul, but it can both be multiplied with a Matrix and a Vect
[15:07:48] *** Quits: lov2cod (Adium@moz-9q2s7r.sdt7.vfco.0306.2602.IP) (Ping timeout: 121 seconds)
[15:07:56] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[15:08:00] <d-snp> the guy who wrote this added a type RMul to circumvent that this wasn't possible in the past
[15:08:04] *** Quits: mcoffee (mcoffee@moz-or8.o86.5.154.IP) (A TLS packet with unexpected length was received.)
[15:08:09] <d-snp> but he claims it is possible now, but he doesn't give an example
[15:08:24] <bluss> it should be possible now if Matrix and Vect are your own types
[15:08:42] <FreeFull> Mul is parametrised by the right side argument
[15:08:58] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[15:08:59] <d-snp> right, so how do I keep that right side argument generic?
[15:09:01] *** Joins: bkircher (bkircher@moz-hd45qg.dip0.t-ipconnect.de)
[15:09:07] <bluss> you can do impl Mul<Matrix> for Matrix, impl Mul<Vector> for Matrix, impl Mul<Matrix> for Vector, etc
[15:09:23] *** Quits: bkircher_ (bkircher@moz-hd45qg.dip0.t-ipconnect.de) (Quit: Session terminated!)
[15:09:46] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[15:09:56] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[15:10:08] *** Quits: maedhroz (maedhroz@moz-4jk5ho.res.rr.com) (Ping timeout: 121 seconds)
[15:10:08] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[15:10:13] *** Quits: xauth (vincent@moz-r6n7aq.xs4all.nl) (Ping timeout: 121 seconds)
[15:10:52] <d-snp> I have a fn bfgs<N,V,M> -> V where N: Scalar, V: Vect, M: SquareMat<N,V> + Mul<M, Output = M>
[15:11:16] *** Joins: frankmcs_ (frankmcsher@moz-87vov1.dyn.telefonica.de)
[15:11:43] <d-snp> but that gives me an error that it got an M instead of a V somewhere, so I need to specify that it has both Mul<M,Output=M> and Mul<M,Output=V>
[15:11:46] <d-snp> somehowe?
[15:11:53] *** Quits: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se) (Ping timeout: 121 seconds)
[15:11:55] <bluss> you can't do that
[15:11:59] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[15:12:04] <bluss> Mul<M,Output=M> and Mul<M,Output=V> conflict
[15:12:13] <d-snp> right
[15:12:16] <bluss> the input types are M and M (Self type and type parameters)
[15:12:34] *** Joins: dawehner (quassel@moz-cfu.uga.249.209.IP)
[15:12:35] <bluss> it's Mul<Rhs>
[15:12:48] <bluss> M: Mul<Rhs, Output=Output>
[15:13:07] <bluss> so.. what do you need? matrix x matrix => vector sounds wrong
[15:13:13] *** Quits: dstrbad (dstrbad@moz-lbk9qa.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[15:13:20] *** Quits: canhtak (canhtak@moz-1a9fh1.luxdsl.pt.lu) (Client exited)
[15:13:22] <d-snp> eh Matrix * Vector => Vector I think
[15:13:33] <bluss> that's M: Mul<V, Output=V>
[15:13:39] *** Quits: griff (griff@moz-bf2.sbd.199.62.IP) (Client exited)
[15:13:40] <d-snp> ahh
[15:13:48] *** Quits: frankmcsherry (frankmcsher@moz-uaqde2.dyn.telefonica.de) (Ping timeout: 121 seconds)
[15:13:48] *** Joins: griff (griff@moz-bf2.sbd.199.62.IP)
[15:14:16] *** Quits: debuuu (debu@moz-hjbvi6.dyn.telefonica.de) (Ping timeout: 121 seconds)
[15:14:16] <d-snp> oh man that makes sense
[15:14:27] <d-snp> sometimes I really get symbol blind
[15:14:31] <frewsxcv> i wrote an RSS library for rust. right now, i just have from_reader and to_string as the main endpoints for the Rss struct. is there a more rust-like way of doing this than those methods? https://frewsxcv.github.io/rust-rss/rss/struct.Rss.html
[15:14:32] <grantdefayette> So I know you guys are talking about all sorts of serious stuff that look like they are related to hardware programming et al or whatever so sorry. But I must say that this language looks pretty cool. On the metal but I just discovered Iron and am going to start playing with it. Was looking for a thing to do to get started. As a Ruby/Java (web) dev at work that should be a good place for me to look.
[15:14:37] *** Quits: andschwa (andschwa@moz-v32.q66.42.104.IP) (Ping timeout: 121 seconds)
[15:15:06] <grantdefayette> Seems crazy to use rust for that but what the hell. It might be fun.
[15:15:18] <Mutabah> For webdev?
[15:15:22] <grantdefayette> Yeah
[15:15:28] <Mutabah> There's an IRC channel, and a framework (?Iron)
[15:15:40] <frewsxcv> grantdefayette: check out #rust-webdev
[15:16:04] *** Joins: andschwa (andschwa@moz-v32.q66.42.104.IP)
[15:16:05] <grantdefayette> Yeah. I popped in here randomly. And found Iron on github and was like "No way!"
[15:16:49] <Mutabah> grantdefayette: There are actually C++ webdev-ish frameworks too (Poco is one I've had expirence with), rust just makes those easier and more secure
[15:17:28] <Mutabah> It is the sort of thing that makes you really confused/impressed, and then you realise that finally systems can meet high-level
[15:18:39] <mbrubeck> Large parts of Amazon.com's front-end were originally in C++, though that was already largely expunged by the time I started working there in 2005.
[15:18:55] <grantdefayette> I need to write an api server for a PVP video game at some point in the relatively near future. That is the only kind of thing I could imagine needing to be that fast. Or some very specialized business cases maybe.
[15:19:31] <d-snp> well it's not just about being fast, rust isn't a terrible language to work in
[15:19:36] *** Joins: Twinklebear (Twinklebear@moz-ttrcn3.ut.comcast.net)
[15:19:36] <d-snp> (unlike C++ ;))
[15:19:42] *** Quits: willem (willem@moz-facs2s.dynamic.upc.nl) (A TLS packet with unexpected length was received.)
[15:20:00] *** Quits: frankmcs_ (frankmcsher@moz-87vov1.dyn.telefonica.de) (Connection closed)
[15:20:01] <grantdefayette> d-snp: I didn't think C++ was bad really.
[15:20:05] *** Joins: frankmcsherry (frankmcsher@moz-87vov1.dyn.telefonica.de)
[15:20:13] <grantdefayette> it depends on the libs you are using really
[15:20:23] <grantdefayette> more than anything
[15:20:52] <grantdefayette> Generics in C++ are way better than Java
[15:20:58] <d-snp> yeah, I suppose so.. my experience with c++ is that when the project gets of any decent times compilation time just goes through the roof and it becomes unworkable
[15:21:17] <grantdefayette> AKA the Super<Complex> types
[15:21:26] *** Joins: srh (User@moz-opdhei.q9f2.utp8.0306.2602.IP)
[15:21:34] <FreeFull> Rust feels at least as safe as a GCd language (or safer), as long as you avoid unsafe {} blocks
[15:21:38] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[15:22:04] <grantdefayette> d-snp: I would have assumed rust would end up the same way regarding comp times.
[15:22:45] <d-snp> I'm actually not sure yet :D I've compiled Servo and it took a long while, but I think any subsequent compiles are much faster
[15:22:47] <sad> rust is probably worse for compilation times atm, but hopefully it improves
[15:23:10] <FreeFull> Servo has a lot of dependencies
[15:24:48] *** Joins: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se)
[15:25:18] *** Quits: eerie (eerie@moz-rll6i6.red.bezeqint.net) (Connection closed)
[15:25:23] <grantdefayette> I don't worry much about comp times since I don't work on any really large (complied) projects. The java stuff I do is all broken up into separate jars so full rebuild is not needed usually. Any project that has the potential to get huge should be split up where possible before things get too large.
[15:25:40] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[15:25:42] *** Joins: eerie (eerie@moz-9ml73n.red.bezeqint.net)
[15:25:51] <grantdefayette> I assume that rust has a way, like C/C++ to import dynamic libs?
[15:25:52] <dr4yyee> https://internals.rust-lang.org/t/priorities-after-1-0/1901 regarding compilation time
[15:25:53] *** Quits: frankmcsherry (frankmcsher@moz-87vov1.dyn.telefonica.de) (Quit: Leaving...)
[15:25:57] <d-snp> it does
[15:26:12] <d-snp> well
[15:26:18] <d-snp> the default is I think static compilation
[15:26:20] *** Joins: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se)
[15:26:39] <d-snp> since you have cargo to pull all these nice libs in
[15:26:59] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[15:27:09] <d-snp> but I haven't felt the linker is slow yet, is it?
[15:27:53] <dr4yyee> I heard that some time ago Rust had problems with implementing operators on custom types. Is that still true?
[15:28:12] <Ms2ger> Problems? Not really
[15:28:45] *** Quits: dawehner (quassel@moz-cfu.uga.249.209.IP) (Ping timeout: 121 seconds)
[15:28:46] *** Quits: Kurufu (Kurufu@moz-pvv8b5.res.rr.com) (Ping timeout: 121 seconds)
[15:29:26] *** Quits: nedp (nedp@moz-vg6vvt.bigpond.net.au) (Connection closed)
[15:30:04] <rkruppe> It used to be less flexible because operators were forced to take references rather than by-value (so you couldn't have bignum + bignum reuse the first bignum's storage)
[15:30:28] <dr4yyee> http://www.willusher.io/2014/12/30/porting-a-ray-tracer-to-rust-part-1/ seemed to be a bug
[15:30:48] *** Joins: Kurufu (Kurufu@moz-pvv8b5.res.rr.com)
[15:31:02] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[15:31:37] *** Joins: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP)
[15:32:17] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[15:32:38] *** Joins: kngl1 (Adium@moz-rmgnkh.dynamic.voo.be)
[15:33:38] <Ms2ger> dr4yyee, blog posts that are more than a month old tend not to be very reliable :)
[15:33:54] *** Quits: khades (Thunderbird@moz-u45.3vk.74.212.IP) (Ping timeout: 121 seconds)
[15:34:29] *** Quits: kngl (Adium@moz-rmgnkh.dynamic.voo.be) (Ping timeout: 121 seconds)
[15:35:20] <rkruppe> Still a valid question
[15:35:24] *** Joins: pgonda (peter@moz-otulp7.ma.comcast.net)
[15:35:37] <rkruppe> I've been trying to get the playpen link of the original issue to compile
[15:35:39] *** Quits: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP) (Ping timeout: 121 seconds)
[15:35:51] <dr4yyee> rkruppe, isn't it the opposite? wouldn't passing the reference be more flexible since you could alter the arguments? I haven't read about the borrowing-model though, so I don't know what 'passing a reference' in Rust really means.
[15:36:19] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[15:36:45] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (A TLS packet with unexpected length was received.)
[15:36:50] <Twinklebear> dr4yyee, yea things have changed since I wrote that, but it does look like you can do left and right overloads now: http://is.gd/x90aM1
[15:37:03] *** Joins: mib_zoofh0 (Mibbit@moz-dn3.rgm.195.115.IP)
[15:37:03] <dr4yyee> Ms2ger, true, but there isn't that much to read compared to other languages :D
[15:37:11] <rkruppe> dr4yyee: Passing a reference means passing a & pointer. That way you get read-only access to the operands. When you take by value, the operator can "consume" the operands
[15:37:21] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[15:37:22] <Ms2ger> The change was from fn plus(a: &Bignum, b: &Bignum) -> Bignum {} to fn plus(a: Bignum, b: Bignum) -> Bignum {}
[15:37:38] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[15:37:54] <rkruppe> Either way (x + y) won't visibly modify x and y (ignoring Cell) but it can *move out of* x and y
[15:37:57] <new_one> if I say 'a: 'b, does this mean that 'b lives at least as long as 'a? or vice versa
[15:38:04] <Twinklebear> I should probably update that post some actually, that's pre associated types
[15:38:15] <Mutabah> new_one: 'a won't outlive 'b
[15:38:29] <Mutabah> no, wait, other way around...
[15:38:35] <Mutabah> new_one: 'a is valid for 'b
[15:39:04] <new_one> Mutabah: okay I'll read it like that
[15:39:38] *** Joins: themooserooster (Mibbit@moz-m6l.i5n.203.74.IP)
[15:39:39] *** Quits: pgonda (peter@moz-otulp7.ma.comcast.net) (Ping timeout: 121 seconds)
[15:39:57] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[15:40:48] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[15:41:15] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[15:41:23] *** Joins: paratr00pr (amiraj@moz-al7.tj5.186.1.IP)
[15:41:24] *** Quits: Porkepix (Porkepix@moz-u8k.ndj.138.157.IP) (Ping timeout: 121 seconds)
[15:41:27] <dr4yyee> Twinklebear, awesome to talk to the original author :D looks good indeed now
[15:41:40] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[15:42:31] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[15:42:48] *** Quits: eerie (eerie@moz-9ml73n.red.bezeqint.net) (Connection closed)
[15:42:50] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[15:42:57] <dr4yyee> rkruppe, I guess now it's possible to either go by-value or just get a pointer?
[15:43:52] <rkruppe> dr4yyee: Yes, pointers are just a particular kind of value, so you can just implement Add<&T, Output=T> for &T to emulate the old behavior
[15:44:30] <benbangert> Why does the Add trait require ownership of the things being added?
[15:44:32] <rkruppe> And indeed the built-in types do that in addition to by-value ops, so &5 + 5 and 5 + &5 and &5 + &5 and 5 + 5 all work
[15:45:11] <cmr> benbangert: because it's more flexible.
[15:45:17] <rkruppe> benbangert: It doesn't (since you can just implement it for references), but it /allows/ some impls to require ownership
[15:45:20] <cmr> benbangert: you can implement it for references.
[15:45:28] *** Quits: ai (ai@moz-pqofrl.sunline.net.ua) (Quit: Leaving.)
[15:46:18] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:46:21] <harrisonclarke> i know this is terrible and hacky and an awful thing to do, but is there a way to get a reference/pointer to the return value of a function? i want the function to know if it's returning the value to the stack, or the heap, or some special part of memory i care about. (this is mostly for curiosity)
[15:46:26] *** Joins: arielby (Mibbit@moz-u3m.bbd.132.217.IP)
[15:46:44] *** Parts: arielby (Mibbit@moz-u3m.bbd.132.217.IP) ()
[15:47:26] <cmr> harrisonclarke: http://static.rust-lang.org/doc/master/std/intrinsics/fn.return_address.html
[15:47:52] *** Joins: Porkepix (Porkepix@moz-il9u9l.abo.wanadoo.fr)
[15:47:56] *** Quits: ptalbot_ (ptalbot@moz-h7l0dh.dyn.as47377.net) (Ping timeout: 121 seconds)
[15:48:10] *** Quits: Porkepix (Porkepix@moz-il9u9l.abo.wanadoo.fr) (Connection closed)
[15:48:22] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[15:48:37] *** Joins: Porkepix (Porkepix@moz-cso.ndj.138.157.IP)
[15:49:28] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[15:49:32] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[15:50:17] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[15:50:38] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[15:50:54] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:52:09] *** Joins: Diggsey (diggsey@moz-le02si.dsl.pipex.com)
[15:52:23] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[15:52:46] *** Quits: sp0 (seth@moz-i3f9r5.internode.on.net) (Quit: Lost terminal)
[15:52:56] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[15:53:40] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[15:56:06] *** Joins: chc4 (chc4@moz-mjph4c.ma.comcast.net)
[15:56:28] *** Joins: m008 (Mibbit@moz-sbg.7qp.29.5.IP)
[15:57:25] *** Quits: arBmind (Andreas@moz-8uf6vu.adsl.alicedsl.de) (Quit: Leaving.)
[15:58:26] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (Ping timeout: 121 seconds)
[15:59:08] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[15:59:29] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[15:59:32] *** Joins: csherrat_ (textual@moz-357qdq.cable.teksavvy.com)
[15:59:41] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[16:02:52] *** Quits: dwrensha (chatzilla@moz-52ciq2.east.verizon.net) (Ping timeout: 121 seconds)
[16:03:29] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[16:03:31] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[16:03:44] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (Ping timeout: 121 seconds)
[16:04:53] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[16:05:38] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[16:05:50] *** Joins: wilma (Mibbit@moz-k7vm3i.customer.tdc.net)
[16:06:55] *** Quits: arjun_ (arjun@moz-7ht.5jn.102.118.IP) (Ping timeout: 121 seconds)
[16:07:24] *** Joins: scialex (scialex@moz-j5mi8i.cs.brown.edu)
[16:08:56] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (Ping timeout: 121 seconds)
[16:09:08] <benbangert> cmr: ah, ok, now I'm just getting confusing lifetime errors, http://is.gd/UUuaIq
[16:09:46] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[16:09:52] *** Quits: shadeslayer (shadeslayer@moz-45vi9r.jefferai.org) (Ping timeout: 121 seconds)
[16:10:06] *** Joins: shadeslayer (shadeslayer@moz-45vi9r.jefferai.org)
[16:10:46] *** Quits: saml_ (saml@moz-rkfmct.res.rr.com) (Ping timeout: 121 seconds)
[16:11:51] *** Quits: CustosLimen (CustosLimen@moz-nb664a.mtnbusiness.co.za) (Ping timeout: 121 seconds)
[16:12:00] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[16:12:51] *** Quits: BlaXpirit (blaxpirit@moz-3in83j.pool.ukrtel.net) (Connection closed)
[16:13:38] *** Joins: dwrensha (chatzilla@moz-46o4hi.pa.comcast.net)
[16:13:48] *** Quits: m008 (Mibbit@moz-sbg.7qp.29.5.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:14:21] *** Joins: Porkepix_ (Porkepix@moz-il9u9l.abo.wanadoo.fr)
[16:15:11] *** Joins: meh (meh@moz-2vi7cf.42-151.net24.it)
[16:15:39] *** Quits: Porkepix (Porkepix@moz-cso.ndj.138.157.IP) (Ping timeout: 121 seconds)
[16:16:02] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[16:16:17] <mbrubeck> benbangert: "self.value = self.value + plus" <-- but self.value is a reference?  Who should own the value that you want it to reference here?
[16:16:42] *** Joins: errordeveloper (ilya@moz-l8r.m9l.11.94.IP)
[16:17:17] *** Joins: xauth (vincent@moz-r6n7aq.xs4all.nl)
[16:17:20] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[16:17:24] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Connection closed)
[16:18:04] *** Quits: JanC__ (janc@moz-eh24b8.dsl.scarlet.be) (Ping timeout: 121 seconds)
[16:18:53] <mbrubeck> benbangert: Maybe this? http://is.gd/fUfEXy
[16:19:49] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[16:21:22] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[16:21:35] *** Joins: optimusbrine (holoirc@moz-j3ipro.fios.verizon.net)
[16:21:41] *** Joins: rick68 (Mibbit@moz-4d3ral.HINET-IP.hinet.net)
[16:22:52] *** Quits: dirvine (Mibbit@moz-42j0at.cable.virginm.net) (Quit: http://www.mibbit.com ajax IRC Client)
[16:23:01] <frewsxcv> what does `where for` do?
[16:23:17] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[16:23:22] *** Joins: khades (Thunderbird@moz-2g3.vmt.173.31.IP)
[16:23:35] *** Quits: lyc_ (lyc@moz-jft.nr8.226.207.IP) (Connection closed)
[16:23:44] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[16:24:02] <cmr> frewsxcv: "where for" isn't a single construct.
[16:24:08] <cmr> it's "where T : U"
[16:24:18] <cmr> and T can be "for<'a> V"
[16:24:20] <benbangert> mbrubeck: ah
[16:24:33] *** Joins: larhat1 (Adium@moz-tb1ulb.cable.virginm.net)
[16:24:53] <benbangert> mbrubeck: does that ensure that T in the Counter is something that can be Add'd though?
[16:24:54] <mbrubeck> where for<'art> Thou: Romeo
[16:25:03] <frewsxcv> cmr: so what does `for<...>` do?
[16:25:17] *** Joins: mib_x7cctc (Mibbit@moz-1072lv.dsl.as9105.com)
[16:25:19] <mbrubeck> benbangert: If you call .inc() it does
[16:25:28] <cmr> frewsxcv: it's a higher-ranked trait bound. https://github.com/rust-lang/rfcs/blob/master/text/0387-higher-ranked-trait-bounds.md
[16:25:35] *** Quits: __yulin__ (chatzilla@moz-t8apkn.dynamic-ip.hinet.net) (Quit: ChatZilla 0.9.91.1 [Firefox 37.0.2/20150420225811])
[16:25:43] <mbrubeck> benbangert: If you want it to be required just to construct a Counter, you can copy the same bound to `struct Counter`
[16:25:44] <benbangert> mbrubeck: but the trait is no longer enforcing that an Incrementable can be added?
[16:25:52] <frewsxcv> ah thanks cmr . i will give it a read
[16:25:57] <mib_x7cctc> How do I fill an array with a specific value instead of having to set each number to the specific value?
[16:25:58] *** Quits: wilma (Mibbit@moz-k7vm3i.customer.tdc.net) (Quit: http://www.mibbit.com ajax IRC Client)
[16:26:03] <mbrubeck> or to the trait
[16:26:16] <mib_x7cctc> I seem to remember something todo with using a semicolon?
[16:26:16] <mbrubeck> benbangert: Incremental isn't implemented for anything that can't be added.
[16:26:35] *** Joins: orangeshark (erik@moz-eelktv.44tj.56ot.0306.2602.IP)
[16:26:43] <frewsxcv> mib_x7cctc: vec![0; 10]
[16:26:45] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[16:27:00] <mib_x7cctc> That would be it frewsxcv 
[16:27:03] <mib_x7cctc> Cheers
[16:27:04] <frewsxcv> is the same as vec![0,0,0,0,0,0,0,0,0,0]
[16:27:08] <frewsxcv> iirc
[16:27:12] <mbrubeck> benbangert: But my version (without a bound on the trait) doesn't prevent you from implementing Incrementable some other way for a non-addable T.
[16:27:19] <benbangert> mbrubeck: the &* makes a new reference to the actual value?
[16:27:46] <frewsxcv> mib_x7cctc: http://doc.rust-lang.org/1.0.0-beta.4/std/macro.vec!.html
[16:28:03] <mbrubeck> benbangert: Yeah -- specifically it's there to convert from &mut T to &T
[16:28:34] *** Quits: themooserooster (Mibbit@moz-m6l.i5n.203.74.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:28:43] * frewsxcv prefers `foo as &T` instead of `&*foo`
[16:29:01] <mbrubeck> benbangert: You could also just do `*self.value = *self.value + plus` and change &T to T in the bound, for T: Copy
[16:29:15] <mbrubeck> frewsxcv: Oh right, I agree -- just didn't remember that.
[16:29:46] <mbrubeck> http://is.gd/mXYfoc
[16:29:47] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[16:30:03] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[16:30:13] <benbangert> mbrubeck: ah, right. I had a Copy bound on a different version which didn't require any of the lifetimes to be explicitly specified
[16:30:40] *** Joins: essem2 (Thunderbird@moz-l86scb.sd.cox.net)
[16:30:47] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[16:31:17] <mib_x7cctc> How do I declare a struct containing an array in rust?
[16:31:25] *** Joins: JanC__ (janc@moz-l4rci6.dsl.scarlet.be)
[16:31:51] <frewsxcv> mib_x7cctc: struct MyStruct { foobar: Vec<String> }
[16:32:05] *** Quits: wei2912 (wei2912@moz-a2b.pb3.156.175.IP) (Quit: Lost terminal)
[16:32:05] <frewsxcv> is a struct containing a vector of strings
[16:32:09] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[16:32:15] <nathan7> (a Vec is technically not an array — arrays are fixed-length)
[16:32:25] <frewsxcv> oh, array
[16:32:33] <nathan7> but mib_x7cctc probably means a Vec
[16:32:43] <mib_x7cctc> I mean an array 
[16:32:52] *** Joins: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP)
[16:33:04] <mib_x7cctc> registers: [u8, ..6], seems to cause an error
[16:33:14] <Ms2ger> [u8; 6]
[16:33:22] <Ms2ger> You're using really old syntax :)
[16:33:33] <mib_x7cctc> ahh
[16:33:59] <mib_x7cctc> and then the same in the impl new fn? 
[16:33:59] <mbrubeck> Party like it's https://github.com/rust-lang/rust/issues/19999 !
[16:34:06] *** Joins: thiblahute (tsaunier@moz-rkc6r5.fbx.proxad.net)
[16:34:19] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[16:34:19] *** Joins: pete_ (Thunderbird@moz-2l550e.e8cb.5ce6.1028.2a00.IP)
[16:34:41] <mib_x7cctc> Yes
[16:34:45] <Ms2ger> I doubt there will be much partying on this planet in 19999
[16:34:48] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[16:35:02] <frewsxcv> s/much partying on this//
[16:35:19] <frewsxcv> :)
[16:35:19] <mbrubeck> Another hint that Ms2ger is a cyborg from the future, folks.
[16:35:29] <Ms2ger> sssh
[16:35:30] *** Quits: khades (Thunderbird@moz-2g3.vmt.173.31.IP) (Ping timeout: 121 seconds)
[16:35:30] *** Joins: psy (psy@moz-93g.ntd.6.103.IP)
[16:35:35] <benbangert> mbrubeck: is there something wrong with this one? (it seems to work) http://is.gd/mChXLW
[16:36:11] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[16:36:18] <mbrubeck> benbangert: Looks good to me.
[16:36:41] <benbangert> mbrubeck: was just wondering what practical effect there were from having the value not be a &mut
[16:36:54] *** Quits: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP) (Ping timeout: 121 seconds)
[16:38:21] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[16:38:36] <pete_> hello, i'm trying to work around the non-stable Vec#push_all method and the removal of addition on vectors (#25157) using Vec#extend but I don't seem to get this working using 'extend': http://is.gd/a8bUhF any ideas how i might go about this?
[16:38:38] <nathan7> mbrubeck: Wait, you're saying you aren't?
[16:38:51] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[16:38:55] *** Quits: {AS} (uid45026@moz-srvrrh.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[16:39:51] *** Joins: Izacht13 (Izacht13@moz-gee645.atsnmeam.ccmaine.net)
[16:40:03] <datalus> rusti
[16:40:05] <rkruppe> pete_: &[T]'s iterator yields references, extend wants values. Use xs.extend(ys.iter().cloned())
[16:40:43] <pete_> rkruppe: thanks. will cloned() make a copy of the slice data?
[16:41:33] *** Quits: Murarth (Murarth@moz-mpmr8r.phnx.qwest.net) (Quit: Alfador is the Entity!)
[16:42:07] *** Joins: Murarth (Murarth@moz-6uvggu.dyn.nltelcom.net)
[16:42:14] <rkruppe> pete_: Yes, but lazily, so with optimizations it shouldn't be too much slower. It certainly won't go allocate ys.len() bytes on the heap
[16:42:32] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[16:42:39] <datalus> I am getting a compile error where I think I shouldn't.
[16:42:42] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[16:42:57] <rkruppe> Other than the ones the Vec needs, I mean. It won't copy the whole slice somewhere, and then copy it a second time into the Vec
[16:42:59] <pete_> rkruppe: ah ... ok, many thanks
[16:43:05] *** Quits: Ralith (ralith@moz-tiaj7p.customer.broadstripe.net) (Ping timeout: 121 seconds)
[16:43:06] <datalus> This line: unsafe { let mut raw = mem::uninitialized(); }
[16:43:10] <datalus> Gives me this: <anon>:5:13: 5:20 error: unable to infer enough type information about `_`; type annotations required [E0282]
[16:43:24] *** Joins: eerie (eerie@moz-9ml73n.red.bezeqint.net)
[16:43:35] <datalus> I've seen other libs use this piece of code before and they compile fine... not sure what I'm missing.
[16:44:04] <rkruppe> datalus: Your code creates uninitialized memory of some type, but of what type? You leave no clue for the compiler
[16:44:19] *** Joins: hkr (hkr@moz-l5o.vkj.222.117.IP)
[16:44:36] <rkruppe> Other code you might have seen does let mut raw = unsafe { mem::uninitialized() } and then goes on to use raw in a way that allows the compiler to infer the type
[16:44:54] <datalus> Ah.
[16:45:28] <datalus> That was it :)
[16:45:34] *** Joins: gopar (gopar@moz-5039uj.ca.comcast.net)
[16:45:37] <datalus> Thanks!
[16:46:11] <datalus> Still getting used to type inference ;)
[16:47:06] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[16:47:10] <nathan7> Gah, associated constants are still pretty useless
[16:47:19] <nathan7> You can't actually abstract over them
[16:47:31] *** Quits: crazysim (crazysim@moz-330.unp.241.192.IP) (A TLS packet with unexpected length was received.)
[16:47:37] *** Quits: eerie (eerie@moz-9ml73n.red.bezeqint.net) (Ping timeout: 121 seconds)
[16:48:24] <nathan7> playbot: trait Trait { const FOO: i32; }; struct Foo; impl Trait for Foo { const FOO: i32 = 42; }; <Foo>::FOO
[16:48:24] -playbot- <anon>:9:23: 9:28 error: expected one of `extern`, `fn`, `type`, or `unsafe`, found `const`
[16:48:25] -playbot- <anon>:9         trait Trait { const FOO: i32; }; struct Foo; impl Trait for Foo { const FOO: i32 = 42; }; <Foo>::FOO
[16:48:25] -playbot- output truncated; full output at: http://bit.ly/1H90mfu
[16:48:34] <nathan7> oh, right, that's not even nightly
[16:48:49] <rkruppe> In the same vein, I finally ran into the lack of HKT yesterday :( I'm excited for 1.0 but 1.x can't come soon enough (for various values of x)
[16:49:27] <rkruppe> Higher-kinded /associated/ types actually. Would that come sooner or later?
[16:49:32] *** Joins: FrozenCow (FrozenCow@moz-i2tvv4.chello.nl)
[16:50:11] *** Joins: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de)
[16:50:13] <ville> has there been any recent talk of introspection/static reflection?
[16:50:46] *** Joins: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP)
[16:50:55] *** Quits: kngl1 (Adium@moz-rmgnkh.dynamic.voo.be) (Quit: Leaving.)
[16:50:59] *** Joins: __ixti__ (ixti@moz-21k.dae.119.188.IP)
[16:51:29] *** Joins: pavelpenev (quassel@moz-8vs4j7.btc-net.bg)
[16:51:38] *** Joins: Ralith (ralith@moz-tiaj7p.customer.broadstripe.net)
[16:51:43] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[16:51:51] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[16:52:15] *** Joins: kazagistar (kazagistar@moz-1jum1i.client.bresnan.net)
[16:52:50] *** Quits: bkircher (bkircher@moz-hd45qg.dip0.t-ipconnect.de) (Quit: )
[16:52:59] <hkr> So are they going to do anything about the relatively high compile time?
[16:53:11] <hkr> hello world shouldn't take half a second to compile
[16:53:36] <Diggsey> is it possible to take a generic parameter which has an unbound lifetime parameter: `fn test<'a, T>(p: T<'a>)`
[16:53:40] <rkruppe> It shouldn't and it's a big priority: http://internals.rust-lang.org/t/priorities-after-1-0/1901
[16:54:22] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[16:54:26] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[16:54:44] <hkr> oh there's a subdomain like that? i've been only checking blog.rust-lang.org
[16:55:09] *** Joins: dawehner (quassel@moz-jms.k95.62.64.IP)
[16:55:11] <rkruppe> Yes, there's one for development and also a forum for users: http://users.rust-lang.org/
[16:55:24] *** Quits: OtterCoder (quassel@moz-lij.rme.199.67.IP) (Ping timeout: 121 seconds)
[16:55:43] *** Joins: crazysim (sid86009@moz-0cl278.charlton.irccloud.com)
[16:55:46] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[16:57:05] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[16:57:53] *** Quits: scialex (scialex@moz-j5mi8i.cs.brown.edu) (Quit: Leaving)
[16:58:47] <hkr> thanks rkruppe 
[17:00:20] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[17:01:08] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[17:01:34] *** Joins: grncdr (Adium@moz-m1g.e47.90.95.IP)
[17:02:36] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[17:03:02] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[17:03:12] *** Joins: kngl (Adium@moz-rmgnkh.dynamic.voo.be)
[17:03:29] <aidanhs> does anyone have any guidance on creating static binaries with rust?
[17:03:38] *** Quits: errordeveloper (ilya@moz-l8r.m9l.11.94.IP) (Ping timeout: 121 seconds)
[17:03:40] <aidanhs> I've read posts that say this is not really supported, but was wondering if anything has changed in the past 6 months or so
[17:04:01] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[17:04:23] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[17:04:41] <kimundi> aidanhs: static linking you mean? Thats the default operation
[17:04:58] *** Quits: forgottenone (forgottenon@moz-j3l.lq5.40.176.IP) (Connection closed)
[17:05:28] *** Joins: forgottenone (forgottenon@moz-j3l.lq5.40.176.IP)
[17:05:37] *** Joins: ptalbot_ (ptalbot@moz-h7l0dh.dyn.as47377.net)
[17:05:54] *** Quits: pete_ (Thunderbird@moz-2l550e.e8cb.5ce6.1028.2a00.IP) (Client exited)
[17:05:56] <aidanhs> well, I'm hoping for `ldd` to say `not a dynamic executable`
[17:06:12] <aidanhs> i.e. like go
[17:06:24] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[17:06:38] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[17:06:58] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[17:07:04] *** Joins: maedhroz (maedhroz@moz-4jk5ho.res.rr.com)
[17:07:51] *** Quits: moa (Cedric@moz-d23h55.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[17:07:57] *** Quits: paratr00pr (amiraj@moz-al7.tj5.186.1.IP) (Ping timeout: 121 seconds)
[17:08:01] <eddyb> aidanhs: it might be possible with musl
[17:08:27] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[17:08:39] <terpstra> aidanhs: doesn’t beta already static link all rust deps? you should only be dynamically linked to libc+co ?
[17:09:00] <eddyb> terpstra: they want static libc
[17:09:15] <eddyb> which is not (well) supported by glibc, AFAIK
[17:09:16] <terpstra> oh. well, then that’s more a problem with linux in general, i’d say
[17:09:30] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[17:09:32] *** Quits: srh (User@moz-opdhei.q9f2.utp8.0306.2602.IP) (Quit: Leaving)
[17:09:36] <eddyb> how do you make a static executable on windows?
[17:10:13] <eddyb> on linux and OSX you at least have documented syscalls
[17:10:31] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[17:10:43] <nathan7> Go dynamically links to libc too, afaik
[17:10:47] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[17:10:59] <nathan7> At least, I get issues running Go executables without glibc installed
[17:11:06] *** Quits: alonlevy_ (alon@moz-nbm25c.012.net.il) (Ping timeout: 121 seconds)
[17:11:06] *** Quits: maedhroz (maedhroz@moz-4jk5ho.res.rr.com) (Ping timeout: 121 seconds)
[17:11:07] <dr4yyee> oh boy, a friend of mine just said that it's good that GMP is LGPL so that Rust can't have good bignum performance
[17:11:34] <eddyb> there are bindings
[17:11:34] *** Quits: detsak (darren@moz-804egb.dyn.optonline.net) (Quit: WeeChat 1.1.1)
[17:11:41] *** Quits: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com) (Ping timeout: 121 seconds)
[17:11:48] <eddyb> MIT is GPL-compatible AFAIK
[17:11:54] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[17:12:00] <aidanhs> eddyb: yes, I saw mumblings about musl on https://github.com/rust-lang/rust/issues/7283
[17:12:13] <aidanhs> which looks very off the beaten track
[17:12:36] <nathan7> dr4yyee: LGPL means we're fine
[17:12:46] <nathan7> dr4yyee: your friend should learn how licenses actually work (;
[17:13:03] <eddyb> and stop hating on Rust
[17:13:04] <dr4yyee> nathan7, but you can't ship Rust with it, can you?
[17:13:14] *** Joins: paratr00pr (amiraj@moz-al7.tj5.186.1.IP)
[17:13:20] <dr4yyee> eddyb, nobody is hating on Rust
[17:13:22] *** Quits: Derecho (derecho@moz-8nlhqo.upc-g.chello.nl) (Quit: WeeChat 1.1.1)
[17:13:39] <nathan7> dr4yyee: well, we don't ship *any* bignum support in Rust
[17:13:45] <nathan7> dr4yyee: That's in libnum
[17:13:56] *** Joins: hjr3 (hradtke@moz-e235ok.fios.verizon.net)
[17:14:03] <aidanhs> nathan7: my aim is to be able to take the binary onto machines with very old glibc versions (from ubuntu 14:04)
[17:14:04] <Hannibal_Smith> dr4yyee, you can't static compile it
[17:14:10] <aidanhs> which go achieves nicely
[17:14:35] *** Joins: nercury (nercury@moz-ngr949.static.zebra.lt)
[17:14:44] <Hannibal_Smith> dr4yyee, Haskell for example has the same problem with static compiling GMP, so they also offer an pure Haskell bignum implementation, that is slow :-P
[17:15:03] <Hannibal_Smith> https://ghc.haskell.org/trac/ghc/wiki/ReplacingGMPNotes
[17:15:19] <FreeFull> I wonder how haskell's bignum compares to Rust's libnum's bignum
[17:15:56] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[17:16:07] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[17:16:49] <dr4yyee> nathan7, right, forgot about that. Since it's not shipped it won't matter that much. I somehow thought that there was a built-in bignum but if you want to use GMP you'd have to use another bignum lib which would be a waste
[17:16:50] *** Joins: plietar (Mibbit@moz-34n.9h5.31.129.IP)
[17:17:58] *** Quits: hjr3 (hradtke@moz-e235ok.fios.verizon.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:18:31] *** Joins: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com)
[17:18:57] *** Joins: Derecho (derecho@moz-8nlhqo.upc-g.chello.nl)
[17:19:04] <rkruppe> Fun fact: as of half an hour ago, there *is* a built in bignum type in libcore, though it's not intended for public consumption
[17:19:17] <dr4yyee> Hannibal_Smith, thank you! I just think that the license is causing problems and limiting the usability of GMP in some (maybe rare) cases. Which is sad since GMP seems to be a very nice and advanced piece of code.
[17:19:41] <eddyb> rkruppe: lib*core*?
[17:19:43] *** Quits: mib_zoofh0 (Mibbit@moz-dn3.rgm.195.115.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:19:52] <eddyb> rkruppe: is it a stack thing?
[17:19:56] *** Quits: FrozenCow (FrozenCow@moz-i2tvv4.chello.nl) (Ping timeout: 121 seconds)
[17:19:58] <rkruppe> eddyb: Yes and yes.
[17:20:07] <Hannibal_Smith> dr4yyee, I think that GMP dependency can be a problem if you target OS like iOS
[17:20:27] <eddyb> rkruppe: public consumption would require generics over values
[17:20:35] <eddyb> rkruppe: but that is super cool :D
[17:20:43] <rkruppe> It's part of Yurume's PR for float formatting, and it's only designed and useful for that
[17:20:44] <dr4yyee> Hannibal_Smith, oh right, you can't dynamically link on iOS AFAIK
[17:20:59] *** Joins: nstoddard_ (nstoddard@moz-ce50ao.dhcp.embarqhsd.net)
[17:21:02] <rkruppe> Compile-time fixed size, no division, stack allocated, incomplete API, etc.
[17:21:37] <Yurume> it is hidden from the documentation for the purpose. :)
[17:21:47] *** Quits: nstoddard (nstoddard@moz-ce50ao.dhcp.embarqhsd.net) (Ping timeout: 121 seconds)
[17:21:48] <plietar> Hi, I would need some help with the borrow checker. I have a top level struct A, which owns a struct B. However the impl of B needs to call mut methods on A.
[17:21:49] <plietar> What would be the rust way of doing this ? I can't store a ref to A in B, because that would prevent me from borrowing it from somewhere else.
[17:21:54] *** nstoddard_ is now known as nstoddard
[17:22:18] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Ping timeout: 121 seconds)
[17:22:28] <Derecho> what about having A call the B's functions and passing a &mut self along?
[17:22:29] *** Quits: ptalbot_ (ptalbot@moz-h7l0dh.dyn.as47377.net) (Ping timeout: 121 seconds)
[17:22:42] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[17:22:43] *** Quits: bfrog (tburdick@moz-hpc0jl.il.comcast.net) (Quit: WeeChat 1.1.1)
[17:22:55] <Derecho> if that works in your design.
[17:23:47] <plietar> Derecho, that is my current solution, but I don't want to clutter the method signatures with an extra argument.
[17:24:04] *** Joins: HighlightMe (Fanboy@moz-4vj.kr1.205.66.IP)
[17:24:08] <HighlightMe> Wait.
[17:24:12] *** Joins: tatref (tatref@moz-diagc7.abo.wanadoo.fr)
[17:24:13] *** Joins: krzysz00 (krzys@moz-959vup.dorm.utexas.edu)
[17:24:16] <HighlightMe> Do I need some sort of rust runtime
[17:24:27] <HighlightMe> In order to run compiled rust programs on windows, for example?
[17:24:36] <HighlightMe> How does that work?
[17:24:53] *** Quits: tatref (tatref@moz-diagc7.abo.wanadoo.fr) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[17:24:55] <Derecho> it might be nicer design-wise, since you then only use A and let A handle whatever needs to be done on B.
[17:24:58] <nathan7> HighlightMe: Nope
[17:25:05] <krzysz00> Where is Rand? The integer types implement it, but if I try to leek up the trait, the documentation 404s
[17:25:15] <HighlightMe> nathan7, so how does it compile?  To machine code?
[17:25:16] <Derecho> krzysz00: it's in a separate crate
[17:25:20] <HighlightMe> How does that work?
[17:25:20] <krzysz00> *look
[17:25:27] <HighlightMe> Or does Windows have its own little bytecode that it deals with?
[17:25:31] <Derecho> krzysz00: https://crates.io/crates/rand
[17:25:54] *** Joins: tatref (tatref@moz-diagc7.abo.wanadoo.fr)
[17:26:10] <krzysz00> I also noticed librand in the Rust sources. This is the same code, right?
[17:26:13] <rkruppe> HighlightMe: Rust is compiled to machine code, like C and C++, and it uses only the Windows APIs, no JVM-style thing (and one DLL that it ships with, I think?)
[17:26:16] <apoelstra> are idents equal iff they are the same string?
[17:26:23] <HighlightMe> That is so interesting.
[17:26:37] <HighlightMe> So the DLL is a sort of windows-style library of code to execute?
[17:26:40] *** Quits: grncdr (Adium@moz-m1g.e47.90.95.IP) (Quit: Leaving.)
[17:26:42] <Derecho> krzysz00: not sure, but this is the official rand stuff. I encountered the same issue as you a couple of days ago and was told to use that crate.
[17:26:44] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[17:27:19] *** Joins: fleabay (Mibbit@moz-fdcruo.ip.windstream.net)
[17:27:29] <Derecho> also the book refers to it
[17:27:46] <rkruppe> HighlightMe: A DLL is like a shared object (.so) in Linux. Just ordinary executable way packaged such that it can be loaded into other programs when they're run
[17:28:02] <rkruppe> *executable code
[17:28:07] <HighlightMe> So the old "plugin" analogy still works?
[17:29:01] <Hannibal_Smith> dr4yyee, if you are curious, someone did a benchmark of GMP vs a the pure bignum library that GHC uses in alternative http://www.mega-nerd.com/haskell-big-integer-experiment/bench-integer-20141001.html
[17:29:46] <rkruppe> HighlightMe: I'm not sure what you mean by that. Plugins can be implemented as DLLs, yes, but most programs (including most Rust programs) don't use DLLs as plugins in the sense that you can add your own after compiling the program
[17:30:26] <nathan7> Hannibal_Smith: Is the graph of ops/sec or sec/op?
[17:30:38] <HighlightMe> Interesting.  Is there a way I could hard-code that in there, where I call an external method on an input resource?
[17:30:39] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[17:30:46] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[17:30:49] <HighlightMe> So I could change the output of the method entirely? That sounds pretty anti-rust.
[17:31:08] <dr4yyee> nathan7, when I hover over it it says 'µsec'
[17:31:24] <nathan7> You could use Windows's dlopen equivalent, and load a DLL that holds "plugins", yes
[17:31:39] <nathan7> This is of course deeply unsafe
[17:32:09] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (A TLS packet with unexpected length was received.)
[17:32:11] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[17:32:13] <HighlightMe> That is so neat.
[17:32:54] <nathan7> Anything you can do in C, you can do in Rust
[17:33:06] <nathan7> Down to inline assembly and everything
[17:33:18] *** Quits: nwin (textual@moz-7jj8l0.pools.vodafone-ip.de) (Quit: My Mac Mini has gone to sleep. ZZZzzz…)
[17:33:29] *** Quits: eric_lagergren (barsonme@moz-lr1hrn.wa.comcast.net) (Ping timeout: 121 seconds)
[17:33:36] <Tiffany> you can cause UB via sequence points in rust?
[17:33:44] <nathan7> Probably q=
[17:34:59] <dr4yyee> Hannibal_Smith, thanks, I was curious
[17:35:01] <nathan7> well, you could achieve something similar through aliasing, that's not quite the ame
[17:35:02] <nathan7> *same
[17:35:40] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Quit: ChatZilla 0.9.91.1 [Firefox 37.0.2/20150415140819])
[17:36:13] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[17:36:29] *** Joins: alexggordon (alexggordon@moz-slt.b6v.251.159.IP)
[17:36:37] <plietar> Derecho: I actually have 4-5 subclasses like B, which each need to call a method on A. A manages a socket, and each subclass handles a part of the protocol.
[17:36:39] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[17:36:59] <plietar> So this adds up to a lot of functions that would need to be duplicated
[17:37:10] <FreeFull> playbot: let mut a = 0; a = { a = 3; a } + { a = 4; a }; a
[17:37:12] -playbot- <anon>:9:13: 9:18 warning: value assigned to `a` is never read, #[warn(unused_assignments)] on by default
[17:37:12] -playbot- <anon>:9         let mut a = 0; a = { a = 3; a } + { a = 4; a }; a
[17:37:12] -playbot- output truncated; full output at: http://bit.ly/1QwuHWS
[17:37:24] <FreeFull> playbot: let mut a = 0; a = a + { a = 3; a } + { a = 4; a }; a
[17:37:26] -playbot- 10
[17:37:31] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[17:37:46] <FreeFull> Figure out why it's 10 :)
[17:37:48] <datalus> Sorry if this is a dumb question or not, but did the cstr! and rstr! macros go away?
[17:37:57] <Derecho> plietar: does A need to own these subclasses?
[17:38:10] *** Quits: csherrat_ (textual@moz-357qdq.cable.teksavvy.com) (Ping timeout: 121 seconds)
[17:38:13] <kimundi> datalus: hum, I don't rember them even exsting
[17:38:30] <datalus> Ah these maybe library specific then 
[17:38:39] <FreeFull> playbot: let mut a = 0; a += { a = 3; a } + { a = 4; a }; a
[17:38:41] <plietar> Derecho: not necessarily
[17:38:41] -playbot- <anon>:9:13: 9:18 warning: value assigned to `a` is never read, #[warn(unused_assignments)] on by default
[17:38:41] -playbot- <anon>:9         let mut a = 0; a += { a = 3; a } + { a = 4; a }; a
[17:38:41] -playbot- output truncated; full output at: http://bit.ly/1FW3bPv
[17:38:58] <FreeFull> playbot: let mut a = 0; a = { a += 3; a } + { a += 4; a }; a
[17:38:59] -playbot- 10
[17:39:00] *** Joins: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at)
[17:39:07] <Derecho> plietar: in that case, have the subclasses own A? I suppose they can't all own it. maybe someone else can help better then.
[17:39:10] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[17:39:20] <FreeFull> In this case it's obvious
[17:39:31] *** Joins: kerrick (kerrick@moz-fub7j7.hfc.comcastbusiness.net)
[17:39:47] <FreeFull> playbot: let mut a = 0; a = a + { a = 3; { a += 3; a } } + { a = 4; a }; a
[17:39:48] -playbot- 16
[17:39:59] *** Joins: Qibix (Mibbit@moz-4cu.l4o.9.99.IP)
[17:40:17] <plietar> Derecho: Yeah, that's the problem. They can't all own it
[17:40:35] <plietar> I just found RefCell, which I think solves it
[17:40:49] <plietar> But it moves the check to runtime, which is a bit unfortunate
[17:40:49] <FreeFull> This is fun
[17:40:54] <FreeFull> playbot: let mut a = 0; a = 6 + { a = 3; { a += 3; a } } + { a = 4; a }; a
[17:40:55] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Connection closed)
[17:40:56] -playbot- <anon>:9:13: 9:18 warning: value assigned to `a` is never read, #[warn(unused_assignments)] on by default
[17:40:56] -playbot- <anon>:9         let mut a = 0; a = 6 + { a = 3; { a += 3; a } } + { a = 4; a }; a
[17:40:56] -playbot- output truncated; full output at: http://bit.ly/1Qwv1VB
[17:41:15] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[17:41:18] <FreeFull> ( This also produced 16 )
[17:41:24] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[17:41:32] *** Joins: eric_lagergren (barsonme@moz-lr1hrn.wa.comcast.net)
[17:41:33] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[17:41:40] <FreeFull> playbot: let mut a = 0; a = a + { a = 3; { a += 3; a } } + { a = 4; { a += 0; a } }; a
[17:41:42] -playbot- 16
[17:41:45] *** Quits: alexggordon (alexggordon@moz-slt.b6v.251.159.IP) (Ping timeout: 121 seconds)
[17:41:46] <FreeFull> playbot: let mut a = 0; a = a + { a = 3; { a += 3; a } } + { a = 4; { a += 4; a } }; a
[17:41:48] -playbot- 20
[17:41:52] *** Quits: Dean4Devil (Dean@moz-qe2kds.paranoidlabs.org) (Quit: I just nomnomed the Interweb)
[17:42:35] *** Joins: james4k (james@moz-fm2a4v.consolidated.net)
[17:42:38] *** Quits: xauth (vincent@moz-r6n7aq.xs4all.nl) (Ping timeout: 121 seconds)
[17:43:06] <FreeFull> The evaluation order definitely is a bit weird
[17:43:14] <FreeFull> And the original a is never read, but the warning doesn't show
[17:43:24] *** Joins: Dean4Devil (Dean@moz-qe2kds.paranoidlabs.org)
[17:43:27] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[17:43:46] <Hannibal_Smith> nathan7, take a look at the end of the page :-P
[17:43:51] <FreeFull> So there is a difference between what the warning checks for, and what actually happens
[17:44:29] *** Joins: eerie (eerie@moz-9ml73n.red.bezeqint.net)
[17:44:29] *** Quits: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP) (Ping timeout: 121 seconds)
[17:45:13] *** Joins: mib_vq1lnm (Mibbit@moz-l24m2p.cust.swisscom.ch)
[17:46:22] *** Joins: khades (Thunderbird@moz-2g3.vmt.173.31.IP)
[17:46:25] *** Quits: khades (Thunderbird@moz-2g3.vmt.173.31.IP) (Client exited)
[17:47:32] *** Joins: wooowe (Mibbit@moz-499ogh.wi.charter.com)
[17:48:24] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[17:48:30] *** Quits: tatref (tatref@moz-diagc7.abo.wanadoo.fr) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[17:48:31] *** Quits: eerie (eerie@moz-9ml73n.red.bezeqint.net) (Ping timeout: 121 seconds)
[17:48:50] *** Joins: tatref (tatref@moz-diagc7.abo.wanadoo.fr)
[17:49:08] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[17:49:43] *** Quits: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP) (Ping timeout: 121 seconds)
[17:50:07] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[17:50:31] <mib_x7cctc> How do I take an enum as an argument in a function?
[17:50:59] <fleabay> what http server can anyone recommend?
[17:51:07] <FreeFull> playbot: enum Foo { Bar, Baz } fn foo(x: Foo) { }
[17:51:08] -playbot- ()
[17:51:11] <FreeFull> mib_x7cctc: Like this
[17:51:21] <FreeFull> mib_x7cctc: Foo is the type
[17:51:37] <mib_x7cctc> I see
[17:51:37] *** Quits: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se) (Client exited)
[17:51:51] <mib_x7cctc> https://github.com/hyperium/hyper :fleabay 
[17:51:58] *** Joins: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca)
[17:52:08] *** Joins: eerie (eerie@moz-9ml73n.red.bezeqint.net)
[17:52:10] <nathan7> playbot: let mut a = 42; a = a + { a = 3; { a += 3; a } } + { a = 4; { a += 4; a } }; a
[17:52:11] -playbot- 20
[17:52:18] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[17:52:35] <fleabay> hyper was the one i was leaning toward 
[17:52:39] <fleabay> hyperium
[17:52:57] <fleabay> so cool
[17:53:01] <mib_x7cctc> Iron/nickel are good web frameworks
[17:53:24] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[17:53:37] *** Quits: Dean4Devil (Dean@moz-qe2kds.paranoidlabs.org) (Quit: I just nomnomed the Interweb)
[17:53:56] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[17:53:58] <krzysz00> Where does Cargo store downloaded dependencies?
[17:54:05] *** Quits: kngl (Adium@moz-rmgnkh.dynamic.voo.be) (Quit: Leaving.)
[17:54:24] *** Joins: Dean4Devil (Dean@moz-qe2kds.paranoidlabs.org)
[17:55:12] *** Joins: AngelOfSol (AngelOfSol@moz-dj58kc.rh.rit.edu)
[17:55:12] <fleabay> need speed tests on those servers, lol
[17:55:19] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[17:55:30] *** Quits: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com) (Ping timeout: 121 seconds)
[17:55:35] *** Joins: OtterCoder (quassel@moz-lij.rme.199.67.IP)
[17:55:43] <tatref> @mib_x7cctc: I think ~/.cargo/git/checkouts/
[17:56:03] <mib_x7cctc> krzysz00: As above
[17:56:20] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[17:56:39] *** Quits: Dean4Devil (Dean@moz-qe2kds.paranoidlabs.org) (Quit: I just nomnomed the Interweb)
[17:56:50] <frewsxcv> fleabay: http://arewewebyet.com/
[17:57:17] <fleabay> cool
[17:57:24] *** Joins: Dean4Devil (Dean@moz-9qd9mi.org)
[17:57:26] <seanmonstar> fleabay: I think iron includes a wrk benchmark
[17:57:31] <krzysz00> I don't have that, but that's because the dependency is question is `rand` from crates.io
[17:57:37] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[17:57:47] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[17:57:47] <fleabay> i think i will use hyperium since it was forked from rust-http
[17:57:48] *** Joins: zzing (textual@moz-jucm1n.cpe.distributel.net)
[17:58:09] <fleabay> and it seems that was the standard months ago
[17:58:33] *** Quits: derek_c (derek@moz-samgps.cit.cornell.edu) (Ping timeout: 121 seconds)
[17:58:35] <seanmonstar> fleabay: it's not a fork
[17:58:37] <fleabay> seanmonstar, i will check into it
[17:58:49] <fleabay> the benchmark
[17:58:56] *** Quits: meh (meh@moz-2vi7cf.42-151.net24.it) (Ping timeout: 121 seconds)
[17:59:46] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[18:00:25] *** Joins: Shackra (Jorge@moz-7bh.ng6.177.186.IP)
[18:00:47] <tatref> I have a stupid question... how does one read a variable amount of bytes from a file?
[18:01:05] <seanmonstar> fleabay: sure. Just saying hyper isn't a fork. It started as 'cargo new hyper', like many libs
[18:01:29] <tatref> I tried creating a buffer with Vec::with_capacity(n), but this reads 0 bytes from input :-(
[18:01:31] <fleabay> yep, i clicked through SO without reading
[18:01:38] <fleabay> :)
[18:01:39] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[18:01:50] *** Quits: skade (skade@moz-0djl38.boh1-r2.syseleven.net) (Ping timeout: 121 seconds)
[18:02:06] <Ms2ger> tatref, vec![0; n] instead
[18:02:08] <mbrubeck> tatref: You can use http://doc.rust-lang.org/std/io/trait.Read.html#method.read_to_string or read_to_end
[18:02:19] <seanmonstar> tatref: pass a buffer to read() the size you want, and check the return value to see how many you read
[18:02:38] <seanmonstar> mbrubeck: that'd read the whole thing, with no control
[18:03:04] <mbrubeck> Yeah... I wasn't too clear on what "a variable amount" meant. I think I get it now.
[18:03:12] <tatref> I'll try the vec! option, since I don't want to read the whole file at once
[18:03:18] <tatref> thanks
[18:03:30] <fleabay> "Teepee is a redesign of rust-http" ..  is teepee a fork or no?
[18:03:40] <Ms2ger> Teepee never happened, did it?
[18:03:51] <seanmonstar> Teepee was also a completely new lib
[18:03:53] *** Quits: Ralith (ralith@moz-tiaj7p.customer.broadstripe.net) (Ping timeout: 121 seconds)
[18:03:53] <fleabay> im reading SO, so dont know for sure
[18:04:13] *** Joins: Shackra_ (Jorge@moz-7bh.ng6.177.186.IP)
[18:04:18] *** Quits: Shackra (Jorge@moz-7bh.ng6.177.186.IP) (Connection closed)
[18:04:23] <seanmonstar> By the same author
[18:04:26] <mbrubeck> fleabay: It was a new project by the same author
[18:04:31] *** Joins: derek_c (derek@moz-samgps.cit.cornell.edu)
[18:04:46] <fleabay> k, thanks
[18:04:53] <fleabay> @all
[18:05:11] *** Quits: loyd (loyd@moz-uft.32f.108.213.IP) (Ping timeout: 121 seconds)
[18:05:16] *** Joins: kngl (Adium@moz-rmgnkh.dynamic.voo.be)
[18:06:29] <tatref> fantastic, it works well :-)
[18:07:19] <seanmonstar> tatref: you can check the return usize to know if you need to read again, and with which part of the buffer
[18:07:38] *** Quits: plietar (Mibbit@moz-34n.9h5.31.129.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:08:01] *** Joins: Ralith (ralith@moz-tiaj7p.customer.broadstripe.net)
[18:08:05] *** Parts: krzysz00 (krzys@moz-959vup.dorm.utexas.edu) ()
[18:08:17] <fleabay> 1 more quick 'theoretical' question if anyone is interested
[18:08:18] *** Joins: mib_8q3cp1 (Mibbit@moz-v7f.689.249.92.IP)
[18:08:30] <fleabay> what is the ideal replacement for javascript?
[18:08:37] <seanmonstar> Javascript
[18:08:41] <fleabay> nooo
[18:09:01] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[18:09:08] <tatref> yes, I will check that. This should not really be an issue, since I'm reading from a string, but this could indicate a buggy input. thanks again for the tips!
[18:09:45] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[18:10:15] <seanmonstar> tatref: Oh, you said file at first, so a single read might not fill the whole buffer (if your Vec is largr) 
[18:10:47] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[18:11:04] *** Joins: pheleas_frog (Mibbit@moz-e72kkk.az.comcast.net)
[18:11:29] *** Quits: Izacht13 (Izacht13@moz-gee645.atsnmeam.ccmaine.net) (Connection closed)
[18:11:40] *** Joins: Izacht13 (Izacht13@moz-gee645.atsnmeam.ccmaine.net)
[18:11:48] *** Joins: pczarn (piotr@moz-9un7t9.izacom.pl)
[18:11:54] *** Quits: pheleas_frog (Mibbit@moz-e72kkk.az.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[18:12:01] *** Joins: lyc (lyc@moz-2oa.us4.25.175.IP)
[18:12:17] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[18:12:28] *** Joins: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se)
[18:13:07] <tatref> seanmonstar: I lied :-), I'm reading a format that contains 1) the size of the content. 2) a string of size N, so the Vec should always be filled
[18:13:33] *** Quits: mib_8q3cp1 (Mibbit@moz-v7f.689.249.92.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:14:11] *** Joins: eerie_ (eerie@moz-9ml73n.red.bezeqint.net)
[18:14:28] *** Quits: skeuomorf (skeuomorf@moz-59b.jr0.32.197.IP) (Quit: WeeChat 1.1.1)
[18:14:49] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[18:15:13] <tatref> humm that's strange, I'm matching against the following: Ok(qt) if qt == size, Ok(qt) if qt != size, Err(_)
[18:15:31] *** Joins: moa (Cedric@moz-d23h55.abo.wanadoo.fr)
[18:15:33] <tatref> the compiler tells me that Ok(_) is not covered
[18:15:37] *** Joins: TankC (TankC@moz-2cengp.classicnet.net)
[18:15:47] *** Quits: srjek (srjek@moz-gg7i72.ece.uic.edu) (Ping timeout: 121 seconds)
[18:15:50] <tatref> how is this possible?
[18:16:04] *** Quits: lyc (lyc@moz-2oa.us4.25.175.IP) (Ping timeout: 121 seconds)
[18:16:04] <kali> tatref: it's just not smart enough :)
[18:16:10] <kimundi> tatref: you have if guards there, and those are not cosndiered as always matching
[18:16:19] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[18:16:20] *** Joins: Layl (Layl@moz-65hqmf.direct-adsl.nl)
[18:16:24] <kali> tatref: discard the second condition and you should be fine
[18:16:50] <kimundi> the compiler can not reason about wether an arbitarry expression ends up covering all cases
[18:17:01] *** Quits: eerie (eerie@moz-9ml73n.red.bezeqint.net) (Ping timeout: 121 seconds)
[18:17:33] <tatref> I thought it could with simple == expressions
[18:17:36] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[18:17:42] <kimundi> nope
[18:18:00] <kimundi> it only can with patterns
[18:18:06] <mib_x7cctc> Can I increment an integer using ++ in rust?
[18:18:11] <kimundi> mib_x7cctc: no
[18:18:18] <kimundi> mib_x7cctc: += 1
[18:18:53] <mib_x7cctc> Ok
[18:19:20] *** Joins: mcoffin (mcoffin@moz-5ir.o8h.54.128.IP)
[18:19:23] <mib_x7cctc> Does that have the same effect? kimundi 
[18:19:56] <kimundi> it has the same "increment by 1" effect as, eg, the C operator
[18:20:02] <mib_x7cctc> Ok
[18:20:08] <seanmonstar> tatref: the second one without the guard will work exactly the same, since match arms are ordered
[18:21:38] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[18:23:04] *** Joins: abaez (abaez@moz-pqg1ef.fios.verizon.net)
[18:23:21] *** Quits: Murarth (Murarth@moz-6uvggu.dyn.nltelcom.net) (Quit: Mani Mani is always Mani Mani at Mani Mani with all Mani Mani Mani)
[18:23:37] *** Joins: Murarth (Murarth@moz-mpmr8r.phnx.qwest.net)
[18:25:42] *** Joins: Takronix (Takronix@moz-nm15k0.hr.cox.net)
[18:25:51] *** Quits: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca) (Connection closed)
[18:26:10] *** Quits: hkr (hkr@moz-l5o.vkj.222.117.IP) (Quit: WeeChat 1.1.1)
[18:26:17] *** Quits: silven (quassel@moz-0roor3.priv.bahnhof.se) (Ping timeout: 121 seconds)
[18:26:40] *** Joins: silven (quassel@moz-0roor3.priv.bahnhof.se)
[18:26:48] *** Joins: frankmcsherry (frankmcsher@moz-87vov1.dyn.telefonica.de)
[18:26:52] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[18:27:34] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (A TLS packet with unexpected length was received.)
[18:28:34] *** Quits: sigma (sigma@moz-llrbra.range86-135.btcentralplus.com) (Ping timeout: 121 seconds)
[18:29:13] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[18:29:57] *** Joins: canhtak (canhtak@moz-1a9fh1.luxdsl.pt.lu)
[18:30:10] *** Quits: mib_vq1lnm (Mibbit@moz-l24m2p.cust.swisscom.ch) (Quit: http://www.mibbit.com ajax IRC Client)
[18:30:41] *** Quits: Porkepix_ (Porkepix@moz-il9u9l.abo.wanadoo.fr) (Connection closed)
[18:30:47] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[18:30:54] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[18:31:10] *** Joins: Porkepix (Porkepix@moz-il9u9l.abo.wanadoo.fr)
[18:32:01] *** Joins: iiixtiii (ixti@moz-21k.dae.119.188.IP)
[18:32:10] *** Quits: griff (griff@moz-bf2.sbd.199.62.IP) (Client exited)
[18:32:14] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[18:33:14] <kimundi> playbot: static FOO: Option<Vec<u8>> = None;
[18:33:16] -playbot- ()
[18:33:29] <kimundi> wait... wut?
[18:33:55] <nathan7> interesting
[18:33:59] *** Joins: srh (User@moz-opdhei.q9f2.utp8.0306.2602.IP)
[18:34:01] *** Joins: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP)
[18:34:04] *** Quits: __ixti__ (ixti@moz-21k.dae.119.188.IP) (Ping timeout: 121 seconds)
[18:34:06] *** Joins: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca)
[18:34:13] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[18:34:16] <kimundi> playbot: static mut FOO: Option<String> = None; unsafe { FOO = Some("Hello".to_owned()); FOO.clone() }
[18:34:17] -playbot- <anon>:9:42: 9:46 error: mutable statics are not allowed to have destructors
[18:34:17] -playbot- <anon>:9         static mut FOO: Option<String> = None; unsafe { FOO = Some("Hello".to_owned()); FOO.clone() }
[18:34:17] -playbot- output truncated; full output at: http://bit.ly/1PxBgWK
[18:34:28] <nathan7> ah.
[18:34:32] *** Joins: ray (ray@moz-2j6.t3f.66.59.IP)
[18:34:39] <kimundi> erm, hmm... where is the difference
[18:34:50] *** Joins: grncdr (Adium@moz-m1g.e47.90.95.IP)
[18:35:04] <kimundi> why is non-mut ok if mut is not?
[18:35:04] <nathan7> kimundi: an immutable static cannot have a constructor
[18:35:17] <kimundi> destructor*
[18:35:22] <nathan7> no
[18:35:23] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[18:35:25] <nathan7> constructor.
[18:35:33] <nathan7> the constructor allocates resources, the destructor cleans them up
[18:35:34] <jws> nother noob q: what's the idiomatic way of returning a str from a function, assuming its allocated within that function?
[18:35:40] *** Joins: Rachael (Mibbit@moz-7hfo21.eastlink.ca)
[18:35:41] <nathan7> if there is no constructor, no resources can be allocated
[18:35:42] <kimundi> but why? surely the shared static one leaks as well, which afaik was the only reason
[18:35:56] <nathan7> thus the destructor can be safely ignored
[18:35:59] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[18:36:16] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[18:36:19] <kimundi> nathan7: Ah, wait... Its ok because I used None and can not change it anymore afterwards?
[18:36:29] <kimundi> Alright, that makes sense
[18:36:43] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[18:37:46] *** Joins: FrozenCow (FrozenCow@moz-i2tvv4.chello.nl)
[18:38:03] *** Quits: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP) (Ping timeout: 121 seconds)
[18:38:19] <aidanhs> for reference, I managed to get a completely statically linked rust binary, no external libc required
[18:38:28] <mib_x7cctc> Should I store the stack for my virtual machine that I'm writing in rust as an array or vector?
[18:38:51] <kimundi> playbot: struct Foo; impl Drop for Foo { fn drop(&mut self) {} } static FOO: Foo = Foo; "ok"
[18:38:52] -playbot- <anon>:9:83: 9:86 error: statics are not allowed to have destructors
[18:38:52] -playbot- <anon>:9         struct Foo; impl Drop for Foo { fn drop(&mut self) {} } static FOO: Foo = Foo; "ok"
[18:38:52] -playbot- output truncated; full output at: http://bit.ly/1zO0myE
[18:38:54] <Rachael> Hey People
[18:39:07] <tatref> I'd say vector, if you would like to resize it
[18:39:15] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[18:39:28] <duesenfranz_> mib_x7cctc: array has to have  a known size at compile time
[18:39:31] <tatref> else, use a big enough array + a pointer
[18:39:36] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[18:39:36] <aidanhs> required a bit of hackery (e.g. changing link arguments from -lgcc_s to -lgcc_eh) but seems linking glibc statically is at least functional in some cases
[18:39:41] <mib_x7cctc> You think I should set a limit for its size?
[18:40:46] <tatref> one way or another, its size will be limited, so yes, you should set a limit
[18:41:52] <tatref> just out of curiosity, what kind of virtual machine is it,
[18:41:58] <tatref> ?
[18:42:10] <mib_x7cctc> in what sense? tatref 
[18:42:16] <nathan7> kimundi: hm.
[18:42:18] <Layl> It's really hard getting into a mindset that for safety I should now and then be copying things
[18:42:27] *** Quits: FrozenCow (FrozenCow@moz-i2tvv4.chello.nl) (Connection closed)
[18:42:28] *** Joins: mib_2wwidb (Mibbit@moz-05i3a1.members.linode.com)
[18:42:29] <nathan7> kimundi: I guess None counts as not having a destructor, despite the type having one?
[18:42:30] <Layl> safety and data access patterns I mean
[18:42:38] <tatref> mib_x7cctc
[18:42:43] <Layl> I'm way too used to passing around references being really cheap
[18:42:52] <tatref> mib_x7cctc: are you implementing a language, a game...?
[18:43:04] <mib_x7cctc> Maybe a language
[18:43:06] <Layl> but now to keep that safe I would have to push that all the way down the chain for borrowing and I want to avoid that
[18:43:16] <mib_x7cctc> Or maybe even as part of a kernel
[18:43:27] <mib_x7cctc> Mostly just for fun :)
[18:43:38] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[18:43:48] <tatref> as long as it's for fun, it's cool!
[18:44:22] <Rachael> Does anyone know if they confirmed Vladimir Pouzanov for the SF meet?
[18:44:24] *** Joins: eerie (eerie@moz-9ml73n.red.bezeqint.net)
[18:44:28] <frankmcsherry> why can't there be an easy function for "if i would cause vec[i] to overrun vec.len()"? I always have to figure this out from scratch each time.
[18:44:40] *** Quits: HighlightMe (Fanboy@moz-4vj.kr1.205.66.IP) (Quit: Leaving)
[18:44:49] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:44:50] <lahwran> hey everyone, is there any way to do pattern matching on the contents of Vecs?
[18:45:43] *** Quits: ray (ray@moz-2j6.t3f.66.59.IP) (Quit: WeeChat 1.1.1)
[18:45:59] *** bentley|away is now known as bentley
[18:46:14] <lahwran> as in, like, match string.split(" ").collect::<Vec<_>>() { [date, type] => one thing, [date, type, ref] => another thing, _ => Err() }
[18:47:15] *** Quits: eerie_ (eerie@moz-9ml73n.red.bezeqint.net) (Ping timeout: 121 seconds)
[18:47:20] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[18:47:27] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[18:47:29] <lahwran> Tobba, you have any idea?
[18:47:34] *** Joins: hmph (Mibbit@moz-9dl.dva.129.62.IP)
[18:47:37] <mib_x7cctc> as_slice? lahwran 
[18:47:48] <lahwran> mib_x7cctc: how so?
[18:48:03] *** Joins: andresv (textual@moz-kvanfr.dyn.estpak.ee)
[18:48:11] <kimundi> lahwran: In theory you can/will be able to do that with slice patterns, but I'm not sure if the necessary machinery works atm
[18:48:16] <mib_x7cctc> match v.as_slice() { _  => println!("empty"), [elem]=> println!("{}", elem), }
[18:48:28] <lahwran> oh, can you do that?
[18:48:33] <mib_x7cctc> I think so
[18:48:56] <nathan7> playbot: let xs: &[&str] = &[];
[18:48:57] -playbot- ()
[18:49:09] <nathan7> playbot: let xs: &[&str] = &[]; match xs { &["foo"] => "bar" }
[18:49:10] -playbot- <anon>:9:44: 9:51 error: slice pattern syntax is experimental
[18:49:10] -playbot- <anon>:9         let xs: &[&str] = &[]; match xs { &["foo"] => "bar" }
[18:49:10] -playbot- output truncated; full output at: http://bit.ly/1PxDzJu
[18:49:29] <lahwran> playbot: match vec![1, 2].as_slice() { [1, x] => println("x: {}", x), [y, x] => println("{}, {}", y, x), _ => println!("wrong")};
[18:49:29] -playbot- <anon>:9:39: 9:45 error: slice pattern syntax is experimental
[18:49:30] -playbot- <anon>:9         match vec![1, 2].as_slice() { [1, x] => println("x: {}", x), [y, x] => println("{}, {}", y, x), _ => println!("wrong")};
[18:49:30] -playbot- output truncated; full output at: http://bit.ly/1zO1vX8
[18:49:30] *** Joins: kngl1 (Adium@moz-rmgnkh.dynamic.voo.be)
[18:49:37] <FreeFull> No slice patterns in stable for now, I'm afraid
[18:49:45] <lahwran> :<
[18:49:54] <lahwran> how do we do it in stable, then?
[18:50:09] <Tobba> rustbot: ()
[18:50:15] <Tobba> okay I think I killed rustbot
[18:50:19] <lahwran> ...
[18:50:21] <Tobba> who manages that?
[18:50:22] <lahwran> playbot: ()
[18:50:23] -playbot- ()
[18:50:37] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[18:50:44] <lahwran> I'm pretty sure it's playbot, not rustbot
[18:50:58] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[18:50:59] <nathan7> rustbot is the factoid bot
[18:50:59] <nathan7> HKT?
[18:51:08] <nathan7> er, I don't know any factoids it knows
[18:51:12] <nathan7> DST?
[18:51:16] *** Joins: ascarter (ascarter@moz-705hf8.wa.comcast.net)
[18:51:30] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[18:51:33] <nathan7> Maybe the factoid bot was something else
[18:51:48] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[18:51:49] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[18:52:03] <FreeFull> !hkt
[18:52:04] <rustbot> HKT is Higher-Kinded Types
[18:52:09] *** Quits: ahunt (ahunt@moz-2obh4g.cam.ac.uk) (Quit: Leaving)
[18:52:09] <FreeFull> nathan7: ^
[18:52:20] <FreeFull> It uses ! syntax
[18:52:23] *** Joins: fabianvf (fabianvf@moz-onn.3sq.102.66.IP)
[18:52:40] <nathan7> ah
[18:52:52] *** Quits: kngl (Adium@moz-rmgnkh.dynamic.voo.be) (Ping timeout: 121 seconds)
[18:53:23] <mib_x7cctc> What are HKT's?
[18:53:43] *** Joins: o_pax (o_pax@moz-mscm03.hsi.kabel-badenwuerttemberg.de)
[18:53:48] <Havvy> !mib @ mib_x7cctc 
[18:53:48] <rustbot> mib_x7cctc: Hello, Mibbit user with a “mib_<random>” nickname. Please change your nickname to something less confusing by saying `/nick NEW_NAME_HERE`.
[18:53:57] <nathan7> mib_x7cctc: In a bunch of other languages, you have type constructors for parametrised types
[18:54:06] <nathan7> And functions are curried in those languages
[18:54:29] <mib_x7cctc> So like higher level generics?
[18:54:29] <nathan7> So, if you have a type constructor that takes two parameters, you can partially apply it
[18:54:45] *** mib_x7cctc is now known as sphinxo
[18:54:59] *** Quits: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at) (Connection closed)
[18:55:01] <nathan7> Haskell's functor trait takes a type constructor, for example
[18:55:12] <kimundi> Does rust per default now do _anything_ implicitly before main() runs? It used to spin up the runtime, are the still remaining parts of it?
[18:55:13] <Tobba> lahwran: it's both
[18:55:19] <Tobba> I think
[18:55:20] *** Joins: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at)
[18:55:34] <Tobba> actually, let's find out
[18:55:39] <Tobba> playbot: |||||||||||||||||||||||||||||||| ()
[18:55:40] <nathan7> sphinxo: translated to Rust… trait Functor { fn fmap<T, U>(self: Self<T>) -> Self<U>; }
[18:55:41] -playbot- output truncated; full output at: http://bit.ly/1PxEqK2
[18:55:48] <nathan7> sphinxo: so, Self still takes a type parameter itself
[18:55:50] <Ms2ger> kimundi, setting up os::args()?
[18:56:00] <Tobba> playbot: |||||||||||||||||||||||||||||||| (); ()
[18:56:02] -playbot- ()
[18:56:12] <Tobba> I guess rustbot just doesn't work then
[18:56:18] *** Joins: dpc_ (dpc@moz-t6gr4b.ca.comcast.net)
[18:56:40] <sphinxo> I think I understand nathan7 
[18:56:46] <kimundi> Ms2ger: *shrug*
[18:56:46] <nathan7> Tobba: rustbot simply performs a different task
[18:57:00] <rkruppe> Ms2ger: I don't think it does even that. I think it sets that up when the function is first called
[18:57:07] <Tobba> nathan7: oh, right
[18:57:12] <nathan7> sphinxo: like, right now we have a `map` on a variety of things
[18:57:13] *** Quits: fabianvf (fabianvf@moz-onn.3sq.102.66.IP) (Connection closed)
[18:57:14] *** Quits: Kurufu (Kurufu@moz-pvv8b5.res.rr.com) (Ping timeout: 121 seconds)
[18:57:16] <Tobba> it does documentation and stuff, I think?
[18:57:25] <hmph> anyone using rust in production right now?
[18:57:41] *** Quits: aepsil0n (eduard@moz-ob9p8k.hsi8.kabel-badenwuerttemberg.de) (Connection closed)
[18:57:42] <sphinxo> will be doing shortly hmph 
[18:57:52] <hmph> what kinda project if i may ask?
[18:57:59] <sphinxo> as a command line pastebin 
[18:58:00] <rkruppe> hmph: Two names I heard: skylight.io, Maidsafe
[18:58:09] <nathan7> sphinxo: impl<T> Option<T> { fn map<F, U>(self, f: F) -> Option<U> where F: FnOnce(T) -> U; }
[18:58:12] *** Quits: grantdefayette (grantdefaye@moz-c2phg3.ct.charter.com) (Quit: This computer has gone to sleep)
[18:58:25] <nathan7> sphinxo: and we can't really abstract over "everything that can be mapped over"
[18:58:33] <sphinxo> I see
[18:58:49] <sphinxo> as in echo Hello World
[18:58:53] <Hannibal_Smith> Uhm it's the first time that I read about Maidsafe
[18:59:01] <sphinxo>  | nc 127.0.0.1 8080
[18:59:16] *** Joins: Kurufu (Kurufu@moz-pvv8b5.res.rr.com)
[18:59:22] *** Quits: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at) (Ping timeout: 121 seconds)
[18:59:33] <nathan7> same for `trait Monad { fn flat_map<T, F, U>(self: Self<T>, f: F) -> Self<U> where F: FnOnce(Self<T>) -> Self<U>; }`
[18:59:37] *** Quits: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de) (Connection closed)
[18:59:56] <nathan7> this is obviously not real Rust syntax, because we don't have HKT, and there'd have to be some way of specifying type kinds
[19:00:21] <sphinxo> ok nathan7 
[19:00:23] <nathan7> (type kinds are the types of types, basically)
[19:00:29] *** Joins: scialex (scialex@moz-j5mi8i.cs.brown.edu)
[19:00:51] <sphinxo> Types of types 
[19:01:27] <hmph> i hope rust gets widely adopted.. im so tired of all the dynamic langs bullshit everywhere, if it was me there would be only static langs with manual memory management, but then im propably weird..
[19:01:30] <sphinxo> I understand
[19:01:40] <geri> how is the progress on rust 1.0? can you hold the release date?
[19:01:58] <nathan7> sphinxo: like, in Haskell, a type such as Integer has kind *
[19:01:58] <rkruppe> No bashing other languages please
[19:02:17] <hmph> yea sry, just a little rant.. hard day at work :P
[19:02:18] <nathan7> sphinxo: and a type such as Maybe (which is like our Option) has kind * -> *
[19:02:28] <sphinxo> ah yes nathan7 
[19:02:29] <nathan7> sphinxo: (it takes a type, and produces a new type)
[19:02:48] <Layl> dynamic langauges have their uses
[19:02:59] <Layl> for the life of me I can't find out what they are but I'm sure the uses exist
[19:03:11] <nathan7> haha
[19:03:18] <hmph> ye thats what i heard too
[19:03:18] <rkruppe> Well, I use some of them
[19:03:34] <Layl> I use typescript to avoid javascript's dynamic typing if I need JS for something
[19:03:41] <nathan7> having types means you'll have to explain to the compiler while your program is right
[19:03:58] <nathan7> a large section of useful programs cannot be expressed in many type systems
[19:04:06] *** Quits: srh (User@moz-opdhei.q9f2.utp8.0306.2602.IP) (Quit: Leaving)
[19:04:19] <rkruppe> Even if they can, sometimes it's too much a hassle
[19:04:30] <nathan7> yep
[19:04:49] <Layl> I found that in a pinch, a hashmap tends to do what I generally would think dynamic typing would do for me
[19:04:53] *** Quits: ascarter (ascarter@moz-705hf8.wa.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:05:39] <Layl> but, I used to use dynamic typing constantly in ASP.NET because the way it does building up pages makes heavy use of dynamic typing and reflection in a good way
[19:06:43] <Layl> basically situations where the type is the data you're trying to pass seem like good fits for dynamic typing to me
[19:06:49] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[19:06:53] <hmph> good point
[19:07:15] *** Joins: loyd (loyd@moz-uft.32f.108.213.IP)
[19:07:19] *** Joins: arBmind (Andreas@moz-8uf6vu.adsl.alicedsl.de)
[19:07:20] <Layl> however, arguably you can solve that with syntax extensions and hashmaps
[19:07:49] <rkruppe> You can solve almost everything with enough effort, the question is what's easier and more natural
[19:08:22] <Layl> I feel like syntax extensions are going to be a big fight in the battle for a rust IDE though
[19:08:22] <rkruppe> It's fine if Rust can't do some things
[19:08:37] <rkruppe> Ignoring them is easy enough, thankfully
[19:08:40] *** Joins: srjek (srjek@moz-gg7i72.ece.uic.edu)
[19:08:48] <hmph> such as rkuppe?
[19:08:54] <sphinxo> How should I store a current program for my vm once it has been parsed from a file?
[19:09:03] *** Joins: wilfredh (uid159@moz-md9so9.brockwell.irccloud.com)
[19:09:13] *** Quits: csoriano (csoriano@moz-g6rkdc.net.upcbroadband.cz) (Client exited)
[19:09:33] <sphinxo> Because it will both contain numbers as well as an enum type
[19:09:38] <kimundi> sphinxo: There are many, many possible answers to that, based on many, many details that are not contained in your question :P
[19:09:47] <fleabay> can i pass rust il to a client and have LibJIT run it, like a scripting language, or is that stupid?
[19:09:51] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[19:10:39] <sphinxo> Can a vector or array contain two different types? kimundi 
[19:10:42] *** Quits: o_pax (o_pax@moz-mscm03.hsi.kabel-badenwuerttemberg.de) (Client exited)
[19:10:44] <kimundi> fleabay: llvm IR is not platform independent, so it would not work without a lot of work
[19:10:51] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[19:10:59] *** Quits: lov2cod1 (Adium@moz-io98p0.u583.gjp6.0119.2620.IP) (Ping timeout: 121 seconds)
[19:11:03] <fleabay> hmmm
[19:11:09] <kimundi> sphinxo: It can't, but you could use a enum with variants for those types, or trait objects
[19:11:15] <rkruppe> hmph: For example, a few hours ago I cranked out a script to search for URL-like things in a firefox memory dump. Writing it in Python was more ergonomic than Rust could hope to be (without compromising other design goals)
[19:11:18] *** Quits: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se) (Client exited)
[19:11:32] *** Quits: Kurufu (Kurufu@moz-pvv8b5.res.rr.com) (Ping timeout: 121 seconds)
[19:12:22] *** Joins: w4ffles (textual@moz-34v1r4.res.rr.com)
[19:12:37] <sphinxo> So like an enum that contains another  enum and a number type? kimundi 
[19:12:41] <kimundi> fleabay: It might be more feasible to do it at a higher point than llvm ir, but still not easy
[19:12:49] <hmph> its a good thing in the long run, jack of all trades could not work imo
[19:13:13] <kimundi> sphinxo: for example, yeah.
[19:13:28] <fleabay> i guess any scripting lang would be as safe to use as javascript
[19:13:35] *** Joins: Kurufu (Kurufu@moz-pvv8b5.res.rr.com)
[19:13:56] *** Quits: larhat1 (Adium@moz-tb1ulb.cable.virginm.net) (Quit: Leaving.)
[19:14:11] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[19:14:18] <sphinxo> What would I call that? kimundi 
[19:14:31] *** Quits: paratr00pr (amiraj@moz-al7.tj5.186.1.IP) (Quit: Leaving.)
[19:14:38] *** Joins: griff (griff@moz-bf2.sbd.199.62.IP)
[19:14:52] *** Quits: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca) (Connection closed)
[19:14:55] <sphinxo> Just like "Program"?
[19:15:03] <rkruppe> fleabay: Practically, JS is decades ahead in sandboxing effort and battle-hardening of the same
[19:15:19] * js really wonders why everybody in this room is talking about him so often every day
[19:15:28] <js> I thought this is #Rust, not #JavaScript
[19:15:41] <hmph> js is omnipresent :)
[19:15:47] <wooowe> lol
[19:15:56] *** Joins: eerie_ (eerie@moz-9ml73n.red.bezeqint.net)
[19:16:00] <fleabay> i want to write a client that uses something else, anything but js, lua python...
[19:16:01] <js> I wouldn't dare joining #javascript, but #rust seemed save
[19:16:09] <js> and there it is again!
[19:16:09] <rkruppe> You can't escape JavaScript, JavaScript is the x86 of the web
[19:16:19] <js> rkruppe: I have high hopes for PNaCl :D
[19:16:29] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[19:16:30] <js> everything to get rid of that crap, actually
[19:16:35] <js> no matter what
[19:16:35] *** Joins: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca)
[19:16:36] <rkruppe> I have higher hopes for asm.js
[19:16:56] <wooowe> js.js
[19:16:58] <fleabay> whats the js stand for in asm.js?
[19:17:00] <rkruppe> PNaCl doesn't really stand a chance to become a standard
[19:17:08] <rkruppe> fleabay: Guess what, it stands for JavaScript
[19:17:11] <js> more than asm.js
[19:17:12] <fleabay> doh
[19:17:21] <fleabay> :)
[19:17:25] <js> everybody but mozilla already said there's no way they'll do asm.js
[19:17:28] *** Quits: eerie (eerie@moz-9ml73n.red.bezeqint.net) (Ping timeout: 121 seconds)
[19:17:39] <rkruppe> The nice thing about asm.js is that it doesn't have to become a standard, it already (pretty much) runs everywhere
[19:17:40] <js> if Google services start requiring PNaCl for some features, I'm sure Firefox will follow
[19:17:49] <js> it only requires LLVM, so it's not even that hard to implement
[19:17:51] *** Quits: kngl1 (Adium@moz-rmgnkh.dynamic.voo.be) (Quit: Leaving.)
[19:18:05] <fleabay> ah, here is one... dart!!!1
[19:18:07] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[19:18:22] *** Joins: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se)
[19:18:26] *** Quits: talchas (user@moz-8ubbgk.ca.comcast.net) (Ping timeout: 121 seconds)
[19:18:41] *** Joins: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP)
[19:19:18] <sphinxo> What is the syntax for a number type in a enum?
[19:19:22] <nathan7> fleabay: Google said they wouldn't be focusing on Dart
[19:19:28] <sphinxo> just like f32?
[19:19:28] <nathan7> fleabay: And they dropped Dartium
[19:19:47] <nathan7> sphinxo: What do you mean?
[19:20:00] <nathan7> like, enum Number { Float(f64), Int(i64) }?
[19:20:02] *** Quits: qrlpx (quassel@moz-motrvs.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[19:20:06] *** Quits: thiblahute (tsaunier@moz-rkc6r5.fbx.proxad.net) (Ping timeout: 121 seconds)
[19:20:17] <sphinxo> Yes, that was what I was looking for
[19:20:42] *** Joins: qrlpx (quassel@moz-n7t.3nb.211.95.IP)
[19:21:28] *** Quits: dpc_ (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[19:21:54] *** Quits: terpstra (terpstra@moz-92dji5.dip0.t-ipconnect.de) (Client exited)
[19:22:17] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[19:24:04] <gsnedders> js: PNaCl really is that hard to implement because most of the validation and the bytecode format is undefined
[19:24:21] <js> gsnedders: well, if you mean there's no formal spec, yes.
[19:24:30] <js> but since it's just LLVM bytecode, you just plug in LLVM
[19:24:44] <gsnedders> js: it's not just LLVM bytecode.
[19:24:57] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[19:25:06] <gsnedders> js: it's based on LLVM 3.0 (IIRC) bytecode, and LLVM bytecode frequently changes between releases
[19:25:10] <nathan7> js: which version of LLVM bytecode
[19:25:19] <nathan7> js: there's no formal spec for LLVM bytecode
[19:25:27] <gsnedders> js: it's not even just a subset of LLVM bytecode
[19:25:30] <nathan7> js: there's also no stability
[19:25:52] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[19:26:16] <gsnedders> js: AFAIK, PNaCl itself implements its own bytecode -> LLVM IR converter, which is a pretty clear indication they're not the same
[19:26:19] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[19:26:31] <js> gsnedders: AFAIK, PNaCl bytecode is pretty much LLVM IR
[19:26:43] <js> there are only a few extra steps to make sure it's safe
[19:26:45] *** Quits: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[19:27:10] <gsnedders> js: "pretty much" isn't good enough to be compatible, you also need to make sure you have the correct behaviour in cases where LLVM IR has undefined behaviour
[19:27:28] <js> gsnedders: in any case, that has already been done and is AFAIK under the same license as LLVM
[19:27:30] *** Joins: alonlevy (alon@moz-p48.q13.159.94.IP)
[19:27:36] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[19:27:53] <gsnedders> js: then we have a single implementation and no standard, which really isn't good
[19:28:06] <Layl> If I want to be exceptionally lazy and treat a unicode string as ASCII, can I just use .as_bytes() or something similar?
[19:28:14] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[19:28:19] <Layl> I know it's not the proper way to do things but I've got my reasons
[19:28:21] <js> gsnedders: there are many things where the implementation is the standard ;)
[19:28:23] <gsnedders> Layl: what do you mean "treat it as ASCII"?
[19:28:31] *** Joins: fabianvf (fabianvf@moz-onn.3sq.102.66.IP)
[19:28:35] <js> in any case, PNaCl would allow using rust instead of javascript
[19:28:45] *** Quits: Shackra_ (Jorge@moz-7bh.ng6.177.186.IP) (Client exited)
[19:29:12] <Layl> I mean if there's a character in there that's taking up multiple ASCII characters in size, I want to ignore that and treat it as separate
[19:29:26] <rkruppe> js: So does emscripten ;)
[19:29:30] <fleabay> are there any rust libs that would help me construct proper javascript to send to a client.  i don't need an interpreter.
[19:29:31] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[19:29:41] <js> rkruppe: sorry, but that's just not true
[19:29:42] *** Quits: w4ffles (textual@moz-34v1r4.res.rr.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:29:50] <Layl> I know it would mangle the actual text if there were any unicode in there but right now it would simplify implementation a lot
[19:29:57] <js> emscripten is hacked into clang
[19:29:58] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[19:30:12] <js> unless someone rewrote the whole thing after I last had a look at it ;)
[19:30:36] *** Joins: w4ffles (textual@moz-34v1r4.res.rr.com)
[19:30:37] <gsnedders> js: also, FWIW, MS now have asm.js support in Chakra, and asm.js is used as a hint to Turbofan in V8
[19:31:03] <rkruppe> js: My last status was that it's now sort of a LLVM backend, so it ought to work with Rust in principle
[19:31:11] <fleabay> thats it! forgot emsctipten, ty
[19:31:39] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[19:31:45] <kimundi> Layl: Well, you _can_ just use as_bytes(), but note that you won't get ascii that way, since ascii is defined as 7bit
[19:31:46] <js> rkruppe: well, last time I looked at it, it would use Clang to generate LLVM bytecode and then manually convert that subset of LLVM bytecode that is emitted by clang to JavaScript using … some JavaScript
[19:32:16] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (Ping timeout: 121 seconds)
[19:32:18] <js> sure, with some work, this LLVM -> JS converter could get support for Rust
[19:32:31] <gsnedders> js: it's not done that in the main release for a while
[19:32:54] <fleabay> js: i think you answered my q without meaning too. :(
[19:32:58] <fleabay> opps :)
[19:33:20] <fleabay> oops x2
[19:33:23] <fleabay> oh boy
[19:33:39] <js> gsnedders: hm, so they basically rewrote it from scratch?
[19:33:44] <Layl> js, I've already heard of people using emscripten with Rust
[19:33:47] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[19:33:47] <js> if that's the case, I maybe should have another look
[19:33:56] <aidanhs> they added the converted as a pass into llvm
[19:33:59] <Layl> did anything happen that it's not possible anymore?
[19:33:59] <aidanhs> *converter
[19:34:02] <rkruppe> js: Probably not from scratch. Just translated the LLVM->JS code to C++
[19:34:07] <js> I tried fiddling around with it, but quickly gave up because the entire compiler was basically JavaScript
[19:34:25] <aidanhs> virtually nothing is javascript any more
[19:34:38] <js> sounds like pretty much a rewrite then :) nice, adding to my todo to take another look
[19:34:39] *** Joins: lutter1 (lutter@moz-7v7ueu.PUBLIC.monkeybrains.net)
[19:34:40] <gsnedders> js: https://kripken.github.io/emscripten-site/docs/building_from_source/LLVM-Backend.html
[19:34:48] <js> I assumed it's still javascript - wouldn't have expected that so much changes in so little time
[19:34:52] <aidanhs> even the optimizer is c++ now
[19:34:53] *** Quits: hmph (Mibbit@moz-9dl.dva.129.62.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:35:14] <js> aidanhs: ah, cool. back when I tried it, that needed Java. Yes. Java. Not JavaScript.
[19:35:17] *** Joins: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP)
[19:35:47] <Layl> looking at the language overview on github, only a subset is JS
[19:35:52] <js> https://github.com/kripken/emscripten/tree/master/src
[19:35:54] <aidanhs> er, pretty sure java has only ever been optional (if you want to use the closure compiler)?
[19:36:00] <js> that's still all javascript
[19:36:05] *** Quits: fabianvf (fabianvf@moz-onn.3sq.102.66.IP) (Connection closed)
[19:36:19] <aidanhs> that's the library code for implementing posix
[19:36:29] <js> ah, indeed.
[19:36:34] <aidanhs> https://github.com/kripken/emscripten-fastcomp
[19:36:42] <aidanhs> and https://github.com/kripken/emscripten-fastcomp-clang
[19:36:42] <js> the compiler code seems to be gone from that repo
[19:36:43] <rkruppe> js: Also, I think the old JS compiler still exists and is just deprecated
[19:36:48] <rkruppe> Oh, it's gone?
[19:36:56] *** Joins: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de)
[19:36:57] <js> can't find it there right now
[19:37:01] <aidanhs> nope, js compiler was recently removed with great vigour
[19:37:07] *** Joins: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com)
[19:37:13] <js> in any case, that's good news
[19:37:42] *** Joins: debuuu (debu@moz-hjbvi6.dyn.telefonica.de)
[19:38:27] *** Quits: derek_c (derek@moz-samgps.cit.cornell.edu) (Ping timeout: 121 seconds)
[19:39:19] *** Quits: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP) (Ping timeout: 121 seconds)
[19:39:26] *** Quits: Romster (Romster@moz-4g83e8.rev.eftel.com) (Ping timeout: 121 seconds)
[19:39:27] *** Joins: maximih (maximih@moz-491tpo.k49b.su5n.2002.2001.IP)
[19:39:51] *** Joins: jshs (jshs@moz-0d7ggk.dip0.t-ipconnect.de)
[19:41:57] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[19:42:06] *** Joins: fengshaun (fengshaun@moz-rf0qk5.cable.teksavvy.com)
[19:42:21] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[19:42:29] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[19:42:48] *** Joins: khades (Thunderbird@moz-2g3.vmt.173.31.IP)
[19:43:31] *** Quits: Raven67854 (Raven67854@moz-8fl3ql.unassigned.ntelos.net) (Quit: Leaving)
[19:44:06] *** Joins: lordblackfox (lordblackfo@moz-ic2.cp7.87.212.IP)
[19:44:29] *** Joins: eerie (eerie@moz-9ml73n.red.bezeqint.net)
[19:44:32] *** bentley is now known as bentley|away
[19:46:23] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[19:46:26] *** Quits: scialex (scialex@moz-j5mi8i.cs.brown.edu) (Quit: Leaving)
[19:46:30] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[19:46:46] <sphinxo> How can I get this to run? http://is.gd/twOU4O
[19:47:07] *** Quits: eerie_ (eerie@moz-9ml73n.red.bezeqint.net) (Ping timeout: 121 seconds)
[19:47:12] <sphinxo> What can a vec be indexed by?
[19:47:16] <fleabay> better q is how can you get someone to click on that
[19:47:37] <sphinxo> It's what playpen gives me
[19:47:41] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[19:47:44] <Ms2ger> usize
[19:47:59] <sphinxo> Cheers Ms2ger 
[19:48:03] <Ms2ger> Np
[19:48:08] *** Quits: datalus (Andrew@moz-28gbmi.res.rr.com) (Connection closed)
[19:50:32] *** Joins: ascarter (ascarter@moz-705hf8.wa.comcast.net)
[19:50:42] <aji> what does the ? before traits like Sized mean?
[19:50:48] *** Quits: kazagistar (kazagistar@moz-1jum1i.client.bresnan.net) (Quit: Leaving.)
[19:50:57] <FreeFull> aji: It relaxes a default bound
[19:51:06] *** Quits: grncdr (Adium@moz-m1g.e47.90.95.IP) (Quit: Leaving.)
[19:51:23] *** Parts: khades (Thunderbird@moz-2g3.vmt.173.31.IP) ()
[19:51:43] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[19:51:45] *** Quits: ascarter (ascarter@moz-705hf8.wa.comcast.net) (A TLS packet with unexpected length was received.)
[19:52:15] <kimundi> aji: Sized is a special trait that is considered to be bound-on per default. Eg, fn foo<T>() is really fn foo<T: Sized>(). ?Sized is syntax for _removing_ that default bound. IN a way its a anti-bound, since it allows more types to be put there rather than fewer
[19:52:42] *** Joins: ascarter (ascarter@moz-705hf8.wa.comcast.net)
[19:52:49] <FreeFull> kimundi's explanation is better
[19:52:54] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[19:53:09] <aji> ah, interesting
[19:53:40] *** Joins: grncdr (Adium@moz-m1g.e47.90.95.IP)
[19:54:13] *** Joins: lov2cod (Adium@moz-vbtsav.sdt7.vfco.0306.2602.IP)
[19:55:13] *** Joins: dstrbad (dstrbad@moz-bnlsva.dsl.iskon.hr)
[19:55:32] *** Joins: talchas (user@moz-8ubbgk.ca.comcast.net)
[19:55:36] *** Joins: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at)
[19:56:16] *** Joins: cakecatz (textual@moz-80p2u9.sannet.ne.jp)
[19:56:49] *** Joins: lov2cod1 (Adium@moz-igk6a3.u583.gjp6.0119.2620.IP)
[19:57:00] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[19:57:07] *** Joins: demilux (demilux@moz-73qa6c.wa.comcast.net)
[19:57:36] <geri> how is the progress on rust 1.0? can you hold the release date?
[19:57:57] <FreeFull> I believe it'll be released as planned
[19:58:15] *** Quits: lov2cod (Adium@moz-vbtsav.sdt7.vfco.0306.2602.IP) (Ping timeout: 121 seconds)
[19:58:34] *** Quits: eerie (eerie@moz-9ml73n.red.bezeqint.net) (Connection closed)
[19:59:32] *** Quits: grncdr (Adium@moz-m1g.e47.90.95.IP) (Quit: Leaving.)
[19:59:43] *** Quits: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at) (Ping timeout: 121 seconds)
[20:00:18] <Havvy> There's no reason for it not to be released on Friday at this point.
[20:00:33] *** Joins: errordeveloper (ilya@moz-l8r.m9l.11.94.IP)
[20:01:03] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[20:02:01] *** Joins: mkpankov (mkpankov@moz-ang.k4a.16.195.IP)
[20:02:22] *** Quits: lordblackfox (lordblackfo@moz-ic2.cp7.87.212.IP) (Ping timeout: 121 seconds)
[20:02:48] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[20:04:32] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[20:04:47] *** Quits: errordeveloper (ilya@moz-l8r.m9l.11.94.IP) (Ping timeout: 121 seconds)
[20:05:09] *** Quits: andresv (textual@moz-kvanfr.dyn.estpak.ee) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:05:44] <lahwran> :D
[20:05:51] <lahwran> I'm going to the release partyyyyy
[20:06:04] <lahwran> unrelatedly, how do I check if a file existed when I tried to open it?
[20:06:12] <kimundi> nathan7: Re: Why I asked about destructors earlier: https://github.com/rust-lang/rfcs/issues/1111
[20:06:28] <lahwran> it's kind of confusing, because it just returns a Result<File, Error>
[20:06:50] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[20:07:05] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[20:07:27] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[20:08:46] *** Joins: basicdays (basicdays@moz-akm.udc.47.174.IP)
[20:08:50] *** Joins: lov2cod (Adium@moz-vnqv37.sdt7.vfco.0306.2602.IP)
[20:10:22] *** Quits: lov2cod1 (Adium@moz-igk6a3.u583.gjp6.0119.2620.IP) (Ping timeout: 121 seconds)
[20:10:26] *** Joins: lov2cod1 (Adium@moz-5htdv6.u583.gjp6.0119.2620.IP)
[20:10:29] *** Joins: mib_88249y (Mibbit@moz-i7cb3r.fios.verizon.net)
[20:10:37] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[20:11:29] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[20:11:45] *** Quits: ascarter (ascarter@moz-705hf8.wa.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:11:50] *** Quits: tatref (tatref@moz-diagc7.abo.wanadoo.fr) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[20:11:57] *** Joins: nwin (textual@moz-7jj8l0.pools.vodafone-ip.de)
[20:12:48] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[20:12:52] *** Quits: lov2cod (Adium@moz-vnqv37.sdt7.vfco.0306.2602.IP) (Ping timeout: 121 seconds)
[20:13:11] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[20:13:12] *** Joins: tatref (tatref@moz-diagc7.abo.wanadoo.fr)
[20:14:07] <shep-home> Has anyone else noticed that `cargo test` ends up running benchmark methods?
[20:14:22] <XMPPwocky> with optimiziatoiasnts on?
[20:14:25] <XMPPwocky> optimizations
[20:14:35] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[20:14:41] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Quit: Leaving)
[20:14:57] <shep-home> XMPPwocky: seemingly without them, which is why I noticed cause my test was taking a lot longer
[20:15:02] <XMPPwocky> odd
[20:15:18] <shep-home> I added some panic! into my bench methods and they fire, sure enough
[20:16:36] *** Joins: zyphrus (David@moz-1a4.urk.98.101.IP)
[20:16:50] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[20:17:51] *** Quits: maximih (maximih@moz-491tpo.k49b.su5n.2002.2001.IP) (A TLS packet with unexpected length was received.)
[20:17:51] <nathan7> kimundi: mhm
[20:17:52] *** Quits: Nextra (Nextra@moz-3jjrit.ewe-ip-backbone.de) (Connection closed)
[20:18:16] *** Quits: sphinxo (Mibbit@moz-1072lv.dsl.as9105.com) (Quit: http://www.mibbit.com ajax IRC Client)
[20:18:23] <nathan7> kimundi: could lazy_static not use an UnsafeCell?
[20:18:40] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[20:18:47] <cakecatz> Hi!
[20:18:52] <kimundi> nathan7: hmm...
[20:19:07] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[20:19:13] *** Joins: lordblackfox (lordblackfo@moz-ic2.cp7.87.212.IP)
[20:19:17] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[20:19:36] <shep-home> huon: I dont suppose your recent changes to benchmarking could cause benchmarks to *always* run?
[20:19:41] *** Quits: mkpankov (mkpankov@moz-ang.k4a.16.195.IP) (Quit: Bye)
[20:19:47] <Derecho> what would be the easiest way of checking in a loop whether a certain key is pressed? in a terminal application.
[20:19:55] <XMPPwocky> what os?
[20:20:15] <Derecho> I'm looking at stdin's read function now with a buffer of size 1 but it doesn't seem to be getting anything
[20:20:17] <Derecho> linux
[20:20:22] *** Joins: mib_5uloqt (Mibbit@moz-tikco2.e-engura.org)
[20:20:26] <XMPPwocky> Derecho: stdin is line-buffered by default so
[20:20:34] <cakecatz> http://is.gd/TYN1En This code does not output.
[20:20:51] <Derecho> hmm the regular read() method is not supposed to be line buffered? it's not for files anyway.
[20:21:21] *** Joins: niconii (nicole@moz-5gqgia.frgo.qwest.net)
[20:21:57] <geri> whats the difference between .iter() and .into_iter() ??
[20:22:04] <simias> what's the best replacement for the old Timer interface?
[20:22:16] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[20:22:26] <kimundi> nathan7: Nope: http://is.gd/Edl57U
[20:22:39] *** Joins: datalus (Andrew@moz-28gbmi.res.rr.com)
[20:22:41] <niconii> geri: x.into_iter() consumes x, x.iter() doesn't
[20:22:41] <simias> geri: iter() borrows the value and returns an iterator to it
[20:22:49] <simias> into_iter moves the value
[20:22:56] *** Quits: dpanth3r (dinofelis@moz-ccmceo.ecje.j5k9.0f80.2a03.IP) (Quit: No Ping reply in 180 seconds.)
[20:23:08] <simias> it "transforms" the value into an iterator
[20:23:34] *** Joins: ai (ai@moz-pqofrl.sunline.net.ua)
[20:23:41] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[20:23:56] <geri> x.iter() borrows the value to the iterator?
[20:24:05] *** Quits: forgottenone (forgottenon@moz-j3l.lq5.40.176.IP) (Quit: Konversation terminated!)
[20:24:08] *** Joins: dpanth3r (dinofelis@moz-ccmceo.ecje.j5k9.0f80.2a03.IP)
[20:24:17] <kimundi> geri: it borrows x and returns borrowed references into x
[20:25:01] <swgillespie> cakecatz: I think llvm is optimizing out your program because it's undefined behavior
[20:25:13] <swgillespie> in particular, -1 as a usize
[20:25:15] <simias> and once the iterator is dropped you can use x again
[20:25:17] <swgillespie> and adding one to it
[20:25:24] <simias> with into_iter you can never use x again because it moved away
[20:25:42] <kimundi> geri: Eg, let v = vec![1, 2, 3]; v.iter().next().unwrap() returns a &i32 pointing at the first element, while v.into_iter().next().unwrap() returns the first element i32 itself
[20:26:10] <Dabo> cakecatz, I think the type of those literals are usize, so you are looping from an incredibly high number to 2
[20:26:18] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[20:26:20] <geri> simias: what is x?
[20:26:21] <Dabo> since -1 is always greater than 2, it never runs the loop?
[20:26:27] <swgillespie> cakecatz: ^
[20:26:31] <lahwran> where can I find an implementation of a high quality, reliable hash for use with seeding XorShiftRng from a file's contents?
[20:26:39] <lahwran> sha256 will do fine
[20:26:41] <XMPPwocky> Dabo: it should go around the other way
[20:26:43] <simias> there's no longer a Int trait implemented by all integer types?
[20:26:43] <XMPPwocky> Dabo: er
[20:26:45] <nathan7> kimundi: http://is.gd/j5ygXA
[20:26:45] <XMPPwocky> rusti: -1u32
[20:26:47] -playbot- <anon>:9:9: 9:14 error: unary negation of unsigned integers may be removed in the future
[20:26:47] -playbot- <anon>:9         -1u32
[20:26:47] -playbot- output truncated; full output at: http://bit.ly/1zOeojS
[20:26:58] <Dabo> rusti: println!("{:?}", -1..2)
[20:26:59] <XMPPwocky> rusti: let x: u32 = -1;
[20:27:00] -playbot- -1..2
[20:27:00] -playbot- ()
[20:27:01] -playbot- <anon>:9:22: 9:24 error: unary negation of unsigned integers may be removed in the future
[20:27:01] -playbot- <anon>:9         let x: u32 = -1;
[20:27:01] *** playbot was kicked by belew.mozilla.org (Channel flood triggered (limit is 5 lines in 3 secs))
[20:27:01] *** Joins: playbot (playbot@moz-1vk5qd.compute.amazonaws.com)
[20:27:04] <XMPPwocky> woops
[20:27:14] <lahwran> haha you can get it to do that?
[20:27:17] <simias> I used to use Int::max_value for my generic code but I now see that it's just a method implemented for all integer types without any trait as far as I can see
[20:27:18] <shep-home> nice
[20:27:30] <shep-home> simias: it was moved to the num crate
[20:27:32] <lahwran> XMPPwocky: any idea where I can find a library to generate sha256 hashes?
[20:27:33] <XMPPwocky> simias: it probably went to cargo
[20:27:37] <simias> ah!
[20:27:39] <XMPPwocky> lahwran: rust-crypto has it, iirc
[20:27:41] <simias> that's probably it
[20:27:50] <Dabo> Nevermind, look at this cakecatz / XMPPwocky : http://is.gd/a3Ivt6
[20:27:51] <XMPPwocky> lahwran: what are you doing, exactly?
[20:27:52] *** Joins: o_pax (o_pax@moz-5sm.4gm.2.176.IP)
[20:27:53] <nathan7> kimundi: could probably use atomic fences the right way to make it work with just that struct
[20:27:54] <kimundi> nathan7: same thing as before though, I need a static mut for this to be useful: http://is.gd/jyHvPU
[20:27:55] <ainieco> how do i download file from internet with rust?
[20:27:58] <lahwran> rust-crypto has big flashy warnings about "DO NOT TRUST THIS WARNING" which makes me feel sad
[20:28:00] <XMPPwocky> because xorshiftrng is not secure
[20:28:07] <lahwran> just a genetic algorithm
[20:28:07] <ainieco> HTTP
[20:28:09] <XMPPwocky> oh
[20:28:10] <lahwran> not anything secure
[20:28:12] <XMPPwocky> then yeah who cares
[20:28:19] <lahwran> so I can totally use an insecure implementation of sha256
[20:28:21] <XMPPwocky> lahwran: "DO NOT TRUST THIS WARNING"
[20:28:23] <lahwran> but sads
[20:28:27] <lahwran> ...
[20:28:33] *** Joins: tristanseifert (tristanseif@moz-4ld.2ga.178.99.IP)
[20:28:37] <XMPPwocky> "ONE WARNING ALWAYS LIES, ONE WARNING ALWAYS TELLS THE TRUTH"
[20:28:38] <lahwran> my partner, who is pair programming with me, also commented on my wording
[20:28:40] <lahwran> >.>
[20:28:45] <shep-home> XMPPwocky: I automat4ically add that to all warnings. Now errors on the other hand... :-)
[20:28:46] <geri> simias: simias	and once the iterator is dropped you can use x again ??? you refer to into_iter()?
[20:28:53] *** Quits: Rachael (Mibbit@moz-7hfo21.eastlink.ca) (Quit: http://www.mibbit.com ajax IRC Client)
[20:28:57] <Dabo> ainieco, might look at the hyper crate
[20:29:13] <kimundi> nathan7: unless you mean that I might be able to do this with internal mutability directly... hm...
[20:29:21] <Dabo> https://github.com/hyperium/hyper#example ainieco 
[20:29:23] <nathan7> kimundi: yes, using internal mutability
[20:30:01] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[20:30:21] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (A TLS packet with unexpected length was received.)
[20:30:30] <ainieco> Dabo: thanks
[20:30:41] <kimundi> nathan7: Interesting idea! HAve to try this later
[20:30:55] *** Quits: orangeshark (erik@moz-eelktv.44tj.56ot.0306.2602.IP) (Ping timeout: 121 seconds)
[20:31:04] <XMPPwocky> geri: no
[20:31:07] <nathan7> kimundi: I'm guessing this uses a Once currently, right?
[20:31:11] <kimundi> yep
[20:31:12] <XMPPwocky> geri: into_iter *destroys* the thing you call it on
[20:31:26] <XMPPwocky> geri: think of it as transforming what you called it on *into* an iterator
[20:31:30] *** Joins: orangeshark (erik@moz-us1b8u.44tj.56ot.0306.2602.IP)
[20:31:47] <geri> ok
[20:32:00] *** Quits: wooowe (Mibbit@moz-499ogh.wi.charter.com) (Quit: http://www.mibbit.com ajax IRC Client)
[20:32:05] <geri> into_iter moves ownership and you cant use it again
[20:32:11] <geri> iter() doesnt move ownership
[20:32:13] <geri> thats it
[20:32:29] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[20:32:37] <JustAPerson> playbot: std::mem::size_of::<std::cell::RefCell>()
[20:32:38] -playbot- <anon>:9:29: 9:47 error: wrong number of type arguments: expected 1, found 0 [E0243]
[20:32:38] -playbot- <anon>:9         std::mem::size_of::<std::cell::RefCell>()
[20:32:38] -playbot- output truncated; full output at: http://bit.ly/1KTK5JI
[20:32:38] <XMPPwocky> right, and iter_mut takes a mutable reference
[20:32:43] <Derecho> XMPPwocky: would you know of any other way?
[20:33:00] <XMPPwocky> Derecho: i know it's possible but forget how
[20:33:06] <Derecho> hah.
[20:33:13] <XMPPwocky> geri: so you can't mutate or use the collection at all if there's a .iter_mut()
[20:33:14] <Derecho> I'm not sure but I think something like C's getchar would work
[20:33:21] <XMPPwocky> you can't mutate or move if there's a .iter()
[20:33:22] <Derecho> I don't care much about keyup or keydown events
[20:33:28] <Derecho> I just need to know of 2 keys if they're pressed or not
[20:33:42] <XMPPwocky> and you can't mutate, use the collection in any way, or use it ever again, with .iter()
[20:34:18] <Diggsey> is there a way to prevent macro-hygiene for a particular identifier?
[20:34:20] <kimundi> XMPPwocky: into_iter*
[20:34:22] <geri> XMPPwocky: if you want to mutate use .iter_mut()?
[20:34:32] <XMPPwocky> er, yeah
[20:34:40] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[20:34:44] <XMPPwocky> geri: yes, if you want to mutate in place
[20:34:52] <XMPPwocky> .iter_mut is a great choice
[20:34:59] <geri> many rules :D
[20:35:18] <XMPPwocky> these are the same rules that apply to Rust in general
[20:35:28] <geri> yes
[20:35:36] <XMPPwocky> if &x is in scope, you can't mutate x or move it
[20:35:53] <XMPPwocky> if &mut x is in scope, you can only mutate  x through that &mut
[20:36:08] <XMPPwocky> and if (y = x) is in scope (if x has been moved out of), you can't use x at all
[20:36:36] *** Quits: lov2cod1 (Adium@moz-5htdv6.u583.gjp6.0119.2620.IP) (Ping timeout: 121 seconds)
[20:37:09] *** Quits: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca) (Ping timeout: 121 seconds)
[20:37:21] <niconii> (numbers just copy though rather than move)
[20:37:26] <XMPPwocky> .iter() is &; .iter_mut is &mut; and .into_iter() moves
[20:37:51] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[20:38:13] *** Quits: Rusky (russell@moz-mp2nkm.slkc.qwest.net) (Quit: Leaving.)
[20:38:32] *** Joins: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net)
[20:39:21] *** Joins: willem (willem@moz-facs2s.dynamic.upc.nl)
[20:39:26] *** Joins: Rusky (russell@moz-mp2nkm.slkc.qwest.net)
[20:40:07] <geri> XMPPwocky: into
[20:40:15] <geri> into_iter() mutates?
[20:40:41] *** Joins: srh (User@moz-g3qqf4.public.wayport.net)
[20:40:48] *** Joins: grncdr (Adium@moz-m1g.e47.90.95.IP)
[20:40:50] *** Joins: dpc_ (dpc@moz-t6gr4b.ca.comcast.net)
[20:40:52] <ainieco> Dabo: hymper client example gives me "stream did not contain valid UTF-8" when i'm trying to download image
[20:41:28] *** Quits: Rusky (russell@moz-mp2nkm.slkc.qwest.net) (Connection closed)
[20:41:54] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[20:41:56] *** Joins: rumpler (Mibbit@moz-7hfo21.eastlink.ca)
[20:42:11] *** Quits: rumpler (Mibbit@moz-7hfo21.eastlink.ca) (Quit: http://www.mibbit.com ajax IRC Client)
[20:42:12] *** Quits: datalus (Andrew@moz-28gbmi.res.rr.com) (Connection closed)
[20:42:23] *** Joins: RachBach (Mibbit@moz-7hfo21.eastlink.ca)
[20:42:33] <seanmonstar> ainieco: you can't read an image into a String
[20:42:38] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (A TLS packet with unexpected length was received.)
[20:42:42] <seanmonstar> Read into a Vec
[20:43:00] *** Joins: datalus (Andrew@moz-28gbmi.res.rr.com)
[20:43:26] *** Joins: kazagistar (kazagistar@moz-1jum1i.client.bresnan.net)
[20:43:29] <ainieco> seanmonstar: i'd like to save that image to file, how can i do it?
[20:43:36] <Dabo> ainieco, You can use .read_to_end() to a vec instead of to a string
[20:43:46] <geri> XMPPwocky: is that allowed? for mut num in nums.into_iter() {
[20:44:00] *** Joins: Rusky (russell@moz-mp2nkm.slkc.qwest.net)
[20:44:02] <Dabo> ainieco, Probably open a file, then use std::io::copy(response, file)
[20:44:13] <nathan7> Kingsquee: http://is.gd/XdQK5b
[20:44:16] <nathan7> Kingsquee: welp, sorry
[20:44:16] <seanmonstar> ainieco: there's io::copy. You can copy the response into a File
[20:44:18] <nathan7> kimundi: http://is.gd/XdQK5b
[20:44:20] <talchas> geri: yeah, that's like for x in nums.into_iter() { let mut num = x; ... }
[20:44:23] <ainieco> seanmonstar: Dabo: thanks, let me try
[20:44:31] <nathan7> kimundi: I'm having lifetime issues, but this is looking pretty good
[20:44:34] *** Quits: chc4 (chc4@moz-mjph4c.ma.comcast.net) (Ping timeout: 121 seconds)
[20:44:52] <jshs> Derecho: the line buffering is (also) done by your terminal or operating system
[20:45:00] <geri> talchas: is there a way to point x to the beginning after that?
[20:45:03] *** Joins: bkircher (bkircher@moz-hd45qg.dip0.t-ipconnect.de)
[20:45:16] <talchas> geri: hmm? x isn't a pointer
[20:45:17] *** Quits: Jackneill (Jackneill@moz-dqu8i4.pool.digikabel.hu) (Ping timeout: 121 seconds)
[20:45:31] <talchas> if nums is a Vec<Foo>, x is Foo
[20:45:32] *** Quits: mib_5uloqt (Mibbit@moz-tikco2.e-engura.org) (Quit: http://www.mibbit.com ajax IRC Client)
[20:45:38] <jshs> Derecho: you need to invoke a platform-dependent interface to configure it differently
[20:45:54] <geri> talchas: iterator?
[20:46:00] *** Joins: mkpankov (mkpankov@moz-7h8.k4a.16.195.IP)
[20:46:39] <talchas> the iterator returned from nums.into_iterator() is something implementing Iterator<Item=Foo>
[20:46:53] <Kingsquee> nathan7: np
[20:47:07] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[20:47:14] <geri> talchas: where is no way to reset the iterator to the beginning?
[20:47:14] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[20:47:25] <talchas> geri: in general no
[20:47:30] <Derecho> jshs: so I need to tell the terminal not to wait for enter?
[20:47:36] <talchas> iterators are not pointers
[20:47:37] <jshs> Derecho: yes
[20:47:56] <Derecho> hmm.
[20:48:00] <simias> I'm trying to #[derive(Clone,Copy)] in a struct which contains function pointers and I get the following error
[20:48:03] <simias> error: the trait `core::clone::Clone` is not implemented for the type `fn(&mut cartridge::Cartridge, u16, u8)`
[20:48:09] <Derecho> I'll have a look at that then.
[20:48:14] <Derecho> another question
[20:48:15] <simias> why is that and how can I fix it?
[20:48:34] *** Joins: areski (areski@moz-adq529.user.ono.com)
[20:48:35] <Derecho> how do I sleep for 2 microseconds? there's std::thread::sleep_ms() but no sleep_us()
[20:48:52] *** Joins: p1start (p1start@moz-nftjhe.org)
[20:49:01] *** Quits: srh (User@moz-g3qqf4.public.wayport.net) (Quit: Leaving)
[20:49:03] <lahwran> I have a Vec<u8> that is known to be long enough. I want to take its contents and truncate/reinterpret them as [u32; 4]?
[20:49:13] <lahwran> err. accidentally a words. How do I*
[20:49:16] <XMPPwocky> Derecho: that's very difficult and often impossible on certain OSes
[20:49:19] <lahwran> XMPPwocky: any idea ^?
[20:49:29] <Dabo> simias, currently function pointers don't implement Clone I'd guess?
[20:49:37] <Dabo> I'm not sure why they wouldn't, but it seems to be the case
[20:49:39] *** Joins: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca)
[20:49:42] <rkruppe> simias: It's because function pointers don't implement Clone and I don't think you can fix it, just work around it by implementing Clone manually
[20:49:42] <Derecho> I don't see why it'd be impossible
[20:49:46] <Derecho> any microcontroller can do it :p
[20:49:48] <lahwran> anyone?
[20:50:02] <shep-home> Dabo: not sure if this is why, but fn pointers *can* be loaded from a dynamic library
[20:50:07] <Derecho> well. ok I don't necessarily need to wait for 2 microseconds. I want something to happen at 500kHz :p
[20:50:09] <Hannibal_Smith> Derecho, nanosleep on Linux, normal Sleep on Windows
[20:50:14] <Derecho> so a timer that kicks off a function also works
[20:50:21] <shep-home> but really that's more a reason to have ownership on fn pointers
[20:50:24] <seanmonstar> ainieco: there's an example in examples/client.rs
[20:50:37] <rkruppe> shep-home: I don't know why that would be a reason not to implement Clone, they implement Copy just fine
[20:50:37] <Derecho> Hannibal_Smith: cheers, that seems to be in the docks
[20:50:42] <mewp> How can I avoid problems with variables' lifetime in the following code?: http://is.gd/46WXCf
[20:50:54] <shep-home> rkruppe: oh. interesting!
[20:50:59] <ainieco> seanmonstar: yeah, already got it to work, thanks
[20:51:10] <simias> rkruppe: ah. Okay then
[20:51:11] <rkruppe> shep-home: I think it's just that fn pointers are built in while Clone is a library type, so the compiler generates all impls but doesn't know about Clone
[20:51:14] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[20:51:14] <simias> thakns
[20:51:19] <ainieco> seanmonstar: i wonder why copy requires source as mutable, why does it need to mutate source?
[20:51:25] <shep-home> that's probably just an oversight then. if so, maybe simias can get a commit into Rust 1.0 ;-)
[20:51:46] <seanmonstar> ainieco: because reading needs mutable
[20:51:50] <shep-home> rkruppe: I thought that Copy required Clone nowadays
[20:51:57] <shep-home> or did that get nixed?
[20:52:20] <ainieco> seanmonstar: it does not, hence reading is different from writing
[20:52:24] <lahwran> I'm getting drowned in other conversation :(
[20:52:25] <talchas> shep-home: I believe it does, but there may be shenanigans around builtin types that have infinite variations
[20:52:28] <lahwran> as is mewp :(
[20:52:33] <Dabo> ainieco, reading from something mutates the reader, because it advances the current position in the data
[20:52:36] <seanmonstar> ainieco: a reader on a socket changes the socket state. You can't read twice and get the same thing
[20:52:38] <rkruppe> shep-home: It does indeed. Seems like fn types are too special for that
[20:52:49] <Dabo> the more you read, you get different data when you read again - thus it does actually change the state of the reader
[20:52:55] <ainieco> Dabo: seanmonstar ah, got it, thanks for an explanation
[20:53:02] <shep-home> lahwran: how much unsafe do you want to write? :-)
[20:53:39] <simias> damn, I keep encountering new errors I'm not understanding
[20:53:39] <simias> src/resampler/worker.rs:36:26: 36:44 error: the value of the associated type `Output` (from the trait `core::ops::Add`) must be specified [E0191]
[20:53:43] <simias> src/resampler/worker.rs:36         let range: T   = Integer::max_value();
[20:53:51] *** Quits: bkircher (bkircher@moz-hd45qg.dip0.t-ipconnect.de) (Quit: )
[20:53:54] <simias> I don't understand that at all
[20:53:57] <lahwran> shep-home: none
[20:53:59] <rkruppe> shep-home, simias: Actually it seems function pointers *do* implement Clone now: http://is.gd/hgFVuk
[20:54:06] <Dabo> simias, could you paste code?
[20:54:13] <simias> rkruppe: ah, my compiler might not be up to date
[20:54:28] <shep-home> lahwran: then you might be out of luck :-)
[20:54:40] <lahwran> can't you reinterpret arrays of integers without unsafe code?
[20:54:42] <lahwran> I don't remember how
[20:54:52] <talchas> lahwran: no
[20:54:57] <lahwran> oh.
[20:54:59] <talchas> byteorder may have stuff to do that
[20:55:01] <simias> Dabo: it's https://github.com/simias/gb-rs/blob/master/src/resampler/worker.rs
[20:55:08] <shep-home> you can change the signedness
[20:55:09] <talchas> but I'm not sure
[20:55:09] <lahwran> oh, unsigned integers. 
[20:55:16] <simias> except that code doesn't build anymore, I'm rewriting it to use num the num crate
[20:55:27] <simias> so I'm using num::integer::Integer instead of std::num::Int
[20:55:41] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[20:56:05] *** Quits: dstrbad (dstrbad@moz-bnlsva.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[20:56:14] <Dabo> lahwran, I might be completely wrong and missing things, but isn't Vec stored somewhere on the heap while fixed sized arrays are stored on the stack?
[20:56:20] *** Joins: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at)
[20:56:24] <lahwran> yes
[20:56:42] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Quit: Konversation terminated!)
[20:56:53] <shep-home> lahwran: I wrote this recently https://github.com/shepmaster/twox-hash/blob/master/src/number_streams.rs
[20:57:12] <shep-home> given a &[u8], you can get an iterator of numbers
[20:57:22] *** Quits: cakecatz (textual@moz-80p2u9.sannet.ne.jp) (Quit: Textual IRC Client: www.textualapp.com)
[20:57:28] <shep-home> I only implemented u32 / u64 cause that's all I needed
[20:57:32] <lahwran> I want to go from &[u8] to &[u32]
[20:57:46] <lahwran> also I don't really care if it's the same memory I guess
[20:57:49] <simias> Dabo: fixed size arrays are stored wherever you store them
[20:57:52] <lahwran> I should have realized and said that sooner
[20:57:52] <Dabo> simias, might try adding an `Add<Output=T>` bound to T? Just a guess
[20:57:54] <jshs> lahwran: alignment issues
[20:57:57] <simias> Vec are always on the stack though (afaik)
[20:58:06] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[20:58:21] <Dabo> simias, yes, but the raw [x; n] without a Box is stored on the stack
[20:58:30] <simias> unless it's static
[20:58:57] <Dabo> simias, then it's an &'static [x; n] though, not just [x; n]
[20:59:05] *** Quits: espadrine (tyl@moz-l019mn.fbx.proxad.net) (Ping timeout: 121 seconds)
[20:59:09] *** Quits: w4ffles (textual@moz-34v1r4.res.rr.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:59:10] <simias> I will try your syntax but then the compiler also complains about error: the value of the associated type `Output` (from the trait `core::ops::Rem`) must be specified
[20:59:28] <simias> and then Sub, Div, Mul, FromStrRadix...
[20:59:33] <simias> that's a lot of noise
[20:59:43] <Dabo> hm
[20:59:50] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[21:00:26] *** Quits: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at) (Ping timeout: 121 seconds)
[21:00:41] <Dabo> simias, wait, where are you getting the Int type? I can't seem to find it anywhere in the docs
[21:01:03] <simias> it's Integer now
[21:01:07] <simias> in the num crate
[21:01:15] <simias> http://doc.rust-lang.org/num/num/integer/trait.Integer.html
[21:01:25] * mewp tries asking again:
[21:01:27] <mewp> How can I avoid problems with variables' lifetime in the following code?: http://is.gd/46WXCf
[21:02:07] <Derecho> Hannibal_Smith: thanks, found usleep in libc and that seems to do the trick :)
[21:02:16] <Dabo> simias, ahh, ok
[21:02:34] <Dabo> With the definition of the Integer type, it shouldn't be having those errors I wouldn't think
[21:02:46] *** Quits: Hannibal_Smith (nico@moz-hacth9.retail.telecomitalia.it) (Quit: Leaving)
[21:02:50] <Dabo> Since NUm implements Add<Output=Self> + Sub<Output=Self> + ...
[21:02:54] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[21:03:05] <Dabo> simias, are you using an older version that could be updated?
[21:03:32] <simias> Dabo: older version of what? rustc?
[21:03:41] <Dabo> simias, the num crate
[21:03:51] <simias> I thought I had the latest version
[21:03:54] <simias> let me check
[21:04:02] <simias> num   = "0.1.24"
[21:04:22] <Dabo> oh, hm
[21:04:22] *** Joins: csherrat_ (textual@moz-357qdq.cable.teksavvy.com)
[21:04:34] <simias> maybe I'm missing an use statement
[21:05:28] *** Quits: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se) (Ping timeout: 121 seconds)
[21:05:56] <Dabo> simias, the code on github seems to fail for me with a different error, could you possibly upload a gist of the code which does give that error?
[21:06:16] *** Quits: lordblackfox (lordblackfo@moz-ic2.cp7.87.212.IP) (Ping timeout: 121 seconds)
[21:06:20] <Dabo> er, it seems to be a dependency failing 
[21:06:41] <simias> Dabo: I can
[21:06:41] <shep-home> mewp: the return value from the call to `spawn` must also have the 'static lifetime
[21:06:50] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[21:06:57] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[21:07:03] <shep-home> but, when you call `iter`, you have a reference to `a` or `b`
[21:07:31] <mewp> shep-home: that I know. I've found out that if I use cloned() on the iterators, it works (for ints, at least)
[21:07:42] <shep-home> and those references will die as soon as the thread does, so the return value would become invalid
[21:08:33] <mewp> but I've been wondering whether there's a better method to do that
[21:08:34] <shep-home> mewp: :`cloned`? or `clone`?
[21:08:37] <simias> Dabo: https://github.com/simias/gb-rs/tree/num-error
[21:08:40] <simias> that one
[21:08:41] <mewp> Iterator::cloned()
[21:08:47] <simias> is where I'm at in my rework
[21:08:51] <mewp> == .iter().map(|x| x.clone())
[21:08:59] *** Quits: basicdays (basicdays@moz-akm.udc.47.174.IP) (Quit: I'm out)
[21:09:08] *** Quits: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca) (Connection closed)
[21:09:11] <kimundi> == .iter().map(Clone::clone)
[21:09:35] <shep-home> mewp: I know what it is :-), but I can't make it work with `cloned`. care to gist that version?
[21:09:45] <mewp> http://is.gd/Ep31o2
[21:09:49] * kimundi just loves killing lambda expressions where possible
[21:09:51] <simias> thank you for looking at it by the way
[21:10:04] <Dabo> simias, no problem
[21:10:18] *** Joins: mindtree (Mitch@moz-2lb.efi.240.116.IP)
[21:10:19] <shep-home> kimundi: yeah, I wish it was a bit easier to do so when lifetimes come into play
[21:10:28] <kimundi> ah, true
[21:10:36] *** Joins: kalail (uid62296@moz-5ck9vu.charlton.irccloud.com)
[21:10:44] *** Quits: tristanseifert (tristanseif@moz-4ld.2ga.178.99.IP) (Connection closed)
[21:11:27] *** Joins: tyrion-mx (tyrion@moz-th44la.torservers.net)
[21:11:56] <Dabo> simias, it seems that using <T as Integer>::max_value() instead fixes those type errors
[21:11:58] <mewp> I forgot that I've also used collect() inside the thread to make it work.
[21:12:09] <Dabo> but then the max_value() method no longer exists on Integer
[21:12:23] <mewp> (instead of collecting results outside, like in my previous example)
[21:12:33] <simias> Dabo: no longer exists? What do you mean?
[21:12:44] <Dabo> simias, the trait no longer has a max_value method from what I can tell
[21:12:50] <Dabo> error: unresolved name `Integer::max_value`
[21:12:59] <Dabo> for `let range = <T as Integer>::max_value();`
[21:13:00] <simias> ah, indeed
[21:13:19] <simias> ah yeah, I missed that
[21:13:28] <simias> grrrrmbl
[21:13:31] <dpc_> Does rust have (maybe as a library), a lockless fifo?
[21:13:35] <tilpner> Shouldn't 3`let range = T::max_value();` work by now?
[21:13:46] <tilpner> (I think it did for other examples)
[21:13:52] <dpc_> Actually, a list with with FIFO semantics.
[21:14:03] *** Joins: lordblackfox (lordblackfo@moz-ic2.cp7.87.212.IP)
[21:14:08] <mindtree> tilpner: do you mean T::MAX_VALUE? as in assoc constants? I can't imagine they're stable yet
[21:14:08] * simias pesters about stuff that gets removed from std and gets lost in the process
[21:14:20] <simias> tilpner: I couldn't find a trait for T that implements max_value
[21:14:21] <mindtree> associated consts*
[21:14:26] <simias> every integer type implements max_value
[21:14:33] <Dabo> tilpner, yes, I just used <T as Integer> after I got the `unresolved name `Integer::max_value`` when using T::
[21:14:39] <Dabo> but T should work fine
[21:14:39] <simias> but there doesn't seem to be a trait for that
[21:14:59] <mindtree> simias: perhaps they're talking about the `num` crate
[21:14:59] <nathan7> kimundi: I'm not sure how to make my approach fit lazy_static
[21:15:25] *** Quits: TobiasFar (tm@moz-kknfd6.flosoft-servers.net) (Quit: ZNC - http://znc.in)
[21:15:31] <tilpner> playbot: trait A { fn a() -> i32 { 42 } } fn foo<T: A>(t: T) { T::a(); }
[21:15:32] -playbot- ()
[21:15:33] *** Quits: frankmcsherry (frankmcsher@moz-87vov1.dyn.telefonica.de) (Connection closed)
[21:15:44] <kimundi> dpc_: http://doc.rust-lang.org/std/collections/struct.VecDeque.html ?
[21:15:46] <simias> mindtree: there doesn't seem to be a max_value at all in the num crate
[21:15:55] *** Joins: frankmcsherry (frankmcsher@moz-87vov1.dyn.telefonica.de)
[21:16:01] <kimundi> nathan7: hm?
[21:16:10] <nathan7> kimundi: but I'm working on it
[21:16:13] <tilpner> Dabo - I was just referring to the calling syntax. <A as B>::c() used to be necessary, but I think it works in most (all) cases without that if the trait is visible now. :)
[21:16:30] *** Joins: dstrbad (dstrbad@moz-bnlsva.dsl.iskon.hr)
[21:16:40] <Dabo> tilpner, yep - I'm saying I just did it with < as Integer> to make the error more verbose :P
[21:16:41] <simias> tilpner: oh right, that's an other issue, maybe my code is a bit redundant
[21:16:58] <mindtree> ohhh.
[21:17:16] <simias> so there's no way to get the range of a generic integer anymore?
[21:17:20] <simias> brilliant
[21:17:31] <jshs> num has a Bounded trait with {min,max}_value()
[21:17:36] <simias> ah
[21:17:36] *** Quits: erz (erz@moz-n26c5c.broadband.corbina.ru) (Connection closed)
[21:17:38] *** Quits: kmicu (kmicu@moz-uga.edn.218.91.IP) (Client exited)
[21:17:54] <simias> ah! looks like it
[21:17:57] *** Joins: erz (erz@moz-n26c5c.broadband.corbina.ru)
[21:18:05] *** Quits: lordblackfox (lordblackfo@moz-ic2.cp7.87.212.IP) (Ping timeout: 121 seconds)
[21:18:11] *** Quits: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se) (Quit: bajs)
[21:18:24] *** Joins: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se)
[21:18:24] <simias> I'll have to add a new entry to my litany of trait specification
[21:18:26] <simias> thank you
[21:18:32] <jshs> which I just found by searching for "max_value" in their docs :P
[21:19:12] *** Joins: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net)
[21:20:05] *** Quits: frankmcsherry (frankmcsher@moz-87vov1.dyn.telefonica.de) (Ping timeout: 121 seconds)
[21:20:07] *** Joins: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca)
[21:20:12] <simias> jshs: I prefer to complain on #rust
[21:20:18] <jshs> heh
[21:20:19] <simias> and see, it works just as well! :)
[21:20:22] <simias> Copy + Send + Default + Integer + Bounded + FromPrimitive + 'static
[21:22:03] <Derecho> hmm I thought I could use std::io::stdio::stdin_raw() but that's not in nightly, nightly moved stdin to std::io and there's no raw one
[21:22:17] <nathan7> I wish we had `trait Foo = TraitA + TraitB + TraitC;`
[21:22:24] <nathan7> like type for regular types
[21:22:25] *** Joins: lordblackfox (lordblackfo@moz-ic2.cp7.87.212.IP)
[21:22:37] *** Joins: brson (brson@moz-iu7.mao.34.45.IP)
[21:22:38] *** ChanServ sets mode: +ao brson brson
[21:22:38] <reem> +1
[21:23:00] <eddyb> once DST merges, it might be feasible
[21:23:02] <dpc_> kimundi: It isn't lockless, is it?
[21:23:06] <Fenhl> can someone help me with this? http://is.gd/AxuWEt
[21:23:11] <nathan7> eddyb: wut?
[21:23:18] <nathan7> eddyb: don't we have DST already
[21:23:33] <eddyb> nathan7, reem: very little code depends on trait objects being singular
[21:23:43] <eddyb> I checked it when implementing DST
[21:23:47] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[21:24:03] <eddyb> lol no have you ever seen Rc<Trait> working?
[21:24:09] <eddyb> *that* is DST
[21:24:10] <kimundi> dpc_: Uh, what do you mean exactly? There are no multithreading primitives involved, its like a Vec
[21:25:27] <Fenhl> it says there's a conflicting implementation in core, which I assume to be the blanket `impl From<T> for T`. But then how can I do something generic like this? Is there a != operator or something that I'm missing?
[21:25:35] <Dabo> Derecho, The current stdin() looks like the equivalent of the old stdin_raw()
[21:26:35] *** Quits: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca) (Connection closed)
[21:26:46] <nathan7> playbot: fn f() { struct Foo; }; Foo
[21:26:47] -playbot- <anon>:9:33: 9:36 error: unresolved name `Foo`
[21:26:47] -playbot- <anon>:9         fn f() { struct Foo; }; Foo
[21:26:47] -playbot- output truncated; full output at: http://bit.ly/1P99uoL
[21:26:52] <nathan7> good, good…
[21:27:16] *** Joins: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca)
[21:27:17] <Dabo> Derecho, io::stdin().lock() is the equivalent of the old io::stdio::stdin(), and io::stdin() is the equivalent of the old io::stdin_raw()
[21:27:36] <Derecho> Dabo: I just checked but it does seem to be buffered like jshs said. as in, it waits for enter before successfully reading characters
[21:27:49] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[21:27:49] <Derecho> ah lock. hmm.
[21:27:59] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[21:28:25] *** Joins: saml_ (saml@moz-rkfmct.res.rr.com)
[21:28:47] *** Quits: datalus (Andrew@moz-28gbmi.res.rr.com) (Connection closed)
[21:29:20] *** Joins: datalus (Andrew@moz-28gbmi.res.rr.com)
[21:29:24] <Derecho> I tried lock, still waits for an enter keyu
[21:29:26] <Derecho> -u
[21:29:31] *** Quits: o_pax (o_pax@moz-5sm.4gm.2.176.IP) (Client exited)
[21:30:06] <Dabo> Derecho, ah, no, yeah
[21:30:48] <nathan7> kimundi: https://github.com/Kimundi/lazy-static.rs/compare/master...nathan7:heapless
[21:31:12] <nathan7> kimundi: unfortunately requires #![feature(core)] to use statically-initialised UnsafeCell
[21:31:18] *** Quits: dawehner (quassel@moz-jms.k95.62.64.IP) (Ping timeout: 121 seconds)
[21:31:18] *** Quits: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca) (Ping timeout: 121 seconds)
[21:31:32] <TankC> I'm having a difficult time coercing a &String into a &'a str... Some(val) => &(*val), None => ""
[21:31:33] *** Quits: RachBach (Mibbit@moz-7hfo21.eastlink.ca) (Quit: http://www.mibbit.com ajax IRC Client)
[21:31:50] <TankC> it tells me my match arms have incompatible types
[21:31:52] *** Joins: paratr00pr (amiraj@moz-al7.tj5.186.1.IP)
[21:31:54] <simias> welp, the build is broken?
[21:31:55] <simias> configure: error: unsupported target triples "x86_64-unknown-linux-gnu" found
[21:32:01] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[21:32:02] <reem> eddyb: what do you mean by a trait object being “singular”
[21:32:08] *** Joins: dawehner (quassel@moz-jms.k95.62.64.IP)
[21:32:11] <nathan7> TankC: val is an &String?
[21:32:20] <TankC> nathan7, yes
[21:32:24] *** Parts: paratr00pr (amiraj@moz-al7.tj5.186.1.IP) ()
[21:32:25] <Dabo> Derecho, hm. It seems stdio::stdin_raw() still exists, but isn't public, I'm not sure the reason
[21:32:26] <nathan7> TankC: try &**val
[21:33:07] <nathan7> TankC: for `x: &String`, `&*x: &String`, which *should coerce* to &str, but it's a no-op either way
[21:33:19] <nathan7> TankC: `&**x: &str`, however
[21:33:30] <TankC> nathan7, thank you so much.. that took way too much of my time
[21:33:48] <nathan7> the bigger question is why Deref coercion didn't kick in
[21:34:12] <kimundi> nathan7: thanks! Too bad about the feature gate though... Maybe it would be possible to add a cargo cfg so that it uses heap allocations on stable, and none otherwise?
[21:34:46] <Derecho> Dabo: I've looked a bit broader now and it's an issue in C and C++ too. it's OS-specific, you need to turn off the buffering
[21:34:59] <Dabo> ah, ok
[21:35:01] <Derecho> I'm now looking into whether I can do that with an escape code or whether I need to go for something like curses or conio
[21:35:23] <Derecho> so much for trying to hack it in, in a simple manner :p
[21:35:31] <Dabo> I guess that kind of makes sense, as most terminals do allow you to backspace and rewrite before entering
[21:36:05] <nathan7> Derecho: I have termios.rs for this, but it's unfortunately waaaaay outdated currently :(
[21:36:08] *** Quits: brson (brson@moz-iu7.mao.34.45.IP) (Quit: leaving)
[21:36:10] *** Joins: tkellen (tkellen@moz-f5ji1n.vt.comcast.net)
[21:36:26] *** Joins: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP)
[21:36:29] <Derecho> nathan7: hmm so it wouldn't compile then?
[21:38:44] *** Quits: dellavg (dellavg@moz-9lesb5.retail.telecomitalia.it) (Ping timeout: 121 seconds)
[21:39:08] <nathan7> Derecho: nope :(
[21:39:27] *** Quits: lordblackfox (lordblackfo@moz-ic2.cp7.87.212.IP) (Ping timeout: 121 seconds)
[21:39:28] <Derecho> I'll continue searching. I'm sure I'll find a solution.
[21:39:32] *** Joins: mib_k297k7 (Mibbit@moz-f9eg6d.fios.verizon.net)
[21:39:38] <Derecho> worst comes to worst, I'll get Piston or something and use the key events xD
[21:40:15] *** Joins: zzmp (zzmp@moz-4ds.959.14.76.IP)
[21:40:28] *** Quits: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP) (Ping timeout: 121 seconds)
[21:40:42] *** Joins: thiblahute (tsaunier@moz-rkc6r5.fbx.proxad.net)
[21:40:53] <zzmp> How can I create a dynamically sized array on the heap (Boxed)?
[21:41:15] *** Joins: detsak (darren@moz-804egb.dyn.optonline.net)
[21:41:19] <zzmp> I don't want a vector, because once created it will not change size.
[21:41:46] <kimundi> zzmp: create a vector, use the method for turning it into a Box<[T]>
[21:42:11] <zzmp> thanks kimundi
[21:42:15] <mib_k297k7> into_boxed_slice() is that method
[21:42:26] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[21:42:31] <zzmp> found it
[21:42:39] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[21:43:19] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[21:43:20] <reem> zzmp: note that into_boxed_slice will truncate the allocation to the *length* not the capacity of the Vec
[21:43:27] <mib_k297k7> Would someone mind telling me why this displeases the compiler? https://gist.github.com/anonymous/4d6a200b342bc4005e42 
[21:43:35] *** Joins: Romster (Romster@moz-4g83e8.rev.eftel.com)
[21:43:49] <zzmp> like shrink_to_fit, docced
[21:43:50] *** Joins: RachBach (Mibbit@moz-7hfo21.eastlink.ca)
[21:46:16] *** Joins: lemavri (lemavri@moz-42ek1g.baf.movistar.cl)
[21:46:41] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[21:46:49] *** Quits: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP) (Ping timeout: 121 seconds)
[21:47:21] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (Ping timeout: 121 seconds)
[21:47:36] *** Quits: Kxepal832 (Miranda@moz-fq6oo0.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[21:48:01] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[21:49:27] *** Joins: alinab (alina@moz-lhifj2.alinab.org)
[21:49:34] *** Joins: Kxepal (Miranda@moz-hdh74i.pppoe.mtu-net.ru)
[21:50:05] *** Quits: alinab (alina@moz-lhifj2.alinab.org) (Quit: leaving)
[21:50:21] *** Quits: tkellen (tkellen@moz-f5ji1n.vt.comcast.net) (Client exited)
[21:51:02] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[21:51:45] *** Quits: jws (jsalter@moz-q98cl6.cable.virginm.net) (Client exited)
[21:52:03] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[21:52:42] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[21:52:50] *** Quits: dpc_ (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[21:52:58] *** Joins: dpc_ (dpc@moz-t6gr4b.ca.comcast.net)
[21:53:39] *** Quits: nwin (textual@moz-7jj8l0.pools.vodafone-ip.de) (Quit: My Mac Mini has gone to sleep. ZZZzzz…)
[21:53:47] <dpc_> kimundi: To share it between threads, I'd have to wrap it in mutex or something.
[21:54:00] *** Joins: slashus2 (slashus2___@moz-dj7anc.res.rr.com)
[21:54:04] *** bentley|away is now known as bentley
[21:54:45] *** Quits: twipeD (wipeD@moz-81i1ii.dip0.t-ipconnect.de) (Connection closed)
[21:56:54] *** Quits: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[21:57:03] *** Quits: thiblahute (tsaunier@moz-rkc6r5.fbx.proxad.net) (Ping timeout: 121 seconds)
[21:57:06] *** Joins: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at)
[21:57:17] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[21:57:20] *** Quits: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com) (Ping timeout: 121 seconds)
[21:58:04] *** Joins: kgrandon (Adium@moz-cik1du.cust-83.exponential-e.net)
[21:58:10] *** Joins: tkellen (tkellen@moz-f5ji1n.vt.comcast.net)
[21:58:23] <kimundi> dpc_: ah, lockless but shared across threads. Afaik Rusts channel() types are based on such a queue
[21:59:31] <reem> dpc_: You want a lock free concurrent queue, std::sync::mpsc channels are one such implementation which allow multiple producers (mp) and a single consumer (sc).
[22:00:35] *** Quits: tkellen (tkellen@moz-f5ji1n.vt.comcast.net) (Client exited)
[22:00:43] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[22:00:57] *** bentley is now known as bentley|away
[22:01:05] <reem> (there are also separate fast paths in the implementation for spsc unbuffered queues and spsc buffered queues)
[22:01:14] *** Quits: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at) (Ping timeout: 121 seconds)
[22:01:19] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[22:02:36] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[22:02:50] *** Joins: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com)
[22:02:54] *** Quits: fleabay (Mibbit@moz-fdcruo.ip.windstream.net) (Quit: http://www.mibbit.com ajax IRC Client)
[22:06:17] <silven> What should I do if I want to do "x.and_then(...)" on x being &Option<T> ?
[22:06:32] *** Quits: JanC__ (janc@moz-l4rci6.dsl.scarlet.be) (Ping timeout: 121 seconds)
[22:06:38] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[22:06:39] <silven> "cannot move out of borrowed context" being the problem
[22:06:49] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[22:07:02] <reem> silven: x.as_ref().and_then(…)
[22:07:11] <reem> silven: as_ref converts &Option<T> to Option<&T>
[22:07:42] <silven> oh, I thought it only made Option<T> to Option<&T>
[22:07:56] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[22:08:18] <silven> The documentation sais "Converts from Option<T> to Option<&T>" but the type signature sais &'r, hmm
[22:10:01] *** Joins: james4k_ (james@moz-e6no8q.consolidated.net)
[22:10:07] *** Quits: krig (krig@moz-nf73fa.acc.umu.se) (Ping timeout: 121 seconds)
[22:10:10] *** Quits: lemavri (lemavri@moz-42ek1g.baf.movistar.cl) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:10:11] *** Joins: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca)
[22:10:41] *** Joins: Colglazier (uid64399@moz-118bsh.ealing.irccloud.com)
[22:10:44] *** Quits: james4k (james@moz-fm2a4v.consolidated.net) (Ping timeout: 121 seconds)
[22:10:51] <Fenhl> does no one have any ideas on how to solve the generic From implementation thing? http://is.gd/AxuWEt
[22:11:35] *** Quits: srjek (srjek@moz-gg7i72.ece.uic.edu) (Ping timeout: 121 seconds)
[22:11:58] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[22:14:03] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Ping timeout: 121 seconds)
[22:14:40] *** Joins: chromatome (chromatome@moz-2eks30.mc.videotron.ca)
[22:14:43] *** Quits: chromatome (chromatome@moz-2eks30.mc.videotron.ca) (Connection closed)
[22:15:32] *** Quits: dstrbad (dstrbad@moz-bnlsva.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[22:16:32] *** Quits: griff (griff@moz-bf2.sbd.199.62.IP) (Client exited)
[22:16:56] *** Quits: csherrat_ (textual@moz-357qdq.cable.teksavvy.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:17:20] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[22:17:57] *** Quits: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca) (Connection closed)
[22:17:59] *** Quits: ZenSword (ZenSword@moz-hlrta3.pools.vodafone-ip.de) (Quit: quit)
[22:18:28] *** Joins: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca)
[22:19:04] *** Joins: jbomo (dkd@moz-uol4mm.fios.verizon.net)
[22:20:06] <Derecho> how do I do a non-blocking read on stdin()? I don't want to wait for a character to be pressed
[22:20:54] *** Joins: chromatome (chromatome@moz-2eks30.mc.videotron.ca)
[22:21:22] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[22:22:07] *** Joins: Guest22 (textual@moz-v8ufgd.fibertel.com.ar)
[22:22:26] <Derecho> ok got it, already had termios stuff up, could just decrease VMIN
[22:22:39] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[22:22:41] *** Quits: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca) (Ping timeout: 121 seconds)
[22:24:30] <TankC> I don't quite understand the foo::<bar>() syntax.. where is that documented at?
[22:25:26] *** Joins: JanC__ (janc@moz-k7vuuu.dsl.scarlet.be)
[22:25:43] *** Quits: alonlevy (alon@moz-p48.q13.159.94.IP) (Ping timeout: 121 seconds)
[22:25:55] *** Joins: graphman (Mibbit@moz-lq868o.insa-toulouse.fr)
[22:26:03] *** Joins: adrn (Adrian@moz-o8r38e.or.comcast.net)
[22:26:41] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[22:26:59] *** Quits: brainproxy (michael@moz-9vjtig.mo.charter.com) (Ping timeout: 121 seconds)
[22:27:03] <simias> that's really, really strange: I have a function that gets called when I put a print statement in it, but apparently doesn't get called otherwise
[22:27:24] <simias> smells like undefined behaviour but I have the same behaviour in debug builds
[22:28:00] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[22:28:26] <bstrie> TankC: you know how you define a generic function like `foo<T>()`? what you're doing there is the same, except that the grammar doesn't allow `foo<T>()` to work as an expression, so we have to insert some arbitrary token to make it parseable.
[22:28:53] <bstrie> TankC: essentially it's calling a generic function where you're specifically giving the type of the generic parameter, instead of letting the compiler infer it for you
[22:29:14] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[22:29:45] <bstrie> simias: it's not undefined behavior, if a function doesn't do any externally-visible work then LLVM will happily optimize it away entirely
[22:30:29] <graphman> Hey, im new on rust and im facing a problem :/ I have a struct or lifetime 'a containing a hashmap of vec of lifetime 'a. When i want to put something on one of the vec i must init the vec before so i do sthing like dat : hashmap.insert("hey", & mut Vec::new()) but rust tells me that "error: borrowed value does not live long enough".  
[22:30:30] *** Quits: ainieco (ainieco@moz-ach.ksd.162.188.IP) (Quit: leaving)
[22:30:44] <graphman> Any one knows something about that ? 
[22:30:58] *** Joins: arBmind1 (Andreas@moz-1il8vu.adsl.alicedsl.de)
[22:31:02] <bstrie> graphman: do you have a small example of your code?
[22:31:10] <Colglazier> Could you send a paste of your code, graphman?
[22:31:14] *** Quits: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se) (Client exited)
[22:31:20] *** Quits: dpc_ (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[22:31:44] *** Quits: Douman (Douman@moz-35cmpg.dynamic.mts-nn.ru) (Quit: )
[22:31:59] *** Quits: kjanosz (kjanosz@moz-1ugcf5.eee8.gm72.41d0.2001.IP) (Ping timeout: 121 seconds)
[22:32:02] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[22:32:04] <graphman> https://gist.github.com/graphman65/69769eb59572ca9b3940#file-gistfile1-rs 
[22:32:07] *** Quits: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net) (Connection closed)
[22:32:28] *** Joins: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net)
[22:32:53] *** Colglazier is now known as Carl
[22:33:01] *** Carl is now known as coal
[22:33:20] *** coal is now known as carlcolglazier
[22:33:24] *** Quits: arBmind (Andreas@moz-8uf6vu.adsl.alicedsl.de) (Ping timeout: 121 seconds)
[22:34:19] *** Joins: kjanosz (kjanosz@moz-1ugcf5.eee8.gm72.41d0.2001.IP)
[22:34:22] *** Joins: ELD (textual@moz-mqboa7.co.comcast.net)
[22:34:47] <zzmp> How can I get an iterator on a boxed array? I amusing .into_sliced_box().iter().find(|&e| ...) and e is an Option.
[22:34:50] <simias> bstrie: the function reads from and then writes to a Cell
[22:34:55] <simias> so it does have a side effect
[22:34:55] <zzmp> Is it supposed to be an option?
[22:35:15] <simias> but it goes away (i.e. the Cell appears unmodified) unless I put a print statement in the function
[22:35:26] <simias> no idea what causes that but it worries me
[22:35:42] <bstrie> simias: better go ask on #rust-internals, then
[22:36:17] <simias> bstrie: problem is that I'm not sure how I can reproduce it in a simple example
[22:36:30] *** Quits: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net) (Ping timeout: 121 seconds)
[22:36:33] <simias> but yeah, I will try to understand what goes on
[22:36:45] *** Joins: fabianvf (fabianvf@moz-onn.3sq.102.66.IP)
[22:36:46] <graphman> Btw the as_ref() was just cause if was testing every thing : https://gist.github.com/graphman65/69769eb59572ca9b3940#file-gistfile1-rs
[22:37:42] *** Joins: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP)
[22:38:37] <bstrie> graphman: you have to think about who the owner of the Vec is. you're calling Vec::new, which creates a new Vec inside the `on` function, and then you're trying to store a reference to that Vec, but when the `on` function ends it's going to deallocate the Vec
[22:39:04] <bstrie> graphman: why not just store the Vec directly?
[22:39:39] <blaenk> hey anyone know if there's a library or something for joining url path components? like www.google.com and join blah/hehe/what to it. or should I try just using std Path?
[22:40:07] <bstrie> zzmp: I have never even heard of .into_sliced_box(), where is that function defined?
[22:40:17] <jshs> blaenk: Path is certainly not designed for that use case
[22:40:23] <blaenk> I'm aware, lol
[22:40:39] <Ms2ger> rust-url does urls
[22:40:43] <blaenk> I don't see anything there for this
[22:40:47] *** Quits: fabianvf (fabianvf@moz-onn.3sq.102.66.IP) (Ping timeout: 121 seconds)
[22:40:55] <Ms2ger> Perhaps file an issue
[22:40:57] <bstrie> does rust-url does url utility methods? I thought it was just for parsing
[22:41:08] <blaenk> yeah from the looks of it it's just parsing components etc
[22:41:44] *** Quits: choplin (choplin@moz-hkulcc.t6mc.g9m6.001a.240d.IP) (Ping timeout: 121 seconds)
[22:41:52] <graphman> hey thx bstrie i just change my code and just store the vec :D dunno why i was doing this i guess i was thinking the only was to store a mutable object was to store his ref 
[22:41:52] <blaenk> seanmonstar: you know about this? if rust-url lets you join url components?
[22:42:26] <blaenk> or should I just keep doing format!("{}/{}", a, b)
[22:42:32] <bstrie> graphman: http://is.gd/8sWsvg
[22:43:05] <seanmonstar> blaenk: i do not know
[22:43:06] <bstrie> graphman: np :)
[22:43:09] <blaenk> no worries
[22:43:43] *** Quits: fkaa (tundmatu@moz-501od2.business.telia.com) (Ping timeout: 121 seconds)
[22:43:55] <graphman> bstrie yep that's exactly what i did right now :) thx
[22:44:01] *** Joins: maximih (maximih@moz-obfk6e.k49b.su5n.2002.2001.IP)
[22:44:30] <seanmonstar> it may be that rust-url is a parser lib, and not a url manipulative lib
[22:44:37] <blaenk> yeah that's what I figured
[22:44:43] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[22:44:46] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[22:44:46] *** ChanServ sets mode: +o erickt
[22:44:48] *** Joins: Merovius (mero@moz-osg8mh.merovius.de)
[22:44:52] <Merovius> Hi everyone o/
[22:45:02] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[22:45:10] *** Quits: ELD (textual@moz-mqboa7.co.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[22:45:24] *** Quits: debuuu (debu@moz-hjbvi6.dyn.telefonica.de) (Ping timeout: 121 seconds)
[22:46:05] <Hyeon> Good morning
[22:46:10] *** Quits: Luqman (laden@moz-bjmiqc.csclub.uwaterloo.ca) (Ping timeout: 121 seconds)
[22:46:26] <Merovius> Small question: In http://doc.rust-lang.org/1.0.0-alpha/src/rustc/middle/graph.rs.html#82 the public method node_id has the same signature as get and only delegates to get -- so why are there two methods in the first place? Why not put the implementation in node_id and only use that throughout the code?
[22:46:32] <Merovius> (I am an absolute beginner to rust :) )
[22:46:34] *** Quits: adrn (Adrian@moz-o8r38e.or.comcast.net) (Quit: leaving)
[22:47:16] <Hyeon> Hold on
[22:47:41] <simias> what happened to the sleep function that took a Duration ?
[22:47:55] <Hyeon> simias: Duration is unstable so
[22:48:00] <Hyeon> it was replaced with
[22:48:03] *** Quits: maximih (maximih@moz-obfk6e.k49b.su5n.2002.2001.IP) (Ping timeout: 121 seconds)
[22:48:06] <Hyeon> sleep_ms for 1.0.0
[22:48:13] <simias> mmh
[22:48:26] <simias> that's not tremendously accurate
[22:48:34] *** Joins: logan_e (logan_e@moz-ltn.qg3.218.73.IP)
[22:48:38] <simias> no option for sub-ms sleep precision in stable rust?
[22:48:55] *** Joins: adrn (Adrian@moz-o8r38e.or.comcast.net)
[22:49:08] <Hyeon> Actually sleep function is basically not accurate
[22:49:15] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[22:49:18] <Hyeon> sleep(10ms) means
[22:49:27] <simias> I'm more worried about compounded drift
[22:49:36] <Hyeon> It is guaranteed to be woken up after 10ms
[22:49:40] <simias> but ok, that'll do
[22:49:46] <Hyeon> Yap
[22:50:35] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[22:50:52] *** Quits: kgrandon (Adium@moz-cik1du.cust-83.exponential-e.net) (Quit: Leaving.)
[22:51:15] *** Joins: lemavri (lemavri@moz-42ek1g.baf.movistar.cl)
[22:52:15] *** Quits: kazagistar (kazagistar@moz-1jum1i.client.bresnan.net) (Quit: Leaving.)
[22:52:16] *** Quits: essem2 (Thunderbird@moz-l86scb.sd.cox.net) (Client exited)
[22:52:27] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[22:52:38] *** Joins: kazagistar (kazagistar@moz-1jum1i.client.bresnan.net)
[22:53:09] *** Quits: RachBach (Mibbit@moz-7hfo21.eastlink.ca) (Quit: http://www.mibbit.com ajax IRC Client)
[22:53:11] *** Joins: griff (griff@moz-bf2.sbd.199.62.IP)
[22:54:19] *** Joins: derek_c (derek@moz-samgps.cit.cornell.edu)
[22:54:19] *** Quits: mkpankov (mkpankov@moz-7h8.k4a.16.195.IP) (Connection closed)
[22:54:30] *** Quits: mib_k297k7 (Mibbit@moz-f9eg6d.fios.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[22:54:38] *** Joins: Selemur (chatzilla@moz-tpgfbn.kawo1.rwth-aachen.de)
[22:56:54] *** Quits: gopar (gopar@moz-5039uj.ca.comcast.net) (Quit: Leaving)
[22:57:32] <patrickod> hey, all I'm having a small issue w/ modules & unresolved name errors.
[22:57:39] *** Joins: tomprogrammer (thomas@moz-1gbtah.tr5r.qept.4dd0.2001.IP)
[22:57:49] <patrickod> I have lib/events.rs and lib/parse.rs, where events.rs has a pub enum KeyEvent which I'd like to use in parse.rs
[22:58:20] *** Joins: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at)
[22:58:38] <patrickod> parse.rs opens w/ use events::KeyEvent, and later uses KeyEvent in a function. cargo is throwing an unresolved name on that particular line in the function claiming it doesn't recognise KeyEvent
[22:58:49] *** Quits: grncdr (Adium@moz-m1g.e47.90.95.IP) (Quit: Leaving.)
[22:58:58] <patrickod> I'm new to rust, and looking at https://doc.rust-lang.org/book/crates-and-modules.html for reference, but unsure what could be causing this issue 
[22:59:27] <Dabo> patrickod, could you gist/paste parse.rs?
[22:59:33] *** Quits: Qibix (Mibbit@moz-4cu.l4o.9.99.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:59:39] <patrickod> just pushed the code to GitHub, link incoming 
[23:00:01] <patrickod> Dabo: https://github.com/patrickod/barcode-rust/blob/master/src/parse.rs thanks!
[23:01:59] *** Quits: Ms2ger (Ms2ger@moz-2md1ol.isp.belgacom.be) (Quit: nn)
[23:02:28] *** Quits: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at) (Ping timeout: 121 seconds)
[23:02:46] <patrickod> I'm on 1.0.0-beta.4 if that's useful diagnostic info
[23:03:40] *** Quits: Gabriel_7 (Gabriel@moz-aoq91m.mtgr.92aj.0e35.2a01.IP) (Connection closed)
[23:04:03] <Merovius> Hyeon: just a friendly ping, are you still on my question? :)
[23:04:09] *** Quits: kjanosz (kjanosz@moz-1ugcf5.eee8.gm72.41d0.2001.IP) (Ping timeout: 121 seconds)
[23:04:17] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[23:04:18] <Hyeon> Actually
[23:04:33] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[23:04:44] *** Quits: duesenfranz_ (jona@moz-711djm.tirol.surfer.at) (Client exited)
[23:04:51] <Hyeon> That graph.rs seems to be moved somewhere else in 1.0.0-beta or nightly
[23:04:57] <Hyeon> And I was looking for it
[23:04:58] *** Joins: kjanosz (kjanosz@moz-1ugcf5.eee8.gm72.41d0.2001.IP)
[23:05:23] <Hyeon> And what you said (merging two methods) also sounds reasonable to me
[23:05:53] <bstrie> patrickod: not sure, I think you might need `mod events;` at the top of parse.rs to actually pull that module in
[23:06:12] <Hyeon> And I guess what you said probably took place between 1.0.0-alpha and beta
[23:06:17] <Merovius> Hyeon: thanks, at least that means I didn't grossly misunderstand something :)
[23:06:31] <Hyeon> No you didn't :)
[23:06:34] <rkruppe> bstrie: That sounds wrong. Modules should be declared only once, and that in lib.rs/bin.rs/mod.rs
[23:07:07] <rkruppe> And it's already pulled in by lib.rs
[23:07:33] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[23:08:03] *** Joins: yuja (yuja@moz-tvn458.pikara.ne.jp)
[23:08:46] *** Quits: jaen (jaen@moz-ifmik2.copit.pl) (Connection closed)
[23:09:09] *** Quits: areski (areski@moz-adq529.user.ono.com) (Ping timeout: 121 seconds)
[23:09:14] <Dabo> patrickod, Sorry about the wait - 
[23:09:29] <Dabo> when using static functions like that, you need to use :: instead of .
[23:09:44] <Dabo> rust is looking for a local variable when you use . instead of a struct
[23:09:56] <rkruppe> Oooh
[23:10:00] <rkruppe> I'm stupid
[23:10:08] <patrickod> Dabo: ah ! thanks :)
[23:10:15] <rkruppe> I totally could have seen that
[23:10:16] *** Quits: canhtak (canhtak@moz-1a9fh1.luxdsl.pt.lu) (Client exited)
[23:10:17] <patrickod> now onto whatever other errors rustc throws my way 
[23:11:34] *** Quits: chromatome (chromatome@moz-2eks30.mc.videotron.ca) (Connection closed)
[23:11:35] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[23:11:41] *** Quits: jfredett (Adium@moz-a9ilmn.fios.verizon.net) (Quit: Leaving.)
[23:12:08] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[23:12:56] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[23:13:28] *** Quits: griff (griff@moz-bf2.sbd.199.62.IP) (Client exited)
[23:13:35] *** Joins: tkellen (tkellen@moz-f5ji1n.vt.comcast.net)
[23:14:37] *** Quits: wilfredh (uid159@moz-md9so9.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[23:15:14] *** Quits: mcoffin (mcoffin@moz-5ir.o8h.54.128.IP) (Ping timeout: 121 seconds)
[23:15:17] *** Joins: brson (brson@moz-iu7.mao.34.45.IP)
[23:15:17] *** ChanServ sets mode: +ao brson brson
[23:15:50] *** Quits: derek_c (derek@moz-samgps.cit.cornell.edu) (Ping timeout: 121 seconds)
[23:15:50] *** Quits: jshs (jshs@moz-0d7ggk.dip0.t-ipconnect.de) (Client exited)
[23:15:51] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[23:16:10] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[23:16:58] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[23:17:06] *** Joins: canhtak (canhtak@moz-1a9fh1.luxdsl.pt.lu)
[23:17:50] *** Quits: pczarn (piotr@moz-9un7t9.izacom.pl) (Ping timeout: 121 seconds)
[23:18:26] *** Quits: canhtak (canhtak@moz-1a9fh1.luxdsl.pt.lu) (Connection closed)
[23:18:29] *** Joins: canhtak (canhtak@moz-1a9fh1.luxdsl.pt.lu)
[23:19:51] *** Quits: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:19:54] *** Quits: vosen (vosen@moz-mtm1g4.dynamic.chello.pl) (Quit: Leaving)
[23:20:13] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[23:20:23] *** Joins: zyphrus_ (David@moz-1a4.urk.98.101.IP)
[23:20:40] *** Quits: zyphrus_ (David@moz-1a4.urk.98.101.IP) (Connection closed)
[23:20:49] <graphman> hello again ! is there a way for a function to accept both closure and fn as arg like a Callable trait ? Thx in advance 
[23:21:15] *** Quits: zyphrus (David@moz-1a4.urk.98.101.IP) (Ping timeout: 121 seconds)
[23:21:34] <Dabo> graphman, functions and closures both implement Fn/FnMut/FnOnce
[23:21:47] *** Quits: tatref (tatref@moz-diagc7.abo.wanadoo.fr) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[23:21:56] <Dabo> so having a generic Fn/FnMut parameter is probably what you want
[23:22:14] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[23:22:20] <reem> graphman: read http://doc.rust-lang.org/book/closures.html#closure-implementation and down, that should explain things reasonably well
[23:22:37] *** Quits: mark_edward (mark@moz-dg4mrp.in.comcast.net) (Ping timeout: 121 seconds)
[23:22:58] *** Joins: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se)
[23:23:14] *** Joins: zyphrus (David@moz-1a4.urk.98.101.IP)
[23:23:28] *** Joins: brainproxy (michael@moz-9vjtig.mo.charter.com)
[23:24:19] <graphman> reem : Hum, thx a lot ! exactly what i was looking for :)
[23:25:56] *** Joins: zyphrus_ (David@moz-1a4.urk.98.101.IP)
[23:25:59] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[23:26:16] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[23:26:29] *** bvssvni is now known as bvssvni_
[23:27:37] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[23:27:39] *** Quits: zyphrus_ (David@moz-1a4.urk.98.101.IP) (Quit: Bye bye)
[23:27:53] *** Joins: zyphrus_ (David@moz-1a4.urk.98.101.IP)
[23:28:10] <Hail_Spacecake> I'm importing image in my main.rs
[23:28:14] <Hail_Spacecake> with extern crate image;
[23:28:28] <Hail_Spacecake> and then in a submodule of my project I'm trying to use image::Rgba
[23:28:28] *** Quits: brainproxy (michael@moz-9vjtig.mo.charter.com) (Ping timeout: 121 seconds)
[23:28:38] <Hail_Spacecake> and I'm getting Use of undeclared type or module `image`
[23:28:44] <Hail_Spacecake> what am I doing wrong with importing?
[23:29:04] *** Quits: zyphrus (David@moz-1a4.urk.98.101.IP) (Ping timeout: 121 seconds)
[23:29:26] <cmr> Hail_Spacecake: you probably need to do `::image::Rgba` or add a `use image;` at the top of your module. Outside of imports, all paths are relative to the current module.
[23:29:55] <Hail_Spacecake> oh ::
[23:29:56] <Hail_Spacecake> okay
[23:30:05] <Hail_Spacecake> hm, I was already doing use image::{GenericImage}
[23:30:13] <Hail_Spacecake> because I did want to explicitly import that
[23:30:16] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[23:30:35] <Hail_Spacecake> adding :: seems to work
[23:31:03] <Hail_Spacecake> but not use image; in my submodule
[23:31:05] <Hail_Spacecake> which is werid to me
[23:31:09] <tomprogrammer> Hail_Spacecake: You also can `import image::{self, GenericImage}`. Then `image::Rgba` works.
[23:31:17] <Hail_Spacecake> ah
[23:31:18] *** Quits: loyd (loyd@moz-uft.32f.108.213.IP) (Ping timeout: 121 seconds)
[23:31:29] <Hail_Spacecake> but why would I get unresolved import (maybe you meant `image::*`?) with use image;?
[23:31:31] <tomprogrammer> Hail_Spacecake: I think `::something` is rarely used in idiomatic rust.
[23:31:33] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[23:31:39] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[23:31:57] <Hail_Spacecake> huh, it doesn't like use image::{self}
[23:32:21] *** Quits: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se) (Client exited)
[23:32:35] <tomprogrammer> That is simpler expressed as `use image;`
[23:32:51] <Hail_Spacecake> if I do use image that's an unresolved import
[23:33:04] <tomprogrammer> mh, I didn't expect that..
[23:33:09] <Hail_Spacecake> oh, huh, I'm doing use my_submodule::*; in main.rs
[23:33:11] <Hail_Spacecake> maybe that's ay
[23:33:13] <Hail_Spacecake> *why
[23:33:20] <Hail_Spacecake> there's suddenly an error about that when I ass use image;
[23:33:23] <Hail_Spacecake> *add
[23:33:47] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[23:33:59] <cmr> yes, circular imports with globs like that can cause everything to break.
[23:34:11] <Hail_Spacecake> huh, welp
[23:34:13] <Hail_Spacecake> okay
[23:34:14] <Hail_Spacecake> thanks
[23:34:15] *** Quits: Hail_Spacecake (quesa@moz-djc.ktt.28.204.IP) (Quit: Leaving)
[23:35:28] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[23:36:26] *** Joins: mark_edward (mark@moz-dg4mrp.in.comcast.net)
[23:36:40] *** Joins: mcoffin (mcoffin@moz-8l6.usq.54.128.IP)
[23:37:04] *** Joins: griff (griff@moz-bf2.sbd.199.62.IP)
[23:38:07] *** Quits: glandium (glandium@moz-8d53n2.ocn.ne.jp) (Quit: Coyote finally caught me)
[23:39:37] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[23:40:19] *** Joins: Cortexz (Mibbit@moz-17l716.access.telenet.be)
[23:40:40] <blaenk> anyone know how to get the last 10 items in an iterator? it's a vec iterator so it has random access and double ended. at first I did rev().take(n), but then I can't reverse it again
[23:40:49] <blaenk> I guess I can take the count and calculate how many to skip
[23:41:06] <blaenk> but I was wondering if there were a different way
[23:41:25] <reem> blaenk: you can’t reverse it again because it’s a Take now, not a vec iterator
[23:41:31] <blaenk> yeah I know
[23:41:59] <blaenk> I guess I'll just do the math
[23:42:03] *** Joins: zyphrus (David@moz-1a4.urk.98.101.IP)
[23:42:13] <carlcolglazier> Is there a way to get a `for` loop to skip more than one iteration ahead?
[23:42:13] <tomprogrammer> blaenk: This seems like a problem where Cursor shines. Specially Seek. No way that you can impose an Seek bound?
[23:42:15] *** Quits: zyphrus_ (David@moz-1a4.urk.98.101.IP) (Ping timeout: 121 seconds)
[23:42:24] <blaenk> tomprogrammer: will take a look thanks
[23:42:27] <aatch> Why not reverse, then take, then collect?
[23:42:39] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[23:43:04] *** Quits: yuja (yuja@moz-tvn458.pikara.ne.jp) (Ping timeout: 121 seconds)
[23:43:06] <blaenk> and then reverse the collected? idk just seems more trouble than it's worth, maybe the math will be simpler
[23:43:10] <aatch> Or put them into an on-stack vector if possible.
[23:43:34] <blaenk> math is probably more efficient to, just skip len - N or 0 if that is negative
[23:44:28] *** Quits: Dylan16807 (dylan@moz-62uibl.cntmoh.sbcglobal.net) (Connection closed)
[23:44:53] <logan_e> are there better resources for explaining lifetimes in rust than in the Rust Book?
[23:44:56] <aatch> blaenk, Oh right, count() on the slice iterator is constant-time.
[23:45:02] <blaenk> yeah
[23:45:09] <logan_e> I read the ownership page in the rust book a few times and I still don’t really understand lifetimes that well...
[23:45:31] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:45:38] <mbrubeck> logan_e: I found this a very good intro to ownership in Rust: http://blog.skylight.io/rust-means-never-having-to-close-a-socket/
[23:45:39] <aatch> logan_e, easiest way to understand lifetimes is to work with them.
[23:45:43] <cmr> logan_e: I suggest just trying to write Rust code and working through problems as you find them.
[23:46:16] *** Joins: srh (User@moz-2uv3jo.q9f2.utp8.0306.2602.IP)
[23:46:33] <logan_e> Ok, thanks a lot!
[23:46:41] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[23:46:53] *** Quits: zyphrus (David@moz-1a4.urk.98.101.IP) (Ping timeout: 121 seconds)
[23:47:04] <mbrubeck> logan_e: Also, if you happen to have a lot of C++ experience, it can be useful to understand how various Rust concepts map to C++ ones.  (But obviously not so useful if you don't know C++.)
[23:47:19] <logan_e> yeah, I’ve never used C++ - I’ll read it anyway though
[23:47:21] <carlcolglazier> logan_e: The Rust book is the best piece of documentation at the moment, but http://rustbyexample.com/ is also a great recourse if you are not already aware of it. 
[23:47:33] <logan_e> aatch: I’ll definitely try to write more code
[23:47:49] <logan_e> i’ve been having trouble finding beginning projects though
[23:47:50] <mbrubeck> logan_e: The link I posted isn't C++ related -- that was a separate suggestion.
[23:47:57] <logan_e> Oh alright, thanks 
[23:48:02] <logan_e> @carlcolglazier thanks - I’ll check it out
[23:48:26] <Diggsey> is it possible to use variables in a macro?
[23:48:35] *** Quits: OtterCoder (quassel@moz-lij.rme.199.67.IP) (Ping timeout: 121 seconds)
[23:48:41] <cmr> Diggsey: not ones declared outside the macro, unless you pass in the ident as a parameter.
[23:48:42] *** Joins: jfredett (Adium@moz-a9ilmn.fios.verizon.net)
[23:48:56] <Diggsey> I mean if there's a repeated expression can it be bound to a variable
[23:49:01] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:49:22] <cmr> yeah, sure.
[23:49:30] *** Joins: Dylan16807 (dylan@moz-62uibl.cntmoh.sbcglobal.net)
[23:49:34] <cmr> the variable won't "leak" outside the macro.
[23:49:42] <cmr> (unlike in cpp, for example)
[23:49:55] <Diggsey> I'm generating an identifier via "concat_idents!($name, _ty)" as part of my macro, and I want to reuse the identifier in multiple places
[23:49:57] *** Quits: xificurC_ (xificurC@moz-3u7gmd.chello.sk) (Connection closed)
[23:50:09] *** Joins: xificurC_ (xificurC@moz-3u7gmd.chello.sk)
[23:50:59] *** Joins: murz (murz@moz-nr2kro.wa.comcast.net)
[23:51:15] *** Joins: OtterCoder (quassel@moz-lij.rme.199.67.IP)
[23:51:25] <Diggsey> but I can't see a way to do that, as there's no meta "let" statement for macros
[23:51:33] <Cortexz> does anyone know if building on windows will be possible without using mingw? Also if you install rust,, it doesn't add the bin folders to your PATH, why?
[23:51:49] *** Joins: gopar (gopar@moz-5039uj.ca.comcast.net)
[23:51:51] <Diggsey> Cortexz: not atm unless you run linux in a VM
[23:51:59] <cmr> Cortexz: it's not possible right now, it's hoped to be added in the future.
[23:52:00] <Diggsey> but I believe it's planned
[23:52:09] <Cortexz> ok
[23:52:11] <Cortexz> thx
[23:52:41] *** Joins: ascarter (ascarter@moz-705hf8.wa.comcast.net)
[23:52:44] *** Quits: jfredett (Adium@moz-a9ilmn.fios.verizon.net) (Ping timeout: 121 seconds)
[23:52:46] <aatch> Diggsey, what are you trying to do?
[23:52:52] *** Joins: jfredett (Adium@moz-a9ilmn.fios.verizon.net)
[23:53:11] <Diggsey> imagine a macro:
[23:53:16] <Diggsey> macro!(myname)
[23:53:18] <aatch> Diggsey, because the result of `concat_idents!($name, _ty)` isn't going to be visible outside the macro.
[23:53:28] <Diggsey> I want to generate code that looks like this:
[23:53:58] <Diggsey> struct myname_ty; <etc> SomeType<myname_ty> <etc>
[23:54:11] <Diggsey> I'm reusing the identifier "myname_ty" in several places
[23:54:26] <Diggsey> and want to avoid having to regenerate it every time
[23:54:36] *** Quits: mcoffin (mcoffin@moz-8l6.usq.54.128.IP) (Quit: leaving)
[23:54:52] *** Joins: zyphrus (David@moz-1a4.urk.98.101.IP)
[23:54:59] <aatch> I'm pretty sure the hygiene rules still apply here. cmr?
[23:55:20] <Diggsey> I don't care if "myname_ty" is invisible outside the macro
[23:55:22] <cmr> Diggsey: no good way to do that really.
[23:55:26] <mbrubeck> you could write more macros!  ty!($name)
[23:55:37] <cmr> you can define another macro that takes $name:ident and pass concat_ident!($name, _ty) to it
[23:55:42] <aatch> mbrubeck, beat me to the punch
[23:56:02] <mbrubeck> cmr's idea is a bit cleaner IMO
[23:56:06] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[23:56:13] <Diggsey> cmr: yeah, it's just it's already getting quite complicated, want to avoid adding too many macros :P
[23:56:23] <Diggsey> but that seems like the best bet for now
[23:56:52] <VShell> most semi-complicated macros seem to wind up with an __inner macro.
[23:56:55] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[23:57:09] <Diggsey> VShell: yeah, but this already has one level of "__inner"ness :P
[23:57:20] <eevee> __innest then
[23:57:40] <Diggsey> on a related note, is it a bug that lifetimes are not hygienic?
[23:58:02] *** Quits: veqz (veqz@moz-nvr8g6.209.getinternet.no) (Ping timeout: 121 seconds)
[23:58:06] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[23:58:39] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[23:58:46] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[23:58:46] *** ChanServ sets mode: +o erickt
[23:59:06] *** Joins: dinfuehr (dinfuehr@moz-s7mqcv.highway.telekom.at)
[23:59:40] *** Joins: dpc_ (dpc@moz-t6gr4b.ca.comcast.net)
[23:59:48] *** Joins: maximih (maximih@moz-16tklc.k49b.su5n.2002.2001.IP)
