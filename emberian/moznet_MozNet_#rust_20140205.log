[00:00:40] *** Joins: kemurphy (kemurphy@3863AC20.C4E71399.9510F13D.IP)
[00:00:43] <chromatic> I can argue the example both ways, but rewriting to "(0.0, _) => 0.5 * pi," seems straightforward enough.
[00:00:45] *** Quits: lpy (lpy@51E8C831.DDD9F058.E99F7FDB.IP) (Ping timeout)
[00:01:05] *** Joins: claudiu (claudiu@moz-FB94486E.thefacebook.com)
[00:01:56] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[00:03:44] <chromatic> Something like this might explain the example and clean up the warning: https://gist.github.com/chromatic/8814979
[00:03:58] *** Joins: jensnockert (jensnocker@moz-988C9930.e0f8471ae7fa.afb.bredband2.com)
[00:04:02] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[00:04:05] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Quit: Textual IRC Client: www.textualapp.com)
[00:04:19] <mcpherrin> chromatic: Send a pull request!
[00:04:29] *** Quits: tabraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Input/output error)
[00:05:22] *** Quits: trinary (Adium@moz-D78CD0D5.hsd1.co.comcast.net) (Quit: Leaving.)
[00:05:36] *** Joins: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net)
[00:06:07] *** Quits: jensnockert (jensnocker@moz-988C9930.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[00:07:01] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[00:07:08] *** Quits: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP) (Ping timeout)
[00:08:20] *** Quits: dsyang (dsyang@moz-8EBF0366.wv.cc.cmu.edu) (Client exited)
[00:08:56] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[00:09:14] *** Quits: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de) (Quit: Leaving.)
[00:09:16] *** Quits: nszceta (hax@moz-E458A7C0.pharm.pitt.edu) (Input/output error)
[00:09:28] *** Joins: alicedare (textual@BB0336C3.D2943E17.C579BC3E.IP)
[00:09:30] *** Quits: alisdair (textual@BB0336C3.D2943E17.C579BC3E.IP) (Connection reset by peer)
[00:11:10] *** Joins: blaenk (blaenk@moz-43A413B6.lsanca.dsl-w.verizon.net)
[00:12:13] <chromatic> mcpherrin, PR 12035
[00:12:52] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[00:13:48] *** Joins: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP)
[00:14:22] <jasom> are vectors of indefinite size freely expandable?  That is I can keep appending to them until I run out of RAM?
[00:14:36] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[00:14:43] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[00:15:27] <strcat> jasom: yes
[00:15:48] <strcat> unless you're on 32-bit with PAE
[00:15:52] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[00:16:45] *** Joins: hoverbear (hoverbear@moz-6819B92F.wireless.uvic.ca)
[00:16:51] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[00:17:08] <jasom> strcat: s/RAM/addresses
[00:17:22] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[00:17:28] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[00:17:53] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[00:18:15] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[00:19:06] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[00:19:51] *** Joins: GrecKo (GrecKo@moz-A7AA1BB6.fr)
[00:19:57] *** Joins: uva_student (Mibbit@9667D07D.87CA334A.DDE5D3F6.IP)
[00:20:38] <uva_student> hi guys
[00:20:47] *** Quits: hoverbear (hoverbear@moz-6819B92F.wireless.uvic.ca) (Quit: Taking a nap.)
[00:21:19] <uva_student> I'm a student at UVa in operating systems and we are working on writing a shell with rust. We
[00:22:25] <uva_student> re currently working on redirecting stdout to a file, but the code ended up segfaulting. Anyone have any idea why this could have happened? 
[00:22:40] *** Joins: pepper_chico (pepper_chi@2E27DB8.A156809A.4D7FED01.IP)
[00:22:44] *** Quits: pepper_chico (pepper_chi@2E27DB8.A156809A.4D7FED01.IP) (Quit: pepper_chico)
[00:22:57] <uva_student> It happens when we use stdio::set_stdout(-File object-)
[00:23:02] <olsonjeffery> ƒ
[00:23:07] <mcpherrin> uva_student: What rust version are you using?
[00:23:13] <uva_student> we use a match statement to make sure that it isn;t None
[00:23:13] <uva_student> 0.9
[00:23:20] *** Quits: gimpf (gimpf@moz-9A3C6795.adsl.highway.telekom.at) (Ping timeout)
[00:23:29] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[00:23:47] *** Joins: moostik (Icedove@moz-9CCE699F.w81-249.abo.wanadoo.fr)
[00:23:53] <acrichto> uva_student: interesting! could I take a peek at your code?
[00:23:56] *** Quits: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[00:24:21] <acrichto> uva_student: you also may want to try changing it to stdio::set_stdout(-File object- as ~io::Writer)
[00:24:39] <acrichto> uva_student: there was a known bug at some point (not sure if it was fixed by 0.9) which caused a segfault like that
[00:25:02] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[00:25:10] <uva_student> oh okay we'll try that
[00:27:03] *** Quits: eibwen (kvirc@moz-73F1BA16.dip0.t-ipconnect.de) (Ping timeout)
[00:27:10] *** Joins: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP)
[00:27:18] *** Joins: hoverbear (hoverbear@moz-6819B92F.wireless.uvic.ca)
[00:27:49] *** Quits: sellout (Adium@moz-CF70CF20.hlrn.qwest.net) (Quit: Leaving.)
[00:28:26] <uva_student> and here's our code: http://pastebin.com/dDZEL2QT
[00:28:27] *** Joins: gimpf (gimpf@moz-9A3C6795.adsl.highway.telekom.at)
[00:28:30] <uva_student> or did you want all of it
[00:28:41] <mcpherrin> huh, this course isn't really what I'd have expected from an "OS" course
[00:28:59] *** Quits: alicedare (textual@BB0336C3.D2943E17.C579BC3E.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:29:52] <mcpherrin> (I'm reading the PSests assigned so far)
[00:30:19] <acrichto> uva_student: yeah I'd guess that the explicit `as ~io::Writer` cast may fix it
[00:30:19] <mcpherrin> though probably more useful
[00:30:53] *** Quits: kemurphy (kemurphy@3863AC20.C4E71399.9510F13D.IP) (Quit: ZNC - http://znc.in)
[00:31:08] *** Joins: kemurphy (kemurphy@3863AC20.C4E71399.9510F13D.IP)
[00:31:32] <uva_student> yeah the as ~io::Writer fixed it
[00:31:35] <uva_student> thanks a lot!
[00:31:53] <Jemaclus> I'm beginning to think this LZW algorithm isn't as good as I thought.
[00:31:55] <Jemaclus> :(
[00:32:04] <uva_student> (but yes, the assignments aren't really what we were expecting either!)
[00:32:58] *** kimundi is now known as zz_kimundi
[00:33:00] <mcpherrin> Jemaclus: LZW was sweet in the late 80s
[00:33:10] <Jemaclus> yeah.
[00:33:35] <Jemaclus> I can't decide if my code buggy or if the algorithm just sucks. :P
[00:33:38] <mcpherrin> uva_student: When I think of an "OS" course, I think writing a scheduler, implement virtual memory, maybe context switching, a device driver or two
[00:33:57] <mcpherrin> Jemaclus: Do you have a reference implementation to test against?
[00:34:02] *** Quits: notmatt (notmatt@CC62CF7E.1E7FDFDB.A82DBDDB.IP) (Client exited)
[00:34:05] <Jemaclus> i'm close, I guess. Compressed 507,105 down to 233,012 and decompressed back to 506,971
[00:34:14] <o11c> mcpherrin: when I think of an "OS" course, I think "talk about " <that list of things> (since that's what we did last semester)
[00:34:32] *** Joins: notmatt (notmatt@CC62CF7E.1E7FDFDB.A82DBDDB.IP)
[00:34:37] *** Quits: hoverbear (hoverbear@moz-6819B92F.wireless.uvic.ca) (Quit: Taking a nap.)
[00:34:38] <Jemaclus> mcpherrin: the Rosetta Code stuff
[00:34:44] *** Joins: hoverbear (hoverbear@moz-6819B92F.wireless.uvic.ca)
[00:34:52] <Jemaclus> mcpherrin: but theirs is just testing a string "TOBEORNOTTOBEORTOBEORNOT", which my algorithm correctly compresses
[00:35:03] <Jemaclus> but if I throw a *real* file at it, it doesn't work 100%
[00:35:12] <mcpherrin> Jemaclus: hmm, that string is probably too short to be interesting
[00:35:17] <Jemaclus> yeah, exactly.
[00:35:22] <Jemaclus> I'm compressing the full text of Paradise Lost
[00:35:42] <Jemaclus> and a diff shows that the only screwups are things like ***** => **** (in comments) and www => ww (in urls)
[00:35:49] <Jemaclus> so I mean, it works okay, I guess?
[00:35:54] <Jemaclus> but not 100%...
[00:35:54] <mcpherrin> Unfortunately LZW is patent encumbered so it's not super popular in free software
[00:36:02] <mcpherrin> hard to compare against "industrial strength" tools
[00:36:03] <Jemaclus> LZW patent expired a few years ago, iirc
[00:36:06] <Jemaclus> but yeah
[00:36:12] <jasom> Jemaclus: you can test your compressor and decompressor separately by using a lzw library to do the other half
[00:36:18] <jasom> Jemaclus: find where the problem is
[00:36:20] *** Quits: notmatt (notmatt@CC62CF7E.1E7FDFDB.A82DBDDB.IP) (Ping timeout)
[00:36:34] <mcpherrin> well plenty of software implemented it for "gif"
[00:36:43] <mcpherrin> o11c: talk is boring :)
[00:37:01] <mcpherrin> oh, implementing syscalls is a good one too
[00:37:05] *** Quits: uva_student (Mibbit@9667D07D.87CA334A.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:37:11] *** Quits: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP) (Ping timeout)
[00:37:48] <Jemaclus> jasom: well, the problem there, I guess, is that there are variants on LZW... some more efficient than others
[00:38:15] <jasom> Jemaclus: that's not a problem
[00:38:18] *** Joins: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP)
[00:38:22] <Jemaclus> I just ran "compress paradise-lost.txt" and it wound up with a compressed file of 212518 bytes, versus my 233012 bytes... but that doesn't mean my compression is wrong
[00:38:40] <jasom> Jemaclus: compress with a reference implementation, decompress with yours
[00:38:45] <jasom> Jemaclus: see if it's the same as uncompressed
[00:38:50] <jasom> and then flip that to test your compressor
[00:39:03] <jasom> http://marknelson.us/attachments/1989/lzw-data-compression/lzw.c <-- lzw in C for one reference example
[00:40:41] *** Quits: hoverbear (hoverbear@moz-6819B92F.wireless.uvic.ca) (Quit: Taking a nap.)
[00:41:46] <Jemaclus> hmm
[00:41:47] <Jemaclus> i'll give it a shot
[00:42:32] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:43:49] *** Joins: hoverbear (hoverbear@moz-6819B92F.wireless.uvic.ca)
[00:44:03] *** Quits: vertexclique (vertexcliq@69CFE6CE.16F818C8.6894ADF4.IP) (Client exited)
[00:44:37] <hoverbear> Heck yeah, one of my professors just told me he's interested in doing a directed studies course with me on Rust. :)
[00:44:57] *** Joins: dherman (dherman@F5DBC48.1E9D22A9.3A1BB2FB.IP)
[00:44:57] *** ChanServ sets mode: +ao dherman dherman
[00:44:57] <diverse> hoverbear: \o/
[00:45:23] *** Joins: sokomo (sokomo@8293D4FC.93FF164A.408809BB.IP)
[00:45:59] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[00:46:44] <Jemaclus> hmm.
[00:46:49] <derek_c> acrichto: how do you hack on libgreen?  Is there something like `make libgreen NO_REBUILD=1`?
[00:46:49] <Jemaclus> neither one worked.
[00:46:53] *** Quits: mr_pants (Mibbit@moz-75833D22.net.upcbroadband.cz) (Quit: http://www.mibbit.com ajax IRC Client)
[00:47:02] <Jemaclus> i still dunno if that means my code is buggy
[00:47:27] *** Quits: Savago (Savago@C01F8AD9.E820043D.D4C04133.IP) (Quit: Savago)
[00:47:45] <Jemaclus> hmm.
[00:47:57] <acrichto> derek_c: building libgreen is actually really nice because librustc doesn't depend on it
[00:47:57] <Jemaclus> maybe i should try something different... spent 3 weeks on this stupid thing.. :)
[00:48:02] *** Quits: GrecKo (GrecKo@moz-A7AA1BB6.fr) (Client exited)
[00:48:06] <acrichto> derek_c: make check-stage0-green is normally what I use
[00:48:30] <acrichto> derek_c: make $target/stage0/lib/rustlib/$target/lib/stamp.green <- that'll build the library
[00:48:39] *** Quits: dherman (dherman@F5DBC48.1E9D22A9.3A1BB2FB.IP) (Quit: dherman)
[00:48:40] *** Joins: GrecKo (GrecKo@moz-A7AA1BB6.fr)
[00:49:09] <mrmonday> src/libstd/lib.rs:68:14: 68:43 error: can't find crate for `native`
[00:49:17] <mrmonday> libstd/lib.rs:68 #[cfg(test)] extern mod native = "native";
[00:49:28] <mrmonday> any idea what would cause this when running make check?
[00:49:44] <derek_c> acrichto: so after you build the library, how do you make rustc run with it?
[00:50:03] <acrichto> derek_c: ah, for that you can just use ./$target/stage0/bin/rustc
[00:50:32] <jasom> std::trie keeps a count of valid children; this doesn't seem to be use for anything but sanity checking; removing it would allow speeding up remove by a factor of 2-3.  Any thoughts?
[00:50:35] <acrichto> derek_c: you'll want to build all of stage0, but once it's all built you can just continue the modify/make/cancel/stage0-rustc cycle
[00:50:55] <acrichto> derek_c: when i say cancel the make I mean once it starts building stage1 you don't need it to continue
[00:51:32] <dbaupp> jasom: does removing it really make it 2-3 times faster? or, just a theoretically?
[00:52:02] <jasom> dbaupp: It would allow converting the recursive call to a loop, which when doing the same for insert, did make it faster
[00:52:07] <derek_c> acrichto: ok, so the flow is like: 1) make changes. 2) `make` 3) wait till it finishes stage 0 and then cancel 4) play with ./$target/stage0/bin/rust
[00:52:18] <jasom> dbaupp: and I found where it is used; it is used to detect when to remove a node
[00:52:27] <strcat> jasom: without the count, how do you unsplit it?
[00:52:36] <derek_c> right?
[00:52:39] <acrichto> derek_c: yep! the stage0 rustc will use your libgreen to link new programs, but it won't be running with the new libgreen itself
[00:52:42] <jasom> strcat: yeah, just found that
[00:52:53] <dbaupp> jasom: I'd think you should be able to convert it to a loop anyway?
[00:52:55] <derek_c> acrichto: oh ok, I see
[00:52:57] <derek_c> acrichto: thanks!
[00:53:02] <dbaupp> at least, partially
[00:53:04] <acrichto> derek_c: np!
[00:53:10] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[00:53:59] <strcat> I guess it's time to abandon rust-core and do it in a different way, out-of-tree doesn't work
[00:54:00] *** Joins: sellout (Adium@moz-D50C2457.hfc.comcastbusiness.net)
[00:54:25] <jasom> dbaupp: I think you're right, so long as a single remove can't unsplit more than one node
[00:54:31] *** Joins: a_m0d (a_m0d@moz-2F294D00.acanac.net)
[00:54:38] <o11c> strcat: hm?
[00:55:32] *** Quits: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP) (Quit: Leaving...)
[00:55:45] <strcat> not having #[test] and not being able to compile with rustc itself makes it a crappy experience
[00:56:04] <derek_c> acrichto: apparently you can't just call `println!` in green?
[00:57:02] <acrichto> derek_c: yeah, otherwise rterrln!() will use libc
[00:57:17] *** Quits: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net) (Quit: kellogh)
[00:57:28] <derek_c> acrichto: I see. how would you log something?
[00:57:33] *** Joins: recrack_ (recrack@5AB4884B.FCC4549.14D5B978.IP)
[00:57:37] <acrichto> derek_c: rterrln!
[00:57:39] *** Quits: recrack_ (recrack@5AB4884B.FCC4549.14D5B978.IP) (Quit: recrack_)
[00:57:49] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[00:58:13] <strcat> curious how fast rustc itself compiles without stuff like unwinding anyway
[00:58:39] <derek_c> acrichto: thanks :)
[00:59:41] *** Quits: blaenk (blaenk@moz-43A413B6.lsanca.dsl-w.verizon.net) (Quit: Leaving)
[00:59:50] *** Joins: lpy (lpy@51E8C831.DDD9F058.E99F7FDB.IP)
[01:00:59] *** Quits: lpy (lpy@51E8C831.DDD9F058.E99F7FDB.IP) (Connection reset by peer)
[01:01:14] <strcat> acrichto: is https://github.com/alexcrichton/llvm/commit/eac6ff795c40778683e42b0c6ab6f6adaceb391d still a problem?
[01:01:20] *** Joins: lpy (lpy@51E8C831.DDD9F058.E99F7FDB.IP)
[01:03:20] *** Quits: lpy (lpy@51E8C831.DDD9F058.E99F7FDB.IP) (Ping timeout)
[01:07:26] <sfackler> strcat: rust-git hasn't had a new build in a couple of days fyi
[01:07:29] <jasom> strcat: you seem to know about trienode; why does it unsplit at a count of 0 instead of a count of 1?
[01:07:58] <strcat> jasom: lazier
[01:08:05] <hoverbear> Anyone got links to some rust benchmarks that are recent-ish?
[01:08:20] <dbaupp> hoverbear: what sort of benchmarks?
[01:08:32] <dbaupp> hoverbear: http://www.reddit.com/r/rust/comments/1x0zeu/adler32_and_crc32/
[01:08:47] <hoverbear> dbaupp: I'm not picky,
[01:08:59] <strcat> sfackler: /build/rust-git/src/rust/mk/docs.mk:303: *** multiple target patterns.  Stop.
[01:09:00] * strcat shrugs
[01:09:22] <hoverbear> dbaupp: Preferably comparing other languages. The debian language game doesn't have rust if I recall :(
[01:09:24] *** Joins: m_kato (m_kato@moz-C286AD9A.bitcat.net)
[01:10:12] *** Quits: a_m0d (a_m0d@moz-2F294D00.acanac.net) (Ping timeout)
[01:10:59] *** Joins: fyolnish (fyolnish@moz-C6DB27B5.uqwimax.jp)
[01:11:40] <jasom> hoverbear: I think there are implementations of the debian game in the rust source; you could run on your own machine.
[01:11:45] <strcat> sfackler: it kind of defeats the purpose of automating it when I need to constantly debug makefile bugs
[01:11:50] <hoverbear> jasom: Awesome, thanks.
[01:12:12] <strcat> I'll just disable -j8 or whatever it uses by default again
[01:12:45] *** Quits: fyolnish (fyolnish@moz-C6DB27B5.uqwimax.jp) (Ping timeout)
[01:12:45] <jasom> hoverbear: just remember the debian game has hand-tuned nearly optimal implementations and the rust code has whatever someone wrote...
[01:13:11] *** Quits: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP) (Ping timeout)
[01:13:19] <hoverbear> jasom: Of course.
[01:13:38] <hoverbear> jasom: I'm just trying to give my proff a couple links to click to see "Hey it's as fast as C"
[01:13:42] <dbaupp> hoverbear: it does now
[01:13:51] <dbaupp> hoverbear: e..g http://benchmarksgame.alioth.debian.org/u64/benchmark.php?test=fasta&lang=all&id=1&data=u64
[01:13:52] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Quit: )
[01:13:58] <dbaupp> faster than C :P
[01:14:03] <hoverbear> dbaupp: HERO.
[01:14:11] *** Joins: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP)
[01:14:21] <dbaupp> and I think I have some optimisations that will put us ahead of GHC, maybe
[01:14:39] <dbaupp> hoverbear: (don't show him http://benchmarksgame.alioth.debian.org/u64/benchmark.php?test=pidigits&lang=all&id=1&data=u64 ;P)
[01:14:40] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[01:14:50] <FreeFull> C has some language choices that make optimising it a bit difficult
[01:14:57] <mcpherrin> dbaupp: hahah ouch
[01:15:24] <dbaupp> mcpherrin: extra::bigint is *really* bad
[01:15:32] <FreeFull> Ouch
[01:15:45] <FreeFull> Should probably use libgmp
[01:15:50] <dbaupp> yup
[01:15:52] <mcpherrin> dbaupp: Is anybody giving bigint love?  I've always wanted to rice out a bigint implementation
[01:16:04] <dbaupp> but not allowed while we have a built-in bigint
[01:16:13] <strcat> FreeFull: rust doesn't do anything that makes it easier to optimize than C
[01:16:16] <dbaupp> (and there's various... issues... with using gmp.)
[01:16:17] <mcpherrin> gmp is probably the sane option :P
[01:16:36] <dbaupp> mcpherrin: I don't know of anyone actively working on bigint
[01:16:38] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[01:16:39] <FreeFull> I bet most of the languages on that benchmark use gmp for bignums
[01:16:41] <strcat> mcpherrin: you really want to implement a dozen multiplication/division algorithms and write asm for them on dozens on platforms? :P
[01:16:44] <o11c> using the raw half of gmp with a native layer on top is probably the best
[01:16:46] <dbaupp> FreeFull: yes
[01:16:50] <strcat> FreeFull: not all
[01:17:00] <FreeFull> strcat: I didn't say all =P
[01:17:03] <strcat> FreeFull: the pidigits bench isn't using super enormous bigints
[01:17:09] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[01:17:10] *** ChanServ sets mode: +ao pcwalton pcwalton
[01:17:13] <mcpherrin> strcat: yes :)
[01:17:23] <mcpherrin> strcat: Not really :P
[01:17:30] <mcpherrin> I only care about one platform :)
[01:17:44] <strcat> gmp only really pulls far ahead of other okay libraries with integers that are bigger than the pidigits one
[01:17:49] <dbaupp> mcpherrin: one specific processor?
[01:17:55] *** Quits: sellout (Adium@moz-D50C2457.hfc.comcastbusiness.net) (Quit: Leaving.)
[01:17:59] *** Quits: claudiu (claudiu@moz-FB94486E.thefacebook.com) (Input/output error)
[01:18:01] <strcat> I bet python with gmp vs. python's native int isn't an enormous difference on it
[01:18:12] <mcpherrin> dbaupp: Well, I only care about linux/x86_64
[01:18:19] *** Joins: claudiu (claudiu@moz-FB94486E.thefacebook.com)
[01:18:23] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[01:18:37] <mcpherrin> uh, I care about 32 bit to I guess but only because glorious employer mandates I do :P
[01:19:19] <FreeFull> You could calculate pi digits without using bigints
[01:19:26] <strcat> mcpherrin: but do you only care about haswell? so you can use MULX
[01:19:32] <strcat> ;p
[01:19:50] <strcat> mcpherrin: if you care about *all* of x86_64, that's still a half dozen platforms
[01:19:51] <jasom> "In addition to language specific multiprecision arithmetic, we will accept programs that use GMP." <-- can use GMP
[01:20:03] *** Quits: claudiu (claudiu@moz-FB94486E.thefacebook.com) (Ping timeout)
[01:20:15] <strcat> fwiw I ported the fastest C implementation of that one to rust via gmp
[01:20:17] <strcat> 1:1
[01:20:18] <strcat> and it's the same speed, ofc
[01:20:19] <mcpherrin> strcat: I care about three specific processors we use at work :P
[01:20:27] <strcat> although rust has a longer startup time when using libstd
[01:20:40] <dbaupp> strcat: was there any code outside `unsafe {}`?
[01:20:41] *** Joins: sammykim (sammy.kim@5AB4884B.FCC4549.14D5B978.IP)
[01:20:52] <strcat> dbaupp: a line or two? ;p
[01:21:06] <dbaupp> strcat: \o/ better than zero :P
[01:21:13] <strcat> dbaupp: could use safe gmp bindings, and it'd all be outside of unsafe
[01:21:20] <jasom> What I want to know is who the masochist is that contributed the ATS benchmarks
[01:21:22] <mcpherrin> just using libgmp seems like cheating at that benchmark though
[01:21:23] <dbaupp> of course
[01:21:25] <strcat> but not rust-gmp because it currently only implements the traits
[01:21:33] <mcpherrin> may as well just take the c implementation and call it from a rust program
[01:21:39] <strcat> mcpherrin: it's asm, not C
[01:21:50] <strcat> pidigits is definitely not stressing a lot of C code
[01:21:53] <strcat> they're hitting x86 asm
[01:22:00] * strcat shrugs
[01:22:25] <strcat> can't write fast bigint math in C :)
[01:22:30] *** Quits: squiddy (squiddy@moz-8A927E3C.adsl.alicedsl.de) (Quit: Leaving)
[01:22:52] * jasom wonders how well you could do just writing in llvm IR
[01:23:00] *** Quits: Armavica (virgile@moz-AD428ED7.ens.fr) (Ping timeout)
[01:23:04] <strcat> jasom: well, LLVM IR is platform specific
[01:23:14] <strcat> it exposes all the x86/arm/ppc intrinsics you need
[01:23:22] <strcat> probably as well as asm
[01:23:33] <jasom> strcat: can't you write semi-portable IR though, and add intrinsics for specific platforms?
[01:23:43] *** Joins: claudiu (claudiu@moz-FB94486E.thefacebook.com)
[01:23:52] <strcat> jasom: not really, because you need to do the inner loops differently on different platforms
[01:23:52] *** Quits: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP) (Input/output error)
[01:23:53] <jasom> get you "okay" performance on platforms not targeted.
[01:24:04] <strcat> and pretty much all you will be writing are inner loops
[01:24:13] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[01:24:20] <strcat> jasom: you need to use different sized chunks and handle carry, etc. differently
[01:24:27] <strcat> gmp calls it limbs
[01:24:32] <jasom> ah
[01:25:02] <mcpherrin> you can probably get within 15% performance with platform independent code
[01:25:13] <strcat> mcpherrin: doubt it.
[01:25:22] <jasom> mcpherrin: I would have guessed 2-3x
[01:25:28] <strcat> mcpherrin: https://gmplib.org/list-archives/gmp-devel/2013-August/003353.html look at what *one* instruction can do
[01:25:37] <hoverbear> dbaupp: Lol 30 mins
[01:26:05] <strcat> mcpherrin: SSE/AVX have a lot of useful stuff too
[01:26:32] <strcat> would not be surprised if asm gets you 3-5x faster on x86
[01:26:37] <strcat> for multiplication
[01:27:11] *** Joins: zmthy (zmthy@moz-C2881CC3.ecs.vuw.ac.nz)
[01:27:15] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[01:27:32] <mcpherrin> strcat: But an optimizing compiler could use those instructions too?  Like Intel Fortran is pretty darn good
[01:27:35] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[01:27:54] <strcat> mcpherrin: doubt that too ;s
[01:28:07] <strcat> mcpherrin: they'd have to special-case specific algorithms
[01:28:15] <strcat> and it's far, far easier to just do it in library code
[01:28:26] <strcat> LLVM and GCC certainly can't output these kinds of instructions
[01:28:26] <mcpherrin> Dunno, I haven't ever had to do any perf sensitive bignum code so I haven't got a good sense of this problem space
[01:28:49] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[01:29:25] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[01:29:30] <strcat> mcpherrin: there are a lot of bits that you can do in parallel, if only there wasn't such a thing as a carry/overflow flag
[01:29:46] <strcat> so you can expect 4x, 8x, 16x throughput if you use specialized instructions
[01:30:18] <jasom> mcpherrin: intel's autovec beats the pants off of llvm and gcc, but still don't expect to see better than a 50% boost in speed when you turn it on for numeric code
[01:30:21] <strcat> although it's far less important than just using a better algorithm...
[01:30:51] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[01:30:53] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[01:31:19] <strcat> mcpherrin: rust's bigint implementation is suffering from using algorithms with far worse asymptotic complexity
[01:31:31] <strcat> if it was using the same algorithm it would at least be only 50x or 100x slower
[01:32:03] <strcat> they aren't super big integers in pidigits, so you don't need to implement 6+ algorithms, probably just 1
[01:32:05] <dbaupp> we're not using naive multiplication, are we? :S
[01:32:14] <strcat> dbaupp: well, far more naive than gmp, dunno exactly what we do
[01:32:23] * dbaupp checks
[01:32:32] *** Quits: tq (tq@moz-9FE9CCF4.a251.priv.bahnhof.se) (Quit: tq)
[01:32:34] <strcat> dbaupp: https://gmplib.org/manual/Multiplication-Algorithms.html#Multiplication-Algorithms
[01:32:42] <strcat> dbaupp: need to figure out how big they are, and look at gmp's heuristic
[01:32:45] <strcat> to see what it's using
[01:32:57] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[01:32:57] <dbaupp> we're using Karatsuba multiplication (nearly) unconditionally
[01:33:19] <dbaupp> ... so not O(n^2), fortunately
[01:33:46] <strcat> dbaupp: so gmp is actually faster on small ones :)
[01:33:50] <strcat> well, I guess we knew that
[01:34:48] <jasom> hmm, is it not possible to implement a trait in a generic way, and then a specific way for a type
[01:34:57] <strcat> jasom: generic impl is the only impl
[01:35:04] <strcat> conflicts with everything
[01:35:18] <strcat> in fact, it actually reserves the method name when the trait is in scope on every type
[01:35:32] <strcat> whether or not the type satisfies the constraints
[01:35:44] <jasom> so we can't make a faster hash table for uint, for example.
[01:35:49] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[01:35:55] <jasom> since uint implements IterBytes
[01:36:04] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[01:36:09] <strcat> if you have impl<T: Foo> Bar for T { ... } where it implements a method called bar, then that trait has reserved the method name `bar` if it's in scope
[01:36:20] <strcat> whether or not a type implements Foo
[01:36:22] <dbaupp> jasom: https://github.com/mozilla/rust/pull/11863 will go some way to fixing that
[01:36:25] <dbaupp> hopefully
[01:36:47] <strcat> jasom: well, you could wrap uint
[01:36:59] *** Quits: hoverbear (hoverbear@moz-6819B92F.wireless.uvic.ca) (Quit: Taking a nap.)
[01:37:09] *** Joins: new_one (new_one@13E43017.8AA374E2.B3C0173E.IP)
[01:37:11] <dbaupp> strcat: the problem is http://static.rust-lang.org/doc/master/std/hash/trait.Hash.html
[01:37:21] <strcat> I wonder how many rounds you need of AES for it to be considered secure enough from DoS
[01:37:23] <dbaupp> and the <A: IterBytes> Hash for A impl
[01:37:29] *** Joins: coalcore (Mibbit@moz-AE55F4BE.cat.csiro.au)
[01:37:48] <strcat> there are papers doing cryptanalysis on fewer rounds on AES than the standard
[01:37:56] <strcat> or *more* rounds
[01:37:57] *** Parts: sammykim (sammy.kim@5AB4884B.FCC4549.14D5B978.IP) ()
[01:38:15] *** Joins: sammykim_ (sammy.kim@5AB4884B.FCC4549.14D5B978.IP)
[01:40:37] <mcpherrin> strcat: standard is ten.  Three cycles is definitely too few
[01:40:45] <mcpherrin> you could *probably* get away with 4
[01:41:09] <mcpherrin> At least against semi-dedicated attackers
[01:41:10] *** Joins: Tekk_ (user@moz-133CF5D1.ec.res.rr.com)
[01:41:11] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[01:41:33] <strcat> mcpherrin: is there actually cryptanalysis showing the level of security?
[01:41:34] <Tekk_> hey, is #[feature(globs)] broken in 0.9? The compiler tells me to add it but it continues to throw an error and tell me to after adding
[01:41:49] <dbaupp> Tekk_: you need a semicolon after it
[01:42:02] *** Joins: jeffdb (jeffbelg@moz-ABCAA64B.efi.com)
[01:42:02] <dbaupp> to make it attach to the crate, rather than the next item
[01:42:03] <strcat> security against DoS doesn't require the same kind of guarantees as encryption
[01:42:12] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[01:42:21] <Tekk_> dbaupp: ah
[01:42:32] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[01:42:38] * strcat shrugs
[01:42:49] <strcat> mcpherrin: Go uses 3 AESENC rounds and doesn't bother with the key schedule.
[01:43:15] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[01:43:26] <strcat> (for variable length keys they do... at least 3 per block afaict)
[01:43:58] <mcpherrin> strcat: All I've seen is that 7 rounds has 2^100 or less "bit-equivalent security" or however you want to notate
[01:44:21] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[01:44:42] <strcat> it's not even really a security guarantee, as they can always just throw more firepower into the DoS
[01:44:45] <mcpherrin> strcat: I suspect 3 rounds is brute-forcable with a "reasonable" budget
[01:44:57] <strcat> it's about how difficult it becomes to do it
[01:45:05] *** Joins: suzak (suzak@moz-FEBD2936.sakura.ne.jp)
[01:45:06] <mcpherrin> yeah, three rounds is still definitely difficult
[01:45:11] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[01:45:28] <jeffdb> Can anyone help me with rust-bindgen? I'm trying to compile it and getting this error: gen.rs:43:48: 43:76 error: use of undeclared type name `parse::token::InternedString`
[01:45:31] <mcpherrin> but I'm not up on the latest AES attacks
[01:46:36] <sfackler> jeffdb: sounds like your rustc is out of date
[01:46:51] <jeffdb> I'm using rust-nightly
[01:46:53] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[01:46:57] <jeffdb> 0.10-pre
[01:47:02] <sfackler> it hasn't had a new build for a couple of days
[01:47:44] <jeffdb> ok, I'll grab master. thanks
[01:48:04] <wycats> sfackler: ugh
[01:48:22] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[01:48:27] <acrichto> strcat: sorry was distracted, I'm not sure if that's still a problem, I checked I think like 2 rebasings ago and it still was, but it may be gone by now
[01:48:46] * strcat will try in a bit
[01:48:55] <sfackler> wycats: ?
[01:49:20] <coalcore> suddenly IoResults everywhere
[01:49:57] <wycats> sfackler: I <3 nightly
[01:50:03] <jeffdb> ^
[01:50:04] <wycats> coalcore: better than conditions everywhere!
[01:50:06] <derek_c> acrichto: no difference between pop() and casual pop()?  https://github.com/mozilla/rust/blob/master/src/libgreen/sleeper_list.rs#L31-L37
[01:50:40] <coalcore> wycats: agreed
[01:50:57] <acrichto> derek_c: I believe that's a design from long ago where the implementation in theory could do two different things, but the implementation currently doesn't have much difference
[01:52:15] <derek_c> acrichto: I see
[01:55:37] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[01:57:34] *** Joins: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP)
[01:57:44] <coalcore> hmm does anyone else think the if_ok! macro could be renamed to something better? Maybe just ok!
[01:57:56] <brson> coalcore: that's a hot topic right now!
[01:58:10] *** Joins: Cevn (sameer@moz-F316C21E.hr.hr.cox.net)
[01:58:41] *** Quits: gimpf (gimpf@moz-9A3C6795.adsl.highway.telekom.at) (Quit: Leaving.)
[01:58:49] *** Joins: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP)
[01:59:16] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[01:59:37] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[02:00:37] *** Joins: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[02:01:24] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[02:02:01] *** Joins: lpy (lpy@51E8C831.DDD9F058.E99F7FDB.IP)
[02:02:13] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[02:02:14] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[02:02:15] <acrichto> coalcore: https://github.com/mozilla/rust/issues/12037
[02:02:24] *** Quits: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[02:03:00] *** Joins: kanru (kanru@moz-99690620.hinet-ip.hinet.net)
[02:03:15] *** Joins: adu (ajr@moz-314C125F.washdc.fios.verizon.net)
[02:03:40] <mcpherrin> acrichto: I'd kinda gotten attached to try!
[02:03:59] *** Quits: lpy (lpy@51E8C831.DDD9F058.E99F7FDB.IP) (Ping timeout)
[02:04:26] <acrichto> (me too!)
[02:04:55] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[02:05:52] *** Quits: onelson (onelson@moz-DD666EC5.laika.com) (Quit: Leaving.)
[02:05:58] *** Quits: Cevn (sameer@moz-F316C21E.hr.hr.cox.net) (Quit: leaving)
[02:06:15] *** Joins: Cevn (sameer@moz-F316C21E.hr.hr.cox.net)
[02:06:48] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[02:09:02] <Cevn> Hello 
[02:09:21] *** Joins: elyzion (elyzion@moz-D4AAE1FD.ap122.ftth.ucom.ne.jp)
[02:09:58] <Cevn> You know I was going to ask a question but i think I thought of the answer while formulating the question 
[02:10:01] <Cevn> so there's that 
[02:10:38] <strcat> acrichto: what does if_ok! actually do?
[02:10:49] <strcat> that looks like it could just be a method
[02:11:07] <mcpherrin> strcat: you can't return the parent in a method
[02:11:25] <strcat> hm?
[02:11:27] <mcpherrin> the "return" is the important part, and why it's a macro
[02:11:29] *** Joins: ktt3ja (ktt3ja@moz-85E2770C.hsd1.va.comcast.net)
[02:11:40] <strcat> what do you mean 'the parent'?
[02:11:49] <mcpherrin> strcat: the point where the macro is invoked
[02:11:50] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:12:05] * strcat doesn't understand
[02:12:11] <coalcore> the return would be swallowed by the if_ok method 
[02:12:31] <sfackler> strcat: it's defined as match foo { Some(e) => e, Err(e) => return Err(e) }
[02:12:35] <strcat> oh
[02:12:49] <mcpherrin> the macro is match $e { Ok(e) => e, Err(e) => return Err(e) }
[02:13:53] <mcpherrin> In some ways i'm wary of hiding control flow in macros though
[02:15:09] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:15:27] *** Parts: jeffdb (jeffbelg@moz-ABCAA64B.efi.com) ()
[02:15:58] <coalcore> mcpherrin: same, probably a good argument for try!
[02:16:03] *** Parts: Cevn (sameer@moz-F316C21E.hr.hr.cox.net) ()
[02:16:05] *** Joins: Cevn (sameer@moz-F316C21E.hr.hr.cox.net)
[02:16:54] <coalcore> mcpherrin: people coming from exception-worlds will assume there is some control-flow consequence to failure
[02:17:05] <mcpherrin> the problem with try! is that it's kinda the opposite name of what it does
[02:17:08] <strcat> coalcore: there is
[02:17:10] <strcat> it unwinds
[02:17:13] <strcat> it calls destructors on the way up
[02:17:18] <strcat> and you can catch it at a task boundary
[02:17:23] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[02:17:39] <mcpherrin> try allows you to catch failure, but try! propogates the Err up to your caller
[02:17:44] <mcpherrin> opposite land!
[02:17:49] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[02:18:08] <mcpherrin> return_error_if_this_is_an_error!
[02:18:08] <coalcore> mmm, I see what you're saying, but 'catch' allows you to catch
[02:18:37] <mcpherrin> a try { } catch block in say c++ implies you're trying to handle failure, but try! implies you're avoiding handling it
[02:19:17] <mcpherrin> nmatsakis just commented something on the same idea on the issue
[02:19:19] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[02:19:24] * strcat doesn't like unwinding
[02:19:43] <mcpherrin> well at least try! is still a normal return
[02:20:11] <strcat> makes me sad that priority queues, sorts and trees need to be slower for unwinding support
[02:20:14] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[02:20:36] <nmatsakis> strcat: Result<T> is not...unwind?
[02:20:54] <strcat> nmatsakis: tangential to this try! conversation
[02:21:05] <nmatsakis> ok
[02:21:09] <strcat> 21:18:04     coalcore | mcpherrin: people coming from exception-worlds will assume there is some control-flow consequence to failure
[02:21:11] <strcat> from that
[02:21:50] <olsonjeffery> can we strip those data structures down to some core, runtime-free component in prim and extend them w/ traits in std?
[02:22:09] <dbaupp> olsonjeffery: not while keeping them failure safe
[02:22:19] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:22:43] <nmatsakis> I dispute the perf impact of unwinding, though I don't care to get into this argument at the moment.
[02:23:15] <strcat> nmatsakis: the perf impact is needing to swap instead of move because the user-defined comparison method can fail
[02:23:31] <strcat> so not directly from unwinding itself
[02:23:38] <strcat> just perf impact from something possibility unwinding
[02:23:41] <strcat> possibly*
[02:23:49] <nmatsakis> ok.
[02:23:56] <strcat> rust is in a better situation than C++ because moves can't unwind
[02:24:43] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[02:24:48] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Client exited)
[02:25:19] *** Quits: adu (ajr@moz-314C125F.washdc.fios.verizon.net) (Quit: adu)
[02:27:43] *** Joins: iz (iz@95206C06.2F87036F.DDE5D3F6.IP)
[02:27:50] *** Joins: rwt (rwt@A2BB8044.DB91A3F2.51B6877.IP)
[02:27:54] <iz> yo guys
[02:28:12] <alan_andrade> yo
[02:28:32] <strcat> olsonjeffery: defining containers in a freestanding lib is problematic regardless
[02:28:47] <strcat> olsonjeffery: std::hashmap uses the TLS RNG in new()
[02:28:54] <iz> if you guys got some time, i got a question about using the change_dir() method from std::os
[02:29:17] <iz> it's always returning false, so the directory's not changing
[02:29:21] <strcat> olsonjeffery: and HashMap::new() can only call a new method defined in that crate in a non-trait
[02:30:04] *** Quits: cluelessperson (cluelesspe@moz-617B0E16.tx.res.rr.com) (Connection reset by peer)
[02:30:09] *** Quits: chandler (foo@moz-F990611.mastenbrook.net) (Ping timeout)
[02:30:09] *** Quits: davbo (dave@moz-84455EE7.skybroadband.com) (Ping timeout)
[02:30:09] *** Quits: FreeFull (freefull@moz-1883929A.as13285.net) (Ping timeout)
[02:30:10] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[02:30:14] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[02:30:14] *** Joins: cluelessperson (cluelesspe@moz-617B0E16.tx.res.rr.com)
[02:30:19] *** Joins: tabraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[02:30:21] *** Quits: negge (unlord@moz-5BD795E6.hsd1.va.comcast.net) (Ping timeout)
[02:30:21] *** Quits: dogurness (dogurness@moz-FA042A88.nyc.res.rr.com) (Ping timeout)
[02:30:21] *** Quits: darnuria (darnuria@moz-AB6EB255.ip-91-121-133.eu) (Ping timeout)
[02:30:21] *** Quits: Peng (mnordhoff@moz-D5175E95.mattnordhoff.net) (Ping timeout)
[02:30:21] *** Quits: myname (myname@F6BC1CBC.2C5F047.A0197E77.IP) (Ping timeout)
[02:30:21] *** Joins: chandler (foo@moz-F990611.mastenbrook.net)
[02:30:22] *** Joins: Peng (mnordhoff@moz-D5175E95.mattnordhoff.net)
[02:30:22] *** Joins: negge (unlord@moz-5BD795E6.hsd1.va.comcast.net)
[02:30:23] *** Quits: MrByte (Dartakio@moz-81792842.chy-wy.client.bresnan.net) (Connection reset by peer)
[02:30:24] *** Quits: iz (iz@95206C06.2F87036F.DDE5D3F6.IP) (Connection reset by peer)
[02:30:25] *** Joins: noam_ (noam@F6B530A7.720527A7.416762B.IP)
[02:30:26] *** Joins: myname (myname@F6BC1CBC.2C5F047.A0197E77.IP)
[02:30:27] *** Joins: FreeFull (freefull@moz-1883929A.as13285.net)
[02:30:28] *** Joins: MrByte (Dartakio@moz-81792842.chy-wy.client.bresnan.net)
[02:30:30] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[02:30:30] *** Quits: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu) (Ping timeout)
[02:30:30] *** Quits: bascule (bascule@moz-3D395603.compute-1.amazonaws.com) (Ping timeout)
[02:30:30] *** Quits: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP) (Ping timeout)
[02:30:31] *** Joins: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu)
[02:30:31] *** concrete.mozilla.org sets mode: +R 
[02:30:39] *** Quits: pauls (pauls@moz-BFEF1F22.ccs.neu.edu) (Ping timeout)
[02:30:39] *** Quits: pcdummy (pcdummy@moz-CF4CA865.page4me.ch) (Ping timeout)
[02:30:39] *** Quits: zmike (discomfito@moz-975BC507.hsd1.ct.comcast.net) (Ping timeout)
[02:30:39] *** Quits: parcha (quassel@moz-11C31A5F.hsd1.ma.comcast.net) (Ping timeout)
[02:30:39] *** Quits: luisbg (luisbg@moz-C54443AD.baconseed.org) (Ping timeout)
[02:30:39] *** Quits: nyuszika7h (nyuszika7h@moz-423AFF1D.net) (Ping timeout)
[02:30:39] *** Quits: FlyingFoX (quassel@moz-8F529370.weh.rwth-aachen.de) (Ping timeout)
[02:30:39] *** Quits: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP) (Ping timeout)
[02:30:40] *** Quits: Dessimat0r (Dessimat0r@moz-E3008B7A.me) (Ping timeout)
[02:30:42] *** Quits: Yurume (Yurume@A826BD81.8A0DEF81.38747683.IP) (Ping timeout)
[02:30:42] *** Quits: takuin (takuin@moz-21A5F23D.ks.ks.cox.net) (Ping timeout)
[02:30:45] *** Joins: Dessimat0r (Dessimat0r@moz-E3008B7A.me)
[02:30:46] *** Quits: rwt (rwt@A2BB8044.DB91A3F2.51B6877.IP) (Ping timeout)
[02:30:46] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[02:30:51] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[02:30:51] *** Quits: dju (dju@moz-83BD5EC.dmz.me) (Ping timeout)
[02:30:51] *** Quits: lahwran (lahwran@lahwran.net) (Ping timeout)
[02:30:51] *** Quits: flowsnake (flowsnake@moz-10902DAB.cable.virginm.net) (Ping timeout)
[02:30:55] *** Joins: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP)
[02:30:59] <strcat> what is +R?
[02:30:59] *** Quits: koomi (koomi@moz-41AD638A.uberspace.de) (Ping timeout)
[02:30:59] *** Quits: mixi (mixi@moz-DBD8904A.org) (Ping timeout)
[02:30:59] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[02:31:00] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[02:31:00] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Ping timeout)
[02:31:04] *** Quits: Seldaek (seld@moz-5DEA7688.ch) (Ping timeout)
[02:31:11] *** Joins: dju (dju@moz-83BD5EC.dmz.me)
[02:31:12] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[02:31:12] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[02:31:23] <coalcore> whats with the timeouts
[02:32:49] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[02:33:30] *** Joins: uzi_mantis (iz@95206C06.2F87036F.DDE5D3F6.IP)
[02:33:35] <uzi_mantis> yo guys
[02:34:10] <brson> what is the syntax for closure env bounds?
[02:34:14] <uzi_mantis> so yeah, trying to use os::change_dir(), but it's always evaluating to false and thus not actually changing the working directory
[02:34:24] <strcat> brson: it's not still :Send ?
[02:34:37] <uzi_mantis> is there some special permission i'm forgetting to set?
[02:35:33] *** concrete.mozilla.org sets mode: -R 
[02:35:36] <strcat> uzi_mantis: directory does need to be executable
[02:35:40] <brson> strcat: as in `||: Send`?
[02:35:42] *** Joins: lahwran (lahwran@lahwran.net)
[02:35:45] *** Joins: flowsnake (flowsnake@moz-10902DAB.cable.virginm.net)
[02:36:13] <Cevn> uzi_mantis: have you tried printing out the directory you're change_dir()ing to? I ask because i made a simple mistake earlier on the same issue
[02:37:02] *** Quits: diverse (diverse@moz-ED94B8D.oc.oc.cox.net) (Quit: WeeChat 0.4.2)
[02:37:04] <strcat> brson: yeah
[02:37:04] <Cevn> was using arg(0) instead of arg(1) so it was trying to cd to cd no matter what came after. 
[02:37:14] <uzi_mantis> yeah, i print the directory using os::getcwd() immediately after i use the os::change_dir() method -- and it shows no change from the previous working directory
[02:37:19] <strcat> brson: |A, B|: Send -> C ? 
[02:37:39] <brson> strcat: thanks
[02:37:54] <Cevn> uzi_mantis: I meant the directory going into change_dir() 
[02:38:58] <uzi_mantis> i can try that out and see what i get.  strcat: what do you mean an executable directory?
[02:39:16] <uzi_mantis> btw i appreciate the advice greatly so far, Cevn and strcat
[02:40:04] *** Joins: rwt (rwt@A2BB8044.DB91A3F2.51B6877.IP)
[02:40:07] <Cevn> uzi_mantis: no problem... I'm still a noob myself so I'm trying to rack up karma so I can ask questions as well ;) 
[02:40:15] <coalcore> uzi_mantis: +x permission must exist for the directory if you are in unix
[02:41:10] *** Quits: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca) (Ping timeout)
[02:41:21] *** Joins: yuriks (yuriks@541FB14B.E4E1C694.748B6D8D.IP)
[02:43:24] *** Quits: elyzion (elyzion@moz-D4AAE1FD.ap122.ftth.ucom.ne.jp) (Quit: Lost terminal)
[02:43:58] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:44:37] *** Quits: vgeddes (vincent.ge@moz-D8D4FE4D.dsl.mweb.co.za) (Ping timeout)
[02:44:52] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[02:44:52] *** ChanServ sets mode: +ao pcwalton pcwalton
[02:46:17] *** Joins: zmike (discomfito@moz-975BC507.hsd1.ct.comcast.net)
[02:49:14] <uzi_mantis> i notice that the +x permission is actually set for the directory i'm trying to change into.  any other possibilities for why os::change_dir() might be evaluating to false?
[02:49:35] *** Quits: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net) (Quit: Leaving.)
[02:50:30] *** Joins: cgaebel (clark@moz-92F543E4.nycmny.east.verizon.net)
[02:51:39] <uzi_mantis> for reference, here's my code cut-out: http://pastebin.com/k4b2wkAr
[02:51:41] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[02:52:28] <cgaebel> http://pastebin.com/qh5JsAc5
[02:52:33] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[02:52:49] <cgaebel> is it just me, or if I call find(), it should return Some if search returns Some, and None if search returns None
[02:52:51] <cgaebel> ?
[02:53:11] <cgaebel> (code at top, output at bottom)
[02:53:29] <Cevn> uzi_mantis: i'm looking at it now 
[02:54:11] <Cevn> uzi_mantis: are you sure you have a folder /home/Documents? that's kind of unusual 
[02:54:25] <mcpherrin> Cevn: it isn't that unusual
[02:54:29] <mcpherrin> oh wait
[02:54:41] <mcpherrin> /home/$USER/Documents is usual
[02:54:43] <Cevn> mcpherrin: wouldn't you usually have a user after /home
[02:54:52] <mcpherrin> I totally missed that, yeah
[02:54:57] <Cevn> mcpherrin: my thought as well 
[02:55:19] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[02:56:44] <uzi_mantis> yeah, the folder /home/Documents definitely exists.  trying "cd ~/Documents" in bash takes me to the desired directory with all the stuff i've had there
[02:57:23] <mcpherrin> what does "cd ~/Documents && pwd" print?
[02:57:49] <Cevn> mcpherrin: yes that 
[02:58:35] *** Joins: onelson (owen@18CF7301.95770028.5B6BFE7D.IP)
[02:58:38] <uzi_mantis> "/home/student/Documents"
[02:58:47] <uzi_mantis> oh my, alright
[02:58:49] <Cevn> uzi_mantis: try using that path ;) 
[03:00:22] <uzi_mantis> yo, i love you guys
[03:00:55] <uzi_mantis> though, why does "cd ~/Documents" work in bash? does "~" indicate /home/$USER/ always in unix?
[03:01:06] <arrdem> uzi_mantis: by convention it does.
[03:01:15] <Cevn> uzi_mantis: pretty much, i think it goes to the HOME environment variable or something
[03:01:26] <arrdem> uzi_mantis: technically its $HOME, but /home/$USERNAME is normal.
[03:01:52] <strcat> it's normal for users representing humans but not system users
[03:02:07] *** Quits: cgaebel (clark@moz-92F543E4.nycmny.east.verizon.net) (Client exited)
[03:02:12] <arrdem> yeah system users can be in /var or /srv or /$whateverthefuck
[03:02:16] <uzi_mantis> makes sense, thanks for helping a moron start out on rust/unix :)
[03:02:21] *** Joins: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[03:02:28] *** Quits: derek_c (derek@moz-B8433164.cit.cornell.edu) (Ping timeout)
[03:02:47] *** Joins: lpy (lpy@51E8C831.DDD9F058.E99F7FDB.IP)
[03:03:00] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[03:03:11] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[03:03:20] *** Quits: jga (asdf@A2FD2A4E.7179CBA0.B5524284.IP) (Ping timeout)
[03:03:48] *** Quits: myname (myname@F6BC1CBC.2C5F047.A0197E77.IP) (Ping timeout)
[03:03:55] *** Joins: myname (myname@F6BC1CBC.2C5F047.A0197E77.IP)
[03:04:29] *** Quits: Earnestly (earnest@811A97A3.CF19AA69.5411983D.IP) (Ping timeout)
[03:04:44] *** Quits: lpy (lpy@51E8C831.DDD9F058.E99F7FDB.IP) (Ping timeout)
[03:04:52] *** Joins: barosl (barosl@34F62860.E551553C.7544CABF.IP)
[03:06:07] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[03:06:07] *** ChanServ sets mode: +ao dherman dherman
[03:08:05] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[03:09:52] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[03:10:00] *** Quits: new_one (new_one@13E43017.8AA374E2.B3C0173E.IP) (Ping timeout)
[03:10:06] *** Quits: rootnode (rootnode@moz-7FAB5E8.ip1.george24.com) (Ping timeout)
[03:10:18] *** Quits: Cevn (sameer@moz-F316C21E.hr.hr.cox.net) (Ping timeout)
[03:11:47] *** Joins: a_m0d (a_m0d@moz-2F294D00.acanac.net)
[03:13:14] *** Joins: cgaebel (clark@moz-92F543E4.nycmny.east.verizon.net)
[03:14:18] *** Joins: new_one (new_one@13E43017.8AA374E2.B3C0173E.IP)
[03:14:26] *** Joins: pongad (Mibbit@moz-7E8AAD2E.res.gatech.edu)
[03:14:44] <pongad> Is it possible to deref a &T without cloning?
[03:15:20] <strcat> pongad: if it's Pod, yes
[03:15:33] <strcat> if it's not, yes, but it won't let you pass/assign by-value from it
[03:15:49] <strcat> since that'd be a move of ownership and you don't own the source
[03:15:57] <o11c> uzi_mantis: also, in corporate or university settings, it may be /home/staff/$USER, /home/students/$USER, ...
[03:16:14] *** Quits: trobertson (quassel@moz-A4AC319.sd.sd.cox.net) (Client exited)
[03:16:29] <pongad> strcat: I thought POD's implicitly clones whenever you assign?
[03:17:05] <dbaupp> pongad: Pod means it doesn't move ownership when assigned by value
[03:17:14] *** Quits: a_m0d (a_m0d@moz-2F294D00.acanac.net) (Quit: Leaving.)
[03:17:23] <dbaupp> i.e. what some people call an "implicit copy"
[03:17:24] <strcat> pongad: no
[03:17:28] <strcat> pongad: there are never implicit clones
[03:17:40] <strcat> rust always does what C does on pass/assign/return
[03:17:45] <strcat> there's no overloading of it
[03:18:00] <aatch> pongad, a move is a shallow copy, Pod types are just when a shallow copy is *also* a complete copy.
[03:18:10] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[03:18:10] <strcat> aatch: well, not necessarily! :)
[03:18:13] <strcat> & is Pod
[03:18:16] <strcat> as is Gc<T>
[03:18:29] <aatch> strcat, well barring some exceptions.
[03:18:35] <strcat> well, I would say...
[03:18:35] <acrichto> I think Gc<T> isn't Pod b/c of take glue
[03:18:40] <dbaupp> acrichto: now
[03:18:43] *** Joins: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net)
[03:18:48] <acrichto> oh cool
[03:18:52] <strcat> acrichto: I think rust counts it as Pod though, maybe I'm wrong
[03:18:58] <pcwalton> no it doesn't
[03:19:00] <dbaupp> but in future it will probably be truly Pod
[03:19:02] <strcat> hm
[03:19:02] <pcwalton> I wrote that code.
[03:19:11] <pcwalton> we might end up keeping "take glue" for @ though
[03:19:14] <pcwalton> depends on write barriers
[03:19:14] <acrichto> rusti: use std::gc::Gc; fn assert_pod<T: Pod>() {} assert_pod::<Gc<int>>();
[03:19:15] -rusti- <anon>:10:53: 10:74 error: instantiating a type parameter with an incompatible type `std::gc::Gc<int>`, which does not fulfill `Pod`
[03:19:15] -rusti- <anon>:10         use std::gc::Gc; fn assert_pod<T: Pod>() {} assert_pod::<Gc<int>>();
[03:19:16] -rusti-                                                               ^~~~~~~~~~~~~~~~~~~~~
[03:19:16] -rusti- error: aborting due to previous error
[03:19:17] -rusti- application terminated with error code 101
[03:19:18] <pcwalton> some GCs need 'em
[03:19:19] <pongad> Wait, so if I assign let x: int = y, Rust and C acts the same way right?
[03:19:26] <pcwalton> incremental might need it
[03:19:31] <pcwalton> generational probably isn't important for rust
[03:19:34] *** Quits: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net) (Client exited)
[03:19:36] *** Joins: trobertson (quassel@moz-A4AC319.sd.sd.cox.net)
[03:19:37] <strcat> pongad: assign/pass/return is always identical to C
[03:19:39] <strcat> it's a shallow copy
[03:19:44] <o11c> is there any reason you can't impl Clone on a Pod ?
[03:19:45] <dbaupp> pcwalton: wouldn't the write barriers go through the Gc .borrow() etc. methods?
[03:19:49] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[03:19:52] <dbaupp> (maybe?)
[03:19:54] <pcwalton> dbaupp: write barriers happen on a clone
[03:19:56] <strcat> pongad: unlike C++ where there are move/copy ctors
[03:19:56] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[03:20:03] <aatch> o11c, you can, just use deriving
[03:20:07] <strcat> there *is* a static check layered on top
[03:20:07] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[03:20:09] <pongad> ok, I think I kinda get it
[03:20:22] <pongad> So...I'm a little curious about the Orderable trait
[03:20:24] <o11c> aatch: no, I mean impl it to do something different
[03:20:25] <strcat> if the type contains &mut, a closure or a destructor, performing a shallow copy moves ownership from source to destination
[03:20:34] <aatch> o11c, well that too, yes
[03:20:36] <strcat> and the source can't be used until it's reinitialized by giving it ownership of another value
[03:20:38] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[03:20:42] <o11c> aatch: so, there would be a difference between implicit copy and explicit clone?
[03:20:52] *** Joins: jga (asdf@A2FD2A4E.7179CBA0.B5524284.IP)
[03:20:54] <strcat> o11c: there *can* be atm
[03:20:56] <aatch> o11c, in theory, yes.
[03:21:14] *** Quits: zz_kimundi (kimundi@moz-68679156.dip0.t-ipconnect.de) (Ping timeout)
[03:21:20] * o11c is happy with his new vim autocmd
[03:21:22] <strcat> we can't impl Clone for Pod
[03:21:37] <pongad> If you implement min(&self, &other) -> Self, don't you always have to clone?
[03:22:00] <strcat> there is an Orderable trait?
[03:22:05] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[03:22:05] <aatch> strcat, there is
[03:22:11] <strcat> min/max should be min(T, T) -> T
[03:22:15] <pongad> strcat: inside mid::num
[03:22:19] <strcat> well, *shrug*
[03:22:21] <strcat> not how I'd do it
[03:22:42] <strcat> rusti: fn min<T: Ord>(x: T, y: T) -> T { if x < y { x } else { y } }
[03:22:45] -rusti- pastebinned 10 lines of output: http://ix.io/aka
[03:22:54] <strcat> rusti: fn min<T: Ord>(x: T, y: T) -> T { if x < y { x } else { y } } min(5, 10)
[03:22:55] -rusti- 5
[03:22:59] <strcat> rusti: fn min<T: Ord>(x: T, y: T) -> T { if x < y { x } else { y } } *min(&5, &10)
[03:23:00] -rusti- 5
[03:23:12] <pongad> if it's min(T,T) -> T, calling min(x,y) means you'll loose one of them right?
[03:23:14] <dbaupp> another option is (&'a T, &'a T) -> &'a T
[03:23:16] <strcat> I don't really understand why there's an Orderable trait though
[03:23:22] <strcat> we have Ord, TotalOrd and Orderable...
[03:23:23] <o11c> dbaupp: that
[03:23:50] <strcat> dbaupp: but (T, T) -> T works for borrowed pointers too
[03:23:54] <strcat> no reason to force using borrowed ptrs
[03:23:59] <pongad> strcat: It was there kind of because default methods didn't work when it was created
[03:24:04] <dbaupp> strcat: ah, much better
[03:24:12] <strcat> dbaupp: I did that above ^
[03:24:19] * dbaupp always forgets references are values
[03:24:24] <o11c> (incidentally, I'm kind of annoyed at the fact that C++ std::min requires the arguments to be of the same type, making the C macro version is actually better in some ways!)
[03:24:24] <dbaupp> strcat: cool
[03:24:29] *** Joins: blaenk (blaenk@moz-43A413B6.lsanca.dsl-w.verizon.net)
[03:24:37] *** Joins: zz_kimundi (kimundi@moz-47FBED98.dip0.t-ipconnect.de)
[03:24:43] <strcat> o11c: well, rust's Ord isn't Ord<T>
[03:24:45] <strcat> so it will too
[03:24:57] <o11c> well, rust is stricter about types anyway
[03:25:02] <strcat> and Ord<T> would quickly hit coherence issues and odd other problems
[03:25:06] *** zz_kimundi is now known as kimundi
[03:25:06] <o11c> and, importantly, it doesn't treat 0 as int
[03:25:19] <pongad> I kind of want to merge Orderable into Ord, though I'm not quite sure how to do it
[03:25:23] <o11c> std::min(0, <some uint16_t>) should just work
[03:25:28] <strcat> dbaupp: https://github.com/thestinger/rust-core/blob/master/core/cmp.rs imo that's ideal...
[03:25:40] <o11c> (I ended up writing my own min and max that use std::common_type)
[03:26:03] *** Joins: adu (ajr@moz-314C125F.washdc.fios.verizon.net)
[03:26:06] *** Quits: adu (ajr@moz-314C125F.washdc.fios.verizon.net) (Quit: adu)
[03:26:27] *** Joins: adu (ajr@moz-314C125F.washdc.fios.verizon.net)
[03:26:44] <strcat> dbaupp: I think Ord should be total, and it can have cmp
[03:26:55] <dbaupp> strcat: I agree with that
[03:26:56] <strcat> (and a sane Eq too...)
[03:27:06] <SiegeLord> Hmm... it'd be neat if you Ord was parametrized by return type
[03:27:10] <SiegeLord> *-you
[03:27:28] <dbaupp> strcat: is anyone actually arguing against doing that in std? (rather than it not happening because noone can be bothered?)
[03:27:32] <strcat> floats need their own min/max/clamp anyone
[03:27:34] <strcat> anyway*
[03:27:41] <SiegeLord> You could then do Matrix > 0
[03:27:52] <dbaupp> SiegeLord: return type?
[03:27:56] <strcat> dbaupp: dunno, I opened an RFC
[03:28:00] <dbaupp> or RHS type
[03:28:01] <dbaupp> ?
[03:28:01] <strcat> I don't think there was universal agreement with it
[03:28:12] <SiegeLord> dbaupp: Return type
[03:28:24] <dbaupp> strcat: https://github.com/mozilla/rust/issues/10320
[03:28:27] <dbaupp> SiegeLord: oh, I see
[03:28:39] <dbaupp> SiegeLord: so you'd get a Matrix<bool> in return
[03:28:39] <dbaupp> ?
[03:28:57] <SiegeLord> Something of the sort
[03:29:54] <pongad> if min/max is (T,T)->T, won't they be slow for large structs?
[03:30:01] *** Joins: t4nk944 (bzlandfill@7BA9F2E9.599F34EC.DDE5D3F6.IP)
[03:30:04] <pongad> Or, is it unavoidable anyway...
[03:30:07] <strcat> rusti: fn min<T: Ord>(x: T, y: T) -> T { if x < y { x } else { y } } min(5, 10)
[03:30:09] -rusti- 5
[03:30:11] <strcat> rusti: fn min<T: Ord>(x: T, y: T) -> T { if x < y { x } else { y } } *min(&5, &10)
[03:30:12] -rusti- 5
[03:30:19] <strcat> pongad: don't have to pass them by-value
[03:30:36] <strcat> &T defines Ord/Eq
[03:30:44] <dbaupp> strcat: haha, we made basically the same comment
[03:30:56] <pongad> Oh right, since you can defer later
[03:31:05] <pongad> So much magic for me to comrehend
[03:31:21] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Client exited)
[03:31:24] <strcat> pongad: there's not really magic, &T is a type just like HashSet<T>
[03:31:29] <strcat> and it implements Ord for T: Ord
[03:31:42] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[03:31:44] <strcat> rust's references are just plain old value types
[03:31:50] <strcat> there's no special 'pass-by-reference', etc.
[03:31:51] *** Quits: lahwran (lahwran@lahwran.net) (Ping timeout)
[03:31:52] <pongad> strcat: This is completely true. I think I'm just a little confused by Rust assignment in general
[03:32:09] <strcat> well it's always a shallow copy like C :P
[03:32:15] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[03:32:15] <strcat> pointers in C have value semantics too
[03:32:18] <pongad> So, is there a case where x = y doesn't work?
[03:32:21] <strcat> pongad: no
[03:32:34] <strcat> pongad: all types have shallow copy passing/assigning/returning
[03:32:36] <dbaupp> assuming the types match
[03:32:39] <strcat> no way to override or prevent it
[03:32:54] <strcat> in C++, it's much different
[03:32:58] <pongad> A dumb question, what's Clone for? :D
[03:33:06] <strcat> pongad: minimal work to go from &T to T
[03:33:08] *** Quits: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com) (Ping timeout)
[03:33:25] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[03:33:28] <strcat> pongad: so... all types can be shallow copied as part of the language
[03:33:30] <dbaupp> "sheep" clone
[03:33:42] <strcat> but for non-Pod types (closures, &mut, destructors), it requires moving ownership
[03:33:43] <dbaupp> pass by value is shallow, DeepClone is deep
[03:33:44] <strcat> so you have to own the source
[03:33:55] <strcat> &T expresses a lack of ownership - it only observes a value
[03:34:02] <strcat> so you can move ownership from it
[03:34:14] <strcat> so for non-Pod types, Clone has to do something special
[03:34:21] <strcat> for Rc, it does refcount++ and a shallow copy
[03:34:23] <t4nk944> I'm new to rust and trying to initialize a global vector of strings. I wrote this: static mut vec: ~[~str] = ~[ ]. But everytime I try to add a string to the vector, I get type mismatched types. How do I fix this?
[03:34:35] <strcat> for ~T, it allocates a new ~T and clones the inner value to it
[03:34:49] <strcat> t4nk944: "foo" is &str
[03:35:00] <strcat> immutable string slice
[03:35:05] <pongad> Essentially, use Clone when you have a &T and you need your own copy of T. Is that kind of right?
[03:35:08] <strcat> ~str is a dynamic array storing a string, can be mutated/resized
[03:35:24] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[03:35:29] <strcat> pongad: yes, when T is non-Pod
[03:35:35] <strcat> otherwise you can just deref
[03:35:51] <strcat> pongad: generic functions needing to do that will generally use Clone
[03:36:13] <strcat> in an ideal world, Clone would inherit from Pod and all Pod types would implement Clone automatically
[03:36:18] <strcat> but it can't be done due to coherence issues.
[03:36:23] <strcat> well
[03:36:24] <pongad> gotcha, I take it POD Clone's don't do anything special?
[03:36:25] <strcat> sorry
[03:36:27] <strcat> backwards
[03:36:29] <strcat> ;p
[03:36:32] <pongad> Or at least, don't have to?
[03:36:37] <strcat> Pod would inherit from Clone * :)
[03:36:50] <strcat> pongad: they don't have to, and shouldn't
[03:36:53] <strcat> but there's no enforcement of that
[03:37:17] *** Joins: lahwran (lahwran@lahwran.net)
[03:37:19] <pongad> Right
[03:37:24] *** Joins: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP)
[03:37:26] <strcat> just like Eq can't force you to make a == b and b == a the same
[03:37:28] <strcat> at a type system level
[03:37:33] <strcat> but it can tell you that you must
[03:37:42] <dbaupp> I wonder how much compiler would break if we had `trait Pod: Clone {}` in libstd...
[03:37:51] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[03:37:55] <strcat> dbaupp: fixed-size arrays are Pod but not Clone
[03:37:59] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[03:38:00] <strcat> need to make Clone a magical lang item
[03:38:04] <dbaupp> strcat: yeah
[03:38:06] <strcat> (well, some fixed-size arrays)
[03:38:20] *** Quits: blaenk (blaenk@moz-43A413B6.lsanca.dsl-w.verizon.net) (Quit: Leaving)
[03:38:24] <dbaupp> I just mean how much would the compiler explode, given it impls Pod automatically
[03:38:30] <strcat> dbaupp: it's a persistent issue though, also no Eq for fixed-size arrays, [...]
[03:38:32] <dbaupp> and would assume things had Clone when they didn't
[03:38:33] <strcat> dbaupp: ah
[03:38:57] <dbaupp> strcat: I know about [..] and impls, iirc I filed the bug about it :P
[03:39:03] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[03:39:05] *** Quits: t4nk944 (bzlandfill@7BA9F2E9.599F34EC.DDE5D3F6.IP) (Quit: CGI:IRC (EOF))
[03:39:17] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[03:39:17] <strcat> in C++ you can just write
[03:40:14] <quux00> How does one get to a file descriptor in Rust? I want to create a std::run::ProcessOptions, but don't see how to get an i32 file descriptor.
[03:40:41] <strcat> template<typename T, size_t N> bool operator==(...) { ... }
[03:40:43] <strcat> or whatever
[03:40:46] * strcat can't think atm
[03:41:10] <strcat> C++ operator overloading is messed up
[03:41:24] <strcat> doing it with free functions vs. methods changes what it does
[03:42:29] <yuriks> you can't create overloads that don't involve user defined types, so you can't do that
[03:42:46] <yuriks> that said, I'd love to have integer generic arguments in Rust :B
[03:43:07] *** Joins: matthewjpb (Mibbit@E06740E.63B79338.DDE5D3F6.IP)
[03:43:30] <pongad> So, would anyone object to me (trying) merging Orderable into Ord?
[03:44:52] *** Joins: carter (carter@moz-58F59B3A.members.linode.com)
[03:44:57] <carter> o/
[03:45:07] <carter> bjz: i figured out what was wrong with my znc :)
[03:45:24] <matthewjpb> Hi all, I'm a student learning rust in one of my classes. Is this the right place to ask a question if I'm stuck on something?
[03:45:40] <carter> probably!
[03:45:41] <carter> :)
[03:46:12] <carter> matthewjpb: so ask away
[03:46:23] <dbaupp> matthewjpb: CS4414?
[03:46:28] <matthewjpb> yep
[03:46:32] <matthewjpb> typing it up now
[03:46:33] *** Parts: uzi_mantis (iz@95206C06.2F87036F.DDE5D3F6.IP) ()
[03:46:52] <carter> brson: any rust bay area things going over the next 2 weeks?
[03:47:00] <matthewjpb> OK, here goes: I'm trying to pass a channel (std::com::Chan) as a parameter to a function, but I get the error "cannot capture variable of type '&std::comm::Chan<i32>', which does not fulfill 'Send', in a bounded closure.
[03:47:20] <matthewjpb> I might just be barking up the wrong tree trying to solve the problem by passing the Chan though... if that's not something I should be able to do that's fine too
[03:48:56] *** Joins: \n (uid15310@moz-31ABA2C0.irccloud.com)
[03:49:02] <\n> where did println go?
[03:49:54] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[03:50:02] <\n> nvm std::io::stdio::println
[03:50:04] *** Parts: \n (uid15310@moz-31ABA2C0.irccloud.com) ()
[03:50:10] <brson> carter: we haven't gotten anything organized yet, no. if nothing else maybe we can get lunch
[03:50:18] <carter> that'd be cool!
[03:52:21] <carter> i'm pretty flexible next week, though i don't have a car / drivers license
[03:52:39] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[03:52:47] *** Quits: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP) (Quit: brendan)
[03:52:51] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[03:53:00] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[03:53:04] *** Quits: cgaebel (clark@moz-92F543E4.nycmny.east.verizon.net) (Quit: ChatZilla 0.9.90.1 [Firefox 26.0/20131206145143])
[03:54:53] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[03:56:40] <carter> brson: should I shoot you an email ?
[03:58:51] <brson> carter: yes
[03:59:18] <carter> )banderson@mozilla.com ?
[03:59:19] <coalcore> is there a way to call static functions in the current impl block without prepending the entire type name?
[03:59:29] <carter> (just sanity checking :) )
[04:00:13] *** Joins: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP)
[04:01:34] <brson> carter: yep
[04:01:43] <carter> :)
[04:02:48] *** Joins: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[04:03:32] *** Joins: lpy (lpy@51E8C831.DDD9F058.E99F7FDB.IP)
[04:04:23] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[04:05:25] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[04:05:27] *** Quits: lpy (lpy@51E8C831.DDD9F058.E99F7FDB.IP) (Ping timeout)
[04:05:49] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[04:06:21] *** Joins: alex-abreu (alex@C08D9303.9289A342.80AB4F0.IP)
[04:07:06] *** Quits: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP) (Quit: brendan)
[04:07:35] *** Joins: bvssvni (Mibbit@moz-CBD76C21.bb.online.no)
[04:07:41] *** Quits: matthewjpb (Mibbit@E06740E.63B79338.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:07:42] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[04:08:50] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[04:09:02] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[04:09:37] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[04:09:48] *** Quits: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP) (Quit: )
[04:10:01] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[04:10:49] *** Quits: alex-abreu (alex@C08D9303.9289A342.80AB4F0.IP) (Ping timeout)
[04:11:04] *** Joins: alex-abreu (alex@C08D9303.9289A342.80AB4F0.IP)
[04:12:36] *** Quits: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP) (Quit: Lost terminal)
[04:12:42] *** Quits: bvssvni (Mibbit@moz-CBD76C21.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[04:13:12] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[04:14:36] *** Joins: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP)
[04:15:14] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[04:17:40] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[04:18:28] *** Joins: lpy (lpy@51E8C831.DDD9F058.E99F7FDB.IP)
[04:18:34] *** Joins: dsyang (dsyang@5443A547.FCD0EB8C.689607DE.IP)
[04:18:56] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[04:19:22] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[04:19:36] *** Joins: Cevn (sameer@moz-F316C21E.hr.hr.cox.net)
[04:19:36] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[04:20:23] *** Quits: pzol (pzol@86821BC.DEB41A6D.AADC76B.IP) (Ping timeout)
[04:20:29] *** Quits: DasIch (dasich@moz-5EDA591.de) (Ping timeout)
[04:20:34] *** Quits: pzol_ (pzol@86821BC.DEB41A6D.AADC76B.IP) (Ping timeout)
[04:20:54] *** Joins: pzol (pzol@86821BC.DEB41A6D.AADC76B.IP)
[04:20:55] *** Quits: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[04:21:01] *** Joins: Erik_ (Erik_S@moz-D2F74C7B.hlrn.qwest.net)
[04:21:02] *** Quits: decoder (quassel@moz-D7023D7D.own-hero.net) (Ping timeout)
[04:21:02] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[04:21:04] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[04:21:04] *** Joins: DasIch (dasich@moz-5EDA591.de)
[04:21:08] *** Joins: decoder (quassel@moz-D7023D7D.own-hero.net)
[04:21:11] *** Joins: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP)
[04:22:40] *** Joins: bvssvni (Mibbit@moz-CBD76C21.bb.online.no)
[04:24:16] *** Quits: Erik_ (Erik_S@moz-D2F74C7B.hlrn.qwest.net) (Ping timeout)
[04:24:48] *** Joins: kvanb (kvanb@moz-3AC18234.lnse3.lon.bigpond.net.au)
[04:27:34] <phil> anyone got time for a quick question?
[04:27:37] *** Quits: bvssvni (Mibbit@moz-CBD76C21.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[04:27:50] <phil> (hopefully quick)
[04:27:55] <mcpherrin> phil: yes! ask away!
[04:28:14] <phil> how do i check if a function from an external C library returned a null pointer?
[04:28:24] <strcat> raw ptrs have an is_null method
[04:28:36] <strcat> or you could compare against a 0 raw ptr yourself
[04:28:51] <strcat> rusti: (0 as *u8).is_null()
[04:28:52] -rusti- true
[04:29:12] <yuriks> rusti is back! :o
[04:29:15] <phil> ah oky
[04:29:37] <aurynj> rusti: 1
[04:29:38] -rusti- 1
[04:29:44] <aurynj> oh cool
[04:30:26] <phil> its supposed to be a pointer to a string, how might that change things
[04:30:28] <hoverbear> dbaupp: re: Bigints, is there any work ongoing in that? It might be a good project for this directed studies course. :)
[04:31:02] <strcat> I think we should drop bigints from the official repo
[04:31:08] <strcat> using libtommath in the official repo would be okay
[04:31:26] <hoverbear> How big are "bigints"?
[04:31:30] <strcat> arbitrary
[04:31:39] <hoverbear> Like 2^n?
[04:31:39] *** Joins: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP)
[04:31:39] <strcat> they're not much different than vectors
[04:31:46] <hoverbear> Ah I see.
[04:32:02] <strcat> hoverbear: you can keep going until you go OOM
[04:32:08] <strcat> if you can't, it's not much of a bigint :)
[04:32:15] <hoverbear> Gogo 16gb number.
[04:32:39] <strcat> it's a complex problem.
[04:32:42] <arrdem> hoverbear: just compute a really big factorial...
[04:32:44] <mcpherrin> I wish C compilers let you apply the "long" type operator arbitrary number of times
[04:32:47] <mcpherrin> long long long int
[04:32:57] <carter> mcpherrin: the registers would cry
[04:33:05] <mcpherrin> I want my 512 bit numbers!
[04:33:07] *** Quits: adu (ajr@moz-314C125F.washdc.fios.verizon.net) (Quit: adu)
[04:33:10] <dbaupp> hoverbear: they might be a good project for a directed studies course (some of the multiplication algorithms are quite cool)
[04:33:15] <carter> mcpherrin: totally doable with simd
[04:33:18] <strcat> mcpherrin: you can use i512 in LLVM IR
[04:33:26] <strcat> mcpherrin: won't necessarily lower properly on every target
[04:33:29] <mcpherrin> strcat: yeah but I can't call them "long long long long int"
[04:33:39] <mcpherrin> (assuming "long" doubles the size of an int)
[04:33:40] <dbaupp> hoverbear: however, I'm not sure they'll be accepted into the stdlib, over using one of the highly optimised external libraries
[04:33:41] <strcat> mcpherrin: long long is arbitrarily sized anyaway
[04:33:43] <hoverbear> dbaupp: I'll have to see what he's interested in looking at. We definitely want to make the projects things that we could PR.
[04:33:48] <strcat> mcpherrin: only rule is that it's at least 64-bit :)
[04:33:49] <carter> mcpherrin: you could write a Long<a> data type in rust though
[04:33:50] <carter> and iterate it
[04:33:57] <carter> and have trait instances, i think
[04:34:12] <mcpherrin> strcat: I language lawyered it; totally allowable under c99
[04:34:28] <mcpherrin> I just gotta convince clang to accept a patch ;)
[04:34:31] <carter> struct Long<A>  ...
[04:34:36] <strcat> mcpherrin: clang has 128-bit ints at least
[04:34:42] <carter> wat?!
[04:34:44] <carter> strcat: where?
[04:35:10] <dbaupp> GCC has __int128_t, doesn't it?
[04:35:12] <strcat> http://gcc.gnu.org/onlinedocs/gcc/_005f_005fint128.html afaik clang supports this
[04:35:14] <strcat> dbaupp: yep
[04:35:22] <strcat> and per the C standard, intmax_t therefore has to be 128-bit
[04:35:29] <strcat> but they may not have a conformant implementation
[04:35:31] <carter> oh, huh
[04:35:38] <carter> i've just used clang / gcc simd
[04:35:51] *** Quits: dsyang (dsyang@5443A547.FCD0EB8C.689607DE.IP) (Client exited)
[04:35:55] <strcat> carter: I *think* x86_64 defines an ABI for 128-bit integers, may not be recalling it right
[04:36:14] <carter> hehe, abis
[04:36:24] <carter> i've a funny story i can't tell on IRC about abis
[04:36:51] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[04:37:17] <carter> (i nearly got a somewhat foolish abi change for GHC merged into LLVM this summer, happily realized it wouldn't make sense before it got merged in)
[04:37:18] <mcpherrin> carter: Well that's just teasing us :)
[04:37:52] <carter> mcpherrin: later this year i'm going to be donig some very very eccentric / thorough abi experimentation for GHC (I hope, time permitting)
[04:38:07] *** Joins: bvssvni (Mibbit@moz-CBD76C21.bb.online.no)
[04:38:15] <carter> a large part of it will involve lots and lots benchmarking
[04:38:15] <strcat> I swear, haskell's ABI changes based on the time of day
[04:38:26] <carter> strcat: not the calling convention ABI
[04:38:36] <carter> ii'm talking about how funcalls use registers :)
[04:38:47] <carter> not the .hi stuff
[04:38:49] <strcat> carter: I mean I recompile a library and the ABI changes even though it's the same version ;s
[04:38:56] <carter> oh
[04:39:04] <carter> you mean "woops, hash is different, sorry, can't link it"
[04:39:05] <carter> ?
[04:39:14] <strcat> maybe, forget exactly
[04:39:31] <strcat> I don't maintain 35 haskell packages for arch anymore
[04:39:35] <carter> :)
[04:39:47] <carter> thres def some ways that stuff could be cleaned up
[04:40:11] <carter> and theres people slowly thinking about / whacking on those
[04:40:32] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[04:41:02] *** Quits: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP) (Ping timeout)
[04:41:22] <carter> strcat: one "grand" goal is to make builds etc deterministic enough that haskell packages can be handled a la nixOS style stuff
[04:41:35] <carter> (theres some people slowly whacking on that)
[04:41:44] <strcat> I like NixOS :)
[04:41:56] <strcat> if I had to maintain servers, I'd be very tempted to use it
[04:42:00] <carter> i've heard good things
[04:42:01] *** Quits: pongad (Mibbit@moz-7E8AAD2E.res.gatech.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[04:42:19] <strcat> I didn't like it before they switched from upstart to systemd :P
[04:42:29] <carter> i know nothing of such things
[04:42:48] <strcat> tl;dr is that upstart uses events, systemd uses socket activation and dependency *trees*
[04:43:01] <strcat> events are a dynamic acyclic graph, and are basically totally broken as implemented in upstart
[04:43:02] <carter> latter sounds like it has semantics
[04:43:04] <strcat> lots of fun bugs...
[04:43:12] *** Quits: bvssvni (Mibbit@moz-CBD76C21.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[04:43:57] <carter> strcat: i'm (accidentally) now one of the "trustees" for hackage, so my main server hackery sometime soon will be some scripting to automate fixing bad docs on hackage
[04:44:00] *** Quits: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP) (Quit: Lost terminal)
[04:44:06] <strcat> carter: well, with dependencies you get a simple static tree of deps to start (and parallelization is trivial)
[04:44:09] <carter> yes
[04:44:11] <strcat> socket activation is really cool
[04:44:18] <carter> i've not heard of this stuff
[04:44:22] <carter> is there any good reading?
[04:44:27] <strcat> carter: well, it's pretty simple :)
[04:44:33] <strcat> I'll explain it for sshd
[04:44:37] <carter> sure
[04:44:44] <strcat> sshd binds to a socket, and that's the service it provides
[04:44:59] <strcat> so lets say you enable sshd.socket with systemd, instead of sshd.service
[04:44:59] *** Joins: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP)
[04:45:02] <strcat> it doesn't actually start sshd
[04:45:07] <strcat> instead, systemd binds to the socket
[04:45:13] <carter> and whats binding to a socket?
[04:45:18] <carter> i'm very very ignorant :)
[04:45:20] <strcat> when a connection happens, it spins up an sshd and passes it the socket as an extra fd
[04:45:23] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[04:45:25] <strcat> carter: listening on a port
[04:45:28] <carter> ok
[04:45:39] <strcat> it's a neat lazy activation thing
[04:45:58] <carter> k
[04:46:08] <strcat> lets say service B depends on service A, but only via a socket
[04:46:11] <strcat> it starts both in parallel.
[04:46:12] <strcat> <3
[04:46:47] <carter> vs what?
[04:46:52] <Tekk_> strcat: you do realize that non-systemd has had that for years right? it's called inted...
[04:46:54] <strcat> carter: vs start A first, then B
[04:46:59] <Tekk_> inetd*
[04:47:17] <strcat> Tekk_: inetd does the sshd case, not the parallel service starting
[04:47:22] <mcpherrin> Tekk_: yeah but inetd isn't cool anymore
[04:47:24] <mcpherrin> :-)
[04:47:36] <yuriks> strcat: I don't get what you mean by a socket only dependency
[04:47:37] <strcat> launchd invented socket activation for init
[04:47:38] <Tekk_> strcat: sure it does, just don't have sshd as a service and let inetd start it. no blocking at all :P
[04:47:40] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[04:47:46] *** Joins: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com)
[04:47:54] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[04:47:54] <strcat> Tekk_: no, not an example of this
[04:48:05] <kvark> Where do we stand on integer generic parameters at this moment?
[04:48:05] *** Joins: Erik_ (Erik_S@moz-D2F74C7B.hlrn.qwest.net)
[04:48:23] <strcat> Tekk_: *shrug*
[04:48:25] <carter> kvark: they'd help simd?
[04:48:42] <carter> (i'm out of the loop, been to busy with other things...)
[04:48:46] <strcat> you can read about what launchd does, it's not just an inetd clone
[04:49:34] <kvark> carter: they'd help us to have better huffman tables (for example), since in most cases we know in advance the input symbol space
[04:49:42] <carter> hrm
[04:49:45] <Tekk_> oh no, I'm not saying that launchd is an inetd clone
[04:49:47] <strcat> systemd is pretty much just a launchd clone with cgroups though
[04:49:49] <Tekk_> I'm just saying that it's a new feature
[04:49:50] <carter> kvark: could you explain that more?
[04:49:54] <Tekk_> that it's not*
[04:50:01] <strcat> Tekk_: yeah, socket activation is old
[04:50:07] <carter> kvark: in haskell you can def to type level data params
[04:50:17] *** Quits: rwt (rwt@A2BB8044.DB91A3F2.51B6877.IP) (Quit: Leaving)
[04:50:18] <carter> might be good to strawman illustrate the idea there? :)
[04:50:18] <strcat> the specific use case started with OS X though afaik
[04:50:32] <carter> (happy to help :) )
[04:50:47] <kvark> carter: I totally forgot how it is in haskell :(
[04:50:48] <carter> strcat: how'd it start with os?
[04:50:49] <strcat> Tekk_: sshd doesn't have explicit launchd/systemd support since the inetd support is enough
[04:50:51] <carter> kvark: soke
[04:51:20] <carter> kvark: do you want to think about the case where theres only fixed compile time literals?
[04:51:23] <strcat> carter: OS X's init system is launchd and they came up with the socket activation dependency implementation
[04:51:26] <kvark> carter: basically, we need to be able to create a struct on the stack, which has array(s) in it
[04:51:42] <carter> kvark: and whats the compile time Int for here?
[04:51:48] <carter> ok
[04:51:54] <carter> strcat: and then?
[04:52:13] <carter> strcat: is there an article on this i can read when i'm more awake and not packing?
[04:52:39] *** Joins: dsyang (dsyang@5443A547.FCD0EB8C.689607DE.IP)
[04:52:41] <kvark> carter: imagine this struct be a public one in a foreign module, it doesn't know how large it's arrays should be until we call a constructor
[04:52:47] <strcat> carter: http://www.freedesktop.org/wiki/Software/systemd/ there are talks and blog posts there, init systems are pretty boring though
[04:52:51] <strcat> cgroups are not boring ;)
[04:52:59] *** Joins: vogon (sid6004@moz-31ABA2C0.irccloud.com)
[04:53:06] <strcat> for example... rusti here
[04:53:10] <carter> hehe
[04:53:10] <strcat> it can spawn multiple processes
[04:53:11] <kvark> carter: so if we could pass an Int as a generic parameter to the constructor... we could create those structs on the stack
[04:53:14] *** Joins: derek_c (derek@moz-96756762.cit.cornell.edu)
[04:53:31] <carter> kvark: why does that allow stack allocation ?
[04:53:36] <strcat> but you can't make rusti use more than 128MiB of memory
[04:53:38] <strcat> total
[04:53:41] <strcat> no matter how many processes you spawn
[04:53:59] <strcat> magic
[04:54:08] <kvark> carter: [1u,.. N] is allowed as long as N is a compile-time constant
[04:54:09] <carter> kvark: having it as a compile time parameter is a way to specialize it... but that seems orthogonal to  stack allocation
[04:54:11] <carter> yes
[04:54:13] *** Quits: alex-abreu (alex@C08D9303.9289A342.80AB4F0.IP) (Ping timeout)
[04:54:39] <carter> kvark: but you can allocate an array on the stack thats not resiable dynamcially too right?
[04:54:51] <kvark> that's what I'm talking about
[04:55:05] <kvark> the problem is that 3rd party "array provider" doesn't know which size I need
[04:55:22] <carter> this sounds like it doesn't need this at compile time
[04:55:30] <carter> unless i'm not understanding what you want
[04:55:56] <carter> kvark: you just need to know that there exists some fixed size
[04:56:06] *** Joins: bvssvni (Mibbit@moz-CBD76C21.bb.online.no)
[04:56:07] <carter> right?
[04:56:13] <skrylar> has anyone else experienced crashes with rust's test runner?
[04:56:32] <kvark> carter: yes, and there might be more than a single fixed size. hence the generics...
[04:57:04] <strcat> skrylar: not when the code I'm testing isn't buggy
[04:57:05] <carter> kvark: once they sort out doing an analogue of "associate trait data types"
[04:57:18] <vogon> hey, sorry to bother y'all but I was wondering if someone could take a minute to help me with a newbie question
[04:57:19] <carter> should be super easy to support what I think you want
[04:57:37] <sp3d> vogon: we love newbie questions, they usually have answers :D
[04:57:43] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[04:57:47] <vogon> sp3d: yay! I'm glad for that.
[04:57:59] <strcat> Tekk_: the X11/wayland socket activation is perhaps a better example...
[04:58:06] <vogon> so I'm working on this multitasking network server (here's a gist: https://gist.github.com/vogon/f07bea4b0136d40e22f1) and it fails for a reason I understand
[04:58:18] <kvark> carter: do you mean this thing? http://smallcultfollowing.com/babysteps/blog/2013/04/02/associated-items/
[04:58:31] *** Quits: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP) (Quit: Leaving...)
[04:58:36] <vogon> but I thought the answer was to move stream inside the spawn proc with a move (another gist: https://gist.github.com/vogon/8dbe9b8bee74a59c1833) and it fails for a reason I _don't_ understand
[04:58:37] <carter> kvark: YES
[04:58:57] <carter> kvark: thers a bit more you can do that i think this post shows
[04:59:01] <carter> but yeah
[04:59:07] <carter> the haskell version of that is super amazing
[04:59:17] <bjz> carter: \o/
[04:59:23] <carter> bjz:? :)
[04:59:32] <sp3d> vogon: small note, it's a little confusing to call them failing programs if they don't compile because rust calls task-fatal errors at runtime "fail"s
[04:59:33] <bjz> carter: you are here again
[04:59:35] <bjz> :D
[04:59:39] <carter> kvark: in fact, i was walking bjz  through some ideas for fancy data types
[04:59:40] <vogon> sp3d: yeah, sorry!
[04:59:42] *** Parts: mcpherrin (mcpherrin@BB4DB59D.2876C283.70845BE5.IP) ()
[04:59:54] <carter> that i hope rust can eventually support along with haskell
[05:00:02] <carter> bjz: i did show you my cute matrix types right?
[05:00:22] <bjz> carter: I think so
[05:00:30] <bjz> carter: haskell right?
[05:00:32] <carter> yes
[05:00:35] <carter> the Row / Column stuff
[05:00:37] <carter> where i don't need type clases
[05:00:44] <carter> because i can just GADT pattern match
[05:01:01] <carter> for the BLAS binding
[05:01:08] * kvark senses black magic
[05:01:08] *** Quits: bvssvni (Mibbit@moz-CBD76C21.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[05:01:14] *** Joins: adu (ajr@moz-314C125F.washdc.fios.verizon.net)
[05:01:54] <carter> not really
[05:01:59] <carter> its some nice matrix apis
[05:02:02] <yuriks> how would people feel about an interface like this for an argument parsing library? https://gist.github.com/yuriks/8817679
[05:02:03] <carter> that once i have time
[05:02:03] <sp3d> vogon: the problem you have is related to some work being done now I think
[05:02:06] <carter> should be doable to port to rust
[05:02:20] <sp3d> related to splitting the reading and writing parts of streams
[05:03:09] <carter> yuriks: what about a design using a Trait that takes a new Enum / Struct type?
[05:03:10] <sp3d> the particular error in this case is that making a bufferedreader consumes the stream, so you can't refer to stream after you create the bufferedreader
[05:03:20] <vogon> ohhhhhhh
[05:03:47] <yuriks> carter: so it autofills the struct?
[05:03:54] <carter> yuriks: yup
[05:04:05] <carter> like an Enum would correspond to sub commands?
[05:04:09] <sp3d> vogon: it's a problem though because you *should* be able to buffer the reader side while using the writer side independently
[05:04:13] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[05:04:24] <sp3d> https://github.com/mozilla/rust/pull/11894 is about making it possible to do what you want; I'm not sure if there's a workaround yet
[05:04:35] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[05:04:37] <yuriks> I thought about that, but since I'm a rust beginner I considered that out of my ability :)
[05:04:38] <sp3d> (<https://github.com/mozilla/rust/issues/11165> is as well)
[05:04:46] <carter> yuriks: nah
[05:04:52] <carter> yuriks: do a stupid first whack
[05:05:01] <vogon> sp3d: hm, it looks like even if I remove the "let mut stream = stream;" and comment out the stream.write, I still get an error about mutable variables not being able to be implicitly captured
[05:05:04] <carter> theres certain things that won't be nicely writable in currently rust
[05:05:08] <carter> but it'd be a cute type safe api
[05:05:31] <carter> (doing a ADT CLI options parser nicely in general seems to require HKT style tooling)
[05:05:49] <carter> yuriks: and the cool part is
[05:05:51] <yuriks> I'd have to use compiler extensions for that though, right?
[05:06:01] <carter> (well, theres no hkt yet though :) )
[05:06:09] <vogon> sp3d: how can I explicitly capture stream in that proc? do I need to go around the long way and create a proc explicitly?
[05:06:12] <carter> i'm just saying, certain things won't be expressible till hkt  ithink
[05:06:20] <yuriks> what's HKT?
[05:06:22] *** Joins: bvssvni (Mibbit@moz-CBD76C21.bb.online.no)
[05:06:28] <sp3d> I think you might need to pass it as an argument
[05:06:28] <carter> "higher kinded traits"
[05:06:53] <carter> yuriks: basically, i'm suggesting you try an appraoch that lets you experiment with Enums and pattern matching
[05:06:54] * sp3d is not an expert on rust's closures and procs at the moment
[05:07:04] <carter> yuriks: because algebraic data types are AMAZING
[05:07:19] *** Quits: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[05:07:21] <carter> and rust has an interesting twist on them
[05:07:41] <strcat> has anyone figured out how HKT would fit in to rust's type system?
[05:07:41] <carter> yuriks: i can point you to some haskell libs that take the idea i'm suggesting and turn it to 11 
[05:07:46] <strcat> does it work with monomorphization?
[05:07:51] <o11c> yuriks: I'd really like an argument parser to actually parse the filename ... yielding int, Path, ...
[05:07:55] <carter> strcat: i think it would, 
[05:07:57] <vogon> sp3d: it's OK, but yeah, if I just do "do spawn |stream| {" it errors out because Proc<()> doesn't match Proc<(V17)>, which I'm assuming is some sort of type inferencey variable thing
[05:08:02] <carter> strcat: you just have to resolve ever use site
[05:08:06] <carter> *every
[05:08:07] <yuriks> o11c: that ties into carter's suggestion
[05:08:07] *** Quits: sammykim_ (sammy.kim@5AB4884B.FCC4549.14D5B978.IP) (Quit: Lost terminal)
[05:08:13] <sp3d> vogon: spawn wants a proc with no arguments...
[05:08:19] * sp3d is reading docs ;)
[05:08:22] <yuriks> o11c: I tried to think of a way to add that to this design but couldn't figure out how
[05:08:36] <vogon> yeah, I know std::task::spawn_with existed for a while but I don't know what the idiomatic replacement is
[05:08:37] <carter> yuriks: so probably the best way right now
[05:08:41] <yuriks> in a typesafe way, I mean
[05:08:43] <o11c> yuriks: I'm pretty sure it's going to involve a LOT of references with lifetimes
[05:08:46] <carter> yuriks: would require using a special macro that parses the type
[05:08:59] <o11c> I don't see why it requires a macro though
[05:09:09] <carter> o11c: because no HKT yet
[05:09:22] <yuriks> carter: I have a JSON deserialization library that does that for inspiration
[05:09:37] <carter> cool!
[05:09:57] <o11c> I would expect an interface like: parse_args([Option("--foo", &foo)])
[05:10:07] <o11c> there the [] is of a trait, and the &foo is also of a trait
[05:10:15] <yuriks> https://github.com/MarkJr94/diagrust
[05:10:16] <carter> o11c: that'd be a fielld of type  option food
[05:10:33] *** Quits: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com) (Ping timeout)
[05:10:48] *** Quits: adu (ajr@moz-314C125F.washdc.fios.verizon.net) (Quit: adu)
[05:10:49] <carter> yuriks: assuming rust gets HKT nicely, you'll have some rusty version of "applicatives/ functors"
[05:10:58] <carter>  and you'd be able to write a lib liek http://hackage.haskell.org/package/optparse-applicative
[05:11:17] <carter> strcat: but yeah, your'e right that type classes in haskell have dictionary passing semantics
[05:11:22] *** Quits: bvssvni (Mibbit@moz-CBD76C21.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[05:11:32] *** Joins: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[05:11:40] <strcat> carter: I remember reading that ghc is unable to fully specialize every case, even when you ask
[05:11:45] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:11:46] <strcat> I'm wondering why
[05:11:47] <yuriks> o11c: oh, I think I might see how that would work
[05:11:54] <carter> strcat: well, theres some cases where you fundamentally cant
[05:12:16] <carter> case 1: polymorphic recursion (i think)
[05:12:55] <carter> case 2: this brilliant hack by edward kmett that gives a fast / cheap way to do a neat form of type safe reflection 
[05:13:08] <strcat> ugh, reflection. ;p
[05:13:20] <carter> strcat: not the one you expect :)
[05:13:22] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[05:13:24] <yuriks> carter: my haskell is rusty. I can't really understand what that library is doing, heh
[05:13:25] <dbaupp> rustc certainly likes polymorphic recursion (likes it so much, it just doesn't want to stop monomorphising :P )
[05:13:56] <carter> dbaupp: i'm tired, but you mean it currently goes for  loop?
[05:14:02] <skrylar> monomorphising? but 500mb binaries are the best!
[05:14:07] <dbaupp> carter: infinite recursion
[05:14:29] <dbaupp> rusti: fn foo<A>(x: A) { foo((x, x)) } foo(1)
[05:14:33] -rusti- pastebinned 8 lines of output: http://ix.io/akh
[05:14:33] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[05:14:36] * skrylar is currently evaluting self-decision to use rust, because trying to write a GUI lib is a massive pain xD
[05:14:50] <dbaupp> rusti: fn foo<A: Pod>(x: A) { foo((x, x)) } foo(1)
[05:14:52] -rusti- Killed
[05:14:52] -rusti- application terminated with error code 137
[05:15:07] <carter> dbaupp: but those are loops
[05:15:13] <carter> well
[05:15:14] <carter> yeah
[05:15:17] <strcat> that's out-of-memory btw ;p
[05:15:21] <strcat> 128MiB!
[05:15:23] <carter> i meant data types with polymorphic recursion
[05:15:37] <dbaupp> carter: oh, same thing iirc
[05:15:47] <dbaupp> (as in, same compiler behaviour)
[05:15:51] <carter> http://en.wikipedia.org/wiki/Polymorphic_recursion
[05:15:52] <carter> yeah
[05:15:53] <carter> gotcha
[05:16:06] *** Joins: daschl (Adium@moz-A3B8EA95.static.bezeqint.net)
[05:16:15] <carter> yuriks: the lib is just giving you a way to annotate the fields of an ast
[05:16:32] <carter> yuriks: took me a few days to *grock* it
[05:16:37] <carter> but its a brilliant wee lib
[05:16:59] <carter> applicatives, as a programmatic abstraction
[05:17:02] <carter> are really really reallly powerful
[05:17:23] <carter> monads, boring
[05:17:34] <carter> applicatives == you can write magic libs that do runtime optmization
[05:18:04] * strcat wants rewrite rules :(
[05:18:08] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Client exited)
[05:18:21] <carter> strcat: those are neat
[05:18:22] *** Quits: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com) (Quit: http://www.mibbit.com ajax IRC Client)
[05:18:22] <carter> but tricky
[05:18:29] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[05:18:37] <carter> strcat: i've a recurrent rant about fusion
[05:18:39] <carter> its just one tool
[05:18:42] <carter> (a great one)
[05:18:46] <carter> but not the be all end all
[05:18:49] <strcat> they're not as tricky if you wrote them just for a specific type rather than doing generic ones which are going to need purity and can hurt perf
[05:19:05] <strcat> like adding rewrite rules for big integers
[05:19:23] <strcat> I guess rust could add an LLVM pass...
[05:19:24] <carter> oh yeah
[05:19:39] <carter> strcat: i've actually soem very very verry specifric plans on mathy bits + ghc
[05:19:42] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[05:21:14] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[05:21:37] <carter> strcat: http://hackage.haskell.org/package/reflection-1.4/docs/Data-Reflection.html was what i was talkingabout
[05:21:45] <carter> class Reifies s a | s -> a where
[05:21:46] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[05:21:52] <carter>  ; reflect :: proxy s -> a
[05:22:05] <carter> strcat: the magic is in how the following is defined
[05:22:06] <carter> reify :: forall a r. a -> (forall s. Reifies s a => Proxy s -> r) -> r
[05:22:17] <vogon> hey sorry to ask again but I'm wondering if any of you know of idiomatic replacements for std::task::spawn_with which doesn't seem to be present in rust 0.9
[05:22:31] <carter> strcat: reify a k = unsafeCoerce (Magic k :: Magic a r) (const a) Proxy 
[05:22:32] <carter> :)
[05:23:05] <dbaupp> vogon: you don't need it at all
[05:23:15] <dbaupp> vogon: spawn replaces it completely
[05:23:31] <vogon> dbaupp: what's the syntax to spawn a proc that has more than zero parameters?
[05:23:47] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Input/output error)
[05:24:03] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[05:24:26] <bjz> vogon: there isn't one :P
[05:24:32] <dbaupp> vogon: let a = ...; do spawn_with(a) |a| { ... } becomes `let a = ...; do spawn { /* use a directly */ }`
[05:24:49] <vogon> dbaupp: I'm trying to do that, but I can't implicitly close over mutable variables
[05:24:52] <bjz> vogon: you move stuff into the proc
[05:25:04] <bjz> dbaupp: we don't have do anymore?
[05:25:04] <dbaupp> vogon: oh, just freeze it and then thaw it inside the closure
[05:25:13] <dbaupp> or, upgrade to master (it's fixed there)
[05:25:24] <vogon> ah!
[05:25:29] <vogon> I might upgrade to master, then, thanks.
[05:25:36] *** Quits: Cevn (sameer@moz-F316C21E.hr.hr.cox.net) (Ping timeout)
[05:25:39] <carter> i'm done rambling
[05:25:44] <carter> happy hacking all!
[05:26:49] <coalcore> match &args[2] { &~"c" => Concurrent } [screams internally]
[05:27:10] <coalcore> is there a better way to do that
[05:27:24] <yuriks> carter: yeah, really can't figure it out
[05:27:50] <yuriks> carter: *oh* the two code snippets are in the same program, I see now
[05:28:05] *** Joins: Jemaclus (jemaclus@moz-A0EB9A8E.hsd1.ca.comcast.net)
[05:28:35] <dbaupp> bjz: oh, yeah, no do
[05:28:37] <dbaupp> oops
[05:28:59] <dbaupp> coalcore: args[2].as_slice() allows you to match on just "c"
[05:29:02] <dbaupp> sigils -= 2
[05:29:10] <dbaupp> erm, 3! \o/
[05:29:35] <yuriks> carter: how does it bind options to values in that example? Just ordering?
[05:29:54] <coalcore> ty :D
[05:30:57] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[05:31:54] <vogon> dbaupp: cool, upgrading to master fixes the capturing problem, thanks!
[05:32:15] <bjz> vogon: that is always the best way to fix things :D
[05:32:26] <yuriks> I think I'll implement something like my API first and then do the struct magic as a layer on top later
[05:32:32] <vogon> there's still an issue with using the same stream to read/write but the pull request sp3d pointed me to contains a workaround.
[05:33:33] *** Joins: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw)
[05:34:59] <yuriks> aside from that, does anyone have any smaller suggestions?
[05:35:00] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[05:35:12] *** Quits: mrengstad (Mibbit@moz-58D696C9.com) (Quit: http://www.mibbit.com ajax IRC Client)
[05:35:19] *** Joins: adu (ajr@moz-314C125F.washdc.fios.verizon.net)
[05:37:46] *** Quits: Jemaclus (jemaclus@moz-A0EB9A8E.hsd1.ca.comcast.net) (Client exited)
[05:38:58] *** Joins: trinary (Adium@moz-D78CD0D5.hsd1.co.comcast.net)
[05:39:00] *** Joins: Liam` (quassel@6265EFB3.B1CCF5AA.217C7FCC.IP)
[05:39:06] *** Quits: jsonnull (Thunderbir@26F61E6.CFD9471D.494A0F8B.IP) (Quit: jsonnull)
[05:40:30] *** Joins: erickt (Adium@991D7890.9C346C7F.FAA4474F.IP)
[05:40:44] *** Quits: ercxx (ercan@moz-88DD3A7E.dyn.optonline.net) (Quit: WeeChat 0.4.2)
[05:41:02] *** Quits: Liam` (quassel@6265EFB3.B1CCF5AA.217C7FCC.IP) (Ping timeout)
[05:41:02] *** Quits: TeXitoi (texitoi@moz-EA958D66.texitoi.eu) (Ping timeout)
[05:41:04] *** Joins: TeXitoi (texitoi@moz-EA958D66.texitoi.eu)
[05:42:31] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[05:42:44] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[05:43:24] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[05:43:34] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[05:43:51] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:45:15] *** Joins: victorporof (victorporo@53EBB099.7C27E871.79933D60.IP)
[05:45:27] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[05:50:49] <coalcore> uh, where do i put #[feature(macro_rules)] so I can play with a custom macro definition
[05:52:00] *** Quits: Tekk_ (user@moz-133CF5D1.ec.res.rr.com) (Quit: ERC Version 5.3 (IRC client for Emacs))
[05:52:10] *** Joins: Liam` (quassel@6265EFB3.B1CCF5AA.217C7FCC.IP)
[05:52:51] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[05:53:22] <dbaupp> coalcore: at the top of the file that you run rustc on, with a semicolon at the end
[05:53:24] <bjz> coalcore: at the top of the root crate, with a semicolon after
[05:53:39] <bjz> *root source file
[05:54:01] *** Joins: Jemaclus (jemaclus@moz-A0EB9A8E.hsd1.ca.comcast.net)
[05:54:05] <nrc> do I remember correctly that @mut T is replaced by RefCell<T>?
[05:54:16] <strcat> nrc: Rc<RefCell<T>>
[05:54:28] <strcat> (or Gc, but it's not really implemented yet)
[05:54:42] <nrc> thanks strcat!
[05:54:50] <strcat> nrc: and it's a huge pain without overloading for deref :P
[05:54:53] <coalcore> thx
[05:55:04] <nrc> :-(
[05:55:27] *** Quits: new_one (new_one@13E43017.8AA374E2.B3C0173E.IP) (Quit: leaving)
[05:55:44] *** Joins: skade (skade@moz-B73EE4D5.pools.arcor-ip.net)
[05:56:35] *** Quits: ktt3ja (ktt3ja@moz-85E2770C.hsd1.va.comcast.net) (Quit: Leaving)
[05:58:32] <dbaupp> it's less of a pain with nicer r-value lifetimes
[05:59:07] *** Joins: zv (zv@moz-955F83E9.hsd1.ca.comcast.net)
[06:00:11] <nrc> has the nicer r-value lieftimes stuff landed?
[06:00:26] <dbaupp> yeah, and it's in stgae0 now too
[06:00:49] <nrc> \o/
[06:01:41] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[06:03:03] *** Quits: prudhvi_ (p@moz-154A460A.supr.io) (Quit: leaving)
[06:04:31] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[06:05:01] *** Joins: eddyb (eddy@832D2DE5.66315F97.FB866788.IP)
[06:06:15] *** Quits: daschl (Adium@moz-A3B8EA95.static.bezeqint.net) (Quit: Leaving.)
[06:06:20] *** Joins: daschl (Adium@moz-A3B8EA95.static.bezeqint.net)
[06:06:46] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[06:07:04] *** Joins: jackneill (jackneill@moz-B3FF4377.pool.digikabel.hu)
[06:07:06] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[06:08:36] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[06:09:24] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[06:12:30] <yuriks> hmm, how do I turn a ~str into a &str?
[06:13:05] <sp3d> .as_slice()
[06:13:39] <yuriks> oh. I was trying to do a dance with & and * :P
[06:13:57] <dbaupp> yuriks: it often coerces  (although, from your question, I assume it's not in this instance)
[06:14:05] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[06:14:15] <yuriks> it isn't (returning a struct ~str from a function as &str)
[06:14:32] <dbaupp> ah, yes
[06:15:30] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[06:15:30] *** ChanServ sets mode: +o tjc
[06:15:50] <yuriks> is putting a lifetime variable in an impl the same as adding it to each function in the impl?
[06:16:26] <yuriks> they both make my code compile, but are the semantics different?
[06:16:38] <yuriks> well, to be specific in this case, the functions are returning self
[06:18:50] *** Quits: daschl (Adium@moz-A3B8EA95.static.bezeqint.net) (Quit: Leaving.)
[06:20:12] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[06:20:36] *** Quits: chromatic (chromatic@moz-28CBC7F4.hsd1.or.comcast.net) (Quit: Leaving)
[06:20:40] *** Joins: dmac (dmac@moz-94F55C3.hfc.comcastbusiness.net)
[06:21:51] *** Quits: dmac (dmac@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving)
[06:22:04] *** Joins: dmac (dmac@moz-94F55C3.hfc.comcastbusiness.net)
[06:22:32] <johnsoft> question - why does RWArc require T:Freeze?
[06:22:44] <strcat> johnsoft: because you can have multiple readers at the same time
[06:22:48] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[06:23:02] <strcat> Freeze means inherited mutability, so it won't let you mutate through &T
[06:23:29] <johnsoft> what's an example of something that doesn't have inherited mutability?
[06:23:41] <strcat> RWArc :)
[06:23:45] <strcat> Cell, RefCell
[06:24:12] <johnsoft> anything more general?
[06:24:26] <strcat> just concurrent stuff and Cell/RefCell
[06:24:45] <strcat> and concurrent stuff is technically okay to put in RWArc
[06:24:47] <strcat> but it won't let you
[06:24:49] <strcat> it's inefficient anyway
[06:25:01] <johnsoft> if I want to share a HashMap between tasks, how could I do that?
[06:25:20] <strcat> well.... you probably want a new hash table implementation if you want it to be fast
[06:25:29] <strcat> you can use MutexArc<HashMap<K, V>>
[06:25:33] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[06:25:42] <strcat> but that's going to have lots of contention
[06:25:44] <johnsoft> i care a lot more about concurrent reading
[06:26:03] <johnsoft> than general speed
[06:26:09] *** Quits: dsyang (dsyang@5443A547.FCD0EB8C.689607DE.IP) (Client exited)
[06:26:10] <strcat> RWArc will likely be slower for a hash table
[06:26:22] <strcat> a rwlock is more expensive to obtain than a mutex
[06:26:32] <strcat> so it makes sense when your reads take many cycles
[06:26:40] <johnsoft> even if you read from it 1000 times for every write you make?
[06:26:41] *** Joins: Yurume (Yurume@A826BD81.8A0DEF81.38747683.IP)
[06:26:55] <Yurume> ha! why was I disconnected?
[06:26:59] <strcat> johnsoft: the rwlock increases the cost of each read
[06:27:00] <Yurume> another DDoS? :(
[06:27:21] <strcat> johnsoft: it allows concurrent reads... but they are not long enough to actually be concurrent most of the time
[06:27:42] <strcat> anyway, it's the wrong way to share a mutable hash table
[06:27:44] <bblum> johnsoft: you should definitely use RWArc for this use case
[06:28:00] <strcat> bblum: it's only clear if you iterate
[06:28:07] <bblum> true
[06:28:21] <strcat> the real answer is a proper concurrent hash table
[06:28:23] <strcat> easy to write
[06:28:24] <bblum> however, obtaining a rwlock in read mode is quite fast if other readers are present
[06:28:31] <bblum> "easy to write" then why don't we have one ;)
[06:28:37] <strcat> rust-core has one
[06:28:42] <bblum> oh, good
[06:28:44] <strcat> not a very good one
[06:28:48] <strcat> it currently hashes twice
[06:28:51] <johnsoft> i'd assume getting a read lock is some kind of atomic increment
[06:28:55] <johnsoft> can't be *that* slow
[06:28:58] <strcat> just because I was too lazy to expose insert_with_hash
[06:29:01] <coalcore> yay i wrote my first actually useful macro
[06:29:11] <strcat> bblum: you basically just have new(n_shards)
[06:29:19] <strcat> bblum: allocate n_shards hash tables with a lock per hash table
[06:29:32] <strcat> and you hash to find the corresponding hash table and hand it the hash
[06:29:47] <johnsoft> strcat- for the sake of learning rust, can you tell me how to do this anyway?
[06:30:18] <johnsoft> later on i'll profile if i care about the speed
[06:30:39] <strcat> johnsoft: well either RWArc<Map> or MutexArc<Map> for now
[06:30:39] <nrc> Path::new seems to have gone too - what should I use now?
[06:30:52] <strcat> johnsoft: if you don't iterate, it probably won't matter much
[06:31:07] <strcat> if you do iterate, you should probably stop ;)
[06:31:14] <johnsoft> Map isn't :Freeze though
[06:31:20] <johnsoft> and RWArc requires :Freeze
[06:31:22] <strcat> HashMap is Freeze
[06:31:26] <coalcore> nrc: gone where
[06:31:42] <bblum> strcat: where did the libextra::sync mutex/rwlock implementations go?
[06:31:46] <johnsoft> oh. by Map you mean HashMap?
[06:31:49] <strcat> bblum: std::unstable::mutex
[06:31:51] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[06:32:04] <strcat> johnsoft: well, any map
[06:32:08] <strcat> TrieMap, TreeMap, HashMap
[06:32:10] <strcat> will all work
[06:32:13] <johnsoft> oh, the trait
[06:32:28] <bblum> strcat: no i mean the stuff i implemented on top of pipes, not the pthread mutex wrappers
[06:32:31] <nrc> coalcore: I'm rebasing and I now get an error - unresolved name for Path::new
[06:32:39] <johnsoft> time to figure out why my struct isn't Freeze then
[06:32:39] <strcat> bblum: std::unstable::mutex works in M:N now
[06:32:56] <bblum> ...oh, how?
[06:32:59] <bblum> and where's the rwlock
[06:33:02] <strcat> bblum: I am not sure if it actually sleeps properly in M:N though atm
[06:33:05] <strcat> bblum: dunno
[06:33:08] <strcat> I wasn't involved in this ;p
[06:33:16] <strcat> afaik there is only a mutex, no separate cond vars or a rwlock
[06:33:20] <bblum> argh, i wish whoever did this @bblum'ed me
[06:33:23] <strcat> bblum: oh, there's maybe a libsync now?
[06:33:26] <strcat> dunno.
[06:33:30] <bblum> how can there be no rwlock
[06:33:34] <coalcore> nrc: hmm, im using Path::new at the moment without problems, so not sure
[06:33:47] <geomyidae> is there a way to form a format string to print a ~[u8] as hex characters?
[06:35:00] *** Joins: epsylon (epsylon@moz-35BFFF47.thele.me)
[06:35:20] *** Quits: Erik_ (Erik_S@moz-D2F74C7B.hlrn.qwest.net) (Ping timeout)
[06:35:32] <strcat> bblum: a lot of stuff was removed/split ;s
[06:35:48] <bblum> strcat: oh, it looks like it's just in libextra/sync/mod.rs
[06:35:57] <strcat> ah I thought it was in a libsync
[06:36:06] <bblum> an odd place for it to be but closer than i was expecting after i saw sync.rs was gone
[06:36:19] <bblum> yeah this all looks about as i left it
[06:36:24] <nrc> hmm, I see it in libstd
[06:36:27] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: Textual IRC Client: www.textualapp.com)
[06:36:54] *** Joins: Ferreus (ferreus@moz-35317A3A.dip0.t-ipconnect.de)
[06:37:00] <strcat> bblum: does the rwlock prefer readers or writers?
[06:37:04] <bblum> johnsoft: anyway you can see the implementation of rwlocks in libextra/sync/mod.rs
[06:37:15] <bblum> strcat: it uses the wikipedia "3rd readers/writers solution" which doesn't starve either one
[06:37:22] <strcat> ah
[06:37:34] <eddyb> bblum: you mean, libsync/lib.rs?
[06:37:37] <bblum> L432: // NB: Wikipedia - Readers-writers_problem#The_third_readers-writers_problem
[06:38:00] <bblum> eddyb: are we looking at the same repository? o_O i have a libextra/sync/mod.rs
[06:38:22] <eddyb> bblum: ahh, that PR hit a flake
[06:38:36] <bblum> oh, it's about to be split out
[06:38:42] <eddyb> and/or actual failure
[06:38:44] <bblum> can you link me to the issue
[06:38:54] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Ping timeout)
[06:38:55] <eddyb> bblum: https://github.com/mozilla/rust/pull/11939
[06:39:01] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[06:39:01] <bblum> thx
[06:39:45] <johnsoft> bblum- ok, bit more than just an increment then
[06:40:01] <johnsoft> i didn't notice any of that just reading arc.rs
[06:40:06] *** Joins: tiffnya (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[06:40:08] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Connection reset by peer)
[06:40:16] <bblum> johnsoft: yeah the RWLock implementation itself is standalone
[06:40:40] <bblum> there exists a concept called the "big reader lock" which does truly only need one atomic op in the uncontended reader case
[06:40:46] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[06:40:50] <bblum> but imposes massive overhead in the write path to make it work
[06:41:25] <bblum> this one is more general-purpose :P
[06:42:52] *** Quits: skade (skade@moz-B73EE4D5.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:42:56] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[06:43:19] <johnsoft> i think... i will wait until rust has a nice profiler before I dig into that :P
[06:43:57] <eddyb> johnsoft: you can use any profiler with rust
[06:44:17] *** Joins: b1nd (b1nd@moz-C9E8EB79.lnse4.cht.bigpond.net.au)
[06:44:39] <derek_c> how do you get the length of an array?
[06:44:44] <strcat> eddyb: (in 1:1 mode)
[06:44:50] <Yurume> derek_c: .len()?
[06:44:55] <coalcore> .len()
[06:45:02] <strcat> for M:N you need a custom profiler like Go or it gets confused
[06:45:02] <derek_c> oh haha. I was trying length()
[06:45:06] <strcat> unless it doesn't make call graphs
[06:45:25] <strcat> that's why kcachegrind/callgrind doesn't work properly
[06:45:28] <johnsoft> .len() really should be in the tutorial
[06:45:41] <eddyb> strcat: heh, I didn't realize that
[06:45:43] <johnsoft> it took me embarrassingly long to figure it out in the beginning
[06:46:03] <strcat> eddyb: try callgrind/kcachegrind, it makes a weird infinite loop thing from the stack switches
[06:46:05] <strcat> ;p
[06:46:25] *** Quits: adu (ajr@moz-314C125F.washdc.fios.verizon.net) (Quit: adu)
[06:46:54] * strcat realizes why fpelim broke debugging
[06:46:55] <strcat> heh.
[06:47:30] <strcat> I think green threads require frame pointers to track the call stack
[06:47:50] <strcat> probably also required for backtraces
[06:48:01] <strcat> so green threads waste a whole register ;)
[06:48:35] <strcat> C libraries also won't have to use frame ptrs
[06:48:43] <strcat> hm
[06:48:47] <strcat> wonder how it mixes
[06:49:06] * strcat assumes gdb/lldb can't use *both* DWARF CFI and frame ptrs
[06:49:12] *** Joins: daschl (Adium@moz-A3B8EA95.static.bezeqint.net)
[06:50:53] *** Quits: daschl (Adium@moz-A3B8EA95.static.bezeqint.net) (Ping timeout)
[06:51:07] *** Joins: daschl (Adium@moz-A3B8EA95.static.bezeqint.net)
[06:51:46] *** Joins: skade (skade@moz-B73EE4D5.pools.arcor-ip.net)
[06:52:25] *** Joins: adu (ajr@moz-314C125F.washdc.fios.verizon.net)
[06:52:48] *** Quits: daschl (Adium@moz-A3B8EA95.static.bezeqint.net) (Ping timeout)
[06:55:08] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:55:30] *** Quits: heftig (heftig@moz-1448C700.dip0.t-ipconnect.de) (Quit: Quitting)
[06:56:06] *** Quits: LRN (LRN@moz-50DF30B.nationalcablenetworks.ru) (Connection reset by peer)
[06:56:34] *** Quits: skade (skade@moz-B73EE4D5.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:56:39] *** Quits: Jemaclus (jemaclus@moz-A0EB9A8E.hsd1.ca.comcast.net) (Client exited)
[06:57:03] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[06:58:34] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[06:59:22] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[07:00:31] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[07:01:14] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[07:01:14] *** ChanServ sets mode: +o tjc
[07:01:31] *** Quits: adu (ajr@moz-314C125F.washdc.fios.verizon.net) (Quit: adu)
[07:02:57] <johnsoft> is std::kinds::marker::NoFreeze the only way to remove freeze from a struct?
[07:03:22] <strcat> other than including another non-Freeze type, yes
[07:03:30] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[07:04:20] *** Quits: derek_c (derek@moz-96756762.cit.cornell.edu) (Quit: Leaving)
[07:04:48] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[07:05:51] *** Quits: erickt (Adium@991D7890.9C346C7F.FAA4474F.IP) (Quit: Leaving.)
[07:06:07] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[07:07:09] <johnsoft> PostgresConnection is non-Freeze, that was my issue
[07:10:41] *** Quits: canhtak (canhtak@moz-8A625E1D.wl.t.ulaval.ca) (Quit: canhtak)
[07:12:01] *** Joins: gwty (gwtypc@AF2C22C3.5FE41E70.45DA6411.IP)
[07:12:59] *** Quits: tabraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Connection reset by peer)
[07:14:24] *** Quits: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP) (Quit: Lost terminal)
[07:15:23] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[07:15:44] <johnsoft> hmm... struct PostgresConnection { priv conn: RefCell<InnerPostgresConnection> }
[07:15:55] <johnsoft> is that a common idiom?
[07:16:39] <Yurume> I haven't seen that personally, but I guess if you want to hold that in the immutable values while being mutable that would work.
[07:16:42] <skrylar> for parts of the standard lib, yes; though i haven't seen much rust code
[07:16:58] <skrylar> right now i'm a little upset at rust for making crashy code
[07:17:35] <Yurume> how?
[07:17:38] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[07:17:58] <dbaupp> skrylar: any `unsafe` in your code?
[07:18:01] <johnsoft> Yurume- can you elaborate?
[07:18:26] <skrylar> dbaupp: not a line
[07:18:40] *** Quits: victorporof (victorporo@53EBB099.7C27E871.79933D60.IP) (Quit: victorporof)
[07:18:54] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[07:19:04] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[07:19:06] <Yurume> johnsoft: that would allow having the connection in the mutable struct, for example. so your example is the canonical example for that use case.
[07:19:21] <Yurume> but I don't know if the use case is common enough to be called an "idiom".
[07:19:33] <skrylar> dbaupp: i suspect its involved with me storing a Weak to a RefCell containing itself, but i thought since its a weak reference and strong Rcs will run the Drop traits that wouldn't do anything; yet, valgrind reports 3 errors (which is weird because there are more than 3 objects made) and crashes in the unit test runner
[07:20:26] <dbaupp> skrylar: sounds dangerous
[07:20:39] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[07:20:42] <dbaupp> it shouldn't crash without any unsafe {}
[07:20:55] <dbaupp> is the code small (and publishable)?
[07:21:02] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[07:21:26] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[07:21:28] <skrylar> dbaupp: i put it in a gist the other night
[07:21:53] <skrylar> dbaupp: https://gist.github.com/Skrylar/8779719
[07:22:00] <coalcore> look ma, multiple assignment :p http://pastebin.com/raw.php?i=6V9Zx56W
[07:22:01] <johnsoft> Yurume- still don't get it, sorry
[07:22:26] <johnsoft> what scope exactly does it add or remove mutability (or Freeze) from?
[07:22:30] *** Joins: fabiand (fabiand@moz-805E74E.adsl.alicedsl.de)
[07:22:51] <dbaupp> skrylar: first thing, why Rc<~RefCell> rather than Rc<RefCell>?
[07:23:12] <Yurume> johnsoft: well, if you have something like this: struct Context { conn: PostgresConnection, ... } impl Context { fn foo(&self) { conn.cursor().foo(); } ... }
[07:23:18] *** Quits: StarLight (StarLight@moz-2B113AB3.dynamic.avangarddsl.ru) (Ping timeout)
[07:23:36] <skrylar> dbaupp: iirc i wanted to make sure the refcell would get cleaned up, and because there are a handful of fields in a refcell, while theres going to be a lot of the rcs
[07:23:45] *** Joins: mgottschlag (quassel@moz-D9E207E7.cust.bluewin.ch)
[07:23:51] <Yurume> assuming that `conn.cursor` etc. requires `&mut self`, if you don't have `RefCell` then `foo` cannot take `&self`
[07:24:06] <Yurume> that is rather a design choice
[07:24:24] <dbaupp> skrylar: the ~ isn't doing anything, just making you do more allocations and use some more memory
[07:24:42] <dbaupp> Rc<RefCell<>> will be the least memory
[07:24:57] <dbaupp> skrylar: anyway, does it crash if you remove the Drop for TestFrob?
[07:25:03] <Yurume> johnsoft: if there are some methods that behaves as immutable (e.g. querying might be an immutable action) while does modify the internal state, then you may have to use `RefCell` to conceal the internal mutability from the outside.
[07:25:23] <Yurume> I'm not sure PostgresConnection has such design requirement, but that'd be the common cause.
[07:25:27] <skrylar> dbaupp: well if i have the drop with a printf, it doesn't crash; if i remove the print, or i remove drop entirely, it crashes
[07:25:45] <johnsoft> Yurume- ah, i get it now, thanks
[07:25:52] <skrylar> which is why i tossed them under valgrind; valgrind prevents the crash, so somewhere Rust is dealing in Bad Pointers
[07:26:16] *** Joins: daschl (Adium@moz-A3B8EA95.static.bezeqint.net)
[07:26:46] <dbaupp> skrylar: very weird
[07:26:48] <skrylar> i'm not sure if this is something I did personally, or just a bad rustc version
[07:27:01] <dbaupp> skrylar: I'll play with it in a bit; going home now
[07:27:12] <skrylar> but it has made me consider poking around with the same thing in nimrod >_< 
[07:27:15] <skrylar> alright, see you then
[07:27:28] *** Quits: coalcore (Mibbit@moz-AE55F4BE.cat.csiro.au) (Quit: http://www.mibbit.com ajax IRC Client)
[07:27:36] *** Joins: StarLight (StarLight@moz-4B46BF19.pppoe.avangarddsl.ru)
[07:27:59] *** Quits: daschl (Adium@moz-A3B8EA95.static.bezeqint.net) (Ping timeout)
[07:28:54] *** Joins: Cevn (sameer@moz-E29DDA25.hr.hr.cox.net)
[07:31:19] *** Quits: dbaupp (Thunderbir@2702835C.D5A1DCF.37681C44.IP) (Ping timeout)
[07:32:53] *** Quits: gwty (gwtypc@AF2C22C3.5FE41E70.45DA6411.IP) (Ping timeout)
[07:35:30] *** Joins: marianoguerra (marianogue@moz-7E7AC3E.dip0.t-ipconnect.de)
[07:35:49] *** Quits: zv (zv@moz-955F83E9.hsd1.ca.comcast.net) (Ping timeout)
[07:36:02] *** Quits: mgottschlag (quassel@moz-D9E207E7.cust.bluewin.ch) (Ping timeout)
[07:36:06] *** Joins: adu (ajr@moz-314C125F.washdc.fios.verizon.net)
[07:36:13] *** Quits: adu (ajr@moz-314C125F.washdc.fios.verizon.net) (Quit: adu)
[07:36:16] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:37:00] *** Joins: LRN (LRN@moz-50DF30B.nationalcablenetworks.ru)
[07:37:54] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[07:38:51] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[07:38:58] *** Joins: adu (ajr@moz-314C125F.washdc.fios.verizon.net)
[07:41:28] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[07:41:29] *** ChanServ sets mode: +o tjc
[07:41:42] *** Joins: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de)
[07:41:50] *** Quits: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de) (Client exited)
[07:43:34] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:46:11] <johnsoft> is there a way to pass ownership of a value to a proc?
[07:46:39] <strcat> rusti: let x = ~5; let f = proc() -> ~int { x }; f()
[07:46:40] -rusti- ~5
[07:47:26] <johnsoft> ok, something else is at work then
[07:48:16] <johnsoft> mind taking a look? http://pastebin.com/BMTbpiHy
[07:48:52] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[07:49:10] <strcat> johnsoft: I don't understand why it doesn't work
[07:49:16] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[07:50:34] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[07:50:58] <johnsoft> hmm
[07:51:00] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:51:19] <johnsoft> it's got something to do with RWArc::write I think
[07:51:31] <johnsoft> let p = proc() { let x = x; } works fine
[07:54:07] <Yurume> wait, what? RWArc::write receives a stack closure...
[07:54:31] <Yurume> I never thought that a procedure can be coerced into a stack closure?
[07:56:09] <johnsoft> I need to pass ownership in, and you can't do that with a stack closure
[07:56:34] <strcat> johnsoft: ah the error is just wrong afaik
[07:56:37] <strcat> proc can't be coerced to &fn
[07:56:39] <strcat> well
[07:56:40] <Yurume> well, but `write` receives a stack closure anyway.
[07:56:44] <strcat> proc can't be coerced to || *
[07:56:58] <Yurume> strcat: bad coercion indeed?
[07:57:10] <strcat> it'd be unsound
[07:57:15] <strcat> the proc code can move out of the env
[07:57:20] <Yurume> yes
[07:57:22] <strcat> || can be called many times
[07:57:32] <Yurume> if `write` calls the closure many times, it would be unsound
[07:57:37] <sp3d> no? "Rust closures have a convenient subtyping property: you can pass any kind of closure (as long as the arguments and return types match) to functions that expect a ||."
[07:57:44] *** Quits: adu (ajr@moz-314C125F.washdc.fios.verizon.net) (Quit: adu)
[07:58:06] <strcat> sp3d: the only kind of closure is now ||
[07:58:09] <strcat> it's out-of-date documentation
[07:58:13] <strcat> ~fn and @fn don't exist
[07:58:14] <Yurume> sp3d: "Both the syntax and the semantics will be changing in small ways. At the moment they can be unsound in some scenarios, particularly with non-copyable types."
[07:58:19] <sp3d> yeah
[07:58:20] <strcat> proc is what ~once fn was
[07:58:22] <johnsoft> map.write(proc(m) { }); and it compiles just fine
[07:58:32] <Yurume> ~fn *was* coercable to &fn.
[07:58:33] <sp3d> proc is just also a closure as per docs right now--an owned closure
[07:58:34] <Yurume> ~once fn is not
[07:58:38] *** Joins: adu (ajr@moz-314C125F.washdc.fios.verizon.net)
[07:58:45] <johnsoft> I'd love to see orthogonal function types
[07:58:45] <Yurume> and so does proc()
[07:58:56] <Yurume> the documentation is seriously outdated :o
[07:59:00] <johnsoft> like the periodic table with FnOnce and etc that was posted
[07:59:05] <strcat> johnsoft: we used to have ~fn/@fn/&fn
[07:59:12] <strcat> and there was an experimental once fn feature
[07:59:19] <strcat> ~once fn, @once fn, &once fn
[07:59:23] <strcat> anyway
[07:59:25] <sp3d> if neither the documentation nor the implementation is correct that puts users in rather a pickle for now :/
[07:59:26] <strcat> &fn became ||
[07:59:30] <strcat> ~once fn became proc
[07:59:33] <strcat> all the others are gone.
[07:59:49] <Yurume> sp3d: the intermediate state of evolutionary design. :S
[08:00:11] <johnsoft> i hope I don't have to mourn their loss as I go back to java
[08:00:26] <sp3d> wow, master docs still have `do`, even
[08:00:34] <strcat> johnsoft: ideally we'll get unboxed closures
[08:00:38] <strcat> sp3d: and managed ptrs everywhere
[08:00:42] <strcat> and outright falsehoods
[08:00:45] <strcat> that have never been true
[08:00:47] <strcat> ...
[08:00:51] * strcat shrugs
[08:00:53] <sp3d> bah, I keep assuming they get better when I don't look
[08:01:09] <strcat> sp3d: well, I rewrote a section of the tutorial
[08:01:11] <johnsoft> it seems i started poking around in rust too early
[08:01:17] <strcat> sp3d: http://static.rust-lang.org/doc/master/tutorial.html#implementing-a-linked-list
[08:01:26] <strcat> other than that? no, I don't think much has happened with the tutorial/manual
[08:01:28] <sp3d> I guess I should try updating some stuff as well; code review exists to catch mistakes
[08:01:42] <johnsoft> shame. maybe i'll try again with verson 0.11 or so
[08:01:54] <strcat> (that whole section is new)
[08:02:11] <sp3d> it would be cool if docs were updated in lockstep w/ the language as a matter of policy
[08:02:20] <sp3d> but that probably isn't feasible or really a good idea
[08:02:29] <johnsoft> (i'm not bitter, i just need more hand-holding than this)
[08:02:32] <sp3d> w/r/t ensuring a continued steady rate of contributions
[08:02:33] <johnsoft> see you guys this summer!
[08:04:11] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[08:05:10] *** flaper87|afk is now known as flaper87
[08:09:12] <geomyidae> does a assert_eq_msg(left, right, errmsg) macro exist?
[08:11:24] *** Joins: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP)
[08:11:29] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[08:11:50] *** Quits: claudiu (claudiu@moz-FB94486E.thefacebook.com) (Input/output error)
[08:11:50] <Yurume> geomyidae: no. https://github.com/mozilla/rust/blob/master/src/libstd/macros.rs#L84
[08:11:57] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving.)
[08:12:17] <Yurume> you can use assert_eq!(left == right, errmsg) though
[08:12:31] *** Quits: Cevn (sameer@moz-E29DDA25.hr.hr.cox.net) (Ping timeout)
[08:13:09] <geomyidae> I'm not sure I follow... that would just fail everytime?
[08:13:35] <geomyidae> bool and a string? unless Im lost
[08:13:38] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[08:13:56] *** Joins: vgeddes (vincent.ge@moz-D8D4FE4D.dsl.mweb.co.za)
[08:14:16] *** Quits: lpy (lpy@51E8C831.DDD9F058.E99F7FDB.IP) (Ping timeout)
[08:14:46] <geomyidae> anyway, I see how I can achieve what I want if I wanted to add to macros.rs, I think it'd be nifty, or maybe just a different set of test macros for me to use
[08:14:55] *** Joins: lpy (lpy@51E8C831.DDD9F058.E99F7FDB.IP)
[08:15:03] <kimundi> geomyidae:  Yurume meant assert!(left == right, errmsg)
[08:15:36] <geomyidae> Is one particulary more common than another so far in canonical test code?
[08:15:45] <geomyidae> or idiomatic might be a better word
[08:16:19] <Yurume> ah
[08:16:27] <Yurume> silly me :X
[08:17:04] *** Joins: jensnock_ (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[08:17:11] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[08:17:15] *** Joins: Cevn (sameer@moz-F316C21E.hr.hr.cox.net)
[08:18:04] <sokomo> Hello
[08:18:41] <sokomo> Is this the right place that I can ask about contributing the Rust compiler?
[08:19:06] <sp3d> yep
[08:19:27] <sokomo> Thanks
[08:20:10] *** Joins: doener (doener@moz-C68F600D.unity-media.net)
[08:20:22] <sokomo> I have some experience in software coding and little designing.
[08:20:53] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[08:21:30] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: sleep)
[08:21:49] <sokomo> so could somebody tell me where the right place is I should start?
[08:22:25] <Zr40> what area you want to work on?
[08:22:48] <Yurume> is this the first time you are working on the programming languages in general?
[08:23:07] <sokomo> yes
[08:24:00] <Yurume> then it might be quite hard to touch the compiler internals, I think. (if you are interested in it, go ahead, but it would be a tough step :-)
[08:24:27] <Yurume> I guess stdlib and documentation would be somehow more accessible than others
[08:24:31] <sokomo> it may be hard at the beginning
[08:24:51] <sokomo> but I have confidence
[08:25:22] <Yurume> or you can contribute a good application written in Rust, since there are not that many Rust codes out there anyway.
[08:25:37] <Yurume> (in fact this is also the fastest way to learn Rust)
[08:26:27] <sokomo> thanks
[08:26:47] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[08:26:58] <Yurume> sokomo: if you are interested in the compiler internals anyway, #rust-internals is also a good place to watch
[08:27:29] <Yurume> there are also topic-restricted (or non-topic-restricted?) channels related to Rust: #rust-gamedev and #rust-osdev.
[08:27:49] <sokomo> I'm currently attending the #rust-internals and #rust-osdev
[08:28:20] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[08:28:25] *** Quits: Cevn (sameer@moz-F316C21E.hr.hr.cox.net) (Ping timeout)
[08:28:42] <sokomo> I have been around here for 4 days
[08:28:44] <Yurume> oh
[08:29:01] <Yurume> (there are so many people here and there so I cannot remember all those nicknames, sorry :)
[08:29:10] *** Joins: dbaupp (Thunderbir@moz-25BBAF91.lns20.syd6.internode.on.net)
[08:29:16] *** Quits: b1nd (b1nd@moz-C9E8EB79.lnse4.cht.bigpond.net.au) (Quit: Leaving)
[08:29:18] <sokomo> Sorry
[08:29:19] *** Quits: trinary (Adium@moz-D78CD0D5.hsd1.co.comcast.net) (Quit: Leaving.)
[08:29:26] <sokomo> but I just start talking today
[08:30:05] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[08:31:05] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[08:31:19] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[08:35:01] <dbaupp> skrylar: https://github.com/mozilla/rust/issues/12046
[08:36:41] *** Joins: Heather (Heather@19663F6.F53BAACC.9C17E900.IP)
[08:36:54] <Heather> hi
[08:37:16] <Yurume> hi
[08:37:53] <Yurume> Heather: does the current Rust nupkg work? it seems both the chocolatey and NuGet standalone binary fails to download it (for me).
[08:38:32] <Yurume> I know nuget.org had a server problem recently, but nuget folks declared the full recovery so I'm not what is the cause.
[08:39:32] <Heather> Yurume hm... only current version?
[08:40:00] *** Quits: adu (ajr@moz-314C125F.washdc.fios.verizon.net) (Quit: adu)
[08:40:04] <Yurume> it started to fail to download since 20140129
[08:40:58] <Yurume> though I'm not quite familiar to nuget (and I should update the wiki page anyway, since the recent Chocolatey does not use nuget.org for sources by default)
[08:45:48] *** Joins: jsonnull (Thunderbir@26F61E6.CFD9471D.494A0F8B.IP)
[08:45:54] <skrylar> dbaupp: welp, sounds like a showstopping bug for now :<
[08:49:11] <Heather> Yurume trying to update
[08:50:25] *** Joins: adu (ajr@moz-314C125F.washdc.fios.verizon.net)
[08:51:29] <dbaupp> skrylar: I'm building a std::rc with a pile of (printf) debugging in the destructors, so hopefully the cause will soon be obvious and easily fixable
[08:51:31] <dbaupp> ... hopefully
[08:52:05] <Yurume> Heather: should I contact the nuget team directly if the update does not solve the problem?
[08:52:42] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Client exited)
[08:52:49] *** Quits: jensnock_ (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[08:53:14] *** Joins: aklt (aklt@83B8238.6BE5A349.B330AC0A.IP)
[08:53:20] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[08:53:33] *** Joins: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[08:54:44] <dbaupp> wycats: what did the audience think of your talk?
[08:56:55] <dbaupp> wycats: also, omg, I love your slides
[08:57:29] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving.)
[08:57:38] <dbaupp> wycats: the brackets are cool
[08:57:41] <skrylar> dbaupp: yeah.. I'm at a loss for the time being; I don't know enough of the compiler's codebase to do much help in fixing it unfortunately
[08:58:05] <dbaupp> skrylar: this is actually entirely defined in libstd, so it's (probably) not part of the compiler
[08:58:27] <acrichto> dbaupp: skrylar: commented on the issue
[08:58:28] *** Quits: lpy (lpy@51E8C831.DDD9F058.E99F7FDB.IP) (Ping timeout)
[08:58:52] *** Joins: canhtak (canhtak@moz-8A625E1D.wl.t.ulaval.ca)
[08:59:03] *** Joins: lpy (lpy@51E8C831.DDD9F058.E99F7FDB.IP)
[09:00:35] <dbaupp> acrichto: you're a genius :)
[09:01:44] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[09:01:47] <acrichto> dbaupp: perhaps the refcount could be set to -1, preventing weak pointer upgrades but preventing weak pointers from destroying the allocation, then after the destructor is run it's set to 0 and the weak pointer count is checked
[09:02:32] <dbaupp> acrichto: I think we can just put the strong decrement after freeing the interior
[09:02:32] <dbaupp> maybe
[09:02:41] <dbaupp> anyway, gtg
[09:02:54] <dbaupp> (maybe that will cause memleaks in other situations?)
[09:04:48] <Heather> how to create something alike fail!
[09:04:54] <Heather> where can I see fail! syntax?
[09:04:54] *** Quits: FreeFull (freefull@moz-1883929A.as13285.net) (Quit: )
[09:05:04] <skrylar> fail is compiler magic
[09:06:02] <Yurume> skrylar: no, it is just a macro.
[09:06:04] <Yurume> https://github.com/mozilla/rust/blob/master/src/libstd/macros.rs#L42
[09:07:08] <skrylar> okay, its only barely not magic. :)
[09:07:24] *** Joins: Armavica (virgile@moz-AD428ED7.ens.fr)
[09:07:29] *** Joins: heftig (heftig@moz-D746319F.unitymedia.biz)
[09:07:30] <Yurume> in fact, the unwind logic is also not a compiler magic, it is a runtime magic ;)
[09:08:33] <Amaranth> I'm trying to port some code to the new IoError setup and I'm afraid I just don't understand what is going on. I've got let s = File::open(path).expect("Cannot open the file: " + path.as_str().unwrap()).read_to_end(); so I thought I could just make it File::open(path).ok() to unwrap the Result and then call expect() on the Option but I seem to end up still making s a Result object
[09:08:37] *** Quits: canhtak (canhtak@moz-8A625E1D.wl.t.ulaval.ca) (Quit: canhtak)
[09:09:34] <Amaranth> Oh, of course, read_to_end() is also an IoError
[09:09:52] *** Quits: adu (ajr@moz-314C125F.washdc.fios.verizon.net) (Quit: adu)
[09:10:02] <Yurume> the example there is outdated :S
[09:10:23] *** Joins: daschl (Adium@moz-A3B8EA95.static.bezeqint.net)
[09:10:24] *** Joins: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP)
[09:12:36] <Yurume> Amaranth: oh, wait a min; are you using the older version of rustc? IoResult is a recent change so you might have to install the newest nightly or compile the master.
[09:12:45] <Yurume> check rustc -v.
[09:12:51] <Amaranth> What example?
[09:12:52] *** Joins: aurynj_ (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[09:12:53] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Quit: Leaving)
[09:13:01] *** Quits: aurynj_ (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Connection reset by peer)
[09:13:04] *** Joins: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[09:13:04] <Amaranth> I've got IoError, which is a Result
[09:13:33] <Yurume> then I think File::open(path).ok().expect("...").read_to_end() should work
[09:13:40] <Yurume> what's the error message?
[09:13:50] <Amaranth> Nope, the read_to_end() also returns an IoError
[09:13:53] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[09:14:14] <Yurume> ah... yes. it also returns an IoError, so use unwrap() on that.
[09:14:24] <Amaranth> So to match what it was doing before I needed let s = File::open(path).ok().expect("Cannot open the file: " + path.as_str().unwrap()).read_to_end().ok().unwrap();
[09:14:41] <Amaranth> Oh, Result has an unwrap() method
[09:14:45] <Yurume> .ok().unwrap() is equivalent to .unwrap()
[09:15:07] <Yurume> .ok().expect() has no direct counterpart in Result
[09:15:35] <Yurume> Amaranth: for the readability, you may consider using if_ok!()
[09:16:10] <Amaranth> Maybe later, that's going to require changing more than a single line of code
[09:16:15] <Yurume> so if the containing function returns IoResult<()>: let mut f = if_ok!(File::open(path)); let s = if_ok!(f.read_to_end());
[09:16:18] *** Joins: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net)
[09:16:34] <Yurume> this way you can propagate the error down to the caller
[09:17:31] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[09:18:38] <heftig> huh, seems rust is accumulating a lot of different smart pointers. will that set be trimmed before release?
[09:19:07] <Amaranth> What ones are you talking about?
[09:19:32] <heftig> just noticed there's also a CowArc now
[09:19:38] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[09:19:52] <Amaranth> Sounds reasonable
[09:20:15] <Amaranth> Although I'm not seeing that in libstd
[09:21:04] <heftig> Amaranth: 06a8d59
[09:21:13] <Amaranth> That's in libextra
[09:22:12] *** Quits: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP) (Quit: brendan)
[09:22:19] <kimundi> heftig: Why should the set be trimmed?
[09:22:43] <Amaranth> You can't combine Arc and CowArc, they do different things
[09:23:47] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[09:23:56] <Amaranth> I'm not sure I understand the point of MutexArc but it doesn't look like something the other two could handle either
[09:24:03] <heftig> hm, what would still be missing? a RCU-type pointer?
[09:24:24] <Amaranth> RCU is patented, stay away
[09:24:53] *** Quits: KindOne (KindOne@moz-945436A1.dynamic.ip.windstream.net) (Ping timeout)
[09:24:54] <skrylar> rcu pointer?
[09:25:14] <heftig> skrylar: https://en.wikipedia.org/wiki/Read-copy-update
[09:25:52] <Heather> Yurume nuget works damn slow and weird for me now
[09:26:15] <Yurume> Heather: then it'd be a server problem... :S
[09:26:32] <skrylar> heftig: well it looks like it will be expiring in a few years at least:/
[09:26:51] <heftig> skrylar: that technique is already in heavy use in linux
[09:27:16] <skrylar> admittedly i would still just throw out the entire patent office if it were up to me; we had the rennaisaunce without patent law so why do we need it now? :shrug:
[09:28:38] *** Joins: KindOne (KindOne@D47B39A8.A8EAE74D.34F73994.IP)
[09:28:45] <sam113101> does rust have header files?
[09:28:49] <Heather> Yurume can't bump package
[09:28:50] <skrylar> no
[09:29:26] <heftig> AFAIK libraries contain all the information needed, inside
[09:29:33] <Yurume> sam113101: no, it includes a special metadata which is included in either .rlib (for static linkage) or .so/.dll/.dylib (for dynamic linkage) so you don't need a separate code for that.
[09:30:16] <Yurume> that's one thing that C/C++ could never do.
[09:30:24] <sam113101> .rlib?
[09:30:35] <heftig> Yurume: well, I guess they could, but it wouldn't be standard
[09:30:46] <sam113101> how do you seperate the code into different compilation units without header files?
[09:30:48] *** Joins: nkoep (nik@moz-7BE39188.pool.mediaways.net)
[09:30:50] <skrylar> lol standardized C
[09:30:59] *** Joins: rca (rcatolino@moz-BC04AA53.adsl.proxad.net)
[09:31:04] *** Quits: daschl (Adium@moz-A3B8EA95.static.bezeqint.net) (Quit: Leaving.)
[09:31:11] <skrylar> i don't think standardized C really exists; every compiler has their own idea of what "standard C" means
[09:31:13] <eddyb> yeah, the metadata changes a lot in rustc. I guess 1.0 would standardize a common format
[09:31:22] <Heather> Yurume where is begin_unwind_fmt
[09:31:25] <Yurume> heftig: technically speaking, we can ditch the entire compilation model and leave that to the implementors. it is unlikely though
[09:31:43] <Yurume> Heather: https://github.com/mozilla/rust/blob/master/src/libstd/rt/unwind.rs
[09:31:44] <eddyb> Heather: grep the source ;)
[09:31:57] <Yurume> lol I'm faster than grep ;)
[09:32:17] <Yurume> eddyb: would rustc continue to use ebml?
[09:32:44] <Yurume> (and zlib, afaik)
[09:32:45] <eddyb> Yurume: you're faster than me saying "grep"
[09:32:54] <heftig> sam113101: I think there is no compilation unit splitting
[09:32:59] <Heather> Yurume.... "FASTER THAN GREP"
[09:33:03] <heftig> I think inlining makes that dubious, anyway
[09:33:18] <Yurume> eddyb: actually I guessed the file name from the query, so I was indeed faster than grep.
[09:33:22] <heftig> rather, make the compiler internally concurrent
[09:33:38] <eddyb> heftig: sometimes, we can do that
[09:34:10] <eddyb> like, type checking could be parallelized, if we had concurrent HashMaps (strcat?)
[09:34:20] <eddyb> about zlib, I am working on an inflate implementation in rustc. sadly, deflating is harder. I might try some algorithms, but micro-optimizing inflate is taking too much time already
[09:34:55] <eddyb> why don't our tags fit in a byte? sounds like a waste of space :/
[09:35:15] <heftig> eddyb: alignment?
[09:35:34] <eddyb> no, just using values above 0x100 for no obvious reason
[09:35:49] <Yurume> rooms for the extension :p
[09:35:59] <Yurume> but yeah, that should be rescinded
[09:37:02] *** pmoore|away is now known as pmoore
[09:37:04] *** Quits: sokomo (sokomo@8293D4FC.93FF164A.408809BB.IP) (Quit: Read error: Connection reset by peer)
[09:38:08] <eddyb> if n < 0x7f_u { write_sized_vuint(w, n, 1u); return; }
[09:40:52] <eddyb> oh, there are gaps. maybe someone forgot to renumber after removing tags. with my changes, last one is pub static tag_macro_def: uint = 0x8f;
[09:41:07] <Heather> Yurume how to convert fmt: &::std::fmt::Arguments to msg?
[09:41:46] <Yurume> Heather: look at std::fmt.
[09:41:47] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[09:41:57] <eddyb> Heather: give it to std::fmt::format
[09:42:02] <eddyb> but why do you need to touch that?
[09:42:02] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[09:42:12] <Yurume> eddyb: format_args!() plus custom logger?
[09:42:27] <eddyb> Yurume: unrelated to being_unwind_fmt
[09:42:35] <Yurume> hmm!
[09:42:38] <Heather> eddyb: I need fail! macros where I can pass exit code ....
[09:42:39] <Yurume> indeed, what's your use case?
[09:42:52] <Heather> now I think if and how can I make it....
[09:42:53] <eddyb> Heather: you can fail with any object
[09:43:04] <Yurume> eddyb: "exit code" might mean the process exit code.
[09:43:07] <Heather> eddyb: eh?
[09:43:13] <Heather> Yurume yes
[09:43:21] <Heather> os::set_exit_status(1);
[09:43:26] <Yurume> Heather: in that case, use fail! as is but prepend it with os::set_exit_status()
[09:43:31] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[09:43:34] <kimundi> Heather: and you can just make a macro that does { os::set_exit_code(code); fail() }
[09:43:37] <eddyb> Heather: fail!(ExitCode(1, format!("{}", foo))) - AAAH
[09:43:45] <Yurume> fail_with_exit_code!(...)
[09:44:14] <eddyb> Heather: I thought you wanted this for some task contraption. you shouldn't need to touch the formatting part of it at all
[09:44:28] <eddyb> Heather: just pass through all arguments after the exit code to fail! or println!
[09:44:32] <Yurume> macro_rules! fail_with_exit_code(($exitcode:expr, $($args:tt),+) => { ::std::os::set_exit_status($exitcode); fail!($($args),+); })
[09:44:35] <Yurume> might work
[09:44:49] <Heather> Yurume thanks, let me try
[09:45:12] *** Quits: lpy (lpy@51E8C831.DDD9F058.E99F7FDB.IP) (Ping timeout)
[09:46:29] <Heather> Yurume hm, doesn't work...
[09:46:35] <Yurume> hmm
[09:46:46] <Yurume> ah ({ ::std::os... fail!(...); })
[09:46:47] *** Joins: frogzilla (Mibbit@106C2B11.F8CE7E29.F56771F5.IP)
[09:46:52] <Yurume> I forgot one layer of parentheses
[09:47:02] *** Joins: fyolnish_ (fyolnish@moz-BE2BAE5B.miinet.jp)
[09:47:17] *** Quits: frogzilla (Mibbit@106C2B11.F8CE7E29.F56771F5.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[09:47:22] *** Joins: lpy (lpy@46283DA3.A491F94C.65042015.IP)
[09:47:27] *** Joins: Cevn (sameer@moz-F316C21E.hr.hr.cox.net)
[09:48:14] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[09:48:50] *** Quits: fyolnish_ (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[09:49:20] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Input/output error)
[09:49:23] <Heather> Yurume ?
[09:49:50] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[09:49:54] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[09:50:46] <Yurumechan> Heather : put parentheses outside the braces
[09:51:07] <Heather> Yurumechan: same ...
[09:51:11] *** Joins: Ms2ger (Ms2ger@moz-884DE569.adsl-dyn.isp.belgacom.be)
[09:51:27] <Yurumechan> hmm what is the error
[09:52:04] <Heather> Yurumechan:  failed to find an implementation of trait std::fmt::Show for extra::getopts::Fail_
[09:52:33] <Yurumechan> ah? that seems unrelated to the macros.
[09:53:04] <Heather> Yurumechan: crash!(1, "Invalid options\n{}", f) //.to_err_msg()
[09:53:15] <Yurumechan> I cannot check the docs right now but you may check docs for Fail_ to what to use
[09:56:08] <eddyb> Yurumechan: and now it's down to pub static tag_macro_def: uint = 0x67;
[09:57:34] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[09:57:39] <Yurumechan> oh great
[09:57:59] <Yurumechan> so were there just over 100 tags out there?
[09:59:15] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[10:00:36] *** Quits: rca (rcatolino@moz-BC04AA53.adsl.proxad.net) (Ping timeout)
[10:01:16] *** Joins: eibwen (kvirc@moz-15FDF8CC.dip0.t-ipconnect.de)
[10:04:13] <Heather> Yurume oh 
[10:04:15] <Heather> weird
[10:04:28] <Heather> Yurumechan: Err(f) => crash!(1, "Invalid options\n{}", (f.to_err_msg())) <- works
[10:04:40] <Heather> Yurumechan: Err(f) => crash!(1, "Invalid options\n{}", f.to_err_msg()) <- fails
[10:05:00] <Yurumechan> oh?
[10:05:17] <Ms2ger> Probably worth filing an issue
[10:05:45] <Yurumechan> hmm how about $args:expr?
[10:05:56] <Yurumechan> tt may have a problem.
[10:05:57] *** kimundi is now known as zz_kimundi
[10:08:29] <eddyb> cmr: I nominate this as the quote of the week: "Success consists of going from failure to failure without loss of enthusiasm.
[10:08:57] <eddyb> cmr: I would paraphrase it (test failures?), but I'm not sure how to make it sound good
[10:09:37] <Heather> Yurumechan: well but exit code is 101
[10:09:39] <Heather> still
[10:09:46] <Yurumechan> huh
[10:09:50] <Heather> Yurumechan:  fail! overrides it
[10:09:59] <Yurumechan> unfortunate
[10:10:36] <Heather> Yurumechan: well I need replace it with write! to stderr and return
[10:10:37] <Yurumechan> i cannot do much from the mobile then
[10:10:50] <eddyb> Heather: did you use $($args:tt),+? I think it should be $($args:tt)+ - i.e. without the comma in there
[10:10:51] *** Quits: lpy (lpy@46283DA3.A491F94C.65042015.IP) (Ping timeout)
[10:10:53] *** Joins: rca (rcatolino@moz-BC04AA53.adsl.proxad.net)
[10:10:59] <Yurumechan> ah
[10:11:15] <Yurumechan> aww, eddyb is right
[10:11:31] <Yurumechan> i shouldve check that
[10:11:46] *** Joins: lpy (lpy@46283DA3.A491F94C.65042015.IP)
[10:12:12] *** Joins: andre (andre@CA528A4A.45A4338E.8EE27E6.IP)
[10:12:58] <Heather> eddyb: why
[10:13:12] <eddyb> Heather: because it's a token tree
[10:13:28] <eddyb> comma-delimited token trees make no sense ;)
[10:13:36] *** Joins: lpy_ (lpy@798FF4A9.F4539CBC.E99F7FDB.IP)
[10:13:37] <Heather> eddyb: nom with no coma it fails with unexpected token - coma
[10:13:54] <eddyb> but a comma is a token o_O
[10:14:03] *** Quits: lpy (lpy@46283DA3.A491F94C.65042015.IP) (Ping timeout)
[10:14:29] <eddyb> Heather: just use $($args:expr),+ then *sigh*
[10:14:37] <eddyb> it's what the formatting macros do IIRC
[10:14:43] <Heather> k
[10:14:48] *** Joins: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP)
[10:16:10] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[10:17:33] <dbaupp> acrichto: ping
[10:17:42] *** Quits: Ms2ger (Ms2ger@moz-884DE569.adsl-dyn.isp.belgacom.be) (Quit: bbl)
[10:18:07] <Heather> dbaupp: hi
[10:18:23] *** Quits: eddyb (eddy@832D2DE5.66315F97.FB866788.IP) (Connection reset by peer)
[10:18:34] <Heather> dbaupp: eddyb: Yurumechan: and finally how to ignore write! unused return warning?
[10:18:47] <Heather> let _x = ?
[10:19:19] <dbaupp> Heather: yeah, that should work
[10:19:20] <dbaupp> hi :)
[10:22:29] <Heather> Yurumechan: dbaupp: here is my macro! https://github.com/Heather/coreutils/commit/f6c46024e81390678f51bc83227c6736124b9299
[10:22:39] *** Joins: eddyb (eddy@moz-92B95652.residential.rdsnet.ro)
[10:23:34] <eibwen> look here:
[10:23:38] <eibwen> rusti: let x = 0; println!("{:?}", &x);
[10:23:41] -rusti- pastebinned 7 lines of output: http://ix.io/a6T
[10:23:48] *** Quits: not_gavin (gavin@E04DED12.5AA33DAB.2321E71E.IP) (Input/output error)
[10:23:57] <eibwen> this makes it fail on a compiler bug
[10:24:05] *** Joins: not_gavin (gavin@E04DED12.5AA33DAB.2321E71E.IP)
[10:24:19] <dbaupp> rusti: let x = 0; println!("{:?}", &x)
[10:24:21] -rusti- &0
[10:24:21] -rusti- ()
[10:24:27] <dbaupp> eibwen: it's the semicolon
[10:24:40] <dbaupp> it's a rather peculiar bug :)
[10:24:47] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[10:25:18] <eibwen> ah thanks
[10:25:29] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[10:25:29] <eibwen> but why is the semicolon not allowed there?
[10:26:31] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[10:26:42] <dbaupp> it is *allowed* there, just the compiler can't handle it
[10:26:47] *** Quits: dmac (dmac@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[10:26:48] *** Joins: igork (igork@moz-18540A65.broadband.corbina.ru)
[10:26:49] <dbaupp> it should compile perfectly
[10:26:58] <eibwen> oh ok
[10:27:04] <dbaupp> (the crash was actually only introduced recently)
[10:27:13] <eibwen> is there already a bug report filed?
[10:28:22] *** Quits: onelson (owen@18CF7301.95770028.5B6BFE7D.IP) (Ping timeout)
[10:28:39] <dbaupp> Heather: taht macro looks neat
[10:28:59] <dbaupp> eibwen: yeah, search for text of the assertion failed message
[10:29:03] *** Quits: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca) (Ping timeout)
[10:29:10] <dbaupp> (as in, "dest == expr::Ignore || bcx.unreachable.get()")
[10:32:55] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving.)
[10:33:04] <Heather> dbaupp: thanks )
[10:34:45] <Yurume> ha, I'm back. (Yurumechan is for the mobile, and I went out for the dinner.)
[10:35:35] *** Joins: fyolnish (fyolnish@moz-88C20F85.uqwimax.jp)
[10:37:35] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[10:37:56] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[10:38:24] *** Quits: lpy_ (lpy@798FF4A9.F4539CBC.E99F7FDB.IP) (Ping timeout)
[10:39:39] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[10:39:39] *** Joins: alexherbo2 (alexherbo2@moz-33868228.w90-35.abo.wanadoo.fr)
[10:39:57] *** Joins: lpy (lpy@798FF4A9.F4539CBC.E99F7FDB.IP)
[10:41:42] * Heather excited by Ithkuil language ....
[10:42:32] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[10:43:36] <Yurume> Heather: ... along with its 43 consonants and 13 vowels.
[10:44:24] <Heather> Yurume well Chinese got much more
[10:45:21] <skrylar> heh ithkuli
[10:45:29] <Yurume> Heather: it has much less consonants though. (while supplemented by tones)
[10:45:37] <skrylar> too bad it needs an IME to work on a computer
[10:46:03] <Heather> xD
[10:46:23] <Yurume> heh, some analysis on the standard Chinese gives as small phonology as 19 consonants, 5 vowels (!) and 4 tones.
[10:46:26] <Heather> skrylar: where you found IME support for it?
[10:47:02] <skrylar> i didn't, i just read the language
[10:47:02] <Yurume> skrylar: IME is required for anything that does not use the Latin script anyway
[10:54:44] <skrylar> not necessarily the latin script
[10:54:59] <skrylar> any fixed 26-52 character script
[10:55:46] <skrylar> mostly only need the IME when your language does annoying things like technically having 600,000 "letters" or when your characters have weird storage
[10:56:04] <skrylar> e.g. the brush composition format for Chinese or Ithkuli's similar need for a compositional format
[10:56:04] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[10:57:51] <Heather> why default C++ for_each takes _Iter.begin() and end() as arguments and not just _Iter?
[10:58:17] *** Joins: vertexclique (vertexcliq@69CFE6CE.16F818C8.6894ADF4.IP)
[10:58:33] <skrylar> because C++ is silly
[10:58:40] <skrylar> also because you might not iterate the full begin-to-end
[10:58:55] <Heather> skrylar: eh?
[10:58:57] <Yurume> skrylar: composable diacritics need the particular storage as well (if you don't want diacritics stick to weird characters). technically speaking, Hangul (normally needs an IME) can also be typed without an IME in that measure (since its combining characters are in the same order as the keystroke order) but that hardly matters.
[10:59:02] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Connection reset by peer)
[10:59:27] <Heather> I think I can template<class _coll, class _Fn1> inline _Fn1 foreach(_coll _Iter, _Fn1 _Func) {return for_each(_Unchecked(_Iter.begin()), _Unchecked(_Iter.end()), _Func);
[10:59:37] <skrylar> Yurume: nothing really precludes having an "a with umlaut" key on the keyboard though
[10:59:42] <Heather> but why there is no such template by default
[10:59:57] <dbaupp> skrylar: like ä?
[10:59:58] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[11:00:30] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[11:00:32] <Yurume> skrylar: that will exceed the capability of normal keyboards anyway. 600 letters are equally prohibitive for keyboards as 600,000 letters.
[11:00:39] *** Quits: rca (rcatolino@moz-BC04AA53.adsl.proxad.net) (Ping timeout)
[11:00:49] <dbaupp> skrylar: https://github.com/mozilla/rust/pull/12047 btw
[11:00:58] <skrylar> well ostensibly the keybaord is narrowed to your language :P
[11:01:02] <Yurume> :p
[11:01:20] <skrylar> i was just pointing out that it isn't latin that you need for a keyboard, its a key-able character set regardless of what you print on that
[11:02:09] <Yurume> anyway, I don't think the so-called "keyboard layout" is distinct from the "IME"; they are really not distinguishable nowadays, and there are just "simpler" IMEs and "more complex" IMEs.
[11:02:54] <skrylar> i tend not to worry about IME support in my own apps honestly; i probably should, but I tried learning Japanese once and just didn't have enough care to put up with 3-9 readings for 600,000 letters
[11:03:16] <skrylar> there exists a point where i decide certain languages are too unreasonable to be worth my time, programming or otherwise
[11:03:59] <Yurume> FYI, Japanese has about 5,000 letters when only counting letters in the common use.
[11:04:08] <skrylar> SDL does make that a bit easier by interfacing with the OS for you
[11:04:29] <Yurume> and CJK unified ideographs rarely exceed 100,000 letters as well :p
[11:04:46] <skrylar> Yurume: eh, even that is still excessive IMO. And there are numerous problems with symbol sets like that
[11:05:10] <Yurume> yeah, Unicode has a dedicated plane for arcane CJK ideographs...
[11:05:17] <Yurume> and another. (plane 2 and 3, respectively)
[11:05:58] <skrylar> I remember one person I used to know who was big in to Japanese culture but had trouble learning languages in general, and we talked about the issue of when you hit a "non-common" word
[11:06:22] <Yurume> Hangul, as another example, is fully composable but it has a syllablic group that is apt to be encoded to one codepoint.
[11:06:54] <skrylar> in English you can probably pronounce it phonetically, and a lot of word meanings can be somewhat accurately interpreted around a sentence (even nonexistent ones, which is kind of hilarious); I guess you can do that with those, but its a lot harder to go look up a symbol via stroke order than juts typing it in
[11:07:09] <Yurume> skrylar: and user-customizable or adaptive dictionary has a privacy problem. :S
[11:07:56] <skrylar> Is Hangul the newer Korean subset or the old one?
[11:07:58] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[11:08:02] <Yurume> the old one?
[11:08:04] <skrylar> I remember there was a push for a more reasonable version of the language
[11:08:17] <skrylar> which was based on consonants more than a massive sigil index
[11:08:25] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[11:08:37] <Yurume> skrylar: both versions are present in Unicode.
[11:08:42] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[11:09:14] <Yurume> well, in Unicode 1.0 and 1.1 Hangul came with the commonly used syllablic group without any particular order.
[11:09:57] <Yurume> after that mess exceeded some 6,000 letters out of 11,172 possible groups, Unicode people finally found their mistake and turned to the fully algorithmic group in Unicode 2.0.
[11:10:04] <skrylar> we ought to just put someone else's grammar on the latin script, and then shove everyone in to learning it
[11:10:27] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Ping timeout)
[11:10:54] <skrylar> lojban is conceptually nice, but it looks and reads really ugly
[11:10:56] <Yurume> so there is a precedent for that problem: combining characters are ideal, but they do not work for Koreans due to the various problems.
[11:11:03] <Yurume> ' vs. h? :)
[11:12:13] <Heather> is there tiny example of cross-process, thread-safe event system in Rust?
[11:12:20] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[11:12:25] <Yurume> zmq?
[11:12:32] <Heather> zmq?
[11:12:48] <dbaupp> zmq?
[11:12:52] <Yurume> Heather: I doubt there is a built-in solution inside libstd and libextra....
[11:13:02] <Yurume> zmq is a possible third-party solution
[11:13:26] <skrylar> zero mq is the full name of the library (or some unicode zero with a cross and MQ) but thats written in C
[11:13:30] <dbaupp> https://github.com/erickt/rust-zmq
[11:13:37] <dbaupp> is some bindings
[11:14:02] <Yurume> or nanomsg (a fork of zmq) if you prefer. https://github.com/glycerine/rust-nanomsg
[11:14:13] <Yurume> oh wait, that is outdated. nevermind.
[11:14:57] <dbaupp> (the zmq bindings seem to need updating too)
[11:15:10] <Yurume> time to use rust-ci :)
[11:15:28] *** zz_kimundi is now known as kimundi
[11:15:37] <dbaupp> that's how I know it needs updating :P
[11:15:47] <Yurume> builds kept failing?
[11:16:01] <dbaupp> http://www.rust-ci.org/erickt/rust-zmq
[11:16:06] <dbaupp> yup
[11:17:00] *** Joins: rca (rcatolino@moz-BC04AA53.adsl.proxad.net)
[11:17:23] <Yurume> https://github.com/lfairy/rose/ oh, I've found this from rust-ci
[11:18:11] <Heather> major overhead...
[11:18:24] <Yurume> Heather: what are you doing with the cross-process event system?
[11:18:44] <Yurume> I think zmq is a reasonable solution, given its adaptability
[11:18:58] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[11:19:28] <Yurume> (while I haven't used rust-zmq, I used libzmq for work and it was mostly pleasant experience)
[11:19:37] <Heather> Yurume I just thing in way of C++ server projects potencially being ported to rust... there is no some primary target yet
[11:19:48] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[11:20:36] <Yurume> that seems the perfect use case for zmq.
[11:20:58] <Yurume> unless you have some other requirements, e.g. HTTP servers naturally cannot use zmq.
[11:21:02] <dbaupp> Yurume: cool! <3 regexps
[11:21:05] <Heather> Yurume I used it with ATL and COM objects XD
[11:21:13] <Yurume> oh no! XD
[11:21:24] <Heather> Yurume yep :D 
[11:22:09] <Heather> Yurume and I also got .NET services :D
[11:22:44] <Yurume> I like a quote from sqlite: sqlite is designed to replace fopen(). I think the same applies to zmq: zmq is designed to replace socket(). :p
[11:23:24] <Heather> Yurume: well as I said I was thinking in abstraction ) at least it will be good if I will can create an COM objects with Rust as I can do for example in Racket
[11:24:40] <Yurume> I'm not sure about the state of COM in Rust
[11:25:13] <Heather> Yurume nothing so far
[11:25:14] <Yurume> it will need some boilerplate to get start with, since Rust does not have a vtable mounted to the object.
[11:25:47] <Yurume> yeah, searching for IUnknown in Github yielded nothing
[11:26:18] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[11:26:35] <Heather> Yurume I don't think that COM will dead in near time
[11:26:38] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[11:26:54] <Yurume> Heather: it won't be dead unless Windows is dead. :S
[11:27:11] <Yurume> many core interfaces in Windows API rely on COM anyway
[11:27:18] <Heather> Yurume and yet we can't find better alternative.
[11:27:29] <Yurume> for Windows, yeah.
[11:27:37] <Heather> Yurume COM for windows, dbus for linux. Kill the guy who said crossplatform
[11:27:42] <Yurume> lol
[11:28:01] <Heather> )
[11:29:06] <Heather> Yurume yes, also I think that Qt should die but it's much more religious >_<
[11:29:10] <Yurume> language-independent binary-based software interface seems to be an absurd idea nowadays. :p
[11:29:16] <jsonnull> I guess you're not holding your breath for Satya Nadella going on a cleaning-spree a la Google. :P
[11:29:28] <jsonnull> (Would be so nice...)
[11:29:51] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[11:30:09] <Heather> jsonnull: well he've got nice mentor
[11:32:06] <Heather> *has got ...
[11:32:42] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Client exited)
[11:33:00] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[11:34:16] <Heather> jsonnull: well if rust will have ability to build com objects I can try to get little parts done with it.
[11:34:43] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[11:34:48] <Yurume> I guess some heavy machinary around the loadable syntax extension may work.
[11:34:53] *** Joins: jensnock_ (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[11:35:19] <Heather> oh...
[11:35:33] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[11:35:34] <Heather> Yurume: golang got both, OLE and dbus libraries
[11:36:20] <Yurume> https://github.com/mattn/go-ole/ oh, indeed.
[11:37:04] <Yurume> aaand it has a hand-written boilerplate. meh.
[11:37:10] <Yurume> https://github.com/mattn/go-ole/blob/master/iunknown.go for example
[11:37:14] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[11:37:26] <Heather> yep
[11:37:51] <Yurume> on the syntax extension, something like: #[com_interface("{...}")] trait Foo { ... } ?
[11:37:58] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[11:38:06] <Heather> would be cool
[11:38:10] <Heather> this way I do in C#
[11:38:15] <Yurume> not sure about the definition of COM interface itself
[11:38:15] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[11:39:13] *** Quits: Cevn (sameer@moz-F316C21E.hr.hr.cox.net) (Ping timeout)
[11:39:37] <Yurume> hmm, #[com_interface("{...}")] trait IFoo: IUnknown { ... } and struct ComObject<T:IUnknown> { ... } ?
[11:39:45] <Yurume> I'm not sure if that would work
[11:39:52] <skrylar> sounds like magic
[11:39:56] <Yurume> but at least we need to separate the actual traits from RC wrapper
[11:40:04] <skrylar> and the kind of thing a proper lispy macro system would do for you :(
[11:40:26] *** Joins: gotts (gotts@583D7927.9799C9E7.3F2079FA.IP)
[11:40:39] <Yurume> skrylar: interface! IFoo { ... } ? :p
[11:40:51] *** Joins: alonlevy (alon@7C9768E5.8CFF09BA.8F895A6D.IP)
[11:40:52] <Yurume> (actually that might be much more bearable than attr-like extensions)
[11:41:24] *** Quits: vertexclique (vertexcliq@69CFE6CE.16F818C8.6894ADF4.IP) (Client exited)
[11:41:35] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[11:42:36] *** Joins: alonlevy_ (alon@7C9768E5.8CFF09BA.8F895A6D.IP)
[11:42:59] *** Quits: alonlevy (alon@7C9768E5.8CFF09BA.8F895A6D.IP) (Ping timeout)
[11:45:56] <arturo> how can i do something like: http://pastebin.com/28mLy5Xh  i always get error: cannot move out of dereference of & pointer or similar no matter if i do for &s or &Line...
[11:46:01] *** Joins: io2 (io2@moz-7C3DDBE8.home.otenet.gr)
[11:46:15] <Yurume> arturo: Line{to: ref to} => ... etc.
[11:46:34] <Yurume> and replace match s with match *s
[11:47:34] <Yurume> since T can be anything, having `Line{to: to}` for example will cause the ownership of `to` move into the function, which is impossible since `draw` is defined as `&self`.
[11:48:07] *** Joins: Cevn (sameer@moz-F316C21E.hr.hr.cox.net)
[11:48:10] <Yurume> you don't want to destroy `self` anyway (you will want to call `draw` many times), so you need to take references to them.
[11:48:19] *** Quits: rca (rcatolino@moz-BC04AA53.adsl.proxad.net) (Ping timeout)
[11:49:00] *** Quits: gotts (gotts@583D7927.9799C9E7.3F2079FA.IP) (Quit: Lingo - http://www.lingoirc.com)
[11:49:10] *** Joins: gotts (gotts@583D7927.9799C9E7.3F2079FA.IP)
[11:49:28] <Yurume> rusti: struct a { x:int, y:int } match a{x:1,b:2} { a{ref x,ref y} => *x+*y }
[11:49:29] -rusti- <anon>:10:47: 10:48 error: structure `main::a` has no field named `b`
[11:49:29] -rusti- <anon>:10         struct a { x:int, y:int } match a{x:1,b:2} { a{ref x,ref y} => *x+*y }
[11:49:30] -rusti-                                                         ^
[11:49:30] -rusti- error: aborting due to previous error
[11:49:30] -rusti- application terminated with error code 101
[11:49:36] <Yurume> rusti: struct a { x:int, y:int } match a{x:1,y:2} { a{ref x,ref y} => *x+*y }
[11:49:38] -rusti- 3
[11:49:55] <Yurume> arturo: yeah, you can also use `Line{ref to}` as a shorthand of `Line{to: ref to}` etc.
[11:50:06] *** Quits: Cevn (sameer@moz-F316C21E.hr.hr.cox.net) (Ping timeout)
[11:50:47] <arturo> oh great, didn't knew ref was a thing :) and that syntax is much nicer, thanks!  is ref documented somewhere?
[11:51:26] <Yurume> arturo: http://static.rust-lang.org/doc/master/tutorial.html#references
[11:51:42] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Client exited)
[11:51:56] <arturo> thanks!
[11:52:02] *** Quits: rntz (rntz@moz-E7065CE4.cmdnnj.fios.verizon.net) (Ping timeout)
[11:52:06] *** Quits: Heather (Heather@19663F6.F53BAACC.9C17E900.IP) (Quit: Leaving.)
[11:53:07] <Yurume> arturo: mind that the tutorial itself is somewhat outdated. I don't think the linked section has been outdated though.
[11:53:15] *** Joins: jvrmaia (jvrmaia@488448C0.A3C460C4.EBCD9D32.IP)
[11:53:29] <Yurume> (for example, @ is now being gone in favor of library-provided pointers)
[11:54:13] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[11:54:32] *** Joins: a_m0d (a_m0d@moz-2F294D00.acanac.net)
[11:55:54] <arturo> yep, i've noticed that, btw, what would be the equivalent to @mut now? Gc<Cell<T>> or Rc<Cell<T>> right? are there plans to have something that encapsulates those in one object? doing p.borrow().borrow_mut().get() is not nice :)
[11:56:09] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[11:56:19] *** Joins: rntz (rntz@moz-E7065CE4.cmdnnj.fios.verizon.net)
[11:57:34] <dbaupp> arturo: it will probably become p.borrow_mut() with overloadable dereference
[11:57:47] <dbaupp> (the .borrow() and .get() will be implicit)
[11:57:59] <arturo> great
[11:58:48] <dbaupp> but, yeah, Rc<Cell<T>> and Rc<RefCell<T>> are the replacements
[11:58:59] <dbaupp> (or the Gc equivalents, but Gc<> isn't completely implemented)
[12:00:15] <shadower> dbaupp: what's the difference between Cell and RefCell? The former always copies while the latter deals references?
[12:00:21] *** Quits: moostik (Icedove@moz-9CCE699F.w81-249.abo.wanadoo.fr) (Ping timeout)
[12:00:37] *** Quits: jensnock_ (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[12:02:06] <dbaupp> shadower: Cell doesn't allow taking references to the interior, just memcpy's in and out, yeah.
[12:02:55] <shadower> right, thanks
[12:05:48] *** Quits: lpy (lpy@798FF4A9.F4539CBC.E99F7FDB.IP) (Ping timeout)
[12:06:44] *** Quits: io2 (io2@moz-7C3DDBE8.home.otenet.gr) (Ping timeout)
[12:08:34] *** Joins: rca (rcatolino@moz-BC04AA53.adsl.proxad.net)
[12:08:56] *** Joins: lpy (lpy@798FF4A9.F4539CBC.E99F7FDB.IP)
[12:09:32] *** Joins: jadbaires (jadrian@moz-4DFB4CBE.dsl.telepac.pt)
[12:10:05] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Client exited)
[12:10:08] *** Joins: jdm (jdm@5D5A6787.1B2BE23A.74119F78.IP)
[12:10:08] *** ChanServ sets mode: +o jdm
[12:10:20] <jadbaires> I'm being unable to compile rust (from github)
[12:10:25] <jadbaires> https://gist.github.com/jorgeadriano/8822389
[12:10:38] <jadbaires> is this a known issue, or an issue with my system?
[12:11:00] <jadbaires> it did work when I first pulled it around the time 0.9 was released 
[12:11:55] *** Quits: kvanb (kvanb@moz-3AC18234.lnse3.lon.bigpond.net.au) (Ping timeout)
[12:12:19] <Yurume> jadbaires: try `make llvm-clean`, perhaps? Rust's fork of LLVM has been updated since 0.9, I think.
[12:13:10] *** Joins: kvanb (kvanb@moz-499D8E3.vwl9.win.bigpond.net.au)
[12:13:23] *** Quits: jadbaires (jadrian@moz-4DFB4CBE.dsl.telepac.pt) (Connection reset by peer)
[12:13:29] *** Joins: jadbaires (jadrian@moz-4DFB4CBE.dsl.telepac.pt)
[12:13:48] *** Quits: jadbaires (jadrian@moz-4DFB4CBE.dsl.telepac.pt) (Quit: Konversation terminated!)
[12:14:12] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[12:15:21] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[12:15:53] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[12:16:02] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[12:20:05] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[12:21:09] *** Joins: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP)
[12:21:52] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[12:22:53] *** Quits: lpy (lpy@798FF4A9.F4539CBC.E99F7FDB.IP) (Ping timeout)
[12:24:06] *** Quits: alonlevy_ (alon@7C9768E5.8CFF09BA.8F895A6D.IP) (Ping timeout)
[12:26:23] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[12:27:12] *** Joins: lpy (lpy@65BED62B.2153E224.E99F7FDB.IP)
[12:31:29] *** Joins: zggh_ (zggh@moz-C34BE8E5.hsd1.ca.comcast.net)
[12:32:20] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[12:32:35] *** Quits: a_m0d (a_m0d@moz-2F294D00.acanac.net) (Quit: Leaving.)
[12:33:21] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[12:33:45] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[12:34:51] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[12:35:12] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[12:35:59] *** Joins: a_m0d (a_m0d@moz-2F294D00.acanac.net)
[12:36:42] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[12:38:33] *** Joins: Earnestly (earnest@811A97A3.CF19AA69.5411983D.IP)
[12:39:08] *** Quits: a_m0d (a_m0d@moz-2F294D00.acanac.net) (Quit: Leaving.)
[12:39:21] *** Joins: jadbaires (jadrian@moz-4DFB4CBE.dsl.telepac.pt)
[12:39:37] *** Joins: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net)
[12:39:42] <jadbaires> Yurume: sorry got disconnected
[12:40:23] <jadbaires> Yurume: make: *** No rule to make target `llvm-clean'.  Stop.
[12:40:47] <jadbaires> Yurume: I tried a 'make clean'... and that worked, maybe it's enough... will see
[12:41:06] <jadbaires> Yurume: actually even make clean:   make: *** No rule to make target `clean9'.  Stop.
[12:42:00] <doener> jadbaires: the build system got a overhaul some time ago, maybe you need to re-run configure
[12:42:10] <jadbaires> doener: I did...
[12:42:29] <jadbaires> doener: I did a git pull, configure, make
[12:43:47] <jadbaires> I can clone the repository again I guess
[12:44:17] <doener> no need to. "git reset --hard && git clean -xdf" should get you back into a pristine state
[12:44:39] <jadbaires> doener: thanks!
[12:45:18] *** Quits: m_kato (m_kato@moz-C286AD9A.bitcat.net) (Quit: Leaving...)
[12:47:15] *** Joins: a_m0d (a_m0d@moz-2F294D00.acanac.net)
[12:48:17] *** Quits: a_m0d (a_m0d@moz-2F294D00.acanac.net) (Quit: Leaving.)
[12:49:38] *** Quits: KindOne (KindOne@D47B39A8.A8EAE74D.34F73994.IP) (Ping timeout)
[12:51:51] *** Joins: vertexclique (vertexcliq@69CFE6CE.16F818C8.6894ADF4.IP)
[12:52:01] *** Joins: io2 (io2@moz-7C3DDBE8.home.otenet.gr)
[12:54:02] *** Joins: KindOne (KindOne@moz-CAC01E3C.dynamic.ip.windstream.net)
[12:59:06] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[13:00:59] *** Quits: zggh_ (zggh@moz-C34BE8E5.hsd1.ca.comcast.net) (Quit: Leaving)
[13:04:36] *** Quits: jadbaires (jadrian@moz-4DFB4CBE.dsl.telepac.pt) (Quit: Konversation terminated!)
[13:04:41] *** Joins: jadbaires (jadrian@moz-4DFB4CBE.dsl.telepac.pt)
[13:05:59] *** Quits: lpy (lpy@65BED62B.2153E224.E99F7FDB.IP) (Quit: Leaving...)
[13:07:49] *** Joins: lpy (lpy@65BED62B.2153E224.E99F7FDB.IP)
[13:08:42] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[13:09:58] *** Joins: vmx (vmx@moz-15CB745E.pools.arcor-ip.net)
[13:11:39] <jadbaires> it compiles without errors this time, but I got this warning: 
[13:11:40] <jadbaires> warning: source code was requested to be rendered, but processing `<std macros>` had an error: no such file or directory skipping rendering of source code
[13:11:52] <jadbaires> should I be worried about it, or should it be safe to make install?
[13:12:02] *** Joins: dpanth3r (dinofelis@228444B8.6B06001A.BB6F225C.IP)
[13:12:25] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[13:14:30] <Zr40> that sounds like it's about generating a documentation page with embedded source code
[13:16:11] *** pmoore is now known as pmoore|away
[13:17:34] *** Quits: lpy (lpy@65BED62B.2153E224.E99F7FDB.IP) (Ping timeout)
[13:18:01] <jadbaires> Zr40: I see
[13:18:04] <jadbaires> should be ok then
[13:18:43] *** Quits: vgeddes (vincent.ge@moz-D8D4FE4D.dsl.mweb.co.za) (Ping timeout)
[13:18:43] *** Quits: gotts (gotts@583D7927.9799C9E7.3F2079FA.IP) (Ping timeout)
[13:18:48] *** Joins: lpy (lpy@65BED62B.2153E224.E99F7FDB.IP)
[13:21:29] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[13:24:34] *** Joins: jakerr (jakerr@moz-1095CD08.kanagawa.ocn.ne.jp)
[13:24:41] *** Joins: lpy_ (lpy@FA66696A.6C1907BC.E99F7FDB.IP)
[13:24:56] *** Quits: lpy (lpy@65BED62B.2153E224.E99F7FDB.IP) (Ping timeout)
[13:25:17] *** lpy_ is now known as lpy
[13:26:26] *** Joins: Rui (rui@A1A18738.6ABE6CAA.4F142960.IP)
[13:29:18] *** pmoore|away is now known as pmoore
[13:29:32] *** Quits: jadbaires (jadrian@moz-4DFB4CBE.dsl.telepac.pt) (Quit: Konversation terminated!)
[13:29:39] *** Joins: jadbaires (jadrian@moz-4DFB4CBE.dsl.telepac.pt)
[13:33:42] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[13:33:55] *** Joins: FreeFull (freefull@moz-1883929A.as13285.net)
[13:35:26] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[13:39:38] *** Quits: jadbaires (jadrian@moz-4DFB4CBE.dsl.telepac.pt) (Quit: Konversation terminated!)
[13:39:45] *** Joins: jadbaires (jadrian@moz-4DFB4CBE.dsl.telepac.pt)
[13:43:48] *** Quits: trobertson (quassel@moz-A4AC319.sd.sd.cox.net) (Ping timeout)
[13:43:57] *** Joins: trobertson (quassel@moz-A4AC319.sd.sd.cox.net)
[13:46:47] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[13:47:07] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[13:47:26] *** Quits: Rui (rui@A1A18738.6ABE6CAA.4F142960.IP) (Quit: )
[13:47:54] *** Joins: alex-abreu (alex@C08D9303.9289A342.80AB4F0.IP)
[13:48:22] *** Joins: hein (hein@moz-82B560AA.wlan.hu-berlin.de)
[13:49:44] *** Quits: jadbaires (jadrian@moz-4DFB4CBE.dsl.telepac.pt) (Quit: Konversation terminated!)
[13:49:50] *** Joins: jadbaires (jadrian@moz-4DFB4CBE.dsl.telepac.pt)
[13:51:12] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[13:52:16] *** Quits: mojoB (mojoB@moz-A4312114.static.exetel.com.au) (Ping timeout)
[13:52:20] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[13:53:29] *** Quits: jakerr (jakerr@moz-1095CD08.kanagawa.ocn.ne.jp) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:55:46] *** Joins: uther (Mibbit@DEB81ABF.EE007C9D.583B5072.IP)
[13:56:00] *** Parts: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) ()
[13:56:26] *** Quits: marianoguerra (marianogue@moz-7E7AC3E.dip0.t-ipconnect.de) (Quit: leaving)
[13:57:09] *** Joins: bakkdoor (bakkdoor@moz-6689E403.dip.osnanet.de)
[13:58:22] *** Joins: mojoB (mojoB@moz-A4312114.static.exetel.com.au)
[13:59:48] *** Joins: gimpf (gimpf@moz-8EE4C1B0.adsl.highway.telekom.at)
[13:59:57] *** Quits: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP) (Ping timeout)
[14:03:03] *** Quits: uther (Mibbit@DEB81ABF.EE007C9D.583B5072.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:03:37] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[14:04:51] *** Joins: dschatzberg (dschatzber@moz-9384E83C.bu.edu)
[14:05:13] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[14:08:05] *** Joins: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP)
[14:10:58] *** Quits: jadbaires (jadrian@moz-4DFB4CBE.dsl.telepac.pt) (Quit: Konversation terminated!)
[14:11:04] *** Joins: jadbaires (jadrian@E113B91B.55BF5227.6119BA41.IP)
[14:15:56] *** jorendorff_away is now known as jorendorff
[14:17:26] *** Joins: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP)
[14:18:51] *** Joins: erickt (Adium@991D7890.9C346C7F.FAA4474F.IP)
[14:19:56] *** Joins: marianoguerra (marianogue@moz-7E7AC3E.dip0.t-ipconnect.de)
[14:20:30] *** Quits: igork (igork@moz-18540A65.broadband.corbina.ru) (Quit: Leaving)
[14:20:59] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[14:21:12] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[14:21:56] *** Quits: jvrmaia (jvrmaia@488448C0.A3C460C4.EBCD9D32.IP) (Client exited)
[14:22:17] *** Joins: jvrmaia (jvrmaia@488448C0.A3C460C4.EBCD9D32.IP)
[14:22:43] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[14:22:53] *** Quits: jdm (jdm@5D5A6787.1B2BE23A.74119F78.IP) (Quit: Lost terminal)
[14:24:01] *** Quits: jvrmaia (jvrmaia@488448C0.A3C460C4.EBCD9D32.IP) (Ping timeout)
[14:27:44] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[14:33:54] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[14:34:03] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[14:35:49] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[14:36:50] *** Quits: eevee (eevee@moz-8DEBFFC9.lv.lv.cox.net) (Ping timeout)
[14:36:51] *** Joins: eevee (eevee@moz-8DEBFFC9.lv.lv.cox.net)
[14:37:33] <hein> what was the equivalent of templates, what was the equivalent of virtual functions of C++ in Rust?
[14:40:03] *** Joins: nszceta (hax@moz-E458A7C0.pharm.pitt.edu)
[14:40:38] <FreeFull> Depending on what you want, generics, traits or macros might do what you want with regards to templates
[14:41:01] <FreeFull> Not sure if rust has something equivalent to virtual functions
[14:41:55] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[14:42:53] *** Joins: canhtak (canhtak@moz-8A625E1D.wl.t.ulaval.ca)
[14:43:47] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[14:44:45] <dschatzberg> traits can be implemented to give dynamic dispatch which is equivalent to the use of virtual functions in c++
[14:44:55] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[14:45:24] <FreeFull> There you go
[14:46:21] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[14:46:34] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[14:47:38] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[14:47:43] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[14:48:16] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[14:51:16] *** jorendorff is now known as jorendorff_away
[14:52:20] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[14:52:23] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[14:54:37] *** Joins: darnuria (darnuria@moz-AB6EB255.ip-91-121-133.eu)
[15:01:42] *** Quits: bakkdoor (bakkdoor@moz-6689E403.dip.osnanet.de) (Quit: Leaving...)
[15:02:13] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[15:04:32] *** Quits: canhtak (canhtak@moz-8A625E1D.wl.t.ulaval.ca) (Quit: canhtak)
[15:08:03] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[15:10:40] *** Quits: vogon (sid6004@moz-31ABA2C0.irccloud.com) (Quit: )
[15:11:52] *** Joins: diverse (diverse@moz-ED94B8D.oc.oc.cox.net)
[15:12:33] *** Joins: andrew-__ (andrew-d_w@4CCE6E0C.339B431B.1E537B93.IP)
[15:12:42] *** Joins: adu (ajr@moz-314C125F.washdc.fios.verizon.net)
[15:13:14] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[15:13:26] *** Joins: hansjorg (hansjorg@moz-41C5CE61.redpill-linpro.com)
[15:13:32] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[15:13:54] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[15:14:09] <nszceta> Is it worth learning Rust or C++ first
[15:14:09] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[15:14:32] <nszceta> having good experience in Java
[15:14:37] <nszceta> Your thoughts?
[15:15:36] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[15:16:06] <jensnockert> Rust is easier to learn, but it is less useful than C++ right now.
[15:16:18] <jensnockert> Rust is also a lot cooler.
[15:17:06] *** Quits: adu (ajr@moz-314C125F.washdc.fios.verizon.net) (Quit: adu)
[15:17:25] <nszceta> I'm sold
[15:17:38] <diverse> learn Rust because you want to learn it
[15:18:03] <nszceta> I see it as the eventual unmanaged C++ replacement
[15:18:15] <nszceta> i.e. new development will begin in Rust rather than C++ in the future
[15:18:18] <nszceta> or so it seems
[15:18:28] <nszceta> sort of like how nobody cares about PHP, but it's just _there_
[15:18:59] <diverse> possibly, I'm hoping for Rust to become mainstream when it hits 1.0
[15:19:47] <jensnockert> Learning a new programming language is an investment, you get better at all the languages you know when you learn a new one.
[15:20:20] *** Quits: Munchor (munchor@moz-8CFC84AD.yourvserver.net) (Ping timeout)
[15:21:03] <diverse> Yeah, and have fun learning it :)
[15:21:19] <nszceta> Makes sense. Right now my next goal is to tackle Erlang
[15:21:22] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[15:21:26] <nszceta> and Rust shortly thereafter
[15:22:50] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[15:23:03] *** Joins: sellout (Adium@600AEF4A.F4CAF5DC.C5F4E277.IP)
[15:25:24] <doomlord_> some people keep telling me rust will never be used because the world has all the software it needs in c++
[15:25:25] *** Joins: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com)
[15:25:37] <doomlord_> (i hope they're wrong since that would be rather depressing, no new software..)
[15:25:43] *** Joins: jvrmaia (jvrmaia@488448C0.A3C460C4.EBCD9D32.IP)
[15:25:50] <nszceta> they said the same about COBOL
[15:25:57] <doomlord_> my interest in rust comes in part from how awkward C++ makes interoperability between libraries
[15:26:39] <nszceta> they said the same about how nobody needs more than 640 kB RAM
[15:26:47] <diverse> doomlord_: their shitting themselves. Functional programming is becoming more popular these days and when people start seeing a FP systems language, they would want to switch to that to combat the today's challenges, like with concurrency, which C++ sucks at.
[15:26:55] <diverse> *they're
[15:27:01] <doomlord_> well Rust isn't functional programming, its multi-paradigm;
[15:27:12] <doomlord_> and yes - concurrency needs more safety, C++ sucks for that
[15:27:20] <diverse> doomlord_: when they see the FP part of it
[15:27:25] <doomlord_> rust's safety would be a step forward
[15:27:30] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[15:27:40] *** Quits: andrew-__ (andrew-d_w@4CCE6E0C.339B431B.1E537B93.IP) (Input/output error)
[15:29:49] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[15:33:15] *** Joins: itdaniher (it@moz-7FAAAB8D.bstnma.fios.verizon.net)
[15:33:20] *** Joins: trinary (Adium@moz-D78CD0D5.hsd1.co.comcast.net)
[15:33:21] *** jorendorff_away is now known as jorendorff
[15:34:25] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[15:34:49] *** Quits: erickt (Adium@991D7890.9C346C7F.FAA4474F.IP) (Quit: Leaving.)
[15:34:55] *** Quits: Ferreus (ferreus@moz-35317A3A.dip0.t-ipconnect.de) (Ping timeout)
[15:34:55] *** Joins: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com)
[15:35:11] <FreeFull> Rust has a kind of safety that I haven't seen anywhere else before
[15:35:23] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[15:35:42] <FreeFull> It's not 1000% safe dependent typing though, and probably shouldn't be
[15:36:08] *** Quits: trobertson (quassel@moz-A4AC319.sd.sd.cox.net) (Ping timeout)
[15:36:08] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[15:36:24] *** Quits: alex-abreu (alex@C08D9303.9289A342.80AB4F0.IP) (Quit: Leaving)
[15:36:24] <hein> how can I have & pointers in a struct?
[15:36:27] *** Joins: alex-abreu (alex@C08D9303.9289A342.80AB4F0.IP)
[15:36:33] <eddyb> more safety than C++, less than Haskell, nicer to work in than both :P
[15:36:42] <hein> it tells me I have to specify a lifetime, but I can't manage to do so
[15:36:47] <eddyb> hein: struct Foo<'a> {field: &'a Bar}
[15:36:58] *** Joins: trobertson (quassel@moz-A4AC319.sd.sd.cox.net)
[15:37:21] <diverse> FreeFull: at least it's safety by default, but if you need to live dangeriously, Rust won't stop you. ;P
[15:37:37] <hein> thanks, how can I handle that kind of lifetime in practice?
[15:37:44] <hein> that is, when using the struct?
[15:38:09] <eddyb> hein: you can omit it wherever you can omit the lifetime of a borrowed pointer
[15:38:10] <pzol> Did you guys see http://julialang.org ?? optional typing... which is kind of cute, they boast C-like performance, too
[15:38:35] <pzol> (yeah I know benchmarks...)
[15:38:37] <hein> everyone says c-like performance
[15:38:43] <hein> even javascript :)
[15:38:45] <eddyb> but C sucks
[15:38:50] <hein> but C is fast!
[15:39:26] <Tari> C is great, if you're careful
[15:39:28] <eddyb> shame LLVM can't optimize based on all of Rust's invariants
[15:39:41] <FreeFull> diverse: I mean, you can't have for example a vector type that includes the size of the vector
[15:39:56] <eddyb> hein: so you can have &Foo as the type of a function argument, but impls need a full type: impl<'a> Trait for Foo<'a>
[15:39:56] <arrdem> eddyb: that's what custom opt passes are for :D
[15:40:02] <FreeFull> And then have code whose type specifies that the vector it gets called in needs to be at least 3 big
[15:40:10] <FreeFull> And have it all be checked at compile time
[15:40:16] <eddyb> arrdem: this is not about specific optimizations
[15:40:27] <eddyb> arrdem: but general optimizations, with more information, like restrict in C
[15:40:45] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[15:40:46] <eddyb> though LLVM has TBAA which we don't output (yet)
[15:40:48] <pzol> What's also kinda cool in Julia is that it is homoiconic - the part I like about that is that +(1, 2, 3) is made with syntax sugar usable as 1 + 2 + 3
[15:40:59] *** Joins: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP)
[15:41:26] <hein> eddyb: any reason why Struct<'a, T> is allowed but Struct<T, 'a> is not?
[15:42:16] <eddyb> hein: lifetime params just come first, I guess
[15:42:40] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[15:43:07] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[15:43:30] <hein> ok
[15:44:03] *** kimundi is now known as zz_kimundi
[15:44:29] <Tobba> that magic when shits crashing, step through what should be about 50 instructions and that becomes like 200
[15:44:56] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[15:46:30] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[15:47:53] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[15:47:56] <Tobba> actually, thats just some shit design on my part
[15:48:02] <Tobba> still gotta fix the magic crashing though
[15:48:18] *** Quits: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[15:48:26] *** Joins: adu (ajr@moz-314C125F.washdc.fios.verizon.net)
[15:48:38] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: Leaving)
[15:48:41] *** Joins: alonlevy (alon@3B346CDE.983A9300.A99782C1.IP)
[15:49:33] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Client exited)
[15:49:54] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[15:50:32] *** Joins: jdm (jdm@5D5A6787.1B2BE23A.74119F78.IP)
[15:50:32] *** ChanServ sets mode: +o jdm
[15:52:11] *** Joins: Ms2ger (Ms2ger@moz-884DE569.adsl-dyn.isp.belgacom.be)
[15:52:58] *** Quits: jdm (jdm@5D5A6787.1B2BE23A.74119F78.IP) (Ping timeout)
[15:53:16] *** Joins: jdm (jdm@CE271E82.3EB7C725.74119F78.IP)
[15:53:16] *** ChanServ sets mode: +o jdm
[15:55:44] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[15:56:05] *** Joins: mib_9qihqn (Mibbit@moz-E89ECB44.central.biz.rr.com)
[15:56:18] *** Joins: sokomo (sokomo@8293D4FC.93FF164A.408809BB.IP)
[15:56:48] *** Quits: noam_ (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[15:56:59] *** Joins: victorporof (victorporo@1D31C55D.C75CDC83.4A6B528C.IP)
[15:58:02] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[15:58:34] *** Quits: victorporof (victorporo@1D31C55D.C75CDC83.4A6B528C.IP) (Client exited)
[16:03:55] *** Quits: mib_9qihqn (Mibbit@moz-E89ECB44.central.biz.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[16:03:55] <wycats> dbaupp: the talk seemed to go pretty well :)
[16:04:09] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[16:04:42] *** Joins: gwty (gwtypc@68B91BE0.D5EA08E0.CF29F6CE.IP)
[16:05:07] *** Quits: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP) (Quit: leaving)
[16:06:35] <acrichto> dbaupp: pong
[16:06:38] *** Joins: Cevn (sameer@moz-CAED566.v4.wm.edu)
[16:06:48] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[16:06:51] *** Joins: victorporof (victorporo@A25D388F.40CECF1B.35C8D440.IP)
[16:06:59] <itdaniher> anyone seen Luqman?
[16:06:59] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[16:07:02] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[16:07:03] <wycats> dbaupp: 
[16:07:04] <wycats> https://twitter.com/jamonholmgren/status/430961282938720257
[16:07:09] *** Joins: jesse99 (jesse99@moz-D8DE13A5.hsd1.wa.comcast.net)
[16:07:26] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[16:07:36] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[16:08:28] *** Joins: victorporof_ (victorporo@A25D388F.40CECF1B.35C8D440.IP)
[16:09:52] *** Quits: victorporof (victorporo@A25D388F.40CECF1B.35C8D440.IP) (Ping timeout)
[16:10:00] <sw17ch> is rust master broken right now?
[16:10:02] <sw17ch> i'm unable to build
[16:11:12] <Tari> I built it successfull an hour or so ago
[16:11:22] <Tari> successfully
[16:14:22] <sw17ch> mind sharing the commit hash you built against?
[16:14:29] *** Quits: adu (ajr@moz-314C125F.washdc.fios.verizon.net) (Quit: adu)
[16:16:08] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[16:19:15] <hein> how can I write something like sizeof(SomeType) from C/C++ in Rust?
[16:19:31] <Tari> sw17ch: ed885e3..
[16:19:36] <Tari> looks like current HEAD
[16:20:15] <sw17ch> huh. i'm failing due to missing files and directories. i wonder what pollution i have.
[16:20:22] <sw17ch> clean master
[16:20:44] *** Quits: alonlevy (alon@3B346CDE.983A9300.A99782C1.IP) (Ping timeout)
[16:20:50] <sw17ch> bare ./configure (except for a non-standard prefix)
[16:21:27] <sw17ch> once it failed linking due to a missing .rust directory
[16:21:34] <sw17ch> then it failed due to missing LLVM symbols
[16:21:41] <sw17ch> then it failed due to something with macros
[16:21:50] *** Quits: lpy (lpy@FA66696A.6C1907BC.E99F7FDB.IP) (Client exited)
[16:21:52] <sw17ch> i've not been diligent about collecting the failures more accurately :(
[16:22:30] *** Joins: alonlevy (alon@3B346CDE.983A9300.A99782C1.IP)
[16:22:31] *** Joins: moostik (Icedove@moz-9CCE699F.w81-249.abo.wanadoo.fr)
[16:23:01] <Ms2ger> hein, something something size_of::<T>()
[16:24:23] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[16:24:33] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[16:26:07] *** Quits: an0nymous (an0nymous@moz-F04BA440.tx.res.rr.com) (Ping timeout)
[16:26:33] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[16:26:33] *** Joins: reima (Instantbir@moz-F6735502.informatik.tu-muenchen.de)
[16:27:52] *** Quits: fyolnish (fyolnish@moz-88C20F85.uqwimax.jp) (Client exited)
[16:28:01] *** Joins: fyolnish (fyolnish@moz-88C20F85.uqwimax.jp)
[16:28:03] *** Joins: gwty_ (gwtypc@68B91BE0.D5EA08E0.CF29F6CE.IP)
[16:28:35] *** Quits: gwty_ (gwtypc@68B91BE0.D5EA08E0.CF29F6CE.IP) (Connection reset by peer)
[16:28:43] *** Quits: fyolnish (fyolnish@moz-88C20F85.uqwimax.jp) (Client exited)
[16:28:53] *** Joins: Ferreus (ferreus@moz-B0B6DDB2.pools.arcor-ip.net)
[16:29:09] *** Joins: an0nymous (an0nymous@moz-F04BA440.tx.res.rr.com)
[16:30:43] *** zz_kimundi is now known as kimundi
[16:32:52] *** Quits: an0nymous (an0nymous@moz-F04BA440.tx.res.rr.com) (Ping timeout)
[16:33:12] *** Joins: an0nymous (an0nymous@moz-F04BA440.tx.res.rr.com)
[16:33:16] *** Quits: heftig (heftig@moz-D746319F.unitymedia.biz) (Quit: Quitting)
[16:33:19] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[16:33:24] <o11c> sw17ch: maybe you need to git clean ?
[16:33:32] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Client exited)
[16:34:02] <sw17ch> o11c: i cleaned and configured a few times and now it appears to be working
[16:34:13] *** Quits: alexherbo2 (alexherbo2@moz-33868228.w90-35.abo.wanadoo.fr) (Quit: WeeChat 0.4.3-dev)
[16:34:21] <sw17ch> hasn't finished yet though, but is well into the linking phase which is a lot farther than it got before
[16:34:48] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[16:35:23] *** Quits: an0nymous (an0nymous@moz-F04BA440.tx.res.rr.com) (Ping timeout)
[16:35:35] <sw17ch> ah, i was reading a warning as an error:
[16:35:42] <sw17ch> warning: source code was requested to be rendered, but processing `<std macros>` had an error: no such file or directory
[16:35:43] <sw17ch>          skipping rendering of source code
[16:36:29] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[16:36:33] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[16:36:34] *** Quits: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP) (Quit: brendan)
[16:37:01] *** Joins: till (till@moz-E0853D96.superkabel.de)
[16:37:27] *** Joins: an0nymous (an0nymous@moz-F04BA440.tx.res.rr.com)
[16:37:53] <hein> is there a function that takes [u8, ..4] and returns a i32 that was stored little/big-endian in the vector?
[16:38:14] *** Joins: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP)
[16:38:39] <till> Hi all, would anyone mind to explain why the rustc executable is so much smaller than self compiled code? Is it because of dynamic linking? Is the process described anywhere?
[16:39:15] <Tari> hein: you could probably stuff it into a MemReader and read_*e_u32
[16:39:23] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Ping timeout)
[16:39:35] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[16:39:39] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[16:40:02] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[16:40:13] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[16:40:34] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Ping timeout)
[16:42:54] <hein> Tari: that would be soo slow compared to just some shifts
[16:43:04] *** Joins: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP)
[16:43:05] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[16:43:57] <Tari> sure, but if you don't want to do some shifts..
[16:44:19] <jasom> https://gist.github.com/jasom/8827808 <-- prototype of improved trie implementation.  Any thoughts?  Biggest downside is that without fixed-size keys, the iterator is going to have to be more expensive.  Right now it's biased to take all the extra costs at iterator creation time.
[16:44:31] *** Quits: victorporof_ (victorporo@A25D388F.40CECF1B.35C8D440.IP) (Quit: victorporof_)
[16:45:08] *** Quits: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP) (Quit: brendan)
[16:45:34] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[16:45:49] *** Joins: Jemaclus (jemaclus@A084B2A7.5843BA5A.D4E4C7A5.IP)
[16:46:55] <jensnockert> hein: I think you can cast it to a i32, and call the byteswap methods.
[16:47:03] <Tobba> eddyb: any idea about the x86 ABI for function calls?
[16:47:12] <Tobba> as in how the args are on the stack
[16:47:35] <eddyb> depends on the calling convention
[16:47:43] *** Quits: Kxepal (Miranda@moz-6CFAB9DE.pppoe.mtu-net.ru) (Ping timeout)
[16:47:45] <Tobba> rust is cdecl right
[16:47:46] <eddyb> they are usually pushed right-to-left
[16:47:53] <Tobba> yeah its not that
[16:47:58] <Tobba> for me they're getting read at really weird offsets
[16:48:08] <jasom> I just remember that in the 80s pascal and C did it differently
[16:48:47] <Tobba> ah shit I'm an idiot
[16:48:53] <Tobba> I forgot it expects a return address to be there
[16:48:54] <Tobba> welp
[16:49:42] <jasom> curse the x86 lack of a link register
[16:49:45] *** Quits: alonlevy (alon@3B346CDE.983A9300.A99782C1.IP) (Ping timeout)
[16:50:21] <Tobba> when my stuff arrives I'm gonna do an ARM port for the RPi
[16:50:26] <Tobba> basicaly, this is going to suck
[16:50:56] *** Joins: Kxepal (Miranda@moz-C2AD231E.pppoe.mtu-net.ru)
[16:51:46] <jasom> Power has too many GPRs and ARM has not enough
[16:51:55] <Tobba> never enough GPRs
[16:52:11] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[16:52:15] <Tobba> it only has 32 of them?
[16:52:29] <Tobba> itanic is telling you to get on its level
[16:52:32] <jasom> Tobba: I did some experiments with real-world code on a compiler that could reserve GPRs for globals; no measurable performance difference until about 4 global GPRs
[16:52:38] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[16:52:52] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[16:53:08] <Tobba> lots of GPRs rock
[16:53:10] <jasom> but I guess you're never going to have an ISA with 28 GPRs, so...
[16:53:10] <Tobba> really
[16:53:20] *** Quits: Cevn (sameer@moz-CAED566.v4.wm.edu) (Ping timeout)
[16:53:32] <Tobba> it just means that an optimizing compiler can make the program not waste as much time pushing data around
[16:53:46] <dschatzberg> powerpc has 32 gprs
[16:53:46] <jasom> Tobba: not if you could have used those transistors to improve performance in some other more meaningful way
[16:53:54] *** Joins: darthdeu (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP)
[16:53:54] *** Quits: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP) (Connection reset by peer)
[16:54:25] <Tobba> itanium had no more registers than an x86 processor
[16:54:29] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[16:54:31] <Tobba> and that fucker has 128 GPRs
[16:54:53] <Tobba> (a modern x86 processor)
[16:55:11] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[16:55:14] *** Joins: canhtak (canhtak@moz-8A625E1D.wl.t.ulaval.ca)
[16:55:36] <arrdem> only 128 physical registers for renaming? TIL...
[16:55:44] <Tobba> I said no more
[16:55:48] *** jorendorff is now known as jorendorff_away
[16:55:50] <Tobba> latest i7's probably have a LOT more
[16:56:45] *** Quits: vertexclique (vertexcliq@69CFE6CE.16F818C8.6894ADF4.IP) (Client exited)
[16:57:25] <Tobba> apparently,, sandy bridges have 144 FP regs, 160 physical regs
[16:57:27] *** Joins: vertexclique (vertexcliq@69CFE6CE.16F818C8.6894ADF4.IP)
[16:57:36] <Tobba> but some of those have to hold some internal state too
[16:58:03] <arrdem> where are you seeing this? I'm not finding good public docs :
[16:58:05] <arrdem> :|
[16:58:08] <jasom> Fewer GPRs mean that future CPUs can make tradeoffs for future implementations; you can't really implement an architecture with fewer physical registers than the ISA demands, but you can always do more
[16:58:13] <Tobba> yeah me neither, so take that with a grain of salt
[16:58:46] <Tobba> jasom: yes, at the cost of using lots of silicon to implement renaming
[16:59:06] <arrdem> Tobba: there are much more expensive structures than the renaming table...
[16:59:08] *** Joins: fyolnish (fyolnish@moz-FEEB97DE.uqwimax.jp)
[16:59:10] *** Quits: gwty (gwtypc@68B91BE0.D5EA08E0.CF29F6CE.IP) (Client exited)
[16:59:12] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[16:59:25] <Tobba> itanium skips that, branch prediction, had no out of order execution, was superscalar as hell and overpowered x86 at everything remotely parallelized
[16:59:35] <jasom> Anyway I think the sweet spot for modern optimizing compilers is between 16 and 32 GPRs.  But that's just like, my opinion, man.
[16:59:46] *** jorendorff_away is now known as jorendorff
[17:00:17] <jasom> I still think VLIW as the main execution paradigm is an evolutionary dead-end, but I'd be willing to be proven wrong.
[17:00:35] <Tobba> apparently, there are some REALLY low power VLIW processors going around
[17:00:35] <arrdem> a buddy of mine at IBM research did a project to examine how many GPRs an agressive compiler could really use and as I recall the most registers which could really be used was 64.
[17:00:49] <jasom> Tobba: yes they are called "DSPs"
[17:00:52] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[17:01:00] <Tobba> uhhhhhhh
[17:01:02] <cmr> till: yes, because of dynamic linking.
[17:01:03] <Tobba> hold on
[17:01:11] <Tobba> I forgot the name of it actually
[17:01:15] <cmr> till: the rustc binary consists of a single call into a dynamic library.
[17:01:23] <Tobba> theres a processor based on an VLIW core that intergrates 256 cores iirc
[17:01:28] <Tobba> and runs at like 5W max
[17:01:42] *** Quits: fyolnish (fyolnish@moz-FEEB97DE.uqwimax.jp) (Ping timeout)
[17:01:55] <jasom> but for general purpose computing there just isn't enough instruction-level parallelization available (barring significant improvements in compiler technology)
[17:02:28] <o11c> more registers just means more registers that need to be saved
[17:02:32] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[17:02:39] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Client exited)
[17:02:43] <Tobba> o11c: with itanium that proved to not really a problem
[17:02:48] <Tobba> you dont have to save them all anyways
[17:02:57] *** Quits: yuriks (yuriks@541FB14B.E4E1C694.748B6D8D.IP) (Ping timeout)
[17:02:57] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[17:03:01] <jasom> o11c: only modified registers need to be saved, and then only the caller save registers
[17:03:02] <o11c> sometimes I wonder if we wouldn't just be better off doing everything in specially mapped RAM
[17:03:21] <jasom> o11c: like register windows?
[17:03:30] <o11c> jasom: kind of, yeah
[17:03:36] <till> cmr: Okay, that makes sense. Do you know of any methods to shrink the final executable size? 3 MB for HelloWorld seems, well big...
[17:03:37] <o11c> (I am not a hardware expert)
[17:03:55] <o11c> till: rust uses static linking by default because it doesn't have a stable ABI
[17:04:18] <cmr> till: -Z prefer-dynamic
[17:04:59] <cmr> Also -Z lto can shrink the size when statically linking
[17:05:00] *** jorendorff is now known as jorendorff_away
[17:05:01] <jasom> Tobba: context-switch cost is related to number of GPRs though, right?
[17:05:04] <cmr> and don't forget -O
[17:05:07] <SiegeLord> That's no excuse... D uses static linking too, and it doesn't have 3MB Hello world :P
[17:05:21] <Tobba> jasom: yeah, iirc it had some special instructions for that though
[17:05:24] <SiegeLord> And I'm using Tango, so it's not like IO is being optimized away
[17:05:26] *** Quits: barosl (barosl@34F62860.E551553C.7544CABF.IP) (Client exited)
[17:05:33] <Tobba> so it would just get blasted off all at once into some cache
[17:05:37] <SiegeLord> (as it uses RTTI to do formatting)
[17:05:46] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[17:06:21] *** Quits: rca (rcatolino@moz-BC04AA53.adsl.proxad.net) (Ping timeout)
[17:06:27] <jasom> yeah, I saw a threaded register-window design on a simulator where the OS could allocate windows to threads for reduced context-switch times
[17:06:35] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:07:32] <jasom> http://dl.acm.org/citation.cfm?id=77259 <-- that's it, I think.
[17:07:35] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[17:07:42] <till> cmr: Great, that prefer-dynamic did the difference... Thanks!
[17:08:07] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[17:08:14] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[17:08:24] <jasom> Though my memory was off; it was for user-space concurrency, not OS multiprocessing
[17:08:26] <till> What disadvantage is there to always using prefer-dynamic?
[17:09:12] <cmr> till: slower, can't upgrade the shared deps anyway.
[17:09:44] <o11c> till: the only advantage to prefer-dynamic will be once you have several applications linking to the same libstd
[17:10:00] *** Joins: onelson (onelson@moz-DD666EC5.laika.com)
[17:10:05] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:10:13] <till> What depencies does Hello World have?
[17:10:46] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[17:11:07] <cmr> libstd, libgreen, librustuv
[17:13:26] <Tobba> why does it rely on librustuv
[17:13:37] <Tobba> also I thought libnative was default now?
[17:13:40] <cmr> no, it isn't
[17:13:51] <cmr> librustuv provides io, libgreen is just a scheduler
[17:14:09] <Tobba> ah right, uv does the console IO too
[17:15:02] *** till is now known as flan3002
[17:15:08] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[17:15:14] *** Quits: sokomo (sokomo@8293D4FC.93FF164A.408809BB.IP) (Quit: Read error: Connection reset by peer)
[17:15:51] *** Joins: mwcampbell (matt@moz-52DF570B.ks.ks.cox.net)
[17:16:37] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[17:18:24] *** Joins: yuriks (yuriks@14F330CC.3D924459.5419EADB.IP)
[17:18:35] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:19:20] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Ping timeout)
[17:20:37] *** Joins: Cevn (sameer@moz-CAED566.v4.wm.edu)
[17:21:04] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[17:21:48] *** Joins: takuin (takuin@moz-21A5F23D.ks.ks.cox.net)
[17:21:51] *** Quits: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com) (Connection reset by peer)
[17:22:31] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[17:22:36] *** Joins: lpy (lpy@FA66696A.6C1907BC.E99F7FDB.IP)
[17:23:03] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[17:23:10] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[17:23:28] *** Joins: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com)
[17:23:32] *** Parts: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com) ()
[17:23:36] *** Quits: Cevn (sameer@moz-CAED566.v4.wm.edu) (Ping timeout)
[17:24:01] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[17:24:22] *** Quits: vertexclique (vertexcliq@69CFE6CE.16F818C8.6894ADF4.IP) (Client exited)
[17:24:23] *** Joins: vertexclique (vertexcliq@69CFE6CE.16F818C8.6894ADF4.IP)
[17:24:34] *** Quits: lpy (lpy@FA66696A.6C1907BC.E99F7FDB.IP) (Ping timeout)
[17:24:55] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[17:25:00] <WebeWizard> Wiiiizzaaaaaaarrrrrd
[17:26:43] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[17:27:26] <Ms2ger> Wut
[17:29:31] <Tari> are macros included in built docs somewhere? I'm looking for the helper macro for unwrapping an IoResult
[17:29:32] *** Joins: kronquii (kronquii@moz-2F636E0B.onid.oregonstate.edu)
[17:30:40] *** Quits: GrecKo (GrecKo@moz-A7AA1BB6.fr) (Client exited)
[17:30:45] *** Joins: rca (rcatolino@moz-BC04AA53.adsl.proxad.net)
[17:31:08] *** Quits: jdm (jdm@CE271E82.3EB7C725.74119F78.IP) (Ping timeout)
[17:31:21] *** Joins: GrecKo (GrecKo@moz-A7AA1BB6.fr)
[17:31:27] <pnkfelix> Tari: are you talking about the if_ok! macro, referenced here https://mail.mozilla.org/pipermail/rust-dev/2014-February/008505.html ?
[17:31:28] *** Joins: jdm (jdm@8E411A9D.6D6FB126.74119F78.IP)
[17:31:28] *** ChanServ sets mode: +o jdm
[17:31:40] <Tari> among others, yeah
[17:32:14] <Tari> just seems like macros should be included in docs, because otherwise you need to know they exist
[17:32:18] <cmr> Tari: no, they aren't.
[17:32:25] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[17:32:26] <cmr> because they don't exist in the AST by the time rustdoc gets it.
[17:32:37] *** Quits: jdm (jdm@8E411A9D.6D6FB126.74119F78.IP) (Input/output error)
[17:32:44] *** Joins: jdm (jdm@8E411A9D.6D6FB126.74119F78.IP)
[17:32:44] *** ChanServ sets mode: +o jdm
[17:33:12] <cmr> there's a simple fix, I just haven't gotten to it.
[17:33:19] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[17:33:19] *** ChanServ sets mode: +ao dherman dherman
[17:33:42] *** Joins: alexherbo2 (alexherbo2@moz-33868228.w90-35.abo.wanadoo.fr)
[17:33:53] *** Quits: jdm (jdm@8E411A9D.6D6FB126.74119F78.IP) (Input/output error)
[17:33:59] *** Joins: jdm (jdm@8E411A9D.6D6FB126.74119F78.IP)
[17:33:59] *** ChanServ sets mode: +o jdm
[17:34:02] <WebeWizard> cmr, slacking, as usual
[17:34:23] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:34:46] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[17:35:04] *** Quits: Jemaclus (jemaclus@A084B2A7.5843BA5A.D4E4C7A5.IP) (Client exited)
[17:35:06] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[17:35:07] *** Quits: jdm (jdm@8E411A9D.6D6FB126.74119F78.IP) (Input/output error)
[17:35:10] *** Joins: jdm (jdm@8E411A9D.6D6FB126.74119F78.IP)
[17:35:11] *** ChanServ sets mode: +o jdm
[17:35:26] *** Quits: jvrmaia (jvrmaia@488448C0.A3C460C4.EBCD9D32.IP) (Quit: Leaving...)
[17:35:33] <Tari> if you wanted to point me at what needs doing, I'd be willing to have a go at it :)
[17:35:40] <cmr> sure
[17:35:58] *** Joins: andrew-d_w (andrew-d_w@moz-E7894907.nat.bb.dnainternet.fi)
[17:36:07] *** Quits: mwcampbell (matt@moz-52DF570B.ks.ks.cox.net) (Quit: ircII EPIC5-1.1.2 -- Are we there yet?)
[17:36:14] <cmr> https://github.com/mozilla/rust/blob/master/src/librustdoc/core.rs#L43
[17:36:17] <cmr> rustdoc uses that to get the ast
[17:36:21] *** Quits: jdm (jdm@8E411A9D.6D6FB126.74119F78.IP) (Input/output error)
[17:36:26] *** Joins: jdm (jdm@8E411A9D.6D6FB126.74119F78.IP)
[17:36:26] *** ChanServ sets mode: +o jdm
[17:36:34] <cmr> After https://github.com/mozilla/rust/blob/master/src/librustdoc/core.rs#L81, macros are no longer available.
[17:36:53] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[17:36:59] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[17:37:13] <sfackler> cmr: exported macros do remain in the AST now
[17:37:15] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[17:37:17] <cmr> sfackler: oh they do?
[17:37:24] <sfackler> yeah, that's how they're serialized
[17:37:27] <cmr> awesome
[17:37:33] <cmr> Tari: so nevermind :)
[17:38:05] <sfackler> cmr: https://github.com/mozilla/rust/blob/master/src/libsyntax/ext/expand.rs#L382
[17:38:07] <cmr> Tari: so ItemMac just needs to be handled in clean.rs
[17:38:23] *** Joins: squiddy (squiddy@moz-3FE92C83.adsl.alicedsl.de)
[17:38:35] <Tari> that sounds even easier; I'll have a look
[17:39:15] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[17:40:42] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[17:41:30] *** Quits: jdm (jdm@8E411A9D.6D6FB126.74119F78.IP) (Ping timeout)
[17:41:33] *** Joins: jdm_ (jdm@889DA807.37C9DD5F.74119F78.IP)
[17:41:37] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[17:42:30] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[17:42:39] <o11c> cmr: just read your blog ... is the forall thing likely to happen? I like it, though I'd prefer the word 'template' ...
[17:42:43] <cmr> o11c: no.
[17:42:48] <o11c> hmph
[17:42:58] <o11c> one of the things I *love* about C++, coming from Java, was that
[17:43:08] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[17:43:37] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[17:44:02] <cmr> o11c: see the thread on the mailing list.
[17:44:35] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[17:44:35] *** ChanServ sets mode: +o tjc
[17:45:11] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[17:45:58] <pnkfelix> It would be nice if our macro system were expressive enough to let one play with forall!( <X, ...> fn foo(x:X, ...) { ... }), but I do not think it exposes enough non-terminals in the macro input grammar
[17:46:18] <pnkfelix> (and maybe a forall! macro wouldn't satisfy people anyway...)
[17:46:46] <cmr> pnkfelix: well, it'd certainly be enough to at least experiment with it..
[17:47:21] *** Quits: vertexclique (vertexcliq@69CFE6CE.16F818C8.6894ADF4.IP) (Client exited)
[17:47:25] <Ms2ger> I want \forall
[17:47:31] <cmr> o11c: and I think were I to push the proposal I'd use the name `given` instead... `given<T, U> fn foo(x: T) -> U`
[17:47:42] *** Joins: vertexclique (vertexcliq@69CFE6CE.16F818C8.6894ADF4.IP)
[17:47:47] <cmr> o11c: and integrating the "generic blocks" proposed ( given<T, U> { .... } )
[17:48:14] <SiegeLord> Heh, that's how D does it... and it still has the "shorthand" form :P
[17:48:22] <cmr> oh it is?
[17:48:24] <cmr> link?
[17:48:57] <o11c> I *really* hope rust ends up with a good compiler library so that people can fix the major flaws
[17:48:57] <SiegeLord> void foo(T)(T bar) is short for template foo(T) { void foo(T bar); }
[17:49:28] <cmr> oh
[17:49:39] <cmr> well yes, I wouldn't get rid of the "shorthand"
[17:49:42] <o11c> "I'll probably use Rust anyway because of the other nice things" is not enough
[17:49:45] <cmr> but I do see a usecase for the generic blocks..
[17:49:54] <cmr> o11c: what are the major flaws?
[17:50:32] <cmr> also if you create AST, you can feed it through the compiler
[17:50:37] <cmr> you don't need to use the parser.
[17:50:54] <o11c> the 3 that come to mind are: <> instead of [] for generics; the impl thing you just mentioned; everything has to be compiled at once
[17:51:04] *** Joins: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net)
[17:51:05] <o11c> oh, and no constexpr support
[17:51:30] <o11c> or values in template arguments, though that one supposedly might change
[17:52:30] <o11c> the only one that's *really* a killer is the "everything compiled at once", but the other are annoying enough for every day programming that I might as well use C++
[17:52:41] <cmr> Why is that a killer?
[17:52:46] <cmr> It's just how the module system works.
[17:52:46] <o11c> um
[17:52:51] <SiegeLord> That's not something you can fix without changing the entire language :P
[17:53:02] <o11c> if I change one file, I don't want to wait 5 minutes to recompile everything
[17:53:03] <cmr> (and it *has* been tried)
[17:53:05] <o11c> 15 seconds is too long
[17:53:15] <o11c> SiegeLord: then the language is flawed in the first place
[17:53:20] <SiegeLord> I agree
[17:53:37] <cmr> Ok, the time it takes is a problem that can be solved in the compiler.
[17:53:39] <SiegeLord> But it is what it is, so you have to use it in a way that doesn't trigger the flaw
[17:53:52] <tjc> IMO, it hasn't been demonstrated that you have to change the whole language to improve compilation times.
[17:53:59] <o11c> cmr: not really ... without separate compilation it will still be O(n) for n files
[17:54:04] <tjc> It's certainly not easy, but as far as I know, nobody has sincerely tried yet.
[17:54:08] <SiegeLord> It's not used "idiomatically" today, which is to use small crates
[17:54:37] <SiegeLord> Ideally, a crate per file
[17:54:42] *** pmoore is now known as pmoore|away
[17:54:43] <cmr> o11c: not true at all.
[17:54:57] <cmr> if a single function changes, all that needs to be recompiled is the single function.
[17:55:11] <o11c> cmr: it that's the case, it would become separate compilation like I want
[17:55:16] <cmr> Of course, we'll have to disable inlining, and recompile all uses of the function if it's monomorphized.
[17:55:37] <o11c> disabling inlining is fine (though eventually I'd expect something to be done with that)
[17:55:38] <cmr> It's still not really separate compilation... the unit of compilation is still the crate.
[17:55:42] <cmr> It's just incremental compilation.
[17:55:50] <cmr> o11c: nothing can be done about it without recompiling everything.
[17:56:08] <cmr> Once you have inlining LLVM does all maner of havoc with it.
[17:56:17] <cmr> Any use of it, even indirectly, would need to be recompiled.
[17:56:21] <o11c> I was thinking about inlining in the frontend
[17:56:25] <cmr> tjc: I agree
[17:56:40] <jasom> cmr: Common Lisp solves the problem by requiring that functions not explicitly marked as inline cannot be inlined in a separate source file, so if you change a function not marked inline, you only need recompile functions in that source file
[17:56:55] <o11c> jasom: that would work
[17:56:56] <SiegeLord> The trait coherence check relies on the current system... you'd have to change that bit, it's a big bit to change
[17:57:08] <cmr> jasom: That'd be an unnaceptable performance tradeoff, rust without inlining is too slow.
[17:57:10] *** Quits: jdm_ (jdm@889DA807.37C9DD5F.74119F78.IP) (Ping timeout)
[17:57:35] *** Joins: jdm (jdm@975D0492.AC1DA28C.74119F78.IP)
[17:57:35] *** ChanServ sets mode: +o jdm
[17:58:01] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[17:58:24] <cmr> The compiler right now is being tuned for performance of produced object files, not necessarily compilation time.
[17:58:26] <o11c> anyway, if the C++ compiler takes 10x as long to build my program, but is capable of recompiling just 1/100 files after a change ... that's still a win
[17:58:52] *** Joins: wilmoore (wilmoore@moz-1248C037.mystrotv.com)
[17:59:00] <SiegeLord> There's been a lot of work done to make compillation faster, and it's been claimed that it's already faster than C++
[17:59:04] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[17:59:11] <cmr> o11c: and if the change is in a header, you lose everything.
[17:59:33] *** Joins: fyolnish (fyolnish@moz-FEEB97DE.uqwimax.jp)
[17:59:33] <cmr> Same situation in rust, we just don't have headers, the compiler does it for you.
[17:59:35] <Tobba> build is 4 seconds for me
[17:59:38] <Tobba> bit annoying but eh
[18:00:05] <jasom> SiegeLord: there is no way it is faster for incremental builds on large projects than C++.  E.g. webkit takes *forever* to do a complete rebuild, but if you just change a single .cc file you can link in 10s of seconds
[18:00:24] <SiegeLord> jasom: I am not talking about incremental builds
[18:00:37] *** Quits: jdm (jdm@975D0492.AC1DA28C.74119F78.IP) (Input/output error)
[18:00:42] *** Joins: jdm (jdm@975D0492.AC1DA28C.74119F78.IP)
[18:00:42] *** ChanServ sets mode: +o jdm
[18:00:47] <SiegeLord> And anyway, nobody codes the "proper" way in Rust
[18:00:52] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[18:01:11] <SiegeLord> Maybe it'd be faster in incremental recompillation too, if you did that
[18:01:17] <jasom> But we do have the option of defining libraries that don't get recompiled, right?  So you could split larger projects up and get partial incremental rebuilds
[18:01:19] *** Quits: fyolnish (fyolnish@moz-FEEB97DE.uqwimax.jp) (Ping timeout)
[18:01:24] *** Joins: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP)
[18:01:33] <cmr> servo builds quite quickly.
[18:01:36] <SiegeLord> That's what I mean by "proper"
[18:01:49] <cmr> 30 seconds for just recompiling the servo binary.
[18:01:57] <SiegeLord> That's not quickly...
[18:02:01] <cmr> Compared to firefox?
[18:02:01] <Ms2ger> That's not quick :)
[18:02:04] <Ms2ger> Sure
[18:02:05] *** Joins: Jemaclus (jemaclus@A084B2A7.5843BA5A.D4E4C7A5.IP)
[18:02:23] <Ms2ger> Firefox also has about 9 million LOC more, and a decades-old build system
[18:02:28] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[18:02:45] <Tobba> once you have more LOC than the linux kernel
[18:02:51] <cmr> it's been a while since I've slung firefox code, but changing a single file doesn't rebuild in less than a minute.
[18:02:52] <Tobba> you are officially the god of clusterfuck
[18:02:52] <FreeFull> Servo doesn't do as much either
[18:02:57] *** Quits: aklt (aklt@83B8238.6BE5A349.B330AC0A.IP) (Quit: leaving)
[18:03:00] <cmr> *not the point*
[18:03:14] *** Quits: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP) (Ping timeout)
[18:03:15] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[18:03:35] *** Joins: Uther (Instantbir@moz-834083A8.hfc.dyn.abo.bbox.fr)
[18:03:37] <Ms2ger> Well, changing a single file probably does rebuild in less than a minute on recent hardware now
[18:03:38] *** Joins: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr)
[18:03:45] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Ping timeout)
[18:03:58] <adridu59> r=brson? https://github.com/mozilla/rust/pull/11989
[18:04:35] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[18:04:39] *** Quits: jdm (jdm@975D0492.AC1DA28C.74119F78.IP) (Input/output error)
[18:04:47] *** Joins: jdm (jdm@975D0492.AC1DA28C.74119F78.IP)
[18:04:47] *** ChanServ sets mode: +o jdm
[18:04:52] <Uther> Hi
[18:05:20] <Uther> I can't compile rust on my Mac
[18:05:28] <Uther> I have this error
[18:05:32] <Uther>   LIBTOOL-STATIC /Users/bruno/Devel/rust/x86_64-apple-darwin/rt/libuv/Release/libuv.a
[18:05:32] <Uther>   File "./gyp-mac-tool", line 507
[18:05:32] <Uther>     return {k: self._ExpandVariables(data[k], substitutions) for k in data}
[18:05:32] <Uther>                                                                ^
[18:05:32] <Uther> SyntaxError: invalid syntax
[18:05:53] *** Joins: tjc_ (tjc@moz-6EB4E533.dsl.tsoft.com)
[18:05:54] <cmr> Uther: python -v says?
[18:05:56] *** Quits: jdm (jdm@975D0492.AC1DA28C.74119F78.IP) (Input/output error)
[18:06:03] <cmr> --version, sorry
[18:06:06] *** Joins: jdm (jdm@975D0492.AC1DA28C.74119F78.IP)
[18:06:06] *** ChanServ sets mode: +o jdm
[18:06:08] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[18:06:31] <SiegeLord> One problem with using tons of small crates is that you're not allowed to have circular dependencies, afaik
[18:06:41] <Uther> 2.6.6
[18:07:02] <Uther> Need I a higher version?
[18:07:03] <SiegeLord> But that can actually be fixed without changing the language, I think
[18:07:09] <cmr> Uther: no that should be fine.
[18:07:16] *** Quits: jdm (jdm@975D0492.AC1DA28C.74119F78.IP) (Input/output error)
[18:07:22] *** Joins: jdm (jdm@975D0492.AC1DA28C.74119F78.IP)
[18:07:22] *** ChanServ sets mode: +o jdm
[18:07:31] <SiegeLord> Unlike changing the trait coherence rules :P
[18:07:55] <o11c> Uther, cmr: dict comprehensions are a python2.7 feature
[18:08:03] <cmr> o11c: really?
[18:08:10] <o11c> http://www.python.org/dev/peps/pep-0274/
[18:08:21] <Uther> ok I will try with a newer phyton
[18:08:31] <cmr> yucky
[18:08:48] <o11c> eh, the python community will shame you if you dare to write code that targets 2.6
[18:08:49] *** Joins: skade (skade@moz-92428DA2.dip0.t-ipconnect.de)
[18:09:04] <o11c> thing about how this channel treats people developing for 0.8
[18:09:16] <cmr> yeah but python is actually a released language
[18:09:19] *** Quits: tjc_ (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:09:20] <cmr> we're alpha
[18:09:28] <o11c> excuses, excuses
[18:09:30] <SiegeLord> The leading 0 in that version is a big part of it :P
[18:09:30] * cmr wrote code for 2.4 for a while. yay centos.
[18:09:39] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[18:09:57] <adridu59> cmr: can I haz an r+? https://github.com/mozilla/rust/pull/11989
[18:09:59] *** Quits: Jemaclus (jemaclus@A084B2A7.5843BA5A.D4E4C7A5.IP) (Client exited)
[18:10:01] *** Quits: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP) (Quit: Leaving)
[18:10:07] <o11c> ugh, I neeed to write this paper on "places to learn stuff in your field" ... Rust is one, need 5 more ...
[18:10:27] *** Joins: tjc_ (tjc@moz-6EB4E533.dsl.tsoft.com)
[18:11:09] *** Quits: jdm (jdm@975D0492.AC1DA28C.74119F78.IP) (Input/output error)
[18:11:19] *** Joins: jdm (jdm@975D0492.AC1DA28C.74119F78.IP)
[18:11:20] *** ChanServ sets mode: +o jdm
[18:11:38] *** jorendorff_away is now known as jorendorff
[18:11:49] <nszceta> Erlang
[18:12:01] <arrdem> Haskell?
[18:12:03] <adridu59> cmr: ty!
[18:12:04] <nszceta> OCaml
[18:12:08] <nszceta> jk
[18:12:15] *** Quits: Ms2ger (Ms2ger@moz-884DE569.adsl-dyn.isp.belgacom.be) (Quit: nn)
[18:12:21] <nszceta> how about hard real time systems
[18:12:27] *** Quits: jdm (jdm@975D0492.AC1DA28C.74119F78.IP) (Input/output error)
[18:12:31] <nszceta> software project management
[18:12:43] *** Joins: jdm (jdm@975D0492.AC1DA28C.74119F78.IP)
[18:12:43] *** ChanServ sets mode: +o jdm
[18:12:47] <nszceta> git
[18:12:57] <nszceta> golang
[18:12:59] <jasom> Ada
[18:13:01] <nszceta> that ^
[18:13:03] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[18:13:22] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[18:13:28] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[18:13:46] <nszceta> Uther: 
[18:13:50] <nszceta> Uther: install Homebrew
[18:13:51] *** Quits: jdm (jdm@975D0492.AC1DA28C.74119F78.IP) (Input/output error)
[18:13:52] *** Quits: tjc_ (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: Textual IRC Client: www.textualapp.com)
[18:14:02] <nszceta> Uther: then install python 2.7 or 3.x
[18:14:16] <nszceta> DO NOT use the bundled python supplied by Apple
[18:14:18] <nszceta> it is evil.
[18:14:34] <Uther> Can't I install python directly?
[18:14:40] <nszceta> use homebrew, trust me
[18:14:54] <nszceta> it is 99% direct installation
[18:14:54] *** Joins: jdm (jdm@975D0492.AC1DA28C.74119F78.IP)
[18:14:54] *** ChanServ sets mode: +o jdm
[18:14:59] <nszceta> except you won't nuke things
[18:15:26] <nszceta> I eventually reformatted my Macbook Pro with Arch Linux ;)
[18:15:27] <SiegeLord> Hmm... _ @ b => foo(b) isn't working, is that a bug?
[18:15:47] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[18:15:54] <SiegeLord> expected `=>` but found `@`
[18:16:15] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[18:16:19] <Uther> I am already instally the Python package from the official web site
[18:16:20] <cmr> SiegeLord: isn't it b@_ ?
[18:16:31] <SiegeLord> I guess I can just do b => boo(b)
[18:16:38] <nszceta> Uther: ... ok then just update your $PATH
[18:16:54] <nszceta> I do not recommend direct installation ever unless you desperately have to
[18:17:16] <nszceta> but since you did it all you should need to do is update $PATH then type `which python` and u will see if you are using the legit version
[18:17:21] <nszceta> don't use 2.6, lol
[18:17:27] <Uther> ok
[18:17:41] <SiegeLord> cmr: Oh, you're right
[18:18:03] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[18:18:08] <SiegeLord> So do match arms get tried in order?
[18:18:12] <cmr> yes.
[18:18:12] *** Joins: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP)
[18:18:33] *** pmoore|away is now known as pmoore
[18:18:35] <SiegeLord> I see, good
[18:18:36] <Uther> On Mac which file should i edit to edit path? Is it ~/.profile ?
[18:18:37] *** Quits: jdm (jdm@975D0492.AC1DA28C.74119F78.IP) (Input/output error)
[18:18:42] <nszceta> Uther: /etc/profile
[18:18:48] *** Joins: jdm (jdm@975D0492.AC1DA28C.74119F78.IP)
[18:18:48] *** ChanServ sets mode: +o jdm
[18:18:57] <nszceta> bashrc works mostly too
[18:19:02] <nszceta> but I prefer the nuclear option
[18:19:46] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[18:19:58] *** Quits: jdm (jdm@975D0492.AC1DA28C.74119F78.IP) (Input/output error)
[18:20:04] *** Joins: jdm (jdm@975D0492.AC1DA28C.74119F78.IP)
[18:20:04] *** ChanServ sets mode: +o jdm
[18:21:01] *** Quits: vertexclique (vertexcliq@69CFE6CE.16F818C8.6894ADF4.IP) (Client exited)
[18:21:02] *** Joins: vertexclique (vertexcliq@69CFE6CE.16F818C8.6894ADF4.IP)
[18:21:13] *** Quits: jdm (jdm@975D0492.AC1DA28C.74119F78.IP) (Input/output error)
[18:21:25] *** Joins: jdm (jdm@975D0492.AC1DA28C.74119F78.IP)
[18:21:25] *** ChanServ sets mode: +o jdm
[18:22:34] *** Quits: jdm (jdm@975D0492.AC1DA28C.74119F78.IP) (Input/output error)
[18:22:42] *** Joins: jdm (jdm@975D0492.AC1DA28C.74119F78.IP)
[18:22:42] *** ChanServ sets mode: +o jdm
[18:23:19] *** Joins: lpy (lpy@FA66696A.6C1907BC.E99F7FDB.IP)
[18:23:50] *** Quits: jdm (jdm@975D0492.AC1DA28C.74119F78.IP) (Input/output error)
[18:23:59] *** Joins: jdm (jdm@975D0492.AC1DA28C.74119F78.IP)
[18:24:00] *** ChanServ sets mode: +o jdm
[18:24:40] *** Joins: chromatic (chromatic@moz-28CBC7F4.hsd1.or.comcast.net)
[18:25:08] *** Quits: jdm (jdm@975D0492.AC1DA28C.74119F78.IP) (Input/output error)
[18:25:12] *** Joins: jdm (jdm@975D0492.AC1DA28C.74119F78.IP)
[18:25:12] *** ChanServ sets mode: +o jdm
[18:25:26] *** Quits: lpy (lpy@FA66696A.6C1907BC.E99F7FDB.IP) (Ping timeout)
[18:26:21] *** Quits: jdm (jdm@975D0492.AC1DA28C.74119F78.IP) (Input/output error)
[18:26:34] *** Joins: jdm (jdm@975D0492.AC1DA28C.74119F78.IP)
[18:26:35] *** ChanServ sets mode: +o jdm
[18:26:52] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[18:28:02] *** Joins: dsyang (dsyang@5443A547.FCD0EB8C.689607DE.IP)
[18:28:27] *** Quits: jdm (jdm@975D0492.AC1DA28C.74119F78.IP) (Ping timeout)
[18:28:42] *** Joins: jdm (jdm@22AEF835.B7C72CD0.74119F78.IP)
[18:28:42] *** ChanServ sets mode: +o jdm
[18:28:46] <Tari> I'm probably just doing something dumb here, but what?
[18:28:57] <nszceta> deep question
[18:29:04] <nszceta> a metaphor for life
[18:29:10] <Tari> use std::io:IoErrorKind; EndOfFile is an unresolved name
[18:29:42] <kimundi> Tari: Need to import the variant as well
[18:29:51] <kimundi> use std::io:{IoErrorKind, EndOfFile};
[18:30:10] <Tari> right, that'll do it
[18:30:19] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[18:30:22] <Tari> the variant doesn't go under the enum it's a member of
[18:31:01] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[18:31:31] <Jemaclus> Tari: story of my life... one dumb thing after another... :)
[18:31:40] *** Joins: mgottschlag (quassel@moz-D9E207E7.cust.bluewin.ch)
[18:31:59] *** Quits: jdm (jdm@22AEF835.B7C72CD0.74119F78.IP) (Input/output error)
[18:32:04] *** Quits: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[18:32:10] *** Joins: jdm (jdm@22AEF835.B7C72CD0.74119F78.IP)
[18:32:10] *** ChanServ sets mode: +o jdm
[18:32:25] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Ping timeout)
[18:32:57] *** Joins: synackse (jordyd@moz-4B52A88.seg101.ucf.edu)
[18:33:13] *** Quits: hein (hein@moz-82B560AA.wlan.hu-berlin.de) (Quit: leaving)
[18:34:19] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[18:35:51] *** Quits: jdm (jdm@22AEF835.B7C72CD0.74119F78.IP) (Input/output error)
[18:36:02] *** Joins: jdm (jdm@22AEF835.B7C72CD0.74119F78.IP)
[18:36:02] *** ChanServ sets mode: +o jdm
[18:36:11] *** Joins: ryeguy (Mibbit@EC0380F4.1C43967E.E9A87632.IP)
[18:36:43] *** Joins: eholk (eric@moz-F70D5031.hsd1.in.comcast.net)
[18:36:48] *** Joins: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net)
[18:36:50] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[18:37:11] *** Quits: jdm (jdm@22AEF835.B7C72CD0.74119F78.IP) (Input/output error)
[18:37:29] *** Joins: jdm (jdm@22AEF835.B7C72CD0.74119F78.IP)
[18:37:30] *** ChanServ sets mode: +o jdm
[18:37:56] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Client exited)
[18:38:08] *** Joins: tq (tq@moz-9FE9CCF4.a251.priv.bahnhof.se)
[18:38:44] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[18:38:53] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[18:40:59] *** Quits: jdm (jdm@22AEF835.B7C72CD0.74119F78.IP) (Input/output error)
[18:41:06] *** Joins: Munchor (munchor@moz-8CFC84AD.yourvserver.net)
[18:42:05] *** Quits: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net) (Quit: bye!)
[18:42:15] *** Joins: jdm (jdm@22AEF835.B7C72CD0.74119F78.IP)
[18:42:16] *** ChanServ sets mode: +o jdm
[18:43:05] *** Quits: ryeguy (Mibbit@EC0380F4.1C43967E.E9A87632.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:43:09] *** Quits: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net) (Quit: calvinmetcalf)
[18:43:24] *** Quits: jdm (jdm@22AEF835.B7C72CD0.74119F78.IP) (Input/output error)
[18:43:33] *** Joins: jdm (jdm@22AEF835.B7C72CD0.74119F78.IP)
[18:43:33] *** ChanServ sets mode: +o jdm
[18:43:42] *** Joins: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca)
[18:43:52] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[18:44:09] *** Quits: andrew-d_w (andrew-d_w@moz-E7894907.nat.bb.dnainternet.fi) (Ping timeout)
[18:44:42] *** Quits: jdm (jdm@22AEF835.B7C72CD0.74119F78.IP) (Input/output error)
[18:44:50] *** Joins: jdm (jdm@22AEF835.B7C72CD0.74119F78.IP)
[18:44:50] *** ChanServ sets mode: +o jdm
[18:45:32] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[18:45:59] *** Quits: jdm (jdm@22AEF835.B7C72CD0.74119F78.IP) (Input/output error)
[18:47:42] <Jemaclus> fwiw, I posted my LZW Compression thing to /r/rust, if anyone wants to take a look.
[18:48:11] *** Joins: jdm (jdm@22AEF835.B7C72CD0.74119F78.IP)
[18:48:11] *** ChanServ sets mode: +o jdm
[18:49:20] *** Quits: jdm (jdm@22AEF835.B7C72CD0.74119F78.IP) (Input/output error)
[18:50:12] *** Joins: amir (amir@moz-467F7F30.cust.bluewin.ch)
[18:50:30] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[18:51:03] <Tobba> Jemaclus: I like how your first test case was paradise lost
[18:51:15] <Jemaclus> :)
[18:51:27] <acrichto> Jemaclus: awesome!
[18:51:53] *** Joins: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net)
[18:52:14] <acrichto> Jemaclus: I've got a sort of ad-hoc compression algorithms repo starting at https://github.com/alexcrichton/rust-compress/ if you're interested as well :)
[18:52:28] <Jemaclus> I'm really happy with how close I am. Just trying to get that last 0.1%...
[18:52:35] *** nical is now known as PNical
[18:53:06] *** Quits: vertexclique (vertexcliq@69CFE6CE.16F818C8.6894ADF4.IP) (Client exited)
[18:53:16] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[18:53:24] <Jemaclus> but like I said in the thread, I don't know crap about heavy manipulation of bits and bytes, so there's probably a better way to do it. Someone was saying that LZW makes 12-bit words out of 8 bit words, so you could write 2 bytes for every 3 code words.. or something... but I have no idea how to do that.
[18:53:28] *** Joins: vertexclique (vertexcliq@69CFE6CE.16F818C8.6894ADF4.IP)
[18:53:44] <darnuria> pnkfelix: Hey hello, nical have told you about a Rust meetup in Paris? :)
[18:53:55] <acrichto> Jemaclus: I wouldn't worry too much about that, I wrote a deflate decompresson algorithm and it's probably the slowest one in existence
[18:54:51] <Tari> acrichto: looking at yours right now, I think my huffman decoder will be slower
[18:55:10] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[18:55:19] <acrichto> Tari: race to see who's slowest!
[18:55:36] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:55:41] <Tari> I'm still having trouble getting mine to build a valid tree though
[18:56:45] <Jemaclus> haha. I was curious as to how important those 134 bytes were, so I tried to compress some images, and they all went haywire, so... yeah, kinda important. :)
[18:57:25] *** Joins: heftig (heftig@moz-1448C700.dip0.t-ipconnect.de)
[18:58:09] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[18:58:18] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[18:59:35] *** Joins: fyolnish (fyolnish@moz-29E177B.uqwimax.jp)
[19:00:25] *** Joins: Cevn (sameer@moz-CAED566.v4.wm.edu)
[19:00:30] *** Joins: rca_ (rcatolino@moz-312D09C6.adsl.proxad.net)
[19:00:43] *** Joins: newguy (Mibbit@moz-AFF45F4D.bootp.virginia.edu)
[19:01:02] <newguy> Is there a way to send a process via port/channel?
[19:01:08] *** Quits: rca (rcatolino@moz-BC04AA53.adsl.proxad.net) (Ping timeout)
[19:01:20] *** Quits: fyolnish (fyolnish@moz-29E177B.uqwimax.jp) (Ping timeout)
[19:01:57] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[19:01:57] *** Quits: wilmoore (wilmoore@moz-1248C037.mystrotv.com) (Ping timeout)
[19:02:27] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[19:03:39] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[19:03:57] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[19:04:37] *** Quits: pigoz (pigoz@moz-93D3080C.as5577.net) (Ping timeout)
[19:05:08] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Quit: WeeChat 0.4.2)
[19:05:27] *** Quits: Cevn (sameer@moz-CAED566.v4.wm.edu) (Ping timeout)
[19:05:50] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Client exited)
[19:06:10] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[19:06:41] <acrichto> newguy: when you say "send a process", what do you mean by process?
[19:07:00] *** Joins: nif (nif@moz-8181E2AC.oberlin.net)
[19:07:05] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[19:08:22] <Tobba> eddyb: is there anything special you should do when calling a proc()
[19:08:31] <Tobba> I'm calling one manually by transmuting it into the function and argf
[19:08:33] <Tobba> arg*
[19:08:38] <eddyb> Tobba: why?
[19:08:52] <Tobba> and iirc that arg has to be deallocated somehow
[19:08:59] <eddyb> why are you not calling it normally?
[19:09:10] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Quit: WeeChat 0.4.2)
[19:09:12] <Tobba> well, I'm setting the eip of another context to it
[19:09:13] <Tobba> so yeah
[19:09:17] <eddyb> >_>
[19:09:32] <eddyb> Tobba: look at the IR for calling a proc with no optimizations on
[19:09:53] <eddyb> Tobba: see who has to run the dtor
[19:10:07] <Tobba> its better than putting it to the stack, then setting eip to a wrapper that calls it
[19:10:19] <Tobba> well it basicaly isnt better than that
[19:10:20] <Tobba> but w/e
[19:10:26] *** Joins: aklt (aklt@moz-E66E9BCB.u.parknet.dk)
[19:12:26] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[19:12:59] *** Quits: dsyang (dsyang@5443A547.FCD0EB8C.689607DE.IP) (Client exited)
[19:13:29] *** Quits: dangets (dangets@moz-E9E4A77B.cpe.cableone.net) (Client exited)
[19:14:15] *** Joins: honza_ (honza@2F4A0D37.D725B7F3.2BF60B34.IP)
[19:14:30] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[19:14:37] *** Quits: io2 (io2@moz-7C3DDBE8.home.otenet.gr) (Ping timeout)
[19:15:15] *** nrc is now known as nrc|waitangiday
[19:15:41] *** nrc|waitangiday is now known as nrc|waitangi
[19:15:53] *** nrc|waitangi is now known as nrc|waitangiday
[19:17:03] <alan_andrade> Guys, what do you think is the most important concept to grasp when coming from a high level dynamic language ?
[19:17:12] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[19:17:13] <acrichto> Tobba: you may be interested in https://github.com/mozilla/rust/blob/master/src/libgreen/context.rs#L44-L65
[19:17:23] <alan_andrade> In order to understand Rust.
[19:17:46] <nif> alan_andrade: lifetimes and ownership :P
[19:17:54] <chromatic> Ownership or types.
[19:17:55] <FreeFull> alan_andrade: The best thing to do is to try writing something in Rust and see what you stumble on
[19:19:22] <alan_andrade> I couldn't agree more with the 3 responses.
[19:19:34] <alan_andrade> Lifetime, ownership and types.
[19:20:00] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[19:20:00] *** ChanServ sets mode: +ao brson brson
[19:20:02] <alan_andrade> Given that people would come from a world where the only meaning of stack is the website "stack overflow" haha
[19:20:17] <chromatic> These people don't eat pancakes?!
[19:20:19] <alan_andrade> What do you think it would be a good analogy to teach those concepts ?
[19:20:27] *** Joins: lpy (lpy@FA66696A.6C1907BC.E99F7FDB.IP)
[19:21:00] *** Quits: PNical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[19:21:11] <chromatic> I like to think of single ownership as passing the baton in a relay and when the race is over, the judges take it away.
[19:21:27] <alan_andrade> I think Types could be compared with classes. Of course are not the same, but at least we could resemble classes.
[19:22:14] *** Quits: lpy (lpy@FA66696A.6C1907BC.E99F7FDB.IP) (Ping timeout)
[19:22:22] <alan_andrade> chromatic: In that case the race would be .... the end of your function or program ?
[19:22:34] <Uther> o11c, cmr, nszceta: Rust seems to compile well with python 2.7, thank you.
[19:22:49] <nszceta> Uther: good to hear it all worked out!
[19:22:49] *** Quits: synackse (jordyd@moz-4B52A88.seg101.ucf.edu) (Ping timeout)
[19:23:02] <chromatic> The end of the function.
[19:23:14] <alan_andrade> FreeFull: I believe we can do better on getting people on board.
[19:23:17] <nszceta> Uther: for the future I suggest you remove your manually installed python and use homebrew to install rust
[19:23:19] <nszceta> https://github.com/Homebrew/homebrew/blob/master/Library/Formula/rust.rb
[19:23:22] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[19:23:26] <nszceta> with `brew install rust`
[19:23:31] <Uther> But I don't understand why it used to work before
[19:23:37] <alan_andrade> The feeling I have is that people stick around because of this great community
[19:24:01] <alan_andrade> however, It could be frustrating having problems understanding whats going on.
[19:24:16] <alan_andrade> chromatic: I like that example.
[19:24:17] <Uther> I don't remember changing anything about python on my Mac recently
[19:24:18] <nszceta> Uther: I personally upgraded my OS X 10.9.1 to GCC-4.8 before compiling
[19:24:23] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[19:24:23] *** ChanServ sets mode: +ao pcwalton pcwalton
[19:24:32] <nszceta> Uther: it's not you, the requirements changed on Rust's end clearly
[19:25:01] <newguy> When listening for the SIGINT interrupt, how to do intterupt the child process, and not the main process?
[19:25:12] <alan_andrade> chromatic: following on the same line of the analogy, the race length will always be fixed to the end of your function ?
[19:25:25] *** Quits: vertexclique (vertexcliq@69CFE6CE.16F818C8.6894ADF4.IP) (Client exited)
[19:25:26] *** Joins: vertexclique (vertexcliq@69CFE6CE.16F818C8.6894ADF4.IP)
[19:25:26] <chromatic> alan_andrade, you have to be careful with that metaphor, though--it only works for single-ownership, stack allocated items.
[19:25:54] <chromatic> I want to say "The baton's only valid while you're on the track". When you head for the locker room, you surrender it.
[19:26:29] *** Joins: wouterw (uid22165@moz-A42E5B7B.irccloud.com)
[19:26:37] *** Quits: eholk (eric@moz-F70D5031.hsd1.in.comcast.net) (Quit: Konversation terminated!)
[19:26:46] <alan_andrade> I see.
[19:27:06] <jasom> chromatic: and if you are holding a runner that has a baton, then when you turn your baton in, so do they...
[19:27:46] *** Quits: nif (nif@moz-8181E2AC.oberlin.net) (Client exited)
[19:28:09] <jasom> though I suppose holding the number of a runner that has a baton is a less tortured metaphor
[19:28:18] <Tari> I'd expect `&&[u8]` and `&~[u8]` to be compatible types, but apparently they're not?
[19:29:02] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[19:29:04] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[19:29:35] *** Quits: FreeFull (freefull@moz-1883929A.as13285.net) (Quit: )
[19:29:44] <alan_andrade> I believe having pictures or some sort of aid to learn the subject will increase the number of active Rust users
[19:30:23] <alan_andrade> They could jump quicker into writing Rust code with solid knowledge base
[19:30:39] <newguy> How does one use a signal handler for interrupting a child process rather than a parent process?
[19:30:44] *** Quits: skade (skade@moz-92428DA2.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:31:11] <strcat> newguy: hm?
[19:31:24] <alan_andrade> Now, there are feature that shine only when you compare  them against C. Do you think that's important to explain ?
[19:31:52] <newguy> strcat: I'm using a listener to listen for the siging interrupt. But I'd only like to interrupt a child process, not the parent
[19:31:53] <Uther> nszceta: Souldn't the ./configure script warn about the wrong python version?
[19:31:55] <strcat> alan_andrade: are you talking about the tutorial?
[19:32:12] <nszceta> Uther: apparently it doesn't have that check
[19:32:22] *** Quits: andre (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[19:32:26] <strcat> newguy: well, you can't do that, you have to handle it in the process receiving the signal
[19:32:40] <strcat> if by signal handler you mean a sigaction-style one, then you have to set some flag via an atomic global
[19:32:42] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[19:32:57] <newguy> strcat: so i create a listener inside the child process?
[19:32:57] <strcat> or set the child process in a global
[19:32:57] *** Joins: Deewiant (deewiant@moz-C015B7F8.iki.fi)
[19:33:01] <strcat> and read it there
[19:33:04] <strcat> newguy: not sure what you mean
[19:33:07] <alan_andrade> In general. I think we can do better on explaining Rust concepts to people that come from dynamic langs.
[19:33:14] <newguy> strcat: ok ill elaborate
[19:33:18] <strcat> newguy: generally, using signals is not the right way to do something
[19:33:27] <strcat> you shouldn't use signals for IPC, it's racy
[19:33:31] <strcat> use pipes
[19:33:39] <strcat> or semaphores, mutexes or cond vars
[19:34:05] <newguy> strcat: well im implementing a shell, so i need to somehow interrupt a process running in the background without interrupting the shell itself.
[19:34:21] <newguy> strcat: do you know what i mean?
[19:34:47] *** Joins: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP)
[19:35:00] <strcat> newguy: so you want to handle ctrl-c is what you're saying?
[19:35:07] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[19:35:10] <newguy> yes, but only to interrupt a child process
[19:35:26] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[19:35:28] *** Quits: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net) (Ping timeout)
[19:36:02] <o11c> newguy: you need to create a new process group
[19:36:12] *** Joins: skade (skade@moz-92428DA2.dip0.t-ipconnect.de)
[19:36:15] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Quit: WeeChat 0.4.2)
[19:36:22] <o11c> ^C send a signal to the entire foreground process group, and if you don't want the parent to be included ...
[19:36:23] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[19:36:46] *** Joins: dsyang (dsyang@moz-8EBF0366.wv.cc.cmu.edu)
[19:36:57] *** Joins: ercxx (ercan@moz-88DD3A7E.dyn.optonline.net)
[19:37:14] <newguy> o11c: i have a background process already running via tasks
[19:37:28] <newguy> but im just not sure where to call create the listener for ^C
[19:37:40] <wycats> can someone remind me how to dump readable llvm via rustc
[19:37:46] <strcat> wycats: --emit-llvm -S
[19:37:57] <ercxx> Does it make sense to put a `self` pointer into a Rc/Weak?
[19:38:08] <strcat> ercxx: self pointer?
[19:38:16] <ercxx> strcat: Yeah
[19:38:24] <strcat> what do you mean by that?
[19:38:33] <o11c> there are times when you do want a weak pointer to self, yes
[19:38:35] *** Quits: skade (skade@moz-92428DA2.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:38:47] <ercxx> I want to make a tree and it says it makes sense to put parent pointers in a Weak: http://static.rust-lang.org/doc/master/std/rc/index.html
[19:38:50] <o11c> but it's less important for rust, since you can impl on Rc<T> instead of on T
[19:39:01] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[19:39:19] <strcat> that's funny, the docstring isn't updated
[19:39:19] <chromatic> alan_andrade, have you seen http://www.rustforrubyists.com/book/index.html ?
[19:39:39] <alan_andrade> chromatic that was my entry point for Rust ;)
[19:39:41] <ercxx> strcat: So disregard it?
[19:39:44] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[19:40:14] <strcat> ercxx: no
[19:40:24] <strcat> just says `Strong` when it means `Rc`
[19:40:43] *** Joins: FreeFull (freefull@moz-1883929A.as13285.net)
[19:41:04] <chromatic> In my experience, you tend to need a tutorial for every distinct cohort learning a language: people who've never programmed before, people who know some procedural language with managed memory, people who've done systems programming before....
[19:41:30] <doomlord_> +1
[19:41:43] <doomlord_> user specific learning
[19:41:49] <chromatic> "If you've stared at kcachegrind until your eyes bleed, press #1"
[19:41:49] <strcat> considering that we're unable to write a single tutorial without blatant inaccuracies everywhere....
[19:42:22] <ercxx> strcat: Hopefully after or around 1.0
[19:42:37] <doomlord_> must be hard with the language changing
[19:42:41] <strcat> not really
[19:42:50] <strcat> the inaccuracies there have always been wrong
[19:42:59] <alan_andrade> The way I see it, is that people onbarding from low level lang pick it up super quick
[19:43:00] <strcat> there are rarely semantic changes to the language that are relevant to the tutorial
[19:43:22] *** Joins: andrew-d_w (andrew-d_w@moz-E7894907.nat.bb.dnainternet.fi)
[19:43:31] *** Quits: FreeFull (freefull@moz-1883929A.as13285.net) (Quit: )
[19:43:36] <chromatic> strcat, are these lies of metaphor or lies of misunderstanding?
[19:43:39] <alan_andrade> the people coming from high level langs are getting problems grasping
[19:43:45] <alan_andrade> the core concepts
[19:43:49] <strcat> chromatic: they are just inaccurate
[19:43:59] <strcat> they're not metaphor
[19:44:21] <strcat> alan_andrade: so I expect you'll be submitting some documentation improvements?
[19:44:37] <alan_andrade> Yes, that's why I'm trying to get a feeling of what you guys think
[19:44:44] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Quit: Leaving)
[19:45:08] <strcat> meh it all moved again
[19:45:17] <alan_andrade> what do you mean ?
[19:45:27] <chromatic> alan_andrade, there's no substitute for someone learning a new language, framework, or library from writing notes about what he or she found interesting, difficult, or confusing
[19:45:35] *** Quits: bytbox (s@moz-54E13927.washdc.fios.verizon.net) (Input/output error)
[19:45:58] <alan_andrade> I disagree
[19:46:04] <alan_andrade> People learn in different ways
[19:46:29] <chromatic> Well the people maintaining documentation and tutorials only get the chance to see through a new user's eyes if that new user lets them.
[19:46:48] <strcat> there is pretty much no maintenance/improvement of the documentation
[19:47:25] <alan_andrade> I was told brson was seeking for a person dedicated to docs. Has that happened yet ?
[19:47:41] *** Quits: sellout (Adium@600AEF4A.F4CAF5DC.C5F4E277.IP) (Quit: Leaving.)
[19:47:52] <strcat> last major change to the tutorial was the partial rewrite I did on nov 27th
[19:48:01] <alan_andrade> oh wow
[19:48:06] <strcat> since then there have been a couple grammar fixes
[19:48:12] <strcat> a diagram was tweaked
[19:48:19] <strcat> and a couple words swapped
[19:48:33] <strcat> and `do` was removed
[19:48:50] *** Quits: Liam` (quassel@6265EFB3.B1CCF5AA.217C7FCC.IP) (Ping timeout)
[19:49:02] <alan_andrade> We definitely can do better
[19:49:31] <strcat> imo the only problem is that no one cares about the docs enough to work on them
[19:49:34] <alan_andrade> but we need a person that is not writing the language itself
[19:49:53] <strcat> I don't think we need more inaccurate documentation
[19:50:01] *** Quits: moostik (Icedove@moz-9CCE699F.w81-249.abo.wanadoo.fr) (Ping timeout)
[19:50:01] *** Joins: Liam` (quassel@6265EFB3.B1CCF5AA.217C7FCC.IP)
[19:50:24] <alan_andrade> IMO we need less or the same with better organization/structure
[19:50:54] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[19:50:59] <strcat> http://static.rust-lang.org/doc/master/tutorial.html#implementing-a-linked-list this section is what I wrote in maybe 2-3 hours work/thinking
[19:51:14] <strcat> just those subsections (9.*)
[19:51:20] <strcat> anyway
[19:51:33] <strcat> I think it's pretty clear that with a few days of work, the whole tutorial could be pretty great
[19:52:00] <strcat> but I don't plan on doing any more work because the only thing I hear is people bashing it as a whole and no one working on it for even 5 minutes
[19:52:34] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[19:52:40] <chromatic> What are the biggest flaws of content? Is it missing things? Inaccurate? Misleading?
[19:53:05] <strcat> it sure would be nice to have a tutorial fully based on interesting examples where you're implementing real stuff
[19:53:15] <strcat> all of the code examples could be editable and executable in the browser
[19:53:20] <strcat> rusti: 2 + 2
[19:53:21] -rusti- 4
[19:53:24] <strcat> I made a web frontend for that
[19:53:30] <strcat> anyway, no one seems interested in any of that
[19:53:34] *** Joins: ryeguy (Mibbit@EC0380F4.1C43967E.E9A87632.IP)
[19:54:00] <Tari> systems programmers tend to be a pragmatic lot, I think
[19:54:03] <ercxx> strcat: That might be a personal preference/style issue.
[19:54:09] <chromatic> Sounds interesting to me.
[19:54:12] <SiegeLord> It sounds like effort :P
[19:54:40] <ercxx> I might need to be waterboarded before I write anything in a browser.
[19:54:49] *** Quits: dsyang (dsyang@moz-8EBF0366.wv.cc.cmu.edu) (Client exited)
[19:54:50] <cmr> Uther: fwiw it's not Rust, it's libuv.
[19:54:53] <strcat> ercxx: so you don't have to edit them
[19:54:58] *** Joins: dherman (dherman@moz-7B0110AD.mv.mozilla.com)
[19:54:58] *** ChanServ sets mode: +ao dherman dherman
[19:55:05] <cmr> Uther: we upgraded gyp relatively recently. seems they decided it wasn't important to keep backwards compat with older pythons.
[19:55:22] <ercxx> strcat: what do you mean?
[19:55:36] <chromatic> There you go, your first example. "Suppose you're writing code to manage extraordinary renditions on a secret spy helicarrier."
[19:55:39] <strcat> ercxx: having executable code examples does not harm someone who does not want to click run/edit...
[19:56:03] <mgottschlag> ercxx: <3 Go's introduction/tutorial thing in the browser, complete with exercises, that was really the best way to learn a programming language I ever experienced
[19:56:05] <strcat> anyway, ace is a perfectly good editor
[19:56:07] <strcat> http://ace.c9.io/build/kitchen-sink.html
[19:56:13] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[19:56:17] <strcat> has basic rust support
[19:56:23] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Ping timeout)
[19:56:37] <strcat> at the very least it has rust syntax highlighting, code folding, and reasonable vim/emacs binding modes
[19:56:39] <mgottschlag> also, I guess many of those who would be interested in that never show up here because they end up finding the language to complex
[19:56:41] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[19:56:55] <ercxx> it has proper key bindings too
[19:56:56] <mgottschlag> and give up on it
[19:57:08] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Input/output error)
[19:57:18] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[19:57:38] <strcat> mgottschlag: the web version of the rusti bot here exists
[19:57:47] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[19:57:51] <strcat> I wrote it with the intent that the main page would have code examples you could run
[19:57:53] <strcat> and edit
[19:57:56] <strcat> along with the documentation
[19:58:11] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[19:58:21] <mgottschlag> yeah, what I am saying is that integrating it into an introduction course might help more than it appears at the moment, because those who benefit are not found in this channel
[19:58:28] *** pmoore is now known as pmoore|away
[19:58:29] <strcat> I can't host a rust documentation site from my laptop
[19:58:39] <strcat> and I can't afford to pay for a VPS or something
[19:58:54] *** Quits: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP) (Client exited)
[19:59:15] <eddyb> strcat: I have a VPS that's doing nothing...
[19:59:25] <eddyb> (payed by an older associate of mine)
[19:59:29] <strcat> eddyb: how much ram?
[19:59:33] *** Joins: fyolnish (fyolnish@moz-29E177B.uqwimax.jp)
[19:59:36] <eddyb> 256 or 512
[19:59:41] <strcat> really need more :(
[19:59:46] <eddyb> not enough to build rust, I know :/
[19:59:49] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Ping timeout)
[19:59:57] <jxs> doesn't mozilla have budget for that?
[19:59:57] <strcat> well I mean atm rusti here has 128MiB cap
[20:00:04] <strcat> but a site would be running requests concurrently
[20:00:16] <strcat> so ideally, you can have 20 or so workers
[20:00:35] <strcat> and put the read-only root in a tmpfs so it's in-memory
[20:00:54] <strcat> instead of just cached where it can sometimes time out if the system felt like using memory for something else
[20:01:03] <chromatic> Update it once a month or so whenever a new stable snapshot comes out?
[20:01:04] *** Quits: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP) (Connection reset by peer)
[20:01:08] *** Joins: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net)
[20:01:14] *** Quits: fyolnish (fyolnish@moz-29E177B.uqwimax.jp) (Ping timeout)
[20:01:31] <strcat> I used to update rusti nightly
[20:01:32] *** Joins: dsyang (dsyang@5443A547.FCD0EB8C.689607DE.IP)
[20:01:51] <strcat> but atm master does not work properly with pipes without patching
[20:02:22] <Eridius> :/
[20:02:39] *** Quits: an0nymous (an0nymous@moz-F04BA440.tx.res.rr.com) (Ping timeout)
[20:02:54] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Ping timeout)
[20:03:15] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[20:03:23] <Tari> how slow do you think rustc run through emscripten would be?
[20:03:37] <strcat> too slow
[20:03:49] <Tobba> slow
[20:03:55] <Tobba> it would be hilarious tho
[20:03:56] <strcat> natively, it takes 70MiB+ to compile hello world
[20:04:18] *** Joins: an0nymous (an0nymous@moz-F04BA440.tx.res.rr.com)
[20:04:32] <newguy> how to convert a pid_t (id of process) into a string?
[20:04:37] <strcat> and you'd have to download 100MiB of code to your browser (at least)
[20:04:56] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[20:04:58] <Tobba> oh
[20:04:59] <Tobba> I almost forgot
[20:05:05] <Tobba> http://kripken.github.io/llvm.js/demo.html
[20:05:51] <Tobba> that hello world takes a few seconds
[20:05:51] <newguy> i can't store pid_t (process id's) in a vector, so i was thinking that i should convert them to strings and then store them, since all i need is their string representation
[20:06:07] <newguy> is that possible?
[20:06:22] *** Joins: io2 (io2@moz-7C3DDBE8.home.otenet.gr)
[20:06:32] *** Quits: ercxx (ercan@moz-88DD3A7E.dyn.optonline.net) (Quit: WeeChat 0.4.2)
[20:06:36] <strcat> Tobba: rust's hello world pulls in a huge amount of IR
[20:07:17] <strcat> 378 lines for println!("foo") - so I expect it'd be a fair bit slower than that :P
[20:07:32] <Tobba> well shit
[20:07:36] <strcat> although most of the time is probably spent in librustc
[20:07:39] <strcat> when optimization is off
[20:07:41] <strcat> not sure
[20:08:58] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[20:09:13] <strcat> Tobba: http://strcat.zapto.org:8000/
[20:10:05] *** Joins: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP)
[20:10:08] <strcat> perhaps I should just make a tutorial myself and host it there
[20:10:14] <strcat> (there == my laptop)
[20:11:16] *** Joins: Zr40 (zr40@moz-CCFEAB92.adsl.xs4all.nl)
[20:11:18] *** Quits: ryeguy (Mibbit@EC0380F4.1C43967E.E9A87632.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:12:21] *** Quits: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com) (Ping timeout)
[20:12:30] * strcat shrugs
[20:12:57] <alan_andrade> What if we start a kickstarter campaing to get a server caliber machine ?
[20:13:08] *** Quits: nszceta (hax@moz-E458A7C0.pharm.pitt.edu) (Input/output error)
[20:13:46] <alan_andrade> We need around 2'000 to assemble a powerful machine
[20:13:54] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Quit: Taking a nap.)
[20:14:16] <Tobba> pffft, 2000
[20:14:16] *** Joins: nyuszika7h (nyuszika7h@moz-423AFF1D.net)
[20:14:20] <Tobba> way less
[20:14:27] <Tobba> well depends on the currency
[20:14:29] <strcat> it just needs a VPS
[20:14:44] <SiegeLord> Is the hardware really the blocking aspect of this?
[20:14:56] <strcat> the blocking aspect is that I don't have somewhere to host this
[20:14:57] <Tobba> p sure not
[20:15:04] <Tobba> mozilla could probably sort it out
[20:15:10] <strcat> and I'd like to have somewhere to put rusti too
[20:15:22] <strcat> if you wonder why rusti isn't always here, it's because my laptop doesn't always have wifi
[20:15:32] *** Quits: newguy (Mibbit@moz-AFF45F4D.bootp.virginia.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[20:15:37] <SiegeLord> I'm interested in a 1st party solution that works on rust-lang.org :P
[20:15:48] *** Quits: doener (doener@moz-C68F600D.unity-media.net) (Quit: leaving)
[20:16:00] <strcat> SiegeLord: https://github.com/mozilla/rust/issues/6916
[20:16:07] <alan_andrade> rusti: println!("strcat is my creator and I rock");
[20:16:09] -rusti- pastebinned 7 lines of output: http://ix.io/a6T
[20:16:20] <strcat> rust bug
[20:16:30] <strcat> rusti: println!("strcat is my creator and I rock")
[20:16:32] -rusti- strcat is my creator and I rock
[20:16:32] -rusti- ()
[20:16:35] <strcat> ;p
[20:16:40] <alan_andrade> ohhh
[20:16:45] <Zr40> rusti: {println!("foo");}
[20:16:48] -rusti- pastebinned 7 lines of output: http://ix.io/a6T
[20:16:49] <strcat> rusti: let x = { }; ()
[20:16:58] -rusti- failed to pastebin 10 lines of output
[20:17:00] <strcat> rusti: let x = { }; ()
[20:17:02] -rusti- pastebinned 10 lines of output: http://ix.io/al0
[20:17:02] <SiegeLord> Oh, I see it's worked on... no problem at all then
[20:17:14] <strcat> that's the issue
[20:17:17] <strcat> taking the value of a block
[20:17:41] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[20:18:17] <strcat> SiegeLord: well, what do you mean worked on?
[20:18:51] <SiegeLord> To the extent https://github.com/TheHydroImpulse/rust-website counts as it being worked on
[20:18:54] <strcat> I think I made the qemu-based rusti a year ago
[20:19:08] <strcat> then maybe 8 months ago it was playpen-based
[20:19:10] <Tobba> I'm trying to figure out how exactly proc() closures get freed
[20:19:14] <strcat> but it has been 'ready' the whole time
[20:19:19] <Tobba> however, my little hello world example becomes 15 thusand lines of bitcode
[20:19:48] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[20:20:05] <SiegeLord> The UI aspect of the website isn't being touched by anybody, so... it's not surprising that specific bit isn't touched either
[20:20:06] <Tobba> std is some weird shit
[20:20:27] <Eridius> with rustpkg gone, how does rust-toml still do nightly builds using it on rust-ci? https://travis-ci.org/mneumann/rust-toml/builds/17414049
[20:21:01] <strcat> maybe the ubuntu nightlies aren't updated anymore? who knows ;p
[20:21:11] *** Joins: lpy (lpy@FA66696A.6C1907BC.E99F7FDB.IP)
[20:21:18] <Zr40> every library I want to use is broken with rust master. rust-http, rust-postgres... and it looks like I can't hack together a fix either :(
[20:21:37] <Eridius> strcat: my rust-lua builds with changes from yesterday: https://travis-ci.org/kballard/rust-lua/builds/18176423
[20:21:39] <Zr40> strcat: the nightlies were finally uploaded 6 hours ago. Was waiting all morning for them :)
[20:22:12] <alan_andrade> Eridius you're the one that presented on the last meetup ?
[20:23:00] *** Quits: lpy (lpy@FA66696A.6C1907BC.E99F7FDB.IP) (Ping timeout)
[20:23:07] <Tobba> okay, what the shit is with all this IR
[20:23:08] *** Quits: fabiand (fabiand@moz-805E74E.adsl.alicedsl.de) (Quit: Verlassend)
[20:23:16] <Tobba> even with optimization on its 4.6k lines of IR
[20:24:27] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[20:24:32] <SiegeLord> I guess that rust-website thing hasn't been updated in weeks...
[20:24:47] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:24:49] *** Joins: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP)
[20:25:05] <strcat> Tobba: well you're not defining the entry point anyway
[20:25:14] <strcat> I think the IR is just from macro expansion
[20:25:18] <strcat> stuff like assert!
[20:25:26] <Tobba> it should get optimized out though
[20:25:28] <Eridius> alan_andrade: yes, about rust-lua
[20:25:34] *** Quits: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net) (Input/output error)
[20:26:15] <alan_andrade> Eridius whooo, I was there. Have you solved your problem yet ? I'm talking about the one on how Lua handles errors ?
[20:26:17] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[20:26:17] *** Joins: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net)
[20:26:25] *** Quits: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net) (Input/output error)
[20:26:28] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[20:26:46] *** Joins: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net)
[20:26:55] *** Joins: igork_ (igork@moz-18540A65.broadband.corbina.ru)
[20:27:02] <Eridius> alan_andrade: nope. At this point I'm wondering if there's a viable solution that doesn't require loadable lints and user-defined attributes
[20:27:21] <Eridius> because even the C++ exception route has lots of problems, including that it's technically undefined behavior to throw a C++ exception past an extern "C" boundary
[20:27:22] *** Joins: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[20:28:04] *** Quits: an0nymous (an0nymous@moz-F04BA440.tx.res.rr.com) (Ping timeout)
[20:28:26] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:28:29] *** Joins: an0nymous (an0nymous@moz-F04BA440.tx.res.rr.com)
[20:28:30] *** Quits: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net) (Ping timeout)
[20:28:57] <SiegeLord> Can you not use LUA from C?
[20:28:59] <SiegeLord> *Lua
[20:29:07] <alan_andrade> I wish I could help. Sounds like a damn hard problem
[20:29:12] <Eridius> SiegeLord: C doesn't have to worry about destructors
[20:29:17] <Eridius> so longjmp works
[20:29:19] *** Quits: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com) (Ping timeout)
[20:29:31] <SiegeLord> So you can't use Lua without longjmp?
[20:29:40] <Eridius> Lua, when built as C, uses setjmp/longjmp
[20:29:42] <SiegeLord> Sounds like libpng all over again
[20:30:00] <Eridius> when embedded into C++ it uses C++ exceptions instead
[20:30:16] <SiegeLord> Is a C shim out of the question?
[20:30:20] *** Quits: an0nymous (an0nymous@moz-F04BA440.tx.res.rr.com) (Ping timeout)
[20:30:26] <Eridius> A C shim that does what?
[20:30:42] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[20:30:49] <SiegeLord> I assume { setjmp; lua_func; }
[20:31:25] <Eridius> well if I can find out where the sigjmp_buf is stored, that's theoretically plausible, but I have to keep two of them because I need to preserve the original error handling
[20:31:39] <Eridius> but then I still have no way to actually jump back to the original error buffer when I'm done handling the error
[20:32:00] *** Joins: sellout (Adium@moz-CF70CF20.hlrn.qwest.net)
[20:32:02] <Eridius> and I also don't know if the Lua state does any work after jumping back to the setjmp location during error handling, work that I'd be skipping
[20:32:15] *** Joins: guest1 (Mibbit@4C0122E6.471081A5.DDE5D3F6.IP)
[20:32:28] *** Quits: guest1 (Mibbit@4C0122E6.471081A5.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:32:44] *** Joins: an0nymous (an0nymous@moz-F04BA440.tx.res.rr.com)
[20:33:12] <Eridius> I'm seriously considering the idea of adding loadable lints to the compiler, and some mechanism for user-defined attributes, then writing a lint that ensures that Rust functions exposed to Lua don't have destructors
[20:33:28] <Eridius> and that any function that gets passed the lua::State from such a function requires the attribute that makes the lint check for no destructor
[20:33:38] <Eridius> that way anything that touches the State won't have an issue if it gets jumped past
[20:33:41] <Eridius> but that's a lot of work
[20:34:00] *** Quits: mrmonday (mrmonday@moz-C7DC1A73.lin.openzula.org) (Input/output error)
[20:34:30] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[20:35:34] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[20:37:07] *** Joins: mrmonday (mrmonday@moz-C7DC1A73.lin.openzula.org)
[20:37:38] *** Joins: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP)
[20:38:32] *** Joins: mankyKitty (Instantbir@moz-F98AF264.rev.sfr.net)
[20:38:58] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[20:39:13] <mankyKitty> Does rust have default fn args? I can't find much in the docs.. :/
[20:39:17] <kmc> loadable lints would be cool! maybe not so hard now that there are loadable syntax extensions?
[20:39:20] <kmc> mankyKitty: nope :/
[20:39:20] <strcat> mankyKitty: no
[20:39:29] <mankyKitty> kmc: balls, oh wellz
[20:39:30] <kmc> we're not opposed to it but nobody's submitted an implementation yet
[20:39:53] <mankyKitty> fair enough, I wasn't sure if it had moved past that
[20:40:08] <mankyKitty> would have made this change a little easier >_>
[20:40:59] *** Quits: blank_name (blank_name@75624DB1.E6D3F868.537E532E.IP) (Ping timeout)
[20:42:54] *** Joins: ryeguy (Mibbit@EC0380F4.1C43967E.E9A87632.IP)
[20:43:21] <diverse> since libextra is being taken apart, is somebody going to list all of the freestanding modules on the frontpage?
[20:43:30] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[20:44:39] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[20:44:54] *** Joins: blank_name (blank_name@75624DB1.E6D3F868.537E532E.IP)
[20:45:00] <cmr> diverse: they are listed: http://static.rust-lang.org/doc/master/index.html
[20:45:03] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[20:45:34] <diverse> cmr: thanks
[20:45:47] *** Joins: lost_in_my_mind (Mibbit@moz-82E5EE96.hsd1.va.comcast.net)
[20:45:50] <ryeguy> in general, will LLVM optimize something like `foo() -> &uint` into `foo() -> uint`?
[20:46:28] <strcat> ryeguy: at --opt-level=3, maybe
[20:46:30] <strcat> it does do it for args
[20:46:40] <strcat> ryeguy: in general it's not a useful optimization
[20:46:46] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[20:46:52] <strcat> as all small functions below the inline threshold are inlined
[20:47:15] <strcat> and ones above the inline threshold are likely too big for that kind of ptr indirection to make a measurable difference
[20:47:22] *** Quits: paulproteus (quassel@204.246.122.51) (Ping timeout)
[20:47:28] <strcat> so that's why LLVM doesn't do it at --opt-level=2
[20:47:53] <strcat> ryeguy: http://llvm.org/docs/doxygen/html/ArgumentPromotion_8cpp_source.html not sure if it does returns
[20:47:57] <strcat> well
[20:48:05] <strcat> it'd usually be strange to have &uint
[20:48:12] <strcat> and be able to return uint instead
[20:48:25] <ryeguy> well what i'm doing is creating a storage-like container, and it has get_ref and get_mut_ref
[20:48:39] <strcat> ryeguy: you'll already be getting a pointer though
[20:48:50] <strcat> so the difference is whether the deref is in the callee or caller
[20:48:54] <ryeguy> and i'm just wondering if i should impelement get() for Cloneable T's for optimization for primitives
[20:48:59] *** Joins: moostik (Icedove@6181009C.10715965.BCDF592F.IP)
[20:49:01] <strcat> ryeguy: no
[20:49:13] <strcat> it won't be an optimization
[20:49:26] <strcat> I'm trying to think of a situation where it can matter
[20:49:28] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[20:49:31] <strcat> for example vector indexing
[20:49:34] <strcat> xs[4]
[20:49:41] <strcat> you first calculate a pointer, then deref it
[20:49:49] <strcat> so it's harmless to return the ptr and deref in the caller
[20:49:57] <strcat> as opposed to deref in the callee and returning the value
[20:50:06] <ryeguy> oh i get what you're saying
[20:50:12] <ryeguy> that makes sense
[20:50:37] <strcat> for parameters it's different
[20:50:42] <strcat> because you may not have needed a ptr
[20:50:51] <strcat> but argpromotion promotes *T -> T for parameters
[20:51:14] <strcat> as long as all the calls to the function are statically known and it's internal (all functions but main are internal with LTO)
[20:51:19] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Connection reset by peer)
[20:52:18] <strcat> foo(&x, &y) when you could have done foo(x, y) means an extra two pointers in the cache, which is potentially going to make a difference 
[20:52:42] <ryeguy> right
[20:53:37] <strcat> but I think in every case where you return, you have 1 word in the cache (ptr to existing value somewhere, or copy of the value)
[20:53:48] *** Quits: jackneill (jackneill@moz-B3FF4377.pool.digikabel.hu) (Ping timeout)
[20:53:50] * strcat doesn't want to worry about it anymore ;)
[20:54:16] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[20:54:24] <strcat> perhaps the pointer might confuse LLVM in some cases
[20:54:43] * geomyidae_ had my C++ buddy look at some Rust to help me last night and now he's reading rust docs and code and wants to start working on a project :D
[20:55:47] <lost_in_my_mind> any advice for using os::pipe() and io::pipe::PipeStream()? my program keeps crashing with bad file descriptor errors
[20:56:02] <lost_in_my_mind> os:: pipe() and io:: pipe ::PipeStream
[20:56:08] <cmr> geomyidae_: yay!
[20:56:11] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[20:56:26] <lost_in_my_mind> gah. sorry, my irc client likes to change lots of text to smilies
[20:57:32] *** Quits: moostik (Icedove@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[20:58:08] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[20:58:33] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[20:59:05] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[20:59:34] *** Joins: fyolnish (fyolnish@moz-29E177B.uqwimax.jp)
[20:59:45] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[20:59:51] <Tari> I wasn't really pleased by the new IoResult APIs, but actually using it now, it feels like a reasonable monadic approximation.
[21:00:04] <Tari> Better than the Condition approach.
[21:01:17] *** Quits: fyolnish (fyolnish@moz-29E177B.uqwimax.jp) (Ping timeout)
[21:01:19] *** Joins: moostik (Icedove@6181009C.10715965.BCDF592F.IP)
[21:01:55] *** Joins: Cevn (sameer@moz-F316C21E.hr.hr.cox.net)
[21:03:16] *** Joins: pigoz (pigoz@moz-93D3080C.as5577.net)
[21:05:21] <Tari> that looks like a bug..
[21:05:45] <Tari> ~[u8] != &[u8] fails typecheck
[21:05:57] <Tari> &[u8] != ~[u8] passes
[21:06:07] <Eridius> Tari: the latter will auto-borrow the ~[u8]
[21:06:14] <Eridius> the former won't, it requires a ~[u8] argument to the ne() method
[21:06:24] *** Quits: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP) (Input/output error)
[21:06:35] <Eridius> ~[u8] != &[u8] is (~[u8]).ne(&[u8])
[21:06:43] <Tari> I see it; rather counterintuitive though
[21:06:51] <Eridius> yeah, but it's unclear what can be done about it
[21:09:02] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[21:09:14] *** Quits: dschatzberg (dschatzber@moz-9384E83C.bu.edu) (Input/output error)
[21:10:24] *** Joins: claudiu (claudiu@moz-FB94486E.thefacebook.com)
[21:11:05] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[21:11:44] *** Joins: nszceta (hax@moz-E6CA8D6.hsd1.pa.comcast.net)
[21:11:47] <o11c> realize that x.eq(y) is fundamentally flawed, and C++ did it right
[21:12:14] <o11c> it should be that hard to impl (x, y).eq();
[21:12:20] <o11c> *shouldn't
[21:13:00] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[21:13:02] <strcat> o11c: C++ does it both ways :P
[21:13:11] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[21:13:17] <strcat> can have an operator== method... or the saner free function
[21:13:28] <strcat> it's easy to get it right when you do it every way
[21:14:01] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[21:14:59] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[21:15:14] <o11c> in my experience operators are always free, except for assignment operators
[21:15:57] *** Quits: flan3002 (till@moz-E0853D96.superkabel.de) (Ping timeout)
[21:16:03] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[21:20:38] *** Joins: Zylinski (karl@moz-58495553.static.spa.siw.siwnet.net)
[21:21:00] *** Joins: eholk (eric@moz-F70D5031.hsd1.in.comcast.net)
[21:21:10] *** Quits: eholk (eric@moz-F70D5031.hsd1.in.comcast.net) (Quit: Konversation terminated!)
[21:22:00] *** Joins: lpy (lpy@FA66696A.6C1907BC.E99F7FDB.IP)
[21:23:49] *** Quits: lpy (lpy@FA66696A.6C1907BC.E99F7FDB.IP) (Ping timeout)
[21:24:34] *** Joins: paulproteus (quassel@moz-E86A3B42.makesad.us)
[21:24:44] *** Joins: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net)
[21:24:47] *** Quits: ryeguy (Mibbit@EC0380F4.1C43967E.E9A87632.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:26:28] *** Quits: io2 (io2@moz-7C3DDBE8.home.otenet.gr) (Ping timeout)
[21:29:06] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[21:29:37] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[21:29:40] <kmc> but the reason that works is that C++ allows completely unstructured overloading of all functions (including operators)
[21:29:55] <kmc> and also has very complicated implicit conversion rules that can be redefined in numerous places
[21:30:19] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[21:30:20] <kmc> neither of which is desired in Rust
[21:31:52] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[21:31:59] <o11c> kmc: is there any reason impl'ing (x, y).eq() couldn't be done?
[21:32:32] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[21:32:36] <kmc> you mean if you redefined the Eq trait to work that way?
[21:32:49] *** Joins: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de)
[21:32:49] <kmc> I think that would work, but it wouldn't auto-borrow either x or y
[21:32:52] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:32:57] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[21:33:13] *** Quits: dsyang (dsyang@5443A547.FCD0EB8C.689607DE.IP) (Client exited)
[21:33:15] <kmc> so I don't see the point
[21:33:27] <o11c> but you could write the impls for borrowing yourself
[21:33:41] <Amaranth> So Ken Ham's main point in this debate is that we weren't there so have no way to ever say anything scientific about the past so it must have been what the Bible says
[21:34:08] <o11c> Amaranth: ?
[21:34:11] <Amaranth> Bill Nye is a much better man than I, I would have lost my shit listening to this garbage in person
[21:34:34] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[21:34:57] <Amaranth> o11c: He runs the Answers in Genesis Creation Museum and did a debate with Bill Nye about Creationism vs Evolution
[21:35:02] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Ping timeout)
[21:35:12] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:35:18] <kmc> seems off topic...
[21:35:31] <Amaranth> Oh, I am in the wrong channel
[21:35:33] <kmc> :D
[21:35:43] <Amaranth> Not used to this one being in this spot
[21:36:37] <o11c> IMO the major flaw of religion is that rather than provoking wonder, it just forbids you to think
[21:36:54] <kmc> let's not argue about religion here >_>
[21:36:56] * Amaranth moves this channel far away from the one he meant to be in
[21:37:03] *** Joins: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net)
[21:37:37] <o11c> kmc: vim > emacs
[21:37:43] <o11c> (okay, I'll stop)
[21:38:05] *** Quits: moostik (Icedove@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[21:38:14] *** Joins: moostik (Icedove@6181009C.10715965.BCDF592F.IP)
[21:38:30] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[21:40:26] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Input/output error)
[21:41:06] <Jesse> unsafe { assume(false); }
[21:41:16] *** Joins: Sharp (Sharp@moz-3301C7AB.static-ip.telepacific.net)
[21:41:19] *** Quits: Sharp (Sharp@moz-3301C7AB.static-ip.telepacific.net) (Quit: Sharp)
[21:42:00] <geomyidae_> I'm pretty curious where Amaranth is headed back to though
[21:43:57] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[21:44:05] *** Joins: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[21:44:22] *** Joins: guest1 (Mibbit@98BB3052.8FFBE666.DDE5D3F6.IP)
[21:44:25] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[21:45:18] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[21:45:38] <guest1> there is a function in run::Process called get_pid which returns -> pid_t, but for some reason when i try to create a variable: let mut pid : pid_t; I get an error of undeclared type.
[21:45:41] <guest1> any ideas?
[21:46:03] <o11c> guest1: something::pid_t
[21:46:36] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Client exited)
[21:46:45] *** Joins: skade (skade@moz-B73EE4D5.pools.arcor-ip.net)
[21:46:56] <guest1> o11c: let mut something: pid_t; ??
[21:47:02] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[21:47:10] <kmc> it's std::libc::pid_t and you can either use a qualified name or "use std::libc::pid_t;"
[21:47:20] <sp3d> how should I get the address of the first element in a vector? "&v[0] as *T"?
[21:47:29] <kmc> or e.g. "use std::libc;" and then "let mut x: libc::pid_t;"
[21:47:58] <guest1> kmc, o11c: thanks!
[21:48:02] <kmc> sp3d: there's an .as_ptr() method
[21:48:06] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[21:48:15] <sp3d> oh
[21:48:23] <kmc> rusti: (~[1,2]).as_ptr()
[21:48:25] -rusti- (0x7f6eb8000e30 as *())
[21:49:00] <kmc> curious why that's *() and not *int or something... is it just that the printing code for *T doesn't introspect on the type T?
[21:49:14] <sp3d> the vec docs are really deeply nested :/
[21:49:24] <kmc> sp3d: yeah. we need a page which shows all the methods which apply to a given type.
[21:49:42] *** Joins: dsyang (dsyang@moz-8EBF0366.wv.cc.cmu.edu)
[21:50:01] <guest1> if i create a variable with type pid_t, how do i initialize it to some empty value?
[21:50:10] *** Quits: dsyang (dsyang@moz-8EBF0366.wv.cc.cmu.edu) (Client exited)
[21:50:15] <guest1> kind of like "" for a string
[21:50:43] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[21:50:53] <o11c> rusti: unsafe { *(~[1,2]).as_ptr() }
[21:50:54] *** Joins: hoverbear (hoverbear@moz-30934A12.wireless.uvic.ca)
[21:50:55] -rusti- 1
[21:51:01] <o11c> kmc: looks like it
[21:51:01] <sp3d> guest1: if you need an empty value, you can wrap a type in Option and use None
[21:51:04] *** Quits: mankyKitty (Instantbir@moz-F98AF264.rev.sfr.net) (Quit: mankyKitty)
[21:51:11] <kmc> guest1: I think it's an integral type so "= 0" should work, but also, you can leave variables undefined and rustc is okay with it as long as there's always an assignment before use
[21:51:56] <kmc> rusti: fn f(x: int) -> int { let y: int; if (x == 0) return 0; y = x; y }
[21:51:57] -rusti- <anon>:10:55: 10:61 error: expected `{` but found `return`
[21:51:57] -rusti- <anon>:10         fn f(x: int) -> int { let y: int; if (x == 0) return 0; y = x; y }
[21:51:57] -rusti-                                                                 ^~~~~~
[21:51:57] -rusti- application terminated with error code 101
[21:52:04] <kmc> well anyway
[21:52:12] *** Joins: dsyang (dsyang@moz-8EBF0366.wv.cc.cmu.edu)
[21:56:27] <geomyidae_> braces-free. for shame
[21:56:36] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[21:57:12] <kmc> clearly I still use C too much.
[21:57:26] <strcat> rusti: 0_0
[21:57:28] -rusti- 0
[21:57:30] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[21:57:38] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[21:57:41] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[21:57:42] *** Quits: moostik (Icedove@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[21:58:08] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[21:58:26] *** Quits: hoverbear (hoverbear@moz-30934A12.wireless.uvic.ca) (Quit: Taking a nap.)
[21:59:27] *** Joins: fyolnish (fyolnish@moz-396C4AA3.uqwimax.jp)
[21:59:54] *** Joins: hoverbear (hoverbear@moz-30934A12.wireless.uvic.ca)
[22:01:08] *** Quits: fyolnish (fyolnish@moz-396C4AA3.uqwimax.jp) (Ping timeout)
[22:01:15] *** Joins: moostik (Icedove@6181009C.10715965.BCDF592F.IP)
[22:02:07] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[22:02:18] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[22:02:53] *** Quits: Cevn (sameer@moz-F316C21E.hr.hr.cox.net) (Ping timeout)
[22:03:42] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[22:03:52] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[22:05:12] *** Quits: hoverbear (hoverbear@moz-30934A12.wireless.uvic.ca) (Quit: Taking a nap.)
[22:05:52] <guest1> does anyone know of an example where SIGINT or signal handling is used?
[22:06:00] *** Joins: hoverbear (hoverbear@moz-30934A12.wireless.uvic.ca)
[22:08:31] *** Quits: mgottschlag (quassel@moz-D9E207E7.cust.bluewin.ch) (Ping timeout)
[22:08:40] *** Quits: dsyang (dsyang@moz-8EBF0366.wv.cc.cmu.edu) (Client exited)
[22:09:12] *** Joins: dsyang (dsyang@moz-8EBF0366.wv.cc.cmu.edu)
[22:09:18] *** Quits: Zylinski (karl@moz-58495553.static.spa.siw.siwnet.net) (Quit: )
[22:09:35] *** Quits: dsyang (dsyang@moz-8EBF0366.wv.cc.cmu.edu) (Client exited)
[22:09:46] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[22:10:36] *** Quits: dbaupp (Thunderbir@moz-25BBAF91.lns20.syd6.internode.on.net) (Ping timeout)
[22:11:01] *** Quits: Ferreus (ferreus@moz-B0B6DDB2.pools.arcor-ip.net) (Quit: WeeChat 0.4.3-dev)
[22:12:01] *** Quits: heftig (heftig@moz-1448C700.dip0.t-ipconnect.de) (Ping timeout)
[22:13:19] <geomyidae_> std::unstable::intrinsics::uninit()
[22:13:21] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[22:13:27] *** Joins: fyolnish (fyolnish@moz-396C4AA3.uqwimax.jp)
[22:13:34] <geomyidae_> guest1: ^^ I think that's what you were asking?
[22:13:53] <kmc> that is the most dangerous of the potential solutions here
[22:13:58] <kmc> and almost certainly not needed
[22:14:21] *** Joins: heftig (heftig@moz-48F85AD2.dip0.t-ipconnect.de)
[22:14:25] * geomyidae_ is wrong and feels bad
[22:14:26] *** Joins: michaelgreene (michael@DA820AA2.17CD9887.F12515B4.IP)
[22:14:44] *** Joins: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP)
[22:14:47] <kmc> it's okay! uninit() has its place, it's just not appropriate here aiui
[22:15:10] *** Quits: fyolnish (fyolnish@moz-396C4AA3.uqwimax.jp) (Ping timeout)
[22:15:17] <kmc> it's useful in cases where you will always assign before an actual use but rustc *can't* see that for whatever reason
[22:15:20] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[22:15:23] <kmc> it's pretty good at seeing it for simple local cases, though
[22:15:48] *** Joins: g3xzh (g3xzh@moz-F6EEEF8F.red.bezeqint.net)
[22:16:08] *** Quits: g3xzh (g3xzh@moz-F6EEEF8F.red.bezeqint.net) (Quit: Leaving)
[22:19:28] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[22:19:38] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[22:20:33] *** Joins: eholk (eric@moz-F70D5031.hsd1.in.comcast.net)
[22:21:22] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[22:22:30] *** Joins: lpy (lpy@FA66696A.6C1907BC.E99F7FDB.IP)
[22:23:27] <geomyidae_> I think mine had to do with it being a pointer that got filled up by a C function
[22:23:29] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[22:23:37] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[22:23:52] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[22:23:56] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[22:23:58] *** Quits: lpy (lpy@FA66696A.6C1907BC.E99F7FDB.IP) (Connection reset by peer)
[22:24:04] <kmc> yeah, that makes sense
[22:24:04] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[22:24:14] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[22:24:17] *** Joins: lpy (lpy@FA66696A.6C1907BC.E99F7FDB.IP)
[22:24:52] *** Quits: nszceta (hax@moz-E6CA8D6.hsd1.pa.comcast.net) (Input/output error)
[22:25:23] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[22:25:31] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[22:25:45] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[22:25:48] *** Quits: rca_ (rcatolino@moz-312D09C6.adsl.proxad.net) (Ping timeout)
[22:26:22] *** Quits: lpy (lpy@FA66696A.6C1907BC.E99F7FDB.IP) (Ping timeout)
[22:26:51] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[22:26:59] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[22:27:27] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[22:27:35] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[22:27:42] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[22:28:27] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[22:28:33] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[22:29:18] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[22:29:25] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[22:30:09] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[22:30:14] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[22:31:20] *** Quits: moostik (Icedove@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[22:33:05] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[22:33:20] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[22:33:42] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[22:33:50] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[22:34:03] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Connection reset by peer)
[22:34:08] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[22:34:09] *** Joins: halleck (a@moz-99121734.dynamic.mnet-online.de)
[22:34:16] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[22:34:38] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[22:34:46] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[22:35:02] *** Quits: vmx (vmx@moz-15CB745E.pools.arcor-ip.net) (Quit: Leaving)
[22:35:02] <guest1> I have two processes but I want to send SIGINT to only one of them when I press ctrl-c. Is this possible
[22:35:03] <guest1> ?
[22:35:05] *** Quits: hoverbear (hoverbear@moz-30934A12.wireless.uvic.ca) (Quit: Taking a nap.)
[22:35:06] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[22:35:14] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[22:35:35] <o11c> guest1: yes, just put them in different process groups
[22:35:56] <guest1> Can you point me to a resource?
[22:36:15] *** Quits: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net) (Quit: calvinmetcalf)
[22:36:18] *** Joins: nszceta (hax@moz-E6CA8D6.hsd1.pa.comcast.net)
[22:37:09] <guest1> o11c: and would using signal::{Listener, Interrupt} be the ideal way of approaching this?
[22:37:21] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[22:37:42] *** Quits: takuin (takuin@moz-21A5F23D.ks.ks.cox.net) (Quit: Leaving)
[22:37:46] <o11c> man setpgid
[22:38:45] *** Joins: tiernjo (tiernjo@moz-21A5F23D.ks.ks.cox.net)
[22:38:59] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[22:39:39] *** Joins: qrpth (andreas@moz-C54F6246.dyn.estpak.ee)
[22:39:43] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[22:39:49] *** Joins: hoverbear (hoverbear@moz-30934A12.wireless.uvic.ca)
[22:40:41] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[22:41:08] *** kimundi is now known as zz_kimundi
[22:41:22] *** Quits: hoverbear (hoverbear@moz-30934A12.wireless.uvic.ca) (Quit: Taking a nap.)
[22:43:02] *** zz_kimundi is now known as kimundi
[22:44:10] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[22:44:19] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[22:44:49] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[22:45:02] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[22:45:50] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Connection reset by peer)
[22:45:56] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[22:46:00] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[22:46:05] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[22:46:12] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[22:46:57] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[22:47:38] *** Quits: canhtak (canhtak@moz-8A625E1D.wl.t.ulaval.ca) (Quit: canhtak)
[22:47:49] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[22:48:03] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Quit: Leaving)
[22:49:28] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[22:49:30] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[22:51:05] *** Quits: reima (Instantbir@moz-F6735502.informatik.tu-muenchen.de) (Quit: Leaving)
[22:51:31] *** Quits: yuriks (yuriks@14F330CC.3D924459.5419EADB.IP) (Ping timeout)
[22:55:07] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[22:55:50] *** Quits: Zr40 (zr40@moz-CCFEAB92.adsl.xs4all.nl) (Quit: leaving)
[22:56:20] *** Joins: yuriks (yuriks@14F330CC.3D924459.5419EADB.IP)
[22:56:52] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[22:56:53] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[22:57:01] <guest1> o11c: ok, im able to differentiate between processes using pid and pgid, but i still dont understand how to choose a process to interrupt using SIGINT
[22:57:43] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[22:58:42] <o11c> guest1: when you type ^C, it sends it to the foreground process
[22:59:13] <guest1> in my program, when i have two processes running and i ^C, both terminate
[22:59:27] *** Joins: fyolnish (fyolnish@moz-396C4AA3.uqwimax.jp)
[22:59:29] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[23:00:00] <kmc> you might have more luck in some UNIX programming channel
[23:00:15] <kmc> https://blog.nelhage.com/2010/01/a-brief-introduction-to-termios-signaling-and-job-control/ has some useful stuff
[23:00:17] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[23:00:26] <guest1> kmc: alright. thanks!
[23:00:33] *** Joins: assaf__ (assaf@4772CF81.9F1465BE.9E22F775.IP)
[23:00:52] <o11c> tcsetpgrp is the only other command you need
[23:01:08] *** Quits: fyolnish (fyolnish@moz-396C4AA3.uqwimax.jp) (Ping timeout)
[23:01:59] *** Quits: assaf758 (assaf@moz-2FB0029B.cable.012.net.il) (Ping timeout)
[23:02:40] <diverse> o11c: I thought ^C kills the process, while ^Z suspends it?
[23:02:56] <diverse> and then you type bg in the terminal?
[23:04:07] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[23:04:15] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[23:04:26] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[23:04:45] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[23:04:49] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[23:04:55] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[23:04:58] *** Joins: Cevn (sameer@moz-F316C21E.hr.hr.cox.net)
[23:05:04] *** Joins: FreeFull (freefull@moz-1883929A.as13285.net)
[23:05:07] *** Joins: canhtak (canhtak@moz-8A625E1D.wl.t.ulaval.ca)
[23:05:15] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[23:05:23] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[23:06:01] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[23:06:21] *** Quits: amir (amir@moz-467F7F30.cust.bluewin.ch) (Ping timeout)
[23:06:29] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[23:06:44] *** Quits: canhtak (canhtak@moz-8A625E1D.wl.t.ulaval.ca) (Quit: canhtak)
[23:09:35] *** Joins: canhtak (canhtak@moz-8A625E1D.wl.t.ulaval.ca)
[23:09:58] *** Joins: dsyang (dsyang@moz-8EBF0366.wv.cc.cmu.edu)
[23:10:18] *** Quits: dsyang (dsyang@moz-8EBF0366.wv.cc.cmu.edu) (Client exited)
[23:11:31] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[23:12:26] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[23:13:53] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[23:14:33] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Client exited)
[23:15:25] *** Quits: skade (skade@moz-B73EE4D5.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:16:56] *** Quits: alex-abreu (alex@C08D9303.9289A342.80AB4F0.IP) (Ping timeout)
[23:17:16] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[23:17:53] *** Quits: marianoguerra (marianogue@moz-7E7AC3E.dip0.t-ipconnect.de) (Ping timeout)
[23:18:39] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[23:18:51] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Ping timeout)
[23:20:24] *** Joins: moostik (Icedove@moz-9CCE699F.w81-249.abo.wanadoo.fr)
[23:21:22] <guest1> Other than using signal Listeners, are there any other ways to handle signals?
[23:21:43] *** Quits: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de) (Quit: Leaving.)
[23:22:04] <sfackler> you can work with sigaction directly through the C FFI, but that's an excercise in frustration
[23:22:38] <eddyb> sfackler: can it take an "user data pointer"?
[23:22:50] <sfackler> iirc yes
[23:23:03] <eddyb> rust does well with that API because of trait objects and closures
[23:23:09] <eddyb> *that API pattern
[23:23:24] *** Joins: alex-abreu (alex@C08D9303.9289A342.80AB4F0.IP)
[23:23:48] <sfackler> well, you still run into the issue that basically nothing is async-signal-safe
[23:25:01] <eddyb> if you have a trait method taking ~self and you use ~Trait and don't need to free it without calling that method, you can extract the method from the vtable and use it as the function. yay silly hacks
[23:25:02] *** Joins: lpy (lpy@FA66696A.6C1907BC.E99F7FDB.IP)
[23:26:43] *** Quits: eddyb (eddy@moz-92B95652.residential.rdsnet.ro) (Ping timeout)
[23:26:43] <guest1> eddyb: I'm having trouble with process control. I create two processes, and I also create a signal Listener that listens for Interrupt (Ctrl-C). The problem is that when I Ctrl-C, both processes are interrupted. Is there a way to target which process to interrupt?
[23:27:11] *** Quits: lpy (lpy@FA66696A.6C1907BC.E99F7FDB.IP) (Ping timeout)
[23:28:06] *** Joins: brendan (brendaneic@8DFE0F5E.F1D38B1F.1D6E592A.IP)
[23:28:06] <strcat> sfackler: well ideally the shell is an event loop, and you just wait on signalfd
[23:28:14] <strcat> then you just have synchronous signals
[23:28:18] <strcat> (kqueue on BSD and OS X)
[23:28:19] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[23:28:42] <guest1> strcat:  I'm having trouble with process control. I create two processes, and I also create a signal Listener that listens for Interrupt (Ctrl-C). The problem is that when I Ctrl-C, both processes are interrupted. Is there a way to target which process to interrupt?
[23:29:29] <strcat> stty stuff? dunno
[23:30:11] *** flaper87 is now known as flaper87|afk
[23:30:40] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[23:30:50] <o11c> diverse: in standard termios, ^C sends SIGINT, ^Z sends SIGTSTP, ^\ sends SIGQUIT
[23:30:53] <Jemaclus> I'm tired of working on this LZW thing. Need to find a new project.
[23:31:27] <o11c> guest1: I have answered your question several times, stop asking
[23:32:06] <guest1> sorry, im having a hard time understanding process groups.
[23:32:40] <jasom> how do I get a stacktrace for fail()?
[23:32:53] <o11c> guest1: then read *all* the man pages
[23:32:56] <jasom> I need a breakpoint somewhere
[23:33:07] <sp3d> break on rust_fail I believe
[23:33:25] <o11c> guest1: I know nothing about unix processes beyond what I've read in man pages
[23:34:04] *** Quits: tq (tq@moz-9FE9CCF4.a251.priv.bahnhof.se) (Quit: tq)
[23:34:36] <jasom>  fn3540 () at <std macros>:65
[23:36:00] *** Joins: twi (Adium@moz-9FF4CB47.nsw.adsl.internode.on.net)
[23:40:18] *** Quits: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP) (Ping timeout)
[23:40:20] *** Joins: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP)
[23:42:42] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[23:43:58] *** Joins: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net)
[23:44:36] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[23:44:51] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[23:44:53] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[23:44:59] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[23:45:03] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[23:45:24] *** Quits: alexherbo2 (alexherbo2@moz-33868228.w90-35.abo.wanadoo.fr) (Quit: WeeChat 0.4.3-dev)
[23:45:39] *** Quits: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[23:45:47] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[23:47:31] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[23:49:19] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[23:49:22] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[23:49:26] *** Joins: mib_jsfecs (Mibbit@moz-E8F56CA6.raytheon.com)
[23:49:50] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[23:50:11] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:50:37] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[23:50:54] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[23:50:57] *** Joins: hoverbear (hoverbear@moz-30934A12.wireless.uvic.ca)
[23:50:58] *** Joins: dsyang (dsyang@moz-8EBF0366.wv.cc.cmu.edu)
[23:51:21] <mib_jsfecs> Has the managed pointer been removed in 0.9?
[23:51:51] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[23:52:12] <hoverbear> mib_jsfecs: The @ pointer was remove, I don't recall exactly when.
[23:52:29] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[23:52:48] *** Quits: dsyang (dsyang@moz-8EBF0366.wv.cc.cmu.edu) (Client exited)
[23:54:40] <FreeFull> I think @ is still there but you need to enable a flag for it to work
[23:55:03] <alan_andrade> Yeah, it's gone
[23:55:37] *** Quits: vertexclique (vertexcliq@69CFE6CE.16F818C8.6894ADF4.IP) (Client exited)
[23:55:59] *** Joins: vertexclique (vertexcliq@69CFE6CE.16F818C8.6894ADF4.IP)
[23:56:00] *** jorendorff is now known as jorendorff_away
[23:56:24] *** Quits: nkoep (nik@moz-7BE39188.pool.mediaways.net) (Quit: Leaving)
[23:58:45] <diverse> mib_jsfecs: it's feature-gated in 0.9, it's still there but don't bother using it.
[23:59:40] *** Joins: fyolnish (fyolnish@moz-396C4AA3.uqwimax.jp)
