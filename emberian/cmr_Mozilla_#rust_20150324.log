[00:00:03] *** Quits: Boscop (me@moz-ur58hp.vpn.uni-saarland.de) (Ping timeout: 121 seconds)
[00:00:09] *** Joins: dawehner (quassel@moz-6aq1ua.hsi7.kabel-badenwuerttemberg.de)
[00:00:17] *** Quits: kazimuth (james@moz-gne.8or.17.73.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:00:20] *** Joins: Boscop (me@moz-ur58hp.vpn.uni-saarland.de)
[00:00:57] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[00:01:44] *** Joins: kmcguire (kmcguire@moz-uqq.d7l.207.68.IP)
[00:02:20] *** Quits: polyfractal (polyfractal@moz-t33ucv.dc.cox.net) (Ping timeout: 121 seconds)
[00:02:48] *** Quits: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk) (Ping timeout: 121 seconds)
[00:02:57] *** Joins: v21 (vee@moz-sa3oki.asianet.co.th)
[00:03:27] *** Quits: coxg (sazzer@moz-1hq.kh5.32.217.IP) (Ping timeout: 121 seconds)
[00:03:36] *** Joins: tamird_ (textual@moz-96rlhj.dynamic.fusionbroadband.com)
[00:04:22] *** Quits: dawehner (quassel@moz-6aq1ua.hsi7.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[00:04:25] *** Quits: Boscop (me@moz-ur58hp.vpn.uni-saarland.de) (Ping timeout: 121 seconds)
[00:04:37] *** Joins: Boscop (me@moz-ur58hp.vpn.uni-saarland.de)
[00:05:48] *** Quits: tamird (textual@moz-b1g.crj.56.172.IP) (Ping timeout: 121 seconds)
[00:05:52] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[00:08:18] <ebfull> this may be the intended behavior, but the Borrow trait kinda messes my intuition up during dispatch
[00:08:20] <ebfull> http://is.gd/s7BsYa
[00:08:25] *** Quits: tamird_ (textual@moz-96rlhj.dynamic.fusionbroadband.com) (Ping timeout: 121 seconds)
[00:08:27] <ebfull> is this the behavior forever?
[00:08:46] *** Quits: Boscop (me@moz-ur58hp.vpn.uni-saarland.de) (Ping timeout: 121 seconds)
[00:08:46] <ebfull> or any cool autoref stuff happening?
[00:09:07] <ebfull> wait wat, oops
[00:09:10] <enjolras> what do you mean ?
[00:09:12] <enjolras> it's an option
[00:09:13] *** Joins: ril (ril@moz-p7jr3k.ca.comcast.net)
[00:09:13] <ebfull> ignore that example.
[00:09:15] <ebfull> sorry
[00:09:16] <ebfull> i have a better one
[00:09:55] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Ping timeout: 121 seconds)
[00:10:53] *** Quits: GGist (Mibbit@moz-6kgtem.seattleu.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[00:11:01] *** Joins: tamird (textual@moz-96rlhj.dynamic.fusionbroadband.com)
[00:11:19] *** Quits: Nextra (Nextra@moz-luk7gb.osnanet.de) (Ping timeout: 121 seconds)
[00:11:29] *** Joins: Nextra (Nextra@moz-luk7gb.osnanet.de)
[00:12:36] <ebfull> this is what i meant
[00:12:37] <ebfull> http://is.gd/UvXfH6
[00:13:32] <bluss> that doens't compile unfortunately
[00:13:36] <bluss> is that the problem?
[00:13:42] <ebfull> yea
[00:13:49] *** Quits: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de) (Connection closed)
[00:13:53] <ebfull> it doesn't coerce when it's doing dispatch sometimes
[00:14:11] <ebfull> it comes up somewhere in the standard library too
[00:14:36] <talchas> yeah, there is no autoderef except on the lhs of .
[00:14:48] <bluss> talchas: deref coercions are new though
[00:14:53] <talchas> (mostly)
[00:15:40] <bluss> playbot: let s = "hi".to_string(); let t: &str = &s; print!("{}", t);
[00:15:42] -playbot- hi()
[00:16:02] <ebfull> i'm expecting it to realize String impl Borrow<str>, then borrow and select the impl for IsAString
[00:16:03] <talchas> yeah, that's true
[00:16:09] <ebfull> but it's trying to select with &String instead
[00:16:17] <bluss> ebfull: the Borrow trait is not involved
[00:16:19] <talchas> and it's that it doesn't do it into a trait bound that would take &str
[00:16:26] <bluss> ebfull: Deref is the magic one
[00:16:50] <ebfull> wait wut
[00:17:10] <ebfull> i thought &String would coerce to str because it impl Borrow<str>
[00:17:15] <ebfull> versus doing a * on a String
[00:17:19] <ebfull> which would Deref
[00:17:29] <scott> &String will coerce to &str because String: Deref<Target=str>
[00:17:35] *** Joins: Boscop (me@moz-ur58hp.vpn.uni-saarland.de)
[00:17:36] *** Joins: chmanche_ (chmancheste@moz-u3dg2t.sfo1.mozilla.com)
[00:17:41] <bluss> The Borrow trait is just a regular library trait without special magic
[00:17:41] *** Quits: chmanche_ (chmancheste@moz-u3dg2t.sfo1.mozilla.com) (Connection closed)
[00:18:00] *** Quits: Slava_I (slava@moz-b6l.4nt.215.95.IP) (Ping timeout: 121 seconds)
[00:18:11] <ebfull> is the borrow trait supposed to be used like fn foo(a: Borrow<str>)
[00:18:16] <ebfull> lol cuz if so i'm dumb
[00:18:28] <ebfull> i thought it was used for coersions
[00:18:58] *** Joins: dfinning_ (dfinninger@moz-6a9v7n.res.rr.com)
[00:19:09] <bluss> you seem to have the right idea about the wrong trait
[00:19:48] *** Quits: tamird (textual@moz-96rlhj.dynamic.fusionbroadband.com) (Ping timeout: 121 seconds)
[00:20:00] <ebfull> yea i thought &String coercing to &str was becuase they added the Borrow trait
[00:20:07] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Ping timeout: 121 seconds)
[00:20:07] <ebfull> i had no idea it was because they impl'd Deref on &String
[00:20:14] *** Joins: Guest__ (textual@moz-18t.4i4.229.203.IP)
[00:20:20] *** Quits: chmanchester (Chris@moz-a9mb45.2rkg.9kg1.0101.2620.IP) (Ping timeout: 121 seconds)
[00:20:21] *** Quits: Romster (Romster@moz-4g83e8.rev.eftel.com) (Ping timeout: 121 seconds)
[00:20:35] <bluss> and because eddyb implemented deref coercions after Deref was added
[00:21:01] <bluss> anyway, do we know if inference will improve in your example (and make it compile)?
[00:21:33] *** Joins: Romster (Romster@moz-4g83e8.rev.eftel.com)
[00:21:42] *** Quits: Boscop (me@moz-ur58hp.vpn.uni-saarland.de) (Ping timeout: 121 seconds)
[00:21:47] <enjolras> i'm a bit late
[00:21:49] <enjolras> but  http://is.gd/OG8AyS
[00:22:01] <enjolras> i think it's closer to what you want
[00:22:20] *** Joins: Boscop (me@moz-ur58hp.vpn.uni-saarland.de)
[00:22:24] *** Joins: tamird (textual@moz-96rlhj.dynamic.fusionbroadband.com)
[00:22:38] <ebfull> ya i figure there's a way to get it to work
[00:22:41] *** Joins: dougxxx (dougxxx@moz-0js00c.iinet.net.au)
[00:22:43] <ebfull> but the standard library has traits like this
[00:22:47] <enjolras> ok, yeah, i'm really late, it has already been answered :)
[00:22:47] <ebfull> and they run into this problem
[00:23:29] *** Quits: belak (belak@moz-spf415.static.wiline.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:23:33] <enjolras> Deref is weird sometimes
[00:23:47] *** Quits: dfinning_ (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[00:23:51] <enjolras> it can be quite weird ith lock guards and mutability for instance
[00:24:59] *** Joins: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp)
[00:25:13] *** Quits: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp) (A TLS packet with unexpected length was received.)
[00:26:56] *** Quits: Boscop (me@moz-ur58hp.vpn.uni-saarland.de) (Ping timeout: 121 seconds)
[00:26:57] *** Quits: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net) (Client exited)
[00:27:28] *** Quits: omissis (omissis@moz-9a7.eon.91.95.IP) (Client exited)
[00:29:07] *** Quits: tamird (textual@moz-96rlhj.dynamic.fusionbroadband.com) (Ping timeout: 121 seconds)
[00:29:24] *** Joins: qrlpx_ (smuxi@moz-af6paf.dip0.t-ipconnect.de)
[00:29:25] *** Quits: qrlpx (smuxi@moz-naco0g.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[00:29:34] *** Joins: Boscop (me@moz-ur58hp.vpn.uni-saarland.de)
[00:29:36] *** Quits: azita (Azita@moz-cfhap5.mtv2.mozilla.com) (Client exited)
[00:30:15] *** Joins: tamird (textual@moz-96rlhj.dynamic.fusionbroadband.com)
[00:31:32] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[00:31:32] *** Joins: mib_oon7oi (Mibbit@moz-nd2iqs.fl.atlanticbb.net)
[00:31:55] *** Quits: mnemnion (mnemnion@moz-e8rfii.ca.comcast.net) (Connection closed)
[00:31:57] <ebfull> i guess the good news is that they're adding stuff like From and As
[00:32:15] <ebfull> so they could use the impl trick enjolras just posted or something else to generically support it
[00:32:16] *** Joins: mnemnion (mnemnion@moz-e8rfii.ca.comcast.net)
[00:32:18] *** nsm is now known as nsm|away
[00:32:32] *** Quits: mnemnion (mnemnion@moz-e8rfii.ca.comcast.net) (Connection closed)
[00:32:51] *** Joins: mnemnion (mnemnion@moz-e8rfii.ca.comcast.net)
[00:33:43] *** Quits: Boscop (me@moz-ur58hp.vpn.uni-saarland.de) (Ping timeout: 121 seconds)
[00:33:48] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[00:33:52] *** Quits: moa (Cedric@moz-quu9i9.enlightenment.org) (Ping timeout: 121 seconds)
[00:34:57] *** Quits: tamird (textual@moz-96rlhj.dynamic.fusionbroadband.com) (Ping timeout: 121 seconds)
[00:35:08] <Ilari> Is the current plan to remove memory mapping functions with no replacement, or is some sort of replacement planned?
[00:35:26] <sinistersnare> pretty sure mmap still exists?
[00:36:00] *** Quits: Savago (Savago@moz-8hd.3b6.246.162.IP) (Client exited)
[00:36:13] *** Joins: tamird (textual@moz-96rlhj.dynamic.fusionbroadband.com)
[00:36:26] <Ilari> sinistersnare: MemoryMap exists but is deprecated, and there is seemingly no replacement.
[00:36:31] <steveklabnik> Ilari: http://www.reddit.com/r/rust/comments/300ehm/what_should_be_used_instead_of_deprecated/ <-
[00:36:36] *** Quits: frecel (quassel@moz-qme.p1t.254.162.IP) (Ping timeout: 121 seconds)
[00:36:54] *** Joins: palodequeso (quassel@moz-8afrdq.dhcp.embarqhsd.net)
[00:37:29] *** Joins: infynyxx (infynyxx@moz-85e.umq.196.73.IP)
[00:38:07] *** Quits: meteredsection- (meteredsect@moz-3l4.eb4.227.173.IP) (Quit: leaving)
[00:38:08] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[00:38:09] <sinistersnare> im not saying MemoryMap, im saying mmap
[00:38:17] *** Quits: v21 (vee@moz-sa3oki.asianet.co.th) (Ping timeout: 121 seconds)
[00:38:50] <sinistersnare> cant find it in docs, guess it doesnt exist QQ dont follow tree anymore 
[00:39:03] *** Quits: adjivas (adjivas@moz-1vk.lpf.210.62.IP) (Connection closed)
[00:39:12] *** Quits: Guest__ (textual@moz-18t.4i4.229.203.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:39:18] * Ilari adds writing C routine doing mmap() on file to todo list...
[00:39:38] *** Joins: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net)
[00:39:52] <Ilari> At least this isn't one of those absolutely unworkaroundable things.
[00:39:59] *** Joins: frecel (quassel@moz-qme.p1t.254.162.IP)
[00:40:11] *** Joins: chmanchester (Chris@moz-a9mb45.2rkg.9kg1.0101.2620.IP)
[00:40:37] *** Quits: cesar (cesar@moz-995f02.us.xo.net) (Connection closed)
[00:40:40] *** Joins: Selemur (chatzilla@moz-tpgfbn.kawo1.rwth-aachen.de)
[00:41:07] *** Quits: nil (nil@moz-97nem0.fl.comcast.net) (Quit: Leaving)
[00:41:11] *** Quits: areski (areski@moz-tijh72.user.ono.com) (Ping timeout: 121 seconds)
[00:41:20] *** Quits: toqueteos (toqueteos@moz-plqtsp.staticIP.rima-tde.net) (Quit: Nettalk6 - www.ntalk.de)
[00:41:23] *** Quits: claudiu (claudiu@moz-9i9meo.7dgi.09sg.010d.2620.IP) (Ping timeout: 121 seconds)
[00:41:31] *** Quits: infynyxx (infynyxx@moz-85e.umq.196.73.IP) (Ping timeout: 121 seconds)
[00:42:03] *** Quits: jimb (user@moz-09a.i8g.126.207.IP) (Ping timeout: 121 seconds)
[00:42:10] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[00:42:19] *** Joins: nr152522_ (nr152522@moz-d5te1r.cust.relish.net)
[00:42:37] *** Quits: nr152522 (nr152522@moz-ro0hkt.cust.relish.net) (Ping timeout: 121 seconds)
[00:42:37] *** nr152522_ is now known as nr152522
[00:44:21] *** Quits: zmack (zmack@moz-4b0.o8l.26.188.IP) (Connection closed)
[00:45:12] *** Quits: tamird (textual@moz-96rlhj.dynamic.fusionbroadband.com) (Ping timeout: 121 seconds)
[00:45:55] <Dr-Emann> I'm expecting someone to put something for it on crates.io soon.
[00:46:04] *** Joins: tamird (textual@moz-96rlhj.dynamic.fusionbroadband.com)
[00:46:46] <kmcguire> mmap i think its libc
[00:46:48] *** Joins: dinfuehr (dinfuehr@moz-4pfs7r.highway.telekom.at)
[00:46:52] *** Joins: Boscop (me@moz-ur58hp.vpn.uni-saarland.de)
[00:46:53] <kmcguire> crate libc
[00:47:08] <Dr-Emann> Yea, it is.
[00:47:33] *** Joins: ferminter (Mibbit@moz-64h.b4k.25.8.IP)
[00:47:36] *** Quits: swgillespie (swgillespie@moz-upj.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:47:39] <Dr-Emann> but a (better, hopefully) replacement for MemoryMap will hopefully land soon.
[00:48:13] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[00:48:14] *** Quits: ferminter (Mibbit@moz-64h.b4k.25.8.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:48:20] *** Quits: rbranson (rbranson@moz-i7m.9o0.201.199.IP) (Quit: Computer has gone to sleep.)
[00:49:04] *** Joins: krax (archdev@moz-hff.m76.69.68.IP)
[00:50:54] *** Quits: dinfuehr (dinfuehr@moz-4pfs7r.highway.telekom.at) (Ping timeout: 121 seconds)
[00:50:54] *** Quits: khades (Thunderbird@moz-08k.3vk.74.212.IP) (Connection closed)
[00:50:58] *** Quits: Boscop (me@moz-ur58hp.vpn.uni-saarland.de) (Ping timeout: 121 seconds)
[00:51:11] *** Joins: Boscop (me@moz-ur58hp.vpn.uni-saarland.de)
[00:51:33] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Quit: ChatZilla 0.9.91.1 [Firefox 39.0a1/20150315030236])
[00:51:44] *** Joins: khades (Thunderbird@moz-08k.3vk.74.212.IP)
[00:52:18] <boss_mc> Dr-Emann: what was wrong with MemoryMap? Is there an RFC for the new one?
[00:52:47] *** Quits: Adityab (aditya@moz-57jrdq.adsl.alicedsl.de) (Ping timeout: 121 seconds)
[00:52:50] *** Quits: cursivecode (textual@moz-4u56i9.res.bhn.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:53:01] <Dr-Emann> boss_mc: No rfc that I know of. I don't expect there will be an equivalent anywhere outside of crates.io.
[00:54:09] <Dr-Emann> boss_mc: personally, I found the &[MapOptions] constructor a bit clunky. I'd like to see it re-written with a builder pattern, similar to what was done with File.
[00:54:34] *** Joins: Azdle (Azdle@moz-fv6arh.mn.comcast.net)
[00:54:44] <Dr-Emann> Also: it should be able to take a file directly, not have to deal with .to_raw_fd()/to_raw_handle()
[00:54:44] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[00:54:44] *** ChanServ sets mode: +o nrc
[00:54:57] <JustAPerson> Is there any timeline on `cargo install` for standalone applications?
[00:54:57] *** Quits: tamird (textual@moz-96rlhj.dynamic.fusionbroadband.com) (Ping timeout: 121 seconds)
[00:55:03] <boss_mc> Dr-Emann: I see, that makes sense, you don't want to lock the stdlib to a bad API before you've even released the language :)
[00:55:15] *** Quits: Boscop (me@moz-ur58hp.vpn.uni-saarland.de) (Ping timeout: 121 seconds)
[00:56:03] *** Quits: tigrou3tac (fabien@moz-gdonfo.fbx.proxad.net) (Ping timeout: 121 seconds)
[00:56:05] <Azdle> What's the right way to match on a specific ErrorKind? I'm trying to catch a timeout on a UdpSocket.recv_from and it seems exceptionally verbose the way that I'm doing it (which still isn't working).
[00:56:30] *** Joins: Adityab (aditya@moz-57jrdq.adsl.alicedsl.de)
[00:56:32] *** Joins: mindtree (Mitch@moz-bvilv0.iprimus.net.au)
[00:56:40] *** Joins: tamird (textual@moz-96rlhj.dynamic.fusionbroadband.com)
[00:56:58] <Azdle> Should I match on Ok(...)/Err(e) then do another match on the e.kind()?
[00:57:05] *** Quits: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net) (Client exited)
[00:57:22] <iopq> I find it weird that I can remove Arc from my type and all that happens is that my performance drops
[00:57:25] *** Quits: Adityab (aditya@moz-57jrdq.adsl.alicedsl.de) (Quit: Konversation terminated!)
[00:57:27] *** Joins: Adityab_ (aditya@moz-57jrdq.adsl.alicedsl.de)
[00:57:44] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[00:57:44] *** ChanServ sets mode: +o erickt
[00:57:49] <Dr-Emann> iopq: are you still cloning?
[00:58:13] <iopq> Dr-Emann yeah, that's why I put the Arc back in
[00:58:36] <krax> Azdle: Cant you match on Err(ErrorKind::NotFound) => .... etc?
[00:58:41] *** Quits: ryanxcharles (ryan@moz-lcf.eq6.124.64.IP) (Ping timeout: 121 seconds)
[00:58:47] <krax> so you have one match?
[00:59:11] <Azdle> Oh, that's a lot simpler than what I was trying to do.
[00:59:23] *** Quits: tamird (textual@moz-96rlhj.dynamic.fusionbroadband.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:59:33] <bstrie> JustAPerson: not that I know of
[00:59:33] <Azdle> Was trying to do something like: Err(Error{kind: ErrorKind::TimedOut, ..}) => ()
[00:59:52] *** Quits: ecr (chatzilla@moz-lbb.gon.175.205.IP) (Quit: ChatZilla 0.9.91.1 [Firefox 36.0.3/20150319201009])
[01:00:06] *** Joins: fizzbooze (bp@moz-lt3.k7f.113.208.IP)
[01:00:19] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[01:00:19] *** ChanServ sets mode: +ao pcwalton pcwalton
[01:00:41] *** Quits: mindtree (Mitch@moz-bvilv0.iprimus.net.au) (Ping timeout: 121 seconds)
[01:00:45] *** Joins: dawehner (quassel@moz-6aq1ua.hsi7.kabel-badenwuerttemberg.de)
[01:01:08] *** Quits: io2 (io2@moz-fphcqm.home.otenet.gr) (Quit:  ...take irc away, what are you? genius, billionaire, playboy, philanthropist)
[01:01:21] *** Joins: tigrou3tac (fabien@moz-gdonfo.fbx.proxad.net)
[01:02:19] *** Joins: Izacht13 (Izacht13@moz-5tc3lv.atsnmeam.ccmaine.net)
[01:03:05] <Azdle> Ruh roh. Anyone know if it's possible to set a timeout on std::net::UdpSocket yet?
[01:03:33] <JustAPerson> bstrie: thank you
[01:03:42] <boss_mc> Azdle: not in the new io... you can use old_io or something like mio to do it though
[01:04:03] <krax> Azdle: the removed async io from std, apparently :(
[01:04:31] *** Quits: jml (jml@moz-mqpurn.178.in-addr.arpa) (Ping timeout: 121 seconds)
[01:04:53] <Azdle> Mmkay, thanks. Was thinking that I was going to rewrite something that was using old_io since I saw that the new stuff was marked stable, guess not.
[01:04:58] <Azdle> What's mio?
[01:05:06] <krax> Azdle: a lib on crates.io
[01:05:09] *** Quits: dawehner (quassel@moz-6aq1ua.hsi7.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[01:05:31] <boss_mc> Azdle: https://github.com/carllerche/mio - Event based networking crate
[01:05:41] <Azdle> Thanks!
[01:05:52] <ruzu> i wish the borrow checker was a person so i could send a hit squad after it
[01:06:33] *** Joins: jml (jml@moz-mqpurn.178.in-addr.arpa)
[01:06:52] <boss_mc> Azdle: yeah, I recently ported soem old_io stuff to new io, and just gave up on timeouts :) it was only demo code though so I could get away with it
[01:07:30] <carllerche> boss_mc: mio adds support for sync io timeouts :-)
[01:07:58] <carllerche> it adds sock timeouts to std::io types
[01:08:08] <krax> i thought that was pretty weird when I first heard about it; i thought there was a big push to get async io into (what is now old_io). why was it removed?
[01:08:45] <Azdle> boss_mc: This is for a proxy server that I wrote so I either need poll/select or timeouts. I was using timeouts and just round-robining through each, but I see that mio can do epoll/kqueue so it looks like that's a better solution anywhay.
[01:08:49] <carllerche> krax: when was there async io in std?
[01:09:04] <dougxxx> Hasn't mio abandoned not-unix systems now?
[01:09:11] *** Quits: tigrou3tac (fabien@moz-gdonfo.fbx.proxad.net) (Ping timeout: 121 seconds)
[01:09:12] <krax> carllerche: before old_io was called old_io?
[01:09:26] <Azdle> dougxxx: Looks that way: "
[01:09:26] <Azdle> Currently, MIO only supports Linux and Darwin. The goal is to support all platforms that support Rust and the readiness IO model."
[01:09:27] <boss_mc> Azdle: yeah, event-driven's the way to go for high-speed network IO, like proxies
[01:09:43] <dougxxx> yep, that what I thought.
[01:10:15] *** Quits: lov2cod (Adium@moz-40l.ob1.22.8.IP) (Quit: Leaving.)
[01:10:18] <Azdle> Yeah, I know. It was never really meant to be high performance, more for playing with rust while scratching a minor itch.
[01:10:21] <dougxxx> Wish they published their api as a separate crate, so you could write an arbitrary-os impl though.
[01:10:30] *** Joins: Boscop (me@moz-ur58hp.vpn.uni-saarland.de)
[01:10:31] <carllerche> dougxxx: I am working on a higher level lib that will support all platforms
[01:10:38] <carllerche> mio is very low level
[01:10:46] <dougxxx> yep
[01:10:53] <dougxxx> Fair enough
[01:10:57] <carllerche> The mio API doesn't make sense on windows at all
[01:11:02] <carllerche> Which is the issue
[01:11:46] * dougxxx would have been happy with a fully functional port of libuv honestly
[01:11:55] <dougxxx> battle tested and all that...
[01:12:03] <boss_mc> carllerche: since all developers started using mac-books/linux, it's incredible that any code runs on windows these days :P
[01:12:11] <carllerche> I personally don't like libuv :-P
[01:12:17] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[01:12:20] <dougxxx> cant argue that it works though
[01:12:28] <carllerche> It makes zero copying impossible
[01:12:29] <dougxxx> nice or not, its widely used
[01:12:44] <dougxxx> Sometimes 'create from scratch' isn't *necessarily* the right answer.
[01:12:47] <dougxxx> That's all I'm saying.
[01:13:00] <enjolras> carllerche: there is something i was wondering about mio  why this token design instead of passing closures ?
[01:13:33] <carllerche> Because it is zero allocation at runtime
[01:13:34] *** Quits: Adityab_ (aditya@moz-57jrdq.adsl.alicedsl.de) (Ping timeout: 121 seconds)
[01:13:55] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[01:14:00] <boss_mc> carllerche: I just realized you wrote mio!  Thanks for your work.
[01:14:31] <enjolras> carllerche: you can use function pointers for this case 
[01:15:04] *** Quits: nr152522 (nr152522@moz-d5te1r.cust.relish.net) (Client exited)
[01:15:05] <carllerche> enjolras: it would leak memory
[01:15:31] <carllerche> boss_mc: Np :-)
[01:15:58] <enjolras> why ? I don't think so. A function pointer points to the .text section
[01:16:16] *** Quits: Shackra (Jorge@moz-7bh.ng6.177.186.IP) (Connection closed)
[01:16:22] <carllerche> enjolras: you would need to pass static closures then
[01:16:34] *** Quits: Boscop (me@moz-ur58hp.vpn.uni-saarland.de) (Ping timeout: 121 seconds)
[01:16:39] <carllerche> and you would then not have any identifiers for the socket
[01:17:05] <enjolras> you can. You just need to wrap the function pointer in a tuple 
[01:17:15] <freefall> carllerche: thought reem was also working on a higher level api on top of mio. is that a different project?
[01:17:16] <enjolras> and store the pointer to the tuple in the epoll/kqueue user field
[01:17:21] <carllerche> enjolras: I have a higher level lib in the works built on mio / CPIO that will use futures and streams as the API
[01:17:38] *** Joins: Shackra (Jorge@moz-7bh.ng6.177.186.IP)
[01:17:39] <carllerche> freefall: yes, it's a different project.
[01:17:46] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[01:17:46] *** ChanServ sets mode: +o erickt
[01:18:02] <enjolras> kqueue is a bit better for this because you have the fd AND the user field
[01:18:11] <enjolras> for epoll, the tuple wrapping is needed
[01:18:13] <carllerche> enjolras: in what tuple? epoll gives 1 ptr sized slot for state
[01:18:32] *** Quits: Izacht13 (Izacht13@moz-5tc3lv.atsnmeam.ccmaine.net) (Quit: Leaving)
[01:19:03] <enjolras> carllerche: yeah. A pointer to a tuple containing the fd and the function pointer. But ok, it means allocation
[01:19:03] *** Joins: calatalee (Mibbit@moz-gja.cj8.253.92.IP)
[01:19:45] <enjolras> (i think epoll sucks for this reason)
[01:20:01] *** Joins: lov2cod (Adium@moz-40l.ob1.22.8.IP)
[01:20:05] *** Quits: lov2cod (Adium@moz-40l.ob1.22.8.IP) (Quit: Leaving.)
[01:20:15] *** Quits: calatalee (Mibbit@moz-gja.cj8.253.92.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:20:32] *** Quits: chmanchester (Chris@moz-a9mb45.2rkg.9kg1.0101.2620.IP) (A TLS packet with unexpected length was received.)
[01:21:04] *** Joins: Boscop (me@moz-ur58hp.vpn.uni-saarland.de)
[01:21:19] <boss_mc> can you guarantee that values are `drop()`ed the moment they leave scope (assuming they impl Drop)?
[01:21:28] *** Joins: v21 (vee@moz-sa3oki.asianet.co.th)
[01:21:40] <carllerche> enjolras: yeah, mio has a goal to be zero overhead. if you accept an alloc, there are much better abstractions I think
[01:21:58] <boss_mc> https://doc.rust-lang.org/std/ops/trait.Drop.html suggests yes, but is that something that can be relied on?
[01:22:28] <ebfull> boss_mc: yes it's an absolute guarantee by the language
[01:22:35] <ebfull> everything is dropped, even after panics
[01:23:37] *** Joins: mindtree (Mitch@moz-bvilv0.iprimus.net.au)
[01:24:11] *** Quits: akiss (akiss@moz-22mpm5.pool.digikabel.hu) (Ping timeout: 121 seconds)
[01:24:27] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[01:24:52] <iopq> is calling .filter(x).filter(y) faster than .filter(x || y)
[01:25:13] *** Quits: Boscop (me@moz-ur58hp.vpn.uni-saarland.de) (Ping timeout: 121 seconds)
[01:25:26] *** Joins: Boscop (me@moz-ur58hp.vpn.uni-saarland.de)
[01:25:42] *** Joins: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp)
[01:25:58] <talchas> it seems more likely to be slower if anything
[01:26:04] <boss_mc> ebfull: ok, so if my object has side effects that mean that the object cannot co-exist with another copy of itself then http://is.gd/tFgCND would be safe?
[01:26:37] <talchas> Well, you could still make a new object in a different location
[01:26:38] <iopq> talchas: I'm getting 10x better performance and I'm suspicious
[01:26:50] <mindtree> tomaka: woohoo https://github.com/rust-lang/cargo/issues/770
[01:27:41] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:28:29] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Ping timeout: 121 seconds)
[01:28:40] *** Joins: dylan_ (dylan@moz-188.d0d.43.100.IP)
[01:28:40] *** Joins: alhof (dylan@moz-188.d0d.43.100.IP)
[01:28:47] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[01:29:34] *** Quits: Boscop (me@moz-ur58hp.vpn.uni-saarland.de) (Ping timeout: 121 seconds)
[01:29:42] <boss_mc> hmmm.... apparently not: http://is.gd/Kk7Qmv
[01:30:00] *** Quits: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp) (Ping timeout: 121 seconds)
[01:30:12] <ChrisMorgan> iopq: what is .filter()?
[01:30:32] *** Quits: tayrn (tayrn@moz-88sn7k.static.fusionbroadband.com) (Ping timeout: 121 seconds)
[01:30:33] <ChrisMorgan> I presume you have omitted the closure syntax and that it is iterator filter?
[01:30:50] <iopq> ChrisMorgan this is 10x faster:             self.vacant                 .iter()                 .map(|coord| Play(color, coord.col, coord.row))                 .filter(|m| m.is_pass())         	    .filter(|m| self.is_legal(*m).is_ok())         	    .filter(|m| self.is_eye(&m.coord(), *m.color()))                 .collect()
[01:31:09] <iopq> than the .filter(|m| A || B || C) version
[01:31:31] <jn> filter.filter is and, not or.
[01:31:40] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[01:32:08] <iopq> yeah filter.filter is way faster
[01:32:19] <scott> iopq: he means you need to use &&, not ||
[01:32:21] <jn> iopq: have you checked that you get the same result for both variants?
[01:32:34] *** Joins: tayrn (tayrn@moz-88sn7k.static.fusionbroadband.com)
[01:32:47] *** Quits: alhof (dylan@moz-188.d0d.43.100.IP) (Ping timeout: 121 seconds)
[01:32:51] *** AutomatedTester is now known as AutomatedTester|AFK
[01:32:52] *** Quits: dylan_ (dylan@moz-188.d0d.43.100.IP) (Ping timeout: 121 seconds)
[01:32:56] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[01:34:55] <iopq> scott: oh yeah let me actually fix that
[01:35:38] <iopq> what's the opposite of filter?
[01:35:51] <scott> filter(|x| !...)
[01:36:02] <iopq> scott: that won't work to make the conterpositive
[01:36:02] <talchas> yeah, I don't think there's retain or whatever for iter
[01:36:16] <scott> iopq: what?
[01:36:46] <iopq> I mean: what's the function that does !predicate
[01:37:08] <scott> I'm not sure there is one in the standard library
[01:37:28] <talchas> (the fact that iter has filter and vec has retain is... odd, though it probably /does/ make more sense for each of them)
[01:37:40] *** Quits: gingermusketeer (gingermuske@moz-htjita.compute.amazonaws.com) (Connection closed)
[01:37:48] *** Joins: gingermusketeer (gingermuske@moz-9bjs2k.compute.amazonaws.com)
[01:37:54] <jn> fn not(p: bool) { !p }    <-- iopq, this?
[01:38:06] <scott> iirc retain's purpose is a more efficient in-place filter
[01:38:20] *** Joins: infynyxx (infynyxx@moz-85e.umq.196.73.IP)
[01:38:26] <scott> it's odd that it has the opposite 'polarity' compared to filter
[01:38:30] <talchas> scott: yeah, but it could itself be filter
[01:38:32] <talchas> yeah
[01:38:39] <ruzu> the book says "The ownership system is a prime example of a zero cost abstraction", but the borrow checker seems to force indirections which aren't likely to be zero-cost... unless i misunderstand
[01:38:40] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[01:38:49] <bluss> it's true that filter is kind of an ambiguous name
[01:39:00] <bluss> doesen't tell you the polarity, does it?
[01:39:04] <scott> I like Ruby's select/reject for that reason
[01:39:22] <iopq> bluss: you mean that you don't know whether it filters things out or filters them in?
[01:39:27] <bluss> yes
[01:39:34] <iopq> bluss: I had to look at the source code because the documentation doesn't say that either
[01:39:43] <bluss> oh wow :-)
[01:40:00] <scott> there's a strong convention in function programming languages for the way Rust's filter behaves, but it's just a convention
[01:40:04] <c74d> I might say "filter-for"/"filter-out", but I like "select"/"reject".
[01:40:05] <talchas> "The only elements that will be yielded are those that make the predicate evaluate to true." seems pretty clear
[01:40:06] <scott> functional*
[01:40:14] <jn> ruzu: the "zero-cost abstraction" phrase is mostly about runtime cost, afaics
[01:40:22] <ChrisMorgan> Yeouch, that is a *really* nasty bug. I had a method of the form `fn get(&self) -> &Any { self.inner.get() }` where self.inner.get() returns &Box<Any>—*kapow* memory safety blown up. Insert &** before it and it’s OK.
[01:40:44] <dougxxx> O_o
[01:40:47] <iopq> talchas: I typed in filter and got "An iterator that filters the elements of iter with predicate"
[01:40:53] <ChrisMorgan> dougxxx: o_O indeed!
[01:41:20] <bluss> iopq: well the iterator structs have kind of useless docs, true. The important part is the .filter() method
[01:41:23] <talchas> iopq: ah, the iterator struct has less docs
[01:41:29] <dougxxx> I was just making a face because &child.stdin as &Write was causing an ICE, but I think you win.
[01:41:37] <iopq> talchas: where did you find your thing anyway
[01:41:45] <ChrisMorgan> At least I finally figured out why my AnyMap.entry() tests were blowing up after a substantial refactoring.
[01:41:46] <talchas> http://doc.rust-lang.org/std/iter/trait.IteratorExt.html#tymethod.filter
[01:42:07] <bluss> compare with http://doc.rust-lang.org/core/iter/trait.IteratorExt.html#method.filter
[01:42:15] *** Quits: zimbatm (zimbatm@moz-f37kde.com) (Ping timeout: 121 seconds)
[01:42:16] <ChrisMorgan> dougxxx: indeed—ICEs can be worked around, memory safety bugs in code that compiles is utterly evil.
[01:42:22] *** Quits: infynyxx (infynyxx@moz-85e.umq.196.73.IP) (Ping timeout: 121 seconds)
[01:42:29] <talchas> (ideally the all the std::iter::Foo structs would be private and -> impl Iterator would exist and this wouldn't be a problem)
[01:42:42] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[01:43:11] *** Quits: zacts (zacts@moz-qrtjuh.nm.comcast.net) (Ping timeout: 121 seconds)
[01:43:13] *** Joins: Boscop (me@moz-ur58hp.vpn.uni-saarland.de)
[01:43:14] *** Joins: rbranson (rbranson@moz-t47.i2q.170.166.IP)
[01:43:18] *** Quits: Selemur (chatzilla@moz-tpgfbn.kawo1.rwth-aachen.de) (Quit: ChatZilla 0.9.91.1 [Firefox 36.0.4/20150320202338])
[01:43:27] *** darkowlzz|afk is now known as darkowlzz
[01:43:49] *** Quits: rbranson (rbranson@moz-t47.i2q.170.166.IP) (Quit: Computer has gone to sleep.)
[01:44:58] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[01:45:06] *** Joins: zimbatm (zimbatm@moz-f37kde.com)
[01:45:52] <iopq> My code has too much .iter()...collect(), would Rust having `yield` allow this situation to improve?
[01:46:01] *** Joins: fyolnish (fyolnish@moz-uoqcnf.ocn.ne.jp)
[01:46:12] *** Joins: rbranson (rbranson@moz-ved.tdl.56.172.IP)
[01:46:21] *** Quits: grobinson (grobinson@moz-vfov5f.dynamic.fusionbroadband.com) (Connection closed)
[01:46:28] *** Joins: GaryOak_ (GaryOak_@moz-90r.hih.222.147.IP)
[01:46:48] *** Joins: grobinson (grobinson@moz-vfov5f.dynamic.fusionbroadband.com)
[01:47:16] *** Quits: Boscop (me@moz-ur58hp.vpn.uni-saarland.de) (Ping timeout: 121 seconds)
[01:47:28] *** Joins: Boscop (me@moz-ur58hp.vpn.uni-saarland.de)
[01:47:33] *** Joins: dinfuehr (dinfuehr@moz-4pfs7r.highway.telekom.at)
[01:47:55] *** Quits: thesnowdog (doug@moz-g88.8fa.181.180.IP) (Ping timeout: 121 seconds)
[01:47:57] *** darkowlzz is now known as darkowlzz|afk
[01:47:57] <boss_mc> Why does cargo recommend adding Cargo.lock to your .gitignore?  Ruby's bundler recommends the exact opposite...
[01:48:05] *** Joins: coxg (sazzer@moz-1hq.kh5.32.217.IP)
[01:48:24] <boss_mc> I thought the benefit was so that your users can ensure they're using tested versions of dependencies
[01:48:44] <dougxxx> boss_mc: It's ignored for libraries.
[01:48:49] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[01:48:51] <dougxxx> afaik
[01:48:54] <iopq> boss_mc: because if you're writing a library you should be specified in your Cargo.toml
[01:49:26] <iopq> if you don't want people to use older versions
[01:49:43] <iopq> or newer versions
[01:49:49] <steveklabnik> boss_mc: we actually have identical rules as bundler does
[01:49:51] <bstrie> iopq: I don't know that yield would prevent the need to strictify laziness
[01:50:29] *** Joins: thesnowdog (doug@moz-g88.8fa.181.180.IP)
[01:50:41] <steveklabnik> compare http://doc.crates.io/faq.html#why-do-binaries-have-cargo.lock-in-version-control,-but-not-libraries? to http://yehudakatz.com/2010/12/16/clarifying-the-roles-of-the-gemspec-and-gemfile/
[01:50:56] *** Quits: grobinson (grobinson@moz-vfov5f.dynamic.fusionbroadband.com) (Ping timeout: 121 seconds)
[01:50:57] <Dr-Emann> iopq: as far as i know, isn't yield used to build iterators? Not sure how it would help with collecting on other iterators.
[01:51:06] <iopq> bstrie: I pass around Vec<Move> between two functions and it caused me to lose more than 10% of my performance, while manually inlining them made a much bigger difference than writing #[inline(never)]
[01:51:35] *** Quits: Boscop (me@moz-ur58hp.vpn.uni-saarland.de) (Ping timeout: 121 seconds)
[01:51:40] *** Quits: dinfuehr (dinfuehr@moz-4pfs7r.highway.telekom.at) (Ping timeout: 121 seconds)
[01:51:48] *** Joins: new_one (new_one@moz-1vc.jlm.42.128.IP)
[01:52:10] <bstrie> iopq: #[inline(never)]?
[01:52:11] <boss_mc> steveklabnik: I stand corrected
[01:52:17] *** Quits: coxg (sazzer@moz-1hq.kh5.32.217.IP) (Ping timeout: 121 seconds)
[01:52:17] <dougxxx> ChrisMorgan: 'thread 'rustc' panicked at 'Box<Any>' ... I wonder if Any has had some work on it recently. It's the same thing causing me hassles too, incidentally.
[01:52:17] <iopq> I meant always
[01:53:03] <ChrisMorgan> dougxxx: nah, it follows the form “thread '{}' panicked at '{}'” and the second thing is of type Box<Any>, which formats as Box<Any>. Kinda pointless, really.
[01:53:10] <iopq> I had #[inline(always)] and it only sped it up by a few %, while just inlining manually and removing .iter().collect() gave me 10% better perf
[01:53:18] <iopq> and no compile time increase
[01:53:42] *** Quits: Wild_Cat (Max@moz-f1ofqf.cpe.teksavvy.com) (Ping timeout: 121 seconds)
[01:54:05] *** Quits: ziad (ziad@moz-fh9.u9c.240.50.IP) (Client exited)
[01:54:46] <steveklabnik> boss_mc: it's all good :)
[01:54:47] <bstrie> iopq: what was the .iter().collect() doing, if you were just capable of removing it with no other changes? if the inner function is returning a vec to the outer function, .iter().collect() shouldn't be necessary
[01:56:17] <iopq> bstrie: it was vec.iter().filter(...).collect() and then the other function was the same
[01:56:55] <ChrisMorgan> dougxxx: in constructing a minimal test case I just figured out what was actually happening. It’s actually not technically a bug, though it’s very surprising.
[01:57:17] <dougxxx> oh? I'm surprised
[01:57:33] <dougxxx> Surely the Any cast should be unsafe if it can break things
[01:57:48] <bstrie> iopq: if you can reproduce this in a minimal test case I'd be very interested to see it. possibly worth filing a bug over
[01:57:52] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[01:58:31] <ChrisMorgan> dougxxx: you have a &Box<Any> and you are wanting to return a &Any? You’re welcome to—we’ll *wrap it up in a new trait object*, because Box<Any> implements Any…
[01:58:38] *** Quits: dmac (dmac@moz-h4nvlf.ca.comcast.net) (Ping timeout: 121 seconds)
[01:58:42] <iopq> bstrie: why? it's creating two vectors instead of just one, it should always be faster to combine them
[01:58:51] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[01:59:13] <ChrisMorgan> dougxxx: that’s what happens when you allow silent coercion from &value to &Trait where value is of a type that implements Trait!
[01:59:21] <dougxxx> ChrisMorgan: woa
[01:59:37] <blaenk> i want an fn that can take a &str or String or anythign else that impls trait X but inside it I want to get a String from it. so preferably I would want the "pass a String" case to not actually do anything, is there something like that arleady?
[01:59:56] <blaenk> func("blah") would probably call .to_string() on it, func(some_string) wouldn't do anything, since it's already a String
[01:59:59] *** Joins: jmacdonald (jmacdonald@moz-lecm16.eastlink.ca)
[02:00:00] <ChrisMorgan> Fortunately in my minimal test case I swapped from using Any to using my own trait, and didn’t have a blanket impl, so it became apparent.
[02:00:02] <bstrie> iopq: I really have no firm grasp on what you're actually doing here
[02:00:05] <jn> blaenk: sounds like CoW
[02:00:08] <blaenk> actually I think I'll just make it String
[02:00:10] <blaenk> jn yeah it does
[02:00:12] <iopq> bstrie: let me paste you the code
[02:00:24] <bstrie> iopq: I'm under the impression that you think there's some case that LLVM should be optimizing, but it's not
[02:00:27] *** Joins: yeahnoob (Xanadu@moz-ku8.ugi.122.118.IP)
[02:00:36] <blaenk> I just wanted to be more ergonomic to the &str case cause it's more common
[02:00:57] *** Joins: tjr_ (trevor.rile@moz-4l6h02.re61.4rqa.0002.2601.IP)
[02:01:26] <iopq> bstrie: http://is.gd/m6rcOv
[02:01:47] <blaenk> I guess since a &str is the common case what I can do is just take a &str and always .to_string() on it
[02:01:52] <iopq> I just combined the top two functions into one, tell me if I made a mistake because I did at first
[02:02:24] *** Quits: housl (housl@moz-qnjt4k.ut.comcast.net) (Quit: WeeChat 1.1.1)
[02:02:28] *** Joins: Boscop (me@moz-ur58hp.vpn.uni-saarland.de)
[02:03:11] <blaenk> actually I think I can probably use intocow, not sure
[02:03:57] <iopq> you can use cowstrings if your actual output will be just the &str, otherwise it won't make a difference
[02:04:06] *** Quits: Nextra (Nextra@moz-luk7gb.osnanet.de) (Connection closed)
[02:05:01] *** Quits: tjr_ (trevor.rile@moz-4l6h02.re61.4rqa.0002.2601.IP) (Ping timeout: 121 seconds)
[02:05:58] *** Quits: Lilly (Lilly@moz-ca683g.bredband.comhem.se) (Quit: bajs)
[02:06:00] <ruzu> there is no box::clone in scope... fffffffff
[02:06:09] <blaenk> oh there's also to_owned
[02:06:37] *** Quits: Boscop (me@moz-ur58hp.vpn.uni-saarland.de) (Ping timeout: 121 seconds)
[02:06:50] *** Joins: Boscop (me@moz-ur58hp.vpn.uni-saarland.de)
[02:06:54] <bstrie> iopq: okay, so I think the feature that you want is not `yield`, it's that you want the ability to return an iterator. which you can do, but the proposed anonymous return types feature will make it much nicer
[02:07:05] <blaenk> meh confusing, I don't think I can use this cause IntoCow for String requires 'static and for str it allows 'a, will try it
[02:07:11] <meh> I'm sorry
[02:07:16] <meh> it's not my fault I swear
[02:07:16] <blaenk> hahahaha forgot about that
[02:07:26] <blaenk> sorry bro go back to sleep
[02:08:10] <dougxxx> hm, why would stderr and stdout be None on a spawned Command in the new io module?
[02:08:40] <blaenk> iirc if you use one of the functions to 'spawn' it, it does one thing, and another with another one of them
[02:08:44] <dougxxx> (serves me right for calling .unwrap() with no match, but still)
[02:08:55] *** Quits: eddyb (eddyb@moz-dhp.t65.25.188.IP) (Ping timeout: 121 seconds)
[02:08:56] <dougxxx> hm
[02:09:12] <dougxxx> 'By default, stdin, stdout and stderr are inherited by the parent.'
[02:09:13] *** Joins: Guest74 (textual@moz-lmfinb.fios.verizon.net)
[02:09:16] <blaenk> spawn and output are what differ, but I don't think they would yield none like you're seeing
[02:10:03] <blaenk> stdout: our_stdout.map(|fd| ChildStdout { inner: fd }),
[02:10:10] <blaenk> same for stdin and stderr
[02:10:14] <dougxxx>     match cmd.spawn() { Ok(mut child) => { trace!("Spawned! {} {}", child.stdout.is_some(), child.stderr.is_some()); -> Spawned! false false
[02:10:18] <blaenk> so seems like only way woudl be if 'our_stdout' would be none to begin with
[02:10:52] <blaenk> check setup_io
[02:10:58] *** Quits: Boscop (me@moz-ur58hp.vpn.uni-saarland.de) (Ping timeout: 121 seconds)
[02:11:02] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[02:11:08] <dougxxx> hm
[02:11:09] <dougxxx> weird
[02:11:54] *** Joins: lenstr (lenstr@moz-rjs.vju.25.171.IP)
[02:12:05] *** Quits: rbranson (rbranson@moz-ved.tdl.56.172.IP) (Quit: Computer has gone to sleep.)
[02:12:20] <bstrie> iopq: see http://is.gd/7nR06h
[02:13:06] <Dr-Emann> iopq: Until -> impl Iterator works, you can always return Box<Iterator>. Slight performance loss, but quite a bit less than collecting each time.
[02:13:26] *** Quits: tav (tav@moz-rv39fd.range31-52.btcentralplus.com) (Ping timeout: 121 seconds)
[02:13:33] <blaenk> hey am I doing it right? specifically, I expect line 10 to not clone/create a String because I'm already passing it a string, but I do understand line 9 will create a String
[02:13:34] <blaenk> http://is.gd/ikjslG
[02:13:57] <blaenk> also, is there a better way to do it (if not np)
[02:14:06] <SiegeLord> What is the replacement for BufWriter?
[02:14:12] *** Joins: tav (tav@moz-dma6tj.range31-52.btcentralplus.com)
[02:14:46] <Dr-Emann> SiegeLord: std::io:: BufWriter is stable.
[02:14:56] <SiegeLord> That seems to do something completely different
[02:14:59] *** Joins: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net)
[02:15:12] <Dr-Emann> SiegeLord: Oh, right, I forgot what the old one did.
[02:15:29] <iopq> bstrie, Dr-Emann this is what I'm talking about, yield gives you iterators without having to deal with their return values
[02:15:49] *** Joins: rootnode (rootnode@moz-go1ut4.ip1.george24.com)
[02:15:58] *** Quits: lenstr (lenstr@moz-rjs.vju.25.171.IP) (Ping timeout: 121 seconds)
[02:16:15] *** Joins: popow (Thunderbird@moz-03f.kd0.252.223.IP)
[02:16:29] *** suvash is now known as suvash_away
[02:16:30] <Dr-Emann> SiegeLord: &mut [u8] impls writer, and if you need seeking, Cursor<&mut [u8]> is what you want
[02:16:39] <Dr-Emann> *impls Write
[02:17:45] *** Joins: tav_ (tav@moz-hgj9m0.range31-52.btcentralplus.com)
[02:18:14] *** Quits: tav (tav@moz-dma6tj.range31-52.btcentralplus.com) (Ping timeout: 121 seconds)
[02:18:14] *** tav_ is now known as tav
[02:18:16] <SiegeLord> Err... what's the replacement for write_u8 then?
[02:18:28] <blaenk> checkout burntsushi's library
[02:18:30] *** Quits: saml_ (saml@moz-rkfmct.res.rr.com) (Ping timeout: 121 seconds)
[02:18:32] <blaenk> byteorder i think it called
[02:18:33] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[02:18:38] <Dr-Emann> SiegeLord: byteorder on crates.io
[02:18:42] <SiegeLord> What
[02:18:42] *** Joins: skali (skali@moz-u41o58.dynamic.ufanet.ru)
[02:18:46] <SiegeLord> I am not adding dependencies...
[02:18:48] <blaenk> no replacement for time being
[02:18:52] <blaenk> guess its back to visual basic bro
[02:18:55] <SiegeLord> I guess I'll just stick to old_io
[02:18:55] *** nsm|away is now known as nsm
[02:19:40] <Dr-Emann> SiegeLord: Then roll your own. write(&[your_u8])
[02:20:34] *** Quits: lllshamanlll (Thunderbird@moz-tlc.puj.66.146.IP) (Ping timeout: 121 seconds)
[02:20:38] <SiegeLord> Hmm... I guess I could do that
[02:20:59] <Dr-Emann> iopq: Like bstrie said, the two issues are orthogonal. The (currently) planned way to do this is allow `fn f() -> impl Iterator`, which would mean: return a concrete type, which must be known by the compiler, but doesn't have to be named by the user.
[02:21:33] <iopq> I would like fn f(_) -> _
[02:21:48] <iopq> so that the compiler just tells me what types it expects
[02:21:56] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[02:21:57] <iopq> and I can copy pasta them
[02:22:01] <Dr-Emann> iopq: yield is from C#, so it's the same as Box<Iterator> anyway.
[02:22:42] <SiegeLord> I guess I don't completely understand how write works with &[u8]... where does it store the index?
[02:22:49] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[02:22:51] *** Quits: skali (skali@moz-u41o58.dynamic.ufanet.ru) (Ping timeout: 121 seconds)
[02:22:54] <SiegeLord> Or does write always write to the beginning?
[02:23:01] *** Quits: mib_oon7oi (Mibbit@moz-nd2iqs.fl.atlanticbb.net) (Quit: http://www.mibbit.com ajax IRC Client)
[02:23:02] <blaenk> iirc it mutates the pointers or something
[02:23:02] <blaenk> the slice
[02:23:05] <blaenk> endpoints
[02:23:09] <blaenk> but i forgot
[02:23:09] <iopq> Dr-Emann I thought it was implemented as a DFA
[02:23:09] <bstrie> iopq: I don't think that yield frees you from having to specify a return type... at least not if I'm reading https://msdn.microsoft.com/en-us/library/9k7k7cf0.aspx correctly
[02:23:47] *** Joins: Wild_Cat (Max@moz-f1ofqf.cpe.teksavvy.com)
[02:24:04] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[02:24:19] *** Joins: Boscop (me@moz-ur58hp.vpn.uni-saarland.de)
[02:24:25] *** Quits: DerisiveLogic (smuxi@moz-g93io6.res.rr.com) (Ping timeout: 121 seconds)
[02:24:39] <Dr-Emann> iopq: a function using yield has to retturn IEnumerable<T> or IEnumerator<T>. That's dynamic dispatch.
[02:25:06] *** Joins: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca)
[02:25:13] <bstrie> iopq Dr-Emann: I am curious how DFAs fit into this, though. I know that C#'s yield does something with them somewhere
[02:25:34] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[02:25:58] *** Quits: idegen (greg@moz-9c4nle.or.frontiernet.net) (Connection closed)
[02:26:28] *** Quits: fyolnish (fyolnish@moz-uoqcnf.ocn.ne.jp) (Connection closed)
[02:26:37] *** Joins: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp)
[02:26:53] *** Joins: fyolnish (fyolnish@moz-uoqcnf.ocn.ne.jp)
[02:27:05] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[02:27:07] <iopq> bstrie: it builds a DFA that returns the yielded value by converting your function into an iterator
[02:27:31] *** Quits: chc4 (chc4@moz-pdo0at.ma.comcast.net) (Quit: AHHHHH BEES)
[02:28:40] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[02:28:40] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[02:28:41] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[02:28:53] *** Quits: mystor_ (mystor@moz-5cj.r78.15.130.IP) (Connection closed)
[02:29:37] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Ping timeout: 121 seconds)
[02:30:23] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[02:30:23] *** Quits: scape_ (scape@moz-ci61eb.nj.comcast.net) (Connection closed)
[02:30:29] <SiegeLord> Does write! work with Write?
[02:30:35] *** Quits: Boscop (me@moz-ur58hp.vpn.uni-saarland.de) (Ping timeout: 121 seconds)
[02:30:39] *** Joins: scape_ (scape@moz-ci61eb.nj.comcast.net)
[02:30:49] *** Joins: Boscop (me@moz-ur58hp.vpn.uni-saarland.de)
[02:31:02] *** Quits: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp) (Ping timeout: 121 seconds)
[02:31:02] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.3.92.1)
[02:31:18] <bstrie> SiegeLord: good question
[02:31:32] <bstrie> I don't know if we have any docs on write! even...
[02:31:35] <SiegeLord> I don't have time to ask bad questions 8)
[02:31:54] <Dr-Emann> Yea, it's a pretty cool way of building an iterator. If rust were to have something like yield (after `-> impl Iterator`), we could do it even more efficiently, because we could return an unboxed type, with static dispatch. It would just be an unnamed type (like closures)
[02:32:25] <iopq> I spent all this time profiling my program and I know exactly what part is slow. Now I found just ONE thing that made it noticeably faster after days of approaches that didn't help.
[02:32:37] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[02:32:42] <sinistersnare> yeah i still dont get write! :p
[02:32:53] *** Quits: vairav (vairav@moz-pkkcjo.modeln.com) (Client exited)
[02:33:28] <Dr-Emann> playbot: use std::io::Write; write!(&mut std::io::stdout(), "hi").unwrap() // SiegeLord, yes
[02:33:29] -playbot- hi()
[02:33:36] *** Quits: ismaelga (ismaelga@moz-do6r88.rev.vodafone.pt) (Connection closed)
[02:33:44] <sinistersnare> whats with the ()
[02:33:55] <Dr-Emann> that's the return value from unwrap()
[02:34:03] <sinistersnare> ew
[02:34:18] <Dr-Emann> because playbot wraps in println!("{:?}")
[02:34:20] <sinistersnare> isnt the return value of unwrap the value???
[02:34:24] <sinistersnare> yeah
[02:34:26] <sinistersnare> ah
[02:34:40] <bstrie> Dr-Emann iopq: https://github.com/rust-lang/rfcs/issues/388
[02:34:41] *** Quits: scape_ (scape@moz-ci61eb.nj.comcast.net) (Ping timeout: 121 seconds)
[02:34:46] <Remram> playbot: use std::io::Write; write!(&mut std::io::stdout(), "hi").unwrap();
[02:34:48] -playbot- hi()
[02:35:01] <Remram> weird
[02:35:02] *** Quits: Boscop (me@moz-ur58hp.vpn.uni-saarland.de) (Ping timeout: 121 seconds)
[02:35:06] *** Quits: fyolnish (fyolnish@moz-uoqcnf.ocn.ne.jp) (Ping timeout: 121 seconds)
[02:35:08] *** Joins: scape_ (scape@moz-ci61eb.nj.comcast.net)
[02:35:13] <scott> playbot-mini: fn main() { use std::io::Write; write!(&mut std::io::stdout(), "hi").unwrap(); }
[02:35:14] *** Joins: grobinson (grobinson@moz-gfm.cjk.130.24.IP)
[02:35:14] -playbot-mini- hi
[02:35:45] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[02:35:49] <scott> Remram: unwrap() returns (), adding a semicolon just makes the whole expression evaluate to () in a different way
[02:35:53] <Dr-Emann> Oh, that's the new rustilite
[02:35:55] *** Quits: grobinson (grobinson@moz-gfm.cjk.130.24.IP) (Quit: )
[02:36:01] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[02:37:39] <bstrie> why do we need two bots anyway
[02:37:45] <bstrie> is it just to get around channel spamming limits
[02:37:47] *** Joins: idegen (greg@moz-9c4nle.or.frontiernet.net)
[02:37:55] <Dr-Emann> no, they have different templates
[02:38:16] <sinistersnare> unwrap returns the T from Option<T>....not ()
[02:38:39] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[02:38:48] <Dr-Emann> sinistersnare: In this case, it's unwrap on Result<(), io::Error>, and is therefore ()
[02:39:03] <Dr-Emann> for playbot, you're writing in a template that prints the result of whatever you put. playbot-mini, you have to create everything, even the main function.
[02:39:10] <Dr-Emann> bstrie: ^
[02:39:20] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[02:39:49] <Dr-Emann> playbot: "hi"
[02:39:50] -playbot- "hi"
[02:39:53] <adu> hi
[02:40:03] <Dr-Emann> playbot-mini: "hi"
[02:40:04] -playbot-mini- <anon>:1:1: 1:5 error: expected item, found `"hi"`
[02:40:04] -playbot-mini- <anon>:1 "hi"
[02:40:04] -playbot-mini- output truncated; full output at: http://bit.ly/1Hwgbwa
[02:40:05] <bstrie> I see
[02:40:17] <SiegeLord> ... I think I'm just going to import old_io::Writer and be done with this, heh
[02:40:35] <Dr-Emann> SiegeLord: for now.
[02:40:36] <adu> SiegeLord: that's the general quick fix
[02:40:51] <huon> SiegeLord: what problem are you having with `write!`?
[02:40:57] <SiegeLord> It wasn't write
[02:40:59] <SiegeLord> !
[02:41:01] <huon> oh
[02:41:07] <SiegeLord> It was write_str and a few others
[02:41:26] *** Joins: ray (ray@moz-m8t.t3f.66.59.IP)
[02:41:36] <SiegeLord> Well actually... just write_str, hah
[02:41:52] <huon> it's replaced by writing s.as_bytes()
[02:41:56] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (A TLS packet with unexpected length was received.)
[02:42:00] <SiegeLord> I'll wait until it's gone and then do a trait Writer : Write
[02:42:07] <SiegeLord> With a write_str
[02:42:11] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[02:42:37] <Dr-Emann> writer.write_all(s.as_bytes()) should be equivalent.
[02:42:52] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[02:42:55] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[02:43:22] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[02:43:35] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[02:43:35] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[02:43:36] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[02:44:20] *** Parts: idegen (greg@moz-9c4nle.or.frontiernet.net) ()
[02:44:32] *** Joins: idegen (greg@moz-9c4nle.or.frontiernet.net)
[02:44:44] *** Joins: alhof (dylan@moz-188.d0d.43.100.IP)
[02:44:45] *** Joins: dylan_ (dylan@moz-188.d0d.43.100.IP)
[02:45:09] *** Joins: fmendez (fmendez@moz-1jn.fqm.166.190.IP)
[02:45:33] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[02:46:06] *** Joins: luniv (textual@moz-d40jv9.abhsia.telus.net)
[02:46:14] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[02:46:51] <SiegeLord> Or maybe create a Writable trait and implement it for &str, hah
[02:47:07] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[02:47:07] *** ChanServ sets mode: +ao pcwalton pcwalton
[02:47:23] *** Joins: eddyb (eddyb@moz-dhp.t65.25.188.IP)
[02:47:38] <Dr-Emann> ew. 
[02:47:40] *** Joins: tamird (textual@moz-s9e.ov1.227.199.IP)
[02:47:51] *** Quits: tamird (textual@moz-s9e.ov1.227.199.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:48:11] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[02:48:19] *** Joins: dinfuehr (dinfuehr@moz-4pfs7r.highway.telekom.at)
[02:48:29] <SiegeLord> That's what I said about writer.write_all(s.as_bytes()), but I kept it to myself :P
[02:48:51] *** Joins: Boscop (me@moz-9fq.aou.65.112.IP)
[02:48:52] *** Quits: alhof (dylan@moz-188.d0d.43.100.IP) (Ping timeout: 121 seconds)
[02:48:58] *** Quits: dylan_ (dylan@moz-188.d0d.43.100.IP) (Ping timeout: 121 seconds)
[02:49:21] <Dr-Emann> I mean, Writable basically already exists, as the fmt traits.
[02:49:40] *** Quits: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net) (Client exited)
[02:49:42] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[02:49:57] <jmacdonald> Does anyone have a solution to this? https://github.com/rust-lang/rust/issues/23286
[02:49:59] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[02:49:59] *** ChanServ sets mode: +ao pcwalton pcwalton
[02:50:18] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[02:50:26] *** Quits: palodequeso (quassel@moz-8afrdq.dhcp.embarqhsd.net) (A TLS packet with unexpected length was received.)
[02:50:26] <jmacdonald> I'm using a Path value as a field on a struct and since updating to the latest nightly I get that Sized error. :/
[02:50:43] *** Joins: acgtyrant (acgtyrant@moz-cn1.4sk.186.39.IP)
[02:50:49] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[02:51:03] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[02:51:09] <Dr-Emann> jmacdonald: you've got to pass in &path. But yea, the error is _super_ bad
[02:51:32] *** Joins: saterus (saterus@moz-rutqj0.res.rr.com)
[02:51:46] <jmacdonald> I previously had a field like so: pub path: Option<Path>
[02:52:03] <jmacdonald> Do I need to wrap Path in a Box<> ?
[02:52:26] *** Quits: dinfuehr (dinfuehr@moz-4pfs7r.highway.telekom.at) (Ping timeout: 121 seconds)
[02:52:40] <Dr-Emann> Path is unsized. It's like str. You can use PathBuf for an owned Path, in the same way you use String
[02:52:58] <jmacdonald> Ah, cool. That's a recent change, I imagine?
[02:52:59] <SiegeLord> I guess I don't know for sure why I'm using write_str at all instead of write!... I guess it was in the name of efficiency
[02:53:18] <iopq> Well it's named Path so it should be sized!
[02:53:20] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[02:53:24] <iopq> unsized version should be named &pth
[02:53:39] <blaenk> what no lol
[02:53:43] <blaenk> pointer is sized
[02:53:45] <iopq> See: String and &str
[02:53:57] <iopq> well it's pointer to an unsized str
[02:54:02] <scott> currently only built-in types are lowercase, I think
[02:54:04] <iopq> so accordingly it should pth
[02:54:09] <blaenk> what
[02:54:11] <blaenk> WHAT
[02:54:14] <blaenk> :O
[02:54:26] <blaenk> it's like Trait vs Box<Trait>
[02:54:35] <reem> really String should be named StrBuf and str should be named Str
[02:54:39] <iopq> Path is not a trait
[02:54:41] <blaenk> didn't it used to be
[02:54:44] <iopq> is it?
[02:54:49] <Dr-Emann> yea, it did used to be.
[02:54:51] <blaenk> I was giving a comparison
[02:54:52] <reem> but the current names were arrived at after massive amounts of useless bike shedding
[02:54:52] *** Quits: Kev` (Kev@moz-n3h9kt.dc.cox.net) (Quit: Leaving)
[02:55:02] <reem> and nobody wants to do it again
[02:55:03] <scott> right now Path is just a wrapper for OsStr, I think
[02:55:05] <reem> especially near 1.0
[02:55:11] *** Joins: fyolnish (fyolnish@moz-uoqcnf.ocn.ne.jp)
[02:55:13] *** Joins: da-kid (da@moz-qlfu4e.dip0.t-ipconnect.de)
[02:55:14] *** Quits: zaeleus (zaeleus@moz-r5abra.cpe.cableone.net) (Quit: Leaving...)
[02:55:20] <jmacdonald> this explains so much
[02:55:27] <iopq> someone should add path here: http://cosmic.mearie.org/2014/01/periodic-table-of-rust-types/
[02:55:32] <SiegeLord> I don't mind, I'm using old_path for that reason 8)
[02:55:45] <blaenk> what's so hard about path
[02:55:56] *** Joins: bombless (bombless@moz-iamjdm.0v2u.0v40.0da8.2001.IP)
[02:56:03] <blaenk> Path <=> str, &Path <=> &str, PathBuf <=> String
[02:56:16] <iopq> blaenk: nothing is hard about it, just add it to the periodic table
[02:56:17] *** Joins: zaeleus (zaeleus@moz-r5abra.cpe.cableone.net)
[02:56:18] <blaenk> notice there's a difference between str and &str
[02:56:25] <blaenk> str is the 'unsized' one
[02:56:28] <jmacdonald> blaenk: need to make that the chat room topic :)
[02:56:36] <blaenk> lol
[02:57:52] <reem> I personally dislike the idea of a table of types
[02:57:55] *** Quits: da-kid_ (da@moz-0l81k1.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:57:56] <reem> it gives the entirely wrong mental model
[02:58:01] <reem> s/the/an
[02:58:39] <bombless> Yeah.. pointer types are simple enough, after all.
[02:59:20] *** Quits: rbrandao (uid30340@moz-89qrca.ealing.irccloud.com) (Quit: Connection closed for inactivity)
[02:59:23] <jmacdonald> Unsized types are completely new to me.
[02:59:54] *** Quits: new_one (new_one@moz-1vc.jlm.42.128.IP) (A TLS packet with unexpected length was received.)
[03:00:13] <ChrisMorgan> reem: I quite agree. Sure, it has the bold sentence “This table does not indicate that Rust has a complex type system compared to other languages. Rust does have seemingly many types, but you only need to understand the meaning of each axis, or even just each column.” but most won’t notice it or acknowledge its veracity.
[03:00:26] <blaenk> dat italix
[03:00:42] <iopq> reem: why? it's the only thing that makes all of these types make sense
[03:00:47] *** Joins: hoverbear (hoverbear@moz-csaicn.gv.shawcable.net)
[03:01:06] <iopq> reem: you surely don't want me to have to MEMORIZE what type Path is if I use it like once
[03:01:22] *** Quits: Guest74 (textual@moz-lmfinb.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:01:29] <reem> iopq: It's like trying to get a deep understanding of math by looking a multiplication table
[03:01:43] *** Quits: yeahnoob (Xanadu@moz-ku8.ugi.122.118.IP) (Ping timeout: 121 seconds)
[03:01:47] *** Joins: brson (brson@moz-pmd945.tmodns.net)
[03:01:47] *** ChanServ sets mode: +ao brson brson
[03:01:52] <reem> sure, that table or a calculator or whatever is useful, but if you don't understand the underlying mechanics...
[03:02:03] *** Joins: yeahnoob (Xanadu@moz-ku8.ugi.122.118.IP)
[03:02:27] <iopq> reem: there is nothing about Path that says it's unsized, there is no way to tell that
[03:02:28] <reem> also, most of the current types in the periodic table are extremely common or are variants of a common type
[03:02:33] <jmacdonald> It is confusing that Path and String are not both owned, sized types.
[03:02:43] <reem> iopq: Ya, but you should just consult the docs, not some table.
[03:02:48] * ChrisMorgan smiles smugly at blaenk
[03:03:07] <scott> jmacdonald: PathBuf is to Path as String is to str
[03:03:07] *** Joins: jan247 (Adium@moz-vjl.6c2.191.180.IP)
[03:03:36] <scott> I only find the periodic table of types interesting when it comes to looking at the cells that aren't filled and what could theoretically go there, like Box<str>
[03:03:41] <blaenk> jmacdonald: String is owned and sized, but I guess that proves your point that it's confusing lol
[03:03:54] *** Quits: fizzbooze (bp@moz-lt3.k7f.113.208.IP) (Ping timeout: 121 seconds)
[03:04:09] <jmacdonald> emphasis on *both* ;)
[03:04:13] <iopq> reem: the docs already assume you know what str is
[03:04:16] <blaenk> ah yeah, you're right
[03:04:56] <jmacdonald> feels like it breaks convention to have one be PathBuf and the other String
[03:05:08] *** Joins: Guest74 (textual@moz-lmfinb.fios.verizon.net)
[03:05:15] <iopq> jmacdonald: so I guess it should be Path and pth
[03:05:16] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[03:05:27] * ChrisMorgan shudders
[03:05:27] <blaenk> I see where you're coming from but pth looks nasty
[03:05:32] <jmacdonald> pth makes me cringe
[03:05:40] <iopq> jmacdonald: that's the joke
[03:05:48] <reem> and worst it should be `path`
[03:05:51] <reem> s/and/at
[03:05:58] <jmacdonald> ^
[03:06:17] <scott> if we had a convention of lowercase meaning unsized, which we don't
[03:07:18] <blaenk> I think if I were a noob at rust I'd get the impression that a lower case type name was somehow built in or otherwise had special powers and was exempt from the 'regular rules'
[03:07:32] *** Quits: infinigo1 (x@moz-54e146.range86-142.btcentralplus.com) (Quit: leaving)
[03:07:42] <blaenk> but if it were a convention it wouldn't be too bad
[03:07:43] <scott> lowercase types are built-ins
[03:07:47] <blaenk> I know
[03:07:52] <blaenk> but Path isn't necessarily, it's from std
[03:08:01] <reem> str could be a library type
[03:08:06] <scott> reem: why isn't it?
[03:08:24] <ChrisMorgan> I kinda wish String could be just Box<str>—that the capacity member could somehow be fused into it—and that we had a sigil for convenience so that it was no longer String and &str but rather Box<str> which might be written, for example, ~str, and &str.
[03:08:27] <reem> iirc a lot of problems with naming ;)
[03:08:38] <blaenk> I think you're on to something chris
[03:09:05] <scott> reem: even #[allow(non_camel_case)] struct str { ... }, why not?
[03:09:24] *** Quits: boss_mc (boss_mc@moz-138gqh.cc63.ki59.0104.2620.IP) (Connection closed)
[03:09:55] <reem> scott: Not the type name actually, even though that would be weird if str isn't builtin, but also the name of the defining module etc. and some backcompat issues.
[03:10:08] <jmacdonald> I understand String and &str, but what is str?
[03:10:09] <reem> scott: there was a PR by japaric if you want to look it up, that's as good as my memory gets
[03:10:09] <scott> ChrisMorgan: ~str used to be a thing and it was growable like String. I think the layout differed
[03:10:31] <mindtree> jmacdonald: the slice without a reference to it I guess?
[03:10:36] <reem> ChrisMorgan: Ya, I'm pretty sure you just suggested ~[T] and ~str
[03:10:52] <reem> ChrisMorgan: Though I'm confident that if you add another type parameter you *can* actually unify all these types.
[03:11:05] *** Quits: yeahnoob (Xanadu@moz-ku8.ugi.122.118.IP) (Ping timeout: 121 seconds)
[03:11:08] <mcpherrin> I am pretty sure ChrisMorgan is being funny, since they were around when it was that way :P
[03:11:11] <ChrisMorgan> scott: indeed, ~str used to be special cased in that way. DST smoothed everything out and made everything more consistent in general, but it did have the sad side-effect of giving us String and Vec<T> rather than ~str and ~[T] as we had had before.
[03:11:12] <scott> oh, I read the rest of ChrisMorgan's line and realized the joke
[03:11:21] *** Joins: yeahnoob (Xanadu@moz-ku8.ugi.122.118.IP)
[03:11:30] <scott> I think I prefer String and Vec<T>
[03:11:38] <reem> oh haha jokes over my head
[03:11:46] <ChrisMorgan> It’s not a joke, really. More a sad reflection on some of the nicer aspects of the days of yesteryear.
[03:11:50] <reem> anyway I think it can be done
[03:11:51] *** nsm is now known as nsm|away
[03:11:52] *** Joins: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net)
[03:12:00] <blaenk> ~@yester*&*@~~year
[03:12:04] <mcpherrin> It's unfortunate I can't spawn clones of myself at the time I started learning Rust
[03:12:04] <iopq> scott: I use 99% Vec and 1% [T], why does the array have a shorthand notation and not the Vec
[03:12:19] <blaenk> ~"wahts wrong with yesteryear" ~"pls help me" ~"should I use a sigil or not"
[03:12:21] <iopq> mcpherrin you can, but they'd be immutable
[03:12:23] <scott> arrays/slices are builtin
[03:12:26] <scott> Vec is just a struct
[03:12:28] <ChrisMorgan> iopq: you probably *shouldn’t* use 99% Vec.
[03:12:49] <iopq> ChrisMorgan: why not? I tried using an array of 4 member it was no faster than a Vec of 4
[03:13:20] <reem> you basically unify into `Owned<T, M> where T: ?Sized, M: Manages<T>` and T is either [T] or str. You can replace Box with this with M = Heap, and Vec with M = HeapWithCapacity. Apply a similar transformation for String/str.
[03:13:29] <ChrisMorgan> iopq: I just mean that in practical code bases it should probably be more common to write [T] than Vec<T>.
[03:13:57] <ChrisMorgan> In any given code base that may not be a reasonable aspiration, but on average I think it should be.
[03:14:02] *** Quits: frecel (quassel@moz-qme.p1t.254.162.IP) (Connection closed)
[03:14:08] <ChrisMorgan> Ditto String instead of &str.
[03:14:10] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[03:14:18] <reem> ^ is supported by my experience as well
[03:14:21] <iopq> ChrisMorgan: I allocate once and put it behind an Arc, so it's a one time 50ms cost. Even though it's performance sensitive code, given that it's a one time cost there is no reason to optimize it.
[03:14:38] *** Quits: enjolras (enjolras@moz-p7mo8q.ovh) (Ping timeout: 121 seconds)
[03:14:42] *** Joins: frecel (quassel@moz-qme.p1t.254.162.IP)
[03:14:44] *** Quits: rootnode (rootnode@moz-go1ut4.ip1.george24.com) (Ping timeout: 121 seconds)
[03:14:53] * mindtree doesn't miss sigils and likes that owned versions are slightly more verbose
[03:15:18] <iopq> mindtree: I eliminated a lot of allocations after that change because I realized I didn't have to box everything
[03:15:30] <ChrisMorgan> mindtree: if you had to write Box<str> instead of String you might yearn to write ~str again.
[03:15:33] <reem> iopq: It's really not so much about performance, ime, as it is about ownership. Vec implies ownership of the content, whereas &[T] doesn't. Borrowing is more common than moving.
[03:15:43] <scott> Box<str> is a different idea from String
[03:15:51] *** Quits: scialex (scialex@moz-if7.du5.16.138.IP) (Ping timeout: 121 seconds)
[03:15:58] <ChrisMorgan> But definitely, the desigilisation of boxing helped reduce allocations, teaching about the ownership model.
[03:16:17] <mindtree> ChrisMorgan: meh, it's an extra allocation and I feel like you feel the extra weight a bit more proportionally in your code with slight more verbosity
[03:17:57] *** Quits: idegen (greg@moz-9c4nle.or.frontiernet.net) (Ping timeout: 121 seconds)
[03:17:58] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:18:36] *** Joins: ryanxcharles (ryan@moz-1i9321.bac4.d045.0009.2601.IP)
[03:18:57] *** Joins: zacts (zacts@moz-qrtjuh.nm.comcast.net)
[03:21:36] <scott> jmacdonald: instead of str, are you familiar with the unsized type [u8]?
[03:22:01] *** Joins: {-}grant ({0}grant@moz-fctpaa.mo.charter.com)
[03:22:33] <scott> jmacdonald: &[u8] is a (ptr, length) fat pointer that points to some number of contiguous u8s somewhere in memory (and the length in the fat pointer tells you how many u8s)
[03:23:06] <scott> jmacdonald: [u8] alone can be thought of as the type of the contiguous u8s directly, but we don't know how many, so it's unsized
[03:23:17] <iopq> scott: Box<str> is an owned non-growable string?
[03:23:21] *** Quits: saterus (saterus@moz-rutqj0.res.rr.com) (Connection closed)
[03:23:37] <scott> str is just a wrapper around [u8] restricted to valid UTF-8 encoded text
[03:23:40] <scott> iopq: yeah
[03:23:53] <scott> (ptr, length) instead of (ptr, length, capacity)
[03:23:58] <iopq> scott: we need a period cube
[03:24:05] <scott> hm?
[03:24:21] <iopq> scott: three dimensions of types
[03:24:22] <reem> we need a clear formulation of the basic rules and an explanation of how all the types in this system can be understood in that framework
[03:24:47] *** Joins: psy (psy@moz-ous.ntd.6.103.IP)
[03:24:57] <scott> iopq: what is the third dimension?
[03:25:14] *** Joins: kerrick (kerrick@moz-fub7j7.hfc.comcastbusiness.net)
[03:25:15] *** Joins: garming (garming@moz-pqd1u2.xtra.co.nz)
[03:25:45] <scott> growability only applies to the array-ish types
[03:25:50] <iopq> scott: owned, size, growable
[03:25:52] *** Quits: zz_kimundi (kimundi@moz-rl5lt8.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[03:26:15] *** Quits: Kxepal (Miranda@moz-hj3bnl.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[03:26:15] <iopq> scott: if you can have growable PathBuf...
[03:26:22] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[03:26:37] <scott> because Path is array-ish!
[03:26:48] <iopq> scott: then everything is array-ish
[03:26:56] <scott> uh, no
[03:27:23] *** Joins: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp)
[03:27:32] <scott> Path wraps OsStr which wraps something like [u8] depending on the platform
[03:28:13] <scott> how would you extend the third dimension of growability for the &T/&mut T/Box<T>/T row?
[03:28:17] <iopq> everything is [u1] underneath
[03:28:18] *** Joins: Kxepal (Miranda@moz-7r0agj.pppoe.mtu-net.ru)
[03:28:27] <mindtree> indeed, most of this discussion has been about slices, owned slices, growable slices, borrowed slices
[03:28:28] <scott> not from a type system perspective
[03:28:35] *** Joins: zz_kimundi (kimundi@moz-7lq6bi.dip0.t-ipconnect.de)
[03:28:49] <scott> you can say everything is just bytes, but then you aren't talking about the types at all anymore, so forget about a table of types
[03:29:00] *** Quits: luniv (textual@moz-d40jv9.abhsia.telus.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:29:01] *** zz_kimundi is now known as kimundi
[03:29:18] <iopq> scott: Path is not [u8] in the type system, is it?
[03:29:26] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[03:29:30] <reem> iopq: Path is Path in the type system
[03:29:44] *** Joins: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[03:29:59] <bombless> OsStr, maybe
[03:29:59] <reem> iirc in actuality it's a series of newtypes over either [u8] or [u16] depending on the platform
[03:30:12] <scott> because Path basically wraps a slice, it can sensibly support an idea of growability
[03:30:19] <scott> some arbitrary type T can't
[03:30:24] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Ping timeout: 121 seconds)
[03:30:57] *** Quits: GaryOak_ (GaryOak_@moz-90r.hih.222.147.IP) (Connection closed)
[03:31:03] <reem> note that Path and OsStr are entirely library types, you could make your own.
[03:31:07] <scott> basically you need homogeneous lists of things to support the idea of adding more things
[03:31:12] <reem> only [T] is the necessary primitive
[03:31:21] <blaenk> i wish you could leverage Borrow<String> for Arc<String>, then Borrow<str> for String, unless there's a better way to do this ;_;
[03:31:45] <reem> (from a safe-code-only world perspective, the actual implementation whether it uses unsafe code is not relevant to this discussion)
[03:31:46] <blaenk> e.g. a HashSet<Arc<String>>, to be able to do hs.contains("test")
[03:31:49] *** Quits: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp) (Ping timeout: 121 seconds)
[03:31:54] *** Quits: brson (brson@moz-pmd945.tmodns.net) (Quit: leaving)
[03:31:56] <scott> blaenk: &Arc<String> -> &str exists using deref coercions
[03:32:05] *** Joins: luniv (textual@moz-d40jv9.abhsia.telus.net)
[03:32:06] <blaenk> :O
[03:32:31] *** Quits: brainproxy (michael@moz-9vjtig.mo.charter.com) (Ping timeout: 121 seconds)
[03:32:35] <scott> since Arc<T>: Deref<Target=T> and String: Deref<Target=str>
[03:32:35] <blaenk> all I get is error: the trait `collections::borrow::Borrow<&str>` is not implemented for the type `alloc::arc::Arc<collections::string::String>`
[03:32:46] <scott> well, why are you using Borrow?
[03:32:50] *** Quits: jmacdonald (jmacdonald@moz-lecm16.eastlink.ca) (Quit: leaving)
[03:32:53] <blaenk> I think it has something to do with why it shows Borrow<&str>
[03:32:56] <blaenk> I'm not using borrow
[03:33:04] <scott> something you're using is using Borrow, then
[03:33:13] <blaenk> my impression was that it's trying to use borrow
[03:33:20] <blaenk> oh I'm using Index ops
[03:33:25] <blaenk> ["blah"], maybe that uses borrow
[03:33:33] <blaenk> in a hashmap
[03:33:39] <blaenk> yep it does use borrow
[03:34:09] *** Quits: meh (meh@moz-u15r9i.42-151.net24.it) (Ping timeout: 121 seconds)
[03:34:49] <blaenk> see if I deref the str lit, *"blah"
[03:35:01] <blaenk> it becomes error: the trait `collections::borrow::Borrow<str>` is not implemented for the type `alloc::arc::Arc<collections::string::String>`
[03:35:08] *** Quits: eddyb (eddyb@moz-dhp.t65.25.188.IP) (Ping timeout: 121 seconds)
[03:35:19] <blaenk> oh see
[03:35:36] <scott> I think deref coercions only come into play when the target type is concrete, not something like T where T: Trait
[03:35:50] <blaenk> yeah that's true
[03:35:52] <blaenk> afaik
[03:36:01] <blaenk> which is why you still see &somestring[..]
[03:36:13] <blaenk> but I don't think it's what's causing me problems here, not sure
[03:36:14] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[03:36:55] *** Joins: coxg (sazzer@moz-1hq.kh5.32.217.IP)
[03:37:12] <blaenk> too bad I can't just impl Borrow<str> for Arc<String> myself
[03:37:13] <blaenk> ;_;
[03:37:40] <Dr-Emann> You can make a wrapper, and impl on that, but yea..
[03:38:08] <blaenk> yeahhh :/
[03:38:15] <sinistersnare> blaenk: ikr sad orphan rules
[03:38:20] <blaenk> yup
[03:38:30] <scott> impl<K, Q: ?Sized, V, S> Index<Q> for HashMap<K, V, S> where K: Eq + Hash + Borrow<Q>, Q: Eq + Hash, S: HashState
[03:38:33] <scott> that's a doozie
[03:38:50] <blaenk> should look at get(), which should give me same problem
[03:38:55] <blaenk> fn get<Q: ?Sized>(&self, k: &Q) -> Option<&V> 
[03:38:55] <blaenk> where K: Borrow<Q>, Q: Hash + Eq
[03:38:59] *** Joins: awgross (Adium@moz-rfoqmm.res.rr.com)
[03:39:02] *** Quits: acgtyrant (acgtyrant@moz-cn1.4sk.186.39.IP) (Ping timeout: 121 seconds)
[03:39:09] *** Joins: jviereck (Adium@moz-il2n2e.dynamic.hispeed.ch)
[03:39:33] *** Joins: brson (brson@moz-pmd945.tmodns.net)
[03:39:33] *** ChanServ sets mode: +ao brson brson
[03:39:37] <blaenk> yeah same with get, although that one doesn't require me to deref the str lit
[03:39:43] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[03:40:06] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[03:40:15] <blaenk> I guess I'll just not Arc the Strings
[03:40:17] <scott> anyway, if you have p: Arc<String>, you just need to use map[*p], right?
[03:40:31] <blaenk> but I don't have Arc<String> is the pain
[03:40:33] <reem> he has a map of Arc<String>
[03:40:34] <mcpherrin> w
[03:40:37] <blaenk> I has &str
[03:40:38] <scott> oh
[03:41:03] <blaenk> so what I'm donig is probably stupid, I wanted a very poor man's "string interning", so on the user side they'll usually use &str, maybe String, and in the backend it'll create a single Arc from it and use that ever after
[03:41:07] *** Quits: coxg (sazzer@moz-1hq.kh5.32.217.IP) (Ping timeout: 121 seconds)
[03:41:13] <blaenk> normally if they only used &'static str then it'd more or less be same thing afaik, given the same string
[03:41:25] <scott> why doesn't Borrow use an associated type?
[03:41:27] <blaenk> but I have to keep a String
[03:41:33] <reem> scott: So you can borrow into multiple types.
[03:41:35] *** Joins: kgrandon (Adium@moz-6m3528.ca.comcast.net)
[03:41:40] <reem> scott: String => &String and String => &str
[03:41:44] <reem> for instane
[03:41:48] <scott> oh, right
[03:42:05] *** Quits: cjwelborn (cjwelborn@moz-np6hed.al.charter.com) (Quit: sys.exit(1))
[03:42:31] <scott> so you can index a HashMap by anything that the key type can be borrowed into... hm
[03:43:08] *** Quits: fengshaun (fengshaun@moz-rf0qk5.cable.teksavvy.com) (Ping timeout: 121 seconds)
[03:43:14] <blaenk> yeah if only that worked transitively, then I could leverage Borrow<T> for Arc<T> to get a &String I think from the Arc<String>, then leverage Borrow<str> for String to get a &str
[03:43:16] *** Quits: v21 (vee@moz-sa3oki.asianet.co.th) (Ping timeout: 121 seconds)
[03:43:23] <scott> I guess it's weird to have Arc inside the HashMap?
[03:43:29] <blaenk> it is weird yeah, lol
[03:43:30] <scott> is there a reason to do that instead of just String?
[03:43:46] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[03:43:46] <reem> blaenk: I'm not really sure what you are trying to accomplish, since it looks like I need the string to look up the interned version?
[03:43:55] <scott> what do Eq/Hash for Arc do? just delegate to the contents?
[03:44:06] <reem> or is your goal to transform from &'a str into a 'static String representation?
[03:44:08] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[03:44:22] <reem> scott: Yes
[03:44:26] <scott> would it be possible to make Borrow transitive?
[03:44:33] <scott> that sounds scary
[03:44:45] <blaenk> well what I just said, that I'm trying to (maybe stupidly) create some very poor-man's string interning. the system ensures that there's only one Arc for a given string, then I have an auxiliary hashmap to track relations (dependencies) between these strings
[03:44:55] <blaenk> the hashmap is basically on the side, incidental
[03:45:03] *** Joins: zmack (zmack@moz-4b0.o8l.26.188.IP)
[03:45:46] *** Quits: zacts (zacts@moz-qrtjuh.nm.comcast.net) (Quit: leaving)
[03:45:54] <blaenk> but I guess my only option is to just give up on that and copy strings everywhere
[03:46:08] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[03:46:16] <blaenk> not a big deal
[03:46:25] <blaenk> just that it was working out so far until I ran into that final little roadblock
[03:46:40] <scott> what's the interface? something like intern(&str) -> InternedString and InternedString: Deref<Target=str>?
[03:47:48] <blaenk> for example I might have a function like this matching<'a, S: IntoCow<'a, str>>(name: S) so it can be called matching("blah") or matching("blah".to_string()), then it would take that and create an Arc from it
[03:47:49] <scott> hmm... maybe even fn intern<'a>(&'a str) -> &'b str would work, where 'b is on the structure keeping track of the interned strings
[03:48:07] <blaenk> and other subsystems/areas would just clone that arc instead of the entire string
[03:48:22] <blaenk> and one of these subsystems is this dependency map
[03:48:45] <scott> I guess you're using Arc so the interned strings get cleaned up when they go out of use, instead of sticking around forever? so it's only temporary interning?
[03:49:02] *** Quits: awgross (Adium@moz-rfoqmm.res.rr.com) (Quit: Leaving.)
[03:49:05] *** Quits: zmack (zmack@moz-4b0.o8l.26.188.IP) (Ping timeout: 121 seconds)
[03:49:06] *** Joins: dinfuehr (dinfuehr@moz-4pfs7r.highway.telekom.at)
[03:49:20] <blaenk> I'm interning mainly to avoid copying them everywhere, cause a lot of things require these strings (they're like identifiers)
[03:50:01] *** Joins: dawehner (quassel@moz-6aq1ua.hsi7.kabel-badenwuerttemberg.de)
[03:50:05] <blaenk> I was originally just using int identifiers with some sort of map into them but that was a hassle, but I might consider going back to that if need be
[03:50:07] <scott> Ruby Symbols are interned strings where the representation is just a number and there is some global mapping from those numbers to actual strings
[03:50:13] <blaenk> yup
[03:50:16] <scott> and those are generally used for identifiers
[03:50:17] *** Quits: khades (Thunderbird@moz-08k.3vk.74.212.IP) (Client exited)
[03:50:43] <blaenk> yeah my intention isn't to create true interning or to intern for its own sake, I only mentioned interning because it's the closest thing I can think of
[03:51:00] <blaenk> essentially the system uses string identifiers, and many things require access to these identifiers, so I figured stick them in an Arc
[03:51:08] <blaenk> (Arc because it's multithreaded)
[03:51:27] *** Joins: khades (khades@moz-08k.3vk.74.212.IP)
[03:52:02] *** Quits: fmendez (fmendez@moz-1jn.fqm.166.190.IP) (Connection closed)
[03:52:18] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[03:52:31] *** Quits: dschatzberg (dschatz@moz-f4a40c.bu.edu) (Quit: Leaving)
[03:53:13] *** Quits: dinfuehr (dinfuehr@moz-4pfs7r.highway.telekom.at) (Ping timeout: 121 seconds)
[03:53:17] *** Quits: luniv (textual@moz-d40jv9.abhsia.telus.net) (Quit: Textual IRC Client: www.textualapp.com)
[03:54:10] *** Joins: tamird (textual@moz-qmtgvr.tmodns.net)
[03:54:18] *** Quits: dawehner (quassel@moz-6aq1ua.hsi7.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[03:54:45] *** Quits: {-}grant ({0}grant@moz-fctpaa.mo.charter.com) (Ping timeout: 121 seconds)
[03:55:32] *** Quits: brson (brson@moz-pmd945.tmodns.net) (Quit: leaving)
[03:56:28] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[03:58:02] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[03:58:12] *** Quits: tamird (textual@moz-qmtgvr.tmodns.net) (Ping timeout: 121 seconds)
[03:58:44] <scott> if it's okay to keep unused identifiers allocated (which is useful to avoid de+re-allocation if they might get unused and then come back), you could probably do better with the Ruby way performance-wise
[03:59:18] <blaenk> yeah
[03:59:43] <reem> blaenk: If the interning structure is never dropped you can just use something like https://github.com/reem/rust-forever
[03:59:47] <scott> it could be something like struct Interns { strings: Vec<String>, map: HashMap<String, usize> }; struct InternedString(usize); fn intern(&mut Interns, &str) -> InternedString and an impl Deref<Target=str> for InternedString
[04:00:03] <reem> then you don't have to do any refcounting operations
[04:00:06] <scott> + a Mutex somewhere in there around Interns for multi-threading
[04:00:11] <blaenk> cool thanks
[04:00:23] <scott> and then all the strings get cleaned up at once when you drop Interns
[04:00:50] <blaenk> scott: yeah that's awesome
[04:01:08] <scott> hrm, might not be as simple as I'm thinking. the borrowing in the Deref impl might be non-trivial
[04:01:41] <scott> I definitely have some assumptions in my head the borrow checker doesn't know
[04:02:36] <scott> oh, I guess you need some reference to the Interns for Deref anyway, unless it's designed around being global
[04:03:38] *** Quits: mark_edward (mark@moz-dg4mrp.in.comcast.net) (Ping timeout: 121 seconds)
[04:03:39] *** Quits: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net) (Client exited)
[04:03:58] *** Joins: awgross (Adium@moz-rfoqmm.res.rr.com)
[04:04:41] *** Quits: fyolnish (fyolnish@moz-uoqcnf.ocn.ne.jp) (Quit: Bye)
[04:05:26] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[04:06:12] *** Quits: khades (khades@moz-08k.3vk.74.212.IP) (Quit: leaving)
[04:06:16] *** Quits: orangeshark (erik@moz-b37i43.miamfl.sbcglobal.net) (Quit: Leaving)
[04:06:25] *** Quits: panicbit (panicbit@moz-gg7i2b.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[04:06:26] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[04:06:34] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[04:06:43] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[04:07:03] *** Joins: cesar (cesar@moz-rgddno.sndgca.sbcglobal.net)
[04:07:05] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[04:07:20] *** Quits: popow (Thunderbird@moz-03f.kd0.252.223.IP) (Ping timeout: 121 seconds)
[04:07:36] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[04:08:07] *** Joins: popow (Thunderbird@moz-03f.kd0.252.223.IP)
[04:08:49] *** Joins: fyolnish (fyolnish@moz-uoqcnf.ocn.ne.jp)
[04:10:59] *** Quits: fyolnish (fyolnish@moz-uoqcnf.ocn.ne.jp) (Connection closed)
[04:11:22] *** Joins: fyolnish (fyolnish@moz-uoqcnf.ocn.ne.jp)
[04:11:33] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[04:11:38] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[04:14:54] *** Joins: popow1 (Thunderbird@moz-03f.kd0.252.223.IP)
[04:15:25] *** Quits: fyolnish (fyolnish@moz-uoqcnf.ocn.ne.jp) (Ping timeout: 121 seconds)
[04:15:49] *** Quits: popow (Thunderbird@moz-03f.kd0.252.223.IP) (Ping timeout: 121 seconds)
[04:16:40] *** Joins: turtil (turtil@moz-o1lceq.orcon.net.nz)
[04:16:42] *** Joins: fyolnish (fyolnish@moz-uoqcnf.ocn.ne.jp)
[04:17:38] <krax> traits are frustrating
[04:18:02] <iopq> cargo bench performance is ALWAYS worse right after recompiling
[04:18:04] *** Joins: mark_edward (mark@moz-dg4mrp.in.comcast.net)
[04:18:11] <huon> krax: they're frus-trait-ing!
[04:18:20] <krax> huon: heh
[04:18:21] * iopq groans
[04:18:38] <krax> you can't use them as arguments or return values; and I get that. you need to know the underlying size
[04:18:47] <krax> so you lean on generics
[04:19:01] <krax> you make functions like  fn do_stuff<A: Trait>()
[04:19:05] <krax> to get your abstractions
[04:19:11] <huon> you can use them as arguments and return values via trait objects
[04:19:11] *** nsm|away is now known as nsm
[04:19:16] <huon> putting the trait behind a pointer
[04:19:25] <krax> but then you add a generic function onto a trait, and suddenly they're near useless
[04:19:49] <huon> what is "they" in the last phrase?
[04:19:51] *** Joins: khades (khades@moz-08k.3vk.74.212.IP)
[04:19:55] <krax> you cant use &Trait as an arg if it has a generic function.
[04:20:14] <huon> well
[04:20:20] <krax> where does a value of a Trait go once you at a generic function onto it?
[04:20:36] <huon> you can, if you specify that the generic function doesn't work on trait objects
[04:20:45] *** Quits: fyolnish (fyolnish@moz-uoqcnf.ocn.ne.jp) (Ping timeout: 121 seconds)
[04:20:45] <huon> `fn foo<A>(...) where Self: Sized`
[04:21:28] <reem> huon: WOW that works!?
[04:21:33] *** Quits: Guest74 (textual@moz-lmfinb.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:21:41] <huon> reem: it may work 100%, but yeah
[04:21:50] <reem> I knew you could do that for by-value-self but you can whitelist generic functions like that too?
[04:21:52] <reem> cool
[04:21:54] <krax> ... what black magic is this?
[04:22:11] <krax> so, hold up
[04:22:13] <huon> reem: it makes the compiler ignore the object safety checks for that method entirely
[04:22:24] <huon> since it knows it can never be used with a trait object
[04:22:29] <huon> I should update my blog post...
[04:22:33] <Mutabah> niiice
[04:22:34] <reem> that's quite useful
[04:22:51] <iopq> How do I write this as a return type?     found `core::iter::Filter<core::iter::Map<core::slice::Iter<'_, board::coord::Coord>, [closure C:\Users\Igor\Documents\rust\iomrascalai\src\board/mod.rs:270:22: 270:63]>, [closure C:\Users\Igor\Documents\rust\iomrascalai\src\board/mod.r s:271:22: 271:93]>`
[04:23:00] <reem> you cannot write out the type of a closure
[04:23:11] *** Quits: popow1 (Thunderbird@moz-03f.kd0.252.223.IP) (Ping timeout: 121 seconds)
[04:23:19] <huon> krax: anyway, going back to your original question: generics are the most common way to write polymorphic functions in Rust
[04:23:29] <huon> it's just how it is
[04:23:42] <iopq> reem: this is some kind of an iterator, but I don't know how to write it
[04:23:47] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:23:50] <krax> so if I have let a = &Trait; and Trait has generic fn gen_func<T>(), You're saying where Self: Sized no longer lets me call a.gen_func::<T>(), correct?
[04:23:59] <huon> iopq: it has a closure
[04:24:08] <reem> iopq: Sorry I skipped a few steps ahead - that type contains a concrete closure type, so you can't write it either.
[04:24:14] <huon> krax: yes, but you couldn't create `a` wtihout the `where`
[04:24:15] *** Joins: popow (Thunderbird@moz-03f.kd0.252.223.IP)
[04:25:01] <krax> So the roadblock moves one step forward is all. :(
[04:25:09] <iopq> reem: I am doing .iter().map(|..|...).filter(|..|...) and I want to avoid doing .collect() and just return the iterator, is that possible
[04:25:14] <huon> krax: what's the issue with using generics?
[04:25:32] <huon> iopq: yes, if you box it into an Iterator trait object
[04:25:38] <reem> iopq: Unfortunately you'll have to replace those closures with concrete types to make that happen.
[04:25:42] <huon> Box<Iterator<Item = ...>>
[04:25:44] <reem> if you want full efficiency
[04:25:48] *** Joins: mihneadb (mihneadb@moz-b5r.gbu.120.86.IP)
[04:25:51] *** Quits: mihneadb (mihneadb@moz-b5r.gbu.120.86.IP) (Quit: Computer gone to sleep - Zzzz...)
[04:25:55] <reem> alternatively you can make the closures traits objects, rather than the iterator
[04:26:11] *** Joins: fyolnish (fyolnish@moz-uoqcnf.ocn.ne.jp)
[04:27:09] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[04:27:10] <krax> huon: http://is.gd/MsagSh
[04:27:27] *** Quits: qrlpx_ (smuxi@moz-af6paf.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[04:27:42] <ChrisMorgan> iopq: assuming they don’t close over any variables, you can write them as functions, e.g. `fn foo(x: X) -> Y { … }`, `iter.map(foo)`, `iter::Map<…, fn(X) -> Y>`.
[04:27:45] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[04:27:58] <huon> krax: so, I might write that as: http://is.gd/mCz7l1
[04:28:06] <scott> krax: the problem is that Rust can't know in advance which versions of the generic function to generate, and at the call-site, it's just a generic trait object, so it doesn't know which impl's generic function needs a new version generated
[04:28:09] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[04:28:09] *** Joins: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp)
[04:28:28] <iopq> it's too complicated, I'm just going to rewrite it in a simpler way
[04:28:43] <huon> krax: you may be interested in http://huonw.github.io/blog/2015/01/object-safety/ (if you haven't seen it already)
[04:29:03] *** Joins: brainproxy (michael@moz-9vjtig.mo.charter.com)
[04:30:13] *** Quits: fyolnish (fyolnish@moz-uoqcnf.ocn.ne.jp) (Ping timeout: 121 seconds)
[04:30:37] <reem> iopq: Easiest thing is to return Box<Iterator<Item=X>>
[04:31:12] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Ping timeout: 121 seconds)
[04:31:41] *** Joins: fyolnish (fyolnish@moz-uoqcnf.ocn.ne.jp)
[04:32:06] <krax> huon: consider if you have a pair of structs which implement Observable (from my example), where one struct wraps the other.
[04:32:29] *** Quits: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp) (Ping timeout: 121 seconds)
[04:32:41] <krax> would that still work?
[04:32:56] <krax> hrm. i have to think on it.
[04:33:40] *** Joins: dylan_ (dylan@moz-188.d0d.43.100.IP)
[04:33:41] *** Joins: alhof (dylan@moz-188.d0d.43.100.IP)
[04:34:09] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[04:34:10] <huon> krax: yeah, there are certainly some situations where generics don't work, or are particularly undesirable
[04:34:12] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[04:34:17] *** Joins: reem (reem@moz-3ugurj.coob.q2h1.0009.2601.IP)
[04:35:43] *** Quits: fyolnish (fyolnish@moz-uoqcnf.ocn.ne.jp) (Ping timeout: 121 seconds)
[04:35:57] *** Joins: Guest5 (textual@moz-hnb58r.oc.cox.net)
[04:36:44] *** Quits: Gamecubic (cubic@moz-qfrl13.mc.videotron.ca) (Quit: Leaving)
[04:37:03] *** Quits: brainproxy (michael@moz-9vjtig.mo.charter.com) (Ping timeout: 121 seconds)
[04:37:26] *** Quits: awgross (Adium@moz-rfoqmm.res.rr.com) (Quit: Leaving.)
[04:37:45] *** Quits: ray (ray@moz-m8t.t3f.66.59.IP) (Connection closed)
[04:37:49] *** Quits: alhof (dylan@moz-188.d0d.43.100.IP) (Ping timeout: 121 seconds)
[04:37:52] *** Quits: dylan_ (dylan@moz-188.d0d.43.100.IP) (Ping timeout: 121 seconds)
[04:38:08] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[04:38:37] *** Quits: sw17ch (sw17ch@moz-h64l8d.wa.comcast.net) (Client exited)
[04:38:39] *** Joins: eddyb (eddyb@moz-dhp.t65.25.188.IP)
[04:38:46] *** Joins: sw17ch (sw17ch@moz-h64l8d.wa.comcast.net)
[04:38:58] <krax> huon: right, if the inner struct has the list of callbacks, and the outer one accepts the function call, that generic fn listen() doesnt help much. hrmph
[04:39:24] *** Quits: sw17ch (sw17ch@moz-h64l8d.wa.comcast.net) (Client exited)
[04:39:48] <iopq> does rust have do while loops
[04:39:56] <blaenk> nope
[04:40:11] <blaenk> wrote a macro for one once, very easy
[04:40:12] *** Joins: elbow_jason (elbow@moz-eg5.cmg.30.50.IP)
[04:40:13] *** Joins: elbow_json (elbow@moz-eg5.cmg.30.50.IP)
[04:40:15] <scott> use `loop { ...; if ... { break } }`
[04:40:19] <scott> or a simple macro around that
[04:40:20] <Mutabah> iopq: No, but 'loop' can be used as that
[04:40:33] <blaenk> I'd rather use what scott said than a macro
[04:40:49] <scott> really, all we need is loop and if ... { break }
[04:41:11] *** Joins: fyolnish (fyolnish@moz-uoqcnf.ocn.ne.jp)
[04:41:14] <scott> break at the top = while, break at the bottom = do-while, break in the middle = that other thing, which is actually quite common and has no name I know of
[04:41:43] <blaenk> do-maybe
[04:41:53] *** Quits: Guest5 (textual@moz-hnb58r.oc.cox.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:41:59] <bstrie> do-sometimes
[04:42:07] <bstrie> do-kinda
[04:42:07] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[04:42:08] <huon> scott: I think `while let` would allow us to replace all control flow structs (including if and match)
[04:42:25] *** Quits: marsel (user@moz-6n3.f56.180.94.IP) (Ping timeout: 121 seconds)
[04:42:36] <blaenk> huon didnt you write some crazy macro one time, ONE time
[04:42:40] <blaenk> looping
[04:42:43] <blaenk> forgot what it was
[04:42:48] <blaenk> or syn ext
[04:42:50] <blaenk> idr
[04:43:05] <blaenk> cause someone was complaining on reddit or something
[04:43:38] *** Quits: popow (Thunderbird@moz-03f.kd0.252.223.IP) (Ping timeout: 121 seconds)
[04:44:23] <blaenk> http://huonw.github.io/cfor/cfor/
[04:44:24] <blaenk> see
[04:44:26] <blaenk> thanks a lot huon
[04:44:59] <huon> np :)
[04:45:01] <huon> it's not as crazy as Sharp's fall through match macro
[04:45:02] <bstrie> huon has only ever wrote one macro, and that was enough
[04:45:07] <bstrie> they put him on the core team for that macro
[04:45:12] <blaenk> I think the fall through one is the one I was thinking about
[04:45:13] *** Quits: fyolnish (fyolnish@moz-uoqcnf.ocn.ne.jp) (Ping timeout: 121 seconds)
[04:45:21] <blaenk> didn't know he was on the core team
[04:45:24] <scott> huon: strictly less powerful than C's for. RFC: Add comma operator to Rust
[04:45:30] <blaenk> I heard he even passed you in rank
[04:45:40] <huon> scott: hm, why?
[04:45:53] <scott> acutally, I guess you can write {a; b} for that
[04:45:57] <bstrie> blaenk: who, me? the rank in which I exist is beyond mere comprehension
[04:45:58] <huon> yeah :)
[04:45:58] <scott> I was just making a joke, though
[04:46:08] *** Quits: bombless (bombless@moz-iamjdm.0v2u.0v40.0da8.2001.IP) (Connection closed)
[04:46:08] <blaenk> lolo bstrie I thought that was huon saying what you were saying, talking about shrap
[04:46:20] <blaenk> you and huon and I are red names
[04:46:20] *** Joins: popow (Thunderbird@moz-03f.kd0.252.223.IP)
[04:46:20] *** Joins: bombless (bombless@moz-iamjdm.0v2u.0v40.0da8.2001.IP)
[04:46:30] <blaenk> I don't even bother looking at the names I just look at the colors like a babby
[04:46:43] <scott> I tried writing a macro TRY(foo) for a Result-like type in C, but it was impossible without GCC's statement-expression extension
[04:46:46] *** Joins: fyolnish (fyolnish@moz-uoqcnf.ocn.ne.jp)
[04:46:50] *** bstrie is now known as huom
[04:46:55] <blaenk> lol
[04:47:05] <huom> blaenk: what color am I now, is this easier
[04:47:13] <blaenk> well you highlighted me so you're green, say something
[04:47:18] *** Quits: khades (khades@moz-08k.3vk.74.212.IP) (Quit: leaving)
[04:47:20] *** Joins: khades (khades@moz-08k.3vk.74.212.IP)
[04:47:22] <huom> huon: it's me, your long lost son
[04:47:27] <blaenk> yeah you are green hahaha
[04:47:29] <khades> hi
[04:47:36] <blaenk> huon has some splainin
[04:47:46] <scott> for TRY(foo) you need ({ if (foo.is_err()) { return foo; }; foo.unwrap(); }) where ({ stmt; stmt; expr }) is GNU's statement-expression extension
[04:47:53] <huon> scott: jokes cannot exaggerate for comedic effect :P
[04:47:54] <scott> I was really sad
[04:47:59] *** huom is now known as bstrie
[04:48:14] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[04:48:16] *** Joins: ziad (ziad@moz-3kp.prd.136.50.IP)
[04:48:48] *** Quits: jonalmeida (jonalmeida@moz-5j8.kvb.131.104.IP) (Ping timeout: 121 seconds)
[04:48:49] *** Quits: turtil (turtil@moz-o1lceq.orcon.net.nz) (Connection closed)
[04:49:03] <huon> scott: , doesn't work?
[04:49:14] <huon> scott: oh, right, lack of sequence points?
[04:49:17] <scott> I think the left hand of , can't be a statement
[04:49:20] <huon> or that.
[04:49:51] *** Joins: dinfuehr (dinfuehr@moz-4pfs7r.highway.telekom.at)
[04:50:22] *** Joins: forgottenone (forgottenon@moz-160.l1s.42.176.IP)
[04:50:48] *** Quits: fyolnish (fyolnish@moz-uoqcnf.ocn.ne.jp) (Ping timeout: 121 seconds)
[04:50:51] *** Quits: BossKonaSegway (Michael@moz-vp8rf7.res.rr.com) (Connection closed)
[04:51:13] *** Joins: infynyxx (infynyxx@moz-85e.umq.196.73.IP)
[04:52:25] *** Quits: popow (Thunderbird@moz-03f.kd0.252.223.IP) (Ping timeout: 121 seconds)
[04:52:56] *** Joins: popow (Thunderbird@moz-03f.kd0.252.223.IP)
[04:53:58] *** Quits: dinfuehr (dinfuehr@moz-4pfs7r.highway.telekom.at) (Ping timeout: 121 seconds)
[04:53:59] *** Joins: turtil (turtil@moz-o1lceq.orcon.net.nz)
[04:55:49] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[04:56:01] *** Joins: fyolnish (fyolnish@moz-uoqcnf.ocn.ne.jp)
[04:56:05] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[04:56:08] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[04:56:14] <scott> huon: with a syntax extension, can you make cfor!(...) { ... } work, or does the synext only get the (...)?
[04:57:04] <huon> scott: only the (...)
[04:57:10] <scott> I guess it would be rather surprising if it was any other way
[04:57:42] <scott> it's nice to look at foo!(...) { ... } and know the latter piece is an independent block
[04:58:16] <huon> yeah, there's no tricks like expanding into `loop`, so that foo!() { ... } gives an infinite loop
[04:58:46] *** Joins: minzh (minzh@moz-u8rq5v.citrix.com)
[04:59:14] <scott> it's really nice that macros can be fully parsed without expansion
[04:59:23] *** nsm is now known as nsm|away
[04:59:36] *** Joins: kung_fu_mike (mike@moz-nae3f6.wa.comcast.net)
[04:59:47] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[04:59:55] <scott> even for a simple tool expression syntax just needs to know foo!( /* matching () {} [] */ ) is a valid expression
[05:00:03] *** Quits: fyolnish (fyolnish@moz-uoqcnf.ocn.ne.jp) (Ping timeout: 121 seconds)
[05:00:12] *** Joins: djcb (user@moz-8r0oht.elisa-laajakaista.fi)
[05:00:20] *** Joins: fyolnish (fyolnish@moz-uoqcnf.ocn.ne.jp)
[05:00:25] *** Joins: bombless_ (bombless@moz-iamjdm.0v2u.0v40.0da8.2001.IP)
[05:00:44] <bombless_> How to deal with `trait Is<T> {}` now?
[05:00:50] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[05:01:07] <bombless_> I'm not sure where to add the PhantomFn
[05:01:24] <huon> `trait Is<T>: MarkerTrait<T> {}`
[05:01:26] <krax> anyone have some good articles on when I should be using the keyword 'ref'? I end up getting an error (typically in match statements) that tells me to use 'ref'. I blindly do what it tells me without understanding whats happening
[05:01:32] <bombless_> huon: Thanks :)
[05:01:48] *** Joins: meteredsection- (meteredsect@moz-ersuj2.wa.comcast.net)
[05:02:01] *** Quits: meteredsection (meteredsect@moz-ersuj2.wa.comcast.net) (Quit: )
[05:02:05] *** meteredsection- is now known as meteredsection
[05:02:27] <scott> krax: a pattern like (x, y) tries to move (or copy if the type is Copy) x and y out of the pair. (ref x, ref y) makes the x and y bindings pointers into the existing pair instead
[05:02:30] *** Quits: bombless (bombless@moz-iamjdm.0v2u.0v40.0da8.2001.IP) (Ping timeout: 121 seconds)
[05:02:44] *** Quits: reem (reem@moz-3ugurj.coob.q2h1.0009.2601.IP) (Connection closed)
[05:02:50] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:02:59] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[05:03:04] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[05:03:23] <krax> scott: why is it ref and not &?
[05:03:32] *** Quits: fyolnish (fyolnish@moz-uoqcnf.ocn.ne.jp) (Connection closed)
[05:03:40] *** Quits: khades (khades@moz-08k.3vk.74.212.IP) (Ping timeout: 121 seconds)
[05:03:49] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (Ping timeout: 121 seconds)
[05:04:00] *** Joins: fyolnish (fyolnish@moz-uoqcnf.ocn.ne.jp)
[05:04:01] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[05:04:13] <scott> & also exists in patterns and it is used to pattern match inside a reference
[05:04:33] <scott> if I had p: &(i32, i32) I could let &(x, y) = p
[05:04:53] *** Joins: bombless (bombless@moz-1j8.piv.41.59.IP)
[05:05:10] <scott> ref just means "make this next binding a reference instead of a plain value"
[05:06:02] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[05:06:26] *** nsm|away is now known as nsm
[05:06:46] *** Quits: djcb (user@moz-8r0oht.elisa-laajakaista.fi) (Connection closed)
[05:06:48] <kung_fu_mike> Hey Everyone, I was just trying to run through the Nickel.rs examples. I am getting the error "error: can't find crate for `nickel_macros`". My Cargo.toml  has a single dependency: [dependencies.nickel]
[05:06:48] <kung_fu_mike> git = "https://github.com/nickel-org/nickel.rs.git"
[05:06:48] <kung_fu_mike> Do the nickel_marcos need to be included in the Cargo.toml as an explicit separate dependency?
[05:06:48] *** Joins: djcb (user@moz-8r0oht.elisa-laajakaista.fi)
[05:07:05] *** Quits: bombless_ (bombless@moz-iamjdm.0v2u.0v40.0da8.2001.IP) (Ping timeout: 121 seconds)
[05:07:06] *** Quits: turtil (turtil@moz-o1lceq.orcon.net.nz) (Quit: WeeChat 1.1.1)
[05:07:14] *** Joins: jonalmeida (jonalmeida@moz-5j8.kvb.131.104.IP)
[05:07:19] <scott> krax: in other words & actually has an effect on the pattern while ref is just a property of a binding
[05:08:02] *** Quits: fyolnish (fyolnish@moz-uoqcnf.ocn.ne.jp) (Ping timeout: 121 seconds)
[05:08:11] *** Joins: turtil (turtil@moz-o1lceq.orcon.net.nz)
[05:08:15] *** Parts: turtil (turtil@moz-o1lceq.orcon.net.nz) ("WeeChat 1.1.1")
[05:08:25] <bombless> So `trait Is<T>: PhantomFn<T> + Sized {}` is fine.
[05:09:07] *** Quits: rfnash (weechat@moz-203epe.in.comcast.net) (Ping timeout: 121 seconds)
[05:09:32] *** Joins: fyolnish (fyolnish@moz-uoqcnf.ocn.ne.jp)
[05:09:49] <bombless> and also `trait Is<T>: PhantomFn<T> + PhantomFn<Self> {}`
[05:10:18] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[05:10:39] *** Joins: loyd (loyd@moz-uft.32f.108.213.IP)
[05:10:46] <iopq> Is it possible to peek at the next element of an iterator without moving the whole iterator?
[05:10:47] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[05:10:47] *** ChanServ sets mode: +ao pcwalton pcwalton
[05:10:54] <bombless> in pattern matching position & will do deref.
[05:11:05] <bombless> So to make reference you need `ref`
[05:11:43] <blaenk> the fact taht you have to deref a str lit to leverage Borrow<str> for String is annoyingggg!!!
[05:11:44] <blaenk> http://is.gd/QvBU5T
[05:11:50] *** Quits: fyolnish (fyolnish@moz-uoqcnf.ocn.ne.jp) (Connection closed)
[05:11:51] <bombless> I guess you need your own Peek trait or Peek<T: Iterator> or something.
[05:11:51] *** Joins: fyolnish (fyolnish@moz-uoqcnf.ocn.ne.jp)
[05:12:12] <iopq> Bombless is there any way to know if it's empty at least without consuming it
[05:12:21] <scott> & doesn't necessarily do deref (since you can cancel it with ref, a bit like &*p expressions)
[05:12:50] <scott> I guess it does a logical deref but not necessarily a real one, if that makes any sense
[05:12:50] <bombless> iopq: I think you need to buffter previous item.
[05:12:56] <bombless> *buffer
[05:13:18] <iopq> bombless: I don't even know if my iterator has any items in it at all, how do I check
[05:13:28] <scott> iopq: maybe http://doc.rust-lang.org/nightly/std/iter/struct.Peekable.html will help?
[05:14:04] <scott> not sure how you get one of those
[05:14:56] <scott> iopq: aha: http://doc.rust-lang.org/nightly/core/iter/trait.IteratorExt.html#method.peekable
[05:14:57] *** Quits: infynyxx (infynyxx@moz-85e.umq.196.73.IP) (Connection closed)
[05:15:04] <iopq> scott: I tried that on vec.iter() and it was not peekable
[05:15:34] <scott> iopq: did you use std::iter::IteratorExt?
[05:15:54] <iopq> let me try the peekable thing
[05:16:10] <blaenk> scott: it works with hm.get("str"), but not hm["str"], I think because Index is diff
[05:16:28] <scott> playbot: let v = vec![1,2,3]; v.iter().peekable().peek()
[05:16:29] -playbot- <anon>:14:30: 14:31 error: `v` does not live long enough
[05:16:30] -playbot- <anon>:14         let v = vec![1,2,3]; v.iter().peekable().peek()
[05:16:30] -playbot- output truncated; full output at: http://bit.ly/1FSwzFg
[05:16:44] *** Joins: mdinger (Mibbit@moz-mvlcev.gnvlsc.sbcglobal.net)
[05:16:46] <scott> playbot: let v = vec![1,2,3]; let p = v.iter().peekable(); show(p.peek())
[05:16:47] -playbot- <anon>:14:64: 14:65 error: cannot borrow immutable local variable `p` as mutable
[05:16:48] -playbot- <anon>:14         let v = vec![1,2,3]; let p = v.iter().peekable(); show(p.peek())
[05:16:48] -playbot- output truncated; full output at: http://bit.ly/1BdRqhg
[05:16:57] <scott> playbot: let v = vec![1,2,3]; let mut p = v.iter().peekable(); show(p.peek())
[05:16:58] -playbot- Some(1)
[05:16:59] -playbot- ()
[05:17:04] <scott> sorry for the noise...
[05:17:11] <reem> scott: you can pm playbot
[05:17:24] <scott> yeah, I usually do before trying things in public :P
[05:17:40] <bombless> blaenk: http://is.gd/Q1e5P4 If you don't mind, just use the `get()` ;)
[05:17:55] <blaenk> thanks, but yeah that's my point, that it works with get ;_;
[05:18:40] <scott> does indexing syntax implictly ref the argument?
[05:19:20] <scott> yeah, the index function takes &Idx, so I guess that might make a difference
[05:19:23] <mdinger> In this example: http://is.gd/AOcicY , to interpret why `fun1` doesn't work, is it correct to say that `fun1` is exactly equivalent to `fun2`. That is, the reason fun1 fails is because the function is implicitly taking ownership like in fun2 and then dropping the value?
[05:19:51] *** Joins: Guest_ (textual@moz-6at.u11.43.61.IP)
[05:20:11] <scott> mdinger: fun1 will work if you use static C instead of const C
[05:20:36] <mdinger> yeah, i know. I'm just trying to interpret why it's failing as is.
[05:20:37] <scott> with const C, I think fun1 and fun2 are equivalent
[05:20:56] *** Quits: hoverbear (hoverbear@moz-csaicn.gv.shawcable.net) (Quit: Time to hibernate.... ZzZz...)
[05:21:09] <mdinger> scott: okay good. thanks.
[05:22:12] *** Joins: marsel (user@moz-3o2.end.162.188.IP)
[05:22:13] <scott> although I'm not entirely sure how const values get codegen'd right now
[05:22:27] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[05:22:55] <blaenk> eddyb smokes dank const kush ask him
[05:23:06] <bombless> Maybe fun2 should fail as well?
[05:23:14] <blaenk> he the const master
[05:23:15] <scott> fun2 will fail no matter what happens
[05:23:25] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:23:31] <scott> it tries to return a reference to a local
[05:23:36] *** Joins: acgtyrant (acgtyrant@moz-cn1.4sk.186.39.IP)
[05:23:39] <bombless> Yeah fun2 fails...
[05:23:43] *** Quits: thesnowdog (doug@moz-g88.8fa.181.180.IP) (Connection closed)
[05:23:44] <scott> fun1 also does that if C is const rather than static
[05:24:07] <bombless> Now I think the error output is not good enough. Why doesn't report them all at once.
[05:24:14] *** Quits: Wild_Cat (Max@moz-f1ofqf.cpe.teksavvy.com) (Ping timeout: 121 seconds)
[05:24:40] <scott> doesn't it? I see errors for both functions
[05:25:02] <bombless> Oh my bad, yeah it does.
[05:25:18] *** Joins: slashus2 (slashus2___@moz-9uc1q1.res.rr.com)
[05:25:21] <scott> anyway, iirc eddyb's work made references to const values actually use static memory instead of local stack copies, but the type system doesn't currently know that
[05:25:42] <bombless> That's good.
[05:25:50] *** Joins: coxg (sazzer@moz-1hq.kh5.32.217.IP)
[05:26:10] *** Quits: jviereck (Adium@moz-il2n2e.dynamic.hispeed.ch) (Quit: Leaving.)
[05:26:30] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[05:27:17] <scott> I think the plan is to make that work in general so something like &[1, 2, 3] can be &'static [u8]
[05:27:17] <mdinger> does that mean that error will be going away?
[05:27:43] <scott> potentially, but I'm not certain about the things I'm saying
[05:28:15] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[05:28:28] <mdinger> why would they do that? why not allow `static const VERTICES ...`?
[05:28:56] *** Joins: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp)
[05:29:15] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[05:29:29] <scott> not sure what that would mean
[05:29:56] <scott> but it would let you do foo(&[1, 2, 3]) where foo accepts &'static [u8] without having to name this constant
[05:30:02] *** Quits: coxg (sazzer@moz-1hq.kh5.32.217.IP) (Ping timeout: 121 seconds)
[05:31:44] <mdinger> oh, i see what you mean by *can be* static. i get it.
[05:31:45] <eddyb> nmatsakis promised to write an RFC and then nobody did
[05:31:49] <eddyb> and it's not exactly... urgent
[05:32:11] *** Quits: krax (archdev@moz-hff.m76.69.68.IP) (Quit: leaving)
[05:32:18] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Ping timeout: 121 seconds)
[05:32:19] <scott> there's a lot of "cool to have" features that can be added later
[05:32:23] <scott> the future is bright =)
[05:32:39] <eddyb> the infrastructure is used by `const fn` though
[05:32:45] <eddyb> and likely associated constants
[05:33:11] <eddyb> not to mention &BIG_ARRAY no longer stack overflows :P
[05:33:18] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[05:33:18] *** Quits: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp) (Ping timeout: 121 seconds)
[05:33:36] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[05:33:45] *** Joins: Slava_I (slava@moz-q3p.fgg.216.178.IP)
[05:33:47] <scott> heh
[05:34:10] <scott> I saw people bit by the similar Box::new([0; BIG_NUMBER])
[05:34:21] <scott> the new box/in RFC solves that, right?
[05:34:28] <eddyb> scott: so did the old one...
[05:34:34] <eddyb> there is basically 0 reason to use Box::new
[05:34:44] <eddyb> it used to work and it will keep working
[05:34:47] <scott> right, it was just the only way for a short time
[05:34:55] <eddyb> what was?
[05:35:00] <scott> Box::new
[05:35:04] <eddyb> `box` was never disabled
[05:35:13] <eddyb> don't confuse feature gating with removal
[05:36:01] <cmr> I refuse to write code with #![feature] anymore.
[05:36:02] <scott> ah, I thought it was actually temporarily removed
[05:36:17] <eddyb> scott: nope, just stategy
[05:36:22] <eddyb> *strategy
[05:36:38] <scott> I guess the future was uncertain for a time, but now the box keyword is recommended again?
[05:36:41] <eddyb> in case the new protocol isn't implemented in time, `Box::new` is there to fall back
[05:36:46] <scott> I see
[05:36:47] <eddyb> scott: I never stopped recommending it
[05:36:48] <Yurume> #![feature(feature)]
[05:37:02] <scott> #![deny(feature)]
[05:37:41] <eddyb> scott: the chance of 1.0 relasing without a box protocol is so slim, it's more practical to change to Box::new later, only in the event of failure
[05:37:53] <eddyb> I mean, come on, bracing for unlikely failure. that's just lame
[05:38:00] <eddyb> and... quite inefficient
[05:38:08] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[05:38:30] <scott> is it likely we'll get `box` but not `in` for 1.0?
[05:38:42] <eddyb> `in` is less certain... even the usage of the keyword
[05:38:50] <eddyb> `place <- value` came up lately
[05:38:55] <scott> hmm, interesting
[05:38:59] *** Joins: dawehner (quassel@moz-6aq1ua.hsi7.kabel-badenwuerttemberg.de)
[05:38:59] *** Joins: fabiand (fabiand@moz-pnhepm.dip0.t-ipconnect.de)
[05:39:07] <scott> I hadn't seen that suggested before but it seems pretty good
[05:39:16] *** Joins: sw17ch (sw17ch@moz-h64l8d.wa.comcast.net)
[05:39:17] <eddyb> it wouldn't be stabilized, even if `box` might be
[05:40:06] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[05:40:17] <Dabo> Is an ICE expected when trying isize::MAX? https://gist.github.com/daboross/6e008c98fff7f1bf5415
[05:40:38] <Dabo> I was just wondering if it would work, and an ICE!
[05:40:42] <reem> ICEs are never expected
[05:40:47] <cmr> Dabo: ICE is never expected.
[05:40:50] <reem> errors yes, ICE no
[05:40:50] <cmr> feh
[05:40:52] <Dabo> yeah, but I mean is it known
[05:40:56] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[05:41:27] <eddyb> I don't recall anything like that
[05:41:42] <eddyb> hahahahahaha
[05:41:47] *** Quits: kanzeon (kanzeon@moz-v32emv.rkpe.j439.030a.2602.IP) (Quit: )
[05:41:54] <eddyb> Dabo: you didn't import the *module* named isize
[05:42:12] <Dabo> eddyb, true, I realize it isn't done at all correctly, it still does ICE though xD
[05:42:18] <eddyb> this will be fixed by associated constants (quantheory has a nice PR open for that)
[05:42:45] <eddyb> Dabo: this can only happen if isize::MAX is not resolved
[05:42:53] *** Joins: kanzeon (kanzeon@moz-v32emv.rkpe.j439.030a.2602.IP)
[05:43:03] <Dabo> ok
[05:43:06] *** darkowlzz|afk is now known as darkowlzz
[05:43:18] *** Quits: dawehner (quassel@moz-6aq1ua.hsi7.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[05:43:34] <eddyb> Dabo: do you have `use std::isize;`?
[05:43:39] *** Quits: SpaceWizard (RJones@moz-anbpsl.east.myfairpoint.net) (Ping timeout: 121 seconds)
[05:43:42] <eddyb> because that's the only way it would work
[05:43:47] <eddyb> (for now)
[05:43:47] <Dabo> eddyb, I don't, I didn't expect it to work :P
[05:43:54] <Dabo> it works with usize::MAX when importing usize
[05:44:18] *** Quits: kanzeon (kanzeon@moz-v32emv.rkpe.j439.030a.2602.IP) (Connection closed)
[05:44:47] <eddyb> I guess I shouldn't have said I don't recall anything before actually looking at the message
[05:45:27] <eddyb> I wonder who was the moron who implemented that panicking behavior
[05:46:29] * bombless facepalm
[05:46:41] *** darkowlzz is now known as darkowlzz|afk
[05:46:45] <eddyb> bombless: what'ya do?
[05:47:24] <bombless> no, I just didn't expect that word appear here
[05:47:25] *** Quits: O01eg (o01eg@moz-spb2m1.tap7.4n8f.2698.2a02.IP) (Client exited)
[05:47:56] *** Joins: jonalmei_ (jonalmeida@moz-ruqfvo.home.cgocable.net)
[05:48:05] *** Quits: scape_ (scape@moz-ci61eb.nj.comcast.net) (Connection closed)
[05:48:16] <mdinger> from my previous question: http://is.gd/AOcicY , if C is static, can ownership be transferred to _C?
[05:48:19] *** Joins: laogao_ (laogao@moz-m3ssu7.members.linode.com)
[05:48:26] *** Joins: scape_ (scape@moz-ci61eb.nj.comcast.net)
[05:48:47] <eddyb> bombless: I reserve the right to insult myself as much as I desire :P
[05:49:01] *** Quits: psd (psd@moz-acc.mpg.78.202.IP) (Ping timeout: 121 seconds)
[05:49:04] *** Quits: minzh (minzh@moz-u8rq5v.citrix.com) (A TLS packet with unexpected length was received.)
[05:49:10] *** Joins: minzh (minzh@moz-u8rq5v.citrix.com)
[05:49:12] <bombless> eddyb: :P
[05:49:19] <dougxxx> mdinger: Not in your example, because i32 is a copy-by-value
[05:49:27] <dougxxx> let _C = C just creates a copy
[05:49:40] <mdinger> ohh
[05:49:43] <dougxxx> But if you had say, Option<Foo>
[05:49:55] <dougxxx> you could call let _C = C.take().unwrap()
[05:49:57] *** Quits: jonalmeida (jonalmeida@moz-5j8.kvb.131.104.IP) (Connection closed)
[05:50:01] *** Joins: jonalmeida (jonalmeida@moz-5j8.kvb.131.104.IP)
[05:50:05] <scott> if you put something non-Copy in the static then let _C = C would be an error
[05:50:17] *** Quits: Boscop (me@moz-9fq.aou.65.112.IP) (Ping timeout: 121 seconds)
[05:50:20] <eddyb> is it a static mut?
[05:50:29] <mdinger> naw
[05:50:37] *** Joins: dinfuehr (dinfuehr@moz-4pfs7r.highway.telekom.at)
[05:50:40] <eddyb> it's... a constant
[05:50:54] <eddyb> you can actually put non-Copy *types* but not values in constants
[05:51:12] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[05:51:20] <eddyb> None::<Box<T>> is a valid reusable constant
[05:51:34] *** Quits: DerisiveLogic (smuxi@moz-g93io6.res.rr.com) (Ping timeout: 121 seconds)
[05:51:52] <iopq> I have an iterator and I want to pick a random element out of it, is this possible?
[05:51:54] <eddyb> Some(Vec { data: 1 as *const T, len: 0, cap: 0 }) isn't
[05:52:03] <eddyb> iopq: RandomAccessIterator, if it still exists
[05:52:06] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:52:09] <iopq> I don't want to collect() or it would defeat the purpose
[05:52:56] <reem> eddyb: Actually, it is, since empty Vec's are safe even if you make them Copy.
[05:53:03] *** Quits: jonalmei_ (jonalmeida@moz-ruqfvo.home.cgocable.net) (Ping timeout: 121 seconds)
[05:53:06] <mdinger> okay. that's tricky (or picky i guess too)
[05:53:17] <eddyb> reem: no it's not, because Vec has a dtor
[05:53:19] <iopq> eddyb: how do I make one
[05:53:21] <Sergio> iopq: There's no super efficient way to do that.
[05:53:28] *** Quits: ambimorph (amber@moz-2ckch7.hlrn.qwest.net) (Ping timeout: 121 seconds)
[05:53:29] <reem> eddyb: Yes, but the destructor does nothing for data = 1
[05:53:37] <eddyb> reem: that's not encoded in the Drop impl :P
[05:53:43] <reem> sorry, cap = 0
[05:53:54] <reem> and len = 0
[05:53:54] <eddyb> iopq: you don't, you use iterators which also implement that
[05:54:03] <eddyb> reem: I was talking about *safe* const's
[05:54:24] <reem> eddyb: Yes, I was just pointing out that coincidentally that one instance of Vec is fine to Copy.
[05:54:29] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[05:54:40] *** Quits: dinfuehr (dinfuehr@moz-4pfs7r.highway.telekom.at) (Ping timeout: 121 seconds)
[05:54:54] <eddyb> fun fact: it's still promoted to rodata
[05:55:00] <dougxxx> mdinger: be careful of this: http://is.gd/jsXVcH
[05:55:13] <eddyb> so Vec::new is a single memcpy call
[05:55:23] <dougxxx> It doesn't do what you might expect; this is in fact breaking the memory safety and is undefined behaviour.
[05:55:46] <scott> eddyb: cool
[05:55:50] *** Joins: jmitchell (user@moz-o8p.pug.156.104.IP)
[05:56:16] <eddyb> dougxxx: you monster
[05:56:25] *** darkowlzz|afk is now known as darkowlzz
[05:56:37] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:56:46] <reem> what's undefined about it?
[05:56:52] <eddyb> *everything*
[05:57:02] <scott> that's the whole point of static mut, isn't it?
[05:57:04] <dougxxx> Isn't the Foo instance on the stack in foo_in?
[05:57:09] <eddyb> no, static mut is almost useless
[05:57:18] <scott> it's always unsafe, you just need to preserve the invariants
[05:57:26] <eddyb> which is generally *impossible*
[05:57:28] <scott> oh, I guess foo_* should be unsafe functions
[05:57:29] <Sergio> dougxxx: No...
[05:57:34] <scott> they do not provide a safe interface
[05:57:56] <eddyb> dougxxx: it's copied into the static
[05:57:59] <eddyb> that's not the issue :P
[05:58:17] <Dabo> iopq, if the iterator implements ExactSizeIterator, you could just .skip() a random number from 0 to len()
[05:58:21] <dougxxx> mm... maybe I'm wrong then. I thought moving into a static would do that. I guess its only if you save an raw pointer.
[05:58:23] <eddyb> reem: unsynchronized global memory accesses are UB
[05:58:28] <Sergio> I'm not sure this is memory unsafe besides race conditions.
[05:58:40] <eddyb> Sergio: aaaand optimizations
[05:58:45] <reem> eddyb: Even if you don't use threads in your code?
[05:59:01] <eddyb> reem: if you have 0 threading ever, maybe it can work
[05:59:06] <Sergio> eddyb: What would be optimized out?
[05:59:08] *** Quits: ril (ril@moz-p7jr3k.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[05:59:08] <Sergio> Or in?
[05:59:09] <reem> the above example has no threading
[05:59:12] *** Quits: meteredsection (meteredsect@moz-ersuj2.wa.comcast.net) (Quit: leaving)
[05:59:14] *** Quits: cesar (cesar@moz-rgddno.sndgca.sbcglobal.net) (Connection closed)
[05:59:21] <eddyb> but in a kernel without interrupts disabled, it's still UB
[05:59:23] *** Joins: meteredsection (meteredsect@moz-ersuj2.wa.comcast.net)
[05:59:24] <reem> it's just one big unsafe block cut into two functions
[05:59:29] *** Joins: Boscop (me@moz-9fq.aou.65.112.IP)
[05:59:48] <Sergio> eddyb: What do interrupts have to do with anything?
[06:00:00] <reem> I'm confused
[06:00:04] <eddyb> Sergio: you can be single-threaded and reentrance will still ruin your day
[06:00:27] *** Quits: laogao_ (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[06:00:37] <Sergio> Uh huh, but I don't see how that applies to this program.
[06:00:44] <reem> me either
[06:00:49] <mdinger> dougxxx: seems like it's doing what it's supposed to. maybe i missed something
[06:01:05] <eddyb> I was talking about the main usecase people think of when they say "single-threaded"
[06:01:16] <eddyb> which is not user-space
[06:01:20] <reem> oooh I see
[06:01:22] <reem> I get it
[06:01:23] *** darkowlzz is now known as darkowlzz|afk
[06:01:30] <reem> this explains it quite well http://en.wikipedia.org/wiki/Reentrancy_%28computing%29
[06:01:54] <eddyb> reem: it surely applies to user-space as well, but it's blurier there
[06:01:56] <dougxxx> mdinger: yeah, my bad. I was thinking of http://is.gd/sUuaNG
[06:02:09] <eddyb> if you don't have interrupts enabled, then what do you need global mutable state for :P?
[06:02:34] <Sergio> eddyb: To not pass around references?
[06:02:56] *** Joins: brainproxy (michael@moz-9vjtig.mo.charter.com)
[06:03:28] <eddyb> reem: I need to dig up some proper info on LLVM in the unlikely case I am wrong, but...
[06:03:34] <Sergio> Anyway, I'm not sure how you could have memory issues (besides races) in that program.
[06:03:36] <eddyb> reem: LLVM needs it synchronized accesses
[06:03:38] *** Quits: Boscop (me@moz-9fq.aou.65.112.IP) (Ping timeout: 121 seconds)
[06:03:38] <Sergio> What does Rust say about UB?
[06:03:43] *** Quits: jhamren (jhamren@moz-p6gv8u.se.alltele.net) (Ping timeout: 121 seconds)
[06:03:47] <Sergio> Or, where does the UB come from?
[06:03:50] <eddyb> Sergio: UB in Rust is *at least as bad* as C
[06:03:53] <eddyb> ah
[06:03:59] <eddyb> Sergio: aliasing &mut, mainly
[06:04:04] *** Joins: dpc (dpc@moz-a8v.6sn.162.73.IP)
[06:04:08] <Sergio> There is no aliasing of &mut here.
[06:04:09] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[06:04:24] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[06:04:27] <Sergio> In fact, there are zero references at all.
[06:04:31] <Sergio> er, zero -> no
[06:04:35] <reem> this program is reentrant
[06:04:39] <eddyb> Sergio: you sure?
[06:04:40] <Sergio> Simply copying from a global memory location.
[06:04:47] <dpc> Any way to get "match i16_var { 'x' as i16 => {...}}" ?
[06:04:49] <reem> no bad behavior will be called by recursive calls
[06:04:49] <mdinger> dougxxx: yeah, that's weird
[06:04:50] <eddyb> look at the singature of Option::take
[06:04:55] <reem> oh nope
[06:05:03] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:05:06] <reem> the existence of bar is a problem
[06:05:08] <eddyb> *signature
[06:05:12] *** Joins: jaen (jaen@moz-ifmik2.copit.pl)
[06:05:16] <reem> since that could alias &muts
[06:05:18] *** Joins: mihneadb (mihneadb@moz-b5r.gbu.120.86.IP)
[06:05:27] <Sergio> eddyb: Hmm, sure, but that doesn't alias &mut
[06:05:42] *** Joins: Boscop (me@moz-9fq.aou.65.112.IP)
[06:05:42] <eddyb> Sergio: FOOBAR = FOOBAR.take();
[06:05:44] <mdinger> are arrays copy or non-copy?
[06:05:46] <eddyb> pwned
[06:05:52] <mdinger> I'm not sure how to tell
[06:06:01] <scott> mdinger: [T]: Copy if T: Copy, I think
[06:06:06] *** Quits: Azdle (Azdle@moz-fv6arh.mn.comcast.net) (Ping timeout: 121 seconds)
[06:06:07] <reem> yup
[06:06:16] <eddyb> [T] or [T; N]?
[06:06:25] <mdinger> [T; N]
[06:06:28] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[06:06:32] <scott> I meant [T; N] as well
[06:06:34] <eddyb> unsized types being Copy is weird... for now :D
[06:06:41] <Sergio> eddyb: That breaks ownership rules and won't compile.
[06:06:48] <eddyb> Sergio: what ownership rules?
[06:06:58] <eddyb> borrow checking works on local variables
[06:07:03] *** Quits: jmitchell (user@moz-o8p.pug.156.104.IP) (A TLS packet with unexpected length was received.)
[06:07:13] <eddyb> you can't have your cake and eat it too
[06:07:25] <Sergio> Sorry, I thought you'd unwrap afterwards.
[06:07:29] <Sergio> What's wrong with foo = foo.take()?
[06:07:36] *** Joins: nodweber_ (nodweber@moz-knt.fgq.178.5.IP)
[06:07:48] <Sergio> It's a noop.
[06:07:53] <eddyb> Sergio: in-place initialization of the same thing you're borrowing as mutable
[06:07:55] *** Quits: brainproxy (michael@moz-9vjtig.mo.charter.com) (Ping timeout: 121 seconds)
[06:07:59] *** Joins: lllshamanlll (Thunderbird@moz-tlc.puj.66.146.IP)
[06:08:12] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[06:08:12] <eddyb> you're effectively calling Option::take(&mut FOOBAR, &mut FOOBAR)
[06:08:35] *** Joins: jhamren (jhamren@moz-p6gv8u.se.alltele.net)
[06:08:36] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:08:54] <eddyb> maybe I should start with a nice short PoC
[06:08:58] <Sergio> http://is.gd/RTDJAJ
[06:09:01] <Sergio> I don't get it.
[06:09:13] <eddyb> Sergio: x is a local variable...
[06:09:27] <eddyb> of course it works there, that was not what I was talking about
[06:09:35] <Sergio> It works in the other code too.
[06:09:35] *** Quits: acgtyrant (acgtyrant@moz-cn1.4sk.186.39.IP) (Quit: 堕入 /dev/null)
[06:09:48] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[06:10:39] <Sergio> foo = foo.take() is simply; tmp = foo.take(); foo = tmp;
[06:10:48] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Connection closed)
[06:10:53] <eddyb> that's inefficient
[06:10:56] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[06:10:56] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[06:10:59] <Sergio> So?
[06:11:03] <Sergio> They're equivalent statements.
[06:11:04] *** Quits: meteredsection (meteredsect@moz-ersuj2.wa.comcast.net) (Quit: leaving)
[06:11:06] <eddyb> we do in-place initialization
[06:11:09] <eddyb> Sergio: they're not
[06:11:10] <iopq> my solution to the random iterator problem: try to yield one element. If we CAN, poke around in the original vector and apply the conditions from the iterator randomly until we find what we're looking for. 2x improvement in performance compared to .collect()
[06:11:10] <Sergio> Which means if one is correct so is the other.
[06:11:11] *** Joins: meteredsection (meteredsect@moz-ersuj2.wa.comcast.net)
[06:11:20] *** Joins: v21 (vee@moz-0at8va.gistda.or.th)
[06:11:32] <Sergio> iopq: If you have the original vector, just index into it randomly...
[06:11:56] <Sergio> (Which is what RandomAccessIterator tries to capture more generically for anything that can be indexed)
[06:12:05] <Sergio> eddyb: They're not?
[06:12:16] <iopq> Sergio: yeah but the original vector is not filtered, so I first filter it, try to get one element, and THEN poke around in it if there are elements to find
[06:12:22] <eddyb> Sergio: foo = foo.take() can be correct because we know foo is borrowed, so we have to make a temporary
[06:12:23] <Sergio> CSE trivially yields the first statement.
[06:12:59] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:13:01] <mdinger> http://is.gd/hiQOxO i swapped in static. i thought the functions were equal but now the second doesn't work. is that shorthand only valid with non-static entities?
[06:13:05] <Sergio> iopq: Got it.
[06:13:18] *** Quits: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca) (Connection closed)
[06:13:23] <eddyb> oh dammit
[06:13:35] <Sergio> mdinger: You're getting a pointer to the automatic variable _C
[06:13:50] <eddyb> Sergio: it happens to be fine right now because we regressed codegen *somehow*
[06:14:10] <Sergio> mdinger: You've copied the contents of C into _C and are getting a pointer to this new copy which only lives for the lifetime of the function.
[06:14:26] <eddyb> either that or the levels of indirection create a copy at some point which LLVM dutifully preserves
[06:14:42] *** Joins: acgtyrant (acgtyrant@moz-n5u.4sk.186.39.IP)
[06:14:43] <Sergio> eddyb: I don't know. Seems fine to me.
[06:14:53] *** Joins: psd (psd@moz-acc.mpg.78.202.IP)
[06:15:12] <mdinger> Sergio: yeah but fun1 and fun2 are supposed to be direct equivalents
[06:15:29] <Sergio> mdinger: What do you mean? They're not as you've written them.
[06:16:10] <eddyb> Sergio: I guess a certain fix was never fully implemented
[06:16:28] <eddyb> of course inefficient codegen saved the stupid static muts
[06:16:51] <Sergio> eddyb: The most efficient codegen would render that a noop.
[06:16:54] <mdinger> Sergio: if C was const, then (I was asked and was told this was correct) the explanation for the behavior of fun1 was by examining fun2 which is equivalent
[06:17:00] <eddyb> Sergio: no, it would render that UB
[06:17:04] <Sergio> What?
[06:17:09] <Sergio> ^ eddyb 
[06:17:22] <eddyb> again, it's supposed to compile to Option::taken(&mut FOO, &mut FOO)
[06:17:30] <eddyb> (in case FOO is larger than a pointer)
[06:18:03] <eddyb> for everything other than static mut, we can tell whether that's safe or not from borrowing
[06:18:05] <Sergio> You made a claim before that calling foo = foo.take() was fine when full was a local. But, based on what you're saying now, this wouldn't be fine. Which one is it? If the former, how?
[06:18:18] <Sergio> full = foo
[06:18:39] *** Joins: matiaslina (matias@moz-9l9.jl5.11.190.IP)
[06:18:40] *** Joins: archion (Mibbit@moz-4i0.5h6.212.114.IP)
[06:19:01] <Sergio> mdinger: Well, I wasn't there for that conversation, but I've told you why the snippet you posted doesn't work.
[06:19:01] *** Joins: jmitchell (user@moz-o8p.pug.156.104.IP)
[06:19:08] <scott> mdinger: &1 logically expands to let foo = 1; &foo, and that applies to any constant value, but &x for a static x doesn't
[06:19:34] <Sergio> scott: &x for any variable x.
[06:19:34] *** Joins: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca)
[06:19:39] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[06:19:45] <eddyb> 1 is not a variable
[06:19:47] <scott> ah, yeah
[06:19:53] <Sergio> eddyb: That's my point.
[06:19:57] <scott> he's referring to my statement about static
[06:20:10] <eddyb> ah
[06:20:15] <Sergio> Oh.
[06:20:18] <eddyb> then "variable" is still wrong
[06:20:18] <mdinger> scott: oh. it's because a const is inlined then
[06:20:25] <Sergio> mdinger: no...
[06:20:31] <eddyb> though that's arguable :P
[06:20:40] <eddyb> the right terms are rvalue/lvalue
[06:20:42] <Sergio> mdinger: You're skipping a layer of understanding here.
[06:21:17] <eddyb> mdinger: constants don't have defined places in memory. except... internally they do and we want to make it a language feature :P
[06:21:17] <mdinger> Sergio: i was working off of the reference terms
[06:21:26] <eddyb> mdinger: the reference is bad and you shouldn't read it
[06:21:31] *** Joins: bjz (bjz@moz-4l6.mjm.52.113.IP)
[06:21:33] <scott> eddyb: oh, yeah, that just made this clearer to me
[06:21:34] <eddyb> unless you can already tell where it's wrong
[06:21:45] <scott> &lvalue is like & in C
[06:21:53] <eddyb> and &rvalue is banned in C
[06:21:59] *** Joins: errordeveloper (ilya@moz-g0i.mtf.125.2.IP)
[06:22:15] <scott> &rvalue introduces a temporary on the stack (except when it's constant and goes in rodata, but this is an implementation detail right now)
[06:22:26] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[06:22:31] *** Joins: dylan_ (dylan@moz-188.d0d.43.100.IP)
[06:22:34] <Sergio> &[anything] gives you the address of [anything]. If [anything] doesn't have a memory address yet (because it's some value you've just introduced for the first time), then it's assigned one at that point.
[06:22:36] *** Joins: alhof (dylan@moz-188.d0d.43.100.IP)
[06:22:52] <Sergio> If [anything] does have an address (it's in some memory location somewhere, like a variable or a struct field), you get that.
[06:22:53] *** Joins: v212 (vee@moz-n3h.0n4.230.49.IP)
[06:22:57] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[06:23:18] <Sergio> So, when [anything] is some value, &[anything] can (logically, but not in actuality) seen like: let x = [anything]; &x
[06:23:19] <scott> and in Rust, lvalues are exactly the things that logically have memory addresses
[06:23:24] *** Joins: sayan (sayan@moz-ip8.595.51.106.IP)
[06:23:41] *** Quits: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca) (Ping timeout: 121 seconds)
[06:23:52] <eddyb> grrr http://is.gd/Ni3GaS
[06:23:58] *** Quits: v21 (vee@moz-0at8va.gistda.or.th) (Ping timeout: 121 seconds)
[06:24:11] <eddyb> our codegen is so bad it manages to avoid that obvious UB
[06:24:30] <Sergio> eddyb: I still think it's fine.
[06:24:32] *** Quits: archion (Mibbit@moz-4i0.5h6.212.114.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:24:32] <eddyb> maybe I should try fixing the compiler so I can PoC static mut being bad
[06:24:37] <Sergio> Now it's totally UB.
[06:24:50] <mdinger> is C the C language or my variable name. I'm just not sure because of wording
[06:24:56] <Sergio> Language
[06:24:57] <scott> mdinger: the C language
[06:25:00] *** Quits: cptroot (Mibbit@moz-n169l8.caltech.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[06:25:03] <mdinger> ok
[06:25:09] <Sergio> Does that make sense, mdinger ?
[06:25:17] <mdinger> working through it
[06:25:26] <Sergio> Cool.
[06:25:29] *** Quits: jaen (jaen@moz-ifmik2.copit.pl) (Quit: WeeChat 1.1.1)
[06:25:45] <v212> How can I include resource files in cargo package? 
[06:25:47] *** Joins: ytain (ytain@moz-vhndj2.dsl.teksavvy.com)
[06:26:08] *** Joins: elbow__ (elbow@moz-eg5.cmg.30.50.IP)
[06:26:22] *** Quits: elbow_json (elbow@moz-eg5.cmg.30.50.IP) (Ping timeout: 121 seconds)
[06:26:23] *** Quits: elbow_jason (elbow@moz-eg5.cmg.30.50.IP) (Ping timeout: 121 seconds)
[06:26:26] *** Joins: elbow_jason (elbow@moz-eg5.cmg.30.50.IP)
[06:26:43] *** Quits: dylan_ (dylan@moz-188.d0d.43.100.IP) (Ping timeout: 121 seconds)
[06:26:44] *** Quits: alhof (dylan@moz-188.d0d.43.100.IP) (Ping timeout: 121 seconds)
[06:27:19] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:27:41] *** Quits: bjz (bjz@moz-4l6.mjm.52.113.IP) (Ping timeout: 121 seconds)
[06:27:47] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[06:28:11] <Sergio> Doesn't it do that automaticallyh?
[06:28:14] <Sergio> Doesn't it do that automatically?*
[06:28:41] <Sergio> I'm not sure what a 'cargo package' is.
[06:28:43] <Sergio> Meh.
[06:29:02] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[06:29:18] <Sergio> I thought it just fetched everything from the repository you specifiy. It would be weird if it didn't.
[06:29:37] <eddyb> Sergio: aparently FOO = FOO generates the right UB incantation...
[06:29:39] *** Joins: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp)
[06:29:44] <richo> I'm trying to write a macro that will decorate strings with an enum variant, in the case that they aren't already
[06:29:59] <richo> so thing!("foo") // Thing("foo")
[06:29:59] <Sergio> Decorate strings with an enum variant?
[06:30:05] <Sergio> Oh
[06:30:09] <richo> thing!(Thing("foo")) // Thing("foo")
[06:30:17] <richo> thing!(Other("foo")) // Other("foo")
[06:30:29] <Sergio> Wait..
[06:30:31] <eddyb> Sergio: but even then LLVM doesn't take it seriously
[06:30:36] <eddyb> lazy optimizer :(
[06:30:49] <eddyb> this just means it will be worse later
[06:30:51] <Sergio> So you want variant!("foo") == Variant!("foo")?
[06:30:55] *** Quits: v212 (vee@moz-n3h.0n4.230.49.IP) (Ping timeout: 121 seconds)
[06:30:59] <Sergio> Er, without the ! in the second one.
[06:31:06] <richo> not quite
[06:31:07] <eddyb> and suddently kernels will start spewing nasal demons
[06:31:25] <richo> so the "what I'm really trying to do" is upgrade span_err! in librustc without breaking all of it's existing uses
[06:31:31] <richo> and without breaking it's ergonomics
[06:31:47] <Sergio> I like span_err.
[06:31:53] <Sergio> Most of the time.
[06:32:01] *** Quits: frecel (quassel@moz-qme.p1t.254.162.IP) (Ping timeout: 121 seconds)
[06:32:17] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[06:32:17] <Sergio> How does that relate to variants and strings?
[06:32:18] <richo> but I want span_err() to take enum ErrorMsg<'a> { Padded(&'a str), Raw(&'a str), } as it's argument instead of &str
[06:32:30] <mdinger> Sergio: Okay, I see. So those two functions conceptually are equivalent but not.
[06:32:43] <Sergio> mdinger: No, in this case they're not.
[06:32:45] <richo> which is doable if I change span_err! to return a Raw(string) when it's just given a &'static str
[06:32:47] <richo> does that make sense?
[06:32:55] *** Joins: frecel (quassel@moz-qme.p1t.254.162.IP)
[06:33:03] <Sergio> mdinger: Since C is a variable with a defined memory location.
[06:33:04] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Ping timeout: 121 seconds)
[06:33:12] <Sergio> richo: Possibly.
[06:33:35] *** Quits: bombless (bombless@moz-1j8.piv.41.59.IP) (Ping timeout: 121 seconds)
[06:33:48] <Sergio> richo: Did you mean 'take' instead of 'return'?
[06:33:54] <Sergio> (In your second sentence)
[06:34:07] *** Quits: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp) (Ping timeout: 121 seconds)
[06:34:08] <richo> Er, I guess what I really meant was "expand to
[06:34:10] <richo> "
[06:34:24] <Sergio> Mhmm
[06:34:29] *** Quits: psd (psd@moz-acc.mpg.78.202.IP) (Ping timeout: 121 seconds)
[06:34:33] <scott> mdinger: with const C: u8 = 0; it's as if you literally wrote &0 in fun1, which is logically the same as let _C = 0; &_C
[06:34:45] <Sergio> richo: It sounds like you want to match on the type of msg.
[06:34:48] <scott> mdinger: with static C, &C just gives the address of the global variable C
[06:34:56] <richo> yup, that's exactly right
[06:34:58] <richo> is that a thing?
[06:35:07] <Sergio> Yes, if it's a syntax extension.
[06:35:15] <richo> Yeah, I'm 99% sure that won't get merged
[06:35:26] <richo> I have a mergable patch now that does some of the surgery
[06:35:47] <richo> I will just PR it and use that to start the discussion about what to do
[06:35:49] <Sergio> You could create a new function...
[06:35:50] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[06:35:51] *** Joins: jmitchel_ (jmitchell@moz-o8p.pug.156.104.IP)
[06:35:53] <eddyb> richo: compiler code is supposed to be broken regularly
[06:35:54] <Sergio> span_err_full
[06:36:03] <Sergio> And call that from span_err
[06:36:11] <Sergio> And deprecate span_err.
[06:36:16] <eddyb> why deprecate?
[06:36:17] <richo> eddyb: I'm not really concerned about "breaking" per se, but making span_err more annoying to use seems pretty not ideal
[06:36:23] <eddyb> ah
[06:36:27] <mdinger> scott: that's what I thought the reference meant by inlining
[06:36:29] <Sergio> eddyb: So you can make spen_err_full the real span_err after some time.
[06:36:40] *** Joins: io2 (io2@moz-fphcqm.home.otenet.gr)
[06:36:43] <eddyb> richo: you can't use syntax to tell between the two?
[06:36:45] *** Joins: qrlpx (smuxi@moz-af6paf.dip0.t-ipconnect.de)
[06:36:47] <richo> https://github.com/rust-lang/rust/blob/master/src/librustc/session/mod.rs#L269-277
[06:36:51] <eddyb> I don't even know what you're doing :D
[06:36:52] <richo> This is the code I want to get rid of
[06:37:02] <eddyb> i.e. what the new invocation looks like
[06:37:07] <scott> mdinger: yeah, that's probably what it meant
[06:37:10] <eddyb> Sergio: that's not the intention, apparently
[06:37:15] <richo> eddyb: I'll put together a gist with what I'm trying to do
[06:37:19] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[06:37:19] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[06:37:20] *** Joins: reem (reem@moz-3ugurj.coob.q2h1.0009.2601.IP)
[06:37:22] <Sergio> eddyb: I think it is....
[06:37:23] <mdinger> but eddyb just said they do so it's a puzzle
[06:37:26] <richo> (I'm super open to doing it a different way, but this seems most optimaal)
[06:37:38] <eddyb> mdinger: don't trust the reference
[06:37:45] <eddyb> mdinger: it will lie to your face
[06:37:51] <eddyb> Sergio: but in the compiler, that stuff is... almost atomic
[06:37:59] <Sergio> ?
[06:38:05] <Sergio> What is?
[06:38:19] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[06:38:30] <eddyb> changing APIs
[06:38:35] <Sergio> Oh, sure.
[06:38:44] <eddyb> you do it all at once, deprecation only makes it (much) worse
[06:39:03] <eddyb> richo: oh, multi-line errors
[06:39:04] <Sergio> Sure, sure. It just seemed that richo was concerned about backwards compatbilitiy, so I was proposing a way to get it.
[06:39:21] <eddyb> richo: pretty sure you can do it with more syntax... maybe
[06:39:28] <Sergio> eddyb: Nah.
[06:39:28] <eddyb> richo: but what does the invocation look like?
[06:39:32] <Sergio> You can't do it.
[06:39:34] <richo> eddyb: nearly done with my gist :)
[06:39:51] *** Quits: tomaka (Pierre@moz-aufeca.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[06:39:51] <Sergio> The only way is if every invovation uses Raw(..) or Padded(..)
[06:40:10] <Sergio> let x = Raw(...); span_err!(...., x) would break it.
[06:40:44] <Sergio> richo: Why not just add another function: pad_span_err?
[06:40:49] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[06:41:21] <richo> https://gist.github.com/c99f81b48c7e297dae5c
[06:41:26] <Sergio> Alternatively, renamed span_err to raw_span_err (and all existing invocations) and add your new span_err
[06:41:28] <richo> yeah, pad_span_err is probably ok for another macros
[06:41:30] <Sergio> rename*
[06:41:38] *** darkowlzz|afk is now known as darkowlzz
[06:41:39] <richo> but there's already a *lot* of jank near the various span_* and friends
[06:41:51] <richo> making them a tiny bit more combinatorial seems not great
[06:42:00] <eddyb> richo: this is easy to do with syntax :D
[06:42:08] <richo> a syntax extension you mean?
[06:42:12] <eddyb> span_err!(self.sess, self.root_it.span, E0265, wrap "recursive constant");
[06:42:25] <eddyb> no, just... custom syntax instead of function calls
[06:42:35] <richo> ooooh
[06:42:38] <richo> I see waht you mean now
[06:42:40] <richo> neat!
[06:42:43] <Sergio> I dislike that a lot.
[06:43:02] <richo> eddyb: all of that said, thoughts on how I should tackle this?
[06:43:08] <richo> eg, what's a PR you would r+ look like
[06:43:28] <eddyb> Sergio: this is compiler internals
[06:43:30] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[06:43:44] <Sergio> eddyb: I use span_err and friends when writing syntax extensions.
[06:43:51] <richo> https://github.com/richo/rust/commit/6c7cd49e109f7e7b6669586eb5d98913e9094999
[06:43:51] <eddyb> many things are functional, DSLs are nothing to be feared
[06:43:55] <eddyb> Sergio: the macros?!
[06:44:00] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:44:00] <eddyb> pretty sure the macros aren't exported
[06:44:04] <richo> This isn't mergable and the commit message is a lie
[06:44:05] * Sergio checks.
[06:44:06] <eddyb> because they take error codes
[06:44:15] <eddyb> the codes are *internal* to the compiler
[06:44:19] <richo> eddyb: they're #[macro_export], but not sure if that bubbles all the way up
[06:44:37] <richo> (that commit also flips the sense of half of the codes)
[06:44:57] *** Quits: Guest_ (textual@moz-6at.u11.43.61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:45:00] <Sergio> I used to use span_err!
[06:45:12] <Sergio> Now I used ExtCntxt.span_err to save some key strokes.
[06:45:14] <Sergio> use*
[06:45:27] <Sergio> ExtCtxt*
[06:45:55] *** Quits: zimbatm (zimbatm@moz-f37kde.com) (Quit: Bye)
[06:46:02] <eddyb> richo: anyways, you can also handle Wrapped(...) this way fwiw
[06:46:15] <Sergio> Yeah, that's what I was suggesting earlier.
[06:46:19] <eddyb> richo: as long as you expect Wrapped and not a value of that variant
[06:46:32] <Sergio> But, then it seems like let x = Wrapped(...); span_err!(..., x) should work but it won't.
[06:46:35] <eddyb> but I don't like function calls, span_foo! are already cluttered as they are
[06:46:41] *** Joins: zimbatm (zimbatm@moz-f37kde.com)
[06:47:22] <eddyb> richo: I kinda wish we'd index error messages into error codes, not the other way around
[06:47:36] <eddyb> it's pretty annoying to add an error right now
[06:47:44] <richo> I think we need to be in a brave i18n future before that makes sense, no?
[06:47:53] *** Joins: cakecatz (cakecatz@moz-1souik.smart2j.com)
[06:47:55] <eddyb> why not start now?
[06:48:00] <richo> (That's partly what I'm hoping to move us towards with this though, if this goes over well then I'll keep going
[06:48:16] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[06:48:41] <richo> my intuition is still that it's ideal to encode as much information with the type system as possible
[06:48:46] <eddyb> you can dump a file of things to translate and then you can translate it to however many languages
[06:48:56] <eddyb> richo: you might be trying too hard there
[06:49:09] <eddyb> unless you want to replace formatting with something custom
[06:49:12] <richo> yeah, that's personal preference that I haven't given a lot of thought to
[06:49:35] <eddyb> like, calling .repr(tcx) on everything :P
[06:49:57] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[06:49:59] <richo> my thinking was roughly along the lines that extending Display with I18nDisplay at some point is pretty straightforward and forward compatible
[06:50:25] <richo> and requires few sweeping hanges if the messages are already encoded in an impl somewhere, with only error codes (enum variants) in call sites
[06:50:31] <eddyb> this is fun, but I gtg
[06:50:44] <eddyb> richo: good luck with that patch, feel free to cc me on the finished version
[06:50:44] <richo> np, thanks for sounding out with me
[06:50:45] *** Joins: psd (psd@moz-ldt.s3j.215.180.IP)
[06:50:49] <richo> awesome, will do
[06:51:20] <eddyb> (oh, enum variants for error codes... that's not bad, I didn't realize that's what you were thinking of :D)
[06:51:30] *** Quits: delma (delma@moz-b3t7c9.bb.dnainternet.fi) (Ping timeout: 121 seconds)
[06:51:43] <richo> ah, sorry :)
[06:52:05] *** Joins: dawehner (quassel@moz-6aq1ua.hsi7.kabel-badenwuerttemberg.de)
[06:52:19] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[06:52:22] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[06:52:25] <mdinger> thanks guys
[06:52:31] *** Quits: mdinger (Mibbit@moz-mvlcev.gnvlsc.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:53:07] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[06:53:29] *** Joins: tomaka (Pierre@moz-93b5mu.abo.wanadoo.fr)
[06:55:16] <Sergio> mdbooth: All squared away?
[06:55:23] <Sergio> Oh, he's gone.
[06:55:26] <Sergio> Sorry mdbooth.
[06:55:52] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[06:56:17] *** Quits: eddyb (eddyb@moz-dhp.t65.25.188.IP) (Ping timeout: 121 seconds)
[06:56:36] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:57:41] *** Joins: khades (khades@moz-ual.b31.186.31.IP)
[06:57:45] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[06:57:59] *** Joins: pheleas_frog (Mibbit@moz-2r8.ojb.157.113.IP)
[06:58:03] *** Joins: jviereck (Adium@moz-il2n2e.dynamic.hispeed.ch)
[06:58:50] *** Joins: bombless (bombless@moz-1qmnru.0v2u.0v40.0da8.2001.IP)
[06:59:00] *** Quits: pheleas_frog (Mibbit@moz-2r8.ojb.157.113.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:59:27] *** Quits: slashus2 (slashus2___@moz-9uc1q1.res.rr.com) (Quit: Leaving)
[07:00:07] *** Joins: dstrbad (dstrbad@moz-adndrb.cable.xnet.hr)
[07:00:25] *** Quits: calp (calp@moz-3g06if.com) (Quit: ZNC - http://znc.in)
[07:01:05] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[07:01:25] *** Joins: canhtak (canhtak@moz-kcs.u0t.149.5.IP)
[07:01:44] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:02:09] *** Quits: ff (flaper87Moz@moz-g7hu5v.ip56.fastwebnet.it) (Ping timeout: 121 seconds)
[07:02:14] *** Joins: calp (calp@moz-3g06if.com)
[07:02:35] *** Joins: thesnowdog (doug@moz-5pr.8fa.181.180.IP)
[07:03:42] *** Joins: Altazimuth (Altazimuth@moz-q966ko.skybroadband.com)
[07:04:03] *** Joins: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net)
[07:04:39] *** Joins: aravindavk (aravinda@moz-m6j.f0d.244.121.IP)
[07:06:23] *** Quits: bombless (bombless@moz-1qmnru.0v2u.0v40.0da8.2001.IP) (Quit: Leaving)
[07:08:08] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[07:08:21] *** Joins: Guest_ (textual@moz-6at.u11.43.61.IP)
[07:08:33] *** Joins: delma (delma@moz-b3t7c9.bb.dnainternet.fi)
[07:08:54] *** Quits: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net) (Ping timeout: 121 seconds)
[07:10:02] *** Quits: psd (psd@moz-ldt.s3j.215.180.IP) (Ping timeout: 121 seconds)
[07:10:37] *** Joins: nical (nical@moz-7sc5tu.2500.1rfi.0450.2001.IP)
[07:11:17] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:11:31] *** Joins: bombless (bombless@moz-1qmnru.0v2u.0v40.0da8.2001.IP)
[07:11:42] *** Quits: kgrandon (Adium@moz-6m3528.ca.comcast.net) (Quit: Leaving.)
[07:11:42] *** Joins: kamilc__ (kamil@moz-dpiiud.play-internet.pl)
[07:12:26] *** Quits: Slava_I (slava@moz-q3p.fgg.216.178.IP) (Ping timeout: 121 seconds)
[07:13:22] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[07:13:22] <bombless> What is `Writer::write_be_u64` now?
[07:13:32] *** Quits: reem (reem@moz-3ugurj.coob.q2h1.0009.2601.IP) (Connection closed)
[07:13:35] *** Joins: reem (reem@moz-3ugurj.coob.q2h1.0009.2601.IP)
[07:14:17] *** nsm is now known as nsm|away
[07:14:40] *** Joins: coxg (sazzer@moz-1hq.kh5.32.217.IP)
[07:14:43] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[07:15:26] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:15:45] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[07:16:48] <XMPPwocky> bombless: the "byteorder" crate
[07:16:50] <XMPPwocky> in cagro
[07:17:06] *** Joins: rainemak (rainemak@moz-utlp5r.dhcp.inet.fi)
[07:17:07] <bombless> XMPPwocky: Thanks :)
[07:17:29] *** Quits: c0170 (c0170@moz-4stj9o.cable.virginm.net) (Ping timeout: 121 seconds)
[07:18:21] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[07:18:52] *** Quits: coxg (sazzer@moz-1hq.kh5.32.217.IP) (Ping timeout: 121 seconds)
[07:20:39] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[07:21:18] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[07:21:39] *** Quits: canhtak (canhtak@moz-kcs.u0t.149.5.IP) (Client exited)
[07:21:55] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[07:22:09] *** Joins: ai (ai@moz-pqofrl.sunline.net.ua)
[07:22:28] *** Joins: psd (psd@moz-acc.mpg.78.202.IP)
[07:23:32] *** Joins: __mark__ (mark@moz-pb9mc5.dynamic.chello.pl)
[07:24:10] *** Joins: smohan (smohan@moz-m6j.f0d.244.121.IP)
[07:25:37] *** Quits: kerrick (kerrick@moz-fub7j7.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[07:25:39] *** Quits: loyd (loyd@moz-uft.32f.108.213.IP) (Ping timeout: 121 seconds)
[07:26:27] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[07:26:44] *** Joins: espadrine (tyl@moz-l019mn.fbx.proxad.net)
[07:26:54] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Ping timeout: 121 seconds)
[07:27:04] *** Quits: matiaslina (matias@moz-9l9.jl5.11.190.IP) (Quit: WeeChat 1.1.1)
[07:27:32] *** Quits: james4k (james@moz-ojv7g2.consolidated.net) (Ping timeout: 121 seconds)
[07:27:56] *** Quits: reed (reed@tech.monkey) (RecvQ exceeded)
[07:28:21] *** Joins: reed (reed@tech.monkey)
[07:29:21] *** Quits: sayan (sayan@moz-ip8.595.51.106.IP) (Ping timeout: 121 seconds)
[07:29:30] *** Joins: gggg (chatzilla@moz-nt8r49.idi.ntnu.no)
[07:29:47] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[07:29:52] *** Joins: ff (flaper87Moz@moz-g7hu5v.ip56.fastwebnet.it)
[07:30:25] *** Joins: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp)
[07:31:06] *** Joins: canhtak (canhtak@moz-kcs.u0t.149.5.IP)
[07:31:07] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[07:31:13] *** Joins: tomprogrammer (thomas@moz-1t0p4f.tr5r.qept.4dd0.2001.IP)
[07:31:32] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:32:09] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[07:33:43] *** Joins: c0170 (c0170@moz-bb29a4.cambridge.arm.com)
[07:33:50] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Ping timeout: 121 seconds)
[07:33:50] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[07:33:51] *** ChanServ sets mode: +o nrc
[07:33:58] *** Quits: ff (flaper87Moz@moz-g7hu5v.ip56.fastwebnet.it) (Ping timeout: 121 seconds)
[07:34:48] *** Quits: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp) (Ping timeout: 121 seconds)
[07:36:01] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[07:37:26] *** Joins: tyler (tyler@moz-5ei.4no.69.155.IP)
[07:39:14] *** Joins: ff (flaper87Moz@moz-g7hu5v.ip56.fastwebnet.it)
[07:40:04] *** Quits: mihneadb (mihneadb@moz-b5r.gbu.120.86.IP) (Quit: Bye)
[07:40:41] *** Quits: jviereck (Adium@moz-il2n2e.dynamic.hispeed.ch) (Ping timeout: 121 seconds)
[07:41:25] *** Quits: Shackra (Jorge@moz-7bh.ng6.177.186.IP) (Connection closed)
[07:41:50] *** Quits: Guest_ (textual@moz-6at.u11.43.61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:42:07] *** Joins: Guest_ (textual@moz-6at.u11.43.61.IP)
[07:42:28] *** Quits: khades (khades@moz-ual.b31.186.31.IP) (Ping timeout: 121 seconds)
[07:43:18] *** Quits: ff (flaper87Moz@moz-g7hu5v.ip56.fastwebnet.it) (Ping timeout: 121 seconds)
[07:43:30] *** Joins: khades (khades@moz-ual.b31.186.31.IP)
[07:44:00] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[07:44:36] *** Joins: Shackra (Jorge@moz-7bh.ng6.177.186.IP)
[07:45:22] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[07:45:29] *** Joins: giucam (giucam@moz-72p.2a8.194.192.IP)
[07:45:43] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[07:45:59] *** Joins: hellerbarde (quassel@moz-ssep5n.dclient.hispeed.ch)
[07:46:00] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[07:46:14] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[07:46:31] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[07:46:47] *** Joins: kushal (kdas@moz-s3u5m7.202.sitibroadband.in)
[07:47:00] *** Joins: jviereck (Adium@moz-pqri8u.dclient.hispeed.ch)
[07:48:04] *** Quits: iopq (Mibbit@moz-uuic7b.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[07:48:20] *** Joins: omissis (omissis@moz-9a7.eon.91.95.IP)
[07:49:12] *** Quits: Shackra (Jorge@moz-7bh.ng6.177.186.IP) (Connection closed)
[07:49:12] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[07:49:22] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:49:30] *** Quits: Altazimuth (Altazimuth@moz-q966ko.skybroadband.com) (Ping timeout: 121 seconds)
[07:49:45] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[07:50:03] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[07:50:45] *** Joins: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca)
[07:51:04] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[07:51:22] *** Quits: dstrbad (dstrbad@moz-adndrb.cable.xnet.hr) (A TLS packet with unexpected length was received.)
[07:51:28] *** Joins: james4k (james@moz-ojv7g2.consolidated.net)
[07:51:42] *** Joins: brainproxy (michael@moz-9vjtig.mo.charter.com)
[07:52:30] *** Quits: jml (jml@moz-mqpurn.178.in-addr.arpa) (Ping timeout: 121 seconds)
[07:53:36] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[07:54:20] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[07:54:20] *** Quits: Tuna-Fish (quassel@moz-5djkv5.kortex.jyu.fi) (Connection closed)
[07:54:23] *** Joins: Tuna-Fish (quassel@moz-5djkv5.kortex.jyu.fi)
[07:54:27] *** Joins: dstrbad (dstrbad@moz-adndrb.cable.xnet.hr)
[07:54:58] *** Quits: jviereck (Adium@moz-pqri8u.dclient.hispeed.ch) (Quit: Leaving.)
[07:55:12] *** Quits: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca) (Ping timeout: 121 seconds)
[07:55:24] *** Joins: agoforth (agoforth@moz-9o05r5.netcologne.de)
[07:55:31] *** Quits: omissis (omissis@moz-9a7.eon.91.95.IP) (Client exited)
[07:55:32] *** Joins: jml (jml@moz-mqpurn.178.in-addr.arpa)
[07:55:48] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:56:42] *** Quits: brainproxy (michael@moz-9vjtig.mo.charter.com) (Ping timeout: 121 seconds)
[07:59:08] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[07:59:08] *** ChanServ sets mode: +o erickt
[08:00:20] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[08:01:01] *** Joins: ray (ray@moz-m8t.t3f.66.59.IP)
[08:02:06] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[08:02:58] *** Joins: _zxq9_ (ceverett@moz-qsm369.mesh.ad.jp)
[08:03:35] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[08:04:01] *** Joins: zmack_ (zmack@moz-htpein.home.aster.pl)
[08:04:22] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (Ping timeout: 121 seconds)
[08:05:43] *** Quits: reem (reem@moz-3ugurj.coob.q2h1.0009.2601.IP) (Connection closed)
[08:06:14] *** Quits: lllshamanlll (Thunderbird@moz-tlc.puj.66.146.IP) (Client exited)
[08:06:22] *** Quits: dstrbad (dstrbad@moz-adndrb.cable.xnet.hr) (A TLS packet with unexpected length was received.)
[08:07:12] *** Joins: mib_kd42tu (Mibbit@moz-dtdtqq.livnmi.sbcglobal.net)
[08:07:16] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Ping timeout: 121 seconds)
[08:07:48] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[08:08:03] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[08:08:45] *** Joins: tigrou3tac (fabien@moz-gdonfo.fbx.proxad.net)
[08:09:24] *** Quits: fabiand (fabiand@moz-pnhepm.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[08:09:42] <mib_kd42tu> could i get some help with a macro error? compiler says "macro expansion ignores token `{` and any following". here's the gist: https://gist.github.com/bonsairobo/6c667901ab27cb114265
[08:11:22] *** Joins: dylan_ (dylan@moz-188.d0d.43.100.IP)
[08:11:22] *** Joins: alhof (dylan@moz-188.d0d.43.100.IP)
[08:12:50] *** Quits: rainemak (rainemak@moz-utlp5r.dhcp.inet.fi) (Connection closed)
[08:13:10] *** Joins: jnicklas_ (dev@moz-922jbo.sme.bredbandsbolaget.se)
[08:13:34] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[08:14:48] *** Joins: ebel (rory@moz-l1ldq7.hsi4.kabel-badenwuerttemberg.de)
[08:15:01] *** Joins: kmicu (kmicu@moz-uga.edn.218.91.IP)
[08:15:29] *** Quits: alhof (dylan@moz-188.d0d.43.100.IP) (Ping timeout: 121 seconds)
[08:15:35] *** Quits: dylan_ (dylan@moz-188.d0d.43.100.IP) (Ping timeout: 121 seconds)
[08:16:00] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[08:16:05] <scott> mib_kd42tu: you can only expand to a single expression. currently you expand to something like {...}{...}{...} which is 3 expressions. the solution is to wrap with {} to get {{...}{...}{...}}
[08:16:33] <scott> mib_kd42tu: so {$({ would become {{$({ and the ending brackets change to match
[08:16:41] *** Quits: yusukesuzuki (yusukesuzuk@moz-dt1lc7.t-com.ne.jp) (Ping timeout: 121 seconds)
[08:16:44] *** Joins: rainemak (rainemak@moz-utlp5r.dhcp.inet.fi)
[08:16:53] <scott> note that the first { is just part of the macro_rules syntax and not part of the expansion
[08:17:05] <jnicklas_> Just happened to see the `Borrow` trait. Doesn't this basically have the same purpose as deref coercions? At least as used in HashMap?
[08:17:13] <jnicklas_> Is there some other use for this?
[08:17:44] <scott> jnicklas_: Borrow is slightly different since things can borrow to multiple different things (String -> &String and String -> &str for example)
[08:17:48] <scott> I don't know much about Borrow, though
[08:20:02] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[08:20:37] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[08:20:54] <jnicklas_> scott: seems like all the impls currently in std only implement Borrow for one type. I guess that could be useful though.
[08:21:19] <scott> jnicklas_: yeah, but there's also a blanket T: Borrow<T> which provides String -> &String in my example
[08:21:35] *** Joins: fabiand (fabiand@moz-enml6j.dip0.t-ipconnect.de)
[08:21:52] <scott> impl<T> Borrow<T> for T where T: ?Sized to be precise
[08:22:04] *** Quits: Guest_ (textual@moz-6at.u11.43.61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:22:11] *** Joins: Guest_ (textual@moz-6at.u11.43.61.IP)
[08:22:17] <mib_kd42tu> scott: thanks!
[08:22:33] <jnicklas_> scott: huh. cool. So this is kind of a limited form of autoref?
[08:23:15] *** Quits: rprichard (rprichard@moz-ekp75j.en8f.d045.0009.2601.IP) (Connection closed)
[08:23:18] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[08:24:39] *** Quits: ytain (ytain@moz-vhndj2.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[08:25:28] <scott> all I really know is that it's used by HashMap so you can index/.get by anything the key type can be borrowed to
[08:25:38] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[08:25:41] <scott> e.g. by &String or &str for HashMap<String, _>
[08:26:06] *** Quits: bombless (bombless@moz-1qmnru.0v2u.0v40.0da8.2001.IP) (Quit: Leaving)
[08:26:35] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[08:27:04] <scott> the HashMap::get docs say "Hash and Eq on the borrowed form must match those for the key type."
[08:27:23] *** Joins: claude (Mibbit@moz-of2go8.red.bezeqint.net)
[08:27:33] *** Joins: killercup (killercup@moz-4udt1b.dip0.t-ipconnect.de)
[08:27:50] <scott> so I guess when you use get on a HashMap<String, _> but pass a &str it will take the &str from the key and then do all the work using &str's instead of &String's
[08:27:57] *** Quits: claude (Mibbit@moz-of2go8.red.bezeqint.net) (Quit: http://www.mibbit.com ajax IRC Client)
[08:28:48] *** Joins: jviereck (Adium@moz-p826q4.ethz.ch)
[08:30:05] *** Joins: pkondzior (uid768@moz-gsp5c1.uxbridge.irccloud.com)
[08:30:21] *** Joins: eerie (eerie@moz-nu5r7u.red.bezeqint.net)
[08:30:33] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[08:31:08] *** Joins: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp)
[08:32:03] *** Quits: eerie (eerie@moz-nu5r7u.red.bezeqint.net) (Connection closed)
[08:32:05] *** Joins: eerie (eerie@moz-nu5r7u.red.bezeqint.net)
[08:32:05] *** Joins: cursivecode (textual@moz-4u56i9.res.bhn.net)
[08:33:01] *** Joins: dtantsur (dtantsur@moz-1821b5.net.upcbroadband.cz)
[08:33:23] *** Quits: killercup (killercup@moz-4udt1b.dip0.t-ipconnect.de) (Quit: Bye)
[08:33:36] *** Joins: alonlevy (alon@moz-4jqdpb.telavivmakers.org)
[08:34:28] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[08:34:36] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Ping timeout: 121 seconds)
[08:35:31] *** Quits: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp) (Ping timeout: 121 seconds)
[08:36:13] *** Joins: xcombelle (xcombelle@moz-6qp46t.abo.wanadoo.fr)
[08:36:24] *** Quits: DemonOne (Avi@moz-nc7kgr.red.bezeqint.net) (Connection closed)
[08:37:45] *** Joins: Ms2ger (Ms2ger@moz-bh431q.isp.belgacom.be)
[08:39:06] <Fenhl> why is std::iter::AdditiveIterator implemented for iterators over each primitive number type, and not generically over iterators over Add?
[08:40:41] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[08:40:43] *** Quits: kmcguire (kmcguire@moz-uqq.d7l.207.68.IP) (Ping timeout: 121 seconds)
[08:41:35] <scott> Fenhl: it needs both + and 0, but Add only provides +
[08:41:41] *** Quits: mnemnion (mnemnion@moz-e8rfii.ca.comcast.net) (Connection closed)
[08:42:02] *** Joins: mnemnion (mnemnion@moz-e8rfii.ca.comcast.net)
[08:42:08] *** Joins: DoomBoom (DoomBoom@moz-p8isdd.dot1x.nhl.nl)
[08:42:41] <scott> it could be implemented generically over something, but Add isn't sufficient
[08:43:15] *** Joins: coxg (sazzer@moz-1hq.kh5.32.217.IP)
[08:43:16] *** Joins: eibwen (eibwen@moz-u77b05.dip0.t-ipconnect.de)
[08:44:06] *** Quits: Guest_ (textual@moz-6at.u11.43.61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:44:12] *** Joins: Guest_ (textual@moz-6at.u11.43.61.IP)
[08:44:22] *** Joins: killercup (killercup@moz-4udt1b.dip0.t-ipconnect.de)
[08:44:34] <mib_kd42tu> i need more help. first time doing macros. source: http://pastebin.com/HTJ7uBnY. the error says mismatched types:  expected `&_`,     found `_` (expected &-ptr,     found integral variable) [E0308] cons_sort.rs:32 		1; [2, 3];
[08:45:12] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[08:45:22] <scott> mib_kd42tu: $map.get probably takes a reference, so try &$x
[08:45:31] *** darkowlzz is now known as darkowlzz|afk
[08:46:04] *** Quits: mnemnion (mnemnion@moz-e8rfii.ca.comcast.net) (Ping timeout: 121 seconds)
[08:46:24] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[08:46:38] *** Quits: Guest_ (textual@moz-6at.u11.43.61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:46:44] *** suvash_away is now known as suvash
[08:47:53] <jnicklas_> scott, Fenhl: wasn't there a `Zero` trait at some point?
[08:48:44] <scott> not sure
[08:49:03] <scott> closest thing I can find is Int::zero and Float::zero on those two traits
[08:49:27] *** Joins: xcombelle_ (xcombelle@moz-6qp46t.abo.wanadoo.fr)
[08:49:34] <jnicklas_> scott: seems like it was removed in numerics reform: https://github.com/aturon/rfcs/blob/num-reform/active/0000-num-reform.md
[08:49:35] <Ms2ger> Yes
[08:49:39] <scott> the actual generalization for an iterator that lets you combine all the values into one value like that is a Monoid
[08:49:41] *** Quits: xcombelle_ (xcombelle@moz-6qp46t.abo.wanadoo.fr) (Connection closed)
[08:49:57] <scott> and that would collapse AdditiveIterator and MultiplicativeIterator into one thing
[08:50:27] <scott> I mean, Monoid isn't the iterator, but if your iterator element type is
[08:50:27] <mib_kd42tu> scott: that worked. thanks again.
[08:50:29] <Ms2ger> You mean, fold()
[08:50:58] <jnicklas_> ugh, I have no trouble understanding Monads, but I've never been able to wrap my head around Monoids :P
[08:51:10] <scott> but Monoids are simpler than Monads
[08:51:11] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[08:51:39] <jnicklas_> scott: I guess I've just never found a good explanation. Someone needs to compare it to a Burrito.
[08:51:59] *** Joins: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca)
[08:52:16] <scott> they're a type with an associateive combining function (fn combine(T, T) -> T) and an identity value such that combine(x, identity) == x and combine(identity, x) == x
[08:52:27] <scott> examples: numbers with + and 0
[08:52:32] <scott> numbers with * and 1
[08:52:34] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[08:52:42] <scott> lists with concatenation and the empty list
[08:52:58] <jnicklas_> scott: that actually helps a bit :) thanks!
[08:52:58] <Ms2ger> So really just a group without the inverse
[08:53:06] <scott> yeah, if you know what a group is
[08:53:14] <scott> if you have a list of numbers you can combine them down with + and 0 to a single number
[08:53:31] <scott> if you have a list of lists you can combine then down with concat and empty list to a single list
[08:55:43] *** Quits: aravindavk (aravinda@moz-m6j.f0d.244.121.IP) (Ping timeout: 121 seconds)
[08:56:07] *** Quits: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca) (Ping timeout: 121 seconds)
[08:56:21] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[08:56:41] *** Quits: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk) (Ping timeout: 121 seconds)
[08:56:51] *** Joins: Guest_ (textual@moz-6at.u11.43.61.IP)
[08:57:17] *** Quits: coxg (sazzer@moz-1hq.kh5.32.217.IP) (Ping timeout: 121 seconds)
[08:57:59] *** Joins: reem (reem@moz-jr2e28.coob.q2h1.0009.2601.IP)
[08:58:04] *** Quits: reem (reem@moz-jr2e28.coob.q2h1.0009.2601.IP) (Connection closed)
[08:58:11] <scott> Ms2ger: er, I forgot to reply to "You mean, fold()". I would say fold() needs an identity and a combining function, and that's exactly what Monoid gives you, so you can make an "auto-fold" generic over Monoids
[08:58:19] *** Joins: psd_ (psd@moz-b7a.ubs.215.180.IP)
[08:58:24] *** Joins: reem (reem@moz-jr2e28.coob.q2h1.0009.2601.IP)
[08:58:36] <Ms2ger> Gotcha
[08:58:42] *** Quits: psd (psd@moz-acc.mpg.78.202.IP) (Ping timeout: 121 seconds)
[08:58:51] *** Joins: jmitche__ (jmitchell@moz-o8p.pug.156.104.IP)
[08:59:03] <scott> err, well, the initial value in fold isn't necessarily an identity, but Monoid at least gives *some* value to put there
[08:59:11] *** Joins: Altaz (Altazimuth@moz-vh5bv3.ucl.ac.uk)
[08:59:31] *** Quits: jmitchel_ (jmitchell@moz-o8p.pug.156.104.IP) (Connection closed)
[09:00:19] *** Joins: rootnode (rootnode@moz-21v3ip.vpn.rwth-aachen.de)
[09:00:27] *** Joins: eerie_ (eerie@moz-nu5r7u.red.bezeqint.net)
[09:00:55] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[09:00:55] *** ChanServ sets mode: +o erickt
[09:01:33] *** Joins: yusukesuzuki (yusukesuzuk@moz-dt1lc7.t-com.ne.jp)
[09:02:26] *** Quits: reem (reem@moz-jr2e28.coob.q2h1.0009.2601.IP) (Ping timeout: 121 seconds)
[09:03:54] *** Quits: eerie (eerie@moz-nu5r7u.red.bezeqint.net) (Ping timeout: 121 seconds)
[09:04:23] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[09:04:27] *** Quits: eric_lagergren (barsonme@moz-lr1hrn.wa.comcast.net) (Ping timeout: 121 seconds)
[09:04:30] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[09:07:35] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[09:07:40] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[09:07:40] *** ChanServ sets mode: +o pnkfelix
[09:07:45] *** Joins: coxg (sazzer@moz-1hq.kh5.32.217.IP)
[09:08:03] *** Quits: Guest_ (textual@moz-6at.u11.43.61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[09:09:39] *** Joins: CustosLimen (CustosLimen@moz-43o.etd.160.41.IP)
[09:09:59] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[09:12:38] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[09:14:55] *** Quits: espadrine (tyl@moz-l019mn.fbx.proxad.net) (Ping timeout: 121 seconds)
[09:15:03] *** Joins: Guest40 (textual@moz-d7h.fog.78.212.IP)
[09:15:20] *** Quits: rootnode (rootnode@moz-21v3ip.vpn.rwth-aachen.de) (Ping timeout: 121 seconds)
[09:16:44] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[09:17:09] *** suvash is now known as suvash_away
[09:17:33] *** Quits: jviereck (Adium@moz-p826q4.ethz.ch) (Quit: Leaving.)
[09:17:55] *** Quits: eerie_ (eerie@moz-nu5r7u.red.bezeqint.net) (Connection closed)
[09:18:24] *** Joins: OmniMancer (OmniMancer@moz-6m1jrb.xtra.co.nz)
[09:18:27] *** Joins: mjboa (mike@moz-hmt1ev.dip0.t-ipconnect.de)
[09:18:46] *** Joins: laumann (thomas@moz-vj4.hq0.225.130.IP)
[09:19:21] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[09:20:08] *** Joins: eddyb (eddyb@moz-tpq.fmm.166.109.IP)
[09:20:22] *** Quits: c0170 (c0170@moz-bb29a4.cambridge.arm.com) (Ping timeout: 121 seconds)
[09:20:43] *** Quits: psd_ (psd@moz-b7a.ubs.215.180.IP) (Ping timeout: 121 seconds)
[09:20:46] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[09:21:38] *** Joins: v212 (vee@moz-s9r.09p.49.49.IP)
[09:22:30] *** Quits: james4k (james@moz-ojv7g2.consolidated.net) (Ping timeout: 121 seconds)
[09:23:02] *** Quits: jan247 (Adium@moz-vjl.6c2.191.180.IP) (Connection closed)
[09:23:03] *** Joins: jan2471 (Adium@moz-vjl.6c2.191.180.IP)
[09:24:43] *** Joins: jviereck (Adium@moz-427efu.97ug.g469.067c.2001.IP)
[09:25:25] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[09:25:30] *** Joins: dstrbad (dstrbad@moz-iv0mhf.net.t-com.hr)
[09:26:41] *** Joins: munksgaard (munksgaard@moz-3v9.hq0.225.130.IP)
[09:27:36] *** Joins: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP)
[09:27:51] *** Joins: reedlepee (Mibbit@moz-8tt.hbc.218.83.IP)
[09:28:21] *** Quits: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP) (Quit: Leaving.)
[09:28:31] *** Joins: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP)
[09:29:40] *** Quits: mjboa (mike@moz-hmt1ev.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[09:30:24] *** Quits: djcb (user@moz-8r0oht.elisa-laajakaista.fi) (Ping timeout: 121 seconds)
[09:31:12] *** Joins: triep (triep@moz-m40.3ip.235.85.IP)
[09:31:19] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[09:31:20] *** Quits: xcombelle (xcombelle@moz-6qp46t.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[09:31:53] *** Joins: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp)
[09:33:06] *** Quits: forgottenone (forgottenon@moz-160.l1s.42.176.IP) (Quit: Konversation terminated!)
[09:33:59] *** Quits: cdidd (cdidd@moz-06bnoi.broadband.corbina.ru) (Ping timeout: 121 seconds)
[09:34:50] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[09:35:21] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Ping timeout: 121 seconds)
[09:35:46] *** Joins: NobbZ (NobbZ@moz-76fpqv.fh-wedel.de)
[09:35:56] *** Joins: cdidd (cdidd@moz-671va2.broadband.corbina.ru)
[09:36:12] <Fenhl> ah, good point, I had forgotten about the zero thing
[09:36:14] *** Quits: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp) (Ping timeout: 121 seconds)
[09:36:26] <Fenhl> it's too bad that trait doesn't exist anymore
[09:36:33] *** Joins: c0170 (c0170@moz-bb29a4.cambridge.arm.com)
[09:37:10] <Fenhl> hopefully it will reappear some day… would make some of this code I'm looking at more readable
[09:37:13] *** suvash_away is now known as suvash
[09:37:21] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[09:37:41] <huon> Fenhl: Zero still exists in `num`
[09:37:56] <huon> http://doc.rust-lang.org/num/num/index.html
[09:38:00] <triep> right, much of the old world of std::num moved there
[09:38:07] <huon> https://crates.io/crates/num
[09:38:23] <triep> since bigints are always discovered to be slow by its users, maybe it should be removed?
[09:38:29] <triep> or is it more of a work in progress
[09:38:33] <Ms2ger> They were removed
[09:38:41] <Ms2ger> That's why it's on crates.io
[09:38:44] <triep> Removed from num crates I mean
[09:38:50] *** Quits: ai (ai@moz-pqofrl.sunline.net.ua) (Quit: Leaving.)
[09:38:58] <Fenhl> but its absence from std means that a generic AdditiveIterator is impossible
[09:39:17] *** Joins: omissis (omissis@moz-6mn.mb0.111.217.IP)
[09:39:20] *** Quits: marsel (user@moz-3o2.end.162.188.IP) (Connection closed)
[09:39:24] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[09:39:39] *** Joins: larhat (Adium@moz-8v4.af0.232.213.IP)
[09:39:54] <triep> Fenhl: a common generic AdditiveIterator is. You can make a generic one yourself though
[09:40:12] *** Joins: psd_ (psd@moz-acc.mpg.78.202.IP)
[09:40:24] *** Quits: yeahnoob (Xanadu@moz-ku8.ugi.122.118.IP) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[09:40:25] *** Joins: brainproxy (michael@moz-9vjtig.mo.charter.com)
[09:41:10] *** Joins: ai (ai@moz-pqofrl.sunline.net.ua)
[09:41:10] *** Joins: shellac (textual@moz-9b49cr.cable.virginm.net)
[09:41:46] <Fenhl> not worth it right now, but I'll probably reconsider once this codebase grows
[09:42:12] *** Joins: agjacome (agjacome@moz-gki9i8.ei.uvigo.es)
[09:42:18] *** Quits: Murarth (Murarth@moz-mpmr8r.phnx.qwest.net) (Connection closed)
[09:42:25] *** Joins: Murarth (Murarth@moz-mpmr8r.phnx.qwest.net)
[09:44:06] *** Joins: acamda (adam@moz-q44okf.iinet.net.au)
[09:45:25] *** Quits: brainproxy (michael@moz-9vjtig.mo.charter.com) (Ping timeout: 121 seconds)
[09:46:11] *** Quits: acgtyrant (acgtyrant@moz-n5u.4sk.186.39.IP) (Ping timeout: 121 seconds)
[09:48:34] *** Joins: eerie (eerie@moz-nu5r7u.red.bezeqint.net)
[09:48:41] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[09:48:45] *** Quits: elbow_jason (elbow@moz-eg5.cmg.30.50.IP) (Quit: Leaving)
[09:48:46] *** Joins: popow1 (Thunderbird@moz-03f.kd0.252.223.IP)
[09:49:06] *** Quits: elbow__ (elbow@moz-eg5.cmg.30.50.IP) (Quit: Leaving)
[09:50:37] *** Quits: popow (Thunderbird@moz-03f.kd0.252.223.IP) (Ping timeout: 121 seconds)
[09:50:41] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[09:50:58] *** Quits: Porkepix (Porkepix@moz-e1bv2v.rev.sfr.net) (Ping timeout: 121 seconds)
[09:52:47] *** Joins: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca)
[09:53:07] *** Joins: alexherbo2 (alex@moz-upo.rnh.255.109.IP)
[09:53:40] *** Quits: khades (khades@moz-ual.b31.186.31.IP) (Quit: leaving)
[09:53:41] *** Quits: alexherbo2 (alex@moz-upo.rnh.255.109.IP) (Quit: WeeChat 1.1.1)
[09:53:43] *** Quits: jviereck (Adium@moz-427efu.97ug.g469.067c.2001.IP) (Quit: Leaving.)
[09:53:48] *** Joins: mkoskar (mkoskar@moz-kvs6fc.torservers.net)
[09:54:25] *** Joins: khades (khades@moz-ual.b31.186.31.IP)
[09:54:38] *** Quits: c0170 (c0170@moz-bb29a4.cambridge.arm.com) (Ping timeout: 121 seconds)
[09:54:46] *** Quits: eddyb (eddyb@moz-tpq.fmm.166.109.IP) (Ping timeout: 121 seconds)
[09:55:41] *** Joins: alexherbo2 (alex@moz-upo.rnh.255.109.IP)
[09:55:59] *** Quits: fyolnish (fyolnish@moz-uoqcnf.ocn.ne.jp) (Connection closed)
[09:56:22] *** Joins: timonv (timonv@moz-7btgcn.dynamic.ziggo.nl)
[09:56:58] *** Quits: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca) (Ping timeout: 121 seconds)
[09:58:07] *** psd_ is now known as psd
[09:59:24] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[09:59:24] *** ChanServ sets mode: +o erickt
[09:59:31] *** Joins: mjboa (mike@moz-hmt1ev.dip0.t-ipconnect.de)
[10:00:08] *** Quits: reedlepee (Mibbit@moz-8tt.hbc.218.83.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[10:00:15] *** Joins: dylan_ (dylan@moz-188.d0d.43.100.IP)
[10:00:15] *** Joins: alhof (dylan@moz-188.d0d.43.100.IP)
[10:00:18] *** Joins: mahdi (mahdi@moz-p65.u27.244.151.IP)
[10:01:41] <triep> in fact, the num crate could house a generic AdditiveIterator
[10:01:57] *** Quits: eibwen (eibwen@moz-u77b05.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[10:02:27] *** Quits: popow1 (Thunderbird@moz-03f.kd0.252.223.IP) (Client exited)
[10:02:48] *** Joins: lenstr (lenstr@moz-rjs.vju.25.171.IP)
[10:03:28] *** Quits: mahdi (mahdi@moz-p65.u27.244.151.IP) (Quit: )
[10:03:42] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[10:03:57] *** darkowlzz|afk is now known as darkowlzz
[10:04:23] *** Quits: alhof (dylan@moz-188.d0d.43.100.IP) (Ping timeout: 121 seconds)
[10:04:28] *** Quits: dylan_ (dylan@moz-188.d0d.43.100.IP) (Ping timeout: 121 seconds)
[10:04:29] *** Joins: amro (amro@moz-up2is0.clq1.sjcg.02b0.2a01.IP)
[10:05:26] *** Joins: nicoch (nicoch@moz-g02d7k.be)
[10:05:49] *** Joins: espadrine (tyl@moz-qfr4fg.abo.wanadoo.fr)
[10:05:51] <amro> hello. I'm trying to find the shortest path from b"foo" to Vec<u8>
[10:05:59] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Ping timeout: 121 seconds)
[10:06:30] <triep> we just have to find the name of that one method that does it
[10:06:37] <triep> playbot: b"foo".to_vec()
[10:06:38] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[10:06:38] -playbot- [102, 111, 111]
[10:06:42] *** Joins: Porkepix (Porkepix@moz-e1bv2v.rev.sfr.net)
[10:06:50] *** Quits: lenstr (lenstr@moz-rjs.vju.25.171.IP) (Ping timeout: 121 seconds)
[10:06:52] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[10:07:25] <triep> please exuse mr slice, his methods don't show up in the docs at the moment. http://doc.rust-lang.org/std/primitive.slice.html#method.to_vec
[10:07:30] *** Quits: shellac (textual@moz-9b49cr.cable.virginm.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[10:07:34] <triep> (no hits for to_vec in search)
[10:08:53] <amro> triep: yep search had failed me. thanks!
[10:10:09] *** Quits: _zxq9_ (ceverett@moz-qsm369.mesh.ad.jp) (Quit: Konversation terminated!)
[10:10:50] *** Quits: coxg (sazzer@moz-1hq.kh5.32.217.IP) (Ping timeout: 121 seconds)
[10:11:29] <triep> doc breakage is for a good reason: slice now has its own inherit methods
[10:11:33] <triep> instead of the SliceExt trait
[10:12:30] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[10:12:32] *** Quits: smohan (smohan@moz-m6j.f0d.244.121.IP) (Quit: Linkinus - http://linkinus.com)
[10:12:44] *** Quits: acamda (adam@moz-q44okf.iinet.net.au) (Quit: Lost terminal)
[10:13:04] *** Joins: hiroshiyui (yhh@moz-oes.smd.99.118.IP)
[10:14:35] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[10:14:48] <aawe> I thought SliceExt was just introduced
[10:14:51] <aawe> and now it's going away?
[10:15:04] *** Quits: dougxxx (dougxxx@moz-0js00c.iinet.net.au) (Connection closed)
[10:15:23] <triep> it's already gone from libstd. Not sure why it's still in core
[10:15:41] <triep> it wasn't really recently introduced, it's a long evolution from myriads of extension traits
[10:15:45] <triep> and now that is no more
[10:15:51] <huon> the impl<T> [T] { ... } that replaces it only works in one crate
[10:16:09] <huon> and it has to be std (well, collections) not core because there's methods that can't be in core
[10:17:22] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (A TLS packet with unexpected length was received.)
[10:17:30] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[10:17:37] *** Joins: aravindavk (aravinda@moz-m6j.f0d.244.121.IP)
[10:18:48] *** Joins: eerie_ (eerie@moz-nu5r7u.red.bezeqint.net)
[10:19:28] *** Joins: jviereck (Adium@moz-p826q4.ethz.ch)
[10:20:14] <faern> Yesterday I had a problem with &mut in closures. Now I have narrowed down the problem slightly, but I still don't understand or know how to fix it.
[10:20:24] <faern> I would be very glad if someone could take a look at http://is.gd/ym5Gy1
[10:20:59] <faern> row 35 is where the problem arises. Uncommenting row 36 makes it work, but I don't understand what the difference is.
[10:21:32] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[10:21:35] *** Quits: jan2471 (Adium@moz-vjl.6c2.191.180.IP) (Quit: Leaving.)
[10:21:36] *** Joins: Nextra (Nextra@moz-e3c6si.dip.osnanet.de)
[10:21:39] *** Quits: eerie (eerie@moz-nu5r7u.red.bezeqint.net) (Ping timeout: 121 seconds)
[10:22:06] *** Quits: jmitche__ (jmitchell@moz-o8p.pug.156.104.IP) (Ping timeout: 121 seconds)
[10:22:11] <faern> talchas: ^ :)
[10:22:39] *** Quits: ai (ai@moz-pqofrl.sunline.net.ua) (Quit: Leaving.)
[10:23:32] *** Quits: Skyler (Skyler@moz-e93b35.sd.cox.net) (Client exited)
[10:24:27] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[10:25:22] *** Quits: Guest40 (textual@moz-d7h.fog.78.212.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[10:26:00] *** Joins: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP)
[10:26:00] *** Joins: laogao_ (laogao@moz-m3ssu7.members.linode.com)
[10:26:01] *** Quits: eerie_ (eerie@moz-nu5r7u.red.bezeqint.net) (Ping timeout: 121 seconds)
[10:28:04] *** Joins: rusty-user (rusty@moz-jga.mb5.106.203.IP)
[10:28:30] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[10:28:57] *** Joins: xcombelle (xcombelle@moz-6qp46t.abo.wanadoo.fr)
[10:28:57] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[10:29:52] *** Joins: shellac (textual@moz-9b49cr.cable.virginm.net)
[10:30:04] <triep> faern: look at this, http://is.gd/zhmYum inc_vec_task_direct stopped borrowing the data
[10:30:20] <triep> just removed the 's there
[10:30:40] *** suvash is now known as suvash_away
[10:30:45] <triep> Which is correct. You don't borrow the &mut there so it should have no lifetime connection with the Done value
[10:30:52] <triep> the Done value is "arbitrary" lifetime
[10:31:53] <triep> rust lifetime problems are such fun puzzles
[10:31:58] <triep> better than sudoku
[10:32:02] <faern> triep: Ah.. Thank you. Indeed they are :)
[10:32:06] *** Quits: mjboa (mike@moz-hmt1ev.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[10:32:06] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[10:32:15] <faern> triep: I hope I can grasp it better someday.
[10:32:38] *** Joins: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp)
[10:33:31] *** Quits: shellac (textual@moz-9b49cr.cable.virginm.net) (Connection closed)
[10:33:33] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[10:34:02] <triep> I'm not sure I grasp it
[10:34:45] <faern> triep: Since I lended my &'s mut to the closure I thought I had to mark the lifetime so it would know how long l would live. I will see if I understand exactly what you did.
[10:34:57] *** Quits: jviereck (Adium@moz-p826q4.ethz.ch) (Quit: Leaving.)
[10:35:22] <triep> I removed the false connection between the input value and output value of  inc_vec_task_direct
[10:35:28] <triep> they are not lifetime-related
[10:35:39] *** Quits: Mutabah (tpg@moz-hklpnj.mutabah.net) (Ping timeout: 121 seconds)
[10:36:09] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Ping timeout: 121 seconds)
[10:36:51] *** Quits: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp) (Ping timeout: 121 seconds)
[10:37:03] *** Joins: peacememories (peace@moz-hvqggk.tuwien.ac.at)
[10:38:22] <faern> Ah. Is that so. I think I did what I did because I thought I had to show that "l" should live as long as the closure. Anyway thank you. Lets see if I can apply to my larger problem.
[10:39:09] *** Quits: Kingsquee (kingsley@moz-qq7ns6.bchsia.telus.net) (Quit: Konversation terminated!)
[10:39:37] *** Joins: iiixtiii (ixti@moz-i3d.dae.119.188.IP)
[10:40:23] *** Joins: Mutabah (tpg@moz-hklpnj.mutabah.net)
[10:40:38] *** Quits: __ixti__ (ixti@moz-i3d.dae.119.188.IP) (Ping timeout: 121 seconds)
[10:41:24] *** Joins: edlothiol (user@moz-n7m9to.unity-media.net)
[10:41:57] <geal> eternaleye: it is out! At last! https://crates.io/crates/nom
[10:42:50] <mtsr> geal: Congrats. Very interesting library!
[10:43:00] <triep> yup
[10:43:35] <triep> this is a parser combinator right.. Why don't they separate tokenization and parsing?
[10:44:08] *** Quits: dstrbad (dstrbad@moz-iv0mhf.net.t-com.hr) (A TLS packet with unexpected length was received.)
[10:44:11] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[10:44:25] <triep> maybe it's possible to compose two nom parsers (haven't used it) to do approximately that
[10:44:40] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[10:45:01] *** Joins: forgottenone (forgottenon@moz-160.l1s.42.176.IP)
[10:46:01] <gggg> Hi. Anyone know if it is possible to _somehow_ store a closure in a static mut variable? 
[10:46:07] *** Quits: laogao_ (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[10:46:55] *** Joins: jaen (jaen@moz-ifmik2.copit.pl)
[10:47:09] *** Quits: munksgaard (munksgaard@moz-3v9.hq0.225.130.IP) (Ping timeout: 121 seconds)
[10:47:14] *** Joins: dstrbad (dstrbad@moz-adndrb.cable.xnet.hr)
[10:47:18] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[10:48:16] *** Quits: hiroshiyui (yhh@moz-oes.smd.99.118.IP) (Quit: Konversation terminated!)
[10:48:27] <gggg> I've run into some obvious restrictions with either Sized or that mutable statics are not allowed to have destructors, but I'm wondering if there's a way to achieve this without running into these problems.
[10:48:37] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[10:49:33] *** Joins: eerie (eerie@moz-nu5r7u.red.bezeqint.net)
[10:49:51] *** Quits: v212 (vee@moz-s9r.09p.49.49.IP) (Ping timeout: 121 seconds)
[10:49:56] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.3.92.1)
[10:50:37] *** Joins: fengshaun (fengshaun@moz-rf0qk5.cable.teksavvy.com)
[10:50:37] <geal> mtsr: thanks :)
[10:50:41] *** Joins: c0170 (c0170@moz-bb29a4.cambridge.arm.com)
[10:51:24] <geal> triep: it is possible to separate a tokenization phase, but nom is more oriented towards file and network parsers than languages
[10:52:03] <geal> triep: in fact, I provide other pieces of machinery to have state machine overseeing the "dumb" parsers
[10:52:04] *** suvash_away is now known as suvash
[10:52:27] *** Quits: amro (amro@moz-up2is0.clq1.sjcg.02b0.2a01.IP) (Ping timeout: 121 seconds)
[10:53:18] <triep> ok that explains a bit
[10:53:36] *** Joins: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca)
[10:54:03] *** Joins: ineol (ineol@moz-ofnmt7.residence.ens-lyon.fr)
[10:54:09] *** Joins: lnwdr (lnwdr@moz-mj0.jna.74.195.IP)
[10:54:19] *** Joins: coxg (sazzer@moz-1hq.kh5.32.217.IP)
[10:54:52] *** Quits: OmniMancer (OmniMancer@moz-6m1jrb.xtra.co.nz) (Quit: Leaving.)
[10:56:15] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[10:57:49] *** Quits: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca) (Ping timeout: 121 seconds)
[10:58:01] *** Quits: ray (ray@moz-m8t.t3f.66.59.IP) (Quit: WeeChat 1.1.1)
[10:58:12] *** Quits: triep (triep@moz-m40.3ip.235.85.IP) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[10:58:35] *** Joins: lucian (lucian@moz-ijm.htl.74.194.IP)
[10:58:46] *** Quits: lucian (lucian@moz-ijm.htl.74.194.IP) (A TLS packet with unexpected length was received.)
[10:59:05] *** Quits: rainemak (rainemak@moz-utlp5r.dhcp.inet.fi) (Ping timeout: 121 seconds)
[10:59:07] *** Joins: lucian (lucian@moz-iuo.htl.74.194.IP)
[11:00:12] *** Joins: Guest40 (textual@moz-pgf.vsa.206.213.IP)
[11:01:55] *** Quits: errordeveloper (ilya@moz-g0i.mtf.125.2.IP) (Ping timeout: 121 seconds)
[11:03:09] *** Quits: alonlevy (alon@moz-4jqdpb.telavivmakers.org) (Ping timeout: 121 seconds)
[11:03:41] *** Quits: zmack_ (zmack@moz-htpein.home.aster.pl) (Quit: Leaving...)
[11:04:04] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Client exited)
[11:04:17] *** Quits: Altaz (Altazimuth@moz-vh5bv3.ucl.ac.uk) (Quit: Leaving)
[11:04:19] *** Joins: yuja (yuja@moz-1cov5a.so-net.ne.jp)
[11:04:22] *** Quits: rusty-user (rusty@moz-jga.mb5.106.203.IP) (Ping timeout: 121 seconds)
[11:04:51] *** Joins: Ven (Ven@moz-vrb.ddg.5.163.IP)
[11:05:17] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[11:05:32] *** Joins: andre_ (andre@moz-rnd.3qv.76.201.IP)
[11:06:15] *** Joins: rusty-user (rusty@moz-jga.mb5.106.203.IP)
[11:06:57] *** Quits: c0170 (c0170@moz-bb29a4.cambridge.arm.com) (Ping timeout: 121 seconds)
[11:07:22] *** Joins: james4k (james@moz-ojv7g2.consolidated.net)
[11:07:46] <mib_kd42tu> is there no way to get the last element in a vec other than vec[vec.len() - 1]?
[11:08:02] <Mutabah> mib_kd42tu: vec.last()?
[11:08:36] <mib_kd42tu> i dont see it here: https://doc.rust-lang.org/std/vec/struct.Vec.html
[11:09:04] <Mutabah> mib_kd42tu: Sadly, the docs don't (yet) make it obvious when a type impls Deref
[11:09:05] <huon> it's a method on slices
[11:09:18] <Mutabah> Vec dereferences to [T], which provides .last()
[11:09:38] <houzi> Sorry if I'm OT, but does anybody know if there's a channel on this server where I can ask questions about HTML?
[11:11:13] *** Joins: mahdi (mahdi@moz-p65.u27.244.151.IP)
[11:11:26] *** Quits: james4k (james@moz-ojv7g2.consolidated.net) (Ping timeout: 121 seconds)
[11:11:59] *** Joins: owi (owi@moz-dq04n8.bredband.comhem.se)
[11:13:11] *** Joins: rootnode (rootnode@moz-go1ut4.ip1.george24.com)
[11:14:19] *** Quits: rusty-user (rusty@moz-jga.mb5.106.203.IP) (Ping timeout: 121 seconds)
[11:16:25] *** Joins: RossJH (textual@moz-m6lf6o.in-addr.btopenworld.com)
[11:16:30] *** Joins: lenstr (lenstr@moz-rjs.vju.25.171.IP)
[11:16:41] *** Quits: RossJH (textual@moz-m6lf6o.in-addr.btopenworld.com) (Quit: Textual IRC Client: www.textualapp.com)
[11:17:14] *** Quits: Ms2ger (Ms2ger@moz-bh431q.isp.belgacom.be) (Quit: bbl)
[11:18:01] *** Joins: sleetdrop (sleetdrop@moz-pmb.klk.142.219.IP)
[11:18:07] *** Quits: owi (owi@moz-dq04n8.bredband.comhem.se) (Quit: leaving)
[11:18:15] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[11:18:53] *** Quits: dtantsur (dtantsur@moz-1821b5.net.upcbroadband.cz) (Quit: Leaving)
[11:20:03] *** Joins: eerie_ (eerie@moz-nu5r7u.red.bezeqint.net)
[11:20:23] *** Quits: njn (chatzilla@moz-mv909v.iinet.net.au) (Quit: ChatZilla 0.9.91.1 [Firefox 39.0a1/20150322160652])
[11:20:38] *** Quits: lenstr (lenstr@moz-rjs.vju.25.171.IP) (Ping timeout: 121 seconds)
[11:21:56] *** Quits: NobbZ (NobbZ@moz-76fpqv.fh-wedel.de) (Ping timeout: 121 seconds)
[11:22:08] *** Joins: rainemak (rainemak@moz-oq2he0.dhcp.inet.fi)
[11:22:17] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[11:22:18] <Havvy> houzi:  #html on Freenode.
[11:23:06] *** Quits: eerie (eerie@moz-nu5r7u.red.bezeqint.net) (Ping timeout: 121 seconds)
[11:23:09] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[11:23:28] <ruzu> this server has a #webdev , i assume html counts
[11:24:19] *** Joins: Kynes (Kynes@moz-j2us35.mit.edu)
[11:24:31] *** Joins: marc_ (uid5324@moz-t3einu.ealing.irccloud.com)
[11:24:40] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[11:26:31] *** Quits: aravindavk (aravinda@moz-m6j.f0d.244.121.IP) (Ping timeout: 121 seconds)
[11:26:34] *** Joins: RossJH (textual@moz-m6lf6o.in-addr.btopenworld.com)
[11:26:46] *** Quits: RossJH (textual@moz-m6lf6o.in-addr.btopenworld.com) (Quit: Textual IRC Client: www.textualapp.com)
[11:26:48] *** Joins: Skyler (Skyler@moz-e93b35.sd.cox.net)
[11:27:05] *** Joins: RossJH (textual@moz-m6lf6o.in-addr.btopenworld.com)
[11:27:06] *** Quits: Skyler (Skyler@moz-e93b35.sd.cox.net) (Client exited)
[11:27:24] *** Quits: canhtak (canhtak@moz-kcs.u0t.149.5.IP) (Client exited)
[11:27:43] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[11:28:07] *** Quits: pkondzior (uid768@moz-gsp5c1.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[11:28:46] *** Joins: Skyler (Skyler@moz-e93b35.sd.cox.net)
[11:28:57] *** Joins: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp)
[11:29:09] *** Joins: akiss (akiss@moz-q030pk.inf.u-szeged.hu)
[11:29:13] *** Joins: brainproxy (michael@moz-9vjtig.mo.charter.com)
[11:29:43] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[11:30:15] *** Joins: JackMc (jack@moz-pseh7a.cable.rogers.com)
[11:31:04] *** Quits: eerie_ (eerie@moz-nu5r7u.red.bezeqint.net) (Connection closed)
[11:31:46] *** Joins: emjzro (Mibbit@moz-ebj.cbv.198.195.IP)
[11:31:46] *** Quits: cursivecode (textual@moz-4u56i9.res.bhn.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[11:32:07] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[11:32:13] *** Quits: ofeldt (ofeldt@moz-7a34v1.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[11:32:23] *** Joins: acamda (adam@moz-q44okf.iinet.net.au)
[11:32:51] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[11:33:04] *** Joins: triep (triep@moz-m40.3ip.235.85.IP)
[11:33:19] *** Quits: akiss (akiss@moz-q030pk.inf.u-szeged.hu) (Ping timeout: 121 seconds)
[11:33:33] *** Joins: e_svedang (e_svedang@moz-p1r4ve.bredband.comhem.se)
[11:34:13] *** Quits: brainproxy (michael@moz-9vjtig.mo.charter.com) (Ping timeout: 121 seconds)
[11:34:31] *** Joins: akiss (akiss@moz-kij.q96.114.160.IP)
[11:34:35] *** Quits: peacememories (peace@moz-hvqggk.tuwien.ac.at) (Ping timeout: 121 seconds)
[11:34:36] *** Quits: sleetdrop (sleetdrop@moz-pmb.klk.142.219.IP) (Quit: Textual IRC Client: www.textualapp.com)
[11:35:13] *** Joins: eerie (eerie@moz-nu5r7u.red.bezeqint.net)
[11:35:59] *** Quits: ineol (ineol@moz-ofnmt7.residence.ens-lyon.fr) (Client exited)
[11:36:52] *** Quits: emjzro (Mibbit@moz-ebj.cbv.198.195.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:36:54] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Ping timeout: 121 seconds)
[11:37:24] *** Joins: canhtak (canhtak@moz-kcs.u0t.149.5.IP)
[11:39:37] *** Joins: alonlevy (alon@moz-4jqdpb.telavivmakers.org)
[11:40:00] *** Joins: Integralist (Integralist@moz-3ag.m9b.185.132.IP)
[11:40:31] *** Joins: NobbZ (NobbZ@moz-ek9icn.s93d.g29e.8108.2a02.IP)
[11:41:21] *** Quits: coxg (sazzer@moz-1hq.kh5.32.217.IP) (Ping timeout: 121 seconds)
[11:41:29] *** Quits: eerie (eerie@moz-nu5r7u.red.bezeqint.net) (Quit: )
[11:41:42] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[11:42:02] *** Joins: marsel (user@moz-o3p.ehs.180.94.IP)
[11:42:05] *** Joins: pkondzior (uid768@moz-gsp5c1.uxbridge.irccloud.com)
[11:42:21] *** Joins: fmendez (fmendez@moz-1jn.fqm.166.190.IP)
[11:43:24] *** Joins: rusty-user (rusty@moz-jga.mb5.106.203.IP)
[11:43:57] *** Quits: alonlevy (alon@moz-4jqdpb.telavivmakers.org) (Ping timeout: 121 seconds)
[11:43:57] *** Joins: munksgaard (munksgaard@moz-3v9.hq0.225.130.IP)
[11:45:42] *** Joins: lucian_ (lucian@moz-iuo.htl.74.194.IP)
[11:46:09] *** Quits: lucian (lucian@moz-iuo.htl.74.194.IP) (Ping timeout: 121 seconds)
[11:46:37] *** Quits: forgottenone (forgottenon@moz-160.l1s.42.176.IP) (Quit: Konversation terminated!)
[11:46:48] *** Joins: forgottenone (forgottenon@moz-160.l1s.42.176.IP)
[11:48:27] *** Quits: acamda (adam@moz-q44okf.iinet.net.au) (Quit: leaving)
[11:49:06] *** Joins: ismaelga (ismaelga@moz-do6r88.rev.vodafone.pt)
[11:49:29] *** Joins: dylan_ (dylan@moz-188.d0d.43.100.IP)
[11:49:30] *** Joins: alhof (dylan@moz-188.d0d.43.100.IP)
[11:49:39] *** Joins: lenstr (lenstr@moz-rjs.vju.25.171.IP)
[11:49:56] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Connection closed)
[11:50:55] *** Quits: lenstr (lenstr@moz-rjs.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[11:50:58] *** Quits: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp) (Quit: )
[11:51:00] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[11:52:10] *** Joins: peacememories (peace@moz-hvqggk.tuwien.ac.at)
[11:52:37] *** Joins: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP)
[11:53:37] *** Quits: alhof (dylan@moz-188.d0d.43.100.IP) (Ping timeout: 121 seconds)
[11:53:38] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[11:53:41] *** Quits: dylan_ (dylan@moz-188.d0d.43.100.IP) (Ping timeout: 121 seconds)
[11:54:23] *** Joins: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca)
[11:54:40] *** Quits: rusty-user (rusty@moz-jga.mb5.106.203.IP) (Quit: AndroIRC - Android IRC Client ( http://www.androirc.com ))
[11:55:08] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[11:55:44] *** Joins: brainproxy (michael@moz-9vjtig.mo.charter.com)
[11:56:38] *** Joins: jan247 (Adium@moz-22p.46v.146.49.IP)
[11:56:45] *** Joins: dodo_ (dodo@moz-g62bpd.ivjq.i3qc.4998.2001.IP)
[11:57:09] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[11:57:55] *** Joins: rprichard (rprichard@moz-nbiuci.en8f.d045.0009.2601.IP)
[11:58:32] *** Quits: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca) (Ping timeout: 121 seconds)
[11:59:08] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[11:59:08] *** ChanServ sets mode: +o erickt
[11:59:22] *** Quits: dodo (dodo@moz-trg.cj2.196.66.IP) (Ping timeout: 121 seconds)
[12:00:17] *** Quits: RossJH (textual@moz-m6lf6o.in-addr.btopenworld.com) (Quit: Textual IRC Client: www.textualapp.com)
[12:01:05] *** Quits: peacememories (peace@moz-hvqggk.tuwien.ac.at) (Ping timeout: 121 seconds)
[12:01:44] *** Joins: areski (areski@moz-tijh72.user.ono.com)
[12:02:01] *** Joins: dodo (dodo@moz-trg.cj2.196.66.IP)
[12:02:03] *** Quits: nicoch (nicoch@moz-g02d7k.be) (Quit: My Mac has gone to sleep. ZZZzzz…)
[12:02:08] *** Quits: dodo_ (dodo@moz-g62bpd.ivjq.i3qc.4998.2001.IP) (Connection closed)
[12:02:14] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[12:02:25] *** Quits: munksgaard (munksgaard@moz-3v9.hq0.225.130.IP) (Ping timeout: 121 seconds)
[12:02:36] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[12:03:21] *** Quits: minzh (minzh@moz-u8rq5v.citrix.com) (A TLS packet with unexpected length was received.)
[12:03:38] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[12:03:54] *** Joins: amyers (amyers@moz-om8.mme.177.128.IP)
[12:03:58] *** Joins: munksgaard (munksgaard@moz-3v9.hq0.225.130.IP)
[12:04:16] *** Joins: lenstr (lenstr@moz-rjs.vju.25.171.IP)
[12:04:49] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[12:06:56] <houzi> thanks
[12:07:54] *** Joins: coxg (sazzer@moz-1hq.kh5.32.217.IP)
[12:08:06] *** Quits: forgottenone (forgottenon@moz-160.l1s.42.176.IP) (Quit: Konversation terminated!)
[12:08:41] *** Quits: khades (khades@moz-ual.b31.186.31.IP) (Ping timeout: 121 seconds)
[12:10:49] *** Joins: duncan (paul@moz-9vabq7.sgnwmi.sbcglobal.net)
[12:12:39] *** Joins: cursivecode (textual@moz-4u56i9.res.bhn.net)
[12:13:54] *** Joins: Altazimuth (Altazimuth@moz-q966ko.skybroadband.com)
[12:14:16] *** Quits: JackMc (jack@moz-pseh7a.cable.rogers.com) (Ping timeout: 121 seconds)
[12:14:42] *** Joins: v212 (vee@moz-sa3oki.asianet.co.th)
[12:15:33] *** Joins: arielb1 (Mibbit@moz-ffvldb.tau.ac.il)
[12:16:08] <arielb1> Is there an O(n^2) dedup that depends only on PartialEq?
[12:17:12] <triep> .sort_by then vec::dedup?
[12:17:18] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[12:17:26] <arielb1> triep: that depends on Ord
[12:17:28] <triep> that would be O(N ln N) though
[12:17:41] <arielb1> I don't have Ord, but don't care about O(n^2) time
[12:17:54] <triep> .sort_by doesn't depend on any bound like that
[12:18:01] <triep> you supply the comparison function
[12:18:21] <triep> .dedup() is PartialEq
[12:18:26] <triep> so you're good
[12:18:29] *** Joins: ytain (ytain@moz-vhndj2.dsl.teksavvy.com)
[12:19:02] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[12:19:03] <arielb1> triep: .dedup is an O(n) partial dedup
[12:19:21] <SneakySnake> Docs say FromPrimitive will likely be removed. Will I be able to express numbers other than 0 and 1 in code dealing with generic Ints if it's removed?
[12:19:35] <arielb1> Anyway, is there an hash-based dedup?
[12:19:38] <triep> arielb1: you need to sort first for full deduplication
[12:19:42] *** Joins: peacememories (peace@moz-hvqggk.tuwien.ac.at)
[12:19:43] <Tobba|Laptop> didn't Zero and One get shitcanned as well
[12:19:52] <arielb1> triep: I *don't* have an Ord
[12:19:55] <Tobba|Laptop> (annoyingly)
[12:20:00] *** Quits: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP) (Connection closed)
[12:20:03] <arielb1> If I had an ordering I would have used it
[12:20:10] *** Joins: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP)
[12:20:10] *** Joins: ahal (ahal@moz-blga2k.cpe.pppoe.ca)
[12:20:16] <triep> oh you mean you have no PartialOrd
[12:20:20] <triep> either
[12:20:23] <mindtree> Tobba|Laptop: the traits did, there are still methods in Float and Int for them
[12:20:24] <arielb1> triep: sure
[12:20:27] <arielb1> and that would have been O(n log n)
[12:20:32] <arielb1> through you need Ord for sorting
[12:20:51] <triep> you don't need Ord for sorting, just a comparison function. but sure.
[12:20:57] <triep> you need some kind of ordering
[12:21:07] <SneakySnake> Specifically, I want 2, but one() + one() doesn't seem to work
[12:21:37] <arielb1> SneakySnake: what's the problem with one()+one()
[12:21:52] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[12:22:09] *** Joins: hoony (Thunderbird@moz-q5r.8e9.96.183.IP)
[12:22:15] *** Joins: eddyb (eddyb@moz-dhp.t65.25.188.IP)
[12:22:23] *** Joins: acgtyrant (acgtyrant@moz-cn1.4sk.186.39.IP)
[12:22:24] <Ilari> I'm surprised nobody has yet mentioned volatile_set_memory in the "unstable APIs" thread on forums...
[12:22:41] <arielb1> rusti: fn foo<T: Num>() -> T { <T>::one() + <T>::one() }; println!("{}", foo())
[12:22:42] -playbot- <anon>:14:19: 14:22 error: use of undeclared trait name `Num`
[12:22:42] -playbot- <anon>:14         fn foo<T: Num>() -> T { <T>::one() + <T>::one() }; println!("{}", foo())
[12:22:42] -playbot- output truncated; full output at: http://bit.ly/1Gcs3lF
[12:23:04] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[12:23:11] <SneakySnake> arielb1: Oh, I tried to do Int::one() instead of T::one().
[12:24:27] <SneakySnake> Oh. Int::one() is unstable too...
[12:24:39] <arielb1> playbot: fn foo<T: std::num::Int>() -> T { <T>::one() + <T>::one() }; println!("{}", foo::<u32>())
[12:24:40] -playbot- 2
[12:24:40] -playbot- ()
[12:24:49] <SneakySnake> Maybe you won't be able to write generic Int code without an external library
[12:25:22] <triep> Int::one is theoreticall an associated constant, I guess that's the hesitation to stabilize
[12:25:50] *** Joins: boss_mc (boss_mc@moz-bf2ubt.cc63.ki59.0104.2620.IP)
[12:25:58] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[12:26:33] *** Joins: dtantsur (dtantsur@moz-16g.ma8.175.213.IP)
[12:26:34] <SneakySnake> I wish there would be a way to just say "I want to work with any integer that can represent range x..y", and you could use those literals directly in the code
[12:26:43] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[12:27:11] *** Joins: Slava_I (slava@moz-puf.ul0.216.178.IP)
[12:27:15] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[12:29:44] *** bentley is now known as bentley|away
[12:30:10] *** Joins: TonyLuj (Mibbit@moz-jl9.gql.120.42.IP)
[12:30:47] *** Joins: Ferreus (ferreus@moz-r468ou.68ev.buuc.2028.2a02.IP)
[12:30:57] *** Quits: TonyLuj (Mibbit@moz-jl9.gql.120.42.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[12:31:12] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[12:31:44] *** Joins: palodequeso (quassel@moz-ebjt83.hfc.comcastbusiness.net)
[12:32:03] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[12:32:04] *** Joins: Guest74 (textual@moz-lmfinb.fios.verizon.net)
[12:32:32] *** Quits: yusukesuzuki (yusukesuzuk@moz-dt1lc7.t-com.ne.jp) (Ping timeout: 121 seconds)
[12:33:05] *** Quits: rmgk_ (ragnar@moz-at6p14.dyn.telefonica.de) (Ping timeout: 121 seconds)
[12:33:28] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[12:33:37] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[12:34:10] *** Quits: rossm (ross@moz-pnc4od.as13285.net) (Ping timeout: 121 seconds)
[12:34:24] *** Joins: enjolras (enjolras@moz-p7mo8q.ovh)
[12:34:28] <enjolras> hi
[12:35:15] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[12:35:15] *** Joins: amro (amro@moz-gc7khp.clq1.sjcg.02b0.2a01.IP)
[12:35:33] <enjolras> how would you implement "find and replace or insert" in place for a vector ? 
[12:35:52] <enjolras> i have a working implementation with swap_remove and push 
[12:35:58] <enjolras> but it reorders the vector
[12:36:15] <companion_cube> your specification is bit fuzzy :)
[12:36:15] <Mutabah> enjolras: What do you mean?
[12:36:26] <Mutabah> enjolras: Do you want to maintain a sorted vector?
[12:36:42] <Mutabah> enjolras: Or, do you just want to linear search for item X, swapit for Y if present, or insert Y?
[12:36:52] <Mutabah> (inserting Y at the end of the vector)
[12:37:14] <enjolras> exactly
[12:37:25] <enjolras> the second one
[12:37:30] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[12:37:40] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Ping timeout: 121 seconds)
[12:37:48] <enjolras> i feel dumb, but i get either a double borrow, either a moved value
[12:38:20] <Mutabah> enjolras: Use a find_mut method, with match / if_let
[12:38:30] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[12:38:34] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[12:38:50] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[12:39:18] *** Joins: toqueteos (toqueteos@moz-plqtsp.staticIP.rima-tde.net)
[12:39:24] <faern> triep: I failed to implement your solution to my real problem. It was supposed to be recursive, I did not get it to work. I cleaned up the code and created a SO question if you want to and have time to look again: https://stackoverflow.com/questions/29232849/rust-passing-mut-to-function-and-return-closure-lifetime-problems
[12:39:25] <enjolras> if let Some(v) = self.iter_mut().find(|tuple| tuple.key == key).map(|tuple| mem::replace(&mut tuple.value, value)) { Some(v) } else { self.push(VecMapTuple { key : key, value : value }); None }
[12:39:39] <enjolras> this is my code. But obviously value is used after move :/
[12:39:41] *** Quits: Boscop (me@moz-9fq.aou.65.112.IP) (Ping timeout: 121 seconds)
[12:39:43] *** darkowlzz is now known as darkowlzz|afk
[12:40:39] *** Joins: rmgk (ragnar@moz-hh34dt.dyn.telefonica.de)
[12:41:01] <triep> faern: now it compiles http://is.gd/SiHtRd
[12:41:15] <triep> faern: You have to take lifetime elision into account
[12:41:20] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[12:41:21] *** ChanServ sets mode: +o pnkfelix
[12:41:54] *** Joins: yusukesuzuki (yusukesuzuk@moz-dt1lc7.t-com.ne.jp)
[12:41:58] *** Quits: dardevelin (dardevelin@moz-a3ode1.adslplus.ch) (Ping timeout: 121 seconds)
[12:42:05] <triep> faern: in the following line there are no lifetimes explicitly written out. So it in fact by default means there is a lifetime connection between input and output!  fn inc_vec_direct(data: &mut [usize]) -> TaskResult
[12:42:08] *** Joins: errordeveloper (ilya@moz-faoveb.in-addr.btopenworld.com)
[12:42:30] <triep> fn foo(&X) -> Y    is the same as  fn foo<'a>(&'a X) -> Y<'a>
[12:42:32] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Ping timeout: 121 seconds)
[12:42:43] *** Joins: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net)
[12:42:46] *** Quits: acgtyrant (acgtyrant@moz-cn1.4sk.186.39.IP) (Ping timeout: 121 seconds)
[12:43:09] <triep> but here you wanted fn foo<'a>(&X) -> Y<'a>
[12:45:24] <faern> ah.. That made it compile. But I had forgotten to call _fork instead of _direct in one place. This still does not compile: http://is.gd/HT8VVF
[12:45:41] <faern> it was really in the fork method the problem was (I think) and that was never called in the code I uploaded :(
[12:45:59] *** Joins: khades (khades@moz-08k.3vk.74.212.IP)
[12:46:55] *** Quits: Guest74 (textual@moz-lmfinb.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[12:47:14] *** Joins: Guest__ (textual@moz-18t.4i4.229.203.IP)
[12:48:24] *** Joins: mjboa (mike@moz-tjh7j3.eduroam.rwth-aachen.de)
[12:49:05] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[12:49:10] *** Parts: calc0000 (calc0000@moz-dh85rc.mqd9.h8am.0980.2605.IP) ()
[12:49:52] <enjolras> ok, i found a solution : { f let Some(tuple) = self.iter_mut().find(|tuple| key == tuple.key) { return Some(mem::replace(&mut tuple.value, value)) } } self.push(VecMapTuple { key : key, value : value }); None
[12:51:42] *** Joins: Guest74 (textual@moz-lmfinb.fios.verizon.net)
[12:51:45] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[12:52:21] *** Joins: playjax (chatzilla@moz-jo7lb5.optusnet.com.au)
[12:52:27] *** Joins: jjthrash (jjthrash@moz-e4cn73.res.rr.com)
[12:53:24] *** Quits: Kxepal (Miranda@moz-7r0agj.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[12:53:29] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Ping timeout: 121 seconds)
[12:54:00] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[12:54:30] *** Joins: RossJH (textual@moz-m6lf6o.in-addr.btopenworld.com)
[12:55:10] *** Joins: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca)
[12:55:10] *** Joins: aravindavk (aravinda@moz-jpb.f9i.171.122.IP)
[12:55:11] *** Joins: Kxepal (Miranda@moz-u7povl.pppoe.mtu-net.ru)
[12:55:31] *** Joins: dardevelin (dardevelin@moz-a3ode1.adslplus.ch)
[12:55:53] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[12:56:16] <triep> faern: I don't know. I'm thinking that it's unsound for some reason (i.e. rustc "is right"), but I can't find it either way
[12:56:33] *** Joins: james4k (james@moz-ojv7g2.consolidated.net)
[12:57:03] *** Quits: mib_kd42tu (Mibbit@moz-dtdtqq.livnmi.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[12:57:37] <faern> triep: Ok. I continue trying. Please tell me if you realize what's wrong :)
[12:58:49] <faern> triep: I find it strange to separate the lifetime of the argument and the return value. The point is that I want to promise the compiler that the data will be valid for as long as the closure exist.
[12:59:21] *** Quits: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca) (Ping timeout: 121 seconds)
[13:00:37] *** Quits: james4k (james@moz-ojv7g2.consolidated.net) (Ping timeout: 121 seconds)
[13:00:45] *** Quits: rainemak (rainemak@moz-oq2he0.dhcp.inet.fi) (Ping timeout: 121 seconds)
[13:01:01] *** darkowlzz|afk is now known as darkowlzz
[13:01:15] *** Joins: smohan (smohan@moz-vm4.rkb.167.122.IP)
[13:01:41] *** Quits: mjboa (mike@moz-tjh7j3.eduroam.rwth-aachen.de) (Ping timeout: 121 seconds)
[13:02:22] *** Joins: cryptojuice (cryptojuice@moz-pc2dp8.fios.verizon.net)
[13:02:27] <triep> if both are tagged with the same lifetime parameter, you establish Y-borrows-from-X, in this case a mut borrow
[13:02:53] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Quit: Leaving)
[13:03:06] *** Quits: Ven (Ven@moz-vrb.ddg.5.163.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[13:03:08] *** Joins: cryptoju_ (cryptojuice@moz-pc2dp8.fios.verizon.net)
[13:03:12] <triep> I swear it's something with variance and &mut and closures
[13:03:17] <triep> call in the CS nerds
[13:03:21] *** Quits: cryptojuice (cryptojuice@moz-pc2dp8.fios.verizon.net) (Connection closed)
[13:04:16] <triep> aha of course
[13:04:21] <triep> it's an FnMut closure, not FnOnce
[13:04:24] <freefall> burntsushi: re streaming iterators, is there a single issue or rfc open to track the thinking? if not it sounds like you're the best one to do the initial write-up :)
[13:05:11] <toqueteos> i'm getting move errors using .seek and .take (io), should i clone the file for every loop iteration?
[13:05:18] *** Parts: arielb1 (Mibbit@moz-ffvldb.tau.ac.il) ()
[13:06:43] *** AutomatedTester|AFK is now known as AutomatedTester
[13:06:55] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[13:07:03] <triep> faern: ok this wasn't easy.. now.. it compiles again :-) http://is.gd/PJfS5X
[13:07:26] <triep> faern: rustc was right -- it was unsound. Our analysis used that the closures are only called once. So we use FnOnce
[13:07:51] <triep> faern: notice the hack needed to move &mut []...    let move_ref = l;
[13:08:25] <triep> So that's cool. Rustc being right and so. If it just was nicer about it
[13:08:30] *** Quits: Integralist (Integralist@moz-3ag.m9b.185.132.IP) (Ping timeout: 121 seconds)
[13:08:46] <faern> triep: Good you found a solution that used FnOnce since that is probably the trait I want to end up with. I had some problems calling them though so I used FnMut in the examples.
[13:09:03] <triep> well they have different implications for the &mut borrows!
[13:09:13] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[13:09:43] <faern> triep: so the let move_ref is the hack that makes it tick? Interesting.
[13:09:55] <triep> FnOnce is the important part
[13:10:17] <triep> but yes, you have to do that thing to make it move instead of reborrow the &mut
[13:10:42] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[13:10:59] <faern> Aha
[13:11:08] *** Quits: hoony (Thunderbird@moz-q5r.8e9.96.183.IP) (Client exited)
[13:11:15] <faern> triep: Thank you very much for the help!
[13:11:29] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[13:11:37] *** Quits: playjax (chatzilla@moz-jo7lb5.optusnet.com.au) (Connection closed)
[13:11:49] *** Quits: pauls_ (paul@moz-uq0v7s.cable.rcn.com) (Ping timeout: 121 seconds)
[13:12:08] *** Quits: Guest74 (textual@moz-lmfinb.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[13:12:58] *** Joins: laparca (laparca@moz-rgcs06.mgob.kh00.0488.2a01.IP)
[13:13:25] <triep> it's better than sudoku
[13:13:30] *** Quits: boblehest (jlode@moz-mquaka.customer.lyse.net) (Ping timeout: 121 seconds)
[13:13:45] *** Joins: jviereck (Adium@moz-a4jkal.ethz.ch)
[13:14:22] *** Joins: jviereck1 (Adium@moz-2ahd4j.ethz.ch)
[13:14:51] *** Joins: jviereck2 (Adium@moz-a4jkal.ethz.ch)
[13:14:54] *** Joins: idegen (greg@moz-9c4nle.or.frontiernet.net)
[13:15:20] *** Quits: jviereck (Adium@moz-a4jkal.ethz.ch) (Connection closed)
[13:16:01] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[13:18:14] *** Joins: cmhamill (chamill@moz-fbj69f.wesleyan.edu)
[13:18:26] *** Quits: jviereck1 (Adium@moz-2ahd4j.ethz.ch) (Ping timeout: 121 seconds)
[13:19:09] *** Quits: agjacome (agjacome@moz-gki9i8.ei.uvigo.es) (Quit: leaving)
[13:19:52] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[13:19:58] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[13:20:09] <faern> triep: True :D
[13:20:13] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[13:20:13] *** Joins: Izacht13 (Izacht13@moz-5tc3lv.atsnmeam.ccmaine.net)
[13:20:27] <cmhamill> Would anyone with lifetime chops be willing to quickly vet this for soundness? http://is.gd/dIuivX
[13:21:38] *** Quits: marsel (user@moz-o3p.ehs.180.94.IP) (Ping timeout: 121 seconds)
[13:23:19] *** Joins: hoony (Thunderbird@moz-q5r.8e9.96.183.IP)
[13:23:56] *** Joins: tsenior (user@moz-0dcmg6.east.verizon.net)
[13:24:00] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[13:24:05] <mtsr> cmhamill: Purely the order of statements in the block already makes the lifetimes satisfy your requirements, because lifetimes end in reverse order, afaik.
[13:24:15] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Ping timeout: 121 seconds)
[13:24:17] *** Quits: amro (amro@moz-gc7khp.clq1.sjcg.02b0.2a01.IP) (Ping timeout: 121 seconds)
[13:25:01] *** Joins: futile (felix@moz-5kl.840.188.178.IP)
[13:26:54] *** Quits: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP) (Quit: Leaving.)
[13:27:31] <cmhamill> mtsr: What do you mean exactly? Maybe I wasn't clear. I want to enforce the lifetime relationship, regardless of the way in which the types are used.  See this, where g lives longer than desired: http://is.gd/6blwJd
[13:27:58] <cmhamill> My question is if I'm "doin it right."
[13:28:02] <cmhamill> as it were
[13:28:39] *** Joins: joel2 (joel@moz-6ampnk.gtri.gatech.edu)
[13:28:49] *** Quits: garming (garming@moz-pqd1u2.xtra.co.nz) (Ping timeout: 121 seconds)
[13:29:11] *** Joins: saml_ (saml@moz-rkfmct.res.rr.com)
[13:30:28] <triep> GrandChild has no lifetime, so it's not borrowing anything
[13:30:37] <triep> it doesn't count as a borrow
[13:30:41] *** Joins: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP)
[13:31:20] <cmhamill> triep: In the latter example, right. The former is my attempt at fixing that with phantomdata, I'm just wondering if it's correct.
[13:32:36] <mtsr> The PhantomData should behave exactly like regular borrows in this case, right? If true it seems good to me.
[13:33:03] <triep> It looks reasonable
[13:33:11] *** Joins: kazagistar (kazagistar@moz-1jum1i.client.bresnan.net)
[13:33:38] <cmhamill> Okay, yeah, that's what I thought.
[13:33:43] <cmhamill> Thanks you.
[13:34:22] <cmhamill> Does anyone know of the best documentation on the lifetime syntax, and what exactly I'm telling the compiler when I use it?
[13:34:50] <steveklabnik> cmhamill: did you read the ownership chapter of the book?
[13:35:33] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[13:35:35] *** Joins: cesar (cesar@moz-3kqt3b.lv7r.u2r6.0306.2602.IP)
[13:36:18] <cmhamill> steveklabnik: I have, perhaps I should again.
[13:36:42] *** Joins: panicbit (panicbit@moz-gg7i2b.dip0.t-ipconnect.de)
[13:36:42] *** Quits: jviereck2 (Adium@moz-a4jkal.ethz.ch) (Quit: Leaving.)
[13:36:50] <steveklabnik> it's rust's most unique feature
[13:36:52] *** Joins: jviereck (Adium@moz-427efu.97ug.g469.067c.2001.IP)
[13:36:55] <steveklabnik> so it may take a bit to settle in
[13:37:10] <steveklabnik> the chapter isn't perfect yet, but it does cover the syntax and what it does :)
[13:37:37] <cmhamill> steveklabnik: yeah, totally. I'm at the point where I get it intuitively better than explicitly, and that's my least favorite place to be. :/
[13:37:49] <cmhamill> steveklabnik: Thanks, I'll read through it once more.
[13:37:56] *** Quits: jviereck (Adium@moz-427efu.97ug.g469.067c.2001.IP) (Quit: Leaving.)
[13:38:02] *** Joins: alhof (dylan@moz-188.d0d.43.100.IP)
[13:38:02] *** Joins: dylan_ (dylan@moz-188.d0d.43.100.IP)
[13:38:32] *** Joins: Gamecubic (cubic@moz-qfrl13.mc.videotron.ca)
[13:38:44] <steveklabnik> makes sense
[13:39:03] <steveklabnik> after you do, feel free to ask more questions in here of course
[13:39:14] <steveklabnik> i don't really have other documentation to point you to, unfortunately
[13:39:24] *** Quits: _Vi (vi@moz-bbs.vhj.131.104.IP) (Ping timeout: 121 seconds)
[13:39:37] *** Quits: cesar (cesar@moz-3kqt3b.lv7r.u2r6.0306.2602.IP) (Ping timeout: 121 seconds)
[13:40:06] *** Joins: alonlevy (alon@moz-89irgh.red.bezeqint.net)
[13:40:10] <cmhamill> steveklabnik: Fair enough!  Thanks for what there is, anyway, it's great so far.
[13:40:50] <steveklabnik> glad you like it :)
[13:40:55] <steveklabnik> so much work left to do
[13:41:01] * steveklabnik makes some coffee
[13:42:12] *** Quits: alhof (dylan@moz-188.d0d.43.100.IP) (Ping timeout: 121 seconds)
[13:42:15] *** Quits: dylan_ (dylan@moz-188.d0d.43.100.IP) (Ping timeout: 121 seconds)
[13:42:27] *** Joins: mystor_ (mystor@moz-5cj.r78.15.130.IP)
[13:42:29] *** Quits: Slava_I (slava@moz-puf.ul0.216.178.IP) (Ping timeout: 121 seconds)
[13:43:06] *** Joins: frogmella (Mibbit@moz-ccurhg.enscp.fr)
[13:43:42] *** Quits: areski (areski@moz-tijh72.user.ono.com) (Ping timeout: 121 seconds)
[13:43:46] *** Joins: JackMc (jack@moz-v5mb1u.hpsc-staff.carleton.ca)
[13:43:56] *** Joins: areski (areski@moz-paokb9.user.ono.com)
[13:43:58] <frogmella> hi, do you know if 'cargo doc' should update the documentation? It only does so if I delete the 'target' directory.
[13:44:15] <steveklabnik> cargo clean is better than just deleting target
[13:44:20] <steveklabnik> (unrelated)
[13:44:26] <faern> triep: I want to add the answer to SO so others can make use of it. Do you want to add it so you get the credit?
[13:44:31] <steveklabnik> but, iirc, yes, it should
[13:44:43] <steveklabnik> if you haven't made any changes, it might not do a re-build
[13:45:08] <frogmella> I have made changes, it also says "compiling", but nothing changes
[13:45:37] <steveklabnik> huh
[13:45:40] <steveklabnik> seems bad
[13:45:48] <frogmella> it fails on a minimal test
[13:46:07] *** Joins: lenstr_ (lenstr@moz-3sv.vju.25.171.IP)
[13:46:10] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[13:46:30] *** Joins: mgottschlag (quassel@moz-e8nec7.h71g.nb65.1398.2a00.IP)
[13:46:57] *** darkowlzz is now known as darkowlzz|afk
[13:48:02] *** Joins: pauls_ (paul@moz-uq0v7s.cable.rcn.com)
[13:48:22] *** Quits: lenstr (lenstr@moz-rjs.vju.25.171.IP) (Ping timeout: 121 seconds)
[13:49:21] *** Joins: awgross (Adium@moz-p4j.th9.86.207.IP)
[13:49:24] <triep> faern: no I lost my login. I'll fix that another day
[13:49:41] *** Joins: jviereck (Adium@moz-a4jkal.ethz.ch)
[13:49:48] <triep> faern: (so feel free to answer it)
[13:49:49] *** Joins: amro (amro@moz-6s0opd.clq1.sjcg.02b0.2a01.IP)
[13:49:52] <azar77> so std::io::stdout() is a function
[13:49:53] <azar77> if I want to use it, should I create a local variable with its returned value to avoid calling it repeatedly
[13:49:56] <azar77> or will the compiler optimize the calls away anyway?
[13:50:04] <faern> triep: Ok. I will give you credit in the text at least :)
[13:50:26] <triep> ok
[13:51:01] *** Quits: cakecatz (cakecatz@moz-1souik.smart2j.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[13:52:31] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[13:53:05] *** Quits: datalus1 (datalus@moz-28gbmi.res.rr.com) (Ping timeout: 121 seconds)
[13:53:28] <futile> anybody here using emacs(or even spacemacs) for rust dev?
[13:53:32] *** Quits: mgottschlag (quassel@moz-e8nec7.h71g.nb65.1398.2a00.IP) (Ping timeout: 121 seconds)
[13:54:02] *** Quits: mindtree (Mitch@moz-bvilv0.iprimus.net.au) (Ping timeout: 121 seconds)
[13:54:10] *** Quits: triep (triep@moz-m40.3ip.235.85.IP) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[13:54:15] <steveklabnik> futile: we have lots of emacs people, we even have a rust-mode
[13:54:31] *** Joins: mindtree (Mitch@moz-5s3mu6.iprimus.net.au)
[13:54:41] <futile> steveklabnik: yeah, and I'm using that and its great :)
[13:54:45] <steveklabnik> azar77: often, you need to make a local variable with it due to lifetime things
[13:55:13] <futile> however, I don't think it has bindings or anything to call cargo build/test/run
[13:55:32] *** Joins: vmx (vmx@moz-kq6rmb.pools.vodafone-ip.de)
[13:55:36] <azar77> steveklabnik: ok, thanks, it's just confusing that it is a function, why not make it a global constant?
[13:55:40] *** Quits: psy (psy@moz-ous.ntd.6.103.IP) (Ping timeout: 121 seconds)
[13:55:52] *** Quits: amro (amro@moz-6s0opd.clq1.sjcg.02b0.2a01.IP) (Ping timeout: 121 seconds)
[13:55:57] *** Joins: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca)
[13:56:39] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[13:56:49] *** Quits: tsenior (user@moz-0dcmg6.east.verizon.net) (A TLS packet with unexpected length was received.)
[13:57:14] <steveklabnik> because it isn't constant
[13:57:26] <steveklabnik> it returns a Stdin object
[13:57:58] *** Quits: jan247 (Adium@moz-22p.46v.146.49.IP) (Quit: Leaving.)
[13:58:24] *** Joins: new_one (new_one@moz-941.s43.42.128.IP)
[13:58:40] *** Joins: mgottschlag (quassel@moz-deup9t.qiv1.bbcb.1398.2a00.IP)
[13:59:14] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[13:59:14] *** ChanServ sets mode: +o erickt
[13:59:58] *** Quits: nodweber_ (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[14:00:06] *** Quits: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca) (Ping timeout: 121 seconds)
[14:00:06] *** Joins: amro (amro@moz-q00d5l.clq1.sjcg.02b0.2a01.IP)
[14:00:18] *** Joins: Selemur (chatzilla@moz-tpgfbn.kawo1.rwth-aachen.de)
[14:00:21] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[14:01:34] *** Joins: dschatzberg (dschatz@moz-f4a40c.bu.edu)
[14:02:16] *** Joins: housl (housl@moz-qnjt4k.ut.comcast.net)
[14:02:44] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[14:03:06] *** Joins: Integralist (Integralist@moz-ua9.pof.58.212.IP)
[14:03:41] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[14:04:29] <cmhamill> steveklabnik: Ok, I've got a specific lifetime question now. What am I telling the compiler in the to_str() function here that makes it work while other_to_str() does not? http://is.gd/sJlfDu
[14:04:59] <steveklabnik> gimme one second, and i'll check it out
[14:05:11] <cmhamill> steveklabnik: yeah, take your time, and thanks!
[14:05:37] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[14:05:47] *** Quits: esawin (esawin@moz-gob.6k5.214.85.IP) (Quit: leaving)
[14:05:53] *** Joins: esawin (esawin@moz-gob.6k5.214.85.IP)
[14:06:24] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[14:07:30] <steveklabnik> ah
[14:07:31] <steveklabnik> so
[14:07:38] <steveklabnik> did you read the section on 'elision'
[14:08:37] <frogmella> steveklabnik: ok, I filed an issue on github cargo (but it's a bit frightening to see such bugs, if indeed it is one)
[14:10:06] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[14:10:13] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[14:10:17] *** Quits: errordeveloper (ilya@moz-faoveb.in-addr.btopenworld.com) (Ping timeout: 121 seconds)
[14:10:30] <steveklabnik> frogmella: well, i think most people generate docs as a last step in a build process, they don't actually look at the command or its output very often
[14:10:43] <steveklabnik> but it's possible something strange is just going on
[14:10:43] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[14:10:45] <steveklabnik> we'll see
[14:11:35] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[14:12:23] <cmhamill> steveklabnik: yes, and I figured it was something to do with that, that the &'a str is getting the elided lifetime of &self on the Foo struct.  I guess what I'm missing is what ties the declaration of 'a in the to_str() method to the lifetime of the method it's called in
[14:12:29] *** Joins: infinigon (x@moz-54e146.range86-142.btcentralplus.com)
[14:13:15] <frogmella> steveklabnik: just a quick question about docs : it's not possible to playpen enable some code put in between backquotes in a code in the documentation output?
[14:14:29] <steveklabnik> frogmella: i didn't _quite_ parse that. iirc, rustdoc will automatically link to the playpen for you, you don't need to do anything special
[14:14:42] <steveklabnik> at least, when working on rust itself, i don't have to. maybe we pass a command-line option in the build system or something
[14:14:45] *** Joins: tjr_ (trevor.rile@moz-8jj.an9.222.162.IP)
[14:14:49] <steveklabnik> cmhamill: yeah, so elision is part of it
[14:15:33] *** Quits: RossJH (textual@moz-m6lf6o.in-addr.btopenworld.com) (Quit: Textual IRC Client: www.textualapp.com)
[14:15:33] <steveklabnik> so this signature:     fn to_str<'a>(&self) -> Result<&'a str, str::Utf8Error> {
[14:15:57] *** Joins: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP)
[14:16:16] *** Joins: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de)
[14:16:27] *** Quits: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net) (Client exited)
[14:16:38] <steveklabnik> is saying
[14:16:40] *** Quits: ryanxcharles (ryan@moz-1i9321.bac4.d045.0009.2601.IP) (Ping timeout: 121 seconds)
[14:16:57] <steveklabnik> 'for some lifetime 'a, that is _not_ the lifetime of self, i'm going to return a &str with that lifetime
[14:17:06] <steveklabnik>     fn other_to_str(&self) -> Result<&str, str::Utf8Error> {
[14:17:07] *** Quits: dardevelin (dardevelin@moz-a3ode1.adslplus.ch) (Ping timeout: 121 seconds)
[14:17:16] <steveklabnik> with the lifetimes expanded
[14:17:17] <steveklabnik> should be
[14:17:26] <steveklabnik>     fn other_to_str<'a>(&'a self) -> Result<&'a str, str::Utf8Error> {
[14:17:35] <steveklabnik> this says "i'm going to return a &str with the same lifetime as &self
[14:18:18] <steveklabnik> if that were the case
[14:18:27] <steveklabnik> then the borrow of self, which ends at the end of the method, would go out of scope, and become invalid
[14:18:38] *** Quits: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[14:18:45] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Ping timeout: 121 seconds)
[14:19:01] <steveklabnik> at least, that's my 'just woke up, one cup of coffe' read of the situation. i am occasionally wrong. :)
[14:19:14] *** Quits: lenstr_ (lenstr@moz-3sv.vju.25.171.IP) (Ping timeout: 121 seconds)
[14:19:37] *** Joins: def_blue (def_greef@moz-55rvi2.dclient.hispeed.ch)
[14:19:48] <cmhamill> steveklabnik: haha, no problem.  That helps, thanks.
[14:20:07] *** Quits: amro (amro@moz-q00d5l.clq1.sjcg.02b0.2a01.IP) (Ping timeout: 121 seconds)
[14:20:15] *** Joins: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net)
[14:20:18] <XMPPwocky> steveklabnik: i'd say "any" instead of "some" for generics
[14:20:33] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[14:20:40] *** Joins: mnemnion (mnemnion@moz-e8rfii.ca.comcast.net)
[14:20:43] <steveklabnik> yeah
[14:20:46] <XMPPwocky> e.g. fn foo<T>(x: T) -> u32 = "for any T, takes a T, returns a u32"
[14:20:50] *** Joins: scialex (scialex@moz-if7.du5.16.138.IP)
[14:21:03] <steveklabnik> cmhamill: awesome
[14:21:10] *** Quits: mahdi (mahdi@moz-p65.u27.244.151.IP) (Quit: )
[14:21:24] <cmhamill> steveklabnik: How does the concrete lifetime on to_str get decided? Does the compiler search the next "scope" outwards, so to speak?
[14:21:39] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[14:21:43] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[14:21:44] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[14:21:57] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[14:22:03] <steveklabnik> you wrote it in the signature
[14:22:22] <steveklabnik> that trait declartion has a lifetime annotation
[14:22:29] <steveklabnik> (which is the same as the elided one)
[14:23:05] *** Joins: esgeh (sg@moz-6p9b8n.dyn.telefonica.de)
[14:23:06] <cmhamill> by it you mean in to_str<'a> ?
[14:23:25] <steveklabnik> actually maybe it's not the same, interesting. it should.
[14:23:27] <steveklabnik> yes
[14:24:14] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[14:24:14] *** ChanServ sets mode: +o jdm
[14:25:02] *** Joins: kgrandon (Adium@moz-3o9.e0n.56.172.IP)
[14:25:14] <cmhamill> steveklabnik: hmm, I'm still missing something, but I can feel my brain getting closer.
[14:25:34] <steveklabnik> lifetimes are all about scopes
[14:25:36] <steveklabnik> and what scope something is valid
[14:25:52] <steveklabnik> and connecting those scopes together where it makes sense
[14:25:53] <esgeh> I think we're missing an "IntoOsString". PathBuf::new only takes an AsOsString which will create an unnecessary copy if I already have an OsString to spare
[14:26:14] *** Joins: ineol (ineol@moz-ofnmt7.residence.ens-lyon.fr)
[14:26:41] * esgeh is migrating a library from old_path to path
[14:26:45] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Ping timeout: 121 seconds)
[14:26:47] <cmhamill> steveklabnik: Yeah, I'm starting to grok that.  I suppose I'm just curious about what "makes sense" means to the compiler. That may be for another day, though.
[14:27:02] <andor> i have a really weird lifetime issue that i can't figure out https://gist.github.com/andor44/7d46aa7bc50e55d672de
[14:27:13] <andor> sorry for the big block of code, but it's probably necessary
[14:27:41] <andor> why does the parameter have to be alive for the lifetime of my return param?
[14:27:49] *** Joins: minzh (minzh@moz-vrp.b70.39.106.IP)
[14:28:45] <steveklabnik> cmhamill: :) it's about where things are valid
[14:29:23] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[14:30:25] *** Quits: Db (Db@moz-hma9kp.me) (Connection closed)
[14:30:26] *** Quits: Pierre (pierre@moz-lmh.0pq.89.116.IP) (Ping timeout: 121 seconds)
[14:30:36] *** Joins: Db (Db@moz-hma9kp.me)
[14:30:43] *** Joins: Pierre (pierre@moz-lmh.0pq.89.116.IP)
[14:31:37] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[14:31:39] <v212> Can I get absolute path to a crate from source code?
[14:31:54] *** Quits: infinigon (x@moz-54e146.range86-142.btcentralplus.com) (Quit: leaving)
[14:31:58] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[14:32:04] *** Joins: dardevelin (dardevelin@moz-a3ode1.adslplus.ch)
[14:32:10] *** Joins: SpaceWizard (RJones@moz-anbpsl.east.myfairpoint.net)
[14:32:23] <cmhamill> steveklabnik: Right, exactly. I'm just missing how the compiler decides that the elided lifetime on &self should be propogated to the explicit lifetime on to_str<'a>.
[14:32:28] *** Joins: jan247 (Adium@moz-4v4.4b7.54.121.IP)
[14:32:45] *** Joins: saterus (saterus@moz-rutqj0.res.rr.com)
[14:33:08] *** Joins: rainemak (rainemak@moz-m7gavj.gjaa.pi0p.0998.2001.IP)
[14:33:38] <steveklabnik> i'm not sure what you mean by 'propogated'
[14:33:51] *** Quits: def_blue (def_greef@moz-55rvi2.dclient.hispeed.ch) (A TLS packet with unexpected length was received.)
[14:34:03] *** Joins: infinigon (x@moz-54e146.range86-142.btcentralplus.com)
[14:34:16] <cmhamill> Hmm, maybe I have an assumption that's wrong.
[14:34:18] <steveklabnik> but also
[14:34:23] <steveklabnik> see the three elision rules
[14:34:24] <steveklabnik> If there is exactly one input lifetime, elided or not, that lifetime is assigned to all elided lifetimes in the return values of that function.
[14:34:36] <steveklabnik> that sounds like what you're asking, i think?
[14:35:37] *** Quits: xuu (xuu@moz-9h1gkh.ktc.sour.is) (Quit: ZNC - http://znc.in)
[14:35:45] *** Joins: Integral1st (Integralist@moz-ua9.pof.58.212.IP)
[14:36:02] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[14:36:18] *** Joins: xuu (xuu@moz-a0r8ua.ipv6.he.net)
[14:36:26] <dinfuehr> cmhamill: here is the linke to the rfc for lifetime elision: https://github.com/rust-lang/rfcs/blob/704f0060176418659698eb63642e2071b109e029/active/0000-lifetime-elision.md
[14:36:39] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[14:36:49] <cmhamill> steveklabnik: Haha, not quite, but thanks for all your help.
[14:36:56] *** Quits: cursivecode (textual@moz-4u56i9.res.bhn.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:37:05] *** Joins: mahdi (mahdi@moz-p65.u27.244.151.IP)
[14:37:11] <cmhamill> dinfuehr: Thanks, I think I'll read that and see if I can root out what I'm missing.
[14:37:17] *** Joins: Pierre_ (pierre@moz-411.k2a.100.27.IP)
[14:37:17] <cmhamill> Thanks again for all your help!
[14:37:51] *** Quits: Pierre (pierre@moz-lmh.0pq.89.116.IP) (Ping timeout: 121 seconds)
[14:37:55] *** AutomatedTester is now known as AutomatedTester|AFK
[14:38:33] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[14:38:44] *** Quits: Integralist (Integralist@moz-ua9.pof.58.212.IP) (Ping timeout: 121 seconds)
[14:38:52] *** Joins: alhof (dylan@moz-188.d0d.43.100.IP)
[14:38:53] *** Joins: dylan_ (dylan@moz-188.d0d.43.100.IP)
[14:39:38] *** Quits: untitaker (untitaker@moz-afka6q.highway.telekom.at) (Ping timeout: 121 seconds)
[14:39:48] *** Quits: omissis (omissis@moz-6mn.mb0.111.217.IP) (Ping timeout: 121 seconds)
[14:39:50] *** Quits: toqueteos (toqueteos@moz-plqtsp.staticIP.rima-tde.net) (Ping timeout: 121 seconds)
[14:39:59] *** Joins: omissis (omissis@moz-6mn.mb0.111.217.IP)
[14:41:19] *** Joins: toqueteos (toqueteos@moz-plqtsp.staticIP.rima-tde.net)
[14:42:19] *** Joins: def_blue (def_greef@moz-55rvi2.dclient.hispeed.ch)
[14:42:23] *** Quits: def_blue (def_greef@moz-55rvi2.dclient.hispeed.ch) (Connection closed)
[14:42:37] *** Joins: twipeD (wipeD@moz-mf8dp8.dip0.t-ipconnect.de)
[14:42:40] *** Joins: jfbk (textual@moz-jhq.pkh.105.38.IP)
[14:42:40] <steveklabnik> :)
[14:43:03] *** Quits: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net) (Client exited)
[14:43:25] *** Quits: dylan_ (dylan@moz-188.d0d.43.100.IP) (Ping timeout: 121 seconds)
[14:43:37] *** Quits: alhof (dylan@moz-188.d0d.43.100.IP) (Ping timeout: 121 seconds)
[14:46:11] *** Joins: untitaker (untitaker@moz-6tlunf.highway.telekom.at)
[14:46:16] *** Joins: evanfarrar (evanfarrar@moz-7vs.bl6.251.207.IP)
[14:46:36] *** Joins: tsenior (user@moz-0dcmg6.east.verizon.net)
[14:46:57] *** Joins: Pierre (pierre@moz-v3h57a.9gkk.jgog.e800.2404.IP)
[14:47:21] *** Joins: _zxq9_ (ceverett@moz-qsm369.mesh.ad.jp)
[14:47:25] *** Quits: tsenior (user@moz-0dcmg6.east.verizon.net) (A TLS packet with unexpected length was received.)
[14:47:42] *** Quits: Skyler (Skyler@moz-e93b35.sd.cox.net) (Connection closed)
[14:48:37] *** Quits: jan247 (Adium@moz-4v4.4b7.54.121.IP) (Ping timeout: 121 seconds)
[14:48:55] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[14:49:01] *** Joins: JagaJaga (JagaJaga@moz-gd9.blu.205.109.IP)
[14:49:18] *** Joins: loyd (loyd@moz-uft.32f.108.213.IP)
[14:49:27] *** Quits: DoomBoom (DoomBoom@moz-p8isdd.dot1x.nhl.nl) (Quit: Leaving)
[14:49:40] *** Joins: jan247 (Adium@moz-4v4.4b7.54.121.IP)
[14:50:19] *** Quits: Pierre_ (pierre@moz-411.k2a.100.27.IP) (Ping timeout: 121 seconds)
[14:50:33] *** Joins: boblehest (jlode@moz-mquaka.customer.lyse.net)
[14:51:38] *** Joins: cursivecode (textual@moz-4u56i9.res.bhn.net)
[14:52:29] <teotwaki> steveklabnik: got a mo' in PM?
[14:52:31] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[14:52:32] *** Joins: essem2 (Thunderbird@moz-f9p.4ol.7.74.IP)
[14:52:40] <steveklabnik> sure
[14:53:10] *** Quits: gggg (chatzilla@moz-nt8r49.idi.ntnu.no) (Ping timeout: 121 seconds)
[14:53:13] *** Joins: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net)
[14:53:19] *** Joins: lenstr (lenstr@moz-no6.vju.25.171.IP)
[14:53:21] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[14:54:28] *** Quits: khades (khades@moz-08k.3vk.74.212.IP) (Quit: Lost terminal)
[14:54:58] *** Joins: _Vi (vi@moz-bbs.vhj.131.104.IP)
[14:55:20] *** darkowlzz|afk is now known as darkowlzz
[14:55:26] *** Quits: kgrandon (Adium@moz-3o9.e0n.56.172.IP) (Quit: Leaving.)
[14:55:26] *** Joins: amro (amro@moz-qj8q31.clq1.sjcg.02b0.2a01.IP)
[14:55:44] <jarrednicholls> Quick question: I am getting a "multiple rlib candidates" issue because my dependencies depend upon log 0.2 and I depend on log 0.3, and there are multiple candidates of liblog in the same folder.  How is this addressed?
[14:55:45] *** Joins: khades (Thunderbird@moz-08k.3vk.74.212.IP)
[14:56:01] <steveklabnik> i'm assuming you're not using cargo, yeah?
[14:56:10] <jarrednicholls> I am using cargo
[14:56:14] <steveklabnik> hm
[14:56:19] <steveklabnik> it should just handle that, iirc
[14:56:27] <jarrednicholls> yeah that's what I would expect
[14:56:27] <steveklabnik> at least, it's indended to
[14:56:39] <jarrednicholls> let me paste the cargo dependencies configs
[14:56:53] *** Joins: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca)
[14:57:29] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[14:57:36] <jarrednicholls> 2 of my dependencies depend upon log, one is `log = ">= 0.2.0"` and another is `log   = "0.2.3"`, finally I am `log = ">= 0.3.0"`
[14:57:44] <waka> Hm, everything related to the term crate in the official documentation does 404 when coming from the search 
[14:58:05] <jarrednicholls> I am running `cargo test`, so this is when linking a test exec
[14:58:24] *** Joins: Pierre_ (pierre@moz-lmh.0pq.89.116.IP)
[14:58:32] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[14:59:00] *** Quits: Pierre (pierre@moz-v3h57a.9gkk.jgog.e800.2404.IP) (Ping timeout: 121 seconds)
[14:59:47] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[15:00:04] *** Joins: rossm (ross@moz-pnc4od.as13285.net)
[15:00:11] *** Quits: JackMc (jack@moz-v5mb1u.hpsc-staff.carleton.ca) (Ping timeout: 121 seconds)
[15:00:32] *** Joins: rfnash (weechat@moz-203epe.in.comcast.net)
[15:00:35] <andor> does [foo, ..] match a one element slice?
[15:01:01] *** Quits: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca) (Ping timeout: 121 seconds)
[15:01:04] <jarrednicholls> https://gist.github.com/jnicholls/57cef03b7a33497125e0
[15:01:24] *** Joins: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP)
[15:01:29] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[15:01:29] *** ChanServ sets mode: +o erickt
[15:02:03] <jarrednicholls> I am running nightly of course
[15:02:15] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[15:02:27] *** Joins: lov2cod (Adium@moz-40l.ob1.22.8.IP)
[15:02:59] <panicbit> andor: I wouldn't have thought so but it does indeed http://is.gd/vmkIbx
[15:03:38] *** Quits: ytain (ytain@moz-vhndj2.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[15:04:01] <steveklabnik> waka: the standard library? what are you looking for, exactly?
[15:04:14] *** Joins: jkerim (jkerim@moz-i5m.05u.207.66.IP)
[15:04:23] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[15:04:42] <steveklabnik> jarrednicholls: hmm, well, >= is almost never what you want as a sole version constraint
[15:04:59] *** Quits: psd (psd@moz-acc.mpg.78.202.IP) (Quit: Leaving)
[15:05:01] *** Joins: ril (ril@moz-p7jr3k.ca.comcast.net)
[15:05:06] <steveklabnik> the issue is the = one, as that won't go above 0.2.x
[15:05:09] *** Joins: Boscop (me@moz-9fq.aou.65.112.IP)
[15:05:23] <steveklabnik> (it defaults to the same as ^0.2.3
[15:05:25] <steveklabnik> )
[15:06:17] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[15:07:30] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[15:07:33] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[15:09:24] <waka> steveklabnik: http://doc.rust-lang.org/term/term/index.html does work well, but you can't use the search functionnality
[15:10:06] <steveklabnik> waka: what do you mean by 'cant use?' it seems to be working here
[15:10:37] <steveklabnik> oh
[15:10:38] <steveklabnik> sorry
[15:10:56] <waka> You can't search for anything related to term
[15:10:56] *** Quits: coxg (sazzer@moz-1hq.kh5.32.217.IP) (Ping timeout: 121 seconds)
[15:10:56] <steveklabnik> i read your original message as "searching for the term 'crate'"
[15:11:05] <steveklabnik> not 'searching for something in the crate which is named term
[15:11:12] <waka> Ah
[15:11:30] <steveklabnik> typing something in the search box on that page does give me results though
[15:11:36] <steveklabnik> and they're results from the term crate
[15:11:42] *** Joins: tomleb (Mibbit@moz-7n1.40h.168.198.IP)
[15:11:48] <panicbit> Hm, there's SocketAddr to unify SocketAddrV4 and SocketAddrV6 but there's no "IpAddr" to unify Ipv4Addr and Ipv6Addr
[15:11:52] <steveklabnik> what happens when you try it? nothing? do you have javascript blocked, maybe?
[15:12:14] <steveklabnik> panicbit: you might be interested in http://www.reddit.com/r/rust/comments/3002ia/why_was_ipaddr_removed/
[15:12:24] *** Quits: Izacht13 (Izacht13@moz-5tc3lv.atsnmeam.ccmaine.net) (Quit: Leaving)
[15:12:57] <waka> Yes, but the the url for term is */term/term/* but the search redirects to a */term/* url
[15:13:29] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[15:13:33] <jarrednicholls> steveklabnik: OK thanks, that one is features in one of my dependencies that I do not control.  Suggestions?  Or just match it until I figure out a better strategy? :)
[15:14:05] *** Joins: envi_u (envi@moz-ih5.olo.169.121.IP)
[15:14:08] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[15:14:13] *** Joins: coxg (sazzer@moz-1hq.kh5.32.217.IP)
[15:14:17] <steveklabnik> waka: hmm, i'm not seeing that. my results show term/term
[15:14:23] *** Quits: Guest40 (textual@moz-pgf.vsa.206.213.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:14:43] <steveklabnik> jarrednicholls: well, first, you might want to ask in #cargo about this just not working, because iirc it should
[15:14:51] *** Joins: Guest74 (textual@moz-il1.n6s.204.65.IP)
[15:15:15] <waka> weird, it does work now
[15:15:17] <panicbit> steveklabnik: Thanks. But I still think that SocketAddr is not quite well suitet for some things. E.g. you can't parse IP's without a port http://is.gd/gjINvs
[15:15:34] <jarrednicholls> steveklabnik: ok thanks I shall, appreciate the help
[15:15:44] *** sunfish-away is now known as sunfish
[15:16:02] <steveklabnik> panicbit: sure, i guess i meant the whole thing, there's a link with an RFC to add it back, etc
[15:16:10] <panicbit> steveklabnik: Ok
[15:16:12] <steveklabnik> jarrednicholls: any time
[15:16:24] <steveklabnik> waka: huh, odd. at least it's working :)
[15:16:25] *** Joins: Guest17 (textual@moz-1kb.96p.27.198.IP)
[15:17:00] *** Quits: Guest74 (textual@moz-il1.n6s.204.65.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:17:30] <v212> what to use instead of std::os::make_absolute path?
[15:17:30] *** Joins: Guest74 (textual@moz-il1.n6s.204.65.IP)
[15:17:39] *** Joins: nicoch (nicoch@moz-g02d7k.be)
[15:17:43] *** Quits: pdgendt (pdgendt@moz-koe3nj.access.telenet.be) (Ping timeout: 121 seconds)
[15:18:15] *** Joins: kgrandon (Adium@moz-1lcjhp.ujol.1ibb.0101.2620.IP)
[15:19:20] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[15:20:19] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Ping timeout: 121 seconds)
[15:20:19] *** Quits: jan247 (Adium@moz-4v4.4b7.54.121.IP) (Connection closed)
[15:20:54] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[15:21:03] *** Joins: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca)
[15:22:03] *** Quits: mindtree (Mitch@moz-5s3mu6.iprimus.net.au) (Ping timeout: 121 seconds)
[15:22:14] <esgeh> what's the easiest way to read data into a Vec<u8> given a &mut Read ... as much as possible but nore more than X bytes (so, no read_to_end applicable)
[15:22:16] <esgeh> ?
[15:22:17] *** Quits: kgrandon (Adium@moz-1lcjhp.ujol.1ibb.0101.2620.IP) (Quit: Leaving.)
[15:22:28] *** Quits: amro (amro@moz-qj8q31.clq1.sjcg.02b0.2a01.IP) (Ping timeout: 121 seconds)
[15:22:47] <steveklabnik> v212: the deprecation message says
[15:22:55] <steveklabnik> use env::current_dir + join directly
[15:23:06] <v212> steveklabnik, thank you 
[15:23:25] <esgeh> I'm guessing I have to reimplement something like the private function io::read_to_end
[15:23:40] <steveklabnik> esgeh: isn't that just read with the buffer at the length you want?
[15:23:51] <steveklabnik> http://doc.rust-lang.org/nightly/std/io/trait.Read.html#tymethod.read ?
[15:24:01] *** Quits: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP) (Ping timeout: 121 seconds)
[15:24:39] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[15:24:42] *** Joins: errordeveloper (ilya@moz-g0i.mtf.125.2.IP)
[15:24:43] <esgeh> steveklabnik: well, i don't have a specific size i need to ask ... just min(all,X bytes) ... so I wouldn't know how large of a capacity I need
[15:25:12] *** Quits: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca) (Ping timeout: 121 seconds)
[15:25:23] <Oct> I'd like to use a generated String as a Formatter, juste like format!... Anyone know how can this be done ?
[15:25:28] *** Joins: triep (triep@moz-m40.3ip.235.85.IP)
[15:25:31] <esgeh> the old Reader trait offered to read data into a Vec to do that
[15:25:42] <steveklabnik> esgeh: oh, i see the distinction
[15:25:53] *** Quits: qrlpx (smuxi@moz-af6paf.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[15:25:54] <esgeh> the new Read trait just reads into preallocated slice
[15:26:06] *** Joins: kgrandon (Adium@moz-cfhap5.mtv2.mozilla.com)
[15:26:35] <triep> It can also read into a Vec (growing it as needed)
[15:26:52] <esgeh> Oct how would you pass all the other arguments to such a formatter?
[15:27:01] *** Joins: mindtree (Mitch@moz-ei5l80.iprimus.net.au)
[15:27:42] <Oct> I have no idea
[15:27:55] <esgeh> steveklabnik: It would be nice to have a read_to_end taking an additional "limit: Option<usize>" or something ... :)
[15:28:22] <triep> Readers already have adaptors to limit reading
[15:28:26] <triep> Take!
[15:28:56] <esgeh> triep: cool. I didn't know. I'll look into that.
[15:29:45] *** darkowlzz is now known as darkowlzz|afk
[15:29:48] <esgeh> wow. It's right there and i didn't pay enough attention
[15:29:49] *** Quits: kgrandon (Adium@moz-cfhap5.mtv2.mozilla.com) (Connection closed)
[15:29:50] *** Joins: kgrandon1 (Adium@moz-1lcjhp.ujol.1ibb.0101.2620.IP)
[15:29:59] <FreeFull> None of the methods on [T] show up in the doc search
[15:30:15] *** Quits: coxg (sazzer@moz-1hq.kh5.32.217.IP) (Ping timeout: 121 seconds)
[15:30:42] *** Joins: pdgendt (pdgendt@moz-koe3nj.access.telenet.be)
[15:30:46] *** Quits: tjr_ (trevor.rile@moz-8jj.an9.222.162.IP) (Ping timeout: 121 seconds)
[15:31:37] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[15:31:50] *** Quits: hoony (Thunderbird@moz-q5r.8e9.96.183.IP) (Client exited)
[15:32:06] *** Parts: cmhamill (chamill@moz-fbj69f.wesleyan.edu) ("WeeChat 1.0.1")
[15:32:30] <FreeFull> "let mut iter = x.windows(2); while let Some([a,b]) = iter.next()" better than the for equivalent, unless for let exists
[15:32:46] <triep> FreeFull: they moved from SliceExt to being inherent methods on [T]
[15:32:53] <FreeFull> triep: I know that
[15:33:00] <FreeFull> triep: I'm saying those methods now don't show up in search
[15:33:14] *** Quits: Guest74 (textual@moz-il1.n6s.204.65.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:33:14] <triep> yeah, rustdoc must be lagging in features
[15:33:27] <triep> this usually happens. Rust changes and rustdoc doesn't
[15:33:52] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[15:33:54] <FreeFull> It better be fixed before the newbies get to it
[15:34:03] <FreeFull> When 1.0 comes
[15:35:00] *** Joins: tjr_ (trevor.rile@moz-8jj.an9.222.162.IP)
[15:35:07] <steveklabnik> there's a bug open iir
[15:35:08] <steveklabnik> c
[15:35:11] <steveklabnik> can't remember if there's a patch
[15:35:16] *** Quits: jviereck (Adium@moz-a4jkal.ethz.ch) (Quit: Leaving.)
[15:36:10] *** Joins: kev` (Mibbit@moz-ebi.ur5.147.160.IP)
[15:36:27] *** Quits: omissis (omissis@moz-6mn.mb0.111.217.IP) (Client exited)
[15:36:27] *** Quits: lnwdr (lnwdr@moz-mj0.jna.74.195.IP) (Connection closed)
[15:37:49] *** Joins: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP)
[15:38:28] *** Joins: lenstr_ (lenstr@moz-no6.vju.25.171.IP)
[15:38:35] *** Quits: tinaun (tinaun@moz-7l08ds.ct.comcast.net) (Ping timeout: 121 seconds)
[15:38:40] *** Joins: GaryOak_ (GaryOak_@moz-etoj16.hfc.comcastbusiness.net)
[15:38:46] *** Joins: omissis (omissis@moz-6mn.mb0.111.217.IP)
[15:38:58] *** Joins: lnwdr (lnwdr@moz-mj0.jna.74.195.IP)
[15:39:08] *** Joins: c0170 (c0170@moz-bb29a4.cambridge.arm.com)
[15:39:21] *** Quits: lenstr (lenstr@moz-no6.vju.25.171.IP) (Ping timeout: 121 seconds)
[15:41:34] *** Quits: nical (nical@moz-7sc5tu.2500.1rfi.0450.2001.IP) (Ping timeout: 121 seconds)
[15:41:35] *** Joins: spider-mario (spidermario@moz-meu9c6.wb.wifirst.net)
[15:42:17] *** Joins: Guest74 (textual@moz-il1.n6s.204.65.IP)
[15:43:14] *** Joins: amro (amro@moz-n00g07.clq1.sjcg.02b0.2a01.IP)
[15:44:41] *** Joins: cakecatz (cakecatz@moz-2r5hfh.sannet.ne.jp)
[15:46:00] *** Joins: nical (nical@moz-g9tdso.lmuk.1rfi.0450.2001.IP)
[15:46:37] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Connection closed)
[15:47:03] *** Joins: bcasiello (Thunderbird@moz-tq6.nsv.22.72.IP)
[15:47:06] *** Quits: errordeveloper (ilya@moz-g0i.mtf.125.2.IP) (Ping timeout: 121 seconds)
[15:47:34] <hugod> When configuring a Command, can I specify the child process should inherit the parent process' stderr as its stdout?
[15:47:40] *** Joins: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP)
[15:48:10] *** Quits: mgottschlag (quassel@moz-deup9t.qiv1.bbcb.1398.2a00.IP) (Ping timeout: 121 seconds)
[15:48:34] *** Quits: justdave (dave@irc.mozilla.org) (A TLS packet with unexpected length was received.)
[15:48:45] *** Quits: dardevelin (dardevelin@moz-a3ode1.adslplus.ch) (Ping timeout: 121 seconds)
[15:49:21] *** Joins: dylan_ (dylan@moz-188.d0d.43.100.IP)
[15:49:21] *** Joins: alhof (dylan@moz-188.d0d.43.100.IP)
[15:49:49] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[15:50:05] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[15:51:39] *** Quits: peacememories (peace@moz-hvqggk.tuwien.ac.at) (A TLS packet with unexpected length was received.)
[15:52:34] *** Joins: tinaun (tinaun@moz-7l08ds.ct.comcast.net)
[15:53:15] <v212> should I put data e.g. dictionary in a crate? 
[15:53:27] *** Quits: dylan_ (dylan@moz-188.d0d.43.100.IP) (Ping timeout: 121 seconds)
[15:53:28] *** Quits: alhof (dylan@moz-188.d0d.43.100.IP) (Ping timeout: 121 seconds)
[15:53:32] <v212> Is it even possible to access data in crate?
[15:54:06] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[15:54:15] *** Joins: Integralist (Integralist@moz-ua9.pof.58.212.IP)
[15:54:30] *** ahal is now known as ahal|lunch
[15:57:14] *** Quits: Integral1st (Integralist@moz-ua9.pof.58.212.IP) (Ping timeout: 121 seconds)
[15:57:18] *** Quits: futile (felix@moz-5kl.840.188.178.IP) (Quit: WeeChat 1.0-dev)
[15:57:46] *** Joins: jmitchel_ (jmitchell@moz-o8p.pug.156.104.IP)
[15:57:48] *** Joins: ryanxcharles (ryan@moz-lcf.eq6.124.64.IP)
[15:58:11] *** Quits: lov2cod (Adium@moz-40l.ob1.22.8.IP) (Quit: Leaving.)
[15:58:14] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[15:58:32] <XMPPwocky> a pub static should work
[15:59:23] *** Quits: Integralist (Integralist@moz-ua9.pof.58.212.IP) (Ping timeout: 121 seconds)
[16:00:11] *** Quits: mystor_ (mystor@moz-5cj.r78.15.130.IP) (Connection closed)
[16:00:42] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Quit: Leaving)
[16:01:05] *** Joins: Slava_I (slava@moz-vga.0rf.216.178.IP)
[16:01:32] *** Quits: ril (ril@moz-p7jr3k.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:01:36] *** Quits: killercup (killercup@moz-4udt1b.dip0.t-ipconnect.de) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:01:50] *** Joins: dardevelin (dardevelin@moz-a3ode1.adslplus.ch)
[16:01:50] *** Quits: xcombelle (xcombelle@moz-6qp46t.abo.wanadoo.fr) (Quit: Quitte)
[16:02:38] *** Quits: aravindavk (aravinda@moz-jpb.f9i.171.122.IP) (Quit: Konversation terminated!)
[16:03:00] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[16:03:32] *** Joins: mikem (Mibbit@moz-dc7rv6.fios.verizon.net)
[16:04:02] *** Joins: Lilly (Lilly@moz-ca683g.bredband.comhem.se)
[16:04:08] *** Quits: kgrandon1 (Adium@moz-1lcjhp.ujol.1ibb.0101.2620.IP) (Quit: Leaving.)
[16:04:12] *** Joins: kgrandon (Adium@moz-1lcjhp.ujol.1ibb.0101.2620.IP)
[16:04:20] *** Joins: kanzeon (kanzeon@moz-v32emv.rkpe.j439.030a.2602.IP)
[16:04:23] *** Quits: NobbZ (NobbZ@moz-ek9icn.s93d.g29e.8108.2a02.IP) (Connection closed)
[16:04:45] *** Quits: dstrbad (dstrbad@moz-adndrb.cable.xnet.hr) (A TLS packet with unexpected length was received.)
[16:05:10] *** Joins: __mark___ (mark@moz-pb9mc5.dynamic.chello.pl)
[16:05:56] *** Quits: __mark__ (mark@moz-pb9mc5.dynamic.chello.pl) (Ping timeout: 121 seconds)
[16:05:56] *** __mark___ is now known as __mark__
[16:06:05] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[16:06:05] *** ChanServ sets mode: +ao pcwalton pcwalton
[16:06:58] *** Joins: Izacht13 (Izacht13@moz-5tc3lv.atsnmeam.ccmaine.net)
[16:07:02] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[16:07:10] *** Quits: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP) (Ping timeout: 121 seconds)
[16:07:30] *** Joins: Integralist (Integralist@moz-3ag.m9b.185.132.IP)
[16:08:03] *** Joins: coxg (sazzer@moz-1hq.kh5.32.217.IP)
[16:08:18] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[16:08:29] <mikem> Does anyone know if there is a simple cross-platform way to daemonize a process?
[16:08:36] *** Quits: canhtak (canhtak@moz-kcs.u0t.149.5.IP) (Client exited)
[16:09:04] *** Joins: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca)
[16:09:30] *** Joins: jkerim_ (jkerim@moz-i5m.05u.207.66.IP)
[16:09:30] *** Quits: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca) (Connection closed)
[16:09:36] *** Joins: hoverbear (hoverbear@moz-82h62u.wireless.uvic.ca)
[16:10:13] *** Quits: hoverbear (hoverbear@moz-82h62u.wireless.uvic.ca) (Connection closed)
[16:10:14] *** Joins: sayan (sayan@moz-ip8.595.51.106.IP)
[16:10:16] *** Joins: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca)
[16:10:41] *** Quits: kgrandon (Adium@moz-1lcjhp.ujol.1ibb.0101.2620.IP) (Quit: Leaving.)
[16:11:29] <flan3002> mikem - As in... forking the process (on Linux systems)?
[16:11:50] <mikem> well yeah, thats what I'd do on linux
[16:12:10] <mikem> fork the process and terminate the parent process
[16:12:12] <flan3002> I doubt there is a cross-platform API in the std crate for forking...
[16:12:19] *** Quits: jkerim (jkerim@moz-i5m.05u.207.66.IP) (Ping timeout: 121 seconds)
[16:12:25] <mikem> and reassign stin/err/out
[16:12:26] *** Quits: envi_u (envi@moz-ih5.olo.169.121.IP) (Ping timeout: 121 seconds)
[16:12:28] <flan3002> I suppose you /could/ write a crate that forks differently per platform...
[16:12:38] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[16:12:50] *** Joins: laogao (laogao@moz-aek.cnj.229.101.IP)
[16:13:15] <mikem> yeah, if all you're doing is daemonizing I think you can get around the problems with forking on Windows
[16:13:32] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[16:13:41] <XMPPwocky> the Rust runtime is not fork-safe
[16:14:07] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[16:14:19] <triep> does rust still have a runtime?
[16:14:27] <flan3002> https://crates.io/crates/daemon is not acceptable, mikem?
[16:14:27] <mikem> XMPPwocky: Even if it's the first thing you do in main after parsing cmdline args?
[16:14:36] <triep> well I guess it always will have something
[16:14:52] <XMPPwocky> mikem: not sure, it's probably fine in practice
[16:14:54] <mikem> flan3002: Didn't know that existed!
[16:15:21] *** Joins: lov2cod (Adium@moz-40l.ob1.22.8.IP)
[16:15:22] <flan3002> mikem - Well, it /is/ 0.0.1, so that's kinda scary, but... it's worth a try, right? :)
[16:15:22] *** Joins: cesar (cesar@moz-995f02.us.xo.net)
[16:15:44] <mikem> yeah
[16:16:03] <mikem> at the very leadt I can take a look at what they're doing
[16:16:56] *** Quits: giucam (giucam@moz-72p.2a8.194.192.IP) (Ping timeout: 121 seconds)
[16:17:09] <mikem> thanks!
[16:17:12] *** Joins: azita (Azita@moz-cfhap5.mtv2.mozilla.com)
[16:17:42] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[16:17:42] *** ChanServ sets mode: +ao brson brson
[16:17:46] *** Joins: dstrbad (dstrbad@moz-uele2h.dialin.iskon.hr)
[16:18:12] *** Quits: mkoskar (mkoskar@moz-kvs6fc.torservers.net) (Client exited)
[16:19:55] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[16:20:27] *** Quits: Slava_I (slava@moz-vga.0rf.216.178.IP) (Ping timeout: 121 seconds)
[16:21:03] *** Quits: lov2cod (Adium@moz-40l.ob1.22.8.IP) (Quit: Leaving.)
[16:21:06] *** Joins: lov2cod (Adium@moz-balbsm.eodv.k60l.0119.2620.IP)
[16:21:23] *** Quits: lov2cod (Adium@moz-balbsm.eodv.k60l.0119.2620.IP) (Quit: Leaving.)
[16:21:26] *** Joins: lov2cod (Adium@moz-balbsm.eodv.k60l.0119.2620.IP)
[16:21:50] *** Joins: Savago (Savago@moz-amsu6g.tmodns.net)
[16:22:13] <mikem> hmm
[16:22:33] <mikem> So that daemon crate does not do what I need it to
[16:22:38] *** Quits: v212 (vee@moz-sa3oki.asianet.co.th) (Ping timeout: 121 seconds)
[16:22:56] *** Quits: lov2cod (Adium@moz-balbsm.eodv.k60l.0119.2620.IP) (Quit: Leaving.)
[16:23:17] <tomaka> I know this gets asked often, but what's the replacement for read_le_u16 and similar functions?
[16:23:25] <mikem> Is the no alternative to to 'old_io::process::Command::detached' for the new Command trait?
[16:23:47] *** Quits: det- (chris@moz-da97an.lv.cox.net) (Quit: Leaving)
[16:23:51] *** Joins: det (chris@moz-da97an.lv.cox.net)
[16:23:53] *** Quits: agile (mike@moz-m71dqt.rcsntx.sbcglobal.net) (Ping timeout: 121 seconds)
[16:24:04] <kali> tomaka:  https://crates.io/crates/byteorder ?
[16:24:22] <steveklabnik> mikem: the deprecation message says 'replaced with the std::process module'
[16:24:25] <steveklabnik> not as helpful as they usually are
[16:24:38] *** Quits: smohan (smohan@moz-vm4.rkb.167.122.IP) (Quit: Linkinus - http://linkinus.com)
[16:24:43] *** Quits: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de) (Connection closed)
[16:24:45] <mikem> well the Trait as a whole was replaced
[16:24:49] <tomaka> kali: ok ok thanks
[16:25:01] <mikem> but that method seems to have been dropped
[16:25:39] <steveklabnik> hmm http://doc.rust-lang.org/nightly/std/process/struct.Command.html#method.spawn seems very similar, right
[16:26:07] <steveklabnik> i guess not exactly the same
[16:26:16] <mikem> not quite the same, no
[16:26:26] <steveklabnik> acrichto: mikem has a question baout the old Command::detatched
[16:27:05] *** Quits: minzh (minzh@moz-vrp.b70.39.106.IP) (A TLS packet with unexpected length was received.)
[16:27:10] *** Joins: lov2cod (Adium@moz-balbsm.eodv.k60l.0119.2620.IP)
[16:28:05] <XMPPwocky> doesn't that give you us
[16:29:01] <steveklabnik> huh?
[16:29:17] *** Quits: c0170 (c0170@moz-bb29a4.cambridge.arm.com) (Ping timeout: 121 seconds)
[16:29:31] <XMPPwocky> sorry, a handle or something
[16:29:39] <XMPPwocky> it does, but the handle can't apparently be detached
[16:30:21] <XMPPwocky> I guess you just don't join on it.
[16:30:39] <XMPPwocky> Can you just connect stdin and stdout to std::process::Stdio::null() ?
[16:31:21] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[16:31:54] *** Joins: ril (ril@moz-p7jr3k.ca.comcast.net)
[16:31:58] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[16:32:00] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:32:11] <mikem> I believe when you spawn a process and don't detach it, it becomes a child process and terminates when its parent does right?
[16:32:44] <mikem> I'm writing a little filewatching utility
[16:33:13] *** Quits: mindtree (Mitch@moz-ei5l80.iprimus.net.au) (Ping timeout: 121 seconds)
[16:33:30] <mikem> My goal is for it to be able to be started in the background when you CD to the toplevel folder of a git repo
[16:33:45] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[16:33:45] *** ChanServ sets mode: +o erickt
[16:33:53] *** Joins: vpol (vpol@moz-t0qth7.static.zebra.lt)
[16:33:59] *** Joins: coryforsyth (coryforsyth@moz-hpsim2.fios.verizon.net)
[16:34:23] *** Quits: kung_fu_mike (mike@moz-nae3f6.wa.comcast.net) (Ping timeout: 121 seconds)
[16:34:30] *** Joins: futile (felix@moz-5kl.840.188.178.IP)
[16:35:01] *** Parts: esgeh (sg@moz-6p9b8n.dyn.telefonica.de) ()
[16:35:22] *** Quits: timonv (timonv@moz-7btgcn.dynamic.ziggo.nl) (Ping timeout: 121 seconds)
[16:35:44] *** Joins: spicydonuts (spicydonuts@moz-ucgae9.mycingular.net)
[16:35:58] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[16:36:01] *** Quits: tjr_ (trevor.rile@moz-8jj.an9.222.162.IP) (Ping timeout: 121 seconds)
[16:36:24] *** Quits: spicydonuts (spicydonuts@moz-ucgae9.mycingular.net) (Quit: Leaving...)
[16:36:33] <mikem> XMPPwocky so I don't think that would work, because the process would never terminate, and would hold up my shell
[16:36:49] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[16:37:09] <mikem> I suppose I could just start it with '&' and let the shell background it
[16:37:48] <mikem> wouldn't work on windows though...
[16:38:03] *** Quits: akiss (akiss@moz-kij.q96.114.160.IP) (Ping timeout: 121 seconds)
[16:38:34] *** Quits: vpol (vpol@moz-t0qth7.static.zebra.lt) (Client exited)
[16:38:46] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[16:38:56] *** nsm|away is now known as nsm
[16:39:02] *** Quits: triep (triep@moz-m40.3ip.235.85.IP) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[16:39:05] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Client exited)
[16:39:09] *** Quits: dstrbad (dstrbad@moz-uele2h.dialin.iskon.hr) (A TLS packet with unexpected length was received.)
[16:39:35] *** Joins: agile (mike@moz-m71dqt.rcsntx.sbcglobal.net)
[16:40:36] *** Joins: deadc0de (chsitter@moz-lrh.035.31.94.IP)
[16:41:05] *** Joins: c0170 (c0170@moz-4stj9o.cable.virginm.net)
[16:41:24] *** Joins: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de)
[16:41:57] *** Quits: jnicklas_ (dev@moz-922jbo.sme.bredbandsbolaget.se) (Client exited)
[16:42:30] *** Quits: fabiand (fabiand@moz-enml6j.dip0.t-ipconnect.de) (Quit: Verlassend)
[16:42:47] *** Quits: yuja (yuja@moz-1cov5a.so-net.ne.jp) (Ping timeout: 121 seconds)
[16:44:47] <tomaka> Why do I have this error: http://is.gd/QhlfVZ ?
[16:45:14] <tomaka> I don't really understand what this is
[16:45:52] <tomaka> sure there's `impl<T: AsOsStr + ?Sized> AsPath for T`
[16:46:05] <tomaka> but that shouldn't produce an error for the code above
[16:47:06] *** Quits: kev` (Mibbit@moz-ebi.ur5.147.160.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:47:16] *** Quits: amro (amro@moz-n00g07.clq1.sjcg.02b0.2a01.IP) (Ping timeout: 121 seconds)
[16:47:41] <teotwaki> mikem: not sure any of this is Rust related, but no, a child process doesn't get terminated when its parent dies
[16:47:53] *** Joins: jcarpenter (jcarpenter@moz-l8ebtf.sfo1.mozilla.com)
[16:48:04] <teotwaki> mikem: the reason why a CLI-child dies is because its input/output streams are closed.
[16:48:05] *** Quits: Izacht13 (Izacht13@moz-5tc3lv.atsnmeam.ccmaine.net) (Quit: Leaving)
[16:48:33] <teotwaki> mikem: but you can C-z any process, then type bg to allow it to continue.
[16:51:58] <mbrubeck> tomaka: even this fails: http://is.gd/b0PdtK
[16:52:27] *** Joins: kgrandon (Adium@moz-1lcjhp.ujol.1ibb.0101.2620.IP)
[16:52:31] *** Joins: tjr_ (trevor.rile@moz-8jj.an9.222.162.IP)
[16:52:46] *** Joins: kung_fu_mike (mike@moz-5835nf.static.qwest.net)
[16:53:03] *** Quits: Guest74 (textual@moz-il1.n6s.204.65.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:54:10] *** Quits: lov2cod (Adium@moz-balbsm.eodv.k60l.0119.2620.IP) (Quit: Leaving.)
[16:54:13] *** Joins: lov2cod (Adium@moz-40l.ob1.22.8.IP)
[16:54:17] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Connection closed)
[16:54:33] *** Joins: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de)
[16:54:54] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[16:54:57] *** Quits: ziad (ziad@moz-3kp.prd.136.50.IP) (Client exited)
[16:55:15] *** Quits: Ralith (ralith@moz-tiaj7p.customer.broadstripe.net) (Ping timeout: 121 seconds)
[16:56:10] *** Joins: moa (Cedric@moz-quu9i9.enlightenment.org)
[16:56:37] <mbrubeck> tomaka: Need to change `&P` to `P`: http://is.gd/pY4Tr3
[16:56:52] <mbrubeck> related to https://github.com/rust-lang/rust/pull/23316 ?
[16:56:53] *** Quits: Takronix (Takronix@moz-nm15k0.hr.cox.net) (Connection closed)
[16:57:15] <mbrubeck> Yup, signature of File::open changed
[16:57:22] *** Joins: dinfuehr (dinfuehr@moz-c6jd6r.highway.telekom.at)
[16:57:35] <tomaka> hmmm
[16:57:39] <tomaka> Thanks
[16:57:51] *** Quits: e_svedang (e_svedang@moz-p1r4ve.bredband.comhem.se) (Client exited)
[16:58:24] *** darkowlzz|afk is now known as darkowlzz
[16:58:50] *** Quits: alonlevy (alon@moz-89irgh.red.bezeqint.net) (Ping timeout: 121 seconds)
[16:59:02] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[16:59:15] *** Quits: CustosLimen (CustosLimen@moz-43o.etd.160.41.IP) (Quit: Leaving)
[17:00:04] <frogmella> steveklabnik: What should I do to playpen enable my example code ? I'm on Mac and don't have the playpen links that show up on my local doc as it does on online rust-lang docs
[17:00:07] *** Joins: MichaelGG (MichaelGG@moz-9l5lkf.static.fusionbroadband.com)
[17:00:22] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[17:00:24] <steveklabnik> frogmella: i don't know
[17:00:30] <steveklabnik> as i said, thought it was automatic
[17:00:42] <frogmella> ah ok
[17:00:55] <waka> steveklabnik: I can reproduce the 404 bug consistently now
[17:01:13] *** Quits: larhat (Adium@moz-8v4.af0.232.213.IP) (Ping timeout: 121 seconds)
[17:01:22] <steveklabnik> oh interesting! how
[17:01:23] *** Quits: lnwdr (lnwdr@moz-mj0.jna.74.195.IP) (Quit: Leaving...)
[17:01:27] *** Joins: GGist (Mibbit@moz-07kde0.seattleu.edu)
[17:01:29] *** Quits: dinfuehr (dinfuehr@moz-c6jd6r.highway.telekom.at) (Ping timeout: 121 seconds)
[17:02:08] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[17:02:33] *** Quits: lenstr_ (lenstr@moz-no6.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[17:02:43] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[17:02:43] *** ChanServ sets mode: +o erickt
[17:03:07] <waka> steveklabnik: I'm going to the API documentation by following the frontpage url for nightly version
[17:03:20] *** Joins: O01eg (o01eg@moz-c0o96v.vve2.4n8f.2698.2a02.IP)
[17:03:24] <waka> then search "term" right after that
[17:04:01] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[17:04:09] <acrichto> steveklabnik: mikem: unfortunately there is no equivalent to Command::detached in std::process right now (we couldn't develop a great cross platform way of doing it)
[17:04:15] <waka> clicking on the Terminfo struct or any term crate related item will 404
[17:04:29] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[17:04:54] *** Quits: jmitchel_ (jmitchell@moz-o8p.pug.156.104.IP) (Ping timeout: 121 seconds)
[17:05:02] <waka> the url lacks a /nightly/
[17:05:15] <acrichto> mikem: it's covered by https://github.com/rust-lang/rfcs/issues/941 (under spawning a daemon process)
[17:05:15] <steveklabnik> waka: hmm so http://doc.rust-lang.org/nightly/std/?search=term
[17:05:19] *** Quits: dtantsur (dtantsur@moz-16g.ma8.175.213.IP) (Quit: Leaving)
[17:05:21] <steveklabnik> waka: if i click on Terminfo
[17:05:28] *** Joins: lenstr (lenstr@moz-no6.vju.25.171.IP)
[17:05:30] <steveklabnik> it takes me to http://doc.rust-lang.org/nightly/term/terminfo/struct.TermInfo.html
[17:06:01] <waka> http://doc.rust-lang.org/std/index.html?search=term
[17:06:02] <steveklabnik> oh
[17:06:06] <steveklabnik> iiinteresting
[17:06:10] <steveklabnik> i see
[17:06:16] <steveklabnik> i have nightly in my initial url
[17:06:17] <steveklabnik> and you don't
[17:06:29] <steveklabnik> cna confirm i get the same results as you the
[17:06:30] <steveklabnik> n
[17:06:30] *** suvash is now known as suvash_away
[17:06:39] *** Quits: nical (nical@moz-g9tdso.lmuk.1rfi.0450.2001.IP) (Client exited)
[17:06:44] *** Joins: rampantmonkey (rampantmonk@moz-bq6.697.143.69.IP)
[17:06:46] <steveklabnik> would you like to open a bug? or should i?
[17:07:04] <waka> I will, on rustc I suppose?
[17:07:05] *** Quits: deadc0de (chsitter@moz-lrh.035.31.94.IP) (Ping timeout: 121 seconds)
[17:07:24] <steveklabnik> yeah, rust-lang/rust
[17:07:27] *** Joins: chmanchester (Chris@moz-l8ebtf.sfo1.mozilla.com)
[17:07:31] *** Joins: vairav (vairav@moz-pkkcjo.modeln.com)
[17:07:39] <steveklabnik> it's gonna be hard to fix :/
[17:07:43] <waka> (Since it has to do with doc generation I guess)
[17:07:47] *** Joins: decode__ (agoforth@moz-i3qf5q.netcologne.de)
[17:07:48] *** Quits: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Ping timeout: 121 seconds)
[17:08:15] <mikem> acrichto: thanks!
[17:08:19] *** Joins: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp)
[17:08:31] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[17:08:36] <steveklabnik> it's because rustdoc (where the bug is) is distributed with rustc, and they're in the same repo
[17:08:38] <mikem> I might just drop Windows support until that lnds
[17:08:55] *** Joins: vpol (vpol@moz-gcb52h.static.zebra.lt)
[17:09:04] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[17:09:11] *** Joins: deadc0de (chsitter@moz-lrh.035.31.94.IP)
[17:09:34] *** Joins: ziad (ziad@moz-fh9.u9c.240.50.IP)
[17:10:00] *** Quits: evanfarrar (evanfarrar@moz-7vs.bl6.251.207.IP) (Connection closed)
[17:10:14] *** Quits: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl) (Quit: Winners never quit.)
[17:11:02] *** Quits: agoforth (agoforth@moz-9o05r5.netcologne.de) (Ping timeout: 121 seconds)
[17:11:40] *** Quits: Integralist (Integralist@moz-3ag.m9b.185.132.IP) (Ping timeout: 121 seconds)
[17:12:00] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[17:12:21] *** Quits: kgrandon (Adium@moz-1lcjhp.ujol.1ibb.0101.2620.IP) (Connection closed)
[17:12:27] *** Joins: kgrandon (Adium@moz-cfhap5.mtv2.mozilla.com)
[17:12:36] *** Joins: rbranson (rbranson@moz-i7m.9o0.201.199.IP)
[17:13:21] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[17:13:55] *** ahal|lunch is now known as ahal
[17:13:56] <waka> steveklabnik: It's done
[17:14:13] *** Joins: eibwen (eibwen@moz-u77b05.dip0.t-ipconnect.de)
[17:14:51] *** Quits: yusukesuzuki (yusukesuzuk@moz-dt1lc7.t-com.ne.jp) (Quit: ZNC - http://znc.in)
[17:15:00] *** Joins: Izacht13 (Izacht13@moz-5tc3lv.atsnmeam.ccmaine.net)
[17:15:42] <steveklabnik> thanks :)
[17:15:43] *** Quits: lov2cod (Adium@moz-40l.ob1.22.8.IP) (Quit: Leaving.)
[17:16:02] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[17:16:06] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[17:16:15] *** Quits: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP) (Connection closed)
[17:16:27] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Quit: rcirc on GNU Emacs 24.3.92.1)
[17:16:59] *** Quits: frogmella (Mibbit@moz-ccurhg.enscp.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[17:17:08] *** Quits: coxg (sazzer@moz-1hq.kh5.32.217.IP) (Ping timeout: 121 seconds)
[17:17:39] *** Joins: frogmella (Mibbit@moz-ccurhg.enscp.fr)
[17:17:49] <steveklabnik> waka: just found that we alreayd had this bug filed :(
[17:19:52] <steveklabnik> frogmella: so i was looking at some issues and came across https://github.com/rust-lang/rust/issues/21553
[17:19:53] *** Joins: belak (belak@moz-spf415.static.wiline.com)
[17:19:58] <steveklabnik> which mentions stuff related to getting play links
[17:20:09] *** Joins: Ralith (ralith@moz-miv.lne.251.63.IP)
[17:20:52] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[17:21:01] <waka> Yep, saw your reply
[17:21:50] *** Quits: azar77 (azar77@moz-kpt.ps8.246.46.IP) (Ping timeout: 121 seconds)
[17:22:26] <Thiez> hmmn, Rc has a member _ptr that is of type NonZero<*mut RcBox<T>>, so I can't help but wonder: why does Drop on Rc perform a `if !ptr.is_null()`?
[17:23:06] *** Quits: Kinetic_Srv (mer@moz-mfp.gct.51.218.IP) (Quit: leaving)
[17:23:21] *** Joins: evanfarrar (evanfarrar@moz-7vs.bl6.251.207.IP)
[17:23:23] *** Joins: Guest74 (textual@moz-il1.n6s.204.65.IP)
[17:23:34] <Thiez> relevant lines: http://static.rust-lang.org/doc/master/src/alloc/rc.rs.html#183 and http://static.rust-lang.org/doc/master/src/alloc/rc.rs.html#394
[17:23:40] *** Joins: sargas (sargas@moz-863roc.hfc.comcastbusiness.net)
[17:23:41] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[17:23:53] *** Joins: azar77 (azar77@moz-73s.777.246.46.IP)
[17:24:16] *** Joins: lov2cod (Adium@moz-40l.ob1.22.8.IP)
[17:24:22] *** Joins: tadh (quassel@moz-75q.ush.56.172.IP)
[17:24:26] <sargas> how can I test `read_line()` in my test suite? (fake user input)
[17:24:27] *** sunfish is now known as sunfish-away
[17:24:52] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[17:25:19] *** Quits: deadc0de (chsitter@moz-lrh.035.31.94.IP) (Ping timeout: 121 seconds)
[17:25:39] <sargas> is there an online resource I can read about it?
[17:26:07] <jn> sargas: does it accept arbitrary input sources that implement std::io::Read?
[17:26:15] <steveklabnik> i mean, you can never say with certainty, but i would imagine the answer to that is 'no'
[17:26:26] *** Quits: jmitchell (user@moz-o8p.pug.156.104.IP) (A TLS packet with unexpected length was received.)
[17:26:38] <steveklabnik> at least, there's no howto
[17:26:45] <steveklabnik> jn is on the right track, i'd bet
[17:26:55] *** Quits: Lovot (root@moz-1je.00u.73.69.IP) (Ping timeout: 121 seconds)
[17:27:35] *** Quits: evanfarrar (evanfarrar@moz-7vs.bl6.251.207.IP) (Ping timeout: 121 seconds)
[17:28:17] *** Joins: deadc0de (chsitter@moz-lrh.035.31.94.IP)
[17:28:25] <sargas> jn: I'm not certain. But my method takes in input from user, returns String with max length of 3
[17:28:29] *** Quits: munksgaard (munksgaard@moz-3v9.hq0.225.130.IP) (Ping timeout: 121 seconds)
[17:28:34] *** Joins: skali (skali@moz-u41o58.dynamic.ufanet.ru)
[17:28:50] *** Joins: frogaincia (Mibbit@moz-hon7nk.adsl.tpnet.pl)
[17:28:50] <sargas> jn: that's can be converted into a number (u8)
[17:29:19] *** Quits: futile (felix@moz-5kl.840.188.178.IP) (Quit: WeeChat 1.0-dev)
[17:29:39] <sargas> jn: I can only test this function if I can send arbitrary "inputs" to it
[17:30:13] *** Quits: __mark__ (mark@moz-pb9mc5.dynamic.chello.pl) (Client exited)
[17:30:35] <kazagistar> does someone know about the etymology of the primitive type names in rust? I really like the scheme (letter + bits), and was wondering where it came from
[17:30:35] *** Joins: guacamole (Mibbit@moz-ccurhg.enscp.fr)
[17:30:36] *** Quits: guacamole (Mibbit@moz-ccurhg.enscp.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[17:31:10] *** Joins: yusukesuzuki (yusukesuzuk@moz-dt1lc7.t-com.ne.jp)
[17:31:22] <steveklabnik> well, we have other pritives too
[17:31:25] <steveklabnik> like isize/usize
[17:31:37] <steveklabnik> not that that negates the letter+bits ones
[17:31:44] <steveklabnik> and that's also letter+bits, in a way, i guess
[17:32:05] *** Joins: hoony (Thunderbird@moz-q5r.8e9.96.183.IP)
[17:32:08] <sargas> kazagistar: modern compiled languages seem to be choosing that path for naming primitive number representations
[17:32:11] *** Quits: ebel (rory@moz-l1ldq7.hsi4.kabel-badenwuerttemberg.de) (Connection closed)
[17:32:26] <GaryOak_> str is another primitive
[17:32:27] <talchas> Thiez: I believe that unsafe_no_drop_flag means that drop() may be called more than once or something
[17:32:41] <sargas> kazagistar: I wonder if that came from internal conversations, nothing else
[17:32:42] *** Joins: jmitchell (jmitchell@moz-o8p.pug.156.104.IP)
[17:32:42] <talchas> or called with the struct not initialized yet
[17:32:43] <steveklabnik> GaryOak_: yeah good call
[17:32:45] *** Joins: munksgaard (munksgaard@moz-3v9.hq0.225.130.IP)
[17:32:51] *** Quits: hoony (Thunderbird@moz-q5r.8e9.96.183.IP) (Client exited)
[17:33:18] *** Quits: laumann (thomas@moz-vj4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[17:33:38] *** Quits: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca) (Connection closed)
[17:34:23] <GaryOak_> which is not the same docs as std::str :P
[17:34:42] <FreeFull> steveklabnik: bool too
[17:35:21] <FreeFull> AFAIK there isn't a reason for bool to be a built-in rather than an enum, other than simplicity
[17:35:22] *** Quits: jcarpenter (jcarpenter@moz-l8ebtf.sfo1.mozilla.com) (Quit: Leaving...)
[17:36:35] *** Joins: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl)
[17:36:37] *** Joins: evanfarrar (evanfarrar@moz-7vs.bl6.251.207.IP)
[17:36:40] *** Joins: huddler (Mibbit@moz-fm6562.ip219.fastwebnet.it)
[17:36:52] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[17:37:38] *** Joins: Slava_I (slava@moz-r4u.4p3.215.95.IP)
[17:38:00] *** Quits: munksgaard (munksgaard@moz-3v9.hq0.225.130.IP) (Ping timeout: 121 seconds)
[17:38:16] <Thiez> talchas: if _ptr is ever null then that would seem to defeat the point of NonZero<T>
[17:38:17] *** Joins: Lovot (root@moz-1je.00u.73.69.IP)
[17:39:11] *** Quits: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net) (Client exited)
[17:39:28] *** Joins: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net)
[17:39:57] <talchas> Thiez: yeah, I'm not sure how that works :P
[17:40:17] *** Joins: nodweber_ (nodweber@moz-knt.fgq.178.5.IP)
[17:40:21] <talchas> (it's possible unsafe_no_drop_flag only can come up in cases that NonZero cannot or something)
[17:40:46] *** Quits: evanfarrar (evanfarrar@moz-7vs.bl6.251.207.IP) (Ping timeout: 121 seconds)
[17:40:54] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[17:41:01] <Thiez> either it works badly, or perhaps it's just legacy cruft that doesn't actually do anything anymore
[17:41:23] *** Parts: mikem (Mibbit@moz-dc7rv6.fios.verizon.net) ()
[17:42:01] <kmcguire> i feel like the borrow checker will improve more over time..
[17:42:24] *** Quits: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net) (Client exited)
[17:42:33] <huddler> rust newbie here. can someone explain me why a call like this: "_quicksort(a, 0, a.len()+1);" give me this error "cannot borrow `*a` as immutable because it is also borrowed as mutable"? i've understand i can avoid this error with an additional let binding, but i didn't understand what's wrong in that line
[17:42:36] <talchas> well, NonZero only matters if you are in an enum, and it seems plausible (without actually you know, reading docs/src) unsafe_no_drop_flag only does anything if Rc isn't embedded in anything
[17:42:47] *** Quits: Slava_I (slava@moz-r4u.4p3.215.95.IP) (Ping timeout: 121 seconds)
[17:42:54] *** Joins: sprang (sprang@moz-bb96om.6d5c.910g.0470.2001.IP)
[17:43:14] <Thiez> imagine a struct AssignOnDrop<'a, T> { target: &'a mut NonZero<*mut T>, item: NonZero<*mut T> } impl Drop for ... { fn drop(&mut self) { *self.target = self.item }
[17:43:17] <talchas> I believe there is intent to do better analysis to remove most drop flags or something, so it's possible it would go away then
[17:43:42] <Thiez> double drops are terrible :)
[17:44:19] <enjolras> huddler: let len = a.len(); _quicksort(a, 0, len + 1)
[17:44:21] <talchas> well, I mean, that's not going to be double dropped
[17:44:31] <steveklabnik> huddler: you have to... oh enjolras has the answer
[17:44:40] <talchas> unless it specifies unsafe_no_drop_flag, in which case it's on the programmer to make sure that it only actually does stuff once
[17:44:40] <Thiez> when *is* something going to be double dropped?
[17:44:48] <Thiez> ah
[17:45:00] <enjolras> huddler: this is because the compiler consider the function call is one lifetime block
[17:45:06] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[17:45:21] *** Joins: brendan (brendaneich@moz-vnpk7d.rev.sfr.net)
[17:45:24] <steveklabnik> huddler: we had a discussion on reddit about this the other day: http://www.reddit.com/r/rust/comments/2zj34k/why_doesnt_the_compiler_figure_this_borrowing_out/
[17:45:39] <talchas> (also take all this with a grain of salt, I'm not any sort of authority on this)
[17:46:18] <huddler> thank you
[17:46:27] *** Quits: _Vi (vi@moz-bbs.vhj.131.104.IP) (Ping timeout: 121 seconds)
[17:46:50] *** Quits: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl) (Quit: Winners never quit.)
[17:48:09] *** Joins: Slava_I (slava@moz-lav.4p3.215.95.IP)
[17:48:16] <kmcguire> ok so method<[just defines lifetime markers](& <lifetime> TypeA, & <lifetime> TypeB) -> & <lifetime> ... so im just defining lifetimes with <...> and then linking lifetimes
[17:48:18] <kazagistar> sargas: thanks, I just wanted to make sure I wasn't being silly if I said something like "rust has a really good naming scheme for various integers and floats" without referencing some obvious precursor
[17:48:22] <brson> http://this-week-in-rust.org/blog/2015/03/23/this-week-in-rust-75/
[17:48:34] <kmcguire> im not creating a lifetime.. im just defining and linking i guess i should say
[17:49:16] <steveklabnik> brson: great quote of the week, hahahaha
[17:50:45] <enjolras> entry : or_insert() \o/
[17:50:57] *** Quits: ril (ril@moz-p7jr3k.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:51:13] *** Joins: poppingtonic (poppingtoni@moz-8euu64.pqal.lp2o.43d0.2001.IP)
[17:51:15] <sargas> kazagistar: this is what I'm assuming because I know this kind of conversation has been around for years before Rust or other recent compiled languages came to be
[17:51:39] <sargas> it's great to have that kind of control with such explicit primitive number representation meaning
[17:51:47] *** Joins: mib_o8n5p2 (Mibbit@moz-431.lpf.210.62.IP)
[17:51:50] *** Joins: iopq (Mibbit@moz-uuic7b.ca.comcast.net)
[17:51:55] *** Quits: deadc0de (chsitter@moz-lrh.035.31.94.IP) (A TLS packet with unexpected length was received.)
[17:52:00] <poppingtonic> is there an offline version of http://doc.rust-lang.org/1.0.0-alpha.2/std/
[17:52:06] *** Joins: avikpal (avikpal@moz-aar.0pm.194.117.IP)
[17:52:14] <steveklabnik> poppingtonic: when you install rust, you get a copy of the offline docs
[17:52:21] *** Joins: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl)
[17:52:23] <enjolras> poppingtonic: only if you have install alpha2 i think
[17:52:29] *** Quits: sprang (sprang@moz-bb96om.6d5c.910g.0470.2001.IP) (Ping timeout: 121 seconds)
[17:52:29] <poppingtonic> steveklabnik: how do I run it?
[17:52:36] <poppingtonic> I have the latest nightly..
[17:52:40] *** Joins: psd (psd@moz-hv7.1dp.203.116.IP)
[17:52:44] <steveklabnik> so you'll have nightly docs, not alpha 2 docs
[17:52:47] <steveklabnik> which OS?
[17:52:55] <poppingtonic> Ubuntu 12.04
[17:52:59] <rovar> hmm
[17:53:02] <steveklabnik> and you installed by doing rustup.sh?
[17:53:06] <poppingtonic> Yes.
[17:53:16] *** Quits: Kynes (Kynes@moz-j2us35.mit.edu) (Quit: Leaving)
[17:53:17] <enjolras> file:///usr/local/share/doc/rust/html/index.html
[17:53:28] <steveklabnik> ^^ beat me to it:)
[17:53:28] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[17:53:36] <mib_o8n5p2> Hi all! I have a easy problem but don't know the good function frogaincia or resolve this :/ ﻿: http://is.gd/pexHse ; somebody can help me?
[17:53:39] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[17:53:44] *** Quits: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP) (Ping timeout: 121 seconds)
[17:53:45] <enjolras> steveklabnik: you made the grunt work of asking for precisions :)
[17:53:50] <steveklabnik> :D
[17:53:53] <poppingtonic> thank you! :)
[17:54:12] <steveklabnik> mib_o8n5p2: you want to look at http://doc.rust-lang.org/nightly/std/process/struct.Command.html
[17:54:40] <enjolras> (and it's the first url which shows up when i type "rust" on firefox url bar. I'm cheating)
[17:54:40] <poppingtonic> This is great. Gonna be a fun night.
[17:54:55] <enjolras> even if i type "ru" actually :D
[17:55:58] <mib_o8n5p2> steveklabnik: Thank you for this link! I will search/read the solution :-) !
[17:56:25] *** Joins: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP)
[17:56:26] <steveklabnik> mib_o8n5p2: any time
[17:58:20] *** Quits: lov2cod (Adium@moz-40l.ob1.22.8.IP) (Quit: Leaving.)
[17:58:57] *** Joins: lov2cod (Adium@moz-40l.ob1.22.8.IP)
[17:59:23] *** Joins: Guest40 (textual@moz-5bku1g.chello.nl)
[18:00:01] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[18:00:23] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[18:00:35] *** Joins: agjacome (agjacome@moz-0ajq6l.dynamic.jazztel.es)
[18:00:40] *** Quits: dalarmmst (dalarmmst@moz-kgfju0.bredband.comhem.se) (Ping timeout: 121 seconds)
[18:00:59] *** Quits: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP) (Quit: Leaving...)
[18:01:18] *** Joins: munksgaard (munksgaard@moz-3v9.hq0.225.130.IP)
[18:01:39] *** Quits: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP) (Ping timeout: 121 seconds)
[18:01:55] <sargas> is the optimizer still getting in the way of benchmark test?
[18:02:07] <sargas> what's the current status on that?
[18:02:48] <sargas> (assuming you benchmark with optimizations enabled)
[18:03:03] <XMPPwocky> sorry, what?
[18:03:12] *** Joins: alonlevy (alon@moz-4jqdpb.telavivmakers.org)
[18:03:17] *** Quits: saterus (saterus@moz-rutqj0.res.rr.com) (Connection closed)
[18:03:21] *** Quits: jkerim_ (jkerim@moz-i5m.05u.207.66.IP) (Ping timeout: 121 seconds)
[18:04:13] *** Joins: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP)
[18:04:25] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[18:04:27] *** Joins: alhof (dylan@moz-a2i.6j4.9.153.IP)
[18:04:44] *** Quits: lucian_ (lucian@moz-iuo.htl.74.194.IP) (Ping timeout: 121 seconds)
[18:05:10] *** Quits: laparca (laparca@moz-rgcs06.mgob.kh00.0488.2a01.IP) (Quit: Leaving.)
[18:05:25] *** Joins: evanfarrar (evanfarrar@moz-7vs.bl6.251.207.IP)
[18:05:28] *** Joins: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net)
[18:06:13] *** Joins: hoverbear (hoverbear@moz-82h62u.wireless.uvic.ca)
[18:06:41] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[18:06:41] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:06:50] *** Joins: jkerim (jkerim@moz-i5m.05u.207.66.IP)
[18:08:11] *** Quits: psd (psd@moz-hv7.1dp.203.116.IP) (Ping timeout: 121 seconds)
[18:08:24] *** Joins: dylan_ (dylan@moz-a2i.6j4.9.153.IP)
[18:08:29] *** Quits: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl) (Ping timeout: 121 seconds)
[18:08:36] *** Joins: nr152522 (nr152522@moz-d5te1r.cust.relish.net)
[18:08:58] *** Quits: vmx (vmx@moz-kq6rmb.pools.vodafone-ip.de) (Quit: Leaving)
[18:09:56] *** Joins: jwilm (jwilm@moz-1rin99.hfc.comcastbusiness.net)
[18:10:57] *** Joins: xcombelle (xcombelle@moz-6qp46t.abo.wanadoo.fr)
[18:11:17] <mib_o8n5p2> steveklabnik: Why have you said to read documentation about struct.Command? My type is a String and I just want to parse all characters after N 
[18:11:19] *** Quits: kgrandon (Adium@moz-cfhap5.mtv2.mozilla.com) (Quit: Leaving.)
[18:11:50] <steveklabnik> mib_o8n5p2: oh! i thought you wanted to run that command, and do something to the output :(
[18:12:09] <steveklabnik> the better answer depends 
[18:12:12] *** Joins: dmac_ (dmac@moz-h4nvlf.ca.comcast.net)
[18:12:16] <steveklabnik> is this the only string you're searching, or others like it?
[18:12:24] <steveklabnik> depending on that, you can either use split or a regex
[18:12:47] <steveklabnik> sorry :/
[18:13:44] *** Joins: pacman (user@moz-fm6562.ip219.fastwebnet.it)
[18:13:50] *** Quits: alexherbo2 (alex@moz-upo.rnh.255.109.IP) (Quit: WeeChat 1.1.1)
[18:14:03] *** Quits: huddler (Mibbit@moz-fm6562.ip219.fastwebnet.it) (Quit: http://www.mibbit.com ajax IRC Client)
[18:14:04] *** Joins: alexherbo2 (alex@moz-upo.rnh.255.109.IP)
[18:15:05] *** Quits: kmicu (kmicu@moz-uga.edn.218.91.IP) (Client exited)
[18:15:33] *** Joins: jdm (jdm@moz-uoj6rj.ckpj.s0pt.0450.2001.IP)
[18:15:33] *** ChanServ sets mode: +o jdm
[18:15:38] *** Quits: Izacht13 (Izacht13@moz-5tc3lv.atsnmeam.ccmaine.net) (Quit: Leaving)
[18:17:02] *** Joins: akiss (akiss@moz-22mpm5.pool.digikabel.hu)
[18:17:29] <mib_o8n5p2> steveklabnik: I will never use a regex because split are best :-) And I want always parse after a '-' character
[18:17:34] *** Joins: saterus (saterus@moz-rutqj0.res.rr.com)
[18:17:48] <steveklabnik> hehe
[18:17:49] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Connection closed)
[18:17:57] *** Joins: dalarmmst (dalarmmst@moz-kgfju0.bredband.comhem.se)
[18:17:57] <steveklabnik> okay, let me give you an example then
[18:18:02] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[18:18:06] <mib_o8n5p2> steveklabnik: But in this context, the split is maybe not necessary? Because It's just parser all after this '-' character
[18:18:58] *** Quits: Boscop (me@moz-9fq.aou.65.112.IP) (Ping timeout: 121 seconds)
[18:18:59] *** Quits: saml_ (saml@moz-rkfmct.res.rr.com) (Connection closed)
[18:19:00] *** Quits: poppingtonic (poppingtoni@moz-8euu64.pqal.lp2o.43d0.2001.IP) (Ping timeout: 121 seconds)
[18:19:12] *** Joins: sprang (sprang@moz-vv7.7vl.56.172.IP)
[18:20:03] *** Quits: espadrine (tyl@moz-qfr4fg.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[18:20:29] *** Quits: thesnowdog (doug@moz-5pr.8fa.181.180.IP) (Connection closed)
[18:20:31] *** Quits: hoverbear (hoverbear@moz-82h62u.wireless.uvic.ca) (Quit: Time to hibernate.... ZzZz...)
[18:21:20] <steveklabnik> yeah that's true
[18:21:27] <steveklabnik> http://is.gd/tTkz2d is an approach based on iterators
[18:21:32] <steveklabnik> so we go until we find a -
[18:21:33] *** Quits: frogaincia (Mibbit@moz-hon7nk.adsl.tpnet.pl) (Quit: http://www.mibbit.com ajax IRC Client)
[18:21:37] <steveklabnik> then we skip that - and the space after
[18:21:45] *** dmac_ is now known as dmac
[18:21:52] *** Joins: kgrandon (Adium@moz-br0khp.ujol.1ibb.0101.2620.IP)
[18:22:35] <mib_o8n5p2> steveklabnik: I many love your solution, this will learn many for me! Thank you very much yet =D
[18:22:59] <steveklabnik> no problem, and sorry about being misleading at first. been doing a bunch of Command stuff, so my brain did it wrong
[18:23:15] *** Joins: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP)
[18:23:22] *** Quits: FreeFull (freefull@moz-25gb1r.rdg.ac.uk) (Ping timeout: 121 seconds)
[18:23:42] *** Quits: jmitchell (jmitchell@moz-o8p.pug.156.104.IP) (Ping timeout: 121 seconds)
[18:24:11] *** Joins: hoverbear (hoverbear@moz-82h62u.wireless.uvic.ca)
[18:25:26] <mib_o8n5p2> steveklabnik: I understand you ;-) I want write a shell who will understand the english language ; therefore your confusion was near with my aim 
[18:25:49] <steveklabnik> :)
[18:26:59] *** Joins: FreeFull (freefull@moz-25gb1r.rdg.ac.uk)
[18:26:59] *** Quits: lov2cod (Adium@moz-40l.ob1.22.8.IP) (Quit: Leaving.)
[18:27:33] *** Quits: rbranson (rbranson@moz-i7m.9o0.201.199.IP) (Quit: Computer has gone to sleep.)
[18:27:40] *** Quits: scialex (scialex@moz-if7.du5.16.138.IP) (Ping timeout: 121 seconds)
[18:29:18] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[18:29:28] *** Joins: rbranson (rbranson@moz-i7m.9o0.201.199.IP)
[18:30:22] <kmcguire> umm, im having a big brain fart, http://is.gd/ECJ7Pc
[18:30:32] *** Joins: mindtree (Mitch@moz-ei5l80.iprimus.net.au)
[18:30:35] <kmcguire> obviously.. im confused beyond confusion
[18:30:57] *** Quits: munksgaard (munksgaard@moz-3v9.hq0.225.130.IP) (Ping timeout: 121 seconds)
[18:31:04] <steveklabnik> kmcguire: http://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html#method.append 
[18:31:10] <steveklabnik> append takes a &mut Vec<T>
[18:31:12] <kmcguire> CRAP
[18:31:15] <kmcguire> damn python
[18:31:18] <steveklabnik> 4u8 is not one of those :)
[18:31:28] *** Joins: erickt_ (erickt@moz-4hh.6p3.217.74.IP)
[18:31:35] *** Joins: mattico (matt@moz-s9qf6f.bff5.ebih.ea00.2607.IP)
[18:31:38] *** Joins: ai (ai@moz-pqofrl.sunline.net.ua)
[18:31:39] <kmcguire> thanks so much steve, python has the `append` stuck in my head
[18:31:57] <steveklabnik> any time
[18:32:05] <panicbit> kmcguire: push is what you want :)
[18:32:29] <kmcguire> panicbit, steve, what is so bad is i _just_ did this yesterday and did it again today
[18:32:36] *** Quits: mahdi (mahdi@moz-p65.u27.244.151.IP) (Quit: )
[18:32:40] <panicbit> kmcguire: Shit happens :)
[18:32:44] <kmcguire> thats my weakness in debugging.. assumption lol
[18:32:45] <steveklabnik> yeah, no worries
[18:32:50] <steveklabnik> it's hard to remember all the things all the time
[18:32:54] *** Quits: Savago (Savago@moz-amsu6g.tmodns.net) (Client exited)
[18:32:56] *** Joins: Boscop (me@moz-kb6.b2o.126.98.IP)
[18:33:21] *** Joins: mahdi (uid75699@moz-h68h1t.ealing.irccloud.com)
[18:33:30] <kmcguire> true
[18:33:46] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[18:33:50] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[18:34:13] *** Quits: hoverbear (hoverbear@moz-82h62u.wireless.uvic.ca) (Quit: Time to hibernate.... ZzZz...)
[18:34:20] *** Quits: mib_o8n5p2 (Mibbit@moz-431.lpf.210.62.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:34:41] *** Quits: mindtree (Mitch@moz-ei5l80.iprimus.net.au) (Ping timeout: 121 seconds)
[18:34:45] *** Joins: colinsurprenant (colin@moz-rmn4e2.169.electronicbox.net)
[18:37:32] *** Quits: dmac (dmac@moz-h4nvlf.ca.comcast.net) (Connection closed)
[18:37:46] *** Joins: dmac (dmac@moz-h4nvlf.ca.comcast.net)
[18:37:57] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[18:38:41] *** Quits: tadh (quassel@moz-75q.ush.56.172.IP) (Connection closed)
[18:38:41] *** Joins: forgottenone (forgottenon@moz-vv6.q7i.45.92.IP)
[18:39:30] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[18:39:32] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[18:40:03] *** Quits: Slava_I (slava@moz-lav.4p3.215.95.IP) (Ping timeout: 121 seconds)
[18:40:12] *** Joins: larhat (Adium@moz-8v4.af0.232.213.IP)
[18:40:28] *** Quits: Guest74 (textual@moz-il1.n6s.204.65.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:40:50] *** Joins: hhhhhhhh1 (mike@moz-969kuj.cable.virginm.net)
[18:41:01] <phaylon> steveklabnik: sorry for the direct ping, was wondering if you had another look at #22981 (old docs on rust-lang.org). I'd be happy to help out if it involves "manual" labour
[18:41:32] <steveklabnik> no worries about the manual ping
[18:41:39] <steveklabnik> no, i don't think it's actually fixible
[18:41:52] <steveklabnik> ie, even if we did some stuff with our old docs, the problematic ones are like MITs
[18:41:52] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[18:42:08] <steveklabnik> this issue will go away as rust gets actually released and people link to the current docs
[18:42:25] <phaylon> steveklabnik: I think that one is a bit problematic, since it's hosted on rust-lang.org and looks official.
[18:42:27] *** Joins: Slava_I (slava@moz-tqc.eq9.215.95.IP)
[18:42:37] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (A TLS packet with unexpected length was received.)
[18:42:41] <phaylon> it was found on the dlang forums, probably by searching for rust gc strategy terms
[18:42:57] <phaylon> and by a high profile person, which made me go "ouch" :)
[18:42:58] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[18:43:01] *** Joins: Guest74 (textual@moz-il1.n6s.204.65.IP)
[18:43:07] *** Joins: lov2cod (Adium@moz-40l.ob1.22.8.IP)
[18:43:37] *** darkowlzz is now known as darkowlzz|afk
[18:43:40] *** Joins: errordeveloper (ilya@moz-g0i.mtf.125.2.IP)
[18:44:04] <phaylon> but it might just become a no-problem if google et al get saturated with more up-to-date stuff, I can see that
[18:44:20] *** Joins: amro (amro@moz-tn1.okp.239.80.IP)
[18:44:24] *** Joins: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca)
[18:44:42] *** Joins: avikpal_ (avikpal@moz-09r.bnc.79.112.IP)
[18:44:43] <steveklabnik> yeah, and also
[18:44:57] <steveklabnik> the rel=canonical issue would help
[18:44:58] *** Joins: wldcordeiro (wldcordeiro@moz-8lrfc3.hmj8.a2nn.0007.2601.IP)
[18:45:02] <phaylon> steveklabnik: thanks anyway, I'm happy it wasn't just me being bad at expressing myself :)
[18:45:11] <steveklabnik> as would making newer docs have more prominent version stuff
[18:45:18] <steveklabnik> its all good
[18:45:24] <steveklabnik> part of this is my own aversion to immutable releases
[18:45:26] *** Quits: sprang (sprang@moz-vv7.7vl.56.172.IP) (Ping timeout: 121 seconds)
[18:45:27] <steveklabnik> err
[18:45:31] *** Quits: kgrandon (Adium@moz-br0khp.ujol.1ibb.0101.2620.IP) (Quit: Leaving.)
[18:45:32] <steveklabnik> aversion to mutable releases
[18:45:32] <phaylon> I think this specific situation was because old rust talks lots about Gc, new rust doesn't.
[18:45:40] <steveklabnik> yeah, it makes sense
[18:46:18] *** Quits: lov2cod (Adium@moz-40l.ob1.22.8.IP) (Quit: Leaving.)
[18:47:00] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (Ping timeout: 121 seconds)
[18:47:44] *** Quits: errordeveloper (ilya@moz-g0i.mtf.125.2.IP) (Ping timeout: 121 seconds)
[18:48:00] *** Joins: jcarpenter (jcarpenter@moz-l8ebtf.sfo1.mozilla.com)
[18:48:04] *** Quits: avikpal (avikpal@moz-aar.0pm.194.117.IP) (Ping timeout: 121 seconds)
[18:48:29] *** Quits: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca) (Ping timeout: 121 seconds)
[18:48:50] *** Quits: decode__ (agoforth@moz-i3qf5q.netcologne.de) (Quit: Leaving)
[18:49:21] *** Quits: amro (amro@moz-tn1.okp.239.80.IP) (Ping timeout: 121 seconds)
[18:51:13] *** Joins: amro (amro@moz-n00g07.clq1.sjcg.02b0.2a01.IP)
[18:53:27] *** Joins: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl)
[18:54:19] *** Joins: woowe (Mibbit@moz-j1ml8o.wi.charter.com)
[18:54:21] <steveklabnik> okay, now i have a stumper: http://is.gd/gBhuw0
[18:54:25] <steveklabnik> it's both mut and a &mut
[18:54:28] <steveklabnik> how is it immutable?
[18:55:12] *** Joins: jedahan (jedahan@moz-58nkpr.biz.rr.com)
[18:55:55] <panicbit> oO
[18:56:05] <steveklabnik> i feel like i am making some kind of very basic mistake here
[18:56:08] <frogmella> steveklabnik: to enable playpen for code snippets, it turns out you just have to add an annotation at the beginning of the file to be documented like so : #![doc(html_playground_url = "http://play.rust-lang.org/")]
[18:56:18] *** Joins: munksgaard (munksgaard@moz-3v9.hq0.225.130.IP)
[18:56:19] <steveklabnik> frogmella: ahhh
[18:56:23] <steveklabnik> nice
[18:56:39] <steveklabnik> frogmella: if you're feeling like it, mind sending a PR for the documentation chapter of the book to add that?
[18:57:47] *** Joins: UberLambda (uber@moz-4u4.v1a.84.82.IP)
[18:57:52] <woowe> Hey guys, how do you check if a file exists or not?
[18:57:55] <SneakySnake> steveklabnik: AsciiExt is not implemented for String, only &str
[18:58:06] <SneakySnake> The string probably gets coerced into &str
[18:58:11] <steveklabnik> SneakySnake: ahhhhh
[18:58:12] <SneakySnake> But you can't get a &mut str into a String
[18:58:35] <steveklabnik> that makes sense
[18:59:55] <frogmella> steveklabnik: Ok, I'll see to that. It's a very slick feature of rustdoc/cargo indeed.
[19:00:08] <SneakySnake> woowe: http://doc.rust-lang.org/std/fs/trait.PathExt.html#tymethod.exists
[19:00:17] *** Joins: psy (psy@moz-ous.ntd.6.103.IP)
[19:00:37] <woowe> Lol the one thing in std::fs i didn't look at
[19:00:39] <woowe> thank you 
[19:01:00] *** Joins: meh (meh@moz-u15r9i.42-151.net24.it)
[19:01:23] *** Joins: coxg (sazzer@moz-1hq.kh5.32.217.IP)
[19:01:24] *** Joins: psd (psd@moz-6m3.lur.215.180.IP)
[19:01:26] <steveklabnik> SneakySnake: ... how do i even get a &mut str?
[19:01:34] *** Quits: munksgaard (munksgaard@moz-3v9.hq0.225.130.IP) (Ping timeout: 121 seconds)
[19:02:04] *** Quits: jcarpenter (jcarpenter@moz-l8ebtf.sfo1.mozilla.com) (Quit: Linkinus - http://linkinus.com)
[19:02:11] *** Joins: jcarpenter (jcarpenter@moz-o74ts0.rgd2.9kg1.0101.2620.IP)
[19:02:54] <SneakySnake> steveklabnik: You want to get a &mut str into a String? You can't AFAIK.
[19:03:07] <steveklabnik> i just want an example of calling this method
[19:03:31] *** Quits: larhat (Adium@moz-8v4.af0.232.213.IP) (Quit: Leaving.)
[19:03:40] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[19:03:52] *** Joins: james4k (james@moz-ojv7g2.consolidated.net)
[19:04:03] *** Quits: marc_ (uid5324@moz-t3einu.ealing.irccloud.com) (Quit: Connection closed for inactivity)
[19:04:40] *** Quits: bcasiello (Thunderbird@moz-tq6.nsv.22.72.IP) (Ping timeout: 121 seconds)
[19:04:49] *** Joins: mahdi_ (mahdi@moz-p65.u27.244.151.IP)
[19:04:58] <steveklabnik> ahh i can use a char
[19:04:59] <steveklabnik> instead of a &str
[19:05:02] *** Quits: mahdi_ (mahdi@moz-p65.u27.244.151.IP) (Connection closed)
[19:05:35] *** Quits: coxg (sazzer@moz-1hq.kh5.32.217.IP) (Ping timeout: 121 seconds)
[19:07:03] *** Joins: futile (felix@moz-5kl.840.188.178.IP)
[19:07:09] *** Joins: FrozenCow (FrozenCow@moz-i2tvv4.chello.nl)
[19:07:32] *** Joins: munksgaard (munksgaard@moz-33d.hq0.225.130.IP)
[19:08:04] <Thiez> steveklabnik: String does not deref to &mut str
[19:08:41] *** Joins: Gertm (Gertm@moz-ctfkkr.isp.belgacom.be)
[19:08:50] <steveklabnik> Thiez: makes sense. the error is just a bit bad i guess
[19:08:54] <SneakySnake> steveklabnik: The problem with calling it on a String is that make_ascii_uppercase expects to work with an ASCII sequence. If the string contained a non-ascii UTF-8 sequence, it could corrupt the UTF-8.
[19:09:12] <steveklabnik> yeah, seems good
[19:09:27] *** Joins: grobinson (grobinson@moz-upe.5fr.90.208.IP)
[19:09:27] <steveklabnik> since i can call stuff on &strs when i know that it's ascii
[19:09:34] *** Joins: nrc_ (nrc@moz-4bhi2i.xtra.co.nz)
[19:09:39] <steveklabnik> i was just being lazy about it and using &str from everything without thinking the implications through
[19:09:39] <SneakySnake> You could also call it on a &[u8] if you want an example
[19:09:49] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[19:10:09] <steveklabnik> all these functions are well-defined to just do nothing if it's out of ascii range
[19:10:12] <SneakySnake> I don't know if there is a convenient way to print a &[u8] as ASCII though.
[19:10:23] <steveklabnik> using char makes them all work
[19:10:27] <Thiez> steveklabnik: it's probably a lousy error message for when you have something of type T and it derefs to &U but something requires &mut U instead
[19:10:38] <steveklabnik> seems reasonable
[19:11:08] *** nrc_ is now known as nrc
[19:11:33] *** Quits: mtsr (mtsr@moz-5r1gp7.yourbnc.co.uk) (Ping timeout: 121 seconds)
[19:11:36] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[19:12:35] *** Quits: omissis (omissis@moz-6mn.mb0.111.217.IP) (Ping timeout: 121 seconds)
[19:13:25] *** Joins: philosoph (Mibbit@moz-j07uf0.hsi.kabel-badenwuerttemberg.de)
[19:13:38] *** Quits: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl) (Ping timeout: 121 seconds)
[19:14:26] *** Quits: new_one (new_one@moz-941.s43.42.128.IP) (Quit: WeeChat 1.1.1)
[19:14:39] *** Joins: mytrile (mytrile@moz-jkn.up2.40.84.IP)
[19:15:07] *** Quits: skali (skali@moz-u41o58.dynamic.ufanet.ru) (Quit: leaving)
[19:15:15] *** Quits: rootnode (rootnode@moz-go1ut4.ip1.george24.com) (Ping timeout: 121 seconds)
[19:15:41] *** Joins: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca)
[19:16:21] <woowe> Hey, how do I use the OpenOptions to append to the file for every write?
[19:16:55] *** Joins: mtsr (mtsr@moz-hphuar.yourbnc.co.uk)
[19:17:06] *** Joins: lucianosousa (luciano@moz-3m8.304.142.200.IP)
[19:17:55] *** Quits: belak (belak@moz-spf415.static.wiline.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:17:55] *** Quits: lucianosousa (luciano@moz-3m8.304.142.200.IP) (Connection closed)
[19:19:15] *** Joins: nate (nate@moz-lm1g2c.mi.comcast.net)
[19:20:02] *** Quits: flowsnake (flowsnake@moz-imbr2b.cable.virginm.net) (Quit: ZNC - http://znc.in)
[19:20:36] *** Quits: jcarpenter (jcarpenter@moz-o74ts0.rgd2.9kg1.0101.2620.IP) (Quit: Leaving...)
[19:20:37] <bluss> it has a method called .append(true)
[19:20:38] *** Quits: psd (psd@moz-6m3.lur.215.180.IP) (Ping timeout: 121 seconds)
[19:20:38] *** Joins: meteredsection- (meteredsect@moz-3l4.eb4.227.173.IP)
[19:20:51] <steveklabnik> OpenOptions.new().append(true).open("path")
[19:21:25] *** Joins: lucianosousa (luciano@moz-3m8.304.142.200.IP)
[19:21:31] *** Joins: flowsnake (flowsnake@moz-imbr2b.cable.virginm.net)
[19:23:32] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[19:23:49] <woowe> Oh
[19:24:03] <woowe> So is OpenOptions just file File?
[19:24:12] *** Joins: Savago (Savago@moz-8hd.3b6.246.162.IP)
[19:24:16] *** Joins: lucianosousa_ (luciano@moz-3m8.304.142.200.IP)
[19:24:35] *** Joins: mdibaiee (mahdi@moz-p65.u27.244.151.IP)
[19:24:41] <steveklabnik> the open method returns a Result<File>
[19:24:52] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[19:25:07] <woowe> Ohh, sweet! Thanks!
[19:25:13] <nate> In dealing with old rust code, does `~[u8]` represent a `Vec<u8>`, or a `Box<[u8]>`?
[19:25:22] *** Quits: mdibaiee (mahdi@moz-p65.u27.244.151.IP) (Quit: Leaving)
[19:25:28] *** Joins: mahdi__ (mahdi@moz-p65.u27.244.151.IP)
[19:25:29] *** Quits: lucianosousa (luciano@moz-3m8.304.142.200.IP) (Ping timeout: 121 seconds)
[19:25:29] *** lucianosousa_ is now known as lucianosousa
[19:25:32] <Eridius> Vec<u8> is the proper equivalent
[19:25:37] <nate> Thanks
[19:25:48] *** Joins: luzie (lu.cy@moz-ri8.k60.238.104.IP)
[19:26:16] *** Quits: mahdi__ (mahdi@moz-p65.u27.244.151.IP) (Quit: Leaving)
[19:26:23] <bluss> but it had a different implementation for a long time
[19:26:30] *** Joins: mdibaiee (mahdi@moz-p65.u27.244.151.IP)
[19:26:42] <bluss> so it wasn't equivalent to any of those, but Vec is the successor
[19:27:08] *** Quits: mdibaiee (mahdi@moz-p65.u27.244.151.IP) (Quit: Leaving)
[19:27:25] *** Joins: mdibaiee (mahdi@moz-p65.u27.244.151.IP)
[19:27:34] *** Joins: ermund (Mibbit@moz-ffef4k.skybroadband.com)
[19:27:57] <ermund> where can I now find the Reader/Writer trait will all those great "read_le_f32()" etc?
[19:28:00] *** Quits: mytrile (mytrile@moz-jkn.up2.40.84.IP) (Quit: )
[19:28:03] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[19:28:26] <bluss> float-32 you won't find anywhere I think
[19:28:45] *** Quits: iopq (Mibbit@moz-uuic7b.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[19:28:51] <ermund> bluss: ahh you're kidding, those primitive->byte stream wrappers were really great
[19:29:03] *** Quits: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca) (Connection closed)
[19:29:05] <bluss> anyway, reading integers of particular endianness has been removed from libstd and you can find crates from crates.io that do it instaed
[19:29:13] <bluss> ermund: but f32?
[19:29:43] <bluss> ermund: I think byteorder is the main crate
[19:29:51] <mbrubeck> podio is another
[19:30:12] <ermund> bluss: endianess is still a thing for floats, even if its isnt really 'endianess', just byte ordering, right?
[19:30:27] <ermund> ok, thanks folkes, I've got a fair bit of middleware to rewrite :P
[19:30:28] *** Joins: avikpal (avikpal@moz-aar.0pm.194.117.IP)
[19:30:31] *** Joins: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl)
[19:30:37] <mbrubeck> ermund: podio's read_f32 takes an endianness param: http://mvdnes.github.io/podio/podio/trait.ReadPodExt.html#tymethod.read_f32
[19:30:44] <bluss> ermund: for floats it's generally the problem that you have to assume the platform uses that ieee format
[19:31:05] <ermund> bluss: is there any other 32 bit representation than 754?
[19:31:15] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Ping timeout: 121 seconds)
[19:31:16] <bluss> I don't know the standard number by heart :-( hacker card in danger
[19:31:17] *** Joins: mindtree (Mitch@moz-ei5l80.iprimus.net.au)
[19:31:31] *** Quits: luzie (lu.cy@moz-ri8.k60.238.104.IP) (Quit: WeeChat 1.1.1)
[19:31:36] *** Joins: luzie (lu.cy@moz-ri8.k60.238.104.IP)
[19:31:45] *** Quits: luzie (lu.cy@moz-ri8.k60.238.104.IP) (Quit: WeeChat 1.1.1)
[19:31:51] *** Quits: mahdi (uid75699@moz-h68h1t.ealing.irccloud.com) (Quit: )
[19:31:56] <mbrubeck> Rust defines its float types by IEEE754. http://doc.rust-lang.org/reference.html#machine-types
[19:32:20] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:32:22] *** mdibaiee is now known as mahdi
[19:32:22] <ermund> hmm, not keen on adding even more crates...just more things for other people to stop updating, which pre 1.0 can be crippling
[19:32:42] *** Quits: avikpal_ (avikpal@moz-09r.bnc.79.112.IP) (Ping timeout: 121 seconds)
[19:33:23] <ermund> perhaps I'll create the PrimitiveReader/Writer wrappers myself :P
[19:33:39] <bluss> mbrubeck: oh, so that's not a problem then
[19:34:15] *** Quits: amro (amro@moz-n00g07.clq1.sjcg.02b0.2a01.IP) (Ping timeout: 121 seconds)
[19:34:30] *** Quits: mahdi (mahdi@moz-p65.u27.244.151.IP) (Connection closed)
[19:34:50] *** Quits: Excureo (c@moz-7mf6lg.wa.charter.com) (Ping timeout: 121 seconds)
[19:35:06] *** Joins: mahdi (mahdi@moz-p65.u27.244.151.IP)
[19:36:27] *** Quits: mindtree (Mitch@moz-ei5l80.iprimus.net.au) (Ping timeout: 121 seconds)
[19:37:02] *** Joins: marsel (user@moz-o3p.ehs.180.94.IP)
[19:37:07] *** Joins: jcarpenter (jcarpenter@moz-o74ts0.rgd2.9kg1.0101.2620.IP)
[19:37:45] *** Quits: tyler (tyler@moz-5ei.4no.69.155.IP) (Quit: Textual IRC Client: www.textualapp.com)
[19:39:25] *** Quits: reed (reed@tech.monkey) (RecvQ exceeded)
[19:39:40] *** Joins: reed (reed@tech.monkey)
[19:39:46] *** Quits: saterus (saterus@moz-rutqj0.res.rr.com) (Quit: )
[19:39:59] *** Joins: dstrbad (dstrbad@moz-uele2h.dialin.iskon.hr)
[19:40:00] *** Joins: lucianosousa_ (luciano@moz-3m8.304.142.200.IP)
[19:40:46] *** Quits: grobinson (grobinson@moz-upe.5fr.90.208.IP) (Connection closed)
[19:41:01] *** Quits: Gertm (Gertm@moz-ctfkkr.isp.belgacom.be) (Quit: Leaving)
[19:41:21] *** Joins: grobinson (grobinson@moz-upe.5fr.90.208.IP)
[19:41:38] *** Quits: lucianosousa (luciano@moz-3m8.304.142.200.IP) (Ping timeout: 121 seconds)
[19:41:38] *** lucianosousa_ is now known as lucianosousa
[19:42:32] *** Joins: Excureo (c@moz-7mf6lg.wa.charter.com)
[19:42:35] *** Joins: grobinso_ (grobinson@moz-upe.5fr.90.208.IP)
[19:44:01] *** Quits: dstrbad (dstrbad@moz-uele2h.dialin.iskon.hr) (Ping timeout: 121 seconds)
[19:45:19] *** Quits: Guest74 (textual@moz-il1.n6s.204.65.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:45:19] *** Joins: lucianosousa_ (luciano@moz-3m8.304.142.200.IP)
[19:45:22] *** Quits: grobinson (grobinson@moz-upe.5fr.90.208.IP) (Ping timeout: 121 seconds)
[19:45:40] *** Quits: lucianosousa (luciano@moz-3m8.304.142.200.IP) (Ping timeout: 121 seconds)
[19:45:41] *** lucianosousa_ is now known as lucianosousa
[19:46:18] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[19:48:58] *** Joins: lucianosousa_ (luciano@moz-3m8.304.142.200.IP)
[19:49:13] *** Quits: vpol (vpol@moz-gcb52h.static.zebra.lt) (Client exited)
[19:49:43] *** Quits: lucianosousa (luciano@moz-3m8.304.142.200.IP) (Ping timeout: 121 seconds)
[19:49:43] *** lucianosousa_ is now known as lucianosousa
[19:50:17] *** Joins: Shackra (Jorge@moz-7bh.ng6.177.186.IP)
[19:50:50] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[19:54:19] *** Joins: lucianosousa_ (luciano@moz-3m8.304.142.200.IP)
[19:55:36] *** Joins: Guest74 (textual@moz-il1.n6s.204.65.IP)
[19:55:46] *** Quits: lucianosousa (luciano@moz-3m8.304.142.200.IP) (Ping timeout: 121 seconds)
[19:55:48] *** Quits: kushal (kdas@moz-s3u5m7.202.sitibroadband.in) (Ping timeout: 121 seconds)
[19:57:01] *** Joins: Binero (quirkyclien@moz-91joat.69vi.s4ge.1810.2a02.IP)
[19:57:16] *** Joins: lucianosousa (luciano@moz-3m8.304.142.200.IP)
[19:57:22] <Binero> Hello - can someone remind me of the name of the crate that does program argument parsing? 
[19:57:28] *** Quits: Guest74 (textual@moz-il1.n6s.204.65.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:57:30] <panicbit> docopts
[19:57:31] <steveklabnik> getopts or docopts
[19:57:42] *** Quits: jcarpenter (jcarpenter@moz-o74ts0.rgd2.9kg1.0101.2620.IP) (Quit: Leaving...)
[19:57:49] *** Joins: kushal (kdas@moz-600.5af.142.202.IP)
[19:57:50] <Binero> ah, was it moved out of std? 
[19:57:59] *** Joins: bcasiello (Thunderbird@moz-tq6.nsv.22.72.IP)
[19:58:01] *** Joins: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com)
[19:58:05] <steveklabnik> yes
[19:58:12] <Binero> ahh
[19:58:14] <Binero> thanks :)
[19:58:16] <steveklabnik> we provide getopts as an official, external crate
[19:58:21] *** Quits: lucianosousa_ (luciano@moz-3m8.304.142.200.IP) (Ping timeout: 121 seconds)
[19:58:27] <steveklabnik> docopts has some extra conveniences
[19:58:28] <Binero> Haven't used docopts yet, but it seems way more popular
[19:58:40] <Binero> Seems more complicated though
[19:59:11] *** Joins: maugzoide (maugzoide@moz-ua3.1qv.43.177.IP)
[19:59:35] <woowe> What does pub struct OpenOpention(_); mean? I would expect, since it is a struct, to have fields in it.
[19:59:35] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[19:59:36] <panicbit> docotps has certainly more magic buitlin
[19:59:43] *** Quits: jedahan (jedahan@moz-58nkpr.biz.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:59:43] <ermund> looks like public type with private internal type is a bit stricter now.
[19:59:44] <panicbit> builtin*
[20:00:09] *** Joins: marcusklaas (marcus@moz-li2573.dynamic.upc.nl)
[20:00:16] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[20:00:36] <woowe> is it a struct that takes in whatever? Or a struct that doesn't have any fields to being with?
[20:00:50] <woowe> begin*
[20:01:06] <marcusklaas> My program is panicking on this line: https://github.com/rust-lang/rust/blob/master/src/libstd/sys/unix/fs2.rs#L80 when reading modified times of a bunch of files... Is this a bug in the stdlib?
[20:01:19] *** Quits: mahdi (mahdi@moz-p65.u27.244.151.IP) (Quit: Leaving)
[20:01:32] *** Joins: mahdi (mahdi@moz-p65.u27.244.151.IP)
[20:01:44] <steveklabnik> woowe: the struct is pub, but the fields are not
[20:02:54] <marcusklaas> There is no code to deal with modified times > u64::MAX / 1000 it seems..
[20:02:58] <Binero> does docopts allow for setting defaults? 
[20:03:06] <woowe> ohh, so the OpenOptions::new().append(true) changes one of the private append field to true
[20:03:09] *** Joins: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[20:03:11] <marcusklaas> Binero: yes
[20:03:22] <steveklabnik> woowe: well, that's a possible implementation, yes ;)
[20:03:26] *** Quits: mahdi (mahdi@moz-p65.u27.244.151.IP) (Quit: Leaving)
[20:03:30] *** Joins: claudiu (claudiu@moz-3ej.9o0.201.199.IP)
[20:03:31] <woowe> Lol
[20:03:38] *** Joins: mahdi (mahdi@moz-p65.u27.244.151.IP)
[20:03:40] <marcusklaas> Binero: from the docs: --speed=<kn>  Speed in knots [default: 10].
[20:03:44] <steveklabnik> woowe: it's the builder pattern
[20:03:56] <woowe> What is that?
[20:04:07] *** Joins: lucianosousa_ (luciano@moz-3m8.304.142.200.IP)
[20:04:34] <steveklabnik> http://en.wikipedia.org/wiki/Builder_pattern
[20:04:40] <Binero> o.o it doesn't explain that in the docs for me
[20:04:46] <steveklabnik> also http://doc.rust-lang.org/nightly/book/method-syntax.html#builder-pattern
[20:04:54] <Binero> ohh sorry in the readme it does, nvm :p
[20:05:03] *** Quits: mahdi (mahdi@moz-p65.u27.244.151.IP) (Quit: Leaving)
[20:05:16] *** Joins: mahdi (mahdi@moz-p65.u27.244.151.IP)
[20:05:23] *** Quits: lucianosousa (luciano@moz-3m8.304.142.200.IP) (Ping timeout: 121 seconds)
[20:05:23] *** lucianosousa_ is now known as lucianosousa
[20:06:28] <woowe> So is it a glorified constructor?
[20:06:49] <steveklabnik> thats one way of looking at it :)
[20:07:08] <woowe> Lol, thank you again steveklabnik 
[20:07:27] <GaryOak_> and you can only override the defaults you need
[20:07:43] *** Quits: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl) (Quit: Winners never quit.)
[20:07:50] *** AutomatedTester|AFK is now known as AutomatedTester
[20:08:01] *** Joins: lucianosousa_ (luciano@moz-3m8.304.142.200.IP)
[20:09:18] *** Joins: cjh (chris@moz-mauc24.net.nz)
[20:09:25] *** Quits: lucianosousa (luciano@moz-3m8.304.142.200.IP) (Ping timeout: 121 seconds)
[20:09:35] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[20:09:35] *** ChanServ sets mode: +ao brson brson
[20:10:39] *** Joins: lucianosousa (luciano@moz-3m8.304.142.200.IP)
[20:11:36] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Ping timeout: 121 seconds)
[20:11:40] *** Joins: psd (psd@moz-acc.mpg.78.202.IP)
[20:11:57] *** Quits: xcombelle (xcombelle@moz-6qp46t.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[20:11:59] *** chmanchester is now known as chmanchester|lunch
[20:12:05] *** Quits: lucianosousa_ (luciano@moz-3m8.304.142.200.IP) (Ping timeout: 121 seconds)
[20:12:32] *** Joins: amro (amro@moz-tn1.okp.239.80.IP)
[20:15:03] *** Joins: Tobba|Laptop (Tobba@moz-o13d22.bredband.telia.com)
[20:15:05] *** Quits: amyers (amyers@moz-om8.mme.177.128.IP) (Ping timeout: 121 seconds)
[20:15:08] *** Joins: gonzaloserrano (Adium@moz-4n3.ohp.231.77.IP)
[20:15:28] *** Joins: lucianosousa_ (luciano@moz-3m8.304.142.200.IP)
[20:15:41] *** Joins: Guest74 (textual@moz-il1.n6s.204.65.IP)
[20:16:06] *** Joins: nil (nil@moz-4ahbc4.p5sj.b1d9.0003.2601.IP)
[20:16:13] *** Quits: lucianosousa_ (luciano@moz-3m8.304.142.200.IP) (Client exited)
[20:16:34] *** Quits: forgottenone (forgottenon@moz-vv6.q7i.45.92.IP) (Quit: Konversation terminated!)
[20:16:44] *** Quits: lucianosousa (luciano@moz-3m8.304.142.200.IP) (Ping timeout: 121 seconds)
[20:16:54] *** Quits: SpaceWizard (RJones@moz-anbpsl.east.myfairpoint.net) (Ping timeout: 121 seconds)
[20:17:27] *** Joins: hoverbear (hoverbear@moz-a97.b2m.54.96.IP)
[20:17:52] *** Joins: lucianosousa (luciano@moz-3m8.304.142.200.IP)
[20:19:06] *** Quits: Tobba|Laptop (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[20:20:41] *** Joins: lucianosousa_ (luciano@moz-3m8.304.142.200.IP)
[20:21:57] *** Quits: lucianosousa (luciano@moz-3m8.304.142.200.IP) (Ping timeout: 121 seconds)
[20:22:03] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:23:19] *** Joins: lucianosousa (luciano@moz-3m8.304.142.200.IP)
[20:23:25] *** Quits: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp) (Quit: )
[20:23:33] *** Quits: avikpal (avikpal@moz-aar.0pm.194.117.IP) (Ping timeout: 121 seconds)
[20:23:57] *** Quits: kushal (kdas@moz-600.5af.142.202.IP) (Quit: Leaving)
[20:24:38] *** Joins: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca)
[20:24:45] *** Quits: lucianosousa_ (luciano@moz-3m8.304.142.200.IP) (Ping timeout: 121 seconds)
[20:25:23] <Binero> docopts is panicing saying "I don't know how to read into a nil value" - what does that mean? 
[20:25:30] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Quit: Leaving)
[20:25:58] <nil> don't look at me, it wasn't my fault!
[20:26:13] <Binero> XD, accidentally pinged you there :p
[20:26:42] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[20:26:43] *** Quits: cakecatz (cakecatz@moz-2r5hfh.sannet.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:27:29] *** Joins: mjboa (mike@moz-n5270k.dip0.t-ipconnect.de)
[20:27:35] *** Joins: qard (qard@moz-nekdha.vc.shawcable.net)
[20:27:37] <Binero> ah it's a known bug, ah well
[20:28:04] *** Joins: psd_ (psd@moz-acc.mpg.78.202.IP)
[20:29:56] *** Joins: Skyler (Skyler@moz-e93b35.sd.cox.net)
[20:30:10] *** Quits: palodequeso (quassel@moz-ebjt83.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[20:30:18] *** Joins: lucianosousa_ (luciano@moz-3m8.304.142.200.IP)
[20:31:03] *** Joins: belak (belak@moz-spf415.static.wiline.com)
[20:31:26] *** Quits: lucianosousa (luciano@moz-3m8.304.142.200.IP) (Ping timeout: 121 seconds)
[20:31:26] *** lucianosousa_ is now known as lucianosousa
[20:32:22] *** Joins: mindtree (Mitch@moz-ei5l80.iprimus.net.au)
[20:32:28] *** Quits: io2 (io2@moz-fphcqm.home.otenet.gr) (Ping timeout: 121 seconds)
[20:33:10] *** Quits: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP) (Connection closed)
[20:33:21] *** Joins: errordeveloper (ilya@moz-g0i.mtf.125.2.IP)
[20:33:24] *** Quits: Guest74 (textual@moz-il1.n6s.204.65.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:33:33] *** Quits: amro (amro@moz-tn1.okp.239.80.IP) (Ping timeout: 121 seconds)
[20:33:51] *** chmanchester|lunch is now known as chmanchester
[20:33:52] *** Quits: frogmella (Mibbit@moz-ccurhg.enscp.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[20:34:29] *** Joins: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP)
[20:35:13] *** Joins: Izacht13 (Izacht13@moz-5tc3lv.atsnmeam.ccmaine.net)
[20:35:16] *** Quits: nodweber_ (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[20:35:35] *** Quits: psd (psd@moz-acc.mpg.78.202.IP) (Ping timeout: 121 seconds)
[20:35:46] *** Quits: grobinso_ (grobinson@moz-upe.5fr.90.208.IP) (Connection closed)
[20:35:54] *** Joins: lov2cod (Adium@moz-balbsm.eodv.k60l.0119.2620.IP)
[20:35:58] *** Quits: psd_ (psd@moz-acc.mpg.78.202.IP) (Ping timeout: 121 seconds)
[20:36:12] *** Joins: grobinson (grobinson@moz-upe.5fr.90.208.IP)
[20:36:31] *** Quits: mindtree (Mitch@moz-ei5l80.iprimus.net.au) (Ping timeout: 121 seconds)
[20:37:27] *** Joins: grobinso_ (grobinson@moz-upe.5fr.90.208.IP)
[20:37:48] <Binero> How would I read a value like a u8 from a docopt Args struct? 
[20:38:05] <Binero> Seems like it only supplies get_{bool, count, str, vec)
[20:39:06] *** Quits: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca) (Connection closed)
[20:40:05] *** Joins: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca)
[20:40:18] *** Joins: lucianosousa_ (luciano@moz-3m8.304.142.200.IP)
[20:40:20] *** Quits: grobinson (grobinson@moz-upe.5fr.90.208.IP) (Ping timeout: 121 seconds)
[20:40:30] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[20:40:43] *** Quits: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca) (Connection closed)
[20:40:59] *** Joins: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca)
[20:41:31] *** Quits: lucianosousa (luciano@moz-3m8.304.142.200.IP) (Ping timeout: 121 seconds)
[20:41:31] *** lucianosousa_ is now known as lucianosousa
[20:41:39] *** Quits: grobinso_ (grobinson@moz-upe.5fr.90.208.IP) (Ping timeout: 121 seconds)
[20:42:10] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[20:42:25] *** Quits: Izacht13 (Izacht13@moz-5tc3lv.atsnmeam.ccmaine.net) (Quit: Leaving)
[20:42:47] <ermund> I'm getting an ICE when I use an Enum as the value in a HashSet, specifically when I call `contains()`
[20:43:07] <steveklabnik> Binero: you'd take a str and call parse() on it
[20:43:09] <frewsxcv> ermund: paste your code and/or error
[20:43:21] *** Quits: joel2 (joel@moz-6ampnk.gtri.gatech.edu) (Ping timeout: 121 seconds)
[20:43:25] <frewsxcv> http://gist.github.com
[20:43:25] <steveklabnik> playbot: "5".parse::<u8>()
[20:43:26] -playbot- Ok(5)
[20:43:41] <steveklabnik> playbot: let x: u8 = "5".parse().unwrap();
[20:43:43] -playbot- ()
[20:43:45] *** Quits: jonalmeida (jonalmeida@moz-5j8.kvb.131.104.IP) (Connection closed)
[20:43:45] <steveklabnik> playbot: let x: u8 = "5".parse().unwrap(); x
[20:43:46] -playbot- 5
[20:43:49] <steveklabnik> Binero: ^
[20:44:05] <Binero> steveklabnik,  nah, I just read the value directly from the structure
[20:44:08] <Binero> :p
[20:44:10] <Binero> thanks though
[20:44:11] *** Joins: jonalmeida (jonalmeida@moz-5j8.kvb.131.104.IP)
[20:44:12] <talchas> let x: u8 = "500".parse().unwrap(); x
[20:44:17] <talchas> playbot: let x: u8 = "500".parse().unwrap(); x
[20:44:19] -playbot- output truncated; full output at: http://bit.ly/1EEPrU5
[20:44:27] <ermund> frewsxcv: I can't seem to recreate it in a small example, and the error is the standard "this is a bug". Stacktrace -> https://pastebin.mozilla.org/8826970
[20:44:42] <Binero> What's the preferred syntax in Rust for a repetitive action? Say I want to loop 500 times, but I don't care about what sequence I am in atm? 
[20:44:52] <Binero> I would do for i in (0..500) but I don't need the i
[20:44:56] <steveklabnik> for _ in (
[20:45:00] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[20:45:02] <Binero> aha makes sense :p
[20:45:08] *** Quits: twipeD (wipeD@moz-mf8dp8.dip0.t-ipconnect.de) (Connection closed)
[20:45:15] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[20:45:17] <Binero> was hoping for something functionally looking though XD
[20:45:19] *** Quits: woowe (Mibbit@moz-j1ml8o.wi.charter.com) (Quit: http://www.mibbit.com ajax IRC Client)
[20:45:24] <steveklabnik> nope, that's what for is for
[20:45:36] <steveklabnik> we decided against adding an iterator liek this
[20:45:39] *** Quits: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com) (Ping timeout: 121 seconds)
[20:46:10] *** Quits: sayan (sayan@moz-ip8.595.51.106.IP) (Ping timeout: 121 seconds)
[20:46:11] <talchas> I mean, there's like 1..500.iter().map(|_| foo).collect::<Vec<()>>(), but that's kinda silly
[20:46:13] <steveklabnik> (I woulda liked that too)
[20:46:29] <Binero> talchas, haha, yeah :p
[20:46:29] <frewsxcv> ermund: looks similar to https://github.com/rust-lang/rust/search?q=path+not+fully+resolved%3A+PathResolution&type=Issues&utf8=%E2%9C%93
[20:47:45] *** Quits: maugzoide (maugzoide@moz-ua3.1qv.43.177.IP) (Quit: (null))
[20:47:50] *** Joins: turtil (turtil@moz-gfc.es4.23.103.IP)
[20:48:28] *** Joins: amro (amro@moz-54kh7j.clq1.sjcg.02b0.2a01.IP)
[20:48:41] *** Joins: lucianosousa_ (luciano@moz-3m8.304.142.200.IP)
[20:48:55] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[20:49:34] *** Quits: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca) (Connection closed)
[20:49:35] *** Quits: lucianosousa (luciano@moz-3m8.304.142.200.IP) (Ping timeout: 121 seconds)
[20:49:35] *** lucianosousa_ is now known as lucianosousa
[20:50:05] *** Quits: matp (matp@moz-rvt9hl.matp.at) (Ping timeout: 121 seconds)
[20:50:06] *** Quits: JagaJaga (JagaJaga@moz-gd9.blu.205.109.IP) (Ping timeout: 121 seconds)
[20:50:18] *** Quits: lov2cod (Adium@moz-balbsm.eodv.k60l.0119.2620.IP) (Quit: Leaving.)
[20:50:18] *** Joins: coxg (sazzer@moz-1hq.kh5.32.217.IP)
[20:50:19] *** Quits: Guest__ (textual@moz-18t.4i4.229.203.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:51:19] <Binero> is there any libraries that allow to copy to clipboard on Unix? 
[20:51:27] <Binero> Guess that'd be X bindings, hmm
[20:51:34] <Binero> yeah nvm
[20:51:41] <Binero> user'll have to do piping, can't be assed binding to X
[20:51:43] *** Joins: psd (psd@moz-j7l.7nq.203.116.IP)
[20:52:11] *** Joins: psd_ (psd@moz-j7l.7nq.203.116.IP)
[20:53:19] <mcpherrin> Binero: you could shell out to xclip
[20:53:21] <flan3002> playbot: struct N; impl<A> std::iter::FromIterator<A> for N {fn from_iter<T:std::iter::IntoIterator>(i: T) -> N {for _ in i {}N}} (1..3).map(|_| println!("N!")).collect::<N>();
[20:53:22] -playbot- N!
[20:53:22] -playbot- N!
[20:53:22] -playbot- ()
[20:53:41] <mcpherrin> gross, but less gross than touching X :)
[20:53:48] *** Quits: nr152522 (nr152522@moz-d5te1r.cust.relish.net) (Ping timeout: 121 seconds)
[20:53:54] <ermund> frewsxcv: yep, good find
[20:54:08] <Binero> mcpherrin, Yeah, but the user'll have to pipe that
[20:54:15] <Binero> I don't like using commands inside an application
[20:54:21] <Binero> That's what libraries are for
[20:54:23] *** Joins: lucianosousa_ (luciano@moz-3m8.304.142.200.IP)
[20:54:30] *** Quits: coxg (sazzer@moz-1hq.kh5.32.217.IP) (Ping timeout: 121 seconds)
[20:54:34] <talchas> yeah, not touching X is a good plan for your sanity
[20:54:34] <Binero> Does panic! print to stderr or stdout? 
[20:55:07] *** Quits: alonlevy (alon@moz-4jqdpb.telavivmakers.org) (Ping timeout: 121 seconds)
[20:55:14] <talchas> I would guess stderr, but it's easy to check
[20:55:33] <mattico> I have a crate-level attribute in my root module, and rustc says:
[20:55:35] <mattico> src/kernel.rs:2:1: 2:12 warning: crate-level attribute should be in the root module, #[warn(unused_attributes)] on by default
[20:55:35] <mattico> src/kernel.rs:2 #![no_main]
[20:55:38] *** Quits: lucianosousa (luciano@moz-3m8.304.142.200.IP) (Ping timeout: 121 seconds)
[20:55:38] *** lucianosousa_ is now known as lucianosousa
[20:55:38] <mattico> ???
[20:55:50] *** Quits: jml (jml@moz-mqpurn.178.in-addr.arpa) (Ping timeout: 121 seconds)
[20:56:01] <mattico> path = "src/kernel.rs" in Cargo.toml
[20:56:11] *** Joins: nr152522 (nr152522@moz-d5te1r.cust.relish.net)
[20:56:23] *** Joins: lov2cod (Adium@moz-balbsm.eodv.k60l.0119.2620.IP)
[20:56:40] <Binero> ah, to stdout
[20:56:42] <Binero> which sucks 
[20:57:00] <Binero> If I want to be able to pipe I have to guarontee no junk gets printed to stdout 
[20:57:29] *** Quits: amro (amro@moz-54kh7j.clq1.sjcg.02b0.2a01.IP) (Ping timeout: 121 seconds)
[20:57:52] <talchas> Binero: it seems to be going to stderr for me
[20:58:41] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[20:58:42] *** Joins: ecogiko (ecogiko@moz-p59qrv.chello.nl)
[20:58:47] *** Joins: SpaceWizard (RJones@moz-anbpsl.east.myfairpoint.net)
[20:58:56] *** Joins: new_one (new_one@moz-6ns.3jm.42.128.IP)
[20:59:10] <marcusklaas> Binero: there is
[20:59:31] <marcusklaas> Binero: it basically just calls xclip though ;p
[20:59:32] *** Joins: jml (jml@moz-mqpurn.178.in-addr.arpa)
[20:59:48] <ecogiko> Hello! Is there an way of converting a u8 to a char/String? I needed to index a string and if the bytes match append the letter to a new string. I can't find something that can help me in the std. (I am still searching tho.)
[20:59:48] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[20:59:49] *** ChanServ sets mode: +o pnkfelix
[21:00:10] <marcusklaas> Binero: https://github.com/dmac/clipboard
[21:00:20] <marcusklaas> it only works for linux atm I believe..
[21:00:43] <Binero> ah
[21:00:46] *** Quits: andre_ (andre@moz-rnd.3qv.76.201.IP) (Quit: leaving)
[21:00:48] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[21:01:06] <Binero> panic! doesn't seem to do anything but print a message
[21:01:10] <Binero> doesn't even set exit code etc
[21:01:16] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[21:03:14] <talchas> I'm getting error code 101 for me
[21:03:40] <talchas> I'm running a couple weeks old of a nightly, but I wouldn't expect that to change
[21:04:00] *** Joins: lucianosousa_ (luciano@moz-3m8.304.142.200.IP)
[21:04:09] <Binero> Panic also overwrites any exit code previously se
[21:04:10] *** Quits: khades (Thunderbird@moz-08k.3vk.74.212.IP) (Client exited)
[21:04:11] <steveklabnik> ecogiko: yes!
[21:04:13] <Binero> *set
[21:04:15] <Binero> that's dull
[21:04:20] <Binero> Anyone aware of any workarounds? 
[21:04:21] <steveklabnik> playbot: let x = 5u8; x.to_string()
[21:04:23] -playbot- "5"
[21:04:29] <steveklabnik> ecogiko: ^
[21:04:50] <ecogiko> steveklabnik: Weird, I tried that. Hmm. I will see what the type are saying more carefully.
[21:05:07] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[21:05:07] *** ChanServ sets mode: +ao pcwalton pcwalton
[21:05:09] *** Joins: khades (Thunderbird@moz-08k.3vk.74.212.IP)
[21:05:46] *** Quits: lucianosousa (luciano@moz-3m8.304.142.200.IP) (Ping timeout: 121 seconds)
[21:05:46] *** lucianosousa_ is now known as lucianosousa
[21:06:13] <Binero> ah no it doesn't
[21:06:14] <Binero> nvm :p
[21:06:34] *** Joins: amro (amro@moz-cinrhk.clq1.sjcg.02b0.2a01.IP)
[21:07:26] *** Quits: tomleb (Mibbit@moz-7n1.40h.168.198.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:07:30] *** Joins: io2 (io2@moz-fphcqm.home.otenet.gr)
[21:07:32] *** Quits: kamilc__ (kamil@moz-dpiiud.play-internet.pl) (Quit: Linkinus - http://linkinus.com)
[21:07:38] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[21:07:51] *** Quits: jfbk (textual@moz-jhq.pkh.105.38.IP) (Quit: )
[21:08:27] *** Joins: grobinson (grobinson@moz-upe.5fr.90.208.IP)
[21:10:35] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[21:10:40] *** Joins: lucianosousa_ (luciano@moz-3m8.304.142.200.IP)
[21:10:44] *** Quits: mahdi (mahdi@moz-p65.u27.244.151.IP) (Quit: Leaving)
[21:10:51] *** Quits: lov2cod (Adium@moz-balbsm.eodv.k60l.0119.2620.IP) (Quit: Leaving.)
[21:11:05] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[21:11:07] *** Quits: futile (felix@moz-5kl.840.188.178.IP) (Quit: WeeChat 1.0-dev)
[21:11:30] <burntsushi> Binero: you still having problems with docopt?
[21:11:49] *** Quits: lucianosousa (luciano@moz-3m8.304.142.200.IP) (Ping timeout: 121 seconds)
[21:11:49] *** lucianosousa_ is now known as lucianosousa
[21:11:58] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[21:12:12] *** Quits: cursivecode (textual@moz-4u56i9.res.bhn.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:12:36] *** Quits: grobinson (grobinson@moz-upe.5fr.90.208.IP) (Ping timeout: 121 seconds)
[21:12:43] <burntsushi> Binero: i have to go AFK for a few minutes, but if you link me to your code with your problem, i can help when i get back.
[21:13:24] *** Joins: Slava_I_ (slava@moz-bld.aqc.216.178.IP)
[21:13:31] <Binero> No, I'm good :)
[21:13:53] *** Joins: jdm_ (jdm@moz-i5m.05u.207.66.IP)
[21:13:54] *** Quits: jdm_ (jdm@moz-i5m.05u.207.66.IP) (Connection closed)
[21:14:35] *** Joins: jedahan (jedahan@moz-ri0tv2.res.rr.com)
[21:16:00] *** Quits: Slava_I (slava@moz-tqc.eq9.215.95.IP) (Ping timeout: 121 seconds)
[21:16:29] *** Quits: jdm (jdm@moz-uoj6rj.ckpj.s0pt.0450.2001.IP) (Ping timeout: 121 seconds)
[21:16:46] *** Joins: maedhroz (maedhroz@moz-4jk5ho.res.rr.com)
[21:16:49] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[21:16:50] *** Joins: lucianosousa_ (luciano@moz-3m8.304.142.200.IP)
[21:17:13] *** Joins: kgrandon (Adium@moz-r2hvbm.ujol.1ibb.0101.2620.IP)
[21:17:38] *** Quits: jedahan (jedahan@moz-ri0tv2.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:17:53] *** Quits: lucianosousa (luciano@moz-3m8.304.142.200.IP) (Ping timeout: 121 seconds)
[21:17:54] *** lucianosousa_ is now known as lucianosousa
[21:18:00] *** Joins: Anupkumar (uid16774@moz-cf8smb.uxbridge.irccloud.com)
[21:18:39] *** Joins: ixti (ixti@moz-i3d.dae.119.188.IP)
[21:18:46] *** Quits: iiixtiii (ixti@moz-i3d.dae.119.188.IP) (Ping timeout: 121 seconds)
[21:18:58] *** Joins: tamird (textual@moz-qpq.2li.56.172.IP)
[21:19:06] *** Quits: ktakv (ktakv@moz-2igq4u.1984.is) (Ping timeout: 121 seconds)
[21:19:19] *** Quits: meh (meh@moz-u15r9i.42-151.net24.it) (Ping timeout: 121 seconds)
[21:19:40] <untitaker> Hello, I need a Vec<Box<T>>, but without making the non-T properties and methods inaccessible when getting an item from the vector. I know that I can use Vec<&T>, but then I have to own the actual values, which makes me have struct fields reference to other fields in the same struct.
[21:19:41] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[21:19:45] *** Quits: munksgaard (munksgaard@moz-33d.hq0.225.130.IP) (Ping timeout: 121 seconds)
[21:19:45] *** Quits: UberLambda (uber@moz-4u4.v1a.84.82.IP) (Quit: Leaving)
[21:20:02] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[21:20:06] <sinistersnare> untitaker: why do you need a Vec<Box<T>>? is T a trait?
[21:20:10] *** Quits: sargas (sargas@moz-863roc.hfc.comcastbusiness.net) (Quit: Leaving)
[21:20:12] <untitaker> sinistersnare: yes.
[21:20:16] *** Joins: ktakv (ktakv@moz-2igq4u.1984.is)
[21:20:44] <untitaker> So Vec<...> is actually a vector of heterogenous types, but all impl T.
[21:21:36] *** Quits: amro (amro@moz-cinrhk.clq1.sjcg.02b0.2a01.IP) (Ping timeout: 121 seconds)
[21:21:45] <sinistersnare> yeah... ¯\_(ツ)_/¯
[21:21:47] <steveklabnik> the non-T bits disapearing are inherent
[21:21:53] <untitaker> I guess the solution I'm seeking for is actually going in the direction of only storing references in the vector, but then I have serious issues with borrow semantics.
[21:21:54] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[21:22:07] <sinistersnare> if you need borrowing shit, look into RefCell maybe
[21:22:08] <steveklabnik> at least with trait objects
[21:22:16] <untitaker> Like, if I have a struct that contains the vector, and the objects the vector references.
[21:22:31] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[21:23:44] *** Joins: grobinson (grobinson@moz-upe.5fr.90.208.IP)
[21:23:44] *** Quits: tamird (textual@moz-qpq.2li.56.172.IP) (Ping timeout: 121 seconds)
[21:23:45] <mbrubeck> wouldn't Vec<&T> have the same problem, you can't access the non-T fields, since &T is a trait object?
[21:23:53] *** Joins: sargas (sargas@moz-863roc.hfc.comcastbusiness.net)
[21:24:24] *** Quits: belak (belak@moz-spf415.static.wiline.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:24:32] <dyoung> steveklabnik: you don't know if/when match statements will grok recursive data structures, do you?
[21:24:35] <untitaker> RefCell seems like it's against the whole point of the borrow checker
[21:24:44] *** Joins: lucianosousa_ (luciano@moz-3m8.304.142.200.IP)
[21:25:00] <sargas> when I dereference a Box<T> with the * operator, am I allocating the value on the stack?
[21:25:03] <dyoung> stuff like X(box Y(box Z), box Q(box R)) => ...
[21:25:06] <steveklabnik> dyoung: i don't know what you mean?
[21:25:18] <untitaker> mbrubeck: Probably not through that pointer?
[21:25:24] *** Joins: nr152522_ (nr152522@moz-d5te1r.cust.relish.net)
[21:25:49] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[21:25:57] *** Quits: lucianosousa (luciano@moz-3m8.304.142.200.IP) (Ping timeout: 121 seconds)
[21:25:57] *** lucianosousa_ is now known as lucianosousa
[21:26:02] <mbrubeck> untitaker: Yeah, RefCell gives up some static guarantees; it's only dynamically safe (because it panics on potentially unsafe access).
[21:26:17] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[21:26:19] <untitaker> yeah that's kinda lame, like Rc
[21:26:21] <steveklabnik> sargas: shouldnt just by *
[21:26:23] <reem> It won't make a difference
[21:26:27] *** Quits: nr152522 (nr152522@moz-d5te1r.cust.relish.net) (Ping timeout: 121 seconds)
[21:26:27] *** nr152522_ is now known as nr152522
[21:26:30] *** Joins: jshs (jshs@moz-4ubocv.dip0.t-ipconnect.de)
[21:26:37] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[21:26:38] <untitaker> reem: ?
[21:27:32] <reem> In general you can't do this
[21:28:08] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[21:28:08] <untitaker> So I can't have x: U and cast &x to &T without shitting over x?
[21:28:17] *** Joins: reem (reem@moz-4jmrjg.coob.q2h1.0009.2601.IP)
[21:28:31] *** Quits: ai (ai@moz-pqofrl.sunline.net.ua) (Quit: Leaving.)
[21:28:34] <untitaker> repeat for reem: So I can't have x: U and cast &x to &T without shitting over x?
[21:28:36] *** Joins: violaceae (violaceae@moz-9n4s22.u4is.n1v0.0007.2601.IP)
[21:28:41] <reem> Sorry my internet is the worst sometimes
[21:28:48] <Binero> Is there a println! alternative for stderr? 
[21:29:00] <untitaker> Binero: write! i think
[21:29:00] <reem> untitaker: Getting &x as &T only borrows x
[21:29:05] <bluss> writeln!() takes any Write as first argument
[21:29:09] <flan3002> reem - Get a bouncer, so you don't miss conversation. :P
[21:29:15] <sargas> steveklabnik: So if I bind `let myVar: i32 = * Box::new(5)` will myVar be in the stack on the heap?
[21:29:26] <Binero> ah and supply sterr to it, thanks
[21:29:43] <sargas> steveklabnik: (notice the use of * operator)
[21:29:47] <untitaker> reem: Ok then my assumptions have been correct and I don't know what you mean.
[21:29:48] *** Quits: jml (jml@moz-mqpurn.178.in-addr.arpa) (Ping timeout: 121 seconds)
[21:29:48] <steveklabnik> sargas: myVar (which should be my_var) will be on the stack
[21:29:53] <steveklabnik> but that's not because of the *
[21:30:01] <steveklabnik> that's because it's an i32, which is on the stack
[21:30:12] <bluss> Binero: you pass it a &mut Write value
[21:30:14] <reem> playbot: use std::fmt::Debug; let x = vec![1, 2]; println!("{:?}", &x as &Debug); x
[21:30:15] *** Quits: maedhroz (maedhroz@moz-4jk5ho.res.rr.com) (Connection closed)
[21:30:16] -playbot- [1, 2]
[21:30:16] -playbot- [1, 2]
[21:30:24] <reem> doesn't destroy x ^
[21:30:25] <steveklabnik> anywho i'm in a meeting, i'm gonna stop talking
[21:30:26] <dyoung> steveklabnik: to be more concrete, say you had a tree.  you want to perform a "rotation", ((x, y), z) -> (x, (y, z)).
[21:30:38] <sargas> steveklabnik: Thanks, that's what I was hoping to know. And forgive me for the poor style, I don't actually write vars/functions that way.
[21:30:46] <steveklabnik> sargas: its all good :)
[21:30:48] *** Joins: belak (belak@moz-spf415.static.wiline.com)
[21:30:57] <reem> sargas: *all* local variables are on the stack in rust
[21:30:59] <sargas> steveklabnik: indeed
[21:31:04] <untitaker> reem: ok and what were you referring to with "in general you can't do this"?
[21:31:19] <steveklabnik> dyoung: there's no current plans to enhance if or match, really. 
[21:31:20] <reem> untitaker: Store (and access as) heterogenous types in a homogenous structure.
[21:31:52] <untitaker> I don't really need to store, I'd be fine with Vec<&T> too, but then I have a struct reference itself.
[21:32:04] *** Joins: jml (jml@moz-mqpurn.178.in-addr.arpa)
[21:32:16] <untitaker> And it seems I need refcell for this then?
[21:32:28] <reem> It's not at all clear to me what Vec<&T> gives you or doesn't vs. Vec<Box<T>> in this context
[21:32:37] <reem> Vec<Box<T>> requires you to own the values
[21:32:52] <reem> Vec<&T> doesn't, you only own the reference, but that seems orthogonal to your problem here
[21:33:06] <reem> assuming you mean the same T is a trait in both
[21:33:11] <mbrubeck> reem, untitaker: You could use Box<Any>, or do something similar to Any::downcast_ref yourself: http://doc.rust-lang.org/src/core/any.rs.html#121-137
[21:33:12] <untitaker> reem: yeah and that's not really a requirement here. I'm currently figuring out whether my wrapper type over Vec<_> should own the T's.
[21:33:18] *** Joins: dpearson (Mibbit@moz-kfna9k.byod.gmu.edu)
[21:33:27] *** Joins: cptroot (Mibbit@moz-n169l8.caltech.edu)
[21:33:28] <untitaker> whatever pleases the compiler.
[21:33:29] *** Quits: dpearson (Mibbit@moz-kfna9k.byod.gmu.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[21:33:33] <reem> (btw it's usually convention to use Foo, Bar, or Trait for trait object types in examples, since it's easy to confuse single-letter type variables for generics.
[21:33:35] *** Quits: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[21:33:35] <reem> )
[21:33:39] <untitaker> oh ok
[21:33:48] <reem> mbrubeck: Ya I was gonna say Any is basically the only solution
[21:33:50] <mbrubeck> Or if you know all the types that may be in the structure, just write an enum with a variant for each type.
[21:34:05] <Binero> writeln!(io::stderr(), "blah blah"); gives me an error saying type Stderr cannot be dereferenced? 
[21:34:07] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[21:34:13] <reem> Binero: &mut io::stderr()
[21:34:21] *** Joins: jdm (jdm@moz-mu9.06r.98.75.IP)
[21:34:22] *** ChanServ sets mode: +o jdm
[21:34:26] <Binero> ah it takes a pointer I see
[21:34:33] <Binero> thanks reem
[21:34:38] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[21:34:39] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[21:34:42] <dyoung> steveklabnik: ok, thanks.
[21:34:54] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[21:35:00] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:35:34] *** Joins: starless (starless@moz-u9gmm1.res.rr.com)
[21:35:42] <Binero> what does "unused result which must be used" mean? 
[21:36:01] *** Joins: jviereck (Adium@moz-6r3950.dclient.hispeed.ch)
[21:36:05] <bluss> it's a warning on Result types
[21:36:12] <bluss> the return value from writeln! will give you that
[21:36:29] <bluss> Binero: it's a reminder that you should handle the possible I/O error
[21:36:32] <untitaker> Hmm, I think I'll avoid trying to "crack trait objects open" and instead make a Vec<&T>. I'll try to come up with some code where I hit my head atm
[21:36:33] <reem> writes could error, that warning tells you to not ignore the error
[21:36:34] <Binero> what if I don't care about the result? Anyway to ignore it without the flag? 
[21:36:44] <reem> unwrap it
[21:36:47] <Binero> aha
[21:36:52] <bluss> Binero: you can use .unwrap() and you'll have a panic at that point if it errors
[21:36:55] *** Quits: hoverbear (hoverbear@moz-a97.b2m.54.96.IP) (Quit: Time to hibernate.... ZzZz...)
[21:36:55] <reem> that will panic at runtime if there is a failure
[21:36:55] <mbrubeck> Binero: `let _ = ...`
[21:36:56] *** Joins: alonlevy (alon@moz-k82.2o3.159.94.IP)
[21:36:58] <Binero> wait no that might error 
[21:37:02] <Binero> hmm ok
[21:37:04] <Binero> I'll use let
[21:37:05] <reem> you can use let _  = if you actually don't care
[21:37:18] <bluss> well with .unwrap() an error won't pass silently
[21:37:30] <Binero> I would care, but if writing to stdio fails, there is not much that can be done
[21:37:33] *** Quits: tjr_ (trevor.rile@moz-8jj.an9.222.162.IP) (Ping timeout: 121 seconds)
[21:37:34] <reem> bluss: Right, but you might not actually care if the write succeeded, just that you gave a best effort.
[21:37:39] <untitaker> then you should panic
[21:37:40] *** Joins: cursivecode (textual@moz-4u56i9.res.bhn.net)
[21:37:44] <Binero> bluss, well it would, because there is no way for rust to pass the error :p
[21:38:01] *** Joins: maraoz_ (maraoz@moz-78f.4dq.95.181.IP)
[21:38:09] <bluss> Binero: it would panic
[21:38:24] <Binero> but that'd try to write to stdio
[21:38:25] *** Quits: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP) (Ping timeout: 121 seconds)
[21:38:26] <Binero> which would fail
[21:38:46] *** Joins: zzing (textual@moz-cfdo15.uwindsor.ca)
[21:38:54] <bluss> well for stderr in particular, I guess you're right
[21:38:57] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (Quit: Leaving...)
[21:39:07] <Binero> Yeah, I'm writing to stderr
[21:39:13] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[21:39:22] <untitaker> Binero: let _ = will continue your operations, while you might want to abort the program instead.
[21:39:32] <Binero> the program will be aborted next line anyway 
[21:39:39] <Binero> I'm printing an error message :p
[21:39:41] <bluss> it's I/O after all, you can't trust it. Anything can happen, including error with miraculous recovery :)
[21:39:49] *** Quits: mmalecki (maciej@moz-csrpuh.mmalecki.com) (Quit: leaving)
[21:39:51] *** Joins: mmalecki (maciej@moz-csrpuh.mmalecki.com)
[21:39:51] *** Joins: e_svedang (e_svedang@moz-p1r4ve.bredband.comhem.se)
[21:39:55] *** Quits: mmalecki (maciej@moz-csrpuh.mmalecki.com) (Quit: leaving)
[21:40:00] *** Joins: mmalecki (maciej@moz-csrpuh.mmalecki.com)
[21:40:10] <untitaker> oh yeah you write to stderr, duh
[21:40:24] <Binero> Actually, I'll use panic, because that means there was a critical error in the program and that's what panic is for
[21:40:26] *** Quits: cptroot (Mibbit@moz-n169l8.caltech.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[21:40:41] <Binero> even though it'll probably fail as well
[21:40:43] <bluss> what do you think about using .ok() to silence warnings like that? It's kind of too cute
[21:40:54] <bluss> write!(w, "..").ok();
[21:41:00] <Binero> wouldn't that give me unused variable too? :p
[21:41:35] <untitaker> drop(write!(...)) :P
[21:42:00] <sargas> This line of code: `let ref_x = &5;` means I get a reference to i32: 5, but its value isn't bound to any variable, right?
[21:42:04] <Binero> ok() works yeah 
[21:42:05] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[21:42:16] <sargas> I'm new to systems languages, and Rust
[21:42:28] *** Joins: hoverbear (hoverbear@moz-a97.b2m.54.96.IP)
[21:42:33] *** Quits: SpaceWizard (RJones@moz-anbpsl.east.myfairpoint.net) (Ping timeout: 121 seconds)
[21:42:35] <untitaker> playbot: let ref_x = &5;
[21:42:36] -playbot- ()
[21:42:41] <untitaker> huh, that works oO
[21:42:42] <mbrubeck> bluss: I agree with "too cute"
[21:42:43] <bluss> sargas: right
[21:42:54] <mbrubeck> bluss: I think `let _` makes it more explicit that something is being ignored.
[21:42:54] <untitaker> I thought it'd complain due to lifetimes
[21:42:55] <bluss> mbrubeck: yeah.. :(
[21:43:01] <sinistersnare> playbot: let ref x = &5; x
[21:43:02] -playbot- <anon>:14:22: 14:23 error: borrowed value does not live long enough
[21:43:02] -playbot- <anon>:14         let ref x = &5; x
[21:43:02] -playbot- output truncated; full output at: http://bit.ly/1BiCMW0
[21:43:07] <untitaker> oh
[21:43:09] <reem> sargas: That desugars to let _x = 5; let ref_x = &_x;
[21:43:16] *** Quits: alhof (dylan@moz-a2i.6j4.9.153.IP) (Ping timeout: 121 seconds)
[21:43:17] *** Quits: dylan_ (dylan@moz-a2i.6j4.9.153.IP) (Ping timeout: 121 seconds)
[21:43:32] <panicbit> playbot: let ref x: i32 = 5; let y: &i32 = x; x
[21:43:33] -playbot- <anon>:14:13: 14:18 error: borrowed value does not live long enough
[21:43:34] -playbot- <anon>:14         let ref x: i32 = 5; let y: &i32 = x; x
[21:43:34] -playbot- output truncated; full output at: http://bit.ly/1OxSGEW
[21:43:35] *** Joins: SpaceWizard (RJones@moz-anbpsl.east.myfairpoint.net)
[21:43:47] <panicbit> :|
[21:44:05] <sargas> reem: So do I have have access to `_x` within its scope?
[21:44:36] <sargas> reem: meaning, I actually have a binding?
[21:44:38] <untitaker> sargas: no, but it has to still exist in some active scope.
[21:44:46] <reem> sargas: No, _x is a compiler generated invisible variable in this case
[21:45:03] <reem> sargas: The fact that _x is ref_x with the ref cut off is coincidence
[21:45:07] <sargas> reem, untitaker: Thanks
[21:45:18] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Connection closed)
[21:45:57] <Binero> Well, thanks for your help all! 
[21:45:58] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[21:46:02] <Binero> I'm out for today! :)
[21:46:04] *** Quits: Binero (quirkyclien@moz-91joat.69vi.s4ge.1810.2a02.IP) (Quit: Enough vacation-project testing for now!)
[21:46:21] <bluss> you can do a similar thing in C (C99) like this: int *x = &(int){5};   // take the address of an anonymous temporary with stack scope
[21:46:35] <bluss> but no borrow checking 
[21:48:34] *** Quits: dawehner (quassel@moz-6aq1ua.hsi7.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 210 seconds.)
[21:48:37] <sargas> bluss: "but no borrow checking" one of the reasons why I'm trying Rust
[21:48:42] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[21:48:53] <reem> The rust version is checked
[21:49:00] *** Joins: lucianosousa_ (luciano@moz-3m8.304.142.200.IP)
[21:49:11] *** Quits: Guest40 (textual@moz-5bku1g.chello.nl) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:49:49] *** Joins: dawehner (quassel@moz-6aq1ua.hsi7.kabel-badenwuerttemberg.de)
[21:49:52] *** Joins: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca)
[21:49:54] *** Joins: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl)
[21:49:56] *** Joins: omissis (omissis@moz-s5d.c01.90.95.IP)
[21:50:03] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[21:50:11] *** Quits: lucianosousa (luciano@moz-3m8.304.142.200.IP) (Ping timeout: 121 seconds)
[21:50:12] *** lucianosousa_ is now known as lucianosousa
[21:50:59] <kmcguire> does rust std lib have anything for stuff like a task loop with tasks needing to call yield
[21:51:08] <kmcguire> ? or maybe a 3rd party library
[21:51:23] <steveklabnik> kmcguire: taskpool
[21:51:29] <steveklabnik> it's a rust-lang crate
[21:51:30] <kmcguire> ok let me check it out
[21:51:44] <steveklabnik> at least, i think that's what you want
[21:51:49] <steveklabnik> it might not be
[21:53:22] <kmcguire> yes like that but was wanting something that was cooperative
[21:53:22] <huon> I don't think task pool offers yield
[21:53:38] <kmcguire> yes task pool is preemptive
[21:53:49] *** Joins: lov2cod (Adium@moz-40l.ob1.22.8.IP)
[21:53:58] *** Quits: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca) (Ping timeout: 121 seconds)
[21:54:08] *** Quits: lov2cod (Adium@moz-40l.ob1.22.8.IP) (Quit: Leaving.)
[21:54:27] *** Joins: kiwnix (egarcia@moz-r7afvo.ipv6.he.net)
[21:54:28] *** Quits: jkerim (jkerim@moz-i5m.05u.207.66.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:54:32] *** Joins: lucianosousa_ (luciano@moz-3m8.304.142.200.IP)
[21:55:11] <reem> kmcguire: What would be your desired behavior from yielding to a task pool?
[21:55:16] <reem> Just run another task until it yields?
[21:55:16] *** Quits: nicoch (nicoch@moz-g02d7k.be) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:55:19] <kmcguire> yea
[21:55:28] <reem> just register a new task and return
[21:55:39] *** Quits: evanfarrar (evanfarrar@moz-7vs.bl6.251.207.IP) (Connection closed)
[21:55:45] <reem> where the new task is the remainder of the current task
[21:55:45] <kmcguire> but i dont want yield to end the task
[21:56:00] *** Joins: evanfarrar (evanfarrar@moz-7vs.bl6.251.207.IP)
[21:56:03] <kmcguire> like loop { /* do something */ yeild() }
[21:56:10] <kmcguire> and another task doing the same
[21:56:15] *** Quits: lucianosousa (luciano@moz-3m8.304.142.200.IP) (Ping timeout: 121 seconds)
[21:56:15] *** lucianosousa_ is now known as lucianosousa
[21:56:25] <reem> so yield blocks the current thread while another task runs?
[21:56:28] <kmcguire> yes
[21:56:31] <Dabo> hi
[21:56:37] *** Quits: lucianosousa (luciano@moz-3m8.304.142.200.IP) (Client exited)
[21:56:38] <Dabo> gah, wrong channel! sorry
[21:56:42] <kmcguire> reem, hmm u give me idea
[21:56:43] *** Quits: cryptoju_ (cryptojuice@moz-pc2dp8.fios.verizon.net) (Connection closed)
[21:56:44] *** Joins: njn (chatzilla@moz-mv909v.iinet.net.au)
[21:57:03] <kmcguire> well, if i go the route im thinking i might as well just let each thread run
[21:57:18] *** Joins: lov2cod (Adium@moz-40l.ob1.22.8.IP)
[21:57:32] <kmcguire> let me rethink my goals
[21:58:05] *** Quits: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de) (Connection closed)
[21:58:17] <kmcguire> first i want to spawn off a bunch of little tasks so i dont want a long startup.. TaskPool might be a good choice there
[21:58:19] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Connection closed)
[21:58:25] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[21:58:25] *** ChanServ sets mode: +ao pcwalton pcwalton
[21:58:36] *** Joins: munksgaard (munksgaard@moz-33d.hq0.225.130.IP)
[21:59:36] <reem> Just break that loop into registering a bunch of tasks
[21:59:54] *** Quits: pauls_ (paul@moz-uq0v7s.cable.rcn.com) (Ping timeout: 121 seconds)
[22:00:02] *** Quits: evanfarrar (evanfarrar@moz-7vs.bl6.251.207.IP) (Ping timeout: 121 seconds)
[22:00:03] <reem> a userland cooperative thread pool feels like it's just layering a scheduler on top of a scheduler
[22:00:06] *** Quits: awgross (Adium@moz-p4j.th9.86.207.IP) (Quit: Leaving.)
[22:01:20] *** Quits: azar77 (azar77@moz-73s.777.246.46.IP) (Ping timeout: 121 seconds)
[22:01:36] *** Joins: bkearns (Adium@moz-rudtng.static.wiline.com)
[22:01:46] *** Quits: kgrandon (Adium@moz-r2hvbm.ujol.1ibb.0101.2620.IP) (Connection closed)
[22:01:52] *** Joins: kgrandon (Adium@moz-cfhap5.mtv2.mozilla.com)
[22:02:40] <kmcguire> well in my head i could see a potential performance benefit from using a yield() call if the caller saved all needed registers verus a userland scheduler just saving all registers
[22:02:45] *** Quits: munksgaard (munksgaard@moz-33d.hq0.225.130.IP) (Ping timeout: 121 seconds)
[22:03:03] *** Joins: rustyrazorblade (jhaddad@moz-ehrfqf.fios.verizon.net)
[22:04:53] <kmcguire> all/only
[22:05:26] <eddyb> kmcguire: reminds me of nathan7's custom register saving
[22:05:48] *** Quits: violaceae (violaceae@moz-9n4s22.u4is.n1v0.0007.2601.IP) (Quit: Leaving)
[22:06:10] *** Joins: tamird (textual@moz-vfjrcq.ca.comcast.net)
[22:06:16] <kmcguire> well, i could hack it together, but id just have to dump _all_ registers in the yield function
[22:06:23] <kmcguire> dump/save
[22:06:58] *** Quits: colinsurprenant (colin@moz-rmn4e2.169.electronicbox.net) (Client exited)
[22:07:04] *** Quits: Lilly (Lilly@moz-ca683g.bredband.comhem.se) (Quit: bajs)
[22:07:07] <reem> kmcguire: The thing is that your thread pool needs to have a scheduler to deal with deciding when to resume yielded tasks
[22:07:31] <kmcguire> i was thinking just a round-robin maybe
[22:07:37] <kmcguire> no sleep support
[22:07:38] <sargas> how do I box an i64, or i8, for example?
[22:07:39] <reem> e.g. what happens if task1 yields, then task2 starts and yields, then task3 starts and finishes. Does task2 resume or task1? What if there are thousands of tasks involved in this chain?
[22:08:22] *** Joins: azar77 (azar77@moz-7gd.ei8.246.46.IP)
[22:08:59] *** Quits: cursivecode (textual@moz-4u56i9.res.bhn.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:09:41] <GaryOak_> isn't that what a scheduler is for?
[22:09:51] *** Quits: dawidc__ (dpc@moz-52v2l7.nvidia.com) (Connection closed)
[22:09:54] <reem> fundamentally you're also missing the piece that makes green threading good, which is the ability to move a yielded task from one thread to another and resume it there.
[22:10:51] <kmcguire> depends on the goals
[22:10:55] *** Joins: Slava_I (slava@moz-dkl.0rf.216.178.IP)
[22:10:56] *** Joins: nef (androirc@moz-0altb2.range81-132.btcentralplus.com)
[22:11:05] *** Quits: spider-mario (spidermario@moz-meu9c6.wb.wifirst.net) (A TLS packet with unexpected length was received.)
[22:11:17] <kmcguire> reem, sounds more complicated than i desire, lol
[22:11:36] *** Joins: VoxWave (bavi@moz-6l6mf3.cs.helsinki.fi)
[22:12:02] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:12:45] *** Joins: Guest40 (textual@moz-5bku1g.chello.nl)
[22:13:05] *** Joins: meh (meh@moz-u15r9i.42-151.net24.it)
[22:13:11] *** Joins: jdm_ (jdm@moz-mu9.06r.98.75.IP)
[22:13:18] *** Quits: loyd (loyd@moz-uft.32f.108.213.IP) (Ping timeout: 121 seconds)
[22:13:21] *** Quits: jdm (jdm@moz-mu9.06r.98.75.IP) (Connection closed)
[22:13:36] *** Quits: Slava_I_ (slava@moz-bld.aqc.216.178.IP) (Ping timeout: 121 seconds)
[22:14:09] *** Joins: nicoch (nicoch@moz-g02d7k.be)
[22:14:48] *** Joins: Nero (alex@moz-5ua.tom.55.45.IP)
[22:15:44] *** Quits: bkearns (Adium@moz-rudtng.static.wiline.com) (Ping timeout: 121 seconds)
[22:16:17] <kmcguire> what i was looking to do was make coding for async events easier 
[22:16:34] <kmcguire> but i did not fully realize how much i was walking into the whole "green threads" thing
[22:16:45] *** Quits: FrozenCow (FrozenCow@moz-i2tvv4.chello.nl) (Connection closed)
[22:16:56] <kmcguire> so ignore my ramblings lol
[22:17:06] <kmcguire> im just a mad man on the inside hehe
[22:17:21] *** Quits: Guest40 (textual@moz-5bku1g.chello.nl) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:17:21] *** Quits: essem2 (Thunderbird@moz-f9p.4ol.7.74.IP) (Client exited)
[22:18:35] *** Joins: Guest40 (textual@moz-5bku1g.chello.nl)
[22:18:45] *** Quits: new_one (new_one@moz-6ns.3jm.42.128.IP) (Quit: WeeChat 1.1.1)
[22:19:56] *** Quits: Guest40 (textual@moz-5bku1g.chello.nl) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:20:00] *** Quits: dschatzberg (dschatz@moz-f4a40c.bu.edu) (Ping timeout: 121 seconds)
[22:20:11] *** Joins: Guest40 (textual@moz-5bku1g.chello.nl)
[22:21:29] *** Quits: Guest40 (textual@moz-5bku1g.chello.nl) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:21:58] *** Joins: ELD (textual@moz-mqboa7.co.comcast.net)
[22:21:59] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.3.92.1)
[22:22:29] *** Quits: jml (jml@moz-mqpurn.178.in-addr.arpa) (Ping timeout: 121 seconds)
[22:22:34] *** Joins: jnicklas_ (jonasnickla@moz-0ou5lc.bredband.comhem.se)
[22:22:52] *** Joins: psd__ (psd@moz-j7l.7nq.203.116.IP)
[22:23:22] *** Quits: Hail_Spacecake (greg@moz-djc.ktt.28.204.IP) (Quit: leaving)
[22:23:26] <reem> kmcguire: green threading *is* a good solution to making async io work from an ergonomic perspective, it's just not as performant as other approaches since there is more overhead due to the scheduler and the work you need to do be able to move tasks
[22:23:33] <huon> reem: thoughts https://github.com/reem/rust-lazy/pull/8 ?
[22:23:40] <ELD> What's a good way to wrap my head around Rust's object-oriented model?
[22:23:50] <reem> huon: literally typing a comment right now
[22:24:02] <huon> reem: wooo
[22:24:16] *** Joins: dylan (dylan@moz-a2i.6j4.9.153.IP)
[22:24:20] <huon> reem: literally waiting in anticipation right now :P
[22:24:26] *** Joins: alhof (dylan@moz-a2i.6j4.9.153.IP)
[22:24:36] *** Joins: jxv (jxv___@moz-qneod7.pk6i.d98i.030a.2602.IP)
[22:25:22] *** Quits: burntsushi (burntsushi@moz-t92kn9.ma.charter.com) (Ping timeout: 121 seconds)
[22:25:29] *** Joins: BossKonaSegway (Michael@moz-vp8rf7.res.rr.com)
[22:25:34] *** Joins: burntsushi (burntsushi@moz-t92kn9.ma.charter.com)
[22:25:39] *** Joins: jml (jml@moz-mqpurn.178.in-addr.arpa)
[22:25:51] *** Joins: orangeshark (erik@moz-148h7b.44tj.56ot.0306.2602.IP)
[22:26:12] *** Quits: psd_ (psd@moz-j7l.7nq.203.116.IP) (Ping timeout: 121 seconds)
[22:26:14] <Nero> could i get some help in making this sort of thing working: http://is.gd/xDTlRB
[22:26:19] *** Quits: psd (psd@moz-j7l.7nq.203.116.IP) (Ping timeout: 121 seconds)
[22:26:52] <Nero> and why does the name of the function figure in the type?
[22:27:05] <reem> huon: What do you think about moving Producer to use &'a Invoke + .. instead of Box<Invoke + ..>?
[22:27:12] <reem> Is that actually any less general?
[22:27:19] *** Quits: nef (androirc@moz-0altb2.range81-132.btcentralplus.com) (Quit: AndroIRC - Android IRC Client ( http://www.androirc.com ))
[22:27:25] <burntsushi> Nero: i *think* it's because `fn` types are anonymous and every `fn` type is unique.
[22:28:04] *** Joins: mystor_ (mystor@moz-va2.r78.15.130.IP)
[22:28:11] <reem> I think it is actually
[22:28:20] <reem> since you wouldn't be able to create a 'static Thunk if you had closures
[22:28:25] <kmcguire> reem, what are some other approaches?
[22:28:28] <reem> if you had a closure which actually closed on something
[22:28:29] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[22:28:30] <Nero> burntsushi: interesting
[22:28:40] <reem> kmcguire: traditional callbacks/futures
[22:28:42] *** Quits: gonzaloserrano (Adium@moz-4n3.ohp.231.77.IP) (Quit: Leaving.)
[22:28:42] *** Quits: sinistersnare (Mibbit@moz-vj2.mkr.2.129.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:28:42] <burntsushi> Nero: you need to coerce them explicitly to get them to be the same type: http://is.gd/iVaXdG
[22:28:44] *** Joins: brianloveswords (brianlovesw@moz-mve27s.fios.verizon.net)
[22:28:52] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[22:28:54] *** Quits: ermund (Mibbit@moz-ffef4k.skybroadband.com) (Quit: http://www.mibbit.com ajax IRC Client)
[22:28:59] <kmcguire> let me look at futures.. im familar with callbacks
[22:29:05] *** Quits: huin (huin@moz-v1s.g8i.176.109.IP) (Ping timeout: 121 seconds)
[22:29:15] <reem> kmcguire: futures are just wrappers around callbacks
[22:29:24] <reem> it's not actually a semantic difference, just a more convenient form
[22:29:33] <reem> you can think of it as a callback wrapped in a very specialized channel
[22:29:39] <freefall> burntsushi: re streaming iterators, is there a single issue or rfc open to track the thinking? if not it sounds like you're the best one to do the initial write-up :)
[22:30:17] *** suvash_away is now known as suvash
[22:30:25] <Nero> burntsushi: thanks a lot
[22:30:32] <Nero> that should work for what i need
[22:30:47] <burntsushi> freefall: i don't think so, but yeah, i probably should write something up.
[22:31:18] <burntsushi> freefall: i think i kind of just assumed that it was another thing in the long list of benefits of HKP
[22:31:22] <Nero> although i would like to know if there was any real way for me to figure that out on my own at this point
[22:31:52] *** Quits: nr152522 (nr152522@moz-d5te1r.cust.relish.net) (Client exited)
[22:32:01] <freefall> burntsushi: even if it turns out to be, having it written down would be very beneficial!
[22:32:07] <burntsushi> Nero: my suspicion is no. it's a bit of a small detail. it might be in the language reference, but it's otherwise a relatively recent change. i think it is fall out from closure reform a few months ago?
[22:32:24] <Tiktalik> how does one go about generating a random number between, say, 0 and 10
[22:32:30] <reem> kmcguire: Note that cooperative threading like that also requires a totally different set of concurrency primitives like Mutex etc. or you can block the scheduler, which is bad news performance wise. That was one of the major reasons to dump libgreen, since it required all of std::sync to be much less efficient than more direct pthread bindings.
[22:32:34] <burntsushi> Tiktalik: use the `rand` crate.
[22:32:55] <burntsushi> Tiktalik: http://doc.rust-lang.org/rand/rand/index.html
[22:32:56] *** Quits: jviereck (Adium@moz-6r3950.dclient.hispeed.ch) (Quit: Leaving.)
[22:32:58] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Quit: Leaving)
[22:33:02] <Tiktalik> burntsushi: it's not very clear on just how exactly to do it in a range
[22:33:22] <reem> kmcguire: A Long Time Ago channels were going to be the synchronization primitive in rust and everything else (Mutex, RWLock, Semaphore, etc.) were going to be built from it.
[22:33:23] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[22:33:23] *** Quits: eibwen (eibwen@moz-u77b05.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[22:33:25] *** Joins: jviereck (Adium@moz-6r3950.dclient.hispeed.ch)
[22:33:35] <burntsushi> Tiktalik: depending on your requirements, you probably want this function to get your `Rng`: http://doc.rust-lang.org/rand/rand/fn.thread_rng.html
[22:33:35] <flan3002> Tiktalik - There's an example in there...
[22:33:36] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[22:33:50] <huon> reem: I think exposing the closure type is probably the better way to do that
[22:33:51] <flan3002> Tiktalik - http://doc.rust-lang.org/rand/rand/index.html#monte-carlo-estimation-of-%CF%80
[22:33:52] <Tiktalik> an example three miles long
[22:33:54] <Nero> Tiktalik: does modulus not work?
[22:33:55] *** Joins: mindtree (Mitch@moz-ei5l80.iprimus.net.au)
[22:33:59] <huon> reem: and then users can use trait objets if necessary
[22:34:01] <burntsushi> Tiktalik: and then use the `gen_range` method: http://doc.rust-lang.org/rand/rand/trait.Rng.html#method.gen_range
[22:34:16] *** Quits: scott (uid25790@moz-e5ok1n.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[22:34:46] <panicbit> Uhm. Am I supposed to use core::str::StrExt::find or is there something in std which I'm missing?
[22:34:52] <kmcguire> reem, that is really interesting, i did not know a bunch about the history
[22:35:11] <Tiktalik> Nero: I'm just getting started with rust, basically
[22:35:15] <reem> huon: I had a large internal emphasis on simplicity the first time around with this project, but I think you're right and the added generality of more params is worth it
[22:35:25] <Tiktalik> in most other languages I've tried, it hasn't been *this* damn hard to generate a random number in a certain range
[22:35:31] <reem> My only concern is that the use of Box<Invoke> vs. Box<FnOnce> and such is very non-obvious.
[22:35:40] <reem> actually that might be preventative
[22:35:51] <huon> reem: yeah, it's pretty unfortunate
[22:36:05] <reem> I'm gonna merge your PR and try it
[22:36:12] *** Quits: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP) (Ping timeout: 121 seconds)
[22:36:45] <kmcguire> reem, i wonder if i would find green threading useful, even leaving the worry over blocking to me, you know
[22:36:58] <Nero> Tiktalik: i would say haskell is still harder
[22:37:05] <panicbit> I think I'm supposed to .chars().find(), eh?
[22:37:38] <huon> panicbit: what are you trying to do?
[22:37:48] *** Joins: sinistersnare (Mibbit@moz-vj2.mkr.2.129.IP)
[22:37:49] <reem> kmcguire: Go and Haskell both use green threading as their default threading form, it's certainly not a *wrong* strategy, it's just not necessarily appropriate for rust.
[22:37:49] <panicbit> huon: I jsut want to find a char in a string
[22:38:01] *** Joins: dstrbad (dstrbad@moz-uele2h.dialin.iskon.hr)
[22:38:03] *** Quits: mindtree (Mitch@moz-ei5l80.iprimus.net.au) (Ping timeout: 121 seconds)
[22:38:03] *** Quits: dstrbad (dstrbad@moz-uele2h.dialin.iskon.hr) (A TLS packet with unexpected length was received.)
[22:38:09] <reem> yes .chars().find() should work
[22:38:10] *** Quits: jdm_ (jdm@moz-mu9.06r.98.75.IP) (Connection closed)
[22:38:19] <huon> panicbit: what sort of 'find'? compute its position, or check it exists?
[22:38:21] *** erickt_ is now known as erickt
[22:38:26] <kmcguire> reem, oh yes i am not arguing for the inclusion of green threading into rust :p
[22:38:28] <panicbit> huon: I want the index
[22:38:34] *** Joins: jdm (jdm@moz-mu9.06r.98.75.IP)
[22:38:34] *** ChanServ sets mode: +o jdm
[22:38:40] *** Joins: new_one (new_one@moz-6tm.543.42.128.IP)
[22:39:06] *** Quits: azita (Azita@moz-cfhap5.mtv2.mozilla.com) (Client exited)
[22:39:08] <kmcguire> reem, i just had a problem, and accidentally danced right into the green threading problem
[22:39:10] *** Joins: coxg (sazzer@moz-1hq.kh5.32.217.IP)
[22:39:14] <huon> panicbit: byte index?
[22:39:29] *** Joins: tjr_ (trevor.rile@moz-n0p.lk3.6.67.IP)
[22:39:45] *** Quits: e_svedang (e_svedang@moz-p1r4ve.bredband.comhem.se) (Client exited)
[22:39:45] <reem> Tiktalik: The example right above that one looks like it shows you what to do
[22:39:48] *** Quits: jviereck (Adium@moz-6r3950.dclient.hispeed.ch) (Quit: Leaving.)
[22:40:19] <reem> Tiktalik: let mut rng = rand::thread_rng(); let random = Range::new(0.0f64, 100.0).ind_sample(&mut rng);
[22:40:21] *** Joins: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net)
[22:40:28] <Tiktalik> oh, I see
[22:40:34] <panicbit> huon: Wait, that makes me think. I want to find the index of a char in a String and then slice off until there.
[22:40:49] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:40:59] <panicbit> huon: But can I just slice strings like that?
[22:41:11] <kmcguire> i was actually into the land of building the components of my program to be able to operate independantly with high latency
[22:41:16] <huon> panicbit: ok, you probably want: `s.char_indices().find(|t| t.1 == 'a').map(|t| t.0)`
[22:41:19] *** Quits: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net) (Client exited)
[22:41:23] <kmcguire> part of distributed processing i guess
[22:41:33] <huon> panicbit: which will give an Option<usize> containing the byte index of the first 'a', if one exists
[22:41:50] <huon> panicbit: and then you can slice with it (after handling the None case appropriately) with `s[..index]`
[22:41:57] <huon> or s[index..]
[22:41:57] <reem> kmcguire: Sure. I was just talking about history.
[22:42:01] <huon> (which give `str`s)
[22:42:27] <bluss> I think str has its own find mthod already?
[22:42:36] *** Joins: heltjm (heltjm@moz-a14n36.res.rr.com)
[22:42:37] <bluss> playbot: "abc".find('b')
[22:42:39] -playbot- Some(1)
[22:42:42] <kmcguire> reem, ok cool, im glad you did talk about the history, i find it useful and interesting
[22:42:43] <panicbit> wut
[22:43:00] <kmcguire> thats why i called myself a mad man lol
[22:43:01] <pingveno> playbot: "abcdef".find(['b', 'c'])
[22:43:02] -playbot- <anon>:14:18: 14:34 error: the trait `core::ops::Fn<(char,)>` is not implemented for the type `[char; 2]` [E0277]
[22:43:03] -playbot- <anon>:14         "abcdef".find(['b', 'c'])
[22:43:03] -playbot- output truncated; full output at: http://bit.ly/19iYK3t
[22:43:14] <panicbit> Ok I'll try that. Gotta cope with some other errors ATM.
[22:43:21] <pingveno> playbot: "abcdef".find(&['b', 'c'])
[22:43:22] -playbot- <anon>:14:18: 14:35 error: the trait `core::str::pattern::Pattern<'_>` is not implemented for the type `&[char; 2]` [E0277]
[22:43:22] -playbot- <anon>:14         "abcdef".find(&['b', 'c'])
[22:43:22] -playbot- output truncated; full output at: http://bit.ly/1FTTRe4
[22:43:22] *** Quits: coxg (sazzer@moz-1hq.kh5.32.217.IP) (Ping timeout: 121 seconds)
[22:43:26] <freefall> reem: if one wants to build something based on async io today, is using mio directly the best/only option?
[22:43:30] *** Parts: heltjm (heltjm@moz-a14n36.res.rr.com) ()
[22:43:32] <kmcguire> reem, you are very helpful and conductive to learning
[22:43:39] <jnicklas_> I find myself connecting and concating iterators a lot. So I’ve created this trait to allow me to call those methods on iterators directly instead of having to collect into a Vec manually first. http://is.gd/LwBiuH It works great except that I have to use `Str`, which is unstable. Is there a sane, stable way to make this work?
[22:43:40] *** bvssvni is now known as bvssvni_
[22:43:40] <pingveno> Huh, CharEq worked with find :/
[22:43:48] <burntsushi> playbot: "abcdef".find(&['b', 'c'][..])
[22:43:49] -playbot- Some(1)
[22:43:52] <burntsushi> pingveno: ^
[22:43:57] <reem> freefall: mio + other libraries is the way to go for now
[22:44:02] <huon> oh, neat
[22:44:11] <huon> sorry for giving non optimal advice panicbit 
[22:44:13] <reem> kmcguire: Thank you :)
[22:44:14] *** Joins: swgillespie (swgillespie@moz-upj.3un.220.167.IP)
[22:44:27] <pingveno> burntsushi: Oh, of course
[22:44:43] <burntsushi> pingveno: the latest byte literal change is a nasty little bugger ;-)
[22:44:50] <panicbit> huon: That doesn't matter, thanks anyway :)
[22:44:51] *** Quits: omissis (omissis@moz-s5d.c01.90.95.IP) (Client exited)
[22:45:08] <burntsushi> pingveno: errmm, those aren't byte literals. but you know what i mean.
[22:45:11] <panicbit> also thank you reem and bluss 
[22:45:11] <mbrubeck> `tests/ref/iframe/hide_layers2.html` fails so often in my local test runs...
[22:45:16] <freefall> reem: what other libs do you have in mind? it seems like there are different attempts to provide a more ergonomic/abstract interface in the works but nothing fully baked yet
[22:45:56] <reem> freefall: right this second not a lot, but syncbox is very useful and event is useful depending on your exact use case
[22:46:14] <reem> basically everything falls into the "not fully baked" category so far
[22:46:16] <mbrubeck> looks like it renders all-white
[22:46:18] *** Quits: dodo (dodo@moz-trg.cj2.196.66.IP) (Connection closed)
[22:46:21] <mbrubeck> maybe a race condition
[22:46:30] <burntsushi> jnicklas_: a little known corner of `std::slice`: http://doc.rust-lang.org/std/slice/trait.SliceConcatExt.html
[22:46:35] <reem> mbrubeck: Did you mean #servo? :P
[22:46:38] *** Joins: dodo (dodo@moz-trg.cj2.196.66.IP)
[22:46:40] *** Quits: Guest17 (textual@moz-1kb.96p.27.198.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:46:47] <freefall> reem: fair enough. thanks!
[22:46:47] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[22:47:10] *** Quits: Shackra (Jorge@moz-7bh.ng6.177.186.IP) (Connection closed)
[22:47:38] <jnicklas_> burntsushi: it’s not possible to impl that trait for Iterators, unfortunately.
[22:47:51] *** Quits: psd__ (psd@moz-j7l.7nq.203.116.IP) (Ping timeout: 121 seconds)
[22:47:53] <jnicklas_> (afaics anyway)
[22:47:59] <burntsushi> jnicklas_: ah i see, yes. i didn't look very carefully at your code.
[22:48:22] *** Joins: kgrandon1 (Adium@moz-r2hvbm.ujol.1ibb.0101.2620.IP)
[22:48:23] <mbrubeck> reem: oops, yeah. :)
[22:48:32] <burntsushi> jnicklas_: so your only issue is `Str`? i think you should be able to replace that with `Borrow`? specifically, `Borrow<'a, str>`
[22:48:36] *** Quits: kgrandon (Adium@moz-cfhap5.mtv2.mozilla.com) (Connection closed)
[22:48:43] <jnicklas_> burntsushi: and the impls for it also make use of `Str` (impl<S> SliceConcatExt<str, String> for [S] where S: Str)
[22:49:25] *** Joins: Shackra (Jorge@moz-7bh.ng6.177.186.IP)
[22:50:57] <bluss> jnicklas_: .join() to do this (in crate itertools) uses trait Display infact. Maybe that's a bit insane, but it's convenient
[22:51:00] *** Joins: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca)
[22:51:26] <bluss> it does the right thing for iterators of strings and numbers
[22:51:29] *** Quits: hoverbear (hoverbear@moz-a97.b2m.54.96.IP) (Connection closed)
[22:52:40] <burntsushi> jnicklas_: yeah, unfortunately, it looks like you might be stuck. `Str` is in a bit of limbo right now.
[22:53:11] <burntsushi> jnicklas_: i'd recommend just using `Str`. i don't think `SliceConcatExt` will go away, so whenever it is fixed with `Str`'s replacement, you can just fix your code.
[22:53:12] <bluss> you can always use your own trait instead of Str
[22:53:39] *** Quits: cesar (cesar@moz-995f02.us.xo.net) (Connection closed)
[22:54:15] *** Joins: matp_ (matp@moz-rvt9hl.matp.at)
[22:54:18] *** Joins: Adityab_ (aditya@moz-2o9erp.adsl.alicedsl.de)
[22:54:49] <jnicklas_> burntsushi: okay, it’s not too bad.
[22:54:50] <tamird> there are a lot of types that implement `len(&self)` and `is_empty(&self)` - would it make sense to extract that into a trait that requires `len(&self)` and provides `is_empty(&self)`? where would such a trait live?
[22:55:08] *** Quits: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca) (Ping timeout: 121 seconds)
[22:55:29] <XMPPwocky> tamird: that used to be the Container trait
[22:55:42] *** Joins: hoverbear (hoverbear@moz-a97.b2m.54.96.IP)
[22:55:47] <XMPPwocky> nobody used it, all the generic-over-container stuff got killed off a while back
[22:55:56] <XMPPwocky> that sort of thing in general is hard to get right without HKT
[22:56:13] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[22:56:34] *** Joins: DemonOne (Avi@moz-0d8sde.cablep.bezeqint.net)
[22:56:40] <tamird> Nobody used it? wouldn't it just allow us to delete a bunch of code, since `is_empty(&self)` is duplicated all over std
[22:56:44] <tamird> also, what is HKT?
[22:57:15] <XMPPwocky> fn is_empty(&self) -> bool { self.len() > 0 }
[22:57:24] *** Quits: maraoz_ (maraoz@moz-78f.4dq.95.181.IP) (Ping timeout: 121 seconds)
[22:57:36] <XMPPwocky> vs... impl Container for Foo { (function to get length) }
[22:57:46] <XMPPwocky> and then you need that trait in scope everywhere
[22:58:25] *** Quits: kiwnix (egarcia@moz-r7afvo.ipv6.he.net) (Quit: -)
[22:58:47] <burntsushi> tamird: it should be "HKP" which means Higher-Kinded Polymorphism. it enables you to write code that is polymorphic over constructors. if you want traits generic over containers, you kinda need that.
[22:58:52] *** Joins: cursivecode (textual@moz-4u56i9.res.bhn.net)
[22:59:02] <burntsushi> tamird: we used to have things like `Map`, `MutableMap` and `Set` too.
[22:59:06] *** Joins: sujayakar (Mibbit@moz-g0o.l4p.189.205.IP)
[22:59:17] <tamird> oh, those are removed as well?
[22:59:20] <burntsushi> polymorphic over type constructors*
[22:59:28] <burntsushi> tamird: yes "collections reform"
[23:00:19] *** Joins: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net)
[23:00:43] <Nero> shouldn't set_nodelay and set_keepalive on TcpStream, take a mutable self? https://doc.rust-lang.org/std/net/struct.TcpStream.html#method.set_nodelay
[23:00:53] <Tiktalik> reem: does importing thread_rng not work in  the example window on the rust homepage?
[23:01:02] <burntsushi> tamird: you can find detailed design rationale here: https://github.com/aturon/rfcs/blob/collections-conventions/text/0000-collection-conventions.md#removing-the-traits
[23:01:07] *** Joins: hoverbea_ (hoverbear@moz-ctf.3ep.54.96.IP)
[23:01:11] <tamird> thanks burntsushi 
[23:01:20] <burntsushi> Tiktalik: `thread_rng` is part of an external crate. i don't think the play pen has anything but `std`
[23:01:23] <reem> Tiktalik: I have no clue but probably not
[23:01:32] <Tiktalik> burntsushi: ah, ok
[23:01:48] <burntsushi> Tiktalik: (`rand` used to be part of `std`)
[23:01:49] <Tiktalik> well bugger, time to install rust on windows
[23:02:30] *** Quits: grobinson (grobinson@moz-upe.5fr.90.208.IP) (Connection closed)
[23:02:56] <sujayakar> I'm hitting "error: multiple rlib candidates for `log` found" when running "cargo test" but not "cargo build".  looking at verbose output, regular tests from rustc are okay, but rustdoc is invoked with two different rlibs of "--extern log=...", causing it to fail.  is this a cargo bug?
[23:03:03] *** Joins: grobinson (grobinson@moz-7kqchf.static.monkeybrains.net)
[23:03:48] *** Joins: rudib (bxr@moz-87plhd.static.t-2.net)
[23:04:08] *** Quits: Shackra (Jorge@moz-7bh.ng6.177.186.IP) (Connection closed)
[23:04:16] *** Joins: grobinso_ (grobinson@moz-upe.5fr.90.208.IP)
[23:04:28] *** Quits: hoverbear (hoverbear@moz-a97.b2m.54.96.IP) (Ping timeout: 121 seconds)
[23:04:42] *** Joins: cakecatz (cakecatz@moz-2r5hfh.sannet.ne.jp)
[23:04:45] *** Joins: psd__ (psd@moz-acc.mpg.78.202.IP)
[23:05:02] *** Joins: mib_uj328d (Mibbit@moz-se0s1m.ca.comcast.net)
[23:05:12] <burntsushi> sujayakar: out of curiosity, what are your `rustc` and `cargo` versions?
[23:05:30] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[23:05:35] *** Quits: hoverbea_ (hoverbear@moz-ctf.3ep.54.96.IP) (Quit: Time to hibernate.... ZzZz...)
[23:05:42] <steveklabnik> sujayakar: lots of people have been seeing this today
[23:05:49] <steveklabnik> there was a bug opened
[23:05:54] <sujayakar> burntsushi: rustc 1.0.0-nightly (809a554fc 2015-03-23) (built 2015-03-24), cargo 0.0.1-pre-nightly (e689383 2015-03-16) (built 2015-03-16)
[23:05:54] *** Quits: mib_uj328d (Mibbit@moz-se0s1m.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[23:06:21] <ChrisMorgan> sujayakar: in such cases, a `cargo clean` may help.
[23:06:22] *** Joins: Shackra (Jorge@moz-7bh.ng6.177.186.IP)
[23:07:04] *** Quits: grobinson (grobinson@moz-7kqchf.static.monkeybrains.net) (Ping timeout: 121 seconds)
[23:07:21] <tamird> burntsushi is there no way to do private code reuse in rust? for instance, i want to use a trait in the aforementioned fashion but want the trait to remain an implementation detail, invisible to the user
[23:07:49] *** Quits: dawehner (quassel@moz-6aq1ua.hsi7.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[23:07:50] <burntsushi> tamird: use `trait` instead of `pub trait`?
[23:08:09] <burntsushi> tamird: although, if you expose that trait as bounds in a public function/method...
[23:08:16] *** Quits: lov2cod (Adium@moz-40l.ob1.22.8.IP) (Quit: Leaving.)
[23:08:27] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[23:08:38] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Connection closed)
[23:08:42] *** Joins: Izacht13 (Izacht13@moz-5tc3lv.atsnmeam.ccmaine.net)
[23:09:12] *** Quits: kgrandon1 (Adium@moz-r2hvbm.ujol.1ibb.0101.2620.IP) (Quit: Leaving.)
[23:09:20] *** Joins: kgrandon (Adium@moz-r2hvbm.ujol.1ibb.0101.2620.IP)
[23:09:32] *** Quits: cursivecode (textual@moz-4u56i9.res.bhn.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:09:38] *** Quits: ELD (textual@moz-mqboa7.co.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[23:09:53] *** Quits: brianloveswords (brianlovesw@moz-mve27s.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:10:51] *** Joins: Wild_Cat (Max@moz-f1ofqf.cpe.teksavvy.com)
[23:11:13] *** Quits: Selemur (chatzilla@moz-tpgfbn.kawo1.rwth-aachen.de) (Ping timeout: 121 seconds)
[23:11:48] *** Quits: tjr_ (trevor.rile@moz-n0p.lk3.6.67.IP) (Ping timeout: 121 seconds)
[23:11:58] *** Quits: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net) (Client exited)
[23:12:04] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:12:38] *** Quits: jdm (jdm@moz-mu9.06r.98.75.IP) (Quit: )
[23:12:42] *** Joins: lov2cod (Adium@moz-40l.ob1.22.8.IP)
[23:12:52] *** Joins: canhtak (canhtak@moz-mi6.8r7.252.94.IP)
[23:12:59] <tamird> burntsushi, right, i need that function to implement a pub function
[23:13:11] <tamird> err, that trait to implement a pub fn
[23:13:26] *** Quits: tomprogrammer (thomas@moz-1t0p4f.tr5r.qept.4dd0.2001.IP) (Quit: WeeChat 1.1.1)
[23:13:27] <tamird> s/implement/provide/
[23:14:01] <burntsushi> tamird: hmmm. i guess it's hard to consider it an implementation detail. if it were strictly an extension trait, then you could get away with not including it as an explicit bound i think.
[23:14:36] <tamird> it wouldn't be an explicit bound - the trait would require `len(&self)` and provide `is_empty(&self)`
[23:14:51] <tamird> seems to me that you wouldn't get either method unless that trait was in scope
[23:14:55] <tamird> and was public
[23:15:15] *** Quits: cakecatz (cakecatz@moz-2r5hfh.sannet.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:16:21] <burntsushi> tamird: sorry, i am misunderstanding something then. if you need to write `<T: MyTrait>` in the signature of a public method/function/type, then it's part of your public interface. full stop.
[23:16:37] <tamird> agreed, but that is not my use case
[23:16:38] <tamird> just a sec
[23:16:54] <burntsushi> tamird: if not, then just make sure it's in scope and you should be able to use it.
[23:17:18] *** Quits: HansiHE (HansiHE@moz-49j1lk.m1tt.9c0k.04a0.2a01.IP) (Ping timeout: 121 seconds)
[23:17:35] <tamird> how do i bring it into scope if it isn't public?
[23:17:44] <tamird> https://gist.github.com/tamird/1c36af11e2a3918bcadf
[23:17:53] *** Quits: lov2cod (Adium@moz-40l.ob1.22.8.IP) (Quit: Leaving.)
[23:17:59] <tamird> i guess those should both be `pub fn`
[23:18:02] <burntsushi> well it's in your crate somewhere right?
[23:18:27] <mbrubeck> burntsushi: I think tamird wants the *methods* visible to external code without external code knowing about the trait
[23:18:31] <mbrubeck> as if they were inherent
[23:18:36] <tamird> mbrubeck correct
[23:18:38] <burntsushi> mbrubeck: oooooo...
[23:18:40] <mbrubeck> but without needing to repeat them in every type
[23:18:45] *** Quits: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP) (Connection closed)
[23:18:47] <burntsushi> yes, i definitely did not catch that. sorry!
[23:18:52] *** Joins: cesar (cesar@moz-995f02.us.xo.net)
[23:19:00] <tamird> no problem - so is this indeed impossible?
[23:19:05] <Nero> where would i comment if i think that a TcpStream function has the wrong type?
[23:19:24] <burntsushi> tamird: not that i know of, unfortunately.
[23:19:31] <tamird> oof :(
[23:20:29] <burntsushi> Nero: maybe file an issue on the rust repo? or if you want discussion, maybe http://users.rust-lang.org/
[23:20:31] <tamird> i would expect `trait Foo { pub fn bar() {} } ` doesn't compile right now, correct?
[23:20:40] <tamird> because the trait is private but the method is public
[23:20:40] *** Quits: GaryOak_ (GaryOak_@moz-etoj16.hfc.comcastbusiness.net) (Quit: Leaving...)
[23:20:42] *** Joins: HansiHE (HansiHE@moz-49j1lk.m1tt.9c0k.04a0.2a01.IP)
[23:20:53] *** Joins: glendc (glendc@moz-lm5.ch9.159.212.IP)
[23:21:14] <glendc> Hey, I'm quite confused on how to properly implement a struct that contains a TraitObject
[23:21:24] *** Quits: jshs (jshs@moz-4ubocv.dip0.t-ipconnect.de) (Client exited)
[23:21:24] *** Quits: nicoch (nicoch@moz-g02d7k.be) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:21:29] *** Quits: agjacome (agjacome@moz-0ajq6l.dynamic.jazztel.es) (Quit: leaving)
[23:21:38] <glendc> I keep bouncing into problems related to the Sized bounds
[23:21:43] <burntsushi> tamird: you can't have public/private trait methods AFAIK. the trait is wholesale public or private.
[23:21:47] <tamird> oh that's not even valid syntax
[23:21:49] *** Quits: ecogiko (ecogiko@moz-p59qrv.chello.nl) (Quit: leaving)
[23:21:53] <tamird> yeah, burntsushi you're right
[23:22:07] <burntsushi> tamird: i seem to recall there being some in depth discussion on why this is, but its location and contents have fallen out of my brain.
[23:22:22] <tamird> do you remember any of the participants?
[23:22:45] <burntsushi> tamird: i am pretty sure wycats was in it.
[23:23:00] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[23:23:10] <glendc> if someon can perhaps link me to a good article that might make me understand it
[23:23:24] <tamird> :( that's really too bad
[23:23:30] <tamird> this might be a common desire
[23:23:39] <burntsushi> glendc: trait objects are tricky. in a type context, they are unsized, which has a lot of restrictions.
[23:23:45] <ChrisMorgan> glendc: elucidate on your problem?
[23:23:54] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[23:23:55] <burntsushi> glendc: if you're storing it in a struct, you *probably* want it in a box. e.g., `Box<TraitObject>`
[23:23:58] <ChrisMorgan> I mean what you are trying to achieve.
[23:24:05] <Nero> burntsushi: it is in regards to set_nodelay taking a &self instead of &mut self
[23:24:18] <glendc> The thing I'm trying to achieve
[23:24:31] <glendc> is to have a member variable that's a struct implementing the trait
[23:24:45] <Nero> since it modifies the underlying stream, this seems to be a poor choice
[23:24:46] <glendc> so that when creating that struct it can be any struct that implements that trait
[23:24:54] <Nero> is this so, or am i crazy?
[23:25:00] *** suvash is now known as suvash_away
[23:25:10] <glendc> A box might be a good thing
[23:25:33] <glendc> let me try that
[23:25:56] <glendc> thx already for the suggestion :)
[23:26:38] <burntsushi> Nero: that's pretty interesting. it must be using interior mutability somehow. i'd be surprised if they got that wrong. i bet there is a "stabilize net" RFC that might explain it?
[23:26:45] <ChrisMorgan> glendc: you probably want generics, then.
[23:27:00] <ChrisMorgan> glendc: http://doc.rust-lang.org/book/generics.html
[23:27:14] <Nero> well, net is no longer feature gated, but tcp is
[23:27:23] <ChrisMorgan> And more importantly, the next part, http://doc.rust-lang.org/book/traits.html
[23:27:34] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[23:27:44] *** Quits: toqueteos (toqueteos@moz-plqtsp.staticIP.rima-tde.net) (Quit: Nettalk6 - www.ntalk.de)
[23:27:51] <Nero> burntsushi: and i think that it is using an unsafe block
[23:27:58] <glendc> wel i implemented a trait and been reading about it, i think the while thing that trips me up is the Sized stuff
[23:28:36] <ChrisMorgan> glendc: struct Foo<X: Trait> { x: X } impl<X: Trait> Foo<X> { … }, is that not doing what you want?
[23:28:47] <ChrisMorgan> You don’t need to deal with Sized at all that way.
[23:28:55] <glendc> hmm
[23:29:09] <glendc> sounds too good to be true, but give me a couple of minutes ( or longer, hehe ) to read up
[23:29:11] <ChrisMorgan> steveklabnik: on http://doc.rust-lang.org/book/traits.html the trait is named HasArea, it seems to me that Area would fit our naming conventions better.
[23:29:44] <burntsushi> Nero: unfortunately, i'm not really up on the `net` design so i'm the wrong person to talk to. i'd open a thread.
[23:29:48] <ChrisMorgan> glendc: if you’re dealing with one concrete type at a time, then you don’t need to deal with trait objects, and that’s where your unsized objects have the potential to crop up.
[23:30:04] <Nero> burntsushi: a thread on the user forum?
[23:30:25] <burntsushi> Nero: sure. or internals. i'm not sure where this one lies. i'm not totally up on what the split is supposed to be
[23:30:36] *** Quits: bojo1 (bojo@moz-ek1f0s.ocn.ne.jp) (Ping timeout: 121 seconds)
[23:30:54] *** Joins: maedhroz (maedhroz@moz-4jk5ho.res.rr.com)
[23:31:16] <glendc> but yeah ChrisMorgan that's what I have alread
[23:31:18] <glendc> that's not the problem
[23:31:23] *** Joins: brianloveswords (brianlovesw@moz-mve27s.fios.verizon.net)
[23:31:25] *** Quits: canhtak (canhtak@moz-mi6.8r7.252.94.IP) (Client exited)
[23:31:30] <glendc> the problem is when I start using it in a `fn new`
[23:31:36] *** Joins: cursivecode (textual@moz-4u56i9.res.bhn.net)
[23:31:37] <iliekturtles> Nero: Looking at the code nothing in rust-land is actually mutated which may be why the param is &self. It eventually calls libc::setsockopt(fd, ...).
[23:31:43] <glendc> than all hell breaks lose in errors related to Sized
[23:31:55] <ChrisMorgan> glendc: the main situation where you wind up needing trait objects is homogeneous collections, and then you just deal with Box<Trait>.
[23:32:02] <ChrisMorgan> glendc: code?
[23:32:13] <glendc> what's the best place to paste it?
[23:32:20] <ChrisMorgan> https://play.rust-lang.org/
[23:32:45] <Nero> yeah, that is what i see too
[23:32:53] *** Joins: lov2cod (Adium@moz-balbsm.eodv.k60l.0119.2620.IP)
[23:34:06] <glendc> http://is.gd/LiUU99
[23:34:17] *** Joins: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP)
[23:34:20] <glendc> that's 2 snippets put together
[23:34:31] *** Joins: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net)
[23:34:42] *** Joins: mindtree (Mitch@moz-ei5l80.iprimus.net.au)
[23:34:47] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[23:34:56] *** Quits: maedhroz (maedhroz@moz-4jk5ho.res.rr.com) (Ping timeout: 121 seconds)
[23:35:18] *** Quits: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP) (Quit: WeeChat 1.1.1)
[23:35:55] *** Quits: lov2cod (Adium@moz-balbsm.eodv.k60l.0119.2620.IP) (Quit: Leaving.)
[23:35:59] <ChrisMorgan> glendc: you’re mixing up aspects of static and dynamic dispatch.
[23:36:02] *** Quits: Adityab_ (aditya@moz-2o9erp.adsl.alicedsl.de) (Ping timeout: 121 seconds)
[23:36:13] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[23:36:13] *** ChanServ sets mode: +ao pcwalton pcwalton
[23:36:15] *** Quits: jml (jml@moz-mqpurn.178.in-addr.arpa) (Ping timeout: 121 seconds)
[23:36:16] <glendc> oh
[23:36:32] <glendc> could you collaborate on that?
[23:36:35] *** Joins: rootnode (rootnode@moz-go1ut4.ip1.george24.com)
[23:36:49] <glendc> you mean the fact that I'm using traits AND generics?
[23:37:03] <glendc> where traits or dynamic and generics static
[23:37:07] <glendc> or am I getting that wrong
[23:37:09] *** Quits: dodo (dodo@moz-trg.cj2.196.66.IP) (Connection closed)
[23:37:11] <ChrisMorgan> Should Client.http_client be exactly one type of HTTP client (as using a generic C implies), or should it be able to be any and all types of HTTP client so that you can swap in different types at runtime?
[23:37:25] *** Joins: dodo (dodo@moz-trg.cj2.196.66.IP)
[23:37:42] <glendc> my goal is that you can hotswap your own httpclient
[23:37:48] *** Joins: deadc0de (chsitter@moz-8gk.fqq.201.90.IP)
[23:37:49] <glendc> if desired yes
[23:37:53] <ChrisMorgan> Client<HttpClient> would mean “a Client with C = HttpClient, an unsized type”.
[23:38:02] <glendc> Oh
[23:38:02] <ChrisMorgan> If you want that, then you shouldn’t be using generics at all.
[23:38:15] *** Joins: jml (jml@moz-mqpurn.178.in-addr.arpa)
[23:38:16] <glendc> Well I have experience with generics from C++
[23:38:19] <glendc> but traits kinda trip me up
[23:38:32] <ChrisMorgan> HttpClient is a *trait*. Since the concept of dynamically sized types arrived in the language, HttpClient is also an unsized type.
[23:38:48] <ChrisMorgan> Box<HttpClient> is a trait object, using dynamic dispatch.
[23:38:53] *** Quits: mindtree (Mitch@moz-ei5l80.iprimus.net.au) (Ping timeout: 121 seconds)
[23:38:58] <glendc> would generics work
[23:38:59] <glendc> as well
[23:39:02] <glendc> instead of using traits?
[23:39:11] <ChrisMorgan> The likes of Box::new(HyperClient::new()) can be coerced to Box<HttpClient>.
[23:39:20] *** Joins: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca)
[23:40:21] <ChrisMorgan> glendc: http://is.gd/t5GPHY
[23:40:28] <glendc> but i do think I tried without generics first, but than I got into object-safety
[23:40:32] <ChrisMorgan> That’s the generics approach.
[23:40:36] <glendc> which lead me to a blog of one of the guys working a lot on rust
[23:40:41] <glendc> but that made me not that much wiser
[23:41:03] <ChrisMorgan> You may then have a Client<HyperClient> which can contain a HyperClient only, not any other type of client.
[23:41:38] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:41:47] <glendc> so as long as the user implemens in his own struct all the functions I call
[23:41:51] <glendc> it should be able to compile
[23:41:53] <glendc> I suppose?
[23:42:14] <Nero> brianloveswords: i made the topic, if you care: http://users.rust-lang.org/t/tcpstream-set-nodelay-and-set-keepalive-not-taking-mutable-self/725http://users.rust-lang.org/t/tcpstream-set-nodelay-and-set-keepalive-not-taking-mutable-self/725
[23:42:18] <glendc> oh wait you're still using the trait
[23:42:28] <glendc> I thought when you mentioned the mentionning of dymanic and static dispatch
[23:42:30] <glendc> that it was a bad thing
[23:42:40] <brianloveswords> Nero: I think you meant to ping someone else probably
[23:42:41] *** Quits: Slava_I (slava@moz-dkl.0rf.216.178.IP) (Ping timeout: 121 seconds)
[23:43:16] <ChrisMorgan> Hang on, in that the whole boxiness is unnecessary, so http://is.gd/xSWsk8
[23:43:22] *** Quits: jyyou (jyyou@moz-hskqde.members.linode.com) (Ping timeout: 121 seconds)
[23:43:27] *** Quits: sugaku (sugaku@moz-9b0g1c.dsl.bell.ca) (Ping timeout: 121 seconds)
[23:43:59] *** Joins: dylan_ (dylan@moz-a2i.6j4.9.153.IP)
[23:44:06] <Nero> burntsushi: here is the post http://users.rust-lang.org/t/tcpstream-set-nodelay-and-set-keepalive-not-taking-mutable-self/725
[23:44:10] <glendc> oh
[23:44:14] <Nero> brianloveswords: you are right, sorry
[23:44:19] <glendc> I like that unwrap method
[23:44:23] *** Quits: dylan_ (dylan@moz-a2i.6j4.9.153.IP) (Quit: leaving)
[23:44:25] <brianloveswords> Nero, no problem!
[23:44:31] *** Joins: skade (skade@moz-dujgv3.web.vodafone.de)
[23:44:42] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[23:44:58] *** Quits: pacman (user@moz-fm6562.ip219.fastwebnet.it) (Connection closed)
[23:45:04] *** Quits: hhhhhhhh1 (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[23:45:10] <burntsushi> Nero: yup, i'm curious about it myself. i think i get all posts to internals/users in my inbox. :)
[23:45:21] <glendc> Do I make a right assumption that when I just make a struct object to pass it to new, that it will be moved instead of copied?
[23:45:48] *** Quits: reem (reem@moz-4jmrjg.coob.q2h1.0009.2601.IP) (Connection closed)
[23:46:52] *** Quits: DemonOne (Avi@moz-0d8sde.cablep.bezeqint.net) (Connection closed)
[23:47:01] *** Joins: DemonOne (Avi@moz-0d8sde.cablep.bezeqint.net)
[23:47:05] <ChrisMorgan> glendc: only types that implement Copy will ever be copied. Rust’s ownership semantics are strong and everything is moved.
[23:47:20] <glendc> oh great
[23:47:28] *** Quits: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[23:47:43] <glendc> Yeah i'm still kinda new to Rust, lots to learn still 
[23:47:43] *** Joins: reem (reem@moz-4jmrjg.coob.q2h1.0009.2601.IP)
[23:48:01] <glendc> so if you see based on this that I might need to read up on certain topics or lecture, feel free to suggest
[23:48:02] *** Joins: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP)
[23:48:04] <bluss> moving and rust-level copying (as in Copy) are implemnted the same way. The difference is if the source location is marked as unusable ("moved value")
[23:48:04] *** Joins: dylan__ (dylan@moz-41r.1b2.9.153.IP)
[23:48:20] *** Joins: alhof_ (dylan@moz-41r.1b2.9.153.IP)
[23:48:27] *** Quits: zzing (textual@moz-cfdo15.uwindsor.ca) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:48:41] <ChrisMorgan> bluss: you’re speaking of the situation in the absence of optimisation.
[23:49:00] *** Joins: Slava_I (slava@moz-8lv.0rf.216.178.IP)
[23:49:01] <bluss> no I think it's orthogonal
[23:49:46] *** Quits: wldcordeiro (wldcordeiro@moz-8lrfc3.hmj8.a2nn.0007.2601.IP) (Ping timeout: 121 seconds)
[23:49:52] <sargas> is       `let x = &5`        the same as           `let ref x = 5`  ?
[23:49:59] *** Quits: vairav (vairav@moz-pkkcjo.modeln.com) (Client exited)
[23:50:07] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[23:50:15] <ChrisMorgan> sargas: yes.
[23:50:35] <ChrisMorgan> sargas: but the former is very much the recommended style.
[23:50:43] *** Quits: dylan (dylan@moz-a2i.6j4.9.153.IP) (Ping timeout: 121 seconds)
[23:50:43] *** Quits: cursivecode (textual@moz-4u56i9.res.bhn.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:50:56] *** Quits: alhof (dylan@moz-a2i.6j4.9.153.IP) (Ping timeout: 121 seconds)
[23:51:38] *** Joins: lov2cod (Adium@moz-balbsm.eodv.k60l.0119.2620.IP)
[23:51:43] <sargas> ChrisMorgan: I'm perplexed with the many options you have in Rust... it's almost like each project in Rust will have its own "style"
[23:51:44] <reem> you rarely use ref outside of match
[23:51:47] *** Quits: ismaelga (ismaelga@moz-do6r88.rev.vodafone.pt) (Connection closed)
[23:52:43] *** Joins: darnuria (darnuria@moz-cagds5.kokakiwi.net)
[23:52:46] *** Quits: rossm (ross@moz-pnc4od.as13285.net) (Ping timeout: 121 seconds)
[23:52:47] <sargas> reem: `match` is another thing I don't know how to use to its full potential
[23:53:02] *** Quits: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP) (Ping timeout: 121 seconds)
[23:53:10] <ChrisMorgan> reem: in a destructuring let pattern it might just be used from time to time, but certainly, match branch patterns are far and away the main place ref is used
[23:53:12] <panicbit> sargas: Yet
[23:53:25] <reem> ChrisMorgan: +1
[23:53:32] <glendc> what's the purpose of ref?
[23:54:02] <glendc> or perhaps to state it differently: how is it different from &
[23:54:18] <ChrisMorgan> glendc: it allows you to take a reference to something; its purpose is to take a reference to something that is inside something else.
[23:54:20] <reem> glendc: You can use ref in a pattern to bind that label by-reference instead of by-value.
[23:54:36] <sargas> glendc: from what I understand, it changes the assignment to a reference
[23:54:43] <ChrisMorgan> glendc: ref is in a pattern what & is in an expression, just as & in a pattern is equivalent to unary * in an expression.
[23:54:49] *** Joins: Johannes (Johannes@moz-4et8d7.ocn.ne.jp)
[23:54:55] <glendc> oh
[23:54:58] <ChrisMorgan> (Yes, patterns are pretty much the opposite of expressions.)
[23:55:09] <glendc> never looked it at that way
[23:55:10] <reem> there have been proposals to replace ref with * and such
[23:55:18] *** Quits: clauswitt (clauswitt@moz-hr0o7d.clauswitt.com) (Ping timeout: 121 seconds)
[23:55:43] <sargas> reem: ^ That comment just opened my mind to the topic
[23:56:06] <ChrisMorgan> If you say, “I have a struct and I want to take a mutable reference to a field inside it,” with an expression it’s `let bar = &mut foo.bar;`, in a pattern it’s `let Foo { ref mut bar } = foo;`.
[23:56:25] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Client exited)
[23:56:32] <ChrisMorgan> (Remember that the grammar is `let PATTERN = EXPRESSION;`.)
[23:57:21] <sargas> ChrisMorgan: this is mindf**ing, it will take a minute to digest
[23:57:22] <ChrisMorgan> The pattern `Foo { ref mut bar }` means “given a value of type Foo, create a new local variable named bar containing a mutable reference to the Foo’s field `bar`.
[23:58:00] *** Joins: brson (brson@moz-7ji.c9m.56.172.IP)
[23:58:00] *** ChanServ sets mode: +ao brson brson
[23:58:11] <ChrisMorgan> `Foo { ref mut bar }` is shorthand for `Foo { bar: ref mut bar }`, by the way.
[23:58:32] *** Joins: clauswitt (clauswitt@moz-hr0o7d.clauswitt.com)
[23:58:46] *** Quits: akiss (akiss@moz-22mpm5.pool.digikabel.hu) (Ping timeout: 121 seconds)
[23:59:07] <ChrisMorgan> It’s not terribly difficult to make patterns that are difficult to read if you haven’t gone out of your way to learn these aspects of the grammar thoroughly!
[23:59:27] <ChrisMorgan> Fortunately, most patterns are fairly straightforward.
[23:59:30] *** Quits: fmendez (fmendez@moz-1jn.fqm.166.190.IP) (Connection closed)
[23:59:31] *** Quits: Altazimuth (Altazimuth@moz-q966ko.skybroadband.com) (Ping timeout: 121 seconds)
[23:59:56] *** Quits: ryanxcharles (ryan@moz-lcf.eq6.124.64.IP) (Ping timeout: 121 seconds)
