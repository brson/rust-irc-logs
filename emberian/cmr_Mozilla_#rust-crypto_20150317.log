[00:03:46] <Ilari> Lol: "A question that is perfectly suited to the upcoming plenary, methinks. Bike sheds are always best painted in large groups."
[00:04:14] <bascule> just let everyone paint part of the bikeshed their own color
[00:04:44] <eternaleye> bascule: No way, I hate quilt-colored bikesheds! :P
[00:09:29] <Ilari> BTW: https://github.com/tlswg/tls13-spec/pull/155  ... Wonder how that interacts with slightly-bad block ciphers.
[00:16:48] <Ilari> (Of course, GCM with even slightly bad block ciphers tends to lead to disaster).
[00:21:40] <Ilari> Specifically: With the initial IV there, the attacker can't get full plaintext blocks (since part comes from key derivation).
[00:35:21] <Ilari> Looking at AES-GCM in SSH, it derives initial IV and then increments that.
[00:57:13] <bascule> http://moderncrypto.org/mail-archive/noise/2015/000112.html
[00:58:45] <Ilari> What TLS stacks have had SMACK-type attacks? I think at least Java and Mono. Any others publically known? And how does OpenSSL FREAK work, just select RSA_EXPORT?
[01:00:17] <eternaleye> bascule: Oh I like that
[01:07:19] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[01:07:47] <Ilari> Hah, another Comodo misissued certificate.
[01:17:47] <eternaleye> Ilari: Someone should write a snarky article titled "Comodo's and Don'ts" talking about the failures at every level (architectural, specificational, operational, and human) that make this kind of thing happen :D
[01:19:20] <eternaleye> Ilari: Everything from "WebPKI. All of it." to "Browser root certs that are 'too big to fail'" to "The incentives for CA's are _proper_ fucked."
[01:19:58] <Ilari> Proper fucked as in proper class fucked? :->
[01:20:24] <eternaleye> Proper fucked as in slang "I don't really see how you could have done this worse if you _tried_"
[01:22:42] <Ilari> Well, proper classes are too big to be sets (and real numbers form a set, and it is far from the biggest, which tells something about size sets can have). :->
[01:23:09] <eternaleye> Ilari: So there's fucked, then real fucked, then _proper_ fucked? :P
[01:24:19] <Ilari> If you have perverse incentives, expect those to be exploited.
[01:25:39] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[01:26:37] <eternaleye> Yup
[01:26:57] <Ilari> Also, EV SSL certs for $90/year. Someone told me that it is unlikely that this is enough for proper validation (his company certainly can't validate for that little, but it is SW company, not CA company).
[01:27:31] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[01:28:26] <Ilari> EV was created to reset the race to the bottom... Except looks like they managed to restart it. Heckuva job.
[01:29:42] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[01:29:53] <eternaleye> That's the problem with a reset rather than a cancellation - everyone at the starting line just resumes running.
[01:30:35] <tiffany> what does proper validation mean?
[01:30:42] <Ilari> tiffany: Oh yeah...
[01:30:57] <tiffany> it seems like a rather one time thing
[01:31:03] <Ilari> What was the most expensive WebPKI certificate just before EV certifictes became available?
[01:31:43] <Ilari> (I qualified WebPKI, because I know there are some _really_ expensive certificates).
[01:32:15] <Ilari> Specifically, the ones with actually working revocation. Those tend to be hellishly expensive.
[01:36:47] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[01:37:20] <eternaleye> Ilari: One thing I think is too bad - nobody seemed to ever go with the idea of short-lifetime, small-payment, easy (automated?) reissue on payment, easy deployment.
[01:37:33] <eternaleye> Ilari: Of course, that's basically Let's Encrypt + billing
[01:38:08] <eternaleye> Ilari: Small but frequent payments would smooth the cash flow out, too
[01:38:15] <tiffany> I'm waiting for let's encrypt before I bother with having ssl on my site
[01:38:26] <tiffany> it has ssl currently, but the cert is for another domain
[01:45:19] <eternaleye> I'm currently using self-signed, because that made me get everything else (cipher suites, etc) into a sensible state, and let me test those with SSL labs
[01:45:38] <eternaleye> Once Let's Encrypt goes live, I can just swap it in for certs, and I'm golden with minimal work.
[01:47:54] <Ilari> eternaleye: You disabled SSL 3.0 and TLS 1.0, right? :-)
[01:48:08] <tiffany> it looks like this is currently configured to use AES128+EECDH:AES128+EDH:!aNULL:!eNULL and has sslv2/v3 disabled
[01:49:19] <eternaleye> Ilari: I couldn't disable TLS 1.0, because one of the clients that accesses the site can't use anything newer :(
[01:49:20] <Ilari> tiffany: openSSL cipher strings? Who knows what those pieces of black magic do?
[01:49:38] <tiffany> it's whatever lighttpd uses, so I suppose so
[01:49:39] <eternaleye> Ilari: But it's on the chopping block; I keep prodding thhem
[01:49:54] <Ilari> eternaleye: Well, fortunately you don't have to be PCI DSS compliant. :-)
[01:50:14] <eternaleye> Ilari: That looks more like gnutls priority strings
[01:50:21] <eternaleye> Ilari: And I do use mod_gnutls
[01:50:47] <eternaleye> Ilari: (partially because openssl breaks its library linkage way too fucking often)
[01:51:03] <eternaleye> Ilari: (Seriously, people. Learn the meaning of "ABI")
[01:59:03] <bascule> I think you could do it worse
[01:59:07] <bascule> it's called DNSSEC
[01:59:08] <bascule> :troll:
[01:59:24] <bascule> 1024-bit RSA is good enough for me!
[01:59:36] <bascule> send me an unauthenticated UDP request and I'll send you an amplified response!
[01:59:55] <cmr> :D
[02:02:51] <Ilari> eternaleye: The string tiffany gave doesn't look like GNUTLS ciphersuite string to me.
[02:03:34] <Ilari> NONE:+CTYPE-X.509:+COMP-NULL:+VERS-TLS1.2:+AES-128-GCM:+AES-256-GCM:+SALSA20-256:+SHA1:+SHA256:+SHA384:+SHA512:+AEAD:+DHE-RSA:+ECDHE-RSA:+ECDHE-ECDSA:+CURVE-SECP256R1:+CURVE-SECP384R1:+CURVE-SECP521R1:+SIGN-RSA-SHA256:+SIGN-ECDSA-SHA256:+SIGN-RSA-SHA384:+SIGN-ECDSA-SHA384:+SIGN-RSA-SHA512:+SIGN-ECDSA-SHA512
[02:07:58] <Ilari> eternaleye: Didn't OpenSSL at some point advise people to link against it statically?
[02:09:53] <cmr> lol that's great advice
[02:10:00] <cmr> "have our exploits -- forever!"
[02:11:04] <tiffany> maintaining ABI compatibility is pretty hard
[02:11:16] <tiffany> and it usually results in performance sacrifices and unnecessary heap allocations
[02:17:02] *** Joins: brson (brson@moz-ncl.7vl.56.172.IP)
[02:19:24] <Ilari> Especially if API is poorly designed pile of poo (like the openSSL one is).
[02:19:43] <tiffany> oh god yeah, openssl is so bad
[02:26:18] <Ilari> It is not bad, it is fucking horrible.
[02:26:42] <tiffany> I tried to add ssl to my irc bot a while ago
[02:27:00] <tiffany> I got so mad at openssl, gnutls, and NSS and how horrible their documentation and APIs are, that I had to go outside and take a breather
[02:27:09] <tiffany> and then use polarssl
[02:28:51] <Ilari> TLS renegotiation complicates applications, even if it is never used.
[02:30:48] <tiffany> polarssl was the only one which I could hook up async IO without needing to rely on out of date, insecure "tutorials" found from google
[02:35:30] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[02:36:54] <eternaleye> One more reason a nice simple KEX + AEAD + channel-binding system would be _so much better_
[02:37:21] <eternaleye> Want to renegotiate? Open a new channel, and do a handshake that validates both old and new channel binding.
[03:02:32] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[03:26:34] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:38:06] <bascule> tiffany: it's not "hard" to do async I/O with OpenSSL if you don't mind it getting all heavy handed with your file descriptors and the fact that reading OpenSSL API documentation aloud opens a hellmouth out of which Lucifer himself emerges and makes you surrender your soul in exchange for your own sanity
[03:38:38] <tiffany> it has some kind of memory "BIO" thing which you can use to avoid faffing with file descriptors
[03:38:45] <tiffany> but it is absolutely heavy-handed, at least compared to polarssl
[03:39:03] <tiffany> and yeah, documentation is poor to nonexistent
[03:40:14] <tiffany> that is a nice explanation for how the openssl devs aren't babbling and gurgling shells of people
[03:41:00] <eternaleye> Wait, they aren't? :P
[03:41:14] * bascule harkens back to https://www.usenix.org/system/files/1403_02-08_mickens.pdf
[03:41:32] <bascule> I think Ilari probably agrees with ^^^ ;)
[03:41:42] <bascule> burn down the web and start over from scratch! :D
[03:41:58] <bascule> The first log entry says that the browser executed a downloaded
[03:41:59] <bascule> file as JavaScript, even though the MIME type of the file was
[03:41:59] <bascule> text/html. Here’s a life tip: when you’re confused about what
[03:41:59] <bascule> something is, DON’T EXECUTE IT TO DISCOVER MORE
[03:41:59] <bascule> CLUES. This is like observing that your next-door neighbor
[03:42:01] <bascule> is a creepy, bedraggled man with weird eyes, and then you start
[03:42:03] <bascule> falling asleep on his doorstep using a chloroform rag as a pillow,
[03:42:06] <bascule> just to make sure that he’s not going to tie you to a radiator and
[03:42:08] <bascule> force you to paint tiny figurines. Here’s how your life story ends:
[03:42:11] <bascule> YOU ARE A PAINTER OF TINY FIGURINES.
[03:42:27] <bascule> such an important life lesson that is probably lost on 99% of the population
[03:43:05] <eternaleye> "Delightfully arranged into a hate flower thet blooms all year"
[03:43:18] <eternaleye> Every time I reread this article, I remember why I have it saved.
[03:43:29] <tiffany> I think I might have read this before
[03:48:02] <eternaleye> Also, I swear he hits every conjugation for "wrought" except the correct one (wreak)
[03:49:41] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[03:54:04] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Quit: WeeChat 1.1.1)
[03:54:46] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[04:07:37] <Ilari> I mean, I thought OAuth people were bad in tokbind, but it has apparently attracted proxy people too...
[04:22:52] *** Quits: brson (brson@moz-ncl.7vl.56.172.IP) (Ping timeout: 121 seconds)
[05:07:14] *** Quits: randati (antti@moz-6ovn9n.763s.ieq4.0708.2001.IP) (Ping timeout: 121 seconds)
[05:07:18] *** Joins: randati (antti@moz-efbu2g.763s.ieq4.0708.2001.IP)
[05:18:18] <adu> tokbind?
[05:21:35] <eternaleye> adu: An IETF group with the goal of specifying non-transferrable authorization tokens
[05:21:52] <eternaleye> adu: And going about it in a decidedly bass-ackwards way
[05:23:33] <adu> SMACK is kind of amazing
[05:24:05] <adu> I imagine it's a little more complicated than skipping steps
[06:23:45] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[06:57:01] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[07:28:52] *** Joins: ttaubert (uid2620@moz-6d2u0s.uxbridge.irccloud.com)
[07:39:48] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[10:11:47] *** Joins: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP)
[10:21:03] <Ilari> Also, channel binding to TLS is as hard as signing HTTP requests? Haha. I think channel binding to TLS is much easier, even if designing a new channel binding type that resists THS even without extended_master_secret.
[12:54:19] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[14:17:28] *** Quits: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[15:01:04] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[15:40:57] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[15:44:10] <bascule> Ilari: who said that? lol
[15:44:28] <bascule> I know PHB likes to ramble about signing HTTP requests
[15:45:28] <bascule> Russians wondering about ECDSA performance of Goldilocks
[15:45:59] <Ilari> Amos Jeffries
[15:46:37] <Ilari> Also, I think GOST is a good bit faster to sign than ECDSA.
[15:49:26] <Ilari> "The following HTTP structure is quite popular: client -> ISP proxy -> CDN -> origin"  ... Not on https://, it isn't.
[15:52:20] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[15:52:47] <Ilari> In fact, that structure is _explicitly_ disallowed for https://
[15:53:13] <lahwran> define structure, do you mean that each of those hops is an http server and client?
[15:53:19] <lahwran> or that it gets routed through them
[15:53:56] <Ilari> lahwran: Yeah, http client and server.
[15:54:06] <lahwran> yeah yuck
[15:54:17] <lahwran> isp proxy, though? what?
[15:55:03] <Ilari> Well, AFAIK Amos is one of those HTTP proxy vendor guys.
[16:00:22] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[16:10:09] * bascule publishes http://tonyarcieri.com/would-rust-have-prevented-heartbleed-another-look
[16:40:47] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[16:41:01] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[16:42:27] <Ilari> BTW: A graph of SSL CA-level certs: http://notary.icsi.berkeley.edu/trust-tree/ (happened to stumble on that).
[16:57:17] <Ilari> That huge cluster in the middle signing huge number of itermediate CA certificates is one organization holding pretty much all the certs in that bunch.
[16:57:41] <Tobba> swirly
[17:00:20] <bascule> Ilari: heh yeah I've seen that before, it's pretty awesome
[17:02:38] <Ilari> Good luck knowing all the organizations represented in that graph...
[17:31:14] <Ilari> The ruskie digital signatures are much less annoying to compute than US ones. :->
[17:33:07] <Ilari> Verification looks equally fast, but generation is faster due to missing inversion (which is also highly nasty to implement in constant-time).
[17:34:28] <Ilari> (The ECC lib I wrote does have constant-time scalar inversion. Blech.)
[17:38:01] <Ilari> It is just sqr-and-conditional-mul to power the number to appropriate power.
[17:40:55] <Ilari> Ruskie dsigs have fun property that digitial signature for H(m)=0 is the same as H(m)=1.
[17:42:19] <Ilari> So if the hash can produce all outputs of its bitlength, there exists two messages that don't collide the hash, but nevertheless share a signature.
[17:51:42] <bascule> oh joy, I'm on the front page of Hacker News
[17:52:02] <bascule> nows when I play "don't click the comments"
[18:01:23] *** Quits: ttaubert (uid2620@moz-6d2u0s.uxbridge.irccloud.com) (Quit: )
[18:31:33] <Ilari> Michael messes up crypto again... What a surprise. :->
[18:35:58] <Ilari> BTW: Tried to find protocol-level SSH2 attacks, and found SSH2 version of renego attack (doesn't seem to be exploitable).
[18:36:12] <Ilari> (Was some research paper)
[19:42:55] <tiffany> what was that thing about splitting up the transport layer?
[19:43:03] <tiffany> I can't find the link to it
[19:55:57] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[20:12:18] <Ilari> Allegedly Chrome on Android (5.1!) is vulernable to FREAK. Why the hell the code even exists?
[20:13:55] *** Joins: Tobba|Laptop (Tobba@moz-o13d22.bredband.telia.com)
[20:18:03] *** Quits: Tobba|Laptop (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[20:28:50] <eternaleye> Ilari: That structure is rare as hell as far as I've seen - more often, the ISP relies on DNS and BGP anycast to route people to nearby CDN nodes
[20:29:08] <eternaleye> Ilari: Since, you know, that doesn't break the shit out of everything https.
[20:30:54] <eternaleye> tiffany: http://dedis.cs.yale.edu/2009/tng/
[20:31:03] <tiffany> thanks
[20:37:21] <eternaleye> bascule: The HN comments are surprisingly not horrible
[20:37:49] <eternaleye> bascule: There are idiots in it, but they seem to be getting told "...no, that's a strawman. Here's why ..."
[20:38:10] <Ilari> I get the feeling that the most important usecases of tokbind for browsers are much much simpler to archive than the usecases for proxy vendors / OAuth guys.
[21:22:01] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[21:22:09] <bascule> Ilari: yup
[21:26:54] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[22:05:33] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[22:10:19] *** Joins: acharles (acharles@moz-nemm4b.fosshotel.is)
[22:37:09] *** Joins: adu (adu@moz-melbkr.ms5a.74ae.000a.2601.IP)
[22:49:34] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[23:32:34] *** Joins: brson (brson@moz-832.7vl.56.172.IP)
[23:35:23] <Ilari> (Seriously, where is that darn poll?) :-/
[23:45:34] <bascule> hahahahahahahaha Ilari 
[23:49:15] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[23:52:46] *** Quits: adu (adu@moz-melbkr.ms5a.74ae.000a.2601.IP) (Ping timeout: 121 seconds)
[23:53:57] *** Joins: adu (adu@moz-melbkr.ms5a.74ae.000a.2601.IP)
