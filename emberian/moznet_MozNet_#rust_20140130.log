[00:00:01] <ChrisMorgan> The third option is using generics.
[00:00:05] <mib_amaqi1> how do i return a trait object?
[00:00:10] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[00:00:29] <ChrisMorgan> mib_amaqi1: prefer not to use trait objects for things like iteration.
[00:00:58] <mib_amaqi1> oh, so i should use generics?
[00:01:08] <aatch> mib_amaqi1, Out of curiosity, why are you returning such a complex iterator?
[00:01:09] <ChrisMorgan> On the matter of generics, take, for example, the definition of chain: "fn chain<U: Iterator<A>>(self, other: U) -> Chain<Self, U>;"
[00:01:40] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[00:01:54] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[00:02:04] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[00:02:05] <ChrisMorgan> mib_amaqi1: yes. Generics are the recommended way of doing such things. Care about its being something that implements Iterator rather than being this particular structure, if you can.
[00:02:10] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[00:02:23] <Eridius> ChrisMorgan: that doesn't typically work for return types
[00:02:37] <pyon> Eridius: Just make the whole function generic over the return type.
[00:02:52] <ChrisMorgan> Eridius: yeah, it depends on what precisely you're doing.
[00:03:27] <aatch> Eridius, in this case it does, since the type is used in the call as well as the return type.
[00:06:53] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Quit: Savago)
[00:07:02] *** Quits: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de) (Connection reset by peer)
[00:07:32] *** Quits: lenstr (lenstr@1E12AA3A.9636F313.7A27613B.IP) (Client exited)
[00:07:52] *** Joins: patpatter (patpat@moz-1599AAE4.as13285.net)
[00:08:20] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[00:08:28] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[00:08:49] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[00:09:56] *** Parts: joebobjoe (Dale@moz-4014DDC7.ga.at.cox.net) ()
[00:10:09] *** Joins: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net)
[00:10:40] *** Quits: Maato (maato@moz-8E1B3F2F.adsl-surfen.hetnet.nl) (Quit: Leaving)
[00:10:56] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[00:11:51] *** Quits: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[00:12:21] *** Quits: alan_andrade (Adium@moz-B2C44770.car1.sanfrancisco1.level3.net) (Quit: Leaving.)
[00:12:21] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[00:13:01] <mib_amaqi1> ChrisMorgan, i dont think i can use generics, I'm not passing in the type in the function call, I'm just returning it
[00:13:20] <ChrisMorgan> mib_amaqi1: can you show your code?
[00:13:27] <mib_amaqi1> sure, 1 sex
[00:13:29] <mib_amaqi1> sec
[00:15:04] <mib_amaqi1> http://pastebin.com/Y9GKnkaS
[00:15:40] *** Joins: alonlevy (alon@DB6B629E.31F49B3D.AB64B967.IP)
[00:15:50] *** Quits: patpatter (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[00:15:59] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[00:20:20] *** Quits: alonlevy (alon@DB6B629E.31F49B3D.AB64B967.IP) (Ping timeout)
[00:20:27] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[00:21:14] <FreeFull> mib_amaqi1: Have you tried?
[00:21:20] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[00:21:26] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[00:21:26] *** ChanServ sets mode: +ao pcwalton pcwalton
[00:21:28] <mib_amaqi1> what would it look like?
[00:21:34] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[00:22:00] *** Quits: twi (Adium@moz-B47EFC08.dyn.iinet.net.au) (Quit: Leaving.)
[00:22:35] <mib_amaqi1> i tried some stuff but im pretty new
[00:22:45] <FreeFull> It'd involve 'a
[00:23:03] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[00:23:13] *** Quits: a_m0d (a_m0d@moz-2F294D00.acanac.net) (Quit: Leaving.)
[00:23:18] <mib_amaqi1> if i define a generic in the fn definition, with iterator trait and then have that as my return type it says type must be known
[00:23:27] <mib_amaqi1> and also that it expected T but found std::chain
[00:23:32] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[00:23:45] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[00:25:39] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Ping timeout)
[00:26:33] *** Quits: tq (tq@moz-9FE9CCF4.a251.priv.bahnhof.se) (Quit: tq)
[00:27:20] *** Joins: bakkdoor (bakkdoor@moz-E2F9D5CF.dip.osnanet.de)
[00:27:44] *** Quits: bakkdoor (bakkdoor@moz-E2F9D5CF.dip.osnanet.de) (Quit: Linkinus - http://linkinus.com)
[00:27:49] *** Joins: bakkdoor (bakkdoor@moz-E2F9D5CF.dip.osnanet.de)
[00:27:57] *** Joins: alan_andrade (Adium@moz-B2C44770.car1.sanfrancisco1.level3.net)
[00:27:59] *** Quits: hoverbear (hoverbear@moz-E7E649DE.eduroam.wireless.uvic.ca) (Quit: Taking a nap.)
[00:28:02] *** Quits: bakkdoor (bakkdoor@moz-E2F9D5CF.dip.osnanet.de) (Quit: Linkinus - http://linkinus.com)
[00:28:33] *** Joins: bakkdoor (bakkdoor@moz-E2F9D5CF.dip.osnanet.de)
[00:28:38] *** Quits: bakkdoor (bakkdoor@moz-E2F9D5CF.dip.osnanet.de) (Quit: bakkdoor)
[00:28:43] *** Quits: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP) (Input/output error)
[00:29:33] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[00:30:05] *** Joins: bakkdoor (bakkdoor@moz-E2F9D5CF.dip.osnanet.de)
[00:31:20] *** Joins: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP)
[00:32:47] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[00:33:46] *** Joins: derek_c (derek@moz-5E77E51.cit.cornell.edu)
[00:33:58] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:38:30] <bvssvni> mib_amaqi1: one way to solve is using a macro instead
[00:39:29] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[00:39:41] <bvssvni> *this
[00:40:49] <bvssvni> mib_amaqi1: you can also try writing a custom Iterator
[00:42:31] <bvssvni> mib_amaqi1: the custom iterator can use the wrapped iter internally
[00:43:05] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Quit: Textual IRC Client: www.textualapp.com)
[00:43:48] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[00:43:54] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[00:45:39] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[00:45:46] *** Quits: nical (nico@moz-4754F405.fbx.proxad.net) (Client exited)
[00:48:44] *** Joins: fyolnish (fyolnish@moz-A05755B.uqwimax.jp)
[00:48:50] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[00:50:03] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[00:50:27] *** Quits: fyolnish (fyolnish@moz-A05755B.uqwimax.jp) (Ping timeout)
[00:51:59] *** Quits: trinary (Adium@moz-D78CD0D5.hsd1.co.comcast.net) (Quit: Leaving.)
[00:53:29] *** Quits: mib_amaqi1 (Mibbit@moz-C2CEB1AA.cable.virginm.net) (Quit: http://www.mibbit.com ajax IRC Client)
[00:54:01] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[00:55:17] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[00:56:13] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Ping timeout)
[00:58:24] *** Quits: nik_ (nik@moz-7B579E72.pool.mediaways.net) (Client exited)
[01:00:21] *** Joins: hoverbear (hoverbear@moz-94D493F2.wireless.uvic.ca)
[01:00:25] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[01:01:17] *** Quits: dherman (dherman@moz-21F91504.cfw-a-gci.corp.yahoo.com) (Quit: dherman)
[01:02:00] *** flaper87 is now known as flaper87|afk
[01:02:04] *** kimundi is now known as zz_kimundi
[01:02:09] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[01:06:30] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[01:08:33] *** Quits: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net) (Quit: kellogh)
[01:09:54] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[01:11:41] *** Quits: hoverbear (hoverbear@moz-94D493F2.wireless.uvic.ca) (Ping timeout)
[01:12:26] *** Joins: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net)
[01:13:40] *** Joins: Erik_ (Erik_S@moz-E7E31D21.hlrn.qwest.net)
[01:13:51] *** Joins: hoverbear (hoverbear@moz-94D493F2.wireless.uvic.ca)
[01:14:41] *** Quits: Armavica (virgile@moz-AD428ED7.ens.fr) (Ping timeout)
[01:15:18] *** Joins: twi (Adium@E27EEC3D.C80A4254.D35A31DF.IP)
[01:15:42] *** Joins: fyolnish (fyolnish@moz-A05755B.uqwimax.jp)
[01:16:52] *** Joins: kvanb (kvanb@moz-C8D7D30C.lnse7.win.bigpond.net.au)
[01:18:06] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Quit: canhtak)
[01:18:41] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[01:18:52] *** Quits: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw) (Ping timeout)
[01:18:57] *** Joins: m_kato (m_kato@moz-C286AD9A.bitcat.net)
[01:19:02] *** Joins: devbug_ (quassel@23AC5F12.9D950176.3655BBF5.IP)
[01:19:35] *** Quits: devbug_ (quassel@23AC5F12.9D950176.3655BBF5.IP) (Input/output error)
[01:20:42] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[01:21:12] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[01:21:47] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[01:22:04] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[01:22:56] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[01:22:57] *** Joins: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw)
[01:23:43] *** Quits: fyolnish (fyolnish@moz-A05755B.uqwimax.jp) (Client exited)
[01:23:52] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[01:24:06] *** Joins: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net)
[01:24:46] *** Quits: pnkfelix (pnkfelix@moz-B1D2E7D0.pck.nerim.net) (Quit: rcirc on GNU Emacs 24.3.1)
[01:25:37] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[01:25:43] *** Quits: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net) (Quit: kellogh)
[01:26:33] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[01:29:25] *** Quits: hoverbear (hoverbear@moz-94D493F2.wireless.uvic.ca) (Quit: Taking a nap.)
[01:31:34] *** Joins: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net)
[01:32:46] *** Quits: eibwen (kvirc@moz-D518522.dip0.t-ipconnect.de) (Ping timeout)
[01:33:23] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[01:35:02] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[01:35:40] *** Joins: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net)
[01:35:41] *** Joins: hoverbear (hoverbear@moz-94D493F2.wireless.uvic.ca)
[01:36:10] *** Quits: SimonSapin (simon@moz-9A1FE870.exyr.org) (Ping timeout)
[01:37:09] *** Joins: hoverbea_ (hoverbear@moz-E7E649DE.eduroam.wireless.uvic.ca)
[01:37:24] *** Quits: hoverbear (hoverbear@moz-94D493F2.wireless.uvic.ca) (Ping timeout)
[01:37:47] *** Joins: SimonSapin (simon@moz-9A1FE870.exyr.org)
[01:39:53] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:41:11] *** Quits: hoverbea_ (hoverbear@moz-E7E649DE.eduroam.wireless.uvic.ca) (Quit: Taking a nap.)
[01:41:24] *** Joins: hoverbear (hoverbear@moz-E7E649DE.eduroam.wireless.uvic.ca)
[01:42:06] *** Quits: hoverbear (hoverbear@moz-E7E649DE.eduroam.wireless.uvic.ca) (Quit: Taking a nap.)
[01:43:01] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[01:43:21] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:45:02] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[01:46:22] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[01:46:23] *** Quits: SimonSapin (simon@moz-9A1FE870.exyr.org) (Ping timeout)
[01:46:32] *** Quits: franckverrot (Franck_Ver@C3033BF6.B86F1645.C91367C6.IP) (Ping timeout)
[01:47:27] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:47:31] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[01:47:31] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[01:47:47] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[01:47:56] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[01:49:09] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[01:49:40] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[01:50:08] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[01:50:47] *** Quits: andreasvc (andreasvc@moz-29FD4A0A.dynamic.upc.nl) (Ping timeout)
[01:52:30] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[01:52:44] *** Joins: hoverbear (hoverbear@moz-94D493F2.wireless.uvic.ca)
[01:52:50] *** Quits: hoverbear (hoverbear@moz-94D493F2.wireless.uvic.ca) (Quit: hoverbear)
[01:53:50] *** Quits: b (b@moz-55CA322E.org) (Quit: !)
[01:54:46] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[01:55:39] *** Joins: b (b@moz-55CA322E.org)
[01:55:44] *** Quits: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP) (Input/output error)
[01:56:22] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[01:56:50] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Ping timeout)
[01:56:50] *** Joins: SimonSapin (simon@moz-9A1FE870.exyr.org)
[02:00:03] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[02:00:59] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[02:01:17] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[02:01:44] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[02:02:18] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[02:02:41] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[02:02:41] *** Quits: bakkdoor (bakkdoor@moz-E2F9D5CF.dip.osnanet.de) (Quit: Leaving...)
[02:05:14] *** Joins: netoarmando (textual@moz-AEF322CB.dsl.telesp.net.br)
[02:07:27] *** Joins: hoverbear (hoverbear@moz-94D493F2.wireless.uvic.ca)
[02:08:50] *** Joins: josell (Mibbit@moz-CA4C7B3C.prtc.net)
[02:09:28] *** Quits: rootnode (rootnode@moz-7FAB5E8.ip1.george24.com) (Ping timeout)
[02:10:01] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[02:10:10] <josell> Java
[02:10:16] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[02:10:16] *** ChanServ sets mode: +ao pcwalton pcwalton
[02:10:41] <zxcdw> Yes, Java!
[02:11:03] <josell> I was just testing the chat :-)
[02:12:23] <mcpherrin> Rust
[02:12:28] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Connection reset by peer)
[02:12:34] *** Joins: ptc (Adium@6C906E9F.9ECAA4DB.BCDD830B.IP)
[02:12:50] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[02:13:02] <josell> Go
[02:13:27] * zxcdw Goes
[02:13:32] <bvssvni> Go Rust!
[02:13:53] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:14:28] <josell> I want to develop some Rust, but I don't have experience on working with other people through Github.
[02:15:13] <josell> I also have to learning Rust, and I'm actually compiling it in linux to use it.
[02:15:34] <josell> How do you help Rust's development?
[02:15:55] <bvssvni> josell: read a lot :)
[02:16:12] <bvssvni> josell: report bugs
[02:16:21] <mcpherrin> Most importantly, write code!
[02:16:55] <josell> Thanks for you tip, but there's not a lot to read about rust. However, I hope someday to be helpful in an important open source project.
[02:17:34] *** Quits: Mowah (Mowah@moz-8548F376.cust.bredbandsbolaget.se) (Ping timeout)
[02:17:38] <aatch> josell, I suggest first learning some basic Rust.
[02:17:49] <aatch> Write some code in it, make something simple.
[02:18:13] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[02:18:22] <alan_andrade> Personally I've been playing around with https://github.com/uutils/coreutils to learn. It has been great
[02:18:37] <mcpherrin> josell: There's not a lot, but there are things to read.  The official tutorial, all the guides, and Rust for rubyists
[02:18:48] <mcpherrin> not to mention all the blog posts, and the code itself
[02:18:54] *** Quits: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP) (Ping timeout)
[02:18:55] <josell> Thanks, aatch. I'll read the tutorial again because I still not understanding ownership.
[02:19:01] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[02:19:17] <aatch> josell, what languages have you used before?
[02:19:45] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[02:19:49] <josell> I think I'll try Rust for Rubyists, mcpherrin. 
[02:19:56] <alan_andrade> There has been discussions about the tutorial being not very good. In my opinion is because is targeted for advanced developers
[02:20:17] <bvssvni> in a way, Rust is targeting advanced develops
[02:20:20] <mcpherrin> I think if you know C|C++, most of Rust isn't too hard to pick up
[02:20:26] <aatch> alan_andrade, well to some extent, Rust is aimed at, at least, experienced developers.
[02:20:41] <aatch> It's never going to be ameniable to beginner programmers.
[02:20:51] *** Joins: trinary (Adium@moz-D78CD0D5.hsd1.co.comcast.net)
[02:20:52] <josell> Thanks for that, alan_andrade -- Interesting code
[02:21:02] *** Joins: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net)
[02:21:26] <josell> This is my code. No serious stuff, but something: https://github.com/fluorine
[02:21:31] <tiffany> I think the optimal mindset for getting into rust is probably someone with a background in both FP and C/C++
[02:21:56] <aatch> The tutorial does still need improving. And assuming a high-level of knowledge is asking for trouble.
[02:22:02] *** Joins: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP)
[02:22:06] <tiffany> some of rust's design decisions (such as forcing all members of a struct to be provided at creation) don't make as much sense to a C programmer
[02:22:38] <jxs> there are some concepts implicit in the tutorial that should be better explained imho
[02:22:46] <jxs> is the tutorial on a repo or so also?
[02:22:47] <josell> tiffany I love functional programming. Recursion... orgasm.
[02:22:52] <aatch> However, if you're wrestling with the idea of control flow and data structures, then Rust is going to make your head explode
[02:22:59] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[02:23:04] <tiffany> rust doesn't handle recursion very well because of the lack of tail call optimization
[02:23:05] <aatch> jxs, the tutorial is in the main repo
[02:23:09] *** jorendorff is now known as jorendorff_away
[02:23:20] <strcat> tiffany: they make sense to a C programmer who is told rust enforces memory safety by default
[02:23:25] <jxs> ok aatch thnx will check into that
[02:23:28] <strcat> you don't *have* to initialize all fields of a struct
[02:23:30] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[02:23:34] <strcat> you can use uninit(), but it requires unsafe {}
[02:23:46] <bvssvni> nice
[02:23:47] <aatch> tiffany, to be clear, it doesn't handle using recursion as a replacement for loops.
[02:23:56] <alan_andrade> aatch: Agreed on that one, however, I believe Rust might exploit the opportunity where not very experience developers are joining the community
[02:23:58] *** Quits: jdm (jdm@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: Lost terminal)
[02:24:02] <tiffany> strcat: that doesn't mean anything to a C programmer who doesn't have a good grasp of C's memory model though
[02:24:07] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[02:24:22] <strcat> tiffany: if they don't understand the basics of uninitialized memory and undefined behaviour they're not a C programmer ;p
[02:24:23] <josell> Too bad, tiffany. Recursion is sublime.
[02:24:34] <strcat> rust doesn't guarantee tail call optimization
[02:24:41] <strcat> LLVM certainly does do it, and it's the only rust backend atm
[02:24:44] <bvssvni> Rust can be a way to learn some functional programming, for people who are used to imperative programming
[02:24:44] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[02:25:02] <alan_andrade> The fact is that this community is awesome and more people are joining because of that
[02:25:05] * strcat doesn't think rust is very functional
[02:25:24] <tiffany> there's a lot of places I use mut in rust  where it's ugly but the functional solution is either uglier or impossible
[02:25:27] <strcat> closures are one of the weakest points of the language atm, although it will get better
[02:25:41] <strcat> rust has no persistent data structures in libstd
[02:25:48] <alan_andrade> If we can give at least some pointers on where to look, I think that would help a lot to start other developers understand Rust and actually contribute
[02:25:49] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[02:25:58] <strcat> and atm, no effects system
[02:25:59] <aatch> I think Rust's functional chops only go as far as having better support for functional-style programming.
[02:26:04] <strcat> so no enforcing purity
[02:26:10] <strcat> aatch: well, better support than which language?
[02:26:22] <strcat> better support than C, sure
[02:26:27] <strcat> better support than C++? not yet
[02:26:40] <strcat> (but it will get there)
[02:26:59] <aatch> strcat, to be fair, C++'s support for functional programming was only as good as C's until recently.
[02:27:14] <strcat> aatch: it was pretty good before C++11
[02:27:23] <josell> Are you people suggesting that rust is not perfect?
[02:27:40] *** Quits: azakai_ (alon@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[02:27:43] <strcat> no, saying it's not much of a functional language :P
[02:28:32] <josell> Well, it's a system language after all
[02:28:50] <josell> We should not expect more from simple very useful tools
[02:28:53] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Quit: canhtak)
[02:28:54] <strcat> where to me, a functional language has guaranteed tail call elimination or at least a way of doing it manually, persistent data structures available rather than just mutable ones, solid closures, etc.
[02:29:05] <alan_andrade> Who has write access the the Rust 1.0 spreadsheet ?
[02:29:14] <strcat> and... hopefully, some form of purity guarantees
[02:29:15] <aatch> Rust is a brilliant systems language, a few bumps here and there. Some challenges that come from a time when it wasn't quite as focused.
[02:29:30] <alan_andrade> I'd like to claim "Guide improvement"
[02:29:48] <strcat> alan_andrade: I don't think that's a 1.0 blocker, 1.0 is about backwards compatibility
[02:29:51] <josell> I hope someday some people will write the first Unix clone in rust
[02:30:05] <strcat> they will be improved by then, but not necessarily as much as you want
[02:30:13] <alan_andrade> hmm gotcha
[02:31:09] <strcat> aatch: http://www.boost.org/doc/libs/1_55_0/libs/phoenix/doc/html/phoenix/modules/scope/lambda.html C++03 lambdas :P
[02:31:18] <strcat> aatch: can do crazy things with expression templates
[02:31:58] <aatch> strcat, that's just mad...
[02:32:56] <strcat> aatch: http://www.boost.org/doc/libs/1_55_0/libs/phoenix/doc/html/index.html well... look at the rest ;p
[02:34:14] <strcat> in some ways it's still nicer than C++11 lambdas
[02:34:39] <aatch> Anyway, my thing with Rust is the memory-model stuff. The ownership and region system make writing performant code so much easier.
[02:34:51] <josell> Meanwhile, in Oracle: http://www.youtube.com/watch?v=Mk3qkQROb_k
[02:34:54] <strcat> yep, it's good at isolating unsafety
[02:35:13] <aatch> I personally don't care about the concurrency or functional stuff.
[02:35:47] <aatch> I care that I can write a wrapper for malloc'd data and implement a safe realloc method.
[02:36:18] *** Quits: derek_c (derek@moz-5E77E51.cit.cornell.edu) (Ping timeout)
[02:37:03] <bvssvni> I have a difficulty pointing out a favorite feature of Rust, there is so many of them
[02:37:44] <bvssvni> the main thing is making it easier to maintain a large codebase
[02:38:01] <aatch> I've spent enough time debugging memory corruption errors and segfaults in C/C++ that finding a "favorite" was easy.
[02:38:10] *** Quits: onelson (onelson@moz-DD666EC5.laika.com) (Quit: Leaving.)
[02:38:21] <aatch> On top of that, the memory safety aspect of Rust is pretty unique.
[02:38:34] <aatch> As far as I know, the region system is unique in industry languages.
[02:38:38] <bvssvni> to be able to compile standalone binary is cool
[02:39:28] <aatch> Every other language either takes the easy way out and uses garbage collection or is C/C++
[02:39:41] <mcpherrin> aatch: I think a lot of this stuff pre-existed in other langauges like cyclone
[02:39:58] <aatch> mcpherrin, it did, but Cyclone is a research language.
[02:40:12] <mcpherrin> I don't like that distinction :-)
[02:40:22] <aatch> Rust is, as far as I know, the only language that is designed for industry use that uses it.
[02:40:28] <mcpherrin> Why is AT&T Labs more research than Mozilla Labs?
[02:41:01] <aatch> mcpherrin, my experience has been that "research" languages are designed in a way that makes them easy to play with it.
[02:41:04] <mcpherrin> anyways, Rust is certainly alive now and Cyclone isn't so it's got that going :-)
[02:41:38] <strcat> aatch: ATS
[02:42:18] <aatch> strcat, oh yeah, forgot about that.
[02:43:56] <aatch> mcpherrin, I'm not disparaging research languages, I just consider them a different stage of development. They explore the design space without having to worry about questions like "what if somebody wants to do <insert mad thing here>"
[02:44:06] <bvssvni> Rust is the kind of language you can order "yes, everything please"
[02:44:11] <jxs> guys, in the tutorial http://static.rust-lang.org/doc/master/tutorial.html#enums, the first enum, when it says Circle and Rectangle are functions what does that mean? have they been defined previously? 
[02:44:58] <josell> bye, see youlater
[02:45:01] <aatch> Why does the tutorial say they're functions?! I mean, they are, but it probably shouldn't say it in the tutorial.
[02:45:04] <aatch> That's just confusing.
[02:45:16] *** Quits: josell (Mibbit@moz-CA4C7B3C.prtc.net) (Quit: http://www.mibbit.com ajax IRC Client)
[02:45:23] *** Joins: jeffdb (jeffbelg@moz-ABCAA64B.efi.com)
[02:45:58] <aatch> jxs, declaring enums like that creates construction functions for those variants. It's pretty much an implementation detail and shouldn't be in the tutorial.
[02:46:54] <bvssvni> never thought of it as functions
[02:47:29] <aatch> rusti: enum F { Foo(int) } Foo
[02:47:32] -rusti- fn(int) -> main::F
[02:47:48] <bvssvni> cool
[02:47:52] *** Joins: claudiuc (claudiuc@moz-33191099.thefacebook.com)
[02:47:56] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:48:17] <aatch> I'm not sure of it's status though. I'm personally against it them being functions full-stop.
[02:48:24] <jxs> sorry, aatch, but what do you mean as construction functions?
[02:48:33] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[02:48:35] <aatch> jxs, a function that you call to construct the type.
[02:49:15] <jxs> ok, then there has to be a type Circle defined previously
[02:49:17] <jxs> right?
[02:49:33] *** Quits: igork (igork@moz-D312758C.broadband.corbina.ru) (Quit: Leaving)
[02:49:38] <aatch> jxs, no, Circle is the variant, the type is Shape
[02:49:39] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:50:30] <aatch> jxs, I suggest ignoring that bit and just knowing that you make a variant of an enum that looks like that by doing 'Circle(point, radius)'
[02:51:01] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[02:51:04] *** Joins: dbaupp (Thunderbir@5A4F80CD.D5A1DCF.37681C44.IP)
[02:51:07] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[02:51:50] *** Quits: claudiuc (claudiuc@moz-33191099.thefacebook.com) (Quit: Leaving)
[02:51:52] *** Joins: claudiuc (claudiuc@moz-33191099.thefacebook.com)
[02:52:28] *** Quits: claudiu (claudiu@moz-70F9251D.thefacebook.com) (Input/output error)
[02:52:48] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[02:53:09] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[02:53:59] <bvssvni> rusti: enum F { Foo(int), Bar(int) } create(f: &fn(int) -> F, p: int) -> F { (*f)() } create(&Foo, 2)
[02:53:59] *** Joins: copumpkin (copumpkin@moz-D9B414AF.hfc.comcastbusiness.net)
[02:53:59] -rusti- <anon>:10:47: 10:48 error: expected `,` but found `:`
[02:54:00] -rusti- <anon>:10         enum F { Foo(int), Bar(int) } create(f: &fn(int) -> F, p: int) -> F { (*f)() } create(&Foo, 2)
[02:54:00] -rusti-                                                         ^
[02:54:00] -rusti- application terminated with error code 101
[02:54:23] <vadimcn>  strcat: I am confused: if I write 'let iter = vec.mut_iter()', does the vector become accessible only through the iterator?  Or is that different from `&mut` borrow ?
[02:54:46] <jxs> ok aatch thanks, and for example the comparison to the tagged union pattern in c doesn't make more sense with the enum's with structs?
[02:54:59] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[02:55:29] <strcat> vadimcn: well it won't let you mutate the vector elsewhere, or borrow it
[02:55:31] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[02:55:33] *** Quits: netoarmando (textual@moz-AEF322CB.dsl.telesp.net.br) (Quit: )
[02:56:23] *** Joins: ptc1 (Adium@moz-192425C4.nyc.res.rr.com)
[02:56:26] <aatch> jxs, forget about the function thing. Enum variants that look like this: 'Circle(Point, f64)' are the same as variants that look like this: 'Circle { position: Point, radius: f64}' except thhat the fields aren't named
[02:57:14] <vadimcn> strcat: you've said "An `&mut` borrow will prevent reads not through that borrow."   I thought that means that I cannot do things like 'vec[0] = 1' while that iterator exists
[02:57:28] <strcat> vadimcn: you can't do vec[0] = 1
[02:57:41] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Ping timeout)
[02:57:47] *** Quits: ptc (Adium@6C906E9F.9ECAA4DB.BCDD830B.IP) (Ping timeout)
[02:57:56] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[02:58:09] *** Quits: ptc1 (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[02:58:26] *** Quits: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo_)
[02:58:46] <vadimcn> strcat: oh, sorry I meant the other way round, of course:  'let x = vec[0]'
[02:59:04] <vadimcn> that's a read, is it not?
[02:59:04] <strcat> vadimcn: well, I don't think it will let you call a &self method
[02:59:11] <strcat> so for a custom type you can stop it
[02:59:12] <strcat> vadimcn: yes
[02:59:18] <strcat> vadimcn: but it's by-value
[02:59:21] *** Joins: wry (wry@620605B3.71150E1A.237AE2BA.IP)
[02:59:37] <jxs> ok aatch understood thanks!
[02:59:39] *** Joins: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net)
[02:59:40] *** Quits: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo_)
[02:59:44] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:59:51] *** Quits: Blub\1 (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[02:59:56] *** Quits: alan_andrade (Adium@moz-B2C44770.car1.sanfrancisco1.level3.net) (Quit: Leaving.)
[03:00:40] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[03:00:51] <vadimcn> strcat: ok, so it prevents other borrows, not reads per se, right?
[03:01:06] <strcat> vadimcn: yeah
[03:01:33] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[03:01:52] *** Joins: derek_c (derek@moz-CE6E60A5.cit.cornell.edu)
[03:02:23] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[03:02:31] <vadimcn> strcat: so it wouldn't do for preventing observation of transient states during an async operation.  that's what I meant in that thread about futures.
[03:03:07] <strcat> vadimcn: you can prevent reads by only exposing &self methods though
[03:03:21] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[03:04:00] *** Quits: twi (Adium@E27EEC3D.C80A4254.D35A31DF.IP) (Quit: Leaving.)
[03:04:52] <vadimcn> strcat: but then async operations could not use plain old vectors for data buffers
[03:05:22] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[03:05:58] <strcat> vadimcn: they can use a wrapped vector, the special case only exists for the built-in ones
[03:06:43] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[03:07:36] *** Quits: derek_c (derek@moz-CE6E60A5.cit.cornell.edu) (Ping timeout)
[03:07:44] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[03:08:45] <vadimcn> strcat: but it couldn't wrap an existing on-stack vector, right?   It would have to be private to the buffer object (and probably heap-allocated, since Rust does not have numeric parameters for generics).
[03:09:21] <strcat> vadimcn: it will probably get associated constants before async is sorted out ;p
[03:10:00] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[03:10:17] <vadimcn> ok, thanks for clarification!
[03:11:47] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[03:12:48] *** Joins: Mowah (Mowah@moz-8548F376.cust.bredbandsbolaget.se)
[03:13:06] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[03:14:11] *** Quits: claudiuc (claudiuc@moz-33191099.thefacebook.com) (Ping timeout)
[03:16:25] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Ping timeout)
[03:16:26] *** Joins: claudiuc (claudiuc@moz-33191099.thefacebook.com)
[03:16:46] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[03:19:35] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[03:19:52] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[03:22:06] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[03:22:09] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[03:23:44] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[03:25:20] *** Joins: andreasvc (andreasvc@moz-29FD4A0A.dynamic.upc.nl)
[03:25:36] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[03:26:27] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[03:26:52] *** Quits: hoverbear (hoverbear@moz-94D493F2.wireless.uvic.ca) (Quit: Taking a nap.)
[03:26:58] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[03:27:41] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[03:27:41] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Connection reset by peer)
[03:27:42] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[03:27:59] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Connection reset by peer)
[03:28:13] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[03:28:22] *** Quits: zz_kimundi (kimundi@moz-F50B31A7.dip0.t-ipconnect.de) (Ping timeout)
[03:29:53] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[03:30:34] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Connection reset by peer)
[03:30:40] *** Joins: ptc (Adium@6C906E9F.9ECAA4DB.BCDD830B.IP)
[03:30:59] *** Parts: ptc (Adium@6C906E9F.9ECAA4DB.BCDD830B.IP) ()
[03:31:51] *** Joins: zz_kimundi (kimundi@moz-260B6EEA.dip0.t-ipconnect.de)
[03:32:17] *** zz_kimundi is now known as kimundi
[03:33:03] *** Quits: claudiuc (claudiuc@moz-33191099.thefacebook.com) (Ping timeout)
[03:35:30] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[03:37:51] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[03:38:40] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[03:39:09] *** Quits: pyon (user@5D202184.695050F8.E6392873.IP) (Quit: ERC Version 5.3 (IRC client for Emacs))
[03:39:16] *** Joins: claudiuc (claudiuc@moz-33191099.thefacebook.com)
[03:39:24] *** Quits: stereosteve (stereostev@moz-C6CCE177.cable.mindspring.com) (Client exited)
[03:41:53] *** Quits: claudiuc (claudiuc@moz-33191099.thefacebook.com) (Ping timeout)
[03:43:17] *** Joins: ptc1 (Adium@moz-192425C4.nyc.res.rr.com)
[03:45:00] *** Quits: ptc1 (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[03:45:11] *** Joins: franckverrot (Franck_Ver@C3033BF6.B86F1645.C91367C6.IP)
[03:45:35] *** Joins: ntp (rest@moz-5E7DF880.cpe.net.cable.rogers.com)
[03:46:56] *** Joins: crail (crail@moz-D7728DCD.dhcp.insightbb.com)
[03:47:17] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[03:47:47] *** Quits: ntp (rest@moz-5E7DF880.cpe.net.cable.rogers.com) (Ping timeout)
[03:47:51] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[03:49:30] *** Quits: andreasvc (andreasvc@moz-29FD4A0A.dynamic.upc.nl) (Ping timeout)
[03:52:51] *** Joins: a_m0d (a_m0d@moz-2F294D00.acanac.net)
[03:54:19] *** Joins: Diamond (dick@moz-80556682.ks.ks.cox.net)
[03:55:52] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[03:57:27] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[03:58:37] *** Joins: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca)
[04:00:18] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[04:00:42] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Quit: Leaving...)
[04:01:43] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[04:02:02] *** Joins: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net)
[04:02:10] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[04:03:24] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[04:03:51] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[04:04:27] *** Joins: alan_andrade (Adium@moz-B2C44770.car1.sanfrancisco1.level3.net)
[04:05:37] *** Quits: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net) (Quit: Leaving.)
[04:06:58] *** Joins: twi (Adium@E27EEC3D.C80A4254.D35A31DF.IP)
[04:07:22] *** Quits: gwty (gwtypc@4014B10F.C875E086.8A00C703.IP) (Ping timeout)
[04:07:31] *** Quits: alan_andrade (Adium@moz-B2C44770.car1.sanfrancisco1.level3.net) (Quit: Leaving.)
[04:07:59] *** Quits: a_m0d (a_m0d@moz-2F294D00.acanac.net) (Quit: Leaving.)
[04:09:22] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[04:13:50] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[04:15:31] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[04:15:36] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[04:17:42] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[04:17:46] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[04:19:22] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[04:19:52] *** Quits: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP) (Quit: WeeChat 0.4.3-dev)
[04:20:31] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[04:20:43] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[04:20:59] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[04:21:13] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[04:21:46] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[04:22:08] *** Quits: MrByte (Dartakio@moz-81792842.chy-wy.client.bresnan.net) (Ping timeout)
[04:22:24] *** Joins: MrByte (Dartakio@moz-81792842.chy-wy.client.bresnan.net)
[04:23:07] *** Quits: wry (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[04:23:14] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Connection reset by peer)
[04:23:21] *** Joins: wry (wry@620605B3.71150E1A.237AE2BA.IP)
[04:23:27] *** Quits: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP) (Quit: Lost terminal)
[04:23:32] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[04:23:42] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[04:23:52] *** Joins: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP)
[04:24:02] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[04:25:22] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[04:25:47] *** Quits: crail (crail@moz-D7728DCD.dhcp.insightbb.com) (Client exited)
[04:26:57] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[04:27:56] *** jorendorff_away is now known as jorendorff
[04:28:18] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[04:28:56] *** Joins: fyolnish_ (fyolnish@moz-BE2BAE5B.miinet.jp)
[04:29:43] *** Quits: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net) (Quit: kellogh)
[04:30:00] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[04:30:46] *** Quits: fyolnish_ (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[04:30:58] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[04:32:07] *** Joins: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com)
[04:33:39] *** Quits: anonymous_29563 (Mibbit@moz-A082F561.adsl.xtra.co.nz) (Quit: http://www.mibbit.com ajax IRC Client)
[04:33:52] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[04:34:13] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[04:34:51] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[04:35:17] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[04:35:35] *** Joins: pyon (user@5D202184.695050F8.E6392873.IP)
[04:35:47] *** Quits: jeffdb (jeffbelg@moz-ABCAA64B.efi.com) (Quit: Leaving.)
[04:36:35] <kvark> Hello! why does rust say "link" attribute is deprecated here? https://gist.github.com/kvark/e60afea7f59b55780021
[04:37:21] <bvssvni> kvark: use 'crate_id' instead
[04:37:31] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[04:37:53] <kvark> bvssvni: I have crate_id. I want to use "link" to link to native dynamic lib (glfw)
[04:37:58] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[04:38:36] <bvssvni> kvark: extern mod links automatically
[04:38:55] <bvssvni> kvark: you need to pass the "-L" flag to rustc
[04:39:40] <bvssvni> kvark: the "link" attribute was used to give a link id to the crate, but it is now replace by crate_id
[04:39:49] <bvssvni> *replaced
[04:40:25] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[04:41:07] <kvark> bvssvni: isn't extern mod looking only for rust modules? I'm linking with those just fine. What doesn't work is linking against the *native* glfw lib
[04:41:29] *** Quits: davbo (dave@moz-84455EE7.skybroadband.com) (Ping timeout)
[04:41:45] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[04:42:09] <bvssvni> kvark: ah, then you should check out https://github.com/bjz/glfw-rs
[04:42:20] <kvark> I'm using it...
[04:42:37] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: sleep)
[04:42:49] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[04:43:08] <kvark> bvssvni: "error: could not find dynamic library for: `glfw`" implies I need to link to the native lib as well
[04:43:25] <aatch> the link args are, apparently, not propagated properly right now
[04:43:43] <bvssvni> kvark: could it be you need to install glfw?
[04:44:28] <bjz> kvark: did you add it to you --link-args flag?
[04:44:32] <kvark> bvssvni: I have glfw package installed on my Arch system, and I can see  /usr/lib/libglfw.so.3.0
[04:44:37] <bjz> -lglfw?
[04:44:49] *** Joins: davbo (dave@moz-84455EE7.skybroadband.com)
[04:45:06] *** Quits: jcmoyer (deadbeef@moz-40035C19.sta.embarqhsd.net) (Connection reset by peer)
[04:45:24] <kvark> bjz: no, I thought that's what link attribute is for (puzzled now)
[04:45:59] <sp3d> placing "#[link(name = "glfw")]" before an item makes rustc add "-lglfw" to its linker args, yeah
[04:46:33] <kvark> bjz: thing is, it's still unable to find glfw( error: could not find dynamic library for: `glfw` )
[04:46:51] * bjz cries at link args
[04:46:54] <dbaupp> sp3d: not before an item
[04:47:02] <dbaupp> only before an extern {} block
[04:47:02] <bjz> kvark: so you don't have a ;?
[04:47:08] <sp3d> dbaupp: oh
[04:47:16] <bjz> kvark: it is directly befor an extern block?
[04:47:17] <kvark> bjz: also, "pkg-config --libs glfw" says "Package glfw was not found in the pkg-config search path." ... X_X
[04:47:33] <bjz> kvark: you are on mac right?
[04:47:45] <kvark> bjz: I tried with ';' first, and that's where it started (see https://gist.github.com/kvark/e60afea7f59b55780021)
[04:47:48] <kvark> I'm on Arch Linuux
[04:48:01] <bjz> weird
[04:48:09] <bjz> ohh
[04:48:11] <bjz> pkg-config --libs glfw3
[04:48:15] <bjz> remember the 3
[04:48:28] <kvark> bjz: ok, responds with "-lglfw"
[04:48:36] <bjz> #[link(name = "glfw")] extern {}
[04:48:37] <kvark> which is what I've been trying to do
[04:48:41] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[04:50:24] <kvark> bjz: same error: could not find dynamic library for: `glfw`
[04:50:57] <kvark> how can I get rustc link args?
[04:51:08] <bjz> --link-args
[04:51:51] <kvark> bjz: that's what passing those in, isn't it? I want to know what rustc is using instead?
[04:52:07] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[04:52:38] *** Quits: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[04:53:20] *** Joins: onelson (owen@18CF7301.95770028.5B6BFE7D.IP)
[04:53:39] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Connection reset by peer)
[04:53:50] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[04:54:07] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[04:54:13] *** Quits: Amanieu (amanieu@10FEE2FD.ECEF57A4.2CFD4520.IP) (Client exited)
[04:54:14] <bjz> kvark: no idea
[04:54:16] *** Quits: Dessimat0r (Dessimat0r@moz-E3008B7A.me) (Ping timeout)
[04:54:16] *** Quits: jxs (joaoxsouls@1FF12F4F.CDF09DE2.D6573861.IP) (Ping timeout)
[04:54:16] *** Quits: dbussink (dbussink@moz-E0A5568C.bussink.me) (Ping timeout)
[04:54:16] *** Quits: Crandom (Crandom__@moz-56264BBC.sx) (Ping timeout)
[04:54:16] *** Quits: qmx (qmx@moz-B6DBCD05.qmx.me) (Ping timeout)
[04:54:16] *** Quits: oal (oal@26029749.1D466084.2CFD4520.IP) (Ping timeout)
[04:54:23] <bjz> kvark: that's a question for #rust
[04:54:24] *** Quits: veeti (veeti@moz-D6414854.rojekti.fi) (Ping timeout)
[04:54:29] <bjz> oh wait
[04:54:32] <bjz> this is #rust
[04:54:35] <bjz> >_<
[04:54:37] <kvark> I know, it's silly... somehow glfw-rs examples link just ok
[04:54:40] * bjz gets confused
[04:54:53] <bjz> kvark: that's 'cause I use cmake
[04:54:54] *** Joins: veeti (veeti@moz-D6414854.rojekti.fi)
[04:54:55] *** Joins: qmx (qmx@moz-B6DBCD05.qmx.me)
[04:55:00] <kvark> lol
[04:55:03] *** Joins: Amanieu (amanieu@10FEE2FD.ECEF57A4.2CFD4520.IP)
[04:55:08] <bjz> but I don't want to use cmake bacause it confuses people
[04:55:10] *** Joins: Crandom (Crandom__@moz-56264BBC.sx)
[04:55:26] <bjz> CMake is almost write-once
[04:55:26] *** Joins: jxs (joaoxsouls@1FF12F4F.CDF09DE2.D6573861.IP)
[04:55:27] *** Joins: dbussink (dbussink@moz-E0A5568C.bussink.me)
[04:55:34] *** Quits: katis (katis@40C8AF65.EFDC2270.EE6E63A5.IP) (Ping timeout)
[04:55:57] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[04:56:12] *** Joins: Heather (Heather@19663F6.F53BAACC.9C17E900.IP)
[04:56:20] <Heather> ehm, hello
[04:56:34] <SiegeLord> I don't see how CMake is write once :P
[04:56:39] <Heather> what happened with do spawn ?
[04:56:56] <bvssvni> Heather: removed
[04:57:12] <bvssvni> Heather: use spawn( ... ) instead
[04:57:25] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[04:57:31] <kvark> bjz: https://gist.github.com/kvark/9afcff486107c09dee9b
[04:57:39] <kvark> what am I doing wrong?..
[04:57:45] <Heather> bvssvni: what does it take as argument? possibly an lambda function?
[04:57:56] *** Joins: oal (oal@26029749.1D466084.2CFD4520.IP)
[04:57:58] <bvssvni> Heather: a proc
[04:58:05] *** Joins: Dessimat0r (Dessimat0r@moz-E3008B7A.me)
[04:58:12] <pyon> Something just dawned upon me - Is it really necessary to provide Arc, MutexArc and RWArc as separate types? I think a MutexArc<T> would be equivalent to a regular Arc<MutexArcInner<T>>, and, similarly, a a RWArc<T> would be equivalent to a regular Arc<RWArcInner<T>>. This would have the additional benefit of decoupling the locking from the reference counting.
[04:58:41] <pyon> Sadly, MutexArcInner and RWArcInner are themselves not public structs in extra::arc.
[04:58:42] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[04:59:07] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[04:59:30] <bvssvni> Heather: http://static.rust-lang.org/doc/master/std/task/fn.spawn.html
[04:59:46] <kvark> bjz: I used to link just fine, before you moved to "rlib" output
[05:00:15] <Heather> bvssvni: what is proc? any funtion?
[05:00:18] <bjz> kvark: try deleting the `rlib` thing
[05:00:29] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[05:00:42] <bvssvni> Heather: a proc is a closure like type that can only be called once
[05:00:46] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[05:00:46] <kvark> bjz: error: can't find crate for `glfw`
[05:00:55] <bjz> kvark: I have no idea why pkgconfig doesn't work for you
[05:01:00] <bjz> it should
[05:01:20] <bvssvni> rusti: let f = proc(x: int) { x }; f(42)
[05:01:23] -rusti- 42
[05:01:30] <bvssvni> Heather: ^
[05:01:37] <bjz> kvark: so so `pkg-config --static --libs glfw3` *doesn't* work?
[05:02:07] <Heather> rusti: let f = |x : int| { x }; f(42)
[05:02:07] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[05:02:07] -rusti- 42
[05:02:16] <kvark> bjz: it works, gives me a bunch of stuff
[05:02:17] <Heather> bvssvni: ^ same?
[05:02:22] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[05:02:40] <bvssvni> Heather: closures got environment on the stack, so they can't be sent between tasks
[05:02:42] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[05:02:43] <bjz> kvark: you should be able to use: rustc game/claymore.rs --link-args="`pkg-config --static --libs glfw3`" -L lib --out-dir build
[05:03:07] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[05:03:09] <kvark> bjz: interesting... why did it work with just glfw before?... I'll try that
[05:03:35] <bvssvni> rusti: let x = 42; let f = || x; f()
[05:03:37] -rusti- 42
[05:03:50] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[05:03:52] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[05:03:58] <bvssvni> rusti: let x = 42; let f = proc() x; f()
[05:03:59] -rusti- 42
[05:04:17] <Heather> rusti: let f = proc(x: int) { x }; spawn(f(42));
[05:04:18] -rusti- <anon>:10:43: 10:48 error: mismatched types: expected `proc:Send()` but found `int` (expected fn but found int)
[05:04:18] -rusti- <anon>:10         let f = proc(x: int) { x }; spawn(f(42));
[05:04:18] -rusti-                                                     ^~~~~
[05:04:19] -rusti- error: aborting due to previous error
[05:04:19] -rusti- application terminated with error code 101
[05:04:27] <tiffany> I will miss do
[05:04:31] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[05:04:37] <bvssvni> rusti: let x = 42; let f = proc() &x; f()
[05:04:38] -rusti- &1
[05:04:44] <Heather> rusti: version
[05:04:45] -rusti- "rustc 0.10-pre (4cd555d 2014-01-24 03:28:15 -0500)"
[05:04:59] <bvssvni> interesting
[05:05:13] <bvssvni> is this a bug?
[05:06:12] <kvark> bjz: failed. please see updated https://gist.github.com/kvark/9afcff486107c09dee9b
[05:06:15] *** Quits: veeti (veeti@moz-D6414854.rojekti.fi) (Ping timeout)
[05:06:41] *** Joins: dmac (dmac@moz-94F55C3.hfc.comcastbusiness.net)
[05:06:59] <bjz> kvark: did you build glfw with the dylib thing check in cmake?
[05:07:08] <bjz> *checked
[05:07:12] <bvssvni> rusti: let x = 42; let f = || &x; f()
[05:07:17] -rusti- pastebinned 16 lines of output: http://ix.io/acb
[05:07:50] <bvssvni> rusti: let x = 42; let f = || &x; *f() + x
[05:07:51] <bjz> kvark: https://github.com/bjz/glfw-rs/blob/master/.travis.yml#L27
[05:07:51] -rusti- 84
[05:07:59] <bvssvni> rusti: let x = 42; let f = proc() &x; *f() + x
[05:08:00] -rusti- 84
[05:08:07] <bjz> kvark: linking is such a bloody pain right now
[05:08:13] <bjz> >:[
[05:08:16] <bvssvni> rusti: let x = 42; let f = proc() &x; *f()
[05:08:17] -rusti- 42
[05:08:25] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[05:08:25] <bvssvni> rusti: let x = 42; let f = proc() &x; f()
[05:08:26] -rusti- &1
[05:08:27] <dbaupp> bvssvni: the one that returns &1 is definitely a bug!
[05:08:35] <bvssvni> haha
[05:08:49] <kvark> bjz: I didn't do anything tricky with glfw-rs, if that's what you are asking. I'm building it by doing "cd glfw-rs/build && cmake .. && make lib && cp lib/lib* <my_lib_folder>"
[05:08:58] <Heather> try is changed to to take proc?
[05:09:26] <bjz> kvark: no, this is for building *glfw*, not glfw-rs
[05:09:30] <bjz> kvark: cmake -DBUILD_SHARED_LIBS=ON
[05:09:34] <Heather> aha, I see
[05:09:36] <bjz> try that
[05:09:42] <bjz> and install to your PATH
[05:09:45] <kvark> bjz: glfw is just from the Arch repo
[05:09:51] *** Joins: claudiuc (claudiuc@moz-D5BFAAB5.hsd1.ca.comcast.net)
[05:09:54] <bjz> is it glfw3?
[05:09:56] *** Joins: veeti (veeti@moz-D6414854.rojekti.fi)
[05:10:18] <kvark> bjz: Version        : 3.0.4-1
[05:10:26] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[05:10:51] <kvark> bjz: telling you, it's exactly the same as worked before I synced up rust, glfw, and all that
[05:11:19] <bjz> so yo removed the rlib attribute in the lib.rs?
[05:11:21] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[05:11:34] <kvark> bjz: oh, I haven't tried that
[05:11:49] <Heather> ah... and  borrowed value does not live long enough when I return Option<&'static>
[05:11:57] <bjz> kvark: actually, try: #[crate_type = "rlib"]; -> #[crate_type = "lib"];
[05:14:21] <kvark> bjz: yay! that worked!!!!
[05:14:29] <bjz> kvark: phew
[05:14:36] <kvark> my game is alive again
[05:14:55] <bjz> kvark: we really need to sort this out >:|
[05:15:16] <Heather> can someone explain me last day changes in lifetimes?
[05:15:50] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[05:16:33] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[05:16:54] <Heather> dbaupp: ping
[05:16:55] <kvark> bjz: indeed, though I've got to sleep now. Lemme know (by email, perhaps) what I can try, if you have any ideas
[05:17:01] <dbaupp> Heather: pong
[05:17:07] <bjz> o/
[05:17:11] <Heather> dbaupp: may you take a look: https://gist.github.com/Heather/8702998
[05:17:49] <dbaupp> Heather: I think you need to have explicit `static HG: Hg = Hg;` and `static GIT: Git = Git;`
[05:18:36] <dbaupp> Heather: https://github.com/mozilla/rust/pull/11776 was the change
[05:18:49] *** Joins: derek_c (derek@moz-CE6E60A5.cit.cornell.edu)
[05:19:32] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[05:19:37] *** Quits: claudiuc (claudiuc@moz-D5BFAAB5.hsd1.ca.comcast.net) (Client exited)
[05:20:08] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[05:21:03] *** Quits: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com) (Quit: http://www.mibbit.com ajax IRC Client)
[05:21:26] <pyon> Is there any good reason why MutexArc and RWArc exist as separate types, rather than using something like Arc<MutexWrapper<T>> and Arc<RWLockWrapper<T>>?
[05:21:29] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[05:21:35] <bvssvni> reported bug: https://github.com/mozilla/rust/issues/11925
[05:22:04] <Heather> dbaupp: hm... may you provide example how can I resolve it with static HG: Hg = Hg
[05:22:32] <pyon> Where MutexWrapper<T> and RWLockWrapper<T> would take care of the locking and the poisoning (in the event of failure), and a single struct (Arc) takes care of the atomic reference counting.
[05:22:36] <dbaupp> Heather: write that, and then &HG as &'static Vcs
[05:23:06] <dbaupp> pyon: that sounds like it may work...
[05:23:18] <dbaupp> Heather: I still strongly thing you should be using an enum rather than a trait...
[05:23:20] <dbaupp> *think
[05:24:17] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[05:24:51] <Heather> dbaupp: it works, thank you!
[05:25:02] <pyon> Right now, I want to implement a different reference-counting scheme, but I want to retain the Mutex/RWLock-based coordinated mutation strategies. However, because extra::arc::{MutexArcInner, RWLockInner} are not public, I have to reimplement them from scratch. :-| I think MutexArc and RWArc conflate two things that ought to be kept separate.
[05:25:16] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[05:25:58] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[05:28:10] <dbaupp> pyon: fwiw, https://github.com/mozilla/rust/pull/11923 will make it easier to experiment directly in the modules defining those types
[05:28:30] <dbaupp> (since I don't think they're used to bootstrap, and so iteration is super-easy and efficient with just `make`.)
[05:29:00] <pyon> Ah!
[05:30:07] <dbaupp> also, "reimplementing from scratch" can just be "copy the arc.rs file" ;P
[05:30:36] <pyon> Well, yeah, but there is still duplication.
[05:31:12] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[05:32:10] <dbaupp> yup, of course... the duplication would be purely for experimentation purposes :)
[05:32:55] <Heather> I don't like evolution
[05:33:28] <dbaupp> well rust is the wrong language for you, then :P
[05:33:57] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[05:33:57] *** ChanServ sets mode: +ao dherman dherman
[05:34:00] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[05:34:06] <Heather> do 5.times { -> 5.times(|| { -> for _ in range(0, 5) {
[05:34:18] <Heather> do you see something wrong here )
[05:34:52] *** Quits: franckverrot (Franck_Ver@C3033BF6.B86F1645.C91367C6.IP) (Ping timeout)
[05:35:09] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[05:35:36] <bvssvni> Heather: the -> is located right after the start bracket
[05:36:05] <bvssvni> Heather: or perhaps you means new line :P
[05:36:12] <dbaupp> Heather: all of those {'s are unclosed
[05:36:17] <Heather> bvssvni:  I mean evolution )
[05:36:41] <Heather> bvssvni: -> is language change
[05:37:01] <Heather> bvssvni: and as you see it goes from new and nice to C++
[05:37:30] <Heather> bvssvni: really...
[05:37:32] <dbaupp> *Python
[05:37:54] <bvssvni> Heather: not sure what you meant
[05:38:11] <dbaupp> bvssvni: complaining that the syntax of "do something n times" has gotten worse
[05:38:26] <sp3d> I would agree that "for _ in range(0, 5)" is pretty ugly
[05:38:28] <dbaupp> however, the performance of it has gotten better
[05:38:32] *** Quits: derek_c (derek@moz-CE6E60A5.cit.cornell.edu) (Ping timeout)
[05:38:45] <Heather> look:
[05:38:51] <sp3d> maybe someone should write a "repeat!(5, ...)"?
[05:39:01] <Heather> perfocmance of it is bad -> let's kill it and write ugly syntax
[05:39:22] <o11c> repeat!(5) { ... } would work I think?
[05:39:34] <sp3d> mm, yeah
[05:39:48] <dbaupp> o11c: unlikely
[05:39:50] <sp3d> or actually I'm not sure--I don't know if macros can expand to part of a loop like that
[05:40:06] <mcpherrin> Macros have to take a fixed number of things
[05:40:11] <mcpherrin> a () {} should be okay
[05:40:18] <mcpherrin> or syntax extensions rather
[05:40:23] <mcpherrin> I haven't actually written any macros :P
[05:40:23] <o11c> I mean the {} is just for the for body
[05:40:28] <o11c> neither have I
[05:40:35] <sp3d> same :x
[05:40:39] <dbaupp> mcpherrin: i.e. you can have a macro that takes two blocks?
[05:40:49] <mcpherrin> dbaupp: I am pretty sure that was okay
[05:40:50] <o11c> but in C, I would #define repeat(n) for (int _ = 0; _ < n; ++n) roughly
[05:40:54] <mcpherrin> dbaupp: as long as it's fixed
[05:40:54] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[05:41:05] <mcpherrin> dbaupp: at least, that could be made to work in other parts of rustc :P
[05:41:07] <dbaupp> there have been proposals, but no-ones really worked out how to do it while making it parseable
[05:41:19] <mcpherrin> I thought it worked for fixed N
[05:41:33] <dbaupp> foo!! (..) {...} foo!!! {..} { ... } { .... } etc. was one
[05:41:35] <dbaupp> no
[05:41:41] <mcpherrin> okay, I am just wrong then :)
[05:41:42] <dbaupp> only one block after a macro
[05:41:46] <dbaupp> well
[05:41:55] <dbaupp> macro_rules! is a macro that takes an ident and then a block
[05:45:18] <Heather> o11c: I expect for _ in range(0, 5) will be converted to for (int _ = 0; _ < n; ++n) soon in flavor of perfomance or maybe some bug resolve
[05:45:36] <dbaupp> Heather: no, that would be dumb
[05:46:34] <dbaupp> If you look at the diff for the .times removal, almost all are just old tests; actual code very rarely uses .times: https://github.com/mozilla/rust/pull/11672/files
[05:46:38] <Heather> dbaupp: okay... I'm getting to much (don't know the word) ... I need to calm down
[05:46:45] <dbaupp> and many of the instances of its use are not good
[05:46:50] <sp3d> agitated?
[05:46:59] *** Joins: eddyb (eddy@832D2DE5.66315F97.FB866788.IP)
[05:47:02] <Heather> sp3d: I don't know this word )
[05:47:10] <dbaupp> e.g. `let mut s = ~""; 5.times(|| s.push_str(" ")); s` should just be `" ".repeat(5)`
[05:47:16] <Heather> sp3d: but yes ) seems like
[05:48:30] <Heather> dbaupp: well possibly current syntax is really better than 5.times(|| { });
[05:49:09] <Heather> dbaupp: is it really not possible to get do back?
[05:49:23] <dbaupp> we might get something like it back in a different form
[05:49:47] <Heather> dbaupp: that's good
[05:50:59] *** Seicht is now known as Seich
[05:51:51] *** Joins: Rui (rui@A3FA1D9B.A6F52135.8368921A.IP)
[05:52:56] *** Joins: claudiuc (claudiuc@moz-D5BFAAB5.hsd1.ca.comcast.net)
[05:53:48] *** Joins: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net)
[05:55:55] *** Quits: victorporof (victorporo@EAD5AF6F.B2178F9.D111398B.IP) (Ping timeout)
[05:57:26] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[05:58:19] *** Joins: roy (user@C73C171E.DECA0B3A.874BDE0C.IP)
[05:58:22] *** Joins: crail (crail@moz-D7728DCD.dhcp.insightbb.com)
[05:58:26] *** Quits: roy (user@C73C171E.DECA0B3A.874BDE0C.IP) (Client exited)
[05:58:31] *** Quits: crail (crail@moz-D7728DCD.dhcp.insightbb.com) (Client exited)
[05:59:34] *** Joins: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net)
[06:00:44] *** Joins: derek_c (derek@moz-5E77E51.cit.cornell.edu)
[06:01:47] *** Quits: claudiuc (claudiuc@moz-D5BFAAB5.hsd1.ca.comcast.net) (Ping timeout)
[06:02:52] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[06:03:20] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[06:03:27] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[06:03:31] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[06:04:41] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[06:04:46] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[06:05:00] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[06:05:04] *** Joins: brson (brson@6A848D32.C1B840DD.76F66111.IP)
[06:05:04] *** ChanServ sets mode: +ao brson brson
[06:06:05] *** jorendorff is now known as jorendorff_away
[06:06:39] *** Joins: claudiuc (claudiuc@moz-D5BFAAB5.hsd1.ca.comcast.net)
[06:06:57] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[06:08:01] *** Joins: roy (user@C73C171E.DECA0B3A.874BDE0C.IP)
[06:08:10] <wycats> http://quotes.burntelectrons.org/7202
[06:08:11] <wycats> lolz
[06:08:23] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[06:09:19] <o11c> color code sadness?
[06:09:46] *** Quits: roy (user@C73C171E.DECA0B3A.874BDE0C.IP) (Client exited)
[06:14:28] *** Quits: claudiuc (claudiuc@moz-D5BFAAB5.hsd1.ca.comcast.net) (Ping timeout)
[06:15:43] *** Joins: claudiuc (claudiuc@moz-D5BFAAB5.hsd1.ca.comcast.net)
[06:18:20] *** Quits: Rui (rui@A3FA1D9B.A6F52135.8368921A.IP) (Quit: )
[06:22:01] *** Quits: derek_c (derek@moz-5E77E51.cit.cornell.edu) (Ping timeout)
[06:22:45] *** Quits: claudiuc (claudiuc@moz-D5BFAAB5.hsd1.ca.comcast.net) (Client exited)
[06:23:43] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[06:23:46] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[06:24:51] *** Quits: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo_)
[06:25:02] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[06:26:50] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[06:26:58] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[06:28:34] *** Joins: crail (crail@moz-D7728DCD.dhcp.insightbb.com)
[06:29:22] *** Joins: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP)
[06:30:06] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[06:30:14] *** Quits: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net) (Ping timeout)
[06:30:17] *** Quits: negge (unlord@moz-5BD795E6.hsd1.va.comcast.net) (Ping timeout)
[06:30:18] *** Joins: negge (unlord@moz-5BD795E6.hsd1.va.comcast.net)
[06:30:21] *** Quits: GeorgeH_ (George@moz-FB5F2302.hsd1.nj.comcast.net) (Connection reset by peer)
[06:30:31] *** Quits: crail (crail@moz-D7728DCD.dhcp.insightbb.com) (Client exited)
[06:30:32] *** Joins: GeorgeH_ (George@moz-FB5F2302.hsd1.nj.comcast.net)
[06:30:51] *** Joins: crail (crail@moz-D7728DCD.dhcp.insightbb.com)
[06:31:06] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[06:31:49] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[06:31:50] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[06:32:30] *** Quits: crail (crail@moz-D7728DCD.dhcp.insightbb.com) (Connection reset by peer)
[06:32:54] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[06:33:19] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[06:38:50] *** Quits: heftig (heftig@moz-9A896790.dip0.t-ipconnect.de) (Quit: Quitting)
[06:38:54] <pyon> Is there any overhead for types that keep track of their own lifetimes? (e.g., struct Foo<'a> { ... })
[06:39:18] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[06:39:56] <o11c> pyon: no
[06:40:03] <cmr> pyon: no, lifetimes are purely static analysis
[06:40:09] <cmr> that's also not its own lifetime, but that's tangential
[06:40:37] <pyon> Ah!
[06:40:56] <pyon> Can 'a possibly be a lifetime shorter than that of the struct itself?
[06:41:11] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[06:41:28] <o11c> it wouldn't be in scope at declaration time?
[06:41:48] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[06:41:56] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[06:42:26] <eddyb> o11c: oh that's an interesting point :D
[06:43:00] <pyon> o11c: I mean, perhaps via unsafe casts?
[06:43:25] <eddyb> pyon: sure, but then you're responsible
[06:43:37] <pyon> Ah.
[06:44:08] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[06:44:27] <Yurume> is it possible that Port is disconnected from SharedChan?
[06:44:39] *** Joins: Ferreus (ferreus@moz-97C123E2.dip0.t-ipconnect.de)
[06:45:48] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[06:46:06] <Yurume> well, to be specific: is the Disconnected TryRecvResult only returned when there is no live SharedChans?
[06:48:57] <eddyb> libarena and libglob?
[06:49:00] <eddyb> lib too much?
[06:49:01] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[06:49:25] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[06:53:24] *** Quits: Erik_ (Erik_S@moz-E7E31D21.hlrn.qwest.net) (Ping timeout)
[06:55:23] *** Joins: franckverrot (Franck_Ver@C3033BF6.B86F1645.C91367C6.IP)
[06:55:56] *** Joins: katis (katis@40C8AF65.EFDC2270.EE6E63A5.IP)
[06:57:31] <WebeWizard> how do i get rust to print the size (in memory) of a variable?
[06:57:31] <pyon> This code factors the locking out of MutexArc and RWArc: https://gist.github.com/eduardoleon/8703785 . Does this seem like a good idea? At the very least, I think this makes std::sync::arc::UnsafeArc unnecessary.
[06:57:45] <dbaupp> WebeWizard: std::mem::size_of::<Type>()
[06:58:00] <dbaupp> WebeWizard: or std::mem::size_of_val(&variable)
[06:58:13] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[06:58:14] <dbaupp> (the latter is just a more convienent wrapper around the former.)
[06:58:36] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[06:58:39] *** Joins: victorporof (victorporo@B8DD971B.8AF48BD8.79933D60.IP)
[06:58:40] <WebeWizard> awesome, thank you
[06:59:16] *** Quits: Earnestly (earnest@moz-A8B5B5EE.dyn.plus.net) (Ping timeout)
[06:59:19] *** Quits: twi (Adium@E27EEC3D.C80A4254.D35A31DF.IP) (Quit: Leaving.)
[06:59:33] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[06:59:54] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[07:00:31] *** Joins: claudiuc (claudiuc@moz-D5BFAAB5.hsd1.ca.comcast.net)
[07:00:38] <dbaupp> pyon: on the surface, it looks like a reasonable idea
[07:01:01] <dbaupp> there may be some subtlety though
[07:01:14] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[07:02:28] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[07:02:30] *** Quits: kvanb (kvanb@moz-C8D7D30C.lnse7.win.bigpond.net.au) (Quit: kvanb)
[07:02:54] *** Quits: new_one (new_one@103577DD.641FCA23.B3C0173E.IP) (Client exited)
[07:02:54] *** Quits: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca) (Input/output error)
[07:02:54] <o11c> if only we had default arguments ...
[07:03:16] *** Joins: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca)
[07:03:20] <o11c> though, nullable, hm.
[07:03:37] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[07:03:40] *** Quits: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca) (Input/output error)
[07:03:52] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[07:04:37] *** Quits: dbaupp (Thunderbir@5A4F80CD.D5A1DCF.37681C44.IP) (Ping timeout)
[07:05:04] *** Joins: pauls_ (paul@moz-9B39917C.c3-0.smr-ubr2.sbo-smr.ma.cable.rcn.com)
[07:05:28] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[07:05:37] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[07:05:38] <pyon> dbaupp: I have no idea what could be subtle about this. But I do not understand condition variables (or, rather, I do not understand the Rust implementation of them), so perhaps there is something subtle there.
[07:05:43] *** Quits: claudiuc (claudiuc@moz-D5BFAAB5.hsd1.ca.comcast.net) (Ping timeout)
[07:05:45] *** Quits: not_gavin (gavin@E04DED12.5AA33DAB.2321E71E.IP) (Ping timeout)
[07:05:54] <pyon> o11c: Default arguments - what for?
[07:05:59] *** Quits: pauls__ (paul@moz-9B39917C.c3-0.smr-ubr2.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[07:06:21] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[07:06:51] *** Joins: not_gavin (gavin@E04DED12.5AA33DAB.2321E71E.IP)
[07:06:58] *** Joins: kvanb (kvanb@moz-C8D7D30C.lnse7.win.bigpond.net.au)
[07:08:19] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[07:08:45] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[07:08:46] <eddyb> https://pbs.twimg.com/media/BdeaBb3CUAA-C9E.png
[07:08:55] <cmr> hahah
[07:09:40] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[07:09:51] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Quit: Leaving...)
[07:13:19] <mcpherrin> eddyb: ah yeah the terrors of the xcode command line tools
[07:14:05] *** Quits: trinary (Adium@moz-D78CD0D5.hsd1.co.comcast.net) (Quit: Leaving.)
[07:14:54] <mcpherrin> pyon: that looks like it might be wort pursuing for sure
[07:15:14] <mcpherrin> though I haven't thought too hard about it :)
[07:15:49] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[07:20:21] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[07:20:49] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[07:21:47] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[07:21:48] <pyon> eddyb: :-O wat srsly?
[07:22:02] *** Joins: agoforth (agoforth@moz-239A84B0.pool.mediaways.net)
[07:22:05] *** Quits: decode__ (agoforth@moz-54C901D1.pool.mediaways.net) (Ping timeout)
[07:22:05] <eddyb> pyon: don't ask me, I don't own one of those things
[07:23:15] *** Parts: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) ()
[07:23:55] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[07:24:18] *** Quits: FreeFull (freefull@moz-272EA536.as13285.net) (Quit: )
[07:25:46] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[07:27:31] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[07:30:01] *** Joins: claudiuc (claudiuc@moz-D5BFAAB5.hsd1.ca.comcast.net)
[07:30:28] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[07:31:06] *** pmoore|away is now known as pmoore
[07:31:14] *** Joins: twi (Adium@moz-B47EFC08.dyn.iinet.net.au)
[07:32:12] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[07:32:26] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:34:34] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[07:37:57] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[07:38:08] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[07:39:30] *** Joins: benjamin_ (benjamin@moz-5DB44270.dip0.t-ipconnect.de)
[07:40:35] *** Joins: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net)
[07:41:27] *** Quits: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP) (Ping timeout)
[07:45:02] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[07:45:49] <WebeWizard> alright. so how do I compare the size of two floats?
[07:46:05] <cmr> WebeWizard: "size"?
[07:46:07] <WebeWizard> sorry, value
[07:46:17] <cmr> rusti: 4.223 == 4.223
[07:46:18] -rusti- true
[07:46:22] <WebeWizard> i want to loop until one float becomes larger than the other
[07:46:31] <cmr> 4.223 > 4.222
[07:46:37] <cmr> rusti: 4.223 > 4.222
[07:46:38] -rusti- true
[07:46:41] <WebeWizard> not working for very large numbers
[07:46:48] <cmr> how large?
[07:46:58] <cmr> floating point can only represent numbers that are so large.
[07:47:06] <myname> WebeWizard: may be because of how floats work
[07:47:07] *** Quits: brson (brson@6A848D32.C1B840DD.76F66111.IP) (Ping timeout)
[07:47:12] <WebeWizard> i'll send it in a gist
[07:47:27] <myname> i.e. float = float + 1 will result in an endless loop somewhere
[07:47:41] <eddyb> WebeWizard: what kind of precision do you need?
[07:47:46] <WebeWizard> https://gist.github.com/anonymous/8704236
[07:47:49] <eddyb> sometimes you can get away with a BigInt
[07:48:02] <myname> because float + 1 is not actually a valid float so it got round down to initial float
[07:48:32] <eddyb> WebeWizard: MAX_VALUE is pointless
[07:49:06] <myname> WebeWizard: you may want to learn about floats
[07:49:19] *** flaper87|afk is now known as flaper87
[07:49:51] <myname> WebeWizard: what output do you get?
[07:49:52] <eddyb> WebeWizard: for integers over 2^53 (or was it 52?) f64 has only the even ones. then, as you go up in the powers of two, you have exponential spacing
[07:50:13] <WebeWizard> ... num is: 9999999999999
[07:50:13] <WebeWizard> num is: 99999999999999
[07:50:13] <WebeWizard> num is: 999999999999999
[07:50:13] <WebeWizard> num is: inf
[07:50:34] <WebeWizard> i know a float can hold more 9's than that
[07:50:44] <myname> from what?
[07:50:56] <cmr> rusti: (999999999999999, 99999999999999999)
[07:50:57] -rusti- (999999999999999, 99999999999999999)
[07:51:01] <cmr> rusti: (999999999999999, 99999999999999999999)
[07:51:02] -rusti- <anon>:10:27: 10:47 error: int literal is too large
[07:51:02] -rusti- <anon>:10         (999999999999999, 99999999999999999999)
[07:51:02] -rusti-                                     ^~~~~~~~~~~~~~~~~~~~
[07:51:02] -rusti- application terminated with error code 101
[07:51:02] <WebeWizard> myname, max size of float is GINOURMOUS
[07:51:16] <eddyb> WebeWizard: max size is irrelevant
[07:51:19] <myname> WebeWizard: you don't get floats yet, don't you?
[07:51:26] <eddyb> WebeWizard: might be a bug with from_str though
[07:51:29] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[07:51:42] <cmr> derp
[07:51:42] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[07:51:42] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:51:47] <cmr> rusti: (999999999999999f64, 99999999999999999999f64)
[07:51:48] -rusti- (999999999999999f64, 100000000000000000000f64)
[07:51:49] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[07:52:03] <myname> do NOT confuse floats for real numbers
[07:52:13] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[07:52:13] *** ChanServ sets mode: +ao brson brson
[07:52:17] <eddyb> rusti: from_str::<f64>("99999999999999999999").unwrap()
[07:52:18] -rusti- inff64
[07:52:27] <cmr> from_str is known broken though.
[07:52:32] <eddyb> bleah
[07:52:36] *** Quits: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net) (Quit: zztr)
[07:52:42] <myname> why do you even append "9"s to the strin?
[07:52:49] <myname> what is wrong with *10+9?
[07:52:59] <eddyb> rusti: 999999999999999f64 * 10f64 + 9f64
[07:53:00] -rusti- 10000000000000000f64
[07:53:02] <myname> (despite the fact that it might not work somewhere)
[07:53:06] <eddyb> rusti: 999999999999999f64 * 10f64
[07:53:07] -rusti- 9999999999999990f64
[07:53:24] <eddyb> so what's from_str doing? because I'm not seeing it
[07:53:43] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[07:53:52] <cmr> consuming intense amounts of hallucinogenics
[07:54:04] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[07:54:08] <WebeWizard> i'm using from_str to turn the ever growing string of 9's back into a type that can be compared
[07:54:41] <eddyb> WebeWizard: we know that. the question was *why*
[07:54:42] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[07:55:20] <Ralith> eddyb: to see what happens, I'd guess.
[07:55:30] <Ralith> experimentation should be encouraged.
[07:55:30] <WebeWizard> eddyb, was just the first way I thought of.  In my head it should work, so why not try|
[07:56:16] <myname> WebeWizard: why do you need to compare a growing number of 9s? just curious
[07:56:21] <eddyb> WebeWizard: * 10 + 9 works better than from_str now. but the bug is interesting
[07:56:30] <eddyb> cmr: you weren't kidding https://github.com/mozilla/rust/blob/master/src/libstd/num/strconv.rs#L538
[07:56:35] <cmr> I know I wasn't :P
[07:56:51] <cmr> it's a miracle it works at all
[07:57:12] <myname> oh boy, that SO encourages me to use rust!
[07:57:24] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[07:57:26] <WebeWizard> myname: I just wanted to play with floats in rust 
[07:57:33] <myname> okay!
[07:57:48] <myname>  * - Fails if `radix` > 18 and `special == true` due to conflict
[07:57:53] <myname> wtf special?
[07:57:57] <cmr> who the hell knows
[07:57:59] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[07:58:04] <eddyb> let mut last_accum = accum.clone(); // Necessary to detect overflow
[07:58:36] <eddyb> cmr: https://github.com/mozilla/rust/blob/master/src/libstd/num/strconv.rs#L622-L626
[07:58:51] <eddyb> I was afraid it was intended behavior
[07:59:05] <eddyb> WebeWizard: from_str treats precision loss as reaching infinity
[07:59:23] <WebeWizard> eddyb, that is exactly what I needed to learn. thank you!
[07:59:38] <eddyb> cmr: do we document this, anywhere?
[07:59:42] <cmr> eddyb: no.
[07:59:47] <cmr> it needs to be thrown out and rewritten
[07:59:50] <cmr> preferably sanely
[07:59:54] <cmr> and preferably not insanely generic
[07:59:57] <myname> go for it
[08:00:13] <myname> how about we call scan from c *ducks*
[08:00:18] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[08:00:18] *** ChanServ sets mode: +ao brson brson
[08:00:21] <eddyb> cmr: I agree we can split integers and floats
[08:00:29] <eddyb> most of the generic behavior deals with that
[08:00:30] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[08:01:22] <myname> 12 generics, nice
[08:01:41] <myname> do not get why you have to be able to do arithmetial stuff for a from_str
[08:01:46] <myname> but well
[08:02:04] <eddyb> myname: it needs 0, 1, + and *
[08:02:16] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[08:02:27] <myname> and / and -
[08:02:32] <eddyb> some of the other stuff is for overflow checking
[08:02:38] <myname> ah
[08:02:48] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Ping timeout)
[08:03:01] <eddyb> cmr: can it just use CheckedAdd for integers and... not care for floats?
[08:03:17] <cmr> eddyb: it can do whatever it wants, as long as it's not disgusting slow and wrong :p
[08:03:38] <eddyb> the current approach is either slower than CheckedAdd/CheckedMul or it gets optimized to it
[08:03:48] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[08:03:56] *** Joins: dbaupp (Thunderbir@moz-68C83524.lns20.syd6.internode.on.net)
[08:04:12] <dbaupp> pyon: I thought of a subtlety:
[08:04:23] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:04:27] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[08:04:52] <dbaupp> Arc currently is restricted to containing Freeze only; and we do still want the ability to have unsynchronized read-only shared memory
[08:05:37] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[08:05:54] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[08:05:55] <dbaupp> I don't think this stops us refactoring extra::arc, but it will probably make it less clean
[08:05:56] <eddyb> cmr: it's doing (accum - digit) / radix to check if the original operation is reversible. that's probably 5 times slower than using checked operations
[08:06:04] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[08:06:11] <pyon> dbaupp: Oh!
[08:06:14] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[08:06:31] <eddyb> rusti: from_str::<u32>("99999999999999999999").unwrap()
[08:06:32] -rusti- task '<main>' failed at 'called `Option::unwrap()` on a `None` value', /home/strcat/projects/rust/src/libstd/option.rs:152
[08:06:32] -rusti- application terminated with error code 101
[08:06:34] <pyon> dbaupp: Why does Arc require freeze?
[08:06:49] <dbaupp> pyon: to guarantee that the data is not modifyable
[08:06:56] <cmr> pyon: so you can't get an immutable reference to it and then do unsychronized modification to it.
[08:06:58] <dbaupp> (when you retrieve a &T from the Arc.)
[08:07:09] <pyon> Ah!
[08:07:47] <dbaupp> we could have constructors like new_mutex(T) -> Arc<Mutexed<T>> and new_rw(T) -> Arc<RWed<T>>
[08:07:51] <dbaupp> which only require T: Send
[08:08:16] <eddyb> ooh, are we making arcs composable <3?
[08:08:42] <pyon> Well, I was originally trying to decouple the locking from the arc-ing.
[08:08:48] <eddyb> type RWArc<T> = UnsafeArc<RWLock<T>>; or will it be just Arc?
[08:09:13] <eddyb> dbaupp: could we move Arc into std::rc?
[08:09:14] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[08:09:27] <eddyb> at least the basics
[08:10:09] <dbaupp> pyon: yeah, I don't think it's possible to do it completely, due to requiring (at least one of) T: Freeze or locking.
[08:10:13] <dbaupp> unfortunately :(
[08:10:18] <eddyb> (if it were me, I would even have type Arc<T, A=Heap> = Rc<T, A, AtomicMode>;)
[08:10:43] <pyon> Can generics have default parameters? :-O
[08:10:53] <eddyb> pyon: in a few hours :P
[08:11:04] <cmr> eddyb: did you write those tests yet???
[08:11:18] *** Joins: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se)
[08:11:21] <eddyb> cmr: sorry, I'm slow
[08:12:07] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Quit: canhtak)
[08:12:11] <dbaupp> #[bench] fn eddyb_test_writing(bh: &mut BenchHarness) { bh.iter(|| ...) }
[08:12:21] <dbaupp> there we have metrics: someone optimise it
[08:12:54] <eddyb> dbaupp: the LLVM IR for it is horrible!
[08:13:15] *** Quits: twi (Adium@moz-B47EFC08.dyn.iinet.net.au) (Quit: Leaving.)
[08:13:16] <eddyb> need to run opt -O3 a couple times on it to disentangle the neurons
[08:14:35] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[08:15:17] *** Quits: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se) (Input/output error)
[08:15:32] *** Joins: anonymous_29563 (Mibbit@moz-A082F561.adsl.xtra.co.nz)
[08:15:51] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[08:16:47] *** Quits: luzie (lucy@moz-CD18B14B.customer.cdi.no) (Quit: 04←)
[08:16:49] *** Joins: luz (lucy@moz-CD18B14B.customer.cdi.no)
[08:17:03] *** Joins: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se)
[08:17:34] *** Joins: squiddy (squiddy@moz-6DBCC01.adsl.alicedsl.de)
[08:18:10] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[08:18:26] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[08:18:52] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[08:18:57] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[08:19:55] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[08:20:05] *** Joins: twi (Adium@moz-B47EFC08.dyn.iinet.net.au)
[08:20:15] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[08:20:40] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Ping timeout)
[08:21:28] <dbaupp> hahaha
[08:21:28] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[08:22:00] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[08:23:41] *** Joins: vgeddes (vincent.ge@moz-D8D4FE4D.dsl.mweb.co.za)
[08:24:20] *** Quits: agoforth (agoforth@moz-239A84B0.pool.mediaways.net) (Ping timeout)
[08:25:25] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[08:25:28] *** Quits: dmac (dmac@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving)
[08:26:55] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[08:27:07] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[08:27:27] <pzol> anybody aware of varnish vmod examples in Rust?
[08:27:41] *** Joins: Locke23rus (quassel@moz-1014EFC0.static.linky.ru)
[08:27:48] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[08:27:50] *** Joins: Ms2ger (Ms2ger@moz-1A53B611.adsl-dyn.isp.belgacom.be)
[08:28:31] <dbaupp> pyon: oh! there's possibly a really *really* nice solution to this
[08:28:35] *** Joins: ecl3ctic (Mibbit@moz-E1FAD64C.wzfv1.vic.bigpond.net.au)
[08:28:42] <cmr> pzol: I haven't seen anything
[08:28:43] <dbaupp> as in, it solves it *completely*
[08:28:46] *** pmoore is now known as pmoore|afk
[08:28:54] <dbaupp> pyon: https://github.com/mozilla/rust/issues/11781
[08:29:11] <dbaupp> pyon: Arc<T> would then just require T: Share and Mutexed and RWed would both be Share
[08:29:30] <dbaupp> so those extra new_mutex etc. methods would be entirely unnecessary
[08:30:51] <eddyb> Freeze implying Share?
[08:30:54] <pyon> dbaupp: Nice, let me see!
[08:31:48] <dbaupp> eddyb: Freeze would possibly just disappear
[08:31:56] <eddyb> dbaupp: see strcat's comment
[08:31:58] <dbaupp> but yeah, Share is a superset of Freeze
[08:32:02] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[08:32:08] <dbaupp> eddyb: yup, hence "possibly"
[08:32:55] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Ping timeout)
[08:34:08] <eddyb> dbaupp: I had similar thoughts to his when I looked at our (lacking) LLVM attribute management. &T with T: Freeze is readonly, though we need TBAA to fully exploit it
[08:34:39] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[08:34:43] *** Joins: agoforth (agoforth@moz-239A84B0.pool.mediaways.net)
[08:37:27] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[08:38:45] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[08:39:40] *** Quits: twi (Adium@moz-B47EFC08.dyn.iinet.net.au) (Quit: Leaving.)
[08:42:23] *** Quits: anonymous_29563 (Mibbit@moz-A082F561.adsl.xtra.co.nz) (Quit: http://www.mibbit.com ajax IRC Client)
[08:43:32] <pzol> cmr thx
[08:43:54] *** Quits: claudiuc (claudiuc@moz-D5BFAAB5.hsd1.ca.comcast.net) (Client exited)
[08:45:30] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[08:46:16] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[08:46:18] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[08:47:17] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[08:47:23] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[08:48:29] *** Quits: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net) (Quit: telotortium)
[08:50:00] *** Quits: kanru (kanru@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[08:50:25] *** Quits: kvanb (kvanb@moz-C8D7D30C.lnse7.win.bigpond.net.au) (Ping timeout)
[08:50:51] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[08:51:02] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[08:51:55] *** Joins: kvanb (kvanb@moz-3762148F.lnse7.win.bigpond.net.au)
[08:54:18] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Quit: )
[08:54:23] *** Joins: skade (skade@moz-A652C7A9.netcologne.de)
[08:55:39] *** Joins: anonymous_29563 (Mibbit@moz-A082F561.adsl.xtra.co.nz)
[08:56:27] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[08:56:47] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[08:58:58] <ecl3ctic> what is the most pleasant way to debug Rust code right now?
[08:59:06] <ecl3ctic> is there a visual debugger that works well?
[08:59:42] <cmr> ecl3ctic: gdb
[08:59:50] <cmr> -Z extra-debug-info and you get source and line number
[09:00:26] <eddyb> ecl3ctic: any gdb-compatible GUI debugger should work with the debug info we generate
[09:00:34] *** Joins: pilf (pilf@8FA95888.1A994CBC.4B228AD7.IP)
[09:01:20] <ecl3ctic> awesome, sounds good, thanks
[09:01:21] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[09:01:24] <ecl3ctic> I'll try that out
[09:01:47] *** Joins: heftig (heftig@moz-51E3C61B.dip0.t-ipconnect.de)
[09:02:18] *** Quits: mrmonday_ (mrmonday@moz-1E82AE75.members.linode.com) (Quit: Lost terminal)
[09:05:03] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[09:05:07] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:06:21] *** Joins: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se)
[09:06:50] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[09:06:50] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[09:07:17] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[09:08:57] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[09:10:56] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[09:11:04] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[09:12:00] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:12:06] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[09:12:08] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:14:25] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[09:18:32] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[09:21:00] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[09:22:48] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[09:24:17] *** Parts: Heather (Heather@19663F6.F53BAACC.9C17E900.IP) ()
[09:24:22] *** Joins: Armavica (virgile@moz-AD428ED7.ens.fr)
[09:27:56] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[09:28:24] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[09:29:04] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[09:29:18] *** Quits: anonymous_29563 (Mibbit@moz-A082F561.adsl.xtra.co.nz) (Quit: http://www.mibbit.com ajax IRC Client)
[09:30:35] <skrylar> yay for code
[09:30:46] <skrylar> i hate dealing with it but at least its not humans
[09:30:55] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[09:31:17] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:31:27] <eddyb> skrylar: oh I know that feeling all too well
[09:31:31] *** Quits: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP) (Ping timeout)
[09:33:02] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[09:34:01] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[09:38:29] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[09:40:52] *** Joins: andreasvc (andreasvc@moz-29FD4A0A.dynamic.upc.nl)
[09:40:56] *** Joins: shamansir (shamansir@moz-10B8BE98.superkabel.de)
[09:42:35] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[09:42:41] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[09:43:04] *** Quits: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se) (Ping timeout)
[09:43:11] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[09:44:00] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[09:44:21] *** Quits: m_kato (m_kato@moz-C286AD9A.bitcat.net) (Quit: Leaving...)
[09:44:45] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[09:44:58] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[09:47:10] *** pmoore|afk is now known as pmoore
[09:47:26] *** Quits: skade (skade@moz-A652C7A9.netcologne.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[09:47:39] *** Joins: skade (skade@moz-A652C7A9.netcologne.de)
[09:49:57] *** Joins: netoarmando (textual@moz-AEF322CB.dsl.telesp.net.br)
[09:54:11] *** Joins: fyolnish_ (fyolnish@moz-BE2BAE5B.miinet.jp)
[09:54:55] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[09:55:48] *** Joins: rca (rcatolino@68C2C935.20EF280.520D6FA6.IP)
[09:55:53] *** Quits: fyolnish_ (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[09:57:00] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[09:57:36] *** Quits: onelson (owen@18CF7301.95770028.5B6BFE7D.IP) (Quit: Leaving)
[10:01:00] *** Joins: andre (andre@CA528A4A.45A4338E.8EE27E6.IP)
[10:01:05] *** Quits: netoarmando (textual@moz-AEF322CB.dsl.telesp.net.br) (Quit: )
[10:01:12] <doomlord_> if you wanted to represent a c++ vtable object in rust (the binary concept, not just something with the same semantics) ... you'd do that by having a manually rolled vtable like in C i guess? .. is there a way to use rust's trait objects to assist representing such a thing.   (i've looked into this before, just wondering what todays situation might be like) .   perhaps there are things you could do with macros now to help out 
[10:01:53] <Ms2ger> Roll it manually, I think
[10:02:02] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[10:02:40] <doomlord_> do you know if something like swig handles manually rolling C++ interfaces for C 
[10:02:49] <dbaupp> C++ vtables are {destructor, method, method, ..., method} right?
[10:03:16] <doomlord_> yes ; not sure if the destructor is always there :) i think there's a potential bug where you forget to have one
[10:03:16] *** Quits: benjamin_ (benjamin@moz-5DB44270.dip0.t-ipconnect.de) (Connection reset by peer)
[10:03:36] *** Joins: benjamin_ (benjamin@moz-5DB44270.dip0.t-ipconnect.de)
[10:03:47] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[10:04:00] <doomlord_> i dont know all the details of c++ multiple inheritance layout, never used it
[10:04:20] <doomlord_> i know rust' trait objects are designed to avoid that madness
[10:05:04] <dbaupp> strcat had a change that made our vtables have the {destructor, methods...} layout, it may've landed
[10:05:36] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[10:05:46] <dbaupp> so, assuming that you can rely on the destructor being, and feel like living life dangerously, you may be able to represent a C++ virtual object as a Rust trait object
[10:05:55] * dbaupp guesses no-one has tried
[10:06:14] <dbaupp> *being there
[10:06:16] <doomlord_> i would imagine creating/destroying objects would have to be done one side or the other
[10:06:18] <eddyb> dbaupp: I mentioned it like a week ago
[10:06:27] <dbaupp> eddyb: well done
[10:06:28] <Ms2ger> And if you do, try to get a test into the rustc test suite ;)
[10:06:33] <dbaupp> eddyb: have you tried it?
[10:06:42] <dbaupp> doomlord_: yeah
[10:06:59] <eddyb> dbaupp: no, waiting for strcat's PR to get in. or did it already?
[10:07:21] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[10:08:02] *** Quits: abacus (snoonan_mo@moz-F95B9243.hsd1.wa.comcast.net) (Ping timeout)
[10:08:28] <dbaupp> looks like it's not landed yet: https://github.com/mozilla/rust/pull/11909
[10:08:38] <dbaupp> it's in the approved queue though
[10:09:10] *** Quits: andreasvc (andreasvc@moz-29FD4A0A.dynamic.upc.nl) (Ping timeout)
[10:10:03] *** Quits: andre (andre@CA528A4A.45A4338E.8EE27E6.IP) (Ping timeout)
[10:10:17] *** Joins: andre (andre@CA528A4A.45A4338E.8EE27E6.IP)
[10:11:58] *** Quits: Armavica (virgile@moz-AD428ED7.ens.fr) (Ping timeout)
[10:12:57] *** Quits: andre (andre@CA528A4A.45A4338E.8EE27E6.IP) (Ping timeout)
[10:13:14] *** Quits: KindOne (KindOne@moz-F0855065.dynamic.ip.windstream.net) (Ping timeout)
[10:14:10] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[10:18:03] *** Joins: KindOne (KindOne@moz-63C0CBE2.dynamic.ip.windstream.net)
[10:19:38] *** Joins: canndrew (irssi@A21734A3.5EA6E22A.7260E5E5.IP)
[10:20:30] *** Joins: andre (andre@CA528A4A.45A4338E.8EE27E6.IP)
[10:20:50] *** Joins: nkoep (nik@moz-B00B6BF1.pool.mediaways.net)
[10:21:22] <canndrew> Hey people. Does anyone know how to iterate over the members of a struct or trait at compile time? serialize::Encodable and serialize::Decodable do it somehow
[10:21:45] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[10:22:26] <dbaupp> they do it by being syntax extensions
[10:22:55] <dbaupp> well, #[deriving] does it, to construct instances of those traits
[10:23:27] *** Quits: andre (andre@CA528A4A.45A4338E.8EE27E6.IP) (Ping timeout)
[10:23:33] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[10:24:16] <canndrew> hmm okay, thanks
[10:24:56] <canndrew> is it possible to write my own, similar syntax extension without hacking the compiler?
[10:25:10] <dbaupp> yeah, we recently got support for it
[10:25:24] <dbaupp> however there's no docs for how to use it... :(
[10:25:48] <dbaupp> https://github.com/sfackler/rust-phf/blob/master/phf_mac.rs is an example
[10:26:14] <canndrew> thanks!
[10:26:18] *** Quits: rca (rcatolino@68C2C935.20EF280.520D6FA6.IP) (Ping timeout)
[10:26:28] *** Joins: fyolnish (fyolnish@moz-301CF061.uqwimax.jp)
[10:27:27] *** Joins: rca (rcatolino@68C2C935.20EF280.520D6FA6.IP)
[10:29:35] *** Joins: nawfel (Mibbit@33CE489C.4A976D97.DFAB1F33.IP)
[10:29:55] <nawfel> rusti: "are you alive"
[10:29:55] -rusti- "are you alive"
[10:30:31] <nawfel> rusti: ~"nice to see you!"
[10:30:33] -rusti- ~"nice to see you!"
[10:31:06] *** Joins: doener (doener@moz-C68F600D.unity-media.net)
[10:31:15] *** Quits: fyolnish (fyolnish@moz-301CF061.uqwimax.jp) (Ping timeout)
[10:31:43] <nawfel> rusti: do spawn { println("I love you rusti"); }
[10:31:46] -rusti- <anon>:10:20: 10:27 error: unresolved name `println`.
[10:31:46] -rusti- <anon>:10         do spawn { println("I love you rusti"); }
[10:31:46] -rusti-                              ^~~~~~~
[10:31:46] -rusti- error: aborting due to previous error
[10:31:46] -rusti- application terminated with error code 101
[10:31:47] *** Joins: fyolnish (fyolnish@moz-301CF061.uqwimax.jp)
[10:32:09] <nawfel> rusti: do spawn { std::println("I love you rusti"); }
[10:32:09] -rusti- <anon>:10:20: 10:32 error: unresolved name `std::println`.
[10:32:09] -rusti- <anon>:10         do spawn { std::println("I love you rusti"); }
[10:32:10] -rusti-                              ^~~~~~~~~~~~
[10:32:10] -rusti- error: aborting due to previous error
[10:32:10] -rusti- application terminated with error code 101
[10:32:53] <canndrew> rusti: do spawn { println!("I love you rusti"); }
[10:32:54] -rusti- ()
[10:32:54] -rusti- I love you rusti
[10:33:18] <nawfel> thanks canndrew :)
[10:34:28] <canndrew> anytime :)
[10:35:39] *** Joins: andre (andre@CA528A4A.45A4338E.8EE27E6.IP)
[10:36:09] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[10:38:25] *** Quits: andre (andre@CA528A4A.45A4338E.8EE27E6.IP) (Ping timeout)
[10:38:50] *** Joins: io2 (io2@moz-7C3DDBE8.home.otenet.gr)
[10:39:34] *** Joins: Armavica (virgile@moz-AD428ED7.ens.fr)
[10:40:19] *** Joins: flbachm (Mibbit@moz-4A19983C.ip227.fastwebnet.it)
[10:43:26] *** Quits: Armavica (virgile@moz-AD428ED7.ens.fr) (Ping timeout)
[10:43:55] *** Quits: cdidd (cdidd@moz-6E5FA24F.broadband.corbina.ru) (Ping timeout)
[10:44:42] *** Joins: jackneill (jackneill@moz-E7C6E0B7.pool.digikabel.hu)
[10:44:54] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Input/output error)
[10:45:24] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[10:47:00] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[10:47:18] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[10:48:48] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[10:51:10] <flbachm> how do I make an iterator over all elements of a 2d vector "let grid = [[0u,..3], ..3];"?
[10:52:59] <eddyb> flbachm: flat_map
[10:53:51] <eddyb> flbachm: something like mat.flat_map(|vec| vec.iter())
[10:54:10] <eddyb> flbachm: err, mat.iter().flat_map(|vec| vec.iter())
[10:55:12] <flbachm> thanks
[10:56:58] *** Joins: andre (andre@CA528A4A.45A4338E.8EE27E6.IP)
[10:58:00] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving.)
[10:58:46] *** Quits: andre (andre@CA528A4A.45A4338E.8EE27E6.IP) (Ping timeout)
[10:59:26] *** Joins: andreasvc (andreasvc@C709828D.E7BADBF1.B0C2132F.IP)
[10:59:27] <pzol> #[ crate_id = "vmod_rpm#0.1" ]; is not working if I do #[ no_std ]; ?
[11:01:48] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[11:02:42] *** Quits: heftig (heftig@moz-51E3C61B.dip0.t-ipconnect.de) (Ping timeout)
[11:02:57] <dbaupp> pzol: what's the error message?
[11:03:03] *** Quits: nawfel (Mibbit@33CE489C.4A976D97.DFAB1F33.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:03:14] <pzol> unresolved import. maybe a missing `extern mod std`?
[11:03:32] *** Joins: heftig (heftig@moz-51E3C61B.dip0.t-ipconnect.de)
[11:03:35] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Ping timeout)
[11:04:17] <dbaupp> so you still have a `use std::...;` line somewhere?
[11:04:38] <pzol> no
[11:05:08] *** Joins: thiago (thiago@705535C9.9074706C.BD25C20F.IP)
[11:05:15] <dbaupp> that's really weird
[11:05:35] <pzol> file is empty otherwise, aaa it also says error: use of undeclared module `::std::os`
[11:06:14] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[11:07:00] <eddyb> crate_map?
[11:07:08] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[11:08:00] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[11:08:01] <pzol> https://gist.github.com/8706490
[11:08:34] *** Joins: heftig_ (heftig@moz-D746319F.unitymedia.biz)
[11:09:00] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Ping timeout)
[11:09:00] *** Quits: heftig (heftig@moz-51E3C61B.dip0.t-ipconnect.de) (Ping timeout)
[11:09:22] *** heftig_ is now known as heftig
[11:09:31] <dbaupp> pzol: code?
[11:09:48] <pzol> dbaupp https://gist.github.com/8706490
[11:09:55] <pzol> that's all ;)
[11:10:16] <pzol> sorry
[11:11:06] <pzol> dbaupp now... updated
[11:11:39] <dbaupp> works for me
[11:12:01] <pzol> rustc 0.10-pre (056363f 2014-01-29 22:21:29 -0800)
[11:12:03] <pzol> duh
[11:13:45] <WebeWizard> hello again. my library now compiles to a .rlib, how can I make it a .so again?
[11:14:37] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Ping timeout)
[11:14:51] <dbaupp> #[crate_type="dylib"]; instead of "lib"
[11:15:29] <WebeWizard> that did the trick!, thanks dbaupp
[11:15:38] <eddyb> WebeWizard: or --lib on the command line, I guess (or is it --dylib?)
[11:15:45] <dbaupp> eddyb: --dylib
[11:15:54] <eddyb> WebeWizard: any specific reason why you need a .so?
[11:16:13] *** Joins: Armavica (virgile@moz-AD428ED7.ens.fr)
[11:16:27] <WebeWizard> eddyb, nope :) just learning bit by bit. So i get spooked when things change.
[11:16:40] <pzol> aaa ok, I specified --test! that's why, sorry to bother u
[11:16:50] <eddyb> >_>
[11:16:53] *** Quits: KindOne (KindOne@moz-63C0CBE2.dynamic.ip.windstream.net) (Ping timeout)
[11:16:57] <eddyb> --test uses std *and* extra
[11:19:16] <WebeWizard> now, i've heard a rumor that we shouldn't use .rc anymore, true?
[11:20:04] <dbaupp> ys
[11:20:09] <dbaupp> yes
[11:20:22] <dbaupp> it doesn't have any special meaning to the compiler at all
[11:20:52] <eddyb> WebeWizard: there is a reason rlib is the default :P
[11:21:02] *** Quits: andreasvc (andreasvc@C709828D.E7BADBF1.B0C2132F.IP) (Ping timeout)
[11:21:16] *** Joins: KindOne (KindOne@moz-BACF92C6.dynamic.ip.windstream.net)
[11:21:24] <WebeWizard> I believe you :)
[11:21:58] <eddyb> WebeWizard: it also allows LTO, and fighting optimizations is not the rust way ;)
[11:22:30] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[11:22:43] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[11:23:02] * dbaupp hates optimisations... they make his code run fast, and other similarly undesirable things
[11:23:32] <eddyb> dbaupp: we should paint LTO red
[11:24:13] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[11:24:41] <eddyb> (well, if you want to hate optimizations... we have several benchmarks that are optimized to {ret void} and need fixin')
[11:24:58] * dbaupp knows
[11:25:02] *** Joins: lenstr (lenstr@DDBBF7CC.9636F313.7A27613B.IP)
[11:25:02] * dbaupp filed the bug about that ;P
[11:25:19] <eddyb> neat
[11:25:22] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Ping timeout)
[11:25:30] *** Quits: skade (skade@moz-A652C7A9.netcologne.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[11:25:44] *** Quits: io2 (io2@moz-7C3DDBE8.home.otenet.gr) (Ping timeout)
[11:25:52] <dbaupp> https://github.com/mozilla/rust/issues/8261
[11:26:02] <dbaupp> https://github.com/mozilla/rust/issues/8261#issuecomment-23015949
[11:26:05] <dbaupp> specifically
[11:26:09] <eddyb> dbaupp: I suggest we keep the version that can be optimized away, as an optimization test :P
[11:27:05] <eddyb> #[cfg(not_real_benchmarks)] #[inline(never)] fn bench_sink(_: T) {}
[11:27:20] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[11:28:11] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[11:29:02] *** Quits: benjamin_ (benjamin@moz-5DB44270.dip0.t-ipconnect.de) (Ping timeout)
[11:29:05] <dbaupp> I was thinking we could make the closure to .iter return uint
[11:29:12] <dbaupp> and put #[inline(never)] on iter
[11:29:25] <eddyb> why return uint?
[11:29:32] <dbaupp> or bool or something
[11:29:37] <dbaupp> just so that the closure can have a result
[11:29:41] <dbaupp> to avoid DCE
[11:29:53] <eddyb> dbaupp: that... happens? pretty sure my sink "just works"
[11:29:53] <dbaupp> (.iter would entirely ignore the return value.)
[11:29:57] *** Quits: limeburst (me@247D1419.D73964AC.27A8748.IP) (Ping timeout)
[11:30:13] <dbaupp> eddyb: yeah, but that's adds a whole extra function call to every benchmark :P
[11:30:21] <eddyb> hmpf
[11:30:26] <dbaupp> eddyb: what do you mean by "that happens"?
[11:30:40] <eddyb> dbaupp: the result thing. you really need it?
[11:31:13] <eddyb> also, DCE happens *inside* the closure, that's what's plaguing most of these
[11:31:14] *** Joins: skade (skade@moz-A652C7A9.netcologne.de)
[11:31:47] <eddyb> dbaupp: oh, I know, the noinline function can get marked as pure
[11:32:09] <jasom> eddyb: you asked about this: https://github.com/jasom/rust-critbit
[11:32:19] <eddyb> jasom: sweet!
[11:32:29] *** Quits: flbachm (Mibbit@moz-4A19983C.ip227.fastwebnet.it) (Quit: http://www.mibbit.com ajax IRC Client)
[11:32:34] <jasom> eddyb: no license yet; what license is most rust stuff in MPL?
[11:32:49] <dbaupp> eddyb: by having a return value which you compute inside the closure (based on the computation done inside the closure) one can stop DCE in the closure
[11:33:08] <eddyb> dbaupp: right, that I understand, but what's with the int/bool returned by iter?
[11:33:10] *** Quits: skade (skade@moz-A652C7A9.netcologne.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[11:33:18] *** Joins: nawfel (Mibbit@33CE489C.4A976D97.DFAB1F33.IP)
[11:33:38] <doomlord_> i remember people talking about splitting libextra or replacing it with package management, whats the latest thinking there
[11:33:43] <dbaupp> eddyb: huh?
[11:34:01] <dbaupp> that's just the dummy return value I'm talking about
[11:34:02] <eddyb> dbaupp: aaaah nevermind me
[11:34:04] <nawfel> fn fork_bomb() { } fork_bomb()
[11:34:10] <nawfel> rusti: fn fork_bomb() { } fork_bomb()
[11:34:11] -rusti- ()
[11:34:20] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[11:34:34] <dbaupp> rusti: fn fork_bomb() { loop { spawn(proc() fork_bomb()) } } fork_bomb()
[11:34:36] -rusti- application terminated abnormally with signal 9 (Killed)
[11:34:36] <eddyb> dbaupp: you can totally make it generic
[11:34:44] <dbaupp> eddyb: why?
[11:34:51] <dbaupp> a bool is all you need
[11:34:59] <eddyb> a bool can be optimized out
[11:35:04] <dbaupp> nawfel: it's in a strong sandbox
[11:35:10] <nawfel> thx dbaupp 
[11:35:12] <nawfel> :)
[11:35:20] <dbaupp> eddyb: not when LLVM can't tell what .iter does with the return value
[11:35:50] <dbaupp> for all LLVM knows .iter is saying `if clsoure() { rm_rf("/"); }`
[11:36:06] <eddyb> dbaupp: no, I mean, the closure can be optimized to ret constant
[11:36:46] <pzol> to link rust from C do I need a #[ crate_type = "lib" ]; or #[ crate_type = "dylib" ];
[11:36:47] <eddyb> for something like ~[T]/&[T], you need the entire thing to go somewhere
[11:36:50] <dbaupp> eddyb: not it can't
[11:37:01] <dbaupp> not if you set the return value based on what the benchmark is doing
[11:37:14] <eddyb> pzol: .a, .rlib and .so all work
[11:37:22] <dbaupp> i.e. in an unpredictable way
[11:37:25] <pzol> eddyb thanks :)
[11:37:26] <eddyb> pzol: at least on linux
[11:37:44] <eddyb> dbaupp: benchmarks are predictable, otherwise they're useless
[11:37:56] *** Quits: victorporof (victorporo@B8DD971B.8AF48BD8.79933D60.IP) (Quit: victorporof)
[11:38:00] *** Joins: limeburst (me@247D1419.D73964AC.27A8748.IP)
[11:38:21] <eddyb> dbaupp: what would you return for the zero_1kb vec benchmarks?
[11:38:53] <dbaupp> eddyb: not sure
[11:39:10] <dbaupp> eddyb: they don't have to be *completely* predictable
[11:39:25] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[11:39:28] <dbaupp> and they don't have to be actually unpredictable
[11:39:29] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Quit: Leaving)
[11:39:38] <dbaupp> just unpredictable to LLVM
[11:39:43] <eddyb> it's harder to fiddle with predictability than return a ~[T]
[11:39:50] <dbaupp> yes
[11:39:59] <pzol> errr how do I get the current date time ??
[11:40:06] <dbaupp> extra::time probably has something
[11:40:16] <eddyb> dbaupp: though how do you prevent LLVM from inlining the closure into iter?
[11:40:33] <dbaupp> eddyb: for a generic?
[11:40:47] <eddyb> or for a non-generic with LTO
[11:40:52] <dbaupp> eddyb: in either case, #[inline(never)] is magical
[11:40:59] <eddyb> you can't put it on the closure
[11:41:13] <eddyb> oooh, I see
[11:41:18] <dbaupp> on .iter
[11:41:25] <dbaupp> so it's a black box to LLVM
[11:41:27] <eddyb> because it can't inline iter, it can't specialize it for a certain closure pointer
[11:41:35] <dbaupp> yes
[11:41:38] <dbaupp> exactly
[11:41:58] <eddyb> then it would work even if it were generic (which I'd like, rather than a magic bool)
[11:42:08] <dbaupp> (i'd prefer the #[inline(never)] fn black_box<T>(_: T) {} to having .iter generic.)
[11:42:11] <dbaupp> fwiw.
[11:42:13] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Ping timeout)
[11:43:04] <eddyb> that's an extra call, as you've mentioned. though it has to free T so maybe it's not that bad
[11:43:21] <dbaupp> well "free" T could be a noop
[11:44:26] <jasom> should I report an ICE that only shows up if I use #[unsafe_destructor]?
[11:44:50] <dbaupp> yes
[11:45:08] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[11:46:13] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[11:46:47] *** Quits: rca (rcatolino@68C2C935.20EF280.520D6FA6.IP) (Ping timeout)
[11:54:26] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[11:55:08] *** Joins: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com)
[11:56:54] *** Joins: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP)
[11:57:11] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Ping timeout)
[11:59:22] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[12:02:40] *** Joins: rca (rcatolino@68C2C935.20EF280.520D6FA6.IP)
[12:04:42] *** Joins: jvrmaia (jvrmaia@488448C0.A3C460C4.EBCD9D32.IP)
[12:04:59] *** Joins: a_m0d (a_m0d@moz-2F294D00.acanac.net)
[12:05:11] *** Joins: tq (tq@moz-9FE9CCF4.a251.priv.bahnhof.se)
[12:06:44] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[12:07:38] *** Quits: nemo (nemo@moz-57FDFA.hsd1.md.comcast.net) (Ping timeout)
[12:08:30] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[12:08:55] *** Joins: thikonom (Mibbit@574E1E03.90AF3151.B6DDF205.IP)
[12:16:02] <Ms2ger> enum FormDatum {
[12:16:02] <Ms2ger>     StringData(DOMString),
[12:16:02] <Ms2ger>     BlobData { blob: JSManaged<Blob>, name: DOMString }
[12:16:02] <Ms2ger> }
[12:16:11] <Ms2ger> Was that on its way out?
[12:16:25] <dbaupp> Ms2ger: #servo?
[12:16:45] <Ms2ger> No the Variant { ... } thing
[12:16:54] <Ms2ger> With a comma somewhere
[12:16:58] <dbaupp> oh
[12:17:04] <dbaupp> struct variants?
[12:17:17] <Ms2ger> If that's what you call them :)
[12:17:23] <eddyb> struct-like or structural, pls
[12:17:38] <dbaupp> they're feature gated, but i think that's just because of some minor bugs
[12:17:42] <dbaupp> not because they're due for removal
[12:17:48] <Ms2ger> I see, thanks
[12:17:51] <dbaupp> eddyb: ew
[12:17:58] <dbaupp> (I hope they don't get removed...)
[12:17:59] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[12:18:16] *** Quits: nawfel (Mibbit@33CE489C.4A976D97.DFAB1F33.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[12:18:19] <Ms2ger> It's just that you folks have a habit of removing everything Servo uses :)
[12:19:44] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[12:20:50] <diverse> Ms2ger: go figure?
[12:21:00] <Ms2ger> ?
[12:21:23] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[12:22:37] <eddyb> no go pls
[12:23:08] <dbaupp> isn't it `go sketch`?
[12:23:14] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[12:23:43] *** Joins: victorporof (victorporo@B8DD971B.8AF48BD8.79933D60.IP)
[12:24:35] <Ms2ger> Go cargo
[12:24:55] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[12:26:12] <diverse> dbaupp: is that what they say in Australia?
[12:26:57] *** Joins: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se)
[12:26:59] *** Joins: eibwen (kvirc@moz-FF23A73.dip0.t-ipconnect.de)
[12:27:55] <dbaupp> diverse: it was a (very) bad joke
[12:28:15] <dbaupp> I thought Golang had a sketch subcommand of their `go` tool
[12:28:34] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[12:28:38] <dbaupp> but, I was clearly getting mixed up with the (long gone) `rust sketch` commnd
[12:29:31] <diverse> I see, I should have said this instead: http://i3.kym-cdn.com/entries/icons/original/000/007/242/no_shit_sherlock.gif
[12:30:38] <bjz> diverse: I was expecting a better image macro there
[12:30:49] *** Joins: skade (skade@moz-A652C7A9.netcologne.de)
[12:31:36] *** Quits: lenstr (lenstr@DDBBF7CC.9636F313.7A27613B.IP) (Ping timeout)
[12:31:55] *** Quits: victorporof (victorporo@B8DD971B.8AF48BD8.79933D60.IP) (Quit: victorporof)
[12:32:13] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[12:32:28] *** vfetwnuncszu is now known as dcrewi
[12:32:30] <diverse> bjz: take your pick http://knowyourmeme.com/memes/no-st-sherlock/photos
[12:32:53] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[12:33:27] <bjz> diverse: nah. more like http://i.imgur.com/661836J.jpg
[12:33:59] *** Joins: Kynes (Kynes@moz-3DC6C6E7.mit.edu)
[12:34:33] *** Joins: andrew-__ (andrew-d_w@4CCE6E0C.339B431B.1E537B93.IP)
[12:34:37] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[12:34:51] *** Quits: a_m0d (a_m0d@moz-2F294D00.acanac.net) (Quit: Leaving.)
[12:35:07] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[12:38:06] <diverse> bjz: http://1.bp.blogspot.com/-22mWRhpxtXQ/Uc2ECcX5EPI/AAAAAAAABWQ/Jf86NKxr4NY/s500/1341858117_You-Dont-Say-Meme-Rage-Face-Nicolas.png
[12:39:08] <diverse> better?
[12:39:54] *** Quits: thikonom (Mibbit@574E1E03.90AF3151.B6DDF205.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[12:40:38] <eibwen> where am I?
[12:40:42] <eibwen> #memes?
[12:41:58] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[12:41:58] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[12:42:17] *** Quits: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se) (Ping timeout)
[12:42:37] <diverse> eibwen: it's whatever you want it to be.
[12:45:24] <diverse> eibwen: seriously though, what's wrong with showing links to pics?
[12:45:53] <pzol> how would you implement a counter which accessed by many threads/tasks? 
[12:46:33] *** Quits: sellout (Adium@moz-CF70CF20.hlrn.qwest.net) (Ping timeout)
[12:47:10] *** Joins: sellout (Adium@moz-CF70CF20.hlrn.qwest.net)
[12:47:24] <pzol> MutexArc?
[12:48:07] *** Joins: vmx (vmx@moz-EE85D717.pools.arcor-ip.net)
[12:48:31] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[12:50:01] *** Joins: nszceta (quassel@78266070.E468435E.81256AF5.IP)
[12:50:11] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[12:51:24] <dbaupp> pzol: that's one way, yes
[12:51:38] <pzol> or RWArc?
[12:51:48] <dbaupp> MutexArc will be faster
[12:51:58] <pzol> ok thx
[12:52:03] <dbaupp> (RWArc is best if you have many readers and only a few writers)
[12:52:40] <pzol> ok thx
[12:55:37] <pzol> rusti: static counter: MutexArc<i64> = MutexArc::new(1);
[12:55:40] -rusti- pastebinned 14 lines of output: http://ix.io/acP
[12:56:11] <pzol> rusti: use extra::Arc::MutexArc; static counter: MutexArc<i64> = MutexArc::new(1);
[12:56:14] -rusti- pastebinned 8 lines of output: http://ix.io/acQ
[12:56:34] <pzol> rusti: use extra::arc::MutexArc; static counter: MutexArc<i64> = MutexArc::new(1);
[12:56:37] -rusti- pastebinned 8 lines of output: http://ix.io/acR
[12:56:55] <pzol> error: function calls in constants are limited to struct and enum constructors :( 
[12:56:58] <eddyb> pzol: no CTFE
[12:57:04] <pzol> ?
[12:57:14] <eddyb> compile-time function evaluation
[12:58:03] *** Quits: andrew-__ (andrew-d_w@4CCE6E0C.339B431B.1E537B93.IP) (Input/output error)
[12:58:18] <diverse> eddyb: what about macros? They are kind of like CTFE?
[12:58:21] <c-a> pzol, you could also use std::sync::atomics::AtomicUint
[12:58:25] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[12:58:29] <eddyb> diverse: they run much earlier, on the AST
[12:58:40] <dbaupp> are atomics out of std::unstable now? cool
[12:59:29] <c-a> dbaupp, yep, seems like it
[12:59:56] *** pmoore is now known as warrior-dragon-fighter
[13:00:09] <pzol> hmmmmm nice... but still cant init it as a static
[13:00:14] *** Quits: nszceta (quassel@78266070.E468435E.81256AF5.IP) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[13:01:29] *** warrior-dragon-fighter is now known as pmoore
[13:02:16] <dbaupp> pzol: there are some static initialisers
[13:02:36] <pzol> with AtomicUint?
[13:02:46] <dbaupp> http://static.rust-lang.org/doc/master/std/sync/atomics/index.html
[13:02:55] <dbaupp> INIT_ATOMIC_UINT
[13:03:21] *** Joins: nszceta (quassel@78266070.E468435E.81256AF5.IP)
[13:04:26] <eddyb> merges are now purple? or were they like that before?
[13:04:54] <bjz> dbaupp: https://github.com/mozilla/rust/pull/11930
[13:06:43] <pzol> aaa
[13:07:18] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[13:07:32] *** Quits: ecl3ctic (Mibbit@moz-E1FAD64C.wzfv1.vic.bigpond.net.au) (Quit: http://www.mibbit.com ajax IRC Client)
[13:09:02] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[13:09:50] *** Joins: victorporof (victorporo@970BB0A1.F7F04062.79933D60.IP)
[13:10:55] <bjz> dbaupp: fixededed
[13:10:58] *** Joins: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com)
[13:13:22] <diverse> bjz: so that makes it a fix on a fix that fix another thing?
[13:13:45] <bjz> diverse: yarup
[13:15:01] <diverse> *that fixes the fix to another thing
[13:15:40] *** Joins: moostik (Icedove@moz-2B884898.w83-199.abo.wanadoo.fr)
[13:16:34] *** Quits: moostik (Icedove@moz-2B884898.w83-199.abo.wanadoo.fr) (Client exited)
[13:17:08] *** Joins: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us)
[13:18:29] *** Quits: kvanb (kvanb@moz-3762148F.lnse7.win.bigpond.net.au) (Quit: kvanb)
[13:19:43] <diverse> bjz: making Rust's math world a much better place than yesterday?
[13:20:03] <bjz> diverse: one function at a time
[13:20:51] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[13:23:11] *** Quits: luz (lucy@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[13:23:56] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[13:24:06] <pzol> help :( error: cannot borrow immutable static item as mutable https://gist.github.com/pzol/8708193
[13:25:39] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[13:27:27] *** Joins: andreasvc (andreasvc@CE925D31.241C0344.5AB4C961.IP)
[13:28:13] *** Joins: luz (lucy@moz-CD18B14B.customer.cdi.no)
[13:33:12] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[13:33:57] *** Quits: nszceta (quassel@78266070.E468435E.81256AF5.IP) (Quit: out)
[13:34:55] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[13:35:04] *** Joins: nszceta (hax@78266070.E468435E.81256AF5.IP)
[13:35:56] *** Quits: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP) (Ping timeout)
[13:36:07] *** Quits: andreasvc (andreasvc@CE925D31.241C0344.5AB4C961.IP) (Ping timeout)
[13:36:11] *** Quits: nszceta (hax@78266070.E468435E.81256AF5.IP) (Quit: out)
[13:36:20] *** Joins: nszceta (hax@78266070.E468435E.81256AF5.IP)
[13:36:50] *** Quits: nszceta (hax@78266070.E468435E.81256AF5.IP) (Quit: out)
[13:36:53] *** Joins: nszceta (hax@78266070.E468435E.81256AF5.IP)
[13:38:24] *** Joins: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP)
[13:38:55] *** Quits: nszceta (hax@78266070.E468435E.81256AF5.IP) (Quit: out)
[13:39:32] *** Joins: nszceta (hax@78266070.E468435E.81256AF5.IP)
[13:40:33] *** Quits: nszceta (hax@78266070.E468435E.81256AF5.IP) (Quit: out)
[13:41:44] *** Quits: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us) (Ping timeout)
[13:42:09] *** Joins: nszceta (hax@78266070.E468435E.81256AF5.IP)
[13:44:36] *** Quits: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net) (Quit: sw17ch)
[13:45:03] *** Joins: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us)
[13:46:33] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[13:48:47] <nszceta>  /msg NickServ confirm P6JT08Mcr
[13:48:54] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Connection reset by peer)
[13:48:54] <nszceta> derp
[13:49:19] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[13:49:55] *** Quits: nszceta (hax@78266070.E468435E.81256AF5.IP) (Client exited)
[13:50:08] *** Joins: nszceta (hax@78266070.E468435E.81256AF5.IP)
[13:51:01] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Quit: Leaving)
[13:51:15] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[13:51:36] *** Quits: jga (asdf@147F7048.8C67AD8B.B5524284.IP) (Ping timeout)
[13:51:48] *** Joins: rca_ (rcatolino@moz-7F9205D.adsl.proxad.net)
[13:51:50] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[13:52:03] *** Quits: nszceta (hax@78266070.E468435E.81256AF5.IP) (Quit: out)
[13:52:14] *** Joins: nszceta (hax@78266070.E468435E.81256AF5.IP)
[13:52:26] *** Quits: rca (rcatolino@68C2C935.20EF280.520D6FA6.IP) (Ping timeout)
[13:56:44] <bstrie_rules> nszceta: that's quite a password :P
[13:56:52] <nszceta> I already registered
[13:56:57] <nszceta> I need to reset my actual password
[13:56:59] <nszceta> it's over 40 chars
[13:57:09] <bstrie_rules> hahaha
[13:57:12] <nszceta> and for some stupid reason this IRC server nuked itself
[13:57:48] <nszceta> I guess I can try for (int i = 0; i < 40; ++i)
[13:58:13] <nszceta> I wish I knew where the Opers hang out
[13:58:19] <nszceta> but whatever... so bummed
[13:58:35] <Ms2ger> You say irc-ops without the dash, and they appear in a whiff of smoke
[13:58:43] <nszceta> irc ops
[13:59:00] <Ms2ger> No space either
[13:59:00] <pzol> neeeed help :( error: cannot borrow immutable static item as mutable https://gist.github.com/pzol/8708193
[13:59:06] <nszceta> ircops
[13:59:26] <nszceta> ...
[13:59:39] <bstrie_rules> nszceta: well first you have to take your laptop into the bathroom, turn out the lights, and then say it aloud three times while looking into the mirror
[13:59:52] <nszceta> I should also light some candles maybe
[14:01:14] <nszceta> bstrie_rules: Ms2ger: git commit -am "DEAL WITH IT" && git push -f origin master
[14:01:23] <Ms2ger> :D
[14:02:33] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[14:04:28] <bstrie_rules> wow, the rust repo on github gets a *lot* more unique hits in a day than I was expecting
[14:04:32] <bstrie_rules> https://github.com/mozilla/rust/graphs/traffic
[14:04:35] <bstrie_rules> ^ new github graph
[14:04:49] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Quit: canhtak)
[14:05:06] <nszceta> about to increase that number
[14:05:08] <bstrie_rules> what are we doing that we're averaging 1,500 uniques a day
[14:05:12] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[14:05:18] <bstrie_rules> like, if they each only fixed *one bug*
[14:05:20] <bstrie_rules> we'd be SET
[14:05:38] <TobiasFar> is there a way to get a mutable pointer to a rust value?
[14:06:14] <TobiasFar> more correct is probably a pointer pointing to mutable data
[14:06:18] *** Joins: Earnestly (earnest@moz-A8B5B5EE.dyn.plus.net)
[14:07:40] <diverse> bstrie_rules: we need to get those uniques in this channel too
[14:07:54] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[14:07:56] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[14:08:19] *** Joins: jga (asdf@AB3456D.C4F09350.B5524284.IP)
[14:09:40] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[14:09:41] <diverse> bstrie_rules: also, are you a macro now?
[14:10:42] *** Joins: benjamin_ (benjamin@moz-5DB44270.dip0.t-ipconnect.de)
[14:13:11] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[14:14:13] *** Joins: arrrrrrrrr (arrrrrrrrr@moz-DDF35FC3.dynamic.qsc.de)
[14:14:57] *** Quits: skade (skade@moz-A652C7A9.netcologne.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:15:04] *** Joins: skade (skade@moz-A652C7A9.netcologne.de)
[14:16:00] <arrrrrrrrr> what's the fastest way to write to stdout? I've been doing https://gist.github.com/anonymous/025e4d6302416e13241e but it's very slow when stdout is piped elsewhere
[14:16:02] <bstrie_rules> diverse: nah, I'm a hacky syntax extension :P
[14:16:19] <diverse> bstrie_rules: impressive :)
[14:16:56] *** Quits: jvrmaia (jvrmaia@488448C0.A3C460C4.EBCD9D32.IP) (Client exited)
[14:17:03] <bstrie_rules> TobiasFar: let mut foo = 1; let bar = &mut foo;
[14:17:18] *** Joins: jvrmaia (jvrmaia@488448C0.A3C460C4.EBCD9D32.IP)
[14:17:25] *** Quits: lahwran (lahwran@lahwran.net) (Ping timeout)
[14:17:26] <bstrie_rules> arrrrrrrrr: what do you mean, slow when stdout is piped elsewhere? is it fast normally, but not in that specific circumstance?
[14:18:05] <bstrie_rules> arrrrrrrrr: in any case, I think I've heard of a writeln!() macro, that takes a handle to stdout as its argument, or something
[14:18:22] <arrrrrrrrr> bstrie_rules: Without piping it's hard to see if it's fast or not. Here are some stats: https://gist.github.com/anonymous/946311b5e75b5ca9e74c
[14:19:04] <arrrrrrrrr> writing to disk is 50x slower than the equivalent c code
[14:19:15] *** Quits: jvrmaia (jvrmaia@488448C0.A3C460C4.EBCD9D32.IP) (Ping timeout)
[14:19:40] *** Quits: marianoguerra (marianogue@moz-5FDEBF86.dip0.t-ipconnect.de) (Ping timeout)
[14:19:42] *** Joins: marianoguerra (marianogue@moz-5FDEBF86.dip0.t-ipconnect.de)
[14:20:08] *** Quits: mixi (mixi@moz-DBD8904A.org) (Ping timeout)
[14:20:21] *** Quits: pcdummy (pcdummy@moz-CF4CA865.page4me.ch) (Ping timeout)
[14:20:25] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[14:20:32] *** Quits: prudhvi (p@moz-154A460A.supr.io) (Ping timeout)
[14:20:32] *** Quits: lynks (lynks@moz-CA8DE8D.clients.your-server.de) (Ping timeout)
[14:20:32] *** Quits: DasIch (dasich@moz-5EDA591.de) (Ping timeout)
[14:20:38] *** Quits: decoder (quassel@moz-D7023D7D.own-hero.net) (Ping timeout)
[14:20:38] *** Quits: toshok (toshok@moz-43741342.cat) (Ping timeout)
[14:20:59] <TobiasFar> bstrie_rules: struct fields can't be mutable, right?
[14:21:18] <diverse> TobiasFar: mutability is inherited
[14:22:06] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[14:22:58] *** Joins: lahwran (lahwran@lahwran.net)
[14:23:26] <diverse> arrrrrrrrr: maybe post that as an issue in github?
[14:23:40] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[14:23:54] *** Joins: mixi (mixi@moz-DBD8904A.org)
[14:24:34] <arrrrrrrrr> diverse: this might be it: https://github.com/mozilla/rust/issues/10279 but even if I disable all buffering in c, the rust code is still 2x slower
[14:24:34] *** Quits: marianoguerra (marianogue@moz-5FDEBF86.dip0.t-ipconnect.de) (Ping timeout)
[14:24:36] *** Joins: pcdummy (pcdummy@moz-CF4CA865.page4me.ch)
[14:24:44] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[14:24:51] *** Joins: toshok (toshok@moz-43741342.cat)
[14:25:14] *** Joins: decoder (quassel@moz-D7023D7D.own-hero.net)
[14:25:20] *** Joins: marianoguerra (marianogue@moz-5FDEBF86.dip0.t-ipconnect.de)
[14:26:05] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[14:26:35] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[14:26:40] *** Joins: lynks (lynks@moz-CA8DE8D.clients.your-server.de)
[14:26:42] *** Joins: prudhvi_ (p@moz-154A460A.supr.io)
[14:27:08] *** Joins: claudiuc (claudiuc@moz-D5BFAAB5.hsd1.ca.comcast.net)
[14:27:21] *** Quits: marianoguerra (marianogue@moz-5FDEBF86.dip0.t-ipconnect.de) (Ping timeout)
[14:27:44] *** Joins: DasIch (dasich@moz-5EDA591.de)
[14:28:31] *** Joins: new_one (new_one@moz-6F89B0D0.rice.edu)
[14:30:59] <silven> How do I declare that a struct has a field which is a fixed size array?
[14:31:36] <Ms2ger> struct X { y: [Y, ..7] }?
[14:31:52] *** Joins: benjamin_____ (benjamin@moz-4C776721.dip0.t-ipconnect.de)
[14:32:18] *** Quits: benjamin_ (benjamin@moz-5DB44270.dip0.t-ipconnect.de) (Ping timeout)
[14:32:51] *** Quits: pyon (user@5D202184.695050F8.E6392873.IP) (Ping timeout)
[14:33:09] <silven> aah, I tried that and it didn't work, however I was wrong about something else
[14:33:12] <silven> thanks Ms2ger
[14:33:24] <Ms2ger> It worked? Yay :)
[14:33:38] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[14:34:45] *** Joins: pyon (user@5D202184.695050F8.E6392873.IP)
[14:35:09] *** Quits: pyon (user@5D202184.695050F8.E6392873.IP) (Quit: ERC Version 5.3 (IRC client for Emacs))
[14:35:17] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[14:35:29] *** Joins: marianoguerra (marianogue@moz-5FDEBF86.dip0.t-ipconnect.de)
[14:35:58] *** Quits: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us) (Ping timeout)
[14:41:14] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:44:42] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[14:45:08] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[14:45:56] *** Quits: arrrrrrrrr (arrrrrrrrr@moz-DDF35FC3.dynamic.qsc.de) (Quit: arrrrrrrrr)
[14:47:00] *** Quits: nszceta (hax@78266070.E468435E.81256AF5.IP) (Ping timeout)
[14:48:57] *** abinader_brb is now known as abinader
[14:49:15] *** Joins: nszceta (hax@78266070.E468435E.81256AF5.IP)
[14:49:44] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[14:50:02] *** Quits: nszceta (hax@78266070.E468435E.81256AF5.IP) (Input/output error)
[14:51:23] *** Joins: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net)
[14:51:31] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[14:52:42] *** Quits: fyolnish (fyolnish@moz-301CF061.uqwimax.jp) (Client exited)
[14:52:59] *** Quits: copumpkin (copumpkin@moz-D9B414AF.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:54:03] *** pmoore is now known as pmoore|tea-break
[14:54:18] *** Joins: nical (nico@moz-4754F405.fbx.proxad.net)
[14:56:13] *** Quits: thiago (thiago@705535C9.9074706C.BD25C20F.IP) (Client exited)
[14:56:34] *** Joins: thiago (thiago@705535C9.9074706C.BD25C20F.IP)
[14:56:34] *** Joins: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com)
[14:57:04] *** Joins: jvrmaia (jvrmaia@488448C0.A3C460C4.EBCD9D32.IP)
[14:58:18] *** Quits: thiago (thiago@705535C9.9074706C.BD25C20F.IP) (Ping timeout)
[14:59:49] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[15:00:51] *** Quits: sellout (Adium@moz-CF70CF20.hlrn.qwest.net) (Quit: Leaving.)
[15:01:20] *** Quits: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo_)
[15:01:55] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[15:02:07] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[15:02:58] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[15:03:34] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[15:04:33] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[15:05:34] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[15:05:47] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[15:06:13] *** Joins: nszceta (hax@5D3B67E3.71E1659D.DFB5E910.IP)
[15:07:27] *** Quits: Ferreus (ferreus@moz-97C123E2.dip0.t-ipconnect.de) (Ping timeout)
[15:07:53] *** Joins: crail (uid24674@moz-E77DEB21.irccloud.com)
[15:07:57] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[15:08:27] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[15:08:45] <TobiasFar> does rustc have a flag for producing minimal binaries? stripping unused code, debug symbols, etc.?
[15:09:21] <strcat> TobiasFar: well, start with -O -Z lto
[15:09:43] *** Joins: herrwolf` (user@CACBD77F.4EBBBE62.C082B7DC.IP)
[15:09:43] <strcat> you can pass --link-args=-s or strip it after the fact
[15:09:51] <strcat> if you really want a minimal binary, you have to omit libstd
[15:10:09] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[15:10:31] <strcat> as it's basically designed as a framework where libstd calls your main function so it pulls in a fair bit by default
[15:10:48] <strcat> + it uses virtual function abstractions, so you pull in lots of unused code
[15:11:05] <strcat> especially since traits don't currently devirtualize as well as they could
[15:11:29] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[15:11:32] <TobiasFar> strcat: already had opt-level=3 and lto....the stripping put it from 1.1 MB to 0.8 MB
[15:11:44] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[15:11:59] <TobiasFar> strcat: and that unused code can't be detected as such and be stripped away?
[15:12:06] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[15:12:09] *** Joins: sellout (Adium@moz-CF70CF20.hlrn.qwest.net)
[15:12:10] <strcat> TobiasFar: nope because it's not known to be statically dead
[15:12:18] <strcat> anyway it's not really bad until you start using stuff in libstd
[15:12:33] <TobiasFar> like printf! :)
[15:12:38] <strcat> i.e. when you start using I/O, it will pull in 2MiB instead of 20k
[15:12:55] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[15:12:56] *** Joins: jensnock_ (jensnocker@moz-C4B24C3.customers.ownit.se)
[15:13:07] <pzol> Can I do somehthing like this: static mut buckets: HashMap<&str, AtomicUint> = HashMap::new(); ??? => it complains  error: missing lifetime specifier
[15:13:20] <strcat> it's not a rust language issue - you can write a library that will optimize out completely, and link against musl instead of glibc
[15:13:27] <strcat> just how libstd is
[15:13:48] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[15:14:03] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[15:14:10] *** Joins: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net)
[15:14:14] <pzol> Can I haz a static initializer for a HashMap?
[15:14:21] <TobiasFar> i thought lto is able to detect cross module dead code and eliminate it
[15:14:49] <Ms2ger> pzol, don't think so
[15:15:13] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[15:15:24] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[15:15:40] <pzol> Ms2ger I need to have a hashmap which is shared (and updated) across thread calls... 
[15:15:43] *** Quits: jensnock_ (jensnocker@moz-C4B24C3.customers.ownit.se) (Ping timeout)
[15:16:16] *** Quits: Zor (alexrp@moz-B01F40E3.rev.stofanet.dk) (Ping timeout)
[15:16:17] <pzol> Ms2ger an AtomicUintHashMap basicly :)
[15:16:17] <Ms2ger> Use a static Option<HashMap>
[15:16:36] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[15:16:57] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[15:17:05] <pzol> Ms2ger with a Mutex?
[15:17:05] *** Joins: io2 (io2@moz-7C3DDBE8.home.otenet.gr)
[15:17:29] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[15:17:36] <pzol> Ms2ger or how do I construct the Hashmap on the first call?
[15:17:51] <Ms2ger> No idea :)
[15:18:36] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[15:18:45] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[15:19:59] *** pmoore|tea-break is now known as pmoore
[15:20:29] <pzol> :)
[15:20:29] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[15:20:30] <strcat> pzol: rust-core has a concurrent sharded HashMap, *shrug* :P
[15:20:44] <strcat> can do better than a single mutex like MutexArc
[15:21:02] *** Joins: lenstr (lenstr@DDBBF7CC.9636F313.7A27613B.IP)
[15:21:09] <strcat> just split the hash table into N shards at the start and use the hash to pick the right one, never need a full table lock
[15:21:22] <pzol> strcat oooo any links for that?
[15:22:07] *** Joins: pnkfelix (pnkfelix@moz-B1D2E7D0.pck.nerim.net)
[15:22:08] *** Joins: fyolnish (fyolnish@moz-413CDBC9.uqwimax.jp)
[15:22:10] <strcat> https://github.com/thestinger/rust-core/blob/master/core/concurrent.rs#L525 would need to be ported to libstd
[15:22:23] <strcat> and anyway I didn't give it a very extensive API...
[15:23:00] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[15:23:34] <pzol> strcat looks interesting... thanks
[15:23:48] <strcat> also, https://github.com/thestinger/rust-core/issues/24
[15:24:20] *** Quits: sellout (Adium@moz-CF70CF20.hlrn.qwest.net) (Quit: Leaving.)
[15:24:37] *** Quits: franckverrot (Franck_Ver@C3033BF6.B86F1645.C91367C6.IP) (Ping timeout)
[15:24:49] *** Joins: franckverrot (Franck_Ver@C3033BF6.B86F1645.C91367C6.IP)
[15:24:55] <pzol> thanks :D
[15:25:22] *** Quits: herrwolf` (user@CACBD77F.4EBBBE62.C082B7DC.IP) (Quit: ERC Version 5.3 (IRC client for Emacs))
[15:25:25] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[15:27:08] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[15:27:16] *** Quits: squiddy (squiddy@moz-6DBCC01.adsl.alicedsl.de) (Input/output error)
[15:27:46] *** Joins: pyon (user@5D202184.695050F8.E6392873.IP)
[15:30:20] *** Joins: derek_c (derek@moz-F5741DC7.cit.cornell.edu)
[15:31:14] *** Joins: Zor (alexrp@moz-B01F40E3.rev.stofanet.dk)
[15:31:35] *** Joins: igork (igork@moz-D312758C.broadband.corbina.ru)
[15:31:43] *** Joins: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net)
[15:32:13] *** Joins: crail_ (crail@moz-D7728DCD.dhcp.insightbb.com)
[15:32:34] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[15:32:35] *** Quits: crail_ (crail@moz-D7728DCD.dhcp.insightbb.com) (Quit: Leaving...)
[15:33:12] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[15:33:15] *** Joins: maxiepoo_ (Max@moz-BF85AD57.nuwlan.northwestern.edu)
[15:33:58] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[15:34:19] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Ping timeout)
[15:34:27] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[15:35:03] *** Quits: maxiepoo_ (Max@moz-BF85AD57.nuwlan.northwestern.edu) (Ping timeout)
[15:35:41] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[15:36:17] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Ping timeout)
[15:37:46] *** Quits: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net) (Quit: telotortium)
[15:37:46] *** Joins: maxiepoo_ (Max@moz-BF85AD57.nuwlan.northwestern.edu)
[15:39:00] *** Parts: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net) ()
[15:40:11] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[15:41:22] <silven> I'm trying to write a wrapper class, something like Vector<T> which holds a ~[T], but I get "unresolved name T" when I try to implement functions for it, any idea what's wrong?
[15:41:50] *** Quits: claudiuc (claudiuc@moz-D5BFAAB5.hsd1.ca.comcast.net) (Client exited)
[15:42:03] *** Joins: jdm (jdm@4F3ABECF.C2B3DA4.70288106.IP)
[15:42:05] *** ChanServ sets mode: +o jdm
[15:42:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[15:44:02] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[15:44:41] *** Quits: rca_ (rcatolino@moz-7F9205D.adsl.proxad.net) (Ping timeout)
[15:45:31] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[15:45:41] *** Joins: rca (rcatolino@moz-7F9205D.adsl.proxad.net)
[15:46:43] *** Joins: cdidd (cdidd@moz-15E27365.broadband.corbina.ru)
[15:46:49] <eddyb> silven: can you gist your code?
[15:47:36] <eddyb> silven: if you're trying to do impl Vector<T>, that expects an actual T type, not a generic. impl<T> Vector<T> for a generic
[15:47:39] *** Joins: Kruppe (user@moz-EA78B2EB.net.uwaterloo.ca)
[15:47:58] *** Quits: pyon (user@5D202184.695050F8.E6392873.IP) (Ping timeout)
[15:48:10] <silven> yes, it's a generic and it looks like that
[15:48:57] *** Joins: pyon (user@5D202184.695050F8.E6392873.IP)
[15:48:59] <silven> eddyb: http://pastebin.com/fQXNhuvm
[15:49:44] <eddyb> diverse: ah, ~[T] in that case tries to interpret T as a value
[15:49:45] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[15:49:50] <eddyb> err, silven ^^
[15:50:04] <eddyb> silven: use ~[] for an empty vector, instead
[15:50:13] *** Joins: sellout (Adium@moz-968E9A09.hsd1.co.comcast.net)
[15:50:16] <silven> Hmkay
[15:50:26] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[15:51:07] *** Joins: kellogh (timkellogg@moz-68DF7EF7.teliax.com)
[15:51:09] <silven> I'm very confused on how/when rust infers types
[15:51:19] <eddyb> (named vectors? that's a new one for me. if all the names are static use &'static str to avoid the silly allocations)
[15:51:38] <silven> It goes from left to right as well as right to left
[15:51:44] <eddyb> silven: the interesting cases are the return type of a function and the type of a local
[15:51:47] *** Quits: lenstr (lenstr@DDBBF7CC.9636F313.7A27613B.IP) (Ping timeout)
[15:51:56] *** Quits: sellout (Adium@moz-968E9A09.hsd1.co.comcast.net) (Ping timeout)
[15:51:58] <silven> It's not done yet, the names are mainly for debugging/logging
[15:52:13] <eddyb> rusti: let x: int = from_str("42").unwrap(); x
[15:52:13] *** Joins: sellout (Adium@moz-968E9A09.hsd1.co.comcast.net)
[15:52:14] -rusti- 42
[15:52:56] *** Joins: dave1629 (dave@CE60435B.83BCE10.DDE5D3F6.IP)
[15:55:58] *** Quits: avsej (avsej@D9A610B8.4841F515.FB33447D.IP) (Ping timeout)
[15:56:10] <diverse> eddyb: has my nick been imprinted in your mind? :P
[15:56:12] *** Joins: jcmoyer (jc@moz-40035C19.sta.embarqhsd.net)
[15:56:31] <eddyb> diverse: d<TAB> vs s<TAB>
[15:56:54] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[15:57:06] *** Joins: avsej (avsej@D9A610B8.4841F515.FB33447D.IP)
[15:57:35] * diverse is just playing around. Note the ':P' emoji
[15:58:06] *** Joins: thiago (thiago@705535C9.9074706C.BD25C20F.IP)
[15:58:34] <Tari> is there a way to get a mutable ref when pattern-matching?
[15:59:15] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[16:00:09] <Tari> I'm traversing a structure recursively and mutating as I go
[16:00:10] *** Quits: Kruppe (user@moz-EA78B2EB.net.uwaterloo.ca) (Ping timeout)
[16:00:59] <Tari> so I'll match on a node, select my next target, and possibly mutate it
[16:01:01] <eddyb> Tari: ref mut x
[16:01:31] *** Quits: thiago (thiago@705535C9.9074706C.BD25C20F.IP) (Quit: Leaving...)
[16:01:43] <Tari> ah, I thought I had tried that
[16:01:49] <Tari> must have only tried `mut ref x`
[16:02:07] <eddyb> Tari: ref creates a &, mut is interior to & ;)
[16:02:21] <diverse> like &mut
[16:02:33] *** Joins: jakerr (jakerr@5DDA3D24.C60FE7DC.4065847B.IP)
[16:02:54] *** Quits: maxiepoo_ (Max@moz-BF85AD57.nuwlan.northwestern.edu) (Ping timeout)
[16:02:57] <diverse> ref mut x == &mut x
[16:03:11] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[16:03:13] <Tari> yup, got it now
[16:03:29] <Tari> the borrow checker is very unhappy about what I'm trying to do now though
[16:04:55] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[16:04:56] *** Joins: maxiepoo_ (Max@moz-13F4F196.nuwlan.northwestern.edu)
[16:05:13] *** Quits: Kxepal (Miranda@moz-56282A8D.pppoe.mtu-net.ru) (Ping timeout)
[16:06:15] <Tari> I think these errors indicate replacing a borrowed value isn't allowed
[16:06:40] *** Quits: maxiepoo_ (Max@moz-13F4F196.nuwlan.northwestern.edu) (Ping timeout)
[16:06:50] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[16:06:53] <eddyb> Tari: yeah, well, it's silly
[16:07:08] <Tari> util::replace might help
[16:07:14] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Input/output error)
[16:07:34] *** Joins: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca)
[16:07:55] *** Joins: Kxepal (Miranda@moz-59E1BFE6.pppoe.mtu-net.ru)
[16:08:05] <eddyb> rusti: let (mut x, mut y) = (0, 1); let r = &mut x; match r {&0 => r = &mut y, _ => return} *r
[16:08:08] -rusti- pastebinned 8 lines of output: http://ix.io/ad7
[16:08:15] *** Quits: qlkzy (qlkzy@moz-A97B5CE9.members.linode.com) (Quit: ZNC - http://znc.sourceforge.net)
[16:08:20] <eddyb> rusti: let (mut x, mut y) = (0, 1); let mut r = &mut x; match r {&0 => r = &mut y, _ => return} *r
[16:08:21] -rusti- 1
[16:08:36] <eddyb> o_O it works in a simple case like this, but not when you have a list?
[16:08:43] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:09:00] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[16:09:50] *** Joins: lenstr (lenstr@16F2C643.9636F313.7A27613B.IP)
[16:10:43] *** Quits: derek_c (derek@moz-F5741DC7.cit.cornell.edu) (Ping timeout)
[16:10:48] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[16:10:52] <eddyb> ah, I guess I'm not doing enough to r. when I borrow the interior of r, it considers r borrowed and won't let me assign to it
[16:11:29] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[16:11:30] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[16:11:31] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[16:11:34] *** Quits: sellout (Adium@moz-968E9A09.hsd1.co.comcast.net) (Connection reset by peer)
[16:11:42] <Tari> that sounds like what I'm seeing
[16:13:14] *** Joins: rootnode (rootnode@moz-7FAB5E8.ip1.george24.com)
[16:14:05] *** Joins: sellout (Adium@moz-968E9A09.hsd1.co.comcast.net)
[16:14:42] *** Quits: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca) (Ping timeout)
[16:14:55] *** Quits: avsej (avsej@D9A610B8.4841F515.FB33447D.IP) (Client exited)
[16:15:31] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[16:17:00] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[16:18:11] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[16:18:22] *** Joins: misfo (Mibbit@moz-7CE6D962.mpls.qwest.net)
[16:18:24] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[16:18:28] *** Joins: maxiepoo_ (Max@moz-BF85AD57.nuwlan.northwestern.edu)
[16:20:03] <saml> is there ubuntu package for rust
[16:20:31] *** jorendorff_away is now known as jorendorff
[16:20:39] *** Quits: pyon (user@5D202184.695050F8.E6392873.IP) (Ping timeout)
[16:20:40] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[16:20:41] <pzol> Can I somehow override a capture of possibly uninitialized variable?
[16:20:55] <strcat> override?
[16:21:14] *** Quits: lenstr (lenstr@16F2C643.9636F313.7A27613B.IP) (Client exited)
[16:21:16] <strcat> you can use unsafe code but you should probably just initialize it
[16:21:34] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[16:21:44] *** Joins: lenstr (lenstr@16F2C643.9636F313.7A27613B.IP)
[16:22:04] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[16:22:45] <pzol> I do initialize it ...
[16:22:54] *** Quits: maxiepoo_ (Max@moz-BF85AD57.nuwlan.northwestern.edu) (Ping timeout)
[16:23:28] *** Quits: lenstr (lenstr@16F2C643.9636F313.7A27613B.IP) (Ping timeout)
[16:23:44] <pzol> strcat I do initialize it within a proc
[16:23:58] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[16:24:06] <pzol> which is within an unsafe block
[16:24:10] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[16:24:29] <eddyb> strcat: do you think LLVM will optimize LUT[x] + y into LUT_plus_y[x]? (where LUT is a static lookup table mapping every u8 to another u8)
[16:25:12] <Tobba> I really doubt it
[16:25:17] <Tobba> someone should write a pass that does that though
[16:25:31] *** Quits: heftig (heftig@moz-D746319F.unitymedia.biz) (Quit: Quitting)
[16:25:44] <eddyb> Tobba: *sigh* I already have a "manually written" bit reversal table for u8
[16:25:45] *** Quits: fyolnish (fyolnish@moz-413CDBC9.uqwimax.jp) (Client exited)
[16:25:46] *** Quits: Kxepal (Miranda@moz-59E1BFE6.pppoe.mtu-net.ru) (Quit: Kxepal)
[16:26:05] <eddyb> I guess I could macrofy that one to support an addend
[16:26:07] *** Joins: Kxepal (Miranda@moz-59E1BFE6.pppoe.mtu-net.ru)
[16:26:09] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[16:26:49] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[16:26:50] <Tobba> I kinda wanna design an algorithm for an optimizer that tries to prove relations between input and output of functions
[16:26:56] <Tobba> it would be amazing, and very slow
[16:27:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[16:27:38] <Tobba> some properties shouldent be that hard to prove though, like limits, which you could propogate
[16:27:49] *** Quits: nical (nico@moz-4754F405.fbx.proxad.net) (Client exited)
[16:27:50] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[16:29:02] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[16:29:13] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[16:31:00] *** Quits: nszceta (hax@5D3B67E3.71E1659D.DFB5E910.IP) (Input/output error)
[16:31:06] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[16:32:15] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[16:32:15] *** Quits: benjamin_____ (benjamin@moz-4C776721.dip0.t-ipconnect.de) (Connection reset by peer)
[16:32:25] <Tobba> also http://polly.llvm.org/
[16:32:33] *** Joins: benjamin_____ (benjamin@moz-4C776721.dip0.t-ipconnect.de)
[16:34:13] <eddyb> Tobba: how did I forget about that one?
[16:34:15] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[16:34:31] <eddyb> can we officially support it?
[16:34:33] <Tobba> I knew it existed but completely forgot its name
[16:34:46] *** Joins: Kruppe (user@moz-2D116725.net.uwaterloo.ca)
[16:34:47] <Tobba> the performance increments are amazing on some things
[16:35:17] <Tobba> well, form the becnhmarks they did
[16:35:17] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[16:35:18] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[16:35:31] <o11c> (replying to 500 lines above)
[16:35:46] <Tobba> then again its a lot slower in some cases by the looks, so I dunno
[16:35:58] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[16:36:05] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[16:36:45] <o11c> (hm, pyon is not here anyway ... but): Default arguments could be used to have sizeof(&value) just deduce sizeof::<Type>()
[16:37:04] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[16:37:58] <o11c> eddyb: since git is GPL, I'm pretty sure Apple is violating the law by legal problems with forcing you to agree to other terms in order to use it..
[16:38:20] *** Joins: jadbaires (jadrian@moz-B752EED1.dsl.telepac.pt)
[16:38:54] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[16:39:03] *** Joins: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net)
[16:39:10] <Tobba> eddyb: time to compile polly on windows, I expect flames
[16:39:52] *** Quits: new_one (new_one@moz-6F89B0D0.rice.edu) (Client exited)
[16:40:01] <eddyb> Tobba: and broken windows
[16:40:10] <eddyb> (keep an extinguisher close)
[16:40:20] <eddyb> (though that was a bad pun)
[16:40:33] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[16:40:54] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[16:41:17] <Tobba> it seems to require "Isl"
[16:41:17] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Connection reset by peer)
[16:41:23] <Tobba> time for some detecive work on what that even is
[16:41:46] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[16:41:59] <strcat> Description    : Library for manipulating sets and relations of integer points bounded by linear constraints
[16:42:01] <SiegeLord> Hmm... you can't implement a trait multiple times with different type arguments for the same type?
[16:42:04] * strcat shrugs
[16:42:07] <Tobba> oh this is gonna be a fun one
[16:42:12] *** Quits: jakerr (jakerr@5DDA3D24.C60FE7DC.4065847B.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:42:33] *** Joins: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP)
[16:42:38] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[16:43:03] *** Quits: wry (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[16:44:33] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[16:45:02] <eddyb> SiegeLord: nope :(
[16:45:18] <SiegeLord> That makes operator overloading somewhat... problematic
[16:45:24] *** Joins: Ferreus (ferreus@moz-F5970D26.pools.arcor-ip.net)
[16:45:46] *** Joins: gwty (gwtypc@ED137413.D804B340.F44414AF.IP)
[16:46:03] *** Joins: zeenix (zeenix@moz-57CCB3AF.hornet.uea.ac.uk)
[16:46:10] *** Parts: zeenix (zeenix@moz-57CCB3AF.hornet.uea.ac.uk) (Leaving)
[16:46:13] <eddyb> SiegeLord: you can have one impl deferring to another trait
[16:46:23] <eddyb> this works for Index
[16:46:52] <Tobba> I'm just seeing a spam of "fatal error"
[16:46:57] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[16:47:04] <Tobba> holy shit 616 warnings
[16:47:55] <diverse> Tobba: polly doesn't like windows?
[16:48:03] <Tobba> yeah it really does not like this
[16:48:13] <Tobba> if you have spaces in the LLVM install path it dies too
[16:48:14] <eddyb> SiegeLord: impl<T, Idx: IndexForVec<T>> Index<Idx, T> for Vec<T> {fn index(&self, idx: Idx) -> T {idx.index_for_vec(self)}}
[16:48:23] <eddyb> SiegeLord: I know it's hacky, but it works now
[16:48:27] <diverse> Tobba: :(
[16:48:38] <Tobba> and it seems to need some weird version of isl that has an stdint.h
[16:49:18] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[16:50:25] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[16:50:38] <Tobba> that header DOES exist in the debian package though, so science time
[16:51:07] *** Joins: bellows (Mibbit@574E1E03.90AF3151.B6DDF205.IP)
[16:51:57] <eddyb> Tobba: the explanation is simple: you want anything std in windows?
[16:52:10] *** Quits: tq (tq@moz-9FE9CCF4.a251.priv.bahnhof.se) (Quit: tq)
[16:52:19] <Tobba> ... but the header is not in the source package for the debian version, had to grab it out of a .deb
[16:52:49] <diverse> huh?
[16:53:10] <Tobba> fuck if I know, it also fails trying to include the LLVM headers, ugh
[16:53:17] <Tari> ah, cool
[16:53:31] <Tari> I satisfied the borrow checker by moving borrows through a temporary
[16:53:32] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[16:55:18] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[16:55:44] <Tobba> diverse: ah, I think stdint.h and gmp.h are generated by the respective configure scripts
[16:55:47] <Tobba> which suprise I cant run
[16:55:56] <Tobba> I guess I could run them through mingw but that wouldent go well
[16:56:45] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[16:58:05] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[16:58:16] <Tobba> okay yep this isnt gonna happen
[16:58:26] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[16:58:28] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[16:58:29] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[16:58:47] <diverse> Tobba: would you like for me to give you a gist paste of stdint.h from my machine?
[16:58:48] *** Joins: jeaye (jeaye@C5B20E30.2984CE01.29C5BFDA.IP)
[16:58:56] <Tobba> its not that
[16:59:03] <Tobba> isl has its own stdint.h for some reason
[16:59:05] *** Quits: benjamin_____ (benjamin@moz-4C776721.dip0.t-ipconnect.de) (Ping timeout)
[16:59:17] <Tobba> I cant build either library anyways as they dont have any sensible way to build other than mingw, which I tried and it didnt work
[16:59:35] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[16:59:41] <diverse> eww...
[17:00:20] *** Quits: Locke23rus (quassel@moz-1014EFC0.static.linky.ru) (Client exited)
[17:00:58] *** Joins: nszceta (hax@78266070.E468435E.81256AF5.IP)
[17:02:04] *** Joins: wilmoore (wilmoore@A6926457.CB501311.7473D6D5.IP)
[17:02:39] *** Quits: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net) (Quit: zztr)
[17:02:55] *** Quits: nszceta (hax@78266070.E468435E.81256AF5.IP) (Ping timeout)
[17:03:08] <Tobba> it uses some awful GNU bignum lib too
[17:03:20] *** Joins: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net)
[17:05:15] *** Joins: lenstr (lenstr@16F2C643.9636F313.7A27613B.IP)
[17:05:39] <Tobba> bignum that supports everything but irrational numbers shouldent be *that* hard actually
[17:06:05] <strcat> gmp is a *great* big number library, if that's what you mean
[17:06:37] <Tobba> it had a header a few times bigger than my entire kernel
[17:06:44] *** Joins: nszceta (hax@5D3B67E3.71E1659D.DFB5E910.IP)
[17:06:57] *** Quits: pzol (pzol@86821BC.DEB41A6D.AADC76B.IP) (Ping timeout)
[17:07:02] *** Quits: lenstr (lenstr@16F2C643.9636F313.7A27613B.IP) (Ping timeout)
[17:07:08] <strcat> sure, gmp has a lot of features - it's a complete library
[17:07:17] <strcat> it's not messy/bloated though
[17:07:55] <Tobba> my definition of bloat and mess is when your source folder measures in megabytes
[17:08:05] <Tobba> 12MB for GMP
[17:08:08] <strcat> and?
[17:08:13] <strcat> look what it offers
[17:08:24] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Client exited)
[17:08:27] <strcat> they have a really clean implementation...
[17:08:45] *** Quits: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP) (Max SendQ exceeded)
[17:08:49] *** Joins: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP)
[17:09:09] *** Joins: pzol (pzol@86821BC.DEB41A6D.AADC76B.IP)
[17:09:22] <nszceta> GMP ?
[17:09:31] <nszceta> lmao look at chromium sources
[17:09:32] <strcat> yes
[17:09:34] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[17:09:34] <nszceta> what is GMP
[17:09:46] <strcat> big number library
[17:09:46] <nszceta> chromium is measured in gigabytes
[17:09:52] <nszceta> gnu MP gotia
[17:10:08] <strcat> Tobba: for example there are at least 7 division algorithms
[17:10:17] <strcat> since it selects the algorithm based on size
[17:10:18] <Tobba> yeah and chromium source takes days to compile
[17:10:37] <nszceta> chromium makes my macbook pro go nuclear
[17:10:39] <Tobba> and is one of the biggest clusterfucks of a program ever conceived
[17:10:47] <strcat> as the numbers get bigger, it switches to algorithms with better asymptotic performance
[17:10:50] <nszceta> even at 6500 RPM I hit 95 C on lm-sensors
[17:10:53] *** jorendorff is now known as jorendorff_away
[17:10:54] *** Quits: victorporof (victorporo@970BB0A1.F7F04062.79933D60.IP) (Quit: victorporof)
[17:10:59] <strcat> but they're slower on smaller numbers...
[17:11:11] <nszceta> strcat: ok? that is awesome
[17:11:18] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[17:11:20] <Tobba> without sacrificing precision?
[17:11:22] <strcat> gmp is asymptotically faster than any other open source bignum library
[17:11:29] <strcat> Tobba: I'm talking about big integers
[17:11:35] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:11:35] <strcat> that's the main gmp feature
[17:11:39] <nszceta> Tobba: you have to sacrafice when you get huge
[17:11:55] <o11c> Tobba: GMP is, by any measure, the best bignum library out there
[17:12:00] <strcat> mpz_t is a big integer, mpq_t is 2 big integers (denominator and numerator - always exact precision)
[17:12:11] <Ms2ger> Are we back to gmp?
[17:12:11] *** Joins: victorporof (victorporo@970BB0A1.F7F04062.79933D60.IP)
[17:12:14] <o11c> Tobba: it maybe be easy to implement bignums, but it is FAR from easy to implement them fast
[17:12:21] <strcat> it does have mpf_t, which is a binary float of arbitrary (user chooses) precision... but it's not really meant to be used directly
[17:12:26] <Tobba> it sounds like they're overcomplicating
[17:12:27] <o11c> Tobba: most other implementations are 5 to 10 times slower
[17:12:35] <strcat> o11c: more than that
[17:12:42] <strcat> o11c: they're asymptotically slower.
[17:12:44] <Tobba> and if GNU made a project that doesnt have a snakes nest for a source code then they successfully broke the universe
[17:12:45] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Quit: canhtak)
[17:12:54] <strcat> o11c: when you get really big numbers, gmp is 1000x, 10000x, 100000x faster
[17:13:08] <strcat> Tobba: GNU is not some single entity making code
[17:13:15] <o11c> Tobba: okay, we get that you're a GNU basher
[17:13:22] <Tobba> strcat: I know that
[17:13:25] <strcat> there are all kinds of projects under the GNU umbrella developed by completely different people
[17:13:27] <o11c> but GNU projects are taking on new life these days
[17:13:31] *** Quits: franckverrot (Franck_Ver@C3033BF6.B86F1645.C91367C6.IP) (Ping timeout)
[17:13:41] <strcat> it's far less centralized even than boost
[17:13:47] <o11c> cleaning up some ancient code, dropping support for old platforms, taking advantage of new standards
[17:14:14] <o11c> I really need to give gdb some love ...
[17:14:15] *** Joins: franckverrot (Franck_Ver@C3033BF6.B86F1645.C91367C6.IP)
[17:15:24] <Tobba> apparently, you can ask true and false for a version
[17:15:25] <strcat> seriously though gmp is one of the few libraries I've used that have a nice, clean API
[17:15:32] <strcat> Tobba: so, coreutils
[17:15:42] <Tobba> I just found that out by accident, no correlation
[17:16:07] <Tari> having reviewed the docs, I suspect I need to go unsafe here
[17:16:33] <Tobba> if its as good as you say I'm positively suprised though
[17:16:57] <strcat> there is no other big integer library on par with gmp in performance
[17:17:11] * strcat shrugs
[17:17:32] <strcat> maybe there's some internal bignum library at some company, but no open-source or proprietary one that's available to anyone
[17:17:43] <strcat> some better internal bignum library*
[17:17:43] <Tari> http://www.rafb.me/results/zQpoGa19.html
[17:18:05] <Tari> my issue stems from line 38, where I want to replace a borrowed pointer with a borrowed pointer to one of its members
[17:18:17] <Tobba> honestly, just use Rc pointers
[17:18:19] <strcat> Tari: you can certainly do complex trees without unsafe code if that's what you mean
[17:18:21] <Tobba> I tried to do this with owned pointers
[17:18:25] *** Joins: derek_c (derek@moz-CE6E60A5.cit.cornell.edu)
[17:18:26] <Tobba> it was bad
[17:18:33] <o11c> Tari: maybe implement recursively instead?
[17:19:03] <Tari> I considered recursion, but it may obscure the intent more than I'd like
[17:19:17] <Tari> I think I need to unless I go unsafe though
[17:19:28] <strcat> Tari: doubt it
[17:19:46] <strcat> I've had no problems doing a red-black tree and several trie implementations with safe code
[17:19:48] * strcat shrugs
[17:20:06] <strcat> recursion is the high-level way to do trees, takes more work to use iteration
[17:20:11] <Tari> the issue here is I'm traversing and mutating all at once
[17:20:22] <Yurume> when using a port from `future_result` for tasks, is it possible to ignore the closed port from the task about to be terminated?
[17:20:46] *** Joins: onelson (onelson@moz-DD666EC5.laika.com)
[17:20:52] *** Joins: lenstr (lenstr@16F2C643.9636F313.7A27613B.IP)
[17:21:02] <Tari> I can guarantee that `tree` always owns the complete set of children
[17:21:17] <Tari> but because it's mutable (so I can take a &mut of it), the compiler doesn't know that
[17:21:29] *** Quits: Kruppe (user@moz-2D116725.net.uwaterloo.ca) (Ping timeout)
[17:21:31] *** Quits: dave1629 (dave@CE60435B.83BCE10.DDE5D3F6.IP) (Quit: dave1629)
[17:21:47] *** Joins: dave1629 (dave@CE60435B.83BCE10.DDE5D3F6.IP)
[17:22:28] *** Joins: bjz_ (bjz@B398BE78.F804C29E.D35A31DF.IP)
[17:22:42] *** Quits: lenstr (lenstr@16F2C643.9636F313.7A27613B.IP) (Ping timeout)
[17:22:58] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[17:23:12] *** Quits: dave1629 (dave@CE60435B.83BCE10.DDE5D3F6.IP) (Quit: dave1629)
[17:23:24] *** Joins: bigmonachus (Mibbit@B5413B22.26D47910.A208C5.IP)
[17:23:26] <strcat> Tobba: rust's bignum library takes 30min to do the language benchmarks game pidigits that takes under 2s in gmp ;p
[17:23:31] <strcat> and they're not even very big integers
[17:23:38] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[17:23:40] <Tobba> I guess rusts bignum library just sucks
[17:23:48] <Tobba> but yeah
[17:23:53] <Tobba> I get it, its fast
[17:23:59] * strcat shrugs
[17:24:02] <strcat> nice API too
[17:24:06] * strcat doesn't know why you hate it
[17:24:07] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[17:24:18] <Tobba> I've never tried rusts one
[17:24:26] <strcat> rust's is pretty bad ;p
[17:24:31] <strcat> I think we should drop it from the repo
[17:24:32] <Tobba> just the obligatory bashing of the performance
[17:24:50] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Connection reset by peer)
[17:24:55] <strcat> a small part of it is the fault of rust's vectors
[17:25:03] <strcat> but that's just a constant factor
[17:25:05] *** Quits: jdm (jdm@4F3ABECF.C2B3DA4.70288106.IP) (Quit: Lost terminal)
[17:25:38] *** Quits: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca) (Client exited)
[17:26:25] *** Joins: dave1629 (dave@CE60435B.83BCE10.DDE5D3F6.IP)
[17:26:41] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[17:26:59] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[17:28:11] *** Quits: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP) (Ping timeout)
[17:28:27] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[17:28:48] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[17:30:39] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[17:32:11] <SiegeLord> If we ever get proper floating point printing we'll need a bigint implementation
[17:32:11] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Ping timeout)
[17:32:21] <SiegeLord> It might not have to be too fast, or public
[17:32:36] <SiegeLord> Or maybe it could be called SlowBigInt :P
[17:32:42] *** Joins: squiddy (squiddy@moz-6DBCC01.adsl.alicedsl.de)
[17:33:37] <bvssvni> rusti: enum Op { Push(|| -> int) } let x = 2; Push(|| x)
[17:33:38] -rusti- <anon>:10:24: 10:33 error: missing lifetime specifier
[17:33:39] -rusti- <anon>:10         enum Op { Push(|| -> int) } let x = 2; Push(|| x)
[17:33:39] -rusti-                                  ^~~~~~~~~
[17:33:39] -rusti- error: aborting due to previous error
[17:33:39] -rusti- application terminated with error code 101
[17:33:58] <strcat> SiegeLord: why do they need to be bigints?
[17:34:00] <strcat> is 128-bit not enough?
[17:34:01] *** jorendorff_away is now known as jorendorff
[17:34:10] <bvssvni> where do I put the the lifetime specifier? ^
[17:34:36] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[17:34:46] <bvssvni> rusti: enum Op<'a> { Push(&'a || -> int) } let x = 2; Push(|| x)
[17:34:47] -rusti- <anon>:10:32: 10:41 error: missing lifetime specifier
[17:34:47] -rusti- <anon>:10         enum Op<'a> { Push(&'a || -> int) } let x = 2; Push(|| x)
[17:34:47] -rusti-                                          ^~~~~~~~~
[17:34:47] -rusti- error: aborting due to previous error
[17:34:47] -rusti- application terminated with error code 101
[17:34:50] <cmr> bstrie_rules: http://static.rust-lang.org/doc/master/complement-cheatsheet.html#how-do-i-store-a-function-in-a-struct
[17:34:51] <SiegeLord> strcat: The standard algorithm I know of uses bigints... I haven't looked into it too much though
[17:34:53] <pzol> rusti: struct Foo {name: ~str }; let foo = Foo { name: ~"bar" }; let bar = &foo; let foobar = *bar;
[17:34:54] -rusti- <anon>:10:96: 10:100 error: cannot move out of dereference of & pointer
[17:34:54] -rusti- <anon>:10         struct Foo {name: ~str }; let foo = Foo { name: ~"bar" }; let bar = &foo; let foobar = *bar;
[17:34:54] *** concrete.mozilla.org sets mode: +M 
[17:34:54] -rusti-                                                                                                          ^~~~
[17:34:54] -rusti- error: aborting due to previous error
[17:34:55] *** Joins: ljrmorgan (Mibbit@moz-D930738B.skybroadband.com)
[17:34:56] -rusti- application terminated with error code 101
[17:35:33] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[17:36:15] <eddyb> bvssvni: 'a || -> int, but it might be broken
[17:36:27] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[17:36:54] <cmr> erm
[17:36:56] <cmr> bvssvni: http://static.rust-lang.org/doc/master/complement-cheatsheet.html#how-do-i-store-a-function-in-a-struct
[17:37:11] <cmr> bstrie_rules! clever name
[17:37:50] *** pmoore is now known as pmoore|away
[17:38:10] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[17:38:41] *** Quits: bvssvni (Mibbit@moz-CBD76C21.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[17:38:49] *** Joins: bvssvni (Mibbit@moz-CBD76C21.bb.online.no)
[17:38:55] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[17:39:52] *** concrete.mozilla.org sets mode: -M 
[17:40:08] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Connection reset by peer)
[17:40:10] <pzol> why am I getting cannot move out of dereference of & pointer ???
[17:40:31] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[17:40:40] <eddyb> pzol: why do you think you should be able to move out of it?
[17:40:46] * bvssvni test
[17:40:50] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[17:41:01] *** Joins: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[17:41:40] <pzol> eddyb dunno, how can I derference it?
[17:41:46] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[17:41:54] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[17:42:14] <eddyb> pzol: you can dereference it, you just can't move out of it
[17:42:34] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Ping timeout)
[17:42:49] <pzol> eddyb I am not quite following
[17:42:53] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[17:42:54] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[17:42:59] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[17:43:29] *** Quits: icebattle (wayne@8A14A542.EBE2EE2B.C7CEC4ED.IP) (Quit: leaving)
[17:43:36] *** Joins: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net)
[17:43:53] <eddyb> pzol: if you have a &~T, you can access its contents, but you can't move out of it - i.e. y: &~T .... let x = *y; is erroneous code
[17:44:56] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[17:45:17] <pzol> eddyb ok... then I need to pass it as reference... so how do I specify a lifetime for the bucket on this: static mut buckets: Option<HashMap<&Bucket, AtomicUint>> = None;
[17:45:53] <eddyb> pzol: what type is Bucket?
[17:46:09] <pzol> eddyb struct { name: ~str }
[17:46:10] *** Joins: NewFolder (adamle@moz-38947329.dedicated.allstream.net)
[17:46:32] <eddyb> pzol: then you need HashMap<Bucket, AtomicUint>
[17:46:40] *** Joins: icebattle (wayne@8A14A542.EBE2EE2B.C7CEC4ED.IP)
[17:46:52] <eddyb> (the only lifetime you can put in a static is 'static and you string is obviously not static)
[17:47:04] <SiegeLord> Hmm... drat. I can't implement Container on an f32 XD
[17:47:07] <pzol> eddyb yeah, but then I get into the other problem with the move out of dereference
[17:47:12] *** Joins: teosz (teosz@1A02093.7ED1791B.3EA6AAD8.IP)
[17:47:19] <eddyb> pzol: if you use the reference right, you don't need to move out of it
[17:47:20] <teosz> hello
[17:47:30] <eddyb> pzol: what's your code that has the moving out problem?
[17:47:52] <teosz> how i can run shell command in rust ( system("echo 'test'"); )
[17:47:53] <teosz> ?
[17:47:55] <rootnode> is there a safe way to "cast" a trait reference to a struct?
[17:48:03] <SiegeLord> Implementing vector-scalar ops, and due to my trait issues I'm going to treat scalars as vectors... it's not super workable though :/
[17:48:06] <pzol> eddyb https://gist.github.com/pzol/8714419#file-vmod_rpm-rs-L70
[17:48:13] <bvssvni> I figured out my problem: it was 'deriving(Eq)'
[17:48:31] <strcat> teosz: you can call system if you really want to, although I'm not sure why you want to
[17:48:36] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[17:48:43] <strcat> or spawn a shell as a process yourself
[17:48:46] <Tari> rootnode: I think you want std::any
[17:48:50] <eddyb> pzol: so what's the problem?
[17:48:53] <teosz> strcat: i wanna run a cpp source
[17:49:00] <strcat> teosz: hm?
[17:49:02] *** Quits: gwty (gwtypc@ED137413.D804B340.F44414AF.IP) (Ping timeout)
[17:49:04] <pzol> eddyb line 70 -> mismatched types: expected `Bucket` but found `&Bucket` (expected struct Bucket but found &-ptr)
[17:49:08] <rootnode> Tari:  thanks
[17:49:27] <eddyb> pzol: okay, so you need to implement the logic yourself
[17:49:29] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[17:49:30] *** Quits: misfo (Mibbit@moz-7CE6D962.mpls.qwest.net) (Quit: http://www.mibbit.com ajax IRC Client)
[17:49:31] <teosz> strcat: i have .cpp source that edit a file and i wanna cpp an edit file
[17:49:43] <strcat> teosz: you can call C++ through an extern "C" ABI from rust, if that's what you mean
[17:50:01] <strcat> don't need a shell as an intermediary
[17:50:07] *** Joins: mreca (mreca@moz-9B10510C.hsd1.va.comcast.net)
[17:50:08] *** Quits: derek_c (derek@moz-CE6E60A5.cit.cornell.edu) (Ping timeout)
[17:50:12] <pzol> eddyb because insert_or_update_with doesn't take a & right?
[17:50:19] <eddyb> yeah
[17:50:28] *** Quits: marianoguerra (marianogue@moz-5FDEBF86.dip0.t-ipconnect.de) (Ping timeout)
[17:50:31] <pzol> eddyb ok, thanks!
[17:50:36] <eddyb> pzol: something like this: match map.find(bucket) {Some(c) => c.fetch_add(1, atomics::AcqRel), None => map.insert(bucket.clone(), AtomicUint::new(0))}
[17:50:54] <pzol> eddyb thanks :)
[17:51:40] <eddyb> (it still clones, though)
[17:51:55] <teosz> strcat: i not want to use extern C because in the future to implement other languages . i just wanna a instruction system("gcc name.cpp -o name")
[17:52:18] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[17:52:18] <eddyb> pzol: depending on your usecases, you could replace ~str with &'static str or Rc<~str>
[17:52:41] <pzol> eddyb ok! will try
[17:52:46] <strcat> teosz: you don't need a shell to run gcc
[17:53:01] <strcat> you could call system() from libc if you really want though, as I said
[17:53:21] *** Joins: lenstr (lenstr@16F2C643.9636F313.7A27613B.IP)
[17:54:06] *** Joins: jdm (jdm@moz-C07D5168.p2p.sfo1.mozilla.com)
[17:54:06] *** ChanServ sets mode: +o jdm
[17:54:26] *** Joins: gwty (gwtypc@ED137413.D804B340.F44414AF.IP)
[17:54:41] <teosz> how i can call the stdlib ? sorry but i am newbie in rust ?
[17:54:41] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:54:56] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[17:55:06] *** Joins: hoverbea_ (hoverbear@726D908C.44E18222.E74D50F2.IP)
[17:55:17] <strcat> teosz: you probably want to use std::run
[17:55:20] *** Quits: hoverbea_ (hoverbear@726D908C.44E18222.E74D50F2.IP) (Quit: This bear's gotta fly.)
[17:55:25] <strcat> http://static.rust-lang.org/doc/master/std/run/index.html
[17:55:27] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[17:55:36] *** Joins: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca)
[17:56:07] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Ping timeout)
[17:56:15] *** Quits: lenstr (lenstr@16F2C643.9636F313.7A27613B.IP) (Client exited)
[17:56:42] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[17:57:17] <Yurume> is it possible to customize std::rt::task::Death::on_exit field for a newly spawning task?
[17:57:20] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[17:59:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[18:01:09] <ljrmorgan> sorry for bugging the channel again with the same issue I had a few days ago, but I still can't think of a solution...
[18:01:33] *** Joins: azakai_ (alon@moz-BBE3ABD.mv.mozilla.com)
[18:01:35] <ljrmorgan> I wan't to be able to check if a container contains a value, I don't care what type the container is
[18:02:12] <ljrmorgan> set and vector both implement contains, but I can't figure out how to get code that works with either a set or a vector
[18:02:23] <ljrmorgan> (or rather, an ImmutableEqVector)
[18:02:31] <strcat> so you want to write a generic function working on either?
[18:02:41] <ljrmorgan> strcat: yes
[18:02:54] <strcat> well, you need to put what you need in a trait
[18:02:57] <strcat> and implement it for them
[18:03:19] *** Joins: teosz_ (teosz@1A02093.7ED1791B.3EA6AAD8.IP)
[18:03:21] <ljrmorgan> I tried implementing a trait "CanCheckContains", but I can't implement it for both Set<T> and ImmutableEqVec<T>
[18:03:26] <ljrmorgan> (I don't think)
[18:03:36] <teosz_> strcat:  i found it http://static.rust-lang.org/doc/master/std/libc/funcs/c95/stdlib/ffi.system.html how i use ?
[18:03:42] <teosz_> that ?
[18:03:45] <strcat> ljrmorgan: implement it for the types
[18:03:46] <ljrmorgan> because they're both traits, and the compiler doesn't know that there isn't something that implements both Set and ImmutableEqVec
[18:03:54] <strcat> teosz_: no
[18:03:56] <strcat> teosz_: use std::run
[18:04:04] <strcat> teosz_: http://static.rust-lang.org/doc/master/std/run/index.html
[18:04:14] <eddyb> great chrome, now I have another zombie tab that's on top of other windows
[18:04:19] <strcat> std::run::process_status(...)
[18:04:36] *** Quits: teosz (teosz@1A02093.7ED1791B.3EA6AAD8.IP) (Ping timeout)
[18:05:08] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:05:09] *** ChanServ sets mode: +ao brson brson
[18:05:14] <ljrmorgan> strcat: I tried implementing my trait for Set<T> and for &'a [T], but I got errors about conflicting implementations
[18:05:27] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[18:05:31] <strcat> ljrmorgan: Set<T> is a trait, not a type
[18:05:34] <strcat> implement it for types
[18:05:59] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[18:06:11] <strcat> if the stdlib wanted you to use vectors as sets it would implement Set for them :P
[18:06:39] <ljrmorgan> strcat: I'd quite like to implement it for strings too, but that opens up a whole world of pain
[18:07:03] <eddyb> turns out xkill + restarting chrome results in the previous set of open tabs to open themselves. must be my fiddling with about:flags
[18:07:15] <ljrmorgan> strcat: which types would I implement it for then? Do you mean concrete implementations of Set<T> (like HashSet<T>) or a generic S: Set<T>?
[18:07:45] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Input/output error)
[18:07:46] <ljrmorgan> because I tried the generic approach, and that didn't work
[18:07:58] <ljrmorgan> (again, conflicting implementations)
[18:08:20] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[18:08:32] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[18:09:17] <ljrmorgan> in C++ if I have two interfaces X and Y and a template C<T>, I can use partial specialisation to implement C<X> and C<Y>, that's basically what I want to do
[18:09:24] <SiegeLord> Looks like glibc uses gmp for printing floats, I wonder what other C stdlib's use
[18:10:07] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[18:10:22] <strcat> SiegeLord: ah, guess you can't use 128-bit ints then
[18:10:24] <strcat> ;[
[18:10:32] <eddyb> ljrmorgan: we should have T: !Trait in bounds to allow such behavior
[18:10:40] <strcat> SiegeLord: so do they have an embedded copy of gmp... ?
[18:10:41] <eddyb> but that can get confusing soon
[18:11:48] *** Joins: avsej (avsej@D9A610B8.4841F515.FB33447D.IP)
[18:11:51] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[18:12:31] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[18:12:31] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:12:36] *** Quits: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP) (Ping timeout)
[18:13:09] *** Joins: FreeFull (freefull@moz-272EA536.as13285.net)
[18:13:12] <ljrmorgan> eddyb: sorry, I'm not quite sure I understand - are there any examples in the rust code base that I could take a look at?
[18:13:38] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[18:13:41] <eddyb> ljrmorgan: *should* - we don't have the feature yet
[18:13:50] <ljrmorgan> ah, ok
[18:14:18] <ljrmorgan> eddyb: do you know if that's something that's likely to be in 1.0?
[18:14:19] *** Joins: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP)
[18:14:43] <SiegeLord> strcat: It's a bit hard to tell... I can see headers for gmp, but not the implementation
[18:14:47] <eddyb> ljrmorgan: I really don't know
[18:15:21] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[18:15:40] <ljrmorgan> eddyb: ok, thanks for your help! I'll just implement two less generic functions for now
[18:15:46] <strcat> SiegeLord: should just look at what musl does
[18:15:48] <strcat> ;p
[18:16:00] *** Joins: assaf758 (assaf@moz-1C6FC170.cable.012.net.il)
[18:16:42] *** Joins: trecer (trecer@moz-36BEFC79.hsd1.pa.comcast.net)
[18:17:56] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[18:19:54] *** Quits: blank_name (blank_name@E7821509.94CCB18F.53C6B850.IP) (Ping timeout)
[18:21:17] *** Joins: hoverbea_ (hoverbear@726D908C.44E18222.E74D50F2.IP)
[18:21:27] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[18:21:59] <SiegeLord> musl seems to implement... something in place. One'd have to check that they output the right thing before accepting their approach. I mean, if all we care is "good enough" what Rust does today is fine as is :P
[18:22:16] *** Joins: dherman (dherman@moz-21F91504.cfw-a-gci.corp.yahoo.com)
[18:22:17] *** ChanServ sets mode: +ao dherman dherman
[18:22:22] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Ping timeout)
[18:22:31] <SiegeLord> It gets many digits right (I don't think anybody complained yet)
[18:22:51] <eddyb> can I really not access locals from a macro?
[18:23:13] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Ping timeout)
[18:25:07] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[18:25:33] *** Quits: nszceta (hax@5D3B67E3.71E1659D.DFB5E910.IP) (Input/output error)
[18:26:15] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[18:26:32] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[18:26:32] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:27:43] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[18:27:56] *** Joins: amir (amir@moz-49060BB9.cust.bluewin.ch)
[18:28:43] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[18:29:08] *** Quits: sellout (Adium@moz-968E9A09.hsd1.co.comcast.net) (Quit: Leaving.)
[18:29:23] *** Joins: Zylinski (karl@moz-58495553.static.spa.siw.siwnet.net)
[18:29:26] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[18:30:01] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[18:30:02] *** Joins: fyolnish (fyolnish@moz-F5D6D9D3.uqwimax.jp)
[18:30:46] <pnkfelix> 11747
[18:31:32] <pnkfelix> 11757
[18:31:49] *** Quits: fyolnish (fyolnish@moz-F5D6D9D3.uqwimax.jp) (Ping timeout)
[18:32:15] <Ms2ger> 11767
[18:33:08] <eddyb> 11787
[18:33:11] <eddyb> is this going somewhere?
[18:33:28] <SiegeLord> It was until you skipped 11777
[18:33:41] <pnkfelix> sorry everyone
[18:33:46] <brson> lol
[18:34:13] *** Quits: jvrmaia (jvrmaia@488448C0.A3C460C4.EBCD9D32.IP) (Quit: Leaving...)
[18:34:15] *** Joins: sellout (Adium@2917A62E.8B65BA63.1D2A2C57.IP)
[18:34:23] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[18:35:30] <silven> Can I somehow use both libnative and libgreen?
[18:35:46] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[18:35:48] <strcat> yes
[18:36:11] <silven> strcat: Anywhere I can read on how?
[18:36:19] * strcat shrugs
[18:36:25] *** Joins: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net)
[18:38:11] *** jorendorff is now known as jorendorff_away
[18:39:41] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[18:40:27] *** jorendorff_away is now known as jorendorff
[18:40:29] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[18:41:16] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[18:41:29] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[18:42:14] *** jorendorff is now known as jorendorff_away
[18:42:27] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[18:43:25] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Ping timeout)
[18:43:58] *** Joins: claudiuc (claudiuc@moz-D5BFAAB5.hsd1.ca.comcast.net)
[18:44:38] *** Quits: dave1629 (dave@CE60435B.83BCE10.DDE5D3F6.IP) (Quit: dave1629)
[18:45:00] <olsonjeffery> the third post in my series on safari books online: http://blog.safaribooksonline.com/2014/01/30/parameters-bounds-rust/
[18:47:00] *** Quits: bigmonachus (Mibbit@B5413B22.26D47910.A208C5.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:47:11] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[18:47:27] *** Quits: claudiuc (claudiuc@moz-D5BFAAB5.hsd1.ca.comcast.net) (Client exited)
[18:48:05] *** Joins: lenstr (lenstr@16F2C643.9636F313.7A27613B.IP)
[18:48:17] *** Joins: nyuszika7h (nyuszika7h@moz-423AFF1D.net)
[18:48:42] <nyuszika7h> hi, does Rust have a socket library in stdlib already? 
[18:48:54] <eddyb> nyuszika7h: oh, you, hi :)
[18:49:00] <bstrie_rules> olsonjeffery vadimcn eddyb sfackler: curious if any of you would like to have your reddit flair upgraded to "friend of the tree" (not sure if all of you have reddit accounts even)
[18:49:12] <nyuszika7h> hi
[18:49:20] *** Quits: teosz_ (teosz@1A02093.7ED1791B.3EA6AAD8.IP) (Ping timeout)
[18:49:22] <eddyb> bstrie_rules: mine is eddyb, and I wouldn't mind that :)
[18:49:54] <eddyb> nyuszika7h: we have sockets, the main complaint point is that we can't split a socket into a reader and a writer (though that might have been implemented already, I'm not sure)
[18:49:56] *** Quits: lenstr (lenstr@16F2C643.9636F313.7A27613B.IP) (Ping timeout)
[18:49:58] <olsonjeffery> bstrie_rules: sure.. my reddit account matches my nick here
[18:50:54] <nyuszika7h> ah ok
[18:51:14] *** Quits: doener (doener@moz-C68F600D.unity-media.net) (Quit: leaving)
[18:51:16] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[18:51:18] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[18:52:10] *** Quits: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca) (Client exited)
[18:52:42] *** Quits: Kynes (Kynes@moz-3DC6C6E7.mit.edu) (Quit: Leaving)
[18:53:31] *** Joins: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca)
[18:53:57] *** jorendorff_away is now known as jorendorff
[18:54:02] *** Joins: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com)
[18:54:03] *** Joins: dave1629 (dave@CE60435B.83BCE10.DDE5D3F6.IP)
[18:55:30] *** Quits: jdm (jdm@moz-C07D5168.p2p.sfo1.mozilla.com) (Input/output error)
[18:55:58] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:56:22] *** Joins: alan_andrade (Adium@moz-B2C44770.car1.sanfrancisco1.level3.net)
[18:57:20] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[18:57:43] *** Quits: mreca (mreca@moz-9B10510C.hsd1.va.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[18:59:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[18:59:55] *** Joins: heftig (heftig@moz-9A896790.dip0.t-ipconnect.de)
[19:00:43] *** Joins: Lilly (PinkLace@moz-145A6857.bredband.comhem.se)
[19:00:45] *** Joins: jdm (jdm@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:00:45] *** ChanServ sets mode: +o jdm
[19:00:56] *** Quits: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com) (Quit: johnmurray)
[19:00:56] *** Quits: jdm (jdm@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: Lost terminal)
[19:00:59] *** Joins: jdm (jdm@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:00:59] *** ChanServ sets mode: +o jdm
[19:01:13] *** Quits: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[19:01:30] *** Joins: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com)
[19:01:32] <Lilly> Hello everyone!
[19:02:17] *** Quits: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com) (Quit: johnmurray)
[19:02:26] *** Joins: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com)
[19:02:29] <bstrie_rules> Lilly: hello!
[19:02:31] *** Quits: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net) (Input/output error)
[19:02:52] *** Joins: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net)
[19:03:41] *** Quits: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com) (Quit: johnmurray)
[19:03:44] <olsonjeffery> ah, a nice fuchia flair.
[19:03:54] <olsonjeffery> fuchsia*
[19:04:03] <Lilly> I'm curious about something; is default function parameters something that's planned?
[19:04:13] <bstrie_rules> Lilly: not for rust 1.0, sadly
[19:04:14] *** Joins: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com)
[19:04:18] *** Joins: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP)
[19:04:22] <Lilly> ah, that's a shame
[19:04:26] <bstrie_rules> Lilly: perhaps one day in the future
[19:04:33] *** Quits: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com) (Quit: johnmurray)
[19:04:37] *** Quits: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net) (Ping timeout)
[19:04:39] <Lilly> bstrie_rules: thanks for telling me! :)
[19:04:41] *** Joins: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com)
[19:05:04] <bstrie_rules> there's obviously lots of people who want it though, we had to close the RFC for it after it got too many comments :P
[19:05:19] <Lilly> I guess it's not vital for a language to be usable, but it's certainly a nice feature
[19:05:31] <Matthias247> and hopefully inline default parameters for structs too :)
[19:05:33] *** Quits: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com) (Quit: johnmurray)
[19:05:46] *** Joins: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP)
[19:06:15] *** Quits: alan_andrade (Adium@moz-B2C44770.car1.sanfrancisco1.level3.net) (Quit: Leaving.)
[19:06:23] *** Quits: pnkfelix (pnkfelix@moz-B1D2E7D0.pck.nerim.net) (Ping timeout)
[19:06:51] <Lilly> Matthias247: does that mean being able to chose default value of members in the struct definition like in C++11?
[19:06:58] *** Quits: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com) (Quit: brendan)
[19:07:27] *** Quits: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP) (Ping timeout)
[19:07:40] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:07:41] <Lilly> like "pub foo: int = 42;"?
[19:07:54] <Matthias247> Lilly: yes, I would like to see that. And it was C#, Java and others already many years before :)
[19:08:17] <Lilly> Matthias247: Fully agree! That'd be neat!
[19:08:19] *** Joins: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com)
[19:08:19] <Matthias247> like struct bar { foo: int = 42 }
[19:09:11] <bstrie_rules> olsonjeffery: eh, I think "friend of the tree" might be too long. maybe... "supercontributor"
[19:09:30] <Matthias247> For optional parameters I think Dart has currently the best system by supporting optional positional parameters as well as optional named parameters
[19:09:41] *** Quits: bellows (Mibbit@574E1E03.90AF3151.B6DDF205.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:10:16] <Lilly> Matthias247: I gotta look into that! I know Dart has been getting a lot of hate, but I think it looks like a really neat language
[19:10:21] <bstrie_rules> Matthias247: that sounds like madness
[19:10:29] <bstrie_rules> optional positional parameters
[19:10:40] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[19:10:42] <Matthias247> bstrie_rules: optional positional parameters is what c++ does
[19:10:52] <SingingBoyo> Dart is fun.  But then I can't stand javascript, so any alternative looks good to me.
[19:11:04] <bstrie_rules> so if you have function foo(int a=0, int b=0, int c=0), then call it foo(1, 2), how does it know what to do?
[19:11:17] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[19:11:43] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[19:12:02] <bstrie_rules> Matthias247 ^
[19:12:06] <Matthias247> Lilly: I actually like it a lot as a language that very clearly designed and also has a good standard library. I think most of the hate comes from people who think JS is all good
[19:12:09] <Lilly> I would like a keyword to denote "use default value for this parameter", something like maybe 'default'
[19:12:27] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[19:12:31] <Matthias247> bstrie_rules: same as C++. it would be the same as foo(1,2,0)
[19:12:31] <Lilly> foo(default, 1, 2)
[19:12:39] *** Quits: skade (skade@moz-A652C7A9.netcologne.de) (Ping timeout)
[19:12:41] <Lilly> maybe that's hard to read though :/
[19:13:01] <mcpherrin> you can use functional struct update in place of default params
[19:13:07] <mcpherrin> kinda syntactically yucky though
[19:13:15] <Matthias247> bstrie_rules: the defualt would be picked for all parameters which you don't explicitely emplace
[19:13:18] <bstrie_rules> Matthias247: no, I completely disagree that the hate comes from people who like JS. it comes from two source: 1) people who are afraid of google leveraging marketshare to fragment the web with a new VM, and 2) typetheory nerds like pcwalton who hate the deliberately unsound generics :P
[19:13:36] <mcpherrin>  struct boo {x: int, y: int}; let boo_Defaults = boo{x:1,y:2};  boo{x:3, ..boo_Defaults}
[19:13:39] *** Joins: claudiuc (claudiuc@moz-D5BFAAB5.hsd1.ca.comcast.net)
[19:13:45] <mcpherrin> rusti: struct boo {x: int, y: int}; let boo_Defaults = boo{x:1,y:2};  boo{x:3, ..boo_Defaults}
[19:13:47] -rusti- main::boo{x: 3, y: 2}
[19:13:52] <SingingBoyo> Are there any bindings to IRC libraries/IRC client libs for rust, or do I need to roll my own if I want to do IRC stuff?
[19:14:02] <o11c> I think having a 'default' value is essential ... but if not to be builtin, it needs conversion constructors
[19:14:02] <Ms2ger> rusti is on IRC
[19:14:10] <Ms2ger> And I think he's written in rust
[19:14:14] <eddyb> nope
[19:14:18] <Matthias247> bstrie_rules: maybe that too :)
[19:14:22] <Ms2ger> Not?
[19:14:31] <o11c> is rusti based on the same haskell sandbox as geordi etc?
[19:14:32] <mcpherrin> SingingBoyo: I think some people have hacked together some stuff but I don't know anything solid
[19:14:36] <SingingBoyo> Ms2ger: the backend part is, but afaik the part that does the irc isn't.
[19:14:37] <strcat> Ms2ger: https://github.com/thestinger/playpen
[19:14:42] <strcat> o11c: no, https://github.com/thestinger/playpen
[19:14:52] <Ms2ger> I see
[19:15:39] *** Joins: teosz (teosz@1A02093.7ED1791B.3EA6AAD8.IP)
[19:15:50] <Matthias247> the cool thing in Dart is the alternative option for the named parameters, so that you can declare foo({int a = 0, int b = 1, int c = 2}) and call it like foo(a:5,c:1)  which then evaluates to foo(5,1,1)
[19:16:25] *** Joins: skade (skade@moz-C8DDA49A.netcologne.de)
[19:16:41] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[19:16:55] <bstrie_rules> Matthias247: that just sounds like named parameters in every other language that I know of
[19:17:02] *** Quits: claudiuc (claudiuc@moz-D5BFAAB5.hsd1.ca.comcast.net) (Ping timeout)
[19:17:02] <Lilly> I'd love named parameters in Rust 
[19:17:30] <olsonjeffery> we have bigger fish to fry, imo
[19:17:35] <Matthias247> bstrie_rules: probably yes. But there aren't too many
[19:17:49] *** Quits: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP) (Ping timeout)
[19:18:02] <Lilly> olsonjeffery: Yeah, there are probably way bigger issues :)
[19:18:33] <kini> speaking of stuff that rust doesn't have, I heard that rust was at some point planning to have some kind of limited dependent types? Is that all gone now?
[19:18:50] <Lilly> Have people been making suggestions for syntax and such for named/default parameters in Rust?
[19:18:56] <teosz> how i use the StrSlice::split , use std::str::Strplice::split not function ?
[19:19:04] <mcpherrin> kini: there were some experiments long ago but that's all gone, yeah
[19:19:07] <bstrie_rules> kini: dependent types? nope! still to researchy, maybe for rust 3.0 :)
[19:19:13] <kini> heheh
[19:19:20] *** Joins: synackse (jordyd@9E6CE43B.4B53A366.BB6D8913.IP)
[19:19:32] <bstrie_rules> Lilly: there was a huuuuge thread for this in the bug tracker. it got closed because it was just arguing without any consensus
[19:19:42] <kini> well, rust is still a lot more researchy than other serious industrial strength new languages out there, so I'm still happy :)
[19:19:52] <Lilly> bstrie_rules: aah, that's nice there's discussion though :P
[19:20:09] <bstrie_rules> kini: only the region analysis stuff is *kinda* researchy, everything else is ancient :P
[19:20:18] <Lilly> Do I look silly if I ask what dependent types are?
[19:20:22] <kini> ancient doesn't mean not researchy :P
[19:20:25] <Ms2ger> Uh-oh
[19:20:27] <mcpherrin> Lilly: nope, they're a fairly obscure feature
[19:20:30] <bstrie_rules> Lilly: nope
[19:20:37] <kini> Lilly: dependent types are when you can have values inside a type
[19:20:47] <kini> the classic example is, you might want to have a type of "lists of length 3"
[19:21:04] <kini> and only lists of length 3 would be in it, so if you appended an element to such a list, it would change type to "list of length 4", etc.
[19:21:17] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[19:21:27] <Lilly> Something kinda like Array<10> in C++?
[19:21:34] <teosz> how  use the StrSlice::split , use std::str::Strplice::split not function ?
[19:21:41] <kini> no idea, I never was brave enough to learn C++ :P
[19:21:49] <kini> but I wouldn't be surprised if that's the case
[19:21:56] <mcpherrin> Lilly: not exactly.  More like Array<N> where N is some other variable
[19:22:01] <kini> ah, right
[19:22:02] <mcpherrin> Lilly: so it's type depends on another thing
[19:22:10] <bstrie_rules> C++ templates are ridiculously powerful, but probably not completely analogous to dependent types
[19:22:11] <kini> yes, one of the main points of dependent types is how it interacts with polymorphism
[19:22:19] *** Joins: luzie (lucy@moz-CD18B14B.customer.cdi.no)
[19:22:24] *** Quits: luz (lucy@moz-CD18B14B.customer.cdi.no) (Quit: 04←)
[19:22:26] <Lilly> Oh, ok, so you wouldn't be able to have pre-compiled types then.
[19:22:48] <kini> sure you would, it's just polymorphic (like the standard polymorphic types you get)
[19:23:01] <Lilly> I actaully would like being able to pass constants in  type parameters
[19:23:12] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[19:23:13] <mcpherrin> Idris is an example of this that's modern
[19:23:17] <mcpherrin> http://www.idris-lang.org/
[19:23:21] <mcpherrin> and has some decent explanations
[19:23:31] <Matthias247> the first thing I would really need in rust is a working Rc<MyInterface> = Rc<MyObject>. Without that I think I can stop with Rust quite fast :(
[19:23:35] <kini> you can have list concatenation function of type Vector<N> -> Vector<M> -> Vector<N+M> :D
[19:23:46] <zxcdw> Matthias247: What for?
[19:23:48] <kini> mcpherrin: yeah! idris looks cool
[19:24:01] *** Quits: pauls (pauls@moz-7140CF01.ccs.neu.edu) (Ping timeout)
[19:24:33] <Matthias247> zxcdw: to store Derived Elements in a List of Base Elements. and to call polymorphic methods on them
[19:24:34] <Lilly> I'm so used to C-style syntax, anything else confuses me greatly :D
[19:25:02] <Matthias247> Lilly: same for me. But most here seem to come from the functional world
[19:25:04] <kini> rust's ability to look like C but be really different from C under the hood is really cool to me as a newbie
[19:25:22] *** Joins: Hildar (Mibbit@moz-7F4621B6.cable.virginm.net)
[19:25:34] <Lilly> Same kini
[19:25:53] <Matthias247> zxcdw: e.g. build a Widget tree. And try to make callbacks on widgets
[19:26:04] <Lilly> Matthias247: I have read and understood Haskell, but I'm too comfortable with OOP :P
[19:26:18] <kini> and the interaction of ML-like types with imperative control flow is interesting too, like I was just reading in the tutorial, let's see...
[19:26:32] <Hildar> Hi guys. I can see that the select! macro exists in the libstd source, but I can't work out how to get it in scope. Anyone help?
[19:26:49] <o11c> I can imagine that dependent types in SSA form would be pretty easy
[19:26:52] <kini> "If the arms are blocks that have a value, this value must be of the same type for every arm in which control reaches the end of the block"
[19:26:52] <kini> "in which control reaches the end of the block" !!
[19:27:09] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[19:27:09] <o11c> just get rid of the duality between types and values
[19:27:17] <kini> SSA form?
[19:27:20] <o11c> every value is a type, and every type is a value
[19:27:21] *** Joins: claudiuc (claudiuc@CB447DD5.6B10AC3.E2F59BBC.IP)
[19:27:27] <kini> ah, static single assignment
[19:27:35] <mcpherrin> I was going to say single static assignment
[19:27:38] <kini> not every value is a type in dependent type theory
[19:27:39] <o11c> kini: in other words: you can have list<N> for some value N in scope, but you can't mutate it
[19:27:44] <kini> but every type is a value, yes
[19:28:18] *** Joins: panitaliemom (Mibbit@1710C26.8381A41.8725677B.IP)
[19:28:26] <kini> well I guess you could consider universe 0 values to all be uninhabited types...?  I'm not sure of the ramifications of that.  Is that how it's usually stated?
[19:28:29] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[19:28:55] <mcpherrin> all uninhabited types are equivalent!
[19:29:04] <panitaliemom> newbie question - how do i use the "rustuv" module? 
[19:29:14] <panitaliemom> what do i need to import?
[19:29:33] <mcpherrin> if you're using the rustuv module I'd be a little concerned; you typically don't use it directly
[19:29:54] *** Quits: trecer (trecer@moz-36BEFC79.hsd1.pa.comcast.net) (Quit: Computer has gone to sleep.)
[19:29:57] <mcpherrin> it's meant as a support library for libgreen
[19:30:05] <panitaliemom> i am trying to import an existing project which uses it
[19:30:11] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[19:30:13] <panitaliemom> to port i meant
[19:30:17] <mcpherrin> "extern mod rustuv;" is the direct answer
[19:30:20] <panitaliemom> to rust 0.9
[19:30:35] <panitaliemom> ok
[19:30:43] <panitaliemom> thanks
[19:32:01] <Matthias247> I'm probably too much EE and too less CS to understand the type theory things :)
[19:32:36] <o11c> I wonder how much code would break if types and value started sharing the same namespace?
[19:32:40] <Ms2ger> If you're interested in the type theory things, I'd recommend Pierce's TaPL
[19:32:50] <mcpherrin> Ms2ger: I was about to say the same :)
[19:33:02] <mcpherrin> I think this channel is a TaPL fan zone
[19:33:20] <Matthias247> Ms2ger: not really. I prefer pratical things :)
[19:33:20] *** Quits: skade (skade@moz-C8DDA49A.netcologne.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:33:33] <mcpherrin> types are practical :-)
[19:33:37] <Matthias247> Try a programming language, see if it helps at my propblems
[19:33:49] <mcpherrin> we use types to make better programming languages
[19:33:50] <Ms2ger> mcpherrin, I think the PL research community is a TaPL fan zone, pretty much :)
[19:34:17] *** Quits: claudiuc (claudiuc@CB447DD5.6B10AC3.E2F59BBC.IP) (Client exited)
[19:34:26] <mcpherrin> Ms2ger: haha, okay :)
[19:34:39] <bstrie_rules> dbaupp: ping
[19:34:55] <Ms2ger> (From my limited forays into it)
[19:34:59] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[19:35:16] <Lilly> To me there is a point where some types simply become too confusing for me to use :/
[19:35:29] <teosz> how  use the StrSlice::split ?
[19:35:48] *** Quits: wilmoore (wilmoore@A6926457.CB501311.7473D6D5.IP) (Ping timeout)
[19:36:00] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[19:36:03] *** Joins: claudiuc (claudiuc@CB447DD5.6B10AC3.E2F59BBC.IP)
[19:36:22] <mcpherrin> rusti: for i in "abcbbd".split('b') { println!("{:?}", i };
[19:36:24] -rusti- pastebinned 7 lines of output: http://ix.io/adj
[19:36:26] <Ms2ger> Speaking of confusing types... Please nobody mention isorecursive types ever again
[19:36:30] <Matthias247> I understand what is different in C++,C#,Java, Rust and much others, how to use each of them and what I like about each of them. But I don't know what are the theoretics behind their types
[19:36:35] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[19:36:40] <Matthias247> But even think most programmers don't
[19:36:41] <mcpherrin> rusti: for i in "abcbbd".split('b') { println!("{:?}", i );};
[19:36:44] -rusti- pastebinned 7 lines of output: http://ix.io/a6T
[19:37:03] <mcpherrin> haha whoops broke rustc :)
[19:37:03] <Ms2ger> Heh, ICE
[19:37:08] <Hildar> Sorry to be a pest... Anyone know how I can use the select! macro from libstd in my code? Or do I need to just copy-paste it into a module of my own?
[19:37:11] <kini> I met the author of TaPL last week, he was way taller than I expected lol
[19:37:50] <Matthias247> Hildar: I'm not sure, but afaik you need the copy&paste
[19:38:03] <mcpherrin> Hildar: There are still issues with exporting macros, so I'm not sure what the status of it is
[19:38:11] <Lilly> Isn't there macro imports now?
[19:38:12] <mcpherrin> certainly depends on what version of rustc you're using too
[19:38:14] <Lilly> Aren't*
[19:38:35] <teosz> error: aborting due to previous error
[19:38:35] <teosz> task <unnamed> failed at 'explicit failure', /home/teodor/Downloads/rust-0.8/src/libsyntax/diagnostic.rs:98
[19:38:38] <teosz> rusti> for i in "abcbbd".split('b') { println!("{:?}", i) };
[19:38:43] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[19:38:49] <Lilly> I've been wondering how macros like println! have been exported previously...
[19:38:52] <Hildar> I'm using the master branch as of ~30mins ago.
[19:39:17] *** Quits: claudiuc (claudiuc@CB447DD5.6B10AC3.E2F59BBC.IP) (Connection reset by peer)
[19:39:25] <Matthias247> rusti: let mut abc = ~""; abc += ~"def";
[19:39:25] -rusti- <anon>:10:28: 10:41 error: binary assignment operation `+=` cannot be applied to type `~str`
[19:39:25] -rusti- <anon>:10         let mut abc = ~""; abc += ~"def";
[19:39:25] -rusti-                                      ^~~~~~~~~~~~~
[19:39:25] -rusti- error: aborting due to previous error
[19:39:25] -rusti- application terminated with error code 101
[19:39:36] *** Joins: claudiuc (claudiuc@moz-33191099.thefacebook.com)
[19:39:44] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[19:39:53] <Matthias247> oh, it no longer causes an ICE
[19:40:15] *** Quits: squiddy (squiddy@moz-6DBCC01.adsl.alicedsl.de) (Input/output error)
[19:40:15] <mcpherrin> rustilite: fn main() { for i in "abcbbd".split('b') { println!("{:?}", i) }; }
[19:40:17] -rustilite- "a"
[19:40:17] -rustilite- "c"
[19:40:17] -rustilite- ""
[19:40:17] -rustilite- "d"
[19:40:45] <Lilly> What's an ICE?
[19:40:49] <mcpherrin> internal compiler error
[19:40:52] <mcpherrin> aka a bug in rustc
[19:40:58] <Lilly> Oh, thanks
[19:41:57] *** Joins: pauls (pauls@moz-BFEF1F22.ccs.neu.edu)
[19:42:01] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[19:42:03] *** Joins: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP)
[19:42:15] *** Joins: lenstr (lenstr@16F2C643.9636F313.7A27613B.IP)
[19:44:02] *** Quits: lenstr (lenstr@16F2C643.9636F313.7A27613B.IP) (Ping timeout)
[19:44:06] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Ping timeout)
[19:44:32] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[19:44:51] *** Quits: claudiuc (claudiuc@moz-33191099.thefacebook.com) (Ping timeout)
[19:45:29] *** Joins: claudiuc (claudiuc@moz-33191099.thefacebook.com)
[19:45:35] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Client exited)
[19:45:55] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[19:46:45] *** Quits: pilf (pilf@8FA95888.1A994CBC.4B228AD7.IP) (Quit: pilf)
[19:46:46] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[19:46:47] <Hildar> Gah, dumb question. If I have a ~[T] and a function wants a &[T], how do I cast it?
[19:46:51] <bstrie_rules> can anyone think of a better name than "supercontributor" for people who are either 1) friends of the tree or 2) just awesome in general
[19:46:54] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[19:47:27] <o11c> Hildar: it's implicit
[19:47:28] <bstrie_rules> Hildar: there are no dumb questions here, only me. try either just borrowing it with &, or maybe .as_slice() if vectors are still weird
[19:47:30] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[19:47:46] <Tobba> I never managed to cast ~T to &T
[19:47:54] <bstrie_rules> Hildar: oh right, for just passing it, a function that takes & will auto-reference a ~
[19:48:01] <Tobba> its possibly doable implictly but an explict cast dosnt work
[19:48:09] <strcat> I don't think it should auto-coerce though
[19:49:18] <FliPPeh> rusti: 32_u16 == 32u16
[19:49:19] -rusti- true
[19:49:36] <strcat> rusti: 0_0
[19:49:37] -rusti- 0
[19:50:00] <bstrie_rules> haha
[19:50:30] <strcat> c++14 uses ' as the digit separator ;p
[19:50:38] <mcpherrin> strcat: ew, really?
[19:50:40] <FliPPeh> Finally!
[19:50:41] <mcpherrin> ew.
[19:50:44] <mcpherrin> _ is better :)
[19:50:49] <mcpherrin> or a space
[19:50:58] <strcat> mcpherrin: _ is taken for user-defined literals
[19:51:07] <FliPPeh> I guess that would just *destroy* the parser
[19:51:20] <mcpherrin> int a = 65 536; would be awesome
[19:51:24] <mcpherrin> you could make that work.
[19:51:24] <bstrie_rules> FliPPeh: well we use ' for lifetime identifiers :P
[19:52:02] * mcpherrin would like uN for any N in rust too
[19:52:06] <bstrie_rules> mcpherrin: I guess it's technically unambiguous, I think...
[19:52:07] <Matthias247> bstrie_rules: now cou can give it still another meaning depending on the context :)
[19:52:11] *** Quits: claudiuc (claudiuc@moz-33191099.thefacebook.com) (Connection reset by peer)
[19:52:15] <Hildar> Looks like it does the cast it implicitly. Now for actually fixing my function... hrmm.
[19:52:16] <mcpherrin> bstrie_rules: I did it in my Java compiler ;)
[19:52:28] <bstrie_rules> mcpherrin: but, eh, I'm happy with _ :P
[19:53:05] <FliPPeh> bstrie_rules: I mean, since ' is used only for character literals in C++, using it for numeric separation is probably much less problematic than a space or an underscore which can introduce some very bad ambiguties
[19:53:31] <FliPPeh> At least it has separators now, just in time for binary literals!
[19:53:32] <bstrie_rules> rusti: _1u8
[19:53:32] -rusti- <anon>:10:9: 10:13 error: unresolved name `_1u8`.
[19:53:32] -rusti- <anon>:10         _1u8
[19:53:32] -rusti-                   ^~~~
[19:53:32] -rusti- error: aborting due to previous error
[19:53:32] -rusti- application terminated with error code 101
[19:53:54] <bstrie_rules> FliPPeh: we also use ' for character literals though
[19:53:54] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[19:54:11] <Eridius> bstrie_rules: we use it for more. he said "only"
[19:54:20] <bstrie_rules> not trying to defend C++ here, mind you :P
[19:54:37] <FliPPeh> Also, C++ carries billions of years of historical baggage
[19:54:41] <strcat> 11'2'333_foo
[19:54:41] <Hildar> Erm... I'm sure this worked before I updated rustc: http://pastebin.com/85kiydj7
[19:54:48] <strcat> is valid C++
[19:54:50] <strcat> ;p
[19:54:52] <Eridius> ' is a weird separator for numeric literals
[19:54:59] <strcat> Eridius: _ is used for the suffix though
[19:55:00] <FliPPeh> So is _
[19:55:03] <Eridius> Hildar: what's the error?
[19:55:04] <strcat> I think it was ambiguous somehow
[19:55:07] <bstrie_rules> we could just as easily allow commas, if we wanted to
[19:55:16] <bstrie_rules> 123,456
[19:55:17] <strcat> bstrie_rules: not really
[19:55:19] <Hildar> Now it fails with "&mut ~[T] does not implement any method in scope named 'next'"
[19:55:20] <bstrie_rules> but the germans might get pissed :P
[19:55:21] <Eridius> bstrie_rules: let's use #. 123#456#789
[19:55:21] <FliPPeh> And for europeans, ',' is a weird separator, as it '.' for americans
[19:55:22] <strcat> foo(2,2)
[19:55:23] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[19:55:26] <FliPPeh> ' is an okay compromise
[19:55:32] <Eridius> Hildar: oh you need connections.iter()
[19:55:32] <strcat> bstrie_rules: (1,2)
[19:55:35] <FliPPeh> 1'000'000 isn't that bad
[19:55:42] <Eridius> 123`456
[19:55:44] <strcat> bstrie_rules: tuple or parens around an int ? ;p
[19:55:50] <Hildar> Eridius : Face, meet palm. Palm, face.
[19:55:53] <FliPPeh> Easy on the eyes and not quickly confused with decimals
[19:56:02] <bstrie_rules> strcat: well, ok, but the FIRST one is just a type error :)
[19:56:20] *** Joins: claudiu (claudiu@moz-70F9251D.thefacebook.com)
[19:56:42] <bstrie_rules> I am intrigued by the idea of allowing spaces, though
[19:56:54] <Matthias247> bstrie_rules: actually I don't care, because in programming . always was the decimal seperator
[19:57:11] <bstrie_rules> Matthias247: are you german?
[19:57:14] <Matthias247> yes
[19:57:20] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[19:57:22] <bstrie_rules> Matthias247: you should meet up with kimundi :)
[19:57:25] <Hildar> Thanks for the help all.
[19:57:27] <Eridius> bstrie_rules: spaces seems problematic, since those typically separate tokens and a numeric literal is typically considered a single token
[19:57:29] <FliPPeh> Which I find annoying, because even though in my country we use ',' for separation, I now always impulsively use '.'
[19:57:38] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[19:58:04] <o11c> rusti: let x : ~[int] = ~[1, 2, 3]; let y : &[int] = x; y == x
[19:58:05] -rusti- true
[19:58:16] <o11c> oddly, without the y == x at the end, that ICE's
[19:58:23] <bstrie_rules> FliPPeh: the solution is to just never use floating point numbers
[19:58:31] <strcat> floating point is horrific anyway
[19:58:37] <FliPPeh> bstrie_rules: Good, floating point is evil
[19:58:44] <o11c> except for OpenGL
[19:58:49] <FliPPeh> Satan himself invented IEEE-754
[19:58:53] <strcat> it's soooooo weird having a number type that's denser in some ranges than others
[19:58:59] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[19:59:12] <o11c> I *do* wish there was a floating-point integer, however
[19:59:16] <strcat> wat?
[19:59:21] <o11c> that's one of the things that GMP does NOT try to do
[19:59:24] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[19:59:24] *** ChanServ sets mode: +ao brson brson
[19:59:32] <Eridius> what is a "floating point integer"?
[19:59:39] <strcat> o11c: what do you mean?
[19:59:49] <FliPPeh> An integer that's floating!
[19:59:55] <o11c> an integer with an optimized representation when it has a lot of trailing zeros
[20:00:08] <strcat> o11c: and then you add one? ;p
[20:00:36] <FliPPeh> rusti: 1e8_u32
[20:00:36] -rusti- <anon>:10:13: 10:16 error: expected one of `;`, `}` but found `u32`
[20:00:36] -rusti- <anon>:10         1e8_u32
[20:00:36] -rusti-                       ^~~
[20:00:36] -rusti- application terminated with error code 101
[20:00:38] <FliPPeh> :c
[20:00:55] <Eridius> rusti: 1e8_1
[20:00:56] -rusti- 999999999999999686426868868000042200008468264024420280668688280420208406626688068f64
[20:00:58] <Eridius> hah
[20:01:05] <Ms2ger> Wat
[20:01:10] <FliPPeh> That'd be a numeric literal with more type metadata than integer literal
[20:01:13] <Matthias247> ?!?
[20:01:35] <Eridius> rusti: 1e8_1u32
[20:01:35] -rusti- <anon>:10:14: 10:17 error: expected one of `;`, `}` but found `u32`
[20:01:35] -rusti- <anon>:10         1e8_1u32
[20:01:35] -rusti-                        ^~~
[20:01:35] -rusti- application terminated with error code 101
[20:01:39] <FliPPeh> rusti: 1_2_3
[20:01:40] -rusti- 123
[20:01:46] <bstrie_rules> 1e8_1 is just 1e81
[20:01:46] <Eridius> rusti: 1e81
[20:01:47] -rusti- 999999999999999686426868868000042200008468264024420280668688280420208406626688068f64
[20:01:49] <Eridius> rusti: 1e81u32
[20:01:49] -rusti- <anon>:10:13: 10:16 error: expected one of `;`, `}` but found `u32`
[20:01:50] -rusti- <anon>:10         1e81u32
[20:01:50] -rusti-                       ^~~
[20:01:50] -rusti- application terminated with error code 101
[20:01:56] <Eridius> ok so you can't put a suffix on the #e# numbers at all
[20:01:59] <Eridius> that's curious
[20:02:24] <bstrie_rules> Eridius: well I think they're always floats...
[20:02:27] <FliPPeh> rusti: 1e16 as u32
[20:02:28] -rusti- 4294967295u32
[20:02:36] <bstrie_rules> rusti: 1e81f64
[20:02:37] -rusti- 999999999999999686426868868000042200008468264024420280668688280420208406626688068f64
[20:02:45] <FliPPeh> rusti: 1e38 as u32
[20:02:46] -rusti- 4294967295u32
[20:02:51] <Eridius> ah, it does allow a suffix, it just doesn't give a good error if you use a bad suffix. interesting
[20:03:15] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[20:03:16] <FliPPeh> Bad error messages are good error messages
[20:03:33] <FliPPeh> Because when you're done figuring out what's wrong, you'll never mess it up again
[20:03:34] *** Quits: hoverbea_ (hoverbear@726D908C.44E18222.E74D50F2.IP) (Quit: Taking a nap.)
[20:03:54] <Matthias247> is 1e1 == 2,71 or 10 ?
[20:04:12] <FliPPeh> rusti: 1e1
[20:04:13] -rusti- 10f64
[20:04:16] <Matthias247> rusti: 1e1f64
[20:04:18] -rusti- 10f64
[20:04:19] <FliPPeh> toplel
[20:04:19] <zztr> are there any os examples or tutorials about doing ui programming in rust?
[20:04:31] <mcpherrin> zztr: I'm not aware of any :(
[20:04:41] <bstrie_rules> zztr: no real gui bindings that I know of
[20:04:44] <mcpherrin> 1e16u32 would be nice to work
[20:04:52] <Ms2ger> Also unreadable
[20:04:52] <Eridius> mcpherrin: file an issue!
[20:04:58] <Eridius> rusti: 1e1_f64
[20:04:58] <Matthias247> hmm, how does he then come to such numbers for e81? overflows?
[20:04:59] -rusti- 10f64
[20:05:05] <Eridius> Matthias247: floating point precision
[20:05:06] <bstrie_rules> mcpherrin: what about 0x1e16u32
[20:05:06] <FliPPeh> I'm not a fan of that floating point suffix tho, for small numbers like 10, there is more information about the type inside the number than there is information about the number
[20:05:12] <bstrie_rules> mcpherrin: what now, smarty pants??
[20:05:17] <Eridius> Matthias247: I forget the name for the concept, but the distance between floats at that size is > 1
[20:05:26] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[20:05:32] <mcpherrin> bstrie_rules: hmm what about 0x1e0x16u32
[20:05:39] <Eridius> rusti: let x = 1e81; let y = x.next_after(); y - x
[20:05:42] -rusti- pastebinned 14 lines of output: http://ix.io/ado
[20:05:50] <bstrie_rules> mcpherrin: what about 0x1e0x16u0xF
[20:05:51] <zztr> mcpherrin, bstrie_rules :( well darn. is there a list somewhere of projects using rust?
[20:05:51] <Eridius> rusti: let x = 1e81f64; let y = x.next_after(); y - x
[20:05:51] -rusti- <anon>:10:34: 10:49 error: this function takes 1 parameter but 0 parameters were supplied
[20:05:52] -rusti- <anon>:10         let x = 1e81f64; let y = x.next_after(); y - x
[20:05:52] -rusti-                                            ^~~~~~~~~~~~~~~
[20:05:52] -rusti- error: aborting due to previous error
[20:05:52] -rusti- application terminated with error code 101
[20:05:59] <Eridius> oops it's not a method
[20:06:02] <Matthias247> zztr: I don't think it would work too well at the moment, because you can't express widget structures and callbacks/events in a good manner :(
[20:06:18] <mcpherrin> zztr: searching github is a pretty good start
[20:06:28] <mcpherrin> the github rust wiki links to a bunch of things
[20:06:37] <Eridius> rusti: let x = 1e81f64; let y = std::f64::next_after(x, std::f64::INFINITY); y - x
[20:06:38] -rusti- 210624583337114442204646464202662822686422062006024204824882284082f64
[20:06:51] <Eridius> ok that's not right. Did I swap the inputs to next_after? That needs docs
[20:07:33] <FliPPeh> rusti: std::f64::next_after(std::f64::INFINITY, std::f64::INFINITY)
[20:07:34] -rusti- inff64
[20:07:38] <Eridius> no, those inputs seem correct
[20:07:44] <FliPPeh> rusti: std::f64::next_after(std::f64::INFINITY, std::f64::INFINITY + 1)
[20:07:44] -rusti- <anon>:10:71: 10:72 error: mismatched types: expected `f64` but found `<generic integer #0>` (expected f64 but found integral variable)
[20:07:44] -rusti- <anon>:10         std::f64::next_after(std::f64::INFINITY, std::f64::INFINITY + 1)
[20:07:44] -rusti-                                                                                 ^
[20:07:45] -rusti- error: aborting due to previous error
[20:07:45] -rusti- application terminated with error code 101
[20:07:47] <FliPPeh> gah
[20:07:50] <bstrie_rules> rusti: 1/0
[20:07:51] -rusti- task '<main>' failed at 'attempted to divide by zero', <anon>:10
[20:07:51] -rusti- application terminated with error code 101
[20:07:56] <bstrie_rules> rusti: 0^0
[20:07:57] -rusti- 0
[20:07:58] <Eridius> rusti: std::f64::next_after(1, 2)
[20:07:58] *** jorendorff is now known as jorendorff_away
[20:08:01] -rusti- pastebinned 8 lines of output: http://ix.io/adp
[20:08:04] <Eridius> rusti: std::f64::next_after(1f64, 2)
[20:08:05] -rusti- <anon>:10:36: 10:37 error: mismatched types: expected `f64` but found `<generic integer #0>` (expected f64 but found integral variable)
[20:08:05] -rusti- <anon>:10         std::f64::next_after(1f64, 2)
[20:08:05] -rusti-                                              ^
[20:08:05] -rusti- error: aborting due to previous error
[20:08:05] -rusti- application terminated with error code 101
[20:08:08] <Eridius> rusti: std::f64::next_after(1f64, 2f64)
[20:08:09] -rusti- 1f64
[20:08:12] <FliPPeh> <generic integer #0> is just brilliant by the way
[20:08:19] <Eridius> hah I guess it's smaller than the stringifier cares about
[20:08:22] <bstrie_rules> FliPPeh: not sure if sarcasm
[20:08:25] <FliPPeh> Better than what we had before but still confusing
[20:08:27] <Eridius> rusti: std::f64::next_after(1f64, 2f64) - 1f64
[20:08:28] -rusti- 0f64
[20:08:30] <Eridius> sigh
[20:08:41] <Matthias247> zztr: but maybe that's only my impression because I didn't understand how to do such things properly in rust
[20:08:45] <FliPPeh> bstrie_rules: 90% of what I write is sarcasm basically
[20:08:53] <bstrie_rules> FliPPeh: not sure if sarcasm
[20:08:54] *** Quits: synackse (jordyd@9E6CE43B.4B53A366.BB6D8913.IP) (Ping timeout)
[20:09:02] <FliPPeh> :)
[20:09:07] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[20:09:09] <Eridius> rusti: let x = 1e40f64; let y = std::f64::next_after(x, std::f64::INFINITY); y - x
[20:09:10] -rusti- 1208925819614629446642046f64
[20:09:11] <bstrie_rules> sarcasmoticon
[20:09:14] <Eridius> rusti: let x = 1e40f64; let y = std::f64::next_after(x, std::f64::INFINITY); (x, y - x)
[20:09:15] -rusti- (10000000000000004246842402844246602820242f64, 1208925819614629446642046f64)
[20:09:17] <Eridius> hmm
[20:09:23] <Eridius> I guess that does make sense
[20:09:25] <Eridius> that's just huuuuge
[20:09:48] <Hildar> Macro errors... lovely.
[20:09:54] <Hildar> It's like C++ all over again.
[20:09:59] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[20:10:04] <FliPPeh> rusti: fail!(42)
[20:10:06] -rusti- pastebinned 8 lines of output: http://ix.io/aaw
[20:10:15] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[20:10:37] <FliPPeh> Wellll, C++ macro errors aren't that bad
[20:10:43] <zztr> Matthias247: thanks. callbacks are pretty basic. maybe i'll come back to rust later...
[20:10:58] <FliPPeh> I'll take a macro error over a template error any day
[20:11:00] <Hildar> I was referring to C++ template errors.
[20:11:07] <Hildar> Not macro errors, sorry.
[20:11:12] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[20:11:20] <mcpherrin> Hildar: errors are hard :P
[20:11:43] <Hildar> Errors can wither make perfect sense to the compiler, or to us meatbags :P
[20:11:45] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[20:11:56] <FliPPeh> Nothing like 2300 lines of error output because whatever you just stuffed into your template doesn't do what the template wanted it to do
[20:12:29] <Ms2ger> Sounds like FliPPeh has written C++
[20:12:36] <mcpherrin> Have you folks seen the C++ error contest?
[20:12:38] *** Quits: teosz (teosz@1A02093.7ED1791B.3EA6AAD8.IP) (Ping timeout)
[20:12:44] <mcpherrin> http://tgceec.tumblr.com/
[20:12:47] <o11c> FliPPeh: I honestly don't find C++ template errors hard
[20:12:52] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[20:12:56] <FliPPeh> They aren't hard, just annoying
[20:13:01] <Eridius> o11c: you haven't been using them enough then
[20:13:02] <o11c> you get to learn which parts are relevant, and which are only context
[20:13:04] *** jorendorff_away is now known as jorendorff
[20:13:16] <Eridius> o11c: go try to write some meta-template-programming stuff and then have to debug your own code
[20:13:22] <o11c> I have
[20:13:34] <o11c> I don't consider it to be errors unless it's at least 1000 lines
[20:14:31] *** Joins: synackse (jordyd@moz-91E345E5.seg92.ucf.edu)
[20:14:46] *** Joins: teosz (teosz@1A02093.7ED1791B.3EA6AAD8.IP)
[20:15:04] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[20:15:16] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[20:15:18] *** Joins: blank_name (blank_name@6857152D.7C86004B.6D228269.IP)
[20:15:33] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[20:15:41] <Matthias247> the thing I hate about template error messages is that it prints hundrets of lines and in most cases only the last one (that actually refers to YOUR code) is itneresting
[20:15:48] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[20:15:54] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[20:16:00] <Eridius> Matthias247: I think clang is better in that regard than gcc, but if you want to debug templates you often do need the deeper messages
[20:16:16] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[20:16:16] <Hildar> Yet again I go to write a question to ask you guys, and work out the answer just before I hit enter. ^^
[20:16:23] <Eridius> o_O
[20:16:30] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[20:16:31] <Eridius> I guess that's like rubber ducking
[20:16:49] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[20:17:14] *** Joins: mib_nfgy5t (Mibbit@moz-4014DDC7.ga.at.cox.net)
[20:17:57] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[20:18:11] <cmr> bstrie_rules: what is this new supercontributor flair?
[20:18:33] <cmr> bstrie_rules: it's a very unreadable bright pink!
[20:18:39] <Eridius> whoa. what is that?
[20:18:52] <cmr> hm
[20:18:53] <cmr> "The supercontributor flair is awarded for long-term, high-quality contributions to the Rust compiler, standard library, or community; for this you must either sufficiently impress the subreddit mods or you must be recognized by the official developers as a "friend of the tree"."
[20:19:06] <Eridius> huh
[20:19:10] <cmr> ah and the "developer" flair changed to "mozilla"
[20:19:21] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[20:19:28] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[20:19:43] <mib_nfgy5t> why doesn't 'use' use the same path syntax as everywhere else? it's confusing
[20:19:47] <Eridius> hmm, I'm vaguely tempted to ask for CSS name modification, but I'm afraid I might get WindowsPath::new("Eridius") ;)
[20:19:54] <cmr> hah
[20:20:01] <Eridius> also I don't comment much on the subreddit anyway. I should hang out there more
[20:20:12] <bstrie_rules> cmr: so, the original purpose of the contributor flair was as a carrot to get people to start working on the compiler. now that we have tons of people with that flair, I need a more potent carrot :P
[20:21:03] <bstrie_rules> mib_nfgy5t: you mean global paths instead of relative paths?
[20:21:11] <Eridius> oh hey the meetup is on air mozilla now
[20:21:14] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[20:21:51] <mib_nfgy5t> bstrie yes...
[20:22:08] <Hildar> Can I not push() something new into a &mut [T]?
[20:22:30] <bstrie_rules> mib_nfgy5t: a long time ago, use statements had relative paths and it was a huge mess. we changed it to global paths to fix the mess, but people thought that the global path syntax was too ugly. c'est la vie
[20:22:31] <cmr> Hildar: no
[20:22:35] <Eridius> whoa, the stream actually showed my second monitor at full resolution! It's only the in-person displays that cut off. That's wacky
[20:22:50] <Hildar> cmr: thank you.
[20:22:51] <cmr> Hildar: &mut [T] is a *slice*, in that the length is not changable. It's just a view into existing memory.
[20:22:58] <cmr> Hildar: you need &mut ~[T] to change the length
[20:23:23] <Hildar> cmr Ohhh, and that doesn't transfer ownership into the function, right?
[20:23:26] <cmr> Hildar: right
[20:23:31] <mib_nfgy5t> bstrie you mean ::mod ??? how is that ugly.... it makes it consistent
[20:23:50] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[20:24:16] <bstrie_rules> mib_nfgy5t: lots of people are unhappy with our module system in general, it might get tweaked some before 1.0
[20:24:44] <bstrie_rules> I agree with you that it's bad that it's inconsistent, but I *also* think that ::mod is ugly :P
[20:25:21] <o11c> strict module == file is the best I've found
[20:25:30] <o11c> just not class == file like Java
[20:25:35] <Matthias247> o11c: I absolutely hate it
[20:25:38] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[20:25:45] <mib_nfgy5t> bstrie you have two ways to do global path in use... :: and no prefix... and two ways to do relative path in not use... mod and self::mod
[20:25:56] <o11c> Matthias247: use more reexports
[20:26:10] <Matthias247> o11c: that fucks up all privacy statements
[20:26:34] <Matthias247> I HAVE to put everything into a file in order to have private access
[20:26:54] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[20:26:56] <Matthias247> and I absolutely dislike files with > 1000LOC
[20:27:32] <o11c> Matthias247: eh? you just don't reexport the private stuff ...
[20:27:58] <Ms2ger> Matthias247, eh, Gecko has some that are over 10k
[20:28:19] <mib_nfgy5t> why are modules that are not root or folder allowed to have child modules that are also files? that's fun
[20:28:47] <Matthias247> o11c: that does not relate. As soon as i import (whether rexport or only use) all things are private for me
[20:28:49] <o11c> I took an axe to a 12k file a couple months ago
[20:28:54] <Hildar> How do I dereference a &mut ~[] mutably? (I still want to push() something into the vector, but it moans that I "cannot borrow immutable dereference of & pointer as mutable"
[20:29:13] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[20:29:14] <Matthias247> Ms2ger: Then I'm like that I'm no Gecko developer :)
[20:29:24] <strcat> Hildar: looks like you have & ~[T]
[20:29:29] <strcat> if you're getting that error
[20:30:19] *** Joins: zwarich (zwarich@A89ECEB1.A86FC3A7.DE9B45B6.IP)
[20:30:28] *** Quits: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com) (Quit: brendan)
[20:30:41] *** Quits: mib_nfgy5t (Mibbit@moz-4014DDC7.ga.at.cox.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:30:47] <Hildar> strcat : http://pastebin.com/459eCJxd is my code (I feel like such a numbnuts today, sheesh)
[20:30:51] <Matthias247> I mean there are cases where there's y good reason to do it. E.g. because you have a class that has a lot of methods which are quite big.
[20:30:54] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[20:31:08] <strcat> Hildar: yeah, you have &, not &mut
[20:31:12] *** Quits: panitaliemom (Mibbit@1710C26.8381A41.8725677B.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:31:18] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[20:31:18] <Matthias247> but for multiple classes/objects I think multiple files is a good thing
[20:31:22] <strcat> Hildar: mut connections means the variable connections is mutable
[20:31:28] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[20:31:37] <strcat> mutability is inherited from the owner, but & doesn't express ownership
[20:31:47] <strcat> that's why there are both &/&mut, they can only observe immutability/mutability
[20:31:58] *** Joins: bt3ze (bt3ze@32EBD9A1.BCCBF0DD.DDE5D3F6.IP)
[20:32:04] <strcat> mut connections means you can assign another & (immutable reference) to it
[20:32:10] <strcat> can't mutate what's behind &
[20:32:41] <Hildar> Right. That makes sense. Is there a way so I can mutate what is behind the &?
[20:32:44] *** Joins: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com)
[20:32:55] <strcat> Hildar: no
[20:33:02] <strcat> Hildar: you need to use &mut if you want a mutable reference
[20:33:21] <strcat> rusti: fn foo(x: &mut int) { *x = 5 }
[20:33:22] <bstrie_rules> cmr: if you have a better name than "supercontributor", I'm all ears :)
[20:33:24] -rusti- pastebinned 10 lines of output: http://ix.io/adq
[20:33:30] <strcat> rusti: fn foo(x: &mut int) { *x = 5; }
[20:33:32] -rusti- pastebinned 10 lines of output: http://ix.io/adr
[20:33:52] <strcat> wut
[20:33:52] <Hildar> strcat: Thank you so much. I'm sure I tried that once (obviously didn't since it now compiles and I didn't think it did).
[20:34:25] <cmr> bstrie_rules: supercontributor is a fine name, but the pink... yechk
[20:34:50] <strcat> bstrie_rules: what makes someone a supercontributor? ;p
[20:34:53] <bstrie_rules> cmr: I like it, it's very bubblegummy :)
[20:35:07] <bstrie_rules> strcat: my own caprices
[20:35:16] <bstrie_rules> strcat: also, if you're a friend of the tree
[20:35:18] <bstrie_rules> but mostly my own caprices
[20:35:28] <Zylinski> Heya. I have a compile error that says that it cannot pack my type because it does not fulfill 'Send'. Like this: https://gist.github.com/KarlZylinski/8698643
[20:35:33] <strcat> bstrie_rules: can you add more than 1 flair?
[20:35:45] <bstrie_rules> strcat: to one user? I don't think so
[20:35:52] <cmr> I'm pretty sure you can
[20:35:57] <cmr> I think I've seen it on other subreddits
[20:36:11] *** Joins: lenstr (lenstr@16F2C643.9636F313.7A27613B.IP)
[20:36:13] <cmr> Zylinski: so the problem is that ~Entity by default means ~Entity:Send
[20:36:21] <cmr> That is, a trait object where the inner type is Send
[20:36:26] <strcat> bstrie_rules: well if you can, I was going to say you should have a tag for people who work for mozilla, people who have commit access (not everyone at mozilla does), etc. and do it separately ;p
[20:36:34] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[20:36:44] <cmr> if your Player isn't Send, but you still want a trait object, you need ~Entity:
[20:36:51] <cmr> (that is, empty bounds)
[20:36:55] *** Quits: ljrmorgan (Mibbit@moz-D930738B.skybroadband.com) (Quit: http://www.mibbit.com ajax IRC Client)
[20:37:02] <bstrie_rules> strcat: I'm not saying it's impossible, but it would require arcane custom css for each user. if we didn't care about colors, I can already just give arbitrary text for each user without any trouble
[20:37:03] *** Joins: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com)
[20:37:08] *** Joins: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP)
[20:37:14] <Zylinski> ok, not sure I fully understand the empty bounds thing, I'll look in the docs for it
[20:37:16] <Zylinski> Thanks :)
[20:37:34] <strcat> bstrie_rules: tag[text='foo']
[20:37:39] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[20:37:42] <strcat> hm
[20:37:47] * strcat shrugs
[20:37:55] *** Quits: lenstr (lenstr@16F2C643.9636F313.7A27613B.IP) (Ping timeout)
[20:38:11] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[20:38:11] <strcat> I guess that doesn't work
[20:38:20] <brson> we knocked an issue off the 1.0 spreadsheet
[20:38:22] <brson> first one in a  while
[20:38:23] *** Parts: NewFolder (adamle@moz-38947329.dedicated.allstream.net) ()
[20:38:25] <brson> bytbox: thanks!
[20:38:30] <bstrie_rules> brson: what's this 1.0 spreadsheet?
[20:38:38] <mcpherrin> Can you link the spreadsheet in the topic or soemthing?
[20:38:42] <mcpherrin> I've already lost the url :)
[20:38:46] <bstrie_rules> is this like an online version of pcwalton's whiteboard?
[20:39:14] <cmr> brson: while you're at it can you remove docs.octayn.net from the topic
[20:39:16] <cmr> ?
[20:39:19] <mcpherrin> bit.ly/1dM8ii2
[20:39:19] <cmr> it's now unmaintained
[20:39:35] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[20:40:12] <bstrie_rules> brson: is that spreadsheet world-writeable? do you not want it linked to reddit?
[20:40:22] <mcpherrin> perhaps /topic The Rust language | logs: https://botbot.me/mozilla/rust | conduct: https://github.com/mozilla/rust/wiki/Note-development-policy#conduct | package integration: http://hiho.io/rust-ci/ | 1.0 issues bit.ly/1dM8ii2 | if room is moderated, register with nickserv to talk 
[20:40:46] <cmr> bstrie_rules: he said it was public during the meetup
[20:40:48] *** Joins: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net)
[20:41:45] <bstrie_rules> I keep forgetting to watch that
[20:41:55] * cmr beats everyone else to posting it to reddit
[20:42:00] <bstrie_rules> bah
[20:42:02] <bstrie_rules> dammit cmr
[20:42:12] * bstrie_rules makes cmr's flair even brighter
[20:42:40] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[20:42:45] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[20:42:48] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[20:42:50] <mcpherrin> cmr: I tried and it wouldn't let me post bit.ly so I gave up :)
[20:43:08] <Eridius> mcpherrin: so don't post bitly, post the real url
[20:43:17] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[20:43:17] <Eridius> there's no sense in posting a url shortened url to reddit
[20:43:20] <mcpherrin> Eridius: I can't figure out how to get a real url out of google docs :P
[20:43:24] *** Joins: greycat (Mibbit@moz-D9C4D6EB.ppp-bb.dion.ne.jp)
[20:43:33] *** Joins: hoverbear (hoverbear@moz-10F648A4.wireless.uvic.ca)
[20:43:35] <bstrie_rules> mcpherrin: copy it out of your URL bar!
[20:43:39] <mcpherrin> It seems to be giving me organization-specific ones
[20:43:41] <bstrie_rules> that's what cmr did :P
[20:43:44] <Eridius> mcpherrin: what you see in the URL bar isn't good enough? You could also just `curl -I bit.ly/..` and see where it redirects
[20:43:55] <Eridius> oh yeah I guess mine is showing up as organization-specific. Stupid Google Apps
[20:43:58] <mcpherrin> Eridius: I could, but as I said I gave up :)
[20:44:09] * cmr just pasted the organization-specific one
[20:44:11] <bstrie_rules> in fact, the reason that cmr beat me was because I wasted time taking out the unnecessary query parameters from the URL
[20:44:14] <bstrie_rules> :P
[20:44:40] <Matthias247> try that: https://docs.google.com/spreadsheet/ccc?key=0AlWBWplsaTZvdGdSdEVzZW1BeDA5dm0zM2FFeW0ySEE&usp=drive_web#gid=0
[20:44:56] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Ping timeout)
[20:45:26] *** brson changes topic to 'The Rust language | logs: https://botbot.me/mozilla/rust | conduct: https://github.com/mozilla/rust/wiki/Note-development-policy#conduct | package integration: http://hiho.io/rust-ci/ | 1.0 issues: bit.ly/1dM8ii2 | if room is moderated, register with nickserv to talk'
[20:45:34] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Client exited)
[20:47:09] <Eridius> it occurs to me I never submitted rust-lua to /r/rust so I'm doing that now
[20:47:22] <mcpherrin> haha oh my
[20:47:25] <mcpherrin> new -> box
[20:47:28] <mcpherrin> on /r/reddit
[20:47:29] <mcpherrin> uh
[20:47:31] <mcpherrin> r/rust
[20:47:35] <mcpherrin> too funny
[20:48:06] *** Quits: greycat (Mibbit@moz-D9C4D6EB.ppp-bb.dion.ne.jp) (Quit: http://www.mibbit.com ajax IRC Client)
[20:48:48] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:49:20] *** Quits: HansiHE (HansiHE@moz-7DF634EA.com) (Ping timeout)
[20:49:20] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[20:49:20] *** Quits: Munchor (munchor@moz-8CFC84AD.yourvserver.net) (Ping timeout)
[20:49:30] *** Quits: kkris (kkris@moz-CB70009.yourvserver.net) (Ping timeout)
[20:49:46] *** Quits: jix (jix@moz-D969BFFC.de) (Ping timeout)
[20:49:53] *** Joins: NewFolder (adamle@moz-38947329.dedicated.allstream.net)
[20:50:27] *** Quits: teosz (teosz@1A02093.7ED1791B.3EA6AAD8.IP) (Ping timeout)
[20:50:43] *** Joins: kkris (kkris@moz-CB70009.yourvserver.net)
[20:50:51] *** Joins: jix (jix@moz-D969BFFC.de)
[20:51:02] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[20:51:11] *** Joins: Munchor (munchor@moz-8CFC84AD.yourvserver.net)
[20:51:27] <Hildar> Is box still a keyword?
[20:51:46] <strcat> make yarn a keyword too
[20:51:47] *** Joins: HansiHE (HansiHE@moz-7DF634EA.com)
[20:52:12] <bstrie_rules> mcpherrin: that's an easter egg :)
[20:52:14] <mcpherrin> strcat: programming for cats!
[20:52:33] <bstrie_rules> I'll add "LOLCODE" to the "Inspired by" list on wikipedia
[20:52:49] *** Joins: tq (tq@moz-9FE9CCF4.a251.priv.bahnhof.se)
[20:52:59] <bstrie_rules> strcat: we can use "yarn" as a term to refer to thread pools
[20:53:27] *** Joins: notmatt (notmatt@CC62CF7E.1E7FDFDB.A82DBDDB.IP)
[20:53:49] <mcpherrin> yarn is connected threads, so obviously it's some sort of shared-memory concurrency
[20:53:56] *** Joins: teosz (teosz@1A02093.7ED1791B.3EA6AAD8.IP)
[20:54:09] *** Quits: dave1629 (dave@CE60435B.83BCE10.DDE5D3F6.IP) (Quit: dave1629)
[20:54:15] <bascule> STM!
[20:54:16] <bascule> lulz
[20:54:46] <strcat> can do hardware transactional memory with a software fallback
[20:54:46] <bascule> I still love how STM was trumpeted as Clojure's killer concurrency feature, and hardly anyone seems to use it in practice
[20:54:58] <bascule> strcat: now! after Cliff Click begged Intel for a decade, lol
[20:55:04] <strcat> used a lot in haskell afaik
[20:55:15] <bascule> TSX?
[20:55:19] <bascule> or STM in general?
[20:55:20] <strcat> STM
[20:55:22] <strcat> in general
[20:55:25] <bascule> aah
[20:55:36] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[20:56:12] <bascule> Cliff Click also claimed managed language runtimes spend about 1/3rd of memory bandwidth on handwavey average zeroing out memory for new allocations o_O
[20:56:27] <bascule> and was like "hey Intel, can we get a CPU instruction for that"
[20:56:29] <bascule> :(
[20:56:30] <TheHydroImpulse> How do you specify the lifetime of a generic type? For example, `struct Example<'a> {...}`.  
[20:56:35] *** jorendorff is now known as jorendorff_away
[20:56:43] <strcat> bascule: intel does have CPU instructions for memcpy/memset/memmove
[20:56:50] <strcat> they even have str* versions
[20:57:06] <bascule> strcat: he wanted zeroing directly into L1 cache I believe
[20:57:14] *** Quits: pauls (pauls@moz-BFEF1F22.ccs.neu.edu) (Ping timeout)
[20:57:20] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[20:57:24] <strcat> jemalloc is hurt a lot by mmap zeroing
[20:57:43] <strcat> bascule: http://lwn.net/Articles/542504/ look at those delicious benchmarks ;p
[20:57:55] <mcpherrin> It seems like you should be able to prod a Dram controller into zeroing pages
[20:58:06] <mcpherrin> would be nice if those features trickled upwards
[20:58:09] <tiffany> strcat: I don't think glibc uses those
[20:58:11] <SingingBoyo> TheHydroImpulse: that looks right.
[20:58:17] <skrylar> heh.  DMA opcodes
[20:58:27] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[20:58:39] <strcat> tiffany: well vrange doesn't exist yet upstream
[20:58:47] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[20:58:54] <skrylar> mcpherrin: i thought intel-style chips had the worst side controllers for things like that?
[20:59:02] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[20:59:04] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[20:59:09] <skrylar> i know some of the non-intel based chips have the ability to tell a coproc to do menial zeroing
[20:59:12] *** Quits: teosz (teosz@1A02093.7ED1791B.3EA6AAD8.IP) (Quit: Lost terminal)
[20:59:49] <TheHydroImpulse> SingingBoyo How would you specify that type somewhere? For example, `struct Other { example: ~Example }` It expects a lifetime, but how would you explicitly give it, without the ability to enfere it?
[21:00:06] *** Joins: claudiuc (claudiuc@moz-33191099.thefacebook.com)
[21:00:58] <SingingBoyo> TheHydroImpulse:  struct Other<'a> {example: ~Example<'a>}
[21:01:03] *** jorendorff_away is now known as jorendorff
[21:01:42] <Zylinski> cmr: Hm, had to sprinkle my code with a bunch of :'s, but now it's compiling. Thanks again :)
[21:03:55] *** Quits: claudiuc (claudiuc@moz-33191099.thefacebook.com) (Connection reset by peer)
[21:04:58] *** Joins: twi (Adium@moz-B47EFC08.dyn.iinet.net.au)
[21:05:03] *** Quits: twi (Adium@moz-B47EFC08.dyn.iinet.net.au) (Max SendQ exceeded)
[21:05:19] *** Joins: twi (Adium@moz-B47EFC08.dyn.iinet.net.au)
[21:05:24] *** Quits: twi (Adium@moz-B47EFC08.dyn.iinet.net.au) (Max SendQ exceeded)
[21:05:43] *** Joins: twi (Adium@moz-B47EFC08.dyn.iinet.net.au)
[21:05:47] <zwarich> mcpherrin: there's no point in telling the DRAM controller to do it, just do it in the cache
[21:05:49] *** Quits: twi (Adium@moz-B47EFC08.dyn.iinet.net.au) (Max SendQ exceeded)
[21:06:09] *** Joins: twi (Adium@moz-B47EFC08.dyn.iinet.net.au)
[21:06:38] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[21:06:47] <zwarich> for small allocations that is, if you're worried about zero filling huge megabyte allocations it's a different story
[21:07:18] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[21:07:51] <mcpherrin> zwarich: I was thinking about big allocations
[21:07:59] <mcpherrin> (also hello)
[21:08:03] <Matthias247> hmm, you could put a 0 source in the hardware and tell the DMA controller to feed it to memory ;)
[21:08:39] <bstrie_rules> Eridius: did you give a presentation on those lua bindings?
[21:10:16] <tq> "You've met with a terrible fate, haven't you?" -- Heh, lovely error messages. :)
[21:10:29] <bstrie_rules> tq: haha, what did you do to cause that
[21:10:34] <eddyb> tq: no poems?
[21:10:39] <Eridius> bstrie_rules: yes I did
[21:10:59] <bstrie_rules> Eridius: then you get SUPERCONTRIBUTOR
[21:11:02] <Eridius> \o/
[21:11:16] <bstrie_rules> give a good rust presentation, get supercontributor
[21:11:27] <bstrie_rules> pay bstrie $1000, get supercontributor
[21:11:30] <Eridius> haha
[21:11:45] <eddyb> pay me, get a language feature
[21:11:45] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[21:12:25] <mcpherrin> bstrie_rules: I'll give you a cookie
[21:12:37] <tq> bstrie_rules, an unnecessary semicolon. (fatal runtime error: Could not unwind stack, error = 5)
[21:12:41] <bstrie_rules> eddyb: it is naive of me to think that default struct values would be like a ten-line compiler change? and the syntax is already inarguably straightforward, it should be pretty easy to implement :P
[21:13:05] <bstrie_rules> just "check to see if all values of this struct are declared, if not, use the defaults, if none, fail as usual"
[21:13:27] *** jorendorff is now known as jorendorff_away
[21:13:34] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[21:14:04] *** jorendorff_away is now known as jorendorff
[21:14:23] <Eridius> bstrie_rules: would defaults be constants, or would they be expressions that are evaluated in the context of the struct literal expression?
[21:14:27] <mcpherrin> bstrie_rules: Most of that exists because of the {a:b, ..defaults} syntax
[21:14:29] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[21:14:51] <mcpherrin> bstrie_rules: so you'd just have some static struct to fallback to if there isn't a ..defaults
[21:15:20] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[21:15:22] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[21:15:55] <bstrie_rules> mcpherrin: there's no nice way to 1) declare default values and 2) actually use them, even with functional struct update
[21:16:22] <Eridius> Foo { a:b, ..Default::default()}
[21:16:26] <bstrie_rules> I just want `struct Foo { a: int, b: int = 1 } let foo = Foo { a: 0 };`
[21:16:38] *** Quits: synackse (jordyd@moz-91E345E5.seg92.ucf.edu) (Ping timeout)
[21:16:40] <mcpherrin> bstrie_rules: I understand that.  I mean it should be really easy to do in the existing compiler
[21:16:42] <Matthias247> bstrie_rules: +1
[21:16:45] <bstrie_rules> Eridius: no, you still have to derive default, and even then I want default values that *aren't* zero
[21:17:19] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[21:17:21] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[21:17:25] <bstrie_rules> default seems like a kludge to me, honestly. ugly to use, not super useful
[21:17:37] <Matthias247> with such a change you could even remove the whole Default::default stuff
[21:17:38] <Eridius> bstrie_rules: Default() doesn't have to be zero, does it?
[21:17:57] <bstrie_rules> Eridius: I think it does, I have no idea how you'd provide alternate default values
[21:18:03] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[21:18:20] <Eridius> bstrie_rules: Default provides "default" values. A default value may not be 0. Especially for non-primitives
[21:18:23] <Matthias247> Default is how you implement it. deriving(Default) will be 0, but if you manually do it you can choose what you like
[21:18:28] <Eridius> e.g. if my struct embeds a Mutex, I'd want to initialize the Mutex
[21:18:57] <bstrie_rules> the only way I can think of now would be `impl Foo { fn default() -> Foo { Foo { a: 1, b: 2 } } }` and then `let foo = Foo { a: 0, ..Foo::default()}`
[21:18:57] <Eridius> but of course Default runs at runtime instead of being evaluated at compile-time, hence my question about struct field defaults. Are they compile-time constants or are they expressions?
[21:19:15] <Eridius> bstrie_rules: yeah that works
[21:19:17] <Matthias247> However Default is from a practical point of view equivalent to an inline default parameter assignation. Only much more ugly
[21:19:24] <bstrie_rules> Eridius: yeah and I think it's gross :P
[21:19:45] <Eridius> bstrie_rules: sure, but again, I'm questioning whether the semantics of field defaults are equivalent to Default
[21:19:58] <Eridius> can I say `struct Foo { Mutex a = Mutex::new() }`?
[21:20:04] <Eridius> err a: Mutex = Mutex::new()
[21:20:07] <bstrie_rules> I see no argument against allowing default struct values. it's such a minor thing, and the syntax is already familar from everywhere else in the language
[21:20:12] <bstrie_rules> it's surprising that it *doesn't* exist
[21:20:24] <Matthias247> Eridius: you shouldn't you?
[21:20:36] <Matthias247> it should takte an expression which must return the correct type
[21:20:49] <Eridius> I can see arguments on both sides
[21:21:12] <Eridius> personally I think allowing any expression of the correct type is fine, but I don't know if there are any difficulties with doing that
[21:21:48] <bstrie_rules> Eridius: I'll be honest here, the thing that makes me sigh the most about rust 1.0 is that we don't have default function arguments, which will probably be the #1 requested feature immediately after 1.0 is released
[21:22:01] *** Quits: eddyb (eddy@832D2DE5.66315F97.FB866788.IP) (Ping timeout)
[21:22:01] *** Quits: rntz_ (rntz@moz-C76A8D96.sp.cs.cmu.edu) (Ping timeout)
[21:22:03] *** Joins: rntz_ (rntz@moz-C76A8D96.sp.cs.cmu.edu)
[21:22:03] *** Quits: acrichto (acrichto@moz-B63D64BD.res.cmu.edu) (Connection reset by peer)
[21:22:06] *** Joins: acrichto (acrichto@moz-B63D64BD.res.cmu.edu)
[21:22:06] *** ChanServ sets mode: +o acrichto
[21:22:16] *** Joins: pnkfelix (pnkfelix@moz-B1D2E7D0.pck.nerim.net)
[21:22:17] <bstrie_rules> Eridius: hence I think that having *something* with default values will quiet the clamoring
[21:22:31] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[21:22:42] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[21:22:46] <bstrie_rules> at least, it will give us plausible deniability
[21:22:56] <bstrie_rules> "it's not that we don't care, look, structs have default values!"
[21:22:59] <Matthias247> default arguments are one of the minor things that make C# much more convenient to use than C++.  It doesn't add any REAL value, but once you are used to it in other languages you will want it
[21:23:10] <bstrie_rules> Matthias247: C++ has default arguments...
[21:23:29] <Matthias247> bstrie_rules: in classes? only since c++11
[21:23:39] <diverse> bstrie_rules: since we just got default types parameters, I'd say it's also time to get default arguments
[21:23:50] <bstrie_rules> Matthias247: so only for years and years, then :P
[21:23:57] <doomlord_> wow, default type params!
[21:23:58] <doomlord_> nice
[21:23:59] *** Quits: rntz_ (rntz@moz-C76A8D96.sp.cs.cmu.edu) (Ping timeout)
[21:23:59] *** Quits: acrichto (acrichto@moz-B63D64BD.res.cmu.edu) (Ping timeout)
[21:24:02] <bstrie_rules> doomlord_: ssh!
[21:24:07] <bstrie_rules> doomlord_: I'm just rabblerousing right now
[21:24:09] <SiegeLord> Yeah, it's silly to get default type parameters but no default argumetns :P
[21:24:12] <Matthias247> bstrie_rules: not everybody can develop for state of the art platforms. E.g. I have to do WinCE compatible code :(
[21:24:23] <Ms2ger> Aw man
[21:24:24] <bstrie_rules> doomlord_: FIRST, I just want default values in structs
[21:24:25] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[21:24:30] <bstrie_rules> that should be really, really simple
[21:24:33] <bstrie_rules> without any arguing
[21:24:35] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[21:24:38] <SiegeLord> Although in my use case, I'd prefer keyword arguments (and maybe keyword type args!)
[21:24:42] <bstrie_rules> the syntax almost literally cannot be argued
[21:25:10] *** Joins: andrew-d_w (andrew-d_w@moz-1FD1C064.nat.bb.dnainternet.fi)
[21:25:14] *** Quits: andrew-d_w (andrew-d_w@moz-1FD1C064.nat.bb.dnainternet.fi) (Input/output error)
[21:25:15] <bstrie_rules> because structs *already* have position-independent keyword initialization
[21:25:31] *** Joins: ofeldt- (ofeldt@moz-6C67CA74.dip0.t-ipconnect.de)
[21:25:33] <SiegeLord> Yeah, I concur
[21:25:38] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[21:26:08] <bstrie_rules> default arguments in functions will need more care. I think it's ok if we hold off, even if it does potentially have unfortunate ramifications for the stdlib
[21:26:12] <doomlord_> i wonder what other delights have appeared since i was last looking at rust
[21:26:14] *** Quits: ofeldt (ofeldt@moz-C70CF4F3.dip0.t-ipconnect.de) (Ping timeout)
[21:26:48] <bstrie_rules> doomlord_: how long's it been
[21:26:52] <bstrie_rules> since you last looked at rust
[21:26:54] <doomlord_> few months 
[21:26:59] <bstrie_rules> yikes
[21:27:02] *** Joins: rntz_ (rntz@moz-C76A8D96.sp.cs.cmu.edu)
[21:27:07] *** Joins: acrichto (acrichto@moz-B63D64BD.res.cmu.edu)
[21:27:07] *** ChanServ sets mode: +o acrichto
[21:27:11] <diverse> that means tons of tons of stuff
[21:27:21] <strcat> bstrie_rules: what if I'm against default values in structs? ;p
[21:27:25] <bstrie_rules> doomlord_: how many months. did you play with 0.9?
[21:27:34] <bstrie_rules> strcat: give me your argument :P
[21:27:34] <strcat> they'll probably be restricted to constexprs
[21:27:35] <doomlord_> no ; 0.8 was the last i used i think
[21:27:42] <strcat> bstrie_rules: don't need more constexpr special cases
[21:27:53] <strcat> makes user-defined types, etc. more disadvantaged
[21:28:03] <diverse> I would be happy with just default values for functions.
[21:28:07] <bstrie_rules> strcat: I don't see why we need to introduce constexpr special cases
[21:28:10] *** Quits: silven (quassel@moz-F81D3961.a328.priv.bahnhof.se) (Client exited)
[21:28:18] <strcat> bstrie_rules: so the default value can be a function call?
[21:28:43] <bstrie_rules> strcat: I'm fine with it just being limited to the current constexprs for now
[21:28:53] <bstrie_rules> we can expand it later without breaking compat
[21:29:03] <strcat> not necessarily
[21:29:20] <strcat> bstrie_rules: constexprs today already prevent using private fields
[21:29:27] <strcat> since you can't call new(...)
[21:29:38] <Hildar> I both love and hate lifetimes.
[21:29:47] <Hildar> Such an abusive relationship.
[21:29:52] <doomlord_> i recall talk of a "new" keyword, is that right
[21:29:53] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[21:30:08] <diverse> doomlord_: that was a _long_ time ago
[21:30:23] *** Joins: lenstr (lenstr@16F2C643.9636F313.7A27613B.IP)
[21:30:25] <strcat> bstrie_rules: I am staunchly against discouraging user defined types even more than we already do
[21:30:44] <strcat> so I'll fight tooth and nail against default arguments and default field values without a solution to that first ;p
[21:30:52] *** Joins: silven (quassel@moz-F81D3961.a328.priv.bahnhof.se)
[21:31:05] <bstrie_rules> strcat: what does C++ do about default struct values
[21:31:15] <strcat> bstrie_rules: C++ has CTFE
[21:31:27] <bstrie_rules> doomlord_: read the 0.9 sections of https://github.com/mozilla/rust/blob/master/RELEASES.txt and https://github.com/mozilla/rust/wiki/Doc-detailed-release-notes
[21:31:30] <pnkfelix> strcat: have you posted this drawback/critique to the relevant ticket for default struct values?  (at least, I *think* we have a ticket for default struct values...)
[21:31:34] <diverse> strcat: can't I have default args for functions though?
[21:31:37] <bstrie_rules> we don't have a ticket for that
[21:31:37] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[21:31:42] <bstrie_rules> well, maybe we do
[21:31:47] <bstrie_rules> I haven't been reading bugmail for a while :P
[21:32:03] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[21:32:35] <Matthias247> I mean you couldn't use anything that needs a parameter as a default parameter. But why shouldn't you be able to create other dynamic objects in it?
[21:32:53] <strcat> so you can have a function call as a default?
[21:32:59] <bstrie_rules> strcat: I still don't see how this discourages user-defined types. structs are just a way of laying things out in memory, they're a primitive that you'd use to build a user-defined type
[21:33:01] <strcat> fn foo(x = foo())
[21:33:03] *** Quits: lenstr (lenstr@16F2C643.9636F313.7A27613B.IP) (Ping timeout)
[21:33:06] <Matthias247> struct A { myList: = ~[]}
[21:33:19] <strcat> bstrie_rules: because if you have a private field, you can't construct it without a call....
[21:33:25] <strcat> bstrie_rules: user-defined types rely on this
[21:33:36] *** Quits: dherman (dherman@moz-21F91504.cfw-a-gci.corp.yahoo.com) (Quit: dherman)
[21:33:36] <strcat> Matthias247: so you can have a function call?
[21:33:41] <Matthias247> or struct B { m:Mutex = Mutex::new() }
[21:33:47] <Matthias247> strcat: why not?
[21:33:53] <bstrie_rules> I thought privacy only applied at module boundaries
[21:34:01] <strcat> bstrie_rules: yes
[21:34:06] <strcat> bstrie_rules: so there is a big integer library
[21:34:12] <strcat> you want to use a default value in a function
[21:34:14] <Ms2ger> Back to gmp?
[21:34:20] <strcat> it is an `int`, you want to switch to a bigint
[21:34:29] <strcat> you can't, if you can't call a function as the default
[21:34:49] <bstrie_rules> hmm
[21:34:54] <strcat> if you have some library implementing a matrix and it uses priv fields, you can't construct it without a call
[21:35:11] *** Quits: bjz_ (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[21:35:16] <Matthias247> it's the same as  doing m = Mutex::new() first and then b = B {m:m};
[21:35:19] <strcat> so I think it *will* discourage user-defined types if you can't have expressions there
[21:35:20] <bstrie_rules> strcat: you've convinced me. let's remove privacy
[21:35:24] *** Joins: claudiuc (claudiuc@moz-33191099.thefacebook.com)
[21:35:29] <strcat> bstrie_rules: can't do that and maintain safety :)
[21:35:34] <bstrie_rules> damn!
[21:36:00] <strcat> although you could just take the linus position
[21:36:01] <strcat> bugs are bugs
[21:36:19] <strcat> any bug can be a security bug, and security bugs aren't more important than other bugs (like say, data corruption)
[21:36:22] <bstrie_rules> with enough bugs, all bugs are shallow
[21:36:25] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[21:36:31] <strcat> bstrie_rules: well that's not something linus said
[21:36:33] <strcat> ;p
[21:36:48] <diverse> le sigh
[21:36:50] *** Joins: dherman (dherman@moz-21F91504.cfw-a-gci.corp.yahoo.com)
[21:36:50] *** ChanServ sets mode: +ao dherman dherman
[21:36:54] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[21:38:20] <Hildar> Urgh, how can I convince the lifetime checker I'm not going to modify a ~[T] before my borrow of a field of some T ends?
[21:38:23] *** Quits: claudiuc (claudiuc@moz-33191099.thefacebook.com) (Client exited)
[21:39:30] <bstrie_rules> Hildar: perhaps make an explicit scope during which you borrow the field
[21:39:30] <Tari> explicitly bound the borrow
[21:40:25] <Hildar> Hmm, is there an explicit way to do that? Normally I tie stuff to other &-pointers, but there aren't any viable here.
[21:40:46] <bstrie_rules> Hildar: do you have a code snippet
[21:41:23] <tq> macro_rules! unwrap(($value:expr)(...))    Can I somehow define different macros for different types of $value?
[21:41:23] <Hildar> bstrie_rules : Yeah but it's realy ugly, let me see if I can make a clean version.
[21:41:28] *** Joins: kvanb (kvanb@moz-3762148F.lnse7.win.bigpond.net.au)
[21:41:59] <tq> I'd like one macro for Option and another for Result
[21:42:17] <strcat> tq: macros aren't aware of types
[21:42:19] <bstrie_rules> tq: I don't think that information exists during macro expansion?
[21:42:21] <strcat> they work on token trees
[21:42:28] <tq> Too bad. :/
[21:43:29] <tq> Macros would let you do this:   let tmp = unwrap!(nonzero(v) or {return Err(OtherError)});
[21:43:32] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[21:44:03] <tq> Much shorter than match-boilerplate
[21:44:13] <strcat> bstrie_rules: rust has enough features anyway, needs more replacement of 2 features with 1 better feature ;P
[21:44:27] <tq> Failing is a bit too harsh somtimes for unwraps
[21:44:38] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:44:44] <Tari> tq: unwrap_or(), then
[21:45:00] <tq> Tari then I can't return my own error?
[21:45:20] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[21:45:26] <tq> That is exit the function
[21:45:44] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Ping timeout)
[21:45:47] <tq> instead of continuing with the assignment to tmp
[21:46:18] <Tari> I don't feel like a match block is too much in that case *shrug*
[21:46:59] <Tari> you could alternately precede an unwrap with is_none() { return MyError; }
[21:47:07] <Hildar> bstrie_rules: http://pastebin.com/8jxeWjfy
[21:47:10] <strcat> match x { None => return Err(y), Some(x) => x } // doesn't seem too bad
[21:47:35] *** Quits: bt3ze (bt3ze@32EBD9A1.BCCBF0DD.DDE5D3F6.IP) (Client exited)
[21:47:42] *** Quits: jackneill (jackneill@moz-E7C6E0B7.pool.digikabel.hu) (Quit: WeeChat 0.4.1)
[21:47:49] *** Quits: Ms2ger (Ms2ger@moz-1A53B611.adsl-dyn.isp.belgacom.be) (Quit: nn)
[21:47:53] <tq> Perhaps I'm just not used to reading rust code. It causes some friction in my brain :)
[21:48:09] <tq> Tari, hm. That might be good
[21:48:25] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[21:48:33] <Tari> the match feels more natural to me though
[21:49:07] <Tari> and is likely to generate better code (I don't think the compiler can deduce that you've checked the None case if you use is_none, so it'll still emit a conditional failure)
[21:49:30] <tq> Right
[21:49:56] <jasom> hmm is it possible to eliminate the extra temporary node in this: https://gist.github.com/jasom/4198ec8cae1659d9f1a3 if I use an unsafe block?
[21:49:59] <strcat> Tari: I don't think you should assume that
[21:50:03] <strcat> did you look at the IR/asm?
[21:50:21] <Tari> I haven't, but it shouldn't generate code that's any better than the match
[21:50:23] *** Quits: Lilly (PinkLace@moz-145A6857.bredband.comhem.se) (Quit: Byeee~~~~)
[21:50:30] <strcat> but it won't generate worse code
[21:50:56] <Tari> yes; "likely" is too strong to describe what I mean
[21:51:04] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[21:51:28] <Tari> match will be at least as good as is_none() and feels more natural, so I'd prefer that
[21:51:32] *** Quits: antifuchs (sid10828@moz-31ABA2C0.irccloud.com) (Quit: )
[21:51:53] <pcwalton> hmm
[21:51:54] <pcwalton> We detected a missing feature in the standard C++ library that was known to be
[21:51:54] <pcwalton> missing in libstdc++4.6 
[21:52:14] <strcat> pcwalton: what is that message from?
[21:52:17] <pcwalton> llvm
[21:52:23] <pcwalton> apparently I need to update xcode
[21:52:31] * strcat thought they used libc++ now
[21:52:33] <dbaupp> bstrie_rules: pong
[21:52:36] <tq> Anyhow, Option defines unwrap_or and unwrap_or_else, but Result does not. Perhaps there's a reason for this asymmetry. Just wanted to point that out
[21:52:37] <strcat> freebsd does ;s
[21:52:40] <pcwalton> oh
[21:52:44] <pcwalton> I need to use --enable-libcpp
[21:52:56] <dbaupp> tq: there are methods that give you an Option
[21:53:08] <tq> dbaupp, ah
[21:53:09] <dbaupp> tq: e.g. result.ok().unwrap_or(1)
[21:53:12] *** Joins: bt3ze (bt3ze@B521B877.63B79338.DDE5D3F6.IP)
[21:53:20] <tq> thx
[21:53:27] *** Joins: lenstr (lenstr@16F2C643.9636F313.7A27613B.IP)
[21:53:29] <pcwalton> oh never mind, just needed to reconfigure
[21:53:34] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Ping timeout)
[21:53:58] <strcat> I hate configure scripts
[21:54:13] * strcat has always preferred using make variables
[21:54:42] <strcat> I guess most people build llvm with cmake anyway, whatever it does
[21:55:12] <bstrie_rules> dbaupp: changed some of the flair on the reddit. just a heads up
[21:55:58] *** Joins: arrrrrrrrr (arrrrrrrrr@moz-EA66C8C9.dynamic.qsc.de)
[21:57:40] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[21:57:52] *** Quits: arrrrrrrrr (arrrrrrrrr@moz-EA66C8C9.dynamic.qsc.de) (Quit: arrrrrrrrr)
[21:58:39] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[21:59:05] <Earnestly> strcat: Would you have a variable for each library you use so that people on other OS' can specify the path to it?
[21:59:25] <strcat> no I'd use pkg-config
[21:59:27] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[21:59:28] <strcat> ;p
[21:59:32] *** Quits: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com) (Quit: johnmurray)
[21:59:48] <Earnestly> It's a shame not many use that or create pc files yet :<
[22:01:55] *** Joins: nawfel (Mibbit@C97E6036.2D2EBD69.DFAB1F33.IP)
[22:02:59] *** Joins: anonymous_29563 (Mibbit@moz-A082F561.adsl.xtra.co.nz)
[22:04:44] *** Quits: lenstr (lenstr@16F2C643.9636F313.7A27613B.IP) (Client exited)
[22:05:14] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:05:21] *** Joins: lenstr (lenstr@16F2C643.9636F313.7A27613B.IP)
[22:05:32] *** Quits: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net) (Ping timeout)
[22:05:37] <dbaupp> bstrie_rules: I noticed the rather garish pink :P
[22:06:12] *** Quits: io2 (io2@moz-7C3DDBE8.home.otenet.gr) (Quit: )
[22:06:24] <bstrie_rules> dbaupp: well we already use blue and orange and grey and yellow, and green just looks gross there, what's left :P
[22:06:40] <dbaupp> bstrie_rules: something other than pink
[22:06:43] <dbaupp> anything!
[22:06:47] <dbaupp> black
[22:06:48] <bstrie_rules> pink is a good color
[22:06:50] <bstrie_rules> nah
[22:06:50] <dbaupp> purple
[22:06:50] <jasom> something less saturated?
[22:07:00] <bstrie_rules> maaaaybe purple
[22:07:08] *** Quits: lenstr (lenstr@16F2C643.9636F313.7A27613B.IP) (Ping timeout)
[22:07:37] <diverse> bstrie_rules: think cherry blossoms
[22:07:47] <bstrie_rules> cherry blossoms are pink!
[22:08:02] <diverse> which you said it's a good color
[22:08:12] <dbaupp> what do we use blue for?
[22:08:14] *** Quits: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de) (Connection reset by peer)
[22:08:20] <bstrie_rules> dbaupp: blue is everywhere on that page...
[22:08:29] <bstrie_rules> the majority of the page is white and blue :P
[22:08:31] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Ping timeout)
[22:08:53] <diverse> I lost context of this discussion
[22:09:04] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:09:20] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[22:09:36] <dbaupp> bstrie_rules: I'll need some evidence for that
[22:09:52] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[22:09:58] *** Joins: lenstr (lenstr@16F2C643.9636F313.7A27613B.IP)
[22:10:04] <dbaupp> :P (oops... i'd thought you were talking about blue flair.)
[22:10:21] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[22:10:23] *** Joins: nif (nif@moz-8181E2AC.oberlin.net)
[22:10:32] <bstrie_rules> there, now it's a tasteful pastel purple :P
[22:10:51] <Hildar> Urgh... I know this is going to end up something simple: http://pastebin.com/zSGsgV74 Right, I understand what is going on better now. I want to inform the compiler that the &mut will last for as long as the function, not just the match, but I don't know how...
[22:10:54] <dbaupp> "tasteful"
[22:11:36] *** Quits: heftig (heftig@moz-9A896790.dip0.t-ipconnect.de) (Ping timeout)
[22:11:41] <Eridius> Hildar: you're attempting to move the connection out of the connections vec. That alone should be problematic
[22:11:42] <diverse> bstrie_rules: it's alright.
[22:11:43] *** Quits: lenstr (lenstr@16F2C643.9636F313.7A27613B.IP) (Ping timeout)
[22:11:49] <Eridius> Hildar: use `Some(&mut ref connection)` I guess
[22:12:02] <Eridius> although that's going to require `connections.mut_iter()` I think
[22:12:13] <Eridius> depending on what connections holds
[22:12:20] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[22:12:47] <diverse> bstrie_rules: maybe make 'contributor' pink ;P
[22:13:01] *** Joins: trecer (trecer@moz-36BEFC79.hsd1.pa.comcast.net)
[22:13:21] <hoverbear> bstrie_rules: Nothing's wrong with pink.
[22:13:22] <Hildar> Eridius: Connections is a &~[Option<SomeStructType>].
[22:13:26] <bstrie_rules> hoverbear gets it
[22:13:35] <hoverbear> bstrie_rules: In fact, Eridius is pink on my screen right now.
[22:13:44] <Eridius> pinkie pie is best pony
[22:14:03] <hoverbear> And I know for a fact that Eridius is an incredibly awesome person. Therefore Pink must also be incredibly awesome.
[22:14:07] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[22:14:15] <Eridius> Hildar: ok so connections iself isn't mutable, so you're not going to be able to get a mutable handle to an element of it (without moving out)
[22:14:31] *** Quits: dbaupp (Thunderbir@moz-68C83524.lns20.syd6.internode.on.net) (Ping timeout)
[22:14:41] <Eridius> and you can't move out of course
[22:14:43] <hoverbear> bstrie_rules: The only people who have problems with pink are men who are unsure of their sexuality.
[22:14:54] <hoverbear> (Which is fine)
[22:15:36] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[22:15:51] <diverse> http://www.listofimages.com/wp-content/uploads/2012/07/tree-flower-park-path-grass-cherry-blossom-sakura-nature.jpg
[22:15:57] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:16:37] <diverse> hoverbear: it's everywhere you look
[22:16:38] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Connection reset by peer)
[22:16:55] <hoverbear> diverse: See? That's beautiful.
[22:16:55] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:17:04] <Hildar> Eridius : Hmm, making connections mut doesn't help. I guess I should rethink it and do it another way...
[22:17:07] <diverse> Japanese beauty
[22:17:15] <Eridius> Hildar: can you paste the whole function, not just the for loop?
[22:17:35] *** Quits: nawfel (Mibbit@C97E6036.2D2EBD69.DFAB1F33.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:18:14] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[22:18:18] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[22:18:57] <Hildar> Eridius: Behold my ugly code: http://pastebin.com/7GPLmdKz
[22:19:22] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[22:19:37] <Eridius> Hildar: what is Connection?
[22:19:54] *** Joins: willingc (willingc@moz-48549B49.san.res.rr.com)
[22:20:01] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[22:20:10] <Eridius> and why is it &mut ~[..] instead of just &mut [..]
[22:20:23] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:20:31] <strcat> I think he wanted to push to it?
[22:20:39] <Eridius> Hildar: ok you still want to say `Some(mut ref connection)` (or maybe it's `ref mut connection`) in your match arm
[22:20:42] <Hildar> A struct that holds a Port<~str> a Chan<~str> and an int. The second point, I used to want to push to it, but now I don;t here.
[22:21:03] *** Quits: bt3ze (bt3ze@B521B877.63B79338.DDE5D3F6.IP) (Client exited)
[22:21:17] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[22:21:34] *** Joins: bt3ze (bt3ze@B521B877.63B79338.DDE5D3F6.IP)
[22:21:46] *** Joins: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net)
[22:21:51] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Quit: )
[22:22:06] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[22:22:53] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[22:23:15] *** Quits: bt3ze (bt3ze@B521B877.63B79338.DDE5D3F6.IP) (Ping timeout)
[22:23:43] *** Joins: bt3ze (bt3ze@B521B877.63B79338.DDE5D3F6.IP)
[22:24:05] *** kimundi is now known as zz_kimundi
[22:25:14] *** Quits: rca (rcatolino@moz-7F9205D.adsl.proxad.net) (Ping timeout)
[22:25:25] *** Quits: bt3ze (bt3ze@B521B877.63B79338.DDE5D3F6.IP) (Ping timeout)
[22:25:26] <Hildar> Eridius : Boom, it compiles. thank you very much.
[22:25:46] *** Joins: synackse (jordyd@moz-649A8B11.seg36.ucf.edu)
[22:26:49] <Eridius> \o/
[22:26:54] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Input/output error)
[22:28:17] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[22:28:52] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[22:30:43] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[22:31:06] *** Joins: fyolnish (fyolnish@moz-EBDBDD80.uqwimax.jp)
[22:32:26] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[22:32:50] *** Quits: fyolnish (fyolnish@moz-EBDBDD80.uqwimax.jp) (Ping timeout)
[22:33:40] *** Joins: skade (skade@moz-A9055F8E.netcologne.de)
[22:33:53] *** Joins: bt3ze (bt3ze@moz-14F5C128.bootp.virginia.edu)
[22:34:59] *** Quits: willingc (willingc@moz-48549B49.san.res.rr.com) (Client exited)
[22:35:20] *** Joins: willingc (willingc@moz-48549B49.san.res.rr.com)
[22:36:00] *** Quits: willingc (willingc@moz-48549B49.san.res.rr.com) (Client exited)
[22:36:00] *** Joins: willingc (willingc@moz-48549B49.san.res.rr.com)
[22:37:02] *** Quits: victorporof (victorporo@970BB0A1.F7F04062.79933D60.IP) (Quit: victorporof)
[22:39:21] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[22:39:21] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[22:39:53] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[22:41:43] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[22:41:46] *** Quits: bt3ze (bt3ze@moz-14F5C128.bootp.virginia.edu) (Client exited)
[22:42:17] *** Joins: bt3ze (bt3ze@moz-14F5C128.bootp.virginia.edu)
[22:43:04] *** Quits: synackse (jordyd@moz-649A8B11.seg36.ucf.edu) (Ping timeout)
[22:43:12] *** Quits: bt3ze (bt3ze@moz-14F5C128.bootp.virginia.edu) (Connection reset by peer)
[22:43:18] *** Quits: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com) (Quit: brendan)
[22:43:23] *** Joins: bt3ze (bt3ze@moz-14F5C128.bootp.virginia.edu)
[22:44:01] *** Joins: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com)
[22:44:16] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[22:45:45] *** Quits: bt3ze (bt3ze@moz-14F5C128.bootp.virginia.edu) (Client exited)
[22:46:16] *** Joins: bt3ze (bt3ze@moz-14F5C128.bootp.virginia.edu)
[22:46:24] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Ping timeout)
[22:46:28] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:46:59] *** Quits: nif (nif@moz-8181E2AC.oberlin.net) (Quit: Konversation terminated!)
[22:47:12] *** Quits: willingc (willingc@moz-48549B49.san.res.rr.com) (Client exited)
[22:47:55] *** Quits: bt3ze (bt3ze@moz-14F5C128.bootp.virginia.edu) (Ping timeout)
[22:48:56] *** Joins: claudiuc (claudiuc@moz-33191099.thefacebook.com)
[22:49:33] *** Quits: trecer (trecer@moz-36BEFC79.hsd1.pa.comcast.net) (Quit: Computer has gone to sleep.)
[22:50:10] *** Joins: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com)
[22:50:20] *** Quits: claudiuc (claudiuc@moz-33191099.thefacebook.com) (Connection reset by peer)
[22:50:57] <Jesin> "value assigned to `n` is never read, #[warn(dead_assignment)] on by default n <<= 64 - (2 * i);"
[22:50:59] *** Quits: gwty (gwtypc@ED137413.D804B340.F44414AF.IP) (Ping timeout)
[22:51:45] <strcat> Jesin: what's the context?
[22:51:53] <strcat> rusti: let mut x = 5; x = 10; x
[22:51:58] -rusti- <anon>:10:13: 10:18 warning: value assigned to `x` is never read, #[warn(dead_assignment)] on by default
[22:51:58] -rusti- <anon>:10         let mut x = 5; x = 10; x
[22:51:58] -rusti-                       ^~~~~
[22:51:58] -rusti- timeout triggered!
[22:52:01] <strcat> the value 5 is never read there
[22:52:06] <strcat> rusti: let mut x = 5; x = 10; x
[22:52:07] -rusti- <anon>:10:13: 10:18 warning: value assigned to `x` is never read, #[warn(dead_assignment)] on by default
[22:52:08] -rusti- <anon>:10         let mut x = 5; x = 10; x
[22:52:08] -rusti-                       ^~~~~
[22:52:08] -rusti- 10
[22:52:20] <Jesin> rusti: let mut x = 5; x <<= 1; x
[22:52:21] *** Quits: dherman (dherman@moz-21F91504.cfw-a-gci.corp.yahoo.com) (Quit: dherman)
[22:52:21] -rusti- 10
[22:52:24] <Jesin> ...
[22:52:39] <Jesin> I am using rust 0.9; perhaps it has been fixed since then?
[22:53:24] <strcat> dunno.
[22:53:26] <Jesin> strcat: the line that generates the warning is "n <<= 64 - (2 * i);"
[22:53:43] <Armavica> do you use n afterwards?
[22:53:47] *** Quits: jdm (jdm@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Input/output error)
[22:53:58] *** Joins: jdm (jdm@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[22:53:58] *** ChanServ sets mode: +o jdm
[22:54:03] <Jesin> rusti: let mut x = 5; x <<= 1;
[22:54:10] -rusti- pastebinned 13 lines of output: http://ix.io/adx
[22:54:17] <Jesin> Armavica: I do not
[22:54:30] <strcat> if you're not using it and it's a local variable, then the warning is accurate
[22:54:32] <Jesin> that'd probably be it
[22:54:34] <Jesin> alright
[22:56:14] <SiegeLord> Hmm, rustdoc's search isn't searching re-exports properly
[22:57:15] <SiegeLord> And it's showing re-exports as if they are present in the place they are re-exported in
[22:57:42] *** Quits: sellout (Adium@2917A62E.8B65BA63.1D2A2C57.IP) (Quit: Leaving.)
[22:58:29] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[22:59:11] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Quit: Leaving)
[22:59:57] *** Quits: amir (amir@moz-49060BB9.cust.bluewin.ch) (Ping timeout)
[23:00:36] *** Joins: assaf__ (assaf@137E1AC7.42642A4D.FDFCFC19.IP)
[23:01:33] *** Quits: assaf758 (assaf@moz-1C6FC170.cable.012.net.il) (Ping timeout)
[23:02:45] <acrichto> SiegeLord: that's on purpose
[23:02:52] <acrichto> you don't use a type from its private path
[23:02:56] <acrichto> you use it from the reexported path
[23:03:04] <SiegeLord> What if they are re-exported twice?
[23:03:10] *** Quits: igork (igork@moz-D312758C.broadband.corbina.ru) (Quit: Leaving)
[23:03:24] <acrichto> they get inlined twice
[23:03:37] <acrichto> it's also only inlined if the original type isn't reachable publicly
[23:05:59] *** Joins: synackse (jordyd@moz-C806653C.seg157.ucf.edu)
[23:06:03] <SiegeLord> Hmm... I bet the search issue is related to this somehow. Will have to find time to look into it
[23:06:50] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[23:07:12] *** Joins: ecl3ctic (Mibbit@moz-E1FAD64C.wzfv1.vic.bigpond.net.au)
[23:07:22] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:08:57] *** Quits: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com) (Quit: brendan)
[23:09:08] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[23:09:14] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[23:09:14] *** ChanServ sets mode: +ao brson brson
[23:09:21] *** Joins: marianoguerra (marianogue@moz-2E312DB6.dip0.t-ipconnect.de)
[23:10:41] <Hildar> "for (playerID, handle) in handles.iter()" gives me "mismatched types: expected Foo but got tuple (types differ)". I can't see why it can't work out the types automagically, but how do I specify the type of a tuple explicitly?
[23:10:50] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Connection reset by peer)
[23:11:13] *** Joins: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com)
[23:12:32] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[23:12:44] <aatch> Hildar, what is 'handles'?
[23:12:51] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[23:12:53] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[23:13:10] <aatch> Tuples are types, so 'type of tuple' doesn't mean anything.
[23:13:34] <aatch> (like saying, "what's the type of `int`?" it's just `int`)
[23:14:42] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[23:15:37] <Hildar> aatch: Handles is a ~[(int, std::comm::select::Handle<~str>)] if it helps.
[23:16:36] <aatch> Hildar, well that for-loop should work fine then. You're gonna have to post more code.
[23:17:30] <Hildar> aatch : Let me make a simple test case if I can. 2 seconds
[23:18:07] *** Quits: Ferreus (ferreus@moz-F5970D26.pools.arcor-ip.net) (Quit: WeeChat 0.4.3-dev)
[23:18:45] <sp3d> Hildar: try "&(playerID, handle)"?
[23:20:20] *** Joins: dherman (dherman@moz-21F91504.cfw-a-gci.corp.yahoo.com)
[23:20:20] *** ChanServ sets mode: +ao dherman dherman
[23:20:42] *** Joins: heftig (heftig@moz-B2F814E.dip0.t-ipconnect.de)
[23:20:43] *** Joins: lenstr (lenstr@16F2C643.9636F313.7A27613B.IP)
[23:20:47] <Hildar> sp3d:That fixes it in a simple test case, thanks. (Different error all together now, but meh, that's unrelated I think)
[23:21:58] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[23:22:26] *** Quits: lenstr (lenstr@16F2C643.9636F313.7A27613B.IP) (Ping timeout)
[23:22:54] *** Quits: shamansir (shamansir@moz-10B8BE98.superkabel.de) (Quit: shamansir)
[23:28:55] *** Joins: new_one (new_one@75DA6967.1BCA12AB.B3C0173E.IP)
[23:29:28] *** Quits: marianoguerra (marianogue@moz-2E312DB6.dip0.t-ipconnect.de) (Ping timeout)
[23:29:56] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[23:31:28] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[23:31:40] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[23:32:16] *** Joins: nif (nif@moz-8181E2AC.oberlin.net)
[23:33:04] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[23:33:17] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[23:34:10] <Hildar> "rust must abort now. so sorry."
[23:34:14] <Hildar> I think I broke it.
[23:34:28] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[23:35:30] <brson> Hildar: no, you won
[23:35:58] *** Quits: pnkfelix (pnkfelix@moz-B1D2E7D0.pck.nerim.net) (Quit: rcirc on GNU Emacs 24.3.1)
[23:37:51] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:37:53] <Hildar> brson: Is it worth filling a bug report? I crashed by accessing a zero length ~[T], then it crashed in stack unwinding and then got a SIGILL.
[23:39:09] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:39:24] <strcat> it will do SIGILL on out-of-memory
[23:39:39] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[23:39:57] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[23:40:01] <strcat> abort just runs some invalid instruction
[23:40:13] <Hildar> SIGILL is just the "This probabally isn't going to get caught and will cause a core dump" signal for rust?
[23:40:49] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[23:40:56] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[23:40:59] <strcat> well abort causes a platform-dependent abnormal execution
[23:41:06] <flaper87> bstrie_rules: are you the subreddit admin ? (besides huon)
[23:41:17] <strcat> out-of-memory calls abort, so that's probably why you are getting SIGILL (although not necessarily)
[23:41:24] <flaper87> no idea who azth is :P
[23:41:38] *** Quits: twi (Adium@moz-B47EFC08.dyn.iinet.net.au) (Quit: Leaving.)
[23:41:49] <flaper87> ah nevermind, there's a message the moderators link there
[23:41:56] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[23:43:16] *** Joins: sellout (Adium@moz-CF70CF20.hlrn.qwest.net)
[23:43:30] *** Joins: Denommus (user@7E2BB591.CBEEDAD3.AD91B79.IP)
[23:43:40] <Denommus> hi
[23:44:05] <jasom>  error: type `std::rand::XorShiftRng` does not implement any method in scope named `gen` <-- am I missing something?
[23:44:05] <Denommus> if rustpkg is being deprecated, what should I be using instead? Pure makefiles? Cargo-lite?
[23:44:15] <Hildar> strcat : It's aborting because it's hitting an second failure during 'task unwinding' after a failed assert!
[23:44:16] *** Joins: twi (Adium@moz-B47EFC08.dyn.iinet.net.au)
[23:44:22] <strcat> ah
[23:44:43] *** Joins: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net)
[23:44:54] *** Quits: Zylinski (karl@moz-58495553.static.spa.siw.siwnet.net) (Quit: )
[23:44:58] <strcat> bstrie_rules: can you make the flair text black? it's too low contrast
[23:45:00] <strcat> ;p
[23:45:01] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[23:45:46] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[23:45:57] *** Quits: twi (Adium@moz-B47EFC08.dyn.iinet.net.au) (Ping timeout)
[23:46:06] *** Quits: hoverbear (hoverbear@moz-10F648A4.wireless.uvic.ca) (Quit: Taking a nap.)
[23:46:25] *** Quits: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[23:47:04] <_achin> jasom: did you "use std::rand::Rng;" ?
[23:47:05] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Ping timeout)
[23:47:14] *** Joins: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net)
[23:47:30] *** Quits: zwarich (zwarich@A89ECEB1.A86FC3A7.DE9B45B6.IP) (Ping timeout)
[23:47:30] *** Quits: synackse (jordyd@moz-C806653C.seg157.ucf.edu) (Ping timeout)
[23:47:59] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[23:49:06] <jasom> _achin: I didn't know I had to expressly use the trait to get the method.  Now I know.
[23:50:26] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[23:51:39] *** flaper87 is now known as flaper87|afk
[23:51:52] *** Joins: a_m0d (a_m0d@moz-2F294D00.acanac.net)
[23:51:59] *** Joins: twi (Adium@moz-B47EFC08.dyn.iinet.net.au)
[23:54:17] *** Joins: tavoe (tavoe@995996B7.ED1B00DF.5FDBC370.IP)
[23:54:17] *** Quits: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[23:56:57] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[23:58:17] *** Quits: Hildar (Mibbit@moz-7F4621B6.cable.virginm.net) (Quit: http://www.mibbit.com ajax IRC Client)
[23:58:31] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:58:50] *** Quits: skade (skade@moz-A9055F8E.netcologne.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:59:02] *** Quits: avsej (avsej@D9A610B8.4841F515.FB33447D.IP) (Ping timeout)
[23:59:25] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[23:59:35] *** Joins: avsej (avsej@D9A610B8.4841F515.FB33447D.IP)
