[00:00:09] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[00:00:18] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[00:00:26] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:01:15] *** Quits: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[00:02:07] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[00:02:21] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:03:14] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[00:03:38] <mitsuhiko> is anyone actually using rustpkg for development?
[00:03:39] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[00:03:43] *** Quits: Blub\0 (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[00:03:46] <cmr> unlikely.
[00:03:49] *** Quits: a_m0d (a_m0d@moz-2F294D00.acanac.net) (Quit: Leaving.)
[00:03:51] <cmr> bjz tried and gave up.
[00:03:59] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:04:03] <cmr> servo tried, and afaik almost(!) succeeded.
[00:04:03] <sfackler> I was for a while and then gave up this weekend
[00:04:09] <bjz> heh
[00:04:14] <cmr> I have also tried and given up :(
[00:04:32] *** Joins: canhtak (canhtak@moz-6D20A1A6.wl.t.ulaval.ca)
[00:04:39] * kimundi is glad he never tried
[00:04:47] <bjz> I have lots of libs, organised quite specifically
[00:04:54] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:04:54] <bjz> especially things like gl-rs
[00:04:56] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[00:05:18] *** Joins: Blub\0 (wry@620605B3.71150E1A.237AE2BA.IP)
[00:05:21] <bjz> or cgmath - which has an external test-suite and bench thingy
[00:05:44] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:05:47] <mitsuhiko> bjz: how do you develop on those?
[00:05:47] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[00:05:50] <bjz> rustpkg only really works for the simplest case
[00:05:51] <mitsuhiko> since your repos have no makefiles
[00:06:10] <bjz> mitsuhiko: well, I really need to move lots of them to CMake
[00:06:34] <cmr> bjz: btw I'm polishing up cargo-lite and porting all your libs to it, once I'm done my schoolwork for the day, or in 2 hours, whichever comes first.
[00:06:37] * bjz has lots of things on the go
[00:06:44] <bjz> cmr: nice!
[00:07:27] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[00:07:31] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:07:37] <bjz> mitsuhiko: currently my brain is blocking on lots of my tasks. I don't have a super-uber concurrent brain like acrichto x]
[00:08:18] *** Quits: tq (tq@moz-9FE9CCF4.a251.priv.bahnhof.se) (Quit: tq)
[00:08:46] * bjz is sure that acrichto has spooled 8 brain tasks and has 16 hands
[00:08:49] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[00:09:01] <acrichto> don't tell anyone my secrets!
[00:09:05] <bjz> :D
[00:09:21] <cmr> libwet, the rust-human interface, drives acrichto
[00:09:30] <cmr> that's the *real* reason behind the runtime restructure!
[00:09:41] *** Quits: bytbox (s@moz-54E13927.washdc.fios.verizon.net) (Ping timeout)
[00:09:44] <mitsuhiko> bjz: so how do you develop then?
[00:09:46] <mitsuhiko> manually invoke rustc?
[00:09:47] <aatch> Nah, I think acrichto just has a really advanced asynchronous execution implementation.
[00:09:48] <cmr> (c.f. http://en.wikipedia.org/wiki/Wetware_%28brain%29)
[00:09:56] *** Quits: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP) (Ping timeout)
[00:10:11] <cmr> mitsuhiko: that's what I do.
[00:10:23] *** Joins: bytbox (s@moz-54E13927.washdc.fios.verizon.net)
[00:10:23] *** Quits: crail (crail@moz-D7728DCD.dhcp.insightbb.com) (Broken pipe)
[00:10:37] <bjz> mitsuhiko: yup
[00:10:51] <bjz> mitsuhiko: look at the .travis.ymls
[00:11:13] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[00:11:14] <mitsuhiko>   - rustpkg build gl
[00:11:15] <mitsuhiko> :P
[00:11:26] *** Joins: recrack (Mibbit@5AB4884B.FCC4549.14D5B978.IP)
[00:12:33] *** Quits: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de) (Connection reset by peer)
[00:13:17] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[00:14:18] *** Joins: crail (crail@moz-D7728DCD.dhcp.insightbb.com)
[00:14:38] <bjz> ahh
[00:14:51] <bjz> hah, we still use tat it seems then
[00:15:12] *** Joins: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP)
[00:16:02] <bjz> the travis stuff 'just works' atm - haven't really looked at them in a while. dunno if it invalidates our claims that 'rustpkg is broked and hard to use'
[00:17:27] <mitsuhiko> i love the idea of rustpkg
[00:17:31] <mitsuhiko> it's just the execution that's bad :D
[00:17:47] <mitsuhiko> i hope it does not go the way of rusti just because it's broken
[00:19:13] <mcpherrin> not to jinx it, but I kinda feel it is
[00:19:15] <aatch> mitsuhiko, it's more likely to go the way of rustdoc
[00:19:30] <mcpherrin> as in a -ng rewrite?
[00:19:34] <aatch> re-evaluation and then re-implementation
[00:19:43] <mitsuhiko> isn't rustpkg already v2?
[00:19:45] <mitsuhiko> :)
[00:20:54] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[00:20:54] *** Quits: pauls (pauls@moz-7140CF01.ccs.neu.edu) (Ping timeout)
[00:21:24] <bjz> mitsuhiko: have you done much hacking on rustc or the libs
[00:21:38] *** Quits: Earnestly (earnest@moz-E86D50FA.dyn.plus.net) (Quit: WeeChat 0.4.3-dev)
[00:21:38] *** Joins: pauls (pauls@moz-7140CF01.ccs.neu.edu)
[00:21:44] <mitsuhiko> bjz: no. the iteration times frustrate me too much
[00:21:47] <mitsuhiko> i'm a selfish bastard
[00:22:59] <cmr> rustpkg is cargo2
[00:23:08] <cmr> s/bastard/coward/ ;P
[00:23:45] <mitsuhiko> cmr: so how do people develop on the stdlib?
[00:23:56] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[00:23:56] <mitsuhiko> my process has been copying code into a separate file, develop there, then move it back :)
[00:24:24] *** Joins: brson (brson@moz-C07D5168.p2p.sfo1.mozilla.com)
[00:24:24] *** ChanServ sets mode: +ao brson brson
[00:25:00] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:25:07] <cmr> mitsuhiko: make check-stage1-std NO_REBUILD=1
[00:25:16] <cmr> (and NO_BENCH=1)
[00:26:31] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[00:26:41] <mitsuhiko> will give that another try
[00:26:45] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:26:51] <mitsuhiko> i wanted to add something anyways :)
[00:28:15] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[00:28:32] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:29:10] *** Joins: cwmma (cmetcalf@moz-468348D6.hsd1.ma.comcast.net)
[00:30:17] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[00:30:19] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:31:08] *** Quits: new_one (new_one@27570337.92B2BFC6.B3C0173E.IP) (Client exited)
[00:31:28] <bjz> mitsuhiko: the reason I say it is that whenever you run `make check` a whole swathe of rustpkg tests fail
[00:31:31] *** Quits: lennart (lennart@moz-DE70D6F.stanford.edu) (Quit: Lost terminal)
[00:31:39] <bjz> mitsuhiko: bors is set just to ignore them
[00:31:46] <bjz> :P
[00:31:46] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[00:32:06] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:32:21] *** Joins: hoverbear (hoverbear@moz-A73BC514.wireless.uvic.ca)
[00:33:29] *** cwmma is now known as calvinmetcalf
[00:33:36] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[00:33:53] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:33:54] *** Quits: sammykim_ (sammy.kim@5AB4884B.FCC4549.14D5B978.IP) (Quit: Lost terminal)
[00:35:36] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[00:35:36] *** Quits: calvinmetcalf (cmetcalf@moz-468348D6.hsd1.ma.comcast.net) (Quit: calvinmetcalf)
[00:35:39] *** Joins: calvinmetcalf (cmetcalf@moz-468348D6.hsd1.ma.comcast.net)
[00:35:40] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:35:52] *** Quits: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP) (Ping timeout)
[00:36:01] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[00:36:33] *** Quits: calvinmetcalf (cmetcalf@moz-468348D6.hsd1.ma.comcast.net) (Quit: calvinmetcalf)
[00:37:08] *** Quits: nszceta (quassel@moz-E458A7C0.pharm.pitt.edu) (Ping timeout)
[00:37:09] *** Joins: calvinmetcalf (cmetcalf@moz-468348D6.hsd1.ma.comcast.net)
[00:37:21] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[00:37:25] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:39:07] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[00:39:12] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:39:19] *** jorendorff_away is now known as jorendorff
[00:40:22] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[00:40:33] *** Joins: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP)
[00:40:56] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[00:40:56] *** Joins: nszceta (quassel@moz-E458A7C0.pharm.pitt.edu)
[00:40:58] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:41:10] *** Quits: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP) (Input/output error)
[00:42:02] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[00:42:22] *** flaper87 is now known as flaper87|afk
[00:42:39] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[00:42:45] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:43:00] *** Quits: canhtak (canhtak@moz-6D20A1A6.wl.t.ulaval.ca) (Quit: canhtak)
[00:43:47] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[00:44:10] *** Joins: capdevc (ccapdevi@moz-3D37FF03.eecs.utk.edu)
[00:44:28] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[00:44:32] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:45:07] *** Quits: brson (brson@moz-C07D5168.p2p.sfo1.mozilla.com) (Ping timeout)
[00:45:59] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[00:46:19] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:46:22] *** Joins: Mathias (Mibbit@moz-E9EEAB4.cpe.webspeed.dk)
[00:46:32] *** Quits: recrack (Mibbit@5AB4884B.FCC4549.14D5B978.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:46:46] *** Joins: a_m0d (a_m0d@moz-2F294D00.acanac.net)
[00:47:46] *** Joins: canhtak (canhtak@moz-6D20A1A6.wl.t.ulaval.ca)
[00:48:02] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[00:48:06] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:48:41] *** Joins: brson (brson@moz-C07D5168.p2p.sfo1.mozilla.com)
[00:48:42] *** ChanServ sets mode: +ao brson brson
[00:49:51] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[00:49:53] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:50:08] *** Joins: erickt1 (Adium@8C9ECD8F.3A598286.F12515B4.IP)
[00:50:14] *** Joins: sammykim (sammy.kim@5AB4884B.FCC4549.14D5B978.IP)
[00:51:36] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[00:51:40] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:52:00] *** Quits: erickt1 (Adium@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[00:53:21] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[00:53:27] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:55:09] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[00:55:14] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:56:22] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[00:56:59] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[00:57:02] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:57:15] *** Quits: hoverbear (hoverbear@moz-A73BC514.wireless.uvic.ca) (Quit: Taking a nap.)
[00:57:24] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[00:58:22] *** jorendorff is now known as jorendorff_away
[00:58:43] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[00:58:47] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:59:09] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[00:59:56] *** Quits: Hildar (Mibbit@moz-7F4621B6.cable.virginm.net) (Quit: http://www.mibbit.com ajax IRC Client)
[01:00:33] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[01:00:33] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:02:02] *** Quits: rootnode (rootnode@moz-7FAB5E8.ip1.george24.com) (Ping timeout)
[01:02:16] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[01:02:20] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:02:21] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[01:02:33] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[01:02:39] *** Joins: robarnold (rob@moz-59F6B5.hfc.comcastbusiness.net)
[01:03:14] *** Joins: notmatt_ (notmatt@DC28CF5D.F9CD85DB.47C41102.IP)
[01:03:39] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[01:04:06] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[01:04:07] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:05:02] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[01:05:47] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[01:05:52] *** Quits: notmatt_ (notmatt@DC28CF5D.F9CD85DB.47C41102.IP) (Ping timeout)
[01:05:54] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:07:35] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[01:07:42] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:09:24] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[01:09:28] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:10:55] *** Parts: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) ()
[01:11:15] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:11:15] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[01:12:26] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[01:12:57] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[01:13:02] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:13:24] *** Joins: zmthy (zmthy@moz-C2881CC3.ecs.vuw.ac.nz)
[01:14:45] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[01:14:48] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:16:35] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:16:37] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[01:17:10] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[01:17:25] <_achin> follow up question to the recent mailing list post about implicit copying -- if i had a POD structure that i did *not* want to be implicitly copyable, how would i indicate that?
[01:17:26] <aatch> dredozub_, your client is bugging out.
[01:18:00] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[01:18:09] <aatch> _achin, add either a Drop impl or a dummy NonCopyable field
[01:18:11] <mitsuhiko> _achin: adding an impl for Drop
[01:18:22] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:18:23] <aatch> NonCopyable is a unit struct.
[01:18:59] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[01:19:03] <aatch> Actually, the NonCopyable way is better, since it doesn't add a drop flag.
[01:19:33] <_achin> how does that look, exactly?
[01:19:36] <kimundi> struct Foo { field1: T1, filed2: T2, nc: NonCopyable }
[01:19:52] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[01:20:00] <_achin> ah
[01:20:08] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:20:16] <aatch> NonCopyable only exists at compile time, btw. Since it's zero-length
[01:20:18] <_achin> is NonCopyable implemented as part of the stdlib?  or does it involve something baked into the compiler?
[01:20:32] <aatch> It's in the stdlib
[01:20:39] <dbaupp> _achin: it is currently purely in the stdlib
[01:20:54] <dbaupp> but it may be changing, because of a few problems it causes
[01:21:11] <dbaupp> (there's an open PR changing it, in fact.)
[01:21:12] <_achin> such as?
[01:21:24] <_achin> oh, excellent, i'll go search for that
[01:21:30] * kimundi still thinks, no matter how many advantages and simplifications it brings, adding a field to your struct just for an effect on that type looks ugly.
[01:21:54] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[01:21:56] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:22:25] <aatch> kimundi, yeah, but it's not too common.
[01:22:31] <kimundi> true
[01:22:43] <mitsuhiko> i still think it shoudl be an attribute
[01:22:49] <_achin> that's why i asked if it was part of the stdlib.   if it was, it seems like i could use whatever tricks are used to make NonCopyable non-copyable apply to my struct directly
[01:23:40] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[01:23:43] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:23:54] <dbaupp> _achin: https://github.com/mozilla/rust/pull/11697 is the PR
[01:23:55] <mitsuhiko> _achin: it's just a thing with a Drop i think
[01:23:57] <kimundi> _achin: implement Drop, add a #[unsafe_no_drop_flag] attribute :P
[01:24:18] <aatch> Though the unsafe_no_drop_flag will go away eventually
[01:24:26] <_achin> what exactly is a drop flag?
[01:24:27] <aatch> once we have flow-based destruction
[01:24:28] <dbaupp> _achin: https://github.com/mozilla/rust/issues/10577 is (one of) the problems
[01:24:49] *** jorendorff_away is now known as jorendorff
[01:25:26] *** jorendorff is now known as jorendorff_away
[01:25:27] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[01:25:29] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:25:51] <mitsuhiko> what was the reason #[non_copyable] was removed?
[01:27:10] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[01:27:16] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:27:19] *** Quits: nszceta (quassel@moz-E458A7C0.pharm.pitt.edu) (Input/output error)
[01:27:53] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[01:28:06] <dbaupp> mitsuhiko: https://github.com/mozilla/rust/issues/10834
[01:28:43] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[01:28:54] <dbaupp> (that's from after #[non_copyable] was removed, but I believe the reasoning for moving it to the libraries is the same.)
[01:29:04] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:30:47] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[01:30:49] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:32:00] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[01:32:32] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[01:32:37] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:33:10] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[01:33:17] <Mathias> Has anyone attempted to punch a hole in issue #7744?
[01:34:21] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[01:34:23] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:34:33] *** Joins: epdtry (stuart@moz-C31FC981.hsd1.wa.comcast.net)
[01:34:55] <dbaupp> Mathias: given the lack of activity, I'd guess no
[01:35:45] <Mathias> Alright.
[01:36:04] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Client exited)
[01:36:10] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:36:12] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[01:36:41] *** Quits: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP) (Ping timeout)
[01:37:55] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[01:37:57] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:39:44] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[01:39:44] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:39:48] *** Joins: hoverbear (hoverbear@moz-A73BC514.wireless.uvic.ca)
[01:41:02] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[01:41:29] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[01:41:31] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:41:38] *** Joins: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP)
[01:42:46] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[01:42:49] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[01:43:10] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[01:43:19] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:44:34] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[01:44:39] *** Quits: hoverbear (hoverbear@moz-A73BC514.wireless.uvic.ca) (Quit: Taking a nap.)
[01:45:02] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[01:45:04] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:46:19] *** Quits: Jesin (Jesin@moz-A43618DF.res.lehigh.edu) (Connection reset by peer)
[01:46:34] *** Quits: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net) (Quit: carllerche)
[01:46:50] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[01:46:52] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:47:13] <mitsuhiko> is make check-stage1-std NO_REBUILD=1 really the fastest to work on the stdlib?
[01:48:06] <dbaupp> depends what you're trying to do
[01:48:17] <dbaupp> it's certainly the fastest way to run the full libstd testsuite
[01:48:30] <dbaupp> (NO_BENCH=1 will avoid running the benchmarks)
[01:48:33] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[01:48:40] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:48:46] <dbaupp> if you just wish to compile it, then you can use rustc lib.rs (with a recent-enough rustc)
[01:49:25] <mitsuhiko> dbaupp: and --out-dir?
[01:49:26] <dbaupp> if you only want to check it typechecks etc, rustc --no-trans lib.rs
[01:49:49] *** Quits: Blub\0 (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[01:50:00] *** Quits: capdevc (ccapdevi@moz-3D37FF03.eecs.utk.edu) (Quit: leaving)
[01:50:03] *** Quits: brson (brson@moz-C07D5168.p2p.sfo1.mozilla.com) (Ping timeout)
[01:50:07] *** Joins: brson (brson@moz-C07D5168.p2p.sfo1.mozilla.com)
[01:50:07] *** ChanServ sets mode: +ao brson brson
[01:50:17] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[01:50:26] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:51:21] *** Joins: new_one (new_one@56CC2851.AD901773.B3C0173E.IP)
[01:51:24] <dbaupp> the other option is to use a script like https://gist.github.com/huonw/fe12686f31669cf504f5 , which builds all the std libraries, so that you can use them externally with the stage1/stage2 compiler, without doing the bootstrap
[01:51:33] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[01:51:54] <dbaupp> (I just got that by editing the output of `make rustc-stage1 -n VERSBOSE=1` fwiw)
[01:52:07] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[01:52:12] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:52:22] *** Quits: brson (brson@moz-C07D5168.p2p.sfo1.mozilla.com) (Ping timeout)
[01:52:25] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:52:29] *** Joins: Blub\0 (wry@620605B3.71150E1A.237AE2BA.IP)
[01:52:56] *** Quits: igork (Igor@9C577557.7893D71C.6E0EE79F.IP) (Connection reset by peer)
[01:53:18] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[01:53:36] <dbaupp> yet another option is just copying the relevant file out of the tree and then copying it back in when you've finished fixing/improving/adding
[01:53:48] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[01:54:00] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:54:20] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[01:54:37] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[01:54:53] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[01:55:31] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[01:55:47] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:55:51] <mitsuhiko> is there a way to have an extra method on Iterator<A: ToStr> somehow?
[01:57:29] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[01:57:34] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:59:16] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[01:59:21] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:59:34] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[01:59:35] <aatch> mitsuhiko, you can make a trait with the method then implement it for Iterator<A : ToStr>
[01:59:40] <dbaupp> when's the next Rust meetup?
[01:59:56] <dbaupp> (erm, the bay area ones)
[01:59:57] <aatch> Well, sort of.
[02:00:24] <sfackler> dbaupp: next week I think
[02:00:48] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[02:01:06] <aatch> trait MyExtension { foo(&self) -> ~str } impl<A: ToStr, I: Iterator<A>> MyExtension for I { ... }
[02:01:08] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:01:08] <aatch> I think
[02:01:35] *** kimundi is now known as zz_kimundi
[02:02:08] *** Joins: derek_c (derek@moz-A43430DA.cit.cornell.edu)
[02:02:51] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:02:55] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:02:59] *** Quits: meTaAU (admin@moz-353CB7BE.lns20.per2.internode.on.net) (Ping timeout)
[02:03:33] *** Joins: meTaAU (admin@moz-1078EFD2.lns20.per1.internode.on.net)
[02:04:25] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[02:04:42] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:05:09] *** Joins: ercxx (ercan@moz-88DD3A7E.dyn.optonline.net)
[02:05:11] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[02:06:27] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:06:29] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:06:38] <mitsuhiko> dbaupp: that's what i did last time i tried fixing something
[02:06:42] *** Quits: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP) (Ping timeout)
[02:06:48] <mitsuhiko> ah sorry, read the worng line
[02:06:56] <mitsuhiko> that was a reply to "copying file out for fixing"
[02:07:10] *** Joins: kvanb (kvanb@moz-CC32E42A.vic.bigpond.net.au)
[02:08:12] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:08:14] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:08:26] *** Quits: meTaAU (admin@moz-1078EFD2.lns20.per1.internode.on.net) (Ping timeout)
[02:08:51] *** Joins: meTaAU (admin@moz-81650515.lns20.per2.internode.on.net)
[02:09:42] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[02:10:03] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:11:43] *** Joins: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP)
[02:11:44] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:11:48] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:11:53] *** Joins: amidvidy (user@moz-65F81938.hsd1.ca.comcast.net)
[02:12:40] <amidvidy> is there any way to specify a timeout when creating a TcpStream?
[02:13:28] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:13:37] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:14:03] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[02:14:18] *** Quits: anasyrma (x@moz-DE175E38.caltech.edu) (Ping timeout)
[02:15:16] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:15:17] *** Joins: anasyrma (x@moz-DE175E38.caltech.edu)
[02:15:22] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:16:45] <ercxx> amidvidy: Looking at the docs, I don't think so.
[02:16:49] *** Quits: derek_c (derek@moz-A43430DA.cit.cornell.edu) (Ping timeout)
[02:16:51] *** Quits: calvinmetcalf (cmetcalf@moz-468348D6.hsd1.ma.comcast.net) (Quit: calvinmetcalf)
[02:17:02] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:17:08] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:17:08] <ercxx> There's one of these in a TcpStream: http://static.rust-lang.org/doc/master/std/rt/rtio/trait.RtioTcpStream.html
[02:17:27] <ercxx> it has some more stuff but it's not exposed.
[02:18:27] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[02:18:52] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:18:55] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:19:00] <amidvidy> hmm. I'm trying to write a port scanner so I need to be able to time out when the port is closed instead of just blocking indefinitely.
[02:19:19] <amidvidy> probably going to look at the libc functions then, thanks
[02:19:23] *** Quits: echristo (echristo@E55635C9.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[02:19:41] *** Joins: herrwolfe45 (user@moz-3F0F09A7.cm.sunflower.com)
[02:19:42] <ercxx> You might be able to use rtio stuff, but I don't think you're supposed to.
[02:20:28] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[02:20:43] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:21:01] <herrwolfe45> how would one create a fixed length array in rust? I've gone through the docs and I've not found the syntax.
[02:21:22] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[02:21:26] <herrwolfe45> this would be an array of x length that will have mutable elements
[02:21:27] <yuriks> herrwolfe45: [0, ..100]
[02:21:47] <yuriks> (0 being the default value, 100 the length)
[02:22:12] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[02:22:19] <herrwolfe45> if i want it to be of type int, would i provide an argument anywhere?
[02:22:26] <herrwolfe45> also - thanks yuriks 
[02:22:30] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:23:06] <herrwolfe45> or would it specified on the lhs
[02:23:14] <Yurume> herrwolfe45: [0i, ..100]
[02:23:17] <mcpherrin> herrwolfe45: lhs or from the constant
[02:23:20] <herrwolfe45> ok
[02:23:25] <herrwolfe45> thank you
[02:23:36] <Yurume> or you let the compiler infer the type via: let v: [int, ..100] = [0i, ..100];
[02:23:54] <mcpherrin> well in that example there's nothing to infer :P
[02:23:58] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[02:24:16] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:25:21] *** Joins: roy (user@C73C171E.DECA0B3A.874BDE0C.IP)
[02:25:30] *** Quits: roy (user@C73C171E.DECA0B3A.874BDE0C.IP) (Client exited)
[02:26:01] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:26:01] *** Quits: meTaAU (admin@moz-81650515.lns20.per2.internode.on.net) (Ping timeout)
[02:26:03] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:26:21] *** Joins: meTaAU (admin@moz-1E93A023.lns20.per1.internode.on.net)
[02:27:45] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:27:51] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:28:04] *** Quits: amidvidy (user@moz-65F81938.hsd1.ca.comcast.net) (Ping timeout)
[02:28:18] *** Quits: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP) (Quit: Computer has gone to sleep.)
[02:29:35] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:29:36] *** Joins: psquid (psquid@moz-5FD88866.threembb.co.uk)
[02:29:37] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:30:54] <seanmonstar> does rust-http currently not install with rustpkg?
[02:31:19] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[02:31:22] <seanmonstar> such that extern mod http = "github.com/christ-morgan/rust-http" doesn't work?
[02:31:24] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:31:35] *** Quits: jdm (jdm@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: Lost terminal)
[02:32:32] *** Joins: bmats_ (bmats@moz-87F0A991.hfc.comcastbusiness.net)
[02:33:06] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:33:12] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:33:19] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[02:33:41] *** Quits: bmats (bmats@moz-87F0A991.hfc.comcastbusiness.net) (Ping timeout)
[02:33:47] *** Joins: allengreen (allengreen@23EC7517.BA8F7FB5.569EBC30.IP)
[02:33:51] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[02:34:15] *** Quits: bmats_ (bmats@moz-87F0A991.hfc.comcastbusiness.net) (Ping timeout)
[02:34:17] <bvssvni> seanmonstar: it uses make
[02:34:25] *** Quits: azakai_ (alon@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[02:34:32] <allengreen> is go better than rust?
[02:34:45] <ercxx> allengreen: :)
[02:34:45] <dbaupp> allengreen: different use cases.
[02:34:53] <Yurume> allengreen: go is better than rust in particular area,  rust is better than go in particular area.
[02:34:56] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:34:58] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:34:59] <bvssvni> seanmonstar: I guess you can compile it and put it in the 'lib' folder
[02:35:06] <herrwolfe45> to convert a single byte to a uint, parse_bytes doesn't seem to be the correct choice. Should one perform a cast instead?
[02:35:36] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[02:35:39] <Yurume> yes, casting works. (8u8 as uint)
[02:35:45] <allengreen> what's the fundamental difference?
[02:36:04] <herrwolfe45> thanks Yurume
[02:36:13] *** Joins: derek_c (derek@moz-78CFE167.cit.cornell.edu)
[02:36:27] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[02:36:33] <bvssvni> allengreen: Go is not designed for squeezing every cycle out of the computer
[02:36:45] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:38:32] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[02:38:32] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:38:45] <bvssvni> allengreen: Rust is designed for high performance, but it also makes it more complicated
[02:38:53] <steveklabnik> ehhhhh
[02:38:57] <steveklabnik> i wouldn't say MORE
[02:38:59] <steveklabnik> i'd say different
[02:39:30] <Yurume> allengreen: quoting the HN comment: "Rust is a high-level systems programming language. Go is a low-level managed language runtime."
[02:39:41] <herrwolfe45> Yurume: is the to_int function not intended to convert a byte to an int? I ask because it looks to return a `Some(<val of byte>)` if called.
[02:40:08] <Yurume> herrwolfe45: it is intended to check for overflows.
[02:40:16] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:40:16] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:40:28] <mcpherrin> Eugh, what's the method on a &[T] to copy it into a ~T?
[02:40:30] <Yurume> rusti: (78u.to_u8(), 5678u.to_u8())
[02:40:31] -rusti- (Some(78u8), None)
[02:40:33] *** Joins: jadbaires (jadrian@EDD87170.7EACDDD1.6119BA41.IP)
[02:40:46] <mcpherrin> (I am in #[no_std] code if that matters)
[02:40:49] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[02:40:51] <uberj> https://pastebin.mozilla.org/4069418 not the *most* helpful, but at least it's letting me know something is wrong?
[02:41:02] <Yurume> mcpherrin: copy_from... awwwwww :)
[02:41:03] <dbaupp> mcpherrin: you have to write it yourself
[02:41:27] <herrwolfe45> ok that makes sense, so really i would only want to to use this if I think that i might not actually be passing a u8 byte when my function expects a u8 byte
[02:41:40] <Yurume> uberj: wow, hilarious. could you post the source code?
[02:41:43] <dbaupp> uberj: looks like you're shadowing a generic; are you inside a method?
[02:41:54] <Yurume> that... might be possible as well.
[02:42:01] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:42:04] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:43:07] <uberj> dbaupp: what do you mean "shadowing a generic"?
[02:43:25] <dbaupp> uberj: impl<T> Foo<T> { fn bar<T>(...) { ... } }
[02:43:33] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[02:43:35] <uberj> yep
[02:43:35] *** Quits: leslie (Adium@802083C6.67DB9176.67D29DD9.IP) (Quit: Leaving.)
[02:43:36] *** Joins: leslie (Adium@moz-454B76DB.members.linode.com)
[02:43:46] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[02:43:51] <dbaupp> the bar<T> is declaring a new type parameter that happens to be called 'T', but it's different to the impl<T>
[02:43:51] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:44:05] <dbaupp> can normally be fixed by deleting the <T> on the method
[02:44:06] <uberj> dbaupp: okay, error message is better now :P
[02:44:47] *** Quits: jadbaires (jadrian@EDD87170.7EACDDD1.6119BA41.IP) (Quit: Konversation terminated!)
[02:45:17] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[02:45:25] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[02:45:35] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[02:45:35] <seanmonstar> bvssvni: once compiled, it should go in ./.rust/libhttp-* ?
[02:45:37] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:45:41] <uberj> dbaupp: thanks! that was indeed the problem
[02:45:42] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[02:46:28] *** Joins: hacker_s_ (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[02:46:31] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Ping timeout)
[02:47:02] <bvssvni> seanmonster: I actually never done this, or I don't remember doing it :P
[02:47:18] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:47:21] <bvssvni> seanmonstar: ^
[02:47:22] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[02:47:24] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:47:33] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[02:47:39] <seanmonstar> bvssvni: ah. i cloned it and made it, and now im trying to figure how to get rustc to be happy
[02:47:54] *** Quits: leslie (Adium@moz-454B76DB.members.linode.com) (Ping timeout)
[02:48:02] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[02:48:09] <mcpherrin> How do I transmute in no_std code?
[02:48:33] <bvssvni> seanmonstar: I got some compiler errors last time I tried, so I am waiting for update to master to be merged
[02:48:36] <mcpherrin> oh, extern "rust-intrinsic"
[02:48:46] <dbaupp> extern "rust-intrinsic" { fn transmute<T, U> (x: U) -> T; }
[02:48:58] <seanmonstar> bvssvni: i checked out the rust-0.9-compatible branch, and it built for me
[02:49:05] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:49:12] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:49:14] <dbaupp> mcpherrin: https://github.com/mozilla/rust/blob/master/src/libstd/unstable/intrinsics.rs#L171 has a pile of goodies
[02:49:23] <seanmonstar> though, i have 0.9 installed, not tracking master
[02:49:24] <dbaupp> mcpherrin: (also, have you seen rust-core?)
[02:50:10] <bvssvni> seanmonstar: as there is a lot of breaking changes right now, I wait with starting new projects :)
[02:50:48] <seanmonstar> bvssvni: yea, im just making small libs to learn rust
[02:50:52] *** Joins: leslie (Adium@802083C6.67DB9176.67D29DD9.IP)
[02:50:54] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:50:56] *** Joins: a_make (a__@moz-56DB9895.nycmny.fios.verizon.net)
[02:50:57] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:51:02] *** Joins: Jesin (Jesin@moz-A43618DF.res.lehigh.edu)
[02:51:22] <bvssvni> seanmonstar: me too
[02:52:08] *** Quits: a__ (a@moz-56DB9895.nycmny.fios.verizon.net) (Quit: Leaving)
[02:52:23] *** Quits: derek_c (derek@moz-78CFE167.cit.cornell.edu) (Quit: Leaving)
[02:52:40] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:52:45] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:52:45] <bvssvni> seanmonstar: it is easy to go crazy with generic traits :D
[02:52:58] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[02:52:58] <stephenmac7> Is there a way to run rust applications without compiling them
[02:52:59] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[02:53:08] <stephenmac7> Or, compile them, run them, then delete the file in one step?
[02:53:31] <Yurume> you can make a script for it, but there is no official tool for that
[02:53:37] <seanmonstar> rustc main.rs && main.exe && rm main.exe?
[02:54:24] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[02:54:31] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:54:41] <stephenmac7> I see.
[02:54:47] <aatch> stephenmac7, https://github.com/thestinger/rust-playpen/blob/master/bin/irc.sh <-- that runs rusti
[02:54:58] <aatch> rusti: "Hello"
[02:54:59] -rusti- "Hello"
[02:55:16] <stephenmac7> aatch: Ah, thanks
[02:55:21] <mcpherrin> alright writing no_std code sucks
[02:55:31] <steveklabnik> see also https://github.com/tarcieri/irust
[02:55:33] <stephenmac7> However, I have a quick question. What is it that's mentioned here: http://www.darkcoding.net/software/rust-what-i-learnt-so-far/
[02:55:41] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[02:55:47] <mcpherrin> dbaupp: I kinda wanted a single file test script to avoid setting up rust-core etc
[02:55:57] <mcpherrin> (minimal surface area)
[02:56:19] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:56:19] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:56:21] <mcpherrin> but looks like a pain, so I'll just build libstd
[02:56:30] <aatch> stephenmac7, care to narrow that down?
[02:56:43] <stephenmac7> aatch: "You can even make your rust file a shell script by adding as the first line:
[02:56:43] <stephenmac7> #!/usr/local/bin/rust run
[02:56:43] <stephenmac7> "
[02:56:47] *** Joins: derek_c (derek@moz-78CFE167.cit.cornell.edu)
[02:56:56] *** Joins: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net)
[02:56:59] <aatch> that was using a tool that has since been removed
[02:57:00] <mcpherrin> How do I gobble the build system into working? I'm on a 64 bit machien trying to output i386_intel_linux code
[02:57:08] <sfackler> stephenmac7: that tutorial's pretty out of date
[02:57:11] *** Quits: crail (crail@moz-D7728DCD.dhcp.insightbb.com) (Quit: Leaving...)
[02:57:29] <stephenmac7> Oh, okay. Thanks
[02:57:47] <dbaupp> mcpherrin: rust-core makes no_std code suck much less :P
[02:58:02] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[02:58:06] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:58:07] <dbaupp> mcpherrin: ./configure --target=...
[02:58:15] <dbaupp> we probably don't support i386 though
[02:58:18] <dbaupp> just i686
[02:58:25] * dbaupp can't remember
[02:58:29] <mcpherrin> eugh that'll probably still work
[02:58:36] <aatch> I'm not sure what the config parser recognises.
[02:58:41] <mcpherrin> I'll just punch the binaries to make it work after if I need to
[02:58:58] <aatch> But it all gets converted to 686 anyway, I think.
[02:59:00] *** Joins: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP)
[02:59:29] *** Quits: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP) (Quit: ziad)
[02:59:50] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:59:52] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:00:05] *** Joins: Erik_ (Erik_S@moz-E7E31D21.hlrn.qwest.net)
[03:00:09] <aatch> Ok, so configure recognises i[34567]86 and x86 and just makes them all i686
[03:00:12] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[03:00:29] *** Joins: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP)
[03:00:36] *** Quits: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP) (Quit: ziad)
[03:00:38] *** Quits: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP) (No route to host)
[03:00:54] *** Joins: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP)
[03:01:16] <mcpherrin> I should figure out what other -osdev people are using as a compiler configuration
[03:01:19] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:01:39] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:01:44] <dbaupp> getting libstd running on baremetal will be (extremely) hard, fwiw
[03:02:12] <mcpherrin> duh :)
[03:02:22] <yuriks> it would be really cool if libstd was split between rt/libc agnostic code and platform dependent code
[03:02:33] <yuriks> even if that required providing your own hooks for allocation
[03:02:41] *** Quits: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP) (Ping timeout)
[03:02:42] <aatch> yuriks, it's getting there
[03:02:45] <mcpherrin> dbaupp: well I was looking at what libnative/libgreen provide and it doesn't seem that far out there?
[03:02:51] <yuriks> even with rust-core it's missing a lot of things needed for using the language
[03:02:54] <derek_c> when you are debugging a Rust program with gdb, can you examine the value of an expression?
[03:03:18] <aatch> derek_c, should be able to. debug info is a little unstable right now, but not too bad.
[03:03:20] <mcpherrin> realistically rust-core is the right way to go
[03:03:22] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:03:27] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:03:48] <derek_c> aatch: how do you do it?
[03:04:26] <aatch> derek_c, if you add -Z extra-debug-info to the compile step it'll add standard DWARF debugging info
[03:04:45] <aatch> then you just use GDB the same way you would for C/C++
[03:04:50] <whitequark> gdb cannot parse rust expressions though, only C/C++ ones
[03:05:13] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:05:13] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:05:16] <psquid> quit
[03:05:40] *** Parts: psquid (psquid@moz-5FD88866.threembb.co.uk) ()
[03:05:47] <aatch> whitequark, that's not too bad though, most of the time the expression is just a variable name.
[03:06:20] <yuriks> mcpherrin: really? Because to me implementing the standard library twice seems like a waste of effort. It will surely never reach parity either
[03:06:39] *** Parts: herrwolfe45 (user@moz-3F0F09A7.cm.sunflower.com) (ERC Version 5.3 (IRC client for Emacs))
[03:06:53] <whitequark> dbaupp: getting libstd to run on bare metal isn't that hard really
[03:06:54] <dbaupp> yuriks: the stdlib has various deficiencies
[03:06:58] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:07:00] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:07:05] <derek_c> aatch: thanks it works
[03:07:08] <dbaupp> whitequark: really? have you done it?
[03:07:11] <whitequark> dbaupp: yes
[03:07:20] <dbaupp> oh, awesome
[03:07:33] <dbaupp> did you lose anything?
[03:07:40] <aatch> his sanity
[03:07:42] <aatch> :P
[03:07:49] <whitequark> I'll publish the code and docs in a few days, perhaps earlier. need to get the blog article done
[03:08:03] <whitequark> dbaupp: yes, I had to cut some things off.
[03:08:15] <whitequark> mostly those based on OS services => make no sense on bare metal
[03:08:23] <whitequark> overall I'm satisfied with the state of things I got
[03:08:36] <mcpherrin> whitequark: how about right now ;) 'cause I'd like to use it
[03:08:43] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:08:48] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:08:53] *** Quits: derek_c (derek@moz-78CFE167.cit.cornell.edu) (Ping timeout)
[03:09:05] <whitequark> mcpherrin: dbaupp: let's have this discussion right after I rebase it off Rust's trunk
[03:09:07] <mcpherrin> eh I won't actually tonight :P
[03:09:08] <whitequark> this evening maybe
[03:09:47] <whitequark> I've thought of a nice way to preserve more of the io stuff, too
[03:10:32] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:10:34] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:10:38] * whitequark feels bad promising this a few times already and not delivering :(
[03:10:42] <mcpherrin> haha
[03:10:49] <mcpherrin> don't worry, if you don't, I will eventually ;)
[03:11:03] <whitequark> competition! :)
[03:12:19] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:12:20] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:12:54] *** Joins: gverilla (gverilla@FDCF4B71.90C94185.F945DA.IP)
[03:13:21] <mcpherrin> collaboration!
[03:13:24] *** Joins: a__ (a@moz-56DB9895.nycmny.fios.verizon.net)
[03:13:29] <mcpherrin> I don't want to do it, I just want to write a damn OS already ;)
[03:13:46] <mcpherrin> I'm currently fucking around trying to get a working toolchain :P
[03:14:03] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:14:09] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:15:13] <mcpherrin> How do I enter a literal pointer in rust?
[03:15:27] <Yurume> rusti: 42 as *int
[03:15:28] -rusti- (0x2a as *())
[03:15:30] <dbaupp> mcpherrin: 0xdeadbeef as *int
[03:15:39] <mcpherrin> cool
[03:15:44] *** Joins: pepper_chico (pepper_chi@moz-13107F6.dsl.telesp.net.br)
[03:15:52] <bvssvni> is that allowed outside unsafe block?
[03:15:54] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:15:54] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:15:55] <Yurume> and it's not an unsafe operation!
[03:15:59] <bvssvni> :O
[03:16:01] <Yurume> bvssvni: yes, dereferencing it *is* unsafe.
[03:16:17] <Yurume> pointers are, when not dereferenced, just numbers.
[03:17:01] <mcpherrin> yeah, raw pointers aren't unsafe; just dereferencing them :-)
[03:17:17] <mcpherrin> rusti: let x = 42 as *int; x = x + 2
[03:17:21] -rusti- pastebinned 7 lines of output: http://ix.io/a3k
[03:17:36] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:17:42] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:18:01] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[03:18:07] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[03:18:11] <dbaupp> rusti: let  x = 42 as *int; unsafe { x.offset(100) }
[03:18:12] -rusti- (0x34a as *())
[03:18:38] <dbaupp> (offset is unsafe because it is undefined behaviour for LLVM if you offset a pointer outside the object it came from)
[03:18:38] <bvssvni> rusti: let x = 42 as *int; *x = 3;
[03:18:47] -rusti- failed to pastebin 7 lines of output
[03:19:23] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:19:25] <bvssvni> what have I done
[03:19:28] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:19:38] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[03:19:44] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[03:19:54] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[03:20:06] <whitequark> mcpherrin: that's exactly what my blog entry describes.. damn
[03:20:14] <whitequark> screw it I'm finishing it right now
[03:20:42] *** Quits: a_make (a__@moz-56DB9895.nycmny.fios.verizon.net) (Quit: I haz left.)
[03:20:54] *** Joins: a_make (a__@moz-56DB9895.nycmny.fios.verizon.net)
[03:21:10] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:21:14] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:21:26] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[03:21:35] <bvssvni> hmm, 'x' was not declared mutable
[03:22:03] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[03:22:55] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:23:00] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:23:21] <mcpherrin> whitequark: yeeeeh :)
[03:24:08] <dbaupp> bvssvni: it's not in place
[03:24:18] <dbaupp> it returns the new value
[03:24:30] <dbaupp> x.offset(1) is `x + 1` rather than `x += 1`
[03:24:36] <whitequark> mcpherrin: btw, which platform are you on?
[03:24:44] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:24:44] <mcpherrin> whitequark: x86
[03:24:48] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:24:57] <bvssvni> dbaupp: pointer arithmetic, got it
[03:25:09] *** Quits: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net) (Client exited)
[03:25:12] <mcpherrin> I have more experience in ARMland, but I'm doing professional x86 stuff now so I gotta get up to snuff :)
[03:25:30] *** Quits: a__ (a@moz-56DB9895.nycmny.fios.verizon.net) (Quit: Leaving)
[03:25:57] <bvssvni> dbaupp: what I was worried about was writing to that memory outside unsafe blocks, it tested it and rustc complains (phew)
[03:26:12] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:26:18] *** Quits: a_make (a__@moz-56DB9895.nycmny.fios.verizon.net) (Quit: I haz left.)
[03:26:29] *** Joins: a_baez (a__@moz-56DB9895.nycmny.fios.verizon.net)
[03:26:33] <mcpherrin> whitequark: Specifically, I'm trying now to get a basic Coreboot/libpayload rust program running
[03:26:36] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:26:39] <mcpherrin> inside qemu.
[03:27:14] *** a_baez is now known as a__
[03:28:06] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:28:21] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:28:34] <ercxx> is there a macro like exit!() ?
[03:29:42] <whitequark> mcpherrin: ahh, then you'd need to add support for the target yourself--I'm mainly doing it for ARM.
[03:29:51] <whitequark> you'd be able to reuse allocator and initialization code, though
[03:30:02] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:30:06] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:30:11] <whitequark> threading, too, once it's in
[03:30:17] <mcpherrin> whitequark: It's still helpful :)
[03:30:38] <mcpherrin> What device are you running on?
[03:30:48] <whitequark> stm32f1
[03:30:50] <whitequark> cortex-m3
[03:30:50] *** Joins: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net)
[03:31:08] <mcpherrin> ah one of the wee ones
[03:31:21] <whitequark> wee ones?
[03:31:44] <mcpherrin> smaller ARM systems
[03:31:48] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:31:54] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:31:57] <mcpherrin> No DRAM, just a few simple peripherals
[03:31:57] <whitequark> yes, for now
[03:31:57] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[03:32:16] <whitequark> it's what I have my hands on, right now
[03:32:19] <mcpherrin> yeah
[03:32:27] <mcpherrin> I've got a bin full of ARM dev kits :P
[03:32:37] *** Quits: a_m0d (a_m0d@moz-2F294D00.acanac.net) (Quit: Leaving.)
[03:32:42] <whitequark> yeah same
[03:32:54] *** Quits: sammykim (sammy.kim@5AB4884B.FCC4549.14D5B978.IP) (Quit: Lost terminal)
[03:33:34] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Quit: Leaving)
[03:33:36] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:33:41] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:35:04] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:35:22] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:35:26] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:36:39] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[03:36:39] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:37:10] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:37:10] <bvssvni> is there a way to call a method on a trait as if it was static?
[03:37:11] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:37:33] <dbaupp> bvssvni: i.e. foo.bar() -> Trait::bar(foo) ?
[03:37:34] <bvssvni> std::rand::Rng::gen::<f64>(rnd) (example)
[03:37:44] <dbaupp> not yet
[03:37:57] <sfackler> bvssvni: not at the moment, but I think it should eventually be possible to go from foo.bar(baz) to Bar::bar(foo, baz)
[03:38:28] *** Quits: zz_kimundi (kimundi@moz-BEFFE5BF.dip0.t-ipconnect.de) (Ping timeout)
[03:38:56] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:39:00] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:39:19] *** Joins: peterdreid (peterdreid@moz-D18776CD.nc.res.rr.com)
[03:39:52] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[03:40:41] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:40:46] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:41:23] *** Quits: peterdreid (peterdreid@moz-D18776CD.nc.res.rr.com) (Quit: )
[03:41:34] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[03:41:55] *** Quits: hacker_s_ (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[03:41:56] *** Joins: zz_kimundi (kimundi@moz-E1616236.dip0.t-ipconnect.de)
[03:42:15] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:42:20] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[03:42:23] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[03:42:24] *** zz_kimundi is now known as kimundi
[03:42:24] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[03:42:33] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:43:14] *** Joins: bmats (bmats@moz-C7EBCDDD.hsd1.or.comcast.net)
[03:44:05] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:44:19] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[03:44:20] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:44:39] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[03:44:54] *** Quits: bmats (bmats@moz-C7EBCDDD.hsd1.or.comcast.net) (Ping timeout)
[03:45:24] <Mathias> Is there a shortcut to recompiling the rust project when you're working in libstd? I feel like the half-hour turn-around time for checking if your changes worked out is a little over the top.
[03:45:40] <mcpherrin> you can just build stage 1
[03:45:46] <SiegeLord> Develop outside libstd if you can
[03:46:07] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[03:46:07] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:46:07] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:46:33] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[03:47:24] <dbaupp> Mathias: `make check-stage1-std NO_REBUILD=1`
[03:47:39] <dbaupp> NO_BENCH=1 is good to add too
[03:47:41] <dbaupp> https://github.com/mozilla/rust/wiki/Note-testsuite
[03:47:42] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[03:47:49] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:47:53] <dbaupp> and or TESTNAME=<yourtest>
[03:47:54] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:48:08] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[03:48:44] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[03:49:03] <Mathias> Thanks
[03:49:36] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:49:37] <yuriks> whitequark: <3 if you do that std thing :)
[03:49:41] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:50:03] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[03:50:37] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[03:50:50] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[03:51:28] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:51:28] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:53:15] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:53:18] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:54:01] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[03:54:17] *** Quits: kanru (kanru@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[03:54:51] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:55:02] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:56:48] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:56:50] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:58:30] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[03:58:32] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:58:34] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:58:50] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[03:59:01] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[04:00:19] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:00:21] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:00:48] <bvssvni> one can declare modules inside functions, cool!
[04:01:29] *** Joins: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP)
[04:02:03] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:02:06] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:03:12] *** Quits: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP) (Ping timeout)
[04:03:24] *** Joins: a_m0d (a_m0d@moz-2F294D00.acanac.net)
[04:03:46] <whitequark> and functions and types! that's one of the best language features I've seen in my life
[04:03:49] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:03:54] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:04:03] <whitequark> how come no one else thought of that?
[04:04:19] <stephenmac7> whitequark: Haskell has
[04:04:57] <stephenmac7> Rust seems to be heavily influenced by haskell, though it's target and inner working seem to be completely different
[04:04:57] <bvssvni> hmm, std is not available inside a module declared in a function, needs a '::' to make calls
[04:05:11] <dbaupp> bvssvni: it's any submodule
[04:05:36] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:05:36] <whitequark> yeah
[04:05:37] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[04:05:40] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:05:41] <dbaupp> (i.e. std is only in-scope automatically in the top-most module (aka the crate file).)
[04:05:42] <bvssvni> dbaupp: ah
[04:05:58] <dbaupp> bvssvni: you can `use std;` to get it in-scope
[04:06:24] <dbaupp> (or `use std::{vec, rand};` etc. to get submodules in scope.)
[04:06:56] *** Joins: kanru (kanru@moz-99690620.hinet-ip.hinet.net)
[04:07:14] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[04:07:27] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:09:12] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:09:14] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:10:01] *** Quits: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net) (Quit: Leaving.)
[04:10:14] *** Quits: a_m0d (a_m0d@moz-2F294D00.acanac.net) (Quit: Leaving.)
[04:10:36] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[04:10:55] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[04:11:01] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:11:50] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[04:12:41] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[04:12:47] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:14:31] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[04:14:35] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:16:18] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[04:16:22] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:18:07] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:18:09] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:18:24] *** Joins: gverilla_ (gverilla@moz-25D0C0DE.versanet.de)
[04:19:00] <bvssvni> is it possible to create a range but for f64 and between 0 and 1?
[04:19:20] *** Quits: gverilla (gverilla@FDCF4B71.90C94185.F945DA.IP) (Ping timeout)
[04:19:50] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:19:57] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:20:00] <dbaupp> bvssvni: i.e. `for _ in range(0.0, 1.0) { .. }`` of some sort?
[04:20:23] <bvssvni> dbaupp: yes, but I would like to choose the resolution
[04:20:26] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[04:20:36] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[04:20:52] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[04:21:26] <dbaupp> rusti: for i in range(0, 11) { let f = i as f64 / 10.0; print!("{} ", f) }
[04:21:26] -rusti- 0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1 ()
[04:21:37] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[04:21:40] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:21:43] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:21:46] *** Joins: gkostyanikov (gkostyanik@155D5F78.2AEE264E.CA6E2165.IP)
[04:22:12] <bvssvni> rust: for i in range_step(0.0, 1.0, 0.1) { print!("{}", i) }
[04:22:19] <bvssvni> rusti: for i in range_step(0.0, 1.0, 0.1) { print!("{}", i) }
[04:22:21] -rusti- pastebinned 7 lines of output: http://ix.io/a3q
[04:22:28] <dbaupp> doesn't work with floats
[04:23:23] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:23:29] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:24:32] <bvssvni> yeah, CheckedAdd is not implemented for f64
[04:25:00] <dbaupp> it wouldn't work properly anyway
[04:25:10] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:25:17] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:25:32] <dbaupp> range_step just calls x += step internally, which suffers from floating-point error problems
[04:26:08] <dbaupp> (whereas doing the incremeting on errors and converting to a float to divide *doesn't* accumulate more error as it goes.)
[04:26:57] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:27:02] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:27:14] *** Joins: dmac` (dmac@moz-94F55C3.hfc.comcastbusiness.net)
[04:27:35] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[04:28:17] *** Quits: dmac` (dmac@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving)
[04:28:18] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[04:28:48] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:28:50] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:28:51] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[04:29:56] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[04:30:31] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:30:37] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:31:03] *** Joins: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP)
[04:32:24] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:32:25] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:34:02] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[04:34:05] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:34:07] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Client exited)
[04:34:09] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:35:48] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[04:35:52] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:35:57] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:36:54] <dbaupp> *incrementing on integers
[04:36:55] <dbaupp> :/
[04:37:30] <bvssvni> dbaupp: writing my own iterator :)
[04:37:32] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[04:37:45] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:37:45] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:39:29] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:39:31] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:40:05] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[04:40:58] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[04:41:18] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:41:34] *** Quits: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP) (Quit: Computer has gone to sleep.)
[04:43:01] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:43:06] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:44:07] <uberj> a large amount of links to the http://static.rust-lang.org docs I find 403
[04:44:13] <uberj> i.e. http://static.rust-lang.org/doc/master/tutorial-borrowed-ptr.html
[04:44:24] <bascule> haha whoa
[04:44:26] <bascule> http://angrylawyer.github.io/a-dabblers-adventures-in-rust/#slide18
[04:44:26] <uberj> which is linked to via http://stackoverflow.com/questions/18943513/rust-borrowed-pointers-syntax
[04:44:33] *** Joins: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP)
[04:44:53] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:44:53] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:45:03] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[04:45:37] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[04:46:05] <dbaupp> uberj: it's now http://static.rust-lang.org/doc/master/guide-lifetimes.html
[04:46:06] <dbaupp> fwiw
[04:46:25] <dbaupp> uberj: the canonical documentation is http://static.rust-lang.org/doc/master/index.html
[04:46:32] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[04:46:39] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:46:50] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[04:47:09] <uberj> dbaupp: I know this, but a lot of older blog posts link to the old docs
[04:47:30] <dbaupp> uberj: (I've edited that question to point to the right place)
[04:47:40] <dbaupp> and yeah, it's a problem :(
[04:47:54] <dbaupp> hopefully we're starting to be more stable now
[04:48:19] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[04:48:22] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:48:27] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:48:34] <pepper_chico> fyi... I'm writing a version of gobyexample from go fame, for rust, at rustbyexample.org. right now I'm half away... I'll cover the fundamentals in an alternative version of the official tutorial, but after that, the idea is to have more practical full flagged examples after the basics
[04:48:50] <dbaupp> I know some of us (who have enough SO rep.) are planning to go through and update/edit/clarify questions & answers on stack overflow when we're getting close to 1.0
[04:49:20] <dbaupp> pepper_chico: oooh, fancy!
[04:49:26] <pepper_chico> examples with common idioms, etc
[04:49:38] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[04:50:12] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:50:13] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:50:23] <dbaupp> pepper_chico: (fwiw, the style is for `let name: type;` with a space, and also `let name: type = value;` rather than name = value on the next line.)
[04:51:43] <pepper_chico> dbaupp, thanks, I didn't know about this space convention, I always got in doubt about that
[04:51:46] <pepper_chico> when typing =)
[04:51:57] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:52:00] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:52:04] <pepper_chico> will change
[04:52:16] *** Joins: pzol_ (pzol@moz-553BEE64.dynamic.chello.pl)
[04:52:21] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[04:53:00] *** Quits: pzol_ (pzol@moz-553BEE64.dynamic.chello.pl) (Quit: Leaving)
[04:53:42] *** Joins: derek_c (derek@moz-68CEEE1A.cit.cornell.edu)
[04:53:46] <dbaupp> pepper_chico: (well, to be completely accurate the convention is `let name = type;` and let type inference handle it, but I imagine that you're explicitly typing things on purpose, because it's a tutorial.)
[04:53:47] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:53:50] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[04:55:15] <pepper_chico> yeah
[04:55:24] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[04:55:32] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:55:33] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:56:35] <pepper_chico> my idea is to switch for more type deduction later, when there's no need to be explicit about types because of explanation about types
[04:56:56] <dbaupp> sounds good
[04:57:17] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:57:20] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:59:02] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:59:08] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:59:29] <bascule> kmc: https://twitter.com/bascule/status/425855167641042944
[05:00:53] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:00:53] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:01:56] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[05:02:34] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:02:40] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:04:21] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:04:28] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:05:53] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[05:06:10] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:06:14] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:06:44] *** Quits: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP) (Quit: Lost terminal)
[05:07:58] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:08:00] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:09:48] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:09:50] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:11:00] *** Quits: Kxepal (Miranda@moz-10D65211.pppoe.mtu-net.ru) (Ping timeout)
[05:11:05] *** Joins: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP)
[05:11:28] *** Joins: Kxepal (Miranda@moz-83916904.pppoe.mtu-net.ru)
[05:11:33] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:11:37] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:13:16] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:13:19] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:15:07] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:15:08] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:16:30] *** Joins: amidvidy (user@moz-65F81938.hsd1.ca.comcast.net)
[05:16:35] *** Quits: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[05:16:52] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:16:54] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:17:22] <bvssvni> rusti: fn test(a: i32) -> bool { true }; test(a: 3)
[05:17:25] -rusti- pastebinned 6 lines of output: http://ix.io/a3r
[05:17:56] <bvssvni> rusti: fn test(a: i32) -> bool { true }; test(3)
[05:17:57] -rusti- <anon>:10:17: 10:18 warning: unused variable: `a`, #[warn(unused_variable)] on by default
[05:17:57] -rusti- <anon>:10         fn test(a: i32) -> bool { true }; test(3)
[05:17:57] -rusti-                           ^
[05:17:57] -rusti- true
[05:18:07] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[05:18:36] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:18:41] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:18:54] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[05:19:21] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[05:20:11] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:20:28] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:20:43] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[05:22:08] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:22:14] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:23:57] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:24:01] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:24:13] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[05:25:36] *** Quits: Mathias (Mibbit@moz-E9EEAB4.cpe.webspeed.dk) (Quit: http://www.mibbit.com ajax IRC Client)
[05:25:43] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:25:48] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:26:53] <uberj> I have a question about 16.2 on (http://web.mit.edu/rust-lang_v0.8/doc/tutorial.html#generics). Is adding .length() to ~[T] the point of this code https://pastebin.mozilla.org/4070370 ?
[05:27:04] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[05:27:30] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:27:37] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:28:13] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[05:29:07] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:29:25] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:29:57] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[05:30:16] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[05:30:51] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:31:11] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:32:56] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:33:01] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:33:33] <sfackler> yes
[05:34:24] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:34:30] *** Joins: kronquii (kronquii@moz-2F636E0B.onid.oregonstate.edu)
[05:34:32] <uberj> I find that this code does the exact same thing https://pastebin.mozilla.org/?diff=4070383
[05:34:39] *** kronquii is now known as muricula
[05:34:46] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:34:56] *** Joins: Denommus (AndChat420@moz-B9DBEB9C.user.veloxzone.com.br)
[05:35:02] *** Quits: gkostyanikov (gkostyanik@155D5F78.2AEE264E.CA6E2165.IP) (Ping timeout)
[05:35:31] <uberj> trying to make Seq seem like it somehow needed a generic parameter is confusing, imo
[05:35:35] <dbaupp> sfackler: a snapshot landed yesterday, fwiw
[05:36:24] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:36:32] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:37:08] <bvssvni> how do I use a mut tuple in left expression?
[05:37:24] <sfackler> oh cool
[05:37:58] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:38:02] <bvssvni> rusti: let (mut a, mut b) = (0, 0); (a, b) = (1, 1); (a, b)
[05:38:05] -rusti- pastebinned 7 lines of output: http://ix.io/a3s
[05:38:20] <dbaupp> you can't do the (a, b) = (1, 1) line
[05:38:21] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:38:38] <dbaupp> you have to bind to something else and then set a and b individually
[05:39:11] *** Joins: gkostyanikov (gkostyanik@155D5F78.2AEE264E.CA6E2165.IP)
[05:39:52] <muricula> How do I generate a random number? This documentation is out of date: http://static.rust-lang.org/doc/master/std/rand/index.html
[05:40:04] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:40:06] <bvssvni> dbaupp: thanks!
[05:40:07] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:40:09] *** Quits: gwty (gwtypc@F459DCF8.2CEEE9CF.BD94A9D5.IP) (Ping timeout)
[05:40:27] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[05:40:33] <sfackler> muricula: let foo: int = rand::random()
[05:40:35] <dbaupp> muricula: it's not out of date
[05:40:43] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[05:40:46] <dbaupp> we run the code examples on every pull request
[05:40:57] <dbaupp> muricula: what version of Rust do you have?
[05:41:08] <dbaupp> rusti: std::rand::random::<int>()
[05:41:09] -rusti- -867643670645701658
[05:41:46] <dbaupp> rusti: use std::rand::{Rng, task_rng}; task_rng().gen_range(0, 100)
[05:41:47] *** Quits: StarLight (StarLight@moz-28ACE88D.dynamic.avangarddsl.ru) (Ping timeout)
[05:41:47] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:41:47] -rusti- 28
[05:41:52] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:42:10] <dbaupp> rusti: use std::rand::{Rng, task_rng}; task_rng().gen_vec::<u8>(5)
[05:42:11] -rusti- ~[111u8, 35u8, 4u8, 170u8, 167u8]
[05:42:16] <muricula> 0.9
[05:42:30] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[05:42:30] *** ChanServ sets mode: +ao pcwalton pcwalton
[05:42:37] <amidvidy> I asked this a few hours ago, but figured its worth trying again: is there any good way to set a timeout when creating a new TcpStream with TcpStream::connect? I looked at the rtio functions but there doesn't seem to be an option there either.
[05:42:45] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[05:42:54] <yuriks> muricula: the documentation you're looking at is for the git master branch. You should look at the 0.9 docs or build from source
[05:43:28] <dbaupp> 0.9 docs: http://static.rust-lang.org/doc/0.9/std/rand/index.html fwiw
[05:43:31] <muricula> I believe I built from source, but it may have been a week or two ago.
[05:43:35] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:43:39] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:44:35] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[05:44:41] <dmac> I'm playing around with the docs… what's the best way to rebuild them after making a change to the static rustdoc js?
[05:45:01] <dbaupp> does just `make` work?
[05:45:12] <dbaupp> (it seems like something that should be possible to build incrementally.)
[05:45:21] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:45:28] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:45:35] *** Joins: StarLight (StarLight@moz-EC9AB971.dynamic.avangarddsl.ru)
[05:45:48] *** Joins: brson (brson@moz-D434EC03.dsl.sca.megapath.net)
[05:45:48] *** ChanServ sets mode: +ao brson brson
[05:45:51] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[05:45:56] <dmac> Yeah, I've tried `rm -fr doc/std && make docs`, but that my changes aren't generated
[05:46:04] <dmac> *but my changes aren't generated
[05:46:31] *** Joins: WebeWizard (Justin@moz-7CCD1DAE.ks.ks.cox.net)
[05:46:41] <dmac> I don't suppose those files are compiled into the rustdoc binary?
[05:46:57] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:47:12] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:47:24] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[05:47:24] *** ChanServ sets mode: +ao dherman dherman
[05:47:31] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[05:47:56] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[05:48:09] <dbaupp> probably are
[05:48:16] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[05:48:38] <dbaupp> in theory, if you've touched nothing else, `make` will just build rustdoc (twice?)
[05:48:48] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:49:00] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:49:27] <yuriks> is there a way to do pointer arithmetic or do I just have to roundtrip-cast via uint?
[05:49:56] <strcat> the offset intrinsic
[05:50:06] <strcat> casting to/from int will compile to bad code
[05:50:06] <dbaupp> yuriks: simple addition/subtraction via .offset()
[05:50:38] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[05:50:42] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:50:48] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:50:58] <yuriks> strcat: yikes. Good to know
[05:51:13] <yuriks> does offset do arithmetic in bytes on in sizeofs?
[05:51:19] <dbaupp> yes
[05:51:26] <dbaupp> in sizeofs
[05:51:28] <bascule> https://mail.mozilla.org/pipermail/rust-dev/2014-January/008103.html
[05:51:28] <yuriks> or in*
[05:51:35] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[05:51:35] <bascule> ^^^ in case anyone wants to talk about it in the eye are seas
[05:51:37] <yuriks> ah, peh, I'll have to pointercast anyway then
[05:52:09] <dmac> Well, I can `make clean && make docs`, but that takes a long time. rustdoc is a stage2 binary, maybe if I could remake just the stage2 binaries...
[05:52:18] <strcat> yuriks: casts to other pointer types are fine
[05:52:26] <strcat> yuriks: casting to/from integers generates poor code
[05:52:34] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:52:35] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:52:38] <strcat> it throws out all the aliasing info
[05:52:49] <yuriks> strcat: did you mean bad/poor as in slow? That's much less alarming then
[05:52:56] <strcat> as in slow
[05:53:14] <strcat> if it compiled to good code we wouldn't need an offset intrinsic (but it will never be as good)
[05:53:14] <dbaupp> dmac: don't clean
[05:53:24] <yuriks> I'm gonna make my own helper to byte offset using offset then
[05:53:43] <dbaupp> dmac: have you tried just plain `make`?
[05:54:06] <dmac> I've been doing `make docs`
[05:54:07] <dbaupp> bascule: coincidentally, this PR was opened a few minutes ago https://github.com/mozilla/rust/pull/11718
[05:54:14] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:54:21] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:54:26] <dmac> (so, no, I can try that)
[05:54:48] *** Quits: Denommus (AndChat420@moz-B9DBEB9C.user.veloxzone.com.br) (Quit: going to sleep )
[05:54:52] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[05:54:59] <dbaupp> If they don't work, I guess you could try touching one of the rustdoc .rs files, which should trigger a rebuild of rustdoc
[05:55:17] *** Quits: canhtak (canhtak@moz-6D20A1A6.wl.t.ulaval.ca) (Quit: canhtak)
[05:55:19] <dbaupp> (probably with either of `make` or `make docs`)
[05:55:27] <dmac> thanks, good idea, I'll try that
[05:55:57] <bascule> dmac: nice!
[05:55:58] <johnsoft> is there a way to implement a trait on any kind of str and not require 2 levels of indirection?
[05:56:00] <bascule> err
[05:56:02] <bascule> dbaupp: 
[05:56:06] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:56:09] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:56:13] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[05:56:23] <erickt1> strcat: you know a bunch about how rust and llvm optimizes things. When doing a non-optimized build, have you ever seen llvm generate slower code for generics than it does for non-generic code?
[05:56:41] <strcat> erickt1: before I removed the normalization code, sure
[05:57:04] <strcat> LLVM doesn't see any different between generic and non-generic code
[05:57:17] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[05:57:18] <strcat> it's all on rust's end - it substitutes the parameters and then compiles each function down the regular code path
[05:57:31] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:57:50] *** Joins: benjamin__ (benjamin@moz-C4D66C34.dip0.t-ipconnect.de)
[05:57:54] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:57:59] <strcat> it just puts them in a big table so it can reuse them (it's triggered on generic function/method call sites)
[05:58:05] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[05:58:12] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[05:58:48] <strcat> johnsoft: I wouldn't assume there is indirection
[05:59:36] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:59:38] <erickt1> strcat: that doesn't sound like we should be really generating different code then. Here's what I'm working with if you're interested: https://gist.github.com/erickt/8554063
[05:59:41] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:59:50] <erickt1> strcat: I'll poke around with the llvm disassembly
[05:59:56] <johnsoft> strcat- what i mean is, i have:
[05:59:57] *** Quits: amidvidy (user@moz-65F81938.hsd1.ca.comcast.net) (Client exited)
[05:59:59] <johnsoft> trait MyTrait {}        impl MyTrait for ~str {}       fn f(t: ~MyTrait) {}
[06:00:12] <dmac> dbaupp: `touch src/librustdoc/lib.rs && make docs` did the trick. Thanks!
[06:00:23] <dbaupp> awesome :)
[06:00:32] <strcat> johnsoft: ~str isn't an owned ptr
[06:00:33] <johnsoft> f can only be called as f(~~"str"), and I'd prefer f(~"str");
[06:01:12] <strcat> johnsoft: not possible, ~Trait is (unique_ptr, vtable_ptr)
[06:01:12] *** Quits: WebeWizard (Justin@moz-7CCD1DAE.ks.ks.cox.net) (Connection reset by peer)
[06:01:15] <strcat> ~str isn't a unique ptr
[06:01:24] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:01:29] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:01:33] *** Joins: WebeWizard (Justin@moz-7CCD1DAE.ks.ks.cox.net)
[06:01:33] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[06:01:36] <yuriks> is there any quick shortcut to drop a *mut to a *?
[06:01:39] <strcat> if rust had dynamically sized types and strings/vectors were DST, then yeah, it'd work
[06:01:46] <johnsoft> Oh, what is ~str then? A value type containing an owned vector of chars?
[06:01:48] <strcat> yuriks: no, it should really coerce
[06:01:50] <dbaupp> yuriks: it normally coerces
[06:01:54] <strcat> dbaupp: doesn't ;p
[06:01:59] <strcat> &mut coerces to &
[06:02:03] <strcat> *mut -> * doesn't work
[06:02:03] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[06:02:33] <strcat> johnsoft: if you want a vector of chars, that's ~[char]
[06:02:46] <johnsoft> I mean internally
[06:02:55] <strcat> johnsoft: it's not a char array
[06:02:56] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Input/output error)
[06:02:57] <strcat> that's ~[char]
[06:02:58] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[06:03:00] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[06:03:01] <strcat> would be no reason to have ~str for that
[06:03:03] <strcat> ~str is a byte vector upholding UTF-8 encoding
[06:03:10] <strcat> ~str and ~[T] are dynamic arrays
[06:03:14] <strcat> they aren't ~T
[06:03:15] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:03:19] <johnsoft> oh right sorry, I meant an owned blob containing utf-8
[06:03:21] <dbaupp> rusti: let x = 1 as *mut int; let _: *int = x;
[06:03:26] -rusti- pastebinned 7 lines of output: http://ix.io/a3t
[06:03:34] <johnsoft> I'm tired
[06:03:35] <strcat> dbaupp: should be fixed
[06:03:42] <dbaupp> strcat: yeah
[06:03:44] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[06:04:39] <yuriks> fn unmut<T>(p: *mut T) -> *T { p as *T }
[06:04:42] <yuriks> will do for now :P
[06:04:57] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:05:02] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:05:14] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[06:05:41] <Tobba> dbaupp: I complained about that ages ago and everyone said it was intended
[06:05:50] <Tobba> guess I'm just bad at formatting my questions
[06:06:33] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[06:06:43] *** Quits: gkostyanikov (gkostyanik@155D5F78.2AEE264E.CA6E2165.IP) (Ping timeout)
[06:06:46] *** Quits: mceier (mceier@moz-C1591437.dynamic.chello.pl) (Quit: leaving)
[06:06:49] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:07:07] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[06:08:19] *** Joins: johnmurray (jmurray@40511FB.62885029.A0D3DFE2.IP)
[06:08:32] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:08:35] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:08:50] *** Quits: ktt3ja (ktt3ja@moz-85E2770C.hsd1.va.comcast.net) (Quit: Leaving)
[06:09:14] <dbaupp> Tobba: The fact that *mut -> * doesn't happen automaticaly?
[06:09:16] *** Quits: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP) (Ping timeout)
[06:09:19] <dbaupp> s/y/ly/
[06:09:26] <Tobba> yeah
[06:10:04] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[06:10:23] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:10:58] <johnmurray> The release-notes for 0.9 mentioned libraries can be built with LTO. What is LTO? I couldn't find an acronym online that I thought was it.
[06:11:09] *** Joins: gkostyanikov (gkostyanik@155D5F78.2AEE264E.CA6E2165.IP)
[06:11:10] <strcat> link-time optimization
[06:11:23] <johnmurray> strcat: thanks!
[06:11:37] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[06:11:39] <strcat> johnmurray: just outputs the compiler IR for each library and then loads it all
[06:11:43] <strcat> so it optimizes across all the crates
[06:11:50] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[06:12:08] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:12:47] <bvssvni> how do I turn off the unused code warning?
[06:13:12] <dbaupp> bvssvni: `#[allow(dead_code)];` on the crate file
[06:13:28] <strcat> bvssvni: it won't warn about dead code if it's doing something useful though
[06:13:38] * strcat shrugs
[06:13:40] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[06:13:43] <strcat> probably don't want to disable it
[06:13:55] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:13:56] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[06:13:57] *** Joins: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP)
[06:14:01] <strcat> if it's a library, it will only warn if it's not public + is unused
[06:14:13] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[06:14:27] <yuriks> *'s also don't auto-derefence on ., which is very annoying
[06:14:28] <bvssvni> strcat: you are right, my mistake
[06:14:54] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[06:15:36] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:15:43] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:16:41] <dbaupp> yuriks: that's more defensible (than not auto coercing), since * isn't necessarily a valid pointer, while everything else is guaranteed to be one.
[06:17:23] <derek_c> what's the different between #[test] and #[cfg(test)]?
[06:17:25] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:17:29] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:17:32] *** Quits: pepper_chico (pepper_chi@moz-13107F6.dsl.telesp.net.br) (Ping timeout)
[06:17:33] <Tobba> static also doesnt have any automatic typing
[06:17:36] <Tobba> so you cant do
[06:17:46] <Tobba> static THINGS = [1, 2, 3];
[06:18:30] <bvssvni> derek_c: #[cfg(test)] is used to annotate modules that only should be visible with the --test flag
[06:18:35] <dbaupp> derek_c: #[test] is an actual unit-test
[06:18:55] <dbaupp> #[cfg(test)] will just strip the item it's attached to if --test isn't passed
[06:19:13] <yuriks> #[deriving(FromPrimitive)] on enums depends on libstd :((
[06:19:13] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:19:15] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:20:50] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[06:20:56] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:21:01] <dbaupp> it actually only depends on the directory structure
[06:21:03] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:21:17] <yuriks> yeah, can I alias core to std somehow?
[06:21:27] <dbaupp> so if you define `mod std { pub mod num { pub trait FromPrimitive { ... } } }` at the top of the crate, it should work
[06:22:04] *** Quits: gkostyanikov (gkostyanik@155D5F78.2AEE264E.CA6E2165.IP) (Ping timeout)
[06:22:15] <derek_c> dbaupp: so, if I use #[cfg(test)] and I don't compile it with --test, then the compiler will completely ignore the items? Otherwise, the items will still be compiled, even if I don't pass --test?
[06:22:30] *** Joins: gkostyanikov (gkostyanik@155D5F78.2AEE264E.CA6E2165.IP)
[06:22:46] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:22:49] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:23:55] <dbaupp> derek_c: yes, that's correct
[06:24:10] <dbaupp> (#[test] implies #[cfg(test)], btw.)
[06:24:32] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[06:24:34] <FliPPeh> Are there reverse configuration conditions?
[06:24:36] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[06:24:37] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:24:39] *** Quits: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP) (Quit: Computer has gone to sleep.)
[06:24:46] <FliPPeh> #[cfg(!test)] or #[not_cfg(test)]?
[06:25:15] <dbaupp> #[cfg(not(test))]
[06:25:29] <dbaupp> #[cfg(this,and_that)]
[06:25:36] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[06:25:52] <dbaupp> #[cfg(this)] #[cfg(or_that)]
[06:26:06] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[06:26:22] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[06:26:22] <derek_c> dbaupp: thanks
[06:26:25] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:26:38] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[06:26:41] <dbaupp> (that is, the first will b strip if test isn't given, the second will be stripped only if this and and_that are not given, and the last will be stripped if one of this or or_that are given.)
[06:26:44] *** Parts: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) ()
[06:26:47] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[06:27:24] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[06:27:27] *** Joins: fabiand (fabiand@moz-3BF1AD07.adsl.alicedsl.de)
[06:27:32] *** Quits: johnmurray (jmurray@40511FB.62885029.A0D3DFE2.IP) (Quit: johnmurray)
[06:28:06] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:28:10] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:29:53] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[06:29:56] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:30:00] *** Joins: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP)
[06:30:48] <FliPPeh> What about: #[cfg(this)] #[cfg(not(this))] { ... }?
[06:30:55] <FliPPeh> Just for curiosity!
[06:31:38] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:31:38] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[06:31:43] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:32:22] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[06:32:58] <dbaupp> FliPPeh: that will always be removed
[06:33:12] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[06:33:18] <FliPPeh> And if you switch around those two it'll be always compiled?
[06:33:28] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:33:46] *** Quits: heftig (heftig@moz-93EFFD5D.dip0.t-ipconnect.de) (Quit: Quitting)
[06:34:07] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[06:34:17] *** Quits: pcdummy (pcdummy@moz-CF4CA865.page4me.ch) (Ping timeout)
[06:34:34] *** Joins: pcdummy (pcdummy@moz-CF4CA865.page4me.ch)
[06:34:40] *** Quits: brson (brson@moz-D434EC03.dsl.sca.megapath.net) (Ping timeout)
[06:34:47] *** Joins: brson (brson@moz-D434EC03.dsl.sca.megapath.net)
[06:34:47] *** ChanServ sets mode: +ao brson brson
[06:34:57] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[06:35:10] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Client exited)
[06:35:15] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:35:31] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[06:35:32] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Client exited)
[06:35:53] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[06:36:45] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[06:37:01] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:37:18] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[06:37:49] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[06:37:52] <yuriks> "error: unreachable pattern" What does this error mean exactly? I'm trying to match over a (C-style) enum
[06:38:00] <yuriks> and it's giving me that for all cases
[06:38:28] <mcpherrin> it means that arm will never match
[06:38:39] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[06:38:49] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:38:52] <yuriks> now why would it think that? :(
[06:39:47] <yuriks> hmm, I needed to prefix the enum values with the correct namespace
[06:39:47] *** Quits: benjamin__ (benjamin@moz-C4D66C34.dip0.t-ipconnect.de) (Connection reset by peer)
[06:39:52] <yuriks> that's a confusing error
[06:39:57] *** Joins: benjamin__ (benjamin@moz-C4D66C34.dip0.t-ipconnect.de)
[06:40:02] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[06:40:19] <aatch> yuriks, it's not for all arms, just the last n-1
[06:40:31] <yuriks> aatch: indeed :P
[06:40:31] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:40:36] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:41:13] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[06:42:03] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[06:42:22] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:42:59] *** Joins: skade (skade@moz-B73EE4D5.pools.arcor-ip.net)
[06:43:51] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[06:44:09] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:44:16] *** Quits: gkostyanikov (gkostyanik@155D5F78.2AEE264E.CA6E2165.IP) (Ping timeout)
[06:44:42] *** Joins: gkostyanikov (gkostyanik@155D5F78.2AEE264E.CA6E2165.IP)
[06:45:07] *** Joins: Denommus (user@moz-B9DBEB9C.user.veloxzone.com.br)
[06:45:13] <Denommus> so...
[06:45:25] *** Parts: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) ()
[06:45:25] <Denommus> I noticed I don't even makefiles even if I want to build more than one crate, because of rustpkg
[06:45:33] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[06:45:39] <Denommus> ... *I don't need makefiles even
[06:45:44] *** Quits: dbaupp (Thunderbir@F99D8787.D5A1DCF.37681C44.IP) (Ping timeout)
[06:45:45] <Denommus> is that right?
[06:45:56] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:46:09] <mcpherrin> right, though rustpkg doesn't handle all the cases you might want
[06:46:36] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[06:47:27] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[06:47:43] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:48:19] <Denommus> yeah, I know makefiles are much more advanced, but then I guess I don't need that many features
[06:48:24] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[06:48:31] *** Quits: Denommus (user@moz-B9DBEB9C.user.veloxzone.com.br) (Client exited)
[06:48:37] *** Joins: victorporof (victorporo@E55FB5BC.20287B6C.D111398B.IP)
[06:48:51] *** Joins: Denommus (user@moz-B9DBEB9C.user.veloxzone.com.br)
[06:48:59] <Denommus> hurr, I killed Emacs
[06:49:11] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[06:49:29] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:50:42] <Denommus> so, how can I specify a directory where all subdirectories are workspaces in $RUST_PATH?
[06:50:53] <Denommus> e.g., ~/.rust/*
[06:51:03] <Denommus> by... just doing that?
[06:51:10] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:51:17] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:52:46] *** Quits: Denommus (user@moz-B9DBEB9C.user.veloxzone.com.br) (Client exited)
[06:53:02] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:53:03] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:54:43] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:54:50] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:56:27] *** Quits: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP) (Ping timeout)
[06:56:36] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:56:37] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:58:18] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:58:23] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:59:40] *** Joins: Denommus (user@moz-B9DBEB9C.user.veloxzone.com.br)
[06:59:48] <Denommus> I don't know what just happened
[07:00:02] <FliPPeh> Someone stole all the pongs
[07:00:06] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[07:00:10] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:00:27] <Denommus> does the extern mod foo = "github.com/foo/foo"; works already, or do I have to explicitly fetch the library somehow?
[07:00:42] *** Quits: skade (skade@moz-B73EE4D5.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:00:47] *** Joins: skade (skade@moz-B73EE4D5.pools.arcor-ip.net)
[07:01:16] *** Joins: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP)
[07:01:36] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[07:01:56] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:02:04] *** Joins: dLog (anonymous@moz-8FAE8709.eastlink.ca)
[07:03:14] *** Joins: mib_bzr8kr (Mibbit@moz-62C1842.hsd1.ca.comcast.net)
[07:03:20] *** Quits: mib_bzr8kr (Mibbit@moz-62C1842.hsd1.ca.comcast.net) (Quit: mib_bzr8kr)
[07:03:37] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[07:03:44] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:04:11] *** Quits: WebeWizard (Justin@moz-7CCD1DAE.ks.ks.cox.net) (Quit: Leaving)
[07:05:28] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[07:05:33] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:07:16] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[07:07:18] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:07:55] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[07:08:46] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[07:09:04] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:10:49] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[07:10:52] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:12:36] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[07:12:37] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:12:43] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:13:02] *** Joins: nidhimj22 (chatzilla@moz-E5FBE87B.mtnl.net.in)
[07:14:02] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[07:14:06] *** Quits: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP) (Ping timeout)
[07:14:25] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:15:54] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[07:16:11] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[07:16:12] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:17:38] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[07:17:56] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[07:17:58] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:19:07] *** Joins: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP)
[07:19:36] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[07:19:41] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[07:19:46] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:19:49] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[07:21:10] <meTaAU> Can't have a enum of tuples. What should I be using instead?
[07:21:13] *** Quits: gkostyanikov (gkostyanik@155D5F78.2AEE264E.CA6E2165.IP) (Ping timeout)
[07:21:26] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[07:21:34] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:21:45] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[07:23:17] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[07:23:20] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:23:35] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[07:23:53] <Yurume> meTaAU: what do you mean by that?
[07:24:01] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[07:24:06] <Yurume> like that, enum Foo { (int), (int, int), (int, int, char) } ?
[07:24:45] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[07:25:06] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:25:41] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[07:25:43] *** Joins: nulldata (chatzilla@BA6AA2FD.BFAF942F.E5879046.IP)
[07:26:33] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[07:26:53] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:27:39] *** Quits: nightpool (nightpool@moz-7CAAC068.wi.res.rr.com) (Ping timeout)
[07:28:32] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[07:28:39] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:30:23] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[07:30:26] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:30:37] *** Quits: ross (r@moz-35D0ADAB.clr.io) (Ping timeout)
[07:30:56] *** Joins: ross (r@moz-35D0ADAB.clr.io)
[07:32:03] *** Quits: benjamin__ (benjamin@moz-C4D66C34.dip0.t-ipconnect.de) (Quit: Verlassend)
[07:32:07] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[07:32:14] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:33:46] <brson> the android buildslave is green!
[07:33:52] * brson swoons
[07:33:56] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[07:34:00] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:34:09] <Denommus> was rusti removed?
[07:34:17] <Denommus> I mean, the repl
[07:34:36] <mcpherrin> yes
[07:35:09] <diverse> brson: you know what else is green? Your irc name highlight in my weechat client!
[07:35:14] <acrichto> brson: congrats!
[07:35:26] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[07:35:37] * acrichto suspects brson just disabled all the tests
[07:35:43] <Denommus> will Rust ahve a repl again in the far future?
[07:35:46] *** Quits: skade (skade@moz-B73EE4D5.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:35:47] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:36:00] <acrichto> brson: it even finished pretty quickly
[07:36:38] <strcat> Denommus: I might make a nice *nix-only one in the near future
[07:37:11] <mcpherrin> strcat: using the fork() trick?
[07:37:17] <strcat> yes
[07:37:28] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[07:37:36] * strcat likes the idea of being able to rewind history too ;p
[07:37:52] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:38:07] <strcat> just need to see which parts of libnative have to be made fork-safe, if any
[07:38:24] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[07:38:51] <Denommus> 3h37 in the morning and only now I'm felling sleepy
[07:38:52] <Denommus> damn
[07:38:57] <strcat> acrichto: is your first task with libnative the main thread now?
[07:38:59] <strcat> or no
[07:39:00] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[07:39:07] <acrichto> it is
[07:39:19] <strcat> and librustc doesn't spawn any tasks.... so it has a high likelihood of being fork-safe
[07:39:21] <acrichto> it always has been
[07:39:22] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:39:30] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[07:39:32] *** Quits: Denommus (user@moz-B9DBEB9C.user.veloxzone.com.br) (Quit: probably going to sleep)
[07:39:33] *** Joins: dbaupp (Thunderbir@moz-A840EB3D.lns20.syd6.internode.on.net)
[07:39:36] <strcat> acrichto: well by 'now' I mean as opposed to before it existed ;p
[07:39:59] *** Joins: ptc (Adium@moz-70F9251D.thefacebook.com)
[07:40:01] <strcat> probably not *really* fork-safe, but at least it will be safe until another task is spawned
[07:40:05] <strcat> which is easy enough to avoid
[07:40:13] *** Quits: ptc (Adium@moz-70F9251D.thefacebook.com) (Quit: Leaving.)
[07:40:43] <strcat> mcpherrin: I guess it's not going to work for tasks though
[07:40:44] <dbaupp> strcat: librustc does spawn a task
[07:40:49] <strcat> ah to catch failure
[07:40:50] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[07:40:55] <strcat> well I can remove that ;p
[07:40:58] <dbaupp> yeah
[07:41:07] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:41:28] *** Quits: new_one (new_one@56CC2851.AD901773.B3C0173E.IP) (Client exited)
[07:41:56] *** Joins: nightpool (nightpool@moz-7CAAC068.wi.res.rr.com)
[07:42:48] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[07:42:55] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:43:21] <diverse> strcat: one less thing rustc has to worry about, right?
[07:43:36] <dbaupp> is android running check or check-fast?
[07:44:40] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[07:44:41] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:45:42] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[07:46:27] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[07:46:29] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:46:59] <meTaAU> Yurume: Had to run out. It was more like enum Foo { a = (1,2), b = (2,3)}. I figured as = 1 worked I could put a tuple in.
[07:47:21] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[07:47:43] *** Joins: brendan (brendaneic@ED1D06F0.E4611EEC.436A6ED6.IP)
[07:47:55] <meTaAU> As the first was a word address and the second was a bit number, I've just combined into a single number.
[07:48:10] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[07:48:15] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:49:02] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[07:49:06] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Quit: )
[07:49:15] *** Quits: brendan (brendaneic@ED1D06F0.E4611EEC.436A6ED6.IP) (Quit: brendan)
[07:49:54] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[07:50:02] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:50:07] *** Joins: benjamin_ (benjamin@moz-C4D66C34.dip0.t-ipconnect.de)
[07:51:43] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[07:51:48] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:52:02] *** Joins: Ms2ger (Ms2ger@768AD319.7BE2E8BA.187A1082.IP)
[07:53:31] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[07:53:36] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:55:20] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[07:55:23] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:55:58] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Broken pipe)
[07:56:07] *** Joins: brendan (brendaneic@ED1D06F0.E4611EEC.436A6ED6.IP)
[07:56:20] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[07:56:21] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[07:56:49] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[07:57:09] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:58:52] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[07:58:55] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:59:16] *** Joins: dmacvicar (dmacvicar@moz-6C19808.suse.de)
[08:00:37] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[08:00:41] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:00:57] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[08:02:26] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[08:02:27] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:03:46] *** flaper87|afk is now known as flaper87
[08:03:54] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[08:04:04] *** Joins: rca (rcatolino@moz-5EA2C694.adsl.proxad.net)
[08:04:14] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:05:05] <Yurume> meTaAU: are you thinking of C++'s usage of enums?
[08:05:13] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Quit: Leaving...)
[08:05:18] <Yurume> like, defining constants via enums?
[08:05:56] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[08:06:00] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:06:03] <Yurume> I guess the closest alternative is `type Foo = (int,int); static a: Foo = (1,2); static b: Foo = (1,2);`, as Rust's enums are substantially different from C++'s one.
[08:07:13] *** Quits: Mowah (Mowah@moz-8548F376.cust.bredbandsbolaget.se) (Ping timeout)
[08:07:45] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[08:07:46] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:08:16] <meTaAU> Yurume: Ok. I was just tyring to keep it all looking pretty.
[08:09:10] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[08:09:34] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:09:56] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[08:10:08] *** Quits: nulldata (chatzilla@BA6AA2FD.BFAF942F.E5879046.IP) (Ping timeout)
[08:10:53] *** Joins: marianoguerra (marianogue@moz-C6801CB6.dip0.t-ipconnect.de)
[08:11:00] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[08:11:21] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:11:22] *** Joins: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP)
[08:11:36] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[08:11:59] *** Joins: llm (Mibbit@moz-3B9F8099.pools.arcor-ip.net)
[08:12:30] *** Joins: nulldata (chatzilla@BA6AA2FD.BFAF942F.E5879046.IP)
[08:12:50] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[08:13:06] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:13:07] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[08:14:55] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[08:14:55] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:16:38] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[08:16:41] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:18:07] *** Joins: krebbit (Mibbit@moz-A06909E4.glbb.ne.jp)
[08:18:20] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[08:18:27] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:20:11] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[08:20:14] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:21:15] <eddyb> my default type params PR is still a HKT bikeshed :(
[08:21:17] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[08:21:58] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[08:22:01] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:22:34] <Yurume> eddyb: that'd be a natural consequence.
[08:23:00] <eddyb> I don't believe we'll have variadic generics in Rust this year, based on that
[08:23:03] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[08:23:11] *** Joins: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP)
[08:23:18] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Quit: Leaving)
[08:23:21] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[08:23:28] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[08:23:44] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Client exited)
[08:23:47] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:24:05] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[08:25:27] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[08:25:32] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[08:25:35] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:25:35] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[08:26:24] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[08:27:16] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[08:27:20] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:28:24] *** Quits: krebbit (Mibbit@moz-A06909E4.glbb.ne.jp) (Quit: http://www.mibbit.com ajax IRC Client)
[08:29:03] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[08:29:08] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:29:09] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[08:29:50] *** Quits: reyre (reyre@moz-89E9865B.com) (Ping timeout)
[08:30:06] *** Quits: ercxx (ercan@moz-88DD3A7E.dyn.optonline.net) (Quit: WeeChat 0.4.2)
[08:30:42] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[08:30:55] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:32:39] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[08:32:41] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:33:10] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Quit: Leaving...)
[08:34:26] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[08:34:29] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:34:41] *** Quits: brson (brson@moz-D434EC03.dsl.sca.megapath.net) (Quit: leaving)
[08:35:00] *** Parts: kvanb (kvanb@moz-CC32E42A.vic.bigpond.net.au) ()
[08:35:10] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[08:35:34] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[08:35:56] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[08:36:00] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[08:36:12] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:36:32] *** Quits: paulproteus (quassel@rose.makesad.us) (Ping timeout)
[08:37:07] *** Joins: jackneill (jackneill@moz-E9D68037.pool.digikabel.hu)
[08:37:17] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[08:37:30] *** Quits: nidhimj22 (chatzilla@moz-E5FBE87B.mtnl.net.in) (Quit: ChatZilla 0.9.90.1 [Firefox 26.0/20131206151436])
[08:37:43] *** Joins: paulproteus (quassel@moz-E86A3B42.makesad.us)
[08:37:55] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[08:37:59] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:39:41] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[08:39:47] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:41:31] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[08:41:34] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:41:57] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[08:43:17] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[08:43:20] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:45:01] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[08:45:08] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:45:13] *** Joins: mankyKitty (Instantbir@moz-9B898D95.enst-bretagne.fr)
[08:46:53] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[08:46:54] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:48:05] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:48:38] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[08:48:40] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:49:05] *** Quits: llm (Mibbit@moz-3B9F8099.pools.arcor-ip.net) (Quit: http://www.mibbit.com ajax IRC Client)
[08:49:13] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:49:15] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[08:49:49] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[08:50:23] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[08:50:26] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:52:06] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[08:52:13] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:52:50] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[08:53:41] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[08:53:58] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:54:02] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[08:55:37] *** Joins: sigma (sigma@moz-1C81041B.range86-184.btcentralplus.com)
[08:55:40] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Input/output error)
[08:55:43] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[08:55:47] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:56:12] *** Quits: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP) (Quit: Computer has gone to sleep.)
[08:57:28] *** Quits: leslie (Adium@802083C6.67DB9176.67D29DD9.IP) (Quit: Leaving.)
[08:57:29] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[08:57:29] *** Joins: leslie (Adium@moz-454B76DB.members.linode.com)
[08:57:34] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:59:16] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[08:59:18] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:59:21] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Client exited)
[08:59:43] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[08:59:55] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[09:00:02] *** Quits: leslie (Adium@moz-454B76DB.members.linode.com) (Ping timeout)
[09:00:22] *** Joins: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP)
[09:00:47] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[09:01:08] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:01:18] *** Joins: leslie (Adium@802083C6.67DB9176.67D29DD9.IP)
[09:02:45] *** Quits: leslie (Adium@802083C6.67DB9176.67D29DD9.IP) (Quit: Leaving.)
[09:02:47] *** Joins: leslie (Adium@moz-454B76DB.members.linode.com)
[09:02:49] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[09:02:53] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:03:20] *** Quits: FreeFull (freefull@moz-14342BB2.as13285.net) (Quit: )
[09:03:57] *** Joins: eibwen (kvirc@moz-BA489CAB.dip0.t-ipconnect.de)
[09:04:07] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[09:04:28] *** Quits: leslie (Adium@moz-454B76DB.members.linode.com) (Ping timeout)
[09:04:34] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[09:04:39] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:05:18] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:05:27] *** Quits: brendan (brendaneic@ED1D06F0.E4611EEC.436A6ED6.IP) (Quit: brendan)
[09:05:48] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[09:06:05] *** Joins: leslie (Adium@802083C6.67DB9176.67D29DD9.IP)
[09:06:09] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[09:06:26] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:06:59] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[09:07:51] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[09:08:13] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:08:25] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[09:09:00] *** Joins: oberstet (quassel@moz-51427E81.dynamic.mnet-online.de)
[09:09:14] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[09:09:14] *** Quits: Erik_ (Erik_S@moz-E7E31D21.hlrn.qwest.net) (Ping timeout)
[09:09:40] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[09:09:51] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[09:09:59] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:11:41] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[09:11:45] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:11:48] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[09:12:00] *** Joins: AntonJa (Mibbit@16218B1E.8F50391A.D9CD682B.IP)
[09:12:01] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[09:12:31] <AntonJa> Hello!
[09:13:00] <AntonJa> Can someone help me with Rust programm?
[09:13:17] <AntonJa> nothing special....
[09:13:23] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[09:13:33] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:13:33] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[09:13:45] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[09:13:54] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[09:14:15] <AntonJa> Why compiled program does not prints message written by println("test")
[09:14:18] <AntonJa> ?
[09:15:15] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[09:15:18] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:15:19] *** Joins: pilf (pilf@8FA95888.1A994CBC.4B228AD7.IP)
[09:15:27] <strcat> rustilite: fn main() { println!("foo") }
[09:15:31] -rustilite- foo
[09:15:56] <AntonJa> I can tell more
[09:15:59] *** Quits: nulldata (chatzilla@BA6AA2FD.BFAF942F.E5879046.IP) (Ping timeout)
[09:16:09] *** Quits: rca (rcatolino@moz-5EA2C694.adsl.proxad.net) (Ping timeout)
[09:16:47] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[09:17:05] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:17:15] <AntonJa> use std::io::print; fn main() {println("hello?");println!("hello?");} compiles, but gives no output
[09:17:44] <strcat> rustilite: use std::io::println; fn main() {println("hello?");println!("hello?");}
[09:17:45] <AntonJa> is this my mistake or I should recompile rust?
[09:17:47] -rustilite- hello?
[09:17:47] -rustilite- hello?
[09:17:56] <strcat> AntonJa: dunno, works for me
[09:18:08] <Ms2ger> You run the binary, right? :)
[09:18:13] <AntonJa> yes
[09:18:25] <strcat> AntonJa: which OS?
[09:18:38] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[09:18:54] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:18:55] <AntonJa> * true, its should be std::io::println;
[09:18:57] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[09:19:12] <AntonJa> Ununtu 12.04
[09:19:21] *** Joins: heftig (heftig@moz-D746319F.unitymedia.biz)
[09:19:50] <mankyKitty> Did anyone have any further thoughts on this PR: https://github.com/mozilla/rust/pull/11686 ? There doesn't seem to be any more movement towards a consensus.. 
[09:20:21] <Yurume> AntonJa: how do you compile and run the code?
[09:20:38] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[09:20:40] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:20:47] <AntonJa> rustc test.rs
[09:21:16] <eddyb> AntonJa: that only compiles it
[09:21:28] <eddyb> AntonJa: ./test to run it
[09:21:43] <AntonJa> Yes
[09:22:08] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[09:22:08] <AntonJa> Ouu!!!!
[09:22:28] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:22:49] <AntonJa> I have misset, that, output is before anton@anton:....
[09:22:54] <AntonJa> Silly me :D
[09:23:27] <Yurume> ;)
[09:23:35] <AntonJa> Works fine Thanks for now! 
[09:24:06] <AntonJa> Trying to get thrue tutorial in rust class :)
[09:24:11] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[09:24:14] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:25:13] <AntonJa> Ok. Will not bother you for now :) have to get back to work... By!
[09:25:33] *** Quits: AntonJa (Mibbit@16218B1E.8F50391A.D9CD682B.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[09:25:57] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[09:26:00] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:26:42] *** Joins: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP)
[09:26:49] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[09:27:04] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Quit: Leaving)
[09:27:35] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[09:27:47] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:28:23] *** Quits: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP) (Ping timeout)
[09:28:35] *** Joins: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net)
[09:29:16] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[09:29:34] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:29:39] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[09:29:40] *** Joins: autra_ (augustin@A14DAE84.7F753DD1.EE2CA32B.IP)
[09:31:18] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[09:31:20] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:32:04] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[09:32:55] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[09:33:06] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:34:51] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[09:34:54] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:36:02] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[09:36:34] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[09:36:40] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:37:43] *** Joins: nulldata (chatzilla@BA6AA2FD.BFAF942F.E5879046.IP)
[09:38:24] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[09:38:28] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:39:51] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[09:40:14] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:41:04] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[09:41:55] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[09:41:59] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:42:21] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: Textual IRC Client: www.textualapp.com)
[09:43:24] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[09:43:40] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[09:43:53] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:44:02] *** Quits: nulldata (chatzilla@BA6AA2FD.BFAF942F.E5879046.IP) (Ping timeout)
[09:44:04] *** Joins: kvanb (kvanb@moz-CC32E42A.vic.bigpond.net.au)
[09:45:15] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[09:45:35] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:46:58] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[09:47:05] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[09:47:20] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:47:42] *** Joins: moostik (Icedove@moz-1FF02BE5.w92-151.abo.wanadoo.fr)
[09:49:02] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[09:49:06] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:50:48] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[09:50:53] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:51:29] *** Joins: nulldata (chatzilla@BA6AA2FD.BFAF942F.E5879046.IP)
[09:52:19] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[09:52:38] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[09:52:38] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:52:49] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[09:53:37] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[09:54:21] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[09:54:21] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Connection reset by peer)
[09:54:22] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[09:54:27] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:56:10] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[09:56:13] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:57:57] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[09:57:59] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:58:16] *** Quits: moostik (Icedove@moz-1FF02BE5.w92-151.abo.wanadoo.fr) (Ping timeout)
[09:58:57] *** Joins: mib_hgl0ei (Mibbit@moz-729859ED.contextvision.se)
[09:59:18] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[09:59:23] <mib_hgl0ei> I just noticed that the shootout have added rust: http://benchmarksgame.alioth.debian.org/u64/benchmark.php?test=all&lang=rust&id=1&data=u64
[09:59:45] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[09:59:47] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[10:00:02] *** Joins: Heather (Heather@19663F6.F53BAACC.9C17E900.IP)
[10:00:23] <strcat> need to go do proper 1:1 ports of the C/C++ versions
[10:00:25] <Heather> ehm
[10:00:28] <strcat> something to do!
[10:00:30] * strcat goes to do it
[10:00:32] <Heather> while true says mee to use loop
[10:00:37] <Heather> but there is no loop...
[10:00:43] <Heather> at least I can't find where is loop
[10:00:43] <strcat> Heather: there is
[10:00:45] <NiccosSystem> ... 'loop {}'?
[10:01:13] <Heather> error: cannot determine a type for this expression: unconstrained type
[10:01:13] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[10:01:20] *** Joins: moostik (Icedove@moz-1FF02BE5.w92-151.abo.wanadoo.fr)
[10:01:36] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[10:01:47] <Heather> what is loop return type ? is it not the same as while loop?
[10:02:03] <strcat> not sure what you mean
[10:02:15] <strcat> neither has a return type beyond ()
[10:02:31] <Heather> strcat: look : https://gist.github.com/Heather/8556231
[10:02:37] <Heather> strcat: it works with while true
[10:02:50] <Heather> but gives warning forcing me to try loop instead
[10:02:56] <Heather> and loop fails with this error
[10:03:01] <Heather> so where is logic
[10:03:22] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[10:03:22] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[10:03:46] <strcat> huh?
[10:03:54] <strcat> (|r:|s:|t:|||||{r(|t:|||{t()})})
[10:03:57] <Ms2ger> Not in those expressions!
[10:04:35] *** Quits: mib_hgl0ei (Mibbit@moz-729859ED.contextvision.se) (Quit: http://www.mibbit.com ajax IRC Client)
[10:05:05] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[10:05:09] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[10:05:59] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[10:06:49] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[10:06:57] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[10:07:04] <pnkfelix> Heather: where is the original source?
[10:07:15] <Heather> pnkfelix: on github
[10:07:39] <Heather> pnkfelix:  https://github.com/Heather/Mirana/blob/master/src/Mirana/Mirana.rs
[10:07:41] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[10:08:04] <pnkfelix> Heather: ... you miss my point.  An error message on a gist without the corresponding source (or a link to it) is not easy to diagnose.
[10:08:09] <pnkfelix> pnkfelix: ah okay
[10:08:13] <pnkfelix> Heather: ah okay
[10:08:32] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[10:08:40] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[10:08:46] <Heather> pnkfelix: just pushed update
[10:09:10] <Heather> pnkfelix:  but I still recieve this warning which says me to use loop
[10:09:39] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[10:09:40] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[10:10:25] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[10:10:29] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[10:10:40] <Heather> early I used while(true) because this way it can't detect that it's infinity loop
[10:10:51] <Heather> but now with while(true) I get another warning !
[10:10:58] <Heather> so I just get warning anyways now
[10:11:01] <pnkfelix> Heather: changing to loop works for me.  I.e.: https://gist.github.com/pnkfelix/8556324
[10:11:20] <pnkfelix> Heather: can you show us what you did to replace `while (true)` with `loop` ?
[10:11:41] <pnkfelix> (see again above note about providing error messages without link to *actual* source)
[10:11:45] <Yurume> http://benchmarksgame.alioth.debian.org/u64/program.php?test=pidigits&lang=rust&id=1 interesting. so we have the slowest pidigits program ;)
[10:11:55] *** Joins: ecl3ctic (Mibbit@moz-E1FAD64C.wzfv1.vic.bigpond.net.au)
[10:12:06] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (No route to host)
[10:12:07] <Heather> pnkfelix: what's your rustc version
[10:12:14] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[10:12:15] <Yurume> seriously, isn't it a call for AddAssign etc?
[10:12:18] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[10:12:35] <pnkfelix> Heather: rustc 0.10-pre (6f3326f 2014-01-21 00:06:22 -0800)
[10:12:39] *** Quits: dew (Instantbir@moz-F418C64A.dhcp.stls.mo.charter.com) (Ping timeout)
[10:12:55] <Heather> pnkfelix: well okay... then it's strange
[10:12:56] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[10:13:02] *** Quits: derek_c (derek@moz-68CEEE1A.cit.cornell.edu) (Ping timeout)
[10:13:09] <pnkfelix> Heather: I did not try to apply it to your whole program
[10:13:22] <Heather> pnkfelix: try it please
[10:13:34] <Heather> pnkfelix: I think that rustbuildbotdance may be problem
[10:13:36] <pnkfelix> Heather: How about you start by showing *me* the actual code
[10:13:46] <pnkfelix> Heather: not something with the while (true)
[10:13:58] <pnkfelix> Heather: so that we eliminate the possibility 
[10:13:58] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[10:14:00] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[10:14:03] <Heather> pnkfelix: actual?
[10:14:15] <pnkfelix> Heather: eliminate the possibilty that you and I
[10:14:20] <Heather> pnkfelix:  https://github.com/Heather/Mirana/blob/master/src/Mirana/Mirana.rs <- it's actual code, scroll to the end
[10:14:25] <pnkfelix> Heather: would modify the code with the while(true) in different ways
[10:14:47] <pnkfelix> Heather: I read your code.  
[10:15:05] <pnkfelix> Heather: That's where I got my gist from that I posted earlier, I didn't write that in a vacuum.
[10:15:20] <pnkfelix> Heather: Let me try one more time.  here's what I am concerned about:
[10:15:21] <eddyb> wait, what, why do you even have that closure contraption?
[10:15:40] <pnkfelix> Heather: you wrote original source code A, and posted it to github
[10:15:42] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[10:15:47] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[10:15:56] <pnkfelix> Heather: and you are telling us about problems you've encountered with some derivative work, A_2
[10:16:00] <eddyb> Yurume: does it say how it was compiled?
[10:16:14] <Yurume> eddyb: --opt-level=3 evidently.
[10:16:21] <pnkfelix> Heather: I can make my own derivatives, A_3, but I cannot be confident that I am duplicating your experiment
[10:16:31] <eddyb> Yurume: oh, it does, sorry
[10:16:48] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[10:16:50] <Heather> pnkfelix: you can clone repository, try change there and comple...
[10:16:59] <Yurume> the CPU secs are consistent with O(n^2) or O(n^2 log n), which is fine compared to other languages.
[10:17:14] <Yurume> my prime suspect here is a lot of temporary allocations but I may be wrong
[10:17:16] <pnkfelix> Heather: never mind, I need to get back to something else.
[10:17:32] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[10:17:35] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[10:17:39] <eddyb> Yurume: where's the code?
[10:18:10] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[10:18:10] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[10:18:15] <Yurume> I think they used https://github.com/mozilla/rust/blob/master/src/test/bench/shootout-pidigits.rs
[10:18:21] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[10:18:38] <Heather> pnkfelix: okay...
[10:24:34] *** Quits: nulldata (chatzilla@BA6AA2FD.BFAF942F.E5879046.IP) (Ping timeout)
[10:25:51] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[10:27:34] *** Joins: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP)
[10:28:48] <Heather> how to disable warning?
[10:29:17] *** Quits: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP) (Ping timeout)
[10:29:23] <Heather> e.g. if I see #[warn(while_true)] on by default I expect I can disable it
[10:30:37] <pnkfelix> Heather: okay I couldn't stay away
[10:30:46] <pnkfelix> Heather: I've reduced your test case to a smaller example
[10:30:54] *** kimundi is now known as zz_kimundi
[10:31:02] <pnkfelix> Heather: more suitable for filing a bug report
[10:32:26] <Heather> pnkfelix: alright, I also didn't understood first and second time that you wanted me to show the source with loop... it happens with me... but I used exactly the same way as you....
[10:32:57] *** Joins: nulldata (chatzilla@BA6AA2FD.BFAF942F.E5879046.IP)
[10:33:33] <Heather> pnkfelix: are you going to fill issue?
[10:33:49] <mitsuhiko> just noticed that iter.rs has a test_peekable_is_empty that is missing a #[test] attribute
[10:33:55] <mitsuhiko> does anyone know if that's intentional or not?
[10:34:10] <pnkfelix> Heather: okay so first I want to show you a more minimized example
[10:34:12] <pnkfelix> Heather: https://gist.github.com/pnkfelix/8556608
[10:34:44] <pnkfelix> Heather: If you can, in general you should try to cut your examples down like this before advertising them to others
[10:34:50] <pnkfelix> Heather: to save everyone time inspecting the code
[10:35:11] <pnkfelix> Heather: as for working around the problem
[10:35:22] <pnkfelix> Heather: I think the easiest thing for you to do would be
[10:35:33] <pnkfelix> Heather: to explcitly instantiate the function's type parameter
[10:36:40] <Heather> pnkfelix: hm... you mean for dance function?
[10:36:53] <pnkfelix> Heather: yes that's right
[10:37:02] <pnkfelix> Heather: give me a second and I'll show you on the gist
[10:37:22] <Heather> pnkfelix: but it will make it lesser universal
[10:37:30] <Heather> or less-universal
[10:37:37] <pnkfelix> Heather: give me a second, I think you are misunderstanding me
[10:37:40] <eddyb> mitsuhiko: is it called from other tests?
[10:37:45] <pnkfelix> Heather: I'm not talking about changing buildbotdance itself
[10:37:52] <Heather> pnkfelix: very possibly
[10:37:59] <mitsuhiko> eddyb: no
[10:38:02] <pnkfelix> Heather: (the function itself will remain generic)
[10:38:06] <eddyb> AAAAH
[10:38:14] <eddyb> mitsuhiko: then you must be right
[10:38:48] <mitsuhiko> i assume traits that are in the prelude must have unique method names?
[10:38:54] <eddyb> Heather: it's obvious what's going on now, I would've known if would've seen the original error. it has an unconstrained type because it's ty_bot
[10:39:27] <eddyb> rusti: loop {}
[10:39:36] -rusti- pastebinned 10 lines of output: http://ix.io/9RZ
[10:39:56] <pnkfelix> eddyb: It is nontheless interesting that the type-checker's treatment is different between `while (true)` and `loop` here
[10:40:09] <pnkfelix> eddyb: and it certainly makes that warning message frustrating.
[10:40:24] *** Joins: brendan (brendaneic@ED1D06F0.E4611EEC.436A6ED6.IP)
[10:40:29] <eddyb> pnkfelix: sorry I didn't figure out earlier. strcat said "()" but he was wrong
[10:40:46] *** Quits: brendan (brendaneic@ED1D06F0.E4611EEC.436A6ED6.IP) (Quit: brendan)
[10:41:07] <mitsuhiko> is there a workaround for conflicting names on traits?
[10:41:10] <Heather> rusti: ()
[10:41:12] -rusti- ()
[10:41:25] <mitsuhiko> StrVector defines a connect() method, I want to have a StrIterator extension on Iterator<T: FromStr> with the same name
[10:41:40] <pnkfelix> Heather: okay, I've updated my gist: https://gist.github.com/pnkfelix/8556608
[10:41:43] <mitsuhiko> but when i do that, the str tests fail because it now tries to find my StrIterator on StrVector
[10:41:45] <eddyb> Heather: anything unreachable is inferred to have the type ty_bot i.e. !
[10:42:04] <eddyb> pnkfelix: while (true) is not obviously infinitely looping - you mean that the lint catches it but not typeck?
[10:42:11] <pnkfelix> Heather: the point is that, if you feed a type into `dance` at the point where you *invoke* it, a la `dance::<TypeGoesHere>(...)`
[10:42:16] <eddyb> maybe lint has more information
[10:42:19] <pnkfelix> Heather: then that will also sidestep the error
[10:42:42] <Heather> pnkfelix: ye, thnaks
[10:42:47] <pnkfelix> eddyb: According to Heather she's getting a warning telling her to use `loop` instead.  Though to be honest I do not see that in my own example.
[10:42:54] <Heather> now I've got more brackets there :D
[10:42:56] *** Quits: sigma (sigma@moz-1C81041B.range86-184.btcentralplus.com) (Client exited)
[10:43:14] *** Joins: brendan (brendaneic@ED1D06F0.E4611EEC.436A6ED6.IP)
[10:43:22] <eddyb> pnkfelix: I think explicitly giving the closure a type would also work
[10:43:33] <eddyb> rusti: let f = || loop {}; f()
[10:43:36] -rusti- pastebinned 10 lines of output: http://ix.io/9RZ
[10:43:41] <eddyb> rusti: let f: || = || loop {}; f()
[10:43:47] -rusti- timeout triggered!
[10:44:12] <eddyb> that's a bit silly, isn't it ^^?
[10:45:06] *** Joins: tq (tq@moz-9FE9CCF4.a251.priv.bahnhof.se)
[10:45:23] *** Joins: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP)
[10:45:44] *** Joins: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP)
[10:45:44] <Heather> eddyb: I didn't know || itself is type also )
[10:45:58] <eddyb> https://gist.github.com/pnkfelix/8556608#file-w-rs-L5-L6 not sure if I consider it a bug. ! can be anything, but not itself. so dance::<Option<@str>>(|| loop {}) would also work
[10:46:37] <pnkfelix> eddyb: I *think* its okay to allow one to substitute an arbitrary type there...
[10:46:38] <Heather> rusti: let f: || -> () = ||::<()> loop {}; f()
[10:46:40] *** Joins: Mowah (Mowah@moz-8548F376.cust.bredbandsbolaget.se)
[10:46:40] -rusti- pastebinned 6 lines of output: http://ix.io/a3x
[10:47:16] <eddyb> Heather: remove ::<()>
[10:47:23] <Heather> let f: || -> () = || loop {}; f()
[10:47:36] <eddyb> || as a type is || -> () btw
[10:47:45] <eddyb> just like functions
[10:47:53] <pnkfelix> my examples don't seem to every give the `while-true` warning though
[10:48:05] <eddyb> pnkfelix: maybe the bug is that we could possibly allow inferring ! (ty_bot) for type param substitutions... but it may cause problems if the type ends up somewhere that's not a return type. I'm not sure of the implications
[10:48:07] <pnkfelix> even after plugging in Heather's original omega-term
[10:48:26] <eddyb> rusti: let f: || -> ! = || loop {}; f()
[10:48:28] -rusti- pastebinned 10 lines of output: http://ix.io/9RZ
[10:48:37] <pnkfelix> eddyb: yeah we probably don't want to let `!` leak into argument positions
[10:49:02] <Heather> omega-term...
[10:49:30] <eddyb> Heather: so what's with the closure contraption? (I'm assuming that's what pnkfelix is calling "omega-term")
[10:49:56] <Heather> eddyb: this? https://github.com/Heather/Mirana/blob/master/src/Mirana/Mirana.rs#L506-L508
[10:50:02] <pnkfelix> Heather: http://www.engr.uconn.edu/~jeffm/Classes/CSE298-Spring-1999/Lambda/lambda-7.html#ss7.5
[10:50:19] <eddyb> Heather: yeah
[10:50:56] <Heather> eddyb: it's () written in more interesting way...
[10:50:56] <pnkfelix> Heather: Omega is the name for a particular infinitely looping term in the lambda calculus.
[10:51:10] <eddyb> oh, that thing :))
[10:51:27] <Heather> eddyb: but look
[10:51:33] <Heather> eddyb: now I will call it omega
[10:51:39] <eddyb> harder to read it in Rust
[10:52:03] <eddyb> Heather: do you have the feature to enable unicode identifiers?
[10:52:19] <eddyb> feature flag or whatever it's called
[10:52:38] <Heather> eddyb: eh? alike?
[10:52:51] <eddyb> Heather: so you can use the greek letter omega :)
[10:53:05] <eddyb> is it uppercase or lowercase?
[10:53:30] <Heather> eddyb: Ω ?
[10:54:41] <eddyb> rustilite: fn main(){let Ω = 0;}
[10:54:43] -rustilite- pastebinned 10 lines of output: http://ix.io/a3y
[10:55:04] <eddyb> rustilite: #[feature(non_ascii_idents)]; fn main(){let Ω = 0;}
[10:55:05] -rustilite- <anon>:1:45: 1:45 warning: unused variable: `Ω`, #[warn(unused_variable)] on by default
[10:55:05] -rustilite- <anon>:1 #[feature(non_ascii_idents)]; fn main(){let Ω = 0;}
[10:55:05] -rustilite-                                                      ^
[10:55:10] <eddyb> Heather: ^^
[10:55:58] <Heather> eddyb: oh
[10:56:07] <Heather> eddyb: I need to refactor a lot of code now...
[10:56:12] <eddyb> hahaha
[10:56:29] <eddyb> Heather: you can use russian. but don't abuse it pls
[10:56:38] <Heather> eddyb:  I hope that it will look better than https://github.com/Heather/emo/blob/master/emo.fs
[10:57:34] <Heather> eddyb: can I define lambda as greek lambda?
[10:57:46] <dbaupp> Heather: yes
[10:57:56] <Heather> dbaupp: hi!
[10:58:18] <eddyb> if you mean \x instead of |x|, no. but you can use the letter for identifiers
[10:58:30] <dbaupp> hi
[10:58:51] <Heather> rustilite: #[feature(non_ascii_idents)]; fn main(){let λ = ||;} 
[10:58:53] -rustilite- pastebinned 6 lines of output: http://ix.io/a3z
[10:59:08] <eddyb> Heather: you need something after ||, like ||{}
[10:59:32] <eddyb> or ||() or |x| x (though that will give you "unconstrained type" because it can be anything)
[10:59:51] <eddyb> rusti: let λ = ||{};
[10:59:53] -rusti- pastebinned 10 lines of output: http://ix.io/a3A
[11:00:09] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[11:00:10] <eddyb> rusti should have all features enabled by default :D
[11:00:13] *** zz_kimundi is now known as kimundi
[11:00:27] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving.)
[11:01:11] <kimundi> rusti: let x: || = ||; x()
[11:01:13] -rusti- pastebinned 6 lines of output: http://ix.io/a3B
[11:01:40] <Heather> eddyb: fn λ<U>(f: || -> U) -> U { f(); ?
[11:01:45] <Heather> without ;
[11:01:50] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[11:02:05] <eddyb> Heather: hehe, should work
[11:03:08] <Heather> rustilite: #[feature(non_ascii_idents)]; fn λ<Ψ>(Ω: || -> Ψ) -> Ψ { Ω() }
[11:03:09] -rustilite- error: main function not found
[11:03:09] -rustilite- error: aborting due to previous error
[11:03:09] -rustilite- task 'rustc' failed at 'explicit failure', /home/strcat/projects/rust/src/libsyntax/diagnostic.rs:75
[11:03:09] -rustilite- task '<unnamed>' failed at 'explicit failure', /home/strcat/projects/rust/src/librustc/lib.rs:453
[11:03:09] -rustilite- application terminated with error code 101
[11:03:14] *** Quits: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net) (Ping timeout)
[11:03:25] <eddyb> OMG
[11:03:42] <dbaupp> ΩMG
[11:04:34] <Heather> rustilite: #[feature(non_ascii_idents)]; fn λ<Ψ>(Ω: || -> Ψ) -> Ψ { Ω() } fn main() { λ::<()> (|| { () }) }
[11:04:44] <Heather> ah.... I killed it
[11:05:01] <Ms2ger> ΟMG
[11:05:09] <eddyb> Heather: no you didn't, there's no part
[11:05:13] <eddyb> it might be timing out
[11:05:33] *** Quits: thesnowdog (doug@2DF7F7AE.8E46834.6F17036B.IP) (Ping timeout)
[11:05:41] <eddyb> rustilite: #[feature(non_ascii_idents)]; fn λ<Ψ>(Ω: || -> Ψ) -> Ψ { Ω() } fn main() { λ (|| {}) }
[11:06:00] <eddyb> Heather: keep in mind {} and () are fully equivalent. {()} is a waste of space
[11:06:11] <Heather> hm.. and rustc compiler doesn't like BOM
[11:06:24] <pnkfelix> of course, I was bogus in calling Heather's term omega...
[11:06:29] <eddyb> Heather: does your IRC client send it or something?
[11:06:35] <pnkfelix> since its not actually an infinitely looping term.
[11:06:41] * pnkfelix wipes egg off face
[11:06:47] *** Quits: nulldata (chatzilla@BA6AA2FD.BFAF942F.E5879046.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 26.0/20131206152142])
[11:07:06] *** Joins: nitro (nitro@241F3478.C8B67534.E205A781.IP)
[11:07:11] <Heather> eddyb: no, in editor... I need utf8 with no bom
[11:07:51] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[11:08:53] <FliPPeh> UTF8 can have BOMs?
[11:08:59] <FliPPeh> I'm so confused right now
[11:09:12] *** Joins: nkoep (nik@moz-1ACE05F3.pool.mediaways.net)
[11:09:28] <eddyb> Heather: just disable it in the editor
[11:09:38] <eddyb> there's no point in having it
[11:09:42] *** Joins: thesnowdog (doug@2DF7F7AE.8E46834.6F17036B.IP)
[11:09:43] <dbaupp> pnkfelix: I'm not sure we want your type around here, with a mistake like that!
[11:09:54] <pyon> Can a struct contain borrowed pointer fields with 'static lifetime?
[11:10:05] <dbaupp> pyon: yes
[11:10:19] * pnkfelix wonders if dbaupp was making a deliberate pun about typed LC being unable to express omega
[11:10:19] <dbaupp> FliPPeh: they're legal, but discouraged, aiui
[11:10:23] <pyon> Oh, lovely!
[11:10:46] <dbaupp> pnkfelix: the 'type' was a pun, but not quite as precise as that ;P
[11:11:46] <FliPPeh> dbaupp: But why? UTF-8 is defined in terms of 8 bit units that are atomic, there is no endianness in single bytes!
[11:12:03] <dbaupp> FliPPeh: yes; hence 'discouraged'
[11:12:20] <FliPPeh> Does it declare whether or not the continuation bytes come before or after the sequence starter bytes?
[11:12:23] <dbaupp> FliPPeh: http://en.wikipedia.org/wiki/Byte_order_mark#UTF-8
[11:12:33] <dbaupp> "The Unicode Standard permits the BOM in UTF-8,[2] but does not require nor recommend its use.[3] Byte order has no meaning in UTF-8,[4] so its only use in UTF-8 is to signal at the start that the text stream is encoded in UTF-8"
[11:12:48] <FliPPeh> ah
[11:12:52] *** Joins: calvinmetcalf (cmetcalf@moz-468348D6.hsd1.ma.comcast.net)
[11:12:57] <FliPPeh> Shouldn't even permit that
[11:13:26] <FliPPeh> For that matter, deprecate UTF-16 and UTF-32
[11:13:28] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[11:13:50] <FliPPeh> UTF-32 I can understand, but UTF-16 is just pure nonsense that should never have been invented
[11:14:10] *** Joins: Hildar (Mibbit@moz-E9827E30.in-addr.btopenworld.com)
[11:14:54] <mitsuhiko> well, UTF-16 was a compromise after they realized that UCS2 will not fly
[11:14:57] <dbaupp> unfortunately it's going to take many years for UTF16 (and worse, UCS-16) to disappear :(
[11:15:05] <FliPPeh> dbaupp: Windows and Java mainly
[11:15:06] <mitsuhiko> and mostly it's there because microsoft and java fucked up
[11:15:07] <dbaupp> err, UCS2, whatever it's called
[11:15:07] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[11:15:17] <dbaupp> FliPPeh: yup; and JS
[11:15:40] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[11:18:00] <mitsuhiko> anyone any ideas to different traits sharing the same method name
[11:18:05] <mitsuhiko> is there a way to make that work?
[11:18:13] <mitsuhiko> I want to have the same method on a StrVector and a StrIterator
[11:18:15] * FliPPeh hopes not
[11:18:31] <dbaupp> mitsuhiko: not without removing StrVector from the prelude
[11:18:33] <strcat> mitsuhiko: they do something different?
[11:18:36] <FliPPeh> What about trait inheritance? Is that in yet?
[11:18:41] <dbaupp> if you do that then it's all fine
[11:18:42] <strcat> yes
[11:18:53] <mitsuhiko> strcat: i want to have the methods on the StrVector on StrIterator actually
[11:19:01] <mitsuhiko> but it will be less efficient for the vector case
[11:19:04] <mitsuhiko> since it does not know the length
[11:19:05] <dbaupp> mitsuhiko: you could just replace StrVector with StrIterator
[11:19:12] <mitsuhiko> (It's concat and connect)
[11:19:14] <strcat> mitsuhiko: why does it conflict?
[11:19:15] <dbaupp> yes
[11:19:25] <dbaupp> strcat: StrVector is in the prelude
[11:19:25] <strcat> mitsuhiko: you can have the same method on two traits
[11:19:34] <strcat> dbaupp: the same types are not implementing both
[11:19:35] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[11:19:41] <mitsuhiko> strcat: i thought so, but the tests in str fail with error: failed to find an implementation of trait iter::Iterator<<generic #20>> for [&'static str, .. 10]
[11:19:45] <dbaupp> strcat: StrIterator is fully generic
[11:20:00] <dbaupp> impl<T: Iterator<&str>> StrIterator for T
[11:20:09] <dbaupp> that fun bug :P
[11:20:46] <dbaupp> mitsuhiko: VectorVector in std::vec has the same problem
[11:20:58] <mitsuhiko> VectorVector :P
[11:21:00] <dbaupp> I ended up just naming it collect_vec or something like that
[11:21:12] <dbaupp> (it == the method)
[11:21:22] <strcat> mitsuhiko: vec.rs is going to die soon anyway
[11:21:49] <dbaupp> strcat: not all of it
[11:21:50] *** Joins: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com)
[11:21:59] <strcat> dbaupp: yeah, all of it, the slice stuff will be separate
[11:22:01] <dbaupp> strcat: at least, a pile of &[T] will sty around
[11:22:09] <dbaupp> oh
[11:22:27] <strcat> we need to drop big integers from libextra
[11:22:40] <mitsuhiko> i could make it be implemented on ToStr instead of Str and call it ToStrIterator and change the method names
[11:22:40] <dbaupp> well, it's just the file dying, not the functionality :P
[11:22:45] <mitsuhiko> which probably makes more sense anyways
[11:22:46] <strcat> they're really, really slow and make the language look bad ;\
[11:22:50] <dbaupp> strcat: too slow to be worth having?
[11:22:53] <strcat> dbaupp: yes
[11:23:09] <dbaupp> mitsuhiko: please no... it would be good for ToStr to disappear
[11:23:12] <strcat> dbaupp: http://benchmarksgame.alioth.debian.org/u64/benchmark.php?test=pidigits&lang=all&id=1&data=u64
[11:23:20] <dbaupp> strcat: yeah I saw
[11:23:24] <mitsuhiko> dbaupp: why remove ToStr?
[11:23:27] <strcat> dbaupp: and we're not going to be able to use gmp there as long as rust has big ints
[11:23:33] <strcat> either we need to use gmp or not offer it
[11:23:38] <strcat> ;p
[11:23:56] <dbaupp> mitsuhiko: it's design means it allocates too much
[11:24:01] <strcat> (fwiw, it's as fast as the top C implementation with gmp... obviously)
[11:24:14] <strcat> mitsuhiko: because we already have a default format try
[11:24:14] <mitsuhiko> dbaupp: yeah, but the idae of the interface is good :P
[11:24:18] <strcat> mitsuhiko: it's not
[11:24:19] *** Quits: mankyKitty (Instantbir@moz-9B898D95.enst-bretagne.fr) (Ping timeout)
[11:24:23] <strcat> mitsuhiko: it's yet another duplicate thing to implement
[11:24:26] <dbaupp> mitsuhiko: it should just be able to write out straight to a buffer (which std::fmt::Default does)
[11:24:35] <mitsuhiko> strcat: just implement to_str to call the default format?
[11:24:38] <strcat> mitsuhiko: yes
[11:24:42] <strcat> the trait is dumb
[11:24:58] <mitsuhiko> strcat: agreed. i hate the implementation :)
[11:25:00] <eddyb> hmm, this is an interesting development
[11:25:01] <mitsuhiko> but the shorthand is handy
[11:25:20] <dbaupp> strcat: if only gmp had a nicer license, then it'd be a no-brainer to just throw it straight in :'(
[11:25:26] <strcat> LGPL is a fine license
[11:25:30] <strcat> you can use it in proprietary software
[11:25:45] <FliPPeh> Clearly the WTFPL is the only good license
[11:25:45] <dbaupp> then why aren't we using it?
[11:25:51] <pyon> Is there no flat_map for Option? :-(
[11:26:09] <eddyb> pyon: .iter().flat_map, maybe?
[11:26:14] <strcat> dbaupp: does mean proprietary software has to ship linkable object files (.rlib)
[11:26:20] <strcat> dbaupp: not a big requirement
[11:26:21] <strcat> imo
[11:26:26] <strcat> if you statically link
[11:26:32] <strcat> if you dynamically link you don't have to do anything
[11:26:33] <pyon> eddyb: Ah!
[11:27:01] <eddyb> mitsuhiko: I have an optimization for string building - specifically format! can become "malloc(full length) then insert substrings" (it can even be eliminated by LLVM when you don't use the result, unlike the current implementation)
[11:27:12] <dbaupp> https://ghc.haskell.org/trac/ghc/wiki/ReplacingGMPNotes#ReasonsforReplacingGMPastheBignumlibrary I guess only the first acutally applies
[11:27:37] <strcat> dbaupp: this info is false
[11:27:47] <eddyb> mitsuhiko: and even without completely inlining and compile-time evaluation, it's still faster than the old way of dumping strings in a MemWriter
[11:28:02] <dbaupp> eddyb: I thought about how to get rust to optimise them well enough: hvae --opt-level=2,3,2 to run it at the various levels sequentially
[11:28:05] <strcat> that's not how the LGPL works
[11:28:12] <eddyb> dbaupp: hehe, that's a nice idea
[11:28:20] <eddyb> though I'd rather fix the underlying issue instead
[11:28:24] *** Joins: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP)
[11:28:36] <dbaupp> eddyb: pssh, ugly hacks are more fun :P
[11:28:37] *** Quits: calvinmetcalf (cmetcalf@moz-468348D6.hsd1.ma.comcast.net) (Quit: calvinmetcalf)
[11:28:47] <dbaupp> strcat: oh, ok; that's nicer
[11:28:59] <pnkfelix> strcat: http://www.gnu.org/licenses/gpl-faq.html#LGPLStaticVsDynamic
[11:29:10] <pnkfelix> strcat: You need to provide your app itself in relinkable form
[11:29:11] *** Quits: benjamin_ (benjamin@moz-C4D66C34.dip0.t-ipconnect.de) (Ping timeout)
[11:29:15] <strcat> pnkfelix: yes, as I stated above
[11:29:21] <strcat> pnkfelix: the info on this ghc page is untrue
[11:29:27] <eddyb> dbaupp: I haven't tested it, but print(format!(...)) might be faster than print!(...) with my optimization :P
[11:29:59] <strcat> pnkfelix: providing a .rlib without debug symbols is not a big requirement for a proprietary application using a rust bigint library
[11:30:06] *** Quits: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP) (Ping timeout)
[11:30:19] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[11:30:22] <dbaupp> eddyb: surely that's dumb :P (i.e. if it is faster, then print!() should be doing that.)
[11:30:27] <strcat> pnkfelix: *shrug*
[11:30:32] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[11:30:35] <lucian> strcat: static linking is really useful and a requirement in some cases. i don't think lgpl in the stdlib would be a good idea
[11:30:43] <strcat> lucian: not in libstd
[11:30:50] <strcat> lucian: and anyway, it does *not* forbid static linking
[11:31:02] <lucian> for practical purposes, it does
[11:31:11] <strcat> lucian: no, it does not.
[11:31:34] <lucian> you are required to allow the user to replace the version of gmp you ship
[11:31:34] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[11:31:39] <strcat> lucian: yes
[11:31:42] <strcat> lucian: an open-source project has source available for users to compile, it does not have to worry
[11:31:44] <pnkfelix> strcat: at this point i think we're treading on debate about what constitutes reasonable code distribution policies
[11:31:47] <lucian> that cannot be done if you statically link unless your program can also be rebuilt by the user
[11:31:54] <strcat> lucian: a closed source application needs to make linkable object files available
[11:32:06] <lucian> strcat: what about closed source applications that must statically link?
[11:32:06] <pnkfelix> strcat: for commericial entities
[11:32:10] <strcat> lucian: no, that's not true
[11:32:16] <strcat> lucian: they do not have to have the ability to rebuild it
[11:32:22] <strcat> they have to have the ability to *relink* it
[11:32:35] <lucian> that is not a meaningful difference
[11:32:40] <strcat> lucian: it is a very meaningful difference
[11:32:47] <lucian> you couldn't ship a game with gmp, for example
[11:32:48] <strcat> lucian: you do not have to provide source, or even debug symbols
[11:32:53] <strcat> lucian: yes, you can ship a game with gmp
[11:32:58] <lucian> on a console?
[11:33:07] <lucian> where the user can't change the installable artifact?
[11:33:14] <strcat> lucian: *make available*
[11:33:23] <strcat> lucian: does apt-get install source packages when you install a GPL binary? no
[11:33:24] <lucian> again, not an option for games
[11:33:32] <strcat> lucian: how is that not an option?
[11:33:38] <lucian> they are often forbidden from distributing more than the shipped executables
[11:33:49] <strcat> lucian: they don't have to put it on the disk
[11:33:52] <strcat> they have to make it available
[11:33:55] <lucian> they are not allowed to put it anywhere
[11:33:56] <ross> I'm having a bit of trouble figuring out the best way to manage packages with rustpkg. if I clone a github repository, should I add its path to my RUST_PATH? won't that get big quickly?
[11:34:02] <strcat> lucian: source?
[11:34:12] <strcat> you've stated a bunch of falsehoods already so sorry if I don't believe that at all
[11:34:24] <lucian> strcat: neither microsoft/sony nor the publisher will let you publish anything other than an installable artifact
[11:34:34] <strcat> lucian: doubt that's true
[11:34:36] <lucian> what falsehood have i stated?
[11:34:43] <strcat> so if you publish on PS4 you can't have your game on other platforms?
[11:34:54] <strcat> you can't have an open-source game published for the PS4?
[11:35:06] <lucian> it depends on publisher
[11:35:10] <eddyb> dbaupp: maybe we can have a BufferedFormatter that uses fixed-length buffer on the stack, and every time it goes over the limit, it stops and writes
[11:35:16] <strcat> lucian: so, where's a source for this
[11:35:19] <strcat> I don't believe you
[11:35:23] *** Joins: tobias (fredy@moz-69E19E09.home.otenet.gr)
[11:35:41] <lucian> on a PS4, sony would probably let you
[11:35:42] <dbaupp> eddyb: that would be neat
[11:35:46] <eddyb> dbaupp: then we only need to choose a sane default. though it might not require my recursive stringing thing
[11:35:50] <lucian> but, say, bethesda would not allow a studio to do that
[11:35:54] <lucian> or any other big pusblisher, really
[11:35:58] <strcat> I find it very, very hard to believe that you're not allowed to publish source or linkable object files for your game
[11:36:10] <strcat> lucian: if they're your publisher...
[11:36:17] <lucian> strcat: if you own the game, sure. but most game studios don't
[11:36:28] <lucian> so they can't practically use an lgpl library
[11:36:33] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[11:36:42] <strcat> so your argument is that certain companies have arbitrary rules forbidding this for their own products
[11:37:02] <strcat> anyway, fine with me if rust has a sub-standard standard library
[11:37:03] <dbaupp> do most games use bigints? in any case, if this isn't part of the main stdlib, it would be an optional "core" crate, that isn't compulsory to link in.
[11:37:04] <lucian> strcat: i'm saying a game studio has no leverage on the licensing of the games they produce
[11:37:17] <lucian> strcat: (usually)
[11:37:55] <lucian> strcat: hence, if they ask their publisher "could we publish a relinkable binary so we can use this library" they'd say no
[11:38:21] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[11:38:43] *** Quits: ecl3ctic (Mibbit@moz-E1FAD64C.wzfv1.vic.bigpond.net.au) (Quit: http://www.mibbit.com ajax IRC Client)
[11:38:43] <lucian> strcat: there is a reason rust itself is not lgpl. gmp would be great in a lot of cases, but having it as a requirement of even libextra would make rust a lot less attractive for game devs, for example
[11:38:54] <strcat> libextra is being dropped
[11:39:08] <lucian> w/e, shipping gmp bindings with rust
[11:39:15] <strcat> lucian: alright, so rust won't have big integers
[11:39:20] <strcat> fine with me
[11:39:24] <strcat> rust-core will have them
[11:39:34] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[11:39:42] <lucian> i don't understand why you appear to be so angry about this. i'm describing a use-case where lgpl isn't an option
[11:39:51] *** Quits: Hildar (Mibbit@moz-E9827E30.in-addr.btopenworld.com) (Quit: http://www.mibbit.com ajax IRC Client)
[11:39:56] <strcat> lucian: it's not a use case where it's not an option
[11:39:58] <lucian> gmp isn't the only option for big ints either
[11:40:12] <strcat> lucian: show me a library with anywhere near comparable performance then
[11:40:12] *** Joins: sigma (sigma@moz-1C81041B.range86-184.btcentralplus.com)
[11:40:41] <lucian> i have said nothing about gmp's quality
[11:40:44] <lucian> only its license
[11:40:53] <strcat> 06:41:00    lucian | gmp isn't the only option for big ints either
[11:40:57] <strcat> lucian: what other options are there?
[11:41:08] <lucian> building your own, slower, version
[11:41:18] <lucian> (python did this)
[11:41:48] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[11:41:51] *** Joins: calvinmetcalf (cmetcalf@moz-468348D6.hsd1.ma.comcast.net)
[11:42:07] <lucian> what would be nice is if you could choose between bignum implementations for the same interface, but i'm not sure how that would work (if it could at all)
[11:42:15] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[11:42:15] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[11:42:18] <strcat> lucian: can do that
[11:42:33] <strcat> but I don't know of a library we can use instead of gmp
[11:42:36] *** Joins: summerlight_ (summerligh@327FC32B.2C956A45.501EFF44.IP)
[11:43:03] <strcat> we are not realistically going to have our own bigint library with correct results + somewhat acceptable performance for a long time
[11:43:05] *** Joins: gkostyanikov (gkostyanik@55749271.2AEE264E.CA6E2165.IP)
[11:43:05] <lucian> there are few good ones. i've seen some people use libtom's math thing
[11:43:08] <pyon> Is there any generic (trait) method for getting an empty Map?
[11:43:27] <lucian> strcat: arguably none as good as gmp, indeed
[11:43:32] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[11:44:00] <dbaupp> pyon: don't think so
[11:44:33] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[11:44:38] *** Quits: sigma (sigma@moz-1C81041B.range86-184.btcentralplus.com) (Client exited)
[11:44:52] <pyon> The Map trait could expose such a method... it would be convenient for parametrizing stuff over maps. :-P
[11:45:04] <strcat> please no
[11:45:17] <dbaupp> does intel offer a bigint library? (I guess this is a different kind of numerics to their main math libaries.)
[11:45:27] <dbaupp> pyon: use Default + Map as your bound
[11:45:32] *** Quits: summerlight_ (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[11:45:35] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[11:45:37] <pyon> dbaupp: Oooh! Makes sense.
[11:45:38] <dbaupp> I think HashMap etc. implement Default
[11:45:46] <strcat> dbaupp: dunno, but if they did it'd probably be GPL and a 500-1000 dollar single user proprietary license
[11:45:52] <strcat> + "contact us" if you want a different license
[11:45:56] <strcat> as they do with tbb
[11:46:03] <pyon> dbaupp: TrieMap doesn't :-(
[11:46:03] <Heather> wow... with utf8 rust feels cool as perl
[11:46:19] <pyon> Heather: Was Perl ever cool?
[11:46:27] <Heather> pyon: sure it's cool
[11:46:28] *** Joins: Ferreus (ferreus@moz-A17BBAA1.pools.arcor-ip.net)
[11:46:40] <Heather> pyon: or do you think that everyone like rust?
[11:46:45] <dbaupp> strcat: I was just thnking of likely sources of high performance non-(L)GPL bigint libraries
[11:46:48] <lucian> dbaupp: strcat: i would also expect anything from intel to have even worse license issues
[11:46:56] *** Quits: tobias (fredy@moz-69E19E09.home.otenet.gr) (Quit: Leaving)
[11:47:00] <strcat> lucian: yes because they like using GPL (not LGPL)
[11:47:07] <strcat> + pay if you don't like it
[11:47:12] <dbaupp> lucian: but you can get a commercial license
[11:47:16] *** Quits: moostik (Icedove@moz-1FF02BE5.w92-151.abo.wanadoo.fr) (Ping timeout)
[11:47:23] <dbaupp> (from the perspective of a game studio.)
[11:47:24] <strcat> I don't know why they need to sell software, I seriously doubt that they earn even 0.001% of their income from it
[11:47:36] <lucian> dbaupp: sure, but that doesn't work as a default implementation in rust, much like i argue that gmp wouldn't
[11:47:55] <strcat> lucian: why not as a default implementation?
[11:48:07] <lucian> the intel one? because of the silly licensing
[11:48:11] <strcat> lucian: no I mean gmp
[11:48:19] *** Quits: marianoguerra (marianogue@moz-C6801CB6.dip0.t-ipconnect.de) (Ping timeout)
[11:48:22] <lucian> ah, because it would make rust effectively lgpl
[11:48:32] <dbaupp> only rust-when-using-bigints
[11:49:16] <strcat> and without -Z slow-big-integer
[11:49:33] <lucian> dbaupp: i believe that could also affect acceptance. choosing subsets of a language/stdlib is painful
[11:49:41] <strcat> lucian: wouldn't be a subset
[11:49:46] <lucian> the competition here is C++, which has no license concerns
[11:49:57] <strcat> you'd just be able to opt-in to the rust implementation that takes 30 minutes to do the benchmark gmp does in 2s
[11:50:06] <lucian> if rust ships with slow-big-integer as a default and a way to replace that with gmp/whatever, that'd be perfect for this usage
[11:50:09] <strcat> (that's a real number from the language shootout)
[11:50:21] <dbaupp> (preferably we'd be slightly optimised :P )
[11:50:51] <dbaupp> I'm sure there's many low hanging fruit in extra::bigint
[11:50:54] <strcat> realistically no one would care, because GMP works fine for proprietary applications if you don't have insane contracts ;P
[11:51:26] <lucian> right. i'm just trying to explain that most games are built under such contracts
[11:51:51] <lucian> if rust shipped with any lgpl at all, it would likely not be allowed to replace C++ in game studios
[11:51:53] <dbaupp> how often are bigints used in games?
[11:52:03] <strcat> they probably should be used fairly often
[11:52:14] <dbaupp> if a lot, there has to be some suitable replacement library
[11:52:18] <lucian> dbaupp: i don't really know. not much
[11:52:22] <strcat> I've played too many games using 32/64-bit ints for user-facing integers that have no real bounds
[11:52:42] <lucian> in practice, no one cares about overflow or such stupid things :(
[11:52:55] <dbaupp> and there was that bug a while ago with some price(?) overflowing
[11:52:58] <strcat> that's why big ints in the stdlib are important
[11:53:09] <strcat> they need to be in the stdlib, and as easy to use as fixed-size ones
[11:53:12] <lucian> strcat: yes, i totally agree with that
[11:53:39] <strcat> lucian: https://github.com/mozilla/rust/issues/11536 feel free to voice your agreement then ;p
[11:54:19] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[11:54:39] <strcat> tbh, I am quickly losing interest in rust
[11:54:43] <lucian> strcat: i think it might not be that bad if the stdlib includes only traits for biging
[11:54:55] <lucian> strcat: in favour of something else?
[11:54:56] <strcat> if it's not going to have a fast batteries included library that dead code elimination works on, I don't really want to use it
[11:55:09] *** Joins: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP)
[11:55:21] <strcat> lucian: if I seriously want to write anything real at this point I am going to reach for C++11/C++14
[11:55:40] *** Joins: blAckEn3d (blAckEn3d@moz-6E18770E.dip0.t-ipconnect.de)
[11:55:42] <lucian> strcat: and that's what game studios will do instead of looking at rust. that's what i'm trying to say
[11:55:59] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[11:56:00] <strcat> well, that's what everyone will do if it doesn't have a batteries included stdlib imo
[11:56:04] *** Joins: thiago (thiago@705535C9.9074706C.BD25C20F.IP)
[11:56:15] <strcat> and many people won't consider it if you pull in a huge amount of dynamically selected code
[11:56:39] <lucian> you think having to install rust-gmp would be a big problem
[11:56:40] <sanxiyn> Dynamically selected code?
[11:56:40] <lucian> ?
[11:56:54] <strcat> lucian: to get big integers? yes, a serious problem
[11:57:17] <strcat> sanxiyn: M:N vs. 1:1 threading is a runtime choice, so there are a huge numbers of trait objects abstracting this stuff everywhere
[11:57:18] <Heather> strcat: with Concerns ?
[11:57:24] <blAckEn3d> hey, how can i declare a static external function that i want to call (specifically LLVMInitializeNativeTarget which has the following signature: static inline LLVMBool LLVMInitializeNativeTarget(void))?
[11:57:34] <strcat> sanxiyn: compare 8KiB vs. multi-megabytes, for the same little utility
[11:57:55] <strcat> rust is basically as bad as Go, which has no LTO and splits everything up into little compilation units
[11:57:58] <dbaupp> blAckEn3d: extern { LLVMInitializeNativeTarget() -> LLVMBool; }
[11:58:02] <lucian> strcat: C++ doesn't have bigints either, though
[11:58:09] <dbaupp> blAckEn3d: http://static.rust-lang.org/doc/master/guide-ffi.html
[11:59:08] <blAckEn3d> dbaupp: thanks. i tried that (specifically extern { pub fn LLVMInitializeNativeTarget() -> Bool; }), but i get a linker error, even though i'm using the right linker flags
[11:59:29] <dbaupp> blAckEn3d: `#[link(name="llvm")] extern { ... }`?
[11:59:37] <sanxiyn> lucian: Sorry I came in middle... what is this about bigints and GMP?
[11:59:39] <blAckEn3d> dbaupp: i'll try that
[11:59:45] <strcat> lucian: C++ doesn't include batteries in the stdlib
[11:59:54] <lucian> strcat: i would argue rust shouldn't either
[12:00:01] <lucian> strcat: (or any language for that matter)
[12:00:05] <strcat> lucian: well, then I'm not going to be a rust user
[12:00:08] *** Joins: gwty (gwtypc@73751C9B.9ABB23D7.137C914F.IP)
[12:00:20] <strcat> I don't want to deal with the crappy ecosystems of nodejs/haskell
[12:00:21] <lucian> strcat: it's been a huge issue for python, long term
[12:00:36] <dbaupp> sanxiyn: licensing issues mainly
[12:00:49] <strcat> lucian: not as bad as having 10 implementations of big integers, and then various libraries use different ones
[12:00:54] <strcat> lucian: or networking
[12:00:54] <sanxiyn> I don't understand. Rust does not use GMP, does it?
[12:00:56] <strcat> or anything else
[12:01:09] <strcat> sanxiyn: no, it doesn't have big integers in libstd
[12:01:10] <lucian> strcat: changing stdlib modules in python at all is almost impossible. people end up using non-broken external things instead (requests instead of urllib)
[12:01:11] <sanxiyn> lucian: What is this huge issue for Python?
[12:01:17] <strcat> sanxiyn: the impl in libextra is too slow to be useful
[12:01:19] <lucian> sanxiyn: having a large stdlib
[12:01:27] <sanxiyn> lucian: Why is that a huge issue?
[12:01:48] <mitsuhiko> strcat: i would be the happiest person if "int" was an automatic bigint
[12:01:52] <lucian> sanxiyn: because the modules can't be changed and over time they prove to not necessarily be a good idea. the end result is a stdlib with lots of poor quality modules
[12:01:57] <mitsuhiko> but if that requires an lgpl rust then i'm out
[12:02:06] <mitsuhiko> not touching anything with gpl in it
[12:02:18] <strcat> lucian: requests use urllib, does it not?
[12:02:25] <sanxiyn> I am fine with GPL
[12:02:26] <mitsuhiko> strcat: not any more
[12:02:28] <mitsuhiko> urllib is too broken
[12:02:29] <lucian> strcat: it uses urllib3, which is also external
[12:02:40] *** Joins: marianoguerra (marianogue@moz-C6801CB6.dip0.t-ipconnect.de)
[12:02:49] <lucian> strcat: (all of these things are badly named, sadly)
[12:02:52] <mitsuhiko> strcat: very few libraries use the stdlib any more. especially now with python 3
[12:02:53] <dbaupp> mitsuhiko: it doesn't *require* lgpl; we can have a switch for slow bigints like GHC does
[12:03:03] <strcat> lucian: that is distinct from the urllib in python3?
[12:03:05] <dbaupp> but for performance it's GMP or... not much else.
[12:03:05] <mitsuhiko> the workarounds people put in places broke in python 3 so most people rewrote stdlib stuff
[12:03:11] <lucian> strcat: yep
[12:03:16] <mitsuhiko> strcat: yeah, urllib in python 3 is absolutely fucked :(
[12:03:22] <sanxiyn> Empirically, GMP didn't work too well for GHC
[12:03:24] <sanxiyn> https://ghc.haskell.org/trac/ghc/wiki/ReplacingGMPNotes
[12:03:40] <strcat> sanxiyn: they replaced the gmp allocator
[12:03:42] <strcat> rust wouldn't
[12:03:50] <lucian> strcat: urllib and urllib2 are in the stdlib in python2 and rather bad. urllib3 is external and a good low-level library, requests is external and a good high-level library
[12:03:51] <strcat> the first point listed there is a falsehood anyway
[12:04:02] <strcat> you can argue that LGPL is bad, but you can't say that proprietary code can't use it - it's untrue
[12:04:06] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[12:04:28] <lucian> strcat: in many cases developers of closed-source software cannot legally use lgpl libraries
[12:04:39] <lucian> strcat: which was really all that i've been arguing
[12:04:43] *** Joins: moostik (Icedove@moz-1FF02BE5.w92-151.abo.wanadoo.fr)
[12:04:44] <mitsuhiko> strcat: you cannot use lgpl code on xbox 360 for instance
[12:04:50] <mitsuhiko> legally
[12:04:54] <sanxiyn> strcat: As I understood, they are not arguing against LGPL, they are arguing against GHC's deficiency of forcing static linking?
[12:04:55] <mitsuhiko> not saying you want big integers there
[12:04:59] <mitsuhiko> but that's not the point here :)
[12:05:01] <strcat> mitsuhiko: and? they can use the slow fallback implementation
[12:05:18] <tOkeshu> mitsuhiko: you cannot use lgpl code on xbox 360 ?
[12:05:20] *** Quits: moostik (Icedove@moz-1FF02BE5.w92-151.abo.wanadoo.fr) (Quit: moostik)
[12:05:20] <strcat> -Z orders-of-magnitude-slower-big-integers, and go be happy that you avoided LGPL
[12:05:22] <sanxiyn> strcat: I agree that point is moot wrt Rust
[12:05:27] <mitsuhiko> tOkeshu: no. no dynamic linking there
[12:05:32] <tOkeshu> ah ok
[12:05:33] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[12:05:36] <tOkeshu> interesting :)
[12:05:45] *** Joins: moostik (Icedove@moz-1FF02BE5.w92-151.abo.wanadoo.fr)
[12:05:55] <strcat> mitsuhiko: you can use LGPL with static linking in a proprietary application
[12:05:59] <strcat> the object files need to be available
[12:06:01] <strcat> not the source
[12:06:07] <sanxiyn> Very true
[12:06:20] <strcat> I am not sure why it is widely repeated that you can't use it
[12:06:31] <lucian> strcat: and that is not legally allowed for developers of xbox360 games
[12:06:31] <strcat> sure, maybe a contract says you can't
[12:06:35] <mitsuhiko> strcat: people have tried using lgpl code in game development for a long time and lawyers have indicated that one should not do that
[12:06:47] <mitsuhiko> both sdl and ogre3d had to relicense for that very reason
[12:06:55] <mitsuhiko> and it took them a lot of pain to do that
[12:07:08] <strcat> mitsuhiko: -Z orders-of-magnitude-slower-big-integers, problem solved
[12:07:19] <sanxiyn> I am not sure what is being discussed
[12:07:29] <sanxiyn> Is the discussion about whether Rust should have (optional) dependency on GMP?
[12:07:34] <strcat> mitsuhiko: big integers need to be in the stdlib
[12:07:39] <strcat> and it can't be ridiculously slow by default
[12:07:42] <mitsuhiko> strcat: (?)gpl code in rust and i am instantly no longer interested
[12:07:50] <sanxiyn> mitsuhiko: Bye bye
[12:07:54] <mitsuhiko> because that sets a bad precedent
[12:07:58] <lucian> sanxiyn: strcat is arguing rust should have gmp as the default bigint implementation, as i understand it
[12:08:04] <sanxiyn> lucian: I agree
[12:08:06] <sanxiyn> GMP is the best
[12:08:08] <strcat> it's not a 'bad' precedent, it's sane defaults
[12:08:12] <sanxiyn> (Does anyone disagree with that?)
[12:08:28] * strcat shrugs
[12:08:33] <lucian> no, the disagreement is on whether LGPL code is a a good idea
[12:08:34] <sanxiyn> If anyone doesn't like that, they can go write a bigint implementation
[12:08:50] <strcat> lucian: optional LGPL code
[12:08:58] <pnkfelix> I think reasonable people can disagree about whether making it the default is a good idea.
[12:08:58] <strcat> seriously I don't even mind if it is off by default
[12:09:01] <strcat> as long as it is included
[12:09:04] <mitsuhiko> sanxiyn: if i have a programming langauge that essentially requires .gpl code to run efficidently then yes, it's a huge problem
[12:09:05] <lucian> sanxiyn: if replacing parts of rust's stdlib is required, no one will bother
[12:09:20] <strcat> if the stdlib is not going to ship with the option of using gmp, big integers don't belong in it
[12:09:32] <mitsuhiko> strcat: then we should not have big integers
[12:09:35] <Ms2ger> Eh, let's just do MPL everywhere :)
[12:09:35] <strcat> in which case, most people are going to use rust-gmp
[12:09:37] <mitsuhiko> lgpl is too big of a price to pay
[12:09:51] <strcat> most people are not going to care about contracts saying people can't use LGPL
[12:09:56] <sanxiyn> mitsuhiko: I don't understand
[12:10:11] <sanxiyn> Is the discussion about not having machine integer and having bigint instead?
[12:10:11] <strcat> mitsuhiko: how is having an optional -Z gmp flag a problem?
[12:10:19] <strcat> no
[12:10:27] <strcat> it's about including the option of using gmp in a stdlib big int type
[12:10:28] <sanxiyn> Eh then... you use machine integer, problem solved
[12:10:30] <strcat> as the backend
[12:10:42] <lucian> strcat: if gmp is not the default, it's less of an issue
[12:10:44] <sanxiyn> How is that "essentially requiring *GPL code to run efficient"?
[12:10:49] <sanxiyn> That just doesn't parse
[12:11:04] <strcat> gmp is the only library I'm aware of in that perf class
[12:11:13] <strcat> so you basically need it to have fast big integers
[12:11:20] <strcat> it doesn't have to be the default, most applications won't care
[12:11:24] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[12:11:25] <sanxiyn> Yeah, need it for fast bigint
[12:11:44] <strcat> but if the stdlib offers big integers, I *strongly* feel it needs to offer the ability to use gmp as the backend
[12:11:48] <lucian> strcat: it will still make it likely that lawyers forbid rust because the package includes lgpl code, which could reduce adoption
[12:11:49] <sanxiyn> mitsuhiko seems to claim "need it for fast", which is absurd
[12:12:02] <mitsuhiko> sanxiyn: i'm claiming that the expected default should not be a licensing disaster
[12:12:02] <sanxiyn> lucian: I think that's ok
[12:12:17] <mitsuhiko> telling a commercial partner that the only way they can run a software is in slow mode is stupid
[12:12:17] <strcat> lucian: already ships with libgcc_s, etc.
[12:12:22] <sanxiyn> mitsuhiko: If you are paranoid about license, use compile option
[12:12:27] <strcat> lucian: via the snapshot
[12:12:30] *** Parts: Heather (Heather@19663F6.F53BAACC.9C17E900.IP) ()
[12:12:35] <lucian> sanxiyn: that may be, but i was under the impression Rust is also aimed at game devs
[12:12:43] <strcat> mitsuhiko: proprietary software can use GMP
[12:12:44] <sanxiyn> lucian: Use compile option
[12:12:45] <lucian> strcat: right, but releases don't
[12:12:54] <mitsuhiko> strcat: if a lawyer in the company signs it off, then yes
[12:13:05] <mitsuhiko> there are many companies where any form of gpl is an instant no
[12:13:06] <strcat> mitsuhiko: if they don't sign off, they can use the best in breed non-LGPL implementation
[12:13:06] <sanxiyn> strcat: Legally they can, but experimentally no
[12:13:09] <dbaupp> lucian: it's not really aimed at game deves... game devs just seems to be collecting around it
[12:13:09] <mitsuhiko> for very good reasons
[12:13:10] <strcat> mitsuhiko: which will be slow
[12:13:12] <sanxiyn> (For whatever reason)
[12:13:22] <lucian> sanxiyn: but you won't even be allowed to start looking at rust as long as includes lgpl, that's what i'm saying
[12:13:23] <mitsuhiko> strcat: so what do you do if the company says no?
[12:13:31] <strcat> mitsuhiko: they use the best of breed non-LGPL default
[12:13:32] <mitsuhiko> and libraries already depend on a fast bigint?
[12:13:41] <strcat> mitsuhiko: they won't
[12:13:42] <mitsuhiko> strcat: which you know does not exist
[12:13:48] <strcat> mitsuhiko: ok, so what are you suggesting
[12:13:48] <mitsuhiko> strcat: that's incredibly optimistic 
[12:13:51] <lucian> dbaupp: if it's entirely a non-goal, fine. other than that though, it's pretty much perfect
[12:13:58] <sanxiyn> lucian: Do we have some precedent on this? I am not sure someone tried to use Haskell for game and gave up because of GMP
[12:14:00] <mitsuhiko> strcat: not have bigints in the language unless there can be a non gpl version
[12:14:01] <strcat> mitsuhiko: I am saying the backend will be pluggable
[12:14:03] <sanxiyn> lucian: Anything like that?
[12:14:09] <strcat> mitsuhiko: there will be a non-GPL version
[12:14:10] <mitsuhiko> sanxiyn: there have been ltos of discussions about getting rid of gmp in haskell because of lgpl
[12:14:17] *** Quits: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP) (Connection reset by peer)
[12:14:19] <strcat> mitsuhiko: -Z gmp will *switch* from it to the gmp backend
[12:14:24] <sanxiyn> mitsuhiko: I know. I even linked to wiki page discussing that...
[12:14:26] <lucian> sanxiyn: SDL1 was not allowed to be used, which is why SDL2 is not lgpl
[12:14:51] <sanxiyn> lucian: That is different, since as I understand it was not optional
[12:14:59] <mitsuhiko> sanxiyn: so what are you saying. rust should copy the mistake?
[12:15:03] <strcat> mitsuhiko: no
[12:15:15] <strcat> I am saying it is important for rust to include big integers in the stdlib
[12:15:20] <lucian> sanxiyn: how is it different? it would be the same if rust included SDL1 in the stdlib
[12:15:25] <strcat> and it unrealistic to expect an implementation to come close to gmp in performance
[12:15:33] <strcat> so it should have a flag to enable gmp as the backend
[12:15:35] <strcat> it will work without gmp
[12:15:44] <lucian> strcat: as long as you install rust-gmp separately, sure
[12:15:52] <strcat> lucian: no
[12:15:59] <lucian> strcat: why not?
[12:16:20] <strcat> lucian: because shipping code known to have very sub-standard performance in the stdlib isn't alright
[12:16:23] <strcat> rust isn't python
[12:16:24] <lucian> strcat: i don't see how it's so different from having to opt-in to gmp with a compiler flag
[12:16:40] <mitsuhiko> strcat: so you're agreeing there is a problem with having slow bigints?
[12:16:43] <strcat> then obviously you don't understand why a stdlib is useful at all
[12:16:47] <strcat> mitsuhiko: yes
[12:16:47] <lucian> strcat: if the default isn't gmp, shipping it doesn't really help
[12:17:01] <strcat> alright then, I'm against having big integers in the stdlib
[12:17:03] <strcat> happy?
[12:17:04] <lucian> strcat: either gmp is the default or gmp isn't shipped. the user experience is the same for non-default and not-shipped
[12:17:08] <strcat> I'll close my big integer bug
[12:17:13] <strcat> I'll submit a PR removing them from libextra
[12:17:19] <strcat> and people who want them can use rust-gmp
[12:17:20] * strcat shrugs
[12:17:23] <lucian> strcat: both mitsuhiko and myself think bigint should be there
[12:17:27] <strcat> it won't be
[12:17:30] <mitsuhiko> strcat: yes. happy
[12:17:36] <dbaupp> mitsuhiko: strcat has been hammering on about requiring a fast bigint implementation this whole time...
[12:17:36] <mitsuhiko> because it's the smaller issue
[12:17:44] <dbaupp> that's bascially his whole point
[12:17:51] <FliPPeh> Still talking about big ints?
[12:17:59] <dbaupp> and then you ask "so you're agreeing there is a problem with having slow bigints?"
[12:18:01] <strcat> the stdlib shouldn't include big ints if it's not a competitive implementation
[12:18:17] <strcat> because libraries/applications will use it and it becomes the irreplaceable defacto standard
[12:18:22] <lucian> dbaupp: but shipping LGPL would make rust unusable for many closed-source software devs. the lesser evil is probably not having bigint
[12:18:41] <dbaupp> lucian: that's not what I was addressing just then
[12:18:56] <sanxiyn> strcat: I don't think that follows
[12:19:01] <lucian> dbaupp: the ideal thing is having a decently fast default in the stdlib and being able to install and switch to gmp
[12:19:11] <sanxiyn> strcat: If libraries/applications depending on it is the problem, you just need to get the interface right
[12:19:23] <dbaupp> lucian: still not what I was addressing just then
[12:19:54] <strcat> sanxiyn: realistically, libraries/applications are not going to write all their code as generic
[12:20:00] <lucian> dbaupp: i'm agreeing with strcat that having a fast-enough bigint in the stdlub is useful
[12:20:12] <lucian> dbaupp: i must have misread your comment
[12:20:15] <dbaupp> lucian: mitsuhiko asked strcat, who was being saying that we shouldn't have slow bigints this whole discussion, if strcat agress that slow bigints are bad.
[12:20:17] *** Quits: allengreen (allengreen@23EC7517.BA8F7FB5.569EBC30.IP) (Ping timeout)
[12:20:24] * strcat shrugs
[12:20:39] * Ms2ger would prefer easy package management over sticking everything and their dog into stdlib
[12:20:41] <dbaupp> the answer to that question that should've been obvious from start.
[12:20:56] <strcat> Ms2ger: agree that we shouldn't be it in the stdlib if it's not best of breed
[12:20:57] <sanxiyn> Ms2ger: Package management and standard library solve different problems
[12:21:01] <strcat> so I am closing my issues about this.
[12:21:14] <dbaupp> strcat: no one here is a core dev
[12:21:14] <lucian> strcat: i think a discussion can be useful
[12:21:20] <sanxiyn> Package management does not solve people reinventing string 100 times
[12:21:24] <strcat> dbaupp: they're my issues and brson was already against including it
[12:21:26] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[12:21:41] <dbaupp> strcat: including gmp specifically? or bigints generally?
[12:21:44] <strcat> I was going to fight for including big integers in the stdlib, but not if it can't use gmp as a backend (via --enable-gmp or whatever)
[12:21:54] <strcat> dbaupp: generally, and having the option to use gmp
[12:21:59] <dbaupp> :(
[12:22:01] <strcat> but anyway I don't want to deal with it
[12:22:06] <strcat> I will go with what brson said
[12:22:17] *** Joins: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP)
[12:22:25] <sanxiyn> What is the issue number, by the way?
[12:22:26] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[12:22:39] <strcat> sanxiyn: https://github.com/mozilla/rust/issues/11536 https://github.com/mozilla/rust/issues/8635
[12:22:47] *** Joins: allengreen (allengreen@23EC7517.BA8F7FB5.569EBC30.IP)
[12:22:58] <strcat> sanxiyn: and related, https://github.com/mozilla/rust/issues/4169 https://github.com/mozilla/rust/issues/6023
[12:23:20] *** Quits: calvinmetcalf (cmetcalf@moz-468348D6.hsd1.ma.comcast.net) (Quit: calvinmetcalf)
[12:23:24] <Ms2ger> Looking at python, putting stuff into the stdlib just means people end up using poorer libraries just because they're packaged up with the language
[12:23:36] <lucian> strcat: could you explain why it wouldn't be ok to have to first install something and then to --enable-gmp?
[12:23:53] <strcat> lucian: because rust links against it
[12:24:01] <strcat> libstd needs to link against it or not at all
[12:24:13] <strcat> it would be a ./configure flag
[12:24:35] <strcat> third party libraries would then be unaware of whether they are using gmp or not
[12:24:48] <lucian> strcat: if bigints are a set of traits, couldn't rust-gmp implement them, then would choose implementation?
[12:25:03] <dbaupp> lucian: what traits would they be?
[12:25:08] <strcat> lucian: traits really do not work well for stuff like this, it's too painful to write generic code everywhere
[12:25:11] <lucian> strcat: so there could be a compiler flag for which implementation of the bigint traits are used
[12:25:27] <strcat> lucian: I don't want more dynamic code selection preventing dead code elimination
[12:25:40] <eddyb> strcat: what about weak trait objects?
[12:25:42] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[12:25:44] <eddyb> don't those work?
[12:25:45] <strcat> I am strongly against bigints in the stdlib if gmp is not a ./configure option
[12:25:56] <lucian> dbaupp: i'm not familiar enough to suggest something that would work
[12:26:37] <Ms2ger> So people who want to use gmp would need to build rust themselves?
[12:27:00] <strcat> Ms2ger: no, linux binaries would link against it
[12:27:12] <sanxiyn> strcat: How about people on Windows?
[12:27:14] *** Quits: pyon (user@A16F2BE6.A9B419CB.1C8C8CE9.IP) (Ping timeout)
[12:27:27] *** Joins: pyon (user@A16F2BE6.A9B419CB.1C8C8CE9.IP)
[12:27:28] <strcat> rust can either ship the dll or use the slow implementation
[12:27:30] <sanxiyn> Anyway, people who want to use Rust need to build Rust now...
[12:27:31] <strcat> or provide both
[12:27:52] <strcat> anyway I'm not willing to fight for having bigints in the stdlib anymore
[12:27:55] <strcat> I'm done on this issue
[12:27:56] <lucian> sanxiyn: it is not yet a problem either way
[12:28:05] <strcat> I don't expect generic int literals if they aren't there though
[12:28:13] <lucian> strcat: i would join you in that fight, as long as rust doesn't ship (L)GPL code :)
[12:28:16] <strcat> no one is going to care what a third party lib wants as a language feature
[12:28:23] *** Joins: igork (Igor@9C577557.7893D71C.6E0EE79F.IP)
[12:28:40] <dbaupp> lucian: do you have an appropriate non-LGPL library?
[12:29:05] <eddyb> how big/hacky is gmp?
[12:29:13] *** Joins: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP)
[12:29:14] <strcat> eddyb: it's an incredibly clean codebase
[12:29:18] <lucian> dbaupp: there's libtommath. the other option is writing one in rust
[12:29:20] <strcat> eddyb: 1 public function per file
[12:29:23] <strcat> eddyb: it's big though
[12:29:31] <strcat> large API, lots of per-platform asm
[12:29:35] <lucian> dbaupp: both would probably be slower than gmp
[12:29:49] <strcat> eddyb: it is years and years of work to replicate the performance/features
[12:29:54] <eddyb> could we rewrite it in Rust with a small maintenance cost?
[12:29:55] <dbaupp> lucian: not probably ;P "almost surely"
[12:29:58] <eddyb> strcat: neeeevermind
[12:30:02] <sanxiyn> eddyb: No
[12:30:05] <strcat> eddyb: it's unrealistic to clone it
[12:30:06] <lucian> dbaupp: sure
[12:30:15] <sanxiyn> GMP-level perf bigint is a big undertaking
[12:30:16] *** Quits: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP) (Quit: Nettalk6 - www.ntalk.de)
[12:30:20] <strcat> eddyb: ok for example, division
[12:30:28] <strcat> eddyb: https://gmplib.org/manual/Integer-Division.html here is the high-level API
[12:30:42] <strcat> you have ones providing quotient and remainder, or one of thme
[12:30:46] <strcat> you have ceil, truncate, floor
[12:30:49] <strcat> now
[12:30:53] *** Quits: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP) (Ping timeout)
[12:30:53] <eddyb> strcat: hmm, what about... transpiling it automatically? though that would still have license issues
[12:31:05] <strcat> eddyb: https://gmplib.org/manual/Division-Algorithms.html#Division-Algorithms implement all of these algorithms for division
[12:31:10] <strcat> supporting all of those API functions
[12:31:12] <sanxiyn> eddyb: I am not sure what transpiling achieves
[12:31:19] <strcat> and now write per-platform ASM for a dozen platforms
[12:31:24] <strcat> because that's the only way to obtain good perf for big ints
[12:31:38] <strcat> and by per-platform I mean, you are going to be writing haswell code
[12:31:40] <strcat> broadwell code
[12:31:46] <strcat> cause they add stuff like MULX all the time for this
[12:31:53] <Ms2ger> Point made, I think :)
[12:31:54] <dbaupp> eddyb: why not just compile with clang and use -Z lto for peak performance?
[12:32:02] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[12:32:04] <strcat> anyway I hope it's obvious why there is not a single library comparable to gmp ;p
[12:32:18] <dbaupp> (assuming it can compile with clang...)
[12:32:21] <eddyb> strcat: it is now. I say we discuss the license issue further
[12:32:33] <eddyb> dbaupp: we need to start doing that for all our deps
[12:33:09] <strcat> anyway gmp is exactly the kind of library GPL or LGPL works well for because people have no choice but to use it in that domain :P
[12:33:17] *** Joins: mankyKitty (Instantbir@moz-9B898D95.enst-bretagne.fr)
[12:33:23] <strcat> want fast bigints at large sizes? you've got *one* choice
[12:33:26] * strcat shrugs
[12:33:40] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[12:33:52] *** Joins: calvinmetcalf (cmetcalf@moz-468348D6.hsd1.ma.comcast.net)
[12:34:07] <dbaupp> eddyb: how many of our deps are called in tight loops so that the FFI overheads/non-inlining is a problem?
[12:34:19] <strcat> eddyb: reason there are so many algorithms is that the ones with better complexity are slower on smaller ones
[12:35:05] <strcat> as you get bigger, gmp gets asymptotically faster than other libs :)
[12:35:07] <eddyb> dbaupp: I don't know... I hope we don't do anything stupid like call C accessors
[12:35:21] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[12:35:25] <eddyb> wrapping a clean C lib is fine with me, it's probably saner than libuv
[12:35:39] <strcat> eddyb: well I don't think it needs to be discussed further... I am pretty certain I know how most people stand
[12:35:55] <eddyb> strcat: as in, an official discussion
[12:35:55] <strcat> I know the mozillians were leaning against having bigints in libstd at all
[12:36:09] <dbaupp> eddyb: servo does want cross-language LTO/inlining, fwiw
[12:36:12] <strcat> eddyb: brson was against it, pcwalton was against it if it was gmp due to the benchmarks game, etc.
[12:36:35] <lucian> i think it would have to have separate literals/types anyway, btw
[12:36:44] <strcat> lucian: why?
[12:36:46] <dbaupp> strcat: as in "pcwalton is against it if we're including gmp just because of the benchmarks game"?
[12:36:50] *** Quits: kvanb (kvanb@moz-CC32E42A.vic.bigpond.net.au) (Ping timeout)
[12:36:55] <strcat> dbaupp: yes ;p
[12:37:02] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[12:37:05] <strcat> dbaupp: well
[12:37:08] <strcat> I think you read that wrong
[12:37:16] <lucian> strcat: otherwise it's hiding a cost and from what i've seen, many decisions about rust were taken that way
[12:37:27] <strcat> lucian: it's not hiding a cost
[12:37:31] <dbaupp> strcat: yes, since I'm confused
[12:37:33] <strcat> lucian: you have to ask for a big int to get one
[12:37:51] <lucian> strcat: that's what i mean. it'd have to be 10L for literals and a bigint type
[12:38:03] <strcat> lucian: why a separate literal?
[12:38:06] <strcat> we have generic int literals
[12:38:13] <strcat> 5i is int, 5u is uint, 5i8 is i8
[12:38:15] <strcat> 5 is generic
[12:38:26] <dbaupp> strcat: oh, did you mean "if it was*n't* gmp"?
[12:38:30] <strcat> dbaupp: yes
[12:38:37] <lucian> i would say the difference between u8 and u32 is much smaller than u32 and a gmp int
[12:38:37] *** Joins: kvanb (kvanb@moz-48D5483D.lnse2.lon.bigpond.net.au)
[12:38:38] <strcat> dbaupp: afaik, if you include bigints, that's what gets tested
[12:38:45] <strcat> dbaupp: if you don't, you can use a third party lib
[12:38:50] <dbaupp> strcat: you missed the n't :P
[12:39:01] <dbaupp> ah, that's weird
[12:39:10] <lucian> strcat: but i don't really care much about the literal as long as there is 5l to opt in explicitly and a separate type
[12:39:11] <strcat> so including a lib with really sub-standard perf even on those not-so-big integers will look awful
[12:39:16] <dbaupp> I guess it's no les weird that the "no alternate implementations" rules
[12:39:25] <strcat> as it does now where rust takes 30min to do what gmp does in 2s
[12:39:27] <sanxiyn> lucian: I am for having separate type, I am against having separate literal syntax
[12:39:36] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Quit: 랜덤은 쇠퇴했습니다.)
[12:39:42] <strcat> someone is sure to see that and not take a second look at the language ;p
[12:39:45] <sanxiyn> Separate literal syntax is just unnecessary
[12:40:00] <lucian> sanxiyn: as i said, i don't care much about that. there would have to be the equivalent of 5i8 though, as 5L or something
[12:40:12] <dbaupp> strcat: I definitely agree withat that
[12:40:17] <sanxiyn> lucian: Sure, why not
[12:40:19] <strcat> rust's raison d'etre is C++ level performance with memory safety
[12:40:34] <lucian> the popularity of the shootout game has done so much harm :(
[12:40:35] <strcat> so if it doesn't perform in that niche by default, it has failed
[12:40:45] <strcat> and people won't take a second look at it
[12:41:11] <strcat> lucian: yes but it's important, because it's what most people are going to use to gauge the performance of the language ;s
[12:41:16] <lucian> right, but C++ doesn't have bigints. people will end up comparing C++'s int with rust's bigint
[12:41:24] <strcat> lucian: no
[12:41:36] <strcat> lucian: C++ doesn't have bigints, so the shootout lets it use gmp
[12:41:45] <strcat> anyway no one is going to compare bigints in rust to C++'s int
[12:41:56] <strcat> by 'include bigints' I don't mean make them the default
[12:41:57] <lucian> that's often how the shootout works out
[12:41:58] <strcat> I don't want a default
[12:42:09] <strcat> lucian: yes but it's also how people work
[12:42:14] <strcat> if the stdlib includes it, they will use it
[12:42:20] <strcat> if it doesn't, they will do the minimal work to find a lib
[12:42:30] <ross> that sounds like what I do
[12:42:39] <strcat> including poorly done APIs without breed of breed performance in the stdlib is harmful
[12:42:42] <strcat> and I am strongly against it
[12:42:54] <lucian> strcat: sure, and i agree it would be nice to have have the default experience nice
[12:43:02] <lucian> but i think including (L)GPL will do much more harm
[12:43:05] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[12:43:15] <strcat> lucian: in that case I don't think it's appropriate to include it, as we can't compete with gmp
[12:43:27] <strcat> we can write a competitive hash table, b-tree, vector, etc. easily
[12:43:37] *** Quits: calvinmetcalf (cmetcalf@moz-468348D6.hsd1.ma.comcast.net) (Quit: calvinmetcalf)
[12:43:49] <lucian> perhaps it would be enough to point to rust-gmp with enough vigour?
[12:44:04] <ross> I'm trying to write a travis-ci script that pulls another rust project and installs it via rustpkg. how do I set RUST_PATH? (I'm not super good at linux stuff)
[12:44:08] <strcat> lucian: I don't think we really need to point at it, just make a nice catered index of libs
[12:44:12] <arpd> How can i iterate over a vector (of say, ints) in reverse?
[12:44:12] <strcat> not an automatic one
[12:44:17] <sanxiyn> I can think of another case of good default giving language edge in benchmark
[12:44:18] <strcat> lucian: so write a list of big int libraries
[12:44:26] <strcat> their license, some performance numbers
[12:44:31] <dbaupp> arpd: .iter().invert(), or .rev_iter()
[12:44:31] <sanxiyn> Python's str.find is reportedly much faster than most implementation in other languages
[12:44:32] <ross> rustpkg wants an absolute path for RUST_PATH and I'm not sure how to get one
[12:44:40] <lucian> strcat: i think that would be a happy medium between stdlib and something like pypi
[12:44:43] <arpd> oh that's cool, thanks dbaupp :)
[12:44:43] <sanxiyn> That is why Python did pretty well in Wide Finder bench
[12:45:02] <sanxiyn> That reminds me... Rust should have top notch string search function...
[12:45:19] <mankyKitty> dbaupp: I have a PR about the .invert(), currently there isn't much consensus about the change though.
[12:45:28] <ross> I think I could use pwd to get it, but then how do I put the result of pwd into export RUST_PATH=  ?
[12:45:29] <eddyb> sanxiyn: kimundi was working on a generic string matching framework
[12:45:30] <lucian> sanxiyn: the whole bloody shootout is useless. i think caring about it is dangerous. PyPy got removed an people still use it
[12:45:43] <dbaupp> mankyKitty: the one changing it to .flip(), right?
[12:45:51] <sanxiyn> lucian: I think caring about sublinear string search is not useless
[12:45:56] <strcat> lucian: because the current maintainer is biased against them ;s
[12:46:03] <mankyKitty> dbaupp: Yeah. (my first PR for rust! :D)
[12:46:07] <sanxiyn> lucian: Yeah removing PyPy is ridiculous
[12:46:11] <strcat> lucian: it's not a useless concept if it was done right
[12:46:13] <lucian> strcat: right. it's rigged, thus worse than useless - dangerous
[12:46:16] <dbaupp> ross: `export RUST_PATH=$(pwd)`
[12:46:26] <strcat> lucian: yes but people care a lot about it
[12:46:26] <lucian> strcat: i don't see how it could be done right, tbh
[12:46:27] <ross> ooh cool
[12:46:32] <lucian> strcat: but that's another discussion
[12:46:37] <dbaupp> ross: export RUST_PATH=. might be enought too
[12:46:41] <strcat> lucian: well, I know *I* could do a good one
[12:46:49] *** Quits: gwty (gwtypc@73751C9B.9ABB23D7.137C914F.IP) (Ping timeout)
[12:46:58] <strcat> lucian: I know I could write some C benchmarks, port them 1:1 to rust and then write them in safe rust
[12:47:06] <strcat> and show that C and unsafe rust are the same in perf
[12:47:11] <strcat> and show the overhead in different cases of safety
[12:47:15] <strcat> I think that would be useful
[12:47:17] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[12:47:36] <strcat> and imo, that's what a 'language benchmarks game' should do
[12:48:04] <sanxiyn> That reminds me... we should write Rust entry for
[12:48:05] <sanxiyn> http://attractivechaos.github.io/plb/
[12:48:27] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[12:48:30] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[12:48:44] * mankyKitty mutters something remarkably unpleasant about language 'shootouts'...
[12:49:05] <sanxiyn> I think PLB is better than shootout
[12:49:05] <strcat> sanxiyn: if someone does it well by porting the C implementations...
[12:49:08] <lucian> strcat: it's still to write useful benchmarks, especially if you compare across so many languages
[12:49:34] <lucian> strcat: it's still *hard* ...
[12:49:37] <sanxiyn> lucian: Perhaps we should write benchmarks or promote better existing benchmarks
[12:49:55] <sanxiyn> (I think PLB is better managed and probably should be promoted)
[12:50:09] <dbaupp> sanxiyn: geeez, perl has fast regexes
[12:50:16] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[12:50:34] <dbaupp> (for certain regexes.)
[12:51:11] <strcat> anyway the benchmarks game took our implementations from src/test/bench and they are awful
[12:51:20] * strcat shrugs
[12:51:31] <strcat> imo the stdlib should be limited in scope to what we can do well
[12:51:47] <strcat> and by well I mean a simple, clean API with best of breed performance...
[12:51:59] <strcat> but my opinion is not the opinion of the core team
[12:52:03] <strcat> so that's not what the stdlib will be
[12:52:34] *** Joins: a__ (a__@moz-8D618AC3.nycmny.fios.verizon.net)
[12:52:46] <strcat> and I really wouldn't worry so much about coming up with highly generic trait architectures
[12:52:55] <strcat> as you can define ad-hoc traits as necessary
[12:52:56] <sanxiyn> strcat: What is the core team's opinion? I don't know what it is.
[12:53:00] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[12:53:08] <strcat> sanxiyn: not the same as mine
[12:54:12] <strcat> anyway libstd is just completely not what I would have written
[12:54:14] <pyon> Is there any way to make a type not implicitly copyable, other than implementing Drop?
[12:54:30] <dbaupp> pyon: std::util::NonCopyable
[12:54:40] <pyon> Thanks!
[12:54:45] <strcat> (it implements Drop and uses a trick to avoid the drop flag)
[12:54:47] <sanxiyn> Well, NonCopyable implements Drop :)
[12:55:00] <sanxiyn> strcat: Ah good point
[12:55:21] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[12:55:23] <pyon> So I just insert a field of type NonCopyable, right?
[12:55:26] <sanxiyn> yup
[12:55:30] <pyon> Can fields be anonymous?
[12:55:42] <pyon> (e.g., struct Foo { _ : NonCopyable })
[12:55:46] <sanxiyn> Eh, I don't think so
[12:55:50] <sanxiyn> (Can it?)
[12:55:55] <strcat> no
[12:55:59] <pyon> Oh, well.
[12:56:03] <dbaupp> pyon: `priv non_copy: NOnCopyable` or something like that.
[12:56:15] <strcat> pyon: I'd just a write a ctor static method asap
[12:56:18] <dbaupp> you need to be able to name the field to construct it
[12:56:19] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[12:56:41] <strcat> sanxiyn: imo, the stdlib is being built by including things because they are wanted
[12:56:47] <pyon> dbaupp: Ah, right!
[12:56:55] <strcat> sanxiyn: without thinking hard about a sane, clean API to expose
[12:57:00] <strcat> sanxiyn: instead, it has to be done retroactively
[12:57:06] <strcat> and there is resistance to every change
[12:57:07] <ross> dbaupp thanks for your help. worked like a charm
[12:57:22] <strcat> sanxiyn: and I feel like there is a *big* double-standard for the community and the core devs
[12:57:36] <strcat> in how strict the review is
[12:57:36] <sanxiyn> Please elaborate
[12:57:54] <strcat> sanxiyn: if pcwalton writes a data structure and submits a PR, it's going to get merged after minor things are fixed
[12:57:57] <dbaupp> pcwalton gets away with rather a lot :P
[12:58:00] <sanxiyn> (I got the impression stdlib is evolving, not really designed at all)
[12:58:01] <strcat> fine then
[12:58:02] <pyon> It would be nice if, instead of having to add a NonCopyable member, we could simply add #[deriving(Drop)] or something like that.
[12:58:04] <strcat> brson, acrichto 
[12:58:12] <strcat> if a community member submits something
[12:58:17] <dbaupp> no need for PR descriptions... or commit messages... :/
[12:58:17] <strcat> lets say CoW support for Rc
[12:58:22] <strcat> there is *strong* resistance to including it
[12:58:35] <strcat> unless you prove it is super valuable
[12:58:42] <strcat> anyway that's just how I feel
[12:58:47] <strcat> I don't know if others feel that way
[12:58:48] <dbaupp> but if servo wanted it ... bam, straight in
[12:58:50] <sanxiyn> Eh I am not sure I follow
[12:59:03] <dbaupp> strcat: i've noticed it too
[12:59:12] <sanxiyn> Were some changes by core team merged despite strongly worded opinion against it in comments?
[12:59:13] <Ms2ger> dbaupp, we can't even get .empty() in :)
[12:59:16] <strcat> sanxiyn: I feel that if I make a PR adding or changing something in the stdlib, it is going to sit there a long time and ends up being required to go through a meeting
[12:59:18] *** Quits: allengreen (allengreen@23EC7517.BA8F7FB5.569EBC30.IP) (Ping timeout)
[12:59:27] <dbaupp> Ms2ger: but that one is silly :P
[12:59:31] <strcat> I may be imagining that
[12:59:34] <eddyb> I've been delayed, but it's usually my fault
[12:59:45] <sanxiyn> strcat: I agree if there is strong resistance it takes a lot of time
[12:59:55] *** Joins: allengreen (allengreen@23EC7517.BA8F7FB5.569EBC30.IP)
[12:59:55] <strcat> sanxiyn: not talking about things with strong resistance though
[13:00:10] <sanxiyn> The question is whether it is faster for core devs if there is strong resistance (expressed in issue tracker, since can't know about it if not expressed)
[13:00:23] <strcat> it is
[13:00:30] <sanxiyn> Some examples?
[13:00:34] <Ms2ger> strcat, you may be imagining that, I don't know either way, but if that's the case, that sucks :/
[13:00:46] <Ms2ger> And needs to be dealt with
[13:00:58] *** Joins: calvinmetcalf (cmetcalf@moz-468348D6.hsd1.ma.comcast.net)
[13:00:58] <strcat> sanxiyn: I bring up disagreements with APIs on various PRs and they are merged ASAP because the core team is blocked on them
[13:01:01] <strcat> at least that's my perspective
[13:01:11] <strcat> and then I have to fight tooth and nail to change anything retroactively
[13:01:11] <sanxiyn> I think it should go through meeting too if core team does something and someone from community strongly against it
[13:01:24] <strcat> sanxiyn: it doesn't go through a meeting if it's something a core dev is doing most of the time
[13:01:29] <strcat> they just talk among themselves and push it through
[13:01:38] <strcat> there isn't community input into most of those kinds of changes
[13:01:50] <strcat> it's not a community-developed language, it's mozilla's language with community contributions
[13:02:06] <sanxiyn> Eh well
[13:02:24] <sanxiyn> If there is no community input on most changes, should core team wait on community input?
[13:02:38] <sanxiyn> I think ignoring community input is bad and should be fixed, but not sure about "no community input, go"
[13:02:51] <strcat> sanxiyn: I don't think it's the case that there's no input
[13:02:54] <strcat> there's often a *lot* of input
[13:03:38] <dbaupp> e.g. the channel changes that are apparently in the works
[13:03:56] <strcat> compare that to me waiting 5 months to hear anything about changing the vector representation
[13:04:02] <strcat> and that's not a rare case
[13:04:03] <kimundi> sanxiyn: The idea I have for a generic string matching framework is currently blocked on lifetimes in traits not working: https://github.com/mozilla/rust/issues/5121
[13:04:04] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[13:04:06] <sanxiyn> Hm I want to talk of my experience
[13:04:16] <sanxiyn> kimundi: ok thanks
[13:04:23] *** Joins: Earnestly (earnest@moz-E86D50FA.dyn.plus.net)
[13:04:33] <sanxiyn> I got one change which received lots of pushback and still not in shape I want (SIMD)
[13:04:52] <sanxiyn> I got one change I strongly voted against and reverted ("new" keyword)
[13:05:09] <Ms2ger> Oh, you did that? Thanks :)
[13:05:29] <strcat> I started off with a good experience with contributing to rust
[13:05:32] <sanxiyn> Ms2ger: Well probably not because I was against, but I was against.
[13:05:54] <strcat> ok for example rust's ring buffer is slow
[13:06:01] <strcat> I have a faster one, I have not submitted it
[13:06:01] <sanxiyn> So well... I guess I was not in any side of controversy too much, I guess
[13:06:14] <strcat> I just don't have the energy to argue about it for 3 weeks
[13:06:26] <sanxiyn> (I still think using nominal type for SIMD is a big mistake, but I wasn't willing to argue with graydon forever)
[13:06:58] <dbaupp> is simd feature gated?
[13:07:04] <sanxiyn> dbaupp: No, not at the moment
[13:07:05] <strcat> I feel that it would be far easier for me to copy-paste most of the stdlib and redo a lot of it
[13:07:08] <strcat> and implement a lot of stuff myself
[13:07:09] <dbaupp> probably should be...
[13:07:12] * dbaupp files a bug
[13:07:13] <sanxiyn> dbaupp: Indeed
[13:07:19] <strcat> than submit even a few pull requests making major changes
[13:07:43] <strcat> because it'll sit there for 3 months as I rebase it over and over
[13:07:51] <strcat> and I don't like working on new stuff when I have old stuff sitting there
[13:08:29] <eddyb> #demotivational
[13:08:45] <strcat> sanxiyn: compare the response time on an RFC or contentious PR by a community contributor to just opening a PR and pushing it through after a discussion with people you work with
[13:08:46] *** Quits: calvinmetcalf (cmetcalf@moz-468348D6.hsd1.ma.comcast.net) (Quit: calvinmetcalf)
[13:08:48] <dbaupp> sanxiyn: https://github.com/mozilla/rust/issues/11721
[13:09:16] <strcat> sanxiyn: RFCs aren't even really rejected, they just sit around
[13:09:18] <sanxiyn> strcat: Yeah... I think I lack firsthand experience wrt contentious PR, besides SIMD
[13:09:31] * strcat shrugs
[13:10:11] <Ms2ger> strcat, have you mentioned how you feel to the core?
[13:10:15] <eddyb> IRC is bad for me. especially this kind of discussion
[13:10:26] <strcat> Ms2ger: no
[13:10:31] *** Joins: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us)
[13:10:44] <strcat> I think it's pretty obvious that I have differing opinions on many things than them though
[13:10:51] <strcat> enough that rust-core probably isn't going to be 'freestanding rust'
[13:10:55] <sanxiyn> I think strcat probably should pester and bother core team more, but if strcat thinks "why bother", I guess I understand
[13:10:56] <strcat> it's going to be 'strcat's rust'
[13:11:06] <strcat> sanxiyn: I pester them a lot
[13:11:13] <sanxiyn> ok
[13:11:35] <strcat> sanxiyn: do you remember back when I was trying to land external iterators?
[13:11:42] <strcat> originally, graydon was strongly against it
[13:11:43] <sanxiyn> Roughly
[13:11:54] *** Joins: benjamin_ (benjamin@moz-C4D66C34.dip0.t-ipconnect.de)
[13:12:21] <strcat> I feel a put a whole lot less work into pushing external iterators than I did into something like adding a weak pointer to Rc
[13:12:22] <sanxiyn> strcat: What was the contentious point? I forgot.
[13:12:38] <strcat> or just other random PRs I've made in the past few months
[13:12:42] <strcat> not many, as I barely contribute anymore
[13:13:09] <sanxiyn> strcat: So you think it got harder to make changes to Rust (at least for external contributors)
[13:13:13] <strcat> yes
[13:13:15] <strcat> a lot harder
[13:13:26] <strcat> I think it's nearly impossible to rename a method now if you don't sit in on the meetings
[13:13:31] <strcat> you don't get to bring up your POV there
[13:13:33] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[13:13:40] <strcat> and that's basically where all the decisions are made
[13:13:43] *** Quits: pilf (pilf@8FA95888.1A994CBC.4B228AD7.IP) (Connection reset by peer)
[13:13:59] <strcat> someone else isn't going to do a good job representing a view they don't (yet) agree with
[13:14:50] <dbaupp> can the community sit in on/contribute to meetings?
[13:14:54] <strcat> probably
[13:15:18] <bstrie_nan> people have done it before
[13:15:25] *** Joins: pilf (pilf@8FA95888.1A994CBC.4B228AD7.IP)
[13:15:25] <sanxiyn> dbaupp: As I recall cmr did some time
[13:15:34] <bstrie_nan> olsonjeffery has too, I think
[13:15:58] <sanxiyn> Bah, following rapid IRC discussion in English is very taxing on my brain
[13:15:59] <dbaupp> wasn't he an intern at some point?
[13:16:03] <bstrie_nan> no
[13:16:04] <sanxiyn> I am going up re-reading scrollback
[13:16:20] *** Quits: tq (tq@moz-9FE9CCF4.a251.priv.bahnhof.se) (Quit: tq)
[13:16:31] <dbaupp> sanxiyn: oh? did cmr speak at all?
[13:16:31] <sanxiyn> (English makes me tired)
[13:17:02] <bstrie_nan> sanxiyn: I've given up on trying to read scrollback in here :)
[13:17:17] <dbaupp> sanxiyn: it's nearly impossible to pick you as a non-native speaker/writer :)
[13:17:30] <strcat> anyway it's not a community project when there's a different 'title' used to describe someone based on whether they work for mozilla, and where the community has very little input
[13:18:01] <dbaupp> does it pretend to be a community project?
[13:18:03] <strcat> yes
[13:18:30] <sanxiyn> dbaupp: I hope so
[13:18:39] <sanxiyn> But then there *is* https://github.com/mozilla/rust/wiki/Note-core-team
[13:18:56] <dbaupp> yeah, I guess we say "Rust developers" everywhere rather than "mozilla".
[13:19:10] <bstrie_nan> strcat: now it sounds like you're just whining. the community has tons of input, but you seem to interpret "the devs disagree with my ideas" as "the devs don't care about any opinion but their own"
[13:19:11] <strcat> sanxiyn: and different reddit flair, and ops in irc, and who has access to stuff like buildbots
[13:19:27] <dbaupp> bstrie_nan: not nearly as much input as the core devs
[13:19:50] <bstrie_nan> strcat: *I* was the one who gave the developers different reddit flair. do you think pcwalton asked me to do it personally?
[13:19:58] <strcat> bstrie_nan: no, I don't
[13:20:12] <strcat> bstrie_nan: but I think they draw a clear line between themselves and the community
[13:20:23] <strcat> and you just communicated that existing differentiation
[13:20:33] <bstrie_nan> and how would structure things?
[13:20:47] <strcat> I don't know, how does a real community project like debian or X11 structure things?
[13:21:02] <strcat> certainly not with a single company/organization having the final say in everything
[13:21:20] <strcat> rust isn't a community project, debian is, X11 is, wayland is, I can name plenty more
[13:21:23] <strcat> it claims to be
[13:21:33] <bstrie_nan> the fact that there are non-employees with commit access to the rust repo is enough to refute your assertion
[13:21:47] <strcat> no one commits to the rust repo but bors
[13:22:04] <bstrie_nan> what a strange deflection
[13:22:20] <sanxiyn> bstrie_nan: Having the commit access and having input on decisions are not same thing
[13:22:23] *** Quits: blAckEn3d (blAckEn3d@moz-6E18770E.dip0.t-ipconnect.de) (Quit: Computer has gone to sleep.)
[13:22:27] <bstrie_nan> even before we had bors, erickt, who is not an employee, had direct commit access
[13:22:32] <bstrie_nan> as did olsonjeffery 
[13:23:03] <bstrie_nan> you seem to want a language that is designed by anarchy
[13:23:11] <strcat> bstrie_nan: debian isn't an anarchy
[13:23:27] <sanxiyn> strcat: Well Debian is ruled by cabal :)
[13:23:39] <bstrie_nan> debian is ruled by a clique
[13:25:02] <strcat> even fedora isn't run directly by red hat, the community elects a majority of the board members
[13:25:08] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[13:25:14] <strcat> and it's only a borderline community project
[13:25:19] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[13:25:51] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[13:25:53] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[13:26:22] *** Joins: canhtak (canhtak@moz-86A8B2E0.wl.t.ulaval.ca)
[13:26:32] *** Joins: Kruppe (user@moz-CAE59BCF.net.uwaterloo.ca)
[13:27:35] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[13:29:42] <strcat> bstrie_nan: anyway I already stated that it wasn't like this before
[13:29:54] <sanxiyn> strcat: In your opinion, when did it change?
[13:30:09] *** Joins: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP)
[13:30:22] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[13:30:28] *** Joins: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com)
[13:31:07] <strcat> sanxiyn: dunno
[13:31:26] <sanxiyn> I do get the impression there was a change
[13:31:27] <strcat> I certainly don't enjoy contributing to mozilla's rust as much as I did to graydon's rust
[13:31:32] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[13:31:35] <strcat> if I enjoy it at all now
[13:31:46] <sanxiyn> I feel it was between 0.7 and 0.8
[13:31:47] <strcat> just such a huge struggle to convince anyone to land anything
[13:31:49] *** Quits: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP) (Ping timeout)
[13:32:11] <strcat> I think there would be huge resistance to landing something like a 100 line concurrent hash table
[13:32:20] <strcat> really, anything
[13:32:28] <sanxiyn> (2013 July ~ 2013 September)
[13:32:44] <strcat> even I fix a bug in librustc and it clearly fixes a test, I've had to argue that it's the right way to do it
[13:33:00] <strcat> sanxiyn: well, I dunno when
[13:33:03] <sanxiyn> strcat: Oh that's very bad
[13:33:09] *** Quits: Kruppe (user@moz-CAE59BCF.net.uwaterloo.ca) (Client exited)
[13:33:16] <sanxiyn> For me, bugfix in rustc with test was always r+ without any argument
[13:33:36] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[13:33:48] <bstrie_nan> strcat: I'd be surprised if the debian and X11 committers allow people to land fixes without any discussion
[13:33:56] <Ms2ger> sanxiyn, I'm not sure I'd agree with that :)
[13:34:10] <sanxiyn> Ms2ger: Agree with what?
[13:34:12] <strcat> bstrie_nan: debian packagers can do what they want
[13:34:32] <strcat> if you have LLVM commit access and don't believe something is contentious, you commit it
[13:34:39] <Ms2ger> sanxiyn, that a PR that fixes a test should always be accepted, in whatever way it's done
[13:34:40] <strcat> someone would have to have a pretty strong reason to revert it
[13:34:58] <sanxiyn> Ms2ger: Ah yeah not that. I was just describing my experience.
[13:35:01] <strcat> i.e. you broke something, or they actually have a strong argument against it
[13:35:23] *** Joins: Kruppe (user@moz-CAE59BCF.net.uwaterloo.ca)
[13:35:29] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[13:35:35] *** Quits: dbaupp (Thunderbir@moz-A840EB3D.lns20.syd6.internode.on.net) (Quit: dbaupp)
[13:35:45] <strcat> anyway w/e
[13:35:45] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[13:35:45] <sanxiyn> strcat: Eh no. I actually have LLVM commit bit
[13:35:53] <sanxiyn> strcat: You need code review for anything lare
[13:35:55] <sanxiyn> large
[13:35:58] <strcat> sanxiyn: yeah, large stuff
[13:36:09] <strcat> not a clear 10 line fix for a test, or something like that
[13:36:17] <sanxiyn> Yeah, small fixes can be committed by oneself, and I did that plenty of times
[13:36:21] *** Joins: dbaupp (Thunderbir@moz-A840EB3D.lns20.syd6.internode.on.net)
[13:36:24] <Ms2ger> Without review?
[13:36:27] <sanxiyn> yes
[13:36:28] <strcat> Ms2ger: yes
[13:36:36] <Ms2ger> Compared to Firefox, that's anarchy :)
[13:36:38] <strcat> Ms2ger: if someone disagrees they will revert it
[13:36:41] <bstrie_nan> strcat: if you have a ten-line fix for a test, then tell me and I'll approve it
[13:37:22] <sanxiyn> Ms2ger: http://llvm.org/docs/DeveloperPolicy.html is the policy
[13:37:26] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[13:37:33] <strcat> bstrie_nan: and what if someone thinks there's a better way to fix it and asks you to remove your r+?
[13:37:41] <sanxiyn> I quote, "You are allowed to commit patches without approval which you think are obvious. This is clearly a subjective decision: we simply expect you to use good judgement."
[13:37:44] <strcat> because that's what has happened to a fair number of my recent PRs
[13:38:17] <strcat> anyway I am not really interested in debating it, it's my subjective feelings about how things are
[13:38:23] <Ms2ger> Maybe that's just my background, but I feel that having pre-commit review for all patches (maybe excluding typos in comments) makes a lot of sense
[13:38:29] <sanxiyn> Ms2ger: I understand Mozilla has a different policy, but LLVM policy is as written there.
[13:38:40] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[13:38:53] <bstrie_nan> strcat: then collect all the instances up until you have a complete list, send it to the mailing list, and say "this right here, this is a problem. we're not getting anything done because we're too busy discussing trivial things"
[13:39:43] <sanxiyn> I think that's a good point
[13:39:56] <sanxiyn> Sometimes there is "let's land this, can sort out details later" decision
[13:40:09] <sanxiyn> And probably such decision should apply to community contributions as well
[13:40:11] <strcat> I'm not here because I want to do cat herding
[13:40:20] <strcat> I'm here because rust was a fun project to contribute to for me
[13:40:23] <Ms2ger> I guess most projects aren't in the situation where a ten-line patch can let the NSA spy on a few hundred million people :)
[13:40:44] <sanxiyn> Ms2ger: Indeed.
[13:40:50] <strcat> Ms2ger: debian has a huge numbers of packagers with their own initiative
[13:41:03] <strcat> as does fedora
[13:41:04] <sanxiyn> (But then, LLVM *is* a sensitive project, isn't it?)
[13:41:11] <bstrie_nan> strcat: shrug. if you think a problem has arisen that makes it no longer fun to contribute, then if you fix the problem it will be fun to contribute again
[13:41:15] <bstrie_nan> but nobody's asking you to care
[13:41:22] <bstrie_nan> it's up to your own initiative
[13:42:01] *** Quits: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us) (Ping timeout)
[13:42:14] *** Joins: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us)
[13:42:46] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[13:43:26] <bstrie_nan> strcat: if all you want to do is send me links to the PRs that were waylaid by trivial comments and undone r+'s, then *I* will bring it up to the devs myself
[13:43:26] <pyon> Can a tuple struct have private fields?
[13:43:49] <bstrie_nan> pyon: I sure hope not!
[13:43:56] <strcat> pyon: no, they're pretty useless
[13:44:09] <pyon> Ah!
[13:44:12] <strcat> I am not sure that they are used for anything other than the SIMD vectors in the whole codebase
[13:44:26] <strcat> probably are somewhere
[13:44:31] <bstrie_nan> I thought that tuple structs were behind a flag now
[13:44:32] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[13:44:38] <pyon> Yeah, extracting the fields is kind of inconvenient, especially if you have a reference to the struct.
[13:44:42] <strcat> bstrie_nan: named field variants in enums are
[13:44:53] <pyon> I mean, you can, using, using all sorts of & and ref contortions. But it is annoying.
[13:45:05] <bstrie_nan> aha
[13:45:12] <sanxiyn> strcat: Tuple structs were used for newtype, but no more
[13:45:25] *** Quits: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us) (Ping timeout)
[13:45:35] *** Quits: nfroidure (nfroidure@moz-5B08EA47.w90-18.abo.wanadoo.fr) (Client exited)
[13:45:39] <mitsuhiko> did anyone try to make let (a, b) = my_iter.unpack() work?
[13:45:49] <strcat> bstrie_nan: if you want one particularly good example: single inheritance for structs
[13:45:55] <bstrie_nan> mitsuhiko: what part of that doesn't work that should?
[13:46:05] <mitsuhiko> bstrie_nan: it's a non existing api :)
[13:46:05] <Ms2ger> Mm
[13:46:09] *** Quits: Kruppe (user@moz-CAE59BCF.net.uwaterloo.ca) (Client exited)
[13:46:11] * Ms2ger wants inheritance already
[13:46:14] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[13:46:15] <strcat> bstrie_nan: I don't think there has been any open discussion about it, but servo wants it so rust is getting it, end of story ;p
[13:46:26] <strcat> and I feel that pretty much all the major decisions are that way
[13:46:38] <eddyb> mitsuhiko: take two items at once?
[13:46:39] <pyon> Ms2ger: No!
[13:46:42] <strcat> the core team decides rust needs it, so it's going to happen
[13:46:44] <Ms2ger> s/wants/needs/
[13:46:46] <strcat> it's not up for negotiation
[13:46:57] <sanxiyn> strcat: Yes, that's pretty much true
[13:47:04] <eddyb> mitsuhiko: like, let (a, b) = (my_iter.next().unwrap(), my_iter.next().unwrap());
[13:47:15] <Ms2ger> strcat, given that it still hasn't happened yet, I'm not sure that's the case ;)
[13:47:29] <strcat> Ms2ger: other changes like that *have* happened, though
[13:47:34] <bstrie_nan> strcat: eh, nobody pretends that servo isn't the biggest driver of rustc features. if you had your own rust application of similar size and you said that you needed a feature, I'm sure they would listen to you
[13:47:35] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[13:47:40] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[13:47:50] <sanxiyn> strcat: proc() comes to mind
[13:47:53] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[13:47:56] <bstrie_nan> strcat: in any case, pcwalton doesn't seem to think that single inheritance will make it for 1.0
[13:48:00] *** Joins: nfroidure (nfroidure@moz-5B08EA47.w90-18.abo.wanadoo.fr)
[13:48:18] <strcat> bstrie_nan: once functions, then
[13:48:34] <pyon> If I make a "struct FooRef<'a> { priv x: *Foo }", 'a is the lifetime of the FooRef, even if there is no field in FooRef that has 'a lifetime, right?
[13:48:37] <sanxiyn> strcat: I think we had plenty of discussion around that
[13:48:37] <strcat> imo the community really wanted stack once fns despite the added notation complexity ([once] fn)
[13:48:49] *** Joins: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us)
[13:48:50] <sanxiyn> strcat: So it's different from single inheritance
[13:48:56] <strcat> sanxiyn: well from my perspective, there was overwhelming support for it
[13:49:13] <bstrie_nan> strcat: let's find counterexamples. none of the devs are chomping at the bit for HKT, but because people in the community keep requesting it they're keeping it in mind so that they can try to add it in later without breaking backcompat
[13:49:19] <sanxiyn> Yes, I do feel core team overrode community opinion on that
[13:49:28] <strcat> bstrie_nan: I seriously doubt rust will get HKT though
[13:49:43] <bstrie_nan> I sure hope you're right :)
[13:49:54] <sanxiyn> bstrie_nan: ?
[13:49:55] <strcat> bstrie_nan: http://golang.org/doc/faq#generics reminds me of this
[13:50:07] <bstrie_nan> haha
[13:50:11] <bstrie_nan> nah
[13:50:23] <bstrie_nan> their line is "generics can't be done well"
[13:50:23] <strcat> "we would accept generics if you do the impossible and don't complicate the type system or add any code bloat and they are free of overhead completely" is basically Go's stance there
[13:50:44] <strcat> bstrie_nan: their stance is that generics will be added if and only if they meet an impossible set of requirements
[13:50:55] <strcat> I have a feeling that's going to be rust's approach to HKT
[13:51:04] <mitsuhiko> eddyb: yes
[13:51:08] <strcat> I seriously doubt type system complications and non-monomorphization techniques to generics would land
[13:52:01] <Ms2ger> strcat, pssh, convince Servo that we need them :)
[13:52:06] <sanxiyn> I think type system additions would land. Not sure about non-monomorphizing generics.
[13:52:22] <strcat> sanxiyn: I mean a large complication like HKT
[13:52:23] <bstrie_nan> strcat: unlike the go team, which is busy writing a plan-9-C-to-Go compiler so that they can automatically convert their compiler from C to Go, the rust team is actually trying to add features
[13:52:44] <bstrie_nan> strcat: so let's not accuse them of "go genericizing" until they start faffing around
[13:52:47] <strcat> bstrie_nan: unlike Rust, Go is actually used :P
[13:52:49] *** Quits: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP) (Input/output error)
[13:53:00] <bstrie_nan> unlike go, rust is actually unstable :P
[13:53:05] <strcat> and I mean used to build lots and lots of production software
[13:53:14] <strcat> bstrie_nan: sure, because the Go team made a stable language very quickly
[13:53:16] *** Quits: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP) (Ping timeout)
[13:53:23] <strcat> they got 1.0 out the door ASAP with a huge batteries included stdlib
[13:53:24] <bstrie_nan> because the go team made a very small language
[13:53:39] <bstrie_nan> and not only that, they were in stealth mode for a long time
[13:53:55] <bstrie_nan> their goals were simple enough that they didn't need any iteration
[13:54:01] <eddyb> mitsuhiko: requires variadic generics to implement
[13:54:02] <bstrie_nan> or very little, rather
[13:54:07] *** Joins: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP)
[13:54:14] <bstrie_nan> as usual, comparing go to rust has fallen short
[13:54:17] <eddyb> mitsuhiko: or encoder/decoder, depends
[13:54:30] <mitsuhiko> eddyb: do we get those on the way to new function pointers?
[13:54:56] <eddyb> mitsuhiko: what do function pointers have to do with anything?
[13:55:02] <strcat> bstrie_nan: rust isn't *that* big
[13:55:06] <mitsuhiko> Function<ReturnValue, Param1, Param2>
[13:55:12] <sanxiyn> bstrie_nan: I think they did lots of iterations in stealth mode
[13:55:19] <eddyb> mitsuhiko: that's not a function pointer (which is the same thing as in C)
[13:55:21] <mitsuhiko> eddyb: should have said functors
[13:55:32] <eddyb> mitsuhiko: nope, that's also wrong (though closer)
[13:55:35] <bstrie_nan> sanxiyn: from all the mailing list posts that I've read, pike and co. seemed to know exactly what they wanted from the outset
[13:55:37] <eddyb> mitsuhiko: they're the Fn traits
[13:55:40] <strcat> bstrie_nan: rust likes trying all of the possible wrong answers before switching to the right ones - it's far different than it used to be
[13:55:44] <mitsuhiko> eddyb: well, that's what i mean :P
[13:55:53] <bstrie_nan> sanxiyn: all the "iteration" for go came in the form of pike's previous languges
[13:55:55] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Quit: 랜덤은 쇠퇴했습니다.)
[13:56:03] <strcat> bstrie_nan: I don't think there's a clear idea on what rust actually want to be
[13:56:10] <eddyb> mitsuhiko: but yes, they're the main usecase of variadic generics - and the only one for which I might be able to convince nmatsakis to let me implement them before 1.0
[13:56:14] <Ms2ger> Something something Servo
[13:56:38] <mitsuhiko> eddyb: please please please please
[13:56:40] *** Quits: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us) (Ping timeout)
[13:56:42] <mitsuhiko> i want them so much
[13:56:52] <eddyb> mitsuhiko: my hands are tied
[13:57:02] <eddyb> all I can do is wait nmatsakis to show up and have a talk
[13:57:10] <mitsuhiko> nmatsakis: we need to have a talk :P
[13:57:12] <eddyb> *wait for
[13:57:29] <bstrie_nan> strcat: incorrect, the goal has *always* been to be the language suitable for building servo. if the waters have been muddied, it's by people getting excited by rust and trying to nudge it in a different direction
[13:57:49] *** Joins: sigma (sigma@moz-1C81041B.range86-184.btcentralplus.com)
[13:58:01] <strcat> bstrie_nan: mozilla doesn't even want to say that servo is a serious project that's intended to be useful
[13:58:03] <eddyb> mitsuhiko: https://github.com/mozilla/rust/issues/10124 fwiw
[13:58:10] <bstrie_nan> strcat: in an ideal world, what would you say that rust *should* be
[13:58:13] *** Quits: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:58:37] <eddyb> bstrie_nan: the C that never was
[13:58:39] <bstrie_nan> strcat: right, because alienating all the developers currently working on gecko sounds like a great idea :P
[13:58:55] <Ms2ger> Hey, the Gecko devs would really like Servo!
[13:59:02] <Ms2ger> (Speaking as a Gecko dev)
[13:59:26] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[13:59:28] <bstrie_nan> Ms2ger: awesome, let's chuck it out :)
[13:59:28] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[13:59:31] <sanxiyn> strcat: Well I think that's purely PR concern, IMO
[13:59:51] <Ms2ger> bstrie_nan, still a few million lines of Servo to write first :)
[14:00:00] <strcat> sanxiyn: it's not just a PR concern
[14:00:05] <Ms2ger> Lines that need inheritance, too :)
[14:00:10] <strcat> if they're not invested in servo being the future, then it shouldn't drive rust as strongly as it does
[14:00:24] <Ms2ger> We're interested in Servo as a research project
[14:00:28] <bstrie_nan> strcat: if they're not invested in servo, then they have no incentive to drive rust
[14:00:32] <bstrie_nan> at all
[14:00:34] <Ms2ger> It's not clear if it'll ever sly
[14:00:39] <Ms2ger> fly*
[14:00:50] <sanxiyn> Well Rust and Servo are on
[14:00:51] <sanxiyn> http://www.mozilla.org/en-US/research/projects/
[14:00:54] <sanxiyn> (First two items)
[14:01:01] <eddyb> Ms2ger: scratch inheritance, it's too limiting. let's do something smart with traits
[14:01:14] <strcat> sanxiyn: rust calls itself pragmatic on the homepage
[14:01:15] <Ms2ger> And it's even less clear if it will ever be able to be a reasonable replacement for Fx
[14:01:24] <strcat> not 'a mozilla-directed research project'
[14:01:26] <Ms2ger> (Considering add-on, etc)
[14:01:55] <sanxiyn> strcat: Well it's a research project to create a practical language...?
[14:02:17] <sanxiyn> I don't think I follow
[14:02:41] <strcat> sanxiyn: rust is presented as a pragmatic, community language project
[14:02:45] <strcat> *not* a mozilla toy project
[14:02:48] <bstrie_nan> strcat: it's a contradiction to attempt to create a "practical" language in a vacuum. you need *something* besides just self-hosted compiler to drive it
[14:03:03] <eddyb> IMH(umble)O, I think they're in way over their heads
[14:03:11] <mitsuhiko> eddyb: who is they?
[14:03:16] <eddyb> mitsuhiko: mozilla
[14:03:21] <mitsuhiko> on servo or rust?
[14:03:22] <eddyb> rust is so good it's exceeding their management capacity
[14:03:32] <strcat> seriously though
[14:03:38] <mitsuhiko> agreed on that. the fact that there is a 1.0 coming up is a terrible sign
[14:03:53] <strcat> if Servo is just an experiment, why is Rust (which is intended to be a pragmatic/useful language) completely directed by it?
[14:03:57] <sanxiyn> strcat: I guess we had different expectations...
[14:03:58] <eddyb> the only comparison I can make up is with a warp drive
[14:04:14] <strcat> i.e. why would single inheritance be added just because Servo benefits from it?
[14:04:40] <eddyb> once you start it you can't control it because light moves slower than the space it's in :P
[14:04:42] <strcat> sanxiyn: well, I guess I do have a different expectation
[14:04:44] <Ms2ger> mitsuhiko, terrible sign how?
[14:04:51] <bstrie_nan> strcat: propose something different, then. because I'm not sure what your specific complaint is anymore
[14:05:04] <mitsuhiko> Ms2ger: it means decisions are all the sudden driven by time and not by if they are good or not
[14:05:11] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[14:05:14] <mitsuhiko> tons of really important stuff gets marked as "not before 1.0" all the sudden
[14:05:24] <sanxiyn> bstrie_nan: I think complaint is that decision making on Rust shouldn't be too much affected by what is needed by Servo
[14:05:43] <bstrie_nan> mitsuhiko: the only reason they're pushing for 1.0 sometime this year is because the community at large is clamoring for it. you're part of the community, and you have the power to push back and tell them it's a bad idea if you think so
[14:05:48] <strcat> the complaint is that Servo's needs shouldn't overrule community consensus
[14:05:59] <strcat> but they do
[14:06:00] <bstrie_nan> and what's the community consensus?
[14:06:03] <mitsuhiko> bstrie_nan: i already wrote a mail a long time ago to the mailinglist that i think an early 1.0 release is a bad idea
[14:06:27] <strcat> bstrie_nan: that's the point
[14:06:34] * eddyb realizes politics are pointless and goes back to debugging
[14:06:36] <strcat> bstrie_nan: there's no mailing list discussing proposing that
[14:06:36] <bstrie_nan> not really
[14:06:40] <strcat> bstrie_nan: it's just 'going to happen'
[14:06:42] <bstrie_nan> then make one
[14:06:45] <sanxiyn> strcat: I have somewhat different opinion
[14:07:02] <strcat> bstrie_nan: alright, I'll make threads about how adding single inheritance is bad and be as noisy about it as I am about M:N threading
[14:07:11] <strcat> do you think that input is even considered?
[14:07:23] <bstrie_nan> strcat: being noisy about M:N threading on the mailing list had an enormous effect
[14:07:24] *** Quits: thiago (thiago@705535C9.9074706C.BD25C20F.IP) (Client exited)
[14:07:35] *** Quits: canhtak (canhtak@moz-86A8B2E0.wl.t.ulaval.ca) (Quit: canhtak)
[14:07:39] <sanxiyn> strcat: I got the impression that
[14:07:43] <pnkfelix> but not the effect he wanted, i imagine
[14:07:46] <bstrie_nan> strcat: so I'm not sure why you think being noisy about single inheritance would be futile
[14:07:49] <strcat> bstrie_nan: what effect? ;p
[14:07:54] <sanxiyn> What tipped threading model argument is that M:N may be incompatible with TLS-using native libraries
[14:07:55] <strcat> it's even more complicated than before now...
[14:07:59] <sanxiyn> That was a sound argument
[14:08:11] <sanxiyn> That's how I perceived what went on
[14:08:15] *** Quits: victorporof (victorporo@E55FB5BC.20287B6C.D111398B.IP) (Quit: victorporof)
[14:08:16] <bstrie_nan> strcat: iirc that thread was the final nail in the coffin for segmented stacks, and got us moving away from M:N and towards 1:1
[14:08:24] <strcat> bstrie_nan: I honestly have very little idea how rust's stack works
[14:08:24] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[14:08:29] <bstrie_nan> strcat: even if it's not exactly what you envisioned, don't pretend that you're impotent
[14:08:37] <strcat> like
[14:08:46] *** Joins: pepper_chico (pepper_chi@moz-13107F6.dsl.telesp.net.br)
[14:08:50] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[14:08:54] <strcat> if I run loop {}
[14:09:00] <strcat> well, lets say it breaks after a while
[14:09:22] <strcat> anyway nvm
[14:09:30] <strcat> don't feel like going down this M:N tangent ;p
[14:10:00] <strcat> bstrie_nan: well the problem is now that rust is 70% of what I think is right instead of 30%
[14:10:08] <strcat> bstrie_nan: so now it's harder to propose a complete replacement ;p
[14:10:17] <Ms2ger> Progress! :)
[14:10:23] <strcat> Ms2ger: well, the opposite imo
[14:10:31] <strcat> further entrenched in what I think is a bad idea
[14:10:42] <strcat> as a lot more work went into it, and a lot more code is around for it
[14:11:06] <strcat> and now rust's stdlib is really heavyweight due to vtable abstractions
[14:12:12] <bstrie_nan> strcat: as ever, I think you have fascinating insight into the language and I think you should exercise it more. too much of what you say is buried in irc and reddit comments. either start a blog or post something to the mailing list
[14:12:17] *** Joins: blAckEn3d (blAckEn3d@moz-6E18770E.dip0.t-ipconnect.de)
[14:13:13] <bstrie_nan> strcat: people will listen to you if you start a public discussion in a visible place. and then if the devs ignore you and you end up being right in the long run, you'll have something to point to to say "I told you so"
[14:14:05] *** Quits: nfroidure (nfroidure@moz-5B08EA47.w90-18.abo.wanadoo.fr) (Client exited)
[14:14:59] *** Joins: nfroidure (nfroidure@moz-5B08EA47.w90-18.abo.wanadoo.fr)
[14:15:30] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[14:15:31] <whitequark> strcat: bstrie_nan++, I would really like to see your ideas to be implemented in libstd sometimes, instead of just lingering in obscurity
[14:15:38] *** Joins: nszceta (quassel@moz-E458A7C0.pharm.pitt.edu)
[14:16:33] <sanxiyn> strcat: Not sure whether you should blog, but maybe writing a long writeup (like Niko does) on (say) vector representation may be a good idea
[14:16:34] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Client exited)
[14:18:00] *** Joins: dylukes (dylukes@D7FDFB40.AF8B4D87.E8393EEB.IP)
[14:18:12] *** Quits: dylukes (dylukes@D7FDFB40.AF8B4D87.E8393EEB.IP) (Quit: Textual IRC Client: www.textualapp.com)
[14:19:14] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[14:19:27] <Ms2ger> I know that everything I know about rust changes is because of nmatsakis's blog :)
[14:19:54] <bjz> stuff in IRC gets lost
[14:20:13] *** Quits: pepper_chico (pepper_chi@moz-13107F6.dsl.telesp.net.br) (Quit: Ex-Chat)
[14:20:55] <sanxiyn> But then, it's a lot of effort. I think the problem with "you should put effort X" is that then fulltimers win by default
[14:20:58] <sanxiyn> Not sure how to solve that though
[14:21:15] <bjz> sanxiyn: what is the issue?
[14:21:26] <eddyb> bjz: politics
[14:21:47] <lucian> strcat: being noisy is useful. keep doing it :) as en example, it convinced me i should comment on issues if i have an opinion
[14:21:51] <sanxiyn> bjz: strcat (and I and some others, I think) is not satisfied with decision making in Rust project.
[14:22:00] *** Joins: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP)
[14:22:08] <sanxiyn> lucian: Yup you definitely should
[14:22:10] *** Joins: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se)
[14:22:19] <eddyb> sanxiyn: include me too, just because a meeting item has been postponed for 3 weeks now :P
[14:22:31] <sanxiyn> eddyb: What was it? (sorry)
[14:22:35] *** Joins: canhtak (canhtak@moz-86A8B2E0.wl.t.ulaval.ca)
[14:22:41] <eddyb> sanxiyn: default type params
[14:22:45] <pnkfelix> eddyb: i'm pretty sure you'd agree that you'd want nmatsakis present for the discussionm
[14:22:46] <lucian> sanxiyn: i had generally assumed i wouldn't have something interesting to say
[14:23:14] <bjz> It's still really important to have leadership. Otherwise things turn into a soup of consensus.
[14:23:17] *** Joins: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net)
[14:23:23] <Ms2ger> Making decisions in sync meetings sucks, though
[14:23:46] <eddyb> pnkfelix: it's actually my fault for not coming up in time with an irrefutable argument last week, for env removal, since that blocked everything else :(
[14:24:03] <eddyb> pnkfelix: but hey, I only have so many neurons firing concurrently
[14:24:29] <lucian> eddyb: it can't be a single's person's fault that an irrefutable argument was not brought up
[14:24:36] <pnkfelix> eddyb: seems like the env removal bit is an example of how the community *can* overrule the core
[14:24:40] <pnkfelix> or at least
[14:25:10] <pnkfelix> that the core will revisit its own decisions in reponse to the community's response
[14:25:27] <pnkfelix> (which is admittedly quite different from "being overruled")
[14:25:33] <Ms2ger> Talking about "the community overruling the core" does make it sound like there's an issue :)
[14:26:00] <eddyb> pnkfelix: coming up with powerful arguments is a good tactic, but not everyone can do it all the time
[14:26:36] <eddyb> I tried to keep out for most of the crazy discussion in here, because politics are complicated, and hard to fix in general
[14:26:41] <pnkfelix> Ms2ger: well I'm staying out the discussion as to what the roles of core vs. community are and should be.
[14:26:59] <eddyb> (the sad thing is that we could easily improve rustc performance with that default type param change, without writing tons of code)
[14:27:05] <Ms2ger> core \subseteq community ;)
[14:27:08] * bjz just cautions against design by committee. Aiming to please everyone in the community has the potential to lead us towards the lowest common denominator.
[14:27:25] <eddyb> bjz: oh, I agree to that
[14:27:28] <Ms2ger> bjz, so we need a GvR :)
[14:27:31] <strcat> pnkfelix: I don't think there was ever a strong opinion on what to do about them though
[14:27:47] *** Quits: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com) (Quit: johnmurray)
[14:28:24] *** Joins: nical (Nicolas@87C1F78E.1DE10CA8.D8E68FF6.IP)
[14:28:26] <pnkfelix> strcat: "them" in that sentence denotes ... ?
[14:28:36] <strcat> pnkfelix: the env params
[14:28:41] <bjz> Ms2ger: We are in a difficult position - we don't have a BDFL
[14:28:56] <eddyb> bjz: it's like writing sites in PHP just because that's what most hosting services support. I think rust should be the opposite of that
[14:29:13] <Ms2ger> I vote for strcat as BDFL
[14:29:18] *** Parts: simlay (simlay@moz-490DE04A.amandrai.net) ()
[14:29:21] <eddyb> Ms2ger: no kidding
[14:29:21] <bstrie_nan> Ms2ger: I vote for myself as BDFL
[14:29:39] *** bstrie_nan is now known as bstrie_dfl
[14:29:52] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[14:29:53] *** Quits: nfroidure (nfroidure@moz-5B08EA47.w90-18.abo.wanadoo.fr) (Quit: Ex-Chat)
[14:29:56] <eddyb> bstrie_dfl: you just happen to have the right nickname
[14:30:08] <bstrie_dfl> the right nickname for the right man for the job
[14:30:13] <Ms2ger> bstrie_dfl, wouldn't you be more of a mdfl? :)
[14:30:15] <bjz> I'm not saying we need one, it's just that we need to be careful
[14:30:15] <eddyb> if it's for life, we have to choose someone who will live the longest, no?
[14:30:15] <bstrie_dfl> vote bstrie as your dictator for life
[14:30:26] <Ms2ger> eddyb, no, shortest
[14:30:33] <bstrie_dfl> Ms2ger: I prefer tyrant to dictator, honestly. Malevolent Tyrant For Life
[14:30:34] *** Joins: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP)
[14:30:41] *** Joins: nfroidure (nfroidure@moz-5B08EA47.w90-18.abo.wanadoo.fr)
[14:30:57] <eddyb> Ms2ger: shush, I'm trying to trick people into looking for the youngest rust contributors ever, not the oldest ones
[14:30:59] <Ms2ger> bstrie_dfl, one man, one vote, and you're that one man?
[14:31:03] <eddyb> Ms2ger: and you kinda blew it
[14:31:13] <Ms2ger> eddyb, get off my lawn!
[14:31:24] * Ms2ger grasps his walking stick
[14:31:28] <bstrie_dfl> Ms2ger: let's not be uncharitable. one man on the ballot, but everyone can have as many votes as they want!
[14:31:54] <eddyb> loop {do spawn {vote!(self)}}
[14:31:59] <bstrie_dfl> hahaha
[14:32:02] <eddyb> bless M:N
[14:32:06] *** Quits: gkostyanikov (gkostyanik@55749271.2AEE264E.CA6E2165.IP) (Ping timeout)
[14:32:11] <Ms2ger> Bless do
[14:32:11] <bstrie_dfl> impl Vote for Bstrie { } // default methods woo
[14:32:14] *** Quits: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP) (Ping timeout)
[14:32:50] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[14:34:03] <bstrie_dfl> how about this
[14:34:15] <bstrie_dfl> anyone who pledges fealty to me right now will be given a position of political power in my junta
[14:34:25] <Ms2ger> Never!
[14:34:26] <bstrie_dfl> the sooner you pledge the more power you have
[14:34:41] * Ms2ger starts playing on a piano
[14:34:43] <bstrie_dfl> Ms2ger: good, I need people who are willing to criticize me. you're my no. 2
[14:34:51] <bstrie_dfl> who's next
[14:34:54] <eddyb> there has to be a legal name for what he's doing :P
[14:35:04] <bstrie_dfl> eddyb: you're my no. 3
[14:35:05] <Ms2ger> eddyb, high treason
[14:35:10] <eddyb> ponzi scheme, power instead of money?
[14:35:30] <Ms2ger> Oh, that
[14:35:31] <eddyb> pyramid something something - I'm rusty on this stuff
[14:35:32] <Ms2ger> "politics"
[14:35:37] <eddyb> bstrie_dfl: what for?
[14:35:57] *** Joins: gkostyanikov (gkostyanik@55749271.2AEE264E.CA6E2165.IP)
[14:36:00] <Axord> 'bribery'?
[14:36:03] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[14:36:08] <pnkfelix> eddyb: because you expressed implicit criticism?
[14:36:08] <eddyb> Axord: that's too generic
[14:36:13] <bstrie_dfl> eddyb: I dunno. tyrants need people around them to do things, I hear
[14:36:18] <eddyb> hahahaha
[14:36:20] <Axord> 'nepotism'?
[14:36:52] <eddyb> Axord: "more X to the first who do Y" - that scheme
[14:36:59] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[14:37:10] *** Quits: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP) (Ping timeout)
[14:37:10] *** Quits: LU324 (weechat@9AF4F288.83671C58.1B5D53D7.IP) (Input/output error)
[14:37:20] <Ms2ger> First-come first-serve?
[14:37:22] <Ms2ger> FIFO?
[14:37:27] <eddyb> to get people trampling each other to be first to do Y so... hahaha
[14:37:39] <bstrie_dfl> Ms2ger: exactly! you're saving a place in my FIFO coup
[14:37:39] <eddyb> Ms2ger: FIMO
[14:37:40] *** Quits: gkostyanikov (gkostyanik@55749271.2AEE264E.CA6E2165.IP) (Ping timeout)
[14:37:42] <Axord> The reverse of 'first against the wall when the revolution comes', suppose.
[14:37:48] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[14:37:51] <eddyb> first in, most out
[14:38:05] *** Joins: nical1 (Nicolas@87C1F78E.1DE10CA8.D8E68FF6.IP)
[14:38:18] <Ms2ger> Axord, that'll be the guys in the publishing house
[14:38:29] *** Quits: nical (Nicolas@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[14:38:32] *** Joins: LU324 (weechat@9AF4F288.83671C58.1B5D53D7.IP)
[14:38:45] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[14:38:51] <Ms2ger> *Sirius Cybernetics Corporation
[14:38:59] <eddyb> talking about revolutions, I've watched the second Hunger Games movie yesterday (or two days ago? can't remember)
[14:39:01] * Ms2ger misremembered (the horror!)
[14:39:24] <eddyb> it only fueled my delusions further
[14:39:27] *** Joins: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP)
[14:39:46] <eddyb> bstrie_dfl: so be careful and don't trust goblins >:)
[14:39:58] <eddyb> always scheming, little bastards
[14:40:18] * eddyb looks at the clock. only a quarter to midnight
[14:40:36] <Yoric> Axord: Is that "first against the revolution when the wall comes"?
[14:40:42] <Axord> Ha.
[14:40:44] *** Quits: canhtak (canhtak@moz-86A8B2E0.wl.t.ulaval.ca) (Quit: canhtak)
[14:41:02] <eddyb> and this is the point where I get tired of making subtle references on top of references
[14:41:20] *** Joins: gkostyanikov (gkostyanik@55749271.2AEE264E.CA6E2165.IP)
[14:41:31] <eddyb> bwahaha
[14:41:34] <eddyb> test result: ok. 1337 passed; 0 failed; 56 ignored; 0 measured
[14:41:43] <Ms2ger> You're very elite, sir
[14:41:49] * eddyb bows
[14:42:05] <eddyb> Ms2ger: that's take_glue gone btw
[14:42:27] *** Joins: new_one (new_one@AB0375ED.32E41C6F.B3C0173E.IP)
[14:42:45] <Ms2ger> Taking glue? Not even once!
[14:42:57] <eddyb> it would've been done hours ago if not for an ignored return value *ahem*niko*ahem*
[14:43:07] *** kimundi is now known as zz_kimundi
[14:44:07] <pzol> vec:each() has been removed??
[14:45:00] <eddyb> :? what's :?
[14:45:13] <eddyb> pzol: why would you need it?
[14:45:20] <eddyb> we have... iterators :)
[14:45:26] <Ms2ger> eddyb, else-if as an expression
[14:45:30] *** Quits: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP) (Ping timeout)
[14:45:39] <pzol> eddyb found this https://github.com/mozilla/rust/blob/master/src/test/run-pass/for-destruct.rs?source=c
[14:45:51] *** Quits: sellout (Adium@moz-76D71F1A.hlrn.qwest.net) (Quit: Leaving.)
[14:45:52] *** Joins: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP)
[14:46:10] <Tobba> that syntax looks really old
[14:46:13] * sanxiyn cathced up
[14:46:26] <eddyb> pzol: that was xfail for maybe two years now
[14:46:45] <pzol> eddyb yeah... but the syntax looked tasty :) 
[14:46:46] <Ms2ger> Which says "remove `each` from vec, HashMap and HashSet"
[14:46:50] *** Quits: pyon (user@A16F2BE6.A9B419CB.1C8C8CE9.IP) (Ping timeout)
[14:46:51] <eddyb> pzol: its name suggests something ancient
[14:46:57] <pzol> lol
[14:47:12] <pzol> how would you write that with an iterator?
[14:47:25] <eddyb> pzol: you do realize what it's doing, right?
[14:47:36] <eddyb> for elt in ~[Pair {x: 10, y: 20}, Pair {x: 30, y: 0}].iter() {...}
[14:47:39] <Ms2ger> for elt in [Pair {x: 10, y: 20}, Pair {x: 30, y: 0}].iter() {
[14:47:52] <eddyb> well, yeah, it doesn't need the allocation
[14:48:28] <pzol> ancient magic? :D
[14:48:29] <eddyb> it was supposed to test something about destruction and for loops
[14:48:33] <eddyb> pzol: what do you mean?
[14:48:34] *** Joins: pyon (user@A16F2BE6.A9B419CB.1C8C8CE9.IP)
[14:48:55] <pzol> you asked if I knew what it does...
[14:49:02] <eddyb> pzol: it's the old for, which does almost the same thing as the old do
[14:49:08] <pzol> ok ok
[14:49:19] <eddyb> pzol: it calls vec::each(that owned vector, the closure)
[14:49:29] <eddyb> which in turn, iterates
[14:49:36] <eddyb> calling the closure for each element
[14:49:39] <sanxiyn> Does someone have material of http://popl.mpi-sws.org/2014/tutorials2.html#rust ?
[14:49:49] <pzol> I am fiddling with destructuring... trying to find some interesting cases
[14:49:56] <eddyb> pzol: the entire test can be removed AFAICT
[14:50:10] <pzol> eddyb got it
[14:50:54] <pyon> If I have a "struct FooRef<'a> { x: *Foo }", does 'a still denote FooRef's own lifetime, even though FooRef does not contain any members with a specified lifetime?
[14:51:09] <eddyb> pyon: I don't think so
[14:51:14] <eddyb> I'm not sure though
[14:51:19] <pyon> Mmm...
[14:51:25] <eddyb> pyon: it's *some* lifetime
[14:51:45] <pyon> eddyb: Can a FooRef<'a> exceed the lifetime 'a, if it does not contain any members with lifetime 'a?
[14:52:07] <pzol> can I do something like let pairs = ~[Pair {x: 10, y: 20}, Pair {x: 30, y: 0}]; for Pair {x, y} in pairs.iter() { 
[14:52:21] <eddyb> pyon: I think we still use Option<&'a ()> or something like that to guard the lifetime of iterators
[14:52:24] <Ms2ger> Maybe
[14:52:32] <sanxiyn> pzol: Yes, that should work
[14:52:38] <sanxiyn> (pattern matching on for)
[14:52:53] <pzol> how? that particular one gives mismatched types: expected `&Pair` but found a structure pattern
[14:52:54] <eddyb> pzol: for &Pair {x, y} because iter gives you references
[14:53:12] <pzol> Awesome!
[14:53:27] <eddyb> can we add .values() or .vals() already for &[T] with T: Pod?
[14:53:38] <Ms2ger> You can do it!
[14:53:45] <Ms2ger> But ask bstrie_dfl first
[14:54:09] *** Joins: gwty (gwtypc@5FEC7CAB.BD270B16.2E2F6049.IP)
[14:54:28] <eddyb> Ms2ger: I wonder if he can implement it :P
[14:54:48] <bstrie_dfl> eddyb: BDFL isn't about technical skill, that's what I have you and Ms2ger for
[14:54:57] <Ms2ger> Me?
[14:55:02] <eddyb> lol
[14:55:03] <bstrie_dfl> you're my no. 2!!
[14:55:13] <sanxiyn> bstrie's trusted minion indeed
[14:55:27] <pzol> I have compiled some examples of using destructuring in Rust http://pzol.github.io/getting_rusty/posts/20140122_destructuring_in_rust/ - any other interesting cases worth mentioning??
[14:55:29] <Ms2ger> Why would your no. 2 get their hands dirty?
[14:55:44] <sanxiyn> I always wanted to have my minions
[14:55:55] <bstrie_dfl> Ms2ger: well you're free to have your own no. 2. I don't care if you delegate the tasks that I've delegated to you
[14:56:11] <bstrie_dfl> I just expect RESULTS
[14:56:18] * bstrie_dfl pounds his fist on the table
[14:56:35] <Ms2ger> Get me eddyb!
[14:56:37] <Earnestly> So pattern matching is destructuring now
[14:56:45] <Earnestly> And destructure is a word, yay programming.
[14:56:53] <mitsuhiko> why is it called destructuring?
[14:57:08] <bstrie_dfl> mitsuhiko: come on, even python calls it destructuring assignment :P
[14:57:09] <sanxiyn> As in opposite of structuring?
[14:57:10] <Earnestly> I think it comes from Clojure, not like Rust isn't guility of calling things silly names
[14:57:21] <mitsuhiko> bstrie_dfl: i'm not critizising the name, just wondering where it comes from
[14:57:25] <sanxiyn> Earnestly: Definitely older than Clojure
[14:57:27] <mitsuhiko> python used to call it unpacking
[14:57:41] <bstrie_dfl> to me, **foo is unpacking in python
[14:57:50] <bstrie_dfl> (a, b) = (b, a) is destructuring
[14:57:50] <eddyb> we call it destructuring in ES6, so don't blame Rust
[14:57:53] *** Joins: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca)
[14:58:02] <Earnestly> eddyb: Rust calls it pattern matching
[14:58:07] <Ms2ger> JS has been using destructuring for as long as Fx implemented it, I think
[14:58:09] <sanxiyn> It is also called destructuring in Common Lisp specification
[14:58:11] <sanxiyn> So it is pretty old
[14:58:16] <Earnestly> Rust calls Arrays, "Vectors".  But then C++ is wrong too ;p
[14:58:24] *** Quits: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP) (Quit: Leaving)
[14:59:01] <eddyb> Ms2ger: me, longer, traceur-compiler <3
[14:59:21] <bstrie_dfl> Earnestly: to be fair, we didn't use to even *have* arrays, so "vectors" made sense...
[14:59:25] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[14:59:38] *** Quits: nical1 (Nicolas@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[14:59:39] <Earnestly> You might as well have called then pony-lists
[14:59:45] <Earnestly> Or just ponies
[14:59:50] *** Joins: dave1629 (dave@AC37A99F.9875BCA6.DDE5D3F6.IP)
[14:59:55] *** Joins: nical (Nicolas@87C1F78E.1DE10CA8.D8E68FF6.IP)
[14:59:58] <eddyb> o_O unreachable!() is a thing?
[15:00:12] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Client exited)
[15:00:14] <Ms2ger> Yes
[15:00:32] *** Joins: akp (akp@moz-23A590A0.hfc.comcastbusiness.net)
[15:00:32] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[15:02:01] <sanxiyn> pzol: Yes, I think that's all
[15:02:20] <sanxiyn> (I checked for AST data structures having Pat)
[15:02:58] <strcat> Earnestly: arrays *are* vectors, semantically
[15:03:21] <Earnestly> strcat: How do you define a vector?
[15:03:21] *** Quits: benjamin_ (benjamin@moz-C4D66C34.dip0.t-ipconnect.de) (Connection reset by peer)
[15:03:24] <eddyb> RIP https://github.com/mozilla/rust/pull/11723
[15:03:35] <eddyb> though peace is not for @T
[15:03:43] *** Joins: syst3mw0rm_ (quassel@moz-7886FF16.us-west-2.compute.amazonaws.com)
[15:03:45] *** Quits: dmacvicar (dmacvicar@moz-6C19808.suse.de) (Ping timeout)
[15:03:48] <sanxiyn> pzol: There are four places you can do pattern matching. Local, Arm, Arg, ExprForLoop
[15:03:51] *** Quits: mankyKitty (Instantbir@moz-9B898D95.enst-bretagne.fr) (Ping timeout)
[15:04:06] <pzol> Sanxiyn thanks!
[15:04:12] <eddyb> BIH is a better thing to say for such occasions - props to whomever guesses what it stands for first :P
[15:05:03] <eddyb> (turns out I'm not original and it's on UD. good to check before using it in the PR)
[15:05:23] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[15:05:34] *** Joins: tq (tq@moz-9FE9CCF4.a251.priv.bahnhof.se)
[15:06:38] *** Joins: mye (mye@moz-A9A7F192.dip0.t-ipconnect.de)
[15:07:03] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:07:25] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[15:08:04] *** Quits: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca) (Quit: Leaving.)
[15:08:24] *** Joins: eibwen_ (hein@moz-89B4C1AF.wlan.hu-berlin.de)
[15:08:27] <bstrie_dfl> eddyb: brson commented on 11595 saying that it's fine, is that an implicit r+?
[15:08:38] <eibwen_> what's r+?
[15:08:51] *** Joins: mankyKitty (Instantbir@moz-9B898D95.enst-bretagne.fr)
[15:09:01] <eddyb> bstrie_dfl: technically... nmatsakis seems to not have started/finished reviewing it
[15:09:23] <eddyb> I'm saying that so nobody goes against him by mistake and then blame me
[15:09:49] * bstrie_dfl blames eddyb 
[15:09:52] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Ping timeout)
[15:10:11] <bstrie_dfl> eddyb: I'm excited for it. good job
[15:10:31] <eddyb> bstrie_dfl: if only it means that it's easier to read LLVM IR :P
[15:10:51] <bstrie_dfl> I thought the take_glue was also a performance hazard
[15:10:51] <eddyb> (I read it because I'm one of those people who wants to overoptimize everything)
[15:11:08] <bstrie_dfl> does it reduce our terrible codegen bloat?
[15:11:24] <eddyb> bstrie_dfl: the code still gets ran
[15:11:27] <bstrie_dfl> wasn't take glue like.... 30% of all the code we generated?
[15:11:34] <bstrie_dfl> or some obscene number?
[15:11:44] <eddyb> but it's not output for ~Trait, I guess
[15:11:56] <eddyb> bstrie_dfl: if you have a reference for those numbers, gimme
[15:11:58] *** Quits: tq (tq@moz-9FE9CCF4.a251.priv.bahnhof.se) (Quit: tq)
[15:12:08] <mankyKitty> Must write some sort medium-ish sized _thing_ in Rust... poking the internals isn't helping me as much as I expected. ><
[15:12:23] <eddyb> mankyKitty: what kind of thing?
[15:12:25] <bstrie_dfl> bstrie_dfl: vaguely recalling from a long lost discussion about why our llvm pass was so slow
[15:12:29] <bstrie_dfl> eddyb: ^
[15:12:37] <bstrie_dfl> why does irssi even let me tab-complete my own name
[15:12:45] <eddyb> bstrie_dfl: I guess I can compare stage2-rustc size with stage1, but not much more
[15:12:46] <bstrie_dfl> eddyb: ask pcwalton, I think he produced the figure
[15:13:00] *** Quits: syst3mw0rm_ (quassel@moz-7886FF16.us-west-2.compute.amazonaws.com) (Client exited)
[15:13:04] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[15:13:05] <eddyb> Instruction does not dominate all uses!
[15:13:09] <eddyb> oi, what?
[15:13:21] *** Joins: syst3mw0rm_ (quassel@moz-7886FF16.us-west-2.compute.amazonaws.com)
[15:13:26] <Ms2ger> Sounds like a submissive instruction
[15:13:48] *** Quits: syst3mw0rm_ (quassel@moz-7886FF16.us-west-2.compute.amazonaws.com) (Client exited)
[15:13:53] <Ms2ger> mankyKitty, may I offer Servo?
[15:13:56] *** Joins: syst3mw0rm_ (quassel@moz-7886FF16.us-west-2.compute.amazonaws.com)
[15:13:58] <mankyKitty> I honestly have no idea.. maybe a text adventure? CLI chat app? re-write emacs for the lulz... Maybe a REPL actually.. I wrote a Scheme and the REPL was the fun bit... *ponders*
[15:14:09] *** Joins: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca)
[15:14:27] <mankyKitty> Ms2ger: Servo? really... to get started? You monster ><
[15:14:28] <bstrie_dfl> mankyKitty: rewriting emacs sounds fun... do you think you can have it done by friday?
[15:14:38] <mankyKitty> bstrie_dfl: *hisssss*
[15:15:01] *** Quits: LU324 (weechat@9AF4F288.83671C58.1B5D53D7.IP) (Input/output error)
[15:15:02] *** Joins: benjamin_ (benjamin@moz-D03A4BFC.dip0.t-ipconnect.de)
[15:15:09] <sanxiyn> mankyKitty: You wrote a Scheme implementation?
[15:15:21] <eddyb> mankyKitty: finish rust-term (or whatever it was) / ncurses-rs and use them to implement dwarf fortress. or just go with one of the SDL libraries, we like gfx
[15:15:46] <Ms2ger> mankyKitty, I can confirm I'm a monster :)
[15:15:52] <mankyKitty> sanxiyn: In haskell, from a tutorial. We're on gitty-hoob actually: this is mine https://github.com/haskell-lisp/leesp
[15:16:07] <sanxiyn> mankyKitty: How about Z-machine :)
[15:16:22] *** Joins: LU324 (weechat@9AF4F288.83671C58.1B5D53D7.IP)
[15:16:23] *** Quits: syst3mw0rm (quassel@moz-162AE103.compute-1.amazonaws.com) (Client exited)
[15:16:24] <mankyKitty> anything with an interface and I tend not to be friends for long
[15:16:41] <sanxiyn> Z-machine: the most portable virtual machine
[15:16:58] <mankyKitty> sanxiyn: I don't know Z-machine.
[15:17:05] <mankyKitty> sanxiyn: don't hate me
[15:17:13] <sanxiyn> http://en.wikipedia.org/wiki/Z-machine
[15:17:19] *** syst3mw0rm_ is now known as syst3mw0rm
[15:17:39] <eddyb> "used by Infocom for its text adventure games" oh?
[15:18:01] <sanxiyn> eddyb: You didn't know?
[15:18:01] <eddyb> OOOH, Zork, of course
[15:18:07] <mankyKitty> sanxiyn: It's a VM for text adventure games? It's a mini console! :P that is so adorable
[15:18:27] <bstrie_dfl> mankyKitty: ah, then you really *should* rewrite dwarf fortress. saying that it has an interface would be an insult to interfaces
[15:18:30] <sanxiyn> It's pretty interesting
[15:18:41] <eddyb> sanxiyn: I forgot about the Z-machine, but I must have read that wiki page before
[15:18:51] *** Joins: canhtak (canhtak@moz-86A8B2E0.wl.t.ulaval.ca)
[15:18:51] *** Quits: benjamin_ (benjamin@moz-D03A4BFC.dip0.t-ipconnect.de) (Connection reset by peer)
[15:19:48] <mankyKitty> I have plenty of ideas now :D I am terribly slow on uptake though so it could be a while >< Cheers folks!!
[15:20:21] <eddyb> mankyKitty: take LLVM out of librustc into a rust-llvm crate, then use that to JIT ZIL (or whatever their bytecode is called) on any platform LLVM supports :D
[15:20:40] <mankyKitty> I have an iddy biddy JIT written in Rust actually
[15:20:54] <eddyb> then use it to run Zork on steroids
[15:21:01] <johnsoft> quick question, what's the syntax for an exlicit lifetime specifier on a module-level static var?
[15:21:14] *** Joins: sedman (sedman@E4D2F0A.47298EC7.57E8EAD3.IP)
[15:21:23] <mankyKitty> eddyb: http://hydrocodedesign.com/2014/01/17/jit-just-in-time-compiler-rust/ (I'm on a life quest to LEARN ALL THE THINGS.)
[15:21:23] <eddyb> johnsoft: uhm... not sure what you mean
[15:21:37] <sanxiyn> mankyKitty: Oh, you wrote that?
[15:21:51] <sanxiyn> It was great
[15:21:54] <eddyb> johnsoft: a static doesn't have an explicit lifetime, unless you mean a &T in a static
[15:22:04] <flaper87> mankyKitty: +1 
[15:22:10] <johnsoft> eddyb- static map: HashMap<&Request, Any>
[15:22:14] <bstrie_dfl> mankyKitty: ah! that was a good article
[15:22:17] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[15:22:23] <mankyKitty> sanxiyn: No no no no
[15:22:24] <eddyb> johnsoft: &'static Request
[15:22:33] <mankyKitty> Epic article, not mine though.
[15:22:36] <johnsoft> thanks
[15:22:50] <mankyKitty> I'm not that clever
[15:22:51] <eddyb> johnsoft: assuming you're only using &req with req being another static
[15:22:53] <johnsoft> even though this can't be safe, and i just realized why :P
[15:23:26] <eddyb> johnsoft: you can't initialize HashMap yourself. use Option<HashMap<... if you want an workaround
[15:23:30] <bstrie_dfl> mankyKitty: why would you lie to us :(
[15:23:37] * bstrie_dfl banishes mankyKitty 
[15:24:13] <sanxiyn> bstrie_dfl: Are you thinking of http://article.gmane.org/gmane.comp.lang.rust.devel/4418 ?
[15:24:15] *** Joins: FreeFull (freefull@moz-1C93375C.as13285.net)
[15:24:16] <sanxiyn> IIRC we fixed that
[15:24:19] * mankyKitty sobs quietly in the corner
[15:24:47] <bstrie_dfl> sanxiyn: maybe. I really don't know what the status is
[15:25:02] <sanxiyn> bstrie_dfl: We did have quadratic glue generation bug in the past
[15:25:08] <bstrie_dfl> sanxiyn: I just remember the phrase "take glue" being thrown around
[15:25:41] <bstrie_dfl> pcwalton is the one who would know if it was ever fixed
[15:26:37] <sanxiyn> (The one I linked was fixed in #7186)
[15:27:03] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[15:27:19] *** Joins: sellout (Adium@moz-968E9A09.hsd1.co.comcast.net)
[15:27:36] *** Joins: sellout1 (Adium@moz-968E9A09.hsd1.co.comcast.net)
[15:28:44] *** Joins: mib_z5pwom (Mibbit@moz-4775FD88.superkabel.de)
[15:29:02] *** Quits: sellout (Adium@moz-968E9A09.hsd1.co.comcast.net) (Ping timeout)
[15:29:33] *** Quits: mib_z5pwom (Mibbit@moz-4775FD88.superkabel.de) (Quit: http://www.mibbit.com ajax IRC Client)
[15:30:18] * eddyb looks at the 30MB log produced by compiling libsyntax with RUST_LOG=rustc::middle::trans
[15:30:42] <eddyb> (and this is why you don't use @T, kids)
[15:30:55] <johnsoft> eddyb- if I need a MutexArc there too, would MutexArc<Option<...>> or Option<MutexArc<...>> make more sense?
[15:31:05] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[15:31:24] <eddyb> johnsoft: outer Option - the point of the Option is to construct the entire thing with None
[15:31:24] *** Joins: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP)
[15:31:39] <eddyb> johnsoft: what is this part of, if I may ask?
[15:31:50] <johnsoft> Gotcha, but then how do you init the MutexArc safely?
[15:32:05] *** Quits: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP) (Quit: Leaving)
[15:32:08] <eddyb> johnsoft: you assign the entire thing with Some(MutexArc::new(Hashm.....
[15:32:22] <johnsoft> eddyb- I'm trying to clone http://www.gorillatoolkit.org/pkg/context
[15:32:48] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[15:32:50] <eddyb> johnsoft: you're doing it wrong
[15:33:02] <eddyb> Rust does not approve of global state
[15:33:10] *** Quits: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP) (Ping timeout)
[15:33:18] <johnsoft> heh, that's a relief to hear
[15:33:36] *** Quits: canhtak (canhtak@moz-86A8B2E0.wl.t.ulaval.ca) (Quit: canhtak)
[15:33:49] *** zz_kimundi is now known as kimundi
[15:33:57] <pyon> What purpose exactly do #[unsafe_no_drop_flag] and #[unsafe_destructor] serve? I have asked this a while ago, and I got answers, but I am still struggling to understand. :-|
[15:33:58] <johnsoft> what would be right then?
[15:34:11] <eddyb> johnsoft: you could maybe use task-local data (which internally uses a HashMap), but that may be too slow for your uses
[15:34:16] *** Joins: thiago (thiago@705535C9.9074706C.BD25C20F.IP)
[15:34:25] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[15:34:27] <eddyb> johnsoft: in Rust, you should drag the context with you
[15:34:36] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[15:34:38] <johnsoft> that limits requests to being handled on a single task
[15:34:49] <eddyb> pyon: unsafe_no_drop_flag removes the drop flag, which is there to prevent reentring the dtor
[15:34:53] <eddyb> johnsoft: why?
[15:35:12] <johnsoft> I do have a Context type, but if I define that type, nobody else can add anything to it
[15:35:14] <pyon> eddyb: Why would the destructor be reentered in first place?
[15:35:37] <johnsoft> (unless I add a HashMap to the context, maybe)
[15:35:51] *** Joins: jdm (jdm@moz-BDD802ED.hfc.comcastbusiness.net)
[15:35:51] *** ChanServ sets mode: +o jdm
[15:35:56] <eddyb> johnsoft: I'm not sure what your usecase is
[15:36:03] <bstrie_dfl> johnsoft: you can add methods to types you haven't defined, you just need to define a trait yourself to do it
[15:36:11] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Quit: Leaving)
[15:36:18] <eddyb> though that's not what he meant, I think
[15:36:24] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[15:36:30] <bstrie_dfl> yeah I'm not following the conversation closely :P
[15:36:30] <johnsoft> bstrie_dfl- what about actual data, though?
[15:36:50] <johnsoft> eddyb- I'm trying to piece together a web library
[15:37:02] *** Quits: pyon (user@A16F2BE6.A9B419CB.1C8C8CE9.IP) (Ping timeout)
[15:37:07] <eddyb> johnsoft: that context looks like a *massive* hack
[15:37:17] <johnsoft> It is
[15:37:23] <eddyb> which happens to be what Go is in its entirety, from what I hear
[15:37:36] <johnsoft> No comment on that one :)
[15:37:38] <bstrie_dfl> eddyb: shush!
[15:37:42] <eddyb> johnsoft: go find a decent framework to base a Rust one in
[15:37:50] <eddyb> johnsoft: what would you need that global context for?
[15:38:04] <eddyb> pyon: write a type with a Drop impl that just prints something. now do let foo = MyTypeThatHasDrop; Some(foo);, it should print that something only once
[15:38:11] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[15:38:18] <eddyb> pffft pyon left :(
[15:38:36] *** Joins: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net)
[15:39:34] <johnsoft> eddyb- I'm only familiar with web frameworks in dynamic languages
[15:39:58] <eddyb> johnsoft: the two frameworks that I know of are express.js and sinatra, and I've only worked with the former
[15:40:15] <bstrie_dfl> johnsoft: which frameworks
[15:40:25] <johnsoft> In those kinds of languages, if you have a db connection for the request, you either use TLS or you say 'request.db = Database.connect()' and be done with it
[15:40:58] <eddyb> johnsoft: let db = Database::connect();
[15:41:02] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[15:41:08] <johnsoft> bstrie_dfl- rails, node/express, and django/flask/etc in python
[15:41:34] <eddyb> it should be easy to mimic express.js in Rust, from what I know
[15:41:42] *** Joins: pyon (user@A16F2BE6.A9B419CB.1C8C8CE9.IP)
[15:41:55] <mankyKitty> Yesod/Snap in Haskell, Cowboy/Nitrogen/Chicago Boss in Erlang <-- might be more interesting guides on web frameworks
[15:42:02] <pyon> eddyb: Sorry, I got disconnected. I was going to ask - why would a destructor be reentered in first place?
[15:42:03] <bstrie_dfl> I dunno, if you're making a new database connection for every request I don't see why you'd stuff it into storage
[15:42:14] <eddyb> pyon: write a type with a Drop impl that just prints something, then do let foo = MyTypeThatHasDrop; Some(foo);, it should print that something only once
[15:42:31] <mankyKitty> considering the difference in language archetypes between dynamic (WEEEEEEEEEEE MEMORY WWWEEEEEEE!) and static languages
[15:42:40] <eddyb> pyon: now add #[unsafe_no_drop_flag] and watch it print twice
[15:42:52] <bstrie_dfl> mankyKitty: is "Chicago Boss" literally the name of a web framework
[15:42:54] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:42:58] <eddyb> pyon: we depend on zeroing out data to cancel cleanup (dtors)
[15:42:59] <bstrie_dfl> because if so
[15:43:01] <bstrie_dfl> then <3
[15:43:06] <mankyKitty> bstrie_dfl: Yep www.chicagoboss.org
[15:43:47] *** Quits: pyon (user@A16F2BE6.A9B419CB.1C8C8CE9.IP) (Ping timeout)
[15:44:12] <johnsoft> mankyKitty- thanks for the tips, i'll check them out
[15:44:21] <mankyKitty> johnsoft: Happy to help. :) 
[15:44:23] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[15:44:36] <bstrie_dfl> johnsoft: yes, if you're looking for a web framework then rust will only disappoint you at the moment :)
[15:44:37] *** Joins: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com)
[15:44:49] *** Joins: pyon (user@EF45E32E.B4FB2178.1C8C8CE9.IP)
[15:45:10] <johnsoft> that's why i'm rolling my own, or trying :)
[15:45:12] <pyon> eddyb: Sorry, I was going to ask you, but I got disconnected (twice!) - Why would a destructor be reentered?
[15:45:27] <Ms2ger> <eddyb> pyon: we depend on zeroing out data to cancel cleanup (dtors)
[15:45:27] <eddyb> pyon: you asked again. did you hear what I said?
[15:45:31] <eddyb> Ms2ger: NOOO
[15:45:35] <pyon> eddyb: No, I did not get the answer.
[15:45:43] <eddyb> pyon: ignore what Ms2ger said
[15:45:47] <Ms2ger> eddyb, be silent, no. 3 :)
[15:45:50] <eddyb> pyon: write a type with a Drop impl that just prints something, then do let foo = MyTypeThatHasDrop; Some(foo);, it should print that something only once
[15:45:59] <eddyb> pyon: now add #[unsafe_no_drop_flag] and watch it print twice
[15:46:05] <eddyb> pyon: do that and then ping me
[15:46:08] <pyon> Okay.
[15:46:25] <bstrie_dfl> johnsoft: ChrisMorgan has dreams of this as well, but he's waylaid on writing the rust http library first :P
[15:46:27] <eddyb> because I'm not going to repeat myself again, if only to keep this channel somewhat clean
[15:46:37] *** Joins: jensnock_ (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[15:46:38] <bstrie_dfl> "if you wish to bake a pie from scratch, you must first invent the universe"
[15:46:47] <johnsoft> mankyKitty- does either yesod or snap fit into a pattern where middleware (I assume you're familiar with) can be written?
[15:46:49] <eddyb> bstrie_dfl: who said that?
[15:47:00] <eibwen_> suppose I have this code in C: void *alloc = malloc(sizeof(A) + sizeof(B)); fread(f, sizeof(A) + sizeof(B)); A *a = alloc; B *b = (void*)&a[1];
[15:47:13] <eibwen_> how could I allocate a chunk of contigous memory in Rust
[15:47:15] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[15:47:25] <eddyb> eibwen_: you won't be able to hold a ~B
[15:47:34] <bstrie_dfl> eddyb: feynman?
[15:47:36] <bstrie_dfl> not sure
[15:47:47] <bstrie_dfl> nope, sagan
[15:47:49] <eddyb> eibwen_: if you're okay with &mut B/&B, you can just allocate ~(A, B)
[15:47:59] <johnsoft> I wonder if ChrisMorgan would want to whiteboard this with me, could be fun
[15:48:16] <bstrie_dfl> johnsoft: you should! he's been thinking about it for a long time
[15:48:17] <Ms2ger> bstrie_dfl, no, Sagan
[15:48:19] <bstrie_dfl> but he's asleep right now
[15:48:21] <bstrie_dfl> thankfully
[15:48:21] <eibwen_> eddyb: if I allocate ~(A, B), will I get contigous memory that I can give to fread (or the rust equivalent?)
[15:48:23] <mankyKitty> johnsoft: Yesod is end to end as far as I am aware. However Snap is tiny and designed, iirc, to be more modular and less 'all things to all devs'
[15:48:37] <eddyb> eibwen_: why would you think of fread?
[15:48:46] <mankyKitty> johnsoft: I can't say conclusively though
[15:48:48] *** Quits: sigma (sigma@moz-1C81041B.range86-184.btcentralplus.com) (Client exited)
[15:48:50] <eddyb> that's such a low-level API
[15:48:55] <eddyb> eibwen_: what do you want to achieve?
[15:48:57] <kimundi> eibwen_: Depending on alignment, (A, B) might not contain continous memory for A and B
[15:49:07] <Ms2ger> eddyb, fread? Are you Oedipus?
[15:49:07] <johnsoft> mankyKitty- middleware makes more sense in a modular framework though, does it not?
[15:49:07] <eddyb> first do it the rust way then try to optimize it
[15:49:11] <pyon> eddyb: Ah, I thought the *compiler* kept track of which objects have been destroyed and emitted code accordingly... Apparently, a runtime flag keeps track of this. Am I right?
[15:49:30] <eibwen_> eddyb: reading a file format that is designed to be read into the memory as a whole
[15:49:43] <eddyb> eibwen_: write a parser instead
[15:50:15] <eddyb> (which file format?)
[15:50:39] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[15:50:47] <eddyb> bstrie_dfl: you're an insignificant human dictating on a tiny fraction of this pale blue dot :P
[15:51:04] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[15:51:21] <bstrie_dfl> eddyb: I'm content with my complete and utter dominance of this irc channel
[15:51:23] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Ping timeout)
[15:51:27] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[15:51:28] <bstrie_dfl> let's not get greedy
[15:51:43] *** Joins: rootnode (rootnode@moz-7FAB5E8.ip1.george24.com)
[15:52:04] <eddyb> pyon: the borrow/move checker checks the validity of the program, but trans doesn't know how it behaves. it's a bug that we depend on zeroing out memory *everywhere* and not only in specific contrived control flow cases
[15:52:12] *** Joins: tav (tav@moz-196E6F10.sohonet.co.uk)
[15:53:24] *** Joins: ferminter (Mibbit@1978A26C.391FFEF8.AF4633C6.IP)
[15:53:46] <mankyKitty> johnsoft: it would depend on what you're trying to accomplish, as always... But I am inclined to agree since a framework is exactly that and shouldn't bind people to any unique configuration.
[15:53:53] *** Quits: brendan (brendaneic@ED1D06F0.E4611EEC.436A6ED6.IP) (Quit: brendan)
[15:55:16] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[15:56:32] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[15:56:47] *** Quits: eibwen_ (hein@moz-89B4C1AF.wlan.hu-berlin.de) (Ping timeout)
[15:57:08] *** Quits: dave1629 (dave@AC37A99F.9875BCA6.DDE5D3F6.IP) (Quit: dave1629)
[15:57:12] *** Quits: tav (tav@moz-196E6F10.sohonet.co.uk) (Quit: tav)
[15:57:42] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[15:57:59] *** Quits: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca) (Quit: Leaving.)
[15:58:23] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[15:58:32] *** Quits: oberstet (quassel@moz-51427E81.dynamic.mnet-online.de) (Client exited)
[15:59:33] *** Joins: eibwen_ (hein@moz-89B4C1AF.wlan.hu-berlin.de)
[16:00:05] <eibwen_> eddyb: some unknown file format of an OS game
[16:00:24] *** Joins: brendan (brendaneic@ED1D06F0.E4611EEC.436A6ED6.IP)
[16:01:09] <eddyb> eibwen_: you could maybe write a Decoder that does the right thing, ignoring padding and whatnot
[16:01:24] <eddyb> then you only have to describe the structure
[16:02:28] *** Quits: doomlord_ (servitor@moz-D9C46C01.range86-184.btcentralplus.com) (Ping timeout)
[16:03:14] *** Joins: sigma (sigma@moz-1C81041B.range86-184.btcentralplus.com)
[16:03:49] *** Joins: doomlord_ (servitor@moz-D9C46C01.range86-184.btcentralplus.com)
[16:05:10] *** Joins: benjamin_ (benjamin@moz-D59099BD.dip0.t-ipconnect.de)
[16:08:13] *** Quits: sigma (sigma@moz-1C81041B.range86-184.btcentralplus.com) (Client exited)
[16:08:39] <johnsoft> mankyKitty- i've been staring at both yesod and snap
[16:09:04] <mankyKitty> johnsoft: that sounds ominous 
[16:09:09] <johnsoft> heh
[16:09:23] *** Quits: benjamin_ (benjamin@moz-D59099BD.dip0.t-ipconnect.de) (Ping timeout)
[16:09:35] * Ms2ger plays some violin at increasing volume
[16:10:02] <johnsoft> because haskell is functional, i think ultimately everything just falls back to globals
[16:10:16] * bstrie_dfl reclines in a plush armchair wearing a velour bathrobe and cradling a glass of chardonnay
[16:10:20] *** Quits: brendan (brendaneic@ED1D06F0.E4611EEC.436A6ED6.IP) (Quit: brendan)
[16:10:23] <johnsoft> because they're immutable and garbage collected and that's okay there
[16:10:33] *** Quits: jdm (jdm@moz-BDD802ED.hfc.comcastbusiness.net) (Ping timeout)
[16:10:39] * Ms2ger sees a white cat jump onto bstrie_dfl's lap
[16:10:50] <bstrie_dfl> Ms2ger: don't stop playing
[16:11:01] <Ms2ger> Yessir
[16:11:06] <bstrie_dfl> mmmmm
[16:11:07] <bstrie_dfl> excellent
[16:11:14] * Ms2ger cranks up the volume some more
[16:11:25] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[16:11:59] <johnsoft> rust has a completely different set of language constraints
[16:12:54] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:13:01] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:13:09] *** Quits: jensnock_ (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[16:13:27] <johnsoft> I think I'll just stick a hashmap in the context and be done with it
[16:13:32] *** Quits: gkostyanikov (gkostyanik@55749271.2AEE264E.CA6E2165.IP) (Quit: My iMac has gone to sleep. ZZZzzz…)
[16:13:35] *** Joins: bynaryshef (bynaryshef@moz-97E96350.mem.bellsouth.net)
[16:13:59] *** Quits: bynaryshef (bynaryshef@moz-97E96350.mem.bellsouth.net) (Client exited)
[16:14:11] *** Joins: bynaryshef (bynaryshef@moz-97E96350.mem.bellsouth.net)
[16:14:18] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[16:14:39] *** Quits: bynaryshef (bynaryshef@moz-97E96350.mem.bellsouth.net) (Quit: Leaving)
[16:14:44] *** Joins: bynaryshef (bynaryshef@moz-97E96350.mem.bellsouth.net)
[16:15:02] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[16:17:17] <eddyb> johnsoft: what do you need a context for?
[16:17:26] <mankyKitty> johnsoft: Yesod is a end to end framework and it uses the Type Class abilities of Haskell to full extend. Which is quite similar to the interface/trait system of Rust. If you're looking to work with swappable middleware, and various other interchangeable components then the Erlang frameworks would provide more insight
[16:17:58] <mankyKitty> johnsoft: there is Compojure in clojure which is a middleware framework built from several interchangeable pieces
[16:18:28] *** Joins: brendan (brendaneic@ED1D06F0.E4611EEC.436A6ED6.IP)
[16:19:17] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[16:19:41] <Yurume> awww I managed to read all the discussions!
[16:20:58] <Yurume> I have absolutely no experience with the large PRs and/or issues so what I can say is limited though
[16:21:16] <johnsoft> eddyb- if someone's consuming my routing library, they want to add their own db connection, memcache connection, template engine, and any unforseen stuff
[16:21:31] *** Joins: canhtak (canhtak@moz-86A8B2E0.wl.t.ulaval.ca)
[16:21:54] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:22:26] *** Quits: ferminter (Mibbit@1978A26C.391FFEF8.AF4633C6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:22:26] <eddyb> johnsoft: add *where*?
[16:22:44] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Client exited)
[16:23:11] *** Joins: derek_c (derek@moz-9C8DFC02.cit.cornell.edu)
[16:23:25] *** Quits: derek_c (derek@moz-9C8DFC02.cit.cornell.edu) (Quit: Leaving)
[16:23:25] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:23:39] <johnsoft> I don't know where
[16:23:48] *** Joins: benjamin_ (benjamin@moz-3A9931F5.dip0.t-ipconnect.de)
[16:23:59] <johnsoft> Presumably to a Context that is scoped to the current request and passed around
[16:24:00] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[16:24:15] <eddyb> johnsoft: mno, let's look at something realistic
[16:24:51] <eddyb> a template engine instance that you want to have around for all requests
[16:25:16] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[16:25:32] <johnsoft> (can we use something mutable? like a postgres connection pool)
[16:25:42] <eddyb> johnsoft: so you want a HashMap<Key, Any> (well, ~Any because we don't have DST)
[16:26:08] <eddyb> otherwise it's fixed layout
[16:26:30] *** Joins: skippydippy (Mibbit@A0BF3931.F701707F.E96CC4B4.IP)
[16:26:34] <eddyb> johnsoft: pffft, there's an issue here
[16:26:53] *** Quits: skippydippy (Mibbit@A0BF3931.F701707F.E96CC4B4.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:27:02] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[16:27:04] *** Joins: dave1629 (dave@2B0B4E57.83BCE10.DDE5D3F6.IP)
[16:27:37] <eddyb> johnsoft: RWArc<HashMap<K, V>> will get you some shareability
[16:28:13] <pyon> eddyb: That would still only allow a single task to use the whole of the hashmap.
[16:28:29] <pyon> eddyb: Rather than allowing all tasks to use different elements concurrently.
[16:28:34] <eddyb> johnsoft: but it would be nice if you could store RWArc<Any> in there, so you can take a handle and then you can use it outside of the hashmap
[16:28:48] <eddyb> pyon: that's why I said "some"
[16:29:06] *** Quits: nitro (nitro@241F3478.C8B67534.E205A781.IP) (Quit: Lost terminal)
[16:29:13] <pyon> I have been working on this particular problem, and I have a (hopefully non-broken) solution.
[16:29:26] <eddyb> pyon: other than DST?
[16:29:35] <pyon> DST?
[16:29:39] <eddyb> johnsoft: but for RWArc<Any> you need DST :(
[16:29:54] <eddyb> pyon: the main issue here is that you can't have SmartSharedPtr<Trait>
[16:30:13] <mankyKitty> eddyb, pyon, johnsoft: Clojure has been tackling this sort of thing quite heavily lately with the core.async library. I'm trying to remember where.. or some keywords at least
[16:30:25] *** Quits: brendan (brendaneic@ED1D06F0.E4611EEC.436A6ED6.IP) (Quit: brendan)
[16:30:26] <johnsoft> is this a hashmap of template names to compiled templates?
[16:30:36] <eddyb> johnsoft: no
[16:30:40] <eddyb> johnsoft: it's your context hashmap
[16:31:02] <johnsoft> ok
[16:31:06] <johnsoft> where is it defined?
[16:31:15] <eddyb> johnsoft: what?
[16:31:37] *** Quits: heftig (heftig@moz-D746319F.unitymedia.biz) (Quit: Quitting)
[16:31:38] <johnsoft> the context hashmap, is it a static global var somewhere?
[16:31:57] <johnsoft> i'm trying to piece together your scenario from the bottom up
[16:32:05] <eddyb> johnsoft: no, you would have a handle to it in the request object
[16:32:21] *** Joins: mceier (mceier@moz-C1591437.dynamic.chello.pl)
[16:32:24] *** Joins: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP)
[16:32:30] <eddyb> so Request contains app_context: RWArc<Context>
[16:32:35] *** Quits: relrod (relrod@moz-AABB5D31.redhat.com) (Ping timeout)
[16:32:47] <pyon> https://gist.github.com/eduardoleon/8561919 -- a Heap is a collection of Slots grouped in Pages, this design allows multiple tasks to use multiple Slots from the same Heap
[16:33:06] <eddyb> pyon: hmm?
[16:33:17] *** Joins: erickt1 (Adium@8C9ECD8F.3A598286.F12515B4.IP)
[16:33:23] <eddyb> you don't need anything that complicated here
[16:33:34] <johnsoft> if it's part of the request object, then the hashmap isn't needed
[16:33:43] <eddyb> johnsoft: where Context has HashMap<Key, RWArc<~Any>>, I guess
[16:33:47] <eddyb> johnsoft: why?
[16:33:48] *** Quits: canhtak (canhtak@moz-86A8B2E0.wl.t.ulaval.ca) (Quit: canhtak)
[16:34:06] *** Quits: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP) (Ping timeout)
[16:34:08] <johnsoft> oh never mind, sorry
[16:34:21] <johnsoft> i'm getting layers mixed up
[16:34:41] <eddyb> I guess this is equivalent to app.set/get in express.js
[16:34:49] *** Quits: benjamin_ (benjamin@moz-3A9931F5.dip0.t-ipconnect.de) (Ping timeout)
[16:34:52] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[16:35:11] <johnsoft> so, this is the context for the current request
[16:35:27] <eddyb> johnsoft: no, global context
[16:35:57] <eddyb> you get it in the request because that's a convenient place to put it
[16:36:17] <johnsoft> global context *can* be global RWArcs, because they don't need to change per request
[16:36:21] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[16:36:24] *** Joins: jensnockert (jensnocker@moz-4E3BE0F8.wireless.lu.se)
[16:36:31] *** Quits: jensnockert (jensnocker@moz-4E3BE0F8.wireless.lu.se) (Input/output error)
[16:36:38] <eddyb> johnsoft: consider static muts as non-existing
[16:36:40] <johnsoft> i personally call that "environment"
[16:36:41] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[16:36:49] <eddyb> sure, that's a good name
[16:37:31] <johnsoft> i have environment figured out though, that's not the problem
[16:37:42] <eddyb> huh?
[16:37:47] <pyon> eddyb: The main problem with that design is that, even after all child tasks drop their RWArcs to an object, the parent task still keeps a RWArc to it, and it is not so obvious how (and, most importantly, when) to clean it up.
[16:38:07] *** Quits: erickt1 (Adium@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[16:38:15] <johnsoft> it's init'd once, it's immutable, it's simple
[16:38:23] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[16:38:24] <eddyb> johnsoft: what if it's a cache?
[16:38:41] <eddyb> let's say the environment contains a template engine instance and a memcache instance
[16:38:53] <johnsoft> if it's a cache, you RWArc it
[16:39:05] <johnsoft> memcache is a perfect example, let's use that
[16:39:08] *** Joins: pagefault (Mibbit@E024D327.2DC60F20.67D29DD9.IP)
[16:39:16] <eddyb> johnsoft: but what do you store in the hashmap?
[16:39:18] <johnsoft> memcache connections are not thread safe
[16:39:24] <eddyb> since you can't know the type
[16:39:49] <johnsoft> so you need to use a connection pool, or just connect once per request
[16:40:12] <johnsoft> when a request comes in, you connect to memcache
[16:40:17] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[16:40:25] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[16:40:45] <johnsoft> now you have a local var mc of type ~MemcacheClient
[16:40:49] <eddyb> pyon: why would a parent task keep a handle if it doesn't need it?
[16:41:05] <eddyb> johnsoft: how does that environment look like?
[16:41:05] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[16:41:14] *** Quits: fabiand (fabiand@moz-3BF1AD07.adsl.alicedsl.de) (Quit: Verlassend)
[16:41:17] <eddyb> s/how/what
[16:41:21] *** Joins: jensnockert (jensnocker@moz-4E3BE0F8.wireless.lu.se)
[16:41:40] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[16:42:06] <johnsoft> it's a RWArc<MemcacheConnectionPool>
[16:42:08] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[16:42:14] *** Quits: jensnockert (jensnocker@moz-4E3BE0F8.wireless.lu.se) (Quit: Leaving...)
[16:42:17] <eddyb> johnsoft: but you can't know the type
[16:42:23] <eddyb> johnsoft: in the hashmap, that is
[16:42:35] *** Joins: fabiand (fabiand@moz-3BF1AD07.adsl.alicedsl.de)
[16:43:02] <johnsoft> it's not stored in a hashmap - it's either a global, in fn main, or an Environment struct
[16:43:03] *** Quits: pyon (user@EF45E32E.B4FB2178.1C8C8CE9.IP) (Ping timeout)
[16:43:07] <eddyb> johnsoft: and by memcache I meant a HTTP cache in memory not memcache specifically *sigh*
[16:43:19] <eddyb> johnsoft: how does that structure have the right... structure?
[16:43:56] *** Joins: pyon (user@EF45E32E.B4FB2178.1C8C8CE9.IP)
[16:44:13] <johnsoft> it's init'd once per app, you know what you need, so you build it accordingly before you call serve_forever
[16:44:28] <johnsoft> this part I have working already in fact, for mustache templates
[16:44:34] <eddyb> johnsoft: and the entire stack is generic over an environment type?
[16:44:44] *** Joins: vmx (vmx@moz-C030A3E.pools.arcor-ip.net)
[16:44:47] <pyon> eddyb: I got d/c'ed. My answer to your question was: "Because the parent owns the HashMap, children only own RWArcs cloned from the HashMap."
[16:45:07] <eddyb> pyon: sure, you wouldn't want the parent to drop things that you need in the HashMap
[16:45:24] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[16:45:33] <eddyb> if you really want it, then you can remove the key in the HashMap
[16:46:17] <johnsoft> eddyb- I have #[deriving(Clone)] 
[16:46:17] <johnsoft> struct MyServer {
[16:46:17] <johnsoft>  priv env: Arc<~Environment>,
[16:46:17] <johnsoft>  priv mux: Arc<~Mux> }
[16:46:43] <johnsoft> pub struct Environment { templater: Templater }
[16:46:43] *** Quits: pyon (user@EF45E32E.B4FB2178.1C8C8CE9.IP) (Ping timeout)
[16:46:47] *** Quits: pagefault (Mibbit@E024D327.2DC60F20.67D29DD9.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:46:48] <eddyb> why ~Environment?
[16:47:05] <eddyb> johnsoft: so is MyServer part of the stack or the user code?
[16:47:21] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[16:47:26] <johnsoft> eddyb- user code
[16:47:32] *** Joins: pyon (user@5D202184.695050F8.E6392873.IP)
[16:47:42] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[16:47:46] <eddyb> johnsoft: and how does it interact with the stack?
[16:48:36] *** Joins: relrod (relrod@moz-AABB5D31.redhat.com)
[16:48:49] <johnsoft> An example route is mux.add_route().method(Get).path(~"/").handler(env.wrap(public::index));
[16:49:07] *** Joins: dew (Instantbir@moz-D60E683F.dhcp.stls.mo.charter.com)
[16:49:19] <eddyb> johnsoft: that looks messy
[16:49:31] <eddyb> and implies user code handles the environment completely
[16:49:42] *** Quits: fabiand (fabiand@moz-3BF1AD07.adsl.alicedsl.de) (Quit: Verlassend)
[16:49:59] *** Joins: vosen (vosen@moz-266BA656.icpnet.pl)
[16:50:11] <johnsoft> it's a fluent api - method and path create RoutePredicates and add them to the created route
[16:50:37] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[16:50:46] *** Quits: bynaryshef (bynaryshef@moz-97E96350.mem.bellsouth.net) (Quit: This computer has gone to sleep)
[16:50:52] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[16:51:22] <johnsoft> user code does define and handle the environment because 1, only user code knows what the env will need, and 2, it keeps route handlers as generic fn(req, res) so that middleware can be framework-agnostic
[16:51:28] <eddyb> server.get("/", |req, res| write!(res, "Hello World from {}", /* I'm too tired to come up with anything witty */))
[16:51:42] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[16:51:53] *** Joins: fabiand (fabiand@moz-3BF1AD07.adsl.alicedsl.de)
[16:52:06] *** Joins: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[16:52:06] *** ChanServ sets mode: +ao dherman dherman
[16:52:07] <eddyb> johnsoft: "only user code knows what the env will need" - that's bad API design right there
[16:52:30] *** Quits: relrod (relrod@moz-AABB5D31.redhat.com) (Ping timeout)
[16:52:35] <johnsoft> should I force a specific template engine on everyone?
[16:52:38] <eddyb> johnsoft: one way to do it is to make the stack generic over a shareable environment
[16:53:11] <johnsoft> that would mean request handlers would have to be generic also
[16:53:14] <eddyb> the other way is to use runtime polymorphism, which can be done in a few ways in Rust, but if you can make it generic, there's no point
[16:53:20] <johnsoft> and would no longer fit into http::server
[16:53:37] <eddyb> johnsoft: depends what you mean by "fit into"
[16:54:30] <johnsoft> what I mean by middleware is a fn(req, resp) as defined by the http server library
[16:55:06] <johnsoft> it shouldn't have to be massaged to take a MyFramework::Context instead of a req,resp pair
[16:55:26] <eddyb> johnsoft: is the type of the request defined at the http server level?
[16:55:34] <johnsoft> yes
[16:55:39] <eddyb> you'd put the environment handle inside the request
[16:55:51] <eddyb> johnsoft: okay, that's bad design for middleware in rust
[16:56:27] <johnsoft> it's already defined here https://github.com/chris-morgan/rust-http/blob/master/src/http/server/request.rs#L195, it can't be changed
[16:56:42] <eddyb> johnsoft: that's a lower-level handler implementation
[16:57:07] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Quit: Leaving)
[16:57:16] <eddyb> though it's handy to have all those fields directly available
[16:57:45] <johnsoft> ok, fair enough
[16:58:11] <johnsoft> but making the request generic over the environment type is not an option, because
[16:58:22] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[16:58:32] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[16:58:32] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[16:58:35] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Client exited)
[16:58:37] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[16:58:55] <eddyb> johnsoft: if you have generic handlers, then you can have middleware using traits to provide functionality depending on environment or such things
[16:58:58] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[16:59:50] <johnsoft> but we're back to the original problem - traits only provide methods, not data
[17:00:12] <johnsoft> there's gotta be a field somewhere to store that data
[17:00:57] <johnsoft> I can't know ahead of time if someone consuming my middleware will need a zeromq connection (for example) in the context
[17:01:26] <johnsoft> the zeromq middleware must store that somewhere and make it accessible
[17:01:59] <eddyb> johnsoft: if you want the *user* to put stuff in their environment ahead of time, it should be fine
[17:02:37] <eddyb> traits allow you to write something like fn get_zeromq_handle(&self) -> RWArc<ZeroMqHandle>
[17:03:11] <johnsoft> how is get_zeromq_handle implemented?
[17:03:55] <johnsoft> let's give it a sig of get_zeromq_handle(&self, &Request) -> RWArc<ZeroMqHandle>
[17:04:19] <johnsoft> actually, get_zeromq_handle(&self, &'r Request) -> RWArc<&'r ZeroMqHandle>
[17:04:44] <eddyb> no that won't work
[17:04:49] <eddyb> also 'r is outdated terminology
[17:05:36] <johnsoft> what's up-to-date?
[17:06:16] <eddyb> 'a
[17:06:35] <eddyb> r comes from "region" which is the outdated terminology I referred to
[17:06:39] *** Joins: sigma (sigma@moz-1C81041B.range86-184.btcentralplus.com)
[17:06:40] <eddyb> they're lifetimes now
[17:07:08] <kimundi> i don'T rember having a style guide about what to _call_ a generic lifetime variable :P
[17:07:21] <johnsoft> in my defense, http://static.rust-lang.org/doc/master/guide-lifetimes.html#named-lifetimes still uses 'r
[17:07:27] <johnsoft> but i'll change :)
[17:07:31] <kimundi> err, _name_
[17:08:27] <kimundi> I guess 'a or 'l are the new obvious candidates to use...
[17:08:35] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[17:08:38] <eddyb> johnsoft: a good way to do this, I guess, is be generic over the environment, and use Request<Env>
[17:09:10] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[17:09:22] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[17:09:38] *** Joins: relrod (relrod@moz-AABB5D31.redhat.com)
[17:10:16] <eibwen_> eddyb: if rust is designed as a replacement for C, isn't "reading directly into structs" a thing commonly done in C?
[17:10:32] <eddyb> eibwen_: it's not a sane thing to do
[17:10:34] <eibwen_> (referring to my question earlier, when I asked to read struct A and B
[17:10:38] <eibwen_> )
[17:10:53] <eibwen_> eddyb: why isn't it? it
[17:11:07] <eibwen_> 's few things that have to be done
[17:11:08] <eddyb> eibwen_: because you're reinterpreting bytes as data
[17:11:10] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:11:15] <eibwen_> yep
[17:11:15] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: Leaving)
[17:11:17] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[17:11:31] <eddyb> eibwen_: and that's not even sane for Pod
[17:11:39] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:11:47] *** Quits: pyon (user@5D202184.695050F8.E6392873.IP) (Ping timeout)
[17:11:50] <eibwen_> because I can take advantage of my knowledge that on most CPUs I can reinterpret bytes as little-endian ints
[17:11:50] *** Joins: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP)
[17:11:59] *** Joins: ktt3ja (ktt3ja@moz-85E2770C.hsd1.va.comcast.net)
[17:12:00] <eibwen_> which is just blazingly fast
[17:12:21] <eddyb> eibwen_: what happens if you have enum Foo {A, B} and you reinterpret 2 as Foo?
[17:12:29] <kimundi> eibwen_: The problem is that this only works if your compiler and architecture lays out the data in memeory exactly the same way than on disk
[17:12:59] <eibwen_> eddyb: there is no guarantee for that, which is why I wouldn't read an enum directly from the file
[17:13:15] <eibwen_> whereas in C, I would perhaps read an union directly
[17:13:16] *** Quits: relrod (relrod@moz-AABB5D31.redhat.com) (Ping timeout)
[17:13:17] <eddyb> eibwen_: then you have to ask for unsafety? do you want to do that?
[17:13:23] <eddyb> s/?//
[17:13:26] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[17:13:54] <eddyb> johnsoft: this is a bit too complicated for me to explain in full detail atm, sorry
[17:14:20] <johnsoft> it's fine, i'll play around with it
[17:14:20] <eddyb> but you can have fn foo<Env: HasSomeData>(req: Request<Env>, res: Response)
[17:14:21] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[17:14:34] *** Quits: sigma (sigma@moz-1C81041B.range86-184.btcentralplus.com) (Client exited)
[17:15:15] <eibwen_> kimundi: right. so I should only use non-aligned structs for IO
[17:15:21] <eibwen_> well
[17:15:55] <johnsoft> if you're ever bored I could give you the code i have so far, that might be a little less hand-wavy
[17:16:26] <kimundi> eibwen_: And only structs that contain types that can be any random bit pattern without becoming invalid
[17:16:27] *** Joins: mib_iec2pd (Mibbit@moz-E02EA2F2.hsi.kabel-badenwuerttemberg.de)
[17:19:02] <eibwen_> well, I have structs of only i32's. those should be fine
[17:19:16] <eibwen_> (after converting big/little-endian)
[17:19:26] <kimundi> yeah, as far as memory safety is concerned that would indeed be fine
[17:19:27] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[17:20:11] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[17:20:16] <kimundi> Can't store a char in it for example though
[17:20:53] *** Joins: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net)
[17:21:16] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[17:21:35] *** Joins: sigma (sigma@moz-1C81041B.range86-184.btcentralplus.com)
[17:22:35] *** Quits: sigma (sigma@moz-1C81041B.range86-184.btcentralplus.com) (Client exited)
[17:23:09] *** Quits: mankyKitty (Instantbir@moz-9B898D95.enst-bretagne.fr) (Quit: mankyKitty)
[17:23:22] *** Joins: reyre (reyre@moz-89E9865B.com)
[17:23:48] <eddyb> johnsoft: feel free to gist it
[17:23:54] *** Joins: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca)
[17:24:32] *** Quits: mib_iec2pd (Mibbit@moz-E02EA2F2.hsi.kabel-badenwuerttemberg.de) (Quit: http://www.mibbit.com ajax IRC Client)
[17:25:20] *** Joins: relrod (relrod@moz-AABB5D31.redhat.com)
[17:25:30] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Quit: Textual IRC Client: www.textualapp.com)
[17:26:11] *** Joins: tq (tq@moz-9FE9CCF4.a251.priv.bahnhof.se)
[17:27:09] *** Joins: ptc (Adium@moz-70F9251D.thefacebook.com)
[17:27:42] <johnsoft> it's about 10 files, I'll just do a normal repo
[17:28:09] *** Quits: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca) (Quit: Leaving.)
[17:29:15] *** Parts: ptc (Adium@moz-70F9251D.thefacebook.com) ()
[17:29:29] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[17:29:39] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[17:30:57] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[17:31:43] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[17:31:58] <ktt3ja> anyone knows a good web-form service to collect error messages? I want a field "Code: " where user can paste in source code or upload source files, and "Error: " where they can paste in the error they got
[17:32:12] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[17:32:29] <ktt3ja> I want to collect Rust error messages that people find to be confusing
[17:33:01] *** Joins: canhtak (canhtak@moz-CEAFB489.wl.t.ulaval.ca)
[17:33:16] <lucian> ktt3ja: google docs has usable forms, i guess
[17:33:48] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[17:33:54] <ktt3ja> lucian: they put everything into spreadsheet, though, which doesn't display code nicely
[17:34:08] <lucian> sure, but you can extract it easily enough
[17:34:18] <lucian> it's only useful for collection, not analysis
[17:35:02] <ktt3ja> lucian: hmm, I'll check it out again
[17:35:17] <lucian> you can them export to, say, csv and parse in your favourite language
[17:35:21] <lucian> and output in any way you like
[17:35:26] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[17:35:36] <lucian> (as long as it doesn't mangle source code)
[17:38:53] *** Quits: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP) (Client exited)
[17:40:22] *** Quits: sedman (sedman@E4D2F0A.47298EC7.57E8EAD3.IP) (Ping timeout)
[17:41:31] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Ping timeout)
[17:42:55] *** Joins: jdm (jdm@moz-C07D5168.p2p.sfo1.mozilla.com)
[17:42:55] *** ChanServ sets mode: +o jdm
[17:43:05] <cmr> ktt3ja: https://github.com/mozilla/rust/pull/11460
[17:48:39] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[17:50:45] *** Joins: mentero (mentero@moz-D61C6F02.proxnet.pl)
[17:51:07] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[17:51:09] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[17:52:37] *** Quits: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP) (Quit: Computer has gone to sleep.)
[17:52:46] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[17:53:26] *** Joins: geoffhill (geoffhill@moz-738DC0DB.org)
[17:54:03] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Client exited)
[17:54:44] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[17:55:13] *** Quits: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net) (Quit: calvinmetcalf)
[17:55:19] *** Joins: brendan (brendaneic@77AE999A.FC6A2EC4.67894F1C.IP)
[17:56:07] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[17:57:13] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[17:57:14] <bstrie_dfl> I feel like there are a lot of people giving rust presentations but with poor code examples
[17:57:37] <bstrie_dfl> how do I broadcast to them the fact that I will freely review slides for code quality before they give their presentation
[17:58:16] *** Joins: azita (Azita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[17:59:07] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:59:30] <Ms2ger> Put it in the topic
[18:00:00] <bstrie_dfl> bah, like anyone reads the topic
[18:00:04] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:00:06] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[18:00:07] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[18:00:18] * bstrie_dfl reads the topic for the first time in months
[18:00:37] *** Quits: brendan (brendaneic@77AE999A.FC6A2EC4.67894F1C.IP) (Quit: brendan)
[18:01:11] *** Joins: eagen (eagen@15B176CF.7A99C13A.B7961A98.IP)
[18:01:14] <bstrie_dfl> haaaaaaaaaaaahahahahaha
[18:01:15] <bstrie_dfl> what
[18:01:18] <bstrie_dfl> whaaat
[18:01:22] <bstrie_dfl> so
[18:01:29] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[18:01:36] <bstrie_dfl> in my plea for people to check their code examples I was specifically referring to http://angrylawyer.github.io/a-dabblers-adventures-in-rust/
[18:01:53] *** Quits: sellout1 (Adium@moz-968E9A09.hsd1.co.comcast.net) (Quit: Leaving.)
[18:01:59] <bstrie_dfl> which does a lot of weird things, like wrap if conditions in parens and put extraneous semicolons after functions and struct definitions and such
[18:02:16] <bstrie_dfl> but I hadn't read the whole thing
[18:02:30] <bstrie_dfl> and slide 19 is literally just an adaption of the wikipedia example that I wrote YESTERDAY!
[18:02:35] *** Quits: autra_ (augustin@A14DAE84.7F753DD1.EE2CA32B.IP) (Quit: by!)
[18:02:38] *** Quits: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP) (Quit: by!)
[18:02:40] <bstrie_dfl> they must have thrown this together in like six minutes
[18:04:08] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[18:04:09] <bstrie_dfl> I literally think that dbaupp posted those slides to reddit within an hour of me making that edit to the wikipedia page
[18:06:13] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[18:06:16] <blAckEn3d> how do I get get a pointer to an array to pass to a c function via ffi?
[18:06:41] <bstrie_dfl> hmm
[18:06:43] *** Joins: vosen_ (vosen@moz-266BA656.icpnet.pl)
[18:06:50] <bstrie_dfl> we really need a better ffi tutorial
[18:06:56] <blAckEn3d> probably :)
[18:07:03] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Quit: ziad)
[18:07:07] <klutzy> .as_ptr()
[18:07:14] *** Quits: vosen (vosen@moz-266BA656.icpnet.pl) (Ping timeout)
[18:07:24] <blAckEn3d> http://pastebin.com/6k2EG3CH
[18:07:28] <blAckEn3d> this is what I'm trying to do
[18:07:29] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[18:08:09] <blAckEn3d> klutzy: thanks. it compiles
[18:12:23] *** Joins: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[18:12:57] <bstrie_dfl> blAckEn3d: what version of rust are you using
[18:13:11] <blAckEn3d> bstrie_dfl: 0.9
[18:13:17] *** Joins: Orgiz (Mibbit@moz-2BE66820.a316.priv.bahnhof.se)
[18:13:29] <bstrie_dfl> weird, I didn't realize we still had .with_c_str
[18:13:42] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[18:13:50] <blAckEn3d> bstrie_dfl: is that deprecated? what's the best way of doing it?
[18:14:39] <bstrie_dfl> blAckEn3d: I'm not sure if that's the best way of doing it... I thought we had a .null_terminate() or something that returned a type that could be sent to C. but I'm not sure
[18:14:51] <Orgiz> Im trying to register at facepunch to request a beta key to Rust but im failing. How do i get a key so i can start hosting servers?
[18:15:06] <bstrie_dfl> Orgiz: this is not the rust game :)
[18:15:12] <Orgiz> Doh :)
[18:15:21] <blAckEn3d> bstrie_dfl: thanks, i'll look it up
[18:15:25] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[18:16:34] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[18:19:13] *** Joins: sellout (Adium@2917A62E.8B65BA63.1D2A2C57.IP)
[18:19:58] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[18:20:23] *** Joins: rca (rcatolino@moz-9CC22131.adsl.proxad.net)
[18:20:31] *** Quits: mentero (mentero@moz-D61C6F02.proxnet.pl) (Ping timeout)
[18:20:43] *** Joins: mentero (mentero@moz-D61C6F02.proxnet.pl)
[18:20:44] *** Quits: eibwen_ (hein@moz-89B4C1AF.wlan.hu-berlin.de) (Quit: Lost terminal)
[18:21:08] *** Joins: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP)
[18:21:24] *** Quits: moostik (Icedove@moz-1FF02BE5.w92-151.abo.wanadoo.fr) (Ping timeout)
[18:21:56] *** Quits: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net) (Ping timeout)
[18:21:56] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[18:23:24] *** Joins: moostik (Icedove@moz-1FF02BE5.w92-151.abo.wanadoo.fr)
[18:23:49] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[18:24:50] *** Joins: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net)
[18:25:00] *** Joins: dmac (Adium@moz-DBF6FF2C.hfc.comcastbusiness.net)
[18:25:21] *** Joins: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net)
[18:28:22] *** jorendorff_away is now known as jorendorff
[18:29:23] *** Quits: Orgiz (Mibbit@moz-2BE66820.a316.priv.bahnhof.se) (Quit: http://www.mibbit.com ajax IRC Client)
[18:30:11] *** Joins: killerswan (kevin.cant@E9A7755D.F485DE6D.5604FD67.IP)
[18:30:23] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:30:38] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[18:31:03] *** Quits: gwty (gwtypc@5FEC7CAB.BD270B16.2E2F6049.IP) (Ping timeout)
[18:32:17] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[18:32:51] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[18:32:54] *** Quits: eagen (eagen@15B176CF.7A99C13A.B7961A98.IP) (Ping timeout)
[18:33:04] *** Quits: v01px3 (sid18631@moz-5F4AA75A.irccloud.com) (Ping timeout)
[18:33:36] *** Quits: muricula (kronquii@moz-2F636E0B.onid.oregonstate.edu) (Quit: Changing server)
[18:33:44] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[18:33:53] *** Quits: pilf (pilf@8FA95888.1A994CBC.4B228AD7.IP) (Ping timeout)
[18:33:55] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Ping timeout)
[18:34:09] *** Quits: jdm (jdm@moz-C07D5168.p2p.sfo1.mozilla.com) (Connection reset by peer)
[18:34:18] *** Joins: jdm (jdm@moz-C07D5168.p2p.sfo1.mozilla.com)
[18:34:18] *** ChanServ sets mode: +o jdm
[18:34:28] *** Joins: dyreshark (george@moz-1B7B9AC7.members.linode.com)
[18:34:37] *** Joins: v01px3 (sid18631@moz-5F4AA75A.irccloud.com)
[18:34:38] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[18:36:05] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[18:36:06] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[18:37:31] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[18:37:33] *** Joins: jarekps_ (jarekps@moz-212A0654.neoplus.adsl.tpnet.pl)
[18:37:34] *** Quits: jdm (jdm@moz-C07D5168.p2p.sfo1.mozilla.com) (Connection reset by peer)
[18:38:22] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[18:38:32] *** Joins: jdm (jdm@moz-C07D5168.p2p.sfo1.mozilla.com)
[18:38:32] *** ChanServ sets mode: +o jdm
[18:39:21] <arpd> If I move a vector via a function call (i.e. say I have a vector that I'd like the function to alter in place), and am passing it as an owned vector, why can I not use it again after the function call? (use of moved value)
[18:39:27] *** Joins: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP)
[18:39:43] *** Joins: ecr (chatzilla@moz-9A311BDF.dhcp4.washington.edu)
[18:39:53] <arpd> Do I have to explicitly note in a function that a borrowed object is going to have ownership released?
[18:40:08] <Tari> if you move it, it goes out of scope for the caller
[18:40:22] <Tari> you should probably use a &mut instead
[18:40:29] *** Joins: brendan (brendaneic@7D275E5E.369AB919.1C1BA5F7.IP)
[18:40:44] *** Joins: willingc_ (willingc@moz-B4760708.san.res.rr.com)
[18:41:01] *** Joins: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net)
[18:41:10] <arpd> Oh, so it is indefinitely gone? Why then does it work for examples where they have it moved inside a conditional?
[18:41:34] *** Quits: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP) (Ping timeout)
[18:41:36] <tq> Yes, the function should borrow the vector not take ownership
[18:41:37] <Matthias247> when you have moved it you can use the version where you moved it to. But not the old one
[18:41:39] *** Joins: brson (brson@moz-C07D5168.p2p.sfo1.mozilla.com)
[18:41:39] *** ChanServ sets mode: +ao brson brson
[18:42:02] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[18:43:42] *** Joins: nszceta_ (quassel@moz-E458A7C0.pharm.pitt.edu)
[18:44:01] *** jorendorff is now known as jorendorff_away
[18:44:30] *** Quits: nszceta_ (quassel@moz-E458A7C0.pharm.pitt.edu) (Input/output error)
[18:44:34] <kimundi> rusti: let v = ~"ss"; if true { drop(v); } v
[18:44:41] -rusti- pastebinned 10 lines of output: http://ix.io/a3P
[18:45:00] <kimundi> rusti: let v = ~"ss"; if false { drop(v); } v
[18:45:05] -rusti- pastebinned 10 lines of output: http://ix.io/a3Q
[18:45:36] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Client exited)
[18:45:41] *** Joins: ChrisOei (ChrisOei@moz-53A9266A.blurb.com)
[18:45:56] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[18:47:34] <dyreshark> hi! quick question, because i'm just beginning rust: in this code [ http://pastebin.com/6Fu1pTkp ], why do i get "cannot borrow immutable local variable as mutable"/how do i annotate the loop so that this code is allowed??
[18:47:43] <dyreshark> ?*
[18:48:15] *** Quits: Kxepal (Miranda@moz-83916904.pppoe.mtu-net.ru) (Quit: Kxepal)
[18:48:22] *** Quits: ChrisOei (ChrisOei@moz-53A9266A.blurb.com) (Ping timeout)
[18:48:29] *** Joins: Kxepal (Miranda@moz-83916904.pppoe.mtu-net.ru)
[18:48:50] <o11c> dyreshark: let mut
[18:49:17] <dyreshark> o11c: ahhh, i feel smart now. thank you
[18:49:22] <dyreshark> :p
[18:51:01] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[18:51:21] *** Joins: bmats (bmats@moz-87F0A991.hfc.comcastbusiness.net)
[18:51:37] *** Joins: elux (peter@8F76C855.EA3127C1.DE37F9F5.IP)
[18:52:14] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[18:52:29] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:53:01] *** Joins: krebbit (Mibbit@moz-303CD96D.pools.arcor-ip.net)
[18:53:03] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[18:53:18] *** Joins: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP)
[18:53:33] *** Quits: brendan (brendaneic@7D275E5E.369AB919.1C1BA5F7.IP) (Quit: brendan)
[18:55:02] *** Quits: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP) (Ping timeout)
[18:55:22] <krebbit> i have a question regarding modules
[18:55:25] <krebbit> https://gist.github.com/kud1ing/8564950
[18:55:34] *** Joins: omnus (omnus@moz-2E009EE2.stny.res.rr.com)
[18:55:53] <krebbit> b.rs compiles fine, c.'s just included b.rs and it gives "unresolved import"
[18:56:00] *** Joins: brendan (brendaneic@7D275E5E.369AB919.1C1BA5F7.IP)
[18:56:23] <krebbit> i seem to miss something
[18:56:52] <kimundi> krebbit: "use" paths are global paths per default - that is they are relative to the crate root
[18:57:14] *** Joins: ChrisOei (ChrisOei@moz-53A9266A.blurb.com)
[18:57:24] <krebbit> what does this mean for this example?
[18:57:38] *** Quits: lerc (quassel@moz-289EFA2.telstraclear.net) (Client exited)
[18:57:44] <kimundi> if c.rs contains the body of your crate root, then the a module has the global path ::b::a, which means in b.rs you have to "use b::a::A; "
[18:58:23] <kimundi> ALternativly, in b you can say "use self::a::A;" - this would resolve the import relative to the current module b
[18:58:37] <krebbit> ah, self
[18:58:39] *** Quits: brendan (brendaneic@7D275E5E.369AB919.1C1BA5F7.IP) (Quit: brendan)
[18:59:02] <krebbit> thanks
[18:59:40] *** Quits: azita (Azita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: azita)
[18:59:44] <krebbit> i must say that i find Rust module system to have a surprisingly steep learning curve
[18:59:45] *** Joins: lerc (quassel@moz-289EFA2.telstraclear.net)
[18:59:58] <krebbit> in most languages you just import away
[19:00:54] <krebbit> also the consequences of the shadowing rules are surprising. first you need to "use" it and after that you need to define/declare what one uses
[19:00:55] *** Quits: brson (brson@moz-C07D5168.p2p.sfo1.mozilla.com) (Ping timeout)
[19:01:55] *** Joins: jessie (jessie@D31433C7.6F737E01.D4A9B473.IP)
[19:02:05] <kimundi> krebbit: yeah - no real way to simplify it without loosing functionality, or without requiring ti write more code though
[19:02:20] <kimundi> requiring the user to write more code*
[19:02:37] <krebbit> :(
[19:03:37] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[19:03:45] <kimundi> It's not really that complicated once you got over the initial learning curve - and the is a fast path to getting it working without understanding it completly
[19:04:33] *** Joins: azita (Azita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:06:03] <kimundi> The fast path being to just put all mod statements in your crate root, which simplifies the import paths.
[19:06:11] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[19:06:32] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[19:07:35] *** Joins: alonlevy (alon@moz-61A0AD83.red.bezeqint.net)
[19:08:05] *** Joins: echristo (echristo@E55635C9.D6CCE4AE.77834EAA.IP)
[19:08:06] *** Joins: zokier` (zokier@moz-C4357EA7.kapsi.fi)
[19:08:07] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[19:08:14] <Matthias247> krebbit: I think the same. Rusts automatic correlation between files and modules makes some things harder than it should be
[19:08:15] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[19:09:18] <zokier`> is there rust-nightly packaged for debian stable?
[19:09:34] <Matthias247> Java already hat a relation between files and classes that many didn't like
[19:09:38] *** Joins: nif (nif@moz-8181E2AC.oberlin.net)
[19:09:47] <kimundi> Matthias247: There is no automatic correlation with files - Rusts module system is defined file-independent. You are allowed to put the body of a module in a seperate source file just as a pure convenience function
[19:10:06] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[19:10:16] <Matthias247> kimundi: it is. You cannot put code in another file without making it another module
[19:10:24] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[19:10:36] *** Quits: elux (peter@8F76C855.EA3127C1.DE37F9F5.IP) (Quit: Leaving...)
[19:11:25] <kimundi> Matthias247: Well, how else to solve it?
[19:11:33] *** Quits: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP) (Client exited)
[19:11:45] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[19:12:43] <Matthias247> E.g. use another statement like samemod otherfile; which includes the content of the other file in the current module
[19:13:12] *** Joins: Jemaclus (Mibbit@4EEAB704.5843BA5A.D4E4C7A5.IP)
[19:13:25] <Matthias247> you could also call it import :)
[19:14:15] <Jemaclus> hiyas, another noob question whose answer I don't see in the manual. Is there an operator for "continue"?  i.e., for i in range(0, 5) { if (foo) { continue; } // do other stuff }
[19:14:19] <Matthias247> Dart has also a suitable way. In the root of the library/module you define which other files belong to it. And in the other files you say "part of foomodule;"
[19:14:45] <bstrie_dfl> Jemaclus: continue should work
[19:14:46] * kimundi notices that he is entirely to tired to reason about whether that would be a good or bad idea.
[19:15:03] <bstrie_dfl> rust has weird modules
[19:15:05] <Jemaclus> hmm
[19:15:07] <bstrie_dfl> I try not to use them
[19:15:11] <bstrie_dfl> one giant file for me
[19:15:16] <Matthias247> bstrie_dfl: that is what will happen
[19:15:31] <Matthias247> either people will use giant files or they won't use rust
[19:15:45] <bstrie_dfl> Matthias247: don't tell me, go tell the devs :)
[19:15:54] <Jemaclus> well, i knew that was a dumb question. thanks, bstrie_dfl 
[19:15:56] <kimundi> What exactly is the problem here anyway?
[19:16:18] <kimundi> What is hindering you from using modules?
[19:16:34] <Matthias247> a) unnecessary imports
[19:16:39] <bstrie_dfl> can't remember the syntax for em
[19:16:43] <Matthias247> b) destroys all module privacy
[19:17:00] *** Quits: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP) (Ping timeout)
[19:17:04] <kimundi> bstrie_dfl: That'S just lazy :P
[19:17:27] <bstrie_dfl> kimundi: nah, it just defies memorization
[19:18:10] <bstrie_dfl> kimundi: something like, `mod foo;` to use a file named foo, and `extern mod foo;` to use a binary named foo, and `mod foo {` to make your own mod named foo, but then you have to stick `use foo` somewhere and I don't know where
[19:18:53] * lucian nods
[19:19:06] <kimundi> bstrie_dfl: You know I wrote a guide about the module system months ago that explains all that, right? ;)
[19:19:19] <bstrie_dfl> kimundi: show it to me
[19:19:20] <kimundi> mod declares a module
[19:19:38] <kimundi> http://static.rust-lang.org/doc/master/tutorial.html#crates-and-the-module-system
[19:19:38] <Matthias247> the module system is ok. Only the way it works with files is not
[19:19:40] <bstrie_dfl> unless you're importing a file. or linking a binary
[19:19:53] <kimundi> mod declares a module.
[19:20:02] *** Quits: blAckEn3d (blAckEn3d@moz-6E18770E.dip0.t-ipconnect.de) (Quit: Lingo - http://www.lingoirc.com)
[19:20:26] <kimundi> use imports paths from any module into the local scope
[19:20:47] <kimundi> "extern mod" is misnamed and should be "crate" - it links to a library and binds its content to a local name
[19:20:55] <sfackler> Matthias247: you can use the include!() macro to pull text from another file without making it a new module
[19:21:13] <Matthias247> sfackler: I learned that. But also that it is discouraged
[19:21:21] <kimundi> The local scope per default contains all items defined in it
[19:21:24] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[19:21:34] *** Joins: lucian_ (lucian@303F9692.4304AE1E.CE5E78F6.IP)
[19:21:51] <Matthias247> sfackler: will that even provide suitable error messages and locations for the things in the other files?
[19:22:03] *** Quits: killerswan (kevin.cant@E9A7755D.F485DE6D.5604FD67.IP) (Quit: Leaving)
[19:22:19] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[19:22:20] <krebbit> kimundi: i think you said "without losing functionality". what functionality does Rust provide over something like say Haskell's system?
[19:22:24] <tq> I think the module system is great. I like the fact that it looks for both foo.rs and foo/mod.rs
[19:23:28] <Matthias247> that is all ok if you actually WANT another module
[19:23:29] *** Quits: lucian_ (lucian@303F9692.4304AE1E.CE5E78F6.IP) (Ping timeout)
[19:23:38] <kimundi> krebbit: I don't know haskells module system enough to answer that
[19:23:59] <Matthias247> If I put one impl in the other module then I can't access priv methods any more and would have to make them public
[19:24:06] <Matthias247> which would make them to all public...
[19:24:19] <krebbit> tq: or foo/lib.rs or foo/main.rs
[19:24:30] <kimundi> Matthias247: No, it would only make them public to the parent module
[19:24:51] <kimundi> tq: That'S different
[19:25:02] <Matthias247> if the parent exports it with pub mod then it's also visible from there
[19:25:17] *** Joins: doener (doener@moz-C68F600D.unity-media.net)
[19:25:53] *** Joins: bynaryshef (bynaryshef@moz-97E96350.mem.bellsouth.net)
[19:25:55] *** Quits: bynaryshef (bynaryshef@moz-97E96350.mem.bellsouth.net) (Client exited)
[19:25:56] <kimundi> well yeah, but the parent has to export it for that - its not automatically visible to all
[19:26:00] *** Joins: bynaryshef (bynaryshef@moz-97E96350.mem.bellsouth.net)
[19:26:27] <Matthias247> yeah, but you want to export it to provide to the type to others. That's why I actually made some methods public and others not
[19:26:44] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Quit: Taking a nap.)
[19:28:05] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[19:28:07] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[19:28:10] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[19:28:16] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[19:30:01] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Ping timeout)
[19:31:23] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[19:31:36] <bstrie_dfl> kimundi: reading this document makes me want to cry
[19:31:44] <bstrie_dfl> I just don't get it
[19:31:48] <bstrie_dfl> it defies all understanding
[19:31:49] <kimundi> :P
[19:31:54] <krebbit> :/
[19:31:56] *** Quits: azita (Azita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: azita)
[19:32:10] <bstrie_dfl> global paths and local paths and super paths and self paths
[19:32:15] <bstrie_dfl> and where files can be located
[19:32:29] <kimundi> It just explains the full semantic
[19:32:35] *** Joins: tdc (santegoeds@moz-11C3F42C.range86-159.btcentralplus.com)
[19:32:45] <bstrie_dfl> I'd rather put everything in a giant file than feel stupid
[19:32:48] <bstrie_dfl> and this makes me feel stupid
[19:32:48] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:32:52] <krebbit> so if i want to compile just one file, it automatically becomes a crate?
[19:32:59] <bstrie_dfl> yeah
[19:33:02] <diverse> yep
[19:33:07] <krebbit> phew
[19:33:13] <kimundi> krebbit: Yes - the source file you pass to rustc becomes the crate root
[19:33:31] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:33:40] *** Joins: dmz (Mibbit@9A8A5739.49975FB2.AE2D72A6.IP)
[19:34:09] *** Quits: geoffhill (geoffhill@moz-738DC0DB.org) (Ping timeout)
[19:34:23] <krebbit> i always thought of crates as a collection of modules so that you can distribute it
[19:34:27] <kimundi> bstrie_dfl: We definitly need a module system tutorial that explains fewer in a simpler way - but its hard to write, because all features depend on each other
[19:34:29] <Matthias247> I dealing with > 1000LoC files that contain a huge number of objects isn't that much fun
[19:34:29] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[19:34:47] <krebbit> kimundi: i think it's not that hard
[19:34:50] <kimundi> krebbit: They are - a tree of modules, with the root module being the crate root
[19:35:01] *** Joins: orospakr (orospakr@moz-B9F98D62.dedicated.allstream.net)
[19:35:13] *** Joins: azita (Azita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:35:27] <krebbit> kimundi: start with code in one file, then split it in two files. this is where the conceptual problems started for me
[19:35:37] *** Quits: orospakr (orospakr@moz-B9F98D62.dedicated.allstream.net) (Connection reset by peer)
[19:36:05] *** Joins: simon (simon@moz-1D4897B4.net.uwaterloo.ca)
[19:36:15] <krebbit> kimundi: while trying to compile this files individually and also from a "master crate"
[19:37:15] <kimundi> krebbit: "master crate"?
[19:37:22] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[19:37:24] <krebbit> like lib.rs or main.rs
[19:37:57] <krebbit> start with one file: struct B uses struct A, then try to put them in separate files
[19:38:20] <kimundi> Well, but how to do that usefully? A source file that is intended to just contain the body of a submodule looks differently than a standalone crate root one.
[19:38:27] <krebbit> try to make airs and bars compile, then uses a.rs, bars in main.rs
[19:38:53] <krebbit> a.rs and b.rs
[19:39:03] <krebbit> (dammit spell correction)
[19:39:11] <kimundi> haha :)
[19:39:57] <krebbit> having three dependent files like that is easy in Python and Haskell, but not so in Rust :(
[19:40:16] <kimundi> I get where you'Re getting from, but the problem with such a introduction is that it forms the wrong mental image that file == module
[19:40:23] *** Quits: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[19:40:33] *** Joins: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP)
[19:40:38] <krebbit> but is if you want to use, isn't it?
[19:41:02] *** Joins: calvinmetcalf_ (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net)
[19:41:02] <kimundi> Hm?
[19:41:06] <krebbit> mod foo; import the code in the module foo
[19:41:32] <krebbit> imports
[19:41:42] *** Quits: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net) (Ping timeout)
[19:41:42] *** calvinmetcalf_ is now known as calvinmetcalf
[19:42:22] *** Quits: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP) (Ping timeout)
[19:42:33] <kimundi> It _declares_. Importing is what "use" does, and refers to the fact of binding a item to a local name
[19:42:40] <kimundi> mod foo; // sugar for mod foo { /* content of foo.rs */ }
[19:43:00] <krebbit> it imports the functionality, use imports the namespace (in my terminology)
[19:43:43] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[19:44:56] * kimundi wishes he weren't so stressed and tired at the moment, so that he could properly discuss this :(
[19:45:05] <krebbit> no worries
[19:45:11] <krebbit> sleep?
[19:45:58] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[19:46:32] *** Joins: josh (josh@moz-C350AC70.hsd1.mn.comcast.net)
[19:46:33] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[19:47:03] *** Quits: ecr (chatzilla@moz-9A311BDF.dhcp4.washington.edu) (Ping timeout)
[19:47:08] <kimundi> Would be a pretty good idea right now, yeah ;D
[19:47:35] *** Quits: simon (simon@moz-1D4897B4.net.uwaterloo.ca) (Quit: brb)
[19:47:38] <bstrie_dfl> we need a sleepbot
[19:47:44] <bstrie_dfl> that knows the schedules of everyone in here
[19:47:49] <bstrie_dfl> so that it can kick them when they need to sleep
[19:47:51] <kimundi> rust-buildbot: sleep
[19:48:01] <krebbit> the planet that never sleeps
[19:49:41] *** Joins: heftig (heftig@moz-93EFFD5D.dip0.t-ipconnect.de)
[19:51:00] <krebbit> oh, the "use self::" is not a Panacea. now it get recursive namespaces
[19:51:09] <krebbit> i
[19:51:17] *** Joins: calvinmetcalf_ (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net)
[19:52:02] *** Quits: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net) (Ping timeout)
[19:52:02] *** calvinmetcalf_ is now known as calvinmetcalf
[19:52:52] *** Quits: akp (akp@moz-23A590A0.hfc.comcastbusiness.net) (Ping timeout)
[19:53:24] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[19:53:26] *** Joins: sigma (sigma@moz-1C81041B.range86-184.btcentralplus.com)
[19:53:58] *** Quits: Jemaclus (Mibbit@4EEAB704.5843BA5A.D4E4C7A5.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:54:09] *** Joins: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP)
[19:55:48] *** Quits: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP) (Ping timeout)
[19:57:17] *** Quits: krebbit (Mibbit@moz-303CD96D.pools.arcor-ip.net) (Quit: http://www.mibbit.com ajax IRC Client)
[19:57:43] *** Quits: bynaryshef (bynaryshef@moz-97E96350.mem.bellsouth.net) (Quit: Leaving)
[19:57:55] *** Quits: StarLight (StarLight@moz-EC9AB971.dynamic.avangarddsl.ru) (Ping timeout)
[19:58:28] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[19:58:54] *** Joins: mib_p1cfnd (Mibbit@A3AA7F46.3982878.805758EB.IP)
[19:59:28] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[19:59:30] *** Quits: doener (doener@moz-C68F600D.unity-media.net) (Quit: leaving)
[19:59:43] *** Quits: mib_p1cfnd (Mibbit@A3AA7F46.3982878.805758EB.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:02:12] *** Joins: StarLight (StarLight@moz-EC9AB971.dynamic.avangarddsl.ru)
[20:02:26] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Ping timeout)
[20:03:19] *** Joins: zeenix (zeenix@moz-B92AB3AA.range109-158.btcentralplus.com)
[20:03:29] *** Parts: zeenix (zeenix@moz-B92AB3AA.range109-158.btcentralplus.com) (Leaving)
[20:04:10] *** Joins: bynaryshef (bynaryshef@moz-97E96350.mem.bellsouth.net)
[20:08:54] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Client exited)
[20:09:20] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[20:11:13] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[20:12:05] *** Joins: trinary (Adium@moz-D78CD0D5.hsd1.co.comcast.net)
[20:12:07] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[20:12:14] *** Joins: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP)
[20:12:37] *** Joins: hoverbear (hoverbear@moz-A4D3860E.wireless.uvic.ca)
[20:12:49] *** Joins: niceguyneil (Mibbit@A2C73C4E.5D3AB6A8.9EF8E36E.IP)
[20:13:57] *** Quits: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP) (Ping timeout)
[20:16:01] <igork> hi, is there any explanation for this rule?
[20:16:04] <igork> rusti: let mut x = 42u8; let y = &mut x; let z = &mut x;
[20:16:08] -rusti- pastebinned 10 lines of output: http://ix.io/a3S
[20:16:13] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[20:16:34] <igork> error: cannot borrow `x` as mutable more than once at a time :(
[20:16:57] <eddyb> igork: you can't modify memory through multiple pointers
[20:17:07] <eddyb> igork: it's a memory safety rule
[20:17:12] <o11c> igork: it's relevant for aliasing
[20:17:18] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[20:17:41] <igork> its a problem even if its using in single task?
[20:17:52] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[20:18:11] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[20:19:10] *** Quits: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net) (Input/output error)
[20:19:16] *** Joins: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP)
[20:19:34] <eddyb> igork: yes
[20:20:38] <myname> i missread "the act of" as "the art of"
[20:20:40] *** Joins: future_horizons (Mibbit@D43271B6.278C2F23.97BBD552.IP)
[20:20:57] <myname> oh, damn irssi
[20:21:03] *** Quits: dave1629 (dave@2B0B4E57.83BCE10.DDE5D3F6.IP) (Quit: dave1629)
[20:21:22] <future_horizons> File::new(Path::new(file_path)).read_to_str()   - this function doesn't exist. What is the modern replacement. Thanks
[20:21:34] *** Joins: xorcon (Mibbit@moz-CD3EFF74.cs.virginia.edu)
[20:22:11] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[20:22:28] <future_horizons> I'm replacing read_whole_file_str(&file_path) originally
[20:23:21] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[20:24:21] <dmz> future_horisons: I see this function in the master docs, thus it has to exist. Do you have std::io::Reader in scope?
[20:24:34] <dmz> future_horizons: ^
[20:24:49] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:24:49] <future_horizons> dmz: does it exists in 0.9?
[20:25:25] <dmz> http://static.rust-lang.org/doc/0.9/std/io/trait.Reader.html
[20:25:27] <dmz> yes
[20:25:29] *** Joins: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr)
[20:25:41] <adridu59> something like &int is unboxed right?
[20:26:20] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[20:26:24] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[20:26:30] <future_horizons> dmz: Can you give a code snippet for File -> Reader please
[20:26:57] *** Quits: a__ (a__@moz-8D618AC3.nycmny.fios.verizon.net) (Quit: I haz left.)
[20:27:07] *** Joins: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net)
[20:27:08] *** Quits: fabiand (fabiand@moz-3BF1AD07.adsl.alicedsl.de) (Quit: Verlassend)
[20:27:13] *** Quits: vmx (vmx@moz-C030A3E.pools.arcor-ip.net) (Quit: Leaving)
[20:28:02] <dmz> future_horizons: sorry, no. Your "File::new(Path::new(file_path)).read_to_str()" looks good, just make sure you have Reader in scope (by doing "use std::io::Reader")
[20:28:15] <olsonjeffery> future_horizons: let ro_file = File::open(path); ro.read_to_end();
[20:28:21] *** Quits: seich (seichMoz@E0DBF039.6AE14CEC.624CE61B.IP) (Quit: Computer has gone to sleep.)
[20:28:23] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[20:28:40] <olsonjeffery> read_to_end() is inefficient, though.. allocate your own buffer and use it with .read() if you're going to process a ton of files
[20:29:00] <igork> eddyb: i'm trying to implement something like RAII scope guard, with no luck so far. probably this is not a rust way? https://gist.github.com/wombatkin/8566774
[20:29:34] <olsonjeffery> future_horizons: http://static.rust-lang.org/doc/master/std/io/fs/struct.File.html
[20:29:45] <olsonjeffery> open_mode() is more flexible, docs in the link
[20:29:56] <eddyb> igork: we already have a scope guard
[20:30:15] <Tobba> hm
[20:30:20] <Tobba> I kinda feel like building a webserver now
[20:30:23] <eddyb> igork: (|| {...}).finally(||{...})
[20:30:37] <Tobba> I had a really good design laid out ages ago, with some traits here and there coding it could be amazing
[20:31:06] <future_horizons> I'm getting "unresolved name `std::io::fs::File::new`." Also using use std::io::fs::File;
[20:31:10] *** Quits: dmz (Mibbit@9A8A5739.49975FB2.AE2D72A6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:31:21] *** Quits: bmats (bmats@moz-87F0A991.hfc.comcastbusiness.net) (Client exited)
[20:31:24] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[20:31:27] *** Joins: dylukes (dylukes@EF2D9CA5.AD6D2E77.E8393EEB.IP)
[20:31:43] *** Quits: moostik (Icedove@moz-1FF02BE5.w92-151.abo.wanadoo.fr) (Ping timeout)
[20:32:13] *** Quits: sigma (sigma@moz-1C81041B.range86-184.btcentralplus.com) (Ping timeout)
[20:33:04] <igork> eddyb: hmm, looks like a magic thing :) what if i need to nest guards? say i want to have db connection, and then i create transaction guard which will rollback on scope exit, if not commited before. and then i can nest those transaction guards by simply declaring them one after one.
[20:33:30] <eddyb> igork: they're closures, you can nest them
[20:33:32] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[20:33:35] <niceguyneil> Tobba, I'm learning Rust by trying to make a web services framework, if you make a nice webserver I'll switch from rust-http :)
[20:33:39] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[20:33:48] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[20:33:51] <eddyb> igork: it's not magic, it does pretty much what you were trying to do
[20:34:31] <eddyb> igork: .finally is a wrapper for a RAII construct named Finallyalizer. look in libstd/unstable/finally.rs, I think that's where it is
[20:35:13] *** Joins: ercxx (ercan@moz-88DD3A7E.dyn.optonline.net)
[20:35:53] *** Parts: ronny (ronnypfa@moz-E7EE6ABE.uberspace.de) (WeeChat 0.3.9.2)
[20:36:06] <Tobba> I wanted to make a framework where it basicaly just gives you the URL and you give it back a content generator
[20:36:13] <ercxx> can anybody give the 'right' answer to this SO question: https://stackoverflow.com/questions/21274284/a-borrow-issue-while-trying-to-use-stdutilreplace I failed miserably.
[20:36:32] *** Joins: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP)
[20:36:39] <igork> eddyb: thanks, checking it now
[20:37:02] <future_horizons> I'm getting "unresolved name `std::io::fs::File::new`." Also using use std::io::fs::File; Is there any new procedure for 0.9 which would cause this?
[20:37:24] <niceguyneil> yeah, I'm working on something that handles routing, auto-encoding and decoding to JSON, that kind of thing
[20:37:30] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[20:38:01] *** Quits: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP) (Ping timeout)
[20:38:10] *** Joins: orospakr (orospakr@moz-B9F98D62.dedicated.allstream.net)
[20:38:10] <niceguyneil> url param / form param / post'd object parameter normalization
[20:38:17] *** Joins: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[20:38:17] *** ChanServ sets mode: +ao brson brson
[20:38:24] *** Quits: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP) (Ping timeout)
[20:38:29] <Tari> future_horizons: try std::io::File? (io reexports File from ::fs)
[20:38:46] <ercxx> future_horizons: did you try File::open() ?
[20:39:10] <Tari> hah, more likely that ^
[20:40:10] <ercxx> niceguyneil: docs say `Can be constructed via File::open(), File::create(), and File::open_mode().`
[20:40:30] <ercxx> niceguyneil: oops.
[20:40:37] *** Quits: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: leaving)
[20:40:39] <ercxx> future_horizons: http://static.rust-lang.org/doc/master/std/io/fs/struct.File.html
[20:40:40] <adridu59> "Any pointer or reference in Rust, be it to an int or a complicated struct will be a pointer to a box." is this true?
[20:41:04] <adridu59> thought `&` wasn't boxed
[20:41:13] *** Quits: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net) (Quit: I haz left.)
[20:41:23] *** Joins: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net)
[20:41:31] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[20:41:40] *** Joins: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de)
[20:41:52] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[20:42:07] <kimundi> adridu59: Don't fully understand that sentence
[20:42:34] <future_horizons> :Tari :ercxx File::open worked
[20:43:09] <ercxx> cool
[20:43:16] <kimundi> adridu59: & is just a pointer to some memory - the memory can be on the stack in form of a local variable, on the heap in form of a box, or in the static memory segment in the case of compiletime constants
[20:43:46] <adridu59> yea I think that this sentence is partly wrong
[20:43:58] <adridu59> comes from the rust-class.org tutorial http://aml3.github.io/RustTutorial/html/02.html#Starting_to_Corrode:%3Cbr%3EPointers,_Memory,_Strings,_and_I/O
[20:44:42] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Client exited)
[20:45:03] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[20:45:56] *** Quits: vosen_ (vosen@moz-266BA656.icpnet.pl) (Ping timeout)
[20:46:19] *** Joins: gwty (gwtypc@CE39F0FC.547B6514.137C914F.IP)
[20:48:37] *** Joins: sigma (sigma@C91C7F36.70518F41.9D18269F.IP)
[20:49:21] *** Quits: ChrisOei (ChrisOei@moz-53A9266A.blurb.com) (Quit: WeeChat 0.4.2)
[20:49:48] *** Joins: dave1629 (dave@2B0B4E57.83BCE10.DDE5D3F6.IP)
[20:50:19] *** Joins: io2 (io2@moz-871549F5.home.otenet.gr)
[20:50:27] *** Quits: dave1629 (dave@2B0B4E57.83BCE10.DDE5D3F6.IP) (Quit: dave1629)
[20:51:56] *** Quits: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[20:53:15] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Connection reset by peer)
[20:53:18] *** Quits: jackneill (jackneill@moz-E9D68037.pool.digikabel.hu) (Ping timeout)
[20:53:32] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[20:54:31] *** Quits: thiago (thiago@705535C9.9074706C.BD25C20F.IP) (Ping timeout)
[20:55:43] *** Quits: alonlevy (alon@moz-61A0AD83.red.bezeqint.net) (Ping timeout)
[20:58:21] *** jorendorff_away is now known as jorendorff
[20:58:56] *** jorendorff is now known as jorendorff_away
[20:59:26] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[21:00:26] *** Joins: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:00:26] *** ChanServ sets mode: +ao brson brson
[21:00:30] *** Joins: moostik (Icedove@6181009C.10715965.BCDF592F.IP)
[21:01:29] *** Joins: ptc (Adium@moz-70F9251D.thefacebook.com)
[21:01:48] *** Parts: ptc (Adium@moz-70F9251D.thefacebook.com) ()
[21:02:13] *** Quits: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: leaving)
[21:02:16] *** Joins: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:02:16] *** ChanServ sets mode: +ao brson brson
[21:02:18] *** jorendorff_away is now known as jorendorff
[21:02:39] *** Quits: niceguyneil (Mibbit@A2C73C4E.5D3AB6A8.9EF8E36E.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:03:03] *** Quits: pcdummy (pcdummy@moz-CF4CA865.page4me.ch) (Ping timeout)
[21:03:05] *** Quits: orospakr (orospakr@moz-B9F98D62.dedicated.allstream.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:03:28] *** Joins: pcdummy (pcdummy@moz-CF4CA865.page4me.ch)
[21:04:21] *** Joins: kfed (kfed@moz-D5AC2A62.washdc.fios.verizon.net)
[21:05:40] *** Joins: ecr (chatzilla@moz-9746A470.dhcp4.washington.edu)
[21:06:19] *** Quits: Ms2ger (Ms2ger@768AD319.7BE2E8BA.187A1082.IP) (Quit: nn)
[21:06:45] *** Joins: dave1629 (dave@2B0B4E57.83BCE10.DDE5D3F6.IP)
[21:07:23] *** Quits: dave1629 (dave@2B0B4E57.83BCE10.DDE5D3F6.IP) (Quit: dave1629)
[21:07:33] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[21:07:41] <future_horizons> match file_path.extension().unwrap() { ".txt" => - expected `~str` but found `&'static  
[21:08:00] *** Quits: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[21:08:22] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Quit: Leaving...)
[21:08:29] <sfackler> future_horizons: ~".txt", not ".txt"
[21:08:54] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[21:08:56] <FreeFull> I wish one could ask rusti for the type of things
[21:08:59] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Client exited)
[21:09:05] <FreeFull> Maybe if there was a typeof macro
[21:09:13] <sfackler> you can probably use the typeof stuff in unstable
[21:09:21] *** Joins: judofyr (judofyr@77444CA6.26D37221.7A561A2D.IP)
[21:09:35] *** Joins: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:09:35] *** ChanServ sets mode: +ao dherman dherman
[21:09:37] *** bstrie_dfl is now known as bstrie_borskiller
[21:09:38] <FreeFull> I don't think rusti or rustilite have the right version of rust for that
[21:09:52] <mcpherrin> rusti: version
[21:09:53] -rusti- "rustc 0.10-pre (db7b9a3 2014-01-15 02:09:57 -0500)"
[21:10:00] <future_horizons> sfackter:  with your mod - mismatched types: expected `&[u8]` but found `~str`
[21:10:01] <FreeFull> rustilite: version
[21:10:04] -rustilite- pastebinned 6 lines of output: http://ix.io/a1n
[21:10:25] <FreeFull> rustilite: fn main() {println!(version); }
[21:10:27] -rustilite- pastebinned 6 lines of output: http://ix.io/a3Y
[21:10:43] <FreeFull> rustilite: fn main() {println(version); }
[21:10:45] -rustilite- pastebinned 10 lines of output: http://ix.io/a3Z
[21:10:47] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[21:10:54] <mcpherrin> version isn't defined in rustilite
[21:10:59] <future_horizons> sfackler:  with your mod - mismatched types: expected `&[u8]` but found `~str`
[21:11:02] *** Quits: judofyr (judofyr@77444CA6.26D37221.7A561A2D.IP) (Ping timeout)
[21:11:18] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[21:11:21] <FreeFull> It doesn't respond to CTCP VERSION either
[21:11:51] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[21:12:08] <sfackler> future_horizons: you may have to turn it into a str
[21:12:27] <FreeFull> Any documentation for the typeof stuff?
[21:12:31] *** Parts: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de) ()
[21:12:39] <sfackler> future_horizons: std::str::from_utf8_owned
[21:13:09] <sfackler> er probably from_utf8, not from_utf8_owned
[21:13:43] *** Quits: dylukes (dylukes@EF2D9CA5.AD6D2E77.E8393EEB.IP) (Quit: Textual IRC Client: www.textualapp.com)
[21:13:47] *** Quits: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[21:14:55] *** Joins: nik_ (nik@moz-15A88527.pool.mediaways.net)
[21:15:10] *** Quits: nkoep (nik@moz-1ACE05F3.pool.mediaways.net) (Ping timeout)
[21:15:25] <mitsuhiko> i suck at finding issues on github
[21:15:59] <mitsuhiko> does anyone remember an issue for traits matching on generics they should not match on?
[21:16:20] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[21:16:49] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[21:18:32] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[21:18:49] <bstrie_borskiller> mitsuhiko: hmmm
[21:19:01] <mitsuhiko> i suppose it's one of the many here: https://github.com/mozilla/rust/issues/5527
[21:19:45] <mitsuhiko> i wonder if anyone would object against removing connect/concat from StrVector and move it into an StrIterator
[21:19:58] <mitsuhiko> it's going to be less efficient but i can't find a way currently to implement the methods on a vector and on an iterator
[21:20:13] <xorcon> Hi all, may I ask a question about std::run? I'm trying to implement the unix pipeline in a Rust program that works as "ping google.com -c 2 | grep time". However, the second program never terminated even if the first program had terminated and I had closed the output end of the pipeline. Why? Is it a bug of Rust 0.9? 
[21:20:16] <johnsoft> could someone help me with a mutability problem?
[21:20:20] <bstrie_borskiller> mitsuhiko: this one? https://github.com/mozilla/rust/issues/3429
[21:20:31] <xorcon> The source code is here at http://pastebin.com/FWPDk4sY , thanks.
[21:20:45] <mitsuhiko> bstrie_borskiller: i thought that was the one, but my errors look vastly different
[21:21:07] <bstrie_borskiller> mitsuhiko: have the error messages changed? could try running the test case in there
[21:21:11] *** Joins: mudpit (Mibbit@moz-E02EA2F2.hsi.kabel-badenwuerttemberg.de)
[21:21:32] <bstrie_borskiller> johnsoft: go ahead
[21:21:41] *** Quits: mudpit (Mibbit@moz-E02EA2F2.hsi.kabel-badenwuerttemberg.de) (Quit: http://www.mibbit.com ajax IRC Client)
[21:21:42] <bstrie_borskiller> xorcon: sorry, I'm not super familiar with our i/o libs right now
[21:21:42] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Ping timeout)
[21:21:52] <mitsuhiko> bstrie_borskiller: https://gist.github.com/mitsuhiko/8567561
[21:22:00] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[21:22:12] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[21:22:37] <sfackler> mitsuhiko: If I had to guess, I'd say that was an issue with a [Foo, ..2] array not autoborrowing to a &[Foo]
[21:22:40] *** Quits: willingc_ (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[21:22:50] <johnsoft> http://pastebin.com/Qks3Y5ta
[21:22:52] <mitsuhiko> sfackler: but if i remove StrIterator it works?
[21:23:04] <johnsoft> I stuck 'mut' everywhere I could, but am still getting mutability errors
[21:24:00] *** Joins: ofeldt (ofeldt@moz-65F49932.dip0.t-ipconnect.de)
[21:24:09] *** Joins: simon (simon@moz-FD4ADBC6.cable.teksavvy.com)
[21:24:10] <bstrie_borskiller> johnsoft: looks to me that it's your function parameter that's immutable
[21:24:16] *** Quits: hoverbear (hoverbear@moz-A4D3860E.wireless.uvic.ca) (Quit: Taking a nap.)
[21:24:38] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[21:24:41] <bstrie_borskiller> johnsoft: try doing `let mut xs = xs;` as your first line, or also try changing the function signature to `mut xs: ~Iterator`
[21:24:49] *** Quits: ofeldt- (ofeldt@moz-ADB94067.dip0.t-ipconnect.de) (Ping timeout)
[21:24:49] *** Quits: reyre (reyre@moz-89E9865B.com) (Ping timeout)
[21:25:30] <ecr> can we still not do mut patterns in argument bindings?
[21:25:33] <mitsuhiko> johnsoft: yeah, your iterator needs to be mutable to iterate over it
[21:25:35] <bstrie_borskiller> ecr: we can
[21:25:55] <ecr> oh, i didn't read the second part of your answer i guess
[21:25:59] *** Joins: vosen (vosen@moz-266BA656.icpnet.pl)
[21:26:04] <johnsoft> ah, there we go
[21:26:13] <bstrie_borskiller> ecr: I just wanted to express that it was equivalent :)
[21:26:23] <johnsoft> i did also try (xs: &mut Iterator<Option<T>>), but it needed to be (mut xs: &mut Iterator<Option<T>>)
[21:26:25] <ecr> fine by me :)
[21:26:49] *** Quits: tdc (santegoeds@moz-11C3F42C.range86-159.btcentralplus.com) (Ping timeout)
[21:26:54] <johnsoft> thanks
[21:26:56] <bstrie_borskiller> np
[21:27:02] <mitsuhiko> johnsoft: why not just Iterator<Option<T>>?
[21:27:04] <ecr> johnsoft: the first means you can mutate the thing pointed to by xs. the second means you can mutate xs itself as well.
[21:27:40] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[21:28:10] *** Joins: bmats_ (bmats@moz-87F0A991.hfc.comcastbusiness.net)
[21:28:16] <seanmonstar> so i've run into this problem several times already, trying to test classes that use owned objects: https://gist.github.com/seanmonstar/08b70b16072b18d33669
[21:28:21] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[21:28:24] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[21:28:25] <seanmonstar> is there a pattern for testing this stuff in rust?
[21:29:49] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[21:29:51] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:30:31] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[21:30:42] <bstrie_borskiller> seanmonstar: looking
[21:30:44] <johnsoft> mitsuhiko- error: reference to trait `Iterator<Option<T>>` where a type is expected; try `@Iterator<Option<T>>`, `~Iterator<Option<T>>`, or `&Iterator<Option<T>>`
[21:30:49] *** Quits: simon (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[21:30:56] <ecr> seanmonster, you could deconstruct bar to extract foo
[21:31:02] <bstrie_borskiller> ahahaa, is it actually telling you to use @
[21:31:04] <bstrie_borskiller> bad compiler!
[21:31:11] <johnsoft> &mut would be better, I know
[21:31:23] <mitsuhiko> johnsoft: you need to do it as a generic function
[21:31:28] <johnsoft> bstrie_borskiller- I know :)
[21:31:43] <mitsuhiko> fn<T, I: Iterator<T>> option_all(iter: I) 
[21:31:52] <ecr> let Bar { foo: foo } = bar; assert_eq!(foo.thing, ~"baz");
[21:31:54] <johnsoft> I thought about submitting a patch for that, just to leave my fingerprint on rust
[21:32:06] *** Joins: hoverbear (hoverbear@moz-A4D3860E.wireless.uvic.ca)
[21:32:41] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Ping timeout)
[21:32:47] <seanmonstar> ecr: does that deconstruct foo into an instance of TestFoo, or an instance of the trait Foo?
[21:32:57] <seanmonstar> ecr: also, can that be done with priv properties (i doubt it)?
[21:33:14] *** Quits: bynaryshef (bynaryshef@moz-97E96350.mem.bellsouth.net) (Quit: This computer has gone to sleep)
[21:33:16] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Input/output error)
[21:33:20] *** Joins: amir (amir@moz-49060BB9.cust.bluewin.ch)
[21:33:35] <bstrie_borskiller> seanmonstar: I think privacy is only enforced at module boundaries, if you're doing this in the same module I don't think it would be a problem
[21:33:52] <bstrie_borskiller> oh wait
[21:33:56] <bstrie_borskiller> it's not in the same module :P
[21:34:02] <ecr> seanmonster: it'll deconstruct to be a ~Foo since that's what's in Bar's definition
[21:34:03] <seanmonstar> it's a child module...
[21:34:06] <johnsoft> mitsuhiko- That does look better, I'll use that, thanks
[21:34:23] <ecr> seanmonster: I think private stuff should be visible in child modules. not sure if that works yet though
[21:34:29] <bstrie_borskiller> seanmonstar: it's honestly a good question, whether privacy on a field prevents destructuring. try it!
[21:34:46] <ecr> yeah i'm not sure actually
[21:35:01] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Input/output error)
[21:35:03] <seanmonstar> ecr: right, so i have some structs that accept ~Trait, and then provide an instance of an implementation. i need that instance back, so i can access the properties
[21:35:26] <ecr> seanmonster: ah! i see what you're saying
[21:35:29] <seanmonstar> cause ~Foo has no idea about TestFoo's thing
[21:35:29] <ecr> let me think a minute
[21:35:35] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[21:37:08] *** Joins: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP)
[21:37:47] <seanmonstar> basically, i have some classes that use an ~std::io::Writer, and for tests, I'd prefer to use a MemWriter, but can't get it back since my struct now owns it
[21:38:22] <ecr> yeah i can see how this is tricky
[21:38:27] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[21:39:01] *** Quits: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP) (Ping timeout)
[21:41:13] <seanmonstar> rusti: struct A { priv b: ~str }; let a = A { b: ~"foo" }; let A { b: bar } = a; assert_eq!(bar, ~"foo");
[21:41:17] -rusti- pastebinned 7 lines of output: http://ix.io/a40
[21:41:36] <seanmonstar> well derp
[21:42:27] <ecr> seanmonster: i have an idea
[21:42:39] <seanmonstar> ecr: i was hoping this was a common testing pattern (or perhaps a *wrong* pattern) that the rust community had solved. perhaps i should ask rust-dev?
[21:43:11] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[21:43:15] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[21:44:34] <ecr> what we want to do is put a Cell or something similar (everything was renamed recently) inside of TestFoo, get a reference to it before giving the TestFoo to Bar, have the foo impl for TestFoo mutate the contents of the cell, and then check that the contents have changed as expected after you call bar()
[21:44:47] <kimundi> seanmonstar: What is the problem, you want to get the value out of a trait object again?
[21:45:30] <johnsoft> if it's just for tests, you could sidestep and do an unsafe transmute
[21:45:43] *** Joins: judofyr (judofyr@77444CA6.26D37221.7A561A2D.IP)
[21:45:47] <seanmonstar> kimundi: i don't need to get it from the trait if theres a better way. really, i want to test my struct does its thing, and writes it to the Writer
[21:45:48] <ecr> what's the new name for what Cell was?
[21:46:23] <ecr> RefCell?
[21:46:29] <Tari> is there a reason you need to use ~Reader rather than a type parameter? (I believe <T: Reader> allows ~Reader)
[21:46:36] <ecr> RefMut?
[21:46:47] <kimundi> seanmonstar: Could &mut Trait for &Trait work?
[21:46:51] <bstrie_borskiller> https://gist.github.com/bstrie/8567988 <-- I didn't realize this was possible
[21:46:54] <bstrie_borskiller> pattern matching you are so cool!
[21:47:03] <Tari> then you could impl<T: MemWriter> for tests
[21:47:07] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[21:47:20] <igork> is there any predefined $-variables in macro system, like $file, $line? 
[21:47:22] *** Quits: moostik (Icedove@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[21:47:32] *** Quits: judofyr (judofyr@77444CA6.26D37221.7A561A2D.IP) (Ping timeout)
[21:47:32] <bstrie_borskiller> seanmonstar: it's certainly an interesting question
[21:47:34] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[21:47:48] <seanmonstar> Tari: whats the difference?
[21:48:17] <ecr> igork: I don't think so but I'm not certain of that
[21:48:23] <Tari> the methods you need to run tests know that T is a MemWriter then
[21:48:42] <Tari> but the standard configuration works for any T that's a Writer
[21:48:44] <seanmonstar> Tari: whats the downsides?
[21:49:04] <Tari> I'm not sure it's allowed ;)
[21:49:09] <seanmonstar> :D
[21:49:13] *** Joins: simon (simon@moz-FD4ADBC6.cable.teksavvy.com)
[21:49:24] <Tari> I haven't ever tried using a trait object as type parameter like that
[21:49:32] *** Joins: ljrmorgan (Mibbit@moz-21C9703A.skybroadband.com)
[21:49:47] <pauls> igork: nope
[21:49:51] <ecr> trait objects as type parameters? what?
[21:50:15] <seanmonstar> ecr: trait Bar; struct Foo { bar: ~Bar }
[21:50:21] <ecr> like <T: ~Foo> or something?
[21:50:26] <seanmonstar> oh
[21:50:43] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Input/output error)
[21:51:01] *** Quits: josh (josh@moz-C350AC70.hsd1.mn.comcast.net) (Quit: josh)
[21:51:10] <seanmonstar> Tari: so, maybe my implmentation should be different in rust, i dunno
[21:51:15] *** Joins: moostik (Icedove@6181009C.10715965.BCDF592F.IP)
[21:51:19] *** Joins: judofyr (judofyr@77444CA6.26D37221.7A561A2D.IP)
[21:51:23] <ecr> seanmonster: did that idea I suggested make sense to you?
[21:51:32] *** Quits: mye (mye@moz-A9A7F192.dip0.t-ipconnect.de) (Quit: mye)
[21:51:47] <seanmonstar> ecr: using an Rc<MemWriter> ?
[21:51:52] <Tari> struct<T: Writer> Foo<T> { w: ~T }; impl<T> Foo<T> { ... }; #[cfg(test)] impl Foo<~Writer> { ... };
[21:51:54] *** Quits: bmats_ (bmats@moz-87F0A991.hfc.comcastbusiness.net) (Client exited)
[21:51:59] <igork> pauls: thanks. so no way to create unique variable name...
[21:52:01] <Tari> is roughly what I'm thinking
[21:52:16] *** Joins: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net)
[21:52:22] <pauls> igork: That's generally what hygiene is for.
[21:52:35] <ecr> seanmonster: no, putting a Cell or something similar in TestFoo and keeping a reference outside. mutate the Cell contents in the foo() call so you can check if it changed through your reference after the bar() call
[21:52:42] <ecr> i'll try it out and see if it works
[21:52:56] <seanmonstar> ecr: i haven't looked at how Cells work yet
[21:52:58] <pauls> Only `let`-bound names are currently hygienic, though.
[21:53:02] *** Quits: judofyr (judofyr@77444CA6.26D37221.7A561A2D.IP) (Ping timeout)
[21:53:02] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[21:53:06] <ecr> seanmonster: ah ok
[21:53:14] <geomyidae_> The AES commit is great. Really readable code, self documented with a neat intro to the techniques used. Awesome stuff, just amazed with all of the high quality content around rust in all directions
[21:53:18] <sfackler> I tend to use static muts to do stuff like that
[21:53:26] <sfackler> (in tests)
[21:53:49] <seanmonstar> sfackler: hm?
[21:53:52] <sfackler> seanmonstar: like this: https://github.com/sfackler/rust-postgres/blob/master/tests.rs#L623
[21:54:14] <sfackler> it's a bit hacky, but way less of a pain than using an Rc<RefCell<bool>> or whatever
[21:54:15] *** Quits: gwty (gwtypc@CE39F0FC.547B6514.137C914F.IP) (Ping timeout)
[21:54:26] <seanmonstar> sfackler: eek, unsafe{}
[21:54:44] *** Joins: Armavica (virgile@moz-AD428ED7.ens.fr)
[21:54:51] <igork> pauls: you mean something like let _ = ... ?
[21:54:51] <sfackler> seanmonstar: it's fine here you know that static is only being used inside the test
[21:54:57] <sfackler> and on the same thread
[21:54:57] <pauls> igork: yes.
[21:55:10] *** Quits: nszceta (quassel@moz-E458A7C0.pharm.pitt.edu) (Input/output error)
[21:55:15] <igork> let me try
[21:55:16] <ecr> oh i'd forgot about static mut. that could work too
[21:55:27] <ecr> basically the same thing with less wrapping
[21:55:32] <seanmonstar> sfackler: but yea, that's exactly what i'm trying to test. that my trait instance gets called with the correct parameters
[21:56:04] <pauls> They are hygienic, which means that names are (effectively) bound *the way they appear to be in the macro definition*, not *the way they would if the macro were expanded naively*
[21:57:00] <sfackler> seanmonstar: one other option is to have the test implementation of your trait do the checking internally and fail if everything doesn't match up
[21:57:22] <seanmonstar> sfackler: yea, i started with that, but then i need a new impl for each test
[21:57:52] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[21:57:59] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[21:58:04] <sfackler> you could potentially simplify it a bit by making an impl that takes a function pointer or closure that does the validation
[21:58:27] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[21:58:31] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[21:59:20] <seanmonstar> sfackler: so, TestFoo{ cb: |thing| { assert_eq!(thing, ~"bar"); }}?
[21:59:27] <sfackler> something like that, yeah
[21:59:47] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[22:00:08] <seanmonstar> that doesn't prevent TestFoo from being Send?
[22:00:25] <sfackler> closures with a static lifetime might be send?
[22:00:34] <sfackler> if not, you can use an raw function pointer
[22:00:35] <igork> pauls: looks like it works for me, thanks!
[22:01:07] <pauls> igork: Sure!
[22:01:15] <seanmonstar> i don't think i actually care about Sending across a task, but I tried to use a lifetime'd ref and the error mentioned something about it no longer being Send
[22:01:21] <pauls> igork: Always happy to spread the good news about hygiene!
[22:02:00] <seanmonstar> sfackler: but thanks, i'll try a few of these
[22:02:02] <future_horizons> std::os::path_is_dir replacement in 0.9?
[22:02:17] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[22:03:19] <Armavica> hi! I hope this is the right place for a beginner's question: I would appreciate help on fixing this code [ http://pastebin.com/eU44TTd3 ] which I expected to return the last element of a list
[22:03:54] <Armavica> but I have an error on lifetimes which I don't quite understand
[22:04:30] <Tari> seanmonstar: this appears to do what you need http://www.rafb.me/results/P7Nl6862.html
[22:04:36] <ecr> Armavica: well you're in the right place. i'll take a look.
[22:04:47] *** Joins: bmats (bmats@moz-87F0A991.hfc.comcastbusiness.net)
[22:04:51] *** Joins: gwty (gwtypc@CE39F0FC.547B6514.137C914F.IP)
[22:05:11] <Armavica> ecr: thank's
[22:05:13] <Tari> in the test configuration you can get at the MemWriter provided you actually have an instance over a MemWriter
[22:05:26] * bstrie_borskiller gives ecr irc points
[22:05:40] <ecr> Armavica: sure :) what's the code doing right now?
[22:05:42] <Tari> (and it compiles!)
[22:06:03] * ecr wonders what he can buy with irc points
[22:06:48] <bstrie_borskiller> ecr: you can exchange them for bstriecoin, which are like bitcoin except there's only one of them and I own it
[22:07:00] <Armavica> ecr: it triggers a lifetime error
[22:07:00] *** Quits: sigma (sigma@C91C7F36.70518F41.9D18269F.IP) (Ping timeout)
[22:07:12] *** bstrie_borskiller is now known as bstriecoin
[22:07:35] *** Quits: dbaupp (Thunderbir@moz-A840EB3D.lns20.syd6.internode.on.net) (Ping timeout)
[22:07:46] <sfackler> Armavica: you'll need to add explicit lifetimes to the last function to tell the compiler that the lifetimes of the list and result are the same
[22:08:02] <sfackler> fn last<'a, T>(list: &'a List<T>) -> Option<&'a T>
[22:08:24] <sfackler> Armavica: take a look here for more info: http://static.rust-lang.org/doc/master/guide-lifetimes.html
[22:08:25] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[22:08:35] <sfackler> specifically section 8
[22:09:08] *** Joins: ChrisOei (ChrisOei@moz-53A9266A.blurb.com)
[22:09:58] <seanmonstar> Tari: would that require consumers of library to use it like Foo<Writer>::new()?
[22:10:47] <Armavica> sfackler: thank you very much, now I will dive again into the doc to understand why this works
[22:10:50] <seanmonstar> Tari: or it works with Foo::new(SomeWriter)?
[22:10:51] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[22:11:01] <Tari> I think it'll work with the latter
[22:11:19] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Ping timeout)
[22:11:21] *** Quits: heftig (heftig@moz-93EFFD5D.dip0.t-ipconnect.de) (Ping timeout)
[22:11:27] *** Quits: azita (Azita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: azita)
[22:13:01] <ecr> bstrie_borskiller: sounds like a sound investment. can I perhaps exchange my bstriecoin for dogecoin?
[22:13:24] *** Joins: squiddy (squiddy@moz-A8B4F2BE.adsl.alicedsl.de)
[22:16:50] *** Joins: heftig (heftig@moz-EBFD3D1F.dip0.t-ipconnect.de)
[22:17:08] *** Quits: veddan (viktor@moz-C79BC80B.csbnet.se) (Ping timeout)
[22:18:20] *** Quits: bmats (bmats@moz-87F0A991.hfc.comcastbusiness.net) (Client exited)
[22:18:41] *** Joins: bmats (bmats@moz-87F0A991.hfc.comcastbusiness.net)
[22:19:05] *** Joins: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP)
[22:19:16] <Tari> seanmonstar: looks like I was too hopeful; I seem to need Foo::new<SomeWriter>()
[22:19:38] <seanmonstar> Tari: shucks
[22:19:43] <Tari> where fn new<T>(x: ~T) -> Foo<T>
[22:20:01] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[22:20:05] <ljrmorgan> Hi, sorry if this is a daft question... Is there a way to return an owned pointer to a trait from a function?
[22:20:22] *** Quits: bmats (bmats@moz-87F0A991.hfc.comcastbusiness.net) (Ping timeout)
[22:20:23] <seanmonstar> Tari: shucks
[22:20:25] <seanmonstar> doh
[22:20:46] <Tari> or.. I'm overthinking things?
[22:20:58] <Tari> fn new(x: ~T) -> Foo<T> appears to work
[22:21:05] *** Joins: ecl3ctic (Mibbit@578C64B6.F0F44EFA.76AE55C1.IP)
[22:21:14] <kimundi> ljrmorgan: Sure! :)
[22:21:28] <Tari> which makes sense, since that's already bounded by the type parameter on the impl for Foo<T>
[22:21:42] *** Joins: veddan (viktor@moz-C79BC80B.csbnet.se)
[22:21:44] <kimundi> rusti: fn foo() -> ~ToStr { ~5 as ~ToStr } foo().to_str()
[22:21:45] -rusti- ~"5"
[22:21:58] <ljrmorgan> kimundi: great! I thought it would be, but I'm getting a bit stuck...
[22:22:00] <seanmonstar> is ~str not the same as ~[u8]?
[22:22:24] <mcpherrin> seanmonstar: No, ~str is guaranteed to contain utf-8 characters
[22:22:39] <bvssvni> seanmonstar: it is 4 byte unicode, think I read it somewhere
[22:22:43] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Ping timeout)
[22:22:55] <ljrmorgan> kimundi: I always seem to get something like "error: mismatched types: expected `~Monster:Send` but found `~SimpleMonster` (expected trait Monster but found ~-ptr)"
[22:23:05] *** Quits: rca (rcatolino@moz-9CC22131.adsl.proxad.net) (Ping timeout)
[22:23:12] <seanmonstar> mcpherrin: ah. so to compare, i'd need to a transmute?
[22:23:19] <Tari> the native representation for ~str is UTF-8 and is guaranteed to contain no invalid code points
[22:23:32] <mcpherrin> seanmonstar: there's a method called .as_bytes or something on strings
[22:23:41] <mcpherrin> that returns a &[u8]
[22:23:46] <future_horizons> How do you return a FileType of a file or path? Pity the docs don't have deep search as an option
[22:24:16] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[22:24:17] <ljrmorgan> kimundi: I think the "as" was where I was going wrong... :-) Thanks for your help
[22:24:19] <Tari> seanmonstar: this one compiled okay for me http://pastebin.com/7EhZdeAt
[22:24:30] <Tari> and no ugly Foo::new<T> for the invoker :)
[22:24:45] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[22:25:11] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[22:25:27] <seanmonstar> Tari: sweet
[22:26:47] <bvssvni> where can I get rusti?
[22:27:09] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[22:27:10] <mcpherrin> bvssvni: That .. depends what you mean
[22:27:11] <kimundi> ljrmorgan: In therory the as should be unneccessary there now - sadly we don't properly handle all casts and coercions identically everywhere due to legacy reasons :(
[22:27:20] <mcpherrin> bvssvni: There have been a few things called rusti :P
[22:27:22] *** Joins: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com)
[22:27:34] <bvssvni> mcpherrin: the interactive thing :P
[22:27:44] <mcpherrin> rusti: println!("This irc bot is on github somewhere")
[22:27:45] -rusti- This irc bot is on github somewhere
[22:27:45] -rusti- ()
[22:28:08] <mcpherrin> The old commandline "rusti" interpreter hasn't worked in a long time and is gone
[22:28:19] <bvssvni> mcpherrin: aww
[22:28:24] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[22:28:28] *** Joins: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com)
[22:28:32] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[22:29:23] <mcpherrin> http://csclub.uwaterloo.ca/~mimcpher/rusti is what I use
[22:29:28] <mcpherrin> it's basically the same as the IRC bot
[22:30:22] <bvssvni> mcpherrin: thanks!
[22:30:38] <geomyidae_> Is the irc bot sandboxed presumably?
[22:30:41] <mcpherrin> geomyidae_: Yeah.
[22:30:48] <geomyidae_> That script looks like not something I'd run publicly ;)
[22:30:49] <kimundi> mcpherrin: Mind if I yoink that script? ;)
[22:30:52] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Connection reset by peer)
[22:31:00] <mcpherrin> kimundi: That's why it's publicly hosted ;)
[22:31:12] *** Joins: azita (Azita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[22:31:24] *** Parts: mcpherrin (mcpherrin@BB4DB59D.2876C283.70845BE5.IP) ()
[22:31:39] *** Joins: mcpherrin (mcpherrin@BB4DB59D.2876C283.70845BE5.IP)
[22:32:17] <mcpherrin> I haven't revisited it in a while so I might want to change the feature gates around
[22:34:00] <bvssvni> mcpherrin: I get this error error: multiple matching crates for `extra`
[22:34:02] *** Joins: alonlevy (alon@moz-AFF00A6D.bb.netvision.net.il)
[22:34:03] *** Joins: dave1629 (dave@F6923595.8239D6FF.DDE5D3F6.IP)
[22:35:04] *** Joins: bmats (bmats@moz-87F0A991.hfc.comcastbusiness.net)
[22:35:20] *** Quits: nif (nif@moz-8181E2AC.oberlin.net) (Client exited)
[22:35:42] *** Joins: nif (nif@moz-8181E2AC.oberlin.net)
[22:36:30] <bvssvni> mcpherrin: commented extra away, so it works for now (but without extra)
[22:36:42] *** Quits: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: dherman)
[22:37:52] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[22:37:58] *** Joins: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP)
[22:38:11] *** Joins: claudiu (claudiu@8ECC4BFC.EC83738C.D8D85ABD.IP)
[22:38:17] *** Quits: bmats (bmats@moz-87F0A991.hfc.comcastbusiness.net) (Client exited)
[22:39:27] <igork> pauls: i just made go-like defer for rust - https://gist.github.com/wombatkin/8568808 hygiene vars made that possible :)
[22:39:51] *** Quits: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP) (Ping timeout)
[22:39:53] *** Quits: Jesin (Jesin@moz-A43618DF.res.lehigh.edu) (Ping timeout)
[22:39:56] *** Joins: discomfitor__ (discomfito@moz-975BC507.hsd1.ct.comcast.net)
[22:40:04] *** Joins: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[22:40:04] *** ChanServ sets mode: +ao brson brson
[22:40:18] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[22:40:31] <pauls> igork: Cool!
[22:40:33] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[22:40:36] <mcpherrin> I think strcat said yesterday he was going to consider hacking up a slightly more awesome unix-only rusti :)
[22:41:01] <bvssvni> looking forward to it!
[22:41:06] <mcpherrin> using what is possibly the only real use of fork() :p
[22:41:18] *** Quits: zmike (discomfito@moz-975BC507.hsd1.ct.comcast.net) (Ping timeout)
[22:41:33] <bvssvni> mcpherrin: does Rust got fork() too?
[22:41:58] <mcpherrin> So the idea was to fork() the interpreter, compile and dynamically load the new code, and execute it
[22:42:18] <mcpherrin> if it crashes, the old process (parent) is still around, so the change can be rolled back
[22:42:39] <o11c> ooh
[22:42:57] <mcpherrin> three process ping-pong "interpreter"
[22:43:42] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[22:43:48] <mcpherrin> not fully like writing "real" rust code but better than the irc bot :P
[22:43:50] <bvssvni> http://static.rust-lang.org/doc/master/std/libc/funcs/posix88/unistd/ffi.fork.html
[22:43:59] *** Joins: steveno (steveno@moz-2B2BE86F.hsd1.pa.comcast.net)
[22:44:24] <bvssvni> if that works with Rust it is truly awesome
[22:44:29] *** Joins: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP)
[22:44:55] *** Quits: nif (nif@moz-8181E2AC.oberlin.net) (Quit: Konversation terminated!)
[22:45:02] *** Quits: claudiu (claudiu@8ECC4BFC.EC83738C.D8D85ABD.IP) (Ping timeout)
[22:45:20] <ChrisMorgan> igork: in ($e) the parentheses are superfluous
[22:45:23] *** Joins: judofyr (judofyr@77444CA6.26D37221.7A561A2D.IP)
[22:46:10] <igork> ChrisMorgan: i thought i've removed them...
[22:46:19] <ecr> hm. rustc is failing at linktime for some reason. guess i'll try --enable-clang
[22:46:19] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[22:46:33] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[22:46:44] *** Quits: sellout (Adium@2917A62E.8B65BA63.1D2A2C57.IP) (Quit: Leaving.)
[22:47:04] *** Quits: judofyr (judofyr@77444CA6.26D37221.7A561A2D.IP) (Ping timeout)
[22:47:04] *** Quits: moostik (Icedove@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[22:47:12] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[22:47:32] <igork> ChrisMorgan: fixed :)
[22:48:50] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[22:49:41] *** Joins: moostik (Icedove@6181009C.10715965.BCDF592F.IP)
[22:49:42] *** Quits: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP) (Ping timeout)
[22:49:50] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[22:49:51] *** Joins: derek_c (derek@moz-3EF279A9.cit.cornell.edu)
[22:49:55] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[22:50:23] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[22:50:27] *** Joins: bmats (bmats@moz-87F0A991.hfc.comcastbusiness.net)
[22:51:12] *** Quits: marianoguerra (marianogue@moz-C6801CB6.dip0.t-ipconnect.de) (Ping timeout)
[22:51:35] *** Quits: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se) (Quit: Ex-Chat)
[22:52:13] <derek_c> I have a port, and I want to do try_recv, except that before I try_recv, I want to give other tasks a chance to run.  In other words, I want to give the tasks that could potentially supply data a chance to run, before I try to receive data.  How may I do that?
[22:52:46] <derek_c> Note that simply `recv()` won't work because then my task would be blocked, which I don't want
[22:53:17] <derek_c> I thought about calling `task::deschedule` before `try_recv`, but I'm not sure if that's the best solution
[22:53:52] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[22:54:15] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[22:54:57] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[22:54:57] *** ChanServ sets mode: +ao pcwalton pcwalton
[22:55:05] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[22:56:17] <mcpherrin> That sounds like designing flimsy code :|
[22:57:14] <mcpherrin> I suppose descheduling could help?
[22:57:46] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[22:57:52] *** Quits: simon (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[22:58:27] <aatch> As far as I know, if a task blocks on a port, then it's descheduled
[22:58:27] *** Quits: derek_c (derek@moz-3EF279A9.cit.cornell.edu) (Ping timeout)
[22:58:33] <aatch> bah
[22:58:55] <mcpherrin> If it blocks it is, but derek_c doesn't want to block
[22:59:54] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[23:01:27] *** Quits: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[23:01:57] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[23:02:03] *** Quits: amir (amir@moz-49060BB9.cust.bluewin.ch) (Ping timeout)
[23:04:52] *** Quits: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net) (Quit: computer sleeping)
[23:05:05] <ercxx> how does one get prebuilt rust on osx?
[23:07:18] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[23:07:41] *** Quits: canhtak (canhtak@moz-CEAFB489.wl.t.ulaval.ca) (Ping timeout)
[23:08:05] <mcpherrin> ercxx: I'm not sure anybody distributes that
[23:08:12] <ercxx> thanks
[23:08:17] *** Joins: canhtak (canhtak@moz-CEAFB489.wl.t.ulaval.ca)
[23:08:36] <mcpherrin> So you'll just want to compile it, which I know takes a while the first time around
[23:08:54] <ljrmorgan> ercxx: you can use hombrew
[23:09:00] *** Quits: canhtak (canhtak@moz-CEAFB489.wl.t.ulaval.ca) (Quit: canhtak)
[23:09:04] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[23:09:06] <ercxx> ok
[23:09:11] <ljrmorgan> "brew install rust"
[23:09:14] <mcpherrin> well homebrew still compiles
[23:09:22] <ljrmorgan> ah ok, good point
[23:09:27] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[23:09:46] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[23:09:49] <mcpherrin> not much gain over "git clone github.com/mozilla/rust && ./configure && make && make install" except less typing ;)
[23:10:19] *** Quits: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net) (Quit: calvinmetcalf)
[23:10:29] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[23:10:40] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[23:11:02] *** Joins: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[23:11:02] *** ChanServ sets mode: +ao brson brson
[23:11:37] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[23:11:59] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[23:12:31] *** Quits: dave1629 (dave@F6923595.8239D6FF.DDE5D3F6.IP) (Quit: dave1629)
[23:12:49] *** Quits: omnus (omnus@moz-2E009EE2.stny.res.rr.com) (Client exited)
[23:13:00] <ljrmorgan> mcpherrin: Yeah, I guess you're stuck with rust-0.9 if you use homebrew too
[23:13:15] <ljrmorgan> which may or may not be what you want
[23:13:20] <FreeFull> Arch has a repository with nightlies
[23:13:21] <sfackler> you can use --HEAD to get new Rust but you have to build it
[23:13:25] *** Quits: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[23:14:40] <ljrmorgan> it would be nice to have a rust-nightly homebrew recipe
[23:15:05] *** Joins: lenstr (lenstr@2B74E188.9636F313.7A27613B.IP)
[23:15:25] *** Quits: nical (Nicolas@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[23:16:29] <uberj> where does rusti's code live?
[23:16:35] <uberj> rusti: help
[23:16:39] -rusti- pastebinned 7 lines of output: http://ix.io/9ZV
[23:16:43] <uberj> :(
[23:16:51] <uberj> should have expected that to happen
[23:17:15] *** Quits: discomfitor__ (discomfito@moz-975BC507.hsd1.ct.comcast.net) (Quit: ah. I see.)
[23:17:21] *** Joins: zmike (discomfito@moz-975BC507.hsd1.ct.comcast.net)
[23:20:01] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:20:01] *** Quits: ljrmorgan (Mibbit@moz-21C9703A.skybroadband.com) (Quit: http://www.mibbit.com ajax IRC Client)
[23:21:38] <sfackler> uberj: somewhere in github.com/thestinger I think
[23:23:03] <aatch> uberj, https://github.com/thestinger/rust-sandbox
[23:23:07] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[23:23:23] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Quit: Leaving)
[23:23:31] <aatch> uberj, https://github.com/thestinger/rust-playpen sorry
[23:23:39] <aatch> thinking of a different project.
[23:24:07] <Tobba> rust-http looks like it'd be awfully slow
[23:24:19] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[23:24:24] <aatch> Tobba, it is not though.
[23:24:31] <Tobba> I just looked at the hello world example and theres like 6 different heap allocations for a single request
[23:24:44] *** Quits: moostik (Icedove@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[23:24:44] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Ping timeout)
[23:24:58] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[23:25:32] *** Joins: dbaupp (Thunderbir@32742E97.D5A1DCF.37681C44.IP)
[23:25:32] *** Joins: canhtak (canhtak@moz-CEAFB489.wl.t.ulaval.ca)
[23:26:42] <sfackler> 6 heap allocations is trivial to the amount of time spent in the syscall
[23:26:50] *** Joins: bmats_ (bmats@moz-87F0A991.hfc.comcastbusiness.net)
[23:26:51] <sfackler> *trivial compared to
[23:27:00] <aatch> Heap allocations aren't that slow.
[23:27:11] <sfackler> ~20 nanoseconds per allocation for small stuff I think?
[23:27:25] <aatch> Something like that.
[23:27:37] *** Joins: derek_c (derek@moz-A43430DA.cit.cornell.edu)
[23:27:41] *** Quits: bmats (bmats@moz-87F0A991.hfc.comcastbusiness.net) (Ping timeout)
[23:27:50] *** Quits: ecr (chatzilla@moz-9746A470.dhcp4.washington.edu) (Ping timeout)
[23:27:56] <aatch> depends on the implementation
[23:28:31] *** Quits: bmats_ (bmats@moz-87F0A991.hfc.comcastbusiness.net) (Ping timeout)
[23:28:37] <aatch> At any rate, the vast majority of web applications are bound by IO
[23:28:42] *** Joins: ecr (chatzilla@moz-9746A470.dhcp4.washington.edu)
[23:29:14] <aatch> Either between the server and the client or the server and some external service (normally a database)
[23:30:18] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Ping timeout)
[23:30:53] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[23:31:10] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[23:31:12] *** Joins: Savago (Savago@CDD1823.E820043D.D4C04133.IP)
[23:31:29] <Tobba> terrible for static resources though
[23:31:49] <sfackler> for some definition of terrible I guess
[23:31:56] <Tobba> specially on windows you can have the OS do 99% of the heavy lifting
[23:32:34] <Tobba> open socket, send headers, then theres a syscall that sends an entire file over
[23:32:46] <dbaupp> linux has sendfile too
[23:32:48] *** Joins: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[23:32:48] *** ChanServ sets mode: +ao brson brson
[23:33:06] <Tobba> oh, good
[23:33:07] *** Quits: io2 (io2@moz-871549F5.home.otenet.gr) (Ping timeout)
[23:33:11] <Tobba> linux tends to be kinda pathetic file wise
[23:33:18] <Tobba> I mean API wise
[23:35:37] *** Quits: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[23:35:48] <Amaranth> Really? What is this, 1999?
[23:35:51] <sfackler> "lack of sendfile support" seems to be a distinct problem from "6 allocations per request"
[23:36:23] *** Quits: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[23:36:36] <Tobba> I'm just saying those are a lot of pointless allocs
[23:37:14] <aatch> Tobba, any real system would use something like nginx or varnish to serve static files anyway.
[23:37:24] <Tobba> well yeah
[23:37:33] <Tobba> its not really an excuse though
[23:37:47] <Tobba> its like people saying nodejs scales because they can slap an nginx proxy infront of it
[23:38:28] <Matthias247> I think microoptimizing a rust http server is currently not worth the effort
[23:38:31] *** Joins: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP)
[23:38:41] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[23:38:52] <Amaranth> I believe the point of rust-http is to prove a _type safe_ http implementation can be easy to use and performant, not to be the fastest thing ever written (although that'd be nice too if possible)
[23:38:53] <Tobba> its more terrible design than slowness really
[23:39:20] <pcwalton> we should probably fix the allocations
[23:39:37] *** Joins: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net)
[23:39:53] *** Joins: judofyr (judofyr@77444CA6.26D37221.7A561A2D.IP)
[23:40:04] <Matthias247> got my channels implementation 10x faster by switching from ~[] to RingBuf as a queue. There allocations seemed to matter ;)
[23:40:17] *** Quits: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP) (Connection reset by peer)
[23:40:17] *** Joins: lpy_ (lpy@6D018ABA.B31F127E.E99F7FDB.IP)
[23:40:21] <Amaranth> pcwalton: Sure, it'd be nice to be rid of them but not at the expensive of making it unsafe
[23:40:22] <Tobba> heh
[23:40:30] <Tobba> Amaranth: no shit
[23:40:36] <Tobba> theres probably some way safer way to do it
[23:41:03] <dbaupp> Matthias247: the problem with using ~[] as a queue is not the allocations, but the memcpys
[23:41:04] <aatch> Matthias247, sure, when you're working at that scale, it matters, but when writing the data to the client is 99.99% of the time, those allocations don't matter at all.
[23:41:05] <Ralith> Tobba: what are you complaining about re: linux file APIs?
[23:41:13] <Tobba> nothing
[23:41:19] <dbaupp> Matthias247: using RingBuf will do the same number of allocations as ~[]
[23:41:24] <Ralith> "nothing" makes linux pathetic?
[23:41:28] <Tobba> I was saying I was semi-suprised it had that
[23:41:33] *** Quits: judofyr (judofyr@77444CA6.26D37221.7A561A2D.IP) (Ping timeout)
[23:41:39] <Tobba> hey thats quoting me out of context
[23:41:48] <Ralith> no, you said that linux has pathetic file APIs
[23:41:59] <Tobba> I meant more APIs in general because lol posix
[23:42:04] <Tobba> it has improved a lot tho
[23:42:14] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:42:18] *** Joins: popinman322 (MagiSun@moz-DB516D62.twcny.res.rr.com)
[23:42:19] <Matthias247> dbaupp: don't know how ~[] acts when you misuse it as a ringbuf. It could either copy the whole time or slice as long as possible and then reallocate and copy
[23:42:30] *** Quits: lpy_ (lpy@6D018ABA.B31F127E.E99F7FDB.IP) (Ping timeout)
[23:42:38] <dbaupp> Matthias247: I do know how it operates ;)
[23:42:43] <dbaupp> it's just copying
[23:42:51] <Ralith> POSIX is a subset of what linux provides
[23:42:57] <Matthias247> ok, that means each push/pop copies the whole list?
[23:43:07] <Matthias247> that explains it for sure :)
[23:43:13] <Ralith> that goes for every other widely used OS, too.
[23:43:37] <dbaupp> Matthias247: only things operating at the start of the vector
[23:43:46] <dbaupp> Matthias247: at then it's cheap
[23:43:49] <dbaupp> *the end
[23:44:03] <Matthias247> ok, but as a queue I do pop_front
[23:44:11] <dbaupp> yes, that's expensive
[23:44:12] <Matthias247> that's the maxium expensivst thing
[23:44:14] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[23:44:18] <dbaupp> yup
[23:44:32] *** Quits: lerc (quassel@moz-289EFA2.telstraclear.net) (Ping timeout)
[23:44:34] <popinman322> [Other issue] My TcpListener was being moved, so I made a reference to it instead, but now the reference is giving me an error. http://pastebin.com/SrqA72FJ  q.q
[23:44:36] <Tobba> it only took until like 2003 for them to make a way to use sockets that didnt die after 100 connections
[23:44:39] <Tobba> (epoll)
[23:45:01] <mcpherrin> 2003 was a long time ago :)
[23:45:11] *** Quits: Ferreus (ferreus@moz-A17BBAA1.pools.arcor-ip.net) (Ping timeout)
[23:45:11] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[23:45:24] *** Quits: hoverbear (hoverbear@moz-A4D3860E.wireless.uvic.ca) (Quit: Taking a nap.)
[23:45:38] <Matthias247> after changing to RingBuf I now seem to have the same performance as std::comm channel. And extra for strcat I have measured how much difference there is between signalisation with a condition variable and eventfd ;)
[23:45:48] <Tobba> irrelevant but unix came out in 1770
[23:45:49] <Tobba> 1970*
[23:46:06] <Tobba> all that performance wasting
[23:46:29] *** Quits: tq (tq@moz-9FE9CCF4.a251.priv.bahnhof.se) (Quit: tq)
[23:46:31] <mcpherrin> haha 1770
[23:46:56] <Tobba> bad numpad wednesday
[23:46:56] <Matthias247> I think most lowlevel OS APIs feel like 1770 :)
[23:47:05] *** Joins: nszceta (quassel@moz-E6CA8D6.hsd1.pa.comcast.net)
[23:47:08] <Matthias247> maaybe because they are C :)
[23:47:19] <mcpherrin> We need exokernels already!
[23:47:39] <mcpherrin> I want to talk straight to the hardware :P
[23:47:45] <Tobba> I think you could technically make an exokernel with what I'm making
[23:47:48] <Tobba> but thats dangerous as all hell
[23:47:58] <aatch> UNIX - The OS of Freedom for Revolutionaries Everywhere
[23:48:08] <mcpherrin> You can't really make a good exokernel without a good IOMMU
[23:48:18] <Matthias247> popinman322: you can't to that. With spawn you send  the acceptor to another thread
[23:48:26] <mcpherrin> otherwise having any device that can do DMA basically gives you root 
[23:48:31] <Tobba> yep
[23:48:46] <Tobba> the hardware needs to be designed for it, basicaly
[23:48:54] <steveklabnik> <3 exokernels
[23:48:54] <mcpherrin> Newish intel chips have IOmmus
[23:48:56] <Tobba> though you'd expect with sysenter/syscall syscalls wouldent be that expensive
[23:49:04] <Matthias247> popinman322: what you propably can do is accept() on your main loop and then send the stream to another task
[23:49:05] <steveklabnik> would looooove to see an exokernel in rust
[23:49:11] <mcpherrin> steveklabnik: On my todo list ;)
[23:49:19] <popinman322> Matthias247: [insert table flipping here]
[23:49:41] <steveklabnik> my ideal computer is liek chromeOS, but better
[23:49:51] <steveklabnik> exokernel in rust that exposes a V8 VM
[23:49:56] <steveklabnik> and canvas
[23:50:02] <mcpherrin> gross :p
[23:50:07] <Tobba> ew, JS
[23:50:08] <Matthias247> no, ideal computer for sure has no JS :)
[23:50:22] <popinman322> Matthias247: I wanted to accept in the task so that the call to fail! would be contained
[23:50:22] <steveklabnik> JS is just an IR
[23:50:23] <Ralith> Tobba: poll was specified by POSIX years before that.
[23:50:23] <mcpherrin> Though if it's an exokernel you can swap libraries, so nobody is stuck with JS ;)
[23:50:28] *** Parts: ecr (chatzilla@moz-9746A470.dhcp4.washington.edu) ()
[23:50:35] <Tobba> banished things: Java*
[23:50:48] <mcpherrin> The JVM was pretty sweet for its time
[23:50:58] <steveklabnik> it is still pretty sweet
[23:51:03] <steveklabnik> but this is #rust not #jvm ;)
[23:51:04] <Tobba> terrible language, argueably shit bytecode
[23:51:13] *** Quits: dbaupp (Thunderbir@32742E97.D5A1DCF.37681C44.IP) (Ping timeout)
[23:51:15] *** Joins: dbaupp (Thunderbir@32742E97.D5A1DCF.37681C44.IP)
[23:51:21] <acrichto> Tobba: let's keep the language a little cleaner in here
[23:51:43] <Matthias247> popinman322: then don't fail :)
[23:51:44] <steveklabnik> no reason to talk down on other languages either
[23:52:04] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[23:52:31] <Tobba> I pretty much designed a lot of my kernel with the idea of not having to do a lot of useless copying in mind
[23:52:40] <Matthias247> acrichto: did you have a chance to look at my IO update?
[23:52:42] *** Quits: lenstr (lenstr@2B74E188.9636F313.7A27613B.IP) (Client exited)
[23:52:51] <popinman322> Matthias247: I removed the ref and call to spawn, I'm getting the "use of moved value" error again
[23:53:00] *** Joins: hoverbear (hoverbear@moz-A4D3860E.wireless.uvic.ca)
[23:53:01] <acrichto> Matthias247: I didn't look super deeply into it, but I'm fearing that it's getting a little to complicated
[23:53:08] <Tobba> if you receive network packets you'll just get a block of memory mapped straight into the ring buffers
[23:53:17] <acrichto> Matthias247: if we're creating an event loop on top of an event loop it seems like we should be rethinking?
[23:53:32] <Matthias247> acrichto: were would you see the other one?
[23:53:34] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Quit: Textual IRC Client: www.textualapp.com)
[23:53:45] *** Quits: dbaupp (Thunderbir@32742E97.D5A1DCF.37681C44.IP) (Input/output error)
[23:53:47] *** Joins: dbaupp (Thunderbir@32742E97.D5A1DCF.37681C44.IP)
[23:53:50] <Matthias247> I would avoid another (visible) one
[23:54:26] <acrichto> hm maybe I haven't seen the most recent one
[23:54:28] <acrichto> is it on the same issue?
[23:54:32] <Matthias247> yes
[23:54:51] <Matthias247> https://github.com/mozilla/rust/issues/11165#issuecomment-32798282
[23:54:55] *** Joins: g3xzh (g3xzh@moz-62BA794B.red.bezeqint.net)
[23:55:01] <Matthias247> lot's of code and some explanation
[23:55:09] *** Quits: g3xzh (g3xzh@moz-62BA794B.red.bezeqint.net) (Quit: Leaving)
[23:55:16] <mcpherrin> Tobba: You mean the ring buffers on the device itself exposed to userspace?
[23:55:19] <Matthias247> I now how tcp streams, timers and channels working in parallel on epoll
[23:55:22] *** Quits: nszceta (quassel@moz-E6CA8D6.hsd1.pa.comcast.net) (Input/output error)
[23:55:26] *** Joins: bynaryshef (bynaryshef@moz-97E96350.mem.bellsouth.net)
[23:55:29] *** Joins: g3xzh (g3xzh@moz-62BA794B.red.bezeqint.net)
[23:55:33] <Tobba> mcpherrin: read-only, with size rounded to page bounries
[23:55:37] <Matthias247> but want to cleanup the code a little bit before release
[23:55:40] <acrichto> Matthias247: isn't this creating an event loop on top of the laready existing event loop for green threads?
[23:55:42] <Tobba> bit unsafe since you can potentially eavesdrop on other packets, but it should be a nonissue
[23:55:45] <mcpherrin> Tobba: Or you mean a buffer in ram the device is DMAing to?
[23:56:36] <mcpherrin> Tobba: Seems like exposing the device's memory would possibly be slow, if the device is "far" away across a PCI bus
[23:56:37] <Tobba> the latter, I think
[23:56:38] <Matthias247> acrichto: The green threads are quite special thing. My concept was firstly for libnative. But I also have some ideas how it could work for green
[23:56:47] <g3xzh> does anyone know how to fix this error : http://pastebin.com/iFHkv2bF
[23:56:49] <mcpherrin> I suppose if this is all in Qemu it doesn't matter :P
[23:56:50] <g3xzh> 10x in advance
[23:56:56] <Tobba> hahahaha
[23:57:00] <Tobba> I wanna try it on real hardware sometime
[23:57:05] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[23:57:09] <Tobba> in theory this should be ridiculously fast
[23:57:12] <acrichto> Matthias247: yeah the tough part is getting this to work across all platforms in both green/native contexts
[23:57:12] <mcpherrin> I make real fast real hardware work so ;)
[23:57:14] <Tobba> (note: theory)
[23:57:27] <kfed> "error: failed to find an implementation of trait std::num::Algebraic for int"... so the std::num::sqrt function can't take an int argument? o.o
[23:57:49] <mcpherrin> rusti: sqrt(3)
[23:57:51] -rusti- pastebinned 7 lines of output: http://ix.io/a46
[23:57:58] <mcpherrin> rusti: sqrt(3.0f32)
[23:58:01] -rusti- pastebinned 7 lines of output: http://ix.io/a47
[23:58:11] <aatch> rusti: std::num::sqrt(3)
[23:58:13] <mcpherrin> rusti: std::num::sqrt(3.0f32)
[23:58:15] -rusti- pastebinned 6 lines of output: http://ix.io/a48
[23:58:15] -rusti- 1.7320508f32
[23:58:15] <g3xzh> http://pastebin.com/iFHkv2bF
[23:58:21] <Matthias247> acrichto: Maybe each green thread that want's to do IO could get such an Eventloop assigned by default. And this is then mapped to underlying native Eventloop. Then the green thread would be pretty much state driven and react on incoming messages. Would then be more like Erlang processes
[23:58:24] <g3xzh> anyone? :(
[23:58:55] <aatch> g3xzh, looks like you've got mismatched versions
[23:59:13] <kfed> I looked at all the rusti outputs and it still seems like sqrt() can't take an int argument...
[23:59:22] <acrichto> Matthias247: perhaps, but one thing I do worry about is that this is getting quite complicated, but its extensibility does sound nice so far
[23:59:32] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[23:59:33] <aatch> kfed, that makes sense
[23:59:34] <Matthias247> acrichto: but I agree that it doesn't match too good to the current blocking API. Howevver I have really no clue how this could be done
[23:59:35] *** Joins: nszceta (quassel@moz-E6CA8D6.hsd1.pa.comcast.net)
[23:59:44] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[23:59:49] <Matthias247> as soon as you have different sources to react on you have the complexity
