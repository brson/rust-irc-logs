[00:00:26] <swgillespie> tomichi: my personal favorite for a new language is a brainfuck interpreter, and it translates very nicely in Rust
[00:00:27] <panicbit> tomichi: The former rust tutorial used this
[00:00:57] *** Quits: turtil (turtil@moz-gfc.es4.23.103.IP) (Quit: WeeChat 1.1.1)
[00:01:11] *** Joins: turtil (turtil@moz-gfc.es4.23.103.IP)
[00:01:46] <panicbit> tomichi: I just finished a hangman game in a few hours. Might be worth considering as well.
[00:02:23] <Mutabah> Johannes: Switch back?
[00:02:29] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:02:47] <Mutabah> Johannes: You can somehow signal the main thread to do something (via an inter-thread channel)
[00:03:18] *** Quits: alonlevy (alon@moz-p48.q13.159.94.IP) (Ping timeout: 121 seconds)
[00:04:05] <tomichi> ok thanks and last question is what ide do you use ?  i try plugin for inteliJ and snippets for sublitext will better but it hasnt got whisperer
[00:04:10] *** Quits: Altazimuth_ (Altazimuth@moz-rb7u6p.skybroadband.com) (Ping timeout: 121 seconds)
[00:04:28] *** Joins: Rusky (russell@moz-e8en94.slkc.qwest.net)
[00:04:38] * swgillespie uses emacs
[00:05:23] <Johannes> Mutabah: I want to execute code on the main thread, or somehow hand over a piece of data to main thread.
[00:05:23] *** Quits: Rusky (russell@moz-e8en94.slkc.qwest.net) (Connection closed)
[00:05:33] *** Quits: erz (erz@moz-efrhus.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:05:46] <Mutabah> Johannes: Have the main thread wait on a channel, and send data to it via this channel
[00:06:09] *** Quits: Guest_ (textual@moz-rtn.fg7.77.192.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:06:12] *** Joins: Guest_ (textual@moz-rtn.fg7.77.192.IP)
[00:06:24] <Yen> is a Weak Arc basically just a pointer?
[00:06:37] <Johannes> Mutabah: This is ok even if the other thread is created using pthread in the c library?
[00:07:12] <Mutabah> Johannes: Afaik, yes
[00:07:21] <Mutabah> Yen: Arc is just a pointer
[00:07:38] <Johannes> Mutabah: but i don't wanna halt the main thread... wouldn't it halt if I wait on channel?
[00:07:44] <Mutabah> Yen: Arc/arc::Weak just control different counters within the wrapping object
[00:08:03] <Mutabah> Johannes: Yes, it would. But how else would you get it to do something else?
[00:08:10] *** Joins: Rusky (russell@moz-e8en94.slkc.qwest.net)
[00:08:14] <Mutabah> Johannes: Would creating a rust-side worker thread work?
[00:09:08] *** Joins: garming (garming@moz-l6j.s0u.195.130.IP)
[00:09:08] *** Quits: Rusky (russell@moz-e8en94.slkc.qwest.net) (Connection closed)
[00:09:28] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[00:09:34] *** Joins: aatch (james@moz-ciignl.bmm3.j08e.e000.2406.IP)
[00:09:35] <Johannes> Mutabah: That might work.. Maybe I need a mutex protected vec where I store the data and then poll from rust..
[00:09:38] *** Joins: sirGusWrk (Gustav@moz-bo7slh.sme.bredbandsbolaget.se)
[00:09:45] <Yen> I would assume Arc would have a bit of a performance hit, since it has to sync and increment/decrement a counter every time you add another referenc. Is that basically negligible?
[00:09:59] <Yen> compared to just using, say, an unsafe direct pointer
[00:10:06] <Manishearth> Anyone know how to create a static slice literal in Rust?
[00:10:07] <Mutabah> Johannes: Polling may work, but is discouraged
[00:10:18] <Mutabah> Johannes: Why not create a thread in rust to block and do work for the FFI thread?
[00:10:19] <Manishearth> &[] is of type &[_ ; 0]
[00:10:21] *** Joins: Rusky (russell@moz-e8en94.slkc.qwest.net)
[00:10:26] <Manishearth> as_slice() won't be static
[00:10:26] *** Quits: ismaelga (ismaelga@moz-rjm.jv4.251.188.IP) (Connection closed)
[00:10:37] <bluss> Yen: it's not negligible, but it only happens when using .clone() or when an Arc is dropped
[00:10:41] <aatch> Yen, well it's certainly more overhead than using a raw pointer, but the cost of synchronising reference counts is fairly small.
[00:10:54] <bluss> Yen: so that's not necessarily happening often
[00:11:16] <Yen> hmm
[00:11:16] *** Quits: Rusky (russell@moz-e8en94.slkc.qwest.net) (Connection closed)
[00:11:26] <pingveno> It's just an atomic operation, no?
[00:11:32] <Johannes> Mutabah: But if I have a rust worker thread that get data from ffi through a channel I still have to hand the data over to the main thread somehow..
[00:11:38] <pingveno> No risk of a context switch
[00:12:09] *** Quits: GGist (Mibbit@moz-ijla36.seattleu.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[00:12:12] <aatch> pingveno, no context switch, but it might require a cache flush to synchronize the values.
[00:12:32] <pingveno> True
[00:13:00] <Mutabah> Johannes: Why does the main thread need it?
[00:13:06] <aatch> It's not that much of a performance problem unless your making many, many Arcs
[00:13:26] <aatch> Since often you just clone once per thread and use a &T for the rest of the time.
[00:13:32] <Yen> many being more than, say, 10?
[00:13:59] <aatch> Yen, heh, much more. Like 1000
[00:14:03] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[00:14:18] <Yen> so I'm trying to build a big, mutable graph, with deduplication
[00:14:20] <aatch> And your creating and dropping them frequently.
[00:14:37] <Yen> where I will sometimes delete nodes, and want to also delete unreachable nodes
[00:14:49] <Yen> if not for the deduplication part, reference-counting works for that
[00:15:10] <aatch> Ah, graphs. Rust's achilles heel.
[00:15:30] <Johannes> Mutabah:  ui related stuff.. needs to be synchronized with rendering. but i want to avoid big mutex lock..
[00:16:26] <Yen> with the deduplication, I think I want a hashset of the nodes as well, so that's one extra reference, breaking reference counting
[00:16:36] <Yen> and you can't hashset a weak arc
[00:17:19] <Mutabah> Johannes: If the main thread is a UI thread, then you can use a channel to send data etc, and the UI toolkit's event framework to tell the main thread to chck taht channel
[00:17:53] <aatch> Yen, it's probably better to have your graph own all the nodes, and hand out some sort of handle to clients.
[00:19:07] *** Quits: zcourts (zcourts@moz-7ms809.cable.virginm.net) (Client exited)
[00:19:39] <Yen> that's what I plan on doing
[00:19:44] *** Joins: idk_erikson (quassel@moz-nto6je.hsi04.unitymediagroup.de)
[00:20:23] *** Quits: colinsurprenant (colin@moz-rmn4e2.169.electronicbox.net) (Client exited)
[00:20:50] *** AutomatedTester is now known as AutomatedTester|AFK
[00:22:01] *** Quits: woboats (tatterdemal@moz-a0dnkb.ca.comcast.net) (Connection closed)
[00:22:48] <Johannes> Mutabah: sounds like a good idea. i will try that. thanks!
[00:23:45] *** Quits: yusukesuzuki (yusukesuzuk@moz-dt1lc7.t-com.ne.jp) (Ping timeout: 121 seconds)
[00:24:21] *** Quits: idk_erikson (quassel@moz-nto6je.hsi04.unitymediagroup.de) (Ping timeout: 121 seconds)
[00:25:01] *** Joins: errordeveloper (ilya@moz-rfe.3fh.206.90.IP)
[00:26:25] *** Joins: brycefisher (chatzilla@moz-qbdpvi.office.zencoderdns.net)
[00:26:26] *** Quits: tbone (Hatcher@moz-inb.j4r.80.69.IP) (Quit: )
[00:28:08] <brycefisher> Let's say I'm using closures in several threads, and I want to pass some data between them. I need to mutate the data in one thread, and retrieve it another thread. Should I be using a Mutex? Are there some good examples of Mutexes + closures I can look at?
[00:28:15] <talchas> well, you probably can't tell a C event framework to check a rust channel, and I don't know if any of the rust wrappers do that. You should be able to do something good enough though
[00:28:34] *** Joins: mkpankov (user@moz-k90.21l.23.84.IP)
[00:28:34] *** Joins: Tari (tari@moz-dqrr0l.net)
[00:29:18] *** Joins: Rusky (russell@moz-e8en94.slkc.qwest.net)
[00:29:24] <Tari> is there still a io::Read implementor that can read from a buffer in memory, or did that go away with old_io?
[00:29:29] <aatch> brycefisher, depends on exactly what you're doing. It might be better to pass the data around using channels, so only thread can own the data at a time.
[00:29:44] <aatch> Tari, io::Read is implemented for &[u8] and Vec<u8>
[00:29:53] <Tari> oh, of course
[00:30:01] *** Quits: Rusky (russell@moz-e8en94.slkc.qwest.net) (Connection closed)
[00:30:49] *** Joins: Johannes_ (Johannes@moz-4et8d7.ocn.ne.jp)
[00:31:08] <brycefisher> aatch: interesting. I'm trying to implement a server, and I'm looking to generate an oauth token in one thread and then reuse in any subsequent threads
[00:31:25] <brycefisher> aatch: would channels be appropriate for that use case?
[00:31:44] *** Quits: Johannes_ (Johannes@moz-4et8d7.ocn.ne.jp) (Connection closed)
[00:31:52] * Sgeo_ is convinced he did let-over-lambda in Rust at some point
[00:32:01] <Sgeo_> I don't know where I put it. It's easy though
[00:32:17] *** Quits: kgrandon (Adium@moz-ja8.223.170.166.IP) (Quit: Leaving.)
[00:32:54] <aatch> brycefisher, Yes, but the one provided in the standard library isn't *quite* what you'd want.
[00:33:24] *** Quits: jbcurtin (jbcurtin@moz-lskisb.LosAngeles1.Level3.net) (Ping timeout: 121 seconds)
[00:33:24] <scott> Sgeo_: let-over-lambda?
[00:33:30] <Mutabah> talchas: Most frameworks define a set of events that can be used by user code to signal itself to do some work
[00:33:40] <aatch> brycefisher, since it's multiple-producer, single-consumer, and you want the opposite, single-producer, multiple-consumer.
[00:34:03] *** Quits: Guest58 (textual@moz-tb1fm9.us.xo.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:34:04] <Sgeo_> scott, in Lisp, a pattern of producing one or more anonymous functions under a let binding to result in several closures that share state that otherwise cannot be accessed
[00:34:06] *** Quits: tomichi (Mibbit@moz-p0h.qma.230.94.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:34:07] <brycefisher> aatch: ah! good to know. 
[00:34:10] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[00:34:31] <aatch> brycefisher, unfortunately I don't know of any implementation of an spmc channel.
[00:34:33] <Sgeo_> Sadly, Googling only seems to find some CL book named after it
[00:34:34] <scott> Sgeo_: ah
[00:35:22] <brycefisher> aatch: okay! so, maybe storing the credentials to disk or database would be a better option then
[00:35:27] *** Quits: Twinklebear (Twinklebear@moz-4a9.o78.110.128.IP) (Quit: Leaving)
[00:35:28] <Sgeo_> scott, http://letoverlambda.com/index.cl/guest/chap2.html#sec_5
[00:35:59] <aatch> brycefisher, which side of OAuth is this? Are you acting as a client or as an authentication server?
[00:36:10] <brycefisher> aatch: the client
[00:36:39] <aatch> brycefisher, then, yeah, I'd say just throw it in a database if you need any sort of persistence.
[00:37:03] *** Joins: yusukesuzuki (yusukesuzuk@moz-dt1lc7.t-com.ne.jp)
[00:37:07] <brycefisher> aatch: cool! Thanks for saving a long and painful trip into mutexes :-)
[00:37:13] *** Joins: krdln (krdln@moz-ohe9vg.dynamic.chello.pl)
[00:37:57] *** Joins: polyfractal (polyfractal@moz-rknkbg.sub-70-208-65.myvzw.com)
[00:38:03] <aatch> brycefisher, heh. I'm actually a web developer as a job and have to work with OAuth. Both sides.
[00:38:31] <brycefisher> aatch: do you share the disdain for oauth all my coworkers seem to have?
[00:38:39] <aatch> brycefisher, yes.
[00:39:15] <aatch> I implemented a full OAuth client system, can't remember how it works.
[00:39:27] <brycefisher> aatch: hahaha. nearly every api I know of at least provide oauth, and yet no developers I know of have anything positive to say about it
[00:39:37] *** Joins: junseok (junseok@moz-pbo4ce.ca.comcast.net)
[00:39:56] *** Joins: kkimdev (kkimdev@moz-omm.add.135.104.IP)
[00:40:01] <brycefisher> aatch I have little experience either way myself, but it seems like an unfortunate situation
[00:40:08] <aatch> OAuth 2 is better.
[00:40:13] *** Quits: eric_lagergren (barsonme@moz-add4ru.fomj.2174.0008.2601.IP) (Connection closed)
[00:40:15] <junseok> hello, is the best way to get a min-heap really to override Ord, as described here?
[00:40:16] <junseok> https://doc.rust-lang.org/std/collections/binary_heap/
[00:40:40] <aatch> brycefisher, anyway, this is getting off-topic.
[00:40:40] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[00:40:46] *** Joins: envi_u (envi@moz-ih5.olo.169.121.IP)
[00:41:21] *** Quits: davebettin_ (davebettin@moz-acc.cl4.35.72.IP) (Ping timeout: 121 seconds)
[00:41:22] <aatch> junseok, yeah. If you have a type that already has an Ord impl, use a wrapper type that inverts it.
[00:41:24] <brycefisher> aatch: just brainstorming another approach to in memory persistence here, could RefCell + Rc work for me?
[00:41:29] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[00:42:04] <aatch> brycefisher, sure, but you can't share Rc's across threads.
[00:42:08] <junseok> aatch D: okay thanks
[00:42:26] <aatch> brycefisher, the thread-safe version is Arc<Mutex<T>>
[00:43:01] <brycefisher> aatch okay -- that's probably easier than trying to interface with an external db. Thanks again!
[00:43:31] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[00:43:40] <aatch> brycefisher, well there's a good postgresql driver for Rust.
[00:44:08] <aatch> brycefisher, written in native Rust to boot, not just a binding to libpq.
[00:44:18] <brycefisher> ooooh, that does sound nice...
[00:44:29] *** Parts: krdln (krdln@moz-ohe9vg.dynamic.chello.pl) ()
[00:44:31] *** Quits: errordeveloper (ilya@moz-rfe.3fh.206.90.IP) (Ping timeout: 121 seconds)
[00:45:01] *** Quits: __mark__ (mark@moz-pb9mc5.dynamic.chello.pl) (Client exited)
[00:45:02] <brycefisher> I hate that hyper and all its progeny depend on openssl, but while the rust crypto scene is still sorting itself, it makes sense
[00:45:38] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[00:46:34] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[00:46:44] *** Parts: brycefisher (chatzilla@moz-qbdpvi.office.zencoderdns.net) ("")
[00:47:00] *** Joins: kgrandon (Adium@moz-9p50dn.hjek.d045.0009.2601.IP)
[00:47:52] *** Joins: Rusky (russell@moz-e8en94.slkc.qwest.net)
[00:48:14] *** Quits: Rusky (russell@moz-e8en94.slkc.qwest.net) (Connection closed)
[00:49:39] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[00:49:55] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[00:49:59] *** Joins: lenstr (lenstr@moz-nde.vju.25.171.IP)
[00:50:15] *** Quits: polyfractal (polyfractal@moz-rknkbg.sub-70-208-65.myvzw.com) (Ping timeout: 121 seconds)
[00:50:16] *** Quits: lenstr (lenstr@moz-nde.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[00:50:30] *** Joins: lenstr (lenstr@moz-nde.vju.25.171.IP)
[00:50:42] *** Joins: polyfractal (polyfractal@moz-rknkbg.sub-70-208-65.myvzw.com)
[00:50:57] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[00:51:06] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[00:51:06] *** Joins: tno (tomas@moz-dk68m3.7pm2.so41.08a0.2001.IP)
[00:51:13] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[00:51:24] *** Quits: mkpankov (user@moz-k90.21l.23.84.IP) (A TLS packet with unexpected length was received.)
[00:51:52] <alevy> I'm getting "the parameter type `F` may not live long enough" with this code: http://is.gd/gxTyjF I think i understand more or less why, but not sure if what I'm trying to do is possible some other way.
[00:51:56] *** Quits: lenstr (lenstr@moz-nde.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[00:52:06] *** Quits: junseok (junseok@moz-pbo4ce.ca.comcast.net) (Ping timeout: 121 seconds)
[00:52:15] *** Quits: garming (garming@moz-l6j.s0u.195.130.IP) (Ping timeout: 121 seconds)
[00:52:17] <alevy> Basically, I'm trying to store a closure aside in `self` to invoke later. any ideas?
[00:52:40] *** Joins: alex-abreu (alex@moz-j54ho8.biz.rr.com)
[00:52:52] *** Quits: santiago (santiago@moz-9rt.sbd.14.107.IP) (Quit: Computer has gone to sleep.)
[00:53:45] *** Joins: Guest58 (textual@moz-tb1fm9.us.xo.net)
[00:53:45] <Rym_> alevy: Box<FnMut()> is implicitly Box<FnMut() + 'static>
[00:53:53] *** Joins: kieran (kieran@moz-c5gk5j.ihug.co.nz)
[00:54:08] *** Joins: garming (garming@moz-l6j.s0u.195.130.IP)
[00:54:43] <Rym_> alevy: http://is.gd/EWnW25
[00:54:47] <alevy> Oh i see! adding a static annotation on F in the method in fact lets it compile
[00:54:55] <alevy> OK perfect, thanks
[00:55:06] <alevy> yeah, you code is what i want
[00:55:25] *** Joins: kkus (kkus@moz-baj4jj.74.srtnet.com)
[00:56:13] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[00:57:35] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[00:57:38] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[00:57:41] <Mutabah> Does anyone know a beta-compatible version of Vec::split_off?
[00:57:52] *** Quits: Fiveside (fiveside@moz-t2eatg.vsp.com) (Quit: WeeChat 1.1.1)
[00:57:57] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[00:57:57] *** ChanServ sets mode: +o erickt
[00:58:02] *** Quits: kieran (kieran@moz-c5gk5j.ihug.co.nz) (Ping timeout: 121 seconds)
[00:58:18] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:58:23] *** Quits: Ralith (ralith@moz-miv.lne.251.63.IP) (Ping timeout: 121 seconds)
[00:59:08] <alevy> Rym_ does `FunMut()` always have an implicit `'static`? or just with Box?
[00:59:24] <Mutabah> alevy: Boxed trait objects have an implicit 'static
[00:59:31] <Rym_> alevy: Any boxed trait object
[00:59:34] <Mutabah> (well, bare trait objects ahve that actually)
[00:59:47] <Mutabah> (E.g. "impl Trait { }" only applies for 'static)
[00:59:52] <alevy> Ok, but a FunMut doesn't if it's not boxed?
[01:00:25] *** Joins: Twinklebear (Twinklebear@moz-ttrcn3.ut.comcast.net)
[01:00:31] <Mutabah> alevy: As a bound, it doesn't imply static
[01:00:36] <Rym_> alevy: https://github.com/rust-lang/rfcs/pull/599
[01:00:38] <alevy> ok cool
[01:00:42] *** Joins: dawehner (quassel@moz-h829oe.hsi6.kabel-badenwuerttemberg.de)
[01:00:48] <Mutabah> alevy: and with a reference, it infers to &'a Trait+'a
[01:01:40] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[01:02:15] *** Quits: Layl (Layl@moz-65hqmf.direct-adsl.nl) (Quit: Leaving)
[01:02:17] *** Joins: kvsari (kvsari@moz-fgsnv9.bbtec.net)
[01:02:33] *** Quits: chmanchester (chmancheste@moz-lmo.64e.222.162.IP) (Connection closed)
[01:03:01] *** nsm|away is now known as nsm
[01:03:19] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[01:03:36] *** Quits: alex-abreu (alex@moz-j54ho8.biz.rr.com) (Ping timeout: 121 seconds)
[01:03:46] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[01:04:23] *** Quits: bkearns (Adium@moz-rudtng.static.wiline.com) (Quit: Leaving.)
[01:04:44] *** Joins: ismaelga (ismaelga@moz-uf724n.rev.vodafone.pt)
[01:04:52] *** Quits: dawehner (quassel@moz-h829oe.hsi6.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[01:05:30] *** Quits: Guest58 (textual@moz-tb1fm9.us.xo.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:05:38] *** Joins: polyfrac_ (polyfractal@moz-rknkbg.sub-70-208-65.myvzw.com)
[01:05:57] *** bentley is now known as bentley|away
[01:06:11] *** Quits: polyfractal (polyfractal@moz-rknkbg.sub-70-208-65.myvzw.com) (Connection closed)
[01:06:15] *** Joins: Rusky (russell@moz-e8en94.slkc.qwest.net)
[01:06:52] *** Joins: Guest58 (textual@moz-tb1fm9.us.xo.net)
[01:08:16] *** Quits: Rusky (russell@moz-e8en94.slkc.qwest.net) (Connection closed)
[01:08:16] *** Quits: Guest58 (textual@moz-tb1fm9.us.xo.net) (Connection closed)
[01:08:50] *** Joins: posix4e (sid82101@moz-rol03c.uxbridge.irccloud.com)
[01:09:10] *** Joins: Rusky (russell@moz-e8en94.slkc.qwest.net)
[01:09:33] *** Quits: penguin42 (dg@moz-0v8anh.cable.virginm.net) (Quit: Leaving.)
[01:10:02] *** Joins: danv (danv@moz-0js00c.iinet.net.au)
[01:10:02] *** Quits: Rusky (russell@moz-e8en94.slkc.qwest.net) (Connection closed)
[01:10:13] *** Quits: slurps-mad-rips (slurps-mad-@moz-o2c.uaj.44.17.IP) (Quit: Connection reset by bear)
[01:11:00] *** Joins: Rusky (russell@moz-e8en94.slkc.qwest.net)
[01:11:36] *** Joins: santiago (santiago@moz-ro2mm9.res.rr.com)
[01:11:37] <ChrisMorgan> Mutabah: “boxed trait objects have an implicit 'static”: not true; &'a Box<Trait> is &'a Box<Trait + 'a>, for example.
[01:11:56] *** Joins: Tempus13 (Tempus@moz-sk3l4f.optusnet.com.au)
[01:12:35] <Mutabah> ChrisMorgan: Huh, interesting
[01:12:52] <ChrisMorgan> Mutabah: read RFC 599 in more detail to understand the rules more precisely.
[01:13:50] *** Joins: t4nk014 (bzlandfill@moz-5s3f9f.home.otenet.gr)
[01:13:58] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[01:14:51] *** Joins: sbanwart (IceChat9@moz-o1ng1h.bcvloh.sbcglobal.net)
[01:15:05] *** Quits: Rusky (russell@moz-e8en94.slkc.qwest.net) (Connection closed)
[01:15:26] <t4nk014> can one turn an immutable reference into a mutable one without acces to the original variable?
[01:16:02] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[01:16:06] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[01:16:07] <Mutabah> t4nk014: Not really
[01:16:11] *** Joins: borromakot (Adium@moz-j6pi1a.il.comcast.net)
[01:16:26] <Mutabah> t4nk014: (barring interior mutable types, or doing ugly and undefined unsafe code)
[01:16:43] <borromakot> I can use a let statement inside a closure right?
[01:16:44] <ChrisMorgan> t4nk014: no
[01:16:51] <t4nk014> ok
[01:17:03] <Mutabah> borromakot: closures are pretty much functions, so yes
[01:17:06] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[01:17:14] <ChrisMorgan> borromakot: a closure can have any expression, so `|foo| { let x = …; }` is just fine.
[01:17:33] <borromakot> I was 99% on that, just getting a strange error when I do.
[01:17:46] <borromakot> oh jeeb, I'm dumb it was just a typo.
[01:17:47] *** Joins: davebettin (davebettin@moz-acc.cl4.35.72.IP)
[01:17:49] *** Joins: Rusky (russell@moz-e8en94.slkc.qwest.net)
[01:18:30] *** Quits: t4nk014 (bzlandfill@moz-5s3f9f.home.otenet.gr) (Quit: CGI:IRC)
[01:18:31] *** Quits: Rusky (russell@moz-e8en94.slkc.qwest.net) (Connection closed)
[01:18:50] <ChrisMorgan> borromakot: you can’t have `|foo| let x = …`, because `let` is a statement, not an expression, and so it needs its semicolon, and so it cannot be used in an expression location without being surrounded by curly braces (making it a block).
[01:18:50] *** Joins: t4nk076 (bzlandfill@moz-5s3f9f.home.otenet.gr)
[01:19:21] *** Quits: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP) (Ping timeout: 121 seconds)
[01:20:39] *** Joins: WD-40 (uid59278@moz-0a9h81.ealing.irccloud.com)
[01:20:48] *** Quits: lov2cod (Adium@moz-40l.ob1.22.8.IP) (Quit: Leaving.)
[01:21:14] <WD-40> heh
[01:21:16] <WD-40> HI
[01:22:17] *** Quits: Guest_ (textual@moz-rtn.fg7.77.192.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:22:18] <borromakot> so I'm having an issue where I'm using a try! statement inside a map closure, and I think that is screwing me up.  Inside a closure, the try! doesn't make sense.
[01:22:20] <borromakot> ?
[01:22:44] <ChrisMorgan> borromakot: inside a closure, `return` returns from the closure.
[01:22:44] *** Joins: soma (Mibbit@moz-ef5.7ab.191.107.IP)
[01:22:55] <ChrisMorgan> borromakot: try! expands to something including a `return`.
[01:23:14] <borromakot> okay.  Hmm.
[01:24:01] <ChrisMorgan> Closures cannot jump stack frames in any way, as your intended use of try! would have.
[01:24:33] <ChrisMorgan> borromakot: remember that Option.map is just `match self { Some(x) => Some(f(x)), None => None }`
[01:24:33] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[01:24:39] <borromakot> what do you guys think would be the best way to turn a Vec<Result<Token>> into a Result<Vec<Token>>
[01:24:58] *** Joins: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP)
[01:25:06] <soma> hello! impl<T> Clone for Wrapping<T> where T: Clone + Clone.   Why are there  two clones?
[01:25:19] <borromakot> such that it is an Err if any of the Result<Tokens> are Err.
[01:25:34] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[01:26:29] <scott> soma: where did you find that?
[01:26:45] <soma> scott: Clone trait API doc
[01:26:47] <scott> soma: ah, I see it in the docs
[01:26:52] <scott> might be a rustdoc bug
[01:27:01] <soma> ok
[01:27:25] *** Joins: slashus2 (slashus2___@moz-evfg9e.res.rr.com)
[01:27:27] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:27:53] *** Quits: qard_ (qard@moz-nekdha.vc.shawcable.net) (Quit: leaving)
[01:29:01] *** Quits: kkimdev (kkimdev@moz-omm.add.135.104.IP) (Quit: Leaving)
[01:29:33] <ChrisMorgan> borromakot: http://is.gd/arFqI5
[01:29:34] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[01:29:49] <fkaa> can you match over a string's characters like `match "foo".to_string().iter() { 'A' => {} }` or something similar?
[01:30:04] * ChrisMorgan is quite proud of the name outsideify_resultness
[01:30:07] *** Joins: rbranson (rbranson@moz-k3u.9o0.201.199.IP)
[01:30:11] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[01:30:29] <ChrisMorgan> fkaa: "foo".chars() is an iterator which will yield 'f', 'o', 'o'.
[01:30:30] *** Quits: Savago (Savago@moz-8hd.3b6.246.162.IP) (Client exited)
[01:30:44] *** Quits: WD-40 (uid59278@moz-0a9h81.ealing.irccloud.com) (Quit: )
[01:30:56] <fkaa> guessing `match` doesn't operate on iterators?
[01:31:14] <ChrisMorgan> fkaa: bear in mind, however, that chars() is yielding Unicode code points, not grapheme clusters which are typically more what you should care about.
[01:31:28] <ChrisMorgan> … if anything.
[01:31:44] <ChrisMorgan> fkaa: no; what would it mean?
[01:31:46] *** Joins: saml_ (saml@moz-rkfmct.res.rr.com)
[01:32:04] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[01:32:19] <ChrisMorgan> fkaa: you can match on things like the next value in an iterator easily enough, e.g. match iter.next() { Some('A') => …, None => (iterator is exhausted) }
[01:32:23] <soma> borromakot:http://is.gd/AYnwne?
[01:32:30] <fkaa> o, nice
[01:33:26] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:33:57] <ChrisMorgan> soma: oh yeah, I forgot about the FromIterator implementation on Result. borromakot, definitely do it that way.
[01:34:00] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:34:18] *** Quits: futile (felix@moz-cmcd12.unity-media.net) (Quit: WeeChat 1.2-rc1)
[01:35:13] *** Parts: jonh (jhigdon@moz-qiq803.ieqc.6fdm.3c03.2600.IP) ("WeeChat 0.4.2")
[01:35:31] <soma> ChrisMorgan::) learnt it yesterday
[01:35:51] *** Joins: HappyMan (HappyMan@moz-l920uc.fios.verizon.net)
[01:36:07] *** Joins: Rusky (russell@moz-jv0v5q.slkc.qwest.net)
[01:36:52] *** Quits: Rusky (russell@moz-jv0v5q.slkc.qwest.net) (Connection closed)
[01:37:06] <ChrisMorgan> Rust’s generics are really cool. Java’s are so limited by comparison.
[01:38:08] *** Joins: Ralith (ralith@moz-tiaj7p.customer.broadstripe.net)
[01:38:14] <borromakot> ChrisMorgan: this is great lol,  Outsidify Resultness.
[01:38:16] <borromakot> haha
[01:38:21] <Murarth> And C++'s templates are not limited enough, by comparison.
[01:38:36] *** Joins: Rusky (russell@moz-jv0v5q.slkc.qwest.net)
[01:38:56] <borromakot> soma: thanks :D
[01:38:57] *** Quits: Rusky (russell@moz-jv0v5q.slkc.qwest.net) (Connection closed)
[01:39:02] <aatch> Well they're templates, Technically not part of the type system.
[01:39:06] <ChrisMorgan> borromakot: yeah, it’s a cool name, but .into_iterator().collect() is definitely better!
[01:40:54] *** Joins: errordeveloper (ilya@moz-rfe.3fh.206.90.IP)
[01:41:50] *** Quits: Wild_Cat (Max@moz-na0tak.dsl.teksavvy.com) (Ping timeout: 121 seconds)
[01:42:52] *** Quits: polyfrac_ (polyfractal@moz-rknkbg.sub-70-208-65.myvzw.com) (Connection closed)
[01:43:09] *** Joins: polyfractal (polyfractal@moz-bfq.fpq.208.70.IP)
[01:43:58] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[01:44:14] *** Quits: rbranson (rbranson@moz-k3u.9o0.201.199.IP) (Ping timeout: 121 seconds)
[01:44:24] <Mutabah> Is there a macro fragment type that can be used as a trait in an impl block?
[01:44:35] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[01:44:39] <Mutabah> *as a bound in a generic definition
[01:44:42] <ChrisMorgan> Mutabah: give an example?
[01:44:48] *** Quits: brson (brson@moz-u3dg2t.sfo1.mozilla.com) (Ping timeout: 121 seconds)
[01:44:51] <Mutabah> "impl<T: $trait_> ..."
[01:44:57] <ChrisMorgan> Ah, that. ident only.
[01:45:08] *** Quits: errordeveloper (ilya@moz-rfe.3fh.206.90.IP) (Ping timeout: 121 seconds)
[01:45:21] <ChrisMorgan> path might work too.
[01:45:32] <ChrisMorgan> But if your trait has generics—sorry, you’re out of luck.
[01:45:32] *** Quits: polyfractal (polyfractal@moz-bfq.fpq.208.70.IP) (Connection closed)
[01:45:42] *** Joins: polyfractal (polyfractal@moz-rknkbg.sub-70-208-65.myvzw.com)
[01:46:04] <Mutabah>  bother
[01:46:38] *** Joins: rbranson (rbranson@moz-i7m.9o0.201.199.IP)
[01:47:47] <borromakot> So i've been using string.as_str() to convert to a slice.  Now its saying that is an unstable library feature.  Normally I just use &string, but when I do a match &string, it doesn't behave the way I would expect it to.
[01:47:49] *** Joins: matp (matp@moz-rvt9hl.matp.at)
[01:48:09] *** Joins: da-kid_ (da@moz-gfiuv1.dip0.t-ipconnect.de)
[01:48:16] *** nrc|afk is now known as nrc
[01:48:31] *** Joins: agjacome (agjacome@moz-ma9sfa.dynamic.jazztel.es)
[01:48:33] <ChrisMorgan> Mutabah: I suppose you could use the macro indirection hack to work around that, now I think about it.
[01:48:33] * Mutabah is away (Misc)
[01:49:10] <scott> soma: I filed https://github.com/rust-lang/rust/issues/25022
[01:49:28] <ChrisMorgan> Mutabah: http://is.gd/mSkWJY
[01:50:16] <ChrisMorgan> Mutabah: by wrapping the item in item! { … } it is made to work, though in case of errors, the errors will make much less sense and will be much less helpful.
[01:50:59] *** Quits: da-kid (da@moz-kfpgbu.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[01:51:12] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[01:52:36] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[01:53:14] *** Quits: polyfractal (polyfractal@moz-rknkbg.sub-70-208-65.myvzw.com) (Connection closed)
[01:53:14] *** Joins: polyfrac_ (polyfractal@moz-rknkbg.sub-70-208-65.myvzw.com)
[01:53:37] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[01:53:51] <Mutabah> ChrisMorgan: Yeah...
[01:54:04] <Mutabah> Having it be an ident is acceptable ... for now
[01:54:27] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[01:54:36] *** Joins: kieran (kieran@moz-c5gk5j.ihug.co.nz)
[01:54:41] *** Quits: fkaa (sillesta@moz-3gjfoq.cust.tele2.se) (Ping timeout: 121 seconds)
[01:54:53] *** Joins: ytain (ytain@moz-hut.ooe.161.108.IP)
[01:56:29] *** Quits: rbranson (rbranson@moz-i7m.9o0.201.199.IP) (Quit: Computer has gone to sleep.)
[01:56:40] *** Quits: ai (ai@moz-pqofrl.sunline.net.ua) (Quit: Leaving.)
[01:57:09] *** Joins: Rusky (russell@moz-jv0v5q.slkc.qwest.net)
[01:57:43] *** Quits: Rusky (russell@moz-jv0v5q.slkc.qwest.net) (Connection closed)
[01:57:44] *** Joins: kalail (uid62296@moz-5ck9vu.charlton.irccloud.com)
[01:57:47] *** Quits: DerisiveLogic (smuxi@moz-1jqqlg.biz.rr.com) (A TLS packet with unexpected length was received.)
[01:57:56] <kalail> What is the rpeferred version of Rust to use for development now?
[01:57:58] <soma> scott: great
[01:57:59] <kalail> preferred*
[01:58:15] <Mutabah> kalail: I'd go with beta if you can
[01:58:18] <kalail> i.e. developing libraries or binaries that rely on other rust libs
[01:58:31] <kalail> so that deps are not breaking all the time?
[01:58:35] <kalail> Mutabah: ^
[01:58:44] *** Quits: kieran (kieran@moz-c5gk5j.ihug.co.nz) (Ping timeout: 121 seconds)
[01:58:48] <Mutabah> kalail: I'm using beta for my non-kernel projects
[01:59:06] *** Joins: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP)
[01:59:08] <kalail> Mutabah: gotcha. Is there a preferred method of installing that? Not sure what rust-up installs
[01:59:19] *** Joins: Rusky (russell@moz-jv0v5q.slkc.qwest.net)
[01:59:26] <Mutabah> kalail: Rustup installs beta by default
[01:59:27] <aatch> I hack on the compiler, so "nightly" isn't quite accurate.
[01:59:38] <Mutabah> (it can install nightly if you tell it)
[01:59:45] <kalail> nice
[01:59:51] <aatch> But I try to stick to beta-compat stuff and I've not had much trouble.
[01:59:53] <Mutabah> Speaking of beta, is there a changelog between the releases?
[01:59:58] <reem> kalail: I operate on “use beta unless I need to use an unstable feature"
[02:00:07] <kalail> makes sense to me
[02:00:07] *** Quits: Rusky (russell@moz-jv0v5q.slkc.qwest.net) (Connection closed)
[02:00:29] *** Quits: arBmind1 (Andreas@moz-goolk9.adsl.alicedsl.de) (Quit: Leaving.)
[02:00:30] <WindowsBunny> I operate on use rust built from master, but avoid using unstable features if possible
[02:00:32] <Mutabah> Can you access playpen over http?
[02:00:42] <WindowsBunny> So the code will still work with beta, probably
[02:00:58] <kalail> oh rust-up does not install cargo anymore?
[02:01:04] <aatch> I have a bunch of #[cfg_attr(..., feature(...)] in my code, so I can use unstable stuff, but it's not required.
[02:01:09] <Mutabah> kalail: It installs cargo
[02:01:17] <reem> kalail: multirust is the best way imo to manage rust installations, http://github.com/brson/multirust
[02:01:33] <kalail> haha there is already a package for that.
[02:01:35] <kalail> +1
[02:01:37] <reem> very easy to setup and use, and very easy to switch between beta and nightly
[02:01:43] <kalail> let me see...
[02:01:46] *** Joins: AngelOfSol (AngelOfSol@moz-dj58kc.rh.rit.edu)
[02:01:49] <WindowsBunny> Only problem is you can't use multirust on windows
[02:02:33] <kalail> eh
[02:02:40] <kalail> dev on windows has so many issues in any case
[02:03:08] <Johannes> Arc<Mutex<T>>'s lock doesn't seems to be working for me.. T gets borrowed simultaneously from two threads (thread '<unnamed>' panicked at 'RefCell<T> already borrowed',)
[02:03:09] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[02:03:39] *** Quits: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Ping timeout: 121 seconds)
[02:03:48] *** Joins: wei2912 (wei2912@moz-ekt.mrh.156.175.IP)
[02:04:04] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[02:04:23] <Johannes> Any knows problems? What I do is transmute a clone of Arc<Mutex<T>> to *mut c_void, pass to c library and then transmute back in callback and lock.
[02:04:35] <aatch> Johannes, uh, what? There shouldn't be any RefCells going on there.
[02:04:50] <kalail> ohhh the `[]` slice operator went away. What was the preferred way to do that now?
[02:04:55] <Johannes> Well, T contains Rc<RefCell<U>> objects..
[02:05:30] *** Quits: Kroisse (Kroisse@moz-k5j.pif.170.107.IP) (Quit: Good bye :))
[02:05:31] *** Quits: polyfrac_ (polyfractal@moz-rknkbg.sub-70-208-65.myvzw.com) (Ping timeout: 121 seconds)
[02:05:31] *** Joins: aji (alex@prickle.ajitek.net)
[02:05:33] <borromakot> I can't seem to find anything on it, but can I do a match statement on strings with regexes?
[02:05:39] *** Joins: rbranson (rbranson@moz-6dc2b6.mycingular.net)
[02:05:54] <aji> getting a borrow error on the 2nd line here: https://gist.github.com/aji/c0906031b0fd6949807b
[02:05:55] <aatch> Johannes, well then you've got overlapping borrows.
[02:05:58] *** Quits: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP) (Ping timeout: 121 seconds)
[02:06:01] <aji> self is &mut
[02:06:14] <aji> it's calling u "immutably borrowed content"
[02:06:25] <Johannes> aatch: well i shouldn't get because i lock the owning object, right?
[02:06:37] *** Quits: davebettin (davebettin@moz-acc.cl4.35.72.IP) (Ping timeout: 121 seconds)
[02:06:38] <aatch> Johannes,  I'm actually surprised that it let you construct an Arc with that inside.
[02:06:46] <aatch> borromakot, you cannot.
[02:07:03] <Johannes> i both threads i lock T.. then I do some stuff in the callback with the contents of T.
[02:07:13] *** Joins: fkaa (tundmatu@moz-501od2.business.telia.com)
[02:07:47] <aatch> Johannes, do you clone the Rc at any point?
[02:08:39] *** Joins: idk_erikson (quassel@moz-nto6je.hsi04.unitymediagroup.de)
[02:08:55] *** Joins: polyfractal (polyfractal@moz-rknkbg.sub-70-208-65.myvzw.com)
[02:09:47] *** Quits: JanC (janc@moz-a7ku8n.dsl.scarlet.be) (Ping timeout: 121 seconds)
[02:09:50] <Johannes> aatch: yes I do
[02:10:08] *** Quits: borromakot (Adium@moz-j6pi1a.il.comcast.net) (Quit: Leaving.)
[02:10:14] <aatch> Johannes, well then there's your problem.
[02:10:23] <Johannes> aatch: in the callback I clone an Rc<RefCell<U>>
[02:10:37] *** Joins: borromakot (Adium@moz-j6pi1a.il.comcast.net)
[02:10:44] <aatch> Johannes, the Mutex lock isn't going to protect access to the cloned value.
[02:10:48] <kalail> does wnyone know what the RFC for removing [] is?
[02:10:55] <kalail> removing [] as a slice operator
[02:10:57] *** nsm is now known as nsm|away
[02:10:59] <kalail> can't find it
[02:11:33] *** Quits: garming (garming@moz-l6j.s0u.195.130.IP) (Ping timeout: 121 seconds)
[02:11:36] <niconii> kalail: er, what did [] do exactly? take the whole thing as a slice?
[02:11:49] <aatch> kalail, dunno, why? It was just replaced with either deref coercion (&Vec<T> -> &[T]) or using FullRange indexing (foo[..]).
[02:12:30] <aatch> kalail, most of the time, deref coercions are enough. More ergonomic too.
[02:12:35] <Johannes> aatch: hmm.. but before that I call .lock() on the parent object. I thought the thread would halt there until lock has been released. the cloned Rc is not stored and should be released before the next thread/callback accesses it. 
[02:12:53] <Johannes> aatch: (i thought)..
[02:13:02] <aatch> Johannes, ok, then why have the Rc<RefCell> at all?
[02:13:08] *** Joins: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net)
[02:13:15] <kalail> Hmmmm, I like the FullRange operator
[02:13:21] *** Quits: idk_erikson (quassel@moz-nto6je.hsi04.unitymediagroup.de) (Ping timeout: 121 seconds)
[02:13:21] <kalail> makes more sense the `[]`
[02:13:37] <kalail> Deref is an intresting concept
[02:13:45] <aatch> kalail, it meant we didn't need a slicing syntax.
[02:14:10] <aatch> kalail, since we have a range syntax, you just index with a range.
[02:14:20] <Johannes> aatch: you are correct. for this one i think i could change to Box<T>  (T is traitobject)
[02:14:26] *** Quits: sbanwart (IceChat9@moz-o1ng1h.bcvloh.sbcglobal.net) (Quit: If you can't laugh at yourself, make fun of other people.)
[02:14:51] *** Joins: oldornew (oldornew@moz-369lu1.dynamic.simnet.is)
[02:15:04] <Johannes> aatch: thing is, i had so much problems with lifetimes and Rc<RefCell<T>> was a quick fix.. (embarrassed)
[02:15:18] <aatch> Johannes, yeah, you're basically adding another layer of shared ownership in, but in such a way that using said extra layer is a bug.
[02:15:22] <aji> self is &mut, getting a borrow error on the 2nd line here, saying u is "immutably borrowed content" https://gist.github.com/aji/c0906031b0fd6949807b
[02:15:34] <Johannes> aatch: actually it is Rc<RefCell<Box<MyTrait>>>
[02:15:58] <aatch> aji, you're gonna need to provide a bit more information than that.
[02:16:16] <aji> that's all rustc gives me
[02:16:24] <aatch> aji, I mean the code.
[02:16:27] *** Joins: dawehner (quassel@moz-h829oe.hsi6.kabel-badenwuerttemberg.de)
[02:16:37] <aatch> aji, we don't know the types of anything in that snippet.
[02:17:06] <aji> AH, wait, u is an Rc<User>, you're right
[02:17:09] <aatch> You might as well have given us `u.drop_refs()` and said "It be broke".
[02:17:14] <Johannes> aatch: thanks! I'll try to change the clone() and use reference. i thought maybe there was something bad with transmuting an Arc<Mutex<T>>.. 
[02:17:30] *** Quits: wei2912 (wei2912@moz-ekt.mrh.156.175.IP) (Quit: Lost terminal)
[02:17:40] *** Joins: wei2912 (wei2912@moz-ekt.mrh.156.175.IP)
[02:17:51] *** Joins: Rusky (russell@moz-jv0v5q.slkc.qwest.net)
[02:18:14] *** Joins: LysanderAkili (LysanderAki@moz-e2h9er.co.comcast.net)
[02:18:14] *** Quits: Rusky (russell@moz-jv0v5q.slkc.qwest.net) (Connection closed)
[02:18:27] *** Quits: borromakot (Adium@moz-j6pi1a.il.comcast.net) (Quit: Leaving.)
[02:19:07] <LysanderAkili> what's the difference between struct and trait?
[02:19:12] *** Joins: borromakot (Adium@moz-j6pi1a.il.comcast.net)
[02:19:48] *** Quits: wei2912 (wei2912@moz-ekt.mrh.156.175.IP) (Quit: Lost terminal)
[02:20:14] <niconii> LysanderAkili: structs are data (i.e. a type), which can have methods associated with them
[02:20:17] <aatch> LysanderAkili, what's your strongest language?
[02:20:27] <aatch> (programming langauge)
[02:20:37] <LysanderAkili> python
[02:20:46] <niconii> LysanderAkili: traits are not types, they are sets of methods you can implement for structs
[02:20:50] *** Quits: dawehner (quassel@moz-h829oe.hsi6.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[02:20:50] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[02:20:51] <aatch> LysanderAkili, ah, dammit. No good analogies there.
[02:20:54] <darkstalker> hi, how do you print a Vec::<u8> as binary data?
[02:21:01] *** Joins: Wild_Cat (Max@moz-na0tak.dsl.teksavvy.com)
[02:21:05] <LysanderAkili> what about c++  
[02:21:06] *** Quits: ismaelga (ismaelga@moz-uf724n.rev.vodafone.pt) (Connection closed)
[02:21:12] *** Quits: polyfractal (polyfractal@moz-rknkbg.sub-70-208-65.myvzw.com) (Ping timeout: 121 seconds)
[02:21:17] <aatch> LysanderAkili, you understand the concept of interfaces? From, say, Java?
[02:21:30] <LysanderAkili> never use Java. 
[02:21:38] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[02:21:49] <aatch> darkstalker, define "binary data"
[02:22:00] <darkstalker> raw binary bytes
[02:22:12] <darkstalker> like an fwrite in C
[02:22:23] *** Joins: lenstr (lenstr@moz-nde.vju.25.171.IP)
[02:22:37] <darkstalker> i got image data stored in a vector and want to write it
[02:22:42] *** Joins: JanC (janc@moz-4uju5i.dsl.scarlet.be)
[02:22:43] <aatch> darkstalker, you can just use `write` on whatever you want to write too, including standard out.
[02:23:17] *** Joins: savage884 (dev@moz-39ha0d.com)
[02:23:20] <niconii> LysanderAkili: you might just want to read http://doc.rust-lang.org/book/structs.html and http://doc.rust-lang.org/book/traits.html
[02:23:20] *** Quits: lenstr (lenstr@moz-nde.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[02:23:27] *** Joins: lenstr (lenstr@moz-nde.vju.25.171.IP)
[02:23:35] <aatch> darkstalker, so `std::io::stdout().write(&image)`
[02:24:00] <LysanderAkili> Yeah, I know. I been using documents intensively. 
[02:24:06] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[02:24:11] <savage884> So, what's the proper use of the try! macro? It seems like it usually doesn't have the right return type for whatever it is I'm doing... Am I leaving out a step?
[02:24:22] *** Quits: jaen (jaen@moz-ifmik2.copit.pl) (Connection closed)
[02:24:23] *** Joins: rmgk_ (ragnar@moz-p56990.dyn.telefonica.de)
[02:24:35] <aatch> savage884, what are you doing?
[02:24:46] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[02:25:13] *** Quits: ascarter (ascarter@moz-705hf8.wa.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:25:13] *** Quits: lenstr (lenstr@moz-nde.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[02:25:14] * aatch wonders if we should get "Please provide some example code with your question" added to the topic.
[02:25:38] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[02:25:54] <niconii> LysanderAkili: basically, structs are (kinda) like objects, and traits are various things you can implement *for* structs
[02:26:17] *** Joins: posborne (posborne@moz-9hioom.mn.comcast.net)
[02:26:36] <niconii> LysanderAkili: for instance, you could have a `struct MyNumber { n: i32 };`
[02:26:38] <savage884> aatch: ... Well, it honestly doesn't seem to matter what I'm doing. In this case, I'm trying to return a tuple containing a usize and a string, and I thought I'd use try! to spit out the usize, but that doesn't work because try!'s early return is of type [mumble] and my Result<> type there isn't.
[02:27:10] <niconii> LysanderAkili: now, there's a trait called Add, with one method called add()
[02:27:29] *** Quits: zz_kimundi (kimundi@moz-fik1u8.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:27:47] <aatch> savage884, so try! is specifically for the pattern of "unpack the Ok of Result or return".
[02:27:48] *** Quits: rmgk (ragnar@moz-73kl9h.dyn.telefonica.de) (Ping timeout: 121 seconds)
[02:27:56] *** Quits: posborne (posborne@moz-9hioom.mn.comcast.net) (Quit: Leaving)
[02:28:12] *** Joins: posborne (posborne@moz-9hioom.mn.comcast.net)
[02:28:39] <savage884> aatch: Yes. So when is that ever useful? If your function matches exactly the signature of some library function (e.g. parse::<usize>()), why not just use the library function instead of writing your own and using try! ?
[02:28:43] <aatch> savage884, try! will attempt to convert the error type from the Result into the error type of the Result the function returns, but you have to add that yourself.
[02:28:52] <LysanderAkili> Hmm okay. 
[02:29:06] <aatch> (Add the conversion)
[02:29:08] *** Joins: meteredsection (meteredsect@moz-ersuj2.wa.comcast.net)
[02:29:13] *** Joins: zz_kimundi (kimundi@moz-tnjjh1.dip0.t-ipconnect.de)
[02:29:14] <savage884> aatch: See, now, *there's* the answer I was after. So I have to find out which error types I want to convert from and add a From trait for all of them?
[02:29:30] *** zz_kimundi is now known as kimundi
[02:29:34] <aatch> savage884, also, all io operations have the same error type, so you can use that error return.
[02:29:48] *** Joins: fdaop (Thunderbird@moz-aovp8j.ocn.ne.jp)
[02:29:48] <aatch> savage884, I don't think you even need to do that.
[02:29:57] <savage884> So then what is it I need to do?
[02:30:07] <borromakot> how would I make a trait where the return value has to be the same type as the type that implements it?
[02:30:13] <aatch> savage884, I think you can implement an Error trait, it may have changed.
[02:30:24] <aatch> borromakot, you can specify `-> Self`
[02:30:28] <niconii> LysanderAkili: if you implement Add for MyNumber, you can, for example, add two MyNumbers with the + operator
[02:30:37] <borromakot> oh, duh.  I tried a lot of things, just not Self.
[02:30:49] *** Joins: eric_lagergren (barsonme@moz-jganp7.wa.comcast.net)
[02:30:50] <niconii> LysanderAkili: so a trait isn't a "thing" on its own, it just defines behavior that should exist across a bunch of types
[02:30:54] <savage884> aatch: Implementing an error trait doesn't actually help unless I call out to some other function (in try!) that returns a result including the thing I just implemented it on.
[02:31:01] <savage884> So it sounds like the conversion is the way to go?
[02:31:16] *** Quits: jwatt (roslea@jwatt.irc.users.mozilla.org) (Ping timeout: 121 seconds)
[02:31:29] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[02:31:39] *** Joins: zyphrus (David@moz-nhi.pas.98.101.IP)
[02:31:39] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[02:31:55] <darkstalker> cargo sends it's messages via stdout it seems.. so it contaminates the output of: cargo run > out_file
[02:31:58] <darkstalker> why not stderr?
[02:31:58] *** Joins: rouma (zack@moz-stcfbs.pekn.hg8m.2000.2604.IP)
[02:32:08] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[02:32:15] <LysanderAkili> ohh thanks for the clarification, niconii 
[02:33:37] <Johannes> aatch: still here? I changed the code and now i return instead of clone() of Rc<> a &mut Box<MyTrait>. Of course, now I get error about lifetimes. How should I add lifetimes in this case? I find it difficult when dealing with boxed traitobjects..
[02:33:48] <aatch> savage884, Ok, so you can implement a specific From for the type you you want from the type you expect, or you can use a more generic impl and have impl<E: Error> From<E> for MyError
[02:33:57] *** Joins: wei2912 (wei2912@moz-ekt.mrh.156.175.IP)
[02:34:11] *** Quits: t4nk076 (bzlandfill@moz-5s3f9f.home.otenet.gr) (Quit: CGI:IRC (Ping timeout))
[02:34:29] <aatch> Johannes, an example would be useful.
[02:34:31] *** Joins: kazimuth (james@moz-obp.1p3.189.18.IP)
[02:35:03] *** Quits: rbranson (rbranson@moz-6dc2b6.mycingular.net) (Quit: Computer has gone to sleep.)
[02:35:04] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[02:35:08] <aatch> Johannes, it sounds like the lifetime errors are actually doing their job in this case, preventing you from doing somthing wrong.
[02:35:17] *** Joins: winding-lines (textual@moz-g7k4j8.ca.comcast.net)
[02:35:38] <posborne> So, who knows anything about fat pointers?
[02:35:48] <niconii> LysanderAkili: you can also define generic functions which work with all types that implement a certain trait, for instance:
[02:35:49] <Johannes> aatch: yeah i understand that.. implementing them is difficult..
[02:35:50] <aatch> Johannes, since if you're doing what I think you're doing, it's also why the previous version had dynamic borrow errors.
[02:35:57] <soma> Hello! Will rust natively support runtime codegen? 
[02:36:05] <aatch> soma, probably not.
[02:36:09] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[02:36:15] <posborne> Here's the error I'm getting...
[02:36:18] <posborne> illegal cast; cast from fat pointer: `*mut [u8]` as `usize`
[02:36:25] <aatch> soma, it's not really designed for it.
[02:36:39] <posborne> Trying to create this structure for an ioctl: http://www.cs.fsu.edu/~baker/devices/lxr/http/source/linux/include/linux/spi/spidev.h#L85
[02:36:44] *** Joins: Rusky (russell@moz-jv0v5q.slkc.qwest.net)
[02:36:56] <aatch> posborne, so a fat pointer is a pointer to an "unsized" type, which is a type that has an unknown size at compile time.
[02:37:20] <posborne> Yes, right now I have a Box<T>
[02:37:20] *** Quits: Rusky (russell@moz-jv0v5q.slkc.qwest.net) (Connection closed)
[02:37:26] <soma> aatch: oh. maybe someone could design a compiler plugin for this usage?
[02:37:27] *** Quits: DerisiveLogic (smuxi@moz-g93io6.res.rr.com) (A TLS packet with unexpected length was received.)
[02:37:42] <niconii> playbot: fn sum<T: Add>(a: T, b: T, c: T) { a + b + c }   ( sum(0i16, 325i16, 65i16), sum(0u8, 2u8, 10u8), sum(10f32, 199f32, 12f32) )
[02:37:43] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[02:37:43] -playbot- <anon>:9:19: 9:22 error: use of undeclared trait name `Add`
[02:37:43] -playbot- <anon>:9         fn sum<T: Add>(a: T, b: T, c: T) { a + b + c }   ( sum(0i16, 325i16, 65i16), sum(0u8, 2u8, 10u8), sum(10f32, 199f32, 12f32) )
[02:37:43] -playbot- output truncated; full output at: http://bit.ly/1AnAuVj
[02:37:48] <niconii> oops
[02:37:49] <savage884> aatch: I don't think the generic implementation works anymore.
[02:37:55] <niconii> playbot: use std::ops::Add; fn sum<T: Add>(a: T, b: T, c: T) { a + b + c }   ( sum(0i16, 325i16, 65i16), sum(0u8, 2u8, 10u8), sum(10f32, 199f32, 12f32) )
[02:37:57] -playbot- output truncated; full output at: http://bit.ly/1QRrkuQ
[02:38:07] <aatch> posborne, it's called a fat pointer because you have a pointer to the data and an extra word for the runtime information.
[02:38:12] <niconii> playbot: use std::ops::Add; fn sum<T: Add>(a: T, b: T, c: T) -> T { a + b + c }   ( sum(0i16, 325i16, 65i16), sum(0u8, 2u8, 10u8), sum(10f32, 199f32, 12f32) )
[02:38:13] -playbot- output truncated; full output at: http://bit.ly/1AnAxjV
[02:38:20] <savage884> aatch: It claims I have a conflicting implementation (in exactly the same spot). I think some kind of constraint got tightened or something.
[02:38:22] <posborne> aatch: So, do I need to move away from Box<T> (which might be tricky)
[02:38:24] * niconii facepalms
[02:38:26] <aatch> posborne, the exact contents of the extra word depends on the type in question.
[02:38:49] <Johannes> aatch: i tried following this http://stackoverflow.com/questions/26212397/references-to-traits-in-structs
[02:38:51] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[02:38:52] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[02:38:58] <posborne> aatch: What is my best bet for getting a pointer suitable for passing to the kernel?
[02:39:07] *** Joins: Rusky (russell@moz-jv0v5q.slkc.qwest.net)
[02:39:19] <niconii> ...okay so you can't do that because a + b isn't guaranteed to give something you can add
[02:39:26] <posborne> It seeems that rust, rightly, is preventing me from introducing some bug
[02:39:51] <niconii> playbot: use std::ops::Add; fn sum<T: Add>(a: T, b: T) -> T { a + b }   ( sum(0i16, 325i16), sum(0u8, 2u8), sum(10f32, 199f32) )
[02:39:51] *** Quits: Rusky (russell@moz-jv0v5q.slkc.qwest.net) (Connection closed)
[02:39:52] -playbot- <anon>:9:62: 9:67 error: mismatched types:
[02:39:53] <Mutabah> niconii: You can use Add<Output=T> (or whatever the type is)
[02:39:53] -playbot-  expected `T`,
[02:39:53] -playbot- output truncated; full output at: http://bit.ly/1QRrF0D
[02:40:09] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[02:40:22] *** Joins: warmwaffles (warmwaffles@moz-6gpnl1.res.rr.com)
[02:40:27] <aatch> posborne, what is the type you actually have, since if you have a slice, then there are other ways of getting the pointer.
[02:40:59] <niconii> playbot: use std::ops::Add; fn sum<T: Add<Output=T>>(a: T, b: T, c: T) -> T { a + b + c }   ( sum(0i16, 325i16, 65i16), sum(0u8, 2u8, 10u8), sum(10f32, 199f32, 12f32) )
[02:41:00] -playbot- (390, 12, 221)
[02:41:05] *** Joins: envi_un (envi@moz-ih5.olo.169.121.IP)
[02:41:09] <niconii> that'll teach me not to test these things ahead of time
[02:41:24] <posborne> aatch: Currently, I have a vector, since I do not know the size for SPI transfers until runtime
[02:41:40] <niconii> so yeah! here we have a function that works for multiple types, as long as you can add them, and the addition returns the same type
[02:41:46] <aatch> Johannes, hmm, try adding explicit lifetimes.
[02:42:28] <posborne> aatch: actually, it looks like right now I have this: tx_buf: Option<Box<[u8]>>
[02:42:34] *** Joins: Rusky (russell@moz-jv0v5q.slkc.qwest.net)
[02:42:40] <niconii> (usually it's not this painful, it's just that Add has an associated type called Output which i failed to take into account...)
[02:42:59] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[02:42:59] *** ChanServ sets mode: +o erickt
[02:42:59] *** Quits: Rusky (russell@moz-jv0v5q.slkc.qwest.net) (Connection closed)
[02:43:01] <Johannes> aatch: in the stackoverflow reply they unbox it and hand out a reference. is that preferred over handing out a reference to the box?
[02:43:02] *** Quits: Takronix (Takronix@moz-nm15k0.hr.cox.net) (Connection closed)
[02:43:21] <aatch> posborne, ok, there's a `as_ptr()` method on slices that will get you what you want.
[02:43:26] <aatch> Johannes, yeah, that too.
[02:43:29] <aji> having more borrow errors, pasting code real quick
[02:43:55] <aji> https://gist.github.com/aji/f8886154f753f9471551#file-model-rs-L38-L43
[02:43:59] *** Quits: housl (housl@moz-qnjt4k.ut.comcast.net) (Quit: WeeChat 1.1.1)
[02:44:19] <aatch> Johannes, not really worth returning a &mut Box<T> most of the time, since it's just indirection at that point (there are some valid uses, but not many).
[02:44:21] <posborne> aatch: Thanks, I'll look that up and give it a try.  Figured there must be a way
[02:44:26] <aji> it's saying the borrow of c and u as immutable ends on line 43
[02:44:37] *** Quits: envi_u (envi@moz-ih5.olo.169.121.IP) (Ping timeout: 121 seconds)
[02:44:40] <aji> is there a way to force it to end before 41?
[02:44:45] <warmwaffles> is it common practice to define a `fn new` for structs?
[02:44:59] <aji> tangentially, why is this pattern not allowed by the borrow checker?
[02:45:09] <scott> niconii: in the two-argument case you can make it work without constraining the + output type:
[02:45:11] <scott> playbot: use std::ops::Add; fn sum<T: Add>(a: T, b: T) -> T::Output { a + b }   ( sum(0i16, 325i16), sum(0u8, 2u8), sum(10f32, 199f32) )
[02:45:12] -playbot- (325, 2, 209)
[02:45:29] <niconii> scott: ahhh, i see
[02:46:37] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[02:46:56] <aatch> aji, so the issue is that when you pass `c` and `u` into tChangeUser::new, they're re-borrowed for the lifetime of cu.
[02:47:18] *** Quits: savage884 (dev@moz-39ha0d.com) (Quit: leaving)
[02:47:29] <aji> does that mean i can't change c and u at all for the entire lifetime of cu?
[02:47:31] *** Joins: zzmp (zzmp@moz-32nu3b.12ul.lrlq.5500.2604.IP)
[02:47:43] <aatch> aji, yes.
[02:47:52] <aji> i really didn't want to bring Cell and RefCell into this but it's looking increasingly like that's the best/only option
[02:48:12] <aatch> aji, you cannot create reference cycles without either interior mutability or an arena.
[02:48:25] <aji> ah, interesting. good to know!
[02:48:42] <aji> does that mean Rc is safe unless you introduce interior mutability?
[02:49:48] <aatch> aji, Rc is always safe, even with interior mutability (small holes related to leaking certain types notwithstanding).
[02:50:34] <aji> it's not possible to create a reference cycle at all with Rc?
[02:50:36] <Mutabah> aji: The unsafe part there is if you do the interior mutability yourself using UnsafeCell, because there you have to ensure the borrow rules are maintained
[02:50:40] *** Quits: agjacome (agjacome@moz-ma9sfa.dynamic.jazztel.es) (Ping timeout: 121 seconds)
[02:50:44] <aji> ah
[02:50:49] <Mutabah> aji: It is very possible to create a reference cycle with a Rc and RefCell
[02:51:15] <aji> wouldn't that leak?
[02:51:25] <aji> that's what i meant by "safe unless"
[02:51:28] <aatch> aji, anyway, the reason is that if you could create a reference cycle without interior mutability, you'd end up with two &mut pointers to the same place, which is a big violation of Rust's rules.
[02:51:35] <aatch> aji, leaks aren't unsafe.
[02:51:50] <aji> right, that was a bit of a misspeak on my part
[02:52:15] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[02:52:25] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[02:54:08] *** Joins: jbcurtin (jbcurtin@moz-lskisb.LosAngeles1.Level3.net)
[02:56:19] *** Joins: Guest74 (textual@moz-lmfinb.fios.verizon.net)
[02:58:21] *** Quits: saml_ (saml@moz-rkfmct.res.rr.com) (Connection closed)
[02:59:24] *** Joins: archshift (archshift@moz-qhvdod.com)
[02:59:49] *** Quits: chc4 (chc4@moz-pdo0at.ma.comcast.net) (Quit: AHHHHH BEES)
[03:01:26] *** Joins: pr0c (proc@moz-fppnte.dip0.t-ipconnect.de)
[03:01:49] <kalail> weird that newer names seem more abbreviated than before
[03:02:03] <kalail> for e.g. `BufferedReader` vs `BufReader`
[03:02:10] <kalail> that former seemed more intuitive and readable to me
[03:02:52] *** Joins: aaboagye (Guest01932@moz-v034cr.ca.comcast.net)
[03:04:43] <niconii> kalail: old io actually had BufferedReader *and* BufReader
[03:04:51] <kalail> intresting
[03:04:54] *** Quits: proc (proc@moz-pkbrc1.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[03:05:18] <mbrubeck> Yeah, the combo names occasionally mix me up... like IntoIterator and IntoIter
[03:05:26] <mbrubeck> Currently we have BufRead and BufReader
[03:05:48] <niconii> kalail: BufReader read a buffer, BufferedReader wrapped a Reader, and then there was a Buffer trait...
[03:05:50] *** Joins: errordeveloper (ilya@moz-rfe.3fh.206.90.IP)
[03:06:01] <niconii> kalail: now we have BufRead the trait and BufReader the struct
[03:06:25] <niconii> kalail: so i think this is an improvement overall
[03:06:51] <soma> Hello! I've found out that rustc crate supports llvm IR codegen. Is it a good choice to use this?
[03:06:56] <mbrubeck> Rust 0.1 had crazy many abbreviations
[03:07:07] <mbrubeck> Graydon had an aversion to identifiers >5 chars
[03:07:29] <kalail> I would have still advocated for `BufferedRead` and `BufferedReader`, but hey
[03:07:54] <niconii> kalail: eh, i think buf as short for buffer is common enough
[03:08:09] <reem> BufferedReader is just soooo long
[03:08:14] <kalail> maybe. Vec works similarly.
[03:08:21] <niconii> kalail: i've certainly used "buf" a few times myself, in a number of different languages
[03:08:26] *** Quits: jbcurtin (jbcurtin@moz-lskisb.LosAngeles1.Level3.net) (Ping timeout: 121 seconds)
[03:08:27] <kalail> it is but it is readable to anyone
[03:08:32] <reem> BufferedReader<NonBlock<TcpStream>>> <- *one* type, for instance
[03:08:33] <kalail> I guess I try to always be explicit
[03:08:36] <kalail> haha
[03:08:38] <kalail> yeah that's long
[03:08:55] <reem> throw some Rc or Box into the mix and things get ridiculous
[03:08:55] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[03:09:39] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[03:09:49] <reem> we would have &’a mut BufferedReader<&’b mut NetworkStream> in hyper, for a practical example
[03:10:04] *** Quits: errordeveloper (ilya@moz-rfe.3fh.206.90.IP) (Ping timeout: 121 seconds)
[03:10:11] <kalail> it's pretty readable I'll say that.
[03:10:17] <kalail> long, yes
[03:10:21] <reem> so is BufReader :P
[03:10:23] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[03:10:46] <kalail> I guess I like to write code that is easy to read for even beginners, those who may not know Buf is short for Buffer
[03:10:53] <kalail> But that just seems to be me mostly
[03:11:14] <niconii> type HelpMe = ReferenceCounted<HeapAllocated<BufferedReader<NonBlock<TransmissionControlProtocolStream>>>>>;
[03:11:24] <kalail> type FlipATable ^
[03:11:29] *** Joins: p1start (p1start@moz-nftjhe.org)
[03:11:44] <reem> NonBlocking*
[03:11:53] <kalail> long, but hella readable
[03:11:53] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[03:12:01] <reem> I would argue that’s very not readable
[03:12:24] <reem> it’s so long that I’ve forgotten what we’re even talking about by the time I finished reading it
[03:12:29] <kalail> haha
[03:12:32] <mbrubeck> very old rust had an `sbuf` type! http://bluishcoder.co.nz/2011/03/31/a-quick-look-at-the-rust-programming-language.html
[03:13:14] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[03:13:32] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:13:32] *** ChanServ sets mode: +o erickt
[03:13:35] <kalail> type ItsFine = Rc<Box<BufReader<NonBlock<TCPStream>>>>>;
[03:13:39] *** Joins: Hail_Spacecake (quesa@moz-djc.ktt.28.204.IP)
[03:13:42] *** Quits: choplin (choplin@moz-h8t.4df.82.157.IP) (Connection closed)
[03:13:46] <Hail_Spacecake> what's the procedure for reporting a rust compiler bug?
[03:13:55] <scott> optimizing for beginners isn't good language design anyway
[03:13:57] <niconii> mbrubeck: oh geez, old rust looks so weird
[03:13:59] <reem> Hail_Spacecake: make a github issue on rust-lang/rust
[03:14:05] <kalail> scott: agree
[03:14:05] <Mutabah> Hail_Spacecake: Make reproduction in playpen (if you can), and make an issue on rust-lang/rust
[03:14:07] <scott> you're a beginner for a short time, and experienced for much longer
[03:14:18] <aatch> mbrubeck, close, graydon didn't want keywords longer than 5 characters.
[03:14:45] <mbrubeck> aatch: yes, but I've also seen his identifiers :)
[03:14:46] *** Quits: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:14:54] <reem> extern and static say hi :)
[03:15:04] <aatch> reem, "continue"
[03:15:12] * mbrubeck remembers keywords "rec", "tup", and "alt"
[03:15:12] <aatch> reem, it used to be called "loop"
[03:15:23] <huon> (before that it was 'cont', I believe)
[03:15:24] *** bentley|away is now known as bentley
[03:15:26] <reem> oh man that is confusing
[03:15:32] <mbrubeck> https://mail.mozilla.org/pipermail/rust-dev/2011-May/000435.html
[03:15:51] <aatch> mbrubeck, what was tup? Named tuples?
[03:15:55] *** Quits: zzmp (zzmp@moz-32nu3b.12ul.lrlq.5500.2604.IP) (A TLS packet with unexpected length was received.)
[03:16:15] <niconii> so much of rust has changed that probably less than 10% of what's in that article is still even valid
[03:16:16] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[03:16:16] <mbrubeck> aatch: just tuples
[03:16:29] *** Quits: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP) (Quit: 堕入 /dev/null)
[03:17:48] <Hail_Spacecake> hm, I made a bunch of different changes
[03:17:51] <aatch> mbrubeck, ah, I see that it was to avoid the fact that a single-element tuple and parenthesised expression would have the same syntax.
[03:17:55] <Hail_Spacecake> to a fairly large project I have going
[03:18:13] <Hail_Spacecake> I can produce a diff from the last time it worked but that's still a fair amount of code
[03:18:35] *** Quits: idegen (greg@moz-lc7.qlb.53.50.IP) (Quit: Leaving.)
[03:19:37] <aatch> Hail_Spacecake, I might be able to help, I've got a fair bit of experience minimizing cases like these. Do you get any indication of file/line in the error?
[03:20:16] <Hail_Spacecake> nope
[03:20:28] <aatch> What is the error?
[03:20:49] *** Joins: proteu (Mibbit@moz-b5ebcb.members.linode.com)
[03:21:09] <archshift> hmmm
[03:21:13] <Hail_Spacecake> http://pastebin.com/U9DgmYtv
[03:21:16] <Hail_Spacecake> er, that's the backtrace
[03:21:23] <Hail_Spacecake> error is error: internal compiler error: Impl DefId { krate: 2, node: 25768 } was matchable against Obligation(predicate=Binder(TraitPredicate(<f64 as core::ops::Mul<_>>)),depth=1) but now is not
[03:21:26] <archshift> is there a convenient way to specify the maximum length that a bufreader will read?
[03:21:59] <Hail_Spacecake> and I can tell you taht something in https://github.com/neunenak/rust-raytracer/commit/ccd270280d0a8a38592e4eeb0a0ea3d7fefc64ea broke it
[03:22:01] *** Quits: winding-lines (textual@moz-g7k4j8.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:22:04] <aatch> Hail_Spacecake, ah, I think I know this bug.
[03:22:31] <Hail_Spacecake> do tell! :)
[03:22:34] <aatch> Hail_Spacecake, I'll check to see if it's known one, but I think I encountered the same bug with a different expression earlier.
[03:22:54] <WindowsBunny> archshift: reader.take(amount)
[03:23:19] *** Quits: }ls{ (uhelp@moz-pb0cto.dip0.t-ipconnect.de) (Quit: User terminated by real life interrupt)
[03:24:21] <archshift> ah, neat
[03:24:22] <aatch> Hail_Spacecake, I need to double check, but I think that operator overloading can cause the type system to "lose" the trait implementation for the LHS type if there isn't an `impl Op<Rhs> for Lhs`
[03:24:26] *** Quits: rmdashrf (rmdashrf@moz-n1r.cr0.54.128.IP) (Quit: WeeChat 0.4.2)
[03:25:05] *** Quits: kazimuth (james@moz-obp.1p3.189.18.IP) (Quit: Textual IRC Client: www.textualapp.com)
[03:25:19] <aatch> I had a wierd case earlier where I tried diving a float by an integer, and suddenly every float division in my code produced the same error.
[03:25:32] *** Quits: ytain (ytain@moz-hut.ooe.161.108.IP) (Quit: Textual IRC Client: www.textualapp.com)
[03:25:43] *** Joins: lenstr (lenstr@moz-nde.vju.25.171.IP)
[03:25:45] *** Joins: kazimuth (james@moz-grg.rl9.111.18.IP)
[03:25:46] <aatch> Fortunately I don't have many divides in my code.
[03:26:06] <Hail_Spacecake> hm, most of this commit is adding a new type that uses f64's instead of u8's
[03:26:08] <Hail_Spacecake> and converts between them
[03:26:22] <Hail_Spacecake> which might not be the best solution for whta I"m trying to do anyway
[03:26:22] *** Quits: lenstr (lenstr@moz-nde.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[03:26:24] <darkstalker> how can i make something that writes to a file or stdout? tried this but doesn't work
[03:26:26] <darkstalker> let mut file = match env::args().nth(1) { Some(name) => File::create(name).unwrap(), None => stdout() };
[03:26:29] *** Joins: lenstr (lenstr@moz-nde.vju.25.171.IP)
[03:27:43] <aatch> Hail_Spacecake, well I'll investigate a little, in the meantime, I suggesting looking for places where you're doing `float * integer`
[03:27:55] <borromakot> not to murder anyone with monotony(i keep asking about this since I still haven't been able to figure it out), but I was wondering if anybody might be able to take a few minutes to look at an IO piping issue I'm having.  I'm using std::io::copy() to copy from one stdio::piped() to another.  When I do this from one Command to another, then I don't run into any issues when I gather the output of the second using output().  However, if I do a second io
[03:27:55] *** Quits: CMCDragonkai (CMCDragonka@moz-v01.321.218.216.IP) (Connection closed)
[03:27:57] <WindowsBunny> darkstalker: File and stdout have different types
[03:28:00] *** Quits: lenstr (lenstr@moz-nde.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[03:28:06] *** Joins: CMCDragonkai (CMCDragonka@moz-v01.321.218.216.IP)
[03:28:09] <WindowsBunny> darkstalker: However, they both implement the same trait Write
[03:28:20] <WindowsBunny> darkstalker: So you can Box them as Box<Write>
[03:29:49] *** Quits: kazimuth (james@moz-grg.rl9.111.18.IP) (Ping timeout: 121 seconds)
[03:29:49] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[03:29:57] *** Quits: Guest74 (textual@moz-lmfinb.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:30:05] <Hail_Spacecake> lol
[03:30:08] <Hail_Spacecake> yeah that was it
[03:30:15] <Hail_Spacecake> the three lines where I multiply a float by 255
[03:30:19] <Hail_Spacecake> change it to 255.0 and it works
[03:30:44] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[03:30:58] <Hail_Spacecake> shoudl I still report this or is this something the rust team is aware of already?
[03:30:59] <darkstalker> WindowsBunny: i get this error: the trait `core::marker::Sized` is not implemented for the type `std::io::Write`
[03:31:07] <darkfox> Is there any method to outside of the root of a rust file (without setting #[cfg(feature = "...")] against an item) to have compile-time determined if a block of code is included?
[03:31:25] *** Quits: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de) (Quit: My Zenbook has gone to sleep. ZZZzzz...)
[03:31:31] <WindowsBunny> darkstalker: You cannot have a variable whose type is a trait
[03:31:41] <WindowsBunny> darkstalker: You can only work with trait objects behind pointers
[03:31:49] <WindowsBunny> darkstalker: Hence my suggestion to put it in a Box
[03:31:59] <darkfox> WindowsBunny: Box<Trait>
[03:32:03] <Mutabah> darkfox: Conditional compilation is controlled using #[cfg()] so...
[03:32:03] <darkfox> Right
[03:32:16] *** Parts: proteu (Mibbit@moz-b5ebcb.members.linode.com) ()
[03:32:17] <darkfox> Mutabah: Yes; at the item level; not block level.
[03:32:18] *** Joins: gopar (gopar@moz-5039uj.ca.comcast.net)
[03:32:26] <darkstalker> something like this? Box::<Write>(stdout())
[03:32:40] *** Joins: mib_3jmb0v (Mibbit@moz-ejhggg.il.comcast.net)
[03:32:41] <reem> Box::new(stdout()) as Box<Write>
[03:32:52] <reem> sometimes you can leave off the as if it is inferrable
[03:32:55] <Mutabah> darkfox: Ah, within a function? No, sadly
[03:33:08] <Mutabah> darkfox: I encountered that today, my workaround was a local worker function
[03:33:13] <Mutabah> s/worker/helper/
[03:33:25] *** Quits: mib_3jmb0v (Mibbit@moz-ejhggg.il.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:33:28] <darkfox> Mutabah: I guess I could use cfg to define inline functions, where they need then to have a default...
[03:33:30] <reem> Hail_Spacecake: When in doubt, report the issue. Worst case it gets closed as a dupe, no harm done.
[03:33:45] <aatch> reem, Hail_Spacecake, https://github.com/rust-lang/rust/issues/24138
[03:33:53] <aatch> It's almost certainly that ^^
[03:34:01] <darkfox> Mutabah: Macro maybe to help build them? (If present, then code; if not blank inline function = nothing)
[03:34:13] <darkstalker> reem: that worked, thanks
[03:34:22] <niconii> darkfox, Mutabah: isn't there `if cfg!(...) { ... }`? i'm not sure exactly what's being asked here
[03:34:24] <darkstalker> im super new to rust, just started today :3
[03:34:31] <Mutabah> niconii: Ah, yes, that exists
[03:34:52] <Mutabah> (doesn't help for calling an alternative to an unstable feature though)
[03:34:59] <reem> you can only use if cfg!(..) { .. } if both branches compile either way
[03:35:06] <Mutabah> ^ that
[03:35:08] <reem> but if one branch references a nonexistent symbol on some platforms…
[03:35:18] <niconii> ah, okay
[03:35:24] <aatch> Which isn't necessarily a bad thing, depending on what you're doing.
[03:35:39] <darkfox> Ah; if cfg!() would fit then! Thanks!
[03:36:04] <aatch> But cfg! is designed for stuff like debugging output.
[03:36:50] <borromakot> does rust have any tail recursion optimization?
[03:37:09] <aatch> borromakot, it will sometimes do it, but it's not guaranteed.
[03:37:14] <darkfox> aatch: For context; I'm having compile time configuration (cargo [feature]s) that determine which modules exist and are configured.
[03:37:23] *** Joins: rmdashrf (rmdashrf@moz-n1r.cr0.54.128.IP)
[03:37:33] *** Quits: glennpratt (glennpratt@moz-neq2gf.dsl-w.verizon.net) (A TLS packet with unexpected length was received.)
[03:37:41] <borromakot> aatch: is there any way to make it do it?  to sort of…demand that the stack be overwritten?
[03:37:47] <borromakot> **frame
[03:37:51] <aatch> borromakot, nope.
[03:37:59] *** Joins: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[03:38:14] *** Joins: brson (brson@moz-ues.tdl.56.172.IP)
[03:38:14] *** ChanServ sets mode: +ao brson brson
[03:38:30] *** Joins: sp0 (seth@moz-m97a3k.internode.on.net)
[03:38:31] *** Joins: alex-abreu (alex@moz-j54ho8.biz.rr.com)
[03:39:21] <aatch> borromakot, but if you don't use any on-stack state between the tail call and the return, it'll normally do a tail-call.
[03:39:34] *** Joins: davebettin (davebettin@moz-acc.cl4.35.72.IP)
[03:39:56] <darkfox> Wait; no cfg! won't fit - as it depends on what would then not exist... Looks like I will need to use inline cfg-handled functions and call them - let them be null when not available.
[03:39:57] *** Quits: soma (Mibbit@moz-ef5.7ab.191.107.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:39:57] <aatch> borromakot, but it's difficult to set up guarantees due to things like destructors.
[03:40:20] *** Joins: kieran (kieran@moz-c5gk5j.ihug.co.nz)
[03:40:26] <borromakot> aatch: that makes sense.
[03:41:11] *** Joins: choplin (choplin@moz-h8t.4df.82.157.IP)
[03:41:36] <aatch> borromakot, in general when people ask "does Rust have tail-call optimisation?", they mean "does Rust have guaranteed TCO?". Which are very different things.
[03:43:01] <huon> borromakot: it is possible to guarantee TCO via `loop` (doesn't always work/can be hard to write, but usually possible):
[03:43:12] <darkfox> Hmm... #[cfg...] doesn't appear to have a negative form does it? o.o (If a feature isn't present... or better an 'else')
[03:43:35] <huon> borromakot: fn foo(a, b, c) { ... foo(...) } becomes `let mut a; let mut b; let mut c; loop { ...; a = ...; b = ...; c = ...; }`
[03:43:36] <aatch> I'm definitely sympathetic to zwarich's stance that destructors are more trouble than they're worth.
[03:43:40] <huon> darkfox: #[cfg(not(...))]
[03:43:56] <aatch> huon, damn, beat me to it :P
[03:43:57] <niconii> borromakot: that being said, there is a postponed PR for guaranteed tail-call optimization
[03:43:57] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[03:43:57] <huon> darkfox: (there's also all/any)
[03:44:02] <darkfox> huon: Oh; thanks - forgot about not. :D
[03:44:10] <niconii> borromakot: see https://github.com/rust-lang/rfcs/pull/81
[03:44:19] <darkfox> Yea, remember them all now. :D (I'm a little bit rust[y].)
[03:44:26] <borromakot> word, thanks guys :D
[03:44:28] <huon> darkfox: heh
[03:44:29] *** Quits: kieran (kieran@moz-c5gk5j.ihug.co.nz) (Ping timeout: 121 seconds)
[03:44:43] *** Joins: negge_ (nathan@moz-p79l68.fios.verizon.net)
[03:44:51] <borromakot> on a separate note, I figured out my pipe() thing!  which makes me very happy
[03:44:54] <huon> aatch: :D
[03:44:56] *** Joins: winding-lines (textual@moz-g7k4j8.ca.comcast.net)
[03:45:12] <borromakot> Mutabah: and many others who proposed solutions will be happy to hear me stop asking about it.
[03:45:14] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[03:45:21] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[03:45:24] <Hail_Spacecake> btw
[03:45:29] <Hail_Spacecake> do we know how rust got named that?
[03:45:38] *** Quits: choplin (choplin@moz-h8t.4df.82.157.IP) (Connection closed)
[03:45:41] <aatch> Heh.
[03:45:46] *** Joins: proteu (linht@moz-b5ebcb.members.linode.com)
[03:45:57] <aatch> There's no canonical story behind the name.
[03:46:20] <Hail_Spacecake> nobody who was involved with the earliest state of rust is dead yet, right?
[03:46:25] <Hail_Spacecake> I hope not anyway
[03:46:33] <WindowsBunny> Hail_Spacecake: It's named after the fungus
[03:46:38] <borromakot> Hail_Spacecake: what a risky question to ask.
[03:46:38] <Hail_Spacecake> it would be a good thing to record for prosterity
[03:46:44] <borromakot> lol
[03:46:49] *** Quits: mythmon (mythmon@moz-n45.3os.241.192.IP) (Connection closed)
[03:46:49] *** Joins: choplin_ (choplin@moz-h8t.4df.82.157.IP)
[03:46:54] <aatch> WindowsBunny, supposedly, Graydon never really kept the story straight.
[03:47:02] <WindowsBunny> http://en.wikipedia.org/wiki/Rust_%28fungus%29
[03:47:30] <WindowsBunny> aatch: Let's just stick with it, because it's the coolest story
[03:47:35] <Hail_Spacecake> Graydon is the original mozilla dev who started doing rust as a side project, right?
[03:47:36] <aatch> WindowsBunny, fair enough.
[03:47:41] *** Joins: mythmon (mythmon@moz-n45.3os.241.192.IP)
[03:47:42] <Hail_Spacecake> and I guess he's not involved anymore?
[03:48:01] <aatch> Hail_Spacecake, correct, he stepped down a while ago though.
[03:48:59] <niconii> there's this: https://www.reddit.com/r/rust/comments/27jvdt/internet_archaeology_the_definitive_endall_source/
[03:49:09] <darkfox> huon: You might have a better idea for how to go about this...  The problem I'm having is I'm having cargo defined features #[cfg(feature = "UdpTransport)] which is including otherwise optional modules. When it comes to using the module - I need in the main function an ability to configure and setup the 'UdpTransport' and ignore it's existance when it isn't compiled in.
[03:50:22] <aatch> darkfox, split the main steps of the main function into seperate functions, then have a different main function based on the #[cfg] that calls different steps.
[03:50:47] *** Joins: rcx (rcx@moz-vqm.jmj.174.217.IP)
[03:50:58] *** Joins: GGist (Mibbit@moz-st7v59.wa.comcast.net)
[03:51:13] <darkfox> aatch: That quickly createa a lot of dupplicated code... :/
[03:51:51] *** Quits: proteu (linht@moz-b5ebcb.members.linode.com) (Quit: leaving)
[03:52:08] *** Quits: Wild_Cat (Max@moz-na0tak.dsl.teksavvy.com) (Ping timeout: 121 seconds)
[03:52:08] <huon> aatch: one way would be to have #[cfg(not(feature = "UdpTransport"))] mod udp { fn setup() {} }, and then main would call `udp::setup()` unconditionally, and the unsupported case would just do nothing
[03:52:13] <huon> erm, darkfox ^
[03:52:14] *** Quits: dmac_ (dmac@moz-4kcd1c.ca.comcast.net) (Ping timeout: 121 seconds)
[03:52:17] *** Quits: eric_lagergren (barsonme@moz-jganp7.wa.comcast.net) (Connection closed)
[03:52:33] <huon> macros may help with solving the duplicted code problem
[03:52:34] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[03:52:47] <darkfox> huon: Ah; this would probably work much better. Thanks
[03:53:41] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[03:55:10] *** Joins: Guest74 (textual@moz-lmfinb.fios.verizon.net)
[03:55:15] <huon> darkfox: you could even, say, have `fn setup() { info!("running without UDP support") }` if one wanted some extra debugging output (using crates.io/crates/log )
[03:55:52] *** Joins: sayan (sayan@moz-hbd.i8n.51.106.IP)
[03:56:38] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[03:56:49] *** Quits: rcx (rcx@moz-vqm.jmj.174.217.IP) (Quit: Leaving)
[03:57:31] <darkfox> Might have to restructure some of my decisions... UdpTransport isn't accessible by anything but per a type. :P Ex... let mut r = Router.new(); if r.add::<UdpTransport>(secret_key).configure(socket_address) { ... }
[03:57:37] *** Joins: idk_erikson (quassel@moz-nto6je.hsi04.unitymediagroup.de)
[03:57:43] *** Quits: Guest74 (textual@moz-lmfinb.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:57:48] *** Joins: Guest74 (textual@moz-lmfinb.fios.verizon.net)
[03:59:12] <darkfox> huon: Nice logging suggestion btw - however, I intend to have many transports which could be selected at will by the end user - so don't think it would be suitable for this usecase.
[03:59:43] *** Joins: pr0ctr4p (proc@moz-2s4bc9.dip0.t-ipconnect.de)
[04:00:12] *** Quits: aaboagye (Guest01932@moz-v034cr.ca.comcast.net) (Connection closed)
[04:00:22] *** bentley is now known as bentley|away
[04:00:51] <darkfox> As for a configuration file; probably going to use yaml - which would need to place it's values into a configuration structure - which would also need to be dynamically configured... :P
[04:01:03] <huon> darkfox: ok, sounds like you've got it in control
[04:01:17] <huon> darkfox: (toml is pretty nice for configuration ;) )
[04:01:25] <darkfox> s/yaml/toml/ Yea; :P
[04:01:29] <darkfox> I meant toml XD
[04:02:08] *** Quits: idk_erikson (quassel@moz-nto6je.hsi04.unitymediagroup.de) (Ping timeout: 121 seconds)
[04:03:08] *** Joins: v21 (vee@moz-oin.kug.204.223.IP)
[04:03:10] *** Quits: pr0c (proc@moz-fppnte.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[04:03:10] <darkfox> I think setting up a configuration file would remove half the pain I'm having here - configuration can be cloned and passed to all transports that may or may not be initalized.
[04:03:24] *** Quits: Guest74 (textual@moz-lmfinb.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:03:24] *** Joins: garming (garming@moz-jh7ukh.xtra.co.nz)
[04:04:26] <darkfox> Or better; as a part of the router ... which could (and probably should) enumerate the transports itself... so - no complex code in the main! :D
[04:04:44] * darkfox stops talking - and thinks about macros and toml...
[04:05:02] *** Quits: yichoi (yichoi@moz-t0r.chb.167.121.IP) (Connection closed)
[04:05:16] *** Joins: yichoi (yichoi@moz-t0r.chb.167.121.IP)
[04:06:06] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[04:07:50] *** Joins: Temur (Tarmashirin@moz-e2h.da3.199.117.IP)
[04:08:17] *** Joins: forgottenone (forgottenon@moz-pde.j99.45.92.IP)
[04:08:19] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[04:08:19] *** ChanServ sets mode: +o erickt
[04:09:03] *** Quits: pyon (suckmy@moz-v9d.mdl.7.179.IP) (Ping timeout: 121 seconds)
[04:09:15] *** Joins: xWord (x@moz-tig.3d2.23.185.IP)
[04:10:05] *** Quits: meh (meh@moz-p5gc2m.42-151.net24.it) (Ping timeout: 121 seconds)
[04:10:32] <Sgeo_> If I write a function that returns (Box<Fn() -> i32>, Box<Fn()>), can those functions be sent to other threads or not?
[04:10:40] *** Quits: claudiop (claudiop@moz-sqo2tm.cpe.netcabo.pt) (Ping timeout: 121 seconds)
[04:10:41] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[04:11:01] <Sgeo_> Because when I think about how I would implement something like that, I have a choice between Arc and Rc, but not sure how that gets reflected in the return type
[04:11:11] <p1start> Sgeo_: No. You need (Box<Fn() -> i32 + Send>, Box<Fn() + Send>) instead
[04:11:14] *** Quits: Temur (Tarmashirin@moz-e2h.da3.199.117.IP) (Quit: Leaving)
[04:11:19] <p1start> (I might have missed a few parentheses there)
[04:11:26] *** Joins: pyon (suckmy@moz-v9d.mdl.7.179.IP)
[04:11:27] <Sgeo_> p1start, and Arc allows the closures to be + Send while Rc doesn't?
[04:11:45] <p1start> Sgeo_: Arc *requires* that its contents are Send
[04:11:57] <p1start> And Rc is never Send
[04:12:17] *** Quits: warmwaffles (warmwaffles@moz-6gpnl1.res.rr.com) (Quit: Leaving)
[04:12:19] <Sgeo_> I can imagine using an Arc but forgetting to write +Send in the signature
[04:13:52] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[04:13:59] *** Joins: Temur (Tarmashirin@moz-lpe.g0r.217.117.IP)
[04:14:17] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[04:15:03] *** Quits: zzing (textual@moz-jucm1n.cpe.distributel.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:15:19] <chowmeined> So am I understanding the discussion correctly. RAII isn't dead, you can use destructors to free resources, there are just cases where it can leak so you'll also leak your resources as well in those cases, but thats just a bug. And that the primary issue with the scoped thread API was that it was relying on a destructor guarantee to ensure memory safety, where normally would be a leak bug became a critical issue. Am I understanding this 
[04:15:19] <chowmeined> right?
[04:15:20] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[04:15:35] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[04:15:46] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[04:16:14] <p1start> chowmeined: It’s not a bug that you can leak resources
[04:16:26] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[04:16:33] *** Joins: zzing (textual@moz-jucm1n.cpe.distributel.net)
[04:16:35] <niconii> chowmeined: i believe you're right, yes
[04:16:36] <p1start> The only bug was that scoped relied on destructors being run
[04:16:37] <chowmeined> p1start, by that I meant, its a bug in your own program of course, but its not a bug in rust
[04:16:44] <chowmeined> thats what I meant by saying that
[04:16:49] <p1start> chowmeined: No, leaking is allowed in general
[04:16:56] <p1start> For example, it’s intended that Rc can leak resources
[04:17:19] <chowmeined> That doesn't make sense. If I write a program that leaks, I'd consider that a bug in my code
[04:17:26] <aatch> It's a bug that resources leak, it's not a bug that it's possible.
[04:17:43] <chowmeined> But I'm understanding that its not a bug in rust
[04:17:53] <p1start> chowmeined: Oh, I see what you’re saying now. Yeah, normally it’s a bug to leak resources
[04:17:58] <aatch> (modulo deliberately leaking resources)
[04:18:19] <p1start> But it’s not a bug to *allow* leaking resources in general
[04:18:25] <niconii> yeah, i think we're all basically in agreement here
[04:18:44] *** Quits: xWord (x@moz-tig.3d2.23.185.IP) (Quit: )
[04:18:53] <aatch> Which, hey, might be the point in some programs. Short-lived ones tend to just rely on the OS to clean everything up.
[04:19:08] <niconii> chowmeined: have you seen this yet? http://smallcultfollowing.com/babysteps/blog/2015/04/29/on-reference-counting-and-leaks/
[04:19:08] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[04:19:37] <chowmeined> niconii, yes, that was the one that finally made it all make sense, the earlier discussions were just bits and pieces of the picture
[04:19:39] <aatch> Which any OS worth using day-to-day should do simply because some programs are plain badly written.
[04:19:49] *** Joins: euclio (euclio@moz-l7d.95i.173.134.IP)
[04:19:53] *** Quits: alex-abreu (alex@moz-j54ho8.biz.rr.com) (Ping timeout: 121 seconds)
[04:20:01] <niconii> chowmeined: gotcha. yeah, it was the same with me
[04:20:13] *** Quits: Jesin (Jesin@moz-0l6l1m.eecs.lehigh.edu) (Quit: Leaving)
[04:20:13] *** Quits: winding-lines (textual@moz-g7k4j8.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:20:14] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[04:21:14] <niconii> i was pretty conflicted about the issue, but in the end, i think i agree with niko
[04:21:18] *** Quits: borromakot (Adium@moz-j6pi1a.il.comcast.net) (Quit: Leaving.)
[04:21:52] <aatch> chowmeined, yeah, it all kinda blew up. I think people focussed too much on the fact that there was some memory unsafety and lost sight of the fact that it'd be very difficult to do by accident.
[04:21:57] <chowmeined> the new API for thread::scoped seems just fine
[04:22:17] *** Joins: marsel (user@moz-sjn.bej.180.94.IP)
[04:22:28] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[04:22:39] <niconii> yeah, aturon's proposal really is more elegant, i think
[04:22:41] *** Joins: borromakot (Adium@moz-j6pi1a.il.comcast.net)
[04:22:54] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[04:23:10] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[04:23:32] <chowmeined> aatch, well, the earlier blogs and discussions werent quite clear to those not already involved in the issue
[04:23:39] *** Joins: Guest_ (textual@moz-rtn.fg7.77.192.IP)
[04:23:47] *** Joins: zeebo_ (zeebo@moz-qtpltq.ut.vivintwireless.net)
[04:23:58] <niconii> niko really did a good job with this post
[04:24:03] <chowmeined> some made it seem like you could trigger memory errors with just safe code and cycles
[04:24:12] <chowmeined> others made it sound like people were okay with unsafe code exposing "safe" APIs that could cause memory unsafety in leak situations
[04:24:35] <chowmeined> and some made it sound like you couldnt depend on destructors at all
[04:24:57] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[04:25:08] <aatch> chowmeined, well that last point is technically true.
[04:25:37] <chowmeined> aatch, it is but saying it like that is misleading, it makes people think you cant do RAII
[04:25:44] *** Quits: brson (brson@moz-ues.tdl.56.172.IP) (Ping timeout: 121 seconds)
[04:26:32] <aatch> chowmeined, I know. It's very much more of a "there is no guarantee that your destructor will be run". Which, in the presence of reference-cycles is kinda obvious.
[04:26:35] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[04:26:47] <chowmeined> but you can, its just that if you leak with a cycle, well yeah, you're going to leak whatever resource you were going to free in your destructor
[04:26:49] <chowmeined> and thats fine
[04:27:08] *** Joins: brson (brson@moz-ues.tdl.56.172.IP)
[04:27:08] *** ChanServ sets mode: +ao brson brson
[04:27:09] <niconii> yeah, i was a bit worried myself about this, because i was thinking of using a guard pattern in my own code, but i wasn't sure if there was a big issue with that
[04:27:25] <chowmeined> thats not surprising at all
[04:28:04] <niconii> but my idea wouldn't run into this issue at all (it's more akin to a mutex guard) so it's fine
[04:28:14] <aatch> There are some legitimate concerns, But they're more along the lines of "ok, are we relying on destructors for memory safety and if so, how do we fix that?"
[04:28:20] *** Joins: lenstr (lenstr@moz-nde.vju.25.171.IP)
[04:28:32] <chowmeined> the actual serious problem that violates most peoples expectations it seems, was the specifics of the thread::scoped API, relying on the destructor for sharing the parent stack frame with a child thread by joining the child
[04:28:57] <darkfox> Anyone here know of any decent toml - rust documentation? Looking at cargo's code isn't quite helping with understanding how to use toml...
[04:29:24] *** Quits: lenstr (lenstr@moz-nde.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[04:29:33] *** Joins: lenstr (lenstr@moz-nde.vju.25.171.IP)
[04:29:55] <niconii> darkfox: there's a toml crate with some documentation: http://alexcrichton.com/toml-rs/toml/index.html
[04:30:19] <darkfox> I've chceked that already... 
[04:30:29] <aatch> Gankro pointed out that a way to prevent a far more common case, where the destructor fixes up some invalid state can be worked around by setting the state to something that can't cause memory errors and restore to the proper state in the destructor.
[04:30:31] *** Joins: hjr3 (hradtke@moz-e235ok.fios.verizon.net)
[04:30:44] <niconii> darkfox: if you want to know about toml itself, that's at https://github.com/toml-lang/toml
[04:31:05] <darkfox> I know toml; I mean... The documentation isn't very verbose with how to use it...
[04:31:09] <aatch> So while you might leak memory or do something similar, you don't get access to unitialized bytes or similar.
[04:31:11] <darkfox> In rust code
[04:31:17] *** Quits: lenstr (lenstr@moz-nde.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[04:31:33] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[04:32:25] <borromakot> hey all, so when I build a Command using Command::new('command'), if I call .spawn() on it, I get a Child.  I'm wondering how I might call generate a child thread in a fashion similar to thread::spawn()
[04:32:44] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[04:32:49] <Sgeo_> So, leaking is possible, but is it less likely than in a GCed or other language?
[04:33:02] <aatch> Sgeo_, pretty much.
[04:33:06] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[04:33:07] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[04:33:23] <darkfox> niconii: Example: There isn't anything about parsing a configuration file into an object that can be verified to be valid for the configuration.
[04:33:25] <borromakot> it looks like I might be able to use the join() method to get a Child
[04:33:25] <aatch> Sgeo_, though reference cycles are still a concern.
[04:33:43] <niconii> darkfox: yeah, it does seem a bit lacking...
[04:33:48] *** Quits: Temur (Tarmashirin@moz-lpe.g0r.217.117.IP) (Ping timeout: 121 seconds)
[04:33:50] <aatch> darkfox, looks like you just have to pass a string into Parser::new
[04:33:59] *** Joins: p1start (p1start@moz-nftjhe.org)
[04:34:08] <darkfox> niconii: The only example looks incomplete and without running it - looks like the value is 'bar' - but is unclear
[04:34:08] *** Joins: proteu (linht@moz-dfnvkj.members.linode.com)
[04:34:19] <chowmeined> It seems so. Whereas most GC languages require the user to use 'with/using/defer' or some other opt-in resource freeing mechanism or explicit freeing. Rust still has RAII for no opt-in resource freeing, it can just leak with reference cycles.
[04:34:23] <darkfox> It never focused test nor test.foo
[04:35:03] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[04:35:18] <darkfox> aatch: I guess I'll just have to dive in to code and see what I can do ... Again - seems to be lacking a lot for documentation.
[04:35:28] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[04:36:06] <niconii> darkfox: it looks like toml::Parser::new(toml) creates a toml::Parser, and then .parse() creates an Option<toml::Table> depending on whether it's valid
[04:36:25] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[04:36:25] *** ChanServ sets mode: +ao pcwalton pcwalton
[04:36:35] <niconii> darkfox: and toml::Table is just a type alias for BTreeMap<String, toml::Value>
[04:36:46] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[04:36:47] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[04:36:54] *** Joins: errordeveloper (ilya@moz-rfe.3fh.206.90.IP)
[04:36:59] *** Joins: negge (nathan@moz-p79l68.fios.verizon.net)
[04:37:09] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Ping timeout: 121 seconds)
[04:37:18] <darkfox> niconii: Yea; noticed that much - I guess I'll just have to dive in. :P
[04:37:33] <niconii> darkfox: i think a more in-depth example would probably be nice...
[04:37:40] <darkfox> Indeed
[04:37:46] <darkfox> http://alexcrichton.com/toml-rs/toml/struct.Parser.html 
[04:37:53] <darkfox> niconii: That example is *slightly* more verbose :P
[04:38:10] <borromakot> how would I access/modify the pwd of the current process?
[04:38:19] <darkfox> And is a min of two navigation links away from the main documentation page. :P
[04:38:44] *** Quits: orangeshark (erik@moz-0ll6vs.44tj.56ot.0306.2602.IP) (Quit: Leaving)
[04:39:30] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[04:39:58] *** Quits: negge_ (nathan@moz-p79l68.fios.verizon.net) (Ping timeout: 121 seconds)
[04:40:18] *** Quits: Diggsey (diggsey@moz-smvs7a.dsl.pipex.com) (Ping timeout: 121 seconds)
[04:40:54] <darkfox> niconii: I'm also a little surprised that it doesn't include a helper to load a file... o.o
[04:41:09] *** Quits: errordeveloper (ilya@moz-rfe.3fh.206.90.IP) (Ping timeout: 121 seconds)
[04:41:11] *** Joins: envi_u (envi@moz-ih5.olo.169.121.IP)
[04:41:13] <darkfox> Sure - not difficult; but wouldn't hurt for a helper
[04:41:19] <niconii> darkfox: well, i think you can just load it like any other file
[04:41:29] <niconii> darkfox: just load it into a string, and then parse that
[04:41:35] <darkfox> Yea; one thing I've not needed to do yet :P
[04:42:39] <niconii> darkfox: https://doc.rust-lang.org/std/fs/struct.File.html
[04:42:59] <darkfox> Already there :P
[04:43:20] *** Joins: bombless (_@moz-0f1m6p.0v2u.0v40.0da8.2001.IP)
[04:43:52] <niconii> always one step ahead of me, i see :P
[04:44:43] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[04:44:52] *** Quits: envi_un (envi@moz-ih5.olo.169.121.IP) (Ping timeout: 121 seconds)
[04:45:27] *** Quits: LysanderAkili (LysanderAki@moz-e2h9er.co.comcast.net) (Ping timeout: 121 seconds)
[04:47:22] *** Quits: brson (brson@moz-ues.tdl.56.172.IP) (Ping timeout: 121 seconds)
[04:47:30] *** Joins: LysanderAkili (LysanderAki@moz-e2h9er.co.comcast.net)
[04:49:03] *** Quits: pr0ctr4p (proc@moz-2s4bc9.dip0.t-ipconnect.de) (Quit: Gotta eat my pizza)
[04:49:15] *** Joins: proc (proc@moz-2s4bc9.dip0.t-ipconnect.de)
[04:52:40] <huon> borromakot: something in std::env, I think
[04:53:54] *** Joins: _ixti_ (ixti@moz-i3d.dae.119.188.IP)
[04:54:00] <huon> borromakot: an, std::env::{current_dir, set_current_dir}
[04:54:01] <huon> *ah
[04:55:06] *** Joins: PudgePacket (Mibbit@moz-obu378.tpgi.com.au)
[04:55:35] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[04:55:57] <PudgePacket> is there a keyword for a type to be inferred? something like Result<auto> ?
[04:56:07] <apoelstra> PudgePacket: Result<_>
[04:56:18] <PudgePacket> Does that nor throw away the value?
[04:56:20] *** Quits: euclio (euclio@moz-l7d.95i.173.134.IP) (Ping timeout: 121 seconds)
[04:56:23] <apoelstra> it's not very often that you need it..
[04:56:27] <PudgePacket> Oh, used in different place, I see
[04:56:29] <apoelstra> PudgePacket: not if it's used as a type
[04:56:42] *** Quits: v21 (vee@moz-oin.kug.204.223.IP) (Ping timeout: 121 seconds)
[04:56:43] *** Quits: ixti (ixti@moz-i3d.dae.119.188.IP) (Ping timeout: 121 seconds)
[04:56:46] <apoelstra> basically you need it if you have multiple type params and only want to infer one
[04:56:51] <apoelstra> e.g. Result<MyThing, _>
[04:56:55] <huon> PudgePacket: NB. _ only works inside functions
[04:58:03] *** Joins: ascarter (ascarter@moz-705hf8.wa.comcast.net)
[04:58:47] *** Joins: idk_erikson (quassel@moz-nto6je.hsi04.unitymediagroup.de)
[04:59:35] *** Quits: ptc (textual@moz-93hhba.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:59:56] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[05:01:36] *** Quits: Guest_ (textual@moz-rtn.fg7.77.192.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:02:49] *** Quits: idk_erikson (quassel@moz-nto6je.hsi04.unitymediagroup.de) (Ping timeout: 121 seconds)
[05:03:43] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[05:04:05] <borromakot> huon: thanks :D
[05:04:26] *** Joins: jfredett (Adium@moz-a9ilmn.fios.verizon.net)
[05:04:26] *** Joins: avikpal (avikpal@moz-19c.cen.194.117.IP)
[05:04:42] <aji> is there a way to use unstable features?
[05:04:49] <aji> i can't get the compile errors to go away
[05:05:37] *** Quits: Tempus13 (Tempus@moz-sk3l4f.optusnet.com.au) (A TLS packet with unexpected length was received.)
[05:05:45] *** Joins: atomic (atomic@moz-0cpaeb.thd.ninja)
[05:06:00] <p1start> aji: You have to use nightly
[05:06:11] <p1start> Beta doesn’t allow unstable features at all
[05:06:29] *** Quits: Kurufu (Kurufu@moz-pvv8b5.res.rr.com) (Ping timeout: 121 seconds)
[05:06:49] *** Joins: mystor (sid79584@moz-761b3h.charlton.irccloud.com)
[05:07:41] <PudgePacket> Why is that?
[05:07:49] *** Joins: Kurufu (Kurufu@moz-pvv8b5.res.rr.com)
[05:07:51] <PudgePacket> does beta not ship with the features?
[05:08:21] <Sgeo_> For stable releases, we don't want people relying on stuff that might change
[05:08:22] <p1start> PudgePacket: Unstable features can be modified or removed at any time
[05:08:25] <huon> it is to avoid de-facto stabilisation of poor features
[05:08:47] <p1start> The point of beta & stable is to cause minimal breakage. Allowing unstable features would make that impossible
[05:09:07] *** Quits: ascarter (ascarter@moz-705hf8.wa.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[05:09:12] *** Joins: woboats (tatterdemal@moz-a0dnkb.ca.comcast.net)
[05:10:01] <PudgePacket> I see, thanks.
[05:10:06] *** Quits: slashus2 (slashus2___@moz-evfg9e.res.rr.com) (A TLS packet with unexpected length was received.)
[05:10:30] *** Quits: avikpal (avikpal@moz-19c.cen.194.117.IP) (Ping timeout: 121 seconds)
[05:10:35] *** Joins: v21 (vee@moz-f94.kug.204.223.IP)
[05:12:15] *** Joins: avikpal (avikpal@moz-1qg.cvs.194.117.IP)
[05:13:37] *** Parts: proteu (linht@moz-dfnvkj.members.linode.com) ()
[05:16:09] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[05:16:23] *** Joins: aaronk (Mibbit@moz-qm9ts7.ph.cox.net)
[05:16:55] *** Joins: Rusky (russell@moz-2rq5pb.slkc.qwest.net)
[05:17:05] *** Quits: avikpal (avikpal@moz-1qg.cvs.194.117.IP) (Ping timeout: 121 seconds)
[05:17:43] *** Joins: dawehner (quassel@moz-h829oe.hsi6.kabel-badenwuerttemberg.de)
[05:18:13] *** Joins: thiblahute (tsaunier@moz-68f5rr.rev.sfr.net)
[05:19:15] *** Joins: avikpal (avikpal@moz-sqe.hfh.194.117.IP)
[05:19:21] *** Joins: glennpratt (glennpratt@moz-neq2gf.dsl-w.verizon.net)
[05:19:36] *** Joins: Rusky1 (russell@moz-kvmmi9.slkc.qwest.net)
[05:19:46] *** Joins: eric_lagergren (barsonme@moz-lr1hrn.wa.comcast.net)
[05:20:22] <borromakot> it seems strange that Command::spawn() returns a Child, but thread::spawn().join() doesn't.
[05:20:42] *** Joins: rprichard (rprichard@moz-6se0og.en8f.d045.0009.2601.IP)
[05:20:47] <borromakot> I need to get a Child from spawning a thread
[05:20:59] *** Quits: Rusky (russell@moz-2rq5pb.slkc.qwest.net) (Ping timeout: 121 seconds)
[05:21:15] <mbrubeck> borromakot: Threads are not processes.  These are very different things you're talking about.
[05:22:15] *** Quits: dawehner (quassel@moz-h829oe.hsi6.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[05:22:25] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[05:22:41] <borromakot> mbrubeck: …yup.  Whoops :D
[05:22:45] <Mutabah> borromakot: Aaand. join causes the current thread to stop until the child stops
[05:23:31] <borromakot> I just sort of threw it together because what I'm dealing with expects a Child, and forgot everything I knew about processes apparently :D
[05:24:32] <borromakot> I think it just needs a redesign.
[05:25:06] *** Quits: Thorn (Thorn@moz-lsk.20c.107.217.IP) (Quit: Quit)
[05:25:10] *** Quits: avikpal (avikpal@moz-sqe.hfh.194.117.IP) (Ping timeout: 121 seconds)
[05:25:17] <borromakot> I'm implementing some builtins in my shell, like 'cd' and I wanted the struct that handles executing commands to just do so, and return a Child that the caller can .wait_with_output() on like it would for any other spawned command.
[05:25:45] *** Quits: AngelOfSol (AngelOfSol@moz-dj58kc.rh.rit.edu) (Connection closed)
[05:26:03] <borromakot> A better design would be using generics that Read, and having the caller just read from the result.
[05:26:57] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[05:28:09] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[05:28:30] *** Quits: sayan (sayan@moz-hbd.i8n.51.106.IP) (Ping timeout: 121 seconds)
[05:29:07] *** Joins: kieran (kieran@moz-c5gk5j.ihug.co.nz)
[05:29:37] <bombless> Will there be 1.0.1-beta, or just 1.1.0-beta? So we just cherry-pick 1.1.0-beta to 1.0.1 or we just won't have 1.0.1?
[05:30:34] *** Joins: askobara (Mibbit@moz-64otl0.novotelecom.ru)
[05:30:46] <niconii> bombless: nightly is already "1.1.0-nightly" as we speak, so
[05:31:29] <bombless> niconii: Yeah that's the point, I'm not really sure though.
[05:31:48] *** Joins: lenstr (lenstr@moz-nde.vju.25.171.IP)
[05:31:59] *** Joins: avikpal (avikpal@moz-mcs.o7g.194.117.IP)
[05:32:07] <niconii> bombless: mmm, yeah, i started second-guessing myself after saying that
[05:32:17] <Mutabah> borromakot: the third number is used for patch releases, so if a critical issue is found, it'd be incremented
[05:32:21] <mbrubeck> Just for comparison, Firefox x.0.1 releases do not go to the beta channel first, generally.
[05:32:27] *** Quits: lenstr (lenstr@moz-nde.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[05:32:33] *** Joins: lenstr (lenstr@moz-nde.vju.25.171.IP)
[05:32:46] <mbrubeck> (and they are similarly used only for unplanned critical fixes)
[05:32:48] <niconii> as far as i understand, when 1.0.0 releases, the 1.1.0 nightly on that day becomes 1.1.0-beta
[05:33:16] *** Quits: kieran (kieran@moz-c5gk5j.ihug.co.nz) (Ping timeout: 121 seconds)
[05:33:21] <niconii> i'm not 100% sure i'm remembering that right, but i think that's how it goes
[05:33:21] *** Joins: proteu (linht@moz-dfnvkj.members.linode.com)
[05:33:36] *** Quits: lenstr (lenstr@moz-nde.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[05:33:44] *** Parts: proteu (linht@moz-dfnvkj.members.linode.com) ()
[05:33:47] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[05:34:21] *** Joins: proteu (linht@moz-dfnvkj.members.linode.com)
[05:34:41] *** Quits: kalail (uid62296@moz-5ck9vu.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[05:35:10] <bombless> mbrubeck, niconii, thanks, I just never think through this. So I guess 1.0.1 will cherry-pick 1.1.0-nightly.
[05:35:42] *** Quits: tormoz (geov@moz-3q6.afp.124.178.IP) (Connection closed)
[05:35:43] *** Joins: avikpal_ (avikpal@moz-h7f.9l2.194.117.IP)
[05:36:35] *** Joins: nott (nott@moz-to4.06o.57.86.IP)
[05:36:48] <niconii> 19:57 < scott> when 1.0 stable is released, 1.1-nightly for that day becomes 1.1-beta
[05:36:50] *** Quits: avikpal (avikpal@moz-mcs.o7g.194.117.IP) (Ping timeout: 121 seconds)
[05:36:50] <borromakot> I'm surprised by this ` expected `&[u8]`,
[05:36:51] <borromakot>     found `&str``
[05:36:57] <borromakot> per the docs those are "the same"
[05:37:04] <niconii> right, this is who i heard that from, so
[05:37:14] * scott waves
[05:37:23] *** Quits: rntz (rntz@moz-l9e88u.fios.verizon.net) (Ping timeout: 121 seconds)
[05:37:40] <scott> borromakot: you can do &str -> &[u8] with .as_bytes()
[05:37:49] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Ping timeout: 121 seconds)
[05:38:10] <borromakot> scott: :D
[05:38:31] <woboats> Does Rust have any undefined behavior?
[05:39:18] <XMPPwocky> woboats: only in unsafe code, afaik
[05:39:19] *** Joins: avikpal (avikpal@moz-d3f.cra.194.117.IP)
[05:39:33] *** Quits: choplin_ (choplin@moz-h8t.4df.82.157.IP) (Connection closed)
[05:39:38] *** Joins: mindtree (Mitch@moz-uprdld.iprimus.net.au)
[05:39:45] *** Quits: avikpal_ (avikpal@moz-h7f.9l2.194.117.IP) (Ping timeout: 121 seconds)
[05:39:51] *** Parts: proteu (linht@moz-dfnvkj.members.linode.com) ()
[05:40:21] <woboats> XMPPwocky, ahh, & I have found the section in the reference which enumerates the undefined behaviors in unsafe code.
[05:40:21] *** Joins: choplin (choplin@moz-h8t.4df.82.157.IP)
[05:40:26] <bombless> UB come from LLVM :D
[05:40:27] *** darkowlzz|afk is now known as darkowlzz
[05:40:42] *** Quits: choplin (choplin@moz-h8t.4df.82.157.IP) (Connection closed)
[05:40:46] *** Quits: genbattle (genbattle@moz-4v0.gkd.16.182.IP) (Ping timeout: 121 seconds)
[05:40:48] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[05:40:50] *** Quits: Gamecubic (cubic@moz-bglmk5.mc.videotron.ca) (Quit: Leaving)
[05:40:53] <archshift> mmm, do I really have to `mod` every single other file from main.rs?
[05:41:14] <Mutabah> archshift: How else would the compiler know to load them?
[05:41:49] <bombless> https://github.com/rust-lang/rust/issues/10185
[05:42:46] <archshift> Mutabah: I would prefer it if a source code file didn't act as the compiling aggregator, but w/e
[05:42:48] *** Joins: twipeD (wipeD@moz-3rfme4.dip0.t-ipconnect.de)
[05:43:40] <bombless> Frankly you can design a module system that only use the file system layout.
[05:43:50] *** Joins: prak (Mibbit@moz-l5t4el.in.comcast.net)
[05:44:46] <Hail_Spacecake> bah
[05:44:53] <XMPPwocky> archshift: so note that you don't have to mod every file from main.rs
[05:45:01] <Hail_Spacecake> it's really irritating that you can't use max() or anything else that requires Ord
[05:45:02] <bombless> https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&q=is%3Aissue+is%3Aopen+undefined+behaviour+in%3Atitle
[05:45:03] <XMPPwocky> you can put them in other files, and you can have subdirectories going on too
[05:45:03] <Hail_Spacecake> for floats
[05:45:08] <XMPPwocky> Hail_Spacecake: partial_max
[05:45:19] *** Quits: wei2912 (wei2912@moz-ekt.mrh.156.175.IP) (Quit: Lost terminal)
[05:45:32] <XMPPwocky> unstable
[05:45:33] <XMPPwocky> :(
[05:45:37] *** Quits: davebettin (davebettin@moz-acc.cl4.35.72.IP) (Ping timeout: 121 seconds)
[05:45:49] *** Joins: choplin (choplin@moz-h8t.4df.82.157.IP)
[05:46:03] <Hail_Spacecake> does that mean it's not in beta
[05:46:06] <Hail_Spacecake> but it is in nightly?
[05:46:15] *** Quits: avikpal (avikpal@moz-d3f.cra.194.117.IP) (Ping timeout: 121 seconds)
[05:46:16] <XMPPwocky> right
[05:46:24] <XMPPwocky> it exists in Beta, it's just unusable
[05:46:49] *** Quits: choplin (choplin@moz-h8t.4df.82.157.IP) (Connection closed)
[05:46:59] *** Joins: choplin (choplin@moz-h8t.4df.82.157.IP)
[05:47:05] *** Quits: choplin (choplin@moz-h8t.4df.82.157.IP) (Connection closed)
[05:47:31] <mbrubeck> Hail_Spacecake: In the external `num` crate you can use Float::max
[05:47:41] <Hail_Spacecake> I should probably get in the habit of avoiding unstable code
[05:47:45] <mbrubeck> if that helps
[05:47:48] <Hail_Spacecake> I'm still used to everything being unstable
[05:48:07] <Hail_Spacecake> I mean I can roll my own max_f64 in 15 seconds
[05:48:17] <Hail_Spacecake> and in my case I really can ignore NaNs
[05:48:18] <mbrubeck> Hail_Spacecake: Oh, there's a stable f64::max also
[05:48:26] *** Quits: prak (Mibbit@moz-l5t4el.in.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[05:48:30] <Hail_Spacecake> oh there is?
[05:48:43] *** Joins: avikpal (avikpal@moz-g6o.420.194.117.IP)
[05:48:49] <Twinklebear> hey all, is there some nice way to add whitespace between strings returned by an iterator? I'd like to collect some words and place tokens (spaces) between them. I was thinking of doing a zip and a map, but is there something simpler?
[05:49:14] <mbrubeck> playbot: 1f64.max(0.5)
[05:49:15] -playbot- 1
[05:49:25] <mbrubeck> playbot: f64::max(1.0, 0.5)
[05:49:26] -playbot- 1
[05:49:28] *** Joins: choplin (choplin@moz-h8t.4df.82.157.IP)
[05:49:29] *** Joins: naerbnic (naerbnic@moz-tm2gcl.ca.comcast.net)
[05:49:33] <mbrubeck> (same thing, written two different ways)
[05:49:36] *** Quits: thiblahute (tsaunier@moz-68f5rr.rev.sfr.net) (Ping timeout: 121 seconds)
[05:49:49] <XMPPwocky> mbrubeck: mmm, ufcs
[05:50:06] <mbrubeck> Twinklebear: https://crates.io/crates/itertools has a .join function for that.
[05:50:16] <XMPPwocky> Twinklebear: http://doc.rust-lang.org/std/slice/trait.SliceConcatExt.html
[05:50:27] <XMPPwocky> see .connect()
[05:50:38] <chowmeined> playbot, let strings = vec!["Foo".to_string(), "Bar".to_string()]; let joined = string_list.connect(" "); println!("{}", joined);
[05:50:39] -playbot- <anon>:9:80: 9:91 error: unresolved name `string_list`. Did you mean `strings`?
[05:50:39] -playbot- <anon>:9         let strings = vec!["Foo".to_string(), "Bar".to_string()]; let joined = string_list.connect(" "); println!("{}", joined);
[05:50:39] -playbot- output truncated; full output at: http://bit.ly/1Pcnysg
[05:50:50] <chowmeined> playbot, let strings = vec!["Foo".to_string(), "Bar".to_string()]; let joined = strings.connect(" "); println!("{}", joined);
[05:50:52] -playbot- Foo Bar
[05:50:52] -playbot- ()
[05:50:53] <Twinklebear> ah interesting, thanks mbrubeck and XMPPwocky 
[05:50:54] <chowmeined> how did it know that i meant strings
[05:50:59] <chowmeined> Twinklebear, ^
[05:51:20] <Twinklebear> would i be able to just do that on an iterator though?
[05:51:21] <borromakot> So, say I know a struct already implements a method. Can I create a trait with just that method signature, and then implement that trait for that struct without redefining the method?
[05:51:29] <Twinklebear> I'm collecting them into a String at the moment 
[05:51:48] <XMPPwocky> chowmeined: it does like levenshtein distance or something
[05:51:59] <chowmeined> XMPPwocky, fancy
[05:52:26] <chowmeined> how many years have C compilers not done that?
[05:52:32] <chowmeined> 40?
[05:52:36] *** Joins: guewen (guewen@moz-ftf7u4.cust.swisscom.ch)
[05:52:36] <XMPPwocky> it's pretty neat
[05:52:46] <XMPPwocky> although fairly entertaining when you only have a few things in scope
[05:52:49] <mbrubeck> Twinklebear: No, connect only works on vecs/slices.  Use itertools if you want to do it on an iterator.
[05:53:03] <mbrubeck> http://bluss.github.io/rust-itertools/doc/itertools/trait.Itertools.html#method.join
[05:53:08] <XMPPwocky> rusti: let hello_i_am_an_ident = 42; woof_woof_dog_barking
[05:53:09] -playbot- <anon>:9:39: 9:60 error: unresolved name `woof_woof_dog_barking`
[05:53:09] -playbot- <anon>:9         let hello_i_am_an_ident = 42; woof_woof_dog_barking
[05:53:09] -playbot- output truncated; full output at: http://bit.ly/1dzuO5M
[05:53:11] <Twinklebear> gotcha, I'll check out itertools then
[05:53:13] <chowmeined> levenshtein distance was described in 1965. And no C compiler has done it
[05:53:16] <XMPPwocky> .... hmm, that must have been fixed
[05:53:26] <mbrubeck> borromakot: No, I don't think so.
[05:53:52] *** Quits: jkerim (sid248@moz-usju76.0j4i.jtu0.0101.2620.IP) (A TLS packet with unexpected length was received.)
[05:53:52] *** Quits: mbrubeck (sid61@moz-2pjnuf.0j4i.jtu0.0101.2620.IP) (A TLS packet with unexpected length was received.)
[05:53:52] *** Quits: ato (sid11@moz-c1oek8.0j4i.jtu0.0101.2620.IP) (A TLS packet with unexpected length was received.)
[05:54:12] <aji> i could have sworn clang could do it
[05:54:22] <chowmeined> well, i wouldnt be surprised if clang does it
[05:54:31] <XMPPwocky> clang certainly has the best errors of any C++ compiler i've used
[05:54:41] <chowmeined> but it took clang for any of them to care
[05:54:42] <XMPPwocky> msvc seems to be winning for the worst
[05:55:01] <XMPPwocky> although gcc makes a good showing 
[05:55:08] <askobara> Hey, guys! Can anyone explain how to work with an struct which implement Send trait in thread? All my attempts are failed with error  "the trait `core::marker::Sync` is not implemented"
[05:55:10] <aji> i wouldn't be surprised if it was tried in the past but turned out not to be very helpful
[05:55:28] <XMPPwocky> aji: yeah, i haven't ever actually had it help me
[05:55:29] *** Joins: rntz (rntz@moz-l9e88u.fios.verizon.net)
[05:55:45] <scott> XMPPwocky: I think gcc's made a big effort recently. not on clang's level, though
[05:55:46] <XMPPwocky> because i have to open the source file to fix it
[05:55:59] <aji> at least with rust you have lots of namespaces to make guessing easier
[05:56:06] <XMPPwocky> at which point i almost always see the correct name
[05:56:07] <aji> if you misspell a variable in C, it could be *anything*
[05:56:27] <XMPPwocky> aji: yeah, i do like how uncluttered rust's namespace is
[05:56:33] <XMPPwocky> esp. with the shrinking prelude
[05:56:40] <aji> yeah
[05:56:49] <aji> and with how easy it is to modularize things there's no reason not to do it
[05:57:11] <XMPPwocky> laziness
[05:57:17] <XMPPwocky> laziness is a good reason
[05:57:20] *** Joins: ato (sid11@moz-c1oek8.0j4i.jtu0.0101.2620.IP)
[05:57:29] *** Joins: HollyRain (HollyRain@moz-lnracf.user.ono.com)
[05:57:44] *** Quits: forgottenone (forgottenon@moz-pde.j99.45.92.IP) (Quit: Konversation terminated!)
[05:58:02] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[05:58:03] <HollyRain> Is right the example related to enums on: http://rustbyexample.com/enum.html ?
[05:58:34] <XMPPwocky> HollyRain: it should be; is something wrong with it?
[05:58:34] *** Quits: avikpal (avikpal@moz-g6o.420.194.117.IP) (Connection closed)
[05:58:40] *** Joins: mrbkap (sid51@moz-oqs9nd.0j4i.jtu0.0101.2620.IP)
[05:58:56] <XMPPwocky> the "run" button seems to work
[05:59:15] *** Joins: mbrubeck (sid61@moz-2pjnuf.0j4i.jtu0.0101.2620.IP)
[05:59:27] <mbrubeck> chowmeined: You're using the wrong C compilers. :)  Clang does spell-checking on unknown identifiers. http://blog.llvm.org/2010/04/amazing-feats-of-clang-error-recovery.html
[05:59:56] <mbrubeck> (using Levenshtein distance)
[05:59:57] *** Joins: thiblahute (tsaunier@moz-68f5rr.rev.sfr.net)
[06:00:01] <HollyRain> XMPPwocky, that example is right
[06:00:49] *** Joins: euclio (euclio@moz-l7d.95i.173.134.IP)
[06:01:21] *** Joins: choplin_ (choplin@moz-h8t.4df.82.157.IP)
[06:01:24] *** Joins: avikpal (avikpal@moz-5rg.ep4.194.117.IP)
[06:03:30] *** Quits: choplin (choplin@moz-h8t.4df.82.157.IP) (Ping timeout: 121 seconds)
[06:03:34] *** Joins: TYLin (sid187@moz-i7l0ku.0j4i.jtu0.0101.2620.IP)
[06:03:39] <HollyRain> XMPPwocky, but I've an error when I write:  http://is.gd/dbkrMH
[06:03:51] *** Quits: aatch (james@moz-ciignl.bmm3.j08e.e000.2406.IP) (Connection closed)
[06:04:07] <HollyRain> warning: pattern binding `Bool` is named the same as one of the variants of the type `Type`
[06:04:18] <XMPPwocky> HollyRain: write Type::Bool instead
[06:04:34] *** Joins: James (quassel@moz-9kp9p2.range86-148.btcentralplus.com)
[06:04:38] <XMPPwocky> what you had binds to a *variable* called Bool
[06:04:46] <XMPPwocky> enum variants are namespaced under the enum type
[06:05:06] <HollyRain> thanks, it works now
[06:05:27] *** Quits: avikpal (avikpal@moz-5rg.ep4.194.117.IP) (Ping timeout: 121 seconds)
[06:05:45] *** Joins: jkerim (sid248@moz-usju76.0j4i.jtu0.0101.2620.IP)
[06:05:56] *** Joins: yymoto2 (yymoto2@moz-qhe.oul.192.14.IP)
[06:06:04] *** Quits: euclio (euclio@moz-l7d.95i.173.134.IP) (Quit: leaving)
[06:06:57] *** Joins: ebfull (ebfull@moz-2hf06a.co.comcast.net)
[06:07:23] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[06:07:31] *** Quits: turtil (turtil@moz-gfc.es4.23.103.IP) (Quit: WeeChat 1.1.1)
[06:09:38] *** Quits: aaronk (Mibbit@moz-qm9ts7.ph.cox.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:10:23] <HollyRain> XMPPwocky, and would be better to use `fn stringify(self)` than `fn stringify(*self)` ?
[06:10:30] <HollyRain> for my case
[06:10:52] <HollyRain> than (&self)
[06:11:09] *** Joins: davebettin (davebettin@moz-acc.cl4.35.72.IP)
[06:11:21] *** Quits: yymoto2 (yymoto2@moz-qhe.oul.192.14.IP) (Quit: leaving)
[06:11:23] <bombless> if you don't need self, then you should take &self
[06:11:32] *** Joins: iopq (Mibbit@moz-a8acdc.ca.comcast.net)
[06:11:33] *** Joins: yymoto2 (yymoto2@moz-qhe.oul.192.14.IP)
[06:11:52] <iopq> what's the equivalent of an early return from a for loop in iterator code
[06:12:01] <scott> iopq: break
[06:12:07] *** Joins: Douman (Douman@moz-m0aveq.dynamic.mts-nn.ru)
[06:12:37] <iopq> scott: first I need to know what I'm breaking, because I'm not writing my own iterator, I'm using one
[06:12:53] <borromakot> can I use bounds when talking about the return value of a struct?
[06:12:59] <borromakot> sorry of a function?
[06:13:13] <borromakot> fn function<T> -> T where T: Read {..}
[06:13:27] <huon> iopq: code?
[06:13:35] <borromakot> fn function<T>(arg: &str) -> T where T: Read {..}
[06:13:49] <bombless> borromakot: You have to return concret type for now, so unless it's lifetime bounds you cannot do it.
[06:13:54] <borromakot> damn
[06:13:57] <borromakot> well.
[06:14:00] <borromakot> okay :D
[06:14:05] <iopq> huon: here http://is.gd/rnQf8A I have a bunch of return None
[06:14:06] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[06:14:12] *** Joins: avikpal (avikpal@moz-p0a.iss.194.117.IP)
[06:14:33] <niconii> borromakot: you could return a Box<Read> at least
[06:14:33] <iopq> I feel like that code is super unidiomatic
[06:15:40] <scott> borromakot: the problem with fn function<T>(arg: &str) -> T where T: Read {..} is that it says "for all types T implementing Read, I will return a value of that type T" when what you really want is probably "I will return some unspecified type that implements Read"
[06:15:55] <scott> the latter isn't possible yet, except with trait objects like Box<Read>
[06:16:32] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[06:17:07] <niconii> borromakot: so something like this works: fn function(arg: &str) -> Box<Read> { ... }
[06:17:16] *** Quits: borromakot (Adium@moz-j6pi1a.il.comcast.net) (Quit: Leaving.)
[06:17:27] <iopq> so the logic for my code is that I have three stones of the same color, one empty space and none of the stones have liberty().len() == 1, in which case I return the empty space, otherwise None
[06:17:58] *** darkowlzz is now known as darkowlzz|afk
[06:18:19] <HollyRain> which is the type to represent a list of bytes? i.e. in Go is []byte
[06:18:33] <reem> HollyRain: often Vec<u8>
[06:18:45] <iopq> sometimes [u8; number]
[06:18:53] <reem> sometimes other types, like VecDeque<u8> or &[u8]
[06:19:01] <HollyRain> thanks
[06:20:06] *** Quits: avikpal (avikpal@moz-p0a.iss.194.117.IP) (Ping timeout: 121 seconds)
[06:20:14] <niconii> HollyRain: (Vec<u8> is a growable list/vector, [u8; 16] would be an array with a fixed length of 16)
[06:20:33] *** darkowlzz|afk is now known as darkowlzz
[06:21:06] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[06:21:09] *** Quits: lutter (lutter@moz-7v7ueu.PUBLIC.monkeybrains.net) (Quit: Leaving.)
[06:21:09] *** lutter_ is now known as lutter
[06:21:36] <niconii> HollyRain: (&[u8] is a slice, VecDeque<u8> is another kind of vector that allows for adding to the beginning and end efficiently)
[06:22:09] <HollyRain> perfect :)
[06:23:48] *** Quits: yymoto2 (yymoto2@moz-qhe.oul.192.14.IP) (Quit: Lost terminal)
[06:24:24] <iopq> So in my code I have the pattern *find empty space* *initialize variable to empty space* *return variable which is an option* and I want to use iterators instead
[06:24:46] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[06:25:27] *** Quits: nott (nott@moz-to4.06o.57.86.IP) (Ping timeout: 121 seconds)
[06:25:40] *** Joins: errordeveloper (ilya@moz-rfe.3fh.206.90.IP)
[06:26:37] <posix4e> Is there a good rust book?
[06:27:00] *** Quits: davebettin (davebettin@moz-acc.cl4.35.72.IP) (Ping timeout: 121 seconds)
[06:27:16] *** Joins: avikpal (avikpal@moz-2rb.6lo.194.117.IP)
[06:27:18] <Johannes> Hi! I have a field with Option<Box<MyTrait>> and I want to lend out a reference to MyTrait object. The function looks like "fn get<'a>(&'a mut self) -> &'a mut MyTrait" and in the match I have "Some(ref mut sm) => &mut **sm". It works but the object is being dropped shortly after lending out a reference..  What am I doing wrong?
[06:27:20] <niconii> posix4e: well, there is *the* rust book, but it's being rearranged at the moment in anticipation for the 1.0 release
[06:27:38] <posix4e> of course 
[06:27:48] <posix4e> but something published with an established publisher?
[06:28:08] *** Joins: rustbot (havvy@moz-u0e4io.net)
[06:28:11] <Johannes> posix4e: probably too early for that since the language is still changing a lot..
[06:28:14] <niconii> posix4e: rust hasn't settled down until recently
[06:28:18] <reem> posix4e: Not yet, though I know some are in the works.
[06:28:23] <posix4e> neat
[06:28:26] <niconii> posix4e: there were some really *huge* breaking changes a few months back
[06:28:49] *** Joins: dawehner (quassel@moz-h829oe.hsi6.kabel-badenwuerttemberg.de)
[06:28:59] <iopq> It's really hard for me to think in iterators after years of imperative programming ;__;
[06:29:10] <posix4e> So say anyone could write a book. Who would you want it to be? I mean c and c++ books that I learned from were written by the creators. But does it have to be that way?
[06:29:22] <reem> at least two publishers (Packt and Manning) have at least expressed significant interest in writing one (Packt reached out to me to be a reviewer, Manning to be an author)
[06:29:23] *** Joins: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk)
[06:29:41] <reem> not sure on the status of either of those projects today though
[06:29:42] *** Joins: rbrs (rbrs@moz-m5thmg.static.zebra.lt)
[06:29:43] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[06:29:45] <iopq> posix4e: I want Linus to write a Rust book
[06:29:47] <niconii> posix4e: for example, only a few months ago, the array syntax changed from [i32, ..6] to [i32; 6]
[06:29:54] *** Quits: errordeveloper (ilya@moz-rfe.3fh.206.90.IP) (Ping timeout: 121 seconds)
[06:30:06] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[06:30:26] <posix4e> ioqp: Agreed
[06:30:33] <niconii> posix4e: and std::io as a whole was completely replaced
[06:30:56] <niconii> posix4e: anyway, technically speaking, the language hasn't actually been released yet, hence there's not much for books yet
[06:31:07] <iopq> and thread::scoped got removed negative one month ago
[06:32:24] <niconii> oh, and the whole wrapping arithmetic thing
[06:32:31] <bombless> Effective Rust, More Effective Rust, Rust in depth, Ruminations on Rust
[06:32:37] <niconii> (that one hit me *really* hard)
[06:32:45] <chowmeined> Rust for Rustaceans
[06:32:51] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[06:33:13] <posix4e> k&r was super short
[06:33:15] <posix4e> that's why it was good
[06:33:22] <posix4e> the existing rust book is super interesting
[06:33:23] <chowmeined> The Rust Programming Language
[06:33:25] <iopq> k&r was really bad I think
[06:33:36] <posix4e> iopq: explain?
[06:33:44] <reem> +1 to a short book
[06:34:01] <iopq> posix4e: I read two C books when I was 13, one was K&R and another one that I don't remember
[06:34:02] <bombless> I say this in advance: I don't like Headfirst Rust :D
[06:34:04] *** Joins: lenstr (lenstr@moz-nde.vju.25.171.IP)
[06:34:12] <iopq> I preferred the other book to K&R
[06:34:14] *** Quits: Twinklebear (Twinklebear@moz-ttrcn3.ut.comcast.net) (Quit: Leaving)
[06:34:29] <posix4e> i expect the other was newer. Did it have fish on the front?
[06:34:42] <iopq> I don't remember, it just had MUCH better explanations
[06:34:43] *** Quits: zzing (textual@moz-jucm1n.cpe.distributel.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[06:34:45] *** Quits: lenstr (lenstr@moz-nde.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[06:34:57] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[06:34:59] *** Joins: lenstr (lenstr@moz-nde.vju.25.171.IP)
[06:35:05] *** Quits: hjr3 (hradtke@moz-e235ok.fios.verizon.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:35:08] <iopq> K&R is just not that good at teaching, it's more a description rather than a good introduction
[06:35:10] *** Joins: zzing (textual@moz-jucm1n.cpe.distributel.net)
[06:35:11] <posix4e> What do you think about bjorn's book?
[06:35:12] *** Quits: avikpal (avikpal@moz-2rb.6lo.194.117.IP) (Ping timeout: 121 seconds)
[06:35:31] <iopq> Did he write a C book? Because I don't know C++
[06:35:44] <posix4e> He did
[06:35:49] <posix4e> http://www.amazon.com/The-Programming-Language-4th-Edition/dp/0321563840
[06:35:52] <posix4e> Err does
[06:35:52] *** Quits: lenstr (lenstr@moz-nde.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[06:35:59] <bombless> References on Rust
[06:36:17] <niconii> "The Programming Language 4th Edition"
[06:36:20] <niconii> gotta love urls
[06:36:27] *** Joins: jaen (jaen@moz-ifmik2.copit.pl)
[06:36:28] <bombless> :P
[06:36:32] <iopq> Did anyone take the name "The"?
[06:36:36] <posix4e> iopq: But that's not nearly enough. You need to read effective c++ and this and that c++. I think if you read enough books you can write fairly safe code. If you don't blow your brains out first
[06:36:40] *** Quits: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk) (Ping timeout: 121 seconds)
[06:37:07] <niconii> iopq: i should hope there's no one insane enough to name a programming language "the"...
[06:37:28] <iopq> niconii: I'll claim it's called "Tea" in French
[06:37:32] <niconii> (good luck searching for it, for that matter...)
[06:37:52] <iopq> niconii: good luck searching for Go
[06:37:53] <bombless> It's easier if you write code alone. But Rust is for big projects :D
[06:38:01] <bombless> search issue9
[06:38:20] *** Joins: avikpal (avikpal@moz-gm5.cen.194.117.IP)
[06:38:36] *** Quits: Asandari (Asandari@moz-emp96u.cable.teksavvy.com) (Ping timeout: 121 seconds)
[06:38:42] <niconii> iopq: oh geez, yeah, "go" really wasn't the best name
[06:39:00] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Ping timeout: 121 seconds)
[06:39:03] <niconii> iopq: hence why its de facto name is "golang"...
[06:39:06] <iopq> niconii I play Go the game, and my project is GO programming
[06:39:17] <iopq> it's impossible to find anything about Go game programming
[06:39:30] <iopq> because I keep getting Go  game-programming projects
[06:39:38] <iopq> instead of Go-game programming
[06:40:24] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[06:40:28] <archshift> mmmh
[06:40:34] <niconii> 'igo game programming' might give better results?
[06:40:55] <archshift> how can I take a reference, and copy its contents into a new non-reference without borrow issues?
[06:41:15] <iopq> niconii: it doesn't work, nobody writes about "igo" in English, the established name for the game is Go, I get better results searching for weiqi or baduk, but that's if someone actually puts those words and writes go/weiqi/baduk programming
[06:41:18] *** Joins: envi_un (envi@moz-ih5.olo.169.121.IP)
[06:41:52] *** Joins: tcard (tcard@moz-jdrdbk.ddns.jazztel.es)
[06:42:22] <niconii> archshift: .clone(), if your type implements Clone
[06:42:24] *** Joins: zcourts (zcourts@moz-gel.tgg.11.195.IP)
[06:43:02] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[06:43:04] <chowmeined> iopq, golang graphics, rendering, game engine
[06:43:37] <archshift> niconii: let foo: T = some_ref;
[06:43:41] <archshift> is what I'm trying to do
[06:43:42] *** Joins: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk)
[06:44:02] <niconii> playbot: let a; { let b = "hi"; a = (&b).clone(); } a
[06:44:03] -playbot- "hi"
[06:44:11] *** Quits: envi_un (envi@moz-ih5.olo.169.121.IP) (Quit: )
[06:44:57] *** Quits: envi_u (envi@moz-ih5.olo.169.121.IP) (Ping timeout: 121 seconds)
[06:45:09] <niconii> archshift: cloning is the only way to get a copy of something you have a reference to
[06:45:13] <archshift> playbot: let mut a: u32 = 0; { let b: u32 = 5; a = (&b).clone(); } a
[06:45:15] -playbot- <anon>:9:13: 9:18 warning: value assigned to `a` is never read, #[warn(unused_assignments)] on by default
[06:45:15] -playbot- <anon>:9         let mut a: u32 = 0; { let b: u32 = 5; a = (&b).clone(); } a
[06:45:15] -playbot- output truncated; full output at: http://bit.ly/1DOuJkZ
[06:45:17] *** Quits: avikpal (avikpal@moz-gm5.cen.194.117.IP) (Ping timeout: 121 seconds)
[06:45:18] <iopq> chowmeined: that's what I'm trying not to keep getting as results, I want my baduk AI results from google
[06:45:39] *** Quits: njn (chatzilla@moz-7npk8s.iinet.net.au) (Quit: ChatZilla 0.9.91.1 [Firefox 40.0a1/20150430135516])
[06:45:42] <reem> iopq: try searching and excluding "golang"
[06:45:43] <archshift> hmm
[06:45:50] <reem> (this is getting off topic though)
[06:45:51] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[06:45:59] <niconii> archshift: (it worked, there was just too much output to show at once)
[06:46:05] <archshift> yeah, I saw
[06:46:11] <chowmeined> iopq, go ai returns nothing but go the game AI stuff
[06:46:11] *** Joins: bjz (bjz@moz-lailbo.tpgi.com.au)
[06:46:27] *** Joins: alonlevy (alon@moz-p48.q13.159.94.IP)
[06:46:38] <iopq> reem: https://encrypted.google.com/search?hl=en&q=go%20programming%20-golang
[06:47:12] <chowmeined> https://encrypted.google.com/search?hl=en&q=go+ai
[06:47:17] *** Joins: idk_erikson (quassel@moz-nto6je.hsi04.unitymediagroup.de)
[06:47:21] <iopq> chowmeined: yeah that query is better
[06:47:29] <chowmeined> even got some nice research papers
[06:47:29] <niconii> iopq, reem, chowmeined: yeah, this might be better suited to #rust-offtopic
[06:47:35] *** Quits: bjz (bjz@moz-lailbo.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[06:47:50] *** Joins: bjz (bjz@moz-lailbo.tpgi.com.au)
[06:48:15] <iopq> niconii: I think I've already exhausted the willingness of people to rewrite my code for me
[06:48:25] *** Quits: bjz (bjz@moz-lailbo.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[06:48:27] *** Quits: jfredett (Adium@moz-a9ilmn.fios.verizon.net) (Connection closed)
[06:48:40] <archshift> niconii: when can this happen: "expected `T`, found `&T`"?
[06:48:58] *** Quits: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk) (Ping timeout: 121 seconds)
[06:49:25] <iopq> archshift: throw * everywhere and hope for the best
[06:49:46] <niconii> iopq: m-maybe not *everywhere*...
[06:50:06] *** Quits: James (quassel@moz-9kp9p2.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[06:50:12] *** Quits: xificurC (xificurC@moz-3u7gmd.chello.sk) (Quit: WeeChat 1.1.1)
[06:50:23] *** Joins: xificurC (xificurC@moz-3u7gmd.chello.sk)
[06:50:24] <iopq> niconii: I think there is a mutating algorithm in there somewhere that finds a compiling Rust program
[06:51:15] *** Joins: avikpal (avikpal@moz-v36.loq.194.117.IP)
[06:51:40] *** Joins: jfredett (Adium@moz-a9ilmn.fios.verizon.net)
[06:51:51] *** Quits: idk_erikson (quassel@moz-nto6je.hsi04.unitymediagroup.de) (Ping timeout: 121 seconds)
[06:53:25] <archshift> my experience with Rust so far has been: getting things to compile is a bitch, but once they compile they work the first time
[06:53:40] *** Joins: xav (xav@moz-5tfec1.mobi)
[06:53:47] <archshift> this is coming from C++, where I'd say it's the opposite
[06:54:18] <iopq> archshift: at first yes, but then you go into harder problems and you just need to come up with test cases
[06:55:07] *** Joins: jviereck (Adium@moz-pqri8u.dclient.hispeed.ch)
[06:55:21] <iopq> in C++ I wrote a simple program and then I couldn't figure out why it was copying something I just reassigned
[06:55:39] <iopq> or where it was allocating memory since I never called any kind of constructor
[06:55:51] *** Joins: Asandari (Asandari@moz-emp96u.cable.teksavvy.com)
[06:56:18] *** Joins: dawehner-afk (quassel@moz-grp.h0g.138.193.IP)
[06:56:29] <niconii> (okay, it's way later than i probably should've been conscious for, so off i go)
[06:56:36] *** Quits: tcard (tcard@moz-jdrdbk.ddns.jazztel.es) (Client exited)
[06:56:54] *** Quits: niconii (nicole@moz-5e9nqt.frgo.qwest.net) (Quit: wee)
[06:57:07] *** Quits: Rusky1 (russell@moz-kvmmi9.slkc.qwest.net) (Ping timeout: 121 seconds)
[06:58:16] *** Joins: kalail (uid62296@moz-5ck9vu.charlton.irccloud.com)
[06:58:45] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[06:58:59] <archshift> I do miss initializer lists though :<
[06:59:09] *** Quits: avikpal (avikpal@moz-v36.loq.194.117.IP) (Ping timeout: 121 seconds)
[06:59:49] *** Quits: dawehner (quassel@moz-h829oe.hsi6.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[06:59:49] *** Joins: kieran (kieran@moz-c5gk5j.ihug.co.nz)
[07:00:12] <archshift> some_struct s { }; is just way too convenient
[07:00:28] *** Joins: Cifram_ (Cifram@moz-l63.9pu.126.76.IP)
[07:00:41] *** Quits: kgrandon (Adium@moz-9p50dn.hjek.d045.0009.2601.IP) (Quit: Leaving.)
[07:00:45] <Ralith> don't confuse initializer lists with aggregate initialization
[07:01:16] *** Joins: c0170 (c0170@moz-bb29a4.cambridge.arm.com)
[07:02:00] <Douman> initialzer may work strange sometimes for non-standart types though :)
[07:03:17] *** Quits: gopar (gopar@moz-5039uj.ca.comcast.net) (Quit: Leaving)
[07:03:57] *** Quits: kieran (kieran@moz-c5gk5j.ihug.co.nz) (Ping timeout: 121 seconds)
[07:04:17] *** Joins: avikpal (avikpal@moz-n8i.meh.194.117.IP)
[07:05:29] <archshift> btw: let foo: T = *s.clone(); error: cannot move out of borrowed content
[07:06:03] *** Quits: choplin_ (choplin@moz-h8t.4df.82.157.IP) (Connection closed)
[07:06:05] <archshift> that's rather annoying
[07:06:06] *** Joins: cholcombe (chris@moz-640.as4.71.80.IP)
[07:07:23] *** Joins: errordeveloper (ilya@moz-rfe.3fh.206.90.IP)
[07:08:06] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[07:08:32] *** Joins: z0ltan (Mibbit@moz-9os.mb6.5.103.IP)
[07:08:40] <z0ltan> Hello folks
[07:08:58] <z0ltan> I have a quick question - what the **** happened to the Rust book?
[07:09:13] *** Joins: hoony (Thunderbird@moz-i7u.8jh.134.128.IP)
[07:09:14] <z0ltan> I had tried out the Rust book when it was at 0.8 (?) and it was beautiful
[07:09:25] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[07:09:30] *** Joins: avikpal_ (avikpal@moz-kvo.9fs.194.117.IP)
[07:09:33] <Mutabah> z0ltan: What is your problem with the current version/
[07:09:35] <z0ltan> Now most of those don't work, and the new Rust book makes no sense to me!
[07:09:58] <z0ltan> The earlier book was logically organized and gradually progressed with the concepts
[07:10:07] *** Quits: avikpal (avikpal@moz-n8i.meh.194.117.IP) (Ping timeout: 121 seconds)
[07:10:16] <z0ltan> I can't make sense of the new book - it appears to be missing a lot of sections as well
[07:10:39] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[07:10:41] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[07:10:43] <z0ltan> I really want to try Rust for a new prototype at work, but I'm getting flummoxed because all my previous learnings are broken :(
[07:10:47] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Connection closed)
[07:11:18] <z0ltan> I'm assuming this is the correct link to the current book - https://doc.rust-lang.org/book/
[07:11:42] *** Joins: hoony1 (Thunderbird@moz-noa.m8m.223.175.IP)
[07:11:51] <z0ltan> Is there any new version of something like the 30 minute intro to Rust in the earlier format?
[07:11:54] <Douman> someone is re-designing it but.... it takes time
[07:12:06] *** Joins: Rusky (russell@moz-4ggjij.slkc.qwest.net)
[07:12:08] <z0ltan> I really hope so... I loved the earlier format
[07:12:21] <iopq> z0ltan it's in flux right now because it's right before 1.0 so it needs to be done really soon
[07:12:38] *** Joins: choplin (choplin@moz-h8t.4df.82.157.IP)
[07:12:42] <z0ltan> So it should be ready by May 15? (going by the 1.0 release date on the site)
[07:13:16] <iopq> z0ltan: it won't be 100% finished (nothing ever is), but it should be presentable then
[07:13:50] <z0ltan> I really hope so!
[07:14:38] *** Joins: dstrbad (dstrbad@moz-mua7l1.dsl.iskon.hr)
[07:15:17] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[07:15:34] *** Quits: hoony (Thunderbird@moz-i7u.8jh.134.128.IP) (Ping timeout: 121 seconds)
[07:16:07] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[07:16:08] <Douman> i think reference manual should fine though
[07:16:37] *** Joins: nedp (nedp@moz-vg6vvt.bigpond.net.au)
[07:16:40] <z0ltan> Yes, but for absolute beginners, it's a hard read!
[07:16:52] <Douman> try rust by example http://rustbyexample.com/index.html
[07:17:05] <Douman> examples are great usually. At least for me
[07:17:35] <z0ltan> Looks good! Any idea if these work with the latest 1.0 build? (say, nightly)?
[07:17:55] *** Quits: zzing (textual@moz-jucm1n.cpe.distributel.net) (Connection closed)
[07:18:06] <Douman> well starting from beta there should not be mcuh of NBC... but i'm not sure what is the basis of this book
[07:18:10] *** Joins: zzing (textual@moz-jucm1n.cpe.distributel.net)
[07:18:14] *** Joins: TheLemonMan (lemonboy@moz-arrg79.26-151.libero.it)
[07:18:38] *** Quits: dstrbad (dstrbad@moz-mua7l1.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[07:18:41] <z0ltan> Hmmm... I suppose only one way to find out - try it! :D ... thanks for the recommendation, mate...it helps!
[07:18:42] <Douman> i think if there would be something unexpected it would be with libs
[07:18:52] <z0ltan> yeah
[07:19:09] <z0ltan> I got really frustrated just trying to get the old random number version working!
[07:19:20] <z0ltan> Reading the API docs gave me a bad headache
[07:19:28] <z0ltan> Still, it's understandable I suppose
[07:19:32] <Douman> i think random is moved to separate crate?
[07:19:34] *** Quits: askobara (Mibbit@moz-64otl0.novotelecom.ru) (Quit: http://www.mibbit.com ajax IRC Client)
[07:19:36] <z0ltan> yeah :(
[07:20:00] <z0ltan> so even after I updated my Cargo.toml, I cannot compile from the command line... I have to use Cargo build every time
[07:20:36] <Douman> well cargo build is from command line too... :P
[07:20:50] <z0ltan> I had set up the rustc executable to compile source from Sublime Text.... works great while learning small programs... but now I have to change the setup
[07:20:52] *** Joins: eddyb (eddyb@moz-mj8.sgj.26.188.IP)
[07:21:04] <z0ltan> to point to cargo instead I suppose
[07:22:15] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[07:22:18] <Douman> i'm looking briefly into Rust by example. It is pretty nice
[07:22:24] *** Quits: avikpal_ (avikpal@moz-kvo.9fs.194.117.IP) (Ping timeout: 121 seconds)
[07:22:25] <z0ltan> Anyway, thanks for the link... I'd best get down to working through it!
[07:22:27] <z0ltan> :)
[07:22:41] <z0ltan> Adios!
[07:22:43] *** Joins: turtil (turtil@moz-8am.857.98.121.IP)
[07:23:03] *** Quits: z0ltan (Mibbit@moz-9os.mb6.5.103.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:23:08] *** Joins: avikpal (avikpal@moz-414.ggf.98.59.IP)
[07:23:39] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[07:23:53] *** Quits: hoony1 (Thunderbird@moz-noa.m8m.223.175.IP) (Client exited)
[07:24:00] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[07:26:31] *** Quits: jviereck (Adium@moz-pqri8u.dclient.hispeed.ch) (Connection closed)
[07:28:02] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[07:28:57] *** Quits: silven (quassel@moz-0roor3.priv.bahnhof.se) (Ping timeout: 121 seconds)
[07:31:00] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[07:31:28] *** Quits: Outlander (Mr@moz-tiv139.internode.on.net) (Ping timeout: 121 seconds)
[07:31:44] *** Joins: Temur (Tarmashirin@moz-lpe.g0r.217.117.IP)
[07:32:45] *** Quits: cholcombe (chris@moz-640.as4.71.80.IP) (Ping timeout: 121 seconds)
[07:33:18] *** Quits: GGist (Mibbit@moz-st7v59.wa.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[07:33:38] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[07:33:39] *** Joins: kmicu (kmicu@moz-uga.edn.218.91.IP)
[07:36:34] *** Joins: Ms2ger (Ms2ger@moz-t9m.9ho.190.193.IP)
[07:36:42] *** Joins: lenstr (lenstr@moz-nde.vju.25.171.IP)
[07:36:52] *** Quits: kkus (kkus@moz-baj4jj.74.srtnet.com) (Connection closed)
[07:36:52] *** Joins: boustrophedon (boustrophed@moz-hl0kqf.sh)
[07:37:03] *** Quits: lenstr (lenstr@moz-nde.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[07:37:18] *** Joins: lenstr (lenstr@moz-nde.vju.25.171.IP)
[07:38:09] *** Quits: lenstr (lenstr@moz-nde.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[07:40:03] *** Joins: lilybet (Mibbit@moz-370vru.ucom.ne.jp)
[07:40:15] *** Joins: loyd (loyd@moz-uft.32f.108.213.IP)
[07:40:51] *** Quits: lilybet (Mibbit@moz-370vru.ucom.ne.jp) (Quit: http://www.mibbit.com ajax IRC Client)
[07:42:23] *** Quits: avikpal (avikpal@moz-414.ggf.98.59.IP) (Connection closed)
[07:43:48] <Douman> there is no macro like file! to get function name?
[07:43:56] <Mutabah> Douman: Sadly, no
[07:44:06] <ChrisMorgan> There’s an RFC PR for it though.
[07:44:23] *** Joins: mzabaluev (Thunderbird@moz-3bijqs.bb.dnainternet.fi)
[07:44:42] <Douman> hm... is there any ways to extract it somehow without convenient way? :)
[07:45:31] *** Joins: avikpal (avikpal@moz-dkj.imq.194.117.IP)
[07:45:39] <Mutabah> ChrisMorgan: link?
[07:45:51] <Douman> hm... maybe backtrace
[07:47:43] *** Joins: cholcombe (chris@moz-k0ajnr.i01-5.onvol.net)
[07:47:55] *** Quits: iopq (Mibbit@moz-a8acdc.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[07:48:11] *** Joins: idk_erikson (quassel@moz-nto6je.hsi04.unitymediagroup.de)
[07:48:16] <ChrisMorgan> Mutabah: https://github.com/rust-lang/rfcs/pull/466
[07:48:16] * Mutabah is away (Misc)
[07:48:53] *** Joins: nott (nott@moz-to4.06o.57.86.IP)
[07:49:00] *** Joins: jiojiajiu (anonymous@moz-trc2j7.asianet.co.th)
[07:49:12] <Johannes> How can I get a mutable reference to T when i have Option<Box<T>> and T is traitobject? Some(ref mut sm) => &mut &**sm seem to destroy and box so the object is being dropped..
[07:50:54] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[07:51:18] <ChrisMorgan> Johannes: match opt { Some(ref mut x) => &mut **x, None => unreachable!() }
[07:51:30] *** Quits: mzabaluev (Thunderbird@moz-3bijqs.bb.dnainternet.fi) (Client exited)
[07:51:50] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[07:51:53] <ChrisMorgan> Johannes: &mut &**sm, where sm is of type &mut Box<T>, would be of type &mut &T.
[07:52:13] *** Quits: idk_erikson (quassel@moz-nto6je.hsi04.unitymediagroup.de) (Ping timeout: 121 seconds)
[07:52:15] <Johannes> ChrisMorgan: isn't that same as i do?
[07:52:18] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[07:52:34] <Douman> there is no time-related crates without need of gcc and C compiler?
[07:52:36] *** Quits: Temur (Tarmashirin@moz-lpe.g0r.217.117.IP) (Ping timeout: 121 seconds)
[07:53:11] <ChrisMorgan> Johannes: given sm of type &mut Box<T>, *sm is of type Box<T>, **sm of type T, &mut **sm of type &mut T.
[07:53:20] *** Joins: jviereck (Adium@moz-pqri8u.dclient.hispeed.ch)
[07:53:47] <Johannes> ChrisMorgan: yes, it works. but the object is being dropped.. 
[07:54:06] <ChrisMorgan> Johannes: it’s not being dropped on account of this. Full code?
[07:54:08] <Johannes> it should not be dropped because a struct is owning it.
[07:54:14] *** Quits: JanC (janc@moz-4uju5i.dsl.scarlet.be) (Ping timeout: 121 seconds)
[07:54:26] *** Joins: hhhhhhhhhh (mike@moz-1ptka2.cable.virginm.net)
[07:54:29] *** Quits: yusukesuzuki (yusukesuzuk@moz-dt1lc7.t-com.ne.jp) (Ping timeout: 121 seconds)
[07:54:44] *** Quits: fdaop (Thunderbird@moz-aovp8j.ocn.ne.jp) (Client exited)
[07:54:51] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[07:54:53] *** Quits: mythmon (mythmon@moz-n45.3os.241.192.IP) (Connection closed)
[07:54:58] *** Quits: basicdays (basicdays@moz-vreeoj.cable.rcn.com) (Ping timeout: 121 seconds)
[07:55:46] *** Joins: mythmon (mythmon@moz-n45.3os.241.192.IP)
[07:56:36] <Johannes> ChrisMorgan: full code is a bit difficult to share but i'll try to look in other places.. thanks!
[07:56:54] <ChrisMorgan> Johannes: even the full function
[07:57:53] *** Joins: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk)
[07:58:16] *** Quits: zzing (textual@moz-jucm1n.cpe.distributel.net) (Connection closed)
[07:58:18] *** Joins: avikpal_ (avikpal@moz-nl6.ti7.194.117.IP)
[07:58:49] *** Joins: zzing (textual@moz-jucm1n.cpe.distributel.net)
[07:59:29] *** Quits: avikpal (avikpal@moz-dkj.imq.194.117.IP) (Ping timeout: 121 seconds)
[08:00:04] *** Joins: canhtak (canhtak@moz-1a9fh1.luxdsl.pt.lu)
[08:00:08] <Sgeo_> Just because I have a variable of type T doesn't mean I own that value, right? Because it could be the result of let &t = some_ref;?
[08:00:18] *** Quits: naerbnic (naerbnic@moz-tm2gcl.ca.comcast.net) (Client exited)
[08:00:28] <Mutabah> Sgeo_: If you have a variable of type T, you own that T
[08:00:41] <Mutabah> That T could be &U, but you can do whatever you want with the T
[08:01:01] <WindowsBunny> you can move the T anywhere you want
[08:01:05] *** Joins: Layl (Mibbit@moz-iachg4.sdb.prolocation.net)
[08:01:17] <ChrisMorgan> Sgeo_: `let &t = some_ref;` is precisely equivalent to `let t = *some_ref;`.
[08:01:47] <WindowsBunny> Orite, I forgot you can do let &t
[08:02:00] <ChrisMorgan> let PATTERN = EXPRESSION;
[08:02:20] *** Quits: avikpal_ (avikpal@moz-nl6.ti7.194.117.IP) (Ping timeout: 121 seconds)
[08:02:35] * WindowsBunny stabs ChrisMorgan for the reminder
[08:02:46] <Sgeo_> ChrisMorgan, hmm, ok. Was this ever different?
[08:02:50] <ChrisMorgan> WindowsBunny: that’s not very grateful.
[08:02:52] <Sgeo_> I remember being confused by this once
[08:02:54] *** Joins: moar (mk@moz-7tl.thh.9.195.IP)
[08:03:02] <ChrisMorgan> Sgeo_: no, that has been true from time immemorial. 
[08:03:16] <ChrisMorgan> Viz. at least two years :P
[08:03:16] <bombless> playbot: let ref x = Box::new(42); let _: () = x;
[08:03:17] -playbot- <anon>:9:47: 9:48 error: mismatched types:
[08:03:17] -playbot-  expected `()`,
[08:03:17] -playbot- output truncated; full output at: http://bit.ly/1I2yR7A
[08:03:29] *** Joins: Layl_ (Mibbit@moz-iachg4.sdb.prolocation.net)
[08:03:32] <WindowsBunny> ChrisMorgan: I don't have a lot of cheese, thus no need to be full of grates
[08:03:43] <ChrisMorgan> bombless: and `let ref x = y;` is precisely equivalent to `let x = &y;`
[08:03:51] <Layl_> virtualbox installation is a meaniepants to my network connection
[08:03:52] <Ms2ger> bombless, let () = x; also works for that purpose
[08:04:01] *** Quits: zzing (textual@moz-jucm1n.cpe.distributel.net) (Ping timeout: 121 seconds)
[08:04:14] <bombless> playbot: let () = 0;
[08:04:15] -playbot- <anon>:9:13: 9:15 error: mismatched types:
[08:04:16] -playbot-  expected `_`,
[08:04:16] -playbot- output truncated; full output at: http://bit.ly/1DOzB9M
[08:04:16] <ChrisMorgan> bombless: … because () is a perfectly satisfactory pattern!
[08:04:36] <bombless> :D thanks
[08:04:52] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[08:05:12] *** Joins: zzing (textual@moz-jucm1n.cpe.distributel.net)
[08:05:51] <bombless> I think `ref x = &a_string` cannot turn `String` into &str, unlike `&a_string`.
[08:05:57] <Layl_> playbot: let value = ();
[08:05:58] -playbot- ()
[08:06:02] <Layl_> neato
[08:06:06] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[08:06:15] <bombless> hmm I meant `ref x = a_string`
[08:06:33] *** Joins: tcard (tcard@moz-5eb1g3.staticIP.rima-tde.net)
[08:06:56] *** Joins: JanC (janc@moz-vev082.dsl.scarlet.be)
[08:07:02] <Layl_> playbot: let y = String::from("test"); let x: &str = &y; y
[08:07:03] -playbot- <anon>:9:57: 9:58 error: cannot move out of `y` because it is borrowed
[08:07:03] -playbot- <anon>:9         let y = String::from("test"); let x: &str = &y; y
[08:07:03] -playbot- output truncated; full output at: http://bit.ly/1I2z7U1
[08:07:10] <Layl_> oh right
[08:07:12] <Layl_> playbot: let y = String::from("test"); let x: &str = &y; x
[08:07:13] -playbot- <anon>:9:54: 9:55 error: `y` does not live long enough
[08:07:13] -playbot- <anon>:9         let y = String::from("test"); let x: &str = &y; x
[08:07:13] -playbot- output truncated; full output at: http://bit.ly/1DOzQSb
[08:07:22] <Layl_> nevermind I'm doing something wrong
[08:07:32] *** Quits: errordeveloper (ilya@moz-rfe.3fh.206.90.IP) (Ping timeout: 121 seconds)
[08:08:00] *** Quits: Layl (Mibbit@moz-iachg4.sdb.prolocation.net) (Quit: http://www.mibbit.com ajax IRC Client)
[08:08:09] *** Layl_ is now known as Layl
[08:08:12] *** Joins: naerbnic (naerbnic@moz-tm2gcl.ca.comcast.net)
[08:08:14] *** Quits: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk) (Ping timeout: 121 seconds)
[08:08:18] *** Quits: zzing (textual@moz-jucm1n.cpe.distributel.net) (Connection closed)
[08:08:19] <Layl> there can be only ooooooone
[08:09:05] <bombless> playbot let x = 0.to_string(); let ref y = x; let z: &str = y;
[08:09:16] <bombless> playbot: let x = 0.to_string(); let ref y = x; let z: &str = y;
[08:09:18] -playbot- ()
[08:09:19] <bombless> hmm
[08:09:26] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[08:10:46] *** Joins: zzing (textual@moz-jucm1n.cpe.distributel.net)
[08:13:19] *** Quits: rustbot (havvy@moz-u0e4io.net) (RecvQ exceeded)
[08:13:37] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:14:38] *** Joins: genbattle (genbattle@moz-ikj3l8.xtra.co.nz)
[08:14:42] *** Joins: Jackneill (Jackneill@moz-6cq4oi.pool.digikabel.hu)
[08:15:14] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[08:15:26] *** Joins: silven (quassel@moz-0roor3.priv.bahnhof.se)
[08:15:54] *** Quits: zzing (textual@moz-jucm1n.cpe.distributel.net) (Connection closed)
[08:16:03] *** Quits: Shackra (Jorge@moz-7bh.ng6.177.186.IP) (Connection closed)
[08:18:05] *** Joins: zummenix (zummenix@moz-uo3.96n.87.213.IP)
[08:18:32] *** Quits: alonlevy (alon@moz-p48.q13.159.94.IP) (Ping timeout: 121 seconds)
[08:20:04] *** Joins: spider-mario (spidermario@moz-coblcf.fbx.proxad.net)
[08:20:32] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[08:20:57] *** Quits: genbattle (genbattle@moz-ikj3l8.xtra.co.nz) (Quit: Leaving)
[08:22:01] *** Quits: hhhhhhhhhh (mike@moz-1ptka2.cable.virginm.net) (Quit: WeeChat 1.1.1)
[08:22:31] *** Quits: mindtree (Mitch@moz-uprdld.iprimus.net.au) (Ping timeout: 121 seconds)
[08:22:31] *** Joins: mindtree_ (Mitch@moz-mqk7nv.iprimus.net.au)
[08:23:51] *** Joins: avikpal (avikpal@moz-7ao.9fs.194.117.IP)
[08:24:18] *** Joins: grncdr (Adium@moz-m1g.e47.90.95.IP)
[08:24:47] *** Joins: zzing (textual@moz-jucm1n.cpe.distributel.net)
[08:25:14] *** Joins: scientes (scientes@moz-l6hdmu.wa.comcast.net)
[08:25:29] *** Quits: tcard (tcard@moz-5eb1g3.staticIP.rima-tde.net) (Client exited)
[08:26:09] <scientes> what does rust need for bare-metal?
[08:26:17] <scientes> would avr-libc be sufficient? https://github.com/avr-llvm/llvm
[08:26:50] *** Quits: dawehner-afk (quassel@moz-grp.h0g.138.193.IP) (Ping timeout: 121 seconds)
[08:26:51] <Mutabah> scientes: For bare metal, (no libs) basically nothing
[08:27:07] <zummenix> Hi, Why `String` doesn't implement `IntoIterator` trait?
[08:27:08] <Mutabah> scientes: For libcore, it needs an memcpy/memset and unwind iirc
[08:27:21] <Mutabah> zummenix: What would it iterate?
[08:27:27] *** Joins: dawehner (quassel@moz-grp.h0g.138.193.IP)
[08:27:27] <zummenix> chars
[08:27:49] <Mutabah> zummenix: Yet &str has .chars() .bytes() and .graphemes()
[08:27:55] <Mutabah> all three of which get general use
[08:28:51] <scientes> Mutabah, is unwind a llvm intrinsic?
[08:29:08] <scientes> cause there is no man page
[08:29:14] <Mutabah> scientes: It's not an intrinsic
[08:29:33] <Mutabah> Iirc, the name is "rust_begin_unwind", which can just be an abort/infinite loop if you like
[08:30:12] * scientes wonder's if libc's backtrace...
[08:30:34] <Mutabah> scientes: You just need that function avaliable, it doesn't need to do anything
[08:30:48] <scientes> what is it used for?
[08:31:05] *** Joins: idk_erikson (quassel@moz-nto6je.hsi04.unitymediagroup.de)
[08:31:21] <Mutabah> scientes: Just as the common target method of panic!
[08:31:26] <reem> zummenix: you could make an argument for chars, bytes or graphemes, so we don’t have a one yet because it’s not clear
[08:31:42] *** Joins: dinfuehr (dinfuehr@moz-97iuj7.highway.telekom.at)
[08:31:43] <Mutabah> scientes: https://github.com/thepowersgang/rust-barebones-kernel Take a look at this as the requirements for using libcore
[08:31:43] *** Quits: grncdr (Adium@moz-m1g.e47.90.95.IP) (Quit: Leaving.)
[08:31:44] *** Joins: dstrbad (dstrbad@moz-rc61go.dsl.iskon.hr)
[08:31:53] <eddyb> .bytes() doesn't seem very useful to me
[08:32:08] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[08:32:14] *** Quits: choplin (choplin@moz-h8t.4df.82.157.IP) (Connection closed)
[08:32:20] <Layl> cripes, I'm looking at the horrifying result of bochs sent through ssh from virtual box to mingw ssh
[08:32:32] <Layl> I should probably put this horror out of its misery
[08:32:35] *** Joins: choplin (choplin@moz-h8t.4df.82.157.IP)
[08:32:48] <eddyb> .as_bytes() works just as well in a for loop, but usually you only want bytes when you work with slices of them
[08:32:56] *** Quits: choplin (choplin@moz-h8t.4df.82.157.IP) (Connection closed)
[08:33:11] <dinfuehr> hi, is it possible to implement Default for Result<(), Error>? I want Default::new() to return Ok(()).
[08:33:22] *** Quits: dstrbad (dstrbad@moz-rc61go.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[08:33:45] <eddyb> dinfuehr: isn't it Default::default()?
[08:33:47] <Mutabah> dinfuehr: Have you tried?
[08:33:49] *** Joins: rustbot (havvy@moz-u0e4io.net)
[08:33:53] <dinfuehr> i got: the impl does not reference any types defined in this crate; only traits defined in the current crate can be implemented for arbitrary types
[08:34:01] <Mutabah> In that case, no.
[08:34:21] <zummenix> I need to know the count of items in a collection and I want to implement generic impl for this.
[08:34:27] <Mutabah> scientes: In short - Rust requires practically no runtime, and can be trivally used on bare metal
[08:34:34] *** Joins: djcb (user@moz-nqdj21.elisa-laajakaista.fi)
[08:34:40] <eddyb> playbot: let r: Result<(), String> = Default::default(); r
[08:34:41] *** Joins: tcard (tcard@moz-5eb1g3.staticIP.rima-tde.net)
[08:34:41] -playbot- output truncated; full output at: http://bit.ly/1I2ALVM
[08:34:47] <scientes> cool, i need to learn rust now.
[08:34:51] <Havvy> Rust requires no runtime at all, not just practically no runtime.
[08:35:06] <Mutabah> Havvy: Depends on the definition of "runtime"
[08:35:31] <scientes> Mutabah, it is a runtime if it holds state
[08:35:35] <scientes> rather than just code
[08:35:36] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[08:35:41] <Mutabah> Good point. In that case - no runtime
[08:36:02] <Mutabah> (if stack checks are turned off on x86/x86_64)
[08:36:13] <eddyb> Rust has a bunch of code and thread locals in the standard library
[08:36:25] <eddyb> that could be considered a runtime
[08:36:35] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[08:36:51] <eddyb> like storage for argv and envp
[08:37:35] <eddyb> actually, those would be globals
[08:37:43] <scientes> eddyb, argv and envp are OS-specific thou
[08:37:51] <scientes> even if POSIX
[08:38:12] <eddyb> libstd has a thin runtime around process state and threading
[08:38:21] <eddyb> but that's it AFAIK
[08:38:29] *** Joins: lenstr (lenstr@moz-nde.vju.25.171.IP)
[08:38:41] <scientes> threading does not need to hold state
[08:38:42] *** Quits: avikpal (avikpal@moz-7ao.9fs.194.117.IP) (Ping timeout: 121 seconds)
[08:38:47] <scientes> well i guess it does
[08:39:01] <scientes> eddyb, i thought it just used pthreads ATM?
[08:39:09] <eddyb> of course it does
[08:39:19] <scientes> well thats a runtime
[08:39:20] *** Quits: lenstr (lenstr@moz-nde.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[08:39:25] *** Quits: rootnode (rootnode@moz-go1ut4.ip1.george24.com) (Quit: WeeChat 1.2-dev)
[08:39:29] *** Joins: lenstr (lenstr@moz-nde.vju.25.171.IP)
[08:39:34] *** Joins: grncdr (Adium@moz-m1g.e47.90.95.IP)
[08:39:42] <eddyb> right, but we have a bit of stuff on top. or we used to, anyways
[08:40:02] <scientes> we should get rid of __morestack, and use a SIGSEGV handler instead
[08:40:06] <scientes> for contiguous stacks
[08:40:10] *** Joins: rootnode (rootnode@moz-go1ut4.ip1.george24.com)
[08:40:19] *** Joins: edlothiol (user@moz-dvpmm3.dynamic.kabel-deutschland.de)
[08:40:28] <scientes> eddyb, of course for the channel stuff
[08:40:30] <Mutabah> scientes: morestack jsut errors atm
[08:40:38] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Ping timeout: 121 seconds)
[08:40:43] <Mutabah> scientes: It's more defensive, in case of a stack frame extending across the guard page
[08:41:21] *** Joins: yagooar (yagooar@moz-33cik5.adsl.green.ch)
[08:41:24] <scientes> Mutabah, then it should only be added to functions that have a stack size larger than the page size
[08:42:44] *** Joins: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP)
[08:43:10] <aatch> Ok, how do use a macro from another module? I've tried copying what libstd does, but I can't seem to make it work...
[08:43:15] *** Joins: mib_8sz284 (Mibbit@moz-26c.nh5.64.121.IP)
[08:43:20] <Mutabah> aatch: Ordering?
[08:43:37] <Mutabah> aatch: Is the using module before or after the defining one in the parent module?
[08:43:37] <darkfox> Hello world; can anyone explain why 'static method's have an issue here ? http://huonw.github.io/blog/2015/01/object-safety/
[08:43:38] *** Quits: mib_8sz284 (Mibbit@moz-26c.nh5.64.121.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:43:38] <yagooar> Given a BufReader<&File>, is there a way of accessing the underlying File? I want to query the length of the file, without having to pass it around explicitly, as I already pass the reader
[08:43:49] * aatch facepalms
[08:43:53] <aatch> Mutabah, of course.
[08:43:56] <Mutabah> aatch: :D
[08:44:05] <aatch> Mutabah, I forgot about that...
[08:44:09] <Mutabah> aatch: I'd explain why, but you already know
[08:44:19] * darkfox is having an issue trying to get a box of a trait; where the T::new(key) returns the type Box<Self>
[08:44:37] * aatch shakes cane
[08:44:50] *** Joins: grncdr1 (Adium@moz-m1g.e47.90.95.IP)
[08:44:55] <FreeFull> yagooar: With .get_ref()
[08:44:57] <aatch> I remember when you couldn't use macros from other modules at all!
[08:44:59] *** Joins: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de)
[08:45:37] *** Quits: grncdr (Adium@moz-m1g.e47.90.95.IP) (Ping timeout: 121 seconds)
[08:46:05] *** Joins: avikpal (avikpal@moz-4oc.cen.194.117.IP)
[08:46:08] *** Quits: garming (garming@moz-jh7ukh.xtra.co.nz) (Connection closed)
[08:46:41] *** Quits: loyd (loyd@moz-uft.32f.108.213.IP) (Ping timeout: 121 seconds)
[08:48:36] *** Joins: kieran (kieran@moz-c5gk5j.ihug.co.nz)
[08:48:50] <aatch> I'm improving my unit tests, given that I've uncovered several embarrasing errors in my code that I would have caught if I'd bothered with tests...
[08:49:46] *** Quits: nott (nott@moz-to4.06o.57.86.IP) (Ping timeout: 121 seconds)
[08:50:16] <aatch> since this is all floating-point tests, just doing straight equality is probably not going to work. I already have an ApproxEq trait, I just wanted an assertion macro to go with it.
[08:50:18] *** Joins: tigrou3tac (fabien@moz-gdonfo.fbx.proxad.net)
[08:50:51] *** Joins: Kroisse (Kroisse@moz-t75tk5.krois.se)
[08:51:04] <yagooar> FreeFull: thanks!
[08:51:37] <darkfox> trait X { new(a: u8) -> Self; }; // how is this not object-safe? The compiler complains because "method 'new' has no receiver" and I guess if it go past that - it would then complain about 'Self' ?  ** ??? http://huonw.github.io/blog/2015/01/object-safety/
[08:51:55] *** darkowlzz is now known as darkowlzz|afk
[08:52:45] *** Quits: kieran (kieran@moz-c5gk5j.ihug.co.nz) (Ping timeout: 121 seconds)
[08:53:01] *** Joins: errordeveloper (ilya@moz-rfe.3fh.206.90.IP)
[08:53:36] <aatch> darkfox, static methods aren't object safe since the definition of object safe is that you have to be able to call **all** trait methods on a trait object.
[08:54:17] *** Joins: jwatt (roslea@jwatt.irc.users.mozilla.org)
[08:54:28] <darkfox> aatch: But when impl'd - that is true...?
[08:54:39] *** Quits: dinfuehr (dinfuehr@moz-97iuj7.highway.telekom.at) (Connection closed)
[08:55:00] *** Joins: dinfuehr (dinfuehr@moz-97iuj7.highway.telekom.at)
[08:55:09] <darkfox> I also don't see how everything works until I attempt to box the type to store in a vector...
[08:56:13] <aatch> darkfox, well object safety is only relevant if you try to actually make a trait object.
[08:56:45] <darkfox> aatch: Which sounds like impl Foo for Foo ?
[08:56:58] <darkfox> Which, I'm not doing - box is doing this? o.o
[08:57:40] <aatch> darkfox, we only error when we see a trait object coercion.
[08:58:02] *** Quits: yagooar (yagooar@moz-33cik5.adsl.green.ch) (Quit: )
[08:58:25] <aatch> darkfox, there's definitely arguments to be made that we should error if we also see a trait object that isn't object safe.
[08:58:51] <aatch> But in practice, you'll get the error the moment you try to use any functions/methods that require that type.
[08:59:01] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[08:59:03] *** Quits: dinfuehr (dinfuehr@moz-97iuj7.highway.telekom.at) (Ping timeout: 121 seconds)
[08:59:03] <darkfox> Correction; it turns into a box perfectly fine - but has an issue when pushed into a vector...
[08:59:22] <aatch> darkfox, nope, the coercion is happening in the push
[08:59:41] <aatch> darkfox, i'm guessing you have `let x = Box::new(foo); v.push(x);`?
[08:59:48] <darkfox> Yes
[09:00:04] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Connection closed)
[09:00:06] <aatch> darkfox, yeah, well the type of x is Box<Foo>, not Box<Trait>
[09:00:10] <darkfox> Vec<Box<T>
[09:00:19] <darkfox> >
[09:00:37] <darkfox> Hmm
[09:00:44] <aatch> darkfox, the coercion happens in the push because thats the point where it needs to be a trait object, rather than just a regular box.
[09:00:45] <darkfox> How do I store a vector of a trait then?
[09:01:00] <aatch> darkfox, have your trait be object safe?
[09:01:12] *** Joins: erz (erz@moz-efrhus.broadband.corbina.ru)
[09:01:16] <darkfox> Which it isn't...
[09:01:21] <Johannes> i have problems with premature released Arc<Mutex<T>> object.. can someone help me by taking a look here http://is.gd/9BcEWx  rough sketch of the my code
[09:01:33] *** Joins: stomper (Mibbit@moz-u6g.e4f.217.91.IP)
[09:01:52] <darkfox> Nor can it be
[09:02:27] *** Quits: thiblahute (tsaunier@moz-68f5rr.rev.sfr.net) (Connection closed)
[09:02:37] *** Joins: thiblahute (tsaunier@moz-68f5rr.rev.sfr.net)
[09:02:40] <aatch> Johannes, unfortunately, that code doesn't show the part that actually locks the mutex.
[09:03:20] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[09:03:24] <darkfox> aatch: Any suggestions other than make it object safe?
[09:03:33] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[09:03:42] <aatch> darkfox, don't use a trait object?
[09:03:50] <aatch> darkfox, there aren't really many options here.
[09:04:28] *** Joins: ekiwi (kevin@moz-a2becv.halifax.rwth-aachen.de)
[09:04:30] *** ekiwi is now known as ekiwi_
[09:04:41] *** Joins: arBmind (Andreas@moz-goolk9.adsl.alicedsl.de)
[09:04:41] *** Quits: ekiwi_ (kevin@moz-a2becv.halifax.rwth-aachen.de) (Client exited)
[09:04:44] <eddyb> scientes: that's what stack probing is for
[09:04:46] <darkfox> I mean... What can I do to keep track of these Transports if I can't store them in an object?
[09:04:55] <eddyb> not sure whether it landed in LLVM or not
[09:04:58] *** Quits: acmiyaguchi (acmiyaguchi@moz-knv031.res.rr.com) (Ping timeout: 121 seconds)
[09:05:17] <Hail_Spacecake> if I'm using the newtype pattern
[09:05:27] <scientes> eddyb, when i was reading generated assembly of ruby 1 beta __morestack was on every prologue
[09:05:31] <Hail_Spacecake> so I have struct MyNewType(pub type)
[09:05:31] <scientes> but yeah i agree
[09:05:49] <Hail_Spacecake> is there any way to get access to the inner wrapped type
[09:05:56] <Hail_Spacecake> without a one-arm match statement?
[09:06:04] <Hail_Spacecake> that seems a little verbose for extracting the one and only inner type
[09:06:16] *** Joins: Altazimuth_ (Altazimuth@moz-rb7u6p.skybroadband.com)
[09:06:25] <aatch> Hail_Spacecake, you can use tuple-indexing to get at the first field.
[09:06:26] <Johannes> aatch: in the callbacks i transmute back and lock before using..
[09:06:43] *** Parts: stomper (Mibbit@moz-u6g.e4f.217.91.IP) ()
[09:06:44] <aatch> Hail_Spacecake, so `my_new_type.0`
[09:06:50] <Hail_Spacecake> oh that works?
[09:07:12] *** Joins: borromakot (Adium@moz-j6pi1a.il.comcast.net)
[09:07:14] <aatch> Hail_Spacecake, yep, works for regular tuple and tuple structs (of which a new type struct is a special case).
[09:07:35] *** Quits: borromakot (Adium@moz-j6pi1a.il.comcast.net) (Quit: Leaving.)
[09:08:10] <Hail_Spacecake> cool
[09:08:11] <Hail_Spacecake> good to know
[09:08:16] <aatch> Johannes, ok, but without more information nobody is going to be able to tell you what's wrong.
[09:08:39] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[09:09:07] <Johannes> aatch: I see. first i wanted to confirm that the shared_a will surely live as long as the loop is running (while in scope).
[09:09:36] *** Joins: dyoung (dyoung@moz-sqo7j2.foa6.hhh5.0470.2001.IP)
[09:09:56] <aatch> Johannes, probably, if you use it all in the loop, then definitely.
[09:10:02] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[09:10:11] <Johannes> aatch: maybe the Arc<Mutex<T>> is being consumed in one of my callbacks..
[09:10:40] *** Joins: Esption (Esption@moz-3gitvr.dynamic.tds.net)
[09:10:59] *** Quits: Amaranth (travis@moz-1raqsl.cpe.cableone.net) (Ping timeout: 121 seconds)
[09:12:31] *** Quits: errordeveloper (ilya@moz-rfe.3fh.206.90.IP) (Ping timeout: 121 seconds)
[09:13:15] *** Joins: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se)
[09:13:54] <Johannes> aatch: it's kind of messy with wayland callback stuff.. but I found the reason for the drop! thanks again :)
[09:14:00] *** Parts: aatch (james@moz-is4j4r.cable.telstraclear.net) ("Leaving")
[09:14:07] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[09:14:24] <aatch> Bah, stupid middle-click-close
[09:16:08] *** Joins: Ioyrie (Guest@moz-rnm99h.cpe.distributel.net)
[09:17:39] *** Quits: naerbnic (naerbnic@moz-tm2gcl.ca.comcast.net) (Client exited)
[09:18:52] *** Joins: demelev (Mibbit@moz-5qbmjd.dyn.idknet.com)
[09:19:01] <Blub\w> is there a way to specify the size/type of a #[repr(C)] enum?
[09:19:26] *** Joins: errordeveloper (ilya@moz-rfe.3fh.206.90.IP)
[09:19:36] <eddyb> Blub\w: #[repr(u8)]
[09:19:45] <Blub\w> oh
[09:19:54] <eddyb> I believe C is the equivalent of the same enum in C
[09:20:26] <eddyb> #[repr(C)], I mean
[09:21:16] *** Quits: zummenix (zummenix@moz-uo3.96n.87.213.IP) (A TLS packet with unexpected length was received.)
[09:21:30] <Douman> it's a bitt difficult to use cargo doc to make documentation for github's hosting
[09:21:33] <Blub\w> yeah I knew that much, but the in foreign struct I have here they use a separate size for it
[09:21:35] *** Joins: xeviox (ben@moz-47eat7.pools.vodafone-ip.de)
[09:22:11] <Blub\w> thanks
[09:22:23] *** Quits: moar (mk@moz-7tl.thh.9.195.IP) (Connection closed)
[09:23:48] <demelev> I have struct MyStruct { names: Vec<String> }
[09:24:03] <demelev> I want use it like 
[09:24:06] <xeviox> what software is used on the rust forums? it looks great!
[09:24:16] <aatch> xeviox, Discourse
[09:24:23] <demelev> for v in &mystruct {}
[09:24:24] *** Quits: Johannes (Johannes@moz-4et8d7.ocn.ne.jp) (Quit: Leaving...)
[09:24:36] *** Joins: veqz (veqz@moz-nvr8g6.209.getinternet.no)
[09:24:39] <demelev> what I need to do for it?
[09:24:41] *** Quits: kalail (uid62296@moz-5ck9vu.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[09:24:46] <xeviox> aatch: really? damn, didn't know they also provide forum software ..
[09:24:51] <xeviox> thanks :D
[09:25:17] <aatch> demelev, you need to implement `IntoIterator` for `&MyStruct`
[09:25:41] <aatch> xeviox, ??? Discourse *only* provides that software. You maybe getting confused with Disqus?
[09:25:48] *** Joins: debu (debu@moz-6kgmmq.adsl.alicedsl.de)
[09:25:52] <xeviox> aatch: ah right :/
[09:26:08] *** Joins: daschl (Adium@moz-oirn1i.vie.surfer.at)
[09:26:13] <demelev> Thanks!
[09:26:14] <Douman> but i was able to do it :D http://doumanash.github.io/trace-macro/
[09:26:25] <xeviox> damn to early on a holiday lol
[09:26:32] <Blub\w> I can't decide whether in custom bindings I want to keep the C API's capitalized enum names or CamelCase them
[09:26:33] <Douman> dunno who decied that you need to put index.html to separate folder
[09:26:48] *** Joins: nott (nott@moz-to4.06o.57.86.IP)
[09:28:27] <SneakySnake> Did Traits on doc.rust-lang.org get a violet color?
[09:28:29] <SneakySnake> Nice.
[09:29:18] *** Quits: lenstr (lenstr@moz-nde.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[09:29:39] <Layl> not nice, a lot of people aren't liking that color
[09:30:00] <Layl> it was changed because chrome by default highlights text in orange
[09:30:01] *** Joins: lenstr (lenstr@moz-nde.vju.25.171.IP)
[09:30:09] <SneakySnake> Oh.
[09:30:15] <Layl> at least, for rust doc it did
[09:30:27] <Layl> huh odd it isn't doing that for me
[09:30:28] *** Quits: james4k (james@moz-ao8aj6.consolidated.net) (Ping timeout: 121 seconds)
[09:30:35] *** Joins: rvlander (rvlander@moz-f9rs0f.criu.9fof.41d0.2001.IP)
[09:30:39] <Layl> I wonder if it's some specific thing I don't know about because I haven't done web dev in half a year
[09:30:48] *** Quits: rvlander (rvlander@moz-f9rs0f.criu.9fof.41d0.2001.IP) (Client exited)
[09:30:52] *** Joins: Temur (Tarmashirin@moz-lpe.g0r.217.117.IP)
[09:31:17] <SneakySnake> Chromium highlights stuff in blue for me, and colored items inside the selection are turned black
[09:31:32] <SneakySnake> http://i.imgur.com/oDX9VwX.png
[09:31:54] *** Quits: lenstr (lenstr@moz-nde.vju.25.171.IP) (Quit: Leaving...)
[09:31:54] <Layl> specific change: https://github.com/rust-lang/rust/pull/24804
[09:32:06] <SneakySnake> Oh wait
[09:32:09] *** Joins: Amaranth (travis@moz-1raqsl.cpe.cableone.net)
[09:32:17] <SneakySnake> It's search highlight, not selection highlight
[09:32:26] *** Joins: yusukesuzuki (yusukesuzuk@moz-dt1lc7.t-com.ne.jp)
[09:32:32] <Layl> ah it's for ctrl-f yea
[09:32:37] *** Joins: laogao (laogao@moz-k1t.k7v.78.124.IP)
[09:32:42] *** Quits: canhtak (canhtak@moz-1a9fh1.luxdsl.pt.lu) (Client exited)
[09:32:42] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[09:33:04] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[09:33:35] <SneakySnake> Yup, it's hard to see it like that
[09:33:49] <SneakySnake> I think I've actually run into this problem before, but shrugged it of as not a big deal
[09:33:50] *** Quits: daschl (Adium@moz-oirn1i.vie.surfer.at) (Quit: Leaving.)
[09:33:59] *** Joins: sonder (chatzilla@moz-nt8r49.idi.ntnu.no)
[09:34:45] <SneakySnake> Whatever, I kind of like the Violet color too
[09:35:54] <Ilari> Hmmm... What is 'can't make docs for trait item with name Some("UNRESTRICTED")' about? Seemingly has caused last two nightly builds to fail (in distcheck)?
[09:36:04] *** Joins: laogao_ (laogao@moz-k1t.k7v.78.124.IP)
[09:36:42] *** Quits: laogao (laogao@moz-k1t.k7v.78.124.IP) (Ping timeout: 121 seconds)
[09:37:06] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[09:37:20] <Blub\w> why do only floats implement .max(v) and no integers :o
[09:38:50] <SneakySnake> Blub\w: Probably because partial_min/max is unstable, and it would be nice to have a stable min/max for floats
[09:39:13] <SneakySnake> there is std::cmp::min/max for integers and other things that implement Ord
[09:39:34] *** Joins: ascarter (ascarter@moz-705hf8.wa.comcast.net)
[09:39:59] <Blub\w> ah
[09:41:28] *** Quits: jaen (jaen@moz-ifmik2.copit.pl) (Connection closed)
[09:41:56] *** Joins: jaen (jaen@moz-ifmik2.copit.pl)
[09:42:39] *** Joins: mark_edward (mark@moz-dg4mrp.in.comcast.net)
[09:43:51] *** Quits: Amaranth (travis@moz-1raqsl.cpe.cableone.net) (Ping timeout: 121 seconds)
[09:44:16] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[09:44:38] *** Joins: Amaranth (travis@moz-1raqsl.cpe.cableone.net)
[09:47:00] <aji> does rust have some sort of standard two-way map type?
[09:47:01] *** Quits: avikpal (avikpal@moz-4oc.cen.194.117.IP) (Ping timeout: 121 seconds)
[09:47:07] <Ms2ger> No
[09:47:12] <aji> alright
[09:47:58] <SneakySnake> Ilari: There is https://github.com/rust-lang/rust/issues/25000, which references https://github.com/rust-lang/rust/pull/24989, which allegedly fixed this
[09:48:24] <SneakySnake> Hopefully next nightly build won't fail and I can enjoy my bleeding edge rustc
[09:50:20] *** Quits: Amaranth (travis@moz-1raqsl.cpe.cableone.net) (Ping timeout: 121 seconds)
[09:51:21] *** Parts: Ioyrie (Guest@moz-rnm99h.cpe.distributel.net) ()
[09:52:11] <Ilari> SneakySnake: Yeah, in the latest available nightly, associated constants seem pretty much only good for causing ICEs.
[09:52:20] *** Quits: Layl (Mibbit@moz-iachg4.sdb.prolocation.net) (Quit: http://www.mibbit.com ajax IRC Client)
[09:53:10] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[09:53:40] *** Joins: loyd (loyd@moz-uft.32f.108.213.IP)
[09:53:57] <bluss> oh just like the introduction of associated types
[09:54:06] <pyfisch> hi, I know there must be a better way to write this piece of code, but I don't know how? http://is.gd/f0uumH any ideas?
[09:54:23] *** Joins: avikpal (avikpal@moz-g35.6lo.194.117.IP)
[09:55:33] <bluss> pyfisch: this is very similar though http://is.gd/3tv4pF
[09:55:35] <Ilari> Trying to use associated constant as array size causes ICE (this is known). Also, I have found that trying to use boolean associated constant as if conditional causes ICE.
[09:57:27] *** Quits: jviereck (Adium@moz-pqri8u.dclient.hispeed.ch) (Quit: Leaving.)
[09:57:41] *** Joins: Amaranth (travis@moz-1raqsl.cpe.cableone.net)
[09:57:44] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[09:57:44] <bluss> pyfisch: a matches!() macro could make it shorter
[10:00:03] *** Joins: forgottenone (forgottenon@moz-pde.j99.45.92.IP)
[10:00:28] <aji> is there a type like a vector that can have elements deleted and insert things at some potentially deleted index?
[10:00:41] <aji> i can't think of a name for it or a way to describe it
[10:01:08] <Mutabah> aji: Sparse vector?
[10:01:37] <aji> hm, possibly. i don't see anything like what i want in std::collections
[10:01:43] <aji> good sign it probably doesn't exist in the rust stdlib?
[10:02:00] *** Quits: scientes (scientes@moz-l6hdmu.wa.comcast.net) (Ping timeout: 121 seconds)
[10:02:07] <aji> easy enough to build myself but if there was an implementation there i'd want to use that instead
[10:02:26] <aji> probably spent more time looking than i would have writing my own, lol
[10:02:26] <xeviox> how can I get something like this to work? "static mut received_interrupt: AtomicBool = AtomicBool::new(false);"
[10:02:31] *** Quits: loyd (loyd@moz-uft.32f.108.213.IP) (Ping timeout: 121 seconds)
[10:02:41] <Mutabah> xeviox: 1. dont' use static mut
[10:02:48] <Mutabah> xeviox: 2. use ATOMIC_BOOL_INIT
[10:03:23] <HollyRain> I've a "pub enum Foo" in 'crate_a/lib.rs' and, I have a module in 'crate_a/mod_a/mod.rs' How to access to "Foo" from "mod_a"?
[10:03:34] <Mutabah> ::Foo
[10:04:19] *** Joins: kieran (kieran@moz-c5gk5j.ihug.co.nz)
[10:04:52] <Ms2ger> Or just "use Foo;"
[10:05:05] <xeviox> Mutabah: thanks :D
[10:05:43] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[10:05:46] <HollyRain> thx
[10:06:03] <bluss> aji: is it VecMap ?
[10:07:18] <aji> no
[10:07:26] *** Quits: errordeveloper (ilya@moz-rfe.3fh.206.90.IP) (Ping timeout: 121 seconds)
[10:07:34] <aji> i want something like Arena that also allows freeing things by maintaining a free list, more or less
[10:07:44] <aji> going to write one on top of two vectors
[10:08:19] *** Joins: acmiyaguchi (acmiyaguchi@moz-knv031.res.rr.com)
[10:08:27] *** Quits: kieran (kieran@moz-c5gk5j.ihug.co.nz) (Ping timeout: 121 seconds)
[10:09:45] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[10:11:03] *** Joins: Johannes (Johannes@moz-ufvp1b.nttpc.ne.jp)
[10:11:22] *** Quits: untitaker_ (untitaker@moz-pnlnf4.highway.telekom.at) (Ping timeout: 121 seconds)
[10:12:02] *** Quits: rouma (zack@moz-stcfbs.pekn.hg8m.2000.2604.IP) (Ping timeout: 121 seconds)
[10:12:39] *** Quits: nott (nott@moz-to4.06o.57.86.IP) (Ping timeout: 121 seconds)
[10:15:54] *** Joins: _petr``` (petr@moz-2pi.7q8.248.178.IP)
[10:16:18] *** Joins: nott (nott@moz-to4.06o.57.86.IP)
[10:16:26] *** Joins: larhat1 (Adium@moz-egv.ld6.128.213.IP)
[10:16:35] *** Joins: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net)
[10:17:11] *** Joins: Layl (Mibbit@moz-iachg4.sdb.prolocation.net)
[10:17:12] *** Quits: nicoch (nicoch@moz-g02d7k.be) (Quit: Textual IRC Client: www.textualapp.com)
[10:17:40] <bluss> aji: by the way, crates.io is another place to look for existing solutions
[10:19:18] *** Quits: avikpal (avikpal@moz-g35.6lo.194.117.IP) (Ping timeout: 121 seconds)
[10:19:38] *** Joins: kalail (uid62296@moz-5ck9vu.charlton.irccloud.com)
[10:19:39] *** Quits: O01eg (o01eg@moz-437n57.62s0.3egh.2698.2a02.IP) (Client exited)
[10:20:28] <aji> well i wouldn't know what to search for
[10:20:33] <aji> for this, anyway
[10:20:40] <Mutabah> Someone suggested a hack earlier today for how to use a macro param in a bound, what was it?
[10:20:47] <aji> and for this i don't need to bring in a dependency
[10:20:50] <Mutabah> (without using just ident)
[10:20:54] <kalail> eh COwString was removed?
[10:21:08] <Ms2ger> Use Cow<'a, str>
[10:21:08] *** Joins: untitaker (untitaker@moz-u14och.highway.telekom.at)
[10:21:22] *** Joins: nicoch (nicoch@moz-g02d7k.be)
[10:22:16] <kalail> hmm
[10:22:29] *** Joins: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de)
[10:22:53] <Layl> say you were following a development system based around RFCs and Scrum, would a single item of work in Scrum be a single RFC, or split across multiple RFCs
[10:24:44] <Ms2ger> If I were following a development system based on scrum, I'd quit
[10:25:14] *** Joins: avikpal (avikpal@moz-d6c.6lo.194.117.IP)
[10:26:51] *** Joins: acgtyrant (acgtyrant@moz-297.8em.108.218.IP)
[10:27:36] *** Quits: nott (nott@moz-to4.06o.57.86.IP) (Ping timeout: 121 seconds)
[10:27:52] <Layl> hey now scrum is perfectly fine once you remove all the demeaning parts
[10:28:37] *** Joins: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se)
[10:29:33] *** Joins: ytain (ytain@moz-hut.ooe.161.108.IP)
[10:30:42] *** Quits: yichoi (yichoi@moz-t0r.chb.167.121.IP) (Connection closed)
[10:32:22] <Mutabah> Is it a bug that &Box<Trait> doesn't coerce to &Trait ?
[10:33:20] <aatch> Mutabah, probably
[10:33:44] <Layl> I don't think it is a bug
[10:33:53] <Layl> but it should probably be possible
[10:34:26] <Mutabah> Well, but in that Deref coercions usually work like that
[10:34:48] <Layl> iirc Error does some From implementations to do flat to box conversions
[10:35:16] <aatch> hmm, does Box<[T]> coerce?
[10:35:55] <Hail_Spacecake> I have a type that I implemented Add for
[10:36:00] <aatch> playbot, let b: Box<[u8]> = Box::new([1,2,3]); let c : &[u8] = &b;
[10:36:01] -playbot- ()
[10:36:12] *** Joins: hurufu (hurufu@moz-5a5pn1.uw.edu.pl)
[10:36:12] <aatch> I'll take that as a yes.
[10:36:20] <Hail_Spacecake> and the compiler won't let me do let mut a: MyType; let c = MyType::new(); a += c
[10:36:24] <Hail_Spacecake> but I can do a = a + c;
[10:36:25] <aatch> Mutabah, I'd say it's a bug becaues that ^^^ works.
[10:36:44] <Hail_Spacecake> is there no way to get += to automatically derive from having +?
[10:36:49] <Mutabah> aatch: I'll hack up a playpen and confirm it
[10:36:51] <aatch> Hail_Spacecake, op-assign is surprisingly complicated.
[10:37:40] <aatch> Hail_Spacecake, since the expected conversion to a = a + b isn't always valid.
[10:37:57] <Blub\w> are members of a struct dropped in a specified order?
[10:37:59] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[10:38:00] <Hail_Spacecake> when wouldn't it be valid?
[10:38:24] <Hail_Spacecake> oh bah I guess if you don't implement + as commutative
[10:38:29] <Hail_Spacecake> you can't assume that ordering
[10:38:36] <Mutabah> aatch: http://is.gd/xQdPqk
[10:38:47] *** Quits: acgtyrant (acgtyrant@moz-297.8em.108.218.IP) (Ping timeout: 121 seconds)
[10:38:52] <Mutabah> Blub\w: Reverse order iirc
[10:38:59] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[10:39:00] <aatch> Blub\w, I don't think the order is defined, though it's reverse order in practice.
[10:39:10] *** Quits: avikpal (avikpal@moz-d6c.6lo.194.117.IP) (Ping timeout: 121 seconds)
[10:39:41] *** Quits: ascarter (ascarter@moz-705hf8.wa.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[10:40:51] <aatch> Mutabah, however, this works: http://is.gd/Jp0Jzb
[10:40:58] *** Joins: gunther (Mibbit@moz-fu4.gvm.130.134.IP)
[10:41:20] <gunther> Has anyone written the calender example in Rust? http://wiki.dlang.org/Component_programming_with_ranges
[10:41:45] <aatch> Mutabah, so it just looks like it's trying enforce the trait and erroring there, instead of attempting a deref coercion.
[10:41:53] <Mutabah> Ah, yes
[10:42:01] <gunther> I think this could be a very nice way to explain Iterators and idiomatic rust programming
[10:42:05] <gunther> steveklabnik 
[10:42:07] <Blub\w> not reverse, actually: http://is.gd/bggxmY
[10:42:20] <aatch> Mutabah, since a general coercion from &Box<T> -> &T works in the absence of trait requirements.
[10:42:25] <gunther> there is a C++ STL2 version in ranges-v3 example directory
[10:43:12] *** Quits: larhat1 (Adium@moz-egv.ld6.128.213.IP) (Quit: Leaving.)
[10:43:14] <aatch> Blub\w, oh right, the fields are scheduled in reverse order to make sure they're dropped in the declared order.
[10:43:28] <Mutabah> Blub\w: A yeah
[10:43:49] <Blub\w> aatch: "make sure"?
[10:43:52] *** Joins: timonv (timonv@moz-7btgcn.dynamic.ziggo.nl)
[10:44:00] <Blub\w> basically I want to know if I can rely on the order in code
[10:44:05] <Blub\w> or if it's not defined by the standard
[10:44:17] <aatch> Blub\w, it's not defined in the standard we don't have.
[10:44:25] <Mutabah> Blub\w: I don't think it's strictly defined...
[10:44:28] <Blub\w> okay then
[10:44:31] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:44:38] <Mutabah> (says he who assumes the order to avoid deadlocks)
[10:44:40] <Blub\w> just had to make sure :)
[10:44:41] <aatch> I'd be surprised if it was.
[10:44:42] *** Joins: avikpal (avikpal@moz-6fi.420.194.117.IP)
[10:44:52] <Blub\w> Mutabah: yes, reverse would make more sense
[10:45:57] *** Joins: ascarter (ascarter@moz-705hf8.wa.comcast.net)
[10:47:18] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[10:47:51] *** Joins: ismaelga (ismaelga@moz-uf724n.rev.vodafone.pt)
[10:48:50] *** Quits: Temur (Tarmashirin@moz-lpe.g0r.217.117.IP) (Connection closed)
[10:49:47] *** Quits: grncdr1 (Adium@moz-m1g.e47.90.95.IP) (Quit: Leaving.)
[10:50:37] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[10:51:03] <Blub\w> ummmm I don't really want to box these values ;P
[10:51:52] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[10:52:29] *** Quits: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se) (Ping timeout: 121 seconds)
[10:53:49] *** Quits: avikpal (avikpal@moz-6fi.420.194.117.IP) (Ping timeout: 121 seconds)
[10:54:51] *** Quits: turtil (turtil@moz-8am.857.98.121.IP) (Ping timeout: 121 seconds)
[10:55:00] *** Quits: ismaelga (ismaelga@moz-uf724n.rev.vodafone.pt) (Connection closed)
[10:55:37] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[10:56:28] *** Quits: JanC (janc@moz-vev082.dsl.scarlet.be) (Ping timeout: 121 seconds)
[10:56:29] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:56:47] *** Joins: Temur (Tarmashirin@moz-lpe.g0r.217.117.IP)
[10:57:05] *** Joins: Outlander (Mr@moz-77evo5.compute.amazonaws.com)
[10:58:31] *** Joins: zummenix (zummenix@moz-uo3.96n.87.213.IP)
[10:59:04] *** Joins: canhtak (canhtak@moz-1a9fh1.luxdsl.pt.lu)
[10:59:09] *** Joins: pkoretic (petarko@moz-avn.i27.237.77.IP)
[11:01:46] *** Joins: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se)
[11:01:58] <zummenix> Do we have something like a Collection trait (maybe external crate)? I need methods like count(), is_empty() implemented for collection types.
[11:02:11] *** Joins: Nextra (Nextra@moz-73fj2h.dip.osnanet.de)
[11:03:42] *** Joins: TeXitoi (texitoi@moz-9d0bst.eu)
[11:05:38] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Connection closed)
[11:05:41] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[11:06:25] <Blub\w> (guess I can wrap the data in Option and assign None in the struct's drop() in the order I need, bit of a waste of space though)
[11:06:37] <Blub\w> some way of explicitly declaring destruction order for a struct would be nice
[11:07:08] *** Joins: dinfuehr (dinfuehr@moz-6o4ep8.highway.bob.at)
[11:07:47] <Mutabah> Blub\w: Some types can be replaced with a dummy value without option
[11:07:59] <aatch> Blub\w, depending on the contents of the Option, it might not waste any space anyway.
[11:08:27] <aatch> Since we do a recursive search for a non-nullable pointer when doing the nullable-pointer opt
[11:09:35] <Blub\w> most of them contain a custom struct wrapped around a foreign pointer
[11:09:46] <Blub\w> to call foreign deinitialization
[11:11:34] *** Joins: dinfuehr_ (dinfuehr@moz-flks74.highway.telekom.at)
[11:12:15] <aatch> Blub\w, could you wrap the foreign pointer in a NonZero?
[11:12:39] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[11:13:20] *** Joins: killercup (killercup@moz-gpufip.dip0.t-ipconnect.de)
[11:14:16] *** Quits: dinfuehr (dinfuehr@moz-6o4ep8.highway.bob.at) (Ping timeout: 121 seconds)
[11:14:33] *** Joins: Hannibal_Smith (Nicola@moz-ikflj7.retail.telecomitalia.it)
[11:14:36] *** Joins: UberLambda (uber@moz-24qg64.clienti.tiscali.it)
[11:14:52] <Blub\w> aatch: mmmhhh, actually I might
[11:14:54] *** Quits: pkoretic (petarko@moz-avn.i27.237.77.IP) (Quit: leaving)
[11:15:57] *** Joins: acgtyrant (acgtyrant@moz-297.8em.108.218.IP)
[11:16:00] <Blub\w> but how would I destroy that then explicitly 
[11:16:12] *** Joins: pkoretic (petarko@moz-avn.i27.237.77.IP)
[11:16:18] <Blub\w> as I can't move out of &mut self afaik
[11:16:35] *** Joins: avikpal (avikpal@moz-1fi.3e4.194.117.IP)
[11:17:21] <aatch> Blub\w, Well if you use NonZero, then you can use an Option for free.
[11:17:55] <Layl> does servo render elements to texture to cache their rendering?
[11:18:58] *** Quits: dinfuehr_ (dinfuehr@moz-flks74.highway.telekom.at) (Connection closed)
[11:20:07] *** Quits: PudgePacket (Mibbit@moz-obu378.tpgi.com.au) (Quit: http://www.mibbit.com ajax IRC Client)
[11:20:41] <Blub\w> NonZero is unstable
[11:20:43] <Blub\w> bah
[11:20:45] <Blub\w> :p
[11:21:23] *** Quits: pkoretic (petarko@moz-avn.i27.237.77.IP) (Quit: leaving)
[11:21:25] *** Joins: pkoretic (petarko@moz-avn.i27.237.77.IP)
[11:22:33] *** Joins: errordeveloper (ilya@moz-8jq.ge6.157.37.IP)
[11:22:37] *** Quits: avikpal (avikpal@moz-1fi.3e4.194.117.IP) (Ping timeout: 121 seconds)
[11:22:40] <xeviox> I have an app crate and now want to move some code to another class, how can I import from that class?
[11:22:53] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[11:23:19] <xeviox> *that file
[11:23:26] *** Joins: JanC (janc@moz-q9484u.dsl.scarlet.be)
[11:23:30] *** Quits: nrc (nrc@moz-9v1svd.xtra.co.nz) (Ping timeout: 121 seconds)
[11:23:43] *** Quits: UberLambda (uber@moz-24qg64.clienti.tiscali.it) (Quit: Leaving)
[11:23:46] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:24:38] *** Quits: Hannibal_Smith (Nicola@moz-ikflj7.retail.telecomitalia.it) (Quit: Leaving)
[11:25:10] <klutzy> is this expected to not work?  http://is.gd/VsQdJR
[11:25:20] <Blub\w> aatch: still don't know how to actually zero it though
[11:25:22] <klutzy> (using `extern crate` in the inner mod)
[11:25:27] <Blub\w> Zeroable doesn't seem to provide a way
[11:25:37] <Blub\w> NonZero has no mutable deref
[11:26:05] *** Joins: xjer31x (chatzilla@moz-20iiks.dynamicIP.rima-tde.net)
[11:26:25] *** Joins: proclus (user@moz-i6nqh2.fios.verizon.net)
[11:26:35] <bluss> klutzy: use self::libc I guess
[11:26:43] <aatch> klutzy, it's just an item.
[11:26:53] <aatch> klutzy, the rules around `use` don't change either.
[11:26:55] *** Joins: turtil (turtil@moz-8am.857.98.121.IP)
[11:26:57] <bluss> Blub\w: overwrite the whole NonZero value
[11:27:37] *** Parts: xjer31x (chatzilla@moz-20iiks.dynamicIP.rima-tde.net) ("")
[11:28:16] <Blub\w> how, other than by doing unsafe { ptr::write(mem::transmute(&*the.data), ptr::null::<*const Foo>()) } :p
[11:28:40] *** Joins: avikpal (avikpal@moz-h8p.t2s.79.112.IP)
[11:28:44] <Blub\w> which works...
[11:29:13] <Blub\w> NonZero really is nicer than Option as with Option I also have to match all the time to access the data
[11:29:13] <bluss> um I don't know your situation then
[11:29:20] <Blub\w> I might just make my own NonZero equivalent
[11:29:31] <bluss> are you sure you know what NonZero does?
[11:29:38] <xeviox> I don't geti it... I declared another file (same directory) and used "mod name_of_file;" in it. In the main.rs I try to use it with "use name_of_file;" but it doesn't find the module :/
[11:29:38] <Blub\w> yes
[11:29:50] *** Joins: ineol (ineol@moz-pdkvmd.fbx.proxad.net)
[11:29:58] <Blub\w> in any case, NonZero also adds another guard around the drop, which is additional runtime
[11:30:02] <Layl> Blub\w, you don't have to match all the time
[11:30:06] <Layl> just use .unwrap()
[11:30:07] <Blub\w> in the end I really would like to see a way to simply specify an order
[11:30:08] <Layl> that's what it's for
[11:30:12] <bluss> NonZero is a language-marked type for making sure the non-nullable optimization works for custom things in Options
[11:30:19] <Blub\w> Layl: that's what I mean, it's ugly and long
[11:30:27] <Layl> it's not a match
[11:30:34] <Blub\w> still too long
[11:30:35] <Layl> and it's pretty short
[11:30:42] <Layl> and more importantly, it's safe compared to null pointers
[11:30:44] <Blub\w> it may be short, but still too long :P
[11:31:01] <Layl> it's shorter than an if (val == null) check in other languages
[11:31:13] <Layl> which, let's be honest, you constantly keep forgetting to do
[11:31:15] <Blub\w> which I wouldn't do as they are never null
[11:31:24] <Layl> if they're never null, they're not in an option
[11:31:31] <Blub\w> that's my point
[11:31:43] <Blub\w> but I have 3 of them which need to be dropped in a specific order
[11:31:51] <Layl> if they are in an option but the context says it's not gonna be null, unwrap() is for that
[11:31:53] <Blub\w> and I wanted them in a struct
[11:31:53] *** Joins: edbond (edbond@moz-8st.7gv.108.109.IP)
[11:32:02] *** Joins: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk)
[11:32:33] <Layl> why do they need to drop in a specific order
[11:32:51] <Johannes> aatch, i got it.. when i transmute the opaque pointer (*mut c_void) to Arc<Mutex<TraitObject>> and it goes out of scope in the callback it is released..  maybe i'm using the wrong lock mechanism..
[11:33:49] <klutzy> Bluss aatch: ah, makes sense. thanks!
[11:33:57] <Blub\w> Layl: each is a handle to something owned by the previous one, they all come from a foreign library
[11:34:13] <Blub\w> Layl: if I destroy the first, I'm not allowed to destroy the other 2nd, and so on
[11:34:42] <Layl> this is probably a situation where you can use borrows to enforce that
[11:34:57] <Johannes> aatch, maybe i can transmute a reference to rwlock or mutex instead..
[11:35:29] <Layl> alternatively, manually calling drop() is at least better than wrapping them in Options
[11:35:35] <Layl> because this isn't what option is for
[11:35:47] <Douman> github pages work fine with redirects so you can actually upload rustdoc with small addition index.html in root which redirect to your docs :)
[11:36:03] <Douman> sorry for sudden bump... :)
[11:36:11] *** Joins: avikpal_ (avikpal@moz-h8p.t2s.79.112.IP)
[11:36:46] *** Quits: avikpal (avikpal@moz-h8p.t2s.79.112.IP) (Connection closed)
[11:36:50] <Blub\w> Layl: but I can't really drop them manually as I want them in a struct
[11:37:03] <Blub\w> and when the struct is dropped, the members are dropped too
[11:37:04] <Layl> you can though, hold on I'll make an example
[11:37:08] <Blub\w> I can't mem::drop inside the struct's Drop
[11:38:11] <Layl> just give me a moment, the trick here isn't to actually drop the memory but just trigger the drop call
[11:38:40] <Blub\w> my concern is with NOT triggering it though :p at least with my layout
[11:38:46] <Blub\w> struct Handle { main: Main, sub: SubObject, subsub: SubSubObject }
[11:38:49] *** Quits: raignarok (raignarok@moz-qonj11.dip0.t-ipconnect.de) (Quit: ZNC - http://znc.in)
[11:38:49] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[11:39:16] *** Joins: dinfuehr (dinfuehr@moz-flks74.highway.telekom.at)
[11:39:31] <Layl> I thought your concern was triggering it in the right order
[11:39:46] <Blub\w> well yes
[11:39:53] *** Joins: raignarok (raignarok@moz-qonj11.dip0.t-ipconnect.de)
[11:40:00] <Blub\w> that's the core problem
[11:40:23] <Layl> well, there is a way to trigger a call to drop() iirc
[11:40:29] <Layl> without it actually dropping yet
[11:40:39] *** Joins: Izzeri (Lilly@moz-pfkvo9.bredband.comhem.se)
[11:40:51] <Layl> someone please correct me if I'm wrong
[11:41:05] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[11:41:11] <Blub\w> yes I know I can trigger drop, but assume the above struct and: let handle = Handle { ... };
[11:41:22] *** Quits: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk) (Ping timeout: 121 seconds)
[11:41:28] <Blub\w> even if I trigger the drops, once `handle` goes out of scope, its members will be dropped yet again
[11:41:38] <Blub\w> and I can't mem::forget(handle)
[11:41:42] *** Quits: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se) (Ping timeout: 121 seconds)
[11:41:42] <Blub\w> that would be a weird design
[11:42:03] <Layl> iirc rust keeps track of it if dropped is already called
[11:42:14] <Layl> again, someone please weigh in on this here if I'm wrong or not
[11:42:30] <Layl> I could be totally wrong because I haven't used much of Drop yet
[11:42:39] *** Joins: naerbnic (naerbnic@moz-tm2gcl.ca.comcast.net)
[11:42:41] <xeviox> why do I have to use "self::extern::module" instead of "extern::module" in a sub module? o_O
[11:42:50] *** Quits: Temur (Tarmashirin@moz-lpe.g0r.217.117.IP) (Connection closed)
[11:42:52] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Ping timeout: 121 seconds)
[11:43:16] <Layl> Blub\w, here you go: http://is.gd/VmMIqb
[11:43:22] *** Joins: Temur (Tarmashirin@moz-lpe.g0r.217.117.IP)
[11:43:25] *** Quits: Hail_Spacecake (quesa@moz-djc.ktt.28.204.IP) (Quit: Leaving)
[11:43:30] <Layl> as you can see it's only calling drop once on A and B
[11:45:03] <Blub\w> Layl: add println!("Done"); at the end of MyStruct's drop, you'll see that the output isn't what you might think
[11:45:09] <Layl> oh I think I did something wrong, it's dropping them in the wrong order
[11:45:12] <Blub\w> Layl: you're dropping an &T, which does nothing
[11:45:33] <Layl> yea you're right, I'm doing something wrong
[11:45:40] <Blub\w> http://is.gd/tERsZA
[11:45:50] <Blub\w> it's not really possible to keep track of drops this way
[11:45:53] <Layl> I don't quite know how to trigger that drop without actually moving it out of there
[11:46:54] <Blub\w> that would still not stop it from implicitly dropping the contents of the struct after its .drop() has run
[11:47:15] <Layl> give me just a moment to try to get it working with borrowing
[11:47:25] <Blub\w> http://is.gd/UYEHPi
[11:47:28] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[11:48:18] <Layl> Hm, actually I think this design of a struct doesn't work if you follow borrowing
[11:48:27] *** Quits: xeviox (ben@moz-47eat7.pools.vodafone-ip.de) (Ping timeout: 121 seconds)
[11:49:10] *** Quits: Izzeri (Lilly@moz-pfkvo9.bredband.comhem.se) (Ping timeout: 121 seconds)
[11:49:26] *** Quits: avikpal_ (avikpal@moz-h8p.t2s.79.112.IP) (Ping timeout: 121 seconds)
[11:49:45] *** Joins: tomprogrammer (thomas@moz-phlh6f.tr5r.qept.4dd0.2001.IP)
[11:50:01] <SneakySnake> Nim compiles so fast, it's unreal. I hope Rust will see significant compile speed improvements. I don't think the slowness is inherent to LLVM. Nim compiles to C, which is then compiled with a C compiler, and it's super fast. And Clang compiles C even faster than GCC, and it uses LLVM.
[11:50:37] <Layl> Blub\w, what if you do something like this: http://is.gd/itoc4k
[11:51:00] <Layl> keep in mind that rust's ownerships tend to enforce certain designs that don't generally follow how C libraries do things
[11:51:46] <mindtree_> SneakySnake: I believe rustc's slowness is attributed to what it delivers *to* LLVM (not LLVM itself)
[11:51:58] <Blub\w> Layl: problem is I want to return the struct with all 3 handles
[11:51:58] <Manishearth> bombless: Please run the relevant tests before making a PR. At the very least, compile-fail for stage1 :/ I've noticed rollup failures coming from your PRs ofen
[11:52:10] *** mindtree_ is now known as mindtree
[11:52:20] <Blub\w> Layl: so I can't just keep that variable `a` there
[11:52:23] <Layl> Blub\w, yea but those three handles depend on eachother
[11:52:26] <SneakySnake> mindtree_: Which could be improved significantly in the future, right? In theory, we could approach compile speeds close to what Nim delivers. I mean Nim isn't exactly the simplest language either. It has lots of features.
[11:52:26] <Blub\w> fn create() { build all 3 handles, return struct }
[11:52:30] <Layl> you can't just have 3 separate ones
[11:52:31] <Blub\w> a would go out of scope in this create()
[11:52:41] <Layl> they need to have ownership constraints
[11:52:43] <Enjolras> the borrow checker sometimes account for a lot of tume too
[11:52:48] <Enjolras> and Nim doesn't need to do that
[11:52:59] *** Joins: wei2912 (wei2912@moz-04j.64q.156.175.IP)
[11:53:09] <Layl> basically what you're doing doesn't make sense in Rust's view of ownership
[11:53:19] <Blub\w> Layl: yeah well... the only way to reflect those would be to keep track of them manually too :|
[11:53:30] <Blub\w> inside the wrappers that is
[11:53:31] <SneakySnake> Rust's slow compile speeds are a major productivity bottleneck for me. I love fast iteration
[11:53:36] *** Joins: ai (ai@moz-pqofrl.sunline.net.ua)
[11:53:45] *** Quits: jiojiajiu (anonymous@moz-trc2j7.asianet.co.th) (Connection closed)
[11:53:46] <Enjolras> the main issue is incremental compilation
[11:53:48] <Layl> Blub\w: an alternative would be to just manually call some kind of cleanup function
[11:53:54] <Enjolras> Which nim is probably doing
[11:54:00] <Layl> but you simply can't combine this with rust's ownerships and drops
[11:54:03] <Blub\w> as in, Main's .create_sub() would have to register that somewhere (a vector or something) and only return a reference
[11:54:03] <Layl> because it doesn't follow that
[11:54:05] *** Joins: jiojiajiu (anonymous@moz-trc2j7.asianet.co.th)
[11:54:10] <Enjolras> also, with cargo test, the code is actually build twice
[11:54:13] <Blub\w> yeah I know it's not rust-like
[11:54:37] <panicbit> SneakySnake: Faster compilation will be a top priority after the release of 1.0 (https://internals.rust-lang.org/t/priorities-after-1-0/1901)
[11:54:40] <Layl> it's not just not rust-like it violates the basic principles of rust's ownership system
[11:54:49] <SneakySnake> Enjolras: It's significantly faster, even if you compile fresh. It compiles 23k lines in a few seconds. Rust takes more than a minute for something like that in my experience
[11:54:53] <Layl> this isn't too bad if it's backend wrapper code
[11:55:03] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[11:55:12] <bluss> there just landed a PR for faster compilation (7% improvement on rustc compilation I think)
[11:55:16] <Blub\w> that's the problem with bindings to foreign libraries
[11:55:18] <Layl> SneakySnake, incremental compiles are a planned feature
[11:55:22] <Blub\w> making them rust-compliant :p
[11:55:29] *** Quits: dinfuehr (dinfuehr@moz-flks74.highway.telekom.at) (Connection closed)
[11:55:32] <Enjolras> SneakySnake: you can use ld.gold. It's not a silver bullet, but it's faster
[11:55:37] <bluss> and that PR added faster coherence which will have even larger impact on some code I suspect
[11:55:57] <Enjolras> yeah. In my code, coherence + borrow checker is a third the build time
[11:56:03] *** Quits: raignarok (raignarok@moz-qonj11.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[11:56:10] <SneakySnake> I'm just wondering if in theory is there something preventing Rust from approaching compile speeds similar to Nim.
[11:56:26] <SneakySnake> Would for example the borrow checker pose such a bottleneck that we can't get close those speeds?
[11:56:32] <Enjolras> In theory, rust is slower than Nim because the compiler needs more work
[11:56:41] <Enjolras> but it shouldn't be that scale slower
[11:56:50] *** Quits: mythmon (mythmon@moz-n45.3os.241.192.IP) (Connection closed)
[11:57:03] <Layl> C just tends to compile slow-ish for all kinds of reasons
[11:57:10] <SneakySnake> I'm not talking about 2x slower than Nim. It's closer to an order of magnitude slower in my experience.
[11:57:12] <Enjolras> also, i don't know Nim, but template-like polymorphism is slower
[11:57:21] *** Joins: qub0no (textual@moz-csp.3ap.204.37.IP)
[11:57:23] <Enjolras> because you need to rebuild the code 
[11:57:43] *** Joins: mythmon (mythmon@moz-n45.3os.241.192.IP)
[11:57:51] <Enjolras> each time you monomorphize a function, you need to rebuild the code in some way
[11:57:53] *** Quits: qub0no (textual@moz-csp.3ap.204.37.IP) (Quit: )
[11:57:56] *** Joins: rcx (rcx@moz-lq4.sqe.174.217.IP)
[11:58:04] <bluss> SneakySnake: rustc has a flag so you can see which passes take the most time
[11:58:10] *** Quits: tomaka (Pierre@moz-anun95.abo.wanadoo.fr) (Connection closed)
[11:58:19] <SneakySnake> bluss: Which flag is it?
[11:58:32] <ville> speaking of compilers does rustc or llvm try to merge functions that are identical after doing compiler semantics checks?
[11:58:36] <Blub\w> Layl: the "main" is actually the library's init function, for which I return a guard to call cleanup because that just seemed more rust-like than having to explicitly call that from rust, the first object would be a window, and the second object its GL context, I don't actually need to keep that one around, in the typical single-context C application that pointer is just dropped into the void...
[11:58:38] *** Joins: jviereck (Adium@moz-p40urn.dclient.hispeed.ch)
[11:58:38] <Blub\w> but I wanted the bindings to be somewhat clean - now the bindings are clean, but using them is annoying :p
[11:58:45] *** Joins: raignarok (raignarok@moz-8cmva9.dip0.t-ipconnect.de)
[11:58:48] <bluss> I have this toy project using parser-combinators to parse graphviz dot files.. and it simply stalled because nesting 10 parsers makes the compilation take several minutes :/
[11:58:48] <aatch> I have some ideas about how to improve compilation re: monomorphisation. I just need to sit down and write it out properly.
[11:58:50] <Enjolras> If Nim doesn't have this kind of ad-hoc polymorphism, it probably helps a lot in compile speed
[11:58:58] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[11:59:03] <Enjolras> SneakySnake: -Z timing-passes
[11:59:05] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[11:59:12] <SneakySnake> Thanks Enjolras
[11:59:23] <Enjolras> time-passes
[11:59:26] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[11:59:30] <bluss> time-passes I think
[11:59:34] <bluss> ah
[11:59:43] <Layl> Blub\w, generally what seems to be the rust way to do it is to make a "library-sys" crate which has really thin unsafe bindings
[11:59:48] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[11:59:54] *** Joins: tomaka (Pierre@moz-anun95.abo.wanadoo.fr)
[12:00:01] <Layl> then an actual "library" crate which has the nice rust-style API on top of it
[12:00:01] <aatch> ville, LLVM has a mergefunc pass, but I'm not sure if we use it and it's quite slow anyway.
[12:00:04] <SneakySnake> Incremental compilation would mitigate this a lot though. I'm used to C++ taking a lot of time to compile on the first pass, the I can rapidly iterate because it only rebuilds the part that was changed
[12:00:35] <Blub\w> Layl: I've decided to just give them a .destroy() that first checks for a null pointer :p
[12:00:37] *** Joins: mjboa (mike@moz-4e2lon.dip0.t-ipconnect.de)
[12:00:44] <Blub\w> now I can just call .destroy() in the order I want
[12:00:48] <Blub\w> in the struct's Drop
[12:00:56] <ville> aatch: i would like to have the ability to declare different types based on builtin types and get compile-time checks so i am not making mistakes with them and at the same time that it wouldn't result in essentailly duplicate functions in the binary
[12:00:59] <SneakySnake> Sure, I can split up projects to multiple crates, but it doesn't feel right artificially splitting up your project just for the sake of recompilation speed
[12:01:03] <Blub\w> I just wanted to avoid all the guards around pointers if I could only simply declare an order
[12:01:06] <Enjolras> \o/, rust on the OS i'm using is now building with external llvm36
[12:01:13] <Layl> Blub\w, why not just have a "destroyed" bool?
[12:01:14] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Quit: Leaving.)
[12:01:16] <Enjolras> buildtimes from 2hours to 30mins <3
[12:01:17] <Layl> no need to .unwrap every time
[12:01:38] *** Quits: vmeson (rmacleod@moz-hs5cri.cable.teksavvy.com) (Ping timeout: 121 seconds)
[12:01:52] <SneakySnake> Enjolras: Vanilla upstream LLVM? Doesn't rustc still require its own patches for LLVM?
[12:01:56] <ville> aatch: simple example that i don't missuse coordinates from one reference frame with those in other reference frame
[12:01:57] *** Quits: turtil (turtil@moz-8am.857.98.121.IP) (Ping timeout: 121 seconds)
[12:02:03] <Layl> one of these days I'll have enough patience to write my own small kernel
[12:02:09] <Enjolras> SneakySnake: maybe for optimisation, but it works
[12:02:23] <Blub\w> Layl: I don't need .unwrap, and the bool is self.raw.is_null() ;)
[12:02:29] <SneakySnake> Nice, this lowers the barrier for contributors
[12:02:33] <SneakySnake> Less build time
[12:02:59] <aatch> ville, my current plan doesn't handle that situation, but I have some ideas on how to extend it to hopefully cover that too.
[12:03:10] *** Joins: rouma (zack@moz-stcfbs.pekn.hg8m.2000.2604.IP)
[12:03:18] <Blub\w> Layl: (as in, I don't use Option<> for it now)
[12:03:18] <Layl> vagrant is the best thing ever for quick getting started guides
[12:03:50] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[12:03:55] *** Joins: dinfuehr (dinfuehr@moz-flks74.highway.telekom.at)
[12:05:04] <darkfox> I have a feeling this is going to be simple.... But I've been at this for a little while now... How do I compare the keys? `for (k, v) in config.iter() { match k { "owner" => println!("I am owned by {}", v), _ => (), } }`
[12:05:43] *** Joins: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP)
[12:05:47] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Quit: Konversation terminated!)
[12:05:56] <ville> aatch: have you followed jonathan blow's adventures with his language? think he has that sort of functionality incorporated
[12:06:28] <ville> aatch: nice to hear thar someone is thinking of it though
[12:06:43] <darkfox> I think I'm just having issues with string comparasion in pattern matching. k is of type String; while "owner" is of &str if I'm not mistakened. k.as_slice() doesn't work and neither does String::from_str("owner") (from_str is unstable)... So I'm confused for what I am meant to do for this matching...
[12:06:48] <aatch> ville, I'm sure he does lot of things. But his language is not Rust.
[12:07:42] *** Joins: ahal (ahal@moz-b8e0a0.cpe.pppoe.ca)
[12:07:55] <ville> aatch: indeed. just saying that something like that would be a nice feature.
[12:08:23] <fkaa> it looks pretty similar to rust from what i've seen
[12:08:36] <Layl> ville, what you're looking for is this I think: struct Position([u32;2]);
[12:09:00] <Layl> it would be nice to have F#'s units in rust
[12:09:02] <SneakySnake> Coherence checking seems to take a significant amount of time
[12:09:06] <Layl> units of measurement that is
[12:09:13] *** Quits: proclus (user@moz-i6nqh2.fios.verizon.net) (Ping timeout: 121 seconds)
[12:09:21] <Layl> though there's probably a way to make a syntax extension to do that
[12:09:40] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[12:09:40] *** Joins: nadirs (nadirs@moz-mnvfq6.retail.telecomitalia.it)
[12:09:42] <darkfox> Anyone have any ideas what I'm doing wrong?
[12:10:24] *** Joins: proclus (user@moz-i6nqh2.fios.verizon.net)
[12:10:33] <aatch> Layl, the point is to make it so functions that take different new-types over the same inner type compile to the same function.
[12:13:35] *** Joins: avikpal (avikpal@moz-s6s.hfh.194.117.IP)
[12:14:33] *** Quits: dinfuehr (dinfuehr@moz-flks74.highway.telekom.at) (Connection closed)
[12:15:07] *** Joins: egrep (egrep@moz-vqao7u.org)
[12:15:13] <nadirs> hi everybody
[12:15:20] <nadirs> I'm just starting to learn rust
[12:15:29] <nadirs> I've a bit of experience with haskell
[12:15:43] <nadirs> and trying to write a newtype for `u8`
[12:16:14] <nadirs> but can't figure out how to (if possible) derive u8's functions
[12:16:28] <nadirs> like bit-shifting and similar
[12:16:34] *** Joins: duesenfranz_ (jona@moz-711djm.tirol.surfer.at)
[12:16:44] <mindtree> nadirs: you could implement Deref for your new type, so that it automatically dereferences to the inner u8
[12:16:50] *** Quits: ascarter (ascarter@moz-705hf8.wa.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[12:17:03] <nadirs> mindtree: oh, nice, I'll look into that right away! Thank you
[12:17:22] <aatch> nadirs, however, if you're asking if Rust has an equivalent to NewtypeDeriving? No, it does not.
[12:17:31] <Blub\w> mindtree: do math operations cause implicit deref?
[12:17:43] *** Quits: avikpal (avikpal@moz-s6s.hfh.194.117.IP) (Ping timeout: 121 seconds)
[12:17:47] <nadirs> aatch: haha yes that would be really handy
[12:17:54] *** Joins: areski (areski@moz-aehvq9.user.ono.com)
[12:18:17] <aatch> Blub\w, they do not.
[12:18:41] *** Joins: Wild_Cat (Max@moz-na0tak.dsl.teksavvy.com)
[12:19:22] *** Quits: zyphrus (David@moz-nhi.pas.98.101.IP) (Ping timeout: 121 seconds)
[12:20:51] *** Quits: naerbnic (naerbnic@moz-tm2gcl.ca.comcast.net) (Client exited)
[12:20:59] *** Parts: khades (Thunderbird@moz-u45.3vk.74.212.IP) ()
[12:22:42] *** Quits: errordeveloper (ilya@moz-8jq.ge6.157.37.IP) (Ping timeout: 121 seconds)
[12:23:30] *** Quits: canhtak (canhtak@moz-1a9fh1.luxdsl.pt.lu) (Client exited)
[12:24:15] *** Quits: yusukesuzuki (yusukesuzuk@moz-dt1lc7.t-com.ne.jp) (Ping timeout: 121 seconds)
[12:24:47] *** Joins: errordeveloper (ilya@moz-8jq.ge6.157.37.IP)
[12:25:20] *** Joins: vmeson (rmacleod@moz-hq5.1km.224.128.IP)
[12:26:43] *** Joins: avikpal (avikpal@moz-17s.0mc.227.117.IP)
[12:26:51] *** Quits: Guest67 (textual@moz-gfs9v0.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[12:29:19] *** Quits: jviereck (Adium@moz-p40urn.dclient.hispeed.ch) (Ping timeout: 121 seconds)
[12:31:53] *** Joins: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk)
[12:32:08] *** Quits: tomprogrammer (thomas@moz-phlh6f.tr5r.qept.4dd0.2001.IP) (Quit: WeeChat 1.1.1)
[12:33:23] *** Joins: jviereck (Adium@moz-pqri8u.dclient.hispeed.ch)
[12:34:44] *** Joins: gekkio (gekkio@moz-gjerka.fi)
[12:35:15] *** Joins: yusukesuzuki (yusukesuzuk@moz-dt1lc7.t-com.ne.jp)
[12:35:44] <Douman> arguments in macro_rules are positional?
[12:36:03] *** Quits: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk) (Ping timeout: 121 seconds)
[12:37:11] *** Quits: rcx (rcx@moz-lq4.sqe.174.217.IP) (Connection closed)
[12:37:22] *** Quits: proclus (user@moz-i6nqh2.fios.verizon.net) (Quit: ERC Version 5.3 (IRC client for Emacs))
[12:37:38] <panicbit> BEFORE: ball_x_vel = 1
[12:37:38] <panicbit> AFTER: ball_x_vel = 18446744073709551615
[12:37:40] <panicbit> welp
[12:38:08] <panicbit> I was just doing "ball_x_vel *= -1;" :/
[12:38:13] *** Joins: meh (meh@moz-p5gc2m.42-151.net24.it)
[12:38:27] <panicbit> I assume rustc infered ball_x_vel to be uint?
[12:39:13] <panicbit> Oh yeah it did... Because some function expected usize. Omitting type annotations is fuckng dangerous....
[12:40:37] <SneakySnake> Yeah, type inference has bitten me in the past
[12:40:40] *** Quits: yusukesuzuki (yusukesuzuk@moz-dt1lc7.t-com.ne.jp) (Quit: ZNC - http://znc.in)
[12:40:46] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[12:40:47] <FreeFull> panicbit: Didn't it warn about the -1?
[12:41:00] <panicbit> No
[12:41:08] <aatch> FreeFull, the lint doesn't seem to work if the type is inferred.
[12:41:08] <FreeFull> Odd, it should have
[12:41:14] <panicbit> Wait, I'm trying to make a minimal case
[12:41:14] <FreeFull> aatch: Ah
[12:41:45] <FreeFull> playbot: fn foo(_: usize) {} let mut x = 1; foo(x); x *= -1; x
[12:41:46] *** Joins: yusukesuzuki (yusukesuzuk@moz-dt1lc7.t-com.ne.jp)
[12:41:47] -playbot- 18446744073709551615
[12:41:52] <FreeFull> Yeah, that should have produced a warning
[12:41:57] <FreeFull> playbot: fn foo(_: usize) {} let mut x: usize = 1; foo(x); x *= -1; x
[12:41:58] -playbot- 18446744073709551615
[12:42:11] <FreeFull> playbot: fn foo(_: usize) {} let mut x: usize = 1; foo(x); x = x * -1; x
[12:42:13] -playbot- 18446744073709551615
[12:42:23] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Ping timeout: 121 seconds)
[12:42:36] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[12:42:52] <ChrisMorgan> Douman: the left hand side of each branch of a macro_rules! declaration is parsed from left to right, if that’s what you mean.
[12:43:26] <darkfox> playbot: let mut x: usize = 1; x = x * -1; x
[12:43:27] -playbot- 18446744073709551615
[12:43:30] <Douman> regardles if it is named or not, rust will not be able to match properly macro if position is not right?
[12:43:35] <darkfox> FreeFull: Why the function
[12:43:37] <darkfox> ?
[12:43:50] <panicbit> Basically this is what happened: http://is.gd/wClNSG
[12:43:57] <FreeFull> darkfox: To force x to be usize, before I added the annotation
[12:44:00] <panicbit> darkfox: You beat me to it
[12:44:05] <darkfox> Oh
[12:44:08] *** Quits: zummenix (zummenix@moz-uo3.96n.87.213.IP) (Quit: )
[12:44:12] <darkfox> FreeFull: Makes sense
[12:44:24] <Douman> by named i mean "name"=>$arg
[12:44:31] <aatch> Note that in this case, it's the literal `-1` that is being inferred.
[12:44:31] <Douman> not sure how it is called actually :)
[12:44:45] <SneakySnake> Wait wat. 
[12:44:51] <SneakySnake> So -1 is inferred to be usize here?
[12:44:54] <aatch> playbot, -1usize
[12:44:56] -playbot- <anon>:9:9: 9:16 error: unary negation of unsigned integers may be removed in the future
[12:44:56] -playbot- <anon>:9         -1usize
[12:44:56] -playbot- output truncated; full output at: http://bit.ly/1GyN1aw
[12:44:57] <FreeFull> This definitely should be caught as a lint
[12:45:09] <SneakySnake> ^ Yeah, it errors
[12:45:13] <aatch> SneakySnake, well yeah.
[12:45:15] <SneakySnake> But it doesn't if it's inferred
[12:45:18] <SneakySnake> Sounds like a bug
[12:45:25] <FreeFull> playbot: 0 - 1usize
[12:45:27] -playbot- <anon>:9:9: 9:19 error: attempted to sub with overflow
[12:45:27] -playbot- <anon>:9         0 - 1usize
[12:45:27] -playbot- output truncated; full output at: http://bit.ly/1bJy9hm
[12:45:35] <FreeFull> playbot: let x = 0; x - 1usize
[12:45:36] -playbot- 18446744073709551615
[12:45:42] <aatch> Like I said, it doesn't warn when the type of the literal is inferred.
[12:45:46] <FreeFull> playbot: let x = 0; x * - 1usize
[12:45:47] -playbot- <anon>:9:24: 9:32 error: unary negation of unsigned integers may be removed in the future
[12:45:48] -playbot- <anon>:9         let x = 0; x * - 1usize
[12:45:48] -playbot- output truncated; full output at: http://bit.ly/1EVtTsD
[12:45:52] <FreeFull> Seems so
[12:46:02] <aatch> playbot, let x : usize = -1;
[12:46:04] -playbot- <anon>:9:25: 9:27 error: unary negation of unsigned integers may be removed in the future
[12:46:04] -playbot- <anon>:9         let x : usize = -1;
[12:46:04] -playbot- output truncated; full output at: http://bit.ly/1bJyaBT
[12:46:09] <panicbit> playbot: let x: usize = (-1*1); x
[12:46:10] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:46:10] -playbot- <anon>:9:24: 9:30 warning: unnecessary parentheses around assigned value, #[warn(unused_parens)] on by default
[12:46:11] -playbot- <anon>:9         let x: usize = (-1*1); x
[12:46:11] -playbot- output truncated; full output at: http://bit.ly/1EVtSok
[12:46:31] <aatch> (just to prove that it's not based on suffixes)
[12:46:34] <panicbit> playbot: let x: usize = -1*1; x
[12:46:36] -playbot- 18446744073709551615
[12:47:06] <steveklabnik> gunther: don't think so, i'll check it out, thanks!
[12:47:18] *** Joins: futile (felix@moz-cmcd12.unity-media.net)
[12:47:43] <aatch> Note that the way inference works means that (-1 * 1) is assigned the type `usize`, but the types of the sub-expressions are inferred.
[12:48:29] *** Quits: acgtyrant (acgtyrant@moz-297.8em.108.218.IP) (Ping timeout: 121 seconds)
[12:50:38] <Manishearth> steveklabnik: check this out: https://github.com/Manishearth/rust/commit/ede7a6dc8ff5455f9d0d39a90e6d11e9a374e93b . I think it's a great use case for lifetimes and Rust really shone here.
[12:50:44] *** Quits: Outlander (Mr@moz-77evo5.compute.amazonaws.com) (Quit: leaving)
[12:50:51] <Manishearth> Instead of cloning a vec of attrs, I was able to store a slice.
[12:51:08] <Manishearth> Even though I had no idea who owned the vec, or when it would be destroyed
[12:51:22] <Manishearth> I just added lifetimes to satisfy the compiler till it compiled, and it works!
[12:51:40] *** Joins: grncdr (Adium@moz-m1g.e47.90.95.IP)
[12:52:13] <Manishearth> A ton of allocations saved. I would *never* have been able to do this in a language like C++ unless the Vec had some staticy/long-lived backing storage
[12:52:15] <duesenfranz_> does anybody here know how to get serde-macros to work? beta can't work, since these are (unstable) plugins (right?); serde doesn't compile with nightly back to (at least) 27.4.; aster doesn't compile with anything earlier...
[12:52:19] *** Joins: Guest67 (textual@moz-8aocg9.ri.cox.net)
[12:52:54] <Manishearth> duesenfranz_: syntex/aster should work I guess. Should ask erickt if they're broken
[12:53:37] <duesenfranz_> Manishearth: with the beta?
[12:53:56] *** Quits: yusukesuzuki (yusukesuzuk@moz-dt1lc7.t-com.ne.jp) (Ping timeout: 121 seconds)
[12:54:03] <Manishearth> that's the point of syntex
[12:54:17] <Manishearth> though I don't know if it's finished to the degree serde needs it
[12:54:23] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[12:56:23] <aatch> FreeFull, panicbit, a brief look at the relevant part of the compiler suggests that the warning happens a bit too early. The warning is only shown if the expression being negated is known to be a unsigned integer when we visit it.
[12:56:24] *** Joins: xeviox (ben@moz-47eat7.pools.vodafone-ip.de)
[12:56:44] <aatch> playbot, let x : u8 = 5; let y : u8 = -x; y
[12:56:45] -playbot- <anon>:9:38: 9:40 error: unary negation of unsigned integers may be removed in the future
[12:56:45] -playbot- <anon>:9         let x : u8 = 5; let y : u8 = -x; y
[12:56:45] -playbot- output truncated; full output at: http://bit.ly/1bJzoNA
[12:57:06] <aatch> See, it's not just literals ^^
[12:57:28] *** Joins: yusukesuzuki (yusukesuzuk@moz-dt1lc7.t-com.ne.jp)
[12:57:51] *** Joins: dgrunwald (Daniel@moz-dq45kf.hsi4.kabel-badenwuerttemberg.de)
[12:58:15] <ChrisMorgan> (Normally in such cases you want unary ! rather than unary -.)
[12:58:33] <panicbit> aatch: Wanna fix that? =D. Don't wanna see anyone else's balls jump to pos 18446744073709551615 :P
[12:59:28] <aatch> panicbit, heh. Maybe. Not now though. It's 1am here.
[12:59:31] *** Joins: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net)
[12:59:34] <panicbit> aatch: Can you link the relevant file?
[13:00:05] *** Quits: rbrs (rbrs@moz-m5thmg.static.zebra.lt) (A TLS packet with unexpected length was received.)
[13:00:07] *** Quits: cholcombe (chris@moz-k0ajnr.i01-5.onvol.net) (Ping timeout: 121 seconds)
[13:00:07] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[13:00:29] *** Quits: Wild_Cat (Max@moz-na0tak.dsl.teksavvy.com) (Connection closed)
[13:00:46] <aatch> panicbit, https://github.com/rust-lang/rust/blob/master/src/librustc_typeck/check/mod.rs#L3151-L3162
[13:00:49] *** Joins: __ixti__ (ixti@moz-i3d.dae.119.188.IP)
[13:01:02] *** Joins: avikpal_ (avikpal@moz-i75.ds3.194.117.IP)
[13:01:02] <panicbit> aatch: Thanks
[13:01:56] *** Quits: _ixti_ (ixti@moz-i3d.dae.119.188.IP) (Ping timeout: 121 seconds)
[13:02:07] <aatch> ChrisMorgan, I'm also surprised when people forget that -n === !(n-1) in twos-complement arithmetic.
[13:02:33] <aatch> s/also/always
[13:03:06] *** Joins: loyd (loyd@moz-uft.32f.108.213.IP)
[13:03:33] *** Quits: avikpal (avikpal@moz-17s.0mc.227.117.IP) (Ping timeout: 121 seconds)
[13:04:03] *** Joins: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de)
[13:04:25] *** Joins: c0a8 (joel@moz-6ampnk.gtri.gatech.edu)
[13:04:57] <duesenfranz_> Manishearth: is erickt here? it doesn't build for me with 1.0.0-beta.4... or do you know how to download the beta.3?
[13:05:49] <duesenfranz_> (it = aster)
[13:06:55] *** Joins: tadh (quassel@moz-iq6hhs.biz.rr.com)
[13:07:13] <Manishearth> duesenfranz_: he should turn up on #rust-internals later
[13:07:17] <Manishearth> or just file a bug on the repo
[13:08:07] *** Joins: uragano83 (salvatoreno@moz-sjeoq9.cust.vodafonedsl.it)
[13:08:18] *** Parts: uragano83 (salvatoreno@moz-sjeoq9.cust.vodafonedsl.it) ()
[13:08:19] <duesenfranz_> Manishearth: hmm I'll wait, thanks!
[13:08:20] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[13:08:27] * aatch hauls out the erickt-signal
[13:08:34] *** Quits: Temur (Tarmashirin@moz-lpe.g0r.217.117.IP) (Ping timeout: 121 seconds)
[13:08:56] <Manishearth> aatch: just scream "stable libsyntax"
[13:09:24] <Manishearth> (to be fair, I'm very interested in this too)
[13:10:13] <steveklabnik> Manishearth: :)
[13:11:21] *** Quits: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[13:12:52] <Layl> what kind of emblem would the erickt signal have?
[13:13:19] *** Joins: cholcombe (chris@moz-640.as4.71.80.IP)
[13:14:00] *** Quits: aatch (james@moz-is4j4r.cable.telstraclear.net) (Ping timeout: 121 seconds)
[13:14:19] <Manishearth> Layl: The Rustacean logo would probably fit well
[13:14:30] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:14:42] <Manishearth> since he's like the king of community activities
[13:14:45] <Manishearth> him and Brian
[13:15:20] *** Joins: avikpal (avikpal@moz-725.loq.194.117.IP)
[13:15:47] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[13:16:08] *** Quits: avikpal_ (avikpal@moz-i75.ds3.194.117.IP) (Ping timeout: 121 seconds)
[13:16:18] *** Joins: canhtak (canhtak@moz-1a9fh1.luxdsl.pt.lu)
[13:16:55] *** Joins: idegen (greg@moz-9c4nle.or.frontiernet.net)
[13:17:22] *** Joins: Guest63_ (textual@moz-qfs.570.70.83.IP)
[13:20:10] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Ping timeout: 121 seconds)
[13:21:26] <panicbit> Somehow I feel that integer literals (without annotation) shouldn't infer its type
[13:22:14] *** Joins: eibwen (eibwen@moz-c1k43u.dip0.t-ipconnect.de)
[13:22:54] *** Joins: avikpal_ (avikpal@moz-j1a.4af.194.117.IP)
[13:23:11] *** Quits: avikpal (avikpal@moz-725.loq.194.117.IP) (Ping timeout: 121 seconds)
[13:23:43] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[13:23:58] <panicbit> http://is.gd/PoIsTT
[13:24:42] <bluss> -O0 and the usize version panics
[13:24:58] <bluss> oh this reminds me of the bug we just had with slice iterators
[13:25:02] *** Quits: meh (meh@moz-p5gc2m.42-151.net24.it) (Ping timeout: 121 seconds)
[13:25:17] *** Joins: dinfuehr (dinfuehr@moz-flks74.highway.telekom.at)
[13:25:24] <bluss> reverse slice iteration on zero-size types was broken in the nightly due to + (-1) tripping arith checks
[13:25:31] *** Joins: claudiop (claudiop@moz-sqo2tm.cpe.netcabo.pt)
[13:25:33] *** AutomatedTester|AFK is now known as AutomatedTester
[13:25:41] <panicbit> panicing is marginally better than your app crashing anyway when you try to write to pixel 1 trillion
[13:26:24] <panicbit> Although, in the case of -O0 you can at least see what's wrong
[13:26:53] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[13:27:27] *** Quits: jjthrash (jjthrash@moz-gsigbq.res.rr.com) (Quit: Leaving...)
[13:27:31] *** Joins: jjthrash (jjthrash@moz-gsigbq.res.rr.com)
[13:27:31] *** Quits: dinfuehr (dinfuehr@moz-flks74.highway.telekom.at) (Connection closed)
[13:27:34] *** Joins: dinfuehr_ (dinfuehr@moz-flks74.highway.telekom.at)
[13:28:12] <bluss> panicbit: this overflows even though the result is 0 http://is.gd/YlL8d6
[13:28:30] *** Joins: avikpal (avikpal@moz-jhs.6lo.194.117.IP)
[13:28:52] <panicbit> Whut
[13:28:54] *** Quits: avikpal_ (avikpal@moz-j1a.4af.194.117.IP) (Ping timeout: 121 seconds)
[13:29:12] <panicbit> WHy
[13:29:27] <bluss> it's computing  += -1 and not -= 1
[13:29:45] <bluss> :(
[13:30:00] *** Joins: acgtyrant (acgtyrant@moz-297.8em.108.218.IP)
[13:30:07] <panicbit> But isnt that the same?
[13:30:28] <bluss> in rust it seems like it has to convert -1 to 0 - 1 first
[13:30:44] <bluss> in usize
[13:30:50] <benh> -1 of an unsigned type is an overflow right there :(
[13:31:16] <panicbit> (ಠ_ಠ)
[13:31:32] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Connection closed)
[13:31:41] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[13:32:11] <Layl> CPU instructions don't include a substract do they?
[13:32:44] <Layl> nevermind they do
[13:33:55] *** Joins: dstrbad (dstrbad@moz-vtm9i5.net.t-com.hr)
[13:34:23] <FreeFull> x86 has a separate subtract for instruction density
[13:34:29] <FreeFull> Even though NEG + ADD would work too
[13:34:55] <FreeFull> Well, ok, SUB can have memory operands
[13:35:24] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:35:30] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Connection closed)
[13:36:22] *** Joins: twi (twi@moz-dhvtp3.clients.your-server.de)
[13:37:31] *** Quits: nicoch (nicoch@moz-g02d7k.be) (Quit: My Mac has gone to sleep. ZZZzzz…)
[13:37:52] *** Quits: sp0 (seth@moz-m97a3k.internode.on.net) (Quit: Lost terminal)
[13:40:04] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[13:40:14] <HollyRain> I've `Default: &str,`into a `pub struct`, but I get this error: missing lifetime specifier [E0106] How to fix it?
[13:41:21] *** Joins: folsen (folsen@moz-t79.l31.101.46.IP)
[13:41:26] <SneakySnake> HollyRain: What is the purpose of `Default`? What does it refer to?
[13:41:56] <steveklabnik> HollyRain: yeah, it's not clear what you're trying to do exactly
[13:42:10] <SneakySnake> If you want an owned string, use String.
[13:42:11] <steveklabnik> HollyRain: but, if you make something in a struct a &str, it needs a lifetime
[13:42:13] <HollyRain> the issue is the type, becasuse when I use String there is not problem
[13:42:17] <SneakySnake> &str is a view into an owned string
[13:42:22] <steveklabnik> struct Foo<'a> { x: &'a str }
[13:42:24] <HollyRain> Default is only a field name
[13:42:38] <HollyRain> ok, thanks
[13:44:06] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Ping timeout: 121 seconds)
[13:45:07] *** Joins: hjr3 (hradtke@moz-e235ok.fios.verizon.net)
[13:46:06] *** Joins: Temur (Tarmashirin@moz-lpe.g0r.217.117.IP)
[13:46:54] *** Joins: mib_u7uqph (Mibbit@moz-5dlnfs.dip0.t-ipconnect.de)
[13:47:13] <steveklabnik> oh, yeah. field names are generally lower-case
[13:47:19] <steveklabnik> and Rust has a Defualt type
[13:47:26] <steveklabnik> so that's why it was so confusing to us!
[13:48:00] *** Quits: dstrbad (dstrbad@moz-vtm9i5.net.t-com.hr) (A TLS packet with unexpected length was received.)
[13:48:08] *** Joins: dstrbad (dstrbad@moz-vtm9i5.net.t-com.hr)
[13:49:09] <tomaka> rusti: trait Foo<A> { type B; }    fn bar(_: &Foo<A, B=u8>) {}
[13:49:10] -playbot- <anon>:9:52: 9:53 error: use of undeclared type name `A`
[13:49:10] -playbot- <anon>:9         trait Foo<A> { type B; }    fn bar(_: &Foo<A, B=u8>) {}
[13:49:10] -playbot- output truncated; full output at: http://bit.ly/1JWILVs
[13:49:15] <HollyRain> ok
[13:49:17] <tomaka> rusti: trait Foo<A> { type B; }    fn bar(_: &Foo<u8, B=u8>) {}
[13:49:19] -playbot- ()
[13:49:29] <tomaka> wat
[13:49:35] <tomaka> this code doesn't work on my machine
[13:49:47] <tomaka> I was about to ask what the right syntax is
[13:50:13] <bluss> rusti: VERSION
[13:50:14] -playbot- "rustc 1.0.0-beta.3 (5241bf9c3 2015-04-25) (built 2015-04-25)"
[13:50:53] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[13:50:55] <tomaka> oohhh nevermind, a stupid hidden character got copy-pasted in my code
[13:51:05] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[13:51:38] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[13:51:58] *** Quits: mib_u7uqph (Mibbit@moz-5dlnfs.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[13:54:59] *** bentley|away is now known as bentley
[13:55:28] *** Joins: alonlevy (alon@moz-35sfau.red.bezeqint.net)
[13:55:51] *** Joins: jdm (jdm@moz-4vu.06r.98.75.IP)
[13:55:51] *** ChanServ sets mode: +o jdm
[13:56:11] *** Joins: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk)
[13:56:28] *** Joins: meh (meh@moz-p5gc2m.42-151.net24.it)
[13:58:05] *** Quits: canhtak (canhtak@moz-1a9fh1.luxdsl.pt.lu) (Client exited)
[13:58:13] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[13:58:52] *** Joins: ascarter (ascarter@moz-705hf8.wa.comcast.net)
[13:59:58] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[14:00:41] *** Quits: v21 (vee@moz-f94.kug.204.223.IP) (Quit: Leaving)
[14:01:21] *** Quits: Temur (Tarmashirin@moz-lpe.g0r.217.117.IP) (Connection closed)
[14:01:43] *** Quits: cholcombe (chris@moz-640.as4.71.80.IP) (Ping timeout: 121 seconds)
[14:02:18] *** Quits: Ms2ger (Ms2ger@moz-t9m.9ho.190.193.IP) (Quit: bbl)
[14:02:58] *** Joins: dexteryy (dexteryy@moz-9jrbqr.members.linode.com)
[14:04:41] *** Quits: kalail (uid62296@moz-5ck9vu.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[14:05:00] *** Joins: newbiz (newbiz@moz-9m0cr9.fbxo.proxad.net)
[14:06:55] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[14:07:04] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[14:07:09] <filsmick> is there any way to access a private standard library function to experiment with it?
[14:07:14] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[14:08:20] *** Quits: dexteryy (dexteryy@moz-9jrbqr.members.linode.com) (Quit: Textual IRC Client: www.textualapp.com)
[14:08:32] *** Joins: aepsil0n (eduard@moz-p6g0p6.mullvad.net)
[14:08:45] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[14:08:48] *** Quits: aepsil0n (eduard@moz-p6g0p6.mullvad.net) (Quit: Leaving.)
[14:08:51] <tomaka> This is a bug in rustc, right? http://is.gd/5fS5N5
[14:08:59] <tomaka> Or am I doing something stupidely wrong?
[14:09:59] <Layl> woo I'm rendering a texture finally
[14:10:13] *** Quits: alonlevy (alon@moz-35sfau.red.bezeqint.net) (Ping timeout: 121 seconds)
[14:10:22] *** Joins: colinsurprenant (colin@moz-rmn4e2.169.electronicbox.net)
[14:11:38] *** Quits: ascarter (ascarter@moz-705hf8.wa.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:11:53] *** Joins: Guest58 (textual@moz-tb1fm9.us.xo.net)
[14:12:01] *** Joins: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se)
[14:12:06] *** Joins: Guest74 (textual@moz-il1.n6s.204.65.IP)
[14:12:31] *** Joins: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net)
[14:12:42] *** Joins: annodomini_ (lambda@moz-06j.inv.142.32.IP)
[14:12:52] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Ping timeout: 121 seconds)
[14:12:55] *** annodomini_ is now known as annodomini
[14:13:12] *** darkowlzz|afk is now known as darkowlzz
[14:13:58] <emilk> http://is.gd/a1x7yK - "consider changing this closure to take self by mutable reference" how ?
[14:14:33] <bluss> emilk: that would be the FnMut trait
[14:14:46] <bluss> Fn is for closures that don't need mutating their captures
[14:15:06] <emilk> oh
[14:15:13] <duesenfranz_> emilk: http://is.gd/88zg71 this would be possible
[14:15:49] <emilk> thank you!
[14:16:07] <emilk> right, Fn, FnMut, FnOnce - makes sense
[14:16:28] <bluss> emilk: here's a very short explanation http://doc.rust-lang.org/reference.html#closure-types
[14:16:39] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[14:16:49] *** Joins: cholcombe (chris@moz-k0ajnr.i01-5.onvol.net)
[14:17:08] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[14:18:46] *** Quits: annodomini (lambda@moz-06j.inv.142.32.IP) (Ping timeout: 121 seconds)
[14:18:59] *** Joins: sayan (sayan@moz-4q2.kio.51.106.IP)
[14:21:55] *** Joins: CustosLimen (CustosLimen@moz-qrs.1np.210.105.IP)
[14:22:17] *** Parts: dgrunwald (Daniel@moz-dq45kf.hsi4.kabel-badenwuerttemberg.de) ()
[14:23:43] *** Joins: Temur (Tarmashirin@moz-lpe.g0r.217.117.IP)
[14:23:59] *** Joins: delma (aopkarja@moz-6l6mf3.cs.helsinki.fi)
[14:27:33] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[14:27:45] *** Quits: nedp (nedp@moz-vg6vvt.bigpond.net.au) (Connection closed)
[14:28:53] *** Quits: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de) (Connection closed)
[14:29:58] *** Joins: yarrkov (x@cipherdev.org)
[14:29:59] *** Joins: yymoto2 (yymoto2@moz-qhe.oul.192.14.IP)
[14:30:21] <maximih> hi everyone. Is there a way to use `if let` with multiple conditions? e.g. something like `if let Some(x) = f() && if let Some(y) = f() {}`? 
[14:30:47] <maximih> or maybe something similar using match?
[14:30:49] *** Quits: rks (rks@moz-j9l1rj.9eca.oau0.0000.2620.IP) (Quit: WeeChat 0.4.2)
[14:31:07] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:32:15] *** Quits: dstrbad (dstrbad@moz-vtm9i5.net.t-com.hr) (A TLS packet with unexpected length was received.)
[14:32:46] *** Quits: Layl (Mibbit@moz-iachg4.sdb.prolocation.net) (Quit: http://www.mibbit.com ajax IRC Client)
[14:33:04] *** Joins: annodomini (lambda@moz-06j.inv.142.32.IP)
[14:33:15] <duesenfranz_> maximih: `if let (Some(y), Some(x)) == (f(), f()) {}` like this?
[14:33:48] *** Joins: oberstet (quassel@moz-0vcar4.dynamic.mnet-online.de)
[14:33:51] *** Quits: oberstet (quassel@moz-0vcar4.dynamic.mnet-online.de) (Connection closed)
[14:33:53] <duesenfranz_> maximih: tough I don't know about any short-circuiting here
[14:33:57] *** Joins: polyfractal (polyfractal@moz-v88dif.artists.westelcom.com)
[14:34:44] <maximih> duesenfranz_: yes, that is what I want! thanks :)
[14:35:58] *** Joins: timonv1 (timonv@moz-7btgcn.dynamic.ziggo.nl)
[14:36:17] *** Joins: annodomini_ (lambda@moz-hceqmj.hfc.comcastbusiness.net)
[14:36:23] *** Quits: timonv (timonv@moz-7btgcn.dynamic.ziggo.nl) (Connection closed)
[14:36:41] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:37:10] *** Quits: annodomini (lambda@moz-06j.inv.142.32.IP) (Ping timeout: 121 seconds)
[14:37:10] *** annodomini_ is now known as annodomini
[14:37:35] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[14:39:48] *** Quits: ineol (ineol@moz-pdkvmd.fbx.proxad.net) (Client exited)
[14:40:04] *** Joins: Racquetball (namestolenw@moz-dnlovt.cpe.twtelecom.net)
[14:40:14] *** Quits: grncdr (Adium@moz-m1g.e47.90.95.IP) (Ping timeout: 121 seconds)
[14:40:16] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[14:40:48] <debu> If I have a BufStream<TcpStream> on a thread of its own, is it possible to both read and write to that? I'm able to read once from the stream, then the next time it tries to read it blocks
[14:40:50] <debu> In the read call
[14:41:04] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[14:41:05] *** Joins: grncdr (Adium@moz-m1g.e47.90.95.IP)
[14:42:01] *** Joins: dfinning_ (dfinninger@moz-6a9v7n.res.rr.com)
[14:42:01] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[14:42:48] *** Quits: yymoto2 (yymoto2@moz-qhe.oul.192.14.IP) (Quit: Lost terminal)
[14:43:06] *** Quits: Guest58 (textual@moz-tb1fm9.us.xo.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:43:39] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[14:43:42] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[14:43:48] *** Quits: zzing (textual@moz-jucm1n.cpe.distributel.net) (Ping timeout: 121 seconds)
[14:43:53] <debu> Seems the only way to read/write to a socket is clone it and have two threads for one connection...?
[14:43:53] *** Joins: Guest58 (textual@moz-tb1fm9.us.xo.net)
[14:44:00] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[14:44:22] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[14:44:24] *** Joins: yuja (yuja@moz-4ttbrt.pikara.ne.jp)
[14:44:36] *** Joins: davebettin (davebettin@moz-acc.cl4.35.72.IP)
[14:45:04] <dinfuehr_> can i use `for x in &vec` to walk through the vector in reverse order?
[14:45:37] <huon> for x in vec.iter().rev() { ... }
[14:46:01] *** Joins: btobolaski (btobolaski@moz-fsmk90.fios.verizon.net)
[14:46:03] *** Quits: dfinning_ (dfinninger@moz-6a9v7n.res.rr.com) (Ping timeout: 121 seconds)
[14:46:16] *** Joins: grncdr1 (Adium@moz-m1g.e47.90.95.IP)
[14:46:43] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[14:47:08] *** Quits: grncdr (Adium@moz-m1g.e47.90.95.IP) (Ping timeout: 121 seconds)
[14:47:32] *** Joins: Gamecubic (cubic@moz-bglmk5.mc.videotron.ca)
[14:48:02] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[14:48:14] *** Joins: Tempus13 (Tempus@moz-sk3l4f.optusnet.com.au)
[14:48:24] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[14:49:21] *** Quits: acgtyrant (acgtyrant@moz-297.8em.108.218.IP) (Ping timeout: 121 seconds)
[14:50:06] *** Joins: calvinmetcalf (sid25915@moz-6ip42s.brockwell.irccloud.com)
[14:50:24] *** Joins: acgtyrant (acgtyrant@moz-297.8em.108.218.IP)
[14:50:37] *** Quits: zcourts (zcourts@moz-gel.tgg.11.195.IP) (Client exited)
[14:50:53] *** Quits: blank_name (blank_name@moz-nb1i9g.mi.frontiernet.net) (Ping timeout: 121 seconds)
[14:51:11] *** Quits: guewen (guewen@moz-ftf7u4.cust.swisscom.ch) (Quit: Leaving...)
[14:51:54] *** Joins: blank_name (blank_name@moz-trd.8u3.36.50.IP)
[14:53:47] <xeviox> puh, first dance with rust was nice :D
[14:54:29] <xeviox> is there already some report tool for the tests? (that e. g. generates .html files from the test results)
[14:54:38] *** Quits: mjboa (mike@moz-4e2lon.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[14:55:18] <calvinmetcalf> the blogpost on concurrency with rust) makes reference to being able to mark Arc's as send, are there examples of that anywhere ?
[14:55:20] *** Joins: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP)
[14:55:27] *** Joins: mib_25xbip (Mibbit@moz-cj8.evt.23.84.IP)
[14:55:39] *** Joins: dschatzberg (dschatz@moz-nk1clf.bu.edu)
[14:55:50] <emilk> right, Fn, FnMut, FnOnce - makes sense
[14:55:55] <emilk> oops
[14:56:05] <xeviox> calvinmetcalf: Arc is Send -> http://doc.rust-lang.org/std/sync/struct.Arc.html
[14:57:26] *** Quits: Guest58 (textual@moz-tb1fm9.us.xo.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:57:27] *** bentley is now known as bentley|away
[14:57:55] <calvinmetcalf> xeviox: you're right
[14:58:02] *** Quits: freefall (ff@moz-i72.nhl.10.176.IP) (Ping timeout: 121 seconds)
[14:58:20] <bluss> it's Sync + Send if T: Sync + Send
[14:58:53] *** Joins: Guest58 (textual@moz-tb1fm9.us.xo.net)
[14:59:13] <calvinmetcalf> Certain base types are not inherently thread-safe, though, so it’s also possible to explicitly mark a type like Arc as Send, saying to the compiler: “Trust me; I’ve verified the necessary synchronization here.”
[14:59:24] <calvinmetcalf> was what confused me
[14:59:42] <calvinmetcalf> well confused my question
[15:00:19] <mbrubeck> xeviox: I haven't seen such a report tool
[15:00:23] <bluss> yes Arc uses such a manual "unsafe impl<T: Sync + Send> Send for Arc<T>"
[15:00:53] <mbrubeck> xeviox: But looking at the test crate, it seems like it would be pretty easy to extend run_tests_console with an HTML writer instead: http://doc.rust-lang.org/src/test/lib.rs.html#640
[15:01:29] <calvinmetcalf> I guess what I'm asking is 'is there a way to avoid a mutex to write to a vector when you're using an atomic to coordinate the indexes (e.g. you know there wont be a race)'
[15:01:37] *** Joins: nott (nott@moz-to4.06o.57.86.IP)
[15:02:06] *** Quits: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se) (Ping timeout: 121 seconds)
[15:02:19] *** Joins: zzing (textual@moz-jucm1n.cpe.distributel.net)
[15:02:29] *** Quits: dinfuehr_ (dinfuehr@moz-flks74.highway.telekom.at) (Connection closed)
[15:02:41] *** Joins: agjacome (agjacome@moz-ma9sfa.dynamic.jazztel.es)
[15:02:41] *** Quits: mib_25xbip (Mibbit@moz-cj8.evt.23.84.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:02:50] *** Joins: khades (Thunderbird@moz-u45.3vk.74.212.IP)
[15:03:26] *** Quits: Temur (Tarmashirin@moz-lpe.g0r.217.117.IP) (Connection closed)
[15:03:58] *** Quits: davebettin (davebettin@moz-acc.cl4.35.72.IP) (Ping timeout: 121 seconds)
[15:04:16] <mbrubeck> calvinmetcalf: You might want to look at http://doc.rust-lang.org/collections/primitive.slice.html#method.split_at_mut and its implementation
[15:04:18] <xeviox> mbrubeck: yes looks like there is a chance.. How can an extension be used? Adding it and then recompile rustc?
[15:04:22] *** Quits: Guest63_ (textual@moz-qfs.570.70.83.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:04:42] <calvinmetcalf> mbrubeck: thanks
[15:05:14] *** Joins: GabbyT (Mibbit@moz-cb72t5.mycingular.net)
[15:05:36] *** Joins: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se)
[15:05:54] *** Quits: nott (nott@moz-to4.06o.57.86.IP) (Ping timeout: 121 seconds)
[15:06:20] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[15:06:22] <GabbyT> Hi. The get function of HashMap returns a reference to the value mapped to by the key. How can I de-reference it to get the actual object? Do I use the star (*)? Thanbk you!
[15:06:57] <mbrubeck> xeviox: That would definitely work.  Or if you can get away with just adding code instead of modifying it, you could write a program that loads the `test` crate (requires #![feature(test)]) and then have your new runner call test::* functions directly.  Like Servo's reftest harness - https://github.com/servo/servo/blob/master/tests/reftest.rs
[15:06:58] <bluss> GabbyT: yes you can, but only if it's a simple type you can copy out
[15:07:13] <mbrubeck> xeviox: It might also be possible to just compile libtest without compiling all of rustc.
[15:07:17] <bluss> GabbyT: "the actual object" is owned by the HashMap and it won't let you take it away, only borrow it
[15:07:40] <bluss> GabbyT: but you can use the reference you get, or you can copy or clone the value out.
[15:08:03] <gsingh93> what's the stable alternative to char_at?
[15:08:06] <Mutabah> GabbyT: You can also call methods using that reference, just by doing 'reference.method()
[15:08:10] *** Joins: Diggsey (diggsey@moz-abvo78.dsl.pipex.com)
[15:08:18] <Mutabah> gsingh93: Iterators?
[15:08:21] <xeviox> mbrubeck: a separate runner also sounds good :D
[15:08:49] *** Joins: freefall (ff@moz-4lmh4m.privacyfoundation.ch)
[15:09:00] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (A TLS packet with unexpected length was received.)
[15:09:05] <gsingh93> Mutabah: what if I want to access an element in O(1), slice then iteratate?
[15:09:06] * Mutabah is away (Screen Detached)
[15:09:30] *** Joins: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP)
[15:09:35] <GabbyT> Mutabah: Ah, I see. Well, my HashMap has a struct as values. I wanted to get the struct and change the data inside the struct. Is it not possible to directly access that field in the struct?
[15:09:43] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[15:09:50] <gsingh93> but i can't call iter() on a &str?
[15:10:02] <mbrubeck> gsingh93: str[idx..].chars().next()
[15:10:08] <gsingh93> ah
[15:10:12] <gsingh93> the chars() always trips me up
[15:10:31] <gsingh93> it's like the 4th time i've forgotten it existed
[15:10:54] *** Joins: dawehner-afk (quassel@moz-h829oe.hsi6.kabel-badenwuerttemberg.de)
[15:11:16] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[15:11:25] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[15:11:35] *** Joins: james4k (james@moz-ao8aj6.consolidated.net)
[15:11:57] <mbrubeck> GabbyT: You can use hashmap.entry() to get one of these, which can give you a mutable reference... http://doc.rust-lang.org/std/collections/hash_map/enum.Entry.html
[15:12:16] <mbrubeck> GabbyT: Or just get_mut
[15:12:27] *** Joins: jshs (jshs@moz-1b1ct2.dip0.t-ipconnect.de)
[15:12:33] <mbrubeck> http://doc.rust-lang.org/std/collections/struct.HashMap.html#method.get_mut
[15:12:53] *** Quits: woboats (tatterdemal@moz-a0dnkb.ca.comcast.net) (Ping timeout: 121 seconds)
[15:13:02] *** Quits: dawehner (quassel@moz-grp.h0g.138.193.IP) (Ping timeout: 121 seconds)
[15:14:12] <meh> is there an equivalent to C's INT_MIN somewhere?
[15:14:29] <bluss> meh: std::i32::MIN for example. or i32::min_value()
[15:14:42] <bluss> same for all integer types
[15:14:54] <bluss> playbot: i8::min_value()
[15:14:55] -playbot- -128
[15:15:09] <meh> bluss, I assume it works for c_int too?
[15:15:33] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[15:15:48] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[15:15:54] <bluss> the method version will, at least as long as c_int corresponds to one of the rust integers
[15:16:01] <bluss> which it does I assume
[15:16:03] <meh> bluss, thanks
[15:16:06] <meh> bluss, let's hope so :D
[15:16:25] *** Quits: hjr3 (hradtke@moz-e235ok.fios.verizon.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[15:16:43] *** Quits: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de) (Connection closed)
[15:17:24] *** Joins: Temur (Tarmashirin@moz-lpe.g0r.217.117.IP)
[15:17:37] *** Joins: cptroot (Mibbit@moz-n169l8.caltech.edu)
[15:18:22] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:18:59] <bluss> why does the libc crate use so many submodules
[15:19:13] *** Joins: GaryOak_ (GaryOak_@moz-etoj16.hfc.comcastbusiness.net)
[15:19:15] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:19:16] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[15:19:23] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[15:19:32] *** Joins: v21 (vee@moz-f94.kug.204.223.IP)
[15:19:42] *** Joins: lov2cod (Adium@moz-4c4th3.o38v.k60l.0119.2620.IP)
[15:19:48] *** Joins: nyx (nyx@moz-7o34ff.albyny.csvoip.net)
[15:19:53] *** Joins: housl (housl@moz-qnjt4k.ut.comcast.net)
[15:20:04] *** Joins: rbrs (rbrs@moz-m5thmg.static.zebra.lt)
[15:20:12] *** Joins: nott (nott@moz-to4.06o.57.86.IP)
[15:20:22] *** Joins: ascarter (ascarter@moz-705hf8.wa.comcast.net)
[15:20:31] *** darkowlzz is now known as darkowlzz|afk
[15:21:31] <GabbyT> mbrubeck: Thank you. I have this code: "let cache_map = cache_map_arc.lock().unwrap();         cache_map.get_mut(&path_string).unwrap()", and the compiler is now complaining that cache_map is a pointer. Do you know how to remedy this? get_mut seems to not like the pointer.
[15:23:06] *** Joins: gandalf (zbraniecki@moz-sqhkjf.res.rr.com)
[15:23:36] *** Quits: v21 (vee@moz-f94.kug.204.223.IP) (Ping timeout: 121 seconds)
[15:24:19] *** Quits: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[15:24:49] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[15:26:15] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[15:27:02] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[15:27:13] <mbrubeck> GabbyT: You can't mutate stuff inside an Arc.
[15:27:31] <mbrubeck> unless you use something like RefCell
[15:28:09] <GabbyT> mbrubeck: Basically, I have the following structure Arc<Mutex<HashMap<String, RwLock<CacheObject>>>>, where CacheObject is my struct.
[15:28:20] <bluss> you have a mutex, should be fine
[15:28:27] <GabbyT> I am trying to write a function that returns RwLock<CacheObject> given a String.
[15:28:42] <GabbyT> And then when the RwLock is returned, I want to change the data inside CacheObject.
[15:28:54] *** Quits: rouma (zack@moz-stcfbs.pekn.hg8m.2000.2604.IP) (A TLS packet with unexpected length was received.)
[15:29:11] <chrisarcand> Hi! This might sound dumb, but one of the biggest barriers that I feel I have to really getting in to Rust is how to properly and idiomatically organize code - I'm a Ruby guy to a fault and am concerned that my heavily biased OOP brain can't really comprehend how to put together a project, and I'd rather learn 'idiomatic' rust (if that's a thing, really) rather than attempt to bastardize rust in rubyish terms. Any recommended resources besides the R
[15:29:11] *** Quits: CMCDragonkai (CMCDragonka@moz-v01.321.218.216.IP) (Connection closed)
[15:29:23] *** Joins: CMCDragonkai (CMCDragonka@moz-v01.321.218.216.IP)
[15:29:24] *** Joins: ianj (ianjneu@moz-ht5jmt.ma.comcast.net)
[15:29:45] <bluss> GabbyT: I don't understand "complaining that cache_map is a pointer", what's the error?
[15:30:05] <GabbyT> bluss, one second.
[15:30:25] <GabbyT> http://pastebin.com/PmR7ZyEr
[15:30:48] <FreeFull> chrisarcand: Your message got cut off around "Any recommended resources besides the R"
[15:30:58] <bluss> GabbyT: thanks!
[15:31:09] <GabbyT> This is what I am trying to do: http://pastebin.com/tasv8Qu5
[15:31:11] <GabbyT> :).
[15:31:12] <chrisarcand> FreeFull: Any recommended resources besides the Rustlang book on this sort of topic specifically?
[15:31:13] <mbrubeck> okay, so `cache_map` is a `MutexGuard<HashMap<_,_>>`, which implements `DerefMut<Target=HashMap>`...
[15:31:39] <bluss> GabbyT: you're trying to return the RwLock value, but it's owned by the HashMap
[15:32:07] <bluss> GabbyT: if you want to have the value to give away you need to remove it from the hashmap, not just get a reference to it
[15:32:23] <FreeFull> chrisarcand: I don't know if there is anything else that isn't out of date
[15:32:38] <chrisarcand> Kind of what I figured :/ Alrighty, thanks.
[15:32:44] <GabbyT> bluss: So, I can get the value and read it, but I cannot write it, correct?
[15:32:50] <GabbyT> Or modify it, I mean.
[15:32:58] <bluss> GabbyT: you can modify it, you use .get_mut()
[15:33:05] <FreeFull> chrisarcand: Maybe looking at specific parts of http://rustbyexample.com/ might help too
[15:33:30] <bluss> GabbyT: a rough breakdown is "read access" is acces by & pointer, "mutable access" is access by &mut pointer. You have both those
[15:33:38] *** Quits: Temur (Tarmashirin@moz-lpe.g0r.217.117.IP) (Connection closed)
[15:33:39] <freefall> chrisarcand: would be a fine question to post to /r/rust on reddit
[15:33:44] <bluss> GabbyT: what you don't have is ownership. Access to it by value
[15:33:48] <GabbyT> I call get_mut() on the HashMap pointer after I lock on the mutex, but the lock function returns a pointer, and the compiler is complaining that it's a pointer.
[15:33:54] <mbrubeck> GabbyT: You can't return the value, but you can return an &mut reference to it.
[15:33:57] <bluss> GabbyT: the HashMap owns it until you remove the RWLock value
[15:34:05] *** Joins: Temur (Tarmashirin@moz-lpe.g0r.217.117.IP)
[15:34:16] <GabbyT> As in "let cache_map = cache_map_arc.lock().unwrap();" returns a pointer, and get_mut does not want to be called on a pointer.
[15:34:26] <bluss> GabbyT: you misunderstand the error
[15:34:37] <bluss> GabbyT: everything is ok up until the return value
[15:34:55] *** Joins: Riastradh (riastradh@moz-c3lvsc.torservers.net)
[15:34:56] <bluss> GabbyT: the value on the last line does not match the function's declared return type
[15:35:02] <GabbyT> bluss: Ah, I see.
[15:35:28] <GabbyT> bluss: Thank you. Sorry about that. So, I should change the return type to be what? I'm not quite sure. & mut?
[15:35:38] *** Quits: Johannes (Johannes@moz-ufvp1b.nttpc.ne.jp) (Ping timeout: 121 seconds)
[15:35:57] <bluss> GabbyT: we're getting at a lot of typical rust issues here :)
[15:35:57] <GabbyT> bluss: When I tried to do this, it complained about missing a lifetime specifier, and I am very unfamiliar with those.
[15:36:18] <GabbyT> bluss :(. Darn.
[15:36:22] <bluss> GabbyT: first RWLock is a lock and you don't need &mut. RwLock is made to be shared
[15:36:28] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[15:36:28] *** Joins: dinfuehr (dinfuehr@moz-flks74.highway.telekom.at)
[15:36:34] <bluss> you can lock it through a &-pointer just like you can a Mutex
[15:36:44] <mbrubeck> GabbyT: What's the type of your function currently?
[15:36:51] <bluss> GabbyT: to do this sanely, you can't borrow out of your HashMap at all
[15:36:59] <GabbyT> "fn get_cache_object(path_string: String, cache_map_arc: Arc<Mutex<HashMap<String, RwLock<CacheObject>>>>) -> RwLock<CacheObject> {"
[15:36:59] <bluss> GabbyT: it looks like you need Arc<RwLock>
[15:37:15] <bluss> GabbyT: and return a clone of that Arc<RwLock> in get_cache_object
[15:37:38] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[15:37:46] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[15:37:46] *** ChanServ sets mode: +o erickt
[15:37:56] *** Quits: c0170 (c0170@moz-bb29a4.cambridge.arm.com) (Ping timeout: 121 seconds)
[15:38:04] <bluss> GabbyT: borrowing, returning &RwLock is not possible here -- because you can only borrow while you hold the Mutex
[15:38:14] <bluss> so you need to use shared ownership with Arc instead
[15:38:17] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[15:38:23] <bluss> and it will work fine.
[15:39:23] <bluss> GabbyT: look at it like this.. you lock the mutex at the start of get_cache_object
[15:39:30] *** Quits: nott (nott@moz-to4.06o.57.86.IP) (Ping timeout: 121 seconds)
[15:39:55] <bluss> when that lock snaps closed again, you need to be done. No borrows outside that either. So you need to get out a non-borrowed value from your hashmap
[15:40:05] <bluss> I'd use Arc<RwLock<CacheObject>>
[15:40:24] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[15:41:25] *** darkowlzz|afk is now known as darkowlzz
[15:42:07] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[15:42:28] *** Quits: dawehner-afk (quassel@moz-h829oe.hsi6.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[15:42:35] <HollyRain> when I use "cargo build" while I build a library, it shows warning messages about #[warn(dead_code)] . Do not they be showed for a library?
[15:43:14] <bluss> HollyRain: maybe you should mark more functions and items pub
[15:43:38] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[15:43:48] *** Joins: dawehner (quassel@moz-h829oe.hsi6.kabel-badenwuerttemberg.de)
[15:44:48] *** Quits: doener (doener@moz-929cn9.unity-media.net) (Quit: leaving)
[15:44:49] <GabbyT> bluss: Thank you. This helped a lot! :)
[15:45:22] <bluss> that's great. hope it works out
[15:45:28] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[15:45:39] <HollyRain> bluss, it's true
[15:45:50] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[15:46:18] *** Quits: gandalf (zbraniecki@moz-sqhkjf.res.rr.com) (Ping timeout: 121 seconds)
[15:46:30] *** Joins: davebettin (davebettin@moz-rnhkmd.bendcable.com)
[15:46:32] *** Joins: lutter1 (lutter@moz-7v7ueu.PUBLIC.monkeybrains.net)
[15:46:41] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[15:47:13] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[15:47:52] *** Joins: alonlevy (alon@moz-lca.t6b.125.77.IP)
[15:48:20] *** Joins: lukes386 (Mibbit@moz-gh1isj.static.twtelecom.net)
[15:48:33] *** Joins: doener (doener@moz-929cn9.unity-media.net)
[15:48:40] *** Quits: jix (jix@moz-dojrhi.de) (Connection closed)
[15:48:41] *** Joins: defyrlt (user@moz-u6g.e4f.217.91.IP)
[15:48:46] *** Quits: jviereck (Adium@moz-pqri8u.dclient.hispeed.ch) (Quit: Leaving.)
[15:48:53] *** Joins: c0170 (c0170@moz-4stj9o.cable.virginm.net)
[15:48:56] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[15:49:02] *** Joins: jix (jix@moz-dojrhi.de)
[15:49:30] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[15:49:32] *** Joins: mjboa (mike@moz-4e2lon.dip0.t-ipconnect.de)
[15:49:57] <lukes386> hello! what is the recommended way to "cast" an integer to an enum variant with specified discriminants? it seems like FromPrimitive used to be used for this but has been removed
[15:50:38] <mtsr> Is there anyone still working on libgreen or something like it in the Rust community? I'd be interested to read some newer code than just the ported versions of Coroutines and Chase-Lev Deques that I've found so far.
[15:50:55] *** Joins: isomarcte (isomarcte@moz-vqvrcl.hfc.comcastbusiness.net)
[15:51:58] *** Joins: bkearns (Adium@moz-rudtng.static.wiline.com)
[15:52:05] *** Joins: Boddlnagg (Patrick@moz-nkvhmf.dyn.telefonica.de)
[15:52:07] *** Quits: isomarcte (isomarcte@moz-vqvrcl.hfc.comcastbusiness.net) (Quit: rcirc on GNU Emacs 24.5.1)
[15:52:30] *** Joins: isomarcte (isomarcte@moz-vqvrcl.hfc.comcastbusiness.net)
[15:54:10] <HollyRain> which would be the best module to use to help me to remove leading and trailing white spaces? str or string?
[15:54:36] *** Joins: Brochacho (alberto@moz-p39.q5h.156.131.IP)
[15:54:57] *** darkowlzz is now known as darkowlzz|afk
[15:55:21] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[15:55:21] *** ChanServ sets mode: +o erickt
[15:56:37] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[15:56:53] <meh> is there a way to FFI a function that uses va_list?
[15:57:15] <mbrubeck> lukes386: The external `num` crate has FromPrimitive, though I don't know if it also supports #[derive(FromPrimitive)]
[15:57:35] <FreeFull> meh: Yes
[15:57:39] *** Quits: sonder (chatzilla@moz-nt8r49.idi.ntnu.no) (Ping timeout: 121 seconds)
[15:57:39] <meh> FreeFull, how?
[15:57:45] <meh> can't find va_list in libc
[15:58:12] *** Quits: debu (debu@moz-6kgmmq.adsl.alicedsl.de) (Ping timeout: 121 seconds)
[15:58:14] <mindtree> mbrubeck: I don't think it does, I did see a crate with a macro `enum_from_primitive!{..}` though
[15:58:14] *** bentley|away is now known as bentley
[15:58:18] *** Joins: AngelOfSol (AngelOfSol@moz-uo0.c3h.21.129.IP)
[15:58:20] *** Quits: eric_lagergren (barsonme@moz-lr1hrn.wa.comcast.net) (Connection closed)
[15:58:38] <Brochacho> Can you derive a trait for a struct when using generics?
[15:58:45] *** Quits: dinfuehr (dinfuehr@moz-flks74.highway.telekom.at) (Connection closed)
[15:58:48] *** Joins: ryanxcharles (ryan@moz-lcf.eq6.124.64.IP)
[15:59:03] <bluss> yes but only a specific set of traits can be derived anyway
[15:59:25] <duesenfranz_> bluss: is there any simple reason for that?
[15:59:26] <mbrubeck> mtsr: There's a newish coroutine library at https://github.com/rustcc/coroutine-rs and an async IO library https://github.com/carllerche/mio
[15:59:29] <FreeFull> meh: Hmm, it's only one way
[15:59:35] <mbrubeck> mtsr: I don't know of anything directly comparable to libgreen
[15:59:38] <FreeFull> meh: If you have a variadic C function, you can call it from Rust
[15:59:39] <Ilari> Brochacho: 'impl<T:Foo> Bar for Baz<T>'?
[15:59:40] <mtsr> mbrubeck: oooooh
[15:59:46] <FreeFull> meh: Is that ok?
[15:59:55] *** Quits: futile (felix@moz-cmcd12.unity-media.net) (Quit: WeeChat 1.2-rc1)
[16:00:06] *** Quits: GabbyT (Mibbit@moz-cb72t5.mycingular.net) (Quit: http://www.mibbit.com ajax IRC Client)
[16:00:09] <meh> FreeFull, `void av_vlog(void *avcl, int level, const char *fmt, va_list vl);` this is what I have, no way to extern it?
[16:00:12] <mtsr> mbrubeck: oh, that's the one I was using already, heh
[16:00:18] <mtsr> mbrubeck: thanks
[16:00:39] <mtsr> mbrubeck: It's basically the coroutine part from libgreen ported to current rust
[16:00:50] <Brochacho> Ilari: I'm tring to use PathExt for AsRef<Path>
[16:00:58] *** Quits: Douman (Douman@moz-m0aveq.dynamic.mts-nn.ru) (Ping timeout: 121 seconds)
[16:00:59] *** Quits: alonlevy (alon@moz-lca.t6b.125.77.IP) (Ping timeout: 121 seconds)
[16:01:10] <mtsr> mbrubeck: rustcc is not affiliated with the core team or anything, it's from the chinese usergroup I think
[16:01:31] <bluss> duesenfranz_: I don't know. Someone needs to define the template that derive uses
[16:02:04] <FreeFull> meh: I think it'd be something like   extern { fn av_vlog(avcl: *mut c_void, level: c_int, fmt: *const c_char, ...); } on Rust's side
[16:02:13] <meh> FreeFull, nope, it's not the same thing
[16:02:28] <FreeFull> Ah
[16:02:35] <lukes386> mbrubeck: i'll take a look at that, thanks
[16:02:45] *** Quits: sayan (sayan@moz-4q2.kio.51.106.IP) (Ping timeout: 121 seconds)
[16:02:58] <FreeFull> meh: So not the same as what printf does?
[16:03:04] <meh> FreeFull, it'd be vprintf
[16:03:16] <bluss> meh: where do you get the va_list value from?
[16:03:42] *** Quits: zzing (textual@moz-jucm1n.cpe.distributel.net) (Ping timeout: 121 seconds)
[16:03:56] *** Quits: mythmon (mythmon@moz-n45.3os.241.192.IP) (Connection closed)
[16:03:58] <meh> bluss, yeah, it probably would be impossible to use, but there's also another function that takes a callback with a va_list, so I'm more concerned about that
[16:04:16] *** Joins: Fiveside (fiveside@moz-t2eatg.vsp.com)
[16:04:26] *** Quits: Temur (Tarmashirin@moz-lpe.g0r.217.117.IP) (Connection closed)
[16:04:50] <FreeFull> I don't know enough to help
[16:05:10] *** Joins: g5pw (g5pw@moz-5i3.7ej.244.162.IP)
[16:06:32] <FreeFull> meh: Seems that you'll have to write C code, at least for the callback
[16:06:39] <meh> FreeFull, yeah, looks like it
[16:06:39] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[16:08:27] *** Parts: Boddlnagg (Patrick@moz-nkvhmf.dyn.telefonica.de) ()
[16:08:28] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (A TLS packet with unexpected length was received.)
[16:08:31] *** Joins: happy-dude_ (uid62780@moz-jt3517.charlton.irccloud.com)
[16:08:34] *** Joins: ineol (ineol@moz-pdkvmd.fbx.proxad.net)
[16:08:44] *** Quits: kidnapped_robot (kidnapped_r@moz-en3d16.il.comcast.net) (Ping timeout: 121 seconds)
[16:09:02] *** Joins: mythmon (mythmon@moz-n45.3os.241.192.IP)
[16:09:19] <csherratt> Hey, does anyone have an idea of how this bug can be solved? https://github.com/rustcc/coroutine-rs/issues/31
[16:10:43] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Ping timeout: 121 seconds)
[16:11:02] *** Quits: eibwen (eibwen@moz-c1k43u.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[16:12:37] *** Joins: Temur (Tarmashirin@moz-lpe.g0r.217.117.IP)
[16:13:10] *** Quits: ianj (ianjneu@moz-ht5jmt.ma.comcast.net) (Ping timeout: 121 seconds)
[16:13:35] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[16:13:35] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[16:14:24] *** Joins: zzing (textual@moz-jucm1n.cpe.distributel.net)
[16:14:42] *** bentley is now known as bentley|away
[16:14:59] *** Quits: errordeveloper (ilya@moz-8jq.ge6.157.37.IP) (Ping timeout: 121 seconds)
[16:15:05] *** Joins: eerie (eerie@moz-rll6i6.red.bezeqint.net)
[16:15:07] *** Joins: tomprogrammer (thomas@moz-lcud7p.tr5r.qept.4dd0.2001.IP)
[16:16:33] *** Joins: errordeveloper (ilya@moz-8jq.ge6.157.37.IP)
[16:17:18] *** Quits: Temur (Tarmashirin@moz-lpe.g0r.217.117.IP) (Ping timeout: 121 seconds)
[16:18:15] *** Joins: Savago (Savago@moz-8hd.3b6.246.162.IP)
[16:19:19] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:19:35] *** Joins: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se)
[16:20:13] *** Quits: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se) (Ping timeout: 121 seconds)
[16:20:21] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[16:20:27] <duesenfranz_> csherratt: make Handle !Send ?
[16:20:35] *** Quits: errordeveloper (ilya@moz-8jq.ge6.157.37.IP) (Ping timeout: 121 seconds)
[16:20:44] *** Joins: Ms2ger (Ms2ger@moz-f3v.iou.182.91.IP)
[16:20:55] *** Joins: kidnapped_robot (kidnapped_r@moz-en3d16.il.comcast.net)
[16:20:55] <csherratt> duesenfranz_: yes, but that would give up M:N
[16:22:49] <HollyRain> is possible to have code in diffrent files for a same module?
[16:23:57] <fkaa> is there some guide/examples for basic io with rust? (read files by lines, etc.)
[16:24:00] <tomaka> HollyRain: technically you can, but don't do it
[16:24:12] <tomaka> HollyRain: the rule is one file = one module
[16:24:15] <HollyRain> ok
[16:25:09] <filsmick> is my RFC likely to be rejected if I'm unexperienced with the compiler internals?
[16:26:15] <bluss> is the RFC about that?
[16:26:21] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[16:26:21] *** Joins: zcourts (zcourts@moz-7ms809.cable.virginm.net)
[16:26:32] <filsmick> bluss: it's about changing the internals of a std macro
[16:26:35] *** Quits: gunther (Mibbit@moz-fu4.gvm.130.134.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:26:50] <simukis> filsmick: it will be considered like an RFC by any other person
[16:26:58] <duesenfranz_> csherratt: don't allow `sched()` within `with` ?
[16:27:09] <filsmick> simukis: even if you can't provide a prototype implementation? 
[16:27:23] <simukis> filsmick: even if you don’t provide a prototype implementation.
[16:27:29] <filsmick> simukis: it clearly requires refactoring of a few functions I don't fully understand because they make heavy use of compiler intrinsics
[16:27:44] <filsmick> simukis: that's nice to hear. Guess I'll polish it and submit it then :)
[16:27:54] <simukis> what matters in RFC is how you expect something to behave
[16:28:03] <simukis> and why it should be exactly the way you propose
[16:28:16] *** Joins: Lurkin (Mibbit@moz-p4efgs.mpls.qwest.net)
[16:28:22] <filsmick> that, I cover in my RFC
[16:29:02] <filsmick> simukis: would you like to take a look at it before I submit it? Maybe I missed something
[16:29:20] <filsmick> simukis: it's the first time I submit a RFC
[16:29:26] *** Quits: lukes386 (Mibbit@moz-gh1isj.static.twtelecom.net) (Quit: http://www.mibbit.com ajax IRC Client)
[16:31:16] *** Joins: gopar (gopar@moz-5039uj.ca.comcast.net)
[16:32:00] <csherratt> duesenfranz_: I don't think there is actually a way for the compiler to enforce that.
[16:32:08] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[16:32:51] *** ahal is now known as ahal|lunch
[16:33:13] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[16:33:22] <fkaa> hmm, how do you convert string to number?
[16:33:34] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[16:33:56] *** Quits: timonv1 (timonv@moz-7btgcn.dynamic.ziggo.nl) (Ping timeout: 121 seconds)
[16:34:05] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[16:34:09] <simukis> filsmick: just submit it. People will post nits on your RFC anyway and it is likely your RFC will go through a few revisions anyway.
[16:34:21] <csherratt> fkaa: https://doc.rust-lang.org/std/str/trait.FromStr.html
[16:34:26] <filsmick> simukis: alright :)
[16:34:26] <Dr-Emann> playbot: "3".parse::<u32>()
[16:34:27] -playbot- Ok(3)
[16:34:50] <fkaa> thanks
[16:34:52] *** Joins: skade (skade@moz-iiakqu.dip0.t-ipconnect.de)
[16:35:03] <duesenfranz_> csherratt: you could have a non-sync non-send struct that is given to every spawn closure (the same way zonyitoo proposed with the Environment)...
[16:35:17] <Dr-Emann> playbot: "40".parse::<f64>() // fkaa
[16:35:18] *** Joins: Temur (Tarmashirin@moz-lpe.g0r.217.117.IP)
[16:35:19] -playbot- Ok(40)
[16:35:19] *** AutomatedTester is now known as AutomatedTester|AFK
[16:35:35] <duesenfranz_> csherratt: ...that is shared-borrowed by `with` and mutably-borrowed by `sched`
[16:35:54] <fkaa> playbot: ".02f".parse<f32>()
[16:35:55] -playbot- <anon>:9:21: 9:26 error: chained comparison operators require parentheses
[16:35:55] -playbot- <anon>:9         ".02f".parse<f32>()
[16:35:55] -playbot- output truncated; full output at: http://bit.ly/1I3a17q
[16:35:59] *** bentley|away is now known as bentley
[16:36:02] <fkaa> playbot: ".02f".parse::<f32>()
[16:36:04] -playbot- Err(ParseFloatError { kind: Invalid })
[16:37:36] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[16:38:15] <c0a8> any way to do specify a closure for finding the minimum of a list? I have a type that I want to find mins of in two different ways 
[16:38:16] *** Joins: lawki (lawki@moz-8t2ukr.abo.wanadoo.fr)
[16:38:17] <hoverbear> I love how up in arms the community is about the scoped issue and such, shows how much everyone cares. :)
[16:38:32] <hoverbear> c0a8: You can probably use fold
[16:38:41] <c0a8> there we go. thanks!
[16:39:12] *** Joins: naerbnic (naerbnic@moz-tm2gcl.ca.comcast.net)
[16:39:29] <hoverbear> c0a8: Just replace the `acc` with the lowest element whenever you find one. I think there might also be a max_by or min_by function but I'm not sure
[16:40:12] *** Quits: avikpal (avikpal@moz-jhs.6lo.194.117.IP) (Connection closed)
[16:40:29] <fkaa> is there anything in here that would let me do "read the next n lines"? https://doc.rust-lang.org/std/io/struct.Lines.html
[16:40:40] <fkaa> having some trouble understanding the docs
[16:40:50] *** Quits: nyx (nyx@moz-7o34ff.albyny.csvoip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:40:54] <Dr-Emann> There is min_by on iterator, but it's unstable
[16:40:58] *** Joins: Guest__ (textual@moz-rtn.fg7.77.192.IP)
[16:41:48] <duesenfranz_> fkaa: something like ``%Lines%.take(n_of_lines).collect::<Vec<_>>()``?
[16:42:05] <fkaa> that looks like it would work :)
[16:43:21] *** Quits: naerbnic (naerbnic@moz-tm2gcl.ca.comcast.net) (Client exited)
[16:43:24] *** Quits: zzing (textual@moz-jucm1n.cpe.distributel.net) (Ping timeout: 121 seconds)
[16:43:45] *** Joins: bascule (bascule@moz-1u4.6er.243.162.IP)
[16:43:50] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Ping timeout: 121 seconds)
[16:44:15] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[16:44:19] *** Joins: manlycode (manlycode@moz-rtv2pn.mi.comcast.net)
[16:44:38] *** Joins: dik_dak (dik_dak@moz-865.h56.170.161.IP)
[16:44:56] *** Joins: zzing (textual@moz-jucm1n.cpe.distributel.net)
[16:44:59] <darkfox> Is there any simple way to do what `vec.sort().dedup()` would be expected on a `Vec<SocketAddr>` ? (SocketAddr doesn't implement Ord; any reason why not?)
[16:45:09] *** Joins: eerie_ (eerie@moz-rll6i6.red.bezeqint.net)
[16:45:15] <manlycode> I'm having trouble declaring a struct field of type u8 vector with a length of 255. "field: [u8, ..255]" won't work for me.
[16:45:24] <manlycode> Any suggestions?
[16:45:26] <bascule>  13_4__8__ 9_11__12_  13_4__ 8_9__11_    13_ 4_8_   11__12_ 13_ 4_ 
[16:45:27] <hoverbear> fkaa: Yes use Lines, just do lines().take(n)
[16:45:29] <bascule> 4|  8_9__11|  12_ 13\4|_ 8_9|  11_ 12\  4/ 8\\ 9\ 11/ 12/ 13| 4| 8|
[16:45:32] <bascule> 8| 9|_  12| 13|_4) 8|| 9|11| 12| 13| 4|/ 8_ 9\11\ 12V 13/| 4| 8| 9|
[16:45:35] <bascule> 9|  11_12| 13|  4_ 8< 9| 11|12| 13|_4| 8/ 9__11_ 12\| 13| 4|8_|9_|11_|
[16:45:38] <bascule> 11|_12|   4|_8| 9\_11\_12__13|_4__8_/9_/   12\13_\4_| 8(9_|11_|12_)
[16:45:41] <bascule>                                         
[16:45:48] * darkfox considered sort_by; but that is very manual; and might as well implement Ord for SocketAddr at that point...
[16:45:51] <hoverbear> manlycode: Can you link to a play.rust-lang.rg example?
[16:45:55] <darkfox> bascule: Saturday here
[16:46:00] <manlycode> sure thing
[16:46:03] <hoverbear> darkfox: He does it all the time
[16:46:09] <darkfox> hoverbear: :P
[16:46:11] <bascule> darkfox: :o
[16:46:16] <darkfox> Sat May  2 02:46:16 AEST 2015
[16:46:21] <hoverbear> darkfox: I make a point of breaking it up
[16:46:28] <darkfox> hoverbear: Hehe
[16:46:34] <tomaka> manlycode: it's `[u8; 255]`
[16:46:36] <emilk> is there a best-practice for 2D arrays, or is it just  [[foo; height]; width]  ?
[16:46:39] <tomaka> manlycode: the syntax changed
[16:46:43] <hoverbear> emilk: Yup.
[16:46:56] *** Joins: jbcurtin (jbcurtin@moz-lskisb.LosAngeles1.Level3.net)
[16:47:04] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[16:47:05] <hoverbear> emilk: You may want to use vectors though since those will be on the stack and 2d slices get big fast
[16:47:12] * darkfox proud to say he has heavily improved his code in the past few hours and should probably return to trying to sleep....
[16:47:14] <manlycode> tomaka: http://is.gd/0Hpjkf
[16:47:41] <tomaka> manlycode: http://is.gd/9t29T8
[16:47:46] *** Quits: colinsurprenant (colin@moz-rmn4e2.169.electronicbox.net) (Client exited)
[16:48:04] *** Joins: gp5st (jim@moz-k130hq.east.verizon.net)
[16:48:10] *** Joins: Douman (Douman@moz-m0aveq.dynamic.mts-nn.ru)
[16:48:12] *** Quits: eerie (eerie@moz-rll6i6.red.bezeqint.net) (Ping timeout: 121 seconds)
[16:48:19] <hoverbear> manlycode: You were using old syntax http://is.gd/52eCNB
[16:48:23] <tomaka> manlycode: and when you initialize as well: MemoryModel { map: [0; 255] };
[16:48:27] <gp5st> I can't wait until LARP is a thing (Linux Apache Rust Postgres). maybe I should blog about it:-p
[16:48:27] <c0a8> aha. vec.iter().map().max() works well.. using map to specify how to compare the type
[16:48:41] *** Quits: demelev (Mibbit@moz-5qbmjd.dyn.idknet.com) (Quit: http://www.mibbit.com ajax IRC Client)
[16:49:08] *** Quits: idk_erikson (quassel@moz-nto6je.hsi04.unitymediagroup.de) (Ping timeout: 121 seconds)
[16:49:08] *** Quits: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP) (Ping timeout: 121 seconds)
[16:49:56] <emilk> http://is.gd/3vfJLU - 2d array problems
[16:50:31] *** Quits: TheLemonMan (lemonboy@moz-arrg79.26-151.libero.it) (Connection closed)
[16:50:34] *** Joins: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP)
[16:51:08] <Ms2ger> emilk, the syntax is fn f(x: &mut T), not fn f(&mut x: T)
[16:51:08] <manlycode> hoverbear, tomaka: Thank you so much! I was banging my head on the table for hours.
[16:51:13] *** Quits: xeviox (ben@moz-47eat7.pools.vodafone-ip.de) (Quit: Leaving)
[16:51:18] <manlycode> hoverbear, tomaka: This helps a ton!
[16:51:54] <emilk> Ms2ger: oh... how confused I feel. Thanks =)
[16:51:59] <fkaa> can you use the try! macro to avoid all the unwrap cruft in something like this? `reader.last().unwrap().ok()`
[16:52:03] <manlycode> Also, that's the quickest anyone's ever jump in to help me in an IRC channel.
[16:52:07] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[16:52:22] <emilk> yup, people are awesome here
[16:52:24] <Ms2ger> emilk, np, it's a little confusing when you compare it to &mut self :)
[16:52:27] *** Quits: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[16:52:44] <hoverbear> manlycode: Be super careful reading old help docs on rust. Check the date **first**. :)
[16:53:03] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[16:53:04] *** Quits: bkearns (Adium@moz-rudtng.static.wiline.com) (Quit: Leaving.)
[16:53:26] <hoverbear> fkaa: Yes but make sure the function you're using try!() in returns a result of the same kind that will come out of the try (or that the try will return an error that can be transformed)
[16:53:44] <fkaa> so not in main?
[16:54:14] <hoverbear> fkaa: No. Try is essentially `match $THING { Ok(v) => v, Err(e) => return e }`
[16:54:26] <fkaa> mk
[16:54:34] <hoverbear> fkaa: Main is where you want to ~handle~ the error.
[16:54:35] *** Joins: bkearns (Adium@moz-rudtng.static.wiline.com)
[16:54:59] <hoverbear> fkaa: `try!()` is for "If this fails tell the caller that I'm bailing."
[16:55:00] <manlycode> hoverbear: I'm quickly learning this.
[16:55:05] <Ms2ger> *return Err(e)
[16:55:09] *** Quits: wei2912 (wei2912@moz-04j.64q.156.175.IP) (Quit: Lost terminal)
[16:55:10] <c0a8> any way to unit test structs that are not pub ?
[16:55:12] <hoverbear> Ms2ger: Yes whoops
[16:55:22] <hoverbear> c0a8: You can put them right in the code file
[16:55:30] *** Joins: eric_lagergren (barsonme@moz-add4ru.fomj.2174.0008.2601.IP)
[16:55:39] <c0a8> hoverbear: I did that as suggested in the testing documentation, but it can't see it :/
[16:55:52] <hoverbear> c0a8: Did you run cargo test?
[16:55:54] <c0a8> hoverbear: if I make it pub, it works fine
[16:55:57] <c0a8> hoverbear: yes
[16:56:41] <c0a8> i have a mod tests with use super::*
[16:57:15] *** Quits: jiojiajiu (anonymous@moz-trc2j7.asianet.co.th) (Connection closed)
[16:57:24] <hoverbear> c0a8: http://is.gd/svXvNV Run `rustc --test foo.rs` then you can run `foo`
[16:57:37] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[16:57:38] *** darkowlzz|afk is now known as darkowlzz
[16:57:39] <filsmick> I submitted an RFC to make `panic!()` output nothing when called without a message as an argument. What do you think? https://github.com/rust-lang/rfcs/pull/1100
[16:57:47] *** Quits: bkearns (Adium@moz-rudtng.static.wiline.com) (Connection closed)
[16:57:47] *** Quits: Rusky (russell@moz-4ggjij.slkc.qwest.net) (Quit: Leaving.)
[16:57:58] <XMPPwocky> is panic!("") really that much worse?
[16:58:07] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:58:07] <hoverbear> XMPPwocky: Two characters! TWO!
[16:58:16] <XMPPwocky> i disapprove of using panic as a "print error message and exit early" mechanic
[16:58:31] <XMPPwocky> because you get a lot of boilerplate around it
[16:58:36] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[16:58:40] <filsmick> XMPPwocky: yes it is worse, because it still prints a message
[16:58:45] <filsmick> http://is.gd/tVk2aV
[16:58:59] *** Joins: Rusky (russell@moz-4ggjij.slkc.qwest.net)
[16:59:03] <hoverbear> filsmick: Panic is for ~panicing~, not for exiting silently though
[16:59:13] <hoverbear> filsmick: Panic is "Oh my god the house is on fire"
[16:59:27] <filsmick> hoverbear: exiting silently is not the idea, it's for child threads that it's the most useful
[17:00:06] <hoverbear> filsmick: Right
[17:00:18] <c0a8> hoverbear: any way to do that with cargo?
[17:00:42] <hoverbear> c0a8: cargo test
[17:00:46] <filsmick> hoverbear: there's catch_panic (even if it's unstable), so we *should* be able to treat panics as non-fatal errors - as in, fatal for a thread but not for the whome process
[17:01:10] <hoverbear> c0a8: You can take that code and dump it into the `src/lib.rs` of a new cargo project then try `cargo test`
[17:02:26] *** Quits: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP) (Ping timeout: 121 seconds)
[17:02:29] *** Quits: lawki (lawki@moz-8t2ukr.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[17:02:39] *** Joins: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP)
[17:02:52] <filsmick> hoverbear: in some situations, either you add a ton of boilerplate and clutter your code just to handle an exceptional error, or you use `panic` and pollute your logs with debug messages (does the user care about line numbers?)
[17:03:17] *** Joins: jiojiajiu (anonymous@moz-trc2j7.asianet.co.th)
[17:03:34] <hoverbear> filsmick: I suppose it depends on how high quality you want the code to be. If I wanted something to run in production it better not panic on every stupid little error.
[17:04:19] <c0a8> hoverbear: it appears the issue is due to the 'mod tests'
[17:04:24] *** Joins: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de)
[17:04:50] <hoverbear> c0a8: Please feel encouraged to give me more information and I'd be happy to help you work through it. :)
[17:05:02] <c0a8> hoverbear: sure thing, I'll link you an example :)
[17:05:27] <filsmick> hoverbear: of course not. But when you are in the early stages of a project (say a few months in), it's useful to try and experiment with a cheap error mechanism. If we want to eliminate the use of panic, we should deprecate it; this is not the case, so its use cases should be fully supported
[17:05:28] *** Joins: bkearns (Adium@moz-rudtng.static.wiline.com)
[17:06:20] <hoverbear> filsmick: Ah yeah of course. `panic!()` is useful, it just is a bit like `unwrap()` it's not there to be used on things that are expected to happen.
[17:06:46] <c0a8> hoverbear: http://is.gd/PCSlZA
[17:07:12] <filsmick> hoverbear: right - unwrap has its uses, even if in an ideal world we would all be matching on Results and Options if there's the slightest chance of them being None / Err
[17:07:16] *** Joins: d356 (d@moz-go99rq.res.bhn.net)
[17:07:16] <c0a8> hoverbear: when the tests module is there, it can't access the non-pub fn
[17:07:34] *** Joins: dstrbad (dstrbad@moz-rc61go.dsl.iskon.hr)
[17:07:39] *** AutomatedTester|AFK is now known as AutomatedTester
[17:07:41] <hoverbear> c0a8: Ahhh yeah, so, the `mod tests` is actually a seperate module, so it can't see `foo()` you need to put the unit test for `foo()` actually in the same module
[17:07:45] *** Quits: jdm (jdm@moz-4vu.06r.98.75.IP) (Quit: )
[17:07:45] *** Quits: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl) (Connection closed)
[17:07:48] <filsmick> hoverbear: I'm primarily thinking about web development, which is an area Rust could truly excel in, but won't if it lacks the flexibility needed for quick iteration
[17:08:04] *** Joins: achanda (achanda@moz-fr1.spq.217.162.IP)
[17:08:05] <hoverbear> c0a8: The `mod tests` is for when you want to test the code as a consuming module, AKA for integration tests.
[17:08:14] <c0a8> hoverbear: gotcha, thanks!
[17:08:19] <c0a8> hoverbear: i must have been misreading the docs
[17:08:25] *** Quits: zzing (textual@moz-jucm1n.cpe.distributel.net) (Connection closed)
[17:08:32] <filsmick> hoverbear: if you have a function which suddently *can* fail, ten levels deep in a child thread, do you want to refactor ten functions or use `panic` for a while to experiment?
[17:08:45] <hoverbear> filsmick: Right. Good reasoning.
[17:08:50] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[17:09:07] <hoverbear> c0a8: The documentation on documentation and testing is a bit rough. I bet steveklabnik would appreciate any feedback on places where you get confused.
[17:09:15] *** Joins: zzing (textual@moz-jucm1n.cpe.distributel.net)
[17:09:16] *** Joins: woboats (tatterdemal@moz-a0dnkb.ca.comcast.net)
[17:09:20] *** Joins: JosiahOne|Work (Thunderbird@moz-f2hp7h.biz.rr.com)
[17:09:29] *** Joins: dinfuehr (dinfuehr@moz-flks74.highway.telekom.at)
[17:11:09] *** Quits: Temur (Tarmashirin@moz-lpe.g0r.217.117.IP) (Connection closed)
[17:11:59] *** Joins: nicoch (nicoch@moz-g02d7k.be)
[17:12:34] *** Quits: doener (doener@moz-929cn9.unity-media.net) (Quit: leaving)
[17:13:18] *** Quits: hugod (user@moz-885.jmo.24.70.IP) (Ping timeout: 121 seconds)
[17:13:31] *** Quits: dinfuehr (dinfuehr@moz-flks74.highway.telekom.at) (Ping timeout: 121 seconds)
[17:13:33] *** Joins: new_one (new_one@moz-ht5.s43.42.128.IP)
[17:13:52] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (Ping timeout: 121 seconds)
[17:14:01] *** Joins: hugod (user@moz-885.jmo.24.70.IP)
[17:14:55] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[17:14:55] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[17:15:04] <filsmick> hoverbear: glad to know you agree - feel free to contribute to the discussion on the PR :)
[17:15:21] <hoverbear> filsmick: I don't necessarily agree. :) I just feel your reasoning is sound.
[17:15:21] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[17:15:32] *** Quits: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[17:16:01] <filsmick> hoverbear: mmh, tough - can one rationally disagree with something which he finds sound? :) 
[17:17:58] <hoverbear> filsmick: In short, I agree with it for development, but it doesn't have a place in production. :)
[17:18:40] <filsmick> hoverbear: I also agree with you - do you think the same of panic handlers, as one cannot always control the panics of third-party libraries?
[17:18:57] *** AutomatedTester is now known as AutomatedTester|AFK
[17:19:34] *** Quits: tcard (tcard@moz-5eb1g3.staticIP.rima-tde.net) (Client exited)
[17:19:38] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[17:19:40] <hoverbear> filsmick: If a third party library is panicing when it's errors aren't catastrohpic it's perhaps time to patch upstream. :)
[17:19:50] <hoverbear> Or find a new lib!
[17:20:07] <filsmick> hoverbear: what if you can't? What if... the world is not perfect *cough*
[17:20:33] <hoverbear> filsmick: If a 3rd party library panics on file.read() or something it's not a library I want to use. :-P
[17:20:38] *** Joins: avikpal (avikpal@moz-jhs.6lo.194.117.IP)
[17:20:55] <filsmick> hoverbear: of course, but it's totally reasonable to panic on overflow or OS error
[17:21:01] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[17:21:07] <hoverbear> filsmick: Right. That's when you expect a panic.
[17:21:20] <hoverbear> filsmick: Read: Catastrophic errors.
[17:21:45] <filsmick> hoverbear: but errors can be catastrophic for one flow of execution (read: a thread) without affecting another, and hence are recoverable at the process level
[17:22:01] *** Joins: errordeveloper (ilya@moz-rfe.3fh.206.90.IP)
[17:23:06] <filsmick> hoverbear: some errors are so rare handling them is not worth cluttering every call to the relevant function with matches or alike
[17:23:18] <hoverbear> filsmick: tYup
[17:23:37] *** Joins: abcrawf (abcrawf@moz-11rs77.acrawford.com)
[17:23:46] <filsmick> I'm really hoping to see Rust because important in web development moving forward
[17:24:21] <filsmick> become*
[17:24:32] *** Joins: nyx (nyx@moz-7o34ff.albyny.csvoip.net)
[17:24:37] <Dr-Emann> filsmick, One of the positives of swift optionals. with !, you can treat things as if there were no error, but you can still match if you need to.
[17:25:00] *** Joins: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl)
[17:25:02] <filsmick> Dr-Emann: if only it was cross-platform and open source, it would be a very good language for webdev
[17:25:18] *** Quits: yuja (yuja@moz-4ttbrt.pikara.ne.jp) (Ping timeout: 121 seconds)
[17:25:30] <filsmick> Dr-Emann: in the meantime, what do we have? Ruby, Node.js, .NET, PhP, Go, mainly
[17:25:39] <apoelstra> well, fwiw webdev languages don't really need to be cross-platform
[17:25:51] <apoelstra> also python
[17:25:52] *** Joins: GGist (Mibbit@moz-07kde0.seattleu.edu)
[17:26:17] *** Quits: mjboa (mike@moz-4e2lon.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[17:26:30] <filsmick> apoelstra: last time I checked, Swift was OS X only :(
[17:26:54] <apoelstra> filsmick: right, i'm just saying, you can run osx on your webserver and it's not too much of an inconvienience (it's no problem for your -users-)
[17:27:07] <apoelstra> being closed-source is a pretty serious problem tho
[17:27:25] <filsmick> apoelstra: for your users, sure, but for you... most software is made with Linux is mind, and *mostly* works on OS X, except when it doesn't
[17:27:26] <Dr-Emann> I'm a fan of scala, with the play-framework, too. But yea, pretty limited choices.
[17:27:33] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[17:28:04] <filsmick> apoelstra: I'm on OS X, it's just that linux is better for hosting
[17:28:10] <hoverbear> apoelstra: Right and when Apple has breaking vulnerabilities you'll sit there and worry as they take weeks to patch it, (happens)
[17:28:34] <hoverbear> At least MS is reasonably prompt with updates
[17:28:42] <filsmick> *cough cough* https://news.ycombinator.com/item?id=9347669
[17:29:02] <filsmick> there was recently a permission exploit on OS X
[17:29:19] *** Quits: errordeveloper (ilya@moz-rfe.3fh.206.90.IP) (Ping timeout: 121 seconds)
[17:29:20] <hoverbear> I remember Apple took something like a week to patch shellshock
[17:29:29] *** Joins: brycefisher (chatzilla@moz-qbdpvi.office.zencoderdns.net)
[17:29:48] <filsmick> hoverbear: yes, people were asking how to recompile the patched bash themselves on a StackExchange site
[17:30:04] <hoverbear> filsmick: Ah apple users.
[17:30:16] <Dr-Emann> This is getting a  bit off topic. Perhaps to #rust-oftopic
[17:30:24] *** Quits: ascarter (ascarter@moz-705hf8.wa.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:30:25] <hoverbear> Dr-Emann: Apologies
[17:30:31] *** Quits: Guest74 (textual@moz-il1.n6s.204.65.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:30:31] *** Quits: dstrbad (dstrbad@moz-rc61go.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[17:30:42] <filsmick> right, sorry
[17:30:54] <filsmick> (but it's not like other people are actively talking right now)
[17:31:01] <brycefisher> I'm using a std::process::Command to try to run a shell command (happens to be a globally installed nodejs executable). I'm getting a NotFound error kind back...
[17:31:16] <brycefisher> when I run the command in the shell myself, it works no problem
[17:31:26] <filsmick> brycefisher: maybe a $PATH issue
[17:31:32] <hoverbear> Yup almost for sure
[17:31:38] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[17:31:49] *** Joins: lawki (lawki@moz-8t2ukr.abo.wanadoo.fr)
[17:32:09] <brycefisher> Doesn't the Command inherit the environment from the currently running process?
[17:32:19] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[17:32:39] <Murarth> Is the command you're trying to run an alias or function in the shell itself?
[17:32:43] *** Quits: nyx (nyx@moz-7o34ff.albyny.csvoip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:32:44] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:32:45] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[17:32:45] <filsmick> brycefisher: no idea, but you could use http://doc.rust-lang.org/std/process/struct.Command.html#method.env to set the PATH to the one you have in your shell to try and see if it's the cause of the error.
[17:33:13] *** Joins: alonlevy (alon@moz-p48.q13.159.94.IP)
[17:33:43] <brycefisher> Murarth: it's a symlink
[17:34:01] <brycefisher> filsmick: good idea! I'll give that a try...
[17:34:53] <brycefisher> filsmick: given that http://doc.rust-lang.org/nightly/std/process/struct.Command.html#method.new indicates the pwd and the environment are passed to the new process, this is a bit counterintuitive to me, but it does seem obviously to be the problem now that you mention it
[17:36:12] <Ms2ger> Can someone tell me what's going on here? http://is.gd/rZXjaH
[17:36:15] <filsmick> brycefisher: it's strange, yes, but PATH issues show up so often
[17:36:19] *** Quits: eerie_ (eerie@moz-rll6i6.red.bezeqint.net) (Connection closed)
[17:36:21] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[17:36:30] *** Joins: Temur (Tarmashirin@moz-lpe.g0r.217.117.IP)
[17:36:37] *** Joins: dmac_ (dmac@moz-46o0j3.hfc.comcastbusiness.net)
[17:36:42] *** Joins: slurps-mad-rips (slurps-mad-@moz-o2c.uaj.44.17.IP)
[17:36:53] <filsmick> Ms2ger: http://is.gd/GZ82Ff
[17:37:06] <filsmick> Ms2ger: why are you trying to add &mut to self? It's already a mutable reference.
[17:38:37] <Ms2ger> This better? http://is.gd/0HXoPx
[17:39:07] <filsmick> Ms2ger: oh, you're trying to borrow the result of the map lookup, right? My bad!
[17:39:15] *** Parts: Lurkin (Mibbit@moz-p4efgs.mpls.qwest.net) ()
[17:39:17] <Ms2ger> Yeah
[17:39:29] *** Joins: zzmp (zzmp@moz-4ds.959.14.76.IP)
[17:39:30] * Ms2ger checks the obvious
[17:39:32] <Murarth> Ms2ger: It looks like HashMap doesn't implement IndexMut. I'm not sure why.
[17:39:53] <Ms2ger> You're right
[17:40:06] *** Joins: jimb (user@moz-09a.i8g.126.207.IP)
[17:40:09] <Ms2ger> However, it used to
[17:40:28] *** Joins: scientes (scientes@moz-0ot.rb5.136.67.IP)
[17:40:34] <scientes> is there a rust tutorial?
[17:40:35] <mbrubeck> Murarth: I believe it's to allow for a future `IndexSet` operation that would support `map[key] = val` even if `key` is not currently in `map`.
[17:40:38] *** Quits: thiblahute (tsaunier@moz-68f5rr.rev.sfr.net) (Ping timeout: 121 seconds)
[17:40:50] *** Joins: gonzaloserrano (Adium@moz-r4p.mu8.65.185.IP)
[17:41:35] <Murarth> Yeah, found the commit: https://github.com/rust-lang/rust/commit/5fe0bb7
[17:41:35] <Ms2ger>     Future-proof indexing on maps: remove IndexMut
[17:41:37] <Ms2ger> Boo
[17:42:01] *** Quits: Palmik (palmik@moz-7pku2p.net.upcbroadband.cz) (Ping timeout: 121 seconds)
[17:42:22] <mbrubeck> scientes: Section 5 of the book is basically what used to be the tutorial.  You can see it in the original order in the beta1 docs: http://doc.rust-lang.org/1.0.0-beta/book/
[17:42:24] <brycefisher> filsmick: Hmm, even trying to `echo $PATH` gives me a NotFound ErrorKind...
[17:42:27] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[17:42:29] <brycefisher> seems suspicious...
[17:42:30] <jshs> Ms2ger: get_mut?
[17:42:34] *** Quits: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP) (Ping timeout: 121 seconds)
[17:42:40] <Ms2ger> Yeah, that sucks
[17:43:05] <filsmick> brycefisher: indeed, can you post a snippet?
[17:43:23] <brycefisher> filsmick: yeah! coming right up
[17:43:35] <meh> how do I get the integer value of a pointer?
[17:43:50] <Ms2ger> as usize
[17:43:52] <Dr-Emann> meh: my_ptr as usize
[17:43:55] <meh> thanks
[17:44:03] *** Joins: Palmik (palmik@moz-0ruqup.vpn.muni.cz)
[17:44:04] *** Joins: chmanchester (Chris@moz-l9702a.2rkg.9kg1.0101.2620.IP)
[17:44:08] *** Joins: nrc (nrc@moz-9v1svd.xtra.co.nz)
[17:44:09] *** ChanServ sets mode: +o nrc
[17:44:26] *** ahal|lunch is now known as ahal
[17:45:19] <brycefisher> filsmick: https://gist.github.com/brycefisher/00f58b8a13cc1bbdf2d4
[17:45:34] *** Joins: sayan (sayan@moz-ip8.595.51.106.IP)
[17:45:47] *** Joins: idk_erikson (quassel@moz-nto6je.hsi04.unitymediagroup.de)
[17:46:05] <filsmick> brycefisher: thanks. Reading it
[17:46:22] <Murarth> brycefisher: The problem is you need to separate the program name from the arguments.
[17:46:40] <filsmick> Oh yes he's right
[17:46:42] <brycefisher> aahhhh
[17:46:42] <Murarth> Command::new accepts just the program name. Arguments are to be passed separately with .arg or .args
[17:47:00] <filsmick> kudos to Murarth
[17:47:04] <brycefisher> Murarth: many thanks! I knew I was doing something stupid
[17:47:06] <Murarth> Which is in contrast to C (and other languages) system() function.
[17:47:10] *** Joins: icidasset (textual@moz-rqd4oh.access.telenet.be)
[17:47:14] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[17:47:19] *** Joins: jdm (jdm@moz-ul43ak.dsl.bell.ca)
[17:47:19] *** ChanServ sets mode: +o jdm
[17:47:24] <brycefisher> Murarth: yeah! I like that a lot actually
[17:47:32] *** Quits: Temur (Tarmashirin@moz-lpe.g0r.217.117.IP) (Connection closed)
[17:47:48] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[17:47:48] *** ChanServ sets mode: +ao brson brson
[17:47:50] <cmr> it can really only be compared to execve.
[17:47:58] *** Joins: Guest74 (textual@moz-il1.n6s.204.65.IP)
[17:48:01] * brycefisher remembers that there is a manual he should read
[17:49:17] *** Quits: nrc (nrc@moz-9v1svd.xtra.co.nz) (Ping timeout: 121 seconds)
[17:49:49] *** Quits: idk_erikson (quassel@moz-nto6je.hsi04.unitymediagroup.de) (Ping timeout: 121 seconds)
[17:50:02] <hoverbear> brycefisher: http://www.hoverbear.org/2014/09/07/command-execution-in-rust/ might be useful... let me know if it's out of date!
[17:50:43] <darkstalker> where are the math functions? like sqrt, log, pow, ...
[17:50:56] *** Joins: eerie (eerie@moz-rll6i6.red.bezeqint.net)
[17:51:34] <scientes> i can't find any examples of funciton pointers
[17:51:37] <mbrubeck> darkstalker: Mostly methods on the numeric types like f32 http://doc.rust-lang.org/std/?search=sqrt
[17:51:38] <brycefisher> hoverbear: oh nice! will do
[17:51:46] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[17:51:49] *** Joins: thiblahute (tsaunier@moz-68f5rr.rev.sfr.net)
[17:52:03] <filsmick> is it possible to create a struct without setting some fields, then setting those later?
[17:52:10] *** Joins: dirvine (Mibbit@moz-42j0at.cable.virginm.net)
[17:52:11] *** Joins: colinsurprenant (colin@moz-rmn4e2.169.electronicbox.net)
[17:52:17] *** Quits: Racquetball (namestolenw@moz-dnlovt.cpe.twtelecom.net) (Ping timeout: 121 seconds)
[17:52:21] <mbrubeck> scientes: If you have `fn f(x: i32) -> i32 {}` then `f` is a function pointer with type `fn(i32) -> i32`
[17:52:21] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[17:52:22] <filsmick> without ever trying to read the fields before they are set, of course
[17:52:42] <mbrubeck> scientes: See also the Fn/FnMut/FnOnce traits, which can be implemented by both closures and fn pointers.
[17:53:59] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[17:54:18] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[17:54:21] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[17:54:24] *** Joins: Guest63 (textual@moz-ttd.2as.255.109.IP)
[17:54:34] <mbrubeck> `fn` types should probably be mentioned in the book chapter on closures...
[17:54:37] *** Quits: reed (reed@tech.monkey) (RecvQ exceeded)
[17:55:01] *** Joins: InfiniteJacuzzi (darren@moz-804egb.dyn.optonline.net)
[17:55:01] *** Joins: reed (reed@tech.monkey)
[17:55:19] *** Quits: new_one (new_one@moz-ht5.s43.42.128.IP) (Quit: WeeChat 1.1.1)
[17:55:27] *** Joins: mib_t1ekfr (Mibbit@moz-tn3lqd.cust.bredbandsbolaget.se)
[17:55:29] *** Quits: mib_t1ekfr (Mibbit@moz-tn3lqd.cust.bredbandsbolaget.se) (Quit: http://www.mibbit.com ajax IRC Client)
[17:56:11] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Connection closed)
[17:56:20] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[17:56:23] *** Joins: new_one (new_one@moz-ht5.s43.42.128.IP)
[17:57:09] *** Joins: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se)
[17:57:41] <brycefisher> Murarth: totally works with your change. thanks!
[17:57:49] *** Joins: hjr3 (hradtke@moz-dmp.av4.169.69.IP)
[17:57:50] *** Joins: rbranson (rbranson@moz-i7m.9o0.201.199.IP)
[17:57:59] *** Quits: InfiniteJacuzzi (darren@moz-804egb.dyn.optonline.net) (Quit: WeeChat 1.1.1)
[17:58:02] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Client exited)
[17:58:27] <brycefisher> hoverbear: I found one small syntax change for your article. `.args()` accepts a &[] instead of [] now
[17:58:42] <hoverbear> brycefisher: Thank you!
[17:58:51] <brycefisher> hoverbear: I'll comment on the article if I find anything else. Thanks for sharing!
[17:59:02] <hoverbear> brycefisher: You can email me, andrew@hoverbear.org :)
[17:59:13] <brycefisher> cool!
[17:59:17] *** Quits: lov2cod (Adium@moz-4c4th3.o38v.k60l.0119.2620.IP) (Ping timeout: 121 seconds)
[17:59:39] *** Quits: thiblahute (tsaunier@moz-68f5rr.rev.sfr.net) (Ping timeout: 121 seconds)
[17:59:46] *** Quits: new_one (new_one@moz-ht5.s43.42.128.IP) (Quit: WeeChat 1.1.1)
[17:59:50] *** Joins: new_one (new_one@moz-ht5.s43.42.128.IP)
[17:59:53] *** Joins: tsurai (tsurai@moz-kgg7iv.versanet.de)
[18:00:35] *** Joins: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de)
[18:00:40] *** Joins: lov2cod (Adium@moz-40l.ob1.22.8.IP)
[18:00:42] *** Quits: Guest58 (textual@moz-tb1fm9.us.xo.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:01:05] <Dr-Emann> I think it always did, but arrays used to coerce to slices, i believe. Now &[T; n] coerces to &[T]
[18:01:47] <XMPPwocky> of course, there's also some auto-ref or something
[18:02:01] *** Joins: dstrbad (dstrbad@moz-rc61go.dsl.iskon.hr)
[18:02:06] <scientes> how do i iterate in reverse?
[18:02:22] <Dr-Emann> scientes: iter.rev() if the iterator supports it.
[18:02:44] *** Joins: hjr3_ (hradtke@moz-dmp.av4.169.69.IP)
[18:02:50] <scientes> I realized that C struct layout is fundamentally big-endian, and that when working with little-endian it seems logical to use "backwards" structs
[18:02:55] *** Quits: hjr3 (hradtke@moz-dmp.av4.169.69.IP) (Connection closed)
[18:04:02] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Connection closed)
[18:04:18] <Dr-Emann> playbot: for x in vec![0,2,4u8].into_iter().rev() { print!("{},", x); } // scientes 
[18:04:19] -playbot- 4,2,0,()
[18:04:19] <gsingh93> is there a way for me to set my own configs to be true so that cfg!(my_config) works?
[18:04:22] *** Joins: rubberduck (Mibbit@moz-lp3q2b.dip0.t-ipconnect.de)
[18:04:46] *** Quits: grncdr1 (Adium@moz-m1g.e47.90.95.IP) (Quit: Leaving.)
[18:05:02] *** Quits: hjr3_ (hradtke@moz-dmp.av4.169.69.IP) (Connection closed)
[18:05:05] *** Quits: lov2cod (Adium@moz-40l.ob1.22.8.IP) (Quit: Leaving.)
[18:05:08] <gsingh93> i.e., i want conditional compilation
[18:06:23] <gsingh93> oh, i see a rustc --cfg option
[18:06:24] <talchas> gsingh93: rustc --cfg whatever
[18:06:27] <gsingh93> lol
[18:06:28] *** Quits: Tempus13 (Tempus@moz-sk3l4f.optusnet.com.au) (Connection closed)
[18:07:50] *** Joins: lov2cod (Adium@moz-40l.ob1.22.8.IP)
[18:07:52] <gsingh93> can i pass this to cargo?
[18:08:03] *** Quits: spider-mario (spidermario@moz-coblcf.fbx.proxad.net) (Ping timeout: 121 seconds)
[18:08:13] <mbrubeck> gsingh93: Cargo "features" get passed as --cfg options
[18:08:29] <mbrubeck> gsingh93: http://doc.crates.io/manifest.html#the-[features]-section
[18:08:40] <XMPPwocky> so why isn't RcScoped considered a workable solution to the leak problem
[18:08:42] *** Joins: mkpankov (user@moz-340.70f.16.195.IP)
[18:08:49] <gsingh93> i guess i'll do that, but this should probably be a command line flag
[18:08:56] <mkpankov> hi
[18:09:01] *** Joins: xrl (uid1091@moz-f0543s.brockwell.irccloud.com)
[18:09:06] *** Quits: gonzaloserrano (Adium@moz-r4p.mu8.65.185.IP) (Quit: Leaving.)
[18:09:11] *** Quits: skade (skade@moz-iiakqu.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:09:20] *** Quits: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP) (Connection closed)
[18:09:29] *** Joins: hjr3 (hradtke@moz-dmp.av4.169.69.IP)
[18:09:29] *** Quits: rubberduck (Mibbit@moz-lp3q2b.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[18:09:41] <xrl> I'm using a BufWriter, which I'm managing to construct properly, but I can't access write_be_u32. http://is.gd/ol8qND
[18:09:44] *** Quits: dstrbad (dstrbad@moz-rc61go.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[18:10:06] <XMPPwocky> where's that RFC where 'static leaks were OK, but leaking things with lifetime restrictions aren't
[18:10:21] <talchas> XMPPwocky: aiui, you then also need arcscoped, channelscoped, and so on for any other lib which uses rc/arc
[18:10:23] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[18:10:31] <talchas> (or the libs need to use unsafe if they're sure about not leaking)
[18:10:39] *** Quits: icidasset (textual@moz-rqd4oh.access.telenet.be) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:10:40] <Dr-Emann> xrl: Those methods dont exist anymore. Look at the byteorder cargo crate.
[18:10:43] <mkpankov> can anyone remind me of blog post on how Rust prevents data races? it had code written in Ruby and then rewritten in Rust
[18:10:56] <filsmick> should I use const or static for global constants?
[18:11:04] <xrl> Dr-Emann: oh
[18:11:14] <filsmick> mkpankov: Fearless concurrency with Rust?
[18:11:19] <xrl> I was using byte order for reading but I guess I had a link to outdated docs?
[18:11:20] <mbrubeck> filsmick: Use const if you can
[18:11:23] <mkpankov> filsmick: nope, smth older
[18:11:26] *** Joins: dstrbad (dstrbad@moz-rc61go.dsl.iskon.hr)
[18:11:28] *** darkowlzz is now known as darkowlzz|afk
[18:11:29] <XMPPwocky> talchas: true. although i think tha'ts a reasonable sacrifice to make
[18:11:35] *** Quits: brycefisher (chatzilla@moz-qbdpvi.office.zencoderdns.net) (Quit: ChatZilla 0.9.91.1 [Firefox 39.0a2/20150428004008])
[18:11:35] <XMPPwocky> also note that channels use an Arc internally
[18:11:48] <talchas> XMPPwocky: yeah, that's why you need channelscoped
[18:12:04] <mbrubeck> mkpankov: Maybe http://blog.rust-lang.org/2015/04/10/Fearless-Concurrency.html
[18:12:09] <filsmick> mbrubeck: why would I want to use static if I can use const?
[18:12:16] <mbrubeck> mkpankov: No wait, no ruby there
[18:12:23] <filsmick> mbrubeck: sorry, badly worded - when do you want to use static instead of const?
[18:12:34] *** Joins: thiblahute (tsaunier@moz-68f5rr.rev.sfr.net)
[18:12:39] <mbrubeck> mkpankov: Maybe http://blog.skylight.io/rust-means-never-having-to-close-a-socket/ or something else from blog.skylight.io
[18:12:46] *** Joins: dinfuehr (dinfuehr@moz-s5ibg8.highway.telekom.at)
[18:12:53] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[18:12:53] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:13:01] <talchas> filsmick: aiui const is always inlined, static is an actual piece of data stored in .rodata
[18:13:03] <filsmick> mbrubeck: I think this one is about RAII 
[18:13:11] <Dr-Emann> filsmick: you want static when you need to be able to store the LOCATION of the constant.
[18:13:18] *** Quits: scientes (scientes@moz-0ot.rb5.136.67.IP) (Connection closed)
[18:13:31] <mbrubeck> filsmick: Use a static if you need to take the address of something (to pass as a reference, or through FFI as a pointer), or if you need mutability
[18:13:31] *** Quits: slurps-mad-rips (slurps-mad-@moz-o2c.uaj.44.17.IP) (Quit: Connection reset by bear)
[18:13:33] *** Quits: hjr3 (hradtke@moz-dmp.av4.169.69.IP) (Connection closed)
[18:13:33] <talchas> so if it's large or is StaticMutex or you want to take pointers of it, etc
[18:13:39] <filsmick> Dr-Emann: that I understand, but when do you want that? const is basically a C macro (with safety, of course)
[18:13:47] <filsmick> mbrubeck: ohh, alright, thanks!
[18:13:51] <filsmick> I get it now
[18:14:02] *** Joins: kkus (kkus@moz-fj2.o46.234.165.IP)
[18:14:05] <XMPPwocky> filsmick: when you want a safe global variable, basically
[18:14:23] <filsmick> XMPPwocky: I'll use const then, no need for a global variable :)
[18:15:09] *** Joins: kgrandon (Adium@moz-mu2ib3.2rkg.9kg1.0101.2620.IP)
[18:16:26] <mkpankov> FYI, that blog post is http://carol-nichols.com/2014/07/14/ruby-rust-concurrency/
[18:16:40] <filsmick> mkpankov: nice, thanks for sharing
[18:16:59] <filsmick> mkpankov: it's out of date though, uses `proc`
[18:17:24] <mkpankov> yep, gonna port it to show off at keynote
[18:17:35] *** Quits: zzmp (zzmp@moz-4ds.959.14.76.IP) (A TLS packet with unexpected length was received.)
[18:18:04] *** Joins: tcard (tcard@moz-jdrdbk.ddns.jazztel.es)
[18:18:06] <mkpankov> want to show several footguns in different languages and how Rust fixes them
[18:18:27] *** Quits: Fiveside (fiveside@moz-t2eatg.vsp.com) (Quit: WeeChat 1.1.1)
[18:18:51] *** Joins: Racquetball (namestolenw@moz-dnlovt.cpe.twtelecom.net)
[18:18:57] <darkstalker> got at internal compiler error D:
[18:19:29] *** Joins: simme (sid33727@moz-07u411.ealing.irccloud.com)
[18:20:02] <mkpankov> speaking of proc, what should I use instead of it?
[18:20:04] *** Joins: hjr3 (hradtke@moz-dmp.av4.169.69.IP)
[18:20:17] *** Joins: icidasset (textual@moz-rqd4oh.access.telenet.be)
[18:20:22] <filsmick> mkpankov: thread::spawn, or, when it gets fixed, thread::scoped
[18:20:38] <filsmick> mkpankov: http://doc.rust-lang.org/1.0.0-beta.3/std/thread/
[18:20:54] <Dr-Emann> proc was, iirc, pretty much equivalent to `Box::new(move || { ... })`
[18:20:56] <filsmick> if you're interested, there's currently a safety issue with thread::scoped
[18:20:56] *** Quits: hjr3 (hradtke@moz-dmp.av4.169.69.IP) (Connection closed)
[18:21:13] <Dr-Emann> but now, you'll rely more on just move || { .. }
[18:21:17] <mkpankov> yep I know of that profound drama :)
[18:21:33] <mkpankov> gonna avoid scoped to not spook off newbies :P
[18:22:23] <proc> !proc
[18:22:23] <rustbot> deprecated
[18:22:38] <Dr-Emann> I actually quite like the thread::scope(|scope| { .. } ) suggestion for its replacement
[18:22:59] <jshs> proc: aww
[18:23:04] *** Joins: mib_r0x8ci (Mibbit@moz-i7cb3r.fios.verizon.net)
[18:23:07] *** Joins: bombless_ (_@moz-0f1m6p.0v2u.0v40.0da8.2001.IP)
[18:23:08] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[18:23:18] <Dr-Emann> getting rid of let _unused = thread::scoped(..) is a big plus for me.
[18:23:25] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[18:23:28] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[18:23:30] *** Joins: alex-abreu (alex@moz-j54ho8.biz.rr.com)
[18:23:47] <eddyb> you know what you can do with the new scoped thing?
[18:24:35] <eddyb> avoid diminishing returns
[18:24:51] *** Quits: Guest__ (textual@moz-rtn.fg7.77.192.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:25:00] <eddyb> even dynamically :)
[18:25:39] *** Quits: dstrbad (dstrbad@moz-rc61go.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[18:26:14] *** Quits: GGist (Mibbit@moz-07kde0.seattleu.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[18:26:22] *** darkowlzz|afk is now known as darkowlzz
[18:26:44] <bluss> talchas: http://bluss.github.io/rust-itertools/doc/itertools/trait.Itertools.html#method.fold1
[18:26:44] *** Quits: bombless (_@moz-0f1m6p.0v2u.0v40.0da8.2001.IP) (Ping timeout: 121 seconds)
[18:26:48] <bluss> now it exists
[18:26:55] *** Joins: hjr3 (hradtke@moz-dmp.av4.169.69.IP)
[18:27:39] *** Quits: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP) (Connection closed)
[18:27:42] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[18:27:42] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:28:29] *** Joins: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP)
[18:28:30] *** Quits: kgrandon (Adium@moz-mu2ib3.2rkg.9kg1.0101.2620.IP) (Quit: Leaving.)
[18:29:44] *** Quits: dmac_ (dmac@moz-46o0j3.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[18:31:03] *** Quits: rbrs (rbrs@moz-m5thmg.static.zebra.lt) (Quit: Leaving.)
[18:31:06] *** Joins: rkruppe (chatzilla@moz-bl91fe.diu2.0rth.0908.2a02.IP)
[18:31:08] *** Joins: rbrs (rbrs@moz-m5thmg.static.zebra.lt)
[18:31:49] *** Quits: dawehner (quassel@moz-h829oe.hsi6.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[18:31:50] *** Joins: gandalf (zbraniecki@moz-sqhkjf.res.rr.com)
[18:31:54] *** Quits: bombless_ (_@moz-0f1m6p.0v2u.0v40.0da8.2001.IP) (Ping timeout: 121 seconds)
[18:32:11] *** Joins: kgrandon (Adium@moz-nsdojb.2rkg.9kg1.0101.2620.IP)
[18:32:29] <mkpankov> I want to increment some variable in multiple threads, how do I idiomatically do it? current code is this: http://is.gd/DEqyAY
[18:32:50] <mkpankov> Arc?
[18:32:51] *** Quits: kgrandon (Adium@moz-nsdojb.2rkg.9kg1.0101.2620.IP) (Quit: Leaving.)
[18:33:09] <duesenfranz_> mkpankov: Arc + Cell I think
[18:33:26] <duesenfranz_> mkpankov: Or Cell might be enough...
[18:33:42] <bluss> you can't access captures in thread::spawn's closure
[18:33:44] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[18:33:45] <WindowsBunny> Cell doesn't work across threads
[18:33:47] <Dr-Emann> mkpankov: AtomicUint is what you want, I think.
[18:33:47] <bluss> Arc with atomic inside
[18:33:57] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[18:34:01] <bluss> I see the error message says 'proc' still
[18:34:27] <mkpankov> bluss ignore it, it's from blog post
[18:34:38] <mkpankov> I forgot to remove the comment
[18:34:58] <bluss> oh
[18:35:06] *** Quits: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP) (Connection closed)
[18:35:13] <bluss> mkpankov: I mean, you can't capture by reference in thread::spawn's closure
[18:35:47] <mkpankov> bluss: yep, I think I get that
[18:36:05] *** Joins: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP)
[18:36:10] *** Joins: zzmp (zzmp@moz-4ds.959.14.76.IP)
[18:36:45] <mkpankov> could I do it w/o Arc though? it seems I don't need the reference counting here, I just need atomic operations
[18:37:08] *** Joins: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se)
[18:37:38] <Dr-Emann> mkpankov: when we figure out thread::scoped, you won't need the Arc. But for spawn, you do.
[18:37:56] <xrl> I'm including a trait from a crate but rust is complaining the included function can't be found. using byteorder to write in to a slice wrapped in a bufwriter: https://gist.github.com/xrl/21bbb0cf26a2cbca5cd4
[18:38:27] <mkpankov> Dr-Emann: that's strange
[18:38:51] <Dr-Emann> mkpankov: it can't know that your thread won't outlive the spawning thread.
[18:39:13] <mkpankov> :(
[18:39:40] <bluss> mkpankov: if you put the atomic in a static variable it's fine
[18:40:07] <mkpankov> I see
[18:40:13] <fkaa> "error: type `&mut std::io::Lines<T>` does not implement any method in scope named `next`"
[18:40:24] <fkaa> doesn't it? https://doc.rust-lang.org/std/io/struct.Lines.html
[18:40:41] <bluss> mkpankov: this is the atomic version http://is.gd/cwGFyF
[18:40:55] *** Joins: aphistic (aphistic@moz-p8bgbt.erikd.org)
[18:41:19] *** Quits: tcard (tcard@moz-jdrdbk.ddns.jazztel.es) (Client exited)
[18:41:22] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[18:41:34] <bluss> static version http://is.gd/jxtun7
[18:41:38] <duesenfranz_> fkaa: I guess `T` is not BufRead?
[18:41:46] <fkaa> oh, should it be?
[18:41:57] *** Joins: mjboa (mike@moz-4e2lon.dip0.t-ipconnect.de)
[18:42:09] <duesenfranz_> fkaa: `impl<B: BufRead> Iterator for Lines<B>`
[18:42:27] <fkaa> ooo, i haven't fully grasped generics yet
[18:42:34] *** Joins: meyer (Mibbit@moz-o2n.4ra.239.216.IP)
[18:42:39] *** Quits: hjr3 (hradtke@moz-dmp.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[18:42:54] *** Quits: jbcurtin (jbcurtin@moz-lskisb.LosAngeles1.Level3.net) (Ping timeout: 121 seconds)
[18:43:18] *** Joins: Guest58 (textual@moz-70hlaj.austtx.sbcglobal.net)
[18:43:21] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (A TLS packet with unexpected length was received.)
[18:43:26] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[18:45:25] *** Quits: Church (hatter@moz-e031bf.dyn.optonline.net) (Ping timeout: 121 seconds)
[18:45:25] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[18:45:56] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[18:46:03] *** Joins: nott (nott@moz-to4.06o.57.86.IP)
[18:46:13] *** Joins: scientes_ (scientes@moz-0ot.rb5.136.67.IP)
[18:46:19] <scientes_> no fall-through match?
[18:46:20] *** Joins: idk_erikson (quassel@moz-nto6je.hsi04.unitymediagroup.de)
[18:47:09] *** Quits: scientes_ (scientes@moz-0ot.rb5.136.67.IP) (Connection closed)
[18:47:29] *** Joins: scientes_ (scientes@moz-0ot.rb5.136.67.IP)
[18:47:30] *** Joins: debu (debu@moz-6kgmmq.adsl.alicedsl.de)
[18:47:38] <mbrubeck> xrl: byteorder::WriteBytesExt doesn't hav a method called write_be_u32: http://burntsushi.net/rustdoc/byteorder/trait.WriteBytesExt.html
[18:48:01] *** Quits: rkruppe (chatzilla@moz-bl91fe.diu2.0rth.0908.2a02.IP) (Ping timeout: 121 seconds)
[18:48:06] <mbrubeck> xrl: You want `writer.write_u32::<BigEndian>(...)`
[18:48:21] <scientes_> no fall-through match
[18:48:30] <xrl> mbrubeck: oh, duh :(
[18:48:56] <talchas> ok, good, the issue with the scope+thread::scoped example that I thought of was already found by someone else
[18:48:57] *** Quits: scientes_ (scientes@moz-0ot.rb5.136.67.IP) (Connection closed)
[18:49:04] *** Quits: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[18:49:17] *** Quits: davebettin (davebettin@moz-rnhkmd.bendcable.com) (Ping timeout: 121 seconds)
[18:49:17] <mbrubeck> scientes quit before I could link https://github.com/pythonesque/fallthrough/
[18:49:30] *** Joins: scientes_ (scientes@moz-0ot.rb5.136.67.IP)
[18:49:37] <xrl> mbrubeck: that fixed it! thanks for the extra set of eyes :)
[18:49:46] <mbrubeck> np
[18:49:50] *** Joins: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP)
[18:49:53] *** Joins: dmac_ (dmac@moz-4kcd1c.ca.comcast.net)
[18:50:01] *** Quits: edlothiol (user@moz-dvpmm3.dynamic.kabel-deutschland.de) (Connection closed)
[18:50:06] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[18:50:06] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:50:38] *** Joins: dstrbad (dstrbad@moz-rc61go.dsl.iskon.hr)
[18:50:52] *** Quits: idk_erikson (quassel@moz-nto6je.hsi04.unitymediagroup.de) (Ping timeout: 121 seconds)
[18:50:57] *** chmanchester is now known as chmanchester|afk
[18:52:03] <meh> http://sprunge.us/dNKf?rust is there any way to make this compile?
[18:52:33] *** Quits: g5pw (g5pw@moz-5i3.7ej.244.162.IP) (Ping timeout: 121 seconds)
[18:52:34] *** AutomatedTester|AFK is now known as AutomatedTester
[18:53:20] <FreeFull> meh: the problem is that size_of is a function
[18:53:22] <FreeFull> So right now, no
[18:53:29] <meh> snap
[18:53:51] <FreeFull> Rust doesn't have constexprs yet
[18:53:56] *** Joins: g5pw (g5pw@moz-4e9gb9.me)
[18:54:01] <scientes_> can i get match to fall through like C?
[18:54:09] <scientes_> (with an expression)
[18:54:13] <FreeFull> scientes_: There is a library that offers a macro for that, I think
[18:54:26] <Dr-Emann> mbrubeck: "scientes quit before I could link https://github.com/pythonesque/fallthrough/"
[18:54:29] <mkpankov> I don't get what do I do wrong http://is.gd/Xg0OaC
[18:54:38] <scientes_> yeah i changed wifis
[18:54:42] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[18:54:48] *** Quits: zzmp (zzmp@moz-4ds.959.14.76.IP) (A TLS packet with unexpected length was received.)
[18:55:02] <mkpankov> I expect X to increment across all threads and get value "501"
[18:55:04] <Dr-Emann> mkpankov, You never join with your threads. They aren't done by the time you print the result
[18:55:13] *** Joins: zzmp (zzmp@moz-4ds.959.14.76.IP)
[18:56:06] <mkpankov> Dr-Emann: so I have to carry the join guard of each spawned thread?
[18:56:26] <mkpankov> and, like, do another loop after the main one to join all of them?
[18:57:10] <Dr-Emann> mkpankov: yea, http://is.gd/RI1xnS
[18:57:12] *** Joins: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk)
[18:57:16] *** Joins: ascarter (ascarter@moz-705hf8.wa.comcast.net)
[18:57:42] <mkpankov> Dr-Emann: thanks
[18:57:53] *** Quits: marsel (user@moz-sjn.bej.180.94.IP) (Ping timeout: 121 seconds)
[18:58:08] <Dr-Emann> mkpankov: joining should take care of syncronization for you. You should be able to use relaxed everywhere, I believe.
[18:58:38] <mkpankov> looks immensely complicated though. I don't expect people seeing Rust for the first time to understand code like this :(
[18:59:11] *** Quits: scientes_ (scientes@moz-0ot.rb5.136.67.IP) (Connection closed)
[18:59:57] <mbrubeck> mkpankov: Well, you could use thread::scoped. ;)
[19:00:18] <mkpankov> hm, maybe you're right
[19:00:29] *** Quits: colinsurprenant (colin@moz-rmn4e2.169.electronicbox.net) (Client exited)
[19:00:40] <Dr-Emann> but thread::scoped is unstable, and _will_ change.
[19:00:50] <mbrubeck> yeah
[19:01:14] <mkpankov> I'm trapped between a rock and a hard place with this
[19:01:28] <mkpankov> do we expect scoped to be fixed before 1.0?
[19:01:30] *** Quits: achanda (achanda@moz-fr1.spq.217.162.IP) (Connection closed)
[19:02:21] <harrisonclarke> is it possible to put a typedef in a trait? with associated types, things can get a little gross. i'd like to rename "<Self::Associated0 as Constraint>::Associated1" to "Self::Associated0_Associated1" in the trait declaration.
[19:02:24] *** Joins: davebettin (davebettin@moz-acc.cl4.35.72.IP)
[19:02:37] <mbrubeck> I'd expect something as important as the new scoped API will remain unstable for a while, to shake out bugs.
[19:03:08] *** Joins: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se)
[19:03:12] *** Joins: kermie (Mibbit@moz-mm92r7.hsi.kabel-badenwuerttemberg.de)
[19:03:57] *** Quits: kermie (Mibbit@moz-mm92r7.hsi.kabel-badenwuerttemberg.de) (Quit: http://www.mibbit.com ajax IRC Client)
[19:04:25] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[19:04:25] *** ChanServ sets mode: +o erickt
[19:05:26] *** Quits: lov2cod (Adium@moz-40l.ob1.22.8.IP) (Quit: Leaving.)
[19:05:33] <mkpankov> ok, so with scoped I still should use a static AtomicUsize, or it can be a block variable?
[19:05:44] *** Joins: fabianvf_ (fabianvf@moz-j12.dim.197.216.IP)
[19:05:57] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[19:06:10] <Dr-Emann> mkpankov: You'll still need an atomic, since you're accessing from multiple threads, but you won't need an Arc anymore.
[19:06:31] <mkpankov> Dr-Emann: I mean it doesn't need to be static anymore
[19:06:37] *** Joins: mcpherrin_ (uid11663@moz-cgplg8.brockwell.irccloud.com)
[19:06:39] *** Joins: rkruppe (chatzilla@moz-7m9kvt.diu2.0rth.0908.2a02.IP)
[19:06:39] <mkpankov> it can be in main, right?
[19:06:48] <Dr-Emann> mkpankov: right, you'll be able to access local variables on the stack, without Arc
[19:07:14] *** Quits: avikpal (avikpal@moz-jhs.6lo.194.117.IP) (Connection closed)
[19:07:19] *** Joins: colinsurprenant (colin@moz-rmn4e2.169.electronicbox.net)
[19:07:38] *** Joins: slurps-mad-rips (slurps-mad-@moz-o2c.uaj.44.17.IP)
[19:08:20] *** mcpherrin_ is now known as mcpherrin
[19:09:07] *** Joins: jbcurtin (jbcurtin@moz-lskisb.LosAngeles1.Level3.net)
[19:11:28] <Dr-Emann> mkpankov: one of the proposals to thread::scoped would make it look like this: http://is.gd/hWD8MG 
[19:11:36] *** Quits: eerie (eerie@moz-rll6i6.red.bezeqint.net) (Connection closed)
[19:12:24] *** Joins: doener (doener@moz-929cn9.unity-media.net)
[19:12:52] *** Quits: rbrs (rbrs@moz-m5thmg.static.zebra.lt) (A TLS packet with unexpected length was received.)
[19:13:52] <mkpankov> what I have so far is this http://is.gd/FOqmbg
[19:13:55] *** Joins: frecel (quassel@moz-qme.p1t.254.162.IP)
[19:13:56] <talchas> Dr-Emann: well, except you wouldn't need the atomics
[19:14:08] <talchas> er, nevermind, I misread
[19:14:15] <talchas> (you totally need the atomic)
[19:14:31] <duesenfranz_> can someone explain me why this doesn't work/how to fix this? http://is.gd/aqoTRd
[19:14:38] <mkpankov> funny thing scoped works 0,5 s instead of spawn which works 0,05s
[19:14:42] <talchas> mkpankov: that isn't concurrent, because it joins each thread in the loop
[19:14:54] <mkpankov> oh
[19:14:56] <talchas> you would need to push them onto a Vec
[19:15:04] <talchas> so that they only get joined at the end
[19:15:07] <mkpankov> ok
[19:15:11] <emilk> how do I get a random number generator that I can feed a fixed seed ?
[19:15:27] *** Joins: scientes_ (scientes@moz-0ot.rb5.136.67.IP)
[19:15:34] *** Quits: fabianvf_ (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[19:15:34] <Dr-Emann> one of the joys of the old scoped: silently non-concurrent code
[19:16:08] *** Quits: dschatzberg (dschatz@moz-nk1clf.bu.edu) (Ping timeout: 121 seconds)
[19:16:12] <mbrubeck> emilk: https://doc.rust-lang.org/rand/rand/trait.SeedableRng.html
[19:17:06] <emilk> thanks
[19:18:41] *** Joins: essem2 (Thunderbird@moz-f9p.4ol.7.74.IP)
[19:18:56] *** Joins: Shackra (Jorge@moz-7bh.ng6.177.186.IP)
[19:19:03] <mkpankov> why do I have to use |_| instead of || when doing map?
[19:19:22] <duesenfranz_> mkpankov: because map expects a closure that takes an argument
[19:19:22] <bluss> || is for closures with no arguments
[19:19:37] <duesenfranz_> r/an/_one_
[19:21:29] *** Quits: zzing (textual@moz-jucm1n.cpe.distributel.net) (Ping timeout: 121 seconds)
[19:22:04] *** Joins: kgrandon (Adium@moz-nsdojb.2rkg.9kg1.0101.2620.IP)
[19:22:39] <mkpankov> ok this is what I have http://is.gd/Iil2Um
[19:22:50] <mkpankov> the hell is "block suffix"?
[19:23:23] *** Quits: jbcurtin (jbcurtin@moz-lskisb.LosAngeles1.Level3.net) (Ping timeout: 121 seconds)
[19:23:46] <emilk> http://is.gd/1fnmlI
[19:23:52] <emilk> what do I need to include for Rand to work?
[19:24:37] *** Joins: zzing (textual@moz-jucm1n.cpe.distributel.net)
[19:25:10] *** Quits: gandalf (zbraniecki@moz-sqhkjf.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:25:30] *** Joins: hokkaido (Mibbit@moz-9uks0m.cust.swisscom.ch)
[19:25:31] <talchas> mkpankov: http://is.gd/FsD0px
[19:25:35] <hokkaido> hello
[19:26:24] *** Quits: icidasset (textual@moz-rqd4oh.access.telenet.be) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:26:36] <talchas> I think the issue is because map borrows count, and then the scoped closure /re/borrows count from the map closure, but it is attempting to read it even after the map closure is done
[19:26:58] *** Quits: newbiz (newbiz@moz-9m0cr9.fbxo.proxad.net) (Connection closed)
[19:27:22] <mkpankov> ineteresting
[19:27:24] *** Quits: nott (nott@moz-to4.06o.57.86.IP) (Ping timeout: 121 seconds)
[19:27:35] <mkpankov> btw, it works the wrong way as it is 
[19:27:38] <talchas> the "block suffix" stuff is saying that it needs to be valid for everything including-and-after "let threads", because that is how long the threads might be active
[19:27:46] *** Joins: jbcurtin (jbcurtin@moz-lskisb.LosAngeles1.Level3.net)
[19:27:54] <filsmick> is there anyway to create a struct without initializing all of its fields?
[19:28:01] <Dr-Emann> mkpankov: yea, you need to wrap in a scope, so the join guards go out of scope.
[19:28:04] <talchas> yeah, you need to drop the Vec before the println
[19:28:05] <mkpankov> I had to change second "let threads" to "let _ "
[19:28:10] *** Quits: zzmp (zzmp@moz-4ds.959.14.76.IP) (A TLS packet with unexpected length was received.)
[19:28:24] *** Quits: slurps-mad-rips (slurps-mad-@moz-o2c.uaj.44.17.IP) (Connection closed)
[19:28:28] *** Joins: dschatzberg (dschatz@moz-0i8cmd.bu.edu)
[19:28:38] <talchas> yeah, that or drop(threads) or a {} scope around it
[19:28:48] *** Joins: slurps-mad-rips (slurps-mad-@moz-o2c.uaj.44.17.IP)
[19:29:07] <mkpankov> so does let _ = ... mean that whatever is assigned is instantly dropped?
[19:29:08] <meyer> I'm sure this is naive, but what are the main difficulties in implementing Gc<T> as a library type? Could it be done using a timer + signal handlers, or a babysitter thread that occasionally interrupts other threads / the process?
[19:29:10] <Dr-Emann> filsmick: Yes. You can use unsafe { std::mem::uninitialized() }. But usually you can refactor to not need it.
[19:29:22] <filsmick> Dr-Emann: oh :/ okay
[19:29:30] <emilk> so does one have to do "extern crate" for things in stdlib?
[19:29:52] *** Quits: forgottenone (forgottenon@moz-pde.j99.45.92.IP) (Quit: Konversation terminated!)
[19:30:14] <bluss> emilk: no
[19:30:16] <hokkaido> is there something similar to Java's .class or C#'s typeof in Rust?
[19:30:25] <talchas> mkpankov: yeah
[19:30:34] <emilk> bluss: so how do I get rand in there? the examples in https://doc.rust-lang.org/rand/rand/trait.SeedableRng.html are broken
[19:30:35] <meyer> hokkaido: Maybe try Any's TypeId methods?
[19:30:40] *** Joins: kalail (uid62296@moz-5ck9vu.charlton.irccloud.com)
[19:30:43] <emilk> e.g. http://is.gd/Cq5AB7
[19:30:46] <mkpankov> heh, I'm going to have a hard time explaining why do I need a reference to AtomicUsize::new
[19:30:53] <emilk> "error: unresolved import `std::rand::Rng`. There is no `Rng` in `std::rand`"
[19:31:02] <bluss> emilk: it's from carates.io. Add it to deps in Cargo.toml and use extern crate rand;
[19:31:06] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[19:31:23] <emilk> oh so it's not in std
[19:31:29] <Dr-Emann> filsmick: as evidenced by having to use unsafe, it _is_ unsafe, since it fills with unintialized memory. Reading from that data can cause nasal demons, I believe (or maybe only undefined value, i forget which rust goes for)
[19:31:50] <bluss> emilk: right. It's hosted by the rust project but not in libstd
[19:32:04] <talchas> meyer: you need to find the roots (which requires compiler support or stack+.data-trawling conservative gc), and you need to find all contained Gc pointers, which probably also needs compiler support
[19:32:07] *** bentley is now known as bentley|away
[19:32:17] *** Joins: idk_erikson (quassel@moz-nto6je.hsi04.unitymediagroup.de)
[19:32:17] <filsmick> Dr-Emann: I know, but the compiler *should* be able to detect that no attempt to read it is made before a write, as it does with let foo: Type; followed by an assignment later on.
[19:32:26] <mkpankov> move || means that everything I capture is moved into closure, right?
[19:32:31] <Zoxc> Someone have a tip for my lifetime issues? https://gist.github.com/Zoxc/55f269e251d69e5f9d02
[19:32:40] <emilk> bluss: what do I add to Cargo.toml?
[19:32:47] <emilk> "carates.io"? 
[19:32:57] <talchas> mkpankov: yeah, and this way you're moving the reference in, but references are Copy
[19:32:59] <jshs> emilk: https://github.com/rust-lang/rand#usage
[19:33:13] <mkpankov> talchas: good, but I also move count
[19:33:15] <hokkaido> meyer, thanks
[19:33:17] <talchas> ("move" for a  Copy type is still a copy)
[19:33:24] <bluss> emilk: hehe, crates.io
[19:33:26] <mkpankov> are primitives Copy too?
[19:33:27] <bluss> is the website
[19:33:30] <talchas> yeah
[19:33:31] <Dr-Emann> filsmick: theoretically, maybe. But yea, we track assignment at the variable level only, not fields of variables.
[19:33:32] <emilk> =)
[19:33:33] <emilk> thanks
[19:33:46] <mkpankov> ah, good
[19:34:18] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[19:34:30] <Dr-Emann> mkpankov: rust would have complained if they weren't, "use of moved value 'count'"
[19:34:44] <mkpankov> this is slightly more readable than spawn version
[19:34:51] *** chmanchester|afk is now known as chmanchester
[19:34:52] *** Joins: nott (nott@moz-to4.06o.57.86.IP)
[19:35:13] *** Joins: errordeveloper (ilya@moz-rfe.3fh.206.90.IP)
[19:35:33] <Dr-Emann> mkpankov: thinking of how to do it in Java, for inststance, I'm not sure it's any different. push threads into a ArrayList, join on each.
[19:35:34] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[19:35:42] <mkpankov> but now that I think about this from the point of view of a stranger I'm terrified by verbosity
[19:35:56] <mkpankov> Dr-Emann: maybe you're right
[19:36:07] *** Quits: sayan (sayan@moz-ip8.595.51.106.IP) (Ping timeout: 121 seconds)
[19:36:10] <mkpankov> I'm not really experienced with multithreading
[19:36:14] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[19:36:33] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[19:36:38] <hokkaido> meyer, I also found std::intrinsics::get_tydesc<T>() - thanks for the suggestion
[19:36:48] <mkpankov> I wonder why do we have to specialize collect to ::<Vec<_>>()
[19:37:05] <talchas> mkpankov: you could write a collect for LinkedList or Set or whatever
[19:37:21] <meyer> hokkaido: np
[19:37:35] <bluss> mkpankov: it's generic in the collection to collect
[19:37:45] <mkpankov> a-ha
[19:37:51] <Dr-Emann> mkpankov: because collect is AWESOME. iter.collect::<HashSet<_>>() works too!
[19:37:58] <hokkaido> variadic type parameters would rock in rust
[19:38:24] <meyer> talchas: Ah. Thanks, I'll look into it more. I was imagining that you could do some bookkeeping every time you cloned a Gc<T>, then traverse everything that could be a pointer with knowledge of the size of T every time the signal was caught.
[19:38:25] <Dr-Emann> or, if you have an iter of (K, V), i believe you can .collect::<HashMap<K, V>>()
[19:38:36] <mkpankov> I believe it's slightly better this way http://is.gd/ahvd03
[19:38:39] <Tobba> ...
[19:38:48] <Tobba> if I have a thread that listens on a TcpListener
[19:38:53] <mkpankov> the collection type is more visible
[19:38:58] <Tobba> it seems that there is no sensible way to be able to kill this without first receiving a connection
[19:39:23] <andor> sfackler: it seems as though LIMIT is not parameterizable in rust-postgres
[19:39:53] <Dr-Emann> or, my favorite, from Iterator<Item=Option<T>>, iter.collect::<Option<Vec<T>>>()... You can go from a collection of options, to maybe a collection of items, only if they're all Some()
[19:39:58] <andor> when i have "... LIMIT $1" at the end of a statement, the statement prepares fine, but when i try to use it in a query i get an unexpected type error
[19:40:06] <mkpankov> ok, so, for this code to break I have to leak the join guards somehow, right?
[19:40:07] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:40:08] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[19:40:42] <mkpankov> I mean what are the caveats exactly
[19:41:24] <Dr-Emann> mkpankov: here's a good blog on the issues with the scoped API, and some alternatives we might go with: http://smallcultfollowing.com/babysteps/blog/2015/04/29/on-reference-counting-and-leaks/
[19:41:28] <talchas> yeah, if you mem::forget (or make a forget function with an Rc loop), then it won't join
[19:41:45] <talchas> and say main could return and free the memory used by the atomic
[19:42:03] *** Joins: eerie (eerie@moz-rll6i6.red.bezeqint.net)
[19:42:14] <fkaa> is there a env variable for showing stacktrace on panics?
[19:43:12] <mkpankov> ok thanks
[19:43:21] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[19:43:24] <andor> fkaa: RUST_BACKTRACE=1
[19:43:39] <andor> might need non-release version though, not fully sure
[19:43:46] *** Quits: rbranson (rbranson@moz-i7m.9o0.201.199.IP) (Quit: Computer has gone to sleep.)
[19:44:29] <duesenfranz_> is there some easy way to measure the time?
[19:44:31] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[19:44:31] *** ChanServ sets mode: +o erickt
[19:44:33] *** Joins: amitp (amitp@moz-plc8ig.ca.comcast.net)
[19:45:17] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[19:45:33] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[19:46:10] <mkpankov> btw what's the point of that Ordering thing? when will I need something other than Relaxed?
[19:46:29] *** Quits: hokkaido (Mibbit@moz-9uks0m.cust.swisscom.ch) (Quit: http://www.mibbit.com ajax IRC Client)
[19:47:07] *** Quits: dstrbad (dstrbad@moz-rc61go.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[19:47:41] *** Joins: thelastinuit (thelastinui@moz-doh.aqt.240.148.IP)
[19:47:49] *** Joins: Codenator (Mibbit@moz-d18.qnr.198.81.IP)
[19:47:52] <Codenator> got error on postgres  the trait `postgres::types::ToSql` is not implemented for the type `rustc_serialize::json::Json`
[19:47:57] <Dr-Emann> mkpankov: that's a complex topic. I'd recomend the preshing blog (preshing.com). 
[19:48:02] *** Quits: eerie (eerie@moz-rll6i6.red.bezeqint.net) (Connection closed)
[19:48:03] *** Joins: eerie (eerie@moz-rll6i6.red.bezeqint.net)
[19:48:11] <Codenator> http://is.gd/2vTbqJ this is my code
[19:48:19] <andor> Codenator: well, because it isn't http://sfackler.github.io/rust-postgres/doc/postgres/trait.ToSql.html :P
[19:48:23] <andor> see implementors
[19:48:26] <mkpankov> Dr-Emann: thanks. but, at the very least, is Relaxed usage here "safe"?
[19:48:47] <talchas> mkpankov: yeah, relaxed is fine here
[19:48:55] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:49:03] *** Joins: dstrbad (dstrbad@moz-rc61go.dsl.iskon.hr)
[19:49:10] <Codenator> andor: https://github.com/sfackler/rust-postgres/blob/master/src/types/serde.rs
[19:49:11] <Dr-Emann> mkpankov: here, yes, because joining syncronizes. But if you're not sure, SeqCst is the most _safe_, but also the most costly atomic operation.
[19:49:15] <talchas> it's generally for when you're using the atomics to know about the state of other variables
[19:49:25] <mkpankov> good. gotta research the topic
[19:49:30] *** Quits: xav (xav@moz-5tfec1.mobi) (Ping timeout: 121 seconds)
[19:49:35] *** Quits: mkpankov (user@moz-340.70f.16.195.IP) (Quit: ERC Version 5.3 (IRC client for Emacs))
[19:49:36] *** Quits: meyer (Mibbit@moz-o2n.4ra.239.216.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:49:36] <andor> Codenator: then bring those impls into scope
[19:49:49] <talchas> Dr-Emann: of course on x86 there's no difference for any of the RMW ops, so it's just about the compiler...
[19:49:49] <emilk> hum... I have a large 2d-array and get stack-overflow. is the clean solution to put it in a Box ?
[19:49:52] *** Joins: mkpankov (mkpankov@moz-340.70f.16.195.IP)
[19:50:00] <Codenator> andor: how realy?
[19:50:04] *** Quits: khades (Thunderbird@moz-u45.3vk.74.212.IP) (Client exited)
[19:50:05] <Codenator> ups 
[19:50:06] *** Joins: larhat (Adium@moz-tb1ulb.cable.virginm.net)
[19:50:09] *** Joins: khades (Thunderbird@moz-u45.3vk.74.212.IP)
[19:50:36] <andor> Codenator: wait, this is for serde's json types, not for serialize's
[19:50:41] <andor> they are totally different types
[19:50:45] <Dr-Emann> talchas: That just makes it scarier. Your code _seems_ fine, but if you ever move to another system.. it could be wrong in subtle, hard to find ways.
[19:51:03] *** Joins: gaige (Mibbit@moz-g508ft.hfc.comcastbusiness.net)
[19:51:04] <talchas> Dr-Emann: yeah, I'm saying wrt "costly"
[19:51:14] <Dr-Emann> Oh, right, yea, definately.
[19:51:25] <Codenator> I try any of them
[19:51:57] <Codenator> andor: rhem do thesame things
[19:52:27] *** Quits: HollyRain (HollyRain@moz-lnracf.user.ono.com) (Quit: bye, bye)
[19:52:31] *** Joins: nerdopoly (Mibbit@moz-8v95eo.range86-143.btcentralplus.com)
[19:52:33] <zaeleus> duesenfranz_: You mean measuring wall-time?
[19:52:35] <Codenator> andor: how bring serde in skope?
[19:52:43] <andor> Codenator: you're trying to use the wrong types. you have something of type rustc_serialize::json::Json, and that specific type has no implementation for ToSql
[19:53:06] <andor> Codenator: forget what i said about bringing it into scope, i thought they were the right types when you linked it first
[19:53:08] *** Joins: lov2cod (Adium@moz-40l.ob1.22.8.IP)
[19:53:19] *** Joins: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com)
[19:53:37] *** Quits: dstrbad (dstrbad@moz-rc61go.dsl.iskon.hr) (Ping timeout: 121 seconds)
[19:54:17] *** Quits: nott (nott@moz-to4.06o.57.86.IP) (Ping timeout: 121 seconds)
[19:54:29] *** Joins: femt0 (Mibbit@moz-r9e96t.abo.wanadoo.fr)
[19:54:48] *** Quits: tsurai (tsurai@moz-kgg7iv.versanet.de) (Quit: Leaving)
[19:55:06] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[19:55:09] <andor> hmm, looks like there's support for regular Json too, nut just Serde's, you might want to take a look at this https://github.com/sfackler/rust-postgres/blob/master/tests/types/rustc_serialize.rs
[19:55:19] *** Quits: femt0 (Mibbit@moz-r9e96t.abo.wanadoo.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[19:56:00] *** Quits: lov2cod (Adium@moz-40l.ob1.22.8.IP) (Quit: Leaving.)
[19:56:18] <Codenator> I try it
[19:56:51] <Codenator> andor: I check that link all ready
[19:57:03] *** Quits: alonlevy (alon@moz-p48.q13.159.94.IP) (Ping timeout: 121 seconds)
[19:57:06] *** Joins: femt0 (femt0@moz-r9e96t.abo.wanadoo.fr)
[19:57:25] *** Joins: tcard (tcard@moz-jdrdbk.ddns.jazztel.es)
[19:57:54] <emilk> thread '<main>' has overflowed its stack
[19:58:09] <emilk> any ideas on how to debug that? I've tried putting all large arrays in Box:es to no avail
[19:58:19] <Dr-Emann> mkpankov: sometimes, it's better to to let each thread work locally, then join all the work at the end. http://is.gd/4eNXJi
[19:59:27] *** Joins: achanda (achanda@moz-fr1.spq.217.162.IP)
[19:59:34] *** Joins: rbrs (rbrs@moz-m5thmg.static.zebra.lt)
[20:00:06] <talchas> emilk: do you have optimizations on? if not things like Box::new([0; 10000]) will still wind up on the stack before being copied
[20:00:29] <talchas> if you want to avoid this you can use Vecs instead (and with_capacity or such to avoid extra malloc calls)
[20:00:40] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[20:00:59] <bluss> emilk: using beta or nightly?
[20:01:04] <emilk> nightly
[20:01:11] <emilk> and yes, the problem is mostly there in release
[20:01:24] <mkpankov> Dr-Emann right, it's just that I have a "demo" that is more or less stupid translation of Ruby version of this code
[20:01:27] <emilk> so Box:es will be helpfully optimized to wind up on the stack... damn =)
[20:01:33] <bluss> you can use feature(box_syntax) and use `box`instead of Box::new
[20:01:36] <bluss> that should fix it
[20:01:40] <talchas> I suppose it's possible the optimizer misses some stuff even on release
[20:01:55] <kalail> hmmmm, do we need HKT for Mapping or Sequence traits?
[20:01:59] <emilk> I guess I should find a decent 2d-array crate instead
[20:02:01] <mkpankov> although it still makes a lot of currency details bubble up
[20:02:15] <kalail> for example, if I want to be generic over HashMap and BTreeMap
[20:02:23] <kalail> what would I use?
[20:02:31] <mkpankov> *concurrency
[20:02:43] *** Quits: femt0 (femt0@moz-r9e96t.abo.wanadoo.fr) (Connection closed)
[20:03:32] *** Joins: me (Mibbit@moz-itueq7.de.comcast.net)
[20:03:40] <bluss> kalail: to have iterators part of such traits would need features we don't have. I think..
[20:04:06] <bluss> kalail: maybe there is an external provider of collection traits (that of course apply to standard collections too)?
[20:04:13] <kalail> I wonder
[20:05:06] *** Quits: me (Mibbit@moz-itueq7.de.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:05:31] *** Parts: duesenfranz_ (jona@moz-711djm.tirol.surfer.at) ("")
[20:05:35] *** Joins: duesenfranz_ (jona@moz-711djm.tirol.surfer.at)
[20:05:48] *** Joins: femt0 (femt0@moz-r9e96t.abo.wanadoo.fr)
[20:06:01] *** Quits: femt0 (femt0@moz-r9e96t.abo.wanadoo.fr) (Connection closed)
[20:06:36] *** Joins: rbranson (rbranson@moz-i7m.9o0.201.199.IP)
[20:07:28] *** Parts: gaige (Mibbit@moz-g508ft.hfc.comcastbusiness.net) ()
[20:07:41] *** Quits: Savago (Savago@moz-8hd.3b6.246.162.IP) (Client exited)
[20:08:07] *** Quits: proc (proc@moz-2s4bc9.dip0.t-ipconnect.de) (Quit: Gotta eat my pizza)
[20:08:46] *** Quits: jiojiajiu (anonymous@moz-trc2j7.asianet.co.th) (Connection closed)
[20:09:53] *** Quits: dinfuehr (dinfuehr@moz-s5ibg8.highway.telekom.at) (Connection closed)
[20:10:39] *** Joins: icidasset (textual@moz-rqd4oh.access.telenet.be)
[20:10:54] *** Joins: hjr3 (hradtke@moz-dmp.av4.169.69.IP)
[20:11:12] <fkaa> can you do something like `let mut iter = some_str.chars(); for (ch, idx) in iter { ... }`?
[20:11:21] <Ms2ger> Yes
[20:11:28] <Ms2ger> Add an .enumerate()
[20:11:53] <Dr-Emann> and it's (idx, ch)
[20:11:59] <FreeFull> I think for loops move the iterator into them now
[20:12:07] <Dr-Emann> they do. no need for mut
[20:12:17] *** Joins: eerie_ (eerie@moz-rll6i6.red.bezeqint.net)
[20:12:31] <FreeFull> If you don't want the move, using &mut iter will probably work
[20:12:33] <bluss> there's .char_indices() too. That's for getting the byte offsets
[20:12:38] <bluss> of the chars
[20:13:06] <Dr-Emann> playbot: for (idx, ch) in "hi".chars().enumerate() { println!("i:{}, ch:{}", idx, ch); } "done"
[20:13:07] -playbot- i:0, ch:h
[20:13:07] -playbot- i:1, ch:i
[20:13:07] -playbot- "done"
[20:13:21] <bluss> playbot: "αβγ".char_indices().collect::<Vec<_>>()
[20:13:23] -playbot- [(0, '\u{3b1}'), (2, '\u{3b2}'), (4, '\u{3b3}')]
[20:13:27] *** Joins: srh (User@moz-mb8h9g.ca.charter.com)
[20:13:40] *** Quits: rbranson (rbranson@moz-i7m.9o0.201.199.IP) (Quit: Computer has gone to sleep.)
[20:13:57] *** Quits: nerdopoly (Mibbit@moz-8v95eo.range86-143.btcentralplus.com) (Quit: http://www.mibbit.com ajax IRC Client)
[20:14:14] *** Joins: ballpointcarrot (quassel@moz-f18aru.qk3s.opjh.0008.2601.IP)
[20:14:28] *** Joins: eac (eac@moz-9dnbq4.fkdv.ulf6.3c01.2600.IP)
[20:14:31] *** Quits: rbrs (rbrs@moz-m5thmg.static.zebra.lt) (Quit: Konversation terminated!)
[20:14:53] *** Joins: basicdays (basicdays@moz-vreeoj.cable.rcn.com)
[20:15:36] *** Quits: jbcurtin (jbcurtin@moz-lskisb.LosAngeles1.Level3.net) (Ping timeout: 121 seconds)
[20:15:55] *** Quits: eerie (eerie@moz-rll6i6.red.bezeqint.net) (Ping timeout: 121 seconds)
[20:16:19] <andor> i #derive a custom trait on my struct, along with #![feature(custom_derive)] but rustc doesn't seem to pick up on it, it still says i should implement it
[20:16:44] *** Joins: shadeslayer (shadeslayer@moz-45vi9r.jefferai.org)
[20:16:59] *** Quits: hjr3 (hradtke@moz-dmp.av4.169.69.IP) (Ping timeout: 121 seconds)
[20:17:51] *** Quits: vmeson (rmacleod@moz-hq5.1km.224.128.IP) (Ping timeout: 121 seconds)
[20:18:44] *** Joins: willem (willem@moz-facs2s.dynamic.upc.nl)
[20:19:03] *** Joins: zzmp (zzmp@moz-9v3lqv.12ul.lrlq.5500.2604.IP)
[20:19:39] <Ms2ger> seanmonstar, reem: ping https://github.com/hyperium/hyper/issues/497
[20:19:45] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[20:20:57] *** Joins: joel1 (joel@moz-6ampnk.gtri.gatech.edu)
[20:21:04] *** Quits: icidasset (textual@moz-rqd4oh.access.telenet.be) (Quit: Textual IRC Client: www.textualapp.com)
[20:21:37] *** Quits: mindtree (Mitch@moz-mqk7nv.iprimus.net.au) (Ping timeout: 121 seconds)
[20:21:53] *** Joins: mindtree (Mitch@moz-p8h.mdh.138.202.IP)
[20:22:25] *** Joins: hjr3 (hradtke@moz-pp9.av4.169.69.IP)
[20:22:26] *** Quits: breiska (breiska@moz-sdntg3.dhcp.inet.fi) (Ping timeout: 121 seconds)
[20:22:26] *** Quits: ineol (ineol@moz-pdkvmd.fbx.proxad.net) (Client exited)
[20:22:49] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[20:23:26] *** Quits: nonsensickle (nonsensickl@moz-4v0.gkd.16.182.IP) (Ping timeout: 121 seconds)
[20:23:26] *** Joins: jbcurtin (jbcurtin@moz-lskisb.LosAngeles1.Level3.net)
[20:23:27] *** Quits: c0a8 (joel@moz-6ampnk.gtri.gatech.edu) (Ping timeout: 121 seconds)
[20:24:59] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[20:25:23] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[20:25:23] *** Joins: kieran (kieran@moz-c5gk5j.ihug.co.nz)
[20:26:04] <bluss> andor: needs a syntax extension that implements it too
[20:26:17] <bluss> andor: I think an example of custom derive is Rand from rand_macros
[20:26:19] *** Quits: WindowsBunny (Peter@moz-prmara.east.verizon.net) (Ping timeout: 121 seconds)
[20:26:38] *** Quits: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP) (Ping timeout: 121 seconds)
[20:26:54] <andor> hmm, the trait in question is ToJson, any idea if it has the corresponding trait extension macro?
[20:27:43] *** Joins: sonder (chatzilla@moz-nt8r49.idi.ntnu.no)
[20:27:56] <andor> also, i have something that expects a String, but i can/want to pass a string literal to it
[20:27:57] *** Quits: defyrlt (user@moz-u6g.e4f.217.91.IP) (Ping timeout: 121 seconds)
[20:27:58] *** Quits: Guest74 (textual@moz-il1.n6s.204.65.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:28:08] <andor> i'm guessing "foo".to_string() isn't the most efficient thing, is it?
[20:28:25] *** Quits: zzing (textual@moz-jucm1n.cpe.distributel.net) (Ping timeout: 121 seconds)
[20:29:05] *** Joins: WindowsBunny (Peter@moz-prmara.east.verizon.net)
[20:29:25] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[20:29:49] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[20:30:11] <talchas> it's only not because it goes through the format infrastructure
[20:30:17] *** Joins: Samuel (Mibbit@moz-qa1.87k.64.129.IP)
[20:30:34] <andor> what does? to_string()?
[20:30:36] <talchas> yeah
[20:30:37] <bluss> andor: I don't think it has deriving implemented no
[20:30:41] <SneakySnake> andor: From<&str> is implemented for String
[20:30:44] <talchas> it's format!("{}", foo);
[20:31:13] <talchas> (because it is implemented on everything with Display, and there is no type-specialization in rust atm)
[20:31:15] <andor> i mean my issue is that i have this function call that expects a String, but i just call it with a string literal
[20:31:28] <shadeslayer> could someone explain me how one parses const FOO: &'static str = "Bar"
[20:31:31] <andor> so allocating a String every time it's called seems really wasteful
[20:31:32] <talchas> yeah, no matter what that's going to take an allocation and copy
[20:31:38] *** Quits: alex-abreu (alex@moz-j54ho8.biz.rr.com) (Ping timeout: 121 seconds)
[20:31:38] <andor> :\
[20:31:41] <shadeslayer> it's a slice of static string, but why the extra '
[20:31:46] <talchas> when possible, don't take a String
[20:31:52] *** Quits: eerie_ (eerie@moz-rll6i6.red.bezeqint.net) (Connection closed)
[20:32:09] <Samuel> Hello everyone! I'm getting the following error: "expected `CacheObject`,     found `&CacheObject` (expected struct `CacheObject`,     found &-ptr)" due to the following method signature: " fn get_cache_object(path_string: String, cache_map_arc: Arc<RwLock<HashMap<String, CacheObject>>>) -> CacheObject {". Any ideas? 
[20:32:12] <talchas> take &str or Cow<'static, str> (I think the latter is the correct type, it's something like that)
[20:32:16] <andor> i'm talking about collections' BTreeMap
[20:32:31] *** Joins: eerie (eerie@moz-rll6i6.red.bezeqint.net)
[20:32:33] <andor> BTreeMap::insert's first parameter is String
[20:32:38] <andor> which obviously makes sense
[20:33:26] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Quit: )
[20:33:51] <SneakySnake> Well, it's String only if you create a BTreeMap with a String key
[20:33:53] <talchas> well, it's K, and if you are using only static strings you can probably make that &'static str
[20:34:17] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[20:35:09] *** Joins: joe_the_rapist (Mibbit@moz-p7liog.torservers.net)
[20:35:15] <hoverbear> talchas: How does one create a String in code without doing "Foo".to_string()?
[20:35:29] <WindowsBunny> hoverbear: String::new() ?
[20:35:38] <joe_the_rapist> discovered a buffer overflow when loading html5 audio with a malformed eof in firefox 22
[20:35:44] <mbrubeck> Samuel: Whatever you're returning, you can use * to derefernce it from &CacheObject to CacheObject... if it's something that you can move or copy from its current owner.
[20:35:45] <joe_the_rapist> potentially serious btw
[20:35:45] <talchas> hoverbear: iirc there's .to_owned() and some use of From
[20:35:46] <WindowsBunny> hoverbear: "Foo".to_owned()
[20:36:17] <hoverbear> joe_the_rapist: This is #rust, maybe #firefox would be more topical?
[20:36:20] <SneakySnake> From::from is the replacement for the old String::from_str
[20:36:23] *** Quits: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP) (Connection closed)
[20:36:27] <joe_the_rapist> wt
[20:36:33] *** Quits: eerie (eerie@moz-rll6i6.red.bezeqint.net) (Ping timeout: 121 seconds)
[20:36:37] <joe_the_rapist> wait, what the hell is this doing on Mozilla's network?
[20:36:41] <WindowsBunny> hoverbear: "Foo".into()
[20:36:47] <joe_the_rapist> I usually join the first channel, sorry
[20:36:49] <Samuel> mbrubeck: When I add * it gives me: "error: cannot move out of borrowed content". 
[20:36:50] <hoverbear> joe_the_rapist: Mozilla is the main supporter of Rust. :)
[20:36:57] <mbrubeck> joe_the_rapist: Rust is the name of a programming language being developed by Mozilla.
[20:37:03] <hoverbear> WindowsBunny: Oh really? Is this "better" than .to_string()?
[20:37:11] <hoverbear> playbot: "Foo".into()
[20:37:13] -playbot- <anon>:8:5: 8:9 error: unable to infer enough type information about `_`; type annotations required [E0282]
[20:37:13] -playbot- <anon>:8     show({
[20:37:13] -playbot- output truncated; full output at: http://bit.ly/1bL87u9
[20:37:13] *** Parts: joe_the_rapist (Mibbit@moz-p7liog.torservers.net) ()
[20:37:14] *** Joins: zzing (textual@moz-jucm1n.cpe.distributel.net)
[20:37:30] <WindowsBunny> playbot: let x: String = "Foo".into(); x
[20:37:32] -playbot- "Foo"
[20:37:33] <hoverbear> playbot: let thing = "Foo".into::<String>()
[20:37:34] -playbot- <anon>:10:5: 10:6 error: expected one of `.`, `;`, or an operator, found `}`
[20:37:34] -playbot- <anon>:10     });
[20:37:34] -playbot- output truncated; full output at: http://bit.ly/1IwwicJ
[20:37:34] <WindowsBunny> :D
[20:37:46] <hoverbear> playbot: let thing = "Foo".into::<String>();
[20:37:46] <WindowsBunny> hoverbear: You need to constrain the return type
[20:37:47] -playbot- <anon>:9:27: 9:43 error: does not take type parameters [E0035]
[20:37:48] -playbot- <anon>:9         let thing = "Foo".into::<String>();
[20:37:48] -playbot- output truncated; full output at: http://bit.ly/1bL8dSx
[20:37:52] <Samuel> Is it possible to make the return type a pointer?
[20:38:03] <FreeFull> Sure
[20:38:08] <hoverbear> WindowsBunny: Can't do that via <>?
[20:38:19] <FreeFull> Samuel: Show us what you want to do, exactly
[20:38:25] <Samuel> Okay. One second!
[20:38:29] <WindowsBunny> hoverbear: um
[20:38:40] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[20:38:44] <WindowsBunny> rustbot: Into::<String>::into("Foo")
[20:38:48] <Samuel> http://pastebin.com/fGrzv3Hs This is my code.
[20:38:59] <WindowsBunny> playbot:  Into::<String>::into("Foo")
[20:39:01] -playbot- "Foo"
[20:39:04] <WindowsBunny> hoverbear: :D
[20:39:05] *** Quits: mkpankov (mkpankov@moz-340.70f.16.195.IP) (Connection closed)
[20:39:07] <Samuel> Without dereferencing, cache_object is a pointer, but I don't know the syntax for making the return type a pointer.
[20:39:09] *** Joins: mkpankov (mkpankov@moz-ppg.0jj.23.84.IP)
[20:39:13] <Samuel> So I tried to deferefence it, but I cannot.
[20:39:16] <mbrubeck> Samuel: -> &CacheObject
[20:39:17] <hoverbear> WindowsBunny: That's much worse looking than "foo".to_string()
[20:39:33] <WindowsBunny> hoverbear: Hence why you just use .into() and coerce the return type
[20:39:36] <FreeFull> Samuel: What's the error?
[20:39:45] <FreeFull> I'm guessing that CacheObject isn't Copy?
[20:39:55] <Samuel> I need a lifetime specifier that way, mbrubeck.
[20:40:01] <Samuel> CacheObject is a struct.
[20:40:03] <mbrubeck> Samuel: Are you the same person as GabbyT, or just working on the same code?
[20:40:17] <Samuel> mbrubeck: Yes. I am working with her :P.
[20:40:20] *** darkowlzz is now known as darkowlzz|afk
[20:40:34] *** Joins: nott (nott@moz-to4.06o.57.86.IP)
[20:40:45] *** Joins: LinuxBunny (Retep998@moz-prmara.east.verizon.net)
[20:40:47] <mbrubeck> Samuel: You might want to look in the channel logs from this morning to see the answers to GabbyT's questions.
[20:41:13] *** Joins: B7W (Mibbit@moz-i9t.028.143.95.IP)
[20:41:33] *** Quits: B7W (Mibbit@moz-i9t.028.143.95.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:41:53] <Samuel> mbrubeck: Gabby told me what you said to her. The TA for our class said that we should remove the Arc<RwLock<CacheObject>> from around the CacheObject because we have a RwLock on the HashMap already. That's why we removed the Arc that you suggested. Do you suggested readding it?
[20:41:57] <mbrubeck> Hmm, I can't find it in the botbot.me log
[20:42:01] <Samuel> suggest*
[20:42:57] *** Quits: nadirs (nadirs@moz-mnvfq6.retail.telecomitalia.it) (Quit: leaving)
[20:43:05] <mbrubeck> Samuel: So, right now you have a CacheObject owned by a HashMap.  You can't return it by value unless you (a) move it out of the HashMap, or (b) clone/copy it.
[20:43:45] <Samuel> mbrubeck: Okay, this is why we want to return a reference to it, no?
[20:44:54] *** Quits: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[20:44:59] <mbrubeck> Samuel: If your function borrows the HashMap, you could return a borrowed reference to its content... but since you're taking an Arc<RwLock<Hashmap<..>>> I don't think you can borrow for longer than you hold the Arc, which means anything borrowed references can't outlive your function.  So you can't return one.
[20:45:50] *** Quits: mjboa (mike@moz-4e2lon.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[20:46:55] <Samuel> mbrubeck: Okay, so would the easy way out of this be just to avoid even creating the function in the first place and just putting the function body wherever it is used?
[20:47:27] *** Quits: scientes_ (scientes@moz-0ot.rb5.136.67.IP) (Ping timeout: 121 seconds)
[20:47:44] *** Joins: Perceptes (Perceptes@moz-oaa.ifu.101.75.IP)
[20:47:45] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (A TLS packet with unexpected length was received.)
[20:48:06] <Perceptes> anyone using serde? does it only work with the nightly or should it work with beta too?
[20:48:25] <achanda> so I have a file called `bar.rs` in the src folder of my crate, called `foo`
[20:48:30] <mbrubeck> Samuel: I think if you make the function take an &HashMap it should work -- the only thing that needs to move to the caller is the code to borrow the HashMap from the Arc<RwLock<..>>>
[20:48:37] *** Joins: mjboa (mike@moz-4e2lon.dip0.t-ipconnect.de)
[20:48:39] *** Joins: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se)
[20:48:42] <achanda> and I have a pub mod bar; in `lib.rs`
[20:49:04] <achanda> shouldn't I be able to resolve those names when I try to use this crate from another crate?
[20:49:32] <achanda> I keep getting "ailed to resolve. Could not find bar in foo"
[20:49:42] <bluss> Samuel: that's why I recognize the code. I talked to gabbyT about something very similar
[20:50:13] <bluss> Samuel: you can't borrow from inside a mutex or rwlock, not after the hold on the lock has expired
[20:50:27] *** Joins: dstrbad (dstrbad@moz-rc61go.dsl.iskon.hr)
[20:50:55] *** Quits: JosiahOne|Work (Thunderbird@moz-f2hp7h.biz.rr.com) (Client exited)
[20:50:58] <efaust> man, "curl | sudo sh" is a tough sell as an install command
[20:51:57] <bluss> yeah
[20:52:01] <Samuel> mbrubeck: Okay, I tried that, but it's then complaining about the cache_map_arc not being a pointer. 
[20:52:06] <duesenfranz_> efaust: what about wget + chmod + ./ ?
[20:52:11] <bluss> efaust: you can get the nightly tarball and install from that
[20:52:14] <panicbit> oh my god :D. It took me a few hours to figure out the math for a certain recursive function but no I've got a bouncing ball on my terminal ^_^
[20:52:32] <panicbit> I like the simplicity of rustbox/termbox
[20:52:34] <Samuel> bluss: Okay, I see. So this function is flawed in that sense?
[20:52:36] *** Joins: simukis1 (nagisa@moz-8t068g.static.zebra.lt)
[20:52:41] <Samuel> bluss: I am considering just eliminating this funciton.
[20:53:02] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[20:53:07] <mbrubeck> efaust: On the other hand, if you're downloading binaries that you're gonna run, you're always ultimately trusting the download site... unless you have an out-of-band way to verify the fingerprint of a signing key or something.
[20:53:31] <mbrubeck> `curl | sudo sh` just makes it more obvious where the trust lies. :)
[20:53:45] <efaust> mbrubeck: yeah, but a lot less than giving a script root, in general
[20:54:00] <bluss> Samuel: do you intend to clone out the CacheObject?
[20:54:01] <mbrubeck> efaust: The script will actually run without root if you pass --prefix="some directory I can write to"
[20:54:04] *** Joins: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP)
[20:54:09] <bluss> Samuel: or should it not be cloned
[20:54:23] *** Quits: mindtree (Mitch@moz-p8h.mdh.138.202.IP) (Quit: leaving)
[20:54:29] *** Quits: dstrbad (dstrbad@moz-rc61go.dsl.iskon.hr) (Ping timeout: 121 seconds)
[20:54:49] <efaust> mbrubeck: I mean, *I* trust our install script. I just got a nastygram from a friend of mine
[20:54:53] <duesenfranz_> efaust: AFAIK, until a not-so-long time ago, most linux package managers didn't even have additional keyrings 
[20:55:08] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[20:55:16] *** Joins: TheLemonMan (lemonboy@moz-134rgj.26-151.libero.it)
[20:55:39] <efaust> I guess it's no worse than git pull && make && sudo make install
[20:55:40] *** Quits: killercup (killercup@moz-gpufip.dip0.t-ipconnect.de) (Quit: Bye)
[20:55:47] <mbrubeck> efaust: exactly
[20:55:51] <aji> wait a minute
[20:56:00] <duesenfranz_> efaust: and as long as it's downloaded over ssl (!), it's as secure as any binary installer
[20:56:02] <aji> how long have you been able to put type constraints on enum/struct params?
[20:56:02] *** Quits: edbond (edbond@moz-8st.7gv.108.109.IP) (Ping timeout: 121 seconds)
[20:56:04] <mbrubeck> efaust: People just don't like it when you make it obvious. :P
[20:56:14] <aji> i happened to notice Cow<> does this to get at the associated type
[20:56:15] *** Quits: ballpointcarrot (quassel@moz-f18aru.qk3s.opjh.0008.2601.IP) (Ping timeout: 121 seconds)
[20:56:16] <bluss> aji: long, but not forever? :)
[20:56:30] <FreeFull> duesenfranz_: A binary installer can have a signature though that you could verify 
[20:56:41] *** Quits: manlycode (manlycode@moz-rtv2pn.mi.comcast.net) (Quit: Lost terminal)
[20:56:44] <aji> a while ago i wanted a struct that contained an Iterator and had to put the type constraint on the impl
[20:56:49] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[20:56:49] <mbrubeck> FreeFull: The Servo tarballs do too, and the script verifies it.
[20:56:58] <efaust> mbrubeck: cynically, I totally agree with you. If you put the sudo after an echo "Installing to $PREFIX", I bet I never complain at all ;)
[20:57:07] <FreeFull> mbrubeck: Assuming you trust the script
[20:57:07] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[20:57:23] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[20:57:25] *** Joins: junseok (junseok@moz-pbo4ce.ca.comcast.net)
[20:57:26] <duesenfranz_> FreeFull: actually that's a pretty good idea, what about putting the sha-sum of the rustup.sh prominently at rust-lang.org?
[20:57:38] <bluss> efaust: you're sceptical about curl to sudo sh, but are you sceptical enough to curl that script and read it?
[20:57:41] <bluss> :)
[20:57:46] <junseok> hello, I'm trying to use the log crate, but I'm not getting any output from the macros
[20:57:54] *** Joins: sinistersnare (Mibbit@moz-vj2.mkr.2.129.IP)
[20:58:03] <junseok> I've tried using  "RUST_LOG=all cargo run" but nothing :(
[20:58:21] <sinistersnare> is mattyhall around here?
[20:58:44] *** Joins: dawehner (quassel@moz-h829oe.hsi6.kabel-badenwuerttemberg.de)
[20:58:45] <mbrubeck> junseok: Are you using and initializing env_logger? http://doc.rust-lang.org/log/env_logger/index.html
[20:58:56] <efaust> bluss: I work here. I don't think we are rooting our users :)
[20:58:58] *** Quits: joel1 (joel@moz-6ampnk.gtri.gatech.edu) (Ping timeout: 121 seconds)
[20:59:33] <talchas> FreeFull: I mean, you can check the signature if you trust your browser but not curl
[20:59:47] <junseok> mbrubeck: ooh, thanks, I saw it before, but I didn't know that's what I was looking for
[20:59:52] *** Quits: nott (nott@moz-to4.06o.57.86.IP) (Ping timeout: 121 seconds)
[21:00:07] <FreeFull> talchas: I'd trust my browser less than curl, but yeah
[21:00:34] <sinistersnare> can a Cargo example be a whole crate (a folder, Cargo.toml etc?)
[21:00:42] *** Quits: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Connection closed)
[21:00:43] <sinistersnare> cant find any documentation on them
[21:00:51] <duesenfranz_> FreeFull: talchas: especially since https://www.rust-lang.org/install.html doesn't seem espially trust-inspiring
[21:00:54] <shadeslayer> ok, I really don't get this static const string
[21:01:08] <Samuel> bluss: Can I clone a struct? I remember trying, and the compiler complained.
[21:01:13] <Ms2ger> priv fn parse_multi(io: @io::Reader) -> Result {
[21:01:31] <junseok> samuel: you can clone anything that implements the Clone trait
[21:01:47] <junseok> and if you aren't doing anything complicated, you can usually just #[derive(Clone)]
[21:01:59] <bluss> Samuel: if the type implements Clone. The question is what you want. I don't know what your function does and if cloning is compatible with what you use the data for
[21:02:05] <panicbit> Check out my bouncing ball for a little bit of fun :) https://github.com/panicbit/bouncingball
[21:02:28] <bluss> Samuel: but it's cool that you use Rust in a course
[21:02:29] <FreeFull> Ms2ger: That's some old code
[21:03:02] <mbrubeck> Samuel: In GabbyT's question earlier, she said she wanted to modify the value in the HashMap - if that's still the case, then you probably don't want to return a copy.
[21:03:17] <bluss> Ms2ger: you could read behind a non-mut @?
[21:03:21] *** Quits: dawehner (quassel@moz-h829oe.hsi6.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[21:03:23] *** Quits: Palmik (palmik@moz-0ruqup.vpn.muni.cz) (Ping timeout: 121 seconds)
[21:03:27] <fkaa> anyone able to help me out a bit? i'm trying to parse numbers within a string, and i can't seem to piece it together in a simple way, here's what i got so far: http://is.gd/0fXByT
[21:03:36] <bluss> Ms2ger: this is strange stuff
[21:03:53] *** Quits: errordeveloper (ilya@moz-rfe.3fh.206.90.IP) (Ping timeout: 121 seconds)
[21:04:12] <Ms2ger> It is :)
[21:04:32] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[21:04:44] <FreeFull> fkaa: I'm guessing you want "11" to be parsed into a single number?
[21:04:51] <fkaa> exactly
[21:05:10] <duesenfranz_> panicbit: nice! compiles and runs perfectly
[21:05:43] <duesenfranz_> panicbit: ...but it doesn't listen to ^C! how do i kill this thing? ;)
[21:05:49] <panicbit> escape
[21:05:52] <panicbit> ;)
[21:05:58] <Perceptes> erickt: is serde/serde_macros supposed to build on rust beta or is it just the nightly?
[21:06:03] *** Quits: fengshaun (fengshaun@moz-rf0qk5.cable.teksavvy.com) (Ping timeout: 121 seconds)
[21:06:05] *** Quits: cantsin (cantsin@moz-vu7a2t.ch) (Ping timeout: 121 seconds)
[21:06:09] <panicbit> duesenfranz_: It does crash though if the temrinal is too small
[21:06:13] <panicbit> (stack overflow)
[21:06:14] <duesenfranz_> panicbit: oh thanks, I did it with killall -SIGKILL bouncingball
[21:06:28] <panicbit> duesenfranz_: I'd recommend kill -9 0
[21:06:33] <panicbit> :P
[21:07:30] <Samuel> I was able to avoid all the problems by just getting rid of the function.
[21:07:34] <Samuel> I have a new question though!
[21:07:47] <mbrubeck> fkaa: I think you'll need to do something like this: http://is.gd/RcNW1s
[21:07:50] <xrl> I'm writing a library and I keep getting `method is never used` lint errors. I use those methods in other library files but the compiler is still complaining?
[21:07:52] <Samuel> How can I change the value of a field in a struct? Is it possible to make the fields mutable?
[21:07:54] *** Quits: idk_erikson (quassel@moz-nto6je.hsi04.unitymediagroup.de) (Ping timeout: 121 seconds)
[21:08:10] <mbrubeck> fkaa: And also make sure that `parse_num` does not consume too many characters, maybe using a Peekable
[21:08:34] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[21:08:53] *** Joins: cantsin (cantsin@moz-vu7a2t.ch)
[21:09:02] *** Quits: mjboa (mike@moz-4e2lon.dip0.t-ipconnect.de) (Quit: Lost terminal)
[21:09:33] <duesenfranz_> panicbit: yeah it does strange things if the terminal's height is extremely small, like not listening to escape!
[21:09:36] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:09:43] *** Quits: Jackneill (Jackneill@moz-6cq4oi.pool.digikabel.hu) (A TLS packet with unexpected length was received.)
[21:09:49] <duesenfranz_> panicbit: is signal-handling still pretty much impossible?
[21:09:52] <panicbit> oO
[21:10:15] <panicbit> duesenfranz_: It probably is possible but I haven't fiddled to much with termbox's options yet
[21:10:21] <panicbit> It's*
[21:10:28] <panicbit> too*
[21:10:35] *** Quits: twipeD (wipeD@moz-3rfme4.dip0.t-ipconnect.de) (Connection closed)
[21:10:43] *** Quits: mib_r0x8ci (Mibbit@moz-i7cb3r.fios.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:10:57] *** Joins: zyphrus (David@moz-nhi.pas.98.101.IP)
[21:10:57] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[21:11:24] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[21:11:30] *** Quits: dik_dak (dik_dak@moz-865.h56.170.161.IP) (Ping timeout: 121 seconds)
[21:11:32] *** Joins: errordeveloper (ilya@moz-rfe.3fh.206.90.IP)
[21:11:33] <tomprogrammer> Perceptes: serde should build on beta, serde_macros can only used on nightly.
[21:11:42] <FreeFull> fkaa: Sorry, not sure what the best solution is
[21:12:19] <talchas> yeah, something like split-that-keeps-separators would be the simplest
[21:12:22] *** Quits: Codenator (Mibbit@moz-d18.qnr.198.81.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:12:22] <talchas> but that doesn't exist
[21:12:32] <panicbit> duesenfranz_: The function that waits for input has a timeout which is probably why you can't use escape in certain circumstances
[21:13:16] <panicbit> duesenfranz_: I'm not sure if the exact reason though
[21:13:20] <panicbit> of
[21:13:45] <Perceptes> tomprogrammer: thank you
[21:13:50] <duesenfranz_> panicbit: yeah don't worry, this seems to be such a edge-case that lilyterm just crashed
[21:13:50] *** Joins: dik_dak (dik_dak@moz-vnp.h56.170.161.IP)
[21:14:42] <panicbit> duesenfranz_: Oh dear...
[21:14:47] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:14:50] <FreeFull> talchas: I'm thinking some sort of .group_by(...)
[21:15:21] <panicbit> duesenfranz_: At least you don't get a blue screen with a smiley :P
[21:15:36] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[21:15:39] *** Quits: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk) (Ping timeout: 121 seconds)
[21:15:46] <FreeFull> talchas: It'd take a closure that takes two characters, and returns false on the boundaries where you want the split
[21:15:54] *** Quits: new_one (new_one@moz-ht5.s43.42.128.IP) (Ping timeout: 121 seconds)
[21:16:05] <talchas> FreeFull: yeah, that would work too
[21:16:35] <FreeFull> It can be written by hand, but that's not as nice
[21:16:54] <talchas> you can do itertools' group_by with a return of RL vs Numeric
[21:17:01] <talchas> and then process the rs and ls separately
[21:17:07] *** Joins: espadrine (tyl@moz-l019mn.fbx.proxad.net)
[21:17:19] <FreeFull> Itertools is pretty handy
[21:17:23] *** Quits: espadrine (tyl@moz-l019mn.fbx.proxad.net) (Connection closed)
[21:17:28] *** Joins: espadrine (tyl@moz-l019mn.fbx.proxad.net)
[21:17:37] <talchas> or even have them separately with rl returning NaN-equivalent
[21:17:42] *** Joins: grncdr (Adium@moz-m1g.e47.90.95.IP)
[21:18:11] <FreeFull> You basically want a simple tokenizer
[21:18:14] <talchas> you still end up with Vec<char> rather than str though, which is unavoidable without putting it on str I think
[21:18:20] *** Joins: joneshf-laptop (joneshf@moz-p7d.7v4.150.168.IP)
[21:18:31] *** Joins: kazimuth (james@moz-m67.l4o.189.18.IP)
[21:18:47] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[21:19:03] <FreeFull> There aren't convenient methods of parsing stuff from Vec<char>
[21:19:09] <talchas> yeah
[21:19:21] *** Quits: achanda (achanda@moz-fr1.spq.217.162.IP) (Connection closed)
[21:19:33] <talchas> well, in terms of convience, turning it into a String and then parsing isn't bad
[21:19:39] <talchas> it's just more mallocs for the lulz
[21:19:57] <xrl> I am using an iterate to find the first match in a vector. I also want to "drain" the rest of the iterator values in to another vector. Is there an easy way to do that or should i use a for loop and build up the second vector?
[21:20:09] *** Joins: achanda (achanda@moz-fr1.spq.217.162.IP)
[21:20:25] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Ping timeout: 121 seconds)
[21:20:58] <bluss> xrl: use Vec::extend to put iterator elements into another exisiting vector
[21:21:03] *** Parts: sinistersnare (Mibbit@moz-vj2.mkr.2.129.IP) ()
[21:21:35] <FreeFull> .find(...) advances the iterator only as far as it takes to get a result
[21:21:40] *** Quits: hjr3 (hradtke@moz-pp9.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:21:44] *** Quits: grncdr (Adium@moz-m1g.e47.90.95.IP) (Ping timeout: 121 seconds)
[21:21:55] *** Joins: grncdr (Adium@moz-m1g.e47.90.95.IP)
[21:22:00] <xrl> bluss: nice! thanks
[21:22:30] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[21:22:50] <bluss> xrl: .collect() on the iterator if you want to make a new vector
[21:23:02] *** Quits: Samuel (Mibbit@moz-qa1.87k.64.129.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:23:22] <meh> is there any sane way to handle bitfields?
[21:23:51] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[21:24:02] <mbrubeck> fkaa: By the way, http://limpet.net/mbrubeck/2014/08/11/toy-layout-engine-2.html shows one approach to this sort of simple parsing.
[21:24:44] <fkaa> ooh, thanks
[21:24:53] <mbrubeck> meh: http://doc.rust-lang.org/rustc_bitflags/macro.bitflags!.html - scroll down for docs
[21:25:13] *** Quits: jaen (jaen@moz-ifmik2.copit.pl) (Connection closed)
[21:26:10] <fkaa> playbot: let foo = "bar".to_string(); foo.length()
[21:26:11] -playbot- <anon>:9:42: 9:50 error: type `collections::string::String` does not implement any method in scope named `length`
[21:26:12] -playbot- <anon>:9         let foo = "bar".to_string(); foo.length()
[21:26:12] -playbot- output truncated; full output at: http://bit.ly/1QV6DOF
[21:26:18] <mbrubeck> saml: You can change fields in a struct if it is assigned to a mutable varable.
[21:26:24] *** Quits: Guest67 (textual@moz-8aocg9.ri.cox.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:26:29] <mbrubeck> oops, meant for Samuel but he is gone
[21:26:34] <meh> mbrubeck, that looks like a bit map, I need bitfields
[21:26:40] <mbrubeck> oh, sorry
[21:27:04] *** Quits: loyd (loyd@moz-uft.32f.108.213.IP) (Ping timeout: 121 seconds)
[21:27:10] <saml> yah
[21:27:28] <saml> mutable is good because efficient assembly
[21:27:36] <mbrubeck> meh: crates.io has https://github.com/dzamlo/rust-bitfield (which looks like it might be a bit out of date)
[21:28:13] *** Joins: newbiz (newbiz@moz-9m0cr9.fbxo.proxad.net)
[21:28:15] <meh> mbrubeck, eh, I'll do it by hand, thanks tho
[21:28:25] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[21:28:46] *** Quits: newbiz (newbiz@moz-9m0cr9.fbxo.proxad.net) (Connection closed)
[21:29:11] <lahwran> what happened to the wiki?
[21:29:31] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[21:29:59] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[21:30:03] *** Joins: new_one (new_one@moz-7p8.537.42.128.IP)
[21:30:04] <mbrubeck> lahwran: Licensing concerns, IIRC
[21:30:12] <lahwran> of what?
[21:30:18] <Ms2ger> Huh?
[21:30:19] <mbrubeck> lahwran: See also https://github.com/rust-lang/rust-wiki-backup
[21:30:28] <lahwran> I saw it, but it doesn't explain why it's gone
[21:30:37] *** Quits: moa (Cedric@moz-h3f7lu.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[21:31:30] *** Joins: naerbnic (naerbnic@moz-q2p.4ra.239.216.IP)
[21:31:48] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:31:51] <mbrubeck> lahwran: https://github.com/rust-lang/rust/issues/5831
[21:32:11] *** Quits: dik_dak (dik_dak@moz-vnp.h56.170.161.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:32:16] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[21:32:58] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[21:32:58] *** ChanServ sets mode: +o erickt
[21:33:36] *** Joins: q66[lap] (q66@moz-ifoatn.range165-120.btcentralplus.com)
[21:34:02] *** Quits: q66[lap] (q66@moz-ifoatn.range165-120.btcentralplus.com) (Quit: Textual IRC Client: www.textualapp.com)
[21:34:19] *** Joins: dik_dak (dik_dak@moz-vnp.h56.170.161.IP)
[21:34:51] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[21:34:57] *** Joins: hjr3 (hradtke@moz-pp9.av4.169.69.IP)
[21:36:19] *** Quits: gopar (gopar@moz-5039uj.ca.comcast.net) (Connection closed)
[21:36:34] *** Quits: dschatzberg (dschatz@moz-0i8cmd.bu.edu) (Quit: Leaving)
[21:36:59] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[21:37:30] <seanmonstar> Ms2ger Oh Yea, I'll get right on that
[21:37:55] *** Quits: kazimuth (james@moz-m67.l4o.189.18.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:37:57] <bstrie> aturon: requesting entry
[21:38:38] <XMPPwocky> little-known fact: aturon is actually a door
[21:39:04] *** Quits: ascarter (ascarter@moz-705hf8.wa.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:39:12] *** Quits: tadh (quassel@moz-iq6hhs.biz.rr.com) (Connection closed)
[21:39:21] <bstrie> aturon: nm I used my wiles
[21:39:34] *** Quits: lawki (lawki@moz-8t2ukr.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[21:40:03] <Murarth> The German word for "door" is "tür." Coincidence? I think not.
[21:41:25] <Ms2ger> bstrie, Andrew Wiles?
[21:42:04] *** Joins: Jesse (jruderman@moz-pqc1f5.ca.comcast.net)
[21:42:30] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[21:42:35] *** Quits: zzmp (zzmp@moz-9v3lqv.12ul.lrlq.5500.2604.IP) (A TLS packet with unexpected length was received.)
[21:43:14] *** Quits: errordeveloper (ilya@moz-rfe.3fh.206.90.IP) (Ping timeout: 121 seconds)
[21:43:52] *** Quits: ahal (ahal@moz-b8e0a0.cpe.pppoe.ca) (A TLS packet with unexpected length was received.)
[21:44:26] *** Quits: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[21:44:33] *** Joins: zzmp (zzmp@moz-rjsk8r.12ul.lrlq.5500.2604.IP)
[21:45:20] *** Quits: zzmp (zzmp@moz-rjsk8r.12ul.lrlq.5500.2604.IP) (A TLS packet with unexpected length was received.)
[21:45:38] *** Quits: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[21:45:46] *** Quits: saml (saml@moz-0pt9vd.cst.lightpath.net) (Quit: Leaving)
[21:45:55] <bstrie> Ms2ger: I didn't ask his name sorry
[21:45:59] *** Joins: becker (Mibbit@moz-brlqn9.tukw.qwest.net)
[21:47:07] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[21:48:01] <new_one> did the logger bot crash? https://botbot.me/mozilla/rust
[21:49:39] <zamabe> It never reconnected after the irc update
[21:49:42] <zamabe> panic
[21:49:49] <zamabe> ircd*
[21:49:58] *** Joins: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com)
[21:50:05] *** Quits: gp5st (jim@moz-k130hq.east.verizon.net) (Quit: Leaving.)
[21:51:26] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[21:51:57] *** Joins: gp5st (jim@moz-k130hq.east.verizon.net)
[21:52:58] <fkaa> mbrubeck: how to peek into Lines?
[21:53:16] *** Quits: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de) (Client exited)
[21:53:50] <mbrubeck> fkaa: `lines.peekable()` will return a Peekable<Lines>
[21:54:13] <fkaa> wont that take ownership of lines?
[21:55:00] <fkaa> i use lines later on
[21:55:32] <panicbit> fkaa: Just use the peekable iterator instea dof lines then
[21:55:44] <bstrie> new_one: I'll check it out
[21:55:57] <fkaa> oh, peekable has the same functions?
[21:56:21] <panicbit> fkaa: It implements Iterator as well
[21:57:46] <panicbit> fkaa: See http://doc.rust-lang.org/std/iter/struct.Peekable.html
[21:57:51] <mbrubeck> fkaa: Yeah, just `let lines = lines.peekable()`
[21:58:24] <maximih> can someone help with this code: http://is.gd/jGn1YT. I get `v` does not live long enough, note: reference must be valid for the static lifetime... How can I fix it? I had a similar code working fine with thread::scoped
[21:58:34] *** Quits: zzing (textual@moz-jucm1n.cpe.distributel.net) (Ping timeout: 121 seconds)
[21:58:37] *** Joins: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se)
[21:59:07] *** Joins: peeves (Mibbit@moz-7vdat2.adsl.xs4all.nl)
[21:59:38] <cholcombe> rust: how does one access a struct with the modifier *mut ?
[21:59:58] <naerbnic> cholcombe: You have to do it in an unsafe block
[22:00:13] *** Joins: zzmp (zzmp@moz-vt5a07.12ul.lrlq.5500.2604.IP)
[22:00:20] <naerbnic> cholcombe: *mut is a raw pointer, so the type system makes no guarantees about it being present or not
[22:00:24] <cholcombe> ok i'm in unsafe. is there some kind of special way to call it besides name.field?
[22:00:32] <talchas> maximih: well, the example can use into_iter, which works, but your real code might not be able to
[22:00:36] *** Joins: zzing (textual@moz-jucm1n.cpe.distributel.net)
[22:00:40] <naerbnic> cholcombe: I think you have to explicitly dereference it
[22:00:40] *** Joins: p1start (p1start@moz-nftjhe.org)
[22:01:01] <cholcombe> with *? 
[22:01:01] <cholcombe> that's what i'm stuck on.
[22:01:03] <naerbnic> cholcombe: Something like (*name).field (possibly without the parens)
[22:01:11] <mbrubeck> maximih: Here's one way without using into_iter: http://is.gd/P3Zb7B
[22:01:11] <talchas> maximih: in which case you can Arc the Vec and share those
[22:01:12] *** Quits: hjr3 (hradtke@moz-pp9.av4.169.69.IP) (Ping timeout: 121 seconds)
[22:01:20] <mbrubeck> I *think* that's safe?
[22:01:23] <naerbnic> cholcombe: To my understanding, that should work
[22:01:32] <naerbnic> cholcombe: If not, someone else can pipe in
[22:01:33] <maximih> talchas: I only need to read the vec, not to mutate it
[22:01:45] <maximih> talchas: so why should I need Arc?
[22:01:50] <talchas> maximih: Arc is about sharing, not mutability
[22:01:50] *** Joins: nerdopoly (Mibbit@moz-ouaagf.range86-143.btcentralplus.com)
[22:01:51] <cholcombe> ok
[22:02:20] <talchas> mbrubeck's uses unsafe but is correct as long as you join all of them and none of the threads panic
[22:02:31] <maximih> talchas: how come it was working with scoped threads? do you know?
[22:02:50] <talchas> (in which case the .unwrap() I think will panic, so that would be fine too)
[22:03:12] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[22:03:16] <talchas> maximih: i is a reference to v, and spawn() threads cannot refer to anything that isn't 'static
[22:03:17] <mbrubeck> maximih: scoped threads don't require 'static because (in theory) you know how long they can live.
[22:03:35] <talchas> because test() could return and destroy v before the thread exits
[22:03:36] *** Joins: coryforsyth (coryforsyth@moz-6rclqc.fios.verizon.net)
[22:04:12] <talchas> scoped() had lifetime magic to explicitly make sure the thread was joined before anything it referenced went out of scope
[22:04:13] *** Joins: idk_erikson (quassel@moz-nto6je.hsi04.unitymediagroup.de)
[22:04:33] <maximih> talchas, mbrubeck: thanks. It makes sense!
[22:04:49] <cholcombe> naerbnic: it's odd.  when i dereference it, cargo build says my field doesn't exist.  it clearly does though :)
[22:04:55] <talchas> but this turned out to be buggy in certain semi-contrived circumstances, so it was made unstable while things were worked out
[22:05:25] *** Quits: joneshf-laptop (joneshf@moz-p7d.7v4.150.168.IP) (Ping timeout: 121 seconds)
[22:05:26] <maximih> talchas: I saw some discussions about it :)
[22:05:31] <cholcombe> naerbnic: oh.. i think it's the private visibility thing.  I'm reading the docs now
[22:05:37] *** Joins: lawki (lawki@moz-8t2ukr.abo.wanadoo.fr)
[22:05:54] *** Joins: adam__ (adam@moz-ouaagf.range86-143.btcentralplus.com)
[22:05:55] <maurer> Idle curiosity-rust to js compiler like ghcjs or js_of_ocaml?
[22:05:59] <maurer> *is there
[22:06:07] *** Quits: adam__ (adam@moz-ouaagf.range86-143.btcentralplus.com) (Quit: leaving)
[22:06:20] *** Quits: tigrou3tac (fabien@moz-gdonfo.fbx.proxad.net) (Ping timeout: 121 seconds)
[22:06:37] <mbrubeck> maurer: Some people have worked / are working on getting Rust to work with emscripten
[22:06:52] *** Quits: dmac_ (dmac@moz-4kcd1c.ca.comcast.net) (Ping timeout: 121 seconds)
[22:06:59] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:07:36] <cholcombe> naerbnic: nope :(  i don't know what's wrong
[22:07:36] *** Joins: hjr3 (hradtke@moz-dmp.av4.169.69.IP)
[22:07:46] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[22:07:48] <maurer> mbrubeck: cool
[22:08:00] <mbrubeck> maurer: see https://github.com/AerialX/cargo-build and https://www.reddit.com/r/rust/comments/2ylzkx/a_game_written_with_piston_running_on_the_web_via/
[22:08:41] *** Quits: nerdopoly (Mibbit@moz-ouaagf.range86-143.btcentralplus.com) (Quit: http://www.mibbit.com ajax IRC Client)
[22:08:51] *** Quits: idk_erikson (quassel@moz-nto6je.hsi04.unitymediagroup.de) (Ping timeout: 121 seconds)
[22:09:17] *** Joins: Harry (Mibbit@moz-944vti.ga.comcast.net)
[22:09:23] <naerbnic> cholcombe: http://doc.rust-lang.org/1.0.0-beta.3/book/unsafe-code.html#raw-pointers
[22:09:39] <naerbnic> cholcombe: I think that area has a few examples of code for accessing/converting raw pointers.
[22:09:42] *** Quits: colinsurprenant (colin@moz-rmn4e2.169.electronicbox.net) (Client exited)
[22:09:53] <cholcombe> awesome :)
[22:09:59] *** Quits: _petr``` (petr@moz-2pi.7q8.248.178.IP) (Ping timeout: 121 seconds)
[22:10:06] *** Quits: TheLemonMan (lemonboy@moz-134rgj.26-151.libero.it) (Quit: "It's now safe to turn off your computer.")
[22:10:33] *** Joins: nerdopoly (nerdopoly@moz-ouaagf.range86-143.btcentralplus.com)
[22:10:42] *** Quits: Racquetball (namestolenw@moz-dnlovt.cpe.twtelecom.net) (Ping timeout: 121 seconds)
[22:11:15] <becker> http://is.gd/3C2UNo I figued out why line 8 does not work locally. I need to set the opt-level greater then 0. why does -O0 fail on line 8 but not line 6. I am very new to rust. thank you.
[22:12:08] <bstrie> becker: rust checks for overflow on debug builds
[22:12:09] <mbrubeck> becker: Overflow for arithmetic operators is undefined behavior in current Rust.  In debug builds, overflow will cause an assert.
[22:12:20] <cholcombe> naerbnic: one thought i had.  do the same rust ownership semantics apply to FFI functions?  Maybe the problem is I pass my struct reference into a C function and now it's owned
[22:12:26] <bstrie> mbrubeck: not "undefined behavior", "undefined return value" :)
[22:12:32] <mbrubeck> yeah, sorry :)
[22:12:38] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:12:41] <bstrie> demons will not fly out of your nose, at least
[22:13:32] <mbrubeck> becker: Use `1u32.wrapping_sub(x)` if you want overflow to wrap around.
[22:13:34] <naerbnic> cholcombe: Well, since C functions only take raw pointers (again, AFAIK), then they can’t borrow in the borrow-checker sense of the term.
[22:13:49] <cholcombe> ok that was my thought as well but i wasn't sure
[22:13:49] <mbrubeck> see also http://doc.rust-lang.org/std/num/struct.Wrapping.html
[22:13:53] <naerbnic> cholcombe: So to my understanding, they shouldn’t cause a compile-time error because of that
[22:14:16] <naerbnic> cholcombe: Can you send a pastebin of the code in question, or is it too long?
[22:14:21] <cholcombe> sure
[22:14:25] <cholcombe> i'd love another pair of eyes
[22:14:36] *** Quits: kmicu (kmicu@moz-uga.edn.218.91.IP) (Client exited)
[22:14:46] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[22:14:48] <hoverbear> cholcombe: Where would you put them?
[22:14:54] <cholcombe> haha
[22:15:36] <cholcombe> http://fpaste.org/217697/  Line # 53 throws an error about the field not existing
[22:15:59] <becker> thanks  mbrubeck. line 6 seems to be overflowing just fine. I was just playing with the different types and found the error to be odd and when it worked in the playpen I was confused.  
[22:16:01] <cholcombe> if i comment that line it works but i'm a n00b so i don't entirely know what i'm doing
[22:16:19] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[22:16:43] *** Joins: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net)
[22:16:49] <talchas> cholcombe: (*cluster_stat).kb_avail
[22:16:58] <cholcombe> ah!
[22:17:01] <cholcombe> you have to cast it?
[22:17:17] <naerbnic> cholcombe: It’s not a cast, just order of operations
[22:17:25] <naerbnic> I think *name.field === *(name.field)
[22:17:35] *** Quits: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net) (Client exited)
[22:17:42] <cholcombe> ah you guys are awesome! it compiles
[22:18:00] <cholcombe> just a bunch of warnings about stupid stuff i'm doing
[22:18:17] *** Parts: peeves (Mibbit@moz-7vdat2.adsl.xs4all.nl) ()
[22:18:30] <cholcombe> talchas: Cluster usage: 257028520   :)!!
[22:18:31] *** Quits: hjr3 (hradtke@moz-dmp.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:18:34] <naerbnic> cholcombe: Just a piece of advice: Warnings are your friends :-)
[22:18:36] <cholcombe> it worked
[22:18:41] <cholcombe> oh i know i'm going to clean them up
[22:18:55] <cholcombe> i probably shouldn't have written this as my hello world in rust program ;) haha
[22:19:17] <Harry> Anyone mind to explain this? http://pastebin.com/YQxcNkfj Since you can't return a `_` where it expects `T`, then is the only option to return a type you know and have it be cast?
[22:19:17] *** Quits: grncdr (Adium@moz-m1g.e47.90.95.IP) (Quit: Leaving.)
[22:19:24] *** Quits: duesenfranz_ (jona@moz-711djm.tirol.surfer.at) (Client exited)
[22:19:34] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[22:19:36] *** Quits: essem2 (Thunderbird@moz-f9p.4ol.7.74.IP) (Client exited)
[22:20:14] *** bentley|away is now known as bentley
[22:20:15] <bluss> Harry: you need to use a trait or some other way to create that T value
[22:20:48] <bluss> Harry: fn new<T>() -> T  is a generic signature but 10 is a specific value. of integer type i32 by default in fact.
[22:20:50] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[22:21:13] <bluss> Harry: we don't have generic integer literals unfortunately. If we had, they would require a trait too
[22:21:31] <jshs> becker: what actually happens in that code is that x's type is inferred to be u32, and the literal -2 is silently converted to its unsigned representation
[22:21:39] <jshs> which is 4294967294
[22:21:55] *** Joins: w4ffles (w4ffles_@moz-34v1r4.res.rr.com)
[22:21:57] <jshs> you can add 1 to that without overflowing
[22:22:08] <fkaa> how do you parallelize .chunks()?
[22:22:58] <jshs> but subtracting it from 1 obviously does overflow in u32
[22:23:19] <emilk> is there still no Vec::from_elem?
[22:23:29] *** Joins: hjr3 (hradtke@moz-dmp.av4.169.69.IP)
[22:23:34] *** Quits: Guest58 (textual@moz-70hlaj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:23:51] <jshs> playbot: vec![42; 5]  // emilk
[22:23:53] -playbot- [42, 42, 42, 42, 42]
[22:23:58] <becker> jshs: i tried setting x= -2u32; and it didnt link that
[22:24:04] *** Quits: santiago (santiago@moz-ro2mm9.res.rr.com) (Quit: Computer has gone to sleep.)
[22:24:23] <archshift> heh, storing the value of a dereferenced pointer in a non-unsafe variable required quite the workaround
[22:24:36] *** Quits: Brochacho (alberto@moz-p39.q5h.156.131.IP) (Client exited)
[22:25:44] <jshs> becker: yeah, for some reason unary negation of unsigned integers is feature-gated. you can write `-2i32 as u32`
[22:26:06] *** Joins: iiixtiii (ixti@moz-i3d.dae.119.188.IP)
[22:26:09] <becker> jshs thanks! 
[22:27:11] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (Quit: Leaving...)
[22:28:02] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Connection closed)
[22:28:35] *** Quits: __ixti__ (ixti@moz-i3d.dae.119.188.IP) (Ping timeout: 121 seconds)
[22:29:02] *** Joins: orangeshark (erik@moz-oo48fd.44tj.56ot.0306.2602.IP)
[22:29:03] <emilk> jshs: oh, macros... thanks
[22:29:24] *** Quits: fkaa (tundmatu@moz-501od2.business.telia.com) (Ping timeout: 121 seconds)
[22:29:25] <emilk> I'm not sure I like hiding functionality in macros
[22:29:39] *** Joins: agjacome_ (agjacome@moz-2na505.dynamic.jazztel.es)
[22:29:43] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[22:29:53] *** Quits: dik_dak (dik_dak@moz-vnp.h56.170.161.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:30:02] *** Joins: gopar (gopar@moz-5039uj.ca.comcast.net)
[22:30:05] *** jdm is now known as jdm|away
[22:30:09] *** Joins: arBmind1 (Andreas@moz-283vr7.dyn.telefonica.de)
[22:30:13] *** Quits: djcb (user@moz-nqdj21.elisa-laajakaista.fi) (Connection closed)
[22:30:31] *** Joins: brycefisher (chatzilla@moz-qbdpvi.office.zencoderdns.net)
[22:30:41] <Harry> bluss: So are you talking about something like: "trait BaseNum { fn new(val: Self) -> Self; } impl BaseNum for i32 { fn new(val: i32) -> i32 { val } }" I can pastebin that if you can't read it
[22:30:43] *** Quits: brycefisher (chatzilla@moz-qbdpvi.office.zencoderdns.net) (Quit: ChatZilla 0.9.91.1 [Firefox 39.0a2/20150428004008])
[22:31:08] <bluss> Harry: something that maps from a type you can input in new to the type you need
[22:31:20] <bluss> Harry: maybe u32 -> Self  for example
[22:31:41] *** Quits: arBmind (Andreas@moz-goolk9.adsl.alicedsl.de) (Ping timeout: 121 seconds)
[22:31:50] <bluss> fn new<T: BaseNum>() -> T { BaseNum::new(10) }  would then work
[22:31:56] *** Joins: dik_dak (dik_dak@moz-vnp.h56.170.161.IP)
[22:32:10] <bluss> in fact there are such traits in the num crate on crates.io, I think
[22:32:12] *** Quits: agjacome (agjacome@moz-ma9sfa.dynamic.jazztel.es) (Ping timeout: 121 seconds)
[22:32:14] <bluss> but not in libstd itself
[22:32:31] *** Quits: dik_dak (dik_dak@moz-vnp.h56.170.161.IP) (Quit: Textual IRC Client: www.textualapp.com)
[22:32:39] *** Joins: mib_axwo77 (Mibbit@moz-8otf3a.fbx.proxad.net)
[22:32:42] *** Parts: mib_axwo77 (Mibbit@moz-8otf3a.fbx.proxad.net) ()
[22:32:46] *** Quits: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:32:58] *** Joins: Savago (Savago@moz-qao.tdl.56.172.IP)
[22:32:58] *** Quits: coryforsyth (coryforsyth@moz-6rclqc.fios.verizon.net) (Client exited)
[22:33:59] *** Joins: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net)
[22:34:27] *** bentley is now known as bentley|away
[22:34:39] *** Joins: Guest__ (textual@moz-rtn.fg7.77.192.IP)
[22:35:02] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[22:35:46] <benh> is thread::catch_panic nestable?
[22:35:58] <bstrie> benh: only one way to find out
[22:36:06] *** jdm|away is now known as jdm
[22:36:50] *** Joins: lenstr (lenstr@moz-vho.vju.25.171.IP)
[22:36:55] <Sgeo_> Is RustByExample supposed to be up-to-date? Because I saw a uint in there
[22:38:04] *** Joins: _petr``` (petr@moz-2pi.7q8.248.178.IP)
[22:38:15] *** Quits: Riastradh (riastradh@moz-c3lvsc.torservers.net) (Ping timeout: 121 seconds)
[22:38:28] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[22:38:49] <bluss> benh: it uses the try function which is famously nonnestable
[22:39:06] <bluss> benh: so that seems strange
[22:39:20] <benh> yeah, that's what i was thinking
[22:39:28] <benh> currently updating my rust to play with it :P
[22:39:36] *** Quits: lenstr (lenstr@moz-vho.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[22:39:58] *** Quits: srh (User@moz-mb8h9g.ca.charter.com) (Quit: Leaving)
[22:40:29] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[22:40:29] *** ChanServ sets mode: +o erickt
[22:40:40] *** Quits: kamer (alewkowicz@moz-ie6.mg5.5.163.IP) (Ping timeout: 121 seconds)
[22:41:11] <kalail> rust makes me want to quit my day job
[22:41:15] <kalail> :)
[22:41:43] <erickt> Perceptes: serde_macros only compiles with nightly at the moment
[22:41:53] <erickt> Perceptes: but it's currently broken right now :(
[22:42:07] *** Quits: Harry (Mibbit@moz-944vti.ga.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[22:42:20] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[22:42:44] *** Joins: bombless (_@moz-dtnvvc.0v2u.0v40.0da8.2001.IP)
[22:42:57] <Perceptes> erickt: aww :( in any case, looking forward to it a lot since it has a feature I want that rustc-serialize does not! (the rename attribute for struct fields)
[22:43:05] *** Joins: ascarter (ascarter@moz-705hf8.wa.comcast.net)
[22:43:05] *** Quits: becker (Mibbit@moz-brlqn9.tukw.qwest.net) (Quit: http://www.mibbit.com ajax IRC Client)
[22:43:36] *** Joins: kamer (alewkowicz@moz-ie6.mg5.5.163.IP)
[22:45:50] *** Quits: hjr3 (hradtke@moz-dmp.av4.169.69.IP) (Ping timeout: 121 seconds)
[22:47:11] *** Quits: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se) (Ping timeout: 121 seconds)
[22:48:11] *** Joins: dawehner (quassel@moz-h829oe.hsi6.kabel-badenwuerttemberg.de)
[22:48:13] *** Joins: hjr3 (hradtke@moz-pp9.av4.169.69.IP)
[22:48:39] *** Quits: jshs (jshs@moz-1b1ct2.dip0.t-ipconnect.de) (Client exited)
[22:49:10] *** Quits: _petr``` (petr@moz-2pi.7q8.248.178.IP) (Ping timeout: 121 seconds)
[22:49:58] *** Quits: junseok (junseok@moz-pbo4ce.ca.comcast.net) (Ping timeout: 121 seconds)
[22:50:00] *** Joins: iamtyler (Adium@moz-uhc.i3g.162.66.IP)
[22:52:13] *** Quits: dawehner (quassel@moz-h829oe.hsi6.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[22:53:40] *** Quits: ascarter (ascarter@moz-705hf8.wa.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:53:59] *** Quits: willem (willem@moz-facs2s.dynamic.upc.nl) (Quit: leaving)
[22:54:46] *** Quits: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP) (Ping timeout: 121 seconds)
[22:55:00] <emilk> hum.... cargo rebuilds some of the crates I depend on on every build
[22:55:40] *** Joins: Racquetball (namestolenw@moz-nof0ce.res.rr.com)
[22:56:24] <mbrubeck> emilk: When that happens, it's a bug in cargo.  (Assuming there's no problem with the clock and timestamps on your computer.)
[22:57:27] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[22:57:39] *** Joins: skade (skade@moz-iiakqu.dip0.t-ipconnect.de)
[22:57:52] <bluss> emilk: using any plugin?
[22:58:01] *** Joins: lov2cod (Adium@moz-9utvl5.frokca.sbcglobal.net)
[22:58:10] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[22:58:29] <emilk> plugin?
[22:58:37] <emilk> I'm guessing not
[22:59:27] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Quit: )
[22:59:28] *** Quits: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[22:59:56] *** Quits: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net) (Ping timeout: 121 seconds)
[22:59:56] *** Quits: mkpankov (mkpankov@moz-ppg.0jj.23.84.IP) (Quit: Bye)
[23:00:59] *** Joins: krdln (krdln@moz-ohe9vg.dynamic.chello.pl)
[23:01:05] *** Quits: acgtyrant (acgtyrant@moz-297.8em.108.218.IP) (Connection closed)
[23:01:37] *** Quits: kamer (alewkowicz@moz-ie6.mg5.5.163.IP) (Ping timeout: 121 seconds)
[23:01:57] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[23:02:03] *** Quits: lov2cod (Adium@moz-9utvl5.frokca.sbcglobal.net) (Ping timeout: 121 seconds)
[23:02:09] *** Joins: mkpankov (user@moz-ppg.0jj.23.84.IP)
[23:02:11] *** Quits: iamtyler (Adium@moz-uhc.i3g.162.66.IP) (Quit: Leaving.)
[23:02:16] *** Quits: debu (debu@moz-6kgmmq.adsl.alicedsl.de) (Ping timeout: 121 seconds)
[23:02:23] <woboats> is there any crate with a method for getting the binary representation of a floating point as an int?
[23:03:07] *** Quits: areski (areski@moz-aehvq9.user.ono.com) (Ping timeout: 121 seconds)
[23:03:15] <krdln> woboats: You can use std::mem::transmute
[23:03:23] *** Quits: mkpankov (user@moz-ppg.0jj.23.84.IP) (A TLS packet with unexpected length was received.)
[23:03:27] *** Joins: iamtyler (Adium@moz-uhc.i3g.162.66.IP)
[23:03:46] <woboats> krdln, ah, thanks much.
[23:04:02] *** Joins: mkpankov (user@moz-ppg.0jj.23.84.IP)
[23:04:15] *** Joins: futile (felix@moz-cmcd12.unity-media.net)
[23:04:29] <bluss> emilk: ok, I thought I had seen that
[23:04:42] <bluss> emilk: (extra rebuilds with plugins)
[23:05:05] <emilk> nope, just some piston-related deps
[23:05:17] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[23:06:28] *** Quits: chmanchester (Chris@moz-l9702a.2rkg.9kg1.0101.2620.IP) (Ping timeout: 121 seconds)
[23:06:52] *** Quits: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net) (Connection closed)
[23:07:42] *** Quits: Douman (Douman@moz-m0aveq.dynamic.mts-nn.ru) (Quit: )
[23:07:44] *** Quits: maurer (maurer@moz-7i6vs5.ECE.CMU.EDU) (A TLS packet with unexpected length was received.)
[23:08:13] *** Joins: srh (User@moz-mb8h9g.ca.charter.com)
[23:08:16] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[23:08:16] *** ChanServ sets mode: +o erickt
[23:08:19] *** Parts: krdln (krdln@moz-ohe9vg.dynamic.chello.pl) ()
[23:08:45] *** Quits: Porkepix (Porkepix@moz-e1bv2v.rev.sfr.net) (Quit: )
[23:09:31] *** Joins: Porkepix (Porkepix@moz-e1bv2v.rev.sfr.net)
[23:11:39] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[23:11:42] *** Joins: Kxepal (Miranda@moz-40smf2.pppoe.mtu-net.ru)
[23:12:12] *** Quits: Jesse (jruderman@moz-pqc1f5.ca.comcast.net) (Client exited)
[23:12:28] *** Quits: zzmp (zzmp@moz-vt5a07.12ul.lrlq.5500.2604.IP) (A TLS packet with unexpected length was received.)
[23:12:40] *** Joins: ascarter_ (ascarter@moz-705hf8.wa.comcast.net)
[23:13:40] *** Joins: krdln (krdln@moz-ohe9vg.dynamic.chello.pl)
[23:14:30] *** Joins: choplin (choplin@moz-qspcpl.t6mc.g9m6.001a.240d.IP)
[23:14:39] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[23:16:23] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[23:16:23] *** ChanServ sets mode: +o erickt
[23:17:06] *** Joins: Guest67 (textual@moz-gfs9v0.fios.verizon.net)
[23:19:16] <Yen> for purposes of unsafe code, is there a way to allocate an object on the heap, and later free it, without using Box?
[23:19:24] <Ms2ger> libc::malloc?
[23:19:58] *** Quits: srh (User@moz-mb8h9g.ca.charter.com) (Quit: Leaving)
[23:20:05] *** Quits: new_one (new_one@moz-7p8.537.42.128.IP) (Ping timeout: 121 seconds)
[23:20:10] <reem> Yen: std::rt::heap::{allocate, deallocate}
[23:20:35] <reem> you probably shouldn’t use libc::{malloc, free}
[23:20:38] <Yen> oh wait
[23:20:55] <Yen> if I take (&mut *my_box)
[23:21:09] *** Quits: Guest__ (textual@moz-rtn.fg7.77.192.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:21:10] *** Quits: GaryOak_ (GaryOak_@moz-etoj16.hfc.comcastbusiness.net) (Connection closed)
[23:21:11] *** Joins: ssammy (Mibbit@moz-reablc.res.rr.com)
[23:21:14] <Yen> that gives me the address of the box's contents?
[23:21:20] <reem> Yes
[23:21:25] *** Quits: Guest67 (textual@moz-gfs9v0.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:21:27] <reem> but be careful, since the box will still drop and deallocate its contents
[23:21:29] <ssammy> hi rust peeps
[23:21:35] <Yen> right
[23:21:40] <reem> if you pass that pointer off to a C function as a raw pointer, which is what I presume you are doing
[23:21:45] <reem> or something like that
[23:21:48] *** Quits: zzing (textual@moz-jucm1n.cpe.distributel.net) (Ping timeout: 121 seconds)
[23:21:53] *** Joins: achanda_ (achanda@moz-fr1.spq.217.162.IP)
[23:21:55] <reem> the usual thing to do is transmute Box<T> directly to *mut T
[23:22:16] <Yen> I was trying some unsafe code, wherin I have a HashMap of objects, was then using pointers directly to those objects
[23:22:26] <reem> that has the nice side effect of confirming you own the box and forgetting it in the process
[23:22:30] <reem> you then transmute back to Box<T> to free it
[23:22:32] <Yen> this didn't actually work, though, because apparently HashMap will rearrange things internally from time to time?
[23:22:39] <reem> Yen: HashMap reallocates
[23:22:43] <reem> on growth
[23:22:46] <Yen> makes sense
[23:22:54] <reem> Yen: There’s a reason the borrow checker stops you from doing that safely ;)
[23:23:15] *** Quits: choplin (choplin@moz-qspcpl.t6mc.g9m6.001a.240d.IP) (Connection closed)
[23:23:24] <ssammy> rust 1.0 is out soon?
[23:23:26] <Yen> so instead if I have a HashMap of Boxes, those boxes could be re-arranged, and pointers to the box contents would be stable?
[23:23:31] <reem> one trick is to have HashMap<K, Box<V>> - you can then get *mut Vs and even if the HashMap reallocates it will only move the Box not the inner data
[23:23:33] *** Joins: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk)
[23:23:36] <Yen> (until the box deallocates, of course)
[23:23:44] <Yen> ah cool
[23:24:00] *** Joins: niconii (nicole@moz-5e9nqt.frgo.qwest.net)
[23:24:04] *** Quits: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[23:24:22] <reem> you can write an append-only HashMap with &self insertion by using some unsafe code and wrapping HashMap<K, Box<V>>
[23:24:38] <bluss> there's an unstable function for Box -> *mut T  http://doc.rust-lang.org/std/boxed/fn.into_raw.html
[23:24:42] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[23:25:11] *** Quits: achanda (achanda@moz-fr1.spq.217.162.IP) (Ping timeout: 121 seconds)
[23:25:24] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[23:25:36] *** Quits: Altazimuth_ (Altazimuth@moz-rb7u6p.skybroadband.com) (Ping timeout: 121 seconds)
[23:25:55] *** Quits: achanda_ (achanda@moz-fr1.spq.217.162.IP) (Ping timeout: 121 seconds)
[23:26:00] *** Quits: Savago (Savago@moz-qao.tdl.56.172.IP) (Client exited)
[23:27:19] <bluss> ssammy: May 15th!
[23:27:30] *** Joins: santiago (santiago@moz-ro2mm9.res.rr.com)
[23:27:57] *** Quits: skade (skade@moz-iiakqu.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:28:28] *** Joins: errordeveloper (ilya@moz-rfe.3fh.206.90.IP)
[23:29:35] *** Joins: yichoi (yichoi@moz-t0r.chb.167.121.IP)
[23:29:44] *** Joins: new_one (new_one@moz-1bd.nva.42.128.IP)
[23:29:54] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[23:30:41] *** Quits: jdm (jdm@moz-ul43ak.dsl.bell.ca) (Quit: )
[23:30:59] *** Joins: zzing (textual@moz-jucm1n.cpe.distributel.net)
[23:31:24] *** Joins: lov2cod (Adium@moz-7akq8k.u583.gjp6.0119.2620.IP)
[23:31:35] *** Quits: espadrine (tyl@moz-l019mn.fbx.proxad.net) (Ping timeout: 121 seconds)
[23:32:26] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[23:32:39] <mbrubeck> ssammy: on May 15
[23:32:59] <mbrubeck> oops, way too slow
[23:33:12] *** Joins: Guest__ (textual@moz-rtn.fg7.77.192.IP)
[23:33:25] *** Quits: larhat (Adium@moz-tb1ulb.cable.virginm.net) (Quit: Leaving.)
[23:35:12] <Yen> bluss: if I understand right, though, that means the box will no longer manage the memory when the box goes out of scope
[23:35:42] *** Quits: atomic (atomic@moz-0cpaeb.thd.ninja) (Ping timeout: 121 seconds)
[23:36:28] *** Quits: happy-dude_ (uid62780@moz-jt3517.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[23:36:48] <bluss>  yes it's the same as using transmute as reem mentioned
[23:36:50] *** Joins: kamer (alewkowicz@moz-ie6.mg5.5.163.IP)
[23:36:53] <bluss> just turned into a safe function
[23:36:57] *** Joins: zzmp (zzmp@moz-5p1.h2b.247.173.IP)
[23:37:16] <mbrubeck> literally: http://doc.rust-lang.org/src/alloc/boxed.rs.html#153-155
[23:37:23] <bluss> hm maybe it's not safe
[23:37:40] <bluss> right it's marked unsafe. But if mem::forget goes safe, this can too :)
[23:38:00] <mbrubeck> `Function is unsafe, because [...] may lead to memory or other resource leak.` ;)
[23:38:31] <bluss> mbrubeck: before the thread scoped thing I looked at this function and understood why it had to be unsafe
[23:38:37] <bluss> to keep thread scoped sane
[23:38:43] <bluss> didn't think about other ways to leak
[23:39:26] *** Quits: Nextra (Nextra@moz-73fj2h.dip.osnanet.de) (Connection closed)
[23:40:06] *** Joins: lenstr (lenstr@moz-vho.vju.25.171.IP)
[23:40:45] *** Quits: lenstr (lenstr@moz-vho.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[23:40:59] *** Joins: lenstr (lenstr@moz-vho.vju.25.171.IP)
[23:42:05] <Yen> is the &mut * thing the same as transmute?
[23:42:06] <ssammy> does rust compile into c first?
[23:42:22] *** Quits: lenstr (lenstr@moz-vho.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[23:42:33] <reem> ssammy: Nope. Rust compiles to native code using LLVM.
[23:42:41] *** Parts: krdln (krdln@moz-ohe9vg.dynamic.chello.pl) ()
[23:43:10] <bluss> Yen: for *mut T -> &mut T it has the exact same effect I think
[23:43:59] *** Joins: chmanchester (Chris@moz-h1c.ktt.28.204.IP)
[23:44:04] *** Quits: hjr3 (hradtke@moz-pp9.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:44:10] *** Quits: nerdopoly (nerdopoly@moz-ouaagf.range86-143.btcentralplus.com) (Quit: leaving)
[23:44:27] *** Quits: Guest__ (textual@moz-rtn.fg7.77.192.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:45:27] <Yen> hmm. my compiler is telling me that Box doesn't implement into_raw()
[23:45:29] <Yen> ....?
[23:45:38] *** Quits: veqz (veqz@moz-nvr8g6.209.getinternet.no) (Ping timeout: 121 seconds)
[23:45:58] <Yen> I have use std::boxed
[23:46:17] <rkruppe> It's boxed::into_raw(the_box), not the_box.into_raw()
[23:47:23] <Yen> ah
[23:48:06] <Yen> of course, using into_raw actually moves the_box
[23:48:12] <Yen> moves ownership
[23:48:15] *** Joins: andrewd18 (andrew@moz-o8v7av.res.rr.com)
[23:48:32] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[23:48:37] *** Quits: funnel (hegel@moz-hmd.ddu.4.81.IP) (Ping timeout: 121 seconds)
[23:48:55] <rkruppe> That's not the reason, methods can consume too
[23:49:18] <mbrubeck> Yen: That's kind of the point; otherwise the Box's destructor would still run later.
[23:49:27] *** Quits: davebettin (davebettin@moz-acc.cl4.35.72.IP) (Ping timeout: 121 seconds)
[23:49:30] <rkruppe> It's a free function because Box<T> derefs to T, so methods of Box clash with methods of T
[23:50:54] *** bentley|away is now known as bentley
[23:51:10] *** Joins: mermi (Mibbit@moz-mj803l.net.unlv.edu)
[23:51:10] *** Joins: jdm (jdm@moz-ul43ak.dsl.bell.ca)
[23:51:10] *** ChanServ sets mode: +o jdm
[23:51:42] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[23:51:43] *** Joins: funnel (hegel@moz-hmd.ddu.4.81.IP)
[23:52:18] <mermi> any one know why there is an initial value in the fold() method? 
[23:52:31] *** Quits: iamtyler (Adium@moz-uhc.i3g.162.66.IP) (Quit: Leaving.)
[23:52:32] <cmr> mermi: because it needs one?
[23:52:36] *** Joins: iamtyler (Adium@moz-uhc.i3g.162.66.IP)
[23:52:40] <mbrubeck> mermi: http://bluss.github.io/rust-itertools/doc/itertools/trait.Itertools.html#method.fold1 was just added to itertools today!
[23:52:59] <mermi> cmr: mbrubeck Yeah....
[23:53:08] *** Joins: idk_erikson (quassel@moz-nto6je.hsi04.unitymediagroup.de)
[23:53:11] <bluss> and look what happened, .fold1 has to return Option instead :)
[23:53:12] *** Quits: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk) (Ping timeout: 121 seconds)
[23:53:47] <mbrubeck> you could be like the Haskell prelude and just panic anytime anyone does anything to an empty list...
[23:54:06] *** Quits: gingermusketeer (gingermuske@moz-ibi6eh.compute.amazonaws.com) (Connection closed)
[23:54:11] *** Joins: gingermusketeer (gingermuske@moz-6ehq1b.compute.amazonaws.com)
[23:54:14] <mbrubeck> http://hackage.haskell.org/package/base-4.8.0.0/docs/Prelude.html#v:foldl1
[23:54:31] <Yen> mrubeck: in this case, I think that's what I actually want - I want a box to be able to manage the life-cycle of the object (and I know when the box is going out of scope), and while it's alive, I want to pass around multiple mutable references to it, without updating reference counts
[23:54:58] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[23:55:16] <mermi> bluss: Option is fine, as long as it fulfills the need
[23:55:50] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[23:55:55] <mbrubeck> Yen: In that case, use `&*` to get a raw pointer instead.
[23:56:12] *** Quits: futile (felix@moz-cmcd12.unity-media.net) (Quit: WeeChat 1.2-rc1)
[23:56:18] <mermi> I am thinking of how to insert spaces between strings,  just in the middle
[23:56:31] *** Quits: cholcombe (chris@moz-k0ajnr.i01-5.onvol.net) (Ping timeout: 121 seconds)
[23:56:42] <mbrubeck> mermi: itertools has you covered there too :)
[23:57:00] <mbrubeck> http://bluss.github.io/rust-itertools/doc/itertools/trait.Itertools.html#method.join
[23:57:04] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[23:57:11] <Yen> yeah, that's what I'm going to do
[23:57:15] <mbrubeck> mermi: see also `connect` in the stdlib
[23:57:38] <ssammy> i guess the best thing to do for rust is to download the binary?
[23:57:42] <mbrubeck> http://doc.rust-lang.org/std/slice/trait.SliceConcatExt.html
[23:57:56] <cmr> ssammy: "best thing to do" to do what?
[23:58:01] <Yen> I run into a second issue - when I get one of the boxes out of the HashMap, it comes out as a &box. Trying to do &mut **the_box fails, since I can't mutably borrow immutable boxed content
[23:58:40] *** Quits: idk_erikson (quassel@moz-nto6je.hsi04.unitymediagroup.de) (Ping timeout: 121 seconds)
[23:58:42] <Yen> even if I get it as a &mut Box
[23:59:11] <mermi> mbrubeck: oh, string is a special case, in most case I don't want to add additonal '0' or '1' to my struct
[23:59:14] <Yen> oh never mind, if I get_mut, that works 
[23:59:23] <rkruppe> Yen: I have no context, but that sounds extremely dangerous and wrong. Mutable aliasing is the devil, and prohibited for good reasons.
[23:59:31] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[23:59:36] *** Joins: sinistersnare (Mibbit@moz-vj2.mkr.2.129.IP)
[23:59:38] <rkruppe> What are you trying to do?
[23:59:40] <reem> Yen: get_mut
[23:59:40] *** Quits: ryanxcharles (ryan@moz-lcf.eq6.124.64.IP) (Ping timeout: 121 seconds)
[23:59:41] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[23:59:41] *** ChanServ sets mode: +o erickt
[23:59:51] <mermi> mbrubeck: but thanks for the reference, I thought std:iter was all 
[23:59:56] <sinistersnare> is there a way to have examples be a whole crate, so I can use external dependencies? 
