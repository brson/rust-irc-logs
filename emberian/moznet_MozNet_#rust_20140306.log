[00:00:17] <pongad> eddyb: Does it make sense for me to do this and try to remove string indexing at the same time? They seem to be two different issues
[00:00:18] <eddyb> pongad: you then have to remove handling for it, from all the pattern matching code... which is a lot
[00:00:34] <eddyb> pongad: you can do them in separate PRs
[00:00:50] <eddyb> or commits on the same PR, both work IMO. reviewers might want two PRs
[00:01:08] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Quit: Leaving)
[00:01:16] <doomlord_> what i'm seeing is writing to this value ... doesn't write to it
[00:01:33] <eddyb> how sure are you that you're single-threaded?
[00:01:35] <pongad> eddyb: Will work on them separately though. Lest I confuse myself
[00:01:42] *** Joins: Rym (WUT@7001AAD.5D2765E2.51C6DE68.IP)
[00:01:42] <eddyb> sure :)
[00:01:47] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[00:01:57] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Quit: Computer gone to sleep - Zzzz...)
[00:02:46] <doomlord_> i can write to simple mutable values fine
[00:03:05] <eddyb> rusti: Some(~())
[00:03:05] -rusti- None
[00:03:13] <eddyb> doomlord_: sure you aren't running into this? ^^
[00:03:28] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[00:03:29] <doomlord_> T is a struct with 3 fields
[00:03:54] *** Joins: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP)
[00:04:12] <doomlord_> eddyb its possible it might end up with a producer and consumer thread , i can change it later :) its all wrapped in accessor functions in one module
[00:04:21] *** Quits: Rym (WUT@7001AAD.5D2765E2.51C6DE68.IP) (Ping timeout)
[00:08:32] *** Joins: hoverbear (hoverbear@moz-C044EAE5.wireless.uvic.ca)
[00:09:29] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[00:10:01] *** Joins: uzi_mantis (iz@A3D0DE69.4DB138C4.DDE5D3F6.IP)
[00:11:27] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:12:35] *** Joins: yellowy4321 (yellowy432@moz-B77E6585.wireless.calpoly.edu)
[00:12:56] <uzi_mantis> hey guys, what's the best way to check if a hashmap contains a key?
[00:13:26] <uzi_mantis> i'm having trouble figuring out how to use contains_key_equiv() because the type of object i'm looking for doesn't seem to have an equivalence trait defined
[00:13:31] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Quit: )
[00:13:32] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[00:13:58] *** Joins: nlminhtl (ignotus@moz-4CB8A1D.site.volia.net)
[00:14:58] <pcwalton> down to 14 compile-fail errors
[00:15:12] <sfackler> uzi_mantis: contains_key?
[00:15:25] *** Joins: bmu_ (chatzilla@moz-A87574A6.hsd1.pa.comcast.net)
[00:15:42] *** Quits: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net) (Ping timeout)
[00:15:51] *** bmu_ is now known as bmu
[00:15:59] <sfackler> which for some reason doesn't show up in the docs (!)
[00:16:32] <kmc> it's probably from a trait
[00:16:45] <kmc> http://static.rust-lang.org/doc/master/std/container/trait.Map.html#method.contains_key
[00:16:59] <kmc> we really need docs that list all methods for a type, including trait methods
[00:17:03] <sfackler> yeah
[00:18:12] <doomlord_> eddyb my sticking poitn was, this struct is supposed to contain a DList ... it seems to need a function call to initialize it, wheras in c++ you can call global constructors
[00:18:21] *** Quits: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: brendan)
[00:18:26] <doomlord_> there's no avoiding a global here, its for glut
[00:18:29] <eddyb> doomlord_: no global ctors in Rust
[00:18:36] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Ping timeout)
[00:18:41] <doomlord_> yeah i found that out :)
[00:19:01] <pongad> eddyb: So, I found one ~str pattern...what should I change it to...?
[00:19:01] <eddyb> doomlord_: kimundi has a nice lazily initialized statics hack
[00:19:10] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[00:19:11] <eddyb> pongad: "foo" on the slice
[00:19:17] <doomlord_> i could hack a fixed size unsafe buffer i suppose, if i can't get this working..
[00:19:21] <pongad> eddyb: ?
[00:19:28] <doomlord_> manually make a ringbuffer
[00:19:33] *** Quits: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de) (Connection reset by peer)
[00:19:42] <pcwalton> 4 failures...
[00:19:49] <eddyb> pongad: replace match foo { ~"..." ...} with match foo.as_slice() { "..." ...}
[00:20:07] <pongad> eddyb: I'm stupid
[00:23:02] *** Joins: frogzilla (Mibbit@E87770CF.F746F57.CC1A2609.IP)
[00:23:05] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[00:24:14] *** Quits: frogzilla (Mibbit@E87770CF.F746F57.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:25:36] *** Quits: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP) (Quit: Lost terminal)
[00:28:12] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[00:30:17] *** Joins: AndyB (andyb@D9ADA5B8.EEDD3B02.DDE5D3F6.IP)
[00:30:30] *** Joins: blindrenderer (blindrende@89510894.B22400E5.217C7FCC.IP)
[00:32:07] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[00:32:13] *** Quits: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se) (Ping timeout)
[00:32:33] *** Quits: alisdair (textual@E1CEBB1A.D061F0C9.AA6AEE7B.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:33:01] *** Quits: mceier (mceier@moz-C1591437.dynamic.chello.pl) (Ping timeout)
[00:34:15] <doomlord_> Now i'm trying to make a global static mutable vector of an enum .. all the variants are pod ; i've got #[deriving(Show,Clone)] but its telling me the instantiation copies and it can't
[00:34:23] *** Quits: t4nk528 (bzlandfill@81E7F515.4F63199.DDE5D3F6.IP) (Quit: CGI:IRC (Ping timeout))
[00:34:24] *** Quits: AndyB (andyb@D9ADA5B8.EEDD3B02.DDE5D3F6.IP) (Quit: AndyB)
[00:34:57] <doomlord_> ah hang on a sec, one of my variants has a dynamicly allocated array.
[00:36:28] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[00:36:53] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[00:37:22] *** Quits: dherman (dherman@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: dherman)
[00:37:25] *** Joins: mceier (mceier@moz-C1591437.dynamic.chello.pl)
[00:37:37] <eddyb> doomlord_: have you picked a library yet?
[00:37:50] <eddyb> for android, that is
[00:37:56] <doomlord_> hhahahaha
[00:38:02] <doomlord_> when i can compile on android i'll decide
[00:38:06] <eddyb> :(
[00:38:12] <ryeguy> why does my crate not show up in RUST_LOG=::help?
[00:38:36] <ryeguy> i have project.rc, and it has a create_id metadata item, is there something i'm missing?
[00:38:45] <doomlord_> so at the minute, i'm just wrapping 'glut' in an event queue, to keep my main loop free of messy callbacks; i'll implement the same queue directly on android i think
[00:38:48] <ryeguy> crate_id*
[00:39:04] <doomlord_> i'll add convinience functions into this layer (eg managing multitouch)
[00:39:41] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[00:40:09] *** Quits: drbawb (drbawb@moz-444F91EA.wi.res.rr.com) (Quit: WeeChat 0.4.3)
[00:40:11] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[00:40:54] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[00:41:02] <Jemaclus> noob question... what's the practical effect of when you say "extra::json has been liberated to libserialize"? 
[00:41:12] <eddyb> it was moved
[00:41:14] *** Quits: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net) (Input/output error)
[00:41:22] <eddyb> extra is being exploded
[00:41:24] <Jemaclus> yeah, I mean... how does that change the code I write?
[00:41:30] <Jemaclus> So before I'd write something like:  use extra::json;
[00:41:33] <Jemaclus> to include it
[00:41:35] <Jemaclus> i guess
[00:41:38] <Jemaclus> what would I do now?
[00:41:39] <eddyb> use serialize::json;
[00:41:45] <eddyb> after extern crate serialize;
[00:41:54] <Jemaclus> ah
[00:41:54] <Jemaclus> neat
[00:41:58] <strcat> Jemaclus: `use` just brings something from another scope into the current scope
[00:42:04] <strcat> you never *need* it
[00:42:22] <strcat> it's for convenience to avoid repeating the full namespace qualification over and over
[00:42:29] <Jemaclus> right, right
[00:44:12] <Jemaclus> ok, that answers my question
[00:44:13] <Jemaclus> thanks :)
[00:44:51] *** Quits: nlminhtl (ignotus@moz-4CB8A1D.site.volia.net) (Ping timeout)
[00:45:02] <pongad> eddyb: Do I change `List(~"doc", ref list) => ...` into `List(ref x, ref list) if x == &~"doc" => ...`?
[00:45:47] <mrmonday> is there some way to mutate a vector in a for in loop? I'll break out immediately after anyway so it won't affect iteration
[00:46:17] <kmc> mutate the elements of the vector, or add/remove elements?
[00:46:19] <eddyb> pongad: hmpf, maybe it doesn't destroy the string... I guess your version should be fine
[00:46:46] <mrmonday> mutate the elements
[00:46:55] <carllerche> could somebody explain to me why this line won't compile? https://github.com/carllerche/hamcrest-rust/blob/master/src/hamcrest/lib.rs#L58
[00:47:10] <kmc> mrmonday: .mut_iter()
[00:47:23] <pongad> eddyb: Making this fix makes me a little nervous, there seems to be more use to the pattern than I realize
[00:47:37] <pongad> eddyb: It does destroy the string, but sometimes you don't need it anyway
[00:47:41] <mrmonday> awesome, thanks
[00:47:56] <kmc> rusti: let mut v = ~[1,3]; for x in v.mut_iter() { *x += 1; } v
[00:47:57] -rusti- ~[2, 4]
[00:48:09] <Jemaclus> std::hashmap got moved to collections::hashmap?
[00:48:19] <Jemaclus> way to break all my code. grumble grumble.
[00:48:32] *** Quits: yellowy4321 (yellowy432@moz-B77E6585.wireless.calpoly.edu) (Quit: )
[00:48:35] <kmc> carllerche: what's the error message?
[00:48:48] <Havvy> Jemaclus:  Something something not 1.0 language.
[00:48:48] *** Joins: apollow (yellowy432@moz-B77E6585.wireless.calpoly.edu)
[00:48:58] <Jemaclus> ;)
[00:49:14] <carllerche> kmc: (pointing to &is(…)) error: cannot determine a type for this bounded type parameter: unconstrained type
[00:49:21] <Jemaclus> i need to set up some CI for my stuff.
[00:49:26] <Jemaclus> so i can catch this stuff sooner.
[00:49:28] <carllerche> however, it compiles when the line is deconstructed
[00:49:29] <eddyb> pongad: ~str has to be removed if ~[T] is removed, so the pattern will have to go
[00:49:44] <eddyb> pongad: I think we'll introduce a generic deref pattern, that works with any smart pointer that implements Deref
[00:50:10] <pongad> eddyb: I see, what will replace ~str?
[00:50:17] <eddyb> pongad: UniqStr would implement Deref<str> like Vec<T> would implement Deref<[T]>
[00:50:27] *** Quits: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP) (Quit: Leaving...)
[00:50:39] <eddyb> pongad: something like Str, GrowableStr, OwnedStr, UniqStr etc. - no idea if there's agreement on the name
[00:50:50] <kmc> why is all the useful sugar disappearing :/
[00:50:50] <pongad> Ah ok
[00:51:05] <eddyb> kmc: it's being burnt down
[00:51:18] <pongad> eddyb: Ok, so `List(ref x, ref list) if x == &~"doc" =>` won't stay that way forver
[00:51:21] <eddyb> kmc: don't worry, we have enough pheonix tears
[00:51:22] <kmc> caramelized
[00:51:35] <eddyb> it will be reborn from its ashes into something more flexible
[00:51:42] <eddyb> pongad: don't do that :P
[00:51:44] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[00:52:03] <eddyb> pongad: "doc" == *x maybe
[00:52:13] <eddyb> pongad: don't allocate to make a comparison
[00:52:19] <pongad> eddyb: That works too :D
[00:52:31] <pongad> eddyb: My version allocates?
[00:52:36] <eddyb> ~ does
[00:52:56] <pongad> Oh right...even if it's a constant
[00:53:11] *** Quits: blindrenderer (blindrende@89510894.B22400E5.217C7FCC.IP) (Ping timeout)
[00:53:27] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Ping timeout)
[00:54:30] *** Quits: jensnock_ (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[00:54:31] <ryeguy> what does it mean if my crate doesn't show up in RUST_LOG=::help? 
[00:54:33] <pongad> eddyb: Wait, but it's `ref x` so `x` is a `&~str`, it's `*x == ~"doc"` and you allocate anyway
[00:54:42] <pongad> `**x` doesn't work
[00:54:45] <eddyb> ryeguy: do you use debugging output in that crate?
[00:54:47] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[00:54:51] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:54:55] <eddyb> pongad: do it the other way around
[00:54:57] <pcwalton> 21 benchmark failures...
[00:55:00] <eddyb> pongad: "doc" == *x
[00:55:02] <ryeguy> eddyb: yes, i've tried all levels of logging, the only one that works is error!()
[00:55:03] <eddyb> that will work
[00:55:12] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[00:55:26] *** Quits: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net) (Quit: stevegury)
[00:55:39] <eddyb> ryeguy: does error!() work? o_O
[00:55:41] <pongad> eddyb: Wait...why...?
[00:55:41] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[00:55:51] <eddyb> pongad: sucky method lookup?
[00:55:56] <ryeguy> eddyb: yes, that's the only one that works
[00:56:05] <eddyb> what does it output?
[00:56:27] <pongad> eddyb: So much magic
[00:56:29] *** Quits: leowoe (Leo@moz-A5AF6850.dip0.t-ipconnect.de) (Quit: Leaving.)
[00:56:45] <eddyb> pongad: it coerces the RHS because of the LHS
[00:57:17] <eddyb> pongad: Eq requires same types on both sides, but it's biased towards the LHS
[00:57:21] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[00:57:27] <pongad> ahh
[00:57:30] <eddyb> because that's the type we do method lookup on
[00:57:39] <eddyb> pongad: but with DST &**x == "foo" will work :D
[00:58:07] *** Joins: dherman (dherman@F16146EB.9D3722BB.58DC3EE6.IP)
[00:58:07] *** ChanServ sets mode: +ao dherman dherman
[00:58:17] *** Quits: hoverbear (hoverbear@moz-C044EAE5.wireless.uvic.ca) (Quit: Taking a nap.)
[00:59:07] *** Parts: judder (maradukewa@A4DC519F.6379DA33.78E362FE.IP) ()
[01:01:18] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[01:02:11] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[01:02:15] *** Quits: alkino (alkino@moz-53CAAA6D.w92-151.abo.wanadoo.fr) (Ping timeout)
[01:02:28] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[01:02:34] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[01:04:16] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[01:05:25] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Input/output error)
[01:05:42] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Ping timeout)
[01:06:18] *** Joins: blindrenderer (blindrende@CFA55475.329A1D83.D01D599A.IP)
[01:07:54] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[01:09:25] <pongad> eddyb: How would you do `Some(~"html") | None => {`
[01:09:37] <pongad> Well...short of duplicating the block :D
[01:09:42] <eddyb> pfffft
[01:09:47] <eddyb> pongad: this is easy :P
[01:10:04] <eddyb> pongad: .map(|s| s.as_slice()) on the thing you're matching against
[01:10:07] <pongad> eddyb: Apparently I am very uncreative :P
[01:10:09] *** kimundi is now known as zz_kimundi
[01:10:19] <pongad> wat?
[01:10:21] <eddyb> it's just Option, that's why it's easy
[01:10:39] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[01:10:40] <eddyb> because it has methods for a lot of stuff
[01:10:54] <eddyb> pongad: that turns an Option<~str> into Option<&str>
[01:11:02] <eddyb> pongad: may need .as_ref() and then the map
[01:11:52] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[01:12:01] <pongad> oh... I think I get it...
[01:12:03] *** Joins: a_m0d (a_m0d@moz-AC872528.acanac.net)
[01:12:06] *** Joins: t4nk295 (bzlandfill@moz-F854F99.cs.virginia.edu)
[01:12:15] *** Joins: mib_av7kfw (Mibbit@E0C7C30C.4DB138C4.DDE5D3F6.IP)
[01:12:15] *** Joins: drbawb (drbawb@moz-444F91EA.wi.res.rr.com)
[01:12:27] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[01:12:34] <eddyb> pongad: the learning curve is strong with you :D
[01:12:45] *** Joins: mib_dar89i (Mibbit@moz-F854F99.cs.virginia.edu)
[01:12:58] <ryeguy> eddyb: it turns out the logging was working. It was lost amongst my test output. But the confusing part is RUST_LOG=::help does not display my crate, and it also complains that it "got 1 spec but only matched 0 of them" when i do RUST_LOG=my_crate, even though it works
[01:13:12] <eddyb> lol
[01:13:25] <ryeguy> its also reproducable with a one line script that just has a single debug! statement
[01:13:36] <pongad> eddyb: I think the learning curve is strong with Rust in general, but you might be right :D
[01:14:09] <eddyb> pongad: I mean, you're fighting the current well ;)
[01:14:27] <pongad> eddyb: :P
[01:14:59] *** Joins: dougxxx (dougxxx@moz-2801788.perm.iinet.net.au)
[01:15:34] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[01:16:06] *** Quits: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP) (Quit: Leaving...)
[01:16:22] *** Joins: six600110 (six600110@moz-9117A1DE.hsd1.il.comcast.net)
[01:16:36] *** Parts: six600110 (six600110@moz-9117A1DE.hsd1.il.comcast.net) (Ex-Chat)
[01:17:55] *** Quits: enos (jkingyens@moz-B0C1B161.hsd1.ca.comcast.net) (Quit: enos)
[01:18:48] <a_m0d> Does anyone know how I can concatenate path components together to create a new path?  With separators between the components?
[01:19:27] <a_m0d> e.g. let p = Path::new("top"); p.join("level1").join("level2").display() == "top/level1/level2";
[01:19:34] *** Quits: spott_ (spott@moz-5158CBDE.colorado.edu) (Quit: Leaving...)
[01:19:36] *** Quits: twi (Adium@moz-9F0310CC.cust.vodafonedsl.it) (Quit: Leaving.)
[01:19:40] <a_m0d> It doesn't look like the Path module has that anywhere :(
[01:19:51] <eddyb> does + work?
[01:20:24] <a_m0d> Nope, doesn't seem like Path implements Add
[01:20:27] <dougxxx> I thought that's what push did, but I've never actually tried it 
[01:20:56] <apollow> hi all, i am the bringer of stupid easy questions
[01:21:07] <a_m0d> push and join both just do a straight concatenation
[01:21:14] <a_m0d> which seems kind of strange to me
[01:21:16] <apollow> how do you cast a &int into a string for println?
[01:21:36] <a_m0d> So currently let p = Path::new("top"); p.join("level1").join("level2").display() == "toplevel1level2";
[01:21:44] <eddyb> ohh?
[01:21:46] <eddyb> :/
[01:21:50] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[01:21:51] <a_m0d> I'm not sure when that behaviour would ever be useful :(
[01:22:02] <eddyb> apollow: you don't, you print the int
[01:22:15] <eddyb> apollow: println!("{}", *x)
[01:22:24] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[01:23:12] <apollow> it works, thanks!
[01:23:24] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[01:23:43] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[01:23:49] *** Joins: twi (Adium@moz-9F0310CC.cust.vodafonedsl.it)
[01:24:33] *** Quits: twi (Adium@moz-9F0310CC.cust.vodafonedsl.it) (Quit: Leaving.)
[01:24:47] <a_m0d> I see one issue that seems somewhat related to this: https://github.com/mozilla/rust/pull/11579
[01:25:20] <ChrisMorgan> let p = std::path::Path::new("top"); format!("{}", p.join("./level1").join("./level2").display())
[01:26:18] <ChrisMorgan> Join is doing what it is supposed to.
[01:26:54] <ChrisMorgan> rusti: let p = std::path::Path::new("top"); format!("{}", p.join("./level1").join("./level2").display())
[01:26:54] -rusti- ~"top/level1/level2"
[01:26:55] <dougxxx>   let path = ~Path::new(~".");   let p2 = path.join("things").join("blah").join("dsfdsf");  println!(“{}”, p2.display());
[01:27:01] <dougxxx> It works for me; works for me
[01:27:13] <dougxxx> woops
[01:27:18] <dougxxx> anyway, even without the ./
[01:27:21] * ChrisMorgan just forgot the "rusti: " bit
[01:27:26] <dougxxx> heh
[01:27:46] *** jorendorff is now known as jorendorff_away
[01:28:05] <a_m0d> ChrisMorgan: So Path requires the "./" for any file / directory being joined?
[01:28:06] * o11c likes how geordi detects leading {
[01:28:28] <ChrisMorgan> It's joining paths, not adding a new part.
[01:28:57] <a_m0d> rusti: let p = Path::new("top"); format!("{}", p.join("level1").join("level2").display());
[01:28:58] -rusti- ()
[01:29:08] <ChrisMorgan> (Bad semicolon.)
[01:29:09] <a_m0d> rusti: let p = Path::new("top"); println!("{}", p.join("level1").join("level2").display());
[01:29:09] -rusti- top/level1/level2
[01:29:09] -rusti- ()
[01:29:20] <a_m0d> weird - that's not what I'm seeing ...
[01:29:34] <a_m0d> I guess it must be a but in my code somewhere than ...
[01:29:35] <lpy> How could I find the first match key of HashMap?
[01:30:56] *** Quits: aeqwa (aeqwa@moz-F798473B.dsl.tropolys.de) (Ping timeout)
[01:30:58] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:31:00] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[01:32:08] *** Joins: quibbit (Mibbit@moz-1BB03833.lnk.telstra.net)
[01:32:26] *** Quits: Sharp (Sharp@19388942.6B775EBE.DC877F3B.IP) (Quit: Sharp)
[01:32:51] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[01:33:40] *** Joins: espindola (espindola@moz-9F530B29.com)
[01:33:46] *** Joins: hoverbear (hoverbear@moz-C044EAE5.wireless.uvic.ca)
[01:34:20] *** Quits: hoverbear (hoverbear@moz-C044EAE5.wireless.uvic.ca) (Quit: Taking a nap.)
[01:36:17] *** Quits: q66 (q66@moz-8A2AC0E.dab.02.net) (Quit: Leaving)
[01:37:17] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[01:37:41] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[01:38:21] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[01:38:28] <mib_dar89i> I have a question on LruCache
[01:38:36] <mib_dar89i> the get returns a pointer
[01:38:45] <mib_dar89i> but how do I actually get the value
[01:38:45] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[01:39:08] <eddyb> mib_dar89i: by looking at the pointer?
[01:39:35] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[01:39:56] *** Quits: apollow (yellowy432@moz-B77E6585.wireless.calpoly.edu) (Ping timeout)
[01:40:14] <mib_dar89i> ya so
[01:40:17] <eddyb> mib_dar89i: pop removes the item and gives it back to you
[01:40:22] <eddyb> but I'm not sure you want that
[01:40:22] <mib_dar89i> right, and pop works
[01:40:28] <mib_dar89i> but get has & V
[01:40:31] <mib_dar89i> instead of V
[01:40:33] <mib_dar89i> and i get something like this
[01:40:42] <mib_dar89i> to give you a better context, the cache has key: path
[01:40:58] *** Joins: enos (jkingyens@moz-E6FB95AC.lightspeed.sntcca.sbcglobal.net)
[01:41:25] <mib_dar89i> the value is a tuple (uint, ~[u8]) where uint is the timestamp, and ~[u8] is the data
[01:41:48] <eddyb> oh, you again :D
[01:41:51] <eddyb> mib_dar89i: change your nick :P
[01:41:52] <mib_dar89i> OH
[01:41:59] <mib_dar89i> it's randomly generated
[01:42:03] <eddyb> you can use pattern matching
[01:42:23] <eddyb> let &(timestamp, ref data) = cache.get(key);
[01:42:42] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[01:42:51] <mib_dar89i> that's supposed to work??
[01:42:52] <mib_dar89i> i tried that
[01:42:55] <eddyb> and?
[01:42:57] <mib_dar89i> i'm doing this
[01:43:02] <mib_dar89i> let (old_timestamp, buf) = current_cache.get(path).unwrap();
[01:43:08] <mib_dar89i> i'm using unwrap...
[01:43:11] <eddyb> you're missing a &
[01:43:15] <eddyb> or * on the right side
[01:43:15] *** Quits: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net) (Client exited)
[01:43:27] <mib_dar89i> damn I tried both
[01:43:28] <eddyb> and ref before buf so it doesn't try to move it out
[01:43:31] <mib_dar89i> let me give you the error messages
[01:43:39] *** Quits: echristo (echristo@3246441A.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[01:43:56] <eddyb> let &(old_timestamp, ref buf) = current_cache.get(path).unwrap();
[01:43:59] *** Joins: mreca (mreca@184B4FDA.9B1DA26B.DDE5D3F6.IP)
[01:44:09] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[01:44:11] <mib_dar89i> error: cannot move out of dereference of & pointer zhtta.rs:207             let &(old_timestamp, buf) = current_cache.get(path).unwrap();
[01:44:23] <eddyb> because you don't have ref before buf
[01:44:55] *** Joins: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net)
[01:46:14] <mib_dar89i> so.. let &(old_timestamp, ref buf) = current_cache.get(path).unwrap();
[01:46:37] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[01:46:41] <eddyb> yeah
[01:46:48] <eddyb> you should use match there
[01:47:03] <eddyb> or some fancier thing to actually handle a missing cache entry gracefully
[01:47:17] <mib_dar89i> error: borrowed value does not live long enough           let &(old_timestamp, ref buf) = current_cache.get(path).unwrap();
[01:47:34] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[01:47:36] *** Joins: sprocket (Mibbit@B6243A6E.CC1A7E75.BE90E62C.IP)
[01:47:40] *** Parts: sprocket (Mibbit@B6243A6E.CC1A7E75.BE90E62C.IP) ()
[01:47:40] <eddyb> ohh
[01:47:43] <mib_dar89i> i tried match also, same sort of error... but
[01:47:51] <mib_dar89i> maybe I wasn't setting up my match correctly
[01:47:56] <eddyb> mib_dar89i: this is because 0.9
[01:47:59] <eddyb> much sadness
[01:48:07] *** Quits: nrc (nrc@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 30.0a1/20140304030204])
[01:48:07] <eddyb> try match on the option
[01:48:07] *** Joins: mib_m64m5v (Mibbit@B6243A6E.CC1A7E75.BE90E62C.IP)
[01:48:13] *** Quits: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net) (Client exited)
[01:48:14] <a_m0d> rusti: let x = Some(5); match x { None | Some(i) if i == 0 => println!("0-ish"), Some(i) => println!("Non-0-ish") }
[01:48:15] -rusti- <anon>:10:48: 10:49 error: variable `i` from pattern #2 is not bound in pattern #1
[01:48:15] -rusti- <anon>:10         let x = Some(5); match x { None | Some(i) if i == 0 => println!("0-ish"), Some(i) => println!("Non-0-ish") }
[01:48:15] -rusti-                                                          ^
[01:48:15] -rusti- error: aborting due to previous error
[01:48:16] -rusti- application terminated with error code 101
[01:48:16] <eddyb> it tends to have larger scopes
[01:48:27] <mib_dar89i> let me try match
[01:48:27] <mib_dar89i> ok
[01:48:32] <a_m0d> rusti: let x = Some(5); match x { Some(i) if i == 0 | None => println!("0-ish"), Some(i) => println!("Non-0-ish") }
[01:48:33] -rusti- pastebinned 5 lines of output: http://sprunge.us/BcKJ
[01:48:43] <a_m0d> Why does neither of those match statements work?
[01:49:06] <aatch> a_m0d, because you can only have one guard per pattern
[01:49:27] <eddyb> the first one has an error that tells you that you need to bind i both in the None and Some cases
[01:49:31] <a_m0d> So the None and the Some()... need to be different match arms?
[01:49:37] <aatch> correct.
[01:49:38] <eddyb> (what would i be if it were None?)
[01:49:46] *** Joins: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net)
[01:49:46] <eddyb> s/it/x/
[01:49:59] <eddyb> and yeah, guards are a bit too limited
[01:50:00] <a_m0d> Okay.  I thought the if guard only applied the Some pattern
[01:50:08] <aatch> I just spend like 2 hours looking at a bug in some Ocaml code related to this.
[01:50:14] <a_m0d> and the error message on the second one is really weird
[01:50:21] <aatch> eddyb, eh, they make sense.
[01:50:37] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[01:50:52] <aatch> a_m0d, it's because you're doing (i == (0 | None))
[01:50:55] <eddyb> a_m0d: it treats the | as part of the guard expression
[01:51:05] <eddyb> aatch: isn't that (i == 0) |  None?
[01:51:20] <eddyb> rusti: 0 == 0 | None
[01:51:21] <aatch> eddyb, no, otherwise it wouldn't be expecting an integer
[01:51:21] -rusti- pastebinned 5 lines of output: http://sprunge.us/HSFd
[01:51:24] <a_m0d> Wow - that is definitely not the way I would have parsed that
[01:51:30] <eddyb> aatch: nvm
[01:51:31] <mib_dar89i> eddyb: I'm doing this
[01:51:32] <mib_dar89i> let &(old_timestamp, ref buf) = match current_cache.get(path){                 Some(x) => { x }                 None => { None }             }
[01:51:43] <eddyb> mib_dar89i: that's not changing anything....
[01:51:48] *** Quits: canhtak (canhtak@moz-E7F2DD45.dsl.bell.ca) (Quit: canhtak)
[01:51:52] <eddyb> a_m0d: how would you stop at the |? it's a valid expression
[01:51:59] *** Quits: nif (nif@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: Konversation terminated!)
[01:52:01] *** Quits: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: azita)
[01:52:04] <eddyb> mib_dar89i: put your code inside the match, that's the point
[01:52:18] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[01:52:22] <a_m0d> true.  I don't know than - that kind of seems like an ambiguous parse to me
[01:52:22] <aatch> eddyb, at least Rust calls the guard multiple times if you multiple patterns before it.
[01:52:28] <eddyb> mib_dar89i: so it gets more chances to keep live
[01:52:30] <aatch> OCaml does not, which is confusing.
[01:52:50] <aatch> a_m0d, it's not because you can't have more patterns after the `if`
[01:52:51] *** Joins: brendan (brendaneic@moz-966364AA.public.wayport.net)
[01:52:57] <eddyb> mib_dar89i: keep the borrowed reference live, that is
[01:53:32] <aatch> the syntax is `match <expr> { <pattern> [if <expr>] => <expr>, ... }`
[01:54:09] <a_m0d> aatch: Ok.  I just looked through the manual, and it doesn't say anything about that in there
[01:54:12] <aatch> a_m0d, if it's not a `=>` it must be part of the expression.
[01:54:23] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[01:54:47] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[01:54:51] <a_m0d> In fact, that grammar in the manual doesn't even seem to allow for match x { Some(0) | None => (), _ => ()}
[01:55:02] <a_m0d> Where there are 2 patterns for the same block
[01:55:25] <a_m0d> match_pat : pat [ ".." pat ] ? [ "if" expr ] ;
[01:55:48] <eddyb> a_m0d: a | b is a pat I think
[01:55:55] <a_m0d> I think that should be match_pat : pat [ ".." pat ] ["|" pat ] ? [ "if" expr ] ;
[01:56:00] <eddyb> rusti: let Some(x) = Some(0);
[01:56:00] -rusti- <anon>:10:13: 10:20 error: refutable pattern in local binding
[01:56:00] -rusti- <anon>:10         let Some(x) = Some(0);
[01:56:00] -rusti-                       ^~~~~~~
[01:56:00] -rusti- error: aborting due to previous error
[01:56:00] -rusti- application terminated with error code 101
[01:56:08] <eddyb> rusti: let Some(x) | None = Some(0);
[01:56:09] -rusti- <anon>:10:21: 10:22 error: expected `;` but found `|`
[01:56:09] -rusti- <anon>:10         let Some(x) | None = Some(0);
[01:56:09] -rusti-                               ^
[01:56:09] -rusti- application terminated with error code 101
[01:56:14] <eddyb> ohh hmm
[01:56:22] <eddyb> a_m0d: well, that would be wrong
[01:56:25] <mib_dar89i> eddyb: so I did this match current_cache.get(path){                 Some(x) => { (old_timestamp, buf) = x; }                 None => { println("Write to cache");  }             }
[01:56:36] <a_m0d> eddyb: does it say where `pat` is defined?
[01:56:45] <eddyb> a_m0d: no idea
[01:56:48] <mib_dar89i> yes path is defined
[01:57:05] <eddyb> mib_dar89i: that's still not good
[01:57:08] <aatch> I assume that whoever wrote it expected `pat` to include the alternations.
[01:57:12] <mib_dar89i> ya.. i get same errors
[01:57:17] <eddyb> mib_dar89i: stop trying to move the things outside of the match
[01:57:21] <a_m0d> aatch: ok, then I guess that covers it
[01:57:24] <eddyb> mib_dar89i: that's the problem :P
[01:57:27] *** Joins: lpy (lpy@13C7F3A.F09091A8.1348A864.IP)
[01:57:47] <eddyb> also, Some(&(old_timestamp, ref buf)) => ...
[01:57:53] <aatch> a_m0d, it's still wrong, but that's probably where the confusion comes from.
[01:58:21] <mib_dar89i> eddyb: I'm not really moving anything outside match
[01:58:59] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Quit: Leaving)
[01:59:09] *** Quits: pcwalton (pcwalton@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: pcwalton)
[01:59:11] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[01:59:21] <eddyb> mib_dar89i: so are there problems with Some(&(old_timestamp, ref buf)) => ...?
[01:59:38] <aatch> match_pat should be `pat [ | pat ] * [ "if" expr ] ?`
[01:59:47] <mib_dar89i> yes so I do this
[01:59:49] <mib_dar89i> match current_cache.get(path){                 Some(&(old_ts, bf)) => { old_timestamp= old_ts;                                          buf = bf;                                         }                 None => { println("Write to cache");  }             }
[02:00:01] <aatch> mindslight, you need the ref bf
[02:00:09] <aatch> mib_dar89i, I mean
[02:00:15] <aatch> it's not optional.
[02:00:26] <mib_dar89i> well I have this
[02:00:34] <aatch> eddyb has told you several times you need to use `ref` in the pattern.
[02:00:36] <mib_dar89i> let mut old_timestamp: uint = 0; let mut buf:~[u8] = ~[];
[02:00:44] <eddyb> mib_dar89i: you're still trying to move things out
[02:00:51] *** Quits: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP) (Ping timeout)
[02:00:52] <a_m0d> aatch: eddyb: thanks for your help
[02:01:01] <eddyb> mib_dar89i: don't leak data outside the match. just don't do it
[02:01:05] <eddyb> mib_dar89i: resist the urge :P
[02:01:26] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[02:02:08] <mib_dar89i> where exactly am I leaking data outside
[02:02:17] <mib_dar89i> i mean I just declare variables
[02:02:20] <eddyb> no
[02:02:25] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[02:02:26] <eddyb> buf = bf; is leaking data
[02:02:32] <eddyb> it also doing an illegal move
[02:02:34] <eddyb> *it's
[02:02:44] <mib_dar89i> do you mean "leak" as in memory leaks?
[02:02:47] <eddyb> no
[02:02:57] <eddyb> I mean you're making things available outside the match
[02:03:08] <eddyb> *the whole point* of using using the match is to keep things alive inside
[02:03:24] <eddyb> you try to take them out, they die
[02:03:27] <mib_dar89i> gotcha
[02:03:29] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[02:03:31] <eddyb> finally :P
[02:03:32] <mib_dar89i> so I'll put it all inside the match?
[02:03:38] <eddyb> yupp
[02:03:44] <eddyb> or at least anything using the buffer
[02:04:49] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[02:05:05] *** Quits: lpy (lpy@13C7F3A.F09091A8.1348A864.IP) (Ping timeout)
[02:05:09] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[02:05:11] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[02:05:15] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[02:05:17] <pepper_chico> hey guys, I just compiled a new rust version, I'm getting errors on .to_str() for some int array, what's up?
[02:05:41] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[02:06:05] *** Quits: davbo (dave@moz-DCB29D15.skybroadband.com) (Ping timeout)
[02:06:07] *** Joins: lpy (lpy@32DE1D6C.56B853B.8C13C571.IP)
[02:06:11] <pepper_chico> failed to find implementation for std::fmt::Show
[02:06:18] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[02:06:33] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[02:06:41] <pepper_chico> what's the way now then?
[02:06:43] *** Joins: meyer (Mibbit@moz-A9CF56E4.hsd1.ca.comcast.net)
[02:06:47] *** Joins: davbo (dave@moz-D026B2A9.skybroadband.com)
[02:06:49] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[02:06:59] *** Quits: mib_m64m5v (Mibbit@B6243A6E.CC1A7E75.BE90E62C.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:07:43] <mib_dar89i> so... I'm doing this
[02:07:46] <mib_dar89i> Some(&(old_ts, ref bf)) =>                  {                      let mut curr_timestamp = path.stat().modified.to_uint().unwrap();                     let mut old_timestamp: uint = 0;                     let mut buf:~[u8] = ~[];                      old_timestamp = old_ts;                     buf = bf.to_owned();                                      }
[02:08:08] <mib_dar89i> it compiled...
[02:08:20] <mrmonday> mib_dar89i: you should use a pastebin for that as to not spam the channel (and also make it easier to read)
[02:08:55] *** Parts: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) ()
[02:09:50] *** Joins: hoverbear (hoverbear@moz-C044EAE5.wireless.uvic.ca)
[02:10:44] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[02:10:54] *** Joins: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP)
[02:10:54] *** ChanServ sets mode: +ao brson brson
[02:11:19] <mib_av7kfw> mrmonday: sorry about that
[02:11:31] <mib_dar89i> I'm really sorry
[02:11:34] <mib_av7kfw> We'll do that next time! (I'm with mib_dar89i )
[02:11:36] <mib_dar89i> got caught up in the momen
[02:11:43] <mib_dar89i> moment*
[02:11:49] <mib_dar89i> but I think it works, thanks eddyb
[02:11:53] <mrmonday> don't worry about it :)
[02:12:36] <pepper_chico> anyone?
[02:13:13] *** Quits: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP) (Ping timeout)
[02:13:24] <SiegeLord> Looks like somebody forgot to implement Show on an array
[02:13:26] <mrmonday> pepper_chico: what kind of an int array?
[02:13:31] <SiegeLord> You could do it yourself
[02:13:50] <pepper_chico> mrmonday: let a = [1, 2, 3, 4];
[02:13:53] <SiegeLord> Or I guess you can't... nvm
[02:14:04] <SiegeLord> That seems like an omission
[02:14:07] <mrmonday> if it's something like [u8, ..4] then you need to use .as_slice() so you can print it
[02:14:17] <pepper_chico> ah
[02:14:28] <pepper_chico> this should be a recent change then
[02:14:34] <mrmonday> static arrays (or whatever rust calls them) aren't printable any more
[02:14:37] <o11c> oh, joy ... time to learn how to debug rust
[02:14:40] <uzi_mantis> hey guys, is there a way to read the current datetime through a rust lib?
[02:14:53] <SiegeLord> Oh, nvm then XD
[02:15:00] <pepper_chico> this is new, some weeks ago arrays were printable...
[02:15:13] *** Quits: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net) (Quit: carllerche)
[02:15:36] <uzi_mantis> yo use a priority heap for cache
[02:15:44] *** Joins: Valloric (Valloric@moz-288722BA.hsd1.ca.comcast.net)
[02:15:45] *** Quits: pongad (pongad@moz-7E8AAD2E.res.gatech.edu) (Quit: Leaving)
[02:15:48] <mrmonday> SiegeLord: I got a good reason for it when I asked the same question earlier on, I don't remember the specifics though
[02:16:16] *** Quits: tcsc (tcsc@moz-5E71BAD9.hsd1.ma.comcast.net) (Quit: computer sleeping)
[02:16:18] <SiegeLord> No, I know the reason... just wasn't thinking
[02:17:01] <mrmonday> 23:26 < ChrisMorgan> mrmonday: it's changed from using {:?} (Poly,  reflection-based, implemented for all types) to  using {} (Show, defined by type, implemented only  when you do).
[02:17:05] <mrmonday> 23:26 < ChrisMorgan> mrmonday: [T, ..N] cannot implement Show, so  you'll need to switch it to having ~[T] or &[T].
[02:17:44] <SiegeLord> Oh, you weren't even given a proper reason, heh
[02:18:11] <SiegeLord> Fixed size arrays have trouble implementing anything
[02:18:16] <o11c> hm, it thinks my unsafely-constructed string has length 18446744073709551614 = -2 ...
[02:19:00] *** Quits: onelson (owen@moz-DD666EC5.laika.com) (Quit: Leaving)
[02:21:05] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[02:21:54] <o11c> .slice_unchecked(2, 0) is probably the problem ...
[02:22:05] <ryeguy> i have a struct field that is ~[~Foo]. How do I move the ~Foo's out of the vec? move_iter() throws 'cannot move out of type MyStruct, which defines the `Drop` trait'
[02:22:19] <eddyb> ryeguy: you can't
[02:22:54] <ryeguy> D:
[02:23:01] <pepper_chico> haha
[02:23:03] <ryeguy> is there some other kind of solution then?
[02:23:04] <eddyb> ryeguy: if you change it to ~[Option<~Foo>] you can use swap or replace to put None somewhere and get the previous value that was there
[02:23:11] <eddyb> it won't use more space
[02:23:15] * pepper_chico enters nelson mode
[02:23:29] <eddyb> you'll just have extra branches in some places
[02:23:49] <eddyb> ryeguy: wait I'm an idiot
[02:24:06] <SiegeLord> Shouldn't there be a move_pop or w/e?
[02:24:08] <eddyb> ryeguy: I was focusing on the wrong thing... why do you define Drop on that structure?
[02:24:16] <eddyb> SiegeLord: completely irrelevant >_>
[02:24:34] <eddyb> ryeguy: s/define/impl/
[02:24:34] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[02:25:10] <ryeguy> eddyb: it holds references to some channels. It sends a Kill message to them
[02:25:23] <ryeguy> would this work if i got rid of Drop?
[02:25:29] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[02:25:39] <eddyb> ryeguy: is the vector in question holding those channels?
[02:25:43] <ryeguy> no
[02:26:05] <eddyb> ryeguy: you may have to do an Option dance, with Option<~[~Foo]> so you can take the vector out
[02:26:15] <eddyb> and still drop the struct normally
[02:26:27] <jmmk> If I am in a function that has been passed &mut self, and I'm trying to return self.hashmap.find(x) as immutable, how do I do that?
[02:26:33] <eddyb> ryeguy: what do you want to happen when you move that Foo vector out of the struct? should the Drop impl be called?
[02:26:35] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[02:26:50] <jmmk> Also, do the rustdoc pages mess with history? back button doesn't seem to work correctly
[02:27:00] <eddyb> jmmk: fn foo<'a>(&'a mut self) -> Option<&'a T>
[02:27:12] *** Joins: jcmoyer (jc@moz-40035C19.sta.embarqhsd.net)
[02:27:14] <ryeguy> eddyb: the Drop is on the owner of ~[~Foo], not Foo itself.
[02:27:21] *** Joins: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP)
[02:27:21] *** ChanServ sets mode: +ao brson brson
[02:27:43] <eddyb> ryeguy: I know... I mean, should the Drop on the struct be called?
[02:28:00] *** Quits: brendan (brendaneic@moz-966364AA.public.wayport.net) (Ping timeout)
[02:28:16] <ryeguy> eddyb: no. only when the struct itself goes out of scope
[02:28:38] <jmmk> eddyb: Maybe I asked the wrong question. I'm handling an IOResult that gives me a mutable value. I want to return an immutable value. Can I convert the mutable to immutable?
[02:29:16] <eddyb> ryeguy: not sure how to do that... does destructuring (pattern patching work?
[02:29:33] <eddyb> jmmk: it should coerce naturally
[02:29:42] <eddyb> jmmk: maybe not, try &*x
[02:29:47] *** Quits: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP) (Ping timeout)
[02:29:47] <eddyb> (reborrow)
[02:30:12] <ryeguy> eddyb: don't think so, i'm basically using the vector as a queue so i need to move everything out of it 
[02:30:15] <jmmk> eddyb: dereferencing takes away mutability?
[02:30:20] <meyer> Is there any way to "override" or supercede a impl for a generic bounded type? Specifically, I have "impl<T: Reader> MyTrait for T", which I expect will work for the vast majority of things that implement Reader, but I might want to have some work differently.
[02:30:28] <eddyb> ryeguy: destructuring on the struct
[02:31:02] <eddyb> ryeguy: let MyStruct {relevant_field, ..} = my_struct;
[02:31:21] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[02:31:23] <eddyb> meyer: you can with another trait
[02:31:43] *** Quits: t4nk295 (bzlandfill@moz-F854F99.cs.virginia.edu) (Quit: CGI:IRC (Ping timeout))
[02:31:47] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[02:31:51] *** Quits: dherman (dherman@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: dherman)
[02:32:07] <eddyb> meyer: that is, T: MyReader with impls on MyReader forwarding to Reader
[02:32:24] <eddyb> meyer: but you'd need to specify each Reader impl you'd want default behavior on
[02:32:29] *** Quits: maggick (maggick@moz-29BE3AB5.lc) (Quit: WeeChat 0.4.3)
[02:33:06] <meyer> That'd work, but doesn't really save much effort.
[02:33:28] <eddyb> there's no negative bounds or subtraction bounds
[02:33:35] <eddyb> those would make this easy
[02:33:51] <eddyb> I guess "inverted bounds"?
[02:34:00] *** jorendorff_away is now known as jorendorff
[02:34:40] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[02:34:46] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[02:34:54] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[02:35:01] <meyer> Oh, I see what you mean. So I could have the main impl, hypothetically, be bounded by Readers, but not SpecialReaders or whatever.
[02:35:15] <ryeguy> eddyb: nah, pattern matching didn't work, same error as before. 
[02:35:43] <eddyb> ryeguy: you have to make the structure behave differently in Drop based on the contents
[02:35:50] <eddyb> ryeguy: may I suggest an enum?
[02:36:07] <eddyb> meyer: yeah. hypothetically
[02:36:41] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[02:37:04] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[02:37:25] *** jorendorff is now known as jorendorff_away
[02:38:20] *** Joins: canhtak (canhtak@moz-E7F2DD45.dsl.bell.ca)
[02:38:24] <meyer> eddyb: Also, about the orphan impl thing I asked about last night. Would it be useful to allow disambiguation by crate name similar to how you disambiguate with trait name between functions with the same signature in two traits?
[02:38:27] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:38:55] <eddyb> meyer: one way to do it is make the impl crate-local
[02:39:22] <eddyb> meyer: crate disambiguation would be okay, I guess... kinda awkward at first
[02:39:29] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[02:39:48] <eddyb> meyer: if you have a good idea, open an RFC issue!
[02:40:34] *** Quits: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru) (Quit: Leaving.)
[02:40:37] <meyer> eddyb: Maybe after I actually have written >1000 lines in Rust. I'm working on a VCS for my undergrad senior thesis. I was writing it in Go, but yesterday decided to switch over to Rust for the heck of it.
[02:40:52] <meyer> eddyb: Lack of generics and enums makes many things really awkward
[02:40:59] <eddyb> hehe
[02:41:03] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Client exited)
[02:41:36] *** Joins: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru)
[02:41:41] *** Joins: zmthy (zmthy@moz-C2881CC3.ecs.vuw.ac.nz)
[02:41:43] *** Quits: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP) (Quit: ziad)
[02:42:42] *** Quits: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[02:42:52] <bstrie> meyer: and soon you'll be complaining that lack of monads and currying makes many things really awkward, and you'll complete your transition to haskell :)
[02:43:00] *** Quits: azakai (alon@moz-BBE3ABD.mv.mozilla.com) (Quit: Ex-Chat)
[02:43:27] <meyer> eddyb: I've written a bit in Haskell before. Nothing much more than a minimal (non-compliant, probably) lisp interpreter and some simple programs.
[02:43:31] <pepper_chico> today on go reddit edit someone posted "approximating generics in go" and it's was all about using interface {}, a.k.a. void * of Go to have "Generics"....
[02:43:35] <meyer> eddyb: Very much liked it.
[02:43:51] <pepper_chico> s/ edit/ /
[02:44:14] <pepper_chico> that was a awful post to me
[02:44:18] <SiegeLord> Heh, even in C you don't do that
[02:44:30] <SiegeLord> You'd use macro magic... does Go not have those?
[02:44:45] <pepper_chico> no macros in go
[02:44:51] <meyer> Macros? I don't think there is any standard system.
[02:44:59] <dougxxx> I've seen plenty of void * abuse in C~ :P
[02:45:05] <pepper_chico> well, that's a good thing =)
[02:45:19] <jmmk> Under what circumstances do I want to clone an object?
[02:45:30] <tiffany> using void* is pretty typical for data which you don't touch
[02:45:49] <tiffany> macros are only useful when you feel it's worth the effort to be embedding the object directly
[02:46:13] *** pmoore|dinner is now known as pmoore|away
[02:46:16] <strcat> jmmk: if you can't get away with using references to the existing object
[02:46:25] <strcat> Clone just defines the minimal work to go &T -> T
[02:46:40] <strcat> for example on Rc<T>, clone() means 'increase reference count'
[02:46:55] <strcat> on ~T, it allocates a new box, and then clones over the inner value
[02:47:54] <dougxxx> hm, interesting thought; rust doesn't do unions does it?
[02:48:34] <dougxxx> How would you represent a generic event object? (like in C you'd typically union all the event types)
[02:48:40] <tiffany> enum A{B(int), C(~str)}
[02:48:43] <meyer> An enum
[02:49:07] <eddyb> inb4 dougxxx is amazed
[02:49:08] <mib_dar89i> https://gist.github.com/jb6zb/f404d2b101ea0b02df6c
[02:49:23] <mib_dar89i> eddyb: so I have that, but i'm getting an error
[02:49:51] *** Quits: josh (josh@moz-244364B2.cable.virginm.net) (Quit: josh)
[02:50:03] <pepper_chico> I just compiled rust because now, Rc is automatically borrowed on dereference =)
[02:50:20] <meyer> While I'm on here: Is there documentation for the various library types rustc can output? I've been using rlib, what appears to be a statically-linkable library, since I end up with a single binary, but there's also lib/dynlib/staticlib
[02:50:25] <eddyb> pepper_chico: bah I have an even better PR waiting
[02:50:37] *** Quits: oxum (anonymous@F94B60C3.9C15B13F.520CDC98.IP) (Quit: ...)
[02:50:43] <eddyb> pepper_chico: Rc::new(~"foo").push_char("bar")
[02:50:50] <eddyb> pepper_chico: no explicit dereference
[02:50:55] <pepper_chico> eddyb: seriously, show that
[02:50:58] <pepper_chico> ah cool
[02:51:00] <pepper_chico> very nice
[02:51:23] <meyer> Wait, nevermind. In manual.
[02:51:31] <pepper_chico> I see I'll compile it again when it gets merged
[02:51:48] <dougxxx> (oo... I didn't realize enums did complex type like that, that's great)
[02:52:08] <tiffany> enums are a bit of a misnomer, they're really ADTs
[02:52:34] *** Quits: eibwen (kvirc@moz-46F76C74.dip0.t-ipconnect.de) (Ping timeout)
[02:53:06] <mib_dar89i> I'm trying to use LruCache with RWArc
[02:53:25] <eddyb> mib_dar89i: I'm sorry, I'm very tired
[02:53:29] *** Joins: alisdair (textual@moz-EA60A466.dedicated.allstream.net)
[02:53:38] <eddyb> mib_dar89i: it was morning last time we talked
[02:53:50] <mib_dar89i> yes, it's totally ok
[02:53:53] <mib_dar89i> you have been a lot of help
[02:53:59] <mib_dar89i> but i put it in pastebin
[02:54:06] <eddyb> and now I'm trying to get a bunch more @T removed
[02:54:08] <mib_dar89i> https://gist.github.com/jb6zb/f404d2b101ea0b02df6c
[02:54:10] <eddyb> okay, I'll open FF again
[02:54:39] *** Quits: blank_name (blank_name@463DB555.53526368.6D228269.IP) (Ping timeout)
[02:55:06] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[02:55:14] *** Joins: mib_7ck9so (Mibbit@FF0634D2.4DB138C4.DDE5D3F6.IP)
[02:55:52] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[02:56:06] *** Quits: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net) (Ping timeout)
[02:57:05] <eddyb> mib_dar89i: errors?
[02:57:11] *** Quits: espindola (espindola@moz-9F530B29.com) (Quit: Leaving...)
[02:57:23] <mib_dar89i> error: cannot borrow `*current_cache` as mutable more than once at a time
[02:57:24] *** Joins: kanru (kanru@moz-99690620.hinet-ip.hinet.net)
[02:57:27] <bstrie> eddyb: go to bed!!!
[02:57:32] <mib_dar89i> error: cannot borrow `*current_cache` as mutable more than once at a time
[02:57:38] <eddyb> mib_dar89i: where?
[02:57:39] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[02:57:45] <eddyb> bstrie: but it's 5am :P
[02:57:46] <bstrie> eddyb: in your bed!!!
[02:57:49] <mib_dar89i> current_cache.put(temp, (curr_timestamp,buf.clone()));
[02:57:53] <mib_dar89i> that's where
[02:58:08] <eddyb> bstrie: I've been trying to go late to sleep and wake up late
[02:58:16] <eddyb> bstrie: so I'm closer to dem colonies
[02:58:18] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[02:58:21] <mib_dar89i> it's probably because I'm using it twice, but I don't know how else to do it
[02:58:38] <eddyb> mib_dar89i: ah, I see the problem
[02:59:19] * bstrie uses xkcd.com/now to figure out where eddyb is
[02:59:51] <eddyb> hint: there are no russians here. yet
[03:00:01] <mib_dar89i> ??
[03:00:17] <mib_dar89i> nvm
[03:00:39] <bstrie> eddyb: poland?
[03:00:41] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[03:01:03] <eddyb> bstrie: nope
[03:01:53] <bstrie> is it ukraine? are you contributing to the revolution by replacing the former regime's code with rust?
[03:01:57] <eddyb> mib_dar89i: also less cloning https://gist.github.com/eddyb/5f808c06de6b0ffc6c03
[03:02:01] *** Quits: lpy (lpy@32DE1D6C.56B853B.8C13C571.IP) (Ping timeout)
[03:02:10] <eddyb> bstrie: no russians. that was the hint. so it's *not* ukraine
[03:02:30] <bstrie> I thought crimea had formally separated from ukraine or something, but ok
[03:02:43] <bollu> eddyb: you're from ukraine?
[03:02:47] <eddyb> bstrie: here's an easy one: it's latin-based language
[03:02:49] <eddyb> bollu: no
[03:02:50] *** Quits: alisdair (textual@moz-EA60A466.dedicated.allstream.net) (Connection reset by peer)
[03:03:01] <eddyb> bstrie: that we speak in this fish-shaped country :P
[03:03:06] *** Joins: alisdair (textual@moz-EA60A466.dedicated.allstream.net)
[03:03:12] *** Quits: gwty (gwtypc@CFCDB47B.132F4848.B29E8538.IP) (Ping timeout)
[03:04:43] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[03:05:04] <eddyb> bstrie: did you figure it out yet?
[03:05:06] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[03:05:25] <bstrie> eddyb: I don't wish to offend you, but here in the colonies we don't learn geography for shit. both my previous guesses where shots in the dark, if you showed me a map of eastern europe I'd never be able to tell you which countries are poland and ukraine, let alone what fish they resemble
[03:05:43] <eddyb> Romania, derp
[03:05:51] <bstrie> I guess poland would have to be near germany somwhere
[03:05:52] <bstrie> fuck
[03:05:54] <bstrie> where's germany
[03:06:01] *** Quits: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[03:06:12] <eddyb> also, I feel some sarcasm about your mention of colonies :P
[03:06:18] <eddyb> bstrie: so this is what I do at 5am https://www.youtube.com/watch?v=OglS3Q0Zxik
[03:06:27] <eddyb> the great white shark part is awesome
[03:06:45] <eddyb> so we put our hands up \o/
[03:07:09] <eddyb> and shovel more errors /o\_
[03:08:14] <bollu> eddyb: can I take a shot at guessing? :)
[03:08:23] <eddyb> bollu: I've already said it
[03:08:25] <bstrie> bollu: don't read up!
[03:08:30] *** Quits: kanru (kanru@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[03:08:34] *** Joins: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[03:08:43] *** Joins: blank_name (blank_name@463DB555.53526368.6D228269.IP)
[03:08:46] <bollu> bstrie: whoops!
[03:08:51] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: Textual IRC Client: www.textualapp.com)
[03:08:58] <bollu> I'm using irssi and I don't know how to scroll up :(
[03:09:07] <bstrie> hahaha
[03:09:13] <bstrie> excellent
[03:09:27] <bollu> ah. nvm! page up saves me
[03:09:28] <bollu> :)
[03:10:52] *** Quits: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: mbx)
[03:12:30] <mib_dar89i> eddyb
[03:12:32] <mib_dar89i> you have helped
[03:12:36] <mib_dar89i> tremendously
[03:12:37] <mib_dar89i> thank you
[03:12:50] <eddyb> np
[03:13:32] *** Joins: onelson (owen@18CF7301.95770028.5B6BFE7D.IP)
[03:14:06] <bstrie> eddyb = hero
[03:14:19] <eddyb> error: expected semicolon
[03:15:17] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[03:15:47] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Input/output error)
[03:15:49] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:15:55] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[03:15:56] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:16:13] <eddyb> bstrie: oh you didn't see some of the chat in #servo - so to repeat myself:
[03:16:20] <eddyb> I LIVE TO SERVE RUST
[03:16:24] *** Joins: capt_redbeard (Adium@moz-4998C3D0.ok.ok.cox.net)
[03:18:22] <eddyb> bstrie: hmm, technically I'm an antihero
[03:19:21] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[03:19:42] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[03:20:06] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[03:20:54] <meyer> Is there an idiomatic way to get a byte slice from a primitive type in Rust? Something like unions / casting to char* / casting to some struct to extract bytes in C?
[03:20:55] <mib_7ck9so> hey, I'm using a treemap. Is it sorted such that I can just pop off the entry with the lowest key?
[03:21:12] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[03:21:24] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[03:21:48] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[03:23:13] <strcat> mib_7ck9so: yes, but there isn't an existing function to do that
[03:23:20] <strcat> it is ordered though
[03:23:36] <strcat> you can start iterating through it to find out the lowest/highest key
[03:23:52] <meyer> Hold on, I haven't tried (someu32 as [u8, ..4]).as_mut_slice(), I guess.
[03:23:52] <eddyb> .iter().next()?
[03:24:03] <eddyb> meyer: won't work
[03:24:17] <eddyb> meyer: we have specific hacks in Writer for this :/
[03:24:20] <jmmk> I've tried this like 500 different ways and I don't know how to make it work: https://gist.github.com/jmmk/5d83f5802241655ba755
[03:24:26] <eddyb> that we don't expose anywhere else
[03:24:30] <ChrisMorgan> meyer: transmute
[03:24:43] *** Quits: alisdair (textual@moz-EA60A466.dedicated.allstream.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:24:44] <jmmk> I'm checking a hashmap for a value, and if it doesn't exist I want to load from a bitmap and store that value
[03:24:44] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[03:25:07] <meyer> ChrisMorgan: That looks like it'll work
[03:25:12] <ChrisMorgan> rusti: let x = 42u64; unsafe { std::cast::transmute::<u64, [u8, ..8]>(x) }
[03:25:13] -rusti- [42u8, 0u8, 0u8, 0u8, 0u8, 0u8, 0u8, 0u8]
[03:25:21] <capt_redbeard> Any suggestions for this error? src/game_window.rs:24:14: 24:28 error: failed to find an implementation of trait game_state::GameState for ~game_state::GameState:Send and gist: https://gist.github.com/kylecook80/9381698
[03:25:33] *** Quits: pepper_chico (pepper_chi@moz-37BD872E.dsl.telesp.net.br) (Quit: WeeChat 0.4.1)
[03:25:35] <meyer> eddyb: Thanks for all the help, btw.
[03:25:36] <ChrisMorgan> meyer: that's probably not a good idea, though; I doubt that it's stable with regards to endianness.
[03:26:08] <eddyb> ChrisMorgan: we have intrinsics for endianness
[03:26:19] <ChrisMorgan> True.
[03:26:27] <eddyb> so you can (cheaply) make sure it's a certain endianness
[03:26:43] *** Quits: mib_av7kfw (Mibbit@E0C7C30C.4DB138C4.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:26:44] <meyer> Can I switch on endianess in a macro or something an compile time?
[03:26:46] <ChrisMorgan> Anyway, transmute *exists*.
[03:26:56] <eddyb> may impact perf a bit on the architectures you need to swap bytes, can't remember
[03:27:34] <ChrisMorgan> meyer: #[cfg(target_endian = "little")] for "little" or "big"
[03:27:40] <uzi_mantis> anyone have any issues with corrupting a file after opening it?
[03:27:49] <ChrisMorgan> meyer: c.f. src/libstd/mem.rs
[03:27:59] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Client exited)
[03:28:06] <eddyb> uzi_mantis: you need the right open mode
[03:28:13] <eddyb> uzi_mantis: create vs truncate, IIRC
[03:28:15] <meyer> In this case I only have uints and ints, so I can I can always just shift and truncate/mask or whatever
[03:29:03] <ChrisMorgan> meyer: std::mem has the things for swapping bytes if necessary.
[03:29:27] *** Joins: oxum (anonymous@1CC684C2.4BA3D6CC.520CDC98.IP)
[03:29:42] * ChrisMorgan wonders why we have both to_* and from_* in std::mem, naturally duplicates of one another
[03:29:49] <meyer> ChrisMorgan: Alright. I'll check it out. 
[03:30:25] *** Quits: claudiu (claudiu@moz-33191099.thefacebook.com) (Ping timeout)
[03:30:48] *** Quits: hoverbear (hoverbear@moz-C044EAE5.wireless.uvic.ca) (Quit: Taking a nap.)
[03:32:03] *** Joins: nlminhtl (ignotus@moz-4CB8A1D.site.volia.net)
[03:32:15] <uzi_mantis> here's my strategy for opening a file
[03:32:16] <uzi_mantis> http://pastebin.com/ExPNnKLt
[03:32:17] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[03:32:25] <uzi_mantis> but every time i open a file path, the file goes blank
[03:32:46] <uzi_mantis> and i get a "bad descriptor" file io error upon runtime
[03:33:15] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[03:33:31] <meyer> Not an expert, but pretty sure you are looking for File::open, not File::create
[03:33:53] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[03:33:54] <meyer> For opening an existing file, that is/
[03:34:07] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[03:34:31] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[03:38:44] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[03:39:24] *** Quits: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru) (Quit: Leaving.)
[03:39:33] *** Joins: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru)
[03:40:09] *** Quits: zmike (discomfito@moz-975BC507.hsd1.ct.comcast.net) (Quit: ah. I see.)
[03:40:23] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[03:40:45] <uzi_mantis> that was definitely the error, meyer
[03:40:48] <uzi_mantis> thanks a ton
[03:40:49] <uzi_mantis> !
[03:41:54] <capt_redbeard> Any suggestions for this error? src/game_window.rs:24:14: 24:28 error: failed to find an implementation of trait game_state::GameState for ~game_state::GameState:Send and gist: https://gist.github.com/kylecook80/9381698
[03:42:25] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[03:45:04] *** Quits: soumyaC (uid15286@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[03:45:07] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[03:48:12] *** Joins: ecr (chatzilla@7C463196.5BB0586B.11F8506F.IP)
[03:49:50] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Quit: Computer has gone to sleep.)
[03:50:14] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[03:50:52] *** Quits: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP) (Quit: )
[03:51:04] *** Joins: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se)
[03:51:25] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[03:51:55] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[03:52:12] <meyer> uzi_mantis: No problem. Glad I could help.
[03:52:34] *** Quits: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net) (Client exited)
[03:52:41] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[03:53:07] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[03:54:48] *** Joins: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net)
[03:54:52] *** Quits: canhtak (canhtak@moz-E7F2DD45.dsl.bell.ca) (Quit: canhtak)
[03:55:31] *** Quits: zz_kimundi (kimundi@moz-A54DBA56.dip0.t-ipconnect.de) (Ping timeout)
[03:55:32] <bollu> can I figure out which type is stored in an Enum?
[03:55:39] <bollu> oh, wait, I can match an enum right?
[03:56:17] <meyer> You can match an enum.
[03:58:44] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[03:59:20] *** Joins: zz_kimundi (kimundi@moz-9F18BF79.dip0.t-ipconnect.de)
[03:59:47] *** zz_kimundi is now known as kimundi
[04:01:42] *** Quits: oxum (anonymous@1CC684C2.4BA3D6CC.520CDC98.IP) (Quit: Bye..)
[04:02:01] *** Joins: oxum (anonymous@1CC684C2.4BA3D6CC.520CDC98.IP)
[04:04:34] *** Joins: bholley (bholley@32EFA1FF.F0338C73.AECC5372.IP)
[04:04:36] <bholley> nmatsakis: ping
[04:06:10] *** Quits: mreca (mreca@184B4FDA.9B1DA26B.DDE5D3F6.IP) (Quit: Textual IRC Client: www.textualapp.com)
[04:06:26] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[04:06:56] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[04:07:59] *** Quits: mib_7ck9so (Mibbit@FF0634D2.4DB138C4.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:08:33] <bollu> I'm having a lifetime problem - https://gist.github.com/4e54fb4ff9aab6719e9e
[04:08:37] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[04:09:28] <ChrisMorgan> bollu: the traceback should be another file in the gist, not the description where it's stuffed into one line
[04:09:46] <bollu> chrisMorgan: added it as a description
[04:10:01] <bollu> added it as a comment*
[04:10:43] <ChrisMorgan> Strange, I had a notion that rustc complained if you had a reference return type with no lifetime specified.
[04:11:13] <strcat> ChrisMorgan: it's just unusable
[04:11:16] <ChrisMorgan> bollu: the fix is to link the lifetimes of self and the return value: `pub fn get_render_window<'a>(&'a mut self) -> &'a mut RenderWindow { &mut self.window }`
[04:11:29] <bollu> ah, okay. 
[04:11:43] <bollu> didn't realize I had to do the whole lifetime ritual in this case too ~_~
[04:11:56] <ChrisMorgan> strcat: I reckon it should be an error in its own right, explaining what needs to be changed. As it is, people will get confused before they understand it all.
[04:12:04] <strcat> ChrisMorgan: agree
[04:12:06] <strcat> or a lint
[04:12:33] <strcat> (E-easy bug right there)
[04:12:33] <ChrisMorgan> I thought lints only get run once it can compile?
[04:12:59] <strcat> ChrisMorgan: true
[04:13:16] <ChrisMorgan> https://github.com/mozilla/rust/pull/12238 ☺
[04:15:10] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[04:15:14] <meyer> I have type ID = [u8, ..32]. I'm assuming I'm going to need to wrap that in a struct if I want it to implement TotalOrd?
[04:15:16] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Ping timeout)
[04:15:17] <meyer> Something that I really liked about Go is that you could alias types, and have functions apply specifically to the aliased type (and not work with the normal one without casting).
[04:15:35] <strcat> struct Foo(T);
[04:15:38] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[04:15:57] <strcat> we're just missing newtype deriving ;p
[04:16:55] <bollu> strcat: inside an Enum, I don't even need to write struct Foo(T), I can just write Foo(T). why is that?
[04:17:19] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[04:17:26] <strcat> bollu: because the enum variants are types, they're constructors of the enum's type
[04:17:41] <strcat> aren't types*
[04:17:43] *** Quits: sunfish (chatzilla@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[04:17:47] * strcat is too tired for typing
[04:17:50] * ChrisMorgan imagines a Rust compiler that does not *suggest* these sorts of obvious fixes but *makes* them
[04:18:06] <strcat> ChrisMorgan: type error -> automatically insert transmute
[04:18:14] <Havvy> ChrisMorgan:  rustc --fix-obvious-errors
[04:18:16] <Havvy> ;)
[04:18:21] <strcat> wrong size? automatically insert padding
[04:18:27] <strcat> all types errors solved
[04:18:47] <bollu> strcat: ah. I think I understand. but they don't use the usual constructor syntax do they? 
[04:18:49] <aatch> technically, having a return reference with no lifetime can be valid.
[04:19:02] <bollu> ChrisMorgan: you may like this - https://github.com/munificent/vigil
[04:19:10] <strcat> bollu: by constructor I mean type constructor
[04:19:22] <ChrisMorgan> strcat: "Got a beef with static compilers because they refuse to compile your code? No more! We… uh… fix them for you!"
[04:19:46] <ChrisMorgan> aatch: can be valid meaning that it is possible for it to compile? How?
[04:19:56] <cmr> 'static
[04:20:00] <cmr> is the only lifetime it can have
[04:20:02] <cmr> afaik
[04:20:09] <aatch> the returned reference has an anonymous lifetime, which just means it lasts for scope.
[04:20:16] <strcat> ChrisMorgan: https://github.com/mattdiamond/fuckitjs
[04:20:20] <bollu> is 'static special? or is the same as 'a, 'b...
[04:20:21] *** Joins: derek_c (derek@moz-27FDB835.cit.cornell.edu)
[04:20:22] <aatch> you can't write a safe function that does it.
[04:20:46] <aatch> but the other side, the call, will be fine with it.
[04:21:04] <ChrisMorgan> aatch: can you give an example of such a legal function definition?
[04:21:09] <strcat> ChrisMorgan: and on the topic of web technology parodies, https://github.com/videlalvaro/gifsockets
[04:21:25] *** Quits: bholley (bholley@32EFA1FF.F0338C73.AECC5372.IP) (Ping timeout)
[04:22:47] *** Joins: Erik_ (Erik_S@moz-6691E309.hlrn.qwest.net)
[04:23:32] <Havvy> fuckitjs > gifsockets, but wow is gifsockets innovative.
[04:23:37] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[04:23:49] <meyer> The documentation search on the Rust website should really work across all the available libraries / crates. 
[04:24:07] <meyer> Not just std / collections / whatever individually.
[04:24:21] <aatch> ChrisMorgan, well this is *legal*: fn anon_str() -> &str { unsafe { std::cast::transmute("abc") } }
[04:24:25] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[04:24:35] *** Joins: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net)
[04:24:48] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[04:24:49] * ChrisMorgan admits defeat
[04:25:27] <aatch> Dangerously unsafe though, because rustc will just infer whatever lifetime it wants.
[04:25:43] <cmr> meyer: that is how it originally worked, but the rewrite of the web frontend generated into rust lost that :(
[04:26:14] *** Quits: MP2E (cray@moz-EB1E242D.lv.lv.cox.net) (Quit: bbl)
[04:26:33] <meyer> What's the web frontend written in?
[04:26:51] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[04:26:55] <cmr> it's mostly static with a spattering of js, of course.
[04:27:01] <cmr> *generator
[04:27:10] <ChrisMorgan> meyer: rustdoc generates a handful of variables which some static JavaScript consumes.
[04:27:12] <cmr> it's generated from the json rustdoc emits, in rust.
[04:27:16] <bollu> someone please remind me how I attach a lifetime an implementation of a struct >_<
[04:27:21] <bollu> to an*
[04:27:50] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[04:27:59] <ChrisMorgan> Where "a handful of variables" means searchIndex and allPaths, in /path/to/rustdoc/crate/output/search-index.js.
[04:28:54] <meyer> cmr + ChrisMorgan: Alright. I might look at trying to fix that later. Is there any particular reason it'll be more difficult than I expect?
[04:29:06] <aatch> My favorite lines in my presentation so far: "Rust variables are like Egyptian pharoahs" "They insist of dying with all their possessions" (relating to borrowing references)
[04:29:28] <ChrisMorgan> meyer: shouldn't be terribly complex
[04:29:30] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[04:30:22] <cmr> meyer: the way it used to work is that rustdoc would dump all the json for each crate into a directory, and then afterwards slurp them all up and spit out a single directory with docs for all the crates, inter-hyperlinked and with a unified search.
[04:30:25] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[04:30:26] <bollu> umm, a little help ? :)  the docs don't show lifetimes on structs
[04:30:32] <ChrisMorgan> meyer: c.f. https://github.com/mozilla/rust/issues/12121
[04:30:34] <cmr> I'm honestly not terribly familiar with how it works now...
[04:30:41] <cmr> bollu: struct Foo<'a> { x: &'a int }
[04:30:46] <cmr> impl<'a> Foo<'a> { ... }
[04:30:56] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[04:31:03] <ChrisMorgan> It could be done in *almost* pure JavaScript, the only bit of special knowledge needed being the names of the crates to use.
[04:31:10] <bollu> ah, goddamn it! I forgot I had to denote the <'a> at both the impl and the Foo
[04:31:11] <bollu> thanks
[04:31:28] *** Joins: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca)
[04:31:44] <meyer> ChrisMorgan + cmr: Cool. I might try to write a fix after finals are over.
[04:32:02] *** Quits: nlminhtl (ignotus@moz-4CB8A1D.site.volia.net) (Ping timeout)
[04:32:15] <ChrisMorgan> The pure JS approach would be "load this cratename/search-index.js, move the variables into a new place indexed by crate, then move on to the next cratename/search-index.js", but that's not exactly the most efficient way of doing it.
[04:32:31] <capt_redbeard> Hopefully I'm not annoying anyone with this. Just seeing if anyone who has gotten on recently could help. Any suggestions for this error? src/game_window.rs:24:14: 24:28 error: failed to find an implementation of trait game_state::GameState for ~game_state::GameState:Send and gist: https://gist.github.com/kylecook80/9381698
[04:32:53] <ChrisMorgan> I would expect search to be in the current crate by default, with probably a link at the bottom of the page to show results from all crates which would then expand the search domain.
[04:33:17] <ChrisMorgan> capt_redbeard: don't use trait objects unless you need to. Generics are typically the better solution.
[04:33:44] <capt_redbeard> ChrisMorgan: Hmm alright.
[04:34:11] <ChrisMorgan> capt_redbeard: a trait Trait is not implemented for ~Trait by default; you must implement it if you want it.
[04:34:15] <cmr> They're probably the right choice here, given that you're going to be swapping out different GameStates...
[04:34:24] <ChrisMorgan> Yeah, I hadn't actually *read* the code yet.
[04:35:00] <ChrisMorgan> The reason for this is to do with Self—if Self is in the return type of any method, it's not possible for ~Trait to implement Trait.
[04:35:19] <capt_redbeard> It seemed the most logical choice as I need to have different GameStates with those set of methods, but each Gamestate may have additional methods not necessary for others.
[04:35:33] <aatch> I don't think thats the issue here though. capt_redbeard are you sure that the correct error/code combination?
[04:35:51] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[04:36:05] <aatch> Wait, got it. Two errors here.
[04:36:10] <cceckman> Grph. I can't cast or transmute my struct into its trait to get a static reference to it. Thoughts? I have a static &'static mut TraitName, which I want to initializes as a ref to a struct that implements the trait, but neither "as" nor "transmute" can be run statically.
[04:36:26] <cceckman> ("statically" as in as the initial value of the static variable)
[04:36:46] <aatch> One, you have a `~` in the `state: ...` field that you don't need
[04:36:49] <ChrisMorgan> capt_redbeard: you can't implement Trait for a ~Trait with static methods, either.
[04:37:32] <capt_redbeard> Ok so maybe I can explain what I want to do here then. I want to have the struct own the reference to both window and state. Is that even feasible?
[04:37:42] <aatch> You take a ~GameState, so ~default_method is trying to make ~~GameState (and also trying to coerce ~GameState to GameState)
[04:37:46] <aatch> capt_redbeard, ignore them.
[04:37:52] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[04:37:59] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[04:38:00] <aatch> Trait objects are fine here.
[04:38:07] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[04:38:13] <ChrisMorgan> capt_redbeard: I think you meant GameState's methods to be instance methods, i.e. fn x(&mut self) rather than fn x()
[04:38:40] <ChrisMorgan> Yes, trait objects should be fine once some of the other things are fixed up.
[04:39:12] <aatch> capt_redbeard, the second error is in set_game_state. you should probably be taking a trait object there.
[04:39:36] <aatch> Although technically you could create the trait object in the method.
[04:39:56] <aatch> Oh, third error, same place, set_game_state should be &mut self.
[04:40:12] <bollu> if I use the multiply trait, do I have to implement  2 traits (float * vector2 and vector2 * float) ? 
[04:40:19] <bollu> or is there some way to say "figure it out"
[04:40:20] <bollu> ?
[04:40:31] <capt_redbeard> Ohh thats right. Ok so I got the syntax correct for accepting a trait object, what is the syntax for instantiating one?
[04:41:04] <aatch> capt_redbeard, just ~val, if the type of val implements the trait, it'll coerce to a trait object.
[04:41:08] *** Joins: dranov (dranov@F1420C19.3C4F00D.E16F0CF5.IP)
[04:41:14] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[04:41:19] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[04:42:47] <capt_redbeard> aatch, ok that actually makes it quite easy then.
[04:43:18] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[04:43:21] <ChrisMorgan> Be aware though that trait coercion has at least one bug, so you *might* run into issues with it: https://github.com/mozilla/rust/issues/11612. But that's only in one certain case and was for &-objects rather than ~-objects.
[04:44:13] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[04:44:16] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[04:46:07] <bollu> Question: how do I multiply something by &f32?
[04:46:09] <aatch> Well, I'm happy. I managed to get a Highlander reference into my presentation.
[04:46:21] <aatch> bollu, X-Y problem.
[04:46:28] <aatch> What are you *actually* trying to do.
[04:46:55] <bollu> attch: trying to implement mutiply for vector2 * float 
[04:46:58] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[04:47:01] *** Joins: jdm (jdm@moz-E41E4269.dsl.teksavvy.com)
[04:47:01] *** ChanServ sets mode: +o jdm
[04:47:01] <bollu> but rhs is of type &f32
[04:47:20] <aatch> bollu, then dereference it?
[04:47:34] <strcat> rusti: let x = 1.0f32; let y = &x as *f32 as uint; y * 5
[04:47:34] -rusti- 700820794283660u
[04:47:53] <aatch> strcat, very clever... -.-
[04:48:10] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:48:12] <bollu> thanks :)
[04:48:23] <strcat> rusti: let x = 1.0f32; let y = &x; *y * 5.0
[04:48:24] -rusti- 5f32
[04:48:24] <strcat> ;P
[04:48:59] <bollu> rusti: let x = &3.0; let y = 1.0; y * *x 
[04:49:00] -rusti- 3f64
[04:49:05] <bollu> rusti: let x = &3.0; let y = 1.0; y ** x 
[04:49:05] -rusti- 3f64
[04:49:07] <bollu> nice
[04:49:33] <aatch> bollu, rust cares not for your whitespace (most of the time)
[04:49:40] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[04:49:56] <aatch> rusti: let a = 1; let b = &&a;
[04:49:56] -rusti- <anon>:10:28: 10:30 error: unexpected token: `&&`
[04:49:56] -rusti- <anon>:10         let a = 1; let b = &&a;
[04:49:56] -rusti-                                      ^~
[04:49:56] -rusti- application terminated with error code 101
[04:50:01] <aatch> rusti: let a = 1; let b = & &a;
[04:50:02] -rusti- <anon>:10:24: 10:25 warning: unused variable: `b`, #[warn(unused_variable)] on by default
[04:50:02] -rusti- <anon>:10         let a = 1; let b = & &a;
[04:50:02] -rusti-                                  ^
[04:50:02] -rusti- ()
[04:50:11] <ChrisMorgan> Places it does: inside strings, reference-to-reference which must be & &x or &(&x) rather than &&x.
[04:50:22] <ChrisMorgan> And doc comments too, I guess.
[04:50:41] <ChrisMorgan> And between keywords/identifiers
[04:50:45] <aatch> ChrisMorgan, eh, strings and comments are just tokens.
[04:51:21] *** Quits: mib_dar89i (Mibbit@moz-F854F99.cs.virginia.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[04:51:46] <ChrisMorgan> It had never occurred to me to write & 'static "foo", but it works, of course.
[04:51:58] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[04:52:05] <cceckman> Q: If I want a mutable, static, reference, typed as a trait, to a mutable, static struct whose type implements that trait... how does one do that? (I'm getting errors when I try to cast.)
[04:52:29] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[04:52:54] <cceckman> Thing I'm trying that doesn't work:
[04:52:57] <cceckman> rusti: static uart : &'static mut Serial = &'static mut arm926ej_s::serial::UART0 as &'static mut Serial;
[04:52:58] -rusti- pastebinned 17 lines of output: http://sprunge.us/GCBg
[04:53:17] <cceckman> (well, imagine all those names were valid. :-P)
[04:53:46] <aatch> cceckman, you can't do it in a static anyway.
[04:53:53] *** Quits: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[04:54:24] * aatch goes and checks that
[04:54:48] <cceckman> aatch: I've tried a few ways of doing it, but none seem to work; neither as nor transmute will go through at compile-time.
[04:55:19] <cceckman> I see no reason why it *shouldn't* work- I could do it with raw pointers, I think- but still. Annoying.
[04:55:19] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[04:55:41] <dougxxx> capt_redbeard: https://gist.github.com/shadowmint/9382878/revisions 
[04:55:45] <cmr> well you can't have a &mut in a static.
[04:55:53] <cmr> afaik...
[04:55:55] <dougxxx> woudl have been the most tirival fix for your specific error
[04:55:56] <aatch> cceckman, well you can't have mutable references in a constant
[04:56:02] <cmr> I think it needs to be a "static mut"
[04:56:10] <aatch> nah, not even that works
[04:56:21] <cmr> shame
[04:56:28] <cmr> feels like a bug.
[04:56:29] <ChrisMorgan> Rust's handling of statics is sometimes rather constraining.
[04:56:32] *** Joins: nlminhtl (ignotus@moz-4CB8A1D.site.volia.net)
[04:56:34] <cceckman> The object it refers to (serial::UART0) is static mut
[04:56:40] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[04:56:45] <aatch> cceckman, doesn't matter.
[04:56:49] <bollu> I'm not able to overload multiply (Mul trait). help? https://gist.github.com/bollu/b54cf9d5c223418a9358
[04:57:01] <bollu> ../src/Math.rs:54:1: 1:1 error: cannot provide an extension implementation where both trait and type are not defined in this crate
[04:57:03] <aatch> references in constants have to be immutable.
[04:57:05] <ChrisMorgan> Yeah, given static mut ~Trait objects, static mut &'static mut Trait feels like it should work.
[04:57:07] <cceckman> bollu- I had a similar issue the other day. :-/
[04:57:08] <bollu> so I'm assuming it's not possible
[04:57:11] <capt_redbeard> dougxxx: Wow thank you so much!
[04:57:11] <cmr> bollu: yes, that is not allowed.
[04:57:18] <bollu> well, that's a bummer
[04:57:20] <cmr> bollu: libstd already implements Mul for f32
[04:57:27] <cceckman> aatch: I'm not trying to have any constants- just a global variable.
[04:57:31] <cmr> can't have two implemtnations, the methods would conflict.
[04:57:34] <dougxxx> I couldn't make the set_game_state work tho. :P
[04:57:37] <aatch> cceckman, same thing.
[04:57:38] <bollu> yeah, but that's f32 * f32 not f32 * vector2
[04:57:44] <cmr> doesn't matter.
[04:57:48] *** Quits: zmthy (zmthy@moz-C2881CC3.ecs.vuw.ac.nz) (Quit: leaving)
[04:57:57] <cmr> (the rules for this will likely be changed to allow this in the near future)
[04:58:00] <bollu> hm. okay. any workaround / proposed olution :)
[04:58:03] <bollu> solution*
[04:58:10] <bollu> oh, okay. that's nice to know
[04:58:18] <cmr> there's no workaround right now, besides just not using the * operator.
[04:58:29] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[04:58:40] <cceckman> aatch: Wait, really? Constants = immutable statics, global variable = maybe mutable static
[04:58:45] <capt_redbeard> dougxxx: thats ok! I will continue to work on it :)
[04:58:51] <bollu> cmr: I doubt this is possible, but can I overload the symbol "x" ?
[04:58:51] <cceckman> If I'm using the usual terminology correctly
[04:58:55] <cmr> bollu: no.
[04:59:00] <cmr> bollu: you'll just need to use a normal method.
[04:59:01] <bollu> okay.
[04:59:06] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[04:59:07] <cmr> it's annoying :(
[04:59:10] <bollu> I was hoping for neater cross products
[04:59:12] <bollu> yeah,
[04:59:28] <aatch> cceckman, it sounds like you're trying to do something Rust tries hard to prevent you from doing.
[04:59:31] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[04:59:31] <Yurume> cceckman: global variables are inherently unsafe.
[04:59:32] <cceckman> bollu: Yep, ran into the *exact* same issue about last week.
[04:59:56] <bollu> cceckman: you have your vector class somewhere accesible? I'd like to take a look :)
[05:00:22] *** Quits: enos (jkingyens@moz-E6FB95AC.lightspeed.sntcca.sbcglobal.net) (Quit: enos)
[05:00:25] <cceckman> bollu: I gave up, moved to a different project- was just trying to get a feel for Rust. Sorry. :-/
[05:00:27] <ChrisMorgan> bollu: just means you need to use vector2 * f32 rather than f32 * vector2.
[05:00:46] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[05:00:47] <cmr> bollu: note https://github.com/bjz/cgmath-rs and https://github.com/SiegeLord/RustAlgebloat/
[05:00:54] <bollu> no probs :) ChrisMorgan: yep, I got that. but f32 * vector2 reads more nicely - more like an equation
[05:01:04] <cceckman> Yurume: So, a variable like "current page table" or "current process" should be instanced? Bare-metal dev here.
[05:01:13] <bollu> @cmr: it's a bad practice of mine to rewrite math libs ;)
[05:01:32] <ChrisMorgan> cceckman: that's what the context object pattern is about. Rust encourages such things.
[05:01:41] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:01:41] <ecr> bollu: you could make a newtype wrapper around f32 and define your own Mul instance for that type. not ideal, but it would work.
[05:01:42] *** Quits: heftig (heftig@moz-656F0540.dip0.t-ipconnect.de) (Ping timeout)
[05:01:44] <ChrisMorgan> (It encourages them by making globals hard to use.)
[05:01:56] <cceckman> ChrisMorgan: heh, fair enough.
[05:01:57] *** Quits: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net) (Ping timeout)
[05:02:14] <Yurume> cceckman: depends, if it is a low-level thing you don't have to pursue the total safety anyway, and in that case you can use (unsafe) static mut items.
[05:02:22] *** Joins: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net)
[05:02:28] <bollu> ecr: I don't think that's worth it 
[05:02:30] <cmr> ... but that's not going to fly in SMP anyway.
[05:02:35] <Yurume> static mut items are made unsafe since you cannot ensure it is safe to access across multiple tasks.
[05:02:49] * ChrisMorgan blinks at the notion that low-level things don't have to pursue total safety
[05:02:50] <aatch> cmr, #[thread_local] is a thing, to be fair.
[05:02:52] <cceckman> Yurume: That's what I'm trying to get- lots of unsafe functions around- but I'm trying to get a reference to the static mut object. -.-
[05:02:57] <cmr> aatch: not on bare metal it isn't.
[05:03:08] <aatch> cmr... good point
[05:03:15] <ecr> bollu: probably not. especially if cmr is right in that this will change eventually
[05:03:39] <Yurume> ChrisMorgan: "as much safe as possible" != "totally safe", even if we limit the "safety" to the memory safety...
[05:03:40] <cceckman> I'd been thinking about turning this module into a class (struct, fine) anyway to make it a little more reusable anyway. Guess I'll head in that direction- just means more time before I can test. -.-
[05:04:00] <cceckman> The odd thing is just being able to have a static mut, but not a static mut reference. Bleh.
[05:04:01] <Yurume> as safer as possible, my English is somewhat distorted
[05:04:09] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[05:04:10] *** Joins: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP)
[05:04:10] *** ChanServ sets mode: +ao brson brson
[05:04:21] <ChrisMorgan> Yurume: you used the word "pursue", which doesn't require attaining total safety.
[05:05:17] *** Quits: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net) (Ping timeout)
[05:05:19] <Yurume> well, read that as "seek for", if that does matter.
[05:06:16] <ChrisMorgan> Yeah—you're seeking total safety, whether you attain it or not.
[05:06:20] <Yurume> anyway, Rust encourages i) writing safe code and ii) separating unsafe code from safe code, so take advantage of it.
[05:06:27] <bollu> is there a modulo arithmetic like type ? 
[05:06:35] <bollu> in the stdliib?
[05:06:37] <cmr> bollu: there is a % operator
[05:06:50] <Yurume> ChrisMorgan: maybe my vocab is a bit flawed...
[05:07:20] <bollu> cmr: that's close enough :)
[05:07:59] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[05:08:08] <Yurume> cceckman: you can emulate references in static mut with *cough* *cough* raw pointers, obviously with their problems.
[05:08:17] <ecr> bollu: % is the Rem trait FYI
[05:08:26] <Yurume> you will want to wrap the static mut with a safe interface
[05:09:15] *** Joins: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net)
[05:09:26] <bollu> ecr: ty
[05:11:45] *** Joins: heftig (heftig@moz-35E360DF.dip0.t-ipconnect.de)
[05:12:11] <bollu> pi is called as Archimedes' constant? TIL!
[05:12:17] *** Joins: maxli1 (Instantbir@moz-1650391B.hsd1.ca.comcast.net)
[05:13:24] <bollu> does to_radians handle angles > 360 degrees ?
[05:13:39] <bollu> rusti: 720.to_radians()
[05:13:39] -rusti- <anon>:10:9: 10:25 error: type `<generic integer #0>` does not implement any method in scope named `to_radians`
[05:13:39] -rusti- <anon>:10         720.to_radians()
[05:13:40] -rusti-                   ^~~~~~~~~~~~~~~~
[05:13:40] -rusti- error: aborting due to previous error
[05:13:40] -rusti- application terminated with error code 101
[05:13:42] <ecr> tau is the one true circle constant
[05:13:46] <bollu> ecr: ^
[05:13:57] <bollu> rusti: (720.0)to_radians()
[05:13:58] -rusti- <anon>:10:16: 10:26 error: expected one of `;`, `}` but found `to_radians`
[05:13:58] -rusti- <anon>:10         (720.0)to_radians()
[05:13:58] -rusti-                          ^~~~~~~~~~
[05:13:58] -rusti- application terminated with error code 101
[05:14:19] <ecr> rusti
[05:14:25] *** Quits: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net) (Ping timeout)
[05:14:27] <ecr> rusti: 720i.to_radians()
[05:14:28] -rusti- <anon>:10:9: 10:26 error: type `int` does not implement any method in scope named `to_radians`
[05:14:28] -rusti- <anon>:10         720i.to_radians()
[05:14:28] -rusti-                   ^~~~~~~~~~~~~~~~~
[05:14:28] -rusti- error: aborting due to previous error
[05:14:28] -rusti- application terminated with error code 101
[05:14:36] <bollu> ecr: it's on Real
[05:14:41] <ecr> oh
[05:14:50] <ecr> rusti: 720f32.to_radians()
[05:14:51] -rusti- 12.566371f32
[05:15:02] <ecr> looks like it does
[05:15:22] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[05:15:52] *** Joins: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net)
[05:15:54] <bollu> rusti: 4 * std::f32::consts - 720f32.to_radians()
[05:15:55] -rusti- <anon>:10:13: 10:29 error: unresolved name `std::f32::consts`.
[05:15:55] -rusti- <anon>:10         4 * std::f32::consts - 720f32.to_radians()
[05:15:55] -rusti-                       ^~~~~~~~~~~~~~~~
[05:15:56] -rusti- error: aborting due to previous error
[05:15:56] -rusti- application terminated with error code 101
[05:16:01] <bollu> rusti: 4 * std::f32::consts::pi - 720f32.to_radians()
[05:16:02] -rusti- <anon>:10:13: 10:33 error: unresolved name `std::f32::consts::pi`.
[05:16:02] -rusti- <anon>:10         4 * std::f32::consts::pi - 720f32.to_radians()
[05:16:02] -rusti-                       ^~~~~~~~~~~~~~~~~~~~
[05:16:02] -rusti- error: aborting due to previous error
[05:16:02] -concrete.mozilla.org- *** Channel msg/noticeflood detected (limit is 10 per 10 seconds), setting mode +M
[05:16:02] *** concrete.mozilla.org sets mode: +M 
[05:16:02] -rusti- application terminated with error code 101
[05:16:25] <cmr> bollu: rusti accepts private messages.
[05:16:30] *** cmr sets mode: -M 
[05:16:31] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[05:16:35] <bollu> cmr: ah, yeah I'd forgotten
[05:17:22] *** Quits: nlminhtl (ignotus@moz-4CB8A1D.site.volia.net) (Ping timeout)
[05:21:13] *** Joins: echristo (echristo@moz-1892C634.hsd1.ca.comcast.net)
[05:22:21] <capt_redbeard> Ok, so for this code:   pub fn set_game_state<T: GameState>(&mut self, state: ~T) {
[05:22:21] <capt_redbeard>     self.state = state;
[05:22:21] <capt_redbeard>   } I get expected `~game_state::GameState:Send` but found `~T`. I know this is a syntax problem.
[05:22:30] <bollu> I don't see the show trait in the docs. where is it?
[05:22:46] <cmr> bollu: http://static.rust-lang.org/doc/master/std/fmt/trait.Show.html
[05:23:24] <bollu> @cmr: it's not there in the 0.9 docs. any reason?
[05:23:33] <cmr> capt_redbeard: I believe that should just be `pub fn set_game_state(&mut self, state: ~GameState) { ... }`
[05:23:38] <cmr> bollu: it didn't exist.
[05:23:45] <bollu> @cmr: oh, okay :)
[05:24:05] <capt_redbeard> cmr: gah! That was it.
[05:24:18] <cmr> capt_redbeard: a bit confusing I think.... might want to open a bug on that.
[05:24:21] <cmr> I would expect it to work.
[05:24:59] <capt_redbeard> cmr: I would be happy to open a bug report. Are there any docs on exactly what info needs to be put into the issue on github?
[05:25:56] <cmr> capt_redbeard: http://static.rust-lang.org/doc/master/complement-bugreport.html
[05:25:57] <bollu> @cmr: where can I look into an example implementation of Show? 
[05:26:11] <cmr> capt_redbeard: in general... just be as descriptive as possible :)
[05:26:20] <capt_redbeard> cmr: Fantastic! Thank you
[05:27:06] <cmr> bollu: http://static.rust-lang.org/doc/master/src/std/home/rustbuild/src/rust-buildbot/slave/doc/build/src/libstd/ascii.rs.html#129 is a super simple example.
[05:27:14] <bollu> ty
[05:27:18] <cmr> bollu: also note that there's a #[deriving(Show)]
[05:27:26] <cmr> for those cases where you don't need anything clever.
[05:27:51] <bollu> cmr: yep, but I want to print an angle in terms of PI, not just show the raw value
[05:27:59] <cmr> ah, yep.
[05:28:33] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[05:28:52] *** Joins: nlminhtl (ignotus@moz-4CB8A1D.site.volia.net)
[05:29:26] *** Joins: edwardw (edwardw@E6E87FA7.354F6412.B9C6B12A.IP)
[05:29:57] *** Parts: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) ()
[05:29:58] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[05:30:15] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[05:32:14] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[05:32:18] <bollu> rusti:{  -90 % 180 }
[05:32:41] <cmr> it needs a space after the :
[05:32:43] <bollu> ah
[05:32:47] <bollu> rusti: {  -90 % 180 }
[05:32:49] -rusti- -90
[05:32:52] <bollu> hmm
[05:33:03] <bollu> so % will not work 
[05:33:06] <bollu> for my usecase
[05:33:32] *** Quits: uzi_mantis (iz@A3D0DE69.4DB138C4.DDE5D3F6.IP) (Quit: )
[05:34:36] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[05:35:44] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[05:35:51] <bollu> rusti: f (x : int) -> int { while ( x > 0) { x -= 2; } x }
[05:35:52] -rusti- <anon>:10:14: 10:15 error: expected `,` but found `:`
[05:35:52] -rusti- <anon>:10         f (x : int) -> int { while ( x > 0) { x -= 2; } x }
[05:35:52] -rusti-                        ^
[05:35:52] -rusti- application terminated with error code 101
[05:36:09] <bollu> rusti: fn f (x : int) -> int { while ( x > 0) { x -= 2; } x }
[05:36:09] -rusti- <anon>:10:50: 10:51 error: cannot assign to immutable argument `x`
[05:36:09] -rusti- <anon>:10         fn f (x : int) -> int { while ( x > 0) { x -= 2; } x }
[05:36:09] -rusti-                                                            ^
[05:36:10] -rusti- error: aborting due to previous error
[05:36:10] -rusti- application terminated with error code 101
[05:38:22] <dougxxx> Just idly, why is Eq not a default on structs? 
[05:38:31] <cmr> you can say `fn f(mut x: int) { ... }`
[05:38:35] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[05:38:44] <cmr> dougxxx: no library trait is automatically implemented.
[05:38:47] <cmr> str
[05:38:49] <cmr> eugh
[05:38:53] <cmr> (bad paste)
[05:39:14] <cmr> dougxxx: there's a proposal to have a #[deriving(Data)] that "most" structs implement.
[05:39:20] <cmr> that has the usual traits you expect.
[05:39:25] <cmr> Eq, Ord, Show, etc.
[05:39:28] <dougxxx> yep
[05:39:31] <dougxxx> that would be nice
[05:39:34] <cmr> dougxxx: http://smallcultfollowing.com/babysteps/blog/2014/02/28/rust-rfc-opt-in-builtin-traits/
[05:40:38] <cmr> note that niko's posts assume a language in his head that is not-quite-rust, but is his vision of what-rust-is-going-to-be-as-of-now
[05:40:47] <cmr> Share doesn't exist (yet), for example.
[05:40:58] *** Joins: bharadwaj (uid11995@moz-5F4AA75A.irccloud.com)
[05:42:27] *** Joins: lpy (lpy@ABD12C3A.F09091A8.1348A864.IP)
[05:42:32] <bollu> cmr: more complex fmt example?
[05:42:37] <bollu> @cmr: more complex fmt example?
[05:42:40] *** Quits: nlminhtl (ignotus@moz-4CB8A1D.site.volia.net) (Ping timeout)
[05:42:47] <Yurume> std::fmt you meant?
[05:43:02] *** Joins: nlminhtl (ignotus@moz-4CB8A1D.site.volia.net)
[05:43:04] <cmr> bollu: look at any of the implementations for any of the types that implement Show :)
[05:43:18] <bollu> oh, yeah should have thought of that :)
[05:43:40] *** Quits: nlminhtl (ignotus@moz-4CB8A1D.site.volia.net) (Quit: Konversation terminated!)
[05:43:45] *** Joins: nlminhtl (ignotus@moz-4CB8A1D.site.volia.net)
[05:44:44] *** Joins: nlminhtl|home (ignotus@moz-4CB8A1D.site.volia.net)
[05:44:44] *** Quits: nlminhtl (ignotus@moz-4CB8A1D.site.volia.net) (Connection reset by peer)
[05:44:53] <capt_redbeard> Is there a way to make a custom type copyable?
[05:45:17] *** Quits: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca) (Quit: canhtak)
[05:45:33] <cmr> capt_redbeard: what exactly do you mean by copyable?
[05:45:49] <cmr> `let x = y;` not be a move? (This is what Pod types do)
[05:45:49] <capt_redbeard> src/main.rs:33:31: 33:35 error: use of moved value: `menu`
[05:45:49] <capt_redbeard> src/main.rs:33   game_window.set_game_state(~menu);
[05:45:49] <capt_redbeard>                                              ^~~~
[05:45:49] <capt_redbeard> src/main.rs:32:42: 32:46 note: `menu` moved here because it has type `menu::Menu`, which is non-copyable (perhaps you meant to use clone()?)
[05:45:49] <capt_redbeard> src/main.rs:32   let mut game_window = GameWindow::new(~menu);
[05:46:11] <cmr> ah yeah no easy way around that, you'll just need to clone it.
[05:46:26] <capt_redbeard> And cloning is essentially going to "move" it to the struct?
[05:46:28] <cmr> what exactly do you want here, behavior wise?
[05:46:41] <capt_redbeard> Well, I want the struct to atually own the menu now.
[05:46:51] <capt_redbeard> Although now that I think about it, that may not be the best idea.
[05:46:59] *** Quits: quibbit (Mibbit@moz-1BB03833.lnk.telstra.net) (Quit: http://www.mibbit.com ajax IRC Client)
[05:47:07] <cmr> indeed, cloning it creates a new, independant copy.
[05:47:11] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[05:47:31] <cmr> do you want two references to the same object?
[05:47:41] <capt_redbeard> cmr: i could just have the struct store a borrowed pointer because I may want to change the game state in the future, and maybe even move back to menu again.
[05:47:58] <capt_redbeard> cmr: originally no, but now that I think about it, that may be the way to go.
[05:48:45] <cmr> capt_redbeard: the usual way to do this, and still be able to mutate it, is to use Rc<RefCell<~GameState>> for example.
[05:48:59] <cmr> Rc is a reference-counted pointer, which gives you the shared piece.
[05:49:13] <cmr> RefCell lets you store a mutable value where an immutable one is expected.
[05:49:21] <cmr> And does some runtime checks to make sure it is used correctly.
[05:49:26] *** Joins: beifeng (Mibbit@284C36E7.3062CEC3.670EEFD.IP)
[05:49:33] <cmr> it's a bit verbose to use right now, unfortunately...
[05:49:42] <cmr> but that will be fixed Real Soon (TM)
[05:49:42] <capt_redbeard> cmr: Thats interesting, so it allows you to get past this problem at compile time but will enforce at runtime?
[05:49:49] <cmr> capt_redbeard: yup.
[05:50:10] <capt_redbeard> cmr: that is really cool. Ya verbose, but it'll get cleaned up I'm sure. Rust is quite young yet!
[05:50:14] <cmr> Rust's safety rules are very restrictive, and reject many valid programs. So some runtime checks are necessary for some patterns.
[05:50:50] <capt_redbeard> cmr: How can a struct and impl get past the runtime rules though?
[05:51:00] <capt_redbeard> Unless those are implemented directly in the compiler.
[05:51:08] <cmr> Unsafe code :)
[05:51:18] <cmr> both Rc and RefCell are implemented using unsafe code.
[05:51:37] <capt_redbeard> I see, I keep forgetting about that part as well. I just avoid unsafe {} lol
[05:51:38] <cmr> their implementations are pretty simple, it might be instructive to look at them.
[05:51:44] <cmr> As you should!
[05:51:57] *** Joins: sellout (Adium@moz-53C8D913.hsd1.co.comcast.net)
[05:52:03] *** Quits: acrichto (acrichto@moz-B63D64BD.res.cmu.edu) (Quit: leaving)
[05:52:17] <capt_redbeard> cmr: I think I will do that. Your help is much appreciated!
[05:52:20] <cmr> np
[05:52:27] *** Joins: acrichto (acrichto@moz-B63D64BD.res.cmu.edu)
[05:52:27] *** ChanServ sets mode: +o acrichto
[05:52:36] <p1start> Is there any reason why `Gc<T>` and `RefCell<T>` don't implement the new Deref & DerefMut traits?
[05:52:48] <cmr> p1start: Gc probably just an oversight.
[05:53:11] <cmr> p1start: RefCell explicitly doesn't implement them because it can cause failure if you borrow_mut while there is already a borrow
[05:53:20] <bollu> https://gist.github.com/b54cf9d5c223418a9358 <- how does write!(...) create a return type of Result?
[05:53:22] <cmr> p1start: so for the sake of clarity, it doesn't.
[05:54:08] <Yurume> bollu: std::fmt::Result = std::io::IoResult<()> in disguise.
[05:54:29] <p1start> cmr: That makes sense; thanks — I'll just use `.borrow[_mut]()` then
[05:54:42] <Yurume> write!() is probably an wrapper around std::fmt::write which returns an appropriate return type.
[05:54:45] <sfackler> @mut T is the old equivalent of Gc<RefCell<T>>. It auto-borrowed which was kind of nuts since it made it possible for something innocent looking to fail
[05:55:09] <bollu> Yurume: oh, thanks! 
[05:55:24] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[05:55:30] <bollu> so, it automagically calls format ?
[05:56:02] <bollu> http://static.rust-lang.org/doc/master/std/macros/macro.write.html <- looks like it I think?
[05:56:19] <bollu> seems like it's using std::fmt::write internally
[05:56:24] <Yurume> bollu: both format! and write! (and print! etc.) use format_args! to convert the format string into an unsafe-to-construct-manually Arguments struct.
[05:56:26] <cmr> holy crap rustdoc does macros now.
[05:56:32] <cmr> sfackler: is this your doing?
[05:56:35] *** Quits: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net) (Ping timeout)
[05:56:47] <Yurume> rustdoc <3
[05:57:04] <bollu> Yurume: oh, okay. you mean this right? http://static.rust-lang.org/doc/master/std/fmt/struct.Argument.html
[05:57:10] <Yurume> now we need a proper color for highlighting macro names?
[05:57:18] <bollu> it has compiler hooks I suppose? since it's type-checked?
[05:57:41] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[05:57:50] <cmr> yes, the format_args syntax extension generates them.
[05:58:02] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:58:04] <Yurume> bollu: yes, unlike others format_args! is a syntax extension: https://github.com/mozilla/rust/blob/master/src/libsyntax/ext/format.rs
[05:58:24] <bollu> cool. that seems like black magic, but I'm not complaining :)
[05:58:45] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[05:58:50] <Yurume> (actually, we can now move them into a library thanks to the procedural macros.)
[05:59:13] <Yurume> it would suddenly become just a magic from a black magic then :)
[05:59:20] *** Quits: capt_redbeard (Adium@moz-4998C3D0.ok.ok.cox.net) (Quit: Leaving.)
[05:59:22] <bollu> Yurume: what are procedural macros?
[05:59:40] <bollu> okay, a Pl/1 feature?
[05:59:43] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[05:59:51] <Yurume> bollu: it is a macro that is implemented via the ordinary Rust crate, as opposed to macro_rules!.
[05:59:52] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[06:00:21] <Yurume> it is more verbose to define but has lots of power in its hand (e.g. string inspection like format_args!).
[06:00:22] <bollu> Yurume: so why the "procedural" bit? and is this the motivation? http://en.wikipedia.org/wiki/Macro_(computer_science)#Procedural_macros
[06:00:22] <sfackler> cmr: someone else did it, huon maybe?
[06:00:44] *** Joins: benjamin_____ (benjamin@moz-7273BCF0.dip0.t-ipconnect.de)
[06:01:07] <Yurume> bollu: would be similar in the end but I guess it is just a generic naming.
[06:01:12] <bollu> also, how much code can I expect will break with the release of 1.0 ?
[06:01:14] *** Joins: kanru (kanru@moz-DB4A9C19.scl3.mozilla.com)
[06:01:18] <bollu> Yurume: okay!
[06:01:26] <cmr> bollu: well...
[06:01:32] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[06:01:40] <cmr> bollu: look at any of http://cmr.github.io/blog/categories/this-week-in-rust/ for an example of what breaks in a given week.
[06:01:53] <bollu> ooh, nice!
[06:01:56] <cmr> ... and given that we have some months more until 1.0, you can expect a fair bit of breakage :)
[06:01:57] <Yurume> cmr: bollu seems to ask for the future TWiR issues :)
[06:02:09] <cmr> but it shouldn't be too much, I don't think.
[06:02:18] <ecr> cmr: famous last words
[06:02:23] <cmr> Most of the nasty changes have landed.
[06:02:25] <bollu> xD
[06:02:42] <cmr> new hash, extra breakup, std::num has mostly been refactored.
[06:02:48] <cmr> ecr: I know, seriously.
[06:03:08] <bollu> I knew I didn't know much, but switching to rust proved how really little I know about proramming ;_;
[06:03:21] <ecr> we still have closure reform, DST, etc.
[06:03:24] <cmr> bollu: I still feel that way, so it doesn't get better :(
[06:03:31] <cmr> ecr: yeah but those shouldn't be breaking, no?
[06:03:49] <cmr> closure reform might if there's unexpected consequences.
[06:03:52] <cmr> but dst certainly shouldn't.
[06:04:02] <ecr> cmr: theoretically, no. even if it doesn't break things it could change idioms that prompt reworkings of the libs
[06:04:03] <sfackler> cmr: speaking of Rc<RefCell<T>>, https://github.com/mozilla/rust/issues/12724
[06:04:09] <cmr> ecr: this is true.
[06:04:42] <bollu> can I do something similar to smart pointers in rust?
[06:04:47] <cmr> bollu: yes!
[06:04:53] <bollu> really? how?
[06:04:55] <cmr> This is what Rc and Gc are, for example :)
[06:05:10] <bollu> oh, I see! I was expecting the answer to be "NO!" actually
[06:05:14] <ecr> bollu: yes, but the traits for using pointer syntax aren't here yet (unless i missed them)
[06:05:21] <cmr> ecr: they landed.
[06:05:22] <Yurume> sfackler: or RefCellLike trait, maybe? (the exactly same problem will arise with Gc<RefCell<T>> anyway)
[06:05:29] <cmr> you can now overload the unary * operator.
[06:05:31] <bollu> @cmr: which traits are they?
[06:05:36] <cmr> Deref and DerefMut.
[06:05:36] <ecr> cmr: oh cool. where can i find them?
[06:05:40] <cmr> std::ops
[06:05:59] <mcpherrin> OOoooooooooooooo Deref landed? Hooray!
[06:06:15] <sfackler> Yurume: yeah, we'd want a GcMut<T> as well
[06:06:17] <cmr> https://github.com/mozilla/rust/pull/12491 was the pull request that did it.
[06:06:36] <bollu> google's Documentation link on rust points to 0.9
[06:06:39] <bollu> any way to change that?
[06:06:54] <cmr> bollu: don't use google? :)
[06:07:03] <cmr> I just go directly to rust-lang.org and click some links.
[06:07:05] <bollu> @cmr: cheeky :)
[06:07:14] <cmr> and I have that site and most of the crate docs in my browser history...
[06:07:18] <cmr> so they usually tab-complete
[06:07:22] <Yurume> bollu: inurl:master may help you
[06:07:44] <bollu> Yurume: I just change the */0.9/* to  */master/*
[06:07:53] <bollu> is just a little annoying
[06:08:00] <bollu> fn deref<'a>(&'a self) -> &'a Result <- it does nothing?
[06:08:04] <Yurume> hmm, was that site:master? dk.
[06:08:16] <ecr> cmr: oh, niko's proposal for &mut could potentially break something (or cause idiom changes). there's also another bit we've talked about that would enable some usage of partially moved values (safely!), which could change idioms (or break things if someone had depended upon only one part of a struct being moved out ever).
[06:08:21] <bollu> takes &'a and returns &'a
[06:08:23] <bollu> what changes?
[06:08:28] <cmr> ecr: oh, yeah.
[06:08:28] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[06:08:35] <cmr> bollu: self and Result are different types :)
[06:08:43] <cmr> rusti: version
[06:08:45] -rusti- "rustc 0.10-pre (fbe26af 2014-03-02 17:36:28 -0800)"
[06:08:50] <bollu> oh, didn't catch the result
[06:08:51] <cmr> hm, can't demonstrate with rusti.
[06:08:54] <cmr> but you can do:
[06:09:03] <cmr> let x = Rc::new(5); assert_eq!(*x, 5);
[06:09:14] <bollu> &'a Result <- the whole thing is a type?
[06:09:23] <sfackler> is auto-deref merged yet as well?
[06:09:28] <cmr> bollu: yes, it's trait Deref<Result> { ... }
[06:09:30] <cmr> sfackler: no
[06:09:39] <cmr> that's https://github.com/mozilla/rust/pull/12610
[06:09:40] <bollu> rusti: let x = Rc::new(5); assert_eq!(*x, 5);
[06:09:41] <ecr> bollu: yes. it's a immutable reference with lifetime 'a to a Result
[06:09:41] -rusti- pastebinned 11 lines of output: http://sprunge.us/bRiX
[06:10:12] <cmr> bollu: rusti is too old, doesn't have the Deref changes.
[06:10:15] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[06:10:32] <cmr> (you also need to `use std::rc::Rc;` first)
[06:10:36] *** Quits: heftig (heftig@moz-35E360DF.dip0.t-ipconnect.de) (Quit: Quitting)
[06:10:43] <bollu> so, &'a Result is a type. with Result being an enum -  std::result::Result yes?
[06:10:51] <bollu> so, like, what does &'a Result /mean/ ?
[06:10:54] <ecr> bollu: yes
[06:11:01] <bollu> shouldn't it be Result<'a> ?
[06:11:05] <bollu> shouldn't it be Result<'a, ErrorType> ?
[06:11:09] <ecr> no
[06:11:19] <bollu> ecr: why not? Result is a generic enum
[06:11:25] <ecr> hold on, let me explain
[06:11:56] <ecr> &'a Result = borrowed pointer to a Result. 'a is the lifetime of the pointer, i.e. how long the pointer is valid
[06:11:59] <Yurume> Deref's Result type parameter shadows the existing std::result::Result type, so it is just a type parameter.
[06:12:07] <Yurume> maybe that was why bollu was confused
[06:12:55] <bollu> ah, that makes sense. and Deref's Result is a specialization of the generic std::result::Result?
[06:13:03] <Yurume> no, completely unrelated
[06:13:08] <ecr> Result in here is *not* std::result::Result (sorry I mistyped)
[06:13:36] <bollu> oh, okay. (and the mistype is fine :) )
[06:13:37] <ecr> Result in Deref is just the *name* of the type parameter for a thing implemented Deref
[06:13:40] <bollu> so, where is it in the docs?
[06:13:45] <ecr> http://static.rust-lang.org/doc/master/std/ops/trait.Deref.html
[06:14:00] <bollu> oh, that makes it clear
[06:14:01] <ecr> we could easily change Result to T
[06:14:31] <bollu> ecr: yeah. because it's Deref<Result> -> Result = T = type parameter ?
[06:14:38] <ecr> correct
[06:14:44] <bollu> cool. ty!
[06:14:52] <ecr> sure :)
[06:15:13] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:15:20] <ecr> so &'a Result is just a borrowed pointer that's good for at least lifetime 'a to whatever kind of thing is being pointed to
[06:16:17] <bollu> yeah, understood. 'a -> lifetime. & -> borrowed. Result -> type parameter. I'm borrowing something of type Result bound to lifetime a
[06:16:22] <bollu> yes?
[06:17:26] *** Joins: rusty_banger (rusty_bang@moz-DCEC0170.hsd1.co.comcast.net)
[06:19:32] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[06:19:32] *** ChanServ sets mode: +o tjc
[06:20:32] <rusty_banger> Hi all. Need a suggestion on implementing a timeout on a TCP socket in Rust 0.9.
[06:21:36] <rusty_banger> I'm communicating with gpsd as part of an embedded project, and if it can't get a GPS fix, it will keep its socket open and never write anything. I'd like to be able to close the socket gracefully when the app shuts down, but currently it will block my background task forever. Any ideas?
[06:22:01] <cmr> rusty_banger: not possible, sorry :( the only way is to use calls to libc directly :(
[06:22:12] <cmr> this is one of the biggest limitations of the runtime atm.
[06:23:04] <rusty_banger> ok. I glanced at master source and saw that it's not there, either. I'm very new to the language, but would an attempt at contributing something along those lines be considered/accepted by the community at large?
[06:23:31] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[06:24:05] <cmr> certainly. you'd want to work with acrichto to figure out a good design etc. he's basically the maintainer of the runtime at this point.
[06:24:29] <rusty_banger> gotcha. I assume that it would also have to be implemented for all of the platforms Rust supports including Windows. is that right?
[06:24:49] <cmr> yup.
[06:24:49] <sfackler> yep
[06:24:59] <sfackler> we'd also want it for both the libuv based runtime and the native runtime
[06:25:11] <rusty_banger> What about just providing a method that indicates whether there are bytes available or not?
[06:25:25] <sfackler> that's another change that would be welcomed (at least by me)
[06:25:27] <rusty_banger> It wouldn't solve the large-scale problem, but it would give me a workaround and seems like it might be useful to other people.
[06:25:35] <sfackler> iirc it's complicated a bit by the fact that libuv doesn't support such a thing
[06:25:45] <Yurume> rusty_banger: you'd better looking at the existing or somehow rejected issues. my search gives #9194 (failed attempt), #11223, #12236 (feature request) and more generally, #6842.
[06:26:23] <rusty_banger> Oh, perfect. Thanks Yurume, that gives me more code to look at.
[06:26:26] <Yurume> it would be a big design decision, and certainly needs some kind of RFC (request for comments) before accepted. 
[06:26:53] *** Quits: echristo (echristo@moz-1892C634.hsd1.ca.comcast.net) (Quit: echristo)
[06:26:55] <rusty_banger> I dream of a select() statement that would accept both std::com::Port and other std::io::Readers, but that would be an even bigger project.
[06:26:57] <Yurume> so good luck to you; everyone agrees on the problem, but there is not yet a good enough solution unfortunately.
[06:27:28] <Yurume> yes, some attempts are in that direction: ditch timeouts and improve select, for example.
[06:27:36] <rusty_banger> Meanwhile, is there a way to kill a child task whilst still ensuring its destructors run?
[06:27:43] <sfackler> nope
[06:28:01] <Yurume> (#10083 added a periodic port, so it can be done without introducing timeouts to the select itself theoretically)
[06:28:02] <sfackler> such a thing is pretty dangerous, even in a language like Rust
[06:28:12] <rusty_banger> that makes sense.
[06:28:15] <Yurume> even Java does not support it, FWIW.
[06:28:33] <sfackler> Yurume: it does support it, it's just *heavily* deprecated
[06:28:40] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[06:29:17] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[06:29:25] <sfackler> Thread.destroy, Thread.stop &co
[06:29:28] <Yurume> sfackler: Thread#interrupt, you mean? that *triggers* the ClosedByInterruptException (as I recall) on the next read.
[06:29:31] <Yurume> ah
[06:29:41] <Yurume> next I/O ops*
[06:29:48] <sfackler> http://docs.oracle.com/javase/7/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html
[06:30:08] <sfackler> they've been deprecated since like Java 1.1, but are still in there
[06:30:14] <sfackler> hurray backwards compatibility!
[06:30:31] <cmr> lol
[06:30:38] <cmr> did they realize almost immediately that it was an awful idea?
[06:30:53] <sfackler> yep!
[06:30:59] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[06:31:03] * cmr wonders why they didn't realize *before* they released 1.0
[06:31:24] <sfackler> I wonder that about a lot of things in Java's API :P
[06:31:40] <sfackler> which is why I hope we work out a good stdlib before locking it down for eternity
[06:31:42] <o11c> cmr: the Java people are still trying to catch up with the last decade of good practices
[06:31:56] *** Quits: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:31:58] <o11c> sfackler: which is why I hope Rust doesn't *have* a stdlib
[06:32:05] *** Joins: alonlevy (alon@moz-7734887A.red-80-28-217.adsl.static.ccgg.telefonica.net)
[06:32:45] <bollu> sfackler: isn't it like, Java 8 now?
[06:33:36] <sfackler> java 8's almost been finalized iirc
[06:33:47] <sfackler> but java 1.7 is the same as java 7
[06:33:55] <sfackler> it's two different numbering schemes
[06:33:57] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[06:36:46] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[06:37:10] <bollu> hypothetical question - what if rust dosen't gain traction? what will happen to the language?
[06:37:19] <cmr> bollu: it will slowly die.
[06:37:48] <cmr> maybe over the course of a few years, or a decade.
[06:37:53] <cmr> but it will, assuredly, die.
[06:37:57] <bollu> and chances of that happenening? (I hope very low)
[06:38:04] * cmr shrugs
[06:38:06] <cmr> who knows.
[06:38:11] *** Quits: kanru (kanru@moz-DB4A9C19.scl3.mozilla.com) (Quit: rcirc on GNU Emacs 24.3.50.2)
[06:38:16] <cmr> depends primarily on how well 1.0 is executed, I think.
[06:38:31] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[06:38:35] *** Joins: kanru (kanru@moz-DB4A9C19.scl3.mozilla.com)
[06:38:40] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[06:38:44] <bollu> this maybe seen a flame bait, but which do you think is more mature, D or Rust ?
[06:38:52] <cmr> D, assuredly.
[06:38:56] <cmr> By over a decade :)
[06:39:20] <ecr> bollu: mature? D. superior? Rust.
[06:39:30] * ChrisMorgan concurs with ecr's judgement
[06:39:45] * cmr doesn't know enough about D
[06:39:59] *** Joins: ofeldt (ofeldt@moz-C4491A69.dip0.t-ipconnect.de)
[06:40:32] <Yurume> superior by design? Rust. superior in general? who knows.
[06:40:49] *** Quits: ofeldt- (ofeldt@moz-7573E33E.dip0.t-ipconnect.de) (Ping timeout)
[06:41:04] *** Quits: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP) (Ping timeout)
[06:41:10] <rusty_banger> so I assume that there is not a way to unsafely terminate a Rust task without terminating the whole process?
[06:41:33] <cmr> rusty_banger: correct.
[06:41:34] <sfackler> I'm not aware of a way
[06:41:34] <ChrisMorgan> rusty_banger: fail!
[06:41:36] <Yurume> what do you mean by terminating the whole process? signal?
[06:41:40] *** Joins: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP)
[06:41:40] *** ChanServ sets mode: +ao brson brson
[06:41:46] <cmr> ChrisMorgan: you can't inject failure into another task.
[06:41:47] <ChrisMorgan> I'm presuming that by unsafely terminate you exclude fail!.
[06:41:52] <ChrisMorgan> Oh, another task
[06:41:57] <Yurume> ah, that makes sense
[06:41:58] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[06:42:06] <ChrisMorgan> And you can't safely terminate the whole process, either.
[06:42:14] <rusty_banger> yeah. fail! would be fine but in this context the task is blocked on a socket.
[06:42:46] <Yurume> (though libc::exit is only maginally unsafe in this case, short of calling destructors)
[06:42:49] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[06:42:50] * ChrisMorgan sees too many people resorting to abort and thinks we need *something* to allow immediate unwinding if at all possible
[06:42:54] <ecr> rusty_banger: I was going to suggest something, but if it's already blocked on a socket then I don't think there's anything you can do.
[06:42:55] <Yurume> marginally*
[06:43:06] <ChrisMorgan> Yurume: destructors not being called is highly dangerous.
[06:43:16] *** Quits: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[06:43:19] *** Joins: enos (jkingyens@moz-B0C1B161.hsd1.ca.comcast.net)
[06:43:45] <ChrisMorgan> Yurume: most notably in things like socket servers where you may be unable to rebind to an address for a couple of minutes afterwards.
[06:44:28] <Yurume> ChrisMorgan: right. but if you know remaining destructors are harmless to ignore then you can bet. (some C programs actually actively do the unsafe exit in order to bypass memory deallocation.)
[06:44:30] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[06:44:30] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[06:44:30] * ChrisMorgan likes calling it highly dangerous even though in the significant majority of use cases it will be nil and in most of the rest minor
[06:44:45] <o11c> basically, the way to interrupt has to be "pray that it's not in an infinite loop that never calls a function that checks the interrupt flag"
[06:45:10] <ChrisMorgan> Yurume: come on, this is Rust. We value safety—"if you know remaining destructors are harmless" is exactly what we're *avoiding*!
[06:45:17] <ecr> ChrisMorgan: IIRC from working on newrt, it's basically impossible to safely terminate the whole process since the scheduler can't force a task to stop. even with linked failure the best we could do was "fail as soon as you wake up".
[06:45:35] * ChrisMorgan is sad linked failure was removed
[06:45:46] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[06:46:25] <ChrisMorgan> ecr: is it not feasible to forcibly kill off whatever system call it was blocked on?
[06:46:33] * ChrisMorgan isn't sure how such things work
[06:46:44] <rusty_banger> really? I'm coding against 0.9 because I need some stability so I can focus on my project
[06:46:55] <ecr> ChrisMorgan: that's not always possible in libuv
[06:47:03] <rusty_banger> re: linked fail
[06:47:24] <ChrisMorgan> rusty_banger: linked failure was removed before 0.9
[06:47:26] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[06:47:31] <rusty_banger> oh. lol.
[06:47:35] <ChrisMorgan> (Leastways, I think it was.)
[06:47:39] <ecr> removed in 0.8 I think (maybe 0.7)
[06:47:42] <Yurume> ChrisMorgan: I don't mean to devalue safety, I meant you can clearly separate unsafe and safe code that you only need to take care of unsafe code (auditing etc). I know the fully safe code is good (and I also actively write the safe code as much as possible) but why do Rust have unsafe then?
[06:47:51] <ChrisMorgan> ecr: between 0.8 and 0.9 is my recollection.
[06:47:59] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:48:01] <ecr> sometime in the fall
[06:48:14] <ChrisMorgan> Where fall means spring ;-)
[06:48:27] * ChrisMorgan in the southern hemisphere speaks
[06:48:29] <Yurume> after all, std::rc::Rc<> for example uses unsafe :)
[06:48:39] <Yurume> it is a matter of creating boundaries.
[06:48:53] <ecr> ChrisMorgan: ah that makes much more sense. I was about to say ...
[06:49:11] <ChrisMorgan> ecr: what you call fall we call autumn
[06:49:29] *** Joins: twi (Adium@moz-9F0310CC.cust.vodafonedsl.it)
[06:49:51] <ecr> ChrisMorgan: we seem to switch freely between both. Autumn is usually used in more formal contexts.
[06:50:17] *** Quits: alonlevy (alon@moz-7734887A.red-80-28-217.adsl.static.ccgg.telefonica.net) (Ping timeout)
[06:50:33] <bollu> ecr: I'm curious - do you guys have a monsoon season? I suppose not
[06:50:36] <Yurume> a certain season between summer and winter with multiple English names?
[06:50:37] <ecr> IMO, if we can use autumn for fall, we should use vern for spring too
[06:50:51] <Yurume> ooh...
[06:51:10] <ecr> bollu: not in the sense that India does. some parts of the USA have wet/dry seasons instead of winter/spring/summer/fall
[06:51:31] <bollu> hm. good to know
[06:51:59] <ecr> bollu: most of the west coast of the USA has wet/dry patterns. the rest is 4 seasons.
[06:51:59] <sellout> Parts of the US have an actual monsoon season – EG, New Mexico.
[06:52:57] <ecr> I guess the eastern/southern USA has 'monsoons' if you consider hurricanes to be monsoons.
[06:53:14] <ecr> but most don't
[06:53:20] <ecr> consider them as such that is
[06:53:32] <cmr> monsoon has a specific scientific definition, doesn't it?
[06:53:48] <bollu> yeah
[06:53:53] <sellout> cmr: Yeah – and it affects the southwest: http://en.wikipedia.org/wiki/North_American_Monsoon
[06:53:56] <bollu> occurs due to trade winds I believe
[06:54:14] <sellout> I got caught cycling in one in NM many years ago.
[06:54:25] *** Joins: dherman (dherman@F16146EB.9D3722BB.58DC3EE6.IP)
[06:54:25] *** ChanServ sets mode: +ao dherman dherman
[06:54:34] <ecr> "seasonal reversing wing accompanied by corresponding changes in precipitation" according to wikipedia
[06:54:46] <ecr> *wind
[06:54:55] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[06:54:57] *** Quits: rusty_banger (rusty_bang@moz-DCEC0170.hsd1.co.comcast.net) (Quit: rusty_banger)
[06:55:45] <ecr> the midwest and great plains most experience megastorms birthed by the unholy coupling of the arctic and the gulf of mexico
[06:56:14] <ecr> and thus tornadoes
[06:56:24] <bollu> ecr: I'm assuming the "unholy" is your addition? ;
[06:56:26] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[06:56:39] <bollu> tornadoes seem awesome. never seen one in real life
[06:56:53] <ecr> bollu: yep. although I challenge anyone who's been close to not use such language.
[06:57:01] *** Quits: oxum (anonymous@1CC684C2.4BA3D6CC.520CDC98.IP) (Ping timeout)
[06:57:09] <ecr> tornadoes are kind of like volcanoes
[06:57:17] <ecr> awesome power
[06:57:22] <ecr> amazing to watch
[06:57:27] <ecr> don't want to be anywhere nearby
[06:57:36] <bollu> agreed :D
[06:57:43] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[06:57:44] <bollu> IMHO snow is much the same
[06:57:49] <bollu> fun for a day or two
[06:57:52] <bollu> then it gets annoying
[06:57:58] <ecr> haha
[06:58:15] <ecr> snow varies pretty drastically across the US
[06:58:42] <cmr> I've lived in snow all my life, in new england + upper new york. I still love the stuff.
[06:58:51] <cmr> Certainly not fun though. Especially shoveling.
[06:59:13] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[06:59:18] <ecr> I was near the border of snow + rain. the Jet Stream can't decide which side of Cincinnati it wants to stay on
[06:59:26] <ecr> Seattle is just weird for snow tho
[06:59:30] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[06:59:52] <bollu> I imagine that gets tedious fast. but snow makes everything silent which is nice. 
[07:00:01] <cmr> yup.
[07:00:10] <cmr> and freshly fallen snow looks amazing at night with streetlights
[07:00:11] <ecr> practically in Canada, but the area around Puget Sound basically never gets snow (except the mountains).
[07:00:24] <bollu> I always expected snow to be "fluffy" biggest disappointment to my 10 year old self
[07:00:32] <ecr> it depends on the snow
[07:00:36] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[07:00:37] <ecr> dry snow can be fluffy
[07:00:43] <ecr> wet snow is just clumpy
[07:00:50] <bollu> really? hmm. didn't know that
[07:01:02] <cmr> for some definition of fluffy...
[07:01:06] <bollu> :)
[07:01:20] <cmr> certainly light, but it's not like soft like marshmallow
[07:01:26] <ecr> that's true
[07:01:28] <cmr> or a pillow :P
[07:01:32] <ecr> fluffy may not be the right word
[07:01:38] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[07:01:48] <ecr> it's kind of like dust
[07:01:54] <bollu> @cmr: marshmallows are sooo awesome. their texture is ridiculously unique. 
[07:02:05] *** Joins: alonlevy (alon@moz-7734887A.red-80-28-217.adsl.static.ccgg.telefonica.net)
[07:02:06] <ecr> bollu: ever had a s'more?
[07:02:10] <bollu> nope. 
[07:02:15] *** Quits: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP) (Ping timeout)
[07:02:17] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[07:02:30] <bollu> that looks awesome. will try with a friend
[07:02:35] <bollu> are your crackers different?
[07:02:44] <bollu> like, are they savoury or sweet?
[07:02:56] <ecr> roast a marshmellow over a fire. place roasted marshmellow + chocolate bar between graham crackers
[07:02:59] <ecr> https://en.wikipedia.org/wiki/Graham_cracker
[07:03:15] <ecr> Graham crackers are sweet
[07:03:22] <ecr> most other crackers aren't
[07:03:39] <ecr> S'mores must use Graham crackers
[07:03:53] <bollu> ah okay. will definitely try. chocolate = any chocolate? or make chocolate syrup with cocoa?
[07:04:00] <ecr> chocolate bar
[07:04:00] <bollu> don't know if you get them here. will look :D
[07:04:05] <bollu> ecr: okay!
[07:04:14] <ecr> https://en.wikipedia.org/wiki/S%27more
[07:04:15] * ChrisMorgan returns to #rust and discovers detailed culinary discussion taking place
[07:04:21] *** Quits: meyer (Mibbit@moz-A9CF56E4.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[07:04:23] <bollu> :D
[07:04:33] <cmr> heh
[07:04:36] * Yurume searches culinary in the dictionary
[07:04:41] <ecr> well bollu hasn't had s'mores. that must be recitifed.
[07:05:03] <ecr> Yurume: of or dealing with food, especially of higher quality
[07:05:21] <bollu> thanks for the awesome food reference. will try for sure.
[07:05:22] <ecr> a chef studies 'the culinary arts'
[07:05:25] *** Joins: meyer (meyer@moz-A9CF56E4.hsd1.ca.comcast.net)
[07:05:33] <ecr> bollu: enjoy :)
[07:06:04] <ecr> ChrisMorgan: if you haven't had s'mores either then you must also rectify this
[07:06:08] <Yurume> ecr: yeah, yummy.
[07:06:10] <bollu> has anyone made marshamllows from scratch? I tried and it went disastrously :(
[07:06:25] <ecr> no, but I made ice cream from scratch once
[07:06:50] <bollu> my god, I never contemplated that you can make ice cream from scratch 
[07:07:15] <meyer> I tried making cadbury cream eggs from scratch.
[07:07:16] <cmr> home-made vanilla ice cream is possibly the most delicious desert I have tasted.
[07:07:35] <cmr> vanilla beans are so expensive though :(
[07:07:39] *** Quits: mceier (mceier@moz-C1591437.dynamic.chello.pl) (Ping timeout)
[07:07:48] *** Joins: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP)
[07:07:48] *** ChanServ sets mode: +ao brson brson
[07:07:50] <bollu> http://www.wikihow.com/Make-Ice-Cream <- does this recipe work?
[07:08:00] <bollu> @cmr: use vanilla extract?
[07:08:14] <cmr> bollu: not as tasty ;)
[07:08:17] <ecr> bollu: yes
[07:08:51] <bollu> cool. will do it this sunday maybe
[07:10:03] <bollu> http://en.wikipedia.org/wiki/MoonPie <- this seems awesome
[07:10:59] *** Quits: Blub\1 (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[07:10:59] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[07:11:03] <meyer> bollu: They're pretty good. Have you never had one?
[07:11:12] *** Joins: Blub\1 (wry@620605B3.71150E1A.237AE2BA.IP)
[07:11:15] <meyer> Well, they're alright, at least.
[07:11:25] <bollu> no
[07:11:38] <bollu> hadn't even heard of it actually,
[07:11:55] <ecr> they're more of a South thing
[07:12:02] *** Quits: maxli1 (Instantbir@moz-1650391B.hsd1.ca.comcast.net) (Ping timeout)
[07:12:30] <meyer> South thing definitely makes sense. I've eaten them while visiting family in TN
[07:12:34] <ecr> enough talking about food
[07:12:37] <ecr> i should eat some
[07:12:44] <cmr> #rust-offtopic :P
[07:12:53] <bollu> xD
[07:13:18] <ecr> cmr: i insist this discussion is of vital relevance
[07:13:25] <bollu> it went weather -> monsoon -> ice -> marshmallow -> food right?
[07:13:32] <ecr> yep
[07:13:40] <cmr> -> hitler
[07:13:43] <cmr> there, now we're done
[07:13:45] <cmr> :P
[07:13:49] <bollu> god I hope not :)
[07:13:53] *** Joins: mgottschlag (quassel@moz-DF7A2B6A.cust.bluewin.ch)
[07:16:17] *** Quits: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net) (Quit: stevegury)
[07:18:21] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Connection reset by peer)
[07:19:22] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[07:21:03] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:21:17] *** Quits: FreeFull (freefull@moz-FCD0664E.as13285.net) (Quit: )
[07:25:14] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[07:26:54] *** Joins: nkoep (nik@moz-F418CC4.pool.mediaways.net)
[07:28:05] *** Quits: alonlevy (alon@moz-7734887A.red-80-28-217.adsl.static.ccgg.telefonica.net) (Ping timeout)
[07:28:27] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[07:30:48] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[07:35:16] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[07:37:26] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[07:38:42] *** Joins: Ferreus (ferreus@moz-F3FF31FF.dip0.t-ipconnect.de)
[07:39:21] *** Joins: apollow (yellowy432@moz-52F6097D.dhcp.trlk.ca.charter.com)
[07:40:57] *** Quits: Erik_ (Erik_S@moz-6691E309.hlrn.qwest.net) (Ping timeout)
[07:41:01] *** Quits: apollow (yellowy432@moz-52F6097D.dhcp.trlk.ca.charter.com) (Ping timeout)
[07:42:00] *** Quits: Valloric (Valloric@moz-288722BA.hsd1.ca.comcast.net) (Quit: Valloric)
[07:43:48] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[07:44:03] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[07:44:08] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[07:44:09] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[07:45:16] *** Quits: alinab (alina@moz-94EAE39D.alinab.org) (Quit: leaving)
[07:45:40] *** Joins: alinab (alina@moz-94EAE39D.alinab.org)
[07:45:50] *** Quits: blindrenderer (blindrende@CFA55475.329A1D83.D01D599A.IP) (Quit: Leaving)
[07:45:50] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[07:47:16] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Ping timeout)
[07:47:22] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[07:47:32] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[07:47:49] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[07:47:53] <bollu> probably a silly question, but does github have any age restriction? 
[07:48:03] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[07:48:54] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[07:49:12] *** Joins: blindrenderer (blindrende@moz-70377966.cable.teksavvy.com)
[07:49:21] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[07:49:42] <cmr> not according to https://help.github.com/articles/github-terms-of-service
[07:49:48] *** Joins: mib_ix2iob (Mibbit@moz-A7FCA28B.mc.videotron.ca)
[07:49:57] <bollu> @cmr: ty! good to know
[07:50:13] <bollu> umm - You must be 13 years or older to use this Service.
[07:50:19] <mib_ix2iob> YO
[07:50:23] <bollu> hey
[07:50:28] *** Quits: blindrenderer (blindrende@moz-70377966.cable.teksavvy.com) (Quit: Leaving)
[07:50:35] <cmr> oh :(
[07:50:42] <cmr> I ctrl-f'd for the wrong thing
[07:50:51] <cmr> it's even the first item
[07:50:53] <cmr> how embarassing
[07:51:21] <bollu> xD no problemo
[07:51:37] <bollu> 'least it dosen't apply which is nice 
[07:51:54] <ecr> i think that's due to a US law
[07:52:28] *** Joins: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP)
[07:52:37] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[07:53:45] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[07:53:49] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[07:54:02] <bollu> ecr: what's the point of such a law?
[07:54:04] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[07:54:10] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[07:54:17] <cmr> I think it's some privacy law.
[07:54:24] * cmr does not know any details
[07:54:45] <bollu> hm okay. 
[07:57:02] <ecr> IIRC there were some issues about kids using stuff on the web (e.g. giving personal info to sign up for something). websites responded by simply requiring you to be old enough in the terms of service, which gets them out of potential liability
[07:57:08] <ecr> i don't know the details
[07:57:41] *** Quits: mib_ix2iob (Mibbit@moz-A7FCA28B.mc.videotron.ca) (Quit: http://www.mibbit.com ajax IRC Client)
[07:57:43] *** Quits: edwardw (edwardw@E6E87FA7.354F6412.B9C6B12A.IP) (Ping timeout)
[07:57:45] <ecr> obviously, it's completely ineffective
[07:57:49] <cmr> heheh
[07:57:59] <cmr> I know I certainly ignored a bunch of those :)
[07:58:53] *** Quits: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP) (Ping timeout)
[07:59:18] <bollu> @cmr: yeah, no one really cares /unless/ you get in trouble >_>
[07:59:20] *** Joins: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP)
[08:01:13] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:02:17] *** Joins: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net)
[08:02:17] *** ChanServ sets mode: +o huon
[08:02:31] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:02:56] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[08:08:00] *** Joins: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP)
[08:12:55] *** Quits: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP) (Client exited)
[08:15:53] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[08:16:15] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:17:07] *** Quits: lpy (lpy@ABD12C3A.F09091A8.1348A864.IP) (Connection reset by peer)
[08:17:34] *** Joins: Zr40 (zr40@moz-CCFEAB92.adsl.xs4all.nl)
[08:17:41] *** Joins: Ms2ger (Ms2ger@60B493FD.C305EAEC.F15B0BB3.IP)
[08:17:55] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[08:21:23] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[08:22:26] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[08:22:33] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[08:22:47] *** flaper87|afk is now known as flaper87
[08:23:00] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[08:24:30] *** Joins: marianoguerra (marianogue@moz-DFAB8DA8.dip0.t-ipconnect.de)
[08:24:33] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:24:42] *** Quits: derek_c (derek@moz-27FDB835.cit.cornell.edu) (Quit: Leaving)
[08:24:55] *** Quits: mawuli (mawuli@moz-A89BBCE.com.gh) (Ping timeout)
[08:25:26] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:25:32] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:26:45] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[08:30:08] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:31:09] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[08:31:40] *** Joins: bvssvni (Mibbit@moz-C4579D6F.bb.online.no)
[08:32:00] *** Joins: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP)
[08:32:26] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[08:32:48] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[08:33:33] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[08:37:35] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[08:39:26] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[08:40:36] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:40:45] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:43:03] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[08:44:14] *** Quits: alinab (alina@moz-94EAE39D.alinab.org) (Ping timeout)
[08:44:19] *** Joins: t4nk940 (bzlandfill@moz-833C28A3.hsd1.va.comcast.net)
[08:44:22] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[08:45:03] *** Quits: mgottschlag (quassel@moz-DF7A2B6A.cust.bluewin.ch) (Ping timeout)
[08:45:13] <t4nk940> hi
[08:45:16] <t4nk940> anyone here?
[08:45:23] <bvssvni> hi
[08:45:30] <Yurume> hi
[08:45:33] <t4nk940> hey
[08:45:54] *** Quits: ecr (chatzilla@7C463196.5BB0586B.11F8506F.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 27.0.1/20140212131424])
[08:45:57] <t4nk940> so I was here earlier, and I was trying to do some application level caching
[08:46:02] <t4nk940> for a webserver
[08:46:14] *** Joins: alfateam123 (Mibbit@moz-684B51F6.ip268.fastwebnet.it)
[08:46:19] <t4nk940> and I got it to work, but for whatever reason I'm getting an error for this line of code
[08:46:23] <t4nk940> which was working before
[08:46:31] *** Quits: alfateam123 (Mibbit@moz-684B51F6.ip268.fastwebnet.it) (Quit: http://www.mibbit.com ajax IRC Client)
[08:46:34] <t4nk940> let curr_timestamp = path.stat().modified.to_uint().unwrap();
[08:46:34] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[08:46:49] <t4nk940> i am definitely passing in a right path
[08:46:52] <t4nk940> but it keeps blowing up
[08:47:01] *** Quits: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: azita)
[08:47:05] <t4nk940> task '<unnamed>' failed at 'called `Option::unwrap()` on a `None` value', /home/ubuntu/rust-0.9/src/libstd/option.rs:133
[08:47:18] <t4nk940> (it was definitely working earlier, and everything was great)
[08:47:26] <t4nk940> no idea what happened
[08:48:01] *** Quits: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net) (Quit: zztr)
[08:48:15] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[08:48:16] <bvssvni> t4nk940: you can use println!("{:?}", path.stat().modified);
[08:48:57] <t4nk940> i shouldn't call unwrap?
[08:49:04] <t4nk940> it's wrapped with Option
[08:49:06] <Yurume> t4nk940: modified gives u64, so you should use it as is (it will almost always overflow).
[08:49:22] <t4nk940> ooo
[08:49:35] <t4nk940> oh so
[08:49:44] <t4nk940> let me see
[08:49:47] <Yurume> t4nk940: to be exact, it was consistently overflowed 32-bit range since March 1970 :)
[08:49:53] <t4nk940> rofl
[08:49:58] <t4nk940> but it worked earlier...
[08:50:07] <bvssvni> *earlier* :)
[08:50:10] <t4nk940> but that makes sense
[08:50:11] <t4nk940> hahaha
[08:50:13] <Yurume> it actually depends on your platform
[08:50:15] <t4nk940> right
[08:50:18] <Yurume> uint can be 32 bit or 64 bit
[08:50:25] <t4nk940> interesting
[08:50:33] <Yurume> if your uint is 32 bit long, bam, it will break
[08:50:37] <t4nk940> so this is a 64bit vm
[08:50:43] <t4nk940> i think..
[08:50:56] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[08:51:09] <Yurume> you can easily check the size of your uint with: fn main() { println!("{}", std::mem::size_of::<uint>()); }
[08:51:14] <bvssvni> t4nk940: std::mem::size_of
[08:51:21] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[08:51:28] <t4nk940> ok let me see this
[08:51:30] <t4nk940> thank you guys
[08:51:33] <t4nk940> i think this might be it
[08:51:40] <t4nk940> so silly of me
[08:51:45] <t4nk940> but this is a 64-bit
[08:51:47] <t4nk940> machine
[08:51:48] <t4nk940> so..
[08:51:51] <t4nk940> anyway, let me check
[08:52:00] <Yurume> even in 64 bit VM you can build 32 bit binary, so that might still be the problem.
[08:53:38] <t4nk940> yess
[08:53:40] <t4nk940> so..
[08:53:42] <t4nk940> you guys are right lol
[08:53:45] <t4nk940> obviously
[08:53:51] <t4nk940> so mem_size = 4
[08:53:53] <t4nk940> so 4 bytes
[08:53:58] <t4nk940> and the timestab is
[08:54:03] <t4nk940> 1393816154915u64
[08:54:23] <bvssvni> rusti: 1393816154915u64 as uint
[08:54:24] -rusti- 1393816154915u
[08:54:39] <bvssvni> rusti: 1393816154915u64 as u32
[08:54:40] -rusti- 2246751011u32
[08:54:43] <t4nk940> right 
[08:55:00] <Yurume> that's why Rust does not automatically convert differently sized integers. :)
[08:55:12] <t4nk940> :)
[08:55:16] <t4nk940> makes all the sense in the world
[08:55:19] <t4nk940> thank you guys
[08:55:22] <bvssvni> think I found a bug in rustdoc
[08:55:24] <bvssvni> http://static.rust-lang.org/doc/master/std/io/fs/struct.Path.html#method.stat
[08:55:33] <t4nk940> that link
[08:55:39] <bvssvni> search for 'stat' and click on Path::stat
[08:55:49] <t4nk940> what's bad about it?
[08:56:02] <bvssvni> does it work for you?
[08:56:08] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[08:56:28] *** Joins: figaro (Mibbit@moz-AA65C711.lns20.adl2.internode.on.net)
[08:56:33] <t4nk940> well i was getting size
[08:56:35] <t4nk940> and that's working fine
[08:56:36] <bvssvni> I get an xml error 'access denied'
[08:56:41] <t4nk940> Oh that's just
[08:56:46] <t4nk940> the documentation 
[08:56:51] <t4nk940> i thought you meant in code
[08:57:18] <t4nk940> http://static.rust-lang.org/doc/0.9/std/path/posix/struct.Path.html
[08:57:26] <t4nk940> that's the one I'm using
[08:57:27] <t4nk940> not fs
[08:57:32] <t4nk940> i feel like that's deprecated?
[08:57:34] <Ms2ger> /0.9/?
[08:57:38] <t4nk940> yes, I know
[08:57:39] <t4nk940> sorry
[08:58:47] *** Quits: dougxxx (dougxxx@moz-2801788.perm.iinet.net.au) (Quit: Leaving...)
[08:59:37] <Yurume> bvssvni: that seems strangely wrong. std::io::fs does not define nor pub use Path, it only imports it from std::path.
[09:00:22] <bvssvni> Yurume: it ends up in the search results though
[09:00:23] <Yurume> ...huh wait a min, it has... impl path::Path! :o
[09:00:41] *** Joins: mawuli (mawuli@moz-A89BBCE.com.gh)
[09:00:47] <Yurume> huh, was that possible?
[09:01:50] <Yurume> rusti: pub mod a { pub mod b { pub struct X; impl X{fn a(){}} } impl b::X{fn b(){}} } impl a::b::X{fn c(){}} a::b::X::a(); a::b::X::b(); a::b::X::c();
[09:01:51] -rusti- pastebinned 8 lines of output: http://sprunge.us/gWiX
[09:02:05] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:02:09] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Quit: Computer gone to sleep - Zzzz...)
[09:02:41] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[09:03:45] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[09:05:03] <bvssvni> Yurume: yeah, that's weird
[09:06:30] <Yurume> so there is `impl BlahPath` in std::path::blah (blah = windows or posix) and it got pub used as `Path` in std::path and there is also `impl path::Path` in std::io::fs... what?
[09:06:34] *** Quits: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: leaving)
[09:06:50] <Yurume> must have been related to pub use...
[09:07:14] *** Quits: thesnowdog (doug@88FE1F50.9D0B7490.6F17036B.IP) (Connection reset by peer)
[09:08:12] *** Joins: fabiand (fabiand@moz-419D181F.adsl.alicedsl.de)
[09:09:52] <bvssvni> maybe it is platform depending
[09:10:04] *** YourBestFriend is now known as sam113101_afk
[09:10:33] *** sam113101_afk is now known as YourBestFriend
[09:11:28] *** Joins: alinab (alina@moz-94EAE39D.alinab.org)
[09:11:47] <bvssvni> or, it extends Path with new methods
[09:12:47] *** Joins: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP)
[09:12:57] <Yurume> yes, it extends Path with new methods (stat and some helpers)
[09:13:30] <Yurume> but now there are two set of extension methods, afaik this will cause errors.
[09:14:06] <bvssvni> Yurume: could adding 'use path::Path;' solve the rustdoc issue?
[09:14:34] <bvssvni> Yurume: and write 'impl Path {' instead
[09:14:57] <Yurume> I'm trying to emulate what's going on
[09:16:15] *** Quits: FlyingFoX (quassel@moz-8F529370.weh.rwth-aachen.de) (Ping timeout)
[09:17:12] *** Joins: FlyingFoX (quassel@moz-8F529370.weh.rwth-aachen.de)
[09:17:35] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[09:18:31] <Yurume> bvssvni: ha, impl path::Path (not impl Path) was a key. :S 
[09:18:45] <Yurume> that somehow neatly escapes the check
[09:19:19] <bvssvni> Yurume: I get 'found module used as a type' error if I add a use
[09:19:41] *** Joins: mindcat (mindcat@EEFCDFAE.7EE3DE8.F956842C.IP)
[09:19:42] <bvssvni> Yurume: perhaps it is a hack
[09:19:59] <Yurume> possible
[09:20:23] <Yurume> any idea about related issues?
[09:21:33] <mindcat> I want ask, does rust complier is make by human being?
[09:22:23] <Yurume> absolutely yes, you can dig its history :)
[09:22:30] *** Joins: oxum (anonymous@F94B60C3.9C15B13F.520CDC98.IP)
[09:22:40] <Yurume> it is another question that the rust compiler is comprehensible by human being...
[09:23:44] <mindcat> it is very complicated well...
[09:24:33] <bvssvni> Yurume: I think the bug is rustdoc not dealing with impl path::Path very well
[09:25:16] *** Joins: thesnowdog (doug@88FE1F50.9D0B7490.6F17036B.IP)
[09:25:59] *** Quits: mark_edward (mark@moz-DCB0B750.lightspeed.cicril.sbcglobal.net) (Ping timeout)
[09:26:11] <Yurume> I was surprised that there can coexist multiple sets of extension methods (that may break many assumptions). I still don't know if it is intentional or accidental, nor how had it worked correctly.
[09:26:25] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:26:46] <Yurume> rustdoc problem is a tip of iceberg, arguably
[09:26:51] <bvssvni> it makes the code a big spaghetti
[09:28:28] <bvssvni> Yurume: I can't see any io::fs specific code
[09:28:48] <bvssvni> Yurume: should be possible to movie it
[09:28:50] <Yurume> in impl path::Path?
[09:28:58] <bvssvni> Yurume: yes
[09:30:03] *** Joins: alkino (alkino@moz-53CAAA6D.w92-151.abo.wanadoo.fr)
[09:30:38] <bvssvni> the question is where
[09:30:41] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[09:30:51] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[09:31:11] <Yurume> bvssvni: <tangent> FYI, rustdoc actually extracts the multiple sets of extension methods correctly: http://static.rust-lang.org/doc/master/std/path/posix/struct.Path.html#method.stat the only broken thing is a link to it.
[09:31:26] <Yurume> ...and it has two impl Path sections. haha.
[09:31:31] <Yurume> but anyway
[09:32:24] <Yurume> I think we can keep it as is, but change `impl path::Path` into `impl Stat for path::Path` with a new trait (say).
[09:32:48] *** Quits: thesnowdog (doug@88FE1F50.9D0B7490.6F17036B.IP) (Connection reset by peer)
[09:33:36] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[09:34:23] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[09:36:53] <bvssvni> Yurume: I was wrong, it uses the io::fs::stat method
[09:36:53] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[09:37:10] *** pmoore|away is now known as pmoore
[09:38:38] <bvssvni> a Stat trait would be nice
[09:39:56] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[09:40:04] <bvssvni> at least to make it less confusing
[09:40:18] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:40:20] *** Quits: bharadwaj (uid11995@moz-5F4AA75A.irccloud.com) (Quit: Connection closed for inactivity)
[09:40:26] <Yurume> I'm summarizing what was going so far in an issue
[09:40:49] <utkarsh> how can I convert str to [u8]?
[09:40:53] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[09:41:20] <bvssvni> utkarsh: as_bytes()
[09:41:20] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[09:41:36] *** Joins: mark_edward (mark@moz-DCB0B750.lightspeed.cicril.sbcglobal.net)
[09:41:38] <utkarsh> bvssvni, thanks :)
[09:42:00] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[09:43:57] *** Joins: eibwen (kvirc@moz-467A0FC4.dip0.t-ipconnect.de)
[09:44:30] *** Quits: jesse99 (jesse99@moz-D8DE13A5.hsd1.wa.comcast.net) (Ping timeout)
[09:45:37] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[09:46:42] *** Joins: jesse99 (jesse99@moz-D8DE13A5.hsd1.wa.comcast.net)
[09:46:57] <Yurume> bvssvni: https://github.com/mozilla/rust/issues/12728
[09:47:18] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[09:47:50] *** Joins: soumyaC_ (uid15286@moz-E77DEB21.irccloud.com)
[09:49:29] *** soumyaC_ is now known as SoumyaC
[09:49:41] *** SoumyaC is now known as soumyaC
[09:49:48] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[09:51:35] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[09:53:04] *** Joins: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[09:53:25] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[09:53:46] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[09:53:53] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[09:55:07] <bollu> is it possible to generate ctags for rust?
[09:55:11] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[09:55:26] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[09:55:42] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[09:56:33] *** Quits: alkino (alkino@moz-53CAAA6D.w92-151.abo.wanadoo.fr) (Ping timeout)
[09:56:35] *** Quits: onelson (owen@18CF7301.95770028.5B6BFE7D.IP) (Ping timeout)
[09:58:13] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[09:58:44] *** Joins: josh (josh@moz-244364B2.cable.virginm.net)
[10:02:32] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Ping timeout)
[10:07:48] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[10:07:52] *** Quits: FlyingFoX (quassel@moz-8F529370.weh.rwth-aachen.de) (Ping timeout)
[10:09:39] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Ping timeout)
[10:09:53] *** Joins: FlyingFoX (quassel@moz-8F529370.weh.rwth-aachen.de)
[10:12:27] *** Quits: t4nk940 (bzlandfill@moz-833C28A3.hsd1.va.comcast.net) (Quit: CGI:IRC)
[10:12:42] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Quit: Computer gone to sleep - Zzzz...)
[10:13:33] *** Quits: FlyingFoX (quassel@moz-8F529370.weh.rwth-aachen.de) (Ping timeout)
[10:13:56] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[10:14:22] *** Joins: patpat (patpat@C8BD5AE8.D798B35A.98F3E2B5.IP)
[10:14:32] *** Joins: thesnowdog (doug@88FE1F50.9D0B7490.6F17036B.IP)
[10:15:49] *** Joins: FlyingFoX (quassel@moz-8F529370.weh.rwth-aachen.de)
[10:16:15] *** Quits: dherman (dherman@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: dherman)
[10:17:26] <Boreeas> I'm having trouble implementing an interface in one module for an enum from another module: http://pastebin.com/F4g7akL2
[10:17:50] <Boreeas> In particular, it doesn't recognize one of the enum constants, but can interpret all the others
[10:18:19] <Ms2ger> Did you import them all?
[10:18:52] *** Joins: leowoe (Leo@moz-50643062.dip0.t-ipconnect.de)
[10:19:48] *** Quits: mawuli (mawuli@moz-A89BBCE.com.gh) (Ping timeout)
[10:20:05] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[10:20:26] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[10:20:34] *** Joins: mawuli (mawuli@moz-A89BBCE.com.gh)
[10:24:09] *** Quits: enos (jkingyens@moz-B0C1B161.hsd1.ca.comcast.net) (Ping timeout)
[10:24:15] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[10:24:35] *** Quits: bvssvni (Mibbit@moz-C4579D6F.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[10:25:56] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[10:26:31] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[10:28:30] *** Joins: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se)
[10:29:58] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[10:30:20] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[10:32:03] *** Joins: dmsky (dmsky@moz-63A2E3E4.pppoe.spdop.ru)
[10:33:09] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[10:37:11] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[10:38:03] *** Joins: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net)
[10:38:09] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[10:39:38] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[10:40:14] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[10:41:31] *** Quits: mawuli (mawuli@moz-A89BBCE.com.gh) (Connection reset by peer)
[10:42:09] *** Joins: santiago (santiago@moz-69361A64.socal.res.rr.com)
[10:42:13] *** Quits: figaro (Mibbit@moz-AA65C711.lns20.adl2.internode.on.net) (Quit: http://www.mibbit.com ajax IRC Client)
[10:42:15] *** Parts: brihat (bdsatish@moz-5EC00491.dhcp.inet.fi) ()
[10:45:14] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[10:45:40] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[10:47:14] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[10:47:56] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Ping timeout)
[10:48:08] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[10:48:58] *** Quits: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP) (Quit: Leaving...)
[10:49:22] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[10:49:48] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[10:51:41] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[10:52:29] *** Joins: jviereck (Adium@moz-C29550EB.ethz.ch)
[10:53:22] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[10:53:38] *** Quits: jviereck (Adium@moz-C29550EB.ethz.ch) (Quit: Leaving.)
[10:54:56] *** Joins: enos (jkingyens@moz-B0C1B161.hsd1.ca.comcast.net)
[10:59:21] *** Joins: andre (andre@CA528A4A.45A4338E.8EE27E6.IP)
[10:59:32] *** Quits: nlminhtl|home (ignotus@moz-4CB8A1D.site.volia.net) (Quit: Konversation terminated!)
[11:00:32] *** Quits: enos (jkingyens@moz-B0C1B161.hsd1.ca.comcast.net) (Ping timeout)
[11:05:41] *** Joins: g3orge (papanikge@moz-77DA0988.access.hol.gr)
[11:06:54] <g3orge> hey guys,  what does the ' mean in a generic function of trait? I see <'a> all the time, and I don't know how to google it...
[11:10:42] <Ms2ger> Lifetime
[11:11:47] <mindcat> Ms2ger: what mean for <'a> <'r> ?
[11:11:58] <Ms2ger> Come again?
[11:12:31] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[11:12:33] <mindcat> Ms2ger: yea, you just said "Lifetime", doesn't explain that
[11:12:35] <eddyb> Ms2ger: no thanks
[11:13:17] <Ms2ger> I don't know what you're asking
[11:13:26] <Ms2ger> You said you didn't know how to google it
[11:13:27] <Ms2ger> Now you do
[11:14:05] *** Quits: leowoe (Leo@moz-50643062.dip0.t-ipconnect.de) (Quit: Leaving.)
[11:14:41] <mindcat> then <'a> <'r> different?
[11:15:05] <g3orge> Ms2ger: ok, so I google lifetime.?
[11:15:18] <cajbir> g3orge: http://static.rust-lang.org/doc/master/guide-lifetimes.html
[11:15:25] <Ms2ger> Oh wait, there's two of you
[11:15:43] <kimundi> http://static.rust-lang.org/doc/master/index.html for the master doc list
[11:17:10] <g3orge> cool thx
[11:17:28] <mindcat> thx
[11:17:36] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[11:20:11] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[11:21:40] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[11:23:44] *** Quits: oxum (anonymous@F94B60C3.9C15B13F.520CDC98.IP) (Ping timeout)
[11:23:47] *** Joins: jviereck (Adium@moz-C29550EB.ethz.ch)
[11:24:34] *** Joins: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se)
[11:24:44] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[11:25:04] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[11:26:45] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[11:27:02] *** Quits: jviereck (Adium@moz-C29550EB.ethz.ch) (Quit: Leaving.)
[11:27:21] *** Joins: jviereck (Adium@moz-C29550EB.ethz.ch)
[11:27:35] *** Quits: jviereck (Adium@moz-C29550EB.ethz.ch) (Client exited)
[11:28:25] *** Quits: Ferreus (ferreus@moz-F3FF31FF.dip0.t-ipconnect.de) (Ping timeout)
[11:30:20] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[11:30:52] *** Joins: mye (mye@moz-97015299.dip0.t-ipconnect.de)
[11:31:19] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[11:32:00] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[11:32:42] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[11:32:49] *** Quits: benjamin_____ (benjamin@moz-7273BCF0.dip0.t-ipconnect.de) (Ping timeout)
[11:33:25] *** Joins: rootnode (rootnode@moz-C4C118DD.pools.arcor-ip.net)
[11:33:25] *** Joins: io2 (io2@moz-EE406A5.home.otenet.gr)
[11:33:26] *** Joins: mawuli (mawuli@moz-A89BBCE.com.gh)
[11:34:49] *** Quits: JanC_ (janc@moz-730AF229.dsl.scarlet.be) (Ping timeout)
[11:35:13] <Boreeas> Ms2ger: I just imported the Token enum, which works for 2 out of 3 constants
[11:35:26] <Boreeas> Ms2ger: I just imported the Token enum, which works for 2 out of 3 constants (not sure if my client sent my last message)
[11:35:48] <Ms2ger> That doesn't sound right
[11:35:52] <Ms2ger> bbiab
[11:39:43] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[11:40:10] <Ms2ger> Pastebin?
[11:42:11] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[11:42:55] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[11:43:58] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[11:44:03] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[11:44:17] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[11:44:19] *** Joins: oxum (anonymous@2EA69919.88326D41.520CDC98.IP)
[11:45:12] *** Joins: Ferreus (ferreus@moz-2C3F5191.dip0.t-ipconnect.de)
[11:46:34] <Boreeas> Ms2ger: http://pastebin.com/F4g7akL2
[11:47:35] <kimundi> Boreeas: Do you get a unused variable warning for line 24, and a unreachable patetrn error for line 25?
[11:48:14] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[11:48:24] *** Quits: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP) (Input/output error)
[11:48:34] <Boreeas> kimundi: No, just that one error
[11:48:44] *** Joins: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP)
[11:48:46] <Boreeas> Plus "aborting due to previous error"
[11:48:53] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[11:48:56] <kimundi> Boreeas: It probably didn'T get to there then
[11:49:12] <kimundi> try commenting out fn unary, and see if you get them
[11:49:33] *** Joins: JanC_ (janc@moz-276EF5B8.dsl.scarlet.be)
[11:50:16] *** Quits: patpat (patpat@C8BD5AE8.D798B35A.98F3E2B5.IP) (Ping timeout)
[11:50:26] *** Quits: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP) (Ping timeout)
[11:50:32] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[11:50:36] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[11:50:37] <kimundi> The catch here is that match foo { BAR => ... } can be interpreted in a number of different ways, depending on what is in scope. If BAR is a enum variant it tries to macth against it, if BAR is a static, it tries to match against the value of BAR, if neither is in scope, it creates a new binding "BAR"
[11:51:39] <kimundi> so, line 24 probably doesn't work either, it creates a local variables "END_TOKEN" that always matches.
[11:52:02] <Boreeas> Commenting out unary:
[11:52:18] <Boreeas> /home/malte/Dropbox/Rust/interpreter/parser.rs:9:22: 9:36 error: internal compiler error: cannot relate bound region: ReLateBound(604, BrNamed(syntax::ast::DefId{krate: 0u32, node: 611u32}, a)) <= ReInfer(14)
[11:52:28] <kimundi> ouf
[11:52:39] <kimundi> Well, thats a rustc bug :P
[11:53:38] <kimundi> Anyway, see my explanation of why it wouldn't work, or might seem to work - you just need to import the enum variants explicitly.
[11:53:59] *** Joins: zmike (discomfito@moz-975BC507.hsd1.ct.comcast.net)
[11:54:02] *** Quits: jesse99 (jesse99@moz-D8DE13A5.hsd1.wa.comcast.net) (Ping timeout)
[11:54:03] *** Joins: jesse99 (jesse99@moz-D8DE13A5.hsd1.wa.comcast.net)
[11:54:13] <eddyb> Boreeas: are you defining a trait generic over a lifetime?
[11:54:37] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[11:54:59] <eddyb> Boreeas: or having a lifetime anywhere inside a generic trait? like <'a, T: Iterator<&'a T>>
[11:55:23] <Boreeas> That, yeah: fn unary<'a, I: Iterator<&'a Token>>
[11:55:43] <eddyb> pnkfelix is updating nmatsakis' patch to make that work
[11:55:44] <kimundi> But didn'T you uncomment just that and then get the error?
[11:55:51] <kimundi> eddyb: ooh!
[11:55:53] <eddyb> kimundi: there's probably more
[11:56:05] <eddyb> Boreeas: untill then, Iterator<Token>
[11:56:06] *** Joins: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net)
[11:56:07] <kimundi> eddyb: So a fix is in the pipeline?
[11:56:17] <eddyb> a few days, maybe a week
[11:56:31] <Boreeas> kimundi: There's also fn binary<'a, I: Iterator<&'a Token>>, which I snipped from the paste because I wanted as small of a testcase pas possible
[11:56:32] <kimundi> Excellent!
[11:56:32] <eddyb> kimundi: pnkfelix commented on the relevant issue yesterday, I think
[11:56:48] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Quit: mbx)
[11:57:03] <kimundi> Boreeas: ah, okay
[11:57:43] <kimundi> Boreeas: (Small nitpick: not showing part of the code is exactly the opposite of presenting a small testcase ;))
[11:58:22] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[11:58:48] *** Joins: patpat (patpat@C8BD5AE8.D798B35A.98F3E2B5.IP)
[11:59:38] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[11:59:39] *** Joins: jviereck (Adium@moz-24C03664.ethz.ch)
[11:59:43] *** Quits: jviereck (Adium@moz-24C03664.ethz.ch) (Client exited)
[11:59:49] *** Joins: intuxicated (intuxicate@A9443CC2.9D1E10BA.3FFBF42F.IP)
[12:00:07] <Boreeas> kimundi: Yeah, sorry. It didn't seem relevant since what appeared important to me (using the other variants works) was already shown by lbp(). I try to not paste entire traits, since that's usually a lot of code that doesn't relate to the problem :P
[12:04:01] *** Quits: intuxicated (intuxicate@A9443CC2.9D1E10BA.3FFBF42F.IP) (Client exited)
[12:04:12] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Client exited)
[12:05:51] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[12:07:11] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[12:09:30] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[12:09:35] *** Quits: Ms2ger (Ms2ger@60B493FD.C305EAEC.F15B0BB3.IP) (Quit: bbl)
[12:10:22] *** Joins: jensnock_ (jensnocker@moz-C4B24C3.customers.ownit.se)
[12:11:49] *** Joins: ganitsu (ganitsu@moz-31FAF58A.dialup.adsl.anteldata.net.uy)
[12:12:07] *** Joins: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca)
[12:12:07] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[12:13:03] *** Quits: jdm (jdm@moz-E41E4269.dsl.teksavvy.com) (Ping timeout)
[12:13:06] *** Joins: jensnoc__ (jensnocker@moz-33279404.customers.ownit.se)
[12:13:43] *** Quits: jensnock_ (jensnocker@moz-C4B24C3.customers.ownit.se) (Ping timeout)
[12:14:29] *** Quits: ganitsu (ganitsu@moz-31FAF58A.dialup.adsl.anteldata.net.uy) (Ping timeout)
[12:19:11] *** Joins: intuxicated (intuxicate@A9443CC2.9D1E10BA.3FFBF42F.IP)
[12:19:34] *** Quits: twi (Adium@moz-9F0310CC.cust.vodafonedsl.it) (Ping timeout)
[12:19:37] *** Quits: intuxicated (intuxicate@A9443CC2.9D1E10BA.3FFBF42F.IP) (Quit: Leaving)
[12:19:48] *** Joins: intuxicated (intuxicate@A9443CC2.9D1E10BA.3FFBF42F.IP)
[12:25:11] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[12:26:34] *** Quits: patpat (patpat@C8BD5AE8.D798B35A.98F3E2B5.IP) (Ping timeout)
[12:26:52] <g3orge> what's the opposite of warning directives? read: how do I disable #[warn(unused_variable)] ?
[12:27:25] *** Joins: paulolieuthier (quassel@6DA858F4.6022F55.368B8D1A.IP)
[12:27:32] <kimundi> #[allow(unused_variable)];
[12:27:32] <huon> call the variable _foo rather than foo
[12:27:37] <kimundi> or that
[12:28:24] <g3orge> oh, that easy.. thx
[12:28:47] *** Quits: paulolieuthier (quassel@6DA858F4.6022F55.368B8D1A.IP) (Client exited)
[12:29:01] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[12:30:07] *** Joins: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de)
[12:30:09] *** Joins: lunaryorn (lunaryorn@moz-9F2A4CD.dynamic.mnet-online.de)
[12:30:38] *** Quits: dranov (dranov@F1420C19.3C4F00D.E16F0CF5.IP) (Ping timeout)
[12:30:51] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[12:31:06] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[12:32:46] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[12:33:05] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[12:33:37] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[12:34:14] *** Joins: jiojiajiu (jiojiajiu@moz-7455BF89.revip7.asianet.co.th)
[12:35:24] *** Joins: twi (Adium@moz-9F0310CC.cust.vodafonedsl.it)
[12:36:22] <Boreeas> Is there a way to convert an Iterator<&something> to an Iterator<something>?
[12:36:59] <ChrisMorgan> Boreeas: assuming <T: Clone>, .map(|e| e.clone())
[12:37:05] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Quit: Leaving...)
[12:37:51] *** Joins: samg (uid26748@moz-31ABA2C0.irccloud.com)
[12:38:36] *** Quits: samg (uid26748@moz-31ABA2C0.irccloud.com) (Quit: )
[12:38:37] <kimundi> Assuming <T: Pod>, .map(|e| *e) or .map(|&e| e)
[12:38:55] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[12:40:15] <Boreeas> Awesome, thanks. What does Pod stand for?
[12:40:26] <kimundi> plain old data
[12:40:35] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[12:40:42] <kimundi> basically everything that does not move
[12:41:04] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[12:41:29] <kimundi> for example "uint", or "(char, &str)", "struct Foo {x: (), y: int}" etc
[12:42:02] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[12:42:39] <bollu> any way to convert a float into a numerator / denominator?
[12:42:52] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[12:43:10] <kimundi> Not sure if we have a fractional type
[12:44:40] <bollu> http://static.rust-lang.org/doc/master/std/index.html <- there's a bug: search a letter, then clear the letter. the search bar doesn't close
[12:45:11] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[12:45:24] *** Quits: nimish (quassel@6CD90D4F.B586C2A4.5F29FBA5.IP) (Ping timeout)
[12:46:57] *** Quits: intuxicated (intuxicate@A9443CC2.9D1E10BA.3FFBF42F.IP) (Client exited)
[12:47:05] <bollu> kimundi: is there one?
[12:47:10] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[12:47:11] <bollu> tried searching, didn't get ant
[12:47:12] <bollu> any*
[12:49:37] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[12:51:16] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[12:56:18] <bollu> how do I overload a function in rust? (I think this is impossible? )
[12:57:15] *** Joins: dhf (dhf@74A9877B.FFF0D395.8573890.IP)
[12:57:44] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[12:59:01] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[12:59:04] *** Joins: xitology_ (xi@85437D54.5AFA3E4.CEDFC552.IP)
[12:59:14] *** Quits: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP) (Ping timeout)
[13:00:42] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Ping timeout)
[13:01:23] <bollu> { rad: 0 | deg: 0 } <- how do I print this string? It's interpreting the { } as a format string
[13:02:42] <bollu> escah, nvm. got it . \\{
[13:07:13] *** Quits: kimundi (kimundi@moz-9F18BF79.dip0.t-ipconnect.de) (Ping timeout)
[13:07:25] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:08:57] *** Quits: twi (Adium@moz-9F0310CC.cust.vodafonedsl.it) (Quit: Leaving.)
[13:10:33] *** Joins: kimundi (kimundi@moz-9F18BF79.dip0.t-ipconnect.de)
[13:12:49] *** Joins: benjamin_____ (benjamin@moz-7273BCF0.dip0.t-ipconnect.de)
[13:13:08] *** Quits: meyer (meyer@moz-A9CF56E4.hsd1.ca.comcast.net) (Quit: meyer)
[13:15:09] *** Joins: Ms2ger (Ms2ger@moz-2652E5A4.ugent.be)
[13:15:16] <bollu> what happened to the extra::rational::Ratio ?
[13:15:31] <Ms2ger> Moved into libnum?
[13:16:24] <bollu> is it a part of std?
[13:16:28] <bollu> I can't find it
[13:17:28] <huon> it's in the num crate
[13:18:05] <Ms2ger> http://static.rust-lang.org/doc/master/num/index.html
[13:18:07] <bollu> @huon: thanks!. and the docs for these crates are ...?
[13:18:18] <bollu> ty :)
[13:18:23] <eddyb> http://static.rust-lang.org/doc/master/index.html
[13:18:42] <eddyb> can we *pleease* move that to http://doc.rust-lang.org/master ?
[13:18:46] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Ping timeout)
[13:20:04] <bollu> I use it by stating use num::rational::Ratio ?
[13:20:31] <huon> `extern crate num` is needed too
[13:20:34] <eddyb> after extern crate num;
[13:20:36] <bollu> eddyb: I was looking there! I didn't find it which was why I came here.
[13:21:08] *** Joins: kris (kris@moz-2DA9CD23.dk.customer.tdc.net)
[13:21:17] <eddyb> someone bug brson about shortening those doc URLs
[13:21:24] <huon> ctrl-f "num" => highlights exactly the right link
[13:21:52] <eddyb> we should also remove the enum/struct/trait prefixes and the .html suffix in rustdoc but that might be harder
[13:22:27] <bollu> *hangs head in shame*
[13:22:33] <eddyb> the stronger the correspondence between the absolute path to the item and the doc URL, the better
[13:23:12] <eddyb> it was hard to go to the docs for an item I haven't visited before, in chrome. firefox doesn't even have word boundaries :(
[13:23:42] <eddyb> #marsproblems
[13:23:58] <bollu> hmm, I can't create a ratio from an f32?
[13:24:19] <eddyb> bollu: aren't rationals supposed to be a pair of integers?
[13:24:26] *** Quits: g3orge (papanikge@moz-77DA0988.access.hol.gr) (Ping timeout)
[13:24:38] <eddyb> (though that might be to far from #rustyworldproblems for it to make sense *sigh*)
[13:24:38] <bollu> eddyb: I was hoping it would convert a float into a ratio
[13:24:52] <eddyb> bollu: aah. I think someone tried to write an algorithm for it
[13:24:57] <bollu> 2.5 = 25 / 10 = 5/2
[13:25:06] <NiccosSystem> why is the keyword for defining variables 'let' by the way?
[13:25:07] <eddyb> it's not an exact science
[13:25:14] <bollu> eddyb: yeah algorithms are pretty well known AFAIK :)
[13:25:17] <eddyb> NiccosSystem: because precedence
[13:25:18] <Ms2ger> NiccosSystem, as opposed to?
[13:25:22] <eddyb> NiccosSystem: and maths
[13:25:29] <NiccosSystem> Does it mean something?
[13:25:29] *** Joins: pczarn (pczarn@moz-69A55FA.izacom.pl)
[13:25:32] <eddyb> it can't be "var" because they're not variables
[13:25:39] <eddyb> NiccosSystem: in maths, yes
[13:25:42] <Ms2ger> NiccosSystem, and because that's what typically used in PL research
[13:25:47] *** Quits: a_m0d (a_m0d@moz-AC872528.acanac.net) (Quit: Leaving.)
[13:26:02] <huon> bollu: there is a function for it
[13:26:12] <bollu> @huon: any idea what it's called?
[13:26:16] <eddyb> NiccosSystem: we usually call them "locals"
[13:26:25] <huon> bollu: http://static.rust-lang.org/doc/master/num/rational/struct.Ratio.html#method.from_float
[13:26:34] <huon> did you look at the docs?
[13:26:36] <eddyb> bollu: I mean it's not exact because floating-point is so silly
[13:26:43] *** Quits: josh (josh@moz-244364B2.cable.virginm.net) (Quit: josh)
[13:26:47] <bollu> eddyb: yeah, agreed. 
[13:27:01] <bollu> the floating point representation still blows my mind 
[13:27:10] <bollu> m * 2 ^ e
[13:27:20] <bollu> like, that's just /nuts/ when you think about it
[13:27:21] <eddyb> useful, but still crazy. we're having so much problems with our equality/ordering stuff because of NaN. endless discussions
[13:27:25] <bollu> huon: thanks!
[13:27:43] <eddyb> huon: why can't that be http://doc.rust-lang.org/master/num/rational/Ratio#from_float ;_;
[13:27:58] <huon> eddyb: because that's not what is currently implemented
[13:27:59] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[13:28:02] <huon> feel free to change rustdoc
[13:28:07] <huon> you have the power
[13:28:19] <bollu> eddyb: does it really matter? :)
[13:28:34] <huon> eddyb: anyway, it is possible to convert non-inf/nan float to a (bigint) ratio exactly
[13:28:44] <eddyb> huon: my bad then
[13:28:57] <eddyb> the algorithm I saw was a bit wacky
[13:29:16] <bollu> eddyb: isn't it a continued fractions thing?
[13:29:17] <eddyb> maybe it wasn't the best there is or something. I didn't look much into it
[13:29:21] <bollu> 10/3 = 3.333....
[13:29:39] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Ping timeout)
[13:29:57] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[13:29:58] <bollu> is it possible to access the raw representation of a float in Rust?
[13:30:06] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[13:30:10] <bollu> the way the hacky union trick lets you do it in C?
[13:30:16] <jensnoc__> bollu: Yes.
[13:30:24] <eddyb> huon: I guess it's trivial to use the exponential form and then do gcd on it... what was I thinking?
[13:30:32] <jensnoc__> cast::transmute.
[13:30:33] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[13:30:49] <eddyb> jensnoc__: don't we have better access, somehow?
[13:31:20] <jensnoc__> eddyb: Not if you want it as a u32/u64.
[13:31:21] <eddyb> I remember seeing something nice in std, taking a float apart, not with transmute to an integer
[13:31:27] <huon> bollu: there's a float decoding function somewhere in std::num
[13:31:38] <huon> (but it's not the truly raw bits)
[13:31:38] <jensnoc__> Sure, you can get the parts, but that's something else.
[13:31:39] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Ping timeout)
[13:31:48] <eddyb> mkay
[13:31:51] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[13:31:54] *** Joins: siavashserver (siavash@AF9FA4B7.3041B8B6.82A25C10.IP)
[13:32:03] <bollu> @huon: ty
[13:32:07] <huon> eddyb: doing float -> ratio to avoid just getting x / 2^k for some x requires more effort
[13:32:14] <bollu> I wanted to implement fast inverse square root
[13:32:14] <huon> (continue fractions <3 )
[13:32:31] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[13:32:36] <eddyb> huon: isn't it just gcd?
[13:33:13] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[13:33:14] <eddyb> or are you referring to the precision problems I was hinting at earlier?
[13:33:16] <jensnoc__> bollu: If you're doing it that way, be aware that it isn't actually 'fast'.
[13:33:16] <bollu> eddyb: not really ...? GCD is an algorithm, continued fractions are a series that tend to a value?
[13:33:26] <bollu> jensnoc__: why noyt?
[13:33:30] <bollu> not*
[13:33:31] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[13:33:35] <eddyb> bollu: I mean, getting a reduced fraction
[13:34:07] <eddyb> bollu: I guess you've given me a good example earlier
[13:34:10] <bollu> eddyb: ah, in that case AFAIK they're conceptually the same thing. but the method differs
[13:34:16] <huon> eddyb: not quite
[13:34:28] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Quit: victorporof)
[13:34:34] <eddyb> huon: so I was right that floating-point makes it wackier
[13:34:45] <huon> continued fractions will give 11/10 as an approximation to 110000000001/10000000000 (assuming I have the right number of zeros...)
[13:34:49] <huon> but GCD won't
[13:34:59] <huon> no, not floating point
[13:35:07] <bollu> anyone mind telling me why fastInvSqrt won't be fast in rust?
[13:35:10] <jensnoc__> bollu: Because most processors can actually do it much faster in hardware.
[13:35:23] <eddyb> huon: why would you want to approximate without floating point?
[13:35:27] <bollu> jensnoc__: 1/sqrt(something) is faster than bit squiggling?
[13:35:36] <eddyb> bollu: much faster
[13:35:39] <bollu> unless you have a dedicated instruction
[13:35:45] <eddyb> lol
[13:35:49] <jensnoc__> bollu: You have a dedicated instruction.
[13:35:54] <bollu> ah, til :)
[13:35:55] <siavashserver> rcpps
[13:35:58] <huon> eddyb: becaue you don't want an unrealistically precise denominator
[13:35:59] <jensnoc__> bollu: Or at least a dedicated sequence of instructions.
[13:36:10] <bollu> did not know that!
[13:36:22] <eddyb> huon: right. but can you actually get it, if you want it for some reason?
[13:36:24] <bollu> In that case, why did carmack use it ? the instruction wasn't around during his time?
[13:36:29] <bollu> what gives?
[13:36:36] <dhf> hello
[13:36:40] <eddyb> bollu: that was ages ago
[13:36:47] <eddyb> rcpps sounds like SSE
[13:36:47] <jensnoc__> bollu: Most processors didn't support them at that time.
[13:36:54] <huon> eddyb: e.g. 3.1415926535... represented in fixed point converted to a ratio is more useful as a low denominator continued fraction convergent, rather than 314159.../10000000
[13:36:56] <eddyb> if siavashserver was answering
[13:37:03] <siavashserver> ^ yeah
[13:37:18] <huon> eddyb: yes, I guess you can get it by decomposing the float manually
[13:37:25] <eddyb> okay, thanks
[13:37:27] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[13:37:31] <dhf> what is the intended "niche" area for rust? os dev, network services? general purpose programming?
[13:37:32] *** Joins: marwy (user@41303A68.5C2AEEF8.CFA44423.IP)
[13:37:42] <jensnoc__> dhf: Systems programming.
[13:37:42] <eddyb> dhf: general systems programming
[13:37:53] <eddyb> dhf: high efficiency, lower level, etc.
[13:37:58] <doomlord_> rescuing game developpers from C++
[13:38:01] <eddyb> dhf: osdev and network services should include
[13:38:03] <eddyb> doomlord_ <3
[13:38:04] <doomlord_> hopefully :)
[13:38:08] <bollu> doomlord_ : well put!
[13:38:14] <eddyb> s/include/be included/
[13:38:18] <dhf> game development as well? very cool
[13:38:27] <eddyb> I think this sleep deprivation isn't doing good to my english
[13:38:38] <bollu> jensnoc__: you know PI upto 10 significant digits?
[13:38:39] <dhf> being able to use the same lang for os dev and game dev would be very nice
[13:38:47] *** Quits: Ms2ger (Ms2ger@moz-2652E5A4.ugent.be) (Ping timeout)
[13:38:51] <jensnoc__> bollu: In binary?
[13:38:58] <bollu> jensnoc__: base 10
[13:38:59] <siavashserver> dhf: C ?
[13:39:01] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[13:39:18] <dhf> siavashserver: i don't think anyone uses C for game development?
[13:39:19] <bollu> siavashserver: have you /read/ quake's source code? ;)
[13:39:30] <bollu> it's just *shudder*
[13:39:37] <dhf> bollu: in what sense?
[13:39:38] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[13:39:39] <siavashserver> bollu: quake 1/2 is C afaik
[13:39:51] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[13:40:05] <bollu> AFAIK, till quake (3)? carmack refused to use C++
[13:40:18] <doomlord_> a lot of people feared it originally
[13:40:24] <doomlord_> with good cause :)
[13:40:24] <bollu> dhf: void * conversions everywhere, maintaing vtables by hand,
[13:40:30] *** Joins: Ms2ger (Ms2ger@moz-2652E5A4.ugent.be)
[13:40:34] <dhf> bollu: i think q3 is C. when he made doom 3 he switched to c++ because it made it easier to sell his graphics engines
[13:40:37] <bollu> dhf: a lack of organization didn't help
[13:40:41] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Ping timeout)
[13:41:00] <bollu> dhf: yeah, I don't remember exactly. but the code was neat actually. 
[13:41:03] <SiegeLord> I thought quake was in QuakeC
[13:41:10] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[13:41:26] <eddyb> SiegeLord: is that like Qt C++?
[13:41:26] <bollu> SiegeLord: the engine was in C. there was a VM in the engine which interpreted QuakeC 
[13:41:33] <bollu> it was pretty crazy
[13:41:40] <bollu> I skipped reading that part
[13:41:57] <bollu> I think the "reading" is reduntant in that sentence. oh well :)
[13:42:01] <SiegeLord> Well, yes... the VM was in C, but I was under the impression that the 'game' bit was in QuakeC
[13:42:37] <bollu> SiegeLord: as far as I remember, a fair bit of the logic was in pure C - the rocket launcher code was particularly entertaing to read
[13:42:46] <SiegeLord> I see
[13:42:54] <bollu> there was zero separation of concerns
[13:43:21] <SiegeLord> Games aren't meant to be maintained, so it's okay to hack around :P
[13:43:21] <bollu> anyway, the game played really well, so I doubt people care :)
[13:43:36] <doomlord_> quake was a masterpeice
[13:43:38] <bollu> SiegeLord: true. the journal system was also pretty cool actually.
[13:43:48] <doomlord_> well, a groundbreaking engine at the time
[13:43:56] <SiegeLord> The whole thing was cool imo
[13:43:58] <doomlord_> predating the 3d hardware era
[13:43:59] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Input/output error)
[13:44:43] <bollu> doomlord_: yeah, the code was really awesome to read. especially as someone who hand't / hasn't done a lot of programming, it was mind blowing
[13:45:29] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[13:45:30] <bollu> doomlord_: I still remember the fact that matrix multiply were macros, not functions. it was indexed by hand...
[13:45:43] <doomlord_> C gives me a mixed response.. primitive onthe one hand but sometimes its simplicity is appealing .. and its nostalgic too
[13:46:30] <bollu> doomlord_: yep, I agree. C++ sometimes leads to way too much of architecture with zero substance. C kind of strips everything away leaving only the implementation behind
[13:46:47] <doomlord_> You can do all sorts of clever templated vector maths in C++ ... but sometimes these are supposed to compile down to simple SIMD instructions.. intrinsics in C are pretty good
[13:47:27] <bollu> doomlord_: isn't loki a prime example?
[13:47:30] <bollu> boost too actually
[13:47:33] <bollu> boost::spirit.
[13:47:36] <bollu> that module is nuts
[13:48:05] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[13:48:37] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[13:49:14] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[13:49:55] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[13:50:08] *** Quits: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de) (Quit: Leaving.)
[13:50:22] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[13:51:11] <doomlord_> i'm not one of these people who insists "C is obselete and should die"
[13:51:53] <doomlord_> i like the fact its a useful langauge for certain domains where you can get things done without having to argue about OOP 
[13:52:52] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[13:53:37] <siavashserver> after rust v1.0 getting released, is there going to be v1.1 etc too?
[13:53:52] <bollu> when I generate a Ratio from a float, is there some way to specify precision? I want human readable ratios ;_;
[13:53:57] *** Joins: g3orge (papanikge@moz-77DA0988.access.hol.gr)
[13:54:11] *** Joins: judder (maradukewa@A4DC519F.6379DA33.78E362FE.IP)
[13:54:25] <bollu> I want to pretty print angles as A PI / B, not get the exact ratio... 
[13:55:45] <SiegeLord> A = round(angle * B) ?
[13:56:14] <SiegeLord> angle * B / (2 * PI) or something
[13:56:20] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[13:56:22] <eddyb> siavashserver: hmm, not sure on that... I know we'll be modifying *libraries* that aren't marked stable
[13:57:04] <siavashserver> eddyb: thank you
[13:57:16] <bollu> SiegeLord: I have the angle as a float.
[13:57:28] *** Quits: g3orge (papanikge@moz-77DA0988.access.hol.gr) (Quit: WeeChat 0.4.3)
[13:57:32] <bollu> it's guarenteed that 0 < theta < tau
[13:57:43] <SiegeLord> What's tau?
[13:57:46] <bollu> 2pi
[13:57:46] <eddyb> hehe
[13:57:47] <bollu> :)
[13:57:57] <SiegeLord> Oh, one of those new-age constants :P
[13:58:03] <eddyb> SiegeLord: relevant http://xkcd.com/1292/
[13:58:09] <bollu> xD it's true though, it handles integretion better 
[13:58:13] <SiegeLord> XKCD is never relevant
[13:58:14] <bollu> it looks way nearter
[13:58:38] <bollu> neater* 1/2mv^2, 1/2IW^2, .. 1/2TauR^2
[13:58:39] <SiegeLord> Anyway, just divide your angle by this 'tau' and multiply it by whatever granularity you want
[13:58:57] <SiegeLord> I suggest 12, as it has lots of factors
[13:59:06] <bollu> SiegeLord: that will give me a fractional floating point again
[13:59:14] <SiegeLord> That's where 'round' comes in
[13:59:33] <eddyb> round(x * 12) / 12, right?
[13:59:46] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[13:59:47] <eddyb> I used to use this hack in JS to round to a certain number of decimals
[13:59:47] <bollu> ah, I think I see.
[13:59:47] <SiegeLord> Yeah, exactly
[13:59:51] <bollu> neat trick
[14:00:01] <SiegeLord> And then I assume Ratio will allow you simplify it
[14:00:09] <bollu> SiegeLord: yep, it will
[14:00:09] <siavashserver> Isn't there something like %3f ?
[14:00:21] <bollu> yeah, there is a % operator actually
[14:00:22] <eddyb> {:3f} maybe?
[14:00:52] <siavashserver> Ah while we are at it, is {} safe for printing?
[14:00:59] <eddyb> rusti: format!("{:3f}", 0.123456789f64)
[14:01:00] -rusti- ~"0.123457"
[14:01:05] <eddyb> hmm
[14:01:09] <eddyb> rusti: format!("{:1f}", 0.123456789f64)
[14:01:10] -rusti- ~"0.123457"
[14:01:16] <eddyb> rusti: format!("{:.3f}", 0.123456789f64)
[14:01:17] -rusti- ~"0.123"
[14:01:18] <eddyb> there
[14:01:35] <siavashserver> cool
[14:01:41] <bollu> what's round called?
[14:01:55] <eddyb> bollu: probably round. somewhere in std::num or libnum
[14:02:12] <eddyb> bollu: http://static.rust-lang.org/doc/master/std/index.html?search=round
[14:02:31] <SiegeLord> I actually don't know what that function does... could always do floor(x + 0.5)
[14:02:32] <eddyb> bollu: this is what you want, I guess http://static.rust-lang.org/doc/master/std/num/trait.Round.html#tymethod.round
[14:02:57] <eddyb> SiegeLord: is should do the right thing here
[14:03:00] <SiegeLord> Ah, there you go
[14:03:14] <SiegeLord> I was looking at the f32::round which didn't have documentation, heh
[14:03:23] *** Joins: bharadwaj (uid11995@moz-5F4AA75A.irccloud.com)
[14:03:46] <eddyb> note that -0.5 will round to -1 instead of 0, as in floor(x + 0.5)
[14:03:57] <bollu> yep, ty
[14:04:12] *** Quits: dhf (dhf@74A9877B.FFF0D395.8573890.IP) (Quit: reboot)
[14:04:28] <eddyb> (that floor thing is wrong for negative numbers anyway, I think)
[14:05:15] <siavashserver> rusti: format!("{}", 0.1234)
[14:05:15] -rusti- ~"0.1234"
[14:05:28] <siavashserver> rusti: format!("{}", 0.1234f)
[14:05:28] -rusti- <anon>:10:23: 10:30 error: expected `f32` or `f64` suffix
[14:05:28] -rusti- <anon>:10         format!("{}", 0.1234f)
[14:05:28] -rusti-                                 ^~~~~~~
[14:05:28] -rusti- application terminated with error code 101
[14:05:42] <bollu> okay, what am I doing wrong? https://gist.github.com/482fefbc420e38f21d2b
[14:06:24] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[14:06:30] <bollu> the Show() trait implementation is at the bottom :)
[14:07:38] <kimundi> bollu: You forget to actually say what the problem is :P
[14:07:47] <eddyb> kimundi: it's in the description
[14:07:49] <bollu> it's in the description :) 
[14:08:13] <eddyb> I'd make that generic over the floating point type btw... modern CPUs should work just as well with f64 while having more precision. but it probably doesn't matter in your case
[14:08:50] <bollu> eddyb: yeah, I doubt it does. it's going to be used for a tile-based game engine (hopefully). 
[14:08:58] <eddyb> bollu: I know the problem here :/
[14:08:58] <bollu> so precision is not going to be an issue
[14:09:00] <SiegeLord> You want Ratio::new_raw
[14:09:13] <bollu> SiegeLord: will try
[14:09:14] <eddyb> you should be using floating point after rounding
[14:09:24] <eddyb> *shouldn't
[14:09:34] <eddyb> (what the heck is wrong with me today?)
[14:09:44] <SiegeLord> new_raw((self.theta / PI * 12f32).round() as int, 12)
[14:09:59] <SiegeLord> Or whatever integral type you're using
[14:10:13] <eddyb> rusti: 2 / 12
[14:10:14] -rusti- 0
[14:10:21] <eddyb> rusti: 2f64 / 12f64
[14:10:21] -rusti- 0.166667f64
[14:10:24] <siavashserver> eddyb: coffee level is low
[14:10:33] <eddyb> siavashserver: I don't drink coffee
[14:10:51] <kimundi> eddyb: You stuck your head to deep into the compiler, and now your feeling the repercussion from it ;)
[14:10:52] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[14:10:57] <bollu> SiegeLord: yep, it works!
[14:10:58] <siavashserver> :D
[14:11:03] <SiegeLord> Oh, nvm... not new_raw, but new
[14:11:18] <bollu> https://gist.github.com/482fefbc420e38f21d2b
[14:11:26] <bollu> SiegeLord: the difference is?
[14:11:34] <kimundi> rusti: 355_f64 / 113_f64
[14:11:35] -rusti- 3.141593f64
[14:11:37] <bollu> it dosen't simplify is all
[14:11:43] <SiegeLord> new will reduce 2/12 to 1/6
[14:11:57] <bollu> yeah, what I meant :)
[14:12:06] <bollu> refresh :)
[14:12:24] <bollu> so, any changes needed ? to make it more rust compliant?
[14:12:29] <eddyb> bollu: you can use π instead of PI btw
[14:12:38] <SiegeLord> No need for that  : int
[14:12:40] *** Joins: jviereck (Adium@moz-6BB52FCA.ethz.ch)
[14:12:57] <eddyb> } else { on one line, 4 space indents, etc.
[14:13:01] <kimundi> eddyb: not without enabling the feature gate
[14:13:18] <eddyb> kimundi: inside the string
[14:13:19] <bollu> eddyb: that's more style than substance ;)
[14:13:31] <kimundi> oh, yeah there definitly ;)
[14:13:45] <bollu> oh, good point
[14:13:47] <eddyb> bollu: but style makes things pleasurable!
[14:14:01] <bollu> true!
[14:14:16] <kimundi> At least it normalizes the code layout to something the community is most familiar with
[14:14:27] <bollu> so, how do I print the degree symbol? :)
[14:14:35] <kimundi> °
[14:14:36] <bollu> will have to hunt for the unicode point
[14:14:38] <kimundi> copy it :P
[14:14:43] <eddyb> bollu:  ∡ ∢
[14:14:43] <bollu> ty
[14:14:46] <bollu> xD
[14:14:47] <eddyb> for angle
[14:14:51] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[14:14:53] <eddyb> instead of {}
[14:15:04] <siavashserver> that's an eye
[14:15:12] * kimundi has '°' on his regular languages keyboard layout
[14:15:14] <siavashserver> camera/viewer
[14:15:17] *** Joins: ganitsu (ganitsu@moz-31FAF58A.dialup.adsl.anteldata.net.uy)
[14:15:29] <SiegeLord> Compose+o+o ;)
[14:15:33] <bollu> yeah, I was wondering how you typed it out that fast >_>
[14:15:36] <eddyb> ° is not a degree symbol in my case... but rather this thing here - å - on its own
[14:15:37] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[14:15:45] <eddyb> AltGr + double-tap 5
[14:15:47] <kimundi> eddyb: hm, good point
[14:15:47] *** Joins: dschatzberg (dschatzber@moz-B15FAF67.bu.edu)
[14:15:53] <eddyb> kimundi: but that's my case
[14:16:09] <kimundi> yeah, I just tested and my ° isn'T actually a composing key at all
[14:16:15] <eddyb> http://en.wikipedia.org/wiki/Degree_symbol
[14:16:21] <kimundi> at least not with this layout... maybe it is with others
[14:16:23] *** Joins: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de)
[14:16:47] <eddyb> kimundi: good news
[14:17:00] <eddyb> http://en.wikipedia.org/wiki/Degree_symbol my composing ° has the same codepoint
[14:17:07] <kimundi> hehe
[14:17:23] <bollu> eddyb: impressive I suppose? :D
[14:17:50] <kimundi> ◌̊°
[14:17:58] <eddyb> lol
[14:18:12] <kimundi> ∘°∘°∘
[14:18:14] <bollu> https://gist.github.com/482fefbc420e38f21d2b <- what other changes to be done? :)
[14:18:17] <eddyb> the other one is http://en.wikipedia.org/wiki/Modifier_letter_ring_above
[14:18:27] <eddyb> but I doubt any compose magic uses it
[14:18:56] <eddyb> bollu: Math -> math :P
[14:19:07] <eddyb> and vector2 -> Vector2. but this is just bikeshed
[14:19:16] <siavashserver> kimundi: suchi? :D
[14:19:18] <bollu> eddyb: module names are uncapitalized?
[14:19:28] <kimundi> siavashserver: hm?
[14:19:28] <eddyb> bollu: see the std ;)
[14:19:31] <bollu> eddyb: capital V makes it a pain to type 
[14:19:39] <eddyb> V is an easy one :/
[14:19:40] <bollu> eddyb: whoa, you're right. I never notices
[14:19:46] <bollu> noticed*
[14:19:47] <eddyb> it's not like H
[14:20:00] <eddyb> which I type with the left hand for some reason
[14:20:12] <eddyb> I don't think I've ever efficiently used the right shift
[14:20:32] <bollu> I hold my hand in the "gamer" position - not on the home row, so any general argument doesn't apply 
[14:20:37] <eddyb> hehe
[14:20:59] <bollu> I found vim / vi frustrating to use 'cause of that
[14:21:08] <eddyb> I've been told to try dvorak, never did that
[14:21:24] <siavashserver> kimundi: ∘°∘°∘ http://img.bleacherreport.net/img/images/photos/002/743/952/6d16a258610d695c0807d2eb104ab87f_crop_north.jpg?w=759&h=506&q=75
[14:21:27] <bollu> yeah, me too, but I'm scared of losing qwerty proficiency
[14:21:34] *** Joins: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net)
[14:21:36] <eddyb> and I'd have to cover all my keys so I'm not confused by them if I accidentally look down
[14:21:43] <bollu> kimuni: lol
[14:21:48] <kimundi> °∘°∘*
[14:21:53] <siavashserver> :D
[14:21:59] <bollu> eddyb: I always wanted a mechanical keyboard
[14:22:23] <doomlord_> cherry blue keyswitches here :)
[14:22:29] <kimundi> I started using NEO, but then I got to lazy to keep at it
[14:22:31] <bollu> I'm jealous :)
[14:22:45] <eddyb> bollu: someone should add noise-canceling headphones to one of those
[14:22:48] <eddyb> bollu: best deal ever
[14:22:58] *** Quits: jesse99 (jesse99@moz-D8DE13A5.hsd1.wa.comcast.net) (Ping timeout)
[14:23:01] <doomlord_> its supposed to make a noise.
[14:23:03] <kimundi> I still haven'T figured out how to make my layout easily switchable in my DE to continue it...
[14:23:07] <bollu> eddyb: :D yeah, they can be quite clickey - but I like that noise
[14:23:17] *** Quits: siavashserver (siavash@AF9FA4B7.3041B8B6.82A25C10.IP) (Quit: Konversation terminated!)
[14:23:34] <bollu> I really like apple keyboards - the keys are spaced really nicely
[14:23:57] *** Joins: jesse99 (jesse99@moz-D8DE13A5.hsd1.wa.comcast.net)
[14:23:59] <bollu> the logitech wave is pretty sweet too actually
[14:24:01] <bollu> *sigh*
[14:24:15] * kimundi has a standard PS/2 keyboard with key stickers for the NEO layout laying around
[14:25:00] *** Quits: ganitsu (ganitsu@moz-31FAF58A.dialup.adsl.anteldata.net.uy) (Ping timeout)
[14:25:06] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[14:25:09] <bollu> kimundi: me too. but I've borrowed keyboards from dad. 
[14:25:12] *** Quits: marwy (user@41303A68.5C2AEEF8.CFA44423.IP) (Quit: ERC Version 5.3 (IRC client for Emacs))
[14:25:19] <eddyb> oh wow http://d24w6bsrhbeh9d.cloudfront.net/photo/ay5QDrV_700b.jpg
[14:25:20] <bollu> minus the NEO part
[14:25:40] *** Joins: ganitsu (ganitsu@moz-31FAF58A.dialup.adsl.anteldata.net.uy)
[14:26:12] <bollu> eddyb: whoa, nice!
[14:26:18] <kimundi> I literally have over ten identical PS/2 keyboards laying around - makes cleaning really easy, just replace it every few months ;D
[14:26:47] <bollu> kimundi: that's pretty awesome actually.
[14:26:53] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[14:26:58] *** pmoore is now known as pmoore|away
[14:28:10] <bollu> oh, one more keyboard I've lusted after  - Kinesis Keyboard(http://kinesis-ergo.com/shop/advantage-pro-for-pc-mac/)
[14:29:59] *** Quits: jiojiajiu (jiojiajiu@moz-7455BF89.revip7.asianet.co.th) (Ping timeout)
[14:30:08] <eddyb> bstrie: there has to be a smart pun about a rust world and Mars
[14:30:27] <doomlord_> heh planet rust
[14:30:46] <eddyb> doomlord_: okay, that's good :D
[14:30:48] *** Joins: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP)
[14:30:48] *** ChanServ sets mode: +o jdm
[14:31:07] *** Quits: jviereck (Adium@moz-6BB52FCA.ethz.ch) (Ping timeout)
[14:31:11] <kimundi> something something mars infested planet needs safe code...
[14:31:21] <kimundi> er, robot infested
[14:31:31] <doomlord_> just title a rust blog "planet rust" and have an image of mars as the logo
[14:31:39] <bollu> kimundi: do I sense the storyline of a game? :)
[14:31:55] <kimundi> bollu: No need for a game, its reality!
[14:31:56] <eddyb> bollu: you live that game
[14:32:03] <bollu> xD
[14:32:17] <doomlord_> i was going to try and throw together a rust sample for android (somethign that doesn't compile and ask for help to fix it)
[14:32:22] <bollu> how do I control the number of digits printed? (for a float)
[14:32:27] <eddyb> I certainly wouldn't want a Mars' mission life support system to be using unsafe code
[14:32:28] <doomlord_> but should it be Rusty android, or Rustic android.
[14:32:34] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[14:32:39] <bollu> doomlord_: like a minimal setup for android?
[14:32:43] <bollu> best of luck.
[14:32:48] *** Joins: jviereck (Adium@moz-6BB52FCA.ethz.ch)
[14:32:49] <kimundi> doomlord_: Rustroid
[14:32:50] <doomlord_> or help me turn my Rusty android into a RustIC android.
[14:33:08] <eddyb> Rusty Droid
[14:33:24] <kimundi> bollu: I think there a format specifiers for that
[14:33:39] <bollu> kimundi: hm. what do I search for?
[14:33:43] <eddyb> std::fmt
[14:33:48] <kimundi> std::ftm module, read doc comment
[14:33:54] <kimundi> fmt*
[14:33:56] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[14:34:14] <bollu> ty
[14:34:16] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[14:34:54] <doomlord_> if you name a rust library Mars, (the rusty planet), you might confuse people r.e. the D community..
[14:34:56] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[14:35:08] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[14:35:24] <eddyb> doomlord_: haha
[14:35:28] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[14:35:28] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[14:35:34] *** Joins: dave1629 (dave@F431E035.65B70227.DDE5D3F6.IP)
[14:35:38] <eddyb> D is an odd language to exist :/. I mean... what does it solve?
[14:35:54] *** Joins: kris_ (kris@moz-147EE6DF.diku.dk)
[14:36:13] <doomlord_> well its another attempt to solve C++ problems, which is fair enough
[14:36:22] *** Quits: kris (kris@moz-2DA9CD23.dk.customer.tdc.net) (Ping timeout)
[14:36:25] <doomlord_> plenty of people level the criticism at rust -"what does it solve.."
[14:36:31] <nical> eddyb: D is extremely pleasant to use
[14:36:33] <eddyb> with awkward syntax and GC?
[14:36:40] <nical> it's like the python of compiled languages
[14:36:56] <jensnockert>  Go is the Python of compiled languages.
[14:36:59] <doomlord_> i haven't found D compelling enough to try, and my preferences are better met in Rust.
[14:37:08] <eddyb> nical: not that putting "python" near anything makes me like it more...
[14:37:25] <bollu> doomlord_: agreed
[14:37:50] <bollu> eddyb: I personally belive ruby is far, far better than python from a design perspective
[14:38:05] *** Quits: jviereck (Adium@moz-6BB52FCA.ethz.ch) (Ping timeout)
[14:38:15] <nical> eddyb: replace pythin by some language that you find pleasant to use as in "you think about something, you write it and it just works"
[14:38:21] <nical> python*
[14:38:36] <eddyb> Go has the "advantage" of being shrunk to minimal semantic footprint. so it's like nicer Java. I get while people may prototype in that
[14:38:51] <eddyb> nical: ES6. D is nothing like that =))
[14:39:04] <eddyb> but I don't use ES6 anymore because Rust makes everything better
[14:39:24] <bollu> eddyb: what's ES6?
[14:39:29] <eddyb> EcmaScript6
[14:39:50] *** Joins: erickt__ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[14:40:07] <bollu> it's another language by mozilla?
[14:40:14] <eddyb> no, it's a standard
[14:40:24] <eddyb> JS is ES5
[14:40:31] *** Joins: jviereck (Adium@moz-6BB52FCA.ethz.ch)
[14:40:39] *** Quits: jviereck (Adium@moz-6BB52FCA.ethz.ch) (Client exited)
[14:40:40] *** Joins: jviereck (Adium@moz-53B10C79.ethz.ch)
[14:40:41] <eddyb> at least the lowest common denominator (- IE)
[14:41:03] <eddyb> though I don't have to exclude IE as it's not a modern browser
[14:41:06] <bollu> hm. so it's a standard that all client facing languages on the web must follow?
[14:41:19] <bollu> IE9+ is standards compiant AFAIK
[14:41:21] <eddyb> bollu: it's the next JS
[14:41:29] <bollu> ah okay. 
[14:41:31] <eddyb> if I exclude IE, I have to explicitly exclude stuff like lynx
[14:41:31] <kimundi> eddyb: Oh, I always thought ES6 == current standardized version of javascript
[14:41:38] <eddyb> kimundi: that's ES5
[14:41:51] <bollu> eddyb: what about dart? google seems to be diverging
[14:41:53] *** Quits: erickt__ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[14:41:55] <eddyb> ES6 is still drafts, will become standard this year, I think
[14:42:03] <Ms2ger> bollu, nothing going to happen there, really
[14:42:06] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Ping timeout)
[14:42:15] <bollu> Ms2ger: why not? 
[14:42:21] <eddyb> bollu: dart is a failure IMO. it has slightly nicer syntax for closures, but Rust already solved that problem
[14:42:29] <Ms2ger> Because nobody else will implement it
[14:42:30] <kimundi> eddyb: Ah, okay. So if it becomes standard, javascript will be ES6? Or still ES5?
[14:42:31] <eddyb> I was excited for dart and it let me down
[14:42:43] <bollu> Ms2ger: oh, okay. eddyb: it looks too much like Java :/
[14:42:49] <eddyb> kimundi: JS is not anything proper by any definition
[14:42:50] *** Joins: twi (Adium@moz-9F0310CC.cust.vodafonedsl.it)
[14:43:02] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[14:43:02] <eddyb> kimundi: the JS that browsers implement is partially ES6 compliant
[14:43:22] *** Quits: kris_ (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[14:43:39] <bollu> I have to this date not been able to predict fully what effects prototype based inheritance will have on something I write >_<;
[14:43:40] <eddyb> after it becomes standard, browsers will complete for full support. minus IE
[14:43:48] <eddyb> bollu: lol
[14:44:12] <eddyb> it's pretty flexible, but I ended up doing hacks forcing v8 to recognize my structures as fixed-layout
[14:44:25] <eddyb> instead of objects
[14:44:30] *** Joins: io2 (io2@moz-EE406A5.home.otenet.gr)
[14:44:43] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Ping timeout)
[14:44:51] <eddyb> I feel silly to have tried to do anything in JS now. but I didn't have Rust
[14:44:55] <eddyb> and C++ can be awful sometimes
[14:45:16] <kimundi> eddyb: Right, let me reformulate: "Once ES6 is standardized, is to be expected that the mass of different implementations that call themself javascript will move in that direction?"
[14:45:30] <bollu> eddyb: rust question - if two traits have method with the same name, and both those traits get implemented on the same struct, what happens? 
[14:45:36] <eddyb> kimundi: yupp
[14:45:38] <kimundi> AH, you already answered, in a sense
[14:45:48] <eddyb> and then they'll start working on ES7
[14:46:03] <eddyb> which is supposed to be like C++14, in that it's a faster iteration than the previous one
[14:46:08] <eddyb> with operator overloads and whatnot
[14:46:16] <eddyb> bollu: you have to disambiguate somehow
[14:46:19] <eddyb> bollu: which is hard :(
[14:46:41] <kimundi> bollu: it works, you can implement them
[14:46:42] <eddyb> UFCS would let you do Trait::method(self, ...)
[14:46:52] <kimundi> bollu: and if only one is in scope, that one gets used
[14:46:58] *** Joins: aeqwa (aeqwa@moz-A40D1B41.dsl.tropolys.de)
[14:47:01] <eddyb> ah, true, you can use scopes for this
[14:47:04] <bollu> eddyb: so it won't work? I assumed it would, since wherever traits are used, we explicitly tell which trait to pick up 
[14:47:10] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[14:47:16] <eddyb> bollu: in generic contexts, yes
[14:47:18] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:47:31] <bollu> eddyb: in what other context would you have a conflict?
[14:47:36] <kimundi> bollu: And in the future there will hopefully be a separate way to call the method individually to use both at the same time if necessary. (UFCS)
[14:47:59] <eddyb> rusti: struct Foo; trait Bar {fn foo(&self){}} trait Baz {fn foo(&self) {}} impl Bar for Foo {} impl Baz for Foo {} Foo.foo()
[14:48:00] -rusti- pastebinned 11 lines of output: http://sprunge.us/UgLI
[14:48:00] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[14:48:03] <bollu> UFCS stands for? unified function call something?
[14:48:10] <eddyb> syntax
[14:48:23] <bollu> yay! I guessed 3/4ths of it which is nice
[14:48:24] <kimundi> bollu: replace "something" with "syntax" and you got it :)
[14:48:44] <eddyb> bollu: see the error above for what happens if you're in a non-generic-bounded-by-one-trait context
[14:49:07] <bollu> eddyb: hmm. can I say (Foo as Baz).foo() ?
[14:49:11] <eddyb> no
[14:49:16] *** Quits: motley (motley@672D2CB5.46EA8228.BB273CC6.IP) (Ping timeout)
[14:49:17] <bollu> eddyb: why not?
[14:49:18] *** Quits: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de) (Quit: Leaving.)
[14:49:23] <eddyb> Baz isn't a type
[14:49:23] <bollu> isn't it like a typecast thing?
[14:49:33] <eddyb> you can do &Foo as &Baz but the call becomes virtual
[14:49:36] <kimundi> bollu: Basically, it will mean that if your trait "A" defined the method "b", then you will be able to do "A::b(o)" as well as the current "o.b()"
[14:49:37] <bollu> okay, &Foo as &Baz
[14:49:38] <bollu> yeah
[14:49:49] <bollu> kimundi: that's neat.
[14:50:02] <eddyb> even if it's optimized away, you can't call generic methods or methods with Self in their type
[14:50:30] <eddyb> and you're basically gambling with LLVM
[14:50:31] <kimundi> bollu: Typecasts (as) in Rust are very limited. They only are defined for a few build in types, and not for any library types. And we try to get rid of it completely.
[14:50:43] <bollu> kimundi: because... ?
[14:50:49] <kimundi> bollu: No real need
[14:50:50] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Quit: victorporof)
[14:50:53] <eddyb> bollu: because we want the keyword, among other things
[14:51:11] <eddyb> but it's unlikely we'll get CTFE for 1.0 :(
[14:51:11] *** pmoore|away is now known as pmoore
[14:51:15] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[14:51:25] *** Quits: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP) (Ping timeout)
[14:51:36] <bollu> eddyb: CTFE? 
[14:51:48] <eddyb> maybe have a lang item that does casts like that
[14:51:54] *** Joins: benjamin_ (benjamin@moz-54AD0580.dip0.t-ipconnect.de)
[14:52:02] *** Joins: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[14:52:03] <eddyb> *intrinsic
[14:52:03] <bollu> what's CTFE? 
[14:52:05] <eddyb> since we can implement constant evaluation for intrinsics
[14:52:10] <eddyb> bollu: compile-time function evaluation
[14:52:21] <kimundi> bollu: We don't have any subtyping in the language for example, so we don't need it for that. Numeric casts can be implemented with intrinsic functions if necessary, and the default behavior of truncation is the wrong default anyway
[14:52:33] *** Quits: benjamin_____ (benjamin@moz-7273BCF0.dip0.t-ipconnect.de) (Ping timeout)
[14:52:46] *** Joins: motley (motley@672D2CB5.46EA8228.BB273CC6.IP)
[14:53:09] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Ping timeout)
[14:53:11] <bollu> eddyb: so like template meta programming? ;) | kimundi: makes sense
[14:53:22] <eddyb> bollu: we can do that with traits and associated constants
[14:53:43] <eddyb> bollu: but being able to call actual functions from constant expressions
[14:53:54] <eddyb> s/we can/we'll be able to/
[14:53:56] *** Joins: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com)
[14:54:03] * kimundi wonders how hard it would be to just write a procedural macro that compiles its content with a separate instance of rustc, and then constructs a constant from the result.
[14:54:14] <eddyb> kimundi: eww
[14:54:14] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[14:54:23] <bollu> eddyb: the use case for that is?
[14:54:23] *** Joins: aravindavk (aravinda@8E4F4730.68EAD6AA.BB883D3E.IP)
[14:54:28] <bollu> other than impressing people
[14:54:29] <eddyb> kimundi: doesn't work for Vec::new()
[14:54:43] <eddyb> bollu: lol
[14:54:50] <eddyb> bollu: call constructors from constants
[14:54:55] <eddyb> Vec::new() doesn't allocate
[14:55:00] <kimundi> eddyb: Well, wouldn't work either way - no heap allocations in statics
[14:55:04] *** Joins: io2 (io2@moz-EE406A5.home.otenet.gr)
[14:55:05] <bollu> eddyb: what does that even mean?
[14:55:25] <eddyb> const x = Atomic::new(5u8);
[14:55:31] <eddyb> ^^ we want to be able to do that
[14:55:41] <eddyb> well, no, that's useless
[14:55:44] <eddyb> has to be static instead
[14:56:21] <eddyb> (which I hope will allow non-Freeze again, using the Freeze bound to decide between rodata and data)
[14:56:58] * kimundi imagines bollu's face getting all confused
[14:57:08] <bollu> eddyb: you want the const qualifier? kimundi: indeed :)
[14:57:27] <eddyb> the const qualifier would just make something that you can't take the address of
[14:57:31] *** Joins: edwardw (edwardw@CBC31673.351D1665.B9C6B12A.IP)
[14:57:43] *** Quits: dave1629 (dave@F431E035.65B70227.DDE5D3F6.IP) (Quit: dave1629)
[14:57:49] <eddyb> and can be duplicated in other crates, to inline its value etc.
[14:58:30] <bollu> eddyb: so that's the feature that CTFE is aiming for?
[14:58:39] *** Quits: sellout (Adium@moz-53C8D913.hsd1.co.comcast.net) (Quit: Leaving.)
[14:58:46] <eddyb> CTFE is a feature
[14:59:28] <bollu> okay, so that's the use case of CTFE? :)
[14:59:55] <eddyb> I dunno... a compile-time evaluated hash function on strings?
[15:00:18] <eddyb> generate a lookup table without an external tool
[15:00:46] *** Quits: ganitsu (ganitsu@moz-31FAF58A.dialup.adsl.anteldata.net.uy) (Ping timeout)
[15:00:50] <eddyb> call constructors like Foo::new(Bar::new())
[15:00:57] <bollu> eddyb: you can compute a lot of useful things I think - like a sine table
[15:01:17] *** Joins: ganitsu (ganitsu@moz-31FAF58A.dialup.adsl.anteldata.net.uy)
[15:01:17] <eddyb> you can't do that with C++11 constexpr functions
[15:01:37] <bollu> eddyb: yep, I've seen it.
[15:01:39] <eddyb> but CTFE in Rust should allow it... it's just local mutable state that can be emulated
[15:01:52] <eddyb> s/emulated/simulated/
[15:05:40] *** Joins: matematikaadit (adit@12767CE8.70A5EA4C.10475F6A.IP)
[15:08:17] *** Quits: jviereck (Adium@moz-53B10C79.ethz.ch) (Ping timeout)
[15:08:23] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[15:09:48] *** Joins: jiojiajiu (jiojiajiu@moz-7455BF89.revip7.asianet.co.th)
[15:10:35] *** Joins: tav (tav@moz-7F8C7893.range31-52.btcentralplus.com)
[15:12:53] *** Joins: jviereck (Adium@moz-A7DD4522.ethz.ch)
[15:14:14] *** Quits: ganitsu (ganitsu@moz-31FAF58A.dialup.adsl.anteldata.net.uy) (Ping timeout)
[15:15:31] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[15:17:52] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[15:17:54] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[15:18:04] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[15:18:12] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[15:19:03] *** Joins: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net)
[15:19:31] *** Joins: dave1629 (dave@F431E035.65B70227.DDE5D3F6.IP)
[15:19:49] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Connection reset by peer)
[15:19:50] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[15:19:54] *** Joins: trustin (trustin@946D547D.87A02F9E.6FF1C976.IP)
[15:20:48] *** Joins: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP)
[15:22:07] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[15:24:29] *** Joins: ganitsu (ganitsu@moz-31FAF58A.dialup.adsl.anteldata.net.uy)
[15:24:39] *** Quits: jviereck (Adium@moz-A7DD4522.ethz.ch) (Quit: Leaving.)
[15:25:17] *** Joins: [squiddy] (squiddy@moz-7B493F09.dip0.t-ipconnect.de)
[15:25:22] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[15:27:38] <eibwen> is there a way to return a Map from a function?
[15:27:49] <eibwen> it seems I can't because I can't return a closure
[15:28:00] <eibwen> but since the thing that has to be saved is only one pointer big
[15:28:35] *** Quits: jiojiajiu (jiojiajiu@moz-7455BF89.revip7.asianet.co.th) (Ping timeout)
[15:29:04] *** Quits: trustin (trustin@946D547D.87A02F9E.6FF1C976.IP) (Quit: Good bye)
[15:29:15] *** Joins: trustin (trustin@946D547D.87A02F9E.6FF1C976.IP)
[15:29:27] *** Quits: aravindavk (aravinda@8E4F4730.68EAD6AA.BB883D3E.IP) (Ping timeout)
[15:30:04] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[15:31:22] *** Quits: ganitsu (ganitsu@moz-31FAF58A.dialup.adsl.anteldata.net.uy) (Ping timeout)
[15:32:15] <eibwen> i.e.
[15:32:19] <eibwen> I have
[15:32:44] <eibwen> self.some_iterator(0,1,2,3).map(|x| self.function(x));
[15:32:59] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[15:33:17] *** Quits: trustin (trustin@946D547D.87A02F9E.6FF1C976.IP) (services.mozilla.org (Too many invalid passwords))
[15:33:18] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[15:33:19] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[15:33:38] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Ping timeout)
[15:33:46] *** Joins: trustin (trustin@946D547D.87A02F9E.6FF1C976.IP)
[15:33:56] *** Quits: trustin (trustin@946D547D.87A02F9E.6FF1C976.IP) (Quit: Good bye)
[15:34:08] <kimundi> eibwen: Thats a problem we have with the way closures work and the Map iterator is defined
[15:34:16] *** Joins: trustin (trustin@946D547D.87A02F9E.6FF1C976.IP)
[15:34:33] <eddyb> eibwen: it's a possible closure optimization
[15:34:44] <kimundi> eibwen: We don't have unboxed closures, so the Map iterator can't own the map function, so it can'T be returned
[15:34:45] <eddyb> eibwen: when you have only one capture and we know it's pointer sized
[15:34:58] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[15:35:35] <eddyb> eibwen: but we don't have that and we don't have unboxed closures (yet)
[15:35:40] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[15:35:58] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[15:36:06] <eibwen> so the result is that I will have to implement a new type that does that specific map?
[15:36:39] <eddyb> yeah :/
[15:36:49] *** Quits: trustin (trustin@946D547D.87A02F9E.6FF1C976.IP) (Quit: Good bye)
[15:37:24] *** Joins: trustin (trustin@946D547D.87A02F9E.6FF1C976.IP)
[15:37:33] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[15:37:40] *** Joins: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com)
[15:37:49] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[15:40:51] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Ping timeout)
[15:45:05] *** Quits: trustin (trustin@946D547D.87A02F9E.6FF1C976.IP) (Quit: Good bye)
[15:45:12] *** Joins: sellout (Adium@8423FC8B.36403F5F.C5F4E277.IP)
[15:45:32] *** Joins: trustin (trustin@946D547D.87A02F9E.6FF1C976.IP)
[15:46:22] *** Joins: analyst74 (analyst74@9D2B184F.DE01D124.4EFEDE71.IP)
[15:47:01] <eibwen> eddyb: would it be a legitimate optimization for map not to apply the function when using .skip() or something?
[15:47:30] <eddyb> eibwen: mmaybe
[15:47:40] <eddyb> eibwen: wait, no
[15:47:53] *** Quits: Ferreus (ferreus@moz-2C3F5191.dip0.t-ipconnect.de) (Ping timeout)
[15:47:58] <eddyb> eibwen: it depends on LLVM to DCE such cases
[15:48:08] *** Quits: Ms2ger (Ms2ger@moz-2652E5A4.ugent.be) (Ping timeout)
[15:48:13] <eddyb> eibwen: there is no method on iterators to advance without calling next
[15:48:25] <eibwen> there is skip()
[15:48:26] <eddyb> and calling next on Map will call the closure if Some
[15:48:41] <eddyb> eibwen: oh, I guess you mean Map implementing skip differenty?
[15:48:44] <eddyb> *differently
[15:48:58] <eibwen> yes
[15:49:00] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:49:08] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[15:49:19] *** Joins: jviereck (Adium@moz-A7DD4522.ethz.ch)
[15:49:27] *** Quits: jviereck (Adium@moz-A7DD4522.ethz.ch) (Client exited)
[15:49:42] <kimundi> How would you do that?
[15:50:12] <eddyb> eibwen: I don't think there many iterators overriding more than just next, though
[15:50:28] <kimundi> (Also, I think with side effects this would be semantic changing)
[15:50:42] <kimundi> next and size_hint
[15:50:44] <eibwen> eddyb: but why?
[15:50:48] <eibwen> yes
[15:50:53] <eibwen> they would be semantic changing
[15:50:58] <eddyb> eibwen: because LLVM does DCE anyways
[15:51:09] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[15:51:47] <kimundi> Can you even change the skip impl like that?
[15:52:05] <eddyb> kimundi: yupp
[15:52:08] <eddyb> it's part of Iterator
[15:52:28] <kimundi> you mean the default methods?
[15:52:38] <eddyb> yupp
[15:52:49] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[15:52:56] <kimundi> But wouldn't they always need to return the same type, making an override useless?
[15:53:02] <eddyb> kimundi: wait, is there a skip adaptor?
[15:53:07] <eddyb> *oops*
[15:53:13] <eddyb> eibwen: thanks for confusing me
[15:54:35] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[15:54:38] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[15:55:09] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:55:23] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[15:57:30] <strcat> well, the arch nightly will start building again...
[15:58:06] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[15:58:51] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[15:58:52] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:59:02] <bollu> strcat: rust has an aur?
[15:59:12] <strcat> hm?
[15:59:21] <bollu> whoops, that sentence is broken. is rust on the aur?
[15:59:33] *** Joins: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de)
[15:59:38] <strcat> rust is in the official arch repos and then there's a rust-git package built nightly on the build server
[15:59:38] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[15:59:47] *** Joins: maxli (Instantbir@moz-1650391B.hsd1.ca.comcast.net)
[15:59:53] <strcat> there's another rust-git package in the aur but it's not the same one I use for the nightly
[16:00:05] <eibwen> eddyb: confusing you?
[16:00:18] <bollu> strcat: which one is for the nightly?
[16:00:39] <eddyb> eibwen: I thought skip(n) ran next n times :P
[16:00:44] <strcat> bollu: http://sprunge.us/XFGh
[16:00:50] <strcat> bollu: made from https://github.com/thestinger/packages/blob/master/rust-git/PKGBUILD
[16:01:16] <bollu> (strcat: thank you! I'll include it into my pacman.conf
[16:01:41] <strcat> anyway, the build server is a cautionary tale in why not to use btrfs
[16:02:04] <bollu> ? why. what happened?
[16:02:23] <strcat> it just has endless I/O errors on /var blocking stuff forever
[16:02:31] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[16:02:33] <strcat> that's why the nightly hasn't built since the 2nd (it's working now)
[16:03:05] <bollu> isn't it supposed to be, like a refinement of ext4? only with more checksums?
[16:03:31] <strcat> no it's a totally different filesystem than ext4
[16:03:36] <Tari> btrfs is much fancier than ext4
[16:03:44] <Tari> copy-on-write b-trees
[16:03:46] <bollu> whoa, I see. will have to read up then;
[16:03:50] <eibwen> eddyb: why doesn't skip run next n times?
[16:04:02] <eddyb> eibwen: it produces an adaptor
[16:04:14] <eddyb> eibwen: it doesn't mutate the iterator in place
[16:04:16] <strcat> it's clearly not ready for use yet ;)
[16:04:30] <eibwen> wait
[16:05:03] <strcat> eibwen: iterator methods like map and skip return a new iterator
[16:05:06] <strcat> eibwen: they don't do any work
[16:05:15] <bharadwaj> What happened to extra::comm::DuplexStream in master?
[16:05:50] <eibwen> strcat: what's the rationale for doing that in skip?
[16:06:47] <eddyb> eibwen: they compose
[16:06:55] <eddyb> that's what iterators are supposed to do
[16:06:55] <kimundi> eibwen: composability
[16:07:31] <strcat> eibwen: there's no reason to always do the work
[16:07:51] <strcat> if you x.zip(y.skip(5)), you don't want it to iterate 5 times if it doesn't have to
[16:08:06] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[16:08:25] *** Joins: jviereck (Adium@moz-A7DD4522.ethz.ch)
[16:08:31] <eibwen> mh
[16:08:35] <eibwen> actually I want that
[16:08:43] <eibwen> so I can correctly predict where the work is done
[16:08:44] <strcat> why?
[16:08:59] <strcat> you still know where the work is done
[16:09:06] <strcat> you just know it won't do more than necessary
[16:09:12] <eibwen> mhmh
[16:09:14] <strcat> it does the work when you consume it
[16:09:27] *** Joins: intuxicated (intuxicate@A9443CC2.9D1E10BA.3FFBF42F.IP)
[16:09:35] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[16:09:56] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[16:10:46] *** Joins: josh (josh@moz-244364B2.cable.virginm.net)
[16:11:37] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[16:12:06] <eibwen> strcat: that doesn't sound so good when doing lots of skip()s
[16:12:14] <eibwen> will result in many virtual calls
[16:12:27] <strcat> eibwen: why?
[16:12:36] <kimundi> eibwen: Its generic code, it will do zero virtual calls
[16:12:36] <strcat> iterators don't work with trait objects anyway
[16:12:50] <strcat> well, adaptors don't
[16:12:51] <bstrie> strcat: what if I cast to ~Iterator?
[16:12:57] <strcat> bstrie: then you can't call skip
[16:13:08] <strcat> you can only call next and maybe some of the strict ones
[16:13:17] <steffenomak> can someone explain why I get an error when trying to use wait() on nativ::io::Proccess, rustc complains that the method is not implemented in current scope?
[16:13:20] <strcat> adaptors store the old iterator inside themselves
[16:13:52] *** Joins: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP)
[16:13:52] <bstrie> steffenomak: not sure, but perhaps you need to bring the proper trait into scope
[16:13:57] <kimundi> steffenomak: Is wait a method of a trait? If yes, is the trait imported?
[16:14:18] *** Quits: analyst74 (analyst74@9D2B184F.DE01D124.4EFEDE71.IP) (Quit: Leaving)
[16:15:07] *** Joins: heftig (heftig@moz-D746319F.unitymedia.biz)
[16:15:16] <steffenomak> kimundi: yes it is a trait function that is implemented buy the Process but I haven't imported the trait itself
[16:15:22] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[16:15:26] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[16:16:07] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[16:16:19] *** Quits: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP) (Quit: Lost terminal)
[16:16:25] <kimundi> Well, import it then. :) Trait methods are designed to only be visible if the trait is in scope, to not pollute the method namespace of a type
[16:16:30] *** Joins: Rym (WUT@F9E32169.521EBB04.51C6DE68.IP)
[16:16:31] *** Quits: lunaryorn (lunaryorn@moz-9F2A4CD.dynamic.mnet-online.de) (Quit: )
[16:16:38] *** Joins: lunaryorn (lunaryorn@moz-9F2A4CD.dynamic.mnet-online.de)
[16:16:52] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[16:17:07] <steffenomak> kimundi: Ok lol, tried it and it worked. But that was weird, thx.
[16:17:38] *** Joins: lawrence (lawrence@moz-37508768.wireless.utoronto.ca)
[16:18:34] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[16:19:07] *** Joins: aravindavk (aravinda@8E4F4730.68EAD6AA.BB883D3E.IP)
[16:21:17] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[16:22:18] *** Quits: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[16:22:23] *** Joins: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[16:22:25] *** Quits: zmike (discomfito@moz-975BC507.hsd1.ct.comcast.net) (Quit: ah. I see.)
[16:22:26] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[16:23:07] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[16:23:19] *** Quits: lunaryorn (lunaryorn@moz-9F2A4CD.dynamic.mnet-online.de) (Ping timeout)
[16:23:28] *** Joins: capt_redbeard (Adium@moz-4998C3D0.ok.ok.cox.net)
[16:23:46] *** Quits: capt_redbeard (Adium@moz-4998C3D0.ok.ok.cox.net) (Quit: Leaving.)
[16:24:52] *** Quits: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: azita)
[16:25:12] *** Joins: skade (skade@moz-A17A022B.web.vodafone.de)
[16:26:09] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[16:26:59] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Connection reset by peer)
[16:28:34] *** Quits: skade (skade@moz-A17A022B.web.vodafone.de) (Ping timeout)
[16:29:00] *** Joins: ricepuddin (graham@moz-4C620523.wlan.ic.ac.uk)
[16:29:27] *** Quits: intuxicated (intuxicate@A9443CC2.9D1E10BA.3FFBF42F.IP) (Client exited)
[16:29:57] *** Joins: zmike (discomfito@moz-975BC507.hsd1.ct.comcast.net)
[16:31:15] *** Quits: jviereck (Adium@moz-A7DD4522.ethz.ch) (Quit: Leaving.)
[16:31:42] *** Quits: thesnowdog (doug@88FE1F50.9D0B7490.6F17036B.IP) (Connection reset by peer)
[16:32:58] * mindcat just blow up his brain
[16:33:17] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[16:33:30] <mindcat> finally, I spend a evening time
[16:33:48] <mindcat> I did this https://gist.github.com/mindcat/9393617
[16:34:04] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[16:34:17] *** Joins: intuxicated (intuxicate@A9443CC2.9D1E10BA.3FFBF42F.IP)
[16:34:21] <mindcat> damn http://en.wikipedia.org/wiki/Knapsack_problem
[16:35:05] *** Joins: skade (skade@moz-DDBEA987.web.vodafone.de)
[16:35:44] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[16:35:57] *** Joins: thatguy (xojoc@6A14B4E8.6F116135.9BE8EBEE.IP)
[16:36:05] *** Quits: jensnoc__ (jensnocker@moz-33279404.customers.ownit.se) (Input/output error)
[16:36:37] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[16:38:13] *** Quits: benjamin_ (benjamin@moz-54AD0580.dip0.t-ipconnect.de) (Ping timeout)
[16:38:20] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[16:38:46] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[16:39:58] *** Joins: benjamin_ (benjamin@moz-54AD0580.dip0.t-ipconnect.de)
[16:40:39] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:40:40] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Connection reset by peer)
[16:40:44] *** Joins: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP)
[16:40:44] *** ChanServ sets mode: +o jdm
[16:41:10] *** Quits: heftig (heftig@moz-D746319F.unitymedia.biz) (Ping timeout)
[16:42:07] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[16:42:39] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[16:44:01] *** Quits: alinab (alina@moz-94EAE39D.alinab.org) (Quit: leaving)
[16:44:24] *** Joins: Ms2ger (Ms2ger@60B493FD.C305EAEC.F15B0BB3.IP)
[16:44:29] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Quit: )
[16:44:51] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[16:45:04] *** Quits: intuxicated (intuxicate@A9443CC2.9D1E10BA.3FFBF42F.IP) (Client exited)
[16:46:31] *** Joins: intuxicated (intuxicate@A9443CC2.9D1E10BA.3FFBF42F.IP)
[16:47:53] *** Quits: skade (skade@moz-DDBEA987.web.vodafone.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:48:22] <bstrie> mindcat: oh, did you solve the knapsack problem? I'm curious to know if P=NP after all :)
[16:48:49] *** Joins: mib_1x7qgk (Mibbit@moz-27461051.raytheon.com)
[16:49:27] *** Joins: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com)
[16:49:31] *** Quits: mib_1x7qgk (Mibbit@moz-27461051.raytheon.com) (Quit: http://www.mibbit.com ajax IRC Client)
[16:49:54] *** Quits: Kxepal (Miranda@moz-8A62DD41.pppoe.mtu-net.ru) (Ping timeout)
[16:50:08] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[16:50:37] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[16:50:48] *** Joins: Kxepal (Miranda@moz-365192ED.pppoe.mtu-net.ru)
[16:53:01] *** pmoore is now known as pmoore|dinner
[16:53:07] *** Joins: jviereck (Adium@moz-A7DD4522.ethz.ch)
[16:53:54] *** Joins: sinistersnare (Mibbit@B7913476.E162DBB3.241A46D0.IP)
[16:54:33] *** Parts: sinistersnare (Mibbit@B7913476.E162DBB3.241A46D0.IP) ()
[16:54:35] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[16:54:44] *** Quits: benjamin_ (benjamin@moz-54AD0580.dip0.t-ipconnect.de) (Ping timeout)
[16:54:53] *** Joins: victorporof_ (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[16:55:01] *** Joins: kingclub (Mibbit@B7913476.E162DBB3.241A46D0.IP)
[16:55:07] *** Quits: jviereck (Adium@moz-A7DD4522.ethz.ch) (Quit: Leaving.)
[16:55:30] *** Quits: [squiddy] (squiddy@moz-7B493F09.dip0.t-ipconnect.de) (Quit: Leaving)
[16:55:30] *** Joins: mceier (mceier@moz-C1591437.dynamic.chello.pl)
[16:55:47] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[16:56:01] *** Quits: Zr40 (zr40@moz-CCFEAB92.adsl.xs4all.nl) (Ping timeout)
[16:56:14] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[16:56:17] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[16:56:24] <kingclub> hi i was wondering if you guys had any plans on minimizing the ugliness of all of the unwrap() calls in code. I was thinking something like a `?.` operator, which unwraps the result, and taking a single argument for the 'or' section such as the following
[16:56:38] *** Joins: jviereck (Adium@moz-A7DD4522.ethz.ch)
[16:56:55] *** Joins: Ferreus (ferreus@moz-703F36.lsn.wtnet.de)
[16:56:56] <Ms2ger> If you have a lot of unwrap calls, you're doing something wrong
[16:57:00] <kingclub> let input = reader.read_line().ok().unwrap_or(~"nothing"); becomes let input = reader.read_line().ok()?.(~"nothing")
[16:57:07] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[16:57:11] *** Quits: ricepuddin (graham@moz-4C620523.wlan.ic.ac.uk) (Ping timeout)
[16:57:30] <kingclub> or something like that, not just for options though, for Results too i guess
[16:57:42] <Yurume> for Results try! macro is handy.
[16:57:56] <Yurume> though its use is limited to propagating the errors.
[16:58:01] <kingclub> i dont code much in rust (havent found a project to work ok), but i dosee them a lot
[16:58:03] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Ping timeout)
[16:58:06] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[16:58:25] *** Quits: jviereck (Adium@moz-A7DD4522.ethz.ch) (Quit: Leaving.)
[16:58:49] <Yurume> unwrap means "I don't care about errors, just give the inner value or die".
[16:59:02] *** Quits: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de) (Quit: Leaving.)
[16:59:06] <Yurume> much better than segfault, but still is not desirable for careful code.
[16:59:06] <kingclub> unwrap_or is a good middle ground of that though
[16:59:22] *** Quits: Rym (WUT@F9E32169.521EBB04.51C6DE68.IP) (Quit: WeeChat 0.4.3)
[16:59:50] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[17:00:02] *** Quits: tav (tav@moz-7F8C7893.range31-52.btcentralplus.com) (Quit: tav)
[17:00:11] <kingclub> well ok, just wondering. but why is it bad to have lots of Options/Results?
[17:00:25] <fredy> is there any convation about naming traits? for example camel case?
[17:00:32] <Yurume> and particularly for your example, you should use try!. read_line failure is either an EOF or an I/O error hard to deal with, and if your intention is to input some line, both are bad :S
[17:00:55] *** Quits: lawrence (lawrence@moz-37508768.wireless.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:00:56] <kingclub> well that example was from some page in the docs, so ok
[17:01:21] *** Joins: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net)
[17:02:11] <Yurume> fredy, normally types (structs, enums, traits, type aliases) are named CamelCase, statics are named UPPER_CASE and variable and function names start with lower_case.
[17:02:39] <fredy> nice thanks Yurume :)
[17:02:47] <kimundi> fredy: types, traits and enum variants get CamelCase, static UPPERCASE_SNAKE, everthing else lowercase_snake
[17:02:49] <Yurume> rustc has some lints to encourage them (not hard rule though), so if rustc complains you can adjust as rustc wants.
[17:03:12] <Yurume> ah, yes, enum variants are also named CamelCase.
[17:03:25] <kimundi> kingclub: There is a back-and-forth indecision about wether to rename unwrap() to get()
[17:03:59] <fredy> kimundi: thank you :)
[17:04:45] <kingclub> i think unwrap seems more appropriate
[17:04:51] * kimundi has flashbacks from the time he unified option to unwrap(), after it somehow managed to end up with both get() and unwrap()... there where over 6000 uses of _each_
[17:05:06] <kingclub> nice
[17:05:42] <kingclub> http://static.rust-lang.org/doc/master/std/fmt/index.html i think im looking at a typo... ctrl-f """<CODE>WRITE!</CODE>"""
[17:05:46] *** Joins: brihat (bdsatish@moz-5EC00491.dhcp.inet.fi)
[17:06:18] *** Joins: echristo (echristo@3246441A.D6CCE4AE.77834EAA.IP)
[17:06:21] *** Quits: matematikaadit (adit@12767CE8.70A5EA4C.10475F6A.IP) (Ping timeout)
[17:06:21] <kimundi> kingclub: hm?
[17:06:38] <kingclub> it looks like its not formatting that title correctly
[17:06:44] *** Joins: onelson (owen@moz-DD666EC5.laika.com)
[17:07:03] <kimundi> oh, indeed.
[17:07:21] <kimundi> file a bug! ;) (after making sure there isn't already one filed)
[17:07:47] *** Joins: capt_redbeard (Adium@354023E9.AA68288A.18422E69.IP)
[17:08:08] <kingclub> im looking and cant find one.... lets make one then
[17:08:23] <Yurume> a side effect of moving away from pandoc?
[17:08:34] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[17:08:50] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[17:08:50] *** ChanServ sets mode: +o tjc
[17:10:16] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[17:10:18] <kingclub> https://github.com/mozilla/rust/issues/12736 is this good?
[17:10:33] <Yurume> great!
[17:11:12] <kingclub> :)
[17:12:06] *** Joins: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP)
[17:12:23] *** Quits: capt_redbeard (Adium@354023E9.AA68288A.18422E69.IP) (Connection reset by peer)
[17:14:03] <mindcat> bstrie: I don't know does it is solved
[17:14:11] *** Joins: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de)
[17:14:18] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[17:15:36] *** Quits: cremes (cremes@moz-72B945E0.hsd1.il.comcast.net) (Ping timeout)
[17:15:57] *** Quits: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de) (Ping timeout)
[17:17:49] *** Quits: dave1629 (dave@F431E035.65B70227.DDE5D3F6.IP) (Quit: dave1629)
[17:18:32] *** Joins: cremes (cremes@moz-72B945E0.hsd1.il.comcast.net)
[17:20:02] *** Joins: lawrence (lawrence@moz-37508768.wireless.utoronto.ca)
[17:20:52] *** Joins: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de)
[17:21:22] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[17:22:21] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:23:06] *** Quits: kingclub (Mibbit@B7913476.E162DBB3.241A46D0.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:23:25] *** Joins: dave1629 (dave@F431E035.65B70227.DDE5D3F6.IP)
[17:24:05] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Quit: Leaving.)
[17:24:10] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[17:25:18] *** Quits: dave1629 (dave@F431E035.65B70227.DDE5D3F6.IP) (Quit: dave1629)
[17:26:26] *** Joins: dave1629 (dave@F431E035.65B70227.DDE5D3F6.IP)
[17:27:42] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[17:28:34] *** Quits: mawuli (mawuli@moz-A89BBCE.com.gh) (Connection reset by peer)
[17:29:01] *** Joins: nif (nif@F16146EB.9D3722BB.58DC3EE6.IP)
[17:29:47] *** Parts: thatguy (xojoc@6A14B4E8.6F116135.9BE8EBEE.IP) ()
[17:29:53] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[17:30:14] *** Parts: mgoodwin (mgoodwin@moz-DB4A9C19.scl3.mozilla.com) ()
[17:30:24] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[17:31:36] *** Joins: ganitsu (ganitsu@moz-31FAF58A.dialup.adsl.anteldata.net.uy)
[17:32:01] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[17:32:03] *** Joins: skade (skade@moz-DDBEA987.web.vodafone.de)
[17:32:05] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Ping timeout)
[17:32:13] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[17:33:06] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[17:36:29] *** pmoore|dinner is now known as pmoore
[17:36:56] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[17:38:00] *** Quits: lawrence (lawrence@moz-37508768.wireless.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:38:03] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[17:38:38] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[17:38:55] *** Joins: apollow (yellowy432@moz-B77E6585.wireless.calpoly.edu)
[17:39:01] *** Quits: StarLight (StarLight@moz-FC8F398D.dynamic.avangarddsl.ru) (Ping timeout)
[17:39:31] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[17:39:53] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:40:52] *** Quits: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de) (Quit: Leaving.)
[17:42:14] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[17:43:06] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:43:26] *** Joins: StarLight (StarLight@moz-2E07186B.dynamic.avangarddsl.ru)
[17:43:44] *** Quits: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com) (Quit: Leaving)
[17:43:48] *** Quits: skade (skade@moz-DDBEA987.web.vodafone.de) (Connection reset by peer)
[17:44:29] *** Joins: lawrence (lawrence@moz-37508768.wireless.utoronto.ca)
[17:44:54] *** Joins: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP)
[17:44:54] *** ChanServ sets mode: +ao brson brson
[17:45:28] *** Joins: mawuli (mawuli@moz-A89BBCE.com.gh)
[17:46:54] *** Joins: lunaryorn (lunaryorn@moz-9F2A4CD.dynamic.mnet-online.de)
[17:47:03] *** Joins: jclements (jclements@moz-E7143D62.wireless.calpoly.edu)
[17:47:58] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[17:47:58] *** Quits: apollow (yellowy432@moz-B77E6585.wireless.calpoly.edu) (Connection reset by peer)
[17:48:09] *** Joins: apollow (yellowy432@moz-B77E6585.wireless.calpoly.edu)
[17:50:40] *** Quits: apollow (yellowy432@moz-B77E6585.wireless.calpoly.edu) (Ping timeout)
[17:50:56] *** Joins: pcwalton (pcwalton@F16146EB.9D3722BB.58DC3EE6.IP)
[17:50:56] *** ChanServ sets mode: +ao pcwalton pcwalton
[17:52:03] *** Joins: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP)
[17:52:42] *** Quits: lunaryorn (lunaryorn@moz-9F2A4CD.dynamic.mnet-online.de) (Quit: )
[17:52:52] *** Quits: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[17:53:09] *** Quits: pcwalton (pcwalton@F16146EB.9D3722BB.58DC3EE6.IP) (Ping timeout)
[17:53:11] *** Joins: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[17:54:04] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:54:09] *** Joins: Zr40 (zr40@moz-63D7786A.guest.tue.nl)
[17:54:26] *** pmoore is now known as pmoore|away
[17:54:34] *** Joins: MP2E (cray@moz-EB1E242D.lv.lv.cox.net)
[17:54:48] *** Joins: mudpit (Mibbit@moz-244CF33A.amazon.com)
[17:55:59] <mudpit> I've been told that the reason for limiting type inference to local scope only is that global type inference is costly for compilation times. Is this true?
[17:56:20] <Ms2ger> Also the compilation time in my head
[17:56:32] <eddyb> Ms2ger: among other problems
[17:56:39] <eddyb> err, mudpit ^^
[17:56:53] <strcat> mudpit: I don't really think that's the reason
[17:57:00] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[17:57:10] <eddyb> we could have restricted type inference scopes, in which you can pretend to be using Haskell or a dynamically typed language
[17:57:10] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:57:20] <eddyb> but I don't really see the point
[17:57:32] *** Quits: lahwran (lahwran@lahwran.net) (Ping timeout)
[17:58:03] *** Joins: q66 (q66@moz-2E1F7042.dab.02.net)
[17:58:11] <kimundi> mudpit: Its more so that you have to specify a specify API that others can code against.
[17:58:33] *** Quits: TinFox (TinFox@78EB628F.31EFBBCD.49448EDE.IP) (Ping timeout)
[17:58:52] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[17:58:54] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[17:59:54] *** Quits: mmalecki (maciej@DE8E8A22.9EBA3CD1.D6573861.IP) (Ping timeout)
[18:00:25] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[18:00:32] *** jdm is now known as jdm|lunch
[18:00:36] *** Quits: lawrence (lawrence@moz-37508768.wireless.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:01:07] *** Joins: TinFox (TinFox@78EB628F.31EFBBCD.49448EDE.IP)
[18:01:08] *** Quits: intuxicated (intuxicate@A9443CC2.9D1E10BA.3FFBF42F.IP) (Client exited)
[18:02:04] *** Joins: mmalecki (maciej@DE8E8A22.9EBA3CD1.D6573861.IP)
[18:02:04] *** Joins: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com)
[18:02:52] *** Joins: lahwran (lahwran@lahwran.net)
[18:03:19] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[18:03:29] *** Joins: dherman (dherman@F16146EB.9D3722BB.58DC3EE6.IP)
[18:03:29] *** ChanServ sets mode: +ao dherman dherman
[18:04:09] *** Joins: pcwalton (pcwalton@F16146EB.9D3722BB.58DC3EE6.IP)
[18:04:09] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:05:09] <mudpit> So even if I found a way to do global type inference extremely fast, it probably wouldn't be useful?
[18:05:41] <Ms2ger> No
[18:05:42] *** Quits: jclements (jclements@moz-E7143D62.wireless.calpoly.edu) (Quit: jclements)
[18:07:04] <mudpit> Ok
[18:07:34] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[18:08:38] <eddyb> mudpit: we can do type inference
[18:08:57] <eddyb> mudpit: just remove the barriers between functions (the FnCtxt in typeck)
[18:09:07] <mudpit> I've been wanting to contribute to rust for a while...just thought it might be a problem I could work on. 
[18:09:15] *** Quits: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net) (Quit: stevegury)
[18:09:17] <eddyb> I doubt it
[18:09:26] <eddyb> it's a problem we don't want to solve :P
[18:09:43] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[18:09:44] *** ChanServ sets mode: +o tjc
[18:09:58] <eddyb> there's a few refactoring tasks I could give out, but I'm not sure anyone's interested to get dirt
[18:10:00] <eddyb> *dirty
[18:10:38] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[18:10:47] <kimundi> eddyb: Getting dirty with stupid refactoring tasks describes most of my PRs ;P
[18:11:16] * eddyb throws Rusty Ball at kimundi
[18:11:19] <mudpit> I guess I feel like I have a lot to contribute besides just any ordinary code. I'm an operations researcher by profession, and I probably have pretty crappy code anyway. But I do specialize in a lot of NP-hard/complete problem types
[18:11:25] *** Joins: jclements (jclements@moz-E7143D62.wireless.calpoly.edu)
[18:11:31] * kimundi throws it on the pile
[18:11:33] <eddyb> mudpit: oooh now that sounds interesting
[18:11:44] <eddyb> can't catch kimundi :(
[18:11:55] <mudpit> I do a lot of work with Integer Programming, Constraint Programming, SAT, etc
[18:12:01] *** Joins: nrc (nrc@F16146EB.9D3722BB.58DC3EE6.IP)
[18:12:07] <eddyb> mudpit: I wasted almost two years of my life on a NP-hard problem
[18:12:18] <eddyb> pretty naive approach, too
[18:12:28] *** Quits: morganb (morgan_b_@moz-5EAC75A2.hfc.comcastbusiness.net) (Ping timeout)
[18:12:34] <mudpit> In fact, I've been slowly building a constraint programming solver in Rust :)
[18:12:44] <mudpit> what kind of problem?
[18:12:51] *** jorendorff_away is now known as jorendorff
[18:13:02] <eddyb> if anything, I was building a half-assed logic circuit optimizer in microoptimized C++11
[18:13:18] <eddyb> mudpit: SAT, but nothing conventional
[18:14:09] <eddyb> unless you consider throwing the entire 30k nodes of MD4 at a solver and expecting anything at all "conventional"
[18:14:36] <eddyb> I came up with crazier ideas to put into it... but it's just a maintenance burden
[18:14:53] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:15:07] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[18:15:18] <eddyb> I could try rewrite it in Rust and maybe get it to the stage where you can, I don't know, optimize hardware crypto implementations
[18:15:21] *** Joins: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de)
[18:15:29] <eddyb> (for something like bitcoin mining)
[18:15:44] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[18:15:48] <eddyb> but the whole concept of breaking bit fiddling crypto is dead on me now
[18:16:47] <mudpit> Oh god...crypto is a whole other universe to me. I love optimization problems, but I don't think I could ever get to the point where I could actually be good at optimizing crypto implementations
[18:17:04] <eddyb> the point was to solve them, not optimize them
[18:17:21] <eddyb> (yay free money. >_>. silly teenager me)
[18:17:25] <mudpit> ha
[18:17:32] <mudpit> I've been there
[18:17:51] *** Quits: lpy (lpy@12172131.F09091A8.1348A864.IP) (Client exited)
[18:17:57] <eddyb> so we have inference. you could probably read the docs
[18:18:04] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[18:18:09] <eddyb> (I'm not sure we put them on the site)
[18:18:18] <eddyb> librustc::middle::typeck::infer, in any case
[18:18:19] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[18:19:15] <eddyb> mudpit: apart from various assumptions like knowing the return type, it should be extendable to the global scope
[18:19:23] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[18:19:27] <kimundi> and maybe ask a few of the core devs if there is anything that could get optimized in general ;)
[18:19:27] <eddyb> if you want to play with it and not actually make it the default
[18:19:28] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[18:19:51] *** Quits: lpy (lpy@12172131.F09091A8.1348A864.IP) (Connection reset by peer)
[18:19:58] *** Quits: nif (nif@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: Konversation terminated!)
[18:20:16] <canhtak> hi rust dev's. when rustc produce an ICE, i should put RUST_LOG=rustc=1 in my env to have more information about it, right?
[18:20:23] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[18:20:42] <eddyb> mudpit: there's the problem of returning an anonymous type that's bounded by the interface (traits) it implements
[18:20:46] *** Joins: blindrenderer (blindrende@3E3E846B.B22400E5.217C7FCC.IP)
[18:21:02] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[18:21:07] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[18:21:07] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[18:21:18] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[18:21:47] <eddyb> mudpit: but I think that's purely an implementation one, just need to add a new type kind that represents the anonymous return type of a certain function and treat it specially, until monomorphization
[18:21:48] <kimundi> canhtak: yeah, but most ICE's you can easily reach are usually field already these days, so first look if its a known issue :)
[18:21:50] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[18:22:24] *** Joins: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[18:23:31] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:23:33] <eddyb> mudpit: out of all the core devs, I think nmatsakis and pnkfelix know most about all the abstract type system nonsense that I can barely read, if you want to bug someone with questions later
[18:23:55] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[18:23:58] <Ms2ger> Hey, nonsense
[18:24:15] <eddyb> not-for-me-sense?
[18:24:18] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[18:24:31] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[18:24:32] <Ms2ger> Fair
[18:24:43] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[18:24:45] <eddyb> me senses
[18:24:53] <kimundi> much confuse
[18:25:44] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[18:26:07] <canhtak> kimundi: yes i've already search in the known issue, but i try to build a library that i have not modify from my last update of the compiler, and no there is an ICE, so it's a bit hard to isolate the problem.
[18:26:14] <eddyb> mudpit: at this point... we mostly need a lot of grunt work. I guess you're free to look at the inference algorithms and try to speed them up, that does help
[18:26:28] <kimundi> canhtak: ah, okay :)
[18:26:29] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[18:26:43] <eddyb> mudpit: oh, wait, I have a theoretical problem: efficient macro expansion with general hygiene
[18:27:13] <eddyb> mudpit: I think we currently implement a variation of Macros That Work Together for loop labels and let locals
[18:27:34] *** Joins: nif (nif@F16146EB.9D3722BB.58DC3EE6.IP)
[18:27:47] *** Joins: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net)
[18:29:34] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[18:30:03] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[18:30:42] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[18:31:05] *** Joins: p1start1 (rewi@moz-A082F561.adsl.xtra.co.nz)
[18:31:08] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Connection reset by peer)
[18:31:36] <pauls> eddyb: so, hygiene for the letter "l"?
[18:31:40] *** Quits: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net) (Quit: stevegury)
[18:31:57] <eddyb> pauls: what?
[18:32:09] <eddyb> that must be a smart reference to something
[18:32:13] <pauls> "loop labels" and "let locals"
[18:32:22] <eddyb> haha
[18:32:30] <pauls> Uh, you have overly high expectations for me.
[18:32:34] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[18:32:45] *** Quits: p1start1 (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[18:32:47] *** Quits: Zr40 (zr40@moz-63D7786A.guest.tue.nl) (Ping timeout)
[18:33:07] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[18:33:10] *** Joins: eholk (eholk@moz-BA312F07.crest.iu.edu)
[18:34:07] *** Joins: skade (skade@moz-24E7059D.web.vodafone.de)
[18:35:09] *** Joins: heftig (heftig@moz-35E360DF.dip0.t-ipconnect.de)
[18:37:37] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:37:43] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:37:52] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:38:11] <mudpit> thanks eddy. I should probably do some documentation work...I have less of a chance of screwing things up :)
[18:38:40] <mudpit> What do you mean by general hygiene?
[18:38:47] <eddyb> general macro hygiene
[18:38:50] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[18:39:01] <eddyb> so you have the complete view from the macro definition site
[18:39:07] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Ping timeout)
[18:39:10] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[18:39:14] <mudpit> ah
[18:39:14] <eddyb> and can, for example, create an impl on a private trait
[18:39:36] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[18:39:55] <eddyb> and the std can define its macros to use paths relative to std etc.
[18:41:34] <eddyb> mudpit: http://static.rust-lang.org/doc/master/rustc/middle/typeck/infer/doc/index.html
[18:42:21] *** Joins: xazax (xazax@moz-D7592A2A.csoma.elte.hu)
[18:42:28] <eddyb> mudpit: http://static.rust-lang.org/doc/master/rustc/middle/borrowck/doc/index.html
[18:43:00] <eddyb> the borrow checker is the most rust-specific analysis pass
[18:43:36] <mudpit> is there an issue for this?
[18:43:41] <Tari> rusti: ::std::iter::range_step(3,0,-1).to_owned_vec()
[18:43:42] -rusti- ~[3, 2, 1]
[18:43:52] <eddyb> mudpit: hygiene? I don't remember a meta issue for it
[18:44:29] <eddyb> I've been having some crazy ideas lately
[18:44:43] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:44:55] <eddyb> this mentions some of them https://github.com/mozilla/rust/pull/12652#issuecomment-36906024
[18:45:03] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[18:45:38] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[18:46:24] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:46:56] *** Joins: nlminhtl (ignotus@moz-4CB8A1D.site.volia.net)
[18:47:04] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[18:47:56] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[18:49:21] <mudpit> One other thing I've been pondering lately is working on this idea: http://blog.regehr.org/archives/1109
[18:49:29] <mudpit> Which would definitely help rust
[18:50:09] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[18:50:16] <eddyb> mudpit: oh yeah, collaborating on that would be awesome :D
[18:50:23] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[18:50:25] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[18:50:42] *** Quits: dave1629 (dave@F431E035.65B70227.DDE5D3F6.IP) (Quit: dave1629)
[18:51:25] <eddyb> mudpit: I have some PNG decoder code that needs unsafe code to not be much worse than libpng
[18:51:30] *** jdm|lunch is now known as jdm
[18:51:43] <eddyb> mudpit: parts of it could be safe if LLVM understood ranges better
[18:51:49] <sfackler> man, libpng is awful
[18:51:55] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[18:52:14] <eddyb> I'm a bit sad I haven't worked much on my PNG decoder... but it's pretty feature-full
[18:52:32] <sfackler> in what universe are abort or longjmp valid erorr handling models in a library?
[18:52:55] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[18:53:34] *** Quits: dherman (dherman@F16146EB.9D3722BB.58DC3EE6.IP) (Ping timeout)
[18:53:50] *** Joins: lucian_ (lucian@303F9692.4304AE1E.CE5E78F6.IP)
[18:54:05] *** Quits: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP) (Ping timeout)
[18:54:45] *** Joins: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP)
[18:54:51] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[18:54:54] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[18:54:56] <mudpit> eddyb: thanks for the ideas
[18:55:01] <mudpit> gotta run
[18:55:06] *** Quits: mudpit (Mibbit@moz-244CF33A.amazon.com) (Quit: http://www.mibbit.com ajax IRC Client)
[18:55:06] <eddyb> sfackler: using libpng is a dare and a gamble
[18:55:06] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[18:55:30] *** Joins: Zr40 (zr40@moz-CCFEAB92.adsl.xs4all.nl)
[18:55:31] *** Quits: lucian_ (lucian@303F9692.4304AE1E.CE5E78F6.IP) (Ping timeout)
[18:55:32] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[18:55:42] <eddyb> will your product be vulnerable to remote execution triggered by cat pictures?
[18:56:00] <Jemaclus> aw man, that was my idea
[18:56:07] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[18:56:32] <eddyb> Jemaclus: which idea?
[18:56:49] <Jemaclus> cat pictures :)
[18:57:43] *** Joins: alonlevy (alon@moz-7734887A.red-80-28-217.adsl.static.ccgg.telefonica.net)
[18:58:20] <Tari> mrh, we could probably use a warning for that
[18:58:45] <Tari> iter::range_step(x, 0, -1) where x is unsigned
[18:58:48] *** Joins: dave1629 (dave@F431E035.65B70227.DDE5D3F6.IP)
[18:59:06] <eddyb> Tari: that's hard to warn for
[18:59:25] <eddyb> Tari: maybe -1 as an uint literal
[18:59:30] <eddyb> instead of !0
[18:59:50] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Quit: Bye)
[18:59:52] <eddyb> that is, -1u should warn/error, while !0 shouldn't
[18:59:52] <Tari> yeah, it's the conversion from a negative literal that got me
[19:00:13] <Tari> I'm pretty sure I've seen such warning from gcc in the past
[19:00:42] *** Quits: blindrenderer (blindrende@3E3E846B.B22400E5.217C7FCC.IP) (Quit: Leaving)
[19:02:27] <kmc> for Servo we have talked about sandboxing things like libpng using Google's NaCl or a similar idea
[19:02:49] <eddyb> kmc: lol why
[19:03:04] <kmc> what do you mean why? to prevent them from being exploited, at much lower overhead than process sandboxing
[19:03:13] *** Joins: dylukes (dylukes@moz-B5418F79.hsd1.pa.comcast.net)
[19:03:46] <eddyb> kmc: I haven't put that much work into my PNG decoder and it's already comparable to libpng (even beating it in certain cases)
[19:04:01] *** Quits: murph1 (murph@moz-29F9DAC6.oracle.com) (Broken pipe)
[19:04:10] <kmc> what percentage of PNGs found on the web does it handle correctly?
[19:04:13] *** Joins: murph1 (murph@moz-29F9DAC6.oracle.com)
[19:04:43] <eddyb> kmc: it was designed with interlacing in mind
[19:04:51] *** Quits: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net) (Ping timeout)
[19:04:58] *** Quits: fabiand (fabiand@moz-419D181F.adsl.alicedsl.de) (Quit: Verlassend)
[19:05:05] <eddyb> and the only reason it doesn't do weird bit sizes is because of a closure deoptimization, I should be able to uncomment that code now
[19:05:19] <eddyb> kmc: so... 99.99%?
[19:06:03] *** Joins: morganb (morgan_b_@moz-5EAC75A2.hfc.comcastbusiness.net)
[19:06:04] <kmc> i get the impression that number is not based on actual testing
[19:06:07] *** Quits: skade (skade@moz-24E7059D.web.vodafone.de) (Connection reset by peer)
[19:06:28] <eddyb> it doesn't handle all the custom blocks you can throw at it, like gamma, sRGB, etc. (I do have the magenta background thing implemented though)
[19:06:47] <eddyb> what I was going to say earlier - you can make it generic over an output mode to get the R and B order switch for free
[19:07:28] <kmc> I honestly have no idea how hard it is to handle most PNG web content; I just wouldn't assume it's easy without testing it
[19:07:37] <eddyb> kmc: give me a testing platform and I'll add that to my TODO list
[19:07:38] <kmc> and then you have to do all that again for jpeg, gif, ...
[19:07:43] *** Joins: teosz (teosz@5F23F990.D75A9DA0.3EA6AAD8.IP)
[19:07:58] <eddyb> sandboxing stb_image before you get decoders for everything that supports - that I understand
[19:07:58] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:08:07] <eddyb> JPEG might be the worst one
[19:08:15] <kmc> having native decoders for everything in Rust would be great, but it's potentially a lot of work and not really interesting research
[19:08:20] *** Quits: teosz (teosz@5F23F990.D75A9DA0.3EA6AAD8.IP) (Quit: Lost terminal)
[19:08:38] <Ms2ger> kmc, most png web content is produced by tools, though, so should be a bit better than HTML :)
[19:08:47] <kmc> eddyb: we're using stb_image now but it's limited; for example it doesn't do alpha channel in PNGs
[19:08:55] <eddyb> we're not using it for PNGs
[19:09:03] <kmc> that's right, as of a couple months ago
[19:09:06] <kmc> we're using libpng ;P
[19:09:13] <kmc> eddyb: and stbit's known to be completely insecure against trusted 
[19:09:16] <kmc> erp
[19:09:23] <kmc> eddyb: and stb_image is known to be completely insecure against untrusted images
[19:09:25] <Jemaclus> I tried a PNG encoder/decoder awhile back. Apparently I'm still too noobish.
[19:09:43] <eddyb> kmc: most of the time (out of the one or two weeks, IIRC) that I've put into that PNG decoder were chasing rabbits for optimizations
[19:09:49] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:09:59] *** Joins: Kambfhase (quassel@moz-9278C5A3.travedsl.de)
[19:10:01] <kmc> imo there's a difference between sandboxing a widely used library for extra protection and sandboxing a library that's known to be completely insecure
[19:10:13] <eddyb> kmc: I originally estimated that it would take me a weekend to implement. and I still think that's true, if you ignore design and performance concerns
[19:10:15] *** Quits: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net) (Ping timeout)
[19:10:29] <eddyb> then again PNG is EZ
[19:10:45] <kmc> what are you using for zlib
[19:10:57] <eddyb> I originally wrote a tiny binding for zlib
[19:11:07] <eddyb> now I have my own inflate implementation
[19:11:33] <eddyb> which beats zlib (even if only because I haven't implemented checksumming - but it should be optional for images)
[19:12:55] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:12:59] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:13:03] <eddyb> kmc: acrichto has rust-compress with a slower inflate implementation... I should try to merge the two, but mine uses the async update state pattern
[19:13:41] <eddyb> which means you can kinda write a libz C API for it, and it works great for network stuff, but it's not that common in Rust
[19:13:49] *** Joins: Savago (Savago@F0CE5436.E820043D.D4C04133.IP)
[19:14:05] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[19:14:15] <eddyb> kmc: I'm waiting on a rust update in servo to mess around with its network internals to support the decoder at all
[19:15:09] *** Joins: stevegury (stevegury@636AC086.5999CED5.71743E61.IP)
[19:15:59] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[19:16:39] <eddyb> kmc: oh, you know what I didn't implement? but it's not relevant yet as there isn't integration with rendering
[19:16:49] *** Joins: tjc (tjc@C37A7EF4.2D024FDB.284344F5.IP)
[19:16:49] *** ChanServ sets mode: +o tjc
[19:17:17] <eddyb> kmc: I don't expose interlacing parameters - but if I did (it's a small thing to add) - servo could render fuzzy versions of partially loaded images
[19:17:24] *** Joins: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de)
[19:18:05] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[19:18:41] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[19:20:07] *** Quits: tjc (tjc@C37A7EF4.2D024FDB.284344F5.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:20:21] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[19:20:29] *** Joins: tjc (tjc@C37A7EF4.2D024FDB.284344F5.IP)
[19:20:29] *** ChanServ sets mode: +o tjc
[19:20:34] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[19:21:32] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:21:37] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:21:51] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[19:23:00] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[19:23:18] *** Quits: jclements (jclements@moz-E7143D62.wireless.calpoly.edu) (Quit: jclements)
[19:23:30] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:23:49] *** Quits: mark_edward (mark@moz-DCB0B750.lightspeed.cicril.sbcglobal.net) (Ping timeout)
[19:23:51] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:23:52] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[19:24:16] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[19:24:33] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[19:25:11] *** Joins: intuxicated (intuxicate@A9443CC2.9D1E10BA.3FFBF42F.IP)
[19:25:17] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[19:25:42] *** Joins: jackneill (jackneill@moz-6AD13C72.pool.digikabel.hu)
[19:25:50] *** Quits: xitology_ (xi@85437D54.5AFA3E4.CEDFC552.IP) (Quit: Ex-Chat)
[19:27:41] *** Joins: turon (Mibbit@moz-BD95F12.tampfl.fios.verizon.net)
[19:28:10] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[19:29:12] *** Joins: marwy (user@41303A68.5C2AEEF8.CFA44423.IP)
[19:29:15] <cmr> With https://github.com/cmr/gerphius I'm getting https://gist.github.com/cmr/552fbbaf4be8bc2a9562
[19:29:18] <cmr> what do I need to do differently?
[19:29:52] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[19:31:14] *** Joins: sunfish (chatzilla@moz-BBE3ABD.mv.mozilla.com)
[19:31:32] *** Quits: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de) (Input/output error)
[19:31:42] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[19:32:33] <eddyb> cmr: remove the call to get
[19:32:46] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[19:32:48] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[19:33:04] <eddyb> cmr: .borrow().borrow() gives you the handle that can live
[19:33:14] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[19:33:34] <cmr> eddyb: do I then call get everywhere else?
[19:34:22] <eddyb> yeah
[19:34:30] <cmr> eugh
[19:34:40] <eddyb> just build my branch :P
[19:34:55] <eddyb> I already use it in r3 for great justice
[19:35:13] <eddyb> I won't have time to get r3 to any neat demo state, so don't ask me again about it
[19:35:18] <cmr> :P
[19:35:20] *** Joins: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de)
[19:36:01] <cmr> eddyb: why exactly isn't the reference living long enough? istm like it should.
[19:36:41] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[19:36:57] <eddyb> .borrow() on RefCell lives as long as the statement
[19:37:03] <eddyb> unless it is the value that goes into the local
[19:38:57] <cmr> let &Sprite { x, y, height, width, texture: _ } = (*sprite).borrow().borrow().get();
[19:39:00] <cmr> destructure for great justice
[19:39:36] *** Joins: mark_edward (mark@moz-DCB0B750.lightspeed.cicril.sbcglobal.net)
[19:39:43] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[19:39:49] <eddyb> cmr: you can .. I think
[19:39:57] <eddyb> instead of texture: _
[19:40:16] <cmr> indeed
[19:40:49] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[19:41:05] *** Quits: hays (quassel@moz-38726124.washdc.east.verizon.net) (Ping timeout)
[19:42:08] <eddyb> cmr: so if I'm doing anything new with gfx in Rust, I should use hgl, right?
[19:42:34] *** Quits: ganitsu (ganitsu@moz-31FAF58A.dialup.adsl.anteldata.net.uy) (Connection reset by peer)
[19:42:34] *** Joins: jmmk (jmmk@moz-3BDBD2C0.hfc.comcastbusiness.net)
[19:42:49] <cmr> it's certainly far nicer than using gl directly everywhere.
[19:42:56] *** Joins: ganitsu (ganitsu@moz-31FAF58A.dialup.adsl.anteldata.net.uy)
[19:43:36] <eddyb> cmr: allocate with a capacity
[19:43:51] <eddyb> you can compute it easily and then it should be faster
[19:44:04] <cmr> I don't even know if it works yet :P
[19:44:08] <eddyb> hehe
[19:44:47] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[19:45:13] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[19:49:00] *** Quits: mindcat (mindcat@EEFCDFAE.7EE3DE8.F956842C.IP) (Connection reset by peer)
[19:49:13] *** Joins: mindcat (mindcat@B7CAFF5A.D57549BB.5935C0A3.IP)
[19:49:23] *** Quits: nattofriends (tsutsumi@moz-A9E340E1.fuqu.jp) (Quit: さよなら)
[19:49:38] *** Quits: xazax (xazax@moz-D7592A2A.csoma.elte.hu) (Quit: Leaving)
[19:49:51] *** Quits: mark_edward (mark@moz-DCB0B750.lightspeed.cicril.sbcglobal.net) (Ping timeout)
[19:50:11] *** Quits: aravindavk (aravinda@8E4F4730.68EAD6AA.BB883D3E.IP) (Ping timeout)
[19:50:26] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[19:50:43] *** Joins: Florob (Florob@moz-39532932.de)
[19:50:49] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:51:08] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[19:51:13] *** Joins: jclements (jclements@moz-E7143D62.wireless.calpoly.edu)
[19:52:08] <Florob> Can someone tell me if there is away around this lifetime error? <http://q.zash.se/8498a9e9.txt>
[19:52:51] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:52:55] *** Quits: mindcat (mindcat@B7CAFF5A.D57549BB.5935C0A3.IP) (Client exited)
[19:52:56] <cmr> Florob: pub struct Foo<'a> { priv f: fn(char, 'a |char|) }
[19:52:58] <cmr> perhaps?
[19:53:02] *** Quits: pczarn (pczarn@moz-69A55FA.izacom.pl) (Input/output error)
[19:53:57] <Florob> cmr, that... appears to work. So let me follow up with: Why?
[19:54:14] *** Joins: mindcat (mindcat@EEFCDFAE.7EE3DE8.F956842C.IP)
[19:54:25] *** Quits: sellout (Adium@8423FC8B.36403F5F.C5F4E277.IP) (Quit: Leaving.)
[19:54:51] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:54:54] <cmr> Florob: closures in rust are so-called "stack closures", their environment is just references directly to the state they close over, on the stack.
[19:55:03] <cmr> because of this, they need a lifetime, so as to not outlive their environment.
[19:57:01] *** Quits: Kambfhase (quassel@moz-9278C5A3.travedsl.de) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[19:57:08] *** Joins: Kambfhase (quassel@moz-9278C5A3.travedsl.de)
[19:57:11] *** Quits: Kambfhase (quassel@moz-9278C5A3.travedsl.de) (Quit: Kambfhase)
[19:57:49] <Florob> cmr, yes. But is that in any way actually related to the structure? I don't really understand why it needs to be explicit here
[19:58:15] <cmr> Florob: structures cannot store references with an anonymous lifetime.
[19:58:19] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[19:58:48] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: Textual IRC Client: www.textualapp.com)
[19:58:56] <cmr> you always need to be explicit in structs and enums.
[19:59:03] <o11c> it's sad that the & is implicit for closures
[19:59:36] *** Quits: andre (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[20:00:06] <Florob> cmr, In what way does the struct store the closure? AFAIK it only stores a function that takes one as a reference.
[20:00:14] <Florob> *an argument
[20:00:28] <cmr> Florob: yeah it's a bit strange.
[20:00:33] <cmr> I don't know exactly why.
[20:00:49] <cmr> perhaps open an issue?
[20:01:31] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:01:47] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[20:03:43] *** Joins: capt_redbeard (Adium@7580DE0F.B947D2CB.18422E69.IP)
[20:03:49] *** Quits: nif (nif@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: Konversation terminated!)
[20:03:57] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[20:04:01] <Florob> cmr, Actually... for the actual code I run into this: <http://q.zash.se/0e510aa0.txt> I guess I'll open an issue, yes.
[20:04:06] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Quit: Taking a nap.)
[20:04:35] *** Joins: capt_redbeard1 (Adium@F6268597.A7D0AB4A.18422E69.IP)
[20:05:18] *** Joins: capt_redbeard2 (Adium@7BC59D40.6D021258.18422E69.IP)
[20:05:23] *** Quits: capt_redbeard (Adium@7580DE0F.B947D2CB.18422E69.IP) (Ping timeout)
[20:05:26] *** Joins: mark_edward (mark@moz-DCB0B750.lightspeed.cicril.sbcglobal.net)
[20:05:35] *** Parts: capt_redbeard2 (Adium@7BC59D40.6D021258.18422E69.IP) ()
[20:05:39] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[20:05:46] *** Joins: capt_redbeard (Adium@7BC59D40.6D021258.18422E69.IP)
[20:06:17] *** Quits: capt_redbeard1 (Adium@F6268597.A7D0AB4A.18422E69.IP) (Ping timeout)
[20:07:31] *** Joins: capt_redbeard1 (Adium@6EB8B737.7CCB5047.18422E69.IP)
[20:08:17] *** Quits: capt_redbeard (Adium@7BC59D40.6D021258.18422E69.IP) (Ping timeout)
[20:08:19] *** Joins: capt_redbeard (Adium@7580DE0F.B947D2CB.18422E69.IP)
[20:08:22] *** Quits: stevegury (stevegury@636AC086.5999CED5.71743E61.IP) (Quit: stevegury)
[20:08:42] *** Quits: turon (Mibbit@moz-BD95F12.tampfl.fios.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:09:05] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[20:09:07] <capt_redbeard> I have this bit of code: https://gist.github.com/kylecook80/9398294 I want to call this method, which then returns a Text object. The Text object requires a Font object to be created. The problem I am encountering is that the font object is deallocated at the end of the block, but the Text object requires it after it is returned. How can I get around this?
[20:09:12] *** Quits: capt_redbeard1 (Adium@6EB8B737.7CCB5047.18422E69.IP) (Ping timeout)
[20:09:14] *** Quits: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP) (Client exited)
[20:09:35] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[20:10:03] *** Joins: capt_redbeard1 (Adium@D07D693B.5827ACB4.18422E69.IP)
[20:10:30] *** Joins: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP)
[20:10:48] *** Quits: capt_redbeard (Adium@7580DE0F.B947D2CB.18422E69.IP) (Ping timeout)
[20:13:31] *** Joins: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net)
[20:14:19] *** Joins: blindrenderer (blindrende@89510894.B22400E5.217C7FCC.IP)
[20:14:28] *** Joins: bvssvni (Mibbit@moz-C4579D6F.bb.online.no)
[20:15:40] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[20:15:55] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:16:58] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[20:17:32] *** Quits: intuxicated (intuxicate@A9443CC2.9D1E10BA.3FFBF42F.IP) (Client exited)
[20:18:48] *** Quits: cdidd (cdidd@moz-FFDD2070.broadband.corbina.ru) (Input/output error)
[20:21:08] *** Quits: blindrenderer (blindrende@89510894.B22400E5.217C7FCC.IP) (Connection reset by peer)
[20:21:25] *** Joins: blindrenderer (blindrende@89510894.B22400E5.217C7FCC.IP)
[20:21:28] *** Joins: mgottschlag (quassel@moz-9BDE4925.cust.bluewin.ch)
[20:21:32] *** Quits: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP) (Client exited)
[20:24:39] *** Joins: apollow (yellowy432@moz-5502CFE8.wireless.calpoly.edu)
[20:25:14] <aatch> capt_redbeard1, the Text constructor, new_init, should that be taking font as the second argument?
[20:25:28] <aatch> (it's currently blank)
[20:26:40] <capt_redbeard1> Ah! Lemme fix that super quick
[20:26:56] <capt_redbeard1> There.
[20:27:02] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[20:27:22] *** Quits: jclements (jclements@moz-E7143D62.wireless.calpoly.edu) (Quit: jclements)
[20:27:28] *** Quits: edwardw (edwardw@CBC31673.351D1665.B9C6B12A.IP) (Quit: Leaving...)
[20:27:33] <aatch> Right, so since you have a Rc<Font>, you should give ownership of it to the Text object.
[20:28:05] <capt_redbeard1> aatch, this is my first time using Rc, what is the appropriate way of giving ownership to the object with Rc?
[20:28:39] <aatch> capt_redbeard1, Rc moves by default, so in that case just passing the Rc<Font> in directly will work.
[20:29:39] <aatch> you can use `clone` to make copy of the pointer (which just bumps the refcount)
[20:29:40] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[20:29:54] *** Joins: nical (nico@moz-4754F405.fbx.proxad.net)
[20:30:02] <capt_redbeard1> src/menu.rs:31:54: 31:58 error: mismatched types: expected `&rsfml::graphics::font::Font` but found `std::rc::Rc<rsfml::graphics::font::Font>` (expected &-ptr but found struct std::rc::Rc)
[20:30:02] <capt_redbeard1> src/menu.rs:31     let text = match Text::new_init(self.get_text(), font, 30) {
[20:30:05] <capt_redbeard1> (updating gist)
[20:30:44] *** Quits: rgomes (rgomes@moz-C03C5B02.dsl.eclipse.net.uk) (Quit: Konversation terminated!)
[20:30:44] <capt_redbeard1> Rc allows multiple pointers to the same object, which then will be deallocated when that number hits zero correct?
[20:30:50] <bstrie> yes
[20:31:28] <aatch> capt_redbeard1, you'll have to update the other code to accept an Rc<Font>, instead of the borrowed pointer.
[20:31:52] *** Quits: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: azita)
[20:32:02] <capt_redbeard1> aatch: unfortunately I don't have access to Text, as it is a library.
[20:32:08] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[20:32:11] <capt_redbeard1> Sorry I forgot to mention that.
[20:32:28] <aatch> capt_redbeard1, ah. Hmm... let me have a look at sfml then.
[20:32:31] *** Quits: q66 (q66@moz-2E1F7042.dab.02.net) (Ping timeout)
[20:32:52] <mindcat> :Q
[20:32:53] <mindcat> :a
[20:32:54] <nical> Is there a way to do generic specialization in rust? For instance if you want to do something dependeing on whether or not a type implements a given trait.
[20:32:57] *** Quits: mindcat (mindcat@EEFCDFAE.7EE3DE8.F956842C.IP) (Quit: leaving)
[20:33:33] <aatch> nical, unfortunately no.
[20:33:49] *** Joins: capt_redbeard (Adium@7BC59D40.6D021258.18422E69.IP)
[20:34:41] *** Quits: capt_redbeard1 (Adium@D07D693B.5827ACB4.18422E69.IP) (Ping timeout)
[20:35:35] *** Joins: sellout (Adium@moz-D50C2457.hfc.comcastbusiness.net)
[20:35:37] *** Quits: Munchor (munchor@moz-8CFC84AD.yourvserver.net) (Ping timeout)
[20:35:53] <canhtak> capt_redbeard1: there is two version of each drawable objects in rsfml, so if you want to use manage ressource you can use the Text in rsfml::graphics::rc::Text, or if you want the text using borrow pointer you can use this Text : rsfml::graphics::Text;
[20:35:54] <cmr> engla: ping
[20:36:03] <aatch> capt_redbeard, hmm, interesting. There's a module in the text module that takes an Rc
[20:36:04] *** Joins: stevegury (stevegury@636AC086.5999CED5.71743E61.IP)
[20:36:15] <aatch> canhtak, bah, beat me to it >.<
[20:36:27] <engla> cmr: hi
[20:36:44] <cmr> engla: is there any particular reason why DList doesn't support removing at an index?
[20:37:01] <capt_redbeard> :/ I really should look at the API better. Thank you guys for the help
[20:37:05] <cmr> specifically I have a list of sprites and I want to remove one of them from the middle sometimes...
[20:37:16] <nical> aatch: so, if you are to implement a data structure with a type T that you put in place in memory that you malloc'd unsafely, is there a trick to call drop() on instances that are in the data structure when the structure dies, only if the T implements drop?
[20:37:41] <cmr> nical: that's not actually correct.
[20:37:45] <cmr> nical: you *always* need to call Drop
[20:37:47] <engla> cmr: it's just not implemented. It would be O(N)
[20:37:47] <cmr> for example
[20:37:55] <cmr> struct Foo { x: SomeDroppableType }
[20:37:59] <cmr> Foo doesn't implement Drop
[20:38:05] <cmr> its contents still need dropping.
[20:38:10] *** Quits: marwy (user@41303A68.5C2AEEF8.CFA44423.IP) (Quit: ERC Version 5.3 (IRC client for Emacs))
[20:38:13] <nical> cmr: ah good point
[20:38:15] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:38:32] <cmr> nical: look at how http://static.rust-lang.org/doc/master/arena/struct.TypedArena.html does it for an example.
[20:39:02] *** Quits: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: mbx)
[20:39:22] *** Joins: rgomes (rgomes@moz-C03C5B02.dsl.eclipse.net.uk)
[20:39:34] *** Quits: capt_redbeard (Adium@7BC59D40.6D021258.18422E69.IP) (Quit: Leaving.)
[20:40:01] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[20:40:02] <aatch> implementing Drop just causes the compiler to call your method when it runs the rest of the destruction process.
[20:40:06] <cmr> engla: hm, I'm already iterating over it... would there be an efficient way to do it such that it can be removed during iteration or something?
[20:40:07] <aatch> And makes the type affine
[20:40:18] <nical> cmr: thanks
[20:41:09] <aatch> DList could probably implement some sort of filtering iterator.
[20:42:10] <cmr> hm
[20:42:36] <engla> cmr: I thought that there would be, but it was never added
[20:42:50] <engla> I haven't had time to work on rust for a while
[20:43:15] <cmr> engla: do you know what the API would look like? Otherwise I'm inclined to add a `filter` method that does it.
[20:44:07] <aatch> Hmm, maybe not a filtering *iterator* since it would be done in-place, I'm not really sure how that would work with other iterators...
[20:44:19] <cmr> I don't actually need an iterator here
[20:44:37] *** Joins: hoverbear (hoverbear@moz-DF31F1E2.wireless.uvic.ca)
[20:44:43] <cmr> I'm really just doing a filter where !in_list.ref_eq(out_of_list)
[20:44:48] <cmr> (all sprites are Rc'd)
[20:46:02] <engla> I imagined you could delete while iterating, but to make it borrowck correct might be tricky
[20:46:08] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[20:46:28] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[20:46:32] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[20:46:45] <cmr> I'm imagining a modify_iter, which yields some sort of Ref<'a, T>
[20:46:57] <cmr> where Ref has a get, to get a reference to the item
[20:47:04] <cmr> and a delete, which removes the node.
[20:47:18] *** Quits: apollow (yellowy432@moz-5502CFE8.wireless.calpoly.edu) (Ping timeout)
[20:47:55] <aatch> cmr, hmm, that could work. Since you wouldn't be able to have the node borrowed and remove it at the same time. 
[20:48:31] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[20:52:08] *** Quits: tjc (tjc@C37A7EF4.2D024FDB.284344F5.IP) (Ping timeout)
[20:53:17] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:53:28] *** Quits: bvssvni (Mibbit@moz-C4579D6F.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[20:55:39] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[20:55:46] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[20:56:12] *** Quits: ganitsu (ganitsu@moz-31FAF58A.dialup.adsl.anteldata.net.uy) (Quit: WeeChat 0.4.1)
[20:56:28] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[20:56:59] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[20:57:03] *** Parts: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) ()
[20:57:29] *** Quits: cremes (cremes@moz-72B945E0.hsd1.il.comcast.net) (Quit: cremes)
[20:57:50] *** Joins: cremes (cremes@moz-72B945E0.hsd1.il.comcast.net)
[20:57:52] *** Joins: apollow (yellowy432@moz-5502CFE8.wireless.calpoly.edu)
[21:00:17] *** Joins: marwy (user@41303A68.5C2AEEF8.CFA44423.IP)
[21:01:02] *** Joins: q66 (q66@moz-2E1F7042.dab.02.net)
[21:05:53] *** Quits: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com) (Quit: Connection closed for inactivity)
[21:06:52] *** Joins: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP)
[21:10:11] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[21:11:56] *** Quits: Florob (Florob@moz-39532932.de) (Max SendQ exceeded)
[21:12:37] *** Joins: jclements (jclements@moz-E7143D62.wireless.calpoly.edu)
[21:12:43] *** Quits: not_gavin (gavin@E04DED12.5AA33DAB.2321E71E.IP) (Input/output error)
[21:12:58] *** Joins: robhobbes (robert@D931AEC7.B8CF4085.71765F8E.IP)
[21:16:18] *** Quits: apollow (yellowy432@moz-5502CFE8.wireless.calpoly.edu) (Ping timeout)
[21:18:49] *** Joins: apollow (yellowy432@moz-5502CFE8.wireless.calpoly.edu)
[21:18:50] *** Quits: dave1629 (dave@F431E035.65B70227.DDE5D3F6.IP) (Quit: dave1629)
[21:18:59] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[21:19:55] *** Quits: parcha (quassel@moz-1A772EE6.hsd1.ma.comcast.net) (Client exited)
[21:20:16] *** Joins: Florob (Florob@moz-39532932.de)
[21:21:21] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Ping timeout)
[21:21:28] *** Joins: parcha (quassel@moz-1A772EE6.hsd1.ma.comcast.net)
[21:21:40] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[21:22:21] *** Quits: stevegury (stevegury@636AC086.5999CED5.71743E61.IP) (Quit: stevegury)
[21:22:36] *** victorporof_ is now known as victorporof
[21:22:38] *** Quits: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[21:23:04] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[21:23:17] *** Joins: rdgawdzi (rdgawdzi@moz-21D6B3DE.csclub.uwaterloo.ca)
[21:23:23] *** Parts: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) ()
[21:23:59] *** Quits: mark_edward (mark@moz-DCB0B750.lightspeed.cicril.sbcglobal.net) (Ping timeout)
[21:24:09] *** Quits: apollow (yellowy432@moz-5502CFE8.wireless.calpoly.edu) (Ping timeout)
[21:24:12] *** Joins: apollow (yellowy432@moz-5502CFE8.wireless.calpoly.edu)
[21:24:16] <rdgawdzi> I cloned and built rust, and forgot I had a fork that I could fetch upstream. Is there anyway to merge the latest origin with my old fork? I don't want to built it again -_-
[21:24:56] *** Joins: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:24:59] <huon> the only way to get new changes is to rebuild the compiler
[21:25:11] <Ms2ger> Go into the new clone, git remote add my [url of your fork]; git push my master?
[21:25:11] <huon> (it will be faster the second time, since LLVM doesn't have to be built.)
[21:25:28] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[21:26:13] *** Joins: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[21:27:04] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[21:28:12] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:28:37] *** Joins: sigma (sigma@moz-55097A0B.range86-163.btcentralplus.com)
[21:28:47] *** Joins: not_gavin (gavin@E04DED12.5AA33DAB.2321E71E.IP)
[21:29:31] <huon> rdgawdzi: btw, depending on your platform, there might be a nightly package too: https://github.com/mozilla/rust/wiki/Doc-packages,-editors,-and-other-tools
[21:30:14] <rdgawdzi> huon: This is for rustc dev, a nightly build isn't what I need :)
[21:30:18] *** Quits: sigma (sigma@moz-55097A0B.range86-163.btcentralplus.com) (Ping timeout)
[21:30:28] <aatch> rdgawdzi, then get used to rebuilding.
[21:31:31] <huon> rdgawdzi: oh, yes... if you're doing compiler dev then rebuilding the compiler will be very common
[21:32:09] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[21:32:50] <tristram> I have a trait templated by T, and for a specific fn I want an extrait trait on T. Is it possible to require that trait only if we want to call that fn ? for instance something like trait Graph<N> { fn foo<N:Hash>{} }
[21:33:48] <Tari> you'd have to use multiple traits
[21:33:49] *** Quits: dylukes (dylukes@moz-B5418F79.hsd1.pa.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[21:34:12] <Tari> along the lines of std::vec::OwnedVector and friends
[21:34:20] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[21:34:21] <cmr> The dead store lint once again saves my bacon.
[21:34:37] *** Joins: FreeFull (freefull@moz-FCD0664E.as13285.net)
[21:34:45] <cmr> misplaced `break`
[21:34:51] <tristram> Tari: thanks, I’ll look into that (and probably come back with more questions)
[21:35:43] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[21:37:31] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[21:37:31] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[21:37:31] *** ChanServ sets mode: +o tjc
[21:38:35] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[21:39:46] <doomlord_> in a match expression, is there a way of acessing the match expression without creating it as a temporary first  {  let x=<expr>  match (x) { ...... code can use 'x' in the match arms } }      -->     match <expr> { ..... can code access 'expr' ... }    ... its no hastle making a temporay. just curious :)
[21:39:57] <Ms2ger> Sure
[21:40:00] <Ms2ger> That works
[21:40:08] <Ms2ger> Oh, wait
[21:40:16] <Ms2ger> Why do you want to use x?
[21:40:36] <cmr> doomlord_: not without more work than just making a temporary.
[21:40:38] <cmr> for example
[21:40:59] <doomlord_>  making the temporary got what i wanted
[21:41:02] <cmr> match foo { x @ Some(ref b) => { ... can use x ... }, x @ None => { ... can use x ... } }
[21:41:46] *** Joins: mark_edward (mark@moz-DCB0B750.lightspeed.cicril.sbcglobal.net)
[21:42:23] <FreeFull> rusti: match Some(3) { x @ Some(_) => Some(x), None => None {
[21:42:25] -rusti- pastebinned 10 lines of output: http://sprunge.us/EQFF
[21:42:27] <FreeFull> rusti: match Some(3) { x @ Some(_) => Some(x), None => None }
[21:42:30] -rusti- Some(Some(3))
[21:42:45] *** Quits: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP) (Client exited)
[21:42:48] <FreeFull> I'm not sure why you'd want to doublewrap option like that, but it would be one possible use
[21:43:02] <doomlord_> match { let x=<expr}   { .....use x in an arm..  } ... no x wont be in scope
[21:44:17] *** Quits: jackneill (jackneill@moz-6AD13C72.pool.digikabel.hu) (Input/output error)
[21:48:09] *** Joins: sigma (sigma@C91C7F36.70518F41.9D18269F.IP)
[21:49:16] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[21:50:05] *** Joins: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP)
[21:51:17] *** Joins: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP)
[21:51:20] *** Parts: robhobbes (robert@D931AEC7.B8CF4085.71765F8E.IP) ()
[21:51:29] *** Quits: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de) (Quit: Leaving)
[21:51:48] *** Quits: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP) (Ping timeout)
[21:55:46] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[21:57:27] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[21:58:50] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Quit: victorporof)
[21:59:09] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:59:46] *** Quits: dschatzberg (dschatzber@moz-B15FAF67.bu.edu) (Input/output error)
[22:00:01] *** Joins: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP)
[22:00:07] *** Joins: cdidd (cdidd@moz-AAD76106.broadband.corbina.ru)
[22:01:29] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[22:02:34] *** Joins: Munchor (munchor@moz-8CFC84AD.yourvserver.net)
[22:04:44] *** Joins: stevegury (stevegury@636AC086.5999CED5.71743E61.IP)
[22:04:57] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[22:05:48] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[22:06:53] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (No route to host)
[22:06:56] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[22:07:13] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[22:07:16] *** Joins: alkino (alkino@moz-53CAAA6D.w92-151.abo.wanadoo.fr)
[22:08:47] *** Quits: alonlevy (alon@moz-7734887A.red-80-28-217.adsl.static.ccgg.telefonica.net) (Ping timeout)
[22:09:05] <Jemaclus> Anyone know how to calculate derivatives in Rust off the top of your head? :)
[22:09:28] *** Quits: apollow (yellowy432@moz-5502CFE8.wireless.calpoly.edu) (Ping timeout)
[22:09:48] <huon> Jemaclus: exact derivatives, or numerical derivatives?
[22:10:14] <Jemaclus> yes
[22:10:30] <mcpherrin> derivatives of what?
[22:10:35] <mcpherrin> of rust functions?
[22:10:40] *** Joins: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP)
[22:10:42] <huon> Jemaclus: there were two options there...
[22:10:48] <Jemaclus> hehe
[22:11:32] *** Joins: pnkfelix (pnkfelix@F16146EB.9D3722BB.58DC3EE6.IP)
[22:11:47] <Jemaclus> like: d/dx f(x)
[22:11:48] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Client exited)
[22:12:20] <mcpherrin> that's just the notation for a derivative, doesn't really say how you want to calculate it...
[22:12:23] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[22:13:02] <Jemaclus> uh
[22:13:04] <Jemaclus> hm
[22:13:06] <Jemaclus> ok, nevermind
[22:13:13] <huon> (f(x + small) - f(x)) / small
[22:13:24] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[22:13:30] <Ms2ger> lim small -> 0
[22:13:44] <Jemaclus> right
[22:14:00] *** Joins: apollow (yellowy432@moz-5502CFE8.wireless.calpoly.edu)
[22:14:13] *** Quits: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: azita)
[22:14:28] <mcpherrin> but not too small or you'll go ill conditioned :P
[22:14:33] <Jemaclus> naturally
[22:14:54] <FreeFull> That's a forward derivative
[22:15:10] <FreeFull> You can also do (f(x + small) - f(x - small)) / small
[22:15:18] <FreeFull> You can also do (f(x + small) - f(x - small)) / (2*small)
[22:15:22] <FreeFull> Sorry, missed the 2*
[22:16:12] <Ms2ger> mcpherrin, meh, I'm a mathematician, I don't do ill-conditioned :)
[22:16:31] <huon> Ms2ger: mathematicians do numerical analysis too :P
[22:16:42] <Ms2ger> Ssh
[22:17:08] <bharadwaj> Can someone explain what I am doing wrong here? https://dpaste.de/hym9
[22:17:11] <mcpherrin> in my experience the worst people at making floating point code work out right are the mathematicians who can do proper stability analysis :P
[22:17:12] *** Joins: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[22:17:31] <FreeFull> You can also do differenciation using dual numbers, but that's more involved
[22:17:37] *** Quits: mgottschlag (quassel@moz-9BDE4925.cust.bluewin.ch) (Ping timeout)
[22:17:47] <Ms2ger> I read about that once
[22:17:49] *** Joins: DAddYE__ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[22:17:57] <FreeFull> And I don't think Rust has anything for that right now, so you'd have to build your own
[22:17:59] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[22:18:03] *** Quits: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com) (Ping timeout)
[22:18:10] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[22:18:24] <mcpherrin> bharadwaj: You refer to the trait Monster but you can't store them literally in an array -- Trex and Godzilla might be different sizes
[22:18:28] <cmr> bharadwaj: Monster is a trait, and you can't have a value whose type is a trait.
[22:18:29] <Ms2ger> bharadwaj, &[Monster] isn't a trait
[22:18:32] <Ms2ger> Er
[22:18:34] <Ms2ger> type*
[22:18:53] *** Quits: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[22:18:54] <cmr> use &[~Monster]
[22:19:23] <bharadwaj> cmr: what would &[~Monster] do?
[22:19:33] <huon> eat you
[22:19:34] <FreeFull> Boxes solve everything
[22:20:04] <cmr> bharadwaj: it's an owned trait object.
[22:20:17] <Ms2ger> huon, go north
[22:20:25] <cmr> it's like an interface in java
[22:20:42] <cmr> I can't really explain them that great right now :(
[22:21:01] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[22:21:03] *** Quits: marianoguerra (marianogue@moz-DFAB8DA8.dip0.t-ipconnect.de) (Ping timeout)
[22:21:12] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Client exited)
[22:21:13] *** Quits: Zr40 (zr40@moz-CCFEAB92.adsl.xs4all.nl) (Quit: leaving)
[22:21:29] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[22:22:48] *** Joins: dherman (dherman@F16146EB.9D3722BB.58DC3EE6.IP)
[22:22:48] *** ChanServ sets mode: +ao dherman dherman
[22:23:09] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[22:23:12] <bharadwaj> cmr: Which part of the tutorial would be helpful? Unfortunately, the traits part doesn't seem to explain this part clearly... :(
[22:24:14] *** Joins: maxli1 (Adium@moz-70F9251D.thefacebook.com)
[22:24:17] *** Quits: DAddYE__ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[22:24:21] *** Joins: tav (tav@moz-7F8C7893.range31-52.btcentralplus.com)
[22:24:37] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[22:24:51] *** Joins: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com)
[22:25:01] *** Quits: Ferreus (ferreus@moz-703F36.lsn.wtnet.de) (Quit: WeeChat 0.4.4-dev)
[22:26:18] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[22:26:53] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[22:27:22] <bharadwaj> If Monster is a trait, what are @Monster, ~Monster and &Monster respectively?
[22:27:38] <mcpherrin> ~Monster is an owned pointer to a monster
[22:27:48] <mcpherrin> &Monster is a borrowed reference to one
[22:27:52] <mcpherrin> Ignore @Monster
[22:28:11] <bharadwaj> mcpherrin: thanks! I guess I can go ahead with that... :)
[22:28:19] <FreeFull> All you know about ~Monster and &Monster is that whatever is stored, it is a Monster, so you can only use the methods the Monster trait provides
[22:28:29] <FreeFull> Unless I'm wrong on that
[22:29:31] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[22:30:11] *** Joins: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP)
[22:30:14] <Jemaclus> I'm hoping after I finish this Compilers course on Coursera, i won't be so noobish...
[22:31:09] <bharadwaj> Jemaclus: someone else doing the same course... :)
[22:32:03] *** Quits: stevegury (stevegury@636AC086.5999CED5.71743E61.IP) (Quit: stevegury)
[22:33:22] <Jemaclus> :)
[22:33:32] *** Quits: Savago (Savago@F0CE5436.E820043D.D4C04133.IP) (Quit: Savago)
[22:33:34] <Jemaclus> I'm taking the Machine Learning course right now. So much fun... so much calculus I haven't done in 15 years... :)
[22:33:37] <Jemaclus> well, linear algebra
[22:33:40] <Jemaclus> but some calculus too
[22:34:35] <Ms2ger> Statistics?
[22:34:49] * Ms2ger did not like ML much
[22:35:24] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[22:35:37] *** Quits: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: azita)
[22:35:37] <Jemaclus> I always liked statistics. :)
[22:35:46] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[22:35:52] *** Quits: apollow (yellowy432@moz-5502CFE8.wireless.calpoly.edu) (Ping timeout)
[22:35:59] <Ms2ger> Glad it works out for you :)
[22:36:03] <Jemaclus> It's only week 1, so we basically went over linear regression and gradient descent... haven't gotten into k-means or any of those other things, yet.
[22:36:09] * Ms2ger will be glad to get rid of it
[22:36:24] *** Joins: apollow (yellowy432@moz-5502CFE8.wireless.calpoly.edu)
[22:36:34] *** Joins: nif (nif@F16146EB.9D3722BB.58DC3EE6.IP)
[22:37:09] <cmr> I tried doing that ML course the first time around, before it was on coursera.
[22:37:09] <Tari> is there a nice way to recurse within a closure?
[22:37:16] <cmr> I couldn't even finish the first week.
[22:37:31] <cmr> Tari: no.
[22:37:46] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[22:37:52] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:37:55] <Jemaclus> cmr: haha, why not?
[22:38:01] <cmr> Jemaclus: the math was above me
[22:38:05] <Tari> guess I'll break it into a proper function then
[22:38:07] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:38:08] <Jemaclus> gotcha
[22:38:21] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[22:38:26] <Jemaclus> I got to Calculus III in college. Used to be able to calculate derivatives and integrals in my sleep.
[22:38:31] <Jemaclus> I can still do it, just on paper ;)
[22:38:40] <Jemaclus> Converting to code is a bit tougher for me
[22:38:51] <Jemaclus> Easier to do lim -> 0 on paper than in code, imo
[22:39:05] <cmr> certainly
[22:39:05] <Jemaclus> unless it's a language specifically for that kind of thing, like Mathematica or Octave or something.
[22:39:41] <Tari> or I guess that appears to work
[22:39:46] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[22:39:48] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[22:39:56] <cmr> Tari: what does?
[22:40:01] <Tari> declare the closure, then assign it
[22:40:05] <cmr> ah, yes.
[22:40:08] <Ms2ger> Jemaclus, yeah, doing it numerically is a whole different beast
[22:40:23] <cmr> but there's no `self`
[22:40:32] <cmr> (to call yourself)
[22:40:35] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[22:40:46] <Ms2ger> Sounds like the start of a horror story
[22:40:59] <Ms2ger> "He heard heavy breathing in the dark... but there's no `self`"
[22:41:56] <Tari> hah, that doesn't work either
[22:42:10] <Tari> let traverse: ||; traverse = || { traverse() }
[22:42:16] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[22:42:18] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[22:42:29] <Havvy> Jemaclus:  It's still code. ;)
[22:42:34] <Tari> error: capture of possibly uninitialized variable: `traverse`
[22:42:56] <Jemaclus> Havvy: true :)
[22:43:02] <Tari> time to pass everything as parameters then
[22:44:04] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:45:24] *** Quits: Ms2ger (Ms2ger@60B493FD.C305EAEC.F15B0BB3.IP) (Quit: nn)
[22:45:51] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[22:46:04] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[22:46:59] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:47:20] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[22:48:40] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[22:49:09] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[22:50:48] *** Quits: dmsky (dmsky@moz-63A2E3E4.pppoe.spdop.ru) (Input/output error)
[22:51:21] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[22:51:23] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[22:54:55] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[22:55:10] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:55:18] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:56:03] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[22:56:22] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[22:56:40] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[22:56:43] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:56:54] *** Joins: lurknerd (Mibbit@5A31E16D.48628F5.1528EDD.IP)
[22:56:55] *** Joins: alonlevy (alon@moz-7734887A.red-80-28-217.adsl.static.ccgg.telefonica.net)
[22:57:32] *** Quits: echristo (echristo@3246441A.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[22:57:34] *** Joins: aepsil0n (eduard@moz-B5507714.hsi8.kabel-badenwuerttemberg.de)
[22:58:24] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[22:58:30] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[22:58:38] <olsonjeffery> any other rust folk in Houston?
[22:58:41] <olsonjeffery> im moving out that way pretty soon
[22:59:38] <lurknerd> find some work there? I have friends who say they didn't like texas too much. Never been there myself, always wanted to go
[23:00:12] <olsonjeffery> yeah, i just about got an offer sewn up
[23:00:22] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[23:00:23] <olsonjeffery> lots of energy-related work, which means: computation!
[23:00:28] <olsonjeffery> but it's pretty enterprisey, as well
[23:00:33] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[23:00:36] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[23:00:47] <lurknerd> I believe I heard about Texas having a booming IT industry, what's your opinion having landed an offer?
[23:00:48] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:01:00] <olsonjeffery> well it's a weird sort of market
[23:01:02] *** Joins: echristo (echristo@3246441A.D6CCE4AE.77834EAA.IP)
[23:01:07] <olsonjeffery> im having challenges because im currently in seattle
[23:01:18] <olsonjeffery> you know, trying to land something from outside the market introduces an additional burden
[23:01:31] *** Joins: jroweboy (Mibbit@moz-405814B3.byu.edu)
[23:01:35] <olsonjeffery> but it seems kind of weird.. in terms of it not being like other IT markets ive interacted w/ (SV and seattle)
[23:01:47] *** Joins: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP)
[23:01:52] <olsonjeffery> craigslist is just.. barren (which honestly made me think there wasn't much work, there)
[23:02:03] <olsonjeffery> but that's not true.. ive had much more luck just cold-calling recruiters/staffing agencies
[23:02:55] *** Quits: sigma (sigma@C91C7F36.70518F41.9D18269F.IP) (Client exited)
[23:03:01] <olsonjeffery> so that's interesting. also they actually are willing to put dollar figures into job postings.. which is totally alien to me
[23:03:32] <olsonjeffery> also drives home the fact that must really believe they can depress wages or something (luckily not a problem i've faced, since the places ive made in-roads into are able to meet my range)
[23:04:00] <olsonjeffery> like wanting embedded engineers w/ math backgrounds and 7+ years experience and saying 80K/DOE
[23:04:06] <olsonjeffery> which is just.. wrong.
[23:04:28] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[23:04:37] <olsonjeffery> anyways. back to your regularly scheduled program.
[23:05:28] <jroweboy> I'm trying to link against a system library, and it compiles and links against it just fine, but when I try to run it at runtime it throws a "cannot find shared library libpcre.so.1" 
[23:05:37] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[23:05:51] <huon> olsonjeffery: don't worry... that's wildly more on-topic than half the discussions on #rust :P (e.g. there was a food discussion for hours yesterday)
[23:05:55] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[23:05:56] <jroweboy> I'm not exactly sure why it can't find it at runtime, but it can link against it just fine
[23:06:19] <olsonjeffery> huon: to be fair, the only thing that really gets my goat is (it seems like in the evenings, US-time, on the weekends) when haskell people take over ;P
[23:06:21] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[23:06:30] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[23:06:38] <huon> never! <3 haskell people
[23:06:39] <huon> :P
[23:06:56] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[23:07:29] <olsonjeffery> well sure. but like people just talking shop about GHC library stuff or other arcane things. it'd be like pcwalton and nmatsakis going into #haskell and freenode and talking shop about impl details of trans
[23:07:41] <huon> oh, yeah, sure
[23:08:07] <olsonjeffery> but i digress
[23:08:50] <jroweboy> olsonjeffery: I understand how you feel :p My roommate goes on and about haskell and how wonderful it is. Its cool, but I don't wanna hear why I should rewrite everything I'm doing in haskell when I was just commenting on some cool feature of a specific language
[23:08:52] <sfackler> jroweboy: you may have to mess with your LD_LIBRARY_PATH a bit
[23:09:27] *** Joins: alexherbo2 (alexherbo2@moz-A456CD9C.w83-199.abo.wanadoo.fr)
[23:09:46] <strcat> sfackler: only if it's outside the paths ld looks in by default, and also outside the paths added in /etc/ld.so.conf and /etc/ld.so.conf.d/
[23:10:18] <huon> jroweboy: I think you should rewrite everything in Haskell
[23:10:21] <huon> :P
[23:10:23] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[23:10:27] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[23:10:37] <sfackler> strcat: isn't that what's happened if he's getting runtime linker errors?
[23:10:40] <jroweboy> *** jroweboy quit :p
[23:10:57] <strcat> sfackler: well it wouldn't have found the library at link-time without passing -L then
[23:10:58] <huon> jroweboy: I think you should rewrite everything in Rust
[23:11:53] *** Quits: sellout (Adium@moz-D50C2457.hfc.comcastbusiness.net) (Quit: Leaving.)
[23:11:56] <doomlord_> the power of habits is remarkable. I am still instinctively typing "#" then delete before i write 'use', and constantly think i'm writing a header file. i have to stop and remind myself i can stop procrastinating about clear declarations and just write the actual functions straight away..
[23:12:32] *** Joins: josedonizetti (josedonize@CD432731.14BD676C.8EF76F75.IP)
[23:12:33] <hoverbear> olsonjeffery: You have a goat?
[23:12:47] <cmr> hoverbear++
[23:12:54] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[23:13:07] <hoverbear> olsonjeffery, cmr: I have chickens, if cmr has a cow we can start a farm.
[23:13:10] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[23:13:18] <olsonjeffery> i have a cat and a dog
[23:13:19] <cmr> chickens, no cow.
[23:13:19] *** Quits: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com) (Quit: )
[23:13:23] <huon> hoverbear: no, he doesn't have a got anymore, someone got it
[23:13:25] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[23:13:29] <hoverbear> cmr: You have chickens too?
[23:13:30] <olsonjeffery> although, my property is adjacent to a highschool baseball field
[23:13:39] <cmr> hoverbear: mhm
[23:13:41] <hoverbear> olsonjeffery: You can just leave the cow there.
[23:13:43] <olsonjeffery> and one summer the school district paid (?) someone to bring a herd of goats in to eat the grass
[23:13:44] *** Quits: abinader (sid21713@moz-A42E5B7B.irccloud.com) (Quit: )
[23:13:44] <jroweboy> My family raised goats for 15 years :p Does that count? And sfackler: I found /usr/local/lib in the ld.so.conf
[23:13:46] <hoverbear> cmr: Buck buck buck.
[23:13:49] <olsonjeffery> and they wandered into my yard
[23:13:52] <olsonjeffery> so ive had goats
[23:14:06] <cmr> hahah
[23:14:06] <hoverbear> olsonjeffery: Good enough. We'll call it #rusty-farm
[23:14:35] <olsonjeffery> it was pretty horrible. let's just say they leave behind a number of... side effects
[23:14:39] <jroweboy> sfackler: So it should be in the LD_LIBRARY_PATH
[23:14:49] <olsonjeffery> they wandered into the streets and police had to come to shoo them back to the school
[23:14:49] <hoverbear> olsonjeffery: Obviously they weren't using Haskell.
[23:14:56] *** Quits: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net) (Ping timeout)
[23:15:00] <huon> olsonjeffery: they leave behind haskell people talking about GHC internals?
[23:15:22] <olsonjeffery> if only. at least then i cage them and get a couple academic publications out of them every year.
[23:15:30] *** Joins: meyer (meyer@moz-A9CF56E4.hsd1.ca.comcast.net)
[23:15:34] <hoverbear> I'd use haskell, but I think rustpkg is better then the haskell thing
[23:15:37] <hoverbear> Cabal
[23:15:41] <huon> hoverbear: what rustpkg?
[23:15:43] <huon> ;P
[23:15:45] <olsonjeffery> insofar as it doesn't exist?
[23:15:46] <cmr> hoverbear: by virtue of non-existence?
[23:15:47] <hoverbear> huon: That was the point.
[23:15:50] <cmr> heh
[23:15:50] <olsonjeffery> thatsthejoke.png
[23:16:08] <huon> huon.laugh()
[23:16:16] <cmr> forget(huon);
[23:16:23] <hoverbear> Last time I used cabal (8 months ago) it was literally the worst packaging system I'd ever used.
[23:16:25] *** Quits: alonlevy (alon@moz-7734887A.red-80-28-217.adsl.static.ccgg.telefonica.net) (Ping timeout)
[23:16:27] *** cmr is now known as unsafe
[23:16:51] *** Quits: josedonizetti (josedonize@CD432731.14BD676C.8EF76F75.IP) (Quit: josedonizetti)
[23:16:51] <strcat> hoverbear: *shrug*, works well enough for autogenerating distro packages
[23:16:54] <hoverbear> Me on #haskell "How do I remove a package" them: "Delete it from /some/random/folder and removing it from /some/random/list"
[23:16:58] <olsonjeffery> this isn't fair. some haskell people is going to come along and eviscerate everyone in this channel for these comments
[23:17:02] <hoverbear> Haha
[23:17:07] <hoverbear> olsonjeffery: Don't worry, it's safe.
[23:17:11] <olsonjeffery> whoever is reading this on log.gr or whatever: hoverbear doesn't speak for us!
[23:17:18] <hoverbear> I love Haskell.
[23:17:20] <strcat> hoverbear: you're really not supposed to use it for installing system packages
[23:17:21] <huon> hoverbear: not with unsafe in the channel
[23:17:22] <hoverbear> The language is great. :)
[23:17:27] <strcat> no different than pip, etc. in that regard
[23:17:29] <koomi> hoverbear: that's because cabal is not a package manager
[23:17:30] * unsafe looms
[23:17:32] <hoverbear> strcat: I figured.
[23:17:38] <lurknerd> sorry at work helping a customer :p ; thanks for the insight olson, I've been looking around 
[23:17:51] <olsonjeffery> did i help?
[23:18:03] *** huon is now known as if
[23:18:06] <olsonjeffery> i agree, re: LD_LIBRARY_PATH
[23:18:57] <jroweboy> Stackoverflow said to run sudo ldconfig and that fixed it... whatever that did :p
[23:19:10] <strcat> hoverbear: arch-haskell has 262 packages with pretty minimal manual work: https://github.com/archhaskell/habs/tree/master/patches
[23:19:17] <ChrisMorgan> sudo ldconfig is mildly dangerous stuff.
[23:19:27] <strcat> mostly just correctly names of system deps
[23:19:33] <strcat> correcting*
[23:19:36] <strcat> since that varies
[23:19:41] *** ChrisMorgan is now known as do
[23:19:51] <hoverbear> strcat: Yeah. I ended up using that for my packages I needed but I still wasn't particularly impressed given the maturity of the project.
[23:20:06] <strcat> it's not intended to be a system package manager.
[23:20:53] <jroweboy> ChrisMorgan: Why is it mildly dangerous? Reading the man pages says it just updates the library path cache right? Maybe I misunderstood
[23:21:02] <jroweboy> Err I meant do:
[23:21:03] <strcat> in all likelihood you want a workspace or system packages
[23:21:06] <do> jroweboy: :P
[23:21:28] *** Quits: lurknerd (Mibbit@5A31E16D.48628F5.1528EDD.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:21:30] <strcat> jroweboy: if running ldconfig manually fixed it, that indicates a problem
[23:21:49] <jroweboy> is it unsafe?
[23:21:51] *** Joins: dmsky (dmsky@moz-63A2E3E4.pppoe.spdop.ru)
[23:21:52] <strcat> a package manager is already supposed to run ldconfig itself when new libs show up
[23:21:54] <strcat> no, it's not unsafe
[23:22:02] <strcat> but it's not something you should ever have to manually run
[23:22:03] *** Joins: lurknerd (Mibbit@5A31E16D.48628F5.1528EDD.IP)
[23:22:13] <jroweboy> sorry I had mention unsafe somehow :)
[23:22:18] * if didn't run ldconfig manually
[23:22:52] *** Joins: alonlevy (alon@moz-7734887A.red-80-28-217.adsl.static.ccgg.telefonica.net)
[23:23:11] <do> Dangerous wasn't the best way of putting it. I mean more that it indicates a problem which will then spring up later on and elsewhere—it's a dangerous patch to use because it covers the problem just for the moment.
[23:23:16] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Quit: Leaving.)
[23:23:26] *** Quits: josh (josh@moz-244364B2.cable.virginm.net) (Quit: josh)
[23:23:32] *** Quits: dmsky (dmsky@moz-63A2E3E4.pppoe.spdop.ru) (Ping timeout)
[23:23:40] *** Quits: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:23:57] <jroweboy> :) It wasn't for my computer but for a friends... Should I feel say something to him about that?
[23:24:07] *** Quits: jmmk (jmmk@moz-3BDBD2C0.hfc.comcastbusiness.net) (Ping timeout)
[23:24:15] <strcat> tell him to stop installing stuff to / without using a package manager ;p
[23:24:23] <strcat> in all likelihood that's why...
[23:24:25] * strcat shrugs
[23:25:48] *** Joins: josh (josh@moz-244364B2.cable.virginm.net)
[23:25:57] <jroweboy> Its exactly why haha He's on an old ubuntu so the package manager didn't meet the minimum requirements. So I had him install from source :s
[23:26:29] *** Joins: zmthy (zmthy@moz-C2881CC3.ecs.vuw.ac.nz)
[23:26:59] *** Quits: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP) (Quit: Lost terminal)
[23:28:28] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:29:25] *** Quits: jroweboy (Mibbit@moz-405814B3.byu.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[23:30:01] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[23:30:19] *** Quits: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP) (Ping timeout)
[23:30:46] *** Joins: jmmk (jmmk@moz-3BDBD2C0.hfc.comcastbusiness.net)
[23:31:45] *** Quits: jclements (jclements@moz-E7143D62.wireless.calpoly.edu) (Quit: jclements)
[23:32:36] *** Quits: not_gavin (gavin@E04DED12.5AA33DAB.2321E71E.IP) (Connection reset by peer)
[23:33:53] *** Quits: nkoep (nik@moz-F418CC4.pool.mediaways.net) (Quit: Leaving)
[23:34:26] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[23:40:40] *** Joins: vincent_ (vincent@92340C0D.F31F2D7D.9510F13D.IP)
[23:41:28] *** Quits: marwy (user@41303A68.5C2AEEF8.CFA44423.IP) (Client exited)
[23:41:30] *** Quits: snerd (motk@moz-D21A06DF.members.linode.com) (Client exited)
[23:42:29] <vincent_> hello again!
[23:42:35] <vincent_> what is the most acceptable way to have a little bit of global state (not considering tasks). is it possible to have a globally identified task that holds global state (like you can do with erlang)
[23:43:58] <mcpherrin> strcat: package fascist. I'll put my stuff wherever I want!
[23:45:04] *** Joins: skade (skade@moz-24E7059D.web.vodafone.de)
[23:45:18] *** do is now known as box
[23:45:56] *** Joins: not_gavin (gavin@E04DED12.5AA33DAB.2321E71E.IP)
[23:47:04] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:48:09] *** Quits: alexherbo2 (alexherbo2@moz-A456CD9C.w83-199.abo.wanadoo.fr) (Quit: WeeChat 0.4.3-dev)
[23:48:44] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[23:48:56] *** if is now known as huon
[23:49:17] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[23:49:28] *** Quits: alonlevy (alon@moz-7734887A.red-80-28-217.adsl.static.ccgg.telefonica.net) (Ping timeout)
[23:50:33] *** Joins: jmgrosen (user@moz-848F6087.sb.sd.cox.net)
[23:50:36] *** Quits: skade (skade@moz-24E7059D.web.vodafone.de) (Connection reset by peer)
[23:51:20] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Quit: )
[23:52:04] *** Joins: dylukes (dylukes@moz-A98B7293.wireless.pitt.edu)
[23:52:16] *** Joins: skade (skade@moz-24E7059D.web.vodafone.de)
[23:52:24] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Input/output error)
[23:53:18] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:53:24] *** Quits: josh (josh@moz-244364B2.cable.virginm.net) (Quit: josh)
[23:53:33] <huon> rusti: 1..to_str()
[23:53:34] -rusti- <anon>:10:10: 10:12 error: expected one of `;`, `}` but found `..`
[23:53:34] -rusti- <anon>:10         1..to_str()
[23:53:34] -rusti-                    ^~
[23:53:34] -rusti- application terminated with error code 101
[23:53:58] <hoverbear> rusti: 1.to_str()
[23:53:59] -rusti- ~"1"
[23:54:10] <unsafe> rusti: 3.14.to_str()
[23:54:11] -rusti- ~"3.14"
[23:54:30] <huon> (I was testing if the '..' was valid)
[23:54:31] *** Joins: alexherbo2 (alexherbo2@moz-A456CD9C.w83-199.abo.wanadoo.fr)
[23:54:49] *** box is now known as ChrisMorgan
[23:54:51] <Havvy> Is `1.` valid?
[23:54:53] <unsafe> rusti: 1.
[23:54:54] <huon> rusti: 1.
[23:54:55] -rusti- 1f64
[23:54:55] -rusti- 1f64
[23:55:05] <Havvy> So it is.
[23:55:21] <huon> rusti: is.
[23:55:22] -rusti- <anon>:11:5: 11:6 error: unexpected token: `}`
[23:55:22] -rusti- <anon>:11     };
[23:55:22] -rusti-               ^
[23:55:22] -rusti- application terminated with error code 101
[23:55:25] <huon> nope :P
[23:55:59] <huon> rusti: 1. .to_str()
[23:55:59] -rusti- ~"1"
[23:57:05] *** Quits: jmmk (jmmk@moz-3BDBD2C0.hfc.comcastbusiness.net) (Ping timeout)
[23:57:22] *** Quits: cdidd (cdidd@moz-AAD76106.broadband.corbina.ru) (Input/output error)
[23:57:27] *** Joins: josh (josh@moz-244364B2.cable.virginm.net)
[23:57:59] *** Joins: jmmk (jmmk@moz-3BDBD2C0.hfc.comcastbusiness.net)
[23:58:47] *** Quits: dylukes (dylukes@moz-A98B7293.wireless.pitt.edu) (Connection reset by peer)
[23:58:55] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Connection reset by peer)
[23:59:01] <ChrisMorgan> huon: I'm a little surprised by that, actually, given the behaviour of e.g. 0b0163 as two tokens, "0b01" and "63". I expected `1..to_str()` to be Float("1.") Dot Ident("to_str") OpenParen CloseParen.
[23:59:10] *** unsafe is now known as cmr
[23:59:22] <cmr> ChrisMorgan: dotdot is a token though
[23:59:25] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[23:59:39] <cmr> I agree that it's unexpected.
[23:59:40] <ChrisMorgan> cmr: I know, but I expected the float to consume the first one.
