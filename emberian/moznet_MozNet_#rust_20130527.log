[00:01:43] <EXetoC> e
[00:01:45] *** Quits: n0vember (n0vember@moz-690FFF9D.org) (Input/output error)
[00:02:20] *** Joins: n0vember (n0vember@moz-690FFF9D.org)
[00:08:43] *** Quits: cowboyd (cowboyd@moz-DD0FF83.lightspeed.austtx.sbcglobal.net) (Client exited)
[00:11:19] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[00:22:40] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[00:23:22] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.1)
[00:24:29] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[00:25:19] *** Quits: Ralith (ralith@moz-50F3C77.vc.shawcable.net) (Ping timeout)
[00:26:21] *** Joins: Ralith (ralith@moz-50F3C77.vc.shawcable.net)
[00:28:19] *** Quits: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP) (Connection reset by peer)
[00:28:25] *** Joins: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP)
[00:29:44] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[00:30:20] *** Quits: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP) (Quit: eatkinson)
[00:33:51] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[00:34:09] *** Joins: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net)
[00:38:26] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[00:40:06] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[00:40:40] *** Quits: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP) (Quit: Leaving.)
[00:42:28] *** Quits: geomyidae (geomyidae@9FDA6BE2.37A86C23.448B98CC.IP) (Ping timeout)
[00:45:01] *** Joins: geomyidae (geomyidae@9FDA6BE2.37A86C23.448B98CC.IP)
[00:48:57] <Yurume> https://github.com/lifthrasiir/angolmois-rust
[00:48:57] <Yurume> ;)
[00:50:30] <aatch> Yurume, cool
[00:50:48] <Yurume> I think I have spent at least three months of spare time for that thing
[00:50:59] *** Quits: SimonSapin (simon@8ACF1000.5EFFC0B8.24454B25.IP) (Ping timeout)
[00:50:59] *** Quits: doomlord (doomlod@moz-B63745D8.range86-176.btcentralplus.com) (Ping timeout)
[00:51:36] <Yurume> now it is done, with the stability par with the original C version
[00:51:59] <Jeaye> Yurume: You should try breaking that up into multiple files, just to ease things up. :P
[00:52:22] <cmr> yeah O_o
[00:52:23] <Jeaye> 6.5K lines in one file is quite a bit.
[00:52:41] * Jeaye aims for < 500 per file.
[00:52:48] <Yurume> of course, that's just for the comparison...
[00:52:49] *** Quits: axesdnd (axes@moz-37E367FF.cj.upcnet.ro) (Ping timeout)
[00:53:00] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[00:53:09] <cmr> What's the sloc, and the sloc of the original?
[00:53:16] <Yurume> 2K LoC to 6.5K LoC.
[00:53:27] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[00:53:32] <Yurume> I haven't checked cloc though
[00:53:50] <cmr> You'd imagine the rust version be much smaller; what do you think caused the most increase?
[00:54:18] <Yurume> cmr, I haven't imagined it, but I expected it to be within 2.5x, which was incorrect
[00:54:34] <cmr> It looks like a bunch of it is FFI bindings or libstd patches
[00:54:57] <Yurume> and I have also put enough documentations to it so the LoC comparison is a bit misleading
[00:55:09] <cmr> Well sloc isn't supposed to include whitespace or comments
[00:55:12] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[00:55:18] <cmr> 5676 sloc according to github
[00:55:20] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[00:55:37] <Yurume> cmr, yes, I think 5K or so, but I haven't calculated it myself
[00:55:50] <noct> Jeaye: depends on your editor; I find it pretty easy to jump around Nk line files w/ sublime
[00:56:02] <Yurume> hmm, by comparison, https://github.com/lifthrasiir/angolmois/blob/master/angolmois.c is 1819 sloc.
[00:56:18] <Yurume> 3.1 times original code?
[00:56:27] <Yurume> anyway
[00:56:28] *** Quits: burntsushi (burntsushi@moz-27A1B1D8.dhcp.oxfr.ma.charter.com) (Connection reset by peer)
[00:56:50] *** Joins: burntsushi (burntsushi@moz-27A1B1D8.dhcp.oxfr.ma.charter.com)
[00:56:53] *** Quits: snearch (snearch@moz-9172598.pool.mediaways.net) (Quit: Verlassend)
[00:56:57] <Yurume> the original C code was freestanding except for the external dependency, so I aimed at the same for Rust
[00:57:34] <Yurume> I certainly made it in multiple files if it weren't a translation
[00:57:41] <Yurume> I'd*
[00:58:07] <Yurume> (I *do* plan on it but no ETA at the moment)
[00:58:42] <cmr> Yurume: Anyway, congratulations!
[00:58:46] <Yurume> thanks ;)
[00:59:39] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[01:03:59] <Jeaye> Yurume: Yeah, good work. Fun to see projects like this.
[01:04:49] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[01:08:35] <cmr> http://static.rust-lang.org/doc/core/pipes.html do protocols describe a state machine or is there something else going on here?
[01:11:19] *** Quits: EXetoC (ex@moz-C741B177.customer.t3.se) (Quit: WeeChat 0.4.1)
[01:11:38] <halorgium> cmr: that would be my interpretation
[01:14:34] <aatch> cmr, it's a state machine
[01:14:43] <aatch> however, there is talk of removing the pipes compiler
[01:14:51] <aatch> Though nothing concrete atm.
[01:19:05] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[01:19:53] *** Quits: geomyidae (geomyidae@9FDA6BE2.37A86C23.448B98CC.IP) (Ping timeout)
[01:22:18] <bjz_> aatch: really?
[01:22:18] *** Joins: geomyidae (geomyidae@DD6F7E3A.21468E9A.30200F38.IP)
[01:22:31] <aatch> bjz_, yeah. It doesn
[01:22:46] <aatch> doesn't actually get much use.
[01:22:56] *** Joins: fenix (terror@A5D8F1E2.ECF89659.65DE0332.IP)
[01:23:02] <aatch> Like I said, just talk though.
[01:23:48] <bjz_> oh, yeah I don't use that
[01:24:08] <aatch> exactly.
[01:24:14] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[01:25:00] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[01:25:11] <aatch> Most of the time, pipes are just used for synchronization or returning values.
[01:25:41] <aatch> occasionally passing values, but that's actually not that common, since normally a Cell will do (and even that is just a workaround)
[01:25:58] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[01:26:11] <Jeaye> Are there any binary installers targetted at incoming for Windows?
[01:26:22] <aatch> Jeaye, nope
[01:26:25] <Jeaye> Damn
[01:26:53] <aatch> No installers targeted at incoming (unless you count strcat's Arch incoming package)
[01:27:07] <heftig> which isn't for windows, either
[01:27:27] <aatch> heftig, that's the point...
[01:27:28] *** Quits: Sorella (queen@B12A78F5.BA14766C.95C8B7C6.IP) (Quit: (quit))
[01:32:31] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[01:34:20] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[01:35:40] *** Joins: alisdair (textual@moz-EBE9F394.bchsia.telus.net)
[01:41:47] *** Joins: eholk (eholk@moz-9AB4D52F.hsd1.ut.comcast.net)
[01:43:48] <cmr> rusti: sys::size_of::<None>()
[01:43:53] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/SeIg
[01:43:59] <cmr> Ah
[01:44:10] <cmr> So how large is an enum variant?
[01:44:20] <cmr> Is it as large as the largest variant?
[01:48:34] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Client exited)
[01:52:25] *** Joins: gilesc (gilesc@moz-F233D9A3.ok.ok.cox.net)
[01:53:58] *** Quits: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP) (Quit: carllerche)
[01:54:25] <mcpherrin> cmr: it's a tag plus the size of the variant
[01:54:59] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[01:56:39] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[01:58:45] *** Parts: fenix (terror@A5D8F1E2.ECF89659.65DE0332.IP) ()
[01:59:44] *** Joins: brson (brson@63DCD950.E4213B29.318DADF5.IP)
[01:59:44] *** ChanServ sets mode: +o brson
[02:01:18] *** Quits: Mowah (Mowah@moz-B9D06A8A.cust.bredbandsbolaget.se) (Ping timeout)
[02:04:34] *** Joins: Mowah (Mowah@moz-B9D06A8A.cust.bredbandsbolaget.se)
[02:08:37] *** Quits: RMF (RMF@moz-DC96E1C8.dsl.telepac.pt) (Quit: Textual IRC Client: www.textualapp.com)
[02:11:44] <gilesc> complete noob here. I'm trying to use some of the string functions from here: http://static.rust-lang.org/doc/core/files/str-rs.html
[02:12:06] <gilesc> for reasons I don't understand, some work, some don't. here's my code: https://gist.github.com/gilesc/5654832
[02:13:16] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[02:14:07] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[02:21:22] <Yurumechan> gilesc: you should refer to http://static.rust-lang.org/doc/0.6/core/str.html instead, that is outdated.
[02:22:35] <Yurumechan> for example, `split_str` is now `each_split_str`.
[02:24:44] *** Joins: SimonSapin (simon@moz-99690620.hinet-ip.hinet.net)
[02:25:47] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[02:26:00] <gilesc> Yurumechan: excellent. thanks!
[02:26:38] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[02:27:35] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[02:28:26] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[02:30:38] *** Joins: RMF (RMF@moz-DC96E1C8.dsl.telepac.pt)
[02:30:58] *** Quits: RMF (RMF@moz-DC96E1C8.dsl.telepac.pt) (Quit: Textual IRC Client: www.textualapp.com)
[02:32:20] <bjz_> If I were to attempt to implement my own sub-set of Scheme in Rust, would it be better to implement my own GC, or can rust help me with that? Do you think @ would be sufficient?
[02:33:06] *** Quits: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net) (Quit: Leaving.)
[02:35:22] <aatch> bjz_, hmm, not sure. @ might be ok, though it doesn't handle cycles very well (annhilates at the end of the task).
[02:35:55] <aatch> At least, until graydon's GC is implemented
[02:36:40] *** Joins: RMF (RMF@moz-DC96E1C8.dsl.telepac.pt)
[02:36:40] <bjz_> yeah that's what I'm thinking
[02:36:53] <bjz_> looking beyond the current implementation
[02:39:09] <bjz_> I think scheme could be a nice language for game scripting, and as a data storage format. That's why I'm interested.
[02:41:21] <aatch> bjz_, how about making a more rust-like lisp dialect.
[02:41:31] <bjz_> oh yeah?
[02:41:35] <aatch> Rather than specifically a scheme dialect.
[02:41:42] <bjz_> how would that look?
[02:41:57] *** Joins: jeff (jeff@moz-A2645AF4.nycmny.east.verizon.net)
[02:41:59] *** Quits: kimundi (kimundi@moz-D417DC3B.dip0.t-ipconnect.de) (Ping timeout)
[02:42:01] <aatch> Then you can better map it to rust concepts
[02:42:09] *** Quits: jeff (jeff@moz-A2645AF4.nycmny.east.verizon.net) (Quit: jeff)
[02:42:16] <bjz_> it would be nice to have type safety :D
[02:42:27] <aatch> bjz_, not sure. Probably less reliance on the GC
[02:42:33] <bjz_> mmk
[02:43:03] *** Joins: leaper (Mibbit@moz-BD7D8526.cable.mindspring.com)
[02:43:14] <bjz_> aatch: have you implemented a lisp before?
[02:43:24] <aatch> Nope lol
[02:43:28] <bjz_> :)
[02:43:33] <bjz_> neither, hehe
[02:43:42] <aatch> Though I wouldn't mind helping out.
[02:44:00] <bjz_> that would be nice
[02:44:50] <bjz_> lisp-rs
[02:45:07] <aatch> the advantage of a lisp-like is that there isn't any syntax to worry about.
[02:45:07] *** Joins: kimundi (kimundi@moz-345A3880.dip0.t-ipconnect.de)
[02:45:10] <Axord> lirsp
[02:45:23] <bjz_> I like that
[02:45:34] <bjz_> lirsp
[02:45:37] <sp3d> rusp
[02:45:46] <bjz_> that's nice
[02:46:06] <bjz_> reminds me of s-exp too
[02:46:10] <bjz_> rusp
[02:46:19] <tiffany> rusty lisp
[02:47:21] *** kimundi is now known as zz_kimundi
[02:48:48] <Axord> Yeah, I like rusp
[02:48:58] <bjz_> aatch: added you as a collaborator
[02:49:06] <aatch> bjz_, cool
[02:49:15] <aatch> I'll take a look a bit later
[02:50:11] <bjz_> aatch: maybe starting off sketching out stuff in the wiki might be a way to go
[02:51:10] <aatch> bjz_, yeah, like example usage.
[02:51:31] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Quit: Eaten by a grue)
[02:51:37] <bjz_> aatch: primitives, philosophy
[02:51:57] <aatch> bjz_, ahh, that too lol
[02:53:10] <bjz_> https://github.com/bjz/rusp/wiki/Initial-sketches
[02:53:28] *** Quits: brson (brson@63DCD950.E4213B29.318DADF5.IP) (Ping timeout)
[02:54:24] <bjz_> Actually: https://github.com/bjz/rusp/wiki
[02:56:34] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[02:57:12] *** Joins: tikue (tkuehn@moz-CF8BEBEF.dia.static.qwest.net)
[02:57:51] *** Joins: brson (brson@6A848D32.C1B840DD.76F66111.IP)
[02:57:51] *** ChanServ sets mode: +o brson
[02:58:24] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[02:59:59] *** Quits: RMF (RMF@moz-DC96E1C8.dsl.telepac.pt) (Ping timeout)
[03:03:29] *** Joins: RMF (RMF@2947BE91.D199CED4.8D19547B.IP)
[03:03:48] *** Quits: brson (brson@6A848D32.C1B840DD.76F66111.IP) (Ping timeout)
[03:07:08] *** Joins: aruniiird (arun@84E199D6.DCDBCF8E.83D0DF30.IP)
[03:09:41] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[03:11:34] *** Quits: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP) (Quit: carllerche)
[03:14:41] *** Quits: nass (nass@4F314BB3.5408CE6B.B38D1DE0.IP) (Ping timeout)
[03:14:52] *** Joins: nass (nass@4F314BB3.5408CE6B.B38D1DE0.IP)
[03:15:07] *** Joins: catpigger (catpig@moz-FE9C02B0.dip0.t-ipconnect.de)
[03:15:09] *** Quits: Jesin (Jessin_@moz-83FA8843.res.lehigh.edu) (Ping timeout)
[03:16:09] *** Quits: catpig (catpig@moz-43225E55.dip0.t-ipconnect.de) (Ping timeout)
[03:20:44] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[03:22:40] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[03:23:17] *** Quits: tikue (tkuehn@moz-CF8BEBEF.dia.static.qwest.net) (Quit: tikue)
[03:24:05] *** Joins: sankha93 (Instantbir@4C08519B.3248B2C3.8B6C1D65.IP)
[03:27:27] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[03:29:19] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[03:30:45] *** Quits: sankha93 (Instantbir@4C08519B.3248B2C3.8B6C1D65.IP) (Ping timeout)
[03:31:10] *** Joins: sankha93 (Instantbir@4C08519B.3248B2C3.8B6C1D65.IP)
[03:31:26] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[03:32:57] *** Joins: Jesin (Jessin_@moz-A03A364F.cc.lehigh.edu)
[03:34:02] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[03:37:37] *** Quits: fairfieldt (fairfieldt@moz-D8998E1C.xen.prgmr.com) (Input/output error)
[03:41:58] *** Quits: mzabaluev (mzabaluev@moz-91FFD755.dhcp.inet.fi) (Ping timeout)
[03:42:43] *** Quits: eholk (eholk@moz-9AB4D52F.hsd1.ut.comcast.net) (Quit: eholk)
[03:43:34] *** Joins: tikue (tkuehn@moz-CF8BEBEF.dia.static.qwest.net)
[03:43:38] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[03:45:04] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[03:45:53] *** Quits: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP) (Quit: carllerche)
[03:46:01] *** Joins: int3_ (int3_@moz-B7B5F043.singnet.com.sg)
[03:47:01] *** Quits: int3_ (int3_@moz-B7B5F043.singnet.com.sg) (Client exited)
[03:47:06] <bjz_> aatch: http://clojure.org/special_forms
[03:48:57] <bjz_> aatch: I'm guessing it might be a good idea to also follow rust key words, where possible?
[03:49:07] <aatch> bjz_, yep.
[03:49:33] <bjz_> Also to aim for elegance, succinctness
[03:49:43] <bjz_> I like clojure in that regard
[03:50:02] <bjz_> aatch: https://github.com/bjz/rusp/wiki
[03:50:10] <bjz_> added some more stuff
[03:51:03] <aatch> I was also thinking to try and have some of the same general tools too, especially around memory management.
[03:51:14] <bjz_> mm
[03:51:37] <aatch> Though it would obviously not be nearly as strong as Rust proper
[03:51:48] <bjz_> the difficulty though is if we're aiming for a scripting language
[03:52:05] <aatch> Yeah, it's definitely in the nice-to-have pile
[03:52:23] <bjz_> you might want to be more abstract from the low-level details
[03:53:02] <bjz_> say if you were doing game dev, and wanted your level designers to use it
[03:53:12] <bjz_> or for data-exchange
[03:53:38] <bjz_> don't know how applicable pointers and stuff would be for that
[03:53:49] <bjz_> but I'm definitely open to being convinced
[03:53:51] <bjz_> :)
[03:54:01] *** Quits: leaper (Mibbit@moz-BD7D8526.cable.mindspring.com) (Quit: http://www.mibbit.com ajax IRC Client)
[03:54:29] <aatch> bjz_, it's more the "don't always need to use GC" side
[03:54:36] <bjz_> oh ok
[03:54:45] <bjz_> yeah
[03:54:49] <aatch> I have no idea how it would work though...
[03:55:24] <bjz_> no reason why we can't just do some hacking anyway
[03:55:40] <bjz_> as in, on the side
[03:56:06] <bjz_> along with trying to do things more formally in a document
[03:56:14] <bjz_> see what emerges
[03:57:31] <bjz_> if that makes sense
[03:57:53] *** Quits: sankha93 (Instantbir@4C08519B.3248B2C3.8B6C1D65.IP) (Ping timeout)
[03:58:11] <bjz_> aatch: what was your process with the date/time lib?
[03:58:15] *** Joins: sankha93 (Instantbir@4C08519B.3248B2C3.8B6C1D65.IP)
[03:58:15] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[03:58:26] <aatch> bjz_, not sure.
[03:58:30] <bjz_> aatch: it seems to have come together nicely
[03:58:43] <aatch> I have a lot of experience with date-time stuff so a lot of it was just obvious to me
[03:58:54] <aatch> I got bored though...
[03:58:54] <bjz_> heh
[03:59:15] <bjz_> well you've definitely made a serious dent in it
[03:59:29] <bjz_> I guess that's why it's good to have a few things on the go
[03:59:29] * aatch needs a challenge to keep him interested
[03:59:42] <bjz_> if you get bored, jump to something else
[03:59:48] <bjz_> then come back to it
[04:00:04] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[04:00:12] *** Quits: gilesc (gilesc@moz-F233D9A3.ok.ok.cox.net) (Quit: Lost terminal)
[04:01:09] <aatch> Right now I'm refactoring the LLVM pass handling
[04:01:24] <aatch> Which tbh, is actually rather boring.
[04:01:35] <aatch> but the later stuff is interesting.
[04:03:04] *** Quits: sankha93 (Instantbir@4C08519B.3248B2C3.8B6C1D65.IP) (Quit: Instantbird 1.4 -- http://www.instantbird.com)
[04:03:09] <bjz_> http://docs.racket-lang.org/ts-guide/
[04:05:23] *** Joins: l34ch (Mibbit@moz-CE4B705B.bois.qwest.net)
[04:09:57] *** Quits: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net) (Ping timeout)
[04:13:25] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke. It's all a joke.)
[04:14:51] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[04:16:45] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[04:18:22] *** Joins: brson (brson@6A848D32.C1B840DD.76F66111.IP)
[04:18:22] *** ChanServ sets mode: +o brson
[04:19:56] *** Quits: devbug (quassel@moz-E1DE087C.bchsia.telus.net) (Ping timeout)
[04:26:54] <lkuper> Is there any way to make a rustdoc executable without building rustc?
[04:27:17] * lkuper wants something like `make rustdoc`
[04:27:17] *** Joins: int3_ (int3_@moz-B7B5F043.singnet.com.sg)
[04:27:30] *** Quits: int3_ (int3_@moz-B7B5F043.singnet.com.sg) (Client exited)
[04:29:05] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[04:29:23] *** Quits: paulproteus (quassel@rose.makesad.us) (Client exited)
[04:29:38] *** Joins: paulproteus (quassel@moz-E86A3B42.makesad.us)
[04:30:49] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[04:31:32] *** Quits: paulproteus (quassel@rose.makesad.us) (Ping timeout)
[04:32:48] *** Joins: paulproteus (quassel@moz-E86A3B42.makesad.us)
[04:32:59] *** Quits: aruniiird (arun@84E199D6.DCDBCF8E.83D0DF30.IP) (Ping timeout)
[04:33:47] <bjz_> aatch: https://github.com/bjz/rusp/wiki#syntax-sketches
[04:37:03] <aatch> bjz_, looks good.
[04:37:32] <aatch> do we want dynamic scoping?
[04:37:53] <bjz_> lexical is sane, no?
[04:38:21] <aatch> bjz_, yep. dynamic has some advantages regarding cool tricks.
[04:38:24] *** Quits: tikue (tkuehn@moz-CF8BEBEF.dia.static.qwest.net) (Quit: tikue)
[04:38:38] <aatch> But I'm not sure what potential trade-offs that might incur
[04:39:06] <bjz_> we could have some small libraries to go with it
[04:39:39] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[04:40:08] *** Quits: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP) (Quit: carllerche)
[04:41:23] *** Joins: devbug (quassel@moz-E1DE087C.bchsia.telus.net)
[04:46:38] *** Quits: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net) (Ping timeout)
[04:49:39] *** Joins: steven_is_false (user@moz-144077DE.bchsia.telus.net)
[04:51:32] *** Joins: ferdinand (Mibbit@moz-745DDC74.sw.biz.rr.com)
[04:52:06] *** Quits: ferdinand (Mibbit@moz-745DDC74.sw.biz.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[04:52:18] <aatch> 99 pass creation functions later...
[04:54:06] <bjz_> ?
[04:54:28] <aatch> I'm exposing almost all of the LLVM passes in a C api
[04:54:43] <bjz_> ah
[04:54:55] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[04:54:55] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/ZvCB_A
[04:54:55] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[04:54:58] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[04:54:58] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/xz696Q
[04:54:58] <ghrust> 13rust/06auto 1406496ce 15Tim Chevalier: testsuite: Add two test cases that pass now
[04:54:58] <ghrust> 13rust/06auto 14776a85e 15bors: auto merge of #6692 : catamorphism/rust/testcases, r=bstrie
[04:54:59] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[04:56:27] <aatch> Now I need to put them in the Rust bindings...
[04:57:22] *** Quits: steven_is_false (user@moz-144077DE.bchsia.telus.net) (Ping timeout)
[04:58:54] <aatch> vim macros, what would I do without you?
[04:59:52] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[05:00:14] <Luqman> aatch: write perl scripts :P
[05:00:28] <aatch> Exactly. I'd be in hell
[05:00:47] *** Joins: pyrac (pyrac@moz-D851FA22.w92-149.abo.wanadoo.fr)
[05:01:37] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[05:03:13] *** Joins: doomlord (doomlod@moz-B63745D8.range86-176.btcentralplus.com)
[05:03:57] *** Joins: steven_is_false (user@moz-144077DE.bchsia.telus.net)
[05:05:46] *** Joins: haard (fredrik@moz-6A86987C.dynamic.se.alltele.net)
[05:08:39] *** Quits: haard (fredrik@moz-6A86987C.dynamic.se.alltele.net) (Ping timeout)
[05:08:58] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[05:10:45] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[05:16:37] *** Quits: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[05:16:39] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[05:17:55] *** Quits: catpigger (catpig@moz-FE9C02B0.dip0.t-ipconnect.de) (Quit: Verlassend)
[05:25:37] <bjz> aatch: https://github.com/bjz/rusp/wiki#example-usage
[05:26:20] <bjz> rusp::parse would return an enum, rusp::Expr
[05:27:14] <aatch> looks good
[05:27:31] *** Joins: steveklabnik (steve@moz-31F4139E.hfc.comcastbusiness.net)
[05:27:39] *** Quits: jaen (jaen@moz-8581ECC8.play-internet.pl) (Ping timeout)
[05:27:42] <steven_is_false> I think that approach is too controlling. Why not do something like libpeas where the goal is to get as many possible bindings, as one can?
[05:27:57] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[05:27:58] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14776a85e to 14f5d4ea8: 02http://git.io/N3iJvQ
[05:27:58] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[05:27:59] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[05:27:59] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/cGwJqw
[05:27:59] <ghrust> 13rust/06auto 141009c21 15Lenny222: show options for -W help and -W
[05:27:59] <ghrust> 13rust/06auto 14fa67e09 15bors: auto merge of #6719 : kud1ing/rust/rustc_w, r=bstrie...
[05:27:59] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[05:28:19] *** Joins: haard (fredrik@18E6EC45.6A26450D.BE04C429.IP)
[05:28:37] <bjz> steven_is_false: ?
[05:29:15] <bjz> who is that aimed at?
[05:29:23] *** Joins: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP)
[05:29:23] *** Quits: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP) (Z:lined (Open Proxy found on your host. Please visit www.blitzed.org/proxy?ip=115.68.131.49 for more information.))
[05:29:27] <bjz> (your comment)
[05:30:08] <steven_is_false> bjz: I was commenting on the link in order to get feed back, and see whether I was wrong.
[05:30:36] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[05:32:17] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[05:32:18] *** Joins: aruniiird (arun@92D70115.B332A52C.E3D0A897.IP)
[05:32:39] *** Parts: steven_is_false (user@moz-144077DE.bchsia.telus.net) (ERC Version 5.3 (IRC client for Emacs))
[05:35:17] *** Quits: brson (brson@6A848D32.C1B840DD.76F66111.IP) (Quit: leaving)
[05:44:52] *** Quits: blitter (blitter@moz-E761A52F.dyn.centurytel.net) (Ping timeout)
[05:46:44] *** Quits: steveklabnik (steve@moz-31F4139E.hfc.comcastbusiness.net) (Ping timeout)
[05:52:17] *** Quits: alisdair (textual@moz-EBE9F394.bchsia.telus.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[05:56:30] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[06:00:32] *** Joins: mzabaluev (mzabaluev@moz-91FFD755.dhcp.inet.fi)
[06:00:35] *** Quits: cscottnet_away (cscott@moz-2577C94A.net) (Client exited)
[06:01:23] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[06:01:29] *** Joins: dbaupp (Thunderbir@moz-EBCB5EF.lns20.syd6.internode.on.net)
[06:02:44] *** Quits: pyrac (pyrac@moz-D851FA22.w92-149.abo.wanadoo.fr) (Quit: pyrac)
[06:03:04] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[06:03:05] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[06:04:05] *** aatch is now known as aatch|gone
[06:04:52] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[06:05:35] *** Quits: mzabaluev (mzabaluev@moz-91FFD755.dhcp.inet.fi) (Ping timeout)
[06:07:25] *** Joins: jack (jack@2557E599.66715431.D25A875A.IP)
[06:07:47] *** Quits: Earnestly (earnest@6A917A59.5E1FD793.39C00A7A.IP) (Ping timeout)
[06:15:49] *** Joins: pyrac (pyrac@moz-D851FA22.w92-149.abo.wanadoo.fr)
[06:15:55] *** Joins: sankha93 (Instantbir@87537C12.610726A5.BE90E62C.IP)
[06:20:19] *** Quits: pyrac (pyrac@moz-D851FA22.w92-149.abo.wanadoo.fr) (Quit: pyrac)
[06:20:19] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[06:22:25] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[06:22:25] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/cGwJqw
[06:22:25] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[06:28:11] *** Joins: mflamer (Mibbit@moz-C6ED16AA.hsd1.ca.comcast.net)
[06:32:11] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[06:34:00] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[06:41:26] *** Joins: fabiand (fabiand@moz-C99D1569.adsl.alicedsl.de)
[06:41:48] *** Joins: jaen (jaen@moz-703E0CE1.play-internet.pl)
[06:57:11] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[06:57:16] *** Joins: fearless (Mibbit@moz-7E0E031.jax.bellsouth.net)
[06:57:57] <fearless> http://introverted-genius.blogspot.com/
[06:58:40] *** Quits: devbug (quassel@moz-E1DE087C.bchsia.telus.net) (Client exited)
[06:58:49] *** Quits: fearless (Mibbit@moz-7E0E031.jax.bellsouth.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:59:00] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[07:01:11] *** Joins: pyrac (pyrac@9F71F32A.73C89388.AD05C589.IP)
[07:02:44] *** Quits: jaen (jaen@moz-703E0CE1.play-internet.pl) (Ping timeout)
[07:02:57] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[07:04:39] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[07:05:34] *** Quits: l34ch (Mibbit@moz-CE4B705B.bois.qwest.net) (Quit: http://www.mibbit.com ajax IRC Client)
[07:22:38] *** Joins: webber46 (webber46@moz-AC14FDEA.se)
[07:25:08] *** Quits: pyrac (pyrac@9F71F32A.73C89388.AD05C589.IP) (Quit: pyrac)
[07:25:42] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[07:33:46] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[07:34:32] *** Joins: berak (chatzilla@39FCA9FF.4742BCFA.1A5CC7E5.IP)
[07:35:31] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[07:35:50] *** Joins: mschifer (Adium@D9DE8DD6.29D23E98.3646F6BA.IP)
[07:36:11] *** Quits: mschifer (Adium@D9DE8DD6.29D23E98.3646F6BA.IP) (Quit: Leaving.)
[07:40:24] *** Joins: doener (bs@moz-AA189A5A.unitymedia.biz)
[07:41:43] *** Joins: Blub\w (wry@moz-348B4E4B.wireless.dyn.drei.com)
[07:42:53] *** Quits: mflamer (Mibbit@moz-C6ED16AA.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[07:44:28] *** Joins: jviereck (Adium@moz-340574DC.dclient.hispeed.ch)
[07:48:02] *** Quits: jack (jack@2557E599.66715431.D25A875A.IP) (Quit: Leaving.)
[07:49:52] *** Quits: SimonSapin (simon@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[07:50:17] *** zz_kimundi is now known as kimundi
[07:50:18] *** Quits: caitp (caitp@moz-9FE842F.cpe.net.cable.rogers.com) (Quit: caitp)
[07:50:53] *** Quits: geomyidae (geomyidae@DD6F7E3A.21468E9A.30200F38.IP) (Ping timeout)
[07:50:57] *** Joins: mschifer (Adium@D9DE8DD6.29D23E98.3646F6BA.IP)
[07:51:18] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[07:53:00] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[07:53:25] *** Joins: donri (dag@moz-9BB61102.tbcn.telia.com)
[07:53:29] *** Joins: geomyidae (geomyidae@DD6F7E3A.21468E9A.30200F38.IP)
[07:58:24] *** Joins: snowstalker (swaroop@4F709CB7.7242A5A6.650F25DA.IP)
[08:00:53] *** Parts: mschifer (Adium@D9DE8DD6.29D23E98.3646F6BA.IP) ()
[08:04:32] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[08:05:17] *** Quits: geomyidae (geomyidae@DD6F7E3A.21468E9A.30200F38.IP) (Ping timeout)
[08:06:22] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[08:06:47] *** Joins: geomyidae (geomyidae@DD6F7E3A.21468E9A.30200F38.IP)
[08:08:31] *** Quits: snowstalker (swaroop@4F709CB7.7242A5A6.650F25DA.IP) (Quit: snowstalker)
[08:08:34] *** Joins: snowstalker (snowstalke@4F709CB7.7242A5A6.650F25DA.IP)
[08:08:55] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[08:10:48] *** Joins: SimonSapin (simon@moz-99690620.hinet-ip.hinet.net)
[08:14:49] *** Quits: mitsuhiko (mitsuhiko-@moz-BC29B73E.srv.pocoo.org) (Ping timeout)
[08:15:09] *** Joins: mitsuhiko (mitsuhiko-@moz-BC29B73E.srv.pocoo.org)
[08:17:37] *** Quits: geomyidae (geomyidae@DD6F7E3A.21468E9A.30200F38.IP) (Ping timeout)
[08:19:44] *** Quits: sankha93 (Instantbir@87537C12.610726A5.BE90E62C.IP) (Ping timeout)
[08:20:07] *** Joins: geomyidae (geomyidae@DD6F7E3A.21468E9A.30200F38.IP)
[08:26:03] *** Joins: sankha93 (Instantbir@255349C2.E4B85B81.D2D1FAF0.IP)
[08:27:13] *** Quits: webber46 (webber46@moz-AC14FDEA.se) (Quit: webber46)
[08:27:16] *** Joins: webber46 (webber46@moz-AC14FDEA.se)
[08:30:41] <dbaupp> bjz: ping
[08:30:49] <bjz> dbaupp: pong
[08:30:50] <dbaupp> (and/or aatch)
[08:30:56] *** Quits: geomyidae (geomyidae@DD6F7E3A.21468E9A.30200F38.IP) (Ping timeout)
[08:31:01] <dbaupp> I saw your rusp thing, looks cool
[08:31:32] <bjz> yeah. early days
[08:31:43] <dbaupp> it'd be awesome if it fitted with the rust tokeniser, so a rusp!(...) syntax extension works :)
[08:31:55] <bjz> heh :D
[08:32:10] <bjz> no idea how that's work
[08:32:18] <bjz> *that'd
[08:32:30] <dbaupp> well, a syntax extension just recieves a vector of tokens
[08:32:38] <dbaupp> and it can do whatever it wants with them
[08:32:56] <dbaupp> (e.g. TOKEN_LPAREN and TOKEN_INT etc)
[08:33:00] <bjz> mm
[08:33:45] <dbaupp> and so rusp!( (+ 1 2) ) would get passed ['(', '+', 1, 2, ')']
[08:33:54] *** Joins: geomyidae (geomyidae@DD6F7E3A.21468E9A.30200F38.IP)
[08:34:19] <dbaupp> (it's no different to handling a string, except it's been pretokenised)
[08:35:21] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[08:35:29] <bjz> if you have any ideas, or want to start hacking your own thing together, by all means. I'm really open to help.
[08:35:55] <bjz> dbaupp: https://github.com/bjz/rusp/wiki#syntax-sketches
[08:36:30] *** Parts: berak (chatzilla@39FCA9FF.4742BCFA.1A5CC7E5.IP) ()
[08:36:45] <dbaupp> bjz: awesome :) I'll think about it
[08:37:10] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[08:37:59] <dbaupp> although, using the rust tokeniser means that you can't tell the difference between 'a-b' and 'a - b', 'a:b' and 'a :b' and so on, not sure if this is a worthwhile trade-off...
[08:38:17] <bjz> yeah
[08:38:32] <bjz> I think it might be strings unfortunately :(
[08:38:59] <dbaupp> :(
[08:39:04] <bjz> :[[
[08:39:40] *** Joins: hansjorg (hansjorg@moz-EECB5F79.static.cust.telenor.com)
[08:42:56] <dbaupp> bjz: I'll add a note about this idea to the wiki page, just so it doesn't get forgotten :)
[08:43:04] <bjz> sure
[08:43:11] <bjz> what's you github name?
[08:44:28] <dbaupp> huonw
[08:44:59] *** Joins: Earnestly (earnest@6A917A59.5E1FD793.39C00A7A.IP)
[08:45:16] <bjz> added you as a collaborator
[08:45:24] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[08:46:31] <dbaupp> oh, thanks! :)
[08:47:03] *** Quits: jviereck (Adium@moz-340574DC.dclient.hispeed.ch) (Quit: Leaving.)
[08:47:15] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[08:53:17] <dbaupp> bjz: added :)
[08:54:24] <madmoose> rusp looks cool. I made a very basic s-expression evaluator in C that could evaluate an evaluator. No GC at all though :)
[08:57:49] *** Joins: barosl (barosl@1E71221E.C81E10FB.7544CABF.IP)
[08:58:06] *** Joins: EXetoC (ex@moz-C741B177.customer.t3.se)
[09:05:21] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[09:06:10] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[09:07:25] *** Joins: jviereck (Adium@moz-BA1D85DC.dclient.hispeed.ch)
[09:07:56] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[09:12:57] *** Quits: EXetoC (ex@moz-C741B177.customer.t3.se) (Quit: WeeChat 0.4.1)
[09:15:46] *** Quits: geomyidae (geomyidae@DD6F7E3A.21468E9A.30200F38.IP) (Ping timeout)
[09:17:26] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Input/output error)
[09:18:13] *** Joins: geomyidae (geomyidae@DD6F7E3A.21468E9A.30200F38.IP)
[09:21:06] *** Joins: EXetoC (ex@moz-C741B177.customer.t3.se)
[09:24:41] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[09:24:48] *** Quits: Nisstyre (wes@moz-FD86289.netflash.net) (Quit: Leaving)
[09:28:31] *** Joins: pnkfelix (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net)
[09:28:36] *** Joins: pnkfelix|rcirc (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net)
[09:29:56] *** Quits: geomyidae (geomyidae@DD6F7E3A.21468E9A.30200F38.IP) (Ping timeout)
[09:31:21] *** Quits: KindOne (KindOne@moz-D175B296.dynamic.ip.windstream.net) (Ping timeout)
[09:32:30] *** Joins: KindOne (KindOne@moz-D175B296.dynamic.ip.windstream.net)
[09:32:34] *** Joins: geomyidae (geomyidae@DD6F7E3A.21468E9A.30200F38.IP)
[09:34:55] *** Quits: aruniiird (arun@92D70115.B332A52C.E3D0A897.IP) (Ping timeout)
[09:37:01] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[09:37:19] *** Quits: KindOne (KindOne@moz-D175B296.dynamic.ip.windstream.net) (Ping timeout)
[09:38:39] *** kimundi is now known as zz_kimundi
[09:38:51] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[09:39:31] *** zz_kimundi is now known as kimundi
[09:39:31] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[09:40:54] <z0w0> bjz: heh, i was actually thinking of making my own rust dialect as well
[09:40:59] <z0w0> but i was going to make it compile to JS as well
[09:41:06] *** Joins: KindOne (KindOne@moz-D175B296.dynamic.ip.windstream.net)
[09:41:07] <bjz> :)
[09:41:15] <z0w0> al
[09:41:17] <z0w0> also*
[09:41:19] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[09:41:27] <z0w0> i think you should go with let instead of def :)
[09:41:28] <bjz> making headway into eval
[09:41:28] <z0w0> keeps things consistent
[09:41:34] <bjz> yeah
[09:41:53] <bjz> I'll use def for let then XD
[09:42:02] <bjz> (jk)
[09:42:10] <bjz> brb
[09:42:38] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[09:43:03] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[09:43:03] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/YgnSYQ
[09:43:03] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[09:43:06] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[09:43:06] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/2NJIBw
[09:43:06] <ghrust> 13rust/06auto 14998cbbd 15ILyoan: update ctags define
[09:43:06] <ghrust> 13rust/06auto 14a6b05b3 15bors: auto merge of #6761 : ILyoan/rust/ctags, r=thestinger
[09:43:06] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[09:45:26] <z0w0> bjz: i wouldn't mind helping out with this when you think it's ready :)
[09:46:13] *** Joins: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP)
[09:46:55] *** Joins: gour (chatzilla@moz-F900198B.adsl.net.t-com.hr)
[09:47:12] <bjz> sure thing
[09:47:29] *** Quits: geomyidae (geomyidae@DD6F7E3A.21468E9A.30200F38.IP) (Ping timeout)
[09:49:53] *** Joins: aruniiird (arun@92D70115.B332A52C.E3D0A897.IP)
[09:49:56] *** Joins: geomyidae (geomyidae@DD6F7E3A.21468E9A.30200F38.IP)
[09:50:39] <gour> morning
[09:51:07] <bjz> evening
[09:51:15] *** Quits: sankha93 (Instantbir@255349C2.E4B85B81.D2D1FAF0.IP) (Ping timeout)
[09:53:06] <gour> i was asking about possibility to have rust bindings for qt yesterday and then discovered cobra language which uses .net/mono and qyuto for binding qt. considering i do not know much about C3, i wonder if there are some similarities between the two language which could help making qt bindings for rust? 
[09:53:24] *** Joins: pyrac (pyrac@9F71F32A.73C89388.AD05C589.IP)
[09:58:11] <friggle> gour: far from an expert on this topic, but as I understand it qyoto uses SMOKE which is something like gobject-introspection for Qt/KDE
[09:59:33] <gour> friggle: yes, it uses SMOKE, but i wonder about if there are some similarity in memory mgmt so that qt bindings for rust (via SMOKE) might be feasible?
[09:59:58] *** Quits: snowstalker (snowstalke@4F709CB7.7242A5A6.650F25DA.IP) (Quit: snowstalker)
[10:00:05] *** kimundi is now known as zz_kimundi
[10:02:16] *** Joins: snowstalker (snowstalke@4F709CB7.7242A5A6.650F25DA.IP)
[10:05:31] *** Quits: pcdummy (quassel@moz-CF4CA865.page4me.ch) (Ping timeout)
[10:06:02] *** Joins: pcdummy (quassel@moz-CF4CA865.page4me.ch)
[10:07:44] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[10:09:33] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[10:09:39] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[10:12:56] *** zz_kimundi is now known as kimundi
[10:13:48] *** Joins: vmx (vmx@moz-4CCF4A47.dip0.t-ipconnect.de)
[10:15:09] <kimundi> Hm, a mixture of ljua and rust might be nice
[10:15:17] <kimundi> err, lua
[10:16:01] *** Joins: justsomeguy (bzlandfill@moz-21D7F518.addr.tdcsong.se)
[10:16:44] <kimundi> dynamic typing, universal table constructs, but optional type assertions and less relying on a garbage collector
[10:17:36] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[10:18:38] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[10:19:01] *** Quits: pyrac (pyrac@9F71F32A.73C89388.AD05C589.IP) (Quit: pyrac)
[10:20:28] <justsomeguy> Hey. I'm wondering if there is an opposition to including actual example code in the documentation/API-reference? Or is it just that there haven't been enough time to actually do it? 
[10:22:36] *** Quits: jviereck (Adium@moz-BA1D85DC.dclient.hispeed.ch) (Ping timeout)
[10:24:27] <strcat> justsomeguy: there isn't opposition to it, it just takes a lot of time to write examples and add tests for them
[10:24:28] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Ping timeout)
[10:24:53] <strcat> justsomeguy: http://static.rust-lang.org/doc/core/iter.html every fn there has an example
[10:26:21] <justsomeguy> I see, thank you strcat 
[10:28:00] *** Joins: jviereck (Adium@moz-340574DC.dclient.hispeed.ch)
[10:28:26] <engla> kimundi: something similar to this? http://terralang.org/
[10:28:34] *** Quits: noam_ (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[10:28:39] *** Quits: justsomeguy (bzlandfill@moz-21D7F518.addr.tdcsong.se) (Quit: CGI:IRC)
[10:30:30] *** Quits: jviereck (Adium@moz-340574DC.dclient.hispeed.ch) (Quit: Leaving.)
[10:36:58] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[10:36:58] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/2NJIBw
[10:36:58] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[10:37:30] *** Joins: sankha93 (Instantbir@E1EFFE9B.5D8AE2D8.D2D1FAF0.IP)
[10:38:32] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[10:39:26] <kimundi> engla: Hm a rust binding to terra sounds useful.
[10:40:16] <kimundi> Would effectivly offer a spectrum of how low level you want to be in your application
[10:40:22] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[10:40:37] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[10:41:11] <cmr> A *nice* lua binding would be incredible.
[10:41:24] <cmr> ie, one where you're not manipulating the stack yourself...
[10:43:21] *** Quits: KindOne (KindOne@moz-D175B296.dynamic.ip.windstream.net) (Ping timeout)
[10:44:18] *** Joins: KindOne (KindOne@moz-A553DDF.dynamic.ip.windstream.net)
[10:45:36] <cmr> gour: it looks like SMOKE would be usable to create Qt bindings.
[10:45:44] <cmr> However, I'm not sure what the performance hit would be.
[10:45:56] <cmr> It looks like smoke imposes a fair bit of overhead.
[10:46:32] *** Joins: KindTwo (KindOne@moz-A553DDF.dynamic.ip.windstream.net)
[10:46:39] *** Quits: KindOne (KindOne@moz-A553DDF.dynamic.ip.windstream.net) (Ping timeout)
[10:46:57] <kimundi> cmr: once dynamic syntax extensions work you could just define some attributes that autognerate lua wrappers.
[10:47:44] *** KindTwo is now known as KindOne
[10:50:25] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[10:51:27] *** Quits: z0w0 (zack@moz-A5D3D7C0.lns3.woo.bigpond.net.au) (Ping timeout)
[10:51:27] *** Joins: gareth0 (gareth0@moz-901C75EB.dynamic.dsl.as9105.com)
[10:51:28] *** Quits: KindOne (KindOne@moz-A553DDF.dynamic.ip.windstream.net) (Ping timeout)
[10:55:22] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[10:55:38] *** Joins: KindOne (KindOne@moz-9D305824.dynamic.ip.windstream.net)
[10:58:02] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Quit: Eaten by a grue)
[10:58:50] <cmr> gour: https://github.com/reusee/go-qt/blob/master/cqt/cqt.cpp
[10:59:51] *** Joins: z0w0 (zack@moz-A5D3D7C0.lns3.woo.bigpond.net.au)
[11:00:14] *** Quits: KindOne (KindOne@moz-9D305824.dynamic.ip.windstream.net) (Ping timeout)
[11:01:32] *** Joins: KindOne (KindOne@moz-850663D9.dynamic.ip.windstream.net)
[11:01:45] <cmr> gour: I think it's definitely feasible :)
[11:03:40] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[11:05:33] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[11:05:56] *** Quits: aruniiird (arun@92D70115.B332A52C.E3D0A897.IP) (Ping timeout)
[11:09:20] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[11:10:07] *** Joins: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net)
[11:11:10] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[11:13:32] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.1)
[11:13:42] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[11:16:18] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[11:20:25] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[11:22:01] *** Quits: doener (bs@moz-AA189A5A.unitymedia.biz) (Quit: leaving)
[11:22:46] <dbaupp> bjz: parsing would be much easier if there wasn't a distinction between Call and If and Define
[11:23:06] <dbaupp> (I've got a tokeniser that seems to work, but parsing is tricker...)
[11:23:57] *** Joins: pyrac (pyrac@moz-9B8C3E8A.math.u-bordeaux1.fr)
[11:24:42] *** Joins: snearch (snearch@moz-E718D633.pool.mediaways.net)
[11:25:30] *** Joins: aruniiird (arun@92D70115.B332A52C.E3D0A897.IP)
[11:28:29] <cmr> dbaupp: there needs to be a distinction, they need to be special forms
[11:28:41] <cmr> well, I suppose you could switch on the ident during eval...
[11:28:41] <bjz> dbaupp: https://gist.github.com/bjz/2e750277ad374422baa8
[11:29:10] <cmr> but that adds an extra string comparison where there need be none
[11:29:16] <dbaupp> bjz: yeah, I cloned the repo, etc
[11:29:23] <bjz> dbaupp: pretty horrid
[11:29:57] <bjz> dbaupp: I was looking at how this fellow was doing it: http://norvig.com/lispy.html
[11:29:59] <gour> cmr: thaks
[11:30:06] *** Quits: KindOne (KindOne@moz-850663D9.dynamic.ip.windstream.net) (Ping timeout)
[11:30:10] <gour> *thanks
[11:30:31] <dbaupp> bjz: ah, right... I guess Norvig's a reasonable guy to imitate ;)
[11:30:39] <bjz> dbaupp: :)
[11:31:06] <bjz> dbaupp: doesn't mean we can't deviate
[11:31:14] <bjz> dbaupp: or scrap my muddlings
[11:31:18] <jensnockert> Good morning.
[11:31:30] <bjz> evening
[11:31:31] <dbaupp> it looks like he does just parse (if foo bar baz) into the same structure as (blah foo bar baz)
[11:31:33] <cmr> gour: I'm going to give a shot at bindings later today, if you aren't
[11:31:46] <dbaupp> bjz: and then switch on 'if'/'blah'
[11:32:22] <bjz> dbaupp: his is very basic, it doesn't tackle tail recursion. I assume that magic would happen in Call
[11:32:51] <dbaupp> bjz: ah right... is tail recursion a goal?
[11:32:56] <bjz> dbaupp: but it got me started
[11:33:05] <bjz> dbaupp: would be nice to have that
[11:33:17] <bjz> dbaupp: but yeah, we'll see :)
[11:33:42] <dbaupp> clojure's loop/recur is pretty good as a stand in for tail recursion
[11:33:51] <bjz> aye
[11:34:13] *** Joins: KindOne (KindOne@moz-920ECBCF.dynamic.ip.windstream.net)
[11:34:54] <bjz> dbaupp: my tests are currently passing, should I just push what I have for now?
[11:34:58] *** Joins: sk (sk@5F3B8500.CB2CB346.78DD174B.IP)
[11:35:13] <dbaupp> bjz: sure... it's your project :)
[11:35:29] <bjz> dbaupp: oh, but you seem to be working on it :D
[11:35:44] *** Quits: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net) (Quit: Leaving.)
[11:36:09] <dbaupp> bjz: I'll just do the tokenising and parsing for now...
[11:36:33] <dbaupp> (I *really* should be working on my assignments, heh)
[11:36:46] <bjz> hehe
[11:36:47] <bjz> :D
[11:37:09] <bjz> shouldn't be *too* tricky
[11:38:35] <dbaupp> the assignment is
[11:38:36] <dbaupp> :P
[11:38:44] <bjz> hehe
[11:38:47] *** Quits: KindOne (KindOne@moz-920ECBCF.dynamic.ip.windstream.net) (Ping timeout)
[11:38:47] <bjz> what is it?
[11:39:12] <dbaupp> maths: metric spaces
[11:39:20] <bjz> :O
[11:39:42] <dbaupp> proving stuff, and so on
[11:39:52] <bjz> http://en.wikipedia.org/wiki/Metric_space?
[11:39:54] <dbaupp> (I should go to more lectures, I've decided)
[11:39:56] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[11:39:56] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/FILmLA
[11:39:56] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[11:39:57] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[11:39:57] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/WDvpfA
[11:39:57] <ghrust> 13rust/06auto 14ee1b419 15Graydon Hoare: revert no-longer-required workaround for mystery bug, close #3396
[11:39:57] <ghrust> 13rust/06auto 14d577eaf 15bors: auto merge of #6688 : graydon/rust/issue-3396-mystery-bug-in-metadata, r=Aatch...
[11:39:57] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[11:40:05] <dbaupp> bjz: yup
[11:40:11] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[11:40:20] <bjz> neat
[11:41:53] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[11:42:01] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[11:44:06] <bjz> z0w0: ping
[11:45:00] *** Joins: jviereck (Adium@moz-516569DE.ethz.ch)
[11:47:40] *** Joins: MaikKlein (maik@moz-A3453BF6.dip0.t-ipconnect.de)
[11:50:46] <z0w0> bjz: pong
[11:51:38] *** Joins: doener (doener@moz-121949B3.unitymediagroup.de)
[11:53:09] *** Quits: katis (katis@40C8AF65.EFDC2270.EE6E63A5.IP) (Quit: WeeChat 0.3.7)
[11:53:42] *** Joins: katis (katis@40C8AF65.EFDC2270.EE6E63A5.IP)
[11:57:00] *** Joins: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net)
[11:57:05] *** Quits: z0w0 (zack@moz-A5D3D7C0.lns3.woo.bigpond.net.au) (Quit: Leaving.)
[11:57:36] *** Quits: wilsonk|2 (kvirc@moz-39EFBFC2.cg.shawcable.net) (Ping timeout)
[11:57:45] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[11:59:09] *** Joins: vosen (vosen@moz-266BA656.icpnet.pl)
[11:59:35] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[12:04:11] *** Joins: KindOne (KindOne@moz-764EC586.dynamic.ip.windstream.net)
[12:05:36] *** Quits: katis (katis@40C8AF65.EFDC2270.EE6E63A5.IP) (Quit: WeeChat 0.3.7)
[12:05:39] *** Joins: katis (katis@40C8AF65.EFDC2270.EE6E63A5.IP)
[12:07:53] *** Quits: doomlord (doomlod@moz-B63745D8.range86-176.btcentralplus.com) (Ping timeout)
[12:09:00] *** Joins: kyle2000 (kyle2000@D3528B97.7E2E8376.3031298E.IP)
[12:09:32] *** Quits: pyrac (pyrac@moz-9B8C3E8A.math.u-bordeaux1.fr) (Quit: pyrac)
[12:10:54] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[12:12:04] <kyle2000> is std::net broken right now?
[12:12:13] <kyle2000> i'm trying to compile a very simple program
[12:12:17] *** Joins: judder (maradukewa@385DDD8F.206937E4.78E362FE.IP)
[12:12:25] <kyle2000> fn main(){ std::net::ip::v4::parse_addr("127.0.0.1"); }
[12:12:35] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[12:13:01] <kyle2000> but rustc tells me: "error: unresolved import: could not find `net` in `std`."
[12:13:08] <doener> kyle2000: std is extra now
[12:13:18] <doener> core was renamed to std
[12:15:13] <EXetoC> a simple search and replace might do. just get the order right :>
[12:15:58] *** Joins: pyrac (pyrac@9F71F32A.73C89388.AD05C589.IP)
[12:16:27] <kyle2000> doener: right i saw that when i did a rebuild of rust from incoming a couple of days ago.
[12:16:31] <kyle2000> fn main(){ extra::net::ip::v4::parse_addr("127.0.0.1"); }
[12:16:37] <kyle2000> that wasnt compiling for me either
[12:16:49] <kyle2000> "error: unresolved name"
[12:16:58] <kyle2000> i will rebuild my rust. maybe that will fix it.
[12:17:43] <kyle2000> the core -> std and std -> extra change has been painful for a fellow like me who doesn't get to use rust every day. :(
[12:17:54] *** Quits: gour (chatzilla@moz-F900198B.adsl.net.t-com.hr) (Quit: ChatZilla 0.9.90 [Iceweasel 20.0/20130402193240])
[12:18:54] <kimundi> kyle2000: Do you have a extern mod extra; at the top of your file?
[12:19:12] *** Quits: MaikKlein (maik@moz-A3453BF6.dip0.t-ipconnect.de) (Ping timeout)
[12:19:30] <EXetoC> extra::net_ip::v4::parse_addr?
[12:19:32] <kyle2000> kimundi: i didn't. i don't remember having to do that with std. but that does fix it.
[12:19:40] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[12:20:17] <kimundi> kyle2000: Only libstd si linked in per default. All other libaries including libextr need to be explicitly linked against with 'extern mod' :)
[12:20:37] <EXetoC> ok but where is the ip mod?
[12:20:54] <EXetoC> rather than net_ip
[12:21:01] <kyle2000> exetoc: my net.rs file aliases net_ip to net::ip.
[12:21:23] <kyle2000> not my file but the one that rust provides.
[12:21:40] <EXetoC> oh
[12:21:46] <EXetoC> alright
[12:21:49] <kyle2000> kimundi: thanks so much. maybe i got confused because old std is now extra.
[12:23:56] <kyle2000> i'm just an average programmer. i'm kinda dumb too. so i find the standard libraries stuff kinda confusing. like why is something important like networking considered "extra"? like i know not every app or library will use it but i think it is still real core functionality.
[12:25:08] *** Quits: kyle2000 (kyle2000@D3528B97.7E2E8376.3031298E.IP) (Quit: Leaving)
[12:28:43] *** Quits: wycats_ (uid79@moz-D8B63698.irccloud.com) (Ping timeout)
[12:28:58] *** Quits: chadz (uid979@moz-D8B63698.irccloud.com) (Ping timeout)
[12:29:10] *** Quits: sk (sk@5F3B8500.CB2CB346.78DD174B.IP) (Ping timeout)
[12:30:38] *** Joins: threecreepio (jdp@moz-F2D425CF.business.telia.com)
[12:31:08] *** Joins: chadz (uid979@moz-D8B63698.irccloud.com)
[12:36:57] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[12:36:57] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/WDvpfA
[12:36:57] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[12:39:14] *** Joins: foodoo (foodoo@moz-563BCE6E.molgen.mpg.de)
[12:39:15] *** Joins: caitp (caitp@moz-9FE842F.cpe.net.cable.rogers.com)
[12:41:37] *** Joins: maxli (maxli@F2D29657.F60B0462.67AC9B1.IP)
[12:41:42] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[12:43:31] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[12:44:03] *** Quits: caitp (caitp@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[12:48:58] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[12:49:06] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[12:51:09] *** Quits: aruniiird (arun@92D70115.B332A52C.E3D0A897.IP) (Ping timeout)
[12:58:31] *** Joins: caitp (caitp@moz-9FE842F.cpe.net.cable.rogers.com)
[13:01:30] <gareth0> r? https://github.com/mozilla/rust/pull/6433
[13:03:06] *** Joins: hmax_ (hmax@moz-15514FA1.yandex.net)
[13:06:51] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[13:06:51] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/a9h_HA
[13:06:51] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[13:06:58] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[13:06:58] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/f2tYpw
[13:06:58] <ghrust> 13rust/06auto 1476c3121 15gareth: Refactor core::run in order to address many of the issues...
[13:06:58] <ghrust> 13rust/06auto 1449a1ab8 15gareth: Make test_change_working_directory change the current...
[13:06:58] <ghrust> 13rust/06auto 1404a3935 15gareth: Rename unwrap_input/unwrap_output as suggested by...
[13:07:00] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[13:08:00] *** Joins: BitPuffin (quassel@moz-8370D1B9.bredband.comhem.se)
[13:10:13] *** Quits: snowstalker (snowstalke@4F709CB7.7242A5A6.650F25DA.IP) (Quit: snowstalker)
[13:10:49] *** Joins: snowstalker (snowstalke@4F709CB7.7242A5A6.650F25DA.IP)
[13:12:29] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[13:14:15] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[13:22:21] *** Joins: steveklabnik (steve@moz-31F4139E.hfc.comcastbusiness.net)
[13:23:03] *** Quits: jviereck (Adium@moz-516569DE.ethz.ch) (Quit: Leaving.)
[13:24:23] *** Joins: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net)
[13:25:23] *** Quits: Blub\w (wry@moz-348B4E4B.wireless.dyn.drei.com) (Ping timeout)
[13:31:48] <dbaupp> bjz: https://github.com/bjz/rusp/pull/1 
[13:31:52] <dbaupp> bjz: what do you think?
[13:33:34] *** Joins: lkuper_ (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[13:33:36] *** Joins: sk (sk@EA324BFE.54A580E3.78DD174B.IP)
[13:37:57] *** Joins: jviereck (Adium@moz-FA78A8AD.ethz.ch)
[13:38:17] <IdolfHatler> hi, I'm currently looking at zero.rs, and I was wondering how to interpret a pointer as an array
[13:38:43] <IdolfHatler> more specifically, I have a variable argv : **u8, and I would like to access what would be argv[1], if I was coding C
[13:39:08] <strcat> IdolfHatler: well most of that stuff is in the stdlib
[13:39:37] <strcat> zero.rs is very much a proof of concept ;p
[13:39:52] <dbaupp> IdolfHatler: *((argv as uint + 8) as **u8) might work
[13:39:55] <strcat> ideally we'd split the stdlib into the part not requiring the runtime
[13:40:08] <dbaupp> (change the 8 to a 4 if you're on a 32 bit computer)
[13:40:27] <strcat> heh you don't even have size_of, I guess
[13:40:32] *** Joins: corecode (2@moz-BCA4C10D.org)
[13:40:34] <strcat> although you can use intrinsics via extern
[13:40:37] <corecode> hi
[13:41:05] <IdolfHatler> dbaupp: thank you!
[13:41:26] <gareth0> IdolfHatler, std::ptr might have some stuff to help you
[13:41:33] <strcat> gareth0: he can't use std
[13:41:35] <corecode> where could i read up on using rust on bare metal?
[13:41:41] <gareth0> right, :p
[13:41:54] <strcat> corecode: aren't really any docs yet, zero.rs is how you'd do that though for now
[13:41:57] <strcat> it's really a proof of concept
[13:42:02] <corecode> specifically, arm microcontrollers
[13:42:24] *** Quits: hmax_ (hmax@moz-15514FA1.yandex.net) (Ping timeout)
[13:43:05] <IdolfHatler> strcat: yes, I can use size_of, if I import it in the same way as zero.rs
[13:43:19] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[13:43:50] *** Quits: sankha93 (Instantbir@E1EFFE9B.5D8AE2D8.D2D1FAF0.IP) (Quit: Instantbird 1.4 -- http://www.instantbird.com)
[13:44:16] *** Joins: reyre (reyre@86C3727C.33EE9F8A.1139E686.IP)
[13:44:47] <corecode> ah, i joined too late
[13:44:53] <corecode> IdolfHatler: what are you up to?
[13:45:07] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[13:45:45] <IdolfHatler> unsafe fn array_index<T>(array: *T, index: uint) -> T { *((array as uint + index * size_of::<T>()) as *T)
[13:45:48] <IdolfHatler> }
[13:45:54] <IdolfHatler> wow, that didn't look nice at all
[13:46:14] <IdolfHatler> corecode: I'm was trying to access "argv[1]", where argv : **u8
[13:46:14] *** Quits: wuwei`lab (wuwei@1A513F49.818D7924.FAA9ED67.IP) (Quit: Leaving)
[13:46:27] <strcat> IdolfHatler: well we have ptr::offset but ofc you can't use that :)
[13:46:29] <corecode> eep
[13:46:29] <strcat> yet
[13:47:03] <IdolfHatler> strcat: I'm wondering why I cannot just say argv[1]
[13:47:17] <strcat> IdolfHatler: because it's not a vector
[13:47:23] <corecode> forgive my ignorance, are there bitfields?
[13:47:23] *** Joins: hmax_ (hmax@moz-6DFD5A0D.yandex.net)
[13:47:30] <strcat> you're not actually meant to do low-level pointer arith in 99% of rust code
[13:47:35] <dbaupp> corecode: nope
[13:47:44] <strcat> zero.rs isn't how runtimeless rust will be, it's a proof of concept
[13:47:55] <corecode> dbaupp: are they planned?
[13:48:23] <corecode> dbaupp: or is there metaprogramming support to allow implementation of them?
[13:48:24] <IdolfHatler> strcat: of course not, but isn't part of the rust appeal, that unsafe operations should still be (almost) as easy as in C?
[13:48:35] <corecode> because C is nasty with bit masks and macros
[13:48:37] <IdolfHatler> or is that just my naive hope? ;)
[13:48:52] <benh> Isn't there a std::vec:: function thattakes a pointer and a length and hands you a slice
[13:48:54] <dbaupp> corecode: sort-of-maybe planned? There is no logic for them in LLVM, so it would have to be implemented entirely in Rustc, and that is non-trivial
[13:49:07] <strcat> benh: yes
[13:49:18] <benh> close enough imo
[13:49:19] <strcat> but he's not using the stdlib because he's using a proof of concept
[13:49:26] <strcat> IdolfHatler: you'd convert it to a vector immediately
[13:49:28] <dbaupp> corecode: but Rust's macros are better than C's so they could be implemented as non-stupid macros
[13:49:37] <strcat> IdolfHatler: there's no reason you'd ever need to treat ptrs as arrays
[13:49:38] <strcat> rust has slices
[13:49:52] *** Quits: EXetoC (ex@moz-C741B177.customer.t3.se) (Quit: WeeChat 0.4.1)
[13:49:56] <IdolfHatler> strcat: ok, I haven't looked that deep into rust yet :)
[13:50:16] <strcat> IdolfHatler: well zero.rs isn't a great place to start because it's really a proof of concept, where you can't use the stslib yet
[13:50:21] <strcat> stdlib*
[13:50:23] <IdolfHatler> I wasn't really that interested, until I could get rustless rust ;)
[13:50:39] <strcat> C has a runtime
[13:51:00] <dbaupp> IdolfHatler: something like `let argv: &[u8] = cast::transmute((argv, argc*sizeof::<*u8>()))` will get a slice from a pointer
[13:51:01] <benh> But it doesn't really lose features if you take it away, you barely even notice~
[13:51:13] <corecode> dbaupp: I have created a ruby abstraction that works fairly well on the user side - it's all mostly syntax sugar + debugging support
[13:51:34] <dbaupp> IdolfHatler: (possibly with the two tuple elements swapped...)
[13:52:11] <IdolfHatler> dbaupp: cool!
[13:52:12] <benh> rust-buildbot: cast::transmute::<&str, (u8, uint)>("foo")
[13:52:15] <benh> whoops
[13:52:17] <benh> rusti!
[13:52:24] <strcat> oops
[13:52:45] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[13:52:57] <benh> rusti: unsafe { cast::transmute::<&str, (*u8, uint)>("foo") }
[13:53:00] <strcat> IdolfHatler: you should probably just copy out modules from the stdlib
[13:53:03] -rusti- timed out after 5 seconds
[13:53:07] <benh> rusti: unsafe { cast::transmute::<&str, (*u8, uint)>("foo") }
[13:53:07] <strcat> IdolfHatler: for example, util, ptr, ve
[13:53:08] -rusti- ((0x40c210 as *()), 4)
[13:53:16] <strcat> vec*
[13:53:21] <strcat> well
[14:02:17] <fabiand> rustboot, nice ..
[14:02:35] *** Quits: doomlord1 (walter@moz-B63745D8.range86-176.btcentralplus.com) (Ping timeout)
[14:02:35] *** Quits: haard (fredrik@18E6EC45.6A26450D.BE04C429.IP) (Ping timeout)
[14:03:02] *** Quits: doomlord_ (servitor@moz-B63745D8.range86-176.btcentralplus.com) (Ping timeout)
[14:03:02] *** Joins: doomlord_ (walter@moz-A9E19E41.range86-140.btcentralplus.com)
[14:03:22] *** kimundi is now known as zz_kimundi
[14:03:42] *** Joins: doomlord__ (servitor@moz-A9E19E41.range86-140.btcentralplus.com)
[14:03:44] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[14:04:13] *** Joins: doomlord1 (walter@moz-A9E19E41.range86-140.btcentralplus.com)
[14:05:31] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[14:06:59] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[14:06:59] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/f2tYpw
[14:06:59] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[14:09:03] <gareth0> thanks strcat !
[14:09:23] <strcat> gareth0: np
[14:09:57] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[14:09:58] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/y4JlAg
[14:09:58] <ghrust> 13rust/06auto 14e2fcb92 15Steve Klabnik: Fix docs to use std instead of core....
[14:09:58] <ghrust> 13rust/06auto 143941f78 15bors: auto merge of #6763 : steveklabnik/rust/core_to_std, r=thestinger...
[14:09:58] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[14:11:07] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[14:13:30] *** Joins: cowboyd (cowboyd@moz-1BD02A1E.sw.biz.rr.com)
[14:14:00] <strcat> steveklabnik: after that bool one lands, I'll send in a pull adding {.rust} to the examples in every mod
[14:14:04] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[14:14:13] <strcat> so new ones should start using ~~~ {.rust}
[14:14:57] *** Joins: reyre- (rick@B2D8AB09.33EE9F8A.1139E686.IP)
[14:15:13] <benh> Does that trigger being run by the testsuite?
[14:15:16] *** Quits: reyre (reyre@86C3727C.33EE9F8A.1139E686.IP) (Client exited)
[14:15:18] *** reyre- is now known as reyre
[14:15:21] <strcat> benh: it makes pandoc syntax highlight them
[14:15:27] <strcat> it has rust syntax hl support now
[14:15:35] <strcat> the doc bot might not have a new enough pandoc but users can
[14:15:47] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[14:16:16] <strcat> hm I wonder if it will fail to build if the pandoc on the bot isn't new enough
[14:16:49] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[14:16:49] <ghrust> 01[13rust01] 15thestinger 04force-pushed 06try from 1466bd0f6 to 14a54cb30: 02http://git.io/k471pw
[14:16:49] <ghrust> 13rust/06try 14cae24bd 15Daniel Micay: add jemalloc to the runtime
[14:16:49] <ghrust> 13rust/06try 14a54cb30 15Daniel Micay: integrate jemalloc into the build
[14:16:49] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[14:16:49] <benh> oh right, I was gonna update my pandoc...
[14:16:53] <benh> cabal, argh!!
[14:17:00] <strcat> huh, what
[14:17:10] <strcat> that's not what I pushed, silly ghrust
[14:17:17] <strcat> oh I know why
[14:17:33] * strcat is to blame ;p
[14:17:37] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[14:17:37] <ghrust> 01[13rust01] 15thestinger 04force-pushed 06try from 14a54cb30 to 146cb7529: 02http://git.io/k471pw
[14:17:37] <ghrust> 13rust/06try 146cb7529 15Daniel Micay: syntax highlight code examples in docstrings
[14:17:37] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[14:19:13] *** Quits: steveklabnik (steve@moz-31F4139E.hfc.comcastbusiness.net) (Ping timeout)
[14:21:28] *** Joins: reyre_ (reyre@86C3727C.33EE9F8A.1139E686.IP)
[14:21:31] *** Quits: reyre_ (reyre@86C3727C.33EE9F8A.1139E686.IP) (Client exited)
[14:24:41] *** Quits: webber46 (webber46@moz-AC14FDEA.se) (Quit: webber46)
[14:26:50] *** Quits: pyrac (pyrac@9F71F32A.73C89388.AD05C589.IP) (Ping timeout)
[14:27:07] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[14:29:33] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[14:29:38] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[14:31:50] *** Quits: vmx (vmx@moz-4CCF4A47.dip0.t-ipconnect.de) (Quit: Leaving)
[14:31:50] *** zz_kimundi is now known as kimundi
[14:32:11] *** Quits: foodoo (foodoo@moz-563BCE6E.molgen.mpg.de) (Quit: leaving)
[14:37:08] <bjz> dbaupp: awesome!
[14:37:21] <bjz> dbaupp: reading through it now
[14:37:48] <dbaupp> bjz: it doesn't handle the new Value's (Quote and Lambda)
[14:38:14] <dbaupp> were you planning on removing QuoteExpr and LambdaExpr?
[14:39:45] <bjz> do you think I could?
[14:40:40] <dbaupp> I think so, since Literal(Quote(...)) is the same as QuoteExpr(...)
[14:40:50] <dbaupp> (I think?)
[14:40:51] <bjz> neat
[14:40:57] <bjz> yeah
[14:43:06] *** kimundi is now known as zz_kimundi
[14:44:55] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[14:46:43] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[14:48:28] <bjz> dbaupp: instead of the bars, maybe we could use `fn` to denote a lambda?
[14:48:45] <bjz> would that make things easier
[14:48:54] <dbaupp> bjz: that'd be nice... what would arguments look like?
[14:49:01] <dbaupp> just (fn (a b c) (expr))?
[14:49:14] <bjz> (fn (arg*) expr)
[14:49:33] <dbaupp> bjz: also, do you reckon we can get away with ~ instead of @? (it'd make things parallelisable, among other things :D )
[14:49:47] <bjz> clojure has (fn name? [arg*] expr)
[14:50:11] <bjz> http://clojure.org/Special%20Forms--%28fn%20name?%20[params*%20]%20exprs*%29
[14:50:18] <dbaupp> yeah
[14:50:23] <bjz> dbaupp: if you can make it work :)
[14:50:24] <pascal> how do I guarantee that the struct I'm writing the impl for is mutable? is there a trait for that?
[14:50:50] <bjz> pascal: &mut self?
[14:51:02] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[14:51:05] <dbaupp> pascal: you need to make the 'self' argument mutable, eg. fn my_method(&mut self, args...)  { .. }
[14:51:13] <pascal> bjz: ah, so simple - thanks. was thinking around too many corners.
[14:51:16] *** zz_kimundi is now known as kimundi
[14:51:16] <bjz> dbaupp: ie. with the '~' vs '@'
[14:51:25] <bjz> pascal: np :)\
[14:51:40] <dbaupp> bjz: yup
[14:52:07] <bjz> dbaupp: so would the fn thing make things simpler?
[14:52:20] <dbaupp> bjz: yeah it would make things much simpler
[14:52:31] <bjz> dbaupp: lets do it then
[14:52:54] <bjz> :)
[14:53:40] <bjz> I won't merge the PR yet
[14:53:49] *** Joins: jdm (jdm@DB05BBF2.BB1F48F2.971E19F6.IP)
[14:54:39] *** kimundi is now known as zz_kimundi
[14:55:43] *** Quits: snowstalker (snowstalke@4F709CB7.7242A5A6.650F25DA.IP) (Ping timeout)
[14:56:09] *** Joins: victorporof (victorporo@DE2B5DEF.67CDC207.79933D60.IP)
[14:56:50] *** Joins: snowstalker (snowstalke@4F709CB7.7242A5A6.650F25DA.IP)
[15:00:57] <bjz> dbaupp: For bonus points, figure out how to sugar (fn <ident> (<param>*) <expr>) to (let <ident> (fn (<param>*) <expr>))
[15:00:58] <dbaupp> bjz: should I remove QuoteExpr/LambdaExpr while I'm at it?
[15:01:03] <bjz> Sure
[15:01:15] <dbaupp> bjz: you can get the bonus points :P
[15:01:23] <bjz> ok, sounds good
[15:01:28] <bjz> :)
[15:02:55] <dbaupp> bjz: not sure what to do about the Env part of Lambda?
[15:03:18] <dbaupp> it seems strange to be in the AST?
[15:03:34] <bjz> dbaupp: yeah that's tricky, I'm not sure if it should be there
[15:04:12] <bjz> dbaupp: basically a lambda creates a new environment when it's evaluated.
[15:06:26] *** Joins: Blub\w (wry@moz-761737F7.wireless.dyn.drei.com)
[15:06:27] <bjz> dbaupp: that's what I've been trying to figure out. The implementation of Call might help make things clearer.
[15:06:54] *** Joins: pyrac (pyrac@moz-D851FA22.w92-149.abo.wanadoo.fr)
[15:06:56] <dbaupp> bjz: I'll just initialise it with Env::empty() for now
[15:07:17] <bjz> Ok, sounds good
[15:09:48] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[15:09:59] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[15:10:10] <dbaupp> bjz: done!
[15:10:18] <bjz> :D
[15:10:51] <dbaupp> and, I'm going to bed now. good night!
[15:11:47] *** Quits: lkuper_ (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Quit: Leaving)
[15:11:57] *** Joins: lkuper_ (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[15:12:20] <bjz> night!
[15:12:47] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.1)
[15:12:55] *** Joins: wycats_ (uid79@moz-D8B63698.irccloud.com)
[15:12:56] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[15:13:16] *** Quits: lkuper_ (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Quit: Leaving)
[15:13:50] *** Joins: lkuper_ (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[15:14:17] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[15:14:47] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[15:15:10] *** Quits: threecreepio (jdp@moz-F2D425CF.business.telia.com) (Quit: threecreepio)
[15:15:43] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[15:17:30] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[15:18:33] *** Quits: bytbox (s@moz-96B204E2.wireless.umd.edu) (Ping timeout)
[15:20:41] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke. It's all a joke.)
[15:21:23] <strcat> woo
[15:21:25] <strcat> no more lxc
[15:21:28] <strcat> lets see
[15:22:27] <strcat> rusti: for os::list_dir(&Path("/proc")).each |x| { println(*x) }
[15:22:32] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/ifUS
[15:22:44] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[15:24:38] *** Joins: reyre_ (reyre@86C3727C.33EE9F8A.1139E686.IP)
[15:24:45] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[15:24:51] <strcat> rusti: for os::list_dir(&Path("/proc")).each |x| { println(*x) }
[15:24:58] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/QEeb
[15:25:04] <strcat> awesome
[15:25:43] *** Quits: jviereck (Adium@moz-FA78A8AD.ethz.ch) (Quit: Leaving.)
[15:26:21] <strcat> rusti: core::run::run_program("mount", []);
[15:26:22] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/SJWh
[15:26:31] <strcat> rusti: std::run::run_program("mount", []);
[15:26:32] -rusti- /dev/sda4 on / type ext4 (ro,relatime,commit=15,data=ordered)
[15:26:32] -rusti- none on /proc type proc (rw,nosuid,nodev,noexec,relatime)
[15:26:32] -rusti- none on /tmp type tmpfs (rw,nosuid,nodev,relatime)
[15:26:32] -rusti- none on /home/rust type tmpfs (rw,nosuid,nodev,relatime)
[15:26:52] <strcat> \o/
[15:27:05] <strcat> rusti: std::run::run_program("id", []);
[15:27:06] -rusti- uid=1000(rust) gid=100(users) groups=100(users),0(root),1(bin),2(daemon),3(sys),4(adm),6(disk),10(wheel),19(log)
[15:27:12] *** Joins: pud (Mibbit@moz-891B6E73.ip46.fastwebnet.it)
[15:33:21] *** Quits: dbaupp (Thunderbir@moz-EBCB5EF.lns20.syd6.internode.on.net) (Ping timeout)
[15:33:33] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[15:36:58] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[15:36:58] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/y4JlAg
[15:36:58] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[15:38:29] <IdolfHatler> how does the exchange_malloc work?
[15:38:43] <IdolfHatler> what is the magic minus_one, null_0 and null_1 values?
[15:38:49] <strcat> IdolfHatler: a useless unused header
[15:38:53] <strcat> that will go away in the future
[15:39:09] <strcat> managed pointers use it to track allocations right now
[15:39:21] *** Joins: jviereck (Adium@moz-FA78A8AD.ethz.ch)
[15:40:01] <strcat> it's only needed because the codegen is dumb and treats managed pointers and managed-unique ptrs the same as unique pointers
[15:40:35] <doener> where are those values? git grep doesn't find them
[15:40:42] *** Joins: threecreepio (jdp@moz-DB2D70E9.cust.bredbandsbolaget.se)
[15:40:50] <strcat> doener: they aren't called that in the codebase
[15:41:01] <strcat> zero.rs calls them that
[15:41:04] <doener> ah
[15:41:35] <strcat> IdolfHatler: https://github.com/mozilla/rust/issues/5026?source=cc
[15:41:50] * doener is currently looking into that issue
[15:42:20] <strcat> if you can figure out how to make codegen not read them in unmanaged unique ptrs, and then adjust all the offsets - they can just go away
[15:42:27] <IdolfHatler> so a "&[foo]" is actually a "struct { foo*, size_t }", and a "~[foo]" is actually a "struct { int /* always -1 */, *type_desc, int /* always 0 */, int /* always 0 */ }" ?
[15:42:38] <strcat> IdolfHatler: no
[15:42:39] <IdolfHatler> + the actual data padded afterwards?
[15:42:55] <strcat> this only applies to ~, ~str and ~[]
[15:43:01] <strcat> borrowed ptrs are just a ptr to the object
[15:43:05] <strcat> slices are a ptr + size
[15:43:28] <doener> minus_1 is only -1 if there's no @ in the ~ value, otherwise it's -2
[15:43:30] <strcat> unique/managed ptrs are a pointer to a box, but right now there's a header on *all* of them even though non-managed unique ptrs don't need it
[15:43:41] <strcat> doener: known at compile-time though
[15:43:52] <strcat> shouldn't have headers on ~ not containing @ at all.
[15:43:58] <doener> yep
[15:44:05] <strcat> one of the few remaining really annoying perf issues
[15:44:15] <strcat> the other one being how horrible the code generated for moves is
[15:44:35] <strcat> after that... there won't be many language-level perf issues (if any)
[15:44:45] <doener> I dug into that code some time ago, when I tried to avoid realloc in vec::with_capacity
[15:45:20] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[15:45:21] <doener> required a new flag in the tydesc back then. I wonder if your(?) work in the Owned/Non-Owned attrib would help with that know
[15:45:23] <strcat> anyway evalbot v2
[15:45:35] <strcat> I have to sandbox syscalls again
[15:45:43] <doener> s/know/now/
[15:45:57] *** Joins: eholk (eholk@moz-E45742D4.public.wayport.net)
[15:46:30] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[15:47:31] *** Quits: pud (Mibbit@moz-891B6E73.ip46.fastwebnet.it) (Quit: http://www.mibbit.com ajax IRC Client)
[15:47:36] *** Quits: gareth0 (gareth0@moz-901C75EB.dynamic.dsl.as9105.com) (Client exited)
[15:48:17] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[15:51:50] <strcat> I need seccomp bindings for rust ;p
[15:52:26] *** Quits: jviereck (Adium@moz-FA78A8AD.ethz.ch) (Quit: Leaving.)
[15:55:51] *** Joins: jroll (jroll@moz-5989BB9E.members.linode.com)
[15:56:10] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[15:57:32] <IdolfHatler> strcat: there seems to be more of a header than those 4 dwords
[15:57:42] <strcat> IdolfHatler: no, it's just those
[15:58:04] <strcat> ~5 calls malloc(sizeof(header) + sizeof(size_t))
[15:58:30] <IdolfHatler> ~[1,2,3] generates those 4 dwords + the dwords "12, 16, 1, 2, 3"
[15:58:41] <strcat> ~[] is different than ~5
[15:58:48] <doener> used, capacity, values
[15:59:09] <IdolfHatler> ok, thanks! :)
[16:00:24] *** Joins: mib_3tnswb (Mibbit@5BDDBC6F.45C0CCB9.591C6BA9.IP)
[16:00:44] *** Quits: mib_3tnswb (Mibbit@5BDDBC6F.45C0CCB9.591C6BA9.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:05:26] *** Quits: threecreepio (jdp@moz-DB2D70E9.cust.bredbandsbolaget.se) (Quit: threecreepio)
[16:07:52] *** Quits: burntsushi (burntsushi@moz-27A1B1D8.dhcp.oxfr.ma.charter.com) (Client exited)
[16:08:57] *** Joins: jack (jack@moz-9CE00FC0.holiday-inn-express.mozilla.hq)
[16:09:28] *** Quits: jack (jack@moz-9CE00FC0.holiday-inn-express.mozilla.hq) (Quit: Leaving.)
[16:09:31] *** Joins: jack (jack@moz-9CE00FC0.holiday-inn-express.mozilla.hq)
[16:10:56] *** Joins: EXetoC (ex@moz-C741B177.customer.t3.se)
[16:15:06] *** Joins: Palmik (palmik@moz-A80A59D3.vpn.muni.cz)
[16:16:46] *** Quits: eholk (eholk@moz-E45742D4.public.wayport.net) (Quit: eholk)
[16:17:23] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[16:17:32] *** zz_kimundi is now known as kimundi
[16:19:07] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[16:19:21] *** Quits: fabiand (fabiand@moz-C99D1569.adsl.alicedsl.de) (Quit: Verlassend)
[16:23:18] *** Joins: jviereck (Adium@moz-128BD269.ethz.ch)
[16:24:31] *** Quits: jviereck (Adium@moz-128BD269.ethz.ch) (Quit: Leaving.)
[16:24:33] *** Quits: jack (jack@moz-9CE00FC0.holiday-inn-express.mozilla.hq) (Quit: Leaving.)
[16:25:40] <IdolfHatler> is the type descriptor ever used for owned pointers?
[16:26:08] <strcat> IdolfHatler: the header is unused for unique pointers that don't contain @, the only thing it does get read for is to check if the ptr contains @ or not
[16:26:19] <strcat> but that's known at compile-time, so the header isn't necessary by design
[16:26:38] <IdolfHatler> ok
[16:26:45] <IdolfHatler> so I can safely set it to zero?
[16:26:58] <strcat> one of the fields is supposed to be -1
[16:27:05] <strcat> the one that's read to check if it contains @ or not
[16:27:37] <strcat> it's constant after initialization
[16:32:06] *** Joins: jviereck (Adium@moz-128BD269.ethz.ch)
[16:36:36] *** Joins: jack (jack@moz-9CE00FC0.holiday-inn-express.mozilla.hq)
[16:37:44] *** Joins: lmandel (lmandel@FE1F74.86ED00A7.971E19F6.IP)
[16:38:09] *** Quits: lmandel (lmandel@FE1F74.86ED00A7.971E19F6.IP) (Quit: lmandel)
[16:38:26] *** Joins: lmandel (lmandel@FE1F74.86ED00A7.971E19F6.IP)
[16:39:44] *** Quits: cjh (chellmuth@moz-45C21C42.compute-1.amazonaws.com) (Ping timeout)
[16:40:25] *** Joins: cjh (chellmuth@moz-45C21C42.compute-1.amazonaws.com)
[16:40:43] <strcat> awesome syscall whitelist working \o/
[16:40:47] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:40:51] <strcat> rusti: 5
[16:40:51] -rusti- 5
[16:42:21] *** Quits: Ralith (ralith@moz-50F3C77.vc.shawcable.net) (Ping timeout)
[16:46:30] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[16:46:50] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:46:52] *** Quits: jviereck (Adium@moz-128BD269.ethz.ch) (Quit: Leaving.)
[16:48:03] *** Quits: sk (sk@EA324BFE.54A580E3.78DD174B.IP) (Ping timeout)
[16:48:12] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[16:48:50] *** Quits: jack (jack@moz-9CE00FC0.holiday-inn-express.mozilla.hq) (Quit: Leaving.)
[16:49:59] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[16:50:07] *** Joins: darkowlzz (sunny@2A889560.4BBF4313.27560D6E.IP)
[16:50:40] *** Quits: hmax_ (hmax@moz-6DFD5A0D.yandex.net) (Quit: This computer has gone to sleep)
[16:50:44] *** Quits: MX80 (MX80@moz-32BE33CD.dsl.g3telecom.net) (Ping timeout)
[16:51:06] *** Quits: snowstalker (snowstalke@4F709CB7.7242A5A6.650F25DA.IP) (Quit: snowstalker)
[16:54:22] *** Joins: MX80 (MX80@33BECB27.BD35E8FF.2C4394F7.IP)
[16:55:34] *** Joins: jack (jack@moz-9CE00FC0.holiday-inn-express.mozilla.hq)
[16:55:38] *** Quits: jack (jack@moz-9CE00FC0.holiday-inn-express.mozilla.hq) (Quit: jack)
[17:00:35] *** Joins: Ralith (ralith@moz-CA7FCCF0.wireless.sfu.ca)
[17:01:22] *** Joins: snowstalker (snowstalke@4F709CB7.7242A5A6.650F25DA.IP)
[17:02:13] *** kimundi is now known as zz_kimundi
[17:02:13] <benh> rusti: fn f() { do task::spawn { f(); } f(); } f();
[17:02:48] *** Parts: darkowlzz (sunny@2A889560.4BBF4313.27560D6E.IP) (Leaving)
[17:02:53] <benh> rusti: 42
[17:02:54] -rusti- 42
[17:03:44] *** zz_kimundi is now known as kimundi
[17:07:26] <IdolfHatler> I keep getting undefined reference to `upcall_reset_stack_limit' :(
[17:11:49] <strcat> rusti: do spawn { println("foo" }
[17:12:00] <strcat> oh I need to whitelist whatever syscalls that needs
[17:12:01] <strcat> sec
[17:12:08] <strcat> rusti: do spawn { println("foo") }
[17:12:08] -rusti- foo
[17:12:12] <strcat> oh wait no it's just silly
[17:12:14] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[17:12:32] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[17:12:45] <strcat> rusti: fn f() { do task::spawn { f(); } f(); } f();
[17:12:48] -rusti- /usr/local/bin/rust.sh: line 23:    12 Killed                  ./foo
[17:12:55] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[17:13:31] <strcat> benh: http://ix.io/5Op finished-ish sandbox ;p
[17:14:11] <benh> sweet
[17:14:26] <strcat> I need to port it to the low-level seccomp API
[17:14:32] <benh> strcat: Does that mean I can safely run that on my machine without figuring out this whole vm thing? :V
[17:14:35] <strcat> and then I can port it to rust
[17:14:48] <strcat> benh: well, it still needs a root set up
[17:14:49] <strcat> but yes
[17:14:52] <strcat> easy to set up anyway
[17:15:23] <strcat> mkdir sandbox && pacstrap -d sandbox rust, on arch linux
[17:15:25] *** Joins: jack (jack@2557E599.66715431.D25A875A.IP)
[17:15:40] <benh> I didn't know you could do that to / 
[17:15:52] <strcat> benh: which part?
[17:16:08] <benh> mount(NULL, "/", ...)
[17:16:19] <strcat> benh: it's because CLONE_NEWNS makes it have a filesystem ns
[17:16:23] <benh> well most of that stuff really ;)
[17:16:25] <strcat> benh: no other process sees what it does
[17:16:27] <strcat> to mounts
[17:16:39] *** Joins: jack1 (jack@2557E599.66715431.D25A875A.IP)
[17:16:45] <strcat> and there's no need to umount since they're just *gone* when the process ends
[17:17:12] *** Quits: jack (jack@2557E599.66715431.D25A875A.IP) (Ping timeout)
[17:17:14] <benh> *emerge libseccomp*
[17:17:56] <strcat> benh: oh and you need the /usr/local/bin/rust.sh in the linux root
[17:18:01] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[17:18:10] <strcat> benh: http://ix.io/5Oq that's just this
[17:18:18] <strcat> and it needs a rust user with a /home/rust
[17:18:36] <strcat> and then you run 'sudo ./playpen /usr/local/bin/rust.sh 5 + 5'
[17:22:59] * strcat should make it not require that bash script ;p
[17:26:50] *** Joins: bytbox (s@moz-48C1B76C.hsd1.md.comcast.net)
[17:27:03] <benh> Is that pacstrap command just gonna install rust with 'sandbox' as the prefix?
[17:27:19] <strcat> benh: yes, gentoo probably has some other command to do it
[17:27:45] <strcat> pacstrap is just a bootstrapping wrapper for pacman, it makes an Arch install at the prefix and installs a list of pkgs
[17:27:47] <strcat> probably really want
[17:27:51] <strcat> pacstrap -d sandbox base rust
[17:29:03] <strcat> rusti: 1
[17:29:04] -rusti- 1
[17:29:39] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[17:29:46] *** Joins: jaen (jaen@moz-DD310A5.play-internet.pl)
[17:30:22] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[17:30:35] *** Quits: jaen (jaen@moz-DD310A5.play-internet.pl) (Quit: WeeChat 0.4.1)
[17:30:38] *** Joins: jaen (jaen@moz-DD310A5.play-internet.pl)
[17:30:44] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[17:31:35] <strcat> rusti: std::run::run_program("mount", []):
[17:31:36] -rusti- foo.rs:5:43: 5:44 error: expected `;` or `}` after expression but found `:`
[17:31:36] -rusti- foo.rs:5          std::run::run_program("mount", []):
[17:31:36] -rusti-                                                     ^
[17:31:36] <strcat> rusti: std::run::run_program("mount", []);
[17:31:38] -rusti- /dev/sda4 on / type ext4 (ro,relatime,commit=15,data=ordered)
[17:31:38] -rusti- none on /proc type proc (rw,nosuid,nodev,noexec,relatime)
[17:31:38] -rusti- none on /tmp type tmpfs (rw,nosuid,nodev,relatime)
[17:31:38] -rusti- none on /home/rust type tmpfs (rw,nosuid,nodev,relatime)
[17:33:22] *** Joins: eatkinson (androirc@moz-AD233F1B.dia.static.qwest.net)
[17:33:59] <strcat> rusti: os::list_dir("/dev/")
[17:33:59] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/cSfV
[17:34:11] <strcat> rusti: os::list_dir(&Path("/dev/"))
[17:34:12] -rusti- ~[~"null", ~"urandom", ~"random", ~"shm"]
[17:34:21] *** Joins: tjc (tjc@A5087023.2354C43D.D8E68FF6.IP)
[17:34:21] *** ChanServ sets mode: +o tjc
[17:35:32] <strcat> benh: sadly can't use libseccomp from rust ;[
[17:35:37] <strcat> uses varargs stuff everywhere
[17:35:41] <strcat> and crazy macros
[17:35:54] <strcat> I'll just have to use the low-level berkeley packet filter stuff
[17:36:04] *** Quits: Ralith (ralith@moz-CA7FCCF0.wireless.sfu.ca) (Ping timeout)
[17:37:51] <strcat> rusti: std::run::run_program("env", []);
[17:37:52] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/SVdc
[17:38:02] <strcat> heh
[17:38:11] <strcat> it inherits the env ;p
[17:38:15] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[17:38:59] *** Joins: igl1 (igl@moz-F0BA6E1F.adsl.alicedsl.de)
[17:39:19] *** Joins: Ralith (ralith@moz-CA7FCCF0.wireless.sfu.ca)
[17:39:38] *** Quits: igl (igl@moz-54B68BCA.adsl.alicedsl.de) (Ping timeout)
[17:40:16] *** Joins: lastbreath (Mibbit@moz-7E0E031.jax.bellsouth.net)
[17:41:35] <lastbreath> http://introverted-genius.blogspot.com/
[17:41:43] *** Parts: lastbreath (Mibbit@moz-7E0E031.jax.bellsouth.net) ()
[17:43:50] <EXetoC> lame
[17:45:18] *** Quits: paulproteus (quassel@rose.makesad.us) (Ping timeout)
[17:47:29] *** Joins: paulproteus (quassel@moz-E86A3B42.makesad.us)
[17:48:24] *** Quits: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net) (Connection reset by peer)
[17:48:32] *** Joins: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net)
[17:50:49] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[17:50:56] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[17:54:09] *** Joins: graydon (Adium@A5087023.2354C43D.D8E68FF6.IP)
[17:54:09] *** ChanServ sets mode: +qo graydon graydon
[17:54:22] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[17:54:38] <strcat> rusti: std::run::run_program("env", []);
[17:54:40] -rusti- OLDPWD=/
[17:54:40] -rusti- PATH=/usr/local/bin:/usr/bin:/bin
[17:54:40] -rusti- PWD=/home/rust
[18:01:52] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[18:09:04] *** Joins: aruniiird (arun@84E199D6.DCDBCF8E.83D0DF30.IP)
[18:09:47] *** Quits: pnkfelix (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net) (Quit: Leaving.)
[18:10:54] *** Quits: pnkfelix|rcirc (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net) (Quit: rcirc on GNU Emacs 24.2.1)
[18:12:22] *** Joins: Blei (philipp@moz-96D25F7A.cust.bluewin.ch)
[18:12:46] *** Quits: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP) (Ping timeout)
[18:13:29] <strcat> rusti: 5
[18:13:29] -rusti- 5
[18:13:37] <strcat> rusti: 5
[18:13:38] -rusti- Killed
[18:13:49] <strcat> rusti: 5
[18:13:51] -rusti- 5
[18:16:31] *** Joins: martndemus (martndemus@moz-FAE8D24A.sshunet.nl)
[18:17:42] *** Joins: fabiand (fabiand@moz-C99D1569.adsl.alicedsl.de)
[18:18:44] *** Quits: Ralith (ralith@moz-CA7FCCF0.wireless.sfu.ca) (Ping timeout)
[18:19:18] *** Joins: blitter (blitter@moz-E761A52F.dyn.centurytel.net)
[18:21:03] *** Quits: eatkinson (androirc@moz-AD233F1B.dia.static.qwest.net) (Input/output error)
[18:21:03] *** Joins: eatkinson (androirc@moz-AD233F1B.dia.static.qwest.net)
[18:21:04] *** Joins: Ralith (ralith@moz-CA7FCCF0.wireless.sfu.ca)
[18:22:08] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[18:23:07] *** Quits: diegoyam_ (quassel@FF9B1514.A4EC3D18.3A1EC144.IP) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[18:23:37] *** Joins: diegoyam_ (quassel@FF9B1514.A4EC3D18.3A1EC144.IP)
[18:24:06] <lkuper_> is there a particular make target I can use to build, say, the libstd docs only?
[18:24:23] *** Joins: siavashserver (siavash@E9C3FB0E.C058D00.82A25C10.IP)
[18:24:48] <strcat> benh: https://github.com/thestinger/playpen there it is btw
[18:25:40] <strcat> benh: I'll port it to rust soon ;p
[18:25:50] <siavashserver> Hello. Is it possible to write SIMD code in Rust, like intrinsics in C/C++ ?
[18:26:30] <benh> I'm currently blocking on finding the motivation to figure out if gentoo has an equivalent to that chroot setting up thing ;)
[18:26:34] <tjc> siavashserver: there's work in progress on SIMD in Rust, but I don't think it's totally usable yet
[18:26:40] *** Quits: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP) (Client exited)
[18:26:40] *** Quits: diegoyam_ (quassel@FF9B1514.A4EC3D18.3A1EC144.IP) (Client exited)
[18:26:45] <strcat> siavashserver: you can write inline asm
[18:26:51] *** Joins: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP)
[18:26:53] <strcat> so you could make whatever intrinsics you need
[18:27:37] <siavashserver> tjc: Thank you sir.
[18:27:44] <tjc> siavashserver: no problem
[18:28:17] <siavashserver> strcat: Well the point is to let the compiler handle the register management, optimizing the code, ...
[18:31:42] *** Quits: victorporof (victorporo@DE2B5DEF.67CDC207.79933D60.IP) (Quit: victorporof)
[18:32:20] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[18:33:09] *** Quits: snowstalker (snowstalke@4F709CB7.7242A5A6.650F25DA.IP) (Quit: snowstalker)
[18:33:57] *** Joins: _ (androirc@moz-AD233F1B.dia.static.qwest.net)
[18:33:57] *** Quits: eatkinson (androirc@moz-AD233F1B.dia.static.qwest.net) (Input/output error)
[18:34:01] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[18:34:36] *** Joins: catpig (catpig@moz-FE9C02B0.dip0.t-ipconnect.de)
[18:35:37] *** Quits: _ (androirc@moz-AD233F1B.dia.static.qwest.net) (Connection reset by peer)
[18:35:40] *** Joins: _ (androirc@moz-AD233F1B.dia.static.qwest.net)
[18:35:58] <engla> bjz: this is one way to handle lua without explicit stack management.. just be generic over tuples of function arguments and tuples of return values.. http://paste.debian.net/plainh/4fa34d6c
[18:36:39] *** Quits: _ (androirc@moz-AD233F1B.dia.static.qwest.net) (Connection reset by peer)
[18:36:48] *** Joins: _ (androirc@moz-AD233F1B.dia.static.qwest.net)
[18:37:39] *** Quits: _ (androirc@moz-AD233F1B.dia.static.qwest.net) (Connection reset by peer)
[18:39:14] *** Quits: Ralith (ralith@moz-CA7FCCF0.wireless.sfu.ca) (Ping timeout)
[18:41:08] <Jesse> tjc: re https://github.com/mozilla/rust/issues/3604#issuecomment-18509218 just adding an at-str library won't break existing code, but doing it in a way that feels orthogonal and non-redundant might break existing code
[18:42:59] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[18:42:59] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/22BTCQ
[18:42:59] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[18:43:02] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[18:43:02] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/6dLRMw
[18:43:02] <ghrust> 13rust/06auto 14beec6e4 15Lindsey Kuper: Get rid of no-longer-needed #[doc(hidden)] attributes....
[18:43:02] <ghrust> 13rust/06auto 14d98cc99 15bors: auto merge of #6768 : lkuper/rust/3538, r=thestinger...
[18:43:02] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[18:43:55] <tjc> Jesse: How so?
[18:44:07] *** Quits: siavashserver (siavash@E9C3FB0E.C058D00.82A25C10.IP) (Quit: Konversation terminated!)
[18:44:12] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[18:44:17] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[18:45:45] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[18:49:24] <strcat> graydon: you around?
[18:49:25] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[18:49:25] <ghrust> 01[13rust01] 15thestinger created 06highlight (+1 new commit): 02http://git.io/I-hQBg
[18:49:26] <ghrust> 13rust/06highlight 140d5fdce 15Daniel Micay: syntax highlight code examples in docstrings
[18:49:26] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[18:49:30] <strcat> ugh
[18:49:40] <graydon> strcat: yes, what's up?
[18:49:42] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[18:49:42] <ghrust> 01[13rust01] 15thestinger 04deleted 06highlight at 140d5fdce: 02http://git.io/SdpgqA
[18:49:42] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[18:49:49] <strcat> ghrust: what version of pandoc is on the buildbot?
[18:49:51] <strcat> graydon: *
[18:50:19] <graydon> 1.8.2.1 looks like
[18:50:23] <graydon> need me to try upgrading it?
[18:50:37] <graydon> oh wait
[18:50:41] <strcat> graydon: yeah they added rust syntax highlighting since then
[18:50:41] <graydon> 1.9.4.1 on linux1
[18:50:48] <graydon> do we build on linux1 or linux2? hmm
[18:50:53] <strcat> the current one is 1.11.1 and I think they added it recently
[18:50:55] <strcat> sec
[18:51:22] <graydon> linux1 looks like
[18:52:27] <strcat> graydon: kate 0.5.3.8 (3 months ago) is when they added rust support so that's probably too old
[18:52:28] <graydon> oh, hm
[18:52:45] <graydon> do we do anything with kate during the build?
[18:52:57] <strcat> graydon: rustdoc uses it through pandoc, at least it could
[18:52:57] <graydon> pandoc on linux1 is 1.9.1.1
[18:53:03] <graydon> huh!
[18:53:20] <strcat> your pandoc is probably statically linked against kate
[18:53:44] <strcat> graydon: pandoc --version will say
[18:53:59] <graydon> highlighting-kate 0.5.0.5
[18:54:20] <graydon> is this stuff backported by any chance?
[18:54:31] <graydon> that bot is ubuntu LTS
[18:54:45] <strcat> graydon: ah, I doubt it is - but you could just use cabal-install to install to some ~ dir
[18:56:35] <strcat> graydon: basically, if we mark the code snippets with {.rust} they get syntax highlighted by pandoc now
[18:56:36] <bjz> engla: not sure what you mean, sorry :(
[18:56:38] <strcat> which is pretty neat
[18:56:41] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[19:00:07] *** Quits: jack1 (jack@2557E599.66715431.D25A875A.IP) (Ping timeout)
[19:00:30] <engla> bjz: sorry! I picked the wrong person
[19:00:36] <engla> it was for cmr 
[19:00:38] <martndemus> if i give a function a return type sheep, can i then return anything that has the sheep trait?
[19:00:42] *** Joins: Nait (Mibbit@moz-C29902AE.hsd1.md.comcast.net)
[19:01:08] <engla> cmr asked for lua bindings without explicit stack management before
[19:01:11] <tjc> martndemus: if sheep is a trait, you have to return either ~sheep, @sheep, or &'r sheep for some lifetime r
[19:01:18] <tjc> a trait name by itself isn't a type (nymore)
[19:01:23] *** Joins: Ralith (ralith@moz-50F3C77.vc.shawcable.net)
[19:01:39] <bjz> engla: hehe ^_^
[19:02:20] <martndemus> tjc: if i want to make it nullable, will it be Option<~Sheep> ?
[19:02:27] <tjc> martndemus: Yes
[19:02:34] <martndemus> tjc: Thanks!
[19:02:40] <tjc> martndemus: you're welcome
[19:02:54] <strcat> the compiler is even clever enough to optimize that to a nullable pointer for some things now, not sure if that works for traits...
[19:03:07] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[19:03:28] <strcat> rusti: (sys::size_of::<~Ord>(), sys::size_of::<~Ord>())
[19:03:30] -rusti- (16, 16)
[19:03:39] <strcat> rusti: (sys::size_of::<~Ord>(), sys::size_of::<Option<~Ord>>())
[19:03:40] -rusti- (16, 24)
[19:03:43] <strcat> guess not ;p
[19:04:07] <strcat> rusti: (sys::size_of::<~int>(), sys::size_of::<Option<~int>>())
[19:04:07] <Nait> Where do I find cargo?
[19:04:08] -rusti- (8, 8)
[19:04:15] <strcat> Nait: it died and was reborn as rustpkg
[19:04:19] <Nait> ah
[19:04:22] <tjc> Nait: we're replacing cargo with a new tool, rustpkg, but rustpkg isn't quite in a usable state yet
[19:04:40] <Nait> wonderfull
[19:04:49] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[19:05:08] *** Quits: Blei (philipp@moz-96D25F7A.cust.bluewin.ch) (Quit: WeeChat 0.4.1)
[19:05:11] <Nait> tjc:can I install basic packages?
[19:05:34] <tjc> Nait: Probably not, because rustpkg changes the required package directory structure, and most existing packages haven't been changed to conform to that :-(
[19:05:44] <Nait> ok :(
[19:05:48] <tjc> (and it's not time yet for maintainers to start changing over, since rustpkg is still in flux)
[19:06:06] <strcat> tjc: ah, what's the dir structure it wants now? a lib dir or something?
[19:06:14] * strcat was wondering why it stopped working :)
[19:06:38] <tjc> strcat: I tried to explain it in https://github.com/mozilla/rust/blob/master/doc/rustpkg.md
[19:07:02] <tjc> except the documentation is ahead of the code :-) some things mentioned in it, like RUST_PKG, don't work yet
[19:07:04] <tjc> er
[19:07:08] <tjc> RUST_PATH, I mean
[19:07:14] *** Quits: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP) (Connection reset by peer)
[19:07:25] *** Joins: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP)
[19:08:27] <Nait> so for now I should build the package by hand and manually include it?
[19:08:36] <strcat> tjc: so do I just need RUST_PATH set once to initialize the workspace?
[19:08:41] <tjc> Nait: Yeah, for now
[19:08:47] <tjc> strcat: when I'm done implementing it, then yes :-)
[19:11:03] *** Joins: jack (jack@2557E599.66715431.D25A875A.IP)
[19:12:51] <Nait> Am I missing something?  error: unresolved name std::hashmap::HashMap
[19:13:21] * Nait is still new to rust
[19:13:21] <strcat> Nait: are you on incoming?
[19:13:25] <tjc> Nait: if you're using incoming, it should be extra::hashmap::HashMap
[19:13:28] <Nait> what is incoming?
[19:13:28] <strcat> in 0.6 it's core::hashmap
[19:13:32] <tjc> because of the great library renaming this weekl
[19:13:40] <strcat> tjc: it was in core before :)
[19:13:47] <tjc> strcat: oh ok, just ignore me, then :-)
[19:14:02] <Nait> I am using 0.6
[19:14:17] <strcat> Nait: incoming is the development branch in the git repository, in 0.6 core::hashmap::HashMap::new() should work
[19:14:36] <engla> I think it's called LinearMap
[19:14:43] <engla> in 0.6
[19:14:59] <strcat> heh, core::hashmap::linear::LinearMap them, if 0.6 is really that old :)
[19:15:17] <Nait> should I just use incoming?
[19:15:26] <strcat> Nait: if you don't mind building it, yes
[19:15:32] <thomaslee> hey folks ... after working with Rust a little more over the last few weeks, I'm still not completely clear on *why* we have different box types -- is it simply that the compiler can reason about the behavior of e.g. unique boxes in such a way that's useful for lifetime analysis etc.?
[19:15:44] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[19:15:53] <strcat> thomaslee: unique pointers are like malloc/free in C - they have a completely deterministic/explicit lifetime
[19:15:58] *** Quits: aruniiird (arun@84E199D6.DCDBCF8E.83D0DF30.IP) (Ping timeout)
[19:16:08] <strcat> but they have only 1 owner
[19:16:42] <strcat> managed boxes are less restricted (can have multiple owners) but they have to rely on a garbage collector and handle freezing on borrows dynamically
[19:16:58] <engla> thomaslee: unique pointers are easy to safely transfer between threads
[19:17:12] <strcat> that too - single they have one owner, you can send a unique pointer to another task without a copy
[19:17:16] *** Quits: doomlord1 (walter@moz-A9E19E41.range86-140.btcentralplus.com) (Ping timeout)
[19:17:21] <strcat> since they have*
[19:17:26] <strcat> typing >.<
[19:17:39] <thomaslee> strcat, sure, and because they only have one owner it's easier for the compiler to reason about the lifetime right? I'd guess even necessary?
[19:17:53] <strcat> thomaslee: it doesn't really have to reason about the lifetime
[19:17:59] <Nait> strcat:where do I get incoming from?
[19:18:00] <strcat> the lifetime ends when they go out of scope, they get freed at that point
[19:18:12] <strcat> Nait: you need to clone to git repository and then 'git checkout incoming'
[19:18:20] <Nait> ah thanks
[19:18:22] <strcat> Nait: and then ./configure && make from there
[19:18:25] <thomaslee> right -- I think I understood the efficient thread/task transfer thing, but was unsure if that was the *only* reason. :)
[19:19:01] <strcat> thomaslee: when you see ~5
[19:19:01] <thomaslee> strcat, ahhhh I see. I think that's the piece of the puzzle I was missing
[19:19:11] <strcat> it's essentially malloc(sizeof(type))
[19:19:16] <strcat> and there's a paired free(type) at the end of the scope
[19:19:36] <strcat> when you move from it (assign/pass it by-value), it sets 'source = NULL'
[19:20:29] <Nait> strcat: git checkout incoming errors, are you sure that is the correct syntax?   Do I want to change to branch incoming?
[19:20:45] <thomaslee> cool -- then when the "last" owner goes out of scope without passing the value along to somebody else, it can be freed?
[19:20:55] <strcat> thomaslee: well they have 1 owner
[19:21:17] <strcat> thomaslee: it pairs a free call with every owner, if it was moved from it will just call free(null)
[19:21:19] <strcat> which is a no-op
[19:21:47] <thomaslee> ah got ya
[19:22:04] <Nait> strcat: it was git checkout -b incoming
[19:22:21] <strcat> Nait: that creates the branch, it's not what you want
[19:22:42] <strcat> Nait: what command did you use to clone it?
[19:22:44] <thomaslee> strcat, I've gotta run, but anywhere in the source code I can look at to see this stuff at the compiler/runtime level? Even vague areas to look at would be awesome :)
[19:23:16] <Nait> strcat: git clone https://github.com/mozilla/rust.git
[19:23:29] <strcat> thomaslee: well src/libstd/unstable/exchange_alloc.rs
[19:23:49] <strcat> thomaslee: that's the runtime part
[19:23:52] *** Joins: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net)
[19:24:08] <strcat> thomaslee: essentially it's just malloc/free though, with an obsolete header
[19:24:26] <strcat> thomaslee: let x = ~5; let y = foo(x)
[19:24:32] <strcat> where foo is the identity function (by-value)
[19:24:35] <strcat> is essentially
[19:25:00] <strcat> let x = malloc(8); y = foo(x); x = null; free(x); free(y)
[19:25:05] <strcat> with an unoptimizing compiler
[19:26:01] *** Parts: caitp (caitp@moz-9FE842F.cpe.net.cable.rogers.com) ()
[19:27:13] *** Joins: doomlord1 (walter@moz-A9E19E41.range86-140.btcentralplus.com)
[19:27:53] <pyrac> hi all. If you have time could I have your opinion on this https://github.com/mozilla/rust/pull/6752 (tutorial for ARC)
[19:28:43] <strcat> Nait: well, afaik it should do this
[19:28:47] <strcat> % git checkout incoming
[19:28:49] <strcat> Branch incoming set up to track remote branch incoming from origin.
[19:28:50] <strcat> Switched to a new branch 'incoming
[19:28:52] <strcat> does that here on a fresh clone
[19:29:03] <strcat> 'git checkout -b foo' creates a branch and checks it out, so you'll just have master if you do that
[19:29:08] *** Joins: MaikKlein (maik@moz-A3453BF6.dip0.t-ipconnect.de)
[19:29:14] <Nait> strcat: I was being an idiot
[19:29:22] <Nait> It is building now
[19:29:26] <strcat> :)
[19:29:30] *** Quits: fabiand (fabiand@moz-C99D1569.adsl.alicedsl.de) (Quit: Verlassend)
[19:29:47] <Nait> have you used any of the rust database libraries?
[19:30:01] <tjc> there are Rust database libraries? cool :-)
[19:30:03] *** Joins: gareth0 (gareth0@moz-901C75EB.dynamic.dsl.as9105.com)
[19:30:29] <Nait> https://github.com/linuxfood/rustsqlite
[19:30:45] <tjc> huh, it's even being worked on! neat
[19:30:47] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[19:30:47] <MaikKlein> http://www.phoronix.com/scan.php?page=news_item&px=MTM3OTQ
[19:31:16] *** Quits: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP) (Quit: eatkinson)
[19:32:06] <Nait> I saw that, it looked interesting
[19:33:29] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[19:33:58] <lkuper_> strcat, tjc: thanks for the fast r+'s
[19:36:22] *** Joins: axesdnd (axes@moz-37E367FF.cj.upcnet.ro)
[19:36:31] <MaikKlein> I have a questions
[19:36:50] <pyrac> graydon: Thanks !
[19:37:00] <tjc> lkuper_: you're welcomeâ€¦ xfailed things get the fastest r+s :-)
[19:37:05] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[19:37:05] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/6dLRMw
[19:37:05] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[19:38:06] <MaikKlein> lets say I have 5 different objects/structs and  I want all object to have the same method "print" which just prints "hello world". How would I do that in Rust?
[19:38:25] <MaikKlein> without re implementing the method 5 times ofc
[19:38:39] <tjc> MaikKlein: you can make a trait called Print with a default method that prints "hello world"...
[19:38:47] <tjc> and have each object declare itself as implementing Print
[19:38:52] <tjc> but default methods still have a few rough edges
[19:39:06] <strcat> you can always work around default method bugs with explicit opt-in
[19:39:23] <MaikKlein> can I only have one default method?
[19:39:32] <strcat> can have as many as you want
[19:40:04] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[19:40:05] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/O06ceg
[19:40:05] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[19:40:06] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[19:40:06] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/bxzEbg
[19:40:06] <ghrust> 13rust/06auto 14363e672 15Seo Sanghyeon: Use adjustments table for allocation lint
[19:40:06] <ghrust> 13rust/06auto 148f80323 15Seo Sanghyeon: Remove unnecessary allocations flagged by lint
[19:40:06] <ghrust> 13rust/06auto 14b0f3686 15bors: auto merge of #6703 : sanxiyn/rust/allocation-lint, r=sanxiyn...
[19:40:09] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[19:40:45] <MaikKlein> is there some documentation about the default method somewhere?
[19:41:39] <tjc> MaikKlein: there should be, but apparently there's not
[19:42:01] <benh> it's default as in "this method comes with a default implementation, an impl doesn't need to give one" not "this is a privileged method that the trait defaults to", iirc
[19:42:08] <tjc> MaikKlein: but, if you grep the test cases for allow(default_methods) -- you'll find some examples
[19:42:09] <tjc> bbl, lunchtime
[19:42:33] <benh> I thought they were still mostly broken :(
[19:43:14] <strcat> benh: well, here's a workaround:
[19:43:54] <strcat> rusti: trait Foo { fn foo(); } trait Bar {}; impl<T: Bar> Foo for T { fn foo() { println("default impl") } }
[19:44:01] -rusti- timed out after 5 seconds
[19:44:02] <benh> yeah, that's what I was thinking :)
[19:44:05] <strcat> rusti: trait Foo { fn foo(); } trait Bar {}; impl<T: Bar> Foo for T { fn foo() { println("default impl") } }
[19:44:20] <strcat> rusti: trait Foo { fn foo(); } trait Bar {}; impl<T: Bar> Foo for T { fn foo() { println("default impl") } }; impl Bar for int {}; 5.foo()
[19:44:22] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/ILSa
[19:44:47] <strcat> rusti: trait Foo { fn foo(); } trait Bar {}; impl<T: Bar> Foo for T { fn foo() { println("default impl") } }; impl Bar for int {}; 5i.foo()
[19:44:49] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/YZHS
[19:44:57] <strcat> huh
[19:45:10] * strcat is confused ;p
[19:47:02] <strcat> graydon: https://github.com/mozilla/rust/pull/6771 r?
[19:48:10] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[19:48:28] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:49:27] *** Joins: mib_tp0bbj (Mibbit@moz-4E8FF910.dynamic.dsl.as9105.com)
[19:50:22] <MaikKlein> wait I can add methods to primitive type such as integers?
[19:50:27] *** Quits: mib_tp0bbj (Mibbit@moz-4E8FF910.dynamic.dsl.as9105.com) (Quit: http://www.mibbit.com ajax IRC Client)
[19:50:35] <benh> via a trait you define, yes
[19:51:10] <strcat> MaikKlein: if the trait or the type is in your crate, you can impl the trait for the type
[19:51:25] <strcat> so you an impl Eq or Ord on your own type, but not on a type from another crate
[19:51:37] <strcat> but you can impl your own trait on types like int from another crate
[19:52:11] <strcat> oh heh it's because I used a static method
[19:52:13] * strcat is silly
[19:52:36] <strcat> rusti: trait Foo { fn foo(&self); } trait Bar {}; impl<T: Bar> Foo for T { fn foo(&self) { println("default impl") } }; impl Bar for int {}; 5.foo()
[19:52:37] -rusti- default impl
[19:53:22] <MaikKlein> pretty cool
[19:53:29] *** Joins: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl)
[19:54:39] *** Quits: heftig (heftig@moz-847177C4.dip0.t-ipconnect.de) (Ping timeout)
[19:55:12] <benh> That seems like a reasonable pattern for gtk bindings :D
[19:56:22] <Luqman> benh: https://github.com/mzabaluev/grust could also be an option for getting bindings
[19:57:04] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[19:57:14] <benh> Ah, cool
[19:58:15] <MaikKlein> so an trait is more like an abstract class in java/c#? 
[19:58:31] <MaikKlein> just without datamembers?
[19:58:41] <benh> It's more like a class in haskell, really
[19:59:05] <benh> maybe an OOP interface with the polymorphism optional
[19:59:23] <MaikKlein> I only know strict OOP languages
[19:59:30] <MaikKlein> well I also learned a bit scala
[19:59:54] <lkuper_> MaikKlein: yeah, it's like a Haskell typeclass, or like a Java interface but one where you get to supply implementations as well as signatures for the methods
[20:00:27] <lkuper_> (although, as others have been saying, the default methods stuff doesn't work all that well yet (sigh))
[20:00:51] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[20:00:54] <MaikKlein> but I can't do something like this trait Test{ a: int;} right?
[20:00:57] <strcat> MaikKlein: it can be used either as a type class (where you bound a type parameter by required traits) or as an interface (you can use them as objects)
[20:00:58] <MaikKlein> only methods
[20:01:07] <strcat> MaikKlein: only methods and static methods
[20:01:09] <lkuper_> MaikKlein: that's right
[20:01:14] <MaikKlein> okay thanks
[20:01:46] *** Joins: heftig (heftig@moz-2AFE8E9D.dip0.t-ipconnect.de)
[20:03:53] *** Joins: webber46 (webber46@moz-D5A7BED0.mobileonline.telia.com)
[20:04:53] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[20:08:34] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[20:12:27] *** Quits: Nait (Mibbit@moz-C29902AE.hsd1.md.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:13:16] *** Quits: Jesin (Jessin_@moz-A03A364F.cc.lehigh.edu) (Quit: Leaving)
[20:13:35] <MaikKlein> I also have question about the GC. I know that the GC would only get activated when I use @. The Rust page states "optional task-local GC" 1.) What happens if I don't use tasks? If my whole program is single threaded, would it then pause my program when it runs? 2.) Is it really optional? Can I change it to ref counting if I would need it?
[20:14:10] <strcat> MaikKlein: you can use extra::rc if you want reference counting
[20:14:20] <strcat> the gc will stop-the-task (once there's actually a gc)
[20:14:50] <engla> I guess it's expressing that using GC-ed types is optional
[20:14:59] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[20:15:11] <MaikKlein> but the std library uses sometimes @ right?
[20:15:34] <strcat> MaikKlein: it won't use it very much in 1.0
[20:15:41] <strcat> persistent data structures will use @, not much else should
[20:16:03] <engla> io is being fixed to not use @ I think
[20:16:16] <strcat> yeah
[20:16:20] <strcat> brson is working on that
[20:18:50] <MaikKlein> okay that's nice. I was a little bit worried that it will be as in D where you practically can't turn off the GC because then you  lose most of the std library.
[20:19:15] <MaikKlein> afaik
[20:19:34] <strcat> MaikKlein: it's not really the same situation as D
[20:19:42] <strcat> @ is entirely optional and other language features don't depend on it
[20:20:11] <strcat> ~ and extra::rc/extra::arc give you unique, task-local shared and sendable shared data without gc
[20:20:44] <strcat> the stdlib *does* overuse @ but it's regarded as a bug and will be fixed
[20:20:45] *** Quits: lmandel (lmandel@FE1F74.86ED00A7.971E19F6.IP) (Quit: lmandel)
[20:21:09] <strcat> the mutable containers are already @-free
[20:21:37] <MaikKlein> damn I really like Rust :)
[20:22:31] <MaikKlein> it is a good "damn" don't judge me I am german :x
[20:22:41] *** Joins: jviereck (Adium@moz-340574DC.dclient.hispeed.ch)
[20:23:51] <chandler> MaikKlein: that was a perfectly idiomatic "damn". no need to apologize!
[20:25:25] *** Quits: pyrac (pyrac@moz-D851FA22.w92-149.abo.wanadoo.fr) (Quit: pyrac)
[20:27:49] *** Quits: tjc (tjc@A5087023.2354C43D.D8E68FF6.IP) (Quit: Places to go, people to annoy)
[20:28:08] <MaikKlein> okay puh, I am not always sure if I speak correct English. :)
[20:30:42] *** Quits: jviereck (Adium@moz-340574DC.dclient.hispeed.ch) (Ping timeout)
[20:30:52] *** Quits: webber46 (webber46@moz-D5A7BED0.mobileonline.telia.com) (Ping timeout)
[20:31:05] <chandler> besser als mein Deutsch :)
[20:31:05] *** Joins: jviereck (Adium@moz-F412D6C1.dynamic.hispeed.ch)
[20:31:57] <MaikKlein> German is a weird language
[20:32:03] <graydon> strcat: there's reasonably high likelihood that the _eventual_ GC (like when I stop hacking on it, in +N years) will be a mostly-copying and incremental. but for now, yeah, stop-the-task.
[20:32:37] *** Joins: Jesin (Jessin_@moz-A03A364F.cc.lehigh.edu)
[20:34:38] *** Joins: mulander (uid1766@moz-D8B63698.irccloud.com)
[20:36:27] *** Joins: webber46 (webber46@moz-D5A7BED0.mobileonline.telia.com)
[20:37:03] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[20:38:52] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[20:40:26] *** Quits: reyre_ (reyre@86C3727C.33EE9F8A.1139E686.IP) (Client exited)
[20:41:49] *** Joins: dylukes (dylukes@moz-E4DF3FED.pitbpa.fios.verizon.net)
[20:43:00] *** Joins: Sevki (Sevki@moz-EB20D033.cable.virginmedia.com)
[20:43:01] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[20:43:01] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/bxzEbg
[20:43:01] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[20:43:43] *** Quits: dylukes (dylukes@moz-E4DF3FED.pitbpa.fios.verizon.net) (Quit: Computer has gone to sleep.)
[20:44:24] *** Joins: lmandel (lmandel@moz-DA7BE1E2.dsl.bell.ca)
[20:46:00] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[20:46:00] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/7xzXNw
[20:46:00] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[20:46:01] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[20:46:01] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/3PytBA
[20:46:01] <ghrust> 13rust/06auto 14c658132 15GÃ¡bor HorvÃ¡th: Warnings for missing documentations.
[20:46:01] <ghrust> 13rust/06auto 143d61931 15GÃ¡bor HorvÃ¡th: Only trigger missing documentation warnings to public functions and fields.
[20:46:02] <ghrust> 13rust/06auto 145d04ee8 15bors: auto merge of #6715 : Xazax-hun/rust/incoming, r=graydon...
[20:46:04] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[20:46:34] *** Joins: evan (evan@moz-F60DCF69.us-west-1.compute.amazonaws.com)
[20:48:00] *** Quits: MaikKlein (maik@moz-A3453BF6.dip0.t-ipconnect.de) (Ping timeout)
[20:49:41] <enticeing> in an if statement, `return true;` can just be `true`, right?
[20:49:59] <strcat> 'return' returns from the function
[20:50:05] <strcat> if it's the last expression in the function, yes
[20:50:15] <enticeing> well, the if is in a match case
[20:50:19] *** Quits: Sevki (Sevki@moz-EB20D033.cable.virginmedia.com) (Quit: Linkinus - http://linkinus.com)
[20:50:38] <strcat> if the match is the last expression in the fn then
[20:50:51] <enticeing> also, what would be the easiest way to if on two different conditions?
[20:51:42] *** Quits: jaen (jaen@moz-DD310A5.play-internet.pl) (Ping timeout)
[20:51:59] <strcat> enticeing: if cond { } else if cond2 {} ?
[20:52:27] <enticeing> well, i want if cond AND cond2 { } else { }
[20:52:46] *** Quits: sp3d (a@moz-49806493.dhcp.stls.mo.charter.com) (Ping timeout)
[20:52:47] <cmr> enticeing: what's up?
[20:52:58] <strcat> well you can use &&
[20:53:01] <cmr> also I sprained my right hand so if anyone wants a PR out of me it's going to be slow :p
[20:53:06] <cmr> erm
[20:53:09] <cmr> engla: what's up?
[20:53:13] <cmr> (sorry enticeing)
[20:53:17] *** Joins: ski (Stefan@moz-4BB5E0FF.studat.chalmers.se)
[20:55:23] *** Quits: jviereck (Adium@moz-F412D6C1.dynamic.hispeed.ch) (Quit: Leaving.)
[20:55:38] *** Quits: webber46 (webber46@moz-D5A7BED0.mobileonline.telia.com) (Quit: webber46)
[20:55:59] *** Joins: sp3d (a@moz-49806493.dhcp.stls.mo.charter.com)
[21:02:36] *** Joins: hjr3 (hradtke@moz-842BF853.hsd1.ca.comcast.net)
[21:04:16] *** Quits: Palmik (palmik@moz-A80A59D3.vpn.muni.cz) (Quit: Lost terminal)
[21:04:43] *** Quits: Blub\w (wry@moz-761737F7.wireless.dyn.drei.com) (Quit: nn)
[21:04:54] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Ping timeout)
[21:04:59] <engla> cmr: just a small experiment with Lua http://paste.debian.net/plainh/4fa34d6c  since you talked about it. nothing big
[21:07:48] <cmr> engla: not bad! :)
[21:07:49] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[21:09:00] <cmr> rusti: enum foo {A, B, C}; enum bar {A, B, C}
[21:09:01] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/YNHP
[21:09:39] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[21:10:36] <engla> right. I'm not the right person to make full Lua bindings I think. lots of hard choices to be made since the Lua C api is very unsafe (most C Api functions don't check parameters ever)
[21:16:07] *** Quits: cowboyd (cowboyd@moz-1BD02A1E.sw.biz.rr.com) (Client exited)
[21:17:15] *** Joins: cowboyd (cowboyd@moz-1BD02A1E.sw.biz.rr.com)
[21:17:45] *** Quits: geomyidae (geomyidae@DD6F7E3A.21468E9A.30200F38.IP) (Ping timeout)
[21:19:32] *** Joins: geomyidae (geomyidae@DD6F7E3A.21468E9A.30200F38.IP)
[21:23:38] *** Quits: bytbox (s@moz-48C1B76C.hsd1.md.comcast.net) (Ping timeout)
[21:23:59] *** Joins: balpert (alpert@moz-B247840C.hsd1.ca.comcast.net)
[21:25:46] *** Joins: MaikKlein (maik@moz-A3453BF6.dip0.t-ipconnect.de)
[21:26:22] *** Quits: gareth0 (gareth0@moz-901C75EB.dynamic.dsl.as9105.com) (Ping timeout)
[21:27:39] *** Quits: cowboyd (cowboyd@moz-1BD02A1E.sw.biz.rr.com) (Client exited)
[21:27:53] *** Joins: bytbox (s@moz-48C1B76C.hsd1.md.comcast.net)
[21:30:53] *** Joins: sfackler (sfackler@moz-316FE70F.compute-1.amazonaws.com)
[21:32:42] *** Quits: lmandel (lmandel@moz-DA7BE1E2.dsl.bell.ca) (Quit: lmandel)
[21:35:50] *** Quits: doomlord_ (walter@moz-A9E19E41.range86-140.btcentralplus.com) (Quit: Lost terminal)
[21:35:59] *** Quits: hjr3 (hradtke@moz-842BF853.hsd1.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[21:36:26] *** Parts: doomlord__ (servitor@moz-A9E19E41.range86-140.btcentralplus.com) (Leaving)
[21:36:31] <lkuper_> enticeing: the best way to if on two different conditions would probably be to write it as a match
[21:37:10] <lkuper_> enticeing: a `cond!` macro for scheme-style cond would also work
[21:37:55] <lkuper_> I think we've got one of those
[21:38:13] <lkuper_> yep: https://github.com/mozilla/rust/pull/6333
[21:38:39] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[21:39:41] *** Quits: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP) (Quit: eatkinson)
[21:40:25] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[21:40:53] *** Joins: reyre_ (reyre@16B01F51.415986EB.47C41102.IP)
[21:47:50] *** Quits: MaikKlein (maik@moz-A3453BF6.dip0.t-ipconnect.de) (Quit: Leaving.)
[21:47:53] *** Quits: catpig (catpig@moz-FE9C02B0.dip0.t-ipconnect.de) (Quit: Verlassend)
[21:48:03] *** Joins: doomlord (doomlod@moz-A9E19E41.range86-140.btcentralplus.com)
[21:48:40] *** Parts: judder (maradukewa@385DDD8F.206937E4.78E362FE.IP) ()
[21:49:09] *** Joins: threecreepio (jdp@moz-DB2D70E9.cust.bredbandsbolaget.se)
[21:49:51] *** Quits: reyre_ (reyre@16B01F51.415986EB.47C41102.IP) (Client exited)
[21:50:50] *** Joins: izuka (Mibbit@38A702BD.1C288B5B.A4B8B8E8.IP)
[21:50:52] <martndemus> Could someone take a look at this code? http://pastebin.com/77Ar5z5z How can i get X to look like a Z?
[21:51:02] *** Joins: catpig (catpig@moz-FE9C02B0.dip0.t-ipconnect.de)
[21:51:27] <martndemus> (compiles with error: mismatched types: expected `core::option::Option<~Z>` but found `core::option::Option<~X>` (expected trait Z but found ~-ptr))
[21:52:04] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[21:52:04] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/3PytBA
[21:52:04] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[21:52:18] <strcat> martndemus: as ~Z
[21:52:23] <strcat> but I don't think ~Trait works atm
[21:52:49] <strcat> 99% of the time traits are used as type classes so not much work has gone into fixing issues with trait objects (@Trait mostly works, when you don't need mutability)
[21:53:06] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[21:53:09] <strcat> ~Trait likes to double-free or segfault ;p
[21:54:01] <martndemus> hmm, the as ~Z works, but now i get 'error: moving out of immutable field' on the get_p method
[21:54:12] <martndemus> so yeah
[21:54:47] <martndemus> im failing at getting a grasp of this immensely different language
[21:54:49] <strcat> martndemus: you can't return Option<~Z> from Option<~Z> in a field without either having self by-value
[21:55:01] <strcat> or copying
[21:55:02] *** Quits: doener (doener@moz-121949B3.unitymediagroup.de) (Quit: leaving)
[21:55:05] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[21:55:05] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/JVjOrA
[21:55:05] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[21:55:06] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[21:55:06] <ghrust> 01[13rust01] 15bors pushed 8 new commits to 06auto: 02http://git.io/zERSUw
[21:55:06] <ghrust> 13rust/06auto 14cf8e9f9 15Daniel Micay: make the memcpy/memmove intrinsics higher-level...
[21:55:06] <ghrust> 13rust/06auto 142eaa5db 15Daniel Micay: C++0x -> C++11
[21:55:06] <ghrust> 13rust/06auto 14d9c0f0f 15Daniel Micay: add memset32/memset64
[21:55:07] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[21:55:42] *** Parts: izuka (Mibbit@38A702BD.1C288B5B.A4B8B8E8.IP) ()
[21:55:50] <martndemus> strcat: can i return @Z ?
[21:56:21] <strcat> martndemus: if you have ~Z in a field you can either take self by-value and return it or copy it
[21:56:29] <strcat> you can copy @Z implicitly
[21:56:43] <strcat> I dunno exactly what you're trying to do though
[21:57:38] *** Joins: lmandel (lmandel@FE1F74.86ED00A7.971E19F6.IP)
[21:57:38] <martndemus> strcat: well mainly i have no idea what im doing. because im still figuring out how the different pointers work
[21:58:41] <martndemus> i know that ~ is unique and @ is shared and & is borrowed, but i do not really know when to use what
[21:59:09] <strcat> well you usually just want to use unboxed values
[21:59:19] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[21:59:22] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[21:59:27] <strcat> when you have something recursive, you have to use ~ to make it not infinite size
[22:00:34] <martndemus> i'm working on a tree-like structure, so its recursive
[22:00:53] <strcat> martndemus: is it a tree of polymorphic types? or just the same type
[22:01:10] <martndemus> a tree of polymorphic types yes
[22:02:02] <strcat> martndemus: btw if you know all the types in advance, you'd usually use an enum in rust (falling back to a trait when you can't, such as with user-provided ones)
[22:02:57] <strcat> martndemus: anyway ~ is the right thing to use if it's a nice simple tree where the parent owns the children
[22:03:05] <kimundi> martndemus: Rule of thumb: ~ if you have to allocate memory that survives the current function, else just use & to reference it. Never use @ unless really necessarry. (cyclic data structures, bugs to work around, etc)
[22:03:21] <strcat> you only have to use @ when there's shared ownership, like a graph
[22:03:29] *** Joins: mzabaluev (mzabaluev@moz-91FFD755.dhcp.inet.fi)
[22:03:53] <strcat> or as a way of doing structural copy-on-write as-needed
[22:04:25] *** Quits: twm (twm@moz-13417AD3.dsl.static.sonic.net) (Ping timeout)
[22:04:26] <martndemus> so i cant have child -> parent and parent -> child references with ~ ?
[22:04:38] <kimundi> nope
[22:04:47] <strcat> martndemus: it can only represent a unique owner
[22:04:54] <martndemus> awww
[22:05:00] <strcat> martndemus: when the owner is destroyed, it is destroyed
[22:06:26] *** Joins: Marbles (Marbles@moz-24608825.cable.virginmedia.com)
[22:06:31] <strcat> martndemus: @ will let you do that
[22:06:44] <martndemus> strcat: can you point me to some articles that explain the pointer thing more deeply? (pun intended)
[22:06:46] *** Joins: twm (twm@moz-13417AD3.dsl.static.sonic.net)
[22:08:01] <strcat> well beyond http://static.rust-lang.org/doc/tutorial.html#ownership there are some blog posts like http://pcwalton.github.io/blog/2013/03/18/an-overview-of-memory-management-in-rust/
[22:08:45] *** Joins: nef (andor@moz-B1384951.neferty.in)
[22:09:20] *** Quits: Marbles (Marbles@moz-24608825.cable.virginmedia.com) (Quit: leaving)
[22:09:24] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[22:09:39] <martndemus> Haha: "but it adds a nontrivial learning curve to the language."
[22:11:02] *** Quits: geomyidae (geomyidae@DD6F7E3A.21468E9A.30200F38.IP) (Ping timeout)
[22:11:19] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[22:12:09] <nef> anyone have any idea which version of openssl rustcrypto requires? :\
[22:12:38] *** Joins: geomyidae (geomyidae@DD6F7E3A.21468E9A.30200F38.IP)
[22:14:34] <strcat> ugh
[22:14:39] <strcat> silly 32-bit
[22:15:17] <axesdnd> exit
[22:15:23] *** Quits: axesdnd (axes@moz-37E367FF.cj.upcnet.ro) (Quit: leaving)
[22:16:00] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[22:16:00] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14715d072 to 145d04ee8: 02http://git.io/N3iJvQ
[22:16:00] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[22:16:02] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[22:16:02] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/0hWAuA
[22:16:02] <ghrust> 13rust/06auto 1425048d3 15Alex Crichton: Define rustc's host triple at compile time...
[22:16:02] <ghrust> 13rust/06auto 145411f83 15Alex Crichton: Un-ignore rusti/rustpkg tests on i686
[22:16:02] <ghrust> 13rust/06auto 149f4d331 15bors: auto merge of #6733 : alexcrichton/rust/issue-2400, r=catamorphism...
[22:16:04] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[22:16:19] *** Joins: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net)
[22:17:46] *** Quits: donri (dag@moz-9BB61102.tbcn.telia.com) (Client exited)
[22:21:26] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[22:21:26] <ghrust> 01[13rust01] 15thestinger 04force-pushed 06try from 146cb7529 to 14e6c04de: 02http://git.io/k471pw
[22:21:26] <ghrust> 13rust/06try 14cf8e9f9 15Daniel Micay: make the memcpy/memmove intrinsics higher-level...
[22:21:26] <ghrust> 13rust/06try 142eaa5db 15Daniel Micay: C++0x -> C++11
[22:21:26] <ghrust> 13rust/06try 14d9c0f0f 15Daniel Micay: add memset32/memset64
[22:21:27] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[22:21:50] *** Quits: maxli (maxli@F2D29657.F60B0462.67AC9B1.IP) (Quit: Leaving.)
[22:23:07] <strcat> ugh llvm build is broken on win32 anyway
[22:24:43] *** Joins: Reisen (Reisen@moz-253289F.xen.prgmr.com)
[22:25:57] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[22:27:37] <evan> are there any core methods in rust to print a string w/ escape sequences, like repr() in python?
[22:28:39] <strcat> fmt!("%?", x) is like repr
[22:28:46] <strcat> for some things...
[22:28:48] <strcat> ;p
[22:29:01] <strcat> not what you want for strings
[22:29:40] <strcat> hm
[22:29:49] <evan> i'm trying to get \r and \n sequences to be printed as \r and \n for instance
[22:29:52] <evan> rather than as literals
[22:33:53] *** Quits: geomyidae (geomyidae@DD6F7E3A.21468E9A.30200F38.IP) (Ping timeout)
[22:33:59] *** Joins: jaen (jaen@moz-BEAD385F.play-internet.pl)
[22:35:59] *** Joins: geomyidae (geomyidae@DD6F7E3A.21468E9A.30200F38.IP)
[22:37:02] *** Joins: judder (maradukewa@385DDD8F.206937E4.78E362FE.IP)
[22:40:05] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[22:41:26] *** Joins: tjc (tjc@A5087023.2354C43D.D8E68FF6.IP)
[22:41:26] *** ChanServ sets mode: +o tjc
[22:41:48] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[22:47:21] *** Joins: devbug (quassel@moz-E1DE087C.bchsia.telus.net)
[22:48:08] *** aatch|gone is now known as aatch
[22:48:55] <graydon> can anyone think of a reason why cast::transmute would ever show up in a profile (or as a real symbol at all)?
[22:48:58] *** Quits: lkuper_ (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Ping timeout)
[22:49:14] <tjc> graydon: inlining fail?
[22:49:21] <aatch> graydon, because the inliner wasn't run?
[22:49:40] <strcat> graydon: it was doing some terrible equality comparisons against null before, pcwalton was going to fix it but I don't know if he did
[22:49:46] <strcat> afaik it still got inlined though
[22:50:51] * strcat broke rusti (the bot)
[22:51:56] <graydon> oh wow, weirder still
[22:52:11] <graydon> 79      cast::rusti::transmute_16022::_40a762c0af96479a::_07pre
[22:52:16] <graydon> it's the _intrinsic_
[22:52:54] <strcat> oh nvm it's just the stupid intel opengl driver leaking pages again
[22:53:02] <aatch> graydon, yeah, I'm not sure what the deal with the optimisation passes is.
[22:53:28] *** Joins: dylukes (dylukes@moz-E4DF3FED.pitbpa.fios.verizon.net)
[22:53:59] <graydon> hm
[22:54:10] <graydon> there are 62 copies of the hashmap code in librustc
[22:54:20] <tjc> monomorphized instances?
[22:54:20] <strcat> graydon: different types?
[22:54:22] <sp3d> do you think that's enough?
[22:54:27] <tjc> or literally the same code?
[22:54:27] <graydon> strcat: yup
[22:54:36] <graydon> very minor variants
[22:54:38] <strcat> graydon: if you remove the debug! lines it will get a lot smaller iirc
[22:54:45] <graydon> in many cases, identical
[22:55:16] <strcat> graydon: maybe linkonce_odr will get rid of them, I'm not sure
[22:55:28] <strcat> clang uses that on templates, but that's to get rid of them between object files, which we don't have
[22:55:44] <strcat> you'd think LLVM could merge duplicate functions though
[22:55:45] *** Joins: Sorella (queen@B12A78F5.BA14766C.95C8B7C6.IP)
[22:56:43] <graydon> collectively, copies of hashmap:: account for 763k of librustc
[22:57:11] <graydon> 300k just on copies of the insert function
[22:57:12] <graydon> hmm
[22:57:21] <graydon> well this is an amusing passtime!
[22:57:26] <mzabaluev> Sounds like Boost or STL :-P
[22:57:31] *** Quits: doomlord (doomlod@moz-A9E19E41.range86-140.btcentralplus.com) (Ping timeout)
[22:57:35] *** Quits: doomlord1 (walter@moz-A9E19E41.range86-140.btcentralplus.com) (Ping timeout)
[22:57:53] <strcat> clang is good at merging equivalent templates, I'm not sure if that happens in the frontend but I doubt it
[22:57:59] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[22:57:59] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 149f4d331 to 145d04ee8: 02http://git.io/N3iJvQ
[22:57:59] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[22:58:00] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[22:58:00] <ghrust> 01[13rust01] 15bors pushed 1 new commit to 06auto: 02http://git.io/76i8Lg
[22:58:00] <ghrust> 13rust/06auto 14dbc5758 15bors: auto merge of #6724 : thestinger/rust/swap_fast, r=thestinger...
[22:58:00] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[22:58:24] <strcat> huh? how can that be one commit
[22:58:29] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[22:58:42] <strcat> oh well, github's bot is buggy I guess
[22:59:11] <strcat> graydon: linkonce_odr really sounds like the right thing
[22:59:30] * strcat shrugs
[22:59:41] <strcat> I'll look at clang IR like I usually do ;p
[23:00:13] *** Joins: reyre_ (reyre@moz-9002CDDA.cpe.net.cable.rogers.com)
[23:00:33] <aatch> strcat, there is a mergefunc pass
[23:00:40] <graydon> strcat: happy to poke at it, not trying to throw stones. mostly curious about the transmute, actually!
[23:00:45] <Eridius> strcat: I don't think the bot's buggy. That looks like an actual single commit
[23:01:01] <aatch> but it's not in the standard passes that we use atm.
[23:01:08] <aatch> (as far as I can tell anyway)
[23:01:09] <Eridius> actually nevermind. It has 2 parents. I'm just being confused by github showing diffs too
[23:01:48] <strcat> Eridius: there are more, the one it sees is the fix I pushed
[23:01:56] <Eridius> ah
[23:02:09] *** Quits: reyre_ (reyre@moz-9002CDDA.cpe.net.cable.rogers.com) (Ping timeout)
[23:02:11] *** Quits: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl) (Quit: Leaving)
[23:02:19] <strcat> https://github.com/mozilla/rust/commit/e6c04dea0325af808198306e283c17f90d31fc26 that's the 1 commit
[23:02:22] <aatch> strcat, it's also kinda slow.
[23:02:26] <strcat> well, the bot only reported the merge commit
[23:02:30] <strcat> aatch: ah
[23:03:01] <aatch> http://llvm.org/docs/Passes.html#mergefunc-merge-functions
[23:03:32] <strcat> I wonder why it's not in -O3
[23:03:41] <strcat> usually they only leave stuff out if it results in slower code...
[23:03:46] <strcat> or buggy ;p
[23:04:02] *** Joins: dbaupp (Thunderbir@moz-C6B1454A.lns20.syd7.internode.on.net)
[23:05:45] <graydon> aatch: how would I selectively turn-on or turn-off those optimizations in our code?
[23:05:56] <graydon> I mean, I see link.rs does some stuff with a passmanager..
[23:06:01] <aatch> graydon, by refactoring the entire lot
[23:06:08] <aatch> which is what I'm working on atm
[23:06:13] <graydon> \o/
[23:06:29] <graydon> tell me more!
[23:06:46] <graydon> (I believe we're .. not using the optimal set of optimizations there, by a long shot)
[23:07:54] <aatch> Oh, well basically we should be building the set ourselves, but the existing C interface sucks for it and doesn't expose all of the passes
[23:08:28] <aatch> so I'm extending rustllvm to expose more of the passes
[23:08:30] <strcat> graydon: http://ix.io/5OV sample code
[23:08:37] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[23:08:46] <strcat> graydon: http://ix.io/5OW what clang outputs
[23:08:49] <aatch> then making a nicer interface for dealing with the passes
[23:08:51] <strcat> so I guess it doesn't merge them ;\
[23:09:48] <graydon> aatch: this is excellent news!
[23:10:00] <graydon> aatch: how far along are you?
[23:10:13] <aatch> graydon, not too far, I only started yesterday
[23:11:04] <strcat> graydon: there are a few code bloat things with vectors that I plan on fixing btw, I just did swaps first
[23:11:14] <graydon> strcat: ok
[23:11:24] <graydon> strcat: you're familiar with -Z count-llvm-insns yes?
[23:11:44] <strcat> nope!
[23:11:45] <aatch> but I got most of the C interface stuff done and am trying to figure out the best API from Rust
[23:11:48] <graydon> pipe to xdu for a nice overview of where we're spending instructions in codegen
[23:12:14] <strcat> I'm happy that we're generating better code than clang for swaps now at least :)
[23:12:16] <graydon> not necessarily "problematic idioims for llvm optimization", but it can be a useful thing to look at when hunting
[23:12:26] <graydon> aatch: cool
[23:12:29] <strcat> if we didn't zero the entire struct on moves we'd have better code for moves too
[23:12:39] <graydon> strcat: I believe that's the plan
[23:12:45] <aatch> since I also want to have something like --opt <optimization> or --opt no-<optimization> for turning them on or off
[23:15:18] *** Quits: thomaslee (thomaslee@moz-306D3DF4.hsd1.or.comcast.net) (Ping timeout)
[23:16:22] <graydon> yes please
[23:18:20] <strcat> rusti: do you still work
[23:18:20] -rusti- foo.rs:5:16: 5:21 error: expected `{` but found `still`
[23:18:20] -rusti- foo.rs:5          do you still work
[23:18:21] -rusti-                          ^~~~~
[23:19:25] * strcat wonders if there's a better way to kill a cgroup than iterating through the processes with SIGKILL until there are none left...
[23:20:14] <strcat> I'll just steal from systemd
[23:21:35] *** Joins: Nisstyre (wes@moz-FD86289.netflash.net)
[23:24:54] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[23:25:09] *** Quits: judder (maradukewa@385DDD8F.206937E4.78E362FE.IP) (Client exited)
[23:27:12] <strcat>                 /* To avoid racing against processes which fork
[23:27:14] <strcat>                  * quicker than we can kill them we repeat this until
[23:27:16] <strcat>                  * no new pids need to be killed. */
[23:27:18] <strcat> heh
[23:27:47] <aatch> graydon, from what I can tell, the inliner isn't run at all in no-opt builds
[23:27:58] <graydon> yeah, found it
[23:28:14] <graydon> too many build dirs, not enough ability to track which is opt and which is no-opt
[23:28:20] <graydon> sorry, don't mean to have you run around on my behalf
[23:28:47] <aatch> graydon, oh, I was just looking to see what the Builder uses and noticed
[23:28:48] <strcat> graydon: we should stick build env vars in rustc --version
[23:28:54] * strcat opens an issue
[23:29:57] <aatch> We really should run the always-inline pass, even if -O0 builds
[23:30:10] <strcat> makes it harder to debug though
[23:31:06] <tjc> we could add another optimization level :-)
[23:31:54] <benh> -O0.5?
[23:32:08] <strcat> gcc has -Og now ;p
[23:32:20] <tjc> sure, that works as well as anything!
[23:32:21] <aatch> At any rate, I'm definitely having the dead prototype removal no matter what
[23:33:10] <strcat> funny how the modern way of killing services still feels like a total hack
[23:33:25] <strcat> loop on cgroup.procs as fast as you can spamming SIGKILL
[23:33:35] <strcat> and hopefully you can kill faster than it can fork
[23:33:58] <benh> Can't you like take away all their cpu slices?
[23:34:14] <strcat> I think I can do better and freeze them
[23:34:19] <strcat> but first, this horrid hack
[23:34:50] <aatch> huh, I didn't realize that LLVM had a "loop idiom" pass that recognises things like memset-like loops
[23:35:07] <strcat> aatch: it's pretty bad though. aliasing is srs bsns ;p
[23:35:12] <graydon> don't suppose anyone found that memory regression, eh?
[23:35:34] <strcat> graydon: nope :(
[23:35:56] <strcat> graydon: it's quite funny though, I have a buggy video driver leaking 1MiB every 10mins and a dead stick of ram
[23:36:04] <strcat> and rust feels like eating more than usual, so I keep going oom \o/
[23:36:25] <strcat> meh maybe it's faster than 1MiB/min
[23:37:02] *** Quits: vosen (vosen@moz-266BA656.icpnet.pl) (Quit: Leaving)
[23:37:18] <strcat> depends on what I do :)
[23:39:13] *** Quits: cjh (chellmuth@moz-45C21C42.compute-1.amazonaws.com) (Ping timeout)
[23:39:33] <nef> i'm trying out rust again, but i'm not sure what the error message 'error: a sigil (`@`, `~`, or `&`) must be specified when casting to a trait' is supposed to mean
[23:39:59] <nef> where do i put the sigil in this case? the tutorial doesn't seem to mention it
[23:40:06] <strcat> nef: trait objects have to be a pointer, like &Ord
[23:40:30] <cmr> Do trait objects work well now?
[23:40:36] <strcat> kind of.
[23:41:02] <nef> okay, but where do i put the sigil?
[23:41:17] *** Joins: cjh (chellmuth@moz-45C21C42.compute-1.amazonaws.com)
[23:41:35] <cmr> nef: foo as {@,~,&}Trait, I'm guessing
[23:41:46] <nef> nope, no luck with that
[23:42:13] <dbaupp> nef: @foo as @Trait
[23:42:26] <dbaupp> (or whichever sigil you want)
[23:42:34] *** Quits: KindOne (KindOne@moz-764EC586.dynamic.ip.windstream.net) (Ping timeout)
[23:42:54] <aatch> I wonder how much we'd get from adding TargetLibraryInfo too?
[23:43:00] <jdm> anybody know if we possess the ability to schedule tasks on separate threads?
[23:43:09] <jdm> core/task/spawn.rs doesn't give me hope
[23:43:11] *** Joins: thomaslee (thomaslee@moz-306D3DF4.hsd1.or.comcast.net)
[23:43:22] <nef> jdm: ManualThreads?
[23:43:28] <nef> last time i used it, that is
[23:43:33] <aatch> jdm, you can, you spawn with a new scheduler
[23:43:43] <jdm> I'll give that a try, thanks
[23:44:13] <aatch> specifically SingleThreaded
[23:46:44] *** Joins: KindOne (KindOne@moz-AAD7235.dynamic.ip.windstream.net)
[23:51:58] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[23:51:58] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/G0HWXw
[23:51:58] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[23:53:08] *** Quits: bytbox (s@moz-48C1B76C.hsd1.md.comcast.net) (Ping timeout)
[23:54:01] <strcat> rusti: 5
[23:54:02] -rusti- 5
[23:54:04] <strcat> huh
[23:54:57] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[23:54:57] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/qgU29Q
[23:54:57] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[23:55:00] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[23:55:00] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/zah5QQ
[23:55:00] <ghrust> 13rust/06auto 14bf57d65 15Kevin Ballard: Issue #6419: Better clang version detection for Apple Clang...
[23:55:00] <ghrust> 13rust/06auto 14e6a838d 15bors: auto merge of #6739 : kballard/rust/issue-6419, r=catamorphism...
[23:55:00] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[23:55:34] <jdm> if I create a stream, spawn a task and want to access the port inside the task, what must I do?
[23:55:43] <jdm> I get problems with moving the port into a heap closure
[23:55:47] *** Quits: mzabaluev (mzabaluev@moz-91FFD755.dhcp.inet.fi) (Ping timeout)
