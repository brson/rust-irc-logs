[00:05:01] *** Quits: notmatt (notmatt@118CCA77.D1B89392.602E4FC1.IP) (Client exited)
[00:08:39] *** Joins: SiegeLord (sl@moz-3D449DF.bstnma.fios.verizon.net)
[00:10:44] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[00:12:22] *** Joins: tjc (tjc@moz-F1FD92BA.static-ip.telepacific.net)
[00:12:22] *** ChanServ sets mode: +o tjc
[00:18:58] *** Joins: notmatt (notmatt@118CCA77.D1B89392.602E4FC1.IP)
[00:23:03] <tikue> acrichto: looking at the code in your proposal, it looks like `chan` is in two tasks at once?
[00:23:19] <acrichto> tikue: how so?
[00:23:42] <tikue> do spawn { .. chan.send(0); } chan.send(2);
[00:24:01] <tikue> maybe i'm just confused
[00:24:15] <acrichto> oh whoops
[00:24:30] <acrichto> needed a shared chan in there
[00:24:37] <tikue> same with port though?
[00:24:37] <acrichto> or just another pair
[00:24:40] <tikue> ah ok
[00:25:23] <acrichto> nice catch
[00:35:10] *** Quits: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[00:35:12] *** Joins: brson (brson@5AB4884B.FCC4549.14D5B978.IP)
[00:35:12] *** ChanServ sets mode: +qo brson brson
[00:37:55] *** Joins: jdm (jdm@5AB4884B.FCC4549.14D5B978.IP)
[00:55:35] *** Joins: pcwalton (pcwalton@5AB4884B.FCC4549.14D5B978.IP)
[00:55:36] *** ChanServ sets mode: +ao pcwalton pcwalton
[01:08:55] *** Joins: ecr (chatzilla@E940BDD3.FBC7597F.11F8506F.IP)
[01:28:01] *** Quits: ecr (chatzilla@E940BDD3.FBC7597F.11F8506F.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 25.0/20131025151332])
[01:35:46] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[01:39:12] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[01:43:25] *** Quits: notmatt (notmatt@118CCA77.D1B89392.602E4FC1.IP) (Client exited)
[01:43:50] *** Quits: brson (brson@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[01:49:32] *** Joins: brson (brson@5AB4884B.FCC4549.14D5B978.IP)
[01:49:32] *** ChanServ sets mode: +qo brson brson
[01:51:32] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[01:54:13] <klutzy> silly question: are lovecraft quotes we're using in public domain?
[01:55:33] <klutzy> since some lovecraft works have disputes in copyright status
[01:55:34] <tjc> klutzy: I believe so -- Lovecraft's writing is old enough that it's out of copyright
[01:55:35] *** Joins: notmatt (notmatt@118CCA77.D1B89392.602E4FC1.IP)
[01:55:50] <tjc> but if you wanted to be sure, you could check the publication dates and the relevant copyright timeout dates
[01:56:05] <klutzy> tjc: it's quite complicated http://en.wikipedia.org/wiki/H._P._Lovecraft#Copyright
[01:57:13] <tjc> klutzy: heh. If it's complicated, we might want to use something else
[01:57:26] <tjc> doesn't seem worth the lawyers' time to verify permissions on text in error messages :-)
[01:58:26] <SiegeLord> Maybe it's best to forget the silly question ;)
[01:59:11] <tjc> or we can just make sure to use works published before 1923 :-)
[01:59:28] <cmr> copyright law is so silly :|
[01:59:56] <klutzy> or we can make error-free system and ensure post-1923 messages are not displayed forever :p
[02:00:03] <cmr> heh
[02:01:58] <tjc> copyright law is exactly what lobbyists' money can buy. not silly at all, it's quite serious for them :-)
[02:04:59] <cmr> Can an emacs user make a way for me to test https://github.com/mozilla/rust/issues/3533 as I refactor diagnostics?
[02:05:33] <cmr> (a set of instructions is fine)
[02:11:53] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[02:17:10] *** Quits: brson (brson@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[02:17:58] *** Joins: brson (brson@5AB4884B.FCC4549.14D5B978.IP)
[02:17:58] *** ChanServ sets mode: +qo brson brson
[02:22:02] *** Quits: brson (brson@5AB4884B.FCC4549.14D5B978.IP) (Quit: leaving)
[02:22:06] *** Joins: brson (brson@5AB4884B.FCC4549.14D5B978.IP)
[02:22:06] *** ChanServ sets mode: +qo brson brson
[02:28:26] *** Quits: brson (brson@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[02:30:48] *** Quits: notmatt (notmatt@118CCA77.D1B89392.602E4FC1.IP) (Client exited)
[02:30:57] *** Quits: tjc (tjc@moz-F1FD92BA.static-ip.telepacific.net) (Quit: zzzzzzzzzz)
[02:31:51] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[02:32:02] *** Joins: notmatt (notmatt@118CCA77.D1B89392.602E4FC1.IP)
[02:33:23] *** Quits: notmatt (notmatt@118CCA77.D1B89392.602E4FC1.IP) (Client exited)
[02:35:03] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[02:38:41] *** Quits: jdm (jdm@5AB4884B.FCC4549.14D5B978.IP) (Quit: Lost terminal)
[03:07:10] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[03:31:25] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[03:31:26] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14fb396c4 to 14ade310c: 02http://git.io/N3iJvQ
[03:31:26] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[03:31:26] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[03:31:26] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/Vx5a4g
[03:31:26] <ghrust> 13rust/06auto 14fbad2e2 15Daniel Micay: remove `cast::unsafe_copy`...
[03:31:26] <ghrust> 13rust/06auto 1443f6791 15bors: auto merge of #10497 : thestinger/rust/cleanup, r=cmr...
[03:31:27] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[03:38:42] *** Quits: zz_kimundi (kimundi@moz-3CF1A7E.dip0.t-ipconnect.de) (Ping timeout)
[03:42:22] *** Joins: zz_kimundi (kimundi@moz-31504FA9.dip0.t-ipconnect.de)
[03:42:23] *** zz_kimundi is now known as kimundi
[03:43:51] *** Joins: notmatt (notmatt@118CCA77.D1B89392.602E4FC1.IP)
[03:44:26] *** Quits: gavin (gavin@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[03:45:33] *** Quits: notmatt (notmatt@118CCA77.D1B89392.602E4FC1.IP) (Ping timeout)
[03:49:37] *** Joins: gavin (gavin@moz-DB4A9C19.scl3.mozilla.com)
[03:51:14] *** Quits: SiegeLord (sl@moz-3D449DF.bstnma.fios.verizon.net) (Quit: Leaving)
[04:06:29] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[04:10:34] *** Joins: brson (brson@5AB4884B.FCC4549.14D5B978.IP)
[04:10:34] *** ChanServ sets mode: +qo brson brson
[04:11:27] *** Joins: jdm (jdm@5AB4884B.FCC4549.14D5B978.IP)
[04:16:27] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[04:19:05] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[04:20:00] *** Joins: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net)
[04:22:29] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[04:22:48] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Connection reset by peer)
[04:23:11] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[04:25:51] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:26:41] <cmr> I've never seen denser code than some of libsyntax
[04:30:01] *** Quits: brson (brson@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[04:34:00] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[04:35:19] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:35:29] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[04:35:39] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:36:24] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[04:36:24] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/Vx5a4g
[04:36:24] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[04:41:23] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[04:41:23] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/4_UNQQ
[04:41:23] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[04:41:31] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[04:41:31] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/5qc_pw
[04:41:31] <ghrust> 13rust/06auto 1489a9ce0 15Guillaume Pinot: Add shootout meteor contest benchmark....
[04:41:31] <ghrust> 13rust/06auto 1474d2731 15Guillaume Pinot: remove useless Iterate impl, and permute the order of the argument of iterate...
[04:41:31] <ghrust> 13rust/06auto 14d2bcc7b 15Guillaume Pinot: Improve variable naming.
[04:41:33] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[04:45:39] *** Quits: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP) (Ping timeout)
[04:47:37] *** Quits: aatch (James@moz-B437F499.pocketrent.com) (Client exited)
[04:52:44] *** Quits: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[04:55:05] *** Joins: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP)
[04:58:31] *** Quits: pcwalton (pcwalton@5AB4884B.FCC4549.14D5B978.IP) (Quit: pcwalton)
[05:00:00] *** Joins: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net)
[05:03:06] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Connection reset by peer)
[05:03:30] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[05:07:11] *** Quits: jdm (jdm@5AB4884B.FCC4549.14D5B978.IP) (Quit: Lost terminal)
[05:16:13] <ktt3ja> anyone here familiar with middle/reachable.rs?
[05:16:42] <ktt3ja> I want to replace this line: https://github.com/mozilla/rust/blob/master/src/librustc/middle/reachable.rs#L296
[05:17:40] <ktt3ja> with `match method.vis {  ast::public => {  self.worklist.push(method.id); },                _ => () }`
[05:18:02] <ktt3ja> and `make rustc-stage1` runs with no error
[05:18:14] <ktt3ja> but I'm worried I might have broken something
[05:19:32] *** Joins: eddyb (eddy@336E3A7F.D51DAF03.FB866788.IP)
[05:20:06] <cmr> ktt3ja: yes, you have
[05:20:20] <cmr> Well
[05:20:27] <cmr> Yeah
[05:20:46] <cmr> What if code calls a non-pub fn in that module or a child module?
[05:21:27] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[05:21:28] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14cf28c61 to 1443f6791: 02http://git.io/N3iJvQ
[05:21:28] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[05:21:31] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[05:21:31] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/RS1dkw
[05:21:31] <ghrust> 13rust/06auto 14259ad29 15Youngmin Yoo: Move treemap.rs from libextra to libstd
[05:21:31] <ghrust> 13rust/06auto 145d238b1 15bors: auto merge of #10496 : recrack/rust/move_treemap_libextra_to_libstd, r=brson...
[05:21:31] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[05:21:57] <ktt3ja> err, what do you mean?
[05:22:24] <cmr> 'impl Foo { fn baz(); }`
[05:22:36] <cmr> That's non-public, but still reachable
[05:22:59] <ktt3ja> the function baz()?
[05:23:17] <cmr> method, yes.
[05:23:36] <ktt3ja> hmm, I don't quite understand what "reachable" means
[05:24:08] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Connection reset by peer)
[05:25:03] <cmr> Hm actually
[05:25:24] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[05:25:39] <cmr> Yeah I don't think that's reachable on third thought
[05:26:16] <ktt3ja> I think I should go run `make check`
[05:26:41] <ktt3ja> I need to change that part for dead-code warning pass to work properly
[05:27:14] <ktt3ja> as it is, `pub struct Foo; impl Foo { fn baz() {} }` wouldn't put warning on baz
[05:28:16] <strcat> fn bar() {}
[05:28:19] <strcat> bar isn't reachable
[05:28:30] <strcat> #[inline] fn foo() { bar() } fn bar() {}
[05:28:31] <strcat> now it is
[05:29:29] <cmr> strcat: yeah, but walking the bodies of actually-reachable things will catch that
[05:29:39] <dcrewi> what does reachable have to do with dead code?
[05:30:16] <ktt3ja> dead code uses the same propagation logic
[05:30:40] <ktt3ja> so preferably I can reuse ReachableContext
[05:30:51] <ktt3ja> instead of copy-and-paste it and modify it a little bit
[05:31:30] <cmr> if something is reachable it certainly isn't dead, so it'd also save some work
[05:32:57] <ktt3ja> anyway, if reachable is broken, I can be confident that `make check` would catch it, right?
[05:33:44] <cmr> confident? no. butif there's no test, it isn't broken ;p
[05:36:36] <ktt3ja> from what I understand about the current reachable, if we have something like `struct Foo; impl Foo { fn baz(); }`
[05:36:47] <ktt3ja> baz would be reachable, but Foo wouldn't
[05:40:37] *** Quits: lkuper (lkuper@3A916FC1.14CD977C.51B6877.IP) (Quit: lkuper)
[05:43:20] *** Joins: pcwalton (pcwalton@9C2E78E6.8C982E60.292610BC.IP)
[05:43:21] *** ChanServ sets mode: +ao pcwalton pcwalton
[05:46:18] <cmr> https://gist.github.com/cmr/ad9c1ec275929c1e1507
[05:46:29] <cmr> What type _could_ it want?
[05:55:08] <cmr> changing it to `diagnostic.with_borrow::<()>` fixed it
[05:55:47] <cmr> ...which is weird. span_fatal diverges. that's actually probably why it's unconstrained, now that Ithink about it..
[05:59:13] *** Joins: brson (brson@9C2E78E6.8C982E60.292610BC.IP)
[05:59:13] *** ChanServ sets mode: +qo brson brson
[06:01:28] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[06:01:28] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 145d238b1 to 1443f6791: 02http://git.io/N3iJvQ
[06:01:28] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[06:01:34] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[06:01:34] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/vWzkYA
[06:01:34] <ghrust> 13rust/06auto 1489a9ce0 15Guillaume Pinot: Add shootout meteor contest benchmark....
[06:01:34] <ghrust> 13rust/06auto 1474d2731 15Guillaume Pinot: remove useless Iterate impl, and permute the order of the argument of iterate...
[06:01:34] <ghrust> 13rust/06auto 14d2bcc7b 15Guillaume Pinot: Improve variable naming.
[06:01:36] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[06:06:16] *** Quits: brson (brson@9C2E78E6.8C982E60.292610BC.IP) (Quit: leaving)
[06:07:57] *** Quits: pcwalton (pcwalton@9C2E78E6.8C982E60.292610BC.IP) (Quit: pcwalton)
[06:22:26] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[06:32:05] *** Quits: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:32:12] *** Joins: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net)
[06:35:43] *** Quits: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP) (Ping timeout)
[06:47:35] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[06:48:00] *** Quits: acrichto (acrichto@moz-69F2E428.ugrad.cs.cmu.edu) (Ping timeout)
[06:48:00] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[06:48:04] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Ping timeout)
[06:48:12] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[06:48:22] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[06:48:27] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[06:48:28] *** Quits: pauls (pauls@moz-7140CF01.ccs.neu.edu) (Ping timeout)
[06:48:33] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[06:48:35] *** vfetwnuncszu is now known as dcrewi
[06:48:36] *** Joins: acrichto (acrichto@moz-69F2E428.ugrad.cs.cmu.edu)
[06:48:36] *** ChanServ sets mode: +o acrichto
[06:48:46] *** Joins: pauls (pauls@moz-7140CF01.ccs.neu.edu)
[06:52:29] *** Quits: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net) (Quit: tikue_)
[07:46:21] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[07:46:21] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/vWzkYA
[07:46:21] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[08:07:51] *** Joins: dbaupp (Thunderbir@moz-4CA0D523.lns20.syd6.internode.on.net)
[08:09:06] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Connection reset by peer)
[08:09:30] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[08:16:57] *** flaper87|afk is now known as flaper87
[09:22:47] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Connection reset by peer)
[09:23:10] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[09:26:53] *** Quits: Kxepal (Miranda@moz-3A55D1EB.pppoe.mtu-net.ru) (Ping timeout)
[09:29:39] *** Joins: Kxepal (Miranda@moz-A25B204D.pppoe.mtu-net.ru)
[10:04:17] *** Quits: nrc|holiday (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[10:10:02] <eddyb> https://mail.mozilla.org/pipermail/rust-dev/2013-November/006688.html why talk about virtuals?
[10:10:34] <dbaupp> eddyb: what do you mean?
[10:10:40] <eddyb> I wouldn't allow virtual field access in a multiple inheritance scheme
[10:11:17] <eddyb> mixins should be specialized for each implementation
[10:11:21] <dbaupp> is that proposal for multiple inheritance?
[10:11:26] * dbaupp hasn't been following
[10:11:50] <eddyb> dbaupp: and mixins, anon fields, etc.
[10:12:13] <eddyb> I always see virtual field access being mentioned and it's a non-problem
[10:17:16] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[10:24:18] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[10:34:05] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[10:46:42] <friggle> strcat: do you plan to add benchmarks to rust-core?
[10:47:16] <strcat> friggle: I guess so
[10:47:38] <strcat> it needs tests :)
[10:47:46] <strcat> it would have them if #[test] worked
[10:48:00] <friggle> strcat: and I guess docs too :)
[10:48:26] <strcat> well, rustdoc doesn't work on it
[10:49:10] <strcat> I'll make docs when it's a bit more stable
[10:51:05] <friggle> strcat: any thoughts on how strings fit in to rust-core?
[10:51:49] <strcat> it will have string slices and a string type wrapping a random-access container of u8
[10:52:15] <strcat> type Str = String<Vec<u8>>;
[10:52:23] <strcat> or whatever it is
[10:52:26] <strcat> really
[10:52:30] <strcat> type Str<A> = String<Vec<u8>, A>;
[10:54:08] <friggle> thanks. Btw I dropped a quick email to Paul Turner after your M:N thread but no response thus far
[10:59:32] <dbaupp> strcat: rustdoc doesn't work?
[10:59:42] <strcat> dbaupp: it's not a crate
[10:59:57] <strcat> well
[10:59:59] <strcat> dbaupp: error: duplicate entry for `add`
[11:00:01] <strcat> and so on
[11:03:29] <strcat> this stupid deque doesn't work ;s
[11:16:42] *** Quits: Kxepal (Miranda@moz-A25B204D.pppoe.mtu-net.ru) (Quit: Kxepal)
[11:17:02] *** Joins: Kxepal (Miranda@moz-A25B204D.pppoe.mtu-net.ru)
[11:19:02] *** Joins: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net)
[11:26:52] *** kimundi is now known as zz_kimundi
[11:35:29] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[11:36:12] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[11:57:46] *** zz_kimundi is now known as kimundi
[12:13:12] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[12:35:46] <eddyb> rusti: [1, 2][1]
[12:35:46] -rusti- 2
[12:35:48] <eddyb> rusti: [1, 2][2]
[12:35:49] -rusti- task <unnamed> failed at 'index out of bounds: the len is 2 but the index is 2', <anon>:9
[12:35:49] -rusti- application terminated with error code 101
[13:07:53] *** kimundi is now known as zz_kimundi
[13:30:58] *** zz_kimundi is now known as kimundi
[14:09:11] *** Joins: pcwalton (pcwalton@9C2E78E6.8C982E60.292610BC.IP)
[14:09:11] *** ChanServ sets mode: +ao pcwalton pcwalton
[14:12:57] *** Joins: brson (brson@9C2E78E6.8C982E60.292610BC.IP)
[14:12:57] *** ChanServ sets mode: +qo brson brson
[14:16:47] *** Quits: brson (brson@9C2E78E6.8C982E60.292610BC.IP) (Ping timeout)
[14:17:57] *** Joins: brson (brson@9C2E78E6.8C982E60.292610BC.IP)
[14:17:57] *** ChanServ sets mode: +qo brson brson
[14:19:26] *** Quits: doomlord_ (servitor@moz-4625DF14.range86-184.btcentralplus.com) (Ping timeout)
[14:20:48] *** Joins: doomlord_ (servitor@moz-4625DF14.range86-184.btcentralplus.com)
[14:26:41] *** Quits: pcwalton (pcwalton@9C2E78E6.8C982E60.292610BC.IP) (Quit: pcwalton)
[14:27:06] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[14:50:03] *** Joins: jdm (jdm@9C2E78E6.8C982E60.292610BC.IP)
[14:56:00] *** Joins: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP)
[15:04:39] *** Joins: brson_ (brson@981AA104.E81F12CD.76F66111.IP)
[15:04:58] *** Quits: brson (brson@9C2E78E6.8C982E60.292610BC.IP) (Ping timeout)
[15:10:12] *** Joins: notmatt (notmatt@moz-3C7AF18C.lightspeed.sntcca.sbcglobal.net)
[15:29:52] *** Joins: notmatt_ (notmatt@moz-3C7AF18C.lightspeed.sntcca.sbcglobal.net)
[15:29:55] *** Quits: notmatt (notmatt@moz-3C7AF18C.lightspeed.sntcca.sbcglobal.net) (Connection reset by peer)
[15:31:24] *** kimundi is now known as zz_kimundi
[15:40:05] *** Quits: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP) (Quit: Leaving)
[15:43:52] *** Quits: notmatt_ (notmatt@moz-3C7AF18C.lightspeed.sntcca.sbcglobal.net) (Ping timeout)
[15:44:10] *** Joins: notmatt (notmatt@moz-3C7AF18C.lightspeed.sntcca.sbcglobal.net)
[15:44:43] *** Quits: notmatt (notmatt@moz-3C7AF18C.lightspeed.sntcca.sbcglobal.net) (Connection reset by peer)
[15:44:51] *** Joins: notmatt (notmatt@moz-3C7AF18C.lightspeed.sntcca.sbcglobal.net)
[15:53:49] *** Quits: brson_ (brson@981AA104.E81F12CD.76F66111.IP) (Quit: leaving)
[16:04:13] *** Quits: notmatt (notmatt@moz-3C7AF18C.lightspeed.sntcca.sbcglobal.net) (Client exited)
[16:37:33] *** Joins: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[17:02:33] *** Joins: notmatt (notmatt@118CCA77.D1B89392.602E4FC1.IP)
[17:11:25] *** Quits: pauls (pauls@moz-7140CF01.ccs.neu.edu) (Client exited)
[17:13:24] *** Joins: pauls (pauls@moz-7140CF01.ccs.neu.edu)
[17:15:16] *** Quits: eddyb (eddy@336E3A7F.D51DAF03.FB866788.IP) (Ping timeout)
[17:15:22] *** Joins: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP)
[17:18:42] *** zz_kimundi is now known as kimundi
[17:29:42] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:36:09] *** flaper87 is now known as flaper87|afk
[17:40:29] <olsonjeffery> strcat: i commented in 10493 . curious if you have any thoughts to add. would really, really, like to find a way forward that keeps us whole.
[17:41:04] <olsonjeffery> i like (and would honestly prefer) the idea of RAII runtime object to contain all scheduling, as opposed to the global magic we have now
[17:42:00] <olsonjeffery> but you made that point about detached threads w/ 1:1 within the scheduler.. how are not tripping over valgrind/helgrind now? it would seem that the current scheduler scheme is doing much the same thing, isn't it?
[17:44:26] <strcat> olsonjeffery: I think the runtime is totally valgrind unclean, but it doesn't necessarily use detached threads
[17:44:29] <strcat> it just presents that model
[17:45:05] <strcat> you can present a 'detached' model with joined threads if you have a runtime doing work before and after main (and likely alongside other tasks, but not necessarily)
[17:45:56] <strcat> olsonjeffery: I posted a link to what an almost non-existent layer of pthreads looks like (just using a dtor)
[17:46:01] <strcat> s/of/over/
[17:46:35] * strcat isn't sure if you saw that already
[17:47:13] <strcat> for integration with C, you really want to be sharing I/O buffers with C, using the same TLS model, and so on
[17:47:21] <strcat> and a C library is likely making blocking I/O calls
[17:47:54] <strcat> libmagic does, leveldb does, sqlite does, etc.
[17:48:20] <strcat> dbus is synchronous, and will be ever more important on linux (it's being rewritten and the low-level part moved to the kernel)
[17:49:18] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[17:50:21] <strcat> helgrind/valgrind are really hard to please
[17:50:29] <strcat> detached threads *should* work fine with them... they don't actually leak
[17:50:42] <strcat> anyway I think keeping them happy by default is a valid concern
[17:52:59] <strcat> we don't have support for stuff like tsan and I'm not sure how easy it would be to add
[17:53:43] <olsonjeffery> strcat: i did see
[17:55:37] <olsonjeffery> so i guess my response is that that ticket is an attempt at a good-faith effort to try and please everyone. why can't we move stuff like TLS, etc, into a Runtime trait? it sounds kinda chicken-and-egg'ish, but a "task" running with an RAII Runtime object would have proper TLS stuff set up for it
[17:56:13] <olsonjeffery> this would make code runningin main() pretty much useless, since it lacks any such thing available on a static basis.. so, yeah. i dunno.
[17:56:15] <strcat> olsonjeffery: in C++ I can write this
[17:56:49] <strcat> thread_local int x = 5; int main() { std::thread foo([]() { x = 10; printf("%d\n", x); }; ... }
[17:56:50] <olsonjeffery> strcat: we're talking past each other at this point. this doesn't feel constructive.
[17:57:00] <olsonjeffery> i keep asking you "hey, can you consider this? con you imagine how this would work?"
[17:57:12] <olsonjeffery> and you keep responding with code snippets for stuff that is eclusive of what's being proposed
[17:58:57] <olsonjeffery> and, yeah. i want strong TLS support. there are gaps in my knowledge. so i'm asking you to consider how/if it'd be possible to make work in a unified trait.
[17:59:07] <strcat> I don't know
[17:59:36] <olsonjeffery> could we have #[thread_local] is a TLS policy was specified in an RAII Runtime trait that executes some closure/thunk representing code that would run "within" that runtime context?
[17:59:39] <olsonjeffery> could we get it to perform?
[17:59:48] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[17:59:55] <strcat> olsonjeffery: the way it works is very magical
[18:00:12] <strcat> in a statically linked executable - yes, we could likely make task-local storage be as fast as thread-local storage
[18:00:25] <strcat> in a dynamically linked executable, we're missing all of the stuff they built for it
[18:00:45] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[18:00:47] <strcat> #[thread_local] ends up making the accesses compile to an access through a segment register, and the linker handles it all
[18:00:51] <olsonjeffery> i wish i knew more about the state of the art for linking
[18:03:11] <strcat> olsonjeffery: http://ix.io/92g for example, becomes http://ix.io/92h
[18:03:14] <strcat> now if it's thread-local
[18:03:38] <strcat> http://ix.io/92i -> http://ix.io/92j
[18:03:43] <strcat> linux uses the fs register for this
[18:03:48] <strcat> I think windows uses a different one
[18:04:08] <strcat> but anyway, in a statically linked executable each thread has a section for this (it's a fixed-size, known at compile-time)
[18:04:32] <strcat> pthread_create is responsible for initializing the initial values (and calling the dtor, for C++11)
[18:04:53] <strcat> we could do that for tasks
[18:05:04] <strcat> but... in a dynamically linked one, it's much more complicated
[18:06:22] <olsonjeffery> yeah, i'm seeing that.
[18:06:47] <strcat> dynamic linking is a whole complex mess ;p
[18:07:05] <strcat> the first time you call a function, it goes through an expensive dance to bind it locally
[18:07:09] <strcat> but there's still indirection
[18:07:12] *** Quits: jdm (jdm@9C2E78E6.8C982E60.292610BC.IP) (Ping timeout)
[18:08:31] <strcat> it doesn't help that rust has really long symbols because it has to put them in poorly performing little lookup tables ;p
[18:08:52] <strcat> it might help if we moved the crate hash to the end
[18:10:22] <strcat> plan 9 and Go live in a happy world where there's no dynamic linking
[18:14:11] <strcat> olsonjeffery: I mean, I'm sure we can have 1:1 threading alongside M:N threading and support user-mode threading where available
[18:14:17] <strcat> it will work well
[18:14:33] <strcat> but I think it will also be true that a faster, nicer API can be provided if you don't abstract over both
[18:15:17] <strcat> and I like the STL point-of-view where if you don't provide something that's best of breed, everyone will just reinvent it (whether or not it succeeded isn't the point :P)
[18:16:35] <olsonjeffery> yeah. i think everyone feels like we should try to head off that eventuality, if at all possible.
[18:16:42] <olsonjeffery> but i hear what you're saying, esp. re: perf..
[18:16:51] <olsonjeffery> and the cost of abstraction and too-vague APIs
[18:17:41] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[18:18:13] <strcat> an example with the vector iter() method is that you don't *really* want &T for small primitives
[18:18:23] <strcat> but it's that way because it's abstracted
[18:18:38] <strcat> obviously the solution is more abstraction, to provide a type that's only sometimes a reference ;p
[18:19:21] <strcat> http://www.boost.org/doc/libs/1_54_0/libs/utility/call_traits.htm
[18:19:26] <strcat> if you can think of it, it's in boost.
[18:24:44] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[18:56:26] *** Joins: Sharp (Sharp@1710C26.8381A41.8725677B.IP)
[19:01:59] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[19:14:33] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[19:16:54] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[19:29:09] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Connection reset by peer)
[19:29:09] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[19:29:40] *** Joins: jensnock_ (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[19:29:40] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Connection reset by peer)
[20:00:49] *** Quits: jensnock_ (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[20:10:36] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[20:21:44] *** jld is now known as jld|hunting-lunch
[20:28:20] *** Joins: nrc|holiday (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[20:30:52] *** Joins: andrew-__ (andrew-d_w@moz-5A92CAFF.dsl.static.sonic.net)
[20:30:57] *** Quits: andrew-__ (andrew-d_w@moz-5A92CAFF.dsl.static.sonic.net) (Input/output error)
[20:31:18] *** Joins: andrew-__ (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[20:31:42] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[20:42:22] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[20:43:18] *** Quits: andrew-__ (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[20:46:13] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[20:51:47] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[20:54:46] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[21:06:46] *** jld|hunting-lunch is now known as jld
[21:08:09] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[21:12:36] *** Quits: notmatt (notmatt@118CCA77.D1B89392.602E4FC1.IP) (Client exited)
[21:15:46] *** Joins: tjc (tjc@moz-BBE3ABD.mv.mozilla.com)
[21:15:47] *** ChanServ sets mode: +o tjc
[21:18:12] *** Quits: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP) (Quit: leaving)
[21:19:15] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[21:44:44] <tjc> acrichto: re-r? https://github.com/mozilla/rust/pull/10369
[21:51:29] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[21:51:29] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/MPUylw
[21:51:29] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[21:51:31] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[21:51:31] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/CdOD0A
[21:51:31] <ghrust> 13rust/06auto 1420c00e8 15Tim Chevalier: rustpkg: Re-enable some tests...
[21:51:31] <ghrust> 13rust/06auto 147101e17 15bors: auto merge of #10369 : catamorphism/rust/issue-9994, r=alexcrichton...
[21:51:31] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[22:01:31] *** Joins: jdm (jdm@9C2E78E6.8C982E60.292610BC.IP)
[22:14:55] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[22:23:52] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[22:25:40] *** Joins: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP)
[22:29:12] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[22:33:54] *** Joins: eddyb9 (eddy@336E3A7F.D51DAF03.FB866788.IP)
[22:36:13] *** Quits: tjc (tjc@moz-BBE3ABD.mv.mozilla.com) (Quit: zzzzzzzzzz)
[23:16:31] *** Quits: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP) (Quit: WeeChat 0.4.2)
[23:16:59] *** Joins: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP)
[23:26:42] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[23:32:32] *** Joins: geoffhill (geoffhill@moz-738DC0DB.org)
[23:42:46] *** Joins: rbancroft (rumble@moz-4E8E0D7F.cg.shawcable.net)
