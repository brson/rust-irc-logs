[00:04:03] *** Quits: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca) (Quit: canhtak)
[00:07:55] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[00:08:32] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[00:09:19] *** Joins: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca)
[00:09:53] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[00:09:56] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[00:10:34] *** Joins: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP)
[00:11:38] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Ping timeout)
[00:12:12] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[00:14:11] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[00:16:30] *** Joins: pao (pao@moz-AF905E87.fbx.proxad.net)
[00:16:35] *** nrc|lunch is now known as nrc
[00:17:05] *** Quits: pao (pao@moz-AF905E87.fbx.proxad.net) (Quit: pao)
[00:17:05] *** nrc is now known as nrc|postlunchcoffee
[00:17:43] *** Quits: kmag (kmag@28313FB8.D3BD3D1C.EACCA5E3.IP) (Client exited)
[00:18:36] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[00:20:01] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[00:20:09] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[00:20:51] *** jorendorff is now known as jorendorff_away
[00:21:24] *** Joins: ofeldt (ofeldt@moz-12D3043B.dip0.t-ipconnect.de)
[00:21:50] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[00:21:51] *** Joins: mihneadb (mihneadb@8A897D58.93BC3F7D.A5830293.IP)
[00:22:03] *** Quits: eholk (eholk@moz-BA312F07.crest.iu.edu) (Quit: eholk)
[00:22:12] *** nrc|postlunchcoffee is now known as nrc
[00:22:15] *** Quits: ofeldt- (ofeldt@moz-667EBECD.dip0.t-ipconnect.de) (Ping timeout)
[00:22:58] *** Quits: maxiepoo (Max@68A63377.C44F889.D279C981.IP) (Quit: maxiepoo)
[00:23:25] *** Joins: hjr3 (hradtke@F452D205.C4AED08B.AEED71A1.IP)
[00:25:35] *** Quits: diverse (diverse@moz-ED94B8D.oc.oc.cox.net) (Quit: WeeChat 0.4.2)
[00:26:05] *** Quits: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca) (Quit: canhtak)
[00:27:12] *** Quits: arrrrrrrrr (arrrrrrrrr@moz-81DA182F.dynamic.qsc.de) (Quit: arrrrrrrrr)
[00:28:18] *** Quits: andreypopp (andreypopp@moz-7261DC60.net) (Quit: andreypopp)
[00:30:19] *** Joins: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net)
[00:31:24] *** Quits: frau (frau@moz-AB2811F6.vc.shawcable.net) (Ping timeout)
[00:32:01] *** Quits: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net) (Ping timeout)
[00:34:12] <tomdale> when you have multiple structs implementing a trait, how do you organize those implementations in the filesystem?
[00:34:27] <tomdale> do you put them in a single file with the trait? or in the file with the struct? or one file per trait impl?
[00:34:36] *** Joins: frau (frau@moz-AB2811F6.vc.shawcable.net)
[00:35:23] <cmr> tomdale: I usually put the implementations after the struct.
[00:35:31] <cmr> really up to you though
[00:36:08] *** Joins: trecer (trecer@moz-3A571AF4.dyn.centurytel.net)
[00:36:21] <tomdale> just trying to figure out what's considered idiomatic :)
[00:36:31] <tomdale> wycats agrees with you fwiw
[00:36:32] <cmr> there is no idiomatic for that yet.
[00:36:39] *** Quits: hjr3 (hradtke@F452D205.C4AED08B.AEED71A1.IP) (Ping timeout)
[00:36:45] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[00:36:52] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[00:36:57] <cmr> tomdale: ask him if the promised cookies are homemade
[00:37:00] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[00:37:07] *** Joins: moostik (Icedove@moz-654D48E3.w83-202.abo.wanadoo.fr)
[00:37:23] <tomdale> cmr: he says that if you live in the UK you will need to sign an agreement in order to receive any cookies
[00:37:34] <tomdale> actually he has implemented a single-origin policy and I am unable to view his cookies
[00:37:39] *** Joins: maxiepoo (Max@68A63377.C44F889.D279C981.IP)
[00:37:40] <cmr> hahah
[00:37:58] *** Joins: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca)
[00:39:51] <bascule> zomg it's a tomdale 
[00:40:08] <tomdale> bascule: I am becoming a real programmer like you
[00:40:15] <tomdale> node.js is over. it's all rust now.
[00:40:18] <bascule> lolol
[00:40:35] <bascule> something tells me that Rust won't be attracting a lot of Node.js programmers
[00:40:41] <bascule> for... reasons
[00:40:45] <tomdale> I am going to replace rustpkg with rpm, which focuses on small, lightweight modules that do one thing and do it well
[00:40:53] <bascule> lololol
[00:40:55] <mcpherrin> bascule: maybe node.js programmers who hate their life? :)
[00:41:02] <wycats_> bascule: that is one of its primary draws for me
[00:41:09] <bascule> wycats_: lololol
[00:41:11] * cmr was a node programmer!
[00:41:22] <wycats_> I like to use software written and used by people who care about how their software is written
[00:41:30] <bascule> seems good bro
[00:41:35] <wycats_> I am tired of dopamine-hit-driven-development
[00:41:42] <wycats_> "look I have released a tiny module"
[00:41:46] <wycats_> "fellate me Hacker News!"
[00:41:50] <wycats_> "mmmm dopamine"
[00:41:58] <wycats_> "look I have released another tiny module"
[00:42:10] <wycats_> "I am now a #ThoughtLeader"
[00:42:19] <wycats_> I am tired bros
[00:42:27] <wycats_> so tired
[00:42:41] *** Quits: vmx (vmx@moz-915331E5.pools.arcor-ip.net) (Quit: Leaving)
[00:43:03] <cmr> Is the community really like that now?
[00:43:13] <wycats_> cmr: some of it
[00:43:24] <wycats_> substack is revered because of the quantity of packages he has produced
[00:43:34] <james4k> each of those modules is also 'next-gen'
[00:43:43] <wycats_> I would rather build a small number of packages that are maintained well
[00:43:46] <wycats_> than 500 packages
[00:43:54] <cmr> and have your PR rot at his hands?
[00:43:57] * cmr did that
[00:44:14] <wycats_> how many packages do you think the node community could produce if they needed a compiler to statically verify their work
[00:44:17] <wycats_> #trollface
[00:44:57] <wycats_> since I broke my back, my tolerance for dopamine-hit-driven-development has decreased further
[00:51:08] <frau> any way to annotate an extern C function that writes a result into a pointer that same parameter is write-only and thus doesn't need non-initialization checks
[00:51:08] <hoverbear> wycats_: 1 package that disables the compiler's checking, then as many as there are now.
[00:51:23] <bascule> wycats_: I liked when I reported some security vulns in substack's homebrew transport encryption and he subsequently banned me on Twitter o_O
[00:51:44] <cmr> frau: initialization checks?
[00:52:11] <frau> I liked how expressjs's URL router is case-insensitive and slash-blind by default, breaking all my relative URLs
[00:52:40] <frau> cmr: let alphabits: GLint; glGetIntegerv(GL_ALPHA_BITS, &alphabits);
[00:53:22] <cmr> frau: no, there's no way to do that right now.
[00:53:25] <dbaupp> frau: no
[00:53:31] <frau> compiler complains I didn't put a dummy value into alphabits
[00:53:31] <frau> okay, thanks
[00:53:34] *** Joins: vky (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net)
[00:53:38] <frau> very minor, was just wondering
[00:53:46] <cmr> frau: you can = std::unstable::intrinsics::uninit(), in more complex cases than GLint
[00:53:51] <dbaupp> frau: you can use `unsafe { std::intrinsics::unstable::uninit() }` but you have to be triply short to avoid reading it
[00:53:55] <dbaupp> *sure
[00:54:07] *** vky is now known as vk
[00:54:08] <cmr> curiously, inline asm *does* support this feature.
[00:54:12] <frau> looks nice and magick
[00:54:26] <frau> does that invoke llvm's crazy uninitialize thing
[00:54:40] <frau> that optimizes away code that reads uninitialized values?
[00:54:53] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[00:55:05] <dbaupp> yes, reading it is undefined behaviour for LLVM so it can do anything
[00:55:31] <hoverbear> http://blog.theincredibleholk.org/blog/2012/12/05/compiling-rust-for-gpus/ <-- BTW
[00:55:53] <frau> dbaupp: awesome!
[00:56:16] <dbaupp> hoverbear: (notice the year, fwiw)
[00:56:27] <frau> undefined + LTO = fun
[00:56:30] *** Quits: frau (frau@moz-AB2811F6.vc.shawcable.net) (Quit: out)
[00:56:35] <hoverbear> dbaupp: Still AMAZINGly cool
[00:56:51] <cmr> FreeFull: well I mean all it does is an alloca and then no store.
[00:56:56] <hoverbear> dbaupp: I've been interested in try out GPU stuff but I don't like C enough to warrant it
[00:56:58] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[00:57:09] <dbaupp> hoverbear: yup; there's the more recent http://www.cs.indiana.edu/~eholk/papers/hips2013.pdf too
[00:57:19] <hoverbear> Yup I saw the paper :)
[00:58:20] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[00:58:22] <cmr> guh
[00:59:56] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Quit: Taking a nap.)
[01:00:39] *** Quits: pyon (user@D883E380.480D3EC1.1C8C8CE9.IP) (Quit: ERC Version 5.3 (IRC client for Emacs))
[01:01:17] *** Quits: moostik (Icedove@moz-654D48E3.w83-202.abo.wanadoo.fr) (Ping timeout)
[01:02:05] *** Joins: moostik (Icedove@moz-654D48E3.w83-202.abo.wanadoo.fr)
[01:02:28] *** Joins: HeroesGrave (Mibbit@moz-AC4C75C3.dyn.cust.vf.net.nz)
[01:02:29] *** Joins: vk_ (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net)
[01:02:42] <HeroesGrave> Hello?
[01:02:53] *** Joins: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:03:00] *** Quits: vk (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net) (Ping timeout)
[01:03:04] *** vk_ is now known as vk
[01:03:28] *** Joins: DAddYE__ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:03:28] *** Quits: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Connection reset by peer)
[01:03:30] *** Quits: DAddYE__ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[01:03:40] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Connection reset by peer)
[01:03:47] <kimundi> hello
[01:03:51] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:04:19] <HeroesGrave> Does anyone know what library I should use for loading .pngs for usage with OpenGL?
[01:04:26] *** Quits: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se) (Ping timeout)
[01:05:10] <HeroesGrave> ah, found #rust-gamedev
[01:05:12] <HeroesGrave> bye
[01:05:13] <kimundi> Hm, no idea, try asking in #rust-gamedev
[01:05:20] <kimundi> ah, okay :)
[01:05:23] *** Quits: mihneadb (mihneadb@8A897D58.93BC3F7D.A5830293.IP) (Quit: Bye)
[01:06:06] *** Parts: HeroesGrave (Mibbit@moz-AC4C75C3.dyn.cust.vf.net.nz) ()
[01:06:20] *** Quits: IRCMonkey59555 (eholk@moz-F70D5031.hsd1.in.comcast.net) (Ping timeout)
[01:07:43] *** Joins: eholk (eholk@moz-F70D5031.hsd1.in.comcast.net)
[01:09:00] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[01:09:12] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[01:09:35] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[01:10:00] *** Joins: zq (p@moz-4C4640FD.com)
[01:10:05] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:10:05] <zq> configure: error: bad LLVM version: 3.5svn, need >=3.0svn
[01:10:08] <zq> what.
[01:11:30] *** Joins: pyon (user@D883E380.480D3EC1.1C8C8CE9.IP)
[01:11:55] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[01:12:47] <Eridius> zq: configure actually has a hardcoded list of known good LLVM versions. The error is misleading
[01:12:52] <Eridius> it supports 3.3, 3.3svn, 3.2, 3.2svn
[01:13:06] <zq> yeah just 'fixd' it by adding 3.5svn
[01:13:29] <zq> ...and of course it goes ahead to clone its own llvm git anyway
[01:13:30] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[01:13:50] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:14:10] <brson> the configure option to use an external llvm may not work. i don't know if anybody ever uses it, and for a long time we required out-of-tree patches
[01:14:33] <mcpherrin> brson: woah, are you saying we don't have out of tree patches anymore?
[01:18:37] *** Quits: moostik (Icedove@moz-654D48E3.w83-202.abo.wanadoo.fr) (Ping timeout)
[01:18:40] *** Joins: moostik (Icedove@moz-654D48E3.w83-202.abo.wanadoo.fr)
[01:21:35] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[01:21:56] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:23:37] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[01:25:31] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[01:27:16] *** Quits: mcpherrin (mcpherrin@BB4DB59D.2876C283.70845BE5.IP) (Quit: leaving)
[01:35:29] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[01:35:50] <cmr> we do
[01:39:36] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[01:39:50] *** Quits: judder (maradukewa@837BB533.C8128DC0.78E362FE.IP) (Ping timeout)
[01:39:58] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[01:40:08] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[01:40:32] *** Joins: hjr3 (hradtke@D82EA79C.2B30AB8E.E519B3D.IP)
[01:41:40] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[01:42:12] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[01:46:08] *** kimundi is now known as zz_kimundi
[01:49:44] *** Quits: trecer (trecer@moz-3A571AF4.dyn.centurytel.net) (Quit: Computer has gone to sleep.)
[01:50:05] *** Joins: trecer (trecer@moz-3A571AF4.dyn.centurytel.net)
[01:50:53] *** Quits: Earnestly (earnest@88884C6.A3735F9C.39C00A7A.IP) (Ping timeout)
[01:53:20] <wycats_> so we have some code
[01:53:29] <wycats_> which takes a VecIterator
[01:53:42] <wycats_> and in the caller code
[01:53:48] <wycats_> we need to be able to peek into the iterator
[01:53:53] <wycats_> but if we make it .peekable()
[01:54:07] <wycats_> we can't pass it to the code that wants the VecIterator anymore
[01:54:30] <cmr> wycats_: why are you specifically using VecIterator rather than being generic over an Iterator<T>?
[01:54:40] <dbaupp> Use a generic? `fn foo<I: Iterator<T>>(x: I) { .. }`?
[01:54:46] <wycats_> (now it's a Peekable)
[01:54:56] <wycats_> cmr: because we are not very good at Rust?
[01:54:59] <cmr> :P
[01:55:11] <cmr> wycats_: well, if you don't have a good reason, than don't do that :P
[01:55:14] <cmr> Do what dbaupp said
[01:55:20] <cmr> although you want Peekable<T>, not Iterator<T>
[01:55:27] <wycats_> I do not understand the above syntax
[01:55:34] <wycats_> <I: Iterator<T>>
[01:55:38] <wycats_> please halp
[01:56:09] <benh> it means the fn is generic, I is a type param, and the argument bound to it must implement the trait Iterator<T>
[01:56:22] <cmr> fn foo is generic over a type I which implements Iterator<T>, where T is the type of element the iterator yields.
[01:56:38] <wycats_> so if I want to take an Iterator<u8>
[01:56:43] <wycats_> what do I do?
[01:56:50] <cmr> fn foo<I: Iterator<u8>>
[01:58:09] *** Joins: amey (user@8961CBCE.9E7B6A84.D2D1FAF0.IP)
[01:59:11] <wycats_> ah I needed &u8
[01:59:13] <wycats_> but now
[01:59:24] <wycats_> https://www.irccloud.com/pastebin/sndUe8dQ
[01:59:48] <benh> (ugh)
[02:00:09] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Quit: Leaving...)
[02:00:18] <ziad> It's allowed to parameterize a generic by ref? I didn't know that
[02:00:22] <benh> I guess it might start working if you turn it into something like fn read_string<'a, I: Iterator<&u8>>(iter: &'a mut I) ...
[02:00:41] <wycats_> I'm going to need a bigger monitor
[02:00:42] <benh> but I'm not sure I understand what's going on ther
[02:00:50] <sfackler> I'd guess it actually wants <'a, I: Iterator<&'a u8>>
[02:00:54] <sfackler> or both!
[02:00:59] <benh> oh there too
[02:01:04] <benh> see! i'm bad at this!
[02:01:24] <benh> (maybe you can turn an Iterator<&u8> into an Iterator<u8> before calling the function with .map(|&x| x) or something)
[02:01:30] <benh> (not sure if that makes it better)
[02:01:55] <wycats_> well... that means I have to consume the entire iterator, no?
[02:02:06] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[02:02:10] <wycats_> https://www.irccloud.com/pastebin/sq81pQcz
[02:02:26] <benh> my condolences :(
[02:02:28] <dbaupp> oh, yum
[02:02:52] <benh> Can you post again what you have to the fn read_string line now?
[02:02:56] <wycats_> Tom is weeping
[02:03:10] <wycats_> pub fn read_string<'a, I: Iterator<&'a u8>>(iter: &mut I) -> Result<~str, ~str> {
[02:04:11] <dbaupp> what's rustc --version say?
[02:04:40] * benh is vaguely surprised that works without &'a mut I
[02:04:45] *** Joins: sammykim (sammy.kim@5AB4884B.FCC4549.14D5B978.IP)
[02:05:22] <dbaupp> looks like it's https://github.com/mozilla/rust/issues/11016 , which is closed as a dup of (the still open) https://github.com/mozilla/rust/issues/5121
[02:05:45] <dbaupp> so, the only fix atm is to take Iterator<u8> rather than &u8
[02:06:04] <benh> the error seems to be with another function tho
[02:06:20] <vk> dbaupp: Hi, could I get you to take a look at the update to https://github.com/mozilla/rust/pull/10917 please?
[02:06:29] <dbaupp> vk: yup, looking
[02:06:41] <benh> err, i pasted the wrong code somehow, disregad
[02:06:44] <vk> dbaupp: appreciate it
[02:08:26] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[02:08:44] <dbaupp> vk: one small thing :)
[02:09:14] <vk> dbaupp: cool, thanks. Should anything be added to the manual to close out #7173?
[02:11:04] <dbaupp> vk: yes, I think we need a manual section too
[02:11:29] <dbaupp> (although, there's no 'patterns' section in the manual, strangely enough; seems to be just lumped under "match expressions")
[02:11:36] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[02:12:23] <wycats_> ok we are going to stop using iterators
[02:13:21] <dbaupp> yay for bugs :P
[02:13:51] <wycats_> we are just going to make a small struct with a position and a ~[u8]
[02:13:59] <wycats_> and consume bytes off manually
[02:14:10] <wycats_> no need to bring in all the complexity of iterators
[02:14:44] <vk> dbaupp: Okay, I'll add something to the match expressions section. Should I take out the @ from the example that's currently there, or let that be a separate pull request?
[02:15:16] <dbaupp> vk: which example has an @?
[02:15:23] <cmr> wycats_: nooo, use .move_iter() on your vec of u8. since it's POD it's implicitly copyable and move_iter() won't consume it.
[02:15:29] <cmr> wycats_: but yeah iterators can be overkill
[02:15:31] <dbaupp> wycats_: i.e. write your own iterator?
[02:15:41] <dbaupp> cmr: it will; mov_iter takes consumes a ~[T]
[02:15:52] <dbaupp> cmr: which is always move-by-default
[02:16:02] <wycats_> dbaupp: yes, write just the part of iterator that we need
[02:16:12] <wycats_> it seems like a full iterator is overkill for what we need
[02:16:15] <vk> dbaupp: section 7.2.22, "An example of an match expression" following that, the example is using @ managed pointers. block before it as well.
[02:16:16] <cmr> dbaupp: bah so it does.
[02:16:21] <cmr> I feel like that didn't used to happen.
[02:16:34] <cmr> Or, at least, I remember strcat claiming that it didn't consume it.
[02:16:44] <tomdale> unfortunately for us, we need to be able to peek(), and making it peekable() causes many uncomfortable side effects in our code
[02:16:57] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[02:17:04] <wycats_> if we roll our own, we can directly control all of the type-related aspects
[02:17:13] <dbaupp> vk: oh, managed pointers
[02:17:15] <wycats_> for example, our own iterator will not have 4 million traits on it
[02:17:31] <dbaupp> yeah, and you get peeking etc for free
[02:17:37] <wycats_> dbaupp: indeed
[02:17:51] <tomdale> I've never turned down a free peek in my life
[02:18:03] <dbaupp> vk: I'm happy with just doing the tutorial part and then the manual part separately
[02:18:18] <vk> dbaupp: kay'o.
[02:18:36] <dbaupp> vk: although, now that I think about it, the tutorial section really only needs to be very short (i.e. the Option<> example), and the manual can be the long one
[02:19:12] *** Quits: gdey (gdey@moz-CD850554.static-ip.telepacific.net) (Ping timeout)
[02:19:15] <vk> dbaupp: Alright to point to the manual for more info from the tutorial?
[02:19:56] <dbaupp> vk: I think so
[02:20:52] <tomdale> if we have a struct Foo<T>
[02:20:54] *** Joins: mib_aid7be (Mibbit@A5A1078.83E6DFB1.2862F179.IP)
[02:20:58] <tomdale> where do we put the <T> in the impl?
[02:21:03] <tomdale> impl Foo<T> is not working
[02:21:08] <tomdale> but we need to use it in the impl body
[02:21:19] <Luqman> impl<T> Foo<T>
[02:21:27] <wycats_> WAT
[02:21:36] <wycats_> is this some kind of long troll?
[02:21:39] <cmr> wycats_: the implementation itself is generic.
[02:21:48] <cmr> you can say impl Foo<int>
[02:21:59] <cmr> but if you want to have a generic impl, you put the type parameters on the impl
[02:22:04] <wycats_> is this some kind of long troll?
[02:22:17] <Luqman> yep, useful when you want to separate methods based on the type
[02:22:21] <cmr> not really, just kinda how type parameterization works :)
[02:23:06] <Luqman> wycats_: do you want to write an impl for a concrete type or for any T?
[02:23:19] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:23:24] <cmr> Luqman: nice talk btw
[02:23:42] *** Joins: snowp (snowp@4DE2260B.6E91F788.2CFD4520.IP)
[02:24:39] <Luqman> cmr: thanks
[02:24:39] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Ping timeout)
[02:24:41] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[02:25:05] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:25:47] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[02:26:35] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[02:26:56] *** Joins: thesnowdog (doug@ADE066C5.CDB23781.6F17036B.IP)
[02:27:29] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: Textual IRC Client: www.textualapp.com)
[02:31:13] *** Joins: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net)
[02:32:53] *** Quits: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net) (Ping timeout)
[02:34:26] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[02:34:55] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[02:35:56] <mib_aid7be> hi,all, how to check two enum is equal? Enum1 == Enum2 caused error: binary operation == cannot applied to type ......
[02:36:03] <mib_aid7be> should i use match?
[02:36:21] <cmr> mib_aid7be: #[deriving(Eq)] on the enum, usually does it.
[02:36:35] <cmr> mib_aid7be: otherwise you need to implement Eq (the trait behind the == operator) yourself
[02:36:40] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[02:37:57] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[02:39:32] *** Joins: sellout (Adium@moz-AE26682A.hlrn.qwest.net)
[02:40:14] *** Quits: sellout (Adium@moz-AE26682A.hlrn.qwest.net) (Quit: Leaving.)
[02:40:29] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[02:42:09] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[02:43:20] *** Joins: sellout (Adium@moz-AE26682A.hlrn.qwest.net)
[02:43:30] *** Quits: hjr3 (hradtke@D82EA79C.2B30AB8E.E519B3D.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:43:30] *** Quits: sellout (Adium@moz-AE26682A.hlrn.qwest.net) (Quit: Leaving.)
[02:44:14] <wycats_> Hm... Now we're calling .slice on a ~[u8] and trying to call .to_owned() on the result
[02:47:59] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[02:48:34] *** Parts: mib_aid7be (Mibbit@A5A1078.83E6DFB1.2862F179.IP) ()
[02:51:12] *** Joins: leunggamciu (Mibbit@A5A1078.83E6DFB1.2862F179.IP)
[02:51:13] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[02:51:42] <ziad> cmr: on what basis does #[defiving(Eq)] compare equality? shallow field to field equality?
[02:52:02] <dbaupp> ziad: it uses the Eq instance of the fields
[02:52:52] <ziad> so if one of the fields is a pointer, it will just do a shallow comparison, or will it depend if that type also defines Eq/deriving(Eq)?
[02:52:55] <dbaupp> you can see what it does by running `rustc --pretty expanded foo.rs`; it will print the macro-expanded source, which includes #[deriving]
[02:53:04] <dbaupp> depends on the type of pointer
[02:53:42] <ziad> dbaupp: how do the different types of pointers affect this?
[02:53:44] <dbaupp> &T, ~T and @T compare the internal data using its Eq instance (i.e. exactly the same as comparing T), but *T just compares pointer values
[02:53:45] *** Joins: m_kato (m_kato@moz-C286AD9A.bitcat.net)
[02:53:50] <ziad> ah okay
[02:53:50] <ziad> thanks
[02:54:02] <aatch> ziad, it pretty much just does `self.f1 == other.f1 && self.f2 == other.f2 && ...`
[02:54:32] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[02:54:37] <ziad> thanks aatch
[02:54:49] *** Quits: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP) (Quit: ziad)
[02:55:57] *** Joins: Jesin (Jesin@804D8274.9F7BDBDF.8B824544.IP)
[02:56:21] *** Parts: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) ()
[03:02:10] *** Quits: Jesin (Jesin@804D8274.9F7BDBDF.8B824544.IP) (Quit: Leaving)
[03:02:20] *** Joins: Jesin (Jesin@804D8274.9F7BDBDF.8B824544.IP)
[03:02:33] *** Parts: pyon (user@D883E380.480D3EC1.1C8C8CE9.IP) (ERC Version 5.3 (IRC client for Emacs))
[03:06:59] <escalant3> if the implementation of a trait is the same for two different structs, how can I write it to avoid duplicating the code? something like:  impl GraphElement<T> for Node<T>, Edge<T> {
[03:07:42] *** Quits: trecer (trecer@moz-3A571AF4.dyn.centurytel.net) (Quit: Computer has gone to sleep.)
[03:08:06] *** Joins: trecer (trecer@moz-3A571AF4.dyn.centurytel.net)
[03:08:08] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[03:08:19] <dwrensha> escalant3: you could use a macro
[03:08:24] *** Quits: Jesin (Jesin@804D8274.9F7BDBDF.8B824544.IP) (Ping timeout)
[03:08:32] <aatch> escalant3, theres no "proper" way, but macros are useful for this purpose.
[03:08:41] *** Joins: Jesin (Jesin@804D8274.9F7BDBDF.8B824544.IP)
[03:08:46] *** Quits: gwty (gwtypc@2E2F71B6.36BA38AF.F44414AF.IP) (Ping timeout)
[03:09:04] <ChrisMorgan> escalant3: macros are the main way to do it at present; another is implementing another trait for those types and then implementing the first trait for traits extending the second trait.
[03:09:23] <aatch> Especially now they can expand to multiple items (but not expressions or statements, but this is less of a problem due to block expressions)
[03:09:53] *** Quits: trecer (trecer@moz-3A571AF4.dyn.centurytel.net) (Ping timeout)
[03:09:57] <SingingBoyo> what's the link attribute for library name now?  name doesn't seem to do it any more...
[03:10:02] <ChrisMorgan> crate_id
[03:10:13] <ChrisMorgan> (And a few others.)
[03:10:14] <dwrensha> escalant3: default methods may also help
[03:11:00] <escalant3> interesting.  I will try to use a solution using the extension idea. I am just getting started. But I will add a comment to remember to refactor when I learn about macros :D
[03:11:15] <ChrisMorgan> The other approach I mentioned runs like this: `trait GraphElementAuto<T> { } impl<T> GraphElementAuto<T> for Node<T> { } impl<T> GraphElementAuto<T> for Edge<T> { } impl<T, U: GraphElementAuto<T>> GraphElement<T> for U { }`.
[03:11:16] <escalant3> step by step
[03:11:42] <ChrisMorgan> Default methods are good if you can have meaningful bounds—they're often the best solution, I think.
[03:12:17] <SingingBoyo> ChrisMorgan: hmm.  is it still #[link(crate_id="fsm", vers="0.1" ...)]?  doesn't seem to be working for me
[03:12:28] <ChrisMorgan> SingingBoyo: no, #[link] is obsolete
[03:12:34] <ChrisMorgan> #[crate_id = "fsm"];
[03:12:35] <dbaupp> SingingBoyo: #[crate_id="fsm#0.1"] is the replacement for #[link], aiui
[03:12:42] <ChrisMorgan> Yeah, that's it.
[03:12:47] <SingingBoyo> ahh okay
[03:13:11] <ChrisMorgan> Crate ID can be a HTTP-URL-minus-the-scheme
[03:14:01] <ChrisMorgan> e.g. "github.com/SingingBoyo/fsm#0.1", or if the last part isn't the proper name, like "github.com/SingingBoyo/rust-fsm#fsm:0.1"
[03:16:08] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[03:16:34] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[03:16:34] *** ChanServ sets mode: +ao dherman dherman
[03:16:34] <cmr> dwrensha: how is capnproto-rust coming along?
[03:17:19] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[03:17:27] <dwrensha> cmr: nicely in the past few weeks, after one of Niko's fixes for lifetime parameters unblocked me
[03:17:45] <cmr> dwrensha: ready for serious use, do you think?
[03:18:17] <dwrensha> cmr: what kind of serious use?
[03:18:35] <dwrensha> the API still will change a bit
[03:18:37] <cmr> dwrensha: well me dicking around for the most part :D probably serializing messages over zmq
[03:18:46] <cmr> yeah that's fine, I'm using Rust after all
[03:18:50] <cmr> Not production or anything
[03:18:57] <dwrensha> haha, I was just thinking about writing up an example using zeromq
[03:19:11] <dbaupp> dwrensha: API changing a "bit" is better than the rest of the stdlib, since that's always changing a lot :P
[03:19:51] <dwrensha> I'm nearing completion on basic features
[03:20:23] <dwrensha> so you should be able to build and read values with any Cap'n Proto type
[03:22:39] <bvssvni> is it possible to declare a closure in an enum?
[03:23:10] <ChrisMorgan> bvssvni: a closure can be contained in an enum, if that's what you mean.
[03:23:24] <bvssvni> I get 'missing lifetime specifier' Fn1(~|T| -> T),
[03:23:59] <dwrensha> cmr: let me know if you need help with anything, and please show me if you make something cool! :)
[03:24:13] <cmr> dwrensha: sure thing! thanks for making it :)
[03:24:31] <wycats_> ok guys
[03:24:36] <wycats_> https://github.com/tildeio/buffoon/blob/master/src/buffoon/hello.rs#L20-L53
[03:24:38] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:24:40] <wycats_> how can we make this shorter?
[03:24:57] <ChrisMorgan> bvssvni: a closure has a lifetime; `|T| -> T` is a type with implied lifetime, it needs an explicit lifetime there, `'a |T| -> T`
[03:25:54] <ChrisMorgan> In the variant `Fn1(~|T| -> T),` the ~ is an unnecessary allocation; `|T| -> T` is a stack closure and a valid type.
[03:25:54] <cmr> wycats_: ReadStream is just MemReader afaict
[03:25:58] <cmr> wycats_: (ie, in the stdlib)
[03:26:04] <aatch> bjz, ping
[03:26:12] <wycats_> https://github.com/tildeio/buffoon/blob/master/src/buffoon/hello.rs#L20-L50
[03:26:14] <dbaupp> std::io::mem::MemReader
[03:26:18] <wycats_> I removed a println
[03:26:22] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[03:27:03] <wycats_> cmr: mmmm excellent
[03:27:07] <wycats_> some code is removed
[03:27:18] <wycats_> what about the match block
[03:27:25] <wycats_> it seems like there should be a nicer way
[03:27:27] <dbaupp> Is it meant to overwrite version and config if key.tag == 1 or 2 appears multiple times?
[03:27:45] * cmr thinks the match is pretty nice.
[03:27:53] <bstrie> wycats_: put all that code in a macro, then just call the macro. bam, shorter code
[03:27:55] <dbaupp> you can write `2 => config = Some(...),`
[03:28:05] <bvssvni> ChrisMorgan: 'Missing lifetime specifier' Fn1(~|T| -> T),
[03:28:06] <dbaupp> rather than { ... }-ing them
[03:28:13] <wycats_> bstrie: I have a doubt
[03:28:22] <dbaupp> bstrie: you need the explicit lifetime, as ChrisMorgan said
[03:28:25] <wycats_> dbaupp: I {} so I could semicolon terminate
[03:28:27] <dbaupp> bvssvni: ^
[03:28:29] <ChrisMorgan> bvssvni: as I said, you need the lifetime specifier, like `'a |T| -> T`
[03:28:31] <dbaupp> bstrie: (sorry)
[03:28:37] <bvssvni> ChrisMorgan: sorry, 	Fn1(|T| -> T)
[03:28:39] <dbaupp> wycats_: oh, ok
[03:28:42] <wycats_> I didn't like that I had to _ => ()
[03:28:49] <bvssvni> ChrisMorgan: can you give me an example?
[03:28:54] <ChrisMorgan> I did.
[03:29:03] <wycats_> it's too bad that the match actually cares about the return value of the arms
[03:29:12] <wycats_> even though the match itself isn't assigned to anything
[03:29:20] <dbaupp> wycats_: can you make .tag an enum, rather than an integer?
[03:29:24] *** Joins: EmilyScott (chatzilla@608BDF62.7C1BC168.D46CBC5D.IP)
[03:29:55] <wycats_> dbaupp: the integer is in the file formt
[03:29:57] <wycats_> format
[03:30:13] <bstrie> wycats_: I don't understand, which of those arms doesn't return () anyway?
[03:30:26] <wycats_> bstrie: they do because I semicolon-terminate
[03:30:26] <ChrisMorgan> bvssvni: got it?
[03:30:29] <wycats_> which requires {}
[03:30:36] <wycats_> I would love it if I could just single-expr it
[03:30:48] <wycats_> dbaupp: .tag is pulled out of the protobuf memory structure
[03:30:52] <bvssvni> ChrisMorgan: no
[03:31:15] <cmr> wycats_: what would your ideal version of this look like?
[03:31:24] <ChrisMorgan> bvssvni: you just need to specify the lifetime, including declaring the lifetime on the enum (enum Foo<'a>)
[03:31:29] <wycats_> cmr: hmmm
[03:31:56] <wycats_> match key.tag { 1 => version = Some(...), 2 => config = Some(...), 3 => cmd.push(...) }
[03:32:17] <bvssvni> ChrisMorgan: is lifetime required as generic argument for enums with closures?
[03:32:20] <wycats_> but I have to {} so I can semicolon terminate to make the arms have the same type
[03:32:22] <cmr> all of those are () I thought?
[03:32:24] <wycats_> plus _ => ()
[03:32:32] <ChrisMorgan> bvssvni: yes, it's a generic constraint.
[03:32:32] <bstrie> wycats_: your match has to be exhaustive no matter what, if tag can be more than just 1,2,3 then you can't avoid the _
[03:32:35] <wycats_> they might happen to be?
[03:32:55] <wycats_> bstrie: is there a way to make an enum that is an enumeration of numbers?
[03:33:02] <wycats_> a la a C enum 
[03:33:16] <bstrie> wycats_: yes. `enum { foo = 1, bar = 2 }`
[03:33:21] <ChrisMorgan> bvssvni: a stack closure is a reference with a lifetime, so it's just the same as when you have an &T.
[03:33:30] <bstrie> er, give it a name there
[03:33:32] <wycats_> bstrie: and it will type the same as the int?
[03:33:37] <wycats_> because .tag will always return ints
[03:33:47] <bstrie> wycats_: you can put a repr attribute on top to determine what the type is
[03:33:53] <bstrie> I'm sure cmr can explain better :P
[03:34:17] <wycats_> .tag knows nothing about the enum
[03:34:19] <bvssvni> ChrisMorgan: it compiles!
[03:34:24] <ChrisMorgan> Good
[03:34:24] <wycats_> the enum is something special about Hello
[03:34:26] <bstrie> but try #[repr(int)] on top of your enum
[03:34:29] <bstrie> see if that does it
[03:34:52] <bstrie> cmr: apparently I'm as bad as you are at being on hiatus
[03:35:01] <cmr> bstrie: are you supposed to be on hiatus?
[03:35:05] <bstrie> yes!
[03:35:14] <bstrie> I made dbaupp a mod of the subreddit today
[03:35:22] <bstrie> then the bum says he is going out of town for a week!
[03:35:26] <bstrie> what a
[03:35:31] * bstrie looks up word
[03:35:40] <cmr> "human"?
[03:35:58] <dbaupp> bstrie: I'll be around, just not necessarily every day :P
[03:36:08] <bstrie> what a *skainsmate*
[03:36:11] <wycats_> yeah it doesn't work
[03:36:18] <wycats_> expected `u64` but found an enum or structure pattern
[03:36:24] <wycats_> like I said, .tag always returns a u64
[03:37:17] <bstrie> wycats_: I have no idea in what context you're using these, but you could try #[repr(u64)] and/or `as u64`
[03:37:32] <wycats_> I don't think that will work
[03:37:37] *** Quits: maxiepoo (Max@68A63377.C44F889.D279C981.IP) (Quit: maxiepoo)
[03:37:43] <wycats_> the left side of the arm doesn't treat it as a u64
[03:37:54] <bstrie> wycats_: right, if you're getting the values from a field, I don't know why an enum would help :P
[03:38:18] *** Joins: trecer (trecer@moz-3A571AF4.dyn.centurytel.net)
[03:38:47] <wycats_> bstrie: I just want a way to say that I know what the list of numbers I'm matching over is
[03:38:50] *** Quits: EmilyScott (chatzilla@608BDF62.7C1BC168.D46CBC5D.IP) (Ping timeout)
[03:38:55] <wycats_> instead of having to _ => ()
[03:39:03] <bstrie> wycats_: I still don't understand why you can't get rid of the {} around the match arms, though. you say you're semicolon-terminating, but you don't have to
[03:39:11] * ChrisMorgan needs to get a whiteboard to assist with rust-http design and other such things
[03:39:15] <bstrie> wycats_: the only way to do that is to use an enum. we're not that smart yet
[03:39:19] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[03:39:30] <wycats_> bstrie: I guess I'm worried that in the future one of my expressions will return a non-()
[03:39:38] <wycats_> and I didn't realize that assignments always returned ()
[03:39:52] *** Quits: trecer (trecer@moz-3A571AF4.dyn.centurytel.net) (Connection reset by peer)
[03:39:54] <dbaupp> ChrisMorgan: draw on the wall?
[03:39:56] <bstrie> wycats_: then you can just put the {} around that one expression :P you're prematurely designing!
[03:40:05] *** Joins: trecer (trecer@moz-3A571AF4.dyn.centurytel.net)
[03:40:07] <cmr> wycats_: that'd require a dependant type system, I think, which Rust isn'g going to have.
[03:40:07] <ChrisMorgan> dbaupp: I don't think my family would appreciate that.
[03:40:18] <wycats_> cmr: really?
[03:40:22] *** Quits: Diamond (dick@moz-80556682.ks.ks.cox.net) (Ping timeout)
[03:40:25] <bstrie> wycats_: and yes, assignment returns (). none of that `if foo = bar {}` bs here :)
[03:40:33] *** Quits: Jesin (Jesin@804D8274.9F7BDBDF.8B824544.IP) (Ping timeout)
[03:40:33] <wycats_> I just want a way to say "here are a list of four numbers with a Name"
[03:40:37] *** Joins: EmilyScott (chatzilla@608BDF62.7C1BC168.D46CBC5D.IP)
[03:40:40] <dbaupp> ChrisMorgan: how could they not? this is important stuff!
[03:40:42] <bstrie> wycats_: yes, that's an enum
[03:40:44] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[03:40:45] <wycats_> yes
[03:40:52] <wycats_> but the variants can't be numbers
[03:40:55] <cmr> wycats_: you can do #[deriving(FromPrimitive)]
[03:40:59] <wycats_> and thus match .tag
[03:41:07] <cmr> And do FromPrimitive::from_u64(tag)
[03:41:09] <cmr> and match on that
[03:41:14] <bstrie> wycats_: if you're matching on .tag, and the .tag is not an enum, then you're not matching on the enum
[03:41:21] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[03:41:28] <ChrisMorgan> dbaupp: I fear that then they might decide they had important things to draw on the wall. And having nine people drawing on the walls could get a little messy.
[03:41:36] <wycats_> I have to go home, but I think we're not speaking the same language
[03:41:41] <wycats_> I'll try and clarify soon :)
[03:41:41] *** Joins: pyon (user@D883E380.480D3EC1.1C8C8CE9.IP)
[03:41:45] *** Quits: trecer (trecer@moz-3A571AF4.dyn.centurytel.net) (Ping timeout)
[03:41:54] <bstrie> wycats_: can you just make .tag have an enum rather than an opaque number?
[03:42:19] <bstrie> wycats_: as a bonus, if you can change .tag's representation, you'll save a lot of space :) u64 is quite a lot for three values!
[03:42:41] <wycats_> .tag is coming out of a protobuf memory structure
[03:42:55] <wycats_> it's a varint
[03:43:03] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[03:43:25] <wycats_> there's no way in rust for me to make it use the "correct" number of bits
[03:43:38] <wycats_> even though the protobuf itself is smart about using a sane amount of bits
[03:44:07] <bstrie> wycats_: you can make an enum have whatever integer representation that you want, with #[repr]
[03:44:28] <cmr> bstrie: I think you should drop the enum line of thought, at this point...
[03:44:45] <wycats_> the integer repr doesn't help me
[03:44:45] <bstrie> cmr: well it's literally the only way to not have to use an _
[03:44:47] <wycats_> because 
[03:44:53] <wycats_> I can't match against a u64
[03:45:07] <wycats_> I can't match an int-repred enum against a u64
[03:45:28] <cmr> bstrie: and even with an enum he has to handle non-enum-valued values
[03:45:48] <bstrie> oh, so then it *isn't* just three values :P
[03:45:55] <wycats_> it is
[03:46:18] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[03:46:58] * bstrie throws up his hands
[03:47:02] *** Quits: heftig (heftig@moz-9928E9E7.dip0.t-ipconnect.de) (Input/output error)
[03:47:04] <bstrie> I'm too tired for this shit :)
[03:47:17] *** Joins: heftig (heftig@moz-9928E9E7.dip0.t-ipconnect.de)
[03:48:30] *** Quits: amey (user@8961CBCE.9E7B6A84.D2D1FAF0.IP) (Ping timeout)
[03:48:48] *** Quits: heftig (heftig@moz-9928E9E7.dip0.t-ipconnect.de) (Quit: Quitting)
[03:49:36] *** Joins: maxiepoo (Max@68A63377.C44F889.D279C981.IP)
[03:50:07] *** Joins: heftig (heftig@moz-9928E9E7.dip0.t-ipconnect.de)
[03:53:17] *** Quits: zz_kimundi (kimundi@moz-31F6BD2.dip0.t-ipconnect.de) (Ping timeout)
[03:55:36] <canhtak> hi rust dev’s I have a question
[03:55:46] <canhtak> in C, if i have binary file with floats for example, i can read the file and use memcpy to fill a float array.
[03:55:52] <canhtak> How can i do this in Rust?
[03:56:45] *** Joins: zz_kimundi (kimundi@moz-BD8FA620.dip0.t-ipconnect.de)
[03:56:51] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[03:57:14] *** zz_kimundi is now known as kimundi
[03:57:24] <acrichto> canhtak: that's inherently an unsafe operation because it's not taking into account things like endianness, but you can read into a buffer of bytes and then memcpy the data into a buffer of floats transmuted to the right thing
[03:57:52] *** Quits: ktt3ja (ktt3ja@moz-54586A12.washdc.fios.verizon.net) (Quit: Leaving)
[03:59:24] <canhtak> acrichto: yes i know this but it's not a problem if is stay on the same platform. But the problem is that i can't find the memcpy function in the documentation?
[03:59:46] <cmr> canhtak: copy_overlapping_memory. it's not in the docs.
[03:59:47] <dbaupp> canhtak: std::ptr::copy_memory
[03:59:56] <cmr> Ohhh, fancy
[04:00:06] <cmr> I think we should remove the doc(hidden) on std::unstable
[04:00:09] <dbaupp> (and std::ptr::copy_nonoverlapping_memory)
[04:00:51] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[04:01:37] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[04:02:10] <canhtak> ok ! thanks!
[04:02:26] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[04:03:57] *** Joins: basicdays (basicdays@moz-8D372C4B.wi.res.rr.com)
[04:11:54] *** Joins: trecer (trecer@moz-3A571AF4.dyn.centurytel.net)
[04:12:14] <wycats_> bstrie: sorry bro
[04:13:03] <bstrie> wycats_: I'm supposed to be on vacation!!
[04:13:22] <SingingBoyo> Anyone know how much memory compiling rust needs?  2048 MB seems to be enough, but that's half my memory which is a bit much to give a vm :/
[04:13:30] * SingingBoyo doesn't want to fight with rust on windows
[04:13:31] <dbaupp> bstrie: go away, we don't want your type here anyway ;P
[04:13:44] <dbaupp> SingingBoyo: possibly 1.5GB
[04:13:52] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:14:03] <bstrie> dbaupp: I wish I could!! but CLEARLY the entire rust community would fall apart if I weren't here to shout and dispense incorrect information to newcomers
[04:14:05] *** Joins: DAddYE_ (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:14:05] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Connection reset by peer)
[04:14:20] <dbaupp> bstrie: you play a vital role
[04:14:30] <bstrie> I AM INDISPENSIBLE
[04:14:34] *** Quits: DAddYE_ (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[04:14:50] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[04:14:55] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:14:57] <bstrie> I am rust's self-appointed Malevolent Pretender To The Dictatorship For Life
[04:15:15] <ChrisMorgan> bstrie: you'd better steal dbaupp's &'static, then
[04:15:18] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[04:15:33] <SingingBoyo> dbaupp: hmm.  guess it stays with 2GB then.
[04:15:45] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:15:57] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[04:15:58] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:16:05] <ChrisMorgan> dbaupp: Ah yes! That's what I was going to do. Try replacing old Ubuntu on my tablet with modern Debian with glibc 2.17 so that I can update rustc on there (it's currently over a month old). [The 1.5GB figure reminded me, because it's a 2GB loop disk that I'm working with.]
[04:17:48] <SingingBoyo> Is the rust-nightly suggested for rust-ci out of date or something?  My build works in the VM but not on travis...  which is just a bit odd
[04:20:03] <ChrisMorgan> SingingBoyo: on average it'll be about twelve hours out of date, being a daily build.
[04:20:59] <SingingBoyo> ChrisMorgan: any idea when #[crate_id = "..."] landed?  That seems to be what's making travis's build fail
[04:21:12] <dbaupp> SingingBoyo: a few hours ago
[04:21:14] <ChrisMorgan> SingingBoyo: within the last 24 hours.
[04:21:17] *** Quits: nif (nif@moz-8181E2AC.oberlin.net) (Quit: Konversation terminated!)
[04:21:39] <ChrisMorgan> The next rust-nightly build is due within an hour or so as I recall it, then it should work.
[04:21:40] <SingingBoyo> ah.  well I won't worry too much about it then.
[04:22:56] <bjz> aatch: pong
[04:23:29] <aatch> bjz, you know that post on /r/programming about Whiley?
[04:23:37] <bjz> aye
[04:23:55] <bjz> whiley looks like an interesting lang
[04:24:07] <bjz> rather different from rust
[04:24:12] <bjz> in some respects
[04:24:13] <aatch> Well, I know the guy that, uh... does Whiley.
[04:24:27] <bjz> neat!
[04:24:29] <aatch> He's a researcher at Victoria University, here in Wellington.
[04:24:47] *** nrc is now known as nrc|Christmas
[04:27:36] *** Joins: z0w0 (zack@moz-971099AD.lns5.woo.bigpond.net.au)
[04:28:03] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[04:28:28] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[04:32:14] *** Joins: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net)
[04:33:57] *** Quits: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net) (Ping timeout)
[04:34:09] *** Joins: jesseray (Mibbit@moz-7B6C8CB2.dhcp.insightbb.com)
[04:35:03] *** Quits: sammykim (sammy.kim@5AB4884B.FCC4549.14D5B978.IP) (Quit: Lost terminal)
[04:35:44] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[04:37:30] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[04:38:23] *** Quits: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca) (Quit: canhtak)
[04:39:54] *** Quits: jesseray (Mibbit@moz-7B6C8CB2.dhcp.insightbb.com) (Quit: http://www.mibbit.com ajax IRC Client)
[04:40:13] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[04:40:25] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Quit: ChatZilla 0.9.90.1 [Firefox 25.0.1/20131112160018])
[04:41:57] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[04:42:18] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: pcwalton)
[04:44:53] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[04:46:37] *** Quits: trecer (trecer@moz-3A571AF4.dyn.centurytel.net) (Ping timeout)
[04:46:56] *** Joins: trecer (trecer@moz-3A571AF4.dyn.centurytel.net)
[04:48:33] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[04:48:33] *** ChanServ sets mode: +o jdm
[04:48:57] *** Joins: Diamond (dick@moz-80556682.ks.ks.cox.net)
[04:50:53] *** Joins: doomlord_ (servitor@moz-D40D68D6.range86-184.btcentralplus.com)
[04:56:02] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[04:56:02] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[04:56:36] <eevee> http://blog.ezyang.com/2013/12/two-bugs-in-the-borrow-checker-every-rust-developer-should-know-about/  haha, BOTH of these were haunting my attempt to iterate through a tree using borrowed pointers
[04:56:44] <eevee> recursion solved it
[04:58:04] <achin> is there any way in github to see the issues you've subscribed to?
[05:02:25] *** Joins: pepper_chico (pepper_chi@moz-CFBE8821.dsl.telesp.net.br)
[05:08:30] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[05:09:18] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[05:10:40] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[05:11:55] *** Quits: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP) (Ping timeout)
[05:23:08] *** Quits: echristo (echristo@8063EDD3.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[05:26:42] *** Quits: trecer (trecer@moz-3A571AF4.dyn.centurytel.net) (Ping timeout)
[05:27:09] *** Joins: trecer (trecer@moz-3A571AF4.dyn.centurytel.net)
[05:27:37] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[05:27:38] *** ChanServ sets mode: +ao brson brson
[05:29:06] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[05:29:45] <mark_edward> i;m having a problem compiling rust-bindgen, it compiles and links without complaint, but running `ldd bindgen` gives `libclang.so => not found` and when i try and run the executable
[05:30:07] <mark_edward> i get error `./bindgen: error while loading shared libraries: libclang.so: cannot open shared object file: No such file or directory`
[05:31:35] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[05:31:36] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[05:32:47] <ChrisMorgan> mark_edward: I think you've had a question for me for a while?
[05:33:40] <mark_edward> oh yeah, i was wondering if you knew that there had been some recent change (in std::vec::raw i think) that broke rust-http from copiling
[05:34:08] *** Quits: vosen (vosen@moz-266BA656.icpnet.pl) (Quit: Leaving)
[05:37:32] <Luqman> mark_edward: how/where did you install libclang?
[05:38:01] <ChrisMorgan> mark_edward: yes, I did and they're now fixed (it's building properly again)
[05:38:14] <mark_edward> Luqman: sudo apt-get install libclang-3.4-dev on Ubuntu 13.10
[05:38:47] <mark_edward> Luqman: i'm passing `-L /usr/lib/llvm-3.4/lib` to rustc
[05:39:10] <Luqman> mark_edward: quick fix is run it with LD_LIBRARY_PATH=/usr/lib/llvm-3.4/lib
[05:39:27] <o11c> you'll have to embed an rpath I guess ...
[05:39:47] <klutzy> I always run bindgen with LD_LIBRARY_PATH
[05:39:52] *** bstrie is now known as bstrie_on_vacation
[05:40:12] <Luqman> better fix is to make a new file /etc/ld.so.conf.d/llvm-3.4.conf with a single line /usr/lib/llvm-3.4/lib
[05:40:25] <Luqman> i don't know why the package doesn't do that
[05:40:50] <mark_edward> interesting. i've never had to do something like that before
[05:40:52] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[05:42:42] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[05:48:41] <hoverbear> Did std::rt::io get moved?
[05:49:02] <klutzy> yep, std::io
[05:49:09] <hoverbear> Must better :)
[05:50:22] <hoverbear> std::task changed too... No more spawn_with(). :(
[05:51:12] <dbaupp> you don't need it
[05:51:27] <hoverbear> .spawn() can do it now?
[05:51:44] <dbaupp> the proc changes mean that `let foo = ...; do spawn { something(foo); }` is perfectly fine
[05:51:54] <hoverbear> Awesome
[05:52:00] *** Quits: KindOne (KindOne@moz-F737E0F9.dynamic.ip.windstream.net) (Ping timeout)
[05:52:08] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[05:52:46] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[05:55:28] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[05:55:52] *** Joins: KindOne (KindOne@D8D5D1C5.2171A688.34F73994.IP)
[05:56:53] <hoverbear> Thanks! :)
[05:56:57] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[05:59:55] *** Parts: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) ()
[06:00:49] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:01:51] *** Quits: EmilyScott (chatzilla@608BDF62.7C1BC168.D46CBC5D.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 25.0.1/20131112160018])
[06:02:14] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[06:03:07] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[06:03:07] *** ChanServ sets mode: +ao dherman dherman
[06:03:44] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[06:04:01] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[06:06:44] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[06:10:43] *** Joins: gkostyanikov (gkostyanik@3DA7DA90.2AEE264E.CA6E2165.IP)
[06:16:15] *** Quits: pepper_chico (pepper_chi@moz-CFBE8821.dsl.telesp.net.br) (Quit: Ex-Chat)
[06:16:21] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[06:17:01] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[06:17:42] *** Quits: gkostyanikov (gkostyanik@3DA7DA90.2AEE264E.CA6E2165.IP) (Ping timeout)
[06:19:17] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[06:20:38] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[06:22:24] *** Quits: leunggamciu (Mibbit@A5A1078.83E6DFB1.2862F179.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:28:31] *** Joins: zeittunnel (benjamin@moz-96B4755C.dip0.t-ipconnect.de)
[06:30:37] <carter> tomdale: hello off the twitters 
[06:31:04] <tomdale> carter: ohai
[06:32:08] <ChrisMorgan> Yay! I have me a Debian installation on my tablet with glibc 2.17, so now I should be able to run Luqman's rustc-for-arm builds once again :-)
[06:32:55] <hoverbear> Hm... If I want to pass in two &[u8]s concatenated together, how would I do that?
[06:32:59] <ChrisMorgan> Actually, I guess I can make it myself now.
[06:33:17] <hoverbear> foo(this + that);  fails :(
[06:33:18] <ChrisMorgan> hoverbear: you can't; they're slices in different memory locations.
[06:33:37] <hoverbear> ChrisMorgan: Ok. Hrm.
[06:33:38] <ChrisMorgan> You'd need to allocate a new ~[u8] and copy the two into it.
[06:33:50] <FreeFull> 12/lh
[06:34:14] <ChrisMorgan> hoverbear: or perhaps you can just take a <T: Iterator<u8>>; in that case you could chain the slice iterators together.
[06:34:35] <ChrisMorgan> hoverbear: if the iterator technique is viable for you, it's the one I'd recommend.
[06:35:44] <hoverbear> ChrisMorgan: Basically I want to pass (this+that) into stream.write(), where `this` is a string and `that` is a &[u8] I got from File::open(...).read_to_end().
[06:36:02] <hoverbear> Now that I think about it I should just pipe it in
[06:36:10] <dbaupp> hoverbear: it will be more efficient as stream.write(this); stream.write(thta)
[06:36:24] <hoverbear> dbaupp: Just thought that myself. :) Thanks!
[06:36:27] <ChrisMorgan> dbaupp: not necessarily true, actually.
[06:36:39] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[06:37:02] <ChrisMorgan> For an unbuffered stream, multiple writes may not do what you want and may actually end up slower.
[06:37:17] *** Quits: nfroidure (nfroidure@moz-EAF61C33.w90-18.abo.wanadoo.fr) (Ping timeout)
[06:37:49] <ChrisMorgan> For example, given a TcpStream, stream.write([0]); stream.write([0]) will send two TCP packets, each containing a payload of one zero byte.
[06:38:13] <o11c> ChrisMorgan: only if Nagle's algorithm is disabled ...
[06:38:25] <hoverbear> o11c: +1!
[06:38:33] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[06:39:12] <ChrisMorgan> o11c: I'm not familiar with Nagle's algorithm, but I see it; where would it be enabled?
[06:39:26] <ChrisMorgan> (My own observation is made from early in rust-http development, before I put buffering in.)
[06:39:30] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[06:39:46] <hoverbear> ChrisMorgan: It's a buffering type idea. Basically don't send a packet until you have some ratio of the minimum socket size. IIRC it's set system level
[06:39:53] <Luqman> ChrisMorgan: er, i should update those :P
[06:40:05] <Luqman> all the linking changes kinda broke my script :P
[06:40:07] *** Joins: hjr3 (hradtke@D82EA79C.2B30AB8E.E519B3D.IP)
[06:40:44] <hoverbear> Luqman: Are you working on rust http?
[06:40:54] <Luqman> no
[06:41:02] <hoverbear> Is there a rust-http?
[06:41:05] <ChrisMorgan> He's speaking of his rustc builds for ARM, http://luqman.ca/rust-builds/
[06:41:14] <ChrisMorgan> hoverbear: sure, https://github.com/chris-morgan/rust-http
[06:41:14] <hoverbear> Ah xD
[06:41:42] <hoverbear> ChrisMorgan: I literally just made a rust-http repo
[06:41:46] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[06:41:59] <ChrisMorgan> Anyway, Nagle's algorithm or no Nagle's algorithm, the point stands that the behaviour is not the same and can potentially result in poorer performance from two write calls with no allocation than one with allocation.
[06:43:23] *** Joins: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca)
[06:43:24] *** Joins: lucian_ (lucian@moz-8408FDFA.cable.virginm.net)
[06:43:24] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Connection reset by peer)
[06:43:25] <ChrisMorgan> hoverbear: rust-http is a long way off complete and is soon going to be undergoing a fairly significant rewrite (what's there was just a prototype), but it can be used (both client and server) by the brave.
[06:43:36] <hoverbear> Just had to install Make... man wtf did I do on this computer?
[06:44:04] <hoverbear> ChrisMorgan: I might be interested in helping... Want ot dig around first.
[06:45:13] *** Quits: lucian_ (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[06:45:59] *** Quits: KindOne (KindOne@D8D5D1C5.2171A688.34F73994.IP) (Ping timeout)
[06:46:01] <dbaupp> ChrisMorgan: oh, btw, you should find a whiteboard manufacturer that takes bitcoin, to put your donation to good use. :P
[06:46:24] <ChrisMorgan> dbaupp: I was actually thinking more along the lines of getting a laptop with it.
[06:46:31] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[06:46:43] <dbaupp> ChrisMorgan: a laptop with a whiteboard case? close enough! \o/
[06:46:56] <hoverbear> ChrisMorgan: Out of curiosity, what is `build/codegen`, and why do I not see it in that directory?
[06:47:03] <ChrisMorgan> Hey, that's an interesting idea.
[06:47:05] *** Parts: pyon (user@D883E380.480D3EC1.1C8C8CE9.IP) (ERC Version 5.3 (IRC client for Emacs))
[06:47:43] <ChrisMorgan> hoverbear: there's a little bit of code generation that goes on in the build process; codegen does that code generation. If you use `make` it'll build it (from src/codegen/main.rs).
[06:47:44] *** Joins: gkostyanikov (gkostyanik@3DA7DA90.2AEE264E.CA6E2165.IP)
[06:48:07] <hoverbear> ChrisMorgan: I'll make an issue. :)
[06:48:15] <ChrisMorgan> hoverbear: what for?
[06:48:46] <phil_> anyone here using jeaye's ncurses bindings?
[06:48:47] <hoverbear> ChrisMorgan: I'm running `make` and all that's going into `build/ ` is an executable named `main`
[06:49:00] <ChrisMorgan> hoverbear: when did you last build rustc?
[06:49:04] <jeaye> phil_: don't think so.
[06:49:09] <ChrisMorgan> Just then?
[06:49:11] <dbaupp> jeaye: are you?
[06:49:14] <hoverbear> ChrisMorgan: It's thestinger's repo
[06:49:20] <phil_> oh damn
[06:49:21] *** Joins: KindOne (KindOne@moz-5985DF2A.dynamic.ip.windstream.net)
[06:49:29] *** Quits: aatch (James@moz-B437F499.pocketrent.com) (Client exited)
[06:49:33] <phil_> jeaye: i cant get them to compile
[06:49:34] <jeaye> dbaupp: phil_ q3 was using them for the server interface
[06:49:37] <ChrisMorgan> hoverbear: yeah, changing pkgid to crate_id just landed, so I just need to replace that now
[06:49:45] <hoverbear> ChrisMorgan: Oh I see.
[06:49:49] <phil_> i dunno if its the latest rust
[06:49:51] <jeaye> phil_: Correct. They're not up to date with master.
[06:49:52] <phil_> or just my laptop
[06:49:54] <phil_> ah ok
[06:50:01] <jeaye> It's not you, it's me. ;)
[06:50:12] <phil_> just wanted to make sure
[06:50:13] <phil_> :)
[06:50:31] <jeaye> Feel free to update and send a pull request!
[06:50:32] <phil_> i didnt even see you were in here hah
[06:50:35] <phil_> oh god
[06:50:38] <phil_> im not that good
[06:50:47] <phil_> in fact im really bad
[06:51:24] <dbaupp> the only way to get better is to practice :)
[06:51:32] <phil_> i tried to fix by adding the link_args feature
[06:51:35] <ChrisMorgan> hoverbear: fixeded.
[06:51:36] <phil_> but no dice
[06:51:53] <phil_> dbaupp: i wouldnt even know where to begin though tbh
[06:51:57] <hoverbear> ChrisMorgan: Did I tell you how awesome you are lately?
[06:52:00] *** Joins: nfroidure (nfroidure@moz-A6ED9060.w90-18.abo.wanadoo.fr)
[06:52:15] <dbaupp> phil_: start in #rust, asking questions :)
[06:52:27] <phil_> well okay theres that
[06:52:31] * ChrisMorgan doesn't think so :P (But I presume that is the message; thanks!)
[06:52:33] <phil_> gimme a few
[06:52:38] <phil_> ill take a look
[06:53:10] <dbaupp> phil_: #[link_args] gets replaced by #[link(name="ncurses")]
[06:53:24] <phil_> yeah
[06:53:33] <phil_> i put that in there
[06:53:42] <phil_> gimme a minute
[06:53:45] <dbaupp> sure
[06:53:52] <phil_> ill ask you fine people what these errors mean
[06:54:04] <phil_> it was something like
[06:54:11] <phil_> 'box' is in ident position
[06:54:26] <dbaupp> ah, that one
[06:54:34] <phil_> the line was pub fun box {
[06:54:40] <dbaupp> box is now a keyword, so change it to bx or box_ or something
[06:54:48] <phil_> ah!
[06:55:47] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[06:56:20] <jeaye> That's nasty, since the foreign function is called box
[06:56:34] <dbaupp> you can use...
[06:56:41] <dbaupp> #[link_name="box"]
[06:56:42] <dbaupp> iirc
[06:57:16] <dbaupp> yep, that's the one, `#[link_name="box"] pub fn box_(...);`, or whatever
[06:57:24] <jeaye> phil_: ^
[06:57:39] <phil_> okay
[06:58:36] <dbaupp> ChrisMorgan: the 'newer' and 'older' links on your blog seem backwards
[06:58:45] <dbaupp> but that's probably just me
[06:59:09] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[07:00:35] *** Joins: andreypopp (andreypopp@moz-7261DC60.net)
[07:00:36] <jeaye> Off to bed. phil_, I look forward to that pull request! :)
[07:00:39] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[07:00:44] <phil_> wow
[07:00:51] <phil_> pressure
[07:00:53] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[07:00:59] <ChrisMorgan> dbaupp: there's interesting controversy about which way round they should go. Given a newer-to-older ordering, older to the right would make intuitive sense, you see. But it's not what people typically expect, somehow.
[07:01:55] *** Joins: ktt3ja (ktt3ja@moz-54586A12.washdc.fios.verizon.net)
[07:02:00] <dbaupp> ChrisMorgan: maybe you want a older-to-newer ordering :P
[07:03:06] <phil_> dbaupp: so now what throws me
[07:03:06] <phil_> is 
[07:03:12] <phil_> erm
[07:03:45] <phil_> unresolved name: vec::raw::to_ptr
[07:03:59] <ChrisMorgan> Now a method on the vector.
[07:04:01] <phil_> basically a bunch of vec::raw and str::raw
[07:04:04] <dbaupp> ah, that's now just a method: `.as_ptr()`
[07:04:08] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[07:04:10] <phil_> okay
[07:04:16] <dbaupp> and to_mut_ptr is ,as_mut_ptr()
[07:04:25] <dbaupp> s/,/./
[07:04:33] <phil_> okay
[07:04:38] <phil_> so much stuff in flux!
[07:04:38] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[07:05:01] <dbaupp> the best part of Rust is how fast your code breaks from stdlib changes :P
[07:05:05] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[07:05:27] * dbaupp is guilty of a lot of the changes to vec and str
[07:05:40] <dbaupp> however, they're for the best :)
[07:05:45] <phil_> haha
[07:05:54] <phil_> yeah i believe it
[07:06:29] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[07:06:45] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[07:06:46] <phil_> now i get unresolved name: vec::raw::as_ptr!
[07:07:12] <phil_> ill go look at the docs on that
[07:07:14] <dbaupp> it's a method
[07:07:30] <dbaupp> so `vec::raw::to_ptr(v)` => `v.as_ptr()`
[07:08:09] <phil_> oh
[07:10:13] <phil_> okay
[07:10:21] <phil_> that got rid of that one
[07:10:23] <phil_> thanks
[07:10:31] <phil_> theres a pile of these ill need to get through
[07:10:36] <phil_> ill try to minimize bugging :)
[07:11:13] <dbaupp> feel free
[07:11:40] * dbaupp is just sitting here waiting for rustc builds
[07:11:40] *** Joins: pao (pao@moz-AF905E87.fbx.proxad.net)
[07:11:51] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Quit: WeeChat 0.4.2)
[07:14:34] *** Quits: gkostyanikov (gkostyanik@3DA7DA90.2AEE264E.CA6E2165.IP) (Quit: Textual IRC Client: www.textualapp.com)
[07:15:27] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[07:19:15] *** Quits: pao (pao@moz-AF905E87.fbx.proxad.net) (Quit: pao)
[07:19:22] *** Joins: gkostyanikov (gkostyanik@3DA7DA90.2AEE264E.CA6E2165.IP)
[07:19:51] *** Joins: pyon (user@D883E380.480D3EC1.1C8C8CE9.IP)
[07:20:43] <sfackler> is --crate-file-name supposed to output the same thing as --crate-name?
[07:24:09] *** Quits: FreeFull (freefull@moz-EFEF3DB5.as13285.net) (Quit: )
[07:26:42] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[07:27:24] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[07:29:03] *** Joins: fabiand (fabiand@moz-18B39E08.adsl.alicedsl.de)
[07:29:04] *** Joins: Ms2ger (Ms2ger@8B85F0F7.C5F25A2D.F15B0BB3.IP)
[07:29:45] *** Quits: gkostyanikov (gkostyanik@3DA7DA90.2AEE264E.CA6E2165.IP) (Quit: My iMac has gone to sleep. ZZZzzz…)
[07:30:35] *** Joins: victorporof (victorporo@18CBE5E4.20A86B53.2B3D3D4.IP)
[07:32:30] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[07:33:27] *** Joins: gkostyanikov (gkostyanik@3DA7DA90.2AEE264E.CA6E2165.IP)
[07:33:27] *** Joins: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net)
[07:33:31] <eevee> .borrow().borrow_mut().get()  :(
[07:34:09] <dbaupp> eevee: Rc<RefCell<...>>?
[07:34:27] <eevee> yeah
[07:34:55] <Ms2ger> Fun
[07:34:57] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[07:35:10] <Ms2ger> Maybe we should stick with @mut :)
[07:35:11] *** Joins: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[07:35:18] *** Quits: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net) (Ping timeout)
[07:35:43] <eevee> {:?} is also pretty useless
[07:36:06] <eevee> std::rc::Rc<std::cell::RefCell<Inner>>{ptr: (0x7faed0000ca0 as *mut ())}
[07:36:39] <dbaupp> You just want to print it for debugging?
[07:37:04] <eevee> yeah
[07:37:31] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[07:37:52] <dbaupp> you may be able to impl `std::fmt::Default` for Rc<RefCell<Inner>>, so `println!("{}", your_thing)` works
[07:38:02] <dbaupp> (and then you only have to write that chain once.)
[07:39:41] <eevee> welll that doesn't help when actually using the value
[07:39:44] *** Quits: nrc|Christmas (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[07:40:20] <eevee> and i can't just tack stuff on Rc<RefCell<T>> bah  :)
[07:40:37] <dbaupp> I thought you could implement traits for that?
[07:40:46] <dbaupp> well, probably not generics
[07:41:02] <eevee> yeah i'd have to do it for any type i want to wrap
[07:41:12] <eevee> which isn't all that many i suppose
[07:41:24] *** Joins: jvns (bork@moz-DE62990.nyc.res.rr.com)
[07:42:00] <eevee> hmm if Option.unwrap() is becoming .get() then that seems a bit less appropriate for RefMut
[07:44:13] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[07:45:56] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[07:45:59] <sfackler> get on RefMut will be going away as soon as the smart pointer trait is implemented
[07:49:24] <sfackler> maybe we should just define borrow_mut() on Rc<RefCell<T>> :/
[07:49:52] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[07:53:09] *** Quits: juturna (Mibbit@moz-A06909E4.glbb.ne.jp) (Quit: http://www.mibbit.com ajax IRC Client)
[07:57:37] *** Quits: jvns (bork@moz-DE62990.nyc.res.rr.com) (Ping timeout)
[07:58:29] *** Quits: pyon (user@D883E380.480D3EC1.1C8C8CE9.IP) (Quit: lag)
[08:02:31] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[08:07:08] *** Quits: maxiepoo (Max@68A63377.C44F889.D279C981.IP) (Ping timeout)
[08:08:20] *** Quits: gkostyanikov (gkostyanik@3DA7DA90.2AEE264E.CA6E2165.IP) (Ping timeout)
[08:11:49] *** Joins: gkostyanikov (gkostyanik@3DA7DA90.2AEE264E.CA6E2165.IP)
[08:15:29] *** Joins: jessta (jessta@moz-9DDA1270.dyn.iinet.net.au)
[08:17:52] *** Joins: alonlevy (alon@5B2CEDFA.67C0172.9E22F775.IP)
[08:22:42] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[08:22:52] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:23:30] *** Joins: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se)
[08:25:43] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[08:26:48] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[08:26:57] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[08:27:11] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[08:28:18] *** btm_away is now known as btm_home
[08:30:00] *** Joins: buster (buster@3A0EAB5F.9C69795C.ACFE537F.IP)
[08:31:38] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[08:35:12] *** Quits: hjr3 (hradtke@D82EA79C.2B30AB8E.E519B3D.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[08:36:36] *** flaper87|afk is now known as flaper87
[08:37:01] *** Quits: ilyoan (ilyoan@B4104EBB.3CC170B1.1E14B209.IP) (Input/output error)
[08:42:31] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[08:45:02] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:45:26] *** Quits: fabiand (fabiand@moz-18B39E08.adsl.alicedsl.de) (Quit: Verlassend)
[08:45:36] *** Joins: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP)
[08:45:47] *** Quits: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca) (Ping timeout)
[08:46:46] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[08:49:06] *** Joins: nkoep (nik@moz-FA3A7995.pool.mediaways.net)
[08:50:52] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[08:51:39] *** Joins: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca)
[08:52:09] *** Joins: fabiand (fabiand@moz-18B39E08.adsl.alicedsl.de)
[08:53:21] *** Quits: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca) (Ping timeout)
[08:56:36] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[08:59:50] *** Joins: lenstr (lenstr@66C0DC19.121853A2.28B5BA55.IP)
[09:00:01] *** Quits: lenstr (lenstr@66C0DC19.121853A2.28B5BA55.IP) (Quit: Leaving...)
[09:02:43] *** Quits: alonlevy (alon@5B2CEDFA.67C0172.9E22F775.IP) (Ping timeout)
[09:04:35] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[09:05:33] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[09:05:35] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[09:05:56] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[09:06:05] *** Joins: awidegreen (awidegreen@moz-3FEC4684.dip0.t-ipconnect.de)
[09:07:21] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[09:07:46] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[09:08:44] *** Joins: lenstr (lenstr@66C0DC19.121853A2.28B5BA55.IP)
[09:11:25] <mark_edward> anyone here familiar with rust-bindgen?
[09:12:57] *** Quits: fabiand (fabiand@moz-18B39E08.adsl.alicedsl.de) (Ping timeout)
[09:13:04] <Luqman> mark_edward: what's up?
[09:13:51] <mark_edward> Luqman: why does is seem to generate bindings to half of libc, including structs that are usually opaque, like pthrad_mutex_t?
[09:15:43] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[09:15:52] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[09:17:34] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[09:18:10] *** Quits: lenstr (lenstr@66C0DC19.121853A2.28B5BA55.IP) (Ping timeout)
[09:18:32] *** Joins: fabiand (fabiand@moz-18B39E08.adsl.alicedsl.de)
[09:19:03] <Luqman> mark_edward: given some C it goes as far as possible in making rust equivalents afaik
[09:19:54] <mark_edward> ah i see. is there any way to make generate bindings only to the stuff in a given header file, and not to things found in stdio.h, pthread.h, etc?
[09:20:57] <Luqman> i don't think so
[09:21:18] <klutzy> -match?
[09:23:18] <mark_edward> klutzy: ah -match did it! 
[09:23:29] <mark_edward> thanks for the advice you guys!
[09:24:49] *** Joins: Blei (philipp@moz-B2F9E4BD.cust.bluewin.ch)
[09:25:24] *** Joins: rca (rcatolino@moz-E8A296BC.adsl.proxad.net)
[09:26:54] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[09:27:29] *** Joins: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP)
[09:30:22] <Luqman> klutzy: ah! oops, sorry for the misinformation mark_edward :P
[09:31:12] <mark_edward> no prob, lol. this is a crazy useful tool. does rustc provide enough info for someone to make a rust-rust-bingden that can make equivalent C/C++ structs for rust types?
[09:31:21] <mark_edward> and functions, etc
[09:31:27] <mark_edward> whereever possible
[09:32:26] <Diamond> afik, structs in rust and c/cpp (POD types only though) have the same layout.
[09:33:26] <dbaupp> yes
[09:33:53] <dbaupp> and `extern "C" fn ...` can be called directly from C
[09:34:05] <dbaupp> mark_edward: https://github.com/mozilla/rust/issues/10530 fwiw
[09:34:41] *** Joins: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net)
[09:36:23] *** Quits: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net) (Ping timeout)
[09:36:39] <eddyb> dbaupp: sooo... this is a circle... https://gist.github.com/eddyb/d4f01ab9a6f3d55d2682/raw/64d9060bdd2016814e1b4d35bd6b8ab3561bf982/huffman-qtree-visualized
[09:37:07] <eddyb> still smells of too much entropy :/
[09:37:50] <klutzy> eddyb: you should submit it to http://accidental-art.tumblr.com/ :p
[09:38:09] <eddyb> lol
[09:38:27] *** Quits: vk (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net) (Quit: ChatZilla 0.9.90.1 [Firefox 27.0/20131216183647])
[09:38:38] *** Quits: gkostyanikov (gkostyanik@3DA7DA90.2AEE264E.CA6E2165.IP) (Ping timeout)
[09:39:23] *** Joins: gkostyanikov (gkostyanik@3DA7DA90.2AEE264E.CA6E2165.IP)
[09:39:27] <eddyb> klutzy: circle expressed as a quad tree (3 symbols) -> huffman encoded -> huffman bits as squares https://gist.github.com/eddyb/d4f01ab9a6f3d55d2682
[09:39:50] *** Quits: trecer (trecer@moz-3A571AF4.dyn.centurytel.net) (Ping timeout)
[09:39:50] <eddyb> klutzy: the circles themselves http://jsfiddle.net/eddyb/7g5QQ/show/
[09:40:09] <eddyb> there is nothing accidental about it, and it's not artsy either :(
[09:42:12] <eddyb> klutzy: I was hoping there was a way to "compress" it all down to something linear in size
[09:44:03] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[09:45:49] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:47:22] <hansjorg> any ops with topic powers awake? rust-ci has been moved to http://rust-ci.org/
[09:47:37] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[09:47:49] <eddyb> omg I have to start adding to that. so many things :D
[09:48:37] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[09:50:38] <hansjorg> eddyb: the more the merrier :)
[09:52:44] *** Quits: ross (ross@moz-5EA04060.br.br.cox.net) (Quit: )
[09:55:20] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[09:56:55] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[09:59:50] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[10:00:46] *** Joins: noy (user@moz-44A5916A.a146.priv.bahnhof.se)
[10:06:13] *** kimundi is now known as zz_kimundi
[10:06:30] <Luqman> heh, had to stop fail2ban to get rustc to compile hello world without OOM'ing :P
[10:07:00] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[10:07:12] *** Quits: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP) (Ping timeout)
[10:08:00] *** Quits: gkostyanikov (gkostyanik@3DA7DA90.2AEE264E.CA6E2165.IP) (Ping timeout)
[10:08:25] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[10:08:27] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Connection reset by peer)
[10:08:35] *** Joins: gkostyanikov (gkostyanik@3DA7DA90.2AEE264E.CA6E2165.IP)
[10:08:51] *** Joins: pyon (user@D883E380.480D3EC1.1C8C8CE9.IP)
[10:09:11] *** Joins: amro (quassel@F1E3FD84.8AAAF769.FAAB0799.IP)
[10:11:46] *** Quits: awidegreen (awidegreen@moz-3FEC4684.dip0.t-ipconnect.de) (Ping timeout)
[10:14:20] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[10:15:19] *** Joins: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se)
[10:21:36] *** Quits: gkostyanikov (gkostyanik@3DA7DA90.2AEE264E.CA6E2165.IP) (Ping timeout)
[10:25:08] *** Joins: gkostyanikov (gkostyanik@4BF8CD8C.EF9FA30D.CA6E2165.IP)
[10:29:33] *** Quits: hacker_sam (hacker_sam@2EE27BB6.661C02A7.B0CE379A.IP) (Ping timeout)
[10:29:33] *** Joins: sigma (sigma@moz-6E1846A2.range86-184.btcentralplus.com)
[10:30:29] *** Joins: hacker_sam (hacker_sam@2EE27BB6.661C02A7.B0CE379A.IP)
[10:38:33] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[10:41:21] <bjz> achin
[10:41:24] <bjz> oops
[10:41:36] <bjz> sorry, didn't mean to ping you
[10:41:57] <bjz> acrichto: re we going to be able to select on duplex streams?
[10:42:07] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[10:43:52] <bjz> acrichto: also, would selecting on vectors of port like things be possible?
[10:44:06] <bjz> like ~[Port] or ~[DuplexStream]
[10:46:27] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[10:48:08] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[10:50:12] *** Quits: nkoep (nik@moz-FA3A7995.pool.mediaways.net) (Quit: Leaving)
[10:50:20] <dbaupp> eddyb: that's pretty neat :)
[10:50:33] <eddyb> it's pointleeeessssss
[10:50:45] <eddyb> (just like a circle. get it?)
[10:50:55] <Ms2ger> Wow
[10:50:59] <eddyb> dbaupp: the problem is that I think I'm trying to compress PI in linear space
[10:51:32] <eddyb> which just won't work... it has infinite entropy
[10:52:25] *** Joins: Earnestly (earnest@88884C6.A3735F9C.39C00A7A.IP)
[10:53:07] <dbaupp> approximations to pi have finite entropy
[10:53:09] *** Joins: dredozubov (dredozubov@2F14E2C1.F70E5FA9.F63E14E8.IP)
[10:53:35] <eddyb> dbaupp: I was hoping I could see something obvious in 2D that I could replicate for 3D - because the process is identical
[10:54:17] <eddyb> well, sure. but I want something linear that can be decompressed into an infinite string
[10:54:36] <eddyb> basically a generator.
[10:55:08] <dbaupp> 22/7
[10:56:09] *** Joins: Sorella (quildreen@D2D1E5DD.81EFC25A.A95FAE2B.IP)
[10:56:37] <Ms2ger> 3
[10:57:39] <eddyb> dbaupp: hmm... I could try to evolve an algorithm in a simple VM, that can produce any of a few different random patterns with various shapes (so that I'm not creating just a x²+y²<=r² evaluator)
[10:58:04] <eddyb> dbaupp: uhm, what?
[10:58:09] <dbaupp> eddyb: I have no idea of the context, or what you're trying to achieve; but ok, that sounds neat
[10:58:10] *** Joins: jaen (jaen@moz-C7736C30.play-internet.pl)
[10:58:52] <eddyb> dbaupp: imagine trying to make a perfect sphere with variable size voxels
[10:59:48] <eddyb> for simplicity's sake, think "octtrees" (each cube is split into 8 smaller cubes, if not completely filled/empty)
[10:59:52] *** Quits: kvanb (kvanb@moz-F4E1EC66.vic.bigpond.net.au) (Quit: kvanb)
[11:00:15] *** Joins: kvanb (kvanb@moz-F4E1EC66.vic.bigpond.net.au)
[11:01:12] <eddyb> now, you can do it, but generating it takes quite a lot of time and then you can't just store it in a naive format, it's going to be huge
[11:01:56] <eddyb> dbaupp: so my idea is to store a relatively small bit string that can be "extracted" as much as it is required to render it with decent quality
[11:02:30] <eddyb> you can even do (part of) the extraction and tessellation on the GPU
[11:03:17] <eddyb> dbaupp: but it might as well be (another) mad utopic idea
[11:06:22] <dbaupp> so, basically, encode an algorithm for computing a sphere
[11:06:41] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[11:06:52] <dbaupp> such as, just checking x²+y²+z²<=r², and hence only r needs to be stored?
[11:07:27] <dbaupp> or just that defining relation?
[11:08:31] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[11:10:48] <eddyb> dbaupp: the point is to not encode a specific computation/relation, but something generic enough and a circle/sphere is just one special case
[11:11:17] <eddyb> ok, this is better :P https://gist.github.com/eddyb/d4f01ab9a6f3d55d2682
[11:11:40] <dbaupp> sounds like DSL :P
[11:12:10] <eddyb> those sequences can go ad infinitum, but I want a linear sequence which can be "decompressed" into any length you want
[11:12:25] <eddyb> I don't actually need it to be perfect, just close enough
[11:13:04] <eddyb> the huffman code is just .replace(/ /g, '0').replace(/■/g, '10').replace(/◇/g, '11')
[11:13:10] <dbaupp> so you basically need to encode an algorithm for computing pi?
[11:13:31] <eddyb> dbaupp: kinda, without it being related to PI in any special way
[11:14:32] <eddyb> I know you're trying to help, but I'm afraid this is... breaking information theory in a way or another
[11:14:34] <dbaupp> right
[11:14:58] <eddyb> though so is (apparently) the mandelbrot set
[11:15:05] *** Quits: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se) (Ping timeout)
[11:15:19] <dbaupp> see the various infinite series that converge to pi
[11:15:30] <dbaupp> pi isn't uncomputable
[11:16:25] <eddyb> but a mathematical definition isn't very useful here. an interesting compromise would be to store a small sequence as-is and define the rest of it mathematically
[11:16:49] <eddyb> so you're not using too much space, but if you want more quality, then you can obtain it
[11:18:05] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[11:18:10] <dbaupp> whaddya mean a mathematical definition isn't useful? having a way to store something like http://upload.wikimedia.org/math/6/f/5/6f5daaa0b0d680ce1ee13669c31ce9ae.png seems like a perfect way to get on-demand accuracy
[11:18:31] <dbaupp> since you just truncate the sum later to get more accuracy
[11:19:15] <dbaupp> (although, of course, that exact series there has particularly slow convergence.)
[11:19:54] <eddyb> the sequence lengths are [4, 16, 44, 104, 228, 480, 988, 2008, 4052, 8144], that's interesting - it slows down
[11:20:42] <eddyb> dbaupp: I guess a 1D version of this would be PI :P
[11:20:53] *** Quits: m_kato (m_kato@moz-C286AD9A.bitcat.net) (Quit: Leaving...)
[11:21:45] <eddyb> but those sequences require bignum madness and whatnot - and I mentioned PI mostly as a comparison, what I have is a shape
[11:22:05] <heftig> dbaupp: that sequence needs a lot of terms to get appreciable accuracy
[11:23:05] <heftig> 20000 terms only gets you to 3.1415426535898243
[11:23:32] <dbaupp> heftig: correct... (I did point that out :) )
[11:23:45] <eddyb> hmm... [4, 2.75, 2.3636363636363638, 2.1923076923076925, 2.1052631578947367, 2.058333333333333, 2.032388663967611, 2.0179282868525896, 2.009871668311945]
[11:23:47] <heftig> ah, i missed that
[11:23:55] <heftig> played around with it before you said "slow convergence"
[11:24:10] *** Joins: gwty (gwtypc@F845B194.A388EA24.F44414AF.IP)
[11:25:02] <dbaupp> http://en.wikipedia.org/wiki/Chudnovsky_algorithm converges at 14 decimal(!) digits per term, apparently
[11:25:08] *** Joins: awidegreen (awidegreen@moz-3FEC4684.dip0.t-ipconnect.de)
[11:25:38] <eddyb> the detail increases exponentially while the size of the sequence increases apparently exponentially, but it slows down in an interesting way
[11:25:43] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[11:26:34] <eddyb> or x_i / x_(i-1) will converge to 2, so it's still exponential
[11:26:42] <eddyb> and proportional to the detail, I suppose
[11:27:49] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[11:28:02] <eddyb> a linearly increasing sequence wouldn't be perfect, but certainly better
[11:29:34] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[11:29:35] <kvanb> http://static.rust-lang.org/doc/master/std/at_vec/index.html
[11:29:40] <kvanb> why is it called at_vec and not just vector?
[11:30:12] <dbaupp> because that's for @[]
[11:30:20] <dbaupp> the "real" vector module is std::vec
[11:31:29] <kvanb> what does at stand for?
[11:31:32] <eddyb> @
[11:31:40] <heftig> [T] is not a type; @[T] (at_vec; deprecated), ~[T] (vec), and &[T] (slice) are
[11:32:07] *** Quits: zeittunnel (benjamin@moz-96B4755C.dip0.t-ipconnect.de) (Ping timeout)
[11:33:09] <eddyb> dbaupp: wait... the actual number of pixels is (2^n)^2 while the length of the sequence stabilizes at 8*(2^n)
[11:33:09] <kvanb> oh
[11:33:12] <kvanb> at, @, heh.
[11:33:35] <dbaupp> eddyb: so you are compressing it
[11:33:46] <eddyb> dbaupp: that's what binary trees do :P
[11:34:01] <eddyb> but I want to compress the quad/oct tree further
[11:34:22] <kvanb> VectorVector is a stupid trait name
[11:34:40] <dbaupp> kvanb: correct
[11:34:41] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[11:34:47] <eddyb> VectorOfVectors
[11:34:56] * dbaupp wishes we didn't have to have all those traits
[11:35:06] <eddyb> 1537 bytes for a 1MP image is something...
[11:35:09] <kvanb> MergableVector ?
[11:35:22] <eddyb> kvanb: no, VectorVector means [[T]]
[11:35:28] <eddyb> or, rather ~[~[T]]
[11:35:45] <kvanb> the type doesn't really say that to me.
[11:35:48] <dbaupp> eddyb: no, &[{@,~,&}[T]]
[11:35:52] <eddyb> riiight
[11:36:21] *** Joins: rfw (rfw@moz-7D453A5B.rfw.name)
[11:36:35] * bjz ios responsible for VectorVector -_-
[11:36:42] <bjz> ugh
[11:36:55] <eddyb> bjz: VectorOfVectors is fine IMHO, if you want to rename it
[11:36:57] <dbaupp> kvanb: almost all the traits in the stdlib (and especially those in std and vec) are work arounds for not being able to define methods on built-ins any other way
[11:37:25] <pnkfelix> "what's your vector, victor?"
[11:37:43] <kvanb> im learning rust form haskell and I know my criticism might be a bit unfounded or whatever
[11:37:43] <dbaupp> heh
[11:37:50] <eddyb> dbaupp: sadly, "impl Foo" is a hack, it becomes "impl Foo::__extensions__ for Foo" or something like that - though even with that hack, the anonymous trait could be made local to the crate the impl is in
[11:37:54] <kvanb> but theres are so many traits versus the low number of typeclasses in the haskell prelude
[11:37:59] <dbaupp> kvanb: yeah, it's a language wart
[11:38:13] <kvanb> I feel that maybe these could be compacted into more similar groups
[11:38:17] <kvanb> especially the container ones.
[11:38:30] <dbaupp> kvanb: (as I said, almost all the traits are work-arounds for the methods thing)
[11:38:32] <eddyb> kvanb: they aren't because of the method signatures
[11:38:34] <bjz> kvanb: ideally there would be less traits
[11:39:07] <eddyb> bjz, dbaupp: I don't think it's that hard to fix, actually. we just need to make sure it's sane to "impl T" with T outside the current crate
[11:39:17] <dbaupp> eddyb: that's not sane
[11:39:31] <bjz> kvanb: it's pretty crazy how many there are. we don't want something like the C++0x concepts proposal
[11:39:36] <eddyb> but you can make a dummy trait and impl it
[11:39:40] <dbaupp> eddyb: we need some way to indicate that `std` owns the built-ins, so that we can use `impl uint { ... }`
[11:39:50] <eddyb> can't we avoid that?
[11:39:52] <dbaupp> eddyb: yes, but that satisfies coherency
[11:39:57] <dbaupp> eddyb: (having a trait)
[11:40:01] <dbaupp> eddyb: not having a trait doesn't
[11:40:14] <kvanb> well, maybe breaking them upto into smaller traits
[11:40:23] <kvanb> like Mergable, Foldable, etc
[11:40:24] <eddyb> impl is already a hack based on an "anonymous" trait
[11:40:35] <dbaupp> eddyb: really?
[11:40:48] <eddyb> AFAIK, take it with a grain of salt
[11:40:51] <dbaupp> kvanb: it's hard to get right :(
[11:41:09] <dbaupp> kvanb: especially since we have to think about explicit mutability, while haskell doesn't
[11:41:12] <eddyb> dbaupp: I don't see the coherency problem
[11:41:32] <kvanb> maybe im naive in assuming data structures are mutable
[11:41:40] <kvanb> actually, yes, thats obvious now.
[11:41:41] <dbaupp> kvanb: not always
[11:41:47] <eddyb> &self isn't mutable, &mut self is
[11:41:52] <kvanb> is there some kind of trait families or something?
[11:42:08] <dbaupp> kvanb: and, some require &mut self for look-ups (like an LRU cache), while most only need &self
[11:42:09] <kvanb> Like, can you say implementing X trait depends on Y trait
[11:42:10] <dbaupp> no
[11:42:18] <dbaupp> well, kinda
[11:42:22] <dbaupp> you can inherit traits
[11:42:23] <eddyb> you can inherit traits
[11:42:25] <eddyb> lol
[11:42:28] <Ms2ger> you can inherit traits
[11:42:36] <dbaupp> so `trait A: B { .. }` says that anything that impls A must also impl B
[11:42:37] <kvanb> I can inherit traits?
[11:42:41] * kvanb bandwagon
[11:42:50] <dbaupp> eddyb: two crates impl a method `foo` directly on uint, import both crates, call `1u.foo()`... which foo is called?
[11:42:54] <kvanb> Oh, that's what I'd be looking for 
[11:43:18] <Ms2ger> dbaupp, the one which was imported first ;)
[11:43:31] <eddyb> dbaupp: with a trait, you have to import the trait to get the method, gotcha
[11:43:49] <dbaupp> Ms2ger: the crate with the larger file size, because that one is clearly more important
[11:43:54] <eddyb> with "impl", you get the anon trait(s) when you import the type
[11:44:00] <Ms2ger> dbaupp, I have found my master
[11:44:28] <eddyb> dbaupp: it makes sense now. :(
[11:44:40] <eddyb> dbaupp: #[lang=uint] type uint;
[11:44:42] <kvanb> what kind of process would one go through to restructure stuff
[11:44:55] <kvanb> is it like, program proof of concept -> issue -> review -> discuss
[11:44:59] <dbaupp> eddyb: yes, lang items would be a nice solution
[11:45:08] <eddyb> dbaupp: now to remove all the code parsing "uint" as special :P
[11:45:09] *** Joins: FreeFull (freefull@moz-EFEF3DB5.as13285.net)
[11:45:19] <eddyb> dbaupp: and all the similar built-in types
[11:45:22] *** Quits: gwty (gwtypc@F845B194.A388EA24.F44414AF.IP) (Ping timeout)
[11:45:37] <dbaupp> kvanb: the stdlib is fairly fluid, but yeah, one way would be an email to the mailing list with a concrete suggestion
[11:45:46] *** Joins: gwty (gwtypc@F845B194.A388EA24.F44414AF.IP)
[11:45:47] <eddyb> kvanb: we usually discuss way before proof of concept
[11:45:52] <dbaupp> kvanb: (not necessarily fully planned out, but certainly most of the broad details)
[11:46:20] <kvanb> cheers. &afk
[11:46:27] <eddyb> dbaupp: I'm actually proud of finding such a simple solution :3
[11:46:31] *** Quits: kvanb (kvanb@moz-F4E1EC66.vic.bigpond.net.au) (Quit: kvanb)
[11:46:35] <dbaupp> eddyb: well done
[11:46:37] * dbaupp gives medal
[11:46:44] <eddyb> we can nuke all the builtin types this way
[11:46:45] *** Quits: Dessimat0r (Dessimat0r@3258E608.E588CE06.9A579328.IP) (Ping timeout)
[11:46:56] <dbaupp> eddyb: it would require something tricky to get the `type foo;` to work :P
[11:47:08] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[11:47:18] <eddyb> it shouldn't parse without the lang item attr
[11:47:23] <dbaupp> weird
[11:47:26] <dbaupp> very weird :P
[11:47:30] <eddyb> maaagic
[11:47:35] *** Joins: Dessimat0r (Dessimat0r@3258E608.E588CE06.9A579328.IP)
[11:47:52] *** Joins: zxcdw (r-a@5F0EDB29.B543C4DE.3933CC16.IP)
[11:48:04] <eddyb> and I did have a (crazier) solution for vectors - but that's trickier because they're not just a name, they have special syntax
[11:48:10] <dbaupp> it could be, say, #[lang_item="uint"] struct uint; to avoid special casing `type`, but then that would no longer be 0-sized.
[11:48:50] <dbaupp> vectors == copt [] as a general container constructor
[11:48:50] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[11:48:57] *** Joins: pao (pao@moz-AF905E87.fbx.proxad.net)
[11:49:15] *** Quits: Dessimat0r (Dessimat0r@3258E608.E588CE06.9A579328.IP) (Ping timeout)
[11:49:34] <dbaupp> [[1, 2], [3, 4], [5, 6]] can be a HashMap<int, int> as well as a [[int, .. 2], .. 3], or whatever.
[11:49:42] * dbaupp dreams
[11:49:53] <eddyb> you'd want (1, 2), (3, 4), ... there
[11:49:59] <Ms2ger> {1, 2}
[11:50:05] <eddyb> Ms2ger: screw C++
[11:50:15] <dbaupp> Ms2ger: doesn't work with block expressions :P
[11:50:29] <Ms2ger> \langle 1, 2 \rangle
[11:50:51] <pnkfelix> while we're dreaming, why not [(1 -> 2), (3 -> 4), (5 -> 6)] ...
[11:51:01] * dbaupp likes that too
[11:51:03] <eddyb> => for PHP
[11:51:16] <eddyb> for _ in a..b
[11:51:24] <pnkfelix> does our parser have a `=>` token (yet) ? 
[11:51:28] <dbaupp> lets take container syntax from every language, and have each one subtly different!
[11:51:32] <dbaupp> pnkfelix: match arms
[11:51:37] <pnkfelix> oh duh
[11:51:52] <pnkfelix> that's probably a better semantic match
[11:52:00] <eddyb> JSON
[11:52:39] <eddyb> JS actually has some silly ambiguity between a block and an object literal
[11:52:48] <Ms2ger> {1:2, 3:4}
[11:52:52] <eddyb> as foo: is valid inside a a block
[11:53:00] *** Joins: kvanb (kvanb@moz-F4E1EC66.vic.bigpond.net.au)
[11:53:19] <eddyb> Ms2ger: that would be {[1]: 2, [3]: 4} AFAIK
[11:54:43] *** Quits: kvanb (kvanb@moz-F4E1EC66.vic.bigpond.net.au) (Ping timeout)
[11:54:47] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[11:54:54] *** Quits: rca (rcatolino@moz-E8A296BC.adsl.proxad.net) (Ping timeout)
[11:55:27] *** Quits: gwty (gwtypc@F845B194.A388EA24.F44414AF.IP) (Ping timeout)
[11:55:28] *** Joins: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net)
[11:55:48] *** Joins: gwty (gwtypc@F845B194.A388EA24.F44414AF.IP)
[11:56:59] <eddyb> dbaupp: hmm, there's something else going on when you work with voxels. you want to render only the outer shell
[11:57:06] *** Joins: Dessimat0r (Dessimat0r@3258E608.E588CE06.9A579328.IP)
[11:58:20] <eddyb> so what happens if I add terminal symbols back in...
[11:58:21] *** Quits: gwty (gwtypc@F845B194.A388EA24.F44414AF.IP) (Ping timeout)
[11:59:22] <TobiasFar> does rust FFI works for accessing static libs too?
[12:00:09] *** Joins: darkf (darkf@moz-F9058B8A.net)
[12:00:55] <eddyb> TobiasFar: yes
[12:01:26] <eddyb> #[link("foo", kind=static)] extern {...} - I think that will link to libfoo.a
[12:01:46] *** Quits: rntz (rntz@moz-C76A8D96.sp.cs.cmu.edu) (Ping timeout)
[12:01:47] <TobiasFar> eddyb: thanks
[12:01:55] *** Quits: rpearl (rpearl@moz-2B41ACB5.andrew.cmu.edu) (Ping timeout)
[12:02:06] *** Quits: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu) (Ping timeout)
[12:02:06] *** Quits: acrichto (acrichto@moz-B63D64BD.res.cmu.edu) (Ping timeout)
[12:03:15] *** Joins: gwty (gwtypc@F845B194.A388EA24.F44414AF.IP)
[12:05:05] *** Quits: gwty (gwtypc@F845B194.A388EA24.F44414AF.IP) (Ping timeout)
[12:05:40] *** Joins: gwty (gwtypc@F845B194.A388EA24.F44414AF.IP)
[12:07:07] *** Joins: rntz (rntz@moz-C76A8D96.sp.cs.cmu.edu)
[12:07:17] *** Joins: rpearl (rpearl@moz-2B41ACB5.andrew.cmu.edu)
[12:07:26] *** Joins: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu)
[12:07:29] *** Quits: gwty (gwtypc@F845B194.A388EA24.F44414AF.IP) (Ping timeout)
[12:07:41] *** Joins: acrichto (acrichto@moz-B63D64BD.res.cmu.edu)
[12:07:42] *** ChanServ sets mode: +o acrichto
[12:07:57] *** Quits: amro (quassel@F1E3FD84.8AAAF769.FAAB0799.IP) (Ping timeout)
[12:08:35] *** Joins: gwty (gwtypc@F845B194.A388EA24.F44414AF.IP)
[12:09:53] *** Joins: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP)
[12:10:05] <eddyb> dbaupp: so now this isn't a disc anymore, but a circle (an approximation of the pixels on the edge) https://gist.github.com/eddyb/4c0a7c9610e11ee3aef2
[12:11:02] *** Joins: rca (rcatolino@moz-E8A296BC.adsl.proxad.net)
[12:11:58] <eddyb> barely saving any bytes, but it's closer to what I need
[12:15:18] *** Quits: hacker_sam (hacker_sam@2EE27BB6.661C02A7.B0CE379A.IP) (Connection reset by peer)
[12:15:38] *** Joins: hacker_sam (hacker_sam@2EE27BB6.661C02A7.B0CE379A.IP)
[12:21:25] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[12:21:38] <eddyb> dbaupp: now I can actually look at it and understand some( )thing(s) http://jsfiddle.net/eddyb/7g5QQ/show/
[12:22:15] <dbaupp> eddyb: nea
[12:22:16] <dbaupp> t
[12:22:48] <eddyb> hmm, what if you do ray-tracing on the reduced version?
[12:23:55] <eddyb> nvm that. but anyways, the way polygons work, they would basically connect the outer jagged edge
[12:24:16] *** Quits: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net) (Client exited)
[12:31:14] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[12:32:02] *** Quits: gkostyanikov (gkostyanik@4BF8CD8C.EF9FA30D.CA6E2165.IP) (Ping timeout)
[12:33:25] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[12:34:10] *** Joins: gkostyanikov (gkostyanik@A84185FE.3E410295.CA6E2165.IP)
[12:38:39] *** Quits: rca (rcatolino@moz-E8A296BC.adsl.proxad.net) (Ping timeout)
[12:38:47] <ChrisMorgan> Luqman: are you intending to make a new armhf rustc build? (I'll build my own eventually, the question is whether I figure out how to build one tonight or later.) Are you still using more or less the process shown in https://gist.github.com/luqmana/40528aff62afcdb72680 ?
[12:42:16] <eddyb> dbaupp: this can double as a minecraft circle planner :P http://jsfiddle.net/eddyb/7g5QQ/show/
[12:44:51] *** Quits: pao (pao@moz-AF905E87.fbx.proxad.net) (Quit: pao)
[12:46:08] <tiffany> the latest xkcd is relavent to box vs ~: http://xkcd.com/1306/
[12:46:35] <eddyb> oh, wow, I checked xkcd this morning before that was up
[12:46:40] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[12:46:54] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[12:47:07] <dbaupp> hahaha
[12:47:08] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[12:47:40] *** Quits: dredozubov (dredozubov@2F14E2C1.F70E5FA9.F63E14E8.IP) (Quit: Leaving...)
[12:47:52] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[12:47:57] *** Quits: thiez (thiez@moz-BF669398.student.utwente.nl) (Quit: Changing server)
[12:48:01] <eddyb> an argument against hungarian notation is that "you have types, stop putting the same information into the variable name"
[12:48:20] <eddyb> so we have like a triangle of sigils, names and type systems
[12:49:18] *** jorendorff_away is now known as jorendorff
[12:49:42] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[12:49:57] <dbaupp> and rust is in the sigil + typesystem corner?
[12:50:43] *** Joins: rca (rcatolino@moz-E8A296BC.adsl.proxad.net)
[12:50:47] <eddyb> we use sigils in the type system - not sure how to put it
[12:50:54] <eddyb> dbaupp: also, that's a side, not a corner
[12:51:34] *** Joins: arrrrrrrrr (arrrrrrrrr@moz-15B51ABB.dynamic.qsc.de)
[12:51:49] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[12:52:22] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[12:52:32] <arrrrrrrrr> I think I've asked this before but I don't remember the answer: There is no native dbus library for Rust right now, correct?
[12:54:22] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[12:56:04] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[12:56:45] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[12:57:41] *** Joins: pao (pao@moz-AF905E87.fbx.proxad.net)
[12:57:49] *** Quits: japaric (japaric@7C76557C.60901FDF.95AE23EB.IP) (Ping timeout)
[12:58:44] <ChrisMorgan> How would one create cyclic structures at present?
[12:58:51] *** Joins: dredozubov (dredozubov@2F14E2C1.F70E5FA9.F63E14E8.IP)
[12:59:06] <ChrisMorgan> (Knowing that they will leak.)
[12:59:25] <eddyb> Rc::new_unchecked, I guess
[12:59:33] <eddyb> or unsafe pointers
[13:00:04] <ChrisMorgan> Good, that's what I thought the answer would be.
[13:00:16] <eddyb> (with a strong/weak Rc, you won't leak but it has an extra cost)
[13:00:42] <ChrisMorgan> Yes, #10926 for that
[13:01:30] *** Joins: amey (user@8961CBCE.9E7B6A84.D2D1FAF0.IP)
[13:03:22] *** zz_kimundi is now known as kimundi
[13:03:32] *** Quits: pao (pao@moz-AF905E87.fbx.proxad.net) (Quit: pao)
[13:06:07] *** Joins: zeittunnel (benjamin@moz-96B4755C.dip0.t-ipconnect.de)
[13:06:34] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[13:07:36] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[13:08:38] *** Quits: gkostyanikov (gkostyanik@A84185FE.3E410295.CA6E2165.IP) (Ping timeout)
[13:09:31] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[13:11:31] *** Quits: hacker_sam (hacker_sam@2EE27BB6.661C02A7.B0CE379A.IP) (Client exited)
[13:11:43] *** Joins: gkostyanikov (gkostyanik@A84185FE.3E410295.CA6E2165.IP)
[13:12:08] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[13:12:27] *** Quits: arrrrrrrrr (arrrrrrrrr@moz-15B51ABB.dynamic.qsc.de) (Quit: arrrrrrrrr)
[13:14:25] *** Quits: gkostyanikov (gkostyanik@A84185FE.3E410295.CA6E2165.IP) (Ping timeout)
[13:15:32] *** Joins: judder (maradukewa@837BB533.C8128DC0.78E362FE.IP)
[13:16:14] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[13:16:41] *** Parts: judder (maradukewa@837BB533.C8128DC0.78E362FE.IP) ()
[13:17:49] *** Joins: gkostyanikov (gkostyanik@A84185FE.3E410295.CA6E2165.IP)
[13:19:30] *** Joins: q66_ (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[13:19:51] *** Joins: alonlevy (alon@moz-B406282A.bb.netvision.net.il)
[13:20:29] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Ping timeout)
[13:20:37] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[13:24:50] *** Joins: sebcrozet (sebcrozet@moz-6DA639AF.w80-13.abo.wanadoo.fr)
[13:24:59] *** Quits: gkostyanikov (gkostyanik@A84185FE.3E410295.CA6E2165.IP) (Ping timeout)
[13:28:00] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[13:28:54] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[13:29:02] *** Joins: yota (sdouche@moz-7D878FB8.securactive.net)
[13:30:35] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[13:31:09] *** Joins: smodo (tadnr@moz-6398EFDF.dclient.hispeed.ch)
[13:32:26] <amey> xk
[13:32:31] *** Parts: amey (user@8961CBCE.9E7B6A84.D2D1FAF0.IP) (ERC Version 5.3 (IRC client for Emacs))
[13:41:19] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:42:33] *** Quits: pyon (user@D883E380.480D3EC1.1C8C8CE9.IP) (Quit: restart)
[13:45:17] *** Joins: pyon (user@D883E380.480D3EC1.1C8C8CE9.IP)
[13:46:56] *** Joins: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP)
[13:47:48] *** jorendorff is now known as jorendorff_away
[13:47:48] *** Quits: alonlevy (alon@moz-B406282A.bb.netvision.net.il) (Connection reset by peer)
[13:48:09] *** Joins: alonlevy (alon@moz-B406282A.bb.netvision.net.il)
[13:49:57] *** Joins: jackneill (jackneill@moz-F3E366E7.pool.digikabel.hu)
[13:54:39] *** Quits: dredozubov (dredozubov@2F14E2C1.F70E5FA9.F63E14E8.IP) (Ping timeout)
[13:55:11] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[13:55:23] *** kimundi is now known as zz_kimundi
[13:55:25] <TobiasFar> is there a way to tell rustc about additional search paths for modules?
[13:55:54] <dbaupp> TobiasFar: you can annotate a `mod` with #[path="foo/bar/baz.rs"]
[13:56:13] <dbaupp> i.e. `#[path="..."] mod foo;`
[13:56:47] <TobiasFar> but no way to do via cmd line?
[13:56:57] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[13:57:19] <TobiasFar> found out about the annotation, but wanted to make sure i haven't missed some option or so
[13:57:32] *** Joins: samx (sami@680D9CEC.96CB7DCC.284344F5.IP)
[13:59:05] <eddyb> TobiasFar: modules are relative - or are you talking about crates?
[13:59:50] <TobiasFar> basically i want to include rust code from another file
[14:00:05] <TobiasFar> so i don't have to build it independently 
[14:00:20] <eddyb> TobiasFar: modules aren't built independently
[14:00:32] <eddyb> a bunch of modules are compiled together into a crate, at once
[14:00:50] <eddyb> but why do you need the flexibility?
[14:01:53] <eddyb> (asking not because it's a bad thing, but because I don't know the context)
[14:03:26] <TobiasFar> well...currently i'm just learning rust and want to try things out...having a binding for a clib in one file and my app code in another...and i ideally want to run rust just once
[14:04:23] <eddyb> it's actually harder to build them separately :P
[14:05:23] <eddyb> TobiasFar: instead of search paths, you want to build a "module tree" or use #[path="..."] mod ...
[14:06:23] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[14:06:23] *** ChanServ sets mode: +ao dherman dherman
[14:06:37] <TobiasFar> ok
[14:06:41] <eddyb> I don't think you've answered my question, actually... so, does your "Makefile" or whatever build system know the path of the other file and you want to "inject" it?
[14:06:58] <eddyb> or do you want to choose between multiple files?
[14:07:35] <eddyb> the latter is actually easier because we don't have a way to do #[path=cfg_value!("foo_path")] yet
[14:07:43] <eddyb> (for the former)
[14:07:52] <TobiasFar> ah okay
[14:08:33] <TobiasFar> the path stuff would work, but the binding generator used a glob use, and now i'm wondering how to add "#[feature(globs)] " to the crate meta-data
[14:08:34] *** Joins: dredozubov (dredozubov@2F14E2C1.F70E5FA9.F63E14E8.IP)
[14:08:57] <TobiasFar> would that be at the head of the .rs file?
[14:09:38] <eddyb> yeah, before anything other than comments or empty lines
[14:12:32] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[14:13:42] *** Quits: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP) (Input/output error)
[14:18:33] <ChrisMorgan> And with a semicolon after it.
[14:22:11] *** Quits: samx (sami@680D9CEC.96CB7DCC.284344F5.IP) (Connection reset by peer)
[14:22:56] *** Joins: samx (sami@680D9CEC.96CB7DCC.284344F5.IP)
[14:23:01] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[14:23:29] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[14:26:53] *** Quits: samx (sami@680D9CEC.96CB7DCC.284344F5.IP) (Ping timeout)
[14:31:10] *** Joins: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com)
[14:31:34] *** Joins: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP)
[14:32:36] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[14:32:36] *** ChanServ sets mode: +ao dherman dherman
[14:33:21] *** Quits: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP) (Ping timeout)
[14:35:10] *** Joins: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net)
[14:36:14] *** Quits: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net) (Client exited)
[14:37:03] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[14:37:25] <dbaupp> bstrie_on_vacation: get off HN and back on vacation!
[14:38:53] *** jorendorff_away is now known as jorendorff
[14:42:08] *** Quits: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[14:42:38] *** Joins: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP)
[14:44:54] *** Joins: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[14:45:57] *** zz_kimundi is now known as kimundi
[14:48:06] *** Quits: z0w0 (zack@moz-971099AD.lns5.woo.bigpond.net.au) (Ping timeout)
[14:49:39] *** Quits: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP) (Ping timeout)
[14:50:55] *** Quits: Blei (philipp@moz-B2F9E4BD.cust.bluewin.ch) (Quit: WeeChat 0.4.2)
[14:50:58] *** Joins: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP)
[14:54:41] *** Joins: dredozub_ (dredozubov@2F14E2C1.F70E5FA9.F63E14E8.IP)
[14:54:58] *** Quits: dredozubov (dredozubov@2F14E2C1.F70E5FA9.F63E14E8.IP) (Ping timeout)
[14:55:25] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[14:55:56] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[14:57:34] *** Joins: jvns (bork@moz-DE62990.nyc.res.rr.com)
[14:57:48] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[14:59:15] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[15:01:20] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[15:05:04] *** Joins: arrrrrrrrr (arrrrrrrrr@moz-15B51ABB.dynamic.qsc.de)
[15:05:19] <arrrrrrrrr> strcat: ping
[15:06:51] *** jorendorff is now known as jorendorff_away
[15:08:41] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[15:10:19] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[15:10:32] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[15:11:21] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[15:11:59] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[15:12:43] *** Quits: awidegreen (awidegreen@moz-3FEC4684.dip0.t-ipconnect.de) (Ping timeout)
[15:12:52] *** Quits: jvns (bork@moz-DE62990.nyc.res.rr.com) (Ping timeout)
[15:15:32] <Ms2ger> Btw, there's an amazing number of useful APIs on Iterator and Option
[15:17:06] *** Joins: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se)
[15:17:16] *** Joins: dcrewi (david@moz-AB8667CE.gyrae.net)
[15:19:00] *** Quits: buster (buster@3A0EAB5F.9C69795C.ACFE537F.IP) (Ping timeout)
[15:20:23] *** Joins: pepper_chico (pepper_chi@moz-CFBE8821.dsl.telesp.net.br)
[15:25:15] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[15:25:46] *** Parts: dcrewi (david@moz-AB8667CE.gyrae.net) ()
[15:25:55] *** Joins: dcrewi (david@moz-AB8667CE.gyrae.net)
[15:26:33] *** Joins: buster (buster@3A0EAB5F.9C69795C.ACFE537F.IP)
[15:29:07] *** Joins: jvns (bork@moz-DE62990.nyc.res.rr.com)
[15:29:47] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[15:30:08] *** Quits: buster (buster@3A0EAB5F.9C69795C.ACFE537F.IP) (Quit: Leaving.)
[15:30:22] *** jorendorff_away is now known as jorendorff
[15:31:27] *** Joins: jamil_1 (quassel@1A77772D.F16D9B58.3D6CCABD.IP)
[15:31:36] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[15:35:14] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[15:36:16] *** Joins: skade (skade@30BBD5E6.505237C9.CAE22B62.IP)
[15:37:25] *** flaper87 is now known as flaper87|afk
[15:42:59] *** Quits: pepper_chico (pepper_chi@moz-CFBE8821.dsl.telesp.net.br) (Quit: Ex-Chat)
[15:43:48] <strcat> arrrrrrrrr: pong
[15:45:26] <arrrrrrrrr> strcat: Do you remember that I asked you when a == b && b == a would ever be useful? I found it in assert_eq! and I don't understand what it's doing there.
[15:46:06] * strcat shrugs
[15:46:34] *** jorendorff is now known as jorendorff_away
[15:46:35] *** Joins: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net)
[15:46:53] *** jorendorff_away is now known as jorendorff
[15:47:21] *** Quits: skade (skade@30BBD5E6.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:48:14] *** flaper87|afk is now known as flaper87
[15:48:23] *** Quits: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net) (Ping timeout)
[15:51:04] *** Joins: beifeng (Mibbit@7989804A.FA7FF645.C7DB8B78.IP)
[15:53:33] *** Quits: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se) (Ping timeout)
[15:54:50] *** Joins: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se)
[15:55:40] <FreeFull> arrrrrrrrr: That's sounds like just a check for equality being commutative
[15:55:44] <cmr> arrrrrrrrr: Eq isn't documented as requiring commutativity... probably should though.
[15:56:19] *** Joins: hjr3 (hradtke@D82EA79C.2B30AB8E.E519B3D.IP)
[15:57:44] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[15:58:15] <cmr> arrrrrrrrr: indeed, according to wikipedia, equality is not defined as commutative!
[15:58:21] *** dherman is now known as dherman-breakfast
[15:58:29] <arrrrrrrrr> cmr: [citation needed]
[15:58:39] <Ms2ger> Should Eq be an equivalence relation?
[15:58:41] <cmr> https://en.wikipedia.org/wiki/Equality_%28mathematics%29, https://en.wikipedia.org/wiki/Equivalence_relation
[15:59:01] *** Quits: Sorella (quildreen@D2D1E5DD.81EFC25A.A95FAE2B.IP) (Quit: Ex-Chat)
[15:59:13] <cmr> "setoid"
[15:59:16] <cmr> sometimes I hate mathematics
[15:59:23] <Ms2ger> :(
[15:59:39] <Ms2ger> You must like magmas
[16:00:35] <arrrrrrrrr> cmr: Viewed as a relation, equality is the archetype of the more general concept of an equivalence relation
[16:00:54] <arrrrrrrrr> from wikipedia
[16:02:26] <arrrrrrrrr> Anyway I can assure you that equality is always commutative in mathematics
[16:02:49] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:02:52] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[16:03:00] <pyon> And equivalence relations require symmetry - the relational analog of commutativity for operators.
[16:03:13] <cmr> well then, I'm just dumb
[16:03:44] <pyon> the relational analog of what commutativity is for operators
[16:04:23] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[16:04:51] <smvv> hi. I've a message "error: cannot determine a type for this bounded type parameter: unconstrained type" which does not make sense to me. https://gist.github.com/smvv/8056880 perhaps i'm missing something obvious, but what's wrong with using Debugger::new(...) in this case?
[16:05:52] <cmr> smvv: it can't determine which implementation of Debugger you want.
[16:06:09] <smvv> let gdb: Gdb = Debugger::new() does not solve the problem
[16:06:18] *** Quits: hjr3 (hradtke@D82EA79C.2B30AB8E.E519B3D.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:06:19] *** Quits: alonlevy (alon@moz-B406282A.bb.netvision.net.il) (Ping timeout)
[16:06:22] <cmr> Right, becuase it doesn't specify which type debugger is implemented for.
[16:06:22] <arrrrrrrrr> Gdb::new()
[16:06:32] <cmr> arrrrrrrrr: not how associated functions work
[16:06:42] <cmr> smvv: you probably want "fn new(debugee: ~str) -> Self;`"
[16:07:17] <cmr> smvv: is there any particular reason you have the Debugger trait at all?
[16:07:50] <smvv> hmm not really. I was thinking about an easy to use api (gdb.send() and such)
[16:08:00] <cmr> you can just say "impl Gdb { ... }"
[16:08:05] <smvv> ok
[16:08:18] <arrrrrrrrr> cmr: What's wrong with Gdb::new()?
[16:08:34] <cmr> Unless you actually plan on implementing this trait over many types (which doesn't make sense for this imo), you shouldn't have it.
[16:08:37] <cmr> arrrrrrrrr: it doesn't work? :P
[16:08:56] <cmr> arrrrrrrrr: the function is associated with the Debugger trait, not Gdb.
[16:08:59] <arrrrrrrrr> hmm, I'll have to test this
[16:09:37] <smvv> what's the common practice for solving name collisions with structs and traits? i've struct Gdb and trait Gdb, what is the convention here?
[16:09:44] <cmr> smvv: but in a hypothetical future Rust, you'd say "Debugger::<for Gdb>::new()"
[16:09:58] <smvv> ok good to know :)
[16:09:58] <cmr> smvv: you don't need a trait to add methods to a struct.
[16:10:06] <Ms2ger> You know, hypothetical future Rust is much more fun to program in
[16:10:16] <smvv> cmr: ok
[16:10:43] <eddyb> Ms2ger: you don't say...
[16:10:46] <arrrrrrrrr> damn it you are right :p
[16:10:54] <smvv> cmr: wonderful. it works :)
[16:11:01] <cmr> (https://gist.github.com/cmr/8057012)
[16:11:02] <tiffany> too nebulous for my tastes
[16:11:04] <Ms2ger> Though now-rust is pretty nice too
[16:11:54] <pnkfelix> cmr: Why do you claim that this http://en.wikipedia.org/wiki/Equality_%28mathematics%29 says that equality is not necesasrily commutative?  I read its definition of "the symmetric property" as implying commutativity.
[16:12:01] <smvv> cmr: thx. I got that as well
[16:12:03] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[16:12:09] <cmr> pnkfelix: because I'm not smart :P
[16:12:11] <arrrrrrrrr> yeah cmr wtf?
[16:12:14] <cmr> (and didn't know what it meant)
[16:12:16] <arrrrrrrrr> how dare you
[16:12:18] <arrrrrrrrr> :p
[16:12:27] <cmr> it listed three properties that I knew! commutativity was not among them
[16:12:44] <cmr> or actually wait what
[16:12:51] <erickt> strcat: ping
[16:13:02] <strcat> erickt: ?
[16:13:02] <pnkfelix> cmr: oh sorry, I misinterpretd your earlier statement "I'm just dumb" as being sarcastic
[16:13:04] <cmr> yeah I just don't know what I'm doinog
[16:13:12] <pnkfelix> cmr: ;)
[16:13:39] <pnkfelix> cmr: (as opposed to good-naturedly self-deprecating, a crucial distinction)
[16:13:44] <erickt> strcat: good morning! I ran into what appears to be another missed optimization with iterators, this one with the Scan iterator: https://github.com/mozilla/rust/issues/11084
[16:13:59] <erickt> strcat: it seems it's not inlining the closure
[16:14:10] <strcat> erickt: yeah, I saw that, I'll look a bit later
[16:14:35] <erickt> strcat: cool, just wanted to point you in that direction :)
[16:14:54] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[16:15:13] *** Quits: basicdays (basicdays@moz-8D372C4B.wi.res.rr.com) (Ping timeout)
[16:15:15] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[16:15:37] <bstrie_on_vacation> dbaupp: haha, dammit! I'm trying!!!
[16:15:47] <bstrie_on_vacation> dbaupp: I didn't check IRC for *two hours*!
[16:15:54] * eddyb wonders how that IRC nick is possible
[16:15:54] <bstrie_on_vacation> maybe even three!
[16:16:00] <eddyb> erickt: closures? inlining? you're dreaming :P
[16:16:55] <eddyb> I mean, it usually works, but if you have too many closures or they're too large, they suddenly deoptimize a bunch of code around them
[16:16:57] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[16:16:59] <erickt> eddyb: `foo.iter().map(|x| x + 1)` inlines, so I think it's not that crazy of an idea :)
[16:17:27] *** Joins: basicdays (basicdays@moz-8D372C4B.wi.res.rr.com)
[16:17:32] <eddyb> but |x| x+1 is tiny
[16:18:09] <erickt> eddyb: yeah, I'd happily accept a "llvm thinks the closure is too big" not-a-bug answer
[16:18:20] <Ms2ger> bstrie_on_vacation, I mean this in the nicest possible way, but GET OUT :)
[16:18:43] *** Quits: pyon (user@D883E380.480D3EC1.1C8C8CE9.IP) (Quit: restart)
[16:18:50] <eddyb> erickt: I'd rather have it fixed, but I'm not sure what's doing it
[16:18:52] <erickt> eddyb: but this closure isn't that big either: https://gist.github.com/erickt/8051215#file-test-rs-L51
[16:19:49] <erickt> bstrie_on_vacation: you really need to just get a job a mozilla. then you can get paid to hang out on IRC
[16:19:51] <eddyb> erickt: put it in its own function in a file and run rustc --emit-llvm -S on it
[16:20:02] *** Joins: hjr3 (hradtke@D82EA79C.2B30AB8E.E519B3D.IP)
[16:20:14] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[16:20:22] <eddyb> (if you want to see exactly how big it is)
[16:20:54] *** Quits: jamil_1 (quassel@1A77772D.F16D9B58.3D6CCABD.IP) (Client exited)
[16:21:04] <erickt> eddyb: I got a meeting now, so I'll try in an hour or so
[16:21:14] *** Joins: itdaniher (it@moz-7FAAAB8D.bstnma.fios.verizon.net)
[16:22:04] *** Quits: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se) (Ping timeout)
[16:23:15] <itdaniher> Luqman: Working to build rust master on a RK3188 armhf box - 80991bb from luqman.ca/rust-builds seems too old to act as a stage0. Do you happen to have a more recent build?
[16:24:26] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[16:25:16] <itdaniher> Luqman: getting http://itdaniher.com/p?gbGa which I'm pretty sure is originating from out of dateness
[16:25:35] <smvv> is there an easy way to convert &str to &[u8]? I got this error "mismatched types: expected `&[u8]` but found `&str` (expected vector but found &str)" and doc/master/std/str/index.html does not give me a method for that type cast
[16:25:37] <bstrie_on_vacation> erickt: that's the dream! dbaupp: I was the one who foolishly dug up that mailing list thread yesterday to cite in a reddit comment, I'm obligated to correct misconceptions! Ms2ger: I'M TRYING, DAMN IT!!
[16:25:50] *** bstrie_on_vacation is now known as bstrie_dont_let_me_talk_on_irc
[16:26:23] <cmr> smvv: .as_bytes()
[16:26:28] *** Joins: awidegreen (awidegreen@moz-82C30824.dip0.t-ipconnect.de)
[16:26:33] <cmr> bstrie_dont_let_me_talk_on_irc: you know, you could ask someone to kickban you
[16:26:34] <eddyb> bstrie_dont_let_me_talk_on_irc: I want to steal that dream
[16:26:48] <eddyb> erickt: echo 'pub fn foo(state: &mut Option<~str>, x: Result<uint, ~str>) -> Option<uint> {match x {Ok(x) => Some(x),Err(e) => {*state = Some(e);None}}}' | rustc - -o /dev/stdout --lib --opt-level=3 -S --emit-llvm | less
[16:27:11] *** Joins: AbigailBuccaneer (jetbeard@BC6A14D0.71FA708F.E5F36E28.IP)
[16:27:15] <eddyb> erickt: I think it's over 50 lines
[16:27:28] <eddyb> there's a lot of bloat and exception handling
[16:27:52] <AbigailBuccaneer> Hi all. I'm fixing up some old Rust code that interfaces with the C library libpng.
[16:28:04] <eddyb> AbigailBuccaneer: why?
[16:28:05] <AbigailBuccaneer> There are a couple of places where the code uses vec::raw::to_ptr
[16:28:14] <AbigailBuccaneer> eddyb, because I want to write PNG images? :)
[16:28:17] *** Quits: awidegreen (awidegreen@moz-82C30824.dip0.t-ipconnect.de) (Ping timeout)
[16:28:18] <eddyb> is this in rust-png?
[16:28:22] <AbigailBuccaneer> yes
[16:28:46] <eddyb> it's kindof updated - wait, raw, are you talking about the recent fallout?
[16:28:59] <cmr> AbigailBuccaneer: .as_ptr() method.
[16:29:25] <AbigailBuccaneer> cmr, brilliant, thanks!
[16:29:34] <AbigailBuccaneer> (rust docs don't seem to show that?)
[16:29:34] *** Joins: Ferreus (ferreus@moz-92F37979.pools.arcor-ip.net)
[16:29:46] <cmr> if you search for it they do
[16:29:54] <cmr> it's on one of the vector traits
[16:29:57] <eddyb> AbigailBuccaneer: go on then, I was just making sure it wasn't something else. fwiw, rust-png is a #servo thing and the libpng bindings are minimal at best
[16:30:11] <cmr> Fixing the docs for builtin types is on my to-do list
[16:30:12] *** Joins: sellout (Adium@moz-AE26682A.hlrn.qwest.net)
[16:30:17] <cmr> eddyb: why is it a #servo thing?
[16:30:28] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[16:31:06] <AbigailBuccaneer> cmr, it's github.com/mozilla-servo/libpng
[16:31:08] <eddyb> cmr: because it's maintained by servo devs for servo and ./configure assumes you're in servo's build root
[16:31:32] <eddyb> and you can't update it to rust master (yet) because servo is still behind
[16:31:38] *** Quits: hjr3 (hradtke@D82EA79C.2B30AB8E.E519B3D.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:31:45] <cmr> that's not really how submodules work..
[16:32:11] <eddyb> that will be over soon
[16:32:12] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[16:33:03] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[16:33:03] *** ChanServ sets mode: +o jdm
[16:33:16] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[16:33:45] <eddyb> AbigailBuccaneer: I am almost done (I say that and I'll take another week :() with my rust-only PNG decoder - but an encoder is harder - mainly because you have to pick the right filter functions for each line and then have a decent DEFLATE implementation
[16:34:02] <Ms2ger> :)
[16:34:36] <AbigailBuccaneer> eddyb, maybe I should give in and install a PPM viewer :P
[16:34:41] <eddyb> AbigailBuccaneer: not meaning to stall anything, just making sure you know what the general plan is
[16:34:57] <eddyb> fwiw, it's trivial to write a dumb PNG encoder
[16:35:22] <eddyb> filter method 0 and then uncompressed DEFLATE blocks
[16:35:47] <eddyb> but the file size will be bad
[16:36:08] <eddyb> AbigailBuccaneer: "install"?
[16:36:46] <AbigailBuccaneer> download software capable of viewing PPM files, and then just write out a PPM file instead of a PNG file
[16:38:27] * eddyb was expecting an explanation as to why your "default" image viewer doesn't handle PPMs
[16:38:54] <strcat> AbigailBuccaneer: or just convert it to png with imagemagick
[16:38:56] <strcat> ;p
[16:38:59] <arrrrrrrrr> How can I use locks in static functions?
[16:39:13] <cmr> arrrrrrrrr: what's a static function?
[16:39:17] <arrrrrrrrr> not a method
[16:39:22] <AbigailBuccaneer> eddyb, I'm on OSX (at work I only have windows and OSX available to me)
[16:39:23] *** Quits: moostik (Icedove@moz-654D48E3.w83-202.abo.wanadoo.fr) (Ping timeout)
[16:39:24] <cmr> so, a function? :p
[16:39:25] *** Joins: jaebaek (jaebaek@4D10E9F2.E551553C.7544CABF.IP)
[16:39:27] <arrrrrrrrr> yes
[16:39:33] <AbigailBuccaneer> (i'm writing code for fun because it's the last work day of 2013)
[16:39:34] <cmr> arrrrrrrrr: see extra::sync
[16:39:51] <eddyb> AbigailBuccaneer: and it can't do PPMs?
[16:40:04] <arrrrrrrrr> cmr: those mutexes all have constructors so I can't have static variables with that type
[16:40:07] <AbigailBuccaneer> eddyb, I haven't tried, but I googled and couldn't find any mention of it
[16:40:32] <cmr> arrrrrrrrr: right. if you want to put it in a static you need to wrap it in an Option and initialize it to None.
[16:40:41] <cmr> or do what sfackler did, wherever that code lives.
[16:40:43] <eddyb> gwenview can. chrome can't but I wasn't expecting it to
[16:40:47] <cmr> but I think those were atomics, not locks.
[16:40:55] <arrrrrrrrr> cmr: thereby moving the race from the function to the initialization :p
[16:41:04] <cmr> arrrrrrrrr: well you can init in in main.
[16:41:16] <arrrrrrrrr> not good if I'm programming a library
[16:41:28] <cmr> nope
[16:41:38] <wycats_> hey everyone!
[16:42:01] <cmr> your code should probably be structured around calling methods on a resource that represents the lock.
[16:42:06] <eddyb> arrrrrrrrr: there's task locals, I think, fwiw
[16:42:07] <cmr> what are you trying to do?
[16:42:31] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[16:42:33] <eddyb> but those might be waay to slow
[16:42:35] <arrrrrrrrr> cmr: native dbus library
[16:42:45] <strcat> arrrrrrrrr: just don't use libdbus
[16:42:57] <arrrrrrrrr> strcat: _native_ :p
[16:42:59] <eddyb> if you're not interfacing with C, you shouldn't need global state
[16:43:08] <cmr> arrrrrrrrr: so what is the lock for?
[16:43:09] <eddyb> arrrrrrrrr: well, native is ambiguous in Rust
[16:43:11] <strcat> arrrrrrrrr: oh, so why do you need global state?
[16:43:24] <eddyb> "pure" works better in certain situations
[16:43:25] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[16:43:27] <arrrrrrrrr> eddyb: cmr: strcat: Only one session bus per application
[16:43:43] <arrrrrrrrr> that's how they do it in libdbus anyway
[16:43:48] *** dherman-breakfast is now known as dherman
[16:43:54] <arrrrrrrrr> and in dbus-go which I'm trying to port
[16:44:08] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[16:44:17] <eddyb> is there a technical reason to do so?
[16:44:29] <arrrrrrrrr> don't know
[16:44:33] <eddyb> dbus-go might have just copied libdbus
[16:44:57] *** Joins: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net)
[16:44:58] <eddyb> if you're using UNIX sockets then I don't see the point of global state
[16:45:14] <eddyb> (I'm assuming that's at least one of the channels it can use)
[16:45:21] <arrrrrrrrr> dbus even runs on windows afaik :p
[16:45:47] <cmr> arrrrrrrrr: where is the dbus-go source?
[16:45:57] <eddyb> riiiight. so generic IPC. but in WINAPI you usually have handles and stuff. I don't know
[16:46:38] <arrrrrrrrr> cmr: sorry it's called go.dbus: https://github.com/guelfey/go.dbus
[16:46:45] *** Quits: AbigailBuccaneer (jetbeard@BC6A14D0.71FA708F.E5F36E28.IP) (Ping timeout)
[16:47:43] *** Joins: AbigailBuccaneer (jetbeard@BC6A14D0.71FA708F.E5F36E28.IP)
[16:48:13] <eddyb> doesn't look like it has windows support
[16:48:23] <eddyb> also, coming from C++, Go is harder to read than Rust
[16:48:44] <strcat> because you can't abstract anything ;p
[16:49:42] <FreeFull> Go isn't as powerful as Rust
[16:49:54] <arrrrrrrrr> eddyb: Coming from C, Go is fucking beautiful. 
[16:50:08] <cmr> arrrrrrrrr: I think that about Rust :P
[16:50:30] <FreeFull> Coming from C and Haskell, Rust is much awesomer than Go
[16:50:45] <cmr> anyway it doesn't really matter
[16:50:50] <arrrrrrrrr> you guys call me when you have proper select with timeout, k?
[16:51:20] <alan_andrade> @wycats_ How is your back man ?
[16:51:29] <wycats_> it's pretty rough today
[16:51:34] <Luqman> ChrisMorgan: just put up a new one (forgot to copy it over after building it last night)
[16:51:45] <wycats_> Rust is definitely tricky
[16:51:45] <alan_andrade> oh damn, I hope you get better :)
[16:51:50] <wycats_> I wouldn't sugar-coat it
[16:51:58] <Luqman> ChrisMorgan: also, the process is somewhat different so that gist isn't really accurate anymore
[16:52:40] <wycats_> Rust is good for really one thing
[16:52:57] <wycats_> which is that you want direct control over memory and memory safety at the same time
[16:53:02] <wycats_> possibly throw in concurrency
[16:53:24] <wycats_> there isn't another language that's remotely mainstream that lets you stack allocate and has memory safety guarantees
[16:53:36] <wycats_> in Go you have to rely on the compiler to detect that stack allocation is possible
[16:53:40] <wycats_> you can't control it directly
[16:53:45] <Luqman> itdaniher: i just put up a more up to date one
[16:54:07] <wycats_> programming in Rust feels like programming in a GC language, once you've gently coaxed the compiler into believing your code
[16:54:50] <strcat> wycats_: saying that it's good at 'one thing' is underselling it a lot. most languages don't have nice generics, pattern matching, etc.
[16:54:59] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Ping timeout)
[16:55:23] <wycats_> strcat: I think if you don't want that "one thing" Rust is probably going to be overkill for you
[16:55:30] <wycats_> but that "one thing" covers a lot of cases
[16:55:35] <arrrrrrrrr> Go's one weakness: no generics ;_;
[16:55:37] <cmr> languages are complex and any opinion that can be boiled down to a sentence is too shallow
[16:55:39] <wycats_> in case people didn't realize, I wasn't trying to undersell Rust
[16:55:51] <wycats_> oy
[16:56:00] <strcat> arrrrrrrrr: no generics, no sum types, has data races, everything is gc'ed, the gc is global, no destructors, and so on...
[16:56:06] <cmr> except maybe thigns that appear on the esolang wiki :p
[16:56:09] *** Quits: achin (achin@moz-193F7FAD.ri.ri.cox.net) (Ping timeout)
[16:56:23] <wycats_> you have to think about use-cases
[16:56:35] <wycats_> maybe you can recast my statement as "the one place where Rust shines"
[16:56:49] *** Joins: achin (achin@moz-193F7FAD.ri.ri.cox.net)
[16:56:52] <wycats_> but it really is a lot of work to program in the ownership model
[16:56:57] <wycats_> and to get the compiler to compile
[16:56:58] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[16:57:00] <strcat> wycats_: I don't think it is
[16:57:01] <wycats_> so it better pay off
[16:57:05] <wycats_> strcat: ok
[16:57:13] <wycats_> strcat: I think you are smarter than most people
[16:57:16] <arrrrrrrrr> strcat: "opinions" . Like I said: Coming from C Go is just fine.
[16:57:31] <strcat> arrrrrrrrr: coming from brainfuck, php is fine
[16:57:36] <wycats_> I honestly don't even know what's happening here
[16:57:41] <wycats_> let me retract what I said
[16:57:44] <wycats_> I'm in too much pain
[16:57:52] <wycats_> I'll write a blog post and you guys can pile on there ;)
[16:58:02] <arrrrrrrrr> strcat: hoho, there are no data races in Go if you understand the language
[16:58:17] <strcat> arrrrrrrrr: there are no memory safety issues in C or C++ if you understand the language
[16:58:36] <wycats_> What I love to do on Sunday is kick back with a cold beer and watch data races on ESPN
[16:58:51] <arrrrrrrrr> that's what I'm saying. Coming from C I know that with great power comes yada yada
[16:59:38] <wycats_> I come from dynlangs
[16:59:43] <strcat> arrrrrrrrr: it was sarcasm
[16:59:50] <strcat> all substantial code bases have bugs
[16:59:51] <wycats_> and from the perspective of dynlangs, Rust is great if what you want is better control over memory
[16:59:53] <wycats_> with safety
[16:59:56] <strcat> anything the language permits WILL happen
[16:59:57] <wycats_> my other options are C and C++
[17:00:02] <wycats_> which have no safety guarantees
[17:00:02] <arrrrrrrrr> I'm not saying that Go is always safe. I'm saying that the natural way to program Go is safe.
[17:00:11] <wycats_> and as a dynlang programmer, I will for sure fuck it up
[17:00:13] <strcat> arrrrrrrrr: not really
[17:00:17] <arrrrrrrrr> I'd say so
[17:00:20] <wycats_> Go has safety guarantees, but no memory control
[17:00:20] <strcat> arrrrrrrrr: slices and maps get passed over channel by-ref
[17:00:23] <strcat> and you'll race on them
[17:00:37] <arrrrrrrrr> strcat: The natural way is not to do that
[17:00:38] <wycats_> such races
[17:00:40] <strcat> it's not natural to manually copy stuff before passing
[17:00:48] <strcat> the natural way to do it is the default way
[17:00:56] <arrrrrrrrr> I'd say it is in Go.
[17:01:10] <arrrrrrrrr> That's the way I do it anyway.
[17:01:14] <pnkfelix> I am pretty sure idiomatic Go programming style is off-topic for the channel.
[17:01:14] <strcat> it's natural to manually deep copy out out of some struct?
[17:01:16] <strcat> several levels deep
[17:01:22] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[17:01:42] <arrrrrrrrr> I don't send those kinds of things.
[17:01:50] *** Quits: jvns (bork@moz-DE62990.nyc.res.rr.com) (Ping timeout)
[17:01:54] <sfackler> cmr: arrrrrrrrr: here's where the code for the thing I did lives: https://github.com/sfackler/rust-ssl/blob/master/lib.rs#L29
[17:03:07] <arrrrrrrrr> sfackler: Atomics are bad :o
[17:03:15] <arrrrrrrrr> I don't want my program to crash
[17:03:29] <cmr> wut
[17:03:42] <arrrrrrrrr> there was an issue with static atomics iirc
[17:03:52] <cmr> eugh this again
[17:04:19] <strcat> arrrrrrrrr: if you put stuff with destructors in statics, it will cause problems... atomics don't require that
[17:04:25] <strcat> there are a whole bunch of intrinsics defined on int
[17:04:43] <arrrrrrrrr> I know. I'm using those functions.
[17:05:08] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[17:05:38] <erickt> wycats_: hey there! sorry you missed our meetup. Did you have any luck getting your rust project into production?
[17:05:49] <wycats_> yeah!
[17:05:52] <wycats_> it's in production!
[17:05:53] <wycats_> <3
[17:05:54] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:05:54] <erickt> woo!
[17:06:01] <wycats_> and this week I have been training up tomdale 
[17:06:07] <wycats_> I live in PDX
[17:06:08] <erickt> I can't believe rust is live at 2 companies
[17:06:15] <wycats_> I will probably want to start a PDX rust meetup
[17:06:24] <wycats_> we have a huge space at Tilde for meetups that isn't doing anything
[17:06:26] <erickt> wycats_: you should! that would be awesome
[17:06:54] <acrichto> bjz: it should be possible to select on duplex streams, they probably need a function exposing the underlying port so you can select on that
[17:07:02] <erickt> I've been meaning on making a PDX trip one of these days. A meetup would be a great excuse
[17:07:45] *** jorendorff is now known as jorendorff_away
[17:09:39] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[17:09:51] <wycats_> erickt: we have to do an Ember meetup there too
[17:10:01] <wycats_> I'll see if our overburdened logistics people are willing to do it
[17:11:22] <eddyb> 'muricans
[17:11:36] * eddyb should just move there. but "there" is so bloody big
[17:11:38] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[17:12:09] <arrrrrrrrr> https://gist.github.com/anonymous/d1a431c9a8982317c8cf
[17:12:12] <arrrrrrrrr> compiler bug?
[17:12:34] <arrrrrrrrr> task 'rustc' has overflowed its stack
[17:12:36] <arrrrrrrrr> zsh: illegal hardware instruction (core dumped)  rustc test.rs
[17:12:43] <wycats_> @wifelette and our new logistics person Kait Miller are super-amazing at what they do
[17:13:31] <erickt> arrrrrrrrr: yeah that seems to be a bug. Can you file a bug report?
[17:13:37] <arrrrrrrrr> k
[17:14:15] <arrrrrrrrr> someone please come up with a good title
[17:14:43] <eddyb> you'll have to learn to be dramatic on your own :P
[17:15:16] <erickt> arrrrrrrrr: stack overflow destroying a recursive structure
[17:15:17] *** Joins: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com)
[17:15:46] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[17:15:49] <arrrrrrrrr> I'm going to update to the latest rustc first
[17:16:49] <sfackler> arrrrrrrrr: you're trying to create an infinitely sized struct
[17:16:54] <sfackler> there's a bug for this, 1 sec
[17:16:58] *** Quits: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[17:17:13] <sfackler> https://github.com/mozilla/rust/issues/3779
[17:17:19] <erickt> wycats_: is there more to this whole planning a meetup thing than just incessantly bugging people to present something? That's all I know how to do :)
[17:17:27] <wycats_> erickt: food
[17:17:31] <wycats_> signage
[17:17:34] <arrrrrrrrr> sfackler: nice
[17:17:43] <wycats_> make sure meetup.com is set up properly
[17:17:46] <wycats_> waitlist management
[17:17:54] <wycats_> make sure the right people are tweeting about it
[17:17:57] <wycats_> they know more than me
[17:18:04] <wycats_> make sure there's enough chairs in the meetup space
[17:18:13] <erickt> ooh tweeting. I haven't done that yet.
[17:18:13] <wycats_> make sure there's a working projector
[17:18:19] <wycats_> bug the presenters the day-of
[17:18:24] <wycats_> (to make sure they're actually coming)
[17:19:02] <erickt> to be honest, I'm super lucky I can leverage mozilla's space for these meetings. my role organizing these things is actually quite minimal
[17:19:24] <erickt> they take care of setting up the space and feeding us. (thanks again mozilla!)
[17:21:05] <wycats_> :)
[17:21:15] <eddyb> such a benevolent dragon :3
[17:21:55] <eddyb> reminds me of Merlin
[17:24:04] <synackse> can I reference crate metadata from within the code? i.e., printing a version number when passed --version on the command line
[17:25:14] <eddyb> that would be nice, actually. and maybe doable. but I doubt it's exposed right now
[17:26:20] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[17:27:01] *** Joins: pao (pao@moz-AF905E87.fbx.proxad.net)
[17:27:19] <wycats_> __DATA__
[17:27:21] <wycats_> copy Ruby and Perl
[17:27:22] <wycats_> done
[17:27:24] <wycats_> :P
[17:27:27] *** Joins: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr)
[17:27:33] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: rcirc on GNU Emacs 24.3.1)
[17:27:54] <escalant3> the best document about the memory system I've found so far is http://static.rust-lang.org/doc/master/tutorial-borrowed-ptr.html. It doesn't seem to be enough for me to fully understand it. Is there a blog post or something that might help me?
[17:27:56] <adridu59> hey guys how can I pack up rust documentation for offline uses?
[17:28:07] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[17:28:08] <cmr> adridu59: make docs locally builds docs.
[17:28:36] <adridu59> where's rustdoc output? std/rustdoc?
[17:28:52] <cmr> it's all in doc/
[17:28:59] <adridu59> alright thanks
[17:29:56] *** Quits: victorporof (victorporo@18CBE5E4.20A86B53.2B3D3D4.IP) (Quit: victorporof)
[17:31:15] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[17:32:05] <arrrrrrrrr> this being a compiler bug is known? https://gist.github.com/anonymous/13aa15878ccd0525d7a2
[17:32:05] *** Quits: Earnestly (earnest@88884C6.A3735F9C.39C00A7A.IP) (Ping timeout)
[17:32:22] <eddyb> escalant3: "memory system" is a bit too broad. is there anything more specific you want to learn about?
[17:33:04] <cmr> arrrrrrrrr: yes, destructors in statics.
[17:33:06] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[17:33:11] <klutzy> arrrrrrrrr: this? https://github.com/mozilla/rust/issues/9243
[17:33:17] <escalant3> basically I want to understand when to use each type of the pointers provided by Rust. I am now reading http://pcwalton.github.io/blog/2013/03/18/an-overview-of-memory-management-in-rust/ that seems exactly what I needed
[17:33:29] <arrrrrrrrr> yes that's it
[17:33:32] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[17:33:51] <eddyb> escalant3: keep in mind that some things change, and the older the information, the higher the risk
[17:34:02] *** Joins: ben (ben@moz-79485C68.range86-184.btcentralplus.com)
[17:34:09] <eddyb> escalant3: jvns might have a recent blog post on that, let me look for it
[17:34:15] <escalant3> I know. That's why I asked :)
[17:35:14] <eddyb> http://jvns.ca/ the titles are amusing
[17:36:21] <eddyb> escalant3: maybe this http://jvns.ca/blog/2013/12/02/types-in-rust/
[17:37:05] <eddyb> hmm, no
[17:37:35] <eddyb> did she write anything about pointers? I can't remember
[17:37:44] <escalant3> eddyb: no. What I need is just the pointers. Julia describe the primitive types there
[17:37:57] <eddyb> cmr: is your browser history more helpful than mine?
[17:38:26] *** Joins: ski (ski@moz-E5796727.student.chalmers.se)
[17:39:19] <eddyb> cmr: hah, found your (incomplete) blog post
[17:39:21] <escalant3> there is also a post by steveklabnik http://words.steveklabnik.com/pointers-in-rust-a-guide. But he says "you don't actually need pointers"
[17:39:23] <eddyb> http://cmr.github.io/blog/2013/08/13/rust-by-concept/ fwiw
[17:39:40] <cmr> escalant3: see also the sectino on boxes in the tutorial.
[17:39:47] <steveklabnik> yup, you only need pointers in certain sistuations
[17:40:02] <cmr> *owned* pointers
[17:40:12] <cmr> you always need borrowed pointers
[17:40:35] <eddyb> escalant3: oh, yeah. one of the mistakes we see is people overusing pointers
[17:40:50] *** Joins: canhtak (canhtak@38266F07.7A8E554D.FC900DAF.IP)
[17:40:51] <cmr> owned boxes, not pointers in general.
[17:40:56] *** Joins: chridou (Mibbit@moz-1160D7C6.dip0.t-ipconnect.de)
[17:41:10] <eddyb> cmr: riight, because they're the only "smart" pointer we have
[17:41:13] <escalant3> As an exercise to learn, I want to generate a Graph structure. My Nodes are structs with a T value. To play with edges, I want those edges to point to the nodes in memory. Is it a wrong approach?
[17:41:19] *** Quits: dredozub_ (dredozubov@2F14E2C1.F70E5FA9.F63E14E8.IP) (Input/output error)
[17:41:23] <escalant3> Or nodes with a linked list of "neighbors"
[17:41:30] <eddyb> and we don't have a lint against heap allocaton (but "box" will help)
[17:41:43] <cmr> eddyb: yes we do
[17:41:45] <escalant3> I started using owned pointers but I am struggling with the compiler
[17:41:53] <eddyb> escalant3: you might need to use Rc<T> (shared, ref-counted) there
[17:41:56] <cmr> eddyb: heap-memory and managed-heap-memory lints
[17:42:01] <eddyb> cmr: o_O
[17:42:15] <cmr> and owned-heap-memory
[17:42:19] <cmr> (heap-memory is both of them)
[17:42:38] *** Joins: hjr3 (hradtke@F452D205.C4AED08B.AEED71A1.IP)
[17:42:47] <eddyb> escalant3: you can't have multiple owned pointers to the same object in memory
[17:43:12] <eddyb> s/to/pointing to/
[17:44:30] *** Joins: adridu59_ (Mibbit@moz-E1FF077C.rev.numericable.fr)
[17:44:33] <escalant3> that's what I found from the compiler messages and the docs. But in this case, I don't want to clone() nodes or anything like that. Reading I thought my best options was managed pointers, but every post I read discourages their use.
[17:44:42] <escalant3> I will read about Rc
[17:44:48] *** Quits: adridu59_ (Mibbit@moz-E1FF077C.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[17:45:03] <escalant3> maybe the problem is that my problem is inherently unsafe?
[17:45:07] <eddyb> nope
[17:45:26] <escalant3> I would need to control that if I delete a Node I need to delete all the edges pointing to it
[17:45:50] *** Joins: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net)
[17:45:55] <eddyb> with Rc, to remove the node from memory, you have to remove all the edges first
[17:46:02] *** Quits: lpy (lpy@12172131.F09091A8.1348A864.IP) (Quit: Leaving...)
[17:46:04] *** Quits: AbigailBuccaneer (jetbeard@BC6A14D0.71FA708F.E5F36E28.IP) (Connection reset by peer)
[17:46:07] <eddyb> that is, when it's no longer connected to anything, it will go away
[17:46:19] *** Quits: jaen (jaen@moz-C7736C30.play-internet.pl) (Ping timeout)
[17:46:28] *** Quits: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net) (Connection reset by peer)
[17:46:31] <eddyb> Rc does what manager pointers *actually do* (they kinda claim to be GC but they are just refcounting) but with proper semantics, no cycles, etc.
[17:46:42] <eddyb> though you sound like you can have cycles
[17:46:46] *** Joins: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net)
[17:46:57] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[17:47:23] *** Quits: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP) (Client exited)
[17:47:27] <escalant3> sounds promising. I will also need a graph reference to the node, because isolated nodes should be also allowed
[17:47:30] <eddyb> escalant3: alternatively, use a Strong/Weak Rc - where you have a vector of strong references to nodes, and each node has a vector of weak references to other nodes (those being edges)
[17:47:50] <adridu59> cmd: is there any dependency for docs building besides pandoc and nodejs? I don't find any sundown ubuntu package, is it embedded?
[17:48:00] <cmr> adridu59: yes, it is.
[17:48:04] <cmr> it's in src/rt/sundown
[17:48:09] <cmr> statically linked to rustdoc
[17:48:30] <adridu59> thanks!
[17:48:36] <eddyb> escalant3: then you don't need to remove edges, they would just become "empty" handles that you can remove just to free space in the vectors they're in
[17:48:45] *** Quits: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[17:48:49] <eddyb> escalant3: though I'm not sure libstd has a Strong/Weak Rc type yet
[17:48:54] <cmr> escalant3: easiest way to represent graphs is adjacency lists.
[17:48:55] *** Joins: jaen (jaen@moz-54F5591A.play-internet.pl)
[17:49:01] <cmr> eddyb: https://github.com/mozilla/rust/pull/10926
[17:49:07] * cmr -> afk
[17:49:58] <arrrrrrrrr> are static variables that have destructors or whose fields have destructors going to be disallowed?
[17:51:40] <arrrrrrrrr> pls respond
[17:54:05] *** Quits: mark_edward (quassel@moz-E0F1AB04.hsd1.in.comcast.net) (Ping timeout)
[17:55:34] *** jorendorff_away is now known as jorendorff
[17:56:31] *** Joins: jvns (bork@87D98E32.4046EB22.428F94DD.IP)
[17:57:29] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:57:45] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[17:57:45] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:58:06] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[17:58:19] *** Quits: pao (pao@moz-AF905E87.fbx.proxad.net) (Quit: pao)
[17:58:48] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[17:58:50] <cmr> arrrrrrrrr: https://github.com/mozilla/rust/issues/9243
[18:00:07] *** Joins: jvns_ (bork@87D98E32.4046EB22.428F94DD.IP)
[18:00:07] *** Quits: jvns (bork@87D98E32.4046EB22.428F94DD.IP) (Connection reset by peer)
[18:00:31] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[18:00:31] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:00:47] *** Quits: jvns_ (bork@87D98E32.4046EB22.428F94DD.IP) (Quit: Ex-Chat)
[18:00:49] *** Joins: jvns__ (bork@87D98E32.4046EB22.428F94DD.IP)
[18:02:38] *** Quits: jvns__ (bork@87D98E32.4046EB22.428F94DD.IP) (Ping timeout)
[18:04:46] <arrrrrrrrr> having one sessionbus per program looks less likely every second :D
[18:05:48] *** Joins: elux (peter@B6F21F4B.1F20BC31.2170E5F.IP)
[18:05:50] <elux> hey guys
[18:06:07] <elux> is there a 2d graphics library for doing simple image processing (ie. resizing / cropping) w rust?
[18:06:09] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Input/output error)
[18:06:10] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:06:10] *** ChanServ sets mode: +ao brson brson
[18:06:20] <elux> a nice C binding to graphicsmagick would do it :)
[18:06:47] <elux> looks like there is https://github.com/influenza/wand-of-rust  .. from 6 months ago
[18:07:45] <FreeFull> Cairo would do too
[18:07:52] <arrrrrrrrr> you can generate that kind of binding yourself with rust-bindgen
[18:07:52] <FreeFull> Although I guess that' smore for drawing
[18:08:03] <arrrrrrrrr> a proper wraper takes more work :p
[18:08:20] *** Joins: Gordon (Mibbit@moz-4A19983C.ip227.fastwebnet.it)
[18:09:22] <arrrrrrrrr> fwiw: imlib2 is a very simple C library that can do such things. A wrapper that can open, scale, crop, save images shouldn't be longer than 50 lines.
[18:09:45] <arrrrrrrrr> it's not thread safe, though
[18:10:01] <elux> i see
[18:10:05] *** Quits: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP) (Ping timeout)
[18:10:06] <elux> well thread safe is important
[18:13:03] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[18:13:25] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Quit: ziad)
[18:21:45] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[18:28:12] <Gordon> what's is the Rust equivalent of this? http://pastebin.com/94jSEegQ
[18:28:44] <Gordon> I can't figure out how to call the function in Rust
[18:29:23] <elux> how would you guys best describe a language comparison to rust..? ie. previous language inspirations etc.?  erlang+c+ruby ?
[18:29:39] <elux> syntactically vs goals
[18:30:00] <elux> ive been looking for a new systems language.. ive bene looking at dart on the server, node of course, and scala
[18:30:14] <arrrrrrrrr> Grodon: https://gist.github.com/anonymous/0129c59f863bc87c94d2
[18:30:24] <cmr> elux: syntactically? ML and C++
[18:31:10] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Quit: Leaving...)
[18:31:55] *** Joins: echristo (echristo@moz-1892C634.hsd1.ca.comcast.net)
[18:31:59] <Gordon> thanks, what does the 'a do?
[18:32:04] <cmr> Gordon: lifetime.
[18:32:19] *** Joins: [a]bacus (snoonan_mo@moz-F95B9243.hsd1.wa.comcast.net)
[18:32:20] *** Joins: pyon (user@D883E380.480D3EC1.1C8C8CE9.IP)
[18:32:31] <cmr> Gordon: it's not really a direct comparison since the C++ uses a heap-boxed function, the Rust is a stack closure.
[18:32:31] <Gordon> and what does it say about the lifetime?
[18:32:32] <Eridius> Gordon: that's not a strict translation. The struct Foo cannot outlive the stack closure that's assigned to f
[18:32:36] *** [a]bacus is now known as abacus
[18:32:44] *** Quits: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[18:32:46] <cmr> Gordon: a more honest translation would use a trait object.
[18:32:50] <Eridius> Gordon: a strict translation of the C++ would want to use an owned closure, which used to be ~fn, except that's been removed from the language.
[18:32:55] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[18:33:25] <cmr> Gordon: just that it has one, and the struct cannot outlive the closure's lifetime.
[18:34:02] <Gordon> thanks everybody
[18:35:08] *** Joins: Earnestly (earnest@88884C6.A3735F9C.39C00A7A.IP)
[18:35:11] *** Quits: zeittunnel (benjamin@moz-96B4755C.dip0.t-ipconnect.de) (Ping timeout)
[18:35:42] <elux> yea i see the ML inspiration
[18:36:27] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[18:36:54] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[18:39:35] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Input/output error)
[18:39:41] *** Quits: echristo (echristo@moz-1892C634.hsd1.ca.comcast.net) (Ping timeout)
[18:39:41] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[18:40:37] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[18:40:39] <bascule>  13_4__8__ 9_11__12_  13_4__ 8_9__11_    13_ 4_8_   11__12_ 13_ 4_ 
[18:40:42] <bascule> 4|  8_9__11|  12_ 13\4|_ 8_9|  11_ 12\  4/ 8\\ 9\ 11/ 12/ 13| 4| 8|
[18:40:45] <bascule> 8| 9|_  12| 13|_4) 8|| 9|11| 12| 13| 4|/ 8_ 9\11\ 12V 13/| 4| 8| 9|
[18:40:48] <bascule> 9|  11_12| 13|  4_ 8< 9| 11|12| 13|_4| 8/ 9__11_ 12\| 13| 4|8_|9_|11_|
[18:40:51] <bascule> 11|_12|   4|_8| 9\_11\_12__13|_4__8_/9_/   12\13_\4_| 8(9_|11_|12_)
[18:40:54] <bascule>                                         
[18:41:03] <arrrrrrrrr> pretty
[18:41:25] <Eridius>  
[18:45:57] <elux> bascule: hey dude :)
[18:46:11] <bascule> elux: sup
[18:46:18] <arrrrrrrrr> what's the equivalent of str.index_of in rust?
[18:46:36] <Eridius> I believe it's .find
[18:46:38] <cmr> arrrrrrrrr: let me pull out my crystal ball to figure out what index_of does
[18:47:05] <arrrrrrrrr> cmr: thanks, I'll wait :)
[18:47:10] <cmr> :p
[18:47:21] <cmr> Almost all of the string methods are on http://static.rust-lang.org/doc/master/std/str/trait.StrSlice.html
[18:47:37] <elux> nada.. just coming in to check out the rust scene. Ive been hearing lots of buzz on the language lately
[18:47:51] <arrrrrrrrr> find is what i'm looking for
[18:47:58] <Luqman> arrrrrrrrr: i think you want https://github.com/mozilla/rust/wiki/Doc-FAQ-Cheatsheet#how-do-i-search-for-a-substring maybe?
[18:48:16] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[18:48:29] <arrrrrrrrr> In this case I'm actually searching for a char but I'll take a look at that link
[18:48:57] <Luqman> ok, that link just has find_str
[18:49:04] *** Quits: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP) (Input/output error)
[18:52:45] *** Joins: echristo (echristo@60A74940.D6CCE4AE.77834EAA.IP)
[18:53:22] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Quit: Taking a nap.)
[18:53:36] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[18:55:27] *** Joins: autra (augustin@moz-BE76895F.fbx.proxad.net)
[18:55:39] *** jorendorff is now known as jorendorff_away
[18:56:24] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[18:57:17] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[18:58:17] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[19:02:29] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Quit: Taking a nap.)
[19:03:12] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[19:03:33] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Connection reset by peer)
[19:03:39] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[19:05:42] *** Quits: heftig (heftig@moz-9928E9E7.dip0.t-ipconnect.de) (Ping timeout)
[19:06:10] *** Joins: alonlevy (alon@moz-B406282A.bb.netvision.net.il)
[19:06:29] *** Quits: txdv (quassel@966F3542.3BA477DA.14C26596.IP) (Ping timeout)
[19:06:32] *** Joins: txdv (quassel@966F3542.3BA477DA.14C26596.IP)
[19:06:42] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[19:08:12] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[19:08:35] *** Joins: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP)
[19:10:54] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:11:03] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[19:12:47] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[19:13:37] *** Joins: fuogo (Mibbit@moz-1095CD08.kanagawa.ocn.ne.jp)
[19:13:38] *** jorendorff_away is now known as jorendorff
[19:16:18] *** Joins: heftig (heftig@moz-BCB6FE2E.dip0.t-ipconnect.de)
[19:17:41] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[19:17:44] *** Quits: sebcrozet (sebcrozet@moz-6DA639AF.w80-13.abo.wanadoo.fr) (Quit: Gone)
[19:17:50] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[19:19:40] <fuogo> Hi, will Rust support iOS or Android in the future? Any announcements or links to the discussion of such anyone can share?
[19:20:12] <TeXitoi> fuogo: android is supported
[19:20:50] <TeXitoi> fuogo: https://github.com/mozilla/rust/wiki/Doc-building-for-android
[19:22:09] <cmr> fuogo: iOS support is coming along too, as I understand it. There's support in the build system for it already.
[19:22:29] <TeXitoi> fuogo: iOS is not functionnal yet, but you can look at https://github.com/mozilla/rust/wiki/Doc-building-for-ios
[19:23:07] <Ms2ger> Can you even do that without rooting?
[19:24:01] <fuogo> thanks for the info!
[19:24:21] <Luqman> Ms2ger: i guess you can maybe build a rust library and link to it from your app maybe?
[19:24:44] *** Quits: fuogo (Mibbit@moz-1095CD08.kanagawa.ocn.ne.jp) (Quit: http://www.mibbit.com ajax IRC Client)
[19:24:54] <TeXitoi> Ms2ger: I think you'll need a dev kit at least
[19:25:27] *** Quits: gwty (gwtypc@F845B194.A388EA24.F44414AF.IP) (Ping timeout)
[19:26:08] *** Joins: voxpopuli (fanservice@489320D6.13A1C0A1.689607DE.IP)
[19:26:51] *** Quits: arrrrrrrrr (arrrrrrrrr@moz-15B51ABB.dynamic.qsc.de) (Quit: arrrrrrrrr)
[19:28:26] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[19:28:34] *** jorendorff is now known as jorendorff_away
[19:28:39] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[19:28:54] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[19:30:02] *** Quits: beifeng (Mibbit@7989804A.FA7FF645.C7DB8B78.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:30:23] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[19:31:08] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[19:31:47] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[19:31:53] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[19:32:38] <ziad> http://i.imgur.com/iH9Dw6J.jpg (courtesy of /r/rust)
[19:33:37] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[19:34:09] <FreeFull> Neat, a cardboard logo
[19:34:27] <ziad> apparently it was etched
[19:34:36] <cmr> http://www.reddit.com/r/rust/comments/1tcat1/i_etched_myself_a_rust_logo/ce6ixpw
[19:34:55] <ziad> cmr: cool! 
[19:35:15] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[19:35:58] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[19:36:20] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[19:36:38] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[19:36:56] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[19:37:03] *** Quits: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[19:38:01] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[19:38:05] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[19:40:08] *** Joins: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[19:40:11] *** Joins: gwty (gwtypc@76EA0583.D155B7DB.F44414AF.IP)
[19:41:15] *** Joins: ross (ross@moz-5EA04060.br.br.cox.net)
[19:42:44] *** Quits: hjr3 (hradtke@F452D205.C4AED08B.AEED71A1.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:43:03] *** Quits: Gordon (Mibbit@moz-4A19983C.ip227.fastwebnet.it) (Quit: http://www.mibbit.com ajax IRC Client)
[19:43:52] <geal> https://www.builditbreakit.org/ this could be a good test for Rust in a security contest (although very dependent on implementation details)
[19:44:09] *** Quits: eholk (eholk@moz-F70D5031.hsd1.in.comcast.net) (Quit: eholk)
[19:44:39] <cmr> geal: wooo that looks fun!
[19:45:04] <geal> yup :)
[19:45:55] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[19:45:55] *** ChanServ sets mode: +ao dherman dherman
[19:49:16] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Quit: Taking a nap.)
[19:49:25] *** Joins: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP)
[19:50:23] *** Quits: basicdays (basicdays@moz-8D372C4B.wi.res.rr.com) (Quit: I'm out)
[19:51:08] *** Quits: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP) (Ping timeout)
[19:55:04] <brson> geal: yeah, that does look like a good contest for rust
[19:55:54] <brson> seems pretty hard for the judges to evaluate rust bugs
[19:56:03] <brson> i wonder if they have any restrictions on the language used
[19:56:40] <o11c> it looks like the whole idea is to say "my language is better than yours"
[19:56:52] <brson> i'd like to have a bug bounty for rust someday
[19:57:04] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[19:57:26] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[19:57:33] <geal> o11c: that does not rule out logic mistakes, so the contests can still be fun and useful
[19:57:45] *** Quits: abinader (uid21713@moz-A42E5B7B.irccloud.com) (Quit: )
[19:58:11] <o11c> what I've heard lately is that people reporting security vulnerabilities these days are getting bribed not to publicize ...
[19:58:29] <geal> but it's good to have a language that takes care of dangerous things like buffer overflows or casts
[19:59:44] <cmr> Would anyone like to form a team with me?
[19:59:53] <Ms2ger> o11c, did you mean "bug bounties"?
[20:00:31] <o11c> Ms2ger: I mean the opposite - a bug bounty is getting paid *to* publicize
[20:00:47] *** Joins: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se)
[20:01:10] <geal> cmr: I'd love to! I am not proficient yet in Rust, but that would be an excellent learning opportunity
[20:01:18] <cmr> geal: email?
[20:01:31] <geal> contact@geoffroycouprie.com
[20:02:21] *** flaper87 is now known as flaper87|afk
[20:03:19] <cmr> For a name I'm thinking "Rust Slinging Hackers"
[20:03:34] <cmr> (cf hash slingly slasher)
[20:03:43] *** Quits: Ms2ger (Ms2ger@8B85F0F7.C5F25A2D.F15B0BB3.IP) (Quit: nn)
[20:03:43] <cmr> slinging* gah I'm just as bad typing it as saying it
[20:06:15] <geal> :)
[20:06:19] <cmr> geal: the interface is really confusing but I think I created the team...
[20:06:41] *** Joins: rca_ (rcatolino@moz-F4F5DA13.adsl.proxad.net)
[20:06:53] <geal> cmr: they say you can invite people from there
[20:07:23] *** Quits: rca (rcatolino@moz-E8A296BC.adsl.proxad.net) (Ping timeout)
[20:08:28] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:08:57] *** Quits: jaebaek (jaebaek@4D10E9F2.E551553C.7544CABF.IP) (Ping timeout)
[20:09:37] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[20:10:15] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[20:10:25] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[20:10:34] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[20:11:06] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[20:11:58] *** Quits: jaen (jaen@moz-54F5591A.play-internet.pl) (Ping timeout)
[20:13:26] <geal> cmr: alright, I registered
[20:13:51] *** Quits: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se) (Ping timeout)
[20:14:20] *** Joins: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net)
[20:17:20] *** Quits: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net) (Client exited)
[20:18:41] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[20:21:37] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[20:21:57] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[20:25:25] *** Joins: awidegreen (awidegreen@moz-82C30824.dip0.t-ipconnect.de)
[20:29:58] *** Joins: nrc|Christmas (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[20:30:25] *** Joins: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP)
[20:32:08] *** Quits: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP) (Ping timeout)
[20:32:31] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[20:33:02] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[20:34:18] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[20:35:16] *** Joins: yoshi (Mibbit@moz-2893F9F5.clienti.tiscali.it)
[20:36:50] *** Quits: yoshi (Mibbit@moz-2893F9F5.clienti.tiscali.it) (Quit: http://www.mibbit.com ajax IRC Client)
[20:36:51] *** Quits: metasyntax (tvenable@moz-63D9B3D.med-web.com) (Quit: Leaving)
[20:41:33] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[20:43:22] <achin> should i prefer box to ~ for creating owned boxes?  
[20:44:39] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[20:45:06] <eddyb> achin: yes
[20:47:00] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:47:23] *** Joins: payload (Mibbit@moz-4DA0B54B.dynamic.primacom.net)
[20:48:41] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[20:48:51] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[20:49:17] *** jorendorff_away is now known as jorendorff
[20:49:52] *** Quits: txdv (quassel@966F3542.3BA477DA.14C26596.IP) (Connection reset by peer)
[20:51:59] *** Joins: txdv (quassel@966F3542.3BA477DA.14C26596.IP)
[20:52:21] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[20:53:47] *** Quits: awidegreen (awidegreen@moz-82C30824.dip0.t-ipconnect.de) (Ping timeout)
[20:57:40] *** Joins: hjr3 (hradtke@F452D205.C4AED08B.AEED71A1.IP)
[21:01:50] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[21:01:50] *** ChanServ sets mode: +o tjc
[21:02:21] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[21:02:22] *** ChanServ sets mode: +ao pcwalton pcwalton
[21:03:58] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[21:06:59] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[21:08:09] <canhtak> hi rust devs, I've just updated my compiler with the rust Master, and now a simple main with just a println!() have a size of 3mo.
[21:08:22] <canhtak> anyone have same problem?
[21:08:23] <cmr>  canhtak sounds about right. try adding -Z lto
[21:08:28] <cmr> that'd be static linking
[21:08:35] <cmr> you can also use -Z prefer-dynamic
[21:09:05] <canhtak> hum okay thanks
[21:09:30] <o11c> wait, it uses static linking by *default* ?
[21:09:32] <canhtak> doesn't know that static linking is by default.
[21:09:41] <cmr> o11c: it is now, yes.
[21:09:43] <o11c> that's pretty dumb ..
[21:10:47] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[21:10:50] *** Joins: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net)
[21:12:03] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[21:12:53] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[21:13:45] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[21:13:47] *** Quits: hjr3 (hradtke@F452D205.C4AED08B.AEED71A1.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:14:29] *** Joins: trecer_ (trecer@5299B803.6BCC1A65.7A0AECD4.IP)
[21:14:41] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Ping timeout)
[21:16:55] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[21:18:08] *** jorendorff is now known as jorendorff_away
[21:21:17] *** Quits: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net) (Client exited)
[21:24:05] *** jorendorff_away is now known as jorendorff
[21:24:06] *** Joins: arrrrrrrrr (arrrrrrrrr@moz-15B51ABB.dynamic.qsc.de)
[21:25:11] <Luqman> o11c: i think it's pretty useful especially if you're tracking master. having to recompile programs everytime you update is annoying
[21:25:21] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[21:25:33] *** Joins: courgette (Mibbit@moz-9D27B282.rev.sfr.net)
[21:25:55] <SiegeLord> Yeah, it is
[21:26:07] <SiegeLord> I always have to recompile bindgen everytime I upgrade Rust
[21:26:25] <SiegeLord> Even though neither it nor the language changed enough to warrant that
[21:26:33] <cmr> o11c: dynamic linking doesn't make much sense until we have binary stability + backward compatability
[21:26:41] <o11c> ah, I see
[21:26:50] <arrrrrrrrr> Let's say I have a trait T that consists of a function serialize(). Can I write a generic function that implements the trait T for all structs whose fields implement T?
[21:26:56] <cmr> until then, you can't even recompile a library and replace the older so with it.
[21:27:08] <cmr> (with ABI-compatible changes that is)
[21:27:27] <cmr> arrrrrrrrr: not really, no
[21:27:28] *** Joins: aeqwa (aeqwa@moz-8E60531E.dsl.tropolys.de)
[21:28:18] <arrrrrrrrr> cmr: maybe with reflection? it's ok even if it's expensive.
[21:28:35] <cmr> arrrrrrrrr: you can't implement traits at runtime!
[21:28:46] <cmr> I don't think there's a way to query implemented traits at runtime, even with a trait object.
[21:28:55] <cmr> (or the tydesc)
[21:29:35] *** Quits: jackneill (jackneill@moz-F3E366E7.pool.digikabel.hu) (Ping timeout)
[21:30:22] *** Quits: andreypopp (andreypopp@moz-7261DC60.net) (Quit: andreypopp)
[21:30:31] <arrrrrrrrr> ok let me reformulate: Can I check at runtime if all fields of a given struct implement a certain trait?
[21:30:35] <cmr> no
[21:30:42] *** Joins: saf (Mibbit@moz-A378BFE8.vc.shawcable.net)
[21:31:08] *** Joins: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP)
[21:31:28] *** Joins: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP)
[21:31:28] *** ChanServ sets mode: +o jdm
[21:32:03] <arrrrrrrrr> you see, Go has this nice feature where you can give a json parser an arbitrary pointer to a struct and the parser parses some json and puts the data at the right place in the struct.
[21:32:10] *** Joins: jviereck (Adium@moz-5E9BE787.dip0.t-ipconnect.de)
[21:32:11] <arrrrrrrrr> and the other way around
[21:32:24] <cmr> we have this nice feature called extra::serialize and deriving(Serializable)
[21:32:39] <arrrrrrrrr> something like that would be nice for dbus marshalling
[21:32:40] <pcwalton> Go JSON decoding is also very slow because it's all based on reflection
[21:32:45] *** Joins: pkoerbitz (user@moz-11CBE382.pool.mediaways.net)
[21:32:51] *** Quits: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP) (Ping timeout)
[21:33:08] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[21:33:33] <arrrrrrrrr> pcwalton: If you want speed you can always decode into a hashmap
[21:33:52] <pcwalton> that isn't fast
[21:33:53] *** Quits: jviereck (Adium@moz-5E9BE787.dip0.t-ipconnect.de) (Ping timeout)
[21:34:03] <pcwalton> it's faster
[21:34:08] <saf> Hi everyone, anyone know of a link to a current example of how to write a binary file?
[21:34:20] <pcwalton> but not as fast as Rust deriving-based serialization
[21:34:29] <arrrrrrrrr> pcwalton: how about encoding?
[21:34:37] *** jorendorff is now known as jorendorff_away
[21:34:47] <pcwalton> Go JSON encoding is also slow, again because it's all based on reflection
[21:34:52] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[21:35:04] *** Quits: courgette (Mibbit@moz-9D27B282.rev.sfr.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:35:09] <pcwalton> I am totally opposed to any reflection-based serialization for Rust by default
[21:35:13] <pcwalton> it's just the wrong approach
[21:35:20] <olsonjeffery> thank the FSM for split_iter()
[21:35:22] <arrrrrrrrr> I think I've recently seen a benchmark where Go's encoding was the fastest. I'll look it up.
[21:35:47] <pcwalton> I am completely willing to believe that Go encoding is faster than Python or Ruby
[21:35:53] *** Quits: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net) (Ping timeout)
[21:35:54] <carter> bascule: sooo TIL that go uses fixed sized buffers for channels
[21:35:56] <arrrrrrrrr> compared to JVM
[21:36:13] <pcwalton> I am also completely willing to believe that it is faster than Java if Java is also using reflection
[21:36:22] <pcwalton> compare against this benchmark:
[21:37:13] <arrrrrrrrr> Here we go: http://www.techempower.com/benchmarks/#section=data-r8
[21:37:17] *** Quits: payload (Mibbit@moz-4DA0B54B.dynamic.primacom.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:37:39] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[21:37:42] <pcwalton> That benchmark is totally meaningless
[21:37:47] <pcwalton> for this quiestion
[21:37:51] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Ping timeout)
[21:38:08] <pcwalton> struct Point { int x; int y; }; … cout << "{ \"x\": " << point.x << ", \"y\": " << point.y << "}";
[21:39:37] <pcwalton> unless it is as fast as that I'm not interested
[21:39:53] <arrrrrrrrr> So? Are you saying that every JSON serializer that's actually used is very slow?
[21:39:57] <pcwalton> Yes
[21:39:59] <pcwalton> I am
[21:40:19] <arrrrrrrrr> Then your definition of very slow seems to be irrelevant in practice.
[21:40:41] <o11c> unless it's hand-written, of course ... it's easy to write a fast serializer
[21:40:50] <o11c> deserialization is the hard part
[21:41:16] <pcwalton> what you are saying is "you shouldn't bother trying to be faster than everything that's out there" which is ridiculous
[21:41:41] <pcwalton> o11c: the point is that deriving autogenerates "handwritten" code
[21:41:53] <pcwalton> that's what Rust has that neither Go nor Java do
[21:41:59] <pcwalton> it would be silly to not capitalize on that advantage
[21:42:24] <arrrrrrrrr> I'm saying that in 99% of cases having reflection based serialization is the right choice. Rust gives me no choice. If I wanted to I could do manual serialization in Go.
[21:42:43] <pcwalton> We have #[deriving]
[21:42:45] <pcwalton> Go does not give you that
[21:42:54] <pcwalton> reflection based serialization is an awkward workaround for not having deriving
[21:43:06] *** Joins: tjc (tjc@ECE7CC57.2D024FDB.284344F5.IP)
[21:43:06] *** ChanServ sets mode: +o tjc
[21:44:03] <pcwalton> #[deriving] is how you do serialization and deserialization in Rust because it's fast and type-safe, what's not to like?
[21:44:20] <arrrrrrrrr> Well I don't know about that. Maybe you can answer my question: Given a trait that contains serialize(), can I recursively implement this trait for all structs whose fields implement this trait?
[21:44:35] *** Quits: Kxepal (Miranda@moz-FDC1ADF0.pppoe.mtu-net.ru) (Ping timeout)
[21:44:35] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[21:44:45] <pcwalton> only for some set of built-in traits, which includes Encodable and Decodable right now
[21:45:00] <pcwalton> eventually in Rust 2.0 we'd like to extend deriving to encompass user-defined traits as well
[21:45:22] <pcwalton> note, however, that you can use Encodable and Decodable for your own serialization formats
[21:45:23] <arrrrrrrrr> Well I've looked at the JSON module and it doesn't seem to make use of that.
[21:45:26] <pcwalton> for example dbus
[21:45:41] <pcwalton> arrrrrrrrr: impl<E: serialize::Encoder> serialize::Encodable<E> for Json {
[21:45:48] <pcwalton> it looks like it does for me
[21:46:04] <arrrrrrrrr> and how do I turn a struct into a Json?
[21:46:43] <arrrrrrrrr> oh I see
[21:46:50] <arrrrrrrrr> I'll take a look at that
[21:46:52] <pcwalton> arrrrrrrrr: there are test cases, test_write_enum()
[21:47:34] *** Joins: jviereck (Adium@moz-5E9BE787.dip0.t-ipconnect.de)
[21:47:41] *** Quits: LU324 (weechat@9AF4F288.83671C58.1B5D53D7.IP) (Input/output error)
[21:47:48] *** Quits: sellout (Adium@moz-AE26682A.hlrn.qwest.net) (Ping timeout)
[21:47:55] *** Joins: Kxepal (Miranda@moz-BCAF7DE0.pppoe.mtu-net.ru)
[21:48:06] *** Quits: jviereck (Adium@moz-5E9BE787.dip0.t-ipconnect.de) (Quit: Leaving.)
[21:48:57] <cmr> Our story for custom serialization isn't very good right now, though.'
[21:49:05] <cmr> Since deriving is baked-in atm.
[21:49:36] *** Joins: payload (Mibbit@moz-4DA0B54B.dynamic.primacom.net)
[21:49:41] <pcwalton> cmr: but you can use Encodable for your own serialization formats
[21:49:49] <pcwalton> Encodable isn't hardwired to JSON or any other encoding format.
[21:49:55] <cmr> Ohhh right right
[21:50:01] <pcwalton> so I think our story for custom serialization is actually pretty good
[21:50:15] <cmr> Yes, sorry, I forgot it doesn't implement a specific encoder
[21:50:16] *** Joins: LU324 (weechat@9AF4F288.83671C58.1B5D53D7.IP)
[21:50:26] * pcwalton just had an evil, evil idea
[21:50:35] <pcwalton> I wonder if you could use Encodable for JSManaged trace hooks in Servo
[21:51:01] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[21:51:50] *** Joins: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net)
[21:52:47] *** Quits: tjc (tjc@ECE7CC57.2D024FDB.284344F5.IP) (Ping timeout)
[21:53:03] <achin> does a ~str keep with it the length of the string?   or does str.len() have to iterate through the bytes to find the end?
[21:53:26] <cmr> achin: ~str has a length yes.
[21:53:38] <cmr> Note that .len() is byte-length, not codepoint length or anything else.
[21:53:47] <achin> yep
[21:54:02] <achin> thanks
[21:55:20] *** Joins: dario (dario@moz-8E3254C2.informatik.uni-erlangen.de)
[21:55:29] <erickt> pcwalton: btw, our Decodable-based json deserialization could be a bit faster. Right now you need to go from the raw str into a json::Json object then finally it can be decoded into an arbitrary Decodable
[21:55:52] <cmr> erickt: are you still working on a new serialization interface?
[21:56:18] <erickt> cmr: yeah, and it was, oh, 20-40% slower than what we got right now :(
[21:56:25] <cmr> aw :(
[21:56:42] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[21:56:42] *** ChanServ sets mode: +o tjc
[21:57:06] <erickt> I thought that a Iterator/state machine style encoder/decoder would be faster than using these recursive closures, but I was wrong
[21:57:18] <pcwalton> I think doing it recursively is probably the fastest
[21:57:25] <pcwalton> that's how most serializers work I think.
[21:58:01] <erickt> well I certainly have some evidence that supports that statement :)
[21:58:31] *** Joins: tautologico (uid22285@moz-A42E5B7B.irccloud.com)
[21:59:00] <ziad> How does a recursive approach provide a faster implementation than an iterator/state machine one?
[21:59:13] <ziad> does the compiler optimize out the recursive calls?
[21:59:27] <o11c> there's nothing intrinsically slow about recursion
[21:59:36] <ziad> function calls?
[21:59:45] <erickt> one downside with the recursive closure approach is that it's kind of tricky to deserialize into an enum like json::Json
[22:00:03] *** Joins: trecer___ (trecer@moz-F8C98D41.dyn.centurytel.net)
[22:00:08] <erickt> ziad: it wasn't the recursion I was worried about, it was the overhead of the closures
[22:00:12] *** Quits: trecer_ (trecer@5299B803.6BCC1A65.7A0AECD4.IP) (Ping timeout)
[22:00:42] <ziad> Yeah, and that too. Both memory consumption and speed, so I'm wondering why there is no speedup.
[22:00:54] <ziad> perhaps need to tune it better?
[22:01:10] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[22:01:55] <erickt> ziad: just to make sure we're on the same page, recursive closures was way faster than using iterators and a state machine
[22:02:21] *** Joins: hjr3 (hradtke@F452D205.C4AED08B.AEED71A1.IP)
[22:02:26] <ziad> erickt: Yep, and I'm wondering why that is, since "intuitively" it should seem otherwise
[22:02:31] *** Joins: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net)
[22:02:48] <erickt> I think why the iterators and state machines was slower was that there are a bunch more implied conditionals in it
[22:03:09] <phil_> anyone got a sec to help a noob?
[22:03:10] <erickt> whereas recursive closures is really just doing indirect function calls
[22:03:22] <kmc> phil_: sure
[22:03:23] <ziad> erickt: ah, thanks
[22:03:36] <phil_> im trying to help fix someone's ncurses bindings
[22:03:37] <phil_> http://pastebin.com/U2cGC2PW
[22:03:43] <phil_> and im running into this problem
[22:03:49] <phil_> after having fixed a bunch of others
[22:03:53] <kmc> yeah so the "do" syntax became more specialized
[22:04:07] <phil_> oh
[22:04:08] <kmc> desugar it to ty.to_c_str().with_ref(|c_str| ll::newterm(c_str, out_fd, in_fd))
[22:04:09] <phil_> okay
[22:04:10] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Quit: Textual IRC Client: www.textualapp.com)
[22:04:27] <kmc> "do" now only works with "procedures", the things which used to be called ~fn
[22:04:36] <kmc> it doesn't work with stack closures, which used to be &fn
[22:04:37] <phil_> ah okay
[22:04:48] <phil_> ill get on that then
[22:04:51] <phil_> thanks kmc!
[22:04:53] <kmc> np
[22:04:57] <kmc> do you know about This Week in Rust?
[22:05:10] <kmc> it's a pretty useful weekly update on what has changed in the language
[22:05:16] <cmr> woo free publicity
[22:05:20] <kmc> cmr++
[22:05:23] <erickt> cmr / pcwalton / ziad: so my next plan is to try using the recursive closures for serialization, but use the iterator/state machine for deserialization. That would allow us to deserialize into a json::Json
[22:05:47] *** Joins: nif (nif@moz-B62DC54B.woh.res.rr.com)
[22:06:33] <ziad> erickt: Is your code available somewhere?
[22:06:46] *** Quits: fabiand (fabiand@moz-18B39E08.adsl.alicedsl.de) (Quit: Verlassend)
[22:06:47] <erickt> ziad: https://github.com/erickt/rust-serde
[22:06:51] <ziad> thanks
[22:06:52] <phil_> kmc: ill check it out
[22:06:54] *** Quits: echristo (echristo@60A74940.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[22:06:59] *** Quits: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net) (Client exited)
[22:07:51] *** Quits: hjr3 (hradtke@F452D205.C4AED08B.AEED71A1.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:08:37] *** Joins: nkoep (nik@moz-4C7D5106.pool.mediaways.net)
[22:09:24] *** Joins: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net)
[22:09:57] *** Joins: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se)
[22:11:08] *** Joins: aatch (aatch@moz-2BB0AC01.cable.telstraclear.net)
[22:12:23] *** Quits: trecer___ (trecer@moz-F8C98D41.dyn.centurytel.net) (Ping timeout)
[22:12:45] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[22:13:06] <brson> Luqman: what's the deal with the armhf snapshots? why do we need them and why can't people just produce them via cross-compile?
[22:13:22] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[22:13:59] *** Quits: voxpopuli (fanservice@489320D6.13A1C0A1.689607DE.IP) (Ping timeout)
[22:14:03] *** Quits: dario (dario@moz-8E3254C2.informatik.uni-erlangen.de) (Quit: WeeChat 0.3.8)
[22:15:45] *** Quits: k4nar (quassel@moz-F5EFF779.kimsufi.com) (Ping timeout)
[22:15:54] *** Joins: k4nar (quassel@moz-F5EFF779.kimsufi.com)
[22:17:14] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[22:17:33] *** Joins: trecer___ (trecer@7D91232.5E7A241.9B0F0B9E.IP)
[22:17:50] *** Joins: glaebhoerl (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[22:18:55] <Luqman> brson: Well, you can cross compile, you just kinda have to do it manually right now. I've been meaning to fix the build system so you can cross compile rustc itself for a different host. I have some half finished changes stashed in git
[22:19:20] <brson> Luqman: ah, because our multi-host builds only work for x86/x86_64
[22:19:25] <Luqman> anyways, i started making those just for myself to test and Chris found them useful so i compile some every so often
[22:19:25] <brson> grum
[22:19:47] <brson> that's a pretty hard fix to do
[22:20:04] <brson> because the non-build-triple hosts all self-bootstrap
[22:20:06] <brson> incorrectly
[22:20:43] <Luqman> yea, also need to configure & build llvm for each host
[22:21:10] *** Quits: payload (Mibbit@moz-4DA0B54B.dynamic.primacom.net) (Quit: http://www.mibbit.com ajax IRC Client)
[22:21:35] *** Quits: ktt3ja (ktt3ja@moz-54586A12.washdc.fios.verizon.net) (Quit: Leaving)
[22:21:58] *** Quits: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net) (Client exited)
[22:22:02] *** Quits: rca_ (rcatolino@moz-F4F5DA13.adsl.proxad.net) (Ping timeout)
[22:22:05] *** Quits: chridou (Mibbit@moz-1160D7C6.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[22:23:03] <arrrrrrrrr> does rust have a regex module?
[22:23:33] <cmr> arrrrrrrrr: not yet
[22:24:44] *** Joins: andreypopp (andreypopp@moz-7261DC60.net)
[22:25:02] <glaebhoerl> hello. https://github.com/mozilla/rust/wiki/Note-development-policy says that one should file a committer agreement before contributing. https://www.mozilla.org/hacking/notification/ refers to an application process and an 'access request bug', which however are afaict are for commit access to mozilla's repos, whereas Rust is on GitHub and uses pull requests.
[22:25:03] *** Quits: andreypopp (andreypopp@moz-7261DC60.net) (Quit: andreypopp)
[22:25:07] <glaebhoerl> so what am I actually expected to do?
[22:25:16] <glaebhoerl> just fill out the form, send it, and say that it's for Rust?
[22:25:35] <arrrrrrrrr> ok. In general: Is it a good idea to use regex to validate a string? in terms of performance.
[22:25:52] <cmr> glaebhoerl: you don't need to sign a comitter agreement unless you have review powers, afaik. I think that facet of the prcocess is really out of date.
[22:25:55] <cmr> brson: is that accurate?
[22:26:45] <glaebhoerl> cmr: have you signed one? :-)
[22:26:52] <cmr> glaebhoerl: yes, but I'm a reviewer
[22:26:59] <glaebhoerl> oh. ok then
[22:27:01] <cmr> (I hadn't signed one previously)
[22:27:45] <eddyb> glaebhoerl: I haven't, and I have a couple or so PRs merged
[22:27:53] <eddyb> (and I'm not a reviewer)
[22:28:22] *** Joins: bheylin (textual@moz-8255E94E.adsl.online.nl)
[22:28:24] <glaebhoerl> OK, in that case i'll also neglect it until someone tells me otherwise :)
[22:31:07] <brson> cmr glaebhoerl: no documentation necessary to submit pull requests
[22:31:20] <brson> I'll update the language
[22:31:33] <glaebhoerl> ok, thank you
[22:31:38] *** Joins: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP)
[22:33:22] *** Quits: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP) (Ping timeout)
[22:34:18] <bstrie_dont_let_me_talk_on_irc> turns out forbidding myself from this channel just causes me to get into heated arguments in #python over whether or not python is exception-safe :P
[22:34:53] * bstrie_dont_let_me_talk_on_irc just can't win
[22:35:00] <arrrrrrrrr> argh pls contain your nick length
[22:35:07] *** Quits: elux (peter@B6F21F4B.1F20BC31.2170E5F.IP) (Quit: Bye!)
[22:35:27] <bascule> carter: o_O really?
[22:35:33] *** bstrie_dont_let_me_talk_on_irc is now known as bstrie_get_a_better_irc_client
[22:35:37] <bstrie_get_a_better_irc_client> arrrrrrrrr: :P
[22:35:44] *** bstrie_get_a_better_irc_client is now known as bstrie_vacation
[22:36:04] <tjc> bstrie_vacation: I hope you're going somewhere with lots of beaches and umbrella drinks :-)
[22:36:33] <arrrrrrrrr> how can I fix this: http://i.imgur.com/eoyqHDS.png
[22:37:09] *** Joins: kvanb (kvanb@moz-1C09EC1.lnse1.win.bigpond.net.au)
[22:37:17] <saf> Sometimes the use module system isn't clear to me, I have use std::path::*; at the top of my source file, but when I try to call Path::new(filename) it tells me it is an unresolved name.  Can anyone tell me what I am doing wrong in importing?
[22:37:22] <bstrie_vacation> tjc: I'm going to pittsburgh! then to baltimore! then to philadelphia! then to jersey!
[22:37:25] <bstrie_vacation> tjc: so no :(
[22:37:38] <tjc> bstrie_vacation: those are pretty much the worst places to go in December for beaches and umbrella drinks
[22:37:40] <saf> version 0.8 btw
[22:37:52] <eddyb> haha the cat got me http://llvm.org/devmtg/2013-11/slides/Zakai-Emscripten.pdf
[22:38:02] <tjc> saf: avoid * in `use`s as a general rule, at least at first -- it works kind of unpredictably
[22:38:07] *** Parts: arrrrrrrrr (arrrrrrrrr@moz-15B51ABB.dynamic.qsc.de) (WeeChat 0.4.2)
[22:38:11] *** Joins: arrrrrrrrr (arrrrrrrrr@moz-15B51ABB.dynamic.qsc.de)
[22:38:22] <tjc> it might be removed from the language completely at some point
[22:38:30] *** Quits: dbaupp (Thunderbir@moz-EB2EFE6F.lns20.syd6.internode.on.net) (Ping timeout)
[22:38:41] <arrrrrrrrr> test
[22:38:45] <achin> what's the rustic way to construct a string from a given character and a length?  in python it would be "x" * len  (or 'x' x len in perl)
[22:38:46] <arrrrrrrrr> that's better
[22:39:12] <tjc> achin: off the top of my head, you can construct a vector of bytes and then convert it to a string. not sure if there's a direct function in the str module to do it.
[22:39:21] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[22:39:40] <Scriptor> arrrrrrrrr: can you hide the nicks list?
[22:39:41] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[22:39:50] <arrrrrrrrr> don't know
[22:40:41] <saf> Ok, I will try just importing with use std::Path::Path;  Now I get netpbm/mod.rs:60:15: 60:24 error: unresolved name `Path::new`. netpbm/mod.rs:60     let path = Path::new(filename);  
[22:40:56] <saf> It still doesn't seem to work if I fully qualify it as std::path::Path::new() either..
[22:41:03] <achin> saf: are you in a module per chance?
[22:41:08] <saf> yes I am
[22:41:22] <saf> I figured that might have some consequences to this, cause things work in my main.rs file
[22:41:27] <achin> you'll need to do ::std::path::Path::new() or put the "use" in the mod {} block
[22:41:31] <cmr> saf: what versino of Rust are you using? Try ::std::path::Path::new()
[22:41:40] <saf> 0.8
[22:41:52] <cmr> yeah 0.8 has the old path API, Path::new didn't exist.
[22:42:10] <cmr> I recommend upgrading. If you're on a linux there are nightlies, https://github.com/mozilla/rust/wiki/Doc-packages,-editors,-and-other-tools
[22:42:34] <achin> even if you're on master, you can't put your "use" at the top-level of the file
[22:42:46] <cmr> Otherwise see http://static.rust-lang.org/doc/0.8/std/path/index.html for the path docs
[22:42:59] <ChrisMorgan> Amazing! I have triumphed! https://github.com/blackducksw/ohcount/pull/30
[22:43:14] <saf> Ok I think I will checkout mater from git, is that fine?
[22:43:22] <saf> master*
[22:43:22] <cmr> yes
[22:43:26] <saf> thanks guys
[22:44:12] * ChrisMorgan must now wait for https://www.ohloh.net/p/rust-lang to be updated and to suddenly have 300KLOC of Rust added to its reckoning
[22:44:13] <achin> something to add to your todo list, ChrisMorgan :  vim highlighting for box
[22:44:36] <cmr> ChrisMorgan: do you know how often they count/recount?
[22:44:37] <ChrisMorgan> achin: yes, it needs to be added to all of the syntax things. (kate, emacs, vim, any others?)
[22:45:00] <cmr> ChrisMorgan: if you're feeling particularly awesome you should update pygments!
[22:45:08] <ChrisMorgan> Yeah, I should.
[22:45:10] <cmr> their syntax is like 0.4 I think
[22:45:25] <ChrisMorgan> cmr: every day or two for most projects, but I don't know if they update their ohcount automatically
[22:45:42] <saf> So if I am in a mod.rs file, where do the use statements go?  I was under the impression that inside a file like that it is as if I am inside a mod Name { ... } block?
[22:45:58] <cmr> saf: at the top of the file.
[22:46:09] <cmr> saf: the thing to note is that 'use' doesn't propagate across mod boundaries, so:
[22:46:23] <cmr> mod foo { use std::path; mod bar { /* `path` isn't in scope here */ } }
[22:47:02] <saf> so the use goes outside the mod foo {} in a different file?
[22:47:16] <ChrisMorgan> achin: all need it (emacs, kate, vim, any others?); pcwalton didn't add it when he landed the keyboard, he should have :-(
[22:47:39] *** Quits: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP) (Ping timeout)
[22:47:52] <saf> (since the whole file acts like a mod foo {} block)?
[22:48:04] <achin> sorry, if it's not vim, i don't use it :P
[22:48:13] <achin> but yes, i assume that all syntax scripts need updating :)
[22:48:16] *** Joins: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP)
[22:48:20] <cmr> saf: it goes in the file, not outside of it.
[22:48:40] <saf> Oh it doesn't nest inside an inner one,
[22:48:41] *** Joins: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net)
[22:48:42] <saf> Gotcha
[22:49:09] <saf> Or rather the scope doesn't cross into an inner mod, I mean.
[22:49:12] <saf> Ok, makes sense.
[22:49:16] <saf> thank you
[22:49:44] <achin> when i'm matching against a enum that has an owned pointer, how do i get a borrowed reference to that pointer?
[22:49:57] *** Quits: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP) (Ping timeout)
[22:50:18] <cmr> achin: match foo { Var(ref ~x) => ... }, iirc
[22:50:24] * ChrisMorgan probably won't get to updating the pygments syntax highlighter until next week
[22:50:28] <kimundi> achin: match foo { Bar(ref x) => ...
[22:50:39] <achin> aye, with 'ref'.  thanks cmr and kimundi 
[22:50:44] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[22:50:44] *** Quits: nif (nif@moz-B62DC54B.woh.res.rr.com) (Quit: Konversation terminated!)
[22:50:53] <cmr> kimundi: the ref would create a &~foo, in your case.
[22:51:08] <kimundi> cmr: Which is technically what he asked for :P
[22:51:14] <cmr> oh so he did
[22:51:17] * cmr is blind
[22:51:40] <achin> the ref ~x syntax throws a syntax error:  expected identifier, found path
[22:51:43] <kimundi> (Still, the ref ~x approach is better, there is seldom any use for a &~T)
[22:51:48] <cmr> hm
[22:51:52] <kimundi> ah
[22:51:53] <cmr> maybe it's ~ref x?
[22:51:54] <kimundi> ~ref x
[22:52:05] <cmr> I've done this before, I can never remember which order they go in :p
[22:52:32] <achin> i'm not quite clear on the difference though
[22:52:51] *** Quits: canhtak (canhtak@38266F07.7A8E554D.FC900DAF.IP) (Quit: canhtak)
[22:52:52] <cmr> the way I see it "ref ~foo" destructures a ~T and then takes a reference to it.
[22:52:52] <ChrisMorgan> cmr: I think Ohloh updates projects based on how active and how popular they are; so rust-lang gets updated about every day or so while rust-http has not been updated for eight days (I'm a little surprised by it being that long ago, actually)
[22:53:11] <kimundi> cmr other way round
[22:53:20] <cmr> apparently rustc thinks that is wrong
[22:53:39] *** Joins: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP)
[22:53:42] <achin> ~ref foo reads to me like "get a reference, bind it to the variable foo, and then box it up"
[22:53:56] <cmr> achin: in patterns, the normal operations are reveresed
[22:54:03] <kimundi> achin: In a pattern, you have to read it exactly inverse to that :
[22:54:04] <cmr> so ~foo boxes as an expression, and unboxes as a pattern
[22:55:09] <achin> got it.  so yeah, in my case i don't want to unbox, i just want a reference to the box.  so "ref foo"
[22:55:22] <cmr> yup
[22:55:49] <achin> i'm actually not even sure what it would mean to unbox
[22:56:14] <cmr> dereference the pointer and extract the value
[22:56:37] <achin> is "extracting the value" moving it? 
[22:56:40] <cmr> yes
[22:56:45] <kimundi> well, ~ref x would not "unbox" the ~ - the owned box would still remain intact
[22:56:57] <kimundi> because of the ref
[22:57:06] <cmr> right, there it's just taking a reference to the value, rather than extracting it.
[22:57:10] <kimundi> or? no wait I think I'm wrong
[22:57:12] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[22:57:21] <cmr> I think you're right
[22:57:22] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[22:57:30] <achin> so i can either get a reference to the box, or get a reference to the thing in the box?
[22:57:38] <kimundi> yes
[22:57:39] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[22:57:47] <kimundi> thats the difference between ~ref and ref here
[22:58:22] <achin> what would be the difference in usage?  wouldn't rust automatically deref the pointer, making both of them pretty much the same
[22:58:48] *** Joins: skade (skade@moz-B73EE4D5.pools.arcor-ip.net)
[23:00:38] <kimundi> there isn't much of a difference of what you can do with a &T and with a &~T - both give you immutable access to the T value
[23:00:59] <kimundi> The only difference would be that they are difference types, which might matter for some generics
[23:01:21] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[23:02:08] <achin> ok. thanks for all the explainations
[23:02:30] *** Joins: canhtak (canhtak@38266F07.7A8E554D.FC900DAF.IP)
[23:03:18] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[23:03:56] *** Joins: andreypopp (andreypopp@moz-7261DC60.net)
[23:04:22] *** Quits: andreypopp (andreypopp@moz-7261DC60.net) (Quit: andreypopp)
[23:05:01] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[23:05:47] *** Quits: KindOne (KindOne@moz-5985DF2A.dynamic.ip.windstream.net) (Ping timeout)
[23:05:54] *** Joins: shammancer (shammancer@389973A5.EBE303D0.DC8692D8.IP)
[23:06:10] *** jorendorff_away is now known as jorendorff
[23:06:55] *** Joins: dkeenaghan (dkeenaghan@A9F153F4.DDE28F19.986A907C.IP)
[23:06:58] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[23:09:08] *** Joins: c-a_ (c-a@moz-57C82A9.a163.priv.bahnhof.se)
[23:09:48] *** Quits: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se) (Ping timeout)
[23:09:58] *** Joins: KindOne (KindOne@moz-CE06962A.dynamic.ip.windstream.net)
[23:10:09] *** Quits: skade (skade@moz-B73EE4D5.pools.arcor-ip.net) (Quit: Textual IRC Client: www.textualapp.com)
[23:10:20] *** Quits: shammancer (shammancer@389973A5.EBE303D0.DC8692D8.IP) (Quit: Leaving.)
[23:10:42] *** Quits: aeqwa (aeqwa@moz-8E60531E.dsl.tropolys.de) (Quit: WeeChat 0.4.3-dev)
[23:10:44] *** Joins: aeqwa (aeqwa@moz-8E60531E.dsl.tropolys.de)
[23:12:55] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[23:13:11] *** Quits: trecer___ (trecer@7D91232.5E7A241.9B0F0B9E.IP) (Connection reset by peer)
[23:14:39] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[23:14:39] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[23:16:23] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Ping timeout)
[23:17:13] <arrrrrrrrr> http://mzl.la/1hqEfkD  damn
[23:17:27] *** Joins: a_m0d|home (a_m0d@moz-46657738.acanac.net)
[23:17:40] *** Parts: a_m0d|home (a_m0d@moz-46657738.acanac.net) ()
[23:19:03] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[23:19:37] <phil_> so i got jeaye's ncruses bindings to build
[23:19:46] <phil_> but for some reason the lib file is called liblib
[23:19:53] <ChrisMorgan> Wow, librustc-5b94a16f-0.9-pre.rlib is 174.5 MB? (Compared with a 45.9 MB .so.)
[23:20:14] <jeaye> phil_: As opposed to libncurses-rs-somehash?
[23:20:22] <phil_> yeah
[23:20:30] <phil_> liblib-9ed81b85-0.0.so
[23:20:31] <glaebhoerl> hm
[23:20:52] <jeaye> phil_: Check the link name you're specified in the crate.
[23:21:00] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[23:21:00] *** ChanServ sets mode: +ao dherman dherman
[23:21:33] <phil_> #[link(name="ncurses", vers="5.7")];
[23:21:33] <phil_> #[crate_type = "lib"];
[23:21:33] <phil_> #[feature(globs)];
[23:21:33] <phil_> #[feature(managed_boxes)];
[23:22:00] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[23:22:16] <brson> phil_: the link attribute has been replaced with a crate_id attribute, and we didn't manage the transition well
[23:22:25] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[23:22:33] <brson> phil_: some examples here https://github.com/mozilla/rust/pull/11041/files
[23:22:33] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[23:22:53] <phil_> ah okay
[23:23:01] <brson> the format is something like either "crate#version" or "package#crate:version"
[23:23:05] <phil_> another example where i need to be watching The Week in Rust
[23:23:14] <achin> i have a ~str, and i want to put it in an Option<&str>.  i thought the borrow would have happened automatically, but that seems to not be the case
[23:23:18] <ChrisMorgan> phil_: it's happened since the last TWiR
[23:23:27] <brson> acrichto: what's the status of the pr that added a warning about 'link'?
[23:23:37] <ChrisMorgan> achin: no, use .as_slice()
[23:23:40] <acrichto> brson: I don't remember seeing one
[23:23:40] <phil_> ah ok
[23:24:00] <brson> acrichto: oh, I thought it was rolled into an unrelated pr that we discussed at this week's meeting
[23:24:06] <brson> maybe I'll put something together tonight then
[23:24:10] <acrichto> brson: oh is that the one about extern mod?
[23:24:14] <brson> maybe?
[23:24:19] <acrichto> I should check on that
[23:24:25] <acrichto> also, what's the ip of mac5?
[23:24:29] <kvanb> Yeah I built yesterday and there was like 10,000 warnings about crate_id
[23:24:40] <achin> ChrisMorgan: ah, yes thank you.  that's like the 4th time i've forgotten that as_slice is the only way to get a borrowed str
[23:24:40] <brson> achricto: 10.250.5.63
[23:24:46] <acrichto> brson: also that PR does not warn about link
[23:25:14] <ChrisMorgan> achin: well, in certain situations it will auto-slice, but Some(s) is not one of them. .as_slice() is the general solution.
[23:25:20] *** Quits: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net) (Client exited)
[23:25:21] <brson> acrichto: ok, I'm going to put in a transitionary patch to tell people exactly how to change their code
[23:25:28] <kvanb> Why is Option Some/None?
[23:25:40] <kvanb> Some says "more than one" to me.
[23:25:41] *** Joins: pepper_chico (pepper_chi@moz-95A5633B.dsl.telesp.net.br)
[23:25:55] <tjc> kvanb: ML is a language that uses the same names
[23:25:59] <ChrisMorgan> kvanb: also, what would you write in its stead?
[23:26:00] <tjc> it's a pretty well-established tradition by now
[23:26:08] <tjc> so the answer is "we just did what ML did, blame them :-)"
[23:26:17] <kvanb> stead?
[23:26:33] <dkeenaghan> place
[23:26:37] <ChrisMorgan> "what would you write instead?"
[23:26:37] <tjc> You can also think of it like this: "I have some pudding" vs. "I have no pudding"
[23:26:43] <achin> haskell does "Just/Nothing"
[23:26:49] <tjc> if you think of it as referring to mass nouns rather than count nouns, it makes sense
[23:26:51] <kvanb> Oh, well, incoming flamebait, but Just/Nothing reads better IMO
[23:26:58] <tjc> kvanb: it's not going to be changed :-)
[23:27:23] <eddyb> Some/None are both 4 long
[23:27:41] <eddyb> Nothing is too verbose for Rust - but Maybe is smaller, so I don't know
[23:27:42] <ChrisMorgan> tjc: oh, I don't know; if you could come up with proof of how it would end the universe calling it Some while Just wouldn't, it *might* change :P
[23:27:43] <dkeenaghan> it makes more sense when you think it of Some(T)
[23:27:44] <kvanb> yeah but Just x and Nothing are the same length
[23:27:55] <kvanb> and you usually have to bind something when you match against Just
[23:27:57] <kvanb> 2c.
[23:28:07] <achin> 'None' looks nice to the python part of my brain
[23:28:12] <eddyb> hehe
[23:28:13] <tjc> ChrisMorgan: technically, anything I'm saying to you right now might be a lie in case sunspots cause a data transmission error that changes what I said to another valid, but false, sentence :-)
[23:28:48] <phil_> brson: its still compiling as liblib
[23:28:59] <phil_> #[crate_id = "ncurses#5.7"]; <---this is what i have now
[23:29:00] <glaebhoerl> Option is something i've been wanting to bikeshed for a while
[23:29:04] <phil_> and i took out the link line
[23:29:10] <glaebhoerl> the names I like are: struct Maybe|Optional|Nullable<T> { Val(T), Nil|Null|Empty }
[23:29:18] <ChrisMorgan> phil_: is your build from the last day or so?
[23:29:19] <kvanb> can you do overloadable traits?
[23:29:21] *** Quits: aeqwa (aeqwa@moz-8E60531E.dsl.tropolys.de) (Quit: WeeChat 0.4.3-dev)
[23:29:25] <kvanb> for mutable and immutable types
[23:29:40] <ChrisMorgan> phil_: if it's just a little bit older it'll want #[pkgid] instead of #[crate_id].
[23:29:41] <phil_> actually i think my rust build is from monday
[23:29:43] <phil_> or tuesday
[23:29:47] <phil_> ok
[23:29:54] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Ping timeout)
[23:30:14] <ChrisMorgan> Then either update or, for the moment, change it to pkgid
[23:30:29] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[23:30:29] *** ChanServ sets mode: +o tjc
[23:30:30] <glaebhoerl> the type name bothers me much more than the constructors, because "Option" makes me think of configuration options, not "an optional thing". Some/None are imo better than Just/Nothing (I like the ones I wrote even better, but not by much)
[23:30:33] <brson> phil_: sorry >_<
[23:30:50] <phil_> haha no worries
[23:30:52] <phil_> i appreciate the help :)
[23:31:09] <brson> someday soon we'll stop changing everything
[23:31:22] <phil_> after 1.0 im assuming :)
[23:31:29] *** Quits: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP) (Quit: Lost terminal)
[23:31:32] <glaebhoerl> (d'oh, also s/struct/enum/)
[23:31:51] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[23:32:03] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[23:32:06] *** Joins: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP)
[23:32:10] <ChrisMorgan> Hmm. new armhf rustc on my tablet: "rustc: error while loading shared libraries: libstd-04ff901e-0.9-pre.so: cannot open shared object file: No such file or directory". But it does exist in lib/.
[23:32:46] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[23:33:16] <kvanb> how many people do you think would get mad if two_pi was instead tau? XD
[23:33:32] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[23:33:39] *** Quits: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP) (Connection reset by peer)
[23:33:44] *** Joins: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP)
[23:33:52] <o11c> kvanb: some, but not as many as have a nergasm immediately on reading it
[23:34:05] <kvanb> :P
[23:34:17] <ChrisMorgan> (If I set LD_LIBRARY_PATH to /path/to/rust/lib then rustc runs. But this was not formerly necessary—any idea why it is now?)
[23:34:31] <phil_> okay updating my rust
[23:34:34] <phil_> this should be fun
[23:35:10] <ChrisMorgan> Luqman: yay, I now have a nice up-to-date Rust build for my tablet, now armhf :-) Any chance you could post the updated build process?
[23:36:37] <kvanb> okay, I hate to be annoying or anything but I noticed how rust Ord trait requires you to implement 4 different functions for ordering
[23:37:14] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[23:37:15] <achin> how do i put a literal brace in a format string?
[23:37:21] <kvanb> in Haskell we have one function called compare and then 4 default implemented functions that use it. Whats the rationale for requiring lt, le, ge & gt?
[23:37:25] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[23:37:27] <ChrisMorgan> achin: "\\{"
[23:37:49] <ChrisMorgan> achin: that is, a backslash before it, but you will need to escape the backslash if you're using a non-raw string as \{ is not a valid escape
[23:37:54] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[23:37:56] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[23:37:57] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[23:38:04] <achin> got it.  thanks
[23:38:11] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[23:38:30] <o11c> wait, it doesn't infer all the others from lt ?
[23:38:52] <ChrisMorgan> kvanb: you only need to implement lt for Ord
[23:39:26] <o11c> I was right, the other 3 are already provided
[23:39:46] *** Joins: andreypopp (andreypopp@moz-7261DC60.net)
[23:39:49] <ChrisMorgan> achin: there is also TotalOrd, which provides fn cmp() -> Ordering (which is Less, Equal or Greater)
[23:40:00] <ChrisMorgan> s/achin/kvanb/
[23:40:05] <kvanb> How come TotalOrd /= Ord ?
[23:40:30] <ChrisMorgan> kvanb: they are semantically different. Floats are the best example, with everyone's favourite value, NaN.
[23:40:52] <ChrisMorgan> Floating point numbers do not have a total ordering, but they do have a partial ordering.
[23:41:20] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Ping timeout)
[23:42:04] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[23:43:51] <ChrisMorgan> Luqman: also, do you know why rustc can't locate the libstd*.so file without setting LD_LIBRARY_PATH manually? (Or acrichto?)
[23:44:03] *** Quits: KindOne (KindOne@moz-CE06962A.dynamic.ip.windstream.net) (Ping timeout)
[23:45:58] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[23:46:56] <acrichto> ChrisMorgan: it should be able to so long as it's in the same absolute location or rleative location to the output
[23:47:14] <acrichto> this is what all the rpath business is for
[23:47:34] <ChrisMorgan> acrichto: that's what I expected—especially as it used to work with an armel build from a month and a half ago—but it doesn't seem to be the case
[23:48:00] *** Joins: KindOne (KindOne@moz-BEDB10AE.dynamic.ip.windstream.net)
[23:49:54] <kvanb> is there a way to do overlapping traits?
[23:50:06] <ChrisMorgan> kvanb: what precisely do you mean by that?
[23:50:14] <kvanb> ie, if X implements A then it cannot implement B and vice-verca
[23:50:27] <ChrisMorgan> No, that can't be done.
[23:50:30] <kvanb> because A might default functions from B and the other way around
[23:50:47] <ChrisMorgan> You can't have cyclic dependencies like that.
[23:51:10] <FreeFull> I don't think "cannot implement" is expressible
[23:51:16] *** Quits: canhtak (canhtak@38266F07.7A8E554D.FC900DAF.IP) (Quit: canhtak)
[23:51:25] <bjz> how does one use the log macro?
[23:51:32] <ChrisMorgan> (Actually, is that quite true? Depends on how they're depending on one another, I think.)
[23:51:41] <kvanb> They aren't cyclic.
[23:51:53] <kvanb> Can you say that by implementing X you automatically implement Y?
[23:52:06] <bjz> lib.rs:284:27: 284:63 error: Unexpected end of macro invocation
[23:52:06] <bjz> lib.rs:284             None => { log!("Attempted to call a closed window."); return; }
[23:52:07] <ChrisMorgan> You can implement Y for anything that implements X
[23:52:08] <kvanb> (and somehow express that, by defaulting some of Y's)
[23:52:14] <kvanb> bah.
[23:52:19] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[23:52:19] *** ChanServ sets mode: +ao dherman dherman
[23:52:23] <ChrisMorgan> bjz: log! expects a level as the first argument
[23:52:34] <bjz> cmr: how does one do that?
[23:52:39] <bjz> woops ChrisMorgan 
[23:52:48] <ChrisMorgan> bjz: you're not expected to use log! directly, I think; use error!, warn!, info!, debug!
[23:52:57] <bjz> o ok
[23:53:08] <bjz> fo that kind of message would warn! be ok?
[23:53:17] <bjz> or debug!
[23:53:20] <ChrisMorgan> Yes.
[23:53:34] <bjz> so warn?
[23:53:50] *** Joins: lenstr (lenstr@728D8BB9.9636F313.7A27613B.IP)
[23:54:23] <kvanb> I love the exclamations. It's like screaming "format!" or "warn!"
[23:56:14] <ChrisMorgan> kvanb: I made a "lets_do_this!"
[23:56:58] <kvanb> hey! would get too annoying
[23:57:24] *** Quits: Dessimat0r (Dessimat0r@3258E608.E588CE06.9A579328.IP) (Ping timeout)
[23:57:50] * kvanb wonders who got the zelda ref
[23:58:06] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[23:58:43] *** Joins: canhtak (canhtak@38266F07.7A8E554D.FC900DAF.IP)
[23:59:02] <hoverbear> :S I like JS.
[23:59:32] *** Joins: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net)
[23:59:49] *** Joins: Dessimat0r (Dessimat0r@3258E608.E588CE06.9A579328.IP)
