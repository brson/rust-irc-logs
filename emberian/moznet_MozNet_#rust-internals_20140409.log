[00:01:40] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[00:02:01] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[00:03:41] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[00:04:08] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[00:06:57] *** Quits: eibwen (kvirc@moz-4CF128CE.dip0.t-ipconnect.de) (Ping timeout)
[00:07:51] *** Joins: ChrisMorgan (chris@moz-5889E428.static.tpgi.com.au)
[00:09:23] <acrichto> brson: <3 nightlies (just going to tell you that every time I download a new nightly)
[00:12:03] <steveklabnik> lol
[00:17:42] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[00:21:56] <strcat> lol, I found a libquadmath bug
[00:30:11] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[00:32:02] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[00:34:37] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[00:36:16] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[00:38:05] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[00:38:39] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[00:38:45] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[00:40:05] *** Quits: zeuxcg (zeuxcg@1828591B.F9F834F5.C943C01E.IP) (Client exited)
[00:40:23] *** Joins: dherman (dherman@moz-5D310B1.static.exetel.com.au)
[00:40:23] *** ChanServ sets mode: +ao dherman dherman
[00:41:32] * strcat wonders if constant folding works...
[00:42:12] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[00:44:37] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[00:46:14] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[00:47:37] *** Quits: aatchmobile (aatch@8ECC4BFC.EC83738C.D8D85ABD.IP) (Connection reset by peer)
[00:53:52] *** Quits: dherman (dherman@moz-5D310B1.static.exetel.com.au) (Ping timeout)
[00:59:50] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[00:59:52] *** Quits: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com) (Quit: Leaving.)
[01:02:29] <strcat> hm
[01:02:36] <strcat> so LLVM does know how to constant fold f128
[01:02:54] <strcat> I think I could test it by testing only the part that's used to define statics
[01:02:55] <strcat> ha
[01:03:01] <strcat> meh
[01:03:04] <strcat> but no comparison operators yet
[01:04:54] *** Joins: zeuxcg (zeuxcg@1828591B.F9F834F5.C943C01E.IP)
[01:07:50] *** Joins: rajaram_ (rajaram@5881197.FFE33577.BE90E62C.IP)
[01:09:41] *** Quits: ecr (chatzilla@moz-67D6C824.dhcp4.washington.edu) (Quit: ChatZilla 0.9.90.1 [Firefox 29.0/20140403132807])
[01:13:23] <strcat> huon: I don't think even libgcc fully supports i128 on 32-bit ;\
[01:13:27] <strcat> so that's basically a no go atm
[01:16:36] *** Joins: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP)
[01:16:36] <ghrust> [13rust] 15bors 04force-pushed 06auto from 1427fcc71 to 148801d89: 02http://git.io/N3iJvQ
[01:16:36] *** Parts: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP) ()
[01:16:37] *** Joins: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP)
[01:16:37] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/-0VMqA
[01:16:37] <ghrust> 13rust/06auto 14d3c831b 15Huon Wilson: std: use a `match` in `assert_eq!` to extend the lifetime of the args....
[01:16:37] <ghrust> 13rust/06auto 144b9a7a2 15Huon Wilson: collections: replace all ~[T] with Vec<T>.
[01:16:37] <ghrust> 13rust/06auto 145b28deb 15bors: auto merge of #13350 : huonw/rust/devec-collections, r=alexcrichton...
[01:16:39] *** Parts: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP) ()
[01:16:48] *** Joins: dherman (dherman@moz-5D310B1.static.exetel.com.au)
[01:16:48] *** ChanServ sets mode: +ao dherman dherman
[01:19:36] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[01:20:03] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[01:21:47] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[01:35:27] *** Quits: victorporof (victorporo@moz-1C281963.dsl.bell.ca) (Quit: victorporof)
[01:42:01] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[01:42:27] *** Joins: cmr_ (Mibbit@29F7347E.FE2378EB.7923FEFE.IP)
[01:43:01] <cmr_> the new grammar cometh
[01:43:02] <cmr_> https://github.com/cmr/rust-antlr
[01:44:09] *** Quits: sunfish (chatzilla@moz-62518563.mtv2.mozilla.com) (Ping timeout)
[01:44:31] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Client exited)
[01:45:19] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[01:46:25] <brson> doc tests don't work on windows
[01:46:43] <acrichto> brson: is it a dll finding problem?
[01:46:46] <brson> but other than that it looks like upgrading the bots will be pretty trivial
[01:47:33] <brson> acrichto: the logs aren't very informative ('test executable failed'
[01:47:41] <acrichto> aww
[01:47:52] <acrichto> I would suspect that PATH is not getting set
[01:47:59] <acrichto> but that's just a guess
[01:49:05] <brson> probably, yah
[01:49:50] <acrichto> alternatively doc test could just build static binaries
[01:49:56] <acrichto> it's not that slow, and they get cleaned up pretty quickly
[01:50:17] <acrichto> hurray for static linking!
[01:50:38] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: Textual IRC Client: www.textualapp.com)
[01:54:37] *** Joins: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com)
[02:08:56] *** Joins: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP)
[02:10:48] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[02:11:28] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[02:14:15] *** Quits: cmr_ (Mibbit@29F7347E.FE2378EB.7923FEFE.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:15:26] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[02:16:49] *** Quits: andrew-__ (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[02:22:07] <huon> strcat: :(
[02:23:55] *** Quits: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com) (Quit: Leaving.)
[02:26:35] *** Joins: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com)
[02:27:04] *** Quits: zz_kimundi (kimundi@moz-D4C3C471.dip0.t-ipconnect.de) (Ping timeout)
[02:28:13] <brson> acrichto: exporting two types named `Mutex` from sync is pretty confusing
[02:29:42] <acrichto> brson: only one of them is exported though?
[02:29:48] <acrichto> the other one you access through raw
[02:29:54] <acrichto> but I can see how that may be a little confusing
[02:31:26] *** Joins: zz_kimundi (kimundi@moz-3A332457.dip0.t-ipconnect.de)
[02:31:27] *** zz_kimundi is now known as kimundi
[02:31:40] *** Joins: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP)
[02:31:40] <ghrust> [13rust] 15bors 04force-pushed 06auto from 145b28deb to 148801d89: 02http://git.io/N3iJvQ
[02:31:40] *** Parts: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP) ()
[02:31:43] *** Joins: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP)
[02:31:43] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/F92Apg
[02:31:43] <ghrust> 13rust/06auto 14d3c831b 15Huon Wilson: std: use a `match` in `assert_eq!` to extend the lifetime of the args....
[02:31:43] <ghrust> 13rust/06auto 144b9a7a2 15Huon Wilson: collections: replace all ~[T] with Vec<T>.
[02:31:44] <ghrust> 13rust/06auto 14bb0259b 15bors: auto merge of #13350 : huonw/rust/devec-collections, r=alexcrichton...
[02:31:46] *** Parts: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP) ()
[02:32:21] <huon> acrichto: it'll land some day :( (thanks)
[02:33:18] <klutzy> debugging win64 exception handling is not fun
[02:33:55] <acrichto> huon: freebsd is just refusing to do anything other than deadlock right now :\
[02:34:21] <nrc> acrichto: can we just forget about bsd for ever more?
[02:34:36] <acrichto> hehe
[02:34:46] <acrichto> but we've come so far~
[02:34:47] <acrichto> !
[02:35:02] <sfackler> acrichto: the sad fork thing didn't fix it?
[02:35:24] <huon> acrichto: did the fork deadlocking patch land?
[02:35:26] <acrichto> I'm not seeing a dealock with Arc::drop on the stack any more
[02:35:31] <acrichto> it did
[02:35:36] <acrichto> all the deadlocks have dlopen on the stack now
[02:35:45] <sfackler> :(
[02:35:47] <acrichto> although these backtraces look super corrupted, so I'm not sure how much I should trust them
[02:36:02] <sfackler> oh, haha
[02:36:17] <sfackler> so the real reason we didn't run into the deadlocks before was that Arcs were never freed?
[02:36:27] *** Quits: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com) (Quit: Leaving.)
[02:36:37] <acrichto> I think before was that free() couldn't get the malloc lock
[02:36:50] <acrichto> and now it's failing to get the dlopen lock
[02:36:54] <acrichto> (if that even exists)
[02:37:13] <sfackler> it does
[02:37:17] *** Parts: mcpherrin (mcpherrin@moz-33D521D6.hsd1.ca.comcast.net) ()
[02:37:23] <acrichto> people on the internet say that multithreaded fork is a serious no no and that all you can do is call exec() and _exit()
[02:37:42] <sfackler> iirc Windows doesn't have the same lock so there's some weird code in unstable::dynamic_lib to handle that
[02:37:45] <sfackler> yep
[02:37:50] <sfackler> multithreaded fork is silly
[02:38:13] <acrichto> oh this is a lock in the dlopen() implementation itself
[02:38:15] <acrichto> like in libdl
[02:38:17] <sfackler> yeah
[02:38:18] <acrichto> not in rust code at all
[02:38:21] <strcat> acrichto: you can also call anything you wrote yourself and know is correct, *shrug*
[02:38:23] <sfackler> exactly
[02:38:31] <strcat> if we use jemalloc you could fork + malloc anywhere
[02:38:37] <strcat> s/use/used/
[02:38:46] <acrichto> and of course I can't get it to deadlock locally
[02:38:52] <acrichto> :(
[02:39:16] <strcat> but anyway all you're really supposed to do after fork is set up file descriptors, the env, etc.
[02:39:18] <sfackler> rust-openssl is segfaulting ~10% of the time on travis and I can't even get a valgrind hit locally :(
[02:40:04] <acrichto> strcat: I think what's happening is that something related to the PLT hasn't triggered yet so the child has to dlopen something for the first time
[02:40:08] <acrichto> all we do is call syscalls
[02:40:18] <acrichto> but I think they're triggering dynamic stuff
[02:40:25] <acrichto> yay dynamic linking
[02:40:32] <strcat> that stuff is thread safe on any sane platform
[02:40:49] <strcat> there's no alternative to fork + doing stuff like dup2, etc. to set up the child
[02:40:59] <strcat> posix_spawn works in some cases, not in general
[02:46:31] *** Joins: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com)
[02:50:02] <huon> is pcwalton going to update https://github.com/mozilla/rust/pull/13269 in the near future?
[02:50:26] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: Textual IRC Client: www.textualapp.com)
[02:51:33] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[02:52:06] <acrichto> he's on PTO this week, so likely not until next
[02:53:25] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[02:53:27] *** Quits: brson (brson@moz-62518563.mtv2.mozilla.com) (Quit: leaving)
[02:53:29] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[02:53:34] *** Joins: brson (brson@981AA104.E81F12CD.76F66111.IP)
[02:53:34] *** ChanServ sets mode: +qo brson brson
[02:53:41] *** Joins: mib_px91x4 (Mibbit@87176A7B.5941EA70.CC1A2609.IP)
[02:56:36] *** Quits: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com) (Quit: Leaving.)
[02:57:03] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[02:57:29] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[02:58:11] <nrc> hmm
[02:58:29] <nrc> it's not going to be fun refactoring ty_vec is it?
[02:58:36] *** Quits: mib_px91x4 (Mibbit@87176A7B.5941EA70.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:11:30] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[03:11:51] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[03:13:24] *** Quits: zeuxcg (zeuxcg@1828591B.F9F834F5.C943C01E.IP) (Client exited)
[03:13:36] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[03:26:13] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[03:27:37] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[03:28:00] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[03:28:23] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[03:28:41] <acrichto> argh, I can't debug a process on freebsd because gdb instantly core dumps
[03:29:05] <zwarich> that sounds inconvenient
[03:30:56] <ChrisMorgan> Quis custodiet ipsos custodes?
[03:31:06] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[03:31:10] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[03:36:16] <acrichto> coredump backtraces leave a little to be desired... https://gist.github.com/alexcrichton/10223852
[03:41:40] *** Joins: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP)
[03:41:40] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14bb0259b to 148801d89: 02http://git.io/N3iJvQ
[03:41:40] *** Parts: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP) ()
[03:50:15] *** Joins: frogzilla (Mibbit@87176A7B.5941EA70.CC1A2609.IP)
[03:51:53] *** Quits: brson (brson@981AA104.E81F12CD.76F66111.IP) (Ping timeout)
[03:59:12] *** Quits: frogzilla (Mibbit@87176A7B.5941EA70.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:06:32] *** Quits: rajaram_ (rajaram@5881197.FFE33577.BE90E62C.IP) (Ping timeout)
[04:11:10] *** Joins: eddyb (eddy@717B0165.D51DAF03.FB866788.IP)
[04:16:31] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[04:19:15] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[04:21:03] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[04:25:16] *** Joins: zeuxcg (zeuxcg@moz-80D1F912.hsd1.ca.comcast.net)
[04:25:49] *** Quits: zeuxcg (zeuxcg@moz-80D1F912.hsd1.ca.comcast.net) (Client exited)
[04:25:55] *** Joins: zeuxcg (zeuxcg@moz-80D1F912.hsd1.ca.comcast.net)
[04:26:25] <eddyb> cmr :)
[04:26:40] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[04:28:10] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[04:28:50] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[04:42:07] *** Joins: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com)
[04:47:44] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[04:48:20] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[04:50:31] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[04:55:15] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[04:56:11] *** Joins: erickt (erickt@B91004E7.345B955C.2321E71E.IP)
[04:56:47] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[05:08:08] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[05:11:26] <eddyb> > Optional optvec distinguishes between "fn()" and "fn:()"
[05:11:39] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[05:11:39] <ghrust> [13rust] 15bors 04force-pushed 06auto from 149287fc2 to 148801d89: 02http://git.io/N3iJvQ
[05:11:39] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[05:11:40] *** Joins: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP)
[05:11:40] <ghrust> [13rust] 15bors pushed 5 new commits to 06auto: 02http://git.io/tLI0lg
[05:11:40] <ghrust> 13rust/06auto 149539b95 15Alex Crichton: rustc: Remove absolute rpaths...
[05:11:40] <ghrust> 13rust/06auto 1483ae17d 15Alex Crichton: rustc: Don't rpath to librustrt.dylib...
[05:11:40] <ghrust> 13rust/06auto 143690dc0 15Alex Crichton: rustc: Add a realpath utility function...
[05:11:42] *** Parts: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP) ()
[05:11:58] <eddyb> acrichto: do you know if there is any difference between || and ||: (and between proc() and proc():)? (see comment in ast::ClosureTy)
[05:12:21] <acrichto> they are the same now
[05:12:28] <acrichto> they did not use to be
[05:13:50] *** Joins: rajaram_ (rajaram@47769425.AE842F9B.81C3DAA1.IP)
[05:15:18] *** Quits: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP) (Ping timeout)
[05:17:18] <Yurume> I'm trying to reduce the size of search-index.js further (with gzip enabled, of course) and yet to seen a good way
[05:17:28] <eddyb> acrichto: yay so we can remove a word from there :)
[05:17:38] <Yurume> other than reducing the unused informations (as in #13402)
[05:17:56] <eddyb> TyPath(Path, Option<OwnedSlice<TyParamBound>>, NodeId), here as well
[05:17:59] <Yurume> maybe it is close to its information-theoretic entropy? :S
[05:18:26] <eddyb> Yurume: can I have a look at it? (not the whole thing, but a snippet)
[05:18:53] <Yurume> did you mean http://static.rust-lang.org/doc/master/search-index.js ?
[05:19:02] *** Quits: erickt (erickt@B91004E7.345B955C.2321E71E.IP) (Ping timeout)
[05:19:06] <Yurume> (which is before the optimization)
[05:19:54] *** Joins: mib_1dn0mg (Mibbit@87176A7B.5941EA70.CC1A2609.IP)
[05:20:10] <Yurume> eddyb: optimized version (with the different crate order) is available in http://cosmic.mearie.org/tmp/search-index-old.js (temporarily)
[05:20:56] <eddyb> thanks :)
[05:21:12] <Yurume> eddyb: any idea?
[05:21:44] <eddyb> the unoptimized one has laaarge room for improvment
[05:22:20] <Yurume> my attempts so far include: object to array transformation, shared string optimization, type as a small number and so on
[05:22:23] <eddyb> objects -> arrays and interning all the strings. but I think you've thought of/done all those already
[05:22:24] <eddyb> haha
[05:22:30] *** Quits: mib_1dn0mg (Mibbit@87176A7B.5941EA70.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:22:30] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[05:22:30] *** Quits: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP) (Ping timeout)
[05:22:54] <eddyb> Yurume: at least I'm not dumb enough to see nothing :P
[05:23:12] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[05:23:40] <eddyb> Yurume: hmm, your version is compressed, but doesn't have those attempts you mention
[05:24:25] <Yurume> eddyb: back-of-envelope calculations mostly (can be done with some script), didn't have much impact
[05:24:40] <Yurume> even after combined (less than 5% improvements, I think?)
[05:24:46] <eddyb> uh oh
[05:25:16] <eddyb> Yurume: doesn't sound right
[05:25:20] <Yurume> of course, we are not using gzip transport yet, so ~5% improvements after gzip will actually correspond to some 40% improvements before gzip which is huge indeed
[05:25:44] <eddyb> I'll take a deeper look later
[05:25:45] <Yurume> but I think it is another issue (and I think there is an issue about serving pages gzipped?)
[05:26:19] <Yurume> eddyb: LZ77 is good at shrinking duplicated strings anyway, so it is no surprise
[05:30:06] <sfackler> isn't this UB now? http://static.rust-lang.org/doc/master/src/std/home/rustbuild/src/rust-buildbot/slave/nightly-linux/build/src/libstd/cell.rs.html#101-103
[05:31:20] <eddyb> Yurume: btw, what's the most compact way to store a number in a string?
[05:31:39] <eddyb> if you say decimal, you are wrong. if you say hex or base64, you are still wrong :P
[05:31:49] <Yurume> base95?
[05:31:58] <eddyb> Yurume: utf-8 :)
[05:32:00] <Yurume> I won't accept...
[05:32:02] <Yurume> yeah
[05:32:39] <eddyb> and I don't mean \UABCD, but rather utf-8 source
[05:32:41] <Yurume> hmm, ast id flattening may work
[05:33:24] <eddyb> AST IDs are terrible for this, you should totally get your own scheme
[05:34:16] <eddyb> and it's JS so you can add code to decode an optimization specific to the input (like the maximum ID)
[05:34:17] <Yurume> eddyb: ast ids are completely useless, what we really want is a sequential id that can be referred ;)
[05:34:21] *** Joins: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[05:34:24] <eddyb> Yurume: yeah
[05:34:59] <eddyb> sfackler: if you feel like rewriting RefCell to use Cell for its borrow counter, I think you can remove that method :)
[05:36:06] <eddyb> Yurume: paths should be a byte per element IMO
[05:36:31] <eddyb> well, a codepoint per element, you will have more identifiers than 0x00-0x7F
[05:37:08] <Yurume> I'm intentionally avoiding fancy encoding schemes so far ;)
[05:37:10] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[05:37:31] <Yurume> (since I have an intention to make it readable to 3rd party libs)
[05:37:46] <eddyb> Yurume: document it. done
[05:37:47] <Yurume> btw, it seems that 1/3 of names are duplicates
[05:37:57] *** Joins: chris_ (chrido@moz-EFE921CE.informatik.tu-muenchen.de)
[05:38:03] <eddyb> Yurume: if I knew how this was used, I would try a fancier data structure
[05:38:06] <Yurume> sort|uniq gives 9165 unique names out of 15548
[05:38:14] *** Quits: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com) (Ping timeout)
[05:38:35] <eddyb> {type:'enum',name:'timezone'}
[05:38:45] <Yurume> tries?
[05:38:48] <eddyb> that can be two codepoints
[05:38:57] <eddyb> I mean... why would you not take this :P?
[05:39:14] <eddyb> Yurume: yeah. maybe add "persistent" (I have no idea what I'm doing)
[05:39:20] <Yurume> lol
[05:40:41] <Yurume> eddyb: my eventual goal for rustdoc is to make it searchable offline, with natural queries, and possibly with signatures, from a shared compact database
[05:41:24] <Yurume> "natural queries" include FTS and syntax-directed searches like `fn foo` (the current JS routine only allows for `fn:foo`)
[05:41:51] <Yurume> but as always, I should try first before imagining :S
[05:41:59] <TheHydroImpulse> Yurume If rustdoc emitted a bunch of JSON instead of full HTML, you could do an offline + online app of sort.
[05:42:23] <TheHydroImpulse> You could also render on the server-side for SEO
[05:42:35] <TheHydroImpulse> but youâ€™d loose static files and S3
[05:43:15] <eddyb> again, I have to look at how it's used before I can make any "informed" guesses
[05:44:01] <Yurume> TheHydroImpulse: I think only the search index needs to be JSON, if you have a further question, it can bring a webbrowser
[05:44:13] <Yurume> eddyb: see http://static.rust-lang.org/doc/master/main.js for that matter
[05:44:42] <Yurume> IHMO search routine is a bit strange, I've cleaned it up a bit
[05:44:44] <eddyb> rusti: let _: unsafe proc();
[05:44:47] -rusti- <anon>:11:23: 11:27 error: expected `|`, found `proc`
[05:44:47] -rusti- <anon>:11         let _: unsafe proc();
[05:44:47] -rusti-                                 ^~~~
[05:44:47] -rusti- playpen: application terminated with error code 101
[05:45:32] <eddyb> interesting
[05:45:58] *** Quits: zwarich (zwarich@A89ECEB1.A86FC3A7.DE9B45B6.IP) (Ping timeout)
[05:46:02] <TheHydroImpulse> Yurume http://devdocs.io/ (this style of docs require a client-side app, so you canâ€™t pre-render the html)
[05:46:18] *** Joins: zwarich (zwarich@A89ECEB1.A86FC3A7.DE9B45B6.IP)
[05:46:51] <Yurume> uh, why?
[05:47:07] <Yurume> client-side app can bundle pre-rendered htmls
[05:47:31] <Yurume> (something like Windows Help files, .chm)
[05:48:16] <TheHydroImpulse> Well, to have this style of app, you typically generate the HTML client-side. Basically a single-page app thatâ€™s cachable using localstorage and stuff. 
[05:48:33] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[05:48:39] <Yurume> single-"page" app?
[05:49:22] <TheHydroImpulse> Were the page doesnâ€™t actually refresh, so it feels like you never change pages.
[05:50:10] <Yurume> TheHydroImpulse: ah, so do you mean that the app itself does not have a document, but doc providers have a shared protocol (with JSONP or similar) from which the app can render (and cache) a HTML page?
[05:50:35] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[05:52:10] <TheHydroImpulse> hereâ€™s an example (https://github.com/TheHydroImpulse/demo) also super basic stuff. You have a single HTML file that only loads the JavaScript. The JSON that could be generated by rustdoc could be loaded with an ajax requests then cached, or you can bundle the JSON in along with the JavaScript. The demo I have here uses Componentjs, which allows you to bundle various assets into a single bundle. So you can bundle the 
[05:52:11] <TheHydroImpulse> JSON, too. All the templates are also bundled.
[05:52:46] *** Joins: vhbit (vhbit@8BB49AD.FA5504CB.888F138E.IP)
[05:53:57] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[05:55:38] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[06:00:49] *** Joins: edwardw (Mibbit@4660DACB.EE06708D.4BFBD933.IP)
[06:03:10] <sfackler> r? https://github.com/mozilla/rust/pull/13419
[06:10:49] *** Quits: rhodesd (none@3646D136.4C5731DA.F395EA5B.IP) (Ping timeout)
[06:11:18] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Connection reset by peer)
[06:11:33] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[06:13:37] <eddyb> cmr: the fact that graphs haven't showed up yet makes me afraid they're (very) bad
[06:13:40] *** Joins: ferdinand (Mibbit@87176A7B.5941EA70.CC1A2609.IP)
[06:15:38] *** Quits: ferdinand (Mibbit@87176A7B.5941EA70.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:16:11] *** Joins: rhodesd (none@3646D136.4C5731DA.F395EA5B.IP)
[06:16:31] *** Quits: eddyb (eddy@717B0165.D51DAF03.FB866788.IP) (Ping timeout)
[06:17:40] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Connection reset by peer)
[06:17:47] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[06:21:49] *** Joins: ghrust (ghrust@23EC81EC.6A2AE50.F3114085.IP)
[06:21:50] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14e74e221 to 148801d89: 02http://git.io/N3iJvQ
[06:21:50] *** Parts: ghrust (ghrust@23EC81EC.6A2AE50.F3114085.IP) ()
[06:21:51] *** Joins: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP)
[06:21:51] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/vGq3KQ
[06:21:51] <ghrust> 13rust/06auto 14d3c831b 15Huon Wilson: std: use a `match` in `assert_eq!` to extend the lifetime of the args....
[06:21:51] <ghrust> 13rust/06auto 144b9a7a2 15Huon Wilson: collections: replace all ~[T] with Vec<T>.
[06:21:52] <ghrust> 13rust/06auto 14b0516c9 15bors: auto merge of #13350 : huonw/rust/devec-collections, r=alexcrichton...
[06:21:54] *** Parts: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP) ()
[06:31:01] *** Quits: ktt3ja (ktt3ja@moz-8D2A07E1.hsd1.va.comcast.net) (Quit: Leaving)
[06:33:22] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Input/output error)
[06:33:45] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[06:34:11] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[06:36:09] *** Quits: japaric (japaric@268E2D5C.A347E168.F4D5766F.IP) (Ping timeout)
[06:36:09] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[06:37:27] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[06:43:38] *** Quits: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP) (Ping timeout)
[06:44:14] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[06:44:35] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[06:46:19] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[06:47:15] *** Joins: Nekit1234007 (Nekit12340@63DD8B0E.CDD224AA.4707F662.IP)
[06:47:53] *** Quits: Nekit1234007_ (Nekit12340@2C52E860.2FD3B5C9.4707F662.IP) (Ping timeout)
[06:48:33] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[06:50:31] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[06:51:44] *** Joins: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP)
[06:51:44] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14b0516c9 to 148801d89: 02http://git.io/N3iJvQ
[06:51:44] *** Parts: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP) ()
[06:51:45] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[06:51:45] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/Sk_47A
[06:51:45] <ghrust> 13rust/06auto 14d3c831b 15Huon Wilson: std: use a `match` in `assert_eq!` to extend the lifetime of the args....
[06:51:45] <ghrust> 13rust/06auto 144b9a7a2 15Huon Wilson: collections: replace all ~[T] with Vec<T>.
[06:51:45] <ghrust> 13rust/06auto 142a18c9e 15bors: auto merge of #13350 : huonw/rust/devec-collections, r=alexcrichton...
[06:51:47] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[07:06:46] *** flaper87|afk is now known as flaper87
[07:20:50] *** Quits: ChrisMorgan (chris@moz-5889E428.static.tpgi.com.au) (Ping timeout)
[07:20:56] *** Joins: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP)
[07:21:13] *** Joins: japaric (japaric@67147DFF.55B992BD.5C7588CA.IP)
[07:25:21] *** Quits: zeuxcg (zeuxcg@moz-80D1F912.hsd1.ca.comcast.net) (Client exited)
[07:27:25] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[07:35:19] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[07:38:49] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[07:40:05] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[07:40:57] *** Quits: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP) (Ping timeout)
[07:55:30] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[07:57:09] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[07:58:27] *** Quits: vhbit (vhbit@8BB49AD.FA5504CB.888F138E.IP) (Quit: Textual IRC Client: www.textualapp.com)
[08:00:08] *** Joins: vhbit (vhbit@8BB49AD.FA5504CB.888F138E.IP)
[08:00:25] *** Joins: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com)
[08:01:12] *** Joins: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP)
[08:02:15] *** Quits: edwardw (Mibbit@4660DACB.EE06708D.4BFBD933.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:06:03] *** Quits: canhtak (canhtak@moz-7FC55BCE.wl.t.ulaval.ca) (Quit: canhtak)
[08:07:46] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[08:08:28] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[08:22:31] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:22:40] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:23:29] <Yurume> well, so far I've reduced the uncompressed search index to half the original size
[08:30:46] *** Quits: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com) (Ping timeout)
[08:32:40] *** Joins: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP)
[08:35:19] <eddyb> nmatsakis: let rt = borrowed_contents(cty.region, ast::MutImmutable); // this seems to be redundant now as procs don't have a region
[08:37:09] <Yurume> eddyb: low-hanging fruits done: https://github.com/lifthrasiir/rust/compare/rustdoc-prune-paths...rustdoc-smaller-index
[08:37:56] <Yurume> 35% and 11% reduction before and after gzip -9 respectively. 
[08:38:25] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:38:40] <Yurume> (well, I didn't expect that the object-to-array conversion has a greater effect when you have *less* data.)
[08:38:48] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:46:45] *** Joins: ghrust (ghrust@23EC81EC.6A2AE50.F3114085.IP)
[08:46:45] <ghrust> [13rust] 15bors pushed 4 new commits to 06auto: 02http://git.io/HHlFyQ
[08:46:45] <ghrust> 13rust/06auto 14e446a87 15Kang Seonghoon: mk: Add a dummy CFG_COMPILER_HOST_TRIPLE to rustdoc invocation....
[08:46:45] <ghrust> 13rust/06auto 1417f94d0 15Kang Seonghoon: rustdoc: Clean the `initSearch` routine up.
[08:46:45] <ghrust> 13rust/06auto 14b9e1f6e 15Kang Seonghoon: rustdoc: Prune the paths that do not appear in the index....
[08:46:47] *** Parts: ghrust (ghrust@23EC81EC.6A2AE50.F3114085.IP) ()
[08:48:05] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[08:50:31] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[09:04:12] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[09:05:00] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[09:05:21] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[09:06:52] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[09:07:03] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[09:09:32] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[09:14:48] *** Quits: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP) (Ping timeout)
[09:17:11] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[09:17:12] *** Joins: easy_muffin (martin@moz-A17B59E2.public.t-mobile.at)
[09:22:32] *** Quits: dherman (dherman@moz-5D310B1.static.exetel.com.au) (Quit: dherman)
[09:24:44] *** Joins: eibwen (kvirc@moz-3A391282.dip0.t-ipconnect.de)
[09:27:19] *** Joins: dherman (dherman@moz-5D310B1.static.exetel.com.au)
[09:27:19] *** ChanServ sets mode: +ao dherman dherman
[09:30:34] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[09:31:30] <eddyb> rusti: let _: 'static ||;
[09:31:30] -rusti- <anon>:11:16: 11:23 error: expected type, found token LIFETIME(ast::Ident{name: 2u32, ctxt: 0u32})
[09:31:31] -rusti- <anon>:11         let _: 'static ||;
[09:31:31] -rusti-                          ^~~~~~~
[09:31:31] -rusti- playpen: application terminated with error code 101
[09:31:38] <eddyb> rusti: let _: ||:'static;
[09:31:39] -rusti- ()
[09:31:52] <huon> rusti: let _: <'static> ||;
[09:31:52] -rusti- <anon>:11:17: 11:24 error: illegal lifetime parameter name: `static`
[09:31:52] -rusti- <anon>:11         let _: <'static> ||;
[09:31:53] -rusti-                           ^~~~~~~
[09:31:53] -rusti- error: aborting due to previous error
[09:31:53] -rusti- playpen: application terminated with error code 101
[09:31:55] <eddyb> rusti: let x: ||:'static = ||{}; let () = x;
[09:31:56] -rusti- <anon>:11:39: 11:41 error: mismatched types: expected `'static ||:'static` but found `()` (expected fn but found ())
[09:31:56] -rusti- <anon>:11         let x: ||:'static = ||{}; let () = x;
[09:31:58] -rusti-                                                 ^~
[09:32:00] -rusti- error: aborting due to previous error
[09:32:02] -rusti- playpen: application terminated with error code 101
[09:32:02] <huon> rusti: let _: <'a> ||;
[09:32:03] -rusti- ()
[09:32:05] <eddyb> we still display them wrong
[09:32:13] <huon> not surprising
[09:32:17] <eddyb> (in ppaux)
[09:32:42] <eddyb> huon: I removed ast::Sigil and I'm trying to cleanup old closure-related cruft
[09:33:27] <eddyb> we should really remove the special lifetime for || and have it be just a trait bound
[09:34:20] <eddyb> proc():Foo+Bar would be proc():'static+Foo+Bar and proc():'a+Foo+Bar would be something new and interesting
[09:34:28] <huon> if || & proc were traits that'd be fine
[09:34:29] <eddyb> (and, of course, ~Trait:'a)
[09:34:37] <huon> oh, you mean that sort of trait bound
[09:34:47] <huon> yup
[09:35:26] <eddyb> if they were traits, I'd like to see &'a ||
[09:37:08] <huon> that's different to an environment bound, though.
[09:37:58] <eddyb> huon: pretty sure &'a Trait is treated like the hypothetical &'a Trait:'a
[09:38:09] <huon> yes, but what if you want &'a Trait:'b
[09:38:17] <eddyb> &'a ||:'b
[09:38:34] <eddyb> if it's a trait, it just works (TM)
[09:38:53] <huon> yes, of course (sorry, I thought you were saying replace ||:'a with just &'a ||)
[09:41:41] *** Joins: gimpf (gimpf@moz-72C5FFCF.adsl.highway.telekom.at)
[09:43:53] *** Quits: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP) (Ping timeout)
[09:44:53] *** Quits: dherman (dherman@moz-5D310B1.static.exetel.com.au) (Quit: dherman)
[09:48:46] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[09:50:36] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[09:52:35] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[09:53:09] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[10:09:24] *** Quits: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Ping timeout)
[10:14:44] <eddyb> maybe I should've waited 20min last night...
[10:15:00] <eddyb> huon: btw, do you know what happened with the weekly meeting?
[10:15:23] <huon> eddyb: mozilla's vidyo is off due to heartbleed
[10:15:30] <eddyb> hah
[10:15:45] <eddyb> now that bug is starting to piss me off
[10:16:08] <eddyb> huon: so next week, then/
[10:18:31] *** Joins: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[10:20:01] * eddyb feels tempted to write a quick dumper for non-Copy closure captures
[10:20:24] <eddyb> I think strcat opened an issue on his view, let me find it
[10:27:26] *** Joins: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com)
[10:29:13] *** Quits: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com) (Ping timeout)
[10:36:04] *** Joins: merengue (merengue@B1383AD4.5A7C5265.9532F1CE.IP)
[10:36:31] *** Quits: rajaram_ (rajaram@47769425.AE842F9B.81C3DAA1.IP) (Ping timeout)
[10:36:51] *** Joins: rajaram_ (rajaram@47769425.AE842F9B.81C3DAA1.IP)
[10:38:04] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[10:38:04] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Connection reset by peer)
[10:39:50] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Connection reset by peer)
[10:40:06] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[10:40:46] *** Joins: esummers__ (esummers@moz-3B015C90.wi.res.rr.com)
[10:40:46] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Connection reset by peer)
[10:41:42] *** Joins: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP)
[10:41:42] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14f26c8df to 148801d89: 02http://git.io/N3iJvQ
[10:41:42] *** Parts: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP) ()
[10:41:44] *** Joins: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP)
[10:41:44] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/OQMuBw
[10:41:44] <ghrust> 13rust/06auto 14d3c831b 15Huon Wilson: std: use a `match` in `assert_eq!` to extend the lifetime of the args....
[10:41:44] <ghrust> 13rust/06auto 144b9a7a2 15Huon Wilson: collections: replace all ~[T] with Vec<T>.
[10:41:44] <ghrust> 13rust/06auto 147f04467 15bors: auto merge of #13350 : huonw/rust/devec-collections, r=alexcrichton...
[10:41:46] *** Parts: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP) ()
[10:44:17] *** Quits: rajaram_ (rajaram@47769425.AE842F9B.81C3DAA1.IP) (Ping timeout)
[10:44:47] *** Joins: dherman (dherman@moz-5D310B1.static.exetel.com.au)
[10:44:47] *** ChanServ sets mode: +ao dherman dherman
[10:45:25] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Connection reset by peer)
[10:48:29] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[10:50:03] *** Quits: dherman (dherman@moz-5D310B1.static.exetel.com.au) (Quit: dherman)
[10:50:35] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[10:57:40] *** Quits: SimonSapin (simon@moz-9A1FE870.exyr.org) (Quit: WeeChat 0.3.8)
[11:00:35] *** Joins: SimonSapin (simon@moz-9A1FE870.exyr.org)
[11:01:42] *** Quits: merengue (merengue@B1383AD4.5A7C5265.9532F1CE.IP) (Quit: Textual IRC Client: www.textualapp.com)
[11:01:49] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[11:03:33] <huon> eddyb: it was postponed, not completely cancelled
[11:03:56] <huon> (i.e. theoretically there will be a meeting when the video thing gets turned back on)
[11:10:20] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[11:12:34] * huon is wearing out his keyboard typing '@bors: retry' :(
[11:13:23] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[11:13:23] *** ChanServ sets mode: +o pnkfelix
[11:20:17] *** Joins: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP)
[11:20:17] <ghrust> [13rust] 15huonw 04force-pushed 06try from 14597a645 to 1442c5eca: 02http://git.io/k471pw
[11:20:17] <ghrust> 13rust/06try 14ac4c321 15Huon Wilson: std,serialize: remove some internal uses of ~[]....
[11:20:17] <ghrust> 13rust/06try 14f15542f 15Huon Wilson: std,native,green,rustuv: make readdir return `Vec`....
[11:20:17] <ghrust> 13rust/06try 1430d78d5 15Huon Wilson: std,syntax: make std::fmt::parse use `Vec`s.
[11:20:19] *** Parts: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP) ()
[11:26:48] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 31.0a1/20140408030205])
[11:28:10] *** Joins: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com)
[11:29:54] *** Quits: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com) (Ping timeout)
[11:37:03] *** Parts: limeburst (me@247D1419.D73964AC.27A8748.IP) ()
[11:37:23] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Ping timeout)
[11:37:34] *** Joins: chrido (chrido@moz-EFE921CE.informatik.tu-muenchen.de)
[11:46:51] <cmr> eddyb: http://i.imgur.com/bNvffkj.png
[11:47:32] *** Joins: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP)
[11:47:32] <ghrust> [13rust] 15huonw pushed 1 new commit to 06try: 02http://git.io/qroxCg
[11:47:32] <ghrust> 13rust/06try 14e141c04 15Huon Wilson: fingers crossed
[11:47:32] *** Parts: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP) ()
[11:47:57] <huon> eddyb: nothing to worry about
[11:48:35] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[11:48:55] <cmr> in-place building now.
[11:50:32] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[11:50:41] *** Quits: easy_muffin (martin@moz-A17B59E2.public.t-mobile.at) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[11:53:50] *** Joins: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP)
[11:53:50] <ghrust> [13rust] 15huonw pushed 1 new commit to 06try: 02http://git.io/Qy3XPw
[11:53:50] <ghrust> 13rust/06try 146665387 15Huon Wilson: toes crossed too
[11:53:50] *** Parts: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP) ()
[11:55:26] *** Joins: zimbabao (rajaram@A4B1D464.4A165A35.BE4CF869.IP)
[11:57:08] *** Quits: zimbabao (rajaram@A4B1D464.4A165A35.BE4CF869.IP) (Connection reset by peer)
[12:01:44] <eddyb> cmr: \o/
[12:02:17] <eddyb> it seems to be an improvement (I wonder what the small peak is. liveness? borrowck?)
[12:02:51] <eddyb> that looks like 100MB less
[12:03:16] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[12:03:24] <eddyb> (I expect some flat sections with in-place)
[12:03:37] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[12:04:45] * huon goes for the record
[12:04:46] <huon> https://github.com/huonw/rust/commit/4b9a7a2588798ab4ffaa4805397fa428348d6a2a#commitcomment-5949820
[12:05:20] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[12:06:29] <eddyb> huon: memetastic
[12:06:42] *** Joins: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP)
[12:06:42] <ghrust> [13rust] 15bors 04force-pushed 06auto from 147f04467 to 148801d89: 02http://git.io/N3iJvQ
[12:06:42] *** Parts: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP) ()
[12:06:43] *** Joins: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP)
[12:06:43] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/axFIDg
[12:06:43] <ghrust> 13rust/06auto 14d3c831b 15Huon Wilson: std: use a `match` in `assert_eq!` to extend the lifetime of the args....
[12:06:43] <ghrust> 13rust/06auto 144b9a7a2 15Huon Wilson: collections: replace all ~[T] with Vec<T>.
[12:06:43] <ghrust> 13rust/06auto 14f9a8cb1 15bors: auto merge of #13350 : huonw/rust/devec-collections, r=alexcrichton...
[12:06:45] *** Parts: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP) ()
[12:06:53] <eddyb> gogogo
[12:13:30] *** Joins: zimbabao (rajaram@B8394D31.699B57E7.BE4CF869.IP)
[12:15:58] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[12:17:56] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[12:19:02] *** Quits: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP) (Ping timeout)
[12:20:46] *** Quits: japaric (japaric@67147DFF.55B992BD.5C7588CA.IP) (Ping timeout)
[12:21:43] *** Joins: japaric (japaric@DB21C791.8FD1E798.5C7588CA.IP)
[12:22:01] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[12:22:11] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[12:26:08] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[12:28:56] *** Joins: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com)
[12:30:43] *** Quits: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com) (Ping timeout)
[12:31:08] * eddyb updated rustdoc to the TyClosure/TyProc distinction and nothing broke
[12:31:16] <eddyb> that makes me suspicious
[12:31:21] *** Quits: zimbabao (rajaram@B8394D31.699B57E7.BE4CF869.IP) (Ping timeout)
[12:34:08] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[12:34:26] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[12:34:32] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[12:34:56] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[12:39:24] <eddyb> r? https://github.com/mozilla/rust/pull/13424
[12:40:30] <eddyb> (oh, nice, still negative diff)
[12:47:43] <cmr> eddyb: http://i.imgur.com/5ABWAkF.png
[12:48:13] <eddyb> did.... did I give you the right flag?
[12:48:52] <cmr> RUSTFLAGS="--cfg syntax_ptr_in_place" make -j8
[12:48:59] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[12:49:29] <eddyb> it looks right
[12:50:02] <eddyb> cmr: I'm confused. there should totally be a difference
[12:50:22] <cmr> well
[12:50:54] <eddyb> unless glibc heap behavior is messing with us, again
[12:51:15] * cmr jemalloc.sh's
[12:51:22] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[12:51:23] <eddyb> cmr: how long would it take to test both builds with jemalloc? I don't need more than the first 50s
[12:51:28] <eddyb> oh, you're ahead of me :)
[12:52:54] *** Joins: victorporof (victorporo@moz-1C281963.dsl.bell.ca)
[12:56:01] <eddyb> rusti: let f: || = proc(){}; f()
[12:56:09] -rusti- pastebinned 12 lines of output: http://ix.io/bAL
[12:56:51] <eddyb> rusti: let f = proc(); let g: || = f; g()
[12:56:52] -rusti- <anon>:11:23: 11:24 error: unexpected token: `;`
[12:56:52] -rusti- <anon>:11         let f = proc(); let g: || = f; g()
[12:56:52] -rusti-                                 ^
[12:56:52] -rusti- playpen: application terminated with error code 101
[12:57:00] <eddyb> rusti: let f = proc(){}; let g: || = f; g(); g()
[12:57:01] -rusti- <anon>:11:39: 11:40 error: mismatched types: expected `||` but found `proc:Send()` (expected many fn but found once fn)
[12:57:02] -rusti- <anon>:11         let f = proc(){}; let g: || = f; g(); g()
[12:57:02] -rusti-                                                 ^
[12:57:02] -rusti- error: aborting due to previous error
[12:57:02] -rusti- playpen: application terminated with error code 101
[12:57:32] <eddyb> aaah. that's what I was missing
[12:58:06] <eddyb> rustilite: #![feature(once_fns)] fn main(){let f = proc(){}; let g: once || = f; g();}
[12:58:38] <eddyb> should I remove this "feature"?
[12:59:30] <eddyb> even if someone was using once_fns, I don't think they rely on coercing a proc to a once ||
[12:59:34] <eddyb> *an once
[13:00:14] <cmr> eddyb: http://i.imgur.com/dYpti00.png
[13:00:53] <eddyb> is that jemalloc?
[13:01:12] <eddyb> cmr: jemalloc drops under 800MB after the trans peak, for me
[13:07:02] *** Quits: [o__o] (~o__o@604A2740.DB688352.F4ADE383.IP) (Ping timeout)
[13:12:24] <huon> eddyb: ('a once' seems correcter to me)
[13:12:48] <eddyb> a once upon a time... english pronunciation is silly sometimes
[13:12:56] <cmr> eddyb: http://i.imgur.com/TVLacin.png
[13:12:59] <huon> (since the first sound of 'once' is a w, not a vowel. fwiw.)
[13:13:02] <cmr> eddyb: that's definitely with jemalloc LD_PRELOAD'd
[13:13:23] <eddyb> cmr: what version?
[13:13:36] <cmr> 3.6.0
[13:14:09] <eddyb> I have 3.5.1. but it has more impact than the tiny changes in your graphs :|
[13:15:17] <eddyb> cmr: this makes no sense to me. it's like you're running the executable for the first graph, over and over again. but I trust you know what you're doing :|
[13:15:37] <cmr> it is the same executable..
[13:15:49] <cmr>  CFG_COMPILER_HOST_TRIPLE=a CFG_COMPILER=123 CFG_VERSION=1 CFG_LIBDIR_RELATIVE=1 CFG_RUSTLIBDIR=/ CFG_PREFIX=1 CFG_PREFIX=1 mem-bench.py ./x86_64-unknown-linux-gnu/stage1/bin/rustc -O --cfg stage2 -L x86_64-unknown-linux-gnu/rt ../src/librustc/lib.rs -L x86_64-unknown-linux-gnu/llvm/Release+Asserts/lib > /tmp/data_eddyb.json
[13:15:55] <eddyb> I mean, the not in-place one
[13:17:24] <eddyb> cmr: I'm not seeing anything wrong with that command
[13:17:35] <eddyb> (assuming the paths are right)
[13:18:02] *** Joins: [o__o] (~o__o@604A2740.DB688352.F4ADE383.IP)
[13:18:05] <huon> cmr: `CFG_PREFIX=1 CFG_PREFIX=1`?
[13:18:27] <eddyb> huon: must be leftover from when he was trying to get those params to work
[13:18:31] <cmr> you know
[13:18:36] <cmr> it's some junk from my shell history
[13:18:38] <cmr> it just grows.
[13:19:14] <eddyb> cmr: you should see a doctor
[13:19:38] <huon> CFG_RUST_EXTRA_FLAG=1 CFG_CFG_MORE_FLAGS=1 CFG_CFG_CFG_MAYBE_COMPILATION_WORKS_BETTER_THIS_WAY=1
[13:19:52] <eddyb> huon: we should totally add support for that
[13:20:05] <eddyb> disable multithreading in LLVM
[13:20:13] <eddyb> (I hear it makes things faster)
[13:21:16] <eddyb> cmr: can you run it with LD_PRELOAD with no strings attached and just watch RSS?
[13:21:39] <eddyb> cmr: pretty sure it's supposed to drop below 800MB after the trans peak
[13:22:48] <eddyb> cmr: I'm almost hoping you made a mistake, because then there's still a chance for in-place to make a difference :D
[13:23:32] * eddyb is a hopeless dreaming fool
[13:26:32] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[13:26:59] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[13:28:03] <eddyb> git grep -E @fn only finds a couple of line in RELEASES.txt :D
[13:30:07] *** Joins: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com)
[13:31:55] *** Quits: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com) (Ping timeout)
[13:32:27] <eddyb> huon: do you have anything again [T, .. N] => [T, ..N] in error messages?
[13:32:45] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[13:32:49] <eddyb> *against
[13:33:25] <eddyb> rust's codebase prefers the latter, and I forgot about the change before it caused tests to fail
[13:33:55] <cmr> http://i.imgur.com/qd0msNL.png
[13:34:22] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[13:34:36] <eddyb> cmr: still doesn't look like jemalloc to me
[13:34:40] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[13:34:45] <eddyb> maybe, uhm, you have settings for it?
[13:34:47] <cmr> it's in LD_PRELOAD
[13:35:12] <eddyb> how hard is to get that graph? I might need to give you proof
[13:35:19] <eddyb> *is it
[13:35:25] <cmr> painful.
[13:35:47] <cmr> and I don't have any more time right now to play with it.
[13:35:57] <eddyb> np, thanks for the effort
[13:36:10] * eddyb wonders what could make jemalloc not kick in
[13:40:46] <eddyb> huon: lol this sent someone a mail https://github.com/eddyb/rust/commit/082c952c7af5b12722e612c1e9c647612201ed75
[13:41:24] <eddyb> makes me wonder what this person suffered when pcwalton was rebasing his de-@mut commits https://github.com/mut
[13:42:22] <flaper87> lol GH notification fail
[13:42:54] <cmr> heh
[13:44:22] <pnkfelix> hm.  that may be the best argument I've seen against trying to keep the @ sigil syntax alive in some form.
[13:44:54] <pnkfelix> though it wouldn't do that if the commit message were "remove last mentions of `@fn`", with backquotes, right?
[13:44:55] <eddyb> https://github.com/a github allows one-character usernames....
[13:45:05] <eddyb> and I can't get "eddyb" on gmail
[13:45:32] <eddyb> (but if I could, it would've been taken by a spambot so it's not like I would have it)
[13:45:49] *** Quits: hansjorg (hansjorg@moz-41C5CE61.redpill-linpro.com) (Ping timeout)
[13:45:55] <pnkfelix> `c` is a reserved word though, can't take that username
[13:48:43] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[13:49:00] <eddyb> contact shorthand. odd
[13:49:09] *** Joins: angdev (angdev@6E05A428.32CE1FD2.2C450F59.IP)
[13:49:47] <eddyb> https://bitbucket.org/iopq/fizzbuzz-in-rust/src/master/fizzbuzz.rs this is neat (monoids :D. though I would've used something like Zero and Add or One and Mul)
[13:50:29] <pnkfelix> in response to my attempt to create a username Ã€: "Username may only contain alphanumeric characters or dashes and cannot begin with a dash and is already taken."  (i emphasis the last bit.)  Yay grandfathering!
[13:50:31] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[13:51:48] <eddyb> pnkfelix: that's what happens when I add things to conditional format strings without considering corner cases
[13:52:05] <huon> eddyb: Add is (well, should be) commutative, whereas a monoid isn't necessarily
[13:52:14] <huon> (and this one isn't)
[13:52:17] <eddyb> huon: hmm
[13:52:28] <eddyb> do we have any non-commutative operators?
[13:52:36] <huon> you could use * as the monoid operator, but that's just weird :P
[13:52:47] <huon> overload Mul for matrices
[13:52:53] <pnkfelix> eddyb: `<` and `-` do not commute
[13:53:08] <huon> nor does /
[13:53:20] <eddyb> / looks close enough to |
[13:53:34] <eddyb> (which is kinda what this does)
[13:53:36] <pnkfelix> eddyb: (of course `<` is coupled to all the other comparison ops in Rust, for better or worse)
[13:53:56] <huon> eddyb: I was thinking mathematically, btw, not "Rust operators"
[13:54:02] <eddyb> you can't return anything other than bool for < and == :(
[13:54:15] <huon> (i.e. + is almost always commutative, * is not, in general)
[13:54:57] <pnkfelix> I like `^` as an append operator.  But I guess many would read it as Xor
[13:54:59] <eddyb> Some(~"a" / ~"b") / (Some(~"c") / None) => Some(~"abc")
[13:55:10] <eddyb> eeeeh
[13:55:15] *** Joins: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net)
[13:55:38] *** Joins: hansjorg (hansjorg@moz-41C5CE61.redpill-linpro.com)
[13:56:33] *** Quits: angdev (angdev@6E05A428.32CE1FD2.2C450F59.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[13:57:01] <eddyb> I wonder... impl<T: Zero + Add<T, T>> Neutral<Add<T, T>> for T {fn neutral() -> T {Zero::zero()}}
[13:57:13] <eddyb> higher-order traits
[13:58:13] <eddyb> and, uhm, Option<T> could probably implement Neutral for everything as None
[13:58:34] <eddyb> not that Some(1) + None does anything atm
[14:00:02] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[14:01:46] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[14:02:11] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[14:02:32] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[14:04:16] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[14:07:23] <huon> (can we please not go back to the bad-old-days of Option having +? ... do you know how many bikesheds were had about what should be done with it?)
[14:07:56] <eddyb> haha, did it actually have +?
[14:09:06] <huon> yes
[14:09:34] <huon> https://github.com/mozilla/rust/issues/6002
[14:12:19] <eddyb> nmatsakis is teasing us :D
[14:13:02] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[14:15:46] <eddyb> r? https://github.com/mozilla/rust/pull/13424 (it passed travis)
[14:16:54] <SimonSapin> do we still have plans for `~T` to become `box T`?
[14:17:41] <cmr> SimonSapin: my understanding is that the future of box is shakey.
[14:18:01] <cmr> in the type grammar I don't think anyone particularly wants to changeit...
[14:18:11] <cmr> `box expr` already works today.
[14:18:28] <eddyb> Uniq<T> is more likely than box T
[14:18:31] <eddyb> but even that...
[14:18:41] <SimonSapin> (Context: Iâ€™m responding to https://twitter.com/fijall/status/453860239981682689 )
[14:19:35] <eddyb> there's already a reply, but it ignores *T
[14:19:37] <huon> SimonSapin: ~ may be removed, but no firm decisions have been made
[14:23:04] <cmr> I mean, it's a valid criticism.
[14:23:32] <cmr> It's a tradeoff between concision and obviousness, I think.
[14:24:28] <huon> I have a feeling that ~ disappearing will feel less bad once we no longer have ~[] and ~str being ubiquitous
[14:25:05] <cmr> I like ~T, but don't care enough to defend it against Uniq<T> if people want that.
[14:25:15] <huon> ~T is so enticing
[14:25:19] <huon> people overuse it
[14:25:52] <cmr> I think that's a failure of training.
[14:25:58] <huon> and often misinterpret "owned pointer" to mean that ~T is owned, but just plain T isn't
[14:26:08] <huon> and even that ~T is sendable but T isn't
[14:26:38] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[14:26:38] <huon> it might be a failure of training, but it'll be much easier to train correctly when the "bad" behaviour isn't 1 char different to the good behaviour
[14:26:57] <cmr> yeah.
[14:27:04] <flaper87> agreed
[14:27:29] <flaper87> I don't dislike ~T but just like cmr, I don't care much about it to defend it
[14:28:20] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[14:28:20] <huon> generalised pattern matching would be nice though (maybe near compulsory, for writing traversals of owned recursive data structures)
[14:30:51] *** Joins: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com)
[14:31:28] <eddyb> box to unpack any smart pointer that implements Deref, pls
[14:32:00] <eddyb> `box ref` is a bit verbose... but nicer than &**
[14:32:43] *** Quits: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com) (Ping timeout)
[14:33:26] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[14:34:00] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[14:34:12] *** vfetwnuncszu is now known as dcrewi
[14:34:29] <eddyb> do we not have dead_code for fields?
[14:35:14] <cmr> it's not possible for a field to be unused
[14:35:20] <cmr> since it would be initialized
[14:35:22] <huon> never_read
[14:35:27] *** Joins: angdev (angdev@16F167B.4C57D258.D8E8354F.IP)
[14:35:28] <cmr> mm
[14:35:36] <huon> and something for enum variants too, I guess
[14:35:39] <huon> eddyb: file a bug
[14:39:03] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[14:39:27] <doomlord_> Option<~T> might still be common
[14:41:12] <eddyb> huon: reading back what I wrote, I feel braindead https://github.com/mozilla/rust/issues/13426
[14:41:17] <doomlord_> i would still have a use for ~[T] at an owned slice
[14:43:14] <eddyb> doomlord_: Uniq<[T]> would work
[14:43:27] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[14:43:42] *** vfetwnuncszu is now known as dcrewi
[14:44:13] <doomlord_> if its going to be wrapped, might as well make another name   Vec<T>  Slice<T> etc
[14:44:22] <eddyb> well, no
[14:44:27] <doomlord_> OwnedSlice<T>
[14:44:46] <eddyb> doomlord_: but that would use Uniq<[T]> internally
[14:44:49] <eddyb> and the latter is shorter
[14:45:05] <eddyb> librustc has 720 occurrences of @\b and 505 of ~\b
[14:45:11] <eddyb> makes you wonder :P
[14:45:52] *** Quits: sigma (sigma@moz-D5CE1DA5.range86-135.btcentralplus.com) (Client exited)
[14:45:56] <eddyb> also see this https://gist.github.com/eddyb/20fb641bc5e3794049da
[14:46:07] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[14:46:10] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[14:46:37] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[14:46:50] <doomlord_> hmm actually would  Uniq<[T]>/~[T]  be like c++ <T> class NonGrowableVector{ T* elems, size_t size; ..}   or  unique_ptr<slice<T> > ; where 'slice' is {T*,size_t size} 
[14:47:08] <doomlord_> the middle case 'NonGrowableVector<T> is something i used to roll myself
[14:47:17] <kimundi> doomlord_: Unique<[T]> would be identical to  DST ~[T]
[14:47:30] <kimundi> that is, (*T, size)
[14:47:54] <kimundi> Its literally just replacing the type name of ~T to Uniq<T>
[14:47:59] <eddyb> under DST, Uniq<[T]> == ~[T] iff Uniq == ~
[14:48:08] <eddyb> it's just a pointer change
[14:48:13] <Yurume> eddyb: even after P<> conversion?
[14:48:17] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[14:48:23] <eddyb> Yurume: no, different branch
[14:48:29] <doomlord_> if i've got it  right, DST generalizes a fat pointer 
[14:48:31] <eddyb> ~\b(?!str\b) gives me only 148
[14:48:51] <eddyb> doomlord_: yeah. AnySmartPointer<[T]> should work
[14:48:56] <kimundi> doomlord_: yes
[14:48:58] <eddyb> or AnySmartPointer<Trait>
[14:49:47] <doomlord_> if we started needing to write Option<Uniq<T>> for the potentially nullable pointer, i'd probaly make a 'OptUniq<T>
[14:49:47] <eddyb> huh, confirmed: 357 out of those 505 ~T is ~str
[14:50:09] <doomlord_> wheras with ~T its much nicer to just compose Option<~T>
[14:50:20] *** Joins: canhtak (canhtak@moz-7FC55BCE.wl.t.ulaval.ca)
[14:50:26] <eddyb> doomlord_: you would also want type RcMut<T> = Rc<RefCell<T>>; :P
[14:51:15] <eddyb> libstd has more than double the number of ~T (other than ~str) that librustc has
[14:51:35] <eddyb> I... I don't think ~T => Uniq<T> would leave more than a scratch
[14:52:12] <eddyb> (we still can't implement it fully in a library *just yet* and DerefMut will break everything atm)
[14:52:41] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[14:53:38] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[14:53:44] <cmr> ~.
[14:54:25] <Yurume> so that we can claim there is only a raw pointer and an immutable/mutable reference?
[14:55:00] <eddyb> Yurume: the borrowed references are important for their properties
[14:55:17] <eddyb> even if you can make a Ref<'a, T> without &'a T, how do you implement Deref?
[14:55:50] <eddyb> raw pointers can *almost* be lang items
[14:56:24] <eddyb> (but, again, you lose valuable properties)
[14:56:42] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[14:56:42] <Yurume> I meant that the library-provided Uniq<T> would enable that claim, never thought of moving references into libraries ;)
[14:56:57] *** vfetwnuncszu is now known as dcrewi
[15:00:03] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[15:00:22] <doomlord_> you want Uniq to make it more obvious an allocation happens?
[15:00:43] <doomlord_> or ~ ceases to be common enough to demand a special character?
[15:00:49] <kimundi> doomlord_: And to silence the "Rust has to many pointers" crowd
[15:01:01] <kimundi> But also the latter
[15:01:11] *** Joins: _eddyb_ (eddy@9C8921DE.97C485DB.D608C900.IP)
[15:01:12] <doomlord_> the latter would be a terrible shame. Rust knowing more about pointers is a central feature , not a problem
[15:01:36] <doomlord_> i mean its why rust exists .. it can reason more about pointers 
[15:01:46] *** Quits: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP) (Ping timeout)
[15:01:49] *** Joins: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP)
[15:01:49] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14f9a8cb1 to 148801d89: 02http://git.io/N3iJvQ
[15:01:49] *** Parts: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP) ()
[15:01:51] *** Joins: ghrust (ghrust@23EC81EC.6A2AE50.F3114085.IP)
[15:01:51] <ghrust> [13rust] 15bors pushed 4 new commits to 06auto: 02http://git.io/ZaY0XQ
[15:01:51] <ghrust> 13rust/06auto 14e446a87 15Kang Seonghoon: mk: Add a dummy CFG_COMPILER_HOST_TRIPLE to rustdoc invocation....
[15:01:51] <ghrust> 13rust/06auto 1417f94d0 15Kang Seonghoon: rustdoc: Clean the `initSearch` routine up.
[15:01:52] <ghrust> 13rust/06auto 14b9e1f6e 15Kang Seonghoon: rustdoc: Prune the paths that do not appear in the index....
[15:01:54] *** Parts: ghrust (ghrust@23EC81EC.6A2AE50.F3114085.IP) ()
[15:01:58] <kimundi> doomlord_: Well it can reason about a Uniq<T> just as well as about a ~T
[15:02:15] <kimundi> doomlord_: But anyway, I also hope we don't loose the ~T type :P
[15:02:39] *** _eddyb_ is now known as eddyb
[15:02:40] <doomlord_> it could just be that i've become attached to how it all looks now - its part of it feeling fresh coming from C++
[15:03:06] <kimundi> heh, yeah I know that feeling. I had that when talks about removing @T began
[15:04:13] <kimundi> I think once you can only allocate a ~T with "box expr", its overuse will decrease quite a bit
[15:07:09] <doomlord_> well emacs has 'pretty mode' (show any sequence as a unicode character) and a keyboard has chords, i guess :). but there is another big benefit to the single character stuff: less nesting
[15:08:07] <kimundi> yeah, nesting gets nasty fast
[15:08:49] <doomlord_> so perhaps i'm not being completely frivolous when i say "the syntax makes composing more pleasant" 
[15:09:05] <kimundi> No, I agree there
[15:10:05] <doomlord_> i suppose for language evolution you might have wanted to start more verbose then see what is common enough to allocate characters & operators for
[15:10:31] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Connection reset by peer)
[15:10:44] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[15:11:40] *** Joins: zeuxcg (zeuxcg@moz-80D1F912.hsd1.ca.comcast.net)
[15:12:06] <doomlord_> is ~ possibly going to be more common for concurrent code throwing owned values around ( i wish @ was kept for immutable refcounted data)
[15:12:23] <kimundi> doomlord_: I think thats stuff that can only probably be applied once the current Rust stabilized into a form with best practices. And then someone ultimately makes a new Rust somewhere in the future where stuff like that gets applied
[15:12:50] <kimundi> doomlord_: Concurrent code doesn't really care about unique heap allocations
[15:13:20] <kimundi> just about sendability and sharability, and those apply to any type.
[15:13:25] <doomlord_> i had thought unique ownership passing between tasks was one tool for safety+concurrency
[15:13:38] <doomlord_> i should read up..
[15:13:40] <kimundi> doomlord_: Yes, but you don'T need ~ for that
[15:14:12] *** Joins: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[15:14:25] <kimundi> doomlord_: Thats one of the reasons why removing ~ is being talked about - people assume it changes things, makes them sendable etc. But that has nothing todo with the ~ :)
[15:15:14] <kimundi> you can send any T that is Send between tasks - wrapping it into a ~T is totally pointless
[15:16:37] *** Quits: zeuxcg (zeuxcg@moz-80D1F912.hsd1.ca.comcast.net) (Client exited)
[15:17:02] <kimundi> The only thing it does is wrapping a value into something pointer sized - Which might be useful for optimization, and required for recursive data structures, but is nothing special apart from that.
[15:18:05] *** Joins: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com)
[15:19:03] * eddyb pokes huon about https://github.com/mozilla/rust/pull/13424
[15:19:51] *** Quits: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com) (Ping timeout)
[15:20:29] <doomlord_> i can see Option<~T> having more genuine use than ~T i guess
[15:20:46] <eddyb> doomlord_: if it's in an enum, sure
[15:20:53] *** Joins: edwardw (Mibbit@4660DACB.EE06708D.4BFBD933.IP)
[15:21:03] <eddyb> (I guess lists also use next: Option<~Node>)
[15:21:12] <doomlord_> all the cases whre in C/C++ you're asking for a potentially null pointer..
[15:22:30] <doomlord_> would the return type of C++ operator new T basically be Option<~T>
[15:23:51] <kimundi> doomlord_: If it returns a pointer to a heap allocated T that can be null, then yes
[15:23:53] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[15:25:30] *** flaper87 is now known as flaper87|afk
[15:25:39] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[15:26:16] <eddyb> Rc<Vec<vtable_origin>>
[15:26:22] <eddyb> can't wait for Rc<[T]>
[15:34:27] <pnkfelix> sigh: https://gist.github.com/pnkfelix/10283724
[15:34:45] <pnkfelix> (just a misidentified span, I think.  but still funny)
[15:35:19] <eddyb> pnkfelix: imagine if you had a tiny dirty spot or black pixel in that exact location on your screen
[15:35:34] <eddyb> (well, it wouldn't work with white on black...)
[15:35:55] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[15:37:16] *** Joins: lpy (lpy@1834E2CB.F09091A8.1348A864.IP)
[15:41:10] *** Quits: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP) (Ping timeout)
[15:41:47] *** Joins: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP)
[15:41:47] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14ec9e8f9 to 148801d89: 02http://git.io/N3iJvQ
[15:41:47] *** Parts: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP) ()
[15:41:47] *** Joins: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP)
[15:41:47] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/runqkA
[15:41:47] <ghrust> 13rust/06auto 140a26495 15Felix S. Klock II: Generalized the pretty-print entry points to support `-o <file>`.
[15:41:47] <ghrust> 13rust/06auto 144446634 15bors: auto merge of #13406 : pnkfelix/rust/fsk-make-pp-respect-ofile, r=alexcrichton...
[15:41:48] *** Parts: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP) ()
[15:42:32] *** Joins: andrew-d_w (andrew-d_w@moz-17320F4E.hsd1.ca.comcast.net)
[15:42:37] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Quit: Sharp)
[15:43:11] *** Joins: dherman (dherman@moz-5D310B1.static.exetel.com.au)
[15:43:11] *** ChanServ sets mode: +ao dherman dherman
[15:46:22] *** Quits: angdev (angdev@16F167B.4C57D258.D8E8354F.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[15:46:25] *** Joins: angdev (angdev@16F167B.4C57D258.D8E8354F.IP)
[15:48:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[15:48:24] *** Quits: andrew-d_w (andrew-d_w@moz-17320F4E.hsd1.ca.comcast.net) (Input/output error)
[15:50:27] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[15:53:16] *** Quits: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net) (Ping timeout)
[15:54:05] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[15:54:39] *** Joins: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu)
[15:58:37] *** Joins: intuxicated (intuxicate@868F522D.E981F2.3FFBF42F.IP)
[16:01:17] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[16:03:14] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[16:06:54] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[16:06:59] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[16:07:00] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:07:00] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[16:08:25] *** Quits: chris_ (chrido@moz-EFE921CE.informatik.tu-muenchen.de) (Ping timeout)
[16:08:25] *** Quits: chrido (chrido@moz-EFE921CE.informatik.tu-muenchen.de) (Ping timeout)
[16:18:46] *** Quits: SimonSapin (simon@moz-9A1FE870.exyr.org) (Quit: WeeChat 0.3.8)
[16:18:56] *** Quits: angdev (angdev@16F167B.4C57D258.D8E8354F.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[16:22:42] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[16:26:22] *** Joins: SimonSapin (simon@moz-2D42A5AD.exyr.org)
[16:27:15] *** Quits: edwardw (Mibbit@4660DACB.EE06708D.4BFBD933.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:28:37] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:28:42] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:29:34] *** Quits: victorporof (victorporo@moz-1C281963.dsl.bell.ca) (Quit: victorporof)
[16:33:36] *** Joins: edwardw (edwardw@CDC87030.9642909.B3B412E5.IP)
[16:34:50] *** Joins: zeuxcg (zeuxcg@moz-7B65F50.mycingular.net)
[16:37:17] *** Joins: easy_muffin (martin@moz-A17B59E2.public.t-mobile.at)
[16:38:11] *** Quits: zeuxcg (zeuxcg@moz-7B65F50.mycingular.net) (Client exited)
[16:40:18] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[16:48:41] *** Joins: zeuxcg (zeuxcg@1828591B.F9F834F5.C943C01E.IP)
[16:50:23] *** Joins: sunfish (chatzilla@moz-62518563.mtv2.mozilla.com)
[16:52:12] *** Joins: andrew-d_w (andrew-d_w@moz-17320F4E.hsd1.ca.comcast.net)
[16:52:15] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:54:58] *** Quits: andrew-d_w (andrew-d_w@moz-17320F4E.hsd1.ca.comcast.net) (Input/output error)
[16:54:58] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[16:55:19] *** Joins: andrew-d_w (andrew-d_w@moz-17320F4E.hsd1.ca.comcast.net)
[16:56:58] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[16:57:01] *** Quits: andrew-d_w (andrew-d_w@moz-17320F4E.hsd1.ca.comcast.net) (Ping timeout)
[16:58:45] *** Joins: eddyb (eddy@717B0165.D51DAF03.FB866788.IP)
[16:59:57] *** Joins: sigma (sigma@moz-D5CE1DA5.range86-135.btcentralplus.com)
[17:00:35] *** Joins: andelf (fledna@C6CA2C20.60D6AFF3.1CD28F1D.IP)
[17:01:16] *** Quits: lpy (lpy@1834E2CB.F09091A8.1348A864.IP) (Client exited)
[17:05:34] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[17:07:15] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:11:27] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: rcirc on GNU Emacs 24.3.1)
[17:13:48] *** Quits: sigma (sigma@moz-D5CE1DA5.range86-135.btcentralplus.com) (Client exited)
[17:14:31] <doener> haha, this is great (and from "opt -O2"): https://gist.github.com/anonymous/2d34132a61e15d00e99b
[17:15:11] <eddyb> doener: whoa whoa how did you get that?
[17:15:30] <eddyb> GVN is enough to remove the second comparison
[17:15:59] <eddyb> doener: does it go away if you run opt again on it?
[17:16:24] <doener> eddyb: yeah
[17:16:49] <eddyb> okay, so you found (another) pass that doesn't re-trigger properly
[17:17:08] <doener> the second one just for that code example
[17:17:33] <eddyb> oh?
[17:17:57] <doener> that was with some "random" combination passes run first, then -O2
[17:18:05] <doener> https://gist.github.com/anonymous/98ce5eff2eb1240e387a is from plain -O2
[17:19:08] <eddyb> doener: how does instcombine not remove that %.?
[17:19:34] <doener> it does, if you run with -O2 again
[17:19:42] *** Joins: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com)
[17:19:51] <eddyb> aah, so that's the second issue you were talking about earlier?
[17:19:52] <doener> or just -instcombine
[17:19:56] <doener> yeah
[17:20:00] <bstrie> how accurate is the manual nowadays
[17:20:15] <eddyb> bstrie: it's not automated, still manual :P
[17:20:15] <bstrie> like, would it be useful to someone who was just learning rust
[17:20:25] <bstrie> considering linking it from reddit
[17:20:30] <eddyb> uhh
[17:20:31] <bstrie> but only if it is not terrible
[17:20:55] <eddyb> bstrie: I think cmr knows more about that. I'd strongly advise against any rushed action. it was pretty bad once
[17:20:57] <bstrie> I see that it is linked from the front page of rust-lang.org
[17:21:14] <eddyb> people have been working on it, but I don't know if it's ready for exposure yet
[17:21:52] *** Joins: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP)
[17:21:52] <ghrust> [13rust] 15bors 04force-pushed 06auto from 144446634 to 148801d89: 02http://git.io/N3iJvQ
[17:21:52] *** Parts: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP) ()
[17:22:05] <eddyb> doener: what would LLVM do without people like you? :P
[17:22:37] <eddyb> (is this for the get-discriminant-with-match idea?)
[17:23:23] *** kimundi is now known as zz_kimundi
[17:23:49] <doener> eddyb: yeah, still trying to figure out if there's something we can do. Ideally without touching LLVM... I'm still waiting for feedback on the SROA i1 regression patch :-/
[17:24:30] <eddyb> doener: not that, you know, fixing this in LLVM is a bad idea :P
[17:25:18] <doener> let alone the instcombine one. I'm not sure if it's the right thing to fix it there, but even being told that it's wrong would help ;-)
[17:26:06] <doener> eddyb: well, it's a matter of whether it's doable in a pass that's pratical and not overly complicated
[17:27:16] <doener> I'm not sure about that, and during the week, I don't have enough time and energy left to thoroughly think about it (or read up on exisiting optimization techniques :-p)
[17:28:35] <doener> meh, I also need to find some time to get back to that missing invoke->call optimization.
[17:29:29] *** Joins: andrew-d_w (andrew-d_w@moz-5A92CAFF.dsl.static.sonic.net)
[17:29:50] *** Quits: andrew-d_w (andrew-d_w@moz-5A92CAFF.dsl.static.sonic.net) (Input/output error)
[17:30:11] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[17:37:03] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[17:38:36] *** Joins: bellows (Mibbit@87176A7B.5941EA70.CC1A2609.IP)
[17:38:43] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[17:39:53] *** Quits: dherman (dherman@moz-5D310B1.static.exetel.com.au) (Ping timeout)
[17:40:31] *** Joins: dherman (dherman@moz-5D310B1.static.exetel.com.au)
[17:40:31] *** ChanServ sets mode: +ao dherman dherman
[17:41:11] *** Quits: andelf (fledna@C6CA2C20.60D6AFF3.1CD28F1D.IP) (Quit: This computer has gone to sleep)
[17:41:25] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[17:41:33] *** Quits: sunfish (chatzilla@moz-62518563.mtv2.mozilla.com) (Ping timeout)
[17:42:13] <eddyb> whoa we're making clones of clones
[17:42:22] *** Quits: bellows (Mibbit@87176A7B.5941EA70.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:44:09] <doener> hm?
[17:44:15] *** Joins: Sharp (Sharp@moz-3301C7AB.static-ip.telepacific.net)
[17:48:00] <eddyb> doener: v = some temporary Vec. let v2 = Vec::from_slice(v.as_slice()); and then probably make another clone later on
[17:48:26] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[17:48:28] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[17:48:30] <doener> heh
[17:49:23] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[17:49:45] *** Joins: jdm (jdm@FCCEA34F.7672369.D8E68FF6.IP)
[17:50:11] <cmr> bstrie: the manual is out of date in certain sections, with the semantics it defines and the conceptual model it presents.
[17:50:16] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[17:50:24] <cmr> bstrie: my current project right now is updating the manual.
[17:50:47] <cmr> I'm currently working on getting an up to date formal grammar
[17:51:06] * cmr bbl
[17:51:14] <Yurume> is it reasonable to file a PR which depends on the prior PR yet to be merged?
[17:51:59] *** Quits: esummers__ (esummers@moz-3B015C90.wi.res.rr.com) (Quit: Computer has gone to sleep.)
[17:52:14] <eddyb> Yurume: I've done it a few time. it's okay if you want a review on it
[17:52:22] *** Joins: esummers__ (esummers@moz-3B015C90.wi.res.rr.com)
[17:52:25] <Yurume> okay
[17:52:38] <eddyb> (but I wouldn't abuse it)
[17:54:02] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Ping timeout)
[17:54:03] *** Quits: esummers__ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[17:55:12] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[18:01:32] *** Joins: angdev (angdev@16F167B.4C57D258.D8E8354F.IP)
[18:02:37] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[18:02:44] <eddyb> isn't tailn just slice_from?
[18:02:49] <eddyb> having both seems confusing
[18:04:26] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[18:05:34] *** eddyb is now known as eddby
[18:05:54] *** eddby is now known as eddyb
[18:06:17] *** eddyb is now known as _ddyb
[18:06:36] *** _ddyb is now known as _dd_b
[18:06:53] *** Joins: esummers__ (esummers@moz-3B015C90.wi.res.rr.com)
[18:07:00] *** _dd_b is now known as _dd__
[18:07:31] *** _dd__ is now known as _dd_
[18:09:22] *** Quits: JustAPerson (JustAPerso@EAC6AADA.C1481309.D9401097.IP) (Ping timeout)
[18:09:25] *** _dd_ is now known as eddyb
[18:10:57] *** Quits: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Quit: Leaving)
[18:15:30] *** Joins: sunfish (chatzilla@moz-62518563.mtv2.mozilla.com)
[18:16:45] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:17:39] <eddyb> acrichto: ooh, this is nice. actually nicer than strcat made me think it would be https://github.com/rust-lang/rfcs/pull/40
[18:18:15] <eddyb> it's still not as flexible as weak items, but I can see it working
[18:18:46] <strcat> crate splitting > making the language more complicated ;p
[18:18:49] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[18:20:51] <sfackler> not having strings in libmini/libcore seems awful
[18:23:03] <strcat> eddyb: I don't really want to split it like that though
[18:23:33] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[18:24:11] <eddyb> strcat: make a graph :P
[18:27:30] *** Joins: JustAPerson (JustAPerso@EAC6AADA.C1481309.D9401097.IP)
[18:30:25] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[18:33:53] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:35:20] *** Quits: easy_muffin (martin@moz-A17B59E2.public.t-mobile.at) (Quit: Textual IRC Client: www.textualapp.com)
[18:36:24] *** Quits: JustAPerson (JustAPerso@EAC6AADA.C1481309.D9401097.IP) (Ping timeout)
[18:37:52] *** zz_kimundi is now known as kimundi
[18:44:22] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[18:45:23] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[18:49:40] *** Joins: csp (textual@moz-45878A98.in-addr.arpa)
[18:56:02] *** Joins: JustAPerson (JustAPerso@EAC6AADA.C1481309.D9401097.IP)
[18:56:16] *** Quits: csp (textual@moz-45878A98.in-addr.arpa) (Quit: Textual IRC Client: www.textualapp.com)
[18:56:23] *** Joins: csp (textual@moz-45878A98.in-addr.arpa)
[18:58:47] *** Quits: zeuxcg (zeuxcg@1828591B.F9F834F5.C943C01E.IP) (Client exited)
[18:59:17] *** Joins: zeuxcg (zeuxcg@1828591B.F9F834F5.C943C01E.IP)
[19:00:21] *** Quits: zeuxcg (zeuxcg@1828591B.F9F834F5.C943C01E.IP) (Client exited)
[19:00:32] *** Joins: zeuxcg (zeuxcg@1828591B.F9F834F5.C943C01E.IP)
[19:02:10] *** Quits: c74d3 (c74d3a4ebb@moz-E2EAC718.oc.oc.cox.net) (Ping timeout)
[19:02:38] *** Quits: c74d (c74d@moz-E2EAC718.oc.oc.cox.net) (Ping timeout)
[19:03:52] *** Joins: c74d3 (c74d3a4ebb@moz-E2EAC718.oc.oc.cox.net)
[19:04:05] *** Joins: c74d (c74d@moz-E2EAC718.oc.oc.cox.net)
[19:04:20] *** Quits: angdev (angdev@16F167B.4C57D258.D8E8354F.IP) (Quit: Textual IRC Client: www.textualapp.com)
[19:07:14] *** Joins: brson (brson@moz-62518563.mtv2.mozilla.com)
[19:07:14] *** ChanServ sets mode: +qo brson brson
[19:07:19] *** Quits: vhbit (vhbit@8BB49AD.FA5504CB.888F138E.IP) (Quit: My Mac Pro has gone to sleep. ZZZzzzâ€¦)
[19:07:49] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:09:30] *** Quits: csp (textual@moz-45878A98.in-addr.arpa) (Quit: Textual IRC Client: www.textualapp.com)
[19:11:09] *** Quits: zeuxcg (zeuxcg@1828591B.F9F834F5.C943C01E.IP) (Client exited)
[19:17:03] *** Joins: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP)
[19:17:03] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14cc2acc1 to 148801d89: 02http://git.io/N3iJvQ
[19:17:03] *** Parts: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP) ()
[19:17:04] *** Joins: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP)
[19:17:04] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/ZquaIA
[19:17:04] <ghrust> 13rust/06auto 14054746a 15Steven Fackler: Stop using transmute_mut in RefCell...
[19:17:04] <ghrust> 13rust/06auto 1423cfc84 15bors: auto merge of #13419 : sfackler/rust/refcell-ub, r=huonw...
[19:17:05] *** Parts: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP) ()
[19:19:10] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Connection reset by peer)
[19:19:34] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[19:23:23] *** Quits: eddyb (eddy@717B0165.D51DAF03.FB866788.IP) (Ping timeout)
[19:25:39] <brson> what is puts!?
[19:27:40] <Eridius> ?
[19:28:39] <brson> it doesn't seem to actually exist
[19:28:48] <brson> just saw it in a test case on the issue tracker
[19:31:05] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[19:32:54] *** Joins: zeuxcg (zeuxcg@1828591B.F9F834F5.C943C01E.IP)
[19:32:58] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[19:34:35] *** Quits: zeuxcg (zeuxcg@1828591B.F9F834F5.C943C01E.IP) (Ping timeout)
[19:36:42] *** Joins: eddyb (eddy@717B0165.D51DAF03.FB866788.IP)
[19:36:47] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:37:52] *** Joins: merengue (merengue@BE1741D7.81E69F30.9532F1CE.IP)
[19:38:44] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:42:09] *** Joins: zeuxcg (zeuxcg@1828591B.F9F834F5.C943C01E.IP)
[19:42:20] *** Joins: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP)
[19:42:21] <ghrust> [13rust] 15brson 04force-pushed 06try from 146665387 to 143af896f: 02http://git.io/k471pw
[19:42:21] <ghrust> 13rust/06try 143af896f 15Brian Anderson: libc: Deglob reexports. #11870
[19:42:21] *** Parts: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP) ()
[19:43:53] *** Quits: zeuxcg (zeuxcg@1828591B.F9F834F5.C943C01E.IP) (Ping timeout)
[19:48:05] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:49:22] *** Joins: zeuxcg (zeuxcg@1828591B.F9F834F5.C943C01E.IP)
[19:49:27] *** Quits: eddyb (eddy@717B0165.D51DAF03.FB866788.IP) (Ping timeout)
[19:50:28] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:51:03] *** Quits: zeuxcg (zeuxcg@1828591B.F9F834F5.C943C01E.IP) (Ping timeout)
[19:51:29] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[19:52:14] *** Joins: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP)
[19:52:14] <ghrust> [13rust] 15brson 04force-pushed 06try from 143af896f to 141e7501f: 02http://git.io/k471pw
[19:52:14] <ghrust> 13rust/06try 141e7501f 15Brian Anderson: libc: Deglob reexports. #11870
[19:52:14] *** Parts: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP) ()
[19:56:47] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[19:57:17] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[19:58:57] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[20:00:30] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[20:04:00] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[20:04:12] <brson> cmr: why antlr instead of llnextgen?
[20:04:38] <brson> (i we specifically decided against it last time around, though i don't recall why offhand)
[20:05:20] <brson> ah, here's graydon's reason for not preferring antlr https://github.com/mozilla/rust/issues/2234#issuecomment-5204588
[20:05:51] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[20:07:15] <brson> does antlr do the ebnf we put in the manual, or will this require a different syntax to specify the grammar?
[20:08:49] <brson> my primary concern is that whatever grammar we end up with it can be extracted from the manual and tested against the production parser
[20:10:55] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:17:14] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[20:21:25] *** Joins: zeuxcg (zeuxcg@1828591B.F9F834F5.C943C01E.IP)
[20:23:55] *** Quits: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr) (Ping timeout)
[20:24:38] *** Joins: jensnock_ (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[20:25:04] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[20:25:20] *** Joins: japaric_ (japaric@E62454EC.59294C36.95AFB88D.IP)
[20:25:45] *** Quits: japaric (japaric@DB21C791.8FD1E798.5C7588CA.IP) (Ping timeout)
[20:28:50] *** Quits: gimpf (gimpf@moz-72C5FFCF.adsl.highway.telekom.at) (Quit: Leaving.)
[20:31:12] *** Joins: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr)
[20:32:26] *** Joins: mib_gqcai4 (Mibbit@87176A7B.5941EA70.CC1A2609.IP)
[20:32:53] *** Joins: japaric (japaric@F6086A50.E3AF6A16.5C7588CA.IP)
[20:33:00] *** Quits: japaric_ (japaric@E62454EC.59294C36.95AFB88D.IP) (Ping timeout)
[20:33:42] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[20:34:54] *** Joins: dotfelix (dotfelix@95177977.829DBEF3.40E092AA.IP)
[20:36:34] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[20:36:34] *** ChanServ sets mode: +o tjc
[20:37:53] *** Quits: mib_gqcai4 (Mibbit@87176A7B.5941EA70.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:39:42] *** Quits: dotfelix (dotfelix@95177977.829DBEF3.40E092AA.IP) (Ping timeout)
[20:39:52] <edwardw> run-pass/tcp-stress.rs begins to fail on OS X. Is there anyone else notice the same?
[20:42:06] *** Joins: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP)
[20:42:06] <ghrust> [13rust] 15bors 04force-pushed 06auto from 1423cfc84 to 148801d89: 02http://git.io/N3iJvQ
[20:42:06] *** Parts: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP) ()
[20:42:09] *** Joins: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP)
[20:42:09] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/Jngw1Q
[20:42:09] <ghrust> 13rust/06auto 14b953959 15Kasey Carrothers: Renamed ast::Purity to ast::FnStyle and ast::ImpureFn to ast::NormalFn and updated associated variable and function names.
[20:42:09] <ghrust> 13rust/06auto 1448542dc 15bors: auto merge of #13371 : kaseyc/rust/Rename_Purity, r=brson...
[20:42:11] *** Parts: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP) ()
[20:42:15] *** Quits: doener (doener@moz-C68F600D.unity-media.net) (Quit: leaving)
[20:42:34] *** Quits: kimundi (kimundi@moz-3A332457.dip0.t-ipconnect.de) (Ping timeout)
[20:43:30] *** Quits: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu) (Quit: lkuper)
[20:43:37] <Eridius> hrm, do we not have a &[T].to_vec() method?
[20:46:02] *** Joins: zz_kimundi (kimundi@moz-93145C1E.dip0.t-ipconnect.de)
[20:46:03] *** zz_kimundi is now known as kimundi
[20:46:06] *** Quits: merengue (merengue@BE1741D7.81E69F30.9532F1CE.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[20:46:13] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[20:46:32] *** Quits: edwardw (edwardw@CDC87030.9642909.B3B412E5.IP) (Quit: Leaving...)
[20:50:39] *** Joins: edwardw (Mibbit@4112974A.B4358688.30F15291.IP)
[20:51:12] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[20:51:26] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[20:54:24] *** Quits: edwardw (Mibbit@4112974A.B4358688.30F15291.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:54:32] *** Joins: NiccosSystem` (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[20:55:11] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[20:56:16] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[20:56:20] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[20:57:51] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[21:01:43] *** Joins: dotfelix (dotfelix@C1C963C6.AB3AC796.40E092AA.IP)
[21:03:56] *** Quits: dherman (dherman@moz-5D310B1.static.exetel.com.au) (Quit: dherman)
[21:05:19] *** Joins: dherman (dherman@moz-5D310B1.static.exetel.com.au)
[21:05:19] *** ChanServ sets mode: +ao dherman dherman
[21:05:27] *** Quits: dherman (dherman@moz-5D310B1.static.exetel.com.au) (Quit: dherman)
[21:05:45] <sfackler> Eridius: Vec::from_slice
[21:06:57] *** Quits: zv (zv@moz-955F83E9.hsd1.ca.comcast.net) (Ping timeout)
[21:07:43] *** Joins: zv (zv@moz-955F83E9.hsd1.ca.comcast.net)
[21:09:38] *** Quits: jdm (jdm@FCCEA34F.7672369.D8E68FF6.IP) (Quit: Lost terminal)
[21:10:31] *** Joins: merengue (merengue@BE1741D7.81E69F30.9532F1CE.IP)
[21:11:57] *** Joins: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP)
[21:11:57] <ghrust> [13rust] 15bors 04force-pushed 06auto from 1448542dc to 148801d89: 02http://git.io/N3iJvQ
[21:11:57] *** Parts: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP) ()
[21:11:58] *** Joins: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP)
[21:11:58] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/kOOG6w
[21:11:58] <ghrust> 13rust/06auto 144051bd9 15Benjamin Herr: libglob: allow "." and ".." to be matched...
[21:11:58] <ghrust> 13rust/06auto 141700f35 15Benjamin Herr: libglob: only return dirs for globs ending in /...
[21:11:58] <ghrust> 13rust/06auto 14e2c84a7 15bors: auto merge of #13383 : ben0x539/rust/glob-dots, r=brson...
[21:12:00] *** Parts: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP) ()
[21:24:57] <Eridius> sfackler: yes, that exists, but .to_vec() would be handy
[21:25:03] <Eridius> bytes!(1,2,3).to_vec()
[21:26:04] <Eridius> acrichto, brson: I just rebased my Reader.read_at_least() patch. Can I get either a review or an r+ today? I'm going on my honeymoon tomorrow and I don't want it to keep bitrotting. https://github.com/mozilla/rust/pull/13127
[21:26:08] <Eridius> or anyone else
[21:29:47] <brson> cmr: you mentioned somewhere that rust has 3 namespaces. this was a big suprise to me. do you have a citation?
[21:30:11] <strcat> types, modules, variables
[21:30:20] <strcat> rusti: mod int {}
[21:30:20] -rusti- ()
[21:30:45] <strcat> I guess that's a messed up one since types are usually in the module namespace too?
[21:30:47] <strcat> not sure
[21:32:46] *** Joins: Nekit1234007_ (Nekit12340@A7C2C5A2.FA3E1B27.4707F662.IP)
[21:33:23] *** Quits: Nekit1234007 (Nekit12340@63DD8B0E.CDD224AA.4707F662.IP) (Ping timeout)
[21:37:34] <Eridius> strcat: hrm, every element of a path outside of the final two elements must be a module (ignoring for a moment ::<foo> style elements). The second-to-last is usually a module, but might be a type, and the last is either a type or a method
[21:37:49] <Eridius> which I guess is a complicated way of saying... yeah types and modules are somewhat conflated when it comes to paths
[21:38:55] <Eridius> rusti: trait Foo { fn foo(x: Self); } impl Foo for uint { fn foo(x: uint { println!("foo"); } } mod Foo { fn foo(x: uint) { println!("mod"); } } Foo::foo(3u)
[21:39:03] -rusti- failed to pastebin 7 lines of output
[21:39:08] <Eridius> rusti: trait Foo { fn foo(x: Self); } impl Foo for uint { fn foo(x: uint { println!("foo"); } } mod Foo { fn foo(x: uint) { println!("mod"); } } Foo::foo(3u)
[21:39:12] -rusti- pastebinned 7 lines of output: http://ix.io/bBe
[21:39:17] <Eridius> argh
[21:39:23] <Eridius> rusti: trait Foo { fn foo(x: Self); } impl Foo for uint { fn foo(x: uint) { println!("foo"); } } mod Foo { fn foo(x: uint) { println!("mod"); } } Foo::foo(3u)
[21:39:26] -rusti- pastebinned 8 lines of output: http://ix.io/bBf
[21:39:36] <Eridius> whoa, that's not the right error
[21:40:46] <Eridius> same error with a struct Foo
[21:40:56] *** Joins: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP)
[21:41:25] <Eridius> hrm, same error is used for a slightly different case: https://github.com/mozilla/rust/issues/12569
[21:41:37] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[21:46:33] <brson> strcat: afaik rust has type and value namespaces
[21:47:11] <strcat> rusti: let x: int = 5; x
[21:47:11] -rusti- 5
[21:47:37] <SiegeLord> I was sure I remember reading a quote on Reddit about 4 namespaces... can't find it though :/
[21:47:39] <strcat> rusti: mod int { pub fn foo() {} } let x: int = 5; (x, int::foo())
[21:47:39] -rusti- (5, ())
[21:47:47] <strcat> brson: maybe it's supposed to, but it doesn't in practice
[21:48:58] <strcat> would have to ask pcwalton about it to know if it's intended
[21:49:44] <Eridius> SiegeLord: you sure it wasn't 4 pointers?
[21:49:47] <strcat> atm we 'abuse' this ability to make modules for int, uint, etc. since we can't put methods directly on them or do associated constants
[21:50:00] <SiegeLord> Eridius: yes
[21:50:01] *** Joins: lkuper (lkuper@92BD0250.654CD82F.51B6877.IP)
[21:50:51] <SiegeLord> Ah, nvm... found it. Just 3
[21:58:14] *** Quits: canhtak (canhtak@moz-7FC55BCE.wl.t.ulaval.ca) (Quit: canhtak)
[21:59:23] <cmr> brson: did I say that?
[21:59:32] <cmr> brson: there are only two to my knowledge.
[22:00:18] *** Quits: NiccosSystem` (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Ping timeout)
[22:00:30] <cmr> brson: I'm using antlr because I asked jbclements if there was a better tool to use, and he still recommended antlr.
[22:05:03] *** Quits: jensnock_ (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[22:05:20] <Eridius> SiegeLord: I suppose there's also the macro namespace
[22:05:34] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[22:06:52] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[22:08:15] *** Joins: mib_es3r93 (Mibbit@87176A7B.5941EA70.CC1A2609.IP)
[22:08:32] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[22:09:39] *** Quits: esummers__ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[22:10:06] <cmr> that's not really... a namespace.
[22:10:11] <cmr> I suppose it is?
[22:10:36] *** Quits: mib_es3r93 (Mibbit@87176A7B.5941EA70.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:11:31] <Eridius> cmr: why not?
[22:12:11] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[22:13:46] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[22:14:23] *** Joins: esummers__ (esummers@moz-3B015C90.wi.res.rr.com)
[22:14:55] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[22:14:56] *** Joins: canhtak (canhtak@moz-7FC55BCE.wl.t.ulaval.ca)
[22:15:04] *** Quits: luziie (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[22:15:41] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Connection reset by peer)
[22:16:05] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[22:16:08] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[22:17:43] *** Joins: luziie (luziie@moz-CD18B14B.customer.cdi.no)
[22:19:37] *** Quits: esummers__ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[22:20:32] *** Quits: luziie (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[22:21:34] *** Joins: luziie (luziie@moz-CD18B14B.customer.cdi.no)
[22:24:26] *** Parts: merengue (merengue@BE1741D7.81E69F30.9532F1CE.IP) (Textual IRC Client: www.textualapp.com)
[22:29:38] *** Quits: zeuxcg (zeuxcg@1828591B.F9F834F5.C943C01E.IP) (Client exited)
[22:31:59] *** Joins: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP)
[22:31:59] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/kOOG6w
[22:31:59] *** Parts: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP) ()
[22:32:12] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[22:36:52] *** Joins: ktt3ja (ktt3ja@moz-8D2A07E1.hsd1.va.comcast.net)
[22:36:53] *** Joins: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP)
[22:36:53] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/vTTynw
[22:36:53] *** Parts: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP) ()
[22:36:55] *** Joins: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP)
[22:36:55] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/9ex8tw
[22:36:55] <ghrust> 13rust/06auto 14149d936 15Alex Crichton: test: Add a test for #7663...
[22:36:55] <ghrust> 13rust/06auto 146bafa70 15bors: auto merge of #13403 : alexcrichton/rust/issue-7663, r=brson...
[22:36:55] *** Parts: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP) ()
[22:37:23] <huon> bstrie: "I've gone ahead and fixed this. Thanks for the heads up!"  you're pathetic! :P
[22:37:27] *** Joins: zeuxcg (zeuxcg@1828591B.F9F834F5.C943C01E.IP)
[22:39:08] *** Quits: zeuxcg (zeuxcg@1828591B.F9F834F5.C943C01E.IP) (Ping timeout)
[22:41:50] <ktt3ja> huon: do you think it would be better to mention `ref mut`, or to keep the note short? (it's already pretty long)
[22:42:04] <ktt3ja> I can't decide, lol
[22:44:27] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[22:44:53] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[22:45:16] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[22:47:10] *** Joins: esummers__ (esummers@moz-3B015C90.wi.res.rr.com)
[22:47:26] <huon> ktt3ja: mention `ref mut`, I think we need to redesign how we emit error messages anyway to make the super-long ones easier to read
[22:48:57] <cmr> Eridius: no, it certainly is.
[22:53:58] *** Quits: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP) (Ping timeout)
[22:55:23] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[22:56:55] *** Joins: Kxepal (Miranda@moz-C5330138.pppoe.mtu-net.ru)
[22:57:58] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[22:58:32] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Quit: victorporof)
[23:02:02] *** Joins: tjc (tjc@E9AA60AD.2D024FDB.284344F5.IP)
[23:02:02] *** ChanServ sets mode: +o tjc
[23:05:13] *** Quits: tjc (tjc@E9AA60AD.2D024FDB.284344F5.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[23:10:44] *** Quits: JustAPerson (JustAPerso@EAC6AADA.C1481309.D9401097.IP) (Ping timeout)
[23:12:50] *** Joins: zeuxcg (zeuxcg@1828591B.F9F834F5.C943C01E.IP)
[23:13:05] *** Quits: zeuxcg (zeuxcg@1828591B.F9F834F5.C943C01E.IP) (Client exited)
[23:13:11] *** Joins: zeuxcg (zeuxcg@1828591B.F9F834F5.C943C01E.IP)
[23:13:12] *** kimundi is now known as zz_kimundi
[23:13:20] *** Quits: zeuxcg (zeuxcg@1828591B.F9F834F5.C943C01E.IP) (Client exited)
[23:13:45] *** Joins: zeuxcg (zeuxcg@1828591B.F9F834F5.C943C01E.IP)
[23:15:23] *** Quits: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com) (Quit: Leaving.)
[23:17:05] *** Quits: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP) (Quit: Lost terminal)
[23:17:31] *** Joins: JustAPerson (JustAPerso@EAC6AADA.C1481309.D9401097.IP)
[23:20:23] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[23:23:59] *** Joins: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP)
[23:23:59] <ghrust> [13rust] 15brson 04force-pushed 06try from 141e7501f to 146622110: 02http://git.io/k471pw
[23:23:59] <ghrust> 13rust/06try 144ec241f 15Brian Anderson: libc: Deglob reexports. #11870
[23:23:59] <ghrust> 13rust/06try 146622110 15Brian Anderson: wip
[23:23:59] *** Parts: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP) ()
[23:28:06] *** Quits: c74d3 (c74d3a4ebb@moz-E2EAC718.oc.oc.cox.net) (Ping timeout)
[23:28:10] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (No route to host)
[23:28:17] *** Joins: c74d3 (c74d3a4ebb@moz-E2EAC718.oc.oc.cox.net)
[23:29:59] *** Quits: c74d3 (c74d3a4ebb@moz-E2EAC718.oc.oc.cox.net) (Ping timeout)
[23:30:03] *** Quits: c74d (c74d@moz-E2EAC718.oc.oc.cox.net) (Ping timeout)
[23:33:46] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:33:47] <brson> restarting buildbot
[23:33:49] <brson> acrichto: ^
[23:33:53] <brson> ungating auto an bsd
[23:41:20] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[23:41:20] *** ChanServ sets mode: +o tjc
[23:45:08] *** Joins: c74d3 (c74d3a4ebb@moz-E2EAC718.oc.oc.cox.net)
[23:46:45] *** Joins: c74d (c74d@moz-E2EAC718.oc.oc.cox.net)
[23:47:07] *** Joins: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[23:47:10] <cmr> aww
[23:47:13] <cmr> that's a sadface.
[23:52:03] *** Joins: ChrisMorgan (chris@moz-5889E428.static.tpgi.com.au)
[23:52:22] *** Quits: ChrisMorgan (chris@moz-5889E428.static.tpgi.com.au) (Connection reset by peer)
[23:55:03] *** Joins: ChrisMorgan (chris@moz-5889E428.static.tpgi.com.au)
[23:59:32] *** Quits: ChrisMorgan (chris@moz-5889E428.static.tpgi.com.au) (Ping timeout)
[23:59:39] *** Quits: dotfelix (dotfelix@C1C963C6.AB3AC796.40E092AA.IP) (Quit: )
