[00:33:49] *** Quits: irobevjodu (ident@moz-5bq.k90.254.5.IP) (Ping timeout: 121 seconds)
[00:48:57] <Ilari> Seesh, apparently iOS 9 will finally add proper ciphers to TLS support (and I guess Mac OS X 10.11)
[00:53:08] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[01:00:35] <Ilari> Wonder if that slice patterns soundness issue can be used to write a function that takes two u64s, and writes the second to address given by the first...
[01:09:27] <Ilari> (without unsafe of course). Such function of course totally breaks memory safety.
[01:12:59] *** Joins: irobevjodu (ident@moz-5bq.k90.254.5.IP)
[01:16:16] <bascule> Ilari: did they add session ticket support?
[01:16:21] <bascule> cuz that'd be nice
[01:45:26] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[01:49:28] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[01:57:50] *** Joins: esclear (esclear@moz-0lvqao.dip0.t-ipconnect.de)
[02:00:22] *** Quits: esclear_ (esclear@moz-b16fol.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:08:22] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[02:20:38] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[03:15:36] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[03:33:42] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[03:54:25] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[04:13:17] *** Joins: molok (molok@moz-kjf.mdl.255.187.IP)
[04:15:10] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[04:22:23] *** Quits: atomic (atomic@moz-h065j7.torservers.net) (Quit: Leaving)
[04:24:37] *** Joins: atomic (atomic@moz-1qu2sg.inaddr.ip-pool.com)
[04:24:50] *** Quits: atomic (atomic@moz-1qu2sg.inaddr.ip-pool.com) (Connection closed)
[04:34:24] *** Joins: atomic (atomic@moz-md1mas.ipredator.se)
[04:35:31] <bascule> crazy idea: type systems and elliptic curve cryptography are tangled up along with lattice-based cryptography and distributed systems based on semilattices (e.g. CRDTs)
[04:35:51] <bascule> all little bits of math that kind of go together in weird and interesting ways
[04:59:57] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[05:12:18] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[05:12:45] *** Quits: molok (molok@moz-kjf.mdl.255.187.IP) (Ping timeout: 121 seconds)
[05:18:51] *** Quits: irobevjodu (ident@moz-5bq.k90.254.5.IP) (Client exited)
[05:20:36] *** Joins: irobevjodu (ident@moz-5bq.k90.254.5.IP)
[05:31:13] <Ilari> Ouch, looks like TLS key exchange is more screwed than I thought before.
[05:34:59] <Ilari> Specifically, the fact that TLS 1.2 does not countersign ClientHello nor sign chosen parameters.
[05:40:29] <Ilari> Hmm... TLS feature extenson (in IESG ballot, with just one DISCUSS on behalf of IANA) could be useful with EMS and eventual signature fix.
[06:00:44] *** Quits: esclear (esclear@moz-0lvqao.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[06:01:31] *** Quits: atomic (atomic@moz-md1mas.ipredator.se) (Ping timeout: 121 seconds)
[06:02:08] *** Joins: atomic (atomic@moz-j5rng1.tor-exit.network)
[06:02:26] *** Joins: esclear (esclear@moz-0lvqao.dip0.t-ipconnect.de)
[06:26:21] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[06:30:47] *** Joins: eddyb (eddyb@moz-vpa.2f0.121.86.IP)
[06:31:04] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[07:02:02] <bascule> Ilari: ugh, should I study how old versions of TLS does shit?
[07:02:05] <bascule> that makes me sad
[07:02:16] <bascule> this is the same reason why I don't want to get my hands dirty with EMV
[07:03:19] <bascule> I was looking at this this morning:
[07:03:21] <bascule> https://github.com/Netflix/msl
[07:03:47] <bascule> https://github.com/Netflix/msl/wiki/Cryptography#ciphertext-envelopes
[07:03:57] <bascule> The key ID and SHA-256 values are included to provide sanity checks but do not include integrity checks; it is assumed that ciphertext envelopes will be part of any authenticated data covered by a signature. These values are of limited use and only remain for legacy reasons.
[07:04:05] <bascule> ^^^ same as it ever was
[07:04:28] <bascule> if you're going to reinvent TLS, can you please not reinvent malleable data?
[07:14:03] <Ilari> And also not do the kinds of basic mistakes SSL v3 did, and then 3 iterations of TLS didn't fix.
[07:16:35] *** Joins: skeuomorf (skeuomorf@moz-pa5.ssi.32.197.IP)
[07:16:56] <bascule> Ilari: lol yeah...
[07:17:01] <Ilari> Despite those mistakes being pointed out.
[07:17:05] <bascule> SSL/TLS has all these problems
[07:17:27] <bascule> instead of learning about them, I'll just ignore them and invent my own protocol where history repeats itself
[07:17:39] <bascule> it'll be great
[07:18:05] <eternaleye> WhyTF does that stuff have _anything_ that is not an AEAD?
[07:18:15] <Ilari> If I was to design protocol like TLS, it would be heavily based on ideas in current TLS 1.3 draft.
[07:18:20] <eternaleye> "AES/CBC/PKCS5Padding"
[07:18:25] <eternaleye> YOU ARE DOING IT WRONG
[07:18:59] <bascule> Ilari: the whole "FFDHE" thing still bothers me
[07:19:00] <eternaleye> If I was to design a protocol like TLS, I wouldn't design a protocol like TLS.
[07:19:15] <eternaleye> It tries to do too many damn things.
[07:20:11] <Ilari> I mean something that even vaguely looks like TLS design (authenticated channel). 
[07:20:16] <bascule> Ilari: also I'm confused what the CFRG actually thinks about signatures these days?
[07:20:31] <eternaleye> I'd design one key exchange protocol, and three bulk transfer protocols - one each for unordered dgram, ordered dgram, and ordered stream. All three would support channelization, and could be keyed from the same exchange (simultaneously)
[07:20:57] <eternaleye> Ordered DGRAM would just be CHAIN, as would stream - stream would simply ignore the record boundaries.
[07:21:08] <eternaleye> Unordered DGRAM would be generic over MRAE
[07:21:09] <bascule> eternaleye: the fun design consideration these days is "multiprincipal" interactions!
[07:21:27] <bascule> what if you have peers who are introducers?
[07:21:28] <Ilari> eternaleye: CFRG actually did call for proposals.
[07:21:29] <bascule> brokers?
[07:21:58] <eternaleye> Ilari: Oh? I must have missed that.
[07:22:10] <bascule> what if you want to hand off a session from one peer to another, but in such a way that the introducer can't read the resulting conversation?
[07:22:18] <eternaleye> bascule: That's for the KEX protocol. It shouldn't infect the bulk protocols.
[07:22:22] <Ilari> Or maybe chairs just said that call for proposals will be next.
[07:22:26] <bascule> and do that all 0-RTT style?
[07:22:42] <bascule> eternaleye: yes, that makes key exchange more complicated, confirm
[07:22:43] <bascule> also
[07:23:09] <bascule> hey Ilari, you were asking this the other day
[07:23:15] <bascule> why long-lived (EC)DH keys
[07:23:31] <bascule> should we use a protocol with those for key exchange?
[07:23:46] <bascule> and remove signature algorithms from the key exchange process?
[07:24:13] <bascule> and only rely on signatures for verifying certificates
[07:24:22] <eternaleye> Ilari: Looking at my archives back to Jan 27, not seeing a CFP
[07:24:50] <eternaleye> Ilari: Further back than Feb, I don't think I'd really solidified my views on several things anyway
[07:25:18] <eternaleye> Ilari: And until I saw Rogaway's CHAIN paper, it hadn't really crystallized into a concrete form
[07:25:43] <Ilari> Ah, CfP is apparently next step.
[07:26:06] <eternaleye> Ilari: Thread name?
[07:26:15] <Ilari> "The next step for CFRG is to solicit proposals for EC signature schemes[...]"  Subject: [Cfrg] Summary of the poll: Elliptic Curves - signature scheme: friendliness to low memory implementations (ends on June 3rd)
[07:26:50] <eternaleye> Ilari: Ah, not seeing what that has to do with what I was saying though.
[07:27:06] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[07:27:11] <eternaleye> Ilari: I have no strong views on what a new signature scheme should look like
[07:27:13] <bascule> Ilari: so
[07:27:21] <eternaleye> Ilari: Because I recognize I don't know shit about designing them
[07:27:21] <bascule> what option did the pick for signatures?
[07:27:23] <bascule> I'm confused
[07:27:57] <Ilari> bascule: Others were too (in my design, I picked #3)
[07:28:59] <Ilari> Also, I need to fix one attack... I know a brute-force way to fix it, but dunno if that is the best way.
[07:29:18] <bascule> Ilari: I still don't understand what #3 is
[07:29:44] <bascule> hash then sign with EdDSA?
[07:29:57] <bascule> optionally
[07:30:06] <bascule> in case EdDSA on the full message is too expensive
[07:30:09] <bascule> or something?
[07:30:11] <Ilari> Online (IUF) or offline (all at once) at option of protocol.
[07:30:51] <bascule> I have real world use cases for this stuff
[07:30:52] <Ilari> The way I implemented it was essentially to sign either hash or message with EdDSA-like primitive.
[07:30:59] <bascule> I'm not sure what the optimal protocol would be
[07:31:27] <bascule> we give builder nodes short-lived bearer credentials to build and sign code artifacts
[07:31:39] <bascule> they hit a service with that credential and post the digest of a manifest file
[07:31:49] <bascule> the service authenticates that credential and signs the manifest
[07:31:51] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[07:32:04] <bascule> I guess that's considered "offline"
[07:32:33] <bascule> by signs the manifest I mean
[07:32:36] <bascule> the digest of the manifest
[07:33:37] <Ilari> Hmm... 1 + 32 + 33 + 33 + 1 + 16 = 116 <= 128. 1 + 56 + 57 + 57 + 1 + 16 = 188 <= 256 (but greater than 128). So the brute force fix (if using SHA-512) would cause two extra hash blocks if using Curve448.
[07:35:11] <Ilari> I estimate that would be about 2200 clocks in key expansion on Haswell...
[07:36:22] <Ilari> Key expansion results would still fit in the same amount of space.
[07:37:23] <Ilari> Being a reference implementation, I probably don't implement API niceties like key preexpansion and scatter-gather operation.
[07:37:28] <bascule> Ilari: http://diyhpl.us/wiki/transcripts/gmaxwell-sidechains-elements/
[07:38:12] <bascule> We also replaced the ECDSA signature system with Schnorr, we are using the same cryptographic curve but the security proofs are more strong and more convincing. It also supports an efficient multisig, where you can use only the same amount of data as 1-of-1 but have a 20-of-20 threshold. Schnorr also does efficient batch-level verification of data. So the network can verify many transactions at once much faster than it could verify one at a time,
[07:40:06] <Ilari> Funkily enough, I went back and refactored pseudocode in my specs to correspond to functions in my Rust prototype code (altough spec does have some functions rust implementation doesn't).
[07:41:00] <Ilari> The reason for this is the internal little-endian integer load/save in my ECC lib.
[07:41:50] <bascule> sweet, code-fixes-specs ;)
[07:44:12] <Ilari> Actually, the specs remained mostly unchanged, those were just some refactorings.
[07:46:10] <Ilari> Well, one change I did was replacing some 2-octet lengths with MPI lengths (which are usually just 1 octet).
[08:20:06] <eternaleye> Ilari: What encoding? MIDI, unary-prefix, other?
[08:21:05] <Ilari> The usual MSB set except on last thing.
[08:21:11] <eternaleye> Ah, MIDI
[08:21:40] <eternaleye> I'm fond of unary prefix, since CLZ can be used to get a count of additional bytes to read
[08:21:46] <bascule> MIDI? o_O
[08:21:56] <bascule> I like MIDI but uhh
[08:22:03] <bascule> probably not what you're talking about?
[08:22:05] <eternaleye> bascule: One of the first formats to specify the one-bit-per-byte continuation form of variable-length ints
[08:22:31] <eternaleye> bascule: [true, 7bits] [true, 7bits] [false, 7bits]
[08:22:52] <eternaleye> bascule: As opposed to unary-prefix, [0, 1, 1, 5bits, 8bits, 8bits]
[08:22:57] <eternaleye> er, 0/0/1
[08:23:19] <eternaleye> bascule: Same space usage, but you can CLZ + slice for great justice
[08:24:24] <eternaleye> And if you never need > 2^64, you can just make that up-to one byte, and elide the last one if all eight bits of that leading byte are zero
[08:24:31] <Ilari> And these MPIs never need to be decoded, so.
[08:25:57] <eternaleye> bascule: Basically, unary-prefix saves you a bit at the upper limit if you have an upper limit.
[08:26:28] <eternaleye> (of course, the same could be done with MIDI-style, but it's a bit less clean)
[08:26:41] <bascule> eternaleye: I guess I need to look into it, but on the surface it sounds terrible
[08:26:52] <eternaleye> bascule: All variable length ints are terrible
[08:26:53] <bascule> like what Monty did with the Ogg container format?
[08:26:58] <eternaleye> bascule: And that's without signed values
[08:26:59] <bascule> or djb netstrings
[08:27:21] <bascule> like there's a kind of LANGSEC-friendly encoding I really like
[08:27:26] <bascule> I guess it's "recursive regular"
[08:27:34] <bascule> you have an easy-to-comprehend length prefix
[08:27:45] <bascule> then you consume the data
[08:28:00] <eternaleye> Ah, yeah, then you'd want unary prefix.
[08:28:00] <bascule> I believe that's technically a context-sensitive grammar
[08:28:10] <bascule> but when the length prefix is variable-length
[08:28:11] <bascule> wtf
[08:28:15] <bascule> djb recommended this
[08:28:18] <bascule> why djb why
[08:28:39] <bascule> netstrings are still "recursive regular" I guess
[08:28:58] <eternaleye> Eh, it's not like unary encoding is hard.
[08:29:04] <eternaleye> It's literally 0+
[08:29:15] <eternaleye> or '0'+ depending on your preferred notation
[08:30:02] <eternaleye> And that gives you the count of additional bytes in your variable-sized integer
[08:30:17] <eternaleye> So you load that, mask off the unary prefix, and are done.
[08:30:48] <Ilari> Also little-endian (it is easier to deal with when encoding anyway, and since one never decodes)
[08:31:16] <bascule> netstrings encode the length as a base 10 decimal expressed in ASCII
[08:31:33] <eternaleye> bascule: Yep
[08:31:38] <bascule> wtf djb
[08:31:44] <bascule> I guess he was young
[08:32:23] <Ilari> Not base16 hex (like git pkt-lines do)?
[08:32:25] <bascule> pkt-lines, in comparison: have a fixed-length length prefix, use hex, and have a max "packet" size
[08:32:29] <bascule> confirm
[08:44:53] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[08:53:39] <Ilari> Ah, one problem with that brute-force fix: My ECC lib doesn't directly give the needed data (there's a hack to obtain it tho).
[08:54:12] <bascule> Ilari: needed data for what?
[08:54:35] <Ilari> Fixing one (banana) attack in signature primitive I designed.
[08:55:04] <bascule> what the hell is a banana attack, lol
[08:55:12] <Ilari> Specifically, order and modulus. Both can be obtained by creating scalar element / field element 0, substracting 1, exporting and adding 1 to exported value.
[08:55:20] <bascule> o
[08:56:11] <Ilari> bascule: Attack that nominally breaks the scheme, but has practical complexity way too high to be practical (and no or little indication it can be improved).
[08:56:31] <bascule> I still don't understand, what is the attack exactly
[08:57:32] <Ilari> Involves screwing around with different curves.
[08:57:38] <bascule> the order and modulus both seem like they should be fixed?
[08:57:57] <bascule> for a given curve
[08:58:41] <Ilari> Yes. In fact, there is transform between all curves sharing order and modulus.
[08:59:19] <bascule> aren't you basically dealing with like... two curves?
[08:59:53] <Ilari> And that transform is always feasible to compute (albeit possibly not to find) (unless you somehow managed to make some bizarro field that has no obvious mapping to any usual form).
[09:01:30] <bascule> how is this an attack unless we wander off into Dan Brown-style generic curve territory
[09:01:48] <Ilari> Yes, and the primitive already runs into trouble if one tries to sign same message with the same private key on both.
[09:01:49] <bascule> also big endian short Weierstrass please
[09:04:43] <Ilari> Two curves over the same field with the same number of points (order) are isogenous. And all fields with the same number of elements are isomorphic.
[09:04:51] <Ilari> *all finite fields
[09:05:34] <bascule> Ilari: what curves are you talking about?
[09:05:44] <Ilari> Elliptic curves in general.
[09:05:49] <bascule> haha I mean
[09:06:08] <bascule> Curve25519 and Ed448-Goldilocks are modulo different fields
[09:06:28] <bascule> and they seem like the two that matter?
[09:06:55] <Ilari> Yes, and I can get screwy behaviour (and I really dislike screwy behaviour) with just those two.
[09:07:05] <bascule> when does the problem you're describing crop up in practice?
[09:07:41] <Ilari> Well, I don't know if anyone is dumb enough to use the primitive in way that would expose the problem, but still.
[09:09:07] <Ilari> I.e. use the primitive with 25519 and 448 with the same(!) private key.
[09:11:53] <Ilari> Also, found implementation bug: Doesn't check if hash is allowed for curve.
[09:12:32] <bascule> Ilari: when are you going to publish your code? ;)
[09:12:37] <bascule> but uhh
[09:12:47] <bascule> why not expose an "Ed25519" API
[09:12:58] <bascule> and an Ed448DSA or what have you API
[09:13:14] <bascule> and that's it
[09:13:25] <bascule> set all of the hard decisions in stone without wiggle room
[09:13:44] <bascule> seems like at least for signatures, your code needs to be generic for a whole of two cases
[09:14:04] <bascule> and it sounds like you're picking the knobs on the second
[09:15:53] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[09:20:41] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[09:27:36] <Ilari> Haha: test stratospheric_security ... ok    ...
[10:16:41] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[10:21:47] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[11:27:46] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[11:37:16] *** Joins: skeuomor1 (skeuomorf@moz-v66.i0i.32.197.IP)
[11:39:18] *** Quits: skeuomorf (skeuomorf@moz-pa5.ssi.32.197.IP) (Ping timeout: 121 seconds)
[11:50:06] *** skeuomor1 is now known as skeuomorf
[12:02:47] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[12:07:34] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[12:24:27] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[13:11:32] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[14:05:27] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[14:13:57] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[14:21:05] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[14:37:25] *** Joins: skeuomor1 (skeuomorf@moz-d5k.lok.32.197.IP)
[14:39:39] *** Quits: skeuomorf (skeuomorf@moz-v66.i0i.32.197.IP) (Ping timeout: 121 seconds)
[14:40:15] <bascule> Ilari: ?
[15:03:53] <Ilari> bascule: Test of primitive where I set curve to E-521 and hash to Skein-1024/768 (the code takes curve and hash as a parameter).
[15:17:11] <Ilari> Just sticking number of bits in order into key expansion would certainly tell apart the two curves (and maybe also few others some folks may run it with, e.g. Curve41417).
[15:18:41] <Ilari> (There are two curves in safecurves that are both classed as safe and have the same ceil(log2(l)).)
[15:28:54] <Ilari> Fortunately both are pretty bad, and one of those is an mistake.
[15:37:13] <bascule> haha, ok
[15:37:46] <bascule> so when spinal tap grade security isn't enough... this goes up to... 12?
[15:38:53] <Ilari> Well, I made it generic over the hash and curve (subject to hash output length constraints).
[15:39:34] <Ilari> Generic over hash means algorithm agility. And it is nice to be generic over curve, so one doesn't need to spec multiple versions.
[15:40:59] <bascule> yeah sounds good
[15:41:05] <bascule> also another day another openssl vuln
[15:41:08] <bascule> Severity: Moderate
[15:41:08] <bascule> X509_cmp_time does not properly check the length of the ASN1_TIME
[15:41:08] <bascule> string and can read a few bytes out of bounds. In addition,
[15:41:08] <bascule> X509_cmp_time accepts an arbitrary number of fractional seconds in the
[15:41:08] <bascule> time string.
[15:41:10] <bascule> An attacker can use this to craft malformed certificates and CRLs of
[15:41:13] <bascule> various sizes and potentially cause a segmentation fault, resulting in
[15:41:15] <bascule> a DoS on applications that verify certificates or CRLs.
[15:41:39] <bascule> ^^^ that... sounds bad?
[15:41:42] <bascule> When verifying a signedData message the CMS code can enter an infinite loop
[15:41:44] <bascule> if presented with an unknown hash function OID.
[15:41:45] <bascule> lol
[15:44:24] <Ilari> Hmm... How you manage to make code hang in infinite loop if hash function is unknown?
[15:45:33] <Ilari> Well, it is OpenSSL. It does not have to make sense. :->
[15:49:20] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[15:51:08] <Ilari> Actually, my ECC lib does have 2 curves that share the same ceil(log2(l))  (one 416-bit curve and its twist both have 414).
[15:52:12] <Ilari> And there are two further pairs that have the same order (those always have isogeny transforms).
[15:55:02] <Ilari> Okay, why the darn does this code have a curve over 2^321-9???
[16:01:15] <bascule> http://www.nist.gov/itl/csd/ct/eccworkshop_webcast.cfm
[16:02:07] <Ilari> The hash criteria would still allow using that curve with SHA-384...
[16:04:43] <bascule> oh hey it's Dan Brown
[16:09:43] <bascule> and Brian LaMacchia o_O
[16:12:45] <bascule> sounds like he wants FrankenECDSA o_O
[16:16:31] <Ilari> With the recent changes, the primitive should be able to use the same private key with multiple curves. Even weak curves (with forgeries limited to those).
[16:16:38] *** ttaubert is now known as ttaubert|pto
[16:25:19] <bascule> lol wtf
[16:25:24] <bascule> performance doesn't matter
[16:25:30] <bascule> or at least, that's what they're arguing
[16:25:36] <bascule> I guess I should've put that in quotes
[16:28:20] <bascule> why isn't Adam Langley on this panel? :(
[16:29:15] <Tobba> huh
[16:29:25] <Tobba> tarsnap encrypts all data, but also... performs deduplication
[16:29:41] <Tobba> even though the keys are per-archive
[16:31:12] <Tobba> oh, it stores hashes of previously stored blocks locally
[16:33:03] <bascule> Tobba: Tahoe-LAFS does something similar
[16:34:26] <bascule> heh, questions about binary curves
[16:36:20] <bascule> "you can use the Montgomery ladder for Weierstrass curves as well" o_O
[16:36:32] <bascule> well that's true and all...
[16:37:44] <Ilari> Why do those kind of comments sound utterly clueless to me? :-)
[16:38:14] <bascule> hahahaha confirm
[16:38:30] <bascule> Ilari: we ended up doing the opposite in some of our stuff o_O
[16:39:02] <bascule> we used Curve25519 w\ Weierstrass o_O
[16:39:17] <bascule> because we had whitebox Weierstrass scalar multiplication
[16:40:10] <bascule> still Montgomery x-coordinates on the "wire"
[16:53:41] <bascule> Ilari: this is so weird...
[16:54:02] <bascule> Brian Lamacchia: "Performance doesn't matter" "We can't use the CFRG's curves, they only care about performance in software" o_O
[17:01:15] <Ilari> Oh, wow.
[17:53:06] <Ilari> Okay, made the code dump lots of annotated output.
[17:57:24] <Ilari> And with regards to performance of that signature code, it is written in way that doesn't even do the simplest optimizations.
[17:59:24] <Ilari> Also, Chacha20-Poly1305 TLS WG draft got posted.
[18:05:16] <Ilari> There is fundamential conflict in ECC curve choices: Software wants special primes for speed. Hardware wants random primes for side-channel resistance (or even binary curves for speed).
[18:08:34] <Ilari> And also, I don't think anybody sane trusts binary curves at this point.
[18:12:19] <bascule> heh, binary curves came up to the panel
[18:22:57] *** Joins: brson (brson@moz-u3dg2t.sfo1.mozilla.com)
[18:46:12] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[18:48:04] *** Quits: brson (brson@moz-u3dg2t.sfo1.mozilla.com) (Connection closed)
[18:59:27] *** Joins: erickt (erickt@moz-0vd.dgr.221.67.IP)
[19:03:40] *** Quits: erickt (erickt@moz-0vd.dgr.221.67.IP) (Ping timeout: 121 seconds)
[19:23:51] <Ilari> Trasnscript could be interesting reading (video does not work for me).
[19:30:17] <Ilari> What was that DJB's "This is way too complicated" quote about?
[19:42:01] <Ilari> Hmm... Maybe I could also work on another implementation, that did things like scatter-gather and avoided unnecressary memory usage... And then I could cross-compare the two.
[20:29:49] *** Joins: brson (brson@moz-u3dg2t.sfo1.mozilla.com)
[21:27:38] <Ilari> Okay, looks like day 1 of ECC workshop is finished... Comments?
[21:30:39] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[22:09:21] <bascule> Ilari: I've been reading Watson Ladd and Mike Hamburg's tweets
[22:09:26] <bascule> after watching the stream this morning
[22:20:39] <bascule> sounds like the hardware people are not making them happy :(
[22:23:16] <bascule> Ilari: I submitted a question they asked to the panel, heh
[22:23:32] <bascule> also I really don't like Brian Lamacchia
[22:23:53] <bascule> Ilari: he was arguing "ok, new curve, but can we keep ECDSA for now?"
[22:23:56] <bascule> o_O
[22:31:42] <Ilari> Also, tomorrow there are some hopefully more interesting presenters: Ed448-Goldilocks, Curve41417, CFRG.
[22:32:42] <bascule> yeah, awesome
[22:34:17] <Ilari> "Lochner seems far more concerned with appearance than reality."
[22:41:28] *** skeuomor1 is now known as skeuomorf
[22:42:45] *** Quits: irobevjodu (ident@moz-5bq.k90.254.5.IP) (Ping timeout: 121 seconds)
[22:45:30] *** Quits: skeuomorf (skeuomorf@moz-d5k.lok.32.197.IP) (Ping timeout: 121 seconds)
[22:50:09] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[22:50:56] <Ilari> The support for contexts & hash domains isn't large amount of code, since those can pretty much go for the ride.
[22:53:57] *** Joins: irobevjodu (ident@moz-mikldi.static-ro.twistednetworks.net)
[23:12:26] *** Quits: atomic (atomic@moz-j5rng1.tor-exit.network) (Connection closed)
[23:12:39] *** Joins: atomic (atomic@moz-26347v.snydernet.net)
[23:33:31] <bascule> Ilari: just read over all of Watson Ladd's tweets, heh
[23:33:52] <bascule> https://twitter.com/WatsonLadd/status/609057299588448256
[23:51:56] <Tobba> should I assume the ECC workshop was a slight trainwreck?
