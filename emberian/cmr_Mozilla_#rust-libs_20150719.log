[00:25:21] *** Quits: nagisa (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[01:20:11] *** Quits: brson (brson@moz-f0v.335.39.84.IP) (Ping timeout: 121 seconds)
[01:22:20] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[01:22:21] *** ChanServ sets mode: +qo brson brson
[02:26:10] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[02:45:46] <Gankro> reem: want me to take over the box::clone PR?
[02:51:19] *** Quits: kimundi (kimundi@moz-k57ctm.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:52:01] *** Joins: kimundi (kimundi@moz-kjthpr.63qo.amhv.57bc.2002.IP)
[03:13:44] <reem> I can do it
[03:13:51] <reem> Probably tomorrow
[03:37:21] *** Quits: Manishearth (manishearth@moz-uc30rq.anapnea.net) (Ping timeout: 121 seconds)
[03:38:23] *** Joins: Manishearth (manishearth@moz-uc30rq.anapnea.net)
[03:38:23] *** ChanServ sets mode: +ao Manishearth Manishearth
[03:48:12] *** Quits: Manishearth (manishearth@moz-uc30rq.anapnea.net) (Ping timeout: 121 seconds)
[03:48:33] *** Quits: Guest11988 (manishearth@moz-uc30rq.anapnea.net) (Ping timeout: 121 seconds)
[03:54:54] *** Joins: Manishearth (manishearth@moz-uc30rq.anapnea.net)
[03:54:54] *** ChanServ sets mode: +ao Manishearth Manishearth
[03:55:19] *** Joins: Manishea1th (manishearth@moz-uc30rq.anapnea.net)
[05:38:14] *** Quits: Dabo (dabo@znc.dabo.guru) (Ping timeout: 121 seconds)
[05:40:59] *** Joins: Dabo (dabo@znc.dabo.guru)
[06:38:19] <Gankro> I hate rust's macros *this* much: https://github.com/rust-lang/rust/commit/ecb6c1327d1bfdaf747a72a194a6cb9f28a1fcf3
[06:39:13] <Gankro> I have no regrets
[06:39:18] <Gankro> No that's a lie
[06:39:25] <Gankro> My only regret is even giving macros a chance
[06:40:05] <Gankro> macros: not even once
[06:52:55] <SimonSapin> s/macros/the current implementation of macro_rules/
[06:53:08] <SimonSapin> macros would be great if they were better
[06:53:11] <SimonSapin> well…
[07:45:27] <SimonSapin> Gankro: https://github.com/rust-lang/rust/blob/master/src/liballoc/raw_vec.rs#L332 don’t even bother with next power of two, double all the things?
[07:53:36] <Gankro> SimonSapin power of two is arbitrary and behaves poorly for "almost power of two" capacites
[07:54:21] <Gankro> E.g. 7 will only reserve a single extra element
[07:54:53] <SimonSapin> ok
[07:56:40] <SimonSapin> Gankro: Tendril uses heap::usable_size to get a bit extra capacity if it can. Is it worth it?
[07:56:56] <SimonSapin> or, have you considered it?
[07:57:17] <Gankro> SimonSapin: I have absolutely no idea. I've never seen std use it.
[07:57:26] <Gankro> Never dug into it
[07:57:45] <Gankro> Vec reserves the right to do it, though
[07:58:19] <SimonSapin> I think in jemalloc it’s the next multiple of alignment, so typically not a lot
[07:59:49] <Gankro> Isn't that nothing for all types?
[08:00:07] <Gankro> E.g. their size is a multiple of their alignment?
[08:00:24] <SimonSapin> hum, good point :)
[08:00:56] <SimonSapin> Tendril allocates for a header followed by bytes with the alignment of the header
[08:02:00] <Gankro> Yeah if you're doing something custom like that it might make sense
[08:02:38] <Gankro> Hashmap maybe could leverage it..? It would be so so so marginal
[08:02:52] <SimonSapin> I’m in the middle of replacing this with forgotten vecs in the name of Stable Rust
[08:04:00] <Gankro> Hardcore
[08:04:17] <Gankro> I thought servo was nightly 4 lyfe?
[08:05:57] <SimonSapin> yes, but I’d like html5ever to be usable on stable
[08:06:02] <SimonSapin> for non-Servo users
[08:37:07] *** Joins: nagisa (nagisa@moz-8t068g.static.zebra.lt)
[09:35:25] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[12:40:27] *** Joins: Rym (uid91135@moz-n2i7qm.charlton.irccloud.com)
[12:52:22] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[16:01:51] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[18:06:07] *** Quits: barosl (barosl@moz-tmp.qma.67.220.IP) (Quit: Leaving)
[18:33:18] *** Joins: barosl (barosl@moz-tmp.qma.67.220.IP)
[19:22:53] *** Quits: Rym (uid91135@moz-n2i7qm.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[20:52:52] *** Joins: Rym (uid91135@moz-n2i7qm.charlton.irccloud.com)
[23:04:43] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
