[00:02:26] *** Quits: Andoriyu (Andoriyu@moz-uo1igi.biz.rr.com) (Ping timeout: 121 seconds)
[00:04:08] *** Joins: Andoriyu (Andoriyu@moz-uo1igi.biz.rr.com)
[00:04:51] *** Quits: eckhardt (eckhardt@moz-33t0fq.hq.squareup.com) (Quit: Leaving...)
[00:07:40] *** Joins: swgillespie (swgillespie@moz-v45.b97.220.167.IP)
[00:17:38] *** Quits: _neal_ (neal@moz-of66u9.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:23:03] *** Quits: shadower (shadower@moz-3ah4n5.osop.rhcloud.com) (A TLS packet with unexpected length was received.)
[00:23:09] *** Joins: shadower (shadower@moz-3ah4n5.osop.rhcloud.com)
[00:45:29] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[00:46:03] *** Quits: Pierre_M (Pierre_M@moz-l5anv0.slkc.qwest.net) (Ping timeout: 121 seconds)
[00:51:33] *** Quits: ogham (rally@moz-91e3hp.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:13:20] *** Quits: sysko (bst@moz-ct7.kqo.80.101.IP) (Ping timeout: 121 seconds)
[01:21:49] *** Joins: Shackra (Jorge@moz-7bh.ng6.177.186.IP)
[01:31:05] *** Quits: Andoriyu (Andoriyu@moz-uo1igi.biz.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[01:45:55] *** Joins: sysko (bst@moz-g9d.6sp.95.211.IP)
[01:46:44] *** Joins: dcb (textual@moz-v6l3du.ca.comcast.net)
[01:48:01] *** Quits: swgillespie (swgillespie@moz-v45.b97.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:52:49] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[01:55:06] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[02:02:31] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[02:12:04] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[02:14:53] *** Quits: dcb (textual@moz-v6l3du.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:42:18] *** Joins: pcwalton (pcwalton@moz-lkd.9v2.177.68.IP)
[02:47:17] *** Joins: c74d3 (c74d3a4ebb6@moz-hhitpj.mggc.hibn.4404.2002.IP)
[02:47:52] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Ping timeout: 121 seconds)
[02:48:36] *** c74d3 is now known as c74d
[02:49:03] *** Quits: c74d (c74d3a4ebb6@moz-hhitpj.mggc.hibn.4404.2002.IP) (Connection closed)
[02:49:39] *** Joins: c74d (c74d3a4ebb6@moz-hhitpj.mggc.hibn.4404.2002.IP)
[02:55:40] *** Joins: duncan (paul@moz-5ta.nj4.196.64.IP)
[02:55:51] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[02:58:07] *** Quits: pcwalton (pcwalton@moz-lkd.9v2.177.68.IP) (Client exited)
[03:08:13] *** Joins: dcb (textual@moz-v6l3du.ca.comcast.net)
[03:09:30] *** Joins: p1start (p1start@moz-nftjhe.org)
[03:15:00] *** Quits: c74d (c74d3a4ebb6@moz-hhitpj.mggc.hibn.4404.2002.IP) (Connection closed)
[03:15:53] *** Joins: c74d (c74d3a4ebb6@moz-hhitpj.mggc.hibn.4404.2002.IP)
[03:30:28] *** Quits: dcb (textual@moz-v6l3du.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[03:38:53] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[03:38:58] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:40:40] *** Joins: O01eg (o01eg@moz-msjq6s.lkho.3egh.2698.2a02.IP)
[03:49:50] *** Joins: dcb (textual@moz-v6l3du.ca.comcast.net)
[03:58:54] *** Joins: Quxxy (chatzilla@moz-0nv.jkp.167.59.IP)
[04:09:14] *** Joins: _neal_ (neal@moz-of66u9.ca.comcast.net)
[04:38:08] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[04:38:11] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[04:45:05] *** Quits: dcb (textual@moz-v6l3du.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[04:51:18] *** Quits: c74d (c74d3a4ebb6@moz-hhitpj.mggc.hibn.4404.2002.IP) (Connection closed)
[04:51:40] *** Joins: c74d (c74d3a4ebb6@moz-hhitpj.mggc.hibn.4404.2002.IP)
[05:05:08] *** Joins: Pierre_M (Pierre_M@moz-l5anv0.slkc.qwest.net)
[05:17:39] *** Quits: duncan (paul@moz-5ta.nj4.196.64.IP) (Quit: Leaving.)
[05:30:34] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[05:31:07] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[05:35:09] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[05:35:31] *** Quits: O01eg (o01eg@moz-msjq6s.lkho.3egh.2698.2a02.IP) (Client exited)
[05:39:46] *** Quits: Quxxy (chatzilla@moz-0nv.jkp.167.59.IP) (Connection closed)
[06:00:02] *** Quits: _neal_ (neal@moz-of66u9.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[06:13:02] *** Joins: Quxxy (chatzilla@moz-0nv.jkp.167.59.IP)
[06:16:22] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[06:21:27] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:28:29] *** Joins: c74d3 (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[06:29:07] *** Quits: c74d (c74d3a4ebb6@moz-hhitpj.mggc.hibn.4404.2002.IP) (Ping timeout: 121 seconds)
[06:29:52] *** c74d3 is now known as c74d
[06:31:23] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[06:37:13] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[06:42:09] *** Joins: Ericson2314 (user@moz-5muv45.m9e4.oi28.0306.2602.IP)
[06:44:46] <Ericson2314> acrichto: sorry I didn't get to the std-cargo rfc again (a power outage I had didn't help with that), do you have time to talk about it for a few minutes?
[06:46:54] *** Quits: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl) (Ping timeout: 121 seconds)
[06:48:38] <acrichto> Ericson2314: sure! I'll be getting off a train in ~15 though
[06:49:33] <Ericson2314> ok
[06:49:36] <Ericson2314> great!
[06:49:46] <Ericson2314> i should sleep soon too, so works out
[06:50:23] <Ericson2314> first of all, found https://github.com/hackndev/rust-libcore so I am not the only one trying to build core et al with cargo
[06:50:40] <Ericson2314> I'll bookmark that with a comment in the rfc
[06:51:17] <Ericson2314> Second, how were you thinking that we allow cargo to accept overrides for std and the crates under the facade
[06:51:39] <acrichto> it could be possible for cargo to just specially recognize the crate name `std`
[06:51:46] <acrichto> and just pass that as --extern std=... to all compiles
[06:52:04] <acrichto> it doesn't quite work out 100% though as it doesn't play well with cross compilation
[06:52:09] <Ericson2314> what about the crates under the facade?
[06:52:12] <acrichto> b/c you probably want to override the target's std, not the host's std
[06:52:15] <Ericson2314> aren't they unstable?
[06:52:17] <acrichto> same way most likely
[06:52:19] <acrichto> currently, yes
[06:52:27] <acrichto> tbh this doesn't seem like such a strong use case
[06:52:31] <acrichto> overriding std/such for one cargo build
[06:52:44] <Ericson2314> frankly i see std as the less useful one
[06:52:44] <acrichto> at least not to warrant the infrastructure being proposed
[06:53:13] <Ericson2314> the crates behind the facde being more usefull
[06:53:33] <Ericson2314> as if std can be built, it's probably possible to download the needed binaries
[06:53:49] <acrichto> what crates do you use behind the facade other than core?
[06:54:00] <acrichto> I was under the impression that if anything above core build then std is basically guaranteed to build
[06:54:05] <acrichto> modulo a bit of porting effort
[06:54:15] <Ericson2314> alloc
[06:54:40] <Ericson2314> collections
[06:54:54] <acrichto> what parts of std can't you use?
[06:54:59] <acrichto> where you can use alloc/collections?
[06:55:09] <Ericson2314> fs and net
[06:55:31] <Ericson2314> many oddds and ends libc dependencies last I checked
[06:55:36] <acrichto> why do you want to override alloc/collections?
[06:55:58] <Ericson2314> well i used to need to use the cargo feature for custom alloc functions
[06:56:04] <Ericson2314> but your rfc will help with that :)
[06:56:10] <Ericson2314> still cross compiling with cargo is nice
[06:56:19] <Ericson2314> even if source is unmodified from upstream
[06:56:29] <acrichto> sure, but there are many problems to solve before we get the facade building with cargo
[06:56:39] <acrichto> #1 being the fact that each crate activates like 50 unstable features
[06:57:19] <acrichto> but yeah if it's just swapping out the allocator then it seems like the custom allocator RFC may be more appropriate here
[06:57:38] <Ericson2314> I think everybody doing freestanding work is on unstable
[06:57:38] <acrichto> I'm just having a hard time figuring out a use case for these overrides which fundamentally motivates the RFC in its current form
[06:57:46] <acrichto> but there is perhaps a lot of changes to be made?
[06:57:54] <Ericson2314> I would remove the explicit dependencies stuff
[06:58:15] <Ericson2314> I think just having cargo be able to figure out what is in the sysroot
[06:58:24] <Ericson2314> and only use "stray" override if it would override something in there
[06:58:46] <acrichto> even that though seems somewhat questionable for cargo to be doing...
[06:58:47] <Ericson2314> so you can cross compiler with unstable compiler, is what we practically need in short term
[06:59:14] <acrichto> ah sry train arriving, will be back soon though!
[06:59:34] <Ericson2314> ah ok
[07:05:19] *** Joins: listochkin (listochkin@moz-u28j0j.interview.volia.net)
[07:06:49] *** Quits: qrlpx (smuxi@moz-n7t.3nb.211.95.IP) (Connection closed)
[07:14:28] *** Joins: thalleralexander (thalleralex@moz-cfcrtj.static.qsc.de)
[07:16:21] *** Quits: listochkin (listochkin@moz-u28j0j.interview.volia.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[07:28:39] *** Joins: ogham (rally@moz-91e3hp.cable.virginm.net)
[07:29:57] *** Joins: ville (ville@moz-huvphf.bb.dnainternet.fi)
[07:32:19] <ville> can i use cargo to check whether a particular crate and its dependencies work for my particular version of rust with out manually making a dummy project which depends on the particular crate?
[07:53:09] *** Joins: p32blo (p32blo@moz-q4be0s.public.wayport.net)
[07:56:37] *** Joins: zyphrus (David@moz-ba5.pas.98.101.IP)
[07:59:32] <Ericson2314> acrichto: you are back?
[07:59:55] <acrichto> Ericson2314: yeah
[08:02:52] <Ericson2314> Fundamentally I think myself and many others would like to cross compile all rust they need for free standing stuff, they don't want to wait for all the crates beneath the facade to be stabilized, nor do they want this usecase to provide impetus to hurry the stabilization process.
[08:04:39] <acrichto> Ericson2314: fair enough, but this is sorta at odds with the RFC process, we generally don't want to sink lots of effort to get the bare minimum done but prefer to have a design that we're willing to stabilize
[08:07:13] <Ericson2314> That makes sense, but that is also in part why the RFC is currently written in terms of avoiding dipping into the sysroot
[08:07:17] *** Quits: p32blo (p32blo@moz-q4be0s.public.wayport.net) (Ping timeout: 121 seconds)
[08:09:29] <Ericson2314> I think that is a meaningful long term goal
[08:09:47] <acrichto> yeah definitely, I'd love to make rust easy to compile for various targets
[08:09:55] <acrichto> this isn't a silver bullet to unlock the world though
[08:10:04] <acrichto> it's a long road to travel and we're still pretty far from the end
[08:10:55] <Ericson2314> so we largely agree on the short term need, and the far, far, long term goal.
[08:11:04] <Ericson2314> what can I write that will bridge the gap?
[08:11:34] <acrichto> I think that there just needs to be a fairly comprehensive story for this
[08:11:40] <acrichto> instead of tackling each problem piecemeal
[08:12:32] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[08:13:02] <Ericson2314> somewhat relatedly, --extern is only passed for immediate dependencies right now, right?
[08:13:24] <acrichto> yeah
[08:13:27] <Ericson2314> that part I had written about conflicting dependencies with the sysroot
[08:13:30] <Ericson2314> I'm sorry
[08:13:46] <Ericson2314> the actual issue is where i forget about some crate behind the facade
[08:14:10] <Ericson2314> then i link my liballoc (let's say) with stock libcollections, and get too liballocs + libcores
[08:14:16] <Ericson2314> then i get a bunch of errors
[08:14:22] <Ericson2314> I think lang items defined twice
[08:14:40] <acrichto> right but this is just a fundamental problem, you can't link in two liballocs
[08:14:46] <Ericson2314> yeah
[08:15:13] <Ericson2314> I had misremembered the problem was that i was "--extern liballoc" and liballoc was in the sysroot
[08:15:21] <Ericson2314> that is NOT the problem
[08:15:38] <Ericson2314> you were correct when you said that --extern takes precedence over the sysroot
[08:15:47] <Ericson2314> for explicit deps
[08:16:37] <Ericson2314> *for immediate rust dependencies
[08:16:49] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[08:17:42] <Ericson2314> Is this implemented by rlibs having the path to their dependency rlibs as metadata?
[08:18:06] <acrichto> no just the SVH (strict version hash)
[08:18:12] <acrichto> rustc has to rediscover deps on recompiles
[08:18:44] <Ericson2314> ok, and that is strict enough to make it bypass --extern liballoc and grab the one in the sysroot
[08:19:06] <Ericson2314> ^ that sounds good to me, if that is the case
[08:19:30] <acrichto> yes
[08:22:59] <Ericson2314> Ok I can rewrite the rfc like this
[08:23:18] <Ericson2314> a) explain wanting to cross compile unstable behind the facade libraries
[08:23:50] <Ericson2314> b) explain that making cargo aware of what is in the sysroot is the only way to do this
[08:24:10] <SimonSapin> acrichto: What you you think of "package scripts" in addition to build scripts? I’d like to have generated Rust files be part of the `cargo publish`ed tarball, so that users to don’t need to have the generation process’s dependencies (which in this case is rustc-nightly, to pre-expand a syntax extension). `cargo publish` will already pick up my generated file if it’s in the source
[08:24:12] <SimonSapin> directory (I think), but hooking into `cargo publish` would help make sure the file is up to date
[08:24:23] <Ericson2314> c) try to argue that that solution is a good thing in itself, not just in the way it enables (a)
[08:25:19] <acrichto> Ericson2314: I feel like this isn't feeling out the whole story still, no matter what cargo understands about the facade it won't make cross compiling a breeze overnight (or so I think)
[08:25:19] *** Quits: zyphrus (David@moz-ba5.pas.98.101.IP) (Quit: Bye bye)
[08:25:20] <Ericson2314> d) make the the explicit deps optional or follow up
[08:25:39] <acrichto> SimonSapin: not super enthusiastic, but it seems plausible at least
[08:26:23] <Ericson2314> acrichto: I just don't get that. I can cross compiler everything but libcompilerrt today and it work great! There is just the pain of forking and cargoizing a gazillion things
[08:26:46] <acrichto> Ericson2314: the feature gate thing I mentioned earlier is a very real problem
[08:26:56] <Ericson2314> only for stable
[08:26:56] <acrichto> forking and cargoizing is also a very real problem
[08:27:07] <acrichto> right, but we can't just brush stable aside
[08:27:13] <Ericson2314> no but it doesn't hurt stable
[08:27:15] <acrichto> these things need to be designed to be stable
[08:27:17] <acrichto> not perma-unstable
[08:27:54] <Ericson2314> surely eventually we can stabalize the lang items and what not
[08:28:04] <Ericson2314> you were going to do so for core after all
[08:28:27] <acrichto> Ericson2314: these kinds of things can't be taken for granted
[08:28:36] <acrichto> we currently have no intentions to stabilize lang items
[08:28:45] <acrichto> there's no plan on the table to allow core/std to build on stable at all
[08:29:43] *** Joins: zyphrus (David@moz-ba5.pas.98.101.IP)
[08:30:38] <Ericson2314> Also, remember the same infrastructure can assist cargo in fetching just the crates a package needs from e.g. mozilla build farm
[08:31:12] *** Quits: Shackra (Jorge@moz-7bh.ng6.177.186.IP) (Connection closed)
[08:32:32] <Ericson2314> if for obscure platforms we only can build core/alloc for example
[08:33:25] <Ericson2314> It is nice for a package to say it only needs those so we can fetch those an be confident the build will succeed
[08:38:12] <Ericson2314> It is late (for us both I presume), and I doubt I can address/anticipate all your concerns right now. But if I start with doing those things I listed above in the rewrite of the RFC, I think the lanaguage will be better *structured* to addresss your current concerns, and any others that might come up. Basically, I hope those changes will help get us speaking the same language, if not persuade you altogether. Sound good?
[08:38:30] *** Joins: killercup (killercup@moz-gibg6f.dip0.t-ipconnect.de)
[08:45:52] <Ericson2314> acrichto: ^ sound good?
[08:58:21] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[09:01:34] *** Joins: listochkin (listochkin@moz-iv2.3rb.216.62.IP)
[09:19:09] *** Quits: Kingsqueee (kingsley@moz-k72lip.bchsia.telus.net) (Quit: Konversation terminated!)
[09:23:22] *** Joins: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl)
[09:28:46] *** Joins: dcb_ (textual@moz-v6l3du.ca.comcast.net)
[09:28:47] *** Quits: dcb_ (textual@moz-v6l3du.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[09:46:34] *** Joins: dcb (dcb@moz-hkcots.idtl.bddv.0645.2601.IP)
[09:49:54] *** Quits: dcb (dcb@moz-hkcots.idtl.bddv.0645.2601.IP) (Quit: dcb quit)
[09:50:14] *** Joins: dcb (dcb@moz-v6l3du.ca.comcast.net)
[10:46:31] *** Quits: sysko (bst@moz-g9d.6sp.95.211.IP) (Ping timeout: 121 seconds)
[10:49:34] *** Quits: listochkin (listochkin@moz-iv2.3rb.216.62.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[10:49:47] *** Joins: filsmick (filsmick@moz-0qapam.abo.wanadoo.fr)
[11:10:55] *** Quits: zyphrus (David@moz-ba5.pas.98.101.IP) (Ping timeout: 121 seconds)
[11:14:39] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[11:15:18] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[11:19:22] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[11:21:35] *** Joins: sysko (bst@moz-ct7.kqo.80.101.IP)
[11:31:47] *** Joins: killercu_ (killercup@moz-gibg6f.dip0.t-ipconnect.de)
[11:34:46] *** Quits: killercup (killercup@moz-gibg6f.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[11:41:47] *** Joins: listochkin (listochkin@moz-iv2.3rb.216.62.IP)
[12:05:17] *** Joins: eibwen (eibwen@moz-33pkva.dip0.t-ipconnect.de)
[12:09:54] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[12:16:05] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[12:17:13] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[12:17:19] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[12:24:24] <ville> how do i solve cargo reporting back with: native library `SDL2` is being linked to by more than one package, and can only be linked to by one package
[12:25:09] <Elaine> only use one package that links to SDL2.
[12:25:27] <Elaine> which should be https://github.com/AngryLawyer/rust-sdl2/tree/master/sdl2-sys
[12:25:43] <ville> i only have single dependency: simple
[12:25:44] *** Joins: larsberg (sid89@moz-1a60qu.0j4i.jtu0.0101.2620.IP)
[12:26:21] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[12:26:24] <ville> well direct dependency anyway
[12:26:49] <Elaine> hm, in theory should be fine: https://github.com/alexandercampbell/simple/blob/master/Cargo.toml
[12:27:05] <Elaine> what I suspect is that sdl2 or sdl2_image use different versions of sdl2-sys
[12:28:26] <ville> some packages are trying to pull sdl2-sys v0.5.0 and v.0.2.2, but cargo doesn't report back what those are
[12:29:53] <ville> something to perhaps fix in the error reporting; give some hints whose dependencies are conflicting
[12:30:17] <Elaine> if it saved a Cargo.lock that has all the information needed, at least.
[12:31:13] <ville> loos like simple it self wants 0.2.2 and sdl2_image wants 0.5.0
[12:32:35] <ville> oh well.
[12:44:35] *** Joins: duncan (paul@moz-5ta.nj4.196.64.IP)
[12:48:09] *** Quits: filsmick (filsmick@moz-0qapam.abo.wanadoo.fr) (Quit: )
[13:18:42] *** Quits: Pierre_M (Pierre_M@moz-l5anv0.slkc.qwest.net) (Quit: Leaving)
[13:23:39] *** Quits: larsberg (sid89@moz-1a60qu.0j4i.jtu0.0101.2620.IP) (Quit: )
[13:44:15] *** Joins: ytain (ytain@moz-u0rb5h.dsl.teksavvy.com)
[13:44:49] *** Quits: killercu_ (killercup@moz-gibg6f.dip0.t-ipconnect.de) (Quit: Bye)
[13:47:19] *** Joins: sysko1 (bst@moz-ct7.kqo.80.101.IP)
[13:49:01] *** Quits: sysko (bst@moz-ct7.kqo.80.101.IP) (Ping timeout: 121 seconds)
[13:52:29] *** Quits: duncan (paul@moz-5ta.nj4.196.64.IP) (Quit: Leaving.)
[14:07:34] *** Quits: listochkin (listochkin@moz-iv2.3rb.216.62.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:07:44] *** Joins: listochkin (listochkin@moz-iv2.3rb.216.62.IP)
[14:08:28] *** Quits: listochkin (listochkin@moz-iv2.3rb.216.62.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:16:22] *** Joins: Pierre_M (Pierre_M@moz-l5anv0.slkc.qwest.net)
[14:30:16] *** Joins: sysko (bst@moz-ct7.kqo.80.101.IP)
[14:30:31] *** Quits: sysko1 (bst@moz-ct7.kqo.80.101.IP) (Connection closed)
[14:36:04] *** Joins: _neal_ (neal@moz-of66u9.ca.comcast.net)
[14:46:27] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[14:55:21] *** Joins: listochkin (listochkin@moz-u28j0j.interview.volia.net)
[15:01:10] *** Joins: p32blo (p32blo@moz-d3vg88.public.utexas.edu)
[15:02:31] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[15:03:10] *** Quits: _neal_ (neal@moz-of66u9.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:06:16] *** Quits: sysko (bst@moz-ct7.kqo.80.101.IP) (Quit: Leaving.)
[15:06:30] *** Joins: larsberg (sid89@moz-1a60qu.0j4i.jtu0.0101.2620.IP)
[15:06:36] *** Joins: sysko (bst@moz-ct7.kqo.80.101.IP)
[15:07:53] *** Quits: ville (ville@moz-huvphf.bb.dnainternet.fi) (Ping timeout: 121 seconds)
[15:09:56] *** Joins: ville (ville@moz-a1hbvp.bb.dnainternet.fi)
[15:11:37] *** Joins: duncan (paul@moz-f77.u66.235.64.IP)
[15:15:41] *** Quits: duncan (paul@moz-f77.u66.235.64.IP) (Ping timeout: 121 seconds)
[15:21:08] *** Joins: duncan (paul@moz-f77.u66.235.64.IP)
[15:21:48] *** Parts: ville (ville@moz-a1hbvp.bb.dnainternet.fi) ()
[15:38:03] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[15:40:17] *** Joins: harrison_ (harrisoncla@moz-uur7pt.eastlink.ca)
[15:42:45] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[15:43:06] *** Quits: FreeFull (freefull@moz-ebnh10.range109-153.btcentralplus.com) (Quit: BBS)
[15:52:55] *** Joins: FreeFull (freefull@moz-ebnh10.range109-153.btcentralplus.com)
[15:58:09] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[16:08:07] <acrichto> Ericson2314: yeah seems like an ok way forward, we may want to have a more open discussion with the tools team if this starts getting very ambitious as both edunham and brson I'm sure have opinions in this area as well and are also working on some cross compilation stuff soon
[16:15:03] <brson> Ericson2314: if you are doing something cool I want to see, keep me posted
[16:33:56] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[16:39:11] *** Quits: thalleralexander (thalleralex@moz-cfcrtj.static.qsc.de) (Quit: Leaving)
[16:44:27] *** Joins: O01eg (o01eg@moz-h9uvsu.dpic.qgre.2698.2a02.IP)
[16:52:20] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[16:55:13] *** Joins: eckhardt (eckhardt@moz-33t0fq.hq.squareup.com)
[17:04:16] *** Joins: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP)
[17:05:03] *** Joins: Andoriyu (Andoriyu@moz-uo1igi.biz.rr.com)
[17:42:18] *** Quits: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP) (Client exited)
[17:45:01] *** Joins: Shackra (Jorge@moz-7bh.ng6.177.186.IP)
[17:46:50] *** Quits: harrison_ (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[17:48:17] *** Quits: p32blo (p32blo@moz-d3vg88.public.utexas.edu) (Ping timeout: 121 seconds)
[17:52:57] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[17:57:38] *** Quits: sysko (bst@moz-ct7.kqo.80.101.IP) (Ping timeout: 121 seconds)
[18:04:01] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[18:14:07] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Connection closed)
[18:18:01] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[18:40:48] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[18:41:08] *** Joins: p32blo (p32blo@moz-v1u.gia.62.128.IP)
[18:41:54] *** Quits: duncan (paul@moz-f77.u66.235.64.IP) (Quit: Leaving.)
[18:45:36] *** Quits: Quxxy (chatzilla@moz-0nv.jkp.167.59.IP) (Ping timeout: 121 seconds)
[18:49:18] *** Joins: swgillespie (swgillespie@moz-qb3.04d.220.167.IP)
[19:08:24] *** Quits: FreeFull (freefull@moz-ebnh10.range109-153.btcentralplus.com) (Quit: )
[19:10:56] *** Joins: p32blo1 (p32blo@moz-3t5e68.public.utexas.edu)
[19:10:56] *** Quits: p32blo (p32blo@moz-v1u.gia.62.128.IP) (Connection closed)
[19:14:17] *** Joins: iu (iu@moz-6263qv.cc.cmu.edu)
[19:19:49] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Ping timeout: 121 seconds)
[19:29:14] *** Joins: zyphrus (David@moz-ba5.pas.98.101.IP)
[19:32:00] *** Joins: FreeFull (freefull@moz-ebnh10.range109-153.btcentralplus.com)
[19:32:05] *** Quits: swgillespie (swgillespie@moz-qb3.04d.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:35:14] *** Quits: zyphrus (David@moz-ba5.pas.98.101.IP) (Ping timeout: 121 seconds)
[19:46:43] *** Joins: duncan (paul@moz-f77.u66.235.64.IP)
[19:51:07] *** Joins: LinuxBunny (Retep998@moz-vlal7g.east.verizon.net)
[19:55:04] *** Quits: WindowsBunny (Peter@moz-vlal7g.east.verizon.net) (Quit: Leaving.)
[20:03:32] *** Quits: duncan (paul@moz-f77.u66.235.64.IP) (Connection closed)
[20:07:31] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[20:13:27] <nrc> can I do `cargo test` and run the tests under valgrind, without running the test infra under valgrind too?
[20:20:57] *** Joins: swgillespie (swgillespie@moz-qb3.04d.220.167.IP)
[20:22:59] *** Joins: duncan (paul@moz-a9b.q8l.44.208.IP)
[20:39:04] <nrc> acrichto: ^
[20:39:19] <acrichto> nrc: not currently, no
[20:39:31] <acrichto> nrc: but you can do `cargo test --no-run` and then valgrind each binary that's spit out
[20:39:54] <nrc> OK, that is good enough, thanks!
[20:40:23] *** Quits: nonsensickle (nonsensickl@moz-4v0.gkd.16.182.IP) (Connection closed)
[20:40:40] *** Joins: nonsensickle (nonsensickl@moz-4v0.gkd.16.182.IP)
[20:47:15] *** Quits: swgillespie (swgillespie@moz-qb3.04d.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:51:02] *** Quits: eibwen (eibwen@moz-33pkva.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[20:54:54] *** Joins: swgillespie (swgillespie@moz-qb3.04d.220.167.IP)
[20:56:52] *** Joins: jarrednicholls (uid19542@moz-cmdbn3.highgate.irccloud.com)
[20:58:18] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[20:58:50] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[21:02:53] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[21:12:44] *** Joins: ascarter (ascarter@moz-705hf8.wa.comcast.net)
[21:33:07] *** Quits: iu (iu@moz-6263qv.cc.cmu.edu) (Quit: )
[21:40:24] *** Quits: nonsensickle (nonsensickl@moz-4v0.gkd.16.182.IP) (Connection closed)
[21:40:29] *** Quits: ytain (ytain@moz-u0rb5h.dsl.teksavvy.com) (Connection closed)
[21:40:43] *** Joins: nonsensickle (nonsensickl@moz-4v0.gkd.16.182.IP)
[21:40:51] *** Joins: ytain (ytain@moz-u0rb5h.dsl.teksavvy.com)
[21:41:42] *** Quits: nonsensickle (nonsensickl@moz-4v0.gkd.16.182.IP) (Connection closed)
[21:42:30] *** Joins: nonsensickle (nonsensickl@moz-4v0.gkd.16.182.IP)
[21:45:46] *** Quits: mcpherrin (mcpherrin@moz-bhcp6n.8mb6.t84e.0645.2601.IP) (A TLS packet with unexpected length was received.)
[21:59:15] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[21:59:40] *** Quits: Shackra (Jorge@moz-7bh.ng6.177.186.IP) (Ping timeout: 121 seconds)
[22:00:45] *** Joins: mcpherrin (mcpherrin@moz-bhcp6n.8mb6.t84e.0645.2601.IP)
[22:03:39] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[22:18:28] *** Quits: ogham (rally@moz-91e3hp.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:25:28] *** Joins: barosl_ (barosl@moz-tmp.qma.67.220.IP)
[22:26:34] *** Quits: barosl (barosl@moz-tmp.qma.67.220.IP) (Ping timeout: 121 seconds)
[22:29:21] *** Quits: swgillespie (swgillespie@moz-qb3.04d.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:29:43] *** Joins: swgillespie (swgillespie@moz-qb3.04d.220.167.IP)
[22:30:14] *** Quits: swgillespie (swgillespie@moz-qb3.04d.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:30:44] *** Joins: contradictioned_ (quassel@moz-th4tob.clients.your-server.de)
[22:31:07] *** Quits: contradictioned (quassel@moz-th4tob.clients.your-server.de) (Ping timeout: 121 seconds)
[22:37:19] *** Joins: Shackra (Jorge@moz-7bh.ng6.177.186.IP)
[22:44:34] *** Joins: ogham (rally@moz-91e3hp.cable.virginm.net)
[22:50:40] *** Quits: ascarter (ascarter@moz-705hf8.wa.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:56:53] *** Joins: swgillespie (swgillespie@moz-qb3.04d.220.167.IP)
[23:01:29] *** Quits: Pierre_M (Pierre_M@moz-l5anv0.slkc.qwest.net) (Ping timeout: 121 seconds)
[23:08:11] *** Joins: ascarter (ascarter@moz-705hf8.wa.comcast.net)
[23:09:55] *** Quits: listochkin (listochkin@moz-u28j0j.interview.volia.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:16:06] *** Quits: p32blo1 (p32blo@moz-3t5e68.public.utexas.edu) (Ping timeout: 121 seconds)
[23:19:36] *** Joins: dpc (dpc@moz-52v2l7.nvidia.com)
[23:23:45] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[23:28:05] *** Quits: barosl_ (barosl@moz-tmp.qma.67.220.IP) (Ping timeout: 121 seconds)
[23:29:05] *** Joins: barosl (barosl@moz-tmp.qma.67.220.IP)
[23:30:02] *** Quits: perillamint (perillamint@moz-pvo.3mu.72.61.IP) (Ping timeout: 121 seconds)
[23:31:27] *** Joins: perillamint (perillamint@moz-pvo.3mu.72.61.IP)
[23:33:01] *** Quits: dpc (dpc@moz-52v2l7.nvidia.com) (Connection closed)
[23:33:12] *** Joins: dpc (dpc@moz-52v2l7.nvidia.com)
[23:37:08] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[23:39:57] <kamalmarhubi> hi all
[23:40:16] <kamalmarhubi> is the build process cargo uses documented somewhere?
[23:40:35] <kamalmarhubi> I'm interested in exact steps from .rs source to the compiled artefact
[23:40:42] <kamalmarhubi> *linked I mean
[23:41:41] <kamalmarhubi> I'm tinkering with google's build tool bazel (http://bazel.io) and would like to attempt to make some build rules for it
[23:41:58] *** Quits: dpc (dpc@moz-52v2l7.nvidia.com) (Ping timeout: 121 seconds)
[23:42:07] <kamalmarhubi> (someone has been doing this, and I have yet to look at their rules)
[23:42:36] *** Quits: ogham (rally@moz-91e3hp.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:42:47] <acrichto> kamalmarhubi: cargo will compile each rust library (dependencies) as an rlib
[23:42:54] <acrichto> kamalmarhubi: and then that's just taken as input to the compiler
[23:43:00] <acrichto> and the final compile decides how to link all of it
[23:43:24] <kamalmarhubi> acrichto: kk. I couldn't see --emit=rlib as an option on rustc
[23:43:30] <kamalmarhubi> perhaps I'm missing it?
[23:43:33] <acrichto> --crate-type rlib
[23:43:39] <kamalmarhubi> ahh
[23:44:03] <kamalmarhubi> is there a path from rlib to a C ABI artefact?
[23:44:19] <kamalmarhubi> ie if you wanted to depend on a rust lib in a python program, can you get there from rlib?
[23:44:34] <acrichto> kamalmarhubi: creating that you'll either want to make a staticlib (.a file) or a dylib
[23:44:40] <acrichto> it's just an argument to the compiler
[23:44:44] <acrichto> --crate-type {dylib,staticlib}
[23:45:17] <kamalmarhubi> and the input can be an rlib?
[23:45:25] * kamalmarhubi needs to tinker harder!
[23:45:42] <acrichto> kamalmarhubi: yeah
[23:45:48] <kamalmarhubi> thanks for the info I'll go an dlook at the crate type flag
[23:46:55] <acrichto> kamalmarhubi: I think I have seen bazel support for Rust in the past
[23:47:00] <acrichto> I forget where I saw it though...
[23:48:36] *** Quits: jack (sid19593@moz-fhlsm9.highgate.irccloud.com) (Ping timeout: 121 seconds)
[23:49:10] *** Quits: spastorino (sid27384@moz-i6sgse.brockwell.irccloud.com) (Ping timeout: 121 seconds)
[23:50:14] *** Joins: spastorino (sid27384@moz-i6sgse.brockwell.irccloud.com)
[23:50:20] *** Joins: jack (sid19593@moz-fhlsm9.highgate.irccloud.com)
[23:56:51] *** Joins: p32blo (p32blo@moz-3t5e68.public.utexas.edu)
