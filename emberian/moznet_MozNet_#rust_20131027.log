[00:01:45] *** Quits: nif (Mibbit@moz-B6DFA19D.wireless.oberlin.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[00:01:49] *** Joins: brianm (brianm@moz-9B7D279E.dsl.static.sonic.net)
[00:02:28] *** Quits: nejucomo (Adium@moz-A94CACD5.dsl.pltn13.sbcglobal.net) (Ping timeout)
[00:03:17] *** Joins: six600110 (six600110@moz-C663577C.hsd1.il.comcast.net)
[00:03:24] <dg> cmr: so if I defined graphics as [u8] instead of ~[u8], could I move it to an owned box before calling create_from_pixels?
[00:03:41] <cmr> dg: [u8] isn't a type.
[00:03:55] <cmr> But you cannot move out of self at all with a method on &self
[00:04:04] *** Quits: brianm (brianm@moz-9B7D279E.dsl.static.sonic.net) (Quit: Linkinus - http://linkinus.com)
[00:04:06] *** jorendorff is now known as jorendorff_away
[00:04:37] <dg> it'd be something like [u8, ..2048]
[00:04:42] <dg> hmm, okay
[00:04:53] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Quit: dherman)
[00:06:55] *** Joins: Jesin (Jessin_@4FE0CEF2.B4552BE7.C85D72.IP)
[00:07:01] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[00:07:20] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[00:07:54] <loudly> im trying to add a priority queue to my code. i've already gotten the lt method of Ord written. im confused about how to implement the Ord in the queue?
[00:08:07] *** Quits: tiffany (kawaii@moz-EB8B0C08.dhcp.embarqhsd.net) (Ping timeout)
[00:08:45] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[00:09:04] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[00:09:51] *** sam113101_afk is now known as sam113101
[00:10:12] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[00:14:46] *** Joins: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net)
[00:22:04] *** Quits: tikue_ (tikue_star@F6141FA3.3B4A6B80.689607DE.IP) (Ping timeout)
[00:22:41] *** Joins: Liothen (liothen@moz-266BCA86.spkn.qwest.net)
[00:24:27] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[00:25:50] *** Quits: earlzlap (earlz@moz-9E279EAD.neo.res.rr.com) (Ping timeout)
[00:26:07] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[00:26:18] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[00:27:10] *** Joins: earlzlap (earlz@moz-9E279EAD.neo.res.rr.com)
[00:27:31] *** sam113101 is now known as sam113101_afk
[00:28:04] *** sam113101_afk is now known as sam113101
[00:33:21] *** Quits: nwmcsween (nwmcsween@E0025B86.51EE1362.3655BBF5.IP) (Ping timeout)
[00:33:51] *** Joins: scroy (user@moz-C21D3E9A.hsd1.il.comcast.net)
[00:34:33] <scroy> how do i use each_word in str::?
[00:34:48] <scroy>  i have use std::str; then str::each_word(s) ...
[00:35:00] <scroy> sorry, do str::each_word(s) |w| { words.push(w) }
[00:35:08] <scroy> but it's "unresolved"
[00:36:07] <scroy> also tried s.each_word
[00:36:44] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[00:40:36] <scroy> how can i split a string?
[00:41:04] <scroy> damn this place has quieted down lately
[00:41:11] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[00:41:18] <benh> Weekends are bad
[00:42:01] *** Joins: devin909 (Mibbit@moz-9DDA8601.bootp.virginia.edu)
[00:42:15] <scroy> yeah don't you hate those?
[00:42:30] *** Joins: lfox (lfox@moz-FFC911E9.nycmny.east.verizon.net)
[00:42:41] <benh> You can do "foo bar baz".word_iter() for an iterator that yields each word as a slice
[00:42:50] <benh> you can use that in a for word in ... { } loop
[00:42:59] <benh> or you can call .collect() on it to get a vector of the slices
[00:43:06] <scroy> i actually just found that one
[00:46:25] <scroy> can i do: do s.word_iter |w| { words.push(w) }
[00:46:37] <scroy> or have do-loops changed?
[00:47:03] <dbaupp> yes
[00:47:16] <dbaupp> `for word in string.word_iter() { ... }`
[00:47:19] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[00:47:46] <dbaupp> https://github.com/mozilla/rust/wiki/Doc-detailed-release-notes#for-loop-and-iterator
[00:47:57] <dbaupp> http://static.rust-lang.org/doc/master/tutorial-container.html#iterators
[00:48:30] *** Joins: brendan (brendaneic@moz-A19854B6.mcln.va.megapath.net)
[00:49:00] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[00:50:11] <scroy> thanks
[00:52:47] <dbaupp> (well, `do` loops haven't chaged, but for loops have.)
[00:54:58] *** Quits: TeXitoi (texitoi@moz-EA958D66.texitoi.eu) (Ping timeout)
[00:55:08] *** Joins: TeXitoi (texitoi@moz-EA958D66.texitoi.eu)
[00:59:35] <bjz_> dbaupp: Iterators ftw!
[01:00:03] *** Joins: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com)
[01:00:15] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[01:02:37] *** Quits: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net) (Ping timeout)
[01:02:58] *** Joins: z0w0 (zack@moz-238C2341.lnse3.cha.bigpond.net.au)
[01:03:18] *** Quits: k4nar (quassel@moz-F5EFF779.kimsufi.com) (Ping timeout)
[01:03:24] *** Joins: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net)
[01:03:51] *** Quits: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net) (Quit: Leaving.)
[01:04:38] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[01:07:20] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[01:08:12] *** Quits: eevee (eevee@moz-3625B552.evrt.wa.frontiernet.net) (Quit: kernel upgrade)
[01:08:42] *** Quits: skade (skade@moz-A89F791B.pools.arcor-ip.net) (Quit: Textual IRC Client: www.textualapp.com)
[01:09:08] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[01:09:22] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[01:09:32] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[01:10:03] *** Quits: kkris (kkris@moz-CB70009.yourvserver.net) (Ping timeout)
[01:10:53] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[01:12:23] *** Joins: kkris (kkris@moz-CB70009.yourvserver.net)
[01:12:47] *** Joins: eevee (eevee@moz-3625B552.evrt.wa.frontiernet.net)
[01:12:54] *** Quits: annodomini (lambda@moz-9AC5B452.hsd1.ma.comcast.net) (Quit: annodomini)
[01:14:10] *** Quits: kkris (kkris@moz-CB70009.yourvserver.net) (Ping timeout)
[01:15:37] *** Quits: lfox (lfox@moz-FFC911E9.nycmny.east.verizon.net) (Quit: ZZZzzzâ€¦)
[01:15:55] *** Joins: dew1 (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[01:16:41] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[01:18:47] *** Joins: mikezaby (mikezaby@moz-B26868E.home.otenet.gr)
[01:20:24] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[01:20:45] <dbaupp> bjz_: \o/
[01:22:43] *** jorendorff_away is now known as jorendorff
[01:23:14] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[01:29:22] *** Quits: Addle (quassel@moz-89E971E4.cable.teksavvy.com) (Client exited)
[01:33:36] *** Joins: pudgetta (Mibbit@moz-407872F8.protectedgroup.com)
[01:33:40] *** Quits: TeXitoi (texitoi@moz-EA958D66.texitoi.eu) (Ping timeout)
[01:33:44] *** Quits: pudgetta (Mibbit@moz-407872F8.protectedgroup.com) (User has been banned from Mozilla (no spamming here))
[01:33:58] *** Joins: TeXitoi (texitoi@moz-EA958D66.texitoi.eu)
[01:37:41] <mikezaby> y0
[01:37:48] <mikezaby> lol wrong chat :p
[01:38:01] *** Joins: Addle (quassel@moz-89E971E4.cable.teksavvy.com)
[01:39:42] *** Quits: Addle (quassel@moz-89E971E4.cable.teksavvy.com) (Ping timeout)
[01:39:42] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[01:40:06] *** Joins: Addle (quassel@moz-89E971E4.cable.teksavvy.com)
[01:46:28] *** Quits: jxv (jxv@moz-B6559D27.socal.res.rr.com) (Ping timeout)
[01:47:01] *** Quits: loudly (Mibbit@E8C1E873.17A0D1EC.B7830B68.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:49:02] *** Quits: earlzlap (earlz@moz-9E279EAD.neo.res.rr.com) (Ping timeout)
[01:50:46] *** Quits: devin909 (Mibbit@moz-9DDA8601.bootp.virginia.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[01:52:20] *** Quits: brendan (brendaneic@moz-A19854B6.mcln.va.megapath.net) (Ping timeout)
[01:52:37] *** Joins: k4nar (quassel@moz-F5EFF779.kimsufi.com)
[02:01:04] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[02:02:28] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[02:02:32] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[02:04:49] *** Joins: fenix (terror@A5D8F1E2.ECF89659.65DE0332.IP)
[02:06:34] *** Joins: kkris (kkris@moz-CB70009.yourvserver.net)
[02:07:09] *** Quits: nkoep (nik@moz-8E4694BE.pool.mediaways.net) (Client exited)
[02:08:27] *** Quits: mikezaby (mikezaby@moz-B26868E.home.otenet.gr) (Input/output error)
[02:10:05] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:11:51] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:12:42] *** Quits: FreeFull (freefull@DC27D1D7.255A7E04.6B0ACFBD.IP) (Ping timeout)
[02:13:55] *** Quits: z0w0 (zack@moz-238C2341.lnse3.cha.bigpond.net.au) (Quit: z0w0)
[02:15:05] *** Joins: z0w0 (zack@moz-238C2341.lnse3.cha.bigpond.net.au)
[02:15:38] *** Quits: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP) (Ping timeout)
[02:16:56] *** Quits: heftig (heftig@moz-7FB4D0C8.dip0.t-ipconnect.de) (Ping timeout)
[02:17:41] *** Joins: FreeFull (freefull@moz-67BD238E.skybroadband.com)
[02:17:55] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[02:18:45] *** Joins: nwmcsween (nwmcsween@E0025B86.51EE1362.3655BBF5.IP)
[02:19:21] *** Joins: pepper_chico (pepper_chi@DB4C90A5.186E2F88.F546FA5F.IP)
[02:25:47] *** Joins: annodomini (lambda@moz-9AC5B452.hsd1.ma.comcast.net)
[02:26:10] *** Joins: heftig (heftig@moz-45A02D7.dip0.t-ipconnect.de)
[02:27:45] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:27:54] *** Joins: Chef (Chef@moz-C843FA00.dsl.teksavvy.com)
[02:27:59] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[02:28:00] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:33:46] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[02:33:55] *** Joins: ash_136 (ashvini@BD10BE17.E6222AFD.422D491.IP)
[02:34:16] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:36:00] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:37:14] *** Parts: Chef (Chef@moz-C843FA00.dsl.teksavvy.com) ()
[02:39:33] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Client exited)
[02:42:55] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[02:42:57] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[02:44:47] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[02:44:55] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[02:47:44] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:48:07] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[02:49:53] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[02:52:54] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[02:53:21] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[02:54:02] *** Quits: paulproteus (quassel@199.199.210.158) (Ping timeout)
[02:54:24] *** Joins: paulproteus (quassel@458FE134.3EC36C88.CBDCF1DC.IP)
[02:55:58] *** Quits: Ferreus (ferreus@moz-596EAB7.pools.arcor-ip.net) (Quit: WeeChat 0.4.2)
[02:58:53] <ash_136> Hello Anybody there?
[02:58:55] <ash_136> :)
[03:00:05] <ercxx> hello
[03:00:40] <ash_136> ercxx:Hello
[03:00:44] <ash_136> I am fixing this bug
[03:01:07] <ash_136> https://github.com/mozilla/rust/issues/8005
[03:01:15] <ash_136> I wrote a code
[03:01:22] <ash_136> and now make
[03:01:34] <ash_136> instead of just make is there any other command
[03:01:37] <ash_136> to debug ?
[03:02:57] <ercxx> I don't understand the question. Are you trying to run tests?
[03:03:14] <ash_136> ercxx:I made my test cases
[03:03:23] <ash_136> and now tried writing the code
[03:03:30] <ash_136> for the correct error message
[03:03:40] <ash_136> yes I am trying to test my code if that is what you meant?
[03:04:27] <ercxx> I have no idea how to run the test suite of rust itself.
[03:04:59] *** Joins: variable (root@1818E56D.5A29975A.67659D25.IP)
[03:05:17] <brson> ash_136: read https://github.com/mozilla/rust/wiki/Note-testsuite
[03:05:31] <brson> ash_136: you'll want to put a test case in src/test/compile-fail
[03:05:34] *** Quits: kimundi (kimundi@moz-9BA34749.dip0.t-ipconnect.de) (Ping timeout)
[03:05:43] <ash_136> brson: I wrote the test cases
[03:06:11] <brson> ash_136: make check-stage1-cfail TESTNAME=<your_test_name>
[03:06:35] <ash_136> brson:Okay wait I will show you the results of that
[03:08:53] *** Joins: kimundi (kimundi@moz-2953ED52.dip0.t-ipconnect.de)
[03:11:37] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[03:11:51] *** Joins: futurehorizons (Mibbit@moz-61717F7A.bitstream.orcon.net.nz)
[03:11:57] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[03:12:12] <futurehorizons> path.pop().filestem().to_str() "...but borrowed value is only valid for the method call ate method call at ...
[03:13:21] *** kimundi is now known as zz_kimundi
[03:13:41] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[03:13:41] <brson> futurehorizons: there's a bug with rvalues that may mean you have to assign some of those to variables
[03:13:49] *** Joins: CyBeRKeL (cyber@E6A1FD6F.BE88DC8C.9C1C15C3.IP)
[03:13:52] *** Parts: CyBeRKeL (cyber@E6A1FD6F.BE88DC8C.9C1C15C3.IP) ()
[03:13:59] <futurehorizons> brson: thanks
[03:15:06] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[03:17:11] <ash_136> brson: how do we declare a mutable variable??
[03:17:20] <ash_136> that is whose value keeps changing?
[03:17:20] <variable> ash_136: "mut"
[03:17:39] <ash_136> let mut int flag=0;
[03:17:45] <ash_136> ^ like this?
[03:17:57] <dbaupp> ash_136: have you read the tutorial?
[03:18:08] <dbaupp> (it's `let mut flag: int = 0;`, btw.)
[03:18:22] <variable> ash_136:         let mut flag : int = 0;
[03:18:33] <ash_136> okay thanks :)
[03:18:43] <ash_136> dbaupp:Not fully :/
[03:18:50] <variable> ash_136: continue reading it
[03:18:57] <variable> and certainly start from the beggining 
[03:20:06] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[03:20:27] *** zz_kimundi is now known as kimundi
[03:21:09] <ash_136> thanks :)
[03:21:11] <ash_136> will do
[03:21:37] <ash_136> dbaupp: variable : when I do make check-stage1-cfail TESTNAME=<your_test_name>
[03:21:48] <ash_136> it should make only the test cases right?
[03:22:00] <ash_136> it is showing the errors in the liveness.rs also 
[03:23:03] *** Joins: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP)
[03:23:33] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[03:25:20] *** Quits: Earnestly (earnest@moz-BE290A2B.dyn.plus.net) (Ping timeout)
[03:27:36] <ash_136> dbaupp: I did make 
[03:27:45] <ash_136> and there are so many errors
[03:27:59] <ash_136> which shows the error messages I recently introduced in the code
[03:28:05] <ash_136> is that a sign that my code is working 
[03:28:10] <ash_136> by any chance?
[03:29:20] <dbaupp> there shouldn't be a lot of errors if you run `make`.
[03:29:37] <dbaupp> in fact, there should be 0. are you sure it's not just your code being incorrect?
[03:29:45] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[03:30:48] <ash_136> all the error messages are the new error messages I had introduced
[03:30:53] <ash_136> so something wrong with that right?
[03:31:35] <dbaupp> probably
[03:32:44] <ash_136> http://pastebin.com/am4Qw0mu
[03:32:57] <ash_136> the match case is the code I introducd
[03:33:08] <ash_136> I think its behaving more than what I expected
[03:34:18] <ash_136> dabupp:http://pastebin.com/am4Qw0mu
[03:34:39] <ash_136> and part of my error messages:http://pastebin.com/gQRHN4Bz
[03:35:06] <dbaupp> I think you need to check if you *should* emit an error
[03:35:22] <dbaupp> i.e. you don't appear to be checking that the types are mismatched.
[03:36:15] <ash_136> I am checking if the there is a return type
[03:36:23] <ash_136> and the last statement is of the return type
[03:36:30] <ash_136> then the semicolon is a mistake
[03:36:36] <ash_136> that is what it is doing right?
[03:36:41] <ash_136> and the second error
[03:37:01] <ash_136> is if the return type and the last statement value is different 
[03:37:36] <dbaupp> no it's not: if it's the last statement is anything other than `<foo>;` where foo has the same type as the return value of the function
[03:38:07] <dbaupp> e.g. fn bar() { if baz {} else {} } will trigger that error
[03:38:19] <dbaupp> as will just `fn bar() {}`
[03:38:29] <ash_136> why?!
[03:38:44] <dbaupp> because you're matching on _
[03:39:00] <ash_136> oh :(
[03:39:10] <dbaupp> which means "any statement other than a StmtSemi where the types match"
[03:39:22] *** Joins: canhtak (jeremy@moz-830A7AA1.wl.t.ulaval.ca)
[03:39:57] <ash_136> dbaupp:Okay so how can I correct this issue ?
[03:39:59] <dbaupp> it should be StmtSemi(expr, _) => { if check the types { "try removing semi" } else { "ignores a return value of..." }
[03:40:20] <dbaupp> but the fundamental issue is you're not actually checking that the types are mismatched
[03:40:40] <dbaupp> i.e. that there is even a mistake in the types
[03:41:14] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[03:41:21] <ash_136> dbaupp: https://gist.github.com/luqmana/7115726#file-foo-rs-L18
[03:41:37] <ash_136> you mean the if statement here?
[03:41:44] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:43:08] <dbaupp> ash_136: basically
[03:43:30] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[03:43:42] <dbaupp> also, this error message should be emitted by the branch that currently has the "not all control paths return a value" error message
[03:44:14] *** Joins: earlzlap (earlz@moz-9E279EAD.neo.res.rr.com)
[03:44:28] <ash_136> dbaupp:Okay I am lost :/ I am still a beginner here so can  you please slow down ?
[03:44:39] *** Joins: jstevans (Instantbir@moz-86A6CC79.bootp.virginia.edu)
[03:44:41] <ash_136> Sorry :(
[03:45:44] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[03:47:20] <ash_136> dbaupp:can you please help me out how to fix this issue ? 
[03:47:46] <ash_136> I mean like how to check the return types if not this way
[03:48:28] *** Quits: pepper_chico (pepper_chi@DB4C90A5.186E2F88.F546FA5F.IP) (Quit: Ex-Chat)
[03:48:29] <dbaupp> ash_136: I think you would be better to spend a day or two reading the tutorial and writing little programs, the compiler source code is not easy to understand for a beginner
[03:49:11] <ash_136> dbaupp: okay will do but I want to know how to fix this isue?
[03:49:31] <cmr> It's not easy to understand if you know rust either.
[03:49:56] <ash_136> :(
[03:50:07] <ash_136> can you help me out with this issue ?
[03:50:29] <earlzlap> There isn't explicit .close() methods for FileStream and such right? I assume because destruction is deterministic, it's not needed? 
[03:50:56] <ash_136> dbaupp: I will do the little programs but can you help me out with this issue ?
[03:51:31] <ash_136> cmr: I want to know how to match the return types if that is the problem 
[03:51:58] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Ping timeout)
[03:55:33] *** Quits: fenix (terror@A5D8F1E2.ECF89659.65DE0332.IP) (Quit: 1Full Throttle: testado e aprovado pelo INmetro 0,1[8www.fullt.net0])
[03:57:49] <SiegeLord> earlzlap: That's correct
[03:58:07] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:58:08] <SiegeLord> That said, I thought there was a function to help you destroy things early
[03:58:12] <SiegeLord> But I was wrong
[03:58:21] <earlzlap> What about managed or (when it comes out) Gc<T> with FileStream though? 
[03:58:25] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[03:58:26] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:58:47] <earlzlap> where destruction isn't deterministic
[03:58:55] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[03:59:19] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:59:24] <SiegeLord> Gc is deterministic
[03:59:28] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[03:59:29] <SiegeLord> Err, sorry
[03:59:29] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:59:38] <SiegeLord> You won't be able to put things with destructors into it
[03:59:54] <earlzlap> Oh. so that avoids that problem then heh. 
[04:00:34] <earlzlap> Interesting how many design decision have went into making Rust so safe heh
[04:01:09] <ash_136> anyone  ?  how to check the return types with the return statement to check if they are the same?
[04:01:16] <cmr> SiegeLord: Wha? Why not? Since when?
[04:02:49] *** Joins: pseudoku (quassel@AE3E849.42F3C75.520CDC98.IP)
[04:03:02] <Eridius> I'm not familiar with current Gc plans, but it Gc allows circular references, then destructors become non-deterministic. If Gc disallows circular references, then I don't see any reason to prohibit destructors
[04:03:43] <Eridius> incidentally, Python's circular reference cleanup skips any objects with destructors, so circular references regarding objects with destructors with leak
[04:04:29] <cmr> The manual is mum on the topic of destructors in @
[04:05:01] <jstevans> Sometimes when I get a request out of my TcpListener and try to get something out of listener.listen().incoming(), when I try to unwrap it via matching I get a failed at 'called Option::unwrap() on a None value'
[04:05:13] <ash_136> is there a way to check the return type statement ?
[04:05:29] <ash_136> to see what values the function is returning?
[04:05:54] <jstevans> It never seems to happen when I get a request from localhost, but when I get a request from network it occurs more often than not
[04:06:20] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[04:07:12] *** Quits: Jesin (Jessin_@4FE0CEF2.B4552BE7.C85D72.IP) (Quit: Leaving)
[04:07:14] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[04:07:51] *** Quits: ross (ross@moz-5EA04060.br.br.cox.net) (Quit: )
[04:07:52] <brson> ash_136: I don't quite understand the question
[04:08:44] <brson> ash_136: if the return statement is returning the wrong type the compiler should tell you what type it thinks it is in the error message
[04:10:40] <ash_136> brson:The issue I am correcting here
[04:10:41] <ash_136> is that
[04:10:45] <ash_136> if there is a return type
[04:10:52] <ash_136> and the function is returning a value
[04:10:59] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[04:11:00] <ash_136> but the user has used a semicolon by mistak
[04:11:25] <ash_136> so that will casue the error "not all control paths return a value"
[04:11:40] <ash_136> but I am making it "Try removing the semicolon"
[04:11:56] <ash_136> brson:Did you get it ?
[04:12:04] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[04:12:17] <Jesse_> yay helpful error messages
[04:12:33] *** Quits: canhtak (jeremy@moz-830A7AA1.wl.t.ulaval.ca) (Quit: canhtak)
[04:12:35] <brson> ash_136: yes
[04:13:06] <brson> ash_136: so you want to look at the type of the last statement and see if it unifies with the function return type before emitting that message?
[04:14:12] <SiegeLord> I guess if types with destructors cannot contain Gc'd objects, then maybe they are safe to place in a Gc
[04:14:35] <cmr> SiegeLord: Where does the unsafety come from?
[04:14:38] <ash_136> brson:Yes
[04:14:48] <ash_136> brson:How do I do that ??
[04:16:02] <ash_136> brson: I tried something with matchcase 
[04:16:03] <brson> ash_136: do you have a patch i can look at?
[04:16:12] <ash_136> This is the code: http://pastebin.com/am4Qw0mu
[04:16:12] <ash_136>  and part of my error messages: http://pastebin.com/gQRHN4Bz
[04:16:15] <SiegeLord> cmr: If A references B through Gc and both are Gc'd, then if B gets Gc'd first, then A will have an invalid reference to B when it gets Gc'd
[04:16:43] <cmr> SiegeLord: That's what the drop flag is for.
[04:16:47] <ash_136> brson:and this is the issue: https://github.com/mozilla/rust/issues/8005
[04:16:54] <cmr> You can run destructors before freeing
[04:20:30] *** Quits: pseudoku (quassel@AE3E849.42F3C75.520CDC98.IP) (Ping timeout)
[04:22:20] *** Joins: jvns (quassel@moz-DE62990.nyc.res.rr.com)
[04:26:26] *** Joins: pseudoku (quassel@AE3E849.42F3C75.520CDC98.IP)
[04:28:19] <variable> Shared object "libkvm.so.5" not found, required by "librustrt.so"
[04:28:23] <variable> when attempting to compile rust
[04:31:31] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[04:31:41] <SiegeLord> So you'll need to make sure your destructors don't leave the object in an invalid state?
[04:32:06] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[04:32:14] * Sharp wonders whether node_id_to_type is an expensive call.
[04:33:14] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[04:34:01] <Sharp> Doesn't seem so I guessâ€¦ is Eq for types implemented as unification?
[04:34:41] <SiegeLord> That seems very... icky... E.g. a type containing a C pointer that I free in the destructor. What exactly do I set it to so that the object can still be accessed?
[04:35:18] <SiegeLord> NULL? That means that I need to stick a NULL check into every method of that type
[04:36:41] *** Quits: cubic (cubic@moz-80241A3A.mc.videotron.ca) (Quit: Leaving)
[04:37:20] <Sharp> Osm
[04:37:29] <Sharp> â€¦I have no idea what I was saying there.
[04:37:55] <dbaupp> Sharp: node_id_to_type is almost certainly a hashtable look-up
[04:38:03] <Sharp> Yeah, that's what it looks like from the code.
[04:38:08] <dbaupp> (using the cached results of the type checker.)
[04:38:36] <Sharp> Thinking about it, though, that error message is appropriate.
[04:38:44] <Sharp> Just confusing.
[04:39:43] <Sharp> I'm not sure how you could reliably detect the difference between intention to return, but adding an unnecessary semicolon, and forgetting that you were supposed to return a value.
[04:39:48] *** Quits: earlzlap (earlz@moz-9E279EAD.neo.res.rr.com) (Ping timeout)
[04:40:45] <Sharp> Even the type check doesn't really tell you one way or the other.
[04:45:13] <SiegeLord> What is confusing about that error message?
[04:47:20] <SiegeLord> Maybe it's just a matter of phrasing it better...
[04:47:47] <cmr> SiegeLord: Oh I see what you mean now.
[04:47:49] <cmr> Yeah
[04:47:54] <cmr> brson: do you know how that is going to be handled?
[04:48:16] <jstevans> I'm having trouble with some TCP code... here's what I'm doing (https://gist.github.com/jstevans/60a77a6bf173f2593bdf) is there a better way to get the IP address of the requester?
[04:48:58] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[04:49:12] <brson> cmr: the 'not all control paths return a value'?
[04:49:39] <cmr> brson: No, cycles in Gc'd values and destructors.
[04:50:41] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[04:50:41] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Ping timeout)
[04:51:04] *** Quits: refold (gman@moz-42D68426.a258.priv.bahnhof.se) (Quit: leaving)
[04:55:48] <brson> cmr: Non-sendable types can't implement Drop. I think that prevents the problem
[04:56:04] <cmr> Oh they can't?
[04:56:07] <cmr> I wasn't aware of that.
[04:58:25] <dbaupp> rusti: struct NonSend { foo: @int } impl Drop for NonSend { fn drop(&mut self) { } }
[04:58:26] -rusti- pastebinned 10 lines of output: http://sprunge.us/ETjW
[04:58:36] <dbaupp> neat
[04:59:40] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[04:59:40] *** ChanServ sets mode: +ao dherman dherman
[05:13:10] *** Joins: ambimorph (amber@moz-B376C52.hlrn.qwest.net)
[05:17:28] *** Quits: Kxepal (Miranda@moz-A7BD37A0.pppoe.mtu-net.ru) (Ping timeout)
[05:18:30] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[05:19:02] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:19:54] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[05:20:26] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:20:36] *** Joins: Kxepal (Miranda@moz-310BBEE9.pppoe.mtu-net.ru)
[05:21:06] <jstevans> Could someone take a look? I'm completely stumped -- how am I getting an error about unwrapping when I'm matching Option<> beforehand?
[05:22:09] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[05:22:45] <brson> jstevans: what's the backtrace of the failure? you can get it by breaking on `catch throw` in gdb
[05:22:56] <brson> or 'break rust_begin_unwind'
[05:23:19] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[05:23:20] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[05:25:32] <jstevans> Is there a g++ -g equivalent for rustc?
[05:25:38] <jstevans> It's saying it's not finding any debugging symbols
[05:25:43] <cmr> jstevans: -Z extra-debug-info
[05:26:53] <dbaupp> jstevans: the raw no-debug-symbols backtrace is still useful (it gives us the function names at least)
[05:28:09] <jstevans> Catchpoint 1 (exception thrown), 0x00007ffff5fe4180 in _cxa_throw () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6
[05:28:26] <dbaupp> gist the whole bactktrace
[05:31:19] <jstevans> https://gist.github.com/jstevans/54e57464897a5013abac
[05:33:09] <dbaupp> looks like it's calling FromStr to read an IP address from a string, but the IP address is invalid
[05:33:35] <dbaupp> https://github.com/mozilla/rust/blob/master/src/libstd/rt/uv/net.rs#L88
[05:35:07] <jstevans> Why would that be the case? It works fine when I make requests from localhost
[05:36:11] <jstevans> but when I try to make a request using a URL (it's hosted remotely), I get this error
[05:36:14] <jstevans> Not always, but most of the time
[05:36:35] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:36:44] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[05:36:47] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:37:02] <jstevans> Even if I use lynx locally with `lynx mysite.com/filename`, it gives me the error
[05:37:20] <dbaupp> what about if you replace mysite.com with an IP adress?
[05:37:23] *** Joins: eddyb (eddy@37F72125.9065A63B.FCAAE698.IP)
[05:38:29] <pcmattman> dbaupp: that code doesn't look very safe
[05:39:03] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[05:39:33] <dbaupp> pcmattman: which part of it?
[05:39:35] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:39:44] <pcmattman> outright unwrapping the result, no check for failur
[05:39:45] <pcmattman> e
[05:39:48] <dbaupp> yup
[05:39:59] <pcmattman> (I also wonder if it'd work for "10.1" for example, which is entirely valid shorthand for 10.0.0.1)
[05:40:03] * dbaupp wishes people at least used .expect()
[05:40:15] <jstevans> Hmm, just checked again. It works with lynx locally for all of the above
[05:40:26] <jstevans> localhost, 127.0.0.1, internal ip, external ip, URL
[05:40:42] <jstevans> When I try to make a request for external IP or URL from my desktop using Chrome, though, i get an error
[05:41:01] <dbaupp> on a different computer?
[05:41:02] <jstevans> Could it be something weird modern browsers do?
[05:41:05] <jstevans> dbaupp: yes
[05:41:07] <pcmattman> what's the error?
[05:41:12] <eddyb> jstevans: chrome://net-internals look at the events
[05:41:18] <eddyb> jstevans: it can tell a lot
[05:41:20] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[05:41:46] *** Quits: fyolnish (fyolnish@moz-3E302AAD.uqwimax.jp) (Client exited)
[05:42:00] *** Joins: fyolnish (fyolnish@moz-3E302AAD.uqwimax.jp)
[05:42:15] <dbaupp> jstevans: what about lynx from a different computer?
[05:42:18] <eddyb> like, I've seen it fail because it tried connecting to a DNS server with an IPv6 address and IPv6 wasn't available there
[05:42:43] <jstevans> dbaupp: I had a friend try lynx from his desktop (I don't have Linux installed here), and it crashes the server as well
[05:42:44] <eddyb> jstevans: there's also a section where you can input an URL and it will try to connect in various modes
[05:42:57] <jstevans> I also don't know what I'm looking at with net-internasl
[05:43:01] <eddyb> wait, did I understand it wrong? X_X
[05:43:02] <jstevans> chrome://net-internals*
[05:43:07] <dbaupp> jstevans: ah, sounds like it's a problem with handling external requuests
[05:43:13] <dbaupp> eddyb: yes
[05:43:14] * eddyb slowly steps away
[05:43:33] * dbaupp wonders if rust-http handles external requests properly??
[05:43:44] <eddyb> (that's what I get for joining a discussion immediately after waking up)
[05:43:50] <Sharp> Heh
[05:43:55] <Sharp> If it doesn't, that's probably something that needs fixing.
[05:44:42] <pcmattman> rust-http being unhappy about a Host header or something?
[05:45:16] <dbaupp> pcmattman: I don't think jstevans is using rust-http
[05:45:28] <dbaupp> I was just wondering if rust-http has the same problem.
[05:45:35] <pcmattman> ah
[05:46:16] <pcmattman> right, just read back up to almost two hours ago, TcpListener
[05:46:20] <jstevans> I'm not -- this is part of an assignment for the OS class being taught using Rust :P
[05:48:18] <dbaupp> this might be worth filing a rust bug about.
[05:48:59] <dbaupp> at least to get somoe who knows more and (sensibly :P ) doesn't hang out on #rust on the weekend to comment.
[05:49:01] <pcmattman> jstevans: what's the actual code you're running?
[05:49:10] <dbaupp> *someone
[05:51:29] <jstevans> pcmattman: I have a gist of the relevant code (https://gist.github.com/jstevans/60a77a6bf173f2593bdf) that includes the part causing the error. 
[05:51:34] <jstevans> Since I think some of the other code might be partial solutions to some of the assignment, and I'm certain other members of my class lurk here too, I hesitate to share more...
[05:51:46] <pcmattman> sure, that's fair enough
[05:52:04] <dbaupp> jstevans: some definitely do
[05:53:28] <jstevans> Actually, speaking of which, our final assignment is to "do something that is fun (for you to do, and others to see), relevant (to the class), technically interesting (to you and [the professor]), and useful (at least to you, hopefully to many)."
[05:54:09] <jstevans> Is there something on the rust todo list that wouldn't be outside of the scope of three or four college juniors over a month, that fits those criteria?
[05:54:23] *** Quits: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com) (Ping timeout)
[05:54:53] *** Joins: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com)
[05:55:24] <dbaupp> jstevans: there's https://github.com/mozilla/rust/issues?labels=A-an-interesting-project&page=1&state=open
[05:55:28] *** Joins: adu (ajr@moz-60B25736.washdc.fios.verizon.net)
[05:55:35] <pcmattman> jstevans: I think (could be wrong) you'll find that the stream itself is valid, but it's peer_name() that's breaking
[05:55:57] <pcmattman> as per dbaupp's conclusion from the backtrace
[05:56:04] <jstevans> dbaupp: I... don't know why it didn't occur to me that that tag would mean that...
[05:56:22] <jstevans> pcmattman: is there a way for me to reimplement peer_name manually to check for that?
[05:56:32] <dbaupp> jstevans: they aren't really scoped in difficulty beyond (inaccurate) tagging of E-easy or E-hard
[05:56:36] <jstevans> err, to add in some checking before it unwraps*
[05:57:09] <brson> jstevans: if you like concurrency then https://github.com/mozilla/rust/issues/8568 is something i want badly. our Port/Chan types are not competitive with Go currently
[05:57:33] <brson> jstevans: this is 1.0 stuff that is 'easy' https://github.com/mozilla/rust/issues?labels=E-easy&milestone=20&state=open
[05:57:38] <brson> all of that is critical
[05:57:49] <brson> mostly it's just small stuff though
[05:58:20] *** Quits: dbaupp (Thunderbir@moz-EA27E3E6.lns20.syd6.internode.on.net) (Ping timeout)
[05:58:33] *** Quits: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com) (Ping timeout)
[05:59:02] *** Quits: jvns (quassel@moz-DE62990.nyc.res.rr.com) (Ping timeout)
[05:59:07] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[05:59:27] *** Joins: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com)
[05:59:28] <jstevans> Great! I'll talk to my group :) Thanks, brson!
[05:59:54] <jstevans> Sorry for getting sidetracked, but yeah -- is there a way for me to manually reimplement a function like TcpStream.peer_name()?
[06:00:08] <jstevans> For my code*
[06:00:38] * pcmattman would be more inclined towards identifying why it's failing and submitting a fix, but time might be critical
[06:00:41] <brson> jstevans: well, this shouldn't be too hard to diagnose - just throw some logging in to that failing function and recompile standard. this is clearly a bug
[06:00:53] *** Joins: dbaupp (Thunderbir@moz-EA27E3E6.lns20.syd6.internode.on.net)
[06:02:43] <brson> jstevans: if you want to do hard-core compiler hacking, you could *probably* make a lot of headway on checked arithmetic in a month: https://github.com/mozilla/rust/issues/9469
[06:03:12] <cmr> jstevans: if you want to win my unending admiration you could upstream the LLVM patches ;)
[06:03:56] <dbaupp> cmr: that makes them dependent on two groups (rust and LLVM) to get a positive outcome
[06:04:42] <Sharp> Whoa, wait, hold up, someone is teaching a class in Rust?
[06:04:50] <brson> jstevans: creating a high-level http library that mimic's go's, with routes, etc. on top of rust-http would be awesome
[06:05:04] *** Quits: ambimorph (amber@moz-B376C52.hlrn.qwest.net) (Quit: Leaving.)
[06:05:04] <brson> there's not an issue for it, but it's pretty high priority and would be well recieved
[06:05:29] <ktt3ja> Sharp: http://www.cs.virginia.edu/~evans/cs4414/
[06:05:36] <brson> jstevans: people in #rust-gamedev may have some fun ideas too
[06:05:47] <brson> or #rust-osdev
[06:05:48] <cmr> jstevans: We really need a nice-to-use GUI library!
[06:06:00] <Sharp> Neat!
[06:06:00] <dbaupp> Sharp: you must be new here? :P
[06:06:06] <cmr> Whether it's bindings for Qt or whatever
[06:06:11] <Sharp> Yes, I am new here :)
[06:06:30] <Sharp> I am just surprised given that the syntax is still changing (not so much anymore I guess).
[06:06:49] <dbaupp> I think the whole community was a bit surprised
[06:06:51] <brson> jstevans: if you do decide to tackle a bug on the issue tracker please leave a comment there expressing your intention
[06:10:27] <jstevans> is there a better way to modify std::rt::io::net::tcp.rs than to just recompile all of rust...?
[06:11:04] <eddyb> that's just std. I guess it recompiles everything by default in case it affects rustc
[06:11:30] <eddyb> dbaupp: is there a way to restrict the build to a library?
[06:12:01] <dbaupp> eddyb: which build? of the compiler?
[06:12:06] <dbaupp> oh
[06:12:07] <jstevans> I suppose I could just put a copy of tcp.rs into my working directory and use extern mod, right?
[06:12:49] <eddyb> dbaupp: something like make only-libstd-pls
[06:13:14] <eddyb> jstevans: I can't see how that would work
[06:13:15] <dbaupp> jstevans, eddyb: you can't modify the libraries (and use them) without at least building `rustc-stage1`
[06:13:40] <brson> jstevans: `make check-stage0-std` will get you up to a usable stage0 compiler, which is about the fastest you can make a complete working compiler
[06:13:56] <brson> then you just run rustc out of x86_64-unknown-linux-gnu/stage0/bin
[06:14:13] <brson> there really should be a target for `rustc-stage0` or something
[06:14:24] <eddyb> (assuming it's a recent snapshot and you haven't modified rustc code, it should be fine)
[06:14:42] <brson> oh there's a 'make rustc-stage1'
[06:14:44] <brson> just no stage0
[06:14:58] <cmr> stage0 is downloaded, no?
[06:15:05] <brson> only partially
[06:15:11] <brson> it rebuilds the target libs
[06:15:25] *** Quits: nattofriends (tsutsumi@moz-A9E340E1.fuqu.jp) (Ping timeout)
[06:15:26] <Luqman> jstevans: what version of rustc are you using that's failing for you?
[06:15:29] <Sharp> Yeah, stage0 target would be useful.
[06:15:57] *** Joins: nattofriends (tsutsumi@moz-A9E340E1.fuqu.jp)
[06:16:03] <eddyb> (I managed to use the windows snapshot as a nightly, when I needed it :P)
[06:17:34] *** Quits: tautologico (shung@E14878C0.75051ED3.7B974E06.IP) (Quit: tautologico)
[06:17:55] *** Parts: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net) ()
[06:22:55] <brson> what's mode +r?
[06:23:07] <brson> all our other rust channels have it, but not this one
[06:23:28] <jstevans> If I'm trying to replace https://github.com/mozilla/rust/blob/0.8/src/libstd/rt/uv/net.rs#L88
[06:23:38] <jstevans> with a match expression, what should None evaluate to?
[06:24:24] *** Quits: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com) (Ping timeout)
[06:24:25] <brson> jstevans: fail!() will reproduce the same behavior, but that None case is the one that is not being handled correctly
[06:25:07] <eddyb> brson: I found this: http://docs.dal.net/docs/modes.html#2.16
[06:25:23] *** Joins: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com)
[06:26:02] <eddyb> other sources seem to agree http://wiki.swiftirc.net/index.php?title=Channel_modes#.2Br
[06:26:15] <cmr> It depends on the ircd
[06:26:20] <brson> not having +r sounds bad
[06:26:57] <eddyb> it is registered, maybe it's just a harmless setting in ChanServ
[06:31:32] *** Joins: jordyd (jordyd@moz-B7B8200B.seg43.ucf.edu)
[06:32:26] *** Joins: alonlevy (alon@moz-E6115DFA.bb.netvision.net.il)
[06:33:30] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[06:34:38] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[06:36:42] <jstevans> When I try to make check-stage0-std, I get two errors 'src/libstd/rt/crate_map.rs:162 missing field: 'annihilate_fn'' and the same error but at crate_map.rs:199
[06:37:48] <dbaupp> check-stage0-std isn't reliably working (a consequence of bootstrapping & our testing infrastructure)
[06:38:09] <dbaupp> check-stage1-std should work; or just compiling std with a recent rustc via `rustc --test std.rs` and running it by hand
[06:40:42] <brson> still, check-stage0-std, even if it fails, should end up with a working standard library
[06:41:04] <eddyb> brson: that looks like a compile failure, though
[06:41:24] <brson> a compile failure when compiling stdtest, which comes after building std
[06:41:33] <eddyb> oh
[06:41:35] <brson> building std in stage0 has to work - we always do it
[06:41:41] *** Joins: GeneralMaximus (ankur@5013E005.F3B6E096.BE90E62C.IP)
[06:42:23] <brson> working out of stage0 is always dicey, but when it works it can be expedient
[06:42:26] *** Quits: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se) (Ping timeout)
[06:42:43] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[06:43:27] <dbaupp> brson: does check-stage0-std set --cfg stage0 for the test executable build?
[06:43:52] <brson> dbaupp: idk
[06:44:17] * dbaupp checks
[06:44:37] <dbaupp> it does
[06:49:22] *** Quits: brson (brson@981AA104.E81F12CD.76F66111.IP) (Quit: leaving)
[06:54:24] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[06:59:00] <pseudoku> Hi, i have a member function fn p(&mut self, f: &fn()) { f()} . when i try to pass a closure like || self.mutate() to p ... i get " error: cannot borrow `*self` as mutable more than once at a time" .
[06:59:05] *** Quits: adu (ajr@moz-60B25736.washdc.fios.verizon.net) (Quit: adu)
[06:59:21] <pseudoku> Is there any way this could be achieved in rust?
[06:59:44] <cmr> pseudoku: no.
[07:00:07] <cmr> It'd require having two references, one of which is mutable, to self, which breaks the aliasing rules.
[07:00:48] <pseudoku> self.mutate also takes mutable reference, hence two mutable references to self, right?
[07:00:52] <cmr> Yes
[07:01:18] <pseudoku> is there any kind of pattern that can be used for situations like this?
[07:02:57] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[07:02:59] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[07:03:02] <cmr> I don't really see a way to do it at all.
[07:03:35] *** Quits: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com) (Ping timeout)
[07:04:41] <bjz_> how do you build a crate's tests with rustpkg?
[07:05:00] <bjz_> I have my cra src/foo/lib.rs
[07:05:04] <bjz_> *crate
[07:05:10] <bjz_> and some tests in there
[07:05:28] *** Joins: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com)
[07:05:47] <cmr> bjz_: rustpkg currently cannot do that.
[07:05:59] *** Quits: scroy (user@moz-C21D3E9A.hsd1.il.comcast.net) (Ping timeout)
[07:06:03] <bjz_> any workaround?
[07:06:09] <cmr> https://github.com/mozilla/rust/issues/9003
[07:06:17] <cmr> Not really a satisfactory one.
[07:06:24] <cmr> You could create a test.rs which duplicates lib.rs
[07:06:29] *** Quits: annodomini (lambda@moz-9AC5B452.hsd1.ma.comcast.net) (Quit: annodomini)
[07:06:36] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[07:06:47] <bjz_> -_-
[07:09:27] <bjz_> cmr: I made a test.rs with just `mod lib` :P
[07:09:51] <cmr> bjz_: doesn't that break all your imports?
[07:10:32] <bjz_> cmr: you just have to do in lib.rs `use self::foo; mod foo;`
[07:10:40] <cmr> I see
[07:11:19] <bjz_> cmr: oh wait, I wonder if you could do in test.rs `pub use lib::*;`
[07:11:57] <cmr> bjz_: Also, please don't use the "src/cratename" convention anymore.
[07:12:07] <bjz_> ?
[07:12:12] <bjz_> has it changed?
[07:12:25] * bjz_ was not aware
[07:12:33] <cmr> It was always a workaround for the fact that "rustpkg build" wouldn't build the cwd unless it was in something that looked like a workspace.
[07:12:43] <cmr> Repos shouldn't be their own workspace.
[07:12:56] <bjz_> so what do we do? :/
[07:12:59] *** Quits: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com) (Ping timeout)
[07:13:03] <cmr> Just have lib.rs in the repo root:
[07:13:05] <cmr> ?
[07:13:22] <cmr> https://github.com/sfackler/rust-postgres
[07:13:38] <bjz_> how do we have multiple workspaces?
[07:13:38] <bjz_> like with examples
[07:13:42] <bjz_> and external tests?
[07:13:43] <dbaupp> doesn't that mean that every repo has a pile of files or folders at the top level for is submodules?
[07:13:49] <dbaupp> *its
[07:14:00] *** Joins: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com)
[07:14:08] <bjz_> (external tests being useful for testing the public api)
[07:14:22] * dbaupp thinks that is almost unworkably ugly
[07:14:43] <cmr> You can have them in subdirs and `extern mod` like usual.
[07:14:47] <bjz_> dbaupp: which?
[07:15:13] <dbaupp> bjz_: being forced to put everything at the top level, without being able to wrap it nicely into src/
[07:15:26] <bjz_> dbaupp: yeah :(
[07:15:33] <cmr> dbaupp: rustpkg isn't going to stop you, but it's not how it was meant to be used
[07:15:56] <dbaupp> e.g. the src/ doc/ mk/ README LICENSE directory structure doesn't work very well
[07:16:14] <dbaupp> (not that mk is needed with rustpkg.)
[07:16:38] <cmr> You can still have src/ subdirs and soforth, but you shouldn't use the repo as a rustpkg workspace.
[07:16:49] *** Quits: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com) (Ping timeout)
[07:17:18] <dbaupp> how do you compile it if you have ./src/lib.rs?
[07:17:31] *** Joins: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com)
[07:17:42] <cmr> cd src; rustpkg build; ?
[07:18:03] <bjz_> cmr: it's kinda weird to mix docs, examples and readmes and etcs all together in the same directory as the sources
[07:18:20] *** Quits: jstevans (Instantbir@moz-86A6CC79.bootp.virginia.edu) (Ping timeout)
[07:18:25] <dbaupp> cmr: isn't that using the repo as a workspace?
[07:18:34] <dbaupp> bjz_++
[07:18:38] <cmr> dbaupp: no, it will use the first entry in RUST_PATH.
[07:18:51] <dbaupp> I thought RUST_PATH was a hack?
[07:18:53] <cmr> no
[07:19:02] <cmr> RUST_PATH is how it's *supposed* to work
[07:19:14] <cmr> the path hack is something else.
[07:19:41] <dbaupp> with the ./src/lib.rs, how does one `rustpkg install` that?
[07:19:48] <bjz_> cmr: so are you say rustpkg should be run from the folder where the lib.rs/tests.rs etch is?
[07:19:51] <dbaupp> (or extern mod ... = "..." with that?)
[07:20:30] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[07:20:36] <bjz_> cmr: whouldn't that create lots of `build` folders mixed in with your sources?
[07:20:51] <cmr> bjz_: when you want to use rustpkg while developing, yes.
[07:21:18] <cmr> bjz_: it shouldn't. it should build in RUST_PATH or, if it's not defined, .rust
[07:23:24] <bjz_> cmr: so I'd need to have a .sh file at the top level to cd around to build complex stuff?
[07:23:51] *** Joins: Jackneill (Jackneill@moz-149C924E.pool.digikabel.hu)
[07:24:21] <bjz_> I want the build process to be rather painless for my contributors
[07:24:37] <bjz_> (and me as well, of course)
[07:24:48] <cmr> bjz_: If you're working on the library, wouldn't you already be cd'd into the source directory anyway?
[07:25:16] <bjz_> well say if you want to build all the examples in one hit
[07:25:27] *** Joins: Ms2ger (Ms2ger@moz-EC6C128C.adsl-dyn.isp.belgacom.be)
[07:25:37] <cmr> hm. pkg.rs is supposed to fill that sort of usecase.
[07:25:39] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[07:25:47] <bjz_> at the moment you can do rustpkg build examples (albiet that's broken)
[07:25:59] *** Quits: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com) (Ping timeout)
[07:25:59] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[07:26:34] *** Joins: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com)
[07:27:15] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[07:27:27] <bjz_> cmr: or you might want to do `rustpkg build tests` which would build the external tests for the lib
[07:27:42] <cmr> bjz_: if tests is a single crate, that's what test.rs is.
[07:27:47] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[07:28:21] <bjz_> cmr: yeah, it'd be in a separate folder to the sources for an external testsuite
[07:28:56] * dbaupp has a feeling we should relax rustpkg to look for package_root/{lib,...}.rs and package_root/src/{lib,...}.rs
[07:29:54] <pseudoku> cmr: what i'm trying to achieve is very similar to the parse
[07:30:07] <pseudoku> parse_seq function in rust Parser
[07:30:07] <bjz_> here is what I have for glfw: https://github.com/bjz/glfw-rs/tree/master/src/examples
[07:30:35] <bjz_> also here is gl-rs: https://github.com/bjz/gl-rs/tree/master/src
[07:30:53] <bjz_> gl-rs is interesting, because it builds a support tool as well
[07:30:58] <bjz_> it's not just a lib
[07:31:13] *** Joins: ProGruN (Pro@C32C58DA.259222EF.CEB27D41.IP)
[07:31:26] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[07:31:56] <pseudoku> i have Parser {reader: &mut Reader} and in side parser.p (&self) calling self.reader.read_write() says   error: cannot borrow immutable field as mutable
[07:32:30] <pseudoku> How come libsyntax::Parser works, but mine doesn't
[07:32:41] <dbaupp> pseudoku: because it probably takes &mut self
[07:32:55] <dbaupp> or uses @mut
[07:33:14] <cmr> pseudoku: yeah, it uses @mut everywhere
[07:33:40] <cmr> I forgot about that...
[07:33:47] <cmr> pseudoku: so a workaround is using @mut :p
[07:34:23] <pseudoku> dbaupp, cmr: but how does it make a difference if i have @mut or &mut?
[07:34:23] <cmr> bjz_: yeah, that's a good question.
[07:34:42] *** Quits: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com) (Ping timeout)
[07:35:11] *** Joins: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com)
[07:35:34] <pseudoku> shouldn't mutability of the field be inherited from the structs mutability for both cases?
[07:36:10] <dbaupp> you can't use a & &mut as mutable
[07:36:20] <cmr> pseudoku: @mut is a shared pointer with dynamic checks to ensure safety. &mut is a borrowed pointer with static (compile-time) safety checks.
[07:36:32] <dbaupp> because then you could have aliasing &mut's, which is illegal.
[07:36:33] <cmr> pseudoku: Neither of them have ownership, and mutability only inherits when there is ownership.
[07:39:08] <pseudoku> cmr, dbaupp: so parse_seq could still fail at runtime?
[07:39:13] <cmr> pseudoku: yes.
[07:39:22] <dbaupp> pseudoku: if you use @mut, yes
[07:40:01] <dbaupp> pseudoku: you can "prove" by hand that it can't though. (e.g. if you never store an & or &mut into it.)
[07:40:16] <dbaupp> (it's just the compiler can't prove it.)
[07:40:23] <Ms2ger> @mut :(
[07:41:24] <dbaupp> pseudoku: that said... don't @mut-ilate your code unless you're absolutely forced to.
[07:41:53] <Ms2ger> @mutilate, eh
[07:41:55] * Ms2ger likes
[07:42:00] <pseudoku> it seems like a pretty unsafe workaround to me...is there any way i could pass a mutable reference to a function i'm calling (thus telling the compiler i know the function will mutate state and i'm okay with it)?
[07:42:25] <dbaupp> x: &mut Type
[07:42:28] <dbaupp> &mut self
[07:42:29] <dbaupp> ?
[07:43:10] <pseudoku> dbuapp: heres the context i have a member function fn p(&mut self, f: &fn()) { f()} .  i try to pass a closure like || self.mutate() to p 
[07:43:59] <pseudoku> basically i want the compiler to consider f as part of p itself so that f and p can both mutate self
[07:45:30] <dbaupp> you can have `p(&mut self, f: &fn(&mut self)) { f(self) }` and then you pass |self_| self_.mutate()
[07:45:56] <dbaupp> so that `p` is managing were the mutability happens
[07:46:04] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Client exited)
[07:46:44] <dbaupp> (any else is (known to possibly be) memory-unsafe and so requires @mut with its dynamic checks.)
[07:47:28] <pseudoku> dbaupp: that worked!! thanks
[07:47:40] *** Jesse_ is now known as Jesse
[07:56:07] *** Quits: jordyd (jordyd@moz-B7B8200B.seg43.ucf.edu) (Ping timeout)
[07:56:15] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[07:56:21] *** Quits: elij (elij@E6C4342E.9D386EAF.AF7F4FE0.IP) (Quit: leaving)
[07:57:56] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[07:58:01] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[08:00:04] <McPherrin> Are the bindings in std::rt::uv:uvll intended to be complete?
[08:00:12] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[08:00:27] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[08:02:59] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[08:04:57] *** Quits: jdavis (jdavis@moz-1BE8A6A1.hsd1.ca.comcast.net) (Quit: Leaving)
[08:06:12] *** Joins: adu (ajr@moz-60B25736.washdc.fios.verizon.net)
[08:07:22] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[08:07:56] *** Quits: adu (ajr@moz-60B25736.washdc.fios.verizon.net) (Ping timeout)
[08:08:18] <acrichto> McPherrin: not entirely, they're mostly just what we intend to bind from libuv
[08:08:35] <acrichto> (at least that's what I think)
[08:08:48] <acrichto> that also doesn't mean that they're complete in the sense that the bindings are where we want them
[08:08:56] <McPherrin> That's the way it seems, but there's some stuff that I don't see any calls to in the tree
[08:08:59] <McPherrin> So I wasn't sure
[08:09:05] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[08:09:10] <acrichto> oh hm interesting
[08:09:14] <acrichto> may just be old
[08:09:29] <McPherrin> I've got a few extra fns that I'd like to use
[08:10:46] *** Quits: ProGruN (Pro@C32C58DA.259222EF.CEB27D41.IP) (Quit: ProGruN Needs The Best Life...)
[08:11:08] *** Quits: alonlevy (alon@moz-E6115DFA.bb.netvision.net.il) (Ping timeout)
[08:12:17] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[08:12:23] *** Quits: Ms2ger (Ms2ger@moz-EC6C128C.adsl-dyn.isp.belgacom.be) (Quit: bbl)
[08:12:34] <McPherrin> So I'll just wrap them for my own use but I'll stuff a pull request in to add them to uvll
[08:15:12] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[08:21:11] *** Joins: elij (elij@E6C4342E.9D386EAF.AF7F4FE0.IP)
[08:26:24] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[08:26:49] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[08:27:02] *** Quits: ash_136 (ashvini@BD10BE17.E6222AFD.422D491.IP) (Quit: Leaving)
[08:27:56] *** Parts: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) ()
[08:29:18] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[08:29:52] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[08:30:00] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[08:31:45] *** Quits: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP) (Ping timeout)
[08:32:27] *** jorendorff is now known as jorendorff_away
[08:32:43] *** Quits: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com) (Ping timeout)
[08:33:15] *** Joins: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com)
[08:37:33] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[08:37:55] *** Joins: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP)
[08:37:58] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[08:39:06] *** Joins: gem (nandaja@A905963B.E5054F9F.A2DC32D.IP)
[08:40:48] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[08:48:19] *** Joins: alonlevy (alon@moz-B0E66DB7.static.bezeqint.net)
[08:48:51] <McPherrin> rusti: let v = "ah" "bee"; v
[08:48:52] -rusti- pastebinned 6 lines of output: http://sprunge.us/UMiD
[08:49:14] <McPherrin> autoconcat of string literals is a nice feature.
[08:49:29] <McPherrin> Would people be opposed to it existing?
[08:50:15] <eddyb> McPherrin: it's required in C because dumb macros
[08:50:38] <eddyb> rusti: let v = concat_strings!("ah", "bee"); v
[08:50:39] -rusti- pastebinned 6 lines of output: http://sprunge.us/gDAL
[08:50:41] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[08:50:54] <eddyb> not sure what the actual name is, but I think I've seen it before
[08:52:21] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[08:55:27] *** Joins: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP)
[08:56:24] *** Quits: GeneralMaximus (ankur@5013E005.F3B6E096.BE90E62C.IP) (Quit: Computer has gone to sleep.)
[08:57:11] *** Quits: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP) (Ping timeout)
[08:58:48] *** Quits: futurehorizons (Mibbit@moz-61717F7A.bitstream.orcon.net.nz) (Quit: http://www.mibbit.com ajax IRC Client)
[08:59:05] <dbaupp> eddyb: you were hallucinating :P
[08:59:29] <dbaupp> eddyb: there's a PR adding concat!(), but it's unmerged https://github.com/mozilla/rust/pull/9740
[09:07:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[09:07:42] *** Joins: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net)
[09:08:56] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[09:09:03] <hansjorg> How does one get the [u8] vector from a str? Didn't there use to be to_* methods on str?
[09:09:35] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[09:14:04] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[09:14:44] <hansjorg> nm, found bytes!
[09:15:35] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[09:17:56] <McPherrin> hansjorg: Note that bytes! turns a compile-time string constant into a compile-time &[u8] constant
[09:18:12] <McPherrin> rusti: ~"abc".into_bytes()
[09:18:13] -rusti- pastebinned 7 lines of output: http://sprunge.us/ULbi
[09:18:20] <eddyb> dbaupp: I sometimes am from the future
[09:18:30] <McPherrin> rusti: (~"abc").into_bytes()
[09:18:31] -rusti- ~[97u8, 98u8, 99u8]
[09:18:39] <McPherrin> dagnabbit precedence
[09:18:57] <McPherrin> rusti: (~"abc").as_bytes()
[09:18:58] -rusti- pastebinned 17 lines of output: http://sprunge.us/PieP
[09:19:14] <McPherrin> well modulo the borrowchk error
[09:19:41] <eddyb> I'm assuming into_bytes reuses the backing storage but "destroys" the ~str
[09:19:56] <eddyb> using transmute, most likely
[09:20:18] *** Joins: oberstet (quassel@moz-DA1D1420.dynamic.mnet-online.de)
[09:20:38] <hansjorg> McPherrin: thanks for the tip
[09:21:47] *** Quits: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com) (Ping timeout)
[09:22:34] *** Joins: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com)
[09:22:34] <dbaupp> eddyb: a future that possibly doesn't exist :P (it's unclear whether concat!() will get merged in that form)
[09:22:50] <dbaupp> eddyb: and yes, into_bytes() does a direct transmute ~str -> ~[u8]
[09:23:19] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[09:23:22] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[09:31:43] *** Joins: nkoep (nik@moz-6EC32C6E.pool.mediaways.net)
[09:32:20] *** Joins: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP)
[09:45:59] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[09:52:50] *** Quits: dbaupp (Thunderbir@moz-EA27E3E6.lns20.syd6.internode.on.net) (Ping timeout)
[09:54:37] *** Joins: ksf_ (ksf@moz-7924B3A6.adsl.hansenet.de)
[09:54:44] *** Quits: ksf (ksf@moz-1B00089E.adsl.hansenet.de) (Ping timeout)
[09:56:27] *** Joins: dbaupp (Thunderbir@moz-620B4FD1.lns20.syd6.internode.on.net)
[09:59:12] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Quit: Linkinus - http://linkinus.com)
[10:01:34] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[10:07:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[10:09:01] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[10:10:59] *** Joins: mikezaby (mikezaby@moz-B26868E.home.otenet.gr)
[10:11:24] *** Joins: vu3rdd (vu3rdd@17A3C52E.6E3830AC.D5D59AD9.IP)
[10:13:25] *** Quits: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com) (Ping timeout)
[10:13:27] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[10:14:17] *** Joins: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com)
[10:16:29] <vu3rdd> I am a rust newbie.. trying out a simple function to return a function that calls a given input function, n times. 
[10:16:36] <vu3rdd> here is my code: http://kib2.free.fr/pastebin/view_paste.php?id=129
[10:16:53] <vu3rdd> I am having a tough time compiling it (I am using rust from master)
[10:17:42] <vu3rdd> compiler suggested that I add the extern keyword for f. So I did that.
[10:18:23] <vu3rdd> I am confused about the return type. It returns a reference to a function that takes an int and returns an int.
[10:18:26] *** Joins: Earnestly (earnest@moz-BE290A2B.dyn.plus.net)
[10:18:54] <eddyb> vu3rdd: you don't need extern AFAIK
[10:19:16] <vu3rdd> eddyb: okay. What does that extern mean?
[10:19:18] <eddyb> vu3rdd: but you're returning closures, not fn's
[10:19:42] <eddyb> vu3rdd: extern is for importing crates (with extern mod) and for interfacing with C
[10:19:53] <vu3rdd> eddyb: okay, thanks.
[10:20:08] <vu3rdd> eddyb: how do represent a closure in the type signature?
[10:20:36] <eddyb> your return type should be something like |int| -> int. but your return type can actually be one of two things
[10:21:00] <eddyb> vu3rdd: ntimes should return either a closure or an int. which means you need an enum variant
[10:22:16] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[10:22:28] <eddyb> rusti: let foo : |int| -> int;
[10:22:28] -rusti- pastebinned 6 lines of output: http://sprunge.us/iMfB
[10:22:40] <vu3rdd> eddyb: is there a way to see the type signatures in rusti?
[10:22:49] <vu3rdd> I mean, on the rust repl?
[10:22:56] <vu3rdd> like the :t in ghci?
[10:23:01] <eddyb> vu3rdd: rusti as a tool is dead
[10:23:06] <vu3rdd> ah ok.
[10:23:32] <eddyb> there's a way, but it's messy to implement and it's not included in the rusti bot by default :(
[10:23:52] <eddyb> rusti: let foo : (|int|);
[10:23:53] -rusti- pastebinned 6 lines of output: http://sprunge.us/eDAI
[10:24:04] <eddyb> rusti: let foo : &|int|;
[10:24:05] -rusti- pastebinned 6 lines of output: http://sprunge.us/VLdZ
[10:24:11] <McPherrin> vu3rdd: You can pass rustc --pretty typed
[10:24:12] <eddyb> hmpf
[10:24:22] <McPherrin> vu3rdd: that'll print a fully type annoted version of the source code
[10:24:30] *** Joins: bobthenameless (bobthename@moz-1C30D660.hsd1.wa.comcast.net)
[10:24:49] <vu3rdd> McPherrin, eddyb: cool! thanks.
[10:24:55] <pcmattman> rusti: fn abc() {}; let x: extern "Rust" fn() = abc; x
[10:24:56] -rusti- fn()
[10:24:58] <eddyb> I'm not done
[10:25:01] *** Joins: xexio (xexio@C09C96B1.3A1C6308.FFDF157.IP)
[10:25:11] <dbaupp> rusti: let () = "what's the type of this";
[10:25:12] -rusti- pastebinned 7 lines of output: http://sprunge.us/Fcbi
[10:25:15] <pcmattman> (for passing around Rust functions that aren't closures)
[10:25:18] <eddyb> dbaupp: hehe, that again
[10:25:37] <eddyb> rusti: let () = |x : int| x;
[10:25:37] -rusti- pastebinned 7 lines of output: http://sprunge.us/Yhcg
[10:25:49] <eddyb> that doesn't help :(
[10:25:49] <dbaupp> vu3rdd: triggering a compiler error like ^ also "works"
[10:27:25] <eddyb> vu3rdd: nvm, I got confused, lol
[10:27:31] <eddyb> rusti: let () = &|x : int| x;
[10:27:32] -rusti- pastebinned 7 lines of output: http://sprunge.us/MTUj
[10:27:50] <eddyb> rusti: let y = 0i; let () = &|x : int| x+y;
[10:27:51] -rusti- pastebinned 7 lines of output: http://sprunge.us/BaBg
[10:29:02] <eddyb> vu3rdd: your code is weird. so you actually have the same return type in both branches, you just need a closure type
[10:32:10] <vu3rdd> eddyb: let me read the closure sections of the tutorial again and come back in a few min.
[10:34:01] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[10:36:57] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[10:39:21] <dbaupp> ChrisMorgan: ping
[10:39:35] <ChrisMorgan> dbaupp: pong
[10:39:53] *** Joins: jdm (jdm@moz-6A7642F9.rave.ac.uk)
[10:39:53] *** ChanServ sets mode: +o jdm
[10:40:30] <dbaupp> ChrisMorgan: someone was having trouble with making connections to a tcp server using std::rt::io::net from an external computer... does rust-http have this problem?
[10:40:36] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[10:40:59] <dbaupp> ChrisMorgan: (i.e. connecting to a rust program using that from a different computer would crash the server.)
[10:41:00] <ChrisMorgan> dbaupp: you need to bind to 0.0.0.0 rather than 127.0.0.1
[10:41:15] *** Joins: pyrac (pyrac@moz-CB14E320.w92-162.abo.wanadoo.fr)
[10:41:19] <ChrisMorgan> But I'm not sure if I've tried accessing it from a different machine.
[10:41:31] <dbaupp> ok, just wondering.
[10:41:55] <Luqman> dbaupp: was it the peer_name thing? i couldn't reproduce that failure
[10:42:07] <dbaupp> (I believe they were binding to 0.0.0.0, since they were making the connections, just the rust program was failing.)
[10:42:11] <dbaupp> Luqman: yeah
[10:42:20] *** Quits: dbaupp (Thunderbir@moz-620B4FD1.lns20.syd6.internode.on.net) (Input/output error)
[10:42:43] *** Joins: dbaupp (Thunderbir@moz-620B4FD1.lns20.syd6.internode.on.net)
[10:43:11] <dbaupp> whoops.
[10:43:34] <ChrisMorgan> Works for me.
[10:43:41] <dbaupp> ok
[10:44:20] <Luqman> ii'm not sure what version of rustc the person was using
[10:45:10] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[10:45:27] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Client exited)
[10:51:38] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[10:51:39] *** Joins: CarpNet (Alasdair@moz-25C796BC.cable.virginm.net)
[10:53:25] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[10:55:39] *** Joins: fabiand (fabiand@moz-85984521.adsl.alicedsl.de)
[10:57:39] *** Joins: mib_6tqutm (Mibbit@3F24E64D.D39F47AF.3BD9FE04.IP)
[10:58:14] <mib_6tqutm> Is next release 1.0?
[10:58:55] <mib_6tqutm> Will the next release be 1.0?
[10:59:07] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[11:01:07] *** Joins: adu (ajr@moz-60B25736.washdc.fios.verizon.net)
[11:02:10] *** Quits: mib_6tqutm (Mibbit@3F24E64D.D39F47AF.3BD9FE04.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:02:49] *** Quits: adu (ajr@moz-60B25736.washdc.fios.verizon.net) (Ping timeout)
[11:03:00] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[11:03:02] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[11:03:03] *** Quits: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net) (Ping timeout)
[11:05:18] *** Joins: zatnosk (zatnosk@A9F4C5B1.7BBF6107.D79F9FB4.IP)
[11:07:11] *** Quits: pyrac (pyrac@moz-CB14E320.w92-162.abo.wanadoo.fr) (Quit: pyrac)
[11:11:01] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[11:11:09] <McPherrin> mikezaby: There's no guarantee
[11:11:21] <McPherrin> oops, wrong nickname there
[11:11:24] <mikezaby> :p
[11:11:26] *** Quits: jdm (jdm@moz-6A7642F9.rave.ac.uk) (Ping timeout)
[11:11:33] <McPherrin> mi<tab>, sorry :)
[11:11:40] <mikezaby> no
[11:11:42] <mikezaby> np*
[11:14:06] *** Quits: bleibig (bleibig@moz-CB11172C.hsd1.ca.comcast.net) (Quit: bleibig)
[11:16:35] *** Joins: doener (doener@moz-C68F600D.unity-media.net)
[11:17:14] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[11:18:06] <kimundi> rusti: unsafe { (*::std::unstable::intrinsics::get_tydesc::<uint>()).name }
[11:18:07] -rusti- "uint"
[11:19:04] * doener had to think twice what *:: means...
[11:19:20] <dbaupp> doener: it's, err, new syntax :P
[11:19:25] *** Joins: pyrac (pyrac@moz-CB14E320.w92-162.abo.wanadoo.fr)
[11:21:29] <McPherrin> dbaupp: yeah, just like the "goes to" operator in C, -->
[11:22:18] * dbaupp likes "runs to" too: ---->
[11:23:52] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[11:26:02] *** Joins: aeqwa (aeqwa@moz-E6B94F97.dsl.tropolys.de)
[11:26:31] *** Quits: zatnosk (zatnosk@A9F4C5B1.7BBF6107.D79F9FB4.IP) (Quit: Computer has gone to sleep)
[11:32:24] <aeqwa> Hello I get this error message when compiling my program http://pastebin.com/g90Gbwp4 my code http://pastebin.com/Cn49rS84 that's really frustrating because i use the code from the documentation http://static.rust-lang.org/doc/master/std/rt/io/index.html
[11:34:09] *** Quits: vu3rdd (vu3rdd@17A3C52E.6E3830AC.D5D59AD9.IP) (Ping timeout)
[11:34:19] <dbaupp> aeqwa: the docs are wrong :(
[11:34:57] <dbaupp> if your compiler is older than a few days ago, you should be able to do `do std::io::stdin().each_line |line| { ...; true }`
[11:35:38] <dbaupp> if your compiler is newer than that... well, you have to implement each_line yourself: std::rt::io is lacking most of the helper functions :(
[11:36:33] <aeqwa> dbaupp: thanks for the infomations :)
[11:36:44] <dbaupp> the old implementation of each_line: https://github.com/mozilla/rust/blob/0.8/src/libstd/io.rs#L758-L777
[11:37:21] <aeqwa> dbaupp: nice :)
[11:37:54] *** Joins: gem_ (nandaja@5E6A112B.BE681C88.A2DC32D.IP)
[11:38:02] *** Quits: gem (nandaja@A905963B.E5054F9F.A2DC32D.IP) (Ping timeout)
[11:39:29] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[11:39:34] *** Joins: frogonia (Mibbit@832DA2F8.F27E69A1.3BD9FE04.IP)
[11:39:54] *** Joins: amro (quassel@8586EE21.B62DA81E.BF6473A8.IP)
[11:40:27] <frogonia> according to the milestone on github, the next release will be production ready?
[11:40:59] <dbaupp> frogonia: not necessarily
[11:41:24] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[11:41:31] <dbaupp> 0.9 is coming in ~two months (the 0.x releases are time-based: every 3 (or 4?) months.)
[11:42:02] <dbaupp> ("approximately two", not "owned pointer to two" :P )
[11:42:46] <frogonia> next 0.9 will be 1.0?
[11:42:51] <frogonia> next to 0.9
[11:43:01] *** Quits: fyolnish (fyolnish@moz-3E302AAD.uqwimax.jp) (Ping timeout)
[11:43:11] <dbaupp> maybe, but I'm guessing we'll see 0.10 before 1.0
[11:43:17] * dbaupp doesn't really know
[11:43:25] * jensnockert hugs dbaupp.
[11:43:31] <frogonia> https://github.com/mozilla/rust/issues/milestones
[11:43:32] *** Joins: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[11:43:37] * dbaupp hugs jensnockert
[11:43:40] *** Joins: jdm (jdm@moz-6A7642F9.rave.ac.uk)
[11:43:40] *** ChanServ sets mode: +o jdm
[11:43:44] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[11:43:59] <doener> \o/
[11:44:07] <jensnockert> Why is it so hard to rip sprites from a NES /o\
[11:44:20] <dbaupp> jensnockert: because you're not using Rust do it?
[11:44:30] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[11:44:34] <jensnockert> dbaupp: Yeah, probably :(
[11:44:49] <jensnockert> My Little Program: Friendship is Rust.
[11:44:52] <dbaupp> frogonia: note the "no due date" on that milestone
[11:44:54] <frogonia> I am so ready to write a website in rust, but when can I really?
[11:45:08] <dbaupp> depends what you mean by "really"
[11:45:15] *** Quits: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[11:45:30] <eddyb> you can already write a simple HTTP server in Rust
[11:46:03] <dbaupp> people are working on web server/platforms now (e.g. rust-http for the former, widmann for the latter)
[11:46:10] <dbaupp> eddyb: you can write a complicated one too :P
[11:46:28] *** Joins: fyolnish (fyolnish@moz-3E302AAD.uqwimax.jp)
[11:46:41] <frogonia> If I use it tomorrow, can I write a complicated say like twitter?
[11:46:46] <doener> or go oldschool and use CGI
[11:46:49] <jensnockert> If I had the time, I would write a BBS blogging platform.
[11:46:57] <eddyb> frogonia: do you know how "sites" even work?
[11:47:19] <frogonia> rails ones
[11:47:24] <dbaupp> frogonia: maybe... but the language will change and you'll have to update your whole program
[11:47:33] <eddyb> frogonia: so only the server-side
[11:47:48] <dbaupp> eddyb: fwiw, that question is quite aggressive, phrasing it more kindly would be nice :)
[11:47:56] *** Joins: bholley (anonymous@moz-4D8B41AE.versanet.de)
[11:48:03] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[11:48:32] <eddyb> dbaupp: their questions are vague enough to justify my aggressiveness. I don't mean to judge, just to get information :P
[11:48:40] <dbaupp> frogonia: also, there's not a huge number of utility libraries yet (e.g. the database interaction ones are still under heavy development)
[11:49:33] <dbaupp> eddyb: dropping the 'even' would make it nicer and still achieve the same goal (... but whatever, that's off-topic)
[11:49:56] *** Quits: pyrac (pyrac@moz-CB14E320.w92-162.abo.wanadoo.fr) (Quit: pyrac)
[11:50:35] <frogonia> so
[11:50:37] <eddyb> frogonia: there's a rust-http project, that could be the base for a server framework. someone started a sinatra (that's what it's called, right? I know it's a neat Ruby framework) clone, you could check that out
[11:50:47] <frogonia> how servo goes?
[11:50:52] <dbaupp> eddyb: widmann... I mentioned both already :P
[11:51:06] <dbaupp> frogonia: do you mean, how does it work if there is so much missing?
[11:51:10] * eddyb disappears in a puff of smoke
[11:51:36] <frogonia> yeah
[11:51:47] <dbaupp> they write their own libraries
[11:51:49] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[11:52:11] <dbaupp> in any case, servo is actually using rust-http as its web client
[11:52:54] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[11:53:07] <jensnockert> bjz_: Oh-god-of-rust-gamedev, or something, do you happen to know of any high-level sprite-based libraries for Rust?
[11:53:10] <eddyb> (webkit/blink and chromium itself have loads of boilerplate code anyway)
[11:53:33] <jensnockert> bjz_: I am going to a hackday on friday, and I'm either learning SpriteKit or something Rusty.
[11:53:38] <dbaupp> frogonia: also, servo isn't actually a full web-browser (not yet, anyway), it's a "browser engine", so it doesn't have things like history or bookmarks or whatever.
[11:53:51] <bjz_> jensnockert: there is rust-layers from servo I think
[11:53:56] <dbaupp> jensnockert: there might be something here https://github.com/mozilla/rust/wiki/Computer-Graphics-and-Game-Development
[11:54:05] <bjz_> jensnockert: come over to #rust-gamdev
[11:54:19] <frogonia> thanks
[11:54:30] <jensnockert> dbaupp, bjz_: Thanks.
[11:55:34] <bjz_> jensnockert: oh well https://github.com/mozilla-servo/rust-layers
[11:55:52] <bjz_> jensnockert: cmr is also interested in doing 2d with rust
[11:55:58] <eddyb> dbaupp: hmm, about that, I'm hoping servo rolls their own rust-only image decoders, I remember some nasty libpng bugs
[11:56:04] <jensnockert> 2d is teh best.
[11:56:06] <bjz_> jensnockert: but I don't know how far he is with it
[11:56:11] <dbaupp> eddyb: you could roll one :P
[11:56:34] <jensnockert> eddyb: It would be awesome if you wrote one ;)
[11:56:45] <bjz_> jensnockert: brson is also interested in having some sort of 2d think for hackathon/gamejam things
[11:56:58] <dbaupp> eddyb: (I don't think that's a priority for now (getting html working is), so if it happens as part of the core servo effort it'll be far future :( )
[11:57:10] <zokier`> i'm also kinda doing 2d stuff, but i'm not very far yet
[11:57:16] <eddyb> jensnockert, dbaupp: I've added interlacing support to png.js and in the process I've learned most of the important stuff :P
[11:57:26] <McPherrin> eddyb: Image decoders is definitely one of the targets for where memory safety really helps.  Just takes somebody to do it.
[11:57:33] <eddyb> but the original code was CoffeeScript, yuck
[11:57:36] <bjz_> jensnockert: you might be better off going with spritekit for now
[11:57:41] <dbaupp> eddyb: should be able to whip one up in a weekend then! ;)
[11:57:54] <jensnockert> bjz_: I am pretty sure I am better off with spritekit, but that's not the point ;)
[11:57:59] <bjz_> jensnockert: it would be useful to hear your experiences with it if anything
[11:58:10] <jensnockert> Maybe I should try it.
[11:58:10] <dbaupp> bjz_: you lie! spritekit isn't rust
[11:58:25] <dbaupp> so it *can't* be a better choice
[11:58:25] <jensnockert> ObjC is pretty cool though.
[11:58:30] <bjz_>  dbaupp: objective-c is still nice
[11:58:36] * dbaupp has never used it
[11:58:36] <jensnockert> The performance of smalltalk with the safety of C.
[11:58:38] <eddyb> dbaupp: right now I'm trying to produce my own BIOS emulator :P
[11:58:40] <jensnockert> Or somethingâ€¦
[11:58:49] <bjz_> smalltalkiy named arguments ftw
[11:58:51] <jensnockert> Bestest mix <3
[11:58:53] <dbaupp> eddyb: a BIOS emulator with PNG decoding! <3
[11:59:10] <jensnockert> Seriously though, ObjC was like my 3rd love.
[11:59:26] <jensnockert> I still have significant feelings I can't get over.
[11:59:33] <dbaupp> jensnockert: after Rust and Rust? :P
[11:59:41] <bjz_> jensnockert: indeed. I didn't program much in it, but it felt really nice
[11:59:49] <frogonia> dbaupp: what is the main difference between D2.0 & Rustï¼Ÿ
[12:00:01] <eddyb> dbaupp: uhm... no... well... the only sane point of a BIOS emulator is VBE (setting the GPU mode without a proper GPU driver). if I add framebuffer gfx to rustic, png.rs could come in handy :D
[12:00:06] <bjz_> frogonia: D as in the language?
[12:00:10] <eddyb> well, rust-png or png.rs?
[12:00:22] <frogonia> bjz_
[12:00:24] <frogonia> yes
[12:00:28] <dbaupp> frogonia: the "main" difference... probably rust has a compiler that complains more
[12:00:57] <dbaupp> (i.e. it does more static checks, enforces more memory safety, prohibits data races, etc.)
[12:01:05] <jensnockert> dbaupp: Nah, Ruby and C#.
[12:01:17] <dbaupp> jensnockert: how disappointing :)
[12:01:18] <bjz_> frogonia: D is much better at template metaprogramming, Rust is better at compile time typechecking/safety (without the need for GC)
[12:01:27] <jensnockert> dbaupp: I know.
[12:01:42] <dbaupp> eddyb: there! an excuse for a pure rust png decoder, go go go
[12:01:55] <eddyb> dbaupp: not Go
[12:01:57] <jensnockert> dbaupp: But I was young and impressionable!
[12:02:03] <dbaupp> eddyb: rust rust rust
[12:02:05] <jensnockert> brb
[12:02:09] <dbaupp> jensnockert: haha
[12:02:10] <bjz_> frogonia: have you done much programming in D?
[12:02:18] <jensnockert> In my defense, Rust wasn't even thought of at that time.
[12:02:19] <frogonia> type system closer to Haskell?
[12:02:33] <dbaupp> jensnockert: time machines are wonderful things
[12:02:33] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[12:02:41] <dbaupp> frogonia: Rust's type system is, yes.
[12:02:53] <jensnockert> dbaupp: I wish I had one :(
[12:02:54] <jensnockert> brb.
[12:02:57] <jensnockert> Food \o/
[12:02:57] <dbaupp> (from the little I know of D)
[12:03:20] <frogonia> I heard of that d 2.0 is much better and closer to Rust, I did not use it
[12:03:25] <bjz_> frogonia: yes, but more advanced than haskell in some ways, and more deficient in others. But the ways it is more advanced are those things that are important for systems programming.
[12:03:26] <FreeFull> So would D be closer to a typed lisp, comparison-wise?
[12:03:50] <FreeFull> Of course, D isn't that lispy and Rust that haskelly
[12:03:55] <bjz_> frogonia: D is much closer to an algol style type system
[12:04:09] <bjz_> frogonia: like C++
[12:04:14] <bjz_> frogonia: and Java
[12:04:16] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[12:05:19] <frogonia> Ok
[12:05:22] <frogonia> thanks
[12:05:23] <bjz_> FreeFull: it would be very close to C++
[12:06:34] <bjz_> frogonia: what area are you working in, and what is your background?
[12:06:45] <frogonia> web develop
[12:06:55] <frogonia> to replace ruby
[12:07:46] <frogonia> usually people turn to golang or node.js or erlang
[12:07:47] <bjz_> ah, neat. We have some folks here from dynamically typed backgrounds, like bstrie and steveklabnik
[12:08:19] <frogonia> yes I read from steve's introduction
[12:08:39] <bjz_> the nice thing about Rust is that it has the 'safety stuff' on by default, so it makes it much easier to get into systems programming
[12:08:42] <bjz_> (imo)
[12:09:26] <frogonia> before I turn to golang, people say Rust is better designed than golang, and make much more
[12:09:42] <FreeFull> I wonder how many are from a Haskell background
[12:10:16] <utkarsh> Add me on the Ruby background list :)
[12:10:24] *** Quits: bholley (anonymous@moz-4D8B41AE.versanet.de) (Quit: bholley)
[12:10:35] * dbaupp has a Haskell background (and C & Python, mostly)
[12:11:34] *** Joins: oXo_Team_TR8858 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:11:34] *** Joins: oXo_Team_TR4265 (a1109@8973791E.373F292.F594618C.IP)
[12:11:34] *** Joins: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:11:34] *** Joins: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:11:35] <bjz_> frogonia: You'll probably learn a ton more from having a crack at Rust, but you would get going faster with Go. So it's a tradeoff.
[12:11:38] *** Joins: Nickiniz (Buyur@B2F92B4A.980B3CB7.E084BF44.IP)
[12:11:41] *** Parts: oXo_Team_TR8858 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:11:41] *** Parts: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:11:41] *** Parts: oXo_Team_TR4265 (a1109@8973791E.373F292.F594618C.IP) ()
[12:11:41] *** Parts: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:11:41] *** Joins: oXo_Team_TR8858 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:11:42] *** Joins: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:11:42] *** Joins: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:11:42] *** Joins: oXo_Team_TR4265 (a1109@8973791E.373F292.F594618C.IP)
[12:11:42] *** Parts: oXo_Team_TR8858 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:11:42] *** Joins: oXo_Team_TR8858 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:11:42] *** Parts: oXo_Team_TR4265 (a1109@8973791E.373F292.F594618C.IP) ()
[12:11:42] *** Parts: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:11:42] *** Parts: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:11:43] *** Parts: oXo_Team_TR8858 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:11:43] *** Joins: oXo_Team_TR4265 (a1109@8973791E.373F292.F594618C.IP)
[12:11:43] *** Joins: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:11:43] *** Joins: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:11:43] *** Parts: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:11:43] *** Joins: oXo_Team_TR8858 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:11:43] *** Parts: oXo_Team_TR4265 (a1109@8973791E.373F292.F594618C.IP) ()
[12:11:43] *** Joins: oXo_Team_TR4265 (a1109@8973791E.373F292.F594618C.IP)
[12:11:43] *** Joins: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:11:43] *** Parts: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:11:43] *** Joins: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:11:43] *** Parts: oXo_Team_TR8858 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:11:44] *** Parts: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:11:44] *** Parts: oXo_Team_TR4265 (a1109@8973791E.373F292.F594618C.IP) ()
[12:11:44] *** Parts: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:11:44] *** Joins: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:11:44] *** Joins: oXo_Team_TR8858 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:11:44] *** Joins: oXo_Team_TR4265 (a1109@8973791E.373F292.F594618C.IP)
[12:11:45] *** Parts: oXo_Team_TR8858 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:11:45] *** Parts: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:11:45] *** Parts: oXo_Team_TR4265 (a1109@8973791E.373F292.F594618C.IP) ()
[12:11:45] *** Joins: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:11:45] *** Joins: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:11:45] *** Parts: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:11:46] *** Joins: oXo_Team_TR8858 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:11:46] *** Joins: oXo_Team_TR4265 (a1109@8973791E.373F292.F594618C.IP)
[12:11:46] *** Parts: oXo_Team_TR4265 (a1109@8973791E.373F292.F594618C.IP) ()
[12:11:46] *** Joins: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:11:46] *** Parts: oXo_Team_TR8858 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:11:46] *** Joins: oXo_Team_TR8858 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:11:46] *** Parts: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:11:46] *** Parts: oXo_Team_TR8858 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:11:46] *** Joins: oXo_Team_TR4265 (a1109@8973791E.373F292.F594618C.IP)
[12:11:46] *** Joins: oXo_Team_TR8858 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:11:46] *** Parts: oXo_Team_TR8858 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:11:47] *** Parts: oXo_Team_TR4265 (a1109@8973791E.373F292.F594618C.IP) ()
[12:11:47] *** Joins: oXo_Team_TR4265 (a1109@8973791E.373F292.F594618C.IP)
[12:11:47] *** Parts: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:11:47] *** Joins: oXo_Team_TR8858 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:11:47] *** Parts: oXo_Team_TR4265 (a1109@8973791E.373F292.F594618C.IP) ()
[12:11:47] *** Joins: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:11:47] *** Parts: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:11:47] *** Joins: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:11:47] *** Joins: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:11:47] *** Parts: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:11:47] *** Joins: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:11:47] *** Parts: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:11:47] *** Joins: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:11:47] *** Parts: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:11:47] *** Joins: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:11:48] *** Parts: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:11:48] *** Parts: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:11:48] *** Joins: oXo_Team_TR4265 (a1109@8973791E.373F292.F594618C.IP)
[12:11:48] *** Parts: oXo_Team_TR8858 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:11:49] *** Joins: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:11:49] *** Joins: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:11:49] *** Parts: oXo_Team_TR4265 (a1109@8973791E.373F292.F594618C.IP) ()
[12:11:49] *** Joins: oXo_Team_TR8858 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:11:50] *** Parts: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:11:50] *** Parts: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:11:50] *** Joins: oXo_Team_TR4265 (a1109@8973791E.373F292.F594618C.IP)
[12:11:50] *** Parts: oXo_Team_TR8858 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:11:50] <bjz_> -_-
[12:11:51] *** Joins: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:11:51] *** Joins: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:11:51] *** Parts: oXo_Team_TR4265 (a1109@8973791E.373F292.F594618C.IP) ()
[12:11:51] *** Joins: oXo_Team_TR8858 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:11:52] *** Parts: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:11:52] *** Parts: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:11:52] *** Joins: oXo_Team_TR4265 (a1109@8973791E.373F292.F594618C.IP)
[12:11:52] *** Parts: oXo_Team_TR8858 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:11:53] *** Joins: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:11:53] *** Joins: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:11:53] *** Parts: oXo_Team_TR4265 (a1109@8973791E.373F292.F594618C.IP) ()
[12:11:53] *** Joins: oXo_Team_TR8858 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:11:54] *** Parts: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:11:54] *** Parts: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:11:54] *** Joins: oXo_Team_TR4265 (a1109@8973791E.373F292.F594618C.IP)
[12:11:54] *** Parts: oXo_Team_TR8858 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:11:54] <utkarsh> :|
[12:11:55] *** Joins: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:11:55] *** Joins: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:11:55] *** Parts: oXo_Team_TR4265 (a1109@8973791E.373F292.F594618C.IP) ()
[12:11:55] *** Joins: oXo_Team_TR8858 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:11:56] *** Parts: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:11:56] *** Joins: oXo_Team_TR4265 (a1109@8973791E.373F292.F594618C.IP)
[12:11:56] *** oXo_Team_TR8858 is now known as hahahah5162
[12:11:57] *** Parts: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:11:57] *** Joins: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:11:57] *** oXo_Team_TR4265 is now known as hahahah2637
[12:11:58] *** Joins: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:11:58] *** Parts: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:11:59] *** Parts: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:11:59] *** Joins: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:11:59] <mikezaby> nice spam
[12:12:00] *** Joins: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:12:00] *** Parts: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:12:01] *** Parts: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:12:01] *** Joins: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:12:01] *** Parts: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:12:02] *** Joins: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:12:02] *** Parts: hahahah2637 (a1109@8973791E.373F292.F594618C.IP) ()
[12:12:02] *** Joins: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:12:03] *** Parts: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:12:03] *** Parts: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:12:03] *** Joins: hahahah2637 (a1109@8973791E.373F292.F594618C.IP)
[12:12:03] *** Parts: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:12:04] *** Joins: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:12:04] *** Joins: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:12:04] *** Parts: hahahah2637 (a1109@8973791E.373F292.F594618C.IP) ()
[12:12:04] *** Joins: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:12:05] *** Parts: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:12:05] *** Parts: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:12:05] *** Joins: hahahah2637 (a1109@8973791E.373F292.F594618C.IP)
[12:12:05] *** Parts: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:12:06] *** Joins: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:12:06] *** Joins: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:12:06] *** Parts: hahahah2637 (a1109@8973791E.373F292.F594618C.IP) ()
[12:12:06] *** Joins: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:12:07] *** Parts: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:12:07] *** Joins: hahahah2637 (a1109@8973791E.373F292.F594618C.IP)
[12:12:07] *** Parts: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:12:08] *** Parts: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:12:08] *** Joins: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:12:08] *** Parts: hahahah2637 (a1109@8973791E.373F292.F594618C.IP) ()
[12:12:08] *** Joins: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:12:09] *** Joins: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:12:09] *** Parts: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:12:09] *** Joins: hahahah2637 (a1109@8973791E.373F292.F594618C.IP)
[12:12:09] *** Parts: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:12:10] *** Parts: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:12:10] *** Joins: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:12:10] *** Parts: hahahah2637 (a1109@8973791E.373F292.F594618C.IP) ()
[12:12:10] *** Joins: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:12:11] *** Joins: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:12:11] *** Joins: hahahah2637 (a1109@8973791E.373F292.F594618C.IP)
[12:12:12] *** Parts: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:12:12] *** Parts: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:12:13] *** Joins: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:12:13] *** Parts: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:12:13] *** Parts: hahahah2637 (a1109@8973791E.373F292.F594618C.IP) ()
[12:12:13] *** Joins: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:12:13] <eddyb> it should be easy to ban oXo* and hahaha*
[12:12:14] *** Parts: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:12:14] *** Joins: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:12:14] *** Joins: hahahah2637 (a1109@8973791E.373F292.F594618C.IP)
[12:12:14] *** Parts: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:12:15] *** Joins: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:12:15] *** Parts: hahahah2637 (a1109@8973791E.373F292.F594618C.IP) ()
[12:12:15] *** Joins: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:12:16] *** Parts: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:12:16] *** Joins: hahahah2637 (a1109@8973791E.373F292.F594618C.IP)
[12:12:16] *** Parts: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:12:17] *** Joins: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:12:17] *** Parts: hahahah2637 (a1109@8973791E.373F292.F594618C.IP) ()
[12:12:17] *** Joins: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:12:17] <bjz_> nmatsakis kmc jdm: spam attack :(
[12:12:18] *** Parts: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:12:18] *** Parts: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:12:18] *** Joins: hahahah2637 (a1109@8973791E.373F292.F594618C.IP)
[12:12:18] *** Parts: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:12:19] *** Joins: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:12:19] *** Joins: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:12:19] *** Parts: hahahah2637 (a1109@8973791E.373F292.F594618C.IP) ()
[12:12:19] *** Joins: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:12:20] *** Parts: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:12:20] *** Joins: hahahah2637 (a1109@8973791E.373F292.F594618C.IP)
[12:12:21] *** Parts: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:12:21] *** Joins: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:12:23] *** Joins: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:12:23] *** Parts: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:12:23] *** Parts: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:12:23] *** Parts: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:12:23] *** Joins: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:12:23] *** Parts: hahahah2637 (a1109@8973791E.373F292.F594618C.IP) ()
[12:12:23] *** Joins: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:12:24] *** Joins: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:12:24] *** Parts: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:12:24] *** Joins: hahahah2637 (a1109@8973791E.373F292.F594618C.IP)
[12:12:25] *** Parts: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:12:25] *** Joins: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:12:25] *** Parts: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:12:26] *** Joins: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:12:26] *** Parts: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:12:26] *** Parts: hahahah2637 (a1109@8973791E.373F292.F594618C.IP) ()
[12:12:26] *** Joins: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:12:27] *** Parts: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:12:27] *** Joins: oXo_Team_TR7040 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:12:27] *** Joins: hahahah2637 (a1109@8973791E.373F292.F594618C.IP)
[12:12:27] *** Parts: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:12:28] *** Joins: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:12:28] *** oXo_Team_TR7040 is now known as zuhahahaha8820
[12:12:28] *** Parts: hahahah2637 (a1109@8973791E.373F292.F594618C.IP) ()
[12:12:28] *** Joins: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:12:29] *** Parts: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:12:29] *** Joins: hahahah2637 (a1109@8973791E.373F292.F594618C.IP)
[12:12:29] *** Parts: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:12:30] *** Joins: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:12:30] *** Parts: hahahah2637 (a1109@8973791E.373F292.F594618C.IP) ()
[12:12:30] *** Joins: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:12:31] *** Parts: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:12:31] *** Joins: hahahah2637 (a1109@8973791E.373F292.F594618C.IP)
[12:12:31] *** Parts: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:12:32] *** Joins: oXo_Team_TR7763 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:12:32] *** zuhahahaha8820 is now known as zuhahahaha5966
[12:12:32] *** Parts: hahahah2637 (a1109@8973791E.373F292.F594618C.IP) ()
[12:12:32] *** Joins: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:12:33] *** oXo_Team_TR7763 is now known as zuhahahaha2287
[12:12:33] *** Joins: hahahah2637 (a1109@8973791E.373F292.F594618C.IP)
[12:12:33] *** Parts: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:12:34] *** Parts: hahahah2637 (a1109@8973791E.373F292.F594618C.IP) ()
[12:12:34] *** Joins: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:12:34] <FreeFull> ):
[12:12:35] *** Joins: hahahah2637 (a1109@8973791E.373F292.F594618C.IP)
[12:12:35] *** Parts: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:12:36] *** Parts: hahahah2637 (a1109@8973791E.373F292.F594618C.IP) ()
[12:12:36] *** Joins: hahahah5162 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:12:37] *** zuhahahaha2287 is now known as zuhahahaha2558
[12:12:37] *** Parts: zuhahahaha5966 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:12:37] *** Joins: hahahah2637 (a1109@8973791E.373F292.F594618C.IP)
[12:12:38] *** Joins: zuhahahaha5966 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:12:38] *** hahahah2637 is now known as zuhahahaha6899
[12:12:38] *** hahahah5162 is now known as zuhahahaha8699
[12:12:39] *** Parts: zuhahahaha5966 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:12:40] *** Joins: zuhahahaha5966 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:12:41] *** Parts: zuhahahaha5966 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:12:42] *** Parts: zuhahahaha2558 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:12:42] *** Joins: zuhahahaha5966 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:12:42] *** zuhahahaha6899 is now known as zuhahahaha9745
[12:12:44] *** Joins: zuhahahaha2558 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:12:44] *** Parts: zuhahahaha5966 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:12:44] *** Parts: zuhahahaha8699 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:12:44] *** Parts: zuhahahaha2558 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:12:44] *** Joins: zuhahahaha5966 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:12:44] *** Joins: zuhahahaha8699 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:12:45] *** Joins: zuhahahaha2558 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:12:45] *** Parts: zuhahahaha5966 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:12:45] *** Parts: zuhahahaha8699 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:12:46] *** Parts: zuhahahaha2558 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:12:46] *** Joins: zuhahahaha5966 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:12:46] *** Joins: zuhahahaha8699 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:12:47] *** Joins: zuhahahaha2558 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:12:47] *** Parts: zuhahahaha5966 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:12:47] *** Parts: zuhahahaha9745 (a1109@8973791E.373F292.F594618C.IP) ()
[12:12:47] *** Parts: zuhahahaha8699 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:12:48] *** Parts: zuhahahaha2558 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:12:48] *** Joins: zuhahahaha5966 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:12:48] *** Joins: zuhahahaha9745 (a1109@8973791E.373F292.F594618C.IP)
[12:12:48] *** Joins: zuhahahaha8699 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:12:49] *** Joins: zuhahahaha2558 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:12:49] *** Parts: zuhahahaha5966 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:12:49] *** Parts: zuhahahaha9745 (a1109@8973791E.373F292.F594618C.IP) ()
[12:12:49] *** Parts: zuhahahaha8699 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:12:49] <bobthenameless> this is madness
[12:12:50] *** Parts: zuhahahaha2558 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:12:50] *** Joins: zuhahahaha5966 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:12:50] *** Joins: zuhahahaha9745 (a1109@8973791E.373F292.F594618C.IP)
[12:12:50] *** Joins: zuhahahaha8699 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:12:51] *** Joins: zuhahahaha2558 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:12:51] *** Parts: zuhahahaha5966 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:12:51] *** Parts: zuhahahaha9745 (a1109@8973791E.373F292.F594618C.IP) ()
[12:12:51] *** Parts: zuhahahaha8699 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:12:53] *** Parts: zuhahahaha2558 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:12:53] *** Joins: zuhahahaha5966 (j2626@E9C4078A.26E1DB99.62D62C91.IP)
[12:12:53] *** Joins: zuhahahaha9745 (a1109@8973791E.373F292.F594618C.IP)
[12:12:53] *** Joins: zuhahahaha8699 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:12:53] *** Joins: zuhahahaha2558 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:12:53] *** Parts: zuhahahaha9745 (a1109@8973791E.373F292.F594618C.IP) ()
[12:12:53] *** Parts: zuhahahaha8699 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:12:54] *** Parts: zuhahahaha2558 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:12:54] *** Joins: zuhahahaha9745 (a1109@8973791E.373F292.F594618C.IP)
[12:12:54] *** Joins: zuhahahaha8699 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:12:55] *** Parts: zuhahahaha9745 (a1109@8973791E.373F292.F594618C.IP) ()
[12:12:55] *** Parts: zuhahahaha8699 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:12:56] *** Joins: zuhahahaha2558 (h6171@4E3A4B5.C444B5A0.F594618C.IP)
[12:12:56] *** Joins: zuhahahaha9745 (a1109@8973791E.373F292.F594618C.IP)
[12:12:56] *** Joins: zuhahahaha8699 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:12:57] *** Parts: zuhahahaha9745 (a1109@8973791E.373F292.F594618C.IP) ()
[12:12:57] *** Parts: zuhahahaha8699 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:12:58] *** Joins: zuhahahaha9745 (a1109@8973791E.373F292.F594618C.IP)
[12:12:58] *** Joins: zuhahahaha8699 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP)
[12:12:59] *** Parts: zuhahahaha9745 (a1109@8973791E.373F292.F594618C.IP) ()
[12:13:00] *** Joins: zuhahahaha9745 (a1109@8973791E.373F292.F594618C.IP)
[12:13:01] *** Parts: zuhahahaha9745 (a1109@8973791E.373F292.F594618C.IP) ()
[12:13:01] *** jdm sets mode: +b zuh*!*@*
[12:13:03] <frogonia> our base is under attack
[12:13:04] <FreeFull> Why would someone do this
[12:13:05] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[12:13:07] *** Parts: zuhahahaha5966 (j2626@E9C4078A.26E1DB99.62D62C91.IP) ()
[12:13:09] *** Parts: zuhahahaha2558 (h6171@4E3A4B5.C444B5A0.F594618C.IP) ()
[12:13:11] *** Parts: zuhahahaha8699 (u3022@65FCF31C.4315CFA3.D7A30BEC.IP) ()
[12:13:11] <bjz_> :)
[12:13:35] <bjz_> FreeFull: they are ATS fans
[12:14:03] <Nickiniz> :)
[12:14:07] <Nickiniz> Güzelmiþ.
[12:14:07] <Nickiniz> :D
[12:14:10] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[12:14:25] <frogonia> I heard of that facebook is trying D2.0, if Rust is ready now, would they use Rust?
[12:14:33] *** Nickiniz is now known as oXo
[12:14:34] <oXo> :D
[12:14:48] *** Quits: oXo (Buyur@B2F92B4A.980B3CB7.E084BF44.IP) (Quit: Türkçe mIRC 6.3 ø www.Buyur.Net)
[12:16:02] *** Joins: joris (joris@A74647D2.CB7F0DDD.EA6CD7DC.IP)
[12:16:04] <utkarsh> Has anyone implemented any toy language *on* Rust?
[12:16:28] <utkarsh> "in"
[12:16:52] <bjz_> frogonia: I dunno how true that facebook thing was, Andrei said he'd pushed ~5000 LOC, but that's not that much.
[12:16:53] <tiffany> I have
[12:17:12] <bjz_> frogonia: but I could be wrong
[12:17:17] *** Joins: maik_ (maik@moz-2EABCB6D.dip0.t-ipconnect.de)
[12:17:18] <eddyb> bjz_: Andrei? that name sounds Romanian :P
[12:17:22] <tiffany> it can evaluate S-exprs but you can't define functions in the rust impl yet
[12:17:37] <bjz_> eddyb: he's the co-creator of D
[12:17:56] <utkarsh> tiffany, is it up on Github or anything?
[12:18:08] <tiffany> https://github.com/tiffany352/frscript
[12:18:16] <bjz_> eddyb: he works at Facebook, but he was no doubt hired because he is a top C++ expert more than the fact he helped design D
[12:18:17] <dbaupp> eddyb: Andrei Alexandrescu, so yes, he's romanian
[12:19:01] *** Joins: bholley (anonymous@moz-4D8B41AE.versanet.de)
[12:19:25] <bjz_> frogonia: Rust has tons more momentumn than D
[12:19:30] <bjz_> frogonia: and whilst I don't mind D, it still can't compete with Rust's safe, deterministic memory management
[12:20:46] <tiffany> D apparently has a type-safe subset which isn't very useful
[12:20:47] <bjz_> frogonia: its a fundamental thing at the heart of the language that would be extremely hard to retrofit.
[12:21:16] <tiffany> the D community is (or was) pretty heavily fragmented
[12:21:29] <frogonia> At the beginning, I like rust because of its macro system
[12:21:36] <bjz_> tiffany: yeah, it has `pure`
[12:21:42] <eddyb> macros can still be more powerful
[12:21:55] <bjz_> tiffany: that allows it to do its CTFE awesomeness
[12:21:58] <tiffany> macros aren't turing complete are they?
[12:22:02] <FreeFull> asm!
[12:22:08] <bjz_> no, I don't believe so
[12:22:16] <eddyb> oh, about extending the language, I think I know how I would implement variadic generics :D
[12:22:17] <tiffany> are they allowed to be recursive?
[12:22:36] <eddyb> is there an issue tracking them (variadic generics, that is)?
[12:22:45] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[12:22:48] <FreeFull> tiffany: I think so, but I also think the stack isn't too deep
[12:23:00] <dbaupp> eddyb: unlikely
[12:23:04] <bjz_> tiffany: there is a sort of weird inside-out way of doing recusion, but I haven't got my head around it yet
[12:23:10] <eddyb> dbaupp: it would be awesome with tuples :D
[12:23:12] <dbaupp> eddyb: HKT would be much better :P
[12:23:23] <bjz_> both would be amazing
[12:23:24] <tiffany> that's probably the one thing about lisp, its powerful macros
[12:23:24] <bjz_> :)
[12:23:37] <eddyb> type Tuple<..T> = (..T);
[12:23:56] <dbaupp> tiffany: (apparently one of the original implementors of the macros wrote a simple lambda calculus, or something)
[12:23:57] *** Joins: Ferreus (ferreus@moz-7D41ABA2.pools.arcor-ip.net)
[12:24:07] <bjz_> dbaupp: oh neat
[12:24:18] <frogonia> it would be better, if Rust has two sets of syntax, adding lisp style
[12:24:35] <bjz_> eddyb: yeah, it's a little concerning that its hard to do much with tuples
[12:24:38] <tiffany> the idea with my language was to use S-exprs with syntax frontends
[12:24:39] *** Joins: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net)
[12:24:47] <tiffany> I think I'm going to switch to stack-based though
[12:24:51] <bjz_> eddyb: the same with fixed length vectors
[12:24:56] <eddyb> f(0, ..(1, "abc", true), false) should expand to f(0, 1, "abc, true, false)
[12:24:59] <dbaupp> (fn foo (T (Eq Ord) S (TotalOrd TotalEq)) ((a T) (b S)) (...))
[12:25:04] <bjz_> tiffany: stackbased ftw
[12:25:11] <utkarsh> tiffany, thanks for the link!
[12:25:17] *** Quits: amro (quassel@8586EE21.B62DA81E.BF6473A8.IP) (Client exited)
[12:25:20] <frogonia> haha
[12:25:28] <eddyb> bjz_: that way parameter packs can just be tuples :D
[12:25:36] <tiffany> stack-based seems to require more syntax though and I don't know what to do about it
[12:26:02] <bjz_> tiffany: have you been to #concatenative on freenode?
[12:26:06] <tiffany> nope
[12:26:16] <bjz_> tiffany: folks there might be able to assist you better
[12:27:03] <bjz_> tiffany: the stack based PL community is quite friendly
[12:27:16] <bjz_> tiffany: jeaye hangs out there too
[12:27:32] <eddyb> dbaupp, bjz_: should I try to make a proper proposal and maybe try to write some parts of it?
[12:27:41] <bjz_> tiffany: http://concatenative.org/
[12:27:56] *** Quits: doener (doener@moz-C68F600D.unity-media.net) (Quit: leaving)
[12:28:18] <doublec> tiffany: factor is an interesting stack based language if you're looking for ideas/information
[12:28:28] <bjz_> doublec++
[12:28:29] *** Joins: pyrac (pyrac@moz-CB14E320.w92-162.abo.wanadoo.fr)
[12:28:32] <bjz_> ha
[12:28:34] <dbaupp> eddyb: maybe? (I don't think the extra complexity is desireable just yet though)
[12:28:58] <dbaupp> eddyb: having integer type parameters seems like it would be more immediately useful
[12:29:00] * bjz_ is amused by 'doublec++'
[12:29:04] <doublec> hehe
[12:29:10] *** Quits: Mindless` (mindless@moz-9C38D3B4.net) (Ping timeout)
[12:29:20] <eddyb> dbaupp: the Fn trait needs the variadic generics
[12:29:32] <bjz_> eddyb: parameterising  over constants would be much more useful
[12:29:36] <dbaupp> eddyb: or compiler magic
[12:29:46] <eddyb> hmpf
[12:29:47] *** Quits: bholley (anonymous@moz-4D8B41AE.versanet.de) (Quit: bholley)
[12:30:06] <bjz_> eddyb: it would enable lots of cool stuff
[12:30:14] <dbaupp> eddyb: haha :) (I guess the compiler magic for Fn and for full variadic generics wouldn't be that different in any case.)
[12:30:25] <eddyb> both would, but you're right, constants have bitten me in the past
[12:30:28] <bjz_> dbaupp: he has a point
[12:30:33] <eddyb> along with the lack of CTFE
[12:30:37] <bjz_> dbaupp: (about Fn)
[12:30:48] <eddyb> (the constants I emulated with [u8, ..N])
[12:31:04] <bjz_> eddyb: yeah, it's a massive pain point
[12:31:21] <eddyb> (and CTFEs with macros)
[12:31:25] * dbaupp wants to be able to implement traits on fixed length vectors...
[12:31:51] <frogonia> Some people from China complain about the short keyword
[12:31:59] <bjz_> o_o
[12:32:25] <bjz_> was that meant to be funny?
[12:32:28] <eddyb> frogonia: is that some kind of (anti-)racist joke?
[12:32:30] <dbaupp> frogonia: like 'fn'?
[12:32:35] <frogonia> some people say they like Rust all but its short keyword
[12:32:41] <eddyb> oh, keywords?
[12:32:49] <frogonia> yes
[12:32:56] <eddyb> (I was thinking of "short", derp)
[12:32:56] <dbaupp> hard to understand?
[12:33:13] <eddyb> dbaupp: I think they could have actual meanings in some dialects
[12:33:17] <bjz_> ohhh!
[12:33:19] <frogonia> I guess they mean it is hard to read
[12:33:30] <bjz_> I understand
[12:33:40] *** Joins: bholley (anonymous@moz-4D8B41AE.versanet.de)
[12:33:42] <dbaupp> yeah, it's just something one gets used to
[12:33:51] * dbaupp quite likes the terse keywords
[12:34:01] <bjz_> yeah, it sort of blurrs away
[12:34:07] * bjz_ loooves fn
[12:34:18] *** Joins: steveklabnik (steveklabn@moz-22FDA25B.hsd1.ca.comcast.net)
[12:34:28] * bjz_ likes 'fun' though
[12:34:39] <tiffany> fn is a nice middle ground
[12:34:44] * bjz_ thinks it makes code look happy
[12:34:48] <eddyb> hmm, google translate won't give me anything for fn :/
[12:34:55] <tiffany> it's almost as short as C syntax but it isn't hard to parse
[12:35:22] <eddyb> function from JS is ugly, shorter is nicer :D
[12:35:26] *** Quits: bholley (anonymous@moz-4D8B41AE.versanet.de) (Ping timeout)
[12:35:31] <dbaupp> bjz_: we could drop `unsafe fun` and just call it `sad`
[12:35:40] <bjz_> dbaupp: YES
[12:35:47] <bjz_> dbaupp: RFC!!
[12:35:49] <bjz_> noa
[12:36:05] <bjz_> *now
[12:36:09] <tiffany> hahaha
[12:36:12] <dbaupp> break every Rust codebase in existence for a bad pun
[12:36:20] * dbaupp knows a good idea when he sees one
[12:36:24] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[12:36:44] *** Quits: pseudoku (quassel@AE3E849.42F3C75.520CDC98.IP) (Ping timeout)
[12:37:05] <bjz_> frogonia: the man himself, steveklabnik is here
[12:37:10] <bjz_> :)
[12:37:16] <frogonia> If remove { , } like python or Ruby, it would be nicer to code
[12:37:31] <frogonia> yes, I read from his introduction
[12:37:33] <steveklabnik> hey hey
[12:37:45] <bjz_> steveklabnik: frogonia is coming from Ruby
[12:37:48] <steveklabnik> woo!
[12:38:21] <bjz_> steveklabnik: just poking around I think though
[12:38:22] <bjz_> :)
[12:38:25] <steveklabnik> I actually really prefer Rust with the {}s
[12:38:38] <steveklabnik> it's a visual reminder that you're using a real systems language ;)
[12:38:38] <frogonia> why
[12:38:39] *** Joins: pseudoku (quassel@DDEB09C9.8D2F0C52.520CDC98.IP)
[12:38:39] * eddyb dislikes python, likes unwrapped C-style if/else/while/for, but understands the value of requiring them
[12:38:47] <bjz_> steveklabnik: hah
[12:38:51] <frogonia> hah
[12:38:58] <steveklabnik> i'm being serious though, it feels right to me.
[12:39:29] <steveklabnik> i can see how someone might miss it, and adding more punction does make it feel more noisy
[12:39:37] <dbaupp> it lets you hug your branches so they don't get too lonely: `if cond {a} else {b}`
[12:39:45] <bjz_> aww
[12:41:03] <tiffany> I'm on the fence about significant whitespace
[12:41:10] <tiffany> it's more complicated to parse
[12:41:23] <frogonia> steveklabnik: Would you use Rust in server side besides of system programming?
[12:41:36] <eddyb> frogonia: you can use Rust in a kernel
[12:42:09] <frogonia> eddyb: in what kernel
[12:42:19] <eddyb> frogonia: https://github.com/mozilla/rust/wiki/Operating-system-development
[12:42:31] <dbaupp> eddyb: that didn't exactly answer frogonia's question
[12:42:48] <eddyb> in... new kernels, written specifically in Rust :)
[12:43:10] <eddyb> dbaupp: or the earlier question?
[12:43:20] <eddyb> rusti: trait Foobar<T>;
[12:43:21] -rusti- pastebinned 6 lines of output: http://sprunge.us/adWY
[12:43:31] <eddyb> rusti: trait Foobar<T> {}
[12:43:32] -rusti- ()
[12:43:40] <dbaupp> eddyb: "Would you use Rust in server side besides of system programming?"
[12:44:09] <dbaupp> eddyb: writing a kernel probably counts as systems programming
[12:44:37] <eddyb> dbaupp: oh wow, I misunderstood the question even more
[12:44:55] <eddyb> I swear I had enough sleep...
[12:45:12] *** Quits: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP) (Ping timeout)
[12:45:39] <steveklabnik> frogonia: yup, i am planning on a Resque back end actually, as just one thing
[12:45:53] <steveklabnik> write Resque jobs in Rust
[12:46:39] *** Joins: d3xter (sinz@moz-B748C1D.adsl.highway.telekom.at)
[12:47:08] *** Quits: gem_ (nandaja@5E6A112B.BE681C88.A2DC32D.IP) (Ping timeout)
[12:49:13] *** Joins: Mindless` (mindless@moz-9C38D3B4.net)
[12:49:49] <frogonia> ok
[12:49:52] *** Quits: jdm (jdm@moz-6A7642F9.rave.ac.uk) (Ping timeout)
[12:51:19] <d3xter> hey guys
[12:51:53] *** Quits: Mindless` (mindless@moz-9C38D3B4.net) (Ping timeout)
[12:52:26] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[12:53:04] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[12:53:12] *** Quits: frogonia (Mibbit@832DA2F8.F27E69A1.3BD9FE04.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[12:54:01] *** Quits: pyrac (pyrac@moz-CB14E320.w92-162.abo.wanadoo.fr) (Quit: pyrac)
[12:55:15] <eddyb> kimundi: needs more ```rust :P https://github.com/mozilla/rust/issues/10090
[12:55:52] <kimundi> eddyb: I actually tried to add taht and didn't see a difference, which was weird :P
[12:56:35] <eddyb> kimundi: that would be a bug
[12:58:06] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[13:02:32] *** Quits: RMF (RMF@moz-A9053785.dsl.telepac.pt) (Quit: Textual IRC Client: www.textualapp.com)
[13:02:38] *** Joins: RMF (RMF@moz-A9053785.dsl.telepac.pt)
[13:02:49] *** Joins: gem_ (nandaja@71C245F4.16136CB9.B84D4DA2.IP)
[13:10:12] *** Joins: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP)
[13:11:42] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[13:12:02] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Quit: )
[13:12:19] *** Joins: bholley (anonymous@moz-4D8B41AE.versanet.de)
[13:14:15] *** Joins: berleon (berleon@moz-87C88638.superkabel.de)
[13:15:26] <joris> hi all, does anyone know how to tell the kate text editor to use the highlight config file in rust-0.8/src/etc/kate/ ?
[13:17:56] <eddyb> joris: cp src/etc/kate/rust.xml ~/.kde4/share/apps/katepart/syntax
[13:18:14] <eddyb> I think that's how it goes, use tab complete in your shell if I got something wrong :D
[13:18:55] <eddyb> that reminds me I need to make a PR to update that file, I fixed most of problems I had with it
[13:19:54] *** Quits: JanC (janc@moz-E01EC4AC.dsl.scarlet.be) (Ping timeout)
[13:23:57] *** Joins: pyrac (pyrac@moz-CB14E320.w92-162.abo.wanadoo.fr)
[13:26:24] *** Joins: cubic (cubic@moz-80241A3A.mc.videotron.ca)
[13:28:08] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[13:28:09] <joris> thanks eddyb, the directory is ~/.kde instead of ~/.kde4 on my system (fedora 19) but it's working now :)
[13:28:31] <kimundi> eddyb: Do raw string literals also work in your new kate file?
[13:29:58] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[13:30:39] <ChrisMorgan> I would prefer to use symlinks in such a case; that way it's automatically updated
[13:31:12] <ChrisMorgan> i.e. `ln -s /path/to/rust/src/etc/kate/rust.xml ~/.kde4/share/apps/katepart/syntax/`
[13:31:18] <joris> yep good idea, but my rust directory is not stable for the moment
[13:32:50] *** Joins: Mindless` (mindless@moz-9C38D3B4.net)
[13:32:53] <joris> it's maybe possible to change the makefile for installing the file on the good system dir for kde
[13:32:54] <eddyb> kimundi: let me check, I didn't touch anything related to strings
[13:33:37] <eddyb> kimundi: but things like // NOTE and /// \todo work now :P (they can be used by any language, just weren't in Rust. ##Alerts and ##Doxygen, I think)
[13:34:02] <kimundi> eddyb: I'm asking because I'm currently editing a raw string literal containing rust code in kate, and my old highlighting file fails on that :)
[13:34:30] *** Quits: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP) (Ping timeout)
[13:34:43] <kimundi> It might already work in current HEAD though, not sure.
[13:35:23] *** Quits: pyrac (pyrac@moz-CB14E320.w92-162.abo.wanadoo.fr) (Quit: pyrac)
[13:35:42] <eddyb> kimundi: it's not implemented :/. remind me to get to that after the other things I want to do :P
[13:35:44] *** Joins: JanC (janc@moz-9C305E6.dsl.scarlet.be)
[13:35:58] <eddyb> the main thing I did was I removed all the custom colors
[13:36:09] <kimundi> rusti: "assertion failed: " + stringify!(a + b + c)
[13:36:10] -rusti- ~"assertion failed: a + b + c"
[13:36:25] <kimundi> eddyb: Aww, I'm probably going to miss them XD
[13:36:40] <eddyb> I've tried to keep it pretty without making it inconsistent with other languages
[13:36:49] * kimundi only used kate for rust, so those colors are all he knows
[13:37:01] <eddyb> kimundi: try opening a C++ file
[13:38:32] <eddyb> (kdevelop4 is more colorful for C/C++ because it understands those (among other languages) and it colors types and identifiers based on identity)
[13:38:39] <kimundi> Bah, boring colors ;)
[13:38:50] <eddyb> kimundi: you can change the scheme in the settings
[13:39:03] <kimundi> I know :)
[13:39:14] <eddyb> without creating a style gap
[13:45:47] *** Quits: fabiand (fabiand@moz-85984521.adsl.alicedsl.de) (Quit: Verlassend)
[13:48:19] *** Joins: Daniel_S (Daniel_S@moz-5B58D8B7.dhcp.snlo.ca.charter.com)
[13:49:47] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[13:52:16] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[13:55:46] *** jack|travel is now known as jack
[13:59:01] *** Quits: TeXitoi (texitoi@moz-EA958D66.texitoi.eu) (Ping timeout)
[13:59:24] *** Joins: canhtak (jeremy@moz-830A7AA1.wl.t.ulaval.ca)
[13:59:26] *** Joins: TeXitoi (texitoi@moz-EA958D66.texitoi.eu)
[14:00:45] *** Parts: canhtak (jeremy@moz-830A7AA1.wl.t.ulaval.ca) ()
[14:02:52] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[14:03:00] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[14:03:22] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[14:03:52] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[14:05:22] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[14:05:36] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[14:07:36] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[14:07:36] *** ChanServ sets mode: +ao dherman dherman
[14:08:03] *** Quits: maik_ (maik@moz-2EABCB6D.dip0.t-ipconnect.de) (Ping timeout)
[14:11:01] *** Joins: maik_ (maik@moz-2EABCB6D.dip0.t-ipconnect.de)
[14:11:14] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[14:13:47] *** Quits: maik_ (maik@moz-2EABCB6D.dip0.t-ipconnect.de) (Ping timeout)
[14:14:33] *** Joins: houzi (houzi@moz-186722C6.getinternet.no)
[14:15:34] <houzi> Is it likely that QT and Rust will be coupled at some point? I'd say it would be a match made in heaven..
[14:16:39] <steveklabnik> houzi: I forget if QT only supports the C++ calling convention, but if it supports the C one, I don't see why not.
[14:21:09] *** Quits: bholley (anonymous@moz-4D8B41AE.versanet.de) (Quit: bholley)
[14:22:57] *** Joins: _vincent (vincent@1D262228.CB8B31D8.A0197E77.IP)
[14:24:26] *** Quits: Daniel_S (Daniel_S@moz-5B58D8B7.dhcp.snlo.ca.charter.com) (Quit: Leaving)
[14:28:15] *** Joins: Daniel_S (Daniel_S@moz-5B58D8B7.dhcp.snlo.ca.charter.com)
[14:32:13] *** Joins: bholley (anonymous@moz-CB983BB6.superkabel.de)
[14:32:24] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Quit: Leaving)
[14:33:47] *** Joins: jvns (quassel@moz-DE62990.nyc.res.rr.com)
[14:36:24] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[14:37:32] <eddyb> houzi, steveklabnik: I'd love to see Rust and clang coupled. it could bring the "ffi" to a whole new level :D
[14:38:02] *** Joins: p0nce (ponce@moz-D65F4148.fbx.proxad.net)
[14:38:23] *** Quits: steveklabnik (steveklabn@moz-22FDA25B.hsd1.ca.comcast.net) (Ping timeout)
[14:39:31] *** Quits: p0nce (ponce@moz-D65F4148.fbx.proxad.net) (Quit: )
[14:40:06] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[14:41:27] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Connection reset by peer)
[14:47:55] *** Joins: maik_ (maik@moz-2EABCB6D.dip0.t-ipconnect.de)
[14:49:25] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[14:50:09] *** Joins: annodomini (lambda@moz-9AC5B452.hsd1.ma.comcast.net)
[14:52:51] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[14:53:09] *** Joins: pyrac (pyrac@moz-CB14E320.w92-162.abo.wanadoo.fr)
[14:53:21] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[14:53:42] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[14:54:55] *** Joins: reedlepee (Mibbit@9B9315E1.A6025CA.1C37C358.IP)
[14:55:03] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[15:00:43] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[15:02:40] <jensnockert> bjz_: SpriteKit doesn't like my pixel-art :(
[15:03:36] <bjz_> jensnockert: why not?
[15:03:51] <jensnockert> Scaling is not nearest neighbor, and I cannot find a way to change it.
[15:03:58] <bjz_> D:
[15:04:05] <bjz_> wtf apple
[15:04:52] <bodie_> so...... I'm planning a Rust client for the Redis db.  There exists a C client already.  it is a fairly simple TCP protocol.
[15:05:08] <bodie_> how much harder do you think it would be to write this client from scratch, vs to wrap the C client?
[15:05:08] <jensnockert> bjz_: Kind of my reaction as well.
[15:05:33] <jensnockert> bodie_: Significantly, but mainly because wrapping the C client would be super-easy.
[15:05:42] <bodie_> how easy are we talking here?
[15:05:55] <bodie_> vs -- would I need to worry about any performance considerations, etc?
[15:05:58] <bodie_> I'm new to Rust
[15:06:00] <jensnockert> Wrapping the C client should be 20-30 minutes of work?
[15:06:17] <jensnockert> Calling C from Rust is really easy.
[15:06:29] <jensnockert> But writing a Rust library for Redis would be super-cool!
[15:06:46] <bodie_> Yeah, it really would.  I don't think it would be hard to implement super basic functionality, either.
[15:06:50] <Yurume> SimonSapin, I have (finally!) reviewed the proposal for character encoding API, and I generally agree on the main points
[15:07:03] <bjz_> jensnockert: https://developer.apple.com/library/ios/documentation/SpriteKit/Reference/SKTexture_Ref/Reference/Reference.html#//apple_ref/c/tdef/SKTextureFilteringMode
[15:07:04] <SimonSapin> Yurume: cool
[15:07:04] <Yurume> but should the `decoding_error` etc. receive an owned vector?
[15:07:28] <SimonSapin> itâ€™s not definitive, the idea is to start discussion
[15:07:30] <bjz_> jensnockert: https://developer.apple.com/library/ios/documentation/SpriteKit/Reference/SKTexture_Ref/Reference/Reference.html#//apple_ref/occ/instm/SKTexture/textureByApplyingCIFilter:
[15:07:33] <bodie_> I guess my question is whether building a TCP client in Rust is difficult or whether there are already things for doing it.
[15:07:36] <SimonSapin> let me lookâ€¦
[15:07:43] <bodie_> versus, wrapping the C thing.  
[15:07:46] <jensnockert> bjz_: <3.
[15:07:47] <bjz_> jensnockert: not sure if that might be sort of what you are after
[15:07:51] <bodie_> too many things, not enough brain.
[15:08:05] <bjz_> jensnockert: yay detective work
[15:08:09] <Yurume> I guess rust-encoding will have semi-internal `raw_feed` and `raw_finish` methods under the current design
[15:08:34] <Yurume> (currently they are named, a bit incorrectly, just `feed` and `finish`)
[15:08:51] <SimonSapin> Yurume: how would they differ?
[15:08:57] <bjz_> jensnockert: also, come to #rust-gamedev :P
[15:09:02] *** Quits: jvns (quassel@moz-DE62990.nyc.res.rr.com) (Ping timeout)
[15:09:21] <jensnockert> bjz_: Doh, I got invited before, but someone misspelled, and I didn't notice *blush*
[15:09:27] <Yurume> I'm refining the internal structure so that the error recovery semantics of rust-encoding finally matches that of the Encoding standard
[15:09:38] <bjz_> heh
[15:09:41] <jensnockert> Been in #rust-gamdev all day *blush*
[15:09:51] <Yurume> and that certainly changes the interface of `feed` and `finish`
[15:10:01] <jensnockert> Now I am in there.
[15:10:18] <SimonSapin> Yurume: error handling is a part where Iâ€™m less decided
[15:10:34] <bjz_> jensnockert: HAA
[15:10:38] <Yurume> the problem is that, at first I thought `feed` and `finish` would be internal API but it now seems they should be exposed in public somehow
[15:10:39] <bjz_> jensnockert: was that me?
[15:10:49] <SimonSapin> in particular, how much power should we give to handlers? (at the cost of complexity)
[15:10:56] <jensnockert> No idea, possibly?
[15:11:02] <Yurume> I think the current condition is fine for most cases
[15:11:23] <SimonSapin> Yurume: I think that the direction std::path is taking means we donâ€™t need "surrogate escaping"
[15:11:35] <SimonSapin> meaning we could simplify handlers
[15:11:46] <Yurume> right, and I've changed the sample code recently
[15:12:15] <Yurume> (Python's xmlcharrefreplace, to be exact)
[15:12:48] <Yurume> correct is_utf8 has broken the older sample code anyway ;)
[15:13:23] <SimonSapin> in particular, decoding_error may not need any input
[15:14:39] <Yurume> encoding_error may however
[15:15:04] <SimonSapin> â€¦ in which case Iâ€™m not convinced conditions are even useful, it could just be a boolean flag for strict vs. replace decoding
[15:15:05] <Yurume> and it seems unnatural to have decoding_error and encoding_error asymmetric
[15:15:41] <Yurume> ..the Encoding standard now has three options for encoding error recovery, doesn't it?
[15:15:53] <SimonSapin> yes
[15:16:20] <Yurume> then how to simulate non-strict recovery mode with that API?
[15:16:59] <SimonSapin> without conditions? It would be a "error handling mode" enum passed when making a decoder/encoder
[15:17:23] <Yurume> ah, pre-defined replacement rules?
[15:17:41] <SimonSapin> yes
[15:17:42] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[15:18:22] <SimonSapin> Iâ€™d prefer that to conditions, but based on gut feeling only
[15:18:53] <SimonSapin> I donâ€™t know if there is a legitimate use case for different error handling
[15:19:01] <SimonSapin> s/different/custom/
[15:19:09] <Yurume> AFAIK std::rt::io may retire the use of conditions altogether, is it right?
[15:19:20] *** Quits: mikezaby (mikezaby@moz-B26868E.home.otenet.gr) (Input/output error)
[15:19:35] <SimonSapin> I donâ€™t know, I havenâ€™t read that mailing list thread
[15:19:37] <Yurume> that is one possible future problem in using conditions
[15:19:40] <Yurume> hmm
[15:20:14] <Yurume> i.e. a thread starting at https://mail.mozilla.org/pipermail/rust-dev/2013-October/005990.html
[15:22:19] *** Joins: jdm (jdm@moz-6A7642F9.rave.ac.uk)
[15:22:19] *** ChanServ sets mode: +o jdm
[15:23:31] *** Quits: gem_ (nandaja@71C245F4.16136CB9.B84D4DA2.IP) (Ping timeout)
[15:25:54] <SimonSapin> Yurume: Iâ€™d rather keep things simple and only offer pre-defined error handling (without conditions) but I donâ€™t know if there is a use case I havenâ€™t thought of yet that justifies custom handling
[15:25:58] <SimonSapin> what do you think?
[15:27:32] <SimonSapin> I donâ€™t 
[15:27:44] <SimonSapin> I donâ€™t want to use conditions just become conditions are new and shiny
[15:27:51] <SimonSapin> s/become/because/
[15:28:57] <Yurume> if we only have a fixed set of recovery modes I bet to have a simple enum for recovery
[15:30:39] *** Quits: pyrac (pyrac@moz-CB14E320.w92-162.abo.wanadoo.fr) (Quit: pyrac)
[15:30:42] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[15:31:31] *** Quits: maik_ (maik@moz-2EABCB6D.dip0.t-ipconnect.de) (Ping timeout)
[15:32:51] *** Joins: jstevans (Instantbir@moz-F6AFB1D3.bootp.virginia.edu)
[15:32:58] *** Quits: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP) (Ping timeout)
[15:33:24] <SimonSapin> yes, my point is: is that fixed set enough?
[15:35:51] *** Quits: xexio (xexio@C09C96B1.3A1C6308.FFDF157.IP) (Quit: Konversation terminated!)
[15:35:55] *** Quits: nkoep (nik@moz-6EC32C6E.pool.mediaways.net) (Ping timeout)
[15:37:30] <SimonSapin> I skimmed the "Should I/O use conditions?" thread, I donâ€™t think the concern applies to character encodings
[15:37:48] <SimonSapin> eg. "replacement" handling is recovery, not just signaling
[15:38:20] <SimonSapin> Iâ€™d still rather avoid conditions if that work ;)
[15:39:08] *** Joins: gem_ (nandaja@B391D639.ACD1A303.422D491.IP)
[15:40:10] <Yurume> SimonSapin, I've searched Github for "codecs.register_error" (Python's custom error recovery callback register), and that's quite interesting
[15:41:11] <Yurume> e.g. there are considerable amount of codes simulating the Encoding standard
[15:42:06] <Yurume> there is an instance of custom callback for CSS-style escapes: https://github.com/cdhigh/KindleEar/blob/master/cssutils/_codec2.py
[15:42:38] <Yurume> more elaborate example would be legacy Emoji handling: https://github.com/suzukitakafumi/emojicodecs/
[15:43:20] <Yurume> so, well, there *is* some demand for such feature, not sure about should we make this into a public API
[15:43:50] *** Quits: gem_ (nandaja@B391D639.ACD1A303.422D491.IP) (Ping timeout)
[15:45:23] <SimonSapin> Iâ€™m not convinced that CSS (or other) escaping belongs in Encoding
[15:45:52] *** Joins: GeneralMaximus (ankur@81AB1B74.901B65D0.BE90E62C.IP)
[15:46:48] *** Quits: RMF (RMF@moz-A9053785.dsl.telepac.pt) (Quit: Computer has gone to sleep.)
[15:47:06] *** Quits: jstevans (Instantbir@moz-F6AFB1D3.bootp.virginia.edu) (Ping timeout)
[15:47:55] <Yurume> one thing fortunate is that I haven't see single occurrence of error recovery throughout multiple bytes or codepoints
[15:48:31] *** Joins: pyrac (pyrac@moz-CB14E320.w92-162.abo.wanadoo.fr)
[15:48:51] <Yurume> in the other words, we don't need ~[u8] -> Result etc. but just u8 -> Result etc.
[15:50:23] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[15:50:23] *** Joins: nkoep (nik@moz-D3D342AE.vpn.rwth-aachen.de)
[15:51:07] *** Joins: jstevans (Instantbir@moz-30480ECC.bootp.virginia.edu)
[15:52:23] *** Joins: lfox (lfox@moz-18319C97.nyc.biz.rr.com)
[15:52:37] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[15:54:58] *** Joins: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP)
[15:55:45] <eddyb> rusti: let a = 0; let b = 1; (a, b) = (b, a); (a, b)
[15:55:46] -rusti- pastebinned 8 lines of output: http://sprunge.us/HHZR
[15:56:11] <eddyb> dbaupp: ^^ I didn't even try to get some ICE
[15:56:18] <eddyb> rusti: let mut a = 0; let mut b = 1; (a, b) = (b, a); (a, b)
[15:56:19] -rusti- pastebinned 14 lines of output: http://sprunge.us/jRaj
[15:57:19] <eddyb> it feels like different parts of rustc disagree on what's a lvalue
[15:59:20] *** Joins: gem_ (nandaja@5E85F600.1054FA69.B84D4DA2.IP)
[15:59:31] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[15:59:39] <SimonSapin> Yurume: I added two alternative proposals in https://github.com/mozilla/rust/wiki/Proposal-for-character-encoding-API
[15:59:53] <SimonSapin> gotta go catch a train, â€™later
[16:00:13] <Yurume> yeah
[16:00:40] *** Quits: reedlepee (Mibbit@9B9315E1.A6025CA.1C37C358.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:02:18] *** Joins: jordyd (jordyd@moz-74578596.seg32.ucf.edu)
[16:05:55] *** Joins: Yeri (jasonjasmi@BA0CD88C.B2E00889.31F69D78.IP)
[16:07:38] *** Joins: reedlepee (Mibbit@9B9315E1.A6025CA.1C37C358.IP)
[16:07:39] *** Joins: canhtak (canhtak@moz-830A7AA1.wl.t.ulaval.ca)
[16:08:13] *** Quits: Yeri (jasonjasmi@BA0CD88C.B2E00889.31F69D78.IP) (Quit: Yeri)
[16:09:38] <ChrisMorgan> Ooh, I've just got my first ICE in ages :-(
[16:11:36] *** Joins: steveklabnik (steveklabn@moz-22FDA25B.hsd1.ca.comcast.net)
[16:12:28] *** Joins: Geert (quassel@moz-5EFDD81E.access.telenet.be)
[16:12:31] *** Joins: RMF (RMF@moz-1EE56143.dsl.telepac.pt)
[16:12:55] <ChrisMorgan> And... not reproducible.
[16:17:03] <SimonSapin> Yurume: how do you feel about doing the more restrictive API (without conditions) and see if people complain?
[16:17:21] <Yurume> fine for now
[16:17:52] <SimonSapin> I like not having to deal with Result in alternative 2, but different Decoder traits become awkward
[16:17:52] <Yurume> how's about Servo's use cases?
[16:18:12] <SimonSapin> Servo only need the error handling defined in the Encoding Standard
[16:18:16] *** Joins: jvns (quassel@moz-DE62990.nyc.res.rr.com)
[16:18:42] <Yurume> that means URL and Form replacements have to be (for now) built-in, right?
[16:18:53] *** Joins: Alasdair_ (Alasdair@moz-25C796BC.cable.virginm.net)
[16:19:03] <SimonSapin> yes
[16:19:22] *** Quits: CarpNet (Alasdair@moz-25C796BC.cable.virginm.net) (Ping timeout)
[16:19:40] <SimonSapin> (Iâ€™m not a fan of their names, but we can figure that out later)
[16:19:56] <klutzy> eddyb: https://github.com/mozilla/rust/issues/7507
[16:19:59] <Yurume> then my plan is:
[16:20:03] <Yurume> I think I've found a correct internal API to match with the Encoding standard by now,
[16:20:35] <Yurume> so I'll implement this API in place of the current API, while renaming them to raw_feed and raw_finish,
[16:20:41] <ChrisMorgan> Ooh, this scheduler homing work from yesterday appears to have improved rust-http apache-fake example server benchmarks by 15-25% :-) Now single-request-at-a-time perf is <2% lower than Node, and higher down to around 10% lower :-)
[16:20:53] <Yurume> and I'll adopt one of the proposed APIs as an external API
[16:22:08] <Yurume> the one-shot `decode` method in `Decoder` trait seems to be a common request, so it will be implemented immediately, and for others, we'll have to think a bit more
[16:22:25] *** Joins: askalski (akuda@moz-D96CC196.dynamic.chello.pl)
[16:22:46] <Yurume> and I'll finish up the remaining encodings, major missing pieces being Chinese encodings (I heartily hate GB 18030!)
[16:23:03] <Yurume> SimonSapin, are you okay with this plan?
[16:25:36] *** Quits: jvns (quassel@moz-DE62990.nyc.res.rr.com) (Ping timeout)
[16:25:46] <eddyb> rusti: let (a, b) = (0, 1); let (a, b) = (b, a+b); let (a, b) = (b, a+b); let (a, b) = (b, a+b); let (a, b) = (b, a+b); let (a, b) = (b, a+b); let (a, b) = (b, a+b); (a, b)
[16:25:47] -rusti- (8, 13)
[16:26:19] <eddyb> but you can't do this in a loop :(
[16:26:56] *** Joins: calatalee (Mibbit@9372F710.A7636379.B7830B68.IP)
[16:28:26] <klutzy> right
[16:29:30] <klutzy> I also found the bug when I wrote fibonacci :p
[16:31:09] <eddyb> <3 context shifting
[16:31:55] *** Quits: GeneralMaximus (ankur@81AB1B74.901B65D0.BE90E62C.IP) (Quit: Computer has gone to sleep.)
[16:32:10] <eddyb> (a, b) = (b, a) is also a neat swap ([a, b] = [b, a] works in ES6, which doesn't have references)
[16:34:11] <calatalee> need help, im trying to implement a priority queue over a data structure. ive already implemented Ord::lt. Im not sure where to go from here
[16:34:23] *** Quits: jstevans (Instantbir@moz-30480ECC.bootp.virginia.edu) (Ping timeout)
[16:38:11] *** Joins: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se)
[16:38:26] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[16:39:56] <sfackler> calatalee: "use extra::priority_queue::PriorityQueue; let queue: PriorityQueue<MyStruct> = PriorityQueue::new();"
[16:42:54] *** Quits: JanC (janc@moz-9C305E6.dsl.scarlet.be) (Ping timeout)
[16:45:47] <calatalee> sfackler: i get error: failed to find an implementation of trait st::cmp::Ord for data type
[16:47:37] *** Joins: avsej (avsej@D9A610B8.4841F515.FB33447D.IP)
[16:47:50] *** Joins: maik_ (maik@moz-2EABCB6D.dip0.t-ipconnect.de)
[16:48:06] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[16:48:12] <sfackler> do you have a "impl Ord for MyStruct { fn lt(&self, other: &MyStruct) -> bool { ... } }"?
[16:48:20] <myname> the bahavoir with the loop stated above is no bug at all
[16:48:42] <myname> you can make an iterator with fibonaccis that way
[16:52:56] *** Joins: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP)
[16:53:18] *** Quits: oberstet (quassel@moz-DA1D1420.dynamic.mnet-online.de) (Ping timeout)
[16:53:19] *** Joins: zatnosk (zatnosk@A9F4C5B1.7BBF6107.D79F9FB4.IP)
[16:53:26] *** Joins: oberstet (quassel@moz-50A53DCF.dynamic.mnet-online.de)
[16:54:12] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[16:56:01] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[16:57:12] *** Joins: JanC (janc@moz-7257C13F.dsl.scarlet.be)
[16:59:33] *** Joins: ofeldt (ofeldt@moz-F5994A33.dip0.t-ipconnect.de)
[16:59:44] *** Quits: alonlevy (alon@moz-B0E66DB7.static.bezeqint.net) (Ping timeout)
[17:00:14] *** Quits: ofeldt- (ofeldt@moz-AA8DE3B1.dip0.t-ipconnect.de) (Ping timeout)
[17:00:27] *** Quits: gem_ (nandaja@5E85F600.1054FA69.B84D4DA2.IP) (Ping timeout)
[17:00:54] *** Joins: refold (gman@moz-42D68426.a258.priv.bahnhof.se)
[17:01:04] *** Joins: bletch (Mibbit@9B9315E1.A6025CA.1C37C358.IP)
[17:02:33] *** Quits: reedlepee (Mibbit@9B9315E1.A6025CA.1C37C358.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:05:23] *** Quits: alex_abreu (alex@moz-7421D6C9.mc.videotron.ca) (Connection reset by peer)
[17:06:05] *** Quits: bletch (Mibbit@9B9315E1.A6025CA.1C37C358.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:07:28] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[17:10:54] *** Quits: Daniel_S (Daniel_S@moz-5B58D8B7.dhcp.snlo.ca.charter.com) (Quit: Leaving)
[17:11:29] *** Quits: nkoep (nik@moz-D3D342AE.vpn.rwth-aachen.de) (Ping timeout)
[17:11:44] *** Quits: z0w0 (zack@moz-238C2341.lnse3.cha.bigpond.net.au) (Client exited)
[17:11:45] <FreeFull> rusti: let (a, b) = (0, 1); if true { loop { let (a, b) = (b, a+b); print!("{}", a); } }
[17:11:50] -rusti- line longer than 10000 characters, bailing out
[17:11:56] <FreeFull> rusti: let (a, b) = (0, 1); if true { loop { let (a, b) = (b, a+b); print!("{}\n", a); } }
[17:11:57] -rusti- more than 10000 lines of output, bailing out
[17:12:39] <FreeFull> rusti: let (a, b) = (0, 1); if for _ in range(0,300) { let (a, b) = (b, a+b); print!("{}\n", a); }
[17:12:40] -rusti- pastebinned 6 lines of output: http://sprunge.us/KbiN
[17:12:50] <FreeFull> rusti: let (a, b) = (0, 1); for _ in range(0,300) { let (a, b) = (b, a+b); print!("{}\n", a); }
[17:12:51] -rusti- pastebinned 304 lines of output: http://sprunge.us/eQdH
[17:13:18] <myname> it won't work
[17:13:27] <FreeFull> I see
[17:13:32] <myname> while/loop/for has a new scope every iteration
[17:13:52] <myname> so the local a and b are freed at the end of every iteration
[17:14:42] <FreeFull> You could always use muts instead of let I suppose
[17:14:53] <FreeFull> rusti: let mut (a, b) = (0, 1); for _ in range(0,300) { (a, b) = (b, a+b); print!("{}\n", a); }
[17:14:53] -rusti- pastebinned 8 lines of output: http://sprunge.us/ZYTZ
[17:15:06] *** Quits: bytbox (s@moz-54E13927.washdc.fios.verizon.net) (Ping timeout)
[17:15:34] <myname> you can't
[17:15:38] <eddyb> FreeFull: the point is that it doesn't work (and it's not supposed to for grammar reasons)
[17:15:42] <myname> (a,b) = only works on let
[17:15:48] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[17:15:49] <FreeFull> rusti: let mut a = 0; let mut b = 1; for _ in range(0,300) { (a, b) = (b, a+b); print!("{}\n", a); }
[17:15:50] -rusti- pastebinned 14 lines of output: http://sprunge.us/UUAj
[17:15:56] <kimundi> rusti: let mut a = 0; let mut b = 1; for _ in range(0,300) { let (a_, b_) = (b, a+b); a = a_; b = b_; print!("{}\n", a); }
[17:15:57] -rusti- pastebinned 301 lines of output: http://sprunge.us/Mdfe
[17:16:09] <kimundi> ^ That works
[17:16:10] <FreeFull> That's a very long error
[17:16:24] *** Joins: gem_ (nandaja@E7A3233B.E36D966E.A2DC32D.IP)
[17:16:29] <kimundi> It the output :P
[17:16:35] *** Quits: refold (gman@moz-42D68426.a258.priv.bahnhof.se) (Quit: leaving)
[17:16:37] <FreeFull> I mean, for mine
[17:16:45] <myname> you can always do fold or implement an iterator with local a and b
[17:16:54] <kimundi> oh. haha, yeah
[17:16:55] <eddyb> rusti: let mut a = 0; let mut b = 1; for _ in range(0, 300) { a += b; b += a; print!("{}\n{}\n", a, b); }
[17:16:56] -rusti- pastebinned 601 lines of output: http://sprunge.us/XVHS
[17:16:59] <FreeFull> "This message reflects a bug in the Rust compiler."
[17:17:03] *** Joins: jstevans (Instantbir@9D9E8107.C4F5A14C.DDE5D3F6.IP)
[17:17:22] <kimundi> Poste an Issue on hgithub with that as testcase I'd say :)
[17:17:26] <eddyb> my last solution can be obtained automatically from the recursive form
[17:17:34] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[17:17:41] *** Quits: pyrac (pyrac@moz-CB14E320.w92-162.abo.wanadoo.fr) (Quit: pyrac)
[17:18:27] *** Quits: Alasdair_ (Alasdair@moz-25C796BC.cable.virginm.net) (Quit: Leaving)
[17:18:30] <eddyb> f(n) = g(f(n-1), f(n-2), ..., f(n-k)) can be easily transformed into a fold with a k-sized context
[17:18:31] *** Joins: CarpNet (Alasdair@moz-25C796BC.cable.virginm.net)
[17:18:34] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[17:19:30] <FreeFull> A fold of course is the best solution in this case
[17:19:37] <eddyb> but that requires k assignments to shift the context around, for each application of g (so n*(k+1) assignments)
[17:19:59] <eddyb> instead, you can do k applications of g at once, no shifting required
[17:20:17] <eddyb> (see my fib example)
[17:20:31] <FreeFull> In Haskell you could just write something like    fib = (fibs !!) where fibs = 0:1:zipWith (+) fibs (tail fibs)
[17:20:33] <eddyb> this optimization should be quite easy to apply to a recursive pure function
[17:20:48] <FreeFull> Or just print fibs out directly
[17:21:06] *** Quits: d3xter (sinz@moz-B748C1D.adsl.highway.telekom.at) (Quit: WeeChat 0.4.2)
[17:21:07] <eddyb> like, you can get that loop from fib(n) => fib(n-1) + fib(n-2)
[17:21:29] <myname> in haskell you could also make something like iterate (\(a,b) -> (b,a+b)) (0,1)
[17:21:36] <FreeFull> A fold works too, you just have to keep around the two previous values
[17:21:43] <eddyb> did I just invent a new optimization phase? I haven't seen anyone do it
[17:21:57] <FreeFull> myname: Yep, that's probably closer
[17:22:02] <eddyb> FreeFull: k-sized context, 2 in this case
[17:22:44] <eddyb> but my last solution is a += b; b += a; :D
[17:23:19] <FreeFull> What I should do is port my sierpinski program to Rust
[17:24:07] <eddyb> is someone here into LLVM optimization passes? I'd want to check this with them :D
[17:25:46] <FreeFull> https://dpaste.de/6mM4/raw/  Short, ugly C code. I wonder what it'd look like in Rust
[17:26:30] <FreeFull> Pretty fast, although it'd be faster with buffering
[17:26:49] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[17:26:56] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[17:27:32] *** Joins: jeffdb_ (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[17:27:38] <sp3d> eddyb: isn't that roughly tco? recursion => loop/fold
[17:27:42] *** Quits: steveklabnik (steveklabn@moz-22FDA25B.hsd1.ca.comcast.net) (Ping timeout)
[17:27:50] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[17:28:00] <eddyb> sp3d: this isn't done atm by any compiler
[17:28:42] *** Joins: bytbox (s@moz-54E13927.washdc.fios.verizon.net)
[17:28:56] <eddyb> sp3d: and it's not just tco because f(n) calls f(n-i) for at least two different values of i :P
[17:29:20] <eddyb> I came up with this a week ago, I think, trying to explain what I thought I saw
[17:29:30] <sp3d> hence 'roughly'--it subsumes tco if I'm not mistaken, but you might be right that compilers don't look for it as such
[17:30:00] *** Quits: joris (joris@A74647D2.CB7F0DDD.EA6CD7DC.IP) (Ping timeout)
[17:31:29] <eddyb> sp3d: is (a, b) = (b, a+b) (shift and g(a, b)) in a loop optimized to a += b; b += a;? (g(a, b) twice)
[17:31:59] *** Joins: nkoep (nik@moz-6EC32C6E.pool.mediaways.net)
[17:33:55] <sp3d> dunno, you could always check and see
[17:34:42] <eddyb> hmpf...
[17:38:19] <eddyb> sp3d: nope, it's dumb :D
[17:38:57] *** Quits: RMF (RMF@moz-1EE56143.dsl.telepac.pt) (Quit: Textual IRC Client: www.textualapp.com)
[17:39:00] * eddyb thinks it would be easier to apply this last optimization when doing TCO in the first place, since the loop is implicit there and more malleable
[17:39:35] *** Joins: g3orge (g3orge@moz-CE3A1669.access.hol.gr)
[17:39:49] *** Joins: joris (joris@moz-763F6A15.fbx.proxad.net)
[17:41:16] <eddyb> sp3d: I don't know any recursive function like this which has k>2, it would be interesting to find a better pathological case
[17:42:23] *** Joins: RMF (RMF@moz-1EE56143.dsl.telepac.pt)
[17:43:28] <eddyb> rusti: let mut a = 0; let mut b = 1; let mut c = a + b; for _ in range(0, 300) { a += c; b += a; c += b; print!("{}\n{}\n{}\n", a, b, c); }
[17:43:29] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[17:43:30] -rusti- pastebinned 901 lines of output: http://sprunge.us/IIXB
[17:44:58] <myname> i find that sequence mildly interesting
[17:45:02] *** Quits: annodomini (lambda@moz-9AC5B452.hsd1.ma.comcast.net) (Quit: annodomini)
[17:45:16] <eddyb> does it have a name?
[17:45:25] <eddyb> it's basically f(n) = f(n-1) + f(n-2) + f(n-3)
[17:45:36] <myname> it seems to always skip as many numbers as f(n-3) is
[17:46:01] <myname> like, start with 1, 2, 3, 4, skip one number, skip 2 numbers, skip 3 numbers, skip 4 numbers
[17:46:11] <eddyb> hmm, I might have done that wrong :/
[17:46:17] <myname> skip one number yields to 6, so you skip 6 numbers then
[17:46:42] <eddyb> rusti: let mut a = 0; let mut b = 1; let mut c = 2; for _ in range(0, 300) { a += c; b += a; c += b; print!("{}\n{}\n{}\n", a, b, c); }
[17:46:42] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[17:46:44] -rusti- pastebinned 901 lines of output: http://sprunge.us/ObgD
[17:46:59] <sp3d> http://oeis.org/A000930
[17:47:01] <eddyb> myname: b == c, my bad
[17:47:42] <myname> eddyb: that might not be as interesting
[17:48:06] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[17:48:50] <myname> number of ways to arrange tatami mats
[17:48:53] <myname> lol
[17:50:05] <eddyb> rusti: fn f(n : int) -> int {if n < 3 {n} else {f(n-1) + f(n-2) + f(n-3)}} for i in range(0, 100) { print!("{}\n", f(i)); }
[17:50:11] -rusti- pastebinned 35 lines of output: http://sprunge.us/BdTJ
[17:50:32] <eddyb> so what did I do wrong?
[17:50:39] <eddyb> AAAAAH silly me
[17:50:57] <eddyb> rusti: let mut a = 0; let mut b = 1; let mut c = 2; for _ in range(0, 100) { a += b + c; b += a + c; c += a + b; print!("{}\n{}\n{}\n", a, b, c); }
[17:51:02] -rusti- timeout triggered!
[17:51:02] -rusti- playpen: failed to open /sys/fs/cgroup/memory/playpen/8905/cgroup.procs: No such file or directory
[17:51:17] <eddyb> rusti: let mut a = 0; let mut b = 1; let mut c = 2; for _ in range(0, 100) { a += b + c; b += a + c; c += a + b; print!("{}\n{}\n{}\n", a, b, c); }
[17:51:34] <eddyb> did I break rusti by triggering one timeout?
[17:52:12] <eddyb> rusti: let mut a = 0; let mut b = 1; let mut c = 2; for _ in range(0, 100) { a += b + c; b += a + c; c += a + b; print!("{}\n{}\n{}\n", a, b, c); }
[17:52:18] <SimonSapin> Yurume: sounds good
[17:52:20] <eddyb> RIP
[17:52:35] <SimonSapin> raw_feed and raw_flush would be for implementations?
[17:52:40] <SimonSapin> is it useful to expose them?
[17:52:45] <Yurume> yes, not a part of the proposal
[17:52:47] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[17:53:26] <Yurume> any new encoding will have to implement them anyway, so they are semi-internal (external for encoding implementations and internal for users).
[17:53:36] <SimonSapin> ok
[17:53:37] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[17:55:06] *** Quits: joris (joris@moz-763F6A15.fbx.proxad.net) (Ping timeout)
[17:55:10] <SimonSapin> cool, thanks for working on this Yurume!
[17:55:32] *** Quits: ab (alex@BC9D99CC.37C1012D.FE617B51.IP) (Ping timeout)
[17:55:59] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[17:56:04] <Yurume> yeah, rust-encoding has been a (irreducible) dependency of my personal project for a while ;)
[17:56:13] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[17:57:29] *** Joins: ross (ross@moz-5EA04060.br.br.cox.net)
[17:57:45] *** Quits: jdm (jdm@moz-6A7642F9.rave.ac.uk) (Ping timeout)
[17:57:55] <eddyb> sp3d, myname: how straight-forward :P http://oeis.org/A001590
[17:58:24] <eddyb> "Dimensions of the homogeneous components of the higher order peak algebra associated to cubic roots of unity"
[17:58:38] *** Joins: jdm (jdm@moz-6A7642F9.rave.ac.uk)
[17:58:39] *** ChanServ sets mode: +o jdm
[17:58:49] <myname> eddyb: obviously
[17:58:57] * eddyb wonders how many people in this channel can fully understand that and what it refers to, without much effort
[17:59:09] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[17:59:09] <myname> i have no fucking idea
[17:59:15] <eddyb> myname: I'm expecting quadbonacci numbers next
[17:59:33] <cubic> I only know that it pinged me
[17:59:34] *** Quits: gem_ (nandaja@E7A3233B.E36D966E.A2DC32D.IP) (Ping timeout)
[18:00:23] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[18:00:27] *** Joins: ab (alex@BC9D99CC.37C1012D.FE617B51.IP)
[18:01:31] *** Quits: bholley (anonymous@moz-CB983BB6.superkabel.de) (Quit: bholley)
[18:01:43] *** Joins: bholley (anonymous@moz-CB983BB6.superkabel.de)
[18:02:02] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[18:02:19] *** Joins: yghannam (yghannam@moz-C5BCCF4E.lightspeed.austtx.sbcglobal.net)
[18:02:19] <eddyb> myname: here we go :D https://en.wikipedia.org/wiki/Generalizations_of_Fibonacci_numbers#Fibonacci_numbers_of_higher_order
[18:03:55] *** Quits: pseudoku (quassel@DDEB09C9.8D2F0C52.520CDC98.IP) (Client exited)
[18:04:06] *** Joins: ziad (Mibbit@moz-5729CEA7.hsd1.ca.comcast.net)
[18:04:20] *** Joins: ambimorph (amber@moz-B376C52.hlrn.qwest.net)
[18:04:21] *** Quits: ziad (Mibbit@moz-5729CEA7.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[18:04:46] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[18:05:19] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[18:06:10] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[18:06:21] *** Quits: lfox (lfox@moz-18319C97.nyc.biz.rr.com) (Quit: ZZZzzzâ€¦)
[18:07:57] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[18:08:14] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[18:08:50] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[18:10:35] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[18:11:06] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[18:11:33] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[18:11:50] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[18:13:59] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[18:14:48] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[18:15:08] *** Joins: gem_ (nandaja@6EA26153.72059A78.9D59D0D8.IP)
[18:15:43] <maikeru> ... why are my tests being compiled twice?
[18:16:13] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[18:16:31] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[18:16:34] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[18:16:47] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[18:17:26] <maikeru> HOW DID THAT GET THERE!?
[18:17:32] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[18:17:33] <maikeru> this explains so much..
[18:18:21] *** Quits: ab (alex@BC9D99CC.37C1012D.FE617B51.IP) (Ping timeout)
[18:19:07] *** Joins: ab (alex@BC9D99CC.37C1012D.FE617B51.IP)
[18:19:14] *** Quits: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP) (Client exited)
[18:19:37] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[18:20:38] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[18:22:15] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[18:23:17] *** Joins: edorian (Mibbit@moz-76FE326.dynamic.qsc.de)
[18:23:30] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[18:24:04] *** Quits: gem_ (nandaja@6EA26153.72059A78.9D59D0D8.IP) (Ping timeout)
[18:25:35] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[18:26:24] *** Joins: mikezaby (mikezaby@moz-B26868E.home.otenet.gr)
[18:26:52] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[18:28:22] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[18:29:06] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[18:30:29] *** Joins: pyrac (pyrac@moz-CB14E320.w92-162.abo.wanadoo.fr)
[18:31:35] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[18:32:00] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[18:32:22] *** Joins: bukketraja (Mibbit@640913C8.95644FC6.BE90E62C.IP)
[18:32:43] *** Quits: bukketraja (Mibbit@640913C8.95644FC6.BE90E62C.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:32:44] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[18:32:45] *** Joins: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP)
[18:33:31] *** Quits: askalski (akuda@moz-D96CC196.dynamic.chello.pl) (Quit: Wychodzi)
[18:33:56] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[18:34:29] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[18:35:00] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[18:36:11] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[18:36:26] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:37:02] *** Quits: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP) (Ping timeout)
[18:37:51] *** Quits: calatalee (Mibbit@9372F710.A7636379.B7830B68.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:39:13] *** Quits: nwmcsween (nwmcsween@E0025B86.51EE1362.3655BBF5.IP) (Ping timeout)
[18:39:34] *** Joins: gem_ (nandaja@9C15986A.1EF6344.9D59D0D8.IP)
[18:40:27] *** Joins: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP)
[18:40:40] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[18:41:01] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[18:42:42] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[18:42:54] *** Joins: adu (ajr@moz-7A50E69F.public.wayport.net)
[18:44:23] *** Joins: joris (joris@moz-763F6A15.fbx.proxad.net)
[18:44:29] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[18:45:25] *** Joins: mib_shz2ow (Mibbit@9372F710.A7636379.B7830B68.IP)
[18:46:17] <mib_shz2ow> im getting error: type 'std::option::Option<std::rt::io::net::tcp::TcpStream>' does not implement any method in scope named 'peer_name'. this doesnt make any sense
[18:46:38] <strcat> Option doesn't have a method called peer_name
[18:46:49] <maikeru> mib_shz2ow: you need to unwrap the option
[18:46:55] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[18:47:26] <mib_shz2ow> i did tho. let IP_addr = self.stream.take().peer_name().to_str()
[18:48:05] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[18:48:18] <strcat> mib_shz2ow:     pub fn take(&mut self) -> Option<T> {
[18:48:21] <strcat> the signature of take
[18:51:03] <mib_shz2ow> i feel dumb. misread that :/
[18:55:02] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[18:56:43] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[18:58:36] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[18:59:15] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[19:02:32] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[19:03:18] *** Quits: gem_ (nandaja@9C15986A.1EF6344.9D59D0D8.IP) (Ping timeout)
[19:03:47] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[19:05:58] *** Quits: paulproteus (quassel@199.199.210.158) (Ping timeout)
[19:06:13] *** Joins: paulproteus (quassel@458FE134.3EC36C88.CBDCF1DC.IP)
[19:06:28] *** Joins: nslus (nslus@73953FF3.B6D0252.59B6123A.IP)
[19:08:33] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[19:11:00] *** Quits: oberstet (quassel@moz-50A53DCF.dynamic.mnet-online.de) (Client exited)
[19:14:53] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[19:17:32] *** Joins: scabaloo (student@EB888D30.87CA334A.DDE5D3F6.IP)
[19:18:00] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[19:18:39] *** Joins: gem_ (nandaja@CF40A1E9.D77F0AE3.9D59D0D8.IP)
[19:18:45] <scabaloo> hi. is there anyway to get the size of a file for a static request?
[19:19:47] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Client exited)
[19:20:11] *** Quits: adu (ajr@moz-7A50E69F.public.wayport.net) (Quit: adu)
[19:20:40] *** Quits: jdm (jdm@moz-6A7642F9.rave.ac.uk) (Quit: Lost terminal)
[19:24:17] *** jorendorff_away is now known as jorendorff
[19:25:45] *** Joins: bleibig (bleibig@moz-CB11172C.hsd1.ca.comcast.net)
[19:26:05] *** Joins: alisdair (textual@moz-DBA2EB65.vc.shawcable.net)
[19:27:09] <zokier`> scabaloo, http://static.rust-lang.org/doc/master/std/libc/funcs/posix88/stat_/ffi.stat.html maybe
[19:27:26] <zokier`> (or fstat or lstat, depending what you want)
[19:27:49] *** Quits: alisdair (textual@moz-DBA2EB65.vc.shawcable.net) (Ping timeout)
[19:28:16] *** Joins: adu (ajr@moz-7A50E69F.public.wayport.net)
[19:29:44] <zokier`> posix::Path has also stat and get_size methods
[19:29:57] <mib_shz2ow> i have a method that takes &self. when i try to use self.X, i get error: cannot move out of dereference of & pointer
[19:30:02] <mib_shz2ow> anyone know how to fix this?
[19:30:17] <kimundi> Don't use &self, or don't try to move out of it :)
[19:30:42] *** Joins: nif (Mibbit@F773C385.3B36E0FD.F275000D.IP)
[19:30:45] <kimundi> Need more context for more helpful answers :)
[19:30:50] <mib_shz2ow> kimundi: im implementing Ord so i have to use &self
[19:31:13] <kimundi> what are you doing in your code with self.x ?
[19:31:31] <mib_shz2ow> let addr = self.stream.unwrap().peer_name().to_str()
[19:31:33] *** Joins: alisdair (textual@moz-B330C8FB.vc.shawcable.net)
[19:32:01] <kimundi> wel, the unwrap() moves out of the self.stream field
[19:32:14] <kimundi> try self.stream.as_ref().unwrap().peer_name().to_str()
[19:32:42] *** Joins: jdavis (jdavis@moz-1BE8A6A1.hsd1.ca.comcast.net)
[19:34:06] <kimundi> or shorter self.stream.get_ref().peer_name().to_str()
[19:34:57] <kimundi> (assuming the stream field has type Option<...>)
[19:35:26] <mib_shz2ow> kimundi: self.stream.as_ref() gives error: Option does not implement 'as_ref' method. weird..
[19:35:45] <kimundi> Using 0.8? Then that doesn't exist yet, use the shorter one
[19:37:23] *** Joins: sweet_kid (Upasana@725B6904.DBF5C1DC.388CF16F.IP)
[19:37:51] <Sharp> I've been meaning to ask: is there a way to get switch with fallthrough in unsafe code?  It's occasionally useful even if I understand why in general you would want to disallow it.
[19:38:05] <kimundi> Sharp: Nope
[19:38:29] <Sharp> Okay, thanks.  Just curious :)
[19:38:41] <kimundi> Sharp: Don't have syntax for it, and unsafe code or not our ownership semantics make such a feature hard to implement in general
[19:38:49] <jdavis> (novice) Is there a way to make a vector of values that have some trait without doing [&a as &MyTrait, &b as &MyTrait]?
[19:39:04] <kimundi> Sharp: You often can just combine arms in amatch though
[19:39:37] <jdavis> In other words, do just [&a, &b] and pass it to a function expecting &[&MyTrait]
[19:39:55] <bodie_> has anyone used this and do you have any idea of how stable or useful it is?  https://github.com/erickt/rust-zmq
[19:39:57] <Sharp> Yeah, I'd think.  Though, does match reduce to a jump table when only integers are involved?  I was never really clear on that.
[19:40:11] <kimundi> jdavis: Not right now, but it is planned to make trait object conversion just automatically happen
[19:40:23] <sp3d> Sharp: yes, it compiles to the same code as a switch statement would in C
[19:40:26] <jdavis> kimundi: oh, awesome. That will be a lot cleaner.
[19:40:26] <kimundi> jdavis: that is, it would coerce automatically
[19:40:35] <Sharp> Okay, cool.  Thanks!
[19:41:00] <kimundi> Sharp: Afaik match gets translated to some kind of llvm internal switch construct, which in turn is able to optimize like that
[19:41:35] <Sharp> Not in all cases, I don't thinkâ€¦ at least, based on what some Servo people were saying about matches not being optimized during DOM parsing.
[19:41:38] <mib_shz2ow> kimundi: get errors saying i can't borrow immutable whether i use get_ref or get_mut_ref
[19:41:41] <Sharp> But maybe I was misinterpreting that.
[19:41:45] <kimundi> Sharp: I know that pcwaltons NES emulator uses a big match over all OP codes of the NES CPU, and it compiles down to a jumptable (At least used to, a few months back)
[19:41:53] *** Quits: eevee (eevee@moz-3625B552.evrt.wa.frontiernet.net) (Ping timeout)
[19:42:03] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[19:42:11] <Sharp> Cool.  I'm interested in seeing that (even though it doesn't complie apparently :D)
[19:42:17] <Sharp> *compile
[19:42:24] <kimundi> mib_shz2ow: What type signature does peer_name() have?
[19:43:04] <strcat> Sharp: servo would have the same problem in C compiled via clang
[19:43:12] <kimundi> Sharp: You can test it yourself. :) Just write a short file that uses match, and compile with -S --emit-llvm and look at the output
[19:43:18] <mib_shz2ow> kimundi: &mut self
[19:43:22] <strcat> LLVM won't unroll/vectorize every loop or expand every switch to something huge, even though in isolation it would be faster
[19:43:30] *** Quits: pyrac (pyrac@moz-CB14E320.w92-162.abo.wanadoo.fr) (Quit: pyrac)
[19:43:37] <strcat> it has to balance isolated performance of some loop vs overall performance
[19:43:41] <Sharp> Oh, I see.
[19:43:46] <kimundi> mib_shz2ow: Then you will not be able to use that function in an impl of Ord unless you clone the stream
[19:44:12] <strcat> the expect intrinsic doesn't lower sanely at all
[19:44:14] <strcat> wtf
[19:44:15] <Sharp> Might be nice to be able to hint to it that a section of code was critical but maybe that wouldn't really resolve the issue in this case.
[19:44:32] <strcat> Sharp: that would need to be supported in LLVM
[19:44:36] <Sharp> kimundi: Yes, I think I'll do that--not that i don't trust you guys :P
[19:44:55] <Sharp> strcat: Yep.  It seems like Rust would benefit from an LLVM engineer or two working on it.  Though maybe there already are some.
[19:45:17] *** Quits: StarLight (StarLight@moz-85949F9B.dynamic.avangarddsl.ru) (Ping timeout)
[19:45:17] *** Joins: eevee (eevee@moz-EB1D4A9E.evrt.wa.frontiernet.net)
[19:46:14] *** Quits: adu (ajr@moz-7A50E69F.public.wayport.net) (Quit: adu)
[19:48:47] *** Joins: alonlevy (alon@moz-B0E66DB7.static.bezeqint.net)
[19:48:53] <Sharp> Yep, looks very much like a switch :)
[19:49:26] *** Joins: StarLight (StarLight@moz-5C4BD02.dynamic.avangarddsl.ru)
[19:49:27] <strcat> Sharp: well it would benefit from LLVM progressing but there aren't very special requirements compared to clang
[19:50:55] <Sharp> That's fair.  I guess most of the things that apply to Rust would apply to clang too.
[19:51:48] <Sharp> There may be some patterns (like massive switch statements :D) that show up much more frequently in Rust, though.
[19:52:05] <strcat> it handles massive switch statements very well already
[19:52:29] <kimundi> Yeah, but the problem is that a lot of things that belong into llvm are actually implemented in clang - forcing us to either reinvent the wheel or emulate clang output :)
[19:52:58] <Sharp> Oh, that's interesting.  I guess it makes sense since that's the only frontend most of the LLVM engineers care about :P
[19:53:05] <Sharp> What sorts of things?
[19:53:08] <strcat> sure, I just found an incredibly stupid one
[19:53:24] <strcat> so, I'm marking the bounds check code path in checked array indexing as cold
[19:53:26] <strcat> the failure path
[19:53:45] <strcat> llvm.expect is an overloaded intrinsic, so you can call it for i1, i16, i32, i64, whatever
[19:53:48] <strcat> basically
[19:54:16] <strcat> let value = expect(value, expected_value); if value { ... } else { ... }
[19:54:32] <strcat> anyway.... the lower-expect pass looks for this specific pattern
[19:54:37] <strcat> 00097   //   %expval = call i64 @llvm.expect.i64.i64(i64 %conv1, i64 1)
[19:54:39] <strcat> 00098   //   %tobool = icmp ne i64 %expval, 0
[19:54:41] <strcat> 00099   //   br i1 %tobool, label %if.then, label %if.end
[19:54:58] <strcat> clang's intrinsic is basically expect(i64, i64) -> i64
[19:54:58] <Sharp> That'sâ€¦ weird.
[19:55:06] <strcat> so it always has to downcast to an i1 before the branch
[19:55:20] <strcat> so.... llvm.expect *only* works if you have an icmp with not-equal
[19:55:32] <strcat> %7 = call i1 @llvm.expect.i1(i1 %6, i1 false)
[19:55:34] <strcat> br i1 %7, label %cond, label %next
[19:55:35] <Sharp> Why even provide the functionality to do otherwise if it doesn't work? :P
[19:55:36] <strcat> this doesn't work.
[19:55:53] <strcat> well because expect is supposed to be a generic way to communicate information
[19:56:02] *** Quits: mikezaby (mikezaby@moz-B26868E.home.otenet.gr) (Input/output error)
[19:56:15] <strcat> but currently, the *only* things lower-expect uses it for are marking switch/branch paths as hot/cold
[19:56:24] <eddyb> strcat: and you need orderning, not ne?
[19:56:35] <strcat> eddyb: no
[19:56:35] <eddyb> s/ordering/ordered comparison/
[19:56:46] <strcat> the icmp isn't the actual comparison
[19:57:09] <eddyb> oh, I see, it's just roundabout after expect >_>
[19:57:23] <strcat> eddyb: yes, because clang outputs llvm.expect.i64 seemingly always
[19:57:36] <strcat> so they hardcoded this pass to expect an icmp against 0
[19:58:06] <strcat> eddyb: http://llvm.org/docs/doxygen/html/LowerExpectIntrinsic_8cpp_source.html
[19:58:08] <Sharp> Did they at least put "/* HACK */" somewhere nearby?
[19:58:14] <strcat> LowerExpectIntrinsic::HandleIfExpect method here
[19:58:15] <strcat> Sharp: no
[19:58:19] *** Quits: alisdair (textual@moz-B330C8FB.vc.shawcable.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[19:58:39] <strcat> you *must* have a not-equal comparison against 0
[19:58:41] <strcat> or it does nothing
[19:58:53] <strcat> 00102   if (!CmpI || CmpI->getPredicate() != CmpInst::ICMP_NE)
[19:58:54] <strcat> 00103     return false;
[19:59:21] <Sharp> lol
[19:59:30] <Sharp> Well, I guess it saves impleemntation time.
[19:59:40] <strcat> right, someone implemented this for clang
[19:59:55] <Sharp> s/impleemntation/implementation/
[20:00:00] <strcat> to handle the common __builtin_expect idioms (LIKELY/UNLIKELY macros)
[20:00:42] <strcat> Sharp: they implemented the IR level expect instruction and the branch metadata in a very forward thinking way....
[20:00:51] <strcat> the lower-expect implementation atm is just awful :)
[20:01:02] <Sharp> Right.  I suppose it could have been worse :)
[20:02:36] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Ping timeout)
[20:03:07] *** Joins: annodomini (lambda@moz-9AC5B452.hsd1.ma.comcast.net)
[20:05:03] *** Joins: adu (ajr@moz-7A50E69F.public.wayport.net)
[20:05:18] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[20:06:07] <strcat> it still doesn't lower properly
[20:06:23] *** Joins: zippity (Mibbit@F2CE8BC0.4DB138C4.DDE5D3F6.IP)
[20:07:16] <zippity> Hey Rust gurus, I'm looking for something in the API that I'm not finding, probably I'm just misunderstanding something here.  I'm trying to convert a string to a utf8 vector.  I know there's a function that gets me from utf8 vec to string, but is there something I can do to go back?
[20:07:50] *** jorendorff is now known as jorendorff_away
[20:08:19] <kimundi> zippity: .as_bytes(), .to_bytes() or into_bytes(), depending on rust version and intent
[20:08:44] <kimundi> Also, bytes!() if you want static a compiletime vector literal
[20:09:17] <zippity> =)  You are just too kind.
[20:09:38] <strcat> um
[20:09:41] <strcat> this is ridiculous
[20:10:03] * strcat sighs
[20:11:05] <myname> "bytes" == utf8?
[20:11:12] *** Quits: gem_ (nandaja@CF40A1E9.D77F0AE3.9D59D0D8.IP) (Ping timeout)
[20:11:18] <strcat> myname: str is utf-8
[20:11:23] <myname> yeah
[20:11:33] <strcat> bytes means [u8]
[20:11:38] <myname> ah!
[20:11:49] <myname> so, it's more like str.iter.collect?
[20:11:50] *** Joins: pyrac (pyrac@moz-CB14E320.w92-162.abo.wanadoo.fr)
[20:12:18] <strcat> myname: well to_bytes is probably that and should likely be removed
[20:12:19] *** Joins: gem (nandaja@B0545AFE.D77F0AE3.9D59D0D8.IP)
[20:12:36] <strcat> as_bytes/into_bytes are essentially no-ops
[20:12:42] *** Joins: skoizza (Mibbit@moz-F2E42C9D.hsd1.va.comcast.net)
[20:12:50] <strcat> (byte_iter*)
[20:13:28] <myname> i read the question as "i want a vec of chars" not "i want a vec of numbers"
[20:13:58] <strcat> a utf8 vector means a vector of bytes
[20:14:03] <strcat> [char] isn't utf-8
[20:14:15] <myname> huh?
[20:14:17] <myname> why not?
[20:14:29] <strcat> utf-8 is a byte-based encoding
[20:14:39] *** Joins: chickenLiver (Mibbit@moz-F2E42C9D.hsd1.va.comcast.net)
[20:14:47] <myname> but one char represents one unicode codepoint, no?
[20:14:51] *** Joins: jstevans1 (Instantbir@585085C9.471081A5.DDE5D3F6.IP)
[20:14:59] <chickenLiver> i'm trying to override the '<' operator for a struct with impl Less<sched_msg, sched_msg> for sched_msg
[20:15:05] <chickenLiver> but its not liking the trait Less
[20:15:10] <chickenLiver> anyone know what its actually called?
[20:15:21] <myname> Ord
[20:15:21] <strcat> Ord
[20:15:44] *** Quits: jstevans (Instantbir@9D9E8107.C4F5A14C.DDE5D3F6.IP) (Ping timeout)
[20:15:50] <strcat> Sharp: it's even more ridiculous than I thought
[20:15:52] <strcat> so...
[20:16:06] * Sharp gets out the popcorn.
[20:16:14] <myname> i don't see any reason why i'd actually want bytes over codepoints, but okay
[20:16:27] <kimundi> myname: Right, one char == one unicdoe codepoint == one u21 in theory
[20:16:28] <strcat> the default function pass order is basically simplifycfg -> sroa -> early-cse -> lower-expect
[20:16:34] *** Quits: jstevans1 (Instantbir@585085C9.471081A5.DDE5D3F6.IP) (Ping timeout)
[20:16:43] <strcat> myname: str is utf-8, it uses bytes
[20:16:47] <Sharp> SROA?
[20:16:48] *** Quits: alonlevy (alon@moz-B0E66DB7.static.bezeqint.net) (Ping timeout)
[20:16:50] <strcat> input/output is almost always bytes
[20:17:04] <strcat> Sharp: scalar replacement of aggregates ({ i64, i64 } -> two i64)
[20:17:07] <strcat> Sharp: anyway
[20:17:09] <Sharp> Ah, okay.
[20:17:14] <strcat> what happens is that early-cse removes the useless comparison against zero
[20:17:27] <strcat> so then lower-expect removes the expect instruction without adding branch metadata
[20:17:29] <strcat> yay?
[20:18:00] <Sharp> Waitâ€¦ so it doesn't actually work?
[20:18:06] <strcat> correct!
[20:18:12] <Sharp> Umâ€¦ wow.
[20:18:15] <strcat> Sharp: early-cse removes my no-op icmp
[20:18:17] <strcat> ;]
[20:18:33] <Sharp> How does it work for clang, then?
[20:18:36] <Sharp> Or does it just, um, not?
[20:18:50] <strcat> Sharp: clang's expect intrinsic output llvm.expect.i64
[20:18:52] <strcat> not i1
[20:18:56] <Sharp> Ah, right, right.
[20:19:02] <strcat> and it outputs the icmp to cast i64 to i1
[20:19:18] <strcat> llvm hates me
[20:19:23] <Sharp> That's super silly.
[20:19:30] <strcat> I'll just have to submit an LLVM patch
[20:19:40] <Sharp> Yeah, that's what I would suggest.
[20:19:57] <Sharp> Hopefully Rust won't be tied to the bleeding edge of LLVM forever though :P
[20:20:56] <strcat> Sharp: meh the whole stack is basically broken ;\
[20:21:05] <strcat> branches have a getCondition thing
[20:21:14] <strcat> that's why it wants that icmp
[20:21:31] <Sharp> What is that used for?
[20:22:06] <strcat> getCondition gets you the condition used to do a branch, if there's an obvious one directly preceding it
[20:22:23] <strcat> hm
[20:22:24] <Sharp> Right, but is it actually used for anything in LLVM currently?
[20:22:27] <strcat> yes
[20:22:35] <strcat> lower-expect is using it
[20:22:39] <Sharp> Oh.  Heh.
[20:22:42] <Sharp> Of course.
[20:24:07] *** Quits: g3orge (g3orge@moz-CE3A1669.access.hol.gr) (Quit: leaving)
[20:25:00] *** Joins: jstevans (Instantbir@moz-87C92F44.bootp.virginia.edu)
[20:25:28] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[20:25:43] *** Quits: maik_ (maik@moz-2EABCB6D.dip0.t-ipconnect.de) (Connection reset by peer)
[20:26:01] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Input/output error)
[20:27:07] *** Joins: mr_pants (Mibbit@moz-F2E42C9D.hsd1.va.comcast.net)
[20:27:19] *** Quits: aeqwa (aeqwa@moz-E6B94F97.dsl.tropolys.de) (Client exited)
[20:30:06] *** Quits: Jackneill (Jackneill@moz-149C924E.pool.digikabel.hu) (Input/output error)
[20:32:37] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[20:33:28] *** Joins: maik (maik@moz-2EABCB6D.dip0.t-ipconnect.de)
[20:34:28] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[20:34:30] *** Joins: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP)
[20:36:25] *** Joins: tikue_ (tikue_star@moz-FEADCD38.hsd1.pa.comcast.net)
[20:42:16] *** Quits: maik (maik@moz-2EABCB6D.dip0.t-ipconnect.de) (Connection reset by peer)
[20:42:35] *** Quits: sweet_kid (Upasana@725B6904.DBF5C1DC.388CF16F.IP) (Quit: Leaving)
[20:42:58] *** Joins: sweet_kid (Upasana@725B6904.DBF5C1DC.388CF16F.IP)
[20:43:12] *** Quits: sweet_kid (Upasana@725B6904.DBF5C1DC.388CF16F.IP) (Quit: Leaving)
[20:44:13] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[20:46:53] *** Joins: Jesin (Jessin_@moz-53AADFBC.cc.lehigh.edu)
[20:48:44] *** Quits: toshok (toshok@moz-43741342.cat) (Ping timeout)
[20:53:00] *** Quits: KindOne (KindOne@moz-12CD79CD.dynamic.ip.windstream.net) (Ping timeout)
[20:53:02] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[20:53:11] *** Quits: zippity (Mibbit@F2CE8BC0.4DB138C4.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:54:46] *** Quits: tikue_ (tikue_star@moz-FEADCD38.hsd1.pa.comcast.net) (Ping timeout)
[20:55:04] *** Joins: toshok (toshok@moz-43741342.cat)
[20:55:55] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[20:57:40] *** Joins: KindOne (KindOne@moz-648CA1D5.dynamic.ip.windstream.net)
[20:57:41] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[20:59:45] *** Joins: robertknight (robertknig@moz-1FB7516D.range81-157.btcentralplus.com)
[21:00:42] *** Quits: jordyd (jordyd@moz-74578596.seg32.ucf.edu) (Quit: Leaving)
[21:01:37] <bodie_> http://blog.theincredibleholk.org/blog/2012/12/05/compiling-rust-for-gpus/
[21:01:39] <bodie_> mind = blown
[21:07:52] *** Quits: dbaupp (Thunderbir@moz-620B4FD1.lns20.syd6.internode.on.net) (Ping timeout)
[21:10:46] *** Quits: CarpNet (Alasdair@moz-25C796BC.cable.virginm.net) (Quit: Leaving)
[21:11:15] *** Joins: dbaupp (Thunderbir@moz-592B18A.lns20.syd6.internode.on.net)
[21:12:20] *** Quits: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP) (Ping timeout)
[21:12:31] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[21:12:53] <cmr> bjz_: haven't even started it, unfortunately.
[21:13:35] *** Quits: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[21:13:54] *** Joins: maik (maik@moz-9730B7DC.dip0.t-ipconnect.de)
[21:14:21] *** Quits: canhtak (canhtak@moz-830A7AA1.wl.t.ulaval.ca) (Quit: canhtak)
[21:15:25] *** Quits: yghannam (yghannam@moz-C5BCCF4E.lightspeed.austtx.sbcglobal.net) (Ping timeout)
[21:15:26] *** Joins: canhtak (canhtak@moz-830A7AA1.wl.t.ulaval.ca)
[21:15:28] *** Joins: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP)
[21:17:57] *** Quits: annodomini (lambda@moz-9AC5B452.hsd1.ma.comcast.net) (Quit: annodomini)
[21:18:06] *** Quits: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP) (Quit: leaving)
[21:18:11] *** Joins: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP)
[21:18:50] *** Quits: gem (nandaja@B0545AFE.D77F0AE3.9D59D0D8.IP) (Ping timeout)
[21:23:02] *** Quits: maik (maik@moz-9730B7DC.dip0.t-ipconnect.de) (Ping timeout)
[21:24:05] *** Quits: bholley (anonymous@moz-CB983BB6.superkabel.de) (Quit: bholley)
[21:24:19] *** Quits: avsej (avsej@D9A610B8.4841F515.FB33447D.IP) (Quit: Ex-Chat)
[21:25:15] *** Quits: scabaloo (student@EB888D30.87CA334A.DDE5D3F6.IP) (Ping timeout)
[21:25:51] *** Joins: reedlepee (Mibbit@9B9315E1.A6025CA.1C37C358.IP)
[21:25:56] *** Joins: alonlevy (alon@moz-B0E66DB7.static.bezeqint.net)
[21:26:21] *** Quits: joris (joris@moz-763F6A15.fbx.proxad.net) (Quit: Konversation terminated!)
[21:26:28] *** Quits: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP) (Quit: nn)
[21:26:58] *** Quits: toshok (toshok@moz-43741342.cat) (Ping timeout)
[21:27:00] *** Joins: annodomini (lambda@moz-9AC5B452.hsd1.ma.comcast.net)
[21:27:06] *** Quits: pyrac (pyrac@moz-CB14E320.w92-162.abo.wanadoo.fr) (Quit: pyrac)
[21:27:37] *** Joins: avsej (avsej@D9A610B8.4841F515.FB33447D.IP)
[21:27:38] *** Joins: tautologico (shung@4FCDF73C.2F29D054.7B974E06.IP)
[21:27:50] <tautologico> so managed boxes are out?
[21:28:24] <cmr> tautologico: they're feature gated
[21:28:53] <tautologico> I saw it, but the warning said a GC is not implemented. I thought there was a simple GC in place
[21:29:29] <cmr> It's refcounting with no cycle collection.
[21:29:32] <cmr> Hardly a GC
[21:29:39] <strcat> a poor implementation of reference counting
[21:29:59] <tautologico> I see
[21:30:12] <strcat> well I think I fixed this LLVM issue
[21:30:14] <strcat> we'll see
[21:30:20] <Sharp> Patch?
[21:30:27] * strcat has to make a test
[21:30:30] <tautologico> not much trouble for my code, but I was writing a blog post that used a lot of managed pointers to simplify the examples
[21:31:08] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[21:31:10] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[21:31:13] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[21:31:16] <strcat> rusti: aaa + aaa
[21:31:18] -rusti- pastebinned 10 lines of output: http://sprunge.us/QUgS
[21:32:36] <strcat> Sharp: http://sprunge.us/NATb just this
[21:33:41] <Sharp> Ah.
[21:33:57] <Sharp> So just fix the simplest case.
[21:35:34] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[21:35:52] <Sharp> So you don't need an extra ICMP.
[21:36:09] <strcat> yes because early-cse is going to eat it
[21:36:11] <strcat> ;p
[21:36:13] <Sharp> Right :)
[21:36:28] *** Quits: adu (ajr@moz-7A50E69F.public.wayport.net) (Quit: adu)
[21:37:25] *** Quits: robertknight (robertknig@moz-1FB7516D.range81-157.btcentralplus.com) (Ping timeout)
[21:37:37] *** Joins: CyBeRKeL (cyber@E6A1FD6F.BE88DC8C.9C1C15C3.IP)
[21:38:11] *** Quits: CyBeRKeL (cyber@E6A1FD6F.BE88DC8C.9C1C15C3.IP) (Quit: )
[21:42:20] *** Joins: dylanvallicelli (dylanvalli@moz-C8B76701.ip89.fastwebnet.it)
[21:42:25] *** Joins: bholley (anonymous@moz-CB983BB6.superkabel.de)
[21:43:11] *** Quits: dylanvallicelli (dylanvalli@moz-C8B76701.ip89.fastwebnet.it) (Client exited)
[21:43:25] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[21:44:02] *** Quits: rpearl (rpearl@moz-2B41ACB5.andrew.cmu.edu) (Ping timeout)
[21:45:12] *** Quits: acrichto (acrichto@moz-69F2E428.ugrad.cs.cmu.edu) (Ping timeout)
[21:45:12] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[21:45:21] *** Quits: avsej (avsej@D9A610B8.4841F515.FB33447D.IP) (Ping timeout)
[21:45:44] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[21:45:49] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[21:46:52] *** Joins: rpearl (rpearl@moz-2B41ACB5.andrew.cmu.edu)
[21:47:06] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[21:47:06] *** ChanServ sets mode: +ao dherman dherman
[21:47:15] *** Parts: nslus (nslus@73953FF3.B6D0252.59B6123A.IP) ()
[21:48:28] *** Joins: acrichto (acrichto@moz-69F2E428.ugrad.cs.cmu.edu)
[21:49:29] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[21:51:53] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Quit: dherman)
[21:52:09] <maikeru> are there ways to specify setup and teardowns for tests? or more boardly.. is anything reset between tests?
[21:52:16] <maikeru> *broadly
[21:54:11] *** Quits: edorian (Mibbit@moz-76FE326.dynamic.qsc.de) (Quit: http://www.mibbit.com ajax IRC Client)
[21:55:42] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[21:55:58] <dbaupp> maikeru: each test runs in an entirely new task
[21:56:32] <skoizza> how do i troubleshoot the error "use of a moved value"
[21:56:40] *** Quits: mib_shz2ow (Mibbit@9372F710.A7636379.B7830B68.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:57:12] <benh> It should tell you where it was moved
[21:57:15] <benh> then don't do that
[21:57:21] <benh> and move a copy instead, or use a reference
[21:57:43] <mr_pants> trying to add structs to a priority queue, have overloaded the operator for < and > but its not changing the order of the queue when we insert
[21:58:22] <dbaupp> (preferably use a reference)
[21:58:27] *** Quits: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP) (Quit: night)
[21:59:35] <engla> mr_pants: note that the iterator for PQ is not ordered
[21:59:51] *** Quits: bholley (anonymous@moz-CB983BB6.superkabel.de) (Quit: bholley)
[21:59:53] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[22:00:36] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[22:00:36] *** ChanServ sets mode: +ao dherman dherman
[22:01:02] <mr_pants> how would I get an ordered iterator from pq?
[22:01:25] <dbaupp> rusti: struct Reverse { x: int } impl Ord for Reverse { fn lt(&self, other: &Reverse) -> bool { self.x > other.x } } let mut pq = extra::priority_queue::PriorityQueue::new(); pq.push(Reverse { x: 1 }); pq.push(Reverse { x: 2 }); pq.push(Reverse { x: 3 }); pq.to_sorted_vec()
[22:01:25] <sp3d> is there a reason all the methods of the std::num::Orderable trait return a new value instead of a reference?
[22:01:26] -rusti- ~[main::Reverse{x: 3}, main::Reverse{x: 2}, main::Reverse{x: 1}]
[22:01:26] <engla> something that calls pop repeatedly
[22:02:01] <dbaupp> mr_pants: and then call .iter() or .move_iter() on that^ (of course, that consumes the priority queue, so you can't reuse it)
[22:02:01] <engla> sp3d: that's a good question. That fact is blocking the merge of Orderable and Ord
[22:02:17] <dbaupp> sp3d: implemented without proper thought
[22:04:00] <engla> mr_pants: something like this but using a PQ instead of a vector:  std::iter::Unfold::new(~[1,2,3], |v| v.pop_opt()).to_owned_vec()
[22:04:17] *** Joins: krdln (Mibbit@moz-7E5A1CD6.dynamic.chello.pl)
[22:04:22] <engla> without .to_owned_vec()... that was for testing
[22:05:37] <mr_pants> we are trying to go through the PQ in an arc
[22:05:46] <skoizza> like so:
[22:05:46] <skoizza> do take_pq_cville.write |pq| {                     if ((*pq).len() > 0) {                         let mut tf = (*pq).pop();
[22:07:31] <dbaupp> mr_pants: a RWArc?
[22:07:56] <mr_pants> dbaupp: yes
[22:09:39] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[22:10:39] *** Quits: Ferreus (ferreus@moz-7D41ABA2.pools.arcor-ip.net) (Quit: WeeChat 0.4.2)
[22:11:31] *** Joins: toshok (toshok@moz-43741342.cat)
[22:14:00] <mr_pants> dbaupp: any thoughts?
[22:15:19] *** Quits: chickenLiver (Mibbit@moz-F2E42C9D.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[22:15:44] *** Joins: cta (Mibbit@moz-37705B5.hsd1.va.comcast.net)
[22:18:30] *** Parts: nif (Mibbit@F773C385.3B36E0FD.F275000D.IP) ()
[22:18:33] *** Quits: skoizza (Mibbit@moz-F2E42C9D.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[22:18:38] *** Joins: nif (Mibbit@F773C385.3B36E0FD.F275000D.IP)
[22:18:41] *** Quits: toshok (toshok@moz-43741342.cat) (Connection reset by peer)
[22:18:45] *** Joins: toshok (toshok@moz-43741342.cat)
[22:19:42] *** Joins: nejucomo (Adium@moz-A94CACD5.dsl.pltn13.sbcglobal.net)
[22:20:22] <nif> I'm trying to do something that I'm not sure is possible
[22:20:33] <nif> sorry, meant to finish that message, will continue...
[22:21:35] *** Quits: bleibig (bleibig@moz-CB11172C.hsd1.ca.comcast.net) (Ping timeout)
[22:21:45] <cta> so i have a file containing two structs ive written, and another file making use of them
[22:21:57] <cta> in the same loop, I'm able to use one of the structs
[22:22:09] <cta> but the other isn't being recognized
[22:22:36] <strcat> cta: they're both public?
[22:22:38] <nif> anyway, I want to implement some default to_str() behavior for my generic types, but I'm not sure how to do that.  am currently trying to use a match statement to guess what the generic actually is, and if it doesn't match any of the types that have implemented ToStr, it should do something by default.
[22:22:57] *** Joins: bleibig (bleibig@moz-CB11172C.hsd1.ca.comcast.net)
[22:23:04] <strcat> nif: that's not really how rust's generics work
[22:23:15] <nif> strcat: I think I'm realizing that. :\
[22:23:27] <strcat> a generic function is written as if it was a non-generic function
[22:23:44] <strcat> there's no runtime difference compared to a specialized one written manually
[22:23:54] <nif> strcat: right, I see.
[22:23:59] <cta> i believe so... i've declared the module containing the structs as public in the file using them
[22:24:11] <strcat> when you need to call a method, you add a trait bound for that method to the type parameter
[22:24:30] <strcat> you might want to use a generic impl
[22:24:43] <strcat> impl<T: Foo> Foo for Bar<T> { ... }
[22:24:53] <strcat> and then do the rest of the impls manuall
[22:24:55] <strcat> y
[22:25:07] <nif> strcat: that's pretty close to what I'm doing now.
[22:25:25] <nif> the impl<T: Foo> etc syntax anyway
[22:26:02] <cta> strcat: i think ive fixed the issue, thanks for mentioning that... it's just curious i was able to use one but not the other
[22:26:20] <strcat> cta: well I can't tell you without seeing the code
[22:26:45] *** Joins: tjc (tjc@moz-957520D8.lightspeed.frsnca.sbcglobal.net)
[22:26:45] *** ChanServ sets mode: +o tjc
[22:27:40] <cta> strcat: yeah i know was just lamenting haha. if you're curious ill share
[22:30:08] *** Joins: skoizza (Mibbit@moz-C3630477.hsd1.va.comcast.net)
[22:32:17] *** Quits: cta (Mibbit@moz-37705B5.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[22:32:22] <krdln> why with fmt! it was possible to print for example ~[int] list, and with format! it isn't? Is there any way to automagically print it? 
[22:32:59] <cmr> krdln: It's possible in the sameway with both of them
[22:33:10] <cmr> with fmt! you used %?, with format! you use {:?}
[22:33:31] <krdln> i tried {}, it's not the same as {:?} ?
[22:33:38] <FreeFull> Not quite
[22:33:49] <cmr> No, nothing at all like it.
[22:34:11] <FreeFull> rusti: print!("{:?}\n",~[1,2,3,4])
[22:34:12] -rusti- ~[1, 2, 3, 4]
[22:34:12] -rusti- ()
[22:34:13] <krdln> oh, my bad. Could you explain the difference?
[22:34:14] <cmr> {:?} uses runtime reflection to print out the value. {} uses an explicit implementation of std::fmt::Default.
[22:34:17] <FreeFull> rusti: print!("{}\n",~[1,2,3,4])
[22:34:18] -rusti- pastebinned 10 lines of output: http://sprunge.us/PDRf
[22:34:23] <engla> {} is a new feature of format! that didn't exist with fmt
[22:34:39] *** Joins: sanxiyn (tinuviel@5F1AEB26.A92E374.57C4C441.IP)
[22:34:47] <cmr> krdln: read the docs: http://static.rust-lang.org/doc/master/std/fmt/index.html
[22:35:14] *** Joins: mib_ohiz7j (Mibbit@moz-342DCC77.rev.sfr.net)
[22:35:21] <FreeFull> There probably should be an implementation of std::fmt::Default for  <V : Default> ~[V]
[22:35:27] <sanxiyn> I'd like to share some example codes I wrote in Rust as an introduction to the language:
[22:35:28] <sanxiyn> http://slid.es/sanxiyn/rust
[22:35:31] <sanxiyn> What do you think?
[22:35:34] *** Quits: mib_ohiz7j (Mibbit@moz-342DCC77.rev.sfr.net) (Quit: http://www.mibbit.com ajax IRC Client)
[22:35:45] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[22:36:42] <krdln> So it won't even be possible to implement fmt::Default for ~[int], because list would move out, yes?
[22:38:15] <SiegeLord> sanxiyn: Using string comparisons to detect the last element of a list seems... inefficient
[22:39:04] <sanxiyn> SiegeLord: Yeah, it can actually be pointer equality
[22:39:21] <sanxiyn> But didn't want to complicate, as it is an introduction
[22:39:29] <dbaupp> sanxiyn: looks cool :) (the definition of lcp could use iterators... unless you're explicitly avoiding them there?)
[22:40:25] <SiegeLord> sanxiyn: It also only works because all your elements are unique
[22:40:45] <sanxiyn> right
[22:41:16] <sanxiyn> dbaupp: Yes explicitly avoiding
[22:41:33] *** Quits: canhtak (canhtak@moz-830A7AA1.wl.t.ulaval.ca) (Quit: canhtak)
[22:41:38] <sanxiyn> dbaupp: I'd need enumerate for iterator version, or manual counting, right?
[22:42:11] * strcat is glad we have nice iterators now ;p
[22:42:33] <dbaupp> sanxiyn: yes, you'd need enumerate() (or using .find or .position)
[22:42:45] *** Joins: canhtak (canhtak@moz-830A7AA1.wl.t.ulaval.ca)
[22:43:10] <sanxiyn> dbaupp: I'd need to add more examples so that transition is smooth...
[22:43:11] *** Quits: canhtak (canhtak@moz-830A7AA1.wl.t.ulaval.ca) (Quit: canhtak)
[22:43:22] <sanxiyn> lcp is mainly there to introduce type parameter
[22:43:25] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[22:43:30] <dbaupp> looks good :)
[22:43:34] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[22:43:39] <cmr> krdln: eh? no
[22:43:44] <sanxiyn> (And the next one is an execuse to explain lifetime parameter)
[22:43:55] <cmr> krdln: it'd be possible. But not really desirable.
[22:44:09] <sanxiyn> At the end, you get a sort of interesting program, printing longest repeting substring of text
[22:44:23] <cmr> krdln: unless you never want a custom formatting for ~[your_type]
[22:45:17] <sanxiyn> I actually tried this on the weekend (~10 people)
[22:45:20] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[22:45:23] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[22:45:26] <sanxiyn> I am not sure how well it went. :(
[22:46:57] <dbaupp> cmr, krdln: we could do the Haskell trick of having `show` and `showList` with a default impl of showList (it's how haskell prints Strings sensibly, which are a typedef for [Char] (list of characters), and then the implementation of Default would call the fmt_default_list from its contained elements
[22:46:58] <cmr> sanxiyn: I think the examples are decent for an introductino
[22:47:39] <sanxiyn> Well, example is actually lifted straight from Programming Pearls :)
[22:49:01] <dbaupp> sanxiyn: when you imply that it didn't go so well... do you know why?
[22:49:22] <sanxiyn> dbaupp: I didn't imply that. I actually don't know.
[22:49:27] <dbaupp> sanxiyn: ah :)
[22:50:04] <sanxiyn> Response was generally good, but I am not sure whether audience learned much, if anything at all
[22:54:11] <nif> this seems weird: "failed to find an implementation of trait ToStr for ~str"
[22:55:12] *** Joins: BinRoot (Mibbit@545D9E0F.AA9008B0.DDE5D3F6.IP)
[22:55:19] <SiegeLord> Shouldn't the presentation show what problems Rust solves?
[22:55:29] <BinRoot> how do I access arguments from main()?
[22:55:39] <BinRoot> ./code arg1 arg2
[22:55:44] <strcat> os::args
[22:55:53] <BinRoot> thanks
[22:56:01] <SiegeLord> I'm sure it's not the first language that can solve simple algorithmic problems...
[22:56:41] *** Joins: Amaranth (travis@moz-7D905691.avante-wifi.mozilla.hq)
[22:56:45] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[22:56:57] <sanxiyn> SiegeLord: That was a separate talk :)
[22:56:59] <strcat> it's a general purpose language, it doesn't really solve specific problems
[22:57:10] <sanxiyn> i.e. "Why should you learn Rust" and "Let's learn Rust"
[22:57:21] <SiegeLord> Ah, I see...
[22:57:31] <sanxiyn> Time slot was 40 min
[22:57:50] <SiegeLord> strcat: There are already general purpose languages :P
[22:57:50] <sanxiyn> Really, that slide contains zero struct definition. Couldn't fit that in :(
[22:58:20] <strcat> SiegeLord: yes, there are, and rust doesn't bring anything entirely new to the table
[22:58:32] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[22:58:43] <sanxiyn> This was for Korean conference named "altlang" for alternative languages
[22:58:58] <sanxiyn> Also presented were Go and Io (as you could guess from slides) and Clojure
[22:59:14] <SiegeLord> I think memory safety without GC puts it in a pretty exclusive club
[22:59:52] <sanxiyn> SiegeLord: Well, my example does demonstrate memory safe suffix array making use of borrowing, so... :)
[23:00:27] <strcat> SiegeLord: there are other languages with memory safety + deterministic destruction (cyclone, ATS, and others)
[23:00:29] <SiegeLord> I'm sure Mozilla isn't making Rust completely for fun's sake
[23:00:45] <strcat> SiegeLord: not bringing completely new ideas to the table != not useful
[23:00:45] *** Quits: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net) (Quit: ozten)
[23:00:58] <FreeFull> Rust fills a gap
[23:01:04] <SiegeLord> I didn't say the newness was a requirement
[23:01:16] *** Joins: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net)
[23:01:17] <strcat> 18:55:19    SiegeLord | Shouldn't the presentation show what problems Rust solves?
[23:01:18] <SiegeLord> But it has to (and does, imo) solve a particular set of problems well
[23:01:20] *** Quits: skoizza (Mibbit@moz-C3630477.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[23:01:21] <sanxiyn> I actually think header-less type-inferred C++ is enough of a sell
[23:01:27] <sanxiyn> Even without memory safety, which is a killer feature
[23:01:37] <strcat> SiegeLord: it doesn't solve any problems that are unsolved
[23:01:53] <FreeFull> The type system is nice, it has memory safety, and it can be used for low-level code just as well as for high-level code
[23:01:59] <SiegeLord> That can't be true, because otherwise it wouldn't exist :P
[23:02:05] <strcat> SiegeLord: it is true
[23:02:08] *** Quits: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net) (Quit: ozten)
[23:02:19] <SiegeLord> Then why is Servo not written in the other language that solves those problems?
[23:02:21] <jix> does it solve a set of problems that no other language solves?
[23:02:23] <SiegeLord> NIH?
[23:02:28] <strcat> SiegeLord: no
[23:02:33] <strcat> I think you're missing the point
[23:02:41] <strcat> rust isn't bleeding edge research
[23:02:50] <strcat> it doesn't solve problems in ways that were previously not known
[23:03:08] <strcat> that has next to no relevance when you're comparing whether it's better for a use case than an existing language
[23:03:13] <FreeFull> It solves a certain configuration of problems in a certain way
[23:03:31] <SiegeLord> It doesn't matter if they are known or not
[23:03:35] <strcat> C didn't become widely used because it brought something new to the table
[23:03:37] *** Quits: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net) (Connection reset by peer)
[23:03:38] <SiegeLord> The point is to present them to the audience
[23:03:43] <sanxiyn> SiegeLord: In my "why you should learn Rust" explanation, I mostly sold it as header-less type-inferred C++ (with concept!)
[23:03:44] <strcat> SiegeLord: which he was doing?
[23:04:01] <sanxiyn> SiegeLord: And briefly mentioned memory safety and data race freedom, but didn't go into details
[23:04:10] <sanxiyn> Since well, you can't do that in short time slot
[23:05:25] <SiegeLord> I'm 100% sure Rust wasn't created to solve any of the problems in that presentation
[23:06:19] <strcat> SiegeLord: sure it was
[23:06:26] <sanxiyn> SiegeLord: Eh... it was?
[23:06:28] <strcat> it's a general purpose language... it was created to solve problems like that
[23:06:33] *** Joins: g3orge (g3orge@moz-CE3A1669.access.hol.gr)
[23:06:52] *** Quits: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[23:06:58] <SiegeLord> I doubt that
[23:07:07] <SiegeLord> Just because it is, doesn't mean it was created for that purpose
[23:07:17] <strcat> it was created to be a general purpose language
[23:07:22] <strcat> it wasn't created to solve niche problems
[23:07:26] <SiegeLord> There are 100's of general prupose languages, why was the 101'st created
[23:07:37] <sanxiyn> better mousetrap
[23:08:20] <SiegeLord> Why, when coming up with the idea of Servo, they didn't just choose one of the pre-existing languages, like C++
[23:08:21] <strcat> SiegeLord: it doesn't do anything *new*, it just aims to provide a more elegant way of doing the same things you could do before
[23:08:34] <SiegeLord> The elegantness is novelty in itself
[23:08:36] <sanxiyn> Let me quote from The C Programming Language
[23:08:48] <strcat> SiegeLord: and he's showing that in his presentation
[23:08:51] <tjc> SiegeLord: Graydon didn't invent Rust in order to work on Servo. Servo came several years later on.
[23:09:09] <SiegeLord> Well, why did he create it?
[23:09:16] <strcat> probably because he was bored
[23:09:23] <tjc> you'd have to ask him that :-)
[23:09:24] <SiegeLord> If it's anything beyond NIH, then it's relevant
[23:09:26] <tautologico> because C++ sucks
[23:09:36] <SiegeLord> E.g. that's a fine reason ^
[23:09:44] <strcat> boredom is why most good and bad things are done
[23:09:49] <sanxiyn> "C is a general-purpose programming language. C is not a very high level language, nor a big one, and is not specialized to any particular area of applications. But its absence of restrictions and its generality make it more convinient and effective for many tasks than supposedly more powerful languages."
[23:09:54] <tjc> Though, my impression is that one of Graydon's motivations was that there are many good ideas from PL research that have never made it to production...
[23:09:58] <strcat> I don't think graydon set up to replace C++ originally, rust was nowhere close to the C++ niche for a long time
[23:10:00] <sanxiyn> (One of my favorite description of C)
[23:10:01] <tautologico> although we have decades of programming language research, none of it was available for systems programmers
[23:10:04] <tjc> and he wanted to mine some of those good (old) ideas and put them in a new language
[23:10:13] <strcat> set out*
[23:10:21] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[23:10:26] <tautologico> (decades of proglang research since C, I mean)
[23:10:57] <tjc> If you have the patience to find it, the old version of the Rust manual (from early 2011) talks about some of the background behind some of the early Rust design decisions
[23:11:17] <tautologico> I think he saw there is definitely a place for a better systems programming language that could be powerful, efficient and safe at the same time
[23:12:34] * strcat doesn't really think graydon set out to write a systems language, based on talking to him about it
[23:12:40] <strcat> it ended up that way
[23:13:13] <jix> https://web.archive.org/web/20111013142640/http://www.rust-lang.org/doc/rust.html#Goals
[23:13:21] <strcat> 2011 is still recent
[23:13:23] <tautologico> maybe Mozilla's needs have steered rust to this direction
[23:14:08] <strcat> it didn't used to be a language with unique pointers, monomorphized generics, type classes, [...]
[23:15:25] <strcat> I think safety boundaries were important from an early point, but not deterministic resource management and competitive performance with C++
[23:16:26] <tjc> By the way, people might be interested in this interview with Graydon from about a year ago: http://www.infoq.com/news/2012/08/Interview-Rust
[23:16:35] <tjc> he talks about its origins a little bit
[23:17:53] <sanxiyn> I always got the impression Rust was to be a general-purpose programming language. White bread, not delicacy.
[23:18:03] *** Quits: mr_pants (Mibbit@moz-F2E42C9D.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[23:18:30] *** Quits: fyolnish (fyolnish@moz-3E302AAD.uqwimax.jp) (Client exited)
[23:18:56] *** Joins: fyolnish (fyolnish@moz-3E302AAD.uqwimax.jp)
[23:19:05] *** Quits: annodomini (lambda@moz-9AC5B452.hsd1.ma.comcast.net) (Quit: annodomini)
[23:19:15] <SiegeLord> Maybe I'm just overly biased by my reasons for liking Rust :P
[23:19:18] <sanxiyn> (And as a practical matter, I chose algorithmic problem because I found Rust IO to be ugly at the moment and didn't want to present that for first time impression...)
[23:19:47] <tautologico> it's general purpose, but the memory management makes it a bit more complex than similar general purpose languages, so if you don't need this kind of control maybe you'd be better off with a GCed language
[23:20:23] <strcat> it didn't used to have borrowed pointers and unique pointers
[23:20:26] <tjc> tautologico: right now, it's probably true that someone who doesn't need control over memory might be better off using ML rather than Rust, but...
[23:20:30] <strcat> they are recent (in terms of rust history)
[23:20:35] <tjc> that might change in a few years once Rust has a much stronger library ecosystem
[23:20:37] *** Quits: fyolnish (fyolnish@moz-3E302AAD.uqwimax.jp) (Ping timeout)
[23:20:40] <tautologico> tjc: agreed
[23:20:48] *** Quits: nif (Mibbit@F773C385.3B36E0FD.F275000D.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:20:49] <tjc> Also, there aren't any other (non-research) languages that have type classes *and* strict evaluation by fefault
[23:20:56] <strcat> it used to only have by-reference parameters
[23:21:04] <tautologico> I also like that there's a standard package system and support for testing early on
[23:21:07] <strcat> it was really weird
[23:21:18] *** Joins: nif (Mibbit@F773C385.3B36E0FD.F275000D.IP)
[23:21:35] * strcat forgets the url for that timelapse thing brson made
[23:22:15] *** Quits: tjc (tjc@moz-957520D8.lightspeed.frsnca.sbcglobal.net) (Quit: zzzzzzzzzz)
[23:22:15] <sanxiyn> tjc: I really want to use Disciple when it matures
[23:22:26] <tautologico> is Disciple still active?
[23:22:33] <sanxiyn> I think it is?
[23:22:33] <tautologico> I was thinking about it just today
[23:22:49] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[23:22:51] <sanxiyn> type class, strict evaluation, destructive memory update!
[23:23:20] *** Joins: tjc (tjc@moz-957520D8.lightspeed.frsnca.sbcglobal.net)
[23:23:20] *** ChanServ sets mode: +o tjc
[23:23:21] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[23:23:39] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[23:24:00] <sanxiyn> tautologico: Last Disciple release was July 2013, so I guess it is active
[23:24:50] <tautologico> cool
[23:25:06] <sanxiyn> SiegeLord: So... what would you use as an example to better demonstrate and introduce Rust?
[23:25:09] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[23:25:26] <sanxiyn> I am all for better demonstrative or pedagogical examples
[23:25:32] <strcat> based on reading past discussion/documentation, it seems to me that features like unique pointers were added to improve concurrency support
[23:25:45] <SiegeLord> sanxiyn: I think your examples are fine given the purpose of your presentation, I didn't know of the companion presentation when I made my criticism :P
[23:26:20] <sanxiyn> SiegeLord: The other presentation didn't have any example, just assertions that Rust is so and so :)
[23:26:47] *** Joins: maik (maik@moz-9730B7DC.dip0.t-ipconnect.de)
[23:27:30] *** Joins: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com)
[23:28:23] <sanxiyn> Another interesting bit:
[23:28:33] <sanxiyn> I found example program ran 30 times slower without optimization :)
[23:28:47] <sanxiyn> (0.5 s vs 15 s for my input data)
[23:29:21] <strcat> sanxiyn: I think at this point that's expected
[23:29:26] <strcat> especially if you're using libstd
[23:29:57] * strcat has been working hard at fixing *language* perf issues lately.... but is not very interested in the current libstd
[23:30:21] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[23:30:31] <SiegeLord> Well, I think the header thing is a great example. I'd have been impressed by a dangling reference example and Option-based error handling
[23:31:13] <strcat> fixing the language is easy because no one cares if I fiddle with trans ;p
[23:31:20] <strcat> changing the library takes forever
[23:31:29] <SiegeLord> I've been bitten by dangling references in C++, and I'd have been impressed by how Rust would have saved me half an hour of debugging
[23:32:06] <sanxiyn> strcat: Interestingly, straight one to one translation to Python ran for 15 s (about the same with unoptimized Rust)
[23:32:19] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[23:32:52] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Quit: dherman)
[23:32:52] <sanxiyn> I am actually curious which optimization is most important
[23:32:59] <strcat> inlining
[23:33:43] <sanxiyn> strcat: Does Rust inline #[inline] without -O?
[23:33:50] <strcat> sanxiyn: no
[23:33:55] <strcat> #[inline] does 2 things
[23:34:11] <strcat> it serializes the AST to make the function local in every crate (for cross-crate inlining) and sets inlinehint
[23:34:23] <strcat> inlinehint only lowers the inlining threshold and is usually a very bad thing to manually annotate
[23:34:33] <strcat> inline is only run at -O2 and -O3
[23:34:51] <strcat> if you want fast non-optimized cost, you have to not put something like integer + behind a call like we do ;p
[23:34:55] <strcat> s/cost/code/
[23:35:12] <sanxiyn> strcat: Also .next()...
[23:35:14] <benh> How does inlining via serializing the AST compare to inlining via llvm link-time optimization inlining via llvm il?
[23:35:18] <sanxiyn> (which is pointer increment! ouch)
[23:35:44] * benh doesn't know the first thing about llvm/lto/il but is curious
[23:36:23] <sanxiyn> benh: Rust AST may include type parameters, which can't really be represented by LLVM IR.
[23:36:53] <sanxiyn> For cases representable by LLVM IR, I guess it's similar
[23:37:21] *** Quits: krdln (Mibbit@moz-7E5A1CD6.dynamic.chello.pl) (Quit: http://www.mibbit.com ajax IRC Client)
[23:37:39] <benh> i see
[23:38:00] *** Quits: g3orge (g3orge@moz-CE3A1669.access.hol.gr) (Quit: leaving)
[23:38:25] <sanxiyn> benh: Similarly, STL really can't be compiled to .so beforehand...
[23:39:00] <strcat> sanxiyn: generics are always serialized though
[23:39:08] <strcat> #[inline] is *only* for inlinehint on generics
[23:39:17] <strcat> which is an anti-pattern 99% of the time
[23:39:17] <sanxiyn> strcat: ah ok
[23:39:41] <sanxiyn> strcat: But then, I got the impression LLVM inlines worse than GCC
[23:39:47] <strcat> sanxiyn: it doesn
[23:39:49] <strcat> 't
[23:39:51] <sanxiyn> (although it is still quite good at inlining)
[23:40:30] <strcat> sanxiyn: it makes a call graph and iteratively bubbles up inlining from the leaves
[23:40:39] <FreeFull> I wonder how well Rust would compile to C--
[23:40:43] <strcat> it just counts up costs of instructions
[23:40:55] <strcat> FreeFull: would lose far more information than going to LLVM IR
[23:41:15] <sanxiyn> C-- is probably outdated
[23:41:21] <strcat> it is
[23:41:26] <sanxiyn> It has no parallel primitive, for example
[23:41:49] <strcat> C-- is long deprecated in ghc
[23:41:52] <sanxiyn> (If GC and exception/continuation is interesting to support, parallelism probably is too)
[23:42:12] <sanxiyn> strcat: Well, no replacement in sight :(
[23:42:15] <FreeFull> The LLVM IR did improve a lot over time
[23:42:30] <FreeFull> So it probably overtook C-- at some point
[23:42:40] <sanxiyn> FreeFull: I found http://dl.acm.org/citation.cfm?id=1433063 an interesting successor of C-- idea
[23:42:55] <sanxiyn> LLVM IR is not C-- replacement. It has different ambitions.
[23:43:16] <FreeFull> True
[23:43:52] <sanxiyn> Pillar is from Intel
[23:43:59] <sanxiyn> (Apparently reusing ICC backend)
[23:44:16] <benh> The ghc llvm backend still goes via C--? :(
[23:44:27] <sanxiyn> benh: Easier that way
[23:44:39] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[23:45:28] <sanxiyn> http://ghc.haskell.org/trac/ghc/wiki/Commentary/Compiler/Backends/LLVM/Design
[23:45:39] <strcat> benh: no
[23:45:46] <strcat> they have 3 backends
[23:45:55] <sanxiyn> strcat: http://llvm.org/devmtg/2013-04/ claims that
[23:45:58] <strcat> the native code generation backend (standard), the C-- backend (deprecated for ages) and the LLVM backend
[23:46:07] <sanxiyn> strcat: When LLVM is slower than GCC for Google, it is almost always LLVM does worse inlining
[23:46:24] <strcat> sanxiyn: *shrug*
[23:46:25] <sanxiyn> strcat: For example, Google blaims LLVM compiling 10% slower Protocol Buffers to inlining
[23:46:48] <strcat> LLVM is fine at inlining, the threshold is probably different
[23:46:52] <sanxiyn> strcat: Actually deprecated one is generating C, not C--
[23:46:53] <strcat> sometimes better, sometimes worse
[23:46:55] <strcat> but it's a tunable
[23:46:58] <strcat> sanxiyn: ah
[23:47:03] <pcmattman> (sometimes too much inlining is a performance hit too, is important to remember)
[23:47:18] <strcat> sanxiyn: you can pass an inline threshold
[23:47:28] <strcat> and make it behave pretty much exactly as gcc
[23:47:33] <sanxiyn> strcat: Not really
[23:47:39] <strcat> why?
[23:47:46] *** Quits: nif (Mibbit@F773C385.3B36E0FD.F275000D.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:47:52] <strcat> afaik it's an iterative process that goes until there's nothing left to do
[23:48:05] <strcat> it just keeps looping until there is nothing under the threshold to inline
[23:48:11] <strcat> and I think gcc would be doing that too...
[23:48:45] <sanxiyn> strcat: My understanding is LLVM does significantly worse size estimate to compare to threshold
[23:49:03] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[23:49:07] <sanxiyn> e.g. other parts of compiler know how hot the block is, but that is not passed to inliner, etc.
[23:49:07] <strcat> well that would make sense, their cost model may be worse
[23:49:13] <sanxiyn> yeah cost model
[23:49:35] <sanxiyn> You shouldn't count function size to be inlined, you should count delta after it is inlined and optimized
[23:49:46] <strcat> too slow though
[23:49:51] <sanxiyn> yeah, so estimate
[23:49:54] <sanxiyn> LLVM doesn't even try
[23:50:22] <strcat> so gcc does do more than just counting the size pre-inlining?
[23:51:29] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[23:51:31] <sanxiyn> I think so, but haven't looked at details
[23:51:32] <sanxiyn> Should
[23:52:25] <sanxiyn> strcat: Talk does include some detailed discussion of where LLVM's cost model goes wrong
[23:52:55] <sanxiyn> This seems to be THE main remaining gap between LLVM and GCC
[23:53:03] <sanxiyn> (And also array bound check elimination...)
[23:56:10] <strcat> sanxiyn: there are non-performance related issues with LLVM too
[23:56:16] <strcat> like how ABIs are handled entirely in clang
[23:56:25] <strcat> if rust targeted gcc, it would do ABI handling for us ;p
[23:56:33] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[23:56:33] *** ChanServ sets mode: +ao dherman dherman
[23:57:05] <strcat> and first-class aggregates still aren't very first-class (partially related to that)
[23:57:10] <sanxiyn> strcat: I guess the theory is LLVM IR is not C-specific so C-specific part belongs in C compiler, but...
[23:57:27] <strcat> LLVM bytecode is basically just clang's IR
[23:57:37] <strcat> it wants to be more, but it isn't really atm.
[23:57:50] <sanxiyn> strcat: Well Clang came later than LLVM, so that is rewriting history :)
[23:58:02] <strcat> sanxiyn: sure, but before then llvm-gcc was the frontend
[23:59:00] <strcat> LLVM has very weak GC support (not needed for clang), weak ABI support (handled by clang), weak type-based aliasing/mutability support (compared to gcc)
[23:59:30] <strcat> something like vectorization will be tuned entirely for clang's output
[23:59:59] <strcat> it took me a while to get our iterators to generate code optimizing to about the same order as clang's output
