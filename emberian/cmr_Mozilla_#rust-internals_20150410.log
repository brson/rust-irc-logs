[00:00:14] *** Joins: rprichard (rprichard@moz-imu4l1.en8f.d045.0009.2601.IP)
[00:01:26] *** Joins: Johannes (Johannes@moz-4et8d7.ocn.ne.jp)
[00:01:44] *** Quits: scialex (scialex@moz-j5mi8i.cs.brown.edu) (Quit: Leaving)
[00:02:07] *** Quits: binkarus (textual@moz-014tff.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:02:57] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[00:03:08] <carllerche> there really should be a way for a crate to specify the minimum rust version it targets and have that enforced at compile time (thinking forward to what there are changes every 6 weeks)
[00:08:17] *** Quits: Rusky (russell@moz-pob0l8.slkc.qwest.net) (Quit: Leaving.)
[00:08:23] *** Joins: Rusky (russell@moz-pob0l8.slkc.qwest.net)
[00:11:44] <brson> erickt: there was a scheduling fuckup (probably mine) and we're double booked tonight
[00:12:32] <brson> erickt: there are some talks going on now, and their event will extend into the beginning of ours
[00:12:59] <brson> i'll post a note to the meetup group about it
[00:13:24] <brson> right now my plan is just to continue and hope they are making their way out while we're making our way it
[00:13:27] <brson> *in
[00:13:42] <brson> if we must we have access to the 7th floor, but no broacast capabilities there
[00:15:01] *** Joins: binkarus (textual@moz-014tff.ca.comcast.net)
[00:16:22] *** Quits: ytain (ytain@moz-mh2irj.cpe.pppoe.ca) (Quit: Textual IRC Client: www.textualapp.com)
[00:16:42] <cmr> brson: record it with someone's phone.
[00:17:10] <erickt> brson: no worries
[00:17:25] <erickt> is there a place we could mingle while they wrap up?
[00:17:32] <erickt> when are they suppsed to be out of the room?
[00:18:05] <arielb1> nrc: cc rust-lang/rfcs#1052
[00:18:47] <nrc> arielb1: thanks, will take a look in a bit
[00:20:54] *** Joins: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com)
[00:21:08] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[00:21:27] <brson> erickt: they are scheduled until 7:30 but I suspect they will not last that long, that once the talks end people will bail
[00:22:38] <erickt> ok
[00:24:13] *** Quits: scialex_ (scialex@moz-4je.a5t.16.138.IP) (Ping timeout: 121 seconds)
[00:25:15] <freebroccolo> how much optimization effort has gone into the num::bigint stuff?
[00:26:11] <arielb1> freebroccolo: not much
[00:27:01] <arielb1> I don't think the core team really cares about it
[00:27:26] <freebroccolo> I see… is the plan to do something else in the long term?
[00:27:36] <aturon> FWIW, i think bigints + generic numeric programming is super important
[00:27:54] <aturon> (but not to the level of being a 1.0 must-have)
[00:28:05] * cmr just uses rust-gmp
[00:28:50] * arielb1 also thinks bignums are important, but also that num isn't it
[00:29:50] <freebroccolo> aturon: that seems fair. Guess I'm wondering if the plan is to just wrap gmp and co. or to keep working on a pure rust implementation
[00:30:50] <brson> gmp is not licensed suitably for inclusion in rust
[00:30:51] *** Joins: Kingsquee (kingsley@moz-qq7ns6.bchsia.telus.net)
[00:31:01] <brson> i don't think there's a plan
[00:31:15] <aturon> yeah, no one is currently leading an effort here
[00:31:42] <aturon> (we've mostly been trying to clear the way by moving suboptimal stuff out of std)
[00:36:17] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[00:40:31] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[00:44:23] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.3.92.1)
[00:46:13] *** Quits: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[00:47:53] *** Joins: _zxq9_ (ceverett@moz-qsm369.mesh.ad.jp)
[00:48:11] *** Quits: bkearns (Adium@moz-rudtng.static.wiline.com) (Quit: Leaving.)
[00:48:40] *** Quits: arielb1 (Ariel@moz-0cbkg9.red.bezeqint.net) (Connection closed)
[00:52:42] *** Quits: brson (brson@moz-u3dg2t.sfo1.mozilla.com) (Ping timeout: 121 seconds)
[00:53:16] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[00:54:31] *** kimundi is now known as zz_kimundi
[01:00:02] *** Quits: marsel` (user@moz-aff.q63.180.94.IP) (Ping timeout: 121 seconds)
[01:00:44] <acrichto> steveklabnik: you ok if I prioritize https://github.com/rust-lang/rust/pull/24177 over the rollup?
[01:00:48] <acrichto> I'm hoping to land that today
[01:00:58] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[01:03:01] *** Quits: bdero (bran@moz-lbs.91h.47.73.IP) (Ping timeout: 121 seconds)
[01:04:20] *** Quits: tcurdt (tcurdt@moz-d35.238.151.87.IP) (Quit: Textual IRC Client: www.textualapp.com)
[01:04:24] *** Joins: mib_t0tscz (Mibbit@moz-juv.9o3.252.72.IP)
[01:05:34] *** Quits: Rusky (russell@moz-pob0l8.slkc.qwest.net) (Quit: Leaving.)
[01:05:35] *** Quits: mib_t0tscz (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:05:46] *** Joins: Rusky (russell@moz-pob0l8.slkc.qwest.net)
[01:17:44] *** Joins: rovar_ (rovar@moz-m2j7h0.dyn.optonline.net)
[01:17:54] *** Quits: rovar (rovar@moz-6iq.47m.88.38.IP) (NickServ (RECOVER command used by rovar_))
[01:17:54] *** rovar_ is now known as rovar
[01:18:07] *** Joins: rovar_ (rovar@moz-6iq.47m.88.38.IP)
[01:32:15] *** Quits: Rusky (russell@moz-pob0l8.slkc.qwest.net) (Quit: Leaving.)
[01:32:22] *** Joins: Rusky (russell@moz-pob0l8.slkc.qwest.net)
[01:32:24] *** Quits: pcwalton (pcwalton@moz-qjbkeh.mtv2.mozilla.com) (Client exited)
[01:32:54] *** Quits: Rusky (russell@moz-pob0l8.slkc.qwest.net) (Quit: Leaving.)
[01:33:02] *** Joins: Rusky (russell@moz-pob0l8.slkc.qwest.net)
[01:34:31] *** Quits: chris-chambers (chris@moz-48q4qf.res.rr.com) (Quit: Leaving.)
[01:36:58] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[01:41:09] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[01:43:07] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:44:06] *** Joins: erickt (erickt@moz-l8ebtf.sfo1.mozilla.com)
[01:47:18] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[01:56:31] *** Joins: bdero (bran@moz-lbs.91h.47.73.IP)
[01:56:36] *** Joins: chris-chambers (chris@moz-48q4qf.res.rr.com)
[02:10:26] *** Quits: erickt (erickt@moz-l8ebtf.sfo1.mozilla.com) (Ping timeout: 121 seconds)
[02:13:12] *** Joins: erickt (erickt@moz-l8ebtf.sfo1.mozilla.com)
[02:20:59] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[02:32:07] *** Quits: srh (User@moz-ut32bm.q9f2.utp8.0306.2602.IP) (Quit: Leaving)
[02:37:55] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[02:39:28] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[02:41:13] *** Joins: mib_nrk06e (Mibbit@moz-juv.9o3.252.72.IP)
[02:41:54] *** Quits: zz_kimundi (kimundi@moz-vg3168.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:42:03] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[02:44:00] *** Quits: mib_nrk06e (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:44:34] *** Joins: zz_kimundi (kimundi@moz-tts.3lo.188.87.IP)
[02:44:40] *** zz_kimundi is now known as kimundi
[02:48:46] *** Joins: blaenk (blaenkdenum@moz-rrtddg.n2pv.fsko.e000.2605.IP)
[02:48:53] *** Quits: blaenk (blaenkdenum@moz-rrtddg.n2pv.fsko.e000.2605.IP) (Quit: Leaving)
[02:50:38] *** Joins: theme (theme@moz-i3mhhb.asianet.co.th)
[02:55:01] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[02:57:23] *** Quits: aatch (james@moz-4tpcve.pd7t.fvcm.e000.2406.IP) (Quit: Leaving)
[03:00:01] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[03:00:25] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[03:12:26] *** Quits: {[]}grant ({0}grant@moz-k7fknj.mo.charter.com) (Connection closed)
[03:14:16] *** Joins: mib_vmgk39 (Mibbit@moz-juv.9o3.252.72.IP)
[03:16:59] <theme> aturon, ping
[03:19:32] <theme> aturon, can you explain this for me? http://internals.rust-lang.org/t/replace-borrow-and-borrowmut-traits-with-asref-and-asmut/1772/8
[03:26:12] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[03:27:36] *** Joins: semarie (semarie@moz-md1mas.ipredator.se)
[03:30:42] <theme> Why don't we have `impl<T: ?Sized> AsRef<T> for T {...}` ?
[03:34:11] <Mutabah> theme: That would collide with any other impls of AsRef
[03:34:21] <Mutabah> (wait... maybe not?)
[03:35:35] *** Quits: Rym (y@moz-j0i.34a.55.31.IP) (Ping timeout: 121 seconds)
[03:35:55] <sully> huh, why are slice patterns experimental now?
[03:36:30] <scott> they were never stabilized afaik
[03:36:49] <sully> they've been in for a looong time though
[03:36:51] <theme> Mutabah, erm... what?
[03:37:05] <sully> I remember fixing a bug in them during one of my internships
[03:37:43] <Mutabah> theme: Sorry, I misread the impl line. No idea
[03:41:31] *** Quits: mib_vmgk39 (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:50:18] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[03:54:32] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[03:55:45] *** Joins: mib_g19glz (Mibbit@moz-juv.9o3.252.72.IP)
[03:55:49] *** Joins: blaenk (blaenkdenum@moz-rrtddg.n2pv.fsko.e000.2605.IP)
[03:57:07] *** Quits: mib_g19glz (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:58:46] *** Quits: chris-chambers (chris@moz-48q4qf.res.rr.com) (Quit: Leaving.)
[04:01:54] *** Joins: Rym (y@moz-j0i.34a.55.31.IP)
[04:02:33] *** Quits: jmitchell (jmitchell@moz-o8p.pug.156.104.IP) (Ping timeout: 121 seconds)
[04:02:54] *** Quits: erickt (erickt@moz-l8ebtf.sfo1.mozilla.com) (Ping timeout: 121 seconds)
[04:03:30] *** Joins: jmitchell (jmitchell@moz-o8p.pug.156.104.IP)
[04:06:24] *** Quits: Rym (y@moz-j0i.34a.55.31.IP) (Ping timeout: 121 seconds)
[04:11:42] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[04:18:37] <reem> It conflicts with the impl for references
[04:18:38] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[04:20:59] <theme> reem, what conflict?
[04:22:09] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[04:29:47] *** Quits: blaenk (blaenkdenum@moz-rrtddg.n2pv.fsko.e000.2605.IP) (Quit: Leaving)
[04:30:22] *** Joins: cengizIO (textual@moz-jju.ckp.250.151.IP)
[04:34:07] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[04:36:28] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[04:37:03] *** Quits: bdero (bran@moz-lbs.91h.47.73.IP) (Ping timeout: 121 seconds)
[04:39:05] *** Quits: cengizIO (textual@moz-jju.ckp.250.151.IP) (Quit: Textual IRC Client: www.textualapp.com)
[04:39:19] *** Joins: cengizIO (textual@moz-jju.ckp.250.151.IP)
[04:43:45] <reem> theme: impl<T> AsRef<T> for T where T: ?Sized would conflict with impl<'a, T, U> AsRef<U> for &'a T where T: AsRef<U>, T: ?Sized, U: ?Sized
[04:43:57] <reem> since U could be &’a T
[04:44:09] <theme> hmm
[04:44:31] * theme thinks
[04:45:22] <theme> too bad D:
[04:49:29] *** Joins: erickt (erickt@moz-l8ebtf.sfo1.mozilla.com)
[04:53:37] *** Quits: erickt (erickt@moz-l8ebtf.sfo1.mozilla.com) (Ping timeout: 121 seconds)
[04:56:02] *** Joins: Rym (y@moz-j0i.34a.55.31.IP)
[04:56:57] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Connection closed)
[04:59:47] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[05:00:34] *** Quits: Rym (y@moz-j0i.34a.55.31.IP) (Ping timeout: 121 seconds)
[05:01:09] *** Quits: O01eg (o01eg@moz-fvs.3te.212.176.IP) (Client exited)
[05:04:05] *** Joins: eerie (eerie@moz-u71v5v.red.bezeqint.net)
[05:08:16] <Gankro> sully: Old stuff doesn't get any automatic benefits, and we're basically commiting to as little as possible for 1.0. Back-compat to add later and all that.
[05:11:06] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Quit: Leaving...)
[05:15:11] *** Joins: pitdicker (pitdicker@moz-328u1s.adsl.online.nl)
[05:17:53] *** Quits: binkarus (textual@moz-014tff.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[05:19:31] *** Joins: canhtak (jeremy@moz-1a9fh1.luxdsl.pt.lu)
[05:19:42] *** Quits: Kingsquee (kingsley@moz-qq7ns6.bchsia.telus.net) (Quit: Konversation terminated!)
[05:20:51] *** Joins: Kingsquee (kingsley@moz-qq7ns6.bchsia.telus.net)
[05:22:46] *** Quits: etw (john@moz-2lpgmu.fios.verizon.net) (Client exited)
[05:25:06] *** Quits: cengizIO (textual@moz-jju.ckp.250.151.IP) (Quit: Textual IRC Client: www.textualapp.com)
[05:25:17] *** Quits: canhtak (jeremy@moz-1a9fh1.luxdsl.pt.lu) (Client exited)
[05:26:16] <scott> I can't load the https://buildbot.rust-lang.org/homu/queue/rust link in the /topic unless I make it http://
[05:27:40] <whipsch> seems to be loading endlessly for me
[05:27:42] <whipsch> on https
[05:28:14] <whipsch> as in, not connecting
[05:28:31] <scott> yeah, I get the same behaviour until chrome gives up
[05:31:21] *** Parts: pitdicker (pitdicker@moz-328u1s.adsl.online.nl) ("Ik ga weg")
[05:32:35] *** Joins: cengizIO (textual@moz-jju.ckp.250.151.IP)
[05:32:41] *** Quits: cengizIO (textual@moz-jju.ckp.250.151.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[05:34:11] *** Joins: eerie_ (eerie@moz-u71v5v.red.bezeqint.net)
[05:37:13] *** Quits: eerie (eerie@moz-u71v5v.red.bezeqint.net) (Ping timeout: 121 seconds)
[05:45:04] *** Joins: singingboyo (holoirc@moz-05k7u4.eng.wind.ca)
[05:48:02] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[05:50:12] *** Joins: Rym (y@moz-j0i.34a.55.31.IP)
[05:54:44] *** Quits: Rym (y@moz-j0i.34a.55.31.IP) (Ping timeout: 121 seconds)
[05:56:56] *** Joins: brson (brson@moz-3mi.nja.110.38.IP)
[05:56:56] *** ChanServ sets mode: +o brson
[05:58:22] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[05:58:29] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Connection closed)
[06:03:46] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[06:04:22] *** Joins: eerie (eerie@moz-u71v5v.red.bezeqint.net)
[06:04:35] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[06:04:41] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[06:04:41] *** ChanServ sets mode: +o pcwalton
[06:04:47] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[06:07:15] *** Quits: eerie_ (eerie@moz-u71v5v.red.bezeqint.net) (Ping timeout: 121 seconds)
[06:08:21] *** Quits: Kroisse (Kroisse@moz-t75tk5.krois.se) (Quit: Good bye :))
[06:08:55] *** Joins: James_ (quassel@moz-olnmts.range86-163.btcentralplus.com)
[06:15:45] *** Quits: eerie (eerie@moz-u71v5v.red.bezeqint.net) (Connection closed)
[06:23:03] *** Joins: bsonnickfail (holoirc@moz-sunivd.bchsia.telus.net)
[06:25:42] *** Quits: singingboyo (holoirc@moz-05k7u4.eng.wind.ca) (Ping timeout: 121 seconds)
[06:32:42] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[06:35:38] *** Joins: Kroisse (Kroisse@moz-t75tk5.krois.se)
[06:37:43] *** Quits: Skyler (Skyler@moz-e93b35.sd.cox.net) (Client exited)
[06:38:51] *** Quits: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Connection closed)
[06:41:18] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[06:41:32] *** Joins: Skyler (Skyler@moz-e93b35.sd.cox.net)
[06:44:18] *** Joins: Rym (y@moz-j0i.34a.55.31.IP)
[06:46:10] <eternaleye> ...huh, I just had an odd thought. If a compiler split optimization passes into a recognizer and a replacer, and ran all recognizers followed by non-overlapping replacers, would finding the optimal decisions between overlapping replacers be equivalent to the knapsack problem, and thus amenable to a dynamic-programming solution?
[06:46:52] *** Joins: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[06:47:23] <eternaleye> My intuition says that this might work well for peephole optimizations
[06:48:43] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[06:48:53] *** Quits: Rym (y@moz-j0i.34a.55.31.IP) (Ping timeout: 121 seconds)
[06:51:49] *** Joins: eibwen (eibwen@moz-8mh.6dl.231.217.IP)
[06:55:27] *** Quits: James_ (quassel@moz-olnmts.range86-163.btcentralplus.com) (Ping timeout: 121 seconds)
[06:56:44] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[06:56:44] *** Quits: _1126 (flume@moz-bio9kd.io) (Quit: WeeChat 1.1.1)
[06:59:07] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[07:02:34] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[07:04:06] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[07:06:21] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[07:08:38] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:12:54] *** Joins: _1126 (flume@moz-bio9kd.io)
[07:30:33] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[07:31:15] *** Joins: ptalbot (ptalbot@moz-1gn7gb.eu0n.jcdj.0660.2001.IP)
[07:36:21] *** Quits: brson (brson@moz-3mi.nja.110.38.IP) (Ping timeout: 121 seconds)
[07:36:27] *** Quits: theme (theme@moz-i3mhhb.asianet.co.th) (Quit: Leaving)
[07:37:15] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[07:38:04] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Connection closed)
[07:38:10] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[07:39:21] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[07:42:20] *** Joins: larhat (Adium@moz-8v4.af0.232.213.IP)
[07:46:28] *** Quits: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk) (Ping timeout: 121 seconds)
[07:50:32] *** Joins: bjz (bjz@moz-b43.1aa.161.202.IP)
[08:02:51] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[08:04:15] *** Quits: bjz (bjz@moz-b43.1aa.161.202.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[08:04:20] *** Joins: eerie (eerie@moz-skf3bm.red.bezeqint.net)
[08:07:19] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[08:08:41] *** Quits: eerie (eerie@moz-skf3bm.red.bezeqint.net) (Ping timeout: 121 seconds)
[08:17:21] *** Joins: munksgaard (munksgaard@moz-1i4.hq0.225.130.IP)
[08:17:34] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[08:20:02] *** Joins: laumann (thomas@moz-33d.hq0.225.130.IP)
[08:22:57] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[08:37:34] *** Joins: binkarus (textual@moz-014tff.ca.comcast.net)
[08:40:10] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[08:56:29] *** Joins: imperio (Mibbit@moz-aibeqg.fbx.proxad.net)
[09:01:10] <nmatsakis> man but do I hate how editing a #[test] in e.g. libsyntax makes me recompile from scratch
[09:01:36] <nmatsakis> nrc: speaking of incremental recompilation, I wonder if we can target that problem -- it's probably only affecting people editing rustc, though I don't know for sure
[09:02:14] <nmatsakis> I've long thought about just hashing the AST post-expansion in some way so as to see that "oh, it's literally EXACTLY THE SAME as it was before"
[09:02:23] <nrc> do you do the `touch pd "last year" ` trick?
[09:02:25] <nmatsakis> simple but it would work, as long as you #[cfg(test)] your tests
[09:02:27] <nrc> -d
[09:02:30] <nmatsakis> yes, I do that
[09:02:33] <nmatsakis> but I forget sometimes
[09:02:42] <nrc> that is so annoying
[09:02:42] <nmatsakis> also make check-stage2-libsyntax NO_REBUILD=1 etc
[09:03:22] <nrc> A post-parse hash would be a neat hack
[09:03:32] <nmatsakis> thing is, it makes me really reluctant to edit unit tests :)
[09:03:36] <nrc> I'd be keen for that!
[09:03:36] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[09:03:55] <nmatsakis> seems...plausible that it could be some kind of starting point
[09:04:07] <nmatsakis> the tricky part to make it more general
[09:04:13] <nmatsakis> woudl be node ids I guess
[09:04:18] <nmatsakis> but for this particular case
[09:04:21] <nmatsakis> they don't matter at all
[09:04:38] <nmatsakis> actually, if we ignored node ids, we could at least have some notion of which items changed
[09:04:46] <nmatsakis> we'd need to know dependencies between items to make much use of that in the fuure
[09:07:32] <nrc> as soon as anything changes at all you get into needing dependencies
[09:08:03] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[09:09:56] *** Joins: bjz (bjz@moz-4l6.mjm.52.113.IP)
[09:10:47] <nmatsakis> right
[09:20:23] *** Quits: bjz (bjz@moz-4l6.mjm.52.113.IP) (Ping timeout: 121 seconds)
[09:22:46] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Quit: Leaving.)
[09:27:27] *** Joins: Rym (y@moz-l75t2m.range86-187.btcentralplus.com)
[09:30:15] <eibwen> "For better or worse, that is its role. After all, we recently introduced lints that push you to only use as for semantically dangerous casts."
[09:30:40] <eibwen> nmatsakis: I really don't like `as` in the role of unsafe integer conversions
[09:30:43] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[09:30:58] *** Joins: filsmick (filsmick@moz-c99ta7.abo.wanadoo.fr)
[09:31:07] <eibwen> the tutorials *and* the compiler use it as logical cast rather than bitcast most of the time
[09:31:39] <eibwen> and there's not really a possibility of logically casting an integer :/
[09:31:48] *** Quits: Rym (y@moz-l75t2m.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[09:35:13] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[09:35:28] <nmatsakis> eibwen: I don't disagree, we need to develop a good API here.
[09:45:24] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[09:50:14] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[09:50:15] *** ChanServ sets mode: +o pnkfelix
[10:01:52] *** Joins: eerie (eerie@moz-skf3bm.red.bezeqint.net)
[10:03:07] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[10:03:37] *** Joins: ytain (ytain@moz-mh2irj.cpe.pppoe.ca)
[10:04:14] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Ping timeout: 121 seconds)
[10:04:21] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[10:08:46] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[10:14:58] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[10:15:25] *** Joins: pczarn (piotr@moz-9un7t9.izacom.pl)
[10:18:41] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[10:18:55] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[10:18:55] *** ChanServ sets mode: +o pnkfelix
[10:21:16] <pnkfelix> nmatsakis: hey, there was an accidental file mixed into that rfcs commit you made for RFC 693; you want me to remove it?
[10:21:26] *** Joins: Rym (y@moz-l75t2m.range86-187.btcentralplus.com)
[10:25:58] *** Quits: Rym (y@moz-l75t2m.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[10:26:06] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[10:28:27] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[10:31:07] *** Quits: eerie (eerie@moz-skf3bm.red.bezeqint.net) (Connection closed)
[10:34:19] *** Joins: ineol (ineol@moz-ofnmt7.residence.ens-lyon.fr)
[10:35:11] *** Joins: eerie (eerie@moz-skf3bm.red.bezeqint.net)
[10:46:22] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[10:54:27] *** Quits: Kingsquee (kingsley@moz-qq7ns6.bchsia.telus.net) (Quit: Konversation terminated!)
[10:58:11] *** Quits: ptalbot (ptalbot@moz-1gn7gb.eu0n.jcdj.0660.2001.IP) (Ping timeout: 121 seconds)
[11:00:01] *** Quits: filsmick (filsmick@moz-c99ta7.abo.wanadoo.fr) (Quit: )
[11:02:07] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[11:04:48] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[11:04:49] *** ChanServ sets mode: +o nrc
[11:05:06] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[11:05:19] *** Joins: eerie_ (eerie@moz-skf3bm.red.bezeqint.net)
[11:07:33] *** Quits: untitaker (untitaker@moz-oj22ou.highway.telekom.at) (Ping timeout: 121 seconds)
[11:08:13] *** Quits: eerie (eerie@moz-skf3bm.red.bezeqint.net) (Ping timeout: 121 seconds)
[11:09:28] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[11:09:57] *** Joins: eerie (eerie@moz-du5b2m.red.bezeqint.net)
[11:11:23] *** Quits: eerie_ (eerie@moz-skf3bm.red.bezeqint.net) (Ping timeout: 121 seconds)
[11:13:12] *** Joins: untitaker (untitaker@moz-i0k8sv.highway.telekom.at)
[11:15:30] *** Quits: bsonnickfail (holoirc@moz-sunivd.bchsia.telus.net) (Ping timeout: 121 seconds)
[11:15:35] *** Joins: Rym (y@moz-l75t2m.range86-187.btcentralplus.com)
[11:20:07] *** Quits: Rym (y@moz-l75t2m.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[11:20:58] *** Quits: ineol (ineol@moz-ofnmt7.residence.ens-lyon.fr) (Client exited)
[11:34:33] *** Quits: semarie (semarie@moz-md1mas.ipredator.se) (Ping timeout: 121 seconds)
[11:35:03] *** Joins: semarie (semarie@moz-qpd.aq7.187.37.IP)
[11:35:52] *** Joins: Rym (y@moz-l75t2m.range86-187.btcentralplus.com)
[11:38:39] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[11:39:54] *** Joins: eerie_ (eerie@moz-du5b2m.red.bezeqint.net)
[11:39:54] *** Quits: eerie (eerie@moz-du5b2m.red.bezeqint.net) (Connection closed)
[11:40:24] *** Quits: Rym (y@moz-l75t2m.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[11:41:32] *** Joins: eerie (eerie@moz-tu0h67.red.bezeqint.net)
[11:43:56] *** Quits: eerie_ (eerie@moz-du5b2m.red.bezeqint.net) (Ping timeout: 121 seconds)
[11:45:01] *** Quits: Kxepal (Miranda@moz-o9vejk.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[11:47:12] *** Joins: Kxepal (Miranda@moz-gkifmf.pppoe.mtu-net.ru)
[11:49:01] *** Quits: binkarus (textual@moz-014tff.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[11:54:58] *** Quits: laumann (thomas@moz-33d.hq0.225.130.IP) (Ping timeout: 121 seconds)
[11:58:28] *** Joins: filsmick (filsmick@moz-c99ta7.abo.wanadoo.fr)
[11:59:36] *** Quits: Kxepal (Miranda@moz-gkifmf.pppoe.mtu-net.ru) (Client exited)
[11:59:58] *** Joins: Kxepal (Miranda@moz-gkifmf.pppoe.mtu-net.ru)
[12:02:00] *** Joins: laumann (thomas@moz-33d.hq0.225.130.IP)
[12:02:14] *** Joins: etw (john@moz-2lpgmu.fios.verizon.net)
[12:06:02] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[12:10:16] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[12:11:22] *** Quits: eerie (eerie@moz-tu0h67.red.bezeqint.net) (Connection closed)
[12:11:42] *** Joins: eerie (eerie@moz-tu0h67.red.bezeqint.net)
[12:13:55] *** Quits: etw (john@moz-2lpgmu.fios.verizon.net) (Client exited)
[12:18:16] *** Joins: bdero (bran@moz-tv7jqp.mit.edu)
[12:18:38] *** Joins: bdero1 (bran@moz-u8a.gci.189.18.IP)
[12:18:44] *** Quits: bdero1 (bran@moz-u8a.gci.189.18.IP) (Quit: Leaving.)
[12:18:45] *** Joins: bdero1 (bran@moz-tv7jqp.mit.edu)
[12:18:45] *** Quits: bdero (bran@moz-tv7jqp.mit.edu) (Connection closed)
[12:22:11] *** Quits: laumann (thomas@moz-33d.hq0.225.130.IP) (Quit: leaving)
[12:30:01] *** Joins: Rym (y@moz-l75t2m.range86-187.btcentralplus.com)
[12:30:26] *** Joins: marsel (user@moz-1eh.7cm.255.92.IP)
[12:30:46] *** Joins: jdm (jdm@moz-ul43ak.dsl.bell.ca)
[12:34:00] *** Quits: amir (amir@moz-jnohkj.3bcq.01f6.0168.2a02.IP) (A TLS packet with unexpected length was received.)
[12:34:27] *** Joins: amir (amir@moz-jnohkj.3bcq.01f6.0168.2a02.IP)
[12:34:33] *** Quits: Rym (y@moz-l75t2m.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[12:42:57] *** Quits: eerie (eerie@moz-tu0h67.red.bezeqint.net) (Connection closed)
[12:43:18] *** Joins: eerie (eerie@moz-tu0h67.red.bezeqint.net)
[12:43:22] <steveklabnik> acrichto: gotta do what you gotta do, i guess my rollup didn't make it before the nightly, oh well
[12:43:48] *** Quits: eerie (eerie@moz-tu0h67.red.bezeqint.net) (Connection closed)
[12:43:49] *** Joins: eerie (eerie@moz-tu0h67.red.bezeqint.net)
[12:46:49] <munksgaard> How do I get the return type of an ExprMethodCall?
[12:48:20] *** Joins: chris-chambers (chris@moz-48q4qf.res.rr.com)
[12:48:29] *** Joins: etw (john@moz-2lpgmu.fios.verizon.net)
[12:53:19] *** Quits: etw (john@moz-2lpgmu.fios.verizon.net) (Client exited)
[12:59:03] <munksgaard> ty::expr_ty(tcx, expr) seems to do the trick.
[12:59:14] <munksgaard> Any gotchas I should be aware of?
[12:59:48] *** Joins: arielb1 (Ariel@moz-0cbkg9.red.bezeqint.net)
[13:06:26] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[13:06:36] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[13:10:52] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[13:17:16] *** Joins: Rym (y@moz-l75t2m.range86-187.btcentralplus.com)
[13:18:22] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[13:18:50] <nmatsakis> pnkfelix: oh, um, ok
[13:18:57] <nmatsakis> pnkfelix: or I can
[13:19:05] <pnkfelix> nmatsakis: I guess I should have just fixed it
[13:19:07] <nmatsakis> munksgaard: you perhaps want ty::expr_ty_adjusted
[13:19:23] <pnkfelix> nmatsakis: I sometimes forget that I have write access to the rfcs repo
[13:19:34] <pnkfelix> nmatsakis: (and in any case, maybe there was something you intended to commit there, i dunno.)
[13:19:37] *** Joins: jasperrex (Mibbit@moz-juv.9o3.252.72.IP)
[13:19:47] <pnkfelix> nmatsakis: anyway I'll take care of it.
[13:19:55] <nmatsakis> pnkfelix: removed
[13:19:57] <nmatsakis> too slow
[13:19:58] <nmatsakis> ;)
[13:21:27] <pnkfelix> nmatsakis: newest source of unsound behavior: http://is.gd/DSW1Jt
[13:21:32] *** Quits: jasperrex (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:22:17] <pnkfelix> nmatsakis: (our has-been-initialized analysis seems to get confused by the `break` in the FRU )
[13:22:48] <nmatsakis> pnkfelix: indeed. 
[13:22:58] <nmatsakis> pnkfelix: regarding https://github.com/rust-lang/rfcs/pull/218
[13:23:04] <nmatsakis> oh never mind
[13:23:09] <nmatsakis> I'm going to merge it, anyhow
[13:24:34] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Ping timeout: 121 seconds)
[13:26:56] <huon> FRU seems to a very very large source of soundness bugs?
[13:27:04] <pnkfelix> nmatsakis: I wonder if we could port liveness to use the CFG in time for 1.0 ...
[13:27:33] <huon> I guess the control flow/evaluation order is non-trivial?
[13:27:34] <nmatsakis> pnkfelix: huon  that is not specific to FRU
[13:27:43] <nmatsakis> pnkfelix: note: liveness is not responsible for ANY soundness guarantees
[13:27:52] <nmatsakis> pnkfelix: if you are looking there, you're looking in the wrong place I think
[13:27:59] <nmatsakis> should be borrow checker's job
[13:28:07] <pnkfelix> nmatsakis: where do we calculate that the value must be initialized?
[13:28:13] <nmatsakis> borrow checker.
[13:28:16] <pnkfelix> nmatsakis: okay
[13:28:18] <nmatsakis> in particular,
[13:28:22] <nmatsakis> if it starts out uninitialized,
[13:28:24] <pnkfelix> nmatsakis: is liveness just for lints then?
[13:28:25] <nmatsakis> that's considered an initial move
[13:28:27] <nmatsakis> jes
[13:28:29] <nmatsakis> *yes
[13:28:31] <pnkfelix> k
[13:28:34] <nmatsakis> http://is.gd/yZ9Pvp <-- does not use FRU, same problem
[13:28:50] <nmatsakis> so my guess is the CFG is slightly messed up here?
[13:29:21] <pnkfelix> yeah sounds like it
[13:30:04] <nmatsakis> simplified example http://is.gd/EtaDNZ
[13:30:11] <nmatsakis> no need for all that Noisy stuff
[13:30:42] <pnkfelix> filed as https://github.com/rust-lang/rust/issues/24267
[13:31:17] <pnkfelix> nmatsakis: well, not unless you want to copy-paste into a regression test
[13:31:27] <nmatsakis> I added my reduced one into 24267
[13:31:34] <pnkfelix> (although admittedly these are all compile-fail
[13:31:41] <nmatsakis> pnkfelix: sorry, what?
[13:31:41] <pnkfelix> so okay, no need for Noisy sutff)
[13:32:08] <pnkfelix> nmatsakis: I take back my objection
[13:34:40] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Quit: Leaving)
[13:38:38] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[13:38:48] *** Quits: filsmick (filsmick@moz-c99ta7.abo.wanadoo.fr) (Connection closed)
[13:39:16] <pnkfelix> nmatsakis: BTW, I don't know if you saw, I finished the redo of the label/lifetime shadowing code
[13:39:29] *** Joins: filsmick (filsmick@moz-c99ta7.abo.wanadoo.fr)
[13:40:28] <nmatsakis> pnkfelix: oh, nice, I did not see
[13:40:38] <nmatsakis> pnkfelix: I've already fallen behind on those 1@#!@#!@ notifications again 
[13:40:51] <nmatsakis> e-mail in general, this week. sigh.
[13:41:10] <pnkfelix> nmatsakis: its https://github.com/rust-lang/rust/pull/24162
[13:41:52] <pnkfelix> nmatsakis: its not as pretty as the last version, but i guess that's somewhat inevitable.  Though I dunno, I was musing about whether I should have left it separate.
[13:42:57] *** Quits: semarie (semarie@moz-qpd.aq7.187.37.IP) (Quit: WeeChat 1.1)
[13:43:55] *** Quits: geofft (geofft@moz-vfphq1.mit.edu) (Connection closed)
[13:44:16] *** Quits: filsmick (filsmick@moz-c99ta7.abo.wanadoo.fr) (Connection closed)
[13:44:17] *** Joins: filsmick (filsmick@moz-c99ta7.abo.wanadoo.fr)
[13:44:17] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Connection closed)
[13:45:15] *** Joins: achernya_ (quassel@moz-i01917.mit.edu)
[13:45:56] *** Quits: achernya (quassel@moz-8tbl8i.6686.inna.4830.2001.IP) (Ping timeout: 121 seconds)
[13:47:47] *** Quits: bdero1 (bran@moz-tv7jqp.mit.edu) (Ping timeout: 121 seconds)
[13:49:42] *** Joins: semarie (semarie@moz-rbmflj.gtor.org)
[13:50:16] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[13:50:52] <pnkfelix> Do we have a flag that tells a development or Nightly compiler to run itself with the limitations of one of the release channels?
[13:51:02] <pnkfelix> seems like a thing we'll need to write tests
[13:57:54] <nmatsakis> pnkfelix: I'm not sure
[13:58:21] <pnkfelix> nmatsakis: not sure about whether it exists?  Or about whether its needed?
[13:59:05] <nmatsakis> former
[14:01:34] *** Joins: bdero (bran@moz-u8a.gci.189.18.IP)
[14:03:45] *** Quits: eerie (eerie@moz-tu0h67.red.bezeqint.net) (Connection closed)
[14:07:23] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[14:11:29] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[14:11:51] *** Joins: eerie (eerie@moz-tu0h67.red.bezeqint.net)
[14:18:44] *** Quits: eerie (eerie@moz-tu0h67.red.bezeqint.net) (Connection closed)
[14:18:56] *** Quits: filsmick (filsmick@moz-c99ta7.abo.wanadoo.fr) (Connection closed)
[14:19:17] *** Joins: filsmick (filsmick@moz-c99ta7.abo.wanadoo.fr)
[14:24:20] *** Quits: filsmick (filsmick@moz-c99ta7.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[14:25:56] *** Joins: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr)
[14:26:15] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[14:27:33] *** Quits: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr) (Connection closed)
[14:27:34] *** Joins: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr)
[14:30:27] *** Quits: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr) (Connection closed)
[14:30:48] *** Joins: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr)
[14:33:04] *** Joins: dinfuehr (dominik@moz-638s53.highway.telekom.at)
[14:33:38] <pnkfelix> nmatsakis: hey, currently enums default to using `isize` as their rep
[14:33:41] <pnkfelix> nmatsakis: *repr
[14:33:52] <pnkfelix> nmatsakis: I've been thinkikng today that we should change that default to `i32`
[14:34:26] <nmatsakis> pnkfelix: seems ok; that reminds me though
[14:34:27] <pnkfelix> nmatsakis: (mainly so that attempts to assign `0xF_FFFF_FFFF` to a variant will be flagged)
[14:34:37] <nmatsakis> flagged?
[14:34:46] <pnkfelix> nmatsakis: its not portable
[14:34:54] <pnkfelix> nmatsakis: today its silently accepted on 64-bit platforms
[14:34:55] <nmatsakis> oic
[14:34:57] <nmatsakis> I think the idea was
[14:35:01] <nmatsakis> khmmwe  
[14:35:02] <nmatsakis> hmm
[14:35:05] <nmatsakis> use the smallest integral type
[14:35:05] <nmatsakis> that fits
[14:35:10] <nmatsakis> that's what C is supposed to do
[14:35:19] <pnkfelix> nmatsakis: ah, yes I've seen that logic somewhere
[14:35:20] <nmatsakis> or something awful
[14:35:22] <nmatsakis> it's a big mess
[14:35:28] * nmatsakis hates enum discriminants, have I mentioned that?
[14:35:31] <pnkfelix> nmatsakis: maybe I got that logic wrong in my const-eval code then
[14:35:41] <nmatsakis> it would have been so much better to just give them a fixed type
[14:35:42] <pnkfelix> nmatsakis: okay maybe I won't make this change then
[14:35:45] <nmatsakis> why didn't we do that?
[14:35:53] * nmatsakis sighs
[14:36:00] <pnkfelix> nmatsakis: because its nice to pack them into an i8 when you can ?
[14:36:07] <nmatsakis> no I mean
[14:36:08] * pnkfelix doesn't know
[14:36:12] <nmatsakis> we hsould have just required people to tell us an int type
[14:36:15] <nmatsakis> if they want to tell us a discriminant
[14:36:19] <pnkfelix> nmatsakis: oh that would have been good
[14:36:28] <nmatsakis> but I think part of it is
[14:36:30] <nmatsakis> we wanted you to be able to say
[14:36:33] <nmatsakis> "do what C would do"
[14:36:36] <nmatsakis> which of course is not defined
[14:36:40] <nmatsakis> so by that we really mean
[14:36:47] <nmatsakis> "do what we would kind of assume gcc/clang would do"
[14:37:15] <nmatsakis> pnkfelix: anyway I wanted to bring up discriminants
[14:37:17] <nmatsakis> in relation to Ord
[14:37:20] <nmatsakis> and that intrinsic
[14:37:23] <nmatsakis> because this same problem bits us there
[14:37:34] <nmatsakis> in particular, you're supposed to think of discriminants as "infinite size" integers or something
[14:37:41] <nmatsakis> so if somebody does
[14:37:49] <nmatsakis> enum Foo { X = 3, Y = -1 }
[14:37:55] <nmatsakis> what is the ordering that results?
[14:37:59] <nmatsakis> if Y < X,
[14:38:06] <nmatsakis> well you can imagine the complications :)
[14:38:17] <pnkfelix> well 
[14:38:22] <nmatsakis> enum Foo { X = <something so big it only fits in a u64>, Y = -1 }
[14:38:25] <nmatsakis> for one thing
[14:38:29] <nmatsakis> (which is kind of irreconcilable)
[14:38:36] <nmatsakis> but anyway my point is
[14:38:40] <nmatsakis> the intrinsic can't just yield u64 :)
[14:38:44] <nmatsakis> (this came up on the thread)
[14:38:47] <pnkfelix> the intrinsic *can*
[14:38:49] <nmatsakis> I just hadn't thought it through 
[14:38:55] <pnkfelix> but the Ord code can't use it directly
[14:38:58] <nmatsakis> well, the intrinsic can, but then deriving can't use it
[14:39:01] <pnkfelix> I cast in the Ord code
[14:39:10] <pnkfelix> I just put up a PR actually
[14:39:15] <pnkfelix> but it has a FIXME around htis
[14:39:17] <pnkfelix> *this
[14:39:18] <nmatsakis> so deriving has to do some analysis
[14:39:21] <nmatsakis> to figure out the right size?
[14:39:23] <pnkfelix> https://github.com/pnkfelix/rust/commit/3519318cff1e7dc6aff12b21cb2ec3c0cf55baa1
[14:39:33] *** Quits: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr) (Connection closed)
[14:39:35] *** Joins: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr)
[14:39:50] <pnkfelix> I was going to rely on the repr, and cast to isize otherwise
[14:40:06] <pnkfelix> I can see the logic behind trying to infer it from the given values
[14:40:17] <pnkfelix> but I'm not convinced its worth the effort
[14:40:53] <pnkfelix> though defaulting to a max of an i32 repr if one does not explicitly provide one
[14:40:56] <pnkfelix> would help here
[14:41:04] <pnkfelix> (i think...)
[14:41:04] *** Quits: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr) (Connection closed)
[14:41:23] <pnkfelix> by "rely on the repr", I meant "rely on the provided #[repr] attribute"
[14:41:25] *** Joins: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr)
[14:42:13] <nmatsakis> pnkfelix: well, the point is if they gave a repr
[14:42:17] <nmatsakis> that is not C
[14:42:23] <nmatsakis> but if they didn't
[14:42:26] <nmatsakis> what are you going to do?
[14:42:30] <nmatsakis> we could say we default to i32
[14:42:36] <nmatsakis> but it's not (I think) what we said before
[14:42:40] <nmatsakis> and if they gave C,
[14:42:46] <nmatsakis> we really ought to match what C does,
[14:42:51] <nmatsakis> which (again, I think) is not i32
[14:42:53] *** Joins: mjboa (mike@moz-m1l.jct.203.93.IP)
[14:42:58] <nmatsakis> or at least give errors
[14:43:02] <nmatsakis> if i32 wouldn't what C does :) 
[14:43:04] <pnkfelix> nmatsakis: there's a difference between defaulting to i32
[14:43:15] <pnkfelix> nmatsakis: and infering a widht but only allowing it to go up to i32
[14:43:21] <nmatsakis> (which maybe is your point)
[14:43:29] <nmatsakis> well if we infer a width
[14:43:32] <nmatsakis> why on earth would we cap it at i32?
[14:43:35] <nmatsakis> and not i64?
[14:43:36] <nmatsakis> or u64?
[14:43:57] <nmatsakis> I mean isize/usize is a portability hazard,
[14:44:04] <nmatsakis> but (unconditional) u64  is not
[14:44:07] <nmatsakis> right?
[14:44:08] <pnkfelix> nmatsakis: mostly because I can handle i32 efficiently and portably
[14:44:23] <nmatsakis> that said
[14:44:26] <pnkfelix> nmatsakis: we shouldn't default to u64, because I think negative values are too common
[14:44:32] <nmatsakis> the point is
[14:44:35] <nmatsakis> we are inferring based on what they typed!
[14:44:38] <nmatsakis> so defaults don't make sense anyway
[14:44:42] <nmatsakis> we know if they are negative values
[14:44:46] * nmatsakis confused
[14:44:53] <nmatsakis> now, if you don't want to look at the values,
[14:45:00] <pnkfelix> nmatsakis: I don't want to do const-eval from deriving
[14:45:00] <nmatsakis> but instead just fix on i32 and then check that the values are in bounds for i32
[14:45:07] * nmatsakis takes a step back
[14:45:21] <nmatsakis> pnkfelix: ok, I think we're talking in circles, in that you are arguing what I was starting out trying to argue and I thought youw ere arguing against :)
[14:45:32] <nmatsakis> I think there are two choices
[14:45:44] <nmatsakis> 1. What representation do we use if none (or C)is specified
[14:45:56] <nmatsakis> 1A. Infer based on the domain
[14:46:05] <nmatsakis> 1B. i32 and enforce that values fall in that domain, error otherwise
[14:46:21] <nmatsakis> (I think that's more-or-less what C compilers do anyway in practice, except of course they don't error)
[14:46:23] <pnkfelix> nmatsakis: for both of these, we're talking about when discriminant values are provided
[14:46:28] <nmatsakis> no, I'm not
[14:46:30] <nmatsakis> it doesn't matter
[14:46:37] <nmatsakis> discriminant values exist
[14:46:50] <nmatsakis> bu it mostly matters where they are provided of course
[14:46:56] <nmatsakis> since giving more than i32::max variants is...challenging
[14:46:59] <pnkfelix> nmatsakis: yeah okay; I was going to argue it might be nice to allow for more compact representation, but we've already been down this road
[14:47:07] <nmatsakis> well wait 
[14:47:17] <nmatsakis> I said representation
[14:47:20] <nmatsakis> but it's not quite what I meant
[14:47:27] <nmatsakis> I mean, it is the representation if repr(C) is specified
[14:47:44] <nmatsakis> but what I really meant is "what integer size do enum constnats have"
[14:47:55] <nmatsakis> if a representation is specified, that's an obvious choice
[14:47:57] <nmatsakis> but we have to have a choic if not
[14:48:11] <nmatsakis> (or, we don't have to, this is the point)
[14:48:19] <nmatsakis> I guess that's the first choice I was trying to get at:
[14:48:28] *** Quits: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[14:48:32] <nmatsakis> if nothing (or C) is specified, do we say "infinite sized integer"
[14:48:34] <nmatsakis> or "i32"
[14:48:35] <nmatsakis> :)
[14:49:01] *** Joins: eerie (eerie@moz-tu0h67.red.bezeqint.net)
[14:49:01] <nmatsakis> maybe I'm misremembering, but I feel like we said infinite-sized integer before
[14:49:04] <pnkfelix> nmatsakis: okay yeah so I guess this is indeed us talking in circles
[14:49:06] <nmatsakis> which seems kind of crazy to me in retrospect
[14:49:11] <nmatsakis> well it always did
[14:49:32] <nmatsakis> just because it seems harder to think about and  not a concept that exists anywhere else...
[14:49:50] <nmatsakis> anyway, all I was trying to say is:
[14:50:00] <nmatsakis> if we pick infinite-sized integer, then I think deriving can't (easily) use the discriminant
[14:50:03] <nmatsakis> BUT
[14:50:05] <pnkfelix> Lets actually be very concrete for a second
[14:50:07] <nmatsakis> if we use i32 as you suggested,
[14:50:10] <nmatsakis> deriving *can*
[14:50:18] <pnkfelix> because I think the const-eval changes I made earlier
[14:50:30] <pnkfelix> may have injected a bug into the infinite-sized integer thing anyway
[14:50:35] <pnkfelix> so doing cartwheels to support it
[14:50:37] <nmatsakis> ok, quite plausible
[14:50:39] <pnkfelix> may be a waste of effort
[14:50:46] <pnkfelix> let me double-check that claim, give me a sec
[14:50:48] <nmatsakis> I mean I do think this is almost entirely a theoretical concern
[14:51:12] <nmatsakis> and it's entirely reasonable to ask people to give a type when the enum doesn't fit in i32
[14:51:19] <nmatsakis> er, enum labels
[14:51:24] *** Joins: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr)
[14:51:45] <pnkfelix> so if I compile an enum with `0xF_FFFF_FFFF` today, passing `--target i686-apple-darwin` to rustc
[14:51:45] <nmatsakis> (also: it doesn't have to be i32, it could be target dependent, but we use basically the size of a c int)
[14:51:59] <pnkfelix> it signals the overflowing literal warning
[14:52:12] <nmatsakis> (which I think is the minimum size that C compilers use in practice, iirc) 
[14:52:19] <nmatsakis> ok
[14:52:23] <pnkfelix> but I'm not sure I actually injected that bug; I may have merely noted its potential for occurring
[14:52:30] <nmatsakis> well, I'd have to go digging about in the code, but
[14:52:48] <nmatsakis> I'm very happy to default to "C integer" size
[14:52:52] <nmatsakis> in terms of the legal domain
[14:53:04] <nmatsakis> (the actual representation trans chooses could be smaller, if repr(C) is not given)
[14:53:08] <nmatsakis> (or larger)
[14:53:22] <nmatsakis> or for that matter
[14:53:25] <nmatsakis> just default to i32 I guess
[14:53:27] <nmatsakis> since in fact
[14:53:31] <nmatsakis> the representation can always be different
[14:53:45] <nmatsakis> bottom line is that we can cast u64 to i32 in deriving and it's ok :0
[14:53:47] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[14:53:48] <nmatsakis> right?
[14:53:57] *** Quits: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr) (Connection closed)
[14:54:03] <pnkfelix> when the repr was not otherwise specified, you mean?
[14:54:07] <nmatsakis> right, assuming that
[14:54:12] <pnkfelix> yeah that's where I would like to be
[14:54:15] <nmatsakis> makes total sense
[14:54:18] *** Joins: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr)
[14:54:28] <nmatsakis> I'm on board with that
[14:54:34] <nmatsakis> if you want to manually give values > i32::max or < i32::min
[14:54:38] <nmatsakis> you have to give a representation
[14:54:48] <nmatsakis> (or you have a LOT of variants ;)
[14:54:57] <nmatsakis> (which of course would never compile anyway...)
[14:55:02] *** Joins: dinfuehr_ (dinfuehr@moz-638s53.highway.telekom.at)
[14:55:08] *** Quits: eerie (eerie@moz-tu0h67.red.bezeqint.net) (Ping timeout: 121 seconds)
[14:55:18] <nmatsakis> otherwise, we'll pikc i32 as the domain,
[14:55:33] <nmatsakis> and we'll pick a suitable representation using whatever black magic we want
[14:55:43] <nmatsakis> (and taking into account repr(C) if specified)
[14:55:45] <nmatsakis> right?
[14:55:52] <pnkfelix> I think so
[14:56:01] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[14:56:05] <nmatsakis> seems good
[14:56:22] <pnkfelix> though I'll have to review what the effects of repr(C) actually are
[14:56:26] <pnkfelix> in this case
[14:56:34] <nmatsakis> so imo
[14:56:42] <nmatsakis> it is *entirely* orthongoal
[14:56:47] <nmatsakis> from the deriving/intrinsic question
[14:56:55] <nmatsakis> since that is concerned only with the "legal domain" of values 
[14:56:58] <nmatsakis> and not with the representation
[14:57:07] <nmatsakis> and repr(C) doesn't affect that, basically
[14:57:24] <nmatsakis> but I prob should go back to the standard
[14:57:27] <nmatsakis> to refresh my memory on this point
[14:57:29] <nmatsakis> that's how I remember it
[14:58:22] <nmatsakis> pnkfelix: see e.g. http://stackoverflow.com/a/8115629/1209714
[14:58:29] <nmatsakis> obviously not an official statement :0
[14:58:46] <nmatsakis> though the commenter suggests C is more restrictive than c++ 
[14:58:50] <nmatsakis> and I might be confusing the two
[14:59:10] *** Quits: dinfuehr_ (dinfuehr@moz-638s53.highway.telekom.at) (Ping timeout: 121 seconds)
[15:01:51] *** Quits: dinfuehr (dominik@moz-638s53.highway.telekom.at) (Connection closed)
[15:01:53] *** Joins: eerie (eerie@moz-tu0h67.red.bezeqint.net)
[15:02:00] *** Quits: chris-chambers (chris@moz-48q4qf.res.rr.com) (Quit: Leaving.)
[15:02:28] *** Joins: oakwhiz (oakwhiz@moz-entagd.vc.shawcable.net)
[15:04:19] <pnkfelix> nmatsakis: so, this is technically a breaking-change, ...
[15:04:29] *** Quits: oakwhiz_ (oakwhiz@moz-entagd.vc.shawcable.net) (Ping timeout: 121 seconds)
[15:04:34] <pnkfelix> nmatsakis: (but its not a silent breaking-change ...)
[15:04:36] <nmatsakis> pnkfelix: it occurs to me that we can also say the legal domain is i64
[15:04:43] <nmatsakis> pnkfelix: and it makes no real difference, right?
[15:04:49] <nmatsakis> if I am right, anyway :)
[15:04:51] <pnkfelix> nmatsakis: well, it depends
[15:05:16] <pnkfelix> nmatsakis: e.g. I didn't really want to default to casting to `i64` in deriving(PartialOrd)
[15:05:16] <nmatsakis> pnkfelix: (also, how is this a breaking change? given the error you just showed me before?)
[15:05:31] <nmatsakis> pnkfelix: ok, though I'm not sure why not.
[15:05:32] <pnkfelix> nmatsakis: its breaking in that 64-bit platforms will now start exhibiting that bug
[15:05:47] <pnkfelix> nmatsakis: but maybe that's justifiable?
[15:05:49] <nmatsakis> pnkfelix: I see, so before you cappe at isize
[15:05:53] <nmatsakis> (the domain)
[15:05:54] <pnkfelix> nmatsakis: that's right
[15:06:04] <pnkfelix> nmatsakis: I think that was inherited from previous code
[15:06:13] <nmatsakis> yeah, seems like a bug
[15:06:18] <nmatsakis> doens't make sense to me
[15:06:21] <nmatsakis> to use isize here
[15:06:21] <pnkfelix> nmatsakis: or rather, the two different discriminant computations were doing two different things, if I recall correctly
[15:06:40] <pnkfelix> nmatsakis: and I chose the isize option in an effort to avoid breakage
[15:06:45] <nmatsakis> pnkfelix: ok.
[15:06:55] <nmatsakis> pnkfelix: you don't want to use i64 because it'll be slower? 
[15:07:03] <pnkfelix> nmatsakis: yeah that was my main concern
[15:07:05] <nmatsakis> (in theory)
[15:07:06] <nmatsakis> ok
[15:07:13] <pnkfelix> nmatsakis: I know it seems silly to worry about this
[15:07:17] <nmatsakis> pnkfelix: seems like you could make an internals post, but this is a pretty niche case
[15:07:37] <nmatsakis> I wouldn't anticipate much if any breakage
[15:07:41] <nmatsakis> due to changing from isize to i32
[15:07:42] <pnkfelix> nmatsakis: I'm willing to categorize it as "breaking but in the name of overall consistency"
[15:07:54] <pnkfelix> nmatsakis: since, as you note, we already had the issue on 32-bit platforms
[15:08:10] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[15:08:14] <nmatsakis> c
[15:08:19] *** Quits: marsel (user@moz-1eh.7cm.255.92.IP) (Ping timeout: 121 seconds)
[15:09:17] <Gankro> Nah enums should be a SIMD type
[15:09:28] <WindowsBunny> enums should use bigint support
[15:10:20] <Gankro> pnkfelix: What's the current roadmap on dropck and no drop flag? I haven't been able to follow stuff very closely lately.
[15:10:45] <pnkfelix> Gankro: I haven't made much progress beyond the future proofing
[15:10:58] <Gankro> So post 1.0?
[15:11:02] <pnkfelix> Gankro: its on my own personal roadmap, but I keep having 1.0 issues get in the way
[15:11:06] *** Joins: vire (vire@moz-f5qook.net.upcbroadband.cz)
[15:11:06] *** Quits: imperio (Mibbit@moz-aibeqg.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[15:11:12] <pnkfelix> Gankro: I don't know, I'm still hoping it could happen for 1.0
[15:11:22] <Gankro> That'd be great! :D
[15:11:25] <pnkfelix> Gankro: in some form.  not sure.
[15:11:47] *** Quits: mjboa (mike@moz-m1l.jct.203.93.IP) (Ping timeout: 121 seconds)
[15:12:19] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[15:12:38] *** Joins: mjboa (mike@moz-m1l.jct.203.93.IP)
[15:12:59] <nmatsakis> I don't think it will happen for 1.0
[15:13:02] <nmatsakis> 1.1 maybe
[15:13:35] <nmatsakis> (I'd sort of rather it *not* happen for 1.0 in fact -- seems like a big enough change it wouldn't hurt to give it a full beta cycle to bake)
[15:14:59] <Gankro> nmatsakis: Well that means it would need to land in master for 1.0, right?
[15:15:29] <nmatsakis> Gankro: so, as a one-time exception, we plan to port master to 1.0 this week and next, but after that, it's only hand-picked patches
[15:15:39] <nmatsakis> it's just that we're doing a lot of little cleanup right now so it seemed like a waste of effort
[15:15:54] <nmatsakis> so basically I'm saying, unless pnkfelix finished it right now :), it's not going into 1.0
[15:15:58] <nmatsakis> but that's fine
[15:16:02] <nmatsakis> maybe 1.1beta
[15:16:10] <nmatsakis> if not, then I think 1.2beta
[15:16:13] <Gankro> pnkfelix: You've been challenged!
[15:19:10] <nmatsakis> :)
[15:23:38] *** Joins: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net)
[15:24:14] *** Quits: _zxq9_ (ceverett@moz-qsm369.mesh.ad.jp) (Quit: Konversation terminated!)
[15:27:15] <jdm> kmc: looks like fuzzing is paying dividends!
[15:27:26] *** Quits: eerie (eerie@moz-tu0h67.red.bezeqint.net) (Connection closed)
[15:27:46] <kmc> yep
[15:30:37] *** Quits: munksgaard (munksgaard@moz-1i4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[15:30:55] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[15:33:31] *** Quits: bgamari (bgamari@moz-uvr07v.q402.fm1a.0470.2001.IP) (Ping timeout: 121 seconds)
[15:35:57] *** Joins: O01eg (o01eg@moz-aco19b.adt5.3egh.2698.2a02.IP)
[15:36:56] *** Joins: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net)
[15:38:27] *** Joins: bgamari (bgamari@moz-uvr07v.q402.fm1a.0470.2001.IP)
[15:39:30] *** Quits: larhat (Adium@moz-8v4.af0.232.213.IP) (Quit: Leaving.)
[15:44:31] *** Quits: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net) (Client exited)
[15:47:02] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[15:50:20] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[15:50:34] *** Quits: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr) (Connection closed)
[15:50:35] *** Joins: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr)
[15:54:34] *** Joins: eerie (eerie@moz-tu0h67.red.bezeqint.net)
[16:01:46] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[16:03:48] *** Joins: mjboa_ (mike@moz-dvh.jcq.203.93.IP)
[16:04:11] *** Quits: martin_ (martin@moz-bmp33l.u0v6.gff7.1608.2001.IP) (Ping timeout: 121 seconds)
[16:04:16] *** Quits: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr) (Connection closed)
[16:04:37] *** Joins: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr)
[16:06:01] *** Quits: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr) (Connection closed)
[16:06:02] *** Joins: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr)
[16:06:41] *** Quits: mjboa (mike@moz-m1l.jct.203.93.IP) (Ping timeout: 121 seconds)
[16:09:33] *** Joins: oakwhiz_ (oakwhiz@moz-entagd.vc.shawcable.net)
[16:11:01] *** Quits: oakwhiz (oakwhiz@moz-entagd.vc.shawcable.net) (Ping timeout: 121 seconds)
[16:12:36] *** Quits: bgamari (bgamari@moz-uvr07v.q402.fm1a.0470.2001.IP) (Ping timeout: 121 seconds)
[16:14:39] *** Joins: oakwhiz (oakwhiz@moz-entagd.vc.shawcable.net)
[16:15:07] *** Joins: chris-chambers (chris@moz-48q4qf.res.rr.com)
[16:16:32] *** Joins: bgamari (bgamari@moz-uvr07v.q402.fm1a.0470.2001.IP)
[16:17:07] *** Joins: oakwhiz__ (oakwhiz@moz-entagd.vc.shawcable.net)
[16:17:37] *** Quits: oakwhiz_ (oakwhiz@moz-entagd.vc.shawcable.net) (Ping timeout: 121 seconds)
[16:19:03] *** Quits: oakwhiz (oakwhiz@moz-entagd.vc.shawcable.net) (Ping timeout: 121 seconds)
[16:24:15] *** Quits: eerie (eerie@moz-tu0h67.red.bezeqint.net) (Connection closed)
[16:24:21] *** Quits: mjboa_ (mike@moz-dvh.jcq.203.93.IP) (Ping timeout: 121 seconds)
[16:24:30] *** Joins: eerie (eerie@moz-tu0h67.red.bezeqint.net)
[16:26:01] <pnkfelix> ah, maybe the cfg/borrowck thing is because expr_use_visitor does not use middle::cfg
[16:26:44] <SimonSapin> I don’t understand the safety note here. https://github.com/rust-lang/rust/blob/9539627ac76ca37d617a329dbd79c50c59cf59ee/src/libarena/lib.rs#L366-L368
[16:27:00] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[16:27:40] <SimonSapin> Destructors only run when the TypeArena drops, but any reference to items is abound to the lifetime of the arena
[16:28:25] <pnkfelix> SimonSapin: i suspect that note predates dropck
[16:28:48] <pnkfelix> SimonSapin: so you could get into situations where the destructor for one object has a link to another object in the arena that has already been dropped
[16:28:51] *** Joins: oakwhiz (oakwhiz@moz-entagd.vc.shawcable.net)
[16:29:07] <SimonSapin> oh, right
[16:29:14] <pnkfelix> (but of course the note in that case applied to both Arena and TypedArena ...)
[16:30:16] *** Joins: brson (brson@moz-3mi.nja.110.38.IP)
[16:30:16] *** ChanServ sets mode: +o brson
[16:30:17] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[16:30:24] *** Quits: Rym (y@moz-l75t2m.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[16:30:36] <brson> nmatsakis: has your patch landed yet?
[16:30:37] *** Quits: oakwhiz__ (oakwhiz@moz-entagd.vc.shawcable.net) (Ping timeout: 121 seconds)
[16:31:13] <SimonSapin> pnkfelix: https://github.com/rust-lang/rust/pull/24282
[16:31:18] <pnkfelix> nmatsakis: (never mind my comment re expr_use_visitor, I'll look more deeply into the situation)
[16:31:20] <nmatsakis> brson: no
[16:31:21] <nmatsakis> brson: https://github.com/rust-lang/rust/pull/24245
[16:32:06] <nmatsakis> brson: I just noticed pnkfelix put "rollup", not quite sure why...
[16:32:24] <nmatsakis> ...though homu has been inching along in any case, I guess I could (should) have put p=10 or something
[16:32:36] <pnkfelix> nmatsakis: it seemed safe to include in a rollup
[16:32:47] <pnkfelix> nmatsakis: but you can certainly add a p=10 as well
[16:32:49] <brson> it looks like it'll land today
[16:33:03] <pnkfelix> nmatsakis: (I guess I forgot that rollup  things are given low priority, sorry.)
[16:33:09] <brson> if we push another beta toda should we add a .2 to the version or just push the same version again?
[16:33:14] <nmatsakis> pnkfelix: np
[16:33:32] <brson> the version bump has to land in a patch
[16:33:40] <nmatsakis> I wonder what %age change that rollup has to land
[16:33:49] <pnkfelix> brson: hmm, is the commit id also in the version info in beta?
[16:33:52] <brson> here's a regression report of the think pitdicker is working on https://gist.github.com/brson/2dea1b384afa249aec55
[16:33:53] <nmatsakis> if I were to just give p=5 or something
[16:34:03] <brson> pnkfelix: commit id's are in --version yeah
[16:34:07] *** Joins: pitdicker (pitdicker@moz-328u1s.adsl.online.nl)
[16:34:25] <nmatsakis> brson: what is "pitdicker"
[16:34:38] <reem> nmatsakis: a person
[16:34:40] <pnkfelix> brson: okay, then I'm ambivalent about whether to add a .2 or not.  Normally I'd say we need it, but maybe the commit-id is enough.
[16:34:45] <nmatsakis> oh, I see ;)
[16:34:48] <brson> he's doing the abs to unsigned change
[16:34:53] <nmatsakis> ok I see
[16:35:00] <brson> so 49 regressions by changing abs
[16:35:09] <pitdicker> nmatsakis: Dicker is my surname :)
[16:35:21] <brson> hey pitdicker here's your regression report https://gist.github.com/brson/2dea1b384afa249aec55
[16:36:05] *** Joins: oakwhiz_ (oakwhiz@moz-entagd.vc.shawcable.net)
[16:36:34] <brson> pnkfelix: the complications of adding a .2 are that 1) somebody has to commit the version bump, 2) somebody has to update the website, 3) rustup has to work
[16:36:47] <brson> i have a new rev of rustup that works, but it's pretty lightly tested
[16:37:01] <brson> i'll go test on some macs
[16:37:16] <pnkfelix> brson: (I did say I'm ambivalent. ;) )
[16:38:02] *** Quits: oakwhiz (oakwhiz@moz-entagd.vc.shawcable.net) (Ping timeout: 121 seconds)
[16:39:28] <brson> acrichto: do you think we should bump the version to beta.2 before pushing a new one?
[16:39:45] <nmatsakis> pitdicker: ok sorry :) I thought brson was referrin to some kind of tool ...
[16:39:52] <acrichto> brson: I figured we'd just overwrite the previous beta
[16:39:59] <steveklabnik> i would lean towards eventually having a beta that's the latest one, with a beta.1 beta.2 each week
[16:40:04] * steveklabnik is writing up that branching thing still
[16:40:22] <acrichto> but I don't mind too strongly either way!
[16:41:21] <brson> acrichto: r? https://github.com/rust-lang/rustup
[16:41:32] <brson> it at least passes tests on linux and mac
[16:41:53] *** Joins: pcwalton (pcwalton@moz-qjbkeh.mtv2.mozilla.com)
[16:41:53] *** ChanServ sets mode: +o pcwalton
[16:42:00] <brson> it has one slight regression in that --save doesn't preserve downloads for future reuse
[16:43:01] *** Joins: ineol (ineol@moz-ofnmt7.residence.ens-lyon.fr)
[16:43:06] <acrichto> meh that's probably fine
[16:43:18] <brson> i'll add it back later
[16:43:27] <brson> i imagine not many people use it
[16:43:37] <brson> this revision verifies sigs
[16:45:22] <nmatsakis> nic
[16:46:45] *** Quits: ytain (ytain@moz-mh2irj.cpe.pppoe.ca) (Quit: Textual IRC Client: www.textualapp.com)
[16:49:25] <acrichto> brson: good lord that is a large shells cript
[16:49:51] <acrichto> brson: lgtm at a high level though
[16:51:09] *** Joins: Rym (y@moz-l75t2m.range86-187.btcentralplus.com)
[16:53:10] <nmatsakis> aturon: this subject header "Thread safety and Send" from the post looks odd... should fix it by removing `` I think (I'm about to step out, or I'd do it)
[16:53:23] <aturon> nmatsakis: will do
[16:54:13] *** Quits: eerie (eerie@moz-tu0h67.red.bezeqint.net) (Connection closed)
[16:54:38] *** Joins: eerie (eerie@moz-tu0h67.red.bezeqint.net)
[16:56:47] *** Joins: mjboa (mike@moz-dvh.jcq.203.93.IP)
[17:01:10] *** Quits: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr) (Connection closed)
[17:01:27] <kmc> can I make rustc emit both a .bc file and the final .so in a single invocation?
[17:01:36] *** Joins: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr)
[17:03:29] *** Quits: barosl (barosl@moz-tmp.qma.67.220.IP) (Connection closed)
[17:04:00] *** Joins: Rym_ (y@moz-l75t2m.range86-187.btcentralplus.com)
[17:04:44] <brson> kmc: i think --emit=link,llvm-bc is supposed to do that
[17:04:53] <sfackler> kmc: --emit llvm-bc,link should do that I think
[17:05:07] *** Quits: Rym (y@moz-l75t2m.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[17:06:09] <kmc> hmm
[17:06:18] <kmc> it wasn't working for me, but I might have screwed up something else
[17:08:24] *** Quits: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr) (Connection closed)
[17:08:25] *** Joins: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr)
[17:08:30] <pnkfelix> r? anyone https://github.com/rust-lang/rust/pull/24270
[17:10:27] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[17:11:42] <brson> maybe we want to get that into the next beta too
[17:15:36] <pitdicker> brson: I have looked trough the 49 regressions
[17:15:43] <pitdicker> actually only 4 crates are affected, and all the others depend on them
[17:16:29] <brson> pitdicker: thanks for looking into it!
[17:16:51] <pitdicker> the affected crates are num, quickcheck, nalgebra (ans pitch_calc, but it is not used by others)
[17:17:01] <pitdicker> thanks for testing :)
[17:17:48] <brson> running a comparison of today's nightly to last week's beta
[17:18:29] <brson> the new rustup.sh is uploaded. i'll post something to users.rlo about it
[17:19:16] *** Quits: ineol (ineol@moz-ofnmt7.residence.ens-lyon.fr) (Client exited)
[17:21:17] *** Joins: hirschen (hirschen@moz-7nsp5h.h7ls.rebm.810b.2a02.IP)
[17:22:48] *** Joins: James_ (quassel@moz-olnmts.range86-163.btcentralplus.com)
[17:24:16] *** Quits: eerie (eerie@moz-tu0h67.red.bezeqint.net) (Connection closed)
[17:24:24] *** Joins: scialex_ (scialex@moz-u2p.5ke.16.138.IP)
[17:24:41] *** Joins: eerie (eerie@moz-tu0h67.red.bezeqint.net)
[17:24:59] <pnkfelix> brson: should we fast-track review of gh24270 somehow ?
[17:24:59] <[o__o]> Use discriminant_value intrinsic for derive(PartialOrd): https://github.com/rust-lang/rust/pull/24270
[17:25:23] <pnkfelix> maybe i should assign to someone other than huon, though he is among the most comfortable with the deriving logic ...
[17:26:41] <brson> pnkfelix: i will review right now
[17:26:50] <pnkfelix> brson: cool thx
[17:26:51] *** Joins: bkearns (Adium@moz-rudtng.static.wiline.com)
[17:26:54] *** Joins: barosl (barosl@moz-tmp.qma.67.220.IP)
[17:27:03] <brson> pnkfelix: do you suspect the impact of the breakage is low?
[17:28:41] *** Quits: scialex_ (scialex@moz-u2p.5ke.16.138.IP) (Ping timeout: 121 seconds)
[17:28:50] <pnkfelix> brson: if it actually works, then yes
[17:28:59] <pnkfelix> brson: (and it seems to work, based on my testing so far...)
[17:29:31] <pnkfelix> brson: as in, I expect there to be little breakage to the effects that are by-design
[17:29:47] <steveklabnik> aturon: http://www.reddit.com/r/rust/comments/324v9q/fearless_concurrency/cq7xq5d?context=3 <- wdyt?
[17:29:49] <pnkfelix> brson: (I tried to put a note to that effect into the description on the PR )
[17:30:36] <aturon> steveklabnik: it was a purposeful use :)
[17:30:43] <aturon> steveklabnik: similarly to avoiding the use of any methods in the post
[17:31:09] <aturon> steveklabnik: (in particular, for the borrowing case, you'd then need to write `for x in &vec` which is a bit harder to grok)
[17:31:44] <steveklabnik> yeah, i thought it might be. 
[17:31:48] <steveklabnik> seems good :)
[17:31:55] *** Joins: scialex (scialex@moz-j5mi8i.cs.brown.edu)
[17:34:47] <scott> I had a similar concern but figured &vec would be distracting for the same reason. overall great post, aturon!
[17:35:19] <aturon> scott: thanks!
[17:36:08] <brson> pnkfelix: you don't want to use u64 comparison unnconditionally because of performance?
[17:36:25] <brson> or i64
[17:36:37] <pnkfelix> brson: i64 would still break for u64 enums
[17:36:54] <pnkfelix> brson: I could have used i32/u32/i64/u64
[17:36:58] <pnkfelix> brson: and maybe I should have
[17:37:09] *** Quits: eerie (eerie@moz-tu0h67.red.bezeqint.net) (Connection closed)
[17:37:11] <pnkfelix> brson: but I'm pretty sure this version at least works. :)
[17:37:39] <pnkfelix> brson: (and yes, I could also have used i64/u64 ... niko had asked that too, and I didn't do that for performance)
[17:38:51] <pnkfelix> brson: it might be premature micro-optimization, I don't know. But I figured that since I have to include some amount of differentiation (due to i64/u64 issue), I might as well go all the way.
[17:39:56] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[17:43:51] *** Joins: dinfuehr (dinfuehr@moz-638s53.highway.telekom.at)
[17:45:12] *** Quits: hirschen (hirschen@moz-7nsp5h.h7ls.rebm.810b.2a02.IP) (Ping timeout: 121 seconds)
[17:46:01] *** Quits: chris-chambers (chris@moz-48q4qf.res.rr.com) (Quit: Leaving.)
[17:47:11] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[17:47:26] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[17:52:02] *** Joins: swgillespie (swgillespie@moz-upj.3un.220.167.IP)
[17:54:40] <eternaleye> steveklabnik: Would it really be IntoIterator? Because 'vec' in the _function_ signature is declared as &Vec
[17:55:14] <steveklabnik> eternaleye: oh hmmmmm
[17:55:34] <eternaleye> steveklabnik: Of course, that's probably the exact kind of "non-obvious" thing you _don't_ want in docs
[17:55:53] <steveklabnik> yeah
[17:56:04] <eternaleye> steveklabnik: Especially because passing an &Vec is weird
[17:56:16] <eternaleye> steveklabnik: Slice is the idiomatic way
[17:56:21] * steveklabnik nods
[17:56:36] <eternaleye> steveklabnik: Then again, _both_ of them pass an &Vec...
[17:56:47] <eternaleye> steveklabnik: So it may benefit from some tweaking anyway.
[17:57:03] <steveklabnik> eternaleye: possibly. aturon ?
[17:57:12] *** Joins: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net)
[17:57:14] <scott> eternaleye: it's still IntoIterator that takes &[T] (or &Vec<T>) to an Iterator<Item=&T>
[17:57:17] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[17:57:30] <aturon> steveklabnik: sorry, didn't quite catch the context -- what's the specific question here?
[17:57:35] <eternaleye> scott: Oh, but because & is Copy, it's free.
[17:57:50] <steveklabnik> about the usage of .iter() in the example
[17:57:53] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Connection closed)
[17:57:54] <eternaleye> aturon: Both examples take an &Vec, which is non-idiomatic
[17:58:20] <eternaleye> aturon: (in the function signature)
[17:58:24] <aturon> eternaleye: yeah, there's a bit of un-idiomatic stuff in the post, mostly to avoid having to explain irrelevant features
[17:58:42] <aturon> e.g. i avoid using methods and slices, and use explicit iterators
[17:59:10] <aturon> (since there's enough to explain in the post without getting bogged down in `self` and `&[T]` and so on)
[17:59:12] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[17:59:40] <aturon> maybe a different example data type would have worked out better, i'm not sure
[17:59:54] <eternaleye> aturon: Mm. Not sure it's the tradeoff I'd have chosen, but okay (I worry about newcomers to rust forming their mental code style from the examples, and then getting told "But no, that is all bad style.")
[18:00:18] <aturon> yep, fair enough :)
[18:00:31] *** Joins: ineol (ineol@moz-ofnmt7.residence.ens-lyon.fr)
[18:00:48] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[18:01:33] <eternaleye> Besides, I _do_ think it'd be relatively sensible to explain how Vec can be _treated_ as contiguous storage (a slice) early, and then define functions on read-only Vecs as taking slices instead.
[18:02:03] <eternaleye> At which point the .iter() vs. automatic into_iter would make a really perfect sidebar
[18:02:24] *** Quits: ineol (ineol@moz-ofnmt7.residence.ens-lyon.fr) (Client exited)
[18:03:15] <eternaleye> aturon: The details of how "treating it as a slice" works can wait, as long as the reader knows it does work
[18:03:41] <eternaleye> aturon: And calling the function is the same anyways - foo( &vec )
[18:04:10] <aturon> eternaleye: yeah, indeed. maybe at some point this could be turned into a larger tutorial on ownership + concurrency
[18:05:06] *** Joins: eerie (eerie@moz-tu0h67.red.bezeqint.net)
[18:05:34] <eternaleye> I have to say, Rust's ownership semantics have absolutely spoiled me for other languages.
[18:05:58] <steveklabnik> aturon: eternaleye agreed
[18:06:37] <eternaleye> Yesterday I was dealing with C++, and I did a quick code-sketch of what I was doing and compiled it, and then I paused and went "Wait, why isn't the compiler telling me what I screwed up? I know I got stuff wrong."
[18:07:09] <eternaleye> Because in Rust, I can do a rough outline of what I want, and fix ownership and lifetimes, and then rearrange to elide clones, and get a nice outcome.
[18:07:19] <eternaleye> But in C++ it just silently accepts
[18:07:48] <aturon> eternaleye: definitely! it makes C/C++ feel almost like untyped languages, sometimes :)
[18:08:15] <scott> I've done more things like returning StringRef's (like &str) from C++ functions after being used to Rust, since in Rust it can never go wrong...
[18:08:19] <scott> that's a bit risky in C++
[18:08:21] <eternaleye> I had this irrational moment where I was looking at my shell prompt and thinking "WHY ARE YOU NOT YELLING AT ME!"
[18:09:05] <scott> in C++ you have to document the lifetime of a returned reference, whereas in Rust that's in the types
[18:09:12] <eternaleye> Also, now when I write generic C++, I write a trait in comments above it...
[18:09:27] <scott> exactly like the static/dynamic language distinction as aturon pointed out
[18:09:52] <eternaleye> Rust broke my wilingness to reason about generic constraints without having proper code to back it up
[18:10:18] <scott> cppreference.com is full of documentation-only 'traits'
[18:10:32] <scott> which might become reality as 'concepts', but not currently
[18:10:47] <sfackler> oh great, looks who's back https://github.com/rust-lang/rust/issues/24288
[18:10:50] <sfackler> :rolleyes:
[18:11:37] <steveklabnik> sfackler: ugh
[18:13:41] <eternaleye> To be charitable, I'd just assume that he doesn't realize that having a blanket implementation of Clone for T: Copy would require specialization...
[18:14:48] <eternaleye> Or that there is already an RFC (and pull request?) for automatically #[derive]ing prerequisites.
[18:15:08] <WindowsBunny> sfackler: It is kinda silly that Copy: Clone yet arrays impl Copy but not Clone
[18:15:15] <sfackler> yes I agree
[18:15:16] *** Quits: eerie (eerie@moz-tu0h67.red.bezeqint.net) (Connection closed)
[18:15:32] <sfackler> and there's an effective way of expressing that issue and an ineffective way of expressing that issue
[18:15:37] <eternaleye> But yes, his rudeness in _how_ does grate.
[18:15:56] <scott> it's a wart, yes. mahkoh is just unnecessarily negative pretty much all the times I've seen them
[18:16:33] *** Quits: brson (brson@moz-3mi.nja.110.38.IP) (Quit: leaving)
[18:20:19] <Manishearth> steveklabnik: p=10000 :P
[18:20:23] <Manishearth> arms race \o/
[18:20:28] <steveklabnik> Manishearth: hahah
[18:20:29] <Eridius> I agree. Pretty much every comment of his I see I kind of want to delete
[18:20:52] <steveklabnik> Eridius: sfackler scott expressing your displeasure with his style may be helpful here.
[18:21:06] <steveklabnik> i do it often, but then it seems like i'm the only one
[18:21:15] <steveklabnik> it takes a whole community to enforce norms, you know :/
[18:21:15] <WindowsBunny> Eh, I'm used to much worse
[18:21:24] <sfackler> yeah maybe I'll do that
[18:21:33] <WindowsBunny> So I'm okay with mahkoh, but I understand how others might not be okay with it
[18:21:50] <pnkfelix> steveklabnik: other people have certainly given mahkoh feedback
[18:22:21] <Eridius> steveklabnik: I usually don't because I don't think I'm really in a position of recognized authority on community standards of discussion (e.g. I'm not a "moderator", even though github doesn't have moderators) and I don't relish the idea of sparking an argument, but I probably should just say something anyway
[18:22:21] <pnkfelix> steveklabnik: but yeah, I agree that overall its nicer if the community as a whole pointed it out
[18:22:27] <eternaleye> WindowsBunny: perhaps, but silence implies it's acceptable behavior in *this* community - which tries for a better atmosphere
[18:22:42] <pnkfelix> steveklabnik: especially since he made a recent argument that its all about local norms
[18:22:47] <steveklabnik> pnkfelix: yup
[18:22:49] <scott> Eridius: I think it's great when such reminds come from non-moderators
[18:22:54] *** Quits: pczarn (piotr@moz-9un7t9.izacom.pl) (Ping timeout: 121 seconds)
[18:22:56] <scott> I just find it hard to word my own replies
[18:23:00] <scott> reminders*
[18:23:18] <Eridius> scott: yeah, that too, figuring out how to publicly admonish people correctly is hard
[18:23:39] <scott> it's annoying because it totally shouldn't be necessary
[18:23:49] <scott> it feels like talking down, because you are, because the other person is being childish
[18:23:59] <scott> there's not really a way around that other than trying to be polite
[18:24:40] <eternaleye> I find an effective method is to instead of saying that it is rude, say that it comes across as rude, and then emphasize that that that results in people being less disposed to view something positively.
[18:24:46] <nmatsakis> erickt: ping
[18:25:04] <erickt> nmatsakis: howdy! I heard you decided against the #[derive(Copy)] stuff
[18:25:10] <nmatsakis> erickt: yeah but I was going to say --
[18:25:17] <nmatsakis> maybe we can extract some of the improvements from https://github.com/rust-lang/rust/pull/23905 and land them?
[18:25:18] <eternaleye> it dodges some aspects of defensiveness
[18:25:37] <nmatsakis> erickt: e.g. derive(Copy, Clone) could use a better impl
[18:25:46] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[18:25:56] <erickt> nmatsakis: https://github.com/rust-lang/rust/pull/23985 :)
[18:25:59] <nmatsakis> :)
[18:26:03] <nmatsakis> as usual, way ahead of me.
[18:26:08] <erickt> nmatsakis: hehe
[18:26:12] <erickt> hm, that's interesting
[18:26:15] <WindowsBunny> lol, 2 people posted about rudeness at the same time
[18:26:19] <scott> steveklabnik: I posted a reply (and looks like someone else did too), hope it helps
[18:26:22] <nmatsakis> erickt: does that include the Copy, Clone bit?
[18:26:24] <WindowsBunny> You should've spaced them out a bit
[18:26:30] <arielb1> I think we need ?Leak
[18:26:32] <WindowsBunny> Now he's gonna be suspicious of collusion D:
[18:26:40] <erickt> nmatsakis: yeah, I could detect if we got both #[derive(Copy, Clone)] and do the optimal thing for non-generics
[18:26:45] <nmatsakis> erickt: that's what I mean
[18:26:46] <erickt> nmatsakis: yeah I could that
[18:26:50] <steveklabnik> scott: thanks you
[18:26:51] <nmatsakis> erickt: that'd be awesome
[18:27:02] <erickt> I was sad that we were going to lose that optimization
[18:27:12] <scott> WindowsBunny: I don't know what collusion means in the context of "please don't be rude"
[18:27:29] <arielb1> gh24292
[18:27:29] <[o__o]> std::thread::JoinGuard (and scoped) are unsound because of reference cycles: https://github.com/rust-lang/rust/issues/24292
[18:27:48] <sfackler> the rudeness hitsquad rollin in
[18:28:12] *** Quits: scialex (scialex@moz-j5mi8i.cs.brown.edu) (Quit: Leaving)
[18:28:59] *** Joins: ineol (ineol@moz-ofnmt7.residence.ens-lyon.fr)
[18:29:03] <scott> regardless of mahkoh's reaction, which I actually couldn't care less about, at least others reading the thread will see that this behaviour isn't silently accepted
[18:30:15] <WindowsBunny> I find it all rather hilarious
[18:30:29] *** Quits: mjboa (mike@moz-dvh.jcq.203.93.IP) (Ping timeout: 121 seconds)
[18:30:45] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[18:30:50] *** Joins: brson (brson@moz-u3dg2t.sfo1.mozilla.com)
[18:30:50] *** ChanServ sets mode: +o brson
[18:31:28] <WindowsBunny> steveklabnik: lol
[18:34:00] <Eridius> steveklabnik: good reply to retep998. I wanted to say something but didn't know what to say that wouldn't just make it worse, but I think your comment is spot-on
[18:34:08] <steveklabnik> thanks
[18:34:21] <eternaleye> steveklabnik: agreed
[18:34:23] <steveklabnik> he often makes good points. i wish he'd just make them
[18:35:17] * WindowsBunny boops Eridius
[18:35:21] * Eridius is booped
[18:36:33] <eternaleye> I am somewhat surprised that mahkoh didn't see 23985 before, though. I noticed it on TWIR, which was a few days ago.
[18:36:43] <WindowsBunny> Eridius: I had to post that so that way mahkoh would have at least one person he knows he'd be able to talk to without worrying about offending them
[18:37:02] <pnkfelix> steveklabnik: ping
[18:37:20] <kmc> this is why I stopped doing rustc reviews or bug triage :(
[18:37:40] <eternaleye> WindowsBunny: that's counterproductive, though: the community standard is to have polite discussion. Having someone reinforcing that at least with them, even within the community, impolite discussion is accepted, undercuts the point.
[18:37:42] <kmc> 11:29 < scott> WindowsBunny: I don't know what collusion means in the context of "please don't be rude"
[18:37:48] <kmc> you're just shilling for the MOZILLA CONSPIRACY
[18:37:58] <pnkfelix> steveklabnik: sorry, you need to take gh24162 out of your rollup, unless you've independently addresses its test failures
[18:37:58] <[o__o]> Check for duplicate loop labels in function bodies.: https://github.com/rust-lang/rust/pull/24162
[18:38:09] <Eridius> WindowsBunny: oh, you're retep998?
[18:38:15] <WindowsBunny> Eridius: Hence the bunny avatar
[18:38:20] <Eridius> ahh
[18:38:31] <steveklabnik> pnkfelix: sigh. yes, if it failed this time, iw as going to. it passed for me locally before the first failure, and i had it working locally before i pushed it up too :(
[18:38:43] <steveklabnik> pnkfelix: no sorry needed. ugh.
[18:38:45] <kmc> impolite discussion is accepted <-- yes and it has been for years, the ship has sailed
[18:38:54] <kmc> aiui the plan is to reboot the code of conduct with a new enforcement policy that will be followed
[18:39:04] <eternaleye> WindowsBunny: For some reason I always thought that was Stitch...
[18:39:19] <steveklabnik> pnkfelix: oh, i thought it failed again, it's working this time
[18:39:25] <scott> fwiw in my time in the rust IRC channels in the past couple weeks/months, they've been better than almost any other online community I frequent
[18:39:36] <scott> which made mahkoh stand out a lot by contrast
[18:39:56] <kmc> you can't really just say "oh this 100th last chance is your *actual* last chance"... you have to admit that the old policy wasn't working, and explain how things will be different
[18:40:04] <WindowsBunny> eternaleye: I got disney'd D:
[18:40:19] <eternaleye> WindowsBunny: you must admit, blue rabbits are somewhat uncommon.
[18:40:29] <pnkfelix> steveklabnik: you're saying it passes the test suite for you?
[18:40:32] <steveklabnik> pnkfelix: it currently passes locally for me, but yeah, if it fails this time, i'm pulling it
[18:40:36] <steveklabnik> yup
[18:40:38] <kmc> scott: he has stood out in that manner for several months
[18:40:47] <kmc> it was more than 4 months ago when he went on a crates.io namesquatting spree
[18:40:51] <kmc> just to name one example
[18:41:02] <pnkfelix> steveklabnik: weird... i don't know how that happened, unless someone else removed/altered the other tests that fail.
[18:41:05] <kmc> countless warnings from me in #rust, banned several times
[18:41:21] <pnkfelix> steveklabnik: anyway I will not be insulted if you pull it out.  :)
[18:41:25] <Eridius> oh man I forgot it was him that did the namesquatting
[18:41:29] <kmc> but it doesn't matter because you can't ban people from github, and we apparently accept this as an excuse rather than a serious problem with the platform we've chosen
[18:41:31] <steveklabnik> oh oh oh
[18:41:40] <steveklabnik> pnkfelix: i thought you meant https://github.com/rust-lang/rust/pull/24121
[18:41:45] <kmc> if we can't enforce our code of conduct on github then we need to move off github
[18:41:48] <steveklabnik> which is my set of tests that were flaky
[18:41:48] <WindowsBunny> We definitely need a code of conduct that is strictly enforced with punishments set in stone
[18:41:52] <kmc> anyway, you've all heard this rant
[18:42:04] <steveklabnik> pnkfelix: it's been my thing that's caused the failures so far
[18:42:17] <pnkfelix> steveklabnik: okay gotta go
[18:42:33] <steveklabnik> cool
[18:42:49] <WindowsBunny> kmc: Github is one of the central reasons to why Rust feels like such an open thing though
[18:42:58] <scott> WindowsBunny: I take it you're being sarcastic, but on the other hand, I don't see what's so bad about it when following it takes no effort afaict
[18:43:11] <scott> I don't have the energy it would take to be that negative all the time
[18:43:16] <kmc> seriously
[18:44:04] <eternaleye> kmc: gitlab, maybe?
[18:44:06] <Eridius> kmc: you can migrate issues off of github without moving the code off of it, if it comes to that
[18:44:09] <WindowsBunny> scott: I don't think I was being sarcastic, although I have a difficult time telling sarcasm, even with myself
[18:44:22] <cmr> I set up a phabricator instance and I'm a *huge* fan of it
[18:44:28] <eternaleye> kmc: if it does banning any better, similar interface is a +
[18:44:33] <scott> WindowsBunny: heh, fair enough :)
[18:44:55] <WindowsBunny> Eridius: At the very least provide authentication to the alternate system through github?
[18:45:01] <Eridius> personally, I think that keeping the code on GitHub is a huuuuuge win. Keeping issues on github makes it a lot more accessible, but if push comes to shove I'd rather just see an external issue tracker
[18:45:21] <kmc> look, if you talk to github and push for it, you can get people banned
[18:45:23] <kmc> or get a ban feature, even
[18:45:28] <kmc> mozilla is huge, rust is huge, we can make things happen
[18:45:35] <kmc> but it won't happen as long as people use it as an excuse for inaction
[18:45:40] <WindowsBunny> I like having notifications about rust issues whenever I visit github, that's something I definitely miss
[18:45:51] <kmc> I was able to enforce the CoC in #rust because of the magical /mode +b
[18:45:54] *** Joins: eerie (eerie@moz-tu0h67.red.bezeqint.net)
[18:45:55] <WindowsBunny> *I'd definitely
[18:46:02] <Eridius> there's a Contact Us link at the bottom of github, you can use that to request changes. The more people that request something the more likely it is for GitHub to prioritize it
[18:46:06] <kmc> and no I'm not advocating "vigilante justice" or anything
[18:46:12] <kmc> more like "following the long standing stated policy"
[18:46:23] <kmc> but like I said, we need a reboot and an admission of failure to restore trust in that policy
[18:46:33] <kmc> don't think you aren't losing contributors over this
[18:46:40] <kmc> i already know of several
[18:46:50] *** Joins: scialex_ (scialex@moz-hr5.a5t.16.138.IP)
[18:47:14] *** Quits: eerie (eerie@moz-tu0h67.red.bezeqint.net) (Connection closed)
[18:47:16] *** Joins: eerie (eerie@moz-tu0h67.red.bezeqint.net)
[18:47:24] <steveklabnik> ^^^^
[18:47:27] <steveklabnik> important point
[18:47:41] <kmc> I'm basically finished contributing to rust except as it aligns with my other goals
[18:47:56] <kmc> I spent several months on macro stuff for the good of the language
[18:48:05] <kmc> I do not feel inclined to do something similar again
[18:48:16] <kmc> a lot of that is just not having the time, but it's also about the broken promises re: CoC
[18:49:38] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[18:50:35] *** Joins: avikpal (avikpal@moz-2r9.9l2.194.117.IP)
[18:52:39] * Eridius just filed a requeest for moderation controls with GitHub
[18:52:47] <Eridius> kmc: :(
[18:53:01] <scott> it's actually kind of curious that github doesn't _already_ have that
[18:53:14] <Eridius> I wonder how effective it would be to just start editing/deleting comments that break community standards.
[18:53:18] <scott> I never thought about it before, but it occurs to me other communities could have used it too
[18:54:04] <Eridius> scott: GitHub's internal culture has been very much "meritocracy!" since the beginning. It's only very recently that they've started to realize that this is a problem and a huge assumption of privilege (mostly white male privilege)
[18:54:11] <kmc> scott: it took them forever to add a "block comments" button
[18:55:23] <kmc> for an individual ticket I mean
[18:55:37] <kmc> only happened after a libuv pull request turned into a thousand page flamewar about feminism
[18:55:39] <brson> beta-2015-04-03 vs. nightly-2015-04-10: https://gist.github.com/brson/e6bec78157218ee63c9e
[18:55:44] <kmc> and only like a year after that incident
[18:55:46] <brson> there's a second regression having to do with pointer casts
[18:56:04] <WindowsBunny> kmc: But github issues don't have pages?
[18:56:19] <brson> aturon nmatsakis pnkfelix : ^
[18:56:43] *** Joins: TheHydroImpulse (TheHydroImp@moz-8v8.p3r.244.24.IP)
[18:58:37] <nmatsakis> brson: so the first one (leveldb) is sort of ... self-inflicted,
[18:58:51] <nmatsakis> i.e., due to the lint, code should work if lint was not there
[18:58:59] <nmatsakis> the second one, I'm not sure what caused that but
[18:59:04] <nmatsakis> the code does seem buggy
[18:59:22] <nmatsakis> I guess it depends on whether we want to allow fat-to-usize casts
[18:59:29] <brson> yeah, can't do much about deny(warnings) atm
[19:00:00] <nmatsakis> really ought to write this rfc https://github.com/rust-lang/rfcs/issues/1029
[19:00:12] <nmatsakis> would be applicable here
[19:00:30] <nmatsakis> I could see an argument for fat-to-usize being legal as a way to extract the data pointer
[19:00:53] <nmatsakis> (but I'm also surprised it was ever legal)
[19:01:17] <nmatsakis> ah, well,
[19:01:22] <nmatsakis> I fixed up the exprusevisitor
[19:01:28] <nmatsakis> so it reported more uses
[19:01:37] <nmatsakis> maybe it's related to that, though I don't immediately see how 
[19:02:16] <WindowsBunny> fat to usize and usize to fat should never be legal o_0
[19:02:26] <nmatsakis> certainly not the latter
[19:02:33] <nmatsakis> and I don't particularly think the former :)
[19:02:45] <nmatsakis> anyway, TL;DR that seems like a legit bug fix.
[19:03:03] <WindowsBunny> In that case, celebrate?
[19:03:12] <nmatsakis> pretty much?
[19:04:05] *** Joins: blaenk (blaenkdenum@moz-rrtddg.n2pv.fsko.e000.2605.IP)
[19:04:52] <eternaleye> I'd say that fat to usize would only be valid for FFI, and even then only for slices (not for trait objects)
[19:05:06] <eternaleye> And since slices can already get a raw pointer and a len, IIRC...
[19:05:39] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[19:06:41] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[19:06:42] <eternaleye> Anything beyond that, well, that's what Repr is for.
[19:07:44] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[19:10:53] <WindowsBunny> brson: winapi should now pass your regression tests theoretically
[19:12:01] <brson> WindowsBunny: lol, cool
[19:12:06] <WindowsBunny> well, once I push it to crates.io anyway
[19:12:09] <brson> i published a weekly regression report to internals http://internals.rust-lang.org/t/regression-report-beta-2015-04-03-vs-nightly-2015-04-10/1860
[19:12:55] <nmatsakis> brson: nice.
[19:13:06] <WindowsBunny> brson: maybe deny(warnings) should always require an unstable compiler?
[19:13:46] <sfackler> I can't remember where I saw it but someone mentioned Cargo force-disabling deny(warnings) when building a crate as a dependency
[19:13:59] <sfackler> that way if you're developing the crate you can deny warnings
[19:14:09] <sfackler> but downstream people aren't screwed by new warnings
[19:14:45] <brson> sfackler: yeah, i may be able to do my testing in that mode too
[19:14:55] <brson> assuming it exists yet
[19:14:59] *** Quits: Rym_ (y@moz-l75t2m.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[19:15:00] <nmatsakis> sfackler: https://github.com/rust-lang/rfcs/issues/1029
[19:16:36] *** Quits: pitdicker (pitdicker@moz-328u1s.adsl.online.nl) (Quit: Ik ga weg)
[19:17:48] <kmc> wow: http://svr-pes20-cppmem.cl.cam.ac.uk/cppmem/index.html
[19:17:52] <kmc> C++11 memory model checker
[19:18:16] <steveklabnik> acrichto: https://github.com/rust-lang/rust/pull/24177 :D :D :D
[19:18:18] <kmc> would be useful for Rust as well, since the LLVM memory model is baout the same
[19:18:19] <steveklabnik> woooooooooooo
[19:18:21] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[19:19:00] <kmc> got the link from sully :)
[19:19:24] *** Quits: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr) (Connection closed)
[19:20:05] *** Joins: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr)
[19:20:08] <acrichto> steveklabnik: \o/
[19:20:08] <XMPPwocky> steveklabnik: yayy
[19:20:18] <scott> doc fixes, yay!
[19:20:29] <XMPPwocky> sometimes i wish there was a process to build a nightly early due to hype
[19:20:54] <scott> hypely channel
[19:21:02] <Eridius> steveklabnik: yay! Is there any way to kick off a doc build immediately and update rust-lang.org?
[19:21:13] <Eridius> (based on the current nightly, of course)
[19:21:21] *** Quits: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr) (Connection closed)
[19:21:22] *** Joins: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr)
[19:21:34] <steveklabnik> Eridius: nope, gotta wait till tomorrow
[19:21:38] <Eridius> ah well
[19:21:57] <arielb1> nmatsakis: we did some cleaning up of casts
[19:22:16] <nmatsakis> ah, ok
[19:22:25] <arielb1> not finished yet
[19:22:33] <simukis> does anybody know any builders other than thread::Builder, process::Command and fs::OpenOptions in the stdlib?
[19:22:45] <arielb1> https://github.com/rust-lang/rfcs/pull/1052
[19:22:58] <steveklabnik> what's the command to make bors run a PR over the one that just started?
[19:23:24] <simukis> force
[19:23:41] <steveklabnik> hm
[19:23:42] <steveklabnik> not working
[19:23:43] <simukis> steveklabnik: http://buildbot.rust-lang.org/homu/
[19:23:58] *** Quits: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr) (Connection closed)
[19:24:13] <steveklabnik> https://github.com/rust-lang/rust/pull/24297#issuecomment-91657365 :/
[19:24:21] *** Joins: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr)
[19:24:31] *** Quits: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr) (Connection closed)
[19:24:32] *** Joins: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr)
[19:24:54] * simukis shrugs. Maybe it ignores force if current build p>0
[19:24:56] <steveklabnik> ah maybe it's just being slow
[19:25:25] <steveklabnik> nope
[19:25:28] <steveklabnik> strange
[19:25:44] <simukis> I meant the current build, i.e. the discriminant one
[19:25:57] <steveklabnik> ahhh
[19:28:47] <aturon> brson: that report is awesome! so glad to have these tools before we even hit 1.0
[19:29:51] *** Quits: dinfuehr (dinfuehr@moz-638s53.highway.telekom.at) (Connection closed)
[19:30:42] *** Joins: dinfuehr (dinfuehr@moz-638s53.highway.telekom.at)
[19:30:57] *** Quits: dinfuehr (dinfuehr@moz-638s53.highway.telekom.at) (Connection closed)
[19:34:24] *** Quits: eerie (eerie@moz-tu0h67.red.bezeqint.net) (Connection closed)
[19:34:45] *** Joins: eerie (eerie@moz-tu0h67.red.bezeqint.net)
[19:35:04] <scott> http://people.mozilla.org/~acrichton/doc/std/iter/fn.iterate.html vs http://people.mozilla.org/~acrichton/doc/core/iter/fn.iterate.html is a remaining doc bug I'm aware of - anyone know off hand if it's already filed?
[19:35:18] <scott> the issue is type aliases getting expanded in re-exports
[19:35:21] *** Quits: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr) (Connection closed)
[19:35:31] <cmr> there's no easy way to fix that
[19:35:40] <cmr> it's a cross-crate metadata thingy
[19:35:42] *** Joins: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr)
[19:36:30] <scott> people told me the same thing about some things achrichto's PR just fixed :P
[19:36:46] <scott> I just want to know if it's been filed, anyway
[19:37:27] <scott> aha https://github.com/rust-lang/rust/issues/15823
[19:38:48] *** Quits: eerie (eerie@moz-tu0h67.red.bezeqint.net) (Ping timeout: 121 seconds)
[19:41:21] <Eridius> heh, another issue where mahkoh is being needlessly hyperbolic
[19:41:47] *** Joins: Rym_ (y@moz-l75t2m.range86-187.btcentralplus.com)
[19:45:02] *** Quits: semarie (semarie@moz-rbmflj.gtor.org) (A TLS packet with unexpected length was received.)
[19:46:29] <brson> huon acrichto: re no_crate_inject, when i was hacking on rustdoc's parsing of doctests i felt pretty despondant about the whole thing
[19:46:29] *** Quits: bkearns (Adium@moz-rudtng.static.wiline.com) (Connection closed)
[19:46:41] <brson> it's all very ad-hoc
[19:47:04] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Ping timeout: 121 seconds)
[19:47:31] *** Quits: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr) (Connection closed)
[19:47:32] *** Joins: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr)
[19:47:44] *** Quits: Rym_ (y@moz-l75t2m.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[19:49:26] *** Joins: mjboa (mike@moz-dvh.jcq.203.93.IP)
[19:49:37] *** Quits: bdero (bran@moz-u8a.gci.189.18.IP) (Ping timeout: 121 seconds)
[19:53:08] *** Quits: filsmick (filsmick@moz-58nlea.abo.wanadoo.fr) (Quit: )
[19:54:58] <Eridius> steveklabnik, kmc, etc: I got a response from GitHub. You can, in fact, block users from an organization. The catch is you have to go through Support to do it, and the person requesting the block must be in the organization's Owners team
[19:55:12] <steveklabnik> Eridius: interesting, and good to know, thank you
[19:55:22] <Eridius> given that, I think we should publicly declare a CoC for GitHub
[19:55:38] <Eridius> (also, I requested that they consider adding more accessible moderation tools)
[19:58:30] <kmc> doesn't the existing CoC apply to GitHub?
[19:58:44] <steveklabnik> yes
[19:58:45] <Gankro> acrichto: :O Rustdoc fixes?!
[19:58:45] <kmc> "We will exclude you from interaction if you insult, demean or harass anyone."
[19:58:49] <steveklabnik> 'all communications channels'
[19:58:49] <kmc> that's pretty straightforward
[19:59:17] <Eridius> I mean we should publicly declare that the CoC will be enforced on GitHub by banning users if necessary
[19:59:46] <cmr> What does "block users from an organization" mean?
[19:59:50] <cmr> They can't post on the org's repo?
[19:59:56] <Eridius> and we should also consider editing/deleting comments that violate the CoC, instead of merely telling the user that they're being rude
[20:00:20] *** Joins: blaenk_ (blaenkdenum@moz-12e081.res.rr.com)
[20:00:20] <steveklabnik> cmr: iirc, yes, they can't interact with you in any way. github added this after zed shaw publicly shamed the old CEO
[20:00:24] <acrichto> brson: I do kinda feel the same way yeah
[20:00:27] <steveklabnik> because people were endlessly harassing him
[20:00:30] <acrichto> brson: but in general doctests are super ad-hoc
[20:00:33] <Eridius> cmr: you know, that's a good question. My initial question spelled out explicitly what I meant by block (which is that the user cannot post anything that is visible anywhere in the organization) but I don't know how GitHub handles it
[20:00:49] *** Joins: dinfuehr (dinfuehr@moz-638s53.highway.telekom.at)
[20:01:43] <aturon> Eridius: FWIW, i have an in-progress RFC covering a few different aspects of governance, including more clarity on the CoC. hoping that will be a good opportunity to spell things like that out more explicitly. it should be posted in the near future.
[20:01:53] <Eridius> aturon: sounds good
[20:02:07] *** Quits: blaenk (blaenkdenum@moz-rrtddg.n2pv.fsko.e000.2605.IP) (Ping timeout: 121 seconds)
[20:04:27] <kmc> just to be clear, the CoC does not need clarification, people need to start taking seriously what it already says in quite clear terms
[20:04:46] <kmc> I encourage you to figure out why the current enforcement guidelines have been a total failure before you draft new ones
[20:06:08] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Ping timeout: 121 seconds)
[20:07:41] *** Joins: user7181 (user@moz-o3k00f.mullvad.net)
[20:07:56] <XMPPwocky> on a tangent, the CoC link on the sidebar of /r/rust_gamedev is broken
[20:08:19] *** Joins: chc4 (chc4@moz-mjph4c.ma.comcast.net)
[20:10:44] *** Quits: vire (vire@moz-f5qook.net.upcbroadband.cz) (Ping timeout: 121 seconds)
[20:11:22] *** Joins: ytain (ytain@moz-mh2irj.cpe.pppoe.ca)
[20:11:59] *** Quits: acharles (acharles@moz-ulbdcn.ca.comcast.net) (Ping timeout: 121 seconds)
[20:17:43] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[20:17:59] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[20:19:46] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[20:20:45] *** Quits: swgillespie (swgillespie@moz-upj.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:21:31] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[20:21:39] <arielb1> rusti: let a = [1,2,3u32]; &mut a as *const u32
[20:21:40] -playbot- <anon>:9:29: 9:35 error: mismatched types:
[20:21:40] -playbot-  expected `*const u32`,
[20:21:40] -playbot- output truncated; full output at: http://bit.ly/1FttvRE
[20:21:45] <arielb1> rusti: let a = [1,2,3u32]; &a as *const u32
[20:21:47] -playbot- 0x7ffff44027d0
[20:22:05] <arielb1> RFC401 says both should be legal
[20:22:39] <eternaleye> arielb1: You made a different mistake than that
[20:22:56] <eternaleye> rusti: let mut a = [1,2,3u32]; &mut a as *const u32
[20:22:58] -playbot- <anon>:9:33: 9:39 error: mismatched types:
[20:22:58] -playbot-  expected `*const u32`,
[20:22:58] -playbot- output truncated; full output at: http://bit.ly/1FttZqS
[20:23:02] <eternaleye> Hmm, okay then
[20:23:08] <arielb1> eternaleye: that's a typeck error
[20:23:10] <eternaleye> arielb1: Seems I was hasty
[20:23:22] <arielb1> and I read the code :-)
[20:23:36] <eternaleye> arielb1: Sure, though taking an &mut of a let not-mut is a bit odd
[20:23:48] <arielb1> eternaleye: it is illegal
[20:23:51] <arielb1> but borrowck illegal
[20:23:57] <arielb1> not typeck illegal
[20:24:30] <eternaleye> arielb1: Sure; just probably not the best illustrative example (since it's the "mistake" that grabs you by the eyeballs, but not the important issue)
[20:25:31] *** Joins: vire (vire@moz-f5qook.net.upcbroadband.cz)
[20:26:26] *** Joins: chris-chambers (chris@moz-48q4qf.res.rr.com)
[20:29:15] *** Quits: mjboa (mike@moz-dvh.jcq.203.93.IP) (Ping timeout: 121 seconds)
[20:34:28] *** Joins: Kingsquee (kingsley@moz-qq7ns6.bchsia.telus.net)
[20:36:11] *** Joins: Rym_ (y@moz-l75t2m.range86-187.btcentralplus.com)
[20:36:45] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[20:36:45] *** ChanServ sets mode: +o nrc
[20:37:17] *** Joins: bdero (bran@moz-lbs.91h.47.73.IP)
[20:38:58] *** Joins: willem (Mibbit@moz-b11uqs.dynamic.upc.nl)
[20:39:03] *** Quits: TheHydroImpulse (TheHydroImp@moz-8v8.p3r.244.24.IP) (Client exited)
[20:40:39] *** Quits: Rym_ (y@moz-l75t2m.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[20:52:08] *** Quits: blank_na1e (blank_name@moz-sct.ivp.36.50.IP) (Quit: leaving)
[20:52:21] *** Joins: tjakubow (tom@moz-783qe0.res.rr.com)
[20:53:51] *** Quits: avikpal (avikpal@moz-2r9.9l2.194.117.IP) (Connection closed)
[20:55:31] *** Joins: pczarn (piotr@moz-9un7t9.izacom.pl)
[20:56:26] *** Joins: blank_name (blank_name@moz-sct.ivp.36.50.IP)
[20:56:36] *** Quits: scialex_ (scialex@moz-hr5.a5t.16.138.IP) (Ping timeout: 121 seconds)
[20:57:49] *** Quits: blank_name (blank_name@moz-sct.ivp.36.50.IP) (Quit: leaving)
[20:58:55] *** Joins: blank_name (blank_name@moz-sct.ivp.36.50.IP)
[21:01:06] <erickt> nmatsakis: I think in order to do this, I'd have to add support for `#[derive(CopyAndClone)]`
[21:01:10] <erickt> nmatsakis: there might be other ways, but that'd be the simplest
[21:01:14] <erickt> wrong channel :)
[21:05:52] <WindowsBunny> erickt: I wish I knew which channel was the right channel so I can listen in
[21:06:00] <WindowsBunny> But there's too many rust channels Q_Q
[21:06:38] <erickt> WindowsBunny: this is the right channel, I posted that in #rust by accident
[21:06:42] <erickt> so many channels!
[21:06:43] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[21:07:54] <brson> I'm cleaning up the spew from rustup to improve the newbie experience
[21:07:58] <brson> here's the current spew https://gist.github.com/brson/eeceb1a68474237e6dac
[21:08:13] <steveklabnik> awesome
[21:08:15] <brson> looking for suggestions
[21:08:26] <steveklabnik> it's certainly way better
[21:09:13] <brson> i wonder if i can pipe the gpg output to /dev/null and just say 'signatures verified'
[21:09:20] <brson> maybe people want to see it
[21:09:29] <steveklabnik> yeah, i'm not sure what's right here
[21:10:41] *** Quits: jdm (jdm@moz-ul43ak.dsl.bell.ca) (Quit: )
[21:12:45] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[21:20:04] *** Quits: vire (vire@moz-f5qook.net.upcbroadband.cz) (Connection closed)
[21:21:57] <eternaleye> brson: I'd personally be in favor of only outputting the first signature failure, or the last success if no failure.
[21:22:19] <eternaleye> brson: Since the toolchain depends on the manifest, that provides the same guarantees but looks nicer.
[21:23:13] <eternaleye> brson: Easy enough to do by CMD_OUTPUT="$(...cmd... 2>&1)" IIRC
[21:24:27] <eternaleye> brson: I _think_ $? gets set appropriately still
[21:24:57] <brson> here's a more svelt output that suppresses successful sigs and the manifest download bar https://gist.github.com/brson/ade52a1c3c668ba7f541
[21:25:00] <brson> eternaleye: ^
[21:25:24] <eternaleye> brson: Well, I personally do want to see whether the overall sigs succeeded
[21:25:59] <eternaleye> brson: I was more making the point that the manifest succeeding is a necessary condition for the toolchain succeeding, and thus successful-toolchain output covers both.
[21:26:00] <brson> it does have a status line that says 'signatures will be verified'. do you want the final reasurance that 'signatures verified'? do you want to see gpg itself say that?
[21:26:14] <eternaleye> brson: The GPG output has the key ID
[21:26:31] <eternaleye> brson: If I'm curl'ing the shell script itself, that's kind of important.
[21:29:29] <kmc> aturon: very nice article :)
[21:30:19] *** Joins: Rym_ (y@moz-l75t2m.range86-187.btcentralplus.com)
[21:31:25] <brson> now it looks like https://gist.github.com/brson/2ddeb6cc2664ec700cf0
[21:31:43] <acrichto> steveklabnik: could you mvoe https://github.com/rust-lang/rust/issues/18227 to the rust-lang/bitflags repo?
[21:34:51] *** Quits: Rym_ (y@moz-l75t2m.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[21:36:05] <steveklabnik> acrichto: yeah, i'll do it later, i reforamtted my computer and don' thae the script handy anymore
[21:36:12] <acrichto> ah oh well
[21:36:15] <steveklabnik> been meaning to re set it up
[21:41:26] <eternaleye> brson: I definitely like that!
[21:43:05] *** Quits: eibwen (eibwen@moz-8mh.6dl.231.217.IP) (Ping timeout: 121 seconds)
[21:46:23] <brson> eternaleye: thanks for reviewing!
[21:46:45] <eternaleye> brson: No problem!
[21:48:28] <acrichto> aturon: steveklabnik: FYI this is the set of rustdoc bugs I hope to fix before the end of next week: https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AA-rustdoc+assignee%3Aalexcrichton
[21:48:41] <eternaleye> brson: Planning on making multirust use the same format?
[21:48:45] <acrichto> if there are some other pressing bugs you know of, feel free to assign me (and tag with A-rustdoc)
[21:48:56] *** Quits: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Ping timeout: 121 seconds)
[21:48:59] <eternaleye> brson: (since multirust is my primary way of getting Rust)
[21:50:40] <brson> eternaleye: yes, I'm going to refactor multirust to install via rustup.sh
[21:52:09] <acrichto> sfackler: btw are you aware of the ICE in rust-postgres right now?
[21:52:15] <sfackler> I am not
[21:52:27] <acrichto> https://gist.github.com/alexcrichton/b8c9ed481f389c1d75c0
[21:52:36] <acrichto> hm
[21:52:49] <sfackler> that's a bummer
[21:53:05] <sfackler> I'm just using the beta now for everything other than phf_macros so I didn't notice
[21:53:08] <acrichto> yeah if I just run `cargo build` out of the dir it panics
[21:53:12] <acrichto> ah
[21:53:47] <sfackler> think it's a known issue?
[21:54:38] <acrichto> dunno
[21:54:40] <acrichto> gonna try to reduce
[21:55:18] *** Quits: brson (brson@moz-u3dg2t.sfo1.mozilla.com) (Quit: leaving)
[21:56:49] * acrichto fires up creduce
[21:57:15] <sfackler> you can probably just feed it ToSql and that impl for to_sql_checked
[21:57:17] <sfackler> with 1 impl
[21:57:37] <acrichto> but that's less automatic
[21:57:43] <sfackler> ha
[21:57:43] <acrichto> and is more energy efficient
[22:02:08] *** Quits: tjakubow (tom@moz-783qe0.res.rr.com) (Quit: WeeChat 1.1.1)
[22:04:03] <aturon> kmc: thanks! 
[22:04:12] <aturon> acrichto: that list looks good to me, thanks for your work here
[22:04:45] *** Quits: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net) (Ping timeout: 121 seconds)
[22:07:02] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[22:09:18] <aturon> acrichto: do you happen to have an easy way to grep over all crates.io sources?
[22:09:34] <aturon> acrichto: i'd like to figure out how many crates are using a particular std API
[22:09:34] <acrichto> aturon: I've used https://github.com/brson/stabworld in the past
[22:09:37] <acrichto> not sure if it's still up to date
[22:09:42] <acrichto> but I have it all checked out locally yeah
[22:09:45] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[22:09:50] <aturon> whoa nice
[22:09:57] <acrichto> what're you interested in?
[22:09:58] *** rkruppe_ is now known as rkruppe
[22:10:05] <aturon> thread::scoped ;-)
[22:10:31] <acrichto> aturon: https://gist.github.com/alexcrichton/93ce70c2d0873c303460
[22:10:42] <acrichto> although I suspect the number may be higher
[22:10:47] <acrichto> in real world stuff
[22:10:55] <acrichto> aka libs don't spawn too many threads
[22:11:15] <aturon> sure. i also suspect a fair amount of this is for tests
[22:15:33] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[22:20:37] <sfackler> a bunch of that's also test code, fyi
[22:22:12] <bstrie> aturon: I hear you have my sunglasses...
[22:22:14] <acrichto> sfackler: aturon: yeah it does look like a bunch of tests https://gist.github.com/anonymous/a9fa09c0f2cd4bbfcfe0
[22:22:25] *** Joins: swgillespie (swgillespie@moz-upj.3un.220.167.IP)
[22:22:26] <aturon> bstrie: not that i know of?
[22:22:26] <simukis> acrichto: did you remove fs::equivalent from your std::fs expansion rfc?
[22:22:31] <acrichto> simukis: yeah
[22:22:35] <simukis> I see.
[22:22:38] <bstrie> aturon: brson told me that he put them on your desk
[22:22:45] <acrichto> simukis: oh did that comment not go through?
[22:22:47] <aturon> bstrie: ah ok. i'm not at the office at the moment
[22:23:09] <simukis> acrichto: I might just have missed it
[22:23:15] <bstrie> acrichto: when you have a moment can you point me to aturon's desk so that I may pilfer my sunglasses from it?
[22:23:20] <acrichto> simukis: https://github.com/rust-lang/rfcs/pull/1044#discussion_r28162618
[22:23:35] <aturon> sfackler: acrichto: ok good. that should buy us some time to figure out the best approach for the bug arielb1 found
[22:24:28] *** Joins: Rym_ (y@moz-l75t2m.range86-187.btcentralplus.com)
[22:26:18] *** Quits: willem (Mibbit@moz-b11uqs.dynamic.upc.nl) (Quit: http://www.mibbit.com ajax IRC Client)
[22:26:54] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[22:27:27] *** Joins: tjakubow (tom@moz-783qe0.res.rr.com)
[22:28:04] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Quit: leaving)
[22:28:07] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[22:29:00] *** Quits: Rym_ (y@moz-l75t2m.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[22:30:19] *** Quits: dinfuehr (dinfuehr@moz-638s53.highway.telekom.at) (Connection closed)
[22:31:40] <sfackler> acrichto: any luck creducing that ice?
[22:32:17] <acrichto> sfackler: ah it ended up with 17K of data
[22:32:20] <acrichto> so not much luck :(
[22:33:45] <tjakubow> is there somewhere online to get rustc internal docs anymore?
[22:36:21] <SimonSapin> So, which is preferred, http://static.rust-lang.org/doc or http://doc.rust-lang.org ?
[22:36:26] <SimonSapin> Should one redirect to the other?
[22:36:51] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Quit: ChatZilla 0.9.91.1 [Firefox 37.0.1/20150402191859])
[22:37:59] <simukis> both are fine IMO
[22:38:41] <acrichto> sfackler: oh much smaller! https://gist.github.com/anonymous/a76b707e6bde72e8610b
[22:39:15] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[22:39:21] <sfackler> nice
[22:39:34] *** Joins: sprang (sprang@moz-55r.c9m.56.172.IP)
[22:40:57] <sfackler> you can probably manually expand that second macro to cut it down a bit more
[22:42:45] <kmc> what do I need to change to get precisely deterministic execution out of rustc (not just deterministic results)
[22:42:52] <kmc> is there some hash randomization?
[22:45:01] <bstrie> kmc: I think hash randomization is the whole reason rustc depends on the rand crate, yeah?
[22:45:04] <acrichto> sfackler: super minimal: https://gist.github.com/anonymous/ac84641688b4d38b8c31
[22:45:18] <sfackler> welp
[22:45:47] <kmc> bstrie: i can't find it though
[22:46:11] <bstrie> kmc: is it safe to assume that if you just removed everything that uses the rand crate, determinism would result?
[22:46:56] <acrichto> sfackler: oh if you don't use Self and instead use `Slice<'a, T>` it works
[22:47:19] <kmc> FnvHasher seems to have a fixed starting point
[22:47:21] <kmc> bstrie: no
[22:48:02] <bstrie> I'd be curious to know the source of the nondeterminism, yeah
[22:48:44] *** Joins: TheHydroImpulse (TheHydroImp@moz-r25mqk.ed.shawcable.net)
[22:49:17] <acrichto> sfackler: https://github.com/rust-lang/rust/issues/24308
[22:52:05] *** Joins: Rym_ (y@moz-l75t2m.range86-187.btcentralplus.com)
[22:54:56] *** Joins: brson (brson@moz-pla.c9m.56.172.IP)
[22:54:56] *** ChanServ sets mode: +o brson
[22:55:24] <brson> steveklabnik: i'm still thinking about making rustup itself invoke sudo
[22:55:41] <brson> steveklabnik: how would you feel about rustup being interactive, explaining what it's going to do and requiring confirmation?
[22:58:31] <bstrie> someone in #rust is getting a panic from std::net . are panics in the stdlib considered a bug? here's the backtrace //gist.github.com/seppo0010/912046754015916f9316
[23:00:17] <SimonSapin> bstrie: no necessarily, [1, 2][5] panics by design
[23:00:38] <sfackler> bstrie: sure it's not coming from third party code? looks like it's panicing from networking::Clinet::read
[23:00:40] <SimonSapin> bstrie: `InvalidByte` looks like a UTF-8 decoding error
[23:00:41] <acrichto> bstrie: that doesn't look like a stdlib panic?
[23:01:45] <bstrie> I could just be misunderstanding the reporter
[23:03:07] *** Joins: binkarus (textual@moz-014tff.ca.comcast.net)
[23:05:07] *** Quits: binkarus (textual@moz-014tff.ca.comcast.net) (Connection closed)
[23:06:06] *** Quits: arielb1 (Ariel@moz-0cbkg9.red.bezeqint.net) (Quit: Ex-Chat)
[23:07:16] *** Quits: ytain (ytain@moz-mh2irj.cpe.pppoe.ca) (Quit: Textual IRC Client: www.textualapp.com)
[23:08:18] *** Quits: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk) (Ping timeout: 121 seconds)
[23:09:36] <bstrie> has anyone heard of this alleged rust talk that's happening at pycon?
[23:10:46] <bstrie> oh, I think it already happened
[23:13:37] *** Joins: etw (john@moz-2lpgmu.fios.verizon.net)
[23:15:13] *** Joins: empoZ (empoZ@moz-ccitnk.priv.bahnhof.se)
[23:18:21] *** Quits: sprang (sprang@moz-55r.c9m.56.172.IP) (Ping timeout: 121 seconds)
[23:18:37] *** Joins: kard (-@moz-8ak.vf6.172.84.IP)
[23:23:33] *** Joins: hirschen (hirschen@moz-7nsp5h.h7ls.rebm.810b.2a02.IP)
[23:24:32] *** Joins: srh (User@moz-vft0r1.q9f2.utp8.0306.2602.IP)
[23:25:03] *** Quits: swgillespie (swgillespie@moz-upj.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:28:48] *** Joins: zippity (Mibbit@moz-juv.9o3.252.72.IP)
[23:28:51] *** Joins: p1start (p1start@moz-nftjhe.org)
[23:34:02] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[23:35:03] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[23:35:05] *** Quits: pcwalton (pcwalton@moz-qjbkeh.mtv2.mozilla.com) (Client exited)
[23:35:24] *** Quits: Defaultti (Defaultti@moz-bmdn13.kapsi.fi) (Quit: Quitting.)
[23:36:18] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[23:37:31] *** Quits: pczarn (piotr@moz-9un7t9.izacom.pl) (Ping timeout: 121 seconds)
[23:37:35] *** Quits: zippity (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:37:56] *** Joins: Defaultti (Defaultti@moz-bmdn13.kapsi.fi)
[23:40:42] *** Joins: dinfuehr (dinfuehr@moz-638s53.highway.telekom.at)
[23:44:35] *** Joins: mib_86sbtp (Mibbit@moz-juv.9o3.252.72.IP)
[23:44:48] *** Quits: dinfuehr (dinfuehr@moz-638s53.highway.telekom.at) (Ping timeout: 121 seconds)
[23:45:07] <bstrie> nmatsakis: timeline for making FnBox obsolete? 1.1, 1.2?
[23:45:40] *** Quits: brson (brson@moz-pla.c9m.56.172.IP) (Ping timeout: 121 seconds)
[23:46:54] *** Quits: srh (User@moz-vft0r1.q9f2.utp8.0306.2602.IP) (Quit: Leaving)
[23:48:56] <richo> Do we currently have docs for hacking on the make infra?
[23:49:26] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[23:50:00] <bstrie> richo: possibly in the catacombs of the wiki
[23:50:12] <kmc> richo: lolololol
[23:50:18] <richo> yeah I was kinda afraid that was gunna happen
[23:50:22] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[23:50:23] <kmc> run `make tips` and `make nitty-gritty`, for a start
[23:50:25] *** Quits: hirschen (hirschen@moz-7nsp5h.h7ls.rebm.810b.2a02.IP) (Ping timeout: 121 seconds)
[23:50:27] <kmc> mostly though... good luck
[23:50:37] <richo> I'm still waiting for my sanity to return after trying to make cross compiles work cross-platform
[23:50:41] <sfackler> richo: the only docs you need: "Abandon hope all ye who enter here"
[23:50:58] <richo> make hp-lovecrafts-guide-to-out-make-setup
[23:51:02] <bstrie> sfackler: you gotta say it in italian for maximum veritas
[23:51:22] <richo> anyway, lurking some pointers into make nitty-gritty is probably what I want
[23:51:23] *** Joins: ctennis (ctennis@moz-vcpg3c.in.comcast.net)
[23:51:51] *** Quits: ctennis (ctennis@moz-vcpg3c.in.comcast.net) (Quit: Linkinus - http://linkinus.com)
[23:51:54] *** Quits: mib_86sbtp (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:51:58] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Connection closed)
[23:52:19] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[23:54:44] *** kimundi is now known as zz_kimundi
[23:56:21] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
