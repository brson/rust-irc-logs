[00:09:53] *** Quits: glaebhoerl (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Quit: )
[00:24:24] *** kimundi is now known as zz_kimundi
[00:32:09] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[00:32:21] <brson> nmatsakis: do you think we can cover GC in 1 hour at the workweek? I'm thinking this could be a 2-hour topic
[00:34:07] *** flaper87 is now known as flaper87|afk
[00:36:53] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[00:36:53] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14d2332bf to 1487c7e15: 02http://git.io/N3iJvQ
[00:36:54] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[00:36:57] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[00:36:57] <ghrust> [13rust] 15bors pushed 4 new commits to 06auto: 02http://git.io/9dPNeQ
[00:36:57] <ghrust> 13rust/06auto 149abff54 15Brendan Zabarauskas: Add Pod trait bound to std::num::Primitive
[00:36:57] <ghrust> 13rust/06auto 14e37327b 15Brendan Zabarauskas: Decouple integer formatting from std::num::strconv...
[00:36:58] <ghrust> 13rust/06auto 146943acd 15Brendan Zabarauskas: Reduce reliance on `to_str_radix`...
[00:37:00] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[00:49:05] <acrichto> MODES!
[00:49:09] <acrichto> I just found a test with modes!
[00:50:49] <brson> acrichto: wow! show me!
[00:51:03] <brson> an ignored test i hope
[00:51:06] <acrichto> https://github.com/mozilla/rust/blob/master/src/test/run-pass/issue-3904.rs#L19
[00:51:13] <acrichto> ignored indeed lol
[00:51:16] <acrichto> https://github.com/mozilla/rust/issues/3904
[00:51:18] <acrichto> that's an interesting issue
[00:51:23] <acrichto> we apparently explicitly made &fn copyable
[00:51:28] <acrichto> and now we're making it noncopyable again!
[00:51:41] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[00:51:46] *** Quits: sunfish (chatzilla@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[00:53:06] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[00:53:14] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[00:58:16] <acrichto>  // This checks that preemption works
[00:58:21] <acrichto> brson: ^ we were planning on having preemption?
[01:01:24] <acrichto> let s = shell!( uname -a );
[01:01:25] <acrichto> whoa
[01:01:31] <acrichto> arbitrary commands at compile time!
[01:03:09] <erickt> has anyone else seen this buildbot error? http://buildbot.rust-lang.org/builders/auto-bsd-64-opt/builds/4147/steps/test/logs/stdio -> "tmp/run_pass_stage2_driver.rs:443:5: 443:16 error: function `main` is private"
[01:03:19] <brson> acrichto: a long time ago, yeah
[01:03:25] <brson> does shell! still exist?
[01:03:32] <acrichto> erickt: needs a "pub fn main" for the check-fast suite
[01:03:36] <acrichto> brson: nah, I was just browsing old tests
[01:03:44] <acrichto> let s = shell!( uname -a );
[01:03:45] <brson> shell! may have not made it out of rustboot
[01:03:46] <acrichto> https://github.com/alexcrichton/rust/commit/b072696cd54643d7c19eac464f2f67fb7b092a54
[01:04:01] <acrichto> we have so many old tests
[01:04:15] <acrichto> https://github.com/mozilla/rust/blob/master/src/test/run-pass/foreign.rc
[01:04:16] <acrichto> what is that
[01:04:23] <erickt> acrichto: k
[01:04:28] <acrichto> native mod libc = target_libc
[01:04:52] <brson> that is very old
[01:04:57] <brson> i ... don't even remember that
[01:05:07] <acrichto> lol
[01:05:20] <acrichto> I'm still amused that I managed to find modes somewhere
[01:06:27] * ChrisMorgan wants shell!()!
[01:06:36] <ChrisMorgan> (But only slightly.)
[01:06:38] <brson> acrichto: are you disinclined to remove check-fast?
[01:06:51] <acrichto> brson: we need to remove it
[01:07:08] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[01:07:45] <acrichto> brson: have you run that branch through try yet?
[01:07:50] <brson> acrichto: no
[01:07:50] <acrichto> it'll probably fail on a bunch of tests
[01:08:02] <brson> i did test in on windows
[01:08:06] <acrichto> oh, then mv
[01:08:08] <acrichto> nvmd*
[01:08:16] <brson> i'm sure it will fail for *some* reason though
[01:08:20] <acrichto> I have r+'d, if things are slow we can modify the bots
[01:08:25] <brson> thanks
[01:08:51] <acrichto> I think check-fast is the #1 build failure reason
[01:09:02] <acrichto> or rather forgetting ignore-fast
[01:09:16] <brson> even more than random failures?
[01:09:30] <acrichto> brson: you should rebase https://github.com/mozilla/rust/pull/12311, I have a fix for http://www.reddit.com/r/rust/comments/1yedk1/hitting_the_recursion_depth_in_rust/ depending on that
[01:09:39] <acrichto> yeah random failures aren't so often now
[01:09:48] <acrichto> I have narrowed them down to a broken pipe
[01:09:56] <acrichto> everyting is failing to print on stdout or stderr b/c of a broken pipe
[01:10:00] <acrichto> I have no idea why the pipe is broken
[01:10:17] <brson> ‚òÖ.‚òÖ
[01:10:49] <acrichto> but that's the only flakiness that I'm aware of
[01:11:00] <brson> acrichto: what was the problem with the stack overflow?
[01:11:30] <acrichto> brson: it's just calling Local::take() instead of Local::try_take()
[01:11:41] <acrichto> it's overflowing somewhere in I/O code or something where the task isn't available
[01:12:06] <acrichto> it's basically the general case where we're not handling stack overflow outside of a task context
[01:12:36] <brson> huh
[01:13:13] <brson> there's no real problem with overflowing outside of a task though, right? they both just need to abort
[01:13:19] <brson> will be trickier when we need to recover
[01:13:25] <brson> but we'd like to not have unwinding tied to tasks anyway
[01:13:40] <acrichto> recovering is going to be real hard
[01:14:00] <acrichto> I have a bad feeling that we're going to find that most things which trigger unwinding don't originate from rust code with a task available
[01:14:08] <acrichto> but rather things like I/O code or FFI code
[01:15:16] <acrichto> brson: https://github.com/alexcrichton/rust/commit/4294954ee3a7595f24506383069924a15aeb960c
[01:15:35] <acrichto> just a small test
[01:33:37] <brson> seems like it's been a slow day
[01:34:43] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[01:35:10] *** Quits: tedh (tedh@moz-6F8EC49.central.biz.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[01:37:51] *** Quits: blank_name (blank_name@973FA96D.E6D3F868.537E532E.IP) (Quit: leaving)
[01:39:57] *** Joins: blank_name (blank_name@973FA96D.E6D3F868.537E532E.IP)
[01:42:35] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[01:43:24] *** Joins: tedh (tedh@moz-6F8EC49.central.biz.rr.com)
[01:46:55] *** Joins: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP)
[01:46:55] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/9dPNeQ
[01:46:55] *** Parts: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP) ()
[01:48:48] *** Quits: blank_name (blank_name@973FA96D.E6D3F868.537E532E.IP) (Ping timeout)
[01:50:50] *** Joins: blank_name (blank_name@973FA96D.E6D3F868.537E532E.IP)
[01:51:54] *** Joins: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP)
[01:51:54] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/U4HDtg
[01:51:54] <ghrust> 13rust/06auto 146477605 15Alex Crichton: Force all lang items to be reachable...
[01:51:54] <ghrust> 13rust/06auto 14af68530 15bors: auto merge of #11603 : alexcrichton/rust/issue-11591, r=brson...
[01:51:55] *** Parts: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP) ()
[01:51:56] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[01:51:56] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/mi12Vg
[01:51:56] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[01:59:52] *** Quits: blank_name (blank_name@973FA96D.E6D3F868.537E532E.IP) (Ping timeout)
[02:02:01] *** Joins: blank_name (blank_name@973FA96D.E6D3F868.537E532E.IP)
[02:06:24] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:06:27] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:07:47] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:11:56] <bjz_> \o/ integer fmt improvements merged at last!
[02:12:00] <bjz_> <3 <3
[02:12:10] <bjz_> ty acrichto for the critiques
[02:12:12] <bjz_> :)
[02:12:33] <acrichto> hurray!
[02:14:05] <brson> \(^0^)/
[02:14:35] <bjz_> brson: that is one scary emote
[02:14:37] <bjz_> :D
[02:15:21] <bjz_> acrichto: now for floats.... D:
[02:15:38] *** Quits: andrew-__ (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Quit: Leaving...)
[02:16:36] <strcat> bjz_: I'm not sure we're really formatting floats right in the first place
[02:16:45] <strcat> it should probably be right before it's fast ;)
[02:16:52] <bjz_> I highly doubt it
[02:17:10] <bjz_> I am planning to base it on those two seminal papers
[02:17:34] <bjz_> which do it fast and accurate
[02:20:29] <bjz_> you apparently use the Grisu algorithm for most of them, but for a small fraction of them you revert to Steele's Dragon4 algorithm
[02:23:03] <SiegeLord> Which uses big numbers in general, so I'm interested in how you'll tackle that
[02:23:37] <SiegeLord> As soon as I observed that, I decided to leave the whole thing to a different person (apparently you :D)
[02:24:06] <SiegeLord> glibc uses GMP for formatting its floats
[02:25:22] <jensnockert> GMP is the easy and least likely to break way.
[02:26:19] <jensnockert> Or generic bignums.
[02:27:15] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[02:31:30] <bjz_> SiegeLord: ah, didn't know that
[02:31:41] <bjz_> of course, any body else is welcome to do it
[02:31:52] <bjz_> I really am not looking forward to it
[02:31:55] *** Joins: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP)
[02:31:55] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14af68530 to 14d2f73ab: 02http://git.io/N3iJvQ
[02:31:55] *** Parts: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP) ()
[02:31:59] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[02:31:59] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/mPbwig
[02:31:59] <ghrust> 13rust/06auto 148ae5ce9 15Brian Anderson: Remove check-fast. Closes #4193, #8844, #6330, #7416
[02:31:59] <ghrust> 13rust/06auto 14b508334 15bors: auto merge of #12304 : brson/rust/check-fast, r=alexcrichton
[02:32:00] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[02:32:29] <bjz_> I have been waiting for ages for somebody to tackle strconv, but nobody has
[02:33:04] <bjz_> hence me attempting to get the ball rolling with the integer conversions
[02:33:43] <bjz_> integers are a piece of cake compared to floats
[02:34:02] <bjz_> hardest part was figuring out a decent API
[02:34:24] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[02:34:31] <bjz_> and making it readable
[02:39:52] *** Quits: lpy (lpy@12172131.F09091A8.1348A864.IP) (Ping timeout)
[02:40:40] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[02:40:40] *** ChanServ sets mode: +o tjc
[02:43:17] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[03:05:01] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[03:05:01] *** ChanServ sets mode: +o tjc
[03:18:24] *** Joins: cmr (moznet@moz-EC676DFE.members.linode.com)
[03:20:21] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[03:23:11] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[03:23:11] *** ChanServ sets mode: +ao pcwalton pcwalton
[03:28:12] *** Joins: blank_name (blank_name@973FA96D.E6D3F868.537E532E.IP)
[03:31:52] *** Joins: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP)
[03:31:52] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14b508334 to 14d2f73ab: 02http://git.io/N3iJvQ
[03:31:52] *** Parts: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP) ()
[03:31:53] *** Joins: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP)
[03:31:53] <ghrust> [13rust] 15bors pushed 5 new commits to 06auto: 02http://git.io/HxJOHA
[03:31:53] <ghrust> 13rust/06auto 146ad353e 15Brian Anderson: std: Move intrinsics to std::intrinsics....
[03:31:53] <ghrust> 13rust/06auto 14ae7d030 15Brian Anderson: std: Move raw to std::raw...
[03:31:54] <ghrust> 13rust/06auto 1427207ad 15Brian Anderson: std: Remove unstable::lang...
[03:31:56] *** Parts: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP) ()
[03:35:15] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[03:36:30] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[03:39:35] <huon> brson: the best way to get better metrics is getting a dedicated benchmarker
[03:41:52] <huon> brson: the buildbots are just too noisy for it to be worth my time improving my proof-of-concept: http://huonw.github.io/isrustfastyet/buildbot/bench/test.html#benches=std-vec-bench-random_inserts
[03:42:27] <huon> (i.e. it's hard to detect small changes from those results, only huge regressions and improvements)
[03:46:51] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[03:46:51] <ghrust> [13rust] 15bors 04force-pushed 06auto from 1448f0d50 to 14d2f73ab: 02http://git.io/N3iJvQ
[03:46:51] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[03:46:54] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[03:46:55] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/C9cJVw
[03:46:55] <ghrust> 13rust/06auto 1466f9329 15Arcterus: Move time out of extra (cc #8784)
[03:46:55] <ghrust> 13rust/06auto 1456cf237 15bors: auto merge of #12411 : Arcterus/rust/time, r=alexcrichton...
[03:46:55] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[03:47:13] *** Quits: zz_kimundi (kimundi@moz-3202B743.dip0.t-ipconnect.de) (Ping timeout)
[03:50:58] *** Joins: zz_kimundi (kimundi@moz-77A292B3.dip0.t-ipconnect.de)
[03:50:59] *** zz_kimundi is now known as kimundi
[04:30:05] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[04:30:23] *** Joins: brson (brson@E02A6CDD.75598729.B6A3AE99.IP)
[04:30:23] *** ChanServ sets mode: +qo brson brson
[04:30:33] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[04:30:33] *** ChanServ sets mode: +o tjc
[04:31:07] *** Quits: geoffhill (geoffhill@moz-95FF7399.members.linode.com) (Ping timeout)
[04:35:17] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[04:36:10] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[04:36:43] <erickt> acrichto: did you end up changing the bots to stop doing `make check-fast`?
[04:37:05] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[04:38:58] <acrichto> erickt: brson has a PR to do that, but they're still doing check-fast for now
[04:39:21] <erickt> acrichto: ok, I'll hold off trying to land my PR again
[04:39:42] <acrichto> erickt: it may take awhile to land that, so feel free to "// ignore-fast" any tests for now
[04:40:54] *** Quits: brson (brson@E02A6CDD.75598729.B6A3AE99.IP) (Ping timeout)
[04:44:21] *** Joins: brson (brson@E02A6CDD.75598729.B6A3AE99.IP)
[04:44:21] *** ChanServ sets mode: +qo brson brson
[04:53:09] <huon> acrichto: I saw you talking about the queue before: it will probably start to clear out over the weekend
[04:53:17] <huon> (if not... I guess we should start worrying.)
[04:53:58] <acrichto> it normally does seems to get a little smaller, but it's been about 10 larger on average recently
[04:55:58] <bjz_> we are just too productive
[04:56:07] <huon> maybe we should start being ruder and more repulsive as a community to so that people stop working on Rust :P
[04:56:19] <bjz_> trying to bloat cmr's blog posts
[04:56:27] <huon> and `rm -rf acrichto` :P
[04:56:34] <bjz_> oh yep
[04:56:36] <acrichto> :(
[04:56:47] <bjz_> damn acrichto. he is just too productive
[04:56:50] <bjz_> xD
[04:57:06] * huon hugs acrichto
[04:57:10] <acrichto> lol
[04:57:26] <bjz_> huon: perhaps we should take the lead of the D guys. Apparently they just ignore the PRs. :D
[04:57:54] * bjz_ apologises profusely for the inflammatory comment
[04:58:05] <bjz_> ;)
[04:58:31] <huon> bjz_: really??
[04:59:22] <huon> woah, https://github.com/D-Programming-Language/dmd/pulls
[04:59:24] <bjz_> http://forum.dlang.org/thread/mailman.45.1391721259.21734.digitalmars-d@puremagic.com#post-mailman.49.1391764187.21734.digitalmars-d:40puremagic.com
[04:59:31] <huon> 101 PRs!
[05:00:32] <bjz_> we have far more churn and yet we still keep it down to ~50 open PRs
[05:00:38] <bjz_> :)
[05:00:50] <huon> with ~20 waiting to be tested and merged
[05:00:54] <bjz_> yep
[05:01:51] <brson> nmatsakis: is there documentation about harmonic online?
[05:14:50] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[05:14:50] *** ChanServ sets mode: +o tjc
[05:16:54] *** Joins: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP)
[05:16:54] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/C9cJVw
[05:16:54] *** Parts: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP) ()
[05:19:28] <brson> still nobody has endorsed me for rust on linkedin
[05:19:37] <brson> i wonder if rust is even an option
[05:19:50] <brson> oh wait
[05:19:59] <brson> I have 1 rust endorsement!
[05:21:44] * ChrisMorgan avoids LinkedIn like the plague and wishes it would reciprocate the favour
[05:21:57] *** Joins: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP)
[05:21:57] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/rGwteA
[05:21:57] *** Parts: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP) ()
[05:22:20] *** Quits: new_one (new_one@moz-24744649.rice.edu) (Client exited)
[05:22:25] * ChrisMorgan classifies LinkedIn as a noxious weed, growing their user base by dark patterns and spam.
[05:23:12] <brson> i don't like it either. facebook never got me, but sadly linkedin did
[05:24:50] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[05:26:07] * ChrisMorgan has thus far successfully evaded both Facebook and LinkedIn
[05:26:53] *** Joins: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP)
[05:26:53] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/rGwteA
[05:26:53] *** Parts: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP) ()
[05:26:53] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[05:26:54] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/n1dMdA
[05:26:54] <ghrust> 13rust/06auto 14b734699 15Ivan Enderlin: Fix some typos.
[05:26:54] <ghrust> 13rust/06auto 14698042d 15bors: auto merge of #12421 : Hywan/rust/api_doc, r=alexcrichton...
[05:26:54] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[05:54:28] *** Joins: zimbabao (rajaram@F47A8EB5.977C920F.D5D59AD9.IP)
[06:12:03] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[06:12:03] *** ChanServ sets mode: +o tjc
[06:16:36] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[06:18:30] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[06:18:30] *** ChanServ sets mode: +o tjc
[06:18:58] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[06:23:02] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[06:30:42] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[06:33:19] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[06:36:08] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[06:36:50] *** Joins: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP)
[06:36:51] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/n1dMdA
[06:36:51] *** Parts: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP) ()
[06:37:59] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[06:39:10] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[06:41:53] *** Joins: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP)
[06:41:53] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/2YR_Sg
[06:41:53] *** Parts: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP) ()
[06:41:54] *** Joins: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP)
[06:41:54] <ghrust> [13rust] 15bors pushed 6 new commits to 06auto: 02http://git.io/sLdEvg
[06:41:54] <ghrust> 13rust/06auto 148b81510 15Erick Tryzelaar: extra: rename Uuid::to_bytes() to as_bytes()
[06:41:54] <ghrust> 13rust/06auto 1487f936f 15Erick Tryzelaar: std: minor whitespace cleanup
[06:41:54] <ghrust> 13rust/06auto 14bb8721d 15Erick Tryzelaar: syntax: Allow syntax extensions to have attributes
[06:41:56] *** Parts: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP) ()
[06:49:28] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[06:49:28] *** ChanServ sets mode: +o tjc
[06:53:30] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[06:58:08] *** Quits: zimbabao (rajaram@F47A8EB5.977C920F.D5D59AD9.IP) (Ping timeout)
[07:22:21] <bjz_> why is Hash exported in the prelude?
[07:30:14] <huon> did check-notidy disappear? :(
[07:30:53] <brson> huon: yeah, i assumed nobody used it
[07:31:06] <brson> feel free to add it back
[07:31:27] <brson> i reasoned that saving a few seconds off the entire test suite was not useful
[07:31:45] <bjz_> also IterBytes
[07:32:03] <brson> bjz_: +1 for scrutinizing the prelude
[07:32:14] <bjz_> I am removing Bool
[07:32:25] <huon> brson: it's useful if you have binaries checked in, or don't want to rebuild the whole thing for a single syntax change
[07:32:40] <huon> "checked in"
[07:32:59] <huon> as in, in the source tree but not in git (which tidy considers to be checked in)
[07:33:26] <brson> what is tidy checking there exactly?
[07:33:35] <brson> it's looking at your git status?
[07:34:36] <huon> no, it seems to just check all the files and see if any are binaries
[07:34:59] <huon> should probably check just `git ls-files`
[07:35:07] * huon will experiment
[07:36:45] <brson> hm, if you change tidy to use git then it needs to work without git as well when distributed in a tarball
[07:36:50] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[07:36:51] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14efe7c25 to 14698042d: 02http://git.io/N3iJvQ
[07:36:51] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[07:36:51] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[07:36:51] <ghrust> [13rust] 15bors pushed 5 new commits to 06auto: 02http://git.io/2lJ4dQ
[07:36:51] <ghrust> 13rust/06auto 145e352ba 15Brian Anderson: std: Move intrinsics to std::intrinsics....
[07:36:51] <ghrust> 13rust/06auto 1437108e7 15Brian Anderson: std: Move raw to std::raw...
[07:36:52] <ghrust> 13rust/06auto 141067e83 15Brian Anderson: std: Remove unstable::lang...
[07:36:54] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[07:37:09] <huon> brson: ah, true
[07:37:27] <huon> (people keep saying this to me whenever I suggest things like this, and I keep forgetting :( )
[07:39:31] <ktt3ja> hmm, what happened to `token::ident_to_str`?
[07:40:03] <huon> ktt3ja: changed to other things
[07:40:15] <huon> search for `-> RcStr` in that module
[07:40:21] * huon can't remember the exact name
[07:43:18] <ktt3ja> hmm, so I call `token::get_ident` to get an InternedString, then call the `get` method to get the inner string?
[07:50:47] <Eridius> PR #12411 rewound src/llvm to the previous commit
[07:51:44] <Eridius> which basically reverted #12407
[07:53:58] *** Joins: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro)
[07:54:47] <brson> Eridius: guh. i hate that
[07:55:19] <brson> Eridius: do you mind unreverting llvm?
[07:56:20] <brson> acrichto: i wonder if we could write a pr rollup bot
[07:56:51] *** Joins: ghrust (ghrust@23EC81EC.6A2AE50.F3114085.IP)
[07:56:51] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/zHBOzA
[07:56:51] <ghrust> 13rust/06auto 147736985 15Alex Crichton: Return a buffered stdin by default....
[07:56:51] <ghrust> 13rust/06auto 14068781e 15bors: auto merge of #12422 : alexcrichton/rust/buffered-default, r=brson...
[07:56:51] *** Parts: ghrust (ghrust@23EC81EC.6A2AE50.F3114085.IP) ()
[07:56:54] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[07:56:54] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14f3279c5 to 14698042d: 02http://git.io/N3iJvQ
[07:56:54] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[07:57:03] <eddyb> brson: what happened?
[07:57:10] <brson> idk
[07:57:12] <eddyb> someone pressed a green button on github again :P?
[07:59:30] <Eridius> brson: I can submit a PR with the unrevert
[08:00:08] <brson> Eridius: thanks
[08:00:36] <Eridius> brson: https://github.com/mozilla/rust/pull/12462
[08:03:48] <eddyb> brson: ahh, I see - https://github.com/mozilla/rust/pull/12411 - maybe we should have bors alerts for things like these?
[08:05:12] <brson> eddyb: yes! that's another good thing a bot could check, like warning about commits without issue numbers (#12373)
[08:05:47] <brson> i want to adapt https://github.com/jdm/highfive/ for this
[08:06:18] <eddyb> that's the bot that adds the warnings on servo PRs?
[08:06:21] <brson> yeah
[08:06:33] <eddyb> takit
[08:06:38] <eddyb> *takeit
[08:06:55] <eddyb> strcat: how bad does .take() instead of .clone() for Rc sound?
[08:07:09] <eddyb> or .dupe()
[08:07:10] <strcat> but Clone is the name of the generic method
[08:07:13] <strcat> clone *
[08:07:35] <eddyb> but then you can't tell between wasteful clones and refcounts!
[08:07:47] <eddyb> :(
[08:07:53] <strcat> it's supposed to be generic that way though
[08:07:59] <strcat> it's the minimal work to go from &T to T
[08:08:11] <strcat> if it's not generic then it's not going to be possible to easily derive it and use it
[08:08:55] <eddyb> I guess that means we'll never be able to assess the clone bloat situation in libsyntax without an IDE
[08:11:24] <eddyb> in other news, I've devised an in-place flat_map algorithm for something like [P<Item>] => Iterator<SmallVec<P<Item>>>
[08:12:19] <eddyb> will reuse the first > 1 SmallVec's as a circular buffer to hold values that don't fit yet into the original vector
[08:12:32] <eddyb> s/'s//
[08:13:18] <eddyb> the motto being "why allocate if you can avoid it?"
[08:14:47] *** Quits: mawuli (mawuli@moz-36C70B7D.com.gh) (Ping timeout)
[08:20:38] <eddyb> rusti: enum Foo {concat_idents!(A, Foo), concat_idents!(B, Foo)} (AFoo, BFoo)
[08:20:40] -rusti- <anon>:10:32: 10:33 error: expected `}` but found `!`
[08:20:40] -rusti- <anon>:10         enum Foo {concat_idents!(A, Foo), concat_idents!(B, Foo)} (AFoo, BFoo)
[08:20:40] -rusti-                                          ^
[08:20:40] -rusti- application terminated with error code 101
[08:20:55] <eddyb> :(
[08:26:04] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:26:07] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:26:25] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:29:06] *** Quits: bjz_ (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[08:31:24] <eddyb> huon: I wish I had functional style macros
[08:31:59] <eddyb> map!(A, B, C, $x => concat!($x, Foo))
[08:34:37] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[08:36:54] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[08:38:41] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[08:39:16] <huon> eddyb: what would the expand to? `AFoo, BFoo, CFoo`?
[08:39:22] <eddyb> yeah
[08:40:16] <huon> ktt3ja: this comment https://github.com/mozilla/rust/pull/12238#issuecomment-35797925 makes github send a really broken email :P
[08:40:44] <ktt3ja> huon: because it's too long?
[08:40:51] <ktt3ja> sorry :x
[08:41:04] <huon> ktt3ja: i.imgur.com/yiHxZao.png
[08:41:13] <huon> erm, http://i.imgur.com/yiHxZao.png
[08:41:23] <ktt3ja> huon: hahaha, wth
[08:41:33] <huon> clearly they're not escaping things correctly
[08:41:45] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:41:46] <huon> bad github!
[08:41:53] <eddyb> why isn't it rendering the markdown to HTML?
[08:42:13] <huon> ktt3ja: (sorry for misleading you about RcStr vs. InternedStr btw :) )
[08:42:44] <ktt3ja> huon: it actually helped me find the right functions and methods :p
[08:42:56] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:42:59] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:43:19] <huon> ktt3ja: yeah, but `InternedStr` would've been super-double-more-useful
[08:43:35] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[08:43:50] <huon> (actually I dunno what's up with the email: there's no mention of <s> in that comment at all... and definitely not where it starts crossing things out.)
[08:44:01] <eddyb> I don't like how we have two types with similar but-not-quite-identical APIs
[08:44:23] * huon guess it's Option and Result?
[08:44:26] <huon> *guesses
[08:45:12] <huon> ktt3ja: those error messages are *really* cool
[08:45:22] <eddyb> huon: RcStr and InternedStr
[08:45:35] <ktt3ja> huon: thanks :)
[08:45:41] <huon> eddyb: oh, yeah, that's a bit weird
[08:45:45] <eddyb> it should really be one type IMO and be usable as a &str as much as technically possible
[08:46:07] <ktt3ja> huon: but I have pretty much tunnel-visioned into a few test cases; I'm a little worried they may generate misleading messages for some cases ;(
[08:46:07] <eddyb> .get() calls are "meh, what are you getting?"
[08:46:23] <huon> ktt3ja: does it handle non & lifetimes?
[08:47:00] <huon> eddyb: well... it's a purely a string wrapper, so it's pretty guessable
[08:47:07] <huon> but yeah, deref would be cool
[08:47:25] <brson> huon: do you have an example of the really cool error messages?
[08:47:39] <ktt3ja> huon: & and Path<'x,..>
[08:48:01] <huon> brson: https://github.com/mozilla/rust/pull/12238#issuecomment-35797925
[08:48:12] <huon> brson: it tells you exactly what lifetimes you need
[08:48:44] <huon> ktt3ja will be the Rust-beginner's god forever when this lands :)
[08:49:21] <huon> temples will be erected in his honour, worship cults will spring up
[08:49:25] * huon </imagination>
[08:49:40] <ktt3ja> hahaha
[08:49:51] <brson> ktt3ja: that is pretty stunning
[08:50:01] <huon> ktt3ja: oh, yeah, I see your first example has 3 lifetimes!
[08:50:07] <ktt3ja> I don't think this one strips up beginners as much as borrow checker stuffs, though
[08:51:49] *** Quits: luz (lucy@moz-CD18B14B.customer.cdi.no) (Quit: 04‚Üê)
[08:52:04] <ktt3ja> speaking of which, I have a rather embarrassing story to tell
[08:52:26] <ktt3ja> when I took OS class last semester, we did some Rust warmup for first assignment
[08:52:34] <ktt3ja> see exercise 3 right here: http://rust-class.org/0/pages/ps1.html
[08:52:37] <ktt3ja> guess how long it took me?
[08:52:41] <huon> ktt3ja: I guess it doesn't really explain *why* the lifetimes are necessary, just give them the correct incantation of symbols (and compiler error messages aren't the place to explain the necessity for lifetimes, etc etc)
[08:52:44] <huon> 3 days
[08:52:58] <ktt3ja> huon: why :(
[08:53:08] <huon> ktt3ja: why what?
[08:53:24] <ktt3ja> now my story doesn't have a punch to it anymore
[08:53:30] <brson> lol
[08:53:31] <ktt3ja> because I *only* sat there for 5 hours
[08:53:38] <ktt3ja> to do that single exercise
[08:53:44] *** Joins: glaebhoerl (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[08:54:02] <ktt3ja> I couldn't find out how to convert number to string
[08:54:18] <huon> http://static.rust-lang.org/doc/master/complement-cheatsheet.html
[08:54:26] *** Joins: luziie (lucy@moz-CD18B14B.customer.cdi.no)
[08:54:36] * huon sends that to ktt3ja -= 5 months
[08:54:53] <ktt3ja> travel back in time, eh :p
[08:54:57] <eddyb> ktt3ja: did you try IRC :P?
[08:55:10] <huon> eddyb: nope, never seen ktt3ja on IRC
[08:55:20] <ktt3ja> I found out how to convert number to string
[08:55:26] <ktt3ja> but then I think I ran into borrow checker error
[08:55:31] <eddyb> haha
[08:55:38] <ktt3ja> and that's when I went to IRC
[08:55:42] <brson> i like the soft pastel colors on our docs these days
[08:56:09] <eddyb> brson: they're like a warm pillow to cry on, aren't they?
[08:56:23] <brson> getting there
[08:56:26] <huon> brson: yeah, they're pretty nice (and they're about to get wild and rainbow-y snippets when acrichto's highlighting lands)
[08:57:08] <eddyb> one of the acrichto's is implementing highlighting in docs? can I see?
[08:57:43] <huon> there's a PR that just needs a rebase
[08:57:54] <huon> https://github.com/mozilla/rust/pull/12416
[08:57:54] <brson> in rustdocs?
[08:58:17] <huon> http://www.contrib.andrew.cmu.edu/~acrichto/doc/std/hashmap/index.html
[08:58:20] <brson> wow, i missed that pr
[08:58:56] <huon> (the colour scheme could use some adjusting to get it to fit the style of the rest of the docs, I guess.)
[08:59:09] <huon> but it's all CSS, so easy enough to experiment with
[08:59:32] <eddyb> can I suggest gray comments and bold keywords?
[08:59:48] <eddyb> lol @ & & getting two colors
[09:00:09] <ktt3ja> lol
[09:01:48] <huon> cool, FF dev tools are getting very slick
[09:02:39] * ChrisMorgan hasn't used Firebug for quite a long time now
[09:03:01] <eddyb> hmm, I wonder if using the freshly parsed AST could work better than the current lexer method
[09:03:31] <huon> eddyb: is the incremental improvement worth the extra complexity?
[09:03:49] <eddyb> not really
[09:04:34] <eddyb> would be nice to get something like DXR at some point, so you could hover on code pieces from the examples and get to their docs
[09:06:53] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[09:06:53] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/zHBOzA
[09:06:53] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[09:08:58] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[09:09:36] *** Joins: zimbabao (rajaram@7BC0686F.29A8FC38.D2D1FAF0.IP)
[09:10:43] *** Joins: bjz_ (bjz@B398BE78.F804C29E.D35A31DF.IP)
[09:11:03] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (No route to host)
[09:11:52] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[09:11:52] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/4Z8N7g
[09:11:52] <ghrust> 13rust/06auto 14e61c7fd 15Kevin Ballard: Restore LLVM to the correct revision...
[09:11:52] <ghrust> 13rust/06auto 14d22099c 15bors: auto merge of #12462 : kballard/rust/restore-llvm-from-12407, r=brson...
[09:11:52] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[09:11:53] *** Joins: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP)
[09:11:54] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/cVx_0A
[09:11:54] *** Parts: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP) ()
[09:13:49] <huon> brson: r? https://github.com/mozilla/rust/pull/12465
[09:15:48] *** Quits: zimbabao (rajaram@7BC0686F.29A8FC38.D2D1FAF0.IP) (Ping timeout)
[09:17:33] *** Joins: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[09:18:06] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[09:42:03] *** Quits: ktt3ja (ktt3ja@moz-85E2770C.hsd1.va.comcast.net) (Quit: Leaving)
[09:47:40] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[10:33:54] <eddyb> nmatsakis: I hate DPS
[10:35:19] <eddyb> I understand its usefulness, but I don't like being forced to use destinations
[10:41:53] *** Joins: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP)
[10:41:53] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/4Z8N7g
[10:41:53] *** Parts: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP) ()
[10:46:52] *** Joins: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP)
[10:46:52] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/5JiB8Q
[10:46:52] *** Parts: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP) ()
[10:46:53] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[10:46:53] <ghrust> [13rust] 15bors pushed 5 new commits to 06auto: 02http://git.io/uAMVPw
[10:46:53] <ghrust> 13rust/06auto 1415ec9cb 15Brian Anderson: std: Move intrinsics to std::intrinsics....
[10:46:53] <ghrust> 13rust/06auto 148925ab4 15Brian Anderson: std: Move raw to std::raw...
[10:46:53] <ghrust> 13rust/06auto 141163c48 15Brian Anderson: std: Remove unstable::lang...
[10:46:55] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[11:07:25] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[11:21:54] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[11:21:54] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/nvSQ3g
[11:21:54] <ghrust> 13rust/06auto 14e14fca6 15Alex Crichton: Register new snapshots...
[11:21:54] <ghrust> 13rust/06auto 14c48babe 15bors: auto merge of #12427 : alexcrichton/rust/snapshots, r=brson...
[11:21:54] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[11:21:56] *** Joins: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP)
[11:21:56] <ghrust> [13rust] 15bors 04force-pushed 06auto from 1460e55f0 to 14d22099c: 02http://git.io/N3iJvQ
[11:21:56] *** Parts: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP) ()
[11:25:20] *** Quits: brson (brson@E02A6CDD.75598729.B6A3AE99.IP) (Ping timeout)
[11:26:46] *** Quits: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro) (Ping timeout)
[12:00:16] *** Joins: doomlord_ (servitor@moz-9B2006BF.range109-151.btcentralplus.com)
[12:15:32] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[12:16:54] *** Joins: mawuli (mawuli@moz-36C70B7D.com.gh)
[12:21:56] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[12:30:19] *** Joins: zimbabao (rajaram@7BC0686F.29A8FC38.D2D1FAF0.IP)
[12:33:38] <Yurume> what does "Cannot export __rust_crate_map_toplevel: symbol not found" exactly mean with presence of -Z lto?
[12:34:20] <huon> Yurume: do you have any other flags?
[12:34:27] <Yurume> no.
[12:35:20] <Yurume> well, I still have a problem with -Z lto in Windows and try to find out why (since it might be a problem of unofficial nightlies).
[12:35:48] <Yurume> the corresponding gcc arguments are:
[12:35:57] <Yurume> '-m32' '-L<rust>\rustlib\i686-pc-mingw32\lib' '-o' 'foo' 'foo.o' '-shared-libgcc' '-LC:\Users\<username>\.rust' '-LC:\Users\<username>' '-lgcc_s' '-lws2_32' '-lpsapi' '-liphlpapi' '-lmorestack' '-lcompiler-rt'
[12:36:56] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[12:36:56] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/nvSQ3g
[12:36:56] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[12:41:54] *** Joins: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP)
[12:41:54] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/B9G44Q
[12:41:55] *** Parts: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP) ()
[12:41:56] *** Joins: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP)
[12:41:56] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/QFiFQw
[12:41:56] <ghrust> 13rust/06auto 1403347c1 15Brian Anderson: std: Make atomics immutable. #11583...
[12:41:56] <ghrust> 13rust/06auto 14858f0e6 15bors: auto merge of #12430 : brson/rust/atomics, r=alexcrichton
[12:41:56] *** Parts: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP) ()
[12:53:47] <Yurume> huon, I've tried to summarize the problem into a proper issue: https://github.com/mozilla/rust/issues/12471
[12:55:43] *** Joins: angdev (uid7041@moz-E77DEB21.irccloud.com)
[13:01:06] *** Quits: glaebhoerl (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Connection reset by peer)
[13:01:10] *** Joins: glaebhoerl (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[13:05:07] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[13:16:52] *** Joins: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP)
[13:16:52] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14858f0e6 to 14c48babe: 02http://git.io/N3iJvQ
[13:16:52] *** Parts: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP) ()
[13:16:55] *** Joins: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP)
[13:16:55] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/f98jxA
[13:16:55] <ghrust> 13rust/06auto 14ea72398 15Alex Crichton: configure: Accept LLVM 3.5 for building rust...
[13:16:55] <ghrust> 13rust/06auto 146d79ed1 15Alex Crichton: mk: Fix --llvm-root finding tools...
[13:16:55] <ghrust> 13rust/06auto 14f764d47 15bors: auto merge of #12433 : alexcrichton/rust/fix-some-config-things, r=brson...
[13:16:57] *** Parts: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP) ()
[13:21:41] *** Joins: gimpf (gimpf@moz-86E5DAA4.adsl.highway.telekom.at)
[13:32:21] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[13:32:58] *** Joins: edwardw (edwardw@E6E87FA7.354F6412.B9C6B12A.IP)
[13:33:37] *** Quits: gimpf (gimpf@moz-86E5DAA4.adsl.highway.telekom.at) (Quit: Leaving.)
[13:34:58] *** Quits: glaebhoerl (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Ping timeout)
[13:41:36] *** Joins: glaebhoerl (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[13:50:50] *** Joins: summerlight_ (summerligh@327FC32B.2C956A45.501EFF44.IP)
[13:51:02] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[13:53:44] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[13:57:01] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[13:59:24] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[14:14:48] *** Joins: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro)
[14:18:41] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[14:23:18] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[14:23:26] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[14:23:55] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[14:24:45] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[14:26:48] <eddyb> nmatsakis: I think that an explicit dereference can only be mutable in two positions: &mut *x and *x = y
[14:27:06] <eddyb> and there it's easy to propagate that information
[14:27:45] <eddyb> implicit dereferences are trickier
[14:28:00] <doener> eddyb: the EH stuff was just wrong on my end. Though now I think that the patch that turned off the optimization isn't needed.
[14:28:20] <doener> eddyb: but the devirt detection fix got merged
[14:30:52] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[14:31:42] <edwardw> some questions regarding rustc::middle::resolve. does it work inside out or outside in AST?
[14:31:48] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[14:31:57] *** Joins: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP)
[14:31:57] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/f98jxA
[14:31:57] *** Parts: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP) ()
[14:32:31] *** Quits: dbussink (dbussink@moz-E0A5568C.bussink.me) (Quit: bye)
[14:36:05] <eddyb> edwardw: outside in, like everything else
[14:36:27] <eddyb> only AST folding is inside out, AFAIK
[14:36:56] *** Joins: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP)
[14:36:56] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/UtiD2Q
[14:36:56] *** Parts: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP) ()
[14:37:04] <edwardw> that's what I thought I saw, inside out, which leads to resolve issue
[14:37:21] <eddyb> which issue?
[14:38:11] <edwardw> a label resolve issue after I added label renaming logic
[14:38:50] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[14:38:51] <edwardw> consider a nested loop, a break inside the inner loop refers to a label defined in the outer loop
[14:39:14] *** Joins: dbussink (dbussink@moz-E0A5568C.bussink.me)
[14:39:23] <edwardw> BAM can not be resolve since outer loop is still not visited
[14:39:33] <edwardw> if it works inside out
[14:39:59] <edwardw> s/resolve/resolved
[14:40:40] *** Quits: bytbox (s@moz-AA99B23F.washdc.fios.verizon.net) (Ping timeout)
[14:41:13] <edwardw> the same should have happened to var resolving
[14:41:52] *** Joins: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP)
[14:41:52] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/UtiD2Q
[14:41:52] *** Parts: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP) ()
[14:41:52] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[14:41:52] <ghrust> [13rust] 15bors pushed 4 new commits to 06auto: 02http://git.io/c62W9A
[14:41:52] <ghrust> 13rust/06auto 14e97bb92 15Alex Crichton: configure: Accept LLVM 3.5 for building rust...
[14:41:52] <ghrust> 13rust/06auto 14ccd25e5 15Alex Crichton: mk: Fix --llvm-root finding tools...
[14:41:53] <ghrust> 13rust/06auto 145bb204f 15Alex Crichton: Add a Travis-CI configuration for the repo...
[14:41:55] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[14:43:57] <eddyb> edwardw: you're obviously wrong there
[14:44:07] <edwardw> oh?
[14:44:11] <eddyb> it's outside in
[14:44:32] <eddyb> but maybe it doesn't record the label when it visits the loop
[14:44:35] <edwardw> then I couldn't figure out what happened to me
[14:46:31] <edwardw> https://github.com/mozilla/rust/blob/master/src/librustc/middle/resolve.rs#L5215 it seems to do so
[14:49:53] <eddyb> https://github.com/mozilla/rust/blob/master/src/librustc/middle/resolve.rs#L5209
[14:51:39] <edwardw> I've added renaming-aware resolving there. It still didn't work
[14:52:46] <eddyb> edwardw: did you use the same convention as with resolving locals?
[14:53:18] <edwardw> eddyb: where is that logic? I'm still searching for them
[14:54:35] <eddyb> somewhere in those ~6k lines :P
[14:55:33] <edwardw> LOL
[14:58:09] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[15:02:37] *** Quits: angdev (uid7041@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[15:03:35] *** Quits: tedh (tedh@moz-6F8EC49.central.biz.rr.com) (Ping timeout)
[15:04:03] *** Joins: tedh (tedh@moz-6F8EC49.central.biz.rr.com)
[15:06:14] <jensnockert> Hurray for Cairo, https://github.com/jensnockert/cairo.rs
[15:06:40] <eddyb> https://github.com/jensnockert/cairo.rs/blob/master/cairo.xml
[15:06:46] <eddyb> and you say this is nice?
[15:06:52] <eddyb> >_>
[15:07:40] <jensnockert> Nicer than JSON! \o/
[15:07:53] <jensnockert> No, I don't claim that the XML mapping is nice.
[15:08:06] <jensnockert> But considering I wrote it in 8 hours, it is surprising it isn't worse
[15:08:36] * jensnockert hugs eddyb.
[15:09:04] <eddyb> I would've spent 2 days minimizing it
[15:10:07] <jensnockert> The size of the XML isn't much of a problem, my problem is that it isn't expressive enough.
[15:10:28] <eddyb> the two problems are linked ;)
[15:11:41] <jensnockert> It isn't less expressive than a vapi file, probably more, just‚Ä¶ more verbose.
[15:12:43] <eddyb> of course it's the GitHub tab I've left open overnight...
[15:12:47] <eddyb> 500MB
[15:25:31] <eddyb> println!("{:p} {:p}", &*x, x.borrow());
[15:25:35] <eddyb> 0x182c2f0 0x182c2f0
[15:25:43] <eddyb> it's an lvalue!
[15:28:24] <eddyb> and not moving out of dereferences works: let x = Rc::new(~"foo"); println!("{:?} {:?}", *x, *x);
[15:29:24] <eddyb> problem is... moving out doesn't cause a move error
[15:37:14] <eddyb> and I have no idea how middle::moves works. unless it's not in there
[15:37:54] <jdm> jensnockert: seen https://github.com/mozilla-servo/rust-cairo ?
[15:37:58] *** Quits: Kxepal (Miranda@moz-C530D784.pppoe.mtu-net.ru) (Ping timeout)
[15:38:17] <jensnockert> jdm: Yeah, but that's just the C library exposed as-is.
[15:38:21] <jdm> ok
[15:50:47] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[15:51:50] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[15:51:50] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/c62W9A
[15:51:50] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[15:56:09] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[15:56:49] *** Joins: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP)
[15:56:50] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/N4fISA
[15:56:50] <ghrust> 13rust/06auto 14c9713ff 15Corey Richardson: rustdoc: web: don't reset the search bar
[15:56:50] <ghrust> 13rust/06auto 1452755b7 15bors: auto merge of #12439 : cmr/rust/rustdoc-reset, r=thestinger...
[15:56:50] *** Parts: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP) ()
[15:56:51] *** Joins: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP)
[15:56:52] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/a43jbg
[15:56:52] *** Parts: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP) ()
[15:59:24] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[15:59:24] *** ChanServ sets mode: +ao pcwalton pcwalton
[16:11:19] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Ping timeout)
[16:15:10] *** Joins: Guest (textual@16F167B.4C57D258.D8E8354F.IP)
[16:15:21] *** Quits: kimundi (kimundi@moz-77A292B3.dip0.t-ipconnect.de) (Ping timeout)
[16:17:51] *** Guest is now known as angdev
[16:18:45] *** Joins: kimundi (kimundi@moz-AE597961.dip0.t-ipconnect.de)
[16:19:09] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[16:19:10] <eddyb> check_is_legal_to_move_from in gather_loans::gather_moves
[16:19:20] <eddyb> it uses mem_categorization :/
[16:20:51] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[16:23:11] *** kimundi is now known as zz_kimundi
[16:25:29] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[16:27:02] <eddyb> nmatsakis: hehe, there is already some support for overloading *x, just not perfect
[16:33:26] *** zz_kimundi is now known as kimundi
[16:38:58] *** Joins: gimpf (gimpf@moz-960833E1.adsl.highway.telekom.at)
[16:49:56] *** Quits: gimpf (gimpf@moz-960833E1.adsl.highway.telekom.at) (Quit: Leaving.)
[16:50:01] *** Joins: gimpf (gimpf@moz-960833E1.adsl.highway.telekom.at)
[16:50:45] *** Quits: gimpf (gimpf@moz-960833E1.adsl.highway.telekom.at) (Quit: Leaving.)
[16:51:05] *** Joins: gimpf (gimpf@moz-960833E1.adsl.highway.telekom.at)
[16:54:18] *** Quits: lpy (lpy@12172131.F09091A8.1348A864.IP) (Client exited)
[16:56:31] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[16:57:10] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[17:06:19] *** Quits: arrdem (arrdem@moz-2E1DB1F9.ece.utexas.edu) (Quit: leaving)
[17:06:54] *** Joins: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP)
[17:06:54] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/N4fISA
[17:06:54] *** Parts: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP) ()
[17:07:53] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[17:11:48] *** Joins: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP)
[17:11:48] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/3fpa1g
[17:11:48] *** Parts: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP) ()
[17:11:52] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[17:11:52] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/uKUf2w
[17:11:52] <ghrust> 13rust/06auto 14766e138 15kud1ing: backticks
[17:11:52] <ghrust> 13rust/06auto 1487e3b5f 15bors: auto merge of #12441 : kud1ing/rust/backticks, r=brson...
[17:11:52] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[17:16:11] *** Joins: bytbox (s@moz-E1E7FAC3.washdc.fios.verizon.net)
[17:16:17] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[17:17:10] *** Joins: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net)
[17:17:56] *** Quits: bytbox (s@moz-E1E7FAC3.washdc.fios.verizon.net) (Input/output error)
[17:18:48] *** Joins: bytbox (s@moz-E1E7FAC3.washdc.fios.verizon.net)
[17:19:29] *** Quits: carter (carter@moz-58F59B3A.members.linode.com) (Quit: ZNC - http://znc.in)
[17:20:00] *** Joins: carter (carter@moz-58F59B3A.members.linode.com)
[17:22:20] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[17:23:38] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[17:27:40] *** Joins: tjc (tjc@46B5412F.3597C859.3AF705F3.IP)
[17:27:40] *** ChanServ sets mode: +o tjc
[17:31:00] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[17:32:42] *** Joins: mindcat (mindcat@3223E364.90785442.291A146C.IP)
[17:33:00] <mindcat> yahoo~
[17:33:06] *** Joins: Kxepal (Miranda@moz-A26562EF.pppoe.mtu-net.ru)
[17:33:27] <mindcat> ok, I just watch now
[17:34:34] <mindcat> ,
[17:34:39] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[17:35:17] *** Quits: tjc (tjc@46B5412F.3597C859.3AF705F3.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[17:37:36] *** Joins: tjc (tjc@46B5412F.3597C859.3AF705F3.IP)
[17:37:36] *** ChanServ sets mode: +o tjc
[17:39:13] *** Quits: summerlight_ (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[17:40:12] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[17:40:22] *** Quits: tjc (tjc@46B5412F.3597C859.3AF705F3.IP) (Ping timeout)
[17:40:45] *** Joins: tjc (tjc@46B5412F.3597C859.3AF705F3.IP)
[17:40:45] *** ChanServ sets mode: +o tjc
[17:41:27] *** Quits: tjc (tjc@46B5412F.3597C859.3AF705F3.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[17:42:39] *** Joins: tjc (tjc@46B5412F.3597C859.3AF705F3.IP)
[17:42:40] *** ChanServ sets mode: +o tjc
[17:44:06] *** Quits: Kxepal (Miranda@moz-A26562EF.pppoe.mtu-net.ru) (Quit: Kxepal)
[17:44:20] *** Joins: Kxepal (Miranda@moz-A26562EF.pppoe.mtu-net.ru)
[17:44:52] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[17:45:55] *** Quits: mawuli (mawuli@moz-36C70B7D.com.gh) (Quit: Leaving)
[17:46:20] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[17:46:28] *** Quits: bjz_ (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[17:48:03] *** Joins: speckle (speckle@moz-AD109A29.hsd1.md.comcast.net)
[17:53:58] *** Quits: bytbox (s@moz-E1E7FAC3.washdc.fios.verizon.net) (Ping timeout)
[18:01:41] *** Quits: Kxepal (Miranda@moz-A26562EF.pppoe.mtu-net.ru) (Quit: Kxepal)
[18:01:51] *** Joins: Kxepal (Miranda@moz-A26562EF.pppoe.mtu-net.ru)
[18:19:12] *** Joins: a_m0d (a_m0d@moz-B069EE89.acanac.net)
[18:21:55] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[18:21:55] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/uKUf2w
[18:21:55] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[18:24:06] *** Quits: mindcat (mindcat@3223E364.90785442.291A146C.IP) (Quit: leaving)
[18:24:47] <a_m0d> I just found a bug in the compiler (according to the error message), but I'm not sure where to begin with making a small reproducible test case :-/
[18:24:57] <a_m0d> cannot relate bound region: ReFree(132, BrNamed(syntax::ast::DefId{krate: 0u32, node: 738u32}, a)) <= ReLateBound(831, BrNamed(syntax::ast::DefId{krate: 0u32, node: 855u32}, a))
[18:25:05] <a_m0d> ^ that's the error message
[18:25:07] *** Joins: ktt3ja (ktt3ja@moz-85E2770C.hsd1.va.comcast.net)
[18:25:22] <eddyb> a_m0d: give me a line from your code that includes both generics and named lifetimes
[18:26:07] <eddyb> I'm pretty sure I know what this is, and I know nmatsakis was working on fixing it
[18:26:49] *** Joins: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP)
[18:26:50] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/W_JbbQ
[18:26:50] <a_m0d> http://pastebin.mozilla.org/4367193 - that's the section that has the error I think
[18:26:50] <ghrust> 13rust/06auto 149982de6 15Eduard Bopp: Warn about unnecessary parentheses upon assignment...
[18:26:50] <ghrust> 13rust/06auto 14eb5ba4d 15bors: auto merge of #12366 : aepsil0n/rust/feature/unnecessary_parens_around_assigned_values, r=alexcrichton...
[18:26:50] *** Parts: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP) ()
[18:26:52] *** Joins: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP)
[18:26:52] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/_Y2beA
[18:26:52] *** Parts: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP) ()
[18:28:00] <a_m0d> Supposedly the error occurs on the line 5 of that snippet, but I don't think that is correct
[18:30:07] <a_m0d> Also, I guess it is worth checking this - is there any way to walk the ast with a context object that doesn't implement Clone?
[18:30:38] <eddyb> that context thing is... awkward and not oftenly used
[18:30:46] <a_m0d> I'm trying to use an `&mut env` as the context of the ast_walk, but I can't
[18:30:50] <eddyb> a_m0d: why did you add a lifetime there?
[18:31:02] <a_m0d> see above line ...
[18:31:12] <eddyb> you do realize you have a &mut self, right?
[18:31:37] <a_m0d> true.  I might be able to refactor to use that, but not sure
[18:31:51] <a_m0d> I'm trying to get an existing codebase to compile on rust-master
[18:31:59] <eddyb> this code will work in the future, but we don't want it in Visitor
[18:32:10] <a_m0d> and there's been quite a lot of changes since the code last compiled
[18:32:44] <eddyb> I should check how hard it would be to remove the environment, it's just annoying
[18:32:50] *** Joins: luziiie (luziie@moz-CD18B14B.customer.cdi.no)
[18:33:02] *** Quits: luziie (lucy@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[18:33:32] <a_m0d> it's only used in 4 spots in the rustc codebase
[18:33:53] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[18:34:43] <a_m0d> actually, a few more: once in resolve, once in resolve_lifetime, once in liveness, in check_loop, check_const, and region
[18:34:52] <eddyb> error: cannot move out of dereference of `&`-pointer
[18:34:53] <eddyb> \o/
[18:35:07] <a_m0d> Where's that one from?
[18:35:17] <eddyb> a_m0d: overloading unary *
[18:35:32] <eddyb> let x = Rc::new(~"foo"); println!("{:?}", (*x, *x));
[18:36:13] <eddyb> it wasn't producing an error, previously, and crashing at runtime
[18:36:35] <eddyb> possibly the single smile in history produced by the sight of that error
[18:40:31] <darnuria> review? : doc tutorial https://github.com/mozilla/rust/pull/12472
[18:41:45] *** Quits: tjc (tjc@46B5412F.3597C859.3AF705F3.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[18:46:04] *** Joins: tjc (tjc@46B5412F.3597C859.3AF705F3.IP)
[18:46:05] *** ChanServ sets mode: +o tjc
[18:52:21] *** Quits: blank_name (blank_name@973FA96D.E6D3F868.537E532E.IP) (Ping timeout)
[18:52:37] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[18:52:37] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:52:39] *** Joins: blank_name (blank_name@973FA96D.E6D3F868.537E532E.IP)
[18:53:27] <eddyb> rusti: let x = 5; &mut x
[18:53:32] -rusti- pastebinned 16 lines of output: http://ix.io/aF9
[18:53:46] <eddyb> rusti: let x = 5; println!(&mut x)
[18:53:47] -rusti- <anon>:10:29: 10:35 error: format argument must be a string literal.
[18:53:47] -rusti- <anon>:10         let x = 5; println!(&mut x)
[18:53:47] -rusti-                                       ^~~~~~
[18:53:47] -rusti- error: aborting due to previous error
[18:53:47] -rusti- application terminated with error code 101
[18:53:56] <eddyb> rusti: let x = 5; println!("{:?}", &mut x)
[18:53:59] -rusti- pastebinned 9 lines of output: http://ix.io/aFa
[18:54:11] <eddyb> rusti: let x = 5; println!("{:?}", &mut *&x)
[18:54:14] -rusti- pastebinned 9 lines of output: http://ix.io/aFb
[18:54:28] <eddyb> rusti: let x = 5; println!("{:?}", &mut *&*&*&*&x)
[18:54:31] -rusti- pastebinned 9 lines of output: http://ix.io/aFc
[18:54:47] <eddyb> I can work with this :)
[18:54:50] *** Quits: tjc (tjc@46B5412F.3597C859.3AF705F3.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[18:54:58] <ktt3ja> what does hygienic mean in this context? https://github.com/mozilla/rust/pull/12451#issuecomment-35800719
[18:55:40] <a_m0d> eddyb: Thanks for that tip about using &mut self instead of the env - I'm down to only 27 borrowck errors now (from ~75)
[18:56:04] <eddyb> ktt3ja: hygienic macros
[18:56:21] <eddyb> identifiers defined within a macro don't conflict with those defined outside
[18:56:40] <eddyb> only works with `let` right now
[18:56:48] <ktt3ja> eddyb: nice and concise, +1
[18:57:27] <ktt3ja> I haven't touched macro at all yet :p
[19:06:44] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[19:10:17] * eddyb is tempted to replace @FnCtxt with &FnCtxt in typeck
[19:21:44] <eddyb> bleah, such redundancy
[19:31:02] <eddyb> nmatsakis: experimenting with making *x choose deref_mut in &mut *x; *x = y; and *x OP= y;
[19:33:48] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[19:34:58] *** Joins: luz1 (luziie@moz-CD18B14B.customer.cdi.no)
[19:35:42] *** Quits: luziiie (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[19:36:39] <Yurume> could one end borrowing some value by dropping it? I think it is not possible today (i.e. the *variable* containing that value has to be eliminated) but wonder if it should be possible.
[19:36:48] *** Joins: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP)
[19:36:48] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/W_JbbQ
[19:36:48] *** Parts: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP) ()
[19:37:32] <Yurume> rusti: let mut x = 4; let y = &mut x; *y = 5; drop(y); x = 7;
[19:37:35] -rusti- pastebinned 8 lines of output: http://ix.io/aFe
[19:37:47] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[19:37:53] <Yurume> rusti: let mut x = 4; let y = &mut x; *y = 5; let y = (); x = 7;
[19:37:56] -rusti- pastebinned 8 lines of output: http://ix.io/aFf
[19:38:06] <Yurume> rusti: let mut x = 4; { let y = &mut x; *y = 5; } x += 7; x
[19:38:07] -rusti- 12
[19:39:48] <eddyb> Yurume: let y = (); doesn't affect the original y at all
[19:40:07] <eddyb> it's no different than let foobar = (); other than shadowing the previous y
[19:40:13] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[19:40:54] <Yurume> yes, I know why it behaves like that, but this behavior is quite painful when you cannot introduce a new block.
[19:41:22] <eddyb> then why are you even trying :)?
[19:41:37] <eddyb> let _ = y; will consume a linear value, *I think(
[19:41:41] <eddyb> s/(/*/
[19:41:50] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[19:41:50] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/MCrruw
[19:41:50] <ghrust> 13rust/06auto 14351d0ff 15Alex Crichton: Force all lang items to be reachable...
[19:41:50] <ghrust> 13rust/06auto 142ba0a8a 15bors: auto merge of #11603 : alexcrichton/rust/issue-11591, r=brson...
[19:41:50] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[19:41:51] <Yurume> isn't that equivalent to `drop`?
[19:41:56] <eddyb> rusti: let mut x = 4; let y = &mut x; *y = 5; drop(y); x = 7;
[19:41:59] -rusti- pastebinned 8 lines of output: http://ix.io/aFe
[19:42:01] <Yurume> rusti: let mut x = 4; let y = &mut x; *y = 5; let _ = y; x += 7; x
[19:42:04] -rusti- pastebinned 8 lines of output: http://ix.io/aFg
[19:42:59] <eddyb> there are ways in which you can solve this
[19:43:07] <eddyb> that are non-trivially unsafe
[19:44:00] <eddyb> that function could just as well be a method, saving the &mut T in a structure
[19:44:57] <Yurume> I have some use cases barring every possible sane solution :p maybe I haven't tried that really hard, though.
[19:45:32] <eddyb> let _ = y; just needs let _ to decide what it wants to be :P
[19:45:57] <eddyb> since we're torn between "keep alive for the entirety of the scope" and "drop immediately", AFAIK
[19:47:13] <Yurume> yeah, that would redefine (or rather, expand) the concept of "scope"
[19:48:28] <Yurume> hmm, what happened with main.js?
[19:48:42] <Yurume> it raises SyntaxError (in the generated docs) currently
[19:49:28] *** Quits: blank_name (blank_name@973FA96D.E6D3F868.537E532E.IP) (Ping timeout)
[19:51:18] *** Joins: blank_name (blank_name@973FA96D.E6D3F868.537E532E.IP)
[19:53:58] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[19:54:09] *** Quits: angdev (textual@16F167B.4C57D258.D8E8354F.IP) (Quit: My MacBook has gone to sleep. ZZZzzz‚Ä¶)
[19:55:38] *** Quits: luz1 (luziie@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[20:03:30] *** Joins: mawuli (mawuli@moz-36C70B7D.com.gh)
[20:05:35] *** Joins: luz (lucy@moz-CD18B14B.customer.cdi.no)
[20:08:22] *** Quits: pjenvey (pjenvey@moz-B23F7990.org) (Ping timeout)
[20:11:31] *** Quits: blank_name (blank_name@973FA96D.E6D3F868.537E532E.IP) (Ping timeout)
[20:11:57] *** Joins: pjenvey (pjenvey@moz-B23F7990.org)
[20:20:31] *** Quits: edwardw (edwardw@E6E87FA7.354F6412.B9C6B12A.IP) (Quit: Leaving...)
[20:45:02] *** Quits: luz (lucy@moz-CD18B14B.customer.cdi.no) (Input/output error)
[20:45:05] *** Joins: luz (lucy@moz-CD18B14B.customer.cdi.no)
[20:49:16] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[20:51:51] *** Joins: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP)
[20:51:51] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/MCrruw
[20:51:51] *** Parts: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP) ()
[20:56:53] *** Joins: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP)
[20:56:53] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/zyDI_w
[20:56:53] *** Parts: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP) ()
[20:56:54] *** Joins: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP)
[20:56:54] <ghrust> [13rust] 15bors pushed 6 new commits to 06auto: 02http://git.io/4nQzLg
[20:56:54] <ghrust> 13rust/06auto 148b81510 15Erick Tryzelaar: extra: rename Uuid::to_bytes() to as_bytes()
[20:56:54] <ghrust> 13rust/06auto 1487f936f 15Erick Tryzelaar: std: minor whitespace cleanup
[20:56:55] <ghrust> 13rust/06auto 14bb8721d 15Erick Tryzelaar: syntax: Allow syntax extensions to have attributes
[20:56:57] *** Parts: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP) ()
[21:04:05] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[21:04:05] *** ChanServ sets mode: +ao pcwalton pcwalton
[21:05:32] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[21:08:03] *** Joins: bytbox (s@moz-E1E7FAC3.washdc.fios.verizon.net)
[21:08:38] *** Quits: bytbox (s@moz-E1E7FAC3.washdc.fios.verizon.net) (Input/output error)
[21:08:43] *** Joins: bytbox (s@moz-E1E7FAC3.washdc.fios.verizon.net)
[21:12:24] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[21:12:52] *** Quits: doomlord_ (servitor@moz-9B2006BF.range109-151.btcentralplus.com) (Quit: Leaving)
[21:13:26] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[21:14:19] *** Quits: ktt3ja (ktt3ja@moz-85E2770C.hsd1.va.comcast.net) (Quit: Leaving)
[21:22:04] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[21:24:05] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[21:24:06] *** ChanServ sets mode: +qo brson brson
[21:26:12] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[21:27:44] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[21:29:31] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[21:39:05] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[21:39:30] <bjz> acrichto: commented
[21:44:11] <eddyb> argh
[21:44:21] <eddyb> nmatsakis: what we do in resolve is a bit silly, to say the least
[21:44:53] <eddyb> at least it means I can name the methods in DerefImm and DerefMut deref and it will magically work >_>
[21:45:47] <eddyb> SiegeLord: was it you that found that you can use an arbitrary trait, with a method with the same name as an operator overload method and it would work?
[21:45:59] <SiegeLord> Ye[
[21:46:02] <SiegeLord> *Yep
[21:46:21] <eddyb> according to this code, and my experience... it shouldn't work
[21:47:06] <eddyb> I need to have the right trait in a map, for each overloaded Expr ID
[21:47:26] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[21:47:48] <eddyb> and I've actually hit an issue that means I can't have both DerefImm and DerefMut in the map at the same time, so resolve has to pick one >_>
[21:47:53] *** Joins: jsonnull (Thunderbir@26C8A295.45ABBC25.494A0F8B.IP)
[21:49:35] <eddyb> but picking DerefMut instead of DerefImm based on context, in resolve feels... just wrong
[21:51:45] *** Quits: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro) (Ping timeout)
[21:53:46] *** Joins: sunfish (chatzilla@moz-8DE7F965.dsl.dynamic.sonic.net)
[21:54:11] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[21:57:01] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[21:57:01] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14ea7afe6 to 142ba0a8a: 02http://git.io/N3iJvQ
[21:57:01] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[21:57:04] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[21:57:04] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/MDEjaw
[21:57:04] <ghrust> 13rust/06auto 145b4c01b 15Alex Crichton: Roll std::run into std::io::process...
[21:57:04] <ghrust> 13rust/06auto 14348499e 15bors: auto merge of #12380 : alexcrichton/rust/run-rewrite, r=brson...
[21:57:04] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[22:02:51] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[22:22:27] *** Quits: whitglint (uid15486@moz-31ABA2C0.irccloud.com) (Quit: Connection closed for inactivity)
[22:25:52] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[22:32:58] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[22:33:02] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[23:01:59] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[23:01:59] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14348499e to 142ba0a8a: 02http://git.io/N3iJvQ
[23:01:59] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[23:01:59] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[23:02:00] <ghrust> [13rust] 15bors pushed 7 new commits to 06auto: 02http://git.io/5FE0Pg
[23:02:00] <ghrust> 13rust/06auto 148b81510 15Erick Tryzelaar: extra: rename Uuid::to_bytes() to as_bytes()
[23:02:00] <ghrust> 13rust/06auto 1487f936f 15Erick Tryzelaar: std: minor whitespace cleanup
[23:02:00] <ghrust> 13rust/06auto 14bb8721d 15Erick Tryzelaar: syntax: Allow syntax extensions to have attributes
[23:02:02] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[23:07:59] *** Joins: tjc (tjc@moz-E48030DD.public.wayport.net)
[23:07:59] *** ChanServ sets mode: +o tjc
[23:08:48] <huon> comments? https://github.com/mozilla/rust/issues/12479
[23:19:41] <erickt> huon: what about #[cfg_if(‚Ä¶)]? cfg_attr doesn't really hint at there being a conditional
[23:22:26] <SiegeLord> The 'cfg' mirrors the pre-existing #[cfg] attribute
[23:23:36] *** Quits: mawuli (mawuli@moz-36C70B7D.com.gh) (Client exited)
[23:23:48] *** Parts: a_m0d (a_m0d@moz-B069EE89.acanac.net) ()
[23:24:39] <SiegeLord> That particular example is somewhat of a strawman though, as you can do #[cfg]#[link] extern {}
[23:25:12] <SiegeLord> I.e. a separate, empty extern block simply used for the sideeffect of the #[link] attribute
[23:25:14] *** Joins: blank_name (blank_name@463DB555.53526368.6D228269.IP)
[23:37:20] <huon> SiegeLord: true enough
[23:37:40] <huon> erickt: cfg_if doesn't hint that it's handling attributes :)
[23:39:19] *** Quits: tjc (tjc@moz-E48030DD.public.wayport.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[23:40:37] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Connection reset by peer)
[23:41:05] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[23:59:03] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[23:59:50] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
