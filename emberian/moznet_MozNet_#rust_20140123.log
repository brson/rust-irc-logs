[00:00:02] <g3xzh> aatch: how come? i formated and reinstalled linux, then clone the repository and run ./configure, make and make install
[00:00:13] <g3xzh> *cloned, ran
[00:00:15] <Tobba> also wait, is Clone not a lang item?
[00:00:15] <Matthias247> Go avoids it by using the shared TcpStream objects
[00:00:17] <acrichto> Matthias247: yeah right now the solution is "spawn more tasks"
[00:01:07] <aatch> g3xzh, I don't know. It can't find the rustrt library, that's all I can tell you.
[00:01:09] *** flaper87 is now known as flaper87|afk
[00:01:13] <kfed> aatch, semantically sqrt(2) and sqrt(2.0) are the same thing though :/
[00:01:16] <Matthias247> also a philosophy question how much tasks you like :)
[00:01:17] <aatch> Tobba, nope
[00:01:34] <g3xzh> aatch: OK, thanks for the lead. :)
[00:01:45] <Tobba> so wait, how do I declare copy functions then
[00:01:48] *** Quits: derek_c (derek@moz-A43430DA.cit.cornell.edu) (Ping timeout)
[00:01:51] <Tobba> I assume Send is involved
[00:01:53] <Matthias247> I personally like having the sending and receiving end in one task because you can hold your "shared state" there
[00:02:04] <aatch> kfed, no they aren't, since sqrt returns the same type it is given
[00:02:18] *** Quits: LU324 (weechat@9AF4F288.83671C58.1B5D53D7.IP) (Input/output error)
[00:02:18] <aatch> Tobba, copy functions?
[00:02:31] *** Joins: LU324 (weechat@9AF4F288.83671C58.1B5D53D7.IP)
[00:02:48] <Tobba> yeah
[00:02:57] <Tobba> I think I got it
[00:03:12] <aatch> Clone is just a regular trait, you can just copy it from the standard library.
[00:03:19] *** Quits: nszceta (quassel@moz-E6CA8D6.hsd1.pa.comcast.net) (Input/output error)
[00:04:11] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[00:04:45] *** Quits: bynaryshef (bynaryshef@moz-97E96350.mem.bellsouth.net) (Quit: Leaving)
[00:04:47] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[00:04:58] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[00:05:03] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[00:06:14] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[00:06:24] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[00:06:29] *** Quits: xorcon (Mibbit@moz-CD3EFF74.cs.virginia.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[00:06:46] <aatch> kfed, while the square root *is* defined for integers, the result is only an integer for perfect squares
[00:06:59] <aatch> Unless you *want* sqrt(2) == 1
[00:07:05] *** Joins: bmats_ (bmats@moz-87F0A991.hfc.comcastbusiness.net)
[00:07:29] *** Quits: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de) (Connection reset by peer)
[00:08:01] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[00:08:34] <kfed> it is defined for ints? I always get a error when trying to use it with ints
[00:08:50] <kfed> but I understand your point from earlier about needing to use floats
[00:09:40] <FreeFull> What are you using the square root for?
[00:09:50] <kfed> quick question: is it bad practice or frowned upon to use the dereference operator (*) in rust?
[00:10:01] <dbaupp> kfed: it's not defined, you have to cast to a floating point type explicitly
[00:10:02] <FreeFull> I don't think it is
[00:10:02] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[00:10:04] <kfed> oh nothing important, just trying to get a grasp of the language, picked it up today
[00:10:07] <dbaupp> depends where you're using it
[00:10:25] <dbaupp> you don't normally write (*foo).bar() if foo is, say, &T
[00:10:38] <FreeFull> If dereference was a bad thing it wouldn't get a 1 char operator
[00:10:44] <kfed> :)
[00:10:56] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Ping timeout)
[00:11:49] <FreeFull> kfed: If you want to work with just integers, there tend to be ways to go without actually doing a square root
[00:11:50] <aatch> however, if you want to get from &T -> T and it's implicitly copyable, then deferencing is fine.
[00:11:58] <FreeFull> Depends on what you are doing, of course
[00:12:24] <aatch> The only time I write (*foo).bar() is when I'm dealing with raw pointers.
[00:12:47] *** Quits: jarekps_ (jarekps@moz-212A0654.neoplus.adsl.tpnet.pl) (Ping timeout)
[00:13:01] *** Joins: Ferreus (ferreus@moz-87F62382.pools.arcor-ip.net)
[00:13:48] <FreeFull> Rust doesn't have -> AFAIK
[00:14:04] <FreeFull> At least, not for dereference + member access
[00:14:05] <aatch> It does not
[00:14:10] *** Joins: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net)
[00:14:16] *** Quits: steveno (steveno@moz-2B2BE86F.hsd1.pa.comcast.net) (Ping timeout)
[00:14:20] <aatch> '.' does the dereferencing
[00:15:37] <kfed> when you guys write functions do you always make the params borrowed pointers? or is that a case-by-case thing?
[00:15:52] <dbaupp> if the function doesn't need ownership, the borrowed pointres
[00:15:58] <dbaupp> if it does need ownership, then by-value
[00:16:00] *** Joins: a_m0d (a_m0d@moz-2F294D00.acanac.net)
[00:16:08] <aatch> kfed, generally you make them borrowed pointers, unless you need otherwise.
[00:16:27] <aatch> But defaulting to & will get you in the right direction.
[00:16:31] *** Quits: jessie (jessie@D31433C7.6F737E01.D4A9B473.IP) (Ping timeout)
[00:17:08] <aatch> However, if you find yourself writing code that takes a '&' and immediately copies the contents, you should take that parameter by-value
[00:18:14] *** Quits: Ferreus (ferreus@moz-87F62382.pools.arcor-ip.net) (Quit: WeeChat 0.4.3-dev)
[00:18:41] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Ping timeout)
[00:19:12] <kfed> if I pass by value then does the function really get ownership or does it just get a copy of the passed arg?
[00:19:20] <aatch> kfed, depends on the type
[00:19:26] *** Quits: bmats_ (bmats@moz-87F0A991.hfc.comcastbusiness.net) (Client exited)
[00:20:20] <kfed> you mean whether it's a struct or a primitive type?
[00:20:22] *** Joins: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[00:20:22] *** ChanServ sets mode: +ao brson brson
[00:21:10] <dbaupp> some things move ownership when passed by value
[00:21:12] <dbaupp> others don't
[00:21:26] <dbaupp> those that do are things that implement Drop (have a destructor) or contain &mut
[00:21:37] <dbaupp> (and closures)
[00:21:40] *** Quits: nik_ (nik@moz-15A88527.pool.mediaways.net) (Quit: Leaving)
[00:21:53] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[00:22:00] <dbaupp> (and anything that contains something that moves ownership)
[00:22:22] <kfed> rust is starting to feel like rocket science
[00:22:34] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Quit: Leaving)
[00:22:43] *** Quits: squiddy (squiddy@moz-A8B4F2BE.adsl.alicedsl.de) (Quit: Leaving)
[00:23:10] *** Joins: brendan (brendaneic@32032A33.64E86699.E4E2523.IP)
[00:23:14] <dbaupp> it's relatively simple, just takes a bit of practice :)
[00:26:16] *** Quits: dbaupp (Thunderbir@32742E97.D5A1DCF.37681C44.IP) (Ping timeout)
[00:30:29] *** Quits: hoverbear (hoverbear@moz-A4D3860E.wireless.uvic.ca) (Quit: Taking a nap.)
[00:30:42] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[00:31:19] <igork> and most common error is 'cannot move out of dereference of & pointer' xD
[00:31:39] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[00:32:08] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[00:33:19] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[00:33:41] *** Joins: judofyr (judofyr@77444CA6.26D37221.7A561A2D.IP)
[00:33:50] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[00:35:23] *** Quits: judofyr (judofyr@77444CA6.26D37221.7A561A2D.IP) (Ping timeout)
[00:35:23] *** Joins: twi (Adium@moz-C422EBB2.tpgi.com.au)
[00:35:48] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[00:37:24] *** Quits: ChrisOei (ChrisOei@moz-53A9266A.blurb.com) (Quit: WeeChat 0.4.2)
[00:38:38] <kfed> pastebin.com/xGq1PxSA
[00:38:44] *** Joins: WebeWizard (Justin@moz-7CCD1DAE.ks.ks.cox.net)
[00:39:05] <kfed> what's the difference in the functions in the pastebin above?
[00:39:13] *** Quits: WebeWizard (Justin@moz-7CCD1DAE.ks.ks.cox.net) (Quit: Leaving)
[00:39:15] <kfed> like semantically
[00:39:16] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[00:39:35] *** Joins: lenstr (lenstr@2B74E188.9636F313.7A27613B.IP)
[00:39:41] <uberj> kfed: I think the top one actually copies the Point struct when you call it
[00:40:04] <uberj> where as the bottom one just passes a reference to a Point
[00:40:19] <kfed> right, but variables are immutable by default
[00:40:33] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[00:40:53] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[00:41:03] *** Joins: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP)
[00:41:17] <kimundi> kfed: If the function takes immutabel references, then there is no practical difference between thwos two functions - in fact, llvm might even optimize both to the same code if it inlines it
[00:41:24] *** Quits: lenstr (lenstr@2B74E188.9636F313.7A27613B.IP) (Ping timeout)
[00:41:42] *** Joins: reyre (reyre@moz-89E9865B.com)
[00:42:06] <kimundi> The difference would arises if Point would be a moving type
[00:42:17] <kfed> a "moving" type?
[00:43:01] <kimundi> kfed: Types that are not Pod (plain old data): every type that contains/is either &mut, closures, or a destructor
[00:43:06] *** Quits: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP) (Ping timeout)
[00:44:06] <kimundi> For example, the generic type ~T has a destructor, which makes all ~T moving types
[00:44:27] <kimundi> rusti: let x = ~5u; let y = x; x
[00:44:32] -rusti- pastebinned 10 lines of output: http://ix.io/a4f
[00:44:39] <kimundi> look at that error message
[00:45:14] *** Quits: brendan (brendaneic@32032A33.64E86699.E4E2523.IP) (Quit: brendan)
[00:45:46] <igork> kfed: http://pastebin.com/ebdbUKXb - now Point is movable
[00:46:02] <FreeFull> rusti: let x = ~5u; let y = &*x; x
[00:46:04] -rusti- pastebinned 10 lines of output: http://ix.io/a4g
[00:46:29] <FreeFull> rusti: let x = ~5u; let y = x.clone(); x
[00:46:31] -rusti- <anon>:10:26: 10:27 warning: unused variable: `y`, #[warn(unused_variable)] on by default
[00:46:31] -rusti- <anon>:10         let x = ~5u; let y = x.clone(); x
[00:46:31] -rusti-                                    ^
[00:46:31] -rusti- ~5u
[00:47:27] *** Quits: kfed (kfed@moz-D5AC2A62.washdc.fios.verizon.net) (Ping timeout)
[00:49:13] *** Quits: g3xzh (g3xzh@moz-62BA794B.red.bezeqint.net) (Ping timeout)
[00:49:24] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[00:49:33] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[00:51:08] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Ping timeout)
[00:51:29] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[00:51:52] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[00:52:41] *** Joins: hoverbear (hoverbear@moz-A4D3860E.wireless.uvic.ca)
[00:57:04] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[00:57:21] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[00:58:21] *** Quits: azita (Azita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: azita)
[00:58:36] *** Quits: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[01:00:16] *** Joins: dbaupp (Thunderbir@32742E97.D5A1DCF.37681C44.IP)
[01:01:46] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[01:02:24] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[01:03:13] *** Quits: Savago (Savago@CDD1823.E820043D.D4C04133.IP) (Quit: Savago)
[01:05:06] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[01:07:34] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[01:07:49] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Ping timeout)
[01:07:54] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:09:40] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[01:09:57] *** Joins: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net)
[01:10:08] *** Quits: Armavica (virgile@moz-AD428ED7.ens.fr) (Ping timeout)
[01:10:16] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Quit: )
[01:10:17] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[01:10:17] *** ChanServ sets mode: +ao dherman dherman
[01:10:36] *** Joins: lerc (quassel@moz-289EFA2.telstraclear.net)
[01:10:37] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[01:10:51] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[01:12:32] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[01:14:44] *** Quits: zmthy (zmthy@moz-C2881CC3.ecs.vuw.ac.nz) (Quit: leaving)
[01:16:41] <johnsoft> why does RWArc<T> require T:Freeze+Send?
[01:16:47] *** jorendorff is now known as jorendorff_away
[01:16:52] *** kimundi is now known as zz_kimundi
[01:17:11] <strcat> johnsoft: so the readers can't write
[01:17:25] *** Quits: canhtak (canhtak@moz-CEAFB489.wl.t.ulaval.ca) (Quit: canhtak)
[01:18:24] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[01:18:27] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[01:18:28] *** Joins: zmthy (zmthy@moz-C2881CC3.ecs.vuw.ac.nz)
[01:18:30] <johnsoft> why does RWArc<T> require T:Freeze+Send?
[01:18:46] <mcpherrin> johnsoft: so the readers can't write
[01:18:50] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: Textual IRC Client: www.textualapp.com)
[01:19:36] <johnsoft> but read() gives you a &T, not a &mut T
[01:19:43] *** Joins: derek_c (derek@moz-228299DC.cit.cornell.edu)
[01:19:52] <sfackler> johnsoft: non-freeze types can be modified through a &T
[01:20:15] *** Joins: maxiepoo (mnew@moz-6F50ADE.hsd1.il.comcast.net)
[01:21:02] *** Quits: twi (Adium@moz-C422EBB2.tpgi.com.au) (Ping timeout)
[01:21:27] *** Quits: ercxx (ercan@moz-88DD3A7E.dyn.optonline.net) (Quit: WeeChat 0.4.2)
[01:21:35] <johnsoft> how?
[01:21:41] <johnsoft> (i'm sure it's obvious, sorry)
[01:21:51] <sfackler> e.g. RefCell
[01:21:57] *** Joins: ercxx (ercan@moz-88DD3A7E.dyn.optonline.net)
[01:22:02] <sfackler> or Cell
[01:22:14] <johnsoft> oh, i haven't dug into cells at all yet
[01:22:20] <ercxx> strcat: ping
[01:22:24] <strcat> ercxx: pong
[01:22:29] <bascule> Rust has Cells? o_O
[01:22:42] * bascule tries to guess what they are
[01:22:46] <bascule> Haskell MVars?
[01:22:50] <strcat> nope
[01:23:04] <bascule> /// A mutable memory location that admits only `Pod` data.
[01:23:04] <strcat> more like ML mutable cells
[01:23:09] <ercxx> strcat: I just updated the rust-git from your repo, and started getting errors about compiler not finding the crate std.
[01:23:15] <ercxx> had to roll back
[01:23:38] <strcat> probably an upstream issue in rust's installation
[01:23:45] * strcat looks
[01:24:44] <ercxx> strcat: rust-git-0.9.350.g505572b-1-x86_64.pkg.tar.xz is the one with the problem.
[01:25:04] <ercxx> strcat: rust-git-0.9.320.gb6f6e49-1-x86_64.pkg.tar.xz works.
[01:26:10] <strcat> ercxx: seems to work here
[01:26:28] *** Quits: leslie (Adium@802083C6.67DB9176.67D29DD9.IP) (Quit: Leaving.)
[01:26:37] <ercxx> strcat: Ok
[01:26:49] <strcat> ercxx: both static and -Z prefer-dynamic seem to work
[01:26:52] <strcat> hm
[01:27:05] *** Quits: Earnestly (earnest@moz-E86D50FA.dyn.plus.net) (Ping timeout)
[01:27:10] <ercxx> if it works there disregard it
[01:27:21] <ercxx> I'll find what my machine is doing wrong.
[01:27:50] *** Joins: judofyr (judofyr@77444CA6.26D37221.7A561A2D.IP)
[01:28:07] <strcat> ercxx: does rustc itself start?
[01:28:17] <ercxx> yeah
[01:28:31] <strcat> what doesn't work, something you're building with it?
[01:29:04] <ercxx> strcat: yeah.
[01:29:17] <strcat> ercxx: could it be that there's a lib it's using that needs to be rebuilt?
[01:29:34] *** Quits: judofyr (judofyr@77444CA6.26D37221.7A561A2D.IP) (Ping timeout)
[01:29:41] <ercxx> I just did a pacman -Syu 
[01:29:49] <ercxx> It's me being an idiot.
[01:30:04] * strcat shrugs ;p
[01:30:12] <ercxx> why do you need shared-mime-info ?
[01:30:23] <strcat> ercxx: to generate the mime db data with the .install script
[01:30:37] <ercxx> that just got an update too.
[01:30:53] <strcat> speaking of which that needs to be updated to not include .rc
[01:31:44] *** Quits: gwty (gwtypc@CE39F0FC.547B6514.137C914F.IP) (Connection reset by peer)
[01:31:53] <ercxx> strcat: which one of these do you think is the reason: http://pastebin.mozilla.org/4076497 ?
[01:32:31] <strcat> ercxx: dunno ;\
[01:32:37] <strcat> ercxx: did you verify that it's not rust-git causing it?
[01:32:40] *** Quits: eibwen (kvirc@moz-BA489CAB.dip0.t-ipconnect.de) (Ping timeout)
[01:33:05] <ercxx> what do you mean?
[01:33:08] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[01:33:13] <WebeWizard> ercxx, I am also getting 'can't find crate for std', from the nightly build
[01:33:22] <strcat> ercxx: as in updating rust-git alone
[01:33:36] <strcat> WebeWizard: what are the steps to reproduce that?
[01:34:05] <sfackler> WebeWizard: does your library depend on another library that was compiled with the old nightly?
[01:34:11] <ercxx> strcat: dong it now.
[01:34:29] <WebeWizard> sfackler: possibly, havn't tried to compile the library again yet
[01:34:37] *** Quits: ercxx (ercan@moz-88DD3A7E.dyn.optonline.net) (Quit: WeeChat 0.4.2)
[01:35:41] *** Quits: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw) (Ping timeout)
[01:36:16] *** Joins: jyyou (jyyou@28A2398D.56303981.3A70C586.IP)
[01:36:35] *** Joins: ercxx (ercan@moz-88DD3A7E.dyn.optonline.net)
[01:36:42] <ercxx> strcat: reboot didn't fix it.
[01:36:58] <strcat> ercxx: what are you compiling?
[01:37:22] <WebeWizard> struct 'BufferedStream' is private? what kind of nonsense is that?
[01:38:08] <ercxx> strcat: this : https://github.com/eerden/rust-upnp
[01:38:28] <WebeWizard> i see, BufferedStream just got moved
[01:38:44] <WebeWizard> it's not in std::io::buffered anymore
[01:39:05] <strcat> ercxx: did you recompile the lib.rs part?
[01:39:22] <ercxx> strcat: the error is for `rustc lib.rs`
[01:39:28] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[01:39:40] <strcat> ercxx: and all of those deps
[01:39:59] <ercxx> strcat: not really
[01:40:06] <strcat> ercxx: well I'm guessing that's what you need
[01:40:39] <ercxx> strcat: Some of them a are causing it.
[01:40:49] <WebeWizard> sfackler, strcat : Ya, just needed to recompile my library with the new compiler
[01:40:54] <WebeWizard> no more error
[01:40:55] <ercxx> okay then
[01:41:04] *** Quits: hoverbear (hoverbear@moz-A4D3860E.wireless.uvic.ca) (Quit: Taking a nap.)
[01:41:47] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[01:41:48] <johnsoft> Is there anything in libstd like a Freeze adapter to non-Freeze data?
[01:41:49] *** Joins: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP)
[01:41:53] <ercxx> yeah it worked.
[01:42:51] <sfackler> johnsoft: not that I know of. why?
[01:43:07] <ercxx> strcat: A better error message telling me exactly why I'm an idiot would be better.
[01:43:43] <ercxx> this was too difficult to figure out by myself
[01:43:47] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Input/output error)
[01:43:53] *** Quits: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP) (Ping timeout)
[01:44:11] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[01:44:13] <WebeWizard> ercxx, that's what we get for compiling against nightly builds
[01:44:40] <ercxx> WebeWizard: yep
[01:44:41] <johnsoft> sfackler- I've got a struct that isn't Freeze, but I see no reason why it wouldn't be safe it access happens one caller at a time
[01:44:52] <ercxx> strcat: Thank you.
[01:44:54] *** Joins: canhtak (canhtak@moz-CEAFB489.wl.t.ulaval.ca)
[01:44:55] <johnsoft> a'la MutexArc
[01:44:56] <sfackler> but you're trying to put it in an RWArc right?
[01:44:58] <sfackler> oh
[01:45:19] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[01:45:29] <strcat> ercxx: I think it broke due to renaming of the version from 0.9 to 0.10-pre
[01:45:29] <johnsoft> but even MutexArc requires T: Freeze + Send
[01:45:36] <strcat> ercxx: so it looks for an old version of std and doesn't find it
[01:45:51] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Ping timeout)
[01:46:05] <ercxx> strcat: thanks for the explanation
[01:46:09] <sfackler> johnsoft: you can use unsafe_access if it's not Freeze
[01:46:41] *** Quits: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net) (Quit: carllerche)
[01:46:46] <johnsoft> it's also not Send
[01:46:51] *** Joins: hoverbear (hoverbear@moz-A4D3860E.wireless.uvic.ca)
[01:47:18] <sfackler> then you definitely can't use it in an Arc
[01:47:20] <WebeWizard> lol at compiler warnings for unecassary parentheses
[01:50:19] *** Quits: hoverbear (hoverbear@moz-A4D3860E.wireless.uvic.ca) (Quit: Taking a nap.)
[01:51:01] *** Joins: lenstr (lenstr@199F009F.9636F313.7A27613B.IP)
[01:52:15] *** Quits: lenstr (lenstr@199F009F.9636F313.7A27613B.IP) (No route to host)
[01:52:35] *** Joins: lenstr (lenstr@199F009F.9636F313.7A27613B.IP)
[01:52:40] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[01:53:16] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[01:53:38] <mcpherrin> rusti: ((((3))))
[01:53:44] -rusti- 3
[01:53:52] <strcat> rusti: if (true) {}
[01:53:53] -rusti- ()
[01:54:05] <strcat> well, that's where it warns
[01:54:08] <strcat> rusti isn't up-to-date
[01:54:33] *** Quits: lenstr (lenstr@199F009F.9636F313.7A27613B.IP) (Ping timeout)
[01:54:59] <_achin> any known issues with compiling stage1 libstd?
[01:55:08] *** Joins: Guest_ (textual@moz-5386576F.sd.sd.cox.net)
[01:55:34] <_achin> "error: unknown dbug flag: no-debug-borrows" ?
[01:55:49] <SiegeLord> Just happened to me too
[01:55:51] <sfackler> _achin: you may need to rerun ./configure?
[01:55:58] <SiegeLord> I reran make though and it fixed itself
[01:56:09] <_achin> i did a make-clean, and now i've pulled down a new stage0
[01:56:21] <_achin> maybe that'll fix it
[01:56:36] <Guest_> Question for compiler types: I'm hacking on the compiler and the builds are incredibly slow any tips for speeding them up, it seems that it is generating documentation and everything each time I run make. I read the notes on GH and configured with optimization but it still isn't very fast
[01:56:46] *** Guest_ is now known as jared
[01:56:52] *** jared is now known as jroesch
[01:57:33] <mcpherrin> yeah you probably just want to make one of the stage 1 targets
[01:59:25] <jroesch> okay `make stage1`?
[01:59:58] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Ping timeout)
[02:00:06] <mcpherrin> I forget targets and options, sorry :)
[02:00:13] <mcpherrin> you may want to just look at makefiles to figure it out...
[02:00:29] <jroesch> yeah I started doing that
[02:00:49] <jroesch> I just didn't know if is intrinsic, that will probably do thanks!
[02:01:08] <mcpherrin> just rebuilding the compiler does take a while though
[02:01:23] <mcpherrin> depends on your idea of what a "slow" build is, I guess :P
[02:01:26] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Input/output error)
[02:01:53] <_achin> gotta keep the pipeline full :)
[02:02:07] *** Parts: igork (Igor@9C577557.7893D71C.6E0EE79F.IP) ()
[02:02:09] <WebeWizard> yup, takes me a couple hours on my old laptop
[02:02:29] *** Quits: jroesch (textual@moz-5386576F.sd.sd.cox.net) (Ping timeout)
[02:02:30] <mcpherrin> a few hours is pretty slow
[02:02:35] <mcpherrin> running out of ram?
[02:02:48] <_achin> what kind of changes are you making?
[02:02:51] <WebeWizard> well, that's for compiling everything from git master branch
[02:03:12] *** Joins: Leadpumper (Mibbit@AB987656.92AC814C.B2835DFE.IP)
[02:03:23] <_achin> if you just change a few source files, it should take far less than that
[02:03:26] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[02:03:31] *** Quits: Leadpumper (Mibbit@AB987656.92AC814C.B2835DFE.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:03:46] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:05:09] <csherratt> anyone know what change would have changed '#[deriving(Zero)]' ?
[02:05:29] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:05:43] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:05:48] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[02:06:35] *** Joins: hoverbear (hoverbear@moz-A4D3860E.wireless.uvic.ca)
[02:07:01] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[02:07:28] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:08:39] <dbaupp> csherratt: some things no longer implement Zero
[02:09:06] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:09:08] *** Joins: lennart (lennart@moz-DE70D6F.stanford.edu)
[02:09:09] <csherratt> I see it is https://github.com/mozilla/rust/commit/cf56624a4ad7703c8f3fc327b8c385da0a803ea5 
[02:09:10] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:09:11] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:09:29] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[02:09:55] *** Quits: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[02:10:29] *** Joins: brendan (brendaneic@46B5412F.3597C859.3AF705F3.IP)
[02:10:53] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:10:53] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:11:02] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:12:21] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[02:12:46] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:13:59] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[02:14:27] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:14:27] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:15:56] *** Joins: Diamond (dick@moz-80556682.ks.ks.cox.net)
[02:16:02] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[02:16:52] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[02:17:13] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[02:18:40] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[02:18:50] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[02:18:57] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[02:18:57] *** ChanServ sets mode: +ao dherman dherman
[02:22:21] *** Joins: judofyr (judofyr@77444CA6.26D37221.7A561A2D.IP)
[02:24:03] *** Quits: judofyr (judofyr@77444CA6.26D37221.7A561A2D.IP) (Ping timeout)
[02:29:52] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[02:30:59] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[02:30:59] *** Quits: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com) (Ping timeout)
[02:33:27] *** Joins: twi (Adium@BC1E56B6.55F3F843.839F6EC0.IP)
[02:34:17] *** Joins: kfed (kfed@moz-E9841037.washdc.fios.verizon.net)
[02:34:46] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[02:35:22] *** Quits: hoverbear (hoverbear@moz-A4D3860E.wireless.uvic.ca) (Quit: Taking a nap.)
[02:35:22] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[02:35:29] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:35:57] <future_horizons> Path::normalize() to get rid of "." & ".." has been replaced by what in Rust 0.9?
[02:36:15] *** Joins: hoverbear (hoverbear@moz-A4D3860E.wireless.uvic.ca)
[02:36:49] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[02:37:13] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:37:14] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:37:33] <o11c> future_horizons: docs say it's automatic
[02:37:50] <future_horizons> o11c: thanks
[02:38:52] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[02:39:22] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:40:10] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[02:40:37] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[02:40:50] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:42:02] *** Joins: zeenix (zeenix@moz-B92AB3AA.range109-158.btcentralplus.com)
[02:42:33] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:42:33] *** Joins: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP)
[02:42:36] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:44:15] *** Joins: Erik_ (Erik_S@moz-E7E31D21.hlrn.qwest.net)
[02:44:18] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:44:23] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:44:37] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[02:44:44] *** Quits: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP) (Ping timeout)
[02:46:05] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:46:10] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:46:19] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[02:46:50] *** Joins: lenstr (lenstr@199F009F.9636F313.7A27613B.IP)
[02:46:58] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[02:47:40] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[02:47:56] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:48:33] *** Quits: twi (Adium@BC1E56B6.55F3F843.839F6EC0.IP) (Quit: Leaving.)
[02:48:37] *** Quits: lenstr (lenstr@199F009F.9636F313.7A27613B.IP) (Ping timeout)
[02:49:01] *** Quits: zeenix (zeenix@moz-B92AB3AA.range109-158.btcentralplus.com) (Quit: Leaving)
[02:49:24] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[02:49:34] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Quit: Leaving...)
[02:49:43] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:50:46] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[02:50:47] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[02:51:26] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:51:31] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:51:48] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[02:53:18] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[02:53:18] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:55:00] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[02:55:03] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[02:55:04] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:55:10] *** Joins: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net)
[02:55:37] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Ping timeout)
[02:56:46] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:56:52] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[02:56:53] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:58:04] *** Quits: ecl3ctic (Mibbit@578C64B6.F0F44EFA.76AE55C1.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:58:09] *** sam113101 is now known as sam113101_afk
[02:58:37] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[02:58:42] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:59:20] *** Joins: ptc (Adium@moz-70F9251D.thefacebook.com)
[03:00:09] *** Quits: brendan (brendaneic@46B5412F.3597C859.3AF705F3.IP) (Quit: brendan)
[03:00:10] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:00:19] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[03:00:26] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:02:10] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:02:13] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:02:29] *** Quits: echristo (echristo@E55635C9.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[03:02:42] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[03:03:23] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[03:03:38] *** sam113101_afk is now known as sam113101
[03:03:55] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:04:00] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:04:15] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[03:05:46] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:05:47] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:05:55] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[03:07:34] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:07:37] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:08:07] <nrc> what do I need to break on to catch failures in gdb?
[03:08:30] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[03:08:44] <dbaupp> nrc: rust_fail
[03:09:07] *** Quits: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP) (Quit: ziad)
[03:09:08] <SiegeLord> Would it be inappropriate to mention that in the failure message?
[03:09:08] <nrc> thanks dbaupp!
[03:09:09] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:09:20] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:09:38] <popinman322> How does one close a TcpStream?
[03:09:46] *** Joins: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP)
[03:09:48] <strcat> popinman322: the destructor does
[03:09:50] <SiegeLord> acrichto: I rebased https://github.com/mozilla/rust/pull/11611 as you suggested
[03:10:06] *** Quits: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP) (Quit: ziad)
[03:10:07] <popinman322> strcat: mmk, wanted to ensure it happened
[03:10:13] <popinman322> strcat: Thank you
[03:10:17] <dbaupp> popinman322: drop(stream); will run the destructor
[03:10:22] <strcat> popinman322: the destructor will ensure it happens
[03:10:24] <dbaupp> (explicitly)
[03:10:24] <nrc> SiegeLord: would get my vote
[03:10:32] <strcat> popinman322: when it goes out of scope, it is destroyed
[03:10:34] <strcat> that's a guarantee
[03:10:50] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:10:58] <strcat> the drop function is just 'fn drop<T>(_: T) {}'
[03:11:21] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:11:26] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[03:11:33] *** Joins: jarekps_ (jarekps@moz-212A0654.neoplus.adsl.tpnet.pl)
[03:11:38] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[03:11:59] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Input/output error)
[03:12:23] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[03:12:47] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:12:54] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:13:19] *** Quits: jarekps_ (jarekps@moz-212A0654.neoplus.adsl.tpnet.pl) (Ping timeout)
[03:13:19] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[03:14:06] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Ping timeout)
[03:14:37] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:14:41] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:15:15] *** Quits: jdm (jdm@moz-C07D5168.p2p.sfo1.mozilla.com) (Ping timeout)
[03:16:10] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:16:10] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[03:16:20] <kfed> if I declare and initialize a variable to a borrowed pointer, i.e.: let x = &5; then who "owns" the 5 that the variable x is "borrowing" ?
[03:16:27] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:16:48] <dbaupp> kfed: it's put into a temporary on the stack
[03:16:56] <dbaupp> like `let tmp = 5; let x = 5;`
[03:17:04] <dbaupp> I mean, &tmp
[03:17:20] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[03:17:20] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Client exited)
[03:17:32] <dbaupp> and the temporary (which owns the value) is implicit
[03:17:42] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[03:17:55] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[03:17:59] <kfed> I can put the address-of op in front of variable names?
[03:18:08] <kfed> let &x = 5; is valid?
[03:18:09] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:18:14] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:18:51] *** Joins: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com)
[03:18:53] <kfed> oh
[03:18:54] <_achin> no, that's not valid
[03:18:57] <dbaupp> yes
[03:19:00] <dbaupp> but it's a pattern match
[03:19:19] <dbaupp> rusti: let &x = &1; x
[03:19:21] <kfed> you meant: let tmp = 5; let x = &tmp;
[03:19:24] -rusti- 1
[03:19:27] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[03:19:29] <dbaupp> kfed: yes
[03:19:35] *** Joins: Denommus (user@moz-B9DBEB9C.user.veloxzone.com.br)
[03:19:45] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:19:52] <Denommus> there's a C library for which I want to create a wrapper
[03:19:59] <kfed> what the... how is let &x = &1; valid?
[03:19:59] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:20:44] *** Quits: japaric (japaric@17483874.6B340C30.BFC118EE.IP) (Ping timeout)
[03:20:45] <strcat> kfed: do you know what & does in a pattern?
[03:20:47] <Denommus> it has some types that are defined at compile time, with configure flags
[03:20:56] <strcat> the syntax for let is 'let pattern = expr;'
[03:21:20] <kfed> strcat, no, I've never seen "&" in front of a var name
[03:21:24] *** Joins: japaric (japaric@17483874.6B340C30.BFC118EE.IP)
[03:21:25] <strcat> kfed: it's a pattern
[03:21:31] <strcat> rusti: let x = 5; let y = (&x, 2); let (a, b) = y; (*a, b)
[03:21:32] -rusti- (5, 2)
[03:21:38] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:21:39] <Denommus> how do I convert these types to Rust's typesystem without previously knowing the flags used to compile the library in question?
[03:21:42] <strcat> rusti: let x = 5; let y = (&x, 2); let (&a, b) = y; (a, b)
[03:21:43] -rusti- (5, 2)
[03:21:47] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:21:54] <strcat> kfed: it's the same as in parameters and match expressions
[03:21:57] <mcpherrin> It's disappointing when rustc SEGFAULTS
[03:21:59] <strcat> destructures stuff
[03:22:00] *** Quits: popinman322 (MagiSun@moz-DB516D62.twcny.res.rr.com) (Connection reset by peer)
[03:22:06] <mcpherrin> given that half the point of Rust is to avoid such nasties
[03:22:15] <Denommus> rusti: let &x = &1; x
[03:22:16] -rusti- 1
[03:22:18] <strcat> mcpherrin: by segfault do you mean LLVM calls abort?
[03:22:33] <mcpherrin> strcat: SIGSEGV
[03:22:42] <strcat> mcpherrin: which you get from calling abort
[03:22:54] <mcpherrin> Doesn't abort SIGABRT?
[03:22:58] <strcat> mcpherrin: depends
[03:23:11] <strcat> rust's abort does SIGILL/SIGSEGV on most platforms
[03:23:27] <mcpherrin> mmkay
[03:23:31] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:23:33] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:23:40] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[03:23:42] <strcat> mcpherrin: totally possible that's not it
[03:23:46] <strcat> but that's one reason
[03:23:48] <_achin> Denommus: you'll have to inspect the header file that was generated for the c library
[03:23:55] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[03:23:57] <dbaupp> mcpherrin: can you get a backtrace?
[03:24:09] <strcat> rustilite: fn main() { unsafe { std::unstable::intrinsics::abort() } }
[03:24:11] -rustilite- application terminated abnormally with signal 4 (Illegal instruction)
[03:24:12] <dbaupp> mcpherrin: (and file a bug, preferably)
[03:24:22] <strcat> mcpherrin: librustc is basically all 'unsafe'
[03:24:29] <strcat> mcpherrin: it makes basically no attempt to build a safe LLVM binding
[03:24:30] <Denommus> _achin: so the only way to be sure is to statically link the foreign library with my wrapper?
[03:24:36] <strcat> mcpherrin: well, at least trans is unsafe ;p
[03:24:41] <mcpherrin> http://pastebin.mozilla.org/4077050
[03:24:58] <mcpherrin> I'm also doing weird stuff so I'm not really surprised things are borking
[03:24:59] <Denommus> _achin: because I can't be sure if the user will compile the library with the same compiler flags I used
[03:25:04] *** Quits: hoverbear (hoverbear@moz-A4D3860E.wireless.uvic.ca) (Quit: Taking a nap.)
[03:25:04] <strcat> mcpherrin: run it in gdb
[03:25:17] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:25:20] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:25:56] <dbaupp> mcpherrin: that file seems rather inoccuous
[03:26:10] <_achin> Denommus: i think the most fool-proof solution is, during the build of your bindings, generate the correct rust interface based on the header file of your foreign library
[03:26:17] <mcpherrin> 114         unwrap(TM)->addAnalysisPasses(*PM);
[03:26:19] <dbaupp> mcpherrin: (that said... is serial_putchar taking an C int, or a Rust int... since they can be different)
[03:26:20] <mcpherrin> TM is null
[03:26:46] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:27:07] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:27:41] <mcpherrin> dbaupp: that should actually be an i32, but it doesn't change the output
[03:27:45] <Denommus> _achin: wouldn't I need a preprocessor for that? Does Rust have one? Is there documentation for it?
[03:27:54] <dbaupp> mcpherrin: okay
[03:28:45] <_achin> i don't think rust has one.  do to this now, you'd need a seperate code-generation script/tool
[03:28:53] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:29:02] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:29:31] <Denommus> ah
[03:30:10] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[03:30:23] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:30:27] <mcpherrin> oh gosh
[03:30:35] <mcpherrin> segfault above fixed by changing the target
[03:30:43] <mcpherrin> i386-intel-linux instead of _
[03:30:44] *** Joins: niceguyneil (Mibbit@moz-FE606886.nyc.res.rr.com)
[03:31:00] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:31:00] <Denommus> _achin: well, I'm thinking about it, and even if I *did* do it on compile-time, I would still have no guarantees that the user wouldn't install the binary for the library and then my bindings compiled with the library using different compiler flags
[03:31:01] <_achin> Denommus: the problem is even worse when your library uses 25 levels of id-defs and typdefs to define the types in its public interface
[03:31:18] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[03:31:29] <future_horizons> Sorry for simplicity: error: mismatched types: expected `~str` but found `&str` - .push(path.as_str().unwrap());
[03:31:31] <Denommus> _achin: I guess the most reasonable solution is just to use the biggest type possible
[03:31:35] <_achin> and it becomes really difficutly to figure out what the interface is that you need to bind to
[03:31:36] <strcat> Denommus: rust needs built-in support for this via libclang, until then there's no good answer
[03:31:36] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[03:32:02] <Denommus> so, biggest type possible then?
[03:32:05] <_achin> hm, maybe that'll be my next project (bindings for libclang)
[03:32:13] <strcat> it's a big missing feature making it really painful to use C libs compared to in C or C++
[03:32:21] <strcat> well there's rust-bindgen
[03:32:24] <strcat> but it really needs to be built-in
[03:32:25] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[03:32:26] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:32:28] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:32:36] <strcat> generating platform/configuration-specific code in advance is no good
[03:32:36] <_achin> how does rust-bindgen work at the moment?  does it use libclang?
[03:32:46] <strcat> it sucks that for example rust's linux is support is really linux+glibc
[03:32:51] <strcat> because it hardcodes the glibc headers
[03:32:58] <strcat> _achin: yes
[03:33:15] <strcat> _achin: take it and make it part of librustc (well, you might want to rewrite it - haven't looked at the code)
[03:33:17] <strcat> so you can just do
[03:33:36] <strcat> #[header = "sqlite3.h"] extern mod sqlite3;
[03:33:40] <strcat> and call sqlite3::foo()
[03:33:47] <strcat> and it parses the header and makes stuff resolve magically
[03:33:48] <_achin> that's be sexy
[03:33:56] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:33:57] *** Joins: trecer (trecer@4D461802.AE5E2FB1.689607DE.IP)
[03:34:01] *** Quits: trecer (trecer@4D461802.AE5E2FB1.689607DE.IP) (Input/output error)
[03:34:14] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:34:15] <Denommus> that would be awesome, indeed
[03:34:22] <_achin> like, relly really sexy
[03:34:36] <SiegeLord> Considering how much I have to modify the output of rust-bindgen, I'm doubtful it'd work :P
[03:34:50] <strcat> I'm sure it can work well
[03:35:00] <strcat> bindgen hasn't had a lot of effort directed into it yet
[03:35:04] <Denommus> but even then, bindings generated with one compiler flag and the C library with other would still be a corner case. It this kind of corner-case unavoidable, though?
[03:35:05] <mcpherrin> Having it built-in would be motivation to get people work on it
[03:35:08] <strcat> if it's in librustc it will be used by *everyone*
[03:35:17] <strcat> I don't use bindgen
[03:35:23] <strcat> cause I don't want a massive file generated
[03:35:29] <_achin> one of the things that you'd like to do is add smarter types to teh FFI (enums instead of ints, for example).  bindgen can't do this in an automated fasion
[03:35:41] <strcat> I'd rather hardcode the small subset I want until rust can just read the header itself
[03:35:42] <SiegeLord> It can't be done in an automated fashion
[03:35:48] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[03:35:51] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:35:59] <strcat> SiegeLord: you still have to write the binding yourself
[03:36:00] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:36:09] <strcat> you certainly *should never* have to hardwire an ABI in rust
[03:36:14] <strcat> because it often varies per platform/configuration
[03:36:18] <dbaupp> SiegeLord: in what way do you have to modify the output of rust-bindgen?
[03:36:29] <strcat> it often changes between versions (source compatibility is common, ABI compatibility is not really)
[03:36:35] <SiegeLord> It's just not valid to transform C enums to Rust enums in general
[03:36:36] <_achin> but you're right, the ffi interface generation needs to be pushed to build-time.  it can't be static
[03:36:42] <mcpherrin> yay I just printed the letter 'A' inside qemu
[03:36:45] <strcat> SiegeLord: not 'rust enums'
[03:36:49] <mcpherrin> bare metal succcess (that was easy :O)
[03:36:53] <strcat> SiegeLord: certainly possible to convert C enum -> rust struct
[03:36:56] <_achin> mcpherrin: with rust??
[03:36:58] <strcat> with overloaded bitwise ops, etc.
[03:36:59] <mcpherrin> yeah
[03:37:01] <strcat> and predefined statics
[03:37:01] <_achin> \o/
[03:37:05] <mcpherrin> _achin: no, with a pencil ;)
[03:37:16] *** Quits: zz_kimundi (kimundi@moz-E1616236.dip0.t-ipconnect.de) (Ping timeout)
[03:37:19] <Denommus> well, the semantics for enum in Rust is really different from C's. Rust's enums are basically algebraic datatypes, in C they're just a set of possible values
[03:37:24] <_achin> well.  an 'A' with a pencil inside qemu is impressive, too!
[03:37:30] <strcat> right, but C enums generally wouldn't become rust enums
[03:37:36] <strcat> they'd become a struct with predefined constants
[03:37:41] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:37:47] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:37:47] <strcat> the wrapper library can use that to make an enum *if it's the right way to do it*
[03:37:48] <SiegeLord> dbaupp: Removing pointless structs/types
[03:38:05] <strcat> SiegeLord: proper bindgen wouldn't generate anything
[03:38:13] <mcpherrin> Now to bindgen the rest of libpayload
[03:38:14] <strcat> it would resolve stuff
[03:38:16] <_achin> sometimes you have a C API that looks like void doSomething(int action);  and action is one of 3 possible values.  this is a great use for an enum as in:  fn doSomething(enum SomeValues) -> ();
[03:38:17] <dbaupp> SiegeLord: meh, just #[allow(dead_code)] :p
[03:38:27] <mcpherrin> and then you can write coreboot payloads in Rust!
[03:38:28] <strcat> having hardcoded ABI stuff output in your source repo is awful
[03:38:41] <strcat> anyway this is the single most awful thing stopping me from using rust as my go-to language
[03:38:47] <Denommus> isn't it possible to have a type described only inside of a range?
[03:38:47] <strcat> it's easier to use C++
[03:39:02] <dbaupp> (for an example of what strcat is talking about, look at libstd/libc.rs... :( )
[03:39:09] <Denommus> I mean, only numbers from 1 to 5 would be from this type, but not higher than that
[03:39:11] <strcat> and not that libc.rs is not at all portable
[03:39:19] <strcat> we only support glibc on linux...
[03:39:26] <Denommus> then you could convert C enums into this "range" type
[03:39:27] *** Parts: ptc (Adium@moz-70F9251D.thefacebook.com) ()
[03:39:28] <mcpherrin> strcat: heh I just looked at libc.rs for the first time 
[03:39:28] <strcat> our android support has a lot of broken ABI hardcoding
[03:39:29] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:39:34] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:39:34] <mcpherrin> strcat: "not portable" is an understatement
[03:39:39] <strcat> this stuff *really* should not be in the rust source repo
[03:39:39] <Denommus> just an ignorant suggestion for someone who is starting to want to sleep
[03:39:44] <strcat> it should be autogenerated on demand
[03:39:55] <strcat> want to use another C lib? point rust at it, as you would with gcc
[03:39:57] * strcat shrugs
[03:40:06] <mcpherrin> strcat: yeah, sounds pretty reasonable :)
[03:40:11] <strcat> anyway we need to start building libclang
[03:40:16] <SiegeLord> I find it convenient not to have to install C headers :P
[03:40:23] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[03:40:28] <strcat> SiegeLord: C libraries come with headers
[03:40:35] <dbaupp> SiegeLord: you will still be able to use extern { ... } yourself
[03:40:44] <SiegeLord> I haven't installed the OpenCL headers in years, after having made OpenCL D bindings
[03:40:45] <Denommus> strcat: uh, depends on the system
[03:40:49] *** Joins: zz_kimundi (kimundi@moz-8F8F3513.dip0.t-ipconnect.de)
[03:40:51] *** Joins: lenstr (lenstr@199F009F.9636F313.7A27613B.IP)
[03:40:53] <strcat> Denommus: they come with the headers upstream
[03:40:56] <strcat> sane linux distros don't split them to make packages 1KiB smaller
[03:40:57] <strcat> not rust's problem
[03:41:03] <strcat> want an easy system for development? use one
[03:41:07] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:41:15] *** zz_kimundi is now known as kimundi
[03:41:15] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[03:41:16] <aatch> <3 ArchLinux
[03:41:19] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:41:27] <strcat> hardwiring the ABI is just nonsense and rust isn't very useful for me as long as it has to do this
[03:41:32] <Denommus> strcat: I strongly disagree. Rust should be usable in any supported system
[03:41:36] <strcat> Denommus: it will be usable
[03:41:50] <strcat> Denommus: not hardwiring ABI != not usable
[03:42:13] <Denommus> ok, hardwiring ABI is bad. I get dumber when I need to sleep
[03:42:15] <strcat> on debian, it just means you need to install the -dev package due to debian brain damage
[03:42:30] <strcat> but debian is a pain anyway cause all their packages are ancient, even in unstable ;p
[03:42:34] * strcat wouldn
[03:42:42] *** Quits: lenstr (lenstr@199F009F.9636F313.7A27613B.IP) (Ping timeout)
[03:42:43] * strcat wouldn't expect rust libs to support old lib versions anyway*
[03:42:49] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:42:58] <strcat> most libs really do not care about ABI compatibility
[03:43:05] <strcat> so it's not going to work if you hardwire the ABI
[03:43:11] <strcat> it will be hardwired for version x.y
[03:43:20] *** Joins: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP)
[03:43:26] <SiegeLord> Haven't had a problem with that in D
[03:43:28] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:43:39] <SiegeLord> You literally just make a note of which version you bound
[03:44:05] <strcat> SiegeLord: not really going to help people
[03:44:20] <strcat> if they can't be bothered to install foo-dev, they can't be bothered to realize that 1.2 broke the ABI since 1.1
[03:44:32] <strcat> and in an extremely rare edge case the ABI breakage will cause memory corruption
[03:44:41] <strcat> they'll blame rust for being broken, because hardwiring the ABI *is* broken
[03:44:54] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:45:04] <strcat> it will still build against the lib not reporting any issue
[03:45:09] <strcat> not sane
[03:45:13] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:45:25] *** Quits: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP) (Ping timeout)
[03:45:26] <strcat> perfect example: half of the android bugs
[03:45:35] <strcat> if we read the android bionic headers, we wouldn't have many issues
[03:46:09] <strcat> want rust to support an alternate C library? have fun hardwiring all the constants in std::libc
[03:46:20] <strcat> next, you have to convince the rust team to agree to support it
[03:46:36] <strcat> what if the ABI isn't hardcoded? well, it will just work.
[03:46:39] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:46:40] <SiegeLord> You're still going to have to hardwire a lot of things
[03:46:41] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:46:43] <strcat> like what?
[03:46:45] <SiegeLord> Is nothing defined with macros?
[03:46:52] <dbaupp> this sounds like it would be fairly uncontroversial...
[03:46:55] <strcat> SiegeLord: macros can be converted too
[03:46:58] <SiegeLord> How?
[03:47:09] <SiegeLord> #define BEGIN {
[03:47:11] <SiegeLord> What is that?
[03:47:16] <strcat> dbaupp: you think it'd be uncontroversial to add 4-5 C libs to std::libc that's not going to get any testing? ;p
[03:47:18] <dbaupp> best effort
[03:47:25] <strcat> SiegeLord: not a problem, clang deals with this
[03:47:30] <dbaupp> strcat: hm?
[03:47:31] <aatch> SiegeLord, hence using libclang
[03:47:31] <strcat> don't see any issue...
[03:47:36] *** Quits: a_m0d (a_m0d@moz-2F294D00.acanac.net) (Quit: Leaving.)
[03:47:45] <SiegeLord> What does it deal with?
[03:47:50] <dbaupp> (I'm saying it's uncontroversial to use libclang to bind properly, to be clear)
[03:47:54] <SiegeLord> rust-bindgen just expands the macros
[03:48:02] <strcat> SiegeLord: not talking about rust-bindgen
[03:48:14] <SiegeLord> Well, what does that BEGIN get translated to in Rust code?
[03:48:21] <strcat> SiegeLord: it doesn't need to be
[03:48:26] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:48:29] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:48:37] <SiegeLord> How do you know?
[03:48:41] <aatch> We only need the AST of the appropriate declarations, we can convert them straight into the equivalent nodes in the Rust AST
[03:48:44] <ercxx> does anybody know how to use vim's tagbar plugin with rust?
[03:48:46] <strcat> SiegeLord: because it doesn't need to be
[03:49:01] <aatch> if it was integrated into rustc that is.
[03:49:02] <SiegeLord> #define INT_MAX 123
[03:49:09] <SiegeLord> Does that need to be?
[03:49:20] <strcat> SiegeLord: sure, it happens to become an integer
[03:49:26] <strcat> SiegeLord: libclang makes this easy to deal with
[03:49:28] <strcat> it's no problem at all
[03:49:38] <strcat> this is an explored space
[03:49:44] <SiegeLord> How will it work?
[03:49:53] <SiegeLord> Will I be able to do let a = INT_MAX; ?
[03:49:54] <strcat> SiegeLord: by converting that to a static, trivially
[03:49:54] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:49:57] <strcat> SiegeLord: yes
[03:49:59] <strcat> anyway
[03:50:14] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:50:24] <strcat> libraries written with the intent of being usable from other languages don't provide things in macros or varargs (although rust does support varargs) without an alternative
[03:50:29] <strcat> they only use it as sugar
[03:50:31] <_achin> (remember that libclang has a c pre-processor)
[03:50:33] <SiegeLord> lol
[03:50:42] <SiegeLord> Let's just use only the perfect libraries
[03:50:47] <SiegeLord> And only the perfect distros
[03:50:52] <strcat> SiegeLord: did I say that?
[03:50:59] <SiegeLord> You're really implying it
[03:51:02] <strcat> no, I'm not
[03:51:04] <mcpherrin> SiegeLord: it's an order of magnitude better than what we have now
[03:51:16] *** Joins: smerft (Mibbit@moz-A891BCEF.cpe.distributel.net)
[03:51:23] <aatch> SiegeLord, the idea here isn't to perfectly replicate the C API, it's to be able to not hardwire the ABI
[03:51:28] <strcat> you're just using strawman arguments and presenting non-examples
[03:51:33] <SiegeLord> aatch: ABI can be encoded in macros too
[03:51:46] <SiegeLord> strcat: They are examples from the library I'm binding
[03:51:50] <strcat> 22:51:26          strcat | libraries written with the intent of being usable from other languages don't provide things in macros or varargs (although rust does support varargs) without an alternative
[03:51:57] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:51:58] <strcat> SiegeLord: and with crappy libraries you will have other problems
[03:52:01] <dbaupp> SiegeLord: if you are binding to a library with macros, you can just convert those that libclang can't handle by hand
[03:52:02] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:52:03] <strcat> they have global init/shutdown functions
[03:52:07] <strcat> they rely on thread-local storage
[03:52:12] <strcat> they don't map to rust sanely anyway
[03:52:22] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[03:52:37] <strcat> the important thing is making it easy to use good libraries, and avoiding silent breakage
[03:52:52] <strcat> and making it far easier to use bad libraries
[03:53:06] <strcat> no, it won't be absolutely perfect for a library with an imperfect ABI/API for FFI
[03:53:12] <strcat> but it will certainly be no worse than is now
[03:53:22] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[03:53:26] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[03:53:44] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:53:50] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:54:12] *** Joins: micohen (Michael@moz-9E1B33FF.mit.edu)
[03:54:21] <strcat> you will write '#[header = "foo.h"] extern mod foo;' and even with something horrific like the old libdbus, 95% won't need to be hardwired
[03:54:27] <_achin> when i need to break a long line into multiple lines -- any guidelines on where to make the break?
[03:54:27] <strcat> if you really want, you can ship a header yourself
[03:54:37] <strcat> you'll get silent breakage when the ABI doesn't match
[03:54:44] <strcat> but users can swap it out with an up-to-date header at least
[03:55:05] <strcat> anyway
[03:55:08] <strcat> you shouldn't ship a header
[03:55:16] <strcat> either include the library *and* the header internally
[03:55:22] <strcat> or use the system library *and* the system header
[03:55:27] <strcat> or provide the ability to do both
[03:55:29] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:55:35] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:55:36] <strcat> but please, please, please do not hardcode the ABI for a library outside of the repo
[03:56:26] <strcat> library ABIs change, and you need an error when this happens, not silent breakage for what might be edge cases
[03:56:41] <strcat> _achin: rust itself does hanging indent style
[03:56:53] <strcat> _achin: so for example, wrap after a comma
[03:57:00] <strcat> foo(bar,
[03:57:04] <strcat>     baz)
[03:57:18] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:57:20] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:57:31] <strcat> _achin: but we also use 100-column limit, instead of 78/79/80
[03:57:36] <strcat> so it's not incredibly common.
[03:58:01] <_achin> yeah, i''ve got a line that fails the 100-limit in make-check
[03:58:52] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[03:59:03] <smerft> why does println!("{}", 2 * std::rand::random()); compiles but not println!("{}", std::rand::random() * 2);?
[03:59:04] <_achin> what if i had  foo(bar, baz(biz))
[03:59:09] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:59:10] <SiegeLord> I guess I'll believe it when I see it
[03:59:32] <strcat> SiegeLord: I guess you will then, I don't see why you think it *could* be any worse than the current situation though
[03:59:34] <_achin> is foo(bar,\nbaz(biz)) acceptable? the parens don't really line-up
[03:59:50] <strcat> SiegeLord: you will still be able to hardwire the exceptions it can't cover...
[04:00:01] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Ping timeout)
[04:00:05] <strcat> you just won't have to hardwire 90% for most libs, and you won't have to hardwire *anything* for something well written like libgit2
[04:00:13] <strcat> or sqlite3
[04:00:20] <mcpherrin> we should just rewrite clang in rust
[04:00:28] <mcpherrin> add c support to rustc
[04:00:32] <dbaupp> mcpherrin: LLVM first please :P
[04:00:43] <strcat> SiegeLord: you can still include the library in your repo to avoid depending on the system but
[04:00:51] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:00:55] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:00:57] <strcat> but hardwiring the ABI for a library which you have no version check for is insane
[04:01:01] *** Quits: Denommus (user@moz-B9DBEB9C.user.veloxzone.com.br) (Quit: going to sleep)
[04:01:16] <strcat> unless it's glibc, but even then not everyone uses glibc
[04:02:03] <mcpherrin> all about the newli
[04:02:05] <mcpherrin> all about the newlib*
[04:02:08] <smerft> can someone running master check if println!("{}", std::rand::random() * 2); compiles please?
[04:02:09] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[04:02:21] <mcpherrin> the /other/ redhat sponsored c library :P
[04:02:38] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[04:02:41] <dbaupp> smerft: it doesn't
[04:02:52] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:03:03] <kfed> smerft: do println!("{}", std::rand::random::<int>() * 2);
[04:03:07] <strcat> mcpherrin: musl!
[04:03:13] <SiegeLord> I guess if it's truly implemented well, then it'd be good. I don't want automatically generated rust-bindgen output, however
[04:03:23] <strcat> SiegeLord: it won't output files
[04:03:28] <dbaupp> smerft: the reason 2 * ... compiles is: the 2 will default to `int` and then the compiler knows that the RHS is also an int (because that's what the Mul implementation of int says)
[04:03:29] <smerft> but println!("{}", 2 * std::rand::random()); compiles
[04:03:34] <SiegeLord> I'd have to suffer with random exceptions... but it'd be ok I guess
[04:03:34] <mcpherrin> strcat: musl sux, linux-only ;)
[04:03:45] <strcat> mcpherrin: that's why it's good, nice and simple/fast/light
[04:03:50] <strcat> ;p
[04:04:00] <dbaupp> smerft: ... * 2 doesn't compile because the type of LHS is unknown, and trait/operator resolution only runs on the LHS 
[04:04:09] <strcat> mcpherrin: freebsd already has a sane libc, as do netbsd/openbsd
[04:04:14] *** Joins: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP)
[04:04:14] <kfed> smerft: rust needs to be able to INFER the type of the ints you are using
[04:04:23] <strcat> mcpherrin: musl is the equivalent to those, but on linux
[04:04:27] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[04:04:29] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:04:36] <smerft> is it impossible for rustc to check the RHS too?
[04:04:39] <kfed> smerft: when the 2 is in front it assumes the default value of int literals, which is int
[04:04:39] <mcpherrin> strcat: operating systems are for pansies, write bare metal code
[04:04:39] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:04:53] <strcat> mcpherrin: then why do you need libc? you don't have existing system calls to deal with
[04:04:54] *** Quits: kvanb (kvanb@moz-48D5483D.lnse2.lon.bigpond.net.au) (Quit: kvanb)
[04:05:04] <kfed> cat - > a.out, like a real programmer
[04:05:15] <mcpherrin> strcat: it's nice not having to write everything from scratch :)
[04:05:17] <strcat> libc is a pretty terrible library beyond providing the POSIX syscalls ;p
[04:05:19] <dbaupp> smerft: there is currently no way to do that, yes
[04:05:21] <_achin> i've got a test that's failing on a clean master checkout.  is there anyway for me to ingore this test and let the rest complete?   and should i investigate this ?
[04:05:21] <strcat> mcpherrin: but what does it help you with?
[04:05:35] <strcat> mcpherrin: you've got all the terrible C string stuff, you can't store all of UTF-8 in there or arbitrary byte strings
[04:05:36] <smerft> dbaupp: ok, thanks for the great explanation
[04:05:38] <strcat> and it's slow compared to a length
[04:05:41] <strcat> that's half of libc
[04:05:41] <dbaupp> smerft: however, you can give a type hint as kfed said: std::rand::random::<int>()
[04:05:45] <strcat> + broken locale stuff
[04:05:57] <strcat> the algorithms it gives you are bsearch/qsort
[04:05:57] <mcpherrin> strcat: haha honestly I mostly want a printf implementation
[04:06:02] <strcat> which don't have a data ptr for the closure
[04:06:11] <smerft> dbaupp: yes! thanks a lot
[04:06:14] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:06:16] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:06:17] <strcat> mcpherrin: but rust could provide the formatting stuff as freestanding ;]
[04:06:47] <mcpherrin> strcat: hence my upcoming blog post on why rust is the bees knees for bare metal code ;)
[04:07:08] <strcat> mcpherrin: printf is also a PITA for non-NUL terminated strings ;p
[04:07:12] <dbaupp> strcat: it's nearly freestanding :P just need to encode some weird paths :P
[04:07:23] <strcat> since you have to pass 2 args for each
[04:07:29] <mcpherrin> strcat: for debugging, NUL terminated strings are enough :P
[04:07:42] <strcat> mcpherrin: not if none of your strings are NUL terminated :P
[04:07:45] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[04:08:02] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:08:18] <mcpherrin> :P
[04:08:29] <strcat> printf("sigh: %.*s", len(s), &s[0]);
[04:08:29] <mcpherrin> yeah, I don't really like \0strings
[04:08:32] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[04:09:03] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[04:09:08] <mcpherrin> strcat: hence #define SS(s) len(s), &s[0]
[04:09:12] <strcat> (although that's a vague cross between C and C++ as s[0] wouldn't work for a C proper string ;p)
[04:09:21] <mcpherrin> though god help me if I can remember which way my macros go :P
[04:09:38] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[04:09:51] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:09:53] <strcat> C strings are one of my biggest programming pet peeves
[04:09:56] <mcpherrin> strcat: hey waitaminute you're the one named strcat
[04:09:57] <strcat> I absolutely despise them
[04:10:14] <mcpherrin> and yet you name yourself after them :P
[04:10:19] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[04:10:22] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[04:11:00] <mcpherrin> For printf("Task %d's foo is at %x", task->id, task->foo); type things, printf is okay
[04:11:08] <_achin> should rustc be adding an rpath when linking executables?
[04:11:11] <mcpherrin> but nothing about that is relying on \0s 
[04:11:20] <strcat> mcpherrin: unless you're using it from a language where "foo" has no \0 at the end by default :)
[04:11:34] <mcpherrin> strcat: right, but then printf doesn't make sense
[04:11:35] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:11:37] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:11:38] <strcat> _achin: no, it shouldn't be, but it does
[04:11:50] <strcat> _achin: I think we'll be able to remove it now that static linking is the default
[04:11:56] <_achin> it isn't from what i'm seeing
[04:11:59] <strcat> although it needs to become the default for building libs
[04:12:01] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[04:12:08] <strcat> _achin: hm? are you using -Z prefer-dynamic?
[04:12:12] <strcat> it will use static linking by default
[04:12:30] <strcat> although only to rust libs
[04:12:35] <strcat> and not system libs
[04:12:49] <_achin> this is for building an executable that dynamically links with a .so
[04:12:51] *** Quits: derek_c (derek@moz-228299DC.cit.cornell.edu) (Quit: Leaving)
[04:13:08] <strcat> _achin: well if you want it, you should add it yourself
[04:13:11] *** Quits: Erik_ (Erik_S@moz-E7E31D21.hlrn.qwest.net) (Ping timeout)
[04:13:16] <strcat> as what it does by default will most likely go away
[04:13:19] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:13:19] *** Quits: rootnode (rootnode@moz-7FAB5E8.ip1.george24.com) (Ping timeout)
[04:13:21] <_achin> i don't know what i want.  i'm trying to figure out why this test is failing :)
[04:13:24] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:13:33] <mcpherrin> is rust-bindgen not included with rust?
[04:13:41] <strcat> mcpherrin: no
[04:13:52] <mcpherrin> I thought it got included at some point
[04:13:53] <strcat> mcpherrin: it doesn't make sense to include it as it's done atm
[04:13:56] *** Quits: ktt3ja (ktt3ja@moz-85E2770C.hsd1.va.comcast.net) (Quit: Leaving)
[04:13:57] <strcat> it wasn't
[04:13:57] <_achin> i do actually se an rpath being specified at link time, but i'm not sure why the executable can't find the dylib
[04:14:06] <strcat> mcpherrin: if it's in-tree, then it has librustc around
[04:14:10] <strcat> so it doesn't need to be separate
[04:14:19] <strcat> _achin: *shrug*
[04:14:44] <_achin> so either something is wrong wth my machine, with the test, or with rustc.  dunno which yet
[04:14:48] <strcat> I plan on removing those default rpaths ASAP...
[04:15:03] <strcat> it was blocked before by the build system's weird way of doing stuff
[04:15:07] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:15:15] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[04:15:15] <_achin> ok.  i'll hold off on investigating or filing an issue
[04:15:26] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:15:27] <strcat> well there's an issue open about removing them
[04:15:35] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[04:15:48] <dbaupp> strcat: so the build system no longer does weird stuff?
[04:16:01] <mcpherrin> note: /usr/bin/ld: cannot find -lrustrt
[04:16:02] <mcpherrin> wat
[04:16:02] <_achin> #5219?
[04:16:03] <strcat> dbaupp: it does still do horrible stuff ;p
[04:16:15] <strcat> _achin: yes
[04:16:25] <kfed> question: what's the difference between let x = 5; and let &x = &5; ? is there ever any reason to use the latter?
[04:16:51] <strcat> kfed: no, but there's a good reason to use &x in a pattern
[04:16:58] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:17:01] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[04:17:08] <strcat> there isn't a good reason to use 'let x = 5;' without context though cause it's an unused variable ;P
[04:17:17] <kfed> :)
[04:17:31] *** Joins: gverilla__ (gverilla@moz-8F71E579.versanet.de)
[04:17:45] <strcat> rusti: range(0, 3).fold(|a, b| a + b)
[04:17:51] -rusti- pastebinned 16 lines of output: http://ix.io/a4m
[04:17:56] <strcat> rusti: range(0, 3).fold(0, |a, b| a + b)
[04:17:58] -rusti- 3
[04:18:10] <strcat> rusti: let xs = [1, 2]; xs.iter().fold(0, |a, &b| a + b)
[04:18:11] -rusti- 3
[04:18:15] <strcat> kfed: there's a useful example
[04:18:18] *** Quits: gverilla_ (gverilla@moz-25D0C0DE.versanet.de) (Ping timeout)
[04:18:19] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[04:18:20] <strcat> a vaguely useful one
[04:18:24] <strcat> rusti: let xs = [1, 2]; xs.iter().fold(0, |a, b| a + *b)
[04:18:26] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[04:18:26] -rusti- 3
[04:18:27] <strcat> could also do that
[04:18:41] <strcat> (there are cases where you can't, though)
[04:18:45] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:18:51] <kfed> I'm gonna stare at those code samples for a while and see if they start making sense, thanks for the help strcat
[04:18:58] <strcat> kfed: well consider this
[04:19:01] <strcat> (1, 2) makes a tuple
[04:19:10] <strcat> let (a, b) = expr; // destructures one
[04:19:20] <strcat> the syntax means the *opposite* thing in a pattern than it does in an expression
[04:19:30] <strcat> in a pattern, it destructures
[04:19:34] <strcat> in an expression, it constructs
[04:19:54] <kfed> I'm familiar with deconstructed assignment from python...
[04:19:59] <strcat> rusti: let x = (~5, 2); let (a, b) = x; (a, b)
[04:20:00] -rusti- (~5, 2)
[04:20:02] <strcat> rusti: let x = (~5, 2); let (~a, b) = x; (a, b)
[04:20:03] -rusti- (5, 2)
[04:20:18] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[04:20:27] <strcat> rusti: let x = (~5, 2); let (~a, mut b) = x; b = 5; (a, b)
[04:20:28] -rusti- <anon>:10:35: 10:40 warning: value assigned to `b` is never read, #[warn(dead_assignment)] on by default
[04:20:28] -rusti- <anon>:10         let x = (~5, 2); let (~a, mut b) = x; b = 5; (a, b)
[04:20:28] -rusti-                                             ^~~~~
[04:20:28] -rusti- (5, 5)
[04:20:32] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:20:37] <strcat> rusti: let x = (~5, 2); let (~a, mut b) = x; b += 5; (a, b)
[04:20:37] -rusti- (5, 7)
[04:22:00] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[04:22:18] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:23:52] <kfed> let (~a, mut b) = x; transfers ownership of x to a & b, right?
[04:24:01] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:24:05] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:24:53] <dbaupp> kfed: yes, it's by-value, so ownership moves (except for types like `int` that don't move.)
[04:24:57] <kfed> rusti: let x = (~5, 2); let (~a, mut b) = x; x
[04:25:00] -rusti- pastebinned 10 lines of output: http://ix.io/a4n
[04:25:22] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[04:25:24] <_achin> ah ha!  there is a correct rpath on the executable, but not a correct rpath on the dylib
[04:25:25] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[04:25:28] <dbaupp> (in this case, the thing that's causing the movement is the first element of the tuple which is ~int)
[04:25:46] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[04:25:52] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:26:10] <kfed> rusti: let x = (~5, 2); let (~a, mut b) = x; a
[04:26:12] -rusti- pastebinned 7 lines of output: http://ix.io/a4o
[04:27:34] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:27:35] *** Quits: smerft (Mibbit@moz-A891BCEF.cpe.distributel.net) (Quit: http://www.mibbit.com ajax IRC Client)
[04:27:38] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:27:40] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[04:28:53] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[04:29:22] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:29:22] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[04:29:26] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:31:06] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[04:31:10] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[04:31:13] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:31:50] *** Quits: paulproteus (quassel@rose.makesad.us) (Ping timeout)
[04:31:53] *** Joins: paulproteus (quassel@moz-E86A3B42.makesad.us)
[04:32:07] <kfed> rusti: let x = ~5; let ~y = x; x
[04:32:08] -rusti- <anon>:10:26: 10:27 warning: unused variable: `y`, #[warn(unused_variable)] on by default
[04:32:08] -rusti- <anon>:10         let x = ~5; let ~y = x; x
[04:32:08] -rusti-                                    ^
[04:32:09] -rusti- ~5
[04:32:41] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[04:33:00] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:33:24] <kfed> rusti: let x = ~5; let ~y = x; y
[04:33:25] -rusti- 5
[04:34:35] <kfed> oh, so ownership isn't transferred, but y gets a copy what's in x's box?
[04:34:45] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:34:56] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:35:01] *** Joins: lenstr (lenstr@199F009F.9636F313.7A27613B.IP)
[04:36:13] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[04:36:34] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:36:54] *** Quits: lenstr (lenstr@199F009F.9636F313.7A27613B.IP) (Ping timeout)
[04:37:23] <dbaupp> oh
[04:37:25] *** Quits: mentero (mentero@moz-D61C6F02.proxnet.pl) (Ping timeout)
[04:37:37] <dbaupp> rusti: let x = ~~5; let ~y = x; x
[04:37:39] -rusti- pastebinned 10 lines of output: http://ix.io/a4s
[04:38:02] <dbaupp> it's a pattern-match by-value, so ownership transfers as "normal"
[04:38:15] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[04:38:22] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:38:40] <dbaupp> (so for `y: int`, the source is still useable, since int is Pod (plain old data) and so doesn't move ownership.)
[04:39:47] <kfed> does rust have a typeof() like function? where I can throw in vars and get exactly their type?
[04:40:03] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:40:07] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:40:51] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[04:41:44] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[04:41:55] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:43:40] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:43:43] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:44:50] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[04:45:26] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:45:29] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:46:26] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[04:46:27] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[04:46:53] *** Quits: niceguyneil (Mibbit@moz-FE606886.nyc.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[04:47:17] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[04:47:35] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:48:52] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[04:49:03] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:50:09] *** Joins: mcweda (Mibbit@moz-2777BD3E.hsd1.ct.comcast.net)
[04:50:46] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:50:47] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:51:57] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[04:52:31] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:52:35] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:53:56] *** Quits: vosen (vosen@moz-266BA656.icpnet.pl) (Connection reset by peer)
[04:54:16] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:54:22] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:54:54] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[04:55:17] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[04:56:07] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:56:09] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:57:16] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[04:57:53] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:57:56] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:58:57] *** Quits: new_one (new_one@AB0375ED.32E41C6F.B3C0173E.IP) (Client exited)
[04:59:11] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[04:59:38] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:59:44] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:00:27] *** Joins: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP)
[05:01:06] *** Joins: Heather (Heather@19663F6.F53BAACC.9C17E900.IP)
[05:01:10] *** Quits: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[05:01:19] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:01:21] <Heather> Just discovered that Rust is added to ohloh
[05:01:28] <Heather> good news...
[05:01:29] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:03:09] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:03:17] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:04:18] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[05:04:29] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[05:05:01] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:05:03] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:06:10] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[05:06:14] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Ping timeout)
[05:06:40] <dbaupp> Heather: yup :) ChrisMorgan did that work
[05:06:49] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:07:01] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:07:25] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[05:08:38] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:08:48] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:09:52] *** Quits: nate (pinkeh@moz-B8462C56.members.linode.com) (Quit: .)
[05:10:20] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:10:25] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:11:16] *** Quits: Kxepal (Miranda@moz-83916904.pppoe.mtu-net.ru) (Ping timeout)
[05:11:20] *** Quits: kfed (kfed@moz-E9841037.washdc.fios.verizon.net) (Client exited)
[05:12:08] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:12:11] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:13:24] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[05:13:38] *** Quits: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[05:13:52] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:13:59] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:14:12] *** Joins: ecl3ctic (Mibbit@578C64B6.F0F44EFA.76AE55C1.IP)
[05:14:27] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[05:14:45] *** Joins: Kxepal (Miranda@moz-20E4E5C2.pppoe.mtu-net.ru)
[05:14:47] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[05:15:43] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:15:46] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:17:31] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:17:32] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:17:48] *** Quits: mcweda (Mibbit@moz-2777BD3E.hsd1.ct.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[05:18:58] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:19:36] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:19:44] *** Quits: cdidd (cdidd@moz-1103A613.broadband.corbina.ru) (Ping timeout)
[05:19:59] *** Quits: canhtak (canhtak@moz-CEAFB489.wl.t.ulaval.ca) (Quit: canhtak)
[05:20:56] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:21:04] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:22:48] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:22:51] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:24:14] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Ping timeout)
[05:24:35] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:24:40] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:25:15] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[05:26:01] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Quit: Leaving)
[05:26:09] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:26:25] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:27:11] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[05:27:11] *** ChanServ sets mode: +ao dherman dherman
[05:28:02] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:28:14] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:29:04] *** Parts: Heather (Heather@19663F6.F53BAACC.9C17E900.IP) ()
[05:29:07] *** Joins: lenstr (lenstr@199F009F.9636F313.7A27613B.IP)
[05:29:56] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:30:08] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[05:30:09] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:30:55] *** Quits: lenstr (lenstr@199F009F.9636F313.7A27613B.IP) (Ping timeout)
[05:31:46] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:31:47] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:33:31] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:33:34] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:33:54] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[05:35:04] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:35:21] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:36:09] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[05:36:37] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[05:37:01] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:37:07] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:37:08] *** Joins: brson (brson@moz-D434EC03.dsl.sca.megapath.net)
[05:37:08] *** ChanServ sets mode: +ao brson brson
[05:37:11] *** Joins: pepper_chico (pepper_chi@moz-13107F6.dsl.telesp.net.br)
[05:37:44] *** Joins: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP)
[05:38:20] *** Joins: cdidd (cdidd@moz-5A257A3.broadband.corbina.ru)
[05:38:37] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:39:06] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:39:58] *** Joins: twi (Adium@BC1E56B6.55F3F843.839F6EC0.IP)
[05:40:22] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:40:41] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:41:51] *** Quits: StarLight (StarLight@moz-EC9AB971.dynamic.avangarddsl.ru) (Ping timeout)
[05:42:28] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:42:29] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:44:11] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:44:15] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:45:11] *** Joins: yshahin (uid24052@moz-A42E5B7B.irccloud.com)
[05:45:29] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[05:45:39] *** Quits: brson (brson@moz-D434EC03.dsl.sca.megapath.net) (Ping timeout)
[05:45:46] *** Joins: StarLight (StarLight@moz-61C2D517.dynamic.avangarddsl.ru)
[05:45:59] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:46:01] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:47:47] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:47:47] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:49:17] *** Joins: gkostyanikov (gkostyanik@C50603A5.2AEE264E.CA6E2165.IP)
[05:49:31] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:49:35] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:50:52] *** Quits: pepper_chico (pepper_chi@moz-13107F6.dsl.telesp.net.br) (Quit: Ex-Chat)
[05:51:19] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:51:21] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:53:04] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:53:09] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:53:39] *** Joins: echristo (echristo@moz-1892C634.hsd1.ca.comcast.net)
[05:54:00] *** Joins: Jesin (Jesin@moz-A43618DF.res.lehigh.edu)
[05:54:50] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:54:56] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[05:54:56] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:55:30] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[05:55:46] *** Joins: brson (brson@moz-D434EC03.dsl.sca.megapath.net)
[05:55:46] *** ChanServ sets mode: +ao brson brson
[05:55:53] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[05:56:38] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:56:42] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:58:03] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[05:58:14] *** Quits: echristo (echristo@moz-1892C634.hsd1.ca.comcast.net) (Ping timeout)
[05:58:27] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[05:58:30] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:58:39] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[05:58:58] *** Quits: gkostyanikov (gkostyanik@C50603A5.2AEE264E.CA6E2165.IP) (Quit: My iMac has gone to sleep. ZZZzzzâ€¦)
[06:00:07] *** Quits: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP) (Input/output error)
[06:00:11] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Ping timeout)
[06:00:11] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:00:17] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:00:23] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[06:01:06] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[06:01:56] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[06:02:04] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:02:55] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[06:03:07] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[06:03:14] <Tobba> I really wish there were bitfields
[06:03:45] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[06:03:49] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:04:07] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[06:04:19] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[06:04:29] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[06:05:30] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:05:38] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:06:01] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[06:06:18] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Quit: Textual IRC Client: www.textualapp.com)
[06:07:13] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[06:07:23] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:08:32] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[06:08:33] *** Joins: benjamin_ (benjamin@moz-3EF118D5.dip0.t-ipconnect.de)
[06:08:46] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[06:09:08] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[06:09:11] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:09:22] *** Quits: dbaupp (Thunderbir@32742E97.D5A1DCF.37681C44.IP) (Ping timeout)
[06:09:40] <ChrisMorgan> Tobba: http://static.rust-lang.org/doc/master/extra/enum_set/index.html
[06:09:57] <Tobba> hm
[06:10:00] <Tobba> I'd need to implement that
[06:10:07] <Tobba> ah well, bit the bullet for now and made the struct 64 bytes
[06:10:49] <ChrisMorgan> Tobba: what would you need to implement?
[06:10:53] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:10:57] <Tobba> enum_set
[06:11:05] <ChrisMorgan> But it's there.
[06:11:07] <Amaranth> Oh, I figured you meant struct { char foo:3; char bar:5; } style bitfields, not 1 bit per entry
[06:11:08] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:11:21] <Tobba> I meant that
[06:11:35] <Tobba> also writing a kernel, so I dont have any stdlib access
[06:11:41] <ChrisMorgan> Oh, I see.
[06:11:59] <Tobba> and now a billion moving issues from moving Rc values
[06:12:00] <Tobba> crap
[06:12:26] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[06:12:38] *** Quits: alonlevy (alon@moz-AFF00A6D.bb.netvision.net.il) (Ping timeout)
[06:12:45] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:13:40] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Input/output error)
[06:14:28] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[06:14:31] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:16:14] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:16:19] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:18:01] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[06:18:07] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:18:29] <Tobba> whee, fixed all of those
[06:18:35] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[06:18:37] <Tobba> now (in theory) it should all work
[06:18:42] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[06:19:51] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:19:53] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:20:36] <diverse> Tobba: until practicality comes biting back?
[06:20:43] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[06:20:56] <Tobba> pretty much
[06:21:04] <Tobba> I'm expecting this to fail so hard it triple faults
[06:21:27] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[06:21:34] <strcat> don't worry it'll just scribble all over your firmware
[06:21:39] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:21:53] <diverse> strcat: hehehe
[06:22:31] <Tobba> reminds me of that... toshiba CD drive I think
[06:22:41] <Tobba> the firmware update command was the same command to erase a CD-RW disk
[06:22:45] <Tobba> bricking ensued when used with linux
[06:23:23] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[06:23:47] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:23:56] *** Quits: saati (s@moz-11469F61.harmless.hu) (Ping timeout)
[06:24:12] <strcat> here's the firmware boot time my t530 reports from UEFI
[06:24:15] <strcat> 584542y 2w 2d 20h 1min 32.284s (loader)
[06:24:27] * strcat sighs
[06:24:43] <mcpherrin> strcat: nice
[06:24:52] <mcpherrin> is that -1 or something
[06:24:58] <strcat> so yeah, my boot is that 584542 year number + 2 seconds for the kernel/userspace
[06:25:00] <strcat> mcpherrin: nope
[06:25:07] <strcat> mcpherrin: it's different every time
[06:25:13] <mcpherrin> oh, so just random bits :)
[06:25:14] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:25:19] <strcat> mcpherrin: some are random, some no :)
[06:25:26] <mcpherrin> Use it to seed /dev/random!!!
[06:25:27] <Tobba> holy shit it works
[06:25:35] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:25:47] <diverse> Tobba: congrats
[06:26:01] <Tobba> even though the insertion function is such a wreck
[06:26:08] <Tobba> oh screw it I can get away with it
[06:26:13] <Tobba> (for now)
[06:26:40] *** Quits: benjamin_ (benjamin@moz-3EF118D5.dip0.t-ipconnect.de) (Connection reset by peer)
[06:26:56] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:27:01] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:27:19] *** Joins: saati (s@moz-11469F61.harmless.hu)
[06:27:48] *** Joins: benjamin_ (benjamin@moz-3EF118D5.dip0.t-ipconnect.de)
[06:28:10] *** Joins: kvanb (kvanb@moz-48D5483D.lnse2.lon.bigpond.net.au)
[06:28:41] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[06:28:49] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:30:32] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:30:34] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:31:20] <diverse> dammit this dredozubov dude keeps timing out too much
[06:32:12] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[06:32:19] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:33:37] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[06:34:07] *** Quits: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net) (Ping timeout)
[06:34:07] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:34:07] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:34:26] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[06:34:26] *** ChanServ sets mode: +ao pcwalton pcwalton
[06:34:33] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[06:35:51] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:35:53] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:35:55] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[06:37:04] *** Quits: dmac (Adium@moz-DBF6FF2C.hfc.comcastbusiness.net) (Quit: Leaving.)
[06:37:24] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[06:37:27] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[06:37:34] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:37:41] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:37:58] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[06:38:29] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[06:38:46] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[06:39:23] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[06:39:27] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:40:32] *** Quits: benjamin_ (benjamin@moz-3EF118D5.dip0.t-ipconnect.de) (Connection reset by peer)
[06:41:10] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:41:14] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:41:33] *** Joins: benjamin_ (benjamin@moz-3EF118D5.dip0.t-ipconnect.de)
[06:41:35] *** Joins: claudiu_ (claudiu@moz-CC5BBCE5.sub-166-148-92.myvzw.com)
[06:41:47] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Ping timeout)
[06:42:14] *** Quits: benjamin_ (benjamin@moz-3EF118D5.dip0.t-ipconnect.de) (Connection reset by peer)
[06:42:55] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:43:00] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:44:08] *** Joins: benjamin_ (benjamin@moz-3EF118D5.dip0.t-ipconnect.de)
[06:44:44] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[06:44:49] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:45:12] *** Quits: benjamin_ (benjamin@moz-3EF118D5.dip0.t-ipconnect.de) (Quit: Verlassend)
[06:45:45] *** Joins: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net)
[06:46:27] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[06:46:33] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:46:37] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:46:42] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[06:47:38] <brson> dredozubov: your client is disconnecting a lot and spamming the channel. can you give it a look?
[06:48:13] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[06:48:19] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:48:21] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:50:03] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:50:09] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:51:24] *** Quits: claudiu_ (claudiu@moz-CC5BBCE5.sub-166-148-92.myvzw.com) (Input/output error)
[06:51:51] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:51:55] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:53:01] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Ping timeout)
[06:53:35] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[06:53:35] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[06:53:36] *** Quits: heftig (heftig@moz-EBFD3D1F.dip0.t-ipconnect.de) (Quit: Quitting)
[06:53:36] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:53:41] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:53:44] <diverse> brson: either it's his client or his connection is total crap.
[06:53:52] *** brson sets mode: +b *!*redozubov@*.nationalcablenetworks.ru
[06:53:53] *** dredozubov was kicked by brson (your client is misbehaving. msg an op to get back in)
[06:54:39] *** Quits: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net) (Quit: zztr)
[06:55:21] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[06:58:28] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[06:59:22] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[06:59:34] *** Joins: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de)
[07:00:16] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[07:00:27] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[07:01:42] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[07:01:43] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[07:07:12] *** Joins: victorporof (victorporo@E55FB5BC.20287B6C.D111398B.IP)
[07:07:13] *** Quits: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de) (Quit: Leaving.)
[07:09:01] *** Quits: twi (Adium@BC1E56B6.55F3F843.839F6EC0.IP) (Quit: Leaving.)
[07:09:51] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[07:10:00] *** Joins: dbaupp (Thunderbir@moz-A840EB3D.lns20.syd6.internode.on.net)
[07:19:50] *** Joins: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net)
[07:20:33] *** Joins: deggert (deggert@moz-2C16B246.host.de.colt.net)
[07:23:06] *** Quits: FreeFull (freefull@moz-1C93375C.as13285.net) (Quit: )
[07:24:00] *** Joins: lenstr (lenstr@199F009F.9636F313.7A27613B.IP)
[07:25:52] *** Quits: lenstr (lenstr@199F009F.9636F313.7A27613B.IP) (Ping timeout)
[07:28:34] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[07:29:02] *** Quits: DasIch (dasich@moz-5EDA591.de) (Ping timeout)
[07:33:28] *** Joins: jarekps_ (jarekps@moz-FB1BBD59.neoplus.adsl.tpnet.pl)
[07:35:07] *** Joins: benjamin_ (benjamin@moz-3EF118D5.dip0.t-ipconnect.de)
[07:35:40] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[07:37:36] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[07:38:19] *** Joins: aravindavk (aravinda@2E5AD9B3.D8B65851.BE90E62C.IP)
[07:38:43] *** Joins: mye (mye@moz-71229462.dip0.t-ipconnect.de)
[07:39:44] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[07:39:50] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[07:43:25] *** Quits: aravindavk (aravinda@2E5AD9B3.D8B65851.BE90E62C.IP) (Ping timeout)
[07:43:54] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[07:44:53] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Ping timeout)
[07:46:36] *** Joins: Ms2ger (Ms2ger@768AD319.7BE2E8BA.187A1082.IP)
[07:46:50] *** Joins: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[07:48:01] *** Joins: sammykim (sammy.kim@5AB4884B.FCC4549.14D5B978.IP)
[07:48:16] *** Quits: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de) (Connection reset by peer)
[07:51:42] *** Joins: jdm (jdm@moz-BDD802ED.hfc.comcastbusiness.net)
[07:51:42] *** ChanServ sets mode: +o jdm
[07:51:44] *** Joins: g3xzh (g3xzh@moz-62BA794B.red.bezeqint.net)
[07:52:41] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[07:54:26] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[07:56:11] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[07:56:41] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[07:58:31] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[08:02:43] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[08:07:30] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Ping timeout)
[08:10:21] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[08:10:30] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving.)
[08:11:16] *** Joins: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP)
[08:12:03] *** flaper87|afk is now known as flaper87
[08:12:10] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[08:14:58] *** Quits: mitsuhiko (mitsuhiko-@moz-BC29B73E.srv.pocoo.org) (Ping timeout)
[08:16:09] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[08:16:44] *** Joins: mitsuhiko (mitsuhiko-@moz-BC29B73E.srv.pocoo.org)
[08:17:07] *** pmoore|away is now known as pmoore
[08:17:36] *** Quits: ercxx (ercan@moz-88DD3A7E.dyn.optonline.net) (Quit: WeeChat 0.4.2)
[08:18:24] *** Joins: lenstr (lenstr@199F009F.9636F313.7A27613B.IP)
[08:19:14] *** Joins: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP)
[08:19:25] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[08:20:07] *** Quits: lenstr (lenstr@199F009F.9636F313.7A27613B.IP) (Ping timeout)
[08:20:49] <flaper87> strcat: oh mmh, I didn't know libextra is not going to stay around
[08:20:50] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[08:21:08] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[08:21:36] *** Quits: jorendorff_away (jorendorff@moz-C5535E6C.compute-1.amazonaws.com) (Ping timeout)
[08:21:36] *** Quits: jackinloadup (jackinload@moz-E630552F.compute-1.amazonaws.com) (Ping timeout)
[08:21:36] *** Quits: future_horizons (Mibbit@D43271B6.278C2F23.97BBD552.IP) (Ping timeout)
[08:21:36] *** Quits: Seicht (seich@moz-3D9F5ED0.webfaction.com) (Ping timeout)
[08:21:49] <csherratt> What is the end goal for libextra?
[08:21:58] *** Quits: kmc (keegan@moz-2C6EE959.compute-1.amazonaws.com) (Ping timeout)
[08:22:09] <eddyb> csherratt: to be split into proper libraries
[08:22:09] *** Quits: ecl3ctic (Mibbit@578C64B6.F0F44EFA.76AE55C1.IP) (Ping timeout)
[08:22:28] *** Quits: ircloggr (nodebot@moz-218B8E8E.compute-1.amazonaws.com) (Ping timeout)
[08:22:48] *** Quits: jgraham (jgraham@moz-6C043AAD.webfaction.com) (Ping timeout)
[08:22:48] *** Joins: kmc (keegan@moz-2C6EE959.compute-1.amazonaws.com)
[08:22:49] *** ChanServ sets mode: +o kmc
[08:23:30] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[08:23:50] *** Quits: dLog (anonymous@moz-8FAE8709.eastlink.ca) (Ping timeout)
[08:24:07] *** Joins: jackinloadup (jackinload@moz-E630552F.compute-1.amazonaws.com)
[08:25:12] *** Joins: Seicht (seich@moz-3D9F5ED0.webfaction.com)
[08:25:27] *** Joins: jorendorff_away (jorendorff@moz-C5535E6C.compute-1.amazonaws.com)
[08:25:32] *** Joins: jgraham (jgraham@moz-6C043AAD.webfaction.com)
[08:25:47] <csherratt> will they be bundled as part of the rust project or just community maintained?
[08:27:30] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[08:27:37] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[08:27:38] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[08:27:55] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Quit: Leaving...)
[08:28:37] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:28:37] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:28:46] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:29:05] <brson> csherratt: most parts of extra will become officially mantained individual crates
[08:29:27] <Yurume> csherratt: maybe both, i.e. community-curated "batteries" included in the official distribution I guess
[08:29:55] *** Joins: leslie (Adium@802083C6.67DB9176.67D29DD9.IP)
[08:31:28] <Yurume> brson: hmm, are we dissolving libextra (in the sense that they won't be distributed by default) as soon as they are reorganized into multiple crates?
[08:31:48] <Yurume> #8784 has some indications but not much decisions.
[08:31:50] <Yurume> for now*
[08:32:53] *** Joins: fabiand (fabiand@moz-1104E6FD.adsl.alicedsl.de)
[08:33:41] *** Joins: gkostyanikov (gkostyanik@C50603A5.2AEE264E.CA6E2165.IP)
[08:34:41] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[08:36:47] <Zr40> hansjorg: ping
[08:39:20] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[08:41:05] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[08:41:08] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[08:41:09] *** Quits: sammykim (sammy.kim@5AB4884B.FCC4549.14D5B978.IP) (Quit: Lost terminal)
[08:42:50] <brson> cmr: i'm not sure when they started but lwn reports twir issues now http://lwn.net/Articles/581908/
[08:43:46] *** Quits: allengreen (allengreen@23EC7517.BA8F7FB5.569EBC30.IP) (Ping timeout)
[08:44:05] <brson> Yurume: step 1 is to break up libextra but leave in tree, step two is to make rustpkg more reliable, step C is to move crates out of the main repo
[08:44:14] *** Quits: trinary (Adium@moz-D78CD0D5.hsd1.co.comcast.net) (Quit: Leaving.)
[08:44:23] <brson> the intent is for lots of stuff to be available with very little effort, though possibly via remote servers
[08:44:52] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:44:54] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:45:20] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:46:56] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[08:47:11] <meTaAU> Is there a trait for primitive numbers? I want to have a generic function that AND or ORs values (and BitOr doesn't seem to be a trait I can use).
[08:47:14] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[08:47:27] *** Quits: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP) (Quit: by!)
[08:47:32] <Yurume> brson: so they won't be included in the distribution eventually but will be able to be installed with the minimal efforts?
[08:47:36] *** Joins: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP)
[08:47:43] <Yurume> meTaAU: BitAnd+BitOr.
[08:48:12] <Yurume> i.e. fn foo<T:BitAnd<T,T>+BitOr<T,T>>(x:T) { ... }
[08:48:21] <Yurume> or you can just use `Num`
[08:48:34] <Yurume> for other things.
[08:48:38] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[08:50:15] <brson> Yurume: it's not clear. some crates will definitely be part of the distribution and be installed by default, if for no other reason than rustc needs them, some probably won't be installed by default but will install on demand
[08:51:07] <meTaAU> Yurume: Thanks. Probably doing this the hard way by not using the standard lib
[08:51:14] <hansjorg> Zr40: pong
[08:51:37] *** Joins: allengreen (allengreen@23EC7517.BA8F7FB5.569EBC30.IP)
[08:51:43] <Yurume> meTaAU: oh? #[no_std] you meant?
[08:52:42] <Zr40> hansjorg: hey. I'm trying to add a project to rust-ci but I'm getting 'unauthorized' when getting the auth token
[08:53:25] <meTaAU> Yurume: Yeah.
[08:54:05] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[08:54:06] *** Joins: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com)
[08:54:42] *** Quits: jarekps_ (jarekps@moz-FB1BBD59.neoplus.adsl.tpnet.pl) (Ping timeout)
[08:55:05] <hansjorg> Zr40: think I know what's wrong. one sec
[08:55:31] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[08:55:32] *** Quits: kanru (kanru@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[08:55:39] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[08:55:49] *** Quits: jorendorff_away (jorendorff@moz-C5535E6C.compute-1.amazonaws.com) (Ping timeout)
[08:55:53] *** Quits: Seicht (seich@moz-3D9F5ED0.webfaction.com) (Ping timeout)
[08:56:39] *** Quits: jgraham (jgraham@moz-6C043AAD.webfaction.com) (Ping timeout)
[08:57:08] *** Quits: brson (brson@moz-D434EC03.dsl.sca.megapath.net) (Quit: leaving)
[08:57:16] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[08:57:28] *** Joins: jgraham (jgraham@moz-6C043AAD.webfaction.com)
[08:58:40] *** Quits: lennart (lennart@moz-DE70D6F.stanford.edu) (Ping timeout)
[08:59:12] *** Joins: Seicht (seich@moz-3D9F5ED0.webfaction.com)
[08:59:24] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[08:59:30] *** Joins: jorendorff_away (jorendorff@moz-C5535E6C.compute-1.amazonaws.com)
[09:00:06] <hansjorg> Zr40: try now
[09:00:35] *** Quits: gkostyanikov (gkostyanik@C50603A5.2AEE264E.CA6E2165.IP) (Ping timeout)
[09:00:36] <Zr40> hansjorg: seems to work now
[09:03:20] <hansjorg> Zr40: no master branch?
[09:03:21] *** Joins: Armavica (virgile@moz-AD428ED7.ens.fr)
[09:03:34] <Zr40> hansjorg: only a master branch
[09:03:46] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[09:03:46] <Zr40> err, you're right
[09:03:56] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[09:04:03] *** Joins: gkostyanikov (gkostyanik@C50603A5.2AEE264E.CA6E2165.IP)
[09:04:34] *** Joins: sankha93 (uid12218@moz-31ABA2C0.irccloud.com)
[09:04:37] *** Joins: dmacvicar (dmacvicar@moz-663A7346.nue.novell.com)
[09:09:07] *** Quits: mye (mye@moz-71229462.dip0.t-ipconnect.de) (Quit: mye)
[09:12:33] *** Quits: g3xzh (g3xzh@moz-62BA794B.red.bezeqint.net) (Client exited)
[09:14:20] *** Joins: moostik (Icedove@moz-1FF02BE5.w92-151.abo.wanadoo.fr)
[09:15:44] *** Joins: squiddy (squiddy@moz-8525E0F5.adsl.alicedsl.de)
[09:16:02] *** Quits: moostik (Icedove@moz-1FF02BE5.w92-151.abo.wanadoo.fr) (Ping timeout)
[09:18:15] *** Joins: moostik (Icedove@moz-1FF02BE5.w92-151.abo.wanadoo.fr)
[09:19:35] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[09:21:12] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[09:21:32] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[09:21:45] *** Joins: marianoguerra (marianogue@moz-C6801CB6.dip0.t-ipconnect.de)
[09:22:53] *** Quits: gkostyanikov (gkostyanik@C50603A5.2AEE264E.CA6E2165.IP) (Quit: Textual IRC Client: www.textualapp.com)
[09:24:49] *** Joins: Earnestly (earnest@moz-E86D50FA.dyn.plus.net)
[09:27:00] *** Joins: Ferreus (ferreus@moz-AF21904F.pools.arcor-ip.net)
[09:27:31] *** Joins: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP)
[09:27:48] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[09:28:09] <hansjorg> Zr40: looking good now. any category that could be added to better describe it?
[09:30:48] *** Joins: rca (rcatolino@moz-9CC22131.adsl.proxad.net)
[09:31:13] <Zr40> hansjorg: I couldn't really find anything that fits. Got any suggestions? :)
[09:34:18] *** Quits: Jesin (Jesin@moz-A43618DF.res.lehigh.edu) (Quit: Leaving)
[09:34:25] <hansjorg> Zr40: hm :) pubsub? middleware?
[09:34:45] <Zr40> hansjorg: that could work
[09:35:06] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[09:35:42] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Input/output error)
[09:35:44] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[09:36:48] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[09:39:07] *** Joins: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se)
[09:39:35] *** Joins: sigma (sigma@moz-1C81041B.range86-184.btcentralplus.com)
[09:41:05] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[09:41:14] *** Joins: jackneill (jackneill@moz-F0ACD5A0.pool.digikabel.hu)
[09:42:51] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[09:43:23] *** Joins: heftig (heftig@moz-D746319F.unitymedia.biz)
[09:45:58] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[09:47:29] *** Joins: oberstet (quassel@moz-C5E152DD.dynamic.mnet-online.de)
[09:47:43] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[09:54:33] *** Joins: ecl3ctic (Mibbit@578C64B6.F0F44EFA.76AE55C1.IP)
[09:56:30] *** pmoore is now known as pmoore|away
[09:57:45] *** Quits: sigma (sigma@moz-1C81041B.range86-184.btcentralplus.com) (Client exited)
[09:57:51] *** Joins: sigma (sigma@moz-1C81041B.range86-184.btcentralplus.com)
[09:58:42] *** pmoore|away is now known as pmoore
[10:06:13] *** Joins: patpat (patpat@71663AA2.A0E34C8E.98F3E2B5.IP)
[10:06:31] *** Quits: patpat (patpat@71663AA2.A0E34C8E.98F3E2B5.IP) (Quit: )
[10:07:20] *** Joins: andre (andre@CA528A4A.45A4338E.8EE27E6.IP)
[10:08:32] <darnuria> Hey hello! I'am a french mozillian and me and my friend would like to contribute to rust. We didn't have yet the level for contributing directly to the code however we want to make a french localisation of the Rust tutorial. Somebody is working on it currently?
[10:09:01] <Ms2ger> Not as far as I know, but I probably wouldn't know
[10:10:40] *** Joins: ChrisVest (Mibbit@moz-5B057FF0.minc.se)
[10:11:24] <diverse> darnuria: I'd say go for it
[10:15:08] <ChrisVest> Is there a portable way to set timeout values for connecting, receiving and sending data on TCP and UDP sockets?
[10:18:35] *** Joins: ricepuddin (graham@moz-2EA67949.wlan.ic.ac.uk)
[10:20:59] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[10:21:14] *** Joins: Florob (Florob@moz-39532932.de)
[10:22:08] *** Joins: kanru (kanru@moz-99690620.hinet-ip.hinet.net)
[10:22:31] *** Quits: gverilla__ (gverilla@moz-8F71E579.versanet.de) (Ping timeout)
[10:24:34] *** Joins: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk)
[10:24:40] <darnuria> diverse: Ok thanks ;) I will post on the Rust Malling list soon about it.
[10:25:54] <diverse> darnuria: sounds good
[10:26:18] *** Quits: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk) (Quit: Lost terminal)
[10:26:24] *** Joins: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk)
[10:27:18] *** Quits: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk) (Quit: Lost terminal)
[10:27:23] *** Joins: tulloch_ (tulloch@moz-BC895BC5.damtp.cam.ac.uk)
[10:27:55] <darnuria> diverse: Hum just a last thing, were are the source doc of the tutorial for rust-lang? In Rust repository?
[10:28:24] *** Quits: tulloch_ (tulloch@moz-BC895BC5.damtp.cam.ac.uk) (Quit: Lost terminal)
[10:28:42] <strcat> darnuria: yes
[10:28:46] <strcat> darnuria: in doc/
[10:28:53] <darnuria> strcat: Thanks ;)
[10:29:17] *** Quits: sigma (sigma@moz-1C81041B.range86-184.btcentralplus.com) (Client exited)
[10:31:04] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[10:31:25] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[10:33:09] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[10:34:01] *** Quits: ricepuddin (graham@moz-2EA67949.wlan.ic.ac.uk) (Ping timeout)
[10:35:19] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[10:35:38] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[10:36:47] *** Joins: eibwen (kvirc@moz-8391392.dip0.t-ipconnect.de)
[10:37:03] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[10:44:38] *** Quits: jdm (jdm@moz-BDD802ED.hfc.comcastbusiness.net) (Ping timeout)
[10:45:48] *** Quits: ecl3ctic (Mibbit@578C64B6.F0F44EFA.76AE55C1.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[10:46:14] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[10:47:12] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[10:47:57] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[10:48:36] *** Joins: bakkdoor (bakkdoor@moz-C3942EC.osnanet.de)
[10:50:06] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[10:53:32] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[10:54:03] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Quit: Leaving)
[10:55:25] *** Joins: dLog (anonymous@moz-8FAE8709.eastlink.ca)
[10:57:50] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[11:01:12] *** Quits: dLog (anonymous@moz-8FAE8709.eastlink.ca) (Ping timeout)
[11:02:07] *** Quits: bakkdoor (bakkdoor@moz-C3942EC.osnanet.de) (Ping timeout)
[11:02:56] *** Joins: bakkdoor (bakkdoor@moz-C3942EC.osnanet.de)
[11:07:27] *** Joins: ricepuddin (graham@moz-9B84B7D1.wlan.ic.ac.uk)
[11:08:13] *** Joins: vmx (vmx@moz-2B85A54B.pools.arcor-ip.net)
[11:08:46] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[11:09:18] *** Quits: rca (rcatolino@moz-9CC22131.adsl.proxad.net) (Ping timeout)
[11:09:54] *** Joins: igork (Igor@moz-7C0490C0.broadband.corbina.ru)
[11:09:54] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[11:10:27] *** Joins: vgeddes (vincent.ge@94C35001.86D4050D.FED567E8.IP)
[11:10:34] *** Joins: mye (mye@moz-71229462.dip0.t-ipconnect.de)
[11:11:47] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[11:12:34] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[11:13:35] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Input/output error)
[11:16:22] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[11:17:41] *** Joins: rca (rcatolino@moz-9CC22131.adsl.proxad.net)
[11:19:18] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[11:19:43] *** Quits: kanru (kanru@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[11:19:57] *** Joins: thiago (thiago@705535C9.9074706C.BD25C20F.IP)
[11:20:41] <pzol> I have found quite a few examples of destructuring, which I didn't find in the docs like the @ operator, is there anything else I am missing? http://pzol.github.io/getting_rusty/posts/20140122_destructuring_in_rust/
[11:20:58] *** Joins: gverilla (gverilla@moz-34765BF9.tubit.tu-berlin.de)
[11:24:38] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[11:24:52] *** Joins: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP)
[11:27:28] *** Quits: ChrisVest (Mibbit@moz-5B057FF0.minc.se) (Quit: http://www.mibbit.com ajax IRC Client)
[11:28:06] <dbaupp> pzol: maybe worth mentioning that patterns like [head, .. middle, tail] work with vectors?
[11:28:27] <pzol> dbaupp ok, will add that! thanks
[11:29:28] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[11:29:50] <eddyb> dbaupp: feels so awkward to have a space there
[11:29:55] <eddyb> like ~ x or ! x
[11:30:11] <eddyb> I've seen the latter in old rustc code, actually
[11:30:48] <dbaupp> eddyb:is[head,..middle,tail]moretoyourtaste?:P
[11:31:08] <eddyb> dbaupp: [head, ..middle, tail]
[11:31:15] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[11:31:17] <eddyb> or (head, ..middle, tail) for tuples
[11:32:10] *** Quits: benjamin_ (benjamin@moz-3EF118D5.dip0.t-ipconnect.de) (Ping timeout)
[11:33:39] *** Quits: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP) (Max SendQ exceeded)
[11:33:43] *** Joins: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP)
[11:39:26] *** Joins: Denommus (user@moz-B9DBEB9C.user.veloxzone.com.br)
[11:39:48] *** Joins: dLog (anonymous@moz-8FAE8709.eastlink.ca)
[11:39:53] *** Joins: gwty (gwtypc@C3BB3CEB.27BB4920.6BE1A500.IP)
[11:40:35] *** Joins: b1nd (b1nd@moz-C9E8EB79.lnse4.cht.bigpond.net.au)
[11:40:36] <Denommus> is it possible to take have a function with a unsafe block that takes a raw pointer from it and returns a owned pointer that points to the same address?
[11:41:02] *** Joins: alexherbo2 (alexherbo2@moz-FE8DA79A.w90-3.abo.wanadoo.fr)
[11:41:34] <strcat> Denommus: sure, you can do basically anything in unsafe
[11:41:46] <strcat> to be correct, that raw pointer needs to have been an owned ptr at one point
[11:41:52] *** Joins: nkoep (nik@moz-FB7BB46D.pool.mediaways.net)
[11:41:55] <strcat> since the owned ptr is going to destroy it
[11:42:05] <dbaupp> rusti: fn foo(x: *int) -> ~int { unsafe { std::cast::transmute(x) } } foo(0 as *int)
[11:42:07] -rusti- application terminated abnormally with signal 11 (Segmentation fault)
[11:42:19] <dbaupp> (that's what happens if you do it wrong...)
[11:42:26] <strcat> one of the things that can happen ;p
[11:42:35] <strcat> that case is undef behaviour in LLVM
[11:44:15] *** Quits: alexherbo2 (alexherbo2@moz-FE8DA79A.w90-3.abo.wanadoo.fr) (Quit: WeeChat 0.4.3-dev)
[11:44:18] <Denommus> ah, I didn't know about std::cast
[11:45:00] *** Joins: alexherbo2 (alexherbo2@moz-FC10E83F.de)
[11:45:03] *** Quits: rca (rcatolino@moz-9CC22131.adsl.proxad.net) (Ping timeout)
[11:45:04] <Denommus> I'm calling into FFI, one of the functions return a raw pointer, I just wanted to own the pointer it returns
[11:45:28] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[11:45:35] <strcat> Denommus: not correct except in rare cases to do that
[11:46:15] <Denommus> what would be the correct approach? I can't simply have a raw pointer travelling around my program
[11:46:17] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[11:46:19] <strcat> Denommus: does the API hand you ownership of a malloc'ed pointer you need to free?
[11:46:25] <strcat> Denommus: well, what does the API actually give you
[11:46:30] <strcat> what is the lifetime/ownership of it
[11:46:42] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[11:46:55] <Denommus> strcat: it is only freed if I call a specific function
[11:47:02] <strcat> hm?
[11:47:15] <kimundi> Then make a wrapper type around that pointer with a destructor
[11:47:30] <Denommus> dWorldCreate() returns my pointer, dWorldDestroy(*dWorld) destroys it
[11:47:38] <Denommus> kimundi: which is what I'm doing
[11:47:38] <strcat> Denommus: if you say it is ~T, that means it was allocated with ~init() in rust somewhere
[11:47:47] <strcat> Denommus: and rust will call the destructor of T and then call free()
[11:47:55] <strcat> well
[11:47:56] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[11:47:57] <strcat> exchange_free*
[11:48:01] <strcat> not defined as free
[11:48:05] <kimundi> Denommus: Then you'Re already doing the correct thing :)
[11:48:10] *** Quits: alexherbo2 (alexherbo2@moz-FC10E83F.de) (Quit: WeeChat 0.4.2)
[11:48:14] <strcat> Denommus: make the field private
[11:48:29] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[11:49:27] <kimundi> Denommus: Transmuting to/from ~ does only work if you start with a ~ to begin with - it's its own wrapper type around a raw pointer in a sense, that calls free() on it in its destructor
[11:49:47] <Denommus> hm
[11:49:49] <strcat> yeah but it's an internal rust allocator, not necessarily malloc/free
[11:50:00] <dbaupp> (well, not free(), calls dWorldDestroy in the destructor)
[11:50:00] <strcat> Denommus: if you have a custom dtor, you need a custom destructor
[11:50:13] <Denommus> what if I don't return a pointer, but the value it is pointing to?
[11:50:16] <strcat> Denommus: make a struct with a private field and Drop implementation
[11:50:26] <strcat> Denommus: well why is the API returning a ptr in the first case then? ;p
[11:50:39] <strcat> first place*
[11:50:57] <Denommus> probably because it is actually pointing to a C++ class. The API is just a C interface
[11:51:17] <strcat> so you can't use it by-value then
[11:51:35] <strcat> Denommus: make a struct with a private field, implement Drop for it
[11:51:41] <strcat> that's all, no need for ~
[11:51:44] *** Joins: alexherbo2 (alexherbo2@moz-FC10E83F.de)
[11:51:52] <dbaupp> struct DWorld { priv ptr: *dWorld }
[11:51:53] <dbaupp> impl DWorld { fn new() -> DWorld { DWorld { ptr: dWorldCreate() } } }
[11:51:53] <dbaupp> impl Drop for DWorld { fn drop(&mut self) { dWorldDestroy(self.ptr) } }
[11:52:04] <dbaupp> (with `unsafe` as appropriate, for the FFI calls.)
[11:52:20] <Denommus> ok, now I get it. Thanks
[11:52:40] <kimundi> The result will be a type that _behaves_ like ~T
[11:53:03] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[11:53:48] <Denommus> one last doubt: dWorld is a type from my API, how do I make Rust know about it? Just implement an private empty struct called dWorld?
[11:53:58] *** Joins: jarekps_ (jarekps@moz-FB1BBD59.neoplus.adsl.tpnet.pl)
[11:54:01] <strcat> is it an opaque type?
[11:54:20] <strcat> or does it have a C ABI size
[11:54:47] <strcat> enum dWorld {} is how you would do an opaque type
[11:54:48] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[11:55:39] *** Quits: jarekps_ (jarekps@moz-FB1BBD59.neoplus.adsl.tpnet.pl) (Ping timeout)
[11:57:14] <Denommus> I guess it is opaque
[11:58:47] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[11:58:50] *** Joins: a_m0d (a_m0d@moz-2F294D00.acanac.net)
[12:01:40] *** Joins: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se)
[12:03:03] *** Quits: gverilla (gverilla@moz-34765BF9.tubit.tu-berlin.de) (Ping timeout)
[12:05:13] *** Quits: moostik (Icedove@moz-1FF02BE5.w92-151.abo.wanadoo.fr) (Ping timeout)
[12:07:53] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[12:09:06] *** Joins: rca (rcatolino@moz-9CC22131.adsl.proxad.net)
[12:11:28] *** Joins: gverilla (gverilla@moz-34765BF9.tubit.tu-berlin.de)
[12:16:42] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[12:17:26] *** Quits: igork (Igor@moz-7C0490C0.broadband.corbina.ru) (Quit: Leaving.)
[12:17:38] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[12:18:07] *** Joins: alonlevy (alon@moz-2F877D0E.red.bezeqint.net)
[12:18:47] *** Joins: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net)
[12:18:51] *** Quits: StarLight (StarLight@moz-61C2D517.dynamic.avangarddsl.ru) (Ping timeout)
[12:19:11] *** Quits: mye (mye@moz-71229462.dip0.t-ipconnect.de) (Quit: mye)
[12:21:23] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[12:21:56] *** Joins: StarLight (StarLight@moz-8291C7E5.pppoe.avangarddsl.ru)
[12:22:36] *** Joins: mye (mye@moz-71229462.dip0.t-ipconnect.de)
[12:23:38] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[12:24:14] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[12:25:19] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[12:26:25] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[12:27:58] *** pmoore is now known as pmoore|lunch
[12:29:38] *** Quits: Earnestly (earnest@moz-E86D50FA.dyn.plus.net) (Ping timeout)
[12:32:37] *** Quits: a_m0d (a_m0d@moz-2F294D00.acanac.net) (Quit: Leaving.)
[12:34:41] *** Quits: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se) (Input/output error)
[12:34:49] *** Quits: nfroidure (nfroidure@moz-5B08EA47.w90-18.abo.wanadoo.fr) (Quit: Ex-Chat)
[12:34:51] *** Quits: ricepuddin (graham@moz-9B84B7D1.wlan.ic.ac.uk) (Ping timeout)
[12:34:51] *** Joins: a_m0d (a_m0d@moz-2F294D00.acanac.net)
[12:36:00] *** Quits: Denommus (user@moz-B9DBEB9C.user.veloxzone.com.br) (Ping timeout)
[12:37:29] *** Joins: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se)
[12:37:39] *** Quits: a_m0d (a_m0d@moz-2F294D00.acanac.net) (Quit: Leaving.)
[12:38:03] *** Joins: a_m0d (a_m0d@moz-2F294D00.acanac.net)
[12:39:38] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[12:43:46] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[12:44:36] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[12:44:41] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[12:45:01] *** Quits: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se) (Connection reset by peer)
[12:45:02] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[12:45:18] *** Joins: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se)
[12:46:38] <Zr40> returning within a lambda isn't special in any way, right?
[12:46:42] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[12:46:57] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[12:47:21] <eddyb> Zr40: nope
[12:48:44] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[12:49:17] *** Quits: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se) (Input/output error)
[12:50:52] *** Joins: gverilla_ (gverilla@moz-34765BF9.tubit.tu-berlin.de)
[12:51:36] *** Joins: zeenix (zeenix@moz-B92AB3AA.range109-158.btcentralplus.com)
[12:52:38] *** Quits: bakkdoor (bakkdoor@moz-C3942EC.osnanet.de) (Quit: Leaving...)
[12:54:43] *** Quits: leslie (Adium@802083C6.67DB9176.67D29DD9.IP) (Quit: Leaving.)
[12:55:07] <pepijndevos> Is rust stable enough these days that it is okay to use a release? instead of git
[12:56:01] *** Quits: gverilla_ (gverilla@moz-34765BF9.tubit.tu-berlin.de) (Ping timeout)
[12:56:12] *** Quits: gverilla (gverilla@moz-34765BF9.tubit.tu-berlin.de) (Ping timeout)
[12:57:00] <Zr40> depends on what stability means to you
[12:59:09] <Zr40> using 0.9 instead of tracking git master means you'll have to adjust to the breaking changes at the next release instead of as they happen
[12:59:20] <pepijndevos> good enough for playing around without missing important features
[13:00:24] <pepijndevos> Is there any example of how to use std::os::MemoryMap?
[13:02:27] *** Joins: gverilla (gverilla@moz-34765BF9.tubit.tu-berlin.de)
[13:03:48] *** Quits: b1nd (b1nd@moz-C9E8EB79.lnse4.cht.bigpond.net.au) (Quit: Leaving)
[13:04:35] <Ms2ger> pepijndevos, releases are just snapshots, they don't offer anything over master except that we'll tell you to update if you have issues :)
[13:05:09] <gverilla> i think i misunderstand the docs on str!
[13:05:21] <pepijndevos> right, so it'll be 5 minutes before I'm told to build from git...
[13:05:31] <gverilla> "&str is the same as &[u8]"(http://static.rust-lang.org/doc/0.9/std/str/index.html) seems to clash with my error
[13:05:43] <gverilla> my error: http://pastebin.mozilla.org/4080160
[13:07:08] <gverilla> what am i missing?
[13:08:05] <pnkfelix> gverilla: that's just talking about the underlying representation
[13:08:21] <pnkfelix> gverilla: its not a statement that you can apply the `as` operator
[13:09:42] <pnkfelix> gverilla: there are methods for getting at the underlying buffer, e.g. the `as_bytes` method
[13:09:54] <hansjorg> pepijndevos: there are nightly builds for arch, ubuntu and Windows (I think)
[13:10:42] <pnkfelix> gverilla: http://static.rust-lang.org/doc/0.9/std/str/trait.StrSlice.html#tymethod.as_bytes
[13:11:17] <gverilla> pnkfelix, i see! thanks
[13:11:27] <pepijndevos> ok this is really stupid. how do I get the length of a vector? specifically os::args
[13:12:03] <pnkfelix> pepijndevos: len() method
[13:13:09] <pepijndevos> ok. how was I supposed to find that? so I can help myself next time
[13:13:29] <pnkfelix> pepijndevos: well, it comes from the Container impl 
[13:13:36] *** Quits: kvanb (kvanb@moz-48D5483D.lnse2.lon.bigpond.net.au) (Quit: kvanb)
[13:13:47] *** Joins: benjamin_ (benjamin@moz-3EF118D5.dip0.t-ipconnect.de)
[13:14:04] *** Joins: Earnestly (earnest@moz-E86D50FA.dyn.plus.net)
[13:14:10] <pnkfelix> pepijndevos: I know that doesn't answer your Q, give me a sec here ...
[13:15:05] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[13:15:13] <pnkfelix> pepijndevos: (I think the doc tool's handling of primitive types is supposed to be changing, so it could be that this weakness in the docs will be fixed in the near future)
[13:15:22] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[13:16:14] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[13:17:49] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[13:19:04] <dbaupp> (fwiw, acrichto's current PR doesn't handle vectors yet.)
[13:19:12] *** Joins: nfroidure (nfroidure@moz-5B08EA47.w90-18.abo.wanadoo.fr)
[13:19:34] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[13:19:58] <pnkfelix> dbaupp: yeah I was just looking over your feedback on #11409
[13:21:44] *** Joins: canhtak (canhtak@moz-CEAFB489.wl.t.ulaval.ca)
[13:24:33] *** Quits: Kxepal (Miranda@moz-20E4E5C2.pppoe.mtu-net.ru) (Quit: Kxepal)
[13:24:48] *** Joins: Kxepal (Miranda@moz-20E4E5C2.pppoe.mtu-net.ru)
[13:24:56] *** Quits: Blub\0 (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[13:25:31] *** Joins: Denommus (user@58916C3F.8C78557B.B9657DD5.IP)
[13:25:58] *** Quits: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP) (Ping timeout)
[13:27:12] *** Joins: Blub\0 (wry@620605B3.71150E1A.237AE2BA.IP)
[13:27:57] <Denommus> if I have a function in C like this: foo(int* bar), and when I call it like foo(baz), "baz" will point to an array, how do I call this function in Rust?
[13:28:17] <pnkfelix> pepijndevos: so yeah, it looks like our current answer to your question ("how do I know what functions I can call on vectors") is the unsatisfying: "Look at the following ~12 traits"
[13:28:24] <strcat> Denommus: how does it know where the end of the array is?
[13:28:32] <strcat> do you pass a length too?
[13:28:40] <pepijndevos> ok
[13:28:41] <strcat> a slice is a ptr and a len
[13:28:43] <strcat> can do
[13:28:47] <strcat> foo(slice.as_ptr(), slice.len())
[13:29:14] <Denommus> strcat: no, it expects a constant length
[13:29:31] <strcat> well, same thing, as_ptr on slices/vectors returns a ptr
[13:30:05] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[13:30:17] *** Joins: moostik (Icedove@5A22E6A1.10715965.BCDF592F.IP)
[13:30:46] *** Joins: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se)
[13:31:38] <Denommus> thanks
[13:31:48] <Denommus> my bindings are really working, yay
[13:32:18] *** Quits: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se) (Input/output error)
[13:32:32] *** Joins: blAckEn3d (blAckEn3d@moz-6E18770E.dip0.t-ipconnect.de)
[13:32:33] <pepijndevos> how do I get the file dasctiptor of a file?
[13:32:36] *** Joins: twi (Adium@moz-63700E0E.pa.vic.optusnet.com.au)
[13:32:51] *** Joins: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se)
[13:34:00] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[13:34:35] *** Quits: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se) (Ping timeout)
[13:35:45] *** Quits: Denommus (user@58916C3F.8C78557B.B9657DD5.IP) (Quit: ERC Version 5.3 (IRC client for Emacs))
[13:37:31] *** Quits: gverilla (gverilla@moz-34765BF9.tubit.tu-berlin.de) (Ping timeout)
[13:37:41] *** pmoore|lunch is now known as pmoore
[13:39:58] *** Parts: zeenix (zeenix@moz-B92AB3AA.range109-158.btcentralplus.com) (Leaving)
[13:40:25] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[13:40:25] *** Joins: Palmik (palmik@moz-DEC2AB.pks.muni.cz)
[13:43:03] *** Quits: mye (mye@moz-71229462.dip0.t-ipconnect.de) (Quit: mye)
[13:45:03] *** Quits: blAckEn3d (blAckEn3d@moz-6E18770E.dip0.t-ipconnect.de) (Quit: Computer has gone to sleep.)
[13:45:09] *** Joins: gverilla (gverilla@moz-34765BF9.tubit.tu-berlin.de)
[13:45:25] *** Joins: blAckEn3d (blAckEn3d@moz-6E18770E.dip0.t-ipconnect.de)
[13:46:31] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[13:47:07] *** Quits: blAckEn3d (blAckEn3d@moz-6E18770E.dip0.t-ipconnect.de) (Ping timeout)
[13:47:25] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[13:49:06] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[13:49:46] <Zr40> pepijndevos: looks like the fd isn't exposed
[13:49:52] <pepijndevos> error: mismatched types: expected `*i8` but found `~str` (expected *-ptr but found ~str)
[13:50:09] <pepijndevos> Zr40 I found libc
[13:51:11] <pepijndevos> but it wants a C string or something...
[13:51:12] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[13:51:42] *** Quits: gwty (gwtypc@C3BB3CEB.27BB4920.6BE1A500.IP) (Ping timeout)
[13:53:10] <eddyb> pepijndevos: search the docs for CString/with_c_str
[13:53:16] *** Joins: sedman (sedman@E4D2F0A.47298EC7.57E8EAD3.IP)
[13:54:04] *** Quits: avsej (avsej@D9A610B8.4841F515.FB33447D.IP) (Client exited)
[13:54:38] <pepijndevos> nice
[13:58:44] *** Quits: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[14:00:34] <pepijndevos> error: unresolved name `os::MemoryMap`. I did use std::os;
[14:01:11] *** Quits: canhtak (canhtak@moz-CEAFB489.wl.t.ulaval.ca) (Quit: canhtak)
[14:01:26] *** Quits: vgeddes (vincent.ge@94C35001.86D4050D.FED567E8.IP) (Ping timeout)
[14:01:52] <kimundi> pepijndevos: where did you write us std::os; and where are you trying to write os::MemoryMap?
[14:02:18] <pepijndevos> top of the file, main fn
[14:03:16] <kimundi> hm, can you gist it?
[14:05:09] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[14:05:25] <pepijndevos> kimundi https://www.refheap.com/26760
[14:06:27] *** Quits: dbaupp (Thunderbir@moz-A840EB3D.lns20.syd6.internode.on.net) (Ping timeout)
[14:06:56] <kimundi> pepijndevos: Ah, the problem is that you probably want os::MemoryMap::new, not os::MemoryMap.new
[14:07:09] <pepijndevos> ... ok
[14:07:17] <pepijndevos> difference?
[14:07:21] <Ms2ger> Yes
[14:07:27] <kimundi> As you currently have, rustc looks for a _value_ with the name MemoryMap, to call a method on it
[14:07:59] <Ms2ger> Oh wow, a wild persona
[14:08:24] <pepijndevos> ah. works!
[14:08:28] <kimundi> While with MemoryMap::new(), it looks for a type or module with name MemoryMap to call a static function in it
[14:09:12] *** Quits: gverilla (gverilla@moz-34765BF9.tubit.tu-berlin.de) (Ping timeout)
[14:09:15] *** Quits: thiago (thiago@705535C9.9074706C.BD25C20F.IP) (Client exited)
[14:09:32] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[14:10:35] *** Quits: deggert (deggert@moz-2C16B246.host.de.colt.net) (Ping timeout)
[14:11:38] *** bstriecoin is now known as bstrie_cheersquad
[14:11:58] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[14:12:49] <pepijndevos> does rust have something like http://docs.python.org/3.3/library/bisect.html ?
[14:13:48] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[14:15:44] *** Joins: canhtak (canhtak@moz-CEAFB489.wl.t.ulaval.ca)
[14:16:19] *** Joins: AvianFlu (AvianFlu@moz-81CFC0CB.dyn.optonline.net)
[14:16:42] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[14:17:13] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[14:17:28] <pepijndevos> and something like strchr, so I can slice data to separate lines.
[14:17:57] <eddyb> pepijndevos: vectors/strings in Rust are all sliceable
[14:18:15] <eddyb> pepijndevos: see the helper traits in std::str for all the available methods
[14:22:18] <pepijndevos> this looks good http://static.rust-lang.org/doc/0.9/std/str/struct.CharSplitIterator.html but how do I use it?
[14:23:06] <Ms2ger> split returns it
[14:23:18] <Ms2ger> So "foo".split(sep)
[14:23:51] <strcat> pepijndevos: it returns an iterator over the slices
[14:23:52] <pepijndevos> ahhh
[14:23:57] <strcat> so that way it doesn't allocate anything
[14:24:07] <kimundi> rusti: "a;b;c;dsdfsdfs;ee".split(';')
[14:24:09] -rusti- std::str::CharSplitIterator<,char>{string: "a;b;c;dsdfsdfs;ee", sep: ';', allow_trailing_empty: true, only_ascii: true, finished: false}
[14:24:15] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[14:24:37] *** Joins: nszceta (quassel@moz-E458A7C0.pharm.pitt.edu)
[14:24:37] <pepijndevos> again, no Idea how I could have figured out on my own
[14:25:00] <eddyb> pepijndevos: I told you to look at the traits. one of them has the split method
[14:25:22] <eddyb> rusti: rusti: "a;b;c;dsdfsdfs;ee".split(';').to_owned_vec()
[14:25:24] <eddyb> err
[14:25:25] -rusti- pastebinned 6 lines of output: http://ix.io/a4J
[14:25:30] <eddyb> rusti: "a;b;c;dsdfsdfs;ee".split(';').to_owned_vec()
[14:25:32] -rusti- ~["a", "b", "c", "dsdfsdfs", "ee"]
[14:27:19] <pepijndevos> nice. no copying there either?
[14:27:30] <Ms2ger> Just the copy into the vector
[14:27:52] <strcat> pepijndevos: if you use to_owned_vec, it consumes the iterator to allocate a vector
[14:28:01] <strcat> you don't have to, can iterate over it with `for`
[14:28:05] <eddyb> but the individual slices are still just pointers
[14:28:17] <strcat> pepijndevos: slices are a (ptr, len) view so it doesn't allocate
[14:28:21] <Ms2ger> rusti: for c in "a;b;c;dsdfsdfs;ee".split(';') { println!("{}", c); }
[14:28:22] <pepijndevos> sweet
[14:28:25] -rusti- pastebinned 6 lines of output: http://ix.io/a4K
[14:28:27] <Ms2ger> Bah
[14:28:37] <Ms2ger> Oh, just long
[14:28:44] <Ms2ger> rusti: for c in "dsdfsdfs;ee".split(';') { println!("{}", c); }
[14:28:45] -rusti- dsdfsdfs
[14:28:45] -rusti- ee
[14:28:45] -rusti- ()
[14:28:52] <strcat> yeah, like that, no allocation
[14:30:05] *** Joins: jiripospisil (jiripospis@moz-C7F3E8F1.broadband17.iol.cz)
[14:30:55] *** Quits: sedman (sedman@E4D2F0A.47298EC7.57E8EAD3.IP) (Ping timeout)
[14:31:49] *** Joins: elux (peter@B6F21F4B.1F20BC31.2170E5F.IP)
[14:36:47] *** Joins: igork (Igor@moz-7C0490C0.broadband.corbina.ru)
[14:36:51] <pepijndevos> what is a *mut u8 and what can I do with it?
[14:37:18] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[14:37:25] <Ms2ger> You can pass it to a C function that takes uint_8*
[14:37:37] <cmr> pepijndevos: it's a mutable raw pointer to a u8. you can dereference it and set the value on the other side of it.
[14:38:14] <pepijndevos> can i also make a string from it?
[14:38:33] <kimundi> Only if it points at the beginning of a null terminated c string
[14:39:02] <kimundi> Look at the CString type
[14:39:14] <pepijndevos> it points to a file http://static.rust-lang.org/doc/master/std/os/struct.MemoryMap.html
[14:40:26] <kimundi> If you have a pointer to the beginning, a exact length, and know _for sure_ that it contains valid utf8, you could in theory create a string slice to the data
[14:42:22] <pepijndevos> What if i did CString::new(mmap.data, false).as_str()
[14:42:51] *** Quits: yuriks (yuriks@54B2E07B.1611DED.F6EE4B40.IP) (Ping timeout)
[14:43:01] *** Joins: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se)
[14:43:19] <pepijndevos> that string slice plan sounds good. but for sure sounds unsafe
[14:44:10] <kimundi> pepijndevos: Its identical to what CString new does, except CString expect null termination
[14:44:20] *** Joins: rootnode (rootnode@moz-7FAB5E8.ip1.george24.com)
[14:44:47] *** Joins: ricepuddin (graham@moz-63BB5049.wlan.ic.ac.uk)
[14:45:35] <pepijndevos> ok, how is it done?
[14:46:08] <kimundi> pepijndevos: basically, you are able to turn the MemoryMap into a &[u8] and then into a &str without a hitch, but if the memory the memory map points at gets modified during the lifetime of the program, weird stuff can happen
[14:46:20] *** Joins: mye (mye@moz-71229462.dip0.t-ipconnect.de)
[14:46:27] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[14:46:31] <pepijndevos> I realize
[14:46:51] <pepijndevos> how do I do the conversions?
[14:47:33] <kimundi> So, you basically want to look into the vec module for functions or methods that take a raw pointer *T and length, and return you a &[T]. Then you put in the pointer and length of the MemoryMap
[14:47:39] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[14:48:40] <kimundi> From there, its simply str::from_utf8(v)
[14:49:04] <pepijndevos> http://static.rust-lang.org/doc/master/std/vec/fn.from_buf.html ?
[14:49:20] <kimundi> well, that allocates
[14:49:25] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[14:49:39] <kimundi> If you're fine with copying the content of the MemoryMap, that would work
[14:49:57] <kimundi> But then you don't need the MemoryMap to begin with ;)
[14:50:37] *** Quits: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP) (Quit: Lost terminal)
[14:50:57] <kimundi> http://static.rust-lang.org/doc/master/std/vec/raw/fn.buf_as_slice.html
[14:52:03] <pepijndevos> ah
[14:52:05] <kimundi> Is what you need for this - but I'm really not sure if I should be telling you that, as I don'T know if exposing a safe interface for a MemoryMap is possible. :|
[14:52:24] *** Quits: ricepuddin (graham@moz-63BB5049.wlan.ic.ac.uk) (Ping timeout)
[14:52:28] * kimundi waits for someone to tell him what is wrong with this approach
[14:52:31] <pepijndevos> hah
[14:53:14] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[14:53:35] *** Quits: twi (Adium@moz-63700E0E.pa.vic.optusnet.com.au) (Ping timeout)
[14:53:37] *** jorendorff_away is now known as jorendorff
[14:53:38] <kimundi> pepijndevos: Working under the assumption that it is safe, the best approach would be to write a MemoryMappedString wrapper that contains a MemoryMap and has methods for getting a slice from it
[14:53:59] <pepijndevos> hmm
[14:54:25] <kimundi> The slice you'd return would then need to have the lifetime of the wrapper, which ensures its only valid as long as it and its internal MemoryMap is
[14:54:38] <pepijndevos> I see
[14:56:10] <pepijndevos> what is f: |v: &[T]| -> U
[14:56:13] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[14:56:15] *** Joins: gwty (gwtypc@C3BB3CEB.27BB4920.6BE1A500.IP)
[14:56:18] <kimundi> A closure
[14:56:20] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[14:57:19] <kimundi> The intention here is that buf_as_Slice calls that closure with a slice, which ensures the slice is only alive for the duration of the buf_as_slice call
[14:57:46] <kimundi> FOr implementing this memorymapped string/vector type, you'd let the slice intentionally escape from there
[14:58:02] <pepijndevos> ah. so I need to create a string in there
[14:59:23] <kimundi> struct MMStr { priv m: MemoryMap } impl<'a> MMStr { fn as_slice(&'a self) -> &'a str { vec::raw::buf_as_slice(self.m.data, self.m.len, |slice| { cast::transmute(str::from_utf8(slice).unwrap()) }) } }
[14:59:31] <kimundi> Something like that
[14:59:43] *** Joins: Gedeon_ (Mibbit@moz-CFB96525.cnrs-imn.fr)
[14:59:44] *** Quits: AvianFlu (AvianFlu@moz-81CFC0CB.dyn.optonline.net) (Input/output error)
[15:00:05] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[15:01:06] <Gedeon_> Hi guys, I've seen that there's been a lot of work going on about SIMD support. I just wanted to make sure that you knew this exists: http://ispc.github.io/
[15:01:16] <pepijndevos> https://www.refheap.com/26766
[15:01:52] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[15:02:21] <kimundi> pepijndevos: ah, type mismatch. use mut_buf_as_slice instead
[15:02:21] <pepijndevos> http://static.rust-lang.org/doc/master/std/vec/raw/fn.mut_buf_as_slice.html
[15:02:51] <pepijndevos> what about the int?
[15:03:49] <kimundi> pepijndevos: Good question - neither MemoryMap not mut_buf use u64
[15:03:59] <kimundi> What is the code around that?
[15:04:12] <cmr> Gedeon_: cool, thanks!
[15:04:27] <pepijndevos> https://www.refheap.com/26767
[15:05:09] *** Joins: gverilla (gverilla@moz-34765BF9.tubit.tu-berlin.de)
[15:05:13] *** Joins: blAckEn3d (blAckEn3d@moz-6E18770E.dip0.t-ipconnect.de)
[15:05:35] <kimundi> I have no idea where a u64 is comming from there - are you running current master of Rust?
[15:05:47] *** Quits: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se) (Ping timeout)
[15:06:08] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[15:06:27] <pepijndevos> no, 0.9, which has size_t
[15:06:37] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[15:06:38] <kimundi> ah, that explains it :P
[15:06:45] <kimundi> add a cast
[15:07:09] <kimundi> mmap.len as uint or mmap.len as size_T, which ever way round makes the compiler happy
[15:07:51] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[15:07:58] *** Joins: timebomb (timebomb@C02A9EF7.66F23214.8DF0DF46.IP)
[15:08:11] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[15:08:17] <Gedeon_> cmr : you're welcome. As you can see, this is open sourced, published on github and using LLVM. 
[15:08:21] <pepijndevos>  level0.rs:18:97: 18:98 error: cannot infer an appropriate lifetime for automatic coercion due to conflicting requirements
[15:09:07] *** Joins: new_one (new_one@57C8A601.D0485D2E.B3C0173E.IP)
[15:09:12] <pepijndevos> this is about letting v escape?
[15:11:01] <kimundi> probably, yeah
[15:11:03] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[15:11:05] <kimundi> paste your code again
[15:11:07] <timebomb> yo, does anyone have any good suggestions of how to use the osx message dispatcher in a better manner. ie. how to create better bindings for obj_msgSend
[15:11:30] *** Parts: gverilla (gverilla@moz-34765BF9.tubit.tu-berlin.de) (Leaving)
[15:11:38] *** Joins: gverilla (gverilla@moz-34765BF9.tubit.tu-berlin.de)
[15:11:51] <eddyb> timebomb: you can mimic Obj-C syntax with macros
[15:12:26] <pepijndevos> kimundi https://www.refheap.com/26767
[15:12:45] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[15:12:50] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[15:12:59] <timebomb> eddyb: in that case i wouldn't need to create bindings for all libraries?
[15:13:11] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[15:13:29] *** Joins: DasIch (dasich@moz-5EDA591.de)
[15:13:30] <eddyb> timebomb: I was thinking you wanted to go through obj_msgSend anyways
[15:14:25] <timebomb> eddyb: correct. it was just a question. if the answer is yes it obviously sounds like a great thing
[15:14:52] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[15:16:52] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[15:17:15] *** Joins: dave1629 (dave@58706268.1CA5FEA3.DDE5D3F6.IP)
[15:19:46] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[15:20:11] <kimundi> pepijndevos: Ah, you didn't put the transmute and unwrap in
[15:20:59] <kimundi> Right now "str::from_utf8(v)" returns a Option<&'a str>, with 'a just being valid for the duration of the |v| { ... } closure call
[15:22:09] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[15:22:14] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[15:22:15] <kimundi> unwrap() gets you the bare &'a str, and transmute allows you to cast it to a &'b str with a wider lifetime - but only if you annotate the target location with the right type
[15:23:16] <kimundi> thats why I said to wrap it in a wrapper type, or else the lifetime management becomes even messier because you have to manually specify what would otherwise get infered
[15:23:33] *** Quits: canhtak (canhtak@moz-CEAFB489.wl.t.ulaval.ca) (Quit: canhtak)
[15:24:24] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[15:25:25] <kimundi> fn mmap_to_str<'a>(mmap: &'a MemoryMap) -> Option<&'a str> { unsafe {vec::raw::mut_buf_as_slice(mmap.data, mmap.len as uint, |v| { cast::transmute(str::from_utf8(v) })) } }
[15:27:10] <NiccosSystem> What does &' mean?
[15:27:18] <Ms2ger> 'a is a lifetime
[15:27:47] *** Joins: rca_ (rcatolino@moz-5E0A44D2.adsl.proxad.net)
[15:27:52] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Quit: ëžœë¤ì€ ì‡ í‡´í–ˆìŠµë‹ˆë‹¤.)
[15:27:53] *** Joins: ricepuddin (graham@moz-A4FA4B74.wlan.ic.ac.uk)
[15:27:57] <Ms2ger> So &'a T is a pointer to a T that has lifetime 'a
[15:28:19] *** Joins: canhtak (canhtak@moz-CEAFB489.wl.t.ulaval.ca)
[15:28:28] <NiccosSystem> What kind of pointer is &?
[15:29:06] *** Quits: gverilla (gverilla@moz-34765BF9.tubit.tu-berlin.de) (Ping timeout)
[15:29:14] *** Quits: rca (rcatolino@moz-9CC22131.adsl.proxad.net) (Ping timeout)
[15:29:16] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[15:29:41] <Ms2ger> It's a pointer to something you don't own
[15:30:23] <kimundi> & and &mut are references - they express access to something without owning that value
[15:30:42] <NiccosSystem> Are they like C++ references?
[15:31:05] <kimundi> At runtime, they are like bare c-like pointers, but the compiler ensures they are used in a memory safe way at runtime - no dangling pointers or use after free etc
[15:31:22] <kimundi> ensures at compiletime*
[15:31:33] <strcat> NiccosSystem: sort of, in that they're non-nullable, but they are first-class objects
[15:31:41] <strcat> can store &/&mut in a container, etc.
[15:31:57] <NiccosSystem> Ah
[15:32:02] *** jorendorff is now known as jorendorff_away
[15:32:04] <kimundi> (Also, C++ reference can be null if you jump through a few hoops)
[15:32:22] <Ms2ger> kimundi, so can & :)
[15:32:28] <strcat> NiccosSystem: in some ways rust is more like C than C++, like that and also the lack of move/copy constructors (assignment/passing is always equivalent to what C does)
[15:32:36] <NiccosSystem> And I am sorry for coming off as a noob. Coming from Java, and only done minimal C++ (Began reading my C++11 book again though)
[15:32:48] <Ms2ger> Everyone is new at some point :)
[15:32:59] <NiccosSystem> Wish I hadn't begun with Java..
[15:33:01] *** Joins: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com)
[15:33:23] <diverse> NiccosSystem: with Rust, there is a lot of unlearning you have to do because of Java.
[15:33:28] <kimundi> Ms2ger: Eh, I guess that is true - I'd argue that the C++ compiler doesn't catch those hoops and treads them as legal C++ code, but that is like arguing that you can shot yourself in a foot with a weapon that you can point at it freely :P
[15:33:38] <NiccosSystem> Aye
[15:33:48] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[15:33:48] <diverse> So I empathize with you.
[15:33:54] <NiccosSystem> Thanks :P
[15:33:58] <strcat> kimundi: well C++ references are not really any easier to nullify than rust &
[15:34:06] <strcat> but they trivially become dangling
[15:34:27] <strcat> and iterator invalidation is an issue in C++, not really one in rust
[15:34:35] <kimundi> Might be, never used them - just repeating what has been said about them in a Rust context :)
[15:34:53] <Ms2ger> Anyway :)
[15:34:54] <strcat> as you can't invalidate the iterator of an owned container or an immutable container
[15:35:09] <strcat> and with a shared ownership + mutable one, it wouldn't be a memory safety issue
[15:35:10] *** Joins: dangets (dangets@moz-E9E4A77B.cpe.cableone.net)
[15:35:42] *** Joins: Florob (Florob@moz-39532932.de)
[15:35:53] <NiccosSystem> So, what do lifetimes do
[15:36:23] <strcat> NiccosSystem: &/&mut and slices have lifetimes, rust won't let them live past what they point at
[15:36:23] <tiffany> strcat: I've found it's quite easy to nullify C++ &s today
[15:36:29] <_achin> NiccosSystem: have you read http://static.rust-lang.org/doc/master/guide-lifetimes.html ?
[15:36:44] <NiccosSystem> Nope, thanks for the link
[15:36:46] <strcat> NiccosSystem: the inference is local so in a function API it has to be part of the signature
[15:36:52] <tiffany> I had an odd segfault which turned out to be caused by taking *a_unique_ptr as a reference
[15:37:05] <strcat> like fn foo<'a>(&'a T) -> &'a U { ... }
[15:37:12] <kimundi> NiccosSystem: Basically, lifetimes are the scope during which a value is valid. For example in fn foo() { let x = 5;  }, x would have a lifetime that is only valid for the duration of the function call foo()
[15:37:19] <strcat> so for the caller, that means the return value has the lifetime of what they pass in
[15:37:21] *** Joins: yuriks (yuriks@CD8313C8.88B480FC.748B6D8D.IP)
[15:37:31] <strcat> and rust will verify it in the callee
[15:37:37] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[15:37:46] <strcat> (rust doesn't believe in global type inference, to keep errors simple)
[15:37:59] <strcat> and so you can split stuff into crates as-needed
[15:39:03] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[15:39:12] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[15:39:14] *** Quits: Palmik (palmik@moz-DEC2AB.pks.muni.cz) (Quit: Lost terminal)
[15:39:22] *** Quits: yuriks (yuriks@CD8313C8.88B480FC.748B6D8D.IP) (Ping timeout)
[15:39:23] *** Joins: jdm (jdm@moz-BDD802ED.hfc.comcastbusiness.net)
[15:39:23] *** ChanServ sets mode: +o jdm
[15:39:30] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[15:42:05] *** Quits: jiripospisil (jiripospis@moz-C7F3E8F1.broadband17.iol.cz) (Quit: Leaving)
[15:42:41] *** Quits: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP) (Quit: Leaving)
[15:42:56] *** Joins: bynaryshef (bynaryshef@295ED4D.54F2CF59.1C814B46.IP)
[15:43:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[15:44:07] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Client exited)
[15:45:08] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[15:45:15] *** Joins: nical (Nicolas@87C1F78E.1DE10CA8.D8E68FF6.IP)
[15:45:56] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[15:46:18] <diverse> strcat: doesn't the T and U also need to be defined like: fn foo<T, U, 'a> ?
[15:46:33] <strcat> diverse: well they aren't necessarily generic
[15:46:51] <eddyb> just placeholders
[15:47:03] <strcat> rusti: struct T; struct U; fn foo<'a>(x: &'a T) -> &'a U { fail!() }
[15:47:06] -rusti- pastebinned 13 lines of output: http://ix.io/a4N
[15:47:21] *** Joins: yuriks (yuriks@1BBAC4FD.185DEF97.F6EE4B40.IP)
[15:47:34] <diverse> gotcha
[15:47:39] *** Quits: moostik (Icedove@5A22E6A1.10715965.BCDF592F.IP) (Ping timeout)
[15:48:01] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[15:48:06] *** Joins: moostik (Icedove@5A22E6A1.10715965.BCDF592F.IP)
[15:48:23] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[15:49:43] *** Joins: bakkdoor (bakkdoor@moz-C3942EC.osnanet.de)
[15:49:48] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[15:49:49] <pepijndevos> kimundi, ah thanks. so the str now has the same lifetime as the mmap?
[15:49:50] *** pmoore is now known as pmoore|brb
[15:50:09] <kimundi> pepijndevos: yeah, thats the intention
[15:51:12] *** Joins: khyperia (khyperia@moz-AF00B41A.hsd1.in.comcast.net)
[15:52:11] <diverse> strcat: btw, is ~str going to move to libstd like with ~[T]?
[15:52:31] <kimundi> diverse: At the very least, yeah
[15:52:35] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[15:52:36] <strcat> diverse: yes, but ~[T] and ~str *may* become owned string slices (no capacity)
[15:52:41] <khyperia> hello, everyone, I'm trying to wrap my head around traits and such - coming from a Haskell background, are traits typeclasses, `impl`s are `instance`s, and structs/enums are `data` declarations?
[15:53:20] <kimundi> With DST, str can just become struct str { priv data: [u8] }
[15:53:30] <strcat> khyperia: yes, although traits can also be used as objects rather than bounds on generics
[15:53:32] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[15:53:35] <kimundi> khyperia: yes
[15:53:39] <khyperia> Right, thanks!
[15:53:40] *** Joins: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se)
[15:53:48] *** Joins: Florob (Florob@moz-39532932.de)
[15:54:42] *** Quits: igork (Igor@moz-7C0490C0.broadband.corbina.ru) (Ping timeout)
[15:54:58] <diverse> So with DST, no need for capacity for vectors or strings?
[15:55:01] *** pmoore|brb is now known as pmoore
[15:56:12] <kimundi> diverse: With DST, ~[T] and ~str will not have a capacity to simplify things - instead there will be Vec<T> as a wrapper type for growable vectors, and StringBuilder or so as a wrapper for growable strings
[15:56:21] *** Quits: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se) (Ping timeout)
[15:56:44] <strcat> kimundi: or just not ~[T] and ~str ;p
[15:56:47] <kimundi> You can go from one to the other without allocating, so using them interchanagbly is easy
[15:56:54] <strcat> DST is *needed* for traits but not necessarily vectors
[15:57:00] <strcat> as you can instead implement them as library types
[15:57:07] <kimundi> strcat: Or that, yeah :P
[15:57:13] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[15:57:22] <strcat> RcSlice<T> and GcSlice<T> for those rare use cases
[15:57:22] *** Quits: moostik (Icedove@5A22E6A1.10715965.BCDF592F.IP) (Ping timeout)
[15:57:26] <eddyb> kimundi: ~str is a bad StringBuilder :P
[15:57:31] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:57:33] <strcat> Vec<T>, &[T]/&mut [T] and [T, ..n]
[15:57:35] <bstrie_cheersquad> is everyone happy with the most recent dst proposal?
[15:57:43] <kimundi> eddyb: Its the same as ~[u8]
[15:57:52] <kimundi> bstrie_cheersquad: I am
[15:57:55] <eddyb> kimundi: you want zero reallocations if possible
[15:58:10] <kimundi> eddyb: So reserve a capacity beforehand
[15:58:50] <eddyb> kimundi: I have a format! implementation that doesn't reallocate
[15:59:03] <eddyb> it can be used for general-purpose string building
[15:59:17] <whitequark> eddyb: oh, interesting, are you going to merge it upstream?
[15:59:33] *** Quits: ricepuddin (graham@moz-A4FA4B74.wlan.ic.ac.uk) (Ping timeout)
[15:59:53] <eddyb> whitequark: only if I manage to get it to optimize down to malloc+memcpy *without* running the optimization passes twice
[16:00:00] <kimundi> eddyb: So? Thats just another way of saying "I calculated the size in advance" :P
[16:00:07] <eddyb> (that means I have to fix either rustc or LLVM. most likely the latter)
[16:00:24] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Input/output error)
[16:00:50] <eddyb> kimundi: so what do you do if you have to include a number in there, base 10?
[16:00:51] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[16:01:07] <kimundi> eddyb: What does that have to do with growable vectors?
[16:01:25] <eddyb> kimundi: don't name a growable string StringBuilder :P
[16:01:38] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Client exited)
[16:01:49] <kimundi> If the name is bad, then fine :P
[16:02:06] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[16:02:14] <whitequark> eddyb: interesting, can I take a look?
[16:02:38] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[16:02:59] <eddyb> whitequark: I have a simplified version for testing, but I don't think I've gisted it yet, gimmie a minute
[16:03:03] *** Quits: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP) (Quit: leaving)
[16:03:11] <pepijndevos> kimundi Bus error: 10
[16:03:16] <whitequark> eddyb: or maybe just at unoptimized IR
[16:03:39] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[16:03:39] *** ChanServ sets mode: +ao dherman dherman
[16:03:53] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[16:04:05] *** Joins: espindola (espindola@moz-9F530B29.com)
[16:04:12] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Ping timeout)
[16:04:14] <eddyb> whitequark: the IR issue is tricky. a trait method call gets devirtualized but not inlined, with -O3
[16:04:23] <kimundi> eddyb: So, what _would_ you call a StringBuilder? 
[16:04:27] <diverse> strcat: so you can actually make Traits by themselves as objects with DST?
[16:04:27] *** Joins: thiago (thiago@705535C9.9074706C.BD25C20F.IP)
[16:04:28] *** Quits: khyperia (khyperia@moz-AF00B41A.hsd1.in.comcast.net) (Quit: WeeChat 0.4.1)
[16:04:40] <eddyb> diverse: you can put them in smart pointers
[16:04:43] <strcat> diverse: well you already can, ~Trait, &Trait, &mut Trait
[16:04:50] <diverse> ah, right
[16:04:56] <eddyb> diverse: RWArc<Trait> and Rc<RefCell<Trait>> should both be possible
[16:04:59] <strcat> diverse: DST means you can do Rc<Trait>, Gc<Trait>, OtherPtr<Trait>
[16:05:13] <eddyb> kimundi: something that lets you build a string as efficient as technically possible :P
[16:05:16] <diverse> very cool
[16:05:47] <kimundi> eddyb: Define "build". Especiialy the "build with what" and "end result type" parts :P
[16:06:33] <eddyb> kimundi: ropes are cool, but it says String on the can
[16:06:44] *** Quits: squiddy (squiddy@moz-8525E0F5.adsl.alicedsl.de) (Input/output error)
[16:07:25] <kimundi> ~str is a growable string - the most efficient way to use it to assemble string fragments is to have a bunch of &str, add all their sizes, and create a empty ~str with that capacity. What would a better StringBuilder do differently?
[16:08:25] <kimundi> If you say "don't use ~str" thats fine - its not what I was talking about though.
[16:08:40] <eddyb> kimundi: how would you iterate over all the &str?
[16:09:03] <bvssvni> kimundi: StringBuilder should be fast even with concatenating happening over time.
[16:09:04] <eddyb> whitequark: this is the (properly optimized) code it generates https://gist.github.com/eddyb/08c1f1a9646616b1bf52#file-format-ll-L168-L192
[16:11:02] *** Joins: moostik (Icedove@5A22E6A1.10715965.BCDF592F.IP)
[16:11:19] <kimundi> eddyb: Either by passing in a &[&str], or by passing in a Iterator<&str> that can be cloned for example.
[16:11:20] <eddyb> whitequark: and this is the rust code https://gist.github.com/eddyb/08c1f1a9646616b1bf52#file-format-rs
[16:12:06] <eddyb> kimundi: the former involves heap allocation when the number of substrings is not known at compile-time
[16:12:27] <whitequark> eddyb: (HACK) you could perhaps use unreachable intrinsic
[16:12:39] <whitequark> otherwise, looks nice, I'll read it in detail later
[16:12:44] <SiegeLord> I'm having a brainfart... how do you go from &[] to ~[]?
[16:12:55] <eddyb> whitequark: unreachable use fail internally AFAIK
[16:13:00] <Ms2ger> SiegeLord, by copying
[16:13:00] <whitequark> eddyb: no
[16:13:04] <timebomb> eddyb: hmm the macro syntax looks interesting. but when you say i can mimic obj-c syntax, do you mean i can actually make something like [test foo:test withBar:test2] turn into objc_msgSend("foo:withBar:", test, test2) or do you mean i can create something that is functionally equivalent?
[16:13:14] <SiegeLord> Ms2ger: I'm looking for a function/method name
[16:13:18] <whitequark> eddyb: it lowers to an LLVM instruction unreachable
[16:13:21] *** Joins: khyperia (khyperia@moz-AF00B41A.hsd1.in.comcast.net)
[16:13:21] <kimundi> eddyb: Indeed it does, unless we get alloca, or unless you absue the function call stack as a 8MB buffer and do recursive calls :P
[16:13:32] *** Quits: moostik (Icedove@5A22E6A1.10715965.BCDF592F.IP) (Client exited)
[16:13:38] <kimundi> (Which, I think is what you're doing)
[16:13:42] <Ms2ger> SiegeLord, to_owned?
[16:13:45] <eddyb> timebomb: you can, if you wrap the objc syntax in a wrapper
[16:13:47] <whitequark> there's an option of lowering it further to an abort call, but normally in release builds LLVM is going to assume it's truly unreachable
[16:13:56] <eddyb> kimundi: except look at the compact code it can generate
[16:13:59] <SiegeLord> Aha... I was doing to_owned_vec
[16:14:05] <whitequark> and simply not generate any code for all that path
[16:14:05] <SiegeLord> Thankye
[16:14:14] <eddyb> rusti: unreachable!()
[16:14:18] -rusti- pastebinned 10 lines of output: http://ix.io/9RZ
[16:14:27] <strcat> eddyb: he's not talking about that
[16:14:43] <whitequark> eddyb: I'm talking about the unreachable intrinsic. not sure what the macro does.
[16:14:55] <eddyb> whitequark: we have such an intrinsic?
[16:15:29] <eddyb> I didn't actually check, but abort is there in case I screw things up. it's really low cost
[16:15:39] <whitequark> hm
[16:16:11] <eddyb> (and gets optimized out)
[16:16:14] <Tobba> llvm doesnt actually put out int3 instructions on unreachable sections when optimization is on
[16:16:21] <whitequark> abort() lowers to llvm.trap(), which should be equivalent
[16:16:24] <Tobba> which is annoying at best
[16:16:28] <whitequark> so, disregard what I said
[16:16:34] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[16:16:38] <eddyb> it's almost equivalent
[16:16:41] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[16:16:45] <Tobba> specially when the section is reachable and the compiler is being a tard
[16:16:48] <Tobba> read: clang being clang
[16:16:48] <eddyb> llvm.trap() lowers to undefined instructions
[16:17:25] <strcat> eddyb: not undefined
[16:17:25] <Florob> Wasn't unreachable ususally ud2 on x86?
[16:17:25] <whitequark> hm. http://llvm.org/docs/LangRef.html#llvm-trap-intrinsic "This intrinsic is lowered to the target dependent trap instruction."
[16:17:35] <strcat> eddyb: it's well defined as exiting the program
[16:17:37] <whitequark> perhaps rust actually should have an "unreachable" intrinsic
[16:17:44] <whitequark> strcat: what do you think?
[16:17:46] <strcat> yes
[16:17:46] <kimundi> eddyb: I can't read IR - and I have still no idea what you're trying to tell me.
[16:17:48] <eddyb> strcat: hmpf, what's UD called then?
[16:17:48] <timebomb> eddyb: what kind of wrapper are we talking about? rust-cocoa already has wrappers. the result is used in rust-alert https://github.com/mozilla-servo/rust-alert/blob/master/macos.rs theyre just extremely ugly. you mean i take those wrappers and write a macro around them?
[16:17:54] <Tobba> llvm does support an unreachable thing
[16:17:59] <Tobba> which is absolutely terrible
[16:18:03] <Tobba> and only affects the optimizer
[16:18:09] *** jorendorff_away is now known as jorendorff
[16:18:14] <eddyb> kimundi: in most cases it's actually very cheap to use the stack
[16:18:19] <whitequark> yes: http://llvm.org/docs/LangRef.html#unreachable-instruction
[16:18:21] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[16:18:23] <whitequark> that's the point of it
[16:18:35] <kimundi> eddyb: Sure it is, its preallocated after all
[16:18:42] <kimundi> eddyb: It just has a fixed upper bound
[16:18:45] <strcat> Tobba: it's a terminator instruction which is really useful
[16:18:56] <strcat> makes building IR easier
[16:19:12] <Tobba> it only lowers to trap instructions with optimizations off though
[16:19:21] <eddyb> timebomb: I mean wrapper as in macro wrapper. objc!([foo bar:baz])
[16:19:23] <Tobba> which is really goddamn annoying and I havent figured out a way to stop that yet
[16:19:35] <eddyb> Tobba: llvm.trap()
[16:19:37] <Tobba> specially as clang likes to put unreachables in perfectly reachable code if you mess up your returns
[16:19:45] <eddyb> not just unreachable
[16:19:50] <timebomb> eddyb: ah okay. thank you
[16:20:09] <strcat> Tobba: it's undefined behaviour per the C standard in that case ;p
[16:20:16] *** Joins: sellout (Adium@moz-968E9A09.hsd1.co.comcast.net)
[16:20:16] <Tobba> well yeah
[16:20:22] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[16:20:24] <Tobba> its undefined behaviour that the compiler just goes batshit insane on
[16:20:27] <Tobba> (they call it a feature tho)
[16:20:34] <strcat> Tobba: you can turn on sanitizers if you don't want undef behaviour
[16:20:43] *** Quits: Gedeon_ (Mibbit@moz-CFB96525.cnrs-imn.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[16:20:45] <whitequark> undefined behavior in C is the world's biggest exercise of responsibility shifting :p
[16:20:49] <eddyb> kimundi: if I'm concatenating a constant number of constant &str, there's 0 stack usage. for each number, 64 bytes. the call stack barely gets used unless it's dynamic, but it's still very cheap
[16:20:50] <Tobba> best you can do is actually -Werror for that
[16:20:59] <Tobba> which is terrible if you're writing C++
[16:21:10] <strcat> why?
[16:21:17] <bvssvni> whitequard: :)
[16:21:21] <Tobba> if you're using templates at least
[16:21:25] <Tobba> there will be warnings
[16:21:36] <Tobba> no question about it
[16:21:40] <strcat> Tobba: that's not true
[16:21:47] <Ms2ger> Not in my experience
[16:21:49] *** Quits: fabiand (fabiand@moz-1104E6FD.adsl.alicedsl.de) (Quit: Verlassend)
[16:21:52] <Tobba> try using variadic templates
[16:22:00] <strcat> why would there be warnings?
[16:22:04] <Ms2ger> No thanks :)
[16:22:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[16:22:07] <eddyb> (now, try using them right)
[16:22:16] <Tobba> cast warnings from templates generally
[16:22:35] <kimundi> eddyb: So you're arguing that your approach optimizes well in the static case? Cause that is a special case that I was not talking about, though maybe should have. :P
[16:23:10] <SiegeLord> Is it possible to get this to work: https://gist.github.com/SiegeLord/8581553#file-vector-rs-L57-L64 ? I'm getting odd lifetime errors
[16:23:25] <Tobba> my C++ kernel had like what
[16:23:30] <Tobba> ~4 terminals worth of warnings
[16:23:35] <Tobba> which were all basicaly unfixable
[16:23:37] <kimundi> eddyb: Just so we're on the same side: All your telling me is that your approach leverages the stack to calculate the combined size of slices beforehand, and that it also happens to optimize well in the static case, right?
[16:23:50] <Tobba> other than disabling those warnings all over which didnt even work properly
[16:24:29] <eddyb> kimundi: yes. but it generally only uses the stack for things like numbers that are converted to strings in [u8, ..64] buffers
[16:24:48] <strcat> Tobba: can disable warnings for a specific scope too
[16:24:52] <eddyb> kimundi: and it doesn't do more work than it needs to, to create the slices
[16:24:56] <khyperia> What editors do people in here use? (What's the editor with the most features? What editor is "best"? Insert other opinionated questions here etc.) Trying to find a good one, https://github.com/mozilla/rust/wiki/Doc-packages,-editors,-and-other-tools has too many for me to try all of them
[16:24:57] <bvssvni> SiegeLord: have you tried moving the lifetime constraint to the add function?
[16:25:11] <eddyb> kimundi: I should actually test it for something like an Option<~str> and see how good I can get it. but I gotta run now
[16:25:19] <strcat> Tobba: http://clang.llvm.org/docs/UsersManual.html#controlling-code-generation
[16:25:23] <Ms2ger> khyperia, vim!
[16:25:30] <Tobba> eugh
[16:25:34] <strcat> Tobba: there's -fsanitize=return ;p
[16:25:37] <SiegeLord> bvssvni: The issue is the return of the add method. It has to be, as far as I can tell, the same thing as written in the type bound
[16:25:39] <kimundi> eddyb: Sure, just wanted to understand what your talking about. :)
[16:25:46] <diverse> khyperia: use the editor you are most comfortable with
[16:25:47] <Tobba> clang is kinda bad in the undefined behaviour department
[16:25:51] <eddyb> kimundi: magic
[16:25:53] <strcat> Tobba: how so?
[16:25:55] <Tobba> pre 3.5
[16:25:59] <Tobba> if you used a null literal
[16:26:03] <Tobba> the optimizer could fail
[16:26:07] <Tobba> worst bug
[16:26:13] <kimundi> eddyb: Wrong answer :P
[16:26:20] <strcat> Tobba: what do you mean used a null literal?
[16:26:27] <SiegeLord> bvssvni: In particular, it has to use the lifetime declared in the impl type bound :/
[16:26:30] <Tobba> if you did something like
[16:26:31] *** Quits: timebomb (timebomb@C02A9EF7.66F23214.8DF0DF46.IP) (Ping timeout)
[16:26:33] <Tobba> (something*)0
[16:26:35] <eddyb> kimundi: any sufficiently advanced.... you can finish the quote without me :P
[16:26:36] <khyperia> I'm not sure what that is, diverse. Vim is a little foreign to me, I'm used to Visual Studio.
[16:26:46] <Tobba> there could be an integer overflow somewhere, cant remember the details
[16:26:53] <strcat> huh?
[16:26:55] <eddyb> khyperia: then you'd like sublime, maybe
[16:27:10] <khyperia> I use sublime for Haskell dev, I guess I'll try that
[16:27:24] <kimundi> Any sufficiently advanced compiler optimization will turn your code into magic?
[16:27:36] <kimundi> ;)
[16:27:49] <diverse> khyperia: like I said
[16:27:51] <eddyb> cmr: ^ quote of the week, maybe?
[16:28:10] <Tobba> llvm is funny in general actually
[16:28:11] <eddyb> maybe I'm saying maybe too much. rly leaving now
[16:28:18] <Tobba> it has all these complex optimizations but the code gen still goes full retard at times
[16:28:28] <diverse> eddyb: have a good one
[16:28:32] <strcat> Tobba: it doesn't really have many complex optimization passes :)
[16:28:36] <strcat> it is still pretty simple
[16:28:38] <bvssvni> SiegeLord: generic traits are tricky sometimes
[16:28:58] <strcat> sroa is what people like to point at as the most complicated yet it's like 4k lines of code
[16:29:01] <Tobba> also protip: vectorization passes + lack of SSE = fatal codegen meltdown
[16:29:02] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[16:29:05] <strcat> gcc has far more passes, and they're far more complex
[16:29:24] <strcat> Tobba: it won't generate vector ops if the target doesn't support them
[16:29:26] <Tobba> they're also on by default on -O2 now I think, so eugh
[16:29:31] <Tobba> it wont generate them
[16:29:35] <Tobba> but the code it generates is uh
[16:29:35] <strcat> IR isn't platform independent
[16:29:49] <Tobba> lets just say its probably wasting 90% of the time it spends in that section
[16:30:45] <strcat> afaik it's not going to change the code if the target doesn't support vector ops
[16:30:51] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[16:31:11] <Tobba> it does some stuff in the IR to make it good for vector ops afaik
[16:31:23] <Tobba> if they're not supported the generated code is less than optimal
[16:31:37] <kimundi> News of 2015: "While the clang compiler becoming self-aware was a shock to everyone, no one expected it to immediately open the gates to hell and declaring itself Demonlord and master of all arcane forces."
[16:31:40] *** Quits: heftig (heftig@moz-D746319F.unitymedia.biz) (Quit: Quitting)
[16:31:49] <bvssvni> SiegeLord: for real projects I try to avoid generics, because it adds another level of complexity.
[16:32:05] <Tobba> hah
[16:32:11] <SiegeLord> bvssvni: Kind of hard to avoid them when you're trying to implement expression templates :P
[16:32:14] *** pmoore is now known as pmoore|dinner
[16:32:31] <Tobba> it then trips on completely pointless multi-Âµop alignment instructions
[16:32:40] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[16:32:40] <Tobba> why it generates those I have no clue
[16:33:03] *** Quits: alonlevy (alon@moz-2F877D0E.red.bezeqint.net) (Ping timeout)
[16:33:33] <strcat> Tobba: what do you mean trips on?
[16:33:37] <bvssvni> SiegeLord: one way is to split the data structure by types, and use enums in the cases you need to emulate 'var' types.
[16:33:41] <strcat> it will align code
[16:33:57] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[16:33:58] <Tobba> I didnt really mean it like that
[16:34:07] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[16:34:12] <Tobba> but I still havent figured out why it does all the alignments
[16:34:19] *** vfetwnuncszu is now known as dcrewi
[16:34:26] <Tobba> i've seen it do 15 byte alignment instructions that would consume like 9-Âµops
[16:34:32] <SiegeLord> bvssvni: Expression templates tends to imply an infinite number of possible types :/
[16:34:52] <bvssvni> SiegeLord: and then one ends up reinventing Rust :)
[16:34:56] <SiegeLord> (a + b * c) is a different type from ( a * b + c)
[16:35:25] <strcat> haskell + rewrite rules is a whole lot saner than that stuff ;p
[16:35:39] <SiegeLord> That's good for haskell :P
[16:35:46] <strcat> rust doesn't have an effects system so it wouldn't really work for it
[16:35:48] <bvssvni> SiegeLord: ah, non monoid algebra
[16:36:17] <bvssvni> SiegeLord: are you attempting to make scalar multiplication work with vectors?
[16:36:20] <bjz> strcat: somebody was asking on #idris whether Rust had effects
[16:36:23] <strcat> SiegeLord: http://www.haskell.org/ghc/docs/7.0.1/html/users_guide/rewrite-rules.html it's pretty cool. you describe your own optimizations :P
[16:36:32] <strcat> (ugh, old version of the docs)
[16:36:39] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[16:36:43] <SiegeLord> Haskell could cure cancer, and it wouldn't help me when I'm using Rust ;)
[16:37:04] <SiegeLord> bvssvni: In time. For now I'm just adding two vectors
[16:37:09] <bstrie_cheersquad> SiegeLord: it would if you had cancer, and wanted to live longer so you could use rust
[16:37:54] *** Quits: new_one (new_one@57C8A601.D0485D2E.B3C0173E.IP) (Ping timeout)
[16:37:56] <bstrie_cheersquad> bjz: when we removed purity we looked forward to a rust 2.0 future where we might have a generalized effects system modeled on scala's
[16:37:59] <bstrie_cheersquad> or something
[16:38:10] <bvssvni> SiegeLord: one hackish solution is to use vec of size 1 as scalars.
[16:38:11] <bjz> bstrie_cheersquad: ah nice!
[16:38:14] <erickt> strcat: we had something like that in felix. You could declare these little axioms like `axiom x * 0 = 0`
[16:38:15] <bstrie_cheersquad> I think eholk was the one who came up with the proposal
[16:38:19] <bstrie_cheersquad> bjz: but this was loooong ago
[16:38:23] <bjz> bstrie_cheersquad: yeah
[16:38:27] <bstrie_cheersquad> (maybe it was bblum, not eholk)
[16:38:31] <strcat> erickt: did felix have purity?
[16:38:35] <strcat> erickt: what if x had a side effect?
[16:38:45] <SiegeLord> bvssvni: I think I'm going to run into the same problem implementing the Mul trait
[16:39:11] <bjz> erickt: sounds like something that might be helpful for: https://github.com/bjz/num-rs
[16:39:27] <strcat> bjz: well what rewrite rules let you do is...
[16:39:33] <erickt> strcat: nope. the axiom was attached to a typeclass if I recall correctly. it was up to the programmer to decide if it was safe to make the declaration
[16:39:33] <strcat> lets say you write a gmp binding
[16:39:53] *** Quits: dew (Instantbir@moz-D60E683F.dhcp.stls.mo.charter.com) (Ping timeout)
[16:40:11] <strcat> bjz: you can communicate the standard integer laws to the compiler
[16:40:12] <pepijndevos> where did the sha1 module go?
[16:40:24] <strcat> bjz: can turn x * 2 into x + x, for example
[16:40:28] <strcat> dumb example
[16:40:30] <bvssvni> SiegeLord: I tend to use [f64] for all numerical calculation, with simple static functions.
[16:40:31] <strcat> ;p
[16:40:50] <strcat> bjz: anyway need purity because `x` might be foo(...)
[16:40:53] <bjz> erickt: I think that's reasonable. Fortress did some cool thing with auto-mated unit tests because their type system wasn't powerful enough to enforce algebraic axioms, afaik
[16:40:53] <strcat> where it has a side effect
[16:40:55] <strcat> so...
[16:40:58] <SiegeLord> bvssvni: The end goal is to get MATLAB/Eigen/Numpy-like API
[16:41:04] <bjz> strcat: neat
[16:41:07] *** Quits: sellout (Adium@moz-968E9A09.hsd1.co.comcast.net) (Ping timeout)
[16:41:13] <strcat> bjz: that's how haskell does stuff like stream fusion
[16:41:27] <strcat> bjz: they just define a whole bunch of standard rewrite rules + lots of libs define them
[16:41:39] <bjz> strcat: how does that work in with the float annoyingness?
[16:41:43] <SiegeLord> Somehow I need to erase the lifetime of the Result type...
[16:41:51] <bvssvni> SiegeLord: if I need to write a parser on top of it, the trait system might just complicate things.
[16:42:02] *** Joins: sellout (Adium@moz-968E9A09.hsd1.co.comcast.net)
[16:42:06] <bjz> strcat: and restraining llvm whilst still allowing for optimisations
[16:42:07] <strcat> bjz: it's optionally typed
[16:42:15] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[16:42:16] <strcat> bjz: it happens above the backend layer
[16:42:20] <bjz> ah
[16:42:30] <strcat> bjz: it's basically a (typed) AST transform afaik
[16:42:40] <bjz> ooh
[16:42:42] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[16:42:46] <bjz> sounds complex
[16:42:48] <bvssvni> SiegeLord: it is tempting to use traits, but unfortunately semantics change from algebra to algebra.
[16:42:49] <strcat> bjz: you're writing out a list of transforms for it to do
[16:42:54] <strcat> bjz: it's simple! ;P
[16:42:59] <bjz> !
[16:43:06] <strcat> bjz: you write what it should match and what it should replace it with
[16:43:13] <strcat> the hard part is obviously not lying to it
[16:43:17] <SiegeLord> bvssvni: Not sure what you mean. I've managed to implement something similar in D (no lifetimes there though)
[16:43:21] <bjz> strcat: oh, less on the user side
[16:43:31] <bjz> strcat: more in terms of implementing it
[16:43:43] <bvssvni> SiegeLord: do you have a link?
[16:43:50] <erickt> bjz / strcat: you can see some of the axiom uses here: http://felix-lang.org/share/src/web/tut/polymorphism_03.fdoc
[16:43:58] <SiegeLord> bvssvni: No
[16:44:00] <strcat> bjz: http://www.haskell.org/ghc/docs/7.6.3/html/users_guide/rewrite-rules.html scroll down to 'list fusion' there
[16:44:17] <bvssvni> SiegeLord: would love to take a look at what you are working at
[16:44:25] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Ping timeout)
[16:44:31] <SiegeLord> That gist is as far as I got :P
[16:44:35] <erickt> bjz / strcat: ah, right the declaration is something like `class Eq[t] { ... axiom sym(x: t, y:t): (x == y) == (y == x) }`
[16:44:53] <bjz> erickt: that would be so cool
[16:44:56] <SiegeLord> I'm just trying to implement http://en.wikipedia.org/wiki/Expression_templates
[16:45:33] <bjz> erickt: whenever I write stuff like this in comments I cry: https://github.com/bjz/num-rs/blob/master/src/algebra.rs#L304-L325
[16:45:54] <erickt> bjz: ugh
[16:45:57] <bjz> erickt: it's like going back to a dynamically typed lang
[16:46:04] <bvssvni> SiegeLord: this is how far I got: https://github.com/bvssvni/rust-alg/blob/master/src/alg/lib.rs
[16:46:33] <bvssvni> SiegeLord: but bjz is working on a better algebra trait system
[16:46:42] <erickt> bjz: felix is full of some really neat ideas, but it never got enough attention to see them all fully implemented
[16:46:45] <SiegeLord> Too many traits, too few features
[16:46:57] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[16:47:27] <SiegeLord> I don't quite know how you'd even write an Add trait that'd avoid the problem I'm hitting
[16:47:43] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[16:48:09] <erickt> bjz: felix is full of some really neat ideas, but it never got enough attention to see them all fully implemented
[16:48:13] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Quit: This bear's gotta fly.)
[16:48:14] <SiegeLord> bvssvni: E.g. see https://github.com/bvssvni/rust-alg/blob/master/src/alg/lib.rs#L1205-L1226
[16:48:19] <bjz> erickt: :(
[16:48:22] <SiegeLord> You allocate with every multiplication
[16:48:24] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[16:48:35] <bvssvni> SiegeLord: yes
[16:48:35] <SiegeLord> I just don't want to pay such a high cost for using a nice API
[16:48:44] <erickt> bjz / strcat: ah, here is felix's algebraic typeclasses with axioms and reducers: https://github.com/felix-lang/felix/blob/master/src/lib/std/algebraic.flx
[16:48:59] <bjz> erickt: !!!!
[16:49:04] * bjz drools
[16:49:35] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[16:49:35] <bjz> erickt: been looking for good examples
[16:50:08] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[16:50:17] <erickt> bjz: glad I could help
[16:50:22] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[16:50:52] <bjz> erickt: if you have any feedback on num-rs let me know - unfortunately I'm working within the constraints of Rust
[16:52:00] <bvssvni> SiegeLord: it depends on how you like to work
[16:52:03] <erickt> bjz: first off, I love the embedded unicode math symbols
[16:52:04] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[16:52:18] <bvssvni> SiegeLord: I prefer a nice api and optimize each special case individually
[16:52:43] <SiegeLord> I don't
[16:52:49] *** Quits: cds (uid23856@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[16:52:51] <bvssvni> SiegeLord: first get it working, then optimize :)
[16:53:12] <SiegeLord> I rarely leave a code finished in my scientific computing
[16:53:21] <SiegeLord> Optimizing code just means that it'll be harder to change
[16:53:38] <SiegeLord> The goal is for optimized code to be as readable as possible
[16:53:42] *** Joins: moostik (Icedove@5A22E6A1.10715965.BCDF592F.IP)
[16:54:08] <bjz> erickt: hah
[16:54:10] *** Joins: trinary (Adium@moz-D78CD0D5.hsd1.co.comcast.net)
[16:54:16] <bjz> erickt: well at least it looks pretty
[16:54:25] *** Joins: abhaykadam (abhaykadam@77B9140E.5D50CD79.6237D8DF.IP)
[16:54:32] <bjz> erickt: btw, flaper87 is also interested in this
[16:54:49] *** Joins: okard (okard@moz-4E85DC5.dip0.t-ipconnect.de)
[16:54:51] <bjz> flaper87: look at this and drool: https://github.com/felix-lang/felix/blob/master/src/lib/std/algebraic.flx
[16:54:55] * flaper87 catches up
[16:55:32] <erickt> bjz: yeah these docs are great. it's a shame we can't take advantage of those rules in rust
[16:56:11] <bjz> erickt: I'm also hoping that rustdoc will eventually show functions from supertraits
[16:56:13] <SiegeLord> bvssvni: E.g. it's easy to do what I want if I use a function: https://gist.github.com/SiegeLord/8581553#file-vector-rs-L66-L77
[16:56:49] <erickt> bjz: last I talked to pcwalton though, he wanted to leave all optimization to llvm
[16:57:10] <bjz> erickt: one issue we have though is floats
[16:57:20] <erickt> bjz: I was going to mention that
[16:57:24] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[16:57:32] *** Joins: nate (user@C3BA61EE.F9392C3A.CB3564DC.IP)
[16:57:33] <erickt> bjz: that's why felix had Rings and FloatRings
[16:57:39] <bjz> erickt: I like that
[16:57:45] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[16:57:55] <bjz> erickt: I was concerned about how to handle it
[16:57:56] <strcat> erickt: what did they do for equality?
[16:58:08] <bjz> ordering?
[16:58:36] <erickt> strcat: https://github.com/felix-lang/felix/blob/master/src/lib/std/order.flx
[16:58:51] <bstrie_cheersquad> bjz: don't fall into the trap of thinking that computers were made to do math
[16:59:06] <bstrie_cheersquad> bjz: computers are made to shove bits into registers. the fact that math is possible on top of this is just an unhappy accident :P
[16:59:52] *** Quits: canhtak (canhtak@moz-CEAFB489.wl.t.ulaval.ca) (Quit: canhtak)
[16:59:56] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[17:00:09] <bvssvni> SiegeLord: why are you not using iterators?
[17:00:14] *** Quits: bynaryshef (bynaryshef@295ED4D.54F2CF59.1C814B46.IP) (Quit: This computer has gone to sleep)
[17:00:15] <bjz> bstrie_cheersquad: 'computer' used to be a job title for somebody who did lots of tedious mathematical computations
[17:00:35] <pepijndevos> I need a sha1 function. what is the easiest way to get one?
[17:00:43] <bjz> bstrie_cheersquad: hence we then got 'mechanical computers'
[17:00:55] <bvssvni> SiegeLord: hmm, perhaps you want lazy behavior?
[17:01:32] <pepijndevos> I thought I'd try rustpkg but the thing doesnt like me
[17:01:59] <bstrie_cheersquad> bjz: the term is an accident of history :)
[17:02:21] <SiegeLord> bvssvni: Haven't tried iterators yet. They won't work in the general case regardless
[17:02:43] <bstrie_cheersquad> bjz: also, shovebitsintoregisterser was just too hard to type
[17:03:00] <bjz> bstrie_cheersquad: into a typewriter?
[17:03:20] <bjz> bstrie_cheersquad: I would have thought they where handwriting mainly
[17:03:25] <SiegeLord> bvssvni: But yes, I think I want lazy behaviour to the same extent Rust iterators are lazy
[17:03:28] <bstrie_cheersquad> bjz: back then typewriters didn't support names that exceeded eight characters
[17:03:38] <bstrie_cheersquad> with a three-character file extension
[17:03:58] *** Quits: nical (Nicolas@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[17:04:32] *** Joins: ptc (Adium@moz-70F9251D.thefacebook.com)
[17:04:36] <bvssvni> SiegeLord: you might try closures as well
[17:05:11] <bvssvni> SiegeLord: it could simplify the work of extending with new features
[17:05:14] *** Parts: ptc (Adium@moz-70F9251D.thefacebook.com) ()
[17:05:15] <SiegeLord> They just don't optimize well, in my experience
[17:05:29] *** Quits: TylerE (Tyler@moz-6BD0CBDD.gvllcmtc01.gnvlnc.ab.dh.suddenlink.net) (Quit: Leaving)
[17:05:37] *** Joins: victorporof_ (victorporo@E55FB5BC.20287B6C.D111398B.IP)
[17:05:37] <SiegeLord> But I guess that'd be another way to avoid allocations at least
[17:05:41] *** Quits: pcdummy (pcdummy@moz-CF4CA865.page4me.ch) (Ping timeout)
[17:06:32] <bstrie_cheersquad> pepijndevos: the *easiest* way? you could shell out to "echo foo | sha1sum" :P
[17:06:38] <bvssvni> SiegeLord: I am not sure exactly how expensive allocations are compared to lazy evaluation
[17:06:51] *** Quits: victorporof (victorporo@E55FB5BC.20287B6C.D111398B.IP) (Ping timeout)
[17:06:58] <bvssvni> SiegeLord: lazy evaluation tends to have more branching on the CPU
[17:06:59] *** Quits: benjamin_ (benjamin@moz-3EF118D5.dip0.t-ipconnect.de) (Ping timeout)
[17:07:10] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[17:07:10] *** Joins: mib_drqijj (Mibbit@moz-E02EA2F2.hsi.kabel-badenwuerttemberg.de)
[17:07:22] *** Joins: pcdummy (pcdummy@moz-CF4CA865.page4me.ch)
[17:07:46] <rca_> pepijndevos: there are also some openssl bindings. (somewhere on github)
[17:07:47] <strcat> the iterator adaptors all get inlined so it will optimize out well, unless you write something really complex or store the partial results
[17:08:03] <pepijndevos> rca, how do I install those?
[17:08:17] *** Joins: bynaryshef (bynaryshef@ED751EDF.6171B84F.1C814B46.IP)
[17:08:22] *** Quits: bynaryshef (bynaryshef@ED751EDF.6171B84F.1C814B46.IP) (Client exited)
[17:08:25] *** Joins: Kruppe (user@moz-44D7B8BC.net.uwaterloo.ca)
[17:08:26] <SiegeLord> I expect them to optimize well
[17:08:28] *** Joins: bynaryshef (bynaryshef@ED751EDF.6171B84F.1C814B46.IP)
[17:08:43] <SiegeLord> They do so in Eigen, and they do even more magic than I'm willing to perform
[17:09:18] <bvssvni> SiegeLord: it is not a bad thing to have people testing different approaches :D
[17:09:25] <rca_> pepijndevos: found it https://github.com/sfackler/rust-openssl Seems like a plain old ./configure && make && make install
[17:09:34] <pepijndevos> ok
[17:10:09] <SiegeLord> bvssvni: Back when I wrote this in D, allocating all the time was very slow (although it was D)
[17:10:40] *** Joins: ricepuddin (graham@moz-C99088AF.wlan.ic.ac.uk)
[17:10:59] <SiegeLord> I suppose I could benchmark it again in Rust...
[17:11:21] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[17:11:38] <bvssvni> SiegeLord: it would be cool if you posted an article on reddit about it
[17:11:44] <strcat> SiegeLord: use tcmalloc and it'll be a lot less slow than glibc's allocator ;p
[17:12:40] *** Joins: victorporof (victorporo@E55FB5BC.20287B6C.D111398B.IP)
[17:12:54] <SiegeLord> Now I need to remember how to do benchmarks in Rust...
[17:12:54] *** Quits: victorporof_ (victorporo@E55FB5BC.20287B6C.D111398B.IP) (Ping timeout)
[17:13:04] <pepijndevos> rca_ error: not all trait methods implemented, missing: `eof
[17:13:06] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[17:13:07] <strcat> SiegeLord: just steal a snippet from libstd/vec.rs ;p
[17:13:17] <strcat> that's what I always do...
[17:13:34] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[17:13:38] *** Joins: Florob (Florob@moz-39532932.de)
[17:14:20] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Quit: My iMac has gone to sleep. ZZZzzzâ€¦)
[17:15:29] *** Quits: mib_drqijj (Mibbit@moz-E02EA2F2.hsi.kabel-badenwuerttemberg.de) (Quit: http://www.mibbit.com ajax IRC Client)
[17:15:38] <rca_> pepijndevos: hum, according to http://www.rust-ci.org/sfackler/rust-openssl it should build. At least it did this morning. You might want to ask sfackler^ since it's his project.
[17:16:17] *** Quits: victorporof (victorporo@E55FB5BC.20287B6C.D111398B.IP) (Ping timeout)
[17:16:22] *** Quits: mindcat (mindcat@CFA3850B.9B7EF212.2BCF2E43.IP) (Ping timeout)
[17:16:31] <pepijndevos> rca_ ah, Im on 0.9
[17:16:58] <pepijndevos> sweet... :(
[17:17:37] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[17:18:02] <rca_> that might be a problem. You should really track master. There's probably a rust-nightly for your platform, if you don't want to build rust yourself.
[17:18:39] <pepijndevos> Mac?
[17:19:14] *** pmoore|dinner is now known as pmore
[17:19:19] *** pmore is now known as pmoore
[17:19:24] *** Quits: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP) (Broken pipe)
[17:19:57] *** Quits: dave1629 (dave@58706268.1CA5FEA3.DDE5D3F6.IP) (Quit: dave1629)
[17:20:29] <rca_> pepijndevos: i think there is a package on homebrew. I don't know how that works though.
[17:20:48] <pepijndevos> brew install rust --HEAD
[17:20:48] <SiegeLord> bvssvni: It seems the performance scales exactly as the ratio of allocations in my case
[17:20:56] *** Joins: victorporof (victorporo@E55FB5BC.20287B6C.D111398B.IP)
[17:21:11] <pepijndevos> but that does build from source
[17:21:21] <bvssvni> SiegeLord: cool
[17:21:51] <SiegeLord> I.e. if I add 5 times using an allocating add, it'll take 5x as slow as adding 5 times using a lazy approach
[17:21:54] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[17:22:01] <SiegeLord> *5x more time
[17:22:24] <rca_> pepijndevos: arf too bad. https://github.com/mozilla/rust/wiki/Doc-packages,-editors,-and-other-tools mentions fink also. Can you use that? (i really don't know the first thing about mac)
[17:22:32] *** Quits: bakkdoor (bakkdoor@moz-C3942EC.osnanet.de) (Quit: Leaving...)
[17:22:36] *** Joins: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net)
[17:22:48] <bstrie_cheersquad> reading a paper where the pseudocode uses `od` to end a `do` block, but then ends a `procedure` block with `end` instead of `erudecorp`
[17:22:51] <bstrie_cheersquad> what a cop-out
[17:23:22] <bvssvni> SiegeLord: are you planning to implement a full numeric library this way (because that would be awesome)
[17:23:29] <strcat> hahaha, that null stuff was a waste of time >.<
[17:23:36] *** bstrie_cheersquad is now known as bstrie_erudecorp
[17:23:45] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[17:23:54] *** Joins: gverilla (gverilla@moz-34765BF9.tubit.tu-berlin.de)
[17:24:07] <SiegeLord> bvssvni: It's a bit pointless if I can't use operator overloading...
[17:24:33] <bvssvni> SiegeLord: is it possible with macros?
[17:24:47] <SiegeLord> Probably
[17:25:59] <SiegeLord> Also getting borrow errors... maybe it can't be done with functions either XD
[17:26:38] *** Joins: ptc (Adium@moz-70F9251D.thefacebook.com)
[17:26:49] *** Quits: dangets (dangets@moz-E9E4A77B.cpe.cableone.net) (Ping timeout)
[17:27:07] *** Parts: ptc (Adium@moz-70F9251D.thefacebook.com) ()
[17:27:27] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[17:27:47] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[17:28:06] *** Joins: nical (Nicolas@87C1F78E.1DE10CA8.D8E68FF6.IP)
[17:28:56] *** Joins: victorporof_ (victorporo@E55FB5BC.20287B6C.D111398B.IP)
[17:29:08] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[17:29:24] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[17:29:32] *** Joins: chromatic (chromatic@moz-28CBC7F4.hsd1.or.comcast.net)
[17:29:40] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[17:29:54] *** Quits: abhaykadam (abhaykadam@77B9140E.5D50CD79.6237D8DF.IP) (Quit: Lingo - http://www.lingoirc.com)
[17:30:17] *** Quits: victorporof (victorporo@E55FB5BC.20287B6C.D111398B.IP) (Ping timeout)
[17:30:51] *** Quits: mye (mye@moz-71229462.dip0.t-ipconnect.de) (Quit: mye)
[17:30:57] *** Joins: zeenix (zeenix@6B6A9654.C7097B77.8772DA20.IP)
[17:31:23] *** Parts: zeenix (zeenix@6B6A9654.C7097B77.8772DA20.IP) (Leaving)
[17:32:43] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[17:33:17] *** Joins: victorporof (victorporo@E55FB5BC.20287B6C.D111398B.IP)
[17:33:18] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[17:33:48] *** Joins: bakkdoor (bakkdoor@moz-C3942EC.osnanet.de)
[17:34:04] *** Joins: io2 (io2@moz-871549F5.home.otenet.gr)
[17:34:10] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[17:34:19] *** Quits: victorporof_ (victorporo@E55FB5BC.20287B6C.D111398B.IP) (Ping timeout)
[17:35:56] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[17:36:03] *** Joins: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net)
[17:37:00] *** Quits: sellout (Adium@moz-968E9A09.hsd1.co.comcast.net) (Connection reset by peer)
[17:37:00] *** Joins: azita (Azita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[17:37:08] *** Joins: sellout (Adium@moz-968E9A09.hsd1.co.comcast.net)
[17:37:32] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[17:38:16] *** Joins: canhtak (canhtak@moz-CEAFB489.wl.t.ulaval.ca)
[17:38:22] *** Joins: lennart (lennart@moz-DE70D6F.stanford.edu)
[17:38:37] <sfackler> pepijndevos: There should exist some commit that builds with .9, but you may have to hunt for it. I forgot to tag it when .9 was released :(
[17:38:53] <pepijndevos> ok
[17:41:11] *** Quits: ricepuddin (graham@moz-C99088AF.wlan.ic.ac.uk) (Ping timeout)
[17:41:36] *** jorendorff is now known as jorendorff_away
[17:44:35] *** Quits: marianoguerra (marianogue@moz-C6801CB6.dip0.t-ipconnect.de) (Ping timeout)
[17:45:14] <SiegeLord> Alright, doing the Iterator trick seems to have worked... https://gist.github.com/SiegeLord/8581553#file-vector-rs-L136
[17:45:32] <SiegeLord> The trick being to treat & as a value type
[17:45:51] *** Quits: bakkdoor (bakkdoor@moz-C3942EC.osnanet.de) (Connection reset by peer)
[17:45:51] *** Joins: m (bakkdoor@moz-C3942EC.osnanet.de)
[17:47:17] *** Joins: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[17:47:47] *** Joins: mib_k6rc1g (Mibbit@moz-E02EA2F2.hsi.kabel-badenwuerttemberg.de)
[17:47:50] *** Joins: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net)
[17:47:56] *** Quits: mib_k6rc1g (Mibbit@moz-E02EA2F2.hsi.kabel-badenwuerttemberg.de) (Quit: http://www.mibbit.com ajax IRC Client)
[17:48:07] <bvssvni> SiegeLord: doesn't it clone the owned vector?
[17:48:19] <SiegeLord> No, it clones the &
[17:48:28] *** Joins: Jemaclus (Mibbit@4EEAB704.5843BA5A.D4E4C7A5.IP)
[17:48:31] <bvssvni> ah :)
[17:48:43] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[17:49:15] <SiegeLord> It's not really a trick, but it's a bit of a mindbender when you first encounter it (it helps to understand it when dealing with Iterator)
[17:49:38] <SiegeLord> It's how Iterator<T> manages to work with so many different types
[17:49:39] *** jorendorff_away is now known as jorendorff
[17:49:56] *** Joins: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP)
[17:50:12] *** jorendorff is now known as jorendorff_away
[17:50:22] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[17:50:30] *** Joins: mye (mye@moz-71229462.dip0.t-ipconnect.de)
[17:50:32] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[17:50:55] *** Quits: Kruppe (user@moz-44D7B8BC.net.uwaterloo.ca) (Ping timeout)
[17:51:43] <bvssvni> SiegeLord: you know, this is really cool
[17:52:02] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[17:52:10] <bvssvni> SiegeLord: it might be useful for expressions in general
[17:52:23] *** Parts: v01px3 (sid18631@moz-5F4AA75A.irccloud.com) ()
[17:52:39] *** Joins: lpy_ (lpy@6D018ABA.B31F127E.E99F7FDB.IP)
[17:52:41] *** Quits: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP) (Ping timeout)
[17:53:03] *** Quits: gwty (gwtypc@C3BB3CEB.27BB4920.6BE1A500.IP) (Connection reset by peer)
[17:53:11] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[17:53:33] *** Joins: pepper_chico (pepper_chi@moz-13107F6.dsl.telesp.net.br)
[17:53:52] *** Joins: gwty (gwtypc@C3BB3CEB.27BB4920.6BE1A500.IP)
[17:54:12] <SiegeLord> It's somewhat the epitomy of template bloat
[17:54:32] *** Quits: lpy_ (lpy@6D018ABA.B31F127E.E99F7FDB.IP) (Ping timeout)
[17:54:34] <SiegeLord> I actually don't know how I feel about it :P
[17:54:47] <SiegeLord> AddTwoVecs<AddTwoVecs<AddTwoVecs<&VectorBase,&VectorBase>,&VectorBase>,&VectorBase>{a: AddTwoVecs<AddTwoVecs<&VectorBase,&VectorBase>,&VectorBase>{a: AddTwoVecs<&VectorBase,&VectorBase>{a: &VectorBase{data: ~[1f32, 2f32, 3f32]}, b: &VectorBase{data: ~[1f32, 2f32, 3f32]}}, b: &VectorBase{data: ~[1f32, 2f32, 3f32]}}, b: &VectorBase{data: ~[1f32, 2f32, 3f32]}}
[17:54:56] *** Quits: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net) (Quit: calvinmetcalf)
[17:55:00] <SiegeLord> When you get stuff like this... it just seems you're doing devil's work
[17:55:14] *** Quits: jdm (jdm@moz-BDD802ED.hfc.comcastbusiness.net) (Quit: Lost terminal)
[17:55:39] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Ping timeout)
[17:56:21] <bvssvni> SigeLord: one flaw is that one needs the data before constructing the expressions
[17:56:48] <Matthias247> SiegeLord: looks like C++ error messages :)
[17:57:36] <SiegeLord> bvssvni: Yes... that's true
[17:58:04] <SiegeLord> I could implement the operations on VectorBase proper, but you'd get clones again (I suppose you're really opting in though)
[17:58:31] <SiegeLord> Notably, I don't think you'll solve this with closures either
[17:58:41] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:58:46] <SiegeLord> It's just a consequence of borrowing
[17:58:52] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[17:58:56] *** Joins: Florob (Florob@moz-39532932.de)
[17:59:59] <SiegeLord> Matthias247: test.rs:145:10: 145:31 error: binary operation `*` cannot be applied to type `AddTwoVecs<AddTwoVecs<&VectorBase,&VectorBase>,&VectorBase>`
[18:00:08] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[18:00:11] <SiegeLord> It's bad, but not quite C++ level, heh
[18:00:12] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:00:19] <bvssvni> SiegeLord: if the vecs are mutable, the borrowing prevents from modifying them later
[18:01:05] *** Quits: mye (mye@moz-71229462.dip0.t-ipconnect.de) (Quit: mye)
[18:01:38] <SiegeLord> bvssvni: You can use the usual tricks to avoid it
[18:01:38] *** Quits: gverilla (gverilla@moz-34765BF9.tubit.tu-berlin.de) (Ping timeout)
[18:01:49] <bvssvni> SiegeLord: what is that?
[18:02:31] <SiegeLord> https://gist.github.com/SiegeLord/8581553#file-vector-rs-L146
[18:02:33] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[18:02:48] *** Joins: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net)
[18:03:01] <SiegeLord> I guess I'd have to see how painful it is in practice
[18:03:15] <SiegeLord> I think it's par for the course of using Rust's borrowed pointers
[18:03:45] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[18:03:47] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[18:03:47] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:04:33] <bvssvni> SiegeLord: one still has to reconstruct the expression
[18:05:08] <kimundi> For errors like AddTwoVecs<AddTwoVecs<AddTwoVecs<&VectorBase,&VectorBase>,&VectorBase>,&VectorBase>{a: AddTwoVecs<AddTwoVecs<&VectorBase,&VectorBase>,&VectorBase>{a: AddTwoVecs<&VectorBase,&VectorBase>{a: &VectorBase{data: ~[1f32, 2f32, 3f32]}, b: &VectorBase{data: ~[1f32, 2f32, 3f32]}}, b: &VectorBase{data: ~[1f32, 2f32, 3f32]}}, b: &VectorBase{data: ~[1f32, 2f32, 3f32]}}
[18:05:17] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[18:05:20] <kimundi> I wonder if we could have a "type-diff" as part of the output
[18:05:22] *** Joins: Florob (Florob@moz-39532932.de)
[18:06:07] <kimundi> Wait, thats not even a type error message... nevermind :P
[18:06:36] <SiegeLord> kimundi: test.rs:147:11: 147:32 error: binary operation `*` cannot be applied to type `AddTwoVecs<AddTwoVecs<&VectorBase,&VectorBase>,&VectorBase>`
[18:06:52] <SiegeLord> Still, that's a very simple expression
[18:07:04] *** Quits: eco (eco@moz-87840B9D.net) (Quit: leaving)
[18:07:09] *** Quits: dmacvicar (dmacvicar@moz-663A7346.nue.novell.com) (Quit: Ex-Chat)
[18:07:12] <SiegeLord> Just 2 additions... if you screwed up doing a polynomial it'd be scarier
[18:07:34] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[18:07:47] <bvssvni> SiegeLord: the error message might grow exponentially :D
[18:07:50] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[18:07:55] <SiegeLord> Yes, it definitely does
[18:08:41] *** Joins: jdm (jdm@moz-C07D5168.p2p.sfo1.mozilla.com)
[18:08:41] *** ChanServ sets mode: +o jdm
[18:08:41] *** Joins: eco (eco@moz-87840B9D.net)
[18:08:48] <SiegeLord> Anyway, the holy grail for me is matrix views... if I can get that to work, I'll be happy
[18:09:05] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Quit: ziad)
[18:09:09] <bvssvni> SiegeLord: have you benchmarked closures to compare? it might give better errors.
[18:09:33] <SiegeLord> No... I'll try a bit later
[18:09:41] *** Quits: eco (eco@moz-87840B9D.net) (Quit: leaving)
[18:09:54] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[18:09:58] *** Joins: Florob (Florob@moz-39532932.de)
[18:10:15] *** Joins: eco (eco@moz-87840B9D.net)
[18:10:21] <SiegeLord> Alternatively... mat_exp!(a + b + c) ;)
[18:10:51] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[18:11:22] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[18:11:24] *** Joins: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[18:11:24] *** ChanServ sets mode: +ao brson brson
[18:12:51] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[18:12:56] *** Joins: Florob (Florob@moz-39532932.de)
[18:13:45] *** Joins: mankyKitty (Instantbir@moz-21AD3B58.rev.sfr.net)
[18:14:23] <Jemaclus> Are there any tutorials for getting started with OpenGL in Rust?
[18:14:52] <bjz> Jemaclus: I have been meaning to write one, but you can check out the examples in my gl-rs repo
[18:15:34] <Jemaclus> ah, cool
[18:15:41] <Jemaclus> i'll mess around with it.. maybe write one myself. :)
[18:15:42] <Jemaclus> thanks
[18:15:50] <Jemaclus> i was looking at some of your other repos, but it looks like some are out of date
[18:17:30] <veddan> is there anything like __int128_t in Rust?
[18:18:15] <Tobba> whats the idiomatic way to pass flags to a function?
[18:19:07] *** Joins: skade (skade@moz-C4F7242D.dip0.t-ipconnect.de)
[18:19:47] <bvssvni> Tobba: enum?
[18:19:53] <eddyb> veddan: interesting question... LLVM supports arbitrary bit sized integers - so we could provide more of those
[18:20:10] <veddan> eddyb: how bad would passing (u64, u64) to a c lib expecting __uint128_t be?
[18:20:24] <Tobba> bvssvni: I dont think you can do something like Read | Execute with enums tho?
[18:20:39] <eddyb> veddan: oh, that. __uint128_t is not standard AFAIK. if it is, look it up in the ABI
[18:21:18] <eddyb> veddan: (u64, u64) should have the same layout as struct {uint64_t a, b;} in C/C++
[18:21:23] <bvssvni> Tobba: use a match?
[18:21:36] <Tobba> uhm
[18:21:38] <bvssvni> Tobba: it should work with pattern matching
[18:22:07] <Matthias247> Tobba: the const int approach? static int READ = 0x01; static int EXECUTE = 0x02
[18:22:22] <Matthias247> used in nearly all languages ;)
[18:22:25] <veddan> eddyb: __uint128_t is an extension (supported by at least gcc and clang), so I guess using it for FFI at all might be a pain
[18:22:33] <Tobba> Mathias247: thats awful though
[18:22:36] <Tobba> but yeah
[18:22:49] <Matthias247> you can use Enums, do as i32 and or them
[18:23:03] *** Quits: io2 (io2@moz-871549F5.home.otenet.gr) (Ping timeout)
[18:23:07] <strcat> eddyb: LLVM has arbitrary sized integers but targets don't have to support them
[18:23:09] <strcat> and afaik they don't
[18:23:17] <strcat> I think they support up to i128
[18:23:18] <Matthias247> but it's so ultra-verbose and you gain nothing, because after the as i32 the type safety has gone
[18:23:42] <eddyb> veddan: look in their docs and see if they mention alignment. pretty sure (u64, u64) has no padding in between the elements and is aligned as u64 on x64 and as u32 on x86
[18:23:56] <strcat> Tobba: make a struct, overload the bit ops
[18:24:00] <strcat> Tobba: then define constants of it
[18:24:08] <arpd> Is there a way to get a platform independent path separator, i.e. the equivalent of Python's `os.path.sep` ?
[18:24:10] <strcat> Tobba: if you care more about use than the work to define it
[18:24:34] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: rcirc on GNU Emacs 24.3.1)
[18:24:45] *** Quits: oberstet (quassel@moz-C5E152DD.dynamic.mnet-online.de) (Client exited)
[18:25:16] <Matthias247> strcat: extra for you I benchmarked channels :)
[18:25:59] <Matthias247> strcat: std::comm vs mine(RingBuf + CondVar) vs mine2(RingBuf + eventfd)
[18:26:06] <Matthias247> not really that much difference
[18:26:22] <strcat> between any of them?
[18:26:40] <Matthias247> 13.3s vs 13.6s vs 15.8s for 100k times ping-pong
[18:27:12] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[18:27:33] <veddan> eddyb: yeah, I'll do that. Can I set required alignment somehow, if needed? #[align(16)] or something like that?
[18:27:55] <eddyb> veddan: not yet, AFAIK
[18:28:44] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[18:28:48] *** Joins: Florob (Florob@moz-39532932.de)
[18:28:49] <Matthias247> strcat: but going from ~[] as buffer to RingBuf was huge. 10x improvement
[18:28:58] <strcat> Matthias247: well RingBuf is slow
[18:29:00] <strcat> Matthias247: can do better
[18:29:12] <strcat> Matthias247: I'll send a PR for a better one soon...
[18:29:15] <Jemaclus> bjz: rustpkg build gl doesn't work... says package can't be found?
[18:29:17] <strcat> Matthias247: 1/2 the memory usage
[18:29:29] *** Joins: bmats (bmats@moz-87F0A991.hfc.comcastbusiness.net)
[18:29:48] <Matthias247> could be. Didn't look at it in detail
[18:30:02] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Client exited)
[18:30:15] <Matthias247> but I didn't expect eventfd performing that well
[18:30:25] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[18:30:59] <Matthias247> it's even epoll + eventfd read. The direct equivvalent to the condition variable would be a blocking eventfd read. That's one syscall less
[18:30:59] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[18:31:23] <bjz> Jemaclus: ugh, rustpkg is a massive pain :(
[18:31:43] <bjz> Jemaclus: it's probably easier to do things manually via rustc
[18:31:53] <bjz> Jemaclus: I need to update the docs
[18:32:06] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[18:32:14] <bjz> Jemaclus: btw, we have #rust-gamedev for the graphics related stuff
[18:33:35] *** Joins: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP)
[18:34:22] *** Quits: blAckEn3d (blAckEn3d@moz-6E18770E.dip0.t-ipconnect.de) (Client exited)
[18:35:50] *** Quits: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP) (Client exited)
[18:35:58] *** Quits: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net) (Quit: zztr)
[18:36:14] *** Joins: mib_2t3nfc (Mibbit@moz-17B41E4D.bootp.virginia.edu)
[18:36:32] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:36:37] *** Quits: mib_2t3nfc (Mibbit@moz-17B41E4D.bootp.virginia.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[18:36:43] *** Joins: dmac (Adium@moz-DBF6FF2C.hfc.comcastbusiness.net)
[18:36:50] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[18:37:28] *** Quits: elux (peter@B6F21F4B.1F20BC31.2170E5F.IP) (Quit: Leaving...)
[18:37:30] *** Joins: io2 (io2@moz-871549F5.home.otenet.gr)
[18:38:15] <chromatic> rustpkg being obtuse isn't just me then. Good to know.
[18:38:16] *** Joins: zeenix (zeenix@moz-B92AB3AA.range109-158.btcentralplus.com)
[18:38:25] *** Parts: zeenix (zeenix@moz-B92AB3AA.range109-158.btcentralplus.com) (Leaving)
[18:38:25] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[18:38:33] *** Quits: sellout (Adium@moz-968E9A09.hsd1.co.comcast.net) (Ping timeout)
[18:39:24] *** Joins: sellout (Adium@moz-968E9A09.hsd1.co.comcast.net)
[18:41:03] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[18:41:08] <o11c> there's calling for a rewrite in #rustpkg-wg but no actual progress yet
[18:42:22] <Jemaclus> bjz: cool, thanks
[18:42:41] <chromatic> steveklabnik's Rust for Rubyists had a small chapter on packaging at one point, but it seemed out of date for even 0.9. Fairly confusing.
[18:42:54] <steveklabnik> so
[18:43:06] <steveklabnik> i wrote that guide when rustpkg first came out
[18:43:13] <steveklabnik> as it's atrophied i've removed it
[18:44:11] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[18:45:03] <Amaranth> Tobba: The sdl and sdl2 bindings use a ~[] of enum fields, dunno if that was an invention for the sdl binding or convention though
[18:45:26] <Amaranth> Seemed wasteful to me but you don't use such things often if you're just using sdl to get a GL context so I didn't bother looking into it more
[18:45:28] <SiegeLord> I prefer the method strcat suggested... I made a nice macro to automate the process
[18:45:43] <chromatic> steveklabnik, it was linked from the chapter list on your web site.
[18:46:00] <SiegeLord> Now that macros can expand to multiple items, it's even easier to use
[18:46:12] *** Quits: okard (okard@moz-4E85DC5.dip0.t-ipconnect.de) (Ping timeout)
[18:46:14] <strcat> Amaranth: should really just make a struct with bitops overloaded
[18:46:18] <strcat> and initialize the constants
[18:46:25] <steveklabnik> chromatic: right, it was a chapter previously, for the 0.8 release. i removed it in 0.9
[18:47:14] <chromatic> steveklabnik, I still see it here: http://www.rustforrubyists.com/book/index.html
[18:47:31] <steveklabnik> bummer
[18:47:36] <steveklabnik> i'll open an issue
[18:47:49] <chromatic> PR coming
[18:48:04] <steveklabnik> oh, cool, thanks
[18:48:06] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[18:48:44] <nszceta> BTW that example in chapter-01 is completely statistically insignificant
[18:48:56] <nszceta> if you wrote that
[18:48:58] <nszceta> shame on you
[18:48:59] <nszceta> lol
[18:49:02] *** Joins: vosen (vosen@moz-266BA656.icpnet.pl)
[18:49:11] *** Joins: onelson (onelson@moz-DD666EC5.laika.com)
[18:49:21] <eddyb> nszceta: hmm?
[18:49:38] <nszceta> 10.times do ----> 1000000.times do
[18:49:46] <nszceta> then let's see the benchies
[18:50:05] <nszceta> (still not that relevant but better than 10)
[18:50:06] <steveklabnik> it absolutely is, hence 'yay irrelevant benchmarks'
[18:50:13] <nszceta> fair enough fair enough 
[18:50:15] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Input/output error)
[18:50:22] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[18:50:34] <lennart> hasn't `do 10.times {` syntax been removed as of 0.9?
[18:50:36] <nszceta> so what's the roadmap for rust after 1.0
[18:50:36] <steveklabnik> need to lay on that sarcasm harder
[18:50:55] <steveklabnik> lennart: yes, i haven't deployed the fix to the site yet
[18:50:57] <whitequark> PR17326 <3
[18:50:59] <steveklabnik> i missed it when i updated things
[18:51:04] <strcat> whitequark: hm?
[18:51:17] <whitequark> bugzilla just emailed me
[18:51:20] <whitequark> well. nevermind
[18:51:24] <strcat> tasks don't spawn faster than threads in other languages anyway, unless they've got a slow VM/interpreter getting in the way
[18:52:00] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[18:52:03] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[18:52:04] *** Quits: pepper_chico (pepper_chi@moz-13107F6.dsl.telesp.net.br) (Quit: Ex-Chat)
[18:52:30] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[18:52:34] *** Joins: dave1629 (dave@ABCF8344.B8CF995A.DDE5D3F6.IP)
[18:52:56] *** Joins: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP)
[18:53:32] *** Joins: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP)
[18:55:20] *** Quits: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP) (Ping timeout)
[18:55:37] *** Quits: nate (user@C3BA61EE.F9392C3A.CB3564DC.IP) (Quit: .)
[18:55:47] *** Joins: nate (pinkeh@moz-B8462C56.members.linode.com)
[18:57:01] *** Joins: fabiand (fabiand@moz-1104E6FD.adsl.alicedsl.de)
[18:57:03] *** Quits: gwty (gwtypc@C3BB3CEB.27BB4920.6BE1A500.IP) (Ping timeout)
[18:57:17] *** Quits: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[18:57:50] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[18:58:05] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Quit: My iMac has gone to sleep. ZZZzzzâ€¦)
[18:58:23] <hoverbear> steveklabnik: You rock my socks.
[18:58:30] <steveklabnik> <3
[18:59:32] *** Joins: gwty (gwtypc@C3BB3CEB.27BB4920.6BE1A500.IP)
[19:00:14] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[19:01:27] *** Joins: okard (okard@moz-7ADFDBDD.dip0.t-ipconnect.de)
[19:01:53] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[19:02:04] *** Joins: amir (amir@moz-49060BB9.cust.bluewin.ch)
[19:02:46] *** pmoore is now known as pmoore|away
[19:02:56] *** Quits: gwty (gwtypc@C3BB3CEB.27BB4920.6BE1A500.IP) (Ping timeout)
[19:03:48] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[19:03:59] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[19:04:43] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[19:04:51] <bjz> hoverbear: I would not like it if I had rocks in my socks
[19:04:56] *** Joins: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca)
[19:05:10] <hoverbear> bjz: But would you like it if your socks were rocking?
[19:05:22] <bjz> on a rocking chair?
[19:05:34] *** Joins: pyon (user@5D202184.695050F8.E6392873.IP)
[19:05:37] <bjz> so long as they were having fun I would not mind.
[19:05:51] *** Quits: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP) (Quit: Lost terminal)
[19:06:58] *** Quits: khyperia (khyperia@moz-AF00B41A.hsd1.in.comcast.net) (Quit: WeeChat 0.4.1)
[19:07:45] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Ping timeout)
[19:07:56] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[19:08:09] *** Joins: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP)
[19:08:31] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[19:09:00] <pyon> I have this scenario: I want to force users of a struct to never let it drop. Instead, they must move it to a special destructor method "impl TheStruct { fn destroy(self, more parameters...) { ... } }". Is there any way to do this?
[19:09:54] <bvssvni> pyon: if you have a phantom type, perhaps
[19:10:01] *** Joins: gwty (gwtypc@7482879B.EC11C8E0.8A00C703.IP)
[19:10:16] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Ping timeout)
[19:10:21] <pyon> bvssvni: How does this work?
[19:10:44] <bvssvni> pyon: you can construct a function taking a phantom type as argument that returns bool, containing an empty match
[19:10:46] *** Joins: AvianFlu_ (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[19:10:56] <bvssvni> pyon: the result is that the function can never be called
[19:11:12] <bvssvni> pyon: so if you somehow manage to make it a destructor ...
[19:11:30] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Ping timeout)
[19:11:32] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[19:11:50] <bvssvni> pyon: then you can switch to another phantom type to be able to drop it
[19:12:03] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[19:12:11] <bvssvni> pyon: however, I never tried this, but it is the only idea I have
[19:12:17] *** Parts: nical (Nicolas@87C1F78E.1DE10CA8.D8E68FF6.IP) ()
[19:12:29] *** Joins: FreeFull (freefull@moz-1C93375C.as13285.net)
[19:12:46] <pyon> Mmm... As far as I can see, everything in the language suggests that "if you own it, you can drop it".
[19:13:00] <pyon> But I am going to investigate this. :-)
[19:13:18] <bvssvni> pyon: if you solve it, let us know :D
[19:13:30] *** Joins: bgmerrell (bgmerrell@moz-AFAF64AB.members.linode.com)
[19:13:46] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[19:13:53] *** Quits: bmats (bmats@moz-87F0A991.hfc.comcastbusiness.net) (Client exited)
[19:14:33] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:14:39] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[19:15:00] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:15:54] *** Quits: dave1629 (dave@ABCF8344.B8CF995A.DDE5D3F6.IP) (Quit: dave1629)
[19:16:28] <mitsuhiko> if you could have any assembly language in the world, which one would it be? (if you need to write it by hand)
[19:16:59] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:17:59] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:18:09] <steveklabnik> i know many people that would say 6502 as an aswer to that
[19:18:56] <whitequark> if we're talking about practical reality, (full) ARM instruction set is pretty convenient
[19:19:02] <mcpherrin> ARM9 is pretty nice
[19:19:08] <mcpherrin> later ARMs get a bit too complicated
[19:19:29] <whitequark> and ARM64 cuts it back pretty hard. no condition codes and so
[19:19:33] <mcpherrin> by which I mean ARMv4 instruction
[19:19:39] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[19:19:51] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[19:19:51] <whitequark> ARMv8 rather
[19:19:52] <Matthias247> mcpherrin: i think it's v5
[19:19:52] <eddyb> mcpherrin: are you referring to ARM architectures using ARMx instead of ARMvy? oh nvm you took it back :P
[19:20:06] *** jorendorff_away is now known as jorendorff
[19:20:07] <mcpherrin> Matthias247: There were ARM9 cores in bot v4 and v5
[19:20:24] <Matthias247> ok, didn't know that
[19:20:49] <mcpherrin> I've never used ARMv5 so I can't weigh in there ;)
[19:21:01] <Matthias247> on newer ones you could only use thumb2, that's less to overview ;)
[19:21:03] *** Joins: autra (augustin@moz-BE76895F.fbx.proxad.net)
[19:21:20] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[19:21:25] <eddyb> I think Cortex M's only have thumb
[19:21:38] <mitsuhiko> what about VMX?
[19:21:40] <Matthias247> m3 has thumb2
[19:21:43] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[19:21:47] <mcpherrin> I just remember that ARMv4 didn't have a count leading zero instruction
[19:21:53] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[19:21:55] <mcpherrin> and that made my scheduler like 10 instructions longer
[19:22:04] <Matthias247> but yes, only thumb, not the full ARM instruction set
[19:22:06] <mcpherrin> My only real pain point :P
[19:22:31] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Quit: ëžœë¤ì€ ì‡ í‡´í–ˆìŠµë‹ˆë‹¤.)
[19:22:40] <mcpherrin> clz was only in ARMv5
[19:23:59] <Matthias247> at university we took some look at various DSP instruction sets. Man, those were complicated
[19:25:38] *** jorendorff is now known as jorendorff_away
[19:26:20] *** Joins: squiddy (squiddy@moz-8525E0F5.adsl.alicedsl.de)
[19:26:51] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[19:26:59] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Client exited)
[19:27:18] *** Quits: m (bakkdoor@moz-C3942EC.osnanet.de) (Quit: Leaving...)
[19:28:46] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[19:30:14] *** Joins: victorporof_ (victorporo@E55FB5BC.20287B6C.D111398B.IP)
[19:30:19] *** Quits: victorporof (victorporo@E55FB5BC.20287B6C.D111398B.IP) (Ping timeout)
[19:30:41] <FreeFull> Matthias247: What do you think about the Mill CPU architecture?
[19:30:49] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Input/output error)
[19:31:01] *** Joins: victorporof (victorporo@E55FB5BC.20287B6C.D111398B.IP)
[19:31:02] *** Quits: victorporof (victorporo@E55FB5BC.20287B6C.D111398B.IP) (Client exited)
[19:31:02] <Matthias247> FreeFull: sorry, don't know that
[19:31:10] *** Joins: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP)
[19:31:26] *** Joins: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net)
[19:31:28] <mcpherrin> Mill cpu is pretty crazy times
[19:31:33] *** Quits: sellout (Adium@moz-968E9A09.hsd1.co.comcast.net) (Quit: Leaving.)
[19:31:57] <FreeFull> http://ootbcomp.com/docs/
[19:32:00] *** Quits: victorporof_ (victorporo@E55FB5BC.20287B6C.D111398B.IP) (Ping timeout)
[19:32:23] *** Joins: TimAbraldes (quassel@moz-BF4D134B.hsd1.or.comcast.net)
[19:32:24] <FreeFull> mcpherrin: I want an emulator
[19:32:24] <mcpherrin> I'm not going to bet on it til I see one running
[19:32:32] *** Quits: skade (skade@moz-C4F7242D.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[19:32:35] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[19:32:52] *** Quits: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP) (Ping timeout)
[19:32:54] <FreeFull> It'll take a while until it hits the market
[19:33:13] <mcpherrin> I don't have the semiconductor design knowledge to make any guess as to how well it'll perform
[19:33:17] <mcpherrin> or the code gen knowledge
[19:33:37] <FreeFull> They claim it will perform very well
[19:33:46] <mcpherrin> Claim from simulation/theory :P
[19:33:51] <Matthias247> everyone claims that :)
[19:34:10] *** Quits: seanmonstar (seanmonsta@8C4EE5CE.65CB159.9D887C86.IP) (Ping timeout)
[19:34:11] <whitequark> I don't really understand how Mill fundamentally differs from existing CPUs with register renaming
[19:34:19] <Matthias247> AMD and intel did both some architectures they thought would perform superb but ended up as total flops ;)
[19:34:23] <FreeFull> Performance is why it was designed in the first place
[19:34:47] <FreeFull> Matthias247: They are stuck with x86 though
[19:35:09] <FreeFull> With Itanium, the good compilers never came
[19:35:11] <mcpherrin> FreeFull: A modern intel CPU is more like an x86 emulator running on a Risc core :P
[19:35:12] <whitequark> it's the same thing, except exposed to a higher level. would it really pose such a significant advantage?..
[19:35:30] <bstrie_erudecorp> does rustpkg create a lot of files?
[19:35:37] <FreeFull> mcpherrin: Still x86 overhead
[19:36:01] <mcpherrin> Yes.  But nobody's done better yet :P
[19:36:12] <FreeFull> And the whole idea behind mill is really orthogonal to the risc/cisc issue
[19:36:20] *** Quits: gwty (gwtypc@7482879B.EC11C8E0.8A00C703.IP) (Ping timeout)
[19:36:28] <mcpherrin> Well, there's like five disclaimers on that statement but I haven't got time to fill out that much paperwork ;)
[19:36:38] *** Quits: bynaryshef (bynaryshef@ED751EDF.6171B84F.1C814B46.IP) (Quit: This computer has gone to sleep)
[19:36:40] *** Quits: yota (sdouche@moz-7D878FB8.securactive.net) (Ping timeout)
[19:36:54] <mcpherrin> Itanic ended up the way it did 'cause the compilers never came because it was too different
[19:37:06] <FreeFull> I expect it will be about as riscy as ARM is at the moment
[19:37:08] *** Joins: bmats (bmats@moz-87F0A991.hfc.comcastbusiness.net)
[19:37:12] <tiffany> whitequark: because there's less connections; you need a multiplexer connecting your registers to the function hardware in x86 CPUs, whereas the mill only needs to connect the belt
[19:37:38] <mcpherrin> FreeFull: ARM isn't that riscy anymore..
[19:37:40] <Matthias247> FreeFull: for AMD it also happend on GPU. I think it was the R520 that was a disaster
[19:37:40] <whitequark> tiffany: I understand. but, there's the 90/10 law.
[19:37:48] <tiffany> 90/10 law?
[19:37:52] <whitequark> in optimization
[19:38:13] <FreeFull> One of the mill claims is that it won't be hard to add backends for it to compilers, but that remains to be seen
[19:38:26] *** Joins: gwty (gwtypc@33570BDB.CF90531.137C914F.IP)
[19:38:27] <FreeFull> mcpherrin: Yeah
[19:38:28] <whitequark> is the register renaming silicon the hottest? how hot exactly it is?
[19:38:47] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[19:38:54] <whitequark> FreeFull: well, it maps pretty directly to the SSA, and optimal register allocation is NP-hard... it's still a minor advantage IMO
[19:39:04] <FreeFull> Register renaming is what happens when you want to take old architectures and make them fast
[19:39:14] <tiffany> freefull: I can see it pretty easy to do if your compiler already takes advantage of superscalar execution, scheduling instructions based on timings, and static single assignment form
[19:39:19] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[19:39:40] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[19:39:58] <FreeFull> whitequark: There are many problems where the problem is NP hard but a P algorithm will work for most inputs
[19:40:08] *** Quits: gwty (gwtypc@33570BDB.CF90531.137C914F.IP) (Ping timeout)
[19:40:25] <whitequark> FreeFull: that's why I said "optimal"; but still, if you take clang, it spends quite a bit of time in regalloc
[19:41:03] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[19:41:07] <FreeFull> tiffany: I wonder if there will be some equivalent of ASM for it, even if the creators have judged directly coding in the bytecode too hard for mortals
[19:41:12] *** Joins: bakkdoor (bakkdoor@moz-C3942EC.osnanet.de)
[19:41:16] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[19:41:21] <tiffany> they've judged it as such?
[19:41:45] <whitequark> that's weird
[19:41:52] <FreeFull> Well, it probably won't be too hard
[19:42:08] <FreeFull> But keeping track of the belt in your head would get tricky, and such
[19:42:13] <tiffany> I don't know, doing basic assembly in it doesn't seem too hard, but the benefits are even more dubious than in x86, and advanced usage probably makes a lot of wtfs
[19:42:21] *** Joins: gwty (gwtypc@33570BDB.CF90531.137C914F.IP)
[19:42:37] <tiffany> keeping track of the belt can't be much harder than keeping track of the stack
[19:42:44] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[19:43:02] <FreeFull> In x86 ASM nowadays, it's easy to write something that seems like it'll be faster but ends up being slower
[19:43:11] <pyon> Is there a dummy function in the standard library that takes an argument and does nothing with it? (Basically, like SML's "val ignore : 'a -> unit".)
[19:43:28] <bstrie_erudecorp> pyon: std::util::ignore, I think
[19:43:34] <mcpherrin> pyon: drop, maybe?
[19:43:38] <mcpherrin> rusti: drop(3)
[19:43:39] -rusti- ()
[19:43:40] <tiffany> freefull: the major exception being SIMD
[19:43:41] <FreeFull> tiffany: Maybe some slightly higher level lightweight language could fill the niche on the mill cpus
[19:43:47] <FreeFull> Probably stream-based
[19:43:49] <bstrie_erudecorp> mcpherrin: what the heck is that
[19:43:54] <bstrie_erudecorp> is that the renamed ignore?
[19:44:06] *** Quits: gwty (gwtypc@33570BDB.CF90531.137C914F.IP) (Ping timeout)
[19:44:13] <tiffany> I think anything that runs well on a DSP will take advantange of the mill very effectvely
[19:44:16] <mcpherrin> bstrie_erudecorp: drop is approx fn drop<T>(_: T) {}
[19:44:23] <bstrie_erudecorp> yeah, that used to be ignore
[19:44:25] <FreeFull> tiffany: One case for x86 ASM that's still as good now as it ever has been is optimising for size, without care for performance
[19:44:36] <pyon> bstrie_erudecorp: mcpherrin: ty
[19:44:43] <mcpherrin> Intention is to move a value into the argument so that it leaves scope and the destructor gets called
[19:44:50] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[19:44:51] <chromatic> fun fact: when I looked at Parrot's regalloc, I stopped analyzing the algorithm when it hit O(n^12)
[19:44:53] <mcpherrin> rusti: ignore(3)
[19:44:58] -rusti- pastebinned 7 lines of output: http://ix.io/a55
[19:45:04] <mcpherrin> rusti: std::util::ignore(3)
[19:45:07] -rusti- pastebinned 7 lines of output: http://ix.io/a56
[19:45:17] <tiffany> when do you need to do that though? mbr?
[19:45:56] *** Joins: Maato (maato@moz-8E1B3F2F.adsl-surfen.hetnet.nl)
[19:46:01] *** Joins: gwty (gwtypc@3C59E75C.3E0F208F.137C914F.IP)
[19:46:18] <mcpherrin> chromatic: still polynomial! :p
[19:46:41] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[19:46:48] <mcpherrin> It's an NP-complete problem so you'd expect badness :)
[19:47:08] <chromatic> There's NP-hard, NP-complete, and NP-did-you-even-TRY?
[19:47:20] <FreeFull> tiffany: Well, MBR, or the demoscene
[19:47:24] <Ms2ger> Mm
[19:47:26] <mcpherrin> Not that you should let NP-completeness get in the way of getting things done.
[19:47:31] <mcpherrin> There are some pretty darn fast 3-SAT solves
[19:47:38] <Ms2ger> I'll tell 'em that on my exam about complexity tomorrow
[19:47:40] <mcpherrin> unless you're feeding them degenerate cases
[19:47:55] <FreeFull> Once you have MBR code though there doesn't tend to be much point changing it
[19:48:25] <chromatic> I wasn't worried about allocating > 4 registers, but performance tended to go very bad much above 6 or 7
[19:48:51] <Ms2ger> mcpherrin, the degenerate cases is the issue, yes :)
[19:49:04] <mcpherrin> Ms2ger: Except they approximately never come up
[19:49:16] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Ping timeout)
[19:49:33] <mcpherrin> If you generate a random 3-SAT problem, chances are it'll be easy
[19:49:45] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[19:50:07] *** Joins: Savago (Savago@CDD1823.E820043D.D4C04133.IP)
[19:50:08] <chromatic> There was a library loading problem which used a thousand unique registers and somehow managed to be only a single basic block.
[19:50:14] <o11c> the degenerate cases are only relevant because there's a transformation from any NPC problem to any other NPC problem
[19:50:38] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[19:50:54] <whitequark> chromatic: let me guess, constant initializers?
[19:50:55] *** Joins: sellout (Adium@2917A62E.8B65BA63.1D2A2C57.IP)
[19:51:09] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[19:51:19] <chromatic> Something like that, yes.
[19:51:21] <mcpherrin> I still have hope P = NP ;)
[19:51:54] <jensnockert> That would be surprising.
[19:52:01] *** Joins: pongad (Mibbit@moz-7E8AAD2E.res.gatech.edu)
[19:52:04] <mitsuhiko> but pretty awesome
[19:52:08] <mcpherrin> jensnockert: I don't think it is, but I still have hope!
[19:52:14] <jensnockert> CS would be fucked ;)
[19:52:18] <whitequark> that's like hoping for FTL travel
[19:52:20] <mcpherrin> Not necessarily
[19:52:29] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[19:52:31] <whitequark> except FTL travel is more likely to actually happen :p
[19:52:33] <eddyb> mcpherrin: last I checked, current crypto would die
[19:52:36] <mcpherrin> whitequark: I still have hope for wormholes :)
[19:52:43] <eddyb> whitequark: "FTL travel"?
[19:52:48] <whitequark> eddyb: faster than light
[19:52:50] <jensnockert> Faster-than-light
[19:52:50] <pongad> Faster THan light
[19:52:54] <mcpherrin> eddyb: Only if a proof of P=NP actually actually gives us something efficient
[19:52:55] <eddyb> come on, let me continue
[19:53:04] <eddyb> I know it's "faster than light"
[19:53:10] <eddyb> whitequark: we are designing warp drives
[19:53:28] <mcpherrin> eddyb: Like, we could get some useless proof that doesn't give a constructive way to reduce problems to sane polynomials, so it theoretically but not practically fucks crypto.
[19:53:29] <whitequark> Alcubierre? yeah, I know. it's very possible we never know how to actually construct the thing.
[19:54:02] <eddyb> whitequark: the main issue (for both warp and wormholes) is that negative mass exotic matter stuff
[19:54:18] *** Joins: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP)
[19:54:33] *** Joins: bynaryshef (bynaryshef@ED751EDF.6171B84F.1C814B46.IP)
[19:54:35] <whitequark> for wormholes, isn't it outright disregard for conservation of energy?
[19:54:48] <pongad> whitequark: It is?
[19:54:50] <eddyb> whitequark: only if you cross time with them, I think
[19:54:55] <whitequark> like, place one end at 1AU from sun, and another at 10AU. free unlimited energy!
[19:54:57] <mcpherrin> whitequark: einsten-rosen bridges haven't been ruled out!
[19:55:19] <mitsuhiko> am i the only one who can't understand that nobody made better terms for P, NP, NP-complete and NP-hard?
[19:55:19] <eddyb> whitequark: how so?
[19:55:27] <mitsuhiko> (completely offtopic)
[19:55:48] <bstrie_erudecorp> would anyone who has used a C FFI on other languages like to compare it to rust?
[19:55:51] <bstrie_erudecorp> I'm curious how well we fare
[19:56:01] <bstrie_erudecorp> in termas of what things are easy, and what things are possible
[19:56:01] *** Quits: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP) (Ping timeout)
[19:56:16] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[19:56:18] <eddyb> bstrie_erudecorp: anything that has to use a library and dynamic bindings for FFI is probably inferior
[19:56:19] <whitequark> eddyb: well, you could make an object fall towards the Sun, but indefinitely long
[19:56:25] <tiffany> bstrie: I've had a hard time with rust's C FFI compared to luajit ffi
[19:56:28] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[19:56:30] <whitequark> perhaps I'm misunderstanding something
[19:56:30] <dg> this is probably me being silly... does anyone know why I'd keep showing up in arbitrary issues like this one? https://github.com/mozilla/rust/issues/10838
[19:56:31] *** Joins: Florob (Florob@moz-39532932.de)
[19:56:32] <tiffany> and rust has nothing on neat's C ffi
[19:56:35] <mcpherrin> bstrie_erudecorp: Rust's seems pretty painless compared to say extending python with C code
[19:56:45] <bstrie_erudecorp> tiffany: I'll look into both of those
[19:56:50] <lennart> mitsuhiko: there is a fantastic letter written by Don Knuth about this very subject, let me see if I can find it
[19:56:52] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Quit: Taking a nap.)
[19:56:52] <mcpherrin> But that's not really the same thing at all
[19:56:53] <bstrie_erudecorp> tiffany: does luajit have its own ffi distinct from lua?
[19:56:54] <eddyb> whitequark: ah, you mean abusing gravity?
[19:56:58] <whitequark> eddyb: yes
[19:57:06] <tiffany> bstrie: it has an ffi.* library: http://luajit.org/ext_ffi_api.html
[19:57:20] *** Quits: fabiand (fabiand@moz-1104E6FD.adsl.alicedsl.de) (Quit: Verlassend)
[19:57:20] *** Quits: bynaryshef (bynaryshef@ED751EDF.6171B84F.1C814B46.IP) (Quit: This computer has gone to sleep)
[19:57:30] <tiffany> bstrie: neat's ffi is only good because it has C header parsing built into the compiler, combined with a C-compatible type system
[19:57:54] <mcpherrin> tiffany: I'm hoping rustc gets c header parsing soon and then we can be awesome too :D
[19:58:12] *** Joins: herrwolfe45 (user@CACBD77F.4EBBBE62.C082B7DC.IP)
[19:58:21] <Matthias247> I think besides manually converting the headers Rusts FFI is really good
[19:58:29] <bstrie_erudecorp> mcpherrin: well we've had bindgen since before I was even around, we just need someone to bother turning clang back on and integrating it into the compiler
[19:58:33] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[19:58:50] <tiffany> I think rust's ffi is really macro-able though, does anyone know if there's an ffi wrangling library out there?
[19:58:55] <lennart> mitsuhiko: http://dl.acm.org/citation.cfm?id=1811130, but might be behind a paywall
[19:58:59] *** brson sets mode: -b *!*redozubov@*.nationalcablenetworks.ru
[19:59:03] <bstrie_erudecorp> tiffany: haven't heard of one
[19:59:08] *** Joins: kris_ (kris@moz-5A7B69C7.math.ku.dk)
[19:59:11] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[19:59:13] <pyon> #[test] fn's are basically each one its own main, right?
[19:59:32] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[20:00:06] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[20:00:10] <mcpherrin> bstrie_erudecorp: yeah, there's been a couple people grumbling lately about actually getting around to do that
[20:01:02] <mcpherrin> I have an upcoming project involving libclang so after that I might know more about it and try to get it done.  I hope somebody beats me to it (since a few months off for me)
[20:01:17] <mcpherrin> bstrie_erudecorp: I hear Julia has good C ffi too
[20:01:25] <bstrie_erudecorp> mcpherrin: https://github.com/mozilla/rust/issues/2124
[20:01:44] <bstrie_erudecorp> I'd like someone who could compare julia's ffi to rust
[20:01:48] <mcpherrin> ccall( (:getenv, "libc"), Ptr{Uint8}, (Ptr{Uint8},), "SHELL")
[20:02:08] <mcpherrin> ^ example julia ffi call
[20:02:18] <mcpherrin> equivalent to rust:
[20:02:22] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[20:02:22] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[20:02:50] <mitsuhiko> lennart: no acm subscription :(
[20:03:15] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[20:03:15] <lennart> mitsuhiko: I'll download it and throw it in my dropbox :P
[20:03:16] <eddyb> tiffany: with procedural macros, you can parse C headers behind the scenes - or at least parse C declarations inside the macro - apart from C macros, C is tokenizable to Rust AFAIK
[20:03:41] <bstrie_erudecorp> lennart: sorry, I'm going to have to report you to the imperial navy for committing acts of piracy
[20:03:46] <mcpherrin> #[link="libc"]; extern "C" { fn getenv(a: *u8) -> *u8 };  unsafe { getenv(transmute(&("SHELL"[0]))) }
[20:03:54] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[20:03:56] <tiffany> I was more thinking about having a small DSL which takes an annotated C function signature and uses the annotations to automatically convert rust types to C types
[20:04:04] <mcpherrin> (is there a better way to pass a *u8 literal to ffi? that's my #1 pain point)
[20:04:21] <mitsuhiko> tiffany: what are you trying to do out of curiosity?
[20:04:36] <bstrie_erudecorp> mcpherrin: I'm sure there is
[20:04:36] <tiffany> bindgen!(void foo(char *s, #[lengthof(s)] size_t len)); ... foo("hi"); would be nice
[20:04:38] <eddyb> mitsuhiko: bytes!?
[20:04:42] <lennart> mitsuhiko: https://www.dropbox.com/s/9mtgn4o8lrmcali/p12-knuth.pdf
[20:04:47] <bstrie_erudecorp> eddyb: I think you mean mcpherrin 
[20:04:52] <mitsuhiko> eddyb: strings!
[20:04:55] <eddyb> err, sorry
[20:04:56] <lennart> bstrie: ack D:
[20:05:20] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[20:05:22] <eddyb> bstrie_erudecorp: the stream of messages is too much to compute
[20:05:22] * bstrie_erudecorp sails a ship into lennart's house
[20:05:26] <eddyb> tiffany: ooooh, I like it
[20:05:29] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[20:05:30] *** bstrie_erudecorp is now known as bstrie_capn
[20:06:18] <bstrie_capn> mcpherrin: but yeah, I think the bytes! macro does something like that
[20:06:28] *** Joins: yota (sdouche@moz-7D878FB8.securactive.net)
[20:06:39] <mitsuhiko> lennart: thanks!
[20:06:48] *** Quits: kris_ (kris@moz-5A7B69C7.math.ku.dk) (Client exited)
[20:07:23] *** Joins: vmx_ (vmx@moz-90C4E082.pools.arcor-ip.net)
[20:07:42] *** Quits: moostik (Icedove@5A22E6A1.10715965.BCDF592F.IP) (Ping timeout)
[20:07:50] <FreeFull> What is the difficulty of converting between various NP-complete problems?
[20:08:09] *** Quits: vmx (vmx@moz-2B85A54B.pools.arcor-ip.net) (Ping timeout)
[20:08:37] <Ms2ger> Polynomial
[20:08:40] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[20:08:53] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[20:10:09] *** Joins: jensnock_ (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[20:10:43] <FreeFull> Ok, so solving one NP problem in P time and then converting others is feasible, unless it's something like O(n^10000)
[20:11:02] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[20:11:47] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[20:11:49] *** Joins: kris (kris@moz-5A7B69C7.math.ku.dk)
[20:16:08] *** Quits: espindola (espindola@moz-9F530B29.com) (Quit: Leaving...)
[20:16:15] <bstrie_capn> lennart: thanks, that was a very amusing paper
[20:16:36] *** Quits: azita (Azita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: azita)
[20:17:32] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[20:20:00] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[20:20:11] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[20:21:04] *** Quits: bvssvni (Mibbit@moz-CBD76C21.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[20:22:04] *** Quits: Jemaclus (Mibbit@4EEAB704.5843BA5A.D4E4C7A5.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:22:45] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[20:23:11] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Connection reset by peer)
[20:23:20] *** Joins: cosarara (cosarara97@moz-E5A96B3F.red-83-57-132.dynamicip.rima-tde.net)
[20:23:29] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[20:23:50] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[20:24:03] <olsonjeffery> woohoo, rust goes mainstream :) http://blog.safaribooksonline.com/2014/01/23/file-io-rust/
[20:25:44] *** Quits: bytbox (s@moz-54E13927.washdc.fios.verizon.net) (Ping timeout)
[20:26:42] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[20:27:05] *** Joins: hoverbear (hoverbear@moz-F887724A.wireless.uvic.ca)
[20:28:01] <olsonjeffery> ooo. humble weekly bundle is all roguelines
[20:28:07] <olsonjeffery> worth the price just for teleglitch
[20:28:09] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[20:28:10] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[20:28:28] <hoverbear> olsonjeffery: Thanks for the heads up
[20:29:09] <olsonjeffery> doh.
[20:29:10] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[20:29:12] <olsonjeffery> wrong chan, heh.
[20:29:40] <olsonjeffery> but, hey. still a great buy :)
[20:30:43] *** Quits: jackneill (jackneill@moz-F0ACD5A0.pool.digikabel.hu) (Quit: WeeChat 0.4.1)
[20:31:26] *** Joins: azita (Azita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[20:31:28] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[20:32:21] *** Joins: ercxx (ercan@moz-88DD3A7E.dyn.optonline.net)
[20:32:28] *** Quits: bmats (bmats@moz-87F0A991.hfc.comcastbusiness.net) (Client exited)
[20:32:41] *** Joins: new_one (new_one@C6D35DA1.641FCA23.B3C0173E.IP)
[20:33:13] <bstrie_capn> olsonjeffery: !!!
[20:33:28] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[20:33:31] *** Joins: mentero (mentero@moz-D61C6F02.proxnet.pl)
[20:34:50] *** Joins: moostik (Icedove@moz-2B884898.w83-199.abo.wanadoo.fr)
[20:34:56] *** Joins: Kjelle (karl@moz-58495553.static.spa.siw.siwnet.net)
[20:35:03] <brson> acrichto: so i finally reviewed the channel proposal rfc and was indeed disappointed that none of the people making the original complaints responded
[20:35:23] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[20:35:24] <acrichto> brson: yeah... but maybe that means that everyone liked it?
[20:35:32] <brson> wishful thinking i'm sure
[20:35:42] *** Quits: jensnock_ (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[20:35:49] <bstrie_capn> brson: I could try submitting it to reddit, or something
[20:35:50] *** Joins: dave1629 (dave@2B167EED.63B79338.DDE5D3F6.IP)
[20:35:53] <bstrie_capn> (was it already there?)
[20:36:20] *** Quits: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net) (Quit: bye!)
[20:36:45] *** Joins: jnsk (Mibbit@moz-D4B0C823.airbears.berkeley.edu)
[20:37:04] <olsonjeffery> tony anceri chimed in, iirc
[20:37:05] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[20:37:34] <jnsk> hellooo
[20:37:37] <olsonjeffery> arcieri*
[20:37:38] <brson> olsonjeffery: so he did, and he's happy just to get the option of a go-like channel
[20:37:42] <brson> so that's good
[20:37:46] *** Quits: dave1629 (dave@2B167EED.63B79338.DDE5D3F6.IP) (Quit: dave1629)
[20:38:04] *** Joins: Jemaclus (Mibbit@4EEAB704.5843BA5A.D4E4C7A5.IP)
[20:38:39] *** Quits: jnsk (Mibbit@moz-D4B0C823.airbears.berkeley.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[20:41:54] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:43:43] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[20:45:23] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[20:47:59] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[20:48:16] *** Joins: maxiepoo_ (Max@moz-FFD7044A.nuwlan.northwestern.edu)
[20:49:37] <cosarara> In the tutorial it says that to access the contents of one of the variants of an enum is to deconstruct it. What if I want to call a method from the variant?
[20:49:58] <cosarara> s/is to/you have to/
[20:50:19] <kimundi> cosarara: Variants don't have methods, only the type
[20:52:00] *** Quits: andre (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[20:53:32] *** Joins: tq (tq@moz-9FE9CCF4.a251.priv.bahnhof.se)
[20:53:34] *** Joins: herrwolf` (user@CACBD77F.4EBBBE62.C082B7DC.IP)
[20:54:14] *** Quits: Ms2ger (Ms2ger@768AD319.7BE2E8BA.187A1082.IP) (Quit: nn)
[20:54:27] *** Quits: herrwolfe45 (user@CACBD77F.4EBBBE62.C082B7DC.IP) (Ping timeout)
[20:54:56] *** Joins: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP)
[20:55:22] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[20:55:51] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[20:56:38] *** Joins: ecl3ctic (Mibbit@578C64B6.F0F44EFA.76AE55C1.IP)
[20:56:53] *** Quits: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP) (Ping timeout)
[20:57:35] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[20:57:41] *** Quits: shammancer (shammancer@389973A5.EBE303D0.DC8692D8.IP) (No route to host)
[20:57:53] *** Quits: thiago (thiago@705535C9.9074706C.BD25C20F.IP) (Ping timeout)
[20:58:15] <tq> I like the way the module system is flexible. I hope it won't be simplified into something akin to java's.
[20:58:48] *** Quits: pongad (Mibbit@moz-7E8AAD2E.res.gatech.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[20:58:58] <kimundi> tq: At this point, it is unlikely that Rusts module system will be changed significantly
[20:59:18] <tq> Good
[20:59:52] <whitequark> I know global type inference was considered (and strongly rejected) for Rust, is there a writeup somewhere?
[20:59:53] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[21:00:15] *** Joins: victorporof (victorporo@E55FB5BC.20287B6C.D111398B.IP)
[21:01:19] *** Joins: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:01:19] *** ChanServ sets mode: +ao dherman dherman
[21:02:12] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Quit: Leaving...)
[21:02:47] <bstrie_capn> whitequark: not really strongly considered, I don't think. it's a very old decision, we want function signatures to be contracts for users
[21:03:00] *** jorendorff_away is now known as jorendorff
[21:03:37] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[21:03:51] *** jorendorff is now known as jorendorff_away
[21:04:57] *** jorendorff_away is now known as jorendorff
[21:05:40] *** Quits: jdm (jdm@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: Lost terminal)
[21:07:14] *** Quits: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP) (Ping timeout)
[21:09:07] <nszceta> Can I get a link or description of how Rust relates to Mozilla
[21:09:11] <aatch> whitequark, from what I know of the history, global type inference was only considered in the same realm as all the other decisions you have to make when designing a language. There's not likely to be a write-up on it any more than one on choosing the broad strokes of the syntax.
[21:09:16] *** Joins: reima (Instantbir@moz-6A2AF62F.dip0.t-ipconnect.de)
[21:09:26] <whitequark> aatch, bstrie_capn: thanks.
[21:09:31] <bstrie_capn> nszceta: Mozilla has a research division, called Mozilla Research
[21:09:59] <bstrie_capn> nszceta: that division is researching ways to improve the capabilities of web browsers by adding concurrency
[21:10:04] <aatch> nszceta, it's a mozilla managed project, used by Mozilla Research to implement an experimental browser rendering engine named Servo
[21:10:20] <bstrie_capn> nszceta: one of those projects is a concurrent web browser named servo, and rust is the language that is written to make servo feasible
[21:10:30] <nszceta> oh damn
[21:10:34] <nszceta> that is something I didn't know about
[21:10:50] <aatch> However, it should be noted that they *are* seperate, if related, projects.
[21:10:59] <bstrie_capn> very related
[21:11:10] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Ping timeout)
[21:11:13] <bstrie_capn> half the rust devs spend half their time on servo :P
[21:11:13] <nszceta> so in essence firefox/mozilla suite has a grand vision to replace firefox with this `servo`
[21:11:18] *** jorendorff is now known as jorendorff_away
[21:11:27] <bstrie_capn> nszceta: not replace, necessarily. it's only an experiment at this point
[21:11:31] <nszceta> of course
[21:11:35] <nszceta> but the vision/roadmap must be there
[21:11:57] <nszceta> all contingent on the results of this experiment
[21:11:59] <bstrie_capn> nszceta: and it's also possible that concurrency initiatives prototyped in servo could trickle down to gecko
[21:12:05] <aatch> What I mean is that they influence each other, but Rust often breaks Servo.
[21:12:05] <ercxx> did Path just stop extending `~` to $HOME? 
[21:12:08] <nszceta> well how about that
[21:12:20] <nszceta> rust breaks servo I'm sure but rust isn't mature yet!
[21:12:31] *** Joins: orospakr (orospakr@moz-B9F98D62.dedicated.allstream.net)
[21:12:43] <nszceta> it's good that things are breaking at this stage
[21:12:49] <aatch> Well servo is one of the biggest Rust projects, I'm not sure if it's bigger than rustc itself though
[21:12:55] <nszceta> hmm
[21:13:01] <bstrie_capn> we have a person whose job it is to fix servo when rust breaks it, his name is jack :)
[21:13:03] <aatch> It may very well be.
[21:13:12] <bstrie_capn> and we have a person whose job it is to keep breaking rust, his name is patrick :P
[21:13:16] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[21:13:17] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[21:13:26] <nszceta> oh man
[21:13:34] *** Quits: kris (kris@moz-5A7B69C7.math.ku.dk) (Client exited)
[21:13:47] <aatch> The servo repo (on github, if you want to take a look) has a submodule to a specific version of the rust repo
[21:13:50] <nszceta> what are the goals for rust 1.0
[21:13:57] <nszceta> from now until then
[21:14:02] <nszceta> what must happen to be considered mature
[21:14:21] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[21:14:21] <bstrie_capn> nszceta: rust 1.0 will just be a release where the devs feel confident that all future features can be added without breaking backwards compatibility
[21:14:39] <aatch> nszceta, a few things. There's some smart-pointer stuff in the pipeline, along with proper allocator support
[21:14:45] <bstrie_capn> nszceta: the specific features that we're waiting for are a bit wide-ranging and nebulous to describe
[21:14:52] <tq> Don't rush for 1.0
[21:14:52] *** jorendorff_away is now known as jorendorff
[21:15:01] <nszceta> not rushing at all but my excitement is difficult to hold back
[21:15:12] *** Quits: bakkdoor (bakkdoor@moz-C3942EC.osnanet.de) (Quit: Leaving...)
[21:15:19] <aatch> But as bstrie_capn says, there's a lot (Those two are the ones I'm personally interested in the most)
[21:15:43] <reima> Is there a way to express "if the type T implements trait X, then it also implements trait Y with the following implementation"?
[21:15:48] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[21:15:55] <aatch> reima, yes.
[21:16:12] <aatch> impl<T:X> Y for T { ... }
[21:16:13] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[21:16:24] <nszceta> can I please get a reference to generic type implementation regarding rust
[21:16:48] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[21:16:56] <aatch> Though that will prevent any other implementations of Y for any other type
[21:16:59] <reima> aatch: That's what I've tried already, but this leads to "conflicting implementations" as soon as I add Y impls for other types as well
[21:17:17] <aatch> reima, yeah, can't do anything about that, sorry.
[21:17:22] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[21:17:22] *** Joins: kris_ (kris@moz-5A7B69C7.math.ku.dk)
[21:17:40] *** jorendorff is now known as jorendorff_away
[21:18:08] <reima> aatch: Too bad :( Seems like that *should* work, conceptually.
[21:18:22] <bstrie_capn> reima: there's a bug open for it
[21:18:28] <mcpherrin> I /cb
[21:18:32] <mcpherrin> oops
[21:18:33] <bstrie_capn> it would be a big deal if it got fixed
[21:18:45] <reima> bstrie_capn: That's good to know!
[21:19:00] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[21:19:12] <aatch> nszceta, the implementation is just modified Hindley-Milner. Extended to support sub-typing via regions
[21:19:24] <nszceta> thank you  - I will keep that in mind
[21:20:36] <tq> Is the syntax for owned pointers going to be changed like it was for gc and rc?
[21:20:49] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:21:13] <bstrie_capn> tq: undecided
[21:21:21] <bstrie_capn> tq: what would you prefer? :)
[21:21:30] <FreeFull> I don't see the benefit of changing it
[21:21:39] <FreeFull> Unless you do offer something visibly better
[21:21:40] <tq> I have no opinion
[21:21:44] <aatch> tq, not sure. Last I heard it was an open question. It's likely it'll become sugar for the appropriate allocator expression, if it does stay.
[21:21:50] <bstrie_capn> I have no opinion, and I must scream
[21:21:55] <bstrie_capn> s/scream/comment on hacker news
[21:22:01] *** Joins: tikue (tkuehn@268C2DFE.FAD414BA.D74CC41D.IP)
[21:22:10] *** Quits: cdidd (cdidd@moz-5A257A3.broadband.corbina.ru) (Ping timeout)
[21:22:10] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[21:22:12] <tq> Where can I read about the discussion?
[21:22:19] <aatch> bstrie_capn, heh, I was going to say the same, except comment on reddit.
[21:22:20] *** jorendorff_away is now known as jorendorff
[21:22:30] <bstrie_capn> tq: it's sort of all over the mailing list and irc and bug tracker. would you like a summary of the options?
[21:22:43] <tq> Ill go look there
[21:22:56] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[21:23:00] <aatch> There's probably also stuff in the meeting notes
[21:23:05] <tikue> which discussion?
[21:23:07] <bstrie_capn> and on reddit
[21:23:11] *** Joins: nif (nif@moz-C672189A.wireless.oberlin.edu)
[21:23:18] *** vmx_ is now known as vmx
[21:23:22] <bstrie_capn> tikue: whether to change ~ to anything, either in constructor position or type position
[21:23:23] <tq> I suppose it's nice to have a shortcut for that very common operation (heap allocation)
[21:23:43] <bstrie_capn> `box` is already a synonym for `~` as a constructor
[21:23:52] <tikue> bstrie_capn: i haven't seen that much discussion about that. everything on the ML was about the wording of box etc
[21:23:55] <tq> Oh
[21:23:57] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[21:24:07] <bstrie_capn> I'm torn on whether I want `~` to stick around as a constructor, though
[21:24:11] <tikue> yeah, idk
[21:24:17] *** Joins: ofeldt- (ofeldt@moz-7BD41487.dip0.t-ipconnect.de)
[21:24:20] <tq> I'm not sure it's fundamental enough for that
[21:24:22] <bstrie_capn> and some people what `Uniq<T>` to replace `~T` as a type name
[21:24:31] <bstrie_capn> I think it's fundamental
[21:24:33] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[21:24:34] <bstrie_capn> but who knows
[21:24:40] <bstrie_capn> I think languages should be opinionated
[21:24:46] <tq> Sure
[21:24:55] <bstrie_capn> and I think ~ is the pointer that you should reach for first, the majority of the time
[21:24:58] <aatch> I personally think it should stay.
[21:24:59] <tq> I just have not thought about it enough
[21:25:07] *** jorendorff is now known as jorendorff_away
[21:25:08] *** Quits: ofeldt (ofeldt@moz-65F49932.dip0.t-ipconnect.de) (Ping timeout)
[21:25:43] <tq> The only thing I have against ~ is that it is visually similar to -
[21:25:53] <tq> Perhaps I should get glasses
[21:26:01] <bstrie_capn> tq: perhaps you should get a better font :P
[21:26:11] <aatch> tq, maybe, but it doesn't really come up as problem very often.
[21:26:11] <tq> Yeh :)
[21:26:13] *** Joins: heftig (heftig@moz-EBFD3D1F.dip0.t-ipconnect.de)
[21:26:20] <bstrie_capn> also, unary - is incredibly rare compared to ~
[21:26:35] <tq> Yes, it's no biggie
[21:26:56] <aatch> bstrie_capn, with the exception of writing negative numbers.
[21:27:08] <bstrie_capn> which is only on literals
[21:27:14] <bstrie_capn> -2 vs ~2
[21:27:22] <bstrie_capn> and it's just weird to box an int :P
[21:27:26] <tq> I've never had the need to do that
[21:27:27] <aatch> Yeah, you don't normally box primitives
[21:27:33] <bstrie_capn> (by "only on" I mean typically)
[21:27:34] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[21:27:37] <aatch> (which was my point)
[21:27:46] *** bstrie_capn is now known as bstrie_parenthetical
[21:28:15] *** Joins: seanmonstar (seanmonsta@8C4EE5CE.65CB159.9D887C86.IP)
[21:28:18] <mcpherrin> tq: or a font that squiggles ~ more
[21:28:19] <whitequark> bstrie_parenthetical: parenthetical?
[21:28:20] <bstrie_parenthetical> anyway, it hasn't stopped both ~ and - from being unary prefix operators in other languages
[21:28:33] <tq> mcpherrin: sounds like a good idea
[21:28:59] <bstrie_parenthetical> whitequark: of, relating to, or inserted as a parenthesis
[21:29:14] *** Joins: bmats (bmats@moz-87F0A991.hfc.comcastbusiness.net)
[21:29:15] <bstrie_parenthetical> I use pragmata pro
[21:29:17] <mcpherrin> I would be okay with some Uq<T> replacing ~ iff it is two letters maybe three
[21:29:21] <bstrie_parenthetical> the ~ is very squiggly
[21:29:34] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[21:29:37] <mcpherrin> Uniq<T> is pushign it for length :P
[21:29:52] <mcpherrin> Especially if T is a longer type name.
[21:29:54] <tq> bstrie_parenthetical, worse in C where ~ could very be mistaken for a - at a quick glance
[21:29:56] *** Quits: mankyKitty (Instantbir@moz-21AD3B58.rev.sfr.net) (Quit: mankyKitty)
[21:30:02] *** Quits: autra (augustin@moz-BE76895F.fbx.proxad.net) (Ping timeout)
[21:30:07] <bstrie_parenthetical> mcpherrin: eh, once you've forced the user to both type an uppercase letter AND fence a thing with angle brackets, adding more lowercase letters isn't a big deal
[21:30:12] <tq> since you don't expect it
[21:30:36] *** Quits: new_one (new_one@C6D35DA1.641FCA23.B3C0173E.IP) (Ping timeout)
[21:31:21] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[21:31:32] <tq> I think that the compacting firefox GC should be ported to rust
[21:32:27] *** Quits: TimAbraldes (quassel@moz-BF4D134B.hsd1.or.comcast.net) (Connection reset by peer)
[21:32:46] *** Joins: dbaupp (Thunderbir@moz-A840EB3D.lns20.syd6.internode.on.net)
[21:32:47] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[21:32:49] *** Joins: alonlevy (alon@moz-AFF00A6D.bb.netvision.net.il)
[21:32:49] <mcpherrin> bstrie_parenthetical: I'm concerned about types running off the edge of the screen
[21:33:19] <whitequark> bstrie_parenthetical: I would say that you're a programmer, since you answered my question perfectly and yet the answer was useless to me
[21:33:42] <tq> whitequark, is that common to programmers?
[21:33:44] <whitequark> but that would be redundant.
[21:33:52] <mcpherrin> bstrie_parenthetical: especially if you have like let my_holder_of_loot: Uniq<Vec<Uniq<Map<str, Loot<Rc<GoldCoins>>>>>>>>>
[21:33:56] *** Joins: new_one (new_one@C6D35DA1.641FCA23.B3C0173E.IP)
[21:34:12] <mcpherrin> (possibly that type is smelly and/or should be inferred, though
[21:34:25] <tq> mcpherrin, yeah I just used exactly that type yesterday
[21:34:51] <bstrie_parenthetical> mcpherrin: typedefs! :)
[21:35:22] <bstrie_parenthetical> type StupidContrivedExample = Uniq<Vec<Uniq<Map<str,Loot<Rc<GoldCoins>>>>>>>>>;
[21:36:10] <mcpherrin> the type is Scoreboard :-)
[21:37:01] <mcpherrin> I concede that after writing it a few times, Uniq<t> is okay
[21:37:25] <tq> Also, intrusive rc would be nice
[21:37:25] <whitequark> tq: oh, apparently this joke does not exist in english. "Sherlock Holmes and Dr Watson are flying in a hot air balloon after wondering where a huge storm has carried them. They see a shepherd down on the ground, and yell: "Hey! Where are we?" The man yells back: "On a hot air balloon!" Holmes: "I deduce that man must be a programmer." Watson: "But why?" Holmes: "His answer was perfectly correct yet absolutely useless for us."
[21:37:35] *** Joins: squiggy (Mibbit@moz-E02EA2F2.hsi.kabel-badenwuerttemberg.de)
[21:37:51] *** Quits: squiggy (Mibbit@moz-E02EA2F2.hsi.kabel-badenwuerttemberg.de) (Quit: http://www.mibbit.com ajax IRC Client)
[21:38:03] <mcpherrin> whitequark: The man on the ground says, "You must be a manager.  You're exactly in the same place you were before, but now it's my fault"
[21:38:30] <tq> :)
[21:38:38] <bstrie_parenthetical> "Wenn ist das NunstÃ¼ck git und Slotermeyer? Ja! Beiherhund das Oder die Flipperwaldt gersput!"
[21:38:59] <whitequark> (I'm being pedantic, but Holmes didn't blame the shepherd for his misfortune)
[21:39:28] <mcpherrin> I've never heard it with holmes/shepard but the basic joke stands
[21:39:52] <whitequark> bstrie_parenthetical: google translate chokes on that.
[21:40:02] *** jorendorff_away is now known as jorendorff
[21:40:13] <bstrie_parenthetical> how about "Der ver zwei peanuts, valking down der strasse, and von vas . . . assaulted! peanut."
[21:40:52] *** Joins: bakkdoor (bakkdoor@moz-C3942EC.osnanet.de)
[21:40:52] *** Joins: cdidd (cdidd@moz-E5D122D2.broadband.corbina.ru)
[21:40:53] <bstrie_parenthetical> whitequark: https://en.wikipedia.org/wiki/The_Funniest_Joke_in_the_World
[21:41:01] *** Quits: dbaupp (Thunderbir@moz-A840EB3D.lns20.syd6.internode.on.net) (Ping timeout)
[21:41:08] <FreeFull> Ponty Mython
[21:41:27] <whitequark> oh.
[21:42:07] *** Parts: herrwolf` (user@CACBD77F.4EBBBE62.C082B7DC.IP) (ERC Version 5.3 (IRC client for Emacs))
[21:42:16] <kimundi> As a German, I take offense to the spelling of the second one. :P - I would take offense to the first one too, if not for the fact that it makes even less sense here ;)
[21:42:28] <bstrie_parenthetical> kimundi: no! don't read that!!!
[21:42:34] <bstrie_parenthetical> rip kimundi :(
[21:42:54] *** bstrie_parenthetical is now known as bstrie_remorse
[21:42:57] * kimundi translates that joke into English now
[21:43:20] <mcpherrin> As a person who went to germany once, looks like german to me!
[21:43:59] * chromatic had that sketch on videocassette once, but a bunch of Canadian separatists stole it
[21:44:09] <FreeFull> There were two peanuts, walking down the road, and one was... assaulted! peanut.
[21:44:21] *** Joins: popinman322 (MagiSun@moz-DB516D62.twcny.res.rr.com)
[21:44:35] <popinman322> Exception: no snapshot file found for platform winnt-x86_64, rev 7b95b5c
[21:44:37] <popinman322> :c
[21:44:44] *** Quits: cosarara (cosarara97@moz-E5A96B3F.red-83-57-132.dynamicip.rima-tde.net) (Quit: Leaving)
[21:44:55] <bstrie_remorse> popinman322: I don't think we support 64-bit windows yet?
[21:45:34] <popinman322> 'arite
[21:45:52] <Armavica> hi! do you know if there exists something similar to OCaml `as` in pattern matching ?
[21:46:09] <whitequark> pat @ x, I think
[21:46:13] <whitequark> it's undocumented
[21:46:20] <bstrie_remorse> and very mysterious
[21:46:28] <Armavica> oh, thanks
[21:46:39] <whitequark> rusti: match (1, 2) { (_, _) @ x => x }
[21:46:43] -rusti- pastebinned 6 lines of output: http://ix.io/a5k
[21:46:53] * whitequark shrugs
[21:47:06] <Armavica> undocumented because not yet documented or because to be removed anyway?
[21:47:31] <bstrie_remorse> rusti: match (1, 2) { x @ (y, _) => y }
[21:47:32] -rusti- <anon>:10:24: 10:34 warning: unused variable: `x`, #[warn(unused_variable)] on by default
[21:47:32] -rusti- <anon>:10         match (1, 2) { x @ (y, _) => y }
[21:47:33] -rusti-                                  ^~~~~~~~~~
[21:47:33] -rusti- 1
[21:47:55] <FreeFull> whitequark: Yeah, you just had them the wrong way around
[21:48:01] <Armavica> nice, thank you
[21:48:05] <whitequark> FreeFull: no, rust has them the wrong way around
[21:48:10] <FreeFull> rusti: match (1, 2) { x @ (_, _) => x }
[21:48:11] -rusti- (1, 2)
[21:48:13] <whitequark> :p
[21:48:16] <FreeFull> Rust has them the same way around as Haskell
[21:48:33] <whitequark> but OCaml has them the *right* way around!
[21:48:37] <bstrie_remorse> Armavica: undocumented because back when we wrote pattern matching, we had no documentation at all for what patterns were legal. and it's so obscure that everyone forgot about it :)
[21:48:52] <mcpherrin> Armavica: documentation pull requests welcome :-)
[21:48:59] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[21:49:10] <mcpherrin> hmm maybe i should write a guide-patmatch
[21:49:28] *** Joins: jdm (jdm@moz-C07D5168.p2p.sfo1.mozilla.com)
[21:49:28] *** ChanServ sets mode: +o jdm
[21:49:38] <Armavica> mcpherrin: i'll think about it!
[21:49:39] <kimundi> bstrie_remorse: When is the <Nun>-piece <git> and <Slotermeyer>? Yes! <Beier>-dog the or the <Flipper>-forest <gersput>!
[21:49:45] *** Joins: cds (uid23856@moz-E77DEB21.irccloud.com)
[21:49:48] * kimundi retaliates.
[21:49:58] * bstrie_remorse in the hospital
[21:50:06] <bstrie_remorse>  /nick bstrie_convalescing
[21:52:37] *** Quits: vmx (vmx@moz-90C4E082.pools.arcor-ip.net) (Quit: Leaving)
[21:52:44] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[21:54:07] *** Joins: kris__ (kris@moz-147EE6DF.diku.dk)
[21:54:26] *** Joins: eholk (eholk@moz-BA312F07.crest.iu.edu)
[21:54:28] *** Quits: kris_ (kris@moz-5A7B69C7.math.ku.dk) (Ping timeout)
[21:55:04] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[21:55:21] *** Quits: vosen (vosen@moz-266BA656.icpnet.pl) (Ping timeout)
[21:55:34] *** Joins: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP)
[21:55:38] *** Joins: vosen (vosen@moz-266BA656.icpnet.pl)
[21:55:54] *** Joins: espindola (espindola@moz-9F530B29.com)
[21:57:23] <FreeFull> bstrie_remorse: Is the pattern matching quite haskell-like overall?
[21:57:35] *** Quits: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP) (Ping timeout)
[21:57:38] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[21:58:08] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[21:58:11] <bstrie_remorse> FreeFull: I can't say, I've never used any language with pattern matching but rust :P
[21:58:28] <bstrie_remorse> FreeFull: that said, I think that marijn (the one who implemented our pattern matching) was a big haskell fan, so
[21:58:30] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[21:59:11] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[21:59:34] *** Quits: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[22:00:07] *** Joins: duncanmv (duncan@moz-39A32FB0.dip0.t-ipconnect.de)
[22:00:09] *** Quits: cdidd (cdidd@moz-E5D122D2.broadband.corbina.ru) (Ping timeout)
[22:00:17] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[22:00:22] <veddan> why does 'make' always fail for me if I have an old rust installation in /usr/local?
[22:00:43] <veddan> it fails with "undefined symbol" while linking stage1 rustc
[22:00:46] <duncanmv> Hi guys. Is there something more advanced than extra::getopts, that allows for defining subcommands with options in addition to global options (like git, subversion, others..)
[22:01:02] <veddan> if I remove all old rust libs from /usr/local/lib it compiles fine
[22:01:03] *** jorendorff is now known as jorendorff_away
[22:01:29] <veddan> 100% reproducible on fresh clones, so I must be doing something wrong
[22:01:33] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[22:02:01] <aatch> veddan, by "old installation" what do you mean exactly?
[22:02:11] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[22:02:18] <tq> veddan: ./configure ; make ?
[22:02:59] <veddan> aatch: if I do `make; sudo make install; make clean; ./configure; make` the final make will fail
[22:03:21] <veddan> aatch: until I remove old rust libs from /usr/local/lib
[22:03:33] <aatch> Weird.
[22:03:38] <kimundi> duncanmv: Not in the stdlib at least
[22:03:39] <olsonjeffery> veddan: probably because your install in /usr/local is stepping on your in-tree build somehow
[22:03:41] <olsonjeffery> this happens to me
[22:03:51] <olsonjeffery> i usually do make uninstall before building a new one
[22:04:00] *** Quits: squiddy (squiddy@moz-8525E0F5.adsl.alicedsl.de) (Input/output error)
[22:04:20] <olsonjeffery> this happens to me on OSX
[22:04:22] <kimundi> duncanmv: Though I'm working on and off on implementing http://docopt.org/ :P
[22:04:36] *** jorendorff_away is now known as jorendorff
[22:04:51] <veddan> olsonjeffery: I'm on OpenSUSE
[22:05:20] *** Joins: brson (brson@moz-C07D5168.p2p.sfo1.mozilla.com)
[22:05:20] *** ChanServ sets mode: +ao brson brson
[22:05:25] <acrichto> veddan: the stage1 compiler is linked dynamically to libstd so the system linker or the dyanmic linker at runtime is probably picking up the old libstd instead of the new libstd
[22:05:36] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[22:05:53] <acrichto> veddan: can you run 'ldd' on ./$target/stage1/bin/rustc?
[22:06:18] *** Quits: tikue (tkuehn@268C2DFE.FAD414BA.D74CC41D.IP) (Quit: tikue)
[22:06:38] <veddan> acrichto: you're right, all rust libs point to /usr/local
[22:07:01] <acrichto> veddan: so that probably means that 'gcc' is picking up those libs instead of the new libs
[22:07:04] <acrichto> which is disturbing
[22:07:18] <veddan> acrichto: I guess I could LD_LIBRARY_PATH?
[22:07:21] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[22:07:39] <acrichto> I think that ldd points at the ones it was linked against without consulding LD_LIBRARY_PATH
[22:07:41] <acrichto> but I could be wrong
[22:07:50] <acrichto> so we build rustc like:
[22:07:57] *** Quits: azita (Azita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: azita)
[22:08:03] <acrichto> gcc rustc.o -o rustc -L <path to new libstd> -lstd-long-hash
[22:08:17] <acrichto> so if gcc is prioritizing /usr/local/lib over -L, you have problems
[22:08:41] <aatch> linking is done with a name, then the loader looks in the path for the library.
[22:08:54] <acrichto> I'm actually not sure how gcc prioritizes -L vs the default path
[22:08:58] <aatch> So ldd returning the the usr/local libs is expected.
[22:09:31] <acrichto> we have rpath though
[22:09:37] <veddan> 'LD_LIBRARY_PATH=... ldd $target/stage1/lib ldd ..../rustc' gives me the right libs
[22:09:40] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[22:09:41] <acrichto> which should in theory point to the local ones, not the system ones
[22:09:46] <acrichto> hmm...
[22:09:53] <acrichto> interesting
[22:10:08] <aatch> veddan, what platform are you on?
[22:10:32] <ecl3ctic> I'm disappointed that nested functions can't access variables in the enclosing scope. Is there an elegant way to operate on a bunch of local variables through an inline-able procedure that can be called from multiple places in a function to prevent code duplication?
[22:10:37] <veddan> OpenSUSE, Linux datoraki 3.11.6-4-default #1 SMP Wed Oct 30 18:04:56 UTC 2013 (e6d4a27) x86_64 x86_64 x86_64 GNU/Linux
[22:10:41] <ecl3ctic> i.e. not passing 8 different parameters by ref
[22:11:04] <whitequark> ecl3ctic: closures
[22:11:09] <kimundi> ecl3ctic: Use a closure?
[22:11:20] <ecl3ctic> But I don't want to pass it anyway
[22:11:22] <kimundi> let f = || { ... };
[22:11:24] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[22:11:28] <ecl3ctic> anywhere*
[22:11:32] *** Quits: heftig (heftig@moz-EBFD3D1F.dip0.t-ipconnect.de) (Ping timeout)
[22:11:49] <kimundi> let x = 5u; let f = || { println!("{}", x); }; f();
[22:11:52] <kimundi> rusti: let x = 5u; let f = || { println!("{}", x); }; f();
[22:11:53] -rusti- 5
[22:11:54] -rusti- ()
[22:12:03] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[22:12:10] <ecl3ctic> Wait, so I can assign a closure to a variable and then call it? That makes sense
[22:12:15] <ecl3ctic> that's what I'm looking for
[22:12:25] <aatch> stack closures are marked as inline as well
[22:12:46] <aatch> (not sure if it's just inlinehint or alwaysinline though)
[22:13:08] <aatch> either way, it'll almost certainly get inlined if you optimise.
[22:13:40] <ecl3ctic> I hadn't yet seen closures used outside of passing to other functions. Awesome. Thanks guys
[22:14:23] <veddan> acrichto: can I see exactly how gcc is invoked while linking rustc? I want to see the -rpath.
[22:14:50] *** Joins: cdidd (cdidd@moz-6E5FA24F.broadband.corbina.ru)
[22:14:51] <acrichto> veddan: if you pass the -Z print-link-args to rustc it'll print out how it invokes gcc
[22:15:16] *** Joins: tgt (Mibbit@moz-7256FE1F.range86-144.btcentralplus.com)
[22:15:18] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[22:15:21] <acrichto> veddan: for rust's build system, you're probably best off editing Makefile.in and then re-running ./configure
[22:15:31] <acrichto> just edit the CFG_RUST_FLAGS var I think
[22:16:04] *** Quits: tgt (Mibbit@moz-7256FE1F.range86-144.btcentralplus.com) (Quit: http://www.mibbit.com ajax IRC Client)
[22:16:07] <veddan> acrichto: not really familiar with autotools, but I'll look for the variable
[22:16:39] *** jorendorff is now known as jorendorff_away
[22:16:48] <aatch> veddan, it's not autotools, btw
[22:16:50] <acrichto> veddan: oh don't worry too much, we don't use autotools, it just looks like we do
[22:16:58] *** Quits: maxiepoo_ (Max@moz-FFD7044A.nuwlan.northwestern.edu) (Quit: maxiepoo_)
[22:17:16] <acrichto> veddan: oh nvermind
[22:17:19] *** Joins: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net)
[22:17:25] <acrichto> RUSTFLAGS='-Z print-link-args' make
[22:17:27] <acrichto> that'll work
[22:17:31] <acrichto> like 80% sure
[22:18:52] *** Joins: Munchor (munchor@moz-8CFC84AD.yourvserver.net)
[22:19:02] <veddan> acrichto: yeah, that seems to work
[22:20:32] <duncanmv> kimundi: awesome ... so you are working on a rust version?
[22:20:51] <kimundi> duncanmv: Yeah, but no idea when/if it will be done
[22:21:01] *** jorendorff_away is now known as jorendorff
[22:21:19] *** Quits: AvianFlu_ (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Input/output error)
[22:21:43] <veddan> acrichto: it does in fact give both the target dir AND /usr/local/... as -rpath
[22:22:06] <acrichto> veddan: copy/paste what you see?
[22:22:10] <acrichto> in a gist probably
[22:22:51] <veddan> I'll run it until it fails (should be just a few minutes more) and then post a gist
[22:22:57] <acrichto> cool
[22:23:19] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[22:23:31] *** jorendorff is now known as jorendorff_away
[22:23:33] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[22:23:35] *** Joins: bytbox (s@moz-54E13927.washdc.fios.verizon.net)
[22:23:37] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[22:23:47] *** Joins: Jesse_ (jruderman@moz-BBE3ABD.mv.mozilla.com)
[22:23:51] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Connection reset by peer)
[22:24:08] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[22:25:22] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[22:25:53] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[22:26:15] <veddan> https://gist.github.com/veddan/8588071
[22:27:22] *** Quits: vosen (vosen@moz-266BA656.icpnet.pl) (Ping timeout)
[22:27:22] <veddan> the to final flags when linking are both -rpath, one to the build dir and one to /usr/local
[22:27:24] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:27:25] <veddan> two*
[22:27:34] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[22:27:50] *** jorendorff_away is now known as jorendorff
[22:28:10] *** Joins: vosen (vosen@moz-266BA656.icpnet.pl)
[22:28:44] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:29:30] <acrichto> veddan: ah ok, I see what's going on
[22:29:32] <acrichto> we have 3 rpaths
[22:29:38] <acrichto> a relative, an absolute, and a install-prefix one
[22:29:56] <acrichto> the install prefix one is pointing at the old one
[22:30:00] <acrichto> and I guess it's getting picked up first?
[22:30:02] *** Joins: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:30:07] <acrichto> I dunno how priority works
[22:30:15] *** Joins: lenary (sid5084@moz-31ABA2C0.irccloud.com)
[22:30:26] <lenary> this is going to sound like a really stupid question, but google isn't helping
[22:30:31] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[22:30:33] <lenary> how do you get the length of a string, in characters
[22:30:41] <lenary> (it's a ~str)
[22:30:49] <acrichto> lenary: char_len()
[22:30:56] <lenary> well, there we go
[22:30:57] <acrichto> rusti: "a, b, c".char_len()
[22:30:58] -rusti- 7u
[22:31:08] <steveklabnik> lenary: no worries, this channel loves 'stupid' questions
[22:31:11] <steveklabnik> i ask them all the time
[22:31:22] <mcpherrin> easy questions are great because they're easy to answer
[22:31:25] <acrichto> rusti: ("â˜ƒ".len(), "â˜ƒ".char_len())
[22:31:25] <steveklabnik> rusti: "a, b, c".len()
[22:31:26] -rusti- (3u, 1u)
[22:31:26] -rusti- 7u
[22:31:27] <lenary> i don't understand how google failed me on that
[22:31:28] <mcpherrin> then you get to feel like a smarty pants
[22:31:35] <veddan> (assuming character == codepoint)
[22:31:45] <lenary> @acrichto yeah, realised i needed char rather than byte len at least :)
[22:31:45] <steveklabnik> makes sense
[22:32:11] <reima> lenary: Most interesting string functions are here: http://static.rust-lang.org/doc/master/std/str/trait.StrSlice.html
[22:32:23] *** Quits: alonlevy (alon@moz-AFF00A6D.bb.netvision.net.il) (Ping timeout)
[22:32:47] <acrichto> zomg if you google "rust hash map" the documentation is the first hit
[22:32:47] <Jemaclus> oh. man.
[22:32:49] <Jemaclus> that was so useful.
[22:32:49] <acrichto> that's like a first
[22:33:12] <acrichto> googling "rust string documentation" isn't quite so successful
[22:33:14] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[22:33:36] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[22:34:00] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[22:34:12] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[22:34:15] *** Joins: ecr (chatzilla@E940BDD3.FBC7597F.11F8506F.IP)
[22:35:01] <mcpherrin> So I'm thinking of cutting a rust logo out of a hunk of solid iron and letting it rust
[22:35:12] <mcpherrin> WHY IS THERE SO MUCH DETAIL IN THE LOGO D-:
[22:35:13] <tiffany> I won't be surprised if a good chunk of that is because of bubbling
[22:35:34] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[22:35:35] *** ChanServ sets mode: +ao pcwalton pcwalton
[22:35:43] <whitequark> oooo, you just gave me an excellent idea
[22:35:54] <whitequark> the first thing I do when my new CNC arrives is to make a rust logo
[22:36:04] <whitequark> and then program its new controller in rust <3
[22:36:07] <acrichto> veddan: commented https://github.com/mozilla/rust/issues/11747#issuecomment-33177143
[22:36:22] <whitequark> is there one in SVG?..
[22:36:45] <acrichto> whitequark: you could sell those for good money!
[22:36:57] <whitequark> acrichto: you think so? hmm
[22:36:59] <acrichto> or maybe not, I'm not a license guru kind of guy
[22:37:09] <acrichto> whitequark: you may be interested in https://github.com/mozilla/rust/issues/11562
[22:37:27] <mcpherrin> whitequark: Unfortunately I don't have a CNC so was going to do it with a hack saw :-/
[22:37:34] <mcpherrin> and files.
[22:37:49] <whitequark> acrichto: doesnt' seem to be forbidden: https://www.mozilla.org/en-US/styleguide/identity/mozilla/innovations/
[22:38:23] <whitequark> (selling) asking something like pololu.com is going to be cheaper though
[22:38:28] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[22:39:52] *** Quits: kris__ (kris@moz-147EE6DF.diku.dk) (Client exited)
[22:41:54] *** jorendorff is now known as jorendorff_away
[22:41:58] *** Joins: benbangert (bbangert@moz-B1FEE9C0.org)
[22:42:18] <benbangert> can Rust produce a .so library for calling into?
[22:42:31] <steveklabnik> benbangert: yup, i think you pass --shared?
[22:42:33] <steveklabnik> or is it --lib
[22:42:35] <acrichto> benbangert: it can indeed! you just want --dylib
[22:42:46] <steveklabnik> dammit
[22:42:47] <steveklabnik> lol
[22:42:49] <acrichto> or #[crate_type = "dylib"]
[22:42:50] *** Joins: marianoguerra (marianogue@moz-C6801CB6.dip0.t-ipconnect.de)
[22:42:53] *** Joins: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de)
[22:43:07] <benbangert> cool
[22:43:17] *** jorendorff_away is now known as jorendorff
[22:43:27] *** Quits: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Quit: )
[22:43:39] <steveklabnik> if you're calling into rust, you probably want to watch wycats' talk from the first sf bay area meetup
[22:43:51] <steveklabnik> he does a really good job explaining how he made a rust extension for ruby
[22:44:25] <mcpherrin> speaking of, rust meetup next week right? exciting times in SF!
[22:44:31] <steveklabnik> yup!
[22:44:34] *** jorendorff is now known as jorendorff_away
[22:44:36] <steveklabnik> so much going on
[22:44:38] <benbangert> steveklabnik: cool, got a link? :)
[22:44:50] <mcpherrin> it's on air.mozilla.org somewhere
[22:45:12] <steveklabnik> https://air.mozilla.org/sprocketnes-practical-systems-programming-in-rust/
[22:45:17] <steveklabnik> benbangert: ^^^
[22:45:20] <steveklabnik> gotta scroll to his part
[22:45:50] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[22:46:12] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[22:46:53] *** Joins: vosen_ (vosen@moz-266BA656.icpnet.pl)
[22:46:55] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[22:47:00] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[22:47:36] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[22:47:56] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[22:47:56] *** Quits: vosen (vosen@moz-266BA656.icpnet.pl) (Ping timeout)
[22:48:25] *** Quits: orospakr (orospakr@moz-B9F98D62.dedicated.allstream.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[22:49:12] *** jorendorff_away is now known as jorendorff
[22:49:13] *** Quits: sellout (Adium@2917A62E.8B65BA63.1D2A2C57.IP) (Quit: Leaving.)
[22:49:20] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[22:49:52] *** Quits: vosen_ (vosen@moz-266BA656.icpnet.pl) (Ping timeout)
[22:50:19] *** jorendorff is now known as jorendorff_away
[22:52:33] *** Joins: vosen (vosen@moz-266BA656.icpnet.pl)
[22:55:12] <Armavica> rusti: let a = 42; let b = match (&a, &a, &a) { (x, &y @ z, u @ &t) => (x, y, z, u, t) }; println("{:?}", b);
[22:55:15] -rusti- pastebinned 7 lines of output: http://ix.io/a5y
[22:55:29] <Armavica> rusti: let a = 42; let b = match (&a, &a, &a) { (x, &y @ z, u @ &t) => (x, y, z, u, t) }; println!("{:?}", b);
[22:55:31] -rusti- (&42, 42, 42, &42, 42)
[22:55:31] -rusti- ()
[22:55:40] <Armavica> isn't it strange ?
[22:55:52] *** Joins: timebomb (timebomb@moz-DE50F62C.adsl.alicedsl.de)
[22:55:58] *** Joins: dbaupp (Thunderbir@32742E97.D5A1DCF.37681C44.IP)
[22:56:07] <Armavica> I would have expected (&42, 42, &42, &42, 42)
[22:56:19] *** Joins: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP)
[22:56:45] *** Quits: new_one (new_one@C6D35DA1.641FCA23.B3C0173E.IP) (Client exited)
[22:56:50] *** Quits: Kjelle (karl@moz-58495553.static.spa.siw.siwnet.net) (Quit: )
[22:56:52] *** jorendorff_away is now known as jorendorff
[22:57:53] <sfackler> I would expect either that or &y @ z to fail to parse
[22:58:17] *** jorendorff is now known as jorendorff_away
[22:58:18] *** Quits: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP) (Ping timeout)
[22:58:22] *** Quits: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[22:58:28] <dwrensha> rusti: let a = 42; let b = match (&a, &a, &a) { (x, &(y @ z), u @ &t) => (x, y, z, u, t) }; println!("{:?}", b);
[22:58:29] *** Quits: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de) (Quit: Leaving.)
[22:58:31] -rusti- pastebinned 6 lines of output: http://ix.io/a5B
[22:59:10] *** Quits: rca_ (rcatolino@moz-5E0A44D2.adsl.proxad.net) (Ping timeout)
[22:59:17] <kimundi> I think its parsing it the way dwrensha wrote it
[22:59:47] *** Quits: bmats (bmats@moz-87F0A991.hfc.comcastbusiness.net) (Client exited)
[22:59:59] <kimundi> which makes sense
[23:00:20] <Armavica> oh, true
[23:00:33] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[23:00:36] <steveklabnik> hey, does anyone have any thoughts on https://github.com/steveklabnik/rust_for_rubyists/issues/48 ?
[23:00:40] <steveklabnik> might be a bug
[23:00:43] <yuriks> what does (y @ z) mean?
[23:00:50] *** Quits: ecr (chatzilla@E940BDD3.FBC7597F.11F8506F.IP) (Ping timeout)
[23:01:15] <whitequark> actually, rust logo doesn't exist in dxf or openscad formats. need to make one!
[23:01:23] <sfackler> steveklabnik: It might be an \n vs \r\n thing
[23:01:26] <Armavica> yuriks: ident @ pattern allows you to name a subpattern
[23:01:28] <kimundi> yuriks: @ in a pattern binding means binding the a name on the lfet to the whole value matched by on the right
[23:01:37] *** Joins: ecr (chatzilla@E940BDD3.FBC7597F.11F8506F.IP)
[23:01:50] <sfackler> there should be something on str to slice out trailing whitespace
[23:02:04] *** Quits: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net) (Quit: calvinmetcalf)
[23:02:09] <kimundi> rusti: let t @ (a, b) = (1u, 2); println!("{:?} {:?} {:?}", t, a, b)
[23:02:10] -rusti- (1u, 2) 1u 2
[23:02:10] -rusti- ()
[23:02:11] <dbaupp> sfackler: there is...
[23:02:20] <kimundi> rusti: let t @ (a, b) = (1, 2); println!("{:?} {:?} {:?}", t, a, b)
[23:02:21] -rusti- (1, 2) 1 2
[23:02:21] -rusti- ()
[23:02:32] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[23:02:34] <kimundi> sfackler: trim, trim_left and trim_right
[23:02:36] <yuriks> kimundi: ah, I see. It doens't have anything to do with @-pointers
[23:02:36] <dbaupp> sfackler: there's like 6 different kinds of .trim
[23:02:42] <kimundi> yuriks: Right
[23:02:43] *** Joins: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net)
[23:02:46] *** jorendorff_away is now known as jorendorff
[23:02:54] <steveklabnik> kimundi: sfackler dbaupp ahhh nice, i should use taht
[23:03:27] <kimundi> yuriks: It borrows the syntax from haskell - and once @ pointer got removed from the language will be unconfusing unique in the language ;)
[23:04:14] <yuriks> kimundi: right. @-ptr has been more iconic so far, so it's the first thing that came to mind :)
[23:04:26] <kimundi> yeah, tripped me up too :)
[23:04:27] *** jorendorff is now known as jorendorff_away
[23:04:53] <Armavica> kimundi: it is probably not how one might want it to be parsed, is it?
[23:05:16] *** Quits: reima (Instantbir@moz-6A2AF62F.dip0.t-ipconnect.de) (Quit: Leaving.)
[23:05:47] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Quit: Textual IRC Client: www.textualapp.com)
[23:06:25] *** Joins: geoffhill (geoffhill@moz-95FF7399.members.linode.com)
[23:06:29] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[23:06:42] *** Quits: nif (nif@moz-C672189A.wireless.oberlin.edu) (Quit: Konversation terminated!)
[23:07:03] <kimundi> Armavica: I don't see what'S wrong with the way it is parsed
[23:07:17] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[23:07:58] <kimundi> &a@p => &( a@p ) => &( a@ (p) )
[23:08:50] <kimundi> a will always only introduce a binding - no furter pattern matching possible on it
[23:08:59] *** jorendorff_away is now known as jorendorff
[23:09:07] *** Quits: marianoguerra (marianogue@moz-C6801CB6.dip0.t-ipconnect.de) (Ping timeout)
[23:09:11] *** Joins: alex_abreu (alex@moz-7421D6C9.mc.videotron.ca)
[23:09:25] <kimundi> So its unambiguous how to parse it
[23:09:43] *** Quits: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca) (Ping timeout)
[23:09:48] *** Joins: bmats (bmats@moz-87F0A991.hfc.comcastbusiness.net)
[23:09:52] *** jorendorff is now known as jorendorff_away
[23:10:01] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[23:10:27] <Armavica> sure
[23:11:20] <kimundi> rusti: let a @ (b, c @ (d, e)) = (1, (2, 3)); println!("{:?} {:?} {:?} {:?} {:?}", a, b, c, d, e);
[23:11:21] -rusti- (1, (2, 3)) 1 (2, 3) 2 3
[23:11:22] -rusti- ()
[23:11:35] *** Quits: bakkdoor (bakkdoor@moz-C3942EC.osnanet.de) (Quit: Linkinus - http://linkinus.com)
[23:11:52] <kimundi> / Don't write code like this, folks!
[23:12:02] <kimundi> ;)
[23:12:14] <Armavica> outch
[23:13:41] <Armavica> I'm not sure I would have figured the result out alone
[23:14:45] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Client exited)
[23:14:50] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[23:16:05] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Client exited)
[23:16:11] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[23:17:12] *** jorendorff_away is now known as jorendorff
[23:17:41] *** Quits: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net) (Quit: zztr)
[23:17:45] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[23:18:02] *** Quits: amir (amir@moz-49060BB9.cust.bluewin.ch) (Ping timeout)
[23:18:27] <Armavica> so in fact, `&a@p => ...a...p...` is equivalent to `a@&p => ...*a...p...`?
[23:19:29] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[23:19:59] *** jorendorff is now known as jorendorff_away
[23:20:30] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[23:20:34] *** Joins: skade (skade@moz-B73EE4D5.pools.arcor-ip.net)
[23:20:51] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:22:00] *** Joins: sellout (Adium@moz-C6258813.hlrn.qwest.net)
[23:22:19] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[23:22:33] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[23:22:55] *** jorendorff_away is now known as jorendorff
[23:23:46] *** jorendorff is now known as jorendorff_away
[23:25:09] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Ping timeout)
[23:25:28] *** Joins: azita (Azita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[23:27:00] *** Quits: duncanmv (duncan@moz-39A32FB0.dip0.t-ipconnect.de) (Quit: Ex-Chat)
[23:28:37] *** Quits: Jemaclus (Mibbit@4EEAB704.5843BA5A.D4E4C7A5.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:30:04] *** Joins: new_one (new_one@B3C76384.4BFECEA2.B3C0173E.IP)
[23:30:46] <ecl3ctic> what is the syntax for labels on loops? I can't seem to figure it out
[23:31:48] *** Quits: wilkie (wilkie@moz-A19F104D.pitbpa.fios.verizon.net) (Ping timeout)
[23:32:01] *** Quits: bmats (bmats@moz-87F0A991.hfc.comcastbusiness.net) (Client exited)
[23:32:30] *** Quits: io2 (io2@moz-871549F5.home.otenet.gr) (Ping timeout)
[23:32:31] <dbaupp> ecl3ctic: `'foo: for pat in iter { ... }`
[23:32:44] <sfackler> (note the ' )
[23:33:08] <ecl3ctic> oh that's what I was missing
[23:33:25] <ecl3ctic> what's the point of that
[23:33:26] *** Quits: skrylar (skrylar@moz-F692F728.austin.res.rr.com) (Quit: leaving)
[23:33:30] <ecl3ctic> it's the lifetime thing right?
[23:33:34] <dbaupp> parsing
[23:33:40] <dbaupp> (I think)
[23:33:59] <ecl3ctic> well thanks
[23:34:24] <ecl3ctic> I've written an algorithm of about 500 lines and now I'm trying to compile it for the first time
[23:34:26] <ecl3ctic> this will be fun
[23:34:50] *** Joins: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net)
[23:38:27] <kimundi> ecl3ctic: lifetime syntax is used for labeled loops because lifetimes are basically scopes - also it was unconflicting free grammar. ;)
[23:39:06] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[23:39:40] <sp3d> do they share a namespace?
[23:40:20] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:42:24] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[23:42:30] *** Quits: hoverbear (hoverbear@moz-F887724A.wireless.uvic.ca) (Quit: Taking a nap.)
[23:42:52] *** Quits: gwty (gwtypc@3C59E75C.3E0F208F.137C914F.IP) (Connection reset by peer)
[23:43:33] <sp3d> rusti: 'foo: for i in [1,2,3].iter() { let a: &'foo i8=i; println!("{}", *a+3); }
[23:43:36] -rusti- pastebinned 7 lines of output: http://ix.io/a5C
[23:43:51] <sp3d> aw
[23:44:58] *** Joins: bmats (bmats@moz-87F0A991.hfc.comcastbusiness.net)
[23:45:50] *** Joins: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net)
[23:45:51] *** Quits: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net) (Quit: nham)
[23:45:54] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[23:46:49] *** Joins: Jemaclus (Mibbit@4EEAB704.5843BA5A.D4E4C7A5.IP)
[23:46:54] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[23:47:17] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Quit: Leaving)
[23:47:52] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Client exited)
[23:48:12] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[23:48:48] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[23:48:48] *** Quits: skade (skade@moz-B73EE4D5.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[23:48:54] *** Joins: skade (skade@moz-B73EE4D5.pools.arcor-ip.net)
[23:50:04] *** Joins: hacker_s_ (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[23:50:08] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Ping timeout)
[23:50:18] *** Quits: skade (skade@moz-B73EE4D5.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[23:50:31] *** Parts: chromatic (chromatic@moz-28CBC7F4.hsd1.or.comcast.net) (Leaving)
[23:50:35] *** Joins: chromatic (chromatic@moz-28CBC7F4.hsd1.or.comcast.net)
[23:52:28] *** Quits: mentero (mentero@moz-D61C6F02.proxnet.pl) (Ping timeout)
[23:54:31] <ercxx> how do I turn offf `#[warn(dead_code)]` in a file?
[23:55:01] <sfackler> ercxx: #[allow(dead_code)]
[23:55:10] <ercxx> sfackler: thank you.
[23:56:43] <ercxx> sfackler: That didn't do it. I put it in the first line.
[23:57:00] *** Joins: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP)
[23:57:01] <ercxx> moved it up to the lib.rs, still the same
[23:57:11] <sfackler> oh, make it #[allow(dead_code)]; if you want it to apply to the enclosing module
[23:57:53] <ercxx> sfackler: I want only one file to be silent.
[23:58:04] <sfackler> put it in that file
[23:58:31] *** Joins: dangets (dangets@moz-E9E4A77B.cpe.cableone.net)
[23:58:33] *** Joins: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net)
[23:59:04] *** Quits: lpy (lpy@6D018ABA.B31F127E.E99F7FDB.IP) (Ping timeout)
[23:59:05] <ercxx> yeah, with or without the semicolon it's being ignored. It works when it's on the top level lib.rs.
[23:59:28] *** Quits: nszceta (quassel@moz-E458A7C0.pharm.pitt.edu) (Input/output error)
[23:59:58] <sfackler> seems like a bug then
