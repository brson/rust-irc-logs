[00:03:04] *** Quits: eibwen (kvirc@moz-72527DDC.dip0.t-ipconnect.de) (Ping timeout)
[00:13:47] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[00:15:19] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[00:16:30] <cmr> acrichto: https://gist.github.com/cmr/11bb0ad24db9c1c559da
[00:16:36] <cmr> acrichto: staging issue?
[00:17:06] <cmr> indeed, libctest needs to depend on libextra
[00:19:44] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[00:21:54] <cmr> wait...
[00:21:57] <cmr> hm
[00:23:26] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[00:33:29] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[00:41:37] *** Joins: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP)
[00:41:37] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/icsycA
[00:41:37] *** Parts: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP) ()
[00:41:46] *** kimundi is now known as zz_kimundi
[00:42:51] <cmr> oh extra is gone
[00:42:53] <cmr> that's why.
[00:44:03] <doener> *sigh* failures in stage2 are soooo time consuming :-/
[00:44:37] <cmr> yeah :(
[00:46:39] *** Joins: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP)
[00:46:39] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/GJ_xOg
[00:46:39] *** Parts: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP) ()
[00:47:19] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[00:47:46] *** Joins: luziie (luziie@moz-CD18B14B.customer.cdi.no)
[00:47:55] *** Quits: luziiie (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[00:49:29] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[00:50:07] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[00:51:39] *** Joins: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP)
[00:51:39] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/_pSOjg
[00:51:39] <ghrust> 13rust/06auto 1415b962a 15Luqman Aden: libstd: Fix a typo. s/target_os/target_arch/
[00:51:39] <ghrust> 13rust/06auto 14de78d7f 15bors: auto merge of #12922 : luqmana/rust/fix-arm, r=alexcrichton
[00:51:39] *** Parts: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP) ()
[00:51:57] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[00:57:32] *** Joins: luziiie (luziie@moz-CD18B14B.customer.cdi.no)
[00:58:26] *** Quits: luziie (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[01:07:48] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[01:10:14] *** Joins: rook (rook@moz-97AF7010.hsd1.mn.comcast.net)
[01:16:57] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[01:17:17] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[01:19:06] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[01:26:22] *** Joins: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com)
[01:26:28] *** Joins: rustilite (rustilite@moz-61B073BC.cpe.net.cable.rogers.com)
[01:29:04] *** Quits: luziiie (luziie@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[01:29:16] *** Joins: luziiie (luziie@moz-CD18B14B.customer.cdi.no)
[01:35:47] *** Joins: angdev (angdev@16F167B.4C57D258.D8E8354F.IP)
[01:40:33] *** Quits: glaebhoerl (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Quit: )
[01:43:21] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[01:47:28] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[01:48:36] *** Quits: cgaebel (clark@moz-F9D89110.nyc.res.rr.com) (No route to host)
[01:49:32] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[01:58:17] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[02:13:43] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[02:21:32] *** Joins: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP)
[02:21:33] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/_pSOjg
[02:21:33] *** Parts: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP) ()
[02:26:32] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[02:26:32] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/XZoD1Q
[02:26:32] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[02:26:33] *** Joins: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP)
[02:26:33] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/pq7bbw
[02:26:33] <ghrust> 13rust/06auto 14b1f5235 15Steven Fackler: Remove most ~[] usage in liburl
[02:26:33] <ghrust> 13rust/06auto 14a37ca8c 15Steven Fackler: Remove ~[] from libsemver
[02:26:33] <ghrust> 13rust/06auto 14e49c30a 15bors: auto merge of #12923 : sfackler/rust/vecify, r=brson
[02:26:35] *** Parts: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP) ()
[02:33:25] <brson> bors needs feeding
[02:34:46] <mcpherrin> brson: You asked about the documentationathon etherpad, did you find it?
[02:34:53] <mcpherrin> because I just did :P
[02:35:31] <mcpherrin> https://etherpad.mozilla.org/Rust-doc-sprint
[02:36:57] <brson> mcpherrin: \o/
[02:38:41] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[02:45:49] *** Joins: luziie (luziie@moz-CD18B14B.customer.cdi.no)
[02:46:41] *** Quits: luziiie (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[02:47:19] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[02:49:28] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[02:51:10] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[02:53:03] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[03:01:02] *** Quits: zz_kimundi (kimundi@moz-DDACA362.dip0.t-ipconnect.de) (Ping timeout)
[03:01:54] <cmr> brson: do you know what's involved with mentoring a GSoC project?
[03:03:55] <brson> cmr: no. jdm does
[03:05:01] *** Joins: zz_kimundi (kimundi@moz-583268FC.dip0.t-ipconnect.de)
[03:05:02] *** zz_kimundi is now known as kimundi
[03:07:22] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[03:08:12] <zwarich_> cmr: I did GSoC once from the other side, the mentor just had to file some occasional progress reports
[03:08:50] <zwarich_> cmr: but it can be more involved if the person is less experienced with the project
[03:09:18] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[03:13:25] *** Quits: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net) (Ping timeout)
[03:34:02] *** Joins: bjz (bjz@AE0B7388.B8C2BBC3.F4A11E52.IP)
[03:38:28] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[03:42:33] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[03:52:46] <cmr> huon: I discovered I was accidentally running the builder for about ... 15 hours without the build drive mounted
[03:56:32] *** Joins: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP)
[03:56:32] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/pq7bbw
[03:56:32] *** Parts: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP) ()
[03:59:05] <huon> cmr: whoops
[03:59:08] <sfackler> is there a use case for std::cmp::cmp2?
[03:59:26] <sfackler> it seems like a pretty strange method
[03:59:48] <cmr> sfackler: floats.
[03:59:52] <cmr> wait
[03:59:54] <cmr> no
[03:59:56] <cmr> wrong cmp2
[04:00:36] *** Quits: kimundi (kimundi@moz-583268FC.dip0.t-ipconnect.de) (Ping timeout)
[04:01:00] <sfackler> it seems like it's exactly equivalent to (a, b).cmp((c, d))
[04:01:36] <cmr> rusti: (2, 3).cmp((3, 3))
[04:01:37] *** Joins: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP)
[04:01:37] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/74AXBg
[04:01:37] *** Parts: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP) ()
[04:01:39] *** Joins: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP)
[04:01:39] <ghrust> [13rust] 15bors pushed 6 new commits to 06auto: 02http://git.io/mRb0mA
[04:01:39] <ghrust> 13rust/06auto 14b57f0be 15Corey Richardson: Remove libc from std...
[04:01:39] <ghrust> 13rust/06auto 142659257 15Corey Richardson: fix fallout from std::libc separation
[04:01:39] <ghrust> 13rust/06auto 14866d842 15Corey Richardson: rt: remove opendir/readdir hack
[04:01:41] *** Parts: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP) ()
[04:01:42] -rusti- timeout triggered!
[04:01:47] <cmr> rusti: (2, 3).cmp((3, 3))
[04:01:49] -rusti- pastebinned 5 lines of output: http://sprunge.us/JUOW
[04:02:00] <cmr> rusti: (2, 3).cmp(&(3, 3))
[04:02:02] -rusti- Less
[04:02:10] <cmr> rusti: (2, 2).cmp(&(3, 3))
[04:02:11] -rusti- Less
[04:02:15] <cmr> rusti: (3, 2).cmp(&(3, 3))
[04:02:16] -rusti- Less
[04:02:23] <cmr> it does seem that way.
[04:04:32] *** Joins: zz_kimundi (kimundi@moz-31C8768.dip0.t-ipconnect.de)
[04:04:33] *** zz_kimundi is now known as kimundi
[04:11:33] *** Joins: strcat (strcat@moz-61B073BC.cpe.net.cable.rogers.com)
[04:13:20] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[04:16:30] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[04:16:30] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14d5bb23d to 14e49c30a: 02http://git.io/N3iJvQ
[04:16:30] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[04:16:31] *** Joins: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP)
[04:16:31] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/p0eGSA
[04:16:31] <ghrust> 13rust/06auto 142a35c08 15Steven Fackler: Squash test ~[] warning...
[04:16:31] <ghrust> 13rust/06auto 14abd844e 15bors: auto merge of #12927 : sfackler/rust/test-warn, r=huonw...
[04:16:31] *** Parts: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP) ()
[04:17:49] <cmr> I swear if this ever lands I'm going to throw a party.
[04:18:00] <cmr> (this must be how acrichto always feels)
[04:21:18] <brson> lol
[04:22:53] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[04:25:02] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[04:26:50] *** Quits: intuxicated (intuxicate@5BA9DB47.F2F0EDE4.DA0107E2.IP) (Quit: Leaving)
[04:29:22] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[04:36:03] *** Joins: luziiie (luziie@moz-CD18B14B.customer.cdi.no)
[04:36:49] *** Quits: luziie (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[04:42:51] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[04:44:10] *** Joins: erickt (etryzelaar@49C4075F.3AC15C18.2321E71E.IP)
[04:47:09] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[04:49:30] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[04:52:13] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[04:53:56] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[04:56:56] *** Quits: Kxepal (Miranda@moz-253D3FA5.pppoe.mtu-net.ru) (Quit: Kxepal)
[04:57:12] *** Joins: Kxepal (Miranda@moz-253D3FA5.pppoe.mtu-net.ru)
[05:05:56] <erickt> brson / huon: so I got the 5000-ish things that are missing documentation. Should I put it in etherpad or a google drive spreadsheet?
[05:06:45] <brson> erickt: spreadsheet sounds better
[05:07:16] <brson> that's a lot of things :(
[05:07:37] <erickt> brson: a good portion of em are from macros
[05:08:08] <cmr> macros expanded into items could add a #[made_from_macro]
[05:08:11] <cmr> to assist tooling.
[05:08:41] <sfackler> or #[automatically_derived]
[05:09:06] <brson> derived things already have #[deriving(...)]
[05:09:15] <sfackler> since a ton of impls are macro-generated but not #[derived] like the tuple impls
[05:09:15] <cmr> brson: their expanded form?
[05:09:22] <brson> cmr: not sure
[05:09:22] *** Quits: erickt (etryzelaar@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[05:09:25] <huon> erickt: is that just the public things?
[05:09:27] <brson> i like this idea though
[05:09:37] <brson> should bake that right into the macro system
[05:09:48] *** Quits: canhtak (canhtak@moz-9F5D2CD3.wl.t.ulaval.ca) (Quit: canhtak)
[05:10:23] <sfackler> we'd really want the attribute on the impl item itself for sanity's sake
[05:10:33] <sfackler> but yeah, the #[deriving] attribute stays after expansion
[05:14:35] <sfackler> anyone have opinions on if I should get rid of the #[doc="Automatically derived"] attribute or leave it there?
[05:14:51] <mcpherrin> Does the `char` type look dense?
[05:14:53] <cmr> I don't think it's useful
[05:15:09] <huon> sfackler: feel free to kill it
[05:15:10] <mcpherrin> like, is there a char min, char max, and every value in between is valid?
[05:15:15] <huon> mcpherrin: no
[05:15:18] <sfackler> will do
[05:15:19] <cmr> since once I finish TWiR I'm making a PR to render derived impls specially.
[05:15:35] <huon> mcpherrin: the surrogate range 0xD800 - 0xDFFF aren't valid
[05:15:43] <mcpherrin> Hmm, that's a huge pain
[05:15:53] <huon> why?
[05:16:39] <mcpherrin> will add a lot of edge case handling
[05:17:00] <mcpherrin> double, essentially
[05:17:18] <cmr> for what?
[05:17:22] <mcpherrin> I'm trying to represent subsets of the character sets
[05:17:26] <cmr> (std::char::from_u32 does error checking)
[05:17:33] *** Joins: luz1 (luziie@moz-CD18B14B.customer.cdi.no)
[05:17:37] <mcpherrin> so for example [b-c,q-z]
[05:18:26] <mcpherrin> But I can't "invert" that set by taking [char::min-b,c-q,z-char::max]
[05:18:35] *** Quits: luziiie (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[05:18:37] <cmr> yeah.
[05:18:42] <cmr> that is a pain.
[05:19:09] <sfackler> cmr: I'm letting it build to make sure it's adding #[automatically_derived] properly and then I'll make a PR
[05:19:18] <mcpherrin> also whoops, meant to ask that in #rust :)
[05:19:37] <huon> mcpherrin: yes you can?
[05:19:46] <huon> at least, you nearly can
[05:20:01] *** Joins: erickt (etryzelaar@F5DC7C0B.E3D2786E.2321E71E.IP)
[05:20:01] <mcpherrin> Well, I need to take the surrogate range out
[05:20:04] <huon> you probably have to represent the ranges as u32, rather than `char`, but other than that, should be fine
[05:20:17] <huon> why? the surrogates never appear in a `str`
[05:20:26] *** Joins: luziiie (luziie@moz-CD18B14B.customer.cdi.no)
[05:20:26] <mcpherrin> good point.
[05:20:37] <huon> so assuming you're getting the `char`s you're matching from a str, those values will never appear
[05:20:48] <huon> and you'll never falsely accept/reject them
[05:21:04] *** Quits: luz1 (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[05:21:23] <mcpherrin> that's true.
[05:21:35] *** Quits: erickt (etryzelaar@F5DC7C0B.E3D2786E.2321E71E.IP) (Quit: Reconnecting)
[05:21:39] *** Joins: erickt (etryzelaar@F5DC7C0B.E3D2786E.2321E71E.IP)
[05:21:45] <mcpherrin> ooor I just pretend unicode doesn't exist ;)
[05:21:53] <erickt> brson: sorry about that, internet is being flaky
[05:22:06] <erickt> I uploaded a csv file here: https://docs.google.com/spreadsheet/ccc?key=0An9tLRVf1SSfdE9jX1Q2QkhiUGVwTnh5YTJnMHVUYXc&usp=sharing
[05:22:13] * huon sl√§ps mcpherrin
[05:22:19] <mcpherrin> :D
[05:22:36] <erickt> brson: I need to head off now though
[05:22:43] <erickt> gnight! see you all tomorrow!
[05:23:35] <sfackler> looks like there's some private stuff in there
[05:23:35] <mcpherrin> hoooray
[05:25:14] <brson> erickt: later
[05:26:13] <brson> i put alink to the spreadsheet on the etherpad
[05:26:13] *** Quits: erickt (etryzelaar@F5DC7C0B.E3D2786E.2321E71E.IP) (Ping timeout)
[05:31:25] *** Joins: edwardw (edwardw@4CA3FA20.E1A076E0.4A6948F8.IP)
[05:35:27] *** Joins: luz1 (luziie@moz-CD18B14B.customer.cdi.no)
[05:35:49] <Eridius> crud. Breaking matches on ~str is a PITA
[05:35:54] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[05:36:09] <cmr> as_slice is really annoying sometimes.
[05:36:12] <Eridius> I can't just use `Foo(ref s) if "STRING" == *s` because that adds a borrow to the matched value
[05:36:16] <Eridius> cmr: can't use .as_slice(), I'm matching an enum
[05:36:41] *** Quits: luziiie (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[05:36:47] <cmr> ouch, extra obnoxious.
[05:39:28] <Eridius> boy, deprecated_owned_vector is verbose
[05:39:41] * Eridius doesn't feel comfortable adopting Vec in a third-party library while it's still at std::vec_ng
[05:40:56] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Ping timeout)
[05:41:44] <strcat> Eridius: well std::vec has to move out of the way first
[05:41:46] <strcat> before it can be renamed
[05:41:48] <strcat> and that's stalled
[05:42:06] <strcat> Eridius: https://github.com/mozilla/rust/pull/12772
[05:43:01] <Eridius> sigh, now in a different place I have another ~str match issue because I need by-move binding
[05:43:04] <Eridius> and that means no pattern guard
[05:44:52] <strcat> Eridius: it could also be exported in collections either in addition to or instead of std::vec (it'd still be implemented in libstd though)
[05:44:54] * strcat shrugs
[05:45:05] <strcat> but either way I think slices should be a separate module
[05:45:52] <strcat> and I think the best naming is (fixed-size) array [T, ..n] and slice [T] with vector reserved for growable ones
[05:46:29] <cmr> I agree about vectors being only growable.
[05:46:31] *** Joins: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP)
[05:46:31] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/p0eGSA
[05:46:31] *** Parts: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP) ()
[05:46:44] <cmr> but I'm not sure slice is a good name for [T]
[05:46:53] <cmr> although maybe it is
[05:46:57] <cmr> &[T] borrowed slice
[05:47:00] <cmr> ~[T] owned slice
[05:47:09] <strcat> D and Go use 'slice' for heap allocations managed by their GC
[05:47:11] <strcat> so I think it's fine
[05:47:22] <cmr> yeah I think it's good.
[05:47:50] <strcat> and glib uses slice to refer to fixed sized allocations
[05:48:01] <strcat> as opposed to ones from malloc which can be resized
[05:48:25] <strcat> https://developer.gnome.org/glib/unstable/glib-Memory-Slices.html
[05:50:51] *** Quits: bjz (bjz@AE0B7388.B8C2BBC3.F4A11E52.IP) (Ping timeout)
[05:51:26] *** Joins: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP)
[05:51:26] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/ZpEeGA
[05:51:26] *** Parts: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP) ()
[05:51:27] *** Joins: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP)
[05:51:27] <ghrust> [13rust] 15bors pushed 6 new commits to 06auto: 02http://git.io/0Q4j8w
[05:51:27] <ghrust> 13rust/06auto 14cc6ec8d 15Alex Crichton: log: Introduce liblog, the old std::logging...
[05:51:27] <ghrust> 13rust/06auto 14a921dc4 15Alex Crichton: rustc: Remove compiler support for __log_level()...
[05:51:28] <ghrust> 13rust/06auto 140b3df19 15Alex Crichton: rustc: Tweak where -lmorestack is on link commands...
[05:51:30] *** Parts: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP) ()
[05:52:06] <sfackler> cmr: https://github.com/mozilla/rust/pull/12929
[05:53:57] *** Quits: brson (brson@981AA104.E81F12CD.76F66111.IP) (Ping timeout)
[05:54:27] *** Quits: edwardw (edwardw@4CA3FA20.E1A076E0.4A6948F8.IP) (Quit: Leaving...)
[05:56:23] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[06:01:24] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[06:01:24] <ghrust> [13rust] 15bors 04force-pushed 06auto from 1441d4eac to 14abd844e: 02http://git.io/N3iJvQ
[06:01:24] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[06:01:26] *** Joins: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP)
[06:01:26] <ghrust> [13rust] 15bors pushed 6 new commits to 06auto: 02http://git.io/IO_P5w
[06:01:26] <ghrust> 13rust/06auto 14cc6ec8d 15Alex Crichton: log: Introduce liblog, the old std::logging...
[06:01:26] <ghrust> 13rust/06auto 14a921dc4 15Alex Crichton: rustc: Remove compiler support for __log_level()...
[06:01:26] <ghrust> 13rust/06auto 140b3df19 15Alex Crichton: rustc: Tweak where -lmorestack is on link commands...
[06:01:28] *** Parts: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP) ()
[06:05:41] *** Quits: japaric1 (japaric@F2B464FF.B7BC9CB9.E5B504CC.IP) (Ping timeout)
[06:06:19] *** Joins: japaric1 (japaric@6F54E9F.F3E5B3F6.F4D5766F.IP)
[06:12:10] *** Joins: brson (brson@moz-264E1FDC.static.wiline.com)
[06:12:10] *** ChanServ sets mode: +qo brson brson
[06:12:12] <cmr> hm, Luqman implemented inline asm
[06:12:18] <cmr> I feel like I remember aatch doing it
[06:16:07] <mcpherrin> I definitely remember Luqman doing it :P
[06:24:37] *** Joins: edwardw (edwardw@D01C1499.B4358688.30F15291.IP)
[06:26:43] *** Quits: luz1 (luziie@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[06:26:56] *** Joins: luz1 (luziie@moz-CD18B14B.customer.cdi.no)
[06:38:32] * eddyb kicks rustdoc
[06:38:42] <eddyb> y u abuse @ and TLD?
[06:38:44] <huon> rustdoc kicks back
[06:38:53] <cmr> it's super effective!
[06:39:35] <cmr> eddyb: because it was easy :)
[06:41:57] <eddyb> that crap made my PR bounce like 4 times already
[06:42:17] <eddyb> everything else was easy, didn't need to keep librustc compiling past lints
[06:42:50] * eddyb can't wait until he drops the memory usage back down to something he can deal with
[06:42:56] *** Quits: brson (brson@moz-264E1FDC.static.wiline.com) (Ping timeout)
[06:44:30] <cmr> eddyb: bencher is back up btw
[06:45:17] <eddyb> good, good
[06:47:04] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[06:47:20] *** Joins: brson (brson@6A848D32.C1B840DD.76F66111.IP)
[06:47:20] *** ChanServ sets mode: +qo brson brson
[06:49:23] <huon> cmr: back up with the disk mounted? ;P
[06:49:26] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[06:50:30] <cmr> huon: yeah!
[06:50:38] <cmr> that's always a good first step, mounting the dir.
[06:51:12] <huon> writing to an unmounted dir is so much faster though
[06:51:19] <cmr> it really is.
[06:51:51] <huon> it's a trade-off :(
[06:52:22] * huon unmounts / for super-speed
[06:53:04] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[06:54:52] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[07:02:01] *** eddyb is now known as Neo
[07:02:28] *** Neo is now known as eddyb
[07:04:59] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[07:17:48] * eddyb <insanity wolf> let's just remove all the @ from Session and see what happens
[07:18:03] <eddyb> the downside is that I'll really have to compile rustdoc to make sure I didn't break it completely
[07:19:40] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[07:20:52] *** Joins: glaebhoerl (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[07:20:55] <cmr> Hm
[07:21:12] <cmr> I *very strongly* think github is the wrong platform for our RFCs.
[07:21:31] <cmr> One can force push to a branch and remove every ounce of discussion that ever happened for that RFCs.
[07:22:00] <eddyb> unless the discussion happened on the diff
[07:22:55] <cmr> Although I think if we set up an email account of some sort that collects every email github sends, we'd be able to reconstruct history.
[07:24:11] <eddyb> there is no @ left in session.rs or driver.rs
[07:24:21] <eddyb> also, acrichto missed a NodeMap
[07:31:28] *** Joins: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP)
[07:31:28] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/IO_P5w
[07:31:28] *** Parts: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP) ()
[07:33:11] <eddyb> and pretty_print_input is making my changes very complicated
[07:33:33] <eddyb> ~pprust::PpAnn:
[07:33:45] <eddyb> there's only one way to fix this
[07:35:36] <edwardw> you also run into PpAnn? haha
[07:36:22] *** Joins: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP)
[07:36:22] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/DjrtmA
[07:36:22] <ghrust> 13rust/06auto 1494078f7 15Brian Anderson: mk: Clean libbacktrace w/ gusto...
[07:36:22] <ghrust> 13rust/06auto 14bd6466a 15bors: auto merge of #12899 : brson/rust/cleanbacktrace, r=alexcrichton...
[07:36:22] *** Parts: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP) ()
[07:36:23] *** Joins: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP)
[07:36:23] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/Du3xig
[07:36:23] *** Parts: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP) ()
[07:36:35] <eddyb> edwardw: this is the third encounter
[07:36:39] <eddyb> who needs trait objects?
[07:37:10] <edwardw> exactly
[07:45:36] *** Quits: brson (brson@6A848D32.C1B840DD.76F66111.IP) (Ping timeout)
[07:45:48] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[07:47:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[07:48:20] <eddyb> pub fn print_visibility<A: PpAnn>(s: &mut State<A>, vis: ast::Visibility) -> io::IoResult<()> {
[07:48:41] <edwardw> haha
[07:48:42] <eddyb> this isn't going to help with the line lengths
[07:48:57] <eddyb> maybe I should just.... turn it all into &mut self methods on the state
[07:49:10] <edwardw> fortunately I ended up not have to deal with it
[07:49:27] <edwardw> please do so!
[07:49:36] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[07:52:24] *** Joins: luziie (luziie@moz-CD18B14B.customer.cdi.no)
[07:52:46] *** Quits: luz1 (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[07:56:10] *** Joins: eibwen (kvirc@moz-11EA65C9.dip0.t-ipconnect.de)
[07:56:35] *** Quits: edwardw (edwardw@D01C1499.B4358688.30F15291.IP) (Quit: Leaving...)
[07:56:55] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Quit: Leaving...)
[07:58:16] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[08:06:27] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[08:06:27] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14bd6466a to 14f6fcdbb: 02http://git.io/N3iJvQ
[08:06:27] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[08:06:27] *** Joins: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP)
[08:06:27] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/raoQuw
[08:06:27] <ghrust> 13rust/06auto 14f496ab6 15Florian Zeitz: num: Slightly optimize bigint
[08:06:27] <ghrust> 13rust/06auto 14ce2ce24 15Florian Zeitz: num: Migrate `~[T]` to `std::vec_ng::Vec`
[08:06:28] <ghrust> 13rust/06auto 14b4aefff 15bors: auto merge of #12924 : Florob/rust/bigint, r=alexcrichton...
[08:06:30] *** Parts: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP) ()
[08:06:47] <eddyb> ohai, there's even more dead code here
[08:08:00] <doener> great... add a println!() for one thing that has been optimized out and can't be seen in gdb, rebuild, and see that now the other thing has been optimized out instead :-(
[08:08:21] <eddyb> doener: LLVM says hi
[08:08:42] <strcat> rusti: 2
[08:08:47] -rusti- 2
[08:09:11] *** Quits: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP) (Ping timeout)
[08:10:23] *** Joins: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP)
[08:15:13] *** Quits: luziie (luziie@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[08:15:25] *** Joins: luziie (luziie@moz-CD18B14B.customer.cdi.no)
[08:20:58] *** Quits: glaebhoerl (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Connection reset by peer)
[08:20:59] *** Joins: glaebhoerl_ (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[08:28:26] *** Joins: luziiie (luziie@moz-CD18B14B.customer.cdi.no)
[08:29:08] *** Quits: luziie (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[08:32:41] *** Quits: zwarich_ (zwarich@moz-2399D5F2.hfc.comcastbusiness.net) (Ping timeout)
[08:33:20] *** Joins: luziie (luziie@moz-CD18B14B.customer.cdi.no)
[08:33:41] *** Quits: luziiie (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[08:36:22] *** Joins: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP)
[08:36:22] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14b4aefff to 14f6fcdbb: 02http://git.io/N3iJvQ
[08:36:22] *** Parts: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP) ()
[08:36:24] *** Joins: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP)
[08:36:25] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/w6vURA
[08:36:25] <ghrust> 13rust/06auto 1494078f7 15Brian Anderson: mk: Clean libbacktrace w/ gusto...
[08:36:25] <ghrust> 13rust/06auto 14d956975 15bors: auto merge of #12899 : brson/rust/cleanbacktrace, r=alexcrichton...
[08:36:25] *** Parts: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP) ()
[08:36:54] <eddyb> you know what I'd need right now to clean up the pretty printer?
[08:36:59] <eddyb> a working pretty printer
[08:37:30] <cmr> lol
[08:37:35] <cmr> prime irony right there
[08:38:15] <eddyb> it's *very* very sad if you want to wrap the entire file in an impl
[08:38:31] <eddyb> and because it has two space idents in some places, it will break
[08:38:46] <cmr> is this the first time you've taken a serious look at the pretty printer?
[08:39:05] <eddyb> nope
[08:39:17] <eddyb> just that this time I'm not saying "someone should fix that thing"
[08:39:22] <eddyb> I have to do it myself :(
[08:39:28] <eddyb> (at least the API)
[08:40:02] *** Joins: luziiie (luziie@moz-CD18B14B.customer.cdi.no)
[08:40:37] *** Quits: luziie (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[08:45:55] <eddyb> cmr: reducing the number of try! uses slightly... this code looks like it could use monads :/
[08:47:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[08:48:56] *** Quits: glaebhoerl_ (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Ping timeout)
[08:49:32] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[08:53:49] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[08:55:43] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[08:59:48] *** Quits: luziiie (luziie@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[09:00:00] <doener> is there a reason why we don't pass e.g. a {i8,i8,i8,i8} as a single i32?
[09:00:01] *** Joins: luziiie (luziie@moz-CD18B14B.customer.cdi.no)
[09:01:00] <eddyb> it's hard
[09:01:17] <strcat> doener: anything wrong by passing it as an aggregate by-value?
[09:01:27] <doener> eddyb: we already have the code, because we need that for ffi
[09:01:33] <eddyb> oh lol
[09:01:47] <eddyb> that could explain the issues people are having with by-value structs
[09:02:20] <strcat> doener: passing like clang does for native rust means generating more IR
[09:02:38] <strcat> imo it's wrong to be passing large structs by-value ourselves via indirect ptrs for one thing
[09:02:52] <strcat> clang only does that to enforce silly ABI rules
[09:03:02] <strcat> because LLVM itself doesn't handle the rules, it just does something fast
[09:03:10] <doener> strcat: https://gist.github.com/dotdash/fa0e24dcda3207acb7cc
[09:04:13] <doener> would be a single "mov %rdi, %rax" if it was passed as a single i64
[09:04:22] <strcat> doener: so teach tblgen to do that
[09:04:30] <strcat> why make rust's IR worse due to tblgen limitations?
[09:04:42] <strcat> passing aggregates naturally seems like the right thing to do
[09:05:06] * strcat shrugs
[09:05:21] <cmr> this does seem to be exactly the thing LLVM should be doing, not us.
[09:05:42] <strcat> doesn't it do it with normal -O instruction selection?
[09:06:07] <doener> the gist is compiled with --opt-level=3
[09:07:45] <strcat> doener: what if the calling convention is fastcc?
[09:08:01] <doener> same
[09:08:18] <strcat> definitely seems like an LLVM bug then
[09:09:14] <strcat> it should generate good code for more than just special cases done by the frontend
[09:09:43] <strcat> if we're not able to pass aggregates by-value then many functions aren't readnone/readonly when they should be (due to the ptrs), etc.
[09:12:47] <doener> That would be an ABI breakage though, wouldn't it?
[09:13:38] <strcat> fastcc has no defined ABI
[09:13:45] <doener> ah
[09:14:15] <strcat> (if cc is already doing what it has to be doing, then lets stop using it ;p)
[09:17:02] *** flaper87|afk is now known as flaper87
[09:23:19] <eddyb> ^(    )+  (?=\w)
[09:23:28] <eddyb> regexp, what I would do without you?
[09:23:42] *** Joins: gimpf (gimpf@moz-DF4B0476.adsl.highway.telekom.at)
[09:23:50] *** Quits: angdev (angdev@16F167B.4C57D258.D8E8354F.IP) (Quit: My MacBook has gone to sleep. ZZZzzz‚Ä¶)
[09:23:54] <eddyb> (I guess (?! ) would also work)
[09:32:48] *** Quits: strcat (strcat@moz-61B073BC.cpe.net.cable.rogers.com) (Quit: sleep)
[09:39:15] <eddyb> wow the lldb is amazing
[09:39:43] <eddyb> changing the state of a Rust program at runtime. feels a bit too easy
[09:41:01] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[09:42:48] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[09:47:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[09:47:40] <eddyb> I so want self as a general identifier right now :/
[09:49:28] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[09:55:04] <eddyb> cmr: now to spend hours making the pretty printer compile again
[09:58:30] *** Joins: glaebhoerl_ (glaebhoerl@moz-782D142E.catv.broadband.hu)
[10:12:48] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[10:13:26] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Quit: Leaving)
[10:13:28] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[10:16:28] *** Joins: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP)
[10:16:28] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/w6vURA
[10:16:28] *** Parts: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP) ()
[10:21:23] *** Joins: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP)
[10:21:23] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/i_zs6A
[10:21:23] <ghrust> 13rust/06auto 142c37220 15Steven Fackler: Remove std::cmp::cmp2....
[10:21:23] <ghrust> 13rust/06auto 1405c7323 15Steven Fackler: Tag derived impls with #[automatically_derived]...
[10:21:23] <ghrust> 13rust/06auto 14d73c899 15bors: auto merge of #12929 : sfackler/rust/automatically-derived, r=cmr...
[10:21:25] *** Parts: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP) ()
[10:28:33] *** Joins: luz1 (luziie@moz-CD18B14B.customer.cdi.no)
[10:29:16] *** Quits: luziiie (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[10:35:42] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[10:36:01] *** Joins: luziiie (luziie@moz-CD18B14B.customer.cdi.no)
[10:36:03] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[10:36:41] *** Quits: luz1 (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[10:37:44] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[10:37:53] *** Quits: luziiie (luziie@moz-CD18B14B.customer.cdi.no) (Quit: Leaving)
[10:41:11] *** Quits: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net) (Connection reset by peer)
[10:41:47] *** Joins: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net)
[10:41:47] *** ChanServ sets mode: +o huon
[10:45:04] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[10:47:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[10:49:33] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[11:02:12] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Connection reset by peer)
[11:02:35] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[11:08:34] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[11:16:03] <eddyb>  // it appears this function is called only from pprust... that's probably not a good thing.
[11:16:05] <eddyb> no kidding
[11:18:54] <eddyb> I am going to break libsyntax tests again
[11:19:59] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[11:21:29] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[11:32:01] *** Joins: angdev (angdev@16F167B.4C57D258.D8E8354F.IP)
[11:34:27] *** Quits: angdev (angdev@16F167B.4C57D258.D8E8354F.IP) (Quit: My MacBook has gone to sleep. ZZZzzz‚Ä¶)
[11:34:31] *** Joins: angdev (angdev@16F167B.4C57D258.D8E8354F.IP)
[11:34:35] *** Quits: angdev (angdev@16F167B.4C57D258.D8E8354F.IP) (Client exited)
[11:35:40] *** Joins: angdev (angdev@16F167B.4C57D258.D8E8354F.IP)
[11:40:49] <eddyb> pub struct CodeMap { files: RefCell<Vec<@FileMap>> }
[11:40:53] <eddyb> this ain't gonna fly
[11:46:50] <huon> ... getting that PR merged soon would be nice
[11:47:05] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[11:47:46] <eddyb> huon: I can fix these and push it without the commit I'm working on http://buildbot.rust-lang.org/builders/auto-linux-64-nopt-t/builds/3861/steps/compile/logs/stdio
[11:48:08] <huon> eddyb: yeah, but you don't have to fix CodeMap in that commit, right?
[11:48:09] <eddyb> but I feel like rustdoc will complicate things
[11:48:16] <eddyb> nope, just rustdoc stuff
[11:48:57] <huon> aren't they fixed by putting { ... } around the loader & phase_2 calls?
[11:49:22] <huon> and, err... transmute for the first one
[11:49:30] <eddyb> first one?
[11:49:31] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[11:49:33] <eddyb> just a ref
[11:49:48] <huon> transmute is more fun
[11:49:53] <eddyb> and, yeah, I figured the loader doesn't need to outlive phase2
[11:49:54] <huon> get more crashes that way :P
[11:50:20] <eddyb> huon: safety bores you?
[11:50:27] <eddyb> r2 calls segfaults a feature
[11:51:08] <huon> the adrenaline rush when you run a program: "will this segfault/crash/delete all my files"
[11:52:03] <eddyb> git rebase -i HEAD~16
[11:52:40] <eddyb> now to push the right thing
[11:53:01] <eddyb> huon: github is timing out again :(
[11:54:31] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[11:54:51] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[11:56:37] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[11:58:57] <eddyb> what's going on
[11:59:28] <eddyb> oh, task names?
[12:06:19] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[12:06:30] *** Joins: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP)
[12:06:30] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/i_zs6A
[12:06:30] *** Parts: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP) ()
[12:11:18] *** Joins: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP)
[12:11:18] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/W6lDSw
[12:11:18] *** Parts: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP) ()
[12:11:20] *** Joins: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP)
[12:11:20] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/n0MzRg
[12:11:20] <ghrust> 13rust/06auto 14f496ab6 15Florian Zeitz: num: Slightly optimize bigint
[12:11:20] <ghrust> 13rust/06auto 14ce2ce24 15Florian Zeitz: num: Migrate `~[T]` to `std::vec_ng::Vec`
[12:11:21] <ghrust> 13rust/06auto 147156ded 15bors: auto merge of #12924 : Florob/rust/bigint, r=alexcrichton...
[12:11:23] *** Parts: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP) ()
[12:11:55] <eddyb> module_path!()
[12:13:50] <eddyb> huon: this is confusing me
[12:15:38] <eddyb> huon: okay, so there's a penalty now, but only if you set the environment variable
[12:15:50] *** Joins: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net)
[12:15:56] <eddyb> huon: that is, without RUST_LOG, it's as cheap as before
[12:17:45] <huon> yes
[12:28:28] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[12:41:55] <huon> are our static strings null terminated?
[12:42:19] <huon> i.e. can LLVM make a string "ob" via an internal pointer into another string "foobar" ?
[12:47:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[12:49:28] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[12:50:55] <eddyb> huon: https://github.com/mozilla/rust/pull/12735
[12:51:01] <eddyb> managed to get past a rebase
[12:51:06] <eddyb> I'd wait until travis finishes
[12:52:29] *** Quits: angdev (angdev@16F167B.4C57D258.D8E8354F.IP) (Quit: My MacBook has gone to sleep. ZZZzzz‚Ä¶)
[12:54:15] *** Quits: glaebhoerl_ (glaebhoerl@moz-782D142E.catv.broadband.hu) (Ping timeout)
[12:54:40] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[12:57:35] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[12:59:25] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[13:14:24] *** Joins: edwardw (edwardw@96E7298D.3E260003.B9C6B12A.IP)
[13:17:52] *** Quits: edwardw (edwardw@96E7298D.3E260003.B9C6B12A.IP) (Ping timeout)
[13:22:31] *** Joins: edwardw (edwardw@CA121B1F.E91AB7CD.1D660E71.IP)
[13:25:02] <edwardw> r? https://github.com/mozilla/rust/pull/12933
[13:25:24] *** Quits: Armavica (virgile@moz-AD428ED7.ens.fr) (Quit: leaving)
[13:26:03] *** Joins: Armavica (virgile@moz-AD428ED7.ens.fr)
[13:28:15] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Ping timeout)
[13:30:39] *** Quits: mawuli (mawuli@moz-EF4254B1.com.gh) (Ping timeout)
[13:34:47] *** Quits: japaric1 (japaric@6F54E9F.F3E5B3F6.F4D5766F.IP) (Ping timeout)
[13:34:54] *** Joins: japaric1 (japaric@F125041E.42AF0950.5C7588CA.IP)
[13:47:31] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[13:49:34] <edwardw> huon: r? https://github.com/mozilla/rust/pull/12933
[13:49:35] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[13:54:16] <jensnockert> I'm a bit unsure about timezones and all, when is the documentation sprint starting today?
[13:55:37] <huon> 12 PST
[13:56:26] *** Joins: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP)
[13:56:26] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/n0MzRg
[13:56:26] *** Parts: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP) ()
[13:56:37] <jensnockert> Thanks.
[13:57:01] <huon> (at least, I think it's that... there's an email on the mailing list somewhere)
[13:59:36] *** Joins: glaebhoerl_ (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[14:00:16] <jensnockert> Sounds right, that's what I thought too.
[14:00:26] *** Quits: doener (doener@moz-C68F600D.unity-media.net) (Quit: leaving)
[14:01:21] *** Joins: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP)
[14:01:21] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/_AcPzw
[14:01:21] *** Parts: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP) ()
[14:01:25] *** Joins: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP)
[14:01:25] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/8JaiBg
[14:01:25] <ghrust> 13rust/06auto 14cdd4f6e 15Edward Wang: Fix a test that was missed in the liblog PR
[14:01:25] <ghrust> 13rust/06auto 14f915894 15bors: auto merge of #12933 : edwardw/rust/fallout, r=huonw...
[14:01:25] *** Parts: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP) ()
[14:15:43] *** Joins: MaXYZW (MaXYZW@moz-F787D177.dk.customer.tdc.net)
[14:20:12] *** Quits: edwardw (edwardw@CA121B1F.E91AB7CD.1D660E71.IP) (Quit: Leaving...)
[14:20:44] *** Joins: edwardw (edwardw@CA121B1F.E91AB7CD.1D660E71.IP)
[14:24:27] *** Quits: edwardw (edwardw@CA121B1F.E91AB7CD.1D660E71.IP) (Quit: Leaving...)
[14:25:35] <eddyb> this is wrong
[14:26:14] <eddyb> how can you give (&mut State, ...) to a method call on one of the fields of that State?
[14:26:19] *** Joins: edwardw (edwardw@BB690835.D7DB55D8.50B134B9.IP)
[14:26:29] <eddyb> then you have aliasing on that field
[14:27:25] <eddyb> unless it holds a &T in that field... that could work
[14:28:13] <kimundi> Can we generate macros and macro variables with macros yet?
[14:29:08] <eddyb> doubt it
[14:29:32] *** Joins: mawuli (mawuli@moz-EF4254B1.com.gh)
[14:29:32] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Quit: Sharp)
[14:41:48] <kimundi> argh
[14:41:52] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[14:41:59] <kimundi> macros really need more fixes
[14:42:26] <kimundi> I'm trying to write a simple DSL that doesn't need procedural macros, but its just not possible.
[14:42:47] <kimundi> Everytime I think I found a workaround it fails with something different :P
[14:43:10] <edwardw> *sigh* a three-line fix bounced
[14:43:27] <eddyb> those are the best kind
[14:43:38] <eddyb> libsyntax is compiling again \o/
[14:43:48] <eddyb> (even though I probably broke the syntax tests)
[14:58:21] *** Joins: erickt (etryzelaar@F5DC7C0B.E3D2786E.2321E71E.IP)
[14:59:42] *** Quits: erickt (etryzelaar@F5DC7C0B.E3D2786E.2321E71E.IP) (Connection reset by peer)
[15:03:25] *** Joins: erickt (etryzelaar@49C4075F.3AC15C18.2321E71E.IP)
[15:09:44] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Connection reset by peer)
[15:10:06] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[15:13:33] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Quit: Textual IRC Client: www.textualapp.com)
[15:13:55] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[15:15:18] *** Joins: intuxicated (intuxicate@5BA9DB47.F2F0EDE4.DA0107E2.IP)
[15:15:46] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[15:27:27] *** Quits: edwardw (edwardw@BB690835.D7DB55D8.50B134B9.IP) (Quit: Leaving...)
[15:29:05] *** MaXYZW is now known as xam
[15:31:01] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[15:32:24] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[15:33:54] <eddyb> YES!
[15:34:34] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Quit: Sharp)
[15:34:39] <eddyb> CodeMap -> SpanHandler (where it already was) -> ParseSess (where it already was, alongside another copy of CodeMap)
[15:44:05] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[15:47:08] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[15:49:34] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[15:51:25] *** Joins: lpy (lpy@1834E2CB.F09091A8.1348A864.IP)
[15:53:55] <eddyb> acrichto: I am tempted to make Parser generic over the reader...
[15:54:39] <eddyb> acrichto: it would simplify something I'm doing... but for your sake, I won't
[16:07:04] *** Joins: angdev (angdev@16F167B.4C57D258.D8E8354F.IP)
[16:11:57] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[16:13:25] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[16:15:17] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[16:29:17] *** Quits: xam (MaXYZW@moz-F787D177.dk.customer.tdc.net) (Quit: Computer has gone to sleep.)
[16:31:09] *** Quits: lpy (lpy@1834E2CB.F09091A8.1348A864.IP) (Client exited)
[16:33:43] *** Joins: xam (MaXYZW@moz-F787D177.dk.customer.tdc.net)
[16:34:42] *** Quits: xam (MaXYZW@moz-F787D177.dk.customer.tdc.net) (Quit: Computer has gone to sleep.)
[16:37:37] *** Joins: xam (MaXYZW@moz-F787D177.dk.customer.tdc.net)
[16:38:20] *** Quits: xam (MaXYZW@moz-F787D177.dk.customer.tdc.net) (Quit: Computer has gone to sleep.)
[16:39:55] <erickt> hey #rust-internals! just a reminder of the doc sprint at 12pm PDT. Info is here to participate: https://mail.mozilla.org/pipermail/rust-dev/2014-March/009078.html
[16:42:19] <eibwen> what is 12pm PDT in UTC?
[16:42:50] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[16:44:01] <eibwen> 12pm PDT = 19:00 UTC
[16:44:18] <erickt> you beat me, but I love wolfram alpha for this: http://www.wolframalpha.com/input/?i=12pm+pdt+in+utc
[16:44:39] *** Joins: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[16:44:57] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[16:46:06] <eibwen> :) - I did a quick google search which yielded an ugly webapp, which at least worked
[16:46:39] *** Quits: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[16:46:56] *** Quits: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com) (Ping timeout)
[16:47:00] *** Quits: rustilite (rustilite@moz-61B073BC.cpe.net.cable.rogers.com) (Ping timeout)
[16:47:36] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:48:20] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[16:48:21] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[16:49:32] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[16:50:45] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[16:51:01] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[16:53:04] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[16:53:14] *** Joins: xam (MaXYZW@moz-F787D177.dk.customer.tdc.net)
[16:54:38] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[16:55:20] *** Quits: xam (MaXYZW@moz-F787D177.dk.customer.tdc.net) (Quit: Computer has gone to sleep.)
[16:55:30] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[16:55:47] *** Quits: Kxepal (Miranda@moz-253D3FA5.pppoe.mtu-net.ru) (Ping timeout)
[16:58:22] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Quit: canhtak)
[16:59:33] *** Joins: Kxepal (Miranda@moz-2765ECDB.pppoe.mtu-net.ru)
[16:59:41] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[17:02:33] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[17:03:01] *** Joins: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com)
[17:03:04] *** Joins: rustilite (rustilite@moz-61B073BC.cpe.net.cable.rogers.com)
[17:09:53] *** Joins: edwardw (edwardw@BB690835.D7DB55D8.50B134B9.IP)
[17:11:33] *** Quits: krdln (Mibbit@moz-C271714F.dynamic.chello.pl) (Quit: http://www.mibbit.com ajax IRC Client)
[17:11:49] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[17:47:29] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:49:32] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:53:25] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[17:55:22] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[17:59:07] *** Joins: sinistersnare (sinistersn@moz-7E48AC93.washdc.fios.verizon.net)
[17:59:31] <sinistersnare> hi i was told to bug yall for an 'r' on my PR https://github.com/mozilla/rust/pull/12937/
[17:59:49] *** Joins: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[17:59:49] *** ChanServ sets mode: +qo brson brson
[17:59:51] <eddyb> s/^.* (?=https)/r?
[17:59:58] <eddyb> i.e. you only need to say "r?" ;)
[18:00:54] <sinistersnare> oh...still a bit confused!
[18:01:11] <sinistersnare> r?  https://github.com/mozilla/rust/pull/12937/
[18:01:36] *** Joins: xam (MaXYZW@moz-F787D177.dk.customer.tdc.net)
[18:01:57] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[18:02:06] <cmr> sinistersnare: did make check pass? I have a feeling some test depended on that error message...
[18:02:25] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[18:03:03] <eddyb> we can yet for travis
[18:03:11] <cmr> travis doesn't run tests.
[18:03:23] <eddyb> s/yet/wait/ (another day where fingers think for themselves)
[18:03:27] <eddyb> cmr: not even compile-fail?
[18:03:30] <eddyb> those are pretty fast
[18:03:36] <cmr> oh, well, at stage1 it does.
[18:03:44] <sinistersnare> running make check, sorry didnt know
[18:04:16] <eddyb> that will take a while. I suggest make rustc-stage1 (to compile) and make check-stage1 (to run tests) - that way you don't build two iterations of the compiler (which takes time)
[18:04:20] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[18:04:30] <sinistersnare> is this supposed to happen? https://gist.github.com/sinistersnare/bd0549df81b8143ffa49
[18:05:12] <eddyb> yay you have pandoc
[18:05:19] <eddyb> and it looks like it broke
[18:05:21] <sinistersnare> it was for a talk i did on jython :p
[18:05:55] *** Quits: erickt (etryzelaar@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[18:07:54] <sinistersnare> boy my UPS hates make-check
[18:10:04] *** Quits: sinistersnare (sinistersn@moz-7E48AC93.washdc.fios.verizon.net) (Ping timeout)
[18:14:03] *** Joins: sinistersnare (sinistersn@moz-7E48AC93.washdc.fios.verizon.net)
[18:14:09] <sinistersnare> wow yeah, my UPS hated that
[18:14:15] <sinistersnare> unplugged from ups, time for a make check i guses lol
[18:16:28] *** Joins: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP)
[18:16:28] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/wiV-dA
[18:16:28] <ghrust> 13rust/06auto 14ea8da6e 15aochagavia: Refactored take_unwrap (libstd/option.rs)...
[18:16:28] <ghrust> 13rust/06auto 1462577b4 15bors: auto merge of #12931 : aochagavia/rust/option-take_unwrap, r=cmr...
[18:16:29] *** Parts: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP) ()
[18:16:42] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[18:23:36] <sinistersnare> there is a lot of tests...
[18:23:51] <eddyb> travis passed for some reason
[18:23:54] <sinistersnare> the travis build passed, tests still running
[18:27:13] *** Quits: angdev (angdev@16F167B.4C57D258.D8E8354F.IP) (Quit: My MacBook has gone to sleep. ZZZzzz‚Ä¶)
[18:41:56] <sinistersnare> ok make test-stage1 is over
[18:42:15] <sinistersnare> would it have failed if there was a failing test?
[18:44:20] *** Joins: angdev (angdev@16F167B.4C57D258.D8E8354F.IP)
[18:45:45] <sinistersnare> so r?
[18:46:26] <eddyb> add a test then
[18:46:36] <sinistersnare> oh, ok, how should i do that?
[18:46:57] <eddyb> look in src/test/compile-fail
[18:47:20] <sinistersnare> im just not sure how to test error output...?
[18:47:22] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:47:34] <eddyb> sinistersnare: open any of those files and you'll see :P
[18:47:36] <sinistersnare> oh ok
[18:47:39] <sinistersnare> woah cool
[18:48:21] <sinistersnare> would it be missing_paren_or_anonymous_func.rs?
[18:48:30] <sinistersnare> parens*
[18:49:20] <eddyb> more like method-missing-call.rs
[18:49:29] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:49:30] <eddyb> the test name is not *that* important
[18:49:36] <sinistersnare> yeah
[18:50:38] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[18:53:26] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[18:55:24] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[18:59:30] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[19:03:44] *** Joins: erickt (etryzelaar@moz-C07D5168.p2p.sfo1.mozilla.com)
[19:04:20] * eddyb looks at rustc, tear in his eye, as it goes past 1.4GB
[19:05:01] * edwardw still rustc wants more
[19:06:27] <sinistersnare> christ. 
[19:06:36] <sinistersnare> how can i run a specific test? is rustc really that huge?
[19:06:53] <eddyb> TESTNAME
[19:06:57] <edwardw> sinistersnare: TEST_NAME=
[19:07:00] <eddyb> or TEST_NAME. I'm not sure
[19:07:11] <edwardw> sinistersnare: try `make tips`
[19:07:13] <sinistersnare> https://gist.github.com/sinistersnare/4142c5e89033a3c2e51e ok ill try that, but here it is i think
[19:08:30] <sinistersnare> its TESTNAME
[19:08:48] <edwardw> :)
[19:10:02] <sinistersnare> its just sitting at oxidize:.... does running one test take this long?
[19:10:55] <eddyb> oxidize what?
[19:11:13] <sinistersnare> it finally passed libsyntax, now its waiting to oxidize librustc
[19:11:25] <eddyb> that's compiling the compiler
[19:11:29] <eddyb> nothing to do with tests
[19:11:38] <edwardw> you may touch the source file
[19:11:56] <edwardw> if you are sure no need to rebuild, NO_REBUILD=1
[19:12:52] <sinistersnare> why does it need to compile the compiler for a check?
[19:13:00] <sinistersnare> hmm idk, ill just wait
[19:13:31] <sinistersnare> ...segfault?...
[19:13:55] <edwardw> segfault on what?
[19:14:16] <sinistersnare> https://gist.github.com/sinistersnare/beeccdbf9cc18446874c this was on another run of the thing adding the -rfail to the call
[19:14:57] *** Quits: angdev (angdev@16F167B.4C57D258.D8E8354F.IP) (Quit: My MacBook has gone to sleep. ZZZzzz‚Ä¶)
[19:18:13] <eddyb> hehehe
[19:18:15] <eddyb> oxidize: x86_64-unknown-linux-gnu/stage0/lib/rustlib/x86_64-unknown-linux-gnu/lib/librustdoc
[19:18:20] <eddyb> cmr: I've managed to invoke this magic
[19:18:28] <eddyb> make x86_64-unknown-linux-gnu/stage1/lib/stamp.rustdoc
[19:18:39] <sinistersnare> what?
[19:19:02] <eddyb> first time I've manged to compile rustdoc without actually having to compile librustc twice
[19:19:33] <edwardw> hmm, some make magic
[19:19:44] <sinistersnare> im confused :p
[19:20:21] <sinistersnare> do yall know why im getting that segfault?
[19:20:22] <edwardw> don't look at me, makefiles remain cryptic to me :P
[19:20:46] <edwardw> have no idea, it never happened to me
[19:21:23] *** Joins: stevekla1nik (steveklabn@moz-C07D5168.p2p.sfo1.mozilla.com)
[19:21:29] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[19:21:29] <ghrust> [13rust] 15bors 04force-pushed 06auto from 1462577b4 to 147156ded: 02http://git.io/N3iJvQ
[19:21:29] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[19:21:49] <sinistersnare> the first time i ran make checl-stage1, it gave me this: 
[19:21:50] <sinistersnare> rustc: /home/rustbuild/src/rust-buildbot/slave/snap3-linux/build/src/llvm/lib/IR/Value.cpp:589: void llvm::ValueHandleBase::AddToUseList(): Assertion `I->second && I->first == I->second->VP.getPointer() && "List invariant broken!"' failed.
[19:22:16] <edwardw> wow, that's bad.
[19:22:22] <sinistersnare> i dont have a ~/rustbuild folder though
[19:22:24] <sinistersnare> so idk
[19:23:23] <bstrie> and here we have yet another person who thinks that our `Arc` type is C#'s
[19:23:26] <bstrie> please
[19:23:28] <bstrie> someone rename it
[19:23:30] <edwardw> can rust build without your fix?
[19:23:30] <bstrie> god
[19:23:30] <bstrie> 1.0 blocker
[19:23:39] <bstrie> s/C#/ObjC
[19:23:53] <sinistersnare> how can i check Edwards just make?
[19:24:01] <sinistersnare> edwardw*
[19:24:03] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[19:24:17] <bstrie> brson: I will fork the language if we don't rename `Arc` by 1.0. endless confusion.
[19:24:23] <edwardw> sinistersnare: I think you have to
[19:24:54] <edwardw> maybe just make rustc-stage1 to save some time
[19:25:10] <sinistersnare> make: Nothing to be done for `rustc-stage1'.
[19:25:21] <sinistersnare> bstrie, what is the difference between the two?
[19:25:31] *** Quits: stevekla1nik (steveklabn@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: leaving)
[19:25:35] <edwardw> sinistersnare: first you need to revert your fix
[19:25:41] *** Joins: stevekla1nik (steveklabn@moz-C07D5168.p2p.sfo1.mozilla.com)
[19:25:51] <sinistersnare> oh :(
[19:26:04] <sinistersnare> can i just switch to master and run that?
[19:26:15] <edwardw> of course!
[19:26:31] <edwardw> my bad, I forgot you work on a different branch
[19:27:00] <sinistersnare> ok, thats good
[19:27:12] <edwardw> I used to use git stash to do that myself
[19:29:02] <bstrie> sinistersnare: our `Arc` is *atomic* reference counting, and is a refcounted smart pointer that can be safely shared between concurrent units of execution. ObjC's `ARC` is basically their GC mechanism, as far as I can tell, and has nothing to do with concurrency
[19:29:22] <bstrie> and so a lot of people hear that we have Arc in our stdlib and think, oh I'll use those for automatic reference counting
[19:29:42] <bstrie> when that's really just what our `Rc` type does
[19:30:04] <bstrie> so even though ObjC's system is completely insane, they've squatted on that name and it's too late for us to redefine it
[19:30:13] <bstrie> this has been a debate for almost two years now
[19:30:18] <bstrie> what to rename it
[19:30:28] <sinistersnare> ah ok
[19:31:34] <bstrie> but we can't let indecision carry this name into a stable release
[19:31:43] <bstrie> my vote is: "literally anything else"
[19:32:15] <bstrie> how about `Ana` for "Arc's not ARC"
[19:32:43] <jensnockert> Just call it Rc? Atomic is just an implementation detail.
[19:33:00] <sinistersnare> jensnockert, we already have an Rc?
[19:33:02] <bstrie> jensnockert: then we'd have to rename our current Rc type, and you've solved nothing! :)
[19:33:10] <jensnockert> Oh‚Ä¶ right.
[19:33:10] <bstrie> or maybe
[19:33:23] <bstrie> `Rc` -> `Urc`, "Unatomic Reference Count" :P
[19:33:37] <jensnockert> Why do we have both?
[19:34:12] <eddyb> can we stop giving fucks, please?
[19:34:17] <eddyb> bstrie: this is getting on my nerves
[19:34:36] <bstrie> eddyb: no, we *cannot* stop giving fucks, because people *still* get them confused
[19:34:38] <eddyb> let people learn and make them look bad when they point out the name association
[19:34:45] <eddyb> downvote every mention of objc
[19:34:47] <bstrie> we have the power to change it
[19:34:48] <bstrie> right now
[19:34:53] <jensnockert> ^
[19:35:01] <eddyb> why? because some stupid language made stupid choices?
[19:35:01] <bstrie> to *not* change it would be to have us waste time, forever, clarifying the issue
[19:35:08] <eddyb> it says "atomic reference counting" on the tin
[19:35:13] <bstrie> it's not about vocabulary
[19:35:18] <bstrie> it's about making us more productive
[19:35:49] <eddyb> I haven't had to explain this issue in IRC
[19:35:51] <bstrie> we can head off every single one of these questions, forever, by choosing a name that is not deliberately confusing
[19:36:09] <bstrie> small change, big benefit
[19:36:12] <eddyb> Arc has never been confusing to me
[19:36:15] <bstrie> why would you *not* want to change it?
[19:36:16] <eddyb> but I did have to explain how Rc isn't GC
[19:36:26] *** Quits: intuxicated (intuxicate@5BA9DB47.F2F0EDE4.DA0107E2.IP) (Quit: Leaving)
[19:36:41] <jensnockert> bstrie: But what is the conceptual difference between Rc and Arc?
[19:37:07] <jensnockert> Why would I ever want a non-atomic reference count?
[19:37:12] <eddyb> uhm...
[19:37:12] <bstrie> jensnockert: one is just a lightweight mechanism for having multiple pointers to the same bit of memory. the latter is relatively heavyweight
[19:37:22] <eddyb> jensnockert: atomic costs. a lot
[19:37:52] <eddyb> C++ made the stupid decision (well, good for lazy people) of having an atomic shared_ptr
[19:38:08] <eddyb> and LLVM is trying very hard to remove the atomic cost
[19:38:08] <jensnockert> bstrie: So you want to communicate that Rc is for within a task, and Arc is for between tasks?
[19:38:19] <eddyb> jensnockert: yupp
[19:38:31] <eddyb> they have the appropriate kinds (and lack thereof) to enforce that
[19:38:50] <jensnockert> Src, Sendable Reference Count?
[19:38:55] <eddyb> oh dear
[19:39:02] <bstrie> jensnockert: no, I want to not spend the rest of my life answering the question "is Arc in rust the same as Arc in ObjC?"
[19:39:18] <jensnockert> bstrie: I agree that Arc is a bad name.
[19:39:20] <eddyb> TRc. and it still looks bad
[19:39:25] <eddyb> jensnockert: how is it a bad name?
[19:39:35] <jensnockert> Because it has name clashes.
[19:39:45] <bstrie> I don't care if it looks bad, as long as it saves me from this fate
[19:39:58] <bstrie> come up with a prettier name if you want. just as long as it isn't already taken
[19:40:02] <eddyb> Arc is one of the most beautiful name in the entire collection of libraries
[19:40:07] <eddyb> *names
[19:40:22] <eddyb> *sigh* I have better things to do than attend a bikeshed
[19:40:22] <bstrie> eddyb: sadly, we cannot use it for what we want. c'est la vie
[19:40:37] <eibwen> what does Arc mean?
[19:40:45] <stevekla1nik> atomic reference count
[19:40:48] <eibwen> it's not that curvy thing I suppose?
[19:40:49] <eibwen> oh
[19:40:53] <bstrie> eibwen: depends, do you mean ObjC arc or rust arc?
[19:41:00] <eibwen> bstrie: rust arc :)
[19:41:17] <eddyb> bstrie: can't you just treat those people as if they were saying "rust sucks" etc.?
[19:42:10] <bstrie> eddyb: no, because people are getting this wrong while trying to *help* us
[19:42:23] <eddyb> that's confusing
[19:42:30] <bstrie> eddyb: http://www.reddit.com/r/programming/comments/20jhgi/this_week_in_rust/cg3zldy
[19:42:39] <sinistersnare> ok i compiled rustc, but it keeps crashing when i get to the rustdoc phase because of pandoc whatever
[19:43:12] <eddyb> bstrie: do I dare open that in lynx?
[19:43:37] <eddyb> I've been meaning to fix rustdoc, that's why I closed my browser
[19:46:08] <edwardw> does rustdoc still depend on pandoc? I thought https://github.com/mozilla/rust/pull/12747 is meant to change that
[19:46:36] <edwardw> I don't have pandoc on my system so have no idea
[19:47:00] <sinistersnare> maybe its not pandoc, actually it says pdfTeX so idk
[19:47:17] <eddyb> sinistersnare: just uninstall it, I guess
[19:47:44] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:49:37] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:53:25] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[19:55:30] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[19:56:45] *** Quits: mawuli (mawuli@moz-EF4254B1.com.gh) (Ping timeout)
[20:00:11] <sinistersnare> so my test is failing because its not reading the NOTE on the next line incorrectly
[20:03:30] <sinistersnare> correctly*
[20:05:51] <eddyb> sweet, I can compile syntaxtest with NO_REBUILD=1
[20:05:59] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Ping timeout)
[20:06:41] *** Quits: xam (MaXYZW@moz-F787D177.dk.customer.tdc.net) (Quit: Computer has gone to sleep.)
[20:11:14] *** Joins: xam (MaXYZW@moz-F787D177.dk.customer.tdc.net)
[20:11:43] *** Quits: xam (MaXYZW@moz-F787D177.dk.customer.tdc.net) (Quit: Computer has gone to sleep.)
[20:14:58] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[20:14:58] *** ChanServ sets mode: +ao pcwalton pcwalton
[20:18:06] <sinistersnare> can anyone tell me whats wrong with my test?
[20:19:36] <sinistersnare> https://gist.github.com/sinistersnare/b0e4951129c30ec2ea2a
[20:19:39] <sinistersnare> forgot to put this!
[20:21:36] <edwardw> sinistersnare: the note message doesn't match
[20:23:09] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[20:23:52] <huon> oh, wow
[20:23:53] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[20:23:59] <huon> the test runner does match `note`s
[20:24:03] * huon didn't know that
[20:24:20] * eddyb hugs whoever made NO_REBUILD work for everything
[20:24:31] <eddyb> I didn't realize it was so simple now to fix syntax tests :D
[20:24:35] * huon hugs eddyb back
[20:25:15] <sinistersnare> ok recompiling now
[20:25:31] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[20:25:35] <sinistersnare> when i do 'make rustc' it says there is nothing to recompile...but my test still fails?
[20:26:26] <edwardw> sinistersnare: when that happens, I always use `touch librustc/middle/liveness.rs` or whatever
[20:26:28] <kimundi> sinistersnare: well its a independent test -  changing it doesn't require a rebuild of rustc
[20:26:51] <eddyb> huon: is there a rustdoctest?
[20:27:20] <huon> eddyb: yup
[20:27:28] <huon> (is it pretty empty? yup)
[20:27:32] <eddyb> okay, I'll try to fix everything I can build
[20:27:37] <sinistersnare> ok when i run the stage2 compiler, it outputs the correct note. 
[20:27:39] <sinistersnare> oh wait...
[20:27:49] <eddyb> why are you even building stage1?
[20:27:55] <sinistersnare> im stupid, i was doing check-stage1 when i think i should have done check-stage2
[20:27:58] <eddyb> and you should've fixed the test not the compiler
[20:28:06] <sinistersnare> ok so it works!
[20:28:09] <eddyb> as long as the compiler had what you wanted
[20:28:16] <sinistersnare> i was running the wrong stage
[20:28:19] <sinistersnare> but it works
[20:28:21] <eddyb> sinistersnare: you must've done something wrong if check-stage1 doesn't have your fix
[20:28:29] <kimundi> sinistersnare: stage1 and stage2 chould be interchangeable for this
[20:28:31] <sinistersnare> stage2 does though?
[20:28:37] <kimundi> should*
[20:28:45] <eddyb> sinistersnare: are you using NO_REBUILD=1?
[20:28:56] <kimundi> sinistersnare: only stage0 uses a old rustc
[20:28:58] <eddyb> you should only be building stage1 rustc and test with that, for efficiency's sake
[20:29:04] <huon> (if you're just editing tests, then NO_REBUILD is unnecessary)
[20:29:14] <sinistersnare> make check-stage2 TESTNAME=method-missing-call
[20:29:14] <huon> (src/test tests)
[20:29:21] <eddyb> test result: ok. 101 passed; 0 failed; 0 ignored; 0 measured
[20:29:27] <eddyb> huon: lol building android tests
[20:29:42] <sinistersnare> random question: is make check logged anywhere?
[20:30:04] <huon> tmp/*.log
[20:30:27] <sinistersnare> cool, just wondering, because i saw some 'unusued import's while running a while ago
[20:30:33] <eddyb> huon: damn, NO_REBUILD is strict
[20:30:36] <sinistersnare> ok, but the test runs, can i update my PR with it?
[20:30:48] <eddyb> having to do this to run the rustdoc test: make x86_64-unknown-linux-gnu/stage1/lib/rustlib/x86_64-unknown-linux-gnu/lib/stamp.syntax
[20:30:54] <eddyb> and likely the same thing for librustc
[20:31:03] <eddyb> at least it gives me tight control :D
[20:32:05] <sinistersnare> so i should make the test and the note addition a single commit?
[20:32:16] <eddyb> sure
[20:32:54] <eddyb> it's small enough - you shouldn't do weird stuff with commits if someone is already reviewing, but here it's fine to amend
[20:33:16] <eddyb> huon: aaand it turns out I'm rebuilding stage1 stuff as well :/
[20:33:33] *** Quits: edwardw (edwardw@BB690835.D7DB55D8.50B134B9.IP) (Quit: Leaving...)
[20:33:37] <huon> sinistersnare: the test passes, right?
[20:35:01] <sinistersnare> yes
[20:35:07] <huon> cool
[20:35:12] <sinistersnare> i think i messed up my commits though... im confused by git :=\
[20:35:17] <sinistersnare> how can i go back one commit?
[20:35:23] <sinistersnare> something like git reset HEAD~1?
[20:35:47] <eddyb> yupp. but make sure to use "git log" or "gitk" to find out where you are
[20:35:54] <eddyb> otherwise you might go too far back
[20:36:20] *** Quits: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr) (Ping timeout)
[20:37:39] *** Quits: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net) (Quit: huon)
[20:38:42] <sinistersnare> / Copyright 2014 The Rust Project Developers. See the COPYRIGHT
[20:38:42] <sinistersnare> / file at the top-level directory of this distribution and at
[20:38:42] <sinistersnare> / http://rust-lang.org/COPYRIGHT.
[20:38:42] <sinistersnare> /
[20:38:42] <sinistersnare> / Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or
[20:38:42] <sinistersnare> / http://www.apache.org/licenses/LICENSE-2.0> or the MIT license
[20:38:45] <sinistersnare> / <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your
[20:38:48] <sinistersnare> / option. This file may not be copied, modified, or distributed
[20:38:50] <sinistersnare> / except according to those terms.
[20:38:52] <sinistersnare> / Tests to make sure that parens are needed for method calls without arguments.
[20:38:54] <sinistersnare> / outputs text to make sure either an anonymous function is provided or
[20:38:56] <sinistersnare> / open-close '()' parens are given
[20:38:58] <sinistersnare> struct Point {
[20:39:00] <sinistersnare>     x: int,
[20:39:02] <sinistersnare>     y: int
[20:39:04] <sinistersnare> }
[20:39:06] <sinistersnare> impl Point {
[20:39:08] <sinistersnare>     fn new() -> Point {
[20:39:10] <sinistersnare>         Point{x:0, y:0}
[20:39:12] <sinistersnare>     }
[20:39:14] <kimundi> auto paste fail :P
[20:39:14] <sinistersnare>     fn get_x(&self) -> int {
[20:39:18] <sinistersnare>         self.x
[20:39:20] <sinistersnare>     }
[20:39:22] <sinistersnare> }
[20:39:24] <sinistersnare> fn main() {
[20:39:26] <sinistersnare>     let point: Point = Point::new();
[20:39:28] <sinistersnare>     let px: int =  point.get_x;//~ ERROR attempted to take value of method `get_x` on type `Point`
[20:39:30] <sinistersnare>     //~^ NOTE maybe a missing `()` to call it? If not, try an anonymous function.
[20:39:32] <sinistersnare> }
[20:39:34] <sinistersnare> WOAH SORRY
[20:39:36] <sinistersnare> is what i meant to send..... Updates were rejected because the tip of your current branch is behind
[20:39:38] <sinistersnare> sometimes how linux does ctrl-c pisses me off
[20:40:08] <eddyb> it's not linux
[20:40:14] *** Joins: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr)
[20:40:17] <eddyb> it's likely you getting used to a console
[20:40:26] <eddyb> and your IRC client being dumb about it
[20:43:08] <mrmonday> wooah, managed to get my raw socket stuff compiling on Windows :o
[20:43:16] <mrmonday> wonder how many of the test cases pass...
[20:46:46] <sinistersnare> https://github.com/mozilla/rust/pull/12937 r?
[20:46:50] <sinistersnare> finally got it
[20:47:42] <sinistersnare> waiting for travis
[20:51:05] <sinistersnare> im gonna relax somewhere not near my computer, thanks so much for the guidance everyone :)
[20:51:39] <eddyb> hehe yeah. I'm sick of these @
[20:51:47] <eddyb> but I know that tomorrow morning I'll want more
[20:55:51] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[20:57:31] *** Joins: aatch_ (James@moz-B437F499.pocketrent.com)
[20:57:52] *** aatch_ is now known as aatch
[20:59:35] <brson> we gained 12 open issues this week
[20:59:43] <brson> *milestone issues
[21:01:49] *** Joins: vky (chatzilla@moz-402D01EB.dsl.dynamic.sonic.net)
[21:02:50] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[21:04:09] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[21:04:21] <eddyb> so I end up having to use the IRC client to kill the browser I thought I could keep under control. sorry, dear HDD
[21:06:27] *** Joins: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP)
[21:06:28] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/4NL7Gg
[21:06:28] *** Parts: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP) ()
[21:11:25] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[21:11:30] *** Joins: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP)
[21:11:30] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/rThLOA
[21:11:30] *** Parts: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP) ()
[21:11:30] *** Joins: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP)
[21:11:31] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/AZ8DCQ
[21:11:31] <ghrust> 13rust/06auto 14ea8da6e 15aochagavia: Refactored take_unwrap (libstd/option.rs)...
[21:11:31] <ghrust> 13rust/06auto 149e89ffc 15bors: auto merge of #12931 : aochagavia/rust/option-take_unwrap, r=cmr...
[21:11:31] *** Parts: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP) ()
[21:13:59] <eddyb> cmr: oh and rustctest takes at least as long as librustc to compile... great
[21:14:08] *** Joins: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP)
[21:14:08] <ghrust> [13rust] 15alexcrichton 04force-pushed 06try from 14f579812 to 14235b6c3: 02http://git.io/k471pw
[21:14:08] <ghrust> 13rust/06try 14235b6c3 15Alex Crichton: rustdoc: Implement cross-crate searching...
[21:14:08] *** Parts: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP) ()
[21:14:23] <eddyb> oh dear no that's going to conflict NOPE NOPE
[21:15:51] <eddyb> do I dare open chrome?
[21:16:25] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[21:18:02] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[21:18:38] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[21:20:46] <eddyb> cmr: r? https://github.com/mozilla/rust/pull/12735
[21:20:54] <eddyb> tested, rustdoc should compile
[21:21:04] <eddyb> yay -6k
[21:30:27] *** Quits: vky (chatzilla@moz-402D01EB.dsl.dynamic.sonic.net) (Ping timeout)
[21:30:34] <eddyb> anyone ^^?
[21:34:24] <kimundi> brson: ping
[21:35:39] <eddyb> Yurume: https://github.com/mozilla/rust/pull/12947
[21:38:03] <eddyb> cmr, acrichto, someone pls r? https://github.com/mozilla/rust/pull/12735
[21:41:07] <nrc> anyone know what ty::type_autoderef turned into?
[21:41:39] <eddyb> hehehe
[21:41:45] <eddyb> nrc: why would you be using that?
[21:42:30] <nrc> eddyb:because I have a type and I want the result of auto-derefing it
[21:42:42] <eddyb> in what context?
[21:42:55] <nrc> to look up the fields on a type
[21:43:22] <eddyb> from where?
[21:43:32] <eddyb> I'm only asking because there's a few ways to do it
[21:43:51] <nrc> from librustc/middle
[21:44:01] <eddyb> more precise?
[21:44:03] <brson> kimundi: pong
[21:44:09] <eddyb> nrc: I guess I should be direct
[21:44:19] <eddyb> nrc: do you want it to consider overloaded Deref at all?
[21:44:50] <kimundi> brson: So I happened to misunderstand you on an github issue... https://github.com/mozilla/rust/issues/12925
[21:45:04] <nrc> eddyb: yes, I think so
[21:45:13] <eddyb> nrc: are you in typeck?
[21:45:16] <nrc> eddyb: this is the pre-rebase code - http://pastebin.mozilla.org/4604832
[21:45:18] <nrc> no
[21:45:25] <eddyb> it's kinda complicated
[21:45:32] <kimundi> brson: And just wanted to know if I indeed wasted the last 8 hours on the exact opposite from what you wanted :)
[21:45:53] <nrc> eddyb: I'm happy to add api to typeck so it is not complicated
[21:46:03] <eddyb> nrc: ExprField? is that post typeck?
[21:46:16] <nrc> yes
[21:46:30] <eddyb> nrc: just get the adjusted type of sub_ex
[21:46:40] <eddyb> nrc: that is already auto-deref'd, including Deref overloads
[21:46:51] <eddyb> nrc: and it should be a structure type
[21:46:59] <nrc> eddyb: perfect, how dows one get the adjusted type?
[21:47:01] <eddyb> (or univariant enum, I guess)
[21:47:04] <nrc> *does
[21:47:08] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[21:47:20] <eddyb> nrc: ty::expr_type or something like that
[21:47:36] <eddyb> takes a method map reference as well
[21:47:51] <nrc> eddyb: thanks, I'll check that out
[21:48:17] <eddyb> rusti: enum Foo {Foo {x: int, y: int}}; let x = Foo {x: 0, y: 0}; x.x
[21:48:18] -rusti- pastebinned 8 lines of output: http://sprunge.us/YDPK
[21:48:29] <brson> kimundi: aw, yeah, that's not what I was hoping for
[21:48:41] <eddyb> rusti: enum Foo {Bar {x: int, y: int}}; let x = Bar {x: 0, y: 0}; x.x
[21:48:42] -rusti- pastebinned 11 lines of output: http://sprunge.us/SJNF
[21:48:43] <kimundi> I was afraid to hear that :)
[21:49:13] <eddyb> I guess strcat added all the features to rusti
[21:49:33] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:50:30] <nrc> eddyb: is ty::expr_ty_adjusted what you mean?
[21:50:35] <eddyb> nrc: I think so
[21:50:49] <eddyb> it should get the expression and apply adjustments
[21:50:53] <eddyb> *expression type
[21:51:05] <eddyb> r? https://github.com/mozilla/rust/pull/12735
[21:51:16] <eddyb> where's huon? he was eager to r+ :(
[21:51:42] <kimundi> brson: Though I must say I'm not really sure how one would do this otherway round. You'd have to break up the one tuple macro into many seperate ones to properly move their impls into different modules for example
[21:52:00] <eddyb> nrc: as a general rule, everything you do after typeck should reuse most of the information you have at your disposal
[21:52:15] <eddyb> nrc: like, don't lookup methods again, typeck did that for you ;)
[21:52:26] <kimundi> And I'm kinda unsure how to draw the line about what should be considered a primitive type
[21:53:27] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[21:53:55] <brson> kimundi: the tuple macro is problematic indeed
[21:54:12] <brson> i think it can be broken up though
[21:54:24] <nrc> eddyb: a lot of the time I need intermediate info which we don't keep around token info for parts of a path. A lot of the time, I just don't know the functions to call :-p
[21:54:57] <eddyb> feel free to ask me, when I'm around
[21:55:20] <eddyb> (of course, try nmatsaki1 first, if he's easier to reach)
[21:55:20] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[21:55:33] <eddyb> like, one cubicle away or something :P
[21:55:53] <kimundi> brson: But long term I think putting the impls next to their types makes more sense, right? If so, I could take my existing patch, and move everything back in a isolated way that is easy to break up again
[21:56:20] <nrc> eddyb: I wish, usually we are 8-10 timezones apart
[21:56:57] <eddyb> timezones, the bane of Rust developement
[21:57:31] <nrc> yes
[21:58:12] <eddyb> now that people are actually awake
[21:58:28] <eddyb> can I get an r+ here? I want to go to sleep and at least have a chance at merging that over the night https://github.com/mozilla/rust/pull/12735
[21:58:40] <eddyb> oh, I know whom I need... pcwalton ^^^
[21:58:47] <eddyb> (and he's around. a miracle!)
[21:58:51] <brson> kimundi: in general I think it's better for impls to go by there types, but I think primitives are different
[21:59:01] <pcwalton> r+
[21:59:39] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[21:59:50] <nrc> how do I get a MethodCall instance from an expr id in order to use the method_map?
[21:59:56] <kimundi> brson: I don't see why there needs to be a distinction for this
[22:00:27] <nrc> from an ExprMethodCall?
[22:00:32] <brson> kimundi: my reasoning is outlined in the issue
[22:01:06] <kimundi> brson: Right, for the refactoring it makes sense
[22:01:32] <eddyb> nrc: MethodCall::expr(expr.id)
[22:01:39] <bstrie> what's the precedent for the rx/tx rename?
[22:01:47] <eddyb> bstrie: you?
[22:01:50] <bstrie> I presume it's a shortened version of "receiver/transmitter"
[22:01:55] <eddyb> (AFAIK)
[22:02:02] <bstrie> but I certainly didn't suggest them :P
[22:02:07] <kimundi> brson: But I kinda thought that long term all compiler-buildin primitives would become lang items in order to have less special cases between them and library defined types
[22:02:33] <eddyb> nrc: and MethodCall::autoderef(expr.id, auto_deref_index) for overloaded autoderef (shouldn't need to use that)
[22:02:48] <eddyb> pcwalton: thanks, now I can sleep :D
[22:02:55] <pcwalton> thanks!
[22:02:58] <nrc> eddyb: where does MethodCall live?
[22:03:08] <eddyb> nrc: typeck/mod.rs
[22:03:20] <brson> kimundi: i don't know how lang items would impact e.g. where `Clone for bool` is implemented
[22:03:22] <nrc> eddyb: cool, thanks again!
[22:05:11] <kimundi> brson: It would impact the "primitives should/can be considered different" mentality - in other words make the treatment of trait implementations for types consistent
[22:06:04] <kimundi> brson: Anyway, this is unrelated to this issue directly. I'm just wondering how long term this kind of refactoring would be
[22:06:57] <kimundi> (for how long primitive trait impls would live next to their trait instead of type, that is)
[22:09:29] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[22:13:45] <brson> kimundi: sorry to waste your time :-S
[22:14:05] <kimundi> eh, my fault for not reading carefully
[22:18:05] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[22:21:06] <cmr> brson: are you aware that try-win32 is broken?
[22:27:09] <brson> cmr: no
[22:29:10] *** Joins: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP)
[22:29:10] <ghrust> [13rust] 15cmr 04force-pushed 06try from 14235b6c3 to 14f6f5f02: 02http://git.io/k471pw
[22:29:10] <ghrust> 13rust/06try 14b57f0be 15Corey Richardson: Remove libc from std...
[22:29:10] <ghrust> 13rust/06try 142659257 15Corey Richardson: fix fallout from std::libc separation
[22:29:10] <ghrust> 13rust/06try 14866d842 15Corey Richardson: rt: remove opendir/readdir hack
[22:29:12] *** Parts: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP) ()
[22:36:25] <mrmonday> http://imgur.com/6giKxuP <= has anyone else encountered this error when trying to run tests on Windows? have I done something wrong?
[22:36:41] <cmr> mrmonday: are you doing `make check-fast`?
[22:38:31] <mrmonday> make check-stage1
[22:39:00] <cmr> windows hasn't been tested with check-stage1 probably ever
[22:39:18] <cmr> the builders only run check-fast.
[22:39:23] <mrmonday> then running one of the commands from that again but with an extra --cfg to make my tests run
[22:39:26] <mrmonday> ah, ok
[22:39:40] <mrmonday> I'll try that
[22:41:45] <mrmonday> hopefully it won't take as long as check-stage1, I'd rather not have to wait another couple of hours to see if it worked :L
[22:43:07] <mrmonday> (windows box I'm testing on is really slow :()
[22:43:20] *** Quits: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr) (Quit: ZNC - http://znc.sourceforge.net)
[22:43:20] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[22:45:37] *** flaper87 is now known as flaper87|afk
[22:47:04] *** Quits: erickt (etryzelaar@moz-C07D5168.p2p.sfo1.mozilla.com) (Ping timeout)
[22:47:14] *** Joins: strcat (strcat@moz-61B073BC.cpe.net.cable.rogers.com)
[22:47:39] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[22:49:15] *** Quits: rook (rook@moz-97AF7010.hsd1.mn.comcast.net) (Quit: leaving)
[22:49:32] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[22:53:37] *** Joins: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr)
[22:55:15] *** Quits: stevekla1nik (steveklabn@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: bai)
[22:56:31] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Quit: canhtak)
[22:56:38] *** Joins: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP)
[22:56:38] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/AZ8DCQ
[22:56:38] *** Parts: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP) ()
[23:00:15] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[23:01:23] *** Joins: rook (rook@moz-97AF7010.hsd1.mn.comcast.net)
[23:01:39] *** Joins: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP)
[23:01:39] <ghrust> [13rust] 15bors pushed 18 new commits to 06auto: 02http://git.io/aIciVg
[23:01:39] <ghrust> 13rust/06auto 14056706f 15Eduard Burtescu: De-@ Session usage.
[23:01:39] <ghrust> 13rust/06auto 144b4db7e 15Eduard Burtescu: De-@ ty::ctxt usage.
[23:01:40] <ghrust> 13rust/06auto 14641038e 15Eduard Burtescu: De-@ tyencode::ctxt and related parts of astencode.
[23:01:42] *** Parts: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP) ()
[23:02:01] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[23:12:39] *** kimundi is now known as zz_kimundi
[23:17:36] *** Joins: vky (chatzilla@moz-402D01EB.dsl.dynamic.sonic.net)
[23:23:05] *** Joins: bvssvni (Mibbit@moz-E289BB64.bb.online.no)
[23:26:46] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[23:26:46] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/sgic0Q
[23:26:46] <ghrust> 13rust/06auto 14a1bbe77 15Laurent Bonnans: rustc: disallow trailing parentheses for nullary enum variants...
[23:26:46] <ghrust> 13rust/06auto 14fb3e533 15bors: auto merge of #12935 : lbonn/rust/nullenum, r=alexcrichton...
[23:26:47] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[23:26:48] *** Joins: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP)
[23:26:48] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14cc870e1 to 149e89ffc: 02http://git.io/N3iJvQ
[23:26:48] *** Parts: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP) ()
[23:31:12] *** Quits: bvssvni (Mibbit@moz-E289BB64.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[23:38:47] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[23:39:15] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[23:41:03] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[23:42:33] <cmr> acrichto: write! can't take raw strings :((((
[23:43:58] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[23:45:42] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[23:45:42] *** ChanServ sets mode: +ao pcwalton pcwalton
[23:45:48] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[23:47:20] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:49:23] *** Joins: angdev (angdev@16F167B.4C57D258.D8E8354F.IP)
[23:49:33] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:51:23] <acrichto> cmr: ?
[23:51:54] <cmr> acrichto: write!(w, r##"..."## says `error: `#` reference used with nothing to reference back to`
[23:56:20] * ChrisMorgan doesn't like the way that the grammar does not indicate that # would be special outside of {} in a format string and yet it is
[23:57:11] <acrichto> cmr: you just need to escape any # inside the string
[23:57:15] <acrichto> same way as if you're doing that with { and }
[23:58:40] <cmr> ah
[23:58:48] <cmr> it'd be nice if the span for that wasn't for the whole strong
