[00:00:13] <aturon> blaenk: yeah, and chances are it's getting compiled down to the same thing Into would. but it's a pain :)
[00:01:09] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[00:02:03] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[00:02:28] <blaenk> woah just realized the second comment block was butchered. here it is http://is.gd/BMPDHt
[00:03:20] <aturon> blaenk: oh, so for the second argument, are you saying that you actually only need a Path?
[00:03:40] <aturon> so, today we have `fn open<P: AsRef<Path>>(p: P) -> File`,
[00:03:48] <aturon> and you can pass in a &Path or PathBuf or &PathBuf
[00:04:07] <aturon> (or String, &str, &OsStr, OsString, &String, &OsString, ...)
[00:05:46] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[00:06:16] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[00:06:21] <blaenk> agh sorry man, my net is killing me
[00:06:48] <blaenk> nah what I meant is that I want the same thing for the second parameter. i.e. I ultimately want a PathBuf, but I want to be able to accept &Path or PathBuf, simply taking ownership if it's already a PathBuf
[00:06:50] <blaenk> http://is.gd/9wTe15
[00:07:04] <aturon> ah ok
[00:08:21] <blaenk> sorry, this is the compiling code http://is.gd/UeBp5n
[00:08:34] <blaenk> but yeah the poitn is that idiom, 'accept borrowed or owned, ultimately want owned, so if passed owned, simply take ownership'
[00:08:43] <vadimcn> hey, when's the deadline for getting fixes into beta?
[00:09:45] *** Quits: imperio (Mibbit@moz-8otf3a.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[00:09:50] <aturon> cmr: reem: blaenk: acrichto: I'm wondering if we should sacrifice the AsRef -> Into blanket for a reflexive Into blanket
[00:10:13] <blaenk> I'll check out the asref -> into blanket
[00:10:16] <reem> Can we add that blanket later?
[00:10:19] <bstrie> nmatsakis: preliminary review? https://github.com/bstrie/rfcs/blob/derive-copy-and-clone/text/0000-derive-copy-and-clone.md
[00:10:26] <aturon> vadimcn: roughly the middle of next week -- i believe it's going to come out on Friday next week, rather than the 31st
[00:10:46] <aturon> reem: presumably with specialization (otherwise we're screwed no matter what we do :)
[00:10:51] <acrichto> aturon: wouldn't that be a reflexive From blanket?
[00:10:57] <aturon> acrichto: yes
[00:10:57] <acrichto> (and Into would follow)
[00:11:04] <aturon> acrichto: astute :)
[00:11:33] <aturon> in particular, we can still keep the lifting of AsRef over &
[00:11:50] <acrichto> I guess I'm not sure how often the AsRef -> From is used that much
[00:11:53] *** Quits: eibwen (eibwen@moz-srkqmj.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[00:12:08] <aturon> right, it seems relatively uncommon
[00:15:41] *** Joins: srh (User@moz-buk9lp.ph.cox.net)
[00:16:11] *** Quits: marsel (user@moz-ieu.rhb.147.46.IP) (Ping timeout: 121 seconds)
[00:17:28] <aturon> reem: acrichto: https://gist.github.com/aturon/43298cf71b4b1de0dae1
[00:18:04] <reem> yup looks great, and Convert goes in the prelude?
[00:18:13] <aturon> yeah
[00:18:20] <reem> +1
[00:18:25] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Connection closed)
[00:18:29] <aturon> reem: really, really good point about being able to put it all in one trait and use method-level where
[00:18:39] <aturon> that's a game-changer imo
[00:18:55] <cmr> in a lint, how can I get from an ast::TraitItem to the trait being implemented?
[00:19:01] *** Quits: ytain (ytain@moz-ldmhhn.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[00:19:10] * cmr spins up rust3 for the first time in a while
[00:22:39] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[00:23:49] <acrichto> aturon: hm what's up with this Convert trait?
[00:23:51] <blaenk> aturon: is that gist relevant to the reflexive Into?
[00:23:52] <acrichto> I think I missed that context
[00:23:58] <aturon> acrichto: see the bottom
[00:24:05] <acrichto> can't you do that today?
[00:24:08] <blaenk> nvm I think it's something else you guys were talking about
[00:24:11] <acrichto> or is it b/c the type params are in the wrong place?
[00:24:20] <aturon> acrichto: precisely
[00:24:26] <acrichto> hmm
[00:24:28] <aturon> blaenk: yeah, this is addressing a separate issue
[00:24:33] *** Quits: Amaranth (travis@moz-1raqsl.cpe.cableone.net) (Ping timeout: 121 seconds)
[00:24:35] <blaenk> ok
[00:24:42] <aturon> blaenk: re: the blanket question, it looks like we can probably swap things around a bit to get the reflexive one for Into,
[00:24:48] <blaenk> :DD
[00:24:55] <aturon> blaenk: by giving up the one lifting from AsRef to Into, which seems less important in practice
[00:25:14] <aturon> acrichto: i was against this before because i thought it would require a separate variant of each trait
[00:25:23] <aturon> acrichto: (it was one of the design Alternatives in the RFC)
[00:25:32] <aturon> acrichto: but reem pointed out that with method-level where, you can group it all
[00:25:32] <blaenk> ahh
[00:26:06] <acrichto> aturon: hm it's a little sad to give up those nice method names
[00:26:15] <aturon> acrichto: no but you still have them :)
[00:26:18] <acrichto> aturon: I feel like no one will bound over Convert but rather only use them as direct method calls
[00:26:23] <acrichto> but that seems like the rarer use case
[00:26:26] <reem> I think the opposite
[00:26:26] <aturon> acrichto: you don't bound by convert
[00:26:29] <acrichto> e.g. I expect these to be generic bounds more often
[00:26:31] <aturon> acrichto: it's implemented on all types
[00:26:33] <blaenk> hey there isnt' a replacement for std::os::num_cpus right? cause I get a lint warning but I don't see any in std::env. I think I remember acrichto suggested something about concurrency_hint or something but that's not in yet right
[00:26:39] <acrichto> aturon: oh right
[00:26:40] <reem> You bound by From/Into/AsRef and call Convert methods
[00:26:40] <aturon> acrichto: and is in the prelude
[00:26:53] <acrichto> aturon: reem: that is... a little confusing though
[00:26:56] <acrichto> for a newcomer at least
[00:26:56] <aturon> basically if we did this, none of the code using the current traits would have to change
[00:27:10] <acrichto> you bound on some traits
[00:27:12] <acrichto> but call methods from others
[00:27:14] <aturon> acrichto: it's a double dispatch, so yes, there's more indirection
[00:27:16] <reem> aturon: You'd have to add hints
[00:27:19] <aturon> but if you look up `into`,
[00:27:23] <aturon> it's easy to see what's going on,
[00:27:23] <acrichto> blaenk: currently I'd recommend the num_cpus crates on crates.io
[00:27:29] <aturon> and you can always use the `convert` forms
[00:27:32] <blaenk> ohhhh right, forgot about that, thanks acrichto 
[00:27:43] <reem> aturon: Just mark the Convert methods #[inline(always)] and they'll go away
[00:28:13] <aturon> reem: what do you mean?
[00:28:27] <reem> aturon: You said there's more indirection
[00:28:34] <aturon> reem: oh, i meant conceptually
[00:28:36] <aturon> not perf-wise
[00:28:46] <aturon> in terms of people understanding, looking at docs, etc
[00:28:52] <reem> Ah cool
[00:29:11] <aturon> acrichto: i think reem's point here is that we're currently "using up" the good names for non-generic methods
[00:29:30] <aturon> this almost lets us get `foo.to<String>()`
[00:29:41] <acrichto> aturon: sure but I've always been under the impression that you basically never call these methods against concrete types
[00:30:04] <aturon> acrichto: right, so that was my first reaction to this as well,
[00:30:06] <acrichto> so in that sense I'm not super bothered
[00:30:15] <aturon> but this makes it more feasible to do so
[00:30:29] <reem> I think it's useful to have to specify the type anyway, it makes the code much clearer when reading
[00:30:31] *** Quits: mjboa (mike@moz-hs4k1n.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[00:30:40] <reem> silent type conversions are confusing
[00:30:57] <aturon> wish we had more time to decide :-/
[00:31:16] <aturon> reem: acrichto: i'm going to post this gist on the merged RFC, get some discussion going there
[00:31:24] <acrichto> aturon: sounds good
[00:32:26] * kmc has the somewhat evil idea of a macro that's equivalent to debug_assert! in debug mode and intrinsics::assume in release mode
[00:33:41] *** Joins: Amaranth (travis@moz-1raqsl.cpe.cableone.net)
[00:33:55] <Mutabah> kmc: Isn't assume a bad thing to just insert willy-nilly?
[00:34:15] <aturon> reem: acrichto: blaenk: https://github.com/rust-lang/rfcs/pull/529#issuecomment-86770346
[00:34:41] <kmc> Mutabah: probably
[00:34:47] <cmr> kmc: rehger (iirc) had a blog post showing that it didn't help gcc or clang, iirc, and actually made it slower (not being able to elide the expressions)
[00:34:47] <kmc> I did call it a "somewhat evil" idea >:D
[00:34:56] <kmc> interesting
[00:35:05] <cmr> I just read it this past week, let me try and dig it out.
[00:35:16] <Mutabah> cmr: Yeah, I saw a similar comment in libcore
[00:35:34] <cmr> kmc: http://blog.regehr.org/archives/1096
[00:36:38] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[00:36:46] *** Quits: James_ (quassel@moz-d43h0f.range86-163.btcentralplus.com) (Ping timeout: 121 seconds)
[00:36:57] <kmc> thanks
[00:40:27] *** Quits: iopq (Mibbit@moz-uuic7b.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[00:43:17] *** Quits: srh (User@moz-buk9lp.ph.cox.net) (Quit: Leaving)
[00:46:38] *** Joins: bjz (bjz@moz-b43.1aa.161.202.IP)
[00:52:52] *** Joins: Kroisse (Kroisse@moz-t75tk5.krois.se)
[00:55:37] <kmc> interesting article
[00:57:53] *** Quits: Rusky1 (russell@moz-2a17lj.slkc.qwest.net) (Quit: Leaving.)
[00:57:55] *** Joins: Rusky (russell@moz-2a17lj.slkc.qwest.net)
[01:00:38] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[01:02:26] *** Quits: Tuba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[01:04:42] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[01:07:36] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[01:09:04] *** sunfish is now known as sunfish-away
[01:09:31] *** Quits: bjz (bjz@moz-b43.1aa.161.202.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:09:40] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[01:10:57] *** Joins: brson (brson@moz-o67.m43.48.37.IP)
[01:10:57] *** ChanServ sets mode: +o brson
[01:11:40] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Ping timeout: 121 seconds)
[01:13:00] *** Quits: Savago (Savago@moz-8hd.3b6.246.162.IP) (Client exited)
[01:15:22] <bstrie> who here has access to rust-highfive's github account? I'm curious if I can entice you into changing the bot's avatar into http://emotiongifs.com/satisfaction/liz-lemon-30-rock-self-high-five/
[01:15:35] <aturon> nrc: ^
[01:16:00] <bstrie> this is very important. filing the rfc as we speak
[01:16:16] <bstrie> def a 1.0 blocker
[01:16:23] <aturon> 1.0 beta, surely
[01:16:33] <nrc> bstrie: :-p Can you have animated avatars?
[01:17:11] <bstrie> nrc: probably not, but I can upload a still from it. it's still great
[01:17:19] <bstrie> anything is better than the autogenerated github avatars!
[01:17:37] <nrc> bstrie: sure, give me a still and it shall be done
[01:18:24] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:18:53] <bstrie> nrc: http://seleniac.org/rustfive.png
[01:22:17] <nrc> bstrie: https://github.com/rust-highfive
[01:23:18] <bstrie> nrc: beautiful
[01:23:26] <nrc> :-)
[01:25:50] <frewsxcv> excellent work
[01:26:16] *** Joins: mib_nna7lj (Mibbit@moz-juv.9o3.252.72.IP)
[01:26:39] <frewsxcv> why does rust-highfive have repositories?
[01:26:57] <nrc> no particular reason
[01:27:12] <nrc> I use that account whenever I want to do non-personal stuff
[01:27:20] <nrc> so probably mostly for testing
[01:31:08] *** Joins: Skyler_ (Skyler@moz-e93b35.sd.cox.net)
[01:31:08] *** Quits: Skyler (Skyler@moz-e93b35.sd.cox.net) (Connection closed)
[01:31:08] *** Skyler_ is now known as Skyler
[01:39:59] <Gankro> internet... too... slow... to... r+...
[01:42:23] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[01:44:14] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[01:47:08] *** Joins: cdidd (cdidd@moz-671va2.broadband.corbina.ru)
[01:50:04] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[01:50:19] *** Quits: brson (brson@moz-o67.m43.48.37.IP) (Ping timeout: 121 seconds)
[01:53:19] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[01:55:51] *** Joins: bjz (bjz@moz-4l6.mjm.52.113.IP)
[01:56:09] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[01:56:42] *** Quits: nawns (nawns@moz-0l6.cn2.211.128.IP) (Client exited)
[01:57:09] *** Joins: brson (brson@moz-5i1.d2v.211.95.IP)
[01:57:09] *** ChanServ sets mode: +o brson
[01:57:45] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[01:59:58] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[02:00:09] *** Quits: swgillespie (swgillespie@moz-upj.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:00:56] <bstrie> aturon: figured I'd clear up some confusion https://www.reddit.com/r/rust/comments/30g35y/psa_the_rust_10beta_release_is_on_april_3rd_not/
[02:01:33] *** Quits: bjz (bjz@moz-4l6.mjm.52.113.IP) (Ping timeout: 121 seconds)
[02:06:55] *** Joins: {[]}grant ({0}grant@moz-k7fknj.mo.charter.com)
[02:06:56] *** Quits: {[]}grant ({0}grant@moz-k7fknj.mo.charter.com) (Connection closed)
[02:07:43] *** Joins: {[]}grant ({0}grant@moz-k7fknj.mo.charter.com)
[02:10:59] *** Quits: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au) (Ping timeout: 121 seconds)
[02:11:07] <carllerche> Probably too late to bikeshed, but wouldn't AsRaw be better as Into<Fd>? aturon acrichto 
[02:14:45] <blaenk> i prefer into<fd> personally
[02:16:37] <carllerche> blaenk: https://github.com/rust-lang/rust/pull/23766
[02:17:06] <blaenk> sweet thanks carllerche 
[02:17:08] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[02:17:10] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[02:17:11] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[02:17:14] <blaenk> I misread you saying that you wanted AsRaw instead of Into<Fd> lol
[02:17:24] <blaenk> curious what they think
[02:17:56] <carllerche> well, it seems that Into and the other convert traits are new, so my guess is there is a lot of other stuff that doesn't reflect these additions
[02:18:09] <blaenk> that's waht I was thinking yeah
[02:18:56] *** Quits: {[]}grant ({0}grant@moz-k7fknj.mo.charter.com) (Connection closed)
[02:19:23] *** Joins: {[]}grant ({0}grant@moz-k7fknj.mo.charter.com)
[02:19:25] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[02:19:48] <blaenk> lol the rust-highfive bot avatar
[02:20:23] <blaenk> I remember when I was new to rust I used to mistake bors for brson all the time, and I thought brson was going around doing ALL THESE THINGS by himself all at once, approving and testing all these commits
[02:20:42] <blaenk> then I realized it wasn't him and the similarity in name made me think it was a bot he wrote like a pet bot
[02:21:10] <blaenk> used to think brson was lead dev
[02:21:19] <blaenk> BDFL
[02:21:20] *** Quits: w66745 (Mibbit@moz-b11uqs.dynamic.upc.nl) (Quit: http://www.mibbit.com ajax IRC Client)
[02:22:54] <blaenk> carllerche: same with From<Fd> etc. no?
[02:23:06] <blaenk> I think so at least, but you guys are more familiar with std::net than I am
[02:23:14] <blaenk> er std::os::platform::io
[02:23:36] <carllerche> blaenk: yep
[02:23:40] *** Quits: {[]}grant ({0}grant@moz-k7fknj.mo.charter.com) (Connection closed)
[02:26:01] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[02:26:04] <brson> blaenk: i was the lead until i was quietly demoted last june. nmatsakis is the project lead
[02:26:45] <blaenk> oooh okay, well now it's all awkward
[02:26:59] <blaenk> both of you are awesome ..... i got somewhere to be /runs
[02:27:25] *** Quits: barosl (barosl@moz-tmp.qma.67.220.IP) (Quit: Leaving)
[02:28:18] *** Joins: {[]}grant ({0}grant@moz-k7fknj.mo.charter.com)
[02:30:08] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[02:32:04] <sfackler> where's the easiest place to host an svg?
[02:33:52] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[02:34:02] <bstrie> sfackler: ha, no diea
[02:35:29] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: Textual IRC Client: www.textualapp.com)
[02:36:02] <carllerche> sfackler: cloudapp?
[02:37:16] *** Quits: mib_nna7lj (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:39:05] *** Quits: brson (brson@moz-5i1.d2v.211.95.IP) (Quit: leaving)
[02:41:52] *** Quits: zxq9 (ceverett@moz-c1f1em.asahi-net.or.jp) (Quit: Konversation terminated!)
[02:42:46] <reem> aturon: std::error::Error shouldn't inherit from Send anymore
[02:42:52] <reem> now that Send doesn't imply 'static
[02:43:02] <reem> actually I don't think there was ever a reason
[02:43:16] <sfackler> here's some bizzaro perf numbers: https://sfackler.com/static/flamegraph.svg
[02:44:00] <sfackler> https://github.com/sfackler/rust-postgres/issues/106
[02:44:04] *** Joins: zxq9 (ceverett@moz-c1f1em.asahi-net.or.jp)
[02:45:31] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[02:48:11] *** Joins: adu (ajr@moz-vu6seg.hfc.comcastbusiness.net)
[02:49:28] *** Joins: mib_hcv7ja (Mibbit@moz-juv.9o3.252.72.IP)
[02:50:05] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[02:50:37] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[02:50:41] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[02:50:42] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[02:53:05] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[02:53:16] <bstrie> sfackler: assuming you've read http://internals.rust-lang.org/t/uninitialized-memory/1652 ?
[02:53:52] *** Quits: adu (ajr@moz-vu6seg.hfc.comcastbusiness.net) (Client exited)
[02:54:48] *** Joins: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au)
[02:55:02] <sfackler> bstrie: it's not even that the memory has to be uninitialized to go fast, this change increases perf by multiple orders of magnitude: https://github.com/sfackler/rust-postgres/commit/9cd413d42c287154d6c64cc7913666b0517f35f3
[02:56:08] <sfackler> (where util::read_all does what you expect, just loop over read)
[02:58:13] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Connection closed)
[03:01:24] <sfackler> ~15 seconds down to .6
[03:01:35] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[03:01:39] <blaenk> awwww yeeee good one sfackler 
[03:03:46] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[03:04:00] <blaenk> haha num_cpus::get()
[03:07:09] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[03:07:29] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[03:07:56] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[03:07:56] *** ChanServ sets mode: +o pcwalton
[03:08:00] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (A TLS packet with unexpected length was received.)
[03:12:57] <sfackler> acrichto: does it make sense to you why I'd see such crazy perf numbers up there? ^
[03:23:06] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[03:23:51] *** Quits: kimundi (kimundi@moz-9s9t8j.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[03:23:59] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[03:24:55] *** Joins: zz_kimundi (kimundi@moz-j2mt7t.dip0.t-ipconnect.de)
[03:24:56] *** zz_kimundi is now known as kimundi
[03:25:51] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[03:26:05] *** Quits: mib_hcv7ja (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:26:10] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[03:33:37] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[03:34:21] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[03:36:16] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[03:58:10] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[03:59:35] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[04:04:48] *** Quits: njn (chatzilla@moz-g8u.hke.217.203.IP) (Quit: ChatZilla 0.9.91.1 [Firefox 39.0a1/20150322160652])
[04:10:17] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[04:10:44] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[04:18:20] *** Joins: theme (theme@moz-i3mhhb.asianet.co.th)
[04:20:02] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[04:22:56] *** Joins: cdidd_ (cdidd@moz-c6u44j.broadband.corbina.ru)
[04:24:33] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[04:25:10] *** Quits: cdidd (cdidd@moz-671va2.broadband.corbina.ru) (Ping timeout: 121 seconds)
[04:26:03] *** Joins: kushal (kdas@moz-hqk.qv9.142.202.IP)
[04:27:34] *** Joins: semarie (semarie@moz-eugg57.redstation.co.uk)
[04:28:54] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[04:29:43] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[04:33:12] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[04:33:35] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[04:35:05] *** Quits: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net) (Connection closed)
[04:35:54] *** Joins: mystor (mystor@moz-qd5889.cpe.pppoe.ca)
[04:35:55] <aturon> carllerche: i responded on the PR
[04:36:03] <aturon> reem: we recently re-added the Send bound
[04:36:19] <aturon> reem: the reason you want it is to ensure that Box<Error> is Send
[04:36:24] *** Joins: minzh (minzh@moz-u8rq5v.citrix.com)
[04:36:28] <aturon> (without requiring Box<Error + Send> everywhere, basically)
[04:36:46] <reem> That's the wrong way to think about it imo
[04:36:58] <reem> we have + Send on trait objects specifically so you can still be general
[04:37:25] <aturon> right, so it was a calculated decision that errors should in general be transmittable between threads
[04:37:27] <reem> for instance in Iron I want to embed a Response in an Error, but Response contains TypeMap, which contains Box<UnsafeAny> which isn't Send
[04:37:58] <reem> so we also don't have a way to let me transform that to Box<UnsafeAny + Send> without making TypeMap only work for Send types for everyone
[04:38:03] <aturon> (the risk on the other side is accumulating APIs around Box<Error>, only to realize that you need something to be Send)
[04:38:22] <reem> that is better than not being able to use things in a single threaded context
[04:38:31] <reem> because that's always solvable
[04:38:40] <reem> the other way around is not generally solvable\
[04:38:44] <aturon> reem: not without breakage
[04:38:52] <aturon> if you have APIs that are consuming Box<Error>, for example,
[04:38:59] <aturon> you can't add a + Send without breaking your clients
[04:39:10] <reem> that's no different than any other type or type parameter
[04:39:24] <reem> if I had E: Error it's breaking to change that to E: Error + Send too
[04:39:34] *** Quits: det- (chris@moz-qij3pi.lv.cox.net) (Quit: Leaving)
[04:39:36] *** Joins: det (chris@moz-qij3pi.lv.cox.net)
[04:39:46] <reem> what is Send/Sync is the kind of thing you need to think about up front if you're writing a non-changeable API
[04:39:49] <aturon> sure, but that's why i was saying it was a calculated decision about the defaults
[04:40:14] <reem> right, but it's not really a default since I can't turn it off
[04:40:26] <reem> I can't opt-in to non-Send errors now
[04:40:26] <aturon> yeah, fair
[04:40:28] *** Quits: minzh (minzh@moz-u8rq5v.citrix.com) (Ping timeout: 121 seconds)
[04:40:40] <aturon> i'll open an issue, let's try to get some discussion on it
[04:40:48] <reem> it's pretty problematic for my use case in iron
[04:40:55] <reem> and I don't doubt that this comes up in other places
[04:41:19] <acrichto> sfackler: I saw that recently as well, I believe the problem is that we zero out memory and then truncate() now in read_to_end()
[04:41:19] <reem> the thing with putting implicit Send bounds, I find, is that even though most concrete types are Send, most generics aren't.
[04:41:27] <aturon> reem: yep, point taken. our fear was that people would use Box<Error> for downcasting, but then run into Send problems
[04:41:34] <aturon> (and be stuck)
[04:41:37] <acrichto> sfackler: the problem is that we allocate a 64K buffer of space, buf if you read only 100 bytes you then "drop" 63K instances of u8
[04:41:43] <acrichto> sfackler: so in unoptimized builds it's super slow
[04:41:59] <reem> aturon: You need to define another trait to enable downcasting anyway
[04:42:02] <sfackler> it's bad in optimized builds for me too
[04:42:05] <reem> see the current rust-error
[04:42:11] <sfackler> though in my case i'm doing 4 byte reads
[04:42:21] <acrichto> sfackler: hm if it's bad in optimized builds that's not good
[04:42:23] <aturon> reem: right, we've been waiting for Reflect to land before integrating it with Error directly
[04:42:24] <sfackler> so what I have now is a better solution anyways
[04:42:33] <acrichto> sfackler: yes preallocation is the key there
[04:42:53] <aturon> acrichto: btw you should read ^ with reem
[04:42:59] <aturon> (though i am about to file an issue about this as well)
[04:43:01] <sfackler> totally makes sense given it's doing 64k buffering
[04:43:32] <reem> aturon: but then Error will inherit Reflect, right?
[04:43:42] <reem> I guess that makes sense as a logical bound
[04:44:00] <aturon> reem: I'm not sure exactly how it's going to shake out, but basically i didn't add the functionality until the dust settled around Any
[04:44:01] *** Quits: mystor (mystor@moz-qd5889.cpe.pppoe.ca) (Connection closed)
[04:44:44] <reem> Reflect should provide get_type_id(), that would obviate the need for http://github.com/reem/rust-typeable and Any's method.
[04:45:02] <reem> but it would have to be unstable since we actually want an associated constant, just like Any right now
[04:45:10] <acrichto> aturon: reem: hm interesting, it seems that without Send you'll basically not be able to send errors, but with Send you just can't use it in a non-send context
[04:45:30] <reem> places that need Send can easily use Box<Error + Send>
[04:46:36] <acrichto> unfortuantely it's a deeper problem than that
[04:46:39] <aturon> reem: acrichto: https://github.com/rust-lang/rust/issues/23774
[04:46:42] <acrichto> b/c there are probably many nested trait objects
[04:46:46] <acrichto> so you have to go add +Send to all of them
[04:46:54] <acrichto> which may involve crossing many lib boundaries
[04:46:55] <reem> acrichto: That's exactly the problem I have now
[04:47:05] <reem> rust-typemap contains Box<UnsafeAny> which is not Send
[04:47:12] <reem> I would have to change it to fix iron's error!
[04:51:14] <carllerche> aturon: wouldn't you get the opt-in factor by using the types being converted to?
[04:51:57] <aturon> carllerche: it depends whether there are eventually methods available on them
[04:52:25] <carllerche> what do you mean?
[04:52:56] *** Joins: minzh (minzh@moz-u8rq5v.citrix.com)
[04:53:11] <aturon> so, if these used the generic conversion traits, you could just write `some_file.as_ref()` for example, without importing anything, and get your hands on a file descriptor on unix, or a HANDLE on windows
[04:53:35] <aturon> i suppose it's unlikely that those would ever have methods since they're just aliases for integers, though
[04:54:44] <carllerche> aturon: well, you couldn't just "as_ref()" w/o somehow the return type being specified
[04:54:57] <carllerche> perhaps Fd should be a new type around c_int
[04:54:59] <aturon> carllerche: that's not true :)
[04:55:13] <carllerche> how could you do it?
[04:55:18] <aturon> if there's only one impl that can apply, inference can often figure out the input type on a trait
[04:55:28] <eddyb> aturon: that's very dodgy
[04:55:30] <reem> that sounds like a major stability hazard
[04:55:31] <aturon> i.e. if File implements AsRef<Fd> only
[04:55:35] <eddyb> reem: it is
[04:55:49] <aturon> eddyb: it's been in the compiler for some time 
[04:55:55] <carllerche> well... there are many stability things to figure out :P
[04:56:00] <eddyb> I know, it's caused me some trouble
[04:56:08] <reem> imo it should go away
[04:56:59] <aturon> there's a fair amount of reliance on this inference
[04:57:16] <eddyb> aturon: I came up with a working version of the box protocol that didn't have inference issues... turns out it was because I had a single impl
[04:57:52] *** Joins: cornelius (Mibbit@moz-juv.9o3.252.72.IP)
[04:58:05] <eddyb> we should have dummy impls for unexported types for most impls and explicitely document a few as intentionally locked down
[04:58:32] <eddyb> but with generics it's harder to tell what cases have a single impl
[04:58:58] <aturon> i'm trying to recall the exact situation that led to it being introduced
[04:59:03] <aturon> as i recall it was a pretty essential move
[04:59:22] <eddyb> it's a gamble, that's what it is
[05:01:22] <reem> I think it's a lot safer to just remove that feature
[05:01:22] <aturon> http://smallcultfollowing.com/babysteps/blog/2014/09/30/multi-and-conditional-dispatch-in-traits/
[05:01:50] <eddyb> ah, fun
[05:02:11] <eddyb> reem: it should be fairly easy to disable it and measure the fallout
[05:02:26] <eddyb> but I'm afraid it would be too much
[05:03:24] <aturon> nmatsakis: if you end up reading backscroll, the above may be of interest
[05:03:26] <reem> we should try it
[05:03:51] *** Quits: cornelius (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:03:58] <aturon> reem: i'm curious if you've run into problems with it?
[05:04:16] <reem> It seems like a massive stability hazard
[05:04:23] <reem> relying on it is so fragile
[05:04:27] <reem> it feels like it's not worth it
[05:06:39] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[05:07:31] <aturon> reem: i'm not sure it's so different in nature from other similar hazards that are somewhat fundamental to the trait system (which is what the blog post argues)
[05:07:42] <aturon> certainly i take the point in abstract, there's a downside in that sense
[05:09:23] <aturon> reem: basically, when nmatsakis was first implementing multidispatch, it ran into massive problems without this kind of inference, most deeply related to DST, as the blog post lays out
[05:11:54] <reem> aturon: Also the example is flawed, since no other crate could define Push for Vec<[T]>
[05:12:15] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[05:12:54] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[05:15:04] <aturon> reem: the problem is present even within a single crate, if you're trying to fix the stability hazard -- the issue there is that the current crate could add such an impl
[05:15:38] <reem> you're right
[05:15:46] <aturon> reem: in any case, you'd have to solve this issue in some other way if you wanted to do away with input type inference
[05:17:55] <reem> ya, we have to keep this around
[05:20:22] <reem> we should still not recommend relying on it for stuff like conversion traits
[05:22:02] <aturon> reem: agreed
[05:23:39] <eddyb> "We could introduce some new syntax for distinguishing conditional dispatch vs other where clauses"
[05:23:45] <eddyb> isn't that what "cutting" does in Prolog?
[05:23:58] <eddyb> or whatever it's called. I believe ! was the syntax
[05:25:02] *** Quits: bdero (bran@moz-216hqv.oo5r.e4su.0006.2601.IP) (Ping timeout: 121 seconds)
[05:26:44] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[05:27:46] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[05:28:42] *** Joins: hoverbear (hoverbear@moz-csaicn.gv.shawcable.net)
[05:29:16] <theme> Are static methods not object safe? Or are they just not callable from trait objects?
[05:29:32] <eddyb> theme: the latter
[05:29:39] <theme> O_o
[05:30:16] <eddyb> we don't have syntax for pulling associated values from the vtable
[05:30:36] <eddyb> I guess metod/field syntax could work but it might be a bit confusing
[05:30:52] <eddyb> because you'd use Type::VALUE or <Type as Trait>::VALUE for the static dispatch case
[05:31:08] <reem> eddyb: they're not object safe either
[05:31:13] <reem> theme: ^
[05:31:16] <eddyb> oh
[05:31:20] <eddyb> riiiight
[05:31:30] <eddyb> nmatsakis: you and your Trait: Trait obsession :P
[05:31:41] <eddyb> theme: you have to write an adapter then
[05:31:56] <eddyb> nmatsakis: you know this invalidates a lot of useful associated const stuff, right? :(
[05:32:11] <theme> reem, eddyb, if the static method has `where Self: Sized`, is it ok?
[05:32:22] <eddyb> theme: it might be
[05:32:25] <reem> theme: yes
[05:32:28] <theme> *might*?
[05:32:39] <reem> theme: definitely is
[05:32:58] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[05:33:49] <theme> Is it going to be possible to have `where Self: Sized` with associated constants?
[05:34:22] <scott> why are static methods not object safe? (assuming they don't use Self by-value and whatnot)
[05:34:48] <eddyb> theme: yay I didn't even consider that
[05:34:59] <eddyb> theme: though they should be treatable like methods
[05:35:14] <eddyb> theme: could you raise the concern on the recent RFC by quantheory?
[05:35:34] <eddyb> the one for updating the associated items RFC to say const explicitely
[05:35:58] <theme> hmm
[05:35:58] <scott> why would associated constants need where Self: Sized?
[05:35:59] <theme> where is that
[05:36:18] <theme> scott, because static methods are not object safe
[05:36:26] <theme> and associated constants are similar to static methods
[05:36:30] <scott> that was my first question :P
[05:36:43] <theme> reem, can you answer scott ?
[05:36:55] <scott> fn foo() -> Self is obviously not object safe, but fn foo() -> i32?
[05:37:48] <theme> scott, how do you call it on a trait object?
[05:37:52] <theme> eddyb, where is that RFC?
[05:37:59] *** Joins: nawns (nawns@moz-m5m0i6.lfytina2.metronetinc.net)
[05:38:21] <scott> theme: well, that's a syntactic issue, I suppose
[05:38:42] <eddyb> scott: no
[05:38:52] <eddyb> scott: Trait: Trait if Trait is object-safe
[05:39:01] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[05:39:02] <eddyb> so what is <Trait as Trait>::static_method?
[05:39:24] <scott> aha, thanks
[05:39:30] <theme> eddyb, found that RFC
[05:39:35] <eddyb> theme: https://github.com/rust-lang/rfcs/pulls/quantheory the update one
[05:39:37] <eddyb> ah, cool
[05:40:06] <scott> so you would need to make it fn foo(&self) -> i32 even if it just ignored self, purely to make that <Trait as Trait>::static_method case impossible
[05:40:28] <scott> (or where Self: Sized, but that has different implications)
[05:40:34] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[05:41:41] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[05:41:47] *** Joins: jxv (jxv___@moz-2celrt.res.rr.com)
[05:42:17] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[05:42:47] <theme> eddyb, added a comment
[05:42:51] <eddyb> https://github.com/rust-lang/rfcs/pull/1019/files#diff-99d4e03a2a7b222cfbb67099e006e57bR423
[05:43:07] <eddyb> (press the expand button to see the above)
[05:43:25] <eddyb> hahaha that's clearly not for mortal men then
[05:43:44] *** Quits: Rusky (russell@moz-2a17lj.slkc.qwest.net) (Quit: Leaving.)
[05:43:45] *** Joins: Rusky (russell@moz-2a17lj.slkc.qwest.net)
[05:44:55] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[05:46:17] <erickt> nmatsakis: you're not crazy and still up, are you?
[05:47:52] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[05:48:37] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[05:49:40] *** Quits: O01eg (o01eg@moz-6rk0n4.pneq.4n8f.2698.2a02.IP) (Client exited)
[05:53:13] *** Joins: bgamari (bgamari@moz-uvr07v.q402.fm1a.0470.2001.IP)
[06:03:04] *** Quits: eddyb (eddyb@moz-ule.hlc.26.188.IP) (Ping timeout: 121 seconds)
[06:08:24] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:08:37] *** Quits: hoverbear (hoverbear@moz-csaicn.gv.shawcable.net) (Quit: Time to hibernate.... ZzZz...)
[06:09:13] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[06:10:48] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[06:11:20] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[06:13:08] <huon> aturon: I am now
[06:13:15] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[06:13:38] *** Joins: reem (reem@moz-8klap8.coob.q2h1.0009.2601.IP)
[06:17:32] *** Joins: reem_ (reem@moz-2icmmi.ca.comcast.net)
[06:17:40] *** Quits: reem (reem@moz-8klap8.coob.q2h1.0009.2601.IP) (Ping timeout: 121 seconds)
[06:18:38] *** Quits: reem_ (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[06:19:49] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[06:20:53] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[06:21:54] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[06:21:59] *** Quits: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl) (Ping timeout: 121 seconds)
[06:25:19] *** Quits: jxv (jxv___@moz-2celrt.res.rr.com) (Connection closed)
[06:29:44] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[06:30:21] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[06:34:13] *** Joins: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl)
[06:36:01] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[06:36:41] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[06:37:39] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[06:40:47] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Connection closed)
[06:41:15] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[06:42:09] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[06:42:09] <sfackler> acrichto: it looks like [T]'s Debug impl currently uses the alternate flag to not display the []s. Should that behavior be preserved or should it pretty print like everything else?
[06:47:50] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[06:50:01] *** Joins: zmack (zmack@moz-4b0.o8l.26.188.IP)
[06:53:42] *** Quits: aatch (james@moz-4tpcve.pd7t.fvcm.e000.2406.IP) (Connection closed)
[06:53:59] *** Joins: reem (reem@moz-8j5afk.coob.q2h1.0009.2601.IP)
[06:56:42] *** Joins: barosl (barosl@moz-tmp.qma.67.220.IP)
[07:09:45] *** Joins: gsingh93_ (uid22642@moz-aq0iah.charlton.irccloud.com)
[07:12:29] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[07:20:36] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[07:22:33] *** Quits: reem (reem@moz-8j5afk.coob.q2h1.0009.2601.IP) (Connection closed)
[07:30:36] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[07:31:53] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[07:36:24] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[07:36:43] *** Quits: kushal (kdas@moz-hqk.qv9.142.202.IP) (Ping timeout: 121 seconds)
[07:42:50] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[07:49:01] *** Joins: kushal (kdas@moz-d3isf4.202.sitibroadband.in)
[07:56:48] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[07:58:49] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[07:58:49] *** gsingh93_ is now known as gsingh93
[08:03:51] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[08:05:57] *** Joins: eddyb (Mibbit@moz-gua2rr.lbi.ro)
[08:06:46] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Quit: Leaving)
[08:06:59] *** Quits: sp3d (sp3d@moz-ik970v.enn1.s22b.000d.2601.IP) (Ping timeout: 121 seconds)
[08:07:09] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[08:07:30] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[08:07:46] *** Quits: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Ping timeout: 121 seconds)
[08:07:58] *** Quits: rprichard (rprichard@moz-oksmjj.en8f.d045.0009.2601.IP) (Ping timeout: 121 seconds)
[08:10:04] *** Joins: sprang (sprang@moz-87qm4j.ca.comcast.net)
[08:10:16] *** Joins: rprichard (rprichard@moz-mskv0t.ca.comcast.net)
[08:11:07] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[08:11:54] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Ping timeout: 121 seconds)
[08:12:21] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[08:12:51] *** Joins: sp3d (sp3d@moz-q1fd29.il.comcast.net)
[08:17:44] *** Quits: zmack (zmack@moz-4b0.o8l.26.188.IP) (Connection closed)
[08:20:52] *** Quits: minzh (minzh@moz-u8rq5v.citrix.com) (A TLS packet with unexpected length was received.)
[08:21:35] *** Joins: mjboa (mike@moz-k6v1u8.dip0.t-ipconnect.de)
[08:22:40] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:25:31] *** Joins: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net)
[08:26:03] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[08:30:35] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[08:32:03] *** Joins: killercup (killercup@moz-4udt1b.dip0.t-ipconnect.de)
[08:32:44] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[08:33:18] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[08:33:37] *** Quits: killercup (killercup@moz-4udt1b.dip0.t-ipconnect.de) (Connection closed)
[08:33:37] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[08:34:58] *** Joins: imperio (Mibbit@moz-psdrik.rev.sfr.net)
[08:36:19] *** Quits: imperio (Mibbit@moz-psdrik.rev.sfr.net) (Quit: http://www.mibbit.com ajax IRC Client)
[08:36:32] *** Quits: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net) (Ping timeout: 121 seconds)
[08:37:03] *** Joins: imperio (Mibbit@moz-psdrik.rev.sfr.net)
[08:39:51] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[08:43:39] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[08:45:53] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[08:47:16] *** Joins: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP)
[08:52:48] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[08:52:49] *** Joins: larhat (Adium@moz-8v4.af0.232.213.IP)
[08:53:20] *** Joins: killercup (killercup@moz-4udt1b.dip0.t-ipconnect.de)
[08:57:06] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[09:10:11] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[09:11:01] *** Joins: marcusklaas (marcus@moz-2i0c3k.dynamic.ziggo.nl)
[09:20:11] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[09:21:13] *** Joins: minzh (minzh@moz-u8rq5v.citrix.com)
[09:24:07] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[09:24:43] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[09:25:17] *** Quits: minzh (minzh@moz-u8rq5v.citrix.com) (Ping timeout: 121 seconds)
[09:31:11] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[09:37:26] *** Joins: marsel (user@moz-3oc.4vs.180.94.IP)
[09:38:59] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[09:42:25] *** Joins: aepsil0n (eduard@moz-8h7njb.hsi8.kabel-badenwuerttemberg.de)
[09:42:25] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[09:46:53] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[09:47:35] *** Joins: minzh (minzh@moz-u8rq5v.citrix.com)
[09:49:18] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[09:50:35] *** Quits: minzh (minzh@moz-u8rq5v.citrix.com) (A TLS packet with unexpected length was received.)
[09:52:37] *** Joins: ptalbot (ptalbot@moz-g2mokk.ircam.fr)
[09:54:55] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[09:55:42] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[09:58:27] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[09:59:47] *** Joins: laumann (thomas@moz-1f0.hq0.225.130.IP)
[10:04:48] *** Joins: minzh (minzh@moz-u8rq5v.citrix.com)
[10:05:53] *** Joins: nrc|afk (nrc|afk@moz-4bhi2i.xtra.co.nz)
[10:06:04] *** nrc|afk is now known as nrc
[10:07:51] *** Quits: minzh (minzh@moz-u8rq5v.citrix.com) (A TLS packet with unexpected length was received.)
[10:12:26] *** Joins: ytain (ytain@moz-ldmhhn.dsl.teksavvy.com)
[10:14:20] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[10:15:02] *** Quits: marsel (user@moz-3oc.4vs.180.94.IP) (Ping timeout: 121 seconds)
[10:15:48] *** Quits: theme (theme@moz-i3mhhb.asianet.co.th) (Quit: Leaving)
[10:17:08] *** Joins: theme (theme@moz-i3mhhb.asianet.co.th)
[10:18:52] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[10:20:06] *** Quits: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl) (Ping timeout: 121 seconds)
[10:20:50] <SimonSapin> Is there a stable equivalent to Vec::push_all? Vec::extends with a &[u8] tries to push &u8 items instead of u8, and v.extend(slice.iter().cloned()) is kinda verbose
[10:26:01] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[10:29:25] *** Quits: nrc (nrc|afk@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[10:31:54] *** Quits: mjboa (mike@moz-k6v1u8.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[10:41:30] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[10:44:24] <eddyb> grrrr the multiline errors break my workflow
[10:44:36] <eddyb> I need to switch from "filtered" to "all output" to see them, in my editor
[10:45:38] *** Quits: gsingh93 (uid22642@moz-aq0iah.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[10:47:23] *** Joins: mjboa (mike@moz-k6v1u8.dip0.t-ipconnect.de)
[10:48:33] <imperio> eddyb: you found a solutin to serialize enum with a macro finally ?
[10:48:45] *** Quits: LinuxBunny (Retep998@moz-7f2st1.east.verizon.net) (Connection closed)
[10:49:49] <eddyb> imperio: I stopped trying
[10:49:57] <eddyb> imperio: school stuff mostly. and DST
[10:50:55] *** Joins: mermifgf (Mibbit@moz-juv.9o3.252.72.IP)
[10:52:17] <imperio> oh, too bad
[10:52:25] <imperio> I really wanted how you'd done that
[10:52:32] <imperio> +to know
[10:53:05] *** Quits: mermifgf (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[10:54:49] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[10:59:27] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[11:08:27] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[11:08:30] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[11:12:29] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Ping timeout: 121 seconds)
[11:13:02] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[11:24:37] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[11:24:41] *** Joins: snardoni (Mibbit@moz-q2b.j94.176.109.IP)
[11:28:13] *** Quits: mjboa (mike@moz-k6v1u8.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[11:28:58] *** Quits: theme (theme@moz-i3mhhb.asianet.co.th) (Quit: Leaving)
[11:32:45] *** Joins: mib_t4at31 (Mibbit@moz-b11uqs.dynamic.upc.nl)
[11:37:27] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[11:38:29] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[11:41:45] *** Joins: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com)
[11:42:27] *** Quits: waka (waka@moz-in9240.rev.numericable.fr) (Ping timeout: 121 seconds)
[11:44:01] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[11:44:33] *** Joins: waka (waka@moz-in9240.rev.numericable.fr)
[11:45:05] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[11:46:04] *** Quits: eddyb (Mibbit@moz-gua2rr.lbi.ro) (Quit: http://www.mibbit.com ajax IRC Client)
[11:46:27] *** Quits: barosl (barosl@moz-tmp.qma.67.220.IP) (Quit: Leaving)
[11:48:22] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[11:48:44] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[11:51:09] *** Joins: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl)
[11:58:46] *** Joins: barosl (barosl@moz-tmp.qma.67.220.IP)
[12:00:07] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[12:02:38] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[12:07:12] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[12:08:20] *** Quits: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[12:10:13] *** Joins: munksgaard (munksgaard@moz-33d.hq0.225.130.IP)
[12:10:45] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[12:11:41] *** Quits: acharles (acharles@moz-ulbdcn.ca.comcast.net) (Ping timeout: 121 seconds)
[12:11:44] *** Joins: acharles_ (acharles@moz-ulbdcn.ca.comcast.net)
[12:11:54] *** Quits: ptalbot (ptalbot@moz-g2mokk.ircam.fr) (Ping timeout: 121 seconds)
[12:22:28] *** Quits: marcusklaas (marcus@moz-2i0c3k.dynamic.ziggo.nl) (Ping timeout: 121 seconds)
[12:29:20] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[12:31:34] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Connection closed)
[12:32:03] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[12:35:52] *** Joins: eddyb (eddyb@moz-mgc.2kg.166.109.IP)
[12:42:14] *** Joins: bdero (bran@moz-9sokv2.mit.edu)
[12:43:47] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[12:44:35] *** Quits: snardoni (Mibbit@moz-q2b.j94.176.109.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[12:47:36] *** Quits: eddyb (eddyb@moz-mgc.2kg.166.109.IP) (Connection closed)
[12:54:41] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Connection closed)
[12:55:25] *** Joins: eibwen (eibwen@moz-v4brf4.dip0.t-ipconnect.de)
[12:56:03] *** Joins: eddyb (eddyb@moz-mgc.2kg.166.109.IP)
[12:56:21] *** Quits: Kxepal (Miranda@moz-tpmras.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[12:56:49] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[12:58:11] *** Joins: Kxepal (Miranda@moz-94oaq2.pppoe.mtu-net.ru)
[13:00:20] *** Quits: eddyb (eddyb@moz-mgc.2kg.166.109.IP) (Ping timeout: 121 seconds)
[13:01:17] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Connection closed)
[13:01:21] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[13:01:23] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[13:01:24] *** Joins: marcusklaas (marcus@moz-2i0c3k.dynamic.ziggo.nl)
[13:13:13] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[13:14:27] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[13:15:53] *** Quits: rovar (rovar@moz-6iq.47m.88.38.IP) (NickServ (RECOVER command used by rovar_))
[13:15:53] *** rovar_ is now known as rovar
[13:16:06] *** Joins: rovar_ (rovar@moz-6iq.47m.88.38.IP)
[13:23:39] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[13:24:37] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[13:27:31] *** Joins: mw (mw@moz-f1s7jp.vie.surfer.at)
[13:30:18] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[13:34:30] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[13:35:53] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Ping timeout: 121 seconds)
[13:41:10] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[13:41:10] *** ChanServ sets mode: +o pnkfelix
[13:47:07] *** Quits: jgallagher (john@moz-6ge.dhn.131.24.IP) (Client exited)
[13:51:00] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[13:52:45] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[13:53:31] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[13:53:49] *** Joins: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de)
[13:55:32] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[13:55:59] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[13:56:29] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[13:56:30] *** Joins: blaenk_ (blaenkdenum@moz-em283u.res.rr.com)
[13:57:35] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[13:59:27] *** Quits: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de) (Quit: Lost terminal)
[14:00:34] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[14:00:41] *** Joins: jgallagher (john@moz-ur9r9s.asm.bellsouth.net)
[14:02:12] *** Quits: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[14:04:47] *** Quits: blaenk_ (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[14:05:31] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[14:08:51] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[14:09:16] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[14:09:20] *** Quits: marcusklaas (marcus@moz-2i0c3k.dynamic.ziggo.nl) (Client exited)
[14:15:33] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[14:19:34] *** Joins: evanfarrar (evanfarrar@moz-l67mu1.cst.lightpath.net)
[14:21:34] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[14:21:35] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[14:22:33] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[14:23:06] *** Quits: jgallagher (john@moz-ur9r9s.asm.bellsouth.net) (Client exited)
[14:26:27] *** Joins: eddyb (eddyb@moz-ule.hlc.26.188.IP)
[14:26:50] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[14:28:13] *** Joins: dinfuehr (dinfuehr@moz-ci16nn.highway.telekom.at)
[14:28:36] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[14:29:04] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[14:29:35] *** Quits: nawns (nawns@moz-m5m0i6.lfytina2.metronetinc.net) (Client exited)
[14:31:12] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[14:33:26] *** Joins: blaenk_ (blaenkdenum@moz-em283u.res.rr.com)
[14:34:51] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[14:35:24] *** Joins: mr_fribble (Mibbit@moz-juv.9o3.252.72.IP)
[14:36:02] *** Quits: mr_fribble (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:40:42] *** Quits: untitaker (untitaker@moz-goipkr.highway.telekom.at) (Ping timeout: 121 seconds)
[14:41:33] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[14:45:47] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[14:46:36] *** Quits: blaenk_ (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[14:46:54] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[14:47:17] *** Joins: untitaker (untitaker@moz-o0ta65.highway.telekom.at)
[14:48:27] *** Joins: hoverbear (hoverbear@moz-csaicn.gv.shawcable.net)
[14:53:08] *** Joins: jgallagher (john@moz-6ge.dhn.131.24.IP)
[14:56:35] *** Joins: blaenk_ (blaenkdenum@moz-em283u.res.rr.com)
[14:57:02] *** Joins: Tuba (Tobba@moz-o13d22.bredband.telia.com)
[14:57:22] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[14:58:26] *** Quits: dinfuehr (dinfuehr@moz-ci16nn.highway.telekom.at) (Connection closed)
[14:58:47] *** Joins: dinfuehr (dinfuehr@moz-ci16nn.highway.telekom.at)
[15:00:54] *** Quits: blaenk_ (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[15:01:30] *** Joins: dinfuehr_ (dinfuehr@moz-ci16nn.highway.telekom.at)
[15:01:45] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[15:02:49] *** Quits: dinfuehr (dinfuehr@moz-ci16nn.highway.telekom.at) (Ping timeout: 121 seconds)
[15:03:15] *** Quits: rovar (rovar@moz-m2j7h0.dyn.optonline.net) (Connection closed)
[15:05:16] *** Joins: ferminter (Mibbit@moz-juv.9o3.252.72.IP)
[15:05:36] *** Quits: ferminter (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:06:32] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[15:07:15] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[15:07:27] *** Tuba is now known as Tobba
[15:14:53] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[15:15:30] *** cdidd_ is now known as cdidd
[15:15:37] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[15:18:32] *** Joins: marsel (user@moz-r1p.lql.180.94.IP)
[15:19:25] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[15:19:40] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[15:23:31] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[15:27:34] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[15:30:20] *** Joins: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de)
[15:31:57] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[15:34:26] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[15:37:02] *** Quits: aepsil0n (eduard@moz-8h7njb.hsi8.kabel-badenwuerttemberg.de) (Connection closed)
[15:38:57] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[15:46:57] *** Quits: munksgaard (munksgaard@moz-33d.hq0.225.130.IP) (Ping timeout: 121 seconds)
[15:51:14] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[15:52:08] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[15:55:36] *** Quits: dinfuehr_ (dinfuehr@moz-ci16nn.highway.telekom.at) (Connection closed)
[15:56:45] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[15:57:30] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[16:00:40] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[16:00:42] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Ping timeout: 121 seconds)
[16:00:52] *** Joins: munksgaard (munksgaard@moz-vj4.hq0.225.130.IP)
[16:04:18] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[16:04:30] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[16:08:10] *** Joins: frogaincia (Mibbit@moz-juv.9o3.252.72.IP)
[16:08:34] *** Quits: frogaincia (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:13:13] <Murarth> Need a retry: https://github.com/rust-lang/rust/pull/23419
[16:16:11] <acrichto> sfackler: nah I'd be fine with changing it to the standard debug output (e.g. pretty)
[16:17:04] *** Joins: bpayton (bpayton@moz-ifileu.ph.cox.net)
[16:17:52] *** Joins: arielb1 (Mibbit@moz-3a4.e8h.132.217.IP)
[16:17:55] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[16:18:10] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[16:20:54] *** Joins: japaric (japaric@moz-nso.htn.121.200.IP)
[16:21:31] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[16:22:15] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[16:26:52] *** Quits: imperio (Mibbit@moz-psdrik.rev.sfr.net) (Quit: http://www.mibbit.com ajax IRC Client)
[16:27:40] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[16:28:36] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[16:30:36] *** Quits: laumann (thomas@moz-1f0.hq0.225.130.IP) (Ping timeout: 121 seconds)
[16:32:58] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:33:08] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[16:33:14] *** Joins: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP)
[16:33:14] *** ChanServ sets mode: +o pcwalton
[16:35:26] *** Joins: nawns (nawns@moz-0l6.cn2.211.128.IP)
[16:42:43] *** Quits: munksgaard (munksgaard@moz-vj4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[16:42:49] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Ping timeout: 121 seconds)
[16:44:04] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[16:45:38] *** Quits: arielb1 (Mibbit@moz-3a4.e8h.132.217.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:54:10] <nmatsakis> acrichto: so what crates do you recommend?
[16:54:26] <nmatsakis> somehow "Most Downloaded" doesn't seem so exciting
[16:54:33] <nmatsakis> I guess that's a good start tho
[16:54:59] <cmr> nmatsakis: for investigating stability?
[16:55:18] <acrichto> nmatsakis: yeah that's where I'd start at least
[16:55:23] <acrichto> nmatsakis: you could try building cargo as well
[16:55:30] <nmatsakis> cmr: for investigating impact of http://internals.rust-lang.org/t/rebalancing-coherence-potential-late-breaking-change/1763
[16:55:33] <nmatsakis> :)
[16:55:44] *** Joins: jxv (jxv___@moz-2celrt.res.rr.com)
[16:55:50] *** Quits: larhat (Adium@moz-8v4.af0.232.213.IP) (Quit: Leaving.)
[16:56:05] <acrichto> nmatsakis: https://github.com/alexcrichton/git2-rs has some minor interesting local traits
[16:56:13] <acrichto> not sure if it would show up any problems though
[16:56:20] <acrichto> nmatsakis: crates.io is another one which would get some good coverage
[16:56:54] <nmatsakis> acrichto: can I easily build cargo from within cargo?
[16:57:00] <nmatsakis> cargo build cargo  or something like that?
[16:57:00] <nmatsakis> :)
[16:57:01] <acrichto> nmatsakis: `cargo build`
[16:57:02] <cmr> nmatsakis: iron would probably be a good one to hit too, huge dep tree there.
[16:57:14] <acrichto> nmatsakis: I *think* it's up to date with master
[16:57:16] <cmr> with lots of interesting reem code
[16:57:18] * acrichto checks
[16:57:28] *** Quits: eddyb (eddyb@moz-ule.hlc.26.188.IP) (Quit: Konversation terminated!)
[16:57:31] *** Joins: eddyb (eddyb@moz-ule.hlc.26.188.IP)
[16:58:21] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[16:58:21] *** ChanServ sets mode: +o brson
[16:58:39] <nmatsakis> ok well that didn't take long to find an eror :)
[17:00:26] *** Quits: c74d (c74d3a4ebb6@moz-1rc5g6.mggc.hibn.4404.2002.IP) (Connection closed)
[17:00:33] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[17:01:01] *** Joins: c74d (c74d3a4ebb6@moz-iclfcj.mggc.hibn.4404.2002.IP)
[17:02:39] *** japaric is now known as japaric|afk
[17:02:48] *** Quits: eddyb (eddyb@moz-ule.hlc.26.188.IP) (Ping timeout: 121 seconds)
[17:05:03] *** Joins: eddyb (eddyb@moz-ule.hlc.26.188.IP)
[17:05:48] *** Quits: killercup (killercup@moz-4udt1b.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[17:06:09] *** Parts: jxv (jxv___@moz-2celrt.res.rr.com) ("Leaving")
[17:06:55] *** Joins: swgillespie (swgillespie@moz-upj.3un.220.167.IP)
[17:07:51] <mw> SPAM: http://michaelwoerister.github.io/2015/03/27/rust-xxdb.html
[17:11:26] *** Joins: marcusklaas (marcus@moz-2i0c3k.dynamic.ziggo.nl)
[17:18:05] *** Quits: swgillespie (swgillespie@moz-upj.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:18:24] <steveklabnik> nmatsakis: ping again on https://github.com/rust-lang/rust/pull/23285
[17:22:27] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[17:22:36] *** sunfish-away is now known as sunfish
[17:22:46] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[17:23:32] <acrichto> Manishearth: are you working on a rollup?
[17:25:53] *** Joins: avikpal (avikpal@moz-dfg.36b.194.117.IP)
[17:27:17] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[17:29:45] *** Joins: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com)
[17:30:01] *** Joins: O01eg (o01eg@moz-1lkuql.8pfc.4n8f.2698.2a02.IP)
[17:30:53] *** Joins: imperio (Mibbit@moz-8otf3a.fbx.proxad.net)
[17:34:03] *** Parts: mw (mw@moz-f1s7jp.vie.surfer.at) ("")
[17:35:03] <erickt> nmatsakis: ping as well :)
[17:39:07] <Manishearth> acrichto: yes, but I don't have any machines to test it on (dept machines off for today, and I'm doing heavy stuff on my own laptop)
[17:39:24] *** Joins: pczarn (piotr@moz-9un7t9.izacom.pl)
[17:39:43] <acrichto> Manishearth: hm ok, I'm trying to make one as well because I want to land the entire queue
[17:39:52] <acrichto> I'd rather not leave out rebase conflicts or PRs that need fixing this time
[17:41:06] <Manishearth> acrichto: my branch has everything, iirc
[17:41:11] <Manishearth> with conflicts fixed
[17:41:42] <acrichto> ok cool
[17:42:15] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[17:42:26] *** Quits: bgamari (bgamari@moz-uvr07v.q402.fm1a.0470.2001.IP) (Ping timeout: 121 seconds)
[17:43:30] <nmatsakis> erickt: pong
[17:43:56] *** Quits: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP) (Client exited)
[17:44:40] <nmatsakis> steveklabnik: r+
[17:44:52] <nmatsakis> steveklabnik: sorry, I'm so hopelessly lost on GH notifications. I need to rejigger my e-mail setup
[17:45:05] <steveklabnik> nmatsakis: it's all good <2
[17:45:06] <steveklabnik> <3
[17:45:08] <steveklabnik> even
[17:45:23] *** Quits: marcusklaas (marcus@moz-2i0c3k.dynamic.ziggo.nl) (Ping timeout: 121 seconds)
[17:46:15] <steveklabnik> acrichto: ^ just tossed one more on the pile ;) <3
[17:46:22] *** Joins: bgamari (bgamari@moz-uvr07v.q402.fm1a.0470.2001.IP)
[17:46:36] <steveklabnik> 'land the entire queue' sounds pretty heroic
[17:46:47] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[17:47:53] <nmatsakis> steveklabnik: oh yeah forgot about rollup
[17:48:11] <nmatsakis> also, I was worried that <2 was some kind of badass hipster IRC slang I didn't know
[17:48:12] *** Joins: dinfuehr (dinfuehr@moz-ci16nn.highway.telekom.at)
[17:48:14] <nmatsakis> and I felt old
[17:48:17] <nmatsakis> emoji also make me feel old
[17:48:22] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[17:48:23] <steveklabnik> ahahahahaha
[17:48:25] <steveklabnik> no i just can't type
[17:48:31] <steveklabnik> also apparently you _need_ the :
[17:48:31] <nmatsakis> I'm still getting used to :) instead of :-)
[17:48:35] <steveklabnik> was left out of the first one
[17:48:39] <nmatsakis> what?
[17:48:41] <nmatsakis> that's new
[17:48:57] <steveklabnik> https://github.com/rust-lang/rust/pull/23285#issuecomment-87029820
[17:49:00] <steveklabnik> doesn't have a :
[17:49:02] <steveklabnik> so no answer from bors
[17:49:08] <steveklabnik> then i did https://github.com/rust-lang/rust/pull/23285#issuecomment-87030392
[17:49:11] <steveklabnik> and bors popped right up
[17:49:20] <eddyb> uhm
[17:49:24] <eddyb> @bors doesn't require the colon
[17:49:30] <Gankro> I don't recall seeing that land in the bors repo
[17:49:31] <steveklabnik> well maybe it was being slow then
[17:49:34] <Gankro> *homu
[17:50:00] <eddyb> I just do @bors r+ nowadays
[17:50:13] <eddyb> or r=eddyb @bors r+ for takeover+approve combo
[17:50:25] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[17:51:35] <erickt> nmatsakis: howdy! so I got everything mostly working, but there are a few corner cases I wanted to check with you about
[17:52:32] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[17:52:32] *** ChanServ sets mode: +o pcwalton
[17:52:33] <erickt> nmatsakis: first off, https://github.com/rust-lang/rust/blob/master/src/libcore/fmt/mod.rs#L139
[17:53:12] <erickt> nmatsakis: it's copy with no associated clone because `fn(&Void, &mut Formatter) -> Result` is not clone-able
[17:53:13] <nmatsakis> erickt: oh yes so I think I wanted to mention something about this :)
[17:53:18] *** Joins: munksgaard (munksgaard@moz-vj4.hq0.225.130.IP)
[17:53:27] <nmatsakis> erickt: what I did locally is to `impl Clone { fn clone(&self) -> ... { *self } }`
[17:53:31] <erickt> nmatsakis: so first thing I could do would be to have a custom clone
[17:53:32] <erickt> yeah
[17:53:33] <nmatsakis> erickt: in the case where the type also implements Copy
[17:54:49] <erickt> nmatsakis: next up was https://github.com/rust-lang/rust/blob/master/src/liblibc/lib.rs#L254
[17:55:10] <erickt> where we have a `enum timezone {}` that's marked copy and there's no possible clone for it
[17:55:23] <erickt> I was just going to manually implement Copy for it
[17:55:24] *** Joins: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de)
[17:57:14] <nmatsakis> erickt: oh I removed Copy/Clone for that
[17:57:17] <nmatsakis> because I thought it was a mistake
[17:57:22] <erickt> hehe
[17:57:23] <nmatsakis> :)
[17:57:50] <nmatsakis> erickt: (I've got a ... almost wokring branch where Copy: Clone and I added the dang impls manually)
[17:58:10] <nmatsakis> erickt: I might have sent you on a wild goose chase because there is some opposition to the idea of extending derive, though I think that having Copy => Clone is universally popular, ust not Ord => PartialOrd etc
[17:58:19] <nmatsakis> though I still think it's a good idea
[17:58:45] *** Quits: ytain (ytain@moz-ldmhhn.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[17:59:10] <erickt> eh I'm not too worried :) Most of the work was just changing the deriving code to allow you to create multiple items
[17:59:23] <erickt> Ord => PartialOrd is just calling out to a function
[17:59:33] <erickt> so I'm not heartbroken if we remove it :)
[18:00:47] <erickt> in order to save me from adding #[cfg(stage0)] all over, I just changed #[derive(...)] to first scan through the traits and filter out Clone,PartialEq,PartialOrd if Copy,Eq,Ord are present
[18:01:51] *** Quits: hoverbear (hoverbear@moz-csaicn.gv.shawcable.net) (Quit: Time to hibernate.... ZzZz...)
[18:02:32] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[18:02:32] *** ChanServ sets mode: +o pnkfelix
[18:04:10] *** Quits: c74d (c74d3a4ebb6@moz-iclfcj.mggc.hibn.4404.2002.IP) (Connection closed)
[18:06:34] <nmatsakis> erickt: yeah, I sort of prefer it that way, just for ease of porting
[18:06:41] *** Joins: c74d (c74d3a4ebb6@moz-iclfcj.mggc.hibn.4404.2002.IP)
[18:06:44] <nmatsakis> erickt: easily lintable  if we ever wanted
[18:07:23] <erickt> although hrm, I'm going to have to do some hacking to generate `fn clone(&self) -> Self { *self }`
[18:07:58] <simukis> has nobody regretted we use markdown for documentation yet?
[18:08:25] <kmc> name one choice that hasn't inspired regret from someone
[18:08:32] <kmc> that is the nature of PL design :)
[18:08:44] <huseby> FYI, I pulled the bitrig buildbot offline while I upgrade the disks on my VM host machine
[18:08:51] <huseby> it will be back online in a few hours
[18:09:11] <huseby> I'm trying to fix the I/O bottleneck
[18:09:15] <huseby> by going to SSD
[18:10:37] <nmatsakis> simukis: I don't regret it
[18:10:41] <nmatsakis> but I know others do :)
[18:10:58] <nmatsakis> markdown seems to be the only markup I can actually mostly remember...
[18:11:17] <simukis> even if you can't sanely get such a basic thing as proper crosslinking with it?
[18:11:41] <nmatsakis> even so
[18:11:46] <steveklabnik> yeah
[18:14:32] <simukis> I mean we could as well just invented a variant of markdown which only allowed valid symbols that can be crosslinked to between single backticks.
[18:15:42] <nmatsakis> why?
[18:15:46] <nmatsakis> why not just link if we find a match?
[18:15:48] <nmatsakis> that's what I'd prefer
[18:15:54] <nmatsakis> some kind of fuzzy search
[18:16:12] <nmatsakis> we're talking about API docs here, I feel like the lower the bar the better
[18:16:30] <simukis> nmatsakis: because you cannot warn people that such symbol does not exist anymore, which, obviously, results in crossreferences going away as API changes.
[18:16:37] <nmatsakis> sure you can
[18:16:39] <nmatsakis> :)
[18:16:53] <nmatsakis> I'm mostly kidding though, yes that is a downside
[18:17:05] <nmatsakis> it'd be nice to have some way to say "I meant for this to be a xref"
[18:17:44] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:18:11] <seanmonstar> will VecMap be stabilized for beta?
[18:19:45] <eddyb> you have to be kidding me https://github.com/rust-highfive
[18:20:39] <nmatsakis> seanmonstar: I don't believe so, no
[18:20:58] <seanmonstar> nmatsakis: thanks. i'll see about changing my code then
[18:21:09] <nmatsakis> ok off topic question:
[18:21:15] <nmatsakis> is there a command to set your current group in unix?
[18:21:22] <nmatsakis> or something like that?
[18:21:27] <simukis> nmatsakis: which group?
[18:21:35] <nmatsakis> or other reasons why I might not be able to write to a directory that is g+w and I am member of the group?
[18:21:47] <nmatsakis> I don't know, I don't know if there even is a concept of a current group
[18:22:03] <nmatsakis> I'm just trying to figure out why I can't write to this directory :)
[18:22:26] <eddyb> ls -l
[18:22:28] <simukis> nmatsakis: ah, this group: usermod -G group1,group2 username will add username to groups group1 and group2
[18:22:50] <eddyb> that has the information to make a good guess
[18:22:53] <simukis> err
[18:22:56] <simukis> you need to use -aG
[18:23:19] <simukis> otherwise it will replace current list of groups you belong to with group1 and group2.
[18:23:30] <nmatsakis> eddyb: I'm familiar with that command, yes :)
[18:24:51] <eddyb> maybe I'm too tired for this but I can't tell the exact permissions and owners from your descriptionss
[18:25:47] <nmatsakis> doesn't matter, I found another way, thanks all :)
[18:25:49] <simukis> nmatsakis: could it be, that the directory is not group-executable?
[18:26:05] <nmatsakis> it was g+rwx far as I can tell but...
[18:26:14] <simukis> hmm, ok
[18:26:23] <nmatsakis> mainly I wanted to get rustup to use another tmpdir
[18:26:28] <nmatsakis> but I finally found the recipe that eluded me for so long
[18:26:32] <nmatsakis> sudo TMPDIR=foo sh
[18:26:40] <nmatsakis> seems obvious in retrospect :)
[18:26:44] <nmatsakis> but somehow I overlooked it in the man page before
[18:27:19] <nmatsakis> (it's a long story...)
[18:36:26] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[18:36:51] <nmatsakis> acrichto: oh, I have a question
[18:37:00] <nmatsakis> brson: maybe for you too
[18:37:11] <nmatsakis> I pulled out the unification engine from rustc into an independent crate a while back
[18:37:15] <nmatsakis> as part of some experimentation I was doing
[18:37:26] <nmatsakis> and I was thinking I'd like to make use of the new, improved version in rustc --
[18:37:40] <nmatsakis> and in particular it'd be nice to have that kind of code pulled out into its own crate because it's standalone ,can be unit-tested, etc
[18:37:53] <nmatsakis> I guess the right way to do this is just for me to make a crate in the rust repo itself, right?
[18:38:01] <eddyb> infer?
[18:38:10] <nmatsakis> that is, do we have some mechanism for grabbing crates from rust-lang or something like ?
[18:38:21] <nmatsakis> eddyb: not all of infer, just the union-find algorithm (and also graph)
[18:38:23] <simukis> nmatsakis: usually we do this the other way aroud
[18:38:30] <acrichto> nmatsakis: yeah a new crate would have to be in the rust repo
[18:38:32] <eddyb> nmatsakis: oh, interesting
[18:38:34] <simukis> keeping the crate in rust-lang/rust/src/some_module
[18:38:36] <acrichto> rustc cannot fetch external rust-lang crates
[18:38:43] <nmatsakis> well I know rustc can't
[18:38:46] <nmatsakis> but I wasn't sure if the makefile could :)
[18:38:58] <nmatsakis> but it seems fine for it to live in repo
[18:39:09] <simukis> oh.
[18:39:15] <eddyb> submodules are too much of a pain>
[18:39:16] <nmatsakis> I don't really want to commit to this interface or anything anyway
[18:39:18] <eddyb> *?
[18:39:22] <nmatsakis> eddyb: I agree
[18:39:50] <nmatsakis> ok, I will try to put in that refactoring sometime then... 
[18:39:52] <eddyb> I was asking :). the concept seems like it's just missing good UX
[18:40:04] <nmatsakis> ah. well, they are a pain :)
[18:40:07] <nmatsakis> unless the makefile does it
[18:40:10] <nmatsakis> but I realize now
[18:40:13] <nmatsakis> that's prob not what I want
[18:40:24] <nmatsakis> since I do want to be able to edit this in tandem with rustc, though it's probably only very rarely needed
[18:40:36] <nmatsakis> and I dont' want to have to go edit some other random repo for that
[18:40:52] <eddyb> I have made LLVM commits in-tree
[18:40:57] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[18:41:09] <eddyb> but configures wipes submodules
[18:41:38] <eddyb> the automatic ones when something changed in the build system
[18:45:48] *** Quits: eddyb (eddyb@moz-ule.hlc.26.188.IP) (Ping timeout: 121 seconds)
[18:48:10] *** Quits: acrichto (acrichto@moz-u3dg2t.sfo1.mozilla.com) (Ping timeout: 121 seconds)
[18:50:28] *** Quits: nawns (nawns@moz-0l6.cn2.211.128.IP) (Client exited)
[18:51:35] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Ping timeout: 121 seconds)
[18:52:35] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[18:54:43] *** Joins: smerftx (Mibbit@moz-juv.9o3.252.72.IP)
[18:55:56] *** Joins: acrichto (acrichto@moz-u3dg2t.sfo1.mozilla.com)
[18:55:56] *** ChanServ sets mode: +o acrichto
[18:56:08] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[18:57:34] <Gankro> nmatsakis: Reading through your new coherence thing. I've been thinking about some way to just do like `local impl Trait for ...` which would be an impl scoped only to the crate. Dependents wouldn't see it, and it would be forbidden to be returned by a public method (from the perspective of a crate consumer) as an implementor of that trait. It *would* be
[18:57:34] <Gankro> legal to return it as a trait object, because the vtable is set at runtime and the receiver shouldn't have any way to identify that this is a type T with different vtable than if they do <T as Trait>. Coupled with a [warn(local_impl_shadowing)] lint it could be pretty flexible and ergonomic for just getting things to work; particularly in an application.
[18:58:25] <Gankro> But I'm likely missing some nasty corner cases; haven't thought about it for super long (and don't know all the scary holes of the language well)
[18:58:47] <nmatsakis> Gankro: yeah, seems interesting, it's basically a scoped variant on specialization,
[18:59:17] <nmatsakis> I can't decide if tying this stuff to crates is good or bad,
[18:59:33] <nmatsakis> there is a push to break apps into more standalone crates,
[18:59:48] <Gankro> nmatsakis: The difference would be that basically all coherence guards gets switched off for such an impl
[18:59:50] <nmatsakis> seems to be partly due to limitations of current rustc (compilation speed, intermediate build products)
[19:00:06] <simukis> for rust it doesn’t make much sense per se
[19:00:10] <simukis> rustc*
[19:00:10] <nmatsakis> Gankro: we can't turn them all off probably
[19:00:26] <nmatsakis> but some
[19:00:35] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[19:00:40] <Gankro> nmatsakis: For *libs* at least it just makes a lot of sense to make bite-sized crates. collect-rs was a maintenance nightmare because it was basically several logical crates bundled in one.
[19:01:21] <nmatsakis> so that seems to suggest a desire for a "meta-crate" to control some of these kinds of scope-related things
[19:01:35] *** Quits: munksgaard (munksgaard@moz-vj4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[19:01:39] *** Joins: munksgaard (munksgaard@moz-vj4.hq0.225.130.IP)
[19:01:43] <nmatsakis> anyway, that's independent
[19:03:22] <Gankro> nmatsakis: Also seems like your &T special case could be generalized to Deref<T>? Basically make SmahtPtr a first-class concept for coherence.
[19:03:32] *** Joins: hoverbear (hoverbear@moz-a97.b2m.54.96.IP)
[19:03:58] <nmatsakis> no, it could not
[19:04:09] <nmatsakis> well maybe it could
[19:04:22] <nmatsakis> (certainly adding a Deref impl would be a breaking change)
[19:04:37] <Gankro> nmatsakis: Yeah but Deref is Serious Business already
[19:04:38] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[19:04:49] <nmatsakis> sure
[19:05:48] <nmatsakis> I have to think about the idea of making coherence rely on trait matching; feels scary to me :)
[19:06:57] <Gankro> It may require a special case for what *can* impl Deref. Or at least that wouldn't shock me
[19:08:49] <Gankro> It just seemed like some of the rough edges were around Box<T> and Vec<T>
[19:09:08] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[19:09:21] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Connection closed)
[19:10:04] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:10:51] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[19:12:21] *** Quits: sp3d (sp3d@moz-q1fd29.il.comcast.net) (A TLS packet with unexpected length was received.)
[19:12:30] *** Joins: sp3d (sp3d@moz-ik970v.enn1.s22b.000d.2601.IP)
[19:12:40] <nmatsakis> Gankro: I sort of like the thought; no rough edges around Vec<T> I've observed, but I lke the idea. one nice thing is that would be a backwards compat change if we adopted my current proposal
[19:13:02] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[19:13:57] *** Quits: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com) (Ping timeout: 121 seconds)
[19:14:37] <nmatsakis> that is, moving power from parent to child is back compat,
[19:14:43] <nmatsakis> but once you give it to the child crates,
[19:14:45] <nmatsakis> you can never claw it back
[19:15:46] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[19:16:46] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[19:16:53] *** Quits: smerftx (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:17:56] *** Quits: dinfuehr (dinfuehr@moz-ci16nn.highway.telekom.at) (Connection closed)
[19:18:01] *** Joins: japaric (japaric@moz-loo.9nt.232.190.IP)
[19:18:02] <nmatsakis> bstrie: ping
[19:19:18] *** Quits: jevin (jevin@moz-sra.ovp.12.72.IP) (Ping timeout: 121 seconds)
[19:19:26] *** Joins: jevin (jevin@moz-sra.ovp.12.72.IP)
[19:20:44] *** Quits: japaric|afk (japaric@moz-nso.htn.121.200.IP) (Ping timeout: 121 seconds)
[19:20:50] *** Quits: jevin (jevin@moz-sra.ovp.12.72.IP) (Connection closed)
[19:21:02] *** Joins: jevin (jevin@moz-sra.ovp.12.72.IP)
[19:21:05] *** Quits: {[]}grant ({0}grant@moz-k7fknj.mo.charter.com) (Ping timeout: 121 seconds)
[19:23:39] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[19:23:41] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Connection closed)
[19:25:59] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[19:27:22] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[19:28:05] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:28:08] *** Quits: japaric (japaric@moz-loo.9nt.232.190.IP) (Ping timeout: 121 seconds)
[19:28:58] *** Joins: dinfuehr (dinfuehr@moz-ci16nn.highway.telekom.at)
[19:30:35] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[19:31:15] *** Joins: japaric (japaric@moz-loo.9nt.232.190.IP)
[19:35:07] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[19:42:26] *** Quits: pczarn (piotr@moz-9un7t9.izacom.pl) (Ping timeout: 121 seconds)
[19:46:48] *** Quits: bdero (bran@moz-9sokv2.mit.edu) (Ping timeout: 121 seconds)
[19:47:48] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Connection closed)
[19:49:08] *** Quits: marsel (user@moz-r1p.lql.180.94.IP) (Ping timeout: 121 seconds)
[19:54:37] *** Quits: avikpal (avikpal@moz-dfg.36b.194.117.IP) (Connection closed)
[19:54:44] <nmatsakis> acrichto: so besides box the other conflict I found was in regex 
[19:54:51] *** Joins: {[]}grant ({0}grant@moz-k7fknj.mo.charter.com)
[19:54:57] <acrichto> oh what was this one?
[19:55:33] <nmatsakis> impl<'t> Replacer for &'t str
[19:55:36] <nmatsakis> impl<'t> Replacer for &'t str
[19:55:37] <nmatsakis> oops
[19:55:41] <nmatsakis> impl<F> Replacer for F where F: FnMut(&Captures) -> String
[19:55:45] <nmatsakis> in conflict because this requires that &str: !FnMut, and neither &str nor FnMut are local
[19:55:56] <acrichto> hm
[19:55:57] <nmatsakis> kind of annoying since I think Pattern requires the same thing, but that type-checks since they are local
[19:56:07] <nmatsakis> we could add explicit neg impls for this case
[19:56:09] <acrichto> yeah implementing a trait for all closures may be quite difficult with these rules
[19:56:20] <acrichto> unles they're only impl'd on trait objets?
[19:56:22] <nmatsakis> (yes I just think that pattern in general is tricky)
[19:56:24] <nmatsakis> (with these rules)
[19:56:33] <nmatsakis> well
[19:56:34] <nmatsakis> if we did that
[19:56:36] <acrichto> impl Replacer for FnMut(&Captures) -> String
[19:56:38] <nmatsakis> you'd get errors in using it
[19:56:44] <acrichto> b/c you need a leading &mut?
[19:56:45] <nmatsakis> unless we somehow beefed up coherence
[19:56:47] <acrichto> or b'c we don't coerce?
[19:56:51] *** Quits: c74d (c74d3a4ebb6@moz-iclfcj.mggc.hibn.4404.2002.IP) (Ping timeout: 121 seconds)
[19:56:53] <nmatsakis> the latter
[19:56:54] *** Joins: reem (reem@moz-9tmiev.coob.q2h1.0009.2601.IP)
[19:56:56] <acrichto> grr
[19:58:53] <nmatsakis> acrichto: so I at one point did some work on using explicit neg impls for this
[19:58:56] <nmatsakis> which seems reasonable
[19:58:57] <nmatsakis> but perhaps the wrong default?
[19:59:03] <nmatsakis> I mean it is legit that a type might become callable, maybe?
[19:59:05] *** Quits: reem (reem@moz-9tmiev.coob.q2h1.0009.2601.IP) (Connection closed)
[19:59:15] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[19:59:18] <nmatsakis> I could also see adding an annotation (for now)
[19:59:18] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[19:59:19] <acrichto> in theory
[19:59:20] <nmatsakis> like the old inextensible
[19:59:24] <nmatsakis> that I prototyped
[19:59:24] <acrichto> definitely not today though b/c it's all gated
[19:59:33] <nmatsakis> true
[19:59:38] <nmatsakis> anyway, the annotation would basically say
[19:59:47] <nmatsakis> "you have to impl this right away or it's a breaking change" ;)
[19:59:52] <nmatsakis> it could be applied to e.g. Box
[19:59:54] <nmatsakis> (for type)
[19:59:57] <nmatsakis> and Fn/FnMut/FnOnce
[20:00:01] <nmatsakis> (but it's kind of a hack)
[20:00:22] <nmatsakis> we could maybe just munddle through but it does feel like this proposal is ALMOST everything we need but not quite
[20:00:49] <acrichto> how plausible would it to fix the coerction problem?
[20:00:59] <acrichto> to basically request that the trait be impl'd for closure trait objects instead
[20:01:32] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[20:01:48] <nmatsakis> idk 
[20:01:56] <nmatsakis> I could imagine something very special purpose maybe? hard problem
[20:01:59] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[20:02:08] <nmatsakis> this attribute I was talkinga bout could be unstable I guess
[20:02:22] <nmatsakis> which means we'd be committed to finding *something* like it
[20:02:37] <nmatsakis> it does feel like
[20:02:39] <nmatsakis> (right now)
[20:02:45] <nmatsakis> that this primarily applies to the universal "plumbing" stuff
[20:02:56] <nmatsakis> though eventually there may be similarly universal things living in cargo
[20:04:15] <acrichto> hmm
[20:04:26] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[20:04:49] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[20:05:48] <nmatsakis> I'd like a more explainable story
[20:06:34] *** Joins: blaenk_ (blaenkdenum@moz-em283u.res.rr.com)
[20:07:06] *** Joins: eerie (eerie@moz-nu5r7u.red.bezeqint.net)
[20:08:23] <nmatsakis> aturon: ok so now that you'reback let me explain what I Was just telling acrichto ;)
[20:08:32] <nmatsakis> first off, the proposal I wrote up very shortly
[20:08:34] <aturon> haha, ok, i'm all ears
[20:08:54] <nmatsakis> is basically that T, &T, and &mut T are considered local (much more restrictive than today)
[20:09:00] <brson> here's how the top 206 crates respond to a build on beta https://gist.github.com/brson/f299315c4b6987bce5ef
[20:09:01] <nmatsakis> and (b) that negative reasoning must meet orphan requirements
[20:09:04] <brson> (hint: it's not good!)
[20:09:28] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Connection closed)
[20:09:36] <nmatsakis> aturon: net effect of this is that if you want a blanket impl over ref types, you must add it when you introduce the trait, or it's a breaking change
[20:09:47] <nmatsakis> aturon: but it means you CAN do things like `impl Remote for &LocalType`
[20:09:57] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[20:10:10] *** Quits: {[]}grant ({0}grant@moz-k7fknj.mo.charter.com) (Connection closed)
[20:10:12] <nmatsakis> without any need for attributes, this ALMOST covers everything :)
[20:10:15] <aturon> nmatsakis: ok, so the first part i'd had a chance to see. it seems plausible, but my main worry is that if we ever decide to provide negative "promises", it will be strange to have these defaults built in for all types
[20:10:16] <nmatsakis> that I've encountered "in the wild"
[20:10:18] <acrichto> brson: well on the bright side it looks like feature staging is working!
[20:10:27] <wycats> :
[20:10:28] <wycats> :D
[20:10:29] <brson> yes indeed
[20:10:49] <aturon> nmatsakis: so it seems like a bit of a gamble that these particular blankets cover the majority of cases we'll ever need to care about
[20:10:52] <nmatsakis> aturon: true, maybe, but I'm not sure, maybe it's a "default" like T:Sized (what you normally want)
[20:11:03] <aturon> nmatsakis: ah yes, we coudl provide an opt-out rather than opt-in
[20:11:12] <nmatsakis> I guess I don't find that worry very ... well, worrying :)
[20:11:12] <aturon> nmatsakis: ok, but i suspect there's more to the story :)
[20:11:16] <nmatsakis> BUT
[20:11:20] <aturon> ha
[20:11:24] <nmatsakis> yes, so here are the problems I encountered in practice
[20:11:29] <nmatsakis> (1) some impls for Option<Foo>
[20:11:40] <nmatsakis> these were exclusively impl Iterator for Option<&NextLink>
[20:11:43] <reem> brson: btw I've been accumulating the specific APIs needed for iron in issues linked to here https://github.com/iron/iron/issues/317
[20:11:44] <nmatsakis> basically linked list iteration
[20:11:50] <nmatsakis> I rewrote to use newtypes and everything was fine
[20:12:07] <nmatsakis> (2) in reem's crates :) there are a fair amount of impls implemented over Box<LocalTrait>
[20:12:09] *** Joins: {[]}grant ({0}grant@moz-k7fknj.mo.charter.com)
[20:12:19] <nmatsakis> you'd need newtypes there too to meet the rules as written
[20:12:22] <nmatsakis> maybe more annoying
[20:12:25] <aturon> nmatsakis: right, ok
[20:12:28] <nmatsakis> (the linked list stuff got cleaner with newtypes)
[20:12:31] *** Joins: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com)
[20:12:32] <reem> I do that as a convenience
[20:12:44] <reem> since it's quite inconvenient when Box<X> doesn't impl X
[20:12:49] <brson> reem: that's awesome. thank you so much
[20:12:50] <nmatsakis> this is not Box<X> imnplementing X
[20:12:55] <nmatsakis> that would be legal by the rules
[20:13:01] <nmatsakis> it's stuff like impl FromError for Box<Error>
[20:13:04] <reem> ah, yes
[20:13:11] <nmatsakis> (I'm not critizing the code, to be clear)
[20:13:12] <reem> I see
[20:13:16] <nmatsakis> just trying to analyz the patterns that exist :)
[20:13:20] <reem> yup
[20:13:25] <nmatsakis> anyway the third problem was
[20:13:27] <nmatsakis> in regex crate
[20:13:30] <nmatsakis> where we have
[20:13:43] <nmatsakis> impl Foo for &str; impl<F> Foo for F where F: FnMut()
[20:13:56] <nmatsakis> those conflict because it would require that `&str: !FnMut()`, and that doesn't meet orphan rules
[20:14:02] <nmatsakis> basically the orphan rules are preserved the freedom
[20:14:06] <nmatsakis> for &str to later impl FnMut()
[20:14:07] <nmatsakis> :)
[20:14:21] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[20:14:23] <nmatsakis> which is...sort of legit, or might be legit for some other trait
[20:14:34] <aturon> nmatsakis: hm, can you elaborate a bit more on that second part of the proposal, the orphan rule bit?
[20:14:49] <nmatsakis> yes, the idea is to prevent you from applying negative reasoning "against" other crates
[20:15:14] <nmatsakis> in paricular we want it to be possible to impl anything that is not a blanket impl over &T, so adding something like
[20:15:22] <nmatsakis> impl FnMut for &str 
[20:15:24] <nmatsakis> from within libstd
[20:15:28] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:15:30] <nmatsakis> would be considered a legal addition
[20:15:38] <nmatsakis> (modulo the fact that the Pattern trait already prevents it, but that's another story)
[20:15:44] <nmatsakis> (actually, this is all in libcore)
[20:15:56] <nmatsakis> anyway, not sure if that made it clearer :)
[20:16:09] <aturon> not exactly. i don't quite understand what the rule actually is
[20:16:15] <nmatsakis> the rule is that you can assume `&str: !FnMut()` if you could implement it basically
[20:16:21] <nmatsakis> either trait or type must be local
[20:16:43] <aturon> ah ok, i.e. some extra negative reasoning is allowed "within the crate"
[20:16:57] <nmatsakis> right, which is kind of problematic in libstd, but that's another story
[20:17:01] <aturon> heh, indeed
[20:17:05] <nmatsakis> that is, in big crates, one module can constrain another without realizing it,
[20:17:08] <nmatsakis> but we could lint for that
[20:17:16] <aturon> right
[20:17:30] <nmatsakis> anyway,
[20:17:34] <nmatsakis> my first thought for &str: !FnMut() was
[20:17:35] <aturon> ok, but with regex, we have this problem where we don't want to allow the negative reasoning, even though it doesn't have to do with blanket impls per se
[20:17:38] <nmatsakis> "ah, a place to apply neg impls"
[20:17:39] <nmatsakis> BUT
[20:17:49] <nmatsakis> I think you can also see this as
[20:17:53] <nmatsakis> "FnMut is kind of special"
[20:18:28] <nmatsakis> in particular
[20:18:30] <nmatsakis> it may well be reasonable that
[20:18:32] <nmatsakis> adding a FnMut impl
[20:18:35] <nmatsakis> is a breaking change
[20:18:40] <aturon> hm
[20:18:56] <aturon> i'm not sure i understand the reasoning here -- why is FnMut special?
[20:19:01] <nmatsakis> (that way lies a bit of a slippery slope) :)
[20:19:10] <nmatsakis> because it corresponds to the call operator?
[20:19:24] <nmatsakis> I guess I just think people will frequently want
[20:19:29] <nmatsakis> to classify "callable" things
[20:19:35] <nmatsakis> and that most types will never, ever become callable
[20:19:40] <nmatsakis> so if we made all types opt out of being callable
[20:19:42] <nmatsakis> it's kind of the wrong default
[20:19:47] <nmatsakis> (but potentially viable)
[20:20:06] *** Quits: munksgaard (munksgaard@moz-vj4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[20:20:10] <nmatsakis> this is why I said slippery slope though, because I don't think FnMut is special in some super fundamental way
[20:20:14] <aturon> hm, i guess i see what you mean, but it seems like similar reasoning coudl apply to many other traits (this is what slippery slope means, i guess)
[20:20:22] <nmatsakis> yes so what I was driving at is
[20:20:24] *** Joins: scialex (scialex@moz-4hh1qo.fios.verizon.net)
[20:20:32] <nmatsakis> there may still be room for some kind of attribute
[20:20:46] <nmatsakis> one could imagine using it on Box and the FnMut traits
[20:20:59] <nmatsakis> though the meaning is sort of different on types vs traits I guess
[20:21:27] <aturon> but at some point, it seems better (to me) to just expose the more general mechanism
[20:21:30] <nmatsakis> on types, it would mean "I am so fundamental that adding a blanket impl using me is a breaking change"
[20:21:40] <nmatsakis> on traits, it would mean "I am so fundamental that implementing me is a breaking change"
[20:21:49] <nmatsakis> well, we don't know whta the more general mechanism is, do we?
[20:21:52] <nmatsakis> I don't feel that I do :)
[20:22:22] <aturon> really? i thought the more general mechanism was `impl !<'a, T> Trait for &'a T` etc
[20:22:34] <nmatsakis> (one sec)
[20:23:01] *** Joins: c74d (c74d3a4ebb6@moz-h8buis.mggc.hibn.4404.2002.IP)
[20:23:16] <aturon> that is, in our previous conversations on this, my understanding was that the attribute we discussed was a kind of stopgap that could eventually be deprecated in favor of a language of negative promises
[20:23:26] <aturon> "I will never implement the following"
[20:23:38] <kmc> is there a pattern for using traits as type bijections (similar to the Haskell functional dependency "class Foo a b | a -> b, b -> a") which doesn't involve defining two traits?
[20:24:21] *** Quits: c74d (c74d3a4ebb6@moz-h8buis.mggc.hibn.4404.2002.IP) (Connection closed)
[20:24:35] <Eridius> I keep running into the issue where a method receiver is evaluated before the method args are. Why do we still do that? It means you can't say `foo.someMutatingMethod(foo.someImmutableMethod())`
[20:24:44] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[20:25:05] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[20:25:11] <Eridius> I mean, I get why it makes sense for side effects on the receiver to happen first
[20:25:38] <Eridius> but in the case where the receiver is a value and not a method call it just gets unnecessarily annoying
[20:26:02] *** Joins: c74d (c74d3a4ebb6@moz-h8buis.mggc.hibn.4404.2002.IP)
[20:26:13] *** Joins: bfops (uid58242@moz-e5u6m0.charlton.irccloud.com)
[20:27:14] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[20:27:21] <nmatsakis> aturon: so I am not persuaded that this is really the right way to look at it.
[20:27:31] <nmatsakis> I agree it is *a* more general mechanism
[20:27:32] <kmc> trait AtoB { type B: BtoA<A = Self>; }  trait BtoA { type A: AtoB<B = Self>; }
[20:27:36] *** Quits: imperio (Mibbit@moz-8otf3a.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:27:38] <kmc> this is a bit much
[20:27:49] *** Joins: imperio (Mibbit@moz-8otf3a.fbx.proxad.net)
[20:28:31] <nmatsakis> aturon: for one thing, I think types like Box may well want to abstract over all traits
[20:29:03] <aturon> nmatsakis: right, and similarly we discussed quantifying over all types
[20:29:16] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[20:29:16] <aturon> nmatsakis: i guess i just mean, it seemed like we had a plausible desugaring of all of this
[20:29:30] <nmatsakis> Eridius: do you just mean https://github.com/rust-lang/rust/issues/6268 ? if so, it's kind of tricky to fix, but we do plan to do it at some point.
[20:29:36] <aturon> nmatsakis: and i worry that we end up doing scenario solving picking some defaults/trying to avoid attributes or a more general mechanism
[20:30:04] <nmatsakis> aturon: yes, I hear you, though I also worry that this more general mechanism is way over the top.
[20:30:08] <Eridius> nmatsakis: yes that does appear to be the issue in question
[20:30:23] <nmatsakis> Eridius: I was hoping to tackle that + SEME post 1.0, specifically
[20:30:28] <nmatsakis> or some variation on SEME
[20:30:35] <aturon> nmatsakis: yep, i could buy that
[20:30:42] <Eridius> nmatsakis: glad to hear it :)
[20:31:01] *** Joins: marcusklaas (marcus@moz-2i0c3k.dynamic.ziggo.nl)
[20:31:34] <nmatsakis> aturon: I was quite pleased to see how far T, &T, and &mut T can go, for example. I mean something like 2 or 3 errors when building all of rustc, iron, and the top N crates on cargo ... pretty good default, at least.
[20:31:43] <nmatsakis> though we'll see how things evolve over time
[20:32:02] <nmatsakis> I am definitely wary though of trying to do something simple and it getting gradually more complicated
[20:32:11] <aturon> yes, it's very hard to know
[20:32:11] *** Quits: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[20:32:12] <nmatsakis> and being horrible in the end
[20:32:29] <aturon> so i guess the exciting thing in what you've developed, though,
[20:32:34] <nmatsakis> still this:
[20:32:40] <nmatsakis> if we did add the attribute I'm talking about
[20:32:44] <aturon> is that we could introduce no new attributes/annotations/mechanism right now, cover most cases,
[20:32:45] <nmatsakis> it could (probably) be unstable for now
[20:32:56] <aturon> and still leave the door open to future evolution
[20:32:59] <aturon> oh, hm, that's interesting
[20:33:04] <nmatsakis> we use it for box,
[20:33:09] <nmatsakis> fn/fnmut/fnonce maybe,
[20:33:10] <aturon> the #[fundamental] attribute?
[20:33:13] <nmatsakis> right
[20:33:18] <nmatsakis> and then we are committed to finding SOMETHING
[20:33:20] <nmatsakis> it might be formulae
[20:33:23] <nmatsakis> it might be this attribute
[20:33:26] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[20:33:26] *** ChanServ sets mode: +o nrc
[20:33:29] <nmatsakis> but we're not committed to it in particular
[20:33:34] <aturon> ok, if we can make T, &T, &mut defaults for blanket, and an unstable attribute -- i could get behind that very easily
[20:33:46] <aturon> that leaves a lot of options open and adds very little complexity
[20:34:02] <aturon> (user-facing)
[20:34:35] <aturon> hm, actually, the default blanket thing -- is that just a way of saying that & and &mut are #[fundamental]?
[20:34:42] <aturon> or is there a further distinction
[20:34:50] *** Quits: Defaultti (Defaultti@moz-bmdn13.kapsi.fi) (Quit: Quitting.)
[20:34:51] <Eridius> Can I get someone to merge https://github.com/rust-lang/rust.vim/pull/7?
[20:35:01] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[20:35:44] <nmatsakis> aturon: yes it is saying that
[20:35:51] <nmatsakis> aturon: (I should have made that clear, sorry)
[20:36:20] <nmatsakis> aturon: that is, I should have clarified that I viewed this attribute, applied to box, as genearlizing the &, &mut thing
[20:36:40] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[20:36:49] <aturon> nmatsakis: ok, that's pretty appealing. at the moment, i'm unsure how to write a convention for when to use the attribute, but maybe it will become more apparent over time
[20:36:58] <nmatsakis> the good thing is
[20:37:00] <nmatsakis> adding that attr
[20:37:02] <nmatsakis> is backwards compat
[20:37:08] *** Joins: Defaultti (Defaultti@moz-bmdn13.kapsi.fi)
[20:37:11] <nmatsakis> basically, it's compat to move power from the parent to the child
[20:37:15] <nmatsakis> "power to make an impl", taht is
[20:37:17] <nmatsakis> *that is
[20:37:22] <aturon> yes
[20:37:26] *** Quits: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:37:31] <nmatsakis> so we can start small, grow, and maybe find something
[20:37:34] <aturon> i mean, one thing i've been realizing is that all of this is about monotonicity -- 
[20:37:39] <nmatsakis> c
[20:37:41] <aturon> what we used to think of as crate concatenation is just one example
[20:38:15] <nmatsakis> I was saying to acrichto this feels kind of obvious in retrospect; global constraints are going to be something you want to balance very carefully 
[20:38:19] <nmatsakis> ah well
[20:38:21] <nmatsakis> :)
[20:38:50] <aturon> ok, so basically at the moment the choice is between two attributes
[20:39:15] <aturon> well, it's a bit more complicated than that since each has variants
[20:39:28] <aturon> but i think i agree that #[fundamental] has a simpler conceptual model
[20:40:37] <nmatsakis> I find it easier, and I kind of suspect that the formula case
[20:40:43] <nmatsakis> would wind up being used in stylistic ways
[20:40:57] <nmatsakis> but anyway I am mostly interested in retaining our ability to do this
[20:41:03] <nmatsakis> and not overcomitting
[20:41:06] <nmatsakis> while not making it suck to write rust
[20:41:08] <aturon> right
[20:41:10] <aturon> haha, indeed
[20:41:51] <aturon> so, have you prototyped the attribute version of your new proposal?
[20:42:08] <nmatsakis> actually, yes
[20:42:17] <nmatsakis> though I didn't try building the cargo crates with it I don't think
[20:42:22] <nmatsakis> well, let me rephrase as "sort of"
[20:42:25] <nmatsakis> I can do it very easily
[20:42:36] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[20:42:42] <aturon> ok cool, seems like the next step
[20:43:52] <nmatsakis> yeah, doing it now
[20:44:05] *** Quits: c74d (c74d3a4ebb6@moz-h8buis.mggc.hibn.4404.2002.IP) (Client exited)
[20:45:02] *** Quits: semarie (semarie@moz-eugg57.redstation.co.uk) (A TLS packet with unexpected length was received.)
[20:45:34] *** Joins: bdero (bran@moz-lbs.91h.47.73.IP)
[20:46:29] *** Quits: hoverbear (hoverbear@moz-a97.b2m.54.96.IP) (Connection closed)
[20:46:46] *** Quits: eerie (eerie@moz-nu5r7u.red.bezeqint.net) (Connection closed)
[20:47:07] *** Joins: eerie (eerie@moz-nu5r7u.red.bezeqint.net)
[20:48:57] *** Joins: hoverbear (hoverbear@moz-ctf.3ep.54.96.IP)
[20:50:38] *** Joins: swgillespie (swgillespie@moz-upj.3un.220.167.IP)
[20:51:09] *** Quits: eerie (eerie@moz-nu5r7u.red.bezeqint.net) (Ping timeout: 121 seconds)
[20:54:26] *** Quits: blaenk_ (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[20:55:22] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[20:57:02] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (A TLS packet with unexpected length was received.)
[20:57:16] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[20:58:47] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:59:55] *** Quits: swgillespie (swgillespie@moz-upj.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:03:21] <aturon> reem: just talked with nmatsakis about the Error situation
[21:03:33] <aturon> i think we're inclined to remove the Send bound as you're suggesting
[21:03:42] <brson> acrichto: might it be too soon to do the final removal of 'extern "foo" as bar' in https://github.com/rust-lang/rust/pull/23786
[21:03:54] <aturon> reem: worst case, we can introduce a separate trait that combines the two and recommend that for most uses
[21:03:56] <brson> didn't the deprecation go in just a few days ago?
[21:04:05] <aturon> reem: (if Send turns out to be a problem)
[21:05:58] <acrichto> brson: yes but I don't feel too bad with beta just around the corner
[21:06:02] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[21:06:13] <acrichto> brson: I feel better being ruthless in the days leading up to beta than we do at other times
[21:06:24] <acrichto> although others may feel differently :)
[21:07:14] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[21:07:40] <nmatsakis> aturon: reem: I was thinking about Send a bit more just now though and I am envisioning scenarios where
[21:07:45] <nmatsakis> one crate is producing Box<Error>
[21:07:55] <nmatsakis> and another wants to combine that with other errors but produce Box<Error+Send>
[21:08:00] <nmatsakis> but I guess..meh
[21:08:12] <reem> this is the problem with trait objects vs. generics
[21:08:21] <nmatsakis> yeah, it's always tricky
[21:08:33] <nmatsakis> I was saying to aturon there is a kind of trade-off between abstraction/parallelism that has long been recognized
[21:08:41] <nmatsakis> this seems to be one instance of it :)
[21:08:56] <aturon> nmatsakis: ultimately, though, you can always crate a dummy concrete error type that just retains the textual data; at the point where you're doing such combining, you probably don't care about much beyond that
[21:09:02] <nmatsakis> true
[21:09:25] <nmatsakis> yeah, I think in the end this gives us more freedom going forward, so when in doubt...
[21:09:36] <nmatsakis> and adding unnecessary restrictions often bites us
[21:09:51] <aturon> yep
[21:10:02] <aturon> reem: want to make the one-liner PR?
[21:10:03] <reem> My main worry is just that I can't disable the Send bound the same way I can add it
[21:10:08] <reem> sure
[21:10:36] <reem> actually there may be fallout
[21:10:51] <reem> since Box<Error> plain will no longer be Send
[21:11:42] <aturon> reem: i don't think anything within the rust distro relies on that
[21:11:56] <reem> I'll make the change and check locally
[21:12:17] <aturon> reem: thanks!
[21:13:53] <reem> need to rebuild LLVM and everything, so it should take like 40 minutes
[21:13:58] <reem> (make check)
[21:18:52] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[21:18:56] *** Quits: cantsin (cantsin@moz-vu7a2t.ch) (Quit: Farewell)
[21:21:03] *** Joins: cantsin (cantsin@moz-vu7a2t.ch)
[21:23:26] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[21:24:24] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[21:24:25] *** ChanServ sets mode: +o pcwalton
[21:25:19] *** Joins: ptalbot (ptalbot@moz-l9d3iv.dyn.as47377.net)
[21:26:31] *** Quits: scialex (scialex@moz-4hh1qo.fios.verizon.net) (Ping timeout: 121 seconds)
[21:27:06] *** Joins: swgillespie (swgillespie@moz-upj.3un.220.167.IP)
[21:29:22] <brson> here's yesterday's beta compared to yesterday's nightly http://users.rust-lang.org/t/heres-the-top-200-crates-built-against-the-beta-channel/757/3
[21:30:15] <brson> the things listed under 'fixed' are sure bets for stabilization
[21:30:27] <brson> that is, they are failing because of feature gates for sure
[21:38:02] *** Quits: hoverbear (hoverbear@moz-ctf.3ep.54.96.IP) (Quit: Time to hibernate.... ZzZz...)
[21:39:59] *** Quits: evanfarrar (evanfarrar@moz-l67mu1.cst.lightpath.net) (Connection closed)
[21:45:26] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[21:46:15] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[21:46:50] *** Joins: ytain (ytain@moz-ldmhhn.dsl.teksavvy.com)
[21:53:28] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[21:53:34] <nmatsakis> brson: neat
[21:54:47] *** Quits: ytain (ytain@moz-ldmhhn.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[21:56:57] *** Joins: hoverbear (hoverbear@moz-a97.b2m.54.96.IP)
[21:57:30] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[21:58:20] *** Joins: ytain (ytain@moz-ldmhhn.dsl.teksavvy.com)
[21:58:57] <nmatsakis> aturon: ok, I extended the proposal with #[fundamental]
[21:58:59] <nmatsakis> going to open an RFC
[21:59:04] <nmatsakis> I have to go soon, I wnat to get it up before WE
[21:59:33] <aturon> nmatsakis: ok, thanks, reading now
[22:00:25] <aturon> nmatsakis: do you mean http://internals.rust-lang.org/t/rebalancing-coherence-potential-late-breaking-change/1763/3 or something else?
[22:00:36] <nmatsakis> oh wait a sec
[22:00:38] <nmatsakis> I'll give you a link :)
[22:04:18] <nmatsakis> aturon: https://github.com/rust-lang/rfcs/pull/1023
[22:04:35] <nmatsakis> ok, off for dinner now, I prob won't be back today 
[22:05:25] <aturon> nmatsakis: ok, thanks again, i'll leave comments a bit later
[22:06:47] *** Joins: blaenk_ (blaenkdenum@moz-em283u.res.rr.com)
[22:07:34] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[22:13:04] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[22:14:32] *** Joins: Guest63 (textual@moz-56c.qli.61.176.IP)
[22:15:08] *** Quits: Guest63 (textual@moz-56c.qli.61.176.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:16:20] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[22:17:36] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[22:17:41] *** Joins: Guest63 (textual@moz-56c.qli.61.176.IP)
[22:18:29] *** Quits: blaenk_ (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[22:18:45] *** Quits: hoverbear (hoverbear@moz-a97.b2m.54.96.IP) (Quit: Time to hibernate.... ZzZz...)
[22:19:07] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[22:19:20] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[22:21:45] *** Quits: ptalbot (ptalbot@moz-l9d3iv.dyn.as47377.net) (Ping timeout: 121 seconds)
[22:24:27] *** Joins: zmack (zmack@moz-4b0.o8l.26.188.IP)
[22:26:14] *** Joins: reem (reem@moz-g792r8.coob.q2h1.0009.2601.IP)
[22:27:35] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Client exited)
[22:27:57] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[22:28:09] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[22:28:29] *** Quits: zmack (zmack@moz-4b0.o8l.26.188.IP) (Ping timeout: 121 seconds)
[22:32:07] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[22:32:28] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[22:32:36] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[22:33:33] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[22:34:15] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[22:35:07] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[22:38:21] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[22:38:57] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[22:42:15] <steveklabnik> how long until the conversion feature becomes stable?
[22:43:33] <Gankro> Should http://internals.rust-lang.org/t/replace-point-x-3-y-5-with-point-x-3-y-5/198/ just be locked?
[22:44:14] <acrichto> steveklabnik: things like PathBuf::from should be stable by beta
[22:44:18] <steveklabnik> okay
[22:44:26] <steveklabnik> thinking of rustc-serialize
[22:44:32] <steveklabnik> regarding brson's recent post
[22:44:45] <steveklabnik> Gankro: ehh i'm just a fan of letting it peter out, but it wouldn't be the worst
[22:45:14] <Gankro> steveklabnik: It's been open for months and keeps getting necro'd; it's also full-stop just not going to happen
[22:45:29] <steveklabnik> yeah
[22:46:40] <steveklabnik> Gankro: done
[22:48:00] <aturon> acrichto: https://gist.github.com/aturon/30349eed0f9beea0c5ae
[22:48:36] <aturon> (note, this does not compile, but I think it should :)
[22:50:05] <aturon> acrichto: there's some subtle stuff here...
[22:50:46] <aturon> but it reduces the content-ful traits to, well, basically Convert
[22:51:08] <aturon> and this setup means that all types of conversions are automatically reflexive,
[22:51:14] <aturon> while preserving the & lifting
[22:51:25] <aturon> (so that AsRef<Path> continues to work as today)
[22:51:45] <acrichto> so you just go crazy implementing From?
[22:51:51] <acrichto> and you magically get everything else?
[22:51:53] <aturon> or Into, depending
[22:51:54] <aturon> but yes
[22:52:04] <erickt> From/Into all the things!
[22:52:06] <acrichto> s/Into/Convert? ?
[22:52:11] <aturon> yes
[22:52:30] <aturon> i... have mixed feelings :)
[22:52:46] <acrichto> s/Into/Convert? ?
[22:52:48] <acrichto> oh oops
[22:52:52] <aturon> this is certainly a more "compact" design, which makes it simpler in some ways
[22:53:12] <aturon> and from a "It Just Works" perspective, it probably does better
[22:53:20] <aturon> but actually understanding the traits/impls involved...
[22:53:22] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[22:54:26] <aturon> OTOH, i don't know if carllerche _really_ wants to replace `foo.as_slice()` with `foo.as_ref::<[_]>()` :P
[22:54:35] *** Quits: reem (reem@moz-g792r8.coob.q2h1.0009.2601.IP) (Connection closed)
[22:55:02] <acrichto> aturon: hm not sure I understand this AsRef marker trait..
[22:55:23] <aturon> marker isn't the right way to think about it, imo
[22:55:29] <carllerche> aturon: I have no idea what is going on
[22:55:41] *** Joins: reem (reem@moz-g792r8.coob.q2h1.0009.2601.IP)
[22:55:44] <aturon> acrichto: it's just a way of avoiding writing out HRTBs, basically
[22:55:58] <aturon> acrichto: you can think of it as an alias for the `for <'a> ...` thing in its where clause
[22:56:12] <aturon> carllerche: https://gist.github.com/aturon/30349eed0f9beea0c5ae
[22:57:02] <aturon> carllerche: i was wondering, somewhat seriously, whether you actually do want to use the generic methods for everything. `as_ref::<[_]>()` is almost graphically shark-jumping
[22:57:32] <steveklabnik> lol
[22:58:20] <acrichto> aturon: I don't understand this where clause: https://gist.github.com/aturon/30349eed0f9beea0c5ae#file-gistfile1-rs-L26
[22:58:22] <aturon> carllerche: that is, i'm worried that even if you could replace all convenience conversion methods, you'd end up in a bad place
[22:58:36] <acrichto> aturon: if Self implements deref, then Self == &A, meaning it's taking &&A
[22:58:43] <aturon> acrichto: yep
[22:58:55] <aturon> acrichto: this is how you regain the P: AsPath trick
[22:59:01] <aturon> (the move away from DST)
[22:59:20] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[22:59:37] <aturon> in particular, in our APIs like `open` right now, you end up using &&P where P: AsRef<Path>
[22:59:41] <aturon> (and P is unsized)
[23:00:00] <acrichto> ah ok
[23:00:16] <aturon> acrichto: in other words, this regains https://github.com/rust-lang/rust/blob/master/src/libcore/convert.rs#L58-L63
[23:00:24] <aturon> without actually needing a blanket impl
[23:00:34] <acrichto> so why doesn't this compile today?
[23:00:36] <aturon> and the fact that you don't need a blanket means that you can have the reflexive blanket everywhere...
[23:00:44] <aturon> acrichto: well, there's at least one bug
[23:00:49] <aturon> (in the compiler)
[23:00:59] <aturon> regarding the lifetime of assoc types like Target for deref
[23:01:12] <acrichto> ah
[23:01:14] <aturon> but it also seems that dispatch is not taking into account the `where` clause defining AsRef
[23:01:43] <aturon> but i'm trying to figure out if this is even a promising direction
[23:02:12] <carllerche> aturon: so you are saying that conversion would be: my_str.as_ref<Path>()?
[23:02:44] <aturon> carllerche: my_str.as_ref::<Path>()
[23:02:57] <aturon> if you wanted to go the full distance to replace convenience conversions
[23:03:00] <carllerche> sorry, typo
[23:03:14] <aturon> personally, i'm not convinced this is a worthwhile goal
[23:03:24] <carllerche> wouldn't it infer?
[23:03:30] <aturon> e.g. i much prefer to_string() over to::<String>()
[23:03:45] <aturon> carllerche: not if you can convert to multiple types
[23:04:05] <reem> aturon: if we move the generic to the method level, it will never get inferred
[23:04:16] <reem> aturon: since you instead have to supply a type which fulfills a bound
[23:04:21] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[23:04:49] <aturon> reem: hm, it could plausibly be inferred backwards from the impls if there's a single one (NOTE: not saying that's a good idea)
[23:05:07] <aturon> so, the original vision for the conversion traits was pretty limited in scope
[23:05:18] <carllerche> try to think about it from a new comer to the language
[23:05:19] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[23:05:27] <aturon> basically, replacing cases where you were taking generics like `T: AsSlice` or `T: AsPath`
[23:05:40] <aturon> carllerche: always
[23:06:14] <carllerche> I think my biggest frustration is when I have to go through multiple conversions to get to the final type that I want
[23:06:34] <reem> ya, doable but not a good idea imo
[23:07:20] <reem> could we add impl<A, B, C> AsRef<C> for A where A: AsRef<B>, B: AsRef<C> { .. } ?
[23:07:31] <aturon> acrichto: (btw i'm interested in your kneejerk reaction, though i have some suspicions as to what it is)
[23:07:36] <reem> that seems incoherent just by looking at it
[23:07:40] <aturon> reem: indeed
[23:07:50] <aturon> also, B is phantom
[23:08:08] <reem> Ya, I'm asking the compiler to choose B which we don't allow
[23:08:11] <aturon> right
[23:08:12] <acrichto> aturon: seems like a good idea, but I fear that the compiler bugs mean that we don't have time to play around with it
[23:08:43] <aturon> acrichto: hm, i'm surprised you'd even go that far :) what do you find appealing -- the centralization into From/Convert?
[23:08:44] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:08:45] *** Quits: eibwen (eibwen@moz-v4brf4.dip0.t-ipconnect.de) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[23:09:38] <acrichto> aturon: yeah, and I'm starting to appreciate foo.bar::<T>() as well
[23:09:43] <acrichto> vs using ascription
[23:09:52] <aturon> carllerche: how often do you find yourself doing that, and what are some examples?
[23:10:06] <aturon> acrichto: hm ok, well the latter we can get via simpler-minded means
[23:10:12] *** Quits: O01eg (o01eg@moz-1lkuql.8pfc.4n8f.2698.2a02.IP) (Ping timeout: 121 seconds)
[23:10:19] <carllerche> aturon: unsure, I just started using the new conversion stuff
[23:10:41] <aturon> carllerche: hm, ok, when you said "biggest frustration" i assumed you were hitting it a lot :)
[23:10:45] <carllerche> aturon: path / pathbuf has definitely stuck out the most
[23:10:54] <carllerche> aturon: well, it burned the most time
[23:10:56] <aturon> carllerche: ok, i think that should be resolved
[23:11:16] <aturon> (in particular, you should be able to pass in anything that is AsRef<OsStr> to PathBuf::from
[23:11:39] <aturon> oh, not yet -- once https://github.com/rust-lang/rust/pull/23753 lands
[23:12:54] <acrichto> aturon: yeah I do agree, but I don't see too much value in unifying AsRef/Into into one Convert trait
[23:13:11] <acrichto> aturon: impls of AsRef will basically otherwise just have tons of 'a annotations
[23:13:18] <acrichto> (when translated to Convert)
[23:13:33] <aturon> acrichto: right, so in some sense it's an ergonomic regression for implementors
[23:13:47] <acrichto> yeah
[23:14:05] <aturon> acrichto: ok, so that just leaves https://github.com/rust-lang/rfcs/pull/529#issuecomment-86770346 as a possible change. i'm personally still not convinced the extra complexity is worth it
[23:15:06] <acrichto> aturon: yeah I tend to agree, the manual-ascription problem will get much better with type ascription
[23:15:11] <acrichto> instead of having to introduce a let binding
[23:15:34] <aturon> acrichto: ok, thanks (and sorry to keep bugging you about this)
[23:15:50] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[23:15:53] <acrichto> lol no worries :)
[23:18:04] *** Quits: reem (reem@moz-g792r8.coob.q2h1.0009.2601.IP) (Connection closed)
[23:19:43] *** Quits: Rusky (russell@moz-2a17lj.slkc.qwest.net) (Ping timeout: 121 seconds)
[23:19:47] *** Joins: Rusky (russell@moz-2a17lj.slkc.qwest.net)
[23:21:04] *** Parts: marcusklaas (marcus@moz-2i0c3k.dynamic.ziggo.nl) ("")
[23:21:53] *** Joins: O01eg (o01eg@moz-gl2vtq.k70l.4n8f.2698.2a02.IP)
[23:22:53] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[23:23:11] *** Joins: Rusky1 (russell@moz-2a17lj.slkc.qwest.net)
[23:23:29] *** Quits: Rusky (russell@moz-2a17lj.slkc.qwest.net) (Quit: Leaving.)
[23:24:33] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[23:25:41] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[23:27:17] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[23:30:13] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[23:32:29] <erickt> has anyone run into this issue before? http://is.gd/kPmdDp. Inside a value variant, I can borrow a `ref` and a `ref mut`, but I can't when the value is boxed
[23:33:25] <erickt> I feel like this should work, but I wouldn't be surprised if I'm being subtly unsafe
[23:34:26] *** Quits: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de) (Ping timeout: 121 seconds)
[23:42:41] *** Quits: dinfuehr (dinfuehr@moz-ci16nn.highway.telekom.at) (Connection closed)
[23:49:13] *** Joins: kmcguire (kmcguire@moz-uqq.d7l.207.68.IP)
[23:51:31] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[23:51:41] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (A TLS packet with unexpected length was received.)
[23:51:52] *** Joins: reem (reem@moz-7cdf5v.coob.q2h1.0009.2601.IP)
[23:52:14] *** Quits: reem (reem@moz-7cdf5v.coob.q2h1.0009.2601.IP) (Connection closed)
[23:52:16] *** Joins: reem (reem@moz-7cdf5v.coob.q2h1.0009.2601.IP)
[23:53:11] <seanmonstar> was there ever a decision about what was to be done with enums that might grow variants?
[23:53:21] *** Quits: reem (reem@moz-7cdf5v.coob.q2h1.0009.2601.IP) (Connection closed)
[23:53:36] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[23:53:53] <aturon> seanmonstar: i think we still want https://github.com/rust-lang/rfcs/pull/757 in the long run, but we can live without it for 1.0
[23:54:02] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[23:54:19] <seanmonstar> aturon: so that wont be considered a breaking change?
[23:54:32] *** sunfish is now known as sunfish-away
[23:55:05] <aturon> seanmonstar: marking an existing stable enum as extensible is strictly breaking, but i think the only place we want this for std is io::ErrorKind
[23:55:17] <aturon> which i believe already has a stern warning that variants will be added :)
[23:55:55] <aturon> seanmonstar: (assuming that's what you have in mind by breaking, here?)
[23:55:59] <bstrie> nmatsakis: pong. did you read that rfc draft?
[23:56:04] <seanmonstar> aturon: yes
[23:56:17] <seanmonstar> aturon: naturally, im interested for its use with several enums in hyper as well
[23:56:53] <aturon> seanmonstar: yeah, i think it's a nice feature, and shouldn't be too hard to add. maybe 1.1? :)
[23:57:30] *** Joins: reem (reem@moz-j5mf5e.coob.q2h1.0009.2601.IP)
[23:58:40] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[23:58:53] *** Quits: reem (reem@moz-j5mf5e.coob.q2h1.0009.2601.IP) (Connection closed)
[23:58:56] *** Joins: reem (reem@moz-j5mf5e.coob.q2h1.0009.2601.IP)
[23:59:42] *** Quits: Guest63 (textual@moz-56c.qli.61.176.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
