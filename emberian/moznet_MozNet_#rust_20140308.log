[00:00:36] *** Joins: hoverbea_ (hoverbear@726D908C.44E18222.E74D50F2.IP)
[00:00:43] <strcat> kmc: 1 thread per connection using async I/O vs. one thread per connection using sync I/O is slower
[00:00:53] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Ping timeout)
[00:01:24] <wycats> is it no longer possible to specify the crate id via the command line via rustc?
[00:01:34] <strcat> the main advantage of epoll is not needing to waste a whole thread context + stack just sitting there blocked
[00:02:29] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Client exited)
[00:02:56] <huon> wycats: I don't remember that ever being possible?
[00:03:12] <wycats> huon: hm it seems desirable?
[00:03:16] <wycats> you can sort of hack it via -o
[00:03:39] <huon> I don't know... I don't have an opinion on it
[00:03:41] <wycats> but I would like to be able to replace the lib<name>-<hash>.rlib just the name
[00:05:09] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:05:13] *** Quits: dherman (dherman@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: dherman)
[00:05:48] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[00:07:17] *** Quits: enand (erik@67F9F6F9.5AF75EBF.841A3ED3.IP) (Ping timeout)
[00:09:13] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[00:09:53] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[00:10:07] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[00:10:52] *** Quits: jclements (jclements@moz-E7143D62.wireless.calpoly.edu) (Quit: jclements)
[00:12:07] *** Quits: Kxepal832 (Miranda@moz-413026B1.pppoe.mtu-net.ru) (Ping timeout)
[00:12:49] <meyer> So
[00:12:49] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Quit: Leaving)
[00:12:57] *** Joins: skade (skade@moz-F3F67608.pools.arcor-ip.net)
[00:13:20] <SiegeLord> wycats: Why do you want to do that? rustc will still expect to find it with that file name
[00:13:28] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[00:13:37] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[00:14:01] <mrmonday> kmc: well the thing is my ::new() method currently takes a mutable &[u8], however what I'd like is to allow either immutable or mutable then only allow certain methods to be available depending on that
[00:14:11] <huon> mrmonday: what is a mutable &[u8]?
[00:14:14] <huon> &mut [u8]?
[00:14:17] <mrmonday> yeah
[00:14:22] <mrmonday> sorry
[00:14:38] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[00:14:56] <kmc> you have something like this?  struct Foobar<'t> { vec: &'t mut [u8] }
[00:15:06] <mrmonday> yeah
[00:15:14] <kmc> hmm
[00:15:21] <kmc> we don't directly support polymorphism over mut / immut :/
[00:15:30] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[00:15:33] <SiegeLord> My method should work fine :P
[00:15:37] <SiegeLord> I think, at least
[00:15:52] <SiegeLord> Maybe not due to the lifetimes :/
[00:16:13] <huon> i.e. use a trait
[00:16:15] <huon> yes
[00:16:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[00:16:30] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[00:16:48] <kmc> SiegeLord: yeah, that's sort of how the stdlib handles vectors etc
[00:16:50] <mrmonday> SiegeLord: I'm not sure your method will work - how do I have the mutable/immutable field in the struct?
[00:17:03] <kmc> impl Vector for &[V] { ... };  impl MutableVector for &mut [V] { ... };
[00:17:12] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[00:17:14] <kmc> mrmonday: they need to be different struct types
[00:17:29] <huon> or a generic
[00:17:36] <kmc> there's no way around that because there's no way to make mut/immut a type parameter
[00:17:43] *** Quits: twi (Adium@moz-231F02E1.cust.vodafonedsl.it) (Quit: Leaving.)
[00:17:52] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[00:18:05] <mrmonday> hmm
[00:18:08] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[00:18:10] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[00:18:16] <mrmonday> not sure there's a nice way to do this then, without duplicating lots of code
[00:18:22] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[00:18:27] *** Joins: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net)
[00:18:29] <kmc> the other way would be  enum Ref<'t> { Mut(&'t mut [u8]), Immut(&'t [u8) }  but that will have a runtime overhead
[00:19:02] *** Quits: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP) (Quit: Leaving...)
[00:19:04] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[00:19:25] *** Joins: twi (Adium@moz-231F02E1.cust.vodafonedsl.it)
[00:19:32] <meyer> I had a program running last night, dumped all its memory to disk, and killed the program. In it, there was a struct with two uints, both set to 4096, followed by a ~[u8]. I had compiled with -O, but I'm going to assume the struct is still relatively layed out sequentially. So, I found all instances of two 64-bit 4096s in the file, but, because I use those numbers in quite a few places, I go
[00:19:34] <meyer> t a bunch of matches. 
[00:20:05] <meyer> Is there any sequence of bytes I can look for that'll identify the start of an owned pointer to 4096*4096 bytes?
[00:20:08] *** Quits: twi (Adium@moz-231F02E1.cust.vodafonedsl.it) (Quit: Leaving.)
[00:20:14] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[00:20:14] <huon> not really
[00:20:23] <meyer> (I'm working on figuring this out using unsafe, but I figured I'd ask)
[00:20:33] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[00:20:52] *** Joins: enand (erik@67F9F6F9.5AF75EBF.841A3ED3.IP)
[00:21:23] <huon> well, often the allocator will put things in pools, that have a leading prefix in common
[00:21:40] *** Joins: Ferreus_ (ferreus@moz-ECE86965.lsn.wtnet.de)
[00:21:53] <huon> soon, say, the most significant 4 bytes of all allocations will be the same
[00:22:02] <huon> s/soon/so/
[00:22:03] <meyer> Oh
[00:22:05] <meyer> That
[00:22:09] <meyer> Is great
[00:22:10] *** Quits: Ferreus (ferreus@moz-D119F307.lsn.wtnet.de) (Ping timeout)
[00:22:30] <meyer> There are a bunch of matches that start at 5d....
[00:23:23] <sfackler> meyer: if it's a core dump, you can load it in GDB
[00:24:18] <meyer> It is a bunch of data from /proc/[the pid], concatenated hopefully properly
[00:24:54] <meyer> For future reference, is there a better way to handle a situation like this? I suppose I should have tried attaching gdb then dumping or something? I compiled without debugging symbols, and with optimization.
[00:25:01] *** Joins: jclements (jclements@moz-E7143D62.wireless.calpoly.edu)
[00:26:03] <kmc> mrmonday: there is also an approach using phantom types
[00:26:12] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[00:26:13] *** Joins: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net)
[00:26:21] *** Quits: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP) (Quit: Lost terminal)
[00:26:33] <mrmonday> kmc: that could work, what's the best way to do that in Rust?
[00:27:24] <SiegeLord> Looks like my attempt isn't liked by the borrow checker
[00:27:31] <SiegeLord> As expected, I guess, XD
[00:27:35] *** Quits: jmgrosen (user@moz-A3814C08.sd.sd.cox.net) (Ping timeout)
[00:28:06] *** Joins: dymk (dymk@C94BAFB1.AA444DA9.3FBA778E.IP)
[00:28:11] <huon> meyer: store a dummy & rarer 0xDEADBEEF value somewhere nearby?
[00:28:30] <huon> (i.e. to make it easier to filter the 4096 values)
[00:28:36] <kmc> mrmonday: hm, going to try something
[00:29:00] <SiegeLord> https://gist.github.com/SiegeLord/9423147 is as far as I got
[00:29:22] <kmc> the approach I have in mind involves a little unsafe code
[00:30:10] *** Joins: pepper_chico (pepper_chi@moz-E15D42C8.dsl.telesp.net.br)
[00:30:41] <meyer> huon: That's probably what I'm going to try next.
[00:30:50] <meyer> (thanks for the suggestions)
[00:31:12] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[00:31:24] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[00:31:34] <SiegeLord> I guess the fact that I put the lifetime on the type means that borrows now last as long as the variable exists, not as long as the borrow exists
[00:31:42] <mrmonday> I'm leaning towards cheating and only accepting mutable
[00:32:36] *** Joins: Kxepal (Miranda@moz-413026B1.pppoe.mtu-net.ru)
[00:33:06] *** jorendorff is now known as jorendorff_away
[00:34:57] *** Quits: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net) (Quit: stevegury)
[00:36:16] *** Quits: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net) (Input/output error)
[00:36:22] *** Quits: skade (skade@moz-F3F67608.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:38:25] <kmc> mrmonday: something like this? https://gist.github.com/kmcallister/9423251
[00:38:36] <kmc> not that sure about this... there should be a way without unsafe code
[00:39:40] *** Quits: dymk (dymk@C94BAFB1.AA444DA9.3FBA778E.IP) (Ping timeout)
[00:39:42] *** Quits: jclements (jclements@moz-E7143D62.wireless.calpoly.edu) (Ping timeout)
[00:39:58] *** Quits: anasyrma (x@moz-DE175E38.caltech.edu) (Ping timeout)
[00:40:08] <sfackler> kmc: that implementation is unsound; the lifetime parameter isn't used so it'll be ignored
[00:40:20] <kmc> bummer
[00:40:25] <kmc> so phantom lifetimes don't work?
[00:40:36] <SiegeLord> I guess I still don't quite get the requirements ehre
[00:40:38] <SiegeLord> *here
[00:40:48] <sfackler> kmc: you just need to add a marker type like http://static.rust-lang.org/doc/master/std/kinds/marker/struct.ContravariantLifetime.html
[00:41:04] *** Joins: jclements (jclements@moz-E7143D62.wireless.calpoly.edu)
[00:41:05] *** Joins: anasyrma (x@moz-DE175E38.caltech.edu)
[00:41:10] *** Joins: dymk (dymk@C94BAFB1.AA444DA9.3FBA778E.IP)
[00:41:15] <SiegeLord> This obviously works: https://gist.github.com/SiegeLord/9423285
[00:41:31] <kmc> sfackler: cool
[00:41:33] <SiegeLord> The thing you lose is that you can't have the same method name doing different things depending on mutability
[00:42:30] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[00:42:48] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[00:43:05] <mrmonday> SiegeLord: https://github.com/mrmonday/rust/blob/raw-socket-support/src/libstd/io/net/raw.rs#L296 <= basically I have a thing for constructing/inspecting packets - I want the same code to work regardless of mutability, but just hide the methods which require mutable if it's backed by an immutable vector
[00:43:58] <mrmonday> aka getters when backed by &[u8] or &mut [u8], setters when backed by &mut [u8]
[00:44:20] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[00:44:32] <kmc> mrmonday, SiegeLord: how about  impl<T: Vector> Foobar<T> { ... };   impl<T: MutableVector> Foobar<T> { ... };
[00:44:34] <SiegeLord> If I were to do it, I'd use three types and then use default methods
[00:44:47] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Quit: )
[00:45:17] <SiegeLord> 2 types for mutability and one type for the other data
[00:45:59] *** Joins: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net)
[00:46:12] <mrmonday> SiegeLord: still have to define the getters twice there by the looks of things?
[00:46:23] <mrmonday> kmc: hmm, would that work?
[00:46:27] <kmc> i'm not sure :)
[00:46:28] <mrmonday> it could
[00:46:34] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[00:46:35] <SiegeLord> It's only one getter for the common data and a one that takes a &[u8] slice
[00:46:49] <SiegeLord> So two getters, everything else is done by a default method utilizing those two getters
[00:46:57] <SiegeLord> *by default methods
[00:47:07] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[00:47:10] *** Joins: DanC (connolly@moz-BEA079AC.kumc.edu)
[00:47:52] <mrmonday> SiegeLord: that's a lot of extra code when there's 10+ different getters :p
[00:48:14] <SiegeLord> All your methods are based on the the packet array
[00:48:16] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[00:48:24] <SiegeLord> So you only need 1 getter and 10 default methods :P
[00:48:34] <mrmonday> aaah, good point
[00:49:13] * DanC browses 1.0 issues...
[00:49:23] <DanC> wild... type system proof is on critical path for 1.0?
[00:49:45] <SiegeLord> That sounds fun
[00:50:03] <SiegeLord> Is a formal specification on that list?
[00:50:04] *** Quits: hoverbea_ (hoverbear@726D908C.44E18222.E74D50F2.IP) (Quit: Taking a nap.)
[00:50:07] *** Joins: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP)
[00:50:23] <mcpherrin> SiegeLord: I don't think it is; at least I haven't heard anything
[00:50:24] *** Quits: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP) (Quit: Taking a nap.)
[00:50:28] <mcpherrin> having a grammar at least would be good
[00:50:53] <SiegeLord> It seems... difficult to have a concept of backwards compatibility without a spec...
[00:51:07] *** Quits: echristo (echristo@3246441A.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[00:51:30] <SiegeLord> I guess you could maintain a snapshot of the compiler as it was at 1.0 release and run tests against it
[00:51:42] <DanC> hmm... no time estimate for the proof
[00:52:02] <DanC> for extra risk, how about doing the proof in idris? ;-)
[00:53:29] <DanC> last comment on https://github.com/mozilla/rust/issues/9883 was 5 months ago. hmm. would be nice to see something
[00:54:04] *** Joins: echristo (echristo@3246441A.D6CCE4AE.77834EAA.IP)
[00:54:06] <mcpherrin> Niko did some work on using a semantic model with PLT redex
[00:54:17] <mcpherrin> Not sure if that is the basis
[00:54:19] * DanC has a vague memory of that
[00:55:22] <DanC> a search turns up https://github.com/lkuper/rust-redex ... can't tell how or if that's related to Niko's work
[00:55:49] <huon> SiegeLord, DanC: ecr is working on formalising things
[00:55:57] <SiegeLord> Oh wow, awesome
[00:56:01] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[00:56:14] <huon> https://github.com/nikomatsakis/rust-redex is a more recent version of lkuper's work
[00:56:32] <huon> don't know if ecr's stuff is online yet
[00:56:36] <DanC> right... so says the 1.0 issues spreadsheet where I discovered it's a 1.0 issue
[00:57:02] <DanC> i.e. that ecr (Eric Reed) is working on it
[00:57:07] <DanC> (not that I know ecr from Adam)
[00:57:41] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[00:57:47] <SiegeLord> What's 'Patina'?
[00:58:11] <SiegeLord> A formally correct subset of Rust?
[00:58:49] <DanC> git history of nikomatsakis/rust-redex seems to be disjoint with that of lkuper/rust-redex
[00:59:57] *** Joins: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net)
[01:00:48] *** Joins: marianoguerra (marianogue@moz-929D369A.dip0.t-ipconnect.de)
[01:02:07] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[01:02:18] *** Joins: josh (josh@moz-244364B2.cable.virginm.net)
[01:03:06] *** Quits: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net) (Quit: stevegury)
[01:03:08] <huon> DanC: oh, ok
[01:03:15] <huon> SiegeLord: I think so
[01:03:56] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[01:04:01] <huon> DanC: I found it btw: https://github.com/anasazi/rust-redex
[01:04:26] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[01:04:38] *** Quits: nrc (nrc@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 30.0a1/20140305030201])
[01:05:31] <DanC> ah. cool.
[01:06:22] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[01:06:24] <DanC> 4 days ago. there we go.
[01:07:17] <burntsushi> i'm attempting to design a shrinker (to be used for quickcheck), but i'm having some trouble tying the knot. i've come up with two approaches so far: https://gist.github.com/anonymous/9423447 --- one uses trait objects and the other doesn't. (i'm after a good lazy abstraction here)
[01:07:55] <mrmonday> kmc: I can't seem to get that working, keep getting really weird compile errors :/
[01:07:58] <burntsushi> there are some comments in the paste that explain my problems. i really prefer the approach of trait objects, but was told i should avoid them... (dunno why)
[01:08:09] <DanC> anybody want to catch me up on implementation inheritance in rust?
[01:08:12] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Quit: victorporof)
[01:09:08] <strcat> DanC: rust doesn't have object inheritance
[01:09:27] <DanC> there was some discussion of something like it...
[01:10:47] * DanC hunts ... something about DOM implementation...
[01:11:12] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[01:11:33] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[01:11:51] <DanC> Nov 11 https://mail.mozilla.org/pipermail/rust-dev/2013-November/006465.html
[01:12:22] <strcat> DanC: https://github.com/mozilla/rust/issues/9912#issuecomment-36576809
[01:12:36] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Quit: ChatZilla 0.9.90.1 [Firefox 27.0.1/20140212131424])
[01:12:46] <DanC> whew!
[01:12:47] <DanC> thanks.
[01:13:13] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[01:13:16] *** Quits: darthdeus (darthdeus@AAEAC920.7D4E3986.4E88690D.IP) (Quit: Leaving...)
[01:14:06] <DanC> so the servo folks are happy without it after all?
[01:14:17] <KokaKiwi> Hi, anyone has an idea of why I have this error? ._. https://gist.github.com/KokaKiwi/718747e406548d56b0bd
[01:15:03] <KokaKiwi> With older version of rustc, it compile, but now, not. :(
[01:15:14] <KokaKiwi> no*
[01:15:34] *** Quits: Armavica (virgile@moz-AD428ED7.ens.fr) (Quit: leaving)
[01:16:25] <sfackler> KokaKiwi: you need to "use super::Hasher" in the test module
[01:16:27] <SiegeLord> You also need to import Hasher in the test mod
[01:16:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[01:16:32] <SiegeLord> I wonder how old this rustc was...
[01:16:57] <KokaKiwi> SiegeLord: *very* old :p Like...2 months ago? x)
[01:17:29] <KokaKiwi> Ok thanks, it works now.
[01:18:09] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[01:18:22] *** Parts: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) ()
[01:18:31] *** Joins: Armavica (virgile@moz-AD428ED7.ens.fr)
[01:18:36] <KokaKiwi> But maybe the compiler could be more neat about that, no? :/ Or at least, indicate that I must "declare" I want the Hasher trait :o
[01:18:38] *** Quits: dylukes (dylukes@moz-ED57011A.oakland.resnet.pitt.edu) (Quit: Textual IRC Client: www.textualapp.com)
[01:18:39] *** Quits: astroch (astroch@moz-80476ABD.hsd1.va.comcast.net) (Ping timeout)
[01:19:24] *** Quits: echristo (echristo@3246441A.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[01:21:43] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:23:35] <strcat> DanC: dunno.
[01:23:49] <strcat> DanC: maybe they just found another good way of doing it
[01:25:02] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[01:25:09] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[01:25:16] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[01:25:22] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:25:24] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[01:25:54] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[01:25:57] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:26:01] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[01:26:06] *** Parts: synackse (jordyd@2D608993.77F880E0.D9401097.IP) ()
[01:26:23] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[01:26:44] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:26:51] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[01:26:57] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[01:27:47] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[01:27:47] *** ChanServ sets mode: +ao brson brson
[01:27:52] <meyer> I recovered that image I was trying to pull out of a memory dump earlier, if anyone wants to see it: http://local.integerzero.net/files/partial_4096_2.png
[01:28:24] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[01:28:32] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[01:28:58] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[01:30:01] <strcat> meyer: what is it? ;p
[01:30:19] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[01:30:25] <meyer> No color (aside from black, since it is incomplete) is used twice. See: allrgb.com
[01:30:43] <meyer> Goal is to make a visually pleasing 4096x4096 image that uses every 24-bit RGB color exactly once
[01:30:56] <mrmonday> kmc: seems that way doesn't work because while Vector/MutableVector are implemented for &'p mut [u8] they aren't the same thing, so I can't actually store one in the struct (unless I'm doing something wrong of course)
[01:34:00] <huon> meyer: oh, how'd you find it?
[01:34:32] <DanC> what prompted me to tune in this evening was https://twitter.com/pcwalton/status/441465173270736896 ; anybody know anything in particular that inspired pcwalton yesterday?
[01:34:52] <huon> "Just lots of good work coming out of the work week. Writeups soon!"
[01:34:57] <DanC> ah... somebody already ... right. "Just lots of good work coming out of the work week. Writeups soon!"
[01:35:50] *** Quits: jclements (jclements@moz-E7143D62.wireless.calpoly.edu) (Quit: jclements)
[01:36:00] <meyer> huon: I added a few lines to insert a unique byte sequence at the start of the array containing the image bytes, recompiled, ran, and dumped memory in the same way as the original dump. Then I looked at the byte sequence immediately preceding the start of the image in memory (right before the unique sequence), found that there was only one instance of it in both the original dump and the dum
[01:36:02] <meyer> p with the unique sequence, and then used dd to extract the whole image from the original dump file.
[01:36:12] <meyer> (then added a ppm header and converted to png)
[01:36:58] <huon> awesome
[01:39:08] *** Joins: jmgrosen (user@moz-848F6087.sb.sd.cox.net)
[01:42:46] *** Quits: puzzler (puzzler@moz-CD721145.hsd1.mi.comcast.net) (Quit: )
[01:44:32] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[01:47:32] <p1start> rusti: "ßo".char_at(1)
[01:47:38] -rusti- task '<main>' failed at 'assertion failed: (w != 0)', /build/rust-git/src/rust/src/libstd/str.rs:2656
[01:47:38] -rusti- application terminated with error code 101
[01:47:54] <p1start> Why do I get this error?
[01:48:00] <strcat> char_at takes a byte index
[01:48:21] <sfackler> byte 1 is in the middle of ß
[01:48:21] <p1start> strcat: Oh... probably should've read the docs :P
[01:53:21] <brson> from the rust-dev moderation queue: "Please remove Rocks. the hand rocks. Make a different starter item. like a stone hatchet. you get that when you start."
[01:53:39] <strcat> haha
[01:53:40] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[01:53:43] <strcat> wat
[01:53:57] <mrmonday> haha
[01:54:12] <brson> it would be cool if we gave you a starter item though
[01:54:23] <mrmonday> hmm, all the ways I can think of solving this are ugly :(
[01:54:48] <strcat> brson: someone posted a picture of rust to r/rust today/yesterday (forget exactly when)
[01:55:46] <mrmonday> the only way it would be nice is if generics had mutability parameters :<
[01:55:55] <mrmonday> that I can think of anyway
[01:57:31] *** Quits: marianoguerra (marianogue@moz-929D369A.dip0.t-ipconnect.de) (Ping timeout)
[01:58:47] *** Quits: carter (carter@moz-58F59B3A.members.linode.com) (Quit: ZNC - http://znc.in)
[01:59:17] *** Joins: carter (carter@moz-58F59B3A.members.linode.com)
[01:59:35] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[01:59:49] *** Joins: darthdeus (darthdeus@AAEAC920.7D4E3986.4E88690D.IP)
[02:01:02] *** Quits: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net) (Quit: carllerche)
[02:01:18] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[02:02:57] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Ping timeout)
[02:04:34] <huon> strcat: only one? :P
[02:04:51] <huon> strcat: /r/rust gets 1/2 rust-the-game posts a day
[02:05:00] <huon> (1 or 2... not half)
[02:05:01] <strcat> huon: yeah but they posted a picture of rusty metal
[02:05:09] <strcat> I reported it and it's gone :(
[02:05:09] <huon> oh
[02:05:11] <huon> lol
[02:05:12] * strcat regrets it
[02:05:20] <strcat> bstrie probably got it then
[02:05:32] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[02:05:36] <huon> http://upload.wikimedia.org/wikipedia/commons/a/a4/Rust_on_iron.jpg
[02:05:43] <huon> high res rusting
[02:06:19] *** Quits: onelson (owen@moz-DD666EC5.laika.com) (Quit: Leaving)
[02:11:26] <wycats> who knows about Decodable?
[02:11:29] <wycats> such rust
[02:12:17] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[02:12:43] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[02:14:14] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[02:14:30] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[02:14:54] *** Quits: jmgrosen (user@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[02:14:55] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[02:16:03] <brson> strcat: lol, i didn't realize it was a picture of rusty metal, not rusty game
[02:16:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[02:16:45] *** Quits: q66 (q66@moz-53E60E69.dab.02.net) (Quit: Leaving)
[02:17:37] *** Quits: jadbaires (jadrian@8361CB29.3574EA1E.6119BA41.IP) (Quit: Konversation terminated!)
[02:17:43] *** Joins: jadbaires (jadrian@moz-F98FABC7.dsl.telepac.pt)
[02:17:59] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[02:18:02] *** Quits: azakai (alon@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[02:18:08] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[02:18:55] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[02:19:20] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[02:19:20] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[02:19:44] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[02:19:50] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[02:20:15] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:21:56] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[02:22:15] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Quit: Leaving)
[02:23:19] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:23:59] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[02:24:10] *** Joins: MP2E (cray@moz-EB1E242D.lv.lv.cox.net)
[02:25:21] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[02:26:38] *** Quits: judder (maradukewa@75FA4DEE.A989D80C.78E362FE.IP) (Ping timeout)
[02:27:15] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:27:42] *** Quits: jadbaires (jadrian@moz-F98FABC7.dsl.telepac.pt) (Quit: Konversation terminated!)
[02:27:48] *** Joins: jadbaires (jadrian@moz-F98FABC7.dsl.telepac.pt)
[02:28:56] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:30:13] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[02:32:52] *** Quits: gwty (gwtypc@E3B3B46E.89CCF027.137C914F.IP) (Connection reset by peer)
[02:33:38] *** Quits: mye (mye@moz-92FD1060.dip0.t-ipconnect.de) (Quit: mye)
[02:35:06] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[02:35:14] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:35:18] *** Quits: matp (matp@moz-16FE1E05.matp.at) (Ping timeout)
[02:37:27] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[02:37:31] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[02:37:47] *** Quits: jadbaires (jadrian@moz-F98FABC7.dsl.telepac.pt) (Quit: Konversation terminated!)
[02:37:54] *** Joins: jadbaires (jadrian@moz-F98FABC7.dsl.telepac.pt)
[02:38:04] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Input/output error)
[02:39:10] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[02:40:20] *** Quits: bharadwaj (uid11995@moz-5F4AA75A.irccloud.com) (Quit: Connection closed for inactivity)
[02:40:28] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[02:40:56] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[02:43:41] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[02:45:01] *** Quits: Ferreus_ (ferreus@moz-ECE86965.lsn.wtnet.de) (Quit: WeeChat 0.4.4-dev)
[02:45:49] *** Parts: meyer (meyer@moz-A9CF56E4.hsd1.ca.comcast.net) ()
[02:46:05] *** Joins: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca)
[02:46:15] *** Quits: josh (josh@moz-244364B2.cable.virginm.net) (Quit: josh)
[02:46:44] *** Quits: IanCormac84 (User@43FB440E.64D641E5.67DFF8B4.IP) (Ping timeout)
[02:46:50] *** Joins: IanCormac84 (User@3F61E5CE.2A8D8854.67DFF8B4.IP)
[02:47:52] *** Quits: jadbaires (jadrian@moz-F98FABC7.dsl.telepac.pt) (Connection reset by peer)
[02:47:59] *** Joins: jadbaires (jadrian@moz-F98FABC7.dsl.telepac.pt)
[02:50:24] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[02:50:48] *** Quits: jadbaires (jadrian@moz-F98FABC7.dsl.telepac.pt) (Quit: Konversation terminated!)
[02:50:54] *** Joins: jadbaires (jadrian@moz-F98FABC7.dsl.telepac.pt)
[02:51:17] *** jorendorff_away is now known as jorendorff
[02:51:32] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[02:54:56] *** Joins: puzzler (puzzler@moz-CD721145.hsd1.mi.comcast.net)
[02:56:47] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[02:58:25] *** Quits: MP2E (cray@moz-EB1E242D.lv.lv.cox.net) (Quit: leaving)
[02:58:36] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[02:59:25] *** Joins: larsberg (sid16141@moz-A42E5B7B.irccloud.com)
[03:02:50] *** Quits: rootnode (rootnode@moz-C6945304.pools.arcor-ip.net) (Ping timeout)
[03:04:08] *** Quits: eibwen (kvirc@moz-C9034F51.dip0.t-ipconnect.de) (Ping timeout)
[03:04:13] *** Joins: rootnode (rootnode@moz-35CEA5A.pools.arcor-ip.net)
[03:04:50] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[03:05:57] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[03:07:54] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[03:08:09] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:10:39] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[03:12:09] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[03:14:09] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[03:14:31] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[03:15:19] *** Quits: tmh (e@180B7532.123B3C13.AA32EE5B.IP) (Ping timeout)
[03:15:21] *** Joins: sellout (Adium@moz-B28A0654.public.wayport.net)
[03:19:28] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[03:22:34] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[03:23:48] *** Quits: japaric (japaric@5F2F039.6B340C30.BFC118EE.IP) (Ping timeout)
[03:24:55] *** Joins: japaric (japaric@FB100779.A23A5F6C.E5B504CC.IP)
[03:25:12] *** Joins: Merth (shaun@moz-E41B2C4D.dhcp.mdsn.wi.charter.com)
[03:25:38] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[03:25:42] <Merth> hi Tari :)
[03:25:49] *** Quits: untitaker (untitaker@moz-C820B107.adsl.highway.telekom.at) (Ping timeout)
[03:25:54] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[03:27:43] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[03:28:26] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:28:33] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[03:30:08] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[03:30:18] *** Quits: nical (nico@moz-4754F405.fbx.proxad.net) (Ping timeout)
[03:30:19] *** Parts: larsberg (sid16141@moz-A42E5B7B.irccloud.com) ()
[03:30:48] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Quit: )
[03:31:33] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[03:33:14] *** Joins: untitaker (untitaker@moz-AB11F064.adsl.highway.telekom.at)
[03:34:53] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[03:35:10] *** Joins: brson (brson@C91C7F36.70518F41.9D18269F.IP)
[03:35:10] *** ChanServ sets mode: +ao brson brson
[03:36:40] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[03:37:00] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[03:39:09] *** Joins: bollu_ (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[03:39:11] *** Quits: bollu_ (bollu@31CCE710.7065DDB9.6D6A344F.IP) (Quit: Leaving.)
[03:39:26] *** Joins: bollu_ (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[03:40:12] *** Quits: bollu_ (bollu@31CCE710.7065DDB9.6D6A344F.IP) (Quit: Leaving.)
[03:41:02] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[03:41:51] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[03:42:01] *** Quits: claudiu_ (claudiu@moz-7D1F0258.thefacebook.com) (Input/output error)
[03:43:49] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[03:43:59] *** Joins: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[03:44:14] *** Quits: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: mbx)
[03:44:33] *** Joins: paulolieuthier (quassel@21B21E8E.EEDC1A07.DF1E30BF.IP)
[03:44:58] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[03:45:04] *** Quits: soumyaC (uid15286@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[03:45:12] *** Quits: paulolieuthier (quassel@21B21E8E.EEDC1A07.DF1E30BF.IP) (Client exited)
[03:46:09] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[03:48:21] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[03:50:08] *** Quits: engla_ (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[03:53:11] *** Quits: zz_kimundi (kimundi@moz-9A465F61.dip0.t-ipconnect.de) (Ping timeout)
[03:53:56] *** Quits: Merth (shaun@moz-E41B2C4D.dhcp.mdsn.wi.charter.com) (Ping timeout)
[03:56:14] *** Joins: zz_kimundi (kimundi@moz-DCDD522C.dip0.t-ipconnect.de)
[03:56:40] *** zz_kimundi is now known as kimundi
[03:57:01] <bollu> what's rust'c equivalent of -Werror?
[03:58:01] *** Quits: dymk (dymk@C94BAFB1.AA444DA9.3FBA778E.IP) (Ping timeout)
[04:01:26] <bollu> nvm, got it: -D warnings
[04:02:30] *** Joins: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se)
[04:03:48] *** Quits: mceier (mceier@moz-C1591437.dynamic.chello.pl) (Ping timeout)
[04:06:16] *** Joins: tanayseven (tanay@135D48A9.77162C14.5A7A4C68.IP)
[04:06:45] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[04:06:55] <bollu> how do I force rustc to emit colored output? it stops coloring stuff when I pass it through a build system
[04:07:03] <bollu> in clang there was a flag - 
[04:08:40] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[04:09:38] *** Joins: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net)
[04:11:22] <strcat> bollu: unbuffer utility
[04:11:32] <strcat> unbuffer rustc foo.rs | ...
[04:11:40] <strcat> but yeah, it should probably be a flag
[04:12:07] <bollu> strcat: did not know about that. will try. I'm passing through tup (similar to ninja), and they /both/ strip colors. 
[04:12:47] <strcat> well, rustc disables color when it detects that it's being piped (like most other utilities), and unbuffer fixes that issue
[04:15:24] *** Joins: dherman (dherman@F16146EB.9D3722BB.58DC3EE6.IP)
[04:15:24] *** ChanServ sets mode: +ao dherman dherman
[04:16:56] *** Quits: yusukesuzuki (yusukesuzu@moz-43160292.net218219047.t-com.ne.jp) (Ping timeout)
[04:17:02] *** Joins: untwisted (untwisted@moz-EA89F9D9.hsd1.fl.comcast.net)
[04:17:12] *** Joins: yusukesuzuki (yusukesuzu@moz-43160292.net218219047.t-com.ne.jp)
[04:17:13] *** Joins: Jarrett (chatzilla@moz-465FA06E.dhcp.rvsd.ca.charter.com)
[04:18:03] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[04:18:49] *** Joins: engla_ (engla@moz-F64E1B0F.cust.bredbandsbolaget.se)
[04:19:34] *** Quits: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[04:21:12] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[04:21:53] *** Quits: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net) (Ping timeout)
[04:22:08] *** Joins: whitglint (uid15486@moz-31ABA2C0.irccloud.com)
[04:22:28] *** jorendorff is now known as jorendorff_away
[04:22:36] *** Joins: goffrie (goffrie@moz-E76774F0.dsl.ncf.ca)
[04:23:43] <bollu> make
[04:24:12] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[04:24:41] *** Quits: intuxicated (intuxicate@A9443CC2.9D1E10BA.3FFBF42F.IP) (Client exited)
[04:24:42] <o11c> make install
[04:24:54] <JamesNZ> ***Failed***
[04:26:03] *** jorendorff_away is now known as jorendorff
[04:26:18] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[04:28:37] *** Quits: IanCormac84 (User@3F61E5CE.2A8D8854.67DFF8B4.IP) (Ping timeout)
[04:28:47] *** Joins: IanCormac84 (User@6FBA0F5.64D641E5.67DFF8B4.IP)
[04:33:10] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[04:34:20] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[04:34:34] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[04:37:43] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[04:38:21] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[04:39:53] *** Quits: IanCormac84 (User@6FBA0F5.64D641E5.67DFF8B4.IP) (Ping timeout)
[04:39:54] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[04:40:17] *** Joins: IanCormac84 (User@E995F469.64D641E5.67DFF8B4.IP)
[04:40:43] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[04:42:02] *** jorendorff is now known as jorendorff_away
[04:42:36] *** Joins: kvanb (kvanb@moz-2393B229.lnse5.lon.bigpond.net.au)
[04:43:54] *** Quits: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net) (Ping timeout)
[04:46:33] *** Quits: brson (brson@C91C7F36.70518F41.9D18269F.IP) (Ping timeout)
[04:47:19] *** Quits: untwisted (untwisted@moz-EA89F9D9.hsd1.fl.comcast.net) (Ping timeout)
[04:48:11] *** Joins: capt_redbeard (Adium@moz-4998C3D0.ok.ok.cox.net)
[04:48:22] *** Joins: victorporof_ (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[04:48:46] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[04:48:56] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Ping timeout)
[04:49:34] *** Joins: sourab (jnu@D3A0DB6E.65B30B68.62972B16.IP)
[04:52:12] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[04:54:37] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[04:54:56] *** Quits: puzzler (puzzler@moz-CD721145.hsd1.mi.comcast.net) (Quit: )
[04:54:56] *** Joins: IanCormac841 (User@9A7E9EFD.2A8D8854.67DFF8B4.IP)
[04:55:07] *** Quits: IanCormac84 (User@E995F469.64D641E5.67DFF8B4.IP) (Ping timeout)
[04:55:46] *** Joins: dougxxx (dougxxx@moz-21B0BD70.dyn.iinet.net.au)
[04:56:54] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:57:26] <bollu> help with borrowing please? https://gist.github.com/bollu/825d005a27d52cd34e28
[04:57:35] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[04:57:38] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[04:58:28] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[04:58:50] *** Joins: jclements (jclements@moz-E7143D62.wireless.calpoly.edu)
[04:58:51] *** Quits: jclements (jclements@moz-E7143D62.wireless.calpoly.edu) (Quit: jclements)
[04:58:57] *** Quits: victorporof_ (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Ping timeout)
[04:59:02] *** Joins: jclements (jclements@moz-E7143D62.wireless.calpoly.edu)
[04:59:22] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[04:59:24] *** Quits: jclements (jclements@moz-E7143D62.wireless.calpoly.edu) (Quit: jclements)
[05:01:49] *** Quits: capt_redbeard (Adium@moz-4998C3D0.ok.ok.cox.net) (Quit: Leaving.)
[05:03:50] *** Quits: aquassaut (aquassaut@moz-6107CA64.net-81-220-251.rev.numericable.fr) (Ping timeout)
[05:04:05] <bollu> anyone here? :)
[05:04:20] *** Quits: IanCormac841 (User@9A7E9EFD.2A8D8854.67DFF8B4.IP) (Ping timeout)
[05:04:22] *** Joins: EmilyScott (chatzilla@A65E3F73.BA4BC16C.96556A09.IP)
[05:04:38] *** Quits: jadbaires (jadrian@moz-F98FABC7.dsl.telepac.pt) (Quit: Konversation terminated!)
[05:04:43] *** Joins: jadbaires (jadrian@8361CB29.3574EA1E.6119BA41.IP)
[05:04:46] *** Quits: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net) (Quit: stevegury)
[05:04:56] *** Quits: jadbaires (jadrian@8361CB29.3574EA1E.6119BA41.IP) (Quit: Konversation terminated!)
[05:04:56] *** Joins: IanCormac84 (User@4B41B0BA.64D641E5.67DFF8B4.IP)
[05:05:28] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[05:05:37] *** Joins: dranov (dranov@4A35FFE3.3B6BC09B.A5830293.IP)
[05:05:59] *** Joins: victorporof_ (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[05:06:35] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Ping timeout)
[05:06:43] *** Joins: jclements (jclements@moz-E7143D62.wireless.calpoly.edu)
[05:07:42] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[05:08:03] <aatch> bollu, yo
[05:08:29] *** Quits: engla_ (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[05:09:05] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[05:09:13] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[05:09:45] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Quit: mbx)
[05:09:52] *** Quits: jclements (jclements@moz-E7143D62.wireless.calpoly.edu) (Quit: jclements)
[05:10:18] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Quit: WeeChat 0.4.4-dev)
[05:10:22] <dougxxx> mm... interesting Q bollu, but I don't know the answer I'm afraid.
[05:10:33] <aatch> bollu, so if you don't need the state around any longer than just to get the transition value, you can do `let transition = self.get_current_state().Tick(dt)`
[05:10:44] <aatch> and then `self.transition = transition`
[05:11:04] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[05:11:09] <aatch> the borrow of self will only last for the expression where you assign to transition.
[05:11:10] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[05:11:50] <aatch> so you're free to self.transition once the borrow is over.
[05:12:09] <bollu> aatch: that would work, but It's a little annoying nonetheless :)
[05:12:15] <bollu> will do it that way
[05:12:20] *** Joins: jclements (jclements@moz-E7143D62.wireless.calpoly.edu)
[05:13:12] <aatch> bollu, the only issue is that because you have `state` sticking around, you're extending the borrow past what you need.
[05:13:28] <bollu> aatch: code - let transition = self.get_current_state.Tick(dt); Error -  attempted to take value of method `get_current_state` on type `&mut State::StateHandler` (try writing an anonymous function)
[05:13:30] <bollu> ../src/State.rs:48 		let transition = self.get_current_state.Tick(dt);
[05:13:33] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[05:13:48] <aatch> get_current_state is a method...
[05:13:59] *** Joins: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net)
[05:14:32] <bollu> aatch: whoops, sorry! haven't had my morning coffee yet ~_~
[05:14:50] *** Joins: bvssvni (Mibbit@moz-C4579D6F.bb.online.no)
[05:14:52] <bollu> thanks! she compiles :)
[05:14:55] <aatch> np
[05:15:12] *** Quits: tanayseven (tanay@135D48A9.77162C14.5A7A4C68.IP) (Ping timeout)
[05:16:00] *** Quits: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[05:16:32] <dougxxx> hm, just curious, would it work if you pulled those two lines out into a sub function?
[05:16:55] <dougxxx> So the lifetime of the function ends after the self.transtion = with a } <--- closes function
[05:17:03] <dougxxx> or would that still be considered leaving 'state' having around?
[05:17:18] *** Joins: maxli (Instantbir@moz-1650391B.hsd1.ca.comcast.net)
[05:17:29] *** Joins: maxli1 (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[05:17:29] <dougxxx> *having -> lying
[05:18:42] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[05:18:47] *** Joins: aquassaut (aquassaut@moz-6107CA64.net-81-220-251.rev.numericable.fr)
[05:24:28] <bollu> dougxxx: which two lines?
[05:24:46] <dougxxx> 	let state = self.get_current_state();
[05:24:46] <dougxxx> self.transition = state.Tick(dt);
[05:24:50] *** Quits: dherman (dherman@F16146EB.9D3722BB.58DC3EE6.IP) (Ping timeout)
[05:25:02] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[05:25:27] <dougxxx> I have no idea; but it's kind of annoying you have to chain everything into one line
[05:25:30] <bollu> sorrdougxxx: as far as I have understood, it would continue to complain because state is borrowed within that sub-function
[05:25:30] <dougxxx> just because of the scope.
[05:25:41] <dougxxx> yeah, fair enough
[05:25:43] <bollu> dougxxx: yeah, agreed
[05:26:06] <dougxxx> Just wondered if the closing } after self.transaction = ... ; would mean that it isn't a continue state borrow.
[05:26:18] <bollu> it's kind of weird how introducing borrowing has this effect. I'd never even considered something like this
[05:26:31] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:26:46] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[05:26:56] <dougxxx> mm... feels like what lifetimes are for. 
[05:27:15] <dougxxx> like you should be able to go: fn Tick<'a>(...)
[05:27:24] <bollu> dougxxx: I think the problem is that I'm asking the state to mutate while it's still borrowed. So unless you can separate the get_current_state() from the Tick()
[05:27:25] <dougxxx> and somehow notify that that lifetime scope is the one you want to use
[05:27:33] <bollu> dougxxx: ah, yes. That might work
[05:27:39] <aatch> so you can't control lifetimes.
[05:27:39] <bollu> but that would simple complicate things IMHO
[05:27:48] <aatch> not explicitly anyway.
[05:27:49] *** Quits: jclements (jclements@moz-E7143D62.wireless.calpoly.edu) (Quit: jclements)
[05:27:52] <dougxxx> yeah~ 
[05:27:56] <aatch> they are defined by the scope.
[05:28:05] <bollu> dougxxx: yeah, that would be nice. 
[05:28:19] <aatch> So a borrow of a value lasts for the lifetime of the variable holding the reference you borrowed.
[05:28:25] *** Quits: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net) (Ping timeout)
[05:28:31] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[05:29:19] <dougxxx> aatch; yeah, I understand. It just feels a bit clunky to have a semantic difference between; let a = b(); b.x(); and b().x();
[05:29:32] <dougxxx> I see why it's the case
[05:29:34] <dougxxx> but its odd.
[05:29:50] <aatch> dougxxx, it's only because lifetimes extend to the end of the scope.
[05:30:04] <aatch> and RAII kinda expects that.
[05:30:09] <dougxxx> yeah, but surely this should be valid: { let a = b(); b.x(); }
[05:30:11] *** Joins: esummers_ (textual@moz-3B015C90.wi.res.rr.com)
[05:30:18] <dougxxx> since a is never used again.
[05:30:19] *** Quits: esummers_ (textual@moz-3B015C90.wi.res.rr.com) (Client exited)
[05:30:27] <dougxxx> woops. a.x() I mean.
[05:30:36] <bollu> yep. a.x
[05:30:42] <bollu> a.x()
[05:30:52] <aatch> dougxxx, well sure.
[05:30:56] <aatch> That's another option.
[05:31:03] <aatch> since you're introducing a new scope.
[05:31:11] <dougxxx> That actually works?
[05:31:15] <bollu> a = b(); whatIWant = a.x() v/s whatIWant = b.x() 
[05:31:15] <aatch> I just suggested what I thought the simplest fix was.
[05:31:56] <dougxxx> If that actually works then that's neat. If it doesn't, that'd be odd. That's all I was saying~
[05:32:15] <aatch> you could write what bollu was doing as `let trasition = { let state = self.get_current_state(); state.Tick(dt) };`
[05:32:22] *** Quits: IanCormac84 (User@4B41B0BA.64D641E5.67DFF8B4.IP) (Ping timeout)
[05:32:26] <dougxxx> ah
[05:32:28] <dougxxx> nice.
[05:32:37] <dougxxx> ^__^ 
[05:32:45] <aatch> Maybe even assign directly to self.transition
[05:32:59] <aatch> I'm not certain about the exact rules there though.
[05:33:39] <aatch> I think it would be fine because dataflow will see the assignment after the block expression has completed.
[05:33:43] *** Quits: dranov (dranov@4A35FFE3.3B6BC09B.A5830293.IP) (Client exited)
[05:34:01] *** Joins: IanCormac84 (User@484F360D.2A8D8854.67DFF8B4.IP)
[05:34:38] *** Joins: dranov (dranov@4A35FFE3.3B6BC09B.A5830293.IP)
[05:35:41] <bollu> aatch: wow, that's neat!
[05:36:11] <aatch> bollu, yeah, the lifetimes are normally obvious based on the scope.
[05:36:52] <aatch> The exception is that the value in a match expression lasts for the entire match
[05:37:04] <aatch> Which catches people out sometimes.
[05:39:28] <bvssvni> is there a tutorial for how to debug with vim?
[05:40:22] <bollu> bvssvni: as in.. ? 
[05:40:29] <bvssvni> I know Rust can generate DWARF debug info
[05:40:38] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[05:40:47] <bvssvni> but I don't know how to use vim (I am a noob)
[05:41:24] <strcat> bvssvni: vim doesn't have a debugger, at most you can have gdb integration for breakpoints
[05:41:34] *** Quits: yota (sdouche@moz-7D878FB8.securactive.net) (Ping timeout)
[05:41:43] <bollu> bvssvni: looks like GDB can do it
[05:41:44] <bvssvni> strcat: thanks
[05:41:52] <bollu> strcat: because it's vim, it's bound to have plugins :)
[05:41:57] <strcat> bvssvni: if you want a GUI you can try nemiver
[05:42:06] <strcat> bollu: yeah, a really poorly maintained breakpoint plugin for gvim
[05:42:08] <strcat> ;p
[05:42:16] <bollu> :)
[05:42:25] <strcat> (but gdb and lldb are fine, lldb is kinda weird though)
[05:42:47] <bollu> bvssvni: http://vim.wikia.com/wiki/Use_Vim_like_an_IDE
[05:44:05] * strcat shrugs
[05:44:14] <strcat> imo the vim gdb plugins are worth staying away from
[05:44:33] <strcat> you want to debug your code, not a vim plugin
[05:45:59] <bollu> strcat: never been a big user of vim, only use it to write C++ sometimes because it's the closest thing you have to Cisual C++ 
[05:46:03] <bollu> Visual*
[05:46:13] <bollu> vim + YouCompleteMe comes close
[05:46:16] <bollu> to a proper IDE
[05:46:51] <strcat> youcompleteme only has autocomplete
[05:47:52] *** Joins: iopq (Instantbir@moz-8CB45329.hsd1.ca.comcast.net)
[05:47:54] <bollu> strcat: it also lets you navigate around (goto definition and stuff)  (CTags does not do this correctly when you have inheritance) 
[05:48:01] <Jarrett> does gdb have any kind of ANSI coloring support? I feel like I tried looking for it before and was shocked that I couldn't find anything
[05:48:24] <strcat> bollu: yeah, ctags/cscope are awful
[05:48:56] <strcat> youcompleteme is still missing basic stuff like showing docstrings though ;p
[05:48:58] <bollu> Jarrett: there's a script or something which you can pipe to I think
[05:49:21] *** Joins: edwardw (edwardw@4112974A.B4358688.30F15291.IP)
[05:49:31] <Jarrett> hm
[05:49:36] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[05:49:57] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[05:50:03] *** Joins: tmh (e@180B7532.123B3C13.AA32EE5B.IP)
[05:51:40] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[05:53:50] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[05:59:16] *** Joins: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com)
[05:59:51] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[06:00:48] *** Quits: dougxxx (dougxxx@moz-21B0BD70.dyn.iinet.net.au) (Quit: )
[06:01:19] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:02:56] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[06:07:34] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[06:07:44] <bollu> how do I overload equality?
[06:07:52] <bollu> what's the trait ?
[06:08:00] <aatch> bollu, Eq
[06:08:09] <bollu> thanks
[06:08:12] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[06:09:40] *** Joins: brson (brson@981AA104.E81F12CD.76F66111.IP)
[06:09:40] *** ChanServ sets mode: +ao brson brson
[06:10:07] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[06:10:52] <bollu> rustc   ../src/main.rs -L ../lib/ --test -o equinox-tests <- this should generate a test suite correct?
[06:15:06] <bollu> There are not many persons who know what wonders are opened to them in the
[06:15:06] <bollu> stories and visions of their youth; for when as children we listen and dream,
[06:15:06] <bollu> we think but half-formed thoughts, and when as men we try to remember, we are
[06:15:06] <bollu> dulled and prosaic with the poison of life. But some of us awake in the night
[06:15:06] <bollu> with strange phantasms of enchanted hills and gardens, of fountains that sing
[06:15:08] <bollu> in the sun, of golden cliffs overhanging murmuring seas, of plains that stretch
[06:15:11] <bollu> down to sleeping cities of bronze and stone, and of shadowy companies of heroes
[06:15:13] <bollu> that ride caparisoned white horses along the edges of thick forests; and then
[06:15:16] <bollu> we know that we have looked back through the ivory gates into that world of
[06:15:18] <bollu> wonder which was ours before we were wise and unhappy.
[06:15:21] <bollu> does everyone know this happens? ~_~
[06:15:23] <bollu> rust just coredumped
[06:15:32] *** Joins: Valloric (Valloric@moz-288722BA.hsd1.ca.comcast.net)
[06:16:38] <bvssvni> bollu: so you have found it
[06:17:06] <bvssvni> bollu: I only got 'you have met a terrible fate, haven't you?'
[06:17:25] <bollu> bvssvni: lol 
[06:17:46] <bollu> this is awesome though. god bless the person who decided to emit this
[06:18:08] <bvssvni> bollu: it runs a hash on certain errors and there is a certain probability this turn up
[06:18:10] <bollu> this is awesome though. god bless the person who decided to emit this
[06:18:16] <bollu> ah, I see
[06:18:19] <bollu> that's pretty cool
[06:18:20] <bvssvni> bollu: there are more of them
[06:18:58] <bollu> bvssvni: how do I find the others? :) just keep recompling?
[06:19:30] <bvssvni> bollu: you can find it in the source of course (but that would spoil it)
[06:19:46] <bollu> bvssvni: yeah, that's kind of boring.
[06:19:57] <bollu> bvssvni: guess I'll just wait for the next one ;)
[06:20:11] <bollu> bvssvni: how many are there? 10?
[06:20:24] <bollu> bvssvni: and it's only when it crashes or ....?
[06:20:27] <bvssvni> bollu: I believe it only happens for compiler errors
[06:20:45] <bvssvni> bollu: there are approximately 10 I think
[06:20:50] <bollu> bvssvni: oh, good to know.
[06:21:20] <bollu> bvssvni: my affection for rust has shot up significantly after this :D I love easter eggs!
[06:22:18] <aatch> those errors happen for runtime errors
[06:22:29] <aatch> I believe brson is the one that added them.
[06:23:04] <aatch> They're passages from H.P. Lovecraft btw
[06:23:13] <bollu> aatch: yeah, it crashed because my entry point was misbehaving. it printed this out before it crashed
[06:23:23] <bollu> aatch: I googled and found the story :)
[06:23:27] <bollu> reading it now
[06:23:27] <aatch> bollu, that makes sense.
[06:23:42] <bollu> It felt more like something Kafka would write though
[06:24:39] * bvssvni thought it was some strange happening this morning (it was the sun)
[06:25:05] <aatch> bvssvni, no, the happens everyday
[06:25:06] <Valloric> bvssvni: looking at the source, there's exactly 5 of these messages
[06:25:11] <bvssvni> it has been terrible weather lately
[06:25:11] <aatch> the *sun*
[06:25:18] <Valloric> they're pretty awesome
[06:25:42] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[06:26:32] *** Quits: oxum (anonymous@2EA69919.88326D41.520CDC98.IP) (Quit: Bye..)
[06:26:54] *** Joins: oxum (anonymous@2EA69919.88326D41.520CDC98.IP)
[06:27:48] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[06:29:08] *** Joins: drk (Mibbit@moz-A4B38763.lns20.syd6.internode.on.net)
[06:29:46] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[06:29:59] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[06:31:46] <drk> Hi there; I'm porting some code (from D) and I want to choose between various functions based on an integer code.  The existing D code switches on the code, setting a delegate (function pointer + context) to one of the object's instance methods.
[06:32:35] <o11c> drk: match is the Rust equivalent to switch (but better)
[06:33:12] <drk> rustc tells me I can't, and I've ended up with something like this: let ansi_cha = proc() { self.ansi_cha(some_args) }; ... (inside a match) action = Some(ansi_cha)
[06:33:12] <drk> Is there are shorter or more direct way?  Or even something more idiomatic?
[06:33:35] <o11c> drk: rust has two kinds of closures at the language level: borrowed closures and once procs. If you need something else, you need to make your own struct/trait
[06:33:58] <o11c> drk: procs can only be called once
[06:34:24] <o11c> drk: it sounds to me like the closure is valid as long as self is, so try &'self || {}
[06:34:46] <o11c> (or something like that, the syntax is funky)
[06:34:53] *** Quits: dranov (dranov@4A35FFE3.3B6BC09B.A5830293.IP) (Ping timeout)
[06:35:57] *** Joins: tanayseven (tanay@135D48A9.77162C14.5A7A4C68.IP)
[06:36:30] *** Joins: drk1 (Mibbit@moz-B1DBCECF.lns20.syd6.internode.on.net)
[06:36:37] <drk1> *sigh* I hate Telstra...
[06:37:00] <drk1> One sec, I'll get a paste up so you can see what I'm doing; I've got something that works, it just feels like a bad fit
[06:38:34] *** Quits: canhtak (canhtak@moz-7EB111.wl.t.ulaval.ca) (Quit: canhtak)
[06:38:58] *** Joins: dranov (dranov@4A35FFE3.3B6BC09B.A5830293.IP)
[06:39:55] *** Joins: ofeldt (ofeldt@moz-82F6AB0D.dip0.t-ipconnect.de)
[06:40:24] *** Quits: drk (Mibbit@moz-A4B38763.lns20.syd6.internode.on.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:40:48] *** Quits: ofeldt- (ofeldt@moz-B9F784BE.dip0.t-ipconnect.de) (Ping timeout)
[06:41:15] *** Joins: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net)
[06:41:36] *** Quits: sourab (jnu@D3A0DB6E.65B30B68.62972B16.IP) (Quit: )
[06:41:54] <Jarrett> can we see the original code too to see what you're trying to get at?
[06:42:38] <bollu> how is a null vector represented in polar coordinates? has no representation?
[06:42:53] <drk1> http://pastebin.com/RcqVzbi3
[06:42:59] <bvssvni> bollu: 0 angle and 0 length
[06:42:59] <drk1> Sorry for the wait
[06:43:02] <o11c> bollu: theta = anything (usually 0), radius = 0
[06:43:08] <bollu> bvssvni: good to know.
[06:43:11] <bollu> thanks
[06:43:31] <drk1> I'm tempted to just put the implementation for ansi_cha, etc. into process_escape so I'm not repeating myself, but that seems a little messy, too
[06:43:45] *** Quits: bvssvni (Mibbit@moz-C4579D6F.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[06:44:04] *** Joins: bvssvni (Mibbit@moz-C4579D6F.bb.online.no)
[06:44:13] <Jarrett> well
[06:44:25] <Jarrett> is there any reason you can't just call self.ansi_cha(param) in the match?
[06:44:48] <Jarrett> like I'm not seeing why you're putting this in a delegate to begin with
[06:44:48] <o11c> drk1: I guess proc does work, since you're only calling it once
[06:45:12] <drk1> There's some (potentially expensive) code I don't want to call unless I have to
[06:45:30] <o11c> drk1: if you instead replace _ => None with _ => { return; } you might be able to get rid of the Some
[06:46:25] <drk1> Hmm... then I'd have to repeat the code I'm trying to avoid calling... although that'd be at most an extra line, which I'm already paying to declare the proc
[06:47:00] <drk1> That, or just put the delayed code into ansi_cha, etc. themselves
[06:47:01] <Jarrett> so this expensive code, we're not seeing it in the paste then?
[06:47:15] <drk1> It's the "Do stuff that should only be done if there's a valid action" comment
[06:47:23] <drk1> Should have made it "do_expensive_stuff()"
[06:47:32] <Jarrett> oh I see
[06:47:48] <o11c> drk1: or of course you could have a proc() {} with an empty body
[06:48:01] <o11c> drk1: what exactly do you think is wrong with the code?
[06:48:13] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[06:48:16] <drk1> I just think it's inelegant
[06:48:53] <drk1> I'm either repeating the do_expensive_stuff call, or repeating the name of the action, or doing two matches
[06:49:21] <o11c> .unwrap() does exist I suppose
[06:49:39] <bvssvni> drk1: can I see the code?
[06:49:44] <drk1> Or I can put the implementations for ansi_cha, etc. into process_escape as the procs themselves
[06:50:03] <drk1> Just thought I'd see if there was something obvious I was missing :)
[06:50:20] <drk1> Sure; will paste
[06:51:12] *** Quits: Valloric (Valloric@moz-288722BA.hsd1.ca.comcast.net) (Quit: Valloric)
[06:51:26] <bollu> multiplying in polar coordinates: similar to multiplying complex numbers?
[06:51:39] <drk1> bvssvni: Current rust attempt: http://pastebin.com/AuL7MYK7 original D: http://pastebin.com/TVABqT5a
[06:51:43] <bvssvni> bollu: add the angles, multiply the lengths
[06:51:45] <bollu> r1r2 * e^i(a1 + a2) <- ?
[06:51:51] <bollu> yep, gotcha
[06:52:09] <drk1> (I want colour to work on windows with libnative)
[06:52:13] <bollu> bvssvni: so, polar coordinates = comples plane? :D
[06:52:20] <bollu> complex*
[06:53:38] <bvssvni> drk1: you can match on a tuple
[06:53:48] <bvssvni> drk1: to get rid of one match I think
[06:54:26] <drk1> Aye, but a tuple of what?
[06:54:44] <bvssvni> drk1: match (seq.len(), seq[0] as u8)
[06:55:45] <bvssvni> drk1: or maybe not, if it depends on the length being 1
[06:55:48] <Jarrett> oh, of course drk would be Daniel Keep
[06:56:56] *** Quits: tanayseven (tanay@135D48A9.77162C14.5A7A4C68.IP) (Ping timeout)
[06:57:06] <drk1> Jarrett Billingsley? :)
[06:57:12] <Jarrett> perhaps
[06:57:15] <drk1> :D
[06:57:17] <Jarrett> ;D
[06:57:18] * drk1 waves
[06:57:20] <Jarrett> heyy
[06:57:26] *** Quits: drk1 (Mibbit@moz-B1DBCECF.lns20.syd6.internode.on.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:57:49] *** Joins: drk (Mibbit@moz-56E9B128.lns20.syd7.internode.on.net)
[06:58:21] <drk> I really do hate my internet connection at times :(
[06:58:22] <bvssvni> drk1: perhaps you could use early returns instead of match
[06:58:36] <bvssvni> drk: ^
[06:58:42] <drk> Mmm
[06:59:07] <drk> Then I'd be matching the early exit case first, then the expensive_stuff(), then the action match, right?
[06:59:19] <bvssvni> drk: you can use ifs
[06:59:55] <bvssvni> drk: if seq.len() != 1 { return; } etc.
[07:00:33] <bvssvni> drk: do it before creating the procs
[07:01:22] <drk> Actually, the full exit condition would be something like: (seq.len() == 1&& !(seq[0] in {0x47, 0x6d, (other codes})) || (seq.len() == 2 && !(seq[1] in {(more codes)}) || seq.len() >= 3
[07:01:28] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:02:01] <bvssvni> drk: or break it into multiple ifs :)
[07:02:24] <drk> At which point I'm duplicating the logic to determine if something is a supported code or not... bringing me back to my original problem :P
[07:02:42] <drk> I think I'll just stick the expensive_stuff() call inside the handlers and call them directly
[07:02:53] *** Joins: tristramh (tris@moz-A60B3BF9.lns20.syd6.internode.on.net)
[07:03:22] <drk> No giant, messy function, only duplicating a single consistent line in each
[07:04:18] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[07:04:50] <drk> Thanks for the help, bvssvni, o11c 
[07:05:00] <drk> You too, Mr. Jarrett :)
[07:05:08] <Jarrett> ;)
[07:06:20] *** Quits: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net) (Ping timeout)
[07:08:00] <bollu> bvssvni: I've implemented mul, div, neg, eq and neq for polar coordinates. anything I'm missing?
[07:08:23] <Eridius> bollu: I don't know the context of this, but how about ordering? (lt, gt, etc)
[07:08:42] <bvssvni> bollu: rotate 90 degrees?
[07:08:46] <bollu> Eridius: how do you define greater than and less that in polar coordinates?
[07:09:00] <bollu> bvssvni: add an Angle::deg(90) to it
[07:09:04] <bvssvni> bollu: normalize?
[07:09:14] <bollu> bvssvni: ah, good catch.
[07:09:26] <bvssvni> bollu: that is just setting the length to 1, but still
[07:09:43] <Eridius> bollu: offhand I don't know.
[07:09:55] <bollu> bvssvni: even so, it's useful
[07:09:58] <Jarrett> wrap angle to [0, 360)
[07:10:02] <bvssvni> bollu: the angle between two vectors
[07:10:41] <bollu> bvssvni: hmm - that's an annoying one
[07:10:56] <bollu> bvssvni: either atan2(y1, x1) - atan2(y2, x2)
[07:10:58] <bvssvni> bollu: it's easy if you convert to cartesian and use atan2
[07:11:08] <bollu> or normalize, dot product, and the cos inverse
[07:11:18] <bollu> I'm assuming the 1st option is faster
[07:11:34] *** Quits: maxli1 (Adium@moz-B19F68ED.student.cs.uwaterloo.ca) (Quit: Leaving.)
[07:11:43] <bvssvni> bollu: you take the dot and cross product
[07:11:47] <bollu> bvssvni: where would you need the angle? most cases you care about going in or going out, where a simple dot product sign test is enough
[07:12:00] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[07:12:04] <bollu> bvssvni: continue
[07:12:14] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[07:12:24] <bollu> Jarrett: it's about the *direction* that you consider greater isn't it? clockwise or anti-clockwise
[07:12:26] <bvssvni> bollu: the dot product between 2 vectors in 2D gets you cos(angle) and the cross gives you sin(angle)
[07:12:33] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[07:12:39] <bollu> bvssvni: not quite
[07:12:43] <Jarrett> oh I was suggesting that as an operation
[07:12:46] <bvssvni> bollu: then use atan2 and you get the angle
[07:12:48] <bollu> bvssvni: it gives you |a||b| cos theta
[07:12:55] <bollu> bvssvni: so you have to normalize first
[07:13:02] <bvssvni> bollu: I know
[07:13:10] <bvssvni> bollu: being informal :P
[07:13:13] <bollu> bvssvni: xD
[07:13:30] <Jarrett> since {90, 1} and {450, 1} would be the same coordinate
[07:13:42] <Jarrett> so it'd be nice to "canonicalize" it
[07:13:57] <bollu> Jarrett: I already clamp angles automatically on construction :)
[07:13:57] <bvssvni> Jarret: it's more common to use -pi to pi
[07:14:04] <Jarrett> oh :B
[07:14:12] <bvssvni> left/right
[07:14:22] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[07:14:39] <Jarrett> he mentioned degrees so I figured...
[07:14:41] <Jarrett> lol
[07:14:55] <bollu> bvssvni: yeah, that's a debate we had yesterday ;) so, you think finding the angle b/w two vectors should be a dedicated operation?
[07:15:08] <bollu> like, vec1.inclination(vec2) ?
[07:15:12] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[07:15:27] <bvssvni> bollu: angle_between(a, b)?
[07:15:33] *** Quits: tristramh (tris@moz-A60B3BF9.lns20.syd6.internode.on.net) (Ping timeout)
[07:15:35] <bollu> bvssvni: ah, yes. that's better
[07:15:44] *** Parts: EmilyScott (chatzilla@A65E3F73.BA4BC16C.96556A09.IP) ()
[07:15:53] <bvssvni> bollu: when I think of it, it gives you the vector from A to B
[07:16:01] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[07:16:02] *** Quits: maxli (Instantbir@moz-1650391B.hsd1.ca.comcast.net) (Ping timeout)
[07:16:16] <bollu> bvssvni: that's just subtracting B from A!
[07:16:29] <bvssvni> bollu: how much to rotate the first vector
[07:16:52] <bollu> bvssvni: yep, so I think I should separate the "cartesian" from the "polar"
[07:17:06] <bollu> so to do finicky angle stuff, you convert to polar and mess around
[07:17:17] <bvssvni> bollu: you could subtract the angles, add pi and take mod 2pi
[07:17:35] <bvssvni> bollu: and then sub pi
[07:17:50] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: sleep)
[07:18:08] <bollu> bvssvni: what are we talking about now ? the implementation of angle_between yes?
[07:18:17] <bollu> and BTW, link to current version: https://gist.github.com/ed87d7d9f25887a57520
[07:18:21] <bvssvni> bollu: yes
[07:18:49] <bvssvni> bollu: think that will be faster in polar coordinates, since cos, sin and atan2 are expensive
[07:18:57] *** Joins: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP)
[07:19:33] *** Joins: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP)
[07:19:45] <bollu> bvssvni: yep, I think so too
[07:19:59] <bollu> bvssvni: but to get to polar coordinates, you have to use atan2
[07:20:13] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[07:20:13] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[07:20:16] <bvssvni> bollu: you can subtract the angles directly
[07:20:37] *** Quits: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP) (Ping timeout)
[07:20:41] <bvssvni> bollu: but if you have a.angle - b.angle = pi-(-pi) = 2pi
[07:21:08] <bollu> bvssvni: yeah, so the 2pi gets clamped to zero
[07:21:16] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[07:21:19] <bollu> the Angle class automatically clamps angles
[07:21:21] <bollu> so... ?
[07:21:26] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[07:22:11] <bollu> bvssvni: I don't think I'm understanding you. care to write a whole function :)
[07:22:14] <bollu> ?
[07:22:23] <bvssvni> rusti: -10 % 3
[07:22:28] -rusti- -1
[07:22:43] <huon> add 3 if it's negative
[07:22:51] <huon> (if you want it positive...)
[07:23:08] *** Quits: edwardw (edwardw@4112974A.B4358688.30F15291.IP) (Quit: Leaving...)
[07:23:16] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:23:19] <bollu> @huon: ah, I've been planning to rewrite clamp
[07:23:53] <bollu> huon: @ => you're the moderator correct?
[07:24:20] <bvssvni> bollu: something like fn angle_between(a, b) { (a-b) % pi } ?
[07:24:25] <huon> a moderator, yes
[07:24:56] <huon> it may be more performant to lazily clamp, btw, so that `a + b + c + d` doesn't clamp in the intermediate operations
[07:24:56] <bollu> bvssvni: I hm yes, that would work.
[07:25:11] <huon> (and then the unwrapping-to-f64 function would perform clamping)
[07:25:21] <bvssvni> bollu: if you use clamp every time it gets expensive
[07:25:31] <huon> or only clamp when it's outside [-10pi, 10pi] or some larger range
[07:25:33] * huon shrugs
[07:25:33] <bvssvni> bollu: better to clamp it in the operations
[07:25:55] <bvssvni> bollu: some operations might not require clamping
[07:26:10] <bollu> bvssvni, huon: how would I implement that? (like, selectively clamp) ?
[07:26:34] <bvssvni> bollu: also, an angle outside the range is useful sometimes
[07:26:45] <bollu> bvssvni: how so?
[07:26:59] <bvssvni> bollu: if you want to rotate multiple times
[07:27:20] <bvssvni> bollu: when interpolating between two states
[07:27:34] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[07:27:40] <bvssvni> bollu: in that respect, polar coordinates are a little different
[07:27:47] <huon> let mut x = a + b; if x < -10 * PI || 10 * pi < x { x %= 2 * PI if x < 0 { x += 2 * PI } }
[07:28:01] <huon> bvssvni: it depends what the angle is modelling, yeah
[07:28:28] <bollu> bvssvni: you rarely use polar to interpolate because it doesn't do it evenly. that's where quaternions come in!
[07:28:32] <bollu> and slerp of course :)
[07:28:55] <huon> (note that using a huge range will cause numeric roundoff errors to accumulate more quickly)
[07:29:05] <bvssvni> bollu: in 3D yes
[07:29:18] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[07:29:59] <bollu> huon: yeah, that I realized. I think floating point is sufficiently precise to handle like 10 pi
[07:30:03] <bollu> naybe more
[07:30:06] <bollu> maybe*
[07:30:38] <bollu> huon: floating point precision falls of logarithmically right?
[07:31:29] <bollu> bvssvni: continue :)
[07:31:46] *** Joins: nkoep (nik@moz-C0153B76.pool.mediaways.net)
[07:31:50] <bvssvni> bollu: as a thumb rule, f32 gives you 7 decimals accuracy at low values
[07:32:08] <bvssvni> bollu: at least according some lecture I watched
[07:32:24] <bvssvni> bollu: I like to use f64, because it gives better accuracy
[07:32:40] <bvssvni> bollu: *much* better
[07:33:16] <bollu> bvssvni: hmm, but I don't think it's worth it for a *game*. oh well, let's see :) if I need more precision, I guess I'll switch to f64
[07:33:36] <bollu> bvssvni: you were talking about interpolation in 2d
[07:33:45] <bvssvni> bollu: how many objects do you want in the game?
[07:33:45] <bollu> and how angles > 2pi are benifical
[07:34:12] <bollu> bvssvni: the world's not going to be ridiculously large so I doubt I'll get floating point errors
[07:34:49] <bollu> ~100 * 64 pixels maybe. and I'm not sure about the objects.
[07:34:52] <bollu> 100
[07:34:53] <bvssvni> bollu: cpus are 64 bit now, so there is smaller difference than before
[07:35:14] <bollu> bvssvni: true, but I see no point to use f64 when f32 should suffice
[07:35:23] <bvssvni> bollu: it is easier to go the other way around
[07:35:44] <bvssvni> bollu: start with f64 and then switch to f32 if you run out of ways to optimize
[07:36:11] <bvssvni> bollu: besides, when you write file formats, you will regret starting with f32
[07:36:39] <bollu> bvssvni: okay :)
[07:36:40] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[07:36:50] *** Joins: six600110 (six600110@moz-9117A1DE.hsd1.il.comcast.net)
[07:36:50] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[07:36:51] <bvssvni> bollu: I would consider f32 for shaders, but not for cpu
[07:37:03] <bollu> bvssvni: if I use polar coordinates to interpolate, then won't I run into problems in the angles aren't clamped?
[07:37:23] <bvssvni> bollu: it depends on how you look at it
[07:37:51] <bvssvni> bollu: if you have a rotation of a ball
[07:38:02] <bvssvni> bollu: you want to spin it around 4 times per sec
[07:38:20] <bvssvni> bollu: so you create two different keys
[07:38:55] <bvssvni> bollu: hmm
[07:39:00] <bollu> ?
[07:39:12] <bvssvni> bollu: ok, forget that example :P
[07:39:18] <bollu> :)
[07:39:35] <bvssvni> bollu: if you want to turn a character the shortest direction
[07:39:52] <bvssvni> bollu: then the angle between should always be in the range (-pi, pi)
[07:40:18] <bvssvni> bollu: it doesn't matter what the inputs are, if the angle between returns the correct range
[07:40:44] *** Quits: drk (Mibbit@moz-56E9B128.lns20.syd7.internode.on.net) (Quit: http://www.mibbit.com ajax IRC Client)
[07:41:05] <bollu> bvssvni: yeah, so angles *should* be clamped right?
[07:41:38] <bvssvni> bollu: in the angle between function, but not necessarily in the state per object
[07:42:17] <bollu> bvssvni: ah, that makes sense.
[07:42:21] <bvssvni> bollu: all 3D objects are likely to have position, orientation, sometimes scale and in a few cases skew
[07:42:30] <bollu> bvssvni: nope, 2d
[07:43:03] <bvssvni> bollu: in 2d it's position, rotation, scale and skew
[07:43:16] *** Quits: blindrenderer (blindrende@F9033757.329A1D83.D01D599A.IP) (Quit: Leaving)
[07:43:19] <bvssvni> bollu: orientation = quaternion or euler angles
[07:43:57] <bvssvni> bollu: all these put together can generate a matrix
[07:44:12] <bollu> bvssvni: yeah, I haven't gotten to that part yet :) 
[07:44:30] <bollu> bvssvni: you're explaining projective geomtry aren't you :D
[07:44:31] <bollu> ?
[07:44:44] <bvssvni> bollu: not projective
[07:45:11] <bollu> bvssvni: the 4x4 matrix that you get *is* in projective space AFAIK
[07:45:28] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[07:45:30] <bvssvni> bollu: I am most familiar with 2D
[07:45:44] <bvssvni> bollu: a 4x4 can be a projective matrix, I know
[07:45:54] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[07:46:02] <bollu> bvssvni: ah, I've mostly done 3d >_<. okay, go ahead
[07:46:14] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[07:46:24] <bvssvni> bollu: unit quaternions are only for orientation
[07:46:36] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[07:46:39] <bvssvni> bollu: when you interpolate, you might want to interpolate position independently
[07:47:04] <bvssvni> bollu: unless you use dual quaternions, but that's harder mathematically
[07:47:04] *** Quits: victorporof_ (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Ping timeout)
[07:47:14] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[07:47:21] <bvssvni> bollu: so think of a state as layers
[07:47:42] <bvssvni> bollu: every layer can generate a matrix
[07:47:53] <bvssvni> bollu: and when you take the product of these matrices
[07:48:05] <bvssvni> bollu: you get the matrix for the whole object
[07:48:12] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Ping timeout)
[07:48:34] <bvssvni> bollu: then you need to transform points from one matrix to another to things like collision
[07:48:40] <bollu> bvssvni: how is this different from the 4x4 situation? where I multiply transpose * rotationxyz * scale?
[07:48:47] <bollu> *parent*modelview?
[07:49:05] <bvssvni> bollu: you use matrices to render 3D too
[07:49:11] <bollu> yeah...
[07:49:22] <bvssvni> bollu: it just you need them internally in the world to deal with the logic
[07:49:44] <bollu> bvssvni: wait, what __are__ you explaining? If you
[07:49:47] <bollu> if yoy'
[07:50:01] <bollu> if you're explaining how to maintain a matrix, I know that :)
[07:50:08] <bollu> if it's something else, go ahead :D
[07:50:08] <bvssvni> bollu: ok :)
[07:50:36] *** Joins: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se)
[07:50:51] <bollu> bvssvni: I was under the impression you were explaining to me why angles are better unclamped
[07:50:51] <bvssvni> bollu: I've been working with it too much, just going on talking :P
[07:50:58] <bollu> ah well, nvm :)
[07:51:08] <bollu> bvssvni: heh, that happens to everyone :)
[07:51:36] <bvssvni> bollu: as a general rule, preserve assumptions by operations
[07:51:47] *** Joins: tristramh (tris@moz-A60B3BF9.lns20.syd6.internode.on.net)
[07:52:05] <bollu> bvssvni: whoa, that makes so much sense
[07:52:23] *** Joins: mgottschlag (quassel@moz-DAB57931.cust.bluewin.ch)
[07:52:52] <bvssvni> bollu: types almost never match the assumptions exactly
[07:53:36] <bvssvni> bollu: for example in GLSL, a vec4 is used for colors too
[07:54:02] <bvssvni> bollu: it is just a slot to store the information requires
[07:54:34] <bvssvni> bollu: in mathematics it is hard to build assumptions into the types
[07:55:21] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[07:55:28] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[07:56:18] *** Quits: luz (lu.cy@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[07:56:32] <bollu> bvssvni: afaik, when you access uniforms you can denote that it's a "color 
[07:56:35] <bollu> and not a direction
[07:56:41] *** Quits: tristramh (tris@moz-A60B3BF9.lns20.syd6.internode.on.net) (Ping timeout)
[07:56:53] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[07:56:57] <bollu> bvssvni: but yeah, in general that's true
[07:57:23] <bvssvni> bollu: a vec4 can be point, coordinate, color and quaternion
[07:57:31] *** Joins: luziie (luziie@moz-CD18B14B.customer.cdi.no)
[07:58:20] <bollu> bvssvni: hmm, I don't remember fully TBH, but I *think* that vertex, normal and color were different things
[07:58:35] <bollu> like, from the shading language they were a vec4
[07:58:50] <bollu> but to access them from C++, you had to use the correct glUniform* function
[07:58:54] *** Quits: DanC (connolly@moz-BEA079AC.kumc.edu) (Ping timeout)
[07:58:57] <bollu> I don't remember exactly
[07:59:17] <bvssvni> bollu: yeah, it's because of the derived Gaussian interpolation etc.
[07:59:32] <bvssvni> bollu: calculating the input to the fragment shader
[07:59:42] <bollu> and varyings had different types too right? like, front and back were two different things
[07:59:48] <bollu> front color* and back color*
[07:59:51] *** Joins: twi (Adium@moz-231F02E1.cust.vodafonedsl.it)
[07:59:53] <bvssvni> bollu: yeah
[08:00:05] <bollu> been a while since I've written shaders
[08:00:41] <bollu> bvssvni: how are the tesselation shaders? I haven't used them. I think dx(11)? introduced them
[08:00:56] <bvssvni> bollu: I am not into how that works
[08:01:20] <bvssvni> bollu: my experience with OpenGL is limited and spread out over many years
[08:02:16] <bvssvni> bollu: I read some about gigavoxel techniques and virtual textures
[08:02:36] *** Quits: Jarrett (chatzilla@moz-465FA06E.dhcp.rvsd.ca.charter.com) (Ping timeout)
[08:02:55] <bvssvni> bollu: but implementing it seems pretty hard
[08:03:01] <bollu> bvssvni: nope, have not read about those.
[08:03:18] <bvssvni> bollu: gigavoxel is used in Unreal 5 Engine
[08:03:36] <bvssvni> bollu: John Carmack uses virtual textures
[08:04:09] <bollu> bvssvni: aren't they called MegaTextures? I was used in
[08:04:24] <bvssvni> bollu: yeah, I think it's the same
[08:04:36] <bollu> hm, trying to remember the name of the game - 
[08:04:43] <bvssvni> Rage
[08:04:44] <bollu> ah yes, rage
[08:05:13] *** Joins: pczarn (pczarn@moz-69A55FA.izacom.pl)
[08:05:35] <bollu> gigavoxel seems awesome
[08:05:39] <bollu> will read up
[08:06:07] <bvssvni> bollu: it was a phd thesis
[08:06:43] <bollu> bvssvni: have you ever written a rasterizer? I've always wanted to write the entire graphics stack from scratch... 
[08:07:04] <bvssvni> bollu: I copied and modified some examples
[08:07:15] <bvssvni> bollu: spherical harmonics is cool
[08:07:22] <bvssvni> bollu: gives you more waxy look
[08:07:55] <bollu> bvssvni: I've read *just* enough spherical harmonics to plot wave functions
[08:08:01] <bollu> I don't even know it properly -_-
[08:08:09] <bvssvni> bollu: I still don't understand it :P
[08:08:29] <bollu> bvssvni: yeah, I saw the equations and just plotted it
[08:08:34] *** Joins: edwardw (Mibbit@6F971E73.71427BF8.1D660E71.IP)
[08:09:06] <bvssvni> bollu: I think it is a 3D function that approximates light incoming from different directions
[08:09:14] *** Joins: mceier (mceier@moz-C1591437.dynamic.chello.pl)
[08:09:28] <bollu> bvssvni: no, not really. as far as I understand it, it represents standing waves in 3d
[08:09:33] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[08:09:41] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[08:09:44] <bollu> like, total divergence of your vector field should be zero if I remember correctly
[08:09:54] <bollu> so del.del(f(x, y, z)) = 0
[08:10:00] <bvssvni> bollu: the amplitudes of the waves is the intensity of light I think
[08:10:37] <bollu> bvssvni: I'm not sure how it correlates to CG, I read it so that I could plot orbitals
[08:10:48] <edwardw> rusti: type Id<'a> = 'a |u32| -> u32; let id: Id = |x| x; id(10)
[08:10:49] -rusti- 10u32
[08:10:58] <bollu> finally I gave up reading and just decided to use the equations
[08:11:08] <bollu> like, they're in spherical coordinates
[08:11:18] <bollu> so find si^2 and plot the radial component
[08:11:18] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:11:27] <bollu> idk, that's all I know about it >_<
[08:11:36] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[08:11:48] <bvssvni> bollu: move to #rust-offtopic?
[08:11:50] <bollu> s1 = wave function btw
[08:11:54] <bollu> yeah, sure I guess xD
[08:15:29] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[08:15:34] *** Joins: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de)
[08:15:37] *** Parts: edwardw (Mibbit@6F971E73.71427BF8.1D660E71.IP) ()
[08:16:19] *** Joins: DanC (connolly@moz-4039CBE6.dyn.everestkc.net)
[08:16:24] *** Joins: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com)
[08:19:12] *** Joins: tristramh (tris@moz-A60B3BF9.lns20.syd6.internode.on.net)
[08:22:10] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[08:23:43] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:23:47] *** Quits: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net) (Ping timeout)
[08:24:12] *** Quits: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP) (Ping timeout)
[08:24:28] *** Joins: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net)
[08:24:56] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:25:07] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:28:07] *** Quits: brson (brson@981AA104.E81F12CD.76F66111.IP) (Quit: leaving)
[08:32:12] <utkarsh> anyone know why Instruments.app says this program allocated 2.7TB of memory?
[08:32:15] <utkarsh> https://gist.github.com/76bbac36c94eb7c2fed1
[08:32:28] *** Joins: jroweboy (jrowe7@moz-18814A6B.provo.static.broadweavenetworks.net)
[08:32:46] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[08:34:13] *** Quits: jroweboy (jrowe7@moz-18814A6B.provo.static.broadweavenetworks.net) (Quit: Leaving.)
[08:34:31] <utkarsh> Screenshot: http://cl.ly/image/422J0f1e3q3m
[08:34:34] *** Joins: jroweboy (jrowe7@moz-18814A6B.provo.static.broadweavenetworks.net)
[08:35:17] <Ralith> how long did you leave it running?
[08:35:26] <utkarsh> 0.12 sec
[08:35:35] <utkarsh> it just writes 6MB to memory
[08:36:03] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[08:36:50] <utkarsh> for 7MB it says 3.2TB
[08:37:26] <whitequark> that's 3.2TB of address space perhaps?
[08:38:37] *** Joins: skade (skade@moz-F3F67608.pools.arcor-ip.net)
[08:38:43] *** Joins: alonlevy (alon@1E965D02.56017D2D.662727B.IP)
[08:41:50] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:41:56] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:42:16] <utkarsh> hmm, I don't know the difference...
[08:42:46] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[08:43:22] <utkarsh> mut "" and push_str shows 16MB, I was just trying to compare
[08:44:03] <kimundi> utkarsh: consuming X amount of address space == memory the program claimed, but never used, so it didn't actually allocate it physically anywhere yet
[08:45:12] <whitequark> yeah. or, you could mmap a file of that size
[08:45:17] <kimundi> Like, each Rust task consumes somewhat like 8MB address space for its stack, but as long as nothing uses it it will only tax the memory with a few KB
[08:46:03] <kimundi> Right, mmap does also consuem address space, but in that case the memory is actually on a harddrive
[08:46:57] <whitequark> in this case it's a gigantic heap allocation though
[08:47:24] *** Joins: tetsuharu (tetsuharu@moz-C286AD9A.bitcat.net)
[08:47:25] <utkarsh> ah yeah, I've done in C before
[08:47:28] *** Joins: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP)
[08:47:43] <utkarsh> but why would MemWriter do that?
[08:48:44] <aatch> utkarsh, are you sure you're reading Instrument's correctly?
[08:49:34] *** Quits: tetsuharu (tetsuharu@moz-C286AD9A.bitcat.net) (Quit: )
[08:51:39] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Client exited)
[08:51:45] <utkarsh> not sure
[08:51:52] *** Quits: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP) (Ping timeout)
[08:52:54] *** Joins: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP)
[08:54:07] <aatch> utkarsh, so "Overall Bytes" shows the number of bytes allocated, even if they have been released
[08:55:28] <aatch> I don't know why it shows so much, might be that Rust is doing something Instruments doesn't understand.
[08:59:24] *** Joins: matp (matp@moz-16FE1E05.matp.at)
[08:59:57] *** Quits: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP) (Input/output error)
[09:00:16] *** Joins: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP)
[09:01:57] *** Quits: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP) (Ping timeout)
[09:03:24] *** Joins: Ms2ger (Ms2ger@moz-D1296957.adsl-dyn.isp.belgacom.be)
[09:03:48] <utkarsh> valgrind on ubuntu - "total heap usage: 50,090 allocs, 50,089 frees, 8,751,378,156 bytes allocated" when writing 350KB
[09:05:02] *** Quits: mgottschlag (quassel@moz-DAB57931.cust.bluewin.ch) (Ping timeout)
[09:07:35] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[09:10:18] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[09:10:30] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[09:10:30] *** ChanServ sets mode: +o jdm
[09:11:07] *** Quits: tristramh (tris@moz-A60B3BF9.lns20.syd6.internode.on.net) (Ping timeout)
[09:11:28] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[09:11:44] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[09:12:11] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[09:12:19] *** Parts: six600110 (six600110@moz-9117A1DE.hsd1.il.comcast.net) (Ex-Chat)
[09:12:48] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[09:12:50] *** Quits: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net) (Quit: telotortium)
[09:12:59] *** Joins: richard|s (mindginati@moz-47C51C0D.dyn.cust.vf.net.nz)
[09:13:21] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[09:14:04] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[09:14:17] *** Quits: richard|s (mindginati@moz-47C51C0D.dyn.cust.vf.net.nz) (Input/output error)
[09:14:33] *** Joins: richard|s (mindginati@moz-47C51C0D.dyn.cust.vf.net.nz)
[09:15:11] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[09:15:12] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[09:15:36] *** Joins: tetsuharu (tetsuharu@moz-C286AD9A.bitcat.net)
[09:15:39] *** Quits: tetsuharu (tetsuharu@moz-C286AD9A.bitcat.net) (Client exited)
[09:16:01] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[09:17:05] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[09:17:47] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[09:19:10] *** Joins: jiojiajiu (jiojiajiu@moz-7455BF89.revip7.asianet.co.th)
[09:20:09] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[09:21:01] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[09:22:02] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[09:22:46] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[09:23:47] <huon> utkarsh: geeez, I see `209,210 allocs, 209,051 frees, 131,128,909,158 bytes allocated` for gist you posted earlier... and that's killing it early before it finishes
[09:24:08] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[09:24:13] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[09:24:32] * huon wonders if MemWriter is doing super-bad things internally
[09:25:06] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[09:25:43] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[09:26:08] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[09:27:08] *** Joins: mindcat (mindcat@1F0EF140.51411C19.D6E1F3C4.IP)
[09:27:44] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[09:27:53] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Ping timeout)
[09:27:56] <mindcat> how can I swap same type vector without any copy?
[09:28:20] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[09:28:36] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[09:29:03] <huon> you have e.g. a: ~[T] and b: ~[T] and want to put a into b and b into a?
[09:29:50] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[09:29:59] <huon> http://static.rust-lang.org/doc/master/std/mem/fn.swap.html
[09:30:01] <huon> if so
[09:30:17] <mindcat> huon: let a = ~[1,2,3,4]; let b = ~[]; swap(a,b); assert_eq!(b, ~[1,2,3,4]); assert_eq!(a,~[])
[09:30:19] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[09:30:43] <mindcat> it should be without any copy
[09:31:11] <huon> yes
[09:31:13] *** Joins: dougxxx (dougxxx@moz-21B0BD70.dyn.iinet.net.au)
[09:31:26] <huon> that's std::mem::swap
[09:31:55] <mindcat> then what is ptr::copy_nonoverlapping_memory?
[09:32:15] <huon> unsafe
[09:32:31] <mindcat> huon: I just see "copy"
[09:32:59] <mindcat> huon: it doesn't copy right?
[09:33:47] *** Joins: Ferreus (ferreus@moz-D8A465BB.lsn.wtnet.de)
[09:33:57] <huon> what?
[09:34:06] <doomlord_> trying trait objects for a ui framework.. back in c++ i often found myself missing manually rolled vtables (ability to make a state change by swapping vtable ptr), i'm wondering if trait objects have any interesting possibilities here
[09:34:09] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[09:34:24] <huon> mindcat: did you read the docs I linked you?
[09:34:26] <mindcat> huon: http://static.rust-lang.org/doc/master/src/std/home/rustbuild/src/rust-buildbot/slave/doc/build/src/libstd/mem.rs.html#136-150
[09:34:34] <huon> "Swap the values at two mutable locations of the same type, without deinitialising or copying either one."
[09:34:34] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[09:34:50] <huon> it has to take the bytes from b and put them into a and vice versa
[09:34:59] <huon> i.e. the 8 bytes for the pointer
[09:35:09] <mindcat> huon: just pointer right?
[09:35:12] <huon> it doesn't follow pointers or anything: it's a shallow copy
[09:35:13] <huon> yes
[09:35:19] <mindcat> huon: ok
[09:35:20] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[09:36:11] <mindcat> oh, I am blinded
[09:36:19] <mindcat> ptr::copy_nonoverlapping_memory(&mut t, &*x, 1);
[09:36:27] <mindcat> "1"
[09:37:26] <mindcat> huon: thanks :D
[09:38:29] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[09:40:09] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[09:40:24] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[09:42:29] <dougxxx> can someone point me in the right direction for understanding why ref blah in a match statement makes blah exist outside of the match block?
[09:42:34] <dougxxx> and why that isn't unsafe?
[09:43:51] <Ms2ger> Huh
[09:43:56] <Ms2ger> Does it really?
[09:44:04] *** Joins: alexherbo2 (alexherbo2@moz-A456CD9C.w83-199.abo.wanadoo.fr)
[09:45:00] <dougxxx> Unless I'm misunderstanding what this gist does -> https://gist.github.com/anonymous/9427991
[09:45:44] <Ms2ger> Oh
[09:46:04] <Ms2ger> That just gives you a pointer into x
[09:46:27] <dougxxx> and since x is in scope, it's fine.
[09:46:41] <Ms2ger> Yep
[09:46:45] <dougxxx> ...but isn't having a pointer into an enum unsafe?
[09:47:10] <Ms2ger> Why?
[09:47:10] <aatch> dougxxx, nope
[09:47:11] <dougxxx> * into an element of an enum's value
[09:47:28] <aatch> unless you change the enum while the pointer is still active
[09:47:33] <aatch> or the enum gets freed
[09:47:38] <dougxxx> yeah
[09:47:42] <aatch> however, Rust prevents that.
[09:48:19] <dougxxx> If I have an arbitrary pointer into some complex structure, it'll keep track of the whole thing and lock it against changes?
[09:48:29] <dougxxx> complex enum that is
[09:49:06] <Ms2ger> Yep
[09:49:06] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[09:49:07] <aatch> dougxxx, yep. In order to borrow a field of a structure, you have to borrow the structure itself.
[09:49:16] <aatch> this is recursive.
[09:49:18] *** Joins: eibwen (kvirc@moz-40E704BF.dip0.t-ipconnect.de)
[09:49:52] <dougxxx> ok, so why can't I just go: let x = A(EventOne { x: 0.1, y: 0.1}, ~"Hello"); let z = x.A; ?
[09:50:24] <Ms2ger> What if x actually was a B?
[09:51:22] <dougxxx> mm... I suppose. 
[09:51:34] <dougxxx> Guarding it with an if statement isn't really explicit
[09:52:40] *** Joins: tristramh (tris@moz-A60B3BF9.lns20.syd6.internode.on.net)
[09:53:00] <dougxxx> hm, well, fair enough. Thanks for helping clear it up~
[09:53:36] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Quit: mbx)
[09:53:57] <Ms2ger> Np
[09:55:25] *** Quits: eibwen (kvirc@moz-40E704BF.dip0.t-ipconnect.de) (Ping timeout)
[09:57:13] *** Joins: onelson (owen@18CF7301.95770028.5B6BFE7D.IP)
[09:58:07] *** Joins: mgottschlag (quassel@moz-DAB57931.cust.bluewin.ch)
[10:01:42] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[10:01:43] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[10:06:04] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[10:08:50] *** Joins: mindcat_ (mindcat@EFC2CF7A.DC005319.857BDFA9.IP)
[10:09:33] *** Quits: mindcat (mindcat@1F0EF140.51411C19.D6E1F3C4.IP) (Ping timeout)
[10:11:11] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[10:11:38] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[10:12:46] *** Joins: jackneill (jackneill@moz-F0F0BE79.pool.digikabel.hu)
[10:13:07] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[10:13:51] *** Quits: richard|s (mindginati@moz-47C51C0D.dyn.cust.vf.net.nz) (Quit: brb)
[10:14:35] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[10:14:48] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[10:14:52] *** Joins: mindcat (mindcat@112FCBED.D4C5FDA0.E47F7BFE.IP)
[10:15:06] *** Joins: richard|s (mindginati@moz-47C51C0D.dyn.cust.vf.net.nz)
[10:15:38] *** Quits: mindcat_ (mindcat@EFC2CF7A.DC005319.857BDFA9.IP) (Ping timeout)
[10:16:18] *** Joins: eibwen (kvirc@moz-40E704BF.dip0.t-ipconnect.de)
[10:16:41] *** Quits: mindcat (mindcat@112FCBED.D4C5FDA0.E47F7BFE.IP) (Ping timeout)
[10:18:59] *** Quits: eibwen (kvirc@moz-40E704BF.dip0.t-ipconnect.de) (Ping timeout)
[10:19:31] *** Joins: kris (kris@moz-66DEA6E5.dk.customer.tdc.net)
[10:19:55] *** Joins: mindcat (mindcat@3A9E09C7.90785442.291A146C.IP)
[10:20:46] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[10:21:39] <dougxxx> If you have a structure with a Option<T> in it, how do you initialize it with None?
[10:21:39] *** Quits: mindcat (mindcat@3A9E09C7.90785442.291A146C.IP) (Connection reset by peer)
[10:21:58] <dougxxx> Without getting 'cannot determine a type for this local variable: unconstrained type'
[10:23:17] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[10:24:25] *** bollu is now known as bollu|away
[10:24:57] *** Joins: mindcat (mindcat@BCF489F.EEF2A000.F956842C.IP)
[10:25:44] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[10:27:39] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[10:28:21] *** Quits: pepper_chico (pepper_chi@moz-E15D42C8.dsl.telesp.net.br) (Quit: WeeChat 0.4.1)
[10:28:23] *** Joins: q66 (q66@moz-E9DF1026.dab.02.net)
[10:29:50] *** Quits: bvssvni (Mibbit@moz-C4579D6F.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[10:30:06] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[10:31:10] <kimundi> dougxxx: That error message means type inference could not determine which type to choose
[10:31:18] *** Quits: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se) (Ping timeout)
[10:31:46] <kimundi> dougxxx: So, the assignment works fine, you just need to give some hint in the code what T the compiler should pick
[10:32:00] *** Joins: soumyaC (uid15286@moz-E77DEB21.irccloud.com)
[10:32:40] <dougxxx> ok, how do I do that?
[10:32:57] <Ms2ger> expected dom::bindings::conversions::FromJSValConvertible<()>, but found dom::bindings::conversions::FromJSValConvertible<dom::bindings::conversions::StringificationBehavior> (expected () but found enum dom::bindings::conversions::StringificationBehavior)
[10:32:58] <Ms2ger> match FromJSValConvertible::<()>::from_jsval(cx, (*argv.offset(0)), ()) {
[10:33:00] <Ms2ger> Wat
[10:33:45] <kimundi> You can do that by giving the local variable an explicit type, or by using it with other functions which will only work with a specific type, or by explicitly annotating one of the expressions with a type
[10:34:17] <kimundi> for example "let x: Option<uint> = None;", or "let x = None::<uint>;"
[10:37:12] * Ms2ger pokes eddyb 
[10:38:08] <eddyb> hmm
[10:38:45] <eddyb> Ms2ger: crap
[10:38:54] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[10:39:30] <eddyb> Ms2ger: that's why I said you should have two methods
[10:39:44] <Ms2ger> Mm
[10:39:48] <eddyb> Ms2ger: well, I initially said that because having () everywhere is nasty
[10:39:56] <Ms2ger> I don't really want two methods, though :)
[10:40:07] <eddyb> isn't the implementation footprint small?
[10:40:10] <dougxxx> kimundi: Specifically then, how on earth do I call: impl<T> Gen<T> { fn new<T>() -> Gen<T> { return Gen { data: None::<T> }; } }
[10:40:19] <Ms2ger> I'm codegenning all the callers, so () everywhere is actually cleaner
[10:40:32] <eddyb> ohh
[10:40:34] <dougxxx> Gen::<int>::new::<int>(); ? O_o
[10:40:34] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[10:40:47] <kimundi> dougxxx: Yes, because you declared two different Ts there :)
[10:40:47] <eddyb> dougxxx: don't make new generic
[10:40:49] <huon> Ms2ger: btw, I gave up on the alphabetising imports lint
[10:41:01] <huon> various implementation details made it too annoying, sorry :(
[10:41:07] <eddyb> lol
[10:41:10] <huon> file a bug :)
[10:41:17] <eddyb> huon: strings are hard, amirite?
[10:41:26] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[10:41:31] *** Quits: kris (kris@moz-66DEA6E5.dk.customer.tdc.net) (Ping timeout)
[10:41:32] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[10:41:48] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[10:41:52] <eddyb> it's like the opposite of awk or Perl, were you juggle them most of the time
[10:43:01] <dougxxx> oic; it should just be fn new() -> Gen<T> and Gen::<int>::new();
[10:43:06] <kimundi> yup
[10:43:10] <Ms2ger> huon, okay, thanks for trying :)
[10:43:13] <dougxxx> That syntax should totally go in the tutorial.
[10:43:14] <dougxxx> :P
[10:43:25] <kimundi> or just let x: Gen<int> = Gen::new();
[10:43:27] <eddyb> isn't List::new defined in the tutorial?
[10:43:28] *** Joins: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de)
[10:43:29] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[10:43:45] <huon> eddyb: more like, going from idents -> strings and sorting and handling edgecases properly is hard
[10:43:57] <eddyb> idents -> strings is easy
[10:44:08] <eddyb> I guess not as easy as it would be with Rc<str>
[10:44:10] <huon> view item use paths
[10:44:16] <eddyb> ahh right
[10:44:30] * huon shouldn't've said `ident`
[10:45:04] <kimundi> There it is again, the fabled double contraction
[10:45:11] <eddyb> dougxxx: maybe we should lint against static methods not using all the type parameters of the impl
[10:45:13] <dougxxx>  let x: Gen<int> = Gen::new(); <-- ah, that syntax makes more sense. The blah::<T>::blah::<T> syntax is pretty confusing I think.
[10:45:22] <dougxxx> yeah
[10:45:23] *** Joins: io2 (io2@moz-EE406A5.home.otenet.gr)
[10:45:25] <eddyb> dougxxx: or just static methods that don't include the type of the impl
[10:45:47] <eddyb> the type of your impl was Gen<first T> and the method returned Gen<second T>
[10:45:57] <dougxxx> yep; I assumed both T -> same type
[10:45:57] <eddyb> so it didn't technically belong in the impl :P
[10:46:04] <kimundi> dougxxx: The ::<> stuff is just to have a way to explicitly annotate in cases where you can't use inference or type hints
[10:47:25] <dougxxx> ...which happens quite a lot. :P
[10:47:28] *** Joins: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se)
[10:47:40] <dougxxx> yeah, awesome though. Thanks~
[10:47:41] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Quit: )
[10:48:37] * kimundi hopes Rust gets partial type hints soon-ish
[10:48:58] <eddyb> kimundi: oh that's trivial
[10:49:00] * huon hopes _ gets partial _ hints soon-ish
[10:49:30] <eddyb> but I have other things to care about. I can tell you how to do it if you want to implement it
[10:49:30] <kimundi> eddyb: How trivial? :P
[10:49:44] <kimundi> I'd like to actually hack on the compiler
[10:49:45] <eddyb> twenty lines?
[10:49:49] <kimundi> oooh, nice
[10:49:59] <eddyb> add support for it in the AST and in the parser (Option somewhere :P)
[10:50:02] <huon> https://github.com/mozilla/rust/issues/9508 is the issue, fwiw
[10:50:04] *** Joins: marwy (user@41303A68.5C2AEEF8.CFA44423.IP)
[10:50:18] <mindcat> lol
[10:50:19] <huon> eddyb: just reuse TyInfer, right?
[10:50:23] <eddyb> then go into middle/typeck/{astconv,collect,mod}
[10:51:05] <mindcat> does I used "moved" value? code: https://gist.github.com/mindcat/9428656 error: http://paste.ubuntu.com/7055095/
[10:51:07] <eddyb> maybe only mod. can grep for ".default" - there's code converting given type params from AST to the type system
[10:51:34] <eddyb> huon, kimundi: yeah, TyInfer is used when you don't supply type params in paths
[10:51:37] *** Quits: jiojiajiu (jiojiajiu@moz-7455BF89.revip7.asianet.co.th) (Ping timeout)
[10:51:40] <eddyb> just use it when _ is given
[10:51:53] <eddyb> (make sure to use the same incantation for creating those TyInfer)
[10:51:54] <kimundi> eddyb: Just to be on the same side, we're talking about something like "let x: Foo<_> = foo();" here, right?
[10:52:32] <eddyb> well, HashMap::<_, _, Hasher>::new() is easier to implement
[10:52:35] <huon>     // TyInfer means the type should be inferred instead of it having been
[10:52:36] <huon>     // specified. This should only appear at the "top level" of a type and not
[10:52:36] <huon>     // nested in one.
[10:52:43] <huon> is the comment
[10:52:54] <huon> seems reasonable to just delete the last sentence and the patch is done
[10:52:56] <huon> ;P
[10:53:00] <eddyb> huon: nope
[10:53:09] <eddyb> or maybe... not sure
[10:53:21] <huon> eddyb: that's straight from ast.rs
[10:53:23] <eddyb> huon: Rc<infer> is already possible today
[10:53:30] <eddyb> ahh that's a different one
[10:53:31] <huon> eddyb: how?
[10:53:41] <huon> yeah, not ty::middle::ty_infer
[10:53:41] <eddyb> Rc::new() has T = ty_infer
[10:53:44] <huon> or whatever the name is
[10:53:46] <eddyb> you confused me
[10:53:57] <eddyb> you can't use TyInfer in the AST
[10:53:59] <huon> *middle::ty::
[10:54:05] <eddyb> or can you?
[10:54:15] <huon> yes, and adding _ would be creatinga  use for it
[10:54:32] <eddyb> kimundi: okay, even simpler, try what huon says, using the AST TyInfer where _ is found in generics
[10:54:46] <huon> eddyb: it's used for `let x = 1;`
[10:54:50] <eddyb> that may work... I'm not sure how it's handled
[10:54:53] <kimundi> Okay, but could I get a more concise bullet list of things to change? :)
[10:54:56] <huon> becomes a StmtLocal with ty = TyInfer
[10:54:56] <eddyb> huon: silly me then
[10:55:07] *** Quits: skade (skade@moz-F3F67608.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[10:55:11] <eddyb> kimundi: just the parser, assuming nothing breaks
[10:55:11] <huon> kimundi: change parse_ty to parse token::UNDERSCORE as TyInfer
[10:55:18] *** Joins: sunng (nsun@7596BDFA.E808BB47.22FB3285.IP)
[10:55:22] <huon> in syntax::parse::parser
[10:55:34] * huon is guessing at the "parse_ty" name
[10:55:38] <eddyb> huon: you're choosing the most dangerous solution
[10:55:46] *** Joins: io2 (io2@moz-EE406A5.home.otenet.gr)
[10:55:48] <huon> dangerous?
[10:55:50] <eddyb> inb4 accidental global type inference
[10:56:06] <huon> you'll also want to have a check that top level type signatures don't inclue TyInfer
[10:56:16] <eddyb> huon: it might already be there
[10:56:35] <eddyb> I think so, in astconv
[10:56:44] <huon> there's a span_bug there yeah
[10:57:02] <huon> kinda
[10:57:21] <huon> it doesn't appear to be directly connected to "top level"
[10:58:10] <eddyb> I didn't think to be so radical
[10:58:31] <huon> you gotta live life on the edge
[10:58:42] <huon> find your wild side
[10:59:44] * kimundi is hopelessly lost in the compiler, and would appreciate any actual helpful, non conflicting guidance :P
[10:59:47] <eddyb> I was guessing by the way Foo::bar() adds ty_infer for every generic type param in there
[11:00:02] <eddyb> kimundi: just go in libsyntax/parse/parser.rs
[11:00:12] <huon> kimundi: https://botbot.me/mozilla/rust/msg/11858065/
[11:00:21] <huon> was serious advice
[11:00:39] <kimundi> Right, I'm doing that right now :)
[11:00:48] * huon -> #rust-internals
[11:02:36] *** Quits: sunng (nsun@7596BDFA.E808BB47.22FB3285.IP) (Connection reset by peer)
[11:02:48] *** Quits: luziie (luziie@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[11:03:02] *** Joins: gimpf (gimpf@moz-33C16BB9.adsl.highway.telekom.at)
[11:03:58] *** Joins: luz (lu.cy@moz-CD18B14B.customer.cdi.no)
[11:04:16] *** Quits: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de) (Connection reset by peer)
[11:04:54] *** Quits: darthdeus (darthdeus@AAEAC920.7D4E3986.4E88690D.IP) (Quit: Leaving...)
[11:06:49] *** Joins: marianoguerra (marianogue@moz-CD9428A9.dip0.t-ipconnect.de)
[11:10:02] *** Joins: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl)
[11:10:38] <utkarsh> how can I get the int out of `struct Foo(int); let foo = Foo(10);`?
[11:10:56] <utkarsh> except by match { }
[11:10:59] <eddyb> let Foo(x) = foo;
[11:11:09] <eddyb> I like match because it's fluid
[11:11:20] *** Quits: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se) (Ping timeout)
[11:11:23] * huon much prefers let for those patterns
[11:11:37] <eddyb> but you have to do {let Foo(v) = foo; v} :/
[11:11:52] <huon> or just use v?
[11:11:58] <eddyb> if you want to use the value (I have autogenerated code doing that)
[11:12:02] <huon> depends where you're using it I guess
[11:12:25] <huon> let probably code-gens better, fwiw
[11:12:41] <eddyb> you wish
[11:12:48] <utkarsh> hmm, Foo(x) would be good for what I'm writing, thanks
[11:12:57] <eddyb> v is always an alloca
[11:13:03] <leonvv> What is the difference between Gc and Rc?
[11:13:09] *** Quits: alonlevy (alon@1E965D02.56017D2D.662727B.IP) (Ping timeout)
[11:13:28] <eddyb> though the match isn't much better
[11:13:33] <doomlord_> garbage collection vs refcounting
[11:13:33] <eddyb> huon: bleah trans bleah
[11:13:37] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[11:13:49] <eddyb> Pod vs affine
[11:13:50] <doomlord_> recounting suffers cycles
[11:14:03] <doomlord_> recounting needs no runtime
[11:14:21] <leonvv> doomlord_: I thought refcounting was a type of garbage collection
[11:14:29] <eddyb> not really
[11:14:40] <huon> eddyb: matches used to be super horrible
[11:15:00] <eddyb> GC mostly refers to the non-interactive kind of collection
[11:15:09] <eddyb> where you can copy pointers around and whatnot
[11:15:15] <doomlord_> Gc is generally used to refer to the most general solution, involving some sort of runtime ; the big division is between languages which rely on a GC runtime (java, c#, ...) and langauges which dont (C++, Rust..)
[11:15:29] <eddyb> and the GC does magic to clean up after you
[11:15:58] <doomlord_> its a tradeoff - cputime vs programmer time, basically.
[11:15:59] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[11:16:44] <doomlord_> this world has an overabundance of human labour and a shortage of energy .. so its worth spending more programmer time reducing cpu time (energy required to run a program) :)
[11:16:49] <eddyb> (cycles are a problem with Rc if you don't use Weak wherever applicable or you have something too generic like a JS value type)
[11:17:13] <huon> eddyb: https://gist.github.com/huonw/d51b9bb3df5ab1afd978
[11:17:15] <eddyb> doomlord_: with opt-in last use analysis, Rc wouldn't be harder to use than Gc
[11:17:39] <doomlord_> eddyb interesting, i've not heard of that.
[11:17:50] <huon> whoops, wrong language
[11:17:54] <eddyb> huon: oh we don't optimize the one match arm case?
[11:18:07] <huon> eddyb: not manually
[11:18:24] <eddyb> should maybe fix that
[11:18:40] <eddyb> doomlord_: the only problem Rc has is the requirement of using .clone() to refcount
[11:19:14] <huon> eddyb: it seems like it would just remove the br's and labels, since they're branchless
[11:19:15] <eddyb> it's otherwise better than C++'s shared_ptr, usability-wise
[11:19:36] <huon> oh, I guess llmatch would die too
[11:20:13] <eddyb> huon: we shouldn't output noop branches
[11:20:16] <huon> eddyb: the explicit clone is one of the big things that makes it better than other language's refcounting
[11:20:37] <doomlord_> does rust carry the refcount in the same allocation as the object ? i know shared_ptr has an optional ptr to seperate refcountt , but you can also put them in the same allocation... that redundancy scared me a little compared to "roll your own" refcounting in C/C++
[11:20:49] <leonvv> thanks for the information, I'm trying to implement a binary tree but I'm a bit confused, I thought I should use Gc or Rc, but servo uses RefCell, and I actually don't know what a RefCell is tbh
[11:20:50] <huon> it's safe manual reference counting, i.e. not inserted automatically in unnecessary places, but not chance to accidentally forget to refcount
[11:20:59] <huon> doomlord_: yes, same allocation
[11:21:00] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[11:21:03] <doomlord_> (although it was interesting that C++'s shared_ptr can apply refcounting after the object is created)
[11:21:09] <eddyb> leonvv: RefCell is "hidden mutability with runtime checks"
[11:21:19] <eddyb> using a *borrow* count
[11:21:36] <kimundi> Rc<T> == *RcBox<T> == *{T, strong_cont, weak_Count}
[11:21:39] <huon> doomlord_: we can do it too: `Rc<~T>` is essentially a two alloc referenced counted pointer
[11:22:13] <leonvv> eddyb: does 'mutability' refer to the pointer or to the value the pointer is pointing to?
[11:22:15] <eddyb> huon: what I want is something like #[i_dont_want_to_clone_rc] in my crate
[11:22:16] <doomlord_> ok that makes sense
[11:22:22] <huon> (and the ~T is deallocated as soon as the strong count goes to zero)
[11:22:24] <eddyb> leonvv: RefCell isn't a pointer
[11:22:27] <huon> eddyb: bleh :(
[11:22:28] <eddyb> it's a cell, not a box :P
[11:22:33] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[11:22:39] <eddyb> a box is a pointer to a cell
[11:22:44] <eddyb> does that make sense?
[11:22:56] <kimundi> It doesn't make sense to me :P
[11:23:04] <eddyb> it's almost correct
[11:23:06] <Ms2ger> impl FromJSValConvertible<()> for Option<DOMString> {
[11:23:06] <Ms2ger> impl<T: FromJSValConvertible<()>> FromJSValConvertible<()> for Option<T> {
[11:23:12] <Ms2ger> Is there any way I can make that work? :)
[11:23:13] <doomlord_> ": with opt-in last use analysis, Rc wouldn't be harder to use than Gc" ... if you made Rc easy to use would more people ask for @ to be a shortcut to Rc :) .. i really liked that compact syntax :)
[11:23:18] <huon> Ms2ger: nope
[11:23:24] <Ms2ger> Dammit
[11:23:35] <eddyb> Ms2ger: you can replace () with a generic bounded by a trait
[11:23:45] <huon> eddyb: that's exactly not the problem :P
[11:23:50] <eddyb> Ms2ger: but I'm not sure it solves much
[11:24:04] <huon> eddyb: concrete DOMString vs. generic T in the Option
[11:24:07] <eddyb> Ms2ger: coherence is so mean to everyone :(
[11:24:23] <Ms2ger> Yeah :(
[11:24:34] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[11:24:36] <huon> Ms2ger: does DOMString implement FromJSValConvertible too?
[11:24:37] * Ms2ger has an idea to make this even less readable
[11:24:45] <Ms2ger> huon, yes, but not with <()>
[11:24:59] <huon> could wrap Option<DOMString> into a nice wrapper struct?
[11:25:05] <leonvv> eddyb: Yes I think that makes sense, but what exactly does 'hidden mutability' mean and what is being checked at runtime?
[11:25:10] <huon> (or a mean one, too)
[11:25:23] <eddyb> huon: yeah, I figured, you'd end up with impl HelperTrait for DOMString and impl<T: ....> HelperTrait for T
[11:25:36] *** Joins: leowoe (Leo@moz-B6878D2A.dip0.t-ipconnect.de)
[11:25:37] <eddyb> leonvv: the validity of the borrows
[11:25:41] <Ms2ger> Does () support Default?
[11:25:48] <eddyb> hehehe
[11:25:51] <eddyb> yupp
[11:26:01] <eddyb> leonvv: you know how you can only borrow something mutable once at a time?
[11:26:12] <eddyb> leonvv: one &mut T to a T or many &T to that T
[11:26:26] <Ms2ger> cannot determine a type for this bounded type parameter: unconstrained type
[11:26:33] * Ms2ger sticks some annotations in there
[11:27:46] <huon> rusti: std::default::default::<()>()
[11:27:47] -rusti- <anon>:10:9: 10:36 error: unresolved name `std::default::default`.
[11:27:47] -rusti- <anon>:10         std::default::default::<()>()
[11:27:47] -rusti-                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~
[11:27:47] -rusti- error: aborting due to previous error
[11:27:47] -rusti- application terminated with error code 101
[11:28:03] <huon> rusti: let _: () = std::default::Default::default()
[11:28:03] -rusti- <anon>:11:5: 11:6 error: expected `;` but found `}`
[11:28:03] -rusti- <anon>:11     };
[11:28:03] -rusti-               ^
[11:28:03] -rusti- application terminated with error code 101
[11:28:04] <Ms2ger> It's alive!
[11:28:12] <huon> rusti: let _: () = std::default::Default::default();
[11:28:13] -rusti- ()
[11:28:17] <leonvv> eddyb: yes, else you can have memory violations if the size is being changed through another pointer, right?
[11:28:32] <eddyb> leonvv: that's not the problem, aliasing is
[11:28:34] *** Joins: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se)
[11:28:53] <eddyb> our &mut T can't alias with any other pointers to the same memory location
[11:28:56] <Ms2ger> eddyb, https://pastebin.mozilla.org/4515462 :)
[11:29:10] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[11:29:55] <huon> rusti: Ok::<int, int>(1).map(Some)
[11:29:56] -rusti- Ok(Some(1))
[11:30:01] <huon> Ms2ger: ^ :P
[11:30:13] <eddyb> Result<Option<T>, ()>
[11:30:34] <eddyb> the Result is about the conversion
[11:30:40] <eddyb> the Option is about a nullable value
[11:30:57] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[11:31:20] <eddyb> so undefined/null -> Ok(None), "foo" -> Ok(Some(DOMString/we("foo")))
[11:31:28] <eddyb> and... what can fail in that case?
[11:33:43] <leonvv> eddyb: I've a hard time understanding this, do you know any documentation on RefCell? The documentation on the rust website is just one line
[11:35:00] <huon> leonvv: there is documentation on the individual methods too
[11:35:11] *** Joins: josh (josh@514D186.F3BBB17D.144F44FA.IP)
[11:35:38] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[11:36:50] <kimundi> leonvv: Its really quite simple, if you know the semantic of &T and &mut T of only allowing many immutable or one mutable
[11:37:27] *** Quits: matp (matp@moz-16FE1E05.matp.at) (Quit: ZZZzzz…)
[11:38:01] <kimundi> leonvv: RefCell models exactly the same, except dynamically checked at runtime - A RefCell is always accessed aas an immutable value, that internally allows you to mutate the value by giving you a &mut
[11:38:47] <kimundi> And because it appears to the outside as a immutable reference all the time, the freezing properties of &mut don'T propagate upwards, and instead need to be checked dynamically at runtime
[11:39:08] <kimundi> And instead of a compile error, you get a runtime failure
[11:39:21] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[11:39:24] <kimundi> in case of a attempt at aliasing &mut
[11:39:48] <Ms2ger> huon, oh, you can do map(Some)?
[11:39:58] *** Joins: osa1 (uid13910@moz-5F4AA75A.irccloud.com)
[11:40:01] <Ms2ger> huon, I find that surprising :)
[11:40:02] <kimundi> rusti: Some::<int>
[11:40:03] -rusti- fn(int) -> std::option::Option<int>
[11:40:18] <osa1> any ideas why rust vim plugin doesn't highlight comments starting with /// as comments?
[11:40:33] <Ms2ger> Huh
[11:40:40] <kimundi> osa1: Well, its not a comment but a doc comment - which is suaggr for an attribute
[11:40:52] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[11:41:00] <kimundi> So it probably intentionnally highlights them differently
[11:41:01] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[11:41:26] <FreeFull> Oh, Rusti gives types now?
[11:41:38] <kimundi> // blah fn foo() {} == #[doc="blah"] fn foo() {}
[11:41:50] <FreeFull> But only for functions
[11:41:59] <kimundi> FreeFull: Thats just {:?} for a value of a function
[11:42:08] <Ms2ger> huon, thanks for the hint
[11:42:15] <FreeFull> kimundi: Yeah, I guessed so
[11:42:20] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[11:42:22] <Ms2ger> eddyb, you too
[11:42:29] <FreeFull> Since there is no sensible way to display a function outside of lispy languages
[11:42:41] <kimundi> FreeFull: In lisp there is?
[11:42:53] *** Quits: benh (ben@moz-4A0366D2.org) (Ping timeout)
[11:42:53] <Ms2ger> Now I just need to smuggle this trainwreck past jdm :)
[11:43:00] <whitequark> FreeFull: well, you can print its source, like javascript does
[11:43:10] <whitequark> but there's no sensible way of displaying a *closure*
[11:43:10] <FreeFull> kimundi: You could display the s expression, if you still have access to it
[11:43:13] <whitequark> neither there is in lisp
[11:43:38] *** Joins: nical (nico@moz-4754F405.fbx.proxad.net)
[11:44:02] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[11:44:16] <kimundi> whitequark: if you have a function pointer, it also becomes quite difficult. Or instanciations of generic functions :)
[11:44:50] *** Quits: dougxxx (dougxxx@moz-21B0BD70.dyn.iinet.net.au) (Quit: )
[11:44:53] <whitequark> kimundi: well, in principle you could keep all the information needed to reproduce full function signature together with function pointer
[11:45:00] *** jorendorff_away is now known as jorendorff
[11:45:00] <whitequark> *cough* like DWARF info does
[11:45:43] <whitequark> even if you generate them dynamically, there are relevant hooks defined to load more information at runtime!
[11:46:18] *** Joins: benh (ben@moz-4A0366D2.org)
[11:46:19] <leonvv> kimundi: thanks, I think I'm getting it now
[11:47:20] *** Joins: valentin (Thunderbir@moz-E75529B3.euroweb.ro)
[11:47:30] *** Joins: askalski (akuda@moz-2BB20B60.neoplus.adsl.tpnet.pl)
[11:48:02] *** Quits: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl) (Quit: Leaving)
[11:48:09] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[11:48:36] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[11:48:38] <osa1> kimundi: yeah, the problem was with my color scheme (it wasn't highlighting "SpecialComment" syntax). thanks.
[11:48:42] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[11:49:57] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[11:50:25] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[11:51:49] *** Joins: tanayseven (tanay@96AD789A.8FC53CD9.5A7A4C68.IP)
[12:02:17] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[12:02:38] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[12:07:07] *** Quits: nical (nico@moz-4754F405.fbx.proxad.net) (Ping timeout)
[12:07:10] *** Quits: askalski (akuda@moz-2BB20B60.neoplus.adsl.tpnet.pl) (Quit: Wychodzi)
[12:08:10] *** Quits: cdidd (cdidd@moz-4A2EBB8C.broadband.corbina.ru) (Ping timeout)
[12:09:14] *** Joins: cdidd (cdidd@8F8B772.E9B8D6B1.62D8163C.IP)
[12:12:41] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[12:14:22] *** Joins: sourab (jnu@3AA4C9F8.4312EAD8.62972B16.IP)
[12:14:36] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[12:15:32] *** Joins: matp (matp@moz-16FE1E05.matp.at)
[12:16:27] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[12:17:16] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[12:18:29] *** Joins: jiojiajiu (jiojiajiu@moz-7455BF89.revip7.asianet.co.th)
[12:19:28] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[12:22:44] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[12:23:56] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[12:28:17] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[12:29:34] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[12:30:04] *** Quits: jiojiajiu (jiojiajiu@moz-7455BF89.revip7.asianet.co.th) (Client exited)
[12:30:32] *** Joins: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net)
[12:30:52] *** Quits: sourab (jnu@3AA4C9F8.4312EAD8.62972B16.IP) (Ping timeout)
[12:31:55] *** Quits: tristramh (tris@moz-A60B3BF9.lns20.syd6.internode.on.net) (Ping timeout)
[12:32:57] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[12:33:18] *** Quits: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net) (Client exited)
[12:36:35] *** Quits: Ms2ger (Ms2ger@moz-D1296957.adsl-dyn.isp.belgacom.be) (Quit: bbl)
[12:36:50] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[12:38:29] *** Quits: marwy (user@41303A68.5C2AEEF8.CFA44423.IP) (Quit: ERC Version 5.3 (IRC client for Emacs))
[12:39:57] *** bollu|away is now known as bollu
[12:41:33] <bollu> is rusti not working?
[12:41:39] <bollu> not the #rusti channel?
[12:41:46] <bollu> rusti: -5 % 4
[12:41:47] -rusti- -1
[12:42:12] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[12:43:03] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[12:43:55] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[12:44:46] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[12:45:34] *** Quits: josh (josh@514D186.F3BBB17D.144F44FA.IP) (Quit: josh)
[12:46:04] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[12:46:13] *** Quits: marianoguerra (marianogue@moz-CD9428A9.dip0.t-ipconnect.de) (Ping timeout)
[12:47:46] *** Joins: josh (josh@514D186.F3BBB17D.144F44FA.IP)
[12:47:47] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[12:51:16] *** jorendorff is now known as jorendorff_away
[12:53:49] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[12:53:54] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[12:54:26] <mindcat> rusti: struct huon {}; let lol: &'static huon = huon {}; println!("{:?}", lol)
[12:54:27] -rusti- <anon>:10:22: 10:23 error: unit-like struct definition should be written as `struct huon;`
[12:54:27] -rusti- <anon>:10         struct huon {}; let lol: &'static huon = huon {}; println!("{:?}", lol)
[12:54:27] -rusti-                                ^
[12:54:27] -rusti- application terminated with error code 101
[12:55:33] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[12:56:16] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[12:56:41] <huon> ?
[12:56:42] *** Joins: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se)
[12:58:11] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[12:58:38] <huon> rusti: struct mindcat; let lol: &'static = &mindcat; println!("{:?}", mindcat);
[12:58:39] -rusti- <anon>:10:43: 10:44 error: expected type, found token EQ
[12:58:39] -rusti- <anon>:10         struct mindcat; let lol: &'static = &mindcat; println!("{:?}", mindcat);
[12:58:39] -rusti-                                                     ^
[12:58:39] -rusti- application terminated with error code 101
[12:58:47] <huon> rusti: struct mindcat; let lol: &'static mindcat = &mindcat; println!("{:?}", mindcat);
[12:58:48] -rusti- pastebinned 10 lines of output: http://sprunge.us/DRjW
[12:58:54] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[12:59:41] *** jorendorff_away is now known as jorendorff
[13:00:38] * mindcat thinks about what is mozilla, could be eat?
[13:01:23] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[13:01:48] *** Joins: darthdeus (darthdeus@AAEAC920.7D4E3986.4E88690D.IP)
[13:05:02] *** Quits: valentin (Thunderbir@moz-E75529B3.euroweb.ro) (Ping timeout)
[13:07:51] *** Quits: leowoe (Leo@moz-B6878D2A.dip0.t-ipconnect.de) (Quit: Leaving.)
[13:12:03] *** Quits: toddaaro (toddaaro@moz-98F46974.us) (Quit: leaving)
[13:12:57] *** Quits: mawuli (mawuli@moz-A89BBCE.com.gh) (Ping timeout)
[13:14:09] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:14:17] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[13:14:25] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[13:15:27] *** Joins: toddaaro (toddaaro@moz-98F46974.us)
[13:16:27] *** Joins: judder (maradukewa@75FA4DEE.A989D80C.78E362FE.IP)
[13:16:32] *** Parts: judder (maradukewa@75FA4DEE.A989D80C.78E362FE.IP) ()
[13:16:39] *** Joins: judder (maradukewa@75FA4DEE.A989D80C.78E362FE.IP)
[13:16:47] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[13:17:54] *** Quits: IanCormac84 (User@484F360D.2A8D8854.67DFF8B4.IP) (Ping timeout)
[13:18:56] *** Joins: matematikaadit (adit@308CE532.DC3EEE7F.4712F74.IP)
[13:18:58] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[13:19:03] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[13:19:18] *** Joins: IanCormac84 (User@23422C81.64D641E5.67DFF8B4.IP)
[13:19:55] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Connection reset by peer)
[13:20:04] *** Quits: toddaaro (toddaaro@moz-98F46974.us) (Quit: leaving)
[13:20:12] *** Joins: toddaaro (toddaaro@moz-98F46974.us)
[13:21:05] *** Parts: darthdeus (darthdeus@AAEAC920.7D4E3986.4E88690D.IP) (Linkinus - http://linkinus.com)
[13:21:10] *** Quits: toddaaro (toddaaro@moz-98F46974.us) (Quit: leaving)
[13:21:15] *** Joins: toddaaro (toddaaro@moz-98F46974.us)
[13:22:03] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Quit: victorporof)
[13:24:13] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[13:24:28] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[13:24:29] *** jorendorff is now known as jorendorff_away
[13:26:50] *** Quits: richard|s (mindginati@moz-47C51C0D.dyn.cust.vf.net.nz) (Quit: brb)
[13:28:18] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[13:29:11] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[13:29:55] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[13:30:31] *** Quits: blank_name (blank_name@463DB555.53526368.6D228269.IP) (Ping timeout)
[13:30:47] *** Quits: tanayseven (tanay@96AD789A.8FC53CD9.5A7A4C68.IP) (Ping timeout)
[13:31:40] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[13:37:00] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[13:41:27] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:44:15] *** Quits: mgottschlag (quassel@moz-DAB57931.cust.bluewin.ch) (Ping timeout)
[13:45:24] *** Quits: josh (josh@514D186.F3BBB17D.144F44FA.IP) (Quit: josh)
[13:47:06] *** Joins: dougxxx (dougxxx@moz-21B0BD70.dyn.iinet.net.au)
[13:48:29] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[13:49:14] *** Joins: josh (josh@514D186.F3BBB17D.144F44FA.IP)
[13:51:47] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[13:51:56] *** Quits: pczarn (pczarn@moz-69A55FA.izacom.pl) (Input/output error)
[13:55:16] *** Quits: josh (josh@514D186.F3BBB17D.144F44FA.IP) (Quit: josh)
[13:55:23] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[13:58:26] *** Joins: josh (josh@514D186.F3BBB17D.144F44FA.IP)
[14:03:52] <mrmonday> with macro_rules! is it possible to concatenate identifiers at all? Eg I want to do something like make_foobar!(Test) becomes struct TestFoobar;
[14:04:00] *** Joins: engla_ (engla@moz-F64E1B0F.cust.bredbandsbolaget.se)
[14:04:36] *** Quits: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[14:06:32] *** Quits: indirect (indirect_m@moz-A838903C.hsd1.ca.comcast.net) (Ping timeout)
[14:06:57] <whitequark> as I understand it, no
[14:07:06] <whitequark> it has something to do with hygiene
[14:07:36] <mrmonday> I'll just copy/paste then :/
[14:10:38] *** Joins: TeXitoi (texitoi@moz-9CE70EEE.fbx.proxad.net)
[14:10:41] <TeXitoi> hi
[14:12:08] *** Joins: indirect (indirect_m@moz-A838903C.hsd1.ca.comcast.net)
[14:12:58] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[14:13:23] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[14:14:03] *** Joins: tanayseven (tanay@96AD789A.8FC53CD9.5A7A4C68.IP)
[14:14:11] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[14:16:05] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[14:17:32] *** Parts: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP) ()
[14:17:33] *** Joins: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[14:18:51] <huon> mrmonday: there is a concat_idents!() macro
[14:19:18] <huon> mrmonday: but it doesn't work... you can only macros in an expression/item context and the name of something is not such a context
[14:19:34] <huon> rusti: let ab = 1; concat_idents!(a,b)
[14:19:36] -rusti- <anon>:10:21: 11:6 error: unresolved name `ab`.
[14:19:36] -rusti- <anon>:10         let ab = 1; concat_idents!(a,b)
[14:19:36] -rusti- <anon>:11     };
[14:19:36] -rusti- error: aborting due to previous error
[14:19:36] -rusti- application terminated with error code 101
[14:19:56] <huon> rusti: fn ab() {} concat_idents!(a,b)
[14:19:57] -rusti- fn()
[14:21:24] *** Joins: sophie (sophie@7673D508.8B010B20.BF21C4A8.IP)
[14:25:02] <mrmonday> I've just gone for a copy/paste job
[14:25:32] <mrmonday> pretty much resigned myself to having to do that anyway, it's far less copy/pasting than I was gonna have to do previously though, so that's nice
[14:28:37] *** Joins: leowoe (Leo@moz-B6878D2A.dip0.t-ipconnect.de)
[14:31:02] *** Joins: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net)
[14:31:26] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[14:31:42] <bollu> huon, math folks: https://gist.github.com/ed87d7d9f25887a57520 <- improvements to the 2d math classes? (no matrices yet)
[14:32:22] <bollu> also, please feel free to suggest better names. I'm terrible at naming stuff
[14:32:34] <sophie> Hello, is there any up to date build of Rust for Fedora around? I'm not sure if my poor system would manage to build it from source. I checked http://copr-be.cloud.fedoraproject.org/results/fabiand/rust-unofficial/fedora-19-x86_64/rust-0.9-1.fc20/, but the latest build is from January?
[14:34:29] <TeXitoi> How can I spawn multiple tasks and wait that they finish before returning ?
[14:35:18] <apoelstra> TeXitoi: for each task, create a chan/port pair and have them send a () or something into the chan when they're done
[14:35:29] <apoelstra> then listen on every port in the main handler
[14:36:17] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[14:36:25] <TeXitoi> apoelstra: ok, still no clever way, thanks
[14:36:55] <apoelstra> i dunno, if you're sending () that feels idiomatic
[14:37:04] <apoelstra> but i'm not an expert, maybe there is a clever way
[14:37:29] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[14:38:49] <sophie> Maybe I'll just boost up the swap and pray... :S
[14:39:14] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[14:42:32] *** Quits: urbanserj (urbanserj@3E28BD5F.398BF19F.86BD9C9E.IP) (Ping timeout)
[14:43:08] *** Quits: jroweboy (jrowe7@moz-18814A6B.provo.static.broadweavenetworks.net) (Ping timeout)
[14:44:23] *** Joins: urbanserj (urbanserj@3E28BD5F.398BF19F.86BD9C9E.IP)
[14:44:32] *** Joins: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net)
[14:45:14] *** Joins: asmyers (quassel@moz-558DA12F.hrbgpa.fios.verizon.net)
[14:46:24] <whitequark> bollu: take a look at http://erratique.ch/software/gg for naming inspiration
[14:46:44] <bollu> whitequark: ty
[14:46:56] <whitequark> and/or implementation
[14:48:16] <bollu> whitequark: they implement AABB's too. nice!
[14:48:52] *** Quits: urbanserj (urbanserj@3E28BD5F.398BF19F.86BD9C9E.IP) (Ping timeout)
[14:51:15] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[14:51:46] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[14:54:00] *** Joins: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca)
[14:55:25] *** Joins: urbanserj (urbanserj@3E28BD5F.398BF19F.86BD9C9E.IP)
[14:56:17] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[14:57:05] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[14:58:13] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[14:59:15] *** Quits: avsej (avsej@D9A610B8.4841F515.FB33447D.IP) (Ping timeout)
[15:00:03] *** Joins: avsej (avsej@D9A610B8.4841F515.FB33447D.IP)
[15:01:23] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[15:02:10] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[15:03:10] *** Joins: Merth (shaun@moz-E41B2C4D.dhcp.mdsn.wi.charter.com)
[15:03:41] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[15:04:46] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Ping timeout)
[15:05:08] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[15:06:31] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[15:06:36] *** Joins: silven (quassel@moz-F81D3961.a328.priv.bahnhof.se)
[15:07:43] *** Joins: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com)
[15:09:11] *** Quits: dougxxx (dougxxx@moz-21B0BD70.dyn.iinet.net.au) (Quit: )
[15:10:02] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[15:10:13] *** Joins: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[15:10:23] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[15:10:25] *** Joins: edwardw (edwardw@B5386878.16F55560.50B134B9.IP)
[15:10:26] *** Quits: leowoe (Leo@moz-B6878D2A.dip0.t-ipconnect.de) (Quit: Leaving.)
[15:11:57] *** Joins: marwy (user@41303A68.5C2AEEF8.CFA44423.IP)
[15:12:16] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Ping timeout)
[15:12:26] *** Joins: mye (mye@moz-2E1F7DD1.dip0.t-ipconnect.de)
[15:13:18] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[15:13:44] *** Quits: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com) (Ping timeout)
[15:14:20] <TeXitoi> rusti: stdout().write("foo" as [u8])
[15:14:20] -rusti- <anon>:10:9: 10:15 error: unresolved name `stdout`.
[15:14:21] -rusti- <anon>:10         stdout().write("foo" as [u8])
[15:14:21] -rusti-                   ^~~~~~
[15:14:21] -rusti- error: aborting due to previous error
[15:14:21] -rusti- application terminated with error code 101
[15:14:43] <TeXitoi> rusti: std::io::stdout().write("foo" as [u8])
[15:14:44] -rusti- pastebinned 8 lines of output: http://sprunge.us/AFcN
[15:15:12] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[15:15:20] <mrmonday> is there a way to run libstd tests with only the native backend?
[15:15:29] <TeXitoi> rusti: std::io::stdout().write("foo" as &[u8])
[15:15:29] -rusti- <anon>:10:33: 10:47 error: non-scalar cast: `&'static str` as `&[u8]`
[15:15:29] -rusti- <anon>:10         std::io::stdout().write("foo" as &[u8])
[15:15:29] -rusti-                                           ^~~~~~~~~~~~~~
[15:15:30] -rusti- error: aborting due to previous error
[15:15:30] -rusti- application terminated with error code 101
[15:15:44] <TeXitoi> rusti: std::io::stdout().write("foo" as &'static [u8])
[15:15:45] -rusti- <anon>:10:33: 10:55 error: non-scalar cast: `&'static str` as `&'static [u8]`
[15:15:45] -rusti- <anon>:10         std::io::stdout().write("foo" as &'static [u8])
[15:15:45] -rusti-                                           ^~~~~~~~~~~~~~~~~~~~~~
[15:15:45] -rusti- error: aborting due to previous error
[15:15:45] -rusti- application terminated with error code 101
[15:16:14] <TeXitoi> rusti: std::io::stdout().write("foo".as_bytes())
[15:16:15] -rusti- fooOk(())
[15:16:23] <TeXitoi> rusti: std::io::stdout().write("foo".as_bytes());
[15:16:24] -rusti- <anon>:10:9: 10:50 warning: unused result which must be used, #[warn(unused_must_use)] on by default
[15:16:24] -rusti- <anon>:10         std::io::stdout().write("foo".as_bytes());
[15:16:24] -rusti-                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[15:16:25] -rusti- foo()
[15:17:18] <TeXitoi> what is the pattern to skip this warning ?
[15:17:35] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[15:17:47] *** Joins: pczarn (pczarn@moz-69A55FA.izacom.pl)
[15:17:57] <SiegeLord> let _ = 
[15:20:05] <SiegeLord> Looks like I personally do #[allow(unused_must_use)]; though
[15:21:55] <TeXitoi> is there a 'fail_if' or something like that?
[15:22:28] <SiegeLord> I imagine .unwrap() might do the trick
[15:22:57] <TeXitoi> ok, thanks
[15:23:15] *** Joins: askalski (akuda@moz-2BB20B60.neoplus.adsl.tpnet.pl)
[15:23:47] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[15:24:34] *** Quits: japaric (japaric@FB100779.A23A5F6C.E5B504CC.IP) (Ping timeout)
[15:25:07] <sophie> Is building LLVM, or building Rust the largest part? I think my poor server managed to survive building LLVM, does that mean I am safeish?
[15:25:54] *** Joins: japaric (japaric@5FC96F56.29721F33.F29ED47E.IP)
[15:26:05] *** Joins: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net)
[15:26:13] <mrmonday> Rust is bigger (or at least more resource intensive) to build I think
[15:26:21] <TeXitoi> sophie: librustc need more memory than llvm
[15:26:25] <mrmonday> never actually tested though, I could be wrong :)
[15:27:09] <sophie> We'll see, I guess. I'm kind of surprised LLVM didn't take a million years to build.
[15:27:27] <sophie> I only have 512MB memory.
[15:27:30] <eddyb> lol no
[15:27:35] <kimundi> ouh...
[15:27:42] <eddyb> sophie: need 1.2GB *free* for librustc
[15:27:42] <TeXitoi> it will not pass
[15:27:55] <bollu> eddyb: swap partition may work?
[15:27:58] <eddyb> nope
[15:28:07] <eddyb> it will take hours swapping
[15:28:09] <eddyb> and never finish
[15:28:16] <bollu> eddyb: ah. didn't know that
[15:28:18] <kimundi> eddyb: why won'T it finish?
[15:28:21] <TeXitoi> here, i386 1GB, it passes, but I need to close firefox and it swaps
[15:28:49] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[15:28:58] <eddyb> kimundi: because you'll have to reboot it
[15:29:06] <TeXitoi> bollu: It'll finish, but it's 100 to 1000 times slower
[15:29:15] <eddyb> it grinds to a halt
[15:29:15] <bollu> eddyb: so it's impossible to build ?
[15:29:22] <eddyb> of course it is impossible
[15:29:29] <eddyb> there's nightlies though
[15:29:36] <sophie> Where?
[15:29:41] <eddyb> sophie: what distro?
[15:29:46] <bollu> fedora right?
[15:29:47] <sophie> Fedora 19
[15:30:18] <sophie> I tried to Google, but didn't find any less than a month old. And I heard that I probably want a newer one.
[15:30:30] <bollu> eddyb: would it be possible if you setup a swap partition on an SSD ?
[15:30:35] <pczarn> could compressed swap help? or an SSD
[15:30:45] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[15:32:18] <eddyb> compressed swap? that would be even slower
[15:32:22] *** Joins: nszceta (hax@moz-E6CA8D6.hsd1.pa.comcast.net)
[15:32:22] <eddyb> bollu: mmmaybe
[15:32:28] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[15:32:31] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[15:32:37] <sophie> We'll see, my swap is an SSD.
[15:32:39] <eddyb> but you're basically cutting blocks from that SSD every compile
[15:32:45] <eddyb> sophie: RIP
[15:33:18] <sophie> I can leave it over night, and maybe it finishes, maybe it doesn't.
[15:33:30] <edwardw> rusti: let _: _ = _;
[15:33:30] -rusti- <anon>:10:16: 10:17 error: expected type, found token UNDERSCORE
[15:33:30] -rusti- <anon>:10         let _: _ = _;
[15:33:30] -rusti-                          ^
[15:33:30] -rusti- application terminated with error code 101
[15:34:23] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[15:34:26] <eddyb> sophie: if you have a way to get the number of unusable blocks on that SSD, do it before the compile
[15:34:30] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[15:34:34] <eddyb> sophie: and then after. I'm curious how bad it is
[15:34:53] <kimundi> edwardw: ;D
[15:34:54] <bollu> sophie: ^
[15:34:55] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[15:35:01] <bollu> yeah, I would like to know as well
[15:35:14] <bollu> edwardw: what were you hoping would happen? :D
[15:35:22] <eddyb> bollu: see #rust-internals
[15:35:45] <kimundi> eddyb: He's not there, nothing to see
[15:35:52] <edwardw> kimundi: bollu: :D I'm amazed that rustc isn't totally thrown off by that
[15:36:32] *** Quits: matp (matp@moz-16FE1E05.matp.at) (Quit: Bye!)
[15:36:33] <sophie> eddyb: No idea how to do that, any tips?
[15:37:17] <kimundi> edwardw: Well Rust has a context free grammar with fixed look ahead, and clearly defined sub grammars for types, expressions and patterns. I'd be surprised if it would get thrown of by this.
[15:37:32] *** Quits: osa1 (uid13910@moz-5F4AA75A.irccloud.com) (Quit: Connection closed for inactivity)
[15:37:43] <eddyb> sophie: maybe SMART tools?
[15:37:44] <bollu> sophie: this /may/ help you to reduce damage if you do decide to use your SSD as swap https://wiki.archlinux.org/index.php/Solid_State_Drives#Swap_Space_on_SSDs
[15:37:51] <edwardw> k
[15:38:28] *** Joins: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net)
[15:38:41] <sophie> I think that mostly applies if you're not actually running out of RAM all the time.
[15:39:31] *** Joins: alonlevy (alon@1E965D02.56017D2D.662727B.IP)
[15:40:04] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[15:40:10] <bollu> sophie: hm, true
[15:40:58] <bollu> eddyb: is it possible to confiure travis to build binaries to target a particular OS ? (fedora in this case)
[15:41:57] <eddyb> oh, wait
[15:42:03] <eddyb> bollu: you can just use the snapshot compiler
[15:42:28] <bollu> eddyb: so fork rust, modify the .yml file, register with travis => profit?
[15:42:34] <eddyb> no
[15:42:51] <bollu> why not?
[15:42:55] <eddyb> checkout rust, disable LLVM build somehow
[15:43:00] <eddyb> build all the libraries for it using "make rustc-stage1" (stop it at libsyntax)
[15:43:07] <mrmonday> what's the best way to debug a 'receiving on a closed channel' error? how can I track down where the channel was closed from?
[15:43:13] <eddyb> (don't build libsyntax, it's useless)
[15:43:23] <SiegeLord> Could ask a nice person to build it for you... I'm sure lots of people have too much RAM and CPU laying around XD
[15:43:30] <bollu> eddyb: that should not be too hard to modify I think
[15:43:32] <eddyb> bollu: and you have a working compiler in ./triple/stage0/bin
[15:43:39] <bollu> SiegeLord: but not the OS :)
[15:43:40] <eddyb> there's no reason to use travis for this
[15:43:50] <SiegeLord> bollu: Half an hour to set it up in virtual box :P
[15:43:59] <bollu> eddyb: when the only tool you have you have is a hammer... ;)
[15:44:00] <eddyb> and rustc should be almost completely distro-agnostic
[15:44:15] <eddyb> bollu: I'm telling you you don't need to compile LLVM
[15:44:15] <SiegeLord> Or whatever other virtualization option you have... I mean, it's not OSX
[15:44:17] <bollu> SiegeLord: do it then! for the greater good and all that jazz
[15:44:20] <eddyb> or libsyntax/librustc
[15:44:26] <eddyb> to get a complete compiler + libs
[15:44:38] <SiegeLord> I wouldn't know how to transfer the finished result to the recepient
[15:44:45] * whitequark has a bunch of CPU time
[15:44:51] <eddyb> SiegeLord: the triple directory / stageN
[15:44:52] <whitequark> what do you need a build for?
[15:45:05] <bollu> whitequark: fedora 19
[15:45:13] <eddyb> I have a stage1 build including #12610
[15:45:17] <sophie> I'm just trying to learn Rust, but my poor computer is... well... old.
[15:45:24] <bollu> eddyb: perhaps. I'm no expert
[15:45:35] *** Quits: lpy (lpy@12172131.F09091A8.1348A864.IP) (Ping timeout)
[15:45:36] <eddyb> bollu: s/perhaps/for sure
[15:45:41] <whitequark> bollu: ok, do you know of an image of f19?
[15:45:45] <whitequark> virtualbox perhaps
[15:45:55] <eddyb> sophie: you don't need to build a compiler to use a rust compiler
[15:46:11] <eddyb> not even LLVM
[15:46:14] <bollu> whitequark: http://fedoraproject.org/en/get-fedora#clouds
[15:46:25] <eddyb> *sigh* this channel is a mess right now
[15:46:27] <bollu> eddyb: doesn't rust do some LLVM patching magic?
[15:46:27] <sophie> eddyb: What's the best alternative?
[15:46:30] <bollu> eddyb: yeah true
[15:46:41] <whitequark> bollu: 64 or 32 bit?
[15:46:44] <eddyb> sophie: I'm not talking about alternatives
[15:46:51] <bollu> whitequark: ask sophie, not me :)
[15:46:57] <whitequark> oh
[15:46:58] <eddyb> sophie: I'm telling you that the build system downloads a fully functional rust compiler
[15:46:59] <bollu> sophie: 32 or 64 bit?
[15:47:10] <eddyb> sophie: then uses that compiler to build all the libraries
[15:47:18] *** Joins: mgottschlag (quassel@moz-DAB57931.cust.bluewin.ch)
[15:47:20] <bollu> eddyb: but a slightly other version yes? which is used to bootstrap
[15:47:22] <eddyb> sophie: then builds *two* new iterations of the compiler
[15:47:29] <eddyb> bollu: it's not "bootstrap"
[15:47:33] <eddyb> it's two days old or something
[15:47:44] <bollu> eddyb: is this going to be a terminology fight?
[15:47:50] <eddyb> yes
[15:47:53] <bollu> eddyb: yep, it is. okay, nvm. continue
[15:47:57] <eddyb> it's not the ocaml compiler
[15:48:04] * sophie hugs everyone, So I can just use the snapshot instead?
[15:48:14] <eddyb> that would be more like "bootstrap"
[15:48:25] <eddyb> sophie: what triple?
[15:48:51] <eddyb> for example, x64 linux builds in a directory named "x86_64-unknown-linux-gnu"
[15:49:01] <eddyb> that's the "triple"
[15:49:05] *** Joins: jroweboy (jrowe7@moz-18814A6B.provo.static.broadweavenetworks.net)
[15:49:07] <whitequark> $ uname -a
[15:49:08] <sophie> Yes, it's x86_64-unknown-linux-gnu
[15:49:12] <bollu> eddyb: again, terminology. hadrons "bootstrap" because break a hadron get a hadron. so goes rust => rust, so it is "bootstrapping"
[15:49:36] <eddyb> bollu: yeah but you thought at one point that we're still using a compiler written in a different language
[15:49:46] <eddyb> wasn't sure someone explained it properly yet
[15:50:03] <eddyb> sophie: okay, so, ./x*/stage0/bin/rustc
[15:50:18] <bollu> eddyb: that was explained to me by you and kimundi. and that was like, 4 days back :P
[15:50:19] <sophie> I can just use that compiler instead?
[15:50:33] <eddyb> sophie: as long as you have all the libraries you need, yes
[15:50:47] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:51:35] <eddyb> sophie: I think this works: make ./x*/stage0/lib/rustlib/x*/lib/stamp.green
[15:51:57] <eddyb> sophie: see the "green" at the end? that's how you force to build "libgreen"
[15:52:02] <eddyb> I actually just figured it out
[15:52:15] <bollu> eddyb: libgreen is M:N?
[15:52:29] <eddyb> sophie: the compiler uses "libnative" instead of "libgreen" so it doesn't compile "libgreen" at stage0, but you need it (it's the default)
[15:52:32] <eddyb> bollu: yes
[15:52:45] <eddyb> sophie: sorry you compiled LLVM :P
[15:53:01] <eddyb> (if using the snapshot is enough)
[15:53:04] <bollu> sophie: fedora doesn't have LLVM binaries too?
[15:53:20] <eddyb> bollu: we do have patches
[15:53:20] <sophie> bollu: It does, but I don't think Rust uses them by default.
[15:53:29] <sophie> Also only took like 30 minutes.
[15:53:29] <eddyb> you can make configure use them
[15:53:33] <bollu> eddyb: ah yes. I'd forgotten
[15:53:43] <eddyb> (the travis build does that)
[15:53:49] <eddyb> sophie: right, okay. let us know if stage0 works :D
[15:54:08] <bollu> sophie: which DE do you use? if you
[15:54:20] <bollu> you're using KDE, I'd sugggest killing it
[15:54:25] <bollu> suggest* 
[15:54:25] *** Quits: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net) (Ping timeout)
[15:54:25] <eddyb> on a server?
[15:54:27] <whitequark> bollu: huh?
[15:54:31] <bollu> eddyb: wait what?
[15:54:33] *** Joins: Frippe (Frippe@8CFC6FA4.DDEDB70D.F3459CEF.IP)
[15:54:39] <bollu> eddyb: oh crap, I misread the whole thing
[15:54:41] <bollu> nvm
[15:54:42] <eddyb> bollu: pretty sure sophie said this was a server
[15:54:42] <bollu> continue
[15:54:48] <sophie> It is on a server.
[15:54:58] <sophie> No desktop environment.
[15:54:59] <eddyb> bollu: well, I was wrong. 5 days old instead of two days https://github.com/mozilla/rust/blob/master/src/snapshots.txt
[15:55:11] <eddyb> but I hope to get a new one today or tomorrow
[15:55:19] <eddyb> after #12610 gets merged
[15:55:30] <eddyb> (for some reason the number stuck in my head)
[15:55:31] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[15:55:36] <bollu> eddyb: 6 days ago where I live ;)
[15:56:00] <eddyb> bollu: I'm looking at the commit message :P
[15:56:07] <sophie> Hurray, now I have libgreen too.
[15:56:12] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[15:56:13] <sophie> Thanks eddyb.
[15:56:26] <eddyb> np
[15:56:27] <whitequark> bollu: hm, that image doesn't boot...
[15:56:33] <eddyb> whitequark: don't worry ;)
[15:56:35] <sophie> And everyone else.
[15:56:42] <bollu> whitequark: redundant now
[15:56:42] <whitequark> okay
[15:56:49] <bollu> sophie: have fun with rust :)
[15:57:09] *** Joins: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com)
[15:58:22] <sophie> I'll try my best.
[15:59:12] <bollu> what editor / IDEdoes everyone use?
[15:59:23] <eddyb> kdevelop4
[15:59:53] <eddyb> they just brought back file sets so that makes my job easier
[15:59:56] *** Joins: blank_name (blank_name@2C5A9B5B.E6D3F868.537E532E.IP)
[16:00:19] <SiegeLord> Geany
[16:00:29] *** Joins: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net)
[16:01:30] <eddyb> but they used to have random icons... now it's a random set of 4 squares and a random color... hard to remember
[16:02:32] <bollu> eddyb: hm. does it have autocomplete for rust?
[16:02:37] <eddyb> few things have
[16:02:47] <eddyb> and they're all experimental projects
[16:02:54] <eddyb> nothing using libsyntax/librustc AFAIK
[16:03:03] <eddyb> "github provider" wait, what?
[16:03:08] <bollu> eddyb: I see. 
[16:03:13] *** Joins: adridu59 (Mibbit@moz-9BAC9171.rev.numericable.fr)
[16:03:18] <bollu> ?
[16:03:28] <adridu59> huon: ping
[16:03:28] *** Quits: japaric (japaric@5FC96F56.29721F33.F29ED47E.IP) (Connection reset by peer)
[16:03:39] <eddyb> bollu: there's new modules in kdevelop that I haven't enabled
[16:04:06] *** Joins: japaric (japaric@5FC96F56.29721F33.F29ED47E.IP)
[16:04:19] <bollu> I wanted to use librustc to build a auto-completion engine for sublime text, but I don't wan to write the python bindings :(
[16:04:30] <bollu> eddyb: module such as? 
[16:04:33] <bollu> modules*
[16:04:36] <eddyb> extensions
[16:04:40] <eddyb> plugins
[16:04:58] <eddyb> haha you think the python bindings will be the problem?
[16:05:00] <c74d> Doesn’t vim have Rust completion, at least for keywords?
[16:05:07] <eddyb> lol, keywords
[16:05:16] <eddyb> anything can do keywords, that's... irrelevant
[16:05:21] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[16:05:47] *** Joins: marianoguerra (marianogue@moz-8C220F46.dip0.t-ipconnect.de)
[16:05:48] <bollu> eddyb: yeah, even ST does keywords and snippets
[16:06:01] <bollu> eddyb: yeah, once you have the AST it should be pretty simple
[16:06:17] <eddyb> you can't do much with the AST
[16:06:19] <bollu> emphasis on should :)
[16:06:25] <eddyb> you need to run resolve and type checking
[16:06:30] <eddyb> but I know how to run partial type checking
[16:06:38] *** Joins: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net)
[16:06:40] <eddyb> soon it should be trivial to re-typecheck just one function
[16:06:49] <bollu> eddyb: AFAIK clang gives you ridiculously high level diagnostic info - at least it does for C++
[16:06:56] <bollu> you can query it too which helps a lot
[16:07:03] <bollu> so you don't have to walk it manually
[16:07:09] <eddyb> no kidding, kdevelop has full C++ support
[16:07:18] <eddyb> and experimental clang usage
[16:08:09] <bollu> I think we should ask Valloric nicely for a rust engine into YCM ;)
[16:08:58] *** Quits: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net) (Quit: ChatZilla 0.9.90.1 [Firefox 27.0.1/20140212131424])
[16:09:27] <sophie> eddyb: I needed rustuv as well, but now I can follow the tutorial.
[16:09:33] <sophie> Again, thanks for the help.
[16:10:13] <eddyb> bollu: I can tell him how to implement it =))
[16:10:29] <bollu> eddyb: you two should team up in that case :D
[16:10:31] <eddyb> any kind of Rust IDE support is bad if it can't handle working on librustc
[16:10:49] <eddyb> which takes almost a minute to finish type checking here
[16:11:12] <eddyb> <3 I can clone github projects from kdevelop directly
[16:11:52] <bollu> eddyb: that's a pretty nice feature.
[16:13:41] <bollu> eddyb: what else do I need to know in rust other than traits, generics, the whole lifetime stuff(~, & ', mut), enums and match ?
[16:13:46] <bollu> in/about
[16:14:04] *** Quits: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net) (Quit: stevegury)
[16:14:28] <eddyb> depends
[16:14:52] <bollu> eddyb: do tell
[16:15:03] <eddyb> on what you're actually doing with rust
[16:15:41] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[16:16:08] <bollu> eddyb: I'd like to contribute :) and I'm trying to build a simple 2d game / engine
[16:16:43] *** Joins: cacteye (Mibbit@moz-362CDC0.fttp.sta.comporium.net)
[16:16:58] <eddyb> I can't think of something else right now in the language itself...
[16:17:16] <eddyb> there's a lot of things in the libraries
[16:18:21] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[16:18:25] <bollu> eddyb: few examples?
[16:18:26] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[16:18:38] <eddyb> bollu: Rc/RefCell as a building block
[16:18:41] <eddyb> all the containers
[16:18:56] <eddyb> IO & tasks
[16:19:19] <eddyb> but, for example, you don't need to know anything about parallelism to work in librustc
[16:19:38] <eddyb> however, it's good to know how things like middle::ty (the type system) work
[16:19:44] <eddyb> i.e. how to use them
[16:19:56] <eddyb> most of the time you just learn as you go
[16:20:23] <bollu> eddyb: hmm. that part's written in rust or C++ ?
[16:20:30] <eddyb> there is no C++
[16:20:32] <eddyb> nor C
[16:21:10] <eddyb> (well, there's the LLVM wrapper but that's not that big, we bind the C API directly for most of the LLVM)
[16:21:15] <bollu> eddyb: the LLVM patches?
[16:21:18] <bollu> ah, okay
[16:21:26] <eddyb> the LLVM patches are not even the rust repo
[16:21:37] <bollu> so, give me a control flow here
[16:22:21] <bollu> librustc is bound to LLVM?
[16:22:21] <eddyb> for compilation or for working in the compiler?
[16:22:25] <bollu> working
[16:22:40] <eddyb> LLVM is used from rustc::middle::trans and rustc::back
[16:22:49] <eddyb> trans converts AST to LLVM IR
[16:23:11] <TeXitoi> https://github.com/mozilla/rust/pull/12766
[16:23:23] <TeXitoi> https://github.com/mozilla/rust/pull/12765
[16:23:36] *** Joins: leowoe (Leo@moz-B6878D2A.dip0.t-ipconnect.de)
[16:24:16] <bollu> eddyb: but the Rustc::middle::trans part is written in rust correct?
[16:24:20] <eddyb> yes
[16:24:29] <eddyb> all of src/librustc is written in Rust
[16:24:58] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[16:24:59] <eddyb> (please avoid changing case in code, Rustc is not a crate name, rustc is)
[16:25:45] <bollu> eddyb: my bad. and the stdlib is also (obviously) in rust
[16:25:51] <eddyb> yes
[16:25:58] *** Quits: sellout (Adium@moz-B28A0654.public.wayport.net) (Quit: Leaving.)
[16:25:59] <bollu> so like 99% of rust from compiler to stdlib is in rust
[16:26:17] <bollu> only the final phase is handed off to LLVVM
[16:26:42] <eddyb> everything apart from dependencies (llvm, compiler-rt - where "compiler" means "clang" -, libuv) and the LLVM wrapper (rustllvm or something like that), is Rust
[16:27:15] <eddyb> well, rust_fail is written in LLVM IR, because we can't embed that yet in Rust code (someone wrote a macro for it at some point, though)
[16:27:47] *** Quits: cacteye (Mibbit@moz-362CDC0.fttp.sta.comporium.net) (Quit: http://www.mibbit.com ajax IRC Client)
[16:28:54] <bollu> eddyb: good to know
[16:31:06] *** Quits: TeXitoi (texitoi@moz-9CE70EEE.fbx.proxad.net) (Ping timeout)
[16:31:24] *** Quits: alonlevy (alon@1E965D02.56017D2D.662727B.IP) (Ping timeout)
[16:31:56] *** Joins: matp (matp@moz-16FE1E05.matp.at)
[16:32:23] *** Joins: tgkokk (tgkokk@moz-313711E.home.otenet.gr)
[16:32:33] *** Quits: tgkokk (tgkokk@moz-313711E.home.otenet.gr) (Quit: Textual IRC Client: www.textualapp.com)
[16:32:35] *** Joins: TeXitoi (texitoi@moz-9CE70EEE.fbx.proxad.net)
[16:33:11] <adridu59> sophie: I think there are fedora binaries for rust
[16:33:28] <adridu59> sophie: http://dummdida.blogspot.de/2013/05/mozillas-rust-in-fedoras-ppa-copr.html
[16:33:43] <adridu59> I may be late here
[16:36:10] <sophie> adridu59: Yeah, but they are from early january.
[16:36:37] <sophie> But I got the snapshot or what it is called working!
[16:36:44] <SimonSapin> Do patterns accept type annotations? Like Some(i: int)
[16:37:14] <eddyb> nope
[16:37:27] <SimonSapin> The annotation is necessary in this case because the matched value is a call to a method that’s generic on its return type
[16:37:43] <SimonSapin> so I guess I’ll need a temporary name
[16:37:51] <eddyb> SimonSapin: see this for some sugar https://github.com/mozilla/rust/pull/12764
[16:38:12] <eddyb> though that might take another week
[16:38:36] <SimonSapin> I don’t think that helps in my case
[16:38:41] <eddyb> :(
[16:38:53] *** Quits: adridu59 (Mibbit@moz-9BAC9171.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[16:38:58] *** Joins: tgkokk (tgkokk@moz-313711E.home.otenet.gr)
[16:39:40] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[16:39:40] *** Quits: japaric (japaric@5FC96F56.29721F33.F29ED47E.IP) (Connection reset by peer)
[16:40:17] *** Joins: japaric (japaric@5FC96F56.29721F33.F29ED47E.IP)
[16:43:21] *** Joins: cacteye (Mibbit@moz-362CDC0.fttp.sta.comporium.net)
[16:45:13] *** Quits: askalski (akuda@moz-2BB20B60.neoplus.adsl.tpnet.pl) (Quit: Wychodzi)
[16:45:16] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[16:46:13] *** Joins: capt_redbeard (Adium@moz-4998C3D0.ok.ok.cox.net)
[16:48:02] *** Quits: tanayseven (tanay@96AD789A.8FC53CD9.5A7A4C68.IP) (Ping timeout)
[16:48:49] *** Quits: josh (josh@514D186.F3BBB17D.144F44FA.IP) (Quit: josh)
[16:49:09] *** Joins: Ms2ger (Ms2ger@moz-D1296957.adsl-dyn.isp.belgacom.be)
[16:49:15] *** Quits: capt_redbeard (Adium@moz-4998C3D0.ok.ok.cox.net) (Quit: Leaving.)
[16:50:15] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[16:50:20] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:50:25] *** Quits: Kxepal (Miranda@moz-413026B1.pppoe.mtu-net.ru) (Ping timeout)
[16:51:05] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[16:51:22] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[16:52:24] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[16:52:37] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[16:52:55] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Quit: Leaving)
[16:53:21] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[16:53:29] *** Quits: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[16:53:45] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Quit: Leaving)
[16:54:24] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[16:54:33] *** Joins: Kxepal (Miranda@moz-DA894BAA.pppoe.mtu-net.ru)
[16:55:06] *** Joins: quux00 (uid24415@moz-E77DEB21.irccloud.com)
[16:55:28] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Quit: Leaving)
[16:56:05] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[16:57:00] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[16:57:54] *** Quits: mindcat (mindcat@BCF489F.EEF2A000.F956842C.IP) (Quit: leaving)
[16:58:38] <jroweboy> Is it possible to have a struct field that is typed by a trait somehow? For instance struct A{ field : Trait } ? I haven't seen anything about this, so I'm guessing its not possible
[16:59:33] <Ms2ger> You can use a pointer to a trait
[16:59:57] <eddyb> jroweboy: what exactly is the usage?
[16:59:57] <Ms2ger> Not a bare trait, because you don't know how big that would be
[17:00:33] <eddyb> struct A<T> {field: T} and struct A<'a> {field: &'a Trait} and struct A {field: ~Trait} are all possible right now
[17:00:40] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[17:00:46] *** Joins: Jarrett (chatzilla@moz-465FA06E.dhcp.rvsd.ca.charter.com)
[17:00:54] <eddyb> struct A {field: Trait} under DST would be an unsized type... that you can't create
[17:01:27] *** Quits: matematikaadit (adit@308CE532.DC3EEE7F.4712F74.IP) (Quit: Leaving)
[17:01:57] <jroweboy> Oh! That second one is what I was looking for. It makes sense now that I see some code about this
[17:02:08] <jroweboy> eddyb Ms2ger: Thanks!
[17:02:44] *** Quits: IanCormac84 (User@23422C81.64D641E5.67DFF8B4.IP) (Ping timeout)
[17:03:17] <quux00> I'm rereading the Rust (0.10) tutorial and I have a question about this snippet from the methods section: https://gist.github.com/quux00/9434985
[17:03:36] *** Joins: IanCormac84 (User@E5477876.2A8D8854.67DFF8B4.IP)
[17:03:36] <quux00> In particular, what does adding the ~ to s do?
[17:03:47] <quux00> For the line (~s).draw_owned().
[17:03:58] <quux00> Is it creating a copy of the Circle on the heap?
[17:04:05] <Ms2ger> Correct
[17:04:05] <eddyb> yes
[17:04:16] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[17:04:25] <Ms2ger> Which draw_owned then consumes
[17:04:30] *** Quits: aquassaut (aquassaut@moz-6107CA64.net-81-220-251.rev.numericable.fr) (Ping timeout)
[17:04:33] <quux00> OK.  So s is originally on the stack.
[17:04:44] <eddyb> or in a CPU register :P
[17:04:49] <eddyb> (if it fits)
[17:04:50] <quux00> Then the ~s line creates a new copy on the head, which is consumed
[17:04:54] <quux00> ok
[17:05:10] <quux00> and the &s takes a reference to the version on the stack/register
[17:05:14] <quux00> is that right?
[17:05:26] <eddyb> if it's in a register, it gets copied on the stack, but yeah
[17:05:38] <eddyb> you can take the address of something on the heap as well
[17:06:24] <eddyb> let foo = ~MyStruct {field: 0}; &foo.field will give you the address of that field (which is part of a structure on the heap)
[17:06:43] <quux00> Right.  It's just understanding what the ~ was doing - it obviously creates an owned pointer, but not immediately obvious that is also making a copy.
[17:06:52] <quux00> But after thinking about it, that's all it could be doing.
[17:06:55] <quux00> So thanks.
[17:06:56] <eddyb> :)
[17:08:12] *** Quits: nszceta (hax@moz-E6CA8D6.hsd1.pa.comcast.net) (Input/output error)
[17:08:43] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:09:59] *** Quits: asmyers (quassel@moz-558DA12F.hrbgpa.fios.verizon.net) (Ping timeout)
[17:10:08] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[17:10:29] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[17:11:09] *** Joins: willingc_ (willingc@moz-B4760708.san.res.rr.com)
[17:11:09] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Connection reset by peer)
[17:12:50] *** Quits: willingc_ (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[17:13:21] *** Joins: vodik (simon@moz-614C9EF6.dsl.bell.ca)
[17:15:16] *** Joins: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[17:16:01] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:18:23] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:18:23] *** Joins: Blub\0 (wry@620605B3.71150E1A.237AE2BA.IP)
[17:18:51] *** Quits: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[17:19:25] *** Joins: aquassaut (aquassaut@moz-6107CA64.net-81-220-251.rev.numericable.fr)
[17:19:42] <quux00> For the question jroweboy just asked about typed struct fields, I just an experiment and am getting an error I don't understand.
[17:19:44] <quux00> https://gist.github.com/quux00/9435269
[17:19:48] *** Quits: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[17:19:59] <quux00> Why can I call a StrVector method, but not cast to StrVector?
[17:20:09] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[17:20:18] <eddyb> quux00: StrVector is a helper trait
[17:20:26] *** Joins: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP)
[17:20:27] <eddyb> you're not supposed to cast to it at all
[17:20:50] <quux00> OK.  I haven't heard of helper traits.  Are those a special kind that have special rules?
[17:20:59] <eddyb> they're just there to add methods to types
[17:21:17] <eddyb> you can have anonymous impl's for built-in types
[17:21:40] <eddyb> quux00: but in general, the problem is that you want something like &value_of_type_that_implements_Trait as &Trait
[17:22:10] <eddyb> what you have there would only work under DST, if StrVector was implemented on [~str] instead of ~[~str]
[17:22:27] <quux00> Does ~[~str] not implement the StrVector trait?
[17:22:32] <eddyb> it does
[17:22:53] <eddyb> the extra & is the important bit
[17:23:03] <eddyb> you can't cast &[T] as &Trait
[17:23:26] <eddyb> you can cast &&[T] or &~[T] as &Trait
[17:24:12] <quux00> oh boy.  brain melt.  I'll go try it.
[17:25:19] *** Joins: heftig (heftig@moz-254A05A3.dip0.t-ipconnect.de)
[17:25:37] <eddyb> ([T] is not a real type yet, DST will fix that)
[17:26:27] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[17:26:33] <quux00> yeah - the compiler has complained to me about that many times before :-)
[17:29:31] <quux00> Sorry, I still don't get it. I tried this but it is still failing:  https://gist.github.com/quux00/9435269
[17:29:48] <quux00> Could you provide a code example that works?
[17:29:53] <eddyb> quux00: now you're doing it one too many times :P
[17:30:00] <eddyb> &vs, not vs or &&vs
[17:30:16] <quux00> Still fails with: error: failed to find an implementation of trait std::str::StrVector for ~[~str]
[17:30:26] <eddyb> then it's not implemented for that
[17:30:30] <eddyb> &vs.as_slice()
[17:30:33] *** Joins: puzzler (puzzler@moz-CD721145.hsd1.mi.comcast.net)
[17:30:57] <quux00> Yep, as_slice() works.
[17:31:23] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[17:31:28] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[17:31:44] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[17:32:20] <quux00> However, that is pretty non-obvious.  I'll have to go do some guru meditations on it.
[17:32:37] <eddyb> &[~str] is what implements StrVector
[17:32:47] <eddyb> so &&[~str] can be cast to &StrVector
[17:33:10] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[17:33:24] <quux00> Oh, and (as I just read in the tutorial) &[T] is the slice "type" for a vector.
[17:33:25] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[17:33:31] <quux00> thus the need to grab it as a slice
[17:33:40] <eddyb> &[T] is a real type
[17:33:43] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[17:33:50] <eddyb> [T] isn't (without ~ or & before it)
[17:33:55] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[17:34:42] <quux00> got it (mostly) - thanks :-)
[17:37:39] *** Quits: zmike (discomfito@moz-975BC507.hsd1.ct.comcast.net) (Quit: ah. I see.)
[17:38:41] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[17:38:47] *** Quits: StarLight (StarLight@149AAB79.EB175431.F1EF1E39.IP) (Ping timeout)
[17:39:38] *** Quits: leowoe (Leo@moz-B6878D2A.dip0.t-ipconnect.de) (Quit: Leaving.)
[17:40:49] *** Quits: tgkokk (tgkokk@moz-313711E.home.otenet.gr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:40:58] *** Joins: zmike (discomfito@moz-975BC507.hsd1.ct.comcast.net)
[17:41:39] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[17:41:57] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:42:37] *** Joins: wirespeed (wirespeed@moz-6B368AB3.rev.sfr.net)
[17:43:02] *** Joins: StarLight (StarLight@moz-72DA9B76.dynamic.avangarddsl.ru)
[17:43:39] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[17:43:53] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[17:46:21] *** Quits: Lovot (root@moz-64ED673A.knology.net) (Ping timeout)
[17:46:43] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[17:46:52] *** Joins: intuxicated (intuxicate@A9443CC2.9D1E10BA.3FFBF42F.IP)
[17:46:59] *** Quits: avsej (avsej@D9A610B8.4841F515.FB33447D.IP) (Ping timeout)
[17:48:28] *** Joins: blindrenderer (blindrende@555260B4.329A1D83.D01D599A.IP)
[17:48:55] *** Joins: avsej (avsej@D9A610B8.4841F515.FB33447D.IP)
[17:49:41] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[17:49:52] *** Joins: Lovot (root@moz-64ED673A.knology.net)
[17:50:23] *** Joins: tgkokk (tgkokk@moz-313711E.home.otenet.gr)
[17:55:31] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[17:55:48] *** Quits: franckverrot (Franck_Ver@C3033BF6.B86F1645.C91367C6.IP) (Ping timeout)
[17:56:41] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[17:56:58] <wirespeed> help! I was hoping to compile rust-0.9 on a Mac but it's moaning about missing headers -> http://paste.scsys.co.uk/322493
[17:57:19] *** Quits: vodik (simon@moz-614C9EF6.dsl.bell.ca) (Quit: WeeChat 0.4.4-dev)
[17:57:21] <wirespeed> fatal error: 'CoreServices/CoreServices.h' file not found
[17:58:28] <wirespeed> obviously some sort Mac Xcode thing or another but I'm even sure if I have a sane setup (I'm on a MBP borrowed from work)
[17:58:59] *** Quits: tgkokk (tgkokk@moz-313711E.home.otenet.gr) (Quit: Textual IRC Client: www.textualapp.com)
[17:59:07] <eddyb> why compile 0.9?
[17:59:11] *** Joins: tgkokk (tgkokk@moz-313711E.home.otenet.gr)
[17:59:43] <eddyb> 0.9 is released, so there should be binaries available *and* it's outdated, so if you're compiling you should be using master anyway
[17:59:51] *** Quits: tgkokk (tgkokk@moz-313711E.home.otenet.gr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[18:00:07] <eddyb> there should also be something on the wiki telling you what you need to install on OSX to compile Rust
[18:00:10] <eddyb> wirespeed: ^^
[18:00:24] *** Joins: eibwen (kvirc@moz-40E704BF.dip0.t-ipconnect.de)
[18:01:07] <wirespeed> ya
[18:01:08] <wirespeed> ok
[18:01:59] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[18:02:08] <wirespeed> I poked around quickly on the site I didn't see any binaries, so I thought it would be a simple matter to download the tarball and run with that
[18:02:34] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:02:40] <eddyb> pfft, tarballs. bleeding edge forever
[18:02:47] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[18:02:54] <wirespeed> :)
[18:03:03] <wirespeed> ok ok, I take the hint
[18:03:05] <eddyb> (note: rust doesn't actually have bleeding edge, each PR is checked before merging)
[18:04:00] <wirespeed> I need to unlearn old reflexes
[18:04:16] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[18:04:21] *** Quits: marianoguerra (marianogue@moz-8C220F46.dip0.t-ipconnect.de) (Ping timeout)
[18:05:00] *** Quits: murph (murph@moz-EA149729.oracle.com) (Client exited)
[18:05:10] *** Joins: murph (murph@moz-EA149729.oracle.com)
[18:05:14] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[18:05:57] *** Quits: Lovot (root@moz-64ED673A.knology.net) (Ping timeout)
[18:06:22] *** Quits: twi (Adium@moz-231F02E1.cust.vodafonedsl.it) (Quit: Leaving.)
[18:06:26] <Ms2ger> How do I get the bits of a f64 into a u64?
[18:06:28] *** Quits: mgottschlag (quassel@moz-DAB57931.cust.bluewin.ch) (Ping timeout)
[18:06:41] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[18:06:42] <eddyb> Ms2ger: transmute
[18:06:48] *** Joins: asmyers (quassel@moz-1BA75A5A.hrbgpa.east.verizon.net)
[18:07:14] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Quit: 전 이만 갑니다.)
[18:08:10] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Quit: Leaving.)
[18:08:52] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:09:45] *** Joins: twi (Adium@moz-231F02E1.cust.vodafonedsl.it)
[18:12:00] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[18:12:57] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[18:14:12] *** Joins: mib_hiorgl (Mibbit@moz-C0BBC72D.dip0.t-ipconnect.de)
[18:14:41] <mrmonday> what's the best way to debug a 'receiving on a closed channel' error? how can I track down where the channel was closed from?
[18:14:59] *** Joins: Noxivs (Mibbit@moz-7106E5AA.fbx.proxad.net)
[18:15:02] <eddyb> I doubt it
[18:15:24] *** Joins: Lovot (root@moz-64ED673A.knology.net)
[18:15:42] <mrmonday> hmm
[18:15:42] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[18:16:19] <mrmonday> I'm at a loss as to what to do, since I'm never doing the channel stuff myself, it's happening behind the scenes somewhere
[18:16:32] <eddyb> is it a test?
[18:16:46] <eddyb> are you doing unsafe/FFI things in that test?
[18:17:02] <eddyb> because I have an idea of what might be going on
[18:19:38] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[18:19:43] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Quit: Leaving)
[18:21:31] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[18:22:11] *** Joins: marianoguerra (marianogue@moz-8C220F46.dip0.t-ipconnect.de)
[18:23:19] *** Quits: Lovot (root@moz-64ED673A.knology.net) (Ping timeout)
[18:23:26] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[18:23:34] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[18:23:45] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[18:24:06] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[18:25:02] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[18:25:38] <Ms2ger> expected constant: Can't do this op on an int and uint
[18:25:40] * Ms2ger sighs
[18:25:48] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[18:26:42] <eddyb> Ms2ger: cast one of them
[18:27:04] <Ms2ger> I've got two u32s, actually
[18:27:25] <eddyb> do you use integer literals anywhere?
[18:27:25] <Ms2ger> One static and one enum value as u32
[18:27:35] <eddyb> what's the static's definition?
[18:27:47] *** Joins: Lovot (root@moz-64ED673A.knology.net)
[18:27:53] *** Joins: NiccosSystem` (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[18:27:57] *** Quits: NiccosSystem` (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Connection reset by peer)
[18:28:01] <Ms2ger> static JSVAL_TAG_MAX_DOUBLE: u32 = 0x1FFF0;
[18:28:08] <eddyb> that's an int, sorry
[18:28:13] * Ms2ger blinks
[18:28:24] <eddyb> I said sorry!
[18:28:45] <eddyb> any constant context will treat that as an int, since that's what its *value* is
[18:28:57] <eddyb> normals contexts will treat it as an u32
[18:29:09] <edwardw> what? why?
[18:29:18] <eddyb> who knows
[18:29:30] <eddyb> there was a related ICE as well
[18:29:38] *** Quits: wirespeed (wirespeed@moz-6B368AB3.rev.sfr.net) (Quit: Leaving.)
[18:30:32] <eddyb> Ms2ger: does it work with 0x1FFF0u32?
[18:30:46] <Ms2ger> Yes, it does
[18:31:01] <Ms2ger> Thanks
[18:31:04] <eddyb> np
[18:32:48] *** Quits: mye (mye@moz-2E1F7DD1.dip0.t-ipconnect.de) (Quit: mye)
[18:33:09] *** Quits: blank_name (blank_name@2C5A9B5B.E6D3F868.537E532E.IP) (Quit: leaving)
[18:33:37] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[18:35:23] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[18:35:42] *** Joins: blank_name (blank_name@2C5A9B5B.E6D3F868.537E532E.IP)
[18:35:49] *** Quits: jroweboy (jrowe7@moz-18814A6B.provo.static.broadweavenetworks.net) (Ping timeout)
[18:37:00] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[18:37:22] *** Joins: wirespeed (wirespeed@moz-6B368AB3.rev.sfr.net)
[18:38:50] *** Quits: jackneill (jackneill@moz-F0F0BE79.pool.digikabel.hu) (Quit: WeeChat 0.4.3)
[18:39:08] *** Quits: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca) (Quit: canhtak)
[18:39:40] *** Joins: jackneill (jackneill@moz-F0F0BE79.pool.digikabel.hu)
[18:39:51] *** Joins: mgottschlag (quassel@moz-DAB57931.cust.bluewin.ch)
[18:41:28] *** Joins: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de)
[18:42:10] *** Joins: rveach (ryan@moz-E5095E39.hsd1.ca.comcast.net)
[18:42:40] *** Joins: mmellott (mmellott@moz-FCDA89D5.ph.ph.cox.net)
[18:42:48] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[18:47:16] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[18:48:12] *** Quits: IanCormac84 (User@E5477876.2A8D8854.67DFF8B4.IP) (Ping timeout)
[18:48:19] *** Joins: mye (mye@moz-2E1F7DD1.dip0.t-ipconnect.de)
[18:48:53] *** Joins: IanCormac84 (User@8616D593.64D641E5.67DFF8B4.IP)
[18:50:06] *** Joins: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca)
[18:50:19] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[18:50:33] <jensnockert> Please save me from Crockford, https://rawgithub.com/douglascrockford/DEC64/master/dec64.html
[18:51:40] <eddyb> wait, does it actually... work?
[18:51:49] <eddyb> it looks good
[18:53:45] <eddyb> I thought there were really good reasons for using binary floating point
[18:54:18] *** Quits: nkoep (nik@moz-C0153B76.pool.mediaways.net) (Quit: Leaving)
[18:54:54] *** Joins: dmillerw (Dylan@moz-B8AA30B2.eugn.qwest.net)
[18:55:11] <eddyb> jensnockert: we can add this to libnum...
[18:55:29] <jensnockert> There are really good reasons for using binary floating point.
[18:55:44] <jensnockert> The reasons to use that format is sketchy at best.
[18:56:11] <eddyb> I like the higher integer range
[18:56:30] <dmillerw> so, I'm really trying to wrap my head around working without real objects (classes), and only with structs. I come from a Java world, so can anyone give some advice on getting used to how rust works?
[18:56:32] *** Quits: mgottschlag (quassel@moz-DAB57931.cust.bluewin.ch) (Ping timeout)
[18:56:46] <eddyb> dmillerw: lol
[18:57:04] <eddyb> "without real objects" is... inaccurate at best
[18:57:18] <eddyb> in Rust, any type can be considered to be an object
[18:57:20] <dmillerw> I should say, without the style of Java
[18:57:30] <eddyb> you can use structs like classes
[18:57:42] <eddyb> but you're not forced to a struct layout, so you can have an enum "class"
[18:57:57] *** Joins: matematikaadit (adit@9897200C.5073457B.907D3F95.IP)
[18:57:59] <eddyb> or impl a trait on a primitive to add methods to it
[18:58:28] <eddyb> what Java has can be considered a subset of (future) Rust
[18:58:34] *** Joins: mgottschlag (quassel@moz-E895F1A4.cust.bluewin.ch)
[18:58:51] <eddyb> Gc<Any>/Gc<Many> would be Object
[18:59:03] <eddyb> but the Rust type already tells you the cost at which it comes
[18:59:22] <eddyb> (garbage collection and runtime polymorphism overhead)
[18:59:37] <jensnockert> eddyb: Integers have an even larger integer range. The extra 3 bits that format gives is unlikely to ever help, considering integers do not even have a unique representation.
[19:00:11] <eddyb> dmillerw: stylistically, you just have a struct and an impl instead of a class
[19:00:22] <eddyb> it's nothing like C
[19:00:41] <eddyb> (apart from the convenience of C compatible layout, for FFI)
[19:01:52] <eddyb> jensnockert: "There are 255 possible representations of zero. They are all considered to be equal." haha
[19:02:03] <eddyb> that reminds me of NaN
[19:02:23] <FreeFull> eddyb: What is this for?
[19:02:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[19:02:33] <eddyb> FreeFull: read the paper linked above
[19:02:42] <eddyb> "nan is also the result of operations that produce results that are too large to be represented. nan is equal to itself."
[19:03:09] <FreeFull> "DEC64 is intended to be the only number type in the next generation of application programming languages." Please no
[19:03:09] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[19:03:26] <eddyb> FreeFull: I think he means "ES7"
[19:03:40] <eddyb> but that already has custom value types so it's incorrect
[19:03:58] <eddyb> the reason IEEE floating point NaN isn't equal to itself is to limit erroneous behavior. also... I don't like how infinities are missing
[19:04:09] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[19:04:15] <eddyb> and -0... though it doesn't have that much use
[19:04:27] <FreeFull> -0 is important, sometimes
[19:04:29] *** Joins: arielb1 (eran@moz-FAE85970.red.bezeqint.net)
[19:04:33] *** Joins: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com)
[19:04:44] *** Joins: rustilite (rustilite@moz-61B073BC.cpe.net.cable.rogers.com)
[19:04:55] <eddyb> mkay, so...
[19:04:56] <FreeFull> rusti: 1.0/(-0.0)
[19:05:02] -rusti- timeout triggered!
[19:05:10] <FreeFull> rusti: 1.0/(-0.0)
[19:05:14] *** Joins: nrc (nrc@F16146EB.9D3722BB.58DC3EE6.IP)
[19:05:14] -rusti- -inff64
[19:05:16] <o11c> rusti: 0.0 / 0.0
[19:05:17] -rusti- -NaNf64
[19:05:28] <eddyb> FreeFull: yeah I know
[19:05:31] <FreeFull> Odd how the NaN is negative
[19:05:47] <eddyb> but DEC64 doesn't have +/- Infinity
[19:05:53] *** Quits: jaysonsantos (Jayson@E9FEA4A0.4427088B.20F09BA6.IP) (Input/output error)
[19:06:04] *** Quits: Blub\0 (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[19:06:15] *** Joins: Blub\0 (wry@620605B3.71150E1A.237AE2BA.IP)
[19:06:33] <FreeFull> Yeah, that's not good
[19:06:46] <eddyb> x32 v8 using DEC64 instead of f64 would be strictly superior over current x64 v8, when working with numbers (the heap is limited to 1.5GB *anyways*)
[19:07:36] <eddyb> instead of 31bit | pointer, you can store any number | pointer in the same space - kinda
[19:07:38] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:07:50] <eddyb> but it wouldn't be compatible with current JS... I don't know
[19:08:03] *** Quits: dmillerw (Dylan@moz-B8AA30B2.eugn.qwest.net) (Ping timeout)
[19:08:18] <eddyb> crockford might be aiming too high here. but hey, first revision, and it's not *horrible*
[19:08:33] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[19:08:53] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[19:09:04] <FreeFull> Would you represent +Inf/-Inf using special exponent values, or would you take 2 from somewhere?
[19:09:34] <FreeFull> I guess you'd only need one extra bit
[19:10:00] <eddyb> you can use the NaN
[19:10:19] <eddyb> NaN(0) could be -0
[19:10:40] <FreeFull> Oh, right
[19:10:48] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Connection reset by peer)
[19:10:54] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[19:10:57] <eddyb> then NaN(MAX_INT) Infinity and NaN(MIN_INT) -Infinity (signed ints)
[19:10:59] <FreeFull> The coefficient doesn't have to be garbage
[19:11:12] <FreeFull> So you can have a loot of various NaN values
[19:11:27] <eddyb> if you do it right, you can still put heap pointers in there
[19:11:37] <eddyb> without risking conflicts
[19:11:45] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[19:12:26] <FreeFull> Yeah, since the pointers would be 32 bits or fewer
[19:12:41] <FreeFull> You can have a bit in the coefficient that signifies if it's a pointer or not
[19:12:48] <eddyb> that
[19:12:59] <eddyb> err... that's what v8 does right now for Smi's
[19:13:41] <eddyb> it can actually perform arithmetic operations on Smi's (31bit signed integers represented as (x << 1) | 1)
[19:14:25] <eddyb> bitwise operations are pretty trivial, like and/or can be done on the 32bit values themselves
[19:14:52] <eddyb> + requires subtracting one of the operands by 1
[19:15:05] *** Joins: alonlevy (alon@moz-2E96F6C4.dynamic.jazztel.es)
[19:15:18] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[19:15:23] <eddyb> etc. I don't have time for this nonsense, I should be writing tests!
[19:15:30] * eddyb goes to get more food
[19:16:50] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:18:18] *** Joins: flabbergaster (Mibbit@moz-DA794587.desm.qwest.net)
[19:19:13] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:20:27] *** Joins: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net)
[19:21:12] *** Quits: mib_hiorgl (Mibbit@moz-C0BBC72D.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[19:22:28] *** Quits: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net) (Quit: telotortium)
[19:22:42] <k4nar> I don't know that much about floating numbers representation, but http://dec64.com/ seems interesting
[19:22:57] <eddyb> oh, there's a site :D
[19:23:20] <k4nar> :)
[19:23:25] *** Joins: Valloric (Valloric@moz-288722BA.hsd1.ca.comcast.net)
[19:23:58] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[19:24:01] <Valloric> is the memory layout of a (T, U) tuple the same as that of a struct Foo { a: T, b: U }?
[19:24:46] <eddyb> yes
[19:24:57] <Valloric> eddyb: ty
[19:25:04] *** Joins: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net)
[19:25:17] <eddyb> Valloric: someone mentioned you should add proper rust support to YCM and I said I kinda know how to make it work even for something huge like librustc
[19:25:35] <eddyb> Valloric: i.e. partial parsing, expansion, resolution, up to and including type checking
[19:25:38] <Valloric> eddyb: oooh, interesting
[19:25:54] *** Quits: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com) (Quit: Connection closed for inactivity)
[19:26:00] <eddyb> soon, the CrateCtxt for type checking will become just a reference to the type context
[19:26:04] <Valloric> eddyb: I also need to make the identifier collection in YCM work better for rust
[19:26:15] <Valloric> the apostrophes in lifetimes screw it iup
[19:26:17] <Valloric> up*
[19:26:19] <eddyb> so there's no actual context
[19:26:55] <FreeFull> rusti: struct Foo { a: u32; b: i64 }; transmute((3u32,4i64)) as Foo
[19:26:55] -rusti- <anon>:10:28: 10:29 error: expected `,`, or `}` but found `;`
[19:26:56] -rusti- <anon>:10         struct Foo { a: u32; b: i64 }; transmute((3u32,4i64)) as Foo
[19:26:56] -rusti-                                      ^
[19:26:56] -rusti- application terminated with error code 101
[19:27:03] <FreeFull> rusti: struct Foo { a: u32, b: i64 }; transmute((3u32,4i64)) as Foo
[19:27:04] -rusti- <anon>:10:40: 10:49 error: unresolved name `transmute`.
[19:27:04] -rusti- <anon>:10         struct Foo { a: u32, b: i64 }; transmute((3u32,4i64)) as Foo
[19:27:04] -rusti-                                                  ^~~~~~~~~
[19:27:04] -rusti- error: aborting due to previous error
[19:27:04] -rusti- application terminated with error code 101
[19:27:04] *** concrete.mozilla.org sets mode: +M 
[19:27:23] <eddyb> Valloric: as long as you only change the contents of a function (that should be easy to detect), you only need to re-run type check *within* the function itself
[19:27:35] <FreeFull> rusti: struct Foo { a: u32, b: i64 }; cast::transmute((3u32,4i64)) as Foo
[19:27:36] -rusti- pastebinned 11 lines of output: http://sprunge.us/aMHM
[19:27:47] <eddyb> [18:10] <eddyb> any kind of Rust IDE support is bad if it can't handle working on librustc
[19:27:53] <FreeFull> rusti: struct Foo { a: u32, b: i64 }; std::cast::transmute((3u32,4i64)) as Foo
[19:27:53] -rusti- <anon>:10:40: 10:73 error: the type of this value must be known in this context
[19:27:53] -rusti- <anon>:10         struct Foo { a: u32, b: i64 }; std::cast::transmute((3u32,4i64)) as Foo
[19:27:53] -rusti-                                                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[19:27:54] -rusti- error: aborting due to previous error
[19:27:55] -rusti- application terminated with error code 101
[19:28:07] <eddyb> "as" doesn't work as a type hint
[19:28:24] <eddyb> Valloric: I have pathological test cases, but librustc is the one I care about, since I work on the compiler anyways
[19:28:33] <FreeFull> rusti: struct Foo { a: u32, b: i64 }; let x : Foo = unsafe { std::cast::transmute((3u32,4i64)) }; x
[19:28:34] -rusti- main::Foo{a: 3u32, b: 4i64}
[19:28:58] <eddyb> Valloric: if you start working on anything, please isolate the libsyntax/librustc magic in a rust library, that other implementations can use ;)
[19:29:31] *** Quits: Valloric (Valloric@moz-288722BA.hsd1.ca.comcast.net) (Quit: Valloric)
[19:29:36] *** Joins: Valloric (Valloric@moz-288722BA.hsd1.ca.comcast.net)
[19:29:47] <FreeFull> rusti: struct Foo { a: u32, b: i64 }; let x : Foo = unsafe { std::cast::transmute((0u16,3u16,0u16,4u16)) }; x
[19:29:47] -rusti- <anon>:1:1: 1:1 error: transmute called on types with different sizes: (u16,u16,u16,u16) (64 bits) to main::Foo (128 bits)
[19:29:48] -rusti- <anon>:1 #[feature(globs, macro_rules, struct_variant)];
[19:29:48] -rusti-          ^
[19:29:48] -rusti- application terminated with error code 101
[19:30:07] <FreeFull> rusti: struct Foo { a: u32, b: i64 }; let x : Foo = unsafe { std::cast::transmute((0u32,3u32,0u32,4u32)) }; x
[19:30:08] -rusti- main::Foo{a: 0u32, b: 17179869184i64}
[19:30:21] <FreeFull> Alright, time for me to stop
[19:30:32] *** Joins: gwty (gwtypc@E9FC4F3D.13D358C6.49FF672.IP)
[19:30:40] *** Quits: puzzler (puzzler@moz-CD721145.hsd1.mi.comcast.net) (Quit: )
[19:31:20] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[19:32:01] *** concrete.mozilla.org sets mode: -M 
[19:32:12] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[19:32:58] <eddyb> Valloric: the kdevelop python support, for example, uses the CPython parser, instead of implementing everything from scratch, so yeah, reusable is nice :D
[19:33:04] *** Quits: Valloric (Valloric@moz-288722BA.hsd1.ca.comcast.net) (Quit: Valloric)
[19:33:06] *** Joins: Valloric (Valloric@moz-288722BA.hsd1.ca.comcast.net)
[19:33:19] <Valloric> rusti: &1 + 2
[19:33:20] -rusti- pastebinned 35 lines of output: http://sprunge.us/SUPJ
[19:33:25] <eddyb> hrhr
[19:33:28] <eddyb> *hehe
[19:33:38] <Valloric> eddyb: had some connection issues, couldn't send chats
[19:33:45] <eddyb> Valloric: did you see my messages?
[19:34:01] <eddyb> https://botbot.me/mozilla/rust/ (ignore FreeFull playing with rusti)
[19:34:02] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[19:34:16] <Valloric> eddyb: some, but not all; anyway, I do not have the time to implement a semantic engine for Rust
[19:34:40] <Valloric> eddyb: but if someone else did, I'd help them integrate it into YCM
[19:35:07] <Valloric> eddyb: the semantic engine itself should have nothing to do with YCM itself, but should be agnostic of it, of course
[19:35:49] <Valloric> I'd love to implement such a semantic engine myself, but I just have way too much on my plate right now
[19:35:53] <eddyb> you don't need to start from scratch
[19:36:06] <Valloric> dude, I barely have time to sleep :)
[19:36:09] <eddyb> we should make librustc faster, not work around that :P
[19:36:12] <Valloric> I'm _that_ busy
[19:36:14] <eddyb> Valloric: I know the feeling
[19:36:23] <eddyb> don't worry, I'll throw this on someone else
[19:36:52] <Valloric> other than the OSS stuff + personal projects I have, I'm also trying to launch a project at work
[19:37:01] <Valloric> up to my eyeballs
[19:37:23] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Quit: mbx)
[19:38:28] <eddyb> I've got someone testing some android stuff
[19:38:39] <eddyb> because I can't afford to waste two days trying to get that to work
[19:38:54] <eddyb> doomlord_: sup, btw? got GL working? :D
[19:39:17] <doomlord_> hi there,
[19:39:35] <eddyb> made my demo with glfw on desktop
[19:40:01] <doomlord_> i'm wrapping glut in an intermediate framework of my own at the minute, to see what this all looks like in rust..
[19:40:15] <eddyb> if I can't afford to implement the android stuff in glfw itself, I'll just redo glfw's API with android guts inside
[19:40:25] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[19:40:36] <doomlord_> i'm putting the what comes from glut callbacks (and eventually android low level) into an enum, and setting up trait-objects for srceens (view-controllers, i guess)
[19:41:08] <doomlord_> i'll probably start converting some of my C++ code across manually, my shader managers , test screen
[19:41:38] <doomlord_> right now my source is glut based; i could get an android glut implementation, or just manually fill in the few functions i actually use
[19:41:48] <eddyb> doomlord_: can you try making it look like glfw-rs?
[19:41:49] <Valloric> eddyb: never heard of botbot.me before, thanks for the link!
[19:41:50] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[19:41:57] <eddyb> Valloric: it's in the topic :P
[19:42:08] <doomlord_> iknow i should take a look at glfw, since its way more popular than glut
[19:42:15] <Valloric> eddyb: lol, that it is
[19:42:48] <doomlord_> i'll just take a look at glfw again
[19:43:10] <FreeFull> eddyb: I wish botbot.me filtered spam messages from botnets
[19:43:28] <doomlord_> once i get 'spinning cube' in my framework on desktop + android i'll shove it on github.. as much as anything i want crossplatform input abstractions
[19:43:50] *** Joins: brandonson (SingingBoy@610D90A5.EE9B234.1ECA502.IP)
[19:44:03] <FreeFull> doomlord_: opengl?
[19:44:04] <doomlord_> screen buttons with automatic hotkeys on desktop , a sensible approximation between mouse & touchscreen (pinch gestures as scrollwheel?)
[19:44:07] *** Quits: wirespeed (wirespeed@moz-6B368AB3.rev.sfr.net) (Quit: Leaving.)
[19:44:57] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[19:45:15] <doomlord_> gl and gl|es of course
[19:45:40] <doomlord_> over on glwt they tell me the NDK sample i use is half full of unnecasery junk
[19:46:56] <doomlord_> they recomend stripping most of that out (it brings in an extra library) and hitting the ndk directly, it seems there's some manually-rolled-vtable you pass to android; they suggested actually doing that in rust however it might mean keeping more in sync with updates, and i'm probably always going to use an intermediate crossplatform layer like glut or glfw..
[19:47:24] <eddyb> doomlord_: I mean, glfw-rs' high-level API is very nice
[19:47:34] <eddyb> if you want to do anything in Rust-only, mimic that
[19:47:47] <bascule> hmmmm
[19:47:57] <FreeFull> doomlord_: So the cube will be interactive?
[19:48:15] <FreeFull> For scrolling, you can do two-finger scroll rather than pinching
[19:48:21] <doomlord_> i'll use the test bed to develop my controller abstraction , so eventually yes
[19:48:39] <doomlord_> i have a driving demo in C++ on android with art my friends did
[19:48:46] <FreeFull> Pinching is really just a zoom gesture
[19:48:50] <bascule> if I'm FFIing to something that returns a heap-allocated C string, and I just want to promote that to a Rust string and free the original (or perhaps have a destructor that frees the original), is there some sort of first-class way to do that?
[19:48:55] <doomlord_> i've got virtual joypads in that
[19:49:30] <eddyb> bascule: the C String stuff in libstd
[19:49:36] <eddyb> std::c_str I think
[19:49:43] <doomlord_> yeah what i had in mind for pinching is to fudge a virtual mouse cursor to stay in the same location, and convert the pinch into discrete mouse-wheel events
[19:50:11] <doomlord_> then basically make *another* set of virtual events, "zoom-in, zoom-out" which come from (mousewheel or pinch gesture),
[19:50:24] *** Quits: marianoguerra (marianogue@moz-8C220F46.dip0.t-ipconnect.de) (Ping timeout)
[19:50:41] <doomlord_> etc.  "FPS move camera" - comes from mouselook, screen-drag , or right stick;   "FPS move" comes from WASD, virtual stick, real joypad, etc. etc.
[19:50:44] <bascule> eddyb: I'm using that to get C strings from Rust strings
[19:50:49] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[19:51:36] <doomlord_> modern consoles seem to have aquired a touchpad for a cursor so crossplatform UI might get just that little bit easier
[19:52:21] <eddyb> bascule: you can do the reverse. and/or there should be std::str functions
[19:52:23] <bascule> doomlord_: I never liked mouse pointers on TVs
[19:52:50] <doomlord_> true; i'll want to make onscreen buttons navigable with a dpad / cursor keys
[19:53:18] <doomlord_> yeah i doubt you could play an FPS using a touchpad
[19:53:53] <doomlord_> enums really clean up messaging based code. why have we suffered their absence for so long
[19:54:07] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Client exited)
[19:54:42] <Ralith> because it took you that long to move to one of the many languages having algebraic datatypes :p
[19:55:34] <o11c> ugh, is there any way to stop the funky stdout redirection in tests?
[19:55:37] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[19:55:57] <eddyb> o11c: it's there to stop worse things from happening, methinks
[19:56:02] *** Quits: epdtry (stuart@moz-C31FC981.hsd1.wa.comcast.net) (Ping timeout)
[19:56:05] <doomlord_> what was the first language to have them, and whats the 'most mainstream' language that has them
[19:56:24] <eddyb> Haskell for the latter
[19:56:31] <o11c> eddyb: well, it's making it impossible to read test output. Because stderr is *not* redirected
[19:56:50] <sfackler> it should be
[19:56:51] <eddyb> o11c: hehe that sounds like a bug/missing feature
[19:57:43] <FreeFull> Well, redirecting stderr isn't any harder to accomplish than redirecting stdout
[19:59:05] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Quit: Leaving.)
[19:59:32] *** Quits: indirect (indirect_m@moz-A838903C.hsd1.ca.comcast.net) (Ping timeout)
[20:00:07] <o11c> except, of course, that if you redirect them separately it's still hard to make them correspond
[20:00:24] *** Quits: nrc (nrc@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 30.0a1/20140307030202])
[20:01:03] <Ms2ger> eddyb, if Haskell is the *most* mainstream... :)
[20:01:22] <eddyb> that has ADT?
[20:01:31] <eddyb> there's also Haxe
[20:01:48] <eddyb> I don't know that many... which goes to show how mainstream they are
[20:02:18] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[20:02:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[20:02:52] <ryeguy> scala is more mainstream than haskell, and has them (case classes)
[20:02:53] *** Quits: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se) (Ping timeout)
[20:03:07] <eddyb> ryeguy: oh, that's news to me
[20:03:14] <Zor> http://en.wikipedia.org/wiki/Algebraic_data_type#Programming_languages_with_algebraic_data_types
[20:03:50] <ryeguy> eddyb, scala having adts, or scala being more mainstream than haskell?
[20:03:55] <eddyb> ryeguy: the former
[20:04:08] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[20:04:12] <eddyb> haha that reminds me I've forgotten to write my thoughts down on HKTs
[20:04:18] <eddyb> why are scala type lambdas bad?
[20:04:32] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[20:04:38] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[20:05:09] *** Quits: IanCormac84 (User@8616D593.64D641E5.67DFF8B4.IP) (Ping timeout)
[20:05:38] *** Joins: IanCormac84 (User@FE209E74.64D641E5.67DFF8B4.IP)
[20:05:40] <Ms2ger> Maybe ocaml
[20:07:47] <eddyb> ({type λ[α] = Either[A, α]})#λ
[20:08:24] <eddyb> that is bad... compared to <B> Either<A, B>
[20:08:43] <eddyb> so why shouldn't *we* have type lambdas?
[20:08:59] *** Quits: gwty (gwtypc@E9FC4F3D.13D358C6.49FF672.IP) (Ping timeout)
[20:09:27] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[20:10:02] <arielb1> I'm trying to compile rust and getting /build/rust/x86_64-unknown-linux-gnu/stage0/lib/rustlib/x86_64-unknown-linux-gnu/lib/librustc-6ccece0c-0.10-pre.so: undefined reference to `set_curterm'
[20:10:07] <arielb1> and similar errors
[20:10:44] *** Joins: gwty (gwtypc@4F106397.C1F508AE.137C914F.IP)
[20:10:49] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[20:11:13] <eddyb> arielb1: are you on an ancient version of some distro, by any chance?
[20:11:23] <arielb1> debian stable
[20:11:34] *** Quits: cdidd (cdidd@8F8B772.E9B8D6B1.62D8163C.IP) (Ping timeout)
[20:11:34] <eddyb> that's... debian, but it should be fine
[20:11:42] <eddyb> arielb1: any other errors or warnings?
[20:11:47] <arielb1> similar
[20:11:55] <eddyb> can you gist the entire log?
[20:12:18] <arielb1> I closed the windwo
[20:12:25] <eddyb> ...
[20:12:41] <eddyb> I hope, for your own sake, that it wasn't during linking librustc
[20:12:44] <eddyb> because that takes ages
[20:13:41] <doomlord_> so glfw itself doesn't have an android port?
[20:13:50] <eddyb> I don't think so
[20:13:55] <eddyb> but it does EGL
[20:13:55] <arielb1> I need a faster computer then my 2GHz C2D
[20:13:56] <doomlord_> is glfw-rs just rust bindings to glfw
[20:14:02] <eddyb> yes
[20:14:23] <bascule> hmm, maybe I should've chosen something simpler as my first attempt with FFI
[20:14:27] <bascule> I can't get this program to link :(
[20:14:49] <bascule> Undefined symbols for architecture x86_64: "_readline"
[20:15:12] <bascule> the FFI docs make references to readline but don't show a full blown readline program
[20:15:23] <eddyb> bascule: you don't have the libraries mentioned anywhere
[20:15:33] <bascule> what do you mean "mentioned"?
[20:15:51] <eddyb> specified
[20:15:53] <bascule> I have... #[link(name = "readline")]
[20:16:13] <eddyb> hmpf
[20:16:39] *** Joins: nkoep (nik@moz-C0153B76.pool.mediaways.net)
[20:17:50] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[20:17:58] <bascule> do I need anything else besides that?
[20:18:14] <eddyb> bascule: how does your entire program look like?
[20:18:36] <bascule> https://gist.github.com/tarcieri/ac1bfef2f4923b81531e
[20:18:56] <eddyb> bascule: LOL
[20:19:04] <eddyb> bascule: put the link attribute on the extern block
[20:19:05] <bascule> LOL what?
[20:19:11] <bascule> o
[20:19:18] <eddyb> I expected at least a warning from that
[20:19:29] * eddyb kicks the attribute system
[20:20:13] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Ping timeout)
[20:20:27] <bascule> woohoo
[20:20:29] <bascule> it compiled
[20:21:01] *** Joins: pnkfelix (pnkfelix@47E9D3A2.3778D849.1D6E592A.IP)
[20:21:03] <bascule> now hell the hell do I turn that into a std::str? ;)
[20:21:19] <eddyb> look around for methods that take a *u8 and produce a ~str
[20:21:31] <eddyb> CString should be able to do both C -> Rust and Rust -> C fwiw
[20:21:31] <o11c> ugh, rust's support for fixed-size arrays kind of sucks
[20:21:39] <eddyb> o11c: you mean being generic over them?
[20:21:41] <bascule> well there's std::str::from_utf8
[20:21:46] <o11c> #[deriving(Eq, Ord)] pub struct Utf8Char { bytes: [u8, ..7] }; ()
[20:21:48] <doomlord_> eddyb ok, glfw looks nice, and in some places not a million miles off glut anyway, so perhaps i can do both in the same c files.
[20:21:56] <o11c> rusti: #[deriving(Eq, Ord)] pub struct Utf8Char { bytes: [u8, ..7] }; ()
[20:21:57] -rusti- pastebinned 12 lines of output: http://sprunge.us/SeXS
[20:22:10] <bascule> eddyb: should I ask for a std::c_str via ffi?
[20:22:30] <eddyb> uhm, no
[20:22:44] <eddyb> there should be methods for this stuff all over the place :/
[20:22:50] <eddyb> I can't check the docs atm
[20:22:55] <bascule> I am sure there's a simple solution, but I can't find it
[20:23:16] <bascule> std::str::from_utf8 seems like my best bet?
[20:23:17] <FreeFull> rusti: let foo: (u16,u16) = unsafe { std::cast::transmute((3u16,50u16)) }; foo
[20:23:17] -rusti- (3u16, 50u16)
[20:23:19] <eddyb> is C allocating a buffer?
[20:23:22] <bascule> yes
[20:23:28] <bascule> it's a heap-allocated string I need to free
[20:23:32] <eddyb> use CString
[20:23:34] <FreeFull> rusti: let foo: [u16,..2] = unsafe { std::cast::transmute((3u16,50u16)) }; foo
[20:23:34] -rusti- [3u16, 50u16]
[20:23:48] <bascule> ok, should I make a new CString out of it?
[20:23:52] <eddyb> yes
[20:23:57] <bascule> mmmkay
[20:24:32] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[20:24:44] <bascule> do I pass true for "owns_buffer" in this case?
[20:24:55] <eddyb> I think so
[20:25:09] <eddyb> then it will get freed automatically
[20:25:09] *** Joins: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net)
[20:25:13] <bascule> cool
[20:25:32] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[20:27:17] *** Joins: nszceta (hax@moz-E6CA8D6.hsd1.pa.comcast.net)
[20:27:28] *** Quits: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net) (Ping timeout)
[20:27:40] *** Quits: nszceta (hax@moz-E6CA8D6.hsd1.pa.comcast.net) (Input/output error)
[20:28:41] *** Joins: cornelius (Mibbit@moz-EF234070.superkabel.de)
[20:29:27] *** Quits: cornelius (Mibbit@moz-EF234070.superkabel.de) (Quit: http://www.mibbit.com ajax IRC Client)
[20:29:34] *** Joins: skade (skade@moz-6A44521C.web.vodafone.de)
[20:30:27] *** Quits: flabbergaster (Mibbit@moz-DA794587.desm.qwest.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:31:39] <bascule> eddyb: aha, got it
[20:31:43] <bascule> I think
[20:31:51] <bascule> let result = std::str::raw::from_c_str(c_result as *i8);
[20:32:26] <bascule> I'm guessing I need to free c_result in that case?
[20:32:28] <o11c> bascule: er, if you need that cast something's probably wrong
[20:32:30] <eddyb> yeah
[20:32:44] <eddyb> o11c: just i8/u8
[20:32:54] <bascule> gonna go with yes
[20:32:57] <o11c> the origianl ffi method should be *std::libc::c_char
[20:33:08] <bascule> o11c: I tried that at one point... I can try it again
[20:33:51] <bascule> ok
[20:33:54] <bascule> that fixed the casting
[20:34:40] *** Quits: intuxicated (intuxicate@A9443CC2.9D1E10BA.3FFBF42F.IP) (Quit: Leaving)
[20:35:55] <bascule> https://gist.github.com/tarcieri/ac1bfef2f4923b81531e
[20:35:59] <bascule> there we go, that's a bit more sane ;)
[20:37:51] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[20:38:17] <o11c> ugh, the "cannot borrow mutably more than once" isn't fixed yet?
[20:38:31] <o11c> tk.set_flags(tk.get_flags() | anotherflag) ...
[20:38:37] <o11c> I suppose get_flags doesn't need mut ...
[20:38:42] <eddyb> hehe
[20:38:50] <eddyb> o11c: the issue is... problematic
[20:38:54] <Ms2ger> That's one & and one &mut, I guess
[20:38:57] <eddyb> actually, no
[20:39:08] <eddyb> just need to make borrowck check the receiver last
[20:39:20] <eddyb> the receiver borrow, that is
[20:39:20] *** Quits: jackneill (jackneill@moz-F0F0BE79.pool.digikabel.hu) (Quit: WeeChat 0.4.3)
[20:39:46] <o11c> Ms2ger: well, I copied the C API, which doesn't use const everywhere ... so it was &mut for both
[20:40:04] <eddyb> trickyt
[20:40:06] <eddyb> *tricky
[20:40:24] *** Quits: alonlevy (alon@moz-2E96F6C4.dynamic.jazztel.es) (Ping timeout)
[20:40:24] <eddyb> expr.foo(bar) should evaluate expr, bar, and then borrow expr for the call
[20:40:36] <eddyb> it's not exactly obvious
[20:40:53] <eddyb> o11c: if you want to go feet-first into borrowck, you have my invitation :P
[20:41:05] <o11c> ugh, but it doesn't allow immutable borrows either
[20:41:18] <eddyb> o11c: we were waiting for that ;)
[20:41:40] <o11c> see, this is why I like C++ ... it's nice and simple
[20:42:18] <eddyb> it's not like this is a design issue
[20:42:53] <Ms2ger> o11c, ... to shoot yourself in the foot :)
[20:43:03] <eddyb> in other news: Xorg "490 minutes" of CPU time... I want that wayland now pls
[20:43:04] <Ms2ger> Though this one is safe
[20:43:24] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[20:43:31] <eddyb> Ms2ger: doing it properly is harder to reason about
[20:43:51] <Ms2ger> Stuff is hard
[20:43:55] *** Joins: nszceta (hax@moz-E6CA8D6.hsd1.pa.comcast.net)
[20:44:10] <eddyb> Ms2ger: at least working on rustc is easier than life
[20:44:57] <eddyb> that's hardcore. also quantum computers but I can wait
[20:45:23] *** Joins: nical (nico@moz-4754F405.fbx.proxad.net)
[20:45:26] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[20:45:35] <o11c> eddyb: which is why the C++ crowd went with "screw reasoning about hard things"
[20:45:50] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[20:45:51] <o11c> note to self, port pangoterm to wayland
[20:45:52] <FreeFull> I'm not sure if quantum computers will ever be mainstream technology
[20:46:02] <FreeFull> Making a big one is very difficult
[20:46:18] <Ms2ger> o11c, didn't C++ predate reasoning? No other way to explain it :)
[20:46:38] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[20:46:40] *** Quits: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net) (Quit: stevegury)
[20:46:46] <o11c> Ms2ger: no, plenty of old languages did reasoning
[20:46:52] <o11c> C++ won explicitly by *not* doing it
[20:46:54] *** Quits: edwardw (edwardw@B5386878.16F55560.50B134B9.IP) (Quit: Leaving...)
[20:46:54] *** Joins: indirect (indirect_m@moz-A838903C.hsd1.ca.comcast.net)
[20:47:05] <eddyb> C++ never won anything
[20:47:16] <eddyb> it stole the souls of brave hackers
[20:47:24] *** Quits: nszceta (hax@moz-E6CA8D6.hsd1.pa.comcast.net) (Connection reset by peer)
[20:47:25] <o11c> win, steal - same thing
[20:47:36] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[20:48:07] <o11c> and until a language comes along that is willing to *only* fix the problems with C++ (breaking syntax compatibility), it will keep them
[20:48:18] <FreeFull> o11c: Did you just call C++ simple? =P
[20:48:24] <o11c> FreeFull: yes
[20:48:32] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[20:48:37] <o11c> Rust may compete with C++, but it will never replace it
[20:48:55] *** Quits: gwty (gwtypc@4F106397.C1F508AE.137C914F.IP) (Ping timeout)
[20:49:45] <eddyb> o11c: you say that before 1.0
[20:49:46] <FreeFull> I don't see how C++ is simple
[20:49:52] <eddyb> C++ has HKT
[20:50:03] <SiegeLord> I don't see how iterator invalidation is not a problem with C++
[20:50:08] <EKK> C++ is simple in one fact: that it's more complex than any other widely used programming language
[20:50:10] <SiegeLord> And other related concepts
[20:50:17] <eddyb> I had to find that from Rust people. goes to show how simple it is
[20:50:24] *** Joins: alan_andrade (alan_andra@moz-5CEA5B40.hfc.comcastbusiness.net)
[20:50:24] <EKK> However simplicity has many definitions
[20:50:25] <FreeFull> eddyb: It does?
[20:50:32] <eddyb> FreeFull: haha yeah, you're welcome
[20:50:37] <eddyb> (for this piece of trivia)
[20:51:09] <eddyb> template<typename<typename> Foo> struct Bar {Foo<int> a; Foo<char> b;};
[20:51:10] <o11c> eddyb: no, I say that because Rust isn't *trying* to have the power of C++
[20:51:25] <FreeFull> templates are crazy
[20:51:36] <eddyb> o11c: we want HKT... and variadic generics. so that sentence isn't exactly accurate
[20:51:55] <o11c> SiegeLord: iterator invalidation isn't hard ... it's just like pointer evaluation. If you don't do something that reallocates the pointer, it's safe.
[20:51:59] <eddyb> o11c: DSTs allow for a safe *dynamic* version of T[][][]
[20:52:04] <FreeFull> Variadics could work, since Rust doesn't do currying
[20:52:15] <eddyb> FreeFull: we can do HKT without currying
[20:52:16] <SiegeLord> o11c: Who prevents me from doing it? I hope it's not the incompetent old me
[20:52:17] <o11c> eddyb: still only a small subset of C++
[20:52:19] <eddyb> I meant to write that down
[20:52:22] <eddyb> o11c: what's missing?
[20:52:27] <FreeFull> eddyb: I didn't imply we couldn't
[20:52:39] <eddyb> FreeFull: I mean, we don't need currying at all
[20:52:45] <FreeFull> I know
[20:52:56] *** Joins: gwty (gwtypc@3CD2794D.9BCCF275.137C914F.IP)
[20:53:03] <FreeFull> I was just comparing to Haskell, where variadics are possible, but messy
[20:53:05] <o11c> eddyb: constexpr, integer template args, ...
[20:53:08] <eddyb> F a b c in Haskell is equivalent to F<A><B><C> not F<A, B, C>
[20:53:22] <eddyb> o11c: oh yeah, that stuff. we want it, one way or another
[20:53:28] <SiegeLord> Rust's CTFE could be more powerful than C++'s
[20:53:33] <SiegeLord> In some ways, it already is
[20:53:35] <eddyb> no kidding
[20:53:36] <o11c> eddyb: implicit conversions
[20:53:41] <eddyb> o11c: those are bad
[20:53:45] <eddyb> (most of the time)
[20:54:01] <SiegeLord> You can do network access in a procedural macro today... try doing that with C++ constexpr :P
[20:54:12] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[20:54:21] <eddyb> SiegeLord: a safe subset of Rust can be evaluated via LLVM at compile time to produce things like string hashes
[20:54:30] <o11c> eddyb: they may be "bad", but their usefulness is greater
[20:54:56] <SiegeLord> I don't see why CTFE has to be implemented in that way, rather than the general way used by procedural macros today
[20:55:21] <eddyb> SiegeLord: procedural macros lack type info
[20:56:04] <SiegeLord> Well, don't really need that for string hashes, do you?
[20:56:59] *** Quits: pczarn (pczarn@moz-69A55FA.izacom.pl) (Input/output error)
[20:57:00] <eddyb> I mainly want CTFE to write static mut HEAP = SlamAllocator::new(SimpleLinearAllocator::<[u8, ..INITIAL_HEAP_SIZE]>::new());
[20:57:15] *** Joins: epdtry (stuart@moz-C1405FC7.hsd1.wa.comcast.net)
[20:58:47] *** Quits: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net) (Quit: telotortium)
[20:59:18] *** Joins: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[20:59:46] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[20:59:57] <o11c> hm ... when wrapping a C API and porting the tests, what do I do if I think the test is for a feature that's not useful and hard to implement in the ported version?
[21:00:30] <eddyb> comment it out
[21:00:36] <eddyb> or idk
[21:01:29] <Havvy> Point out that test and feature is not included in the documentation.
[21:02:13] *** Quits: mgottschlag (quassel@moz-E895F1A4.cust.bluewin.ch) (Ping timeout)
[21:02:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[21:03:02] *** Quits: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[21:03:48] *** Joins: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net)
[21:03:53] *** Joins: paupau (posttext@moz-377BE2CD.hsd1.ca.comcast.net)
[21:04:00] <doomlord_> is there something to get the offset of a struct element,  (describing gl vertex layout, unsafe code..)
[21:04:07] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[21:04:12] <doomlord_> i can do it manually with adress arithmetic
[21:04:48] <FreeFull> I think address arithmetic is the way to go
[21:05:06] <doomlord_> one for the request list :) offset_of
[21:05:38] <doomlord_> i guess its always going to be happening in an unsafe block, i suppose a macro could do it
[21:05:52] <eddyb> doomlord_: &unsafe{&*(0u as *T)}.field as *FieldType as uint
[21:06:21] <eddyb> need a helper if you want to do it without specifying the field type
[21:06:25] <eddyb> or just transmute
[21:06:30] <doomlord_> yeah that would suck
[21:06:59] <doomlord_> if its all unsafe, can you just cast &....field as c_void , i'll try it,
[21:07:06] *** Quits: Armavica (virgile@moz-AD428ED7.ens.fr) (Quit: Lost terminal)
[21:07:18] *** Quits: blank_name (blank_name@2C5A9B5B.E6D3F868.537E532E.IP) (Quit: leaving)
[21:07:32] *** Joins: Armavica (virgile@moz-AD428ED7.ens.fr)
[21:07:47] *** Quits: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net) (Quit: telotortium)
[21:07:52] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[21:08:21] <eddyb> doomlord_: no, not really
[21:08:40] *** Joins: blank_name (blank_name@2C5A9B5B.E6D3F868.537E532E.IP)
[21:09:03] *** Quits: skade (skade@moz-6A44521C.web.vodafone.de) (Connection reset by peer)
[21:09:26] <Valloric> rusti: assert_eq!( bytes!( "\xff" ), bytes!( 255 ) )
[21:09:27] -rusti- task '<main>' failed at 'assertion failed: `(left == right) && (right == left)` (left: `[195, 191]`, right: `[255]`)', <anon>:10
[21:09:27] -rusti- application terminated with error code 101
[21:09:27] <doomlord_> you know the glVertexPointer functions :) they take a void* which is either an actual pointer, or a buffer offset, lol.
[21:09:33] <Valloric> why does that fail?
[21:09:46] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[21:10:07] <FreeFull> Valloric: "\xff" gives you unicode codepoint 255, I think
[21:10:14] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Ping timeout)
[21:10:18] <eddyb> so that's two bytes
[21:10:34] <eddyb> rusti: bytes!("\xff").as_bytes()
[21:10:34] -rusti- <anon>:10:23: 10:24 error: unexpected token: `.`
[21:10:34] -rusti- <anon>:10         bytes!("\xff").as_bytes()
[21:10:34] -rusti-                                 ^
[21:10:34] -rusti- application terminated with error code 101
[21:10:39] <Valloric> FreeFull: then that's misleading as hell
[21:10:43] <eddyb> rusti: (bytes!("\xff").as_bytes())
[21:10:43] -rusti- <anon>:10:10: 10:35 error: type `&[u8]` does not implement any method in scope named `as_bytes`
[21:10:43] -rusti- <anon>:10         (bytes!("\xff").as_bytes())
[21:10:43] -rusti-                    ^~~~~~~~~~~~~~~~~~~~~~~~~
[21:10:44] -rusti- error: aborting due to previous error
[21:10:44] -rusti- application terminated with error code 101
[21:10:50] <eddyb> oh
[21:10:55] <eddyb> rusti: (bytes!("\xff"))
[21:10:56] -rusti- &[195u8, 191u8]
[21:11:07] <FreeFull> Valloric: It's a consequence of Rust strings always being valid unicode
[21:11:10] <Valloric> FreeFull: \xFF should not be the same as \u00FF
[21:11:23] <o11c> doomlord_: but it's always an offset these days
[21:11:23] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[21:11:26] <Valloric> FreeFull: that's fine, but then \x shouldn't exist
[21:11:56] <o11c> agreed
[21:12:17] * o11c much prefers not enforcing unicode at the language level
[21:12:37] <eddyb> can someone count the uses of \xXX inside the repo itself?
[21:12:42] <eddyb> I guess I can do it, once I stop swapping
[21:13:23] <Valloric> rusti: assert_eq!( bytes!( "\xff" ), bytes!( "\u00ff" ) )
[21:13:24] -rusti- ()
[21:13:28] <Valloric> as I expected
[21:13:56] <eddyb> o11c: we won't have to, once we get DST
[21:14:23] <SiegeLord> Maybe it should refuse to compile when you give it something above \x7f
[21:15:02] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Quit: victorporof)
[21:15:53] *** Quits: epdtry (stuart@moz-C1405FC7.hsd1.wa.comcast.net) (Ping timeout)
[21:15:59] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[21:16:17] *** Quits: indirect (indirect_m@moz-A838903C.hsd1.ca.comcast.net) (Ping timeout)
[21:16:17] *** Quits: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca) (Quit: canhtak)
[21:16:33] <FreeFull> eddyb: Does DST magically fix everything? =P
[21:16:43] <o11c> eddyb: I don't see how that follows ...
[21:17:42] *** Joins: erickt__ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[21:17:49] <eddyb> I know we have to keep this channel civil, but let me say this: screw you, firefox!
[21:18:01] <eddyb> may servo win
[21:18:22] <eddyb> o11c: struct str {priv bytes: [u8]}
[21:18:27] <eddyb> time: 422.182 s translation
[21:18:51] <FreeFull> Servo still has a long way to go
[21:18:53] <eddyb> FreeFull: DST + HKT + VG
[21:19:03] <FreeFull> VG?
[21:19:05] *** Joins: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net)
[21:19:07] *** Joins: epdtry (stuart@moz-C1405FC7.hsd1.wa.comcast.net)
[21:19:12] <eddyb> FreeFull: I dare you to guess
[21:19:23] <aatch> I like strings being enforced as UTF-8
[21:19:34] <SiegeLord> I still don't quite get how DST will help
[21:19:35] <o11c> eddyb: I guess that's only necessary because it's impossible to reimplement pointers
[21:19:38] <aatch> It's pretty easy, eddyb goes on about it a lot.
[21:19:42] <FreeFull> Virulent Gears?
[21:19:58] <SiegeLord> Somebody still has to decide how to turn a string literal into that [u8]
[21:20:03] *** Quits: erickt__ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:20:03] <Valloric> eddyb: created #12769 for the \xXX issue
[21:20:10] *** Joins: skade (skade@B0278B5A.505237C9.CAE22B62.IP)
[21:20:19] <eddyb> Valloric: here's a suggestion (in case you want to open an issue about it): make the bytes! macro take the character values of the string, check they're in 0x00-0xFF range and use those
[21:20:24] <FreeFull> Vague Goats?
[21:20:46] <aatch> FreeFull, do you actually not know?
[21:20:54] <paupau> Variadic Genomes?
[21:20:55] <eddyb> Valloric: can't check that now, 400MB of free RAM
[21:21:05] * eddyb popcorn
[21:21:09] <FreeFull> aatch: I don't
[21:21:12] <Valloric> eddyb: so special-case \x escapes for bytes macro?
[21:21:26] <eddyb> Valloric: \u00FF would also work
[21:21:28] <FreeFull> Vincent Gallaby?
[21:21:33] <paupau> will rustc sequence my DNA before 1.0?
[21:21:33] <Valloric> eddyb:  that seems less than ideal
[21:21:37] <eddyb> Valloric: but \u0100 would be an error
[21:21:43] <eddyb> well, you want bytes, not characters
[21:21:49] <Valloric> eddyb: IMO it should just be removed, it does nothing \u doesn't do
[21:22:05] <eddyb> "fooo".as_bytes() gives you an utf8 byte array
[21:22:12] <eddyb> (and yes, it's static)
[21:22:19] <Valloric> eddyb: in C & C++, \x works differently from \u everywhere and is thus useful 
[21:22:44] <aatch> FreeFull, Varadiac Generic, as much fun as it is watching you guess
[21:22:49] <aatch> Generics*
[21:22:58] <Valloric> eddyb: but that's my point, you can't have byte 255 in a UTF8 string
[21:22:59] <eddyb> Valloric: yeah, I was thinking of actually making \x useful for bytes!, in case you copy paste a blob from C/C++
[21:23:24] <aatch> Valloric, I agree with your proposed solution.
[21:23:27] <FreeFull> aatch: Maybe Valloric Glandium  =P
[21:23:33] <eddyb> aatch: *Variadic
[21:23:47] <paupau> variadic generics... so <T*>?
[21:23:53] <eddyb> no
[21:23:55] <eddyb> <..T>
[21:23:59] <paupau> er right
[21:24:00] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[21:24:01] <eddyb> T* could be unsized
[21:24:03] <andor> are there any Map implementors in std or extra et al
[21:24:05] <eddyb> or T+
[21:24:13] <FreeFull> T?
[21:24:14] <paupau> neat
[21:24:18] <FreeFull> T.
[21:24:19] <aatch> andor, what do you mean?
[21:24:29] <aatch> Like a HashMap?
[21:24:31] <paupau> I'd make you some T, but...
[21:24:42] <andor> exactly hashmap
[21:24:48] <aatch> in libcollections
[21:24:53] <eddyb> ffs...
[21:24:55] <andor> cheers
[21:24:58] *** Joins: indirect (indirect_m@moz-A838903C.hsd1.ca.comcast.net)
[21:25:01] <eddyb> google chrome is still broken :(
[21:25:05] *** Quits: pnkfelix (pnkfelix@47E9D3A2.3778D849.1D6E592A.IP) (Quit: rcirc on GNU Emacs 24.3.1)
[21:25:14] *** Joins: rileyw (rileyw@moz-E40BCEED.hsd1.ca.comcast.net)
[21:25:25] <paupau> The std::local_data API is cool, with its singleton pointer keys, and its dynamic borrows
[21:25:38] <paupau> is it considered a convenient, well-designed API?
[21:25:41] <paupau> I might steal its interface
[21:25:51] <eddyb> the dynamic borrows are bad
[21:25:57] <eddyb> should be using RefCell
[21:25:59] <andor> and uhh... are there any public browsable docs hosted for the blown-apart libextra bits?
[21:26:09] <eddyb> yes, the index
[21:26:15] <paupau> eddyb: okay, I guess there's no point in reinventing that wheel yeah
[21:26:33] <eddyb> http://static.rust-lang.org/doc/master/index.html
[21:26:37] * aatch shudders at the dark days of @mut
[21:26:43] <eddyb> WTF IS GOING ON
[21:26:49] <eddyb> I'm not swapping
[21:27:13] <eddyb> but Ing either
[21:27:15] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:27:17] <paupau> eddyb: Ooh, is that index new? Never seen it
[21:27:27] *** Joins: telotortium (rmi1@moz-2333C9E1.public.wayport.net)
[21:27:30] <aatch> Also, there was a guy on Github called mut that kept getting added to random Rust issues
[21:27:43] <eddyb> *I'm not moving either
[21:27:52] <paupau> aatch: haha
[21:27:55] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[21:28:14] <eddyb> SiegeLord: that type can be a lang item... which is fine
[21:29:04] <SiegeLord> That still means it's in the spec that "\u00ff" gets turned into two bytes
[21:29:11] <eddyb> yes
[21:29:21] <eddyb> I meant that bytes! should treat codepoints as bytes
[21:29:23] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[21:29:33] <eddyb> instead of giving the utf8 repr which would be "foo".as_bytes()
[21:29:39] <paupau> Oh, it's under the "Other docs" link. That's why I've never seen it
[21:29:42] <rileyw> I'm just playing with Rust at the moment, but how exactly do you convert a string to an int? I'm aware that char has .to_digit(), but string doesn't have that.
[21:29:54] <FreeFull> aatch: That's funny
[21:29:55] <FreeFull> Poor guy
[21:29:59] <eddyb> rileyw: from_str(s)
[21:30:17] <eddyb> rusti: let x: int = from_str("-42").expect("pls gimmie int"); x
[21:30:18] -rusti- -42
[21:30:19] *** Joins: steven_is_false (user@C5B76363.1FF1EBF8.1ECA502.IP)
[21:30:24] <aatch> from_str returns a Option<T>
[21:30:30] <FreeFull> from_str is generally how you convert a string into anything
[21:30:59] <aatch> (since obviously theres no rational way to convert "cheese" to a number, not in base 10 anyway)
[21:31:21] <steven_is_false> Hello. I put up a concurrency and task communication related issue. I remember that someone in particular would like a CC but I forget the name. Who should I CC?
[21:31:23] <FreeFull> rusti: let x: int = from_str("0xff").expect("pls gimmie int"); x
[21:31:24] -rusti- task '<main>' failed at 'pls gimmie int', /build/rust-git/src/rust/src/libstd/option.rs:127
[21:31:24] -rusti- application terminated with error code 101
[21:31:28] <rileyw> eddyb: ah, cool. thank you.
[21:31:40] <aatch> steven_is_false, acrichto?
[21:31:41] <eddyb> steven_is_false: sounds like acrichto or pcwalton
[21:32:05] <aatch> acrichto has done most of the recent work on the runtime and related systems
[21:32:06] *** alexherbo2 is now known as Alexherbo2
[21:32:08] *** Quits: gwty (gwtypc@3CD2794D.9BCCF275.137C914F.IP) (Connection reset by peer)
[21:32:13] <steven_is_false> Okay, I guess I could CC them.
[21:32:21] <rileyw> eddyb, FreeFull: what's the best way to discover built-ins like that?
[21:32:24] <rileyw> just reading other people's code?
[21:32:30] <eddyb> rileyw: they're not built-ins
[21:32:46] <eddyb> rileyw: they're in libstd and have docs
[21:32:50] <aatch> rileyw, it's not a builtin, the from_str module in std is where it lives
[21:32:52] <FreeFull> I discovered it by looking for a way to convert strings to integers with rust docs
[21:32:58] <rileyw> ok, right
[21:33:04] <eddyb> aatch: yeah, but pcwalton cares about concurrency for servo and whatnot
[21:33:05] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[21:33:11] <FreeFull> Although I ended up having to google, because I didn't guess the name right
[21:33:13] <aatch> eddyb, good pont.
[21:34:10] <rileyw> I kept expecting to find it documented in std::int or something
[21:34:21] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[21:34:28] <aatch> rileyw, nah, because you can turn a string into lots of different things
[21:34:38] *** Joins: gwty (gwtypc@BDEC395D.CB9B5871.137C914F.IP)
[21:34:40] <rileyw> aatch: sure, but you can see why I started there
[21:34:42] <aatch> Anything that implements the FromStr trait, to be precise.
[21:34:48] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[21:34:57] <aatch> rileyw, fair enough.
[21:34:59] <rileyw> anyway, thanks for your help.
[21:35:20] *** Parts: steven_is_false (user@C5B76363.1FF1EBF8.1ECA502.IP) (ERC Version 5.3 (IRC client for Emacs))
[21:35:27] <o11c> yay, my first ICE: error: internal compiler error: no type for node 5285: local codepoint (id=5285) in fcx 0x2af0d92ae950
[21:35:39] *** Quits: matematikaadit (adit@9897200C.5073457B.907D3F95.IP) (Ping timeout)
[21:35:48] *** Joins: sockmister (Mibbit@moz-AA65C711.lns20.adl2.internode.on.net)
[21:36:07] <o11c> related to a field from in a match from part of a tuple from an Option that I forgot to .unwrap()
[21:36:32] <aatch> rileyw, oh, in std::num there is also from_str_radix
[21:36:32] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:37:21] <aatch> rusti: let x: int = std::num::from_str_radix("ff").expect("pls gimmie int"); x
[21:37:22] -rusti- <anon>:10:22: 10:52 error: this function takes 2 parameters but 1 parameter was supplied
[21:37:22] -rusti- <anon>:10         let x: int = std::num::from_str_radix("ff").expect("pls gimmie int"); x
[21:37:23] -rusti-                                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[21:37:23] -rusti- error: aborting due to previous error
[21:37:23] -rusti- application terminated with error code 101
[21:37:28] <aatch> rusti: let x: int = std::num::from_str_radix("ff", 16).expect("pls gimmie int"); x
[21:37:29] -rusti- 255
[21:38:06] <aatch> so you weren't too far off looking in `int`, just missed the more general `num` module
[21:38:28] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[21:38:33] <paupau> Is there a way to ask rustc for more context when an compilation error happens inside macro expansion
[21:38:43] <aatch> paupau, not really.
[21:38:56] *** Joins: koderok (Thunderbir@8CAA0F94.C97C5914.8D9DA8D9.IP)
[21:38:57] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Connection reset by peer)
[21:40:17] *** Quits: telotortium (rmi1@moz-2333C9E1.public.wayport.net) (Quit: telotortium)
[21:40:37] *** Joins: telotortium (rmi1@moz-2333C9E1.public.wayport.net)
[21:41:01] <paupau> let x: proc() = from_str(r#" println!("interpreter pls"); "#); spawn(x)
[21:41:08] <paupau> rusti: let x: proc() = from_str(r#" println!("interpreter pls"); "#); spawn(x)
[21:41:09] -rusti- pastebinned 7 lines of output: http://sprunge.us/VeaX
[21:41:57] <aatch> In theory that could be possible.
[21:42:22] <paupau> procs containing bytecode
[21:42:24] *** Quits: whitglint (uid15486@moz-31ABA2C0.irccloud.com) (Quit: Connection closed for inactivity)
[21:42:43] <Jarrett> r# ??
[21:42:56] <paupau> Jarrett: raw string
[21:43:01] <Jarrett> ah
[21:43:03] <paupau> so I can embed those "s without \"s
[21:43:16] <Jarrett> new to me
[21:43:50] <aatch> If I remember correctly, the syntax is `'r' '#'+ '"' .* '"' '#'+`
[21:44:01] <aatch> where the start and end '#' have to be the same length.
[21:44:03] <Jarrett> right
[21:44:12] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[21:44:14] <Jarrett> like lua's [=[ ]=]
[21:44:30] <aatch> rusti: r######"Test"####"######
[21:44:31] -rusti- "Test\"####"
[21:44:53] <aatch> rusti: r"Test"
[21:44:54] -rusti- "Test"
[21:44:54] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[21:44:59] <aatch> rusti: r"Test\a"
[21:45:00] -rusti- "Test\\a"
[21:45:07] *** Joins: tlbakh (tlbakh@71F79851.7379B95E.E084BF44.IP)
[21:45:18] *** Quits: tlbakh (tlbakh@71F79851.7379B95E.E084BF44.IP) (Quit: Leaving)
[21:45:21] <aatch> so if you don't need to use '"', then you can omit all the '#'s
[21:45:27] <Jarrett> yuh
[21:45:32] <paupau> rusti: r###" r##" r#"meta meat"# "## "###
[21:45:32] -rusti- " r##\" r#\"meta meat\"# \"## "
[21:46:06] *** Joins: bjustin (bjustin@moz-4B914826.hsd1.mn.comcast.net)
[21:46:07] <aatch> (so replace the '+' with '*' in my syntax description)
[21:46:08] *** Joins: tlbakh (tlbakh@71F79851.7379B95E.E084BF44.IP)
[21:46:35] *** Quits: brandonson (SingingBoy@610D90A5.EE9B234.1ECA502.IP) (Connection reset by peer)
[21:46:37] <aatch> It's useful for more complex formatting strings.
[21:46:49] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[21:47:05] *** Quits: telotortium (rmi1@moz-2333C9E1.public.wayport.net) (Ping timeout)
[21:47:24] *** Joins: isaacd (quassel@moz-6902374D.dhcp.oxfr.ma.charter.com)
[21:47:27] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[21:47:43] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[21:47:51] <aatch> since you need to escape '{' in a format string, which would otherwise require something like "\\{"
[21:47:58] *** Joins: telotortium (rmi1@moz-2333C9E1.public.wayport.net)
[21:50:01] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[21:50:14] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Quit: mbx)
[21:51:42] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[21:54:37] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[21:55:01] *** Quits: gwty (gwtypc@BDEC395D.CB9B5871.137C914F.IP) (Connection reset by peer)
[21:55:46] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[21:56:48] <paupau> does struct Newtype { wrapped: T } do newtype magic? or only struct Newtype(T)?
[21:56:50] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[21:58:04] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[21:58:20] *** Joins: gwty (gwtypc@8CA05C65.5C2F1574.BD94A9D5.IP)
[21:58:23] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[21:59:00] <kimundi> paupau Neither does any magic
[21:59:16] *** Quits: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net) (Quit: stevegury)
[21:59:25] <paupau> kimundi: ah that makes total sense
[21:59:34] <paupau> it's embedded as a value, so what's the difference
[21:59:45] *** Joins: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net)
[21:59:48] <kimundi> right
[22:00:10] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[22:00:40] <paupau> with DST will struct Newstr(str); be possible?
[22:00:40] <kimundi> because its just one value the memory layout, alignment etc ends up identically, but that really just falls out of the usual rules
[22:00:48] *** Quits: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net) (Quit: stevegury)
[22:00:49] <kimundi> paupau: yes
[22:00:59] <paupau> interesting
[22:01:18] <kimundi> paupau: That is, with DST I plan to remove the str type and define struct str { priv bytes: [u8] } in the library
[22:01:26] <paupau> ah
[22:01:30] <paupau> neat
[22:01:32] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[22:02:08] <paupau> will there no longer be a compile-time sizeof or offsetof once DST lands?
[22:02:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:03:20] <eddyb> paupau: there will, just won't work with unsized types
[22:03:41] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[22:03:44] <paupau> ah, right, just add :Sized and all's well
[22:03:47] <paupau> neat
[22:04:08] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[22:04:30] *** Quits: rileyw (rileyw@moz-E40BCEED.hsd1.ca.comcast.net) (Client exited)
[22:04:50] *** Joins: rileyw (rileyw@moz-E40BCEED.hsd1.ca.comcast.net)
[22:05:25] *** Joins: mgottschlag (quassel@moz-E895F1A4.cust.bluewin.ch)
[22:05:50] <p1start> Is there a proposal for HKT?
[22:06:48] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[22:07:34] <o11c> when will Rust get default arguments?
[22:07:54] <paupau> what is the sound of one point oh?
[22:07:59] <eddyb> o11c: VG gives you overloading
[22:08:15] <eddyb> that is, can't really have VG without allowing overloading
[22:08:22] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[22:08:36] <o11c> VG = ?
[22:08:41] <eddyb> haha you too?
[22:09:01] <eddyb> \o/ I can reclaim memory from tabs
[22:09:18] <SiegeLord> I want keyword arguments, rather than default arguments alone
[22:09:19] <eddyb> being able to use chrome again is amazing. and it's still aura!
[22:09:25] *** Joins: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca)
[22:09:26] <eddyb> SiegeLord: named arguments?
[22:09:43] <Luqman> o11c: i think it stands for variadic generics?
[22:09:43] <SiegeLord> Sure
[22:09:45] <Luqman> eddyb: ^?
[22:09:49] <eddyb> yupp
[22:10:58] *** Joins: vodik (simon@moz-614C9EF6.dsl.bell.ca)
[22:12:03] <SiegeLord> Although it seems kind of... unfair? that we have default type arguments but not default regular arguments :P
[22:12:29] <SiegeLord> It's difficult to feel strongly about it though
[22:12:50] <o11c> it's easy to feel strongly about it
[22:13:15] <eddyb> it's easy to feel strongly against single inheritance :P
[22:13:17] <o11c> since that means I either have to ship a second method with a silly name, or else expect people to write out the long name of the default value themselves
[22:13:28] *** Quits: telotortium (rmi1@moz-2333C9E1.public.wayport.net) (Ping timeout)
[22:13:28] <wycats> C
[22:13:37] <wycats> Default args are very helpful 
[22:13:46] <wycats> But I'm at brunch :p
[22:13:56] <SiegeLord> I haven't had that much issue without them in C :P
[22:14:01] <o11c> I don't see what's so hard about default arguments - it's only "check whether all the arguemnts are present, if not fill in the defaults" - *before* typechecking
[22:14:16] <o11c> SiegeLord: C doesn't have namespaces or typesafe enums
[22:14:19] <eddyb> o11c: it's harder
[22:14:28] <eddyb> it has to be done *while* type checking
[22:14:49] <eddyb> I made a comment somewhere on reddit
[22:15:00] <o11c> why can't it be before? you know methods earlier than you have to typecheck the main expression ...
[22:15:04] <eddyb> nope
[22:15:07] <o11c> I guess you do need to know the 'self' for the method, but ...
[22:15:09] <eddyb> that's the point :P
[22:15:16] <eddyb> type checking resolves methods
[22:15:36] <eddyb> o11c: it's somewhat easy for const exprs
[22:15:52] <eddyb> but if you want something that depends on previous arguments, for example...
[22:16:09] <eddyb> you can't easily do that now
[22:16:22] <eddyb> having a typed CFG would make it so easy *sigh*
[22:16:48] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[22:17:03] <SiegeLord> And in D, where I do have them, they always just confused me... especially when I wanted to change the default
[22:17:11] <Luqman> eddyb: i think you know what needs to be done then... :P
[22:17:32] *** Quits: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net) (Ping timeout)
[22:17:34] <eddyb> o11c: http://www.reddit.com/r/rust/comments/1zpzql/curryingpartial_function_application_or_trailing/cfwj522?context=10
[22:17:46] <eddyb> Luqman: only if someone else writes the tests for me
[22:17:54] *** Quits: koderok (Thunderbir@8CAA0F94.C97C5914.8D9DA8D9.IP) (Ping timeout)
[22:17:58] <eddyb> really, all that is left for #12610 is tests
[22:18:03] <eddyb> and I feel really really dumb
[22:18:16] <eddyb> as if I have to write an essay or something
[22:18:37] <Luqman> eddyb: coming up with tests is always a bit annoying
[22:18:49] <paupau> does changing a parameter's default impact ABI?
[22:18:51] <Luqman> though, i see niko has a list of some things to test
[22:19:05] *** Joins: fabiand (fabiand@moz-C1C20959.hsd1.ma.comcast.net)
[22:19:05] <Luqman> paupau: the type or value?
[22:19:08] <paupau> the value
[22:19:12] <eddyb> paupau: ABI?
[22:19:13] <eddyb> in Rust?
[22:19:18] <paupau> eheh.
[22:19:24] <paupau> I'm thinking about C++ I guess.
[22:19:39] <paupau> when defaults are in the headers
[22:19:41] <eddyb> seriously now, the concept contradicts even the simplest of optimizations
[22:19:48] <Luqman> paupau: i wouldn't think so
[22:19:55] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[22:19:57] <Ms2ger> eddyb, two to four pages about #12610, by next Friday 10PM
[22:20:13] <eddyb> Ms2ger: nightmare material
[22:20:23] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:20:34] <Ms2ger> The sooner you finish them, the sooner they go away :)
[22:20:40] <eddyb> I ain't going back to that now <insert more rap>
[22:20:50] <eddyb> Ms2ger: my solution was more drastic
[22:20:58] <Ms2ger> Drop out?
[22:21:05] <paupau> oh my! Deref landed! yay
[22:21:11] <eddyb> paupau: just the first part
[22:21:19] <eddyb> which is like setting up the stage
[22:21:25] <SiegeLord> Can one implement it on newtype structs again?
[22:21:30] <sockmister> Any way to turn a Vec<T> into a ~[T]?
[22:21:30] <eddyb> sure
[22:21:39] *** Joins: koderok (Thunderbir@8CAA0F94.C97C5914.8D9DA8D9.IP)
[22:21:43] <SiegeLord> Sweet... that was a sad day when I had to match all of those
[22:21:46] <eddyb> SiegeLord: keep in mind that you won't have to use *self at all
[22:21:58] <eddyb> fields and method accesses go right through
[22:22:18] <Ms2ger> eddyb, finish deref already, so we can pick it up :)
[22:22:18] <SiegeLord> Cool beans
[22:22:19] <eddyb> #[deriving(Deref)] would be nice
[22:22:25] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Ping timeout)
[22:22:39] <eddyb> Ms2ger: pcwalton probably ruined it with ~[T] -> Vec<T>
[22:22:45] <eddyb> and I have to write tests
[22:23:10] <eddyb> for something that's bringing infinite possibilities
[22:23:32] <sfackler> sockmister: vec.move_iter().collect() should do it
[22:23:42] *** Quits: rileyw (rileyw@moz-E40BCEED.hsd1.ca.comcast.net) (Client exited)
[22:23:43] *** Joins: rileyw (rileyw@moz-E40BCEED.hsd1.ca.comcast.net)
[22:24:12] <sockmister> a cheers. Should I be using Vec<T> or ~[T]? I don't see the difference
[22:25:43] <sfackler> Vec<T> probably. Once the DST changes go through ~[T] will no longer be a resizable vector
[22:26:04] *** Quits: mgottschlag (quassel@moz-E895F1A4.cust.bluewin.ch) (Ping timeout)
[22:26:24] *** Joins: lurk_ (chatzilla@moz-F088D030.hsd1.in.comcast.net)
[22:26:25] <Havvy> If you aren't going to mutate the size, can you still use ~[T]?
[22:26:34] <aatch> did the accessibility rules change?
[22:27:23] <aatch> I thought you were able to access any public item inside a crate, even if some modules aren't marked with 'pub' along the way to it
[22:27:26] <rdgawdzi> So I rebased my HEAD, and squashed 6 commits into one. See, the problem is I did that after I pushed to github, and submitted a pull request.
[22:27:44] <aatch> rdgawdzi, just force-push
[22:28:03] <sfackler> Havvy: I'm not totally sure how it'll end up
[22:28:35] <Havvy> rdgawdzi:  push origin master -f
[22:28:42] <Havvy> And then update the PR.
[22:28:48] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[22:29:34] <lurk_> Is there anyway to do this?
[22:29:40] <lurk_> let lineIter = if lineBottomTop { lines.rev_iter() } else { lines.iter() };
[22:29:41] <lurk_> for l in lineIter {
[22:29:43] <lurk_> 	...
[22:29:44] <lurk_> };
[22:29:51] <lurk_> C:\code\rust\bitmap\bitmap.rs:185:17: 185:84 error: if and else have incompatible types: expected `std::iter::Rev<std::vec::Items<,~[u8]>>` but found `std::vec::Items<,~[u8]>` (expected struct std::iter::Rev but found struct std::vec::Items)
[22:29:56] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[22:30:01] <Ms2ger> Mm
[22:30:09] <aatch> Havvy, so [T] is going to be a slice, a variable-sized type. Under DST, you have to wrap it in something that makes it sized
[22:30:17] <rdgawdzi> Havvy: that worked, though anything with -f feels dangerous lol
[22:30:18] <aatch> like a ~, & or Rc<T>
[22:30:25] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[22:30:47] <o11c> rdgawdzi: it should
[22:30:49] <Ms2ger> lurk_, maybe if you stick &mut in front of both
[22:30:53] <paupau> :q
[22:30:55] <paupau> argh
[22:31:00] <Ms2ger> rdgawdzi, yeah, this is github teaching bad habits
[22:31:05] <Ms2ger> paupau, "/quit" ;)
[22:31:08] *** Quits: paupau (posttext@moz-377BE2CD.hsd1.ca.comcast.net) (Quit: :wq!)
[22:31:09] <Havvy> rdgawdzi:  rebasing in general is dangerous.
[22:31:57] <Havvy> Ms2ger:  It's not really github's fault. It'd happen with any default remote repository setup.
[22:31:58] <aatch> lurk_, without converting the iterators into trait objects, you can't do it.
[22:32:13] *** Joins: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP)
[22:32:16] <lurk_> aatch: How do you go about that?
[22:32:21] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[22:32:35] <eddyb> uhm, can we stop making ~Iterator?
[22:32:50] <aatch> lurk_, well trait objects are generally considered to be a last-resort
[22:32:54] <eddyb> lurk_: you can make an enum
[22:33:23] <aatch> unless you *really* need runtime polymorphism, you shouldn't use them.
[22:33:43] <eddyb> enum VecItems {Forward(Items), Reverse(RevItems)} or something like that
[22:33:44] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:33:56] *** Joins: alisdair (textual@moz-47ADB83F.eng.wind.ca)
[22:34:02] <rdgawdzi> Havvy: So is rebasing the recommended thing to do when you are already submitted a pull request and you need to squash some commits?
[22:34:38] <aatch> lurk_, for your case, I'd say extract the body of the loop into a helper function then just have the for loop inside each branch
[22:34:41] <Havvy> Rebasing is the only way to squash some commits. But you theoretically shouldn't rebase after you've pushed to a remote repository.
[22:35:28] <rdgawdzi> Havvy: Makes sense. When I googled the issue, the recommended action was to create a new fork and do the pull request with that.
[22:35:50] <arielb1> I got to the rust compile error again
[22:35:51] <arielb1> https://clbin.com/g5a5j
[22:35:53] *** Quits: skade (skade@B0278B5A.505237C9.CAE22B62.IP) (Ping timeout)
[22:35:58] <Havvy> Yeah, that's messier than just force pushing.
[22:35:58] * Ms2ger grumbles
[22:36:11] <Ms2ger> Still not used to stick self. in front of my members
[22:36:18] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[22:36:44] *** Quits: urbanserj (urbanserj@3E28BD5F.398BF19F.86BD9C9E.IP) (Ping timeout)
[22:36:47] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Connection reset by peer)
[22:36:53] <aatch> arielb1, do you have curses installed?
[22:37:52] <arielb1> debian
[22:38:16] <aatch> arielb1, I think that should have curses installed by default.
[22:38:22] *** Joins: urbanserj (urbanserj@3E28BD5F.398BF19F.86BD9C9E.IP)
[22:38:33] <arielb1> I have libncurses5, libncurses5-dev, libncursesw5 but not libncursesw5-dev
[22:38:52] <aatch> not ncurses.
[22:39:00] <aatch> just curses, and term
[22:39:05] <aatch> do you have libterm installed
[22:39:10] <kimundi> rdgawdzi: force pushing to the remote will work fine from githubs side - you will loose all commit comments though (but not line comments, or pr comments)
[22:39:11] *** Quits: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de) (Quit: Leaving)
[22:39:20] <aatch> (you really should, I'd be amazed if you don't)
[22:39:31] *** Joins: skade (skade@B0278B5A.505237C9.CAE22B62.IP)
[22:39:47] <arielb1> whats libterm
[22:39:52] <arielb1> debian has no libterm package
[22:42:23] *** Quits: alisdair (textual@moz-47ADB83F.eng.wind.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:42:24] *** Quits: asmyers (quassel@moz-1BA75A5A.hrbgpa.east.verizon.net) (Ping timeout)
[22:42:37] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[22:43:03] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[22:43:43] *** Quits: fabiand (fabiand@moz-C1C20959.hsd1.ma.comcast.net) (Quit: Verlassend)
[22:45:08] *** Joins: cdidd (cdidd@moz-A7D589B4.broadband.corbina.ru)
[22:45:16] <o11c> sadness ... \e is not a valid escape sequence
[22:46:08] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[22:46:16] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[22:46:29] *** Joins: askalski (akuda@moz-9E60FE6.neoplus.adsl.tpnet.pl)
[22:47:09] <Jarrett> \x1b?
[22:47:14] <Jarrett> (isn't \e 27)
[22:47:46] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:48:19] <aatch> arielb1, those missing symbols are from the terminfo library. But I can't even find where we use them.
[22:48:58] <o11c> yeah, %s:\\e:\\x1b:
[22:51:03] *** Quits: marwy (user@41303A68.5C2AEEF8.CFA44423.IP) (Quit: ERC Version 5.3 (IRC client for Emacs))
[22:54:19] *** Quits: trustin (trustin@946D547D.87A02F9E.6FF1C976.IP) (Ping timeout)
[22:54:33] *** Quits: twi (Adium@moz-231F02E1.cust.vodafonedsl.it) (Ping timeout)
[22:54:57] *** Quits: alan_andrade (alan_andra@moz-5CEA5B40.hfc.comcastbusiness.net) (Input/output error)
[22:55:23] *** Quits: askalski (akuda@moz-9E60FE6.neoplus.adsl.tpnet.pl) (Quit: Wychodzi)
[22:55:23] *** Joins: alan_andrade (alan_andra@moz-5CEA5B40.hfc.comcastbusiness.net)
[22:56:26] *** Joins: twi (Adium@moz-27730ACE.cust.vodafonedsl.it)
[22:56:41] *** Quits: Ms2ger (Ms2ger@moz-D1296957.adsl-dyn.isp.belgacom.be) (Quit: nn)
[22:57:08] *** Quits: alan_andrade (alan_andra@moz-5CEA5B40.hfc.comcastbusiness.net) (Ping timeout)
[22:57:21] *** Quits: twi (Adium@moz-27730ACE.cust.vodafonedsl.it) (Connection reset by peer)
[22:57:40] *** Joins: trustin (trustin@946D547D.87A02F9E.6FF1C976.IP)
[22:57:46] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Quit: Leaving)
[22:58:23] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[22:58:47] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[22:58:49] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[23:00:05] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[23:00:54] <arielb1> It appears that llvm::sys::Process::FileDescriptorHasColors(int) is involved
[23:01:58] *** Quits: Alexherbo2 (alexherbo2@moz-A456CD9C.w83-199.abo.wanadoo.fr) (Quit: WeeChat 0.4.3-dev)
[23:02:05] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[23:02:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[23:02:37] *** Joins: twi (Adium@moz-27730ACE.cust.vodafonedsl.it)
[23:03:28] <arielb1> it calls all 4 relevant functions
[23:04:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[23:04:26] *** Quits: rileyw (rileyw@moz-E40BCEED.hsd1.ca.comcast.net) (Client exited)
[23:04:42] *** Quits: gimpf (gimpf@moz-33C16BB9.adsl.highway.telekom.at) (Quit: Leaving.)
[23:04:46] *** Joins: rileyw (rileyw@moz-E40BCEED.hsd1.ca.comcast.net)
[23:06:13] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:06:45] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[23:06:50] *** Quits: twi (Adium@moz-27730ACE.cust.vodafonedsl.it) (Ping timeout)
[23:07:07] *** Joins: twi (Adium@moz-288683AE.cust.vodafonedsl.it)
[23:07:56] *** Quits: twi (Adium@moz-288683AE.cust.vodafonedsl.it) (Connection reset by peer)
[23:07:59] *** Quits: quux00 (uid24415@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[23:08:00] <arielb1> what's that functino?
[23:08:02] *** Quits: eibwen (kvirc@moz-40E704BF.dip0.t-ipconnect.de) (Ping timeout)
[23:08:44] *** Joins: twi (Adium@moz-288683AE.cust.vodafonedsl.it)
[23:09:24] *** Joins: josh (josh@moz-244364B2.cable.virginm.net)
[23:11:54] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[23:12:14] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[23:14:07] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Ping timeout)
[23:15:42] <aatch> It checks to see if the given filedescriptor supported colored output
[23:15:49] <aatch> it's in LLVM though.
[23:16:43] <aatch> I have no idea what you've done, but that actually has a HAVE_TERMINFO check
[23:16:48] <aatch> have you re-run ./configure?
[23:17:13] <arielb1> sure
[23:17:45] *** Quits: lerc (quassel@moz-289EFA2.telstraclear.net) (Ping timeout)
[23:18:18] <bjustin> how do I use a module inside another crate? let's say I want to use a struct 'peel' declared in the 'banana' module in the 'fruit' crate
[23:18:52] *** Quits: nical (nico@moz-4754F405.fbx.proxad.net) (Ping timeout)
[23:19:00] *** Joins: erickt__ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:19:40] <kimundi> bjustin: check out the tutorial, section "crates and the module system"
[23:20:37] *** Quits: morganb (morgan_b_@moz-5EAC75A2.hfc.comcastbusiness.net) (Ping timeout)
[23:20:53] *** Quits: erickt__ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:23:19] *** Joins: alisdair (textual@24DAD211.3AC3B53F.7CD5C64F.IP)
[23:23:54] *** Quits: blindrenderer (blindrende@555260B4.329A1D83.D01D599A.IP) (Ping timeout)
[23:24:15] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Ping timeout)
[23:26:31] *** Joins: IanCormac841 (User@CF93BA5A.2A8D8854.67DFF8B4.IP)
[23:26:37] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[23:26:38] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[23:26:49] *** Quits: IanCormac84 (User@FE209E74.64D641E5.67DFF8B4.IP) (Ping timeout)
[23:28:54] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[23:28:57] *** Quits: twi (Adium@moz-288683AE.cust.vodafonedsl.it) (Ping timeout)
[23:29:09] *** Quits: skade (skade@B0278B5A.505237C9.CAE22B62.IP) (Ping timeout)
[23:29:10] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[23:29:40] *** Joins: strcat (strcat@moz-61B073BC.cpe.net.cable.rogers.com)
[23:29:44] *** Joins: twi (Adium@moz-CDA0FAF2.cust.vodafonedsl.it)
[23:30:19] *** Quits: twi (Adium@moz-CDA0FAF2.cust.vodafonedsl.it) (Connection reset by peer)
[23:31:22] *** Joins: twi (Adium@moz-CDA0FAF2.cust.vodafonedsl.it)
[23:31:32] *** Joins: brandonson (SingingBoy@610D90A5.EE9B234.1ECA502.IP)
[23:33:28] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[23:33:50] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[23:34:43] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[23:35:09] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[23:35:35] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[23:36:30] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[23:36:46] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[23:36:54] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Ping timeout)
[23:39:28] *** Joins: bleibig (bleibig@moz-B4D9C5AF.hsd1.ca.comcast.net)
[23:40:59] *** Quits: koderok (Thunderbir@8CAA0F94.C97C5914.8D9DA8D9.IP) (Quit: koderok)
[23:41:01] *** Joins: skade (skade@moz-6A44521C.web.vodafone.de)
[23:42:04] *** Quits: vodik (simon@moz-614C9EF6.dsl.bell.ca) (Quit: WeeChat 0.4.4-dev)
[23:42:52] *** Joins: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net)
[23:44:04] *** Quits: josh (josh@moz-244364B2.cable.virginm.net) (Quit: josh)
[23:47:10] *** Joins: josh (josh@moz-244364B2.cable.virginm.net)
[23:48:57] *** Quits: toshok (toshok@moz-43741342.cat) (Connection reset by peer)
[23:50:28] *** Quits: nkoep (nik@moz-C0153B76.pool.mediaways.net) (Quit: Leaving)
[23:52:20] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[23:52:30] *** Quits: tlbakh (tlbakh@71F79851.7379B95E.E084BF44.IP) (Client exited)
[23:55:57] *** Joins: lawrence (lawrence@C1F4DBCC.51109CF7.47C41102.IP)
[23:58:33] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[23:59:53] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
