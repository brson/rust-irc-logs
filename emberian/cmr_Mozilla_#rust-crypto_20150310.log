[00:02:16] <bascule> :(
[00:03:01] <Ilari> I measure complexity of protocol at simplest secure implementation. And SEVERLY dock for having simplest working implementation be much simpler than that.
[00:23:08] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[00:25:21] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[00:31:22] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[00:34:04] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[00:34:36] *** Joins: enix (enix@moz-0mgr2v.fios.verizon.net)
[00:39:08] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[00:48:01] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[00:51:17] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[01:00:06] <adu> oops
[01:00:16] <adu> ok, I wrote some examples
[01:00:17] <adu> http://andydude.github.io/rust-sha/sha/sha1/struct.Sha1.html
[01:02:37] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[01:28:45] <Ilari> SHA-1 is regarded as on weak side nowadays.
[01:28:58] <adu> Ilari: I needed somewhere to start
[01:29:11] <adu> Ilari: I also wrote a Sha3 impl
[01:29:17] <adu> https://github.com/andydude/rust-sha/blob/master/src/keccak.rs
[01:29:44] <Ilari> Where did you get the test vectors?
[01:29:50] <adu> which seems to not be the first
[01:29:51] <adu> https://github.com/seb-m/crypto.rs/blob/master/src/sha3.rs
[01:30:07] <Ilari> Note that draft SHA-3 is not the same as Keccak v3.
[01:30:08] <adu> there are 2 places
[01:30:16] <adu> http://www.di-mgt.com.au/sha_testvectors.html
[01:30:18] <Ilari> The padding is bit different.
[01:30:23] <adu> Ilari: I know
[01:30:36] <adu> but keccak.rs doesn't do padding, so it's an appropriate name
[01:31:29] <adu> and http://csrc.nist.gov/groups/ST/toolkit/examples.html
[01:31:50] <adu> those two links have the some of the only official test vectors I could find
[01:31:50] <Ilari> Also, SHA-3 is regarded as "bleh" currently.
[01:31:56] <adu> Ilari: 
[01:31:59] <adu> Ilari: why?
[01:32:35] <adu> Shake256 allows completely different kinds of protocols
[01:32:43] <adu> why would people not be excited about that?
[01:32:44] <eternaleye> adu: Because it's considerably more efficient in hardware than software
[01:33:02] <adu> eternaleye: isn't everything?
[01:33:06] <eternaleye> adu: No
[01:33:24] <eternaleye> adu: The issue with Keccak is less that it allows fast hardware, as that it's hard to make fast software
[01:34:01] <eternaleye> adu: Blake, for example, does not have that issue (and is seeing real use as a result)
[01:35:09] <eternaleye> adu: NIST has a long-standing habit of hardware-biased selection; see their assertions about how AES S-boxes are constant time.
[01:35:10] <adu> I could totally make sha3 super fast if I had SIMD in rust again
[01:35:48] <Ilari> Hah, eBACS seemingly has Skein-1024(!) faster than Keccak-224 on HW.
[01:35:52] <adu> I'm not asking about NIST, I'm asking why people don't like SHA-3?
[01:35:52] <Ilari> *Haswell
[01:36:12] <eternaleye> adu: Because it's strongly biased towards hardware.
[01:36:28] <adu> eternaleye: what about SHA3 is hardware specific?
[01:36:30] <eternaleye> adu: SHA-3 the competition, people liked. Keccak as the winner of SHA-3 rather less so.
[01:36:46] <eternaleye> adu: Not hardware-specific.
[01:36:51] <eternaleye> adu: Hardware-_biased_
[01:36:56] <adu> how so?
[01:37:14] <eternaleye> adu: Keccak is unnecessarily slow in software.
[01:37:15] <adu> what make it different from everything else being faster in hardware?
[01:37:25] <adu> eternaleye: you're going in circles
[01:37:29] <Dcoder> only uses xor, and, and bit rotations, which makes diffusion slower than it could be
[01:37:41] <Dcoder> but is great ofr hardware implementations
[01:37:42] <eternaleye> adu: You're thinking like there's only one reason for things to be faster in hardware.
[01:37:42] <adu> Dcoder: ah
[01:37:47] <Ilari> On the first system on eBACS, Blake2 is ~2.9x the speed  of Keccak(-256).
[01:38:16] <eternaleye> adu: There are many reasons - specialization has a benefit, yes, but some _design choices_ are just software-hostile
[01:38:17] <tiffany> diffusion?
[01:38:28] <tiffany> eternaleye: what kind of design choices?
[01:39:02] <Dcoder> keccak is not _that_ bad, especially compared with, say, groestl
[01:39:08] <eternaleye> tiffany: Well, poor diffusion means needing more rounds. In hardware, you can unroll that and execute multiple simultaneously via pipelining
[01:39:37] <eternaleye> tiffany: But in software, it's... more rounds.
[01:40:18] <Ilari> Also, Blake(2) and Skein are ARX-type, and modern CPUs can pipeline unholy amount of those at once.
[01:40:55] <eternaleye> Note that some design choices are *hardware*-hostile - PHC's quite focused on those
[01:41:29] <eternaleye> Those tend to come down to needing lots of RAM and needing lots of off-chip bandwidth
[01:42:18] <Ilari> Heh, designing stuff that isn't too bad for CPUs, but is hostile for just about anything else...
[01:42:52] <Dcoder> one interesting approach there was the multiplication hardening stuff
[01:43:00] <Dcoder> chaining a lot of multiplications together to increase area
[01:43:53] <adu> it just seems to me that the people are biased, not sha3
[01:44:07] <Ilari> Too bad you can't really spam 64x64->128 multiplier from amd64-capable CPUs...
[01:44:42] <eternaleye> adu: Getting Keccak to run _anywhere_ near Blake2b's speed in software is just not likely.
[01:46:03] <eternaleye> adu: "people are biased" only works if there isn't evidence that something is slower than it needs to be; and in software that's Keccak.
[01:46:50] <Ilari> Even beating Blake1 and Skein in software speed is not going to happen. And those are quite a bit slower than Blake2.
[01:48:30] <eternaleye> adu: People's views on using Keccak instead of Blake2 sound, to me, like people's views on using insertion sort rather than mergesort. It may do the same job; some people may have said it's what they recommend, but it's going to hose performance in places they care about so it's not happening.
[01:49:28] <adu> when did performance start trumping security?
[01:49:31] <eternaleye> adu: When performance and security conflict, security usually loses out - and in the case of Blake2b, there's really no evidence it's any less secure regardless.
[01:49:46] <Ilari> (Pretty much the only two things that are good about Skein: 1) The typing system has crazy amount of types in case you want to use that. 2) 1024-bit variant, in case 512 is not enough.)
[01:49:48] <eternaleye> adu: It shouldn't. But we don't live in a world of should's.
[01:51:39] <adu> well, I personally prefer group-think over ad-hoc decision-making, especially where there is no evidence either way.
[01:53:31] <adu> but in this case it seems group-think is anti-sha3
[01:53:33] <Dcoder> both keccak and blake seem to offer the same level/margin of security
[01:53:47] <Dcoder> when that happens, the other characteristics are the decision-makers
[01:53:52] <Dcoder> namely speed, features, etc
[01:56:52] <Ilari> Fortunately at least the two other finalists didn't win... Those additionally have the fun of using AES S-Box.
[01:57:52] <Ilari> Oh, and apparently even slower than Keccak in software.
[02:00:36] <Dcoder> JH was passable, but groestl no thanks
[02:00:59] <cmr> blake2 HYPE
[02:01:54] <cmr> oh they published libb2
[02:01:56] <cmr> that's nice
[02:02:26] <Dcoder> libb2's been rotting there for years
[02:02:50] <cmr> it at least didn't exist when I made https://github.com/cmr/libblake2
[02:02:57] <Dcoder> ah, right
[02:03:13] <Dcoder> i remember calling it libb2 to avoid conlicting with that one
[02:03:25] <cmr> heh
[02:03:36] <cmr> sorry :P
[02:04:22] <cmr> it's, like, not a big deal. I'd be happy to nuke libblake2 for that.
[02:04:36] <Dcoder> i don't think anyone cares enough, leave it be
[02:04:41] <Ilari> How long until someone makes libb2-sys? :->
[02:04:51] <Dcoder> -ng
[02:08:52] <adu> I understand now about the dangers of S-box
[02:09:42] <adu> but I have absolutely nothing against either blake2b or keccak, I'm pretty indifferent
[02:10:10] <adu> and it seems other people feel different
[02:10:30] <adu> and that's ok
[02:14:18] <Ilari> Most of the crypto in Internet run on software (at least outside special things like AES or AES-GCM).
[02:16:02] <tiffany> what's the danger of S-box?
[02:17:22] <adu> tiffany: L1, L2, L3 and RAM load times are different enough to be measured over a LAN
[02:17:50] <adu> tiffany: which means people on the other side of a university can decrypt your secrets
[02:19:11] <adu> tiffany: so any algorithm or implementation involving a[k] where k is secret, is has a vulnerability
[02:19:20] <tiffany> oh, yeah
[02:19:40] <tiffany> and S-box is often implemented as a lookup table?
[02:19:44] <adu> yes
[02:21:11] <Ilari> Also, on scale of things, lookup tables are also relatively slow.
[02:25:55] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[02:36:50] <Ilari> Also, cache timing attacks can work across VMs on same physical hardware (issue for "Cloud" deployments).
[02:38:15] *** Quits: brson (brson@moz-mj1.c9m.56.172.IP) (Quit: leaving)
[02:47:06] <tiffany> I imagine it's mostly probabilistic across networks, but you can probably more or less trust the result across VMs
[02:50:28] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[02:50:39] <Ilari> Also, in containerized systems (although those don't offer much protection)... Modern OS Schedulers are crazy vulernable to exploits.
[02:51:49] <cmr> containers are scary bad.
[02:52:45] <Ilari> Unfortunately also quite performant (making those popular).
[02:55:13] <eternaleye> tiffany: Even if it's probabilistic, all that means is you need more samples for a given confidence level
[02:55:24] <tiffany> yeah
[02:55:53] <tiffany> cmr: they're not that bad.. you just can't trust them as separate machines
[02:58:24] <tiffany> there's a CVE from time to time about sandbox breaks from containers, but afaik they require root to be useful
[02:59:03] <tiffany> if someone busts into a container and they're stuck on a measely user account (and why would you ever run any service as root, especially internet-exposed ones?), they can do even less than a measely user account on a normal system
[03:01:01] <Ilari> ... Hope the server has ECC.
[03:01:12] <Ilari> *ECC memory
[03:02:12] <tiffany> well, yeah
[03:02:42] <tiffany> I just found out about rowhammer today
[03:03:15] <Ilari> I think there also are three Xen security advisories to be published very soon.
[03:03:26] <cmr> that's the first time I saw that name, I like the trend of fun vuln names.
[03:03:33] <tiffany> I thought it was 5
[03:04:00] <tiffany> cmr: at least this one is vaguely descriptive of what it does
[03:04:51] <tiffany> there must be a lot of shared host / free shell account services which are vulnerable to this
[03:04:56] <Ilari> tiffany: There are 4 non-public ones listed. 3 to be announced today and one for 12th.
[03:05:13] <tiffany> ah
[03:05:53] <Ilari> I think there were originally only 2 for today (12th one existed back then) but 3rd was added later.
[03:08:18] <tiffany> I wonder if anyone is working on a hypervisor with a correctness proof
[03:16:19] <cmr> Ilari: libb2-sys would be up, but I'm having issues with with `cargo package`
[03:17:39] <Ilari> What's the error (in case one can guess from that)?
[03:19:04] <cmr> https://gist.github.com/anonymous/568acf8c499fd1be04d6
[03:19:38] <cmr> can't reproduce outside of `cargo package`, and I haven't figured it out yet...
[03:23:42] <Ilari> Some autoconf error apparently. Ugh.
[03:24:03] <cmr> yeah :\
[03:29:01] <cmr> I put it up anyway, https://github.com/cmr/libb2-sys
[03:29:20] <cmr> and uploaded with --no-verify
[03:29:27] <cmr> so it's probably broken :P
[03:32:42] <Ilari> cmr: Yeah, it is broken.
[03:40:24] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[03:41:21] <Ilari> Haha: 'Ongoing presentation on NIST's "Lightweight Crypto Project" from Meltem Sonmez Turan: "Not meant to be weak." That's a welcome change. :-)'
[03:42:56] <eternaleye> Ilari: Sounds like they just chose a really poor phrasing for "We want performance on constrained devices without sacrificing resillience"
[03:44:20] <eternaleye> Of course, my first thought when phrased that way is "...so curve25519, chacha, and poly1305 then?"
[03:47:24] <tiffany> is there a nice place that compares various popular crypto systems?
[03:47:53] <tiffany> nacl uses curve25519, salsa20, and poly1305, and now I'm wondering what the difference between chacha and salsa20 is
[03:50:23] <eternaleye> tiffany: ChaCha is a Salsa20, tweaked for better diffusion
[03:51:13] <tiffany> oh
[04:01:58] <eternaleye> tiffany: If DJB had made the revision a bit earlier - before Salsa20 was popularized and submitted to standards competitions and such - there probably would just be Salsa20 that behaves like ChaCha
[04:14:55] <tiffany> I just realised that curve25519, salsa20, and poly1305 are all by djb
[04:32:11] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[05:28:35] <eternaleye> Yup
[05:28:45] <eternaleye> As is NaCl
[05:29:04] <eternaleye> Well, modulo contributions by Tanja Lange for all of the above
[06:10:35] *** Quits: enix (enix@moz-0mgr2v.fios.verizon.net) (Ping timeout: 121 seconds)
[06:33:15] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[06:59:00] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[07:06:54] *** Joins: enix (enix@moz-0mgr2v.fios.verizon.net)
[07:08:41] <bascule> heh
[07:08:50] <bascule> anyone know the story on djb's relationship with NaCl now?
[07:08:57] <bascule> there was all the effort put into SUPERCOP
[07:09:04] <bascule> last I heard from him he was working on NEON support
[07:09:11] <bascule> but it seems he stopped giving a fuck after libsodium
[07:09:17] <bascule> which is probably for the best
[07:09:28] <Yurume> isn't TweetNaCl his answer?
[07:09:32] <bascule> because prior to libsodium, NaCl was unusable
[07:09:34] <bascule> haha sure that too
[07:10:00] <bascule> but packaging that up into something people can actually use is a bit harder than tweeting the source code
[07:10:47] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[07:14:33] <Ilari> There's also some super-fast HECC code in SUPERCOP, except it isn't in any sort of usable shape.
[07:14:46] <Ilari> *HECDH
[07:16:51] <Ilari> (Like 2x the speed of Curve25519 if one has AVX available).
[07:27:47] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[08:18:27] *** Joins: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP)
[09:29:01] *** Joins: ttaubert (uid2620@moz-6d2u0s.uxbridge.irccloud.com)
[09:30:21] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[09:34:31] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[09:41:32] *** Quits: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP) (Connection closed)
[09:41:33] *** Joins: Tobba|Craptop (Tobba@moz-1hh.7ki.21.217.IP)
[10:40:34] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[11:33:47] *** Quits: Tobba|Craptop (Tobba@moz-1hh.7ki.21.217.IP) (Connection closed)
[11:34:05] *** Joins: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP)
[13:32:56] *** Quits: enix (enix@moz-0mgr2v.fios.verizon.net) (Ping timeout: 121 seconds)
[14:03:15] *** Quits: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[14:15:23] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[14:23:27] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[15:12:00] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[15:13:40] <Ilari> Wonder what kind of hell will deploying THS fix be... Probably pretty bad.
[16:38:00] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[18:01:34] *** Joins: brson (brson@moz-obm.e0n.56.172.IP)
[18:12:01] *** Quits: tiffany (lymia@moz-5vj.q69.88.23.IP) (Ping timeout: 121 seconds)
[18:41:03] *** Quits: brson (brson@moz-obm.e0n.56.172.IP) (Ping timeout: 121 seconds)
[18:41:07] *** Joins: tiffany (lymia@moz-6q5ofr.lyrical.lymia.moe)
[18:41:32] *** Joins: brson (brson@moz-obm.e0n.56.172.IP)
[18:45:15] <Tobba> why does it seem embedded security is so hard for many companies
[18:45:24] <Tobba> embedded security analyst must be one of the easiest jobs ever
[18:47:51] <Tobba> and more importantly, why do people trust these things at all
[18:50:42] <Ilari> Because security is not a priority.
[18:51:33] <tiffany> people don't expect appliances to be turing-complete and reprogrammable
[18:51:49] <Tobba> I expect them not to have a command that reveals their password
[18:51:54] <Tobba> or a backdoor login
[18:51:57] <Tobba> both of these are hideously common
[18:52:12] <tiffany> oh, I expect both
[18:52:24] <Tobba> I'm certain that 90% of all exploits on embedded devices involve various forms of calls to system()
[18:52:25] <tiffany> it takes effort to remove debug mechanisms before pushing the firmware to production
[18:52:37] <Tobba> I've found some serious shit with no auth at all
[18:52:47] <Tobba> and some with minefields of system() calls
[18:53:11] <Tobba> oh and httpd being a sudoer is suprisingly common
[18:56:09] <Tobba> breaking into secure networks through security cameras 'erryday
[18:58:40] <Ilari> Wasn't some major retailer broken into via HVAC systsms?
[18:58:43] <Ilari> *systems
[18:58:53] <Tobba> wouldn't be suprised
[18:59:01] <Tobba> I've found HVAC systems with no creds
[18:59:25] <Ilari> Ah, Target hack was allegedly via HVAC system.
[18:59:33] <Tobba> half of all embedded devices (asspulled number obviously) seem to use default passwords
[18:59:48] <Tobba> I wouldn't be suprised if that number was quite undershot
[19:31:17] <eternaleye> There was also that ipv4 census thing
[19:52:07] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[19:58:12] *** Quits: ttaubert (uid2620@moz-6d2u0s.uxbridge.irccloud.com) (Quit: )
[19:59:54] *** Joins: Tobba|Laptop (Tobba@moz-o13d22.bredband.telia.com)
[20:03:04] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[20:04:02] *** Quits: Tobba|Laptop (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[20:43:27] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[22:16:25] <Ilari> When security is not a priority, obviously you will get very insecure stuff (costs and time have to be kept in check and all).
[22:17:24] <mcpherrin> We moved into an office recently, and the landlord told us to connect our elevators to the internet
[22:17:34] <mcpherrin> so naturally our IT security folk poked at it a bit first
[22:18:17] <eternaleye> Was it as bad as I'm anticipating?
[22:18:19] <mcpherrin> windows xp machine with a guessable (probably default) password,
[22:18:22] <eternaleye> ...
[22:18:30] <mcpherrin> they wanted it exposed to the internet
[22:18:57] <eternaleye> This is sounding like the setup to a BOFH column.
[22:19:14] <Ilari> And what could one do with that password guessed? Execute arbitrary code as LOCALSYSTEM?
[22:19:52] <mcpherrin> So you can RPD in as the user and run their GUI app
[22:20:02] <mcpherrin> letting you do things like override elevator controls
[22:20:53] <mcpherrin> Presumably not much more than you could do from the service panel inside the elevator -- but enough to be annoying if all your elevators decide they're gonna go hang out on the top floor and stay put
[22:21:12] <Ilari> Well, having connected elevators is clearly useful for "IoT overdrive" event. :->
[22:22:25] <Ilari> Haha: "@bascule they sure did a fine job on CFRG"
[22:24:58] <Ilari> Wonder if the initial results that Edwards-Edwards is faster than Edwards-Montgomery was because they cocked up the point conversion? Or did they use uncompresed points (probably a bad idea)?
[22:26:10] <Ilari> E.g. By converting both coordinates or doing two divisions (instead of just one).
[22:26:34] <Ilari> Or using forms where Montgomery constant is huge.
[22:28:27] <Ilari> Well, it might be that Edwards-Edwards is a bit faster if you play things dangerously.
[22:38:25] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[23:07:09] <bascule> Ilari: lol :|
[23:09:03] <Ilari> Their curves were pretty terrible (most elliptic curves are terrible).
[23:15:27] <Ilari> Yay: "state machine hell" (AGL in in-progress TLS interrim minutes).
[23:19:50] <bascule> :D
[23:23:49] <Ilari> My term would be "SMACK-trap".
