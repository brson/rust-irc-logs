[00:00:24] <etw> am I going about append in the right way, trying to pull a mutable ref out of the Cons?
[00:01:36] *** Quits: Skif (emschwar@moz-4C5BB5A8.beyondbb.com) (Ping timeout)
[00:02:05] *** Quits: canhtak (canhtak@moz-A13A68C3.wl.t.ulaval.ca) (Quit: canhtak)
[00:03:07] *** Joins: canhtak (canhtak@moz-A13A68C3.wl.t.ulaval.ca)
[00:03:25] <kimundi> etw: Well, for appending you need to take a &mut Tree or else you can't modify it
[00:03:44] <etw> yep, figured that part out straight away
[00:03:49] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[00:03:58] <kimundi> etw: And the Tree you want to append, you can probably take by value instead by & reference
[00:04:33] <kimundi> etw: And one function that might come in handy is std::util::swap
[00:05:00] <kimundi> etw: exchanges two values, can be used to switch part of the tree with a Nil, or otherway round
[00:07:32] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[00:11:52] <etw> hmm, if I take the tree I'm appending by value it's going to make a lot of copies as it recurses to the end
[00:12:02] *** Joins: lenstr (lenstr@DA467856.8FE2B31C.CAA35E3B.IP)
[00:16:39] <kimundi> hm? by value would just mean you wouldn't have to copy the Tree out from behind the &Tree pointer
[00:18:28] *** Quits: lkuper (lkuper@87D98E32.4046EB22.428F94DD.IP) (Quit: lkuper)
[00:18:34] *** Joins: Jesin (Jesin@moz-27916D21.washdc.fios.verizon.net)
[00:22:11] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:22:23] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[00:22:23] *** ChanServ sets mode: +o pnkfelix
[00:22:30] *** Joins: mark_edward (quassel@moz-97E995A.hsd1.in.comcast.net)
[00:23:04] <etw> how can I match on a mutable Cons? right now I get "cannot borrow immutable anonymous field as mutable"
[00:23:18] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[00:23:20] *** Joins: dwrensha (chatzilla@moz-39B4ACCD.hrbgpa.fios.verizon.net)
[00:23:38] <etw> I'm matching mut &Tree with match *tree { Cons(_, ref mut tail @ ~Nil) =>
[00:24:04] <dbaupp> etw: it needs to be &mut Tree
[00:24:08] <kimundi> etw: The problem is that you have  &Tree
[00:24:23] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[00:24:46] <etw> so append should be append(tree: &mut Tree...
[00:24:54] <kimundi> yep :)
[00:24:58] <etw> oh darn
[00:25:05] *** Joins: kphelps (kphelps@moz-8F37EAB2.ri.ri.cox.net)
[00:25:12] <mark_edward> ChrisMorgan: ping
[00:25:53] *** Joins: moostik (Icedove@moz-C2FFB694.w82-121.abo.wanadoo.fr)
[00:26:29] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[00:27:27] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[00:27:42] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[00:27:59] *** vfetwnuncszu is now known as dcrewi
[00:28:37] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[00:28:53] <etw> oh damn, finally got it working
[00:29:00] <etw> ☺  ./go.sh                                                                                                                                                                                   ‹2.0.0-p247›
[00:29:00] <etw> ~Cons(~Nil, ~Cons(~Text(~"hello"), ~Nil))
[00:29:01] <etw> ~Cons(~Nil, ~Cons(~Text(~"hello"), ~Cons(~Text(~"world"), ~Nil)))
[00:29:17] <etw> thanks!
[00:29:40] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[00:29:46] <mitsuhiko> has anyone done some tests in regards to how many tasks rust can run in the absence of spaghetti stacks at the moment?
[00:29:55] <mitsuhiko> compared to before
[00:30:05] <mitsuhiko> (i'm assuming each task now gets 2mb stacks?)
[00:31:53] *** Joins: JamesNZ (james@C92C5D48.8253A3FC.22A2FE1F.IP)
[00:32:20] *** Quits: lenstr (lenstr@DA467856.8FE2B31C.CAA35E3B.IP) (Quit: Leaving...)
[00:32:28] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[00:32:42] *** Quits: moostik (Icedove@moz-C2FFB694.w82-121.abo.wanadoo.fr) (Ping timeout)
[00:32:44] *** vfetwnuncszu is now known as dcrewi
[00:32:46] <cmr> mitsuhiko: > 208841 on my box.
[00:33:35] *** Joins: z0w0 (zack@moz-6264033D.qcl9.cha.bigpond.net.au)
[00:33:40] *** Joins: lenstr (lenstr@DA467856.8FE2B31C.CAA35E3B.IP)
[00:33:53] <mitsuhiko> cmr: what would it be limited by?
[00:34:05] <cmr> mitsuhiko: memory
[00:34:16] <cmr> I'm running task-perf-one-million to get these numbers, btw.
[00:34:50] <mitsuhiko> cmr: do those tasks currently ask for the whole stack or does the os only give the pages as needed?
[00:35:03] <cmr> mitsuhiko: it mallocs the whole stack
[00:35:11] <cmr> what that does is implementation dependant.
[00:35:15] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[00:35:25] <cmr> with glibc, it's just an mmap
[00:35:29] *** kimundi is now known as zz_kimundi
[00:39:39] *** Quits: JamesNZ (james@C92C5D48.8253A3FC.22A2FE1F.IP) (Ping timeout)
[00:40:05] *** Quits: ohler (ohler@C7A9365F.7E6A0813.1428D117.IP) (Quit: ohler)
[00:41:38] <cmr> with ./task-perf-one-million 60, it's aborted after 6 minutes, using ~2300G of virt, and 12.3G res.
[00:41:40] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[00:42:07] * cmr weeps for his page/block cache
[00:42:23] <mletterle> eh.. interesting... something new broke... get a new SIGSEGV
[00:42:32] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[00:42:32] *** vfetwnuncszu is now known as dcrewi
[00:43:12] <mletterle> in str::raw::from_c_str... hrm.
[00:43:34] <mitsuhiko> cmr: how much did you get before segmented stacks were lost? (out of curiosity)
[00:43:42] <mitsuhiko> (currently building rust, that will take a while)
[00:43:49] <cmr> I don't remember.
[00:43:57] <cmr> Let me build it with an older rustc..
[00:47:47] <cmr> mitsuhiko: with 0.8, ~23282
[00:48:06] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[00:48:27] <cmr> I was able to get master to 284176 before it started swapping
[00:48:45] <mitsuhiko> huh, i would have expected more tasks before the removal of segmented tasks
[00:49:27] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[00:50:15] <dbaupp> mitsuhiko: we didn't have segmented stacks in 0.8
[00:50:30] <cmr> Oh they were gone then too?
[00:50:30] <dbaupp> (i.e. they weren't implemented in the new runtime at that point)
[00:50:33] * cmr tries 0.7
[00:50:38] <cmr> was the new runtime the default?
[00:51:44] <cmr> heh
[00:52:13] *** Joins: ohler (ohler@C7A9365F.7E6A0813.1428D117.IP)
[00:52:23] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[00:52:30] <cmr> with 0.7, I get an assertion from the rustrt at 32
[00:52:35] <cmr> So it's the same # tasks as 0.8
[00:52:56] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[00:52:58] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[00:53:01] <mitsuhiko> interesting
[00:53:05] <mitsuhiko> thanks :)
[00:53:17] <cmr> (but it *is* faster than master at spawning..)
[00:53:26] * cmr stops torturing his computer
[00:56:46] *** Joins: lkuper (lkuper@moz-72054E1A.nyc.res.rr.com)
[00:59:47] <mark_edward> why does macro expansion ignore impl???
[00:59:59] <cmr> mark_edward: hm?
[01:00:47] <mark_edward> macros.rs:43:8: 43:12 error: macro expansion ignores token `impl` and any following
[01:00:47] <mark_edward> macros.rs:43         impl ::util::json::FromJson for $name {
[01:01:48] <cmr> That is the "macros can't expand to multiple items" bug.
[01:01:51] <cmr> It's fixed on master now.
[01:02:28] <mark_edward> hm... since when?
[01:02:46] <cmr> 4 days ago
[01:02:48] <cmr> https://github.com/mozilla/rust/pull/10649
[01:04:18] <mark_edward> why is the rust-nightly package on ubuntu not actually nightly then? It's not called rust-weekly... rebuilding from source is such a pain... my poor laptop's fans...
[01:04:21] *** Quits: lenstr (lenstr@DA467856.8FE2B31C.CAA35E3B.IP) (Client exited)
[01:05:50] <cmr> according to the launchpad page,  it was updated 16 hours ago.
[01:06:05] * o11c is exciting about getting a new laptop that should manage to not die during builds
[01:06:10] <cmr> with a commit from yesterday.
[01:06:27] <cmr> so it looks pretty nightly to me?
[01:07:32] <mark_edward> hm... so why am i getting that error? i just ran sudo apt-get upgrade...
[01:07:51] <cmr> did you update first?
[01:08:07] <mark_edward> yup
[01:08:21] <cmr> Maybe it's a different issue then
[01:10:50] <sfackler> mark_edward: is the macro expanding inside of a module or a function?
[01:11:01] <mark_edward> sfackler: yes it is
[01:11:10] <sfackler> which one
[01:11:32] <sfackler> ?
[01:11:36] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[01:12:20] <sfackler> macros can only expand fully in item position, not expression position
[01:12:23] <sfackler> unfortunately
[01:12:24] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[01:12:42] <sfackler> er, not statement position
[01:12:46] <sfackler> https://github.com/mozilla/rust/issues/10681
[01:13:04] <mark_edward> sfackler: here https://github.com/MarkJr94/reddit/blob/master/redditor.rs#L43-L44 and macro def here: https://github.com/MarkJr94/reddit/blob/master/macros.rs#L35-L57
[01:13:48] *** Joins: itdnhr (it@moz-7FAAAB8D.bstnma.fios.verizon.net)
[01:13:50] <sfackler> yep, it's because it's expanding inside of a function
[01:13:59] <mark_edward> :-(
[01:14:13] <sfackler> if you wrap it in a module it'll work! :(
[01:14:23] <sfackler> but now it can go on the outside
[01:14:46] <sfackler> e.g. mod hack { json_struct2!(Response, "data" -> data:Redditor) }
[01:15:29] *** Joins: moostik (Icedove@moz-C2FFB694.w82-121.abo.wanadoo.fr)
[01:15:58] <sfackler> that bug I linked is the one to follow for that
[01:17:33] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[01:17:48] *** vfetwnuncszu is now known as dcrewi
[01:19:31] *** Joins: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com)
[01:19:56] <mark_edward> ok thanks
[01:20:03] <mark_edward> i hate reading Python docs
[01:20:44] <mark_edward> half of the method signatures are `(*args, **kwargs)` it's like reading C where every function takes an array of `void*`
[01:22:35] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[01:22:35] *** ChanServ sets mode: +o pnkfelix
[01:24:27] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[01:24:39] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[01:27:50] <mitsuhiko> python's biggest fault is that it never gained a way to annotate the signature
[01:27:56] <mitsuhiko> (if you wrap it)
[01:28:01] <cmr> never?
[01:28:04] <cmr> ah
[01:28:34] <mitsuhiko> there was a proposal to add func.__signature__ to make it possible for a decorator to inherit the signature of the wrapped function
[01:29:12] *** Quits: lkuper (lkuper@moz-72054E1A.nyc.res.rr.com) (Quit: lkuper)
[01:29:48] *** Joins: brson (brson@981AA104.E81F12CD.76F66111.IP)
[01:29:48] *** ChanServ sets mode: +ao brson brson
[01:32:46] *** Quits: moostik (Icedove@moz-C2FFB694.w82-121.abo.wanadoo.fr) (Ping timeout)
[01:36:10] <mletterle> Eh, figured out the seg fault, nothing to do with rust actually, weird that i never noticed it before though.
[01:36:28] *** Quits: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com) (Quit: csherratt)
[01:40:14] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[01:40:39] <mib_10jlw4> I there an online ci site other then travis? I don't want to use github.
[01:41:28] <cmr> https://drone.io/ is the only one I know of that's free.
[01:43:16] <mib_10jlw4> Bah! Still doesn't support launchpad.
[01:43:52] <cmr> set up your own jenkins bot?
[01:44:25] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[01:44:49] <mib_10jlw4> I guess. But then I'd have to set up a web server to. >_<
[01:45:10] *** Quits: brson (brson@981AA104.E81F12CD.76F66111.IP) (Ping timeout)
[01:46:56] *** Joins: jvns (bork@87D98E32.4046EB22.428F94DD.IP)
[01:48:31] *** Quits: ohler (ohler@C7A9365F.7E6A0813.1428D117.IP) (Quit: ohler)
[01:48:36] *** Joins: Skif (emschwar@moz-4C5BB5A8.beyondbb.com)
[01:48:53] *** Joins: sp3d (s@moz-41A29595.dhcp.stls.mo.charter.com)
[01:49:02] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[01:49:03] <sam113101> what does ci mean?
[01:49:14] <cmr> continuous integration
[01:49:18] <sam113101> ok
[01:49:37] *** Joins: brson (brson@6A848D32.C1B840DD.76F66111.IP)
[01:49:37] *** ChanServ sets mode: +ao brson brson
[01:50:18] *** Quits: Skif (emschwar@moz-4C5BB5A8.beyondbb.com) (Ping timeout)
[01:54:10] *** Quits: santiago (santiago@moz-CF057779.lv.lv.cox.net) (Ping timeout)
[01:54:36] *** Joins: Florob (Florob@moz-39532932.de)
[01:54:51] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[01:54:51] *** vfetwnuncszu is now known as dcrewi
[01:55:45] *** Joins: miseria (Mibbit@moz-F5A43469.eb.protectedgroup.com)
[01:55:59] *** Quits: miseria (Mibbit@moz-F5A43469.eb.protectedgroup.com) (User has been banned from Mozilla (no spamming here))
[02:06:09] *** Joins: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com)
[02:06:35] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[02:06:49] <cmr> TeXitoi: great work with the shootout benchmarks so far :)
[02:07:00] *** Quits: six600110 (six600110@moz-C663577C.hsd1.il.comcast.net) (Ping timeout)
[02:08:32] *** Joins: six600110 (six600110@moz-C663577C.hsd1.il.comcast.net)
[02:13:48] *** Quits: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net) (Quit: Sharp)
[02:14:42] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[02:20:09] *** Joins: roboshark (Mibbit@moz-812F74B9.lightspeed.rlghnc.sbcglobal.net)
[02:21:18] *** Quits: roboshark (Mibbit@moz-812F74B9.lightspeed.rlghnc.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[02:21:23] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[02:22:22] <mark_edward> cmr: what benchmarks?
[02:22:55] <cmr> mark_edward: he's updating the shootout benches
[02:23:11] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[02:23:11] *** ChanServ sets mode: +o pnkfelix
[02:25:17] <mark_edward> oh cool, i'd love to see it when it's available
[02:25:50] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[02:26:14] <mletterle> obviously the solution is to write a CI bot in rust
[02:26:36] <cmr> mark_edward: they're all in the repos
[02:26:39] <cmr> src/test/bench
[02:26:55] <mark_edward> ah i see
[02:28:25] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[02:29:26] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[02:30:59] *** Joins: Ginaroushe (Polaris@moz-A8D04E14.tampfl.fios.verizon.net)
[02:32:44] <Ginaroushe> holy shit lovely european pussy, omg and she has a dildo in right now http://instaflurt.com/magic_crystal/
[02:32:53] *** Quits: Ginaroushe (Polaris@moz-A8D04E14.tampfl.fios.verizon.net) (Client exited)
[02:35:02] <sam113101> don't click it guys, it's not worth it, rap is being played in the background
[02:35:23] <mletterle> thx
[02:35:43] <jeaye> Can we get him banned, ops?
[02:35:58] *** Quits: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Client exited)
[02:36:30] <sam113101> it's kind of weird that people would target #rust
[02:36:40] <brson> jeaye: how do i ban him?
[02:36:42] <cmr> It was the entire network.
[02:36:43] <mletterle> brendanc, kmc, nmatsakis, or acrichto: porn spammer needs a +b: Ginaroushe (Polaris@moz-A8D04E14.tampfl.fios.verizon.net)
[02:36:50] <cmr> network/server
[02:37:04] <mletterle> er.. brson not brendanc .. nvm
[02:37:26] <mletterle> yeah, that happens
[02:38:06] *** brson sets mode: +b *!Polaris@moz-A8D04E14.tampfl.fios.verizon.net
[02:38:49] <sam113101> he was kind of fair, though, he could have said "guy, why won't my code compile?" ( ≖‿≖) 
[02:39:05] *** brson sets mode: +b *!*@moz-A8D04E14.tampfl.fios.verizon.net
[02:43:00] <cmr> Any announcements for TWiR?
[02:43:28] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[02:43:43] *** vfetwnuncszu is now known as dcrewi
[02:44:21] *** Quits: themgt (themgt@moz-83F07CDA.cm.vtr.net) (Quit: Pogoapp - http://www.pogoapp.com)
[02:44:40] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[02:45:34] *** Quits: mib_10jlw4 (Mibbit@moz-3213C615.wavecable.com) (Quit: http://www.mibbit.com ajax IRC Client)
[02:46:09] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[02:47:16] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Input/output error)
[02:47:52] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[02:48:35] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[02:50:09] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[02:54:21] *** Joins: achin (achin@moz-193F7FAD.ri.ri.cox.net)
[02:54:54] <achin> hi all.  can someone help me understand the difference between these two functions:  https://gist.github.com/eminence/07e19332c2e907c80340
[02:55:33] <achin> (and in case there is no appreciable difference, when would one style be used over the other)
[02:56:08] <cmr> achin: https://github.com/mozilla/rust/wiki/Doc-lowlevel-details
[02:57:01] <cmr> The first uses dynamic dispatch, the second uses static dispatch (like a template)
[02:57:19] <cmr> Though do note that you'd usually just use `T` there, and not force the caller to box it.
[02:58:10] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[02:58:44] <achin> i thought to keep them similar, i would uses boxes for both, since i don't believe you can do fn Foo(a: Writer)
[02:58:47] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[02:59:15] <cmr> You can not, but that doesn't make the second case idiomatic :)
[03:00:23] <cmr> http://cmr.github.io/blog/2013/11/30/this-week-in-rust/
[03:00:25] <achin> all things being equal, i suppose static dispatch would be prefered
[03:00:49] <cmr> Yes, generally you use generics wherever possible
[03:01:55] <achin> thanks for the very clear response!
[03:03:31] <achin> on the topic of idiomatic rust, is there a definitive style guide for rust?  or even an informal style guide?
[03:03:50] <mletterle> cmr: Thank you, btw.
[03:04:09] <mletterle> "jack: hopefully in two years it won't be a problem." <-- warm and fuzzies right there ;) 
[03:04:56] <achin> (also, i <3 TWiR)
[03:06:28] <benh> \o/ twir
[03:06:33] *** Joins: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net)
[03:06:50] *** Quits: Ferreus (ferreus@moz-5E3FA94E.pools.arcor-ip.net) (Quit: WeeChat 0.4.2)
[03:07:19] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[03:07:35] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[03:13:21] <jeaye> achin: https://github.com/mozilla/rust/wiki/Note-style-guide
[03:13:38] <Eridius> cmr: your email link is busted. You forgot to encode the spaces
[03:13:45] <Eridius> (at least, in the ML post)
[03:14:08] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[03:14:15] <Eridius> looks like it's encoded in the blog post
[03:14:26] <brson> ooh, the owned ast seems to open up a bunch af parallism opportunities to the compiler
[03:16:57] <achin> jeaye: thanks
[03:17:04] <jeaye> cheers
[03:18:11] *** Quits: zz_kimundi (kimundi@moz-6B8BCD77.dip0.t-ipconnect.de) (Ping timeout)
[03:20:01] <mletterle> eh... weird... rust-dev says I'm not a member.. pretty sure I posted to the list before.. 
[03:21:05] <mletterle> ah no, I didn't.. stupid email... previous "post" was a reply to the author and not to the list. Thanks Gmail!
[03:21:46] *** Quits: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net) (Quit: Sharp)
[03:21:56] *** Joins: zz_kimundi (kimundi@moz-BA49E2B1.dip0.t-ipconnect.de)
[03:22:16] *** zz_kimundi is now known as kimundi
[03:23:15] *** Joins: ohler (ohler@C7A9365F.7E6A0813.1428D117.IP)
[03:23:44] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[03:23:44] *** ChanServ sets mode: +o pnkfelix
[03:24:50] <achin> nit:  pressing [Enter] does't initiate a search on the rust doc pages
[03:24:53] *** Quits: nkoep (nik@moz-262E6D4E.pool.mediaways.net) (Client exited)
[03:24:53] *** Quits: SiegeLord (sl@moz-C606190.bstnma.fios.verizon.net) (Connection reset by peer)
[03:25:41] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[03:25:45] <achin> correction:  it seems the search isn't working at all
[03:26:09] <mletterle> search is.. weird.
[03:26:20] <mletterle> if it doesn't find anything, it doesn't do anything
[03:26:36] <mletterle> and sometimes I have to refresh to get it to work again.
[03:26:53] <achin> ah, hm
[03:28:48] *** Joins: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net)
[03:29:14] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:29:31] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[03:29:32] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:30:00] <mletterle> I'm not saying it's not wrong.. just that, AFAIK, it's always been that way.
[03:30:46] <achin> well, i tried to search for 'Send', and got nothing.  i expected to get at least 1 result
[03:33:42] <mletterle> yeah.. weird, if you try typing "str" you can see it works.. 
[03:34:06] <mletterle>  ¯\_(ツ)_/¯
[03:35:57] <cmr> Eridius: encode the spaces?
[03:36:02] <cmr> It should just be plaintext in the email
[03:36:11] <cmr> The blog post is whatever octopress decided to do with my plaintext.
[03:36:31] <bjz> cmr: ah, did you miss port.recv_iter() in TWiR?
[03:36:39] <cmr> bjz: it's there.
[03:36:44] <bjz> oh nice
[03:36:52] <cmr> "GenericPort now has an iterator over the messages it receives."
[03:37:21] *** Joins: Skif (emschwar@moz-4C5BB5A8.beyondbb.com)
[03:37:44] <bjz> cmr: sorry, missed it :)
[03:37:46] *** Quits: ohler (ohler@C7A9365F.7E6A0813.1428D117.IP) (Quit: ohler)
[03:38:41] <Eridius> cmr: I can't click the mailto: URI in the email :P 
[03:38:46] <Eridius> if you encoded spaces as + I could...
[03:38:54] <bjz> "Names of methods creating iterators have changed drastically to remove the _iter suffix" woops
[03:38:58] <Eridius> hrm, `make -j4` failed on current master. ar: x86_64-apple-darwin/rt/stage0/librustrt.dylib: Inappropriate file type or format
[03:39:06] *** Quits: Skif (emschwar@moz-4C5BB5A8.beyondbb.com) (Ping timeout)
[03:39:18] * Eridius makes clean
[03:39:59] <cmr> Eridius: Oh
[03:40:11] <cmr> When I used + it had the wrong subject line when I opened it..
[03:40:26] <cmr> Maybe I was just doing it wrong.
[03:41:14] <cmr> yeah I was doing it wrong.
[03:41:21] <Eridius> heh
[03:41:29] <cmr> Eridius: fixed, thanks.
[03:44:14] *** Quits: Kingsley (kingsley@9B172CBE.BEA5C56D.DF4B730F.IP) (Connection reset by peer)
[03:44:38] *** Joins: Kingsley (kingsley@9B172CBE.BEA5C56D.DF4B730F.IP)
[03:44:42] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[03:45:14] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[03:45:22] *** Joins: vadimcn_ (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[03:45:25] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[03:45:26] *** vadimcn_ is now known as vadimcn
[03:48:23] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Client exited)
[03:49:25] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[03:51:50] <Eridius> cmr: well crap. For some reason Safari+Mail.app isn't interpreting the +'s as spaces, even though AFAIK it should (because this is a query string; and yeah I know mailto: links are URIs and not URLs, so maybe that's why it differs?)
[03:52:03] <Eridius> cmr: so basically, go back to the old :(
[03:52:38] <Eridius> cmr: you could try embedding literal %20's. Hopefully the blog engine won't try and rewrite that (and why would it?)
[03:52:43] *** Quits: Earnestly (earnest@38FE72A5.82423D8F.BFD1ABFD.IP) (Ping timeout)
[03:52:44] <cmr> That's what I experienced, too. When I opened the link from my terminal, the + wasn't replaced with ' ', but firefox did do the replacements.
[03:52:55] *** Quits: brson (brson@6A848D32.C1B840DD.76F66111.IP) (Ping timeout)
[03:53:21] <Eridius> ugh, `make clean` didn't properly clean out stage2/lib apparently. Because `make install` is complaining about more than one library matching libstd-*.rlib
[03:53:34] <Eridius> guess I'd better blow away the entire build
[03:53:41] <mletterle> check your local/lib dir
[03:53:46] <mletterle> if the hashes changed that can do it.
[03:53:54] <cmr> jack: acrichto: ^^^^ maybe the makefile cleaning is broken?
[03:54:02] <Eridius> mletterle: it's complaining about the build products dir, not my install path
[03:54:04] <cmr> mletterle: the build system is supposed to prevent that.
[03:54:13] <mletterle> cmr: I had it happen at least once in the path.
[03:54:17] <mletterle> Eridius: carry on then :)
[03:54:20] <mletterle> *past
[03:54:37] <Eridius> hrm, `make clean` after `rm -rf x86_64-apple-darwin` gives some nice errors like `find: x86_64-apple-darwin/rustllvm: No such file or directory`
[03:54:47] * Eridius re-configures
[03:54:52] <achin> i have seen issues when installing 0.9 to the same prefix as 0.8.  i had both 0.8 and 0.9 libs in my install prefix (make didn't clean out the old ones)
[03:54:57] <Eridius> I've had multiple installed libraries if the library hashes change
[03:54:58] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[03:55:05] <Eridius> (or the version number)
[03:55:19] <Eridius> ok, re-configuring fixed `make clean`
[03:56:14] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[03:56:42] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[03:56:48] <acrichto> hm, there may yet still be wrinkles in transitioning to rlibs
[03:57:08] <acrichto> we've also stopped using librustrt.dylib, so that's another change which needs clearing out
[03:57:15] <acrichto> but those should all happen naturally...
[03:57:49] <Eridius> acrichto: glancing at clean.mk, I see clean-generic-$(2)-$(1): runs a find that deletes a bunch of library types but doesn't delete '*.rlib'. Is that intentional
[03:57:49] *** Quits: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net) (Quit: Sharp)
[03:57:52] <Eridius> ?
[03:58:02] *** Quits: jordyd (jordyd@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net) (Ping timeout)
[03:58:38] <acrichto> we try to blanket destroy all runtime dylibs we generate, but we pinpoint cleanup things in $target/stageN
[04:05:24] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[04:08:56] *** Joins: SiegeLord (sl@moz-C606190.bstnma.fios.verizon.net)
[04:09:17] *** Joins: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net)
[04:09:59] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[04:10:18] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[04:10:27] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[04:11:32] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[04:11:38] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[04:11:56] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[04:14:45] <jvns> when I try to do core::mem::size_of<IDTEntry>(), I get the error "`IDTEntry` is a structure name, but this expression uses it like a function name"
[04:14:56] <cmr> jvns: size_of::<IDTEntry>
[04:15:01] <jvns> ah ha
[04:15:08] <jvns> why does it say "uses it like a function name"?
[04:15:33] <Eridius> jvns: probably because size_of is a function, and you're applying the < operator to it
[04:15:36] <cmr> it parses it as a comparison.
[04:15:40] <strcat> rusti: true<true>false
[04:15:41] -rusti- false
[04:15:42] <Eridius> so it's saying "ah hah, this type is being used where a function type might possibly go!"
[04:15:47] <jvns> haha
[04:15:49] <jvns> that makes sense!
[04:15:56] <strcat> rusti: let a = true; let b = false; a<a>b
[04:15:57] -rusti- false
[04:16:13] <strcat> rusti: fn foo() -> bool { false } let a = true; a<a>foo()
[04:16:14] -rusti- false
[04:18:15] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[04:18:37] <mletterle> oh wow, that could be evil.  Can't wait for the obfuscated rust contest one of the days.
[04:20:24] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[04:20:28] <strcat> happens in any language with < and > operators and <> for generics
[04:20:53] <jvns> so how do I tell Rust about extern functions?
[04:21:11] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[04:21:15] <jvns> like if I have a function idt_load() that I've written in assembly
[04:21:31] <strcat> extern { fn idt_load(); }
[04:21:40] <strcat> extern "ABI" { fn idt_load(); }
[04:21:44] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[04:21:52] <mletterle> jvns: see http://static.rust-lang.org/doc/master/tutorial-ffi.html
[04:22:00] <jvns> mletterle: thanks!
[04:24:24] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[04:24:24] *** ChanServ sets mode: +o pnkfelix
[04:24:49] <jvns> how can I get the address of a pointer as a u32?
[04:25:08] <jvns> I'm getting an error "non-scalar cast: `&[IDTEntry, .. 256]` as `u32`"
[04:25:44] *** Joins: derek_c (derek@moz-E72F174.cit.cornell.edu)
[04:26:00] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[04:26:14] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[04:26:17] <strcat> jvns: coerce it to a raw ptr first
[04:27:20] *** Quits: doomlord_ (servitor@moz-9738D381.range86-160.btcentralplus.com) (Quit: Leaving)
[04:27:36] <jvns> like (as *[IDTEntry]) as u32?
[04:28:18] <strcat> no need for parens, but yeah
[04:28:20] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[04:28:24] *** Quits: lerc (quassel@1025964E.9BA67FF7.788638A4.IP) (Client exited)
[04:28:35] <strcat> rusti: let x = 5; &x as *int as uint
[04:28:36] -rusti- 140153299558656u
[04:29:44] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:30:02] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[04:30:03] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:30:03] *** Joins: _MARIANO42 (harrymaxim@65C2DBD6.2E5E68D.D6ECB108.IP)
[04:30:25] *** Parts: _MARIANO42 (harrymaxim@65C2DBD6.2E5E68D.D6ECB108.IP) ()
[04:30:39] <jvns> strcat, "idt as *[IDTEntry] as u32" isn't right, but I can't figure out what is
[04:30:48] <jvns> "non-scalar cast: `[IDTEntry, .. 256]` as `*~[IDTEntry]`"
[04:30:51] <strcat> jvns: [T] isn't a type
[04:31:36] <strcat> rusti: let x = &([1, 2, 3]); x as *[int, ..3] as uint 
[04:31:37] -rusti- 140038597927144u
[04:31:39] <jvns> *[IDTEntry, ..256] and *&[IDTEntry] don't work either
[04:31:53] <strcat> it's not &[T]
[04:31:56] <strcat> it's a fixed-size vector
[04:32:05] *** Joins: lerc (quassel@1025964E.9BA67FF7.788638A4.IP)
[04:32:08] <strcat> *[T, ..n] is a pointer to a block of `n` values
[04:32:28] <strcat> *&[T] is a pointer to a slice (which is a pointer and a length)
[04:32:35] <jvns> hmm
[04:32:38] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[04:33:17] <jvns> ah ha, got it 
[04:33:41] <strcat> [T, ..n] (fixed-size), &[T] (slice - ptr and length), and that's all rust-core really uses
[04:33:59] <strcat> there's also ~[T], which is a dynamically sized vector, but rust-core uses a Vec<T> type because it's faster
[04:34:05] <jvns> sweet it compiles
[04:34:16] <jvns> so now I'm getting linker errors like "idt.o:(.rodata+0x0): multiple definition of `rust_abi_version'"
[04:34:30] <strcat> how are you compiling?
[04:34:53] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[04:35:11] <jvns> this is my makefile: http://paste.ofcode.org/ePGiY7bqw4MTck8kLGtXbB
[04:35:36] *** Quits: lerc (quassel@1025964E.9BA67FF7.788638A4.IP) (Client exited)
[04:35:38] <strcat> jvns: you can't use .o files for rust
[04:35:38] <jvns> so I guess rustc -O --target i386-intel-linux --lib ...
[04:35:50] <strcat> you just build the top-level file with rustc
[04:35:54] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[04:35:55] <jvns> it was working before I added a second file
[04:35:57] <strcat> it will include all the others automatically
[04:35:59] <jvns> oh 
[04:36:06] <jvns> how do I include the other files in the top-level file?
[04:36:09] <strcat> mod
[04:36:15] <strcat> mod foo;
[04:36:37] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[04:36:40] <jvns> oh, I tried that, but I got these "error: duplicate entry for `eq`" errors so I thought it was the wrong thing
[04:36:56] <strcat> you can't use 'extern mod'
[04:37:02] <strcat> jvns: your top-level file needs #[no_std]
[04:37:13] <jvns> hmm it has #[no_std]
[04:37:17] <strcat> jvns: mod foo { ... } defines a module
[04:37:27] <strcat> mod foo; is equivalent to 'mod foo { file contents }'
[04:37:35] *** Joins: mythmon (mythmon@moz-AD308AD7.members.linode.com)
[04:37:55] <strcat> with rust-core you are just going to have a single compilation unit until the language is capable of supporting a core crate
[04:37:57] <jvns> so if I have 'mod core' in main.rs, I shouldn't have it in idt.rs?
[04:38:00] *** Joins: lerc (quassel@1025964E.9BA67FF7.788638A4.IP)
[04:38:09] <strcat> jvns: you shouldn't have it in both
[04:38:15] <strcat> or you're including two duplicate copies
[04:38:33] <jvns> that makes sense
[04:38:43] <jvns> now I get errors about using core::mem in idt.rs, though
[04:38:54] <jvns> oh nevermind
[04:38:56] <strcat> jvns: because core is a top-level name
[04:38:58] *** Quits: KindOne (KindOne@moz-1F6A65EB.dynamic.ip.windstream.net) (Ping timeout)
[04:39:01] <strcat> jvns: either need ::core::mem
[04:39:12] <strcat> super::core::mem (with another super:: for each level you need to go up)
[04:39:14] <strcat> or a use statement
[04:39:24] <strcat> 'use core;' will work, use statements are always from the top-level afaik
[04:39:42] <cmr> (except `self` and `super`)
[04:40:00] <strcat> jvns: btw rust has inline asm support which you could probably use for some of that
[04:40:11] <jvns> yeah probably!
[04:40:30] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[04:40:36] <jvns> for some of it I actually need the asm
[04:40:44] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[04:41:08] <strcat> jvns: anyway if core could be a proper crate, you'd compile it separately, then use 'extern mod core;' and you'd have the choice of static linking or LTO for this... when it gets there
[04:41:22] <strcat> there are things blocking it working for this ;p
[04:41:35] <jvns> :)
[04:41:41] <jvns> so #[no_mangle] should work on global variables, right?
[04:41:56] <strcat> jvns: I think so
[04:42:01] <jvns> hmm strange
[04:42:26] <strcat> jvns: is the module defined in rust?
[04:42:35] <cmr> It probably needs to be a pub static for it to not be stripped.
[04:42:38] <strcat> there's currently no way to export symbols that your asm can use
[04:42:41] <cmr> although..
[04:42:41] <strcat> cmr: nope, won't work
[04:42:44] <cmr> yeah
[04:43:02] <strcat> rust has a lot of issues like this for freestanding use
[04:43:03] <jvns> I think I can just inline the asm though, here
[04:43:09] <strcat> jvns: yeah that'd work
[04:43:53] *** Joins: dew1 (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[04:44:11] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[04:44:11] <strcat> atm you can only export symbols that aren't `main` from a library
[04:44:25] <strcat> except a hack that's there for extern ABI functions
[04:44:50] <jvns> hm okay
[04:45:00] <jvns> so about using unsafe fns vs unsafe blocks
[04:45:12] <jvns> how do you decide which to use?
[04:45:27] <strcat> jvns: a function that's not safe for all inputs needs to be `unsafe`
[04:45:35] <cmr> `unsafe fn` says "this function is unsafe, use with care"
[04:45:37] <strcat> so almost any function taking a raw pointer needs to be `unsafe`, for example
[04:45:56] <strcat> an unsafe block is needed to *call* unsafe functions, but it guarantees that it's valid for all inputs/situations
[04:46:03] <cmr> `unsafe { ... }` says "the contents of this block are theoretically unsafe, but they are actually safe"
[04:46:12] <jvns> so unsafe blocks are a kind of promise
[04:46:17] <strcat> jvns: yeah
[04:46:28] <strcat> if you're able to cause memory safety issues without `unsafe`, the API isn't right
[04:46:38] <jvns> maybe I will make all my functions unsafe for now
[04:46:42] <jvns> :)
[04:46:49] *** Quits: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com) (Quit: csherratt)
[04:46:52] <strcat> jvns: http://static.rust-lang.org/doc/master/rust.html#unsafety
[04:46:57] <jvns> thanks!
[04:47:06] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[04:47:30] * strcat wrote that pretty recently
[04:47:36] <strcat> possibly the best sections in the manual? ;p
[04:47:46] <strcat> most of it is pretty bad.
[04:48:46] <sp3d> "unsafe {}" is kind of the opposite of putting "unsafe" on a fn, which is a little weird
[04:49:11] <strcat> it's not really the opposite because a function marked `unsafe` acts as an unsafe block internally
[04:49:22] *** Joins: KindOne (KindOne@moz-1F6A65EB.dynamic.ip.windstream.net)
[04:49:25] *** Quits: SiegeLord (sl@moz-C606190.bstnma.fios.verizon.net) (Quit: Leaving)
[04:49:47] <sp3d> they both permit unsafe operations inside, but one presents unsafety to the world and the other presents unprovable (by rustc) safety
[04:49:58] *** Joins: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com)
[04:50:00] *** Quits: Jesin (Jesin@moz-27916D21.washdc.fios.verizon.net) (Quit: Leaving)
[04:50:02] <benh> unsafe blocks are "i know what i'm doing", unsafe fns are "i don't know what i'm doing? please be careful?"
[04:50:10] <strcat> sp3d: in a practical sense, it doesn't really matter
[04:50:15] <sp3d> yeah, it works fine
[04:50:19] <strcat> the code inside unsafe functions needs to be correct
[04:50:23] <sp3d> nuts!
[04:50:25] <strcat> in order for the unsafe blocks using it to be correct
[04:50:27] <jvns> would it make sense to add something about inline assembly to the manual? the only documentation I can find is in a pull request.
[04:50:29] * sp3d rewrites some fns
[04:50:39] <strcat> and the *safe code* used by the unsafe blocks is often assumed to be correct
[04:50:59] <strcat> jvns: yeah, it should be in the manual
[04:51:16] <strcat> it's an experimental feature, but so are macros, thread_local, etc. and they are documented ;p
[04:51:53] <jvns> :)
[04:52:15] <mythmon> does println only prints strings?
[04:52:24] *** Joins: pepper_chico (pepper_chi@moz-F895CB32.dsl.telesp.net.br)
[04:52:24] <jvns> it says it works the same as gcc inline assembler, so I guess I can just look up the documentation for that
[04:52:32] <strcat> mythmon: yes, the signature is 'fn println(s: &str)'
[04:52:45] <mythmon> strcat: ok. how could I find that out myself in the future?
[04:52:55] <cmr> mythmon: look at the docs or the source?
[04:53:11] *** Quits: dew1 (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[04:53:13] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[04:53:17] *** Joins: SiegeLord (sl@moz-C606190.bstnma.fios.verizon.net)
[04:53:53] <strcat> mythmon: http://static.rust-lang.org/doc/master/std/io/stdio/fn.println.html the docs support search
[04:54:02] <strcat> rusti: println!("{} {}", 0, 2)
[04:54:03] *** Quits: pepper_chico (pepper_chi@moz-F895CB32.dsl.telesp.net.br) (Quit: Ex-Chat)
[04:54:03] -rusti- 0 2
[04:54:03] -rusti- ()
[04:54:06] <mythmon> strcat: oh. i didn't realize there was a search.
[04:54:11] <strcat> there's formatted I/O support too
[04:54:23] <strcat> http://static.rust-lang.org/doc/master/std/fmt/index.html
[04:54:29] <mythmon> thanks.
[04:54:58] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[04:55:24] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[04:56:05] *** Quits: kzzch (Mibbit@moz-F709F250.sub-174-236-192.myvzw.com) (Quit: http://www.mibbit.com ajax IRC Client)
[04:56:44] <SiegeLord> Hmm... watching pcwalton's talk I realize that I pronounce virtually every programming term differently than he does...
[04:58:05] <o11c>  /me mumbles something about proprietary communication methods
[04:58:34] <strcat> http://en.wikipedia.org/wiki/SQLite one example of that, and the sources are the same person (the dev) pronouncing it differently :)
[04:58:58] <strcat> (look at the IPA thingies)
[04:59:21] <benh> I learned that people actually pronounce lib like the first syllable in library D:
[04:59:38] * cmr doesn't
[04:59:55] *** Quits: zslayton (Mibbit@moz-4806B979.nyc.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[05:00:15] <SiegeLord> libc is what really stood out for me
[05:00:25] <SiegeLord> It's leebcee for me >.>
[05:01:06] <benh> I still mentally pronounce most acronym-ish things in german
[05:01:24] <benh> "libb tseh" :(
[05:01:35] *** Quits: dwrensha (chatzilla@moz-39B4ACCD.hrbgpa.fios.verizon.net) (Ping timeout)
[05:02:14] <jvns> oh no!
[05:02:15] <jvns> "error: inline assembly is not stable enough for use and is subject to change"
[05:02:59] <jvns> oh
[05:03:03] <jvns> but it tells me what to do
[05:04:12] <jvns> hmm I added "#[feature(asm)];" to my main file but it still complains
[05:04:45] <strcat> jvns: needs to be at the top-level
[05:04:55] <strcat> and you might only be allowed 1 of them
[05:04:57] *** Quits: paulproteus (quassel@199.199.210.158) (Ping timeout)
[05:05:03] <strcat> #[feature(macro_rules, asm)]
[05:05:19] <jvns> oh, I see! having 2 works okay
[05:05:35] <shachaf> libniz
[05:05:38] * strcat wants it to work at module-level instead of just crate level
[05:06:24] <shachaf> (A library providing type equality witnesses, of course.)
[05:08:51] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[05:08:55] *** Joins: paulproteus (quassel@458FE134.3EC36C88.CBDCF1DC.IP)
[05:09:34] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[05:09:55] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:10:07] <jvns> oh, asm! doesn't seem to support pointer constraints?
[05:11:14] * strcat has no idea
[05:11:26] <jvns> maybe it is time to read the source! =)
[05:11:44] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[05:12:00] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[05:12:47] <dbaupp> jvns: you'll have to read LLVM's source
[05:13:04] <dbaupp> we essentially just pass the constraints straight to LLVM with little-to-no modification.
[05:13:13] <jvns> oh okay
[05:14:59] <jvns> so when LLVM fails on the LLVM code produced by rust, it creates a truncated output file
[05:15:14] <jvns> like I end up with a truncated 'main.o'
[05:15:44] <jvns> this seems like a bug?
[05:19:17] *** Quits: vky (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net) (Quit: ChatZilla 0.9.90.1 [Firefox 26.0/20131125215016])
[05:20:39] <derek_c> how do you iterate a string?  str.iter() doesn't seem to work
[05:21:18] <strcat> derek_c: iterate over code points?
[05:21:31] <derek_c> strcat: over chars
[05:21:37] <dbaupp> derek_c: .chars() now
[05:22:36] <derek_c> dbaupp: thanks. how do you print a char/
[05:22:38] <derek_c> ?
[05:23:47] <derek_c> I got it
[05:23:50] <derek_c> from_char
[05:24:02] *** Quits: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP) (Ping timeout)
[05:24:27] <dbaupp> rusti: println("chars: {} {}", 'c', 'ö')
[05:24:30] -rusti- <anon>:9:9: 10:5 error: this function takes 1 parameter but 3 parameters were supplied
[05:24:30] -rusti- <anon>:9          println("chars: {} {}", 'c', 'ö')
[05:24:30] -rusti- <anon>:10     };
[05:24:30] -rusti- error: aborting due to previous error
[05:24:30] -rusti- application terminated with error code 101
[05:24:36] <dbaupp> rusti: println!("chars: {} {}", 'c', 'ö')
[05:24:37] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[05:24:37] -rusti- chars: c ö
[05:24:37] *** ChanServ sets mode: +o pnkfelix
[05:24:37] -rusti- ()
[05:24:45] <dbaupp> derek_c: ^ is better
[05:25:43] <derek_c> dbaupp: thanks :)
[05:25:58] <dbaupp> derek_c: (note that unicode codepoints (i.e. Rust's char) are not a "true" unit of text, in that you can have multiple chars going into a single visible character, and even have chars that don't correspond to a visible character at all.)
[05:26:05] *** Joins: Skif (emschwar@moz-4C5BB5A8.beyondbb.com)
[05:26:31] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[05:27:05] <strcat> there are a few layers of abstraction for text
[05:27:27] <derek_c> dbaupp: ok I will think about that
[05:27:34] <strcat> the memory (some encoding of code points) < code points < graphemes < glyphs
[05:27:41] <strcat> char is a code point
[05:27:47] *** Quits: Skif (emschwar@moz-4C5BB5A8.beyondbb.com) (Ping timeout)
[05:28:11] <derek_c> what's the idiomatic way to loop over a list with an index?
[05:28:26] <dbaupp> in any case, the rust stdlib doesn't actually support any of the layers above codepoints (and it doesn't support codepoints full either), so there's unfortunately not much one can do easily.
[05:28:28] <derek_c> something like for (int i=0; i < length; i++)
[05:28:33] <derek_c> as in C
[05:28:35] <strcat> derek_c: there's an enumerate adaptor on all iterators
[05:28:54] *** Quits: canhtak (canhtak@moz-A13A68C3.wl.t.ulaval.ca) (Quit: canhtak)
[05:28:56] <strcat> rusti: let xs = [1, 2, 3, 4]; for (i, x) in xs.iter().enumerate() { println!("{} {}", i, *x) }
[05:28:57] -rusti- 0 1
[05:28:58] -rusti- 1 2
[05:28:58] -rusti- 2 3
[05:28:58] -rusti- 3 4
[05:28:58] -rusti- ()
[05:29:07] * dbaupp was literally typing the same example... but too slowly
[05:29:26] * strcat types pretty quickly
[05:29:38] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[05:29:45] <derek_c> haha how do you do this in IRC?
[05:29:59] <strcat> most clients expose that as /me
[05:30:04] * derek_c adwa
[05:30:07] <derek_c> kk
[05:30:16] * derek_c thinks this feature is very cute
[05:30:40] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[05:30:56] <strcat> derek_c: http://en.wikipedia.org/wiki/Client-to-client_protocol irc is weird
[05:31:00] <strcat> there's even file transfer
[05:31:02] <strcat> ;]
[05:31:15] <strcat>  /me is CTCP ACTION
[05:31:47] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:31:48] <sp3d> rusti: bytes!(0x01, "ACTION", " says hi", 0x01)
[05:31:49] -rusti- &[1u8, 65u8, 67u8, 84u8, 73u8, 79u8, 78u8, 32u8, 115u8, 97u8, 121u8, 115u8, 32u8, 104u8, 105u8, 1u8]
[05:31:56] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[05:31:57] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:32:07] * derek_c thinks sp3d is being too hardcore
[05:32:21] <sp3d> haha, sorry ;P
[05:32:21] <strcat> sp3d: it's not going to work because it uses a mature irc lib ;p
[05:32:32] <sp3d> strcat: just showing what it looks like uninterpreted
[05:32:36] <strcat> oh
[05:32:37] *** Joins: brson (brson@6A848D32.C1B840DD.76F66111.IP)
[05:32:37] *** ChanServ sets mode: +ao brson brson
[05:32:44] <strcat> thought you were plotting to make rusti send CTCP messages ;]
[05:33:12] <dbaupp> rusti: println("\x01ACTION says hi\x01");
[05:33:13] -rusti- ()
[05:33:32] <jvns> so does "asm!("lidt (%0)" : :"p" (&idtp as *IDTPointer))" look like I have the raw pointer type right?
[05:33:47] <jvns> (assuming that it compiles)
[05:34:10] *** Joins: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP)
[05:34:20] <strcat> dbaupp: well I guess twisted isn't sane after all ;p
[05:34:26] * strcat sighs
[05:34:53] <strcat> not that I really needed proof of that
[05:35:20] <strcat> rusti: "\x01"
[05:35:21] -rusti- "\x01"
[05:35:30] <strcat> is that even valid unicode?
[05:35:36] <strcat> I guess so
[05:35:37] <sp3d> it's ascii
[05:35:37] <dbaupp> strcat: looks like we need a type safe rust lib
[05:35:40] <dbaupp> strcat: sure it's ascii
[05:35:47] <strcat> ah then nvm
[05:35:51] <strcat> not twisted's fault ;p
[05:35:52] <sp3d> a CTCP action is just a regular IRC PRIVMSG (or NOTICE in rusti's case)
[05:37:12] *** Joins: canhtak (canhtak@moz-A13A68C3.wl.t.ulaval.ca)
[05:37:54] *** Joins: GeneralMaximus (ankur@704E18E2.13A5FC81.D5D59AD9.IP)
[05:38:23] *** Quits: GeneralMaximus (ankur@704E18E2.13A5FC81.D5D59AD9.IP) (Quit: Computer has gone to sleep.)
[05:39:52] *** Joins: GeneralMaximus (ankur@704E18E2.13A5FC81.D5D59AD9.IP)
[05:41:13] <SiegeLord> The OpenDNS talk was really enjoyable... kind of interesting how Rust could be used in production even today
[05:43:52] <jvns> strcat: so I can't export my globals for asm to use, right?
[05:44:07] <strcat> jvns: right, not atm
[05:44:09] <strcat> you should be able to
[05:44:15] <jvns> hmm okay
[05:44:29] * jvns is sad
[05:44:45] <dbaupp> I thought acrichto fixed that?
[05:44:46] <strcat> could pass it the addr of the global as a hack, I guess
[05:44:49] <strcat> dbaupp: no
[05:44:55] <strcat> dbaupp: just functions with an extern ABI
[05:45:10] * strcat was against doing it just for 'extern' functions because 'extern' has no relevance to linking, but whatever
[05:45:18] *** Quits: twb (textual@moz-5DE8950B.hsd1.ga.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:45:28] <jvns> I was hoping to be able to just call inline asm, but it doesn't like me for some reason
[05:45:33] <derek_c> why is Rust complaining about "error: unknown character escape: b"?
[05:45:40] <strcat> derek_c: what's the code?
[05:45:45] <derek_c> I'm trying to use the '\b' character
[05:45:58] <derek_c> print!("{}", '\b');
[05:46:12] <strcat> it's not something it knows about
[05:46:51] <dbaupp> strcat: oh, right; wouldn't it be relatively easy to just delete the extern check?
[05:47:00] <strcat> rusti: '\x08'
[05:47:01] -rusti- '\x08'
[05:47:09] <jvns> oh, maybe I _could_ pass it the address of the global!
[05:47:19] <strcat> derek_c: if you use \x08 it will work
[05:47:22] <jvns> all I want is to do something with the address of the global anyway
[05:47:39] <strcat> jvns: yeah that would work
[05:47:47] <jvns> =D =D
[05:47:52] <derek_c> strcat: what does \x08 stand for?
[05:48:07] <strcat> derek_c: the 8th code point
[05:48:19] <dbaupp> rusti: extern "Rust" fn foo() {} // msg on master is `error: internal compiler error: unimplemented Foreign functions with Rust ABI`
[05:48:20] -rusti- error: internal compiler error: unexpected failure
[05:48:20] -rusti- note: the compiler hit an unexpected failure path. this is a bug
[05:48:20] -rusti- note: try running with RUST_LOG=rustc=1 to get further details and report the results to github.com/mozilla/rust/issues
[05:48:20] -rusti- application terminated with error code 101
[05:48:23] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[05:48:34] <dbaupp> (you would think that rust supported functions with the Rust abi... ;P )
[05:48:42] <strcat> http://www.fileformat.info/info/unicode/char/0008/index.htm
[05:49:17] <derek_c> strcat: ah! it actually works :)
[05:49:18] <Ralith> huh, it's a valid identifier component in java
[05:49:19] <Ralith> that's funny
[05:49:57] *** Quits: cubic (cubic@moz-80241A3A.mc.videotron.ca) (Quit: Leaving)
[05:50:05] *** Quits: SiegeLord (sl@moz-C606190.bstnma.fios.verizon.net) (Quit: Leaving)
[05:55:59] <derek_c> strcat: does rust also support code points in octal format?
[05:58:00] <bstrie> derek_c: \u0000 and \U00000000
[05:58:21] <bstrie> derek_c: there's no \o000, if that's what you're asking
[05:58:39] <bstrie> (code points in octal format... who even does that :P )
[05:58:46] <derek_c> bstrie: yeah that's what I was asking. what's \u though?
[05:59:05] *** Quits: brson (brson@6A848D32.C1B840DD.76F66111.IP) (Quit: leaving)
[05:59:22] <bstrie> derek_c: \u is for specifying code points that require up to four digits
[05:59:37] <bstrie> \U is for code points that require up to eight (i.e. all possible code points)
[05:59:58] <bstrie> \x and \u are just convenient forms of \U where you don't have to type the leading zeroes
[06:00:31] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Connection reset by peer)
[06:01:23] *** Quits: silotis (quassel@moz-4B8C4631.oc.oc.cox.net) (Ping timeout)
[06:02:05] *** Joins: silotis (quassel@moz-4B8C4631.oc.oc.cox.net)
[06:02:22] <derek_c> bstrie: I see. thanks :)
[06:05:33] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[06:05:54] *** Quits: Kingsley (kingsley@9B172CBE.BEA5C56D.DF4B730F.IP) (Quit: Leaving.)
[06:08:06] *** Quits: derek_c (derek@moz-E72F174.cit.cornell.edu) (Ping timeout)
[06:10:02] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[06:18:21] *** Quits: etw (john@moz-D871A25B.nyc.res.rr.com) (Ping timeout)
[06:18:49] *** Quits: mark_edward (quassel@moz-97E995A.hsd1.in.comcast.net) (Ping timeout)
[06:19:28] *** Joins: twb (textual@moz-5DE8950B.hsd1.ga.comcast.net)
[06:20:41] *** Joins: mark_edward (quassel@moz-97E995A.hsd1.in.comcast.net)
[06:23:55] *** Quits: ssbr_ (~ssbr@46FE74EC.C60FE7DC.4065847B.IP) (Ping timeout)
[06:24:22] *** Quits: GeneralMaximus (ankur@704E18E2.13A5FC81.D5D59AD9.IP) (Quit: Computer has gone to sleep.)
[06:25:07] *** Joins: Kingsley (kingsley@9B172CBE.BEA5C56D.DF4B730F.IP)
[06:26:20] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[06:28:03] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[06:31:03] <cmr> bstrie: inb4 rustpkg->cargo rename
[06:31:08] <cmr> (re-rename?)
[06:31:11] <cmr> (unrename?)
[06:31:26] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[06:31:30] <Ralith> dename!
[06:31:34] <rntz> inb4 3rr
[06:33:09] *** Joins: ssbr_ (~ssbr@46FE74EC.C60FE7DC.4065847B.IP)
[06:38:51] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[06:39:42] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[06:46:26] *** Joins: derek_c (derek@moz-FB4F1795.cit.cornell.edu)
[06:47:32] *** Joins: yoshi (Mibbit@moz-BC244B40.dynamic.mts-nn.ru)
[06:48:29] *** Quits: yoshi (Mibbit@moz-BC244B40.dynamic.mts-nn.ru) (Quit: http://www.mibbit.com ajax IRC Client)
[06:48:31] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[06:48:43] <derek_c> this question might be weird, but I have two chars, let's say 'A' and 'B', and I want to get one char that is represented by '\xAB'.  How do I do it?
[06:48:54] *** Quits: ssbr_ (~ssbr@46FE74EC.C60FE7DC.4065847B.IP) (Ping timeout)
[06:50:10] *** Quits: twb (textual@moz-5DE8950B.hsd1.ga.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:50:16] *** Joins: Heather_ (Heather@19663F6.F53BAACC.9C17E900.IP)
[06:50:21] <Heather_> Hey
[06:50:26] <Heather_> where is json?
[06:51:02] <Luqman> Heather_: what do you mean?
[06:51:16] <klutzy> derek_c: http://static.rust-lang.org/doc/master/src/extra/home/rustbuild/src/rust-buildbot/slave/doc/build/src/libextra/url.rs.html#150
[06:51:19] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[06:51:20] <klutzy> like this?
[06:51:24] <Heather_> Luqman unresolved name `json::Decoder`.
[06:51:56] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[06:52:16] <Luqman> Heather_: there have been some changes to the json stuff recently
[06:52:34] <Luqman> pretty much removing @
[06:52:43] <Luqman> but i don't think any names changed
[06:53:29] <derek_c> klutzy: sorry but what's happening in that code?
[06:54:31] <klutzy> derek_c: it's part of percent decoder; when parser got '%', it reads two characters ("AB") then decodes ('\xAB')
[06:54:51] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[06:55:11] <klutzy> ah, 0xAB, to be precise.
[06:56:10] <derek_c> klutzy: ok I will think about this. thanks!
[06:58:14] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[06:58:14] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Client exited)
[06:58:39] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[07:03:16] *** Quits: canhtak (canhtak@moz-A13A68C3.wl.t.ulaval.ca) (Quit: canhtak)
[07:03:35] *** Quits: sprang (sprang@moz-920A95C4.hsd1.ca.comcast.net) (Quit: sprang)
[07:03:57] *** Joins: ssbr_ (~ssbr@46FE74EC.C60FE7DC.4065847B.IP)
[07:04:05] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[07:08:58] *** Joins: twb (textual@moz-5DE8950B.hsd1.ga.comcast.net)
[07:09:37] *** Quits: kphelps (kphelps@moz-8F37EAB2.ri.ri.cox.net) (Ping timeout)
[07:13:03] *** Quits: jvns (bork@87D98E32.4046EB22.428F94DD.IP) (Ping timeout)
[07:13:18] *** Joins: carter (carter@moz-F3C2A2D8.nycmny.fios.verizon.net)
[07:14:49] *** Joins: Skif (emschwar@moz-4C5BB5A8.beyondbb.com)
[07:15:35] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[07:16:30] *** Quits: Skif (emschwar@moz-4C5BB5A8.beyondbb.com) (Ping timeout)
[07:16:42] <Heather_> Path new -> init ?
[07:16:50] <bjz> yah
[07:17:06] <Heather_> still need to find where json goes )
[07:17:44] * Eridius is hoping that name change can be reverted
[07:18:24] *** Joins: Blei (philipp@moz-B2F9E4BD.cust.bluewin.ch)
[07:18:43] <Heather_> which one?
[07:18:48] <Eridius> Path new -> init
[07:20:50] <Heather_> ah...
[07:20:58] <Heather_> Eridius why it was renamed?
[07:21:08] <Eridius> because of the plan to reserve `new` as a keyword
[07:21:10] <Heather_> strange but I still see json in docs
[07:21:12] <Eridius> which I've been pushing back against
[07:21:30] <Eridius> at the moment, there's a possibility it will be `box` instead, which, while not ideal, is better than `new` (for various reasons; see the ML)
[07:21:52] <Heather_> hm
[07:22:23] <Heather_> is there rust project which already support new changes and use json?
[07:22:38] <Eridius> what are you trying to do with json?
[07:23:02] <Heather_> Eridius serialize and deserialize
[07:23:22] <Eridius> and what's the problem?
[07:23:46] <Heather_> Eridius unresolved name `json::Decoder`.
[07:23:53] <Heather_> unresolved name `json::Encoder`
[07:24:00] <Eridius> and this is with master?
[07:24:07] <Heather_> yes
[07:24:10] <Eridius> can you show code?
[07:24:20] <Heather_> yes
[07:24:53] <Heather_> Eridius https://github.com/Heather/Mirana/blob/master/src/Mirana/Config.rs
[07:26:35] <Eridius> damn I was hoping it would be something small and self-contained ;) where's the error occur?
[07:27:04] <Heather_> Eridius line 26 and 52 )
[07:27:28] <Blei> Heather_: it's now Decoder::init()
[07:27:35] <Eridius> &mut json::Decoder(res)? You probably want to say &mut json::Decoder::init(res)
[07:29:06] <Heather_> seems like helped but now I got another error at line 35
[07:29:14] <Heather_> wrong number of lifetime parameters: expected 1 but found 0
[07:29:33] <Eridius> PrettyEncoder takes a lifetime parameter
[07:29:35] <Heather_> when I use it as type
[07:29:55] <Heather_> Eridius alike ~ or & ?
[07:30:39] <Eridius> PrettyEncoder::init() takes a &mut Writer, and PrettyEncoder has a lifetime parameter corresponding to the lifetime of the &mut Writer
[07:30:51] <Eridius> (which, incidentally, means you don't want @mut io::Writer boxes anymore)
[07:31:26] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[07:32:30] <Heather_> Eridius but how to specify it there in < > ?
[07:33:51] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[07:34:12] <Eridius> Heather_: normally you'd add a lifetime parameter to the type parameter list and then provide it to the PrettyEncoder.
[07:34:29] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[07:34:39] <Eridius> something like fn save_PrettyJSON<'a, T: Encodable<json::PrettyEncoder<'a>>(p: &Path, toEncode: ~[T]) { .. }
[07:34:58] <Heather_> hm 01<'a>01
[07:35:53] <Heather_> it works
[07:35:57] <Eridius> \o/
[07:35:59] <Heather_> Eridius thanks !
[07:38:26] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[07:38:30] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[07:38:53] *** Quits: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net) (Quit: Sharp)
[07:41:36] <Blei> what? there's one singular implementation of the Index trait in all of rust, it's in a test
[07:41:39] <Blei> i'm surprised
[07:41:49] <Eridius> Index trait?
[07:42:05] <Blei> the one that's used for foo[bar]
[07:42:59] <Eridius> hmm ok
[07:43:34] <sp3d> rusti: [].len() as &uint
[07:43:35] -rusti- <anon>:9:9: 9:26 error: non-scalar cast: `uint` as `&uint`
[07:43:35] -rusti- <anon>:9          [].len() as &uint
[07:43:35] -rusti-                   ^~~~~~~~~~~~~~~~~
[07:43:35] -rusti- error: aborting due to previous error
[07:43:35] -rusti- application terminated with error code 101
[07:43:51] <sp3d> oh, woops
[07:44:20] <sp3d> rusti: &([].len()) as &uint
[07:44:20] -rusti- <anon>:9:9: 9:29 error: non-scalar cast: `&uint` as `&uint`
[07:44:20] -rusti- <anon>:9          &([].len()) as &uint
[07:44:20] -rusti-                   ^~~~~~~~~~~~~~~~~~~~
[07:44:20] -rusti- error: aborting due to previous error
[07:44:21] -rusti- application terminated with error code 101
[07:48:07] *** Joins: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net)
[07:50:29] *** Quits: twb (textual@moz-5DE8950B.hsd1.ga.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:50:30] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[07:51:46] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[07:55:43] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[07:57:36] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[07:57:36] *** ChanServ sets mode: +o pnkfelix
[08:00:29] *** Joins: eddyb (eddy@EBE709F3.F7C96DA2.FCAAE698.IP)
[08:03:10] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[08:03:52] *** Quits: mark_edward (quassel@moz-97E995A.hsd1.in.comcast.net) (Ping timeout)
[08:04:08] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[08:05:36] *** Quits: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net) (Quit: Sharp)
[08:05:53] *** Joins: mark_edward (quassel@moz-97E995A.hsd1.in.comcast.net)
[08:06:55] *** Joins: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net)
[08:07:03] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[08:08:19] *** Quits: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net) (Quit: Sharp)
[08:08:53] *** Joins: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net)
[08:10:45] *** Quits: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net) (Quit: Sharp)
[08:13:15] <eddyb> https://mail.mozilla.org/pipermail/rust-dev/2013-November/007082.html right now I don't even care nobody mentioned me (since I said "box" in this channel, in response to someone asking for a synonym of "allocate"), it's awesome that it's being considered :D
[08:13:36] <diverse> eddyb: and I thank you for that idea
[08:15:39] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[08:17:50] <diverse> eddyb: it makes sense, since a "box" in Rust is "an allocated chuck of memory" and therefore, gives the user the flexibility to choose which kind of box they want
[08:18:40] *** Joins: Ms2ger (Ms2ger@C91975CB.3387515C.187A1082.IP)
[08:19:04] <eddyb> yupp. let's just hope we get over this new -> init nonsense soon and start something beautiful :)
[08:20:01] <eddyb> rusti: let x: uint = from_str("-5); x
[08:20:02] -rusti- <anon>:11:16: 11:17 error: unknown start of token: ?
[08:20:02] -rusti- <anon>:11     println!("{:?}", r)
[08:20:02] -rusti-                           ^
[08:20:02] -rusti- application terminated with error code 101
[08:20:09] <eddyb> rusti: let x: uint = from_str("-5"); x
[08:20:10] -rusti- pastebinned 7 lines of output: http://sprunge.us/BAVd
[08:20:25] <eddyb> rusti: let x: uint = from_str("-5").unwrap(); x
[08:20:26] -rusti- task <unnamed> failed at 'called `Option::unwrap()` on a `None` value', /build/rust/src/rust-0.8/src/libstd/option.rs:323
[08:20:27] -rusti- application terminated with error code 101
[08:20:33] <Eridius> rusti: let x: Option<uint> = from_str("-5"); x
[08:20:34] -rusti- None
[08:21:21] <eddyb> anyways, just like we have from_str, we could have a box function that can use a Box trait, implementable by ~T, Rc<T>, Gc<T>, etc.
[08:21:37] <eddyb> the box operator would be a fancier version of that function
[08:22:09] <phil_> hmm
[08:22:18] <phil_> i take it ReaderUtil is no more?
[08:22:25] <phil_> i cant find it in the docs for master
[08:22:38] <bjz> phil_: std::io was re-written
[08:23:00] <phil_> ah okay
[08:23:28] <phil_> i dont suppose you would be able to point me in the right direction for something equivalent to each_line() would you?
[08:23:50] <phil_> im looking all over and cant find anything :(
[08:23:57] *** Quits: tedh (tedh@moz-A5D1CAB7.public.wayport.net) (Ping timeout)
[08:24:13] <Eridius> You could use a std::io::Buffer and call read_line() repeatedly until you get None, I suppose
[08:24:28] <eddyb> bjz: D seems to use tuples as well for "type parameter packs"
[08:24:44] <bjz> eddyb: yep
[08:24:49] <eddyb> bjz: but working with them is nastier, I don't see destructuring and expansion
[08:24:49] <bjz> eddyb
[08:24:51] <diverse> eddyb: I don't think they will keep the "~" sigil anymore, I think they will be labeled as "new T" "new(Rc) T" "new(Gc) T" "new(P) T"
[08:24:53] <bjz> eddyb: yeah
[08:25:05] <bjz> eddyb: that's why I suggested you look at them
[08:25:06] *** Parts: Heather_ (Heather@19663F6.F53BAACC.9C17E900.IP) ()
[08:25:07] <phil_> Eridius: ah ok
[08:25:18] <phil_> i was hoping i wouldnt need to do that, but okay
[08:25:20] <bjz> eddyb: but yeah, tuples in D are triky
[08:25:21] <phil_> thanks for the tip
[08:25:52] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[08:25:59] <diverse> damn what I am thinking
[08:26:20] <bjz> phil_: dang - that shoukld have an iterator
[08:26:25] <diverse> *"box T" "box(Rc) T" "box(Gc) T" "box(P) T"
[08:26:50] <phil_> itd be kinda nice to have an iterator
[08:26:50] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[08:26:54] <phil_> but such is life
[08:27:01] <Eridius> I don't think std::io is complete yet
[08:27:03] * diverse needs to get some coffee
[08:27:11] <derek_c> rusti: let x = "dwad"; x[2]
[08:27:12] -rusti- 97u8
[08:27:13] <bjz> phil_: you could write one!
[08:27:14] <eddyb> bjz: fn zip(&self, other) {let (head1, ..tail1) = self; let (head2, ..tail2) = other; ((head1, head2), ..tail1.box(tail2))} // missing some types, but that's kinda how it would look like
[08:27:20] <phil_> haha bjz no i couldnt
[08:27:25] <phil_> im a crap programmer
[08:27:28] <bjz> phil_: I wrote a port iterator
[08:27:37] <bjz> phil_: only one way to get better!
[08:27:43] <phil_> yeah practice
[08:27:45] <phil_> but
[08:27:49] <bjz> phil_: iterators are pretty easy
[08:27:53] <phil_> i dont think writing an iterator is a good way to cut my teeth :)
[08:27:54] <eddyb> bjz: oh dear. s/box/zip/ (too much talk about the former)
[08:27:54] *** Joins: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net)
[08:27:58] <phil_> for starters
[08:28:03] <phil_> i know next to nothing about LLVM
[08:28:17] <bjz> phil_: no need to know about llvm
[08:28:23] <phil_> writing hangman in rust has been a test of my programming abilities :)
[08:29:07] <phil_> maybe ill take a look and try though haha
[08:29:14] <phil_> i aint got shit to do right now
[08:30:19] <derek_c> rusti: let x = "dwad"; x[25]
[08:30:20] -rusti- task <unnamed> failed at 'index out of bounds: the len is 4 but the index is 25', <anon>:9
[08:30:20] -rusti- application terminated with error code 101
[08:30:26] <bjz> phil_: here is my extremely complex RecvIterator: https://github.com/mozilla/rust/blob/master/src/libstd/comm.rs#L51
[08:31:04] <phil_> damn
[08:31:20] <eddyb> Blei: I can't find docs for Clay, any pointers?
[08:31:37] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[08:31:37] *** ChanServ sets mode: +o pnkfelix
[08:31:39] <Blei> eddyb: https://github.com/jckarter/clay/blob/master/doc/language-reference.md
[08:31:42] <phil_> that looks amazingly simple
[08:31:50] <Blei> and https://github.com/jckarter/clay/blob/master/doc/primitives-reference.md
[08:32:40] <derek_c> how do you get the length of a ~str?
[08:32:48] <eddyb> Blei: it's... what I thought of :D
[08:33:28] <bjz> derek_c: .len()
[08:33:57] <derek_c> rusti: "wada".len()
[08:33:58] -rusti- 4u
[08:34:06] <derek_c> bjz: thanks :)
[08:34:35] <eddyb> that's utf8 byte length though
[08:35:02] <eddyb> rusti: ("főőbǎr".len(), "főőbǎr".char_len())
[08:35:03] -rusti- (9u, 6u)
[08:35:23] <bjz> phil_: struct LineIterator<'a, B> { buffer: &'a B } impl<'a, B: Buffer> Iterator<~str> for LineIterator<'a, B> { fn next(&mut self) -> Option<~str> { self.buffer.read_line() } } pub trait Buffer: Reader { ... fn lines<'a>(&'a self) -> LineIterator<'a Self> { LineIterator { buffer: self } } }
[08:35:32] <bjz> phil_: or something like that
[08:35:47] <bjz> (might have mistakes)
[08:36:21] <bjz> phil_: we are getting rid of the _iter suffixes
[08:36:36] <phil_> really?
[08:36:46] <bjz> yah
[08:38:42] <phil_> would LineIterator be preferred over a function called each_line()?
[08:41:57] <eddyb> .lines() returning LineIterator would be the pattern now
[08:42:08] <phil_> ah ok
[08:42:51] <eddyb> so you would do: for line in stdin().lines() {...} if I'm not missing something :P
[08:44:13] <bjz> phil_: you can do r.lines().map(|x| ...).collect()
[08:44:29] <bjz> and yes
[08:44:31] <bjz> that too
[08:44:39] <bjz> iterators are very flexible
[08:44:51] <phil_> eddyb: i want this for file i/o
[08:45:01] <phil_> if its written for stdio will file i/o inherit that?
[08:45:15] <eddyb> phil_: no, it has to be something more generic than stdio
[08:45:15] <bjz> yup
[08:45:37] <phil_> would it make sense to attach such a thing to Reader?
[08:45:45] <eddyb> yes, that's generic enough
[08:45:45] <phil_> (see how bad a programmer i am?)
[08:45:54] <bjz> so you could write a default trait impl for Buffer it would be impled for all buffers
[08:46:08] <bjz> phil_: no, you are just learning
[08:46:10] <phil_> okay
[08:46:18] <bjz> phil_: we all feel stupid in this trade
[08:46:35] <eddyb> bjz: you probably know better than me, I'm bound to confuse Reader with BufferedReader or something :P
[08:46:40] <bjz> phil_: it's normal
[08:46:50] <bjz> eddyb: eh, I could be wrong to
[08:47:13] <bjz> eddyb: I'm just going off the fact that Buffer includes the read_line methods
[08:47:16] <bjz> *method
[08:47:23] <phil_> well ill give it a shot
[08:47:29] <phil_> should be fun and interesting even if i fail
[08:47:37] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[08:49:06] <bjz> phil_: at the moment I'm making a Erlang/OTP style gen_server thing. I've never used gen_server before. I'm really new to concurrency stuff. I feel out of my depth. But it's fascinating and I'm learning.
[08:50:19] <phil_> nice
[08:50:58] *** Joins: lenstr (lenstr@DA467856.8FE2B31C.CAA35E3B.IP)
[08:55:23] <derek_c> I'm running an executable and getting an error message saying "task '<main>' failed at 'called `Option::unwrap()`".  However it does not tell me where in my code this error happens.  Is there a way to get the full stack trace?
[08:56:40] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[08:56:41] *** Joins: GeneralMaximus (ankur@704E18E2.13A5FC81.D5D59AD9.IP)
[08:57:04] <Blei> gdb
[08:57:06] <Blei> :/
[08:57:22] <derek_c> Blei: huh?
[08:57:30] <Ms2ger> Run under gdb
[08:57:37] <Ms2ger> Break on rust_begin_unwind
[08:57:57] *** Joins: efnysien (efnysien@moz-50AD4325.res.cmu.edu)
[08:58:29] <derek_c> sorry, but I thought gdb was a C/C++ debugger?
[08:58:46] <eddyb> gdb is just a debugger :)
[08:58:47] <Blei> gdb is a binary executable debugger :)
[08:58:57] <bjz> derek_c: no, it works with lots of langs
[08:59:08] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[08:59:15] <bjz> derek_c: D, ObjectiveC...
[08:59:26] <Ms2ger> E?
[08:59:39] <bjz> Ms2ger: it does? neat
[08:59:48] <Ms2ger> No idea
[08:59:49] <derek_c> kk that's interesting
[08:59:51] <eddyb> you can debug JS code under v8 or compiled Haskell code, if you want to. the amount of debug info depends on the language/framework
[09:00:03] *** Joins: victorporof (victorporo@FB8E2A00.483E5FE1.9B1E38F4.IP)
[09:00:04] <bjz> Ms2ger: oh. E is cool
[09:00:06] <Ms2ger> I'm a mathematician, if it does C and D, surely it does E too :)
[09:00:16] <derek_c> Z is waiting
[09:00:20] <eddyb> Ms2ger: don't pull induction on us :P
[09:00:44] *** Quits: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com) (Quit: csherratt)
[09:02:48] <Ms2ger> Eh, induction is nice
[09:03:24] <Ms2ger> Proof by induction that all odd numbers > 2 are prime: 3 is prime, 5 is prime, 7 is prime. Induction. Q.E.D.
[09:03:34] *** Joins: Skif (emschwar@moz-4C5BB5A8.beyondbb.com)
[09:05:01] <Blei> o u
[09:05:21] *** Quits: Skif (emschwar@moz-4C5BB5A8.beyondbb.com) (Ping timeout)
[09:06:32] *** Quits: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net) (Quit: Sharp)
[09:07:36] *** Joins: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net)
[09:08:50] <derek_c> how do you do multi-line string in rust?
[09:09:02] *** Quits: lenstr (lenstr@DA467856.8FE2B31C.CAA35E3B.IP) (Client exited)
[09:10:06] <eddyb> derek_c: you just... break it into multiple lines
[09:12:44] <derek_c> eddyb: figured it out :)
[09:12:58] <Blei> weird, compilation of some tests fails if i run make check, but works when compiled manually
[09:13:59] <derek_c> guys, I just finished my first non-trivial Rust project
[09:14:05] <derek_c> it feels amazing
[09:15:17] *** Joins: rootnode_ (rootnode@moz-7FAB5E8.ip1.george24.com)
[09:16:04] <Ms2ger> (applause)
[09:16:26] *** Joins: mikezaby (mikezaby@moz-AA896205.home.otenet.gr)
[09:16:37] *** Parts: mikezaby (mikezaby@moz-AA896205.home.otenet.gr) ()
[09:16:39] <eddyb> Ms2ger: did you mean https://www.youtube.com/watch?v=pco91kroVgQ?
[09:16:41] *** Quits: rootnode (rootnode@moz-7FAB5E8.ip1.george24.com) (Ping timeout)
[09:17:07] *** Quits: rootnode_ (rootnode@moz-7FAB5E8.ip1.george24.com) (Ping timeout)
[09:17:31] <Ms2ger> eddyb, no, https://www.youtube.com/watch?v=dQw4w9WgXcQ
[09:18:03] <eddyb> Ms2ger: *clap* *clap* *clap* well done, sir
[09:18:17] *** Quits: bjz (bjz@moz-DD4A2A91.lnse2.cha.bigpond.net.au) (Ping timeout)
[09:18:24] * Ms2ger bows
[09:18:42] <Ms2ger> It's been years since I last did that :)
[09:18:50] <eddyb> it's so good hearing it
[09:19:09] *** Joins: rootnode (rootnode@moz-7FAB5E8.ip1.george24.com)
[09:21:05] *** Joins: Jackneill (Jackneill@moz-1C485D1A.pool.digikabel.hu)
[09:22:32] <phil_> hmm
[09:22:40] <phil_> it looks like Reader already has a LineIterator
[09:24:00] <eddyb> hehehe
[09:24:16] <eddyb> Blei: I... didn't know what to put in my comment
[09:24:20] <eddyb> ended up sounding weird
[09:28:08] <Blei> haha, nice :)
[09:29:03] <eddyb> maybe I should work on that today ^_^
[09:29:13] *** Joins: bjz (bjz@moz-DD4A2A91.lnse2.cha.bigpond.net.au)
[09:29:45] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[09:30:31] <eddyb> https://github.com/mozilla/rust/pull/10676 a snapshot with that will make compiling easier for me, any kind soul to help with a retry? I know I don't deserve *another one* but third time's the charm :D
[09:31:52] *** Quits: ldunn (username@moz-94CB0FA.cyberius.net) (Ping timeout)
[09:32:02] *** Joins: moostik (Icedove@moz-C2FFB694.w82-121.abo.wanadoo.fr)
[09:32:46] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[09:33:03] *** Quits: Kxepal (Miranda@moz-D6DF9D5B.pppoe.mtu-net.ru) (Ping timeout)
[09:33:42] <bjz> derek_c: what did you finish?
[09:34:08] <derek_c> bjz: glad you asked :D  https://github.com/uutils/coreutils/pull/16
[09:34:49] <derek_c> it's an implementation of echo.  it might sound trivial but actually is not too trivial
[09:34:57] <bjz> heh
[09:34:59] <bjz> :)
[09:35:29] <derek_c> :D
[09:36:24] <derek_c> consult `man echo` to see why echo is not terribly trivial
[09:36:26] *** Joins: Kxepal (Miranda@moz-B3E59235.pppoe.mtu-net.ru)
[09:38:13] *** Joins: lenstr (lenstr@DA467856.8FE2B31C.CAA35E3B.IP)
[09:38:13] *** Quits: lenstr (lenstr@DA467856.8FE2B31C.CAA35E3B.IP) (Client exited)
[09:40:13] *** Quits: Kxepal (Miranda@moz-B3E59235.pppoe.mtu-net.ru) (Quit: Kxepal)
[09:40:27] *** Joins: Kxepal (Miranda@moz-B3E59235.pppoe.mtu-net.ru)
[09:41:43] *** Joins: ldunn (username@moz-94CB0FA.cyberius.net)
[09:42:37] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[09:42:41] *** Joins: beifeng (Mibbit@B5497CF4.FA7FF645.C7DB8B78.IP)
[09:45:02] <sam113101> writing a coreutils in rust?
[09:45:05] *** Joins: sebcrozet (sebcrozet@moz-2517AE39.w80-13.abo.wanadoo.fr)
[09:46:35] <Ms2ger> derek_c, fully POSIX compliant? :)
[09:48:10] <Ms2ger> Speaking of windows
[09:48:18] <Ms2ger> How is the rust story on windows nowadays?
[09:48:27] <derek_c> Ms2ger: hmmm... there is no external dependencies so I guess it's as compliant as Rust itself
[09:48:58] <derek_c> sam113101: yeah that's the idea of the project  https://github.com/uutils/coreutils
[09:55:07] <Blei> rusti: "a  b".split(' ').collect()
[09:55:07] -rusti- <anon>:9:9: 9:27 error: type `&'static str` does not implement any method in scope named `split`
[09:55:08] -rusti- <anon>:9          "a  b".split(' ').collect()
[09:55:08] -rusti-                   ^~~~~~~~~~~~~~~~~~
[09:55:08] -rusti- error: aborting due to previous error
[09:55:08] -rusti- application terminated with error code 101
[09:59:20] <diverse> rusti: ~"a  b".split(' ').collect()
[09:59:21] -rusti- <anon>:9:10: 9:28 error: type `&'static str` does not implement any method in scope named `split`
[09:59:21] -rusti- <anon>:9          ~"a  b".split(' ').collect()
[09:59:21] -rusti-                    ^~~~~~~~~~~~~~~~~~
[09:59:21] -rusti- error: aborting due to previous error
[09:59:21] -rusti- application terminated with error code 101
[10:02:03] <Blei> let v: ~[&str] = "a  b".split_iter(' ').collect(); v
[10:02:11] <Blei> rusti: let v: ~[&str] = "a  b".split_iter(' ').collect(); v
[10:02:11] -rusti- ~["a", "", "b"]
[10:02:29] <Blei> someone needs to update rusti :)
[10:04:58] *** Quits: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net) (Quit: Sharp)
[10:07:07] *** Quits: moostik (Icedove@moz-C2FFB694.w82-121.abo.wanadoo.fr) (Ping timeout)
[10:07:22] *** Joins: oberstet (quassel@moz-286D4B46.dynamic.mnet-online.de)
[10:10:04] *** Quits: derek_c (derek@moz-FB4F1795.cit.cornell.edu) (Quit: Leaving)
[10:12:38] *** Quits: carter (carter@moz-F3C2A2D8.nycmny.fios.verizon.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[10:15:37] <ChrisMorgan> mark_edward: pong [from ten hours ago]
[10:15:38] <Ms2ger> Blei, unfortunately master doesn't work
[10:15:40] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[10:16:11] *** Quits: GeneralMaximus (ankur@704E18E2.13A5FC81.D5D59AD9.IP) (Quit: Computer has gone to sleep.)
[10:16:23] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[10:16:23] *** ChanServ sets mode: +o pnkfelix
[10:16:37] <Blei> why?
[10:16:38] *** Joins: santiago (santiago@moz-8ADE82B4.socal.res.rr.com)
[10:18:16] <ChrisMorgan> There's something in it that's not working with the sandbox.
[10:21:55] <kimundi> SOme changes to io led to the rusti sandbox deadlocking with current master
[10:22:20] <Blei> that sucks
[10:22:25] <kimundi> strcat hasn't yet found the cause, and has given up looking it for now I think :)
[10:22:56] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[10:22:58] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[10:27:54] *** Joins: HollyRain (HollyRain@moz-50A83091.dyn.user.ono.com)
[10:28:08] <HollyRain> trunk version can not be installed:
[10:28:24] <HollyRain> /opt/rust/mk/install.mk:144: *** Aborting install because more than one library matching libstd-*.rlib is present in build tree x86_64-unknown-linux-gnu/stage2/lib:
[10:28:28] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[10:29:23] <kimundi> Seems like you need to remove the old rlib file
[10:34:04] <HollyRain> ok, but the installation system should remove it
[10:34:16] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[10:36:35] <HollyRain> the libraries built are in 'x86_64-unknown-linux-gnu/stage2/lib/' and in 'x86_64-unknown-linux-gnu/stage2/lib/rustc/x86_64-unknown-linux-gnu/lib/'
[10:37:16] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[10:44:53] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[10:46:38] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[10:48:39] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[10:52:19] *** Joins: Skif (emschwar@moz-4C5BB5A8.beyondbb.com)
[10:54:05] *** Quits: Skif (emschwar@moz-4C5BB5A8.beyondbb.com) (Ping timeout)
[10:56:00] *** Quits: huhlig-home (huhlig@moz-C8339267.hfc.comcastbusiness.net) (Connection reset by peer)
[11:00:36] *** Joins: refold (gman@moz-42D68426.a258.priv.bahnhof.se)
[11:00:47] *** Joins: Earnestly (earnest@38FE72A5.82423D8F.BFD1ABFD.IP)
[11:02:38] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[11:04:58] *** Quits: alonlevy (alon@moz-DCBA91C6.bb.netvision.net.il) (Ping timeout)
[11:06:19] <cmr> HollyRain: that should have been fixed by #10746 (landed 6 hours ago) :(
[11:07:22] <HollyRain> sorry! I used the last commit: $ git pull
[11:07:23] <HollyRain> Already up-to-date.
[11:08:13] <cmr> that's unfortunate.
[11:08:14] <cmr> acrichto: ^
[11:08:22] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[11:11:36] <pnkfelix> HollyRain: Note, in case it is not clear, that message is complaining about a build artifact in the build tree, not about a library in the target area.  The installation system itself does not attempt to remove such artifacts from the build tree (though other parts of the Makefile should be doing so...)
[11:12:54] *** Joins: mikezaby (mikezaby@moz-AA896205.home.otenet.gr)
[11:12:57] *** Parts: mikezaby (mikezaby@moz-AA896205.home.otenet.gr) ()
[11:20:44] <cmr> Looks like `box` might win out over `new`.
[11:20:51] <cmr> Eridius: thanks for kicking off that thread!
[11:22:05] <dbaupp> servo currently has 295 uses of `box` in .rs files
[11:22:21] <dbaupp> (although (quite?) a few are in comments.)
[11:22:48] <dbaupp> they even have a module called `box`
[11:23:03] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[11:23:03] <dbaupp> (that said, I personally prefer box to new.)
[11:24:12] *** flaper87|afk is now known as flaper87
[11:24:19] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[11:24:53] <Blei> woops, that might cause headaches
[11:25:22] <Blei> find -name \*.rs -exec sed -i 's/box/b0x/g' {} \;
[11:25:25] *** Joins: nkoep (nik@moz-4CC1A50B.pool.mediaways.net)
[11:25:58] <dbaupp> meh, pcwalton works on servo, so if he thinks it's ok, I'm sure servo can adapt
[11:26:15] <Blei> so, how do i mark an extern "C" function as unsafe?
[11:26:30] <Blei> `unsafe extern "C"` and `extern "C" unsafe` both don't work
[11:26:33] <dbaupp> you can't
[11:26:36] <dbaupp> bug
[11:26:41] <Blei> ah, i see
[11:26:42] <Blei> thanks
[11:26:43] <dbaupp> https://github.com/mozilla/rust/issues/10025
[11:28:35] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[11:28:50] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[11:28:58] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[11:29:02] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[11:29:28] *** Quits: beifeng (Mibbit@B5497CF4.FA7FF645.C7DB8B78.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:31:02] * flaper87 is back
[11:31:04] <flaper87> ChrisMorgan: you around?
[11:31:29] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[11:31:38] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[11:33:38] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[11:35:54] *** Quits: paulproteus (quassel@199.199.210.158) (Ping timeout)
[11:36:12] *** Joins: paulproteus (quassel@458FE134.3EC36C88.CBDCF1DC.IP)
[11:42:10] <acrichto> cmr: HollyRain: hm it appears that I have seriously broken something with 'make install', I'm looking into it, thanks!
[11:42:51] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[11:45:01] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[11:45:45] *** Joins: peterdn (chatzilla@moz-E4A450C.as13285.net)
[11:45:45] * ChrisMorgan thinks `in` might work: `in(Gc) Foo::new()`
[11:46:29] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[11:51:12] <HollyRain> acrichto, no problem, thx to you
[11:52:09] <kimundi> ChrisMorgan: Only for placement-boxing though
[11:53:16] <kimundi> Hm, `box 5` and `box in Gc 5` would be wonderfully syntactically unambiguous ;P
[11:57:59] *** Quits: nkoep (nik@moz-4CC1A50B.pool.mediaways.net) (Ping timeout)
[11:58:29] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[11:58:40] *** Joins: nkoep (nik@moz-4CC1A50B.pool.mediaways.net)
[12:00:11] <ChrisMorgan> kimundi: erk, `box in Gc 5`? `box 5 in Gc`, I'd hope.
[12:00:23] <kimundi> Or that, yeah
[12:00:29] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[12:01:45] <kimundi> I was thinking more from a formal-grammar kind of way - but as long as in is not the valid start of an expression both should work :)
[12:01:52] *** Quits: Ms2ger (Ms2ger@C91975CB.3387515C.187A1082.IP) (Ping timeout)
[12:02:14] *** Quits: suzak (suzak@moz-E955F956.gununu.org) (Ping timeout)
[12:04:08] <eddyb> about the box thing, smart pointers could be inferred, too :P
[12:04:23] <Blei> how about `Gc box 5`
[12:04:32] <eddyb> Gc::new(5)
[12:04:56] <kimundi> eddyb: It's less about the type, and more about specifing the location
[12:04:58] <eddyb> Blei: it's an interesting construct
[12:05:16] <eddyb> kimundi: that would make sense with allocators/arenas, wouldn't it?
[12:05:28] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[12:05:33] <eddyb> box in(my_heap) 5
[12:06:19] <eddyb> that producing Rc<int, MyHeap> would truly be worth the syntax fiddling
[12:06:33] <kimundi> eddyb: I'm sorry, I don't understand the question :)
[12:06:42] <kimundi> what would make sense?
[12:06:51] <eddyb> kimundi: specifying the location
[12:07:21] <kimundi> Yes, that's the motivation behind the placement form
[12:07:21] <eddyb> strcat: you probably know more about this than me :D
[12:07:22] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[12:08:08] <kimundi> But I don't really know either - I only know about placement-new from hearsay :P
[12:09:21] <TeXitoi> how can I run the tests of only src/libstd/vec.rs ?
[12:10:53] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[12:12:36] <kimundi> TeXitoi: Not sure if that is possible.
[12:13:03] *** Joins: suzak (suzak@moz-FEBD2936.sakura.ne.jp)
[12:13:08] <kimundi> TeXitoi: Wait, afaik you can specify one or more tests to run with a command line flag, I always forget which one though
[12:13:43] <eddyb> something like check-stage1-std runs only the std tests, and I think there's a page on the wiki which explains how to restrict that further
[12:13:49] <kimundi> TeXitoi: In any case, I don'T think there is something for running all tests of a module only
[12:15:03] <TeXitoi> ok, but compiling the all world and run all the test just to test the add of an iterator in MutableVector will be difficult on my 32 bit Atom :(
[12:15:33] * TeXitoi search the wiki
[12:15:50] *** Joins: cubic (cubic@moz-80241A3A.mc.videotron.ca)
[12:16:44] <Blei> acrichto: re test for linker args; how would i do that? is it possible to specify arguments to rustc in tests?
[12:18:43] *** Joins: amro (quassel@moz-17EA8511.customers.ownit.se)
[12:20:39] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Connection reset by peer)
[12:21:49] <spider-mario> <acrichto> hm it appears that I have seriously broken something with 'make install', I'm looking into it, thanks!
[12:21:49] <spider-mario> is there a github issue for this? I haven’t found one.
[12:21:55] <spider-mario> (and I’d like to follow it)
[12:23:05] *** Joins: mikezaby (mikezaby@moz-AA896205.home.otenet.gr)
[12:23:15] <eddyb> spider-mario: <acrichto> Luqman: another case of fallout from #10743, I made a comment on that, but thanks for letting me know!
[12:23:22] *** Parts: mikezaby (mikezaby@moz-AA896205.home.otenet.gr) ()
[12:23:27] <spider-mario> oh, thanks
[12:23:27] <eddyb> I think that's the same make install issue
[12:23:53] <eddyb> spider-mario: nope, sorry
[12:25:46] <eddyb> spider-mario: maybe this one https://github.com/mozilla/rust/pull/10746
[12:26:46] <spider-mario> sounds more like it, but then it should be reopened (as pointed out earlier)
[12:26:49] <spider-mario> thanks
[12:31:36] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[12:33:15] *** Joins: Ferreus (ferreus@moz-442D2020.pools.arcor-ip.net)
[12:33:20] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[12:35:12] *** Quits: KindOne (KindOne@moz-1F6A65EB.dynamic.ip.windstream.net) (Ping timeout)
[12:37:24] *** Joins: KindOne (KindOne@moz-1F6A65EB.dynamic.ip.windstream.net)
[12:37:50] *** Joins: Ms2ger (Ms2ger@C91975CB.3387515C.187A1082.IP)
[12:39:41] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[12:39:47] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Ping timeout)
[12:41:08] *** Joins: Skif (emschwar@moz-4C5BB5A8.beyondbb.com)
[12:42:34] <TeXitoi> I'd like to add MutableVector::mut_split that basically do the same as ImmutableVector::split, but mut_split already exists as cutting one slice into 2 slices
[12:42:51] *** Quits: Skif (emschwar@moz-4C5BB5A8.beyondbb.com) (Ping timeout)
[12:43:19] <TeXitoi> so first question, what should I do? mut_split_iter?
[12:43:58] <TeXitoi> then, there is ImmutableVector::{splitn, rsplit, rsplitn}
[12:45:50] <TeXitoi> shouldn't the n version quite useless (or can be simplified using take on it), and the r version should be instead DoubleEndedIterator on split?
[12:48:09] *** Joins: beifeng (Mibbit@B5497CF4.FA7FF645.C7DB8B78.IP)
[12:51:45] <kimundi> TeXitoi: Hm, the name clash with mut_split is bad, and should be solved by giving that function a different name, instead of the iterator
[12:52:47] <kimundi> TeXitoi: In general I'd like to simplyfy all the split iterators - Ideall there should only be split() that returns a DoubleEndedIterator, and splitn and rsplitn returning a single ended iterator each
[12:55:00] *** Joins: jordyd (jordyd@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net)
[12:55:43] <kimundi> TeXitoi: split_at and mut_split_at might work for returning a splitted (&[T], &[T]) and (&mut [T], &mut [T]), though that still kinda clashes with all other split functiosn returning Iterators now.
[12:55:48] <TeXitoi> splitn can return the same thing as split(...).take(n) and rsplitn split(..).inverse().take(n) ?
[12:56:03] <kimundi> TeXitoi: No
[12:56:15] <TeXitoi> why?
[12:56:28] *** Joins: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[12:57:45] <kimundi> TeXitoi: In general, splitn(n) returns [1. slice, ... n. slice, all remaining elements as slice]
[12:58:18] <kimundi> TeXitoi: And rsplitn(n) returns [1. slice, ... n. slice, all remaining elements as slice] except from the back
[12:59:05] <TeXitoi> kimundi: I see
[13:00:06] <TeXitoi> so the plan would be to remove rev_split() and having split() return a DoubleEndedIterator?
[13:00:20] <TeXitoi> and let the others as is
[13:00:31] <kimundi> Thats my plan at least :P - https://github.com/mozilla/rust/issues/9391
[13:04:08] <kimundi> Mainly I'm concentrating on boiling down the varios split, find and contains apis for strings into one common trait system, and then port everything applicable to vectors
[13:09:35] <TeXitoi> kimundi: seems fair
[13:10:23] <TeXitoi> kimundi: I'd like to propose my mut_split_iter to MutableVector, how can I do that?
[13:11:01] <TeXitoi> kimundi: first asking to rename mut_split to mut_split_at?
[13:11:24] <TeXitoi> kimundi: and then mut_split as DoubleEndedIterator?
[13:11:46] <kimundi> Id say rename the existing mut_split to mut_split_at, then introduce mut_split as iterators over mutable slices
[13:11:48] <kimundi> yeah
[13:11:57] <kimundi> At least, seems like a logical course of action to me
[13:12:59] <kimundi> I'd just make a PR with these changes, explain the in the PR description why the renaming was done, and then clear any objects that way
[13:13:06] <TeXitoi> ok, should I directly propose a PR renaming mut_split to mut_split_at, or begining with an issue?
[13:13:07] <kimundi> objections*
[13:13:26] <TeXitoi> ok
[13:13:33] <TeXitoi> thanks, I'll do that
[13:13:40] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[13:14:31] <kimundi> If you plan to directly do the change, no need for an issue imo. But I'm not really sure in those areas either :P
[13:14:42] *** Quits: KindOne (KindOne@moz-1F6A65EB.dynamic.ip.windstream.net) (Ping timeout)
[13:15:04] <TeXitoi> kimundi: ok
[13:24:42] *** Quits: z0w0 (zack@moz-6264033D.qcl9.cha.bigpond.net.au) (Ping timeout)
[13:26:03] <TeXitoi> kimundi: I propose in the same PR rename mut_split to mut_split_at AND mut_split iterator? Or waiting for the rename to be done before proposing mut_split iterator is better?
[13:27:23] <kimundi> TeXitoi: I would just put the renaming into one commit, and the new iterator in another commit, but put both up as one PR - It can always split up afterwards if reviewers want to
[13:27:44] <TeXitoi> kimundi: ok, thanks
[13:28:28] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[13:29:56] *** Joins: dwrensha (chatzilla@moz-39B4ACCD.hrbgpa.fios.verizon.net)
[13:31:20] *** Joins: KindOne (KindOne@moz-1F6A65EB.dynamic.ip.windstream.net)
[13:32:19] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[13:32:31] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[13:34:02] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[13:35:11] *** Quits: KindOne (KindOne@moz-1F6A65EB.dynamic.ip.windstream.net) (Ping timeout)
[13:41:28] *** Quits: suzak (suzak@moz-FEBD2936.sakura.ne.jp) (Connection reset by peer)
[13:41:29] *** Quits: jordyd (jordyd@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net) (Ping timeout)
[13:43:32] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[13:45:01] *** Joins: canhtak (canhtak@moz-A13A68C3.wl.t.ulaval.ca)
[13:48:37] *** Quits: canhtak (canhtak@moz-A13A68C3.wl.t.ulaval.ca) (Quit: canhtak)
[13:49:00] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[13:49:49] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[13:51:37] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[13:51:44] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[13:53:08] *** Joins: suzak (suzak@moz-FEBD2936.sakura.ne.jp)
[13:53:14] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[13:54:18] *** Joins: canhtak (canhtak@moz-A13A68C3.wl.t.ulaval.ca)
[13:54:52] *** Quits: HollyRain (HollyRain@moz-50A83091.dyn.user.ono.com) (Quit: bye, bye)
[13:54:58] <TeXitoi> there is no impl<'self> Eq for &'self mut str (with mut) is that normal ?
[13:57:02] *** Joins: KindOne (KindOne@moz-1F6A65EB.dynamic.ip.windstream.net)
[14:00:11] <Ms2ger> &mut str? Does that exist?
[14:00:55] <TeXitoi> Mmm, sorry, s/str/[T]/
[14:01:17] <TeXitoi> impl<'self, T> Eq for &'self mut [T]
[14:02:37] *** Joins: tedh (tedh@moz-A5D1CAB7.public.wayport.net)
[14:02:50] <TeXitoi> is there a way to have a "fn unmut<T>(v: &mut T) -> &T"?
[14:03:01] *** Quits: paulproteus (quassel@199.199.210.158) (Ping timeout)
[14:03:26] *** Joins: paulproteus (quassel@458FE134.3EC36C88.CBDCF1DC.IP)
[14:04:56] <Blei> cast::transmute_immut
[14:06:03] <TeXitoi> Blei: thanks, so no safe way
[14:07:00] <Blei> no
[14:07:18] <strcat> TeXitoi: &mut coerces to &T
[14:07:21] <strcat> no unsafe code needed
[14:07:48] <klutzy> what is the purpose of transmute_immut? I'm a little surprised
[14:08:08] <strcat> there's no purpose
[14:10:14] <TeXitoi> rusti: ~[&mut []] == ~[&[]]
[14:10:15] -rusti- pastebinned 7 lines of output: http://sprunge.us/CWHM
[14:10:26] <strcat> that's not the same thing as &mut to &
[14:10:39] <strcat> there's no special case for ArbitraryType<T> -> ArbitraryType2<T>
[14:10:45] <strcat> it can't know that those are the same
[14:10:59] <strcat> unless it was special-cased for certain types, but it can't know in general
[14:11:05] <TeXitoi> rusti: ~[&mut [1]] == ~[&[1]]
[14:11:07] -rusti- pastebinned 7 lines of output: http://sprunge.us/MIie
[14:11:15] <TeXitoi> rusti: ~[&mut [1]] == ~[&mut [1]]
[14:11:16] -rusti- <anon>:9:9: 9:35 error: failed to find an implementation of trait std::cmp::Eq for &mut [int]
[14:11:16] -rusti- <anon>:9          ~[&mut [1]] == ~[&mut [1]]
[14:11:16] -rusti-                   ^~~~~~~~~~~~~~~~~~~~~~~~~~
[14:11:16] -rusti- application terminated with error code 101
[14:11:43] <strcat> you're not asking it to convert & to &mut there
[14:11:58] <strcat> you're asking it for an Eq implementation for T where T is &mut [int]
[14:12:01] <strcat> and there isn't one
[14:12:04] <TeXitoi> shure, but that's my first question
[14:12:26] <klutzy> hmm, std::unstable::sync and extra::arc use transmute_immut
[14:12:29] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[14:12:45] <TeXitoi> I try to test some iterator on &mut [T]
[14:12:45] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[14:12:46] *** ChanServ sets mode: +o pnkfelix
[14:12:51] <klutzy> don't know details now though
[14:14:45] <TeXitoi> rusti: [&mut [1]].map(std::cast::transmute_immut).to_owned_vec() == ~[&[1]]
[14:14:47] -rusti- pastebinned 8 lines of output: http://sprunge.us/ReMC
[14:19:06] *** Joins: moostik (Icedove@moz-C2FFB694.w82-121.abo.wanadoo.fr)
[14:19:12] *** Joins: doomlord_ (servitor@moz-9738D381.range86-160.btcentralplus.com)
[14:19:42] *** Joins: GeneralMaximus (ankur@704E18E2.13A5FC81.D5D59AD9.IP)
[14:20:54] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[14:22:38] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[14:24:00] *** Quits: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Client exited)
[14:27:04] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Connection reset by peer)
[14:27:28] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[14:29:54] *** Joins: Skif (emschwar@moz-4C5BB5A8.beyondbb.com)
[14:30:52] <TeXitoi> rusti: &mut [1] == &mut [1]
[14:30:53] -rusti- true
[14:31:10] <TeXitoi> rusti: assert_eq!(&mut [1], &mut [1])
[14:31:11] -rusti- ()
[14:31:33] <TeXitoi> Mmm, don't work here...
[14:31:43] *** Quits: Skif (emschwar@moz-4C5BB5A8.beyondbb.com) (Ping timeout)
[14:33:12] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[14:33:23] *** Quits: GeneralMaximus (ankur@704E18E2.13A5FC81.D5D59AD9.IP) (Quit: Computer has gone to sleep.)
[14:33:31] <TeXitoi> rusti: assert_eq!(Some(&mut [1]).unwrap(), &mut [1])
[14:33:32] -rusti- ()
[14:33:41] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Client exited)
[14:35:13] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[14:35:52] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[14:36:05] *** Joins: SiegeLord (sl@moz-C606190.bstnma.fios.verizon.net)
[14:37:25] *** Quits: amro (quassel@moz-17EA8511.customers.ownit.se) (Ping timeout)
[14:37:48] <tiffany> you can use rust's type system to make a safe stack-based linked list, can't you?
[14:38:40] <tiffany> the main thing I'm worried about is maintaining the head pointer, I don't know how you can do that without subverting the type system
[14:40:33] *** Quits: eddyb (eddy@EBE709F3.F7C96DA2.FCAAE698.IP) (Ping timeout)
[14:41:48] <TeXitoi> tiffany: src/test/bench/shootout-meteor.rs do a stack based linked list
[14:42:16] <TeXitoi> that's quite restricted
[14:43:13] <TeXitoi> rusti: struct List<'self> {val: int, next: Option<List<'a>>}
[14:43:14] -rusti- <anon>:9:52: 9:59 error: no region bound is allowed on `main::List`, which is not declared as containing region pointers
[14:43:14] -rusti- <anon>:9          struct List<'self> {val: int, next: Option<List<'a>>}
[14:43:14] -rusti-                                                              ^~~~~~~
[14:43:15] -rusti- error: aborting due to previous error
[14:43:15] -rusti- application terminated with error code 101
[14:43:37] <TeXitoi> rusti: struct List<'self> {val: int, next: Option<&'a List<'a>>}
[14:43:39] -rusti- pastebinned 8 lines of output: http://sprunge.us/MOJB
[14:44:23] <tiffany> it passes the list as a parameter to the function it's recursing into
[14:44:27] <SiegeLord> With this 'new'/'box' syntax introduced, how will one pattern match owned pointers? let a:~T or let a:new T ?
[14:44:33] <tiffany> I sort of had stuffing it into thread local storage in mind
[14:44:38] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[14:45:12] <tiffany> siegelord: I'm 99% sure that ~ will still be used to denote owned pointer types
[14:45:23] <tiffany> you'll just use box 10 instead of ~10 when you need an ~int
[14:45:53] <SiegeLord> Rust does tend to have patterns looking like declarations...
[14:47:16] <tiffany> rusti: let ref a : ~int = ~10; a
[14:47:17] -rusti- pastebinned 16 lines of output: http://sprunge.us/YhjJ
[14:47:17] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[14:48:09] <tiffany> I suppose box int would make sense
[14:48:19] <tiffany> new int would make even less sense as a type specifier than new (1+1) would
[14:48:34] *** Quits: JanC (janc@moz-CFBC98AF.dsl.scarlet.be) (Ping timeout)
[14:49:28] <TeXitoi> tiffany: you can look at shootout-binarytrees.rs that use an area with a borrowed tree
[14:50:09] <tiffany> I think I asked my question wrong earlier
[14:50:20] <TeXitoi> rusti: struct List<'self> {val: int, next: Option<&'self List<'self>>}
[14:50:21] -rusti- ()
[14:50:25] <tiffany> what I really wanted to know is if you can use the type system to safely store an & pointer in thread-local storage
[14:50:29] <tiffany> which I doubt it is
[14:50:38] <tiffany> er, doubt that you can
[14:51:03] <TeXitoi> rusti: enum List<'self> {Cons(int, Option<&'self List<'self>>), Nil} 
[14:51:03] -rusti- ()
[14:51:28] <TeXitoi> rusti: enum List<'self> {Cons(int, Option<&'self List<'self>>), Nil} Cons(1, &Cons(2, Nil))
[14:51:28] -rusti- pastebinned 8 lines of output: http://sprunge.us/WiDY
[14:52:27] <TeXitoi> rusti: enum List<'self> {Cons(int, &'self List<'self>), Nil} Cons(1, &Cons(2, &Nil))
[14:52:28] -rusti- pastebinned 15 lines of output: http://sprunge.us/HMeW
[14:53:36] <TeXitoi> rusti: enum List<'self> {Cons(int, &'self List<'self>), Nil} let l = Cons(1, &Cons(2, &Nil));
[14:53:37] -rusti- pastebinned 12 lines of output: http://sprunge.us/DDRg
[14:57:12] <TeXitoi> rusti: assert_eq!(Some(&mut [1]).unwrap(), &mut [1]);
[14:57:13] -rusti- ()
[14:57:40] <TeXitoi> that do not work here with: <std-macros>:60:22: 60:32 error: cannot borrow an `&mut` in a `&` pointer; try an `&mut` instead
[14:57:43] <TeXitoi> <std-macros>:60                 if !((*given_val == *expected_val) &&
[14:58:06] <TeXitoi> any idea how I can test this kind of thing?
[14:58:46] *** Joins: jc (Mibbit@5C5F5246.98A54CFA.2862F179.IP)
[15:00:30] <dwrensha> *** Aborting install because more than one library matching libstd-*.rlib is present in build tree x86_64-apple-darwin/stage2/lib: .  Stop.
[15:00:38] <dwrensha> Anyone know what's going on here? ^
[15:01:35] <kimundi> dwrensha: the makefile is currently broken in the sense that it doesn't clean up prior build artifacts. Just go into that directory, and delete all older rlib files
[15:01:57] <acrichto> spider-mario: eddyb: hm, actually fixed it this time: https://github.com/mozilla/rust/pull/10753
[15:02:15] <acrichto> now back to flying...
[15:02:43] <spider-mario> thanks :D
[15:02:48] <kimundi> SiegeLord: Apparently the plan is to have a general deref pattern instead, that would wotk with ~T, Gc<T>, Rc<T> etc
[15:03:07] <SiegeLord> Oh really, that's interesting
[15:03:17] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[15:03:43] <dwrensha> kimundi: I don't think there are any older rlib files...
[15:04:00] <dwrensha> x86_64-apple-darwin/stage2/lib/ has no rlib files
[15:04:13] <kimundi> dwrensha: Is there more than one libstd-....rlib file?
[15:04:26] <dwrensha> and x86_64-apple-darwin/stage2/lib/rustc/x86_64-apple-darwin/lib has just one for libstd
[15:04:27] <kimundi> hum
[15:04:57] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[15:04:59] *** Joins: JanC (janc@moz-8305164E.dsl.scarlet.be)
[15:05:06] <TeXitoi> dwrensha: find . -name libstd-\*.rlib
[15:05:08] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[15:05:30] <TeXitoi> ok the problem is in the install dir, maybe?
[15:05:48] <dwrensha> ./x86_64-apple-darwin/stage1/lib/rustc/x86_64-apple-darwin/lib/libstd-6425b930ca146ae9-0.9-pre.rlib
[15:05:49] <dwrensha> ./x86_64-apple-darwin/stage2/lib/rustc/x86_64-apple-darwin/lib/libstd-6425b930ca146ae9-0.9-pre.rlib
[15:07:12] <kimundi> hm. acrichto ^ ?
[15:07:35] <TeXitoi> kimundi: that's the result of my find command
[15:08:54] *** Quits: moostik (Icedove@moz-C2FFB694.w82-121.abo.wanadoo.fr) (Ping timeout)
[15:10:34] *** Joins: mye (mye@moz-BC8CA0A3.dip0.t-ipconnect.de)
[15:15:04] <klutzy> I've got same "Aborting install .." error both on linux and now on win32
[15:15:21] *** Joins: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP)
[15:15:21] *** ChanServ sets mode: +o jdm
[15:15:47] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[15:16:37] <klutzy> oh, there's already a pr fix
[15:17:27] *** Quits: Ms2ger (Ms2ger@C91975CB.3387515C.187A1082.IP) (Quit: Leaving)
[15:17:57] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[15:17:58] *** ChanServ sets mode: +o pnkfelix
[15:18:45] *** Joins: tdc (santegoeds@moz-FD650F79.range31-54.btcentralplus.com)
[15:24:22] *** Quits: tdc (santegoeds@moz-FD650F79.range31-54.btcentralplus.com) (Quit: Leaving)
[15:24:48] <diverse> kimundi: +1 on `box 5`
[15:25:50] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[15:27:16] <TeXitoi> Mmm, &[T] and &mut [T] are two completely different types?
[15:27:35] <kimundi> TeXitoi: Yes
[15:27:43] <kimundi> TeXitoi: Just like &T and &mut T
[15:29:04] <diverse> let my_thing = mut box Thing::new(); ^_^
[15:29:11] <kimundi> & can be copied around with abandon, while a &mut has to be the only mutable reference to the thing it points at at a time.
[15:29:56] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[15:29:56] *** ChanServ sets mode: +o pnkfelix
[15:30:03] <kimundi> diverse: Whoa there, don't make the situation seem worse than it is :P - There is no mut operator and will probably never be
[15:30:16] <kimundi> AT elast, no reason to have a mut form of box
[15:30:17] <TeXitoi> mut_split_iter.rs:43:18: 43:24 error: cannot borrow an `&mut` in a `&` pointer; try an `&mut` instead
[15:30:20] <TeXitoi> mut_split_iter.rs:43         let len = self.v.len(); ^~~~~~
[15:30:29] <diverse> kimundi: That is news to me, thanks for the heads up. :)
[15:30:30] <dwrensha> let mut my_thing = box Thing::new();
[15:30:36] <diverse> gotcha
[15:30:37] <TeXitoi> v is a &mut [T]
[15:31:28] <diverse> that makes things less I complicated, I agree :)
[15:31:36] <kimundi> TeXitoi: I _think_ that is a known limitation with nested references, that I've also run into. Ask nmatsakis about how to best fix it
[15:32:14] <TeXitoi> kimundi: how can I ask?
[15:32:31] <kimundi> nmatsakis: ping
[15:32:33] <kimundi> :P
[15:32:44] <kimundi> He's in this channel, you know ;)
[15:33:06] <diverse> lurking in the shadows
[15:33:29] <kimundi> TeXitoi: In any case, a pastebin or gist of the full implemntation would be useful
[15:33:33] *** Joins: Ms2ger (Ms2ger@C91975CB.3387515C.187A1082.IP)
[15:33:46] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[15:33:53] <kimundi> TeXitoi: Of your code that throws that error, that is
[15:34:12] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[15:34:41] <TeXitoi> mut_split_iter.rs:42:61: 42:67 error: cannot borrow an `&mut` in a `&` pointer; try an `&mut` instead
[15:34:44] <TeXitoi> mut_split_iter.rs:42         let len = unsafe { cast::transmute::<&mut [T], &[T]>(self.v).len() };
[15:34:46] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[15:34:56] <TeXitoi> wow... even transmute don't want...
[15:35:05] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[15:35:14] <strcat> you don't need transmute to go from &mut -> &
[15:35:18] <strcat> it happens implicitly
[15:35:20] <strcat> it's a coercion
[15:36:12] <strcat> rusti: let mut xs = [1, 2, 3]; let a: &mut [int] = xs; let b: &[int] = a; b.len()
[15:36:13] -rusti- 3u
[15:36:41] <strcat> it's not what the erro you're making is
[15:36:44] <strcat> error*
[15:36:54] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[15:38:05] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[15:39:03] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[15:39:07] <TeXitoi> nmatsakis: https://gist.github.com/TeXitoi/7735423
[15:40:20] <TeXitoi> strcat: If you have any idea for https://gist.github.com/TeXitoi/7735423
[15:40:39] *** Joins: squiddy (squiddy@moz-C8A2D879.adsl.alicedsl.de)
[15:41:06] <strcat> TeXitoi: you have &self
[15:41:16] <strcat> so it's not going to let you borrow &mut
[15:41:19] <strcat> from inside it
[15:41:38] <strcat> I *highly* suggest not using transmute like this
[15:42:14] <Ms2ger> I *highly* suggest not using transmute
[15:42:28] <TeXitoi> strcat: shure, but what option I have? for the moment, I just see returning (1, None)
[15:42:41] <strcat> have you tried coercing it to &?
[15:42:54] <strcat> not using an unsafe cast
[15:42:56] <strcat> just coercing it
[15:43:21] <TeXitoi> let v: &[T] = self.v; ?
[15:43:31] <Ms2ger> Surely .len() is immutable?
[15:44:05] <TeXitoi> same
[15:44:36] <diverse> any reason it needs to be mutable?
[15:45:14] *** Joins: tikue (tkuehn@moz-C55F9DFF.hsd1.pa.comcast.net)
[15:45:28] <TeXitoi> diverse: that's the slice of a mutable iterator, so I need &mut [T] for next()
[15:51:56] <Ms2ger> https://github.com/mozilla/rust/issues/9629?
[15:57:26] <TeXitoi> Ms2ger: thanks, that's look like my problem
[16:00:26] *** Quits: tikue (tkuehn@moz-C55F9DFF.hsd1.pa.comcast.net) (Quit: tikue)
[16:03:33] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Connection reset by peer)
[16:03:47] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[16:05:36] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Connection reset by peer)
[16:05:40] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Connection reset by peer)
[16:09:50] *** Quits: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw) (Ping timeout)
[16:09:52] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[16:10:04] *** Joins: moostik (Icedove@moz-C2FFB694.w82-121.abo.wanadoo.fr)
[16:10:22] *** Joins: brendan (brendaneic@moz-D5E1B4C6.w193-248.abo.wanadoo.fr)
[16:12:31] <dwrensha> TeXitoi: can you work around that by storing the length as a field in MutSplitIterator?
[16:13:02] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[16:13:33] *** Quits: btipling (btipling@moz-D51E0AEB.xen.prgmr.com) (Quit: ZNC - http://znc.sourceforge.net)
[16:13:36] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[16:15:41] *** Joins: btipling (btipling@moz-D51E0AEB.xen.prgmr.com)
[16:18:33] *** Joins: Skif (emschwar@moz-4C5BB5A8.beyondbb.com)
[16:18:47] <TeXitoi> another one: https://gist.github.com/TeXitoi/7735423
[16:19:18] <TeXitoi> dwrensha: I could, for the moment, I return (1, None) with a // FIXME
[16:20:10] <TeXitoi> dwrensha: You can see the current version at https://gist.github.com/TeXitoi/7735423
[16:20:20] *** Quits: Skif (emschwar@moz-4C5BB5A8.beyondbb.com) (Ping timeout)
[16:22:35] <kimundi> TeXitoi: What'S up with the reverse?
[16:23:38] <kimundi> TeXitoi: You need .invert() to swap the ends of a double ended iterator
[16:23:59] <TeXitoi> kimundi: ha, even on a mutable one?
[16:24:12] <kimundi> TeXitoi: Any DoubleEndedIterator
[16:24:17] *** Joins: twb (textual@moz-5DE8950B.hsd1.ga.comcast.net)
[16:24:18] <TeXitoi> ok, thanks
[16:24:45] <kimundi> TeXitoi: reverse_ is something different
[16:24:47] * TeXitoi need a break ;)
[16:25:42] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:25:44] <TeXitoi> Thaks everyone :)
[16:25:50] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:26:11] <TeXitoi> it works (except for the non complete size_hint())
[16:26:20] <TeXitoi> *Thanks
[16:26:35] * TeXitoi really need a break ;)
[16:27:09] <diverse> let the stress out and you will come back better
[16:35:38] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[16:35:57] *** Joins: celeron55 (perttu@moz-D552F2C7.netplaza.fi)
[16:37:31] <celeron55> does rust have any way of speeding up incremental compiles when modifying single source files in a large project?
[16:38:13] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[16:38:53] <kimundi> celeron55: No, mainly because it doesn't have a incremental compilation model :)
[16:39:05] <celeron55> how are large projects supposed to be handled?
[16:39:10] *** Quits: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP) (Quit: Lost terminal)
[16:39:26] <pnkfelix> celeron55: you can break a project into multiple crates
[16:39:38] <kimundi> But that has negative perfomance implications
[16:39:44] <pnkfelix> celeron55: there is a recent thread on the topic rooted here: https://mail.mozilla.org/pipermail/rust-dev/2013-November/006970.html
[16:39:56] <diverse> kimundi: just curious, is &mut not an operator?
[16:40:53] <kimundi> diverse: Hu, hard to answer. "Yes", "No" and "Yes, but not in the sense you mean" are possible answers :)
[16:41:09] <kimundi> diverse: I gues it can be aseen as reference takling operator
[16:41:41] <strcat> incremental compilation doesn't work for a compiler that needs to bootstrap itself
[16:41:44] *** Quits: brendan (brendaneic@moz-D5E1B4C6.w193-248.abo.wanadoo.fr) (Quit: brendan)
[16:42:06] <celeron55> pnkfelix: so in short, currently the only way is explicit crates, and there will probably be something handier in the future?
[16:42:08] <strcat> other projects (not rust itself) can use crates for incremental compilation
[16:42:19] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[16:42:24] <strcat> celeron55: no, crates are the only planned compilation unit
[16:42:27] <strcat> you change mod to extern mod
[16:43:08] <strcat> at the moment rust doesn't have link-time optimization, so if you do split up the project it will be larger and slower without a take-all-the-time-you-need switch for release builds
[16:43:26] <strcat> but we'll get that, and then you'll be able to have fast incremental development builds without slowing down your release build
[16:43:49] <strcat> but this doesn't work for rust itself, because it needs to bootstrap
[16:44:35] <strcat> and you have to keep in mind that splitting the build will make it take longer to compile *the whole thing*, with the benefit of being able to do incremental compiles
[16:44:52] <strcat> because generics and inline functions will be getting re-optimized for each crate
[16:45:02] <celeron55> oh yeah, i'm not concerned about the compiler itself - i'm mainly thinking how i might organize a hypothetical project
[16:46:25] <celeron55> strcat: does there exist any aim in how slow the compilation can be? like, are you aiming for eg. being worse or better than C++?
[16:46:52] <strcat> not really
[16:47:06] <celeron55> looking at the competition, Go aims for fast compilation
[16:47:10] *** Joins: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[16:47:20] <strcat> rust doesn't make sacrifices in performance and expressiveness for compilation speed
[16:47:41] <strcat> it will compile as fast as possible, but there won't be major sacrifices to get it there
[16:48:33] <strcat> and rust is built on LLVM, which is an modern optimizing compiler, so it will never be fast as a source translation tool
[16:48:41] <strcat> for example look at tcc vs. clang
[16:48:51] <strcat> tcc compiles a lot faster, just like go's 6g is a lot faster than gccgo
[16:49:31] <diverse> even though it compiles faster, how good is the code optimization?
[16:50:17] <strcat> like -O0 with clang/gcc
[16:50:25] <strcat> if you're talking about 6g/tcc
[16:50:37] <diverse> I am
[16:51:00] <strcat> -O0 doesn't run analysis/optimization passes, but it still tries to generate sane code with the CodeGen backend (just not at the expense of significant compile-time)
[16:51:05] *** Quits: lpy (lpy@12172131.F09091A8.1348A864.IP) (Client exited)
[16:51:12] <celeron55> i'm not really concerned about optimization as long as it doesn't get completely terrible... i'm considering starting a project which will probably have tens of thousands SLOC and it should have fast iteration times for a certain repetitive part of it
[16:52:12] <celeron55> so, it *is* possible to partition a huge rust program in a way that will lead to less than like 5 seconds of incremental compile time for a single source line modification, if everything is set up right?=
[16:52:28] <strcat> you can partition it as much as you want with crates
[16:52:34] <strcat> you will lose a lot of performance, of course
[16:53:47] <celeron55> i hate certain parts of Go but i guess it would probably make this way easier
[16:54:19] <bstrie> celeron55: tens of thousands of lines of code is not really a lot of code :)
[16:54:45] <bstrie> I don't wanna speculate, but I don't think rust would take very long to compile that at all
[16:54:46] *** Quits: sarclops (sarclops@moz-14C9EE3A.zone8.bethere.co.uk) (Ping timeout)
[16:56:11] <bstrie> strcat: when you say that we'll eventually get link-time optimization, do you mean that eventually lld will hopefully be released? :P
[16:56:18] <strcat> no
[16:56:46] <TeXitoi> rust$ find . -name \*.rs -exec cat {} \; | wc -l
[16:56:46] <TeXitoi> 346617
[16:56:51] <strcat> whole program optimization works fine without help from a linker, and rust could easily have it
[16:56:52] <bstrie> I haven't seen any roadmap for implementing LTO otherwise
[16:57:00] <strcat> binutils handles LTO just fine
[16:57:03] <TeXitoi> rust compiles "tens of thousands SLOC" ;)
[16:57:11] <strcat> clang has -flto and it works perfectly fine without lld
[16:57:15] <Earnestly> TeXitoi: wl can take a file…
[16:57:27] <Earnestly> *shrug*
[16:57:37] <celeron55> i think i'll experiment a bit with servo, it seems to be large enough to give useful results and it's plit in multiple crates
[16:57:46] <celeron55> split*
[16:57:46] <strcat> celeron55: I don't think it will give you useful results
[16:57:57] <celeron55> why?
[16:58:19] <strcat> neither rust's standard library or servo is written in a modern style, especially one that leads to fast compile-times
[16:58:31] <strcat> and neither is split into many crates
[16:58:40] <strcat> servo just uses a bunch of libraries
[16:59:10] <strcat> both also probably have a lot of manually cross-crate inlined functions and generics
[16:59:16] <celeron55> better suggestions?
[16:59:40] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[17:00:24] <strcat> the only way to get a useful comparison is to compare some sample written in C vs. some sample written the same way in rust
[17:01:02] <strcat> the stdlib is full of #[inline], which is the opposite of what you want
[17:01:08] <strcat> it's a workaround to make up for not having LTO
[17:01:26] <strcat> and to make up for the deficiencies of dynamic linking
[17:01:39] *** Joins: kphelps (kphelps@moz-8F37EAB2.ri.ri.cox.net)
[17:04:08] *** Joins: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net)
[17:05:51] *** Quits: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net) (Quit: Sharp)
[17:06:11] *** Quits: celeron55 (perttu@moz-D552F2C7.netplaza.fi) (Ping timeout)
[17:07:05] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[17:07:59] *** Joins: celeron55 (perttu@moz-D552F2C7.netplaza.fi)
[17:08:06] <celeron55> i guess i need to do more benchmarking than i thought
[17:08:13] *** Joins: brendan (brendaneic@moz-D5E1B4C6.w193-248.abo.wanadoo.fr)
[17:08:56] *** Joins: zslayton (Mibbit@moz-4806B979.nyc.res.rr.com)
[17:09:53] *** Quits: jc (Mibbit@5C5F5246.98A54CFA.2862F179.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:12:37] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[17:12:37] *** ChanServ sets mode: +o pnkfelix
[17:13:28] <tedh>  -lrustrt does not exist anymore, right?
[17:13:55] *** Quits: brendan (brendaneic@moz-D5E1B4C6.w193-248.abo.wanadoo.fr) (Quit: brendan)
[17:14:28] <tedh> compiling with --test is still trying to link in rustrt for me
[17:15:04] <tedh> if i manually run the link command without -lrustrt it links fine
[17:15:41] <tedh> anybody know where to fix that?
[17:17:09] *** Joins: jstevans1 (Instantbir@moz-8DBF3BC4.washdc.fios.verizon.net)
[17:18:51] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[17:18:55] <dwrensha> tedh: broken for me too
[17:19:13] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:27:02] *** Quits: bjz (bjz@moz-DD4A2A91.lnse2.cha.bigpond.net.au) (Ping timeout)
[17:27:26] *** Joins: bjz (bjz@moz-DD4A2A91.lnse2.cha.bigpond.net.au)
[17:28:17] *** Joins: brendan (brendaneic@moz-D5E1B4C6.w193-248.abo.wanadoo.fr)
[17:29:15] *** Quits: brendan (brendaneic@moz-D5E1B4C6.w193-248.abo.wanadoo.fr) (Quit: brendan)
[17:34:21] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[17:36:43] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[17:36:52] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:37:34] *** Quits: squiddy (squiddy@moz-C8A2D879.adsl.alicedsl.de) (Ping timeout)
[17:38:04] *** Quits: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[17:38:37] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[17:39:35] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[17:39:54] *** Joins: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[17:40:12] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[17:41:51] <mythmon> I'm having trouble with lifetimes and borrowed pointers. I'm trying to store a &pointer to a struct in another struct, but I keep getting errors related to anonymous lifetimes that I don't fully understand.
[17:42:13] <mythmon> I read the Borrowed Pointers tutorial linked from the main tutorial, but it didn't really help me figure it out.
[17:42:50] *** Quits: jstevans1 (Instantbir@moz-8DBF3BC4.washdc.fios.verizon.net) (Ping timeout)
[17:42:55] <eddyb> mythmon: you need to annotate the borrowed pointer in the second structure so the compiler knows it's safe
[17:43:07] <eddyb> rusti: struct Foo(&uint);
[17:43:10] -rusti- <anon>:9:20: 9:25 error: Illegal anonymous lifetime: anonymous lifetimes are not permitted here
[17:43:10] -rusti- <anon>:9          struct Foo(&uint);
[17:43:10] -rusti-                              ^~~~~
[17:43:10] *** Quits: beifeng (Mibbit@B5497CF4.FA7FF645.C7DB8B78.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:43:10] -rusti- error: aborting due to previous error
[17:43:10] -rusti- application terminated with error code 101
[17:43:17] <eddyb> rusti: struct Foo<'self>(&'self uint);
[17:43:19] -rusti- ()
[17:43:31] <mythmon> eddyb: hmm. ok, let me try that.
[17:43:46] <eddyb> mythmon: ^ that's safe because you're limiting the borrowed pointer to something that's alive for at least as long as the structure
[17:44:10] <mythmon> rusti: struct Foo<'self> { x: &'self uint };
[17:44:10] -rusti- ()
[17:44:31] <mythmon> eddyb: the syntax for the 'lifetimes is not the best documented :)
[17:44:37] <eddyb> on master I think you can use 'a or any name instead of 'self, if you want to keep it short
[17:44:48] <dwrensha> rusti: struct Foo<'a> {x : &'a uint};
[17:44:49] -rusti- <anon>:9:33: 9:37 error: Illegal lifetime 'a: only 'self is allowed as part of a type declaration
[17:44:49] -rusti- <anon>:9          struct Foo<'a> {x : &'a uint};
[17:44:49] -rusti-                                           ^~~~
[17:44:49] -rusti- error: aborting due to previous error
[17:44:49] -rusti- application terminated with error code 101
[17:44:57] <eddyb> rusti: version
[17:44:58] -rusti- "rustc 0.8"
[17:44:59] <dwrensha> I guess rusti is not master
[17:45:21] <eddyb> strcat: did you never really find out what broke rusti?
[17:45:43] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Client exited)
[17:45:49] <mythmon> i'm only just getting into rust. do most people writing rust code run on master? or on the latest release?
[17:46:10] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[17:46:12] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[17:46:22] *** vfetwnuncszu is now known as dcrewi
[17:46:24] <eddyb> 0.8 is a bit behind, master has changed a lot since
[17:47:00] <sp3d> anybody who feasibly can tracks master
[17:47:11] <diverse> and master is continuing to change even more
[17:47:24] <mythmon> ok.
[17:47:53] *** Joins: kzzch (Mibbit@moz-991A24E8.hsd1.va.comcast.net)
[17:48:04] <ssbr> Mmf. I only pull from master every once in a while, when I feel like making silly code updates to keep up with backwards-incompatible changes.
[17:48:19] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[17:48:19] *** ChanServ sets mode: +o pnkfelix
[17:48:31] <ssbr> there's no point tracking every single change unless you have to. Better to handle multiple backwards-incompatible changes at once.
[17:48:44] *** Quits: sp3d (s@moz-41A29595.dhcp.stls.mo.charter.com) (Ping timeout)
[17:49:23] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[17:49:59] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[17:50:20] *** Quits: six600110 (six600110@moz-C663577C.hsd1.il.comcast.net) (Ping timeout)
[17:50:52] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[17:53:31] <celeron55> is there a way to force rustc to output a --lib with a predefined name?
[17:53:48] *** Quits: jstevans (Instantbir@moz-8DBF3BC4.washdc.fios.verizon.net) (Ping timeout)
[17:53:58] <celeron55> i'm setting up a makefile for crates internal to a project
[17:54:08] *** Joins: six600110 (six600110@moz-C663577C.hsd1.il.comcast.net)
[17:54:18] <celeron55> and the hash things are kind of problematic
[17:54:28] <mythmon> so now, I'm having troubles with those lifetimes and the impls of those structs. I made a small example that shows my problem here: https://pastebin.mozilla.org/3701087
[17:55:25] <Blei> mythmon: impl <'self> Foo<'self> {
[17:56:20] <mythmon> Blei: hmm. so what is that actually telling the compiler?
[17:56:40] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[17:57:18] *** Joins: jstevans (Instantbir@moz-8DBF3BC4.washdc.fios.verizon.net)
[17:57:31] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[17:57:35] <Blei> the following impl block is generic with one lifetime parameter 'self
[17:58:28] <celeron55> lol, i made it to always bogus rename the result as lib$(NAME)-1111111111111111-0.0.1.so
[17:58:46] <celeron55> works as intended, 5/5
[17:59:05] <mythmon> is that same 'self as the 'self I wrote in the struct Foo<'self> {...} ?
[17:59:17] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[18:00:38] *** Quits: SiegeLord (sl@moz-C606190.bstnma.fios.verizon.net) (Quit: Leaving)
[18:00:39] <Blei> the part `impl <'self>` introduces a new lifetime variable (called 'self), the part `Foo<'self> {` binds the lifetime of the Foo struct to this parameter
[18:01:11] *** Quits: btipling (btipling@moz-D51E0AEB.xen.prgmr.com) (Quit: ZNC - http://znc.sourceforge.net)
[18:01:16] <celeron55> (well apparently it works just with -0.so; good)
[18:01:20] <eddyb> mythmon: the type of self inside that impl is Foo<'self>
[18:01:56] <eddyb> mythmon: so this should work: fn set_ref(&mut self, &'self ref) {self.ref = ref;}
[18:02:12] <TeXitoi> Done! :) https://github.com/mozilla/rust/pull/10757
[18:02:19] <mythmon> eddyb: ok. that makes... a little bit of sense.
[18:03:07] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Client exited)
[18:03:20] *** Joins: btipling (btipling@moz-D51E0AEB.xen.prgmr.com)
[18:03:26] <kimundi> mythmon: Lifetime parameters are just like type paramters in that sense
[18:04:00] <Blei> (except that ref is a keyword, iirc)
[18:04:05] <kimundi> struct Foo<'a, B>; impl<'a, B> for Foo<'a, B> { ... }
[18:06:13] <spider-mario> make install doesn’t seem to install the new librustrt.a
[18:06:28] <spider-mario> so trying to compiling rust programs fails
[18:06:37] <spider-mario> (“cannot find -lrustrt”)
[18:06:57] *** Quits: jstevans (Instantbir@moz-8DBF3BC4.washdc.fios.verizon.net) (Ping timeout)
[18:07:22] *** Joins: Skif (emschwar@moz-4C5BB5A8.beyondbb.com)
[18:08:14] *** Joins: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com)
[18:08:44] <strcat> spider-mario: it seems to work for me
[18:09:03] *** Quits: Skif (emschwar@moz-4C5BB5A8.beyondbb.com) (Ping timeout)
[18:10:36] <spider-mario> on my machine, it installs: librustllvm.so, libstd-*.so, libstd-*.rlib, libextra-*.so, libextra-*.rlib, librustuv-*.so, librustuv-*.rlib, librustc-*.so, libsyntax-*.so, librustpkg-*.so, librustdoc-*.so, libmorestack.a
[18:11:35] *** Joins: jstevans (Instantbir@moz-8DBF3BC4.washdc.fios.verizon.net)
[18:11:55] <acrichto> spider-mario: rustrt is a static library now, the compiler should not be attempting to link against it (except outside of the build process)
[18:11:55] *** Joins: sprang (sprang@moz-920A95C4.hsd1.ca.comcast.net)
[18:12:56] <spider-mario> well, the compiler doesn’t work when librustrt.a isn’t there, and it does when it is
[18:13:35] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[18:13:55] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[18:14:06] *** Joins: mikezaby (mikezaby@moz-AA896205.home.otenet.gr)
[18:14:10] *** vfetwnuncszu is now known as dcrewi
[18:14:13] *** Parts: mikezaby (mikezaby@moz-AA896205.home.otenet.gr) ()
[18:14:16] *** Joins: sp3d (s@moz-41A29595.dhcp.stls.mo.charter.com)
[18:14:39] <strcat> although my nightly package stopped building for another reason
[18:15:06] <strcat> /build/rust-git/src/rust/mk/install.mk:138: *** Aborting install because more than one library matching libstd-*.rlib is present in build tree x86_64-unknown-linux-gnu/stage2/lib: .  Stop.
[18:15:21] <strcat> (in a completely clean build directory without -j#)
[18:15:43] <acrichto> strcat: 10753 should fix that
[18:18:36] <spider-mario> yeah, I cherry-picked it to make it work, maybe it’s what breaks the installation after all
[18:18:53] <spider-mario> but looking at the patch, that’s not my impression
[18:20:10] *** Joins: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw)
[18:20:35] <tedh> for me, it only tries to link rustrt with --test
[18:21:18] <tedh> if i manually link without "-lrustrt", it works
[18:23:17] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[18:24:21] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[18:25:40] *** Joins: Krymise (Nietzsche@1C166AC3.81BFCEFF.52A100C7.IP)
[18:26:48] *** Quits: jstevans (Instantbir@moz-8DBF3BC4.washdc.fios.verizon.net) (Ping timeout)
[18:27:38] <mythmon> is 'self an anonymous lifetime?
[18:28:05] <mythmon> because I keep getting the error "Illegal anonymous lifetime: anonymous lifetimes are not permitted here" where I wrote &'self
[18:28:56] *** Quits: dwrensha (chatzilla@moz-39B4ACCD.hrbgpa.fios.verizon.net) (Quit: ChatZilla 0.9.90.1 [Firefox 25.0.1/20131112160018])
[18:29:58] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[18:30:01] *** Quits: victorporof (victorporo@FB8E2A00.483E5FE1.9B1E38F4.IP) (Quit: victorporof)
[18:31:53] *** Joins: jstevans (Instantbir@moz-8DBF3BC4.washdc.fios.verizon.net)
[18:31:57] <eddyb> mythmon: is it declared?
[18:32:23] <eddyb> mythmon: as a <'self> type argument for an enclosing item (a function or impl)
[18:32:58] <mythmon> eddyb: I'm not sure. This is the line of code that is erroring:  grid.rs:46 impl<'self> std::to_str::ToStr for Grid<'self> {
[18:33:18] <mythmon> and other impls that talk Grid.
[18:33:33] <eddyb> oh, that is weird. not sure how to fix it
[18:33:34] <mythmon> would circular borrowed pointers be a problem?
[18:33:51] <Blei> paste plz :3
[18:34:20] <mythmon> yeah... let me just paste the full example. I was trying to make a small self contained example, earlier, but it didn't have all my issues.
[18:36:33] <mythmon> https://gist.github.com/mythmon/7739008
[18:36:46] <mythmon> oh, wait. that isn't right.
[18:37:06] *** Joins: fabiand (fabiand@moz-C69053D9.static.qsc.de)
[18:37:22] *** Joins: arcterus (arcterus@moz-BA8B97A5.mycingular.net)
[18:37:56] <mythmon> ok, now it is right. I updated it.
[18:39:15] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[18:39:21] <Blei> it's `Bar<'self>`, without the &
[18:40:00] <Blei> oh, that seems to net pertain to the source code, please disregard :P
[18:41:00] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[18:41:08] <mythmon> I tried to remove the highlight field of Grid, and with it all the borrowed references from Grid to Piece, and that made it work. I'm beginning to think that circular reference is the problem.
[18:43:00] <Blei> yeah, circular references are a problem i think
[18:43:19] <mythmon> :c
[18:43:32] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[18:43:33] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[18:43:44] <Blei> so, Piece has a lifetime parameter
[18:43:46] *** vfetwnuncszu is now known as dcrewi
[18:43:52] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[18:44:13] <mythmon> ok
[18:44:22] <Blei> that means that it has to be defined when Piece is used, i.e. grid.rs:9 should be Option<Piece<'self>>
[18:44:24] <Blei> etc.
[18:44:43] <Blei> or some other lifetime, didn't read the code too closely
[18:45:34] <mythmon> would that be a pointer?
[18:46:24] <Blei> no, it's a lifetime variable :)
[18:46:35] *** Quits: arcterus (arcterus@moz-BA8B97A5.mycingular.net) (Client exited)
[18:46:37] *** Joins: arcterus (arcterus@moz-BA8B97A5.mycingular.net)
[18:46:43] *** Quits: arcterus (arcterus@moz-BA8B97A5.mycingular.net) (Client exited)
[18:46:43] <Blei> kind of like a template variable, except that it stands for a lifetime instead of a type
[18:47:20] <mythmon> er, right. I mean would the struct contain a pointer to a grid instance? or a grid instance as a value?
[18:47:39] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Client exited)
[18:48:01] *** Quits: twb (textual@moz-5DE8950B.hsd1.ga.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:48:09] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[18:48:53] <Blei> which struct, Piece? at the moment it holds a pointer
[18:49:05] <Blei> (sorry, i'm not quite sure what you're asking :S)
[18:49:08] <mythmon> sorry, I'm just not groking this lifetimes thing.
[18:49:48] *** Joins: arcterus (arcterus@moz-BA8B97A5.mycingular.net)
[18:50:00] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[18:50:00] *** ChanServ sets mode: +o pnkfelix
[18:50:21] <Blei> yeah, it is really confusing when first learning about it
[18:51:48] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[18:52:43] <mythmon> oh.
[18:53:09] <mythmon> I needed struct Piece { grid: &'self Grid<'self> }
[18:53:16] *** Quits: arcterus (arcterus@moz-BA8B97A5.mycingular.net) (Client exited)
[18:53:35] <mythmon> I think that I had to paramaterize Grid and also state the lifetime of the pointer. is that right?
[18:54:18] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[18:54:25] <Blei> yes, lifetimes in structs can't be anonymous (i.e. you need to name each one)
[18:54:48] <Blei> actually that should probably be `struct Piece<'self> { ..`
[18:55:07] *** Joins: Florob (Florob@moz-39532932.de)
[18:55:41] <mythmon> mm. yeah. That's actually what I had.
[18:57:20] *** Joins: aph (ash@15DEC023.DFC68827.9C33A531.IP)
[18:58:04] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[19:01:17] *** Joins: heftig_ (heftig@moz-64703EED.dip0.t-ipconnect.de)
[19:01:57] *** Quits: heftig (heftig@moz-9BAF7343.dip0.t-ipconnect.de) (Ping timeout)
[19:02:21] *** Joins: arcterus (arcterus@moz-BA8B97A5.mycingular.net)
[19:03:12] *** Joins: Jesin (Jesin@moz-27916D21.washdc.fios.verizon.net)
[19:07:18] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[19:07:19] *** Quits: arcterus (arcterus@moz-BA8B97A5.mycingular.net) (Connection reset by peer)
[19:08:04] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[19:09:57] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[19:10:14] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[19:10:14] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[19:12:03] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[19:12:50] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[19:12:55] *** vfetwnuncszu is now known as dcrewi
[19:14:53] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[19:17:31] *** Joins: twb (textual@moz-5DE8950B.hsd1.ga.comcast.net)
[19:20:14] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[19:20:14] *** ChanServ sets mode: +o pnkfelix
[19:22:08] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[19:24:31] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[19:24:53] <aph> is rusti gone forever?
[19:25:04] *** Joins: arcterus (arcterus@moz-BA8B97A5.mycingular.net)
[19:25:11] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[19:25:24] *** vfetwnuncszu is now known as dcrewi
[19:25:58] *** Quits: jstevans (Instantbir@moz-8DBF3BC4.washdc.fios.verizon.net) (Ping timeout)
[19:26:12] <eddyb> aph: only until someone resurrects it
[19:28:06] <aph> is there an Official Plan to do so?
[19:28:10] *** Quits: arcterus (arcterus@moz-BA8B97A5.mycingular.net) (Client exited)
[19:28:17] *** Quits: zslayton (Mibbit@moz-4806B979.nyc.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[19:28:19] <eddyb> not that I know of
[19:28:53] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[19:30:15] <mythmon> i notice that 'in' is a keyword, but I don't see any example of it's use. Is it one of those "for later" keywords, or did I miss something?
[19:30:37] *** Joins: arcterus (arcterus@moz-BA8B97A5.mycingular.net)
[19:30:39] <eddyb> for x in y {...}
[19:30:48] <mythmon> oh. duh.
[19:31:17] <mythmon> I was hoping it would be something like Python's  if 'a' in 'asdf':
[19:32:00] <eddyb> it should be a contextual keyword IMO, so it can still be used for function names and whatnot
[19:32:23] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[19:32:28] <mythmon> i learned it was a keyword by observing that the copmiler stopped me from using it as a function name :3
[19:33:25] <strcat> aph: it never worked
[19:33:31] <strcat> it was always a broken half-measure
[19:33:36] <strcat> and those don't belong in the official repo
[19:33:47] <strcat> if someone wants to write a real REPL that actually works they can ;p
[19:33:56] <strcat> (and it'd be welcomed upstream)
[19:33:59] *** Quits: kphelps (kphelps@moz-8F37EAB2.ri.ri.cox.net) (Ping timeout)
[19:34:05] <aph> strcat: fair enough
[19:35:17] <strcat> FWIW, it's really, really hard to write a proper REPL for a language designed to be type-checked/compiled ahead-of-time and the project doing it for C++ (cling) has had a long time to work on it with a production quality compiler library (libclang)
[19:35:37] <strcat> and unlike librustc, libclang was designed from the start to support that kind of tooling
[19:36:02] *** Quits: mark_edward (quassel@moz-97E995A.hsd1.in.comcast.net) (Ping timeout)
[19:36:23] <aph> mmm, ok. same story for `rust run`?
[19:37:12] <SiegeLord> rust run is a couple of orders of magnitude easier to re-create
[19:37:15] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[19:37:52] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[19:39:29] <doomlord_> does safety and simpler grammar help theoretically with a repl
[19:40:42] *** Joins: jordyd (jordyd@moz-50522E53.seg34.ucf.edu)
[19:42:17] <aph> SiegeLord: yeah i bet, just wondering why it was removed & whether it is coming back
[19:42:32] <SiegeLord> It was removed along with the rust tool
[19:42:42] <SiegeLord> It's coming back as soon as somebody implements it again
[19:44:08] <aph> ok
[19:45:19] <strcat> can be added back as rustc --run whenever someone wants
[19:45:26] *** Quits: fabiand (fabiand@moz-C69053D9.static.qsc.de) (Quit: Verlassend)
[19:45:34] <strcat> maintaining two frontends to the same functionality is a bit silly though, imo
[19:45:51] <strcat> need to pick one, atm that's rustc/rustpkg/rustdoc
[19:46:04] *** Quits: arcterus (arcterus@moz-BA8B97A5.mycingular.net) (Client exited)
[19:46:16] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[19:46:17] <eddyb> http://guesshub.io/
[19:46:28] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[19:47:01] <SiegeLord> Where could I find the newest list of Rust keywords?
[19:47:11] <SiegeLord> Would the vim syntax file be a good spot?
[19:47:38] <mythmon> SiegeLord: I'd guess this: http://static.rust-lang.org/doc/master/rust.html#keywords
[19:47:56] *** Joins: arcterus (arcterus@moz-BA8B97A5.mycingular.net)
[19:47:59] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[19:48:05] <eddyb> SiegeLord: there's a list in the tokenizer, I think :P
[19:48:21] <SiegeLord> mythmon: No, that's outdated
[19:48:30] <mythmon> SiegeLord: oh.
[19:48:33] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[19:48:46] <mythmon> I think you just get to read the tokenizer then.
[19:48:55] <SiegeLord> I guess I could go for the tokenizer, except it has fake keywords there too...
[19:49:39] <mythmon> "fake" ?
[19:49:42] *** Quits: jordyd (jordyd@moz-50522E53.seg34.ucf.edu) (Input/output error)
[19:50:09] <eddyb> SiegeLord: there's a new line between fake an real
[19:50:48] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[19:50:48] *** ChanServ sets mode: +o pnkfelix
[19:50:51] <eddyb> SiegeLord: and two static values for the start and the end of the real keywords
[19:51:02] *** Quits: kzzch (Mibbit@moz-991A24E8.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[19:51:58] <celeron55> is there a way to make rustc not output these "missing crate link meta `name`" warnings?
[19:52:05] <eddyb> right now I'm having a hard time redesigning typeck::astconv::ast_ty_to_ty to return multiple types or something like that
[19:52:18] <eddyb> I should probably look at fold_map
[19:52:33] <celeron55> i really want as-lightweight-as-possible crates and it involves not putting the metadata in the .rs files
[19:52:33] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Quit: Leaving)
[19:52:39] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[19:52:46] <SiegeLord> eddyb: Ok
[19:52:52] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Client exited)
[19:53:00] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[19:53:03] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Client exited)
[19:53:03] *** Quits: FreeFull (freefull@84554989.2217FB91.733134BA.IP) (Quit: )
[19:53:09] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[19:54:01] <celeron55> i guess i could auto-generate crate files for them but seems like unnecessary stuff when it's really just a matter of disabling a few warnings
[19:54:04] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[19:54:41] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Client exited)
[19:56:07] *** Joins: Skif (emschwar@moz-4C5BB5A8.beyondbb.com)
[19:56:45] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[19:57:38] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[19:57:51] *** Quits: Skif (emschwar@moz-4C5BB5A8.beyondbb.com) (Ping timeout)
[19:58:16] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Ping timeout)
[19:58:35] *** Quits: Ms2ger (Ms2ger@C91975CB.3387515C.187A1082.IP) (Quit: nn)
[19:59:02] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[19:59:31] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Client exited)
[19:59:40] *** Joins: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net)
[20:01:20] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Quit: moving)
[20:02:46] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[20:02:58] *** vfetwnuncszu is now known as dcrewi
[20:07:57] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[20:09:10] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[20:09:19] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Client exited)
[20:12:22] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[20:13:34] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[20:14:51] *** Quits: refold (gman@moz-42D68426.a258.priv.bahnhof.se) (Quit: leaving)
[20:16:05] *** Quits: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com) (Ping timeout)
[20:17:51] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[20:19:34] *** Joins: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com)
[20:19:35] <eddyb> haha, the occasional: http://www.reddit.com/r/rust/comments/1ruvpt/selling_rust_key/
[20:19:57] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[20:20:29] <strcat> wat???
[20:21:07] <eddyb> strcat: you didn't know there was a game with this name?
[20:21:13] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[20:21:13] *** ChanServ sets mode: +o pnkfelix
[20:21:29] <strcat> oh
[20:21:31] <eddyb> strcat: and sometimes people post to the wrong subreddit
[20:21:35] <strcat> well in that context...
[20:23:02] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[20:27:03] *** Quits: twb (textual@moz-5DE8950B.hsd1.ga.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:28:11] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[20:29:57] *** Joins: jensnockert (jensnocker@moz-ED0B32E7.wireless.lu.se)
[20:32:38] *** Quits: arcterus (arcterus@moz-BA8B97A5.mycingular.net) (Client exited)
[20:33:02] *** Joins: arcterus (arcterus@moz-BA8B97A5.mycingular.net)
[20:34:25] *** Quits: arcterus (arcterus@moz-BA8B97A5.mycingular.net) (Quit: Palaver http://palaverapp.com/)
[20:38:16] *** Quits: mye (mye@moz-BC8CA0A3.dip0.t-ipconnect.de) (Quit: mye)
[20:50:31] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[20:51:50] *** Quits: oberstet (quassel@moz-286D4B46.dynamic.mnet-online.de) (Client exited)
[20:54:06] <mythmon> does anyone use rustc as part of a "watch" command? like "whenever a file changes, recompile it." ?
[20:56:52] <spider-mario> kind of
[20:57:03] <spider-mario> I use tup in monitor mode with a Tupfile
[20:57:45] *** Joins: mye (mye@moz-BC8CA0A3.dip0.t-ipconnect.de)
[20:57:46] *** Quits: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net) (Quit: Sharp)
[20:58:06] <spider-mario> hm, I get an unknown attribute warning for #[config(test)], what’s the replacement?
[20:58:18] <o11c> isn't it cfg ?
[20:59:13] <spider-mario> it appears so, thanks :)
[21:00:38] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[21:01:10] *** Joins: johanh (uid17185@moz-A42E5B7B.irccloud.com)
[21:03:43] *** Quits: jensnockert (jensnocker@moz-ED0B32E7.wireless.lu.se) (Connection reset by peer)
[21:04:02] *** Joins: jensnockert (jensnocker@moz-ED0B32E7.wireless.lu.se)
[21:05:47] *** Joins: jensnock_ (jensnocker@moz-ED0B32E7.wireless.lu.se)
[21:05:47] *** Quits: jensnockert (jensnocker@moz-ED0B32E7.wireless.lu.se) (Connection reset by peer)
[21:06:51] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[21:09:58] *** Quits: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[21:13:46] *** Joins: isaacd (me@moz-6902374D.dhcp.oxfr.ma.charter.com)
[21:14:14] *** Quits: Krymise (Nietzsche@1C166AC3.81BFCEFF.52A100C7.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:15:41] *** Joins: Krymise (Nietzsche@1C166AC3.81BFCEFF.52A100C7.IP)
[21:15:42] *** Quits: peterdn (chatzilla@moz-E4A450C.as13285.net) (Connection reset by peer)
[21:15:58] *** Joins: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net)
[21:16:39] <SiegeLord> *** Aborting install because more than one library matching libstd-*.rlib is present in build tree x86_64-unknown-linux-gnu/stage2/lib: .  Stop.
[21:16:44] <SiegeLord> Any clue how to fix that?
[21:17:19] <SiegeLord> I nuked the entire x86_64... directory and rebuilt from scratch...
[21:17:21] *** Joins: brendan (brendaneic@moz-D5E1B4C6.w193-248.abo.wanadoo.fr)
[21:18:01] *** Joins: markr (Mibbit@moz-812F74B9.lightspeed.rlghnc.sbcglobal.net)
[21:18:23] <acrichto> SiegeLord: #10753 should fix that
[21:18:34] <acrichto> (you can just patch the makefiles locally)
[21:19:06] <SiegeLord> Ok, thanks
[21:20:58] *** Quits: mye (mye@moz-BC8CA0A3.dip0.t-ipconnect.de) (Quit: mye)
[21:23:29] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[21:24:00] *** Quits: dbaupp (Thunderbir@moz-3BE4086E.lns20.syd6.internode.on.net) (Ping timeout)
[21:24:20] *** Quits: brendan (brendaneic@moz-D5E1B4C6.w193-248.abo.wanadoo.fr) (Quit: brendan)
[21:24:23] <mythmon> spider-mario: the tup docs are amusing.
[21:26:02] *** Joins: lfox (lfox@moz-8631D08.nycmny.east.verizon.net)
[21:26:06] *** Joins: mye (mye@moz-BC8CA0A3.dip0.t-ipconnect.de)
[21:27:58] *** Joins: brendan (brendaneic@moz-D5E1B4C6.w193-248.abo.wanadoo.fr)
[21:30:05] *** Quits: k4nar (quassel@moz-F5EFF779.kimsufi.com) (Ping timeout)
[21:30:18] *** Joins: k4nar (quassel@moz-F5EFF779.kimsufi.com)
[21:31:27] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[21:31:29] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[21:31:45] *** vfetwnuncszu is now known as dcrewi
[21:34:57] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Client exited)
[21:40:20] *** Joins: twb (textual@moz-5DE8950B.hsd1.ga.comcast.net)
[21:41:17] *** Joins: jstevans (Instantbir@moz-8DBF3BC4.washdc.fios.verizon.net)
[21:42:08] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:43:44] *** Quits: jensnock_ (jensnocker@moz-ED0B32E7.wireless.lu.se) (Input/output error)
[21:44:48] *** Joins: Skif (emschwar@moz-4C5BB5A8.beyondbb.com)
[21:46:30] *** Quits: Skif (emschwar@moz-4C5BB5A8.beyondbb.com) (Ping timeout)
[21:46:59] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[21:49:00] *** Quits: Blei (philipp@moz-B2F9E4BD.cust.bluewin.ch) (Quit: gnight)
[21:49:16] *** Joins: ofeldt- (ofeldt@moz-BFEABB47.dip0.t-ipconnect.de)
[21:49:27] *** Joins: jensnockert (jensnocker@moz-ED0B32E7.wireless.lu.se)
[21:49:59] *** Quits: ofeldt (ofeldt@moz-14998314.dip0.t-ipconnect.de) (Ping timeout)
[21:52:18] *** Quits: jstevans (Instantbir@moz-8DBF3BC4.washdc.fios.verizon.net) (Ping timeout)
[21:52:43] *** Joins: jstevans (Instantbir@moz-8DBF3BC4.washdc.fios.verizon.net)
[21:52:48] <diverse> I'm looking at the tutorial and I'm having a hard time understanding the purpose of named lifetimes? Can someone go into more detail?
[21:53:38] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Input/output error)
[21:54:28] *** Quits: jstevans (Instantbir@moz-8DBF3BC4.washdc.fios.verizon.net) (Ping timeout)
[21:55:37] <strcat> diverse: lifetime inference is local to a function
[21:55:52] <strcat> lets say you take a slice and want to return a reference to an element, it's not going to work without named lifetimes
[21:56:03] <strcat> it's part of the function/type signature
[21:58:54] <diverse> to take a slice as a parameter in a function?
[22:00:03] *** Quits: isaacd (me@moz-6902374D.dhcp.oxfr.ma.charter.com) (Ping timeout)
[22:00:27] *** Joins: joeatwork (joe@moz-F0C51B49.hsd1.ca.comcast.net)
[22:00:34] *** Joins: isaacd (me@moz-6902374D.dhcp.oxfr.ma.charter.com)
[22:01:13] *** Quits: Jackneill (Jackneill@moz-1C485D1A.pool.digikabel.hu) (Input/output error)
[22:02:32] <diverse> strcat: why is it that I can't return a reference to an element without named lifetimes?
[22:03:46] *** Quits: jensnockert (jensnocker@moz-ED0B32E7.wireless.lu.se) (Input/output error)
[22:04:07] <Eridius> hmm, people on the ML seem to rather like `box`
[22:04:26] <diverse> Eridius: because it's awesome in many ways
[22:04:49] <Eridius> I still like ~ :(
[22:05:00] <Eridius> and I was liking ~>(place) val ;)
[22:05:49] <strcat> diverse: what is the lifetime of the returned reference?
[22:06:00] <strcat> all you have is the function signature from some library
[22:06:10] <strcat> how long does it live for?
[22:06:16] <isaacd> does box make sense as the placement-new keyword? (I don't understand Rust placement new well enough yet to be able to guess myself)
[22:06:49] <Eridius> it works a hell of a lot better than `new`
[22:07:01] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[22:07:02] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[22:07:12] *** Joins: scythe (scythe@moz-9D6E72BE.lugatgt.org)
[22:07:12] *** vfetwnuncszu is now known as dcrewi
[22:07:24] *** Quits: joeatwork (joe@moz-F0C51B49.hsd1.ca.comcast.net) (Ping timeout)
[22:10:13] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[22:11:17] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:13:19] *** Joins: jstevans (Instantbir@moz-8DBF3BC4.washdc.fios.verizon.net)
[22:14:00] *** Quits: sp3d (s@moz-41A29595.dhcp.stls.mo.charter.com) (Ping timeout)
[22:14:49] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[22:16:56] *** Quits: Ferreus (ferreus@moz-442D2020.pools.arcor-ip.net) (Quit: WeeChat 0.4.2)
[22:16:59] <diverse> strcat: I see now, thanks :)
[22:17:52] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[22:18:04] <diverse> the lifetime of the returned reference without a named lifetime only exists inside the scope of the function
[22:18:35] *** Joins: ssai (Mibbit@moz-64419D61.static.mtpk.ca.charter.com)
[22:18:48] <ssai> Am able to execute this code:  var contextMenu = require("context-menu");  script="self.on('click', function () {" + "var text = window.getSelection().toString();"+ "self.postMessage(text);"+ "});"  contextMenu.Item({ label: "Encrypt", context: contextMenu.SelectionContext(), contentScript: script, onMessage: function(data1){ console.log(data1); } });  Facing
[22:19:23] *** Quits: sebcrozet (sebcrozet@moz-2517AE39.w80-13.abo.wanadoo.fr) (Quit: Gone)
[22:19:34] <ssai> main.js: var contextMenu = require("context-menu");  var item = contextMenu.Item({ label: "Encrypt", context: contextMenu.SelectionContext(), contentScriptFile: require("self").data.url("my-content-script.js") onMessage: function(data1){ console.log(data1); } });  my-content-script.js: self.on('click', function () {" + "var text = window.getSelection().toStri
[22:19:58] <Eridius> ssai: is there some reason you're pasting javascript here?
[22:20:18] <diverse> plus put it in a pastebin, so others can read it easier
[22:20:51] <diverse> (others that know javascript here, that is)
[22:21:01] *** Joins: aatch (James@moz-B437F499.pocketrent.com)
[22:21:51] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[22:22:24] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[22:22:55] *** Joins: peterdn (chatzilla@moz-14D19651.as13285.net)
[22:28:35] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[22:29:07] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[22:32:10] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (No route to host)
[22:32:15] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[22:34:46] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[22:34:54] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[22:36:49] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[22:37:08] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Client exited)
[22:37:29] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[22:39:16] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Ping timeout)
[22:40:18] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[22:42:39] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[22:42:46] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[22:42:59] *** vfetwnuncszu is now known as dcrewi
[22:43:05] <diverse> isaacd: box makes sense, because in Rust terminology a `box` is "an allocated chuck of memory" as mentioned the Rusticon glossary. It is much better than using new, because `new` in other languages means you are constructing an object, not placing. That's why the move to ::init() makes little sense as a method constructor because it is not an initializer.
[22:43:47] *** Joins: z0w0 (zack@moz-6264033D.qcl9.cha.bigpond.net.au)
[22:44:08] *** Joins: zmthy (tim@moz-C2881CC3.ecs.vuw.ac.nz)
[22:44:10] <diverse> isaacd: Also using `box` is more specific to how you box your values. There is many ways to box a value: you have `box 5` which I will assume it stores `5` in an owned box by default, `box(Rc) 5` stores 5 in an reference counting box, `box(Gc) 5` stores 5 in a "managed" or garbaged collected box. In case if you create your own custom smart pointer in a third-party library, `box` gives you the
[22:44:12] <diverse> ability to create custom boxes.
[22:45:01] *** Joins: FreeFull (freefull@moz-76C0CBA3.as13285.net)
[22:45:16] <aatch> diverse, actually... that's not quite true. You can call the constructor in C++ without using `new`. `MyClass a(5)`, will call the constructor for MyClass after allocating on the stack.
[22:46:29] <aatch> it's just that every other language doesn't expose a difference between automatic and heap values.
[22:46:56] *** Quits: twb (textual@moz-5DE8950B.hsd1.ga.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:48:46] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[22:48:55] <diverse> Well since Rust doesn't have builtin constructors, and `new` is used for constructing objects, not placing (in the heap) like in many popular languages besides C++, it goes without saying.
[22:48:55] *** Quits: Ralith (ralith@114DA04D.CD83ED0A.BCDF04A6.IP) (Ping timeout)
[22:49:01] <strcat> C++ also has placement new, which calls a ctor on an existing bit of memory anywhere
[22:49:09] *** Joins: twb (textual@moz-5DE8950B.hsd1.ga.comcast.net)
[22:49:53] <SiegeLord> Actually, unless I misunderstood, Ada has stack and heap allocated types but no constructors... it uses 'new' for the heap variant
[22:50:17] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[22:50:47] <aatch> SiegeLord, by "every other language" I mean "every other language I know", since I can't make statements about languages I don't know...
[22:51:00] <SiegeLord> Right
[22:51:18] <diverse> Well, I was mostly thinking in the Java/C#/D area, Ada is common too, so I don't know.
[22:52:22] <aatch> diverse, it's just important to keep in mind that almost every other language has a garbage collector as a key part of it's implementation.
[22:52:25] *** Joins: jvns (bork@87D98E32.4046EB22.428F94DD.IP)
[22:52:43] <aatch> Which makes a major impact on it's semantics and choices.
[22:53:42] <aatch> I don't care about syntax/keywords so much btw, just making sure that the specifics of Rust are considered when drawing from other languages.
[22:54:43] <aatch> It's also why we draw so heavily from C++ to start with, it's pretty much the only similar industry language.
[22:54:47] <diverse> aatch: I'm not talking about garbage collection, I'm just pointing out the familiarity of the keyword "new" in other languages and why it would make sense over `::init()` but in this case, maybe not, but leaving it as ::init() is not all that good.
[22:55:12] <SiegeLord> Ada is the only language of those I looked into that was in a similar position as Rust... I was a bit surprised to find that they used 'new' for heap
[22:55:31] <benh> Ruby has ClassName::new(), kinda, I like it :)
[22:55:48] <SiegeLord> I, for one, think box T::new() is a nice, short compromise
[22:56:15] <diverse> SiegeLord: I think so too
[22:56:38] <aatch> At any rate, single most important part of this change is the support for in-place construction.
[22:56:43] *** Quits: lfox (lfox@moz-8631D08.nycmny.east.verizon.net) (Quit: ZZZzzz…)
[22:56:51] <jvns> Is there a guide to writing function types? it seems like *fn() is a type, but &fn() and ~fn() aren't
[22:57:13] <cmr> jvns: http://smallcultfollowing.com/babysteps/blog/2013/10/10/fn-types-in-rust/ has all of the function types.
[22:57:31] <SiegeLord> I don't think anybody is against the idea itself, placement new is a great thing to have
[22:57:33] *** Joins: lfox (lfox@moz-8631D08.nycmny.east.verizon.net)
[22:57:41] <cmr> Note that *fn, &fn, and ~fn don't really make sense since `fn()` is already a function pointer.
[22:59:30] <jvns> oh
[22:59:52] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[22:59:59] <jvns> but I can put *fn() as an argument to a function
[23:00:30] <jvns> cmr: "idt_set_gate(num: u8, f: *fn(), sel: u16, flags: u8)" compiles
[23:00:35] *** Quits: twb (textual@moz-5DE8950B.hsd1.ga.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:00:39] <cmr> sure
[23:00:57] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[23:00:58] <isaacd> What does/will Rc implement in order for `box(Rc) expr` to work?
[23:00:58] <kimundi> jvns: Well, for any T is ~T a type, that is also true if T == fn()
[23:01:05] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[23:01:07] *** vfetwnuncszu is now known as dcrewi
[23:01:10] <cmr> isaacd: unknown
[23:01:12] <kimundi> err, *T, but whatever
[23:01:19] <isaacd> cmr: okay :)
[23:01:32] <jvns> hmm
[23:01:48] <cmr> I think &fn and ~fn are currently disallowed because it was the old closure syntax
[23:01:52] <jvns> but it's not true that for any T ~T and &T are types?
[23:01:57] <kimundi> jvns: The only reasons &fn and ~fn are rejected becuase they used to mean something special like ~str or &[T]
[23:02:00] <sfackler> jvns: depending on what f is used for, you may want 'extern "C" fn()'
[23:02:02] <jvns> or it's true for any T except function types?
[23:02:04] <cmr> jvns: yes it is.
[23:02:21] <aatch> The exact implementation for allocators/smart pointers is up in the air right now.
[23:02:23] <jvns> maybe I want extern "asm" fn()
[23:02:27] <jvns> is that a thing?
[23:02:31] <cmr> no
[23:02:39] <aatch> jvns, no. Because it wouldn't make sense.
[23:02:47] <jvns> why wouldn't it make sense?
[23:02:49] <cmr> the thing in quotes is a calling convention.
[23:02:53] <jvns> oh I see =)
[23:02:53] <aatch> there is no "asm" calling convention.
[23:02:53] <sfackler> the part in quotes specifies the calling convention
[23:02:54] <cmr> What calling convention is that?
[23:03:10] <kimundi> jvns: In theory, once all legacy code is shaken out, ~fn(), *fn() and &fn() should all work, but would all be unneccessary as fn() already is a pointer
[23:05:07] *** Joins: mikezaby (mikezaby@moz-DB7343A2.home.otenet.gr)
[23:05:09] *** Parts: mikezaby (mikezaby@moz-DB7343A2.home.otenet.gr) ()
[23:05:21] <jvns> thanks!
[23:05:22] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[23:06:09] <jvns> so if I don't care how the function gets called because I only want its address, it doesn't matter which calling convention I specify
[23:06:25] <cmr> No, it's just that the default is `extern "Rust" fn`
[23:06:43] <jvns> I mean
[23:06:59] <jvns> if I'm never going to call the function, does it matter if its type is 'extern "Rust" fn' or 'extern "C" fn'?
[23:07:11] <sfackler> no, but then why does the function exist?
[23:07:28] <jvns> I'm just putting the function's address somewhere so that something else can call it
[23:07:31] <jvns> (not Rust code)
[23:07:44] <cmr> No, the ABI shouldn't matter.
[23:07:44] <Eridius> jvns: that something else cares about the calling conventions
[23:07:46] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[23:07:55] <sfackler> if something else is calling it, the function type should specify that calling convention
[23:07:56] *** Quits: aatch (James@moz-B437F499.pocketrent.com) (Client exited)
[23:07:57] <Eridius> and if the something else isn't Rust code, then you probably want `extern "C"`
[23:08:07] <Eridius> (because that something else is likely going to assume C calling conventions)
[23:08:07] *** Joins: aatch (James@moz-B437F499.pocketrent.com)
[23:08:08] <sfackler> if for documentation if nothing else
[23:08:12] <ssai> http://mibpaste.com/EHO21a 
[23:08:19] <cmr> from the earlier IDT example, I think jvns is writing a kernel
[23:08:24] <jvns> oh, yeah :)
[23:08:31] <jvns> this is part of the IDT
[23:08:32] <ssai> friends once have a look at the code please
[23:08:34] <Eridius> ssai: this is a channel for Rust. That's JavaScript. I think you're in the wrong place
[23:08:49] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[23:09:12] <ssai> can u say the channel name for js
[23:09:14] <ssai> please
[23:09:28] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Ping timeout)
[23:10:02] <sfackler> the calling convention won't actually matter in that case
[23:10:39] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[23:12:43] <jvns> cool. I'll use `extern "C"` for documentation then
[23:13:35] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[23:15:09] *** Joins: twb (textual@moz-5DE8950B.hsd1.ga.comcast.net)
[23:15:17] <ChrisMorgan> ssai: no, you'll need to find it elsewhere. There's probably one on Freenode.
[23:15:47] *** Quits: ssai (Mibbit@moz-64419D61.static.mtpk.ca.charter.com) (Quit: http://www.mibbit.com ajax IRC Client)
[23:16:28] *** flaper87 is now known as flaper87|afk
[23:16:41] *** Joins: dbaupp (Thunderbir@348FADA7.D5A1DCF.37681C44.IP)
[23:20:53] *** Quits: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net) (Client exited)
[23:21:14] *** Quits: Krymise (Nietzsche@1C166AC3.81BFCEFF.52A100C7.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:21:45] *** Quits: markr (Mibbit@moz-812F74B9.lightspeed.rlghnc.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[23:22:13] *** Joins: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net)
[23:22:17] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[23:22:43] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[23:23:59] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[23:24:36] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[23:26:23] *** Quits: twb (textual@moz-5DE8950B.hsd1.ga.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:27:11] *** Joins: mark_edward (mark@moz-DCB0B750.lightspeed.cicril.sbcglobal.net)
[23:28:51] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[23:31:38] <jensnockert> I just built Rust from a brand new repo, and I get "/Users/Jens/Code/Git/rust2/mk/install.mk:144: *** Aborting install because more than one library matching libstd-*.rlib is present in build tree x86_64-apple-darwin/stage2/lib: .  Stop."
[23:32:04] <jensnockert> But there's only libstd-6425b930ca146ae9-0.9-pre.dylib and libstd.dylib
[23:32:25] <jensnockert> Anyone has any idea what is wrong?
[23:32:36] <dbaupp> jensnockert: https://github.com/mozilla/rust/pull/10753 fixes it
[23:33:02] <Eridius> jensnockert: the actual error is there's zero libraries matching that
[23:33:18] <jensnockert> dbaupp: <3
[23:33:19] <dbaupp> (it broke due to acrichto's fancy new static linking stuff.)
[23:33:32] *** Joins: Skif (emschwar@moz-4C5BB5A8.beyondbb.com)
[23:33:45] <jvns> hmm so I know I can't export global variables for use by my assembly, but I thought I could export functions. Did I make that up?
[23:33:46] <Eridius> oddly, while I was having the problem yesterday, https://github.com/mozilla/rust/pull/10746 seemed to fix it for me
[23:33:54] *** Quits: peterdn (chatzilla@moz-14D19651.as13285.net) (Ping timeout)
[23:35:22] *** Quits: Skif (emschwar@moz-4C5BB5A8.beyondbb.com) (Ping timeout)
[23:35:59] *** Joins: jstevans1 (Instantbir@moz-8DBF3BC4.washdc.fios.verizon.net)
[23:37:02] <jvns> strcat: are you around?
[23:39:00] <cmr> jvns: if you're compiling a binary, nothing is exported except the entry point.
[23:39:12] * jvns can't figure out if it's possible to call rust functions other than 'main' from other code
[23:39:26] <jvns> oh
[23:39:30] <cmr> and by binary I mean executable, non-library
[23:39:38] <jvns> I think I'm compiling a library
[23:39:46] <jvns> I'm compiling it with --lib
[23:39:47] <cmr> Are you passing --lib to rustc?
[23:39:55] <jvns> yeah
[23:39:59] <cmr> Ok, then all pub functions are exported.
[23:40:24] <jvns> hmm so I'd expect to see them when I run objdump -t main.o
[23:40:26] <cmr> well, it's a bit more nuanced than that.
[23:40:29] *** Quits: aatch (James@moz-B437F499.pocketrent.com) (Client exited)
[23:40:35] <cmr> it has to be a reachable/visible path
[23:40:37] <dbaupp> cmr: (pub extern fn's are exported from a binary, fwiw.)
[23:40:54] <jvns> what is a reachable/visible path?
[23:41:12] <cmr> dbaupp: so `#[no_mangle] pub extern "C" fn foo() { ... }` would be exported?
[23:41:32] <cmr> jvns: http://static.rust-lang.org/doc/master/rust.html#visibility-and-privacy
[23:41:37] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[23:41:37] <cmr> (this part of the manual is up to date)
[23:42:24] <jvns> so if I have "#[no_mangle] pub unsafe fn _interrupt_handler_kbd()", I feel like it should be exported
[23:42:39] <jvns> and I should see it in the symbol table?
[23:42:51] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[23:43:11] <dbaupp> cmr: it would be exported as 'foo', yes; but it would also be exported without the #[no_mangle] with a peculiar name.
[23:43:17] <cmr> well sure
[23:43:21] <dbaupp> jvns: in a library, yes, in a binary, no.
[23:43:22] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[23:43:25] <cmr> jvns: I am observing that behavior
[23:43:43] <jvns> huh weird
[23:44:11] <jvns> I'm compiling as a library, but I'm not seeing the function in my symbol table
[23:44:20] <jvns> (and getting linker errors)
[23:45:19] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[23:45:40] <jvns> ah ha!
[23:45:58] <jvns> my function wasn't in my main file, it was in another file that the main file was including
[23:46:15] <jvns> when I put it in main.rs, then it works
[23:46:24] <cmr> are you using `pub mod foo;`?
[23:46:33] <dbaupp> it would also work if that file was included by `pub mod ...` rather than `mod ...`
[23:46:45] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[23:46:45] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[23:46:58] <jvns> oh amazing
[23:47:03] <dbaupp> and *should* work if you write `pub use foo::_interrupt_handler_kbd()`, although that may require a recent rustc.
[23:47:04] <jvns> pub mod foo fixes everything
[23:47:15] <jvns> <3
[23:47:38] <cmr> jvns: for an item to be considered public, its parent modules up to the crate root also need to be public, or it needs to be reexported.
[23:47:42] <cmr> (to summarize the manual)
[23:47:48] <jvns> that makes sense
[23:47:57] *** Quits: lfox (lfox@moz-8631D08.nycmny.east.verizon.net) (Quit: ZZZzzz…)
[23:48:53] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:48:55] <dbaupp> (i.e. there needs to be a chain to access it from the top level module where every `mod` or `use` in the chain has pub visibility attached to it.)
[23:49:13] <dbaupp> cmr: stop harvesting all the reddit *and* HN karma :P
[23:49:19] <cmr> dbaupp: :p
[23:49:29] <cmr> No one else submitted it!
[23:49:40] <cmr> brson said I should submit it to hn weekly
[23:49:44] * cmr didn't think HN would care
[23:49:55] <cmr> plus I wanted to steal some of go's 1.2 thunder
[23:49:58] <cmr> :P
[23:49:58] <dbaupp> haha
[23:50:01] <dbaupp> sneaky
[23:50:27] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[23:51:00] <dbaupp> (it may be good to have a standard intro section about Rust or link to rust-lang.org if they're going to be published outside the direct rust community?)
[23:51:26] <cmr> yeah that's probably a good idea!
[23:52:23] <mitsuhiko> hmm. Why is it Path::init now?
[23:52:36] <Eridius> mitsuhiko: because the expectation was that `new` was going to become a keyword
[23:52:37] <mitsuhiko> instead of something more descriptive like Path::create
[23:52:38] <cmr> mitsuhiko: new was going to be a (reserved) keyword
[23:53:01] <Eridius> but due to a recent ML thread I started, and suggestions by others, the keyword may (hopefully!) end up as `box` instead, which would let us restore the old `::new()` functions
[23:53:04] <mitsuhiko> cmr: fair enough, but init usually does something else, so that sounds really confusing
[23:53:18] <cmr> mitsuhiko: it is, and that's part of the kick-back against using `new` as the keyword.
[23:53:39] <mitsuhiko> <3
[23:53:40] <dbaupp> mitsuhiko: https://mail.mozilla.org/pipermail/rust-dev/2013-November/006997.html
[23:54:01] <dbaupp> (it's kinda long https://mail.mozilla.org/pipermail/rust-dev/2013-November/thread.html#6997 and continuing this month)
[23:54:05] <Seldaek> Eridius: box? is this really better?
[23:54:15] <Eridius> Seldaek: apparently so. I still prefer ~
[23:54:18] *** Quits: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net) (Quit: Sharp)
[23:54:26] <mitsuhiko> what was wrong with the original "in" proposal?
[23:54:27] *** Joins: halp39250 (Mibbit@27A93EB4.DF4637DA.62D74A69.IP)
[23:54:30] <Seldaek> I guess it's not a debate I want to dive into at 1am.. :)
[23:54:40] <mitsuhiko> anyways, did not want to warm that up
[23:54:45] <mitsuhiko> missed that discussion
[23:55:01] <dbaupp> Seldaek: that's exactly the best time to bikeshed things
[23:55:01] <mark_edward> i liked the proposal on the Mailing List that made ~ the allocation operator, instead of reserving `new` as a keyword
[23:55:10] <Seldaek> dbaupp: I'm supposed to work:p
[23:55:17] <SiegeLord> 'in' read backwards and 'in' alone was awkward
[23:55:35] <dbaupp> Seldaek: but there's bikeshedding to do!
[23:55:43] <Eridius> Seldaek: https://mail.mozilla.org/pipermail/rust-dev/2013-December/007084.html has a good summary
[23:55:55] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[23:55:58] <mark_edward> i kind of miss constructors in Rust
[23:56:13] <Seldaek> mitsuhiko: nice last blog post btw.. read it, definitely feel your pain. Curious to see which steps you'll manage to take to improve things though.
[23:56:13] <mark_edward> not sure convention is good enough to tell people which functions crrate an object
[23:56:24] <Seldaek> Eridius: cheers
[23:56:32] <mitsuhiko> Seldaek: i'm going to spend my christmas figuring that out :)
[23:56:33] <mark_edward> mitsuhiko, can i get a lnk to the blog post
[23:56:52] <mitsuhiko> mark_edward: http://lucumr.pocoo.org/2013/11/28/emotional-programming/
[23:57:14] <mitsuhiko> SiegeLord: i was hoping someone would reserve "out" for the longest time :D
[23:57:34] *** Joins: bleibig (bleibig@moz-B4D9C5AF.hsd1.ca.comcast.net)
[23:57:36] <halp39250> I'm trying to compile rustc and it fails saying it's unable to emit symbol attribute .private_extern ___morestack: http://lpaste.net/96456
[23:57:46] <halp39250> suggestions, please?
[23:57:47] <mark_edward> oh i read that, great post i liijke open source very much tooo
[23:57:48] <Seldaek> mitsuhiko: ok, I'll spend my christmas hopelessly trying to get back to a decent amount of inbox "zero", but I hope you'll write a follow-up 
[23:58:13] <mitsuhiko> Seldaek: i entirely gave up on inbox zero but it's getting worse ;(
[23:59:04] <jvns> hm I have a Color enum, but I can't figure out how to import it. "use stdio::Green" gets me Green, how do I get all the colours "use stdio::Color" doesn't work?
[23:59:05] <mitsuhiko> halp39250: no idea, but sounds like something "make clean" would solve
[23:59:25] <jvns> er sentence fail. you know.
[23:59:34] <Seldaek> mitsuhiko: I'm still pretending I do it, but it's more inbox 150 right now
[23:59:40] <Eridius> jvns: there's no construct to pull in all variants of an enum (sadly; I think there should be).
