[00:09:06] *** Joins: chills42 (chills42@moz-8h00jl.res.bhn.net)
[00:09:09] *** Quits: JanC (janc@moz-l6ub1e.dsl.scarlet.be) (Ping timeout: 121 seconds)
[00:19:13] *** Quits: iamstef (sid12605@moz-lkv1gm.ealing.irccloud.com) (Quit: )
[00:19:16] *** Joins: iamstef (sid12605@moz-4gn2ib.highgate.irccloud.com)
[00:23:03] *** Quits: shadower (shadower@moz-3ah4n5.osop.rhcloud.com) (Connection closed)
[00:23:08] *** Joins: shadower (shadower@moz-3ah4n5.osop.rhcloud.com)
[00:23:18] *** Joins: JanC (janc@moz-6pk4m0.dsl.scarlet.be)
[00:40:15] *** Quits: p32blo (p32blo@moz-q4be0s.public.wayport.net) (Ping timeout: 121 seconds)
[00:40:40] *** Quits: ytain (ytain@moz-u0rb5h.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[00:41:13] *** Joins: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP)
[00:41:18] *** Quits: swgillespie (swgillespie@moz-qb3.04d.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:43:56] *** Quits: brson (brson@moz-qjbkeh.mtv2.mozilla.com) (Quit: leaving)
[00:46:52] *** Quits: chills42 (chills42@moz-8h00jl.res.bhn.net) (Connection closed)
[00:50:41] *** Joins: chills42 (chills42@moz-8h00jl.res.bhn.net)
[00:55:08] *** Joins: p32blo (p32blo@moz-q4be0s.public.wayport.net)
[00:57:19] *** Quits: sysko (bst@moz-ct7.kqo.80.101.IP) (Ping timeout: 121 seconds)
[01:29:24] *** Quits: eckhardt (eckhardt@moz-33t0fq.hq.squareup.com) (Quit: Leaving...)
[01:43:03] *** Joins: sysko (bst@moz-g9d.6sp.95.211.IP)
[01:53:12] *** Joins: Shackra (Jorge@moz-7bh.ng6.177.186.IP)
[02:03:14] *** Quits: Andoriyu (Andoriyu@moz-uo1igi.biz.rr.com) (Ping timeout: 121 seconds)
[02:25:27] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[02:29:58] *** Joins: zyphrus (David@moz-ba5.pas.98.101.IP)
[02:33:58] *** Quits: chills42 (chills42@moz-8h00jl.res.bhn.net) (Connection closed)
[02:36:39] *** Joins: Andoriyu (Andoriyu@moz-a9o6ej.res.rr.com)
[02:41:53] *** Quits: fpauser (sid44549@moz-o9r6g4.ealing.irccloud.com) (Quit: )
[02:42:05] *** Joins: fpauser (sid44549@moz-k05e10.highgate.irccloud.com)
[02:57:37] *** Quits: nonsensickle (nonsensickl@moz-4v0.gkd.16.182.IP) (Connection closed)
[02:58:08] *** Joins: nonsensickle (nonsensickl@moz-4v0.gkd.16.182.IP)
[03:13:05] *** Joins: p1start (p1start@moz-nftjhe.org)
[03:16:41] *** Joins: Kingsquee (kingsquee@moz-k72lip.bchsia.telus.net)
[03:27:40] *** Quits: p32blo (p32blo@moz-q4be0s.public.wayport.net) (Ping timeout: 121 seconds)
[03:38:24] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[03:53:53] *** Joins: Quxxy (chatzilla@moz-efh10q.internode.on.net)
[03:59:19] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[04:03:15] *** Quits: jarrednicholls (uid19542@moz-eilsuu.tooting.irccloud.com) (Quit: Connection closed for inactivity)
[04:27:07] *** Quits: zyphrus (David@moz-ba5.pas.98.101.IP) (Ping timeout: 121 seconds)
[04:32:19] *** Joins: p32blo (p32blo@moz-q4be0s.public.wayport.net)
[04:36:22] *** Quits: p32blo (p32blo@moz-q4be0s.public.wayport.net) (Ping timeout: 121 seconds)
[04:42:13] *** Joins: Pierre_M (Pierre_M@moz-l5anv0.slkc.qwest.net)
[05:20:50] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[05:23:58] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[05:25:51] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[05:26:57] *** Quits: Shackra (Jorge@moz-7bh.ng6.177.186.IP) (Connection closed)
[05:42:02] *** Quits: O01eg (o01eg@moz-4l9ah8.dbum.qgre.2698.2a02.IP) (Client exited)
[05:58:21] *** Quits: santiago (santiago@moz-ro2mm9.res.rr.com) (Quit: Textual IRC Client: http://www.textualapp.com/)
[06:17:12] *** Joins: p1start (p1start@moz-nftjhe.org)
[06:31:14] *** Joins: santiago (santiago@moz-ro2mm9.res.rr.com)
[06:34:59] *** Quits: rdgawdzi (sid91768@moz-36ps68.ealing.irccloud.com) (Quit: )
[06:35:07] *** Joins: rdgawdzi (sid91768@moz-mt7qcd.highgate.irccloud.com)
[06:53:40] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[07:01:35] *** Joins: thalleralexander (thalleralex@moz-cfcrtj.static.qsc.de)
[07:03:27] *** Joins: zyphrus (David@moz-ba5.pas.98.101.IP)
[07:23:35] *** Quits: SimonSapin (simon@moz-ju2imn.exyr.org) (Quit: Bye)
[07:25:09] *** Joins: bjz (bjz@moz-0j4.2c9.87.203.IP)
[07:28:04] *** Joins: SimonSapin (simon@moz-ju2imn.exyr.org)
[07:45:53] *** Quits: bjz (bjz@moz-0j4.2c9.87.203.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[07:53:48] *** Joins: filsmick (filsmick@moz-92lhf0.abo.wanadoo.fr)
[07:54:53] *** Joins: doener (doener@moz-fnh.n4j.147.5.IP)
[07:56:49] *** Joins: p32blo (p32blo@moz-q4be0s.public.wayport.net)
[08:11:51] *** Quits: p32blo (p32blo@moz-q4be0s.public.wayport.net) (Ping timeout: 121 seconds)
[08:18:48] *** Quits: filsmick (filsmick@moz-92lhf0.abo.wanadoo.fr) (Connection closed)
[08:19:09] *** Joins: filsmick (filsmick@moz-92lhf0.abo.wanadoo.fr)
[08:19:14] *** Quits: filsmick (filsmick@moz-92lhf0.abo.wanadoo.fr) (Connection closed)
[08:19:15] *** Joins: filsmick (filsmick@moz-92lhf0.abo.wanadoo.fr)
[08:22:26] *** Joins: Quxxy_ (chatzilla@moz-efh10q.internode.on.net)
[08:24:26] *** Quits: Quxxy (chatzilla@moz-efh10q.internode.on.net) (Ping timeout: 121 seconds)
[08:24:32] *** Quxxy_ is now known as Quxxy
[08:27:18] *** Quits: Andoriyu (Andoriyu@moz-a9o6ej.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:46:08] *** Quits: sysko (bst@moz-g9d.6sp.95.211.IP) (Ping timeout: 121 seconds)
[08:51:51] *** Quits: JanC (janc@moz-6pk4m0.dsl.scarlet.be) (Ping timeout: 121 seconds)
[09:02:15] *** Joins: sysko (bst@moz-g9d.6sp.95.211.IP)
[09:05:53] *** Joins: JanC (janc@moz-frbl2c.dsl.scarlet.be)
[09:18:00] *** Quits: Guest8_ (textual@moz-of66u9.ca.comcast.net) (Ping timeout: 121 seconds)
[09:22:29] *** Quits: tdfischer (tdfischer@hackerbots.net) (Ping timeout: 121 seconds)
[09:22:37] *** Joins: tdfischer (tdfischer@moz-u3l0t0.net)
[09:22:38] *** Quits: tdfischer (tdfischer@moz-u3l0t0.net) (Changing host)
[09:22:38] *** Joins: tdfischer (tdfischer@hackerbots.net)
[09:32:20] *** Quits: Kingsquee (kingsquee@moz-k72lip.bchsia.telus.net) (Quit: Leaving)
[09:33:04] *** Joins: qrlpx (smuxi@moz-n7t.3nb.211.95.IP)
[09:46:09] *** Quits: thalleralexander (thalleralex@moz-cfcrtj.static.qsc.de) (Quit: Leaving)
[09:56:02] *** Joins: dov (anonymous@moz-4v9j72.red.bezeqint.net)
[10:00:01] *** Quits: dov (anonymous@moz-4v9j72.red.bezeqint.net) (Client exited)
[10:01:36] *** Joins: ogham (rally@moz-gd0.kp5.90.128.IP)
[10:33:51] *** Joins: vpol (vpol@moz-t8q.gvm.241.77.IP)
[10:39:49] *** Quits: sysko (bst@moz-g9d.6sp.95.211.IP) (Ping timeout: 121 seconds)
[10:46:31] *** Joins: zyphrus_ (David@moz-ba5.pas.98.101.IP)
[10:48:46] *** Quits: zyphrus (David@moz-ba5.pas.98.101.IP) (Ping timeout: 121 seconds)
[10:57:54] *** Joins: chills42 (chills42@moz-hh7e7a.hfc.comcastbusiness.net)
[11:01:56] *** Joins: ytain (ytain@moz-u0rb5h.dsl.teksavvy.com)
[11:02:42] *** Quits: filsmick (filsmick@moz-92lhf0.abo.wanadoo.fr) (Quit: )
[11:14:02] *** Joins: jarrednicholls (uid19542@moz-eilsuu.tooting.irccloud.com)
[11:28:25] *** Joins: iu (iu@moz-6263qv.cc.cmu.edu)
[11:28:57] *** Quits: ogham (rally@moz-gd0.kp5.90.128.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[11:42:06] <iu> Hi there! If a build script yields a `cargo:rustc-link-lib` without a `cargo:rustc-link-search`, will the compiler be able to find the needed library provided that the path to the library is specified by DYLD_LIBRARY_PATH?
[11:45:46] <iu> From what I can see, `cc` receives from Cargo an appropriate `-l`, and, of course, there is no `-L`. Even though the library is in DYLD_LIBRARY_PATH, `cc` somehow seems to be ignoring this environment variable and fails to link.
[11:45:54] *** Quits: ytain (ytain@moz-u0rb5h.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[11:46:41] <iu> There is a bunch of `-L`s related to Rust, and, if I copy the library to one of those directories, everything works just fine.
[11:47:46] *** Quits: chills42 (chills42@moz-hh7e7a.hfc.comcastbusiness.net) (Connection closed)
[11:54:14] *** Joins: chills42 (chills42@moz-hh7e7a.hfc.comcastbusiness.net)
[11:59:34] *** Quits: zyphrus_ (David@moz-ba5.pas.98.101.IP) (Ping timeout: 121 seconds)
[12:11:37] *** Quits: tomaka (Pierre@moz-dsp4h5.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[12:12:42] *** Joins: sysko (bst@moz-ct7.kqo.80.101.IP)
[12:24:04] *** Joins: filsmick (filsmick@moz-92lhf0.abo.wanadoo.fr)
[12:29:26] *** Joins: tomaka (Pierre@moz-dsp4h5.abo.wanadoo.fr)
[12:30:50] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[12:36:07] *** Quits: filsmick (filsmick@moz-92lhf0.abo.wanadoo.fr) (Quit: )
[12:38:33] *** Joins: bjz (bjz@moz-65q0ko.tpgi.com.au)
[12:41:31] *** Joins: dlight (dlight@moz-4vl.k6k.135.177.IP)
[12:43:40] *** Joins: filsmick (filsmick@moz-92lhf0.abo.wanadoo.fr)
[12:44:07] <iu> What are the use cases of `cargo rustc`?
[12:45:47] *** Quits: bjz (bjz@moz-65q0ko.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[12:50:54] *** Joins: ogham (rally@moz-91e3hp.cable.virginm.net)
[12:57:37] <gleb> iu: passing various command line arguments to rustc
[12:58:40] *** Quits: ogham (rally@moz-91e3hp.cable.virginm.net) (Ping timeout: 121 seconds)
[12:58:54] <iu> gleb: But like when might that be needed?
[13:00:13] <gleb> iu: https://users.rust-lang.org/t/compiling-a-graphical-application-in-windows-without-command-prompt/1940/5
[13:00:22] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[13:02:32] <iu> gleb: What you’re saying is that it might be needed for standalone apps, right? If it is a crate distributed via crates.io, `cargo rustc` is probably of little use, right?
[13:05:55] <gleb> iu: not sure what you mean the arguments you give it won't be applied when building dependencies so I guess this won't have any effect on crates from crates.io
[13:07:40] <iu> gleb: Yeah, that’s what I meant. Thanks!
[13:11:53] *** Joins: sysko1 (bst@moz-ct7.kqo.80.101.IP)
[13:13:41] *** Quits: sysko (bst@moz-ct7.kqo.80.101.IP) (Ping timeout: 121 seconds)
[13:20:37] *** Quits: sysko1 (bst@moz-ct7.kqo.80.101.IP) (Quit: Leaving.)
[13:21:29] *** Joins: sysko (bst@moz-ct7.kqo.80.101.IP)
[13:23:15] *** Quits: jarrednicholls (uid19542@moz-eilsuu.tooting.irccloud.com) (Quit: Connection closed for inactivity)
[13:24:08] *** Joins: listochkin (listochkin@moz-iv2.3rb.216.62.IP)
[13:24:11] *** Quits: listochkin (listochkin@moz-iv2.3rb.216.62.IP) (Quit: Textual IRC Client: www.textualapp.com)
[13:25:32] *** Quits: sysko (bst@moz-ct7.kqo.80.101.IP) (Ping timeout: 121 seconds)
[13:28:02] *** Joins: sysko (bst@moz-ct7.kqo.80.101.IP)
[13:41:22] <steveklabnik> or for options where there's no flag yet
[13:45:44] *** Quits: filsmick (filsmick@moz-92lhf0.abo.wanadoo.fr) (Connection closed)
[13:46:05] *** Joins: filsmick (filsmick@moz-92lhf0.abo.wanadoo.fr)
[14:00:17] *** Quits: filsmick (filsmick@moz-92lhf0.abo.wanadoo.fr) (Connection closed)
[14:00:18] *** Joins: filsmick (filsmick@moz-92lhf0.abo.wanadoo.fr)
[14:06:00] <iu> Let A depend on B, B depend on C, and C have a feature D. Suppose A starts to depend on C directly and activates D. Will C be compiled twice, with and without D?
[14:06:41] *** Quits: vpol (vpol@moz-t8q.gvm.241.77.IP) (Client exited)
[14:09:06] *** Quits: chills42 (chills42@moz-hh7e7a.hfc.comcastbusiness.net) (Connection closed)
[14:09:38] <iu> Or, will C be compiled only once with D enabled, in which case B will be given a C with some altered functionality?
[14:09:38] <gleb> iu: it seems to me, C will be built with the union of options requested by any crates
[14:09:51] <gleb> s/options/features/
[14:10:49] <iu> So, my last speculation about an altered C for B holds?
[14:12:13] <gleb> yep
[14:13:18] *** Quits: JanC (janc@moz-frbl2c.dsl.scarlet.be) (Ping timeout: 121 seconds)
[14:14:15] *** Joins: killercup (killercup@moz-4udt1b.dip0.t-ipconnect.de)
[14:14:27] *** Quits: killercup (killercup@moz-4udt1b.dip0.t-ipconnect.de) (Quit: Bye)
[14:19:01] *** Quits: qrlpx (smuxi@moz-n7t.3nb.211.95.IP) (Ping timeout: 121 seconds)
[14:19:58] <iu> Let A depend on B, B depend on C, and C have a feature D activated by default. Suppose A starts to depend on C directly and disables its default features. Will C be compiled twice, with and without D?
[14:20:39] <iu> The same as before? The union?
[14:24:00] *** Joins: qrlpx (smuxi@moz-30cotb.dip0.t-ipconnect.de)
[14:26:19] *** Joins: JanC (janc@moz-fpuv4o.dsl.scarlet.be)
[14:28:39] *** Joins: chills42 (chills42@moz-hh7e7a.hfc.comcastbusiness.net)
[14:29:19] *** Joins: sysko1 (bst@moz-ct7.kqo.80.101.IP)
[14:29:37] *** Quits: chills42 (chills42@moz-hh7e7a.hfc.comcastbusiness.net) (Connection closed)
[14:30:04] *** Quits: sysko (bst@moz-ct7.kqo.80.101.IP) (Ping timeout: 121 seconds)
[14:34:55] *** Joins: chills42 (chills42@moz-hh7e7a.hfc.comcastbusiness.net)
[14:37:27] *** Quits: sysko1 (bst@moz-ct7.kqo.80.101.IP) (Ping timeout: 121 seconds)
[14:43:17] *** Joins: sysko (bst@moz-ct7.kqo.80.101.IP)
[14:43:50] <iu> Suppose A depends on B, and B has a default feature C. I’d like to give the user of A the ability to enable/disable C and have it enabled by default as in B. To this end, I let `default-features = false` for B in A. Then I define a feature C in A as `C = ["B/C"]` and `default = ["C"]` in A. However, B is compiled without C by default.
[14:44:32] <iu> Can anybody spot what I’m doing wrong here?
[14:51:10] *** Quits: filsmick (filsmick@moz-92lhf0.abo.wanadoo.fr) (Quit: )
[14:52:05] *** Joins: sysko1 (bst@moz-ct7.kqo.80.101.IP)
[14:52:28] *** Quits: sysko (bst@moz-ct7.kqo.80.101.IP) (Connection closed)
[14:54:41] *** Joins: vpol (vpol@moz-k10.rvb.159.213.IP)
[14:59:51] <gleb> iu: what you just described works for me
[15:00:19] <iu> gleb: OK, let me try it all over again then.
[15:01:46] <iu> gleb: Could you please share your Cargo.toml of A?
[15:03:23] <steveklabnik> acrichto: i'm wrapping a C++ library with a -sys package, so i have to write a small C++ wrapper that exposes C. what should i name that c file? if I just name it 'v8' that's gonna conflict with the actual libv8
[15:06:58] *** Joins: neal (neal@moz-of66u9.ca.comcast.net)
[15:07:20] <iu> gleb: And the one of B as well)
[15:07:22] <gleb> iu: I've got different naming so I've posted all files for clarity: https://gist.github.com/gkoz/0efd64359fb0d6f7d388
[15:10:03] <iu> gleb: Thanks! What if in crate-b::Cargo.toml under [features] you define a new feature `x = ["crate-a/x"]` and set `default = ["x"]?
[15:10:53] <iu> gleb: So that “x” appears to be A’s feature.
[15:11:07] <iu> (which is crate-b in your example)
[15:11:43] <iu> gleb: Just as shown here http://doc.crates.io/manifest.html#the-[features]-section
[15:11:58] <iu> The session feature of the cookie crate.
[15:12:05] <iu> Like forwarding.
[15:12:23] <gleb> iu: updated the gist with your suggestion. still seems to work for me
[15:12:40] <gleb> cargo test shows 'Feature X', cargo test --no-default-features shows 'No features'
[15:14:01] <iu> gleb: Could you please `cargo --version`?
[15:14:55] <gleb> iu: cargo 0.4.0-nightly (15b497b 2015-07-08) (built 2015-07-10)
[15:15:40] <gleb> iu: same with cargo 0.2.0-nightly (a483581 2015-05-14) (built 2015-05-15)
[15:17:35] <iu> gleb: Your code works for me as well. Trying to find the difference with mine.
[15:17:47] <iu> gleb: Thanks for your time!
[15:23:34] *** Quits: Pierre_M (Pierre_M@moz-l5anv0.slkc.qwest.net) (Quit: Leaving)
[15:28:31] <iu> gleb: Found it. I wrote default-features instead of simply default in A’s Cargo.toml. Idiot. Thanks again for the help!
[15:29:25] *** Quits: neal (neal@moz-of66u9.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:39:44] *** Quits: vpol (vpol@moz-k10.rvb.159.213.IP) (Client exited)
[15:41:28] <tomaka> Is it theoretically possible with cargo to pull some dependencies from a private registry?
[15:41:51] <tomaka> I know you can specify the url of the registry in the .cargo/config, but that would mean that *all* dependencies must come from it
[15:42:33] <tomaka> instead I'm thinking of having some dependencies coming from the official crates.io, and some others from a private registry
[15:42:44] <steveklabnik> tomaka: that'd be cool but i think right now it's an all or nothing thing
[15:42:48] <steveklabnik> i would imagine
[15:49:32] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[15:53:40] *** Quits: mystor (sid79584@moz-761b3h.charlton.irccloud.com) (Quit: )
[15:53:55] *** Joins: mystor (sid79584@moz-o585r8.ealing.irccloud.com)
[15:54:25] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[15:55:51] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:00:46] *** Quits: iu (iu@moz-6263qv.cc.cmu.edu) (Connection closed)
[16:02:11] *** Joins: Andoriyu (Andoriyu@moz-a9o6ej.res.rr.com)
[16:06:29] *** Quits: glennpratt (glennpratt@moz-t5r4la.fios.verizon.net) (Connection closed)
[16:06:51] *** Joins: glennpratt (glennpratt@moz-t5r4la.fios.verizon.net)
[16:17:21] <SimonSapin> Is it possible to have a crate use static data provided by a *dependent* crate, without making the whole crate generic?
[16:18:50] <SimonSapin> Namely, string-cache (string interning library) has static set of known strings, and I’d users to be able to override that set
[16:21:39] <SimonSapin> It could be a function rather than data. Could I have an "extern" declaration in string-cache like https://github.com/rust-lang/rust/blob/9413a926fcfc88c46ea04534508284a822e1109f/src/liballoc/heap.rs#L154-L162 , implement that function in a cargo dependent, and have linking work out with Cargo?
[16:24:56] *** Joins: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP)
[16:26:14] <acrichto> steveklabnik: you should be able to name the c file whatever you'd like
[16:26:22] <acrichto> steveklabnik: but the lib output name may want to be something like libv8-glue.a
[16:26:24] <acrichto> or something like that
[16:29:51] <steveklabnik> ahhh glue is nice
[16:33:07] <acrichto> steveklabnik: oh! you may be interested in gcc-rs
[16:33:12] <acrichto> http://crates.io/crates/gcc
[16:33:19] <acrichto> if you're just compiling some C shims
[16:33:32] <acrichto> that'll take care of cross-platform things like MSVC on windows, flags for cross compiles, optimization flags, etc
[16:33:40] <acrichto> (also making libs and such)
[16:33:55] <steveklabnik> it's C++
[16:33:58] <steveklabnik> i am interested in it
[16:34:06] <steveklabnik> i hadn't looked to see if it can invoke g++ instead of gcc
[16:34:20] <acrichto> gcc::Config::new().cpp(true).file("src/foo.cpp").compile("libfoo.a")
[16:35:41] <steveklabnik> rad
[16:35:48] <steveklabnik> i figured
[16:36:03] <steveklabnik> i'm just trying to build up from the basics, improve as i go. looking into that was next steps, woo
[16:36:21] <SimonSapin> I managed to use "extern" functions, but had to use the "C" ABI
[16:36:58] *** Joins: iu (iu@moz-6263qv.cc.cmu.edu)
[16:37:37] *** Quits: sysko1 (bst@moz-ct7.kqo.80.101.IP) (Ping timeout: 121 seconds)
[16:40:59] <steveklabnik> acrichto: oh interesting, so i switched to that, and now i'm getting an error that i have multiple definitions https://gist.github.com/steveklabnik/71fc79cebc9959a22085 any ideas?
[16:41:15] *** Quits: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP) (Client exited)
[16:41:55] <acrichto> steveklabnik: try a `cargo clean` perhaps?
[16:42:01] <acrichto> steveklabnik: oh wait
[16:42:02] <steveklabnik> i did
[16:42:03] <acrichto> you don't need the println!
[16:42:06] <steveklabnik> ahhh
[16:42:07] <acrichto> gcc does that for you
[16:42:09] <steveklabnik> nice
[16:42:13] <acrichto> (e.g. you're linking it twice)
[16:42:19] <steveklabnik> makes perfect sense
[16:42:34] <steveklabnik> and that makes for a one line build.rs
[16:42:36] <steveklabnik> awesome
[16:43:25] <acrichto> :D
[16:43:49] <steveklabnik> https://github.com/rust-bridge/v8-sys/commit/eec16d0fa0134a0afb7e6cb64b9daafb201501c2
[16:43:52] <steveklabnik> look at that cleanup
[16:44:28] <acrichto> <3
[16:44:42] <acrichto> and now it works for --release, --debug, cross compling, windows, MSVC, etc
[16:44:49] <acrichto> shorter *and* more robust!
[16:45:34] <steveklabnik> yup
[16:45:39] <steveklabnik> yay re-usability
[16:47:28] *** Quits: tomaka (Pierre@moz-dsp4h5.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[16:47:33] *** Joins: ytain (ytain@moz-u0rb5h.dsl.teksavvy.com)
[16:55:57] *** Quits: chills42 (chills42@moz-hh7e7a.hfc.comcastbusiness.net) (Connection closed)
[17:02:20] *** Joins: chills42 (chills42@moz-hh7e7a.hfc.comcastbusiness.net)
[17:05:00] *** Joins: tomaka (Pierre@moz-dsp4h5.abo.wanadoo.fr)
[17:10:22] *** Quits: Andoriyu (Andoriyu@moz-a9o6ej.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[17:14:46] *** Joins: eckhardt (eckhardt@moz-33t0fq.hq.squareup.com)
[17:16:50] *** Joins: Guest24801 (Jorge@moz-7bh.ng6.177.186.IP)
[17:20:41] *** Joins: Andoriyu (Andoriyu@moz-a9o6ej.res.rr.com)
[17:24:03] *** Quits: qrlpx (smuxi@moz-30cotb.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[17:29:03] *** Joins: qrlpx (smuxi@moz-n7t.3nb.211.95.IP)
[17:41:18] <iu> What could be a solution if the build script of a package relies on the availability of a library that cannot be discovered by pkg-config? In other words, the user should tell the build script where the library is installed.
[17:41:38] <steveklabnik> well, one solution is to download and bulid the library yourself
[17:42:01] <iu> I would be nice to distribute it via crates.io.
[17:42:27] <iu> I was thinking about environment variables and a proper README.
[17:42:34] <iu> Not sure if it is a good solution.
[17:43:18] <iu> Like to ask the user to set CARGO_FEATURE_FOO_ROOT or something before installing the crate.
[17:43:32] <iu> Ugly.
[17:43:54] <iu> Fragile.
[18:13:44] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[18:18:26] *** Quits: Quxxy (chatzilla@moz-efh10q.internode.on.net) (Ping timeout: 121 seconds)
[18:20:15] *** Joins: O01eg (o01eg@moz-pjre41.0gj3.3egh.2698.2a02.IP)
[18:22:38] *** Joins: neal (neal@moz-of66u9.ca.comcast.net)
[18:23:27] *** Joins: brson (brson@moz-l8ebtf.sfo1.mozilla.com)
[18:23:50] *** Quits: chills42 (chills42@moz-hh7e7a.hfc.comcastbusiness.net) (Connection closed)
[18:27:33] *** Quits: neal (neal@moz-of66u9.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:29:58] <acrichto> iu: a common tactic I take is to vendor the source and only build it if pkg-config didn't find the lib to start off with
[18:44:38] *** Quits: dlight (dlight@moz-4vl.k6k.135.177.IP) (Ping timeout: 121 seconds)
[18:50:31] *** Joins: hiberno (flume@moz-b0a3ps.net)
[18:51:57] <iu> acrichto: Unfortunately the library doesn’t ship a pkg-config file.
[18:53:40] <acrichto> iu: you could in theory do manual detection perhaps?
[18:54:45] *** Quits: brson (brson@moz-l8ebtf.sfo1.mozilla.com) (Connection closed)
[18:54:56] <iu> acrichto: Do you have any package in mind that does this manually so that I could have a look?
[18:57:57] *** Joins: dlight (dlight@moz-6c0.304.135.177.IP)
[18:58:06] *** Joins: killercup (killercup@moz-f6o3r9.dip0.t-ipconnect.de)
[18:59:16] *** Joins: swgillespie (swgillespie@moz-qb3.04d.220.167.IP)
[18:59:26] *** Joins: chills42 (chills42@moz-hh7e7a.hfc.comcastbusiness.net)
[19:01:01] *** Quits: ytain (ytain@moz-u0rb5h.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[19:03:41] <iu> acrichto: By the way, do you agree with the following: When in a graph of dependencies multiple packages depend on the same package A and require different features from A, the final set of features will be the union of all requested features, and A will be compiled only once with that particular set of features, in which case each package dependent on A will see the same A with potentially altered behavior due to additional features activated by
[19:03:41] <iu>  other packages? 
[19:29:47] *** Quits: Andoriyu (Andoriyu@moz-a9o6ej.res.rr.com) (Ping timeout: 121 seconds)
[19:47:22] *** Joins: LinuxBunny (Retep998@moz-vlal7g.east.verizon.net)
[19:50:18] *** Quits: mcpherrin (mcpherrin@moz-bhcp6n.8mb6.t84e.0645.2601.IP) (Ping timeout: 121 seconds)
[19:51:17] *** Joins: mcpherrin (mcpherrin@moz-bhcp6n.8mb6.t84e.0645.2601.IP)
[19:53:41] *** Joins: filsmick (filsmick@moz-92lhf0.abo.wanadoo.fr)
[19:54:13] *** Quits: chills42 (chills42@moz-hh7e7a.hfc.comcastbusiness.net) (Connection closed)
[19:56:25] *** Joins: Andoriyu (Andoriyu@moz-a9o6ej.res.rr.com)
[19:56:28] *** Joins: Cifram_ (Cifram@moz-l63.9pu.126.76.IP)
[19:57:14] *** Quits: LinuxBunny (Retep998@moz-vlal7g.east.verizon.net) (Ping timeout: 121 seconds)
[19:59:25] *** Quits: Cifram (Cifram@moz-l63.9pu.126.76.IP) (Ping timeout: 121 seconds)
[19:59:33] *** Joins: Pierre_M (Pierre_M@moz-l5anv0.slkc.qwest.net)
[20:00:04] *** Quits: dcb (dcb@moz-v6l3du.ca.comcast.net) (Ping timeout: 121 seconds)
[20:01:12] *** Quits: swgillespie (swgillespie@moz-qb3.04d.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:02:08] *** Joins: dcb (dcb@moz-hkcots.idtl.bddv.0645.2601.IP)
[20:37:13] *** Joins: p32blo (p32blo@moz-p9h2jr.public.utexas.edu)
[20:44:22] *** Joins: swgillespie (swgillespie@moz-qb3.04d.220.167.IP)
[20:47:02] *** Joins: RossJH (textual@moz-g1795n.range86-165.btcentralplus.com)
[20:53:52] <acrichto> iu: nah all the packages I know of use pkg-config to detect whether something is installed or not
[20:54:10] <acrichto> iu: also yes I agree with that statement
[20:59:44] <iu> acrichto: Thanks! Then what happens when A has a default feature, and one of the packages says `default-features = false`? Following the above logic, if the feature is requested explicitly by someone, it will remain. If none of the other packages has expressed any preferences, the feature should disappear. Is that correct?
[21:00:23] <acrichto> iu: nah right now each package implicitly depends on the default feature
[21:00:36] <acrichto> so only if every single package depending on A says `default-features = false` will it be disabled
[21:00:36] <iu> So it’ll stay.
[21:00:39] <acrichto> yeah
[21:01:27] <iu> acrichto: Very important to keep in mind. Thanks for the clarification.
[21:14:43] *** Joins: eibwen (eibwen@moz-e4u4jq.dip0.t-ipconnect.de)
[21:17:30] *** Quits: filsmick (filsmick@moz-92lhf0.abo.wanadoo.fr) (Quit: )
[21:20:00] *** Joins: zyphrus (David@moz-ba5.pas.98.101.IP)
[21:36:04] *** Quits: RossJH (textual@moz-g1795n.range86-165.btcentralplus.com) (Connection closed)
[21:44:41] *** Quits: glennpratt (glennpratt@moz-t5r4la.fios.verizon.net) (Quit: Leaving...)
[21:55:49] *** Quits: swgillespie (swgillespie@moz-qb3.04d.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:59:08] *** Joins: swgillespie (swgillespie@moz-qb3.04d.220.167.IP)
[21:59:53] *** Quits: swgillespie (swgillespie@moz-qb3.04d.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:01:05] *** Joins: Kingsquee (kingsley@moz-k72lip.bchsia.telus.net)
[22:05:43] *** Quits: eckhardt (eckhardt@moz-33t0fq.hq.squareup.com) (Ping timeout: 121 seconds)
[22:05:56] *** Quits: eibwen (eibwen@moz-e4u4jq.dip0.t-ipconnect.de) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[22:06:19] *** Quits: p32blo (p32blo@moz-p9h2jr.public.utexas.edu) (Ping timeout: 121 seconds)
[22:19:09] *** Quits: zyphrus (David@moz-ba5.pas.98.101.IP) (Ping timeout: 121 seconds)
[22:49:44] *** Joins: swgillespie (swgillespie@moz-qb3.04d.220.167.IP)
[22:51:47] *** Quits: killercup (killercup@moz-f6o3r9.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[22:58:26] *** Joins: p1start (p1start@moz-nftjhe.org)
[23:05:56] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[23:17:38] *** Quits: nonsensickle (nonsensickl@moz-4v0.gkd.16.182.IP) (Quit: Leaving)
[23:18:55] *** Joins: EduardoBautista (uid51042@moz-qf293j.tooting.irccloud.com)
[23:19:57] *** Quits: tomaka (Pierre@moz-dsp4h5.abo.wanadoo.fr) (Connection closed)
[23:32:36] *** Quits: Kingsquee (kingsley@moz-k72lip.bchsia.telus.net) (Quit: Konversation terminated!)
[23:53:17] *** Quits: larsberg (sid89@moz-1a60qu.0j4i.jtu0.0101.2620.IP) (Quit: )
[23:55:24] *** Quits: qrlpx (smuxi@moz-n7t.3nb.211.95.IP) (Connection closed)
[23:59:57] *** Quits: dlight (dlight@moz-6c0.304.135.177.IP) (A TLS packet with unexpected length was received.)
