[00:07:27] *** Joins: roc (chatzilla@34E8ECDF.DC2C3734.616A18A6.IP)
[00:39:33] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Ping timeout)
[00:41:56] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[00:45:10] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Quit: mbx)
[01:08:26] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[01:09:30] *** Quits: gal (gal@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: gal)
[01:35:29] *** Quits: mekki (mekki@moz-9F9F62E0.cpe.net.cable.rogers.com) (Quit: Leaving.)
[01:36:40] *** Joins: gal (gal@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[01:37:07] *** Quits: gal (gal@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Connection reset by peer)
[01:37:28] *** Joins: gal (gal@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[01:39:08] *** Quits: gal (gal@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Ping timeout)
[01:45:17] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Quit: mbx)
[02:08:14] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[02:16:30] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[02:26:16] *** Quits: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net) (Quit: tobytailor)
[02:49:09] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[02:54:32] *** Quits: seth (seth@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[02:57:52] *** Joins: seth (seth@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[03:19:47] *** Quits: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net) (Quit: tobytailor)
[03:19:49] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[03:19:49] *** ChanServ sets mode: +o brson
[03:20:12] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[03:20:15] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[03:20:15] *** ChanServ sets mode: +o brson
[03:36:10] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[04:01:53] *** Quits: roc (chatzilla@34E8ECDF.DC2C3734.616A18A6.IP) (Ping timeout)
[04:11:18] *** Joins: mekki (mekki@moz-9F9F62E0.cpe.net.cable.rogers.com)
[04:17:12] *** Quits: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net) (Quit: tobytailor)
[05:19:01] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[05:19:03] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[05:25:11] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[05:44:17] *** Joins: sawrubh (uid6719@moz-5F4AA75A.irccloud.com)
[05:54:40] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[05:54:40] *** ChanServ sets mode: +qo dherman dherman
[06:20:25] *** Joins: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[06:31:55] *** Quits: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: brendan)
[06:36:23] *** Quits: till (till@34E8ECDF.DC2C3734.616A18A6.IP) (Input/output error)
[06:43:41] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[06:44:32] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Client exited)
[06:45:34] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Quit: mbx)
[06:52:02] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[06:56:29] *** Joins: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[06:57:59] *** Quits: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: brendan)
[07:00:27] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[07:02:03] *** Joins: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[07:06:05] *** Quits: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: brendan)
[07:12:50] *** Joins: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[07:15:21] *** Joins: till (till@moz-21D273D3.dialup.ihug.co.nz)
[07:16:23] *** Joins: gal (gal@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[07:16:43] *** Quits: gal (gal@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: gal)
[07:17:54] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Ping timeout)
[07:19:07] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[07:24:20] *** Joins: roc (chatzilla@FF000F4A.E13291EC.FC74E68.IP)
[07:32:44] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[07:45:56] *** Joins: gal (gal@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[07:57:33] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Ping timeout)
[08:01:52] *** Quits: sawrubh (uid6719@moz-5F4AA75A.irccloud.com) (Quit: Connection closed for inactivity)
[08:04:29] *** Quits: gal (gal@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: gal)
[08:04:53] *** Quits: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: brendan)
[08:08:05] *** Joins: gal (gal@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[08:11:50] *** Quits: gal (gal@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: gal)
[08:26:52] *** Joins: sawrubh (uid6719@moz-5F4AA75A.irccloud.com)
[09:10:51] *** Joins: brendan (brendaneic@8E0E84EA.B2584F3D.F1C37E5F.IP)
[09:53:22] *** Quits: brendan (brendaneic@8E0E84EA.B2584F3D.F1C37E5F.IP) (Quit: brendan)
[10:06:47] *** Quits: roc (chatzilla@FF000F4A.E13291EC.FC74E68.IP) (Ping timeout)
[10:09:29] *** Joins: gds (user@moz-42339416.range86-136.btcentralplus.com)
[10:19:13] *** Joins: brendan (brendaneic@F252A568.B83C520E.FCF1B01C.IP)
[10:31:09] *** Quits: brendan (brendaneic@F252A568.B83C520E.FCF1B01C.IP) (Ping timeout)
[10:41:52] *** Quits: sawrubh (uid6719@moz-5F4AA75A.irccloud.com) (Quit: Connection closed for inactivity)
[10:42:27] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 30.0a1/20140222030204])
[11:14:53] *** Quits: till (till@moz-21D273D3.dialup.ihug.co.nz) (Input/output error)
[11:31:55] <nmatsakis> lt
[11:31:57] <nmatsakis> oop
[13:05:38] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[13:16:07] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[13:31:16] *** Joins: san (anirudh@57DDC4C1.F2DEA9A7.1C37C358.IP)
[14:03:08] *** Quits: san (anirudh@57DDC4C1.F2DEA9A7.1C37C358.IP) (Input/output error)
[14:03:22] *** Joins: san (anirudh@57DDC4C1.F2DEA9A7.1C37C358.IP)
[14:07:57] *** Quits: azakai|2__ (alon@moz-8D0CC798.lightspeed.sntcca.sbcglobal.net) (Ping timeout)
[14:22:25] *** Joins: azakai|2__ (alon@moz-8D0CC798.lightspeed.sntcca.sbcglobal.net)
[15:27:02] *** jorendorff_away is now known as jorendorff
[16:12:41] *** Quits: ivan (ivan@moz-531C3EC9.members.linode.com) (Ping timeout)
[16:14:00] *** Joins: ivan (ivan@moz-531C3EC9.members.linode.com)
[16:18:56] *** Quits: mekki (mekki@moz-9F9F62E0.cpe.net.cable.rogers.com) (Quit: Leaving.)
[16:37:47] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[16:39:15] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[16:39:15] *** ChanServ sets mode: +qo dherman dherman
[16:49:51] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[17:02:13] *** Joins: mchang (mchang@BE99BE02.84BCE52A.BCAEBB33.IP)
[17:17:15] *** Joins: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[17:17:44] *** Joins: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net)
[17:39:48] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[17:39:49] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[17:48:06] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Quit: dherman)
[17:48:31] *** terrence-afk is now known as terrence
[17:49:15] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[17:51:56] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[17:51:56] *** ChanServ sets mode: +qo dherman dherman
[17:52:27] *** Joins: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[17:53:41] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[17:54:48] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[17:54:48] *** ChanServ sets mode: +o pcwalton
[17:57:41] *** Joins: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com)
[18:02:55] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[18:04:47] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[18:08:25] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:08:25] *** ChanServ sets mode: +o brson
[18:11:08] *** Joins: mekki (mekki@moz-ED4A4A.gatineau.credil.org)
[18:14:40] *** Joins: azakai_ (alon@moz-BBE3ABD.mv.mozilla.com)
[18:20:47] *** Joins: eholk (eholk@moz-BA312F07.crest.iu.edu)
[18:34:04] *** Quits: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: brendan)
[18:40:01] *** Quits: mekki (mekki@moz-ED4A4A.gatineau.credil.org) (Ping timeout)
[18:41:01] *** Quits: disnet (uid21735@moz-A42E5B7B.irccloud.com) (Ping timeout)
[18:41:38] *** Joins: mekki (mekki@moz-ED4A4A.gatineau.credil.org)
[18:43:30] *** Quits: mekki (mekki@moz-ED4A4A.gatineau.credil.org) (Ping timeout)
[18:43:38] *** Joins: disnet (uid21735@moz-A42E5B7B.irccloud.com)
[18:46:25] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: rcirc on GNU Emacs 24.3.1)
[18:47:25] *** Joins: mekki (mekki@7ECAB891.79FD178A.92925795.IP)
[18:50:30] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[18:50:58] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:50:58] *** ChanServ sets mode: +o brson
[19:01:49] *** Quits: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net) (Ping timeout)
[19:08:13] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[19:22:57] <dherman> nmatsakis: I'm loving this direction. wycats just told me about arr.parallel, which ties it all together very nicely
[19:23:29] <dherman> for (let x of a.parallel().map(x => x + 1).filter(x => x < THRESHOLD).build()) { ... }
[19:24:07] <dherman> nmatsakis: would it be possible to hoist out the construction of the pipeline objects themselves? either in automatic optimization, or manual coding patterns, or both?
[19:25:04] *** Joins: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu)
[19:25:35] <wycats> nmatsakis is better on generational GC
[19:25:51] <wycats> dherman: also you wouldn't need build
[19:26:02] <wycats> iter would auto-build
[19:26:15] <dherman> ah
[19:26:16] <cmr> is this pjs or rust
[19:26:18] <dherman> pjs
[19:26:28] <dherman> cmr: but I LOVE that that's a question :D
[19:26:31] <cmr> :)
[19:26:50] * dherman feeling optimistic for the future
[19:26:51] * cmr didn't know if some fancy new thing was being played with
[19:26:59] <cmr> (in Rust, that is)
[19:27:03] <dherman> I think nmatsakis does have thoughts about fork/join in rust
[19:27:06] <dherman> but hasn't had time for it
[19:27:07] <dherman> so far
[19:27:19] <dherman> but this is super exciting for pjs
[19:27:27] <dherman> I think they've finally found the right api
[19:27:45] <dherman> wycats: that's awesome about auto-build
[19:27:48] <wycats> :-D
[19:28:01] <dherman> and I agree that this is a nice pattern for .lazy as well
[19:28:30] <dherman> I think ocaml has a similar thing, but with custom syntax instead of just a combinator library
[19:28:33] <wycats> Yeah auto build for iter and forEach (the "side effect only" iterators) is a no-brainer
[19:28:33] <dherman> for laziness I mean
[19:28:42] <wycats> Yeah rust just bakes laziness in
[19:28:44] <dherman> it's a no-brainer once someone's brain comes up with the idea
[19:28:48] <wycats> Ha
[19:28:58] <dherman> mine, notably, did not
[19:29:04] <wycats> I had the idea re: observables
[19:29:09] <wycats> And reapplied it here
[19:29:13] <dherman> I think my brain is more useful for telling people whether their ideas are good or bad, rather than having ideas
[19:29:23] <wycats> The notion of "side effect only iterators" is more obvious there
[19:29:25] <wycats> Nah
[19:29:31] <wycats> Task.js yo
[19:29:47] <dherman> oh man I have to finish task.js
[19:29:48] <dherman> :(
[19:30:11] <dherman> it's always amazing to me how little of my original ideas remain in a good idea that's been polished
[19:30:23] <dherman> task.js, in the end, has very little left of my original thinking
[19:30:25] <dherman> same with es6 modules
[19:30:30] <dherman> but there are a couple Big Constraints that remain
[19:30:55] <dherman> so strategy : tactics :: vision : ???
[19:31:10] <wycats> Same with me tbh
[19:31:19] <dherman> basically you want the big vision to be intact, but the rest should be totally pliable
[19:31:37] <dherman> aaanyway.
[19:31:38] <wycats> Most of the implementation of an ember idea I come up with gets changed a lot by the time it's implementef
[19:31:50] * dherman needs to order an australian vis
[19:31:50] <dherman> a
[19:31:57] <dherman> and flights to PDX for next month
[19:31:59] <wycats> Anyway forEach and iter + parallel
[19:32:04] <wycats> :ship it:
[19:32:31] <dherman> oh wait I have to get my passport to get the visa. later I gues
[19:32:31] <dherman> s
[19:33:55] <shu> what is iter?
[19:35:39] <dherman> shu: @@iterator
[19:35:50] <dherman> thunk method implicitly called by for-of
[19:35:53] <dherman> to ask an object how to iterate over it
[19:36:02] <dherman> so for-of of a parallel pipeline would automatically build
[19:36:13] <shu> dherman: i see
[19:36:16] <shu> es6 thing?
[19:36:40] <dherman> yep
[19:36:46] <dherman> for-of is awesome
[19:36:54] <shu> dherman: that's neat
[19:37:11] <dherman> shu: it reads beautifully
[19:37:14] <dherman> it's clear code
[19:37:24] <dherman> it avoids the "Hungarian notation" namespacing of parMap et al
[19:37:30] <dherman> it also makes the fusion opportunities clear
[19:37:36] <dherman> since you explicitly pipeline everything yourself
[19:37:50] <dherman> I mean, engines could still try to optimize across pipelines if they *wanted* to
[19:37:55] <dherman> but a programmer shouldn't really expect it
[19:38:18] <shu> dherman: i don't think i was there for the beginning of the conversation
[19:38:34] <shu> dherman: the idea is to replace par methods on proto with a parallel pipeline construct entirely?
[19:38:44] <dherman> shu: so details are still being discussed,
[19:38:47] <shu> dherman: i saw niko's email, but i thought it was a proposal for exposing fusion
[19:38:50] <dherman> (you're on the email thread)
[19:38:53] <dherman> yeah ok
[19:38:54] <dherman> so
[19:38:57] <dherman> right
[19:38:59] <dherman> that's what I mean
[19:39:01] <dherman> but it's not just that
[19:39:04] <dherman> it's also a combinator library
[19:39:14] <dherman> so it simultaneously solves the naming convention ugliness,
[19:39:23] <dherman> as well as the doing-it-via-function-calls-imported-from-a-module uglienss
[19:39:29] <dherman> so instead of:
[19:39:32] <dherman> a.parMap()
[19:39:33] <dherman> or
[19:39:37] <dherman> import parMap ...;
[19:39:40] <dherman> parMap(a, ...)
[19:39:42] <dherman> you get:
[19:39:49] <dherman> a.parallel().map(...).filter(...)
[19:39:58] <dherman> and you can make it go by either:
[19:40:00] <dherman> - calling .build()
[19:40:05] <dherman> - using it in for-of
[19:40:25] <shu> okay, i see
[19:43:03] <larsberg> dherman: does the infrastructure you're building for `for (let x of a.parallel().map(x => x + 1).map(x => 2*x)` open future optimizations into `for (let x of a.parallel().map(x => (x+1)*2)`? 
[19:43:17] <dherman> larsberg: yes
[19:43:21] <nmatsakis> hey guys
[19:43:27] <dherman> in fact it makes that fusion optimization more plausible
[19:43:29] <larsberg> +1
[19:43:31] <nmatsakis> I had my notifications setup wrong for a bit
[19:43:41] <nmatsakis> so I missed the discussion here :)
[19:43:44] <nmatsakis> but yes I agree with everything ;)
[19:43:49] <larsberg> dherman: I figured you guys would have thought about it - super happy to hear that ;-)
[19:43:49] <nmatsakis> anyway, yeah, array.parallel is clearly nicer 
[19:44:04] <nmatsakis> we need something for the comprehension form
[19:44:15] <nmatsakis> (nicer than what was in my *polyfill*, I mean)
[19:44:30] <dherman> larsberg: previous incarnations of the api didn't have the combinator library with the explicit "and now ... go!" part, so fusion would have to cross into normal JS, which makes it trickier
[19:44:31] <nmatsakis> I'm not sure just how to impl this atop our current infrastructure, though I think it'd be do-able
[19:44:44] <wycats> I would recommend .parallel, not .parallel(), but either is fine with me personally
[19:45:29] <nmatsakis> so, we were planning to Array.build() and Array.buildPar() for the comprehension form,
[19:45:30] *** Quits: mekki (mekki@7ECAB891.79FD178A.92925795.IP) (Ping timeout)
[19:45:39] <nmatsakis> that is: Array.build(3, i => i + 1) yields [1, 2, 3]
[19:45:41] <nmatsakis> and so on
[19:46:07] <nmatsakis> so perhaps just Array.parallel.build(3, i => i + 1).map(i => i + 1).execute() == [2, 3, 4] would be fine
[19:46:16] <nmatsakis> or else Array.parallel(3, i => i + 1)
[19:46:18] <wycats> sounds good at first glance
[19:46:24] <wycats> nice!
[19:46:26] <nmatsakis> since you kind of need that first step to do anything
[19:46:49] *** Joins: mekki (mekki@moz-ED4A4A.gatineau.credil.org)
[19:46:52] <nmatsakis> as an aside, perhaps we can break with the "EIC" arguments
[19:46:56] <nmatsakis> and supply instead just "EI"
[19:47:01] <nmatsakis> since this is a "different" API
[19:47:15] <shu> do we want this to be the exclusive api is what i'm asking
[19:47:21] <nmatsakis> (the reason for this is that in some cases we supply an out pointer so that the result can be written in place)
[19:47:28] <nmatsakis> (and it's annoying to have that useless collection argument in there)
[19:47:48] <nmatsakis> shu: idk, it's certainly somewhat wordier, I wonder how much harder to optimize.
[19:48:13] <shu> nmatsakis: if we can optimize the one-op-long pipeline case to be fast for now, we can worry about the rest later
[19:48:24] <nmatsakis> yes that was my thought
[19:49:58] <shu> nmatsakis: or maybe it doesn't matter
[19:50:17] <nmatsakis> shu: what doesn't matter? (length of pipeline?)
[19:50:19] <nmatsakis> I'm not sure that it does
[19:50:39] <shu> nmatsakis: optimizing the creation of the pipeline (assuming that's what you were referring to in "how much harder to optimize")
[19:51:45] <shu> nmatsakis: i like luke's suggestion of decoupling data from the pipeline
[19:52:03] <nmatsakis> shu: I thought about that
[19:52:05] <nmatsakis> and rejected it
[19:52:06] <nmatsakis> in the end
[19:52:14] <nmatsakis> I may have been wrong,
[19:52:19] <nmatsakis> but the reason I rejected it was that I thought that,
[19:52:20] <nmatsakis> in many cases,
[19:52:24] <nmatsakis> there is data in the closures anyway
[19:52:27] <nmatsakis> that is specific to this instance
[19:52:33] <nmatsakis> and hence if we *really* want to remove data from the pipeline,
[19:52:39] <nmatsakis> we need to provide some way to pass that data in
[19:53:05] <nmatsakis> (though I haven't seen luke's mail yet, let me check my e-mail again)
[19:53:13] <nmatsakis> thinking about it now,
[19:53:19] <nmatsakis> it seems like it'd be easy enough to provide both options
[19:53:26] <nmatsakis> array.parallel is the convenient form
[19:53:35] <shu> nmatsakis: right, the per-instance is just sugar
[19:53:50] <shu> nmatsakis: since the act of building the pipeline is really just type checking to make sure the fn composition works out
[19:53:58] <nmatsakis> shu: the comprehension form is already... well, *almost* whta you want
[19:54:04] <nmatsakis> it's not quite divorced from input data,
[19:54:08] <nmatsakis> because it doesn't provide a means to supply an input
[19:54:10] <nmatsakis> you have to close over that
[19:55:01] <shu> nmatsakis: not like the comp form is set in stone, having one that takes an input seems sensible for pipelining over one-shot builds
[19:56:19] <nmatsakis> shu: that said, it makes a difference for reduce, as luke points out
[19:56:21] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[19:56:25] <nmatsakis> shu: well, I guess reduce could just take the initial data as well
[19:56:37] <nmatsakis> that is, all the "execute" forms would (optionally) take the initial data
[19:56:50] <nmatsakis> reduce(), toArray(), and forEach() 
[19:56:51] *** Joins: sunfish (chatzilla@moz-BBE3ABD.mv.mozilla.com)
[19:57:01] <nmatsakis> (slight deviation from my polyfill, where I called toArray() build())
[19:59:10] <shu> nmatsakis: yes, that seems fine to me
[19:59:29] <nmatsakis> I'm toying with this, might require a *bit* more iteration
[19:59:50] <nmatsakis> I feel like comprehension form and "late-bound" input can be unified a bit
[19:59:59] <nmatsakis> in particular I can imagine wanting to make a pipeline with no input,
[20:00:02] <shu> nmatsakis: it seems like the the parts with instance-specific data could be separated out from the rest of the pipeline
[20:00:03] <nmatsakis> and then supply a comprehension func
[20:00:23] <nmatsakis> so maybe you just say myArray.pipeline to get one tied to myArray
[20:00:27] <nmatsakis> which is kind of sugar for
[20:00:52] <nmatsakis> new Pipeline().variousOpsHere.input(myArray.length, i => myArray[i])
[20:01:02] <nmatsakis> it's weird because the first step comes at the end, but
[20:01:12] <shu> nmatsakis: so a pipeline of an image filter might be a couple maps and filters, how you create the initial data to pass in could either be sequential or from a one-shot buildPar or whatever
[20:01:27] <nmatsakis> right
[20:01:41] <nmatsakis> I guess the new Pipeline() is kind of useless
[20:01:46] <nmatsakis> more likely it'd just be a parallel module
[20:01:55] <nmatsakis> Parallel.map().filter() <-- yields a pipeline
[20:02:09] <nmatsakis> pipeline.applyTo(N, func) <-- "attaches" a pipeline to a comprehension
[20:02:16] <shu> right
[20:02:22] <nmatsakis> (yielding another pipeline, I think)
[20:02:26] *** Joins: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[20:02:27] <nmatsakis> that must then be executed or reduced or whatever
[20:02:42] <nmatsakis> I guess applyTo() can kind of come anywhere
[20:02:48] <nmatsakis> wacky
[20:03:13] <nmatsakis> (my thinking here is to try and separate the supplying of initial data from the execution method (foreach vs reduce))
[20:03:25] <nmatsakis> since reduce can be parallelized itself
[20:03:43] <nmatsakis> but in the forEach style you really want to collect into an array
[20:03:51] <nmatsakis> (and hence it should probably not be called forEach I guess)
[20:03:55] <nmatsakis> (but rather collect)
[20:04:23] * shu worries about people writing trivial for eachs
[20:04:56] <nmatsakis> trivial for eachs?
[20:05:14] <shu> if they are in fact just collecting it into another array
[20:06:26] <nmatsakis> shu: i.e., var x = []; for (let y of myArray.parallel.map(...)) x.push(y);
[20:06:27] <nmatsakis> ?
[20:06:33] <nmatsakis> well, that'd be dumb :)
[20:06:40] *** Joins: cjones (cjones@moz-45913895.socal.res.rr.com)
[20:06:46] <nmatsakis> but yeah I can imagine people not getting it
[20:06:50] <shu> nmatsakis: yes
[20:07:36] *** Quits: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: brendan)
[20:09:53] <dherman> anyone know when ff29 hits stable?
[20:09:56] <dherman> nmatsakis, shu: ^^ ?
[20:10:31] <jdm> dherman: april 28 according to https://wiki.mozilla.org/RapidRelease/Calendar
[20:10:39] <dherman> jdm: thx!
[20:11:27] *** Joins: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[20:15:05] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[20:15:05] *** ChanServ sets mode: +o pcwalton
[20:18:57] *** Quits: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: brendan)
[20:26:17] *** Joins: roc (chatzilla@34E8ECDF.DC2C3734.616A18A6.IP)
[20:39:42] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[20:41:51] *** terrence is now known as terrence-lunch
[20:43:42] *** Quits: sunfish (chatzilla@moz-BBE3ABD.mv.mozilla.com) (Client exited)
[20:44:13] <nmatsakis> nrc: I wanted to schedule some time to chat :)
[20:44:26] <nmatsakis> might have to be wed tho
[20:45:31] <nmatsakis> nrc: actually, how is tomorrow at 2pm (EST) -- that's 11am PST
[20:46:46] <nrc> nmatsakis: I'd rather do a bit later if that is OK - my brain usually takes a little time to warm up in the morning
[20:50:24] <nmatsakis> nrc: 12am PST/
[20:50:51] <nrc> nmatsakis: sure, that's be better
[20:50:56] <nrc> s/s/d
[20:51:04] <nmatsakis> nrc: ok, I added something into zimbra, I can't do later
[20:51:47] <nrc> that's fine
[20:52:23] <nrc> thanks
[21:10:34] <nrc> brson: are you in MV?
[21:14:20] <nrc> and if so, would you mind bringing a power adapter for me to the work week - someone will bring it to you in MV
[21:15:54] <brson> nrc: yes, I can do that
[21:18:30] <nrc> brson: thank you!
[21:19:46] <azakai> brson: lunch?
[21:27:04] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Client exited)
[21:33:16] *** Joins: sunfish (chatzilla@moz-BBE3ABD.mv.mozilla.com)
[21:47:37] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[21:52:32] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:56:23] *** Quits: mekki (mekki@moz-ED4A4A.gatineau.credil.org) (Quit: Leaving.)
[22:05:20] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[22:13:20] *** terrence-lunch is now known as terrence
[22:15:01] *** Quits: gds (user@moz-42339416.range86-136.btcentralplus.com) (Quit: ERC Version 5.3 (IRC client for Emacs))
[22:17:11] *** Joins: till (till@34E8ECDF.DC2C3734.616A18A6.IP)
[22:20:47] *** nrc is now known as nrc|afk
[22:29:28] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Quit: dherman)
[22:38:40] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[22:38:40] *** ChanServ sets mode: +qo dherman dherman
[22:59:22] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[22:59:22] *** ChanServ sets mode: +o pcwalton
[23:03:26] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[23:04:27] *** jld is now known as jld|commute
[23:12:01] *** till is now known as till|lunch
[23:14:16] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[23:18:09] *** Joins: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[23:19:25] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[23:23:21] *** Quits: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu) (Quit: lkuper)
[23:26:23] *** jorendorff is now known as jorendorff_away
[23:39:51] <brson> azakai: no thanks
[23:40:23] <brson> nrc|afk: power adapter is in my bag. new it just needs to stay there for 1 week
[23:40:27] <brson> *now
[23:43:54] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[23:44:27] *** jld|commute is now known as jld
[23:59:09] *** till|lunch is now known as till
