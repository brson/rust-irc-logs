[00:00:14] * strcat doesn't understand any of this asm :(
[00:00:30] <ezyang> haha 
[00:00:59] <ezyang> When I'm in an unsafe block, is there a way to pop back into safe mode? 
[00:01:06] <strcat> close the block :)
[00:01:11] <strcat> call a safe function?
[00:01:21] <ezyang> there's no safe block? 
[00:01:24] <strcat> no
[00:01:27] <ezyang> :( 
[00:01:31] <strcat> make 2 unsafe blocks
[00:01:31] <rntz> ezyang: I think that's not a sufficiently commonly desired feature
[00:01:38] <docbrown> cmr: What about multiple passes? Essentially generate a separate set of docs for each configuration and then provide the ability to switch between them in the HTML?
[00:01:58] <ezyang> Well, I'm not sure. If you're trying to minimize the amount of unsafe code as possible, it might be useful 
[00:02:21] <ezyang> For example, you have a function which access a global mutable variable. It needs to be declared unsafe, but the internal bits probably can be coded safely 
[00:02:38] * strcat can't believe they wrote unwind tables by hand
[00:02:40] <sfackler> ezyang: you can put the safe bits in a non-unsafe function and call it from the unsafe part
[00:02:45] <strcat> I don't really see why these functions need it
[00:02:56] <strcat> maybe cancellation points in some code using them, *shrug*
[00:02:57] <rntz> true. I think the idea is that you should generally be able to encapsulate the access-pattern for the global state into some useful abstraction, implement that unsafely, and separate the unsafe bits from the safe bits entirely?
[00:03:14] <dbaupp> docbrown: the problem is you have a combinatorial explosion of cfg's, e.g. #[cfg(windows, target_word_size="32")], #[cfg(windows, target_word_size="64")], etc, etc. so running rustdoc to retrieve everything isn't feasible.
[00:03:17] <rntz> at the very least, I don't see unsafely accessing a global variable as something that is meant to be common in rust
[00:03:17] *** Joins: tcr (tcr@moz-EAC95265.hfc.comcastbusiness.net)
[00:03:21] <docbrown> cmr: Then again, I don't know enough about rustdoc or the compiler to know if that's possible.
[00:03:32] <SiegeLord> Maybe generate docs on demand with caching ;)
[00:03:37] <docbrown> cmr: Good point.
[00:03:41] <dbaupp> docbrown: (* running rustdoc mulitple times with different configurations to retrieve everything.)
[00:03:44] <cmr> docbrown: it'd be combinatorial doc generation.
[00:03:44] <ezyang> I guess so. 
[00:03:53] <cmr> on the number of cfg's used in the source.
[00:04:00] <ezyang> I mean, I dunno. Is the claim that no rust applications maintain a thread-global free list? 
[00:04:03] <rntz> hrm. if I write a function literal inside an unsafe block, is the code inside the function "inside the unsafe block"?
[00:04:03] <o11c> why can't the doc way just ignore cfg and always parse?
[00:04:16] *** Joins: tcr_ (tcr@moz-EAC95265.hfc.comcastbusiness.net)
[00:04:17] *** Quits: tcr (tcr@moz-EAC95265.hfc.comcastbusiness.net) (Connection reset by peer)
[00:04:26] <cmr> Hmm
[00:04:31] <rntz> if not, you could just do something like unsafe { ... (||{ safe code yay })() ... }
[00:04:31] <SiegeLord> rustdoc does more than just parsing
[00:04:35] <dbaupp> o11c: because it also runs the typechecker and so on to hyperlink to different items
[00:04:47] <cmr> SiegeLord: Yes, but it could conveivably not run the cfg stripping.
[00:04:57] <dbaupp> cmr: not while running the typechcker
[00:05:00] <cmr> it wouldn't work for per-platform extern's though.
[00:05:02] <SiegeLord> What if it doesn't typecheck then?
[00:05:04] <cmr> dbaupp: why?
[00:05:05] <rntz> which would be a hilarious use of eta-expansion
[00:05:07] <cmr> SiegeLord: it can't not.
[00:05:14] <dbaupp> cmr: because you end up with multiple copies of one item
[00:05:17] <cmr> Not while still having hyperlinking.
[00:05:34] <ezyang> rusti: range(0,4) 
[00:05:35] -rusti- std::iter::Range<int>{state: 0, stop: 4, one: 1}
[00:05:44] <ezyang> uh 
[00:05:50] <dbaupp> cmr: (i..e the compiler will complain about it because `fn foo() {} fn foo() {}` isn't valid.)
[00:05:52] <ezyang> "is range(0,4) [0,1,2,3] or does it include 4" 
[00:06:01] <sfackler> ezyang: it excludes 4
[00:06:02] <dbaupp> ezyang: it doesn't include 4
[00:06:09] <sfackler> you can use range_inclusive if you want it to include 4
[00:06:11] <dbaupp> rusti: range(0,4).to_owned_vec()
[00:06:11] -rusti- ~[0, 1, 2, 3]
[00:06:18] <ezyang> great, thanks 
[00:06:52] <rntz> ezyang: "thread-global free list" - that seems a little unsafe unless you guard it with a mutex. unless by thread-global you mean what I would pronounce thread-local... not sure if you do
[00:07:06] <ezyang> rntz: Nope, you need to take the lock 
[00:07:30] <rntz> doesn't rust have stuff for using "a piece of state protected by a mutex" from safe code?
[00:07:41] <pcwalton> yes
[00:07:43] <sfackler> MutexArc
[00:07:43] <pcwalton> MutexArc
[00:07:59] <ezyang> oh, do I actually want mutexarc? 
[00:08:45] <rntz> it *sounds* to me like you do
[00:08:58] <rntz> but I don't know whether I've understood everything correctly
[00:09:15] *** Joins: jstevans (Instantbir@88BCD3E6.599F34EC.DDE5D3F6.IP)
[00:09:40] <ezyang> So, let's see, what I want to do is to define a struct to hold the synchronized data 
[00:09:48] <ezyang> and unsafely globally initialize an arc 
[00:09:58] <ezyang> Hm, how do I make the arc global though? 
[00:10:26] *** Joins: jvshahid (jvshahid@moz-A8634D22.public.wayport.net)
[00:10:30] <diverse> What is going to happen to ~[T]? Is that going to stay?
[00:11:01] <rntz> ezyang: well, how were you making your unsafely-accessed global thing global already?
[00:11:11] <pcwalton> diverse: depends on DST
[00:11:15] <ezyang> using unsafe.... 
[00:11:41] <rntz> then presumably you can still do the same thing? just declare an unsafe global mutexarc, and then make a safe accessor function for it.
[00:11:44] <sfackler> ezyang: there are statically initializable mutexes in std::unstable::sync
[00:11:58] <ezyang> OK, right, the key is writing a safe accessor function 
[00:12:03] *** flaper87 is now known as flaper87|afk
[00:12:04] <sfackler> rntz: you can't statically initialize a mutexarc
[00:12:36] <strcat> sfackler: but those are native mutexes
[00:12:39] *** Joins: morphevs (Adium@moz-C1F7EB20.cust.bluewin.ch)
[00:12:40] <strcat> they will deadlock tasks
[00:12:44] <sfackler> oh right
[00:12:46] <rntz> sfackler: I was just trying to solve the problem of how to have a global variable accessed from safe code. initializing it is another issue.
[00:13:02] <rntz> I mean, in general you can just have a flag for "initialized?" and, whenever you access, if not initialized, initialize & set flag
[00:13:03] <strcat> rntz: a macro wrapping the unsafe concept
[00:13:05] <rntz> although that's expensive
[00:13:12] <rntz> strcat: or just an accessor function
[00:13:26] <strcat> well I mean a macro allowing you to declare generic globals protected by a mutex
[00:13:34] <diverse> pcwalton: will DST be builtin or part of the stdlib?
[00:13:36] * strcat went that way for thread-local
[00:13:36] <rntz> strcat: hm, that's a good idea I guess
[00:14:31] <ezyang> Alternatively, we can give Rust implicit parameters, and then this'll just be a dynamically scoped argument to all my functions :D 
[00:14:51] <rntz> yeah, implicit parameters are a feature I wish more languages had.
[00:15:26] <ezyang> And then, if I decided I wanted per thread free lists, bingo, easy 
[00:15:52] *** Quits: ofeldt- (ofeldt@moz-39FCA11A.dip0.t-ipconnect.de) (Ping timeout)
[00:16:02] <rntz> uh, do implicit parameters make per-task free lists easy?
[00:16:11] <rntz> (by "thread" do you mean "OS thread" or "rust task"?)
[00:16:24] <ezyang> OS thread. Although, I guess if I did it this way it'd be per rust task, huh. 
[00:17:11] <rntz> it's not clear to me how implicit parameters give you per-task stuff. I guess you could say that every implicit parameter needs a default value, and that when you spawn a new task it has that default value rather than inheriting it from the scope it was spawned from.
[00:17:32] <ezyang> That's right 
[00:17:38] <ezyang> So you allocate a new free list for each thread 
[00:17:55] *** Joins: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net)
[00:17:59] <ezyang> whereas if I write it with a global state, I have to rewire all of these calls 
[00:17:59] <pcwalton> dst is part of the language
[00:18:37] <ezyang> is the let x = x idiom common (where x was previously declared as let mut x = ...)? 
[00:18:38] <rntz> i'm not fully convinced that's the "right" way to do implicit-parameters plus tasks, though. there might be some compelling reason they ought to inherit?
[00:18:44] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[00:18:56] <rntz> dst=?
[00:19:03] <strcat> ezyang: just use #[thread_local] ?
[00:19:07] <ezyang> rntz: Well, they'd inherit if you needed the free list to be shared. This is arguably the right behavior in many contexts, since otherwise you waste a lot of things 
[00:19:13] <dbaupp> ezyang: not super common, but it's the correct thing when one wishes to freeze something
[00:19:15] <ezyang> strcat: Oh, well, I guess that works too :) 
[00:19:33] <rntz> ah, dynamically sized types.
[00:19:36] <strcat> #[thread_local] static mut list: *mut FreeList = 0 as *mut FreeList;
[00:19:36] <ezyang> hang on, does Rust even have efficient cross-platform thread local variables? 
[00:19:37] *** Quits: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[00:19:43] <strcat> ezyang: yes, behind a feature flag
[00:19:49] <strcat> and keep in mind they're thread-local, not task-local
[00:19:53] <ezyang> yeah 
[00:20:01] <ezyang> well, I bet it still counts as unsafe 
[00:20:02] *** Joins: ofeldt (ofeldt@moz-B9131D79.dip0.t-ipconnect.de)
[00:20:08] <strcat> ezyang: it does
[00:20:25] <strcat> you need dynamic borrowck or a clone to safely obtain what's in it
[00:20:30] <strcat> or a swap
[00:22:09] <ezyang> why si the signature for eq (&self, other: &Self) and not (&self, &other: &Self)? 
[00:22:28] <strcat> ezyang: &other doesn't mean what you think it does
[00:22:35] <strcat> it wouldn't be relevant to the caller
[00:22:40] <strcat> it would be a deref in the pattern
[00:22:40] <ezyang> Does &self mean what I think it does? 
[00:22:47] <strcat> probably
[00:22:53] <ezyang> That's... weird. 
[00:22:58] <strcat> but you're missing that self has a different syntax than other parameters
[00:23:04] <ezyang> oh, I see 
[00:23:09] <dbaupp> &self is equivalent to `self: &Self`, but sugar-y.
[00:23:32] <strcat> ezyang: &x in a binding means deref, because destructuring mirrors construction
[00:23:46] <strcat> rusti: let x = &5; let &y = x; y
[00:23:47] -rusti- 5
[00:23:52] <rntz> yeah, &self is just weird sugar that's inconsistent with the meaning of & in other patterns
[00:23:54] <strcat> rusti: let x = ~5; let ~y = x; y
[00:23:54] -rusti- 5
[00:24:00] <rntz> which makes me sad
[00:24:18] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Ping timeout)
[00:24:29] <strcat> there are actually examples of that in the tutorial now
[00:24:33] <rntz> but then, it makes me a little sad that rust treats self/Self specially at all, so maybe I'm just a whiner
[00:24:40] <strcat> http://static.rust-lang.org/doc/master/tutorial.html#implementing-a-linked-list
[00:24:51] <ezyang> OK, another question: what's the method for unsafely comparing two borrowed pointers for pointer equality? 
[00:25:09] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[00:25:39] <strcat> ezyang: coerce to raw ptr and compare those (but there's a function in the stdlib doing it - borrow::ptr_eq or something)
[00:26:01] <strcat> rusti: let x = &5; x as *int
[00:26:02] -rusti- (0x7fe0056260f8 as *())
[00:26:03] <strcat> rusti: let x = &5; x as *int as uint
[00:26:04] -rusti- 139952165904632u
[00:27:47] <ezyang> it's ref_eq, apparently 
[00:27:52] *** Quits: tcr_ (tcr@moz-EAC95265.hfc.comcastbusiness.net) (Client exited)
[00:28:03] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[00:28:13] *** Joins: tcr (tcr@moz-EAC95265.hfc.comcastbusiness.net)
[00:28:24] <strcat> the nice thing about writing the documentation is that you get to force naming conventions on everyone ;p
[00:29:03] <strcat> although I don't know what I like as a name for unique pointers (owned boxes?) yet
[00:29:22] <rntz> wigglies
[00:29:32] *** Quits: morphevs (Adium@moz-C1F7EB20.cust.bluewin.ch) (Quit: Leaving.)
[00:29:52] <strcat> & is a reference! ;p
[00:29:54] *** Quits: tcr (tcr@moz-EAC95265.hfc.comcastbusiness.net) (Ping timeout)
[00:29:57] <strcat> rust itself agrees
[00:30:09] <strcat> rusti: let x = 5; let ref y = x; *y
[00:30:09] -rusti- 5
[00:30:10] <kmc> i go with owned box and owning pointer, myself
[00:30:21] <kmc> but as you've pointed out, there's no requirement for the compiler to make heap boxes for ~
[00:30:28] <kmc> in which case neither term is accurate ;P
[00:30:37] <strcat> well and malloc(0) is implementation defined
[00:30:43] *** Joins: morton (Mibbit@3BEB6B02.B0242E7E.689607DE.IP)
[00:30:44] <strcat> we actually need to deal with that
[00:30:48] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:31:00] <strcat> atm we rely on implementation defined behaviour to not return NULL (which will cause an abort)
[00:31:05] <strcat> not that people use ~() much
[00:31:17] <rntz> strcat: what do you mean by "there's no requirement for the compiler to make heap boxes for ~"?
[00:31:25] <rntz> do you just mean "it doesn't need to go on the heap, it could go somewhere else"?
[00:31:32] <strcat> if the object is as small as a ptr it could store it in-place
[00:31:38] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[00:31:48] <rntz> strcat: is that true even in the context of polymorphism?
[00:31:55] <cmr> could also do escape analysis and elide the allocation
[00:31:56] <strcat> rntz: yes
[00:32:08] <cmr> although llvm does that for us iirc?
[00:32:22] <rntz> cmr: optimizations can always result in changing the representation of things , if you can prove nowhere else sees it
[00:32:26] <rntz> the question is whether it can be done in general
[00:32:38] <strcat> an int is never larger than ~T
[00:32:39] <rntz> strcat: suppose I have a fn<A> foo(x: ~A) { .... *A ... }
[00:32:50] <bascule> lol @ http://tratt.net/laurie/blog/entries/how_can_c_programs_be_so_reliable
[00:32:55] <cmr> that does monomorphization so the compiler knows what type it is.
[00:32:57] <strcat> rntz: generics are done via monomorphization, it always knows the concrete type
[00:33:00] <rntz> I guess if you monomorphize foo, and produce different code for each time
[00:33:01] <rntz> ugh
[00:33:03] <rntz> ugh ugh ugh
[00:33:07] <strcat> if you mean trait objects
[00:33:17] <rntz> anyway, I need to leave
[00:33:18] <strcat> then afaict, the trait object only cares that it's no larger than a ptr
[00:33:18] <olsonjeffery> can HashMap be serialized?
[00:33:25] <olsonjeffery> would it even be feasible?
[00:33:28] <cmr> olsonjeffery: if the keys and values can, yes.
[00:33:31] <strcat> although I guess you have to be careful about how you pass it
[00:33:33] <cmr> it implements Encodable
[00:33:54] <olsonjeffery> ah, of course
[00:34:01] <olsonjeffery> the impl is in extra huh
[00:34:23] <cmr> Encodable is in extra.
[00:34:47] *** Quits: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca) (Quit: canhtak)
[00:35:17] <ChrisMorgan> bascule: "You expect C to be really unreliable. Well, actually it isn't. Except for when you do things wrong… which is easy… and then it's fiendishly difficult to fix it up… but it's surprisingly reliable!"
[00:37:54] *** Joins: baha (baha@CBFA8114.931E9888.7923FEFE.IP)
[00:39:14] *** Quits: nkoep (nik@moz-15EEC9C5.pool.mediaways.net) (Client exited)
[00:41:39] <mark_edward> ChrisMorgan, ping
[00:41:44] <ChrisMorgan> mark_edward: pong
[00:42:10] *** Quits: alan (alan@moz-FE02DD30.sat6.rackspace.com) (Ping timeout)
[00:42:12] <bascule> ChrisMorgan: lolol
[00:42:47] * bascule feels like this about concurrent (and particularly parallel concurrent) programs even in memory safe languages
[00:42:48] <mark_edward> i want to help to add cookie management to rust-http do you have any plans as to how do so? cookie management would make managing a lot of authorization, for example much easier
[00:44:13] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[00:44:43] *** Joins: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca)
[00:45:14] <ChrisMorgan> mark_edward: step one is to find the RFC, step two is to implement the header types. Step three is to realise that rust-http needs improvements so that it can cope with multiple headers with the same name (it can't at present, but it's valid for many headers). Step four is to fix that (for headers of type [T], push the new item/s onto the existing value). Step five is to finish off implementing the cookie header types.
[00:46:12] <ChrisMorgan> mark_edward: then you get to step six, which is making a nicer interface on top of that foundation.
[00:46:51] <ChrisMorgan> RFC 6265 (https://tools.ietf.org/html/rfc6265) looks to be the definitive one.
[00:47:39] *** Quits: morton (Mibbit@3BEB6B02.B0242E7E.689607DE.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:47:46] <mark_edward> what about this one? http://www.ietf.org/rfc/rfc2109.txt
[00:47:51] *** Joins: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP)
[00:48:31] <ChrisMorgan> mark_edward: superseded by RFC 2965 in October 2000.
[00:48:49] <mark_edward> ChrisMorgan, wont this require you to change your architecture? IE add a client struct? because right now, you've implemented a truly stateless HTTP thingy
[00:48:50] <ChrisMorgan> Then RFC 6265 was published in April 2011, reflecting real-world usage.
[00:49:16] <ChrisMorgan> mark_edward: rust-http must be truly stateless.
[00:49:27] <mark_edward> ChrisMorgan, but HTTP isn't
[00:49:44] <ChrisMorgan> Sure it is.
[00:50:05] <mark_edward> not really. i mean a big point of HTTP2.0 is to manage state in a less kludgy way
[00:50:18] <bascule> mark_edward: are you sure you don't want to build something like Mechanize on top of rust-http?
[00:50:20] <ChrisMorgan> Each request/response pair is *entirely* self-contained.
[00:50:34] <bascule> and HTTP is stateless
[00:50:37] <aatch> HTTP is a stateless protocol.
[00:50:41] <bascule> HTTP 2.0 is a different protocol ;)
[00:50:57] <mark_edward> HTTP usage isn't. i mean you need somewhere to keep cookies, certs, etc
[00:51:04] <ChrisMorgan> mark_edward: session handling and cookie persistence do not belong in rust-http.
[00:51:09] <bascule> mark_edward: then you probably want something like Mechanize
[00:51:19] <SiegeLord> Incidentally... has the C library TLS story changed recently?
[00:51:32] <bascule> SiegeLord: there's PolarSSL, except it's GPL :(
[00:51:48] <ChrisMorgan> rust-http is an implementation of HTTP. It is deliberately low-level—possibly not sufficiently low-level at present, actually.
[00:51:52] <mark_edward> ChrisMorgan, but every langauge standard lib i know has http clients holding state
[00:51:57] <bascule> no?
[00:52:02] <bascule> Ruby's doesn't
[00:52:11] <ChrisMorgan> mark_edward: that will belong in a higher layer.
[00:52:13] <mark_edward> java, D, python, C#
[00:52:23] <bascule> not that it should be used as a glowing example of how HTTP libraries should work
[00:52:28] <aatch> I've never seen that in lower-level bindings.
[00:52:36] *** Quits: dbaupp (Thunderbir@4F13D67D.D5A1DCF.37681C44.IP) (Ping timeout)
[00:52:37] <bascule> which Python library?
[00:52:38] <cmr> mark_edward: make an http-client library that builds on top of rust-http :D
[00:52:39] <bascule> httplib?
[00:52:43] <cmr> That handles redirects and stuff
[00:52:44] *** Quits: smodo (ford_p@moz-CCE57F2F.eblcom.ch) (Client exited)
[00:52:54] <sam113101> and session cookies
[00:52:57] <cmr> (Servo needs one, for example)_
[00:53:05] <bascule> afaik Python httplib treats cookies like any other header
[00:53:14] <bascule> and I don't know what other "state" you're talking about besides cookies
[00:53:28] <aatch> But sessions aren't part of the protocol itself. Even cookies are just standandised headers.
[00:53:42] <strcat> python has http.cookiejar ;p
[00:53:51] <bascule> adding native session support to HTTP 2.0 would've been awesome
[00:54:00] <strcat> cookies aren't very good sessions due to CSRF attacks
[00:54:02] <bascule> alas
[00:54:09] <bascule> heh
[00:54:24] <aatch> strcat, meh, easy enough to prevent.
[00:54:25] <strcat> you still need a unique session id in each form, or for each javascript request
[00:54:33] <bascule> aatch: lol right
[00:54:34] <strcat> aatch: yeah, but most people don't know and/or don't care
[00:54:42] <bascule> aatch: then you get things like BREACH :P
[00:54:47] <ChrisMorgan> HTTP/2.0 will be interesting to support. I've got a few ideas for it (I plan on rust-http supporting both versions in the one library).
[00:54:51] * aatch is a security-conscous web-dev
[00:54:56] * ChrisMorgan too
[00:55:07] * bascule pro infosec
[00:55:12] * cmr tries to not think about webdev anymore
[00:55:12] <bascule> lol
[00:55:17] <strcat> aatch: you're a developer masquerading as a web dev then
[00:55:19] <strcat> ;p
[00:55:25] <aatch> strcat, precisely.
[00:55:29] * ChrisMorgan too
[00:55:55] <bascule> c'mon now, web developers are awesome and can write OS kernels
[00:55:57] <aatch> Given that I spent half my week this week writing C++, I don't think web developer is quite accurate enough.
[00:55:58] <bascule> just look at NodeOS
[00:56:37] *** Joins: dbaupp (Thunderbir@4F13D67D.D5A1DCF.37681C44.IP)
[00:56:53] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[00:56:54] <ChrisMorgan> bascule: … well played.
[00:58:27] *** Joins: jstevans1 (Instantbir@88BCD3E6.599F34EC.DDE5D3F6.IP)
[00:59:04] <mark_edward> so how will you do cookies and keep things stateless?
[00:59:21] *** Quits: jstevans (Instantbir@88BCD3E6.599F34EC.DDE5D3F6.IP) (Ping timeout)
[00:59:43] <cmr> mark_edward: rust-http only needs to handle headers, an abstraction over it can handle cookies etc.
[00:59:46] <strcat> stateless on the server side
[00:59:57] <strcat> cookies and the anti-CSRF token are for the client to deal with
[01:00:15] <strcat> you only need a MAC to make that system
[01:00:41] <aatch> At any rate, being stateless on the server side is actually useful for scaling.
[01:00:52] *** Joins: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net)
[01:00:57] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[01:01:02] *** nrc|lunch is now known as nrc
[01:01:12] <aatch> Since you can just throw requests where ever you want.
[01:02:59] *** Quits: jstevans1 (Instantbir@88BCD3E6.599F34EC.DDE5D3F6.IP) (Ping timeout)
[01:04:52] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[01:06:01] <ChrisMorgan> mark_edward: does all that make sense?
[01:06:27] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[01:06:38] *** Joins: miloshadzic (miloshadzi@59612C1E.AEAC8983.ADC9B595.IP)
[01:07:13] *** Quits: aatch (James@moz-B437F499.pocketrent.com) (Client exited)
[01:07:19] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[01:07:28] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[01:12:01] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[01:12:59] *** Joins: jesse99 (jesse99@moz-8B1E0C5D.hsd1.wa.comcast.net)
[01:14:57] *** jorendorff is now known as jorendorff_away
[01:15:31] *** Quits: ktt3ja (Mibbit@moz-D69B60E4.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[01:16:05] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[01:17:15] *** Joins: bletch (Mibbit@CF995C49.87CA334A.DDE5D3F6.IP)
[01:18:27] *** Quits: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca) (Quit: canhtak)
[01:19:27] <bletch> i have a line of code: io::stdin().read_line(). it worked fine until i tried adding the library use std::rt::io::*. now it wont compile and gives an error saying std::io doesn't implement in scope read_line()
[01:19:42] <bletch> whats causing this? :/
[01:21:07] <cmr> bletch: 0.8?
[01:21:29] <bletch> yes
[01:24:04] <ChrisMorgan> bletch: std::io::Reader is in scope automatically, and it defines read_line(), but you're shadowing it with std::rt::io::Reader.
[01:24:51] <ChrisMorgan> So you can either avoid the glob import or override it once again with `use std::rt::io::*; use std::io::Reader;`
[01:28:07] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Connection reset by peer)
[01:28:18] <bletch> ChrisMorgan: Still get an error saying readLine isn't implemented
[01:28:44] <ChrisMorgan> bletch: sorry, it's actually ReaderUtil.
[01:28:49] <ChrisMorgan> http://static.rust-lang.org/doc/0.8/std/io/trait.ReaderUtil.html
[01:29:02] *** Joins: tcr (tcr@moz-EAC95265.hfc.comcastbusiness.net)
[01:29:39] * ChrisMorgan briefly forgot the time before significant use of default methods
[01:30:59] <bletch> ChrisMorgan: that makes sense. thanks its working now
[01:32:52] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[01:33:18] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Ping timeout)
[01:34:35] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[01:35:08] *** Quits: celeron55 (perttu@moz-D552F2C7.netplaza.fi) (Ping timeout)
[01:36:24] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[01:36:47] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[01:37:02] * pcwalton removes Cell from the library
[01:37:08] <ChrisMorgan> Yay!
[01:37:25] *** Joins: celeron55 (perttu@moz-D552F2C7.netplaza.fi)
[01:40:09] <ChrisMorgan> mark_edward: for step two, you'll start with something like `struct SetCookie { cookie: Cookie, expires: Option<Tm>, max_age: Option<DeltaSeconds>, domain: Option<~str>, path: Option<~str>, secure: Option<bool>, http_only: Option<bool>, extensions: ~[~str] }` and `struct Cookie { name: ~str, value: ~str }`. Then the parsers and formatters need writing.
[01:40:10] *** Quits: carter (carter@moz-F3C2A2D8.nycmny.fios.verizon.net) (Quit: Textual IRC Client: www.textualapp.com)
[01:40:18] *** Quits: markwash (mwashenber@moz-60E5DD0C.staticcust.wsteleport.net) (Quit: markwash)
[01:40:46] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[01:40:59] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[01:41:41] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[01:42:31] <sfackler> pcwalton: is something else replacing it? if not, should RefCell be renamed to Cell?
[01:42:38] <pcwalton> sfackler: there will be a new Cell
[01:42:47] <pcwalton> this new Cell requires an up-and-coming POD bound
[01:42:51] *** Joins: dr_bibble (Mibbit@6E18729A.80E526F4.57F5F11F.IP)
[01:42:51] <pcwalton> and will have .get() and .set() methods
[01:42:56] <pcwalton> and will have zero overhead
[01:43:06] <sfackler> to avoid the pain of dealing with the borrowing in refcell?
[01:43:08] <pcwalton> i.e. like RefCell, but without borrowability.
[01:43:17] <pcwalton> it's for use when you just have an int or a point or a rect or something.
[01:43:33] <pcwalton> I found that most fields in aliasable mutable data in Servo and q3.rs were numbers
[01:43:38] <pcwalton> and most of the rest were HashMaps or vectors.
[01:43:48] *** Quits: dr_bibble (Mibbit@6E18729A.80E526F4.57F5F11F.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:43:59] <pcwalton> so Cell will be our solution for aliasable mutable data
[01:44:03] <pcwalton> the Cell/RefCell duo
[01:44:45] <sfackler> cool
[01:44:47] <pcwalton> Cell + Rc<> basically gives you Java
[01:44:51] <pcwalton> so if you want it, you can get it
[01:47:38] * ChrisMorgan waits for someone to write a JVM in Rust
[01:47:47] <mark_edward> ChrisMorgan,is handling SSL at the scope of rust-http?
[01:47:55] <cmr> I plan on writing a JS interp, to one-up go.
[01:48:02] <cmr> that's why I'm working through "let's write a compiler!"
[01:48:07] <cmr> I've never done any parsing etc.
[01:48:15] <ChrisMorgan> mark_edward: yes
[01:48:18] *** Quits: bletch (Mibbit@CF995C49.87CA334A.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:48:22] <mark_edward> cmr, two-up them and implement Node.js
[01:48:28] <ChrisMorgan> (c.f. https://github.com/chris-morgan/rust-http/pull/31)
[01:48:39] <mark_edward> cmr, s/Node.js/v8/g
[01:48:59] <mark_edward> cmr, then you'll one-up C++
[01:49:11] <cmr> I'm not crazy enough to write a JIT
[01:49:16] <cmr> well, not for JS
[01:49:33] <mark_edward> what about for Rust? Rust in the browser!
[01:49:48] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[01:50:24] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[01:51:30] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[01:51:30] *** ChanServ sets mode: +ao brson brson
[01:52:27] <doomlord_> rust on the jvm, "just". although i'm not sure what the point would be.
[01:52:34] <mark_edward> i wish D didn't havenull pointers. compared to rust, it doesn't seem to be that big an improvement over C++. and the required GC :(, 
[01:52:45] <mark_edward> doomlord_, enhanced portability!
[01:53:00] <doomlord_> ok android apps
[01:53:04] <mark_edward> enhanced inverse throughput!
[01:53:16] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[01:53:48] <diverse> or why not just write rust code for the JNI in android?
[01:53:58] <doomlord_> yeah that would be too easy
[01:54:05] <mark_edward> i've never heard anything good about the JNI
[01:54:20] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Ping timeout)
[01:54:22] <doomlord_> android NDK is an afterthought unfortunately
[01:55:43] <bascule> there's also JNA
[01:55:45] *** Joins: brson (brson@6A848D32.C1B840DD.76F66111.IP)
[01:55:45] *** ChanServ sets mode: +ao brson brson
[01:55:53] <bascule> it's closer to a real FFI
[01:56:11] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[01:56:11] <bascule> JNI is crap
[01:56:17] <cmr> "Java Native Access (JNA) has moved to Github." with no link
[01:56:18] <cmr> Thanks
[01:56:23] <bascule> lolol
[01:56:23] <cmr> or wait!
[01:56:25] <cmr> it is a link
[01:56:30] <cmr> but it's the same color as the rest of the text
[01:57:43] *** Joins: ross (ross@moz-5EA04060.br.br.cox.net)
[01:58:15] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[01:59:18] *** Quits: tcr (tcr@moz-EAC95265.hfc.comcastbusiness.net) (Ping timeout)
[02:00:11] <o11c> stupid CSS
[02:00:31] <ezyang> So, does Rust's vim mode have the thing where I can get errors shown to me in editor? 
[02:00:37] <mark_edward> ChrisMorgan, i think you need to update a bit to work with master. Path::new -> Path::init
[02:00:40] <cmr> ezyang, no, but syntastic has it.
[02:00:53] <cmr> mark_edward, that change is either being reverted or has been reverted.
[02:01:14] <mark_edward> dang
[02:01:25] *** jorendorff_away is now known as jorendorff
[02:01:59] <mark_edward> that was a pointless change. the whole placement should have been decided before changes were made in prep for it
[02:02:01] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[02:02:21] <strcat> cmr: the best kind of link
[02:02:33] <strcat> now everyone can be color blind!
[02:02:50] <strcat> need more green on green text
[02:02:56] <SiegeLord> Links should be blue, with visited links being darker blue
[02:03:12] * SiegeLord glares at rustdoc
[02:03:53] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[02:04:14] <strcat> it should just tag random links as visited with the history API
[02:05:03] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[02:07:00] <diverse> mark_edward: well, no one thought of the term `box` as an operator until we thought of it, that's why the change to *::init() happened, because no one thought of it before
[02:07:13] <mark_edward> diverse, that's true
[02:07:23] <mark_edward> i kinda liked the  proposal that used ~ though
[02:07:26] *** Joins: tikue (tkuehn@moz-DB51A23.pitbpa.fios.verizon.net)
[02:07:28] <mark_edward> ~ is stylish and svelte
[02:07:33] *** Quits: tikue (tkuehn@moz-DB51A23.pitbpa.fios.verizon.net) (Quit: tikue)
[02:08:35] *** Quits: paulproteus (quassel@199.199.210.158) (Ping timeout)
[02:08:47] <pcwalton> acrichto: I know it needs a rebase but r? https://github.com/mozilla/rust/pull/10791
[02:08:50] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[02:10:33] *** Joins: paulproteus (quassel@458FE134.3EC36C88.CBDCF1DC.IP)
[02:11:07] *** Joins: tikue (tkuehn@moz-DB51A23.pitbpa.fios.verizon.net)
[02:11:37] *** Joins: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net)
[02:11:49] <tikue> is there a way to make this compile: `let a = 1; let f = |b| |c| a + b + c; println!("{}", f(2)(3));`
[02:11:56] *** Joins: mib_g6zsbd (Mibbit@moz-AC46A21B.protectedgroup.com)
[02:11:58] <antifuchs> hi Rust friends - I'm trying to port a 0.8 program over to HEAD, and this function is failing to compile: https://gist.github.com/antifuchs/7817478
[02:12:04] *** Quits: mib_g6zsbd (Mibbit@moz-AC46A21B.protectedgroup.com) (User has been banned from Mozilla (no spamming here))
[02:12:07] <antifuchs> the error is "tmux_min_attacher.rs:29:26: 39:5 error: last argument in `do` call has non-procedure type: |*i8| -> <V2>"
[02:12:22] <antifuchs> (it complains about the with_c_str() arg, apparently
[02:12:24] <tikue> antifuchs: `do` doesn't work with stack closures anymore, so you'll have to remote it
[02:12:25] <tikue> remove
[02:12:27] <antifuchs> oho
[02:12:29] *** Joins: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net)
[02:12:29] <antifuchs> thanks (:
[02:12:34] <cmr> antifuchs, program.with_c_str(|c_program| { .... } )
[02:12:48] <klutzy> antifuchs: #[fixed_stack_segment] is gone, so you are free to remove the line
[02:13:13] *** Joins: lfox (lfox@BA4613C0.F89021C9.ECED8BE3.IP)
[02:13:23] *** Quits: gandalf (zbraniecki@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: My lid went down)
[02:13:51] <antifuchs> yayyyyy, it compiles
[02:13:55] <antifuchs> thanks cmr & klutzy (:
[02:14:27] <antifuchs> huh, where did "rust test" go? (:
[02:14:40] <kimundi> antifuchs: The rust tool got removed
[02:14:47] <antifuchs> (I probably should be following the "this week in rust" blog more closely)
[02:14:50] <diverse> antifuchs: that is also gone
[02:14:58] <antifuchs> oh. oops (:
[02:16:18] *** Joins: future_horizons (Mibbit@moz-61717F7A.bitstream.orcon.net.nz)
[02:16:18] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Connection reset by peer)
[02:16:26] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[02:16:39] <diverse> and yes read the TWiR, cmr does a good job summarizing the changes
[02:16:59] <future_horizons> Whats the simplest way to parse a single XML element of a small data file. Can you give me the string functions please.
[02:17:05] <ezyang> huh, why does syntastic think that the filetype is hercules 
[02:17:32] <antifuchs> diverse: ohhhh, phew, I thought you meant TWiR is gone also
[02:17:40] <antifuchs> much relief
[02:17:42] <cmr> future_horizons, parsing a single XML element means a full XML parser.
[02:18:00] <cmr> What would "string functions" mean here, anyway?
[02:18:23] *** Joins: z0w0 (zack@moz-29D63291.lnse2.cha.bigpond.net.au)
[02:18:49] <diverse> antifuchs: no, I meant the "rust" utility
[02:18:56] <antifuchs> ah, hah, cool (:
[02:19:06] <antifuchs> thanks again - my little tool compiles again (:
[02:19:37] <future_horizons> cmr: I just want to find "<Start>" and get whats between that and </Start>   ---- in a file that contains "<Start>Content</Start> Just a hack
[02:20:15] *** Quits: dbaupp (Thunderbir@4F13D67D.D5A1DCF.37681C44.IP) (Ping timeout)
[02:20:15] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[02:20:41] *** Quits: tikue (tkuehn@moz-DB51A23.pitbpa.fios.verizon.net) (Quit: tikue)
[02:20:47] *** Quits: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Client exited)
[02:21:53] <cmr> future_horizons, let (start_idx, end_idx) = (string.find_str("<Start>").unwrap(), string.find_str("</Start>").unwrap()); string.slice(start_idx + 8, end_idx)
[02:22:15] <future_horizons> But I'm having problems finding the correct string functions as they seem to find Char's and not strings, etc 
[02:22:43] <future_horizons> cmr: Thanks. I'll try that.
[02:25:09] <ChrisMorgan> mark_edward: in fact, the use of Path::new is because I reverted the change after the same reversion landed upstream. Rebuild Rust and it'll work.
[02:25:23] *** Joins: dbaupp (Thunderbir@4F13D67D.D5A1DCF.37681C44.IP)
[02:27:01] *** Quits: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP) (Client exited)
[02:29:21] *** Joins: tcr (tcr@moz-EAC95265.hfc.comcastbusiness.net)
[02:29:29] *** Quits: justinstoller (justinstol@EE389F81.B7963FC6.3E8C195A.IP) (Client exited)
[02:32:52] *** Quits: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net) (Client exited)
[02:34:07] *** Joins: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net)
[02:35:51] *** jorendorff is now known as jorendorff_away
[02:36:05] *** Quits: miloshadzic (miloshadzi@59612C1E.AEAC8983.ADC9B595.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:39:30] *** Quits: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo_)
[02:39:47] *** Quits: z0w0 (zack@moz-29D63291.lnse2.cha.bigpond.net.au) (Client exited)
[02:41:42] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[02:42:11] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[02:44:46] *** Quits: dbaupp (Thunderbir@4F13D67D.D5A1DCF.37681C44.IP) (Ping timeout)
[02:46:00] *** Joins: miloshadzic (miloshadzi@59612C1E.AEAC8983.ADC9B595.IP)
[02:52:52] *** Quits: miloshadzic (miloshadzi@59612C1E.AEAC8983.ADC9B595.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:52:58] *** Quits: JanC (janc@moz-F2C90C96.dsl.scarlet.be) (Ping timeout)
[02:54:04] *** jorendorff_away is now known as jorendorff
[02:57:26] *** Quits: lfox (lfox@BA4613C0.F89021C9.ECED8BE3.IP) (Quit: ZZZzzz…)
[02:59:01] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[03:01:36] <future_horizons> http://mibpaste.com/X2a8gb  help with returning value. xml element content parser - hack
[03:03:24] *** Joins: telotortium (rmi1@moz-C8F8CE6.hsd1.ca.comcast.net)
[03:04:07] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Ping timeout)
[03:04:14] *** Quits: Earnestly (earnest@88884C6.A3735F9C.39C00A7A.IP) (Ping timeout)
[03:05:02] *** jorendorff is now known as jorendorff_away
[03:06:22] *** Joins: quaddle (Mibbit@CF995C49.87CA334A.DDE5D3F6.IP)
[03:06:44] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[03:07:09] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[03:07:35] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[03:07:40] <quaddle> i have two tasks I want to run concurrently. one task is looping waiting for user input. the other task is looping waiting for the input to perform a task. however, the program gets stuck in the loop of one of the tasks
[03:08:05] <quaddle> is there a more elegant way to do this simultaneously without dealing with schedule + timeouts?
[03:08:10] <ChrisMorgan> future_horizons: there are quite a few problems with that, really.
[03:08:39] *** Joins: JanC (janc@moz-92DADE21.dsl.scarlet.be)
[03:09:00] <ChrisMorgan> But the most immediate problem is that you are claiming to return an owned string, but are then returning an owned pointer to a string slice.
[03:09:48] <ezyang> Suppose I have a singly linked list of owned pointers. What is the standard idiom for iterating over this list? 
[03:09:53] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[03:10:24] <ezyang> (I want to remove one of the items from this list) 
[03:10:27] <ChrisMorgan> future_horizons: you're probably best to make it return a slice, which would just entail specifying an appropriate lifetime and dropping the ~ bit in the return statement. `pub fn get_xml_element_content<'a>(xml_content: &'a str, xml_element: &str ) -> &'a str` is the signature you'll want
[03:10:32] <cmr> ezyang: implement an Iterator for it.
[03:10:48] <benh> cmr: that'll probably not work for removing an element?
[03:10:58] <future_horizons> ChrisMorgan: Thanks 'll try that.
[03:11:05] <cmr> benh: it doesn't work for removing an element on anything, not with iterators.
[03:11:13] <ChrisMorgan> Sure it will, so long as you're giving mutable references.
[03:11:35] <ChrisMorgan> Sorry, no, that won't work, will it.
[03:11:35] <benh> I guess it doesn't freeze the whole list :3
[03:11:55] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Ping timeout)
[03:11:56] <ChrisMorgan> (& &mut Node is still immutable.)
[03:12:27] *** Quits: kimundi (kimundi@moz-DE2CDAC7.dip0.t-ipconnect.de) (Ping timeout)
[03:13:03] <ezyang> Hm. Sounds like a blog post about how to do singly linked lists with ownership pointers would be interesting. 
[03:13:30] <ezyang> here's one such blog post: http://tim.dreamwidth.org/1784423.html 
[03:13:46] <ezyang> though I don't know if that's actually how you want to go about doing it 
[03:13:48] <cmr> you can remove an element, but not using Iterator, not for linked lists.
[03:13:57] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[03:14:07] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[03:14:09] <ezyang> ok, so I should just manually iterate through the list? 
[03:14:11] <cmr> ezyang: to iterate over it, you can just use `loop` and a loacl :)
[03:14:13] <cmr> yes
[03:14:40] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Quit: )
[03:14:58] <ezyang> "Great, now I get to write C again!" 
[03:15:01] * ezyang sighs 
[03:15:11] <ezyang> Well, at least the type system is helping out now ;) 
[03:15:27] <cmr> well I mean it can't solve the fundamental problems of linked lists for you
[03:15:46] *** Joins: kimundi (kimundi@moz-4C7B3B00.dip0.t-ipconnect.de)
[03:15:54] <ezyang> I'm not sure what I expect it to do for me 
[03:15:56] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[03:16:07] <ezyang> Maybe there's some LinkedList interface, which gives you iterators as well as manual iteration/removal, etc 
[03:16:41] <ezyang> since linked lists are soooo common 
[03:17:31] <ezyang> And, at least, C programmers aren't used to being able to have a linked list generic they can use. And even C++ programmers generally just code it up themselves 
[03:17:45] *** Joins: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com)
[03:17:54] <cmr> We do have a linked list type, extra::dlist
[03:18:29] <ezyang> yeah, and I can't use it, because of memory layout considerations :) 
[03:18:41] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[03:20:14] *** kimundi is now known as zz_kimundi
[03:20:14] <ezyang> hmm, there are no good ole fashioned for loops, are there 
[03:20:33] *** Joins: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net)
[03:20:40] <kvark> Hi! I was rather impressed by pcwalton's usage of code editor. I assume that was vim, was it?
[03:21:09] <cmr> No, never was.
[03:21:16] <kvark> what was it then?
[03:21:16] <cmr> kvark: (wasn't to you)
[03:21:22] <kvark> doh
[03:21:37] <ezyang> it is too bad iterators cannot be made to work for this case 
[03:21:47] <erickt1> kvark: pcwalton's presentation? that was vim
[03:21:49] <cmr> ezyang: actually, they could work for this case.
[03:21:56] <ezyang> oh? 
[03:22:15] <cmr> Yeah! if the iterator yields &mut Node<T>
[03:22:18] <erickt1> and speaking of presentations, I just announced the next Bay Area Meetup in December: http://www.meetup.com/Rust-Bay-Area/events/153010612/
[03:22:37] <cmr> actually no
[03:22:39] <cmr> nvm
[03:22:43] <cmr> actualy wait
[03:22:44] <kvark> erickt1: (googled a bit with no result) what do I do with rust/src/etc/vim to get it installed?
[03:22:45] <ezyang> lol 
[03:22:45] <cmr> yes
[03:22:53] <ezyang> tell me more! 
[03:22:56] <cmr> sec
[03:23:04] <cmr> going to sketch it up quickly :p
[03:23:20] <ezyang> I guess I'll go and implementa	conventional iterator interface for now 
[03:23:35] <klutzy> I've jsut got a html page which prints "Hello world" at debug console, with rust-core and emscripten
[03:23:51] <benh> my vimrc has "set runtimepath+=/home/blah/blah/blah/rust/src/etc/vim" in it and it seems to do something, but it might not look like pcwalton's setup, dunno
[03:23:54] <ssbr> klutzy: Nice!
[03:23:59] <erickt1> kvark: copy or symlink rust/src/etc/vim/syntax/rust.vim into ~/.vim/syntax. Do the same with rust/src/etc/vim/indent.vim into ~/.vim/indent
[03:24:07] *** Quits: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net) (Ping timeout)
[03:24:14] <erickt1> kvark: also add `autocmd FileType rust set tabstop=4|set shiftwidth=4|set expandtab` to ~/.vimrc
[03:24:20] <ChrisMorgan> cmr: but the iterator will yield & &mut Node<T>, right? Which is then immutable?
[03:24:45] <cmr> ChrisMorgan: no it won't
[03:24:54] <kvark> erickt1, benh: thanks, I'll try that
[03:24:58] <cmr> itwould be Iterator<A, &mut Node<A>>
[03:25:32] * ChrisMorgan was thinking fn next() -> Option<&A> for some reason
[03:25:51] <ChrisMorgan> I said &mut Node earlier, but then got misled by thinking it would end up & &mut A...
[03:26:37] <ezyang> Simple question: given an Option<~A> I want to make an iterator from it. What's the conventional name for such a function? 
[03:26:57] <ezyang> (is there an interface, etc) 
[03:27:01] <ChrisMorgan> ezyang: what will the iterator do? Yield zero or one value?
[03:27:09] *** zz_kimundi is now known as kimundi
[03:27:12] <ezyang> oh, sorry, A is a linked list 
[03:27:25] <ezyang> so I have a possibly null pointer to the linked list 
[03:27:34] <kvark> erickt: just wondering if tabs-as-spaces is an established convention for rust, or is that just your recommendation
[03:27:37] <ezyang> if it is null, the iterator is empty, else the iterator yields the elemnt and then recurses 
[03:27:43] <ChrisMorgan> ezyang: `iter()` is the normal method name.
[03:27:59] *** Joins: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net)
[03:28:00] <kvark> erickt1: just wondering if tabs-as-spaces is an established convention for rust, or is that just your recommendation
[03:28:04] <ezyang> OK. But I note, it can't be a method, because I need it attached to Option<~T> and not T? 
[03:28:08] <ChrisMorgan> Yes, it's established.
[03:28:23] <kvark> ok...
[03:28:54] <ChrisMorgan> ezyang: huh? Option<~T> shouldn't be your linked list type; what is/
[03:29:00] <ChrisMorgan> s+/+?+
[03:29:23] <ezyang> Well, I don't have any "container" for the linked lists 
[03:29:53] <ChrisMorgan> cmr: we should also remember that even if one were not yielding a &mut Node<A>, one still has the option of implementing other methods on the iterator struct which do mutate.
[03:29:56] <ezyang> I guess I could make a mini-struct to be the Option<~T> pointer 
[03:30:10] <ChrisMorgan> ezyang: I suggest you make a container for it. It'll save you a lot of effort and confusion later.
[03:30:26] <ezyang> OK. I forgot that in Rust, this container doesn't actually have to impose any overhead 
[03:31:12] <SiegeLord> test.rs:8:1: 8:5 error: internal compiler error: Cannot relate bound region: ReLateBound(6, BrNamed(syntax::ast::DefId{crate: 0u32, node: 27u32}, l)) <= ReStatic o_O
[03:31:18] <SiegeLord> Never seen that one before
[03:32:07] <kvark> erickt1: hmm, I copied syntax and indent folders to ~/.vim; Opening anything with either vim or gvim doesn't highlight syntax...
[03:32:34] <kvark> (working under ArchLinux, gvim package is installed)
[03:32:39] <SiegeLord> maybe I'm doing ti wrong... I want to make a function that takes an iterator of strings
[03:33:02] *** Quits: doomlord_ (servitor@moz-D40D68D6.range86-184.btcentralplus.com) (Connection reset by peer)
[03:33:10] <SiegeLord> Iterator<&'l str> doesn't quite work, and in fact I'm not sure how one'd use it anyway
[03:33:13] <erickt1> kvark: try adding `syntax on`, `filetype indent on`, and `filetype plugin on` in your .vimrc
[03:34:56] <kvark> erickt1: that helped. I can now see brakets and comments highlighted. It doesn't seem to be any close to pcwaltons rich colorful screen
[03:35:42] <erickt1> hrm...
[03:35:57] <benh> Can you try :setf rust in your vim session just to be sure :3
[03:36:14] <ezyang> Man, I feel kind of glad that rust has macros 
[03:36:28] <kvark> benh: that did it, thanks!
[03:36:46] <kvark> benh,erickt1: is there a way to make it automatic for ".rs"?
[03:36:53] <erickt1> kvark: this is my .vimrc if that helps https://gist.github.com/erickt/7818163
[03:36:55] <benh> yeah, but I'm surprised that's not already happening
[03:37:01] <kvark> thanks!
[03:37:17] <erickt1> kvark: this line should do it `autocmd FileType rust set tabstop=4|set shiftwidth=4|set expandtab`
[03:37:41] <benh> an invocation something like autocmd BufNewFile,BufRead *.rust setf rust maybe
[03:38:16] <kvark> erickt1: I do have this line....
[03:38:17] <benh> that's already in rust/src/etc/vim/ftdetect/rust.vim tho
[03:38:30] <kvark> I didn't copy ftdetect
[03:38:35] <kvark> where does it go?
[03:38:38] <erickt1> oh yeah! i forgot about ftdetect
[03:38:44] <erickt1> ~/.vvim/ftdetect :)
[03:39:02] <benh> kvark: I didn't copy anythingand just have set runtimepath+=/home/blah/blah/rust/src/etc/vim in my .vimrc
[03:39:34] <SiegeLord> I feel like what I want to do requires a closure... kind of like |cb| iter.map(|x| cb(x))
[03:40:23] <kvark> benh, erickt1: ok, I got everything sorted out now. Thanks a lot for help! I'm going to take off to sleep. Good night! :)
[03:40:34] <erickt1> great! gnight
[03:40:40] <benh> good night and have fun with the pretty colors tomorrow :)
[03:40:44] *** Quits: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com) (Quit: http://www.mibbit.com ajax IRC Client)
[03:41:20] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[03:41:41] <ezyang> heh, it's too bad question marks are not valid in identifiers 8) 
[03:41:55] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[03:42:35] <SiegeLord> Hah, in fact... I think what I want is an internal iterator
[03:42:44] <SiegeLord> Never thought I'd have to use one
[03:43:12] <erickt1> SiegeLord: ICEs are never the users fault :)
[03:43:31] <erickt1> SiegeLord: are you on HEAD?
[03:43:37] <SiegeLord> Well, it encourages me to try something better
[03:43:44] <SiegeLord> That way wouldn't have worked anyway
[03:43:53] <erickt1> SiegeLord: nmatsakis released at least one fix for lifetime ICEs today
[03:43:54] <SiegeLord> I have no idea how you'd use a Iterator<&'l str>
[03:45:17] <erickt1> SiegeLord: most .iter() iterators return a Iterator<&T> iterator
[03:46:06] <erickt1> rusti: for x in [1,2,3].iter() { println("{:?}", x) }
[03:46:07] -rusti- <anon>:9:35: 9:55 error: this function takes 1 parameter but 2 parameters were supplied
[03:46:08] -rusti- <anon>:9          for x in [1,2,3].iter() { println("{:?}", x) }
[03:46:08] -rusti-                                             ^~~~~~~~~~~~~~~~~~~~
[03:46:08] -rusti- error: aborting due to previous error
[03:46:08] -rusti- application terminated with error code 101
[03:46:21] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[03:46:40] <erickt1> hrm
[03:46:48] <benh> By the way, did anything ever come off the "iterators yielding mutable references" blog post? Did we commit to HKT?
[03:47:09] <ezyang> HKT? 
[03:47:14] <benh> Higher-kinded types
[03:47:15] <cmr> higher kinded types
[03:47:24] <ezyang> +1 from me! 
[03:47:24] <benh> http://smallcultfollowing.com/babysteps/blog/2013/10/24/iterators-yielding-mutable-references/ is the post in question
[03:47:46] <benh> I think we're all kinda fans of the idea but no one wants to promise that it happens before 1.0
[03:48:18] <cmr> I have no idea what they are or what htey mean :p
[03:48:36] <benh> template template parameters, I think :D
[03:48:38] <SiegeLord> erickt1: But consider a function taking Iterator<&int>... where will you find an iterator like that?
[03:48:45] <erickt1> rusti: let xs = [1,2,3]; for x in xs.iter() { println("{:?}",x); }
[03:48:46] -rusti- <anon>:9:48: 9:66 error: this function takes 1 parameter but 2 parameters were supplied
[03:48:46] -rusti- <anon>:9          let xs = [1,2,3]; for x in xs.iter() { println("{:?}",x); }
[03:48:46] -rusti-                                                          ^~~~~~~~~~~~~~~~~~
[03:48:46] -rusti- error: aborting due to previous error
[03:48:46] <SiegeLord> [1, 2, 3].iter() is about it
[03:48:47] -rusti- application terminated with error code 101
[03:48:56] <SiegeLord> You can't get such a thing from a map
[03:49:07] <brson> what's the best way to create a survey for free, without signing up for something
[03:49:12] <erickt1> gar, silly rusti
[03:49:13] <SiegeLord> Or anything else that's intersting
[03:49:22] <erickt1> brson: you could use google docs
[03:49:26] <cmr> brson: surveymonkey or google docs?
[03:49:51] <benh> I suspect there's going to be some amount of signing up involved if you want the survey results afterwards
[03:50:47] <erickt1> SiegeLord: well, you could get one from a map if you do a `hashmap.iter().map(|(_,v)| v)` :)
[03:50:52] <benh> surveymonkey would have been my first idea too :>
[03:51:08] <ezyang> hm, getting these lifetimes for the vanilla iterator is kind of tricky 
[03:51:08] <cmr> surveymonkey is really nice
[03:51:24] <brson> i'll just sign up for surveymonkey
[03:51:34] <SiegeLord> Here's what I came up with: https://gist.github.com/SiegeLord/7818287
[03:51:51] <SiegeLord> I can't quite figure out how to express that as an Iterator, and I think it's impossible
[03:53:00] *** Quits: jvshahid (jvshahid@moz-A8634D22.public.wayport.net) (Ping timeout)
[03:53:53] <SiegeLord> I have to say, for all this allergy towards sigils, the &fn(A)->B to |A|->B change really made things hard to read :P
[03:54:26] <mark_edward> whatever happened to that datetime library
[03:54:28] *** Quits: Addle (quassel@93529591.BA907378.971E19F6.IP) (Ping timeout)
[03:54:32] <mark_edward> SiegeLord, i think the new thing is cleaner
[03:55:27] <SiegeLord> It doesn't even parse quite right, I think
[03:55:38] <SiegeLord> ||a|| is ambiguous
[03:55:40] <cmr> ezyang: I think https://gist.github.com/cmr/7818328 does it
[03:55:49] <cmr> SiegeLord: not in types it isn't
[03:56:10] <SiegeLord> It currently parses as || followed by a||
[03:56:16] *** Joins: Addle (quassel@moz-67A92E8A.cable.teksavvy.com)
[03:56:18] <ezyang> oh snap! 
[03:56:19] <SiegeLord> Instead of |A| where A is |a|
[03:56:34] <SiegeLord> Have to disambiguate by doing this: |a:|a||
[03:56:36] <antifuchs> hah, I think I'm running into array storage size issues (:
[03:56:41] <antifuchs> words.rs:3:6: 210691:5 error: mismatched types: expected `~[~str]` but found `[~str, .. 210687]` ([] storage differs: expected ~ but found 210687)
[03:56:43] <ezyang> cmr: 'unsafe', reaaally? :o 
[03:57:00] <cmr> SiegeLord: that's unfortunate.
[03:57:09] <antifuchs> (why, yes, I am building an array of 210k words) (:
[03:57:16] <benh> rusti: let _ = ||||||||||||||||();
[03:57:17] -rusti- ()
[03:57:21] <cmr> antifuchs: you aren't.
[03:57:28] <antifuchs> cmr: good ((:
[03:57:43] <cmr> antifuchs: but you're using fixed-size arrays where you probably want a vector.
[03:58:23] *** Joins: jstevans (Instantbir@moz-EDC91012.bootp.virginia.edu)
[03:58:49] <SiegeLord> benh: What does that even mean XD
[03:59:02] <SiegeLord> How do you get away with only one set of ()
[03:59:17] <cmr> ezyang: yeah, there's no safe way to do it
[03:59:20] <SiegeLord> rusti: ||||||||||||||||()
[03:59:21] -rusti- fn() -> &fn<no-bounds>() -> &fn<no-bounds>() -> &fn<no-bounds>() -> &fn<no-bounds>() -> &fn<no-bounds>() -> &fn<no-bounds>() -> &fn<no-bounds>()
[03:59:30] <SiegeLord> Oh I see
[03:59:36] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Connection reset by peer)
[03:59:38] *** Joins: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[03:59:49] <SiegeLord> rusti: ||||||
[03:59:49] -rusti- <anon>:10:4: 10:5 error: unexpected token: `}`
[03:59:49] -rusti- <anon>:10     };
[03:59:49] -rusti-               ^
[03:59:50] -rusti- application terminated with error code 101
[04:00:02] <ezyang> Why can't I just move it away? 
[04:00:03] <SiegeLord> rusti: ||||||;
[04:00:04] -rusti- <anon>:9:15: 9:16 error: unexpected token: `;`
[04:00:04] -rusti- <anon>:9          ||||||;
[04:00:04] -rusti-                         ^
[04:00:04] -rusti- application terminated with error code 101
[04:00:07] <antifuchs> cmr: ah, that makes a lot of sense, thanks (:
[04:00:29] <cmr> ezyang: you don't own it since it's a &mut
[04:00:42] <ezyang> what if I owned it? 
[04:00:45] <cmr> ezyang: it is moving it away, the unsafe code just constructs a dummy value to moveinto the oldplace
[04:01:01] <cmr> then s/mut( ref)?//
[04:01:05] *** Joins: dbaupp (Thunderbir@4F13D67D.D5A1DCF.37681C44.IP)
[04:01:10] <mark_edward> rusti, |||A|||
[04:01:11] <ezyang> something like that 
[04:01:21] <ezyang> I'd have to play around with it, hang on 
[04:01:51] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[04:01:51] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[04:01:58] *** Quits: loren (loren@1F18520C.8C2A521C.405878F2.IP) (Quit: leaving)
[04:02:14] <ezyang> ...this bugger doesn't even syntax check for me. Uh. 
[04:03:07] <ezyang> (if it helps, I'm running nightlies) 
[04:03:14] <cmr> hm
[04:03:23] <cmr> I don't think I did any bad syntax
[04:03:30] <ezyang> "Test.rs|2 col 15 error| found `self` in ident position" 
[04:03:45] <cmr> oh, it's meant to bea method on your linked list type.
[04:04:07] <ezyang> oh, this code snippet is not complete, is it 
[04:04:16] <cmr> no
[04:04:22] <cmr> it's a sketch
[04:05:35] *** jorendorff_away is now known as jorendorff
[04:06:14] <achin> in general, is "git pull && make && make install" a safe workflow when updating rust (tracking master)
[04:06:40] <ezyang> next parse error: "Cons(_, mut ref next) {" 
[04:06:46] <ezyang> "Test.rs|7 col 28 error| found `ref` in ident position" 
[04:06:47] <ChrisMorgan> achin: yep
[04:07:04] <cmr> ezyang: it might be ref mut
[04:07:09] <cmr> I never ran it through a compiler.
[04:07:11] *** Quits: Chimmy (ctimothy@moz-1DB1FE6E.hsd1.wa.comcast.net) (Ping timeout)
[04:07:26] * ChrisMorgan prefers `git pull --ff-only`, to be precise; stops breakage at times when master is actually rolled back
[04:07:30] <ezyang> "then how do you know it works ;)" 
[04:07:32] *** Joins: Chimmy (ctimothy@moz-1DB1FE6E.hsd1.wa.comcast.net)
[04:08:08] <ezyang> I just realized something: if you implement remove using a move iterator, it works fine 
[04:08:20] <ezyang> But you end up rebuilding the whole list, unless Rust is way smarter than I thought 
[04:09:14] <cmr> yes, you do end up rebuilding it
[04:09:26] <quaddle> whats the easiest way to split off the last character from a str?
[04:09:56] <cmr> quaddle: "split off"? and do you have a &str or ~str ?
[04:10:21] <quaddle> ~str
[04:10:22] <ezyang> so, it's almost as if you want a way of splitting ownership temporarily; something like a reference but stronger 
[04:10:30] *** Quits: brson (brson@6A848D32.C1B840DD.76F66111.IP) (Quit: leaving)
[04:10:36] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Ping timeout)
[04:10:55] <ezyang> need syntax error help: " expected identifier, found enum pattern ", for &mut Cons(ref mut val, ref mut next_next) if val == elem { 
[04:10:59] *** Quits: FreeFull (freefull@moz-672577F6.as13285.net) (Ping timeout)
[04:11:34] <cmr> hm
[04:11:53] <ezyang> I don't know very much about enum patterns... 
[04:12:16] <ChrisMorgan> ezyang: dunno quite what you've written there. More context?
[04:12:18] <dwrensha> ezyang: I think you need a "=>" in there somewhere
[04:12:23] <cmr> oh right!
[04:12:29] <cmr> ... elem => { ... }
[04:12:33] <ezyang> righto! 
[04:12:34] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[04:12:44] <ezyang> that == almost looks like a => :) 
[04:13:02] <ezyang> ChrisMorgan: Were you referring to the comment about "splitting ownership"? 
[04:13:15] <ChrisMorgan> ezyang: no, the syntax error
[04:13:19] <ezyang> k 
[04:14:29] <ezyang> hmm, it's still syntax erroring 
[04:14:45] *** Joins: mye (mye@moz-553EBE72.dip0.t-ipconnect.de)
[04:15:02] <ezyang> the &mut syntax doesn't seem to be right 
[04:15:20] *** Joins: FreeFull (freefull@moz-467DCB93.as13285.net)
[04:15:24] <cmr> can you just remove it and it works?
[04:15:36] <ChrisMorgan> ezyang: it's saying "expected *identifier*, found enum pattern". More context?
[04:15:40] <ezyang> if I remove the entire Cons statement it syntax checks 
[04:15:56] <dbaupp> ezyang: &Cons(...) might work
[04:15:56] <ezyang> let me paste it. 
[04:16:05] <ezyang> http://lpaste.net/96618 
[04:16:10] <dbaupp> I think it's parsing &(mut ...), and ... has to be an ident
[04:16:18] <ezyang> &Cons works 
[04:16:41] <cmr> weird
[04:16:50] <ezyang> Does that have the right semantics though? 
[04:17:07] <cmr> if it compiles, :shipit:
[04:17:07] <dbaupp> (fwiw, the convention is `match *foo { X => ... }` rather than `match foo { &X => ... }`, for single item matches)
[04:17:09] <dbaupp> ezyang: yes
[04:17:14] <cmr> dbaupp: do both work?
[04:17:19] <cmr> I figured the first does a move...
[04:17:36] <dbaupp> cmr: not if you're only binding by ref/things that don't mov
[04:17:37] <dbaupp> e
[04:17:47] <cmr> ah
[04:18:02] <ChrisMorgan> ezyang: can you paste the entire thing? It'd make it much easier to assess.
[04:18:27] <ezyang> Well, it now syntax checks 
[04:18:35] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[04:18:42] <cmr> ChrisMorgan: it's https://gist.github.com/cmr/7818328
[04:18:47] <ezyang> and I'm getting rid of the other compiler errors http://lpaste.net/96619 
[04:18:47] <cmr> or, that with somefixes
[04:18:51] <ezyang> I blame it all on cmr :) 
[04:19:18] <cmr> oh, that llist.mut_iter was supposed to be self.mut_iter()
[04:19:22] <cmr> oops
[04:19:33] <ezyang> that makes a bit more sense :) 
[04:19:40] * cmr originaly was using a local
[04:19:45] <ezyang> what std module is swap in? 
[04:19:55] <mark_edward> what can this mean? ` error: unmatched visibility `pub``
[04:20:02] <ezyang> std::util 
[04:20:06] <dbaupp> ezyang: yes
[04:20:22] <ezyang> rust is kinda hard to google for. 
[04:20:23] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[04:20:35] <ezyang> ok, this compiler checks: http://lpaste.net/96620 
[04:20:35] <ChrisMorgan> ezyang: the search bar in the docs (http://static.rust-lang.org/doc/master/std/index.html for libstd, &c.) is quite good for finding such things
[04:20:52] <ezyang> oh snap, doc search... that works?! I'll use it, thanks :) 
[04:21:17] <ChrisMorgan> Yep, they did a good job on it.
[04:21:36] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:21:58] <ezyang> cmr: Your code has a logic bug 
[04:22:11] <ezyang> It is unable to remove elements that are at the head of the list 
[04:22:23] <cmr> yeah
[04:22:27] <cmr> I forgot to mention that.
[04:22:27] <antifuchs> haha, oh no, so I have made this 210k-element thing a vector now, and the compile is taking /very, very/ long
[04:22:34] <quaddle> whats the easiest way to trim off the last character in an owned string
[04:22:50] <antifuchs> I mean, obviously what I'm doing is obtuse, but I kind of want to see if it can be done (:
[04:22:57] <ChrisMorgan> pop_char()
[04:23:11] <ChrisMorgan> quaddle: http://static.rust-lang.org/doc/master/std/str/trait.OwnedStr.html#tymethod.pop_char
[04:23:13] <dbaupp> antifuchs: you have a 210k long literal?
[04:23:29] <antifuchs> dbaupp: it's a 210k vector containing strings up to 24c long
[04:23:49] <dbaupp> antifuchs: is it hardcoded into a file?
[04:23:52] <antifuchs> yep.
[04:23:58] <dbaupp> that's a very good way of making the compiler upset :P
[04:24:04] <antifuchs> hahahah, so I have learned! (:
[04:24:26] <dbaupp> you'll also end up with a binary that's approximately 210k * 24 bytes large
[04:24:36] <antifuchs> yeah, that's ... fine I guess (:
[04:24:36] <dbaupp> (well, s/24/average string length/)
[04:24:47] <antifuchs> about 5MB, yep (:
[04:25:10] <ezyang> cmr: So I might as well ask, what if I wanted to tweak this method, to "search for an item in the list satisfying the predicate, and return that item (after having removed it from the list)" 
[04:25:24] *** Quits: docbrown (docbrown@5CE9D448.F0B9EFB2.7F8758CE.IP) (Client exited)
[04:25:29] <ezyang> I want an ownership transfer for that return 
[04:26:00] <cmr> ezyang: let y: T = unsafe { ... } swap(&mut y, val); return y;
[04:26:04] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[04:26:47] <ezyang> OK, so I unsafely "generate" an owned box and then move it in? 
[04:26:54] <mark_edward> #[warn(missing_doc)]; seems not to be working, as i have missing backs
[04:26:54] <cmr> yep
[04:27:01] <mark_edward> s/backs/docks/
[04:27:08] <cmr> mark_edward: if they're on priv items it ignores them.
[04:27:09] <mark_edward> s/docks/docs/
[04:27:14] *** Joins: scroy (user@moz-C21D3E9A.hsd1.il.comcast.net)
[04:27:17] <cmr> also it's not generating an executable, iirc
[04:27:18] <ezyang> Which leads me to my second question, why is generating/deleting owned boxes unsafe? 
[04:27:30] <mark_edward> ah
[04:27:34] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Connection reset by peer)
[04:27:36] <cmr> ezyang: it's not, but you don't own the node returned by the iterator
[04:27:38] <dbaupp> ezyang: it's not?
[04:27:41] *** Joins: Heather (Heather@19663F6.F53BAACC.9C17E900.IP)
[04:27:47] <cmr> you only hav a borrowed reference to it, which you can't move out of.
[04:27:47] <antifuchs> dbaupp: so far, it's been compiling for ~15min
[04:27:48] <Heather> hi
[04:27:51] *** Quits: lkey (chatzilla@25653362.1DD2AC9D.49CEED6B.IP) (Ping timeout)
[04:27:55] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[04:27:55] <antifuchs> and doesn't look like it's finishing (:
[04:27:58] <Heather> where is Blei :(
[04:28:46] *** Quits: scroy (user@moz-C21D3E9A.hsd1.il.comcast.net) (Client exited)
[04:28:46] <ezyang> Hmm. 
[04:28:57] <dbaupp> antifuchs: I'd guess it's going to continue compiling for quite a while
[04:29:06] <antifuchs> dbaupp: that makes me very sad /:
[04:29:07] <ezyang> unsafe { uninit() } is quite a circuitous way of saying that, no? 
[04:29:12] <antifuchs> but it's not completely unexpected (:
[04:29:28] <antifuchs> I think I'll build a .o file in C and do unsafety to it
[04:29:39] <antifuchs> (can you do that? I guess I'll find out)
[04:29:50] <antifuchs> I would really like to statically link that bunch of data in)
[04:29:51] <dbaupp> you should be able to arrange something using the FFI yes
[04:29:53] *** Quits: Addle (quassel@moz-67A92E8A.cable.teksavvy.com) (Ping timeout)
[04:29:57] <cmr> ezyang: well it's just a way of constructing a garbage value. all values need to be initialized, in rust.
[04:30:15] <dbaupp> antifuchs: `extern { static ALL_THE_STRINGS: **c_char; }` works, IIRC
[04:30:33] <antifuchs> dbaupp: oh nice, I read about static linking - is that possible with regular .o / .a files now?
[04:30:37] <ezyang> Yes, but I noticed that's the /only/ unsafe code in the section 
[04:30:50] <jeaye> antifuchs: Just curious, what do you need that massive vector for?
[04:30:51] <dbaupp> antifuchs: I believe so, but I don't know how to do it
[04:30:54] <cmr> yes.
[04:31:01] <cmr> did you expect more unsafety?
[04:31:11] <antifuchs> jeaye: it's for a silly programming competition; currently the bottleneck is loading /usr/share/dict/words (:
[04:31:15] <ezyang> Well, "moving out an object I don't own" seems pretty unsafe :) 
[04:31:18] <jeaye> antifuchs: haha
[04:31:25] <cmr> ah but it's not a move!
[04:31:28] <antifuchs> jeaye: yeah, basically (:
[04:31:30] <dbaupp> antifuchs: you could mmap the whole file?
[04:31:36] <cmr> swapping is fine, since it's just replacing it with another value.
[04:31:50] <cmr> and since it's mutable, that is also fine.
[04:31:55] <dbaupp> (unless you want it in pre-line-separated form, I guess.)
[04:32:06] *** Quits: Heather (Heather@19663F6.F53BAACC.9C17E900.IP) (Quit: ~ Trillian - www.trillian.im ~)
[04:32:13] <ezyang> ...hang on 
[04:32:23] <ezyang> Suppose I didn't destruct the val's old contents. Leak? 
[04:32:23] <jeaye> antifuchs: I'd suggest either memory-mapping the file (might help) or performing the loading concurrently while doing other work (if there's other work to be done).
[04:32:28] <cmr> yep
[04:32:37] <antifuchs> dbaupp: yeah, line separation would be best, I think (:
[04:32:39] <ezyang> Seriously? There's no unsafe code... 
[04:32:44] <cmr> there is unsafe code.
[04:32:54] <cmr> well
[04:33:01] <cmr> it wouldn't leak
[04:33:07] <ezyang> ok, why not? 
[04:33:09] <cmr> let me look again, Ijustincredible confused
[04:33:16] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[04:33:19] *** Quits: tcr (tcr@moz-EAC95265.hfc.comcastbusiness.net) (Connection reset by peer)
[04:33:20] <SiegeLord> Hah, look at that signature: https://gist.github.com/SiegeLord/7818287
[04:33:38] *** Joins: tcr (tcr@moz-EAC95265.hfc.comcastbusiness.net)
[04:33:41] *** Joins: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net)
[04:33:45] <SiegeLord> I'm really starting to dislike || for closures... had to manually count the opening |'s to get enough to close them all :P
[04:34:33] <ChrisMorgan> SiegeLord: abused features often do end up a little bit nasty
[04:34:49] <SiegeLord> I welcome you to simplify that code ;)
[04:35:21] <SiegeLord> I don't see any other way of doing what that code does aside from 3 nested closures
[04:35:36] *** Joins: Addle (quassel@moz-67A92E8A.cable.teksavvy.com)
[04:35:38] <ChrisMorgan> SiegeLord: syntactically, you could use one or more typedefs.
[04:35:48] <ezyang> I think the key here is the semantics of mutable borrowed pointers 
[04:35:56] <cmr> ezyang: hmm, I'm beginning to think this shouldn't typecheck...
[04:36:08] <cmr> or actually!
[04:36:22] <cmr> there's no way to do this and change `next` without either a swap or a move.
[04:36:29] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[04:36:38] <antifuchs> jeaye: sadly, it's pretty much the first thing I need to do anything useful (:
[04:36:43] <antifuchs> but good call on the thread
[04:36:44] <ezyang> I agree. 
[04:37:05] <cmr> hm.
[04:37:17] <cmr> does removing the *val line make it leak?
[04:37:20] *** Quits: Addle (quassel@moz-67A92E8A.cable.teksavvy.com) (Ping timeout)
[04:37:21] <cmr> (run it under valgrind)
[04:37:33] *** Joins: Addle (quassel@moz-67A92E8A.cable.teksavvy.com)
[04:37:35] <ezyang> well, this code doesn't run yet, but I think I can construct a simpler example. 
[04:37:40] <cmr> ah
[04:38:24] <ChrisMorgan> SiegeLord: I didn't get enough sleep last night, but the fact of the matter is that I've just been staring at that code for over a minute trying to figure out what it's doing.
[04:38:45] <ChrisMorgan> It is not rustic code.
[04:39:12] *** Joins: pinupgeek (rramdas@moz-608F14C1.ftth.glasoperator.nl)
[04:39:12] <SiegeLord> It is rustic to the extent it avoids allocations
[04:39:31] <SiegeLord> (well aside from MemWriter, that's unavoidable atm)
[04:39:40] <ezyang> hm, I don't think the code we wrote leaks 
[04:39:55] <ezyang> When you swap, you also exchange what the lifetimes are 
[04:40:10] <cmr> what do you mean?
[04:40:11] <SiegeLord> The point of it is to provide the function with a set of numbers and a corresponding set of strings
[04:40:19] <SiegeLord> That's all that code does
[04:40:26] <ezyang> so the item now gets the lifetime associated with &mut x, which is a plain ole reference that... gets deallocated? Well, it's not an owned box... 
[04:40:35] <ezyang> ok, I know how to do this test 
[04:41:55] <ChrisMorgan> SiegeLord: that sort of closure madness is not rustic. It's also somewhat inefficient—the from_utf8 call performs an unnecessary O(n) scan through the string, verifying it to be UTF-8.
[04:42:22] <SiegeLord> I welcome you getting me out of that maddness
[04:42:23] <achin> i'm not sure if anyone cares, but i have found myself in a situation with both 0.8 and 0.9 files in $PREFIX/lib/
[04:42:45] <SiegeLord> I'm saying it can't be done... I'd love to be proven wrong
[04:43:04] <SiegeLord> Since that function's interface is a disaster
[04:43:20] *** Quits: balpert_ (sid15886@moz-A42E5B7B.irccloud.com) (Ping timeout)
[04:43:20] *** Quits: ggherdov_ (sid11402@moz-E77DEB21.irccloud.com) (Ping timeout)
[04:43:20] *** Quits: whitglint (uid15486@moz-31ABA2C0.irccloud.com) (Ping timeout)
[04:43:20] *** Quits: posco (sid14832@moz-5F4AA75A.irccloud.com) (Ping timeout)
[04:43:20] *** Quits: geomyidae__ (uid214@moz-E77DEB21.irccloud.com) (Ping timeout)
[04:43:20] *** Quits: fixplz (uid18459@moz-A42E5B7B.irccloud.com) (Ping timeout)
[04:43:48] *** Joins: posco (sid14832@moz-5F4AA75A.irccloud.com)
[04:44:06] *** Joins: ggherdov_ (sid11402@moz-E77DEB21.irccloud.com)
[04:44:15] <ezyang> cmr: So, this doesn't typecheck http://lpaste.net/96621 
[04:44:19] *** Joins: geomyidae__ (uid214@moz-E77DEB21.irccloud.com)
[04:44:34] *** Joins: balpert_ (sid15886@moz-A42E5B7B.irccloud.com)
[04:44:46] <cmr> ezyang: oh, it needs to be ~1, and &mut x
[04:44:47] *** Joins: fixplz (uid18459@moz-A42E5B7B.irccloud.com)
[04:44:53] *** Joins: whitglint (uid15486@moz-31ABA2C0.irccloud.com)
[04:44:54] <ezyang> thanks 
[04:44:57] <cmr> same in the linked list code
[04:44:59] <cmr> sorry :)
[04:45:06] <ezyang> huh 
[04:45:13] <cmr> ~uninit()
[04:45:21] <ezyang> Well, I would expect this to work fine 
[04:45:21] <cmr> or actually no
[04:45:25] <cmr> it should infer to ~T
[04:46:03] *** Quits: telotortium (rmi1@moz-C8F8CE6.hsd1.ca.comcast.net) (Quit: Reconnecting)
[04:46:04] *** Joins: telotortium (rmi1@moz-C8F8CE6.hsd1.ca.comcast.net)
[04:46:20] *** Quits: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:46:23] <cmr> the signature of swap is fn<T>(&mut T, &mut T)
[04:46:37] <cmr> if T is ~int...
[04:46:44] *** Quits: mye (mye@moz-553EBE72.dip0.t-ipconnect.de) (Ping timeout)
[04:46:54] <ezyang> So, what was up with let x: Node<T> = Nil;? 
[04:47:01] <ezyang> oh, I see, I messed it up 
[04:47:34] *** Joins: mye (mye@moz-B33CADBB.dip0.t-ipconnect.de)
[04:47:42] *** Quits: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net) (Quit: leaving)
[04:48:47] *** Joins: justinstoller (justinstol@moz-4D84711.hsd1.or.comcast.net)
[04:49:05] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Client exited)
[04:49:50] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[04:50:20] <ezyang> cmr: I think this is a more accurate rendition http://lpaste.net/96622 
[04:50:23] <ezyang> it doesn't leak 
[04:50:24] <antifuchs> amazing, building a static library & linking that in totally works
[04:50:36] <antifuchs> thanks for the help dbaupp ((:
[04:50:51] <antifuchs> (now I just have to write the binary search thing)
[04:51:05] <dbaupp> antifuchs: \o/
[04:51:24] <cmr> ezyang: it's not the same, though. main has ownership of everything it swapped, remove doesn't have ownership of anything! the swap isn't what would leak anyway, it would be omitting the *val = ...
[04:51:49] <ezyang> hmmm 
[04:52:11] * ezyang is not an experienced enough Ruster to construct this test-case 
[04:52:45] <cmr> well, if replace runs and leaks without *val, we've just found a soundness hole in the type system :)
[04:53:20] <ezyang> I don't think there is a problem. 
[04:53:40] <ezyang> Basically, the way to think about this, is that there are two pointers we are swapping, which each are associated with some region. 
[04:53:52] <ezyang> When we swap, we swap which region each of them belongs to 
[04:54:05] <cmr> actually no i see why it works now
[04:54:19] <cmr> we either replace it with nil, or we replace it with something new, so we *always* replace it.
[04:54:35] <cmr> so it can actually drop the old value.
[04:54:40] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[04:54:46] <cmr> ... I think
[04:54:52] <ezyang> Not sure I follow. 
[04:55:01] <cmr> the swap is entirely unimportant here.
[04:55:29] <ezyang> Really? 
[04:55:36] <cmr> yes.
[04:55:47] <cmr> could *next = Nil
[04:55:53] <cmr> would truncate the list at the item.
[04:56:21] <achin> hi #rust -- can someone help me understand this error:  https://gist.github.com/eminence/ff22e2e21055ca3914cb
[04:56:22] <ezyang> Well, that certainly typechecks 
[04:56:42] <cmr> similarly, *next_next = Nil
[04:56:52] <ezyang> achin: Should be self-explanatory? 
[04:57:24] <ezyang> oh, I see, you're trying to pass it a generic that has been appropriately bounded 
[04:57:26] <achin> not to me, i'm afraid.  T is an std::io::Writer
[04:57:28] <cmr> achin: MyFoo expects trait objects, you're giving it borrowed pointers to some random type.
[04:57:38] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[04:57:39] <cmr> T *implements* std::io::Writer
[04:57:42] <mark_edward> can rustdoc tell you which trait fns are actually implemented and which are defaults?
[04:57:53] <cmr> mark_edward: already does
[04:58:00] <cmr> Or, not it doesn't, sorry.
[04:58:02] <cmr> It could, yes.
[04:58:37] <mark_edward> cmr, that'd be really useful. for example, you could see which iterators actually implemented size_hint meaningfully
[04:58:40] <cmr> yep
[04:58:51] <achin> cmr: i see, i think.  do i need to change MyFoo to accept real objects (not traits)?
[04:58:53] <ezyang> cmr: I don't see why borrowed should be allowed to null out the list like that 
[04:59:06] <ezyang> cmr: Couldn't there be another borrowed pointer to something further inside? 
[04:59:17] <cmr> ezyang: no
[04:59:18] *** Quits: quaddle (Mibbit@CF995C49.87CA334A.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:59:25] <ezyang> ah, is this the borrows check 
[04:59:25] <cmr> &mut is guaranteed to be unique, non-aliased.
[04:59:31] <cmr> yes.
[05:00:47] <ezyang> oh, your code doesn't even work 
[05:00:58] <cmr> gah. what did I do wrong?
[05:01:14] <ezyang> what it does is look for the element, and then when it finds it, it truncates teh list 
[05:01:26] *** Quits: Chimmy (ctimothy@moz-1DB1FE6E.hsd1.wa.comcast.net) (Ping timeout)
[05:01:36] <ezyang> oh, no, I'm wrong 
[05:01:39] <ezyang> ohhhh that's CLEVER 
[05:01:47] *** Quits: tcr (tcr@moz-EAC95265.hfc.comcastbusiness.net) (Ping timeout)
[05:02:13] <cmr> wait, now I'm not sure it works.
[05:02:20] <cmr> and I just wrote this code!
[05:02:25] <ezyang> The inner cons branch needs to return next_next 
[05:02:32] <ezyang> oh wait, no, that's not right 
[05:02:33] <ezyang> uhhh 
[05:02:38] <cmr> it needs to return x
[05:03:02] <ezyang> yep, that's it 
[05:03:25] <ezyang> wow, the dance of ownership is actually pretty intricate 
[05:03:43] <cmr> this is literally called an ownership dance :p
[05:04:19] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[05:04:19] *** ChanServ sets mode: +o jdm
[05:04:28] <mark_edward> rusti, "lol".split('p').collect::<~[char]>()
[05:04:29] <ezyang> dammit, I'm still confused. 'What happened to val' 
[05:04:46] <dbaupp> mark_edward: s/,/:/
[05:04:52] <ezyang> oh, I see, when we modify *next, that kills it 
[05:04:56] <cmr> *val = { ... } is basically the dance with x, except it just drops the temporary.
[05:04:56] <mark_edward> rusti: "lol".split('p').collect::<~[char]>()
[05:04:57] -rusti- <anon>:9:9: 9:26 error: type `&'static str` does not implement any method in scope named `split`
[05:04:57] -rusti- <anon>:9          "lol".split('p').collect::<~[char]>()
[05:04:57] -rusti-                   ^~~~~~~~~~~~~~~~~
[05:04:57] -rusti- error: aborting due to previous error
[05:04:57] -rusti- application terminated with error code 101
[05:05:02] <Yurume> split_iter.
[05:05:10] <mark_edward> rusti: "lol".split_iter('p').collect::<~[char]>()
[05:05:11] -rusti- pastebinned 14 lines of output: http://sprunge.us/MQYE
[05:05:36] <Yurume> (split_iter was renamed to split in master but not in 0.8, which rusti uses)
[05:05:36] <mark_edward> rusti: "lol".split_iter('p').collect::<~[&str]>()
[05:05:37] -rusti- ~["lol"]
[05:05:58] <Yurume> rusti: "a   b   c  ".split_iter(' ').collect::<~[&str]>()
[05:05:59] -rusti- ~["a", "", "", "b", "", "", "c", "", ""]
[05:05:59] <mark_edward> so splitIterator will always have at least one  value
[05:06:06] <Yurume> rusti: "".split_iter(' ').collect::<~[&str]>()
[05:06:06] -rusti- ~[""]
[05:06:10] <Yurume> indeed.
[05:06:23] *** Quits: justinstoller (justinstol@moz-4D84711.hsd1.or.comcast.net) (Client exited)
[05:06:58] *** Joins: Chimmy (ctimothy@moz-1DB1FE6E.hsd1.wa.comcast.net)
[05:07:36] <dbaupp> rusti: "foo. bar.".split_terminator_iter('.').to_owned_vec()
[05:07:36] -rusti- ~["foo", " bar"]
[05:08:31] <ezyang> man, I should blog this shit 
[05:09:03] *** Quits: pinupgeek (rramdas@moz-608F14C1.ftth.glasoperator.nl) (Quit: pinupgeek)
[05:09:33] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[05:10:08] *** Joins: MrOrdinaire (Mibbit@28E8C214.24E5DC10.FD383126.IP)
[05:11:09] *** Quits: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo_)
[05:13:41] *** Quits: MrOrdinaire (Mibbit@28E8C214.24E5DC10.FD383126.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:14:59] <cmr> This is turning out to be harder than I thought.
[05:15:26] <ezyang> cmr: What are you trying to do? 
[05:15:56] *** Joins: bellows (Mibbit@moz-A86A7504.infotecs.ru)
[05:16:31] *** Joins: Heather (Heather@19663F6.F53BAACC.9C17E900.IP)
[05:16:39] <cmr> implement the mut iterator
[05:16:45] <Heather> Path::init reverted to new?
[05:16:55] <ezyang> I think it is pretty subtle 
[05:17:05] <cmr> Heather: yes
[05:17:23] <ezyang> If you do it without unsafe, you basically have gotten a proof of correctness, in some sense.... 
[05:17:49] *** Quits: KindOne (KindOne@moz-C9D2F02B.dynamic.ip.windstream.net) (Ping timeout)
[05:17:50] <Heather> cmr damn ...
[05:17:53] <cmr> well, I don't think it's known that the type system is sound, let alone the implementation.
[05:17:58] <ezyang> heehee 
[05:19:20] <mark_edward> should've written rust in Coq
[05:20:01] *** Joins: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net)
[05:20:06] <ezyang> Is there a place to read more about the theoretical underpinnings of Rust's type system 
[05:20:20] <cmr> there's a big comment somewhere in borrowck or typeck
[05:20:22] <Heather> and json?
[05:20:34] <ezyang> No paper?! 
[05:20:45] <SiegeLord> Interesting... I can fix a "cannot move out of captured outer variable" with a type annotation
[05:20:49] <cmr> it references papers? :)
[05:20:50] <dbaupp> ezyang: not yet
[05:20:52] <achin> i've got another issue i'm not sure how to solve, if anyone has a moment to take a look: https://gist.github.com/eminence/9797683ba549e1a45fcd
[05:21:03] <dbaupp> (AFAIK)
[05:21:35] <Diamond> new is static
[05:21:44] <Diamond> cant have a 'self.
[05:21:45] *** Quits: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net) (Ping timeout)
[05:21:52] <dbaupp> achin: that looks like the error message doesn't correspond to the code
[05:21:57] <dbaupp> Diamond: I think you can
[05:22:17] <mark_edward> do cookies have an "expires" or "max-age" value?
[05:22:25] *** Joins: KindOne (KindOne@3EBA5C96.5ADC762.34F73994.IP)
[05:22:29] <Diamond> What lifetime would 'self reference?
[05:22:33] <dbaupp> achin: specifically `-> ~MyFoo {` is being highlighted without the `<'self>` that appears in the code snippet
[05:22:33] *** Joins: tcr (tcr@moz-EAC95265.hfc.comcastbusiness.net)
[05:22:35] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[05:22:41] <dbaupp> Diamond: the one declared on the `impl` block
[05:23:00] <jmgrosen> is #[unsafe_destructor] still necessary? if so, why?
[05:23:04] <achin> i want reader and writer and the MyFoo that holds them both to all have the same lifetime
[05:23:08] <Diamond> Derp. Don't mind me.
[05:23:12] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[05:23:16] <ezyang> jmgrosen: Still necessary for generic destructors, at least 
[05:23:19] <dbaupp> achin: yes
[05:23:20] <achin> (since that's the only logical thing that should happen, i think)
[05:23:32] *** Quits: Heather (Heather@19663F6.F53BAACC.9C17E900.IP) (Quit: ~ Trillian - www.trillian.im ~)
[05:23:33] <jmgrosen> ezyang: why?
[05:23:36] <dbaupp> achin: the code you have there *should* work AFAICT, but it looks like the error is from a different version of it
[05:23:50] <achin> dbaupp: what makes you think that?
[05:24:21] <dbaupp> achin: https://botbot.me/mozilla/rust/msg/8499553/
[05:24:31] <mark_edward> both
[05:24:33] <mark_edward> of course
[05:24:35] <ezyang> Some types of objects cannot be safely put in generics, esp. GC'd stuff 
[05:24:41] <ezyang> when you are managing the memory 
[05:24:53] <dbaupp> jmgrosen: @T isn't allowed in types with destructors
[05:25:12] *** Quits: tcr (tcr@moz-EAC95265.hfc.comcastbusiness.net) (Ping timeout)
[05:25:26] <dbaupp> jmgrosen: (because there is no safe order in which to call a cycle of types with destructors)
[05:25:51] <jmgrosen> dbaupp: ah, that makes sense
[05:25:55] <achin> dbaupp: sorry, i didn't see that message.    the code and error are in sync, but the line numbers are off.  i've updated the gist
[05:27:18] <dbaupp> achin: woah, that's kinda peculiar; the error message should definitely be including the <'self>... :
[05:27:20] <dbaupp> * :S
[05:27:58] <achin> well, the line it is quoting (line 8) is being quoted correctly
[05:29:18] <mark_edward> is extra::time::strptime formatitng documented anywhere?
[05:29:42] <cmr> mark_edward: man 3 strptime
[05:29:51] <mark_edward> lol
[05:31:02] <ezyang> ...reading librustc/middle/typeck/infer/region_inference/doc.rs 
[05:31:06] <ezyang> omg, this is so terrifying 
[05:31:15] <SiegeLord> Hmm... my code really confuses the borrow checker
[05:32:36] *** jorendorff is now known as jorendorff_away
[05:34:20] <ezyang> So, what is the relationship between separation logic (which I somewhat understand) and Rust's regions/borrow checker? 
[05:34:39] <SiegeLord> Anybody feel like figuring out these horrible borrow checker errors: https://gist.github.com/SiegeLord/7818287 ?
[05:35:06] <SiegeLord> Note that test1 works, but test2 doesn't... all I did was wrapped some things in an Option
[05:35:23] <SiegeLord> That tends to break everything, in my experience... I wish it didn't
[05:35:29] <mark_edward> lol, from `man 3 strptime`
[05:35:30] <mark_edward> %D     Equivalent to %m/%d/%y.  (This is the American style date, very confusing to non-Americans, especially since %d/%m/%y is widely used in Europe.
[05:35:33] <cmr> ezyang: ehhh this is hard. I'll paste what I have, but I'm going to bed :) https://gist.github.com/cmr/7819067
[05:35:49] <ezyang> cmr: ok ^_^ 
[05:35:55] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[05:36:01] <ezyang> what's missing? 
[05:36:08] <cmr> passing the borrow checker :)
[05:36:25] <ezyang> SiegeLord: I am no expert, but I suspect the lifetime has to be outside the option 
[05:36:31] <ezyang> cmr: Right-o 
[05:36:47] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[05:36:55] <ezyang> cmr: I decided to solve this problem by trying to understand WTF the borrow checker is doing 
[05:37:01] <SiegeLord> I don't know where else to stick that lifetime
[05:37:50] *** Joins: GeneralMaximus (ankur@B4DF73F6.7D84F5AD.260B031E.IP)
[05:38:01] <cmr> ezyang: when you find out let me know.
[05:38:03] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:38:10] <cmr> The basic idea is that it enforces the aliasing rules..
[05:38:29] *** Joins: tcr (tcr@moz-EAC95265.hfc.comcastbusiness.net)
[05:38:37] <cmr> with some sort of magical lifetimes that stem from scopes, which have a subtyping relationship.
[05:39:26] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Ping timeout)
[05:40:49] <ChrisMorgan> SiegeLord: seriously, design it some other way. I can't see what you get out of designing it that way.
[05:41:17] <ezyang> SiegeLord: Hang on, when I delete your explicit lifetimes, it passes 
[05:41:44] <SiegeLord> ChrisMorgan: I avoid allocations, that's all
[05:41:58] <ezyang> output: http://lpaste.net/96625 
[05:42:10] <ChrisMorgan> SiegeLord: do it with external iterations and you'll similarly avoid allocations.
[05:42:27] <SiegeLord> I don't see how I'd do that
[05:42:28] *** Quits: GeneralMaximus (ankur@B4DF73F6.7D84F5AD.260B031E.IP) (Quit: Textual IRC Client: www.textualapp.com)
[05:42:50] *** Quits: tcr (tcr@moz-EAC95265.hfc.comcastbusiness.net) (Ping timeout)
[05:42:56] <ezyang> http://lpaste.net/96626 
[05:42:57] <SiegeLord> ezyang: O_O
[05:43:09] <ezyang> I'm using the latest nightly 
[05:43:16] <SiegeLord> I wonder what happened...
[05:43:50] <cmr> ezyang: do you know where the notation used at https://en.wikipedia.org/wiki/Hoare_logic#Assignment_axiom_schema is defined/what it's called?
[05:44:07] <ezyang> cmr: Hoare triples 
[05:44:15] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[05:44:22] <ezyang> Or do you mean [E/x]? 
[05:44:26] <cmr> [E/x] yeah
[05:44:37] <cmr> the bar, too.
[05:44:39] <ezyang> That's called substitution, you can find it in any introductory PL textbook 
[05:44:44] <ezyang> the bar is a slash 
[05:44:45] <cmr> ok
[05:44:52] <cmr> I should probably find one of those and read it
[05:45:02] * cmr stops trying to read this page
[05:45:16] <ezyang> so, for example, (\y. x y)[3/x] === (\y. 3 y) 
[05:46:17] *** Joins: tcr (tcr@moz-EAC95265.hfc.comcastbusiness.net)
[05:47:35] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[05:47:56] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[05:49:38] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[05:53:45] <mark_edward> is an extra::url::Url a valid std::path::Path?
[05:56:36] <cmr> mark_edward: afaik yes.
[05:56:49] <cmr> ie, Url could implement Path
[05:57:07] <cmr> uh, no
[05:57:09] <cmr> sorry
[05:57:17] <cmr> I though GenericPath was renamed to Path
[05:58:32] *** Quits: dbaupp (Thunderbir@4F13D67D.D5A1DCF.37681C44.IP) (Ping timeout)
[06:00:16] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[06:01:45] *** Joins: markwash (mwashenber@moz-E830FEBB.hsd1.ca.comcast.net)
[06:04:16] *** Quits: AvianFlu (AvianFlu@moz-31F97978.nyc.res.rr.com) (Input/output error)
[06:04:58] <mark_edward> hm
[06:05:21] <mark_edward> apparently std::path::PosixPath isn't encodable. you'd think it would be!
[06:05:29] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[06:06:06] *** Quits: tcr (tcr@moz-EAC95265.hfc.comcastbusiness.net) (Client exited)
[06:06:29] *** Joins: tcr (tcr@moz-EAC95265.hfc.comcastbusiness.net)
[06:06:47] <ezyang> So, here is something I find a little confusing 
[06:07:08] <ezyang> When I have 'let mut x = ~Foo {f : 3};', apparently this is not a mutable reference to an owned box, but a mutable owned box 
[06:07:33] <cmr> ezyang: yes, ~T has inherited mutability, it's logically a value type
[06:08:11] <ezyang> The mutability inheritance is kind of confusing. What is the motivation behind it? (I know, might be, "Well, how else would it work") 
[06:08:16] *** Quits: tcr (tcr@moz-EAC95265.hfc.comcastbusiness.net) (Ping timeout)
[06:08:51] <cmr> we used to use something else but it was even more confusing, and wasn't sound.
[06:08:58] *** Joins: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net)
[06:09:34] *** Quits: jstevans (Instantbir@moz-EDC91012.bootp.virginia.edu) (Ping timeout)
[06:10:26] <olsonjeffery> is there any way in std to get unix time or somesuch?
[06:10:27] *** Joins: MrOrdinaire (Mibbit@28E8C214.24E5DC10.FD383126.IP)
[06:10:29] <olsonjeffery> whoops
[06:10:33] <olsonjeffery> already figured it out
[06:10:34] <olsonjeffery> heh.
[06:10:41] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[06:10:46] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[06:10:53] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[06:11:34] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[06:11:36] <nsf> hehe, I've found this interesting chunk of code. I know it's not a C++ channel, but it's more about compilers and CPUs I guess..
[06:11:38] <nsf> http://pastie.org/8532589
[06:11:46] <nsf> any idea why such performance results?
[06:12:11] <nsf> I mean they teach us.. locality is good bla bla, but bigger buffer wins massively on GCC and still is faster on clang
[06:12:36] <nsf> roughly same amount of operations (read/write/math)
[06:12:44] <nsf> just different memory access patterns
[06:12:50] *** Joins: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[06:13:02] <nsf> another thing is weird is that clang is much slower on test2 than gcc
[06:13:05] <nsf> 100%!
[06:13:46] *** Quits: ross (ross@moz-5EA04060.br.br.cox.net) (Quit: )
[06:13:55] <nsf> "sys" part of the "time" command is interesting as well
[06:14:00] *** Joins: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com)
[06:14:06] <nsf> obviously bigger buffer leads to massive page allocs
[06:15:00] *** Quits: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com) (Quit: csherratt)
[06:15:10] <nsf> but even though sys is non-zero like in test1, overall time is much faster anyway :D
[06:15:43] <nsf> sorry for offtopic I guess
[06:15:50] <cmr> it's not really offtopic
[06:17:08] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[06:17:38] <MrOrdinaire> hi, is static array (e.g. `[u8, ..10]`) treated as a value type?
[06:17:49] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[06:18:25] <nsf> although my assumtion is that compiler can actually optimize expr%2 to a bit shift
[06:18:53] <o11c> *mask
[06:19:00] <o11c> and yes, llvm can
[06:19:02] <nsf> right, mask
[06:19:36] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[06:19:37] <nsf> I was thinking about plain power of two division when I said bit shift :)
[06:20:19] <o11c> (and anything llvm can do, gcc can usually do better. In any case, this is a *really* old trick)
[06:20:21] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[06:21:00] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[06:21:08] <nsf> yes, yes, that's why I'm not even looking at asm
[06:21:20] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[06:21:27] <nsf> in any case computational complexity in the code is low enough and should be dominated by memory access
[06:21:58] <posco> is there no FromBytes trait that is the converse of ToBytes?
[06:22:32] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[06:23:18] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[06:23:55] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[06:24:06] <cmr> posco: ToBytes is a hack for Hash
[06:24:31] <posco> is there no typeclass anymore for serialization?
[06:24:37] <cmr> extra::serialize
[06:24:49] <ezyang> What is 'self lifetime? 
[06:24:57] <cmr> ezyang: it isn't anything, anymore.
[06:25:01] <cmr> just a normal lifetime.
[06:25:07] <posco> got it
[06:25:08] *** Quits: markwash (mwashenber@moz-E830FEBB.hsd1.ca.comcast.net) (Quit: markwash)
[06:25:10] <cmr> it used to be the only lifetime allowed in type signatures.
[06:25:17] <ezyang> huh 
[06:25:28] <ezyang> oh duh, Iterator takes a lifetime parameter 
[06:25:31] <cmr> was a carryover from the old lifetime syntax.
[06:26:23] *** Joins: markwash (mwashenber@moz-E830FEBB.hsd1.ca.comcast.net)
[06:27:07] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[06:27:15] <ezyang> is it still standard convention to call default lifetimes self? 
[06:27:22] <cmr> no
[06:27:32] <cmr> there's a PR open to *deny* it, along with other keywords.
[06:27:44] <ezyang> ok-dokey 
[06:27:53] <cmr> it's considered harmful since it has nothing to do with the lifetime of the self parameter.
[06:29:02] <SiegeLord> self is becoming a keyword?
[06:29:05] <Yurume> i.e. impl<'self> A<'self> { fn foo<'r>(&'r self) { ... } }
[06:29:19] <cmr> SiegeLord: it already is.
[06:29:24] <Yurume> ('self and 'r can differ, and only 'r is associated to the lifetime of the self parameter)
[06:29:26] <cmr> fn foo(self)
[06:29:40] <SiegeLord> Hmm, ok... great
[06:30:12] <cmr> Are you disappointed?
[06:30:22] <SiegeLord> Nope
[06:31:18] *** Quits: MrOrdinaire (Mibbit@28E8C214.24E5DC10.FD383126.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:32:02] <SiegeLord> What about Self, is that a keyword?
[06:32:11] *** Quits: KindOne (KindOne@3EBA5C96.5ADC762.34F73994.IP) (Ping timeout)
[06:32:15] <cmr> no
[06:32:21] <SiegeLord> It's sort of special too
[06:32:34] *** Joins: jvns (bork@87D98E32.4046EB22.428F94DD.IP)
[06:32:39] <cmr> it's sortof an auto-injected type parameter
[06:32:43] <cmr> it probably should be, yeah
[06:35:18] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[06:35:49] *** Quits: cubic (cubic@moz-80241A3A.mc.videotron.ca) (Quit: Leaving)
[06:35:54] <olsonjeffery> is there a native/non-libuv impl for std::io::timer ?
[06:36:03] <nielsle> If I create an enum with two values, and use matching for branching. Will that be slower than using booleans and  if for branching?  Enum Foo {A,B}.. match x:Foo {A => .., B=> ..}
[06:36:15] <Yurume> std::libc::sleep may be available, i think
[06:36:33] *** Quits: nfroidure (nfroidure@moz-B8959E56.w90-18.abo.wanadoo.fr) (Ping timeout)
[06:36:44] *** Parts: baha (baha@CBFA8114.931E9888.7923FEFE.IP) ()
[06:36:58] <cmr> nielsle: maybe at --opt-level=0, but certainly not with optimizations.
[06:37:21] <nielsle> Thanks
[06:38:57] *** Quits: lpy (lpy@12172131.F09091A8.1348A864.IP) (Client exited)
[06:39:54] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[06:41:16] *** Quits: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[06:41:42] <ezyang> How does one turn a ~a into a &a? 
[06:41:53] <ezyang> I thought this should happen automatically 
[06:42:15] <cmr> it does, but &*a also works.
[06:42:47] <sfackler> unless a is str or [T], in which case you'll need to call as_slice
[06:42:56] <cmr> (but those aren't types anyway)
[06:44:04] <ezyang> OK 
[06:44:30] <ezyang> Does Option.as_ref do anything "special"? 
[06:44:40] *** Joins: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca)
[06:44:52] <cmr> no
[06:44:54] <sfackler> not really
[06:45:01] <cmr> match *self { Some(ref x) => Some(x), None => None }
[06:45:03] <ezyang> This fulfills borrow check: http://lpaste.net/96630 
[06:45:07] <sfackler> it just gives you an Option<&'a T> if called on an Option<T>
[06:45:29] <ezyang> This does not: http://lpaste.net/96631 
[06:46:51] <ezyang> Why? 
[06:47:29] *** Joins: KindOne (KindOne@moz-56B520AF.dynamic.ip.windstream.net)
[06:47:41] <sfackler> what is p?
[06:48:03] <ezyang> http://lpaste.net/96632 
[06:48:57] <eddyb> cmr: I tried &* myself, didn't actually work
[06:49:08] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[06:49:24] <eddyb> i.e. it was moving out of ~T and referencing a stack temporary or something like that
[06:49:39] <cmr> eddyb: it works fine.
[06:50:01] <eddyb> ezyang: but I think the problem you're having is that your map might consume the ~T
[06:50:37] <ezyang> ...really? But it's just a borrowed pointer, it oughtn't be able to be consuemd 
[06:50:44] <eddyb> ezyang: can you try |&head| instead of |head| and &**head?
[06:50:50] <eddyb> ezyang: err, |ref head|
[06:51:00] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[06:51:17] <eddyb> ezyang: I'm pretty sure map passes by value
[06:51:18] *** Joins: nfroidure (nfroidure@moz-318AEEBC.w90-18.abo.wanadoo.fr)
[06:52:33] <ezyang> http://lpaste.net/96633 <-- same "borrowed pointer is only valid for the block" 
[06:53:06] <ezyang> I guess it's worth noting that I also tried doing the match manually and ran into the same problem 
[06:53:21] <ezyang> I figured out the as_ref() trick by cargo-culting dlist 
[06:53:31] <eddyb> ezyang: with the match, did you have Some(ref x)?
[06:53:40] <ezyang> I tried both variants 
[06:53:49] <eddyb> hmm
[06:53:57] * eddyb has no idea
[06:53:57] <ezyang> but I may be misremembering, hang on 
[06:54:30] *** Joins: w3lcome (Mibbit@moz-49575A06.home.otenet.gr)
[06:55:41] <ezyang> OK, you were spot on, this one borrow-checks http://lpaste.net/96634 
[06:57:09] <ezyang> So I guess it has to do with copy versus ref 
[06:59:44] <eddyb> it's actually a move, not a copy
[06:59:52] <ezyang> erm that :) 
[07:00:14] <eddyb> you can't have a ~T by value in multiple places
[07:00:16] *** Quits: KindOne (KindOne@moz-56B520AF.dynamic.ip.windstream.net) (Ping timeout)
[07:00:32] <eddyb> because unique ownership
[07:00:57] <ezyang> I keep forgetting that I can do moves even from a borrowed pointer 
[07:02:06] <ezyang> hmm, implementing mutable iterators is a bit subtle 
[07:02:14] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[07:03:22] *** Quits: lpy (lpy@12172131.F09091A8.1348A864.IP) (Client exited)
[07:03:43] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[07:06:56] *** Quits: mye (mye@moz-B33CADBB.dip0.t-ipconnect.de) (Quit: mye)
[07:07:05] *** Quits: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net) (Quit: computer sleeping)
[07:07:36] <eddyb> oh wow, max_by is so cool: https://github.com/Hoverbear/rust-rosetta/commit/e78ad9d781034fecdab785cae5bf3583e2f7e2fa#diff-fde2bd9ddc2730e3f667457783e72f5cR43
[07:07:46] <eddyb> reminds me of that collatz thing
[07:08:00] <cmr> that *is* the collatz thing
[07:08:04] <ezyang> ...is there an owned singly linked list in std/extra? 
[07:08:19] <cmr> ezyang: not afaik
[07:08:32] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[07:08:49] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:08:50] <ezyang> I think the dlist implementation cheats for its mutable iterator implementation 
[07:09:40] <eddyb> cmr: hmm, I thought it looked similar. why "Hailstone"? but what I was thinking of was the other collatz thing, the stream fusion one
[07:09:55] <cmr> eddyb: because that's the name of the rosetta code wiki page.
[07:10:12] <cmr> why? dunno
[07:10:27] *** Quits: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca) (Quit: canhtak)
[07:12:09] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[07:12:21] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[07:15:10] *** Joins: sammykim (sammy.kim@5AB4884B.FCC4549.14D5B978.IP)
[07:15:15] *** Quits: sammykim (sammy.kim@5AB4884B.FCC4549.14D5B978.IP) (Quit: sammykim)
[07:18:51] <ezyang> Hm. I don't think it's possible to implement a mutable iterator for a doubly linked list with the standard Iterator interface 
[07:18:56] <cmr> rusti: type f80 = f64; let f80: f80;
[07:18:59] <ezyang> *singly linked list 
[07:19:00] -rusti- <anon>:9:29: 9:32 warning: unused variable: `f80` [-W unused-variable (default)]
[07:19:00] -rusti- <anon>:9          type f80 = f64; let f80: f80;
[07:19:00] -rusti-                                       ^~~
[07:19:01] -rusti- ()
[07:20:02] *** Joins: mye (mye@moz-B33CADBB.dip0.t-ipconnect.de)
[07:20:12] <eddyb> cmr: cheating!
[07:20:23] <cmr> not cheating, checking if it's still reserved.
[07:20:42] <eddyb> ahhh
[07:21:57] *** Joins: fabiand (fabiand@moz-8DC1C80C.adsl.alicedsl.de)
[07:22:14] <eddyb> cmr: that reminds me I have to emulate f80 if I want x87 support :P
[07:22:51] <eddyb> but I don't expect floating-point support in rustic *that* soon and vgabios surely won't need it
[07:24:53] *** Quits: jvns (bork@87D98E32.4046EB22.428F94DD.IP) (Ping timeout)
[07:26:19] *** Joins: smodo (ford_p@moz-CCE57F2F.eblcom.ch)
[07:29:36] *** Quits: FreeFull (freefull@moz-467DCB93.as13285.net) (Quit: Bye)
[07:30:58] *** Joins: Blei (philipp@moz-B2F9E4BD.cust.bluewin.ch)
[07:31:03] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:34:05] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[07:34:20] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Client exited)
[07:34:28] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[07:34:41] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[07:35:09] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[07:36:28] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[07:40:04] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[07:42:16] <mark_edward> i wish things in a module were visible in submodules
[07:42:34] <cmr> use super::*;
[07:43:37] *** Quits: alonlevy_ (alon@moz-D8EFCED8.bb.netvision.net.il) (Ping timeout)
[07:44:11] <mark_edward> without being public
[07:44:34] <mark_edward> makes testing awkward, because i'd like to test private functions
[07:44:52] *** Joins: KindOne (KindOne@moz-8392C1C0.dynamic.ip.windstream.net)
[07:44:59] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[07:45:07] <cmr> Child modules can access parents' privates.
[07:46:18] <nathan7> That.. sounds dirty.
[07:46:32] <cmr> http://static.rust-lang.org/doc/master/rust.html#visibility-and-privacy
[07:46:38] <klutzy> hoo, it's finally working http://klutzy.nanabi.org/tmp/emw/gh-pages/index.html
[07:46:42] <klutzy> ( from https://gist.github.com/klutzy/7820031 )
[07:47:04] <cmr> nathan7: it's necessary for useful cross-crate privacy.
[07:47:13] *** Joins: dbaupp (Thunderbir@moz-EB2EFE6F.lns20.syd6.internode.on.net)
[07:47:17] <cmr> Before, nothing could be tested without being public.
[07:47:35] <cmr> Private types were unusable, etc.
[07:47:40] <nathan7> mhm
[07:47:43] <cmr> (within the crate, that is)
[07:47:44] <Blei> klutzy: whu?
[07:47:52] <mark_edward> cmr, really!? since when....
[07:47:56] <Blei> why would you do this :D
[07:47:58] <nathan7> I was joking about your phrasing
[07:48:01] <cmr> mark_edward: since likea month or two ago
[07:48:03] <cmr> Oh
[07:48:17] <cmr> Yes, I sometimes forget I am conversing with humans
[07:48:29] <klutzy> Blei: win32 rust app, with emscripten!
[07:48:33] <nathan7> all the time, sir, all the time
[07:49:12] <klutzy> well I don't know if it works on real win32 since I don't have not win32 machine now :p
[07:49:53] <cmr> klutzy: wait, so, what is emscripten doing there?
[07:49:56] <dbaupp> klutzy: you're mad! :P
[07:49:57] <Blei> so, you/someone rebuilt the win32 api on top of js/emscripten?
[07:49:59] <Blei> this is cracy
[07:50:04] <klutzy> cmr: https://github.com/klutzy/win32.js
[07:50:06] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:50:35] <cmr> klutzy: is that.. a screenshot of a browser?
[07:50:52] <cmr> you *are* mad
[07:51:04] <klutzy> cmr: no, it's full of css! https://github.com/puzzlet/fake-mswin
[07:51:14] <klutzy> it was originally april fool project
[07:51:23] <mark_edward> rusti: ".x.z".split('.').collect::<~[&str]>()
[07:51:25] -rusti- <anon>:9:9: 9:27 error: type `&'static str` does not implement any method in scope named `split`
[07:51:25] -rusti- <anon>:9          ".x.z".split('.').collect::<~[&str]>()
[07:51:25] -rusti-                   ^~~~~~~~~~~~~~~~~~
[07:51:25] -rusti- error: aborting due to previous error
[07:51:26] -rusti- application terminated with error code 101
[07:51:33] <mark_edward> rusti: ".x.z".split_iter('.').collect::<~[&str]>()
[07:51:36] -rusti- ~["", "x", "z"]
[07:51:40] <cmr> oh my
[07:51:51] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[07:51:53] <Blei> april fools is srzbsns
[07:55:22] <klutzy> it's amusing that rust works with emscripten very well
[07:56:18] *** flaper87|afk is now known as flaper87
[08:00:12] *** Quits: markwash (mwashenber@moz-E830FEBB.hsd1.ca.comcast.net) (Quit: markwash)
[08:00:43] <Blei> klutzy: were there any pain points/stuff that didn't work?
[08:01:43] <eddyb> klutzy: y u coffee :(
[08:02:20] <eddyb> ES6 pls
[08:02:41] <klutzy> Blei: nope, except that I can't use std
[08:02:57] <Blei> cool
[08:03:12] <Blei> what would be the problem with std? all the threading stuff i presume?
[08:03:21] <cmr> Blei: io, mostly.
[08:03:28] <Blei> ah, yeah
[08:03:34] <cmr> all of std::rt basically
[08:03:37] <klutzy> Blei: the first one is `extern mod` would not work easily
[08:03:37] * dbaupp wonders if #[no_uv]; would fix that?
[08:03:52] <eddyb> klutzy: static linking ;)
[08:03:56] <dbaupp> klutzy: we have static linking now, fwiw
[08:04:02] <klutzy> eddyb: future work! :p
[08:04:34] <Blei> static linking: translate .rlib files into js :D or alternatively: write a new linker that copy pastes js files
[08:04:55] <klutzy> here's short hello-world code: https://gist.github.com/klutzy/7819231
[08:05:21] <klutzy> rustc --emit-llvm, then emcc. that's all!
[08:05:39] <mark_edward> cmr, i have a test submodule and it can't access non-public functions
[08:06:41] <eddyb> I really feel like copying std::fmt in rust-core. no, that wouldn't work. in rustic directly!
[08:06:54] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[08:07:17] <eddyb> can I override built-in macros?
[08:07:37] <cmr> mark_edward: works for me: https://gist.github.com/7820203
[08:07:58] <mark_edward> hmm...
[08:08:45] *** Joins: jackneill (jackneill@moz-7EFB2DCD.pool.digikabel.hu)
[08:08:46] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[08:09:38] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[08:09:56] <mark_edward> cmr, try this
[08:09:57] <mark_edward> https://gist.github.com/MarkJr94/7820211
[08:09:58] *** Joins: jvns (bork@moz-DE62990.nyc.res.rr.com)
[08:10:51] <cmr> You're right, seems glob imports are broken.
[08:11:18] <cmr> that is unfortunate.
[08:11:21] <mark_edward> the compiler did warn me :-(
[08:12:34] *** Joins: markwash (mwashenber@moz-E830FEBB.hsd1.ca.comcast.net)
[08:14:12] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[08:16:20] *** Quits: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo_)
[08:16:25] *** pmoore|away is now known as pmoore
[08:17:26] <mark_edward> does example.com///////  have a valid path?
[08:17:35] <cmr> yes, /
[08:18:31] <cmr> or, actually, ///////
[08:18:34] <eddyb> iterator!{struct VecIterator -> *T, &'self T}
[08:18:38] <cmr> /
[08:18:38] *** Joins: peterdn (chatzilla@moz-5EB9CC81.as13285.net)
[08:18:50] <eddyb> wtf? I thought that was planned syntax, not actually working
[08:19:02] <cmr> eddyb: that's a macro.
[08:19:07] *** Joins: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP)
[08:19:15] <eddyb> cmr: yeah, but, {} instead of ()
[08:19:21] <cmr> it has existedforever.
[08:19:33] <eddyb> okay >_>
[08:21:45] <geomyidae> what does rusti use to print out whatever it likes?
[08:21:47] *** Joins: Ms2ger (Ms2ger@moz-7C292AC.adsl-dyn.isp.belgacom.be)
[08:21:52] <mark_edward> eddyb, what does that macro do?
[08:21:55] *** Quits: markwash (mwashenber@moz-E830FEBB.hsd1.ca.comcast.net) (Quit: markwash)
[08:22:04] <cmr> mark_edward: see libstd/iter.rs, it's not standard.
[08:22:26] <eddyb> mark_edward: what it does doesn't matter, the invocation syntax is new for me
[08:22:27] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[08:22:32] <cmr> geomyidae: https://github.com/thestinger/rust-playpen/blob/master/bin/irc.sh
[08:23:00] <geomyidae> cmr thanks
[08:23:00] <eddyb> I've heard some talk about future macro syntax and I thought foo!{...} was part of that
[08:23:06] <mark_edward> cmr, it doesn't seem to be there
[08:23:11] *** Quits: future_horizons (Mibbit@moz-61717F7A.bitstream.orcon.net.nz) (Quit: http://www.mibbit.com ajax IRC Client)
[08:23:43] <cmr> mark_edward: vec.rs, sorry
[08:26:00] *** Quits: Zor (zor@moz-180BED6.rfw.name) (Ping timeout)
[08:26:07] * eddyb wishes format! was more portable :(
[08:26:08] <geomyidae> How is that script safe? honor system? 
[08:26:20] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[08:26:20] <cmr> geomyidae: sandboxed, go up a directory :p
[08:26:27] <cmr> eddyb: make it more portable.
[08:27:03] *** Quits: Cork (Cork@moz-352B7E7B.a370.priv.bahnhof.se) (Ping timeout)
[08:27:05] <dbaupp> eddyb: fwiw, foo! { ... } does work now, for macros in item position.
[08:27:19] <dbaupp> eddyb: oh
[08:27:23] * dbaupp reads backlog
[08:27:36] <eddyb> dbaupp: yeah, I was surprised it did
[08:28:00] <cmr> eddyb: *removing* foo! { } was a topic of discussion, not adding it.
[08:28:03] *** Quits: rootnode (rootnode@moz-7FAB5E8.ip1.george24.com) (Ping timeout)
[08:28:03] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:28:43] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:29:06] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[08:29:07] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:29:16] *** Quits: jvns (bork@moz-DE62990.nyc.res.rr.com) (Ping timeout)
[08:31:11] *** Joins: amro (quassel@CC16DC52.8AAAF769.FAAB0799.IP)
[08:31:17] <eddyb> cmr: hmmm. I could make format! use a fmt in scope. and fail! a fail function or so. those would be in std::prelude, so std users won't feel the difference
[08:31:49] <eddyb> but there is a reason format! uses absolute path, because you can have something else named "fmt" in scope >_>
[08:32:13] <cmr> eddyb: it uses absolute paths because of hygiene
[08:32:16] *** Joins: morphevs (Adium@moz-C1F7EB20.cust.bluewin.ch)
[08:32:23] <cmr> really you just need a std module in the crate root.
[08:32:34] <eddyb> I know, it would be messy though
[08:33:08] *** Joins: Cork (Cork@456A2672.BA574D4D.BB9C2183.IP)
[08:33:54] <eddyb> do macros propagate downwards?
[08:34:04] <cmr> hm?
[08:34:10] <eddyb> with macro_escape
[08:34:29] <eddyb> or do I have to `use` the right module every time?
[08:34:33] <cmr> macro_escape makes them globally available iirc.
[08:34:44] <cmr> they don't bother with resolove
[08:34:44] <eddyb> error: aborting due to 58 previous errors // yay less than a thousand errors
[08:36:39] *** Joins: Zor (zor@moz-180BED6.rfw.name)
[08:36:48] <eddyb> error: attempt to implement a nonexistent trait `std::cmp::Eq`
[08:36:51] <eddyb> eeeeeeh I hate that
[08:37:18] *** Quits: KindOne (KindOne@moz-8392C1C0.dynamic.ip.windstream.net) (Ping timeout)
[08:38:07] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[08:41:03] *** Joins: KindOne (KindOne@moz-8392C1C0.dynamic.ip.windstream.net)
[08:43:22] *** Joins: nkoep (nik@moz-F2EA2FDB.pool.mediaways.net)
[08:44:05] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:50:14] <Ms2ger> Did something happen to RcMut?
[08:50:25] *** Joins: pawel (Mibbit@moz-FD2102F4.dynamic.chello.pl)
[08:50:59] <cmr> Ms2ger: dodo, use Rc<RefCell<T>>
[08:51:24] *** Quits: amro (quassel@CC16DC52.8AAAF769.FAAB0799.IP) (Ping timeout)
[08:52:50] <eddyb> lol, dodo
[08:53:06] *** Joins: oberstet (quassel@moz-283369EE.dynamic.mnet-online.de)
[08:53:25] <eddyb> cmr: strcat had to go and name his Option::unwrap "get" before anyone changed std >_>
[08:53:56] <cmr> eddyb: std probably isn't changing.
[08:54:12] <eddyb> I will try to make my code as generic as possible, but I doubt it will ever work on both core and std
[08:55:06] *** Joins: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP)
[08:58:40] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Input/output error)
[09:01:45] <dbaupp> eddyb: macros are available to all items below the macro_rules! declaration, including inside submodules
[09:01:59] <eddyb> dbaupp: aha, thanks
[09:02:02] <dbaupp> eddyb: #[macro_escape] makes it available outside the current module
[09:02:22] <dbaupp> (well, available to things after the current module in its parent.)
[09:03:01] * eddyb wishes there was a nice way to inject things into other modules
[09:03:27] <eddyb> hmmmmmmmm
[09:03:41] <eddyb> what if lang items were exported in a special top-level module?
[09:04:47] <Yurume> eddyb: for now, the best strategy to "export" macros is to add a macro-only module with `#[macro_escape]` and direct users to add `#[path="path/to/macros.rs"] mod _macros;`.
[09:05:16] <eddyb> then format! would use ::__lang_items::fmt_whatever, #[deriving(ToStr)] would impl ::__lang_items::ToStr, etc.
[09:06:28] <eddyb> I would use something harder to create manually, like ::$lang_items, but that's not valid syntax
[09:07:16] <eddyb> although I can see invalid idents like that being created by format!/deriving - as long as it doesn't touch the parser again, it should be fine
[09:07:19] <geomyidae> is it possible to implement IterBytes for something like [u8, ..6] for example?
[09:07:30] <eddyb> but I doubt it doesn't touch the parser again
[09:07:33] <cmr> geomyidae: no
[09:07:56] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[09:08:24] *** Joins: TisButMe (Mibbit@moz-40463609.w80-9.abo.wanadoo.fr)
[09:08:26] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[09:10:07] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[09:10:50] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Quit: Bye)
[09:11:54] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[09:12:05] *** Joins: mr_sticky (Mibbit@moz-2F3BC7A7.ust.hk)
[09:12:17] *** Quits: mr_sticky (Mibbit@moz-2F3BC7A7.ust.hk) (Quit: http://www.mibbit.com ajax IRC Client)
[09:16:40] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[09:16:45] *** Quits: pawel (Mibbit@moz-FD2102F4.dynamic.chello.pl) (Quit: http://www.mibbit.com ajax IRC Client)
[09:18:35] *** Joins: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au)
[09:21:29] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[09:22:03] <gavinb> I've been wrestling for hours with std::comm this week, trying to replicate some Go channel code in Rust to look at concurrency patterns and how similar (or not!) they are.  And then I see acrichto 's PR 10830, and I'm all like - wow! Erk. But - wow!
[09:22:32] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[09:22:50] <cmr> heh
[09:23:03] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[09:24:40] *** Joins: Ferreus (ferreus@moz-ADDD2AD5.dip0.t-ipconnect.de)
[09:28:40] *** Quits: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[09:29:00] *** Joins: rca (rcatolino@moz-996748DF.adsl.proxad.net)
[09:29:02] <yichoi> android cross compile at macos is not working
[09:29:31] <yichoi> I fixed one issue however I can not figure out how to fix gyp related thing
[09:31:23] *** Quits: heftig (heftig@moz-10DC1F36.dip0.t-ipconnect.de) (Quit: Quitting)
[09:31:32] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Client exited)
[09:32:42] <mark_edward> is www.example.com a different domain than example.com?
[09:33:10] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[09:33:37] <gavinb> mark_edward: it's a subdomain which can resolve to a different IP address.
[09:33:41] *** Quits: Kxepal (Miranda@moz-A1D61FF4.pppoe.mtu-net.ru) (Ping timeout)
[09:33:51] <gavinb> Convention is that they are the same, but it's not required.
[09:34:01] *** Joins: refold (gman@moz-42D68426.a258.priv.bahnhof.se)
[09:34:40] <mark_edward> gavinb, thanks! i hate the web sometimes
[09:34:53] <mark_edward> https://github.com/mozilla/rust/pull/10830 what do the bench numbers here mean? is higher better? what is it?
[09:35:04] <gavinb> mark_edward: np. This isn't really anything to do with the web though (or Rust for that matter, but - hey...)
[09:35:17] <Ms2ger> mark_edward, you hate it sometimes?
[09:35:32] <mark_edward> gavinb, while it has to do with rust code i'm writing
[09:35:33] <Ms2ger> mark_edward, I work on it... I *always* hate it :)
[09:36:16] <mark_edward> Ms2ger, see i can usually avoid working on it. then i only hate because of what it's done to my attention span, work ethic, etc. i swear i'd have a 4.0 GPA if we didn't have the internet
[09:36:35] <gavinb> I guess the benchmarks mean that Rust is very close to Go's performance in some cases, and slower in a few others.
[09:36:44] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[09:36:47] <Ms2ger> Speaking of which, I was going to work on that school project today
[09:37:09] *** Joins: Kxepal (Miranda@moz-E41D9856.pppoe.mtu-net.ru)
[09:38:42] <mark_edward> and what are all those different gos? go1, go2, go8, go8-inf???
[09:39:38] *** Quits: telotortium (rmi1@moz-C8F8CE6.hsd1.ca.comcast.net) (Ping timeout)
[09:41:54] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[09:44:53] *** Quits: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP) (Ping timeout)
[09:52:58] <gavinb> mark_edward: It is explained under "The rows are as follows:"
[09:53:09] <gavinb> maxprocs and buffer size, basically
[09:54:00] *** Joins: _eddyb_ (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[09:56:15] *** Quits: morphevs (Adium@moz-C1F7EB20.cust.bluewin.ch) (Quit: Leaving.)
[09:57:12] *** Joins: skade (skade@30BBD5E6.505237C9.CAE22B62.IP)
[09:58:11] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[09:59:26] *** Quits: santiago (santiago@moz-8ADE82B4.socal.res.rr.com) (Quit: Textual IRC Client: http://www.textualapp.com/)
[09:59:57] *** Joins: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP)
[10:01:02] *** Joins: robitex (Mibbit@moz-7CDED281.business.telecomitalia.it)
[10:04:04] *** Quits: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au) (Quit: gavinb)
[10:05:32] *** Joins: santiago (santiago@moz-8ADE82B4.socal.res.rr.com)
[10:06:14] *** Quits: beifeng (Mibbit@284C36E7.3062CEC3.670EEFD.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[10:10:52] *** Joins: thomas001 (thomas@moz-968FA222.informatik.uni-leipzig.de)
[10:11:28] *** Quits: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP) (Ping timeout)
[10:13:03] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[10:14:25] *** Quits: thomas001 (thomas@moz-968FA222.informatik.uni-leipzig.de) (Ping timeout)
[10:14:31] *** kimundi is now known as zz_kimundi
[10:19:02] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[10:22:54] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[10:23:29] *** Joins: beifeng (Mibbit@284C36E7.3062CEC3.670EEFD.IP)
[10:27:54] *** Quits: mye (mye@moz-B33CADBB.dip0.t-ipconnect.de) (Quit: mye)
[10:30:11] *** Joins: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP)
[10:30:30] *** Quits: _eddyb_ (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[10:32:50] *** Joins: mye (mye@moz-B33CADBB.dip0.t-ipconnect.de)
[10:33:13] *** Quits: mye (mye@moz-B33CADBB.dip0.t-ipconnect.de) (Quit: mye)
[10:36:12] *** Joins: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP)
[10:36:22] *** Quits: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP) (Quit: leaving)
[10:36:32] *** Joins: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP)
[10:36:55] *** Joins: mye (mye@moz-B33CADBB.dip0.t-ipconnect.de)
[10:37:11] *** Quits: mye (mye@moz-B33CADBB.dip0.t-ipconnect.de) (Quit: mye)
[10:46:09] *** Joins: morphevs (Adium@moz-C1F7EB20.cust.bluewin.ch)
[10:48:38] *** Quits: jackneill (jackneill@moz-7EFB2DCD.pool.digikabel.hu) (Ping timeout)
[10:48:47] *** Quits: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP) (Quit: leaving)
[10:51:30] *** Quits: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP) (Ping timeout)
[10:51:44] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[10:52:57] *** Joins: _eddyb_ (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[10:57:56] *** Quits: _eddyb_ (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[10:59:48] *** zz_kimundi is now known as kimundi
[11:01:42] *** Joins: _eddyb_ (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[11:03:26] *** Joins: dredozubov (dredozubov@2F14E2C1.F70E5FA9.F63E14E8.IP)
[11:05:57] *** Quits: _eddyb_ (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[11:06:28] *** Joins: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP)
[11:10:43] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Ping timeout)
[11:11:16] *** kimundi is now known as zz_kimundi
[11:11:31] *** Joins: _eddyb_ (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[11:13:03] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[11:14:53] *** Quits: _eddyb_ (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[11:15:22] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[11:15:34] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[11:15:38] *** Parts: robitex (Mibbit@moz-7CDED281.business.telecomitalia.it) ()
[11:16:28] *** Joins: miloshadzic (miloshadzi@59612C1E.AEAC8983.ADC9B595.IP)
[11:16:47] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[11:16:52] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[11:17:55] *** Joins: sarclops (sarclops@moz-7322FD00.tbcn.telia.com)
[11:18:22] *** Joins: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de)
[11:18:29] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Quit: Leaving)
[11:20:39] *** pmoore is now known as pmoore|away
[11:20:49] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Client exited)
[11:21:03] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[11:27:08] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[11:31:29] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Client exited)
[11:32:14] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[11:32:35] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[11:32:44] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[11:33:33] *** Joins: _eddyb_ (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[11:34:36] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Client exited)
[11:34:48] <mark_edward> acrichto, ping
[11:35:13] *** Quits: _eddyb_ (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[11:39:09] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[11:39:09] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[11:44:06] *** Quits: morphevs (Adium@moz-C1F7EB20.cust.bluewin.ch) (Quit: Leaving.)
[11:45:46] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[11:52:21] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[11:53:43] *** Joins: thomas001 (thomas@moz-968FA222.informatik.uni-leipzig.de)
[11:54:10] *** Joins: _eddyb_ (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[11:56:25] *** Joins: Earnestly (earnest@88884C6.A3735F9C.39C00A7A.IP)
[11:56:29] *** Joins: pinupgeek (rramdas@moz-608F14C1.ftth.glasoperator.nl)
[11:56:38] *** Quits: rca (rcatolino@moz-996748DF.adsl.proxad.net) (Ping timeout)
[11:58:23] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[12:00:17] *** Quits: thomas001 (thomas@moz-968FA222.informatik.uni-leipzig.de) (Ping timeout)
[12:03:29] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[12:03:34] *** Joins: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP)
[12:03:47] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[12:06:05] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[12:06:07] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[12:06:17] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[12:06:54] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[12:08:46] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[12:12:12] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[12:18:33] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[12:18:39] <yichoi> gyp generates flaw libuv mk files for android on macos
[12:20:09] *** Joins: frogmella (Mibbit@EB8E247C.15EA8CAF.3BD9FE04.IP)
[12:22:27] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[12:22:46] *** Joins: rca (rcatolino@moz-996748DF.adsl.proxad.net)
[12:23:04] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Connection reset by peer)
[12:23:11] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[12:24:03] <frogmella> will anyone write a lisp version rust?
[12:24:36] *** _eddyb_ is now known as eddyb
[12:24:49] <frogmella> just syntax replacement
[12:27:25] *** Quits: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de) (Quit: Quitting)
[12:27:43] *** Joins: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de)
[12:30:03] *** Quits: victorporof (victorporo@FB8E2A00.483E5FE1.9B1E38F4.IP) (Ping timeout)
[12:30:14] <pnkfelix> frogmella: probably
[12:30:47] <pnkfelix> (maybe this weekend...)
[12:32:52] <frogmella> thank you
[12:32:59] <frogmella> I need this
[12:33:04] <pnkfelix> frogmella: it was a half-joke
[12:33:10] <frogmella> ...
[12:34:00] <pnkfelix> frogmella: its been something I've been thinking of doing; i suspect it would probably just be a different front-end that calls out to libsyntax
[12:34:39] <pnkfelix> frogmella: (the "this weekend" part was the half-joke.  It might be harder than I'm making it out to be, at least to get the quality that I'm hoping for.)
[12:34:55] *** Quits: diverse (diverse@moz-ED94B8D.oc.oc.cox.net) (Quit: WeeChat 0.4.2)
[12:35:37] <frogmella> I wish you Godspeed.
[12:35:38] *** Joins: thomas001 (thomas@moz-968FA222.informatik.uni-leipzig.de)
[12:35:48] <pnkfelix> frogmella: why do you "need" this ?
[12:36:00] <frogmella> I do not want to use clojure
[12:36:52] <frogmella> and I want a fast lisp
[12:37:17] <frogmella> maybe your version will be a fast and typed version of lisp
[12:38:25] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[12:38:49] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[12:39:31] *** Joins: victorporof (victorporo@4A2ED570.C75CDC83.4A6B528C.IP)
[12:44:57] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[12:46:42] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Ping timeout)
[12:47:42] *** pmoore|away is now known as pmoore
[12:49:14] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[12:50:55] <pnkfelix> frogmella: have you tried some of the already existing fast lisps?  E.g. https://github.com/larcenists/larceny
[12:51:22] <pnkfelix> (it is somewhat off topic for this channel, but I figure I might as well give it a plug)
[12:51:47] <pnkfelix> frogmella: a better starting point is this page: http://www.larcenists.org/
[12:56:44] <frogmella> I have heard of that. But a typed lisp would be better.
[12:57:31] <frogmella> And no benchmark comparing larceny with other lanugages, say c++
[12:57:32] <Earnestly> Greenspun strikes again
[12:57:42] *** Quits: Chimmy (ctimothy@moz-1DB1FE6E.hsd1.wa.comcast.net) (Ping timeout)
[12:58:28] *** Quits: pinupgeek (rramdas@moz-608F14C1.ftth.glasoperator.nl) (Ping timeout)
[12:58:47] *** Quits: zmthy (tim@moz-C2881CC3.ecs.vuw.ac.nz) (Quit: leaving)
[13:00:55] <pnkfelix> frogmella: Older benchmark results that did compare against C with gcc -O2 : http://www.larcenists.org/Twobit/benchmarks0.html
[13:02:19] <Earnestly> If you want to waste your time on this, approach it like chicken
[13:02:28] *** Quits: rca (rcatolino@moz-996748DF.adsl.proxad.net) (Ping timeout)
[13:02:55] *** Quits: victorporof (victorporo@4A2ED570.C75CDC83.4A6B528C.IP) (Connection reset by peer)
[13:02:58] *** Joins: taapa (quassel@moz-A1BBEF03.singnet.com.sg)
[13:03:23] *** Joins: Chimmy (ctimothy@moz-1DB1FE6E.hsd1.wa.comcast.net)
[13:03:33] <Earnestly> Or just use chicken
[13:04:12] *** Quits: ekiara (emk@moz-9B1940E9.tech.co.ke) (Quit: leaving)
[13:04:49] *** Quits: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP) (Ping timeout)
[13:06:22] <Earnestly> http://wiki.call-cc.org/programming-for-performance is enlightening
[13:06:59] *** Joins: victorporof (victorporo@68018E20.8E4D8E22.4A6B528C.IP)
[13:08:01] *** Quits: victorporof (victorporo@68018E20.8E4D8E22.4A6B528C.IP) (Quit: victorporof)
[13:15:31] *** Quits: Blub\0 (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[13:15:48] *** Joins: Blub\0 (wry@620605B3.71150E1A.237AE2BA.IP)
[13:16:12] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[13:17:25] *** Joins: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net)
[13:17:27] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[13:23:22] *** Joins: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP)
[13:27:13] *** Quits: Sgeo (quassel@moz-D0F30617.dyn.optonline.net) (Connection reset by peer)
[13:27:50] *** jorendorff_away is now known as jorendorff
[13:29:49] *** Joins: victorporof (victorporo@68018E20.8E4D8E22.4A6B528C.IP)
[13:30:18] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[13:30:50] *** Quits: Chimmy (ctimothy@moz-1DB1FE6E.hsd1.wa.comcast.net) (Ping timeout)
[13:31:53] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[13:33:00] <celeron55> is there any tutorial or examples about using unsafe pointers in rust?
[13:33:06] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[13:33:27] <Ms2ger> "Don"t
[13:33:36] <Ms2ger> *"Don't"
[13:33:37] *** Quits: taotetek (taotetek@E90CF190.930C8FCA.20F09BA6.IP) (Quit: WeeChat 0.4.2)
[13:34:09] <celeron55> Ms2ger: how helpful
[13:34:20] <Ms2ger> Unless interfacing with C
[13:34:42] <celeron55> let's say i just want to learn all the tricks to be able to design wisely
[13:35:22] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[13:35:57] *** Joins: rca (rcatolino@moz-996748DF.adsl.proxad.net)
[13:36:32] *** Joins: Chimmy (ctimothy@moz-1DB1FE6E.hsd1.wa.comcast.net)
[13:36:37] *** Joins: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[13:36:55] <celeron55> it seems std::cast is useful at least
[13:37:09] <klutzy> there are some transmute examples in std
[13:37:29] <klutzy> e.g. converting &[T] to (*T, uint)
[13:39:33] <klutzy> Ascii is also interesting example I think
[13:40:39] <celeron55> is it possible to store type information in a container (to allow safe casts out from it) without making the container know the actual definitions of the types?
[13:41:15] <celeron55> (unsafely it will obviously work)
[13:43:38] *** Joins: MattB (Mibbit@moz-DBBEFDB0.hfc.comcastbusiness.net)
[13:44:03] <MattB> hello
[13:44:28] <MattB> I'm new to both rust and #rust
[13:44:36] *** Joins: tcr (tcr@moz-EAC95265.hfc.comcastbusiness.net)
[13:44:39] <MattB> I had a question if anyone's around
[13:44:47] <dbaupp> MattB: hi
[13:44:50] <dbaupp> ask away
[13:44:55] <MattB> thanks
[13:45:10] <MattB> it has to do with type deduction of numeric literals
[13:45:21] *** Quits: ssbr_ (~ssbr@46FE74EC.C60FE7DC.4065847B.IP) (Ping timeout)
[13:45:49] <MattB> I don't understand why this doesn't compile:
[13:45:59] <MattB> fn deduce<A: Num + Ord>(a: A) -> bool {   a < 2 }  fn main() {   if deduce(1) {     println("Deduced!");   } }
[13:46:24] <MattB> is there a better way to  paste code into irc?
[13:46:57] <dbaupp> there's no generic numeric literals (yet?)
[13:47:50] <MattB> I guess that makes sense
[13:47:57] <MattB> from the tutorial 3.2:
[13:48:02] <MattB> "In the absence of an integer literal suffix, Rust will infer the integer type based on type annotations and function signatures in the surrounding program. In the absence of any type information at all, Rust will assume that an unsuffixed integer literal has type int."
[13:48:12] <dbaupp> so you'd have to write, something like `let one = std::num::one(); a < one + one` and let the optimiser constant fold simple definitions of the std::num::One::one trait.
[13:48:27] <MattB> I interpreted that to mean that rust would figure it out
[13:48:29] <MattB> ah... k
[13:48:55] <dbaupp> MattB: ah, that's slightly different; in this case you're comparing `a: A` with `2: <some integer type>`, but A isn't necessarily one of the valid <some integer type>'s
[13:49:36] <dbaupp> that is, that section is saying `<int> + 1` and `<u8> + 1` are both valid uses of 1; the true type is inferred from the LHS.
[13:49:40] <mark_edward> canc losures capture mutable references?
[13:49:59] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Ping timeout)
[13:50:22] *** Joins: taotetek (taotetek@E90CF190.930C8FCA.20F09BA6.IP)
[13:50:23] <dbaupp> rusti: let mut x = 1; { let y = &mut x; let f = || { *y += 1 }; f(); f(); } x
[13:50:24] -rusti- 3
[13:50:54] <MattB> what if it were some number larger that 2, would it have to be:
[13:50:55] *** Quits: tcr (tcr@moz-EAC95265.hfc.comcastbusiness.net) (Client exited)
[13:51:10] <mark_edward> dbaupp, thanks
[13:51:12] <MattB> a < One::one() * 123456789
[13:51:16] *** Joins: tcr (tcr@moz-EAC95265.hfc.comcastbusiness.net)
[13:51:29] <dbaupp> MattB: well, no, since the multiplication wouldn't work
[13:51:54] *** Quits: victorporof (victorporo@68018E20.8E4D8E22.4A6B528C.IP) (Ping timeout)
[13:51:55] <dbaupp> MattB: on master, http://static.rust-lang.org/doc/master/std/num/trait.FromPrimitive.html
[13:52:23] <MattB> cool thanks!
[13:52:40] *** Quits: beifeng (Mibbit@284C36E7.3062CEC3.670EEFD.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:52:54] <dbaupp> (I don't think much attention/effort has been put into this; that trait is new and the design may be adjusted as people experiment/work out what works.)
[13:53:01] *** Quits: tcr (tcr@moz-EAC95265.hfc.comcastbusiness.net) (Ping timeout)
[13:53:47] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[13:54:40] *** Joins: ssbr_ (~ssbr@46FE74EC.C60FE7DC.4065847B.IP)
[13:55:42] <MattB> understood. :-)
[13:56:38] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[13:57:52] *** Quits: Chimmy (ctimothy@moz-1DB1FE6E.hsd1.wa.comcast.net) (Ping timeout)
[13:58:11] <mletterle> Good morning rustaceans of rustocia.
[13:58:29] <bstrie> rustonia
[13:59:06] <mletterle> rustceania
[13:59:12] *** Joins: victorporof (victorporo@4235A1D2.22FD687A.2B3D3D4.IP)
[13:59:12] <mletterle> rustopia
[14:00:46] <eddyb> aaaargh my brain is exploding https://en.wikipedia.org/wiki/Unlambda https://en.wikipedia.org/wiki/Iota_and_Jot
[14:02:16] <eddyb> looking at rosetta code tasks might be more meaningful. maybe they have some very simple interpreter thing
[14:03:20] <Ms2ger> "a version of the lambda calculus that omits the lambda operator"
[14:03:33] *** Joins: Chimmy (ctimothy@moz-1DB1FE6E.hsd1.wa.comcast.net)
[14:05:24] <eddyb> Ms2ger: thus resulting in "calculus"
[14:05:37] <Ms2ger> eddyb++
[14:06:21] <eddyb> who needs IO when you have universal calculus!
[14:06:52] *** Joins: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca)
[14:07:01] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[14:07:27] <eddyb> I understand the attraction, but I'll never see haskell as practical reasoning
[14:08:20] *** Joins: AvianFlu (AvianFlu@moz-31F97978.nyc.res.rr.com)
[14:09:10] <eddyb> and all that superior "you don't understand monads" stuff. eh, I should stop before I'm kicked for sharing personal feelings :P
[14:10:51] <Ms2ger> Only for discussing haskell ;)
[14:11:37] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[14:12:23] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[14:13:47] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[14:18:16] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[14:20:59] *** Quits: Chimmy (ctimothy@moz-1DB1FE6E.hsd1.wa.comcast.net) (Ping timeout)
[14:21:13] *** Joins: IRCMonkey57424 (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[14:23:38] <celeron55> hmm, basically i'm looking for a way to have type introspection
[14:24:33] <eddyb> see std::repr and the visitor glue thing
[14:25:16] * eddyb has no idea where everything is and whether it's even documented
[14:25:28] *** Joins: lfox (lfox@moz-89EEE1BF.nyc.res.rr.com)
[14:25:50] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[14:26:05] <eddyb> celeron55: there's a way to traverse any type, going in struct fields, enum variants, etc. wait - I'm not sure that's what you need
[14:26:40] *** Joins: Chimmy (ctimothy@moz-1DB1FE6E.hsd1.wa.comcast.net)
[14:27:04] <eddyb> rusti: format!("{:?}", Some(~[(0, false), (1, true)]))
[14:27:05] -rusti- ~"Some(~[(0, false), (1, true)])"
[14:27:54] *** Quits: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP) (Ping timeout)
[14:28:55] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[14:29:36] <celeron55> eddyb: that's kind of useful too but i'm not sure if it's what i'm looking for now; i'll take a look though
[14:30:10] <eddyb> celeron55: you want to inspect a type, not a value?
[14:31:31] <celeron55> i want to cobble together a module which stores unknown types in some container and gives them out to whoever thinks they know how to handle those types
[14:31:41] <eddyb> I mean, without having a concrete value - I don't know how to that from code
[14:31:57] <celeron55> (i'll probably look at the repr stuff later, it's an another thing i want to test out)
[14:32:20] *** Quits: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP) (Client exited)
[14:32:35] *** Joins: RageOfThou (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[14:32:57] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[14:33:31] *** Quits: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:33:59] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[14:35:34] <eddyb> Ms2ger: http://www.reddit.com/r/haskell/comments/ypcu7/hello_world_in_ski_combinator_calculus/
[14:36:50] <bstrie> god help you if you forget a single parenthesis
[14:37:30] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[14:37:56] <eddyb> Gdkkn Vnqkc?
[14:40:27] <Ms2ger> Madness :)
[14:41:14] <celeron55> it's like brainfuck but with lesser characters 8)
[14:41:27] *** Joins: jensnock_ (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[14:41:30] *** Quits: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[14:42:06] <celeron55> less*
[14:42:09] *** Quits: smodo (ford_p@moz-CCE57F2F.eblcom.ch) (Ping timeout)
[14:42:09] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[14:42:24] <celeron55> (actually, i don't even know if either of those is valid english)
[14:42:46] *** jorendorff is now known as jorendorff_away
[14:44:42] *** Quits: skade (skade@30BBD5E6.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:45:10] *** Quits: rca (rcatolino@moz-996748DF.adsl.proxad.net) (Ping timeout)
[14:46:19] *** Quits: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de) (Ping timeout)
[14:46:54] *** Quits: frogmella (Mibbit@EB8E247C.15EA8CAF.3BD9FE04.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:47:10] *** Joins: heftig (heftig@E5286893.2C8A5206.172227A7.IP)
[14:47:47] <bstrie> celeron55: actually, it's much, much longer than the equivalent program in brainfuck
[14:48:10] <bstrie> ++++++++++[>+++++++>++++++++++>+++>+<<<<-]>++.>+.+++++++..+++.>++.<<+++++++++++++++.>.+++.------.--------.>+.>.
[14:48:16] <bstrie> ^ hello world in brainfuck
[14:49:11] <klutzy> bstrie: 
[14:49:16] <klutzy> http://esolangs.org/wiki/Aheui :)
[14:49:17] <bstrie> however, the restricted subset of minimalist brainfuck would probably be a few kilobytes at least :P
[14:50:56] <bstrie> klutzy: see BFmin1 at http://p-nand-q.com/humor/programming_languages/brainfuck.html
[14:51:09] <bstrie> where the example fibonacci program is 50kb :P
[14:51:32] *** Quits: AvianFlu (AvianFlu@moz-31F97978.nyc.res.rr.com) (Input/output error)
[14:52:11] *** Quits: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP) (Client exited)
[14:52:40] <klutzy> wow, great :D
[14:54:35] *** Quits: MattB (Mibbit@moz-DBBEFDB0.hfc.comcastbusiness.net) (Quit: http://www.mibbit.com ajax IRC Client)
[14:57:59] *** Joins: smodo (ford_p@moz-6398EFDF.dclient.hispeed.ch)
[14:59:29] *** zz_kimundi is now known as kimundi
[14:59:40] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[15:02:38] *** Joins: jvns (bork@moz-DE62990.nyc.res.rr.com)
[15:04:21] <cmr> celeron55: use generics? raw pointers are just like C pointers, what would you expect in a tutorial on them?
[15:05:00] <tiffany> celeron55: have you tried using trait objects?
[15:05:42] <cmr> celeron55: oh, look at the Any type.
[15:05:45] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[15:05:50] *** Joins: rca (rcatolino@moz-996748DF.adsl.proxad.net)
[15:05:55] * cmr finished the backlog
[15:06:19] <cmr> http://static.rust-lang.org/doc/master/std/any/trait.Any.html
[15:06:22] *** Quits: heftig (heftig@E5286893.2C8A5206.172227A7.IP) (Ping timeout)
[15:06:23] *** Quits: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca) (Quit: canhtak)
[15:07:35] <celeron55> okay this looks pretty good
[15:07:44] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[15:08:57] *** Quits: rca (rcatolino@moz-996748DF.adsl.proxad.net) (Ping timeout)
[15:08:57] *** Quits: lfox (lfox@moz-89EEE1BF.nyc.res.rr.com) (Ping timeout)
[15:09:12] <celeron55> it has the issue though that i have 0.8 which doesn't have that, and can't really compile master because this computer is basically unable to do that
[15:09:58] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[15:10:17] *** Quits: Chimmy (ctimothy@moz-1DB1FE6E.hsd1.wa.comcast.net) (Ping timeout)
[15:10:20] *** Joins: dredozub_ (dredozubov@2F14E2C1.F70E5FA9.F63E14E8.IP)
[15:10:23] *** Joins: Chimmy (ctimothy@moz-1DB1FE6E.hsd1.wa.comcast.net)
[15:10:43] *** Quits: dredozubov (dredozubov@2F14E2C1.F70E5FA9.F63E14E8.IP) (Ping timeout)
[15:11:39] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Quit: 전 이만 갑니다.)
[15:13:06] <cmr> there are nightlies, https://github.com/mozilla/rust/wiki/Doc-packages,-editors,-and-other-tools
[15:13:45] <bstrie> ...wtf, that can't be a real URL
[15:14:02] <celeron55> cmr: oh, hadn't found that, good
[15:14:05] <Blei> bstrie: didn't we have this conversation yesterday >_>
[15:14:16] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[15:14:17] <bstrie> <_<  >_>  <_>
[15:14:34] <Blei> ^_^
[15:14:35] <celeron55> the URL is fine 8)
[15:14:46] <mletterle> damn.. I didn't think it was an actual URL either...
[15:15:18] *** Quits: Chimmy (ctimothy@moz-1DB1FE6E.hsd1.wa.comcast.net) (Ping timeout)
[15:16:08] <KokaKiwi> Heh, about Braifuck, I've wrote a small BF interpreter few weeks ago: https://github.com/KokaKiwi/brainfuck-rs :D
[15:16:14] <KokaKiwi> (And, hello chan o/)
[15:16:21] <KokaKiwi> Brainfuck*
[15:16:34] <bstrie> KokaKiwi: brainfuck is so decadent! we've already proven that it only needs three operators
[15:16:42] <bstrie> hence I petition that rust does the same
[15:17:05] <KokaKiwi> :D
[15:17:24] *** Joins: bynaryshef (bynaryshef@moz-65BC52B3.mem.bellsouth.net)
[15:17:52] <KokaKiwi> bstrie: What language needs only three operators? :o
[15:18:00] *** Joins: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca)
[15:19:30] <bstrie> KokaKiwi: read http://p-nand-q.com/humor/programming_languages/brainfuck.html
[15:19:38] <bstrie> and become enlightened
[15:20:21] <cmr> One of my acquaintances extended brainfuck very elegantly with / and \ operators for changing the stack pointer in the second dimension (ie, 2d stack!)
[15:20:37] <bstrie> DECADENCE
[15:20:44] <bstrie> wastefulness
[15:20:49] <bstrie> unnecessary
[15:20:59] <bstrie> next they'll be adding monads to brainfuck
[15:22:43] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[15:23:13] *** Quits: dredozub_ (dredozubov@2F14E2C1.F70E5FA9.F63E14E8.IP) (Input/output error)
[15:23:48] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[15:26:02] *** Joins: markwash (mwashenber@moz-E830FEBB.hsd1.ca.comcast.net)
[15:26:14] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[15:26:14] <jensnock_> Oh dear, brainfuck++
[15:26:37] *** Joins: Chimmy (ctimothy@moz-1DB1FE6E.hsd1.wa.comcast.net)
[15:26:39] *** Joins: rootnode (rootnode@moz-7FAB5E8.ip1.george24.com)
[15:27:46] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[15:28:34] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[15:31:42] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[15:32:01] *** Quits: paulproteus (quassel@199.199.210.158) (Ping timeout)
[15:32:19] *** Joins: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com)
[15:33:50] *** Joins: paulproteus (quassel@458FE134.3EC36C88.CBDCF1DC.IP)
[15:34:04] <bstrie> jensnock_: are you related to jensnockert
[15:34:12] <jensnock_> Yes.
[15:34:17] <bstrie> jensnock_: ask him how rust skane went
[15:34:17] <jensnock_> I am the same person, I think.
[15:34:19] <jensnock_> I hope.
[15:34:26] <jensnock_> It went well!
[15:34:30] <jensnock_> Like 20 people came!!
[15:34:34] <bstrie> hooray!
[15:34:37] <bstrie> what city is it in
[15:34:44] <jensnock_> Malmö.
[15:35:04] <bstrie> is that the analogue of san francisco for the nordic states?
[15:35:10] <jensnock_> Not really.
[15:35:10] *** jorendorff_away is now known as jorendorff
[15:35:20] <jensnock_> It is the third largest city in Sweden.
[15:35:36] <jensnock_> And definitely not the largest IT city.
[15:36:14] <jensnock_> But we have a lot of cool people to compensate.
[15:36:56] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Connection reset by peer)
[15:37:40] <cmr> bjz: do you find yourself wanting to make more commits on your libs just to shut up rust-ci about build fixes?
[15:38:09] *** Quits: bynaryshef (bynaryshef@moz-65BC52B3.mem.bellsouth.net) (Quit: Leaving)
[15:38:19] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[15:38:26] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[15:38:42] <bjz> cmr: hmm?
[15:38:47] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[15:38:58] *** Joins: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net)
[15:39:00] <cmr> travis keeps sending emails what all of my things have been fixed >_>
[15:41:00] *** Quits: thomas001 (thomas@moz-968FA222.informatik.uni-leipzig.de) (Client exited)
[15:41:49] * bjz has an auto-filter that moves travis emails out of his inbox
[15:42:40] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[15:45:20] *** Quits: q66__ (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[15:46:49] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[15:48:06] *** jorendorff is now known as jorendorff_away
[15:48:50] *** Joins: jackneill (jackneill@moz-CFDD7A9B.pool.digikabel.hu)
[15:49:09] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[15:49:46] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[15:53:28] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[15:54:03] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[15:54:35] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[15:55:17] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[15:55:27] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[15:55:52] *** Joins: cubic (cubic@moz-80241A3A.mc.videotron.ca)
[15:55:52] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[15:55:57] *** Joins: doomlord_ (servitor@moz-D40D68D6.range86-184.btcentralplus.com)
[15:57:26] *** Joins: blank_name (blank_name@BF9738BA.82815ADA.31EC03F3.IP)
[15:57:31] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[15:58:27] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[15:59:02] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[16:00:05] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[16:00:08] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[16:02:45] *** Quits: bjz (bjz@moz-C1B1AF2A.lnse2.cha.bigpond.net.au) (Quit: Textual IRC Client: www.textualapp.com)
[16:02:55] *** Joins: bjz (bjz@moz-C1B1AF2A.lnse2.cha.bigpond.net.au)
[16:03:01] *** Quits: Ferreus (ferreus@moz-ADDD2AD5.dip0.t-ipconnect.de) (Ping timeout)
[16:07:58] *** jorendorff_away is now known as jorendorff
[16:09:30] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[16:11:00] *** Joins: heftig (heftig@moz-10DC1F36.dip0.t-ipconnect.de)
[16:11:56] *** Joins: jvshahid (jvshahid@BE83DFD.50866E69.CA2DF2C0.IP)
[16:14:02] *** Joins: tcr (tcr@moz-6FEAEFBC.hfc.comcastbusiness.net)
[16:14:53] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[16:15:06] *** Joins: victorporof_ (victorporo@4235A1D2.22FD687A.2B3D3D4.IP)
[16:15:24] *** Quits: jensnock_ (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[16:15:55] *** Quits: victorporof (victorporo@4235A1D2.22FD687A.2B3D3D4.IP) (Ping timeout)
[16:16:01] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[16:17:25] *** Joins: docbrown (docbrown@5CE9D448.F0B9EFB2.7F8758CE.IP)
[16:18:14] *** Quits: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP) (Quit: Leaving)
[16:19:53] *** Joins: AvianFlu_ (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[16:20:51] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Ping timeout)
[16:21:18] *** Joins: mib_wlrynr (Mibbit@moz-E6EE2958.hsd1.ga.comcast.net)
[16:21:36] <mib_wlrynr> ?
[16:21:48] <cmr> mib_wlrynr: yes?
[16:21:57] <mib_wlrynr> good morning
[16:22:03] <mib_wlrynr> is the firefox help area
[16:22:15] <cmr> no, see #firefox
[16:22:36] <mib_wlrynr> thank you, have a good day
[16:22:55] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[16:23:15] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[16:23:19] *** Parts: mib_wlrynr (Mibbit@moz-E6EE2958.hsd1.ga.comcast.net) ()
[16:26:44] *** Joins: rca (rcatolino@moz-996748DF.adsl.proxad.net)
[16:27:57] <bstrie> how do people even end up here when they're trying to find firefox
[16:28:09] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[16:28:30] <cmr> a very good question
[16:28:31] <bstrie> it is a mystery
[16:30:02] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[16:32:53] *** Quits: Ms2ger (Ms2ger@moz-7C292AC.adsl-dyn.isp.belgacom.be) (Quit: nn)
[16:32:57] *** Joins: skade (skade@moz-7A703D87.pools.arcor-ip.net)
[16:33:13] *** Quits: tcr (tcr@moz-6FEAEFBC.hfc.comcastbusiness.net) (Client exited)
[16:33:17] *** Joins: tcr (tcr@moz-6FEAEFBC.hfc.comcastbusiness.net)
[16:34:07] *** Quits: tcr (tcr@moz-6FEAEFBC.hfc.comcastbusiness.net) (Connection reset by peer)
[16:34:18] *** Joins: tcr (tcr@moz-6FEAEFBC.hfc.comcastbusiness.net)
[16:34:34] *** Quits: skade (skade@moz-7A703D87.pools.arcor-ip.net) (Quit: Textual IRC Client: www.textualapp.com)
[16:39:23] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[16:40:18] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[16:40:20] *** Joins: jstevans (Instantbir@moz-C895D5FE.bootp.virginia.edu)
[16:41:14] *** Joins: alan (alan@moz-FE02DD30.sat6.rackspace.com)
[16:41:31] *** Joins: osa1_ (omer@moz-8FDAB45C.hsd1.il.comcast.net)
[16:42:12] <osa1_> I'm trying to run an old code and apparently managed and owned closure pointers are removed, why are they removed and what replaced them?
[16:42:29] *** Joins: sebcrozet (sebcrozet@moz-D8879CC3.w80-13.abo.wanadoo.fr)
[16:42:54] <cmr> osa1_: owned closures have been replaced with `proc`, which is `~once fn`.
[16:43:04] <cmr> Managed closures are gone entirely.
[16:43:11] <cmr> Use trait objects if you need their functionality.
[16:43:18] <osa1_> cmr: do you mean gone from the language?
[16:43:20] <celeron55> ehm... how do i append elements of a vector to another?
[16:43:21] <cmr> osa1_: yes
[16:43:34] <osa1_> cmr: so we'll have support for them as a library from now on, right?
[16:43:36] <cmr> celeron55: v1.push_all(v2);
[16:43:40] <cmr> osa1_: no
[16:43:52] <cmr> osa1_: they're superceded by trait objects.
[16:44:04] <celeron55> cmr: thanks; the documentation is incredibly hard to browse for these kinds of simple things
[16:44:28] <cmr> celeron55: yes, it's not very good for built-in types. I'll probably fix it this weekend.
[16:44:41] <celeron55> is there some logic by which i could have guessed that it is in OwnedCopyableVector? 8)
[16:44:51] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[16:44:56] *** Quits: fabiand (fabiand@moz-8DC1C80C.adsl.alicedsl.de) (Quit: Verlassend)
[16:44:59] <kimundi> cmr: Wut? How do you plan to fix it? :)
[16:44:59] <celeron55> instead of... any of the others
[16:45:13] <cmr> celeron55: not particularly, not without prior knowledge of the traits...
[16:45:37] <cmr> kimundi: magick toplevel "builtin" module.
[16:45:51] <cmr> just for docs
[16:46:09] <kimundi> celeron55: Not really, there fact that those methods are implemented with a trait is considered a workaround for not being able to implement on the vector types themselfes
[16:46:27] <kimundi> cmr: Hm
[16:46:47] <cmr> kimundi: it's a hack, but we *need* something, anything, it can be improved later.
[16:46:48] <celeron55> it would be good to have the methods of all the traits listed on the std::vec page
[16:46:50] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[16:46:56] <kimundi> sure
[16:47:06] <cmr> I don't think it's realistic to push it off because no one can find a super nice way to do it
[16:48:12] <celeron55> (instead of having to click through all the traits one-by-one)
[16:48:22] <ssbr> celeron55: yes
[16:49:43] *** Joins: oberstet_ (quassel@moz-283369EE.dynamic.mnet-online.de)
[16:49:47] *** Quits: RageOfThou (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Connection reset by peer)
[16:50:03] <ssbr> having a listing of traits+methods listed nested under the type would be great
[16:50:05] *** Quits: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net) (Ping timeout)
[16:50:09] *** Quits: kuuranne (kuuranne@moz-C4357EA7.kapsi.fi) (Ping timeout)
[16:50:09] *** Quits: Ke (jkarlson@moz-785A3407.org.aalto.fi) (Ping timeout)
[16:50:14] *** Joins: Ke (jkarlson@moz-785A3407.org.aalto.fi)
[16:50:17] *** Quits: Kauhsa (kauhsa@moz-A78B2D1A.fi) (Ping timeout)
[16:50:18] *** Joins: kuuranne (kuuranne@moz-C4357EA7.kapsi.fi)
[16:50:30] *** Quits: oberstet (quassel@moz-283369EE.dynamic.mnet-online.de) (Ping timeout)
[16:50:30] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Ping timeout)
[16:50:30] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Ping timeout)
[16:50:30] *** Quits: mrmonday (mrmonday@moz-C7DC1A73.lin.openzula.org) (Ping timeout)
[16:50:30] *** Quits: victorporof_ (victorporo@4235A1D2.22FD687A.2B3D3D4.IP) (Ping timeout)
[16:50:31] *** Joins: mrmonday (mrmonday@moz-C7DC1A73.lin.openzula.org)
[16:50:36] *** Quits: agrif (agrif@moz-94847975.net) (Ping timeout)
[16:50:36] *** Quits: Cork (Cork@456A2672.BA574D4D.BB9C2183.IP) (Ping timeout)
[16:50:39] *** Quits: zxcdw (r-a@ACF33729.B543C4DE.3933CC16.IP) (Ping timeout)
[16:50:41] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[16:50:42] *** Quits: quasisphere (btw@DC685DC2.94302614.1D0D91FF.IP) (Ping timeout)
[16:50:42] *** Quits: nonehaxor (nonehaxor@BA9CBAE.4C3B0355.EE6E63A5.IP) (Ping timeout)
[16:50:42] *** Quits: taotetek (taotetek@E90CF190.930C8FCA.20F09BA6.IP) (Ping timeout)
[16:50:42] *** Quits: japaric (japaric@FFB1354E.A75B951F.A936879B.IP) (Ping timeout)
[16:50:44] *** Quits: friggle (friggle@moz-A607EAFA.members.linode.com) (Ping timeout)
[16:50:44] *** Quits: Kxepal (Miranda@moz-E41D9856.pppoe.mtu-net.ru) (Ping timeout)
[16:50:49] *** Quits: joelteon (bzzt@moz-317E8D0C.io) (Ping timeout)
[16:50:49] *** Quits: secretrobotron (secretrobo@moz-E9501591.members.linode.com) (Ping timeout)
[16:50:49] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Ping timeout)
[16:50:49] *** Quits: vq (vq@moz-65A5483F.tbcn.telia.com) (Ping timeout)
[16:50:49] *** Quits: havarnov (havarnov@7FCD87A9.7B7BA24D.CB207656.IP) (Ping timeout)
[16:50:49] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Ping timeout)
[16:50:50] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Ping timeout)
[16:50:50] *** Joins: havarnov (havarnov@7FCD87A9.7B7BA24D.CB207656.IP)
[16:50:52] *** Joins: nonehaxor (nonehaxor@BA9CBAE.4C3B0355.EE6E63A5.IP)
[16:50:52] *** Joins: taotetek (taotetek@E90CF190.930C8FCA.20F09BA6.IP)
[16:50:54] *** Joins: japaric (japaric@FFB1354E.A75B951F.A936879B.IP)
[16:50:55] *** Joins: quasisphere (btw@DC685DC2.94302614.1D0D91FF.IP)
[16:50:57] *** Quits: wting (wting@4F978BD6.5564A9BA.9510F13D.IP) (Ping timeout)
[16:50:57] *** Quits: reed (reed@tech.monkey) (Ping timeout)
[16:50:59] *** Quits: TisButMe (Mibbit@moz-40463609.w80-9.abo.wanadoo.fr) (Ping timeout)
[16:51:05] *** Joins: agrif (agrif@moz-94847975.net)
[16:51:07] *** Joins: Cork (Cork@moz-352B7E7B.a370.priv.bahnhof.se)
[16:51:09] *** Quits: bstrie (ben@moz-D5A1D0F5.members.linode.com) (Ping timeout)
[16:51:20] *** Quits: petantik (oz@moz-20EC2160.net) (Ping timeout)
[16:51:28] *** Quits: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP) (Ping timeout)
[16:51:42] *** Quits: Deewiant (deewiant@moz-C015B7F8.iki.fi) (Ping timeout)
[16:51:43] *** Quits: AlexMax (alexmax@moz-3D3F5603.funcrusher.net) (Ping timeout)
[16:51:59] *** Joins: joelteon (bzzt@moz-317E8D0C.io)
[16:52:05] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[16:53:05] *** Joins: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP)
[16:53:45] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[16:54:06] *** Joins: victorporof (victorporo@4235A1D2.22FD687A.2B3D3D4.IP)
[16:54:07] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[16:54:07] *** Joins: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net)
[16:54:15] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[16:54:19] *** Joins: wting (wting@4F978BD6.5564A9BA.9510F13D.IP)
[16:54:32] *** Joins: bstrie (ben@moz-D5A1D0F5.members.linode.com)
[16:54:45] *** Quits: Earnestly (earnest@88884C6.A3735F9C.39C00A7A.IP) (Ping timeout)
[16:54:47] *** Joins: AlexMax (alexmax@moz-3D3F5603.funcrusher.net)
[16:54:48] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[16:55:09] *** Joins: vq (vq@moz-65A5483F.tbcn.telia.com)
[16:55:27] *** Joins: Kauhsa (kauhsa@moz-A78B2D1A.fi)
[16:55:36] *** Joins: Deewiant (deewiant@moz-C015B7F8.iki.fi)
[16:55:38] *** Joins: secretrobotron (secretrobo@moz-E9501591.members.linode.com)
[16:55:41] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[16:56:07] *** Joins: reed (reed@tech.monkey)
[16:56:11] *** Joins: petantik (oz@moz-20EC2160.net)
[16:56:26] *** Quits: tcr (tcr@moz-6FEAEFBC.hfc.comcastbusiness.net) (Client exited)
[16:56:35] *** Quits: jackneill (jackneill@moz-CFDD7A9B.pool.digikabel.hu) (Quit: WeeChat 0.4.1)
[16:56:44] *** Joins: zxcdw (r-a@ACF33729.B543C4DE.3933CC16.IP)
[16:56:46] *** Joins: tcr (tcr@moz-6FEAEFBC.hfc.comcastbusiness.net)
[16:56:51] *** Joins: jackneill (jackneill@moz-CFDD7A9B.pool.digikabel.hu)
[16:57:42] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[16:57:53] *** Joins: friggle (friggle@moz-A607EAFA.members.linode.com)
[16:58:07] *** pmoore is now known as pmoore|away
[16:58:17] *** Quits: jackneill (jackneill@moz-CFDD7A9B.pool.digikabel.hu) (Quit: WeeChat 0.4.1)
[16:58:18] *** Joins: Kxepal (Miranda@moz-E41D9856.pppoe.mtu-net.ru)
[16:58:29] *** Quits: tcr (tcr@moz-6FEAEFBC.hfc.comcastbusiness.net) (Ping timeout)
[16:58:32] *** Joins: jackneill (jackneill@moz-CFDD7A9B.pool.digikabel.hu)
[17:00:05] *** Joins: bynaryshef (bynaryshef@moz-65BC52B3.mem.bellsouth.net)
[17:02:37] *** Quits: miloshadzic (miloshadzi@59612C1E.AEAC8983.ADC9B595.IP) (Ping timeout)
[17:03:56] <acrichto> mark_edward: pong
[17:04:12] *** Quits: jvns (bork@moz-DE62990.nyc.res.rr.com) (Ping timeout)
[17:05:52] *** Joins: Earnestly (earnest@88884C6.A3735F9C.39C00A7A.IP)
[17:06:10] *** Quits: vq (vq@moz-65A5483F.tbcn.telia.com) (Ping timeout)
[17:06:18] *** Quits: wting (wting@4F978BD6.5564A9BA.9510F13D.IP) (Ping timeout)
[17:06:36] *** Quits: secretrobotron (secretrobo@moz-E9501591.members.linode.com) (Ping timeout)
[17:06:43] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[17:06:48] *** Quits: zxcdw (r-a@ACF33729.B543C4DE.3933CC16.IP) (Ping timeout)
[17:06:53] *** Quits: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net) (Ping timeout)
[17:06:53] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[17:06:53] *** Quits: Kxepal (Miranda@moz-E41D9856.pppoe.mtu-net.ru) (Ping timeout)
[17:07:00] *** Quits: reed (reed@tech.monkey) (Ping timeout)
[17:07:00] *** Quits: bstrie (ben@moz-D5A1D0F5.members.linode.com) (Ping timeout)
[17:07:05] *** Quits: markwash (mwashenber@moz-E830FEBB.hsd1.ca.comcast.net) (Quit: markwash)
[17:07:11] *** Quits: Kauhsa (kauhsa@moz-A78B2D1A.fi) (Ping timeout)
[17:07:17] *** Quits: Deewiant (deewiant@moz-C015B7F8.iki.fi) (Ping timeout)
[17:07:26] *** Quits: AlexMax (alexmax@moz-3D3F5603.funcrusher.net) (Ping timeout)
[17:07:26] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Ping timeout)
[17:07:46] *** Quits: victorporof (victorporo@4235A1D2.22FD687A.2B3D3D4.IP) (Connection reset by peer)
[17:07:54] *** Quits: petantik (oz@moz-20EC2160.net) (Ping timeout)
[17:10:01] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[17:10:02] *** Joins: lfox (lfox@moz-8C19C973.nyc.res.rr.com)
[17:10:17] *** Joins: victorporof (victorporo@4235A1D2.22FD687A.2B3D3D4.IP)
[17:10:17] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[17:10:20] *** Joins: Kxepal (Miranda@moz-E41D9856.pppoe.mtu-net.ru)
[17:10:22] *** Joins: bstrie (ben@moz-D5A1D0F5.members.linode.com)
[17:10:31] *** Joins: vq (vq@moz-65A5483F.tbcn.telia.com)
[17:10:40] *** Joins: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net)
[17:10:41] *** Joins: wting (wting@4F978BD6.5564A9BA.9510F13D.IP)
[17:10:54] *** Joins: petantik (oz@moz-20EC2160.net)
[17:11:09] *** Joins: Deewiant (deewiant@moz-C015B7F8.iki.fi)
[17:11:14] *** Joins: Kauhsa (kauhsa@moz-A78B2D1A.fi)
[17:11:47] *** Joins: reed (reed@tech.monkey)
[17:12:02] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[17:12:19] *** Joins: AlexMax (alexmax@moz-3D3F5603.funcrusher.net)
[17:12:27] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[17:12:38] *** Joins: secretrobotron (secretrobo@moz-E9501591.members.linode.com)
[17:12:53] *** Joins: zxcdw (r-a@ACF33729.B543C4DE.3933CC16.IP)
[17:14:02] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[17:14:18] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[17:15:58] *** Quits: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca) (Quit: canhtak)
[17:17:06] <celeron55> so, i have a variable which holds struct A as ~std::any::Any
[17:17:27] <celeron55> how do i get A back?
[17:17:38] *** Quits: jdavis (jdavis@moz-1BE8A6A1.hsd1.ca.comcast.net) (Ping timeout)
[17:18:47] <cmr> celeron55: http://static.rust-lang.org/doc/master/std/any/trait.AnyOwnExt.html
[17:19:54] *** Joins: jdavis (jdavis@moz-1BE8A6A1.hsd1.ca.comcast.net)
[17:21:26] <celeron55> oh this is cool
[17:22:03] *** Quits: lpy (lpy@12172131.F09091A8.1348A864.IP) (Client exited)
[17:22:09] *** Quits: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net) (Quit: leaving)
[17:22:19] *** Joins: maxiepoo_ (Max@moz-FFD7044A.nuwlan.northwestern.edu)
[17:23:00] <bstrie> cmr: the method signature on that page looks a little weird...
[17:23:12] <bstrie> wait, no
[17:23:12] <cmr> bstrie: in what way?
[17:23:13] <bstrie> nm
[17:23:20] <cmr> ok
[17:23:32] <bstrie> cmr: it took me *forever* to find the angle bracket that closed the type parameters
[17:23:55] <bstrie> for some reason I was seeing "c>" as one character
[17:24:13] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Client exited)
[17:24:13] <bstrie> <-- not a smart man
[17:24:21] <Seldaek> bstrie: I think that's your brain not the page :p
[17:24:52] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[17:25:28] *** Joins: mikezaby (mikezaby@moz-4BF6308B.home.otenet.gr)
[17:25:35] *** Parts: mikezaby (mikezaby@moz-4BF6308B.home.otenet.gr) ()
[17:25:56] *** Joins: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca)
[17:27:53] <cmr> kimundi: nmatsakis: Do you know how single inheritance subtyping is going to interact with trait objects and Any?
[17:27:59] <bstrie> Seldaek: nah, I still blame the page :P down with monaco!!
[17:29:14] <bstrie> removing monaco from my stylesheet makes it infinitely more readable
[17:29:28] *** Quits: victorporof (victorporo@4235A1D2.22FD687A.2B3D3D4.IP) (Quit: victorporof)
[17:29:41] *** Joins: zslayton (Mibbit@81EB2473.5F4BC84E.66C78B76.IP)
[17:31:04] *** Joins: ptc (Adium@moz-7D1F0258.thefacebook.com)
[17:31:08] *** Joins: GeneralMaximus (ankur@B4DF73F6.7D84F5AD.260B031E.IP)
[17:32:50] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Connection reset by peer)
[17:33:34] *** Quits: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net) (Ping timeout)
[17:33:41] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Ping timeout)
[17:33:47] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[17:33:56] *** Quits: secretrobotron (secretrobo@moz-E9501591.members.linode.com) (Ping timeout)
[17:33:56] *** Quits: Kauhsa (kauhsa@moz-A78B2D1A.fi) (Ping timeout)
[17:33:57] *** Quits: zxcdw (r-a@ACF33729.B543C4DE.3933CC16.IP) (Ping timeout)
[17:34:02] *** Quits: Kxepal (Miranda@moz-E41D9856.pppoe.mtu-net.ru) (Ping timeout)
[17:34:24] *** Quits: reed (reed@tech.monkey) (Ping timeout)
[17:34:39] *** Quits: petantik (oz@moz-20EC2160.net) (Ping timeout)
[17:34:44] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Ping timeout)
[17:34:44] *** Quits: vq (vq@moz-65A5483F.tbcn.telia.com) (Ping timeout)
[17:34:55] *** Quits: wting (wting@4F978BD6.5564A9BA.9510F13D.IP) (Ping timeout)
[17:34:55] *** Quits: Deewiant (deewiant@moz-C015B7F8.iki.fi) (Ping timeout)
[17:34:59] *** Quits: AlexMax (alexmax@moz-3D3F5603.funcrusher.net) (Ping timeout)
[17:35:00] *** Quits: bstrie (ben@moz-D5A1D0F5.members.linode.com) (Ping timeout)
[17:35:30] <nmatsakis> cmr: I havne't thought too much about it, but I don't think there is any particular interaction
[17:35:31] *** Joins: robitex (Mibbit@moz-FFC03272.libero.it)
[17:35:31] *** Joins: Kxepal (Miranda@moz-E41D9856.pppoe.mtu-net.ru)
[17:35:48] <nmatsakis> cmr: by which I mean, it won't work sometimes ;)
[17:36:08] <nmatsakis> cmr: unless of course we do more than store an opaque "type id" that can only be compared for equality
[17:37:09] <bascule>  13_4__8__ 9_11__12_  13_4__ 8_9__11_    13_ 4_8_   11__12_ 13_ 4_ 
[17:37:13] <bascule> 4|  8_9__11|  12_ 13\4|_ 8_9|  11_ 12\  4/ 8\\ 9\ 11/ 12/ 13| 4| 8|
[17:37:16] <bascule> 8| 9|_  12| 13|_4) 8|| 9|11| 12| 13| 4|/ 8_ 9\11\ 12V 13/| 4| 8| 9|
[17:37:19] <bascule> 9|  11_12| 13|  4_ 8< 9| 11|12| 13|_4| 8/ 9__11_ 12\| 13| 4|8_|9_|11_|
[17:37:19] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[17:37:22] <bascule> 11|_12|   4|_8| 9\_11\_12__13|_4__8_/9_/   12\13_\4_| 8(9_|11_|12_)
[17:37:24] *** Joins: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net)
[17:37:25] <bascule>                                         
[17:37:27] <celeron55> how are these TypeIds created? under what circumstances they work in the first place?
[17:37:32] *** Joins: petantik (oz@moz-20EC2160.net)
[17:37:40] *** Joins: wting (wting@4F978BD6.5564A9BA.9510F13D.IP)
[17:37:49] *** Joins: bstrie (ben@moz-D5A1D0F5.members.linode.com)
[17:37:57] *** Joins: AlexMax (alexmax@moz-3D3F5603.funcrusher.net)
[17:38:05] *** Joins: vq (vq@moz-65A5483F.tbcn.telia.com)
[17:38:10] *** Joins: secretrobotron (secretrobo@moz-E9501591.members.linode.com)
[17:38:41] *** Joins: Deewiant (deewiant@moz-C015B7F8.iki.fi)
[17:39:11] *** Joins: reed (reed@tech.monkey)
[17:39:16] *** Joins: Kauhsa (kauhsa@moz-A78B2D1A.fi)
[17:39:20] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[17:39:31] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[17:39:47] *** Joins: mikezaby (mikezaby@moz-4BF6308B.home.otenet.gr)
[17:40:05] *** Joins: zxcdw (r-a@ACF33729.B543C4DE.3933CC16.IP)
[17:40:37] <celeron55> if a module is included in two crates, will it's types have the same TypeId?
[17:41:10] <celeron55> i'm guessing no, but haven't tested and haven't stumbled upon any text about that
[17:41:16] *** Quits: balpert_ (sid15886@moz-A42E5B7B.irccloud.com) (Ping timeout)
[17:41:16] *** Quits: fixplz (uid18459@moz-A42E5B7B.irccloud.com) (Ping timeout)
[17:41:16] *** Quits: jzelinskie (uid17772@moz-A42E5B7B.irccloud.com) (Ping timeout)
[17:41:21] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Connection reset by peer)
[17:41:28] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[17:41:34] <cmr> celeron55: compiler magic
[17:41:36] *** Quits: AlexMax (alexmax@moz-3D3F5603.funcrusher.net) (Ping timeout)
[17:41:50] <cmr> nmatsakis: ok, yeah.
[17:41:50] *** Quits: steveklabnik (uid17044@moz-A42E5B7B.irccloud.com) (Ping timeout)
[17:42:01] *** Quits: zxcdw (r-a@ACF33729.B543C4DE.3933CC16.IP) (Ping timeout)
[17:42:08] *** Quits: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net) (Ping timeout)
[17:42:12] <nmatsakis> celeron55: they are valid across crates,
[17:42:18] *** Quits: reed (reed@tech.monkey) (Ping timeout)
[17:42:19] *** Quits: secretrobotron (secretrobo@moz-E9501591.members.linode.com) (Ping timeout)
[17:42:20] <nmatsakis> celeron55: but 'im not sure what you mean by "a module is included in two crates"
[17:42:22] *** Quits: Deewiant (deewiant@moz-C015B7F8.iki.fi) (Ping timeout)
[17:42:26] <cmr> celeron55: Whenever you use any.is<your_type>, it generates a hash of that type.
[17:42:27] <nmatsakis> celeron55: modules exist in only one crate
[17:42:32] *** Quits: wting (wting@4F978BD6.5564A9BA.9510F13D.IP) (Ping timeout)
[17:42:54] *** Quits: Kauhsa (kauhsa@moz-A78B2D1A.fi) (Ping timeout)
[17:42:56] *** Joins: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net)
[17:43:00] *** Quits: mikezaby (mikezaby@moz-4BF6308B.home.otenet.gr) (Ping timeout)
[17:43:02] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[17:43:03] <celeron55> cmr: what does that hash include?
[17:43:05] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[17:43:10] <cmr> celeron55: I'm looking for that now.
[17:43:11] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Ping timeout)
[17:43:11] *** Joins: reed (reed@tech.monkey)
[17:43:12] *** Quits: petantik (oz@moz-20EC2160.net) (Ping timeout)
[17:43:15] *** Joins: wting (wting@4F978BD6.5564A9BA.9510F13D.IP)
[17:43:32] <cmr> I'm pretty sure it's just a hash of the structure plus its path.
[17:43:33] *** Joins: AlexMax (alexmax@moz-3D3F5603.funcrusher.net)
[17:43:54] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:44:14] *** Joins: Deewiant (deewiant@moz-C015B7F8.iki.fi)
[17:44:26] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[17:44:26] *** Joins: mib_r5exka (Mibbit@C83F40FA.C3C4EFEF.4BC5EF08.IP)
[17:44:32] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[17:44:41] *** Joins: secretrobotron (secretrobo@moz-E9501591.members.linode.com)
[17:44:44] *** Joins: mikezaby (mikezaby@moz-4BF6308B.home.otenet.gr)
[17:44:50] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:45:05] *** Joins: zxcdw (r-a@ACF33729.B543C4DE.3933CC16.IP)
[17:45:11] <cmr> https://github.com/mozilla/rust/blob/master/src/librustc/middle/ty.rs#L4567
[17:45:27] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[17:45:50] <celeron55> that comment answers my question!
[17:45:50] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:46:03] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[17:46:08] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[17:46:09] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:46:20] <mib_r5exka> how do you map() over a 2d array (i.e. using loops that would be for i in range(0, x) { for j in range(0, y) { arr[i][j] = function(); } } )?
[17:47:40] *** Joins: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr)
[17:47:59] <adridu59> is there a list of all the functional programming things like .invert(), .iter() etc. ?
[17:48:37] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[17:50:00] *** Quits: antifuchs (sid10828@moz-31ABA2C0.irccloud.com) (Ping timeout)
[17:50:00] *** Quits: whitglint (uid15486@moz-31ABA2C0.irccloud.com) (Ping timeout)
[17:50:04] *** Quits: mikezaby (mikezaby@moz-4BF6308B.home.otenet.gr) (Input/output error)
[17:50:37] *** Joins: victorporof (victorporo@4235A1D2.22FD687A.2B3D3D4.IP)
[17:51:07] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[17:51:52] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Connection reset by peer)
[17:52:10] *** Joins: lolwat (nano@moz-74CAD1CA.superkabel.de)
[17:52:16] *** Joins: ianj (ianjneu@moz-7140CF01.ccs.neu.edu)
[17:52:34] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Ping timeout)
[17:52:46] *** Quits: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net) (Ping timeout)
[17:52:46] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Ping timeout)
[17:52:54] *** Quits: Deewiant (deewiant@moz-C015B7F8.iki.fi) (Ping timeout)
[17:52:59] *** Quits: victorporof (victorporo@4235A1D2.22FD687A.2B3D3D4.IP) (Ping timeout)
[17:53:06] *** Quits: reed (reed@tech.monkey) (Ping timeout)
[17:53:06] *** Quits: secretrobotron (secretrobo@moz-E9501591.members.linode.com) (Ping timeout)
[17:53:06] *** Quits: zxcdw (r-a@ACF33729.B543C4DE.3933CC16.IP) (Ping timeout)
[17:53:12] *** Quits: AlexMax (alexmax@moz-3D3F5603.funcrusher.net) (Ping timeout)
[17:53:27] *** Quits: wting (wting@4F978BD6.5564A9BA.9510F13D.IP) (Ping timeout)
[17:53:40] *** Quits: vq (vq@moz-65A5483F.tbcn.telia.com) (Ping timeout)
[17:53:54] <adridu59> rusti: for c in "Hello".iter() { print(c) }
[17:53:54] -rusti- <anon>:9:41: 9:42 error: mismatched types: expected `&str` but found `char` (expected &str but found char)
[17:53:55] -rusti- <anon>:9          for c in "Hello".iter() { print(c) }
[17:53:55] *** Quits: bstrie (ben@moz-D5A1D0F5.members.linode.com) (Ping timeout)
[17:53:55] -rusti-                                                   ^
[17:53:55] -rusti- error: aborting due to previous error
[17:53:55] -rusti- application terminated with error code 101
[17:54:08] <adridu59> rusti: for c in "Hello".iter() { print(c.to_str()) }
[17:54:09] -rusti- Hello()
[17:54:14] <adridu59> rusti: for c in "Hello".iter() { print(c.into_str()) }
[17:54:15] -rusti- <anon>:9:41: 9:54 error: type `char` does not implement any method in scope named `into_str`
[17:54:15] -rusti- <anon>:9          for c in "Hello".iter() { print(c.into_str()) }
[17:54:15] -rusti-                                                   ^~~~~~~~~~~~~
[17:54:16] -rusti- error: aborting due to previous error
[17:54:16] -rusti- application terminated with error code 101
[17:55:04] <Yurume> rusti: for c in "Hello".iter() { print(format!("{}", c)); }
[17:55:05] -rusti- Hello()
[17:55:25] <Yurume> rusti: for c in "Hello".iter() { print(std::str::from_char(c)); }
[17:55:26] -rusti- Hello()
[17:55:31] <Yurume> adridu59, there.
[17:56:21] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[17:56:22] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[17:56:32] *** Joins: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net)
[17:56:33] *** Joins: wting (wting@4F978BD6.5564A9BA.9510F13D.IP)
[17:57:04] *** Joins: vq (vq@moz-65A5483F.tbcn.telia.com)
[17:57:16] *** Joins: bstrie (ben@moz-D5A1D0F5.members.linode.com)
[17:57:45] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[17:57:46] *** Joins: Deewiant (deewiant@moz-C015B7F8.iki.fi)
[17:57:49] *** Joins: reed (reed@tech.monkey)
[17:58:14] *** Joins: AlexMax (alexmax@moz-3D3F5603.funcrusher.net)
[17:58:40] *** Joins: secretrobotron (secretrobo@moz-E9501591.members.linode.com)
[17:59:12] *** Joins: zxcdw (r-a@ACF33729.B543C4DE.3933CC16.IP)
[18:00:07] <adridu59> Yurume: thanks. What would be the best method here?
[18:00:23] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Connection reset by peer)
[18:00:27] <Yurume> depends on what you really want to do.
[18:01:01] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[18:01:07] *** Quits: zxcdw (r-a@ACF33729.B543C4DE.3933CC16.IP) (Ping timeout)
[18:01:15] *** Quits: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net) (Ping timeout)
[18:01:15] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Ping timeout)
[18:01:15] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[18:01:20] *** Quits: reed (reed@tech.monkey) (Ping timeout)
[18:01:22] <mib_r5exka> speaking of functional, how do you map() over a 2d array (i.e. using loops that would be for i in range(0, x) { for j in range(0, y) { arr[i][j] = function(); } } )?
[18:01:22] *** Quits: wting (wting@4F978BD6.5564A9BA.9510F13D.IP) (Ping timeout)
[18:01:22] *** Quits: secretrobotron (secretrobo@moz-E9501591.members.linode.com) (Ping timeout)
[18:01:27] *** Quits: Deewiant (deewiant@moz-C015B7F8.iki.fi) (Ping timeout)
[18:01:41] *** Quits: bstrie (ben@moz-D5A1D0F5.members.linode.com) (Ping timeout)
[18:01:51] <Yurume> rusti: for c in "Hello".iter() { printfln!("{}", c); } // 0.8 specific, see master docs for upcoming 0.9
[18:01:52] -rusti- <anon>:9:35: 9:54 error: too many arguments to fmt!. found 2, expected 1
[18:01:52] -rusti- <anon>:9          for c in "Hello".iter() { printfln!("{}", c); } // 0.8 specific, see master docs for upcoming 0.9
[18:01:52] -rusti-                                             ^~~~~~~~~~~~~~~~~~~
[18:01:52] -rusti- application terminated with error code 101
[18:01:57] *** Quits: vq (vq@moz-65A5483F.tbcn.telia.com) (Ping timeout)
[18:01:57] *** Quits: AlexMax (alexmax@moz-3D3F5603.funcrusher.net) (Ping timeout)
[18:02:07] <Yurume> rusti: for c in "Hello".iter() { println!("{}", c); } // or was this?
[18:02:09] -rusti- pastebinned 6 lines of output: http://sprunge.us/GJhK
[18:02:31] <Yurume> rusti: for c in "Hello".iter() { print!("{}", c); }
[18:02:31] *** Joins: lmandel (lmandel@13F2CEC5.7672369.D8E68FF6.IP)
[18:02:31] -rusti- Hello()
[18:02:48] <Yurume> adridu59, in general this one is the fastest one, since it does not create an intermediate string
[18:03:15] *** Joins: jmbto (jmbto@moz-FE174E29.fbx.proxad.net)
[18:03:16] <Yurume> (print!(...) macro is same as print(format!(...)) but without an intermediate string buffer)
[18:03:37] <Yurume> but if you need a string anyway, format!("{}", c) or str::from_char(c) would be appropriate
[18:03:49] *** Quits: lolwat (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[18:04:37] *** Joins: skeet70 (skeet70@moz-2578911E.bzm-mt.client.bresnan.net)
[18:04:39] *** Joins: victorporof (victorporo@4235A1D2.22FD687A.2B3D3D4.IP)
[18:04:43] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[18:04:43] *** Joins: zxcdw (r-a@ACF33729.B543C4DE.3933CC16.IP)
[18:04:46] *** Joins: wting (wting@4F978BD6.5564A9BA.9510F13D.IP)
[18:04:48] *** Joins: AlexMax (alexmax@moz-3D3F5603.funcrusher.net)
[18:04:58] *** Joins: bstrie (ben@moz-D5A1D0F5.members.linode.com)
[18:05:01] *** Joins: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net)
[18:05:15] *** Joins: Deewiant (deewiant@moz-C015B7F8.iki.fi)
[18:05:18] *** Joins: vq (vq@moz-65A5483F.tbcn.telia.com)
[18:05:23] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[18:05:57] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[18:06:14] *** Joins: reed (reed@tech.monkey)
[18:06:17] *** pmoore|away is now known as pmoore
[18:06:26] *** Quits: mib_r5exka (Mibbit@C83F40FA.C3C4EFEF.4BC5EF08.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:06:30] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:06:43] *** Joins: hoverbear (hoverbear@moz-6F5BEE9F.wireless.uvic.ca)
[18:07:34] <hoverbear> Note to self: irc.freenode.net #rust != irc.mozilla.org #rust
[18:07:41] *** Joins: secretrobotron (secretrobo@moz-E9501591.members.linode.com)
[18:10:09] *** flaper87 is now known as flaper87|afk
[18:11:10] *** Joins: jvns (bork@87D98E32.4046EB22.428F94DD.IP)
[18:12:07] <Yurume> hoverbear, is there #rust in freenode?
[18:12:21] <Earnestly> not in any official capacity
[18:13:23] <hoverbear> Yurume: There is, but it's deadish
[18:13:48] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[18:13:53] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Connection reset by peer)
[18:14:06] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:14:20] *** Quits: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net) (Ping timeout)
[18:14:27] *** Quits: AlexMax (alexmax@moz-3D3F5603.funcrusher.net) (Ping timeout)
[18:14:44] *** Quits: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net) (Ping timeout)
[18:14:49] *** Quits: zxcdw (r-a@ACF33729.B543C4DE.3933CC16.IP) (Ping timeout)
[18:14:52] <tiffany> moznet #rust is the one true #rust
[18:14:58] *** Quits: secretrobotron (secretrobo@moz-E9501591.members.linode.com) (Ping timeout)
[18:14:58] *** Quits: Deewiant (deewiant@moz-C015B7F8.iki.fi) (Ping timeout)
[18:15:17] <hoverbear> I've got a freaking sweet project this weekend, but I also have finals. :( Might have to put it off.
[18:15:19] *** Quits: vq (vq@moz-65A5483F.tbcn.telia.com) (Ping timeout)
[18:15:20] *** Quits: reed (reed@tech.monkey) (Ping timeout)
[18:15:24] *** Quits: bstrie (ben@moz-D5A1D0F5.members.linode.com) (Ping timeout)
[18:15:28] *** Joins: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP)
[18:15:49] *** Quits: wting (wting@4F978BD6.5564A9BA.9510F13D.IP) (Ping timeout)
[18:15:55] *** Quits: robitex (Mibbit@moz-FFC03272.libero.it) (Quit: http://www.mibbit.com ajax IRC Client)
[18:15:58] <cmr> hoverbear: was wonering where you were, now I know :p
[18:16:11] <hoverbear> cmr: Yeah, I got confused. :( I'm just a bear.
[18:16:13] *** Quits: victorporof (victorporo@4235A1D2.22FD687A.2B3D3D4.IP) (Connection reset by peer)
[18:16:16] <Yurume> hoverbear, I'd like to hear about the project ;)
[18:16:18] *** Quits: GeneralMaximus (ankur@B4DF73F6.7D84F5AD.260B031E.IP) (Quit: Computer has gone to sleep.)
[18:16:40] <hoverbear> Yurume: Ordered an SSD, installing CoreOS on it, one of the containers I want to build is a Rust Dev env. :)
[18:17:34] <Yurume> aha, that's not a Rust project but a project required for Rust development, I see ;)
[18:18:19] *** Joins: FreeFull (freefull@moz-79FD0D17.as13285.net)
[18:18:22] <hoverbear> Yurume: I suppose, I think it might be fun and I can give it to others too so it might be helpful.
[18:18:27] *** Joins: wting (wting@4F978BD6.5564A9BA.9510F13D.IP)
[18:18:30] *** Joins: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net)
[18:18:34] <hoverbear> Docker containers are magically portable.
[18:18:37] *** Joins: vq (vq@moz-65A5483F.tbcn.telia.com)
[18:18:39] <adridu59> ty
[18:18:45] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[18:18:47] *** Joins: bstrie (ben@moz-D5A1D0F5.members.linode.com)
[18:19:03] *** Joins: markwash (mwashenber@moz-60E5DD0C.staticcust.wsteleport.net)
[18:19:10] *** Joins: brson (brson@981AA104.E81F12CD.76F66111.IP)
[18:19:10] *** ChanServ sets mode: +ao brson brson
[18:19:47] *** Joins: Deewiant (deewiant@moz-C015B7F8.iki.fi)
[18:20:01] <hoverbear> cmr: School holding down alright?
[18:20:03] *** Joins: avsej (avsej@D9A610B8.4841F515.FB33447D.IP)
[18:20:15] *** Joins: reed (reed@tech.monkey)
[18:20:25] *** Joins: AlexMax (alexmax@moz-3D3F5603.funcrusher.net)
[18:20:40] *** Joins: secretrobotron (secretrobo@moz-E9501591.members.linode.com)
[18:20:43] <cmr> hoverbear: finals next week /o\
[18:20:44] *** Joins: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[18:20:54] *** Joins: zxcdw (r-a@ACF33729.B543C4DE.3933CC16.IP)
[18:21:00] <hoverbear> cmr: I know right? I have Operating Systems and Databases on the 12th and 13th :S
[18:21:21] *** Joins: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP)
[18:21:57] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:22:13] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[18:22:48] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[18:23:07] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[18:23:07] *** ChanServ sets mode: +o jdm
[18:24:32] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[18:24:56] *** Quits: Jesin (Jesin@moz-63C897DA.res.lehigh.edu) (Quit: Leaving)
[18:26:13] *** Joins: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[18:26:13] *** ChanServ sets mode: +ao dherman dherman
[18:27:12] <adridu59> how often do you have tests?
[18:28:37] <cmr> Most courses have 3  exams, and a final.
[18:29:14] *** Quits: cdidd (cdidd@moz-D4289E71.broadband.corbina.ru) (Ping timeout)
[18:29:16] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[18:29:36] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[18:29:39] <hoverbear> adridu59: For me it's usually 2-3 midterms, 3-4 assignments, and a final.
[18:30:18] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[18:30:31] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[18:30:34] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[18:31:09] <hoverbear> Terms are ~4 months.
[18:32:16] <adridu59> its in 16 months for me :D
[18:32:25] <adridu59> but I have tests pretty much everyday
[18:32:31] <hoverbear> adridu59: I don't follow? :o
[18:33:17] <adridu59> lol I'm preparing engineer schools entrance contests.
[18:33:29] <adridu59> (not sure if that's the right wording?)
[18:33:49] <hoverbear> adridu59: Very cool. If I could recommend some food for thought: http://www.theguardian.com/commentisfree/2013/dec/05/engineering-moral-effects-technology-impact
[18:34:40] <adridu59> haha I'll wait till I'm actually engineer before thinking about this
[18:35:00] <adridu59> it all depends on what you're doing anyways; engineering is a vast field of study
[18:35:00] <hoverbear> adridu59: It's something that's become more and more important to me lately.
[18:35:15] <adridu59> as a software engineer?
[18:35:19] <adridu59> NSA? :p
[18:35:21] <hoverbear> adridu59: As a person.
[18:35:44] <bstrie> I've written html before! that makes me a software engineer
[18:35:46] <hoverbear> adridu59: Working on computers especially, what we do can have an impact on millions. We need to be ethical.
[18:35:54] <bstrie> suck it, certifications and ethics
[18:36:33] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[18:36:52] <hoverbear> Haha, I'm in Comp Sci, we don't have an ethics class or certifications, oh joy.
[18:37:06] <adridu59> bstrie: engineer is broader than developer
[18:37:29] <adridu59> hoverbear: oh well. I'm not into politics
[18:37:46] <adridu59> afaik only medecine students have that sort of classes there
[18:37:51] *** Joins: tcr (tcr@moz-6FEAEFBC.hfc.comcastbusiness.net)
[18:38:03] <hoverbear> adridu59: Sure you are, you're working with Mozilla and their research projects help create a better future.
[18:38:11] <brson> adridu59: how are you feeling about your new tutorial?
[18:38:42] <adridu59> brson: how so?
[18:39:01] <brson> i'm just wondering how it's progressing
[18:39:11] *** Quits: lmandel (lmandel@13F2CEC5.7672369.D8E68FF6.IP) (Quit: lmandel)
[18:39:13] <adridu59> brson: do you want to look at Chapter 03? I'm almost done I think, but it's hard to limit myself and not turn this Chapter into too big thing
[18:39:47] *** Quits: Blub\0 (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[18:40:05] *** Joins: Blub\0 (wry@620605B3.71150E1A.237AE2BA.IP)
[18:40:10] <adridu59> well that is if you have the time and will, no biggies
[18:40:16] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[18:40:41] <brson> adridu59: sure
[18:40:45] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[18:41:11] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[18:41:37] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[18:42:13] <adridu59> I'll PM you the link because I don't want people patching up an unfinished work
[18:42:17] *** Quits: jstevans (Instantbir@moz-C895D5FE.bootp.virginia.edu) (Ping timeout)
[18:42:27] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[18:43:16] <adridu59> looking back it's not a lot of lines in there but it takes lots of time to write
[18:43:20] <hoverbear> cmr: What classes are you in?
[18:43:21] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[18:43:26] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[18:44:21] <Blei> brson: did you have a chance to look at my mysterious deadlock?
[18:44:44] <adridu59> brson: would you have the chance to update pandoc on the bots someday? I'd like to refactor the docs build system but bots were flaky at doc building on my last PR, maybe pandoc is aged in there...
[18:44:44] <cmr> calc 1, physics 1, intro to cs ii (c++), "advanced cs concepts" in java, a literature class.
[18:45:48] <hoverbear> cmr: Calc 1 sucks (If you need help let me know)... Physics 1 might not be the same as ours but I still might be able to help if you get stuck... Haven't touched C++ (and don't plan to). Java :S.... Literature sounds fun.
[18:45:50] <adridu59> brson: also, is there a list of dependencies versions on the bot? would clear up a few things
[18:46:03] *** Joins: ptc1 (Adium@moz-7D1F0258.thefacebook.com)
[18:46:06] *** Quits: ptc (Adium@moz-7D1F0258.thefacebook.com) (Connection reset by peer)
[18:46:18] *** Joins: mib_kqexmj (Mibbit@moz-16944F18.socal.res.rr.com)
[18:46:22] *** Quits: acrichto (acrichto@moz-69F2E428.ugrad.cs.cmu.edu) (Quit: leaving)
[18:46:39] *** Joins: acrichto (acrichto@moz-B63D64BD.res.cmu.edu)
[18:46:40] *** ChanServ sets mode: +o acrichto
[18:47:56] *** Quits: mib_kqexmj (Mibbit@moz-16944F18.socal.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[18:48:04] <Seldaek> adridu59: I don't mind doing a basic english check if you ever need like I did on the first chapter. I'm also natively french speaking so at least I get what you mean when it's a bit weird sentences (that's more of a general comment than for you personally though, not saying you are horrible at english, and I certainly do my own share of mistakes) :)
[18:48:40] <hoverbear> Also happy to spell check. :)
[18:48:48] <adridu59> Seldaek: Schweizer?
[18:48:53] *** Quits: Blub\0 (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[18:49:00] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[18:49:16] <Seldaek> adridu59: almost by now, but I grew up in belgium
[18:49:24] <brson> Blei: not yet, no. i'm sorry. i'll build it now
[18:49:37] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[18:49:48] <adridu59> Seldaek: Belgium is about the same story with languages ;)
[18:50:09] *** Quits: hoverbear (hoverbear@moz-6F5BEE9F.wireless.uvic.ca) (Quit: Hibernating, be back soon.)
[18:50:18] <brson> adridu59: i can update pandoc, yes, if we need to and you tell me which version we need. I'd like to know for sure that it's a version problem though because it may involve changing a bunch of vm images
[18:50:30] <brson> adridu59: there is no list of bot dependencies, sadly
[18:50:39] <brson> our bot infrastructure is a mess
[18:50:45] *** Quits: maxiepoo_ (Max@moz-FFD7044A.nuwlan.northwestern.edu) (Quit: maxiepoo_)
[18:50:47] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[18:50:51] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[18:50:52] <cmr> brson: would it be valuable to change it over to vagrant or similar?
[18:50:56] *** Quits: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca) (Quit: canhtak)
[18:50:57] <brson> i'm actually kind of looking for somebody with automation experience to help us
[18:50:59] *** Joins: Blub\0 (wry@620605B3.71150E1A.237AE2BA.IP)
[18:51:06] <cmr> I know a guy
[18:51:13] <brson> cmr: possibly. right now we're using ec2 + a bunch of misc stuff
[18:51:17] <adridu59> brson: I see, thanks. well last time doc build was failing and I couldn't reproduce locally, maybe I'd need to downgrade pandoc to see what's happening but don't which version you have
[18:51:28] <brson> adridu59: which bot was it?
[18:51:45] <Blei> brson: sure, no rush. thanks for looking into this :)
[18:51:48] <Seldaek> brson: I can lean a hand with puppet if that's helpful
[18:51:56] <brson> cmr: we could potentially convert everything to ec2 but the macs and maybe some android bots
[18:52:14] <cmr> brson: well one can still provision physical machines with these tools
[18:52:20] <adridu59> brson: it was auto-linux-64-nopt-t
[18:52:30] <brson> adridu59: can you see which slave it was?
[18:52:36] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[18:52:36] *** Joins: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca)
[18:52:52] <brson> Seldaek: what's puppet? is it like vagrant?
[18:52:53] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[18:53:09] <adridu59> brson: when I click it says "no such resource" seems like deleted buildbot page
[18:53:25] <adridu59> brson: anyways it's nothing major just makefile cleanup and so on so no biggies
[18:53:25] <brson> adridu59: ok, i can probably guess
[18:53:26] <Seldaek> brson: puppet is a server config management thing, like chef. Vagrant initializes VMs and then usually uses puppet or something to configure them 
[18:53:35] <Blei> wait, other swiss guys in here? i'm surprised
[18:54:06] *** Joins: dreamer_ (Patryk@90E8C08F.8480A87C.DDAA0084.IP)
[18:54:12] *** Joins: brson_ (brson@moz-BBE3ABD.mv.mozilla.com)
[18:54:35] <Seldaek> Blei: yeah, I wanted to start a rust meetup (or at least have a beer) this summer in zurich but it was met with a mostly blank response :)
[18:54:38] *** Quits: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca) (Quit: canhtak)
[18:54:45] <adridu59> Seldaek: I'd be more looking for a general feedback like is it going in the right direction and such, the rest can be done when it's pushed :)
[18:54:46] <Blei> hmm, must have missed that
[18:54:52] *** Quits: AvianFlu_ (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Input/output error)
[18:54:52] *** Quits: ptc1 (Adium@moz-7D1F0258.thefacebook.com) (Quit: Leaving.)
[18:55:03] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[18:55:04] <Seldaek> brson: (repost since you timed out it seems) puppet is a server config management thing, like chef. Vagrant initializes VMs and then usually uses puppet or something to configure them 
[18:55:09] *** Quits: brson (brson@981AA104.E81F12CD.76F66111.IP) (Ping timeout)
[18:55:14] <Seldaek> brson_: err, ^
[18:55:14] *** Joins: ptc (Adium@moz-7D1F0258.thefacebook.com)
[18:55:50] <Seldaek> adridu59: unrelated, will you be at fosdem.org by any chance? you're not so far (like 1h train these days)
[18:55:56] <brson_> Seldaek: should puppet be used with ec2?
[18:55:59] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Ping timeout)
[18:56:04] *** Quits: dreamer_ (Patryk@90E8C08F.8480A87C.DDAA0084.IP) (Quit: Leaving)
[18:56:34] <Seldaek> brson_: it can be used to set up machines from scratch, if you manage the whole config in puppet manifests you can then apply that to any virgin machine to reproduce the needed machine state
[18:56:40] <Seldaek> it's not trivial though depending on what you need 
[18:56:49] *** Joins: dreamer_ (Patryk@90E8C08F.8480A87C.DDAA0084.IP)
[18:56:51] <Seldaek> when you have non-standard packages and stuff to compile it quickly gets messy
[18:57:19] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[18:58:04] <adridu59> Seldaek: hmm, I'm a 18 yo student studying mathematics and doing computing in my spare time, I never went to such meetups but it certainly looks appealing (saw the word "beer" on their website ;)
[18:58:17] <Seldaek> brson_: I don't really know what setup you have though. I just know puppet or similar can help with turning a bus-factor mess into something reproducible and self-documented
[18:58:37] *** Joins: maxiepoo_ (Max@moz-FFD7044A.nuwlan.northwestern.edu)
[19:00:05] <brson_> Seldaek: we have an assortment of machines with sprawling and varied configurations and need to consolidate them into something managable, then we have a bunch of new automation work that should be done
[19:00:17] <brson_> dbaupp asked me to fix our metric reporting two months ago and i haven't
[19:00:18] <brson_> i'm so sorry
[19:00:27] *** Joins: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca)
[19:00:31] <brson_> still trying to get the android regression tests up
[19:00:54] <adridu59> must be a pain since it was unsupported for so long
[19:01:27] <brson_> there's constant android breakage that we need to stop. samsung is very sad :)
[19:01:41] <brson_> but so far i've failed to get the emu working on ec2
[19:02:00] <adridu59> what's wrong?
[19:02:09] <brson_> adridu59: pandoc 1.9.1.1
[19:02:24] <bstrie> what, why is pandoc blocking anything
[19:02:29] <adridu59> thanks! we should probably write it in a wiki page?
[19:02:38] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[19:02:54] <brson_> adridu59: sure. i'm not sure if that's the pandoc on *all* the bots but it's the one on the linux ec2 bots
[19:03:06] <brson_> bstrie: it's not blocking android. unrelated
[19:03:10] <bstrie> ah ok
[19:03:32] <brson_> adridu59: on ec2 the emu fails to initialize egl then just spins at 100% and never registers with adb
[19:03:46] <brson_> or maybe it registers after a very long time that i haven't waited through
[19:04:01] <brson_> today i plan to set up android on one of the macs
[19:04:17] <brson_> i also planned to do that yesterday ...
[19:04:19] <adridu59> maybe Samsung could help you with that
[19:04:50] *** Quits: heftig (heftig@moz-10DC1F36.dip0.t-ipconnect.de) (Ping timeout)
[19:05:21] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[19:05:52] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[19:05:59] *** Joins: jzelinskie (sid17772@moz-A42E5B7B.irccloud.com)
[19:06:00] *** Joins: balpert_ (sid15886@moz-A42E5B7B.irccloud.com)
[19:06:01] *** Joins: fixplz (uid18459@moz-A42E5B7B.irccloud.com)
[19:06:09] <adridu59> reminds me of my android development days... lots of failing builds but, good times
[19:06:09] *** Joins: heftig (heftig@moz-C9B14E4.dip0.t-ipconnect.de)
[19:06:19] *** Joins: hoverbear (hoverbear@moz-6F5BEE9F.wireless.uvic.ca)
[19:07:36] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[19:07:42] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[19:07:56] <hoverbear> cmr: I love it when you spend like 40 hours implementing features for an assignment and then you go to demo it and realize you forgot one, and of course it happens to be the one of like 30 that they actually test for.
[19:09:10] *** Quits: overfl0w (overfl0w@moz-17EC2DBE.range217-42.btcentralplus.com) (Ping timeout)
[19:09:45] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Connection reset by peer)
[19:09:51] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[19:10:42] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[19:13:40] *** Quits: jvns (bork@87D98E32.4046EB22.428F94DD.IP) (Ping timeout)
[19:14:05] <rbancroft> 1/30 is actually pretty good
[19:14:13] *** Quits: ptc (Adium@moz-7D1F0258.thefacebook.com) (Quit: Leaving.)
[19:14:44] <hoverbear> I guess.
[19:14:57] <hoverbear> It was just a stupid Python <-> MySQL interaction example
[19:15:15] <rbancroft> it's bad when the first thing they try doesn't work
[19:15:20] <hoverbear> Oh I know right?
[19:16:24] *** Quits: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP) (Ping timeout)
[19:17:05] *** Joins: overfl0w (overfl0w@moz-14327773.range217-42.btcentralplus.com)
[19:18:44] *** Joins: whitglint (uid15486@moz-31ABA2C0.irccloud.com)
[19:18:47] *** Joins: ptc (Adium@moz-7D1F0258.thefacebook.com)
[19:19:32] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[19:21:33] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[19:21:41] *** Joins: jstevans (Instantbir@F1B2E0CF.87CA334A.DDE5D3F6.IP)
[19:21:53] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[19:23:38] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Ping timeout)
[19:25:05] *** Quits: hoverbear (hoverbear@moz-6F5BEE9F.wireless.uvic.ca) (Quit: Hibernating, be back soon.)
[19:26:23] *** Quits: brson_ (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[19:26:27] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[19:26:27] *** ChanServ sets mode: +ao brson brson
[19:27:19] *** Quits: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[19:28:07] *** Joins: semisight (alex@moz-16944F18.socal.res.rr.com)
[19:28:26] <kimundi> Do wer have a memcmp intrinsic somewhere?
[19:28:30] *** Quits: bynaryshef (bynaryshef@moz-65BC52B3.mem.bellsouth.net) (Quit: Leaving)
[19:28:37] <SiegeLord> Why does write! use a trait object?
[19:28:53] <cmr> kimundi: copy_memory
[19:29:05] <cmr> or, sorry
[19:29:07] <cmr> I can read.
[19:29:20] <cmr> appears not
[19:30:08] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[19:30:55] *** Joins: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se)
[19:31:40] <erickt> SiegeLord: I actually tried to get it to use a <T: Writer> but that ends up breaking some *interesting* code acrichto wrote to parse fmt arguments
[19:31:57] <SiegeLord> I see
[19:32:04] <kimundi> cmr: Heh, the string library just calls libc::memcmp :P
[19:32:05] <semisight> having an issue with rust-bindgen not finding clang_Type_getAlignOf
[19:32:11] <semisight> has anyone had this problem?
[19:32:40] *** Joins: Sharp (Sharp@1710C26.8381A41.8725677B.IP)
[19:32:51] <erickt> acrichto: is there any way to get the fmt::Argument* to not depend on a io::Writer trait object?
[19:32:56] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[19:33:20] *** Joins: beifeng (Mibbit@29C578B.7A85645C.C7DB8B78.IP)
[19:34:01] <acrichto> erickt: I greatly fear for the explosion of generics everywhere if we do that, but I'm also not certain that it can be done
[19:34:03] *** Parts: cade (cade@66A6305B.C2D6DAC0.9510F13D.IP) (WeeChat 0.4.1)
[19:34:27] <acrichto> I continue to believe that a trait object is sufficient, but I could be wrong
[19:34:38] <cmr> semisight: you need a recent libclang.
[19:34:43] <cmr> semisight: did you follow the readme?
[19:34:53] <SiegeLord> Last night there was some concern about this code being unidiomatic... is there anything I can improve in it? https://gist.github.com/SiegeLord/7818287
[19:34:54] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[19:34:58] <erickt> acrichto: you're right. I actually did benchmark Writer with trait objects vs a trait constraint, and there wasn't that much overhead
[19:35:24] <erickt> acrichto / SiegeLord: https://github.com/mozilla/rust/issues/10761
[19:35:44] <acrichto> erickt: now that being said, I haven't optimized the implementation at all besides the design, so there may be many opportunities for optimizing formatting itself
[19:35:53] <semisight> cmr: ah, I was using the default mavericks one, thought that would be new enough
[19:36:04] <erickt> acrichto / SiegeLord: now the performance of write! needs some attention...
[19:36:14] <erickt> acrichto: :)
[19:37:49] <Luqman> hmm, anyone know how i could read with stdin but have the input hidden? (a la entering ssh password)
[19:38:09] *** Quits: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se) (Quit: WeeChat 0.4.2)
[19:38:16] <o11c> Luqman: set local echo off with termios
[19:38:34] <o11c> do this BEFORE writing the prompt
[19:39:32] *** Joins: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se)
[19:40:27] *** Joins: GeneralMaximus (ankur@B4DF73F6.7D84F5AD.260B031E.IP)
[19:41:00] *** Joins: tcr_ (tcr@moz-B6F2E846.mycingular.net)
[19:41:08] <Blei> an idea i had recently: how about if trait objects could be used in generics that are constrained on that trait?
[19:41:31] <SiegeLord> Can't be done in general
[19:41:41] <Blei> SiegeLord: why not?
[19:41:47] <Blei> oh, size_of
[19:41:48] *** Quits: tcr (tcr@moz-6FEAEFBC.hfc.comcastbusiness.net) (Ping timeout)
[19:41:53] <cmr> among other things.
[19:41:54] <SiegeLord> Let me find the issue...
[19:42:02] <cmr> Self, self-by-value, ...
[19:42:07] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[19:42:12] <kimundi> Blei: It also fails in situation here the trait uses the Self type in a method
[19:42:14] <Luqman> hmm but tc[sg]etattr want fd, i wonder if it matters that we could through libuv
[19:42:21] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[19:42:22] <Luqman> acrichto: ^ ?
[19:42:31] *** Joins: mib_xckwdn (Mibbit@C83F40FA.C3C4EFEF.4BC5EF08.IP)
[19:42:39] <Blei> yeah, makes sense
[19:42:41] <Blei> oh well
[19:42:58] <SiegeLord> https://github.com/mozilla/rust/issues/5087
[19:43:08] *** Joins: Kauhsa (kauhsa@moz-A78B2D1A.fi)
[19:43:23] <acrichto> Luqman: libuv probably doesn't matter here, you can just operate on the normal file descriptor and it should work
[19:43:24] *** Joins: petantik (oz@moz-20EC2160.net)
[19:43:57] <Blei> SiegeLord: thanks
[19:44:36] <Blei> i actually remember reading this issue before...
[19:44:37] <mib_xckwdn> people, help plz. :) how would you convert this `foo(x - 1, y - 1) + foo(x - 1, y) + foo(x - 1, y + 1) + foo(x, y - 1) + foo(x, y + 1) + foo(x + 1, y - 1) + foo(x + 1, y) + foo(x + 1, y + 1)` to a functional form? i'm thinking it should be a fold over [-1, 0, 1] of some sort but i can't put my finger on the right way to write it down...
[19:45:43] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[19:46:53] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:46:59] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[19:47:26] <bstrie> mib_xckwdn: in rust, or in general :P
[19:47:53] *** Quits: tcr_ (tcr@moz-B6F2E846.mycingular.net) (Ping timeout)
[19:48:20] <SiegeLord> I think it'd still be a great feature... it's a shame that it was removed
[19:48:40] <bstrie> in rust I'd probably just do `let bar; for i in [-1, 0, 1] { for j in [-1, 0, 1] { bar += foo(x+i, y+j); } }`
[19:48:52] <mib_xckwdn> in rust.
[19:49:07] <Blei> you forgot an `if i != 0 or j != 0 { }`
[19:49:22] <mib_xckwdn> yeah, with loops it's easy.
[19:49:58] *** Joins: snearch (snearch@moz-2022D1F4.pool.mediaways.net)
[19:50:02] *** pmoore is now known as pmoore|away
[19:50:27] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[19:50:36] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[19:50:46] <mib_xckwdn> for some reason, i can't replicate this with folding. basically foo() returns either 0 or 1, so it should be a fold over [-1, 0, 1] that simply sums the foo()'s but...
[19:51:24] *** Joins: victorporof (victorporo@4235A1D2.22FD687A.2B3D3D4.IP)
[19:53:21] <mib_xckwdn> [-1, 0, 1].iter().fold(0, |a, &i| { a + scan(x + i, y + i) }) throws an error about lifetimes (for some reason) and declaring the range as a variable, even if it compiles, doesn't return a correct sum.
[19:54:37] <eddyb> rusti: (~[-1, 0, 1]).iter().fold(0, |a, &i| { a + scan(x + i, y + i) })
[19:54:38] -rusti- pastebinned 11 lines of output: http://sprunge.us/acWd
[19:54:38] *** Quits: maxiepoo_ (Max@moz-FFD7044A.nuwlan.northwestern.edu) (Quit: maxiepoo_)
[19:54:59] <eddyb> nvm, no context
[19:55:35] *** Joins: mikezaby (mikezaby@moz-4BF6308B.home.otenet.gr)
[19:55:35] *** Quits: Sharp (Sharp@1710C26.8381A41.8725677B.IP) (Quit: Sharp)
[19:55:37] *** Parts: mikezaby (mikezaby@moz-4BF6308B.home.otenet.gr) ()
[19:55:55] *** Joins: tcr (tcr@moz-6FEAEFBC.hfc.comcastbusiness.net)
[19:56:20] <bstrie> mib_xckwdn: try assigning [1, 0, 1] to a variable rather than calling iter() directly on the literal
[19:56:35] <bstrie> mib_xckwdn: probably won't fix your problem, but I doubt that the rvalue lives long enough there
[19:57:13] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[19:57:25] <markwash> newb question: what happens if I have a trait with a default implementation, and then I derive a trait from it and provide another default implementation in the derived trait? object implementing TDerived gets which default implementation?
[19:57:44] <bstrie> mib_xckwdn: also, how about we translate the rust loops into python, is that sufficiently functional enough? :P
[19:57:47] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:57:47] <bstrie> sum([foo(x+i, y+j) for i in [-1,0,1] for j in [-1,0,1]])
[19:57:56] *** Parts: semisight (alex@moz-16944F18.socal.res.rr.com) ()
[19:58:00] <bstrie> look at how functional that is
[19:58:11] <mib_xckwdn> :D
[19:58:23] <kimundi> markwash: I'm not sure what you mean
[19:58:41] <kimundi> "derive a trait from it"?
[19:58:54] <markwash> kimundi: I might have some of the terminology wrong. . 
[19:59:02] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[19:59:08] <markwash> kimundi: Traits can implement other traits, no?
[19:59:10] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[19:59:20] <cmr> markwash: no
[19:59:25] <cmr> they can *inherit* from other trait
[19:59:26] <cmr> s
[19:59:32] <markwash> bingo
[19:59:37] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[20:00:05] <markwash> So I've got trait Foo and trait InheritedFromFoo: Foo
[20:00:11] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[20:00:11] <kimundi> markwash: There is only ever one default method implementation, and zero or one overrides of that in the implementation for the type
[20:00:47] *** Joins: Sharp (Sharp@1710C26.8381A41.8725677B.IP)
[20:01:13] <markwash> its not really my place, but I'm worried that the default implementation approach right now encourages some of the fallacies of reuse through single inheritance
[20:01:18] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[20:01:31] <kimundi> markwash: Trait inheritance does not exactly work like you expect - a inherited trait does _not_ also provide the same methods as the trait in inherited from
[20:01:37] <o11c> bstrie: sum([foo(x+i, y+j) for i in [-1,0,1] for j in [-1,0,1] if i or j])
[20:01:58] <markwash> kimundi: oh interesting
[20:02:17] <kimundi> markwash: Also, trait inheritance is not single inheritance ;)
[20:02:33] <cmr> markwash: it only means that if a trait T2: T1 is implemented for a type, T1 is also implemented
[20:02:40] *** Quits: Sharp (Sharp@1710C26.8381A41.8725677B.IP) (Quit: Sharp)
[20:03:02] <markwash> kimundi: okay, so the problem I'm seeing then is this (might be hard to explain)
[20:03:30] <strcat> type class hierarchies is how type classes work in other languages too
[20:03:46] <strcat> rust isn't going to explore any new way of doing type classes
[20:03:50] *** Joins: zucchini (Mibbit@moz-40463609.w80-9.abo.wanadoo.fr)
[20:03:50] <markwash> by coupling the definition of an interface with a default implementation of that interface, it makes it harder to reuse or replace that default implementation
[20:03:53] *** Joins: Sharp (Sharp@1710C26.8381A41.8725677B.IP)
[20:04:05] <kimundi> markwash: How so?
[20:04:07] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[20:04:21] <strcat> markwash: a default implementation of a method is only able to define it in terms of other methods provided by that same trait
[20:04:27] <kimundi> markwash: If you don'T like the default implementation, override it
[20:04:29] <strcat> it only reduces the work a type has to do to implement it
[20:04:50] <strcat> for example an Eq trait can define `eq` and `ne` in terms of each other and you only have to implement one or the other
[20:04:51] <bstrie> mib_xckwdn: I've successfully made it even more functional: sum([foo(i, j) for i in map(lambda a: a+x, [-1,0,1]) for j in map(lambda b: b+y, [-1,0,1])])
[20:04:54] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[20:05:03] <markwash> kimundi: so, two parts, harder to reuse -> because Template Method breaks encapsulation, which is an argument some certainly disagree with
[20:05:07] <strcat> you can also make use of any methods provided by a trait that trait inherits from
[20:05:28] <strcat> markwash: default methods don't break encapsulation
[20:05:41] <strcat> they can't access any fields on a potential struct - they can only reuse methods provided by the trait
[20:06:01] <strcat> they don't know what the structs that are going to implement it look like
[20:06:13] *** Joins: mib_2ria5o (Mibbit@moz-E1FF077C.rev.numericable.fr)
[20:06:39] <markwash> kimundi: harder to replace -> default implementation is a "privileged" implementation that is auto-aggregated with any objects that implement the trait. . it would be nice to be able to do that with other default implementations of the same interface
[20:06:49] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[20:07:02] <markwash> hmm, strcat good points but I'm not really thinking about the struct underneath
[20:07:32] *** Quits: rossm (rossm@moz-EE3BB1DC.br.br.cox.net) (Quit: )
[20:07:43] <strcat> a default implementation provides the ability to implement a minimally complete trait implementation
[20:08:17] <strcat> so the trait can provide a rich interface with utility methods, but you only have to implement a few
[20:08:20] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:08:24] <strcat> you can override any you want
[20:08:24] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[20:08:33] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[20:08:47] <markwash> strcat: the breaking encapsulation thing I'm thinking of is more like that discussed here about java http://igstan.ro/posts/2011-09-09-how-inheritance-violates-encapsulation.html
[20:09:08] <markwash> strcat: yeah it sounds like a fantastic convenience
[20:09:35] <myname> my favorite example for this is Eq in haskell
[20:09:37] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[20:09:52] <myname> where == is defined as not /=
[20:10:05] <myname> and /= is defined as not ==
[20:10:10] <shachaf> myname: But with #7366 GHC will warn about it!
[20:10:21] <myname> huh?
[20:10:30] <shachaf> https://ghc.haskell.org/trac/ghc/ticket/7633
[20:10:42] <markwash> I just kinda want to be able to have the same convenience for partial implementations defined outside of the crate the trait interface is originally defined in
[20:10:53] *** Joins: rossm (rossm@moz-EE3BB1DC.br.br.cox.net)
[20:10:58] <markwash> I misunderstood trait inheritance so thought there was an avenue there
[20:11:16] <shachaf> Oh, you're talking about something else.
[20:11:50] <markwash> anyway, rust looks fantastic, will go back to lurking :-)
[20:12:04] <Blei> question: why doesn't this work:
[20:12:16] <Blei> rusti: range(-1i, 2).flat_map(|i| {let i = i; range(-1i, 2).map(|j| (i, j))}).collect::<~[(int,int)]>()
[20:12:18] -rusti- pastebinned 17 lines of output: http://sprunge.us/MHPP
[20:12:46] <myname> wtf let i = i
[20:12:48] <Blei> well, without the `let i = i;` part
[20:12:58] <Blei> i was experimenting if that might be the problem, it's not
[20:13:16] <myname> good question
[20:13:23] <Blei> rusti: range(-1i, 2).flat_map(|i| range(-1i, 2).map(|j| (i, j))).collect::<~[(int,int)]>()
[20:13:25] -rusti- pastebinned 17 lines of output: http://sprunge.us/JBcd
[20:14:37] <kimundi> Blei: I think the problem is that map returns a Iterator that contains the inner closure, which has a lifetime only as long as the body of the outer closure, which means the map iterator can not be returned from the outer closure
[20:14:39] *** Quits: Chimmy (ctimothy@moz-1DB1FE6E.hsd1.wa.comcast.net) (Ping timeout)
[20:15:22] <Blei> hmm, makes sense
[20:15:27] <myname> you could make range.enumerate.map to change the enumeration
[20:15:36] *** Joins: Chimmy (ctimothy@moz-1DB1FE6E.hsd1.wa.comcast.net)
[20:15:43] <myname> wait, that's not the same
[20:16:34] *** Joins: antifuchs (sid10828@moz-31ABA2C0.irccloud.com)
[20:16:36] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[20:18:03] *** Quits: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com) (Ping timeout)
[20:20:04] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[20:20:37] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[20:20:46] <Blei> mib_xckwdn: range(-1i, 2).flat_map(|i| range(-1i, 2).map(|j| (i, j)).collect::<~[(int, int)]>().move_iter()).filter(|&(i, j)| i != 0 || j!= 0).fold(0i, |a, (i, j)| a + i + j)
[20:21:30] <myname> what the hell?
[20:21:55] *** Joins: telotortium (rmi1@moz-C8F8CE6.hsd1.ca.comcast.net)
[20:21:57] <myname> how is the inner thing an iterator?
[20:22:02] <Blei> rusti: for (i, j) in range(-1i, 2).flat_map(|i| range(-1i, 2).map(|j| (i, j)).collect::<~[(int, int)]>().move_iter()).filter(|&(i, j)| i != 0 || j!= 0) { println!("{}, {}", i, j); }
[20:22:04] -rusti- pastebinned 9 lines of output: http://sprunge.us/gUSN
[20:22:17] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[20:22:44] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[20:23:07] <myname> ah
[20:23:41] <myname> i wouldn't be able to construct something like this
[20:24:03] *** Joins: CarpNet (Alasdair@moz-25C796BC.cable.virginm.net)
[20:24:07] <Blei> it's not that hard, just annoying when fighting with rust :/
[20:24:44] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[20:24:52] <myname> i am still irritated by flat_map and move_iter
[20:24:54] *** Quits: oberstet_ (quassel@moz-283369EE.dynamic.mnet-online.de) (Client exited)
[20:25:05] *** Joins: vodik_ (simon@moz-FD4ADBC6.cable.teksavvy.com)
[20:25:09] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[20:25:38] *** Joins: morphevs (Adium@moz-2486EF49.dclient.hispeed.ch)
[20:26:17] <myname> oh, that one might be a bad false friend
[20:26:25] *** Joins: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com)
[20:26:31] <myname> let's say confused
[20:29:50] <eddyb> what is wrong with me? why do I have this open? https://en.wikipedia.org/wiki/Category:Models_of_computation
[20:30:47] <cmr> eddyb: ohhh, nice find.
[20:32:48] *** Quits: mib_xckwdn (Mibbit@C83F40FA.C3C4EFEF.4BC5EF08.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:34:37] *** Quits: mib_2ria5o (Mibbit@moz-E1FF077C.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[20:35:14] <myname> why doesn't everyone
[20:37:08] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[20:37:56] <eddyb> cmr: I'm just skimming over wikipedia pages that I can read and possibly understand but not fully retain in my head
[20:38:47] *** Quits: beifeng (Mibbit@29C578B.7A85645C.C7DB8B78.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:39:12] <eddyb> maybe I'm just that limited
[20:39:31] *** Joins: thorncp (Mibbit@E96E8C10.655E827A.FE5C4853.IP)
[20:40:02] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[20:40:02] *** ChanServ sets mode: +o tjc
[20:41:31] <thorncp> I feel like I've seen documentation for the format! macro before, but I can't find it now. Can anyone point me to it?
[20:41:47] <cmr> std::fmt
[20:41:54] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[20:42:12] <thorncp> ahh, thanks cmr
[20:44:06] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[20:45:49] <eddyb> cmr: there has to be a test for how much (of something you can comprehend) you can store and manipulate in your brain
[20:46:25] <eddyb> but now I'm just flying off tangents
[20:47:10] <Seldaek> SimonSapin: I kinda want to answer your email saying we need a new "\o/" operator (unwrap op) to replace/shorten .unwrap(), but I'm afraid it's out of line :P
[20:47:55] <Seldaek> if @ died, we need a new wonky operator 
[20:48:00] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[20:48:01] <eddyb> so Some(foo) becomes /o\ foo?
[20:48:11] <Seldaek> maybe :P
[20:48:11] *** Quits: blank_name (blank_name@BF9738BA.82815ADA.31EC03F3.IP) (Quit: leaving)
[20:48:25] <Seldaek> I'll let y'all debate and go have dinner :p
[20:48:27] <eddyb> \o//o\ foo == foo
[20:48:31] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[20:48:39] <eddyb> o_O
[20:48:44] <Seldaek> hehe
[20:50:14] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[20:50:18] *** Quits: snearch (snearch@moz-2022D1F4.pool.mediaways.net) (Quit: Verlassend)
[20:53:11] <sbalmos> nah, the wrap operator needs to be the Unicode symbol for a bowtied gift box.
[20:53:57] *** Quits: sebcrozet (sebcrozet@moz-D8879CC3.w80-13.abo.wanadoo.fr) (Quit: Gone)
[20:54:14] <Yurume> or \o/o\.
[20:56:01] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[20:57:58] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[20:59:14] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[21:00:58] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[21:02:41] *** Joins: rca_ (rcatolino@moz-D9D6A93B.adsl.proxad.net)
[21:03:26] *** Quits: rca (rcatolino@moz-996748DF.adsl.proxad.net) (Ping timeout)
[21:03:35] *** Quits: Jesse (jruderman@moz-5973C6FA.oc.oc.cox.net) (Ping timeout)
[21:03:43] *** Joins: Jesse (jruderman@moz-5973C6FA.oc.oc.cox.net)
[21:05:23] *** Joins: blank_name (blank_name@BF9738BA.82815ADA.31EC03F3.IP)
[21:06:11] *** Joins: steveklabnik (uid17044@moz-A42E5B7B.irccloud.com)
[21:07:36] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[21:09:40] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[21:10:05] *** Quits: avsej (avsej@D9A610B8.4841F515.FB33447D.IP) (Client exited)
[21:11:52] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[21:16:26] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[21:19:00] *** Quits: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: dherman)
[21:21:56] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[21:21:56] *** ChanServ sets mode: +ao brson brson
[21:23:25] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[21:26:18] *** Quits: jstevans (Instantbir@F1B2E0CF.87CA334A.DDE5D3F6.IP) (Ping timeout)
[21:27:16] *** jdm is now known as jdm|busy
[21:28:26] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Client exited)
[21:30:49] *** Quits: refold (gman@moz-42D68426.a258.priv.bahnhof.se) (Quit: Lost terminal)
[21:32:31] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[21:33:32] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[21:33:44] *** Quits: tcr (tcr@moz-6FEAEFBC.hfc.comcastbusiness.net) (Client exited)
[21:33:54] *** Quits: zucchini (Mibbit@moz-40463609.w80-9.abo.wanadoo.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[21:34:09] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[21:34:14] *** Joins: tcr (tcr@moz-6FEAEFBC.hfc.comcastbusiness.net)
[21:36:02] *** Quits: tcr (tcr@moz-6FEAEFBC.hfc.comcastbusiness.net) (Ping timeout)
[21:37:06] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[21:37:41] *** Joins: Janko (chatzilla@D9AEFC3E.9E37BD61.9C3D12F2.IP)
[21:38:45] *** Quits: vodik_ (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[21:39:12] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Ping timeout)
[21:41:51] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Quit: Hibernating, be back soon.)
[21:42:37] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[21:44:16] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:49:36] *** Quits: lfox (lfox@moz-8C19C973.nyc.res.rr.com) (Ping timeout)
[21:49:41] *** Quits: jdm|busy (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[21:50:49] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[21:53:40] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[21:55:39] *** Joins: Unit158 (haxorz@moz-4545946B.dynamic.tbaytel.net)
[21:55:50] *** Quits: Blei (philipp@moz-B2F9E4BD.cust.bluewin.ch) (Quit: WeeChat 0.4.2)
[21:56:07] *** Quits: IRCMonkey57424 (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: IRCMonkey57424)
[21:56:59] *** Joins: vodik_ (simon@moz-FD4ADBC6.cable.teksavvy.com)
[21:57:21] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[21:57:32] *** Quits: telotortium (rmi1@moz-C8F8CE6.hsd1.ca.comcast.net) (Quit: Reconnecting)
[21:57:32] *** Joins: telotortium (rmi1@moz-C8F8CE6.hsd1.ca.comcast.net)
[21:58:08] *** sam113101 is now known as sam113101_afk
[21:58:11] *** Joins: jvns (bork@87D98E32.4046EB22.428F94DD.IP)
[21:58:43] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[21:58:48] *** Quits: telotortium (rmi1@moz-C8F8CE6.hsd1.ca.comcast.net) (Client exited)
[21:59:23] *** sam113101_afk is now known as sam113101
[21:59:29] *** Joins: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au)
[22:01:49] *** Quits: Unit158 (haxorz@moz-4545946B.dynamic.tbaytel.net) (Quit: ChatZilla 0.9.90.1 [Firefox 19.0.2/20130307023931])
[22:03:51] *** Joins: telotortium (rmi1@moz-C8F8CE6.hsd1.ca.comcast.net)
[22:11:32] *** Quits: morphevs (Adium@moz-2486EF49.dclient.hispeed.ch) (Quit: Leaving.)
[22:12:53] *** Joins: carter (carter@moz-F3C2A2D8.nycmny.fios.verizon.net)
[22:15:47] *** Joins: tcr (tcr@moz-6FEAEFBC.hfc.comcastbusiness.net)
[22:17:42] *** Joins: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[22:17:42] *** ChanServ sets mode: +ao dherman dherman
[22:18:40] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[22:22:24] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[22:24:10] *** Quits: carter (carter@moz-F3C2A2D8.nycmny.fios.verizon.net) (Ping timeout)
[22:27:10] *** Quits: rca_ (rcatolino@moz-D9D6A93B.adsl.proxad.net) (Ping timeout)
[22:27:40] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[22:31:02] <doomlord_> would rust be getting overload of operator[] to implement [T] as Vec<T>
[22:31:15] *** Joins: cdidd (cdidd@moz-F3995CCF.broadband.corbina.ru)
[22:31:22] *** Quits: jackneill (jackneill@moz-CFDD7A9B.pool.digikabel.hu) (Ping timeout)
[22:31:28] <doomlord_> ~[T] as Vec<T> i mean
[22:31:50] <agrif> Hey everyone, I'm getting "dyld: Symbol not found: __tlv_bootstrap" while compiling the latest rust master on OSX 10.6
[22:32:09] <agrif> google and the github issues haven't been much help
[22:32:30] <cmr> doomlord_: we already have it, the Index trait.
[22:32:37] *** Quits: jvns (bork@87D98E32.4046EB22.428F94DD.IP) (Ping timeout)
[22:32:39] <cmr> doomlord_: it will be being changed, though. Current trait isn't very good.
[22:32:45] <dbaupp> doomlord_: what cmr says, but ... https://github.com/mozilla/rust/issues/6515
[22:32:58] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[22:33:17] <dbaupp> agrif: have you compiled a previous version of Rust successfully previously?
[22:33:35] <agrif> 0.8, at least, through macports
[22:33:38] *** Quits: GeneralMaximus (ankur@B4DF73F6.7D84F5AD.260B031E.IP) (Quit: Computer has gone to sleep.)
[22:34:02] *** Quits: jvshahid (jvshahid@BE83DFD.50866E69.CA2DF2C0.IP) (Ping timeout)
[22:34:38] <dbaupp> peculiar
[22:34:49] <agrif> google seems to imply that this symbol is a marker for some functionality that's not found on 10.6
[22:35:00] <dbaupp> it may be because Rust doesn't support 0.6, yeah :(
[22:35:09] <dbaupp> *10.6
[22:35:11] <agrif> the README still says it does
[22:35:18] <dbaupp> acrichto: ^
[22:35:36] *** Quits: ianj (ianjneu@moz-7140CF01.ccs.neu.edu) (Quit: leaving)
[22:35:51] <acrichto> oh dear, this may be the first use case where we need to case on OS version numbers
[22:35:54] * dbaupp doesn't have a mac, and so cannot offer much help
[22:36:06] <acrichto> looks like #[thread_local] doesn't work on 10.6
[22:36:14] *** Quits: jmbto (jmbto@moz-FE174E29.fbx.proxad.net) (Quit: Leaving)
[22:36:37] *** Joins: ktt3ja (Mibbit@moz-D69B60E4.hsd1.va.comcast.net)
[22:36:43] *** Quits: doomlord_ (servitor@moz-D40D68D6.range86-184.btcentralplus.com) (Quit: Leaving)
[22:36:46] *** Joins: doomlord_ (servitor@moz-D40D68D6.range86-184.btcentralplus.com)
[22:37:28] <acrichto> agrif: are you compiling on an os different than 10.6?
[22:38:06] <agrif> I'm compiling on 10.6 now, but I also have a linux machine available
[22:38:27] <acrichto> hm, someone said somewhere their deployment target wasn't right, but if you're compiling on 10.6 that shouldn't be a problem
[22:38:29] <agrif> 10.6.8 specifically
[22:38:38] <brson> I fixed Blei's problem. I'm so happy to have done something useful.
[22:38:52] <acrichto> brson: yay! what was it?
[22:38:59] *** Joins: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP)
[22:38:59] *** ChanServ sets mode: +o jdm
[22:39:05] <brson> I wish he were here :-(
[22:39:06] *** Quits: balpert_ (sid15886@moz-A42E5B7B.irccloud.com) (Ping timeout)
[22:39:23] *** Quits: fixplz (uid18459@moz-A42E5B7B.irccloud.com) (Ping timeout)
[22:39:43] <brson> acrichto: I don't know exactly where the deadlock was happening, but the pattern he was using for task spawning in his gui application was basically backward - he was putting the event loop on a green thread and the worker tasks on native threads
[22:40:19] *** Joins: brylie (quassel@moz-E27796EB.hsd1.or.comcast.net)
[22:40:42] <acrichto> oh man those bugs are nasty
[22:40:47] <brson> his app is a gtk music player. pretty neat
[22:41:12] <brson> yeah, we are going to need better instrumentation for debugging scheduling problems
[22:41:27] <brson> it's pretty impossible unless you can just guess what the issue is by knowing how it works
[22:41:29] <acrichto> "stare at it" never really quite cuts it...
[22:41:42] <strcat> acrichto: I'm pretty sure TLS works on OS X 10.6
[22:42:04] <acrichto> agrif: you built rust locally?
[22:42:35] <agrif> acrichto: yeah
[22:42:42] *** Quits: Sharp (Sharp@1710C26.8381A41.8725677B.IP) (Ping timeout)
[22:42:45] <acrichto> agrif: cool, one sec
[22:43:00] *** Joins: balpert_ (sid15886@moz-A42E5B7B.irccloud.com)
[22:43:14] *** Joins: fixplz (uid18459@moz-A42E5B7B.irccloud.com)
[22:43:18] <brson> some of the bots are running 10.6
[22:43:45] <acrichto> weird
[22:43:51] <agrif> I noticed that it said there were snapshot builds for 10.6
[22:43:57] <agrif> so that's where I'll go next, I guess
[22:44:14] <brson> well, i think some of the bots are on 10.6
[22:44:19] <brson> it's been awhile
[22:44:43] *** Joins: Sharp (Sharp@1710C26.8381A41.8725677B.IP)
[22:45:05] <acrichto> agrif: https://gist.github.com/alexcrichton/7833435
[22:45:22] *** Quits: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[22:45:26] <agrif> on it
[22:45:27] <acrichto> agrif: put the stuff above the comments in a file called `foo.ll` and then run those commands
[22:46:20] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[22:46:26] *** Joins: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[22:46:26] *** ChanServ sets mode: +ao dherman dherman
[22:47:01] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Ping timeout)
[22:47:08] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[22:47:42] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[22:47:55] <agrif> acrichto: https://gist.github.com/alexcrichton/7833435/#comment-964847
[22:48:19] <acrichto> hm, ok so your system definitly does not support thread local things then
[22:48:23] *** Quits: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca) (Quit: canhtak)
[22:48:31] <cmr> agrif: can you run that with the system llc?
[22:48:34] <acrichto> which is weird because the bots do?
[22:48:40] <agrif> yeah
[22:48:48] <cmr> you can?
[22:48:51] *** Joins: tautologico (iorek@E0D804D3.CFE755C8.C27E1635.IP)
[22:48:53] <acrichto> agrif: also try linking with clang instead of gcc possibly?
[22:49:26] <tautologico> I'm trying to implement Iterator for a type that has a lifetime parameter, is that possible?
[22:49:33] <cmr> tautologico: yes.
[22:49:42] <cmr> impl<'a, T> Iterator<T> for Foo<'a>
[22:49:44] <cmr> For example
[22:49:49] *** Quits: Janko (chatzilla@D9AEFC3E.9E37BD61.9C3D12F2.IP) (Connection reset by peer)
[22:49:55] <tautologico> yeah, I'm getting errors
[22:50:00] <agrif> cmr, sorry, I meant I'd try. turns out I don't... have a system llc?
[22:50:06] <brson> acrichto: bots are on 10.7
[22:50:08] <tautologico> factor.rs:166:1: 172:2 error: method `next` has an incompatible type: expected concrete lifetime, but found bound lifetime parameter &
[22:50:09] <agrif> acrichto: fails to link with clang too
[22:50:16] <cmr> agrif: do you have the xcode tool?
[22:50:18] <cmr> s
[22:50:23] <agrif> yeah
[22:50:29] <agrif> and I have llvm, clearly
[22:50:32] <tautologico> also
[22:50:33] <tautologico> error: cannot determine a type for this bounded type parameter: unconstrained type
[22:50:35] <acrichto> brson: hm, have we ever given thought to having cfg directives for the OS version?
[22:50:35] <cmr> huh
[22:50:52] <brson> acrichto: no...
[22:51:04] <acrichto> I feel like it's inevitable :(
[22:51:10] <brson> that's a pretty scary notion, trying to figure out what 'os version' even means
[22:51:14] <tautologico> I'm declaring next as fn next(&'r mut self) -> Option<uint>
[22:51:14] <o11c> or just ditch 10.6 ?
[22:51:30] <achin> on my 10.9 system, the only llc thing i have is /opt/local/bin/llc-mp-3.1 (which must have come from macports)
[22:51:50] <cmr> tautologico: yeah, that can't work.
[22:52:06] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[22:52:08] <brson> if we break 10.6 then I have to upgrade :(
[22:52:16] <acrichto> in theory we've already broken it
[22:52:28] <acrichto> unless we make osx not use #[thread_local] for the runtime
[22:52:30] <agrif> unintentionally, it seems
[22:52:48] <tautologico> cmr: so I can't implement Iterator for this type?
[22:52:52] <hoverbear> brson: How do you handle that? It seems like nothing uses 10.6 :(
[22:52:58] <cmr> tautologico: unfortunately it seems no.
[22:53:00] <brson> i don't feel like we should deprecate 10.6 for this, though apple does deprecate their os's quickly
[22:53:11] <brson> hoverbear: all i use my mac for is building rust
[22:53:16] <tautologico> cmr: ok thanks
[22:53:21] <hoverbear> brson: IIRC chrome and FF don't even support 10.6 
[22:53:39] <agrif> chrome definitely does, since I just got an update
[22:53:56] <agrif> though who knows, maybe the *last* update
[22:53:59] *** Joins: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca)
[22:54:15] <hoverbear> agrif: I had to update a friend's 10.<something to 10.8 a few months ago because chrome wouldn't update...
[22:54:19] <hoverbear> I think it was 10.6
[22:54:36] *** Quits: CarpNet (Alasdair@moz-25C796BC.cable.virginm.net) (Quit: Leaving)
[22:54:51] <agrif> chrome site sez "For Mac OS X 10.6 or later"
[22:55:50] <hoverbear> Ah, must have been 10.5
[22:57:03] <agrif> surely osx has some facility for thread-local storage
[22:57:12] <agrif> even 10.6
[22:57:45] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[22:57:55] <acrichto> there's always pthread_local stuff
[22:58:09] <acrichto> but LLVM has a #[thread_local] attribute which does more compiler/dyld magic
[22:58:15] <acrichto> it's also a little faster for accessing TLS
[22:58:55] <Luqman> agrif: what version of xcode do you have?
[22:59:17] <agrif> 4.2
[23:01:39] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Ping timeout)
[23:01:48] <strcat> acrichto: it's a lot faster
[23:02:05] *** Quits: Sharp (Sharp@1710C26.8381A41.8725677B.IP) (Quit: Sharp)
[23:03:09] *** Quits: w3lcome (Mibbit@moz-49575A06.home.otenet.gr) (Quit: http://www.mibbit.com ajax IRC Client)
[23:04:27] <strcat> and __thread existed long before thread_local in C11/C++11
[23:05:03] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[23:07:37] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[23:07:50] <strcat> with dynamic linking it's not really
[23:08:01] <strcat> and afaik rust doesn't support full static linking as a linkage model
[23:08:36] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[23:09:19] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[23:09:42] *** Joins: refold (gman@moz-42D68426.a258.priv.bahnhof.se)
[23:10:28] <tautologico> a proc can only be executed once? I couldn't find anything about it in the manual
[23:10:32] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[23:10:35] <benh> yep
[23:10:55] *** Quits: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[23:13:52] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[23:13:58] *** Quits: refold (gman@moz-42D68426.a258.priv.bahnhof.se) (Quit: leaving)
[23:14:52] *** Quits: ptc (Adium@moz-7D1F0258.thefacebook.com) (Quit: Leaving.)
[23:15:06] *** Quits: thorncp (Mibbit@E96E8C10.655E827A.FE5C4853.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:15:22] *** Joins: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net)
[23:15:43] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[23:18:08] *** Joins: Sharp (Sharp@1710C26.8381A41.8725677B.IP)
[23:18:51] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:18:52] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[23:20:28] *** Quits: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[23:20:33] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[23:20:55] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:21:03] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[23:21:51] *** Joins: lenstr (lenstr@6CD9B9BF.9636F313.7A27613B.IP)
[23:22:03] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[23:22:33] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[23:23:45] <mark_edward> can i destructure  a vector?
[23:23:52] <mark_edward> in a let expression?
[23:24:01] <cmr> in let, no, it's not irrefutable.
[23:24:10] <ezyang> I don't know who is subscribed to rust-dev, but what is the difference between 'fn next<'a>(&'a mut self) -> Option<'a A>;' and the current type signature for iterator::next? 
[23:24:31] <cmr> ezyang: it has a lifetime
[23:24:42] <strcat> I don't think that's valid anyway
[23:24:52] <ezyang> Yeah, so I know that there's a lifetime parameter attached to self 
[23:24:57] <ezyang> But I don't understand what that would mean 
[23:25:02] <strcat> ezyang: the current signature is 'fn next(&mut self) -> Option<A>'
[23:25:12] <strcat> the iterator lifetime isn't tied to what it returns
[23:25:32] <ezyang> OK, so the variant is saying "what I return has a lifetime associated with the iterator"? 
[23:25:40] <strcat> ezyang: it's not valid code
[23:25:48] <ezyang> Oh, well, that too ^^ 
[23:26:05] <strcat> iterators yield values
[23:26:15] <strcat> range(0, 10) is an Iterator<int> implementation
[23:26:15] <dbaupp> ezyang: if means you couldn't do ` fn foo<'a>(v: &'a [int]) -> &'a int { for x in v.iter() { if something() { return x } } }` because `x` would only last for as long as the iter.
[23:26:20] <strcat> it yields Option<int>
[23:26:26] <ssbr_> mark_edward: you can only do a destructuring bind for a pattern which can't fail for any value of that type
[23:26:30] <strcat> &'a [T] is an Iterator<&'a T> implementation
[23:26:35] <strcat> it yields Option<&'a T>
[23:26:47] <strcat> the lifetime isn't tied to the iterator at all - the iterators just treat everything as values
[23:27:00] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Ping timeout)
[23:27:10] <celeron55> lol help! http://kib2.free.fr/pastebin/view_paste.php?id=149
[23:27:15] <celeron55> does there exist a way to make this work
[23:27:18] <strcat> there's no way to preserve the generic power of iterators + tie the lifetime of the iterator to the lifetime of the value
[23:27:24] <strcat> and even if you could, it'd make them less flexible
[23:27:48] <strcat> celeron55: ~HashMap doesn't make much sense, why use ~ there?
[23:27:59] <ezyang> I mean, my problem here is not the value-return, it's the fact that iterators are privileged under for loops 
[23:28:01] * strcat doesn't know what the precise problem is though
[23:28:15] <strcat> ezyang: what do you mean 'privileged'?
[23:28:18] <celeron55> it seems to work just fine if i don't use the generic but some certain type, but once i add the CT there it just fails like that
[23:28:23] <ezyang> Privileged with syntax 
[23:28:25] <celeron55> strcat: well that's not the problem
[23:28:49] <cmr> ezyang: --pretty expanded to see what the for loop expands to
[23:28:55] <strcat> ezyang: so why is that a problem?
[23:29:02] <cmr> it's pure sugar
[23:29:14] <strcat> (it shouldn't be pure sugar though)
[23:29:27] <celeron55> i think it's quite obvious what i want that code to do; what do i need to explain?
[23:29:28] <ezyang> I mean, in some sense it's not a problem. 
[23:29:46] <ezyang> I just tend to be fairly sensitive to this sort of thing 
[23:29:48] <strcat> is it a problem that `bool` is privileged with syntax via `while` and `if`?
[23:29:55] <ezyang> oh snap, https://github.com/mozilla/rust/issues/6137 fixed 
[23:30:13] <strcat> ezyang: so what's the problem with having syntax for something that's widely used and very flexible?
[23:30:16] <strcat> it's a very simple primitive
[23:30:37] <strcat> trait Iterator -> A { fn next(&mut self) -> Option<A>; } // the only part the syntax cares about
[23:30:40] *** Joins: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net)
[23:31:09] <ezyang> Well, some would argue that bool should not be privileged (I'm not among them) 
[23:31:38] <ezyang> Note: my sensibility comes from Haskell, where all of our control structures like loops are just functions, so none of them get privileged. (Except monads.) 
[23:32:06] <celeron55> if i do this, it works just fine: http://kib2.free.fr/pastebin/view_paste.php?id=150
[23:32:14] <strcat> ezyang: and haskell doesn't have efficient data structures or iterators so the design area is totally different
[23:32:15] <celeron55> but obviously doesn't do what i want anymore
[23:32:35] *** Quits: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au) (Quit: gavinb)
[23:32:36] <strcat> it doesn't have a call stack
[23:32:40] <strcat> it's a totally different language than rust
[23:32:58] <Luqman> celeron55: add a 'static bound to CT. so `fn with<CT: 'static>(...)`
[23:33:07] <strcat> haskell has syntax for lists (a special built-in type) which it uses as the control structure
[23:33:10] <ezyang> Really, I wouldn't have a problem with Iterator being privileged, except apparently one can tweak the signature in ways that support different cases 
[23:33:11] <egghead> are there any practical tutorials for rust out there?
[23:33:12] *** Joins: Jesin (Jesin@moz-C1EBF9B4.dept.lehigh.edu)
[23:33:20] <strcat> egghead: there's nothing to tweak, really
[23:33:23] <strcat> ezyang: *
[23:33:26] <egghead> I went through the doc tutorial and felt like it was just syntax
[23:33:33] <strcat> ezyang: lists are the closest thing haskell has to iterators and it has *tons* of syntax for them
[23:33:40] <strcat> it has pattern matching sugar, type sugar, literal sugar
[23:33:42] <egghead> I'd like to see something like 'here is how youd write a chat server in rust'
[23:34:28] <ezyang> Hmm, my nightly is not recent enough 
[23:34:36] <celeron55> Luqman: okay, that seems to fix it so far - let's see what breaks next 8)
[23:34:45] <dbaupp> egghead: it's improving
[23:35:06] <strcat> ezyang: I've yet to see a valid (as in it will type-check) suggestion for an alternate signature
[23:35:10] <agrif> acrichto: would you like me to make a github issue for this osx 10.6 thing?
[23:35:19] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Ping timeout)
[23:35:24] <dbaupp> egghead: strcat has recently written a section on "writing a linked list" to introduce some concepts like ownership and boxing http://static.rust-lang.org/doc/master/tutorial.html#implementing-a-linked-list
[23:35:39] <dbaupp> egghead: it's still a work in progress.
[23:35:57] <ezyang> strcat: Yeah, the fact that the proposed alternate doesn't type-check makes it a bit bogus :) 
[23:35:59] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[23:36:02] <egghead> I hear ya, thanks dbaupp 
[23:36:22] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:36:24] <strcat> ezyang: the only two realistic ways I see it implemented are 'trait Iterator<A> { fn next(&mut self) -> Option<A>; }
[23:36:26] <strcat> and
[23:36:32] <dbaupp> egghead: other than that, there's http://rustforrubyists.com/ , although i don't remember how pratical it is, of the top of my head
[23:36:36] <dbaupp> *off
[23:36:44] <ezyang> OK, another question for y'all: in Huon's response here http://www.mail-archive.com/rust-dev@mozilla.org/msg07241.html 
[23:36:45] <strcat> 'trait Iterator<A> { fn has_next(&mut self) -> bool; fn next(&mut self) -> A; }'
[23:36:50] <strcat> and the latter is really ugly
[23:36:57] <strcat> has_next still has to be able to mutate the iterator
[23:37:01] <strcat> because consider reading lines from a file
[23:37:12] <strcat> and now you have a failure case in next
[23:37:15] <dbaupp> ezyang: (I'm huon, if you have a question :) )
[23:37:15] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[23:37:23] <ezyang> He does two odd things in his code: he returns ret, next as a tuple before doing things to them, and he uses std::util::replace to get around the borrow checker 
[23:37:23] *** Joins: jstevans (Instantbir@98B9A5BB.474E6E0A.DDE5D3F6.IP)
[23:37:31] <ezyang> dbaupp: Oh, haha, whoops 
[23:37:47] <strcat> well, Iterator exists for code reuse
[23:37:56] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[23:37:58] <ezyang> OK, so my first question is, the code as written does an extra unnecessary mutation to the iterator variable each loop. Does this get optimized away? 
[23:38:02] <strcat> if you're adding restrictions that are going to prevent reusing the adaptors and so on, you don't want iterators anyway
[23:38:12] <ezyang> strcat: Oh, I don't have any objection to the use of Option<> 
[23:38:38] <strcat> the point is that it's a generic trait providing the minimum sane requirements for an iterator
[23:38:40] <ezyang> My second question is, why did you write the code so that you did the assignment outside the match? I tried the alternate and it type-checks 
[23:38:49] <strcat> if an implementation can't meet those requirements, it's fine to not implement it as an iterator
[23:39:05] <strcat> ezyang: hm?
[23:39:17] <ezyang> (sorry, that was at dbaupp) 
[23:39:28] <dbaupp> ezyang: I was writing it without a compiler, so I was doing it safe-as-possible, i.e. what I was almost certainly sure would work.
[23:39:33] <benh> enum Iterator<A> { HasNext(A, proc() -> Iterator<A>), End } <:)
[23:39:48] <ezyang> dbaupp: Hm. So why do you think the return-style is more likely to work? 
[23:39:59] <ezyang> I think that is probably some good intuition for the borrow checker I should pick up. 
[23:40:18] <strcat> ezyang: re: optimizations, I can tell you that iterators aren't a high-level concept in compilers terms
[23:40:36] <dbaupp> ezyang: the replace means that you're not mutating `self` inside a match on `self`, which often causes unhappiness
[23:40:49] <strcat> for example a vector iterator
[23:41:02] <strcat> it's a struct containing a start pointer and an end pointer
[23:41:11] <strcat> calling next() increments the start pointer and checks if it reached the end
[23:41:14] <ezyang> dbaupp: Got it. Do you recommend writing it in that style? 
[23:41:50] <dbaupp> ezyang: and returning the tuple was because apparently I wasn't thinking... I was trying to DRY on the `*self = ... ;` there's no need to set self to None again, especially after the replace
[23:41:55] <strcat> the compiler will inline next() (it's tiny) and split the iterator into two scalars (not that it really matters)
[23:42:03] <dbaupp> s/there's/but there's/
[23:42:08] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[23:42:22] <strcat> each iterator of the loop does a pointer increment and a pointer compare - you can't write faster code than you get from the vector iterator
[23:42:24] <ezyang> strcat: *nod* So I guess what I am actually asking, is, if LLVM is clever enough to notice that I'm making a dead assignment to a variable 
[23:42:35] <dbaupp> ezyang: so, no my style in the email was tainted by a lack of compiler; would not recommend.
[23:42:37] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[23:42:39] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[23:42:40] <ezyang> Which should almost certainly be yes 
[23:42:43] <ezyang> OK :) 
[23:43:23] <strcat> ezyang: with optimizations disabled it wouldn't output a trivial dead store
[23:43:25] <wycats_> is there a Rust function to duplicate a *u8?
[23:43:40] *** jorendorff is now known as jorendorff_away
[23:43:51] <benh> Like, shallowly?
[23:43:54] <strcat> ezyang: it's only a non-trivial dead-store if it's to a memory location that there may be other references to
[23:43:58] <benh> strcpy?
[23:44:08] <dbaupp> ezyang: If `fn next() -> .. { match *self { Some(...) => { *self = next.as_mut_ref(); Some((payload1, payload2)) } None => None } }` works, that's better
[23:44:24] <wycats_> no, I have a length
[23:44:24] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[23:44:37] <strcat> wycats_: ptr::copy_memory/ptr::copy_nonoverlapping_memory
[23:44:42] <wycats_> I basically have a u8 and length
[23:44:42] <strcat> ofc you'll have to allocate enough space for it
[23:44:47] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[23:44:50] <wycats_> and want to get back a ~str copy of the data
[23:45:03] <strcat> wycats_: convert it to &[u8] (that's just a ptr and a length)
[23:45:14] <ezyang> dbaupp: It does not, I checked 
[23:45:15] <strcat> wycats_: it's guaranteed to always be UTF-8? or no
[23:45:19] <wycats_> I need a ~u8, and more importantly I need it to be copied
[23:45:24] <wycats_> sorry ~str
[23:45:29] <wycats_> it's guaranteed to be utf8
[23:45:30] <ezyang> I don't really know why, though 
[23:45:34] <dbaupp> ezyang: ah, well, with the replace still?
[23:45:37] <ezyang> Yep 
[23:45:42] <ezyang> Kinda sucks. 
[23:45:52] <strcat> wycats_: I would just transmute it into a &str and use to_owned
[23:45:52] <dbaupp> (i.e. does the replace work, or that also doesn't work?)
[23:45:58] <ezyang> The replace works 
[23:46:03] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:46:03] <benh> there's std::str::raw::from_buf_len(*u8, uint) -> ~str
[23:46:09] <ezyang> but means you have to hope the optimizer can figure it out. 
[23:46:17] <dbaupp> yeah, I guess so
[23:46:35] <wycats_> benh: but that doesn't copy right?
[23:46:40] <wycats_> strcat: does to_owned copy?
[23:46:40] <strcat> ezyang: you don't have to hope, you can check
[23:46:47] <benh> It returns ~ so it has to
[23:46:52] <ezyang> I must admit, I'm a bit afraid at the fact that there are these tricks for working around the borrow checker which I have no idea about 
[23:46:54] <wycats_> yes
[23:46:56] <celeron55> error: mismatched types: expected `fn(&mut A)` but found `|&mut A|` (expected extern fn but found fn)
[23:47:01] <ezyang> strcat: What's the easiest way to do so? 
[23:47:02] <celeron55> ^ how does one fix this in practice?
[23:47:09] <strcat> ezyang: look at the LLVM IR
[23:47:12] <benh> it copies and then assert!s that it's utf-8
[23:47:13] <wycats_> ezyang: "working around the borrow checker" <= very frightening words to use
[23:47:14] <strcat> --emit-llvm -S
[23:47:17] <dbaupp> ezyang: it would be unsafe (in many instances) to be able to take references into an object and then overwrite that object while those references are valid
[23:47:18] <wycats_> the borrow checker is telling you something
[23:47:30] <ezyang> wycats_: What I mean is, the borrow checker is not smart enough! 
[23:47:49] <strcat> ezyang: it's a slightly lower abstraction level than C
[23:47:52] <strcat> pretty easy to read
[23:47:55] <wycats_> strcat: do I use raw::Slice{} to get a &str?
[23:48:05] <wycats_> ah std::str::raw::from_buf_len(*u8, uint)
[23:48:07] <ezyang> So, actually the problem is, I don't know how to dump llvm from rustc 
[23:48:16] <strcat> ezyang: --emit-llvm -S
[23:48:18] <dbaupp> wycats_: I think that copies to a ~str
[23:48:23] <strcat> with optimizations enabled too
[23:48:26] <benh> ( https://github.com/mozilla/rust/blob/master/src/libstd/str.rs#L1001 )
[23:48:37] <ezyang> kewl 
[23:48:42] <wycats_> dbaupp: it's unsafe so it may not
[23:48:52] <strcat> ezyang: and keep in mind that CodeGen (bytecode -> machine code) does optimization too
[23:49:14] <dbaupp> wycats_: to the code!
[23:49:14] <strcat> but the high-level optimizations happen on the bytecode
[23:49:24] <ezyang> ...hm, I have to make this pub, so that it doesn't get dead-code eliminated, don't I 
[23:49:25] <dbaupp> wycats_: http://static.rust-lang.org/doc/master/src/std/home/rustbuild/src/rust-buildbot/slave/doc/build/src/libstd/str.rs.html#1002-1009
[23:49:47] <strcat> ezyang: write a function that's public and compile with --lib
[23:49:48] <wycats_> copy_memory!
[23:49:49] <wycats_> wheee
[23:50:01] <wycats_> seems like it should be possible for this to be safe, but what do I know
[23:50:13] <dbaupp> dereferencing the * ptr is unsafe
[23:50:17] <benh> it's not safe because it trusts a * ptr and its length
[23:50:30] <wycats_> hm
[23:50:43] <benh> If you have a &[u8] instead, that would imply that it is a valid address/length and there's probably a safe method
[23:50:48] <wycats_> and if I already had a &str I could just to_owned
[23:50:55] <wycats_> benh: to_owned I think
[23:51:07] <wycats_> ok I'll create a slice in Ruby and "safely" convert it to a ~str in Rust :P
[23:51:19] <benh> wycats_: goin from &[u8] to &str/~str safely still requires a "is this really utf-8?" check
[23:51:33] <benh> because &/~str being valid utf-8 is part of the invariant in safe code
[23:51:59] <wycats_> benh: I can live with that check
[23:52:06] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[23:52:07] <wycats_> wait
[23:52:08] <wycats_> no
[23:52:11] <ezyang> What does it mean if there are multiple copies of MyIterator::next? 
[23:52:15] <wycats_> I can just take &str
[23:52:18] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[23:52:19] <benh> Of course you cn just copy those five lines in that function and omit the check
[23:52:21] <benh> or that
[23:52:23] <wycats_> and basically force C to enforce the invariant
[23:52:40] <wycats_> My "safe" Rust code is not actually very safe
[23:53:22] <strcat> ezyang: what's the code you are compiling?
[23:53:25] <dbaupp> ezyang: is it a generic?
[23:54:10] <ezyang> No, it's not generic. I'm just compiling Huon's iterator thing 
[23:54:19] <ezyang> erm, your iterator thing :) 
[23:54:44] <ezyang> oh, duh, I understand. "Don't mind me" 
[23:55:18] <wycats_> success
[23:55:38] *** Quits: tcr (tcr@moz-6FEAEFBC.hfc.comcastbusiness.net) (Client exited)
[23:56:07] *** Joins: tcr (tcr@moz-6FEAEFBC.hfc.comcastbusiness.net)
[23:56:40] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[23:56:47] <ezyang> d'oh, clearly I don't know how to read LLVM 
[23:56:56] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[23:57:06] <strcat> ezyang: well, a simple explanation is that it's quite a lot like C
[23:57:20] <celeron55> got it to work: http://kib2.free.fr/pastebin/view_paste.php?id=151
[23:57:26] *** Joins: Shaladdle (shaladdle@moz-FDE833F3.wv.cc.cmu.edu)
[23:57:28] <ezyang> Looks like a spurious store: store i64 0, i64* %4, align 8 
[23:57:28] *** Joins: tikue (tkuehn@DB2ADAE8.E6CB677E.689607DE.IP)
[23:57:42] <strcat> ezyang: do you have optimizations on?
[23:57:50] *** Quits: tcr (tcr@moz-6FEAEFBC.hfc.comcastbusiness.net) (Ping timeout)
[23:57:51] <ezyang> I passed -O to rustc 
[23:58:59] <ezyang> (full command: rustc --emit-llvm -S BlockAlloc.rs --lib -O) 
[23:59:31] <strcat> did you write code using it?
[23:59:36] <strcat> as in an actual loop
[23:59:45] <ezyang> Nope 
[23:59:47] <strcat> if you just make the iterator public it's not telling you anything
