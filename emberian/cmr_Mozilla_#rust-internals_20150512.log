[00:03:01] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[00:04:25] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[00:04:28] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Ping timeout: 121 seconds)
[00:06:38] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[00:07:41] <brson> i'm running a dist build on stable. it should not upload the final manifest though
[00:15:04] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[00:16:18] *** Quits: mgottschlag (quassel@moz-a2d1qa.scc.kit.edu) (Ping timeout: 121 seconds)
[00:21:36] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[00:24:04] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[00:28:27] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[00:29:14] *** chmanchester is now known as chmanchester|afk
[00:29:27] <nrc> In a test, is there a way to test for the presence of a note with no span (i.e., I can't use //~ NOTE) and at the same time test for an error on a given line (using //~ ERROR and error-pattern gives an error)
[00:30:02] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[00:34:08] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[00:34:09] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[00:34:27] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[00:35:07] <frewsxcv> afl hasn't found any bugs in semvar so far http://104.131.71.250:8000/plots/
[00:35:12] <frewsxcv> i think i'm relieved?
[00:36:02] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[00:37:50] <Manishearth> frewsxcv: Are you running afl on all the crates? 
[00:38:07] <frewsxcv> not all, just ones i hand select
[00:38:24] <frewsxcv> hard to automate all of them since each API is different
[00:38:47] <Manishearth> yeah
[00:39:01] <frewsxcv> if you want me to do any, let me know
[00:39:06] <frewsxcv> i was going to do rust-toml next
[00:40:35] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[00:40:50] <Manishearth> kay, sure :)
[00:40:56] <Manishearth> Servo deps would be helpful :)
[00:41:28] * Manishearth wonders how long it would take to aflify rustc :p
[00:41:42] <frewsxcv> i think kmc did that at some point
[00:42:21] *** Joins: anders (andars@moz-bsldst.sntcca.sbcglobal.net)
[00:42:49] <kmc> i have done a bit
[00:42:52] <kmc> and i have plans for more
[00:43:02] <kmc> it's not great at nontrivial grammars
[00:43:05] <kmc> but there are ways to address that
[00:44:46] <frewsxcv> project idea: automatically run AFL upon git push. i.e. AFL As A Service
[00:45:14] <frewsxcv> it's an extremely valuable tool that most project could take advantage of, just non-trivial to setup
[00:45:25] <seanmonstar> #[cfg()] attributes don't work on `impl Foo {}`?
[00:45:51] <nrc> they should
[00:47:43] <seanmonstar> oh, it doesn't trigger before parsing...
[00:48:34] <huon> frewsxcv: it seems expensive too
[00:48:46] <huon> frewsxcv: (in terms of CPU time, at least)
[00:48:53] <frewsxcv> huon: yeah, i imagine it being a paid service
[00:49:10] <frewsxcv> e.g. 3 minute AFL runtime for free+open source projects, paid plans for more minutes
[00:49:19] <seanmonstar> nrc: dang, so i cant test out associated_consts with my 'nightly' feature flag, cause rust stable will parse them before noticing it shouldn't...
[00:49:24] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[00:49:41] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[00:49:41] *** ChanServ sets mode: +o pcwalton
[00:50:01] <nrc> seanmonstar: yeah cfg stuff happens post-parsing
[00:50:16] <seanmonstar> i guess that will only be useful to use 'unstable' apis, not new language features
[00:50:18] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[00:50:41] <nrc> It should be possible with some tweeking to make it work after tokenisation instead, but its a fair bit of work and not high priority
[00:51:35] <seanmonstar> sure. i imagine it'd be useful tho to allow libraries to explore (ahem, test and find bugs) new features before they hit stable
[00:51:39] <WindowsBunny> frewsxcv: couldn't you run it on travis for free though?
[00:52:45] <frewsxcv> WindowsBunny: maybe? i'm not sure TBH. it's pretty expensive CPU wise
[00:55:27] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[01:04:22] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:04:46] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[01:04:59] *** Joins: ConnorDo_ (ConnorDoyle@moz-hud.3ra.116.199.IP)
[01:05:58] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[01:06:27] *** Quits: jga (jga@moz-lmi.t1q.244.77.IP) (Ping timeout: 121 seconds)
[01:08:04] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[01:08:42] <frewsxcv> no one corrected me: we can test everything. we just need to loop through every single struct/enum on crates.io that implements FromStr :)
[01:09:00] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[01:09:08] <seanmonstar> whats wrong with FromStr?
[01:09:55] <frewsxcv> we can feed strings into anything that implement FromStr
[01:10:17] <seanmonstar> oh, your fuzzing all of crates.io? carry on
[01:10:30] <frewsxcv> heh, hypothetically speaking
[01:11:17] <seanmonstar> hyper's headers use FromStr for parsing. and there's quite a few types in headers/common
[01:15:16] *** Joins: tamird (textual@moz-gg3hct.res.rr.com)
[01:16:42] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[01:18:53] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:19:24] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[01:20:05] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[01:24:07] *** Quits: blaenk_ (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[01:25:20] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[01:25:53] *** Quits: larsberg (Adium@moz-kmvlue.cable.rcn.com) (Quit: Leaving.)
[01:28:24] *** Quits: ConnorDo_ (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[01:29:27] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[01:31:40] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[01:31:54] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[01:32:21] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[01:33:01] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[01:33:46] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[01:35:42] *** Quits: kmcguire (kmcguire@moz-bbqf14.res.bhn.net) (Ping timeout: 121 seconds)
[01:35:45] *** Joins: scemin (scemin@moz-fb4rie.securitycompass.com)
[01:35:58] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[01:35:58] *** ChanServ sets mode: +o pcwalton
[01:37:41] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[01:38:20] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[01:42:15] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[01:42:44] *** Quits: scemin (scemin@moz-fb4rie.securitycompass.com) (Client exited)
[01:47:46] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[01:49:19] *** Joins: blaenk_ (blaenkdenum@moz-em283u.res.rr.com)
[01:50:44] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[01:50:49] <seanmonstar> so what happens in macro_use ends up importing macros with name collisions with other imports?
[01:50:56] <seanmonstar> if*
[01:54:06] *** Joins: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[02:09:59] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[02:10:59] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[02:12:07] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[02:14:24] *** Quits: zz_kimundi (kimundi@moz-krnn6s.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:14:49] *** Quits: det (chris@moz-9klsea.lv.cox.net) (Connection closed)
[02:15:13] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[02:15:43] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[02:16:04] *** Joins: zz_kimundi (kimundi@moz-ocelec.dip0.t-ipconnect.de)
[02:16:05] *** zz_kimundi is now known as kimundi
[02:18:26] <sfackler> new imports shadow old ones
[02:20:30] *** Quits: mib_0d8z3z (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:24:12] <seanmonstar> k
[02:27:30] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[02:31:02] *** Joins: det (chris@moz-9klsea.lv.cox.net)
[02:31:41] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[02:38:25] *** Joins: frewsxcv_ (uid86219@moz-dneii9.brockwell.irccloud.com)
[02:40:18] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[02:40:25] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[02:40:42] *** Quits: ytain (ytain@moz-01dgko.cpe.pppoe.ca) (Quit: Textual IRC Client: www.textualapp.com)
[02:41:05] *** Quits: frewsxcv (frewsxcv@moz-lr4.h2r.241.192.IP) (Quit: ZNC - http://znc.in)
[02:41:06] *** frewsxcv_ is now known as frewsxcv
[02:41:15] *** Quits: frewsxcv (uid86219@moz-dneii9.brockwell.irccloud.com) (Quit: )
[02:41:18] *** Joins: frewsxcv (uid86219@moz-dneii9.brockwell.irccloud.com)
[02:44:34] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[02:46:47] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[02:49:10] *** Quits: bdero (bran@moz-216hqv.oo5r.e4su.0006.2601.IP) (Ping timeout: 121 seconds)
[02:50:15] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[02:51:33] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[02:52:27] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[02:55:40] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[02:56:52] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[03:05:56] <jgallagher> this should be rejected by the compiler, right? http://is.gd/jeRBtY (note the extra ‘static on my_call for Foo that isn’t in the trait) on my desktop this crashes with a bad access even though no unsafe code is involved
[03:06:49] *** Quits: npm (npm@moz-uqe.mg6.56.172.IP) (Ping timeout: 121 seconds)
[03:09:02] <jgallagher> it doesn’t crash on the playpen if you replace the sleeps with dummy loops, but i think that’s a coincidence
[03:09:07] <jgallagher> this seems like it’s allowing memory unsafety
[03:09:17] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[03:09:27] *** Joins: p1start (p1start@moz-nftjhe.org)
[03:10:24] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[03:11:21] <aturon> jgallagher: yep -- known bug https://github.com/rust-lang/rust/issues/18937
[03:12:12] <jgallagher> aturon: cool, won’t make another issue then. thanks!
[03:17:44] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[03:20:24] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:24:06] *** Quits: erz (erz@moz-n26c5c.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:25:10] *** Joins: quantheory (quantheory@moz-dsb104.crel.jtvf.0001.2601.IP)
[03:25:22] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[03:27:04] *** Joins: ConnorDo_ (ConnorDoyle@moz-hud.3ra.116.199.IP)
[03:27:06] *** Quits: ConnorDo_ (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[03:27:12] *** Joins: ConnorDo_ (ConnorDoyle@moz-hud.3ra.116.199.IP)
[03:27:35] *** Joins: semarie_ (semarie@moz-vjb.r8r.42.192.IP)
[03:28:01] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[03:28:38] *** Quits: ConnorDo_ (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[03:28:42] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:35:42] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[03:35:49] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[03:37:44] <blaenk_> hey aturon a crates.io scope thread package will be possible to use in stable? so the things required to implement that will have to be stabilized and made public?
[03:37:48] *** blaenk_ is now known as blaenk
[03:39:43] <klutzy> barosl: ping
[03:41:34] <reem> blaenk: probably not
[03:41:43] <blaenk> aw
[03:44:04] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[03:45:45] *** Joins: mib_j95y7k (Mibbit@moz-juv.9o3.252.72.IP)
[03:46:03] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:46:59] *** Joins: davebettin_ (davebettin@moz-ip635p.or.comcast.net)
[03:49:04] *** Quits: mib_j95y7k (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:49:41] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[03:49:43] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[03:50:55] <Mutabah> A while ago, when I was getting opinons on my Move OIBIT, someone pointed me to a proposed trait that allows freezing an object, what was that (and who did it?)
[03:51:46] <Mutabah> Would that trait allow a type to be frozen within a box? (I.e. Once it's boxed, it cannot be moved out)
[03:52:14] <bstrie> TIL F# uses the `box` keyword to box things http://fsharpforfunandprofit.com/posts/cli-types/
[03:52:27] <bstrie> we are not special snowflakes after all
[03:53:08] <blaenk> TIL bstrie lagging on hn prowling
[03:54:05] <blaenk> you slipping bstrie, need that omnipresent kibwen status
[03:58:26] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Connection closed)
[03:59:55] <swgillespie> bstrie: the CLR opcode is called "box" too :D
[03:59:59] <swgillespie> and unbox
[04:00:41] <blaenk> yeah boxing is used to refer to when you take for example a primitive like an int and you 'box' it into a 'managed' integer, Integer (or I forget the type)_
[04:00:51] <blaenk> that terminology is used in Java too AFAIK
[04:01:10] <blaenk> and iirc in objective-c too, which you need to do to be able to store primitives in things like dictionaries
[04:02:22] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[04:05:37] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Connection closed)
[04:05:52] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[04:06:17] *** Quits: japaric (japaric@moz-bnn.hdv.121.200.IP) (Ping timeout: 121 seconds)
[04:06:27] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[04:07:40] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[04:14:52] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[04:15:30] <XMPPwocky> i sort of assumed kibwen was a bot
[04:19:28] <blaenk> lol right
[04:21:20] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[04:26:39] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[04:29:06] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[04:33:41] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[04:34:49] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[04:36:05] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[04:45:13] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[04:48:21] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[04:51:19] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[04:52:40] *** Joins: dinfuehr (dinfuehr@moz-rf6tdk.highway.telekom.at)
[04:52:52] *** Joins: ytain (ytain@moz-01dgko.cpe.pppoe.ca)
[04:57:54] *** Quits: quantheory (quantheory@moz-dsb104.crel.jtvf.0001.2601.IP) (Quit: Leaving)
[05:01:37] *** Joins: mib_jao1ea (Mibbit@moz-juv.9o3.252.72.IP)
[05:01:51] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[05:02:44] *** Quits: mib_jao1ea (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:06:22] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[05:07:31] *** Quits: genbattle (genbattle@moz-4v0.gkd.16.182.IP) (Ping timeout: 121 seconds)
[05:23:07] <eddyb_> Mutabah: I "have" that Relocatable thing, but what you're talking about seems different
[05:23:16] <eddyb_> bstrie: so... https://github.com/rust-lang/rust/pull/25323
[05:24:04] <Mutabah> eddyb_: So, Relocatable wouldn't be able to prevent moving out of a box
[05:24:38] <eddyb_> Mutabah: depends
[05:24:51] <eddyb_> it would prevent moving out of the address was observed
[05:25:05] <Mutabah> eddyb_: even across function call boundaries?
[05:25:13] <eddyb_> yupp
[05:25:35] <eddyb_> if the address was observed, you can't move it. if you can't... wait
[05:25:47] <eddyb_> Mutabah: I may have miscalculated a detail
[05:26:15] *** Quits: Diggsey (diggsey@moz-c3no8o.dsl.pipex.com) (Ping timeout: 121 seconds)
[05:26:34] <eddyb_> acrichto: are cargo build scripts supposed to not get rebuilt after a rustc upgrade?
[05:26:52] *** Joins: dr4yyee (dr4yyee@moz-d8fm30.dip0.t-ipconnect.de)
[05:27:16] *** Quits: O01eg (o01eg@moz-cn8.4u9.194.109.IP) (Client exited)
[05:27:51] <eddyb_> Mutabah: if there is no type with an unsafe impl of Relocatable, then it's easy, a borrow that prevents subsequent moves would prevent the value from exiting a function scope, so there's nothing to track across boundaries
[05:28:08] <Mutabah> yeah
[05:28:20] <eddyb_> Mutabah: the issue is that Box<T> is Relocatable even if T isn't, and you have to make a choice
[05:28:43] <Mutabah> The box can be relocated, I just want to assume the object's address never changes
[05:28:50] <Mutabah> (i.e. it's not moved out of that box)
[05:28:59] <eddyb_> I would say you can't move out of Box<T> if T is not Relocatable
[05:29:10] <eddyb_> even if T's address was never observed
[05:29:21] <Mutabah> yeah, same for other smart pointers
[05:30:42] <eddyb_> you can't move out of Rc or Arc, anyways. I mean, there's the unique stuff that gets you a &mut T
[05:31:25] <eddyb_> acrichto: nvm, stage1 instead of stage2
[05:31:56] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[05:31:56] *** ChanServ sets mode: +o pcwalton
[05:32:01] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[05:36:18] <eddyb_> is it just me, or are the builds faster when coherence doesn't do something stupid?
[05:40:22] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[05:43:17] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[05:43:30] <Mutabah> eddyb_: Here's a fun hack for you to look at (and the reason why I was asking about Relocatable). https://github.com/thepowersgang/rust_os/blob/master/Kernel/Core/lib/mem/aref.rs
[05:44:47] <eddyb_> so an atomic RefCell
[05:45:09] <eddyb_> well, less flexible than a RefCell
[05:46:04] <Mutabah> Yeah, no internal mutability provided, it's lifetime checking, not borrow checking
[05:46:44] <Mutabah> It's more like an Arc, but with a definitive owner
[05:47:39] <Mutabah> I wonder if I could generalise Arc/Rc and Aref/Ref using a trait implemented on usize and AtomicUsize...
[05:48:18] *** Quits: c0170 (c0170@moz-dev.ffi.127.79.IP) (Ping timeout: 121 seconds)
[05:48:23] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[05:48:54] <eddyb_> except atomics only come in byte and usize flavours
[05:49:06] <eddyb_> actually, I'm not sure byte atomics are always supported
[05:49:32] *** Joins: c0170 (c0170@moz-bb29a4.cambridge.arm.com)
[05:49:39] <Mutabah> eddyb_: No, what I meant was have a "counter" trait impl'd on AtomicUsize and usize, and use that to generalise Arc/Rc
[05:50:05] <Mutabah> (side thought mostly)
[05:50:12] <eddyb_> Mutabah: and I mean that you can't have u16 atomics or u64 atomics
[05:50:27] <Mutabah> yeah, I'm aware of that
[05:50:31] *** Joins: mib_ysowjd (Mibbit@moz-juv.9o3.252.72.IP)
[05:50:37] <eddyb_> so what would you gener- OH
[05:50:41] <eddyb_> Mutabah: I'm dumb :P
[05:51:02] <eddyb_> it might work *shrug*
[05:51:26] <eddyb_> presumably, you could do the atomic operations Arc does in a non-atomic fashion and get Rc
[05:52:06] *** Quits: mib_ysowjd (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:55:59] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[05:56:34] *** Quits: ytain (ytain@moz-01dgko.cpe.pppoe.ca) (Quit: Textual IRC Client: www.textualapp.com)
[06:00:31] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[06:01:11] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[06:06:00] *** Joins: James (quassel@moz-225vcm.range86-148.btcentralplus.com)
[06:08:06] *** Joins: sprang_ (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[06:08:06] *** Quits: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Connection closed)
[06:09:44] *** Joins: Guest63 (textual@moz-k0bi5k.dip0.t-ipconnect.de)
[06:10:40] *** Quits: eddyb_ (eddyb@moz-egg.q07.26.188.IP) (Ping timeout: 121 seconds)
[06:10:44] *** Quits: Guest63 (textual@moz-k0bi5k.dip0.t-ipconnect.de) (Quit: My Mac has gone to sleep. ZZZzzz…)
[06:21:46] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[06:27:45] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[06:37:44] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[06:41:24] *** Quits: davebettin_ (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[06:45:56] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[06:49:32] *** Quits: James (quassel@moz-225vcm.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[06:50:10] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[06:54:42] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[06:55:32] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[06:56:45] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[06:58:05] *** Joins: Guest63 (textual@moz-hncaom.web.vodafone.de)
[06:58:28] *** Quits: dinfuehr (dinfuehr@moz-rf6tdk.highway.telekom.at) (Connection closed)
[06:59:01] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[07:00:02] <bstrie> blaenk: lagging eh? I only intervene when I feel it necessary, if people are smacking down misinformation on their own time then my work is done :P
[07:00:15] <blaenk> hahaha
[07:00:20] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[07:01:46] *** Joins: Tobba (Tobba@moz-6oh.7ki.21.217.IP)
[07:02:43] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[07:08:20] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Connection closed)
[07:11:27] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[07:14:18] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Quit: Leaving)
[07:15:45] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:16:03] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[07:18:27] *** Quits: Guest63 (textual@moz-hncaom.web.vodafone.de) (Ping timeout: 121 seconds)
[07:19:25] *** Quits: Tobba (Tobba@moz-6oh.7ki.21.217.IP) (Connection closed)
[07:25:32] <barosl> klutzy, Incoming
[07:26:33] *** Joins: Tobba (Tobba@moz-6oh.7ki.21.217.IP)
[07:26:48] *** Joins: ptalbot (ptalbot@moz-g2mokk.ircam.fr)
[07:29:42] *** Joins: zxq9 (ceverett@moz-qsm369.mesh.ad.jp)
[07:31:59] *** Quits: njn (chatzilla@moz-6gdjm4.iinet.net.au) (Quit: ChatZilla 0.9.91.1 [Firefox 40.0a1/20150510205108])
[07:33:24] *** Joins: Guest63 (textual@moz-hncaom.web.vodafone.de)
[07:38:40] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[07:41:00] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[07:44:18] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[07:48:36] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[07:48:50] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[07:49:37] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[07:49:50] *** Joins: imperio (Mibbit@moz-aibeqg.fbx.proxad.net)
[07:54:33] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[08:01:24] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[08:02:00] *** Joins: kushal (kdas@moz-jdm.801.63.123.IP)
[08:02:01] *** Quits: kushal (kdas@moz-jdm.801.63.123.IP) (Quit: Leaving)
[08:06:53] *** Joins: munksgaard (munksgaard@moz-vj4.hq0.225.130.IP)
[08:07:53] *** Joins: doener (doener@moz-929cn9.unity-media.net)
[08:08:00] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[08:13:11] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[08:17:23] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[08:17:40] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[08:17:41] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[08:19:21] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[08:20:18] *** Quits: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au) (Ping timeout: 121 seconds)
[08:38:27] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[08:40:35] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[08:43:01] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[08:52:36] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[08:54:06] *** Joins: nerdopoly (nerdopoly@moz-aqvski.range86-143.btcentralplus.com)
[08:55:58] *** Joins: laumann (thomas@moz-1i4.hq0.225.130.IP)
[09:00:07] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[09:03:22] *** Joins: mpk (mpk@moz-4d8.67q.47.195.IP)
[09:03:30] *** Quits: mpk (mpk@moz-4d8.67q.47.195.IP) (Client exited)
[09:06:51] *** Joins: bjz (bjz@moz-4l6.mjm.52.113.IP)
[09:07:19] *** Quits: hiberno (flume@moz-bio9kd.io) (Quit: WeeChat 1.1.1)
[09:07:46] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[09:14:07] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[09:16:07] *** Quits: nham (nham@moz-755.bu3.214.98.IP) (Quit: leaving)
[09:16:45] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[09:20:07] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[09:20:36] *** Quits: bjz (bjz@moz-4l6.mjm.52.113.IP) (Ping timeout: 121 seconds)
[09:21:55] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[09:24:25] *** Joins: jga (jga@moz-ljt.t1q.244.77.IP)
[09:32:38] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[09:37:09] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[09:37:37] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[09:41:39] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[09:41:45] *** Quits: barosl (barosl@moz-tmp.qma.67.220.IP) (Quit: Leaving)
[09:42:32] *** Joins: rkruppe (chatzilla@moz-nsu6i9.hrz.tu-darmstadt.de)
[09:45:34] *** Joins: barosl (barosl@moz-tmp.qma.67.220.IP)
[09:49:00] *** Quits: Tobba (Tobba@moz-6oh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[09:49:23] *** Joins: mib_75anku (Mibbit@moz-juv.9o3.252.72.IP)
[09:49:37] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[09:50:23] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[09:50:26] *** Quits: mib_75anku (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[09:56:08] *** Quits: rkruppe (chatzilla@moz-nsu6i9.hrz.tu-darmstadt.de) (Ping timeout: 121 seconds)
[10:00:16] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[10:04:20] *** Joins: Tobba (Tobba@moz-6oh.7ki.21.217.IP)
[10:04:40] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[10:04:44] *** Joins: genbattle (genbattle@moz-ikj3l8.xtra.co.nz)
[10:04:46] *** Quits: Luqman (laden@moz-bjmiqc.csclub.uwaterloo.ca) (Ping timeout: 121 seconds)
[10:04:52] *** Joins: Luqman (laden@moz-bjmiqc.csclub.uwaterloo.ca)
[10:08:35] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[10:09:02] <doener> Gankro: ping
[10:09:44] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[10:15:22] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[10:17:53] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[10:20:32] *** Quits: Tobba (Tobba@moz-6oh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[10:23:08] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[10:23:40] *** Joins: Tobba (Tobba@moz-6oh.7ki.21.217.IP)
[10:26:46] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[10:27:57] *** Quits: nrc (nrc@moz-9luh02.xtra.co.nz) (Ping timeout: 121 seconds)
[10:31:20] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[10:33:40] *** Quits: dr4yyee (dr4yyee@moz-d8fm30.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[10:37:28] *** Quits: stl (stl@moz-fg4.kee.15.176.IP) (Ping timeout: 121 seconds)
[10:39:19] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[10:40:58] *** Quits: Tobba (Tobba@moz-6oh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[10:44:36] *** Quits: Guest63 (textual@moz-hncaom.web.vodafone.de) (Ping timeout: 121 seconds)
[10:44:45] *** Joins: Guest63 (textual@moz-9ct.il3.161.192.IP)
[10:49:21] *** Joins: Tobba (Tobba@moz-6oh.7ki.21.217.IP)
[10:49:29] <kimundi> Where do I post bug/feature requests for playpen?
[10:50:03] *** Quits: jga (jga@moz-ljt.t1q.244.77.IP) (Ping timeout: 121 seconds)
[10:56:00] <Manishearth> kimundi: https://github.com/rust-lang/rust-playpen
[10:57:26] *** Joins: ChrisMorgan (ChrisMorgan@moz-mpe2k5.tpgi.com.au)
[10:58:46] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[10:59:06] <Manishearth> Mutabah: how do you plan to verify thatit wont be relocated when the borrows are active?
[10:59:37] <Manishearth> you could use a session type: fn borrow(self) -> (ArefFrozen, ArefBorrow)
[11:00:04] <Manishearth> (ArefFrozen could be Aref<Frozen, T> instead, where the param is an empty type
[11:00:07] <Manishearth> as a marker
[11:00:10] *** Quits: Tobba (Tobba@moz-6oh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[11:00:35] <Manishearth> (hyper does this for marking what stage a request is on)
[11:00:55] <Manishearth> then you use a plugin to ensure that ArefFrozen is never ever ever moved :D
[11:00:56] *** Joins: stl (stl@moz-h0r.qae.15.176.IP)
[11:02:06] *** Joins: aepsil0n (eduard@moz-ob9p8k.hsi8.kabel-badenwuerttemberg.de)
[11:05:17] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[11:05:43] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[11:08:06] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[11:08:18] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Quit: Konversation terminated!)
[11:10:47] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[11:14:05] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Connection closed)
[11:14:26] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[11:14:44] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Connection closed)
[11:16:32] <flaper87> o/
[11:18:29] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Ping timeout: 121 seconds)
[11:20:39] *** Joins: eddyb_ (eddyb@moz-egg.q07.26.188.IP)
[11:20:55] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[11:23:24] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[11:23:24] *** ChanServ sets mode: +o pnkfelix
[11:25:29] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[11:26:06] <doener> I guess a function like raw_offset() that uses a plain GEP instead of an inbounds one would require an RFC, right?
[11:28:30] <eddyb_> doener: not if it's an intrinsic, I believe
[11:28:48] *** eddyb_ is now known as eddyb
[11:34:18] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[11:35:09] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[11:39:07] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[11:41:28] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[11:41:58] *** Quits: genbattle (genbattle@moz-ikj3l8.xtra.co.nz) (Ping timeout: 121 seconds)
[11:41:58] *** Joins: bdero (bran@moz-216hqv.oo5r.e4su.0006.2601.IP)
[11:52:33] *** Joins: bdero1 (bran@moz-lbs.91h.47.73.IP)
[11:52:44] <doener> eddyb: https://github.com/dotdash/rust/commit/fee3a5ee27e363ab0f45de666854e1028446570e -- so that should be fine?
[11:52:46] *** Quits: bdero (bran@moz-216hqv.oo5r.e4su.0006.2601.IP) (Quit: Leaving.)
[11:55:01] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[11:56:19] <eddyb> doener: yes, but why?
[11:57:20] <doener> eddyb: avoids the ptrtoint/inttoptr cycle, allowing for optimizations
[11:57:25] <eddyb> huh
[11:57:41] <eddyb> doener: in the zero-sized element case?
[11:57:48] <doener> eddyb: yeah
[11:58:06] <eddyb> end: ((p as usize).wrapping_add(self.len())) as *mut T,
[11:58:08] <eddyb> oh dear
[11:58:29] <eddyb> doener: IMO ptrtoint and inttoptr should be linted against... maybe except constant integer as pointer
[11:59:28] <doener> eddyb: https://gist.github.com/dotdash/394ac4f0f6f5320b23ce
[12:00:14] <doener> heh, files in the gist appear in exactly the wrong order
[12:01:05] <eddyb> doener: gotta love rvalue promotion :P
[12:01:15] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[12:03:06] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[12:05:25] <eddyb> doener: is it still not constant folding completely?
[12:05:58] <doener> eddyb: not in the IR, but at least in the asm
[12:06:55] <eddyb> doener: that's weird
[12:07:52] <doener> eddyb: probably in the asm there's an address assigned, the arithmetic is actually performed and then it's folded
[12:08:04] <doener> eddyb: while the abstract form in the IR is too much for the optimizer
[12:08:47] <eddyb> maybe we should emit (inttoptr 1) for zero-sized objects
[12:09:26] <doener> eddyb: where? The iterator methods always return that
[12:09:36] <eddyb> doener: in the compiler!
[12:10:09] <eddyb> doener: this is entirely pointless: @ref1108 = internal unnamed_addr constant [100 x ] zeroinitializer
[12:10:14] <eddyb> oops
[12:10:18] <eddyb> @ref1108 = internal unnamed_addr constant [100 x %S] zeroinitializer
[12:11:06] <eddyb> doener: there's a specific function in trans::consts which makes this, and it could return 1 instead of generating a global
[12:13:30] <eddyb> the check is x == x + 100 where x is i8*
[12:14:11] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[12:14:16] <eddyb> x == x + n should be always false IMO, in terms of pointer arithmetic and... well, overflow. so I don't know
[12:15:05] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[12:15:27] <doener> eddyb: gep without inbounds wraps on overflow
[12:17:39] <eddyb> doener: but n would have to be the size of the address space for that to happen
[12:17:51] <doener> 100 bytes seem like a lot ^^
[12:18:00] <eddyb> wait
[12:18:15] <eddyb> you can't express the size of the address space in a pointer-size integer
[12:18:44] <eddyb> so really, n would have to be 0 (at least in the i8* case)
[12:18:52] <doener> right
[12:19:10] *** Quits: nerdopoly (nerdopoly@moz-aqvski.range86-143.btcentralplus.com) (Quit: leaving)
[12:19:39] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[12:21:04] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[12:22:12] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[12:22:24] *** Quits: ChrisMorgan (ChrisMorgan@moz-mpe2k5.tpgi.com.au) (Ping timeout: 121 seconds)
[12:22:59] <eddyb> oh boy
[12:25:02] <doener> hm?
[12:26:22] <doener> eddyb: https://github.com/dotdash/rust/commit/eef1fa5626f67b6d85718c6dc0ab3af0fb7d2acd -- this fully folds
[12:27:22] <doener> eddyb: so your suggested change to trans::const would achieve the same and allow to eliminate the size check there
[12:30:45] *** Joins: erz (erz@moz-n26c5c.broadband.corbina.ru)
[12:35:43] *** Joins: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au)
[12:41:33] *** Joins: japaric (japaric@moz-uu6.ofc.236.190.IP)
[12:51:41] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[12:52:10] *** Joins: rkruppe (chatzilla@moz-ri7msa.uopk.14d9.41b8.2001.IP)
[12:56:52] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[12:58:57] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[13:03:51] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[13:04:49] *** Quits: rkruppe (chatzilla@moz-ri7msa.uopk.14d9.41b8.2001.IP) (Ping timeout: 121 seconds)
[13:08:20] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[13:09:14] *** Joins: rkruppe (chatzilla@moz-lovhmd.uopk.14d9.41b8.2001.IP)
[13:09:16] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[13:10:02] *** Joins: semarie__ (semarie@moz-2hjefu.ip-37-187-119.eu)
[13:10:10] *** semarie__ is now known as semarie
[13:12:27] *** Quits: semarie_ (semarie@moz-vjb.r8r.42.192.IP) (Ping timeout: 121 seconds)
[13:13:48] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[13:16:18] *** Quits: tamird (textual@moz-gg3hct.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[13:17:58] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[13:18:20] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[13:20:32] *** Quits: anders (andars@moz-bsldst.sntcca.sbcglobal.net) (Ping timeout: 121 seconds)
[13:20:41] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[13:21:57] *** Quits: jgallagher (john@moz-6ge.dhn.131.24.IP) (Client exited)
[13:22:23] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[13:26:08] *** Joins: eibwen (eibwen@moz-8ev814.dip0.t-ipconnect.de)
[13:27:38] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[13:28:37] <eddyb> doener: nice :D
[13:31:57] *** Joins: bjz_ (bjz@moz-puppgq.tpgi.com.au)
[13:32:02] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Connection closed)
[13:32:38] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[13:36:15] *** Joins: jga (jga@moz-ljt.t1q.244.77.IP)
[13:39:47] *** Joins: ytain (ytain@moz-01dgko.cpe.pppoe.ca)
[13:39:47] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[13:40:39] *** Joins: rkruppe_ (chatzilla@moz-nsu6i9.hrz.tu-darmstadt.de)
[13:42:40] *** Quits: bdero1 (bran@moz-lbs.91h.47.73.IP) (Connection closed)
[13:42:52] *** Quits: rkruppe (chatzilla@moz-lovhmd.uopk.14d9.41b8.2001.IP) (Ping timeout: 121 seconds)
[13:42:57] *** rkruppe_ is now known as rkruppe
[13:43:38] *** Joins: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net)
[13:43:47] *** Joins: bdero (bran@moz-216hqv.oo5r.e4su.0006.2601.IP)
[13:45:27] *** Quits: aepsil0n (eduard@moz-ob9p8k.hsi8.kabel-badenwuerttemberg.de) (Connection closed)
[13:46:33] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[13:47:42] *** Quits: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net) (Ping timeout: 121 seconds)
[13:48:27] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Connection closed)
[13:48:30] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[13:54:32] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[13:55:42] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[14:01:10] *** Quits: pauls (pauls@moz-e5p333.ccs.neu.edu) (Ping timeout: 121 seconds)
[14:01:36] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[14:01:39] *** Joins: proc (proc@moz-a7bc7e.dip0.t-ipconnect.de)
[14:03:42] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[14:08:32] *** Joins: rkruppe_ (chatzilla@moz-lovhmd.uopk.14d9.41b8.2001.IP)
[14:09:52] *** Quits: rkruppe (chatzilla@moz-nsu6i9.hrz.tu-darmstadt.de) (Ping timeout: 121 seconds)
[14:09:57] *** rkruppe_ is now known as rkruppe
[14:13:23] <ChrisMorgan> Oh dear, the topic is all out of date, I hope.
[14:13:44] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[14:15:10] *** Joins: pauls (pauls@moz-e5p333.ccs.neu.edu)
[14:17:19] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[14:18:44] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[14:19:12] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[14:21:58] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[14:22:28] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[14:22:48] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[14:23:20] *** Joins: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net)
[14:24:22] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[14:28:12] <proc> ChrisMorgan: why ? we're simply redoing 1.0 all 6 months, so nobody could blame us about high version numbers ;)
[14:28:43] <ChrisMorgan> proc: “5 days to 1.0.0”
[14:29:04] <proc> ChrisMorgan: ;) but the link is correct, I'm fine with it
[14:29:54] <WindowsBunny> oh man
[14:29:58] <WindowsBunny> 3 days to 1.0?
[14:30:16] <steveklabnik> yeah
[14:30:26] <steveklabnik> and really, today is the last day
[14:30:42] <WindowsBunny> do I still have time to land my PR to make rust whitespace sensitive and get rid of semicolons?
[14:31:03] <proc> WindowsBunny: ofc, in 6 months it's again 1.0.0 ;)
[14:32:57] *** bvssvni_ is now known as bvssvni
[14:33:25] *** Quits: munksgaard (munksgaard@moz-vj4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[14:34:30] *** Joins: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net)
[14:38:38] *** Joins: squiggy (Mibbit@moz-juv.9o3.252.72.IP)
[14:39:40] *** Joins: rkruppe_ (chatzilla@moz-nsu6i9.hrz.tu-darmstadt.de)
[14:40:02] *** Quits: squiggy (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:41:08] *** Quits: rkruppe (chatzilla@moz-lovhmd.uopk.14d9.41b8.2001.IP) (Ping timeout: 121 seconds)
[14:41:21] *** rkruppe_ is now known as rkruppe
[14:44:21] *** Joins: larsberg (Adium@moz-kmvlue.cable.rcn.com)
[14:46:58] <proc> WindowsBunny: btw I want tabs
[14:48:17] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[14:49:31] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[14:57:18] *** Joins: ConnorDo_ (ConnorDoyle@moz-edrulj.static.monkeybrains.net)
[14:58:11] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[14:59:08] *** Quits: rkruppe (chatzilla@moz-nsu6i9.hrz.tu-darmstadt.de) (Ping timeout: 121 seconds)
[14:59:47] <WindowsBunny> proc: Is there enough time to amend my RFC to make rust tab sensitive?
[15:00:05] *** Quits: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net) (Ping timeout: 121 seconds)
[15:00:13] <proc> WindowsBunny: there's always time for tabs, tabs and spaces
[15:00:32] <proc> wait oh, whitespace x rust ?
[15:00:51] *** Quits: ConnorDo_ (ConnorDoyle@moz-edrulj.static.monkeybrains.net) (A TLS packet with unexpected length was received.)
[15:01:17] *** Joins: rkruppe (chatzilla@moz-lovhmd.uopk.14d9.41b8.2001.IP)
[15:01:52] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Connection closed)
[15:01:56] *** Joins: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net)
[15:02:05] *** Quits: Guest63 (textual@moz-9ct.il3.161.192.IP) (Ping timeout: 121 seconds)
[15:02:31] *** Joins: Guest63 (textual@moz-mcpchc.web.vodafone.de)
[15:04:47] *** Quits: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net) (A TLS packet with unexpected length was received.)
[15:05:34] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Quit: Leaving)
[15:06:35] *** Joins: shmoo (Mibbit@moz-juv.9o3.252.72.IP)
[15:06:50] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[15:06:58] *** Quits: shmoo (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:08:00] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[15:09:29] *** Joins: tamird (textual@moz-gg3hct.res.rr.com)
[15:14:26] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Ping timeout: 121 seconds)
[15:15:05] *** Joins: duesenfranz_ (jona@moz-711djm.tirol.surfer.at)
[15:15:52] *** Joins: ekidd (ekidd@moz-6t81cn.nh.comcast.net)
[15:17:29] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[15:17:53] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[15:18:09] *** Joins: killercup (killercup@moz-qj5qhi.dip0.t-ipconnect.de)
[15:21:17] *** Joins: davebettin_ (davebettin@moz-ip635p.or.comcast.net)
[15:22:31] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[15:22:34] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[15:22:39] <Gankro> doener: pong
[15:23:53] *** Joins: jxv (jxv@moz-2celrt.res.rr.com)
[15:23:54] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[15:24:15] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[15:24:32] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Client exited)
[15:26:29] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[15:26:43] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[15:27:16] *** Quits: pauls (pauls@moz-e5p333.ccs.neu.edu) (Connection closed)
[15:27:18] *** Joins: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net)
[15:28:25] *** Quits: laumann (thomas@moz-1i4.hq0.225.130.IP) (Quit: leaving)
[15:28:33] *** Joins: nerdopoly (nerdopoly@moz-aqvski.range86-143.btcentralplus.com)
[15:28:40] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Ping timeout: 121 seconds)
[15:29:07] *** Quits: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net) (A TLS packet with unexpected length was received.)
[15:29:29] *** Joins: mib_6vb00c (Mibbit@moz-juv.9o3.252.72.IP)
[15:29:35] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[15:30:19] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[15:30:23] *** Quits: mib_6vb00c (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:31:23] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[15:32:43] *** Joins: rkruppe_ (chatzilla@moz-nsu6i9.hrz.tu-darmstadt.de)
[15:33:54] *** Quits: rkruppe (chatzilla@moz-lovhmd.uopk.14d9.41b8.2001.IP) (Ping timeout: 121 seconds)
[15:34:04] *** rkruppe_ is now known as rkruppe
[15:35:57] *** Joins: davebettin__ (davebettin@moz-ip635p.or.comcast.net)
[15:38:55] *** Quits: davebettin_ (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[15:39:54] *** Quits: imperio (Mibbit@moz-aibeqg.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[15:40:27] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[15:47:55] *** Quits: rkruppe (chatzilla@moz-nsu6i9.hrz.tu-darmstadt.de) (Ping timeout: 121 seconds)
[15:49:19] *** Joins: eddyb_ (eddyb@moz-egg.q07.26.188.IP)
[15:49:51] *** Quits: eddyb (eddyb@moz-egg.q07.26.188.IP) (Connection closed)
[15:50:15] *** Quits: barosl (barosl@moz-tmp.qma.67.220.IP) (Quit: Leaving)
[15:52:11] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[15:52:34] *** Joins: mib_v0wpt4 (Mibbit@moz-juv.9o3.252.72.IP)
[15:52:41] *** Joins: O01eg (o01eg@moz-ail.kf2.112.37.IP)
[15:53:08] *** Joins: barosl (barosl@moz-tmp.qma.67.220.IP)
[15:53:55] *** Joins: michalt (uid82910@moz-7jrol4.charlton.irccloud.com)
[15:56:35] *** Quits: det (chris@moz-9klsea.lv.cox.net) (Connection closed)
[15:56:50] *** Joins: det (chris@moz-9klsea.lv.cox.net)
[15:57:08] *** Quits: det (chris@moz-9klsea.lv.cox.net) (Quit: Leaving)
[15:57:11] *** Joins: det (chris@moz-9klsea.lv.cox.net)
[15:58:43] *** Joins: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net)
[15:58:44] *** Joins: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk)
[16:02:05] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Connection closed)
[16:02:35] *** Quits: mib_v0wpt4 (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:02:59] *** Quits: det (chris@moz-9klsea.lv.cox.net) (Quit: Leaving)
[16:03:01] *** Joins: det (chris@moz-9klsea.lv.cox.net)
[16:05:59] *** Quits: davebettin__ (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[16:12:20] <nmatsakis> anybody seen asseron failures in https://github.com/rust-lang/rust/pull/25335 ?
[16:12:39] <nmatsakis> argh
[16:12:43] <nmatsakis> not that :)
[16:12:55] <nmatsakis> rather, in LLVM: lvm::LexicalScopes::getOrCreateRegularScope
[16:13:00] <nmatsakis> (copy-and-paste fail)
[16:13:23] *** Quits: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net) (Connection closed)
[16:13:57] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[16:14:11] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[16:14:27] <nmatsakis> (I'm seeing failures in sepcomp-lib-lto.rs and I can't imagine how my diff is responsible) ;)
[16:14:45] *** Joins: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net)
[16:20:20] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[16:29:36] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Connection closed)
[16:30:04] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[16:32:42] *** eddyb_ is now known as eddyb
[16:33:08] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[16:34:38] *** Quits: rovar_ (rovar@moz-96effg.dyn.optonline.net) (Ping timeout: 121 seconds)
[16:35:44] *** Joins: eerie (eerie@moz-9ml73n.red.bezeqint.net)
[16:38:27] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[16:38:34] *** Quits: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk) (Ping timeout: 121 seconds)
[16:39:16] *** Joins: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk)
[16:42:34] *** Quits: Guest63 (textual@moz-mcpchc.web.vodafone.de) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:43:38] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Connection closed)
[16:45:33] *** Quits: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk) (Ping timeout: 121 seconds)
[16:46:53] *** Joins: Diggsey (diggsey@moz-5pbaa0.dsl.pipex.com)
[16:47:01] *** Joins: rovar_ (rovar@moz-96effg.dyn.optonline.net)
[16:51:19] *** Quits: eerie (eerie@moz-9ml73n.red.bezeqint.net) (Connection closed)
[16:52:02] *** Joins: imperio (Mibbit@moz-8otf3a.fbx.proxad.net)
[16:52:30] *** chmanchester|afk is now known as chmanchester
[16:54:59] *** Quits: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net) (Connection closed)
[16:55:09] *** Joins: davebettin (davebettin@moz-hde.5e5.136.67.IP)
[16:55:12] *** Joins: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net)
[16:55:44] *** Quits: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net) (Connection closed)
[16:55:54] *** Quits: mtsr (mtsr@moz-5r1gp7.yourbnc.co.uk) (Quit: YourBNC - (https://yourbnc.co.uk))
[16:56:05] *** Quits: semarie (semarie@moz-2hjefu.ip-37-187-119.eu) (Quit: WeeChat 1.1)
[16:58:16] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[16:58:16] *** ChanServ sets mode: +o pcwalton
[16:58:17] *** Joins: mtsr (mtsr@moz-5r1gp7.yourbnc.co.uk)
[17:01:28] *** Joins: willem (willem@moz-facs2s.dynamic.upc.nl)
[17:03:02] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[17:04:43] <nmatsakis> acrichto (or anyone): do yo know if we have a mechanism for testing the parser?
[17:05:09] <acrichto> nmatsakis: I believe it's in the makefiles, it's just not run on any bots and is probably unfortunately broken righ tnow
[17:05:21] <nmatsakis> oh. hmm
[17:08:38] <nmatsakis> acrichto: the other thing is that I've been encountering a lot of `make check` failures that (seem to be) related to debuginfio
[17:08:49] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[17:08:49] <nmatsakis> I heard there were some problems supposedly patched? 
[17:08:53] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[17:09:56] <acrichto> whoa I haven't seen anything related to that recently at all
[17:10:08] <acrichto> nmatsakis: what kind of failures?
[17:10:26] <nmatsakis> first is some LLVM assertion failures in the test sepcomp-lib-lto.rs
[17:10:29] <nmatsakis> technically I do have a diff
[17:10:41] <nmatsakis> but it's very short so i'd be surprised if it were the cause
[17:10:44] <acrichto> oh hm maybe you're compling the test suite with debug assertions?
[17:10:45] <nmatsakis> though I guess I can try reverting it
[17:10:49] <acrichto> and that's not done on the bots perhaps
[17:10:52] <nmatsakis> well, I did "--enable-debug"
[17:10:54] <nmatsakis> and make check
[17:10:56] <nmatsakis> whatever that does :)
[17:10:58] <acrichto> ah yeah I don't think the bots do that
[17:11:03] <acrichto> I also have no idea what that does now though lol
[17:15:40] <nmatsakis> acrichto: :)
[17:16:25] <nmatsakis> acrichto: I do seem to be gtting line numbers in RUST_BACKTRACE now, so I guess it's using -g?
[17:16:46] <acrichto> nmatsakis: yeah that sounds right
[17:17:24] <nmatsakis> and it is enabling debug-asserions
[17:17:28] <nmatsakis> which also seems kind of like what I want :)
[17:21:42] *** Joins: semarie (semarie@moz-67r1nt.torservers.net)
[17:23:21] *** Joins: arielb1 (Mibbit@moz-qqq0k1.tau.ac.il)
[17:27:08] *** Joins: James (quassel@moz-225vcm.range86-148.btcentralplus.com)
[17:27:59] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[17:28:44] *** Quits: semarie (semarie@moz-67r1nt.torservers.net) (Ping timeout: 121 seconds)
[17:29:53] <brson> erickt: what are you thinking is involved with the 'launch ceremony'?
[17:30:59] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Client exited)
[17:31:17] <erickt> brson: I mainly am referring to anything the core team wants to say as the ceremony
[17:31:35] <erickt> I was hoping that we could do a live running of a script to release 1.0
[17:31:43] <erickt> but I can understand if you want to do that off camera :)
[17:31:55] *** Parts: imperio (Mibbit@moz-8otf3a.fbx.proxad.net) ()
[17:31:56] *** Joins: imperio (Mibbit@moz-8otf3a.fbx.proxad.net)
[17:32:23] *** Quits: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net) (Client exited)
[17:32:32] <arielb1> Are ReEarlyBound/ReLateBound supposed to occur in function bodies?
[17:32:48] <arielb1> or only in item types
[17:32:55] *** Parts: imperio (Mibbit@moz-8otf3a.fbx.proxad.net) ()
[17:33:54] <Gankro> brson: Have each person in the room enter a character of the private key
[17:34:23] <erickt> brson: remember your state-of-rust meetup talk, oh, a year ago?
[17:34:29] <erickt> Gankro: hehe
[17:34:59] <erickt> Gankro: I'll break out my ceremonial candles and cloaks
[17:35:10] <arielb1> anyone?
[17:36:33] *** Joins: imperio (Mibbit@moz-8otf3a.fbx.proxad.net)
[17:38:38] <brson> acrichto: i'm intending to duplicate the stable docs under doc/stable and redirecting doc.rust-lang.org/ to doc/stable. This will require a manual upload to doc/stable/ for this release at least. sound ok?
[17:39:00] <acrichto> brson: sgtm
[17:39:31] <steveklabnik> :)
[17:41:10] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[17:41:35] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[17:42:43] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[17:42:48] *** rkruppe_ is now known as rkruppe
[17:43:19] <steveklabnik> brson: i know you're busy, but speaking of docs, if you have some time, https://github.com/rust-lang/rust/pull/25224 would be great
[17:43:47] <brson> ok
[17:43:59] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[17:44:21] <steveklabnik> and i should have everything i want backported to the beta branch by late tonight :)
[17:45:35] *** Joins: dinfuehr_ (dinfuehr@moz-c25.u8s.112.91.IP)
[17:46:23] <brson> stable rust installs via multirust in the dev environment
[17:46:42] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[17:48:34] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Ping timeout: 121 seconds)
[17:49:39] *** Quits: dinfuehr_ (dinfuehr@moz-c25.u8s.112.91.IP) (Ping timeout: 121 seconds)
[17:51:12] <nmatsakis> arielb1: ReLateBound can occur in fn bodies
[17:51:23] <nmatsakis> arielb1: ReEarlyBound should be substituted away when an item is referenced, just like type parameters
[17:52:18] *** Joins: duncan1 (paul@moz-tqmn0g.j2ha.udjj.0306.2602.IP)
[17:53:04] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[17:53:43] <arielb1> nmatsakis: can ReLateBound occur with debruijn=0
[17:53:46] <arielb1> ?
[17:53:55] <nmatsakis> arielb1: no, it should not.
[17:54:10] <brson> steveklabnik: done
[17:54:11] <nmatsakis> arielb1: there is a comment on DebruijnIndex explaining that I think; we start from 1
[17:54:53] <nmatsakis> arielb1: I kind of forget why though :) made something nicer, iirc
[17:55:03] <steveklabnik> brson: <3
[17:55:48] <arielb1> nmatsakis: I mean, I got that backwards
[17:56:05] <arielb1> can you have ReLateBound not behind a binder?
[17:56:08] <arielb1> in a function body
[17:57:29] <nmatsakis> arielb1: ReLateBound should always be under a binder;
[17:57:40] <nmatsakis> arielb1: if, within a fn body, you reference a late-bound region that appears in the sig for that fn,
[17:57:45] <nmatsakis> arielb1: it should result in a free region 
[17:57:56] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[17:58:22] *** Quits: untitaker (untitaker@moz-i9ab1o.highway.telekom.at) (Ping timeout: 121 seconds)
[17:58:52] <arielb1> nmatsakis: is there a function that does this substitution?
[17:59:15] <nmatsakis> arielb1: it's handled as part of resolve_lifetime.rs
[17:59:30] <nmatsakis> arielb1: and AstConv's ast_region_to_region
[17:59:45] <nmatsakis> arielb1: resolve_lifetime, in particular, knows when the reference appears inside the fn body and records it as a "free" reference
[18:00:03] *** Joins: jevin_ (jevin@moz-sra.ovp.12.72.IP)
[18:00:06] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Connection closed)
[18:00:53] <arielb1> nmatsakis: we also need to do this substitution for Self
[18:01:02] <arielb1> i.e. issue #25279
[18:01:05] <arielb1> gh25279
[18:01:07] <[o__o]> Cannot relate bound region (internal compiler error): https://github.com/rust-lang/rust/issues/25279
[18:01:09] *** Quits: Luqman (laden@moz-bjmiqc.csclub.uwaterloo.ca) (Ping timeout: 121 seconds)
[18:01:15] <arielb1> i.e.
[18:01:17] *** Joins: untitaker (untitaker@moz-q9sn3v.highway.telekom.at)
[18:01:42] <arielb1> rusti: struct S<'a>(&'a ()); impl<'a> S<'a> { fn foo(self) { <Self>::foo(self); } }
[18:01:43] -playbot- <anon>:1:1: 1:1 error: internal compiler error: cannot relate bound region: ReStatic <= ReEarlyBound(78, TypeSpace, 0, 'a)
[18:01:43] -playbot- <anon>:1 #![allow(dead_code, unused_variables)]
[18:01:43] -playbot- output truncated; full output at: http://bit.ly/1JFujRY
[18:01:43] *** Quits: jevin (jevin@moz-sra.ovp.12.72.IP) (Ping timeout: 121 seconds)
[18:02:26] <nmatsakis> arielb1: ah, interesting.
[18:02:39] <nmatsakis> arielb1: makes sense. so there is `ty::liberate_late_bound_reions` (I think it's called)
[18:02:40] *** Joins: Luqman (laden@moz-bjmiqc.csclub.uwaterloo.ca)
[18:03:14] <nmatsakis> arielb1: which would do the substitution (you would want to pass in the scope of the outermost fn)
[18:03:16] <arielb1> but is there liberate_early_bound_regions?
[18:03:20] <nmatsakis> no
[18:03:28] <nmatsakis> that's just substitutions
[18:03:31] <nmatsakis> sorry, forgot 
[18:03:37] <nmatsakis> you want to apply the param-env's free-subst
[18:03:48] *** Joins: eerie (eerie@moz-9ml73n.red.bezeqint.net)
[18:04:47] <nmatsakis> which converts in-scope early-bound things into free things
[18:05:00] <arielb1> and then liberate_late_bound_regions?
[18:05:42] <arielb1> I mean, can Self contain late-bound regions?
[18:06:06] <arielb1> They must all appear within the traitref so it shouldn't
[18:06:07] *** Joins: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk)
[18:06:33] *** Quits: eerie (eerie@moz-9ml73n.red.bezeqint.net) (Connection closed)
[18:11:22] *** Quits: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk) (Ping timeout: 121 seconds)
[18:12:30] <brson> acrichto: fyi I just 4000+ builds and crates.io mostly failed to resolve
[18:13:35] <imperio> brson: that problem isn't new, a lot of crates are juste left without updates
[18:13:52] <acrichto> brson: yeah I just got a few notifications related to that as well... not entirely sure what's going on there
[18:14:34] <imperio> acrichto: actually, it often happens that crates.io doesn't answer
[18:15:06] <acrichto> :\
[18:17:27] <nmatsakis> arielb1: Self cannot because of scoping
[18:21:40] *** Joins: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net)
[18:31:14] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[18:31:37] *** Joins: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk)
[18:32:06] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[18:32:06] *** ChanServ sets mode: +o pcwalton
[18:36:38] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[18:36:38] *** ChanServ sets mode: +o pnkfelix
[18:41:40] <brson> t-shirts finished shipping yday
[18:42:41] <aturon> brson: they are so rad -- can't wait to see in person
[18:45:04] *** Joins: simukis1 (nagisa@moz-8t068g.static.zebra.lt)
[18:45:09] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Connection closed)
[18:48:14] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[18:49:28] <arielb1> nmatsakis: ping
[18:49:33] <arielb1> gh25344
[18:49:34] <[o__o]> Create a FreshFloatTy separate from FreshIntTy: https://github.com/rust-lang/rust/pull/25344
[18:51:46] *** Quits: willem (willem@moz-facs2s.dynamic.upc.nl) (A TLS packet with unexpected length was received.)
[18:52:35] *** Joins: willem (willem@moz-facs2s.dynamic.upc.nl)
[18:52:50] *** Quits: duncan1 (paul@moz-tqmn0g.j2ha.udjj.0306.2602.IP) (Ping timeout: 121 seconds)
[18:53:12] <brson> erickt: are talks going to start at 7?
[18:53:26] <erickt> yes
[18:53:32] <XMPPwocky> talks?
[18:53:50] <arielb1> My issue has 10 duplicates
[18:53:54] <arielb1> should I write 10 tests?
[18:54:08] <erickt> XMPPwocky: some "yay we released 1.0" from the core team, then lightning talks
[18:54:26] <XMPPwocky> oh, on the 15th you mena
[18:54:43] <erickt> yeah
[18:54:55] <brson> arielb1: only if they are testing different things
[18:55:11] <brson> erickt: do we have any special a/v requirements?
[18:55:26] <erickt> not that I know of
[18:55:39] <erickt> should be just the standard setup
[18:55:59] <erickt> I'm hoping to do most of the lightning talks on my laptop to speed things up
[18:56:06] <erickt> everyone's local
[18:56:21] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[19:00:36] <arielb1> wow so many duplicates
[19:01:01] <arielb1> I think cat_expr errd had more through
[19:01:33] <brson> The packt book is going to be published soon https://www.packtpub.com/application-development/rust-essentials
[19:01:50] <brson> Maybe I'll post that to r/rust
[19:01:55] <brson> doesn't seem like there's much awareness of it
[19:03:20] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[19:05:00] *** Quits: davebettin (davebettin@moz-hde.5e5.136.67.IP) (Ping timeout: 121 seconds)
[19:11:17] *** Quits: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net) (A TLS packet with unexpected length was received.)
[19:11:21] *** Joins: duncan (paul@moz-8aodfa.j2ha.udjj.0306.2602.IP)
[19:14:45] *** Quits: michalt (uid82910@moz-7jrol4.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[19:18:49] *** Quits: ptalbot (ptalbot@moz-g2mokk.ircam.fr) (Ping timeout: 121 seconds)
[19:19:52] *** Joins: eerie (eerie@moz-9ml73n.red.bezeqint.net)
[19:21:45] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[19:23:57] <arielb1> nmatsakis: (ping)
[19:24:28] *** Quits: arielb1 (Mibbit@moz-qqq0k1.tau.ac.il) (Quit: http://www.mibbit.com ajax IRC Client)
[19:24:32] <doener> Gankro: I meant to ask about the PR that handled the wrapping for iters for zero-sized types, but discovered a problem in my initial attempt to fix it and came up with something else in the meantime
[19:25:00] *** Quits: tamird (textual@moz-gg3hct.res.rr.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:25:28] <doener> Gankro: basically, the ptrtoint/inttoptr stuff (X as usize / X as *mut _) isn't something that LLVM like very much,using GEPs (non-inbound) works better there
[19:25:54] <Gankro> doener: So we need to expose safe_offset?
[19:26:29] <doener> Gankro: safe_offset?
[19:26:46] <Gankro> doener: an intrinsic for GEP that isn't marked as in_bounds
[19:27:52] <doener> Gankro: yeah. I called it "raw_offset" at first, currently have "wrapping_offset" -- https://github.com/dotdash/rust/commit/eef1fa5626f67b6d85718c6dc0ab3af0fb7d2acd
[19:28:04] <Gankro> doener: Although... does that even work? ZST.offset(n) is a no-op?
[19:28:21] <doener> Gankro: I cast to i8* before doing the offset
[19:29:07] <Gankro> Ah so raw_offset's args are byte-wise and not elem-wise?
[19:29:09] *** Quits: nerdopoly (nerdopoly@moz-aqvski.range86-143.btcentralplus.com) (Quit: leaving)
[19:31:04] <doener> Gankro: no, the wrapping_offset intrinsic works just like offset, just that you're allowed to go out of bounds and wrap around. But the slice_offset!() macro does: (ptr as *const i8).offset(by) as *const _
[19:31:21] <doener> Gankro: err, (ptr as *const i8).wrapping_offset(by) as *const _
[19:32:00] <Gankro> Ah, I see
[19:32:13] <doener> oh, haha, the push was waiting for my key's password... this is the current state of things: https://github.com/dotdash/rust/commit/96db697f866fe945f1a57366e24c66fb1fcad491
[19:32:20] <Gankro> So what exactly is the consequence codegen-wise?
[19:32:51] <doener> Gankro: slightly out of date: https://gist.github.com/dotdash/394ac4f0f6f5320b23ce
[19:33:19] <doener> Gankro: in the latest version, the IR also fully folds to "ret i32 100" (i.e. the select expression is gone)
[19:35:43] <Gankro> nice
[19:38:10] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.5.1)
[19:38:34] <Gankro> doener: Any idea why llvm couldn't deal with the ptrtoint stuff as well?
[19:38:53] *** Quits: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk) (Ping timeout: 121 seconds)
[19:42:13] <doener> Gankro: no
[19:43:02] <geofft> can I build just docs without building all of rustc? 
[19:43:15] <geofft> and force it to use the rustdoc / rustc from my host system? 
[19:44:20] <geofft> ... oh, sigh, maybe it needs a rustbook, not just a rustdoc, and I don't have one of those? 
[19:44:28] <steveklabnik> yeah, the full docs need both
[19:44:42] <steveklabnik> when i work on stuff, i usually just invoke rustdoc on the parts of the doc i want to change
[19:44:46] <steveklabnik> rather than using the makefile
[19:44:46] <steveklabnik> s
[19:44:56] <geofft> can you do that for TRPL or just for source docs? 
[19:45:36] <steveklabnik> so TRPL is built with rustbook
[19:45:47] <steveklabnik> however, it really just calls out to rustdoc under the hood
[19:45:56] <steveklabnik> also, i maintain an out-of-tree copy of rustbook on my github
[19:46:02] <steveklabnik> so you could build it from there and call it yourself too
[19:46:15] <geofft> hrm, maybe that's what I want 
[19:46:15] *** Joins: mjewkes (mjewkes@moz-6v8.jf9.227.142.IP)
[19:49:56] *** Joins: eerie_ (eerie@moz-9ml73n.red.bezeqint.net)
[19:52:57] *** Quits: eerie (eerie@moz-9ml73n.red.bezeqint.net) (Ping timeout: 121 seconds)
[19:53:03] *** Joins: mib_pp135d (Mibbit@moz-juv.9o3.252.72.IP)
[19:53:06] *** Joins: arielb1 (Ariel@moz-2trv48.red.bezeqint.net)
[19:53:49] *** Joins: genbattle (genbattle@moz-r09mao.xtra.co.nz)
[19:54:05] *** Joins: rillian (giles@moz-84unpo.osuosl.org)
[19:54:46] *** Joins: canhtak (jeremy@moz-1a9fh1.luxdsl.pt.lu)
[19:54:48] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[19:55:38] <rillian> Hi. I'm stuck on a thread-local storage compatibility issue linking rust code into gecko on mac.
[19:55:50] <rillian> http://blog.rust-lang.org/2015/02/13/Final-1.0-timeline.html 
[19:55:55] <rillian> oops, sorry
[19:55:59] <rillian>  0:04.86 ld: targeted OS version does not support use of thread local variables in __ZN6thread7current20hc3091d32c7758c33VxbE for architecture x86_64
[19:56:02] <rillian>  0:04.86 clang: error: linker command failed with exit code 1 (use -v to see invocation)
[19:56:05] <rillian>  0:04.86 make[2]: *** [XUL] Error 1
[19:56:08] <rillian> is the error
[19:57:08] <rillian> linking https://github.com/mozilla/gecko-dev/blob/master/dom/media/gtest/hello.rs in the gtest exectutable
[19:57:50] <rillian> but the static library I build in https://github.com/rillian/rust-ffi has the same symbol, but links with c++ code no problem
[19:57:52] *** Quits: hugod (user@moz-885.jmo.24.70.IP) (Connection closed)
[19:58:22] *** Quits: canhtak (jeremy@moz-1a9fh1.luxdsl.pt.lu) (Client exited)
[19:58:46] <rillian> I'd like to understand how the code rust is generating is indicating it needs TLS and why the linker doesn't like that in the gecko's case
[20:01:07] *** Quits: duncan (paul@moz-8aodfa.j2ha.udjj.0306.2602.IP) (Connection closed)
[20:01:48] <nmatsakis> brson: how involved were you with https://www.packtpub.com/application-development/rust-essentials ?
[20:01:52] <nmatsakis> arielb1: pong
[20:02:05] <arielb1> so much duplicates
[20:02:17] <arielb1> for gh25344
[20:02:18] <[o__o]> Create a FreshFloatTy separate from FreshIntTy: https://github.com/rust-lang/rust/pull/25344
[20:02:20] <rillian> https://github.com/rust-lang/rust/issues/25342 apparenty
[20:02:21] <brson> nmatsakis: i reviewed most chapters
[20:03:04] <arielb1> what should we do with these dups?
[20:03:19] <nmatsakis> arielb1: I think you don't have to add tests for all of them; doesn't seem to add much.
[20:03:26] <arielb1> just close them?
[20:03:31] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[20:03:33] <arielb1> the 5 latter ones
[20:03:33] <nmatsakis> yes, are you 100% sure they are dups?
[20:03:46] <arielb1> except for the one with "I think", yes
[20:03:51] *** Joins: p1start (p1start@moz-nftjhe.org)
[20:04:07] <nmatsakis> ok, I'd just close them (ideally by editing the PR description to include "Fixes #123") 
[20:04:15] <nmatsakis> but maybe not the "I think" one :)
[20:04:23] <nmatsakis> or at least test it first
[20:04:28] <nmatsakis> oh
[20:04:31] <nmatsakis> I see, it's not easily tested
[20:04:47] <arielb1> Can you put Fixes #ijkln in the description?
[20:04:53] <nmatsakis> yes
[20:05:08] <nmatsakis> it goes into the bors commit
[20:05:09] <arielb1> what's the syntax?
[20:05:14] <nmatsakis> Fixes #123.
[20:05:22] <nmatsakis> with or without the trailing dot I imagine :)
[20:05:30] <nmatsakis> put one line per bug
[20:05:46] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[20:06:05] <arielb1> I heard that "Does not fix #123." also works
[20:06:09] *** chmanchester is now known as chmanchester|afk
[20:06:13] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[20:06:15] <arielb1> I mean, closes #123
[20:06:48] <nmatsakis> I suspect that this also works, yes
[20:06:53] <nmatsakis> it's a pretty simple heuristic
[20:07:08] <nmatsakis> anyway, github has a few random words it recognizes, I forget the full set
[20:07:19] <arielb1> it's a github thing?
[20:07:31] <nmatsakis> right
[20:07:49] <nmatsakis> arielb1: https://help.github.com/articles/closing-issues-via-commit-messages/
[20:11:01] *** Quits: eerie_ (eerie@moz-9ml73n.red.bezeqint.net) (Connection closed)
[20:11:04] *** Quits: killercup (killercup@moz-qj5qhi.dip0.t-ipconnect.de) (Quit: Bye)
[20:15:14] *** Joins: hugod (user@moz-885.jmo.24.70.IP)
[20:17:00] <nmatsakis> acrichto: brson: so if I pass --enable-debug to configure, is there a way to 'override' it for make check?
[20:17:08] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[20:17:14] <nmatsakis> I'm back to this annoying failure in sepcomp-lib-lto.rs
[20:17:23] <nmatsakis> I had to rebuild with --enable-debug to debug some problems :0
[20:19:05] <brson> nmatsakis: ./configure --optimize-tests *may* do something useful
[20:19:07] <brson> looking
[20:19:40] <brson> no that just controls -O
[20:19:44] <nmatsakis> it's kind of surprising to me that --enable-debug and make check seem to be incompatible?
[20:19:46] *** Joins: nrc (nrc@moz-9luh02.xtra.co.nz)
[20:19:46] *** ChanServ sets mode: +o nrc
[20:19:48] <nmatsakis> is this because of debug asserons being turned on?
[20:20:00] <nmatsakis> no idea? :)
[20:20:28] <brson> I don't know but I would guess it's bugs in -g
[20:20:30] <acrichto> nmatsakis: there's some filtering of flags to tests here: https://github.com/rust-lang/rust/blob/master/mk/tests.mk#L623-L641
[20:20:36] <acrichto> nmatsakis: may just need to add a few entries to that
[20:20:58] *** Joins: canhtak (jeremy@moz-1a9fh1.luxdsl.pt.lu)
[20:21:05] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[20:21:06] <brson> you could also edit config.mk to remove CFG_ENABLE_DEBUGINFO
[20:22:48] <nmatsakis> based on what acrichto sent seems like -g is not passed to tests by default?
[20:23:16] <acrichto> nmatsakis: if you run with VERBOSE=1 is -g in the args for the test being compiled?
[20:23:33] <brson> nmatsakis: debuginfo tests are usually on, so by my reading you should always be passing -g to tests
[20:23:40] <brson> this logic looks wrong though https://github.com/rust-lang/rust/blob/master/mk/tests.mk#L639
[20:23:48] <nmatsakis> acrichto: I just rtied that, and the answer is no
[20:24:00] <brson> it's turning on -g for *all* tests based on whether some subset of tests is configured
[20:24:00] <nmatsakis> I was going to try and play with that command line now to see what  have to do :)
[20:24:42] <nmatsakis> but when I run the command line by hand
[20:24:42] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[20:24:48] <nmatsakis> I get totally different failures :)
[20:24:54] <nmatsakis> (can't link to lang-start?)
[20:24:59] *** Quits: proc (proc@moz-a7bc7e.dip0.t-ipconnect.de) (Quit: Gotta eat my pizza)
[20:25:05] <nmatsakis> (instead of LLVM assertions)
[20:25:24] *** Quits: canhtak (jeremy@moz-1a9fh1.luxdsl.pt.lu) (Client exited)
[20:26:28] <nmatsakis> perhaps
[20:26:37] <nmatsakis> do we now compile LLVM asserons out by default?
[20:26:43] <nmatsakis> or only if --enable-debug is not passed or something?
[20:26:57] <nmatsakis> could it be that we're just not testing with LLVM asserions enabled?
[20:27:03] <nmatsakis> acrichto: brson ^
[20:27:40] <doener> nmatsakis: LLVM assertions are off by default
[20:27:54] <doener> nmatsakis: only enabled with --enable-llvm-assertions (included in --enable-debug)
[20:28:10] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[20:28:26] <nmatsakis> doener: ok, that's what I thought, I'll try reconfiguring with just that switch and see if I still see the same failures
[20:30:03] *** Joins: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net)
[20:30:27] *** Quits: mib_pp135d (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:32:08] *** Quits: sprang_ (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Ping timeout: 121 seconds)
[20:32:48] *** chmanchester|afk is now known as chmanchester
[20:34:48] <nmatsakis> brson: do compile-fail test failures pose a problem for crater?
[20:35:08] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[20:36:10] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[20:37:57] *** Joins: blank_na1e (blank_name@moz-9koqv8.mi.frontiernet.net)
[20:38:53] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[20:40:16] *** Quits: blank_name (blank_name@moz-th6.t75.79.172.IP) (Ping timeout: 121 seconds)
[20:42:23] <brson> nmatsakis: no, all that matters is that the compiler builds
[20:42:33] <nmatsakis> brson: ok that's what I figured
[20:44:48] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Client exited)
[20:47:31] *** Joins: davebettin (davebettin@moz-hde.5e5.136.67.IP)
[20:52:40] <brson> acrichto: my second crater run today also had lots of dns failures
[20:52:51] <acrichto> :\
[20:53:08] *** Joins: larhat (Adium@moz-vlo5br.cable.virginm.net)
[20:56:01] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[20:57:43] <nmatsakis> do we have a central "how to get involved in the rust community" page?
[20:57:45] <nmatsakis> I guess not
[20:58:44] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[20:59:12] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[20:59:12] *** ChanServ sets mode: +o pcwalton
[20:59:41] <brson> nmatsakis: this is the closest https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md
[20:59:52] <brson> this is good http://www.ncameron.org/rust.html
[21:00:50] <nmatsakis> brson: it's interesting because both of those are focused on code, but there seems to be a broad range of things we could talk about, e.g. RFCs etc
[21:00:56] <brson> yes
[21:03:49] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[21:04:15] *** Joins: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net)
[21:05:41] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[21:06:37] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[21:06:37] *** ChanServ sets mode: +o pnkfelix
[21:07:30] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[21:08:41] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[21:08:44] *** rkruppe_ is now known as rkruppe
[21:11:06] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[21:15:42] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[21:19:50] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[21:24:53] <steveklabnik> eah, we should certailny have non-code stuff too
[21:24:58] <steveklabnik> i someday dream of expanding the ebsite
[21:24:59] <steveklabnik> website
[21:25:05] <steveklabnik> i wish i had better design chops
[21:26:23] <doener> brson: crater is the tool that checks all the crates on crates.io?
[21:27:10] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[21:34:26] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Quit: ChatZilla 0.9.91.1 [Firefox 37.0.2/20150415140819])
[21:36:06] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[21:38:27] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[21:40:12] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[21:40:57] <brson> doener: yes
[21:41:06] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[21:41:12] *** Quits: larsberg (Adium@moz-kmvlue.cable.rcn.com) (Quit: Leaving.)
[21:41:29] *** Quits: eddyb (eddyb@moz-egg.q07.26.188.IP) (Ping timeout: 121 seconds)
[21:43:07] <brson> crates.io still not resolving reliably :-S
[21:43:35] <acrichto> brson: I'll open a support ticket with zerigo
[21:43:39] <huon> brson: is crater designed to be able to run tests on a limit set of crates? (i'm thinking it'd be awesome if one could "test publish" a package and see what happens to any reverse dependencies)
[21:44:38] *** Joins: eddyb (eddyb@moz-egg.q07.26.188.IP)
[21:44:47] <brson> huon: it can be restricted to a single crate currently. it wouldn't be hard to schedule tests for all crate's deps. not sure how the reporting would work
[21:45:20] <brson> acrichto: thanks
[21:45:56] *** Joins: sprang_ (sprang@moz-mvr.7vl.56.172.IP)
[21:47:04] *** Quits: genbattle (genbattle@moz-r09mao.xtra.co.nz) (Ping timeout: 121 seconds)
[21:48:14] *** Quits: Kxepal (Miranda@moz-c6jro4.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[21:50:18] *** Joins: Kxepal (Miranda@moz-9hpqdo.pppoe.mtu-net.ru)
[21:50:31] <kmc> does cargo work with git deps which have submodules?
[21:50:42] <kmc> (ones that are needed for build)
[21:50:48] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[21:52:38] *** Quits: erz (erz@moz-n26c5c.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:52:49] <acrichto> kmc: yes, cargo will check out all submodules automatically
[21:52:58] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[21:54:20] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.5.1)
[21:54:37] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[21:55:36] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:55:50] <kmc> cool, thanks
[21:59:08] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[21:59:34] *** Quits: eibwen (eibwen@moz-8ev814.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[22:08:36] *** Quits: japaric (japaric@moz-uu6.ofc.236.190.IP) (Quit: WeeChat 1.1.1)
[22:11:51] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:12:18] <brson> nmatsakis: this one looks better https://gist.github.com/brson/80f9b80acef2e7ab37ee
[22:12:59] <nmatsakis> brson: great, thanks!
[22:13:46] <nmatsakis> brson: though some runs at still kind of "messed up" https://tools.taskcluster.net/task-inspector/#crKJwpHtRPCAvMlLeEFOMQ/0
[22:14:09] <nmatsakis> brson: but that's a reasonable enough list I can investigate by hand :) 
[22:18:40] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[22:20:49] *** Quits: sprang_ (sprang@moz-mvr.7vl.56.172.IP) (Ping timeout: 121 seconds)
[22:21:19] <brson> yeah there will still network errors
[22:21:56] <brson> huh, that ones downloading from tc
[22:22:01] <brson> unusal network error
[22:22:13] *** Quits: mjewkes (mjewkes@moz-6v8.jf9.227.142.IP) (Connection closed)
[22:23:27] <nrc> Is there a docker image around with all the deps for building Rust?
[22:23:42] <steveklabnik> there was at one time
[22:24:40] *** Quits: imperio (Mibbit@moz-8otf3a.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[22:26:41] <brson> nrc: brson/crater:1 will do it!
[22:26:58] <brson> i think that image doesn't have valgrind though
[22:29:34] <nrc> that's Ok, I don't need Valgrind
[22:29:37] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[22:30:28] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[22:30:44] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[22:31:24] <nrc> thanks brson!
[22:31:40] *** Joins: acharles (acharles@moz-dvfnah.static.qwest.net)
[22:32:56] *** Parts: acharles (acharles@moz-dvfnah.static.qwest.net) ()
[22:33:45] *** Joins: acharles (acharles@moz-dvfnah.static.qwest.net)
[22:34:19] *** Quits: larhat (Adium@moz-vlo5br.cable.virginm.net) (Quit: Leaving.)
[22:37:15] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[22:38:00] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[22:38:18] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[22:44:46] *** Quits: zxq9 (ceverett@moz-qsm369.mesh.ad.jp) (Quit: Konversation terminated!)
[22:45:10] <brson> i'm adding a bunch of retry-backoff loops to crater's network access
[22:46:19] *** Joins: GBGamer (npm@moz-dlv.mg6.56.172.IP)
[22:46:42] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[22:48:41] *** Quits: willem (willem@moz-facs2s.dynamic.upc.nl) (Quit: leaving)
[22:48:52] *** Quits: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net) (Ping timeout: 121 seconds)
[22:49:02] <GBGamer> I was told that llvm has troubles optimizing pointers to zero-size types (as opposed to pointers to byte-sized types)
[22:49:29] <GBGamer> is that true? if it is, should I stop using *const () to do the same thing as a void* in C?
[22:49:46] <GBGamer> (and start using a *const i8)
[22:50:33] <GBGamer> (note: zero size types = { }* in llvm ir, if anyone was wondering)
[22:50:48] <brson> GBGamer: sunfish says that is not accurate
[22:50:57] <brson> llvm supports it 'very well'
[22:50:59] <GBGamer> (so the empty struct)
[22:51:17] <brson> 'wheras in C a s truct with 0 elements is a weird hack with size 1 because C can't support support zero size types"
[22:51:19] <GBGamer> so then why do we make c_void = an i8
[22:52:06] <GBGamer> the docs say its for optimization reasons, iirc
[22:52:32] <Luqman> GBGamer: i'd think it should be `enum c_void {}`
[22:52:58] <GBGamer> I don't see why it can't just be a new type for ()
[22:53:28] <GBGamer> Luqman: currently its an i8
[22:53:30] <brson> GBGamer: one reason to use a byte size c_void is because you can trivially do pointer math on it
[22:53:36] <GBGamer> (or an enum represented as an i8)
[22:53:39] <brson> without a special case to detect the zero size
[22:53:59] <GBGamer> but you shouldnt be doing pointer math on a zero sized type!
[22:54:05] <GBGamer> in C its undefined behavior
[22:54:19] <GBGamer> (its just GCC allows you to do that)
[22:54:25] *** Joins: njn (chatzilla@moz-6gdjm4.iinet.net.au)
[22:54:41] <arielb1> nrc: ping
[22:54:44] <GBGamer> zero sized type meaning non-object type, in C
[22:55:04] *** Quits: doener (doener@moz-929cn9.unity-media.net) (Ping timeout: 121 seconds)
[22:55:07] <nrc> arielb1: pong
[22:55:18] <arielb1> I think I finished my rfc401
[22:55:31] <GBGamer> it doesn't really make sense to allow pointer arithmetic on void
[22:55:44] <GBGamer> if you need to do one byte arithmetic, cast to an i8
[22:56:04] *** Joins: doener (doener@moz-929cn9.unity-media.net)
[22:56:57] <nrc> arielb1: you mean the implementation or the RFC?
[22:57:00] <doener> GBGamer: c_void is i8 because that's what LLVM expects to see on e.g. malloc
[22:57:09] <arielb1> nrc: both
[22:57:20] <arielb1> and I found bugs in both
[22:57:20] <doener> GBGamer: it wouldn't recognize the function by its signature otherwise
[22:57:24] <doener> GBGamer: we currently have a tiny problem with zero-sized types in iterators, but I'll probably submit a PR to fix that this weeken
[22:57:26] <arielb1> so I had to do it in tandem
[22:57:37] <nrc> arielb1: is the RFC PR updated?
[22:57:40] <arielb1> sure
[22:57:46] <arielb1> at least it should be
[22:57:51] <sunfish> ultimately, the pointee of a pointer type in LLVM is not actually that significant
[22:57:52] <brson> nmatsakis: i'm running your tests again with a hopefully more resilient networking setup
[22:57:56] <arielb1> it should match the comment on cast.rs
[22:57:59] <doener> GBGamer: doing pointer arithmetic on zero-sized types being undefined in C is just that, undefined in C. Rust can act differently
[22:58:02] <GBGamer> so clang outputs an i8* for a void*?
[22:58:11] <sunfish> and actually, LLVM is moving away from having pointee types at all, and just having a single "pointer" type that doesn't have a builtin pointee
[22:58:14] <nrc> arielb1: great, I'll get nmatsakis to merge it tomorrow
[22:58:22] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[22:58:40] <GBGamer> but I don't think it should be defined
[22:58:48] <GBGamer> that's my opinion on the subject
[22:59:00] <doener> sunfish: right, and I'm looking forward to being able to port rustc to that!
[22:59:04] <nrc> arielb1: do you have a PR open for the implemetnation? (I bet you do and I haven't seen it because I'm hiding away from my enormouse stack of email since I got back from vacation)
[22:59:11] <arielb1> nrc: sure
[22:59:14] <arielb1> its even done
[22:59:19] <arielb1> gh24333
[22:59:19] <[o__o]> Make casts follow the new RFC401: https://github.com/rust-lang/rust/pull/24333
[22:59:29] <arielb1> I mean, I had it WIP for quite some time
[22:59:29] <GBGamer> argh, it just bothers me :/
[22:59:41] <GBGamer> a void should be equal to (), imho
[22:59:56] <sfackler> () or enum Void {}?
[23:00:08] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[23:00:11] <GBGamer> sfackler: they're the same thing
[23:00:18] <sfackler> the enum can't be instantiated
[23:00:20] <sfackler> () cant
[23:00:21] <nrc> arielb1: ah yes, of course
[23:00:22] <sfackler> *can
[23:00:45] <arielb1> it needs a rebase through
[23:00:50] <GBGamer> fine, they're the same thing in llvm, which is what I'm talking about
[23:00:54] <doener> playbot: let x: () = ();
[23:00:55] -playbot- ()
[23:01:03] <doener> sfackler: seems to work
[23:01:13] <sfackler> yeah, I typoed
[23:01:28] <nrc> arielb1: it's huge!
[23:01:35] <arielb1> more like, I rebased and didn't push
[23:01:38] <doener> sfackler: oh, missed that, sorry
[23:02:08] <arielb1> nrc: 30% tests
[23:02:32] <arielb1> rebased and pushed
[23:03:15] <GBGamer> playbot: enum Void {}; let x: Void = unsafe { ::std::mem::transmute(()) }; x
[23:03:17] -playbot- <anon>:8:5: 8:9 error: the trait `core::fmt::Debug` is not implemented for the type `main::Void` [E0277]
[23:03:17] -playbot- <anon>:8     show({
[23:03:17] -playbot- output truncated; full output at: http://bit.ly/1RBjR3c
[23:03:46] <arielb1> actually pushed
[23:04:06] <arielb1> somehow github lost my push
[23:04:13] <GBGamer> playbot: #[derive(Debug)] enum Void {}; let x: Void = unsafe { ::std::mem::transmute(()) }; x
[23:04:14] -playbot- thread '<main>' panicked at 'internal error: entered unreachable code', <anon>:9
[23:04:15] -playbot- playpen: application terminated with error code 101
[23:04:26] <GBGamer> ooh cool
[23:04:41] <GBGamer> !OPS
[23:04:45] <GBGamer> how do you do that?
[23:04:55] <arielb1> its mostly huge because
[23:05:00] <GBGamer> anyways, ICE found :)
[23:05:04] <arielb1> the problem when you add a comprehensive test-suite
[23:05:08] <arielb1> is that you find lots of bugs
[23:05:16] <nrc> heh
[23:05:35] <GBGamer> playbot: enum Void {}; let x: Void = unsafe { ::std::mem::transmute(()) };
[23:05:36] -playbot- ()
[23:05:43] *** Joins: genbattle (genbattle@moz-4v0.gkd.16.182.IP)
[23:05:55] <arielb1> I refactored the code to share some of the cast-checking mechanism
[23:05:59] <GBGamer> so it seems to be a bug with deriving
[23:06:00] *** Quits: bjz_ (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:06:08] <arielb1> that should get rid of most of these bugs
[23:06:21] <nrc> arielb1: I think it looks good
[23:06:40] <arielb1> I didn't do anything stupid with metadata?
[23:07:02] <nrc> I haven't looked closely yet, jsut at the overall approach
[23:07:27] <nrc> I worry its going to clash somewhat with this DST coercions work
[23:08:16] <arielb1> nrc: how?
[23:08:53] <nrc> it touches on the cast checks and codegen as a kind of side issue
[23:09:08] <nrc> it might be that your stuff totally subsumes that
[23:09:46] <arielb1> that code was so broken
[23:10:11] <nrc> which code?
[23:10:16] <arielb1> the cast trans code
[23:10:18] <arielb1> and check code
[23:10:42] <arielb1> all the code that dealt with casts
[23:11:02] <arielb1> I didn't rewrite it just because
[23:11:17] <arielb1> I mean
[23:11:21] <arielb1> rusti: (1u32,2u32) as (u32,u32)
[23:11:24] -playbot- error: internal compiler error: translating unsupported cast: (u32, u32) (cast_other) -> (u32, u32) (cast_other)
[23:11:24] -playbot- note: the compiler unexpectedly panicked. this is a bug.
[23:11:24] -playbot- output truncated; full output at: http://bit.ly/1QHfoeb
[23:11:47] <nrc> lol
[23:11:50] <arielb1> rusti: const C: u32 = main as u32; C
[23:11:51] -playbot- 3280663088
[23:11:52] <arielb1> rusti: const C: u32 = main as u32; C+0
[23:11:54] -playbot- 1172079152
[23:12:05] *** Joins: sprang_ (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[23:12:15] <arielb1> through that's actually a bug in the const-checking code
[23:15:33] <arielb1> GBGamer: that's no ICE
[23:15:58] <arielb1> the panic is at run-time
[23:16:02] <arielb1> because you created a Void
[23:16:20] <GBGamer> why would it panic like that?
[23:16:29] <arielb1> GBGamer: ex falso
[23:16:48] <arielb1> i.e.  creating a Void is UB
[23:16:48] <GBGamer> I... don't know what that means?
[23:16:54] <GBGamer> ah
[23:16:59] <GBGamer> why is that?
[23:17:06] <sfackler> it can't exist
[23:17:30] <GBGamer> well, whats the difference between enum {} and ()
[23:17:48] <sfackler> () is a type with exactly 1 value, ()
[23:17:50] <arielb1> GBGamer: (), or struct S; has one value
[23:17:53] <sfackler> enum Void {} is a type with 0 values
[23:18:06] <GBGamer> ah, okay
[23:18:08] <GBGamer> makes sense
[23:19:06] <GBGamer> nvm then
[23:23:22] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[23:24:17] *** Joins: npm (npm@moz-92sbjt.wa.comcast.net)
[23:24:34] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[23:25:16] *** Quits: npm (npm@moz-92sbjt.wa.comcast.net) (Quit: AndroIRC - Android IRC Client ( http://www.androirc.com ))
[23:25:33] *** Quits: arielb1 (Ariel@moz-2trv48.red.bezeqint.net) (Quit: Ex-Chat)
[23:26:16] *** Joins: Jesin (Jesin@moz-oo8drm.eecs.lehigh.edu)
[23:27:09] *** Quits: GBGamer (npm@moz-dlv.mg6.56.172.IP) (NickServ (RECOVER command used by GBGamer_))
[23:27:09] *** Joins: GBGamer (GBGamer@moz-92sbjt.wa.comcast.net)
[23:27:27] *** Quits: genbattle (genbattle@moz-4v0.gkd.16.182.IP) (Connection closed)
[23:27:34] <GBGamer> everyone, thanks for being patient with me
[23:27:57] <GBGamer> and explaining things
[23:29:18] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[23:34:23] <GBGamer> ah, I see
[23:34:38] <GBGamer> so if malloc() returns a *mut (), it can't be optimized out
[23:34:56] <GBGamer> s/*mut ()/{}*/
[23:35:20] <GBGamer> but if it returns an i8*, then it can be optimized out if its result isn't used
[23:35:29] <GBGamer> (because llvm recognizes it)
[23:35:53] <GBGamer> interesting :)
[23:37:47] <doener> GBGamer: not only if the result is unused
[23:38:03] <GBGamer> I was just using that as an example
[23:38:13] <doener> GBGamer: it can also recognize e.g. a matching free() call
[23:38:28] <GBGamer> yeah, I'm testing out the free stuff now :D
[23:39:01] <doener> GBGamer: it all boils down to the fact that LLVM can assume that a function called "malloc" with a certain signature has certain semenatics
[23:39:07] <doener> *semantics
[23:39:34] <GBGamer> this is so cool
[23:41:20] <aatch> Didn't somebody patch our LLVM to make it recognise jemalloc functions?
[23:42:07] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[23:43:03] <brson> nmatsakis: here's one with fewer network failures. results are substantially the same https://gist.github.com/brson/d1cf6244609c371f4af6
[23:45:31] <GBGamer> that is just the coolest
[23:45:38] <GBGamer> and also kinda annoying :P
[23:45:57] <GBGamer> (that it also doesn't recognize ())
[23:47:01] *** Joins: kmcguire (kmcguire@moz-bbqf14.res.bhn.net)
[23:47:13] *** Joins: mr_wibble (Mibbit@moz-juv.9o3.252.72.IP)
[23:47:21] <GBGamer> although if llvm is going to change their pointer types...
[23:48:01] <aatch> GBGamer, won't matter. The not recognising `*()` is somewhat irrelevant.
[23:48:11] *** Quits: mr_wibble (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:48:31] <nmatsakis> brson: thanks. I'm surprised how fast you can turn these around
[23:49:01] <GBGamer> if we stop using typed pointers, then llvm won't see a difference between i8* and {}*
[23:49:04] <GBGamer> aatch:
[23:49:30] <aatch> GBGamer, well it's moving the types to the loads/stores anyway, not getting rid of them completely
[23:50:04] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[23:50:14] <GBGamer> well yes, but if you have a function which returns a pointer...
[23:50:45] <GBGamer> then you don't see a difference between a return type of i8* and {}*
[23:51:41] <GBGamer> and therefore, malloc() -> *T will be optimized away
[23:51:44] <aatch> GBGamer, doesn't matter. The issue with `*()` is that `()` is zero-sized. So certain operations don't work properly because they are done in multiples of sizeof(T)
[23:51:55] <GBGamer> okay?
[23:52:02] <GBGamer> but that's not what is bothering me
[23:52:17] <GBGamer> it's that c_void shouldn't be an object type
[23:52:27] <GBGamer> (and, in Rust, it is (it's an i8))
[23:52:38] <GBGamer> (or an enum which is an i8)
[23:53:16] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[23:53:25] <aatch> GBGamer, well in C, arithmetic on a void pointer is defined to treat the pointer as if it pointed to a single byte.
[23:53:32] <GBGamer> no it's not
[23:53:39] <GBGamer> arithmetic on a void pointer is undefined
[23:54:00] <GBGamer> it's just that gcc makes arithmetic on a void pointer into single byte arithmetic
[23:55:02] *** kimundi is now known as zz_kimundi
[23:55:49] <aatch> Ah, I was thinking of the definition that it has the same representation and alignment requirements as a `char *`
[23:56:51] <GBGamer> no problem, it's a pretty common misconception
[23:58:36] <aatch> I'm trying to remember what we do with uninhabitabed enum types. I think they're treated as opaque types.
[23:58:49] <GBGamer> probably
[23:59:10] <GBGamer> it's illegal to create them, so it makes sense to only use them as opaque pointers
