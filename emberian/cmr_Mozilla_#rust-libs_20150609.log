[00:05:37] *** kimundi is now known as zz_kimundi
[00:33:18] *** Joins: aatch (james@moz-c6etfk.fosn.r6an.e000.2406.IP)
[00:47:04] *** Joins: brson_ (brson@moz-cfhap5.mtv2.mozilla.com)
[00:48:00] *** Quits: brson (brson@moz-esl.4cu.229.94.IP) (Ping timeout: 121 seconds)
[00:54:04] *** Quits: brson_ (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[00:54:13] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[00:54:14] *** ChanServ sets mode: +qo brson brson
[01:01:20] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[01:09:00] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[01:32:44] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[01:46:51] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[02:57:32] *** Quits: zz_kimundi (kimundi@moz-01l8sd.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:58:40] *** Joins: zz_kimundi (kimundi@moz-cak2a8.dip0.t-ipconnect.de)
[02:58:41] *** zz_kimundi is now known as kimundi
[03:06:10] *** Quits: vadimcn (uid46608@moz-0d43u8.highgate.irccloud.com) (Connection closed)
[03:07:48] *** Quits: reem (sid78397@moz-octfcu.brockwell.irccloud.com) (Connection closed)
[03:07:49] *** Quits: spastorino (sid27384@moz-i6sgse.brockwell.irccloud.com) (Connection closed)
[03:07:50] *** Quits: carllerche (sid50851@moz-8i75uq.brockwell.irccloud.com) (Connection closed)
[03:07:50] *** Quits: frewsxcv (sid86219@moz-dneii9.brockwell.irccloud.com) (Connection closed)
[03:09:33] *** Quits: aturon (sid36348@moz-n3h4qj.brockwell.irccloud.com) (Quit: X_X)
[03:22:36] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[03:42:26] *** Quits: Rym (uid91135@moz-n2i7qm.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[04:14:44] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[04:59:55] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[05:26:05] *** Joins: achanda (achanda@moz-6gu.gg6.21.113.IP)
[05:26:50] *** Quits: Asandari (Asandari@moz-emp96u.cable.teksavvy.com) (Ping timeout: 121 seconds)
[05:36:54] *** Quits: achanda (achanda@moz-6gu.gg6.21.113.IP) (Connection closed)
[06:07:27] *** Quits: aatch (james@moz-c6etfk.fosn.r6an.e000.2406.IP) (Connection closed)
[06:38:27] *** Joins: Asandari (Asandari@moz-emp96u.cable.teksavvy.com)
[06:39:27] *** Joins: spastorino (sid27384@moz-i6sgse.brockwell.irccloud.com)
[06:41:36] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[06:48:22] *** Joins: aturon (sid36348@moz-n3h4qj.brockwell.irccloud.com)
[06:48:22] *** ChanServ sets mode: +o aturon
[06:53:24] *** Quits: Fenhl (sid30770@moz-oh0hem.charlton.irccloud.com) (A TLS packet with unexpected length was received.)
[06:53:25] *** Quits: Gankro (sid71432@moz-sc2bd6.charlton.irccloud.com) (A TLS packet with unexpected length was received.)
[06:59:04] *** Joins: vadimcn (uid46608@moz-0d43u8.highgate.irccloud.com)
[07:08:53] *** Joins: carllerche (sid50851@moz-8i75uq.brockwell.irccloud.com)
[07:11:11] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Connection closed)
[07:12:26] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[07:28:51] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[07:29:00] *** Joins: achanda (achanda@moz-6gu.gg6.21.113.IP)
[07:31:00] *** Joins: Fenhl (sid30770@moz-oh0hem.charlton.irccloud.com)
[07:32:43] *** Joins: reem (sid78397@moz-octfcu.brockwell.irccloud.com)
[07:37:22] *** Joins: frewsxcv (sid86219@moz-dneii9.brockwell.irccloud.com)
[07:59:31] *** Joins: Gankro (sid71432@moz-sc2bd6.charlton.irccloud.com)
[08:13:41] *** Quits: achanda (achanda@moz-6gu.gg6.21.113.IP) (Connection closed)
[08:22:09] *** Quits: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au) (Ping timeout: 121 seconds)
[08:36:48] *** Joins: achanda (achanda@moz-6gu.gg6.21.113.IP)
[08:42:38] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[08:52:12] *** Quits: stl (stl@moz-6r1bf1.broadband.corbina.ru) (Ping timeout: 121 seconds)
[08:59:42] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[09:12:36] *** Joins: stl (stl@moz-o95.t8r.15.176.IP)
[09:56:08] *** Quits: achanda (achanda@moz-6gu.gg6.21.113.IP) (Quit: Leaving...)
[10:04:12] <SimonSapin> r? for the last two commits fixing up tests https://github.com/rust-lang/rust/pull/26039
[11:09:49] *** Joins: ChrisMorgan (ChrisMorgan@moz-mpe2k5.tpgi.com.au)
[11:11:27] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[12:16:53] *** Quits: ChrisMorgan (ChrisMorgan@moz-mpe2k5.tpgi.com.au) (Ping timeout: 121 seconds)
[12:36:45] <bluss> misremembered and thought the closure method to insert with an entry was .insert_or_else()
[12:36:53] <bluss> threats didn't work
[14:51:16] *** Joins: brson (brson@moz-jd2.tdl.56.172.IP)
[14:51:16] *** ChanServ sets mode: +qo brson brson
[15:03:28] *** Quits: acharles (acharles@moz-ulbdcn.ca.comcast.net) (Ping timeout: 121 seconds)
[15:16:23] <steveklabnik> libs team: what's the difference between T-libs and A-libs
[15:37:50] <brson> ooh, if we delete A-libs that makes room for a needs-relnotes tag
[15:38:03] <brson> i'm pretty tag-happy lately
[15:38:10] <steveklabnik> :)
[15:38:12] <steveklabnik> tags are great
[15:38:18] <steveklabnik> i try to make sure all issues have at least one tag
[15:48:11] <Gankro> aatch: err, I guess this is the better place to discuss DST-lists
[15:51:36] <Gankro> aatch: Hmm, I suppose you don't need emplace back or anything, you just make push generic over all T that implement Trait and do the coercion in there...
[15:51:59] <Gankro> But you can't ever get stuff out? Or you have to do some fiddly Box shuffling
[15:58:47] <aturon> steveklabnik: hm, the T- and A- series of tags is sort of saying the same thing (since teams are area-aligned) but the A- series breaks things into finer grain
[16:01:18] <steveklabnik> yeah
[16:06:16] <aturon> steveklabnik: also, i think the T- tags are reserved for "official business": RFC tracking issues, nominations
[16:06:23] <aturon> P-high issues
[16:06:27] <steveklabnik> yeah, that's what i was wondering
[16:06:37] <steveklabnik> the issue that made me think of this
[16:06:38] <aturon> would be good to document this someplace...
[16:06:52] <steveklabnik> https://github.com/rust-lang/rust/issues/16920
[16:07:00] <steveklabnik> like, this is something that the libs team will need to decide
[16:07:03] <steveklabnik> but it's also about libs
[16:07:07] <steveklabnik> so is this A-libs or T-libs or both?
[16:07:49] <aturon> hm so, the dashboards we generate for the subteam reports use T- tags,
[16:07:55] <aturon> and in particular if you flag something I-needs-decision,
[16:07:57] <aturon> it'll show up
[16:08:03] <aturon> if it's marked T-whatever
[16:08:35] <aturon> put another way, the T- tags all hook into the dashboards for various stages of features, but shouldn't be used for random bugs etc
[16:08:42] <aturon> does that help? we're sort of still figuring this out
[16:10:20] *** Joins: Rym (uid91135@moz-n2i7qm.charlton.irccloud.com)
[16:10:40] <steveklabnik> yeah
[16:10:58] <steveklabnik> i guess that means, in general, as a tagger, i should never tag something T- for a team i'm not a member of
[16:11:06] <steveklabnik> does that feel like a reasonable guideline?
[16:17:59] <aturon> steveklabnik: yes
[16:18:07] <steveklabnik> roger
[16:18:10] <aturon> that makes perfect sense
[16:18:11] <steveklabnik> seems good :)
[16:39:47] <SimonSapin> acrichto: Is run-pass/sepcomp-lib-lto.rs failing a know issue? https://github.com/rust-lang/rust/pull/26039#issuecomment-110390077
[16:40:16] <acrichto> SimonSapin: hm yeah that seems like a familiar test to have errors with it
[16:40:21] <acrichto> SimonSapin: I think that happens when you have debuginfo enabled
[16:40:26] <acrichto> and the test doesn't turn it off by default
[16:40:27] <acrichto> or something like that
[16:41:50] <SimonSapin> anyway, I fixed the tests I didnâ€™t know about before
[16:42:09] <SimonSapin> (see the second to last commit)
[17:08:16] <Gankro> Today's FCP day, yeah?
[17:11:16] <aturon> Gankro: it is indeed. planning to triage things soon
[17:18:30] <acrichto> aturon: I'm thinking of doing a sweep now for breaking apart the core/std_misc/collections features, but I remember that you had a WIP patch for that perhaps?
[17:18:57] <aturon> acrichto: yeah, but i didn't get very far. go for it!
[17:19:22] <aturon> acrichto: btw, part of this process should be creating issues for stabilization
[17:19:29] <aturon> so that this stuff will show up on dashboards etc
[17:19:39] <acrichto> hm ok, I'll try to get a gauge for what's going on
[17:19:48] <acrichto> I'd like to clean out a lot of stuff which is not on the path to stabilization
[17:24:42] <acrichto> aturon: we were talking about associated statics last night, and just ran across https://github.com/rust-lang/rust/blob/master/src/libcore/any.rs#L94-L97 (just something interesting)
[17:25:13] <aturon> acrichto: i suspect that comment predates the split, though
[17:25:24] <aturon> (seems like it could just be an assoc const, no?)
[17:26:31] <acrichto> if you could access associated constants through trait objects yeah
[17:42:41] *** Quits: brson (brson@moz-jd2.tdl.56.172.IP) (Quit: leaving)
[18:06:22] <eternaleye> acrichto: Hm, how hard would that be to do?
[18:06:53] <eternaleye> acrichto: Serialize a per-impl static struct of associated constants, pointed to by the vtable?
[18:07:50] <acrichto> eternaleye: dunno, I'm unfamiliar with the associated const implementation
[18:08:16] <eternaleye> acrichto: Mm
[18:08:20] <eternaleye> (I am as well)
[18:08:39] <eternaleye> That strategy seems like it'd have sensible behavior, though, and accessing them would lower to a single LLVM GEP
[18:08:49] <eternaleye> So not bad performance-wise either
[18:09:17] <eternaleye> Mm, might need two actually
[18:09:48] <acrichto> yeah certainly better than a virtual function call
[18:09:50] <eternaleye> GEP to get the per-impl const-table pointer from the vtable, then another to get the constant from the per-impl const-table
[18:10:35] <eternaleye> The main thing there would be that while they are "associated constants" they're really variables (semantically) due to trait object substitution at runtime
[18:10:47] <eternaleye> So that'd likely need some care
[18:22:51] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[18:22:52] *** ChanServ sets mode: +qo brson brson
[18:31:43] *** Joins: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net)
[18:44:29] <eternaleye> There's also the matter of deciding whether to do one const-table per impl block and a pointer per bound in the vtable (eliding ones with no consts), or a const-table per object boundset
[18:44:30] <eternaleye> The former would be better IMO, but both are feasible
[18:50:12] <eternaleye> The former would make Box<Foo+Bar>'s vtable contain a FooConsts pointer and a BarConsts pointer (same layout for every impl, just instantiated with different values; possibly nice for codegen? Could also live in the erased type's crate)
[18:51:12] <eternaleye> The latter would make Box<Foo+Bar>'s vtable have a FooAndBarConsts pointer (same layout for every instance of the object, would need to live in the consuming crate)
[20:31:33] <bluss> I'm a bit nervous with that new privilege of being a collaborator in the repo, that merge button is so large I'm afraid I'm going to hit it by mistake.. surely the rust repo doesen't allow it?
[20:31:44] <bluss> and if it does, why don't we see merge button accidents :)
[20:32:40] <bluss> (github's merge button on a PR)
[20:34:58] <eternaleye> bluss: Oh, yeah, you must not have gotten the memo yet; the move from bors to homu was at least in part because homu can rewind the timeline if something goes wrong :P (Puella Magica joke)
[20:35:15] <sfackler> "just don't push the button" is our advanced protection against accidental merges
[20:35:24] <sfackler> I think it takes 2 clicks as well
[20:35:37] <steveklabnik> yes, it takes 2
[20:35:43] <eternaleye> ...to tango.
[20:35:44] <steveklabnik> because you can edit the merge commit name
[20:36:30] <bluss> oh right. I'm just paranoid now to mess up anything in the big repo
[20:41:21] <bluss> steveklabnik: You're probably onto something about bringing up the misconception in split
[20:41:38] <steveklabnik> yeah, it's a special case
[20:41:43] <steveklabnik> normally, i don't like that kind of thing
[20:41:46] <steveklabnik> i think it makes sense here though
[20:42:27] <bluss> steveklabnik: I remembered physics educator veritasium on youtube who tested out and found that he had to engage misconceptions to get students to understand basic laws of physics
[20:42:57] <steveklabnik> huh
[20:43:42] <bluss> 6 min talk https://www.youtube.com/watch?v=RQaW2bFieo8
[22:00:26] *** Quits: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net) (Quit: Leaving...)
[22:07:18] *** Joins: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au)
[22:23:03] *** kimundi is now known as zz_kimundi
[22:50:43] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[22:52:45] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[23:07:38] <huon> bluss: the funnest way to mess things up is a (force) push to master :P
[23:08:08] <huon> (I encourage renaming/somehow disabling push to your rust-lang/rust remote :) )
[23:08:55] <bluss> let me find out how to do that
[23:09:24] * huon did `git remote set-url --push upstream not-a-url`
[23:09:35] <huon> there's probably a better way
[23:10:21] <bluss> it's good enough
[23:23:00] <aatch> Gankro, so to get stuff out I just return a wrapper type that contains the entire list node and derefs to the containing type.
[23:23:45] <Gankro> aatch: Ah, neat
[23:24:19] <aatch> Gankro, and eddyb showed me how I could do the coercion without it being really hacky.
[23:25:13] <aatch> Gankro, but yeah, you push `U : Unsize<T>` (with T being the same as in `DList<T>`
[23:25:15] <aatch> )
[23:25:28] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[23:26:50] <aatch> Gankro, I also think I might be able to set this up for a halfway-decent intrusive-list like thing.
[23:28:16] <Gankro> Everyone wants intrusive lists
[23:29:12] <aatch> Gankro, it should work reasonably well, and safely, to just expose the node type directly.
[23:30:59] <aatch> Though I did find that you can do `IList<T: ?Sized + IListNode>` and put `trait Foo : IListNode` in there.
[23:31:56] <aatch> I'm just not sure it's worth the hassle compared to just having a wrapper.
[23:32:03] <Gankro> sorry, what?
[23:32:24] <aatch> Gankro, which part, I'm kinda rambling...
[23:35:30] <Gankro> The trait thing
[23:37:45] <aatch> Gankro, oh, well I was see if I could make it so I could put trait objects that have to have a specific supertrait in a list. Turns out yes.
[23:52:21] *** Quits: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au) (Ping timeout: 121 seconds)
