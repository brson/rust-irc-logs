[06:56:20] *** Quits: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Bye!)
[06:56:26] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[09:10:14] *** Seld is now known as Seldaek
[09:12:54] <Seldaek> cmr, acrichto seems like there is a js error when you look for set, I'll check it out later
[09:13:37] <Seldaek> acrichto: regarding the message, you could attach it on the stability element as a title="" attr?
[09:13:46] <Seldaek> doesn't make it very visible, but I don't know if it needs to be?
[09:14:36] <Seldaek> acrichto: ah I see in your commit that this is what you did anyway :)
[09:15:17] <dbaupp> btw, the stability attributes can have a piece of text attached to them which would be useful to display
[09:22:34] <Seldaek> yeah that's what I mentioned
[09:23:15] <dbaupp> oh, the "message"
[09:23:21] * dbaupp misinterpreted that
[09:23:53] <dbaupp> I'd say it should be reasonably visible/discoverable, since it likely tells the user what to use instead (in the case of `deprecated`)
[09:24:14] <Seldaek> yeah, well right now it's on title so if you hover the deprecated you'll see it
[09:24:20] <Seldaek> but if it's not enough we'll see
[09:24:27] <Seldaek> it's already cool if it shows up at all :)
[09:26:45] <dbaupp> yup :)
[09:26:57] <dbaupp> <3 the new rustdoc
[13:29:28] <dbaupp> is it a known bug why NormalizationIterator isn't linked? http://static.rust-lang.org/doc/master/std/str/trait.StrSlice.html
[13:29:40] <dbaupp> (in nf{,k}d_iter)
[13:43:20] <Seldaek> dbaupp: is it priv maybe?
[13:43:24] <Seldaek> doesn't show up in the search either
[13:45:19] <dbaupp> oh, maybe
[13:45:37] <dbaupp> yup, it is
[14:39:23] <Seldaek> acrichto: the js error when searching for "set" seems to be in some new code you added? it fails resolving some id in allPaths I think
[16:01:09] <cmr> Seldaek: acrichto: http://static.rust-lang.org/doc/master/std/container/MutableMap/trait.MutableMap.html
[16:01:28] <cmr> That gets linked to from a search for 'insert'
[16:01:35] *** Joins: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[16:01:37] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[16:09:09] <dbaupp> (https://github.com/mozilla/rust/issues/9566 is the issue for that)
[16:12:34] <acrichto> ah yeah the search is my fault
[16:12:44] <acrichto> I saw that yesterday and I forgot to fix it :(
[16:13:11] * dbaupp scolds acrichto
[16:13:23] <acrichto> I suppose for now that the stability is fine
[16:13:32] <acrichto> we should have more stuff using it before we start seriously looking into it as well I think
[16:14:23] <dbaupp> fixing it on methods would be useful
[16:14:43] * dbaupp didn't/doesn't have time to attempt that for a while
[16:19:56] <Seldaek> acrichto: what do you mean "don't trust our versioning capabilities" (on that github linking)?
[16:20:20] <acrichto> I don't think we have the infrastructure currently to automatically generate links to the correct version number
[16:20:20] <Seldaek> I don't quite get the whole version drift stigma, use commit hashes in urls and all is well no?
[16:20:28] <Seldaek> ah that way
[16:20:39] <acrichto> I'm worried about the magic involved in that
[16:20:51] <Seldaek> mkay, not sure why the build bot couldn't replace /master/ in the url in some file or whatevr
[16:20:59] <Seldaek> but I have no idea how this all actually happens
[16:21:03] <Seldaek> so I'll trust you
[16:21:13] * dbaupp doesn't like assuming/relying on a certain style of VCS
[16:21:18] <Seldaek> sounds like something is wrong if that is a daunting task though :/
[16:21:33] <Seldaek> dbaupp: I agree for the long term, but having src links now would be great
[16:21:35] <acrichto> that being said I think that including the source in the dox is a pretty nice and easy solution as well
[16:21:56] <dbaupp> Seldaek: I certainly agree with that :)
[16:21:59] <Seldaek> it's all about amount of work vs return..
[16:22:37] <dbaupp> acrichto: I'm sure you realise this but you won't necessarily have a source file for each mod
[16:22:51] <acrichto> you'll have source for each "thing" though
[16:22:55] <dbaupp> (so a link to source can't just point to ./src.html?)
[16:23:02] <dbaupp> oh, you'll do them one at a time?
[16:23:11] <dbaupp> rather than the whole .rs file as one page?
[16:23:12] <acrichto> I kinda like go's approach of doing it all in one page
[16:23:23] <acrichto> I've just read their code many times
[16:23:31] <acrichto> and it's reall yuseful to be able to scroll up/down
[16:23:32] * dbaupp likes how haddock does it as one page too
[16:23:43] <Seldaek> yeah that's how github works too 
[16:23:53] <Seldaek> just point to the right line in the file it's alright for source view 
[16:24:13] <Seldaek> and if it can be highlighted like on github that'd be even better
[16:48:11] <cmr> acrichto: We still don't have syntax highlighting, and it seems it's not emitting the HTML which would allow it?
[16:48:22] <cmr> It's all just in a <code class="rust"> block
[16:48:24] <acrichto> cmr: yeah it's no longer emitting the right html
[16:48:32] <acrichto> that came as part of the sundown movement
[16:48:41] <acrichto> pandoc emitted classes, sundown does not
[16:51:21] <acrichto> Seldaek: stylistic-wise, are you ok if I just make the "content" of the page the source code
[16:51:28] <acrichto> I'll probably put line numbes on the left
[16:51:52] <acrichto> hm well actually I'm not sure if it'll even have the sidebar
[16:56:59] <Seldaek> acrichto: IMO for src it's fine to go to a different view
[16:57:20] <Seldaek> it's kinda impossible (unless you generate one file per item) to have a sensible "back to docs" button anyway
[16:57:39] <acrichto> I'm thinking it'll just be one html file per rust source file
[16:57:46] <Seldaek> yes
[16:57:55] <Seldaek> but actually, you could have back to docs buttons besides every fn/struct/.. declaration in the source view, it'd be kinda cool
[16:58:33] <Seldaek> not amazingly useful I suppose since all the info is in the sources already, but still a nice thing to have
[16:58:36] <acrichto> could you mock up what a page would look like?
[16:59:09] <Seldaek> don't think I'll have time tonight or any time before monday
[16:59:14] <acrichto> oh ok
[16:59:27] <acrichto> I'll just do something then and it can chane 
[16:59:28] <acrichto> change*
[16:59:31] <Seldaek> still have to pack for argentina and all plus attend some party and things :P
[17:00:14] <Seldaek> yes go for it, the only thing is please if you can make it so copy pasting lines doesn't include line numbers (I think github does it well)
[17:01:48] <acrichto> oh yeah that would be nice
[17:01:53] <acrichto> I always hated that on other sites lol
[17:03:06] <Seldaek> just needs to be two containers side by side I think, it precludes wrapping lines though
[17:04:00] <acrichto> yeah
[19:28:30] *** Joins: doomlord_ (servitor@moz-2BA2D1DA.range86-184.btcentralplus.com)
[19:28:39] *** Joins: flaper87 (flaper87@moz-107AD163.redhat.com)
[20:31:21] *** flaper87 is now known as flaper87|afk
[20:44:07] *** flaper87|afk is now known as flaper87
[21:58:10] *** flaper87 is now known as flaper87|afk
[22:05:14] <acrichto> write!(fmt.buf, "<span id='{0}'>{0:1$u}</span>\n", i, cols);
[22:05:20] <acrichto> wheeeeeeeee
[22:15:05] *** flaper87|afk is now known as flaper87
[22:33:55] *** flaper87 is now known as flaper87|afk
[22:40:56] *** flaper87|afk is now known as flaper87
[22:43:05] *** flaper87 is now known as flaper87|afk
[23:18:58] <acrichto> more fixes yay https://github.com/mozilla/rust/pull/9577
[23:21:26] <cmr> acrichto: got a copy of generated docs anywhere?
[23:21:33] <acrichto> oh good point
[23:22:04] <acrichto> cmr: http://www.contrib.andrew.cmu.edu/~acrichto/doc/std/
[23:22:09] <acrichto> don't have libextra :(
[23:22:12] <cmr> that's fine
[23:23:09] <cmr> acrichto: http://www.contrib.andrew.cmu.edu/~acrichto/doc/src/std/src/libstd/local_data.rs.html#62
[23:23:17] <dbaupp> acrichto: \o/ source
[23:23:27] <cmr> (from http://www.contrib.andrew.cmu.edu/~acrichto/doc/std/local_data/enum.KeyValue.html )
[23:23:29] <acrichto> hmmm
[23:23:58] <acrichto> maybe I shouldn't throw it through markdown
[23:24:02] <cmr> heh
[23:24:13] <acrichto> ugh, I don't want to write an html escaping library lol
[23:24:23] <cmr> We... have one, I think.
[23:24:25] <cmr> Somewhere
[23:24:29] <acrichto> really?
[23:24:53] <dbaupp> https://github.com/mozilla/rust/wiki/Lib-html
[23:25:10] <cmr> Yup, I was thinking of https://github.com/veddan/rust-htmlescape
[23:29:34] <cmr> It's not under any license so we can't really use it :\
[23:30:47] * acrichto googles 'html characters needing escapes'
[23:31:01] <acrichto> wow seriously
[23:31:04] <acrichto> only 5 charcters?
[23:31:08] <acrichto> that's kinda wesome
[23:33:07] <doomlord_> i made something simple similar, perhaps that would help me
[23:34:03] <doomlord_> https://github.com/dobkeratops/rustfind/blob/master/htmlwriter.rs
[23:34:39] <doomlord_> no idea what the usual way of doing that is, my knowledge of html is minimal
[23:34:55] <cmr> Ideally we'd be either using rustfind or be able to link to rustfind for our source generation.
[23:35:13] <acrichto> yeah that'd be pretty sweet
[23:35:30] <doomlord_> i've tried to make the tags in rustfind open to that..
[23:36:33] <doomlord_> i also generally thought it would be good to setup something automated to just show the main source tree on the web somewhere
[23:36:44] <doomlord_> i dont update my demo so often as i could
[23:37:13] <doomlord_> maybe i should rename this project too
[23:37:49] <cmr> doomlord_: for minimal knowledge of html, rustfind's output is quite impressive ;p
[23:38:37] <doomlord_> there's no popup 'jump-to-ref' menus like in some others yet
[23:40:56] <doomlord_> tags: there's tags for each line you could jump to , i suppose
[23:41:19] <doomlord_> filename.rs.html#ln???
[23:41:21] <acrichto> cmr: pushed a fix, but completely untested so waiting for a build now
[23:42:01] <doomlord_> so this 'rust-htmlescape will handle all the unicode stuff i see
[23:45:13] <acrichto> why does apple+arrow key not work in firefox for me...
[23:47:07] <doomlord_> is it possible to spawning a trusted desktop app from a page link ( i realise such a function might be rather dangerous..)
[23:47:13] <doomlord_> ^to spawn
[23:55:28] <acrichto> cmr: re-pushed, and fixed
[23:55:30] <acrichto> http://www.contrib.andrew.cmu.edu/~acrichto/doc/src/std/src/libstd/local_data.rs.html#179
