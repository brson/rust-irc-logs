[00:00:02] <dwrensha> it's already gone
[00:00:13] <dmillerw> can someone give me a quick example of reading a key from a Json object? I'm using json::from_str(), but can't for the life of me figure out how to actually read values
[00:02:04] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[00:02:06] <dmillerw> nvm, think I found it
[00:02:09] <jxs> with rust 0.9 the example from the homepage with do spawn still works
[00:02:39] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: Textual IRC Client: www.textualapp.com)
[00:02:58] <jxs> and by works i mean compile and run, sorry
[00:03:12] <yuriks> jxs: it has already been
[00:03:46] <jxs> so it must have been in .10 no? i have no warnings
[00:04:05] <yuriks> it was removed a few days ago in git/0.10-pre
[00:04:27] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[00:04:44] <newguy> what is &'a str?
[00:04:56] <yuriks> newguy: &str with lifetime 'a
[00:05:08] <newguy> k
[00:05:09] <yuriks> 'a is a lifetime variable. I don't really understand them myself xD
[00:05:48] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[00:06:01] <jxs> oh ok thanks yuriks 
[00:07:04] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[00:07:50] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[00:07:51] *** ChanServ sets mode: +ao brson brson
[00:08:45] <newguy> just for clarification, if i have an executable named test in my current working directory, the path to that executable from my cwd would by test and not /test right?
[00:08:54] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[00:09:05] <dmillerw> okay, I take that back. I have a json::Decoder created from the json var, but none of the functions are in scope?
[00:09:42] *** Quits: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de) (Quit: Matthias247)
[00:10:31] <yuriks> newguy: yes, or ./test. /test would be test on the root.
[00:11:00] <newguy> ok thanks
[00:11:06] *** Joins: derek_c (derek@moz-CE6E60A5.cit.cornell.edu)
[00:11:34] *** Joins: valenting (Thunderbir@moz-EF716D84.xdsl.toledo.be)
[00:11:51] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[00:12:57] *** Joins: nszceta (hax@moz-72291802.hsd1.pa.comcast.net)
[00:13:22] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[00:14:47] *** Joins: jrupac (ajay@moz-BF77C4D6.nyc.res.rr.com)
[00:15:10] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[00:16:12] *** Joins: aruniiird (aruniiird@28876D92.F24A7F1B.260B031E.IP)
[00:16:23] <jxs> by the way guys in the linked list example, eq function on the tutorial, if the ref keyword binds variable by reference rather than name, why is it ~ref used?
[00:17:07] <newguy> im having trouble spawning a process. Whenever i provide the path to the program i run, i get:
[00:17:08] <newguy> task '<main>' failed at 'Unhandled condition: io_error: io::IoError{kind: FileNotFound, desc: "no such file or directory", detail: None}'
[00:17:23] <newguy> even though the file is in the cwd
[00:17:32] <newguy> for ex: filename is test
[00:17:39] <yuriks> jxs: link?
[00:17:51] <yuriks> foo is by value, do you mean &foo?
[00:17:57] <jxs> http://static.rust-lang.org/doc/master/tutorial.html#references
[00:18:10] <newguy> and in the process config, it asks for the path to the program, and i provide the path as: test
[00:18:57] <dwrensha> try "./test" maybe?
[00:19:02] <yuriks> newguy: what if you do ./test? Is the program running with the same cwd as the directory you're in?
[00:19:03] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[00:19:07] <yuriks> try printing the cwd to check
[00:19:16] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[00:19:19] <newguy> i stripped the "./" under the assumptin that it'll break
[00:19:26] <newguy> but i will try it and get back to you guys
[00:20:00] <yuriks> jxs: don't want to go against the tutorial, but as I understand it, foo: List will shallow copy the value to the foo variable inside the function
[00:20:01] <newguy> same error
[00:20:21] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[00:20:44] *** Quits: pilf (pilf@44BF5D7D.B6A69891.5411983D.IP) (Quit: pilf)
[00:21:13] <newguy> providing ./test gives the same error
[00:21:18] <yuriks> jxs: &List is a borrowed reference (which ensures the reference can't outlive the original value)
[00:21:31] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[00:21:32] <newguy> and im in the same directory as the file
[00:21:39] <dmillerw> Okay, good to know, Have to decode to a struct
[00:21:51] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[00:21:58] <newguy> i made sure to change_dir and when i check the contents of the dir, the executable is there
[00:22:15] <yuriks> jxs: ~List is a owned heap reference, which can only have one name at once but can't be given up and passed along
[00:23:36] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[00:23:46] *** Quits: jrupac (ajay@moz-BF77C4D6.nyc.res.rr.com) (Ping timeout)
[00:25:01] *** Quits: jsonnull (Thunderbir@26F61E6.CFD9471D.494A0F8B.IP) (Quit: jsonnull)
[00:25:26] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[00:26:41] <cgaebel>  is there a common cause for "Illegal Instruction" in rust?
[00:27:15] <yuriks> that signal usually means something went wrong during compilation (wrong architecture?)
[00:27:27] <cgaebel> not wrong architecture
[00:27:40] <yuriks> what's your CPU?
[00:27:49] <cgaebel> ivy bridge
[00:27:57] *** Joins: mib_tbzfcs (Mibbit@moz-77647B8C.dyn.iinet.net.au)
[00:28:01] <cgaebel> i7-4750hq
[00:28:30] *** Quits: mib_tbzfcs (Mibbit@moz-77647B8C.dyn.iinet.net.au) (Quit: http://www.mibbit.com ajax IRC Client)
[00:28:37] <cgaebel> (I'm working on the compiler, so it's possible I just broke everything)
[00:28:42] <cgaebel> (in a very subtle way)
[00:28:49] <cgaebel> which would suck.
[00:28:50] <yuriks> oh, yeah :) I'd bet on that
[00:29:12] *** Quits: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net) (Ping timeout)
[00:29:17] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[00:30:04] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[00:30:51] <jxs> oh thanks yuriks, i missed something, going to look into it 
[00:31:12] <yuriks> jxs: but *can* be given up*, sorry
[00:31:12] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[00:31:26] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[00:31:31] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[00:31:57] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[00:32:03] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[00:32:38] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[00:33:22] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[00:33:24] *** Joins: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net)
[00:33:30] *** Quits: flu- (chain@moz-5E956C03.se.net) (Ping timeout)
[00:33:35] *** Joins: montezuma (Mibbit@moz-AE55F4BE.cat.csiro.au)
[00:34:08] *** Quits: TheHydroImpulse (androirc@moz-7374A0F2.wireless.telus.com) (Client exited)
[00:34:09] *** Joins: TheHydroImpulse (androirc@moz-7374A0F2.wireless.telus.com)
[00:34:21] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[00:34:33] <newguy> println!("{:?}", os::getcwd()); prints in bytes
[00:34:41] <jxs> oh by the way, is there a reference for the removing of the do keyword decision? and also do you guys use any software to see the mailing list?
[00:34:44] <newguy> how do i convert to str?
[00:34:45] *** Quits: aklt (aklt@moz-E66E9BCB.u.parknet.dk) (Quit: leaving)
[00:34:49] <yuriks> newguy: try just {}
[00:35:06] <newguy> doesnt compile that way
[00:35:11] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[00:35:27] <newguy> "failed to find implementation .. for Path
[00:35:48] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[00:35:53] <yuriks> jxs: afaik, the (main) reason is that do only worked with certain kinds of closures
[00:36:13] *** Quits: joelteon (bzzt@moz-317E8D0C.io) (Quit: I'm out)
[00:36:19] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[00:36:39] *** Joins: joelteon (bzzt@moz-317E8D0C.io)
[00:37:07] *** Quits: suzak (suzak@moz-FEBD2936.sakura.ne.jp) (Quit: ZNC - http://znc.in)
[00:37:46] <SiegeLord> I kind of think it was designed out inadvertently
[00:37:51] *** Joins: suzak (suzak@moz-FEBD2936.sakura.ne.jp)
[00:38:29] <kimundi> newguy: Paths in general should not be treated as strings - you can convert to a string for display, but that can loose informations
[00:38:35] <SiegeLord> It seemed to me that do started only to accept proc's was because do spawn { } syntax was wanted
[00:38:43] <kimundi> newguy: Try the .display() method on Path
[00:39:03] <newguy> kimundi: ok
[00:39:03] <SiegeLord> And then it turned out that do isn't that useful if that's the only thing it does, so it got cut
[00:39:41] <SiegeLord> In my opinion, it should have been kept in its accept everything form but the syntax changed to do spawn proc {}
[00:39:44] <satalha> Luqman: yo
[00:39:49] <SiegeLord> But the ship has sailed... again
[00:39:55] <satalha> oops
[00:40:13] *** Quits: Earnestly (earnest@moz-1CE0D638.dyn.plus.net) (Quit: WeeChat 0.4.3-rc1)
[00:40:50] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Quit: Coyote finally caught me)
[00:40:52] <chromatic> Anyone available to review a patch to libstd? https://github.com/chromatic/rust/commit/0aec46e55af2d6f80a3ea1975e43b7b3e4d637fb
[00:40:55] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[00:41:28] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Ping timeout)
[00:42:11] *** nrc|afk is now known as nrc
[00:42:59] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[00:42:59] *** ChanServ sets mode: +ao dherman dherman
[00:43:51] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[00:44:03] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[00:44:10] *** Quits: Saj (Sajuuk@moz-840D0658.netvisao.pt) (Quit: Leaving)
[00:44:10] *** Quits: suzak (suzak@moz-FEBD2936.sakura.ne.jp) (Quit: ZNC - http://znc.in)
[00:44:34] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[00:44:41] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Ping timeout)
[00:45:11] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[00:45:11] *** ChanServ sets mode: +ao dherman dherman
[00:45:47] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[00:46:08] *** Quits: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net) (Quit: Textual IRC Client: www.textualapp.com)
[00:47:05] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[00:47:06] *** Joins: stephenmac7 (quassel@moz-F2C114C1.hsd1.fl.comcast.net)
[00:47:39] <newguy> kimundi: .display() isnt working for me
[00:50:13] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[00:50:21] *** Joins: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net)
[00:50:41] <kimundi> newguy: http://static.rust-lang.org/doc/master/std/path/index.html
[00:50:45] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[00:51:27] <kimundi> newguy: display returns a Display struct, which has a to_str() method for returing you a ~str, a with_str method, and a Format impl for use with {}
[00:51:32] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[00:51:36] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[00:52:25] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[00:53:17] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[00:53:34] <bstrie_boot> I have discovered the perfect name for a scripting language designed to work with Rust
[00:53:38] <bstrie_boot> "Pixie"
[00:53:47] <kimundi> hahaha
[00:53:49] <bstrie_boot> when used together we can call it "Pixie Rust"
[00:54:08] <bstrie_boot> and the tagline can be "All the magic that Rust doesn't want to offer"
[00:54:31] <bstrie_boot> cuz pixies are magical creatures you see
[00:56:47] *** Quits: nkoep (nik@moz-DC05FB0B.pool.mediaways.net) (Client exited)
[00:56:52] <bstrie_boot> the file extension can be .xi, though we also accept the greek .ξ
[00:57:08] <tiffany> that is a good name, too good for me to steal
[00:58:01] <bstrie_boot> I suppose if we accept ξ then we will also have to accept all the chinese characters that get romanized to "xi"
[00:58:32] <kimundi> Hehe, for running a pixie filed we could then write "pixie dance foo.ξ"
[00:58:40] <bstrie_boot> tiffany: well now that I have come up with a name I just need to invent a suitable language
[00:58:52] <tiffany> my language isn't really designed to work with rust
[00:58:53] <bstrie_boot> but, fortunately the hardest part is past us
[00:58:57] *** Joins: Earnestly (earnest@811A97A3.CF19AA69.5411983D.IP)
[00:59:00] <tiffany> it's more of a totally unrelated concatenative language
[00:59:00] <Earnestly> quit
[00:59:01] *** Quits: Earnestly (earnest@811A97A3.CF19AA69.5411983D.IP) (Quit: Earnestly)
[00:59:27] <tiffany> I should really get back into working on it, I think I should work around the compiler bug using unsafe code
[00:59:28] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[00:59:36] <nrc> bstrie_boot++
[00:59:50] <bstrie_boot> tiffany: I thought that there was only one "concatenative language"
[00:59:54] <kimundi> just take lua, add a metric ton of syntax sugar and call it a day :P
[01:00:03] <bstrie_boot> as in like, the semantics are so well-specified that there is no room for variation
[01:00:17] <bstrie_boot> maybe I am just unimaginative
[01:00:22] <tiffany> the  semantics of concatenative languages are that they are stack based
[01:00:29] *** jorendorff is now known as jorendorff_away
[01:00:57] <bstrie_boot> kimundi: I had the idea when watching the recent talk on rust-lua bindings
[01:01:03] <tiffany> it is its own paradigm, but it's a pretty unexplored one, which is why there could be a perceived lack of variety
[01:01:07] <bstrie_boot> and seeing how lua's error model is problematic with rust code
[01:01:32] <tiffany> I think the existing concatenative languages do pretty well to distinguish from each other, like kitten and factor and forth are all pretty different
[01:02:04] <chromatic> I had always thought PostScript was based on Forth, but it was invented independently. Fun fact.
[01:02:11] *** Joins: Earnestly (earnest@811A97A3.CF19AA69.5411983D.IP)
[01:02:27] <bstrie_boot> tiffany: I suppose my only exposure is via http://evincarofautumn.blogspot.com/2012/02/why-concatenative-programming-matters.html
[01:02:37] <bstrie_boot> which seems really straightforward, if nonetheless impenetrable
[01:02:44] <bstrie_boot> oh hey
[01:02:58] <tiffany> my scripting language propagates errors to rust in the form of a Result
[01:03:18] <bstrie_boot> any CS postgrads in here looking for a one-year associate professorship? my alma mater is scrambling to find someone :P
[01:03:18] <tiffany> the parser has pretty good syntax error messages, though the language isn't powerful enough for there to really be runtime errors
[01:03:35] <doublec> there's a  bunch of good concatenative information on manfred von thun's archives http://www.latrobe.edu.au/humanities/research/research-projects/past-projects/joy-programming-language
[01:03:38] <bstrie_boot> tiffany: that sounds like a feature!!!
[01:03:41] *** Quits: aruniiird (aruniiird@28876D92.F24A7F1B.260B031E.IP) (Ping timeout)
[01:03:56] <tiffany> I haven't implemented functions yet
[01:03:59] <tiffany> only calls
[01:04:21] *** Joins: pzol_ (pzol@86821BC.DEB41A6D.AADC76B.IP)
[01:04:31] <bstrie_boot> tiffany: no, don't say that! you must learn the art of marketing. instead of "we don't have functions", say, "runtime errors are literally impossible"
[01:05:12] <chromatic> bstrie_boot, where?
[01:05:22] <tiffany> I should probably make a bit more of an effort to make my language friendlier to rust
[01:05:34] <bstrie_boot> chromatic: small private school in northwest PA
[01:06:02] <chromatic> Will pass it along to my postdoc friend.
[01:06:25] <bstrie_boot> chromatic: http://www.cs.allegheny.edu/search2014
[01:06:28] *** Quits: ldunn (username@moz-94CB0FA.cyberius.net) (Quit: leaving)
[01:06:39] *** Quits: Earnestly (earnest@811A97A3.CF19AA69.5411983D.IP) (Quit: WeeChat 0.4.3-rc2)
[01:07:49] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[01:08:20] *** Quits: carter (carter@moz-58F59B3A.members.linode.com) (Quit: ZNC - http://znc.in)
[01:08:45] <bstrie_boot> doublec: I find it odd that that link has "humanities" in the path
[01:09:13] <bstrie_boot> maybe in australia it has a different meaning...
[01:09:38] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[01:10:05] *** Quits: heftig (heftig@moz-EC7CAF60.dip0.t-ipconnect.de) (Quit: Quitting)
[01:10:15] *** Joins: Denommus (AndChat671@moz-E71FC99A.user.veloxzone.com.br)
[01:10:22] <Denommus> Hi
[01:10:28] *** Joins: heftig (heftig@moz-EC7CAF60.dip0.t-ipconnect.de)
[01:11:39] <bstrie_boot> Denommus: is it just me or is freenode lagging to death
[01:12:02] <Denommus> bstrie_boot: I'm unable to connect to it 
[01:12:36] <Denommus> No idea what is happening 
[01:12:38] <doublec> bstrie_boot: manfred was a philosophy professor who did his phd on inductive logic. joy was a research interest o fhis.
[01:13:02] <Denommus> Oh, finally got in 
[01:13:23] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[01:14:29] <kvark> Does rust have a low-level function to compute A*B/C, using twice the storage size for intermediate (A*B) value? Something like mul() followed by div() in asm?
[01:15:26] <bstrie_boot> kvark: maybe there's an llvm intrinsic for that or somethin
[01:15:57] <kvark> bstrie_boot: does it need to be exposed by Rust, or can I use it somehow directly?
[01:16:02] *** Quits: alexherbo2 (alexherbo2@moz-5686FDD1.w83-199.abo.wanadoo.fr) (Quit: WeeChat 0.4.3-dev)
[01:16:07] <bstrie_boot> kvark: rust should expose all the intrinsics afaik
[01:16:22] <kvark> any idea where I should start looking for it?
[01:16:57] <bstrie_boot> kvark: intrinsics would be in https://github.com/mozilla/rust/blob/master/src/libstd/unstable/intrinsics.rs
[01:19:06] *** Joins: aruniiird (aruniiird@moz-3DB73AA5.azulsystems.com)
[01:19:32] <kvark> bstrie_boot: I don't see it there :(
[01:20:06] <Denommus> Couldn't you easily create this function, though? 
[01:21:59] <Denommus> fn mul(x: u32, y: u32) -> u64 { let a: u64 = x, b: u64 = y; a*b }
[01:22:09] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[01:22:26] <kvark> Denommus: ah well, I can do that
[01:22:58] <kvark> didn't want to touch u64 unless moving all my values onto it
[01:23:53] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[01:24:04] <Denommus> What about glibc? Does it offer it? 
[01:24:40] <kvark> good question
[01:25:15] <bstrie_boot> having a hard time internally reconciling that `let r = &mut 4;` is considered immutable
[01:25:31] <bstrie_boot> when it lets you do `*r = 5;` without complaint
[01:25:50] *** Quits: Denommus (AndChat671@moz-E71FC99A.user.veloxzone.com.br) (Ping timeout)
[01:25:52] <nszceta> why will rust obsolete golang
[01:25:59] <bstrie_boot> nszceta: it won't
[01:26:04] <bstrie_boot> different goals
[01:26:07] <nszceta> I am told golang is technically superior by colleagues
[01:26:09] <nszceta> pls explain
[01:26:23] <bstrie_boot> nszceta: your colleagues don't understand that both languages are aiming for different audience :P
[01:26:33] <nszceta> interesting
[01:26:46] *** Joins: Denommus (AndChat671@moz-E71FC99A.user.veloxzone.com.br)
[01:26:55] <nszceta> what is rust aiming for
[01:27:22] <bstrie_boot> nszceta: let me give you an analogy
[01:27:26] <Denommus> Hm. Maybe fn mul(x: u64, y: u64) -> u64 { x*y } would also do it 
[01:27:32] *** Joins: Earnestly (earnest@811A97A3.CF19AA69.5411983D.IP)
[01:27:33] <bstrie_boot> nszceta: in the 90s, C++ was the primary language used to write applications
[01:27:39] <nszceta> it still is to some extent
[01:27:45] <bstrie_boot> nszceta: then java came along and ate C++'s lunch
[01:27:48] <nszceta> flight control systems are written in C++
[01:27:51] <bstrie_boot> at least in the enterprise sector
[01:27:53] <nszceta> nobody uses Java for that
[01:27:57] <bstrie_boot> nszceta: hold on!!!
[01:28:05] <nszceta> .... go on
[01:28:13] <bstrie_boot> nszceta: but, there are still people who use C++ in a lot of places where java isn't acceptable
[01:28:19] *** Quits: dmillerw (dylan@moz-587EA058.eugn.qwest.net) (Ping timeout)
[01:28:20] <bstrie_boot> nszceta: rust aims to replace C++ for those places :)
[01:28:25] <Denommus> C++ has a bunch of problems that are stuck in the language by design 
[01:28:44] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[01:28:46] *** Joins: alex (alex@4A68ADFD.7FDDA9B5.B7830B68.IP)
[01:29:03] <bstrie_boot> nszceta: by definition, Go cannot replace C++ in the places where it still regins supreme, because if a managed language we acceptable then they would have *already* switched to java
[01:29:06] <nszceta> so rust will overpower C++ in the end?
[01:29:10] <bstrie_boot> nszceta: that's the hope :)
[01:29:17] *** Joins: dmillerw (dylan@moz-587EA058.eugn.qwest.net)
[01:29:20] <bstrie_boot> nszceta: in reality C++ will be around forever. just like cobol
[01:29:21] <alex> What happened to spawn_unlinked and spawn_supervised? I can't find the latter in the repo.
[01:29:32] <tiffany> someone linked an article on the subreddit a while ago that the F-35 was having software reliability problems cmopared to the F-22 because it was written with C++ instead of ada
[01:29:33] <Denommus> nszceta: in theory, it has the potential 
[01:29:59] *** Joins: herrwolfe45 (user@moz-3F0F09A7.cm.sunflower.com)
[01:30:15] <nszceta> Java is bloated. Despite managed-code, the move from C++ to Java has other factors to consider. 
[01:30:16] <mojoB> and the f-35 project employed bjarne , still having issues
[01:30:17] <alex> They're still in the 0.9 docs
[01:30:45] *** Quits: dmillerw (dylan@moz-587EA058.eugn.qwest.net) (Quit: Leaving)
[01:31:14] <Tari> having worked on a tiny part of the F-35 project, I'd say most of its issues are related to mismanagement
[01:31:18] <bstrie_boot> nszceta: the specific language in use is irrelevant. the people still using C++ cannot accept any managed language, otherwise they would have picked one of the dozens of mature managed languages in use today
[01:31:20] <bjz> nszceta: Rust is aiming for applications where predictable performance is necessary. Rust aims to do this whilst at the same time being safe.
[01:31:28] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[01:31:37] <Denommus> nszceta: well, C++ is much more bloated than Java 
[01:32:18] <Denommus> nszceta: quite in fact, I wouldn't call Java bloated. It's just not expressive enough 
[01:32:18] <nszceta> Denommus: please expand
[01:32:27] <bjz> Denommus: ++
[01:32:27] <mojoB> Tari: no doubt, technical merit can't save a project from management :)
[01:32:43] <Denommus> nszceta: just look at the template system 
[01:32:43] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[01:32:44] *** Parts: Earnestly (earnest@811A97A3.CF19AA69.5411983D.IP) (WeeChat 0.4.2)
[01:33:03] <bstrie_boot> Denommus: I'd call java bloated, but not if your only other point of comparison is C++ :P
[01:33:09] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[01:33:21] <nszceta> not as expressive i agree, but additionally, you have useless allocations of objects that arent needed in c++. And, isnt the function overload in Java much more than in C__?
[01:33:24] <bjz> nszceta: Java is a very simple language, but inexpressive. that causes the complexity you see in the resulting applications.
[01:33:29] <herrwolfe45> hi - I've written some code and am unsure whether i should be cloning some bytes or could use a borrowed pointer - could someone take a look and tell me if i am working with rust idiomatically: https://gist.github.com/derwolfe/b0642b5e479027a5fcd5
[01:33:31] *** Quits: newguy (Mibbit@490AFC12.A9DA0237.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:34:03] <Denommus> bstrie_boot: Java's libraries are bloated, but that's because of its lack of expressiveness 
[01:34:08] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[01:34:17] <bstrie_boot> Denommus: that's mostly what I mean, yes :P
[01:34:18] *** Joins: takuin_ (takuin@moz-21A5F23D.ks.ks.cox.net)
[01:34:33] <bstrie_boot> libs are a part of the language!!
[01:34:37] <Denommus> Java itself is just... mediocre 
[01:34:54] <bjz> bstrie_boot: don't conflate the complexity of the language with the complexity of the libraries
[01:35:04] *** jorendorff_away is now known as jorendorff
[01:35:07] <nszceta> what about the stack sizes for function calls? isnt each function call more expensive in java than in c++?
[01:35:11] <nszceta> and JAVA IS JVM
[01:35:18] <nszceta> C++ and go go to machine lang
[01:35:32] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[01:35:39] <bjz> bstrie_boot: I would define the language as what is built into the compiler
[01:35:43] <bstrie_boot> nszceta: I'm not sure what you're arguing any more
[01:35:47] <Denommus> nszceta: ah, I'm talking about bloatness in the design. You're probably talking about runtime overhead 
[01:35:50] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[01:35:52] <nszceta> c++ and go are compiled languages
[01:35:54] <nszceta> java is not 
[01:36:01] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[01:36:02] <nszceta> im talking about runtime bloat
[01:36:11] <bstrie_boot> nszceta: all languages have a runtime, even C :P
[01:36:19] <bjz> nszceta: Java makes runtimne optimisations, Go does not
[01:36:24] <Denommus> nszceta: in this case, yes, compared to C++ or Rust the overhead is a lot bigger 
[01:36:30] <nszceta> dude --- im talking about the relative runtime bloats of C++, go, Java and RUST
[01:36:45] <yuriks> does anyone have any tips on debugging lifetime/borrowing leaks?
[01:36:50] <tiffany> you're talking about different things
[01:36:52] <nszceta> okay, good
[01:36:53] <nszceta> so
[01:37:02] <nszceta> between Rust and C++, how is the comparision for runtime overhead
[01:37:03] *** Quits: takuin_ (takuin@moz-21A5F23D.ks.ks.cox.net) (Ping timeout)
[01:37:10] <bstrie_boot> nszceta: potentially zero
[01:37:16] <bjz> nszceta: should be extremely close
[01:37:22] <tiffany> java gets JITed at runtime, so I can't imagine function calls are very expensive
[01:37:33] <nszceta> and how would it compare to golang?
[01:37:33] <bstrie_boot> yuriks: can you elaborate?
[01:37:37] <bjz> nszceta: Java has probably the best GC the world has ever seen, Go does not
[01:37:49] <Denommus> nszceta: the Garbage Collector and the runtime type checking (of both Java and Go) make them have a bigger overhead 
[01:37:53] <tiffany> bjz: for the requirements, at least
[01:38:01] <yuriks> bstrie_boot: I have a borrow that has a longer lifetime than I expected and I don't know why
[01:38:03] <tiffany> doesn't it have a world-freezing GC?
[01:38:04] <bjz> tiffany: yep
[01:38:10] <yuriks> I'm wondering what people usually do in that case
[01:38:12] <ljrmorgan> is there a way to get the error message that a task failed with?
[01:38:17] *** Joins: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[01:38:19] <nszceta> yea, but java has the jvm to rely on
[01:38:24] <bstrie_boot> herrwolfe45: are you just talking about the question on line 9?
[01:38:26] <bjz> tiffany: agreed it is for the use case
[01:38:30] *** Quits: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper_)
[01:38:34] *** Joins: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[01:38:40] <TheHydroImpulse> Jiting only takes place for hot functions which need to be optimized for thr jvm. So function calls are deterministic 
[01:38:50] <Denommus> nszceta: the JVM is just a runtime. A good one, quite in fact 
[01:38:55] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[01:39:20] <nszceta> we have three options here
[01:39:29] <Denommus> nszceta: Go really sucks for C++ and Rust's use-case 
[01:39:42] <nszceta> wait
[01:39:56] <bjz> nszceta: what use cases are tyou focusing on?
[01:40:05] <herrwolfe45> bstrie_boot: yes 
[01:40:14] <nszceta> go = managed + compiled to machine code, java = managed + compiled to JVM
[01:40:28] *** Parts: alex (alex@4A68ADFD.7FDDA9B5.B7830B68.IP) ()
[01:40:39] <bjz> nszceta: the difference is that go doesn't do much optimisation
[01:40:57] <Denommus> nszceta: everything runs on top of a runtime at the end of the day, and the JVM is just that 
[01:41:03] *** Joins: Erik_ (Erik_S@moz-D2F74C7B.hlrn.qwest.net)
[01:41:18] <nszceta> So i guess, the question is
[01:41:32] <nszceta> rust unmanaged to machine code compared to go managed to machine code
[01:41:46] <nszceta> how is the runtime overheads in those scenarios
[01:41:52] <herrwolfe45> bstrie_boot: the decryption function I've written expects an ~[u8], but I am wondering if it would make sense to rewrite it using just a reference (&) instead. Were i writing this in C, that is how I think i'd approach it. I think my main issue is I don't really understand & in the context of rust
[01:42:26] <bstrie_boot> herrwolfe45: I wonder if the `bytes!()` macro is what you want
[01:42:38] *** Joins: jrupac (ajay@moz-BF77C4D6.nyc.res.rr.com)
[01:42:42] *** Joins: victorporof (victorporo@53EBB099.7C27E871.79933D60.IP)
[01:42:44] <bstrie_boot> herrwolfe45: `bytes!("asdf")` should give you back a [u8] of some kind
[01:42:53] <bascule> Go is a managed lanaguage runtime for people who hate managed language runtimes ;)
[01:43:12] <Denommus> nszceta: again, Go has a GC and runtime type checking, Rust doesn't. So the overhead is smaller 
[01:43:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[01:43:28] <Yurume> herrwolfe45: if you do the destructive operation (you won't use the original buffer after the function call), you have two major choices: fn decrypt(buf:&mut [u8]) vs. fn decrypt(buf:~[u8]) -> ~[u8].
[01:43:31] <bjz> nszceta: Rust allows the programmer to have control over the allocation strategy used, Go little choice other than GC.
[01:43:39] <Denommus> nszceta: Rust is still not so much optimized, but it will be 
[01:43:51] *** Quits: victorporof_ (victorporo@53EBB099.7C27E871.79933D60.IP) (Ping timeout)
[01:43:54] <nszceta> how can you make such a bold statement
[01:43:56] <bjz> Denommus: we do lots of piggybacking off LLVM
[01:44:02] <Yurume> the former does the in-place decryption, the latter consumes the buffer and returns a new buffer (potentionally same as the original but not guaranteed)
[01:44:09] <yuriks> bstrie_boot: being very specific: https://gist.github.com/yuriks/8777775
[01:44:24] <bjz> Denommus: so we have very good optimisation - it could be better though
[01:44:30] *** Quits: valenting (Thunderbir@moz-EF716D84.xdsl.toledo.be) (Ping timeout)
[01:44:39] *** Quits: TheHydroImpulse (androirc@moz-7374A0F2.wireless.telus.com) (Ping timeout)
[01:44:42] <bjz> Denommus: especially for Rust specific optimisations
[01:45:00] <Denommus> bjz: ah, yes, the LLVM helps. But clang and GCC are still better on that regard, right? 
[01:45:09] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[01:45:10] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[01:45:13] <bjz> Denommus: clang uses llvm
[01:45:26] <Denommus> nszceta: who made the bold statement 
[01:45:35] *** Quits: jrupac (ajay@moz-BF77C4D6.nyc.res.rr.com) (Ping timeout)
[01:45:45] <Denommus> bjz: doesn't it provide additional optimization? 
[01:45:56] <nszceta> `Rust is still not so much optimized, but it will be`
[01:46:02] <bjz> Denommus: possibly, tbh I don't know
[01:46:06] <bjz> nszceta
[01:46:10] *** Quits: Erik_ (Erik_S@moz-D2F74C7B.hlrn.qwest.net) (Ping timeout)
[01:46:19] <nszceta> bjz
[01:46:22] <Denommus> nszceta: Rust is still unstable, always be aware of that 
[01:46:24] <herrwolfe45> Yurume - what is the main difference between the two choices: fn decrypt(buf:&mut [u8]) vs. fn decrypt(buf:~[u8]) -> ~[u8]. I feel like the latter would be more efficient, but I don't have a reason to think this. 
[01:46:27] <bstrie_boot> Denommus: I've seen benchmarks where rust is faster than C/C++ on clang
[01:46:49] <bjz> nszceta: we have very good optimisation. it could be even better though, because we have more type information available than in C or C++
[01:46:49] <bstrie_boot> Denommus: in those cases it was because were were properly inlining intrinsics whereas the C programmers were calling out to libm
[01:47:04] <Denommus> bstrie_boot: that would be interesting to look 
[01:47:06] <bstrie_boot> s/programmers/programs
[01:47:12] *** Quits: acrichto (acrichto@moz-B63D64BD.res.cmu.edu) (Ping timeout)
[01:47:23] <nszceta> ok, i am curious, has anyone here written complicated real time systems, like flight control systems
[01:47:34] <herrwolfe45> also - reading over this http://words.steveklabnik.com/pointers-in-rust-a-guide
[01:47:42] <bascule> nszceta: Rust is only claiming soft realtime
[01:47:46] <bstrie_boot> Denommus: see the readme https://github.com/nsf/pnoise
[01:47:47] <Yurume> herrwolfe45: yes, both are equally performant. it is largely up to you: both has their pros and cons.
[01:47:58] <Denommus> nszceta: I have, but in C++
[01:48:06] <bjz> bascule: what is the difference?
[01:48:17] <Denommus> nszceta: an alarm system for a bank 
[01:48:39] <bstrie_boot> nszceta: take a look at 20:47 < bstrie_boot> Denommus: see the readme https://github.com/nsf/pnoise
[01:48:42] <bstrie_boot> asdf
[01:48:49] <herrwolfe45> Yurume - thanks
[01:48:50] <nszceta> Denommus -- could you see rust replacing c++ in those use cases?
[01:48:52] <bstrie_boot> nszceta: take a look at https://github.com/nsf/pnoise
[01:49:13] <Denommus> nszceta: absolutely! 
[01:49:20] <bascule> bjz: I don't know the specific requirements offhand, but generally I think it falls into the category of "if you fuck this up, somebody might die" ;)
[01:49:33] <bjz> bascule: ah
[01:49:53] *** Quits: derek_c (derek@moz-CE6E60A5.cit.cornell.edu) (Ping timeout)
[01:49:53] <Denommus> nszceta: handling concurrency in C++ was a mess, and Rust would certainly help on that 
[01:50:10] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Client exited)
[01:50:24] <bjz> bascule: yeah rust needs to be formally verified
[01:50:31] <bjz> bascule: http://en.wikipedia.org/wiki/Real-time_computing#Criteria_for_real-time_computing
[01:50:38] *** Joins: acrichto (acrichto@moz-B63D64BD.res.cmu.edu)
[01:50:38] *** ChanServ sets mode: +o acrichto
[01:50:42] <bstrie_boot> yuriks: hm, I wonder if introducing a new scope would solve that problem. try wrapping everything from line 98 to 119 in {}
[01:50:44] *** Joins: kvanb (kvanb@moz-2D0996C9.lnse5.win.bigpond.net.au)
[01:50:57] <bstrie_boot> bjz: nmatsakis has a rust model! it models things!
[01:50:59] <Denommus> bstrie_boot: wow, better than GCC. Impressive 
[01:51:02] <yuriks> bstrie_boot: first thing I tried, but I'm returning posargs
[01:51:03] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[01:51:11] <bjz> bascule: what languages are available for hard realtime though?
[01:51:30] <bascule> bjz: asm? heh
[01:51:48] <yuriks> you couldn't possibly fuck up asm! :D
[01:51:52] <nszceta> denommus -- oh yes, concurrency in c++ is just abyssmal. 
[01:51:53] <bascule> lolol
[01:51:59] <bjz> bascule: is not correctness important though?
[01:52:07] <bascule> it sure is!
[01:52:17] <bascule> the best kind of performance is "working"
[01:52:19] <nszceta> Denommus: and in real time systems, you need a good grasp of 'parallelism' and 'concurrency'
[01:52:29] <nszceta> Denommus: that is the reason why i have been partial to glang
[01:52:31] <nszceta> golang*
[01:52:42] <Denommus> nszceta: but of course, my system wouldn't kill anyone, like bascule implied 
[01:52:44] <bascule> nszceta: go turns parallelism off by default ;)
[01:52:59] <bstrie_boot> bjz: my favorite real-time programming language is "THE RAVENSCAR PROFILE"
[01:53:01] <nszceta> go's concurrency constructs seem really well thought out
[01:53:05] *** Joins: valenting (Thunderbir@moz-9EE97ADC.xdsl.toledo.be)
[01:53:06] <bstrie_boot> jsut because the name is SO GOOD
[01:53:24] <bascule> nszceta: except that whole "how do we avoid data races?" part
[01:53:34] <bascule> it's okay, we try to detect them at runtime
[01:53:56] <bjz> bascule: ah http://en.wikipedia.org/wiki/Ravenscar_profile
[01:53:57] <bascule> except: data races have a tendency to be sporadic and elusive
[01:54:11] *** Joins: alexherbo2 (alexherbo2@moz-5686FDD1.w83-199.abo.wanadoo.fr)
[01:54:26] *** Quits: Denommus (AndChat671@moz-E71FC99A.user.veloxzone.com.br) (Ping timeout)
[01:54:34] <bascule> and therefore a tendency to pop when you're exhibiting unusual load
[01:54:50] <bascule> bjz: yeah, Ada sounds about right
[01:55:21] <herrwolfe45> rusti: bytes!("hi");
[01:55:32] <yuriks> bstrie_boot: I can't see any place where I'm leaking a borrow from matches.free between 100-119. I'm already cloning everything
[01:55:48] <bstrie_boot> rusti: bytes!("hi")
[01:56:01] <bstrie_boot> oh rusti isn't here :P
[01:56:06] *** Quits: alexherbo2 (alexherbo2@moz-5686FDD1.w83-199.abo.wanadoo.fr) (Quit: WeeChat 0.4.3-dev)
[01:56:08] *** Joins: Denommus (AndChat671@moz-E71FC99A.user.veloxzone.com.br)
[01:56:17] <nszceta> bascule: share memory by communicating instead of communicate by sharing memory :)
[01:56:23] <Denommus> nszceta: hn
[01:56:43] <Denommus> nszceta: have you received my last messages? 
[01:56:54] <nszceta> hn?
[01:57:05] <yuriks> the datastructure I'm creating all take only ~str, no references
[01:57:10] <yuriks> datastructures*
[01:57:17] <Denommus> nszceta: typo. I'm on a phone 
[01:57:23] <herrwolfe45> bstrie_boot: does any include need to be made to use the bytes! macro? I'm not getting it to run when I just call it alone
[01:57:56] <Denommus> nszceta: handling concurrency in C++ was a mess. So yes, I believe Rust would be great for the same kind of system 
[01:58:28] <Denommus> nszceta: I don't know about life risking real time systems, though 
[01:58:29] <bstrie_boot> yuriks: perhaps try the hacky solution of still wrapping those lines in {}, but declare posargs as mutable outside the block :P
[01:58:29] <nszceta> Denommus: yea, but do you think Rust's concurrency ideology is better than golang's concurrency primitives?
[01:58:45] <bstrie_boot> nszceta: define better
[01:58:53] <bstrie_boot> nszceta: rust's is definitely safer
[01:58:54] <nszceta> easy to use, harder to mess up
[01:59:22] <nszceta> go uses a 'sharing data by communicating' ideology that limits race conditions
[01:59:27] <Denommus> nszceta: I don't know much about Go. I don't see a reason to put runtime type checking and default GC in a systems language 
[01:59:29] <yuriks> bstrie_boot: I'm gonna try to factor that out in functions until I can figure out what's borrowing incorrectly
[01:59:44] <bstrie_boot> nszceta: rust uses a compiler to eliminate race conditions, and doesn't rely on philosophy :P
[02:00:03] *** Joins: newguy (Mibbit@moz-1C68F6E0.hsd1.va.comcast.net)
[02:00:19] <Denommus> nszceta: well, Rust doesn't allow shared memory, except for some specific and safe data structures 
[02:00:43] <bstrie_boot> nszceta: rust has all sorts of safe and fast ways to share memory, depending on what you need. go has one way, which is easy to use but not at all safe
[02:00:56] <Denommus> nszceta: Rust's compiler is a lot smarter than Go's
[02:00:59] <bstrie_boot> so it depends on what you care about
[02:02:10] <ChrisMorgan> Denommus: put more accurately, *safe* Rust code does not allow shared memory. There are, however, some safe abstractions of shared memory (which themselves necessarily use unsafe code) in the standard library.
[02:02:31] <bascule> ChrisMorgan: what about safely shared memory?
[02:02:39] <ChrisMorgan> bascule: no such thing.
[02:02:48] <bascule> hahaha
[02:02:55] <bascule> immutable?
[02:03:11] <ChrisMorgan> bascule: only feasible for 'static
[02:03:15] <bstrie_boot> ChrisMorgan: you can safely share it with locks, that's just Arc :P
[02:03:17] <bascule> immutable globals that persist for the lifetime of the program?
[02:03:25] <Denommus> ChrisMorgan: these abstractions aren't safe, but they surely are safer than mutexes and locks
[02:04:04] <ChrisMorgan> bstrie_boot: but fundamentally Rust-the-language doesn't support the concept—the Arc family are safe abstractions over unsafe functionality.
[02:04:31] <bstrie_boot> ChrisMorgan: doubly-linked lists are just as "unsafe" :P
[02:04:47] <ChrisMorgan> bascule: yep, that's `static`
[02:04:53] <nszceta> so rust could become a really good unmanaged concurrent language but it is still immature
[02:04:59] *** jorendorff is now known as jorendorff_away
[02:05:14] <bascule> ChrisMorgan: I think you mean something more specific when you say shared memory can't be safe...
[02:05:15] <ChrisMorgan> bstrie_boot: you are correct.
[02:05:36] <bstrie_boot> nszceta: indeed
[02:05:51] <newguy> does anyone here have experience with ProcessConfig?
[02:05:57] <ChrisMorgan> bascule: I include data race in that definition of unsafe.
[02:06:26] <ChrisMorgan> newguy: do you have a specific question?
[02:06:31] <bascule> ChrisMorgan: what about immutable data?
[02:06:44] <nszceta> it seems to me that C++ will be replaced by both golang and rust eventually, branching depending on usage (go for servers, rust for real time systems)
[02:06:49] <Denommus> nszceta: exactly. But it is pretty great already 
[02:07:02] <newguy> chrismorgan: well, im running a process in the background, but i want to return to the prompt rather than hang in the process
[02:07:13] *** Joins: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP)
[02:07:18] <ChrisMorgan> bascule: data race is patently impossible for immutable data, which is why immutable shared memory is feasible (`static`).
[02:07:46] <bascule> yup
[02:07:58] <newguy> sorry chrismorgan, i'm being vague
[02:08:04] <nszceta> so, considering Rust has these great use cases with great support for concurrency, would it not be a natural choice to write an OS in it?
[02:08:05] <newguy> let me try some more things, ill get back to you
[02:08:18] *** Quits: aruniiird (aruniiird@moz-3DB73AA5.azulsystems.com) (Ping timeout)
[02:08:19] <Denommus> nszceta: yes
[02:08:19] <ChrisMorgan> newguy: it does that by default, doesn't it, unless you call Process.wait()?
[02:08:27] <bascule> nszceta: there was a systems programming class experimenting with Rust already
[02:08:34] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[02:08:44] <bstrie_boot> nszceta: define "servers". go is mainly targeted towards writing application servers, in the same space as PHP, ruby, etc. C++ "servers" are specific things like apache and nginx, which you won't see rewritten in go
[02:08:45] <yuriks> bstrie_boot: well, I managed to hit an ICE while factoring it out :D
[02:08:49] <Denommus> nszceta: in fact, there is already at least one undergrad OS course using Rust 
[02:08:50] <newguy> ChrisMorgan: I currently have Process.wait(), so let me try and remove that line
[02:09:24] <nszceta> bstrie_boot: but i would imagine go is the perfect language to write a replacement for apache or nginx. 
[02:09:36] <nszceta> bstrie_boot: why do you say that it wouldnt be?
[02:09:48] <Denommus> nszceta: why do you think that? 
[02:09:48] <newguy> chrisMorgan: I'm seeing the same result with/without Process.wait()
[02:09:55] *** Joins: gregmalcolm (Mibbit@352765FB.2885C69F.ABAB1E7.IP)
[02:10:07] *** Joins: Earnestly (earnest@811A97A3.CF19AA69.5411983D.IP)
[02:10:19] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[02:10:32] <ryeguy> how do i store closures in a struct? here is what i have: https://gist.github.com/rlepidi/4da0e3f9d7fb60ec307d
[02:10:33] <bstrie_boot> nszceta: because a managed language, even one with awesome concurrency, is unacceptable for such a performance-critical domain
[02:11:22] *** Joins: derek_c (derek@moz-A44964B8.cit.cornell.edu)
[02:11:27] <bascule> nszceta: tl;dr: GC
[02:11:33] <chromatic> but but but node.js! </troll>
[02:11:36] <nszceta> bstrie_boot: ok i agree
[02:11:37] <yuriks> bstrie_boot: am I doing anything offensive? https://gist.github.com/yuriks/8777775
[02:11:47] <bascule> chromatic: it gets you close to the bare metal
[02:12:37] <jdm> yuriks: what version of rustc?
[02:12:45] <yuriks> jdm: master
[02:12:47] <chromatic> You have an ASIC that understands HTTP?
[02:13:16] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[02:13:20] <bascule> chromatic: oh wait here we go https://twitter.com/izs/status/265929348735979520
[02:13:23] <jdm> yuriks: file an issue
[02:13:57] <yuriks> jdm: ok, I'll try to slim the testcase down
[02:14:02] <jdm> great, thanks
[02:14:27] <chromatic> bascule, cooperative multitasking was pretty bare metal in the '80s. On Mac System 8.
[02:14:52] <Denommus> chromatic: I remember someone saying in FreeNode that node scaled well because it privileged code written with callbacks, despite the absence of parallelism 
[02:15:23] <chromatic> Its culture encourages non-blocking libraries, which is a really big deal.
[02:15:42] <nszceta> do you guys know how to explicitly delete memory in golang? 
[02:15:58] <chromatic> But when someone says "It's close to the metal", I wonder what the words "close" and "metal" mean.
[02:16:07] <Denommus> nszceta: this is not a golang channel 
[02:16:15] <Ralith> it's pretty great to have an environment where people write code that is nonblocking by default
[02:16:18] <Ralith> even if it is javascript
[02:16:54] <bascule> chromatic: I <3 Evented TCL (wait no, no I don't)
[02:17:13] <montezuma> so seek for BufReader is implemented as fail!() in 0.9, is there an easy alternative?
[02:17:21] <bascule> Ralith: the problem is such systems will always be higher latency than ones which use synchronous system calls
[02:18:24] <newguy> when i create a process, one of the params is ProcessOptions, is there anyway to create an empty process options on the fly?
[02:18:29] <bstrie_boot> yuriks: hooray for ICE! :)
[02:18:31] <newguy> http://static.rust-lang.org/doc/master/std/run/struct.Process.html
[02:18:34] <Ralith> bascule: than ones which don't use javascript, I think you mean
[02:18:40] <yuriks> bstrie_boot: it's like easter!
[02:19:55] <o11c> Ralith: I agree, I try to write everything nonblocking even if I'm the only thread
[02:20:25] <Ralith> o11c: well if you genuinely don't have anything else to do, it's a lot of effort for no point
[02:20:37] <Ralith> but I'm always displaying a UI or managing multiple streams or something
[02:20:49] <Denommus> nszceta: I wouldn't try to use to use Go like it was meant to have manual memory management anyway 
[02:20:53] <Ralith> even the most braindead of command line programs is nicer with a progress bar
[02:20:56] <Ralith> and a spinner
[02:21:08] <nszceta> what if I have to
[02:21:09] *** Quits: victorporof (victorporo@53EBB099.7C27E871.79933D60.IP) (Quit: victorporof)
[02:21:11] <nszceta> what if i want to
[02:21:35] <Denommus> If you have to, maybe you should just consider D or C++
[02:21:47] <nszceta> hahahaha
[02:21:57] <Denommus> Or even Rust, if the project is experimental 
[02:22:16] <sam113101> well guys
[02:22:35] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[02:22:48] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving.)
[02:22:57] <nszceta> what major projects currently use Rust, if any
[02:23:10] <Earnestly> Servo?
[02:23:13] *** Quits: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP) (Quit: Leaving...)
[02:23:18] <jdm> correct
[02:23:37] *** Joins: aruniiird (aruniiird@28876D92.F24A7F1B.260B031E.IP)
[02:23:40] <Earnestly> I don't know if that "counts" for them, though
[02:23:43] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[02:24:04] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[02:24:06] *** Quits: Cork (Cork@456A2672.BA574D4D.BB9C2183.IP) (Ping timeout)
[02:24:36] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[02:24:38] <o11c> Ralith: that's the point - nobody ever knows what their code is going to be used for later
[02:24:56] <Earnestly> A good example would be `sh`
[02:25:35] <Ralith> o11c: oh, yes, if I'm writing reusable code then it'll have a completely async interface
[02:25:47] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[02:26:19] <Earnestly> Eventually converted to heavily macro abused C to make it look like Algol, the original language it was made in, Stephen Bourne never thought anyone would see his code heh.
[02:27:46] <Denommus> nszceta: Servo and Rust itself 
[02:27:53] <Ralith> o11c: that's one of my favorite features of the X11 API; it'll give you a fd
[02:27:53] <Earnestly> (Also freenode is dying, again.)
[02:27:55] <o11c> hm, somebody should write 'rush', a shell ...
[02:28:17] <herrwolfe45> this is a naive question: where would a good place be to look in the rustlang source to learn about the different pointer types? 
[02:28:29] <nszceta> dude that is an awesome idea
[02:28:32] <nszceta> `rush`
[02:28:33] <Earnestly> o11c: Already exists, Ruby
[02:28:34] <nszceta> I like it
[02:28:46] <Denommus> herrwolfe45: the manual 
[02:28:49] <sam113101> well guys
[02:28:52] <Earnestly> Also restricted shell
[02:29:09] <o11c> hmph
[02:29:15] <sam113101> you will be my freenode for tonight
[02:29:48] <nszceta> ??/
[02:29:54] <Earnestly> o11c: And `hell` for haskell's shell ;p
[02:29:55] <Denommus> herrwolfe45: ah, you asked about source. Sorry 
[02:30:03] <jxs> Denommus, herrwolfe45 but the manual has managed box stuff
[02:30:04] <yuriks> jdm: and my, it's a pretty short one
[02:30:41] <herrwolfe45> no problem Denommus
[02:31:06] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[02:31:37] *** Joins: TheHydroImpulse (androirc@moz-5951E5EE.wireless.telus.com)
[02:31:48] <Earnestly> o11c: fesh? ohsh?
[02:32:25] <ryeguy> how do i store closures in a struct? here is what i have: https://gist.github.com/rlepidi/4da0e3f9d7fb60ec307d
[02:32:31] <o11c> someday I would like to write a shell named 'fushia' just to mess with people who *do* know how to spelll
[02:32:46] <Earnestly> lol
[02:32:48] *** Joins: takuin_ (takuin@moz-21A5F23D.ks.ks.cox.net)
[02:33:18] <o11c> and write a text editor called seven
[02:33:49] <newguy> why is it that I'm not able to call close_input() on a process?
[02:33:49] <Earnestly> (This is what freenode looks like: "http://a.pomf.se/hvujzc.png")
[02:34:25] *** Quits: KindOne (KindOne@moz-C7A9A6E3.dynamic.ip.windstream.net) (Ping timeout)
[02:34:44] <newguy> Does anyone have experience with Process?
[02:35:35] <mcpherrin> newguy: it should work? what's wrong
[02:36:08] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[02:36:48] <newguy> mcpherrin: i get a compilation error: std::option::Option<std::run::Process>` does not implement any method in scope named `close_input`
[02:37:05] <Ralith> that's a very pastel client
[02:37:18] <yuriks> jdm: fn f<'a, T: Iterator<&'a int>>(arg_iter: &'a mut T) { arg_iter.next().unwrap().clone(); }
[02:37:23] <yuriks> jdm: how's that for a testcase? :D
[02:37:31] <newguy> mcpherrin: The process starts fine, but im not able to call any of the functions on it
[02:37:34] <mcpherrin> newguy: ah that's because you have an Option<Process>, not a Process
[02:37:42] <newguy> oh
[02:37:45] <newguy> so i unwrap first
[02:37:52] <mcpherrin> unwrap or expect or something, yes
[02:38:03] <jdm> yuriks: nice
[02:38:52] <mcpherrin> o11c: RUSH! I've been trying to think of what to call a rust shell, dunno why didn't occur to me
[02:39:01] <nszceta> rush must be epic
[02:39:31] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[02:39:40] <mcpherrin> hmm then I can be the only shell with a theme song
[02:39:44] <Denommus> ryeguy: I *think* you don't need the <'a> in the function definition. It is shadowing the one of the imll
[02:39:52] <Denommus> ryeguy: *impl
[02:40:49] <yuriks> jdm: filed here: https://github.com/mozilla/rust/issues/12008
[02:41:30] *** Joins: m_kato (m_kato@moz-C286AD9A.bitcat.net)
[02:42:40] *** Joins: jrupac (ajay@moz-BF77C4D6.nyc.res.rr.com)
[02:42:45] <newguy> why are there two processes? one in io and one in run
[02:43:15] *** Joins: KindOne (KindOne@moz-71106431.dynamic.ip.windstream.net)
[02:43:31] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[02:44:31] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[02:45:10] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[02:46:06] <ryeguy> Denommus: thanks, that was it!
[02:49:34] *** Quits: jrupac (ajay@moz-BF77C4D6.nyc.res.rr.com) (Ping timeout)
[02:49:41] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving.)
[02:50:19] <Earnestly> mcpherrin: Already exists
[02:50:43] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[02:50:45] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Ping timeout)
[02:51:20] *** Quits: gwty (gwtypc@6DB449F9.8B64350F.F64220F6.IP) (Ping timeout)
[02:51:31] <yuriks> bstrie_boot: btw, the hack with mut worked
[02:52:16] *** Quits: nszceta (hax@moz-72291802.hsd1.pa.comcast.net) (Input/output error)
[02:52:22] <yuriks> would be really good if you didn't have to babysit rustc like that though :/
[02:52:57] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[02:55:16] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[02:55:39] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[02:55:42] *** Quits: moostik (Icedove@moz-133D2136.w92-139.abo.wanadoo.fr) (Ping timeout)
[02:55:46] *** Joins: pongad (Mibbit@moz-7E8AAD2E.res.gatech.edu)
[02:56:01] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[02:56:35] *** Quits: newguy (Mibbit@moz-1C68F6E0.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[02:56:58] <pongad> The docs on Orderable traits says that the functions should be default implemented in Ord trait, should I just move them there?
[02:57:52] *** Quits: jdm (jdm@moz-4AA3652E.cable.virginm.net) (Quit: Lost terminal)
[03:02:36] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[03:03:55] *** Quits: jcmoyer (jc@moz-40035C19.sta.embarqhsd.net) (Connection reset by peer)
[03:05:47] *** Joins: ekwan (ekwan@moz-6635E2EF.hsd1.ca.comcast.net)
[03:06:02] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[03:07:11] <kvark> acrichto: ping
[03:07:15] *** Joins: Cork (Cork@moz-352B7E7B.a370.priv.bahnhof.se)
[03:09:17] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[03:09:24] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[03:09:54] <ChrisMorgan> pongad: yes. c.f. 6cc7107a, "This is a temporary trait until we have default methods."
[03:11:10] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[03:11:26] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[03:12:45] <pongad> ChrisMorgan: The default methods work now right?
[03:12:49] <ChrisMorgan> Yes.
[03:13:00] <pongad> OK, I'll do that can send a PR.
[03:13:17] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: brb)
[03:13:25] <pongad> Stumbled on it while trying to document std::num, seems docs will take a while :D
[03:14:31] *** Quits: derek_c (derek@moz-A44964B8.cit.cornell.edu) (Ping timeout)
[03:14:44] *** Quits: gregmalcolm (Mibbit@352765FB.2885C69F.ABAB1E7.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:16:05] *** Quits: ljrmorgan (Mibbit@77F344AF.6095F186.A0B21F13.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:16:06] *** Joins: jrupac (ajay@moz-BF77C4D6.nyc.res.rr.com)
[03:18:55] *** Quits: jrupac (ajay@moz-BF77C4D6.nyc.res.rr.com) (Ping timeout)
[03:20:18] *** Joins: dylukes (dylukes@moz-ED57011A.oakland.resnet.pitt.edu)
[03:22:28] *** Quits: blank_name (blank_name@75624DB1.E6D3F868.537E532E.IP) (Ping timeout)
[03:22:32] *** Joins: jrupac (ajay@moz-BF77C4D6.nyc.res.rr.com)
[03:22:34] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Connection reset by peer)
[03:22:43] *** Quits: sam113101 (sam113101@moz-83612DFD.us-west-2.compute.amazonaws.com) (Quit: ZNC - http://znc.in)
[03:23:14] *** Joins: sam113101_afk (sam113101@moz-83612DFD.us-west-2.compute.amazonaws.com)
[03:23:46] *** Quits: kimundi (kimundi@moz-19888B08.dip0.t-ipconnect.de) (Ping timeout)
[03:23:47] *** Quits: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net) (Quit: kellogh)
[03:24:05] <pongad> ChrisMorgan: Do you think `fn min(&self, other: &Self) -> Self` will work, it seems like we'll need clone to do that...
[03:24:19] *** Quits: jrupac (ajay@moz-BF77C4D6.nyc.res.rr.com) (Ping timeout)
[03:24:29] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[03:24:33] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[03:24:52] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[03:25:28] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[03:25:54] <ChrisMorgan> pongad: hmm. That or Pod (which is clearly not valid).
[03:25:55] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[03:26:15] *** Quits: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com) (Quit: http://www.mibbit.com ajax IRC Client)
[03:26:48] *** Joins: blank_name (blank_name@75624DB1.E6D3F868.537E532E.IP)
[03:26:49] *** Joins: kimundi (kimundi@moz-B1BB70A3.dip0.t-ipconnect.de)
[03:26:52] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: WeeChat 0.4.2)
[03:27:01] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[03:27:33] <pongad> This seems to be a harder problem than I thought! :D
[03:27:43] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[03:28:37] <ChrisMorgan> Requiring Clone is at best undesirable. Whether or not it is acceptable, I do not know.
[03:29:23] <o11c> pongad: fn minmax(self, other) -> (Self, Self)
[03:29:23] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[03:29:51] <o11c> or just return a &Self ...
[03:30:08] <pongad> o11c: I'm not quite sure how the -> (Self, Self) would fix it?
[03:30:34] <pongad> returning &Self sounds like a good option, though that might break a ton of stuff
[03:30:52] <pongad> Since we are now changing the interface
[03:31:15] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[03:31:31] *** sam113101_afk is now known as sam113101
[03:31:32] *** kimundi is now known as zz_kimundi
[03:31:53] * SiegeLord wishes these math functions would have a Result type
[03:31:55] <ChrisMorgan> Perhaps it should remain as it is until we can express refining trait implementations.
[03:32:02] <pongad> A part of me wants to keep things how it is and add a impl<A: Clone> Orderable for A
[03:32:05] <ChrisMorgan> SiegeLord: why?
[03:32:09] <SiegeLord> I'm pretty much resigned never to be able to do sin(my_matrix)
[03:32:34] <ChrisMorgan> pongad: you can't do that at present as it would clash with the implementations for other types.
[03:32:51] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[03:32:56] <pongad> ChrisMorgan: crud, you are right
[03:33:04] *** Joins: jrupac (ajay@moz-BF77C4D6.nyc.res.rr.com)
[03:33:07] <ChrisMorgan> (That's what I mean by refining trait implementations.)
[03:33:43] *** Joins: dmillerw (dylan@moz-587EA058.eugn.qwest.net)
[03:33:45] <SiegeLord> Maybe I should start my own num-rs, hehe
[03:33:54] <SiegeLord> A project for another day, I suppose
[03:34:18] <pongad> I would agree with you there. Will make a mental note for it.
[03:34:41] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[03:36:21] *** Joins: c74d (c74d@moz-E2EAC718.oc.oc.cox.net)
[03:37:21] *** Quits: Zor (alexrp@moz-B01F40E3.rev.stofanet.dk) (Ping timeout)
[03:37:37] *** Quits: a_m0d (a_m0d@moz-2F294D00.acanac.net) (Quit: Leaving.)
[03:38:22] *** zz_kimundi is now known as kimundi
[03:38:40] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[03:39:34] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[03:40:02] *** Quits: jrupac (ajay@moz-BF77C4D6.nyc.res.rr.com) (Ping timeout)
[03:41:48] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[03:42:03] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[03:42:03] *** Quits: rootnode (rootnode@moz-7FAB5E8.ip1.george24.com) (Ping timeout)
[03:43:07] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Connection reset by peer)
[03:43:19] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[03:43:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[03:44:05] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[03:44:24] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[03:45:02] *** Quits: chromatic (chromatic@moz-28CBC7F4.hsd1.or.comcast.net) (Quit: Leaving)
[03:45:02] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[03:45:05] *** Quits: herrwolfe45 (user@moz-3F0F09A7.cm.sunflower.com) (Quit: ERC Version 5.3 (IRC client for Emacs))
[03:45:39] *** Quits: ekwan (ekwan@moz-6635E2EF.hsd1.ca.comcast.net) (Input/output error)
[03:46:01] *** Quits: arrdem (arrdem@moz-2E1DB1F9.ece.utexas.edu) (Quit: leaving)
[03:46:05] *** Joins: arrdem (arrdem@moz-2E1DB1F9.ece.utexas.edu)
[03:46:34] *** Quits: pongad (Mibbit@moz-7E8AAD2E.res.gatech.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[03:47:10] *** Quits: Cork (Cork@moz-352B7E7B.a370.priv.bahnhof.se) (Ping timeout)
[03:48:27] *** Quits: arrdem (arrdem@moz-2E1DB1F9.ece.utexas.edu) (Quit: leaving)
[03:48:38] *** Joins: jrupac (ajay@moz-BF77C4D6.nyc.res.rr.com)
[03:49:16] *** Quits: sam113101 (sam113101@moz-83612DFD.us-west-2.compute.amazonaws.com) (Quit: ZNC - http://znc.in)
[03:49:46] *** Joins: sam113101_afk (sam113101@moz-83612DFD.us-west-2.compute.amazonaws.com)
[03:49:54] *** Joins: arrdem (arrdem@moz-2E1DB1F9.ece.utexas.edu)
[03:50:03] *** sam113101_afk is now known as sam113101
[03:50:20] *** Joins: Cork (Cork@moz-352B7E7B.a370.priv.bahnhof.se)
[03:50:29] *** Quits: arrdem (arrdem@moz-2E1DB1F9.ece.utexas.edu) (Quit: leaving)
[03:50:36] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[03:51:26] *** Quits: jrupac (ajay@moz-BF77C4D6.nyc.res.rr.com) (Ping timeout)
[03:51:36] *** Joins: claudiuc (claudiuc@moz-D5BFAAB5.hsd1.ca.comcast.net)
[03:51:39] *** Joins: arrdem (arrdem@moz-2E1DB1F9.ece.utexas.edu)
[03:51:52] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[03:52:05] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Quit: )
[03:52:45] <sam113101> test
[03:52:53] <cmr> sam113101: welcome :)
[03:53:09] <sam113101> is freenode back?
[03:53:42] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[03:53:48] *** Quits: arrdem (arrdem@moz-2E1DB1F9.ece.utexas.edu) (Quit: leaving)
[03:54:02] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[03:54:04] <geomyidae> Trying to wrap up my project, can anyone point me to a good packet encoding API?
[03:54:11] *** Joins: Zor (alexrp@moz-B01F40E3.rev.stofanet.dk)
[03:54:22] <geomyidae> I have all of the pieces, but I don't like the user API and want to clean it up but am kinda stuck from a design perspective
[03:54:30] <o11c> sam113101: last split that *I* saw was 20 minutes ago
[03:55:14] *** Quits: claudiuc (claudiuc@moz-D5BFAAB5.hsd1.ca.comcast.net) (Client exited)
[03:55:29] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[03:56:19] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[03:56:44] *** Joins: quux00 (uid24415@moz-E77DEB21.irccloud.com)
[03:59:24] <quux00> Rust newbie issue - why does this error message appear to be telling me that Writer is not a Trait? https://gist.github.com/quux00/8778642
[03:59:51] <cmr> quux00: U isn't a trait, not Writer
[04:00:04] <cmr> You can't have bounds like that in structs.
[04:00:19] <cmr> struct MyStruct<U> { w: Option<U> }
[04:00:31] <cmr> and then, for example, impl<U: Writer> MyStruct<U> { ... }
[04:00:41] <quux00> Hmm. Ok.
[04:01:00] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[04:01:18] <quux00> I don't want "MyStruct" to be a writer, I want it to point to a Writer that I attach to it.
[04:01:32] <cmr> MyStruct isn't a writer.
[04:01:57] <cmr> you'd need some form of impl Writer for MyStruct for it to be a Writer
[04:02:54] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[04:03:19] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[04:03:34] *** Quits: leafstorm (leafstorm@moz-F57A2464.rh.ncsu.edu) (Ping timeout)
[04:03:56] *** Joins: pyon (user@B454AC64.92B6FB33.1C8C8CE9.IP)
[04:06:07] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[04:06:29] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[04:07:43] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[04:07:59] *** Quits: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper_)
[04:08:02] *** Joins: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[04:10:04] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[04:10:30] *** Quits: Denommus (AndChat671@moz-E71FC99A.user.veloxzone.com.br) (Quit: Bye)
[04:10:41] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:10:55] *** Quits: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net) (Ping timeout)
[04:11:46] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[04:13:03] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[04:13:18] <quux00> OK. I'm back, here's the other way I've been trying to make this work today but I don't seem to know how to cast a File as a Writer: https://gist.github.com/quux00/8778734
[04:13:31] *** Joins: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net)
[04:14:33] <cmr> quux00: " can only cast an ~-pointer to a ~-object, not a struct std::io::fs::File"
[04:14:41] <cmr> So, `~file as ~Writer`
[04:14:53] <cmr> But, you can just write `~file` and it will coerce to a ~Writer automatically.
[04:15:34] <WebeWizard> helloooo
[04:15:43] <cmr> WebeWizard: aww you totally broke the streak
[04:15:47] <quux00> OK. That works.  Now I understand what that err msg means. Thanks!
[04:15:50] <cmr> you're supposed to say wizzaaaarrrrrrrrrrrd
[04:16:02] <cmr> :(
[04:16:03] <WebeWizard> cmr, lol! i'm surprised anyone noticed!
[04:16:32] *** Joins: JonCarlos (Jon@moz-CB5290F0.nwrknj.fios.verizon.net)
[04:17:11] <_achin> cmr: are those auto-coerce rules documented anywhere?
[04:17:13] <WebeWizard> it's from that old cell phone commercial where they summon a wizard from the side of their van
[04:17:16] <_achin> (and auto-borrow rules)
[04:17:25] <cmr> _achin: maybe in the manual..
[04:18:56] <WebeWizard> http://www.youtube.com/watch?v=LpCrj9Ysyjo
[04:19:00] <_achin> cmr: sadly, nope :(
[04:19:18] <montezuma> hey all, question: I'm want to write i32 values to a buffer using a BufWriter, and then calculate a checksum over the (now modified) buffer with buf.iter().fold(0, |x, &y| x + y)), but I'm hitting the 'cannot borrow x as immutable because it also borrowed as mutable' issue. Is there a nice solution for this?
[04:19:27] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:19:28] <cmr> WebeWizard: oh that one!
[04:19:36] <WebeWizard> Wiiizzaaarrrrd
[04:23:08] *** Joins: leafstorm (leafstorm@moz-F57A2464.rh.ncsu.edu)
[04:23:29] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[04:24:40] *** Quits: JonCarlos (Jon@moz-CB5290F0.nwrknj.fios.verizon.net) (Connection reset by peer)
[04:24:42] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[04:24:55] *** Quits: leafstorm (leafstorm@moz-F57A2464.rh.ncsu.edu) (Ping timeout)
[04:24:58] *** Joins: JonCarlos (Jon@moz-CB5290F0.nwrknj.fios.verizon.net)
[04:26:04] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[04:27:13] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[04:27:44] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[04:27:56] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[04:27:57] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[04:28:29] *** Joins: leafstorm (leafstorm@moz-F57A2464.rh.ncsu.edu)
[04:28:55] *** Quits: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP) (Quit: )
[04:29:30] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[04:29:47] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[04:30:01] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[04:31:30] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[04:31:48] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[04:32:40] *** Quits: leafstorm (leafstorm@moz-F57A2464.rh.ncsu.edu) (Ping timeout)
[04:33:57] *** Quits: kvanb (kvanb@moz-2D0996C9.lnse5.win.bigpond.net.au) (Quit: kvanb)
[04:34:02] *** Joins: kvanb (kvanb@moz-2D0996C9.lnse5.win.bigpond.net.au)
[04:34:22] *** Joins: leafstorm (leafstorm@moz-F57A2464.rh.ncsu.edu)
[04:34:24] *** Quits: kvanb (kvanb@moz-2D0996C9.lnse5.win.bigpond.net.au) (Quit: kvanb)
[04:34:49] *** Quits: JonCarlos (Jon@moz-CB5290F0.nwrknj.fios.verizon.net) (Connection reset by peer)
[04:34:56] <montezuma> ok, rephrasing, I want to construct a packet with a checksum, so is there anyway to make this logic work: let mut writer = BufWriter::new(buf); <write some data>; writer.write_u8(buf.iter().fold(0,  |x, &y| x + y)); without running into "cannot borrow `buf[]` as immutable because it is also borrowed as mutable"
[04:34:57] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[04:34:57] *** Joins: JonCarlos (Jon@moz-CB5290F0.nwrknj.fios.verizon.net)
[04:36:05] *** Quits: btipling (btipling@moz-D51E0AEB.xen.prgmr.com) (Quit: ZNC - http://znc.sourceforge.net)
[04:36:06] <cmr> montezuma: no, you can't use buf after you give it to BufWriter unless you do all the BufWriter stuff in an inner scope.
[04:36:11] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[04:36:23] *** Joins: kvanb (kvanb@moz-2D0996C9.lnse5.win.bigpond.net.au)
[04:36:42] <cmr> you'll see its example (http://static.rust-lang.org/doc/master/std/io/struct.BufWriter.html) does exactly this.
[04:37:20] *** Quits: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[04:37:41] *** Joins: btipling (btipling@moz-D51E0AEB.xen.prgmr.com)
[04:38:39] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Input/output error)
[04:38:44] <montezuma> ok thanks, I guess I'll just make multiple BufWriters in their own little scopes
[04:39:15] *** Quits: leafstorm (leafstorm@moz-F57A2464.rh.ncsu.edu) (Ping timeout)
[04:39:20] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[04:40:36] *** Quits: JonCarlos (Jon@moz-CB5290F0.nwrknj.fios.verizon.net) (Connection reset by peer)
[04:41:02] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[04:41:06] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[04:41:47] *** Joins: JonCarlos (Jon@moz-CB5290F0.nwrknj.fios.verizon.net)
[04:42:22] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[04:43:20] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[04:45:02] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[04:45:02] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[04:46:36] *** Joins: onelson (owen@18CF7301.95770028.5B6BFE7D.IP)
[04:51:10] *** Joins: ab (alex@BC9D99CC.37C1012D.FE617B51.IP)
[04:51:28] *** Quits: tcreate (tcreate@moz-90E5C923.hsd1.ma.comcast.net) (Client exited)
[04:53:48] *** Joins: tcreate (tcreate@moz-90E5C923.hsd1.ma.comcast.net)
[04:54:08] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Ping timeout)
[04:56:28] *** Joins: derek_c (derek@moz-A44964B8.cit.cornell.edu)
[04:57:15] *** Quits: dylukes (dylukes@moz-ED57011A.oakland.resnet.pitt.edu) (Quit: Textual IRC Client: www.textualapp.com)
[04:59:09] <WebeWizard> do you have any favorite tools for viewing/editing binaries as hex?
[04:59:32] <cmr> WebeWizard: vbindiff can be useful.
[04:59:32] <WebeWizard> ghex seems to be google's answer
[05:00:29] *** Quits: NewFolder (adamle@moz-38947329.dedicated.allstream.net) (Connection reset by peer)
[05:01:22] *** Joins: NewFolder (adamle@moz-38947329.dedicated.allstream.net)
[05:03:19] <WebeWizard> i'll check it out. thanks
[05:04:26] *** Quits: TheHydroImpulse (androirc@moz-5951E5EE.wireless.telus.com) (Client exited)
[05:07:03] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[05:07:26] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Client exited)
[05:07:29] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[05:07:31] *** Quits: aruniiird (aruniiird@28876D92.F24A7F1B.260B031E.IP) (Ping timeout)
[05:08:42] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[05:10:07] *** Joins: leafstorm (leafstorm@moz-F57A2464.rh.ncsu.edu)
[05:10:27] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[05:10:49] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[05:10:55] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[05:10:59] *** Joins: mindcat (mindcat@926CFB1F.DC005319.857BDFA9.IP)
[05:11:52] *** Quits: mindcat (mindcat@926CFB1F.DC005319.857BDFA9.IP) (Quit: leaving)
[05:11:55] *** Joins: mindcat (mindcat@926CFB1F.DC005319.857BDFA9.IP)
[05:12:34] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[05:13:34] *** Quits: mindcat (mindcat@926CFB1F.DC005319.857BDFA9.IP) (Quit: leaving)
[05:14:08] *** Joins: mindcat (mindcat@926CFB1F.DC005319.857BDFA9.IP)
[05:17:33] <dmillerw> "error: `use` and `extern mod` declarations must precede items
[05:17:33] <dmillerw> "?
[05:18:07] *** Quits: mindcat (mindcat@926CFB1F.DC005319.857BDFA9.IP) (Quit: Lost terminal)
[05:18:14] <yuriks> dmillerw: exactly what it says there, "use" and "extern mod" declarations must be the first things in the file
[05:18:16] <cmr> dmillerw: yes, put all use and extern mod before structs, statics, etc.
[05:18:29] <dmillerw> which I'm doing
[05:18:52] <dmillerw> one sec
[05:19:05] <dmillerw> http://i.imgur.com/Lw9hv5L.png
[05:19:06] <dmillerw> right?
[05:19:22] <cmr> nope
[05:19:25] <cmr> mod after use
[05:20:05] <dmillerw> now I'm just getting unresolved imports with the use line, Swapped it with the mod line
[05:20:24] <cmr> Good, progress! use window::Window, perhaps?
[05:20:44] <dmillerw> tried that
[05:21:13] *** Quits: Earnestly (earnest@811A97A3.CF19AA69.5411983D.IP) (Ping timeout)
[05:21:14] <dmillerw> window.rs http://i.imgur.com/fPlPExa.png
[05:21:38] <yuriks> dmillerw: take out the `pub mod window {}`
[05:21:56] <yuriks> the file window.rs already creates an implicit module
[05:22:14] <cmr> well, that's not entirely true, doing `mod window;` is what creates the module.
[05:22:19] <yuriks> what you have there is class window::window::Window
[05:22:29] <yuriks> cmr: right
[05:22:38] <cmr> but for all intensive porpoises that's good enough
[05:23:23] <dmillerw> not really... :? http://i.imgur.com/SX0n9OJ.png
[05:23:29] <mcpherrin> yes all those intensive porpoises
[05:23:54] <SiegeLord> I had a double wince
[05:24:08] <yuriks> mcpherrin: sounds french.
[05:24:09] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Client exited)
[05:24:25] <yuriks> dmillerw: how do both files look like?
[05:24:28] <mcpherrin> yuriks: it really doesn't :-P
[05:24:46] <mcpherrin> Does anyone know how to adjust the screen size on a VT320?
[05:24:47] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[05:24:55] <mcpherrin> Dunno if you even can
[05:25:02] <yuriks> mcpherrin: I need to revise my french language stereotypes :o
[05:25:11] *** Quits: new_one (new_one@6F9548B7.4BFECEA2.B3C0173E.IP) (Quit: leaving)
[05:25:12] <dmillerw> yuriks, https://gist.github.com/dmillerw/0d463fc90cd01eedff73
[05:25:35] <mcpherrin> Well I know quebecois french so it's not quite the same as what the rest of the world thinks is french :p
[05:25:38] <cmr> dmillerw: ah you're trying to call initialize like it were a static method
[05:25:55] <cmr> dmillerw: remove the &self from `fn initialize`
[05:26:04] <dmillerw> ahhh
[05:26:18] <dmillerw> in retrospect, obvious :P
[05:26:21] <cmr> "static method", also known more accurately as an associated function
[05:26:52] <dmillerw> however, still erroring out
[05:26:56] <yuriks> dmillerw: btw, what #[start] does is replace the program entry point, in this case to ensure that you're initializing the native runtimes instead of the green one
[05:27:07] <yuriks> native runtime*
[05:27:28] <dmillerw> I figured as much
[05:27:31] <yuriks> if you just use main the runtime is already initialized for you and that's not what you want in this case
[05:27:56] <cmr> yuriks: with a #[start] main isn't used afaik?
[05:28:37] <dmillerw> I *think* it's still complaining about not finding window at all
[05:28:52] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Quit: Leaving)
[05:29:03] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[05:29:26] <yuriks> cmr: it isn't, I was talking about what happens when you *don't* use #[start]
[05:29:32] <cmr> ah
[05:29:34] <cmr> ok
[05:30:05] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[05:30:10] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[05:30:58] *** Quits: kvanb (kvanb@moz-2D0996C9.lnse5.win.bigpond.net.au) (Quit: kvanb)
[05:31:05] *** Joins: kvanb (kvanb@moz-2D0996C9.lnse5.win.bigpond.net.au)
[05:31:49] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[05:33:14] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[05:33:45] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[05:34:27] <dmillerw> ohhhhhh
[05:34:32] <dmillerw> I know where I messed up
[05:34:34] <dmillerw> I think
[05:35:31] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[05:36:49] *** Joins: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[05:40:05] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[05:41:48] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[05:43:20] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[05:44:18] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[05:44:30] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[05:45:05] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[05:45:16] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[05:45:56] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: brb)
[05:47:42] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[05:48:01] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[05:50:50] *** Quits: Seb (Seb@moz-97344273.actrix.co.nz) (Connection reset by peer)
[05:51:00] <dmillerw> Is there a simple way to get an integer from a string?
[05:51:33] <pyon> dmillerw: What language?
[05:51:40] <mcpherrin> dmillerw: impl FromStr for int
[05:51:48] <pyon> dmillerw: Oh, dang, wrong channel.
[05:52:09] <mcpherrin> rusti: std::int::from_str("3")
[05:52:22] * pyon thought this was ##programming from Freenode, my bad!
[05:52:34] <mcpherrin> pyon: pfft, freenode isn't even working today :)
[05:52:58] <mcpherrin> dmillerw: or something like that anyways
[05:53:04] <ChrisMorgan> from_str("3")
[05:53:31] *** Parts: pyon (user@B454AC64.92B6FB33.1C8C8CE9.IP) (ERC Version 5.3 (IRC client for Emacs))
[05:53:34] <dmillerw> error: unresolved name `std::int::from_str` O_o
[05:53:35] *** Joins: pyon (user@B454AC64.92B6FB33.1C8C8CE9.IP)
[05:53:48] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[05:54:19] <Yurume> dmillerw: just `from_str`, which is imported by default.
[05:54:56] *** Joins: beifeng (Mibbit@284C36E7.3062CEC3.670EEFD.IP)
[05:55:07] <dmillerw> has there been consideration of a stupid questions page? :P
[05:55:11] <dmillerw> I can provide many
[05:55:17] <Yurume> e.g. let x: uint = from_str("34").unwrap(); // you need to specify the type here; unwrap() indicates the program will cause a runtime error on parsing failure
[05:55:33] <Yurume> I think "cheatsheets" are for those, but not sure how to organize them
[05:55:39] <mcpherrin> dmillerw: there's a "rust examples" wiki page
[05:56:15] <Yurume> https://github.com/mozilla/rust/wiki/Doc-examples
[05:56:31] <dmillerw> oooh, very nice
[05:56:35] <mcpherrin> This is one thing StackOverflow QA style is nice for, but there's a problem of rot since they can't easily be updated
[05:56:56] <Yurume> https://stackoverflow.com/questions/tagged/rust actually there are plenty.
[05:57:18] <Yurume> but yeah, it will rot
[05:57:26] <mcpherrin> lots of SO questions that are appropriate for some random version of the language between 0.3 and now :)
[05:58:57] <phil> ChrisMorgan: have you moved on from ncurses-rs yet or are you still interested
[05:59:26] <ChrisMorgan> phil: it was for a particular, brief assignment that I was using it. I don't have any especial need for it just at present.
[05:59:37] <phil> ah
[06:00:03] <ChrisMorgan> (Says something about the state of Rust that when I wanted a GUI I settled for ncurses! :P)
[06:00:11] <phil> well, sorry i couldnt help on time!
[06:00:17] <phil> haha
[06:00:56] <Yurume> should this be included in the examples page: https://gist.github.com/Skrylar/8142997
[06:03:07] <ChrisMorgan> phil: don't worry; it didn't *need* mouse support; keyboard was OK.
[06:07:37] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[06:08:06] <phil> ah
[06:08:08] <phil> cool
[06:09:50] *** Joins: benjamin_ (benjamin@moz-5E97ECD4.dip0.t-ipconnect.de)
[06:11:32] *** Joins: aruniiird (aruniiird@92D70115.B332A52C.E3D0A897.IP)
[06:11:33] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[06:11:38] *** Quits: sam113101 (sam113101@moz-83612DFD.us-west-2.compute.amazonaws.com) (Quit: ZNC - http://znc.in)
[06:13:14] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[06:14:03] *** Quits: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP) (Ping timeout)
[06:16:11] <dmillerw> error: cannot capture variable of type `&window::Window`, which does not fulfill `Send`, in a bounded closure | Can someone put that in laymans terms for me? Happens when I try and create a new glfw window
[06:16:21] *** Joins: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP)
[06:16:39] <ChrisMorgan> dmillerw: &-references cannot fulfil Send; they cannot be moved across tasks.
[06:17:22] *** Joins: arrdem (arrdem@moz-2E1DB1F9.ece.utexas.edu)
[06:18:11] *** Quits: arrdem (arrdem@moz-2E1DB1F9.ece.utexas.edu) (Quit: leaving)
[06:18:18] <dmillerw> is what I'm trying to do not possible then? I have init code being run from an instance of a struct, which opens a glfw window
[06:18:53] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[06:19:02] <dmillerw> I can't do that statically, can I
[06:19:14] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[06:19:22] * ChrisMorgan isn't familiar with glfw
[06:19:50] *** Joins: sam113101_afk (sam113101@moz-83612DFD.us-west-2.compute.amazonaws.com)
[06:19:57] *** sam113101_afk is now known as sam113101
[06:20:01] <ChrisMorgan> dmillerw: I've heard that #rust-gamedev (I think that's the channel) gives better dedicated GL et al. help. You may be more likely to be noticed there than here.
[06:20:21] <dmillerw> I've been switching between both, figured this was a more rust'y question, but fair point
[06:20:29] <ChrisMorgan> Okey dokey.
[06:20:50] <ChrisMorgan> RFC: change TcpStream::connect(SocketAddr) -> Option<TcpStream> to an implementation of a new Connect (or some such name) trait. It'd still only be relevant for TCP but it would make abstractions like SSL easier to use.
[06:21:19] *** Quits: valenting (Thunderbir@moz-9EE97ADC.xdsl.toledo.be) (Ping timeout)
[06:21:35] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[06:22:45] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Ping timeout)
[06:23:24] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Quit: Leaving)
[06:23:39] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[06:24:15] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[06:28:53] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[06:29:04] *** Quits: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP) (Connection reset by peer)
[06:29:17] *** Joins: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net)
[06:30:09] *** Quits: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net) (Input/output error)
[06:30:24] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[06:30:29] *** Joins: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net)
[06:30:37] *** Quits: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net) (Input/output error)
[06:31:29] *** Joins: claudiu (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP)
[06:31:48] *** Parts: ekiara (emk@moz-9B1940E9.tech.co.ke) ()
[06:32:01] *** Joins: ekiara (emk@moz-9B1940E9.tech.co.ke)
[06:32:08] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[06:32:39] *** Quits: Kxepal (Miranda@moz-1A176845.pppoe.mtu-net.ru) (Quit: Kxepal)
[06:32:55] *** Joins: Kxepal (Miranda@moz-1A176845.pppoe.mtu-net.ru)
[06:33:53] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[06:35:03] *** Quits: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP) (Ping timeout)
[06:35:13] *** Quits: heftig (heftig@moz-EC7CAF60.dip0.t-ipconnect.de) (Quit: Quitting)
[06:35:24] *** Joins: fabiand (fabiand@moz-6FA00DF4.adsl.alicedsl.de)
[06:35:45] *** Joins: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP)
[06:35:48] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[06:40:43] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[06:40:50] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[06:42:10] *** Quits: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP) (Ping timeout)
[06:42:31] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[06:42:59] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[06:43:08] *** Joins: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP)
[06:43:20] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[06:44:31] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[06:44:37] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[06:45:02] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[06:47:01] *** Quits: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw) (Quit: leaving)
[06:47:06] *** Joins: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw)
[06:48:16] <Yurume> after reading http://blog.regehr.org/archives/1091: is it possible to make the $expr expansion unable to modify the environment (i.e. can only call `&self` methods)? I think it is impossible currently since we don't have something like Fn (|| is like FnMut, proc() is like FnOnce).
[06:48:26] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[06:50:21] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[06:50:27] *** Quits: derek_c (derek@moz-A44964B8.cit.cornell.edu) (Quit: Leaving)
[06:50:40] <mcpherrin> Yurume: Interesting idea
[06:50:54] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[06:51:29] <Yurume> mcpherrin: we are already semi-disallowing consuming methods (since it will trigger borrowck in most cases), but it does not solve the mutable environments
[06:52:22] <mcpherrin> I am too sleepy to think too hard about whether or not it could be made to work
[06:52:29] *** Quits: canhtak (canhtak@moz-945C7B49.wl.t.ulaval.ca) (Quit: canhtak)
[06:52:52] <mcpherrin> You could certainly write a lint that would warn
[06:53:10] <mcpherrin> at least in some cases
[06:56:01] *** Quits: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP) (Ping timeout)
[06:58:15] *** Quits: dbussink (dbussink@moz-E0A5568C.bussink.me) (Quit: bye)
[06:59:02] <dmillerw> structs are mutable if the variable it's assigned to is mutable, right?
[06:59:09] <dmillerw> values inside the structs rather
[06:59:44] <ChrisMorgan> If it is placed in a mutable slot, yes.
[07:00:10] <dmillerw> ehh, simpler english? :P
[07:00:56] <WebeWizard> if a struct is mutable, then so are its variables
[07:01:10] <dmillerw> that's what I thought
[07:01:34] <dmillerw> however, I seem to be unable to change any of its variables, despite being mutable. Still errors out as being immutable
[07:01:41] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[07:02:06] <Yurume> dmillerw: are you updating the variable from the closure, for example?
[07:02:22] <Yurume> or procedures
[07:02:40] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[07:02:49] *** Quits: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca) (Quit: Leaving.)
[07:03:08] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[07:03:48] *** Joins: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP)
[07:04:10] *** Quits: dmillerw (dylan@moz-587EA058.eugn.qwest.net) (Ping timeout)
[07:05:40] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:06:03] *** Joins: pilf (pilf@44BF5D7D.B6A69891.5411983D.IP)
[07:06:31] *** Quits: pilf (pilf@44BF5D7D.B6A69891.5411983D.IP) (Quit: pilf)
[07:07:05] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[07:07:15] *** Joins: jcmoyer (jc@moz-40035C19.sta.embarqhsd.net)
[07:12:17] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[07:13:39] *** Joins: aurynj (Eon@229E820E.2FF0655C.ABDF2D9D.IP)
[07:13:58] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[07:14:31] *** Quits: aurynj (Eon@229E820E.2FF0655C.ABDF2D9D.IP) (Connection reset by peer)
[07:14:44] *** flaper87|afk is now known as flaper87
[07:15:29] *** Joins: dmac (dmac@moz-94F55C3.hfc.comcastbusiness.net)
[07:19:41] *** Joins: jroweboy (Mibbit@moz-18814A6B.provo.static.broadweavenetworks.net)
[07:20:47] *** Joins: victorporof (victorporo@53EBB099.7C27E871.79933D60.IP)
[07:22:21] *** Joins: StarLight (StarLight@moz-7BB7DD14.dynamic.avangarddsl.ru)
[07:23:50] *** Quits: FreeFull (freefull@moz-272EA536.as13285.net) (Quit: )
[07:24:08] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[07:24:38] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[07:25:09] *** Quits: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP) (Ping timeout)
[07:25:34] *** Joins: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP)
[07:28:15] *** Joins: dbussink (dbussink@moz-E0A5568C.bussink.me)
[07:30:34] *** Quits: dbussink (dbussink@moz-E0A5568C.bussink.me) (Quit: bye)
[07:30:44] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[07:31:16] *** Joins: dbussink (dbussink@moz-E0A5568C.bussink.me)
[07:32:28] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[07:32:31] *** Joins: daschl (Adium@1003EE9C.E815CABE.77D54CE0.IP)
[07:33:06] *** Joins: Ferreus (ferreus@moz-9620B86D.dip0.t-ipconnect.de)
[07:33:54] *** Quits: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper_)
[07:33:57] *** Quits: Matrixiumn (zack@moz-1B22AAE2.net) (Client exited)
[07:35:00] *** Joins: squiddy (squiddy@moz-38E516B.adsl.alicedsl.de)
[07:35:45] *** Quits: montezuma (Mibbit@moz-AE55F4BE.cat.csiro.au) (Quit: http://www.mibbit.com ajax IRC Client)
[07:37:04] *** Joins: doener (doener@moz-C68F600D.unity-media.net)
[07:37:36] *** Quits: Cork (Cork@moz-352B7E7B.a370.priv.bahnhof.se) (Quit: .)
[07:38:07] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[07:38:28] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[07:38:57] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[07:39:50] *** Joins: Cork (Cork@moz-352B7E7B.a370.priv.bahnhof.se)
[07:40:29] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[07:41:24] *** Joins: jackneill (jackneill@moz-B529C2E7.pool.digikabel.hu)
[07:42:49] *** Joins: andrew-d_w (andrew-d_w@4CCE6E0C.339B431B.1E537B93.IP)
[07:42:51] *** Quits: andrew-d_w (andrew-d_w@4CCE6E0C.339B431B.1E537B93.IP) (Input/output error)
[07:43:14] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[07:43:20] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[07:43:23] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[07:45:04] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[07:45:04] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[07:46:27] *** Joins: Heather (Heather@19663F6.F53BAACC.9C17E900.IP)
[07:46:39] <Heather> how to make for on iter() with index?
[07:46:50] <Yurume> Heather: iter().enumerate()
[07:47:16] <Yurume> let v = [1,2,3,4]; for (i,&x) in v.iter().enumerate() { ... }
[07:47:18] <Heather> Yurume hm... for (i,x) in ?
[07:47:25] <Heather> aha....
[07:47:28] <Heather> thanks
[07:47:28] <pyon> So, enumerate() chains the iterator with an infinite iterator 0,1,2,3...?
[07:47:31] <pyon> s/chains/zips/
[07:47:34] <Yurume> sorta.
[07:47:43] <Yurume> there is also a zipping iterator adaptor
[07:47:47] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[07:47:57] <Yurume> http://static.rust-lang.org/doc/master/std/iter/trait.Iterator.html#method.zip
[07:51:04] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[07:51:16] *** Joins: oal (oal@26029749.1D466084.2CFD4520.IP)
[07:51:16] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[07:51:34] *** Joins: dbaupp (Thunderbir@moz-25BBAF91.lns20.syd6.internode.on.net)
[07:51:50] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[07:52:03] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[07:53:37] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[07:54:37] *** Quits: daschl (Adium@1003EE9C.E815CABE.77D54CE0.IP) (Quit: Leaving.)
[07:54:41] *** Joins: daschl (Adium@1003EE9C.E815CABE.77D54CE0.IP)
[07:54:54] *** Parts: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) ()
[07:55:49] *** Joins: Armavica (virgile@moz-AD428ED7.ens.fr)
[07:56:02] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[07:56:39] *** Quits: beifeng (Mibbit@284C36E7.3062CEC3.670EEFD.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:56:51] *** Joins: beifeng (Mibbit@284C36E7.3062CEC3.670EEFD.IP)
[07:57:21] *** Quits: Cork (Cork@moz-352B7E7B.a370.priv.bahnhof.se) (Quit: .)
[07:59:09] *** Joins: eddyb (eddy@832D2DE5.66315F97.FB866788.IP)
[08:00:44] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[08:00:44] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[08:01:14] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[08:01:58] *** Joins: Cork (Cork@moz-352B7E7B.a370.priv.bahnhof.se)
[08:02:58] *** Quits: aruniiird (aruniiird@92D70115.B332A52C.E3D0A897.IP) (Ping timeout)
[08:02:58] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[08:03:03] *** Joins: marianoguerra (marianogue@moz-40C4E57D.dip0.t-ipconnect.de)
[08:04:52] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[08:05:12] *** Joins: aruniiird (aruniiird@92D70115.B332A52C.E3D0A897.IP)
[08:05:16] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[08:05:56] *** Joins: pilf (pilf@8FA95888.1A994CBC.4B228AD7.IP)
[08:07:31] *** Quits: dmac (dmac@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving)
[08:09:38] *** Quits: jroweboy (Mibbit@moz-18814A6B.provo.static.broadweavenetworks.net) (Quit: http://www.mibbit.com ajax IRC Client)
[08:09:53] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[08:11:22] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[08:11:40] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[08:13:13] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[08:15:02] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[08:17:39] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[08:19:22] *** Quits: diverse (diverse@moz-ED94B8D.oc.oc.cox.net) (Quit: WeeChat 0.4.2)
[08:21:30] *** Quits: daschl (Adium@1003EE9C.E815CABE.77D54CE0.IP) (Quit: Leaving.)
[08:21:57] <Heather> who is MelvinK
[08:24:06] *** Joins: heftig (heftig@moz-D746319F.unitymedia.biz)
[08:24:10] *** Quits: tcreate (tcreate@moz-90E5C923.hsd1.ma.comcast.net) (Client exited)
[08:24:12] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[08:25:44] <mcpherrin> Hmm I'm unable to write the angle bracket characters on this terminal
[08:25:49] <mcpherrin> writing rust without them is a bit of a pain
[08:25:51] <mcpherrin> :-)
[08:26:39] <mcpherrin> ><>< oh, just a keyboard setting that exists for reasons unknown to me
[08:28:10] *** Joins: io2 (io2@moz-7C3DDBE8.home.otenet.gr)
[08:28:39] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[08:28:47] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: Textual IRC Client: www.textualapp.com)
[08:30:58] *** Joins: valenting (Thunderbir@BAD46105.79F22E23.A99782C1.IP)
[08:35:22] <csherratt> has anyone made precompiled osx binaries?
[08:39:26] *** Joins: ecl3ctic (Mibbit@moz-E1FAD64C.wzfv1.vic.bigpond.net.au)
[08:40:19] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[08:41:54] *** Quits: Kxepal (Miranda@moz-1A176845.pppoe.mtu-net.ru) (Quit: Kxepal)
[08:42:10] *** Joins: Kxepal (Miranda@moz-1A176845.pppoe.mtu-net.ru)
[08:43:19] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[08:44:02] *** Quits: io2 (io2@moz-7C3DDBE8.home.otenet.gr) (Quit: )
[08:44:09] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[08:45:01] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[08:45:26] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[08:45:53] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[08:46:35] *** Quits: valenting (Thunderbir@BAD46105.79F22E23.A99782C1.IP) (Quit: valenting)
[08:48:45] *** pmoore|away is now known as pmoore
[08:52:43] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[08:53:38] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[08:54:00] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[08:54:31] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[08:55:11] *** Joins: jensnock_ (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[08:56:18] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[08:56:53] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[08:57:55] *** Joins: daschl (Adium@1003EE9C.E815CABE.77D54CE0.IP)
[09:01:33] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[09:03:14] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[09:03:53] *** Quits: daschl (Adium@1003EE9C.E815CABE.77D54CE0.IP) (Quit: Leaving.)
[09:08:46] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[09:08:52] *** Quits: mmalecki (maciej@DE8E8A22.9EBA3CD1.D6573861.IP) (Quit: leaving)
[09:09:04] *** Joins: mmalecki (maciej@DE8E8A22.9EBA3CD1.D6573861.IP)
[09:09:15] <sp3d> how does one dynamically link a binary these days?
[09:11:06] *** Joins: Rui (rui@4D445C86.DB45EDBA.4F142960.IP)
[09:12:23] <Yurume> sp3d: --dylib
[09:12:39] <Yurume> oh wait, did you mean something like dlopen etc.?
[09:13:39] *** Quits: ekiara (emk@moz-9B1940E9.tech.co.ke) (Quit: leaving)
[09:13:44] *** Joins: ekiara (emk@moz-9B1940E9.tech.co.ke)
[09:13:48] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[09:14:09] *** Joins: andrew-__ (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[09:14:35] *** Quits: onelson (owen@18CF7301.95770028.5B6BFE7D.IP) (Ping timeout)
[09:15:03] <sp3d> Yurume: dylib is only for libs afaik
[09:15:08] *** Quits: Rui (rui@4D445C86.DB45EDBA.4F142960.IP) (Quit: )
[09:15:18] <Yurume> I don't really understand your question then
[09:15:29] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[09:15:31] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[09:15:33] <sp3d> I'd like an executable that isn't statically linked
[09:15:41] *** Joins: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP)
[09:16:16] <sp3d> if I pass --dylib, rustc warns that my main isn't reached and produces a .so
[09:16:26] *** Quits: takuin_ (takuin@moz-21A5F23D.ks.ks.cox.net) (Client exited)
[09:18:03] <Yurume> sp3d: so you want to have `foo` (executable) and `libstd-*.so` etc. separately, right?
[09:18:15] <sp3d> right
[09:18:17] <Yurume> use `-Z prefer-dynamic` then.
[09:18:26] <sp3d> thanks! <3
[09:18:57] *** Joins: aklt (aklt@83B8238.6BE5A349.B330AC0A.IP)
[09:19:02] <Yurume> note that if you've built other dependencies yourself, you should make sure that those dependencies are built as dylib
[09:19:17] <sp3d> yeah
[09:19:27] <Yurume> since that option only "prefers" dynamic and will use a static lib when the dynamic lib is absent
[09:19:33] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[09:24:18] *** Joins: nooblit (Mibbit@moz-CBA73F0A.dhcp.ftwo.tx.charter.com)
[09:24:33] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[09:25:12] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[09:25:22] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[09:27:39] <nooblit> Ok, I don't know any programming langs, Rust doesn't have beginner tutorial right now, so I choose to start learning C++. The problem is, I read allot of forms and allot of c++ people where talking about most of the books teach c++ like its c with classes and bad habits. Where can I learn C++11 the correct way not C like??
[09:28:34] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[09:28:34] *** Joins: bjz_ (bjz@B398BE78.F804C29E.D35A31DF.IP)
[09:28:44] <nooblit> Here is a quote http://pastebin.com/KQ3JLSW7
[09:29:00] *** Quits: mmalecki (maciej@DE8E8A22.9EBA3CD1.D6573861.IP) (Quit: leaving)
[09:29:00] <nooblit> Could someone advise me on this?
[09:29:02] *** Joins: mmalecki (maciej@DE8E8A22.9EBA3CD1.D6573861.IP)
[09:29:29] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[09:29:31] <FliPPeh> It's true
[09:29:55] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[09:30:08] <FliPPeh> Modern C++ from Scott Meyers is apparently a very good read
[09:30:16] <nooblit> Well, I mean, does anyone know a resource that teaches C++ not C with classes
[09:30:20] <nooblit> Meyers?
[09:30:23] <FliPPeh> I hear he's also writing an updated version for C++11
[09:31:03] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Client exited)
[09:31:10] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[09:31:25] <nooblit> So he teaches smart pointers and RAII and that kinda stuff?
[09:31:27] <FliPPeh> Also Effective C++
[09:31:32] <FliPPeh> Also by Scott Meyers
[09:31:35] *** Quits: aruniiird (aruniiird@92D70115.B332A52C.E3D0A897.IP) (Ping timeout)
[09:32:09] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[09:32:31] <nooblit> I just don't want to learn C first, I only want to learn C++, because I don't want to confuse or mix the two when trying to do c++
[09:33:01] <nooblit> I'll checkout Meyers
[09:33:11] <FliPPeh> http://www.artima.com/cppsource/top_cpp_books.html
[09:33:17] <FliPPeh> Article from... Scott Meyers
[09:33:25] <FliPPeh> He's everywhere in C++-land
[09:33:52] <FliPPeh> But he knows what he's talking and writing about
[09:33:55] *** Joins: moostik (Icedove@moz-133D2136.w92-139.abo.wanadoo.fr)
[09:35:02] *** Joins: tcreate (tcreate@moz-90E5C923.hsd1.ma.comcast.net)
[09:35:37] <nooblit> Is it true that most of the time, I should be using smart pointers and RAII and if someone talks about memory management being hard they are doing it wrong? They said you should only need to do it sparsely and most of the time should smart pointers?
[09:35:48] <FliPPeh> Yes
[09:35:56] <FliPPeh> This is the philosophy rust also applies
[09:36:27] <nooblit> They also said people shouldn't use char or void or something that is taught wrong?
[09:36:38] <FliPPeh> Every time you see a raw pointer in your C++ program you should think about whether or not it maybe would be better to wrap that up in a unique_ptr or shared_ptr
[09:36:47] *** Quits: tcreate (tcreate@moz-90E5C923.hsd1.ma.comcast.net) (Ping timeout)
[09:36:47] <nooblit> use vector and unique ptr?
[09:36:54] <FliPPeh> Depends
[09:36:59] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Client exited)
[09:37:30] <FliPPeh> void pointers have their place, but it's very rare in C++
[09:37:55] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[09:37:56] <nooblit> So people should not start out teaching me something that I take is rare in C++
[09:38:20] <FliPPeh> Especially the rare things.
[09:38:34] <nooblit> I guess it's hard to pick a teacher on a subject that there is so much confusion out there on lol
[09:38:45] <nooblit> At least for new people.
[09:39:12] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[09:39:27] <FliPPeh> C++ is big and complicated, there are many rights and many wrongs and many opinions both valid and invalid
[09:39:54] <FliPPeh> You should know all there is to know and then figure out what is the best thing to do
[09:40:11] <nooblit> Well, I'd like to embrace and learn C++ in a way that is not C like, if I wanted to learn C, I'd learn that.
[09:40:18] <FliPPeh> You can't stay ignorant about bad practices
[09:40:26] <FliPPeh> Because you can't avoid things you don't know
[09:40:38] <FliPPeh> And C is an integral part of C++
[09:41:04] <nooblit> C is a rare way of doing things in C++ correct?
[09:41:31] <FliPPeh> Yes, for almost anything you do in C there is a C++ way that's better in doing the same ting
[09:41:52] <nooblit> I'd like to learn the C++ way first, maybe C later.
[09:42:02] <nooblit> Meyers teaches this?
[09:42:29] <FliPPeh> Pretty much
[09:43:04] <nooblit> Well, Do you think I should wait for his C++11 version book?
[09:43:20] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[09:43:22] <FliPPeh> Although because C++ is based on C, and even though both languages have grown apart from each other over the decades, knowing both is still important in my opinion
[09:43:35] <FliPPeh> Nah, it can take a while
[09:43:46] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[09:43:49] <FliPPeh> C++11 just adds a few things
[09:44:00] <FliPPeh> RAII and other important things have been in use for years
[09:44:19] <FliPPeh> Most of the things C++11 added have also been used for years in third party libraries like boost
[09:44:34] <FliPPeh> So you can just translate your knowledge over
[09:44:48] <FliPPeh> The most important thing is knowing about what to do and what not to do
[09:45:02] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[09:45:18] <nooblit> I found this old link, so this idea is still valid since it's been used for years? http://miburl.com/pDT9Rr 
[09:45:27] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving.)
[09:46:10] <FliPPeh> It's not that old
[09:46:28] *** Quits: heftig (heftig@moz-D746319F.unitymedia.biz) (Quit: Quitting)
[09:46:34] <FliPPeh> From glossing over, it seems to be a good read
[09:46:39] <FliPPeh> Usage of unique_ptr
[09:47:06] <nooblit> Ok good, I started studying this and was hoping I was on the correct track.
[09:47:40] <nooblit> It's just I was scared since I hear all these people talking about how bad practice is being taught and I like to do things perfectly, that is just the way I am.
[09:47:43] *** Parts: Heather (Heather@19663F6.F53BAACC.9C17E900.IP) ()
[09:48:23] <nooblit> I want to form good habits not have to get rid of them later after programming for 6 months.
[09:48:29] <pyon> nooblit: The problem with C++ isn't that you have to manually manage memory, the problem is that you get no help from the compiler when you fuck up.
[09:49:04] <pyon> nooblit: There is nothing even remotely like Rust's lifetimes for borrowed pointers.
[09:49:09] <nooblit> Well, that is why I want to learn Rust, but I can't because there is no newbie guids.
[09:49:26] <nooblit> So the cloest i can do is Learn c++ to understand Rust.
[09:49:30] *** Joins: jsonnull (Thunderbir@26F61E6.CFD9471D.494A0F8B.IP)
[09:49:39] <FliPPeh> http://static.rust-lang.org/doc/master/tutorial.html#syntax-basics
[09:49:58] <FliPPeh> This is a nice guide to rust, doesn't seem to imply THAT much programming background
[09:50:02] <nooblit> Sorry, for my sloppy typing. I was trying to type and eat :)
[09:50:40] *** Joins: aruniiird (aruniiird@92D70115.B332A52C.E3D0A897.IP)
[09:50:42] <nooblit> "operators are written the same and mostly" I don't know what operators are
[09:50:54] <FliPPeh> +, -, *
[09:50:54] <pyon> nooblit: In all fairness, Rust is a lot more approachable if you already know C++ or some other similar language with destructors and statically typed generic programming facilities. So "learn C++ to understand Rust" is not totally senseless.
[09:50:59] <Yurume> FliPPeh: It is "Assuming you've programmed in any C-family language".
[09:51:07] <nooblit> Just a snip-it, they are speaking another language to me. 
[09:51:18] <nooblit> I have 0 programming exp
[09:51:22] <Yurume> I don't think Rust is an easy language to learn at all
[09:51:54] <Yurume> it mostly appeals to existing programmers and not beginners.
[09:52:01] <pyon> Yurume: Why not? Most of the time, I find Rust does stuff the "obviously correct" way.
[09:52:21] <Yurume> pyon: it takes time and experience to realize that it is "obviously correct".
[09:52:55] <Yurume> nooblit: what do you want by learning programming?
[09:53:06] <Yurume> want to make a game, for example?
[09:53:10] <nooblit> I tryed to Learn D but there was no Beginners guide then i tired Scala and no guide, now I'm trying Rust and just decided to learn C++ which I been avoiding. 
[09:53:32] <FliPPeh> There are many beginner guides for python that are for absolute beginners
[09:53:44] <kimundi> nooblit: You could also try something like ruby or python
[09:53:45] <FliPPeh> Maybe you can use one of those to learn the basics?
[09:53:49] <Yurume> no- I'm asking you for why you started to look at programming.
[09:53:59] <Yurume> it is much important than the choice of languages.
[09:54:34] <Yurume> much more important*
[09:55:05] <nooblit>  I want to make color bots, which python is slow for because lots of comparing pixiles and also just to make stuff and even games, it's for fun mostly, but I need speed for some of the things I like, I like speed.
[09:55:32] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Quit: ZNC - http://znc.sourceforge.net)
[09:55:36] <Yurume> could you elaborate on color "bots"?
[09:55:43] <nooblit> I also like the idea of a lang that is able to do just about anything.
[09:55:47] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[09:55:56] <nooblit> Sure
[09:55:58] *** Quits: m_kato (m_kato@moz-C286AD9A.bitcat.net) (Quit: Leaving...)
[09:56:06] <FliPPeh> There are imaging libraries for python
[09:56:12] *** Joins: andre (andre@CA528A4A.45A4338E.8EE27E6.IP)
[09:56:18] <FliPPeh> Python is used in scientific computing, it's definitely not too slow
[09:56:30] <nooblit> A color bot, is a bot that plays a game for you by taking pics of the screen really fast and comparing it with a screen shot to find a target to shoot for example.
[09:56:33] <FliPPeh> Especially with native modules for specialized tasks
[09:56:43] <Yurume> FliPPeh: only when you are accustomed to numpy :)
[09:56:56] <Yurume> nooblit: I'd recommend Sikuli then.
[09:56:58] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[09:56:59] <FliPPeh> :>
[09:57:06] <nooblit> It counts all the pixies and colors on the screen to find moving targets. 
[09:57:14] <nooblit> pixels 
[09:57:43] <Yurume> Sikuli is an automation tool (can use Python for scripting) which automatically scans for certain patterns you've provided
[09:57:59] <nooblit> Well bots are not the only thing I want to make, I don't want to learn it just for the bot, 
[09:58:00] <Yurume> it worked well for me, and possibly it might work for you as well
[09:58:14] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Quit: Leaving)
[09:58:44] <Yurume> nooblit: Python is a general purpose language, its use in Sikuli does not limit it to bots.
[09:58:53] <Yurume> so essentially you are learning Python with Sikuli.
[09:58:59] <FliPPeh> There are many ways to study programming, but there is only ONE way to learn programming
[09:59:02] <Yurume> and then you can turn to more complex things
[09:59:07] <FliPPeh> Jump into it and build stuff
[09:59:11] <Yurume> totally right
[09:59:21] <FliPPeh> Making mistakes and doing things wrong is the only way to learn it
[09:59:26] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[10:00:03] <FliPPeh> You have to look at your own code from months ago and the first thing you should think should be "What and idiot I was"
[10:00:10] <nooblit> I thought about learning C# but then decided if I ever need performance, it would be handy to know C++ or Rust.
[10:00:17] *** Quits: Taneb (Taneb@moz-AA8D754D.hacksoc.org) (Ping timeout)
[10:00:17] <kimundi> Lol, just read sikulis hello world page... that looks like an interesting language xD
[10:00:30] *** Quits: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP) (Quit: Konversation terminated!)
[10:00:34] <Yurume> nooblit: C++ and Rust is performant *when* you are aware of their characterstics.
[10:00:35] <FliPPeh> It almost doesn't matter WHICH language you learn
[10:00:48] *** Joins: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP)
[10:00:49] <Yurume> stupid C++/Rust codes can be well slower than smart Python codes
[10:00:50] <FliPPeh> You learn the basics and patterns and then translate them over to other languages
[10:01:21] <Yurume> kimundi: it is Jython with a fancy IDE and default lib ;)
[10:01:24] <nooblit> I maybe be ignorant but I'm not stupid. I'm new to programming. 
[10:01:46] <Yurume> kimundi: but yeah, I really like that.
[10:02:16] *** Joins: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP)
[10:02:34] <Yurume> nooblit: how could you be sure about the performance of C++ or Rust when you don't know nothing about programming?
[10:02:53] <nooblit> Well wouldn't you have to write really messed up C++ code to be slower than python ?
[10:02:59] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[10:03:13] <Yurume> nooblit: frequently.
[10:03:29] <Yurume> very frequently, C++ codes are slower than Python.
[10:03:34] <nooblit> Yurume I spent 5 months reading debate forms about programming languages form people that program. 
[10:03:51] <FliPPeh> Yeeahh, that's not helpful
[10:03:51] *** Quits: bjz_ (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[10:04:10] <Yurume> those debates are only useful for who already do the programming :(
[10:04:11] *** Joins: Taneb (Taneb@moz-AA8D754D.hacksoc.org)
[10:04:26] <Yurume> you should ignore them
[10:04:28] <FliPPeh> And mostly full of unsubstantiated claims
[10:04:33] <FliPPeh> and circlejerks and flamewars
[10:04:41] <FliPPeh> Programmers are a silly bunch
[10:04:48] <nooblit> I thought C++ codes where slow because the person coding is bad?
[10:05:13] <kimundi> nooblit: Also, there more to programming than just the specific language, syntax and best practices - stuff like algorithmic complexity for example, which are important to know about independently of any language.
[10:05:22] <Yurume> nooblit: there are various reasons, but there are lots of bad C++ codes out there.
[10:06:13] <Yurume> and nowadays Python is much faster than the past thanks to the advances in implementations
[10:06:52] <Yurume> but all those things are not useful for you, since you *should* build things in order to determine whether Python/C++/Rust/etc. is good for your job or not.
[10:06:59] <FliPPeh> ^
[10:07:20] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[10:07:23] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[10:07:39] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[10:07:45] <Yurume> even after programming for some decades, I learn a new language by writing a new program in it. you should do so too.
[10:07:48] *** Quits: TobiasFar (tm@moz-A929D162.flosoft-servers.net) (Quit: ZNC - http://znc.in)
[10:07:50] <FliPPeh> You don't get into programming by doing everything right from the beginning
[10:08:19] *** Joins: TobiasFar (tm@moz-A929D162.flosoft-servers.net)
[10:08:46] <nooblit> So, yall are saying that some programs are not practical to write in C++ and that there are preferred langs for those ? 
[10:09:36] *** Quits: aruniiird (aruniiird@92D70115.B332A52C.E3D0A897.IP) (Ping timeout)
[10:10:05] <nooblit> I was thinking of picking a language to get really good and like a instrument and be able to write anything with it? 
[10:10:12] <Yurume> nooblit: well. almost all programming languages are useful for some programs than others.
[10:10:22] <Yurume> there is no such language.
[10:11:03] <Yurume> professional programmers know at least three or possibly tens of languages and know which language to use.
[10:11:18] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[10:11:47] * FliPPeh knows Python, C, C++, some D, some Ruby, Haskell, Java, Bash and probably some others
[10:11:56] <nooblit> So for example, a bot that plays a single player shooting, would kind of lang would be for that type of thing?
[10:12:03] <FliPPeh> And I'm not even a professional programmer :c
[10:12:36] <FliPPeh> According to my sketchbook I also know Perl
[10:12:39] <FliPPeh> Find that hard to believe
[10:12:43] <kimundi> nooblit: Different folks will give you different answers to that question, depending on personla preferences and experience
[10:12:54] <Yurume> nooblit: shooting games? I think it needs some thoughts in any language you pick.
[10:12:56] <nooblit> Don't you start confusing all those langs with each other?
[10:13:14] <benh> The tricky part there is probably hooking your program up to the game
[10:13:20] <kimundi> nooblit: The trick is to have enough general knowledge to make that decision yourself - which you can only develop by picking a language and start learning the basics
[10:14:07] <Yurume> nooblit: for example, if I want to make a very large company, doesn't it make sense that I should make a small company first?
[10:14:11] <nooblit> So is there any reason I should learn C++ or is the scope very limited?
[10:14:29] <sigma> nooblit: as someone who's written a bunch of bots for fun you'll need some c/c++ to do the actual injection and then you can use any language you want to write the bot
[10:14:33] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[10:14:39] <Yurume> you cannot make a very large company at first: you should make a small company first and grow it (or blabla), which we are trying to say to you.
[10:14:42] <pzol> how can I populate an IMMUTABLE HashMap??
[10:14:54] <benh> pzol: Populate a mutable hashmap, and then make it immutable
[10:14:59] <Yurume> pzol: make HashMap and freeze it
[10:15:05] <sigma> c++ is a massive language that's more than a little daunting for a beginner. If you're going to learn it learn it from a good book
[10:15:19] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[10:15:31] <Yurume> pzol: you can also use `from_iterator` though
[10:15:45] <pzol> Yurume ;) was going to ask about that!
[10:15:49] <Yurume> and if you are making a static HashMap, good luck to you :S
[10:15:58] <pzol> thanks!
[10:16:10] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[10:16:11] <Yurume> (there is a lib to do that though)
[10:16:13] <pzol> Yurume is there a static initializer?
[10:16:16] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[10:16:21] <dbaupp> no
[10:16:25] <Yurume> no, HashMap is entirely a lib feature
[10:16:26] <kimundi> pzol: no
[10:16:29] <dbaupp> can't put a hashmap in a static
[10:16:29] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[10:16:30] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[10:16:33] <nooblit> If you don't mind me asking, out of curiosity, what types of programs do any of you hope to write using Rust?
[10:16:40] <dbaupp> (an immutable static)
[10:16:58] <pzol> so how do you create and immutable static HashMap?
[10:17:33] <Yurume> nooblit: a mid-sized to large program that needs some categories of safety.
[10:17:36] <dbaupp> pzol: you can't
[10:17:37] <sigma> nooblit: rust is looking like my replacement for C/C++ so low level or performance sensitive code. Haskell and python will probably still be my workhorses for churning out something that works fast.
[10:18:03] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[10:18:09] <sigma> thought rust will probably eat into where I use python
[10:18:21] <pzol> dbaupp would that be a reasonable "workaround" static Option<HashMap<K,V>> = None; 
[10:18:26] <Yurume> at expense of the safety, you should adhere to some rules when programming in Rust (which would be hard for beginngers).
[10:18:29] <Yurume> beginners*
[10:18:38] <dbaupp> pzol: well, you can (theoretically) have a `static mut map: *HashMap<K, V> = 0 as *HashMap<K, V>;` and put a transmuted ~HashMap into that at the start of the program
[10:19:20] <dbaupp> pzol: Option<HashMap<..>> still has a destructor, so that probably won't work (destructors in statics are being removed, aiui).
[10:19:21] <pzol> dbaupp that's what I meant... but access to that  would be only possible via unsafe{}, right?
[10:19:47] <pzol> oh
[10:19:51] <nooblit> I like the idea of learning to write safe code first, it develops good habit. It's hard to unlearn bad habits after using them 6 months no?
[10:20:13] <Yurume> pzol: about the static HashMap: I don't know if this works today, but see https://github.com/sfackler/rust-phf
[10:20:14] <dbaupp> pzol: you could define `fn get_hashmap() -> &'static HashMap<K,V> { unsafe { if map.is_null() { initialise() } &*map } }`
[10:20:38] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[10:20:47] <pzol> dbaupp thanks ;)
[10:20:50] <dbaupp> (i.e. expose a "safe" interface)
[10:21:04] <dbaupp> there's still a risk of data races on initialisation, though.
[10:21:11] *** Quits: kkris (kkris@moz-CB70009.yourvserver.net) (Quit: Coyote finally caught me)
[10:21:17] *** Quits: ash_ (ash@15DEC023.DFC68827.9C33A531.IP) (Ping timeout)
[10:21:18] <kimundi> Hm, I wonder how feasible it would be to write a lazy-evaluated singleton in rust. Basically, a mut static that starts out as none, but on first access runs the initialization code and returns it on each additional access
[10:21:19] *** Joins: kkris (kkris@moz-CB70009.yourvserver.net)
[10:21:31] <Yurume> nooblit: that helps, but you certainly have to deal with bad codes at some point.
[10:21:49] <Yurume> so you need about both good habits and bad habits no matter what are programming.
[10:21:56] <Yurume> you need to know about*
[10:22:04] <Yurume> what you are programming* (aww)
[10:22:09] *** Joins: ash_ (ash@15DEC023.DFC68827.9C33A531.IP)
[10:22:11] *** Joins: nkoep (nik@moz-EB07C027.pool.mediaways.net)
[10:22:24] <pzol> kimundi should work, shouldn't it?
[10:22:46] <kimundi> pzol: In theory yes I think
[10:23:07] <dbaupp> kimundi: https://github.com/mozilla/rust/blob/master/src/libstd/unstable/mutex.rs#L317
[10:23:15] <dbaupp> and pzol
[10:23:30] <dbaupp> std::unstable::mutex::Once
[10:23:33] <Yurume> dbaupp: wow, I didn't know that existed
[10:23:47] <pzol> nice :)
[10:23:59] <Yurume> (I was unsure about the existence of statically-initialized mutex, for example)
[10:24:13] <nooblit> Well, Is there much difference between python and C# ?
[10:24:29] <nooblit> like what you can do with them?
[10:24:31] <dbaupp> Yurume: yeah, acrichto "invented" one so that we can delete more and more C++
[10:24:59] <FliPPeh> You can do anything with each
[10:25:00] <Yurume> nooblit: about what you can do with them, almost same. about "how" you can do things with them, quite different.
[10:25:03] <FliPPeh> They are both general purpose
[10:25:37] *** Joins: fyolnish_ (fyolnish@moz-BE2BAE5B.miinet.jp)
[10:25:43] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[10:25:45] <Yurume> when we are saying a "general purpose" language, it means that it can do almost everything possible with the computer (but in different ways and different trade-offs).
[10:26:13] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[10:26:31] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[10:27:21] *** Quits: fyolnish_ (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[10:27:46] <doomlord_> python c# are quite different
[10:27:55] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[10:28:00] <nooblit> Well, I guess I'll go back to the drawing board and take a second look at some of the other langs, like python and C#, I just had the impression they were too slow for doing most stuff like bots and things.
[10:28:19] <sigma> bots aren't that processing intensive
[10:28:39] <nooblit> Well I mean color bots
[10:28:45] <sigma> OCR bots?
[10:29:15] <sigma> yeh, that requires a lot of processing, but it's a painful way to write bots
[10:29:16] <nooblit> screen capture and it compares pixel with a pic to find target,
[10:29:26] <kimundi> nooblit: The expensive parts for stuff like that is often implemented in C/C++ anyway, and an interface exposed for the language so that it can be used as, eg, python
[10:29:32] <sigma> that's an _extremely_ painful way to write any kind of bot
[10:29:33] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Broken pipe)
[10:29:54] <Yurume> as I've said before, Sikuli does it very well. it is not a matter of language choices but rather tool choices.
[10:29:54] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[10:30:08] <nooblit> I'll look at Sikuli 
[10:30:14] <nooblit> it's for python?
[10:30:15] *** Quits: kvanb (kvanb@moz-2D0996C9.lnse5.win.bigpond.net.au) (Ping timeout)
[10:30:26] <Yurume> it is a tool that can use Python as well.
[10:30:49] *** Joins: Ms2ger (Ms2ger@moz-E2F08450.adsl-dyn.isp.belgacom.be)
[10:30:57] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[10:31:12] <sigma> I'm not sure how well that will work for anything other than eve...
[10:31:27] <sigma> (or other interface driven games)
[10:31:37] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[10:31:38] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[10:31:41] *** Joins: kvanb (kvanb@moz-C2012642.lnse4.win.bigpond.net.au)
[10:32:48] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[10:32:53] <nooblit> What lang you think is more suitable then ?
[10:32:57] <Yurume> sigma: yeah, Sikuli is not a silver bullet for everything. it works well for static interfaces (e.g. minesweepers :), it works a bit less well for dynamic interfaces.
[10:33:22] <Yurume> (and it does not work for some fancy things, for example, clicking a big cookie in Cookie Clicker...)
[10:33:53] <sigma> Yurume: Yeh, you're going to have to drop down to opencv or something to handle real machine vision tasks
[10:34:11] <sigma> I'd just do an injection bot and be done with it :)
[10:34:14] <Yurume> sigma: Cookie Clicker evidently rotates the big cookie randomly ;)
[10:34:27] <Zr40> Yurume: oh not you too... :(
[10:34:34] *** Joins: Saj (Sajuuk@moz-840D0658.netvisao.pt)
[10:34:39] <Yurume> Zr40: what?
[10:34:50] <Zr40> Yurume: that.... game.
[10:34:50] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[10:34:54] <Yurume> lol
[10:35:03] <Yurume> I should point you to http://mienfield.com/ then
[10:35:14] <sigma> heh, my bot for cookie clicker was just xdotool :)
[10:35:35] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[10:35:55] <nooblit> Okay so is python or C# better for that kind of stuff?
[10:36:01] <nooblit> or something else?
[10:36:04] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[10:36:08] <Yurume> nooblit: anyway, I recommend trying Sikuli, but it may or may not work for your purpose. and if it does not work, you'll need to learn some more programming no matter what language you're using.
[10:36:27] <ChrisMorgan> sigma: ditto
[10:36:38] <Yurume> I cannot really tell since it's what you should find out by your own.
[10:36:58] * dbaupp just used javascript for CC
[10:37:00] <sigma> nooblit: to do some sort of screen scraping bots? anything with a good machine vision library, the heavy lifting will be done by the library
[10:37:05] <dbaupp> click the id's directly :P
[10:37:10] <Yurume> dbaupp: that... is cheating :p
[10:37:12] <ChrisMorgan> sigma: yep, it's all there in my history: "xdotool click --repeat 10000 --delay 0ms 1"
[10:37:30] <dbaupp> there was debouncing
[10:37:31] <ChrisMorgan> That was for a flash-based one, actually.
[10:37:37] * dbaupp removed the debouncing
[10:37:40] <dbaupp> Yurume: best part of the game
[10:38:07] <ChrisMorgan> dbaupp: my favourite technique is to find the appropriate variables and set them to Infinity. Normally produces good results.
[10:38:07] <sigma> if Sikuli doesn't work for you, look into opencv. I'd say start with python, but I think your entire approach is flawed if you're trying to bot something like an FPS
[10:38:09] <Zr40> Yurume: can't be cheating if there isn't any real gameplay in the first place :P :P
[10:38:14] <nooblit> Does anyone know what programming lang has " good machine vision library, the heavy lifting"
[10:38:15] <Yurume> learn Javascript by cheating in CC? :p
[10:38:17] <ChrisMorgan> (Occasionally you end up with NaN showing up.)
[10:38:27] <sigma> ChrisMorgan: I couldn't manage less than --delay 4ms or my firefox died
[10:38:34] <Yurume> nooblit: there are lots of "good machine vision library" available in multiple languages.
[10:38:59] <dbaupp> ChrisMorgan: that's cheating! :P
[10:39:07] <Yurume> C has them, C++ has them, Python has them, C# has them, I think Rust does not have them (not yet) but it is not hard to make a library wrapper.
[10:39:12] <nooblit> I guess I could use some guidance here, as I have no experience. 
[10:39:16] <ChrisMorgan> sigma: well, for a flash-based one 0ms worked fine. Haven't tried it with any JS-based ones, it's easier to just tweak variables directly with them.
[10:39:18] <sigma> opencv is a good machine vision library, and it's written in C iirc. That means it will have bindings to essentially any language you can think of
[10:39:34] <dbaupp> nooblit: python normally has good interfaces for libraries like that
[10:39:45] *** Joins: alexherbo2 (alexherbo2@moz-FC10E83F.de)
[10:39:52] <Yurume> I think you can start with Python and search for libraries.
[10:39:55] <dbaupp> (in general, I don't know anything about the specifics of computer vision.)
[10:40:14] <nooblit> ok, I'll checkout python then, ty
[10:40:22] <kimundi> Re static hashmap earlier, I could imagine something like this working quite well: https://gist.github.com/Kimundi/8781753 - with a Deref trait you could then access the static map value like a regular static reference.
[10:40:22] <Yurume> actually, it is also up to you to find out what computer vision techniques to use :)
[10:40:38] <sigma> nooblit: http://docs.opencv.org/trunk/doc/py_tutorials/py_tutorials.html
[10:40:43] <dbaupp> kimundi: holy pyramid of doom, batman!
[10:40:49] <dbaupp> ;P
[10:40:58] <kimundi> dbaupp: :P
[10:41:09] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[10:41:13] <pzol> kimundi :D
[10:41:15] <Yurume> nooblit: and https://pypi.python.org/pypi/pyscreenshot (you need to grab the screenshot to perform analysis on that)
[10:41:18] <dbaupp> kimundi: it still fails the destructor tests
[10:41:30] <kimundi> dbaupp: hum?
[10:41:38] <dbaupp> kimundi: i.e. no destructors in statics
[10:41:46] <nooblit> cool, this looks fun. Thanks for the links.
[10:41:56] <Yurume> ...well I don't know why I'm talking about Python in #rust! XD but hope they help.
[10:42:00] <kimundi> Ah, right, I heard something like that...
[10:42:01] <dbaupp> kimundi: https://github.com/mozilla/rust/pull/11979
[10:42:15] <dbaupp> kimundi: just use * as an equivalent for Option<~T>
[10:42:20] <dbaupp> and then it's all cool
[10:42:40] <kimundi> But, wouldn't the destructor problem be there in anycase?
[10:42:44] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[10:43:08] <kimundi> That is, the destructor would never run, right?
[10:43:16] *** Quits: rntz_ (rntz@moz-C76A8D96.sp.cs.cmu.edu) (Ping timeout)
[10:43:27] <dbaupp> yeha, I think it never runs
[10:43:36] <dbaupp> but no need to tempt fate :P
[10:43:52] *** Quits: SimonSapin (simon@moz-9A1FE870.exyr.org) (Ping timeout)
[10:44:06] *** Quits: nooblit (Mibbit@moz-CBA73F0A.dhcp.ftwo.tx.charter.com) (Quit: http://www.mibbit.com ajax IRC Client)
[10:44:06] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Ping timeout)
[10:44:07] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[10:44:52] *** Quits: kkris (kkris@moz-CB70009.yourvserver.net) (Quit: Coyote finally caught me)
[10:45:23] <Yurume> ha, it was hard
[10:45:37] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[10:45:37] *** Joins: kkris (kkris@moz-CB70009.yourvserver.net)
[10:46:33] *** Joins: rntz_ (rntz@moz-C76A8D96.sp.cs.cmu.edu)
[10:46:53] <pzol> Can I permanently freeze something?
[10:46:54] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Quit: ZNC - http://znc.sourceforge.net)
[10:47:11] <kimundi> pzol: Sure, just never unfreeze it
[10:47:25] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[10:47:25] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[10:47:33] <pzol> kimundi lol ;)
[10:49:19] *** Quits: rntz_ (rntz@moz-C76A8D96.sp.cs.cmu.edu) (Ping timeout)
[10:49:48] <pzol> the error "cannot borrow immutable local variable as mutable" could be more down to earth, like "cannot modify an immutable, dumbass", coulnd't it?
[10:51:39] <Yurume> lol, but no.
[10:52:20] <kimundi> pzol: Well, that message would not be very nice ;)
[10:52:42] *** Joins: rntz_ (rntz@moz-C76A8D96.sp.cs.cmu.edu)
[10:52:48] *** Joins: reima (Instantbir@moz-70778B32.dip0.t-ipconnect.de)
[10:53:11] <Yurume> but well, how should we do to improve the error message?
[10:54:23] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[10:55:04] *** Joins: jdm (jdm@moz-4AA3652E.cable.virginm.net)
[10:55:04] *** ChanServ sets mode: +o jdm
[10:55:26] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[10:56:10] <Yurume> for example, let me show the following error:
[10:56:10] <Yurume> t.rs:3:10: 5:3 note: `x` moved into closure environment here because it has type `proc:Send()`, which is non-copyable (perhaps you meant to use clone()?)
[10:57:37] <Yurume> which shows the proc in question and the first usage of `x`, but not the definition of `x`
[10:58:26] <Yurume> which may be problematic since `clone()` might be not the best solution.
[10:58:41] <dbaupp> (and is impossible for proc() anyway)
[10:58:50] <Yurume> ...well I cannot think of better examples, but there are some cases of bad or confusing error messages
[10:59:09] <Yurume> the problem is that we cannot think of such examples before we ever encounter them
[10:59:26] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[10:59:44] <Yurume> I tried to categorize the errors while learning Rust, and alas, the list is invalidated nowadays :)
[10:59:51] <pzol> (Some of) The error message are very cryptic for beginners
[11:01:26] <pzol> On the other hand, error message about moved stuff, showing exactly where they have been moved are very nice
[11:02:02] <Yurume> yeah, that is a lot better than nothing
[11:02:14] <Yurume> in that sense, I'm looking at https://github.com/mozilla/rust/pull/11460
[11:02:21] <pzol> question is... if it makes sense to gather examples of use cases with error messages which could be improved, or would that be at the current point futile as there is a gazillion other things that needs to be done first
[11:02:30] <Yurume> which aims at the complete categorization of error messages (and their documentations)
[11:02:47] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[11:03:16] <Yurume> in the ideal world, once categorized, users can discuss about the particular error message
[11:03:21] *** Quits: jensnock_ (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[11:03:24] <pzol> Yurume I like that very much... hard to maintain I guess
[11:03:24] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[11:03:46] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[11:03:51] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[11:04:23] <Yurume> I don't think it would be hard to maintain, but it would be hard to categorize at first
[11:04:39] <Yurume> there are lots of similar but distinct error messages...
[11:05:21] *** Joins: aruniiird (aruniiird@92D70115.B332A52C.E3D0A897.IP)
[11:05:33] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[11:05:42] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[11:08:29] *** Joins: SimonSapin (simon@moz-9A1FE870.exyr.org)
[11:09:30] *** Quits: b (b@moz-55CA322E.org) (Ping timeout)
[11:11:32] *** Joins: nooblit (Mibbit@moz-CBA73F0A.dhcp.ftwo.tx.charter.com)
[11:12:17] <dbaupp> Yurume: https://github.com/mozilla/rust/pull/11460 would help
[11:12:34] <Yurume> ...which I was pasted :)
[11:12:41] <Yurume> I had pasted*
[11:12:51] <dbaupp> oh
[11:13:04] * dbaupp clearly doesn't know how to read
[11:13:49] <Yurume> blame the short scrollback instead :p
[11:13:59] *** Joins: b (b@moz-55CA322E.org)
[11:15:25] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[11:15:31] *** Joins: gimpf (gimpf@moz-E3AC8484.adsl.highway.telekom.at)
[11:16:31] <dbaupp> yeah, that's it
[11:17:01] <dbaupp> I've only got 30 lines of scrollback, so i can't see the 10th last message :P
[11:17:01] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[11:17:07] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[11:17:14] <Yurume> I normally maintain ~10000 lines of them
[11:17:55] <Yurume> btw, I cannot track the whole discussion about rustpkg and others
[11:18:02] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[11:18:08] <nooblit> Hey would using Cython be as fast as using C#? I herd that Cython can get near the speed of C ? 
[11:18:09] <Yurume> it is becoming a mudball of alternatives
[11:18:19] <Yurume> nooblit: depends.
[11:18:36] <benh> nooblit: stop worrying about runtime peformance if you don't have any experience actually writing programs and then finding out they're too slow
[11:19:12] <Yurume> nooblit: you need to write in both languages in order to compare the performance.
[11:19:19] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[11:19:19] <dbaupp> Yurume: 30 lines of visible scrollback
[11:19:28] <nooblit> Well, it just sounded neat to me, I thought about having the ease of using python with the speed of near C ?
[11:19:31] <Yurume> ...get a larger terminal :)
[11:19:31] <dbaupp> unbounded (I think) of actually scrolling scrollback
[11:19:32] *** Quits: jdm (jdm@moz-4AA3652E.cable.virginm.net) (Quit: Lost terminal)
[11:19:33] <benh> for 99% of programs people without years of experience are going to write, regular python is easily fast enough
[11:20:26] <Yurume> nooblit: possible but hardly matters. do you know how much time your computer is wasting?
[11:20:41] <Zr40> also, no matter how fast your language is, it will always be slow if your algorithms are slow
[11:20:42] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Quit: 랜덤은 쇠퇴했습니다.)
[11:20:43] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[11:20:46] <Yurume> the answer is: a lot, easily exceeds 50% of them.
[11:21:17] *** Joins: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[11:21:59] <Yurume> (that can be semi-confirmed with, for example, the task manager in Windows)
[11:22:25] <Yurume> you have plenty of resources, and in many cases you won't need the full performance anyway.
[11:23:10] <Yurume> revisit the language decision only when you've pushed hard and still can't get the requirement.
[11:23:22] *** Quits: kvanb (kvanb@moz-C2012642.lnse4.win.bigpond.net.au) (Ping timeout)
[11:24:20] <nooblit> Yurume it's more a curiosity to me, I was just thinking if python was easier than c# but could use C for performance parts, why would you need C# is all?
[11:24:56] <benh> It's not just about performance vs difficulty
[11:24:58] <Yurume> well, performance is not the only factor for choosing the language
[11:25:08] <Yurume> (and it is almost the last factor to consider)
[11:25:45] <nooblit> I see, like C# has cool GUI suit.
[11:25:56] <benh> It has all kinsd of cool shit
[11:26:00] <Yurume> there are much more important factors, e.g. easy-to-write, easy-to-maintain, have-better-libraries, etc.
[11:26:03] <benh> python also has cool shit, but mayb different kinds
[11:26:21] <benh> and most of the time you're worried about picking something that plays nicely with existing code
[11:26:46] <benh> which is probably something that makes more sense when you have some experience using different languages...
[11:26:55] <Yurume> C#, for example, is categorized to the "statically typed" language (do not worry about "types" for now) which means the computer tries to find as many errors as possible.
[11:27:11] <Yurume> (even before running the program itself)
[11:27:14] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[11:27:38] <Yurume> Python is categorized to the "dynamically typed" language which means the computer only tries to find errors as the program is running.
[11:28:58] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[11:28:59] <Yurume> there are pros and cons: if you are concerning a lot about errors, statically typed languages will make you comfortable (but instead it will make the code a bit hard to write since computers don't know about your intention at all).
[11:29:28] *** Quits: pyon (user@B454AC64.92B6FB33.1C8C8CE9.IP) (Client exited)
[11:29:33] <Yurume> but if you are not concerning about errors, or you know what errors are possible in your program, then you can use dynamically typed languages to get things fast.
[11:29:36] <Yurume> get things quickly*
[11:29:38] *** Joins: pyon (user@B454AC64.92B6FB33.1C8C8CE9.IP)
[11:29:55] *** Joins: kvanb (kvanb@moz-4300E235.lnse1.win.bigpond.net.au)
[11:29:58] <Yurume> so they are trade-offs.
[11:30:29] <aurynj> you sure duck typing makes code writing fast?
[11:30:31] <Yurume> there are several other trade-offs there, and some languages do better than others on some category, and others do well for others.
[11:30:41] *** Joins: Denommus (AndChat671@moz-E71FC99A.user.veloxzone.com.br)
[11:30:42] <Yurume> aurynj: case by case.
[11:30:51] <Denommus> Hi
[11:32:04] <NiccosSystem> Hello
[11:32:20] <Yurume> hi
[11:32:31] *** Quits: benjamin_ (benjamin@moz-5E97ECD4.dip0.t-ipconnect.de) (Ping timeout)
[11:33:55] *** Joins: thiago (thiago@705535C9.9074706C.BD25C20F.IP)
[11:34:10] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[11:34:10] <Yurume> aurynj: to put exactly, duck typing itself does not make things better. less restriction on what can be done (not hindered by types at expense of runtime problems) is the real virtue of dynamically typed languages.
[11:34:22] <aurynj> i agree.
[11:34:28] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Client exited)
[11:34:45] <aurynj> e.g. interactive console is often a benefit of dynamic typing.
[11:34:58] <Yurume> REPLability? :)
[11:35:23] *** Quits: gimpf (gimpf@moz-E3AC8484.adsl.highway.telekom.at) (Client exited)
[11:35:28] *** Joins: eibwen (kvirc@moz-57850844.dip0.t-ipconnect.de)
[11:35:28] *** Joins: gimpf (gimpf@moz-E3AC8484.adsl.highway.telekom.at)
[11:35:34] *** Joins: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[11:35:50] *** Joins: tcreate (tcreate@moz-90E5C923.hsd1.ma.comcast.net)
[11:35:57] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[11:36:26] *** Joins: rca (rcatolino@moz-7840ADE2.adsl.proxad.net)
[11:36:55] <Denommus> Static languages are less expressive, which is not necessarily a bad thing.
[11:37:31] *** Quits: tcreate (tcreate@moz-90E5C923.hsd1.ma.comcast.net) (Ping timeout)
[11:37:36] <benh> I'm not sure that's really true
[11:37:55] <benh> but 'expressive' is probably rather subjective
[11:41:25] <Denommus> benh: surely it is. Static type systems exist for avoiding writing incorrect programs 
[11:41:33] <aurynj> in many cases, dynamic typing makes trial-and-error cost less. i think that's what Yurume mean by 'get things fast'.
[11:41:59] <aurynj> if expressiveness means computability, it's all same for general programming languages.
[11:42:41] <kimundi> Muahaha it works! https://gist.github.com/Kimundi/8782487
[11:42:53] <kimundi> Who needs constexprs anyway :U
[11:43:29] <aurynj> however, there are less built-in concepts in most of static typed languages than dynamic typed ones. it's rather a meet between a static language and the runtime performance, because the users want.
[11:43:39] <Yurumechan> expressiveness is rather subjective, but there are some measures that can be used in place of it
[11:44:26] <dbaupp> kimundi: you're a bad person :P
[11:44:26] <Yurumechan> many dynamically typed languages tend to excel at metaprogramming and runtime reflection and self-modification, for example
[11:44:35] <dbaupp> (also cool! :) )
[11:44:38] <kimundi> dbaupp: Why? :P
[11:44:44] <kimundi> haha, thanks :)
[11:45:09] <dbaupp> btw, you can write &* to go from * -> &
[11:45:25] <dbaupp> and it's much "safer" than transmute
[11:45:41] <dbaupp> since you don't risk accidentally transmuting from/to incorrect types
[11:45:55] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[11:46:48] <kimundi> dbaupp: updated
[11:47:19] *** Quits: alexherbo2 (alexherbo2@moz-FC10E83F.de) (Quit: WeeChat 0.4.2)
[11:47:29] <Yurumechan> kimundi : ooh thats great, could we replace m with concat_idents! etc though?
[11:47:31] <aurynj> e.g. we may implement an annotation macro system in c/c++. but it's not considered indeed for most of c/c++ users, so not standardized.
[11:47:36] *** Joins: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com)
[11:47:42] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[11:48:03] <dbaupp> kimundi: also, can the main body of the macro just be surrounded in $( )* to avoid having to do recursion?
[11:48:14] <kimundi> Yurumechan: If I knew concat_idents existed and works, then sure. :)
[11:48:34] <Yurumechan>  I'm not sure it would work
[11:48:34] <kimundi> dbaupp: ... do'h, yeah xD
[11:49:07] <dbaupp> kimundi: also, why not just `struct $n; impl $n { ... }` to avoid needing the $m struct?
[11:49:43] <kimundi> dbaupp: I'm always trying recursion first in a macro because that allows to extend it to allow for different invocations - but in these case there is only one, so I could get rid of it
[11:49:58] <kimundi> dbaupp: OOOUH, YEAH
[11:50:00] <dbaupp> ah, yes
[11:50:02] <kimundi> whoops
[11:50:28] <kimundi> okay, lets try this
[11:51:57] <Ms2ger> Can you have multiple things in a macro already?
[11:52:05] <dbaupp> items yes
[11:52:10] <dbaupp> statements/expressions no
[11:52:31] *** Joins: alexherbo2 (alexherbo2@moz-5686FDD1.w83-199.abo.wanadoo.fr)
[11:53:39] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[11:54:00] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[11:55:40] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Client exited)
[11:55:46] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[11:57:24] <kimundi> hm, I'm having trouble with both concat idents and removing the recursion - in both cases I get weird errors :P
[11:58:18] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[11:58:43] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[11:59:22] <dbaupp> don't bother with concat_idents :P
[12:00:16] <dbaupp> kimundi: but recursion should be easy to remove?
[12:00:25] <pnkfelix> dbaupp: surely you meant to write "coherence is per-crate" on Issue #9743 ?
[12:00:29] <kimundi> dbaupp: I though so too, but something is going wrong here :P
[12:01:09] *** Joins: Kynes (Kynes@moz-3DC6C6E7.mit.edu)
[12:01:11] <pnkfelix> dbaupp: (or rather, your first line is inconsistent with the rest of your comment.)
[12:01:31] <dbaupp> pnkfelix: whoops, you are correct
[12:02:09] <kimundi> dbaupp: Okay, no idea what I did wrong, but recursion is now gone after the third attempt of just adding $()+ :P
[12:02:20] <dbaupp> kimundi: +?
[12:02:39] <dbaupp> all the cool kids use *
[12:02:41] <dbaupp> :P
[12:03:14] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[12:03:19] <kimundi> yeah, the first two attempts used * - but trying again this times it works with * too
[12:05:01] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[12:05:36] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[12:07:06] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[12:07:18] <kimundi> dbaupp: well, using $n for the struct doesn'T work because the constructer overlaps in the value namespace with the static
[12:07:24] *** Joins: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP)
[12:07:24] *** ChanServ sets mode: +o jdm
[12:07:44] *** flaper87 is now known as flaper87|afk
[12:08:25] <dbaupp> kimundi: what static?
[12:08:40] *** Quits: Kxepal (Miranda@moz-1A176845.pppoe.mtu-net.ru) (Quit: Kxepal)
[12:08:45] <dbaupp> I just mean `struct $n; impl $n { .. }` as the whole macro body
[12:08:48] <kimundi> dbaupp: the static just above it, on line 8
[12:08:58] *** Joins: Kxepal (Miranda@moz-1A176845.pppoe.mtu-net.ru)
[12:09:05] <kimundi> Ah!
[12:09:45] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[12:09:46] *** Joins: heftig (heftig@moz-D746319F.unitymedia.biz)
[12:10:36] <kimundi> dbaupp: Done. This certainly looks nice now :D
[12:11:32] <dbaupp> kimundi: it does
[12:11:35] <kimundi> Now we only need a deref trait and it can be used as a normal static reference
[12:11:49] *** Joins: vmx (vmx@moz-22C2518E.pools.arcor-ip.net)
[12:11:58] *** Joins: jvrmaia (jvrmaia@488448C0.A3C460C4.EBCD9D32.IP)
[12:12:24] <dbaupp> kimundi: btw, try it with [uint, .. 3]
[12:13:55] <kimundi> well, that fails because of ~[1, 2, 3] => ~[uint] parsing :P
[12:14:04] * kimundi add parentheses
[12:14:22] <dbaupp> yep
[12:14:40] <dbaupp> but it's weird because the sigil gets attached by the ~$e
[12:14:42] * dbaupp dislikes taht
[12:15:11] <kimundi> updated
[12:15:32] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Quit: 랜덤은 쇠퇴했습니다.)
[12:15:47] *** Joins: Florob (Florob@moz-39532932.de)
[12:15:48] <dbaupp> kimundi: wait, does it fail at compile time or runtime?
[12:15:59] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[12:16:04] <kimundi> compiletime of course, type error
[12:16:12] <kimundi> well, not anymore now ;)
[12:16:50] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[12:17:40] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[12:18:15] *** Joins: gwty (gwtypc@CF4D907A.7E542C47.2E2F6049.IP)
[12:18:30] <WebeWizard> what's the invisible extra byte that is at the end of every file called?
[12:18:39] <kimundi> WebeWizard: huh?
[12:18:48] <WebeWizard> i've been up all night, and i'm brainfarting
[12:19:01] <kimundi> what extra byte?
[12:19:10] <WebeWizard> kimundi, you know, you write 4 bytes into a text file, but there is always one more extra byte, totallying 5 bytes
[12:19:21] <Zr40> WebeWizard: That's probably a newline
[12:19:25] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[12:19:29] <kimundi> and of which abstraction layer of a file do you speak? :)
[12:19:47] <WebeWizard> make a new text file, type in like "poop", and tell me how many bytes it is
[12:20:00] <ChrisMorgan> WebeWizard: trailing EOL
[12:20:37] <WebeWizard> is it a 0x00 NULL char?
[12:20:43] <Zr40> if I write "poop" into a file using a programming language, it's 4 bytes. Using a text editor, it's 5 (trailing newline)
[12:20:45] <ChrisMorgan> (Examine it with xxd and you'll see an extra 0a at the end. That's \n, a spare EOL. Most text editors write it.)
[12:20:55] <WebeWizard> nice, thanks
[12:21:20] <ChrisMorgan> Notepad++ is one irritating editor that *doesn't* seem to write trailing EOL by default. And that's a Bad Thing™.
[12:21:39] *** Joins: fyolnish (fyolnish@moz-D8A4D64C.uqwimax.jp)
[12:21:43] <Zr40> ChrisMorgan: can it be configured to do that?
[12:22:04] *** Quits: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP) (Quit: Lost terminal)
[12:22:09] * ChrisMorgan presumes so but does not know for a fact
[12:23:18] <Zr40> I'm just glad Vim is available for Windows.
[12:25:03] *** Quits: rca (rcatolino@moz-7840ADE2.adsl.proxad.net) (Ping timeout)
[12:25:32] *** Joins: gotts (gotts@583D7927.9799C9E7.3F2079FA.IP)
[12:26:06] *** Joins: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net)
[12:26:44] *** Quits: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP) (Quit: Leaving...)
[12:26:50] *** Parts: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net) ()
[12:27:20] *** Joins: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net)
[12:31:36] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[12:32:12] *** Quits: thiago (thiago@705535C9.9074706C.BD25C20F.IP) (Connection reset by peer)
[12:32:34] *** Joins: thiago (thiago@705535C9.9074706C.BD25C20F.IP)
[12:35:07] *** Joins: matp (matp@moz-16FE1E05.matp.at)
[12:36:34] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[12:36:53] *** Quits: yota (sdouche@moz-7D878FB8.securactive.net) (Quit: Ex-Chat)
[12:36:54] *** Joins: tcreate (tcreate@moz-90E5C923.hsd1.ma.comcast.net)
[12:37:02] *** Joins: yota (sdouche@moz-7D878FB8.securactive.net)
[12:37:56] *** Quits: ecl3ctic (Mibbit@moz-E1FAD64C.wzfv1.vic.bigpond.net.au) (Quit: http://www.mibbit.com ajax IRC Client)
[12:38:21] *** Quits: yuriks (yuriks@FAC97ED5.A9CCF389.F3163DCD.IP) (Ping timeout)
[12:41:03] *** Quits: thiago (thiago@705535C9.9074706C.BD25C20F.IP) (Client exited)
[12:41:15] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[12:41:25] *** Joins: thiago (thiago@705535C9.9074706C.BD25C20F.IP)
[12:42:04] *** Quits: thiago (thiago@705535C9.9074706C.BD25C20F.IP) (Quit: Leaving...)
[12:42:33] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[12:46:13] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[12:47:57] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[12:48:15] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[12:49:37] *** Joins: rca (rcatolino@moz-7840ADE2.adsl.proxad.net)
[12:52:53] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[12:53:44] *** Joins: nszceta (hax@moz-E458A7C0.pharm.pitt.edu)
[12:53:55] *** Quits: olsonjeffery (jeff@moz-57D1CF86.compute-1.amazonaws.com) (Quit: WeeChat 0.3.7)
[13:01:00] *** Joins: Earnestly (earnest@811A97A3.CF19AA69.5411983D.IP)
[13:02:59] *** Quits: Denommus (AndChat671@moz-E71FC99A.user.veloxzone.com.br) (Ping timeout)
[13:05:40] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[13:05:45] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[13:06:02] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[13:06:13] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[13:07:56] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[13:08:03] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[13:08:10] *** Quits: tcreate (tcreate@moz-90E5C923.hsd1.ma.comcast.net) (Ping timeout)
[13:08:50] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[13:09:02] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[13:09:03] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[13:11:12] *** Quits: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net) (Client exited)
[13:12:39] *** Joins: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP)
[13:12:39] *** ChanServ sets mode: +o jdm
[13:12:46] *** Joins: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net)
[13:13:27] *** Quits: gwty (gwtypc@CF4D907A.7E542C47.2E2F6049.IP) (Ping timeout)
[13:15:07] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[13:15:27] *** Joins: gwty (gwtypc@AD70035F.10600D12.137C914F.IP)
[13:16:39] *** Parts: kvanb (kvanb@moz-4300E235.lnse1.win.bigpond.net.au) ()
[13:16:43] *** Quits: gotts (gotts@583D7927.9799C9E7.3F2079FA.IP) (Quit: Lingo - http://www.lingoirc.com)
[13:16:43] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[13:16:49] *** Joins: gotts (gotts@583D7927.9799C9E7.3F2079FA.IP)
[13:17:30] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[13:17:56] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[13:18:28] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[13:19:34] *** Joins: rootnode (rootnode@moz-7FAB5E8.ip1.george24.com)
[13:21:46] *** Joins: Denommus (AndChat671@moz-F645B61F.user3g.veloxzone.com.br)
[13:22:19] *** Quits: dbaupp (Thunderbir@moz-25BBAF91.lns20.syd6.internode.on.net) (Ping timeout)
[13:22:50] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[13:24:42] *** Joins: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP)
[13:25:45] *** Quits: gimpf (gimpf@moz-E3AC8484.adsl.highway.telekom.at) (Quit: Leaving.)
[13:25:47] *** Joins: gimpf (gimpf@moz-E3AC8484.adsl.highway.telekom.at)
[13:26:10] *** Quits: gimpf (gimpf@moz-E3AC8484.adsl.highway.telekom.at) (Client exited)
[13:27:09] *** Quits: pyon (user@B454AC64.92B6FB33.1C8C8CE9.IP) (Client exited)
[13:27:20] *** Joins: pyon (user@B454AC64.92B6FB33.1C8C8CE9.IP)
[13:28:02] *** Quits: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP) (Ping timeout)
[13:28:45] *** Quits: heftig (heftig@moz-D746319F.unitymedia.biz) (Quit: Quitting)
[13:30:06] *** Quits: pyon (user@B454AC64.92B6FB33.1C8C8CE9.IP) (Ping timeout)
[13:34:19] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[13:36:02] *** Quits: japaric (japaric@290150F2.C68AB816.F29ED47E.IP) (Ping timeout)
[13:36:07] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[13:36:17] *** Joins: japaric (japaric@290150F2.C68AB816.F29ED47E.IP)
[13:38:15] *** Quits: Denommus (AndChat671@moz-F645B61F.user3g.veloxzone.com.br) (Ping timeout)
[13:39:25] *** Quits: pilf (pilf@8FA95888.1A994CBC.4B228AD7.IP) (Ping timeout)
[13:40:11] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[13:40:51] *** Quits: ekiara (emk@moz-9B1940E9.tech.co.ke) (Quit: leaving)
[13:40:55] *** Joins: ekiara (emk@moz-9B1940E9.tech.co.ke)
[13:42:02] *** Quits: ekiara (emk@moz-9B1940E9.tech.co.ke) (Quit: leaving)
[13:45:09] *** Quits: mojoB (mojoB@moz-A4312114.static.exetel.com.au) (Ping timeout)
[13:46:25] *** Joins: olsonjeffery (pf@moz-57D1CF86.compute-1.amazonaws.com)
[13:46:35] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[13:46:54] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Quit: )
[13:48:00] *** Quits: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[13:48:16] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[13:48:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:48:27] *** Joins: bynaryshef (bynaryshef@moz-97E96350.mem.bellsouth.net)
[13:48:33] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[13:48:43] *** Quits: bynaryshef (bynaryshef@moz-97E96350.mem.bellsouth.net) (Quit: Leaving)
[13:48:48] *** Joins: bynaryshef (bynaryshef@moz-97E96350.mem.bellsouth.net)
[13:49:21] *** Quits: bynaryshef (bynaryshef@moz-97E96350.mem.bellsouth.net) (Client exited)
[13:50:02] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[13:50:12] *** Joins: mojoB (mojoB@moz-A4312114.static.exetel.com.au)
[13:50:41] *** Quits: jsonnull (Thunderbir@26F61E6.CFD9471D.494A0F8B.IP) (Quit: jsonnull)
[13:50:52] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[13:51:07] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Quit: Leaving)
[13:51:56] *** Quits: aruniiird (aruniiird@92D70115.B332A52C.E3D0A897.IP) (Ping timeout)
[13:52:52] <sigma> huh, we have ~8x the number of users that #haskell currently has
[13:53:33] <tiffany> the freenode haskell? you're probably on a netsplitted server
[13:53:50] <tiffany> freenode has been down for most of the past 24 hours for me
[13:54:04] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[13:54:24] <sigma> aye, freenode. I must be
[13:54:44] <Zr40> the freenode channel I frequent seems to have 80% of its normal population
[13:55:31] <tiffany> for me there's 972 people in #haskell
[13:55:38] <tiffany> usually there's as many as 1200
[13:56:02] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[13:56:11] <sigma> yeh, mine has no lambdabot
[13:56:24] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Quit: Leaving...)
[13:56:28] *** Quits: anasyrma (x@moz-DE175E38.caltech.edu) (Ping timeout)
[13:56:37] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[13:56:47] <sigma> oh wel ^^
[13:58:04] *** Quits: beifeng (Mibbit@284C36E7.3062CEC3.670EEFD.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:58:26] *** Joins: anasyrma (x@moz-DE175E38.caltech.edu)
[13:58:35] *** Joins: newguy (Mibbit@7CDEE0C1.83BCE10.DDE5D3F6.IP)
[13:58:39] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Client exited)
[13:59:03] <newguy> In user input, is it possible to detect Ctrl-C
[13:59:04] <newguy> ?
[13:59:26] <tiffany> you'll have to handle SIGINT
[14:00:03] <newguy> tiffany: k thanks. I'll look into it!
[14:04:26] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Quit: Textual IRC Client: www.textualapp.com)
[14:04:30] <newguy> tiffany: do you know of any examples which use sigiint?
[14:04:34] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[14:04:55] <newguy> I found this: http://static.rust-lang.org/doc/master/std/io/signal/enum.Signum.html, but im not sure how to use it
[14:05:53] *** Joins: io2 (io2@moz-7C3DDBE8.home.otenet.gr)
[14:05:55] *** Joins: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP)
[14:06:35] *** Quits: jvrmaia (jvrmaia@488448C0.A3C460C4.EBCD9D32.IP) (Client exited)
[14:06:57] *** Joins: jvrmaia (jvrmaia@488448C0.A3C460C4.EBCD9D32.IP)
[14:07:00] <tiffany> http://static.rust-lang.org/doc/master/std/io/signal/struct.Listener.html there's this
[14:07:06] *** Joins: tcreate (tcreate@moz-90E5C923.hsd1.ma.comcast.net)
[14:07:34] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[14:07:35] <newguy> tiffany: thanks
[14:07:39] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[14:07:53] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Quit: Leaving...)
[14:08:47] *** Quits: jvrmaia (jvrmaia@488448C0.A3C460C4.EBCD9D32.IP) (Ping timeout)
[14:08:49] *** Quits: tcreate (tcreate@moz-90E5C923.hsd1.ma.comcast.net) (Ping timeout)
[14:08:59] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[14:10:05] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Quit: Leaving)
[14:10:58] *** Joins: canhtak (canhtak@moz-8A625E1D.wl.t.ulaval.ca)
[14:12:19] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[14:12:57] <newguy> tiffany: it worked!
[14:15:32] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[14:17:05] *** Joins: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net)
[14:17:33] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[14:19:21] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[14:20:51] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Ping timeout)
[14:21:45] <newguy> I'm having trouble handling processes, does anyone have any experience?
[14:24:04] *** Quits: gwty (gwtypc@AD70035F.10600D12.137C914F.IP) (Ping timeout)
[14:26:00] *** Joins: jvrmaia (jvrmaia@488448C0.A3C460C4.EBCD9D32.IP)
[14:28:38] *** Joins: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP)
[14:30:50] *** Joins: TheHydroImpulse (androirc@moz-1A0DAD73.wireless.telus.com)
[14:31:41] *** Joins: bynaryshef (bynaryshef@moz-97E96350.mem.bellsouth.net)
[14:32:02] *** Quits: bynaryshef (bynaryshef@moz-97E96350.mem.bellsouth.net) (Quit: Leaving)
[14:32:58] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[14:35:03] *** Quits: KindOne (KindOne@moz-71106431.dynamic.ip.windstream.net) (Ping timeout)
[14:35:05] *** Joins: alex-abreu (alex@C08D9303.9289A342.80AB4F0.IP)
[14:36:05] *** Joins: dave1629 (dave@BC5891EB.599F34EC.DDE5D3F6.IP)
[14:37:47] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:39:24] <arturo> why doesn't RWArc.write require a mut self?  seems counterintuitive that you can modify the contents without needing mut
[14:39:26] *** Joins: KindOne (KindOne@moz-5F568D07.dynamic.ip.windstream.net)
[14:39:30] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:41:55] <Yurume> arturo, really? http://static.rust-lang.org/doc/master/extra/arc/struct.RWArc.html#method.write
[14:42:19] <newguy> Does anyone here have experience with Processes?
[14:42:23] *** Joins: oberstet (quassel@moz-3253869.dynamic.mnet-online.de)
[14:42:43] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[14:43:00] <newguy> I'm having trouble starting a process, and returning to the parent process...
[14:43:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:43:22] <Yurume> personally I haven't
[14:43:35] <Yurume> could you post any example?
[14:43:43] <newguy> sure. one sec
[14:44:20] <newguy> here it is:
[14:44:20] <newguy> http://pastebin.com/zcgHPHxe
[14:44:35] <arturo> Yurume, you can have an RWArc in a struct and modify it's contents in a impl fn that only receives &self, like: struct Foo{ arc: RWArc<Bar> }; impl Foo{ fn modify(&self){ self.arc.write(..); } } 
[14:44:57] <arturo> not saying it's incorrect just want to know the reasoning behind
[14:44:58] <newguy> I also tried using ProcessOptions, it's nearly the same, but there are more functions available to it
[14:45:03] <Yurume> ah, I thought you've intended the inverse.
[14:45:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:46:56] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[14:47:08] *** Joins: Locke23rus (quassel@moz-7F6F6C7E.broadband.corbina.ru)
[14:47:14] <Yurume> arturo, RWArc essentially provides some kind of "cell", which mutability is distinct from that of the contained value. RefCell has a similar interface (`try_borrow_mut` is not defined as `&mut self`).
[14:47:55] <arturo> so would it be more correct to define an fn like modify in my example or using &mut self?
[14:47:56] <saml> can you connect to freenode?
[14:48:39] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[14:48:54] <Yurume> arturo, I don't think the current interface has to be changed; for example, what should you use for C++'s mutable field (which Rust once supported and dropped then)?
[14:49:19] <Yurume> (C++'s mutable field indicates that it is always mutable regardless of the class' constness)
[14:49:58] <Yurume> the only safe way to implement it is to have a cell writable without `&mut self` methods.
[14:50:23] <kimundi> arturo: A &T in rust is not always deeply immutable - thats intentional, and we have a few different APIs that work that way. IF you truly nedd a &T that is immutable, T needs to fulfill the "Freeze" bound
[14:50:37] <newguy> kimundi: Do you know much about processes?
[14:50:53] <kimundi> newguy: Not really about the rust api
[14:51:08] <newguy> oh ok :(
[14:51:18] *** Joins: benjamin_ (benjamin@moz-98B43171.dip0.t-ipconnect.de)
[14:51:56] <arturo> i see, in my case i don't want the arc to be a c++ mutable equivalent, so it's probably better to mark those methods as mut, well the self reference they receive
[14:52:02] <newguy> I can't figure out how to exit out of a child process, and return to the parent process
[14:52:50] <kimundi> arturo: making that arc method mutable would only restrict you unnecessary
[14:53:36] <Yurume> newguy, hmm, your code seems to work with `ls -al` in Ubuntu
[14:53:45] <kimundi> arturo: because it would mean no one else in the callstack could access it during the call - which is a pointless restriction as different threads can access at anytime
[14:53:45] <arturo> yeah, i know there's already a couple of cases where marking them as mutable was giving me problems that's how i noticed that i didn't need to :)
[14:53:47] <Yurume> I still don't know what's your problem
[14:54:26] <Yurume> arturo, if you don't want the mutability, shouldn't you use `extra::arc::Arc`?
[14:54:57] <newguy> yurume: Well, I'm running a parent process, and within that process, i execute a child process (an executable), and i just cant seem to get out of the child process. I'm trying to run it in the background.
[14:55:15] <Yurume> does `wait()` block?
[14:55:18] *** Joins: pepper_chico (pepper_chi@2E27DB8.A156809A.4D7FED01.IP)
[14:55:18] *** Quits: oberstet (quassel@moz-3253869.dynamic.mnet-online.de) (Client exited)
[14:55:20] <arturo> kimundi, yes being used to c++ const, it just seemed weird that i could modify the internals with the method being not mut, the thing is in some methods i need to write to the Arc
[14:55:22] <Yurume> ah
[14:55:24] *** Joins: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[14:55:38] <arturo> so i need RWArc anyway
[14:55:39] <newguy> Yurume: yea, wait doesn't seem to affect it
[14:56:00] <newguy> Yurume: I get the same results with/without wait
[14:56:07] <Yurume> uh, wait a min, so you want to run it in the background but the child process does not finish anyway?
[14:57:10] *** Joins: gwty (gwtypc@3981F4ED.79F5D148.BD94A9D5.IP)
[14:57:17] <newguy> Yurume: im not sure what you mean. my child process is an executable that spins up my localhost, so after it spins up, i just want to return to my parent process. When i start the process, the server indeed starts, but doesnt return to parent
[14:57:35] <newguy> Yurume: sorry if im being confusing
[14:58:16] <Yurume> first, you shouldn't use wait() in that case, second, so it actually blocks right after `new()` call then?
[14:58:25] <newguy> right!
[14:58:32] <kimundi> arturo: I get what you mean though - at one point I had the same opinion that things that mutate the "object" should be marked as such always - but over the time using rust I realized that that just doesn't map directly to the low level workings :)
[14:58:35] *** Quits: nfroidure (nfroidure@moz-844D3AA9.w90-18.abo.wanadoo.fr) (Quit: Ex-Chat)
[14:58:40] *** Joins: nfroidure (nfroidure@moz-844D3AA9.w90-18.abo.wanadoo.fr)
[14:58:58] <arturo> great,, it's really more flexible that way
[14:59:03] <Yurume> hmm, strange. is your code the exact example that causes a problem (sans the executable name)?
[14:59:36] <newguy> Yurume: Yes.
[14:59:45] <Yurume> since it seems to me that the similar code in C should cause the same problem
[14:59:47] *** Joins: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com)
[14:59:59] <Yurume> the child process may be dependent to the tty, for example
[15:00:03] *** Joins: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca)
[15:00:26] <Yurume> (there are some jerks^H^H^H^H^Hfine programs that do so)
[15:00:49] *** Quits: Ferreus (ferreus@moz-9620B86D.dip0.t-ipconnect.de) (Ping timeout)
[15:01:33] *** Joins: kvark (Mibbit@9A8A5739.49975FB2.AE2D72A6.IP)
[15:02:02] *** Joins: ekiara (emk@E611C66B.E1B12B64.D6476027.IP)
[15:02:03] <newguy> Yurume: I'm noticing something weird. So if I start the child process, and I go over to localhost, i can see that it worked. So in the child process executable, i have it print out something to standard output on every refresh. Although the localhost starts when i call new, it doesnt print out to standard output until i give the SIGINT Ctr-C interrupt.
[15:02:04] <Yurume> how does the server (i.e. the child process in question) work? does it daemonize?
[15:02:11] <kvark> cmr: oh, no! what have you done?! (mourns rustpkg)
[15:02:38] <Yurume> newguy, "localhost"?
[15:02:59] <Yurume> ah the server binds to 127.0.0.1, I've got it
[15:03:03] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[15:03:04] <newguy> the child process just opens a port
[15:03:22] *** Quits: lynks (lynks@moz-CA8DE8D.clients.your-server.de) (Quit: leaving)
[15:03:33] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[15:03:41] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[15:04:11] *** Quits: pepper_chico (pepper_chi@2E27DB8.A156809A.4D7FED01.IP) (Ping timeout)
[15:04:29] <Yurume> newguy, how about adding `io: &[Ignored, Ignored, Ignored]`? (Ignored is in `std::io::process`.)
[15:04:55] *** Joins: pepper_chico (pepper_chi@2E27DB8.A156809A.4D7FED01.IP)
[15:04:57] *** Quits: sellout (Adium@moz-CF70CF20.hlrn.qwest.net) (Quit: Leaving.)
[15:05:00] *** Joins: tcreate (tcreate@moz-90E5C923.hsd1.ma.comcast.net)
[15:05:15] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[15:05:21] <Yurume> it seems that the child process expects the stdin (I don't know why!) and since the child process inherited the stdin/stdout it is blocked on that.
[15:05:22] <arturo> kimundi, btw, what do you think about this: http://pastebin.com/m07EFncu   it's similar to the c++ pimpl idiom it allows me to share an instance of a struct without explicitly wrap it in an RWArc mainly to make the syntax easier but not sure if i'm doing something super wrong :)
[15:06:26] <newguy> yurume: ok, im trying the ignored clause now.
[15:06:32] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Client exited)
[15:07:12] <Yurume> I haven't really used `Process` before (and I certainly didn't used libuv at all) so take my words with a grain of salt :)
[15:07:41] <newguy> Yurume: Ignored is an unresolved name
[15:08:08] <Yurume> even with `use std::io::process::Ignored;`?
[15:08:31] <kimundi> arturo: hm, I wouldn't say that is super wrong. But instead of the SHare trait there, I would just implement Clone
[15:08:49] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[15:09:03] *** Joins: daschl (Adium@moz-A3B8EA95.static.bezeqint.net)
[15:09:07] <newguy> yurume: that fixed it.... checking ignore again...
[15:09:30] <arturo> yes that's what i had before, but having the Share trait make is more explicit that you are not making a full copy but instead a shared reference
[15:10:02] <kimundi> arturo: Well, clone() is not defined as making a full copy
[15:10:13] <kimundi> arturo: So using it for this is completly correct
[15:10:26] <kimundi> arturo: And not using it is confusing :)
[15:10:31] *** Quits: tcreate (tcreate@moz-90E5C923.hsd1.ma.comcast.net) (Client exited)
[15:10:33] <arturo> :) ok, thanks!
[15:10:55] <newguy> yurume: ignored doesnt seem to do anything
[15:11:59] <Yurume> newguy, huh
[15:12:20] <kimundi> arturo: That is, clone() is defined a copying all owned data - and the data in the RWArc is not owned by the struct, only a handle to it, so copying the handle but ending up with shared access to it is correct.
[15:12:23] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[15:12:40] <Yurume> does the server work out of the box? for example, does it accept the input if you run it in the console directly?
[15:12:48] <kimundi> arturo: For a truly independent copy, we have the DeepCLone trait
[15:13:05] <newguy> yurume: it does work out of the box, and when i start it out of the box, it doesnt expect input
[15:13:22] *** Quits: gbarboza (gbarboza@moz-27D488DA.com) (Quit: mIRC v1.47)
[15:13:42] <Yurume> could you show the source code of the server, just in case?
[15:13:42] *** Quits: stephenmac7 (quassel@moz-F2C114C1.hsd1.fl.comcast.net) (Ping timeout)
[15:13:55] <newguy> yurume: sure, one sec
[15:14:17] <Yurume> (and is it in Rust? :)
[15:14:20] <newguy> yes
[15:14:51] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[15:15:03] *** Joins: stephenmac7 (quassel@moz-F2C114C1.hsd1.fl.comcast.net)
[15:15:09] <newguy> yurume: http://pastebin.com/PPKZm50d
[15:16:02] *** Joins: tcreate (tcreate@moz-90E5C923.hsd1.ma.comcast.net)
[15:16:04] <arturo> kimundi: i see, it's just that since the classes were i'm implementing the pattern aren't explicit constructions for shared pointers it seemed confusing to me to use clone, using share made it more clear when using the api, that that object won't make a full clone, i'm using for openGL objects like shaders, textures... so i can share them among several classes. if i call texture.clone() it seems at first sight that i would be making a new
[15:16:04] <arturo> texture with the contents of the first instead of a shared reference. but perhaps i'm too used to c++
[15:16:50] <newguy> yurume: is there any other process that i could maybe start in the background to see if it works with another process? maybe like: top &
[15:16:54] <newguy> ?
[15:18:07] <kvark> arturo: actually, you have a shared pointer to a texture as a variable, so it should look like "texture_ptr.clone()" or "p_texture.clone()", which is not confusing at all at the first sight
[15:18:17] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[15:19:20] <kimundi> arturo: Well, if those Textures etc explicitly share data internally, then I would document that, and a clone() only copying the handle would make perfectly sense. making a independent copy of it is the job of DeepClone in those cases.
[15:19:31] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[15:19:44] <arturo> yes i guess if the class would be called TexturePtr or similar then clone would be more clear but since it's called Texture it would seem that clone would actually copy it's contents, perhaps i should just rename those classes to *Ptr or *Arc or something like that
[15:20:02] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[15:20:08] <arturo> s/class/struct :)
[15:20:13] <kvark> yep
[15:21:29] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[15:21:29] *** Quits: daschl (Adium@moz-A3B8EA95.static.bezeqint.net) (No route to host)
[15:21:40] *** Joins: daschl (Adium@moz-A3B8EA95.static.bezeqint.net)
[15:22:31] <arturo> perfect, thanks!
[15:22:51] <Yurume> newguy, strange. I've tested myself and it seems to work just correctly (it blocks at `wait()` call)
[15:23:17] <Yurume> what OS are you using now? is it Windows?
[15:23:36] <newguy> Yurume: OS X
[15:23:53] <newguy> yurume: so you're getting the same results as i am?
[15:23:59] <Yurume> no
[15:24:04] <Yurume> so I have the code like this:
[15:24:20] <Yurume> println!("starting"); let mut p = ...; println!("waiting"); println!("{}", p.wait());
[15:24:35] <Yurume> and it correctly prints starting and waiting before blocking
[15:25:23] <newguy> Yurume: let me try and test that
[15:25:44] <kvark> arturo: what is it you are working on, out of curiosity?
[15:27:04] *** Joins: jakerr (jakerr@moz-1095CD08.kanagawa.ocn.ne.jp)
[15:27:32] <newguy> yurume: waiting does not print for me
[15:27:40] <Yurume> huh :(
[15:27:53] <Yurume> okay, another choice:
[15:27:55] <newguy> I start the process let mut p = ..., then i print "STARTED", then i call p.wait()
[15:27:59] <newguy> doesnt print it
[15:28:00] <newguy> :(
[15:28:43] <Yurume> #[no_uv]; extern mod native; /* other use stmts here */ #[start] fn start(c:int, v:**u8)->int { native::start(c,v,main) } /* main etc. here */
[15:28:48] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[15:28:48] *** Quits: jvrmaia (jvrmaia@488448C0.A3C460C4.EBCD9D32.IP) (Ping timeout)
[15:29:00] *** Joins: jvrmaia (jvrmaia@488448C0.A3C460C4.EBCD9D32.IP)
[15:29:06] <newguy> yurume: what is that?
[15:29:09] <Yurume> this will replace the runtime to libnative (instead of libgreen, which is default)
[15:29:16] <arturo> kvark: a framework for "creative coding", something similar to openFrameworks (http://openframeworks.cc) using rust, i'm one of the developers of openframeworks, doing this as kind of an experiment to learn rust and see how things translate from c++ to rust
[15:29:20] *** jorendorff_away is now known as jorendorff
[15:29:44] <Yurume> libgreen uses a green thread scheduled by the runtime
[15:29:49] <kvark> arturo: interesting, never heard of openFrameworks before
[15:29:54] <Yurume> libnative uses a native thread scheduled by the OS
[15:30:32] <newguy> hmmm
[15:30:58] <Yurume> ideally there should be no behavior difference between them, but libuv may have a problem so we'd try not to use libuv.
[15:31:03] <Yurume> behavioral*
[15:31:18] <canhtak> hi rust dev's i have a probably stupid question ! Why we have is_null, is_not_null, etc.. as function in std::ptr, and the same as methods in std::ptr::RawPtr?
[15:31:21] *** Quits: JonCarlos (Jon@moz-CB5290F0.nwrknj.fios.verizon.net) (Connection reset by peer)
[15:31:28] *** Joins: JonCarlos (Jon@moz-CB5290F0.nwrknj.fios.verizon.net)
[15:31:33] <arturo> kvark, yeah i guess it's little known outside the the artists/designers community
[15:32:04] *** Quits: io2 (io2@moz-7C3DDBE8.home.otenet.gr) (Ping timeout)
[15:32:05] <newguy> yurume: thanks for your help! I've gotta run though
[15:32:07] *** Quits: andrew-__ (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[15:32:09] <newguy> I appreciate it
[15:32:42] <kvark> arturo: it seems very popular on github though, 2.6K stars is something :)
[15:32:49] <arturo> :)
[15:33:17] *** Parts: daschl (Adium@moz-A3B8EA95.static.bezeqint.net) ()
[15:33:20] <Yurume> arturo, oh, great!
[15:34:17] *** flaper87|afk is now known as flaper87
[15:34:18] *** Quits: gotts (gotts@583D7927.9799C9E7.3F2079FA.IP) (Quit: Lingo - http://www.lingoirc.com)
[15:35:20] *** Quits: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca) (Quit: Leaving.)
[15:35:24] *** Quits: TheHydroImpulse (androirc@moz-1A0DAD73.wireless.telus.com) (Quit: AndroIRC - Android IRC Client ( http://www.androirc.com ))
[15:35:44] <arturo> yurume, thanks :)  i'm liking rust a lot so far
[15:35:54] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[15:36:30] *** Quits: JonCarlos (Jon@moz-CB5290F0.nwrknj.fios.verizon.net) (Quit: From my books surcease of sorrow, sorrow for the lost Lenore.)
[15:36:54] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[15:38:20] *** Quits: dave1629 (dave@BC5891EB.599F34EC.DDE5D3F6.IP) (Quit: dave1629)
[15:38:24] <Yurume> newguy, does it work?
[15:38:54] *** Quits: mletterle (michael@moz-CD281E3A.compute-1.amazonaws.com) (Quit: WeeChat 0.3.7)
[15:39:29] *** Joins: arrdem (arrdem@moz-2E1DB1F9.ece.utexas.edu)
[15:39:46] *** Joins: dave1629 (dave@BC5891EB.599F34EC.DDE5D3F6.IP)
[15:40:03] <newguy> yurume: no, still working on it
[15:40:08] *** Quits: tcreate (tcreate@moz-90E5C923.hsd1.ma.comcast.net) (Client exited)
[15:40:45] *** Joins: sellout (Adium@moz-968E9A09.hsd1.co.comcast.net)
[15:41:05] *** pmoore is now known as pmoore|brb
[15:41:57] *** Quits: KindOne (KindOne@moz-5F568D07.dynamic.ip.windstream.net) (Ping timeout)
[15:42:25] <kimundi> canhtak: Is RawPtr a trait implemented for *T ?
[15:42:34] *** Joins: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com)
[15:42:59] <newguy> yurume: i found out that it gets stuck even before i create the process p with new
[15:43:11] <Yurume> wait, what?
[15:43:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[15:43:29] <newguy> it gets stuck when i create the process config
[15:43:33] <Yurume> !
[15:43:47] *** Quits: NewFolder (adamle@moz-38947329.dedicated.allstream.net) (Connection reset by peer)
[15:43:55] <newguy> i put a print statement right before let mut p = process::......
[15:43:58] <newguy> but it never prints
[15:44:16] <Yurume> with/without libnative?
[15:44:26] *** Quits: fyolnish (fyolnish@moz-D8A4D64C.uqwimax.jp) (Client exited)
[15:44:38] <newguy> with the first one we were initially working with
[15:44:44] *** Quits: canhtak (canhtak@moz-8A625E1D.wl.t.ulaval.ca) (Quit: canhtak)
[15:44:46] *** Joins: fyolnish (fyolnish@moz-D8A4D64C.uqwimax.jp)
[15:44:57] *** Joins: canhtak (canhtak@moz-8A625E1D.wl.t.ulaval.ca)
[15:45:01] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[15:45:29] *** Quits: fyolnish (fyolnish@moz-D8A4D64C.uqwimax.jp) (Client exited)
[15:45:56] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[15:45:57] <canhtak> kimundi: yes
[15:46:01] *** Joins: KindOne (KindOne@moz-69F1472F.dynamic.ip.windstream.net)
[15:46:04] *** Joins: voxpopuli (fanservice@3E03F882.9AD3813C.689607DE.IP)
[15:46:07] *** Quits: pepper_chico (pepper_chi@2E27DB8.A156809A.4D7FED01.IP) (Quit: WeeChat 0.4.1)
[15:46:36] <newguy> Yurume: So its breaking when I'm defining the process struct
[15:46:41] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[15:46:41] <newguy> i have no clue why though
[15:46:55] <Yurume> newguy, ProcessConfig?
[15:46:59] <newguy> yes
[15:47:11] <kimundi> canhtak: hm, well I think then its just legacy/convenience to have both a free standing function and a method
[15:47:12] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[15:47:29] *** Quits: nfroidure (nfroidure@moz-844D3AA9.w90-18.abo.wanadoo.fr) (Quit: Ex-Chat)
[15:47:31] <Yurume> how do you determine `executable`?
[15:47:34] *** Joins: nfroidure (nfroidure@moz-844D3AA9.w90-18.abo.wanadoo.fr)
[15:47:51] <newguy> user input
[15:48:23] <newguy> so if the executable is in the current working directory, and its name is test
[15:48:24] <newguy> ,
[15:48:41] <newguy> then i just pass "test" into the program field of ProcessConfig
[15:48:50] <kimundi> canhtak: Ideally, we'd have a) some kind of nominal marker type Raw<T> that is synonymous to *T, and that would implements these methods directly. And b) Unified method call syntax, which would allow to call them like Raw::is_null(p)
[15:48:54] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[15:48:58] <newguy> which works, because the process starts when i navigate to localhost
[15:49:08] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Quit: Leaving...)
[15:49:17] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[15:49:22] <newguy> but how is that possible? how is the server starting before i create the process with new?
[15:49:38] <kimundi> canhtak: And at that point, both things that currently exist there could get cleaned up
[15:50:33] *** pmoore|brb is now known as pmoore
[15:50:42] <Yurume> newguy, wait, I think `program` needs an absolute path?
[15:51:04] <Yurume> at least for me
[15:51:33] <canhtak> kimundi: hum okay thanks ! maybe i can try to clean this.
[15:51:34] <newguy> Sorry, i do provide the absolute path
[15:51:42] <Yurume> hmm
[15:52:07] <Yurume> could you give the full source code for the parent? I think I have something missing here.
[15:52:19] <Yurume> (since I've seen the source code for the child but not for the parent)
[15:52:52] <kimundi> canhtak: I'd try to remove the freestanding functions and see what falls out of it
[15:52:52] <newguy> yurume: sure
[15:53:34] *** Joins: FreeFull (freefull@moz-1883929A.as13285.net)
[15:53:39] <newguy> yurume: http://pastebin.com/dJqSjk4k
[15:53:43] <olsonjeffery> man. what is going on with freenode.
[15:53:50] <Yurume> it is under the attack
[15:53:55] <newguy> Yurume: its a shell called gash.
[15:54:13] <newguy> supports basic shell commands
[15:54:17] *** Joins: tcreate (tcreate@moz-90E5C923.hsd1.ma.comcast.net)
[15:54:18] <Yurume> oh, good to hear that
[15:54:41] *** Quits: tcreate (tcreate@moz-90E5C923.hsd1.ma.comcast.net) (Client exited)
[15:54:51] <newguy> yurume: also, to run it in the background using the whole child process construct, run the command "./executablename &"
[15:55:02] <newguy> which should start the child process
[15:55:11] <Yurume> rustc: /build/buildd/rust-nightly-201401210405~62f8661~precise/src/llvm/lib/IR/Instructions.cpp:549: void llvm::InvokeInst::init(llvm::Value*, llvm::BasicBlock*, llvm::BasicBlock*, llvm::ArrayRef<llvm::Value*>, const llvm::Twine&): Assertion `(i >= FTy->getNumParams() || FTy->getParamType(i) == Args[i]->getType()) && "Invoking a function with a bad signature!"' failed.
[15:55:16] <Yurume> XD
[15:55:26] <newguy> but it still compiles right?
[15:55:28] <Yurume> (I'm running the nightly, so I should fix some of the code)
[15:55:32] <Yurume> no, it terminates
[15:55:38] <newguy> oh
[15:55:53] <newguy> im running .9
[15:55:55] <Yurume> newguy, are you using the release version of Rust for OSX?
[15:55:57] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[15:55:59] <Yurume> then that might be a problem
[15:56:18] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:56:41] <newguy> yurume: ok
[15:56:47] *** Joins: tcreate (tcreate@moz-90E5C923.hsd1.ma.comcast.net)
[15:56:59] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Connection reset by peer)
[15:57:12] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:57:45] *** Quits: tcreate (tcreate@moz-90E5C923.hsd1.ma.comcast.net) (Client exited)
[15:58:04] *** Joins: bl4ze (plw@moz-F573DB03.neoplus.adsl.tpnet.pl)
[15:58:08] <Yurume> newguy, oh, wait, I think this might be a culprit: `spawn(proc() { ... })` instead of `spawn({ ... })`
[15:58:33] <newguy> yurume: im on it... ill keep you posted
[15:58:51] <Yurume> ah, clever! I wondered why does it get compiled without an error
[15:59:23] <newguy> yurume: it breaks when i do that
[15:59:28] <Yurume> that's because... {} has an infinite loop that does not break (but does return from main) so spawn() is never called.
[15:59:57] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[16:00:01] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[16:00:07] <Yurume> (since {...} does not return, it can have any type and thus conforms to spawn. similarly to fail!().)
[16:00:37] <newguy> yurume: hmmm
[16:00:42] <Yurume> newguy, you are using spawn() in the wrong way, it would break naturally since it moves some variables into the proc closure.
[16:01:13] <newguy> yurume: ok, how should i use it?
[16:01:39] <FreeFull> No rusti ):
[16:01:53] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Quit: Leaving...)
[16:01:56] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[16:02:20] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[16:02:23] <Yurume> newguy, looking at the source code, the simplest solution is to move `spawn` out of the `Shell`.
[16:02:59] <Yurume> but that is not what you want probably
[16:03:09] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[16:03:19] <newguy> right, i think i need spawn within the shell
[16:03:30] *** Quits: btipling (btipling@moz-D51E0AEB.xen.prgmr.com) (Quit: ZNC - http://znc.sourceforge.net)
[16:03:45] *** pmoore is now known as pmoore|brb
[16:03:54] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[16:04:27] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[16:04:53] <Yurume> technically speaking, a working shell with a pipeline and background job can be achieved without using spawn.
[16:05:02] *** Quits: bl4ze (plw@moz-F573DB03.neoplus.adsl.tpnet.pl) (Ping timeout)
[16:05:25] <newguy> Yurume: i was thinking about using tasks, but someone on here directed me to spawning processes
[16:05:27] <Yurume> since it is mostly a matter of having the correct file descriptors connected to each process (and some termios).
[16:05:58] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[16:06:12] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[16:06:16] <Yurume> if you want to use spawn, then you would need to redesign some of the `Shell` method.
[16:06:22] <newguy> yurume: gotchya
[16:06:30] *** Joins: btipling (btipling@moz-D51E0AEB.xen.prgmr.com)
[16:07:00] <Yurume> basically, using spawn means you cannot access the outside (and even `self`) without additional machinaries.
[16:07:01] *** Quits: jesse99 (jesse99@moz-8B1E0C5D.hsd1.wa.comcast.net) (Ping timeout)
[16:07:03] *** Joins: andrew-d_w (andrew-d_w@moz-566A46AA.nat.bb.dnainternet.fi)
[16:07:43] <Yurume> that's why `Arc`, `RWArc`, `Chan`/`SharedChan` and `Port` exist: they enables the safe communication between tasks.
[16:07:47] *** Quits: btipling (btipling@moz-D51E0AEB.xen.prgmr.com) (Quit: ZNC - http://znc.sourceforge.net)
[16:07:48] <Yurume> they enable*
[16:08:08] <newguy> ah ok
[16:08:10] <Yurume> in the other words, the direct communication between tasks is inherently unsafe (and thus cannot be used as is)
[16:09:09] <Yurume> sorry for not having a direct answer (your example seems very surprising gotcha) but yeah, spawn is something comes with a cost :)
[16:09:24] *** Joins: btipling (btipling@moz-D51E0AEB.xen.prgmr.com)
[16:09:49] <newguy> ill keep looking for a workaround yurume!
[16:10:08] *** Joins: mankyKitty (Instantbir@moz-9B898D95.enst-bretagne.fr)
[16:10:20] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[16:10:23] <newguy> but thanks alot! youve helped a ton
[16:10:24] *** Quits: mankyKitty (Instantbir@moz-9B898D95.enst-bretagne.fr) (Quit: mankyKitty)
[16:12:00] *** Quits: jweinberg (jweinberg_@3E5CF971.9533F93D.26E46D7D.IP) (Client exited)
[16:12:01] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Quit: leaving)
[16:13:08] *** Joins: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us)
[16:13:32] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Ping timeout)
[16:14:45] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[16:14:49] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[16:16:36] *** Joins: tcreate (tcreate@7A81425E.56D5E97.57CA5550.IP)
[16:18:00] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[16:18:17] *** Quits: tcreate (tcreate@7A81425E.56D5E97.57CA5550.IP) (Ping timeout)
[16:19:02] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[16:20:08] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[16:20:20] *** Joins: bl4ze (plw@moz-44304BD5.neoplus.adsl.tpnet.pl)
[16:20:21] *** Quits: rca (rcatolino@moz-7840ADE2.adsl.proxad.net) (Quit: leaving)
[16:20:43] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[16:21:10] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[16:23:53] *** Quits: voxpopuli (fanservice@3E03F882.9AD3813C.689607DE.IP) (Ping timeout)
[16:23:57] *** Quits: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP) (Quit: leaving)
[16:24:07] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:24:15] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:24:36] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[16:24:36] *** Quits: ekiara (emk@E611C66B.E1B12B64.D6476027.IP) (Quit: leaving)
[16:24:44] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[16:25:06] *** jorendorff is now known as jorendorff_away
[16:28:04] *** pmoore|brb is now known as pmoore
[16:28:41] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Client exited)
[16:30:08] *** pmoore is now known as pmoore|away
[16:37:16] *** Joins: voxpopuli (fanservice@3E03F882.9AD3813C.689607DE.IP)
[16:38:00] *** Quits: squiddy (squiddy@moz-38E516B.adsl.alicedsl.de) (Ping timeout)
[16:38:54] <Ms2ger> Wasn't rustc --pretty supposed to be pretty?
[16:39:42] <FreeFull> No
[16:39:45] <FreeFull> It's ironic
[16:40:02] <pnkfelix> Ms2ger: prettiness is in the eye of the beholder.  Isn't normalization the real goal of a pretty-printer?
[16:40:26] <Ms2ger> loop  { foo = ""; break ; }
[16:40:39] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[16:41:07] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[16:41:23] *** Joins: zeenix (zeenix@moz-B92AB3AA.range109-158.btcentralplus.com)
[16:41:37] <pnkfelix> Ms2ger: perhaps an instance of issue #850 ?
[16:41:57] *** Parts: zeenix (zeenix@moz-B92AB3AA.range109-158.btcentralplus.com) (Leaving)
[16:42:15] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[16:42:19] <Ms2ger> Possibly
[16:42:53] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[16:43:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[16:43:28] <newguy> I created a method 'A', and within a method 'B' i call spawn(proc() { A() }); but I get an error: cannot capture variable of type `&str`, which does not fulfill `Send`, in a bounded closure
[16:43:40] <newguy> Does anyone know what that entails?
[16:44:03] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[16:44:39] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[16:44:51] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[16:45:00] *** Joins: fyolnish (fyolnish@moz-FA5A0956.uqwimax.jp)
[16:45:05] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[16:45:29] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Ping timeout)
[16:45:38] *** Quits: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net) (Quit: calvinmetcalf)
[16:45:51] *** Joins: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net)
[16:46:44] *** Quits: Kxepal (Miranda@moz-1A176845.pppoe.mtu-net.ru) (Ping timeout)
[16:46:45] *** victorporof is now known as victorporof|away
[16:47:33] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[16:47:35] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[16:47:50] <newguy> does anyone have experience with spawning tasks?
[16:48:11] <Ms2ger> As a pedant: somebody does
[16:48:19] <newguy> lol
[16:48:26] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[16:48:30] *** Joins: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca)
[16:48:53] <jakerr> newguy can you post a gist with actual code?
[16:49:00] <newguy> sure, one sec
[16:49:17] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[16:49:53] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[16:50:07] *** Joins: Kxepal (Miranda@moz-94E27C3F.pppoe.mtu-net.ru)
[16:50:18] <newguy> jakerr: http://pastebin.com/0hPGj5Lg
[16:50:50] <newguy> jakerr: executable is a path to the executable 
[16:51:20] <FreeFull> newguy: You are passing the &str from the parent process to the child there
[16:51:26] *** Quits: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net) (Quit: kellogh)
[16:51:32] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Quit: Leaving...)
[16:51:32] <FreeFull> So it does need Send or something similar
[16:51:40] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[16:52:03] <newguy> freefull: ah ok, would i need to create a port/channel for that?
[16:52:11] <newguy> or is there an easier way?
[16:52:27] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[16:52:52] *** jorendorff_away is now known as jorendorff
[16:54:06] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[16:54:24] <FreeFull> newguy: I think it might work if it was a ~str instead, but not sure about that
[16:54:57] <newguy> freefull: ill give it a try
[16:54:59] <eddyb> DAMMIT
[16:55:12] <eddyb> I need to stop dragging links to chrome. third time I crashed it today like that
[16:55:19] *** Joins: spp (Mibbit@8756AD80.E8D9784A.16062995.IP)
[16:55:40] *** Quits: KindOne (KindOne@moz-69F1472F.dynamic.ip.windstream.net) (Ping timeout)
[16:55:45] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Client exited)
[16:56:09] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: nical)
[16:56:11] *** Quits: fyolnish (fyolnish@moz-FA5A0956.uqwimax.jp) (Ping timeout)
[16:56:13] <newguy> freefull: the thing is, &str executable is a product of splitting another string, so it has to be & right?
[16:56:54] <newguy> even after using .to_owned(), i get the same error
[16:57:11] <sfackler> newguy: You'll need ot call to_owned outside of the closure, and then use the result inside of it
[16:57:26] *** Quits: alexherbo2 (alexherbo2@moz-5686FDD1.w83-199.abo.wanadoo.fr) (Ping timeout)
[16:57:28] <newguy> im not sure what you mean
[16:57:45] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[16:57:48] <FreeFull> I think there is an .into_owned()
[16:57:55] <eddyb> FreeFull: doubt it
[16:57:58] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[16:58:03] <eddyb> you can't zero-copy go from &T to ~T
[16:58:23] <sfackler> like "let executable = foo.split(...)....; let executable = executable.to_owned(); spawn(proc() { foo(executable); }"
[16:58:35] *** Quits: aklt (aklt@83B8238.6BE5A349.B330AC0A.IP) (Quit: leaving)
[16:58:49] <FreeFull> eddyb: I think into_owned does copy if not copying isn't possible
[16:59:01] <Ms2ger> eddyb, sure can
[16:59:05] <eddyb> FreeFull: how is "not copying" ever possible?
[16:59:06] <Ms2ger> transmute ;)
[16:59:13] <newguy> sfackler: that worked!
[16:59:16] *** Joins: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net)
[16:59:24] <FreeFull> When you're going from ~str to ~str
[16:59:46] <eddyb> FreeFull: that's *already* owned
[16:59:59] *** Joins: KindOne (KindOne@moz-F39BD27B.dynamic.ip.windstream.net)
[17:00:03] *** Quits: canhtak (canhtak@moz-8A625E1D.wl.t.ulaval.ca) (Quit: canhtak)
[17:00:24] <FreeFull> eddyb: Yeah, .into_owned() is implemented for ~str and &'a str
[17:00:35] <eddyb> how can... that make sense?
[17:00:36] *** Quits: dave1629 (dave@BC5891EB.599F34EC.DDE5D3F6.IP) (Quit: dave1629)
[17:00:43] <Ms2ger> newguy, the issue with the clone inside the proc is that you'd do the copy in another process (conceptually), after the original &str already (might have) died
[17:00:56] <sfackler> into_owned should not exist for a &str
[17:01:03] *** Joins: herrwolfe45 (user@CACBD77F.4EBBBE62.C082B7DC.IP)
[17:01:06] <eddyb> and it's a noop for ~str
[17:01:30] <eddyb> into is for a specific pattern, where you produce something different (in type, for example), without using additional memory
[17:01:43] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Quit: Lost terminal)
[17:02:11] <eddyb> so you can have into_str for ~[u8] -> Result<~str, ~[u8]> though that's probably a std::str function with "from" in it
[17:02:13] *** Joins: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP)
[17:02:14] *** Joins: alexherbo2 (alexherbo2@moz-33868228.w90-35.abo.wanadoo.fr)
[17:02:22] <FreeFull> eddyb: http://static.rust-lang.org/doc/master/std/str/trait.Str.html This is what I'm looking at
[17:03:12] <eddyb> "Convert self into a ~str, not making a copy if possible" what?
[17:03:26] *** Quits: spp (Mibbit@8756AD80.E8D9784A.16062995.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:03:30] <eddyb> and it's impl-- that's why
[17:03:38] <eddyb> FreeFull: it's implemented for SendStr *sigh*
[17:04:17] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[17:04:21] <eddyb> pretty sure this stuff is implemented only for slices in the case of vectors. the API looks weird here to make SendStr, &str and ~str easier to use in generic contexts
[17:04:54] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[17:05:46] *** Joins: dave1629 (dave@BC5891EB.599F34EC.DDE5D3F6.IP)
[17:06:05] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[17:06:28] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[17:07:11] *** Joins: onelson (onelson@moz-DD666EC5.laika.com)
[17:07:11] *** Joins: Ferreus (ferreus@moz-889258AB.pools.arcor-ip.net)
[17:07:12] *** Quits: fabiand (fabiand@moz-6FA00DF4.adsl.alicedsl.de) (Quit: Verlassend)
[17:07:20] *** Joins: avsej (avsej@D9A610B8.4841F515.FB33447D.IP)
[17:08:17] *** Quits: newguy (Mibbit@7CDEE0C1.83BCE10.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:08:29] *** Quits: sellout (Adium@moz-968E9A09.hsd1.co.comcast.net) (Quit: Leaving.)
[17:08:36] *** Quits: pauls (pauls@moz-BFEF1F22.ccs.neu.edu) (Quit: Ignore me!!)
[17:11:08] *** Joins: canhtak (canhtak@moz-8A625E1D.wl.t.ulaval.ca)
[17:11:57] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[17:12:01] *** Quits: marianoguerra (marianogue@moz-40C4E57D.dip0.t-ipconnect.de) (Ping timeout)
[17:13:06] *** Quits: benjamin_ (benjamin@moz-98B43171.dip0.t-ipconnect.de) (Ping timeout)
[17:13:07] *** Joins: sellout (Adium@2917A62E.8B65BA63.1D2A2C57.IP)
[17:14:38] *** Joins: herrwolf` (user@CACBD77F.4EBBBE62.C082B7DC.IP)
[17:15:06] *** Quits: herrwolfe45 (user@CACBD77F.4EBBBE62.C082B7DC.IP) (Ping timeout)
[17:15:43] <jasom> Is it possible to parameterize a function by type mutability only?
[17:16:05] <jasom> I have two functions that are identical code except for mutability
[17:16:23] <o11c> I haven't found a way, except using macros
[17:16:32] * o11c is sad that rust isn't DRY
[17:17:08] <jasom> o11c: I'm sure it will be added if needed (It might even be possible to make a generic macro to do so)
[17:17:33] <jasom> But a syntax like named lifetimes that included mutability would do it
[17:17:39] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[17:18:12] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[17:18:24] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[17:19:20] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[17:19:47] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[17:20:10] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[17:20:34] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[17:20:37] *** Joins: icebattle (wayne@8A14A542.EBE2EE2B.C7CEC4ED.IP)
[17:20:46] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[17:21:08] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[17:21:35] *** Joins: wilmoore (wilmoore@moz-1248C037.mystrotv.com)
[17:21:37] *** Parts: xoebus (xoebus@moz-A192BC54.xen.prgmr.com) ()
[17:21:37] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[17:23:52] *** Quits: tOkeshu (tOkeshu@moz-BC063B9E.me) (Quit: Coyote finally caught me)
[17:25:12] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Connection reset by peer)
[17:26:27] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[17:26:37] *** Joins: rca (rcatolino@moz-7840ADE2.adsl.proxad.net)
[17:27:28] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[17:27:37] *** Quits: alex-abreu (alex@C08D9303.9289A342.80AB4F0.IP) (Ping timeout)
[17:28:37] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[17:29:22] *** Joins: tOkeshu (tOkeshu@moz-BC063B9E.me)
[17:29:38] *** Quits: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca) (Quit: Leaving.)
[17:30:28] *** Joins: jesse99 (jesse99@moz-8B1E0C5D.hsd1.wa.comcast.net)
[17:30:35] *** Quits: andrew-d_w (andrew-d_w@moz-566A46AA.nat.bb.dnainternet.fi) (Ping timeout)
[17:30:50] <jxs> hi there guys, on the tutorial page is there a special reason to be enum List { Cons(u32, ~List), Nil } instead of enum List { Cons(~u32, ~List), Nil } ?
[17:31:20] <eddyb> jxs: the latter makes unnecessary heap allocations
[17:31:28] <Ms2ger> Because heap allocations are expensive
[17:31:35] <FreeFull> There is no reason to have ~u32 instead of u32
[17:32:58] *** jdm is now known as jdm|away
[17:33:21] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[17:33:54] <jxs> ok thanks, so primitive types should not be allocated on the heap?
[17:33:56] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:34:24] <FreeFull> It's more that you shouldn't wrap things unless you have to
[17:35:06] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[17:35:16] <jasom> jxs: not just unnecessary heap allocation,s assigning a u32 to another u32 will copy the value, assigning a ~u32 to another ~u32 will move ownership
[17:37:01] <jasom> hmmm is it not possible to borrow mutable references to 2 different elements of a vector at the same time?
[17:37:19] <eddyb> jasom: you can split a &mut [T] at an index
[17:37:33] *** Quits: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP) (Input/output error)
[17:37:52] *** Joins: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[17:38:15] <eddyb> jxs: if you can do ~[u32], you shouldn't do ~[~u32]. there are exceptions, but most of them are micro-optimizations that require you to know what you're doing (and profile, etc.)
[17:38:34] <jxs> ok eddyb thanks!
[17:38:38] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[17:39:11] <eddyb> your original question was basically List<u32> vs List<~u32> - vectors are simpler to demonstrate with
[17:39:49] <eddyb> jxs: one u32 is 4 bytes while ~u32 on x64 is 8 bytes, pointing to another 4 bytes (which tend to occupy at least 8-16 bytes of heap space, depending on the allocator)
[17:40:00] <eddyb> so you can see how wasteful that is
[17:40:10] <jxs> ok i see
[17:40:14] <jxs> thanks!
[17:40:27] <FreeFull> If you have some huge struct, you might want to avoid copying
[17:40:32] <herrwolf`> eddyb: i'm using ~[u8] pretty frequently in some of my code (I'm also new to rust). My thought process has been that I am being efficient by passing around a pointer to a byte array - is this the incorrect way to think about it? I'm typically *not* modifying the original [u8] once I begin passing it around.
[17:40:35] <FreeFull> But for u32, probably not
[17:41:11] <jxs> also jasom touched a another subject where i have confusion: fn prepend(xs: List, value: u32) -> List { Cons(value, ~xs) }
[17:41:16] <o11c> herrwolf`: looks like a case for &[u8] actually
[17:41:21] <jxs> in that example what does ~xs refer to?
[17:41:38] <sp3d> I wonder if it would be reasonable to create a MaybeEmbed<T> (awful name) that's like ~T unless T is <= the size of a pointer on that arch in which case it stores it directly
[17:41:51] <eddyb> herrwolf`: it is a pointer to a byte array. &[u8] is immutable and you can have multiple references to the same data
[17:42:17] <sp3d> IIRC that's something we could do for ~ internally but I don't know if there are reasons to avoid complicating whether ~ results in mallocs or such
[17:42:19] <herrwolf`> eddyb o11c ok that really does sound like what I should be using
[17:42:43] <jasom> jxs: To prepend to a linked-list you crate a new linked-list cell that contains the value to be prepended, and a reference to what used to be the front of the list, right?
[17:42:43] *** Quits: jix (jix@moz-D969BFFC.de) (Client exited)
[17:42:52] *** Joins: newguy (Mibbit@7CDEE0C1.83BCE10.DDE5D3F6.IP)
[17:43:10] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Quit: Leaving)
[17:43:17] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[17:43:21] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[17:43:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[17:43:41] <eddyb> herrwolf`: ~[u8] is not worse than &[u8] - at least in theory, our current implementation is a bit silly. Vec<u8> is the replacement and it should be as efficient as a slice fo all the same operations. but we're really deep in details by this point. just don't use a linked list :P
[17:43:42] *** Joins: espindola (espindola@moz-8F837B07.dsl.teksavvy.com)
[17:44:27] <jxs> yes jasom, and i can figure it's not & because the function doesn't take & as parameter, but it also does not take pointer right otherwise it would be ~List no? 
[17:44:48] <jasom> jxs: no the difference between & and ~ is important
[17:44:57] <herrwolf`> eddyb: thanks - I think one of the pieces i'm still not entirely sure I understand is which operations constitue destroying the original value. But, with the the change to the & pointer type, I wouldn't be able to consume (in the destructive sense) the original value, would I?
[17:45:04] <o11c> jxs: just because it's not ~ doesn't mean it's not owned
[17:45:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[17:45:33] <eddyb> herrwolf`: myeah
[17:45:33] *** Joins: Jemaclus (Mibbit@4EEAB704.5843BA5A.D4E4C7A5.IP)
[17:45:54] *** Joins: espindol_ (espindola@moz-9F530B29.com)
[17:46:18] *** Joins: flu- (chain@moz-5E956C03.se.net)
[17:46:37] <jxs> jasom,o11c yes that's what i still don't understand, i mean you use ~to specify that you have a pointer, on declaration, and to create on the heap when instantiating, but inside that function i still not quite get it  
[17:47:02] *** Quits: japaric (japaric@290150F2.C68AB816.F29ED47E.IP) (Ping timeout)
[17:47:13] *** Quits: espindola (espindola@moz-8F837B07.dsl.teksavvy.com) (Ping timeout)
[17:47:27] <o11c> jxs: in this case, the ownership is specified *inside* the value
[17:47:30] <jasom> jxs: ~ is a reference that owns whatever the reference refers to; when the reference goes away, so does the referrant.  & does not own the referrant -- it borrows the referrant -- , when the reference goes away, the referrant remains
[17:47:51] *** Quits: flu- (chain@moz-5E956C03.se.net) (Quit: leaving)
[17:47:58] <o11c> this is written in a function style, so it consumes one (owned, non-pointer) value and produces another
[17:47:58] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[17:48:05] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Ping timeout)
[17:48:06] <o11c> *functional
[17:48:34] *** Joins: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com)
[17:49:44] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[17:49:53] *** Quits: ash_ (ash@15DEC023.DFC68827.9C33A531.IP) (Ping timeout)
[17:50:03] <jasom> jxs: ~xs boxes the value that is passed in.
[17:50:07] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[17:50:07] *** Quits: [o__o] (~o__o@604A2740.DB688352.F4ADE383.IP) (Input/output error)
[17:50:20] *** Joins: [o__o] (~o__o@604A2740.DB688352.F4ADE383.IP)
[17:50:47] <hoverbear> Anyone here used Coffeescript? http://coffeescript.org/ I really like how it handles some things (ranges, comprehensions), hate how it handles others (Optional brackets, 'unless', etc)
[17:50:57] *** Joins: ash_ (ash@15DEC023.DFC68827.9C33A531.IP)
[17:51:01] *** Quits: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com) (Quit: johnmurray)
[17:51:23] <jxs> ok, i kinda see it, thanks! let me just recap and see if i can get it right
[17:51:45] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[17:51:46] <jasom> jxs: and remember *inside* the xs (assuming it's not Nil) is an owned reference.  Passing it to "prepend" is the same as an assignment, so it moves ownership of that reference
[17:52:15] <jxs> yes, jasom, that i can understand thanks! 
[17:53:24] <hoverbear> jasom: That's a great desription, you cleared it up for me too I think.
[17:53:44] *** Joins: squiddy (squiddy@moz-38E516B.adsl.alicedsl.de)
[17:54:14] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[17:54:27] *** Quits: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net) (Quit: kellogh)
[17:55:24] *** Joins: fyolnish (fyolnish@moz-B5012604.uqwimax.jp)
[17:55:34] *** Joins: jix (jix@moz-D969BFFC.de)
[17:55:42] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[17:56:07] *** jdm|away is now known as jdm
[17:56:11] <newguy> is there a way to manually call the SIGINT interrupt function?
[17:56:27] <newguy> without having to press ctrl-C
[17:56:39] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[17:56:43] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[17:56:44] <FreeFull> newguy: As in?
[17:57:04] <FreeFull> You could use kill/killall/pkill to send it, or write a program to send it
[17:57:14] *** Quits: fyolnish (fyolnish@moz-B5012604.uqwimax.jp) (Ping timeout)
[17:57:19] <newguy> so instead of me typing in Ctrl-C in terminal to perform a keyboard interrupt, i'd like to just call it at some point in the program
[17:57:27] <newguy> without listening for my keyboard input
[17:57:52] <FreeFull> You could probably have the program send SIGINT to itself, or maybe there is a shorter way
[17:58:12] <newguy> ok, i think sending sigint to itself is my best bet
[17:58:13] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:58:45] <newguy> freefull: but im not sure how to do that lol
[17:58:51] <jasom> eddyb: okay I give up; what's the syntax for splitting a vector ref based on index?
[17:58:51] *** Joins: calvinmetcalf_ (cmetcalf@F7C10225.5A8698B7.38E31EF.IP)
[17:59:03] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[17:59:06] <eddyb> jasom: it's a method on &mut [T]
[17:59:12] <eddyb> jasom: mut_split_at, I think
[17:59:24] *** Quits: jakerr (jakerr@moz-1095CD08.kanagawa.ocn.ne.jp) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:59:31] <Tari> newguy: libc::kill()
[17:59:32] <sp3d> newguy: there's "raise(int sig);" if you want to send the signal to the current process, otherwise you want kill
[17:59:51] *** Quits: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net) (Ping timeout)
[17:59:51] *** calvinmetcalf_ is now known as calvinmetcalf
[18:00:00] <jasom> there also seems to be mut_ref_slice
[18:00:25] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Client exited)
[18:00:35] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[18:00:35] *** ChanServ sets mode: +ao dherman dherman
[18:00:39] <o11c> newguy: raise()
[18:00:46] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[18:00:49] <newguy> ok
[18:00:49] <FreeFull> raise(2)
[18:01:00] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[18:01:00] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:01:02] <newguy> gotchya
[18:01:11] <o11c> no hard-coded signal numbers
[18:03:17] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[18:03:49] *** Joins: calvinmetcalf_ (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net)
[18:04:12] *** Quits: calvinmetcalf (cmetcalf@F7C10225.5A8698B7.38E31EF.IP) (Ping timeout)
[18:04:12] *** calvinmetcalf_ is now known as calvinmetcalf
[18:05:23] *** Joins: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net)
[18:05:43] *** Joins: calvinmetcalf_ (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net)
[18:05:53] *** Quits: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net) (Ping timeout)
[18:05:54] *** calvinmetcalf_ is now known as calvinmetcalf
[18:09:11] *** Joins: lfox (lfox@moz-8C19C973.nyc.res.rr.com)
[18:09:43] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[18:09:50] *** Quits: dave1629 (dave@BC5891EB.599F34EC.DDE5D3F6.IP) (Quit: dave1629)
[18:10:55] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[18:11:20] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[18:11:22] *** Quits: nszceta (hax@moz-E458A7C0.pharm.pitt.edu) (Input/output error)
[18:11:53] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.3.1)
[18:12:19] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[18:12:30] *** Quits: Jemaclus (Mibbit@4EEAB704.5843BA5A.D4E4C7A5.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:13:58] *** Quits: lfox (lfox@moz-8C19C973.nyc.res.rr.com) (Quit: )
[18:15:12] <newguy> how do i make a &str into a ~str?
[18:15:29] <newguy> to.owned() does not work
[18:15:47] <cmr> to_owned()
[18:16:08] <newguy> oh sorry thats what i meant
[18:16:23] <cmr> it *does* work...
[18:16:47] <pnkfelix> newguy: probably need to show us a minimal gist of a code snippet to get useful feedback.
[18:16:55] *** Joins: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca)
[18:17:08] <newguy> i think it worked, what i was trying to do was reassign the new str to the original
[18:17:14] <newguy> i just created a new one and it seemed to work
[18:17:19] *** Quits: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP) (Ping timeout)
[18:17:29] *** Quits: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net) (Ping timeout)
[18:18:02] *** Quits: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP) (Quit: Lost terminal)
[18:18:15] *** Joins: calvinmetcalf (cmetcalf@F7C10225.5A8698B7.38E31EF.IP)
[18:19:55] <FreeFull> newguy: Yeah, the original will have the type &str no matter what
[18:20:31] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[18:20:41] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[18:21:03] *** Joins: Jemaclus (Mibbit@4EEAB704.5843BA5A.D4E4C7A5.IP)
[18:21:20] *** Joins: yuriks (yuriks@6A0B4D7B.A9CCF389.F3163DCD.IP)
[18:21:52] *** Joins: calvinmetcalf_ (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net)
[18:22:02] *** Joins: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP)
[18:22:12] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[18:22:33] *** Quits: calvinmetcalf (cmetcalf@F7C10225.5A8698B7.38E31EF.IP) (Ping timeout)
[18:23:07] *** Joins: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net)
[18:23:31] <newguy> what does this mean: cannot capture variable of type `std::run::ProcessOptions<>`, which does not fulfill `Send`, in a bounded closure
[18:23:36] *** Quits: calvinmetcalf_ (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net) (Ping timeout)
[18:24:09] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[18:24:38] <newguy> do i have to create a port,channel in order to send to process to the task?
[18:24:41] <pnkfelix> newguy: `Send` is a bound that some types satisfy, that marks them as being able to be sent between tasks
[18:25:05] <newguy> pnkfelix: was the last comment i made correct?
[18:25:10] <Jesse> rusti: ~"i miss you"
[18:25:51] <cmr> newguy: you can only send things which fulfill Send over ports/channels
[18:25:53] <cmr> so, no.
[18:26:13] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Ping timeout)
[18:26:13] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[18:26:49] <newguy> cmr: ok, how would i go about starting a process in a task?
[18:26:51] <cmr> there's no way to get a ProcessOptions from one task to another, unfortunately.
[18:27:01] <cmr> newguy: construct the ProcessOptions in the other task.
[18:27:22] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[18:28:06] <newguy> cmr: ok
[18:29:19] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[18:30:38] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[18:30:50] *** Joins: new_one (new_one@7245A2DE.AAAF9A7F.B3C0173E.IP)
[18:31:20] *** Joins: takuin_ (takuin@moz-21A5F23D.ks.ks.cox.net)
[18:31:22] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[18:32:20] *** Joins: Chillectual (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us)
[18:32:54] *** Quits: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us) (Ping timeout)
[18:33:20] <newguy> cmr: i created a task that starts a child process. how would i go about going back to the parent process? i.e: getting out of the task, without shutting it down
[18:34:18] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[18:34:18] *** Chillectual is now known as LinearInterpol
[18:34:24] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[18:35:34] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[18:35:44] *** Quits: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us) (Quit: Hack the planet.)
[18:36:27] <newguy> cmr: the program just stays in process that i created in the task, but id like to go back to the parent process
[18:36:35] *** Quits: Kynes (Kynes@moz-3DC6C6E7.mit.edu) (Quit: Leaving)
[18:36:53] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[18:37:23] *** Joins: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net)
[18:37:53] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[18:37:53] *** Joins: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net)
[18:38:05] *** Joins: amir (amir@moz-467F7F30.cust.bluewin.ch)
[18:38:17] *** Joins: \n (uid15310@moz-31ABA2C0.irccloud.com)
[18:38:37] <\n> what's a "one shot stack closure"? https://github.com/mozilla/rust/blob/ec4b456b26cd019b8b2a4a8a3f9fa9841904bf09/src/librustc/middle/mem_categorization.rs#L518
[18:39:15] *** Quits: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net) (Quit: Leaving.)
[18:39:54] *** Joins: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net)
[18:40:42] <jasom> why can't I bind by-move into a pattern guard?
[18:41:55] <eddyb> jasom: because it means you will sometimes move and other times not move
[18:42:02] <jasom> eddyb: that's what I want
[18:42:15] *** Quits: KindOne (KindOne@moz-F39BD27B.dynamic.ip.windstream.net) (Ping timeout)
[18:42:19] *** Quits: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net) (Quit: bye!)
[18:42:26] *** Joins: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net)
[18:42:36] <jasom> I had to rewrite my code to always move, then with the conditional in the pattern guard move back if I didn't want to move.  Was a bit annoying
[18:42:41] <herrwolf`> I have kind of a naive question - I'm looking to write a somewhat more complex system in rust to learn the language a bit better. Would writing a key value store similar to redis, as in not an embedded data store but one allowing concurrent access - be a good project that could take advantage of rust's features?
[18:42:44] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[18:43:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[18:43:51] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[18:45:03] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[18:45:16] *** Joins: fyolnish (fyolnish@moz-B5012604.uqwimax.jp)
[18:45:46] *** Quits: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net) (Quit: bye!)
[18:45:52] *** Quits: Jemaclus (Mibbit@4EEAB704.5843BA5A.D4E4C7A5.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:45:58] *** Joins: fabiand (fabiand@moz-6FA00DF4.adsl.alicedsl.de)
[18:46:18] *** Joins: KindOne (KindOne@moz-FF852905.dynamic.ip.windstream.net)
[18:46:19] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:46:24] *** Joins: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net)
[18:46:50] *** Joins: gimpf (gimpf@moz-2E64FEA7.adsl.highway.telekom.at)
[18:46:59] *** Quits: fyolnish (fyolnish@moz-B5012604.uqwimax.jp) (Ping timeout)
[18:48:38] *** Joins: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[18:49:19] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:51:11] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[18:51:21] *** Joins: dave1629 (dave@733B47A.B99481B3.DDE5D3F6.IP)
[18:51:56] *** Joins: Jemaclus (Mibbit@4EEAB704.5843BA5A.D4E4C7A5.IP)
[18:53:09] *** Joins: chromatic (chromatic@moz-28CBC7F4.hsd1.or.comcast.net)
[18:53:38] *** Joins: pauls (pauls@moz-BFEF1F22.ccs.neu.edu)
[18:54:10] <steveklabnik> herrwolf`: it would certainly make you learn them, yes
[18:55:47] <Jemaclus> nevermind, it does work as i expected, i'm just a moron.
[18:55:59] *** Joins: fyolnish (fyolnish@moz-B5012604.uqwimax.jp)
[18:56:03] <herrwolf`> steveklabnik: thanks
[18:56:38] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[18:57:07] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[18:57:08] *** Joins: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP)
[19:00:13] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Quit: Leaving...)
[19:00:58] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[19:02:22] *** Joins: marianoguerra (marianogue@moz-57045709.dip0.t-ipconnect.de)
[19:03:21] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[19:03:24] *** Quits: newguy (Mibbit@7CDEE0C1.83BCE10.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:03:55] <mark_edward> hey i have some inquiries. what should a good Error type be like if im writing a library?
[19:05:15] <kimundi> mark_edward: What do you mean with that?
[19:05:20] *** Quits: fyolnish (fyolnish@moz-B5012604.uqwimax.jp) (Ping timeout)
[19:05:43] <kimundi> In general, the error should be descriptive 
[19:06:10] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Client exited)
[19:06:26] *** Quits: Takuin (AndChat680@moz-21A5F23D.ks.ks.cox.net) (Connection reset by peer)
[19:06:30] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[19:06:40] *** Quits: KindOne (KindOne@moz-FF852905.dynamic.ip.windstream.net) (Ping timeout)
[19:06:49] <Matthias247> small, cloneable
[19:07:04] <pzol> So I got this issue with map.mangle... by itself it works fine, but if I assign the result to some variable, the map is borrowed and I can't access it anymore https://gist.github.com/pzol/8790126
[19:07:06] <mark_edward> so i want to write some utilities for dealing with JSON conveniently. i was think about say `struct Error<'a> { cause: &'a Json, msg: &'a str }, but then this pollutes everything with lifetimes, but then there are no allocations
[19:07:18] <o11c> a pair of integers - the first a general code that can be matched against by user code; the second something that can be converted to a str
[19:07:18] <Matthias247> take a look at the error codes in boost. they are imho pretty good
[19:07:44] <o11c> I don't think errors need to be tied to a cause directly
[19:07:58] <jxs> fn transform(p: &Point) -> Point { Point { x: p.x + 1, y: p.y + 1} } why is that in this case, p.x doesn't need to be dereferenced?
[19:08:15] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[19:09:01] *** Joins: Hildar (Mibbit@moz-7F4621B6.cable.virginm.net)
[19:09:14] *** Joins: nadph (Adium@EC55D6D0.5DC12898.58B1C2DD.IP)
[19:09:45] *** Parts: \n (uid15310@moz-31ABA2C0.irccloud.com) ()
[19:09:48] *** Quits: btipling (btipling@moz-D51E0AEB.xen.prgmr.com) (Quit: ZNC - http://znc.sourceforge.net)
[19:09:52] <mark_edward> o11c, can you explain what you mean? like say the user looks for a key-val pair in a Json object that isn't there, what should the Error struc tlook like?
[19:10:53] *** Joins: Zylinski (karl@moz-58495553.static.spa.siw.siwnet.net)
[19:11:54] *** Joins: btipling (btipling@moz-D51E0AEB.xen.prgmr.com)
[19:12:15] <o11c> mark_edward: the error pair would be something like (ENOENT, 0)
[19:12:37] <o11c> the calling code knows the key it was looking for
[19:12:54] <mark_edward> o11c, i'm not familiar with ENOENT, and what does the 0 signify?
[19:13:01] <Matthias247> the second int makes no sense imho
[19:13:19] <kimundi> jxs: Rust does automatic (de)referencing on field access and method call
[19:13:21] <Matthias247> you can provide a function that translates the ENOENT to string
[19:13:24] <o11c> sometimes errors might have "suberror" information
[19:13:40] <jxs> ok thanks kimundi  :)
[19:13:41] <o11c> but you want to only have a limited number of main errors so that users can test against them easily
[19:13:47] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[19:14:02] <Matthias247> boost uses an error category and an error code
[19:14:24] <Matthias247> but if you only have a small library the code will probobly be enough
[19:14:52] *** Quits: Jemaclus (Mibbit@4EEAB704.5843BA5A.D4E4C7A5.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:15:00] *** Quits: andre (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[19:15:18] <Matthias247> you could add description: &'static str
[19:15:39] <Matthias247> but I would rather implement to_str() for the error struct
[19:15:41] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[19:16:02] <mark_edward> ah i think i see what you're getting at
[19:16:04] <doomlord_> have 'default lifetimes' been permanently removed (i rmember issues with what people prefer to assume)
[19:16:23] <doomlord_> (unnamed lifetimes all the same vs unnamed lifetimes all different..)
[19:17:41] <kimundi> doomlord_: In general, yes
[19:17:42] <jasom> o11c: ENOENT means "No such file or directory" so I would say you should not use it for json
[19:18:12] <jxs> kimundi, saw now sorry: To combat this ugliness the dot operator applies automatic pointer dereferencing to the receiver (the value on the left-hand side of the dot), so in most cases, explicitly dereferencing the receiver is not necessary.
[19:19:16] <o11c> jasom: no, they just stringified it as that to prevent confusing users. It's also used when things that are neither files nor directories are not found
[19:19:44] <kimundi> doomlord_: Named lifetimes are now explicitly required on API level just like generic type parameters, with the exception being in actual usage if they can be inferred. Only exceptions are "temporary" lifetimes where the name is unimportant, like in "fn foo(x: &Bar)"
[19:21:05] *** Quits: flowsnake (flowsnake@moz-10902DAB.cable.virginm.net) (Quit: ZNC - http://znc.in)
[19:21:15] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[19:21:47] <takuin_> How would i be able to "let var1, var2 = function(returns two things)"
[19:21:49] *** Joins: flowsnake (flowsnake@moz-10902DAB.cable.virginm.net)
[19:22:46] *** Joins: KindOne (KindOne@moz-9F0D4F25.dynamic.ip.windstream.net)
[19:22:47] <kimundi> takuin_: The function would return one thing - a tuple of two things. And you can store it either as "let tup = function();" or destructure it with a pattern directly to get "let (var1, var2) = function();"
[19:23:00] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[19:24:14] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[19:25:23] <takuin_> Then what would be the procedure to uncouple the tuple, or would they need to stay bound
[19:25:30] *** Joins: Orwin (Adium@2690ADDE.AC80DA87.CC73C50D.IP)
[19:26:27] <kimundi> takuin_: You can just destructure it like in the second example from me.
[19:26:54] <kimundi> let (a, b) = (1, 2); // Now there are two local variables a and b with value 1 and 2
[19:27:00] <takuin_> oh
[19:27:05] <takuin_> thank you sooo much
[19:27:32] *** Joins: Jemaclus (Mibbit@4EEAB704.5843BA5A.D4E4C7A5.IP)
[19:28:12] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[19:28:25] *** Quits: franckverrot (Franck_Ver@C3033BF6.B86F1645.C91367C6.IP) (Ping timeout)
[19:28:38] <Jemaclus> ok, so I'm working on my LZW compression algorithm again
[19:28:50] *** Joins: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de)
[19:28:59] <Jemaclus> Originally, I had it converting a ~str to ~[u8] and back to ~str
[19:29:08] <Jemaclus> which is fine, if you're just converting strs, but the idea is to compress bytes, righT?
[19:29:18] <FreeFull> You can even do something like let (a, mut b) = (1, 'a');
[19:29:25] <Jemaclus> so I switched it to compress ~[u8] to another ~[u8] and back
[19:29:28] *** Joins: franckverrot (Franck_Ver@C3033BF6.B86F1645.C91367C6.IP)
[19:29:50] <Jemaclus> The problem is that I'm looping through the compressed bytes, and it's always finding the key...
[19:29:52] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[19:29:56] <pzol> So I got this issue with map.mangle... by itself it works fine, but if I assign the result to some variable, the map is borrowed and I can't access it anymore https://gist.github.com/pzol/8790126
[19:30:01] <Jemaclus> ...I think I just answered my own question. lemme mess with it some more.
[19:30:36] <Jemaclus> ok, no, i didn't.
[19:30:47] <pzol> I don't understand why it borrows the map if I don't dereference the result of mangle!?
[19:31:52] <kimundi> pzol: What is the return value of mangle?
[19:31:56] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[19:32:19] <pzol> kimundi the one in question that borrows the map is a &mut uint
[19:32:19] <Jemaclus> hm
[19:32:40] *** Parts: Orwin (Adium@2690ADDE.AC80DA87.CC73C50D.IP) ()
[19:33:04] <kimundi> pzol: Well there is your problem. If you get a &mut, then that means the whole map will be borrowed too, as there may only be one mutable reference at the same time
[19:33:20] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[19:33:52] <pzol> kimundi means that if I deref it with * it will copy the uint instead of borrowing the map all along?
[19:33:54] <kimundi> pzol: The deref does copy out the uint value from behind the &mut, which makes the borrow stop directly afterwards.
[19:33:58] <kimundi> yes
[19:34:09] <kimundi> you got it :)
[19:34:11] <pzol> kimundi thanks, makes sense :)
[19:34:17] <eibwen> Jemaclus: still having a problem?
[19:34:24] <Jemaclus> yeah.
[19:34:37] <eibwen> can you describe it?
[19:34:48] <Jemaclus> i'll try
[19:35:26] <Jemaclus> my compression dictionary is HashMap<~[u8], u8>... so the key is a series of bytes assigned to a single byte.. I think.
[19:35:45] <Jemaclus> my decompression dictionary is HashMap<u8, ~[u8]>, so the key should be the single byte and the value should be the series of bytes
[19:36:20] <Jemaclus> my problem is that my compression dictionary winds up with a length of 272, while my decompression dict never grows to 272... the reason being that the decompression keys are always found in my decompression dict
[19:36:21] <Jemaclus> for some reason
[19:36:35] <eibwen> I'm not sure you can meaningfully use ~[u8] as index
[19:36:42] <Jemaclus> hm
[19:36:48] <strcat> you can certainly use ~[u8] as a map key
[19:36:52] <eibwen> ok
[19:36:53] *** Joins: dsyang (dsyang@moz-C45D48C5.hsd1.pa.comcast.net)
[19:38:52] <Jemaclus> hmm
[19:39:12] <Jemaclus> so my theory at this point is that the decompression algorithm isn't properly expanding the dictionary
[19:39:23] <Jemaclus> when it encounters new bytes it doesn't have as a key
[19:39:29] <eibwen> rusti: ~[1u8,2,3,4] == ~[1u8,2,3,4]
[19:40:03] <eibwen> is rusti still up?
[19:40:22] *** Quits: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de) (Quit: Leaving.)
[19:40:24] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:40:28] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:40:32] <eibwen> rusti: ~[1u8,2,3,4] == ~[1u8,2,3,4]
[19:40:38] <strcat> eibwen: freenode keeps breaking for longer than the timeout
[19:40:38] -rusti- timeout triggered!
[19:40:43] <strcat> rusti: ~[1u8,2,3,4] == ~[1u8,2,3,4]
[19:40:45] -rusti- true
[19:40:46] <strcat> needs to warm up
[19:40:56] <strcat> starts off not cached so it takes too long
[19:40:58] <strcat> ;p
[19:41:06] <eibwen> so java-ish
[19:41:44] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:42:01] <eibwen> I would've assumed that always ~something != ~something. does !=, == auto-dereference?
[19:42:31] <strcat> eibwen: huh?
[19:42:46] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[19:42:50] <strcat> &T and ~T don't implement Eq as comparing pointers...
[19:42:56] <strcat> neither do Rc<T>/Gc<T>
[19:42:59] <eibwen> okay.
[19:43:08] <strcat> only raw pointers implement Eq as comparing pointers
[19:43:14] <strcat> it's rarely useful
[19:43:23] * eibwen goes fixing * in my code
[19:44:47] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[19:44:47] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:44:56] <Jemaclus> hehe
[19:45:11] <Matthias247> strcat: oh, that was also one thing I stumbled upon. I also expected &a == &b to compare references, not values
[19:45:37] *** Joins: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de)
[19:45:39] <jasom> my next wish for optimization is eliminating allocation of values that are never used.  I tried rewriting to use intrinsics::uinit() and cast::forget() and all I succeeded at was coming up with creative ways to leak memory
[19:45:54] <strcat> hm?
[19:46:02] <strcat> LLVM does eliminate dead allocations
[19:46:22] <mark_edward> why is `use super;` an error?
[19:46:28] *** Quits: fabiand (fabiand@moz-6FA00DF4.adsl.alicedsl.de) (Quit: Verlassend)
[19:47:00] <jasom> strcat: yes, but not recursively
[19:47:11] <Jemaclus> jasom: lol
[19:47:41] <jasom> strcat: I had a tree node with children that were just default::default() since I just needed it to keep ownership happy.  I replaced it with intrinsics:uninit and it was good 
[19:47:52] <jasom> 5% improvement in runtime for insert
[19:48:02] <jasom> My brain was unable to get it right for delete though
[19:48:12] <strcat> a tree is just too complex for it to analyze
[19:48:20] <strcat> as rust gives it no pointer type information
[19:49:30] *** Quits: dsyang (dsyang@moz-C45D48C5.hsd1.pa.comcast.net) (Quit: dsyang)
[19:49:42] <jasom> yeah, it's allocate , write values that are never read, deallocate I think to llvm
[19:49:53] *** Quits: Jemaclus (Mibbit@4EEAB704.5843BA5A.D4E4C7A5.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:50:55] <jasom> no, worse than that, since the values are read on glue_drop
[19:51:22] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[19:52:13] *** TimAbraldes is now known as tabraldes
[19:52:17] <eibwen> where can I find the implementation of assert!?
[19:52:18] *** Joins: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP)
[19:52:19] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[19:52:37] <strcat> libsyntax/ext/expand.rs
[19:52:54] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[19:52:54] *** ChanServ sets mode: +ao brson brson
[19:52:55] *** Joins: _Y_ (chatzilla@moz-6DE2BADB.dynamic.isp.telekom.rs)
[19:53:32] <_Y_> Hi Rusteacans!
[19:53:55] <brson> Hi, _Y_!
[19:53:56] <mcpherrin> _Y_: that's a new one :)
[19:54:00] *** Quits: dave1629 (dave@733B47A.B99481B3.DDE5D3F6.IP) (Quit: dave1629)
[19:54:12] <brson> _Y_: Are you as excited about Rust this week as I am?
[19:54:24] *** Quits: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP) (Quit: Taking a nap.)
[19:54:43] <_Y_> No? Why should I be?
[19:54:53] <mcpherrin> brson: I'm excited!
[19:55:09] <mcpherrin> brson: Except that TcpStream sucks ;)
[19:55:50] <_Y_> What changes are landing :o
[19:55:59] *** tabraldes is now known as TimAbraldes
[19:56:37] *** TimAbraldes is now known as tabraldes
[19:56:48] <Hildar> Speaking of TcpStream, when is something landing for it?
[19:56:55] <_Y_> I'm generally intrigued
[19:58:57] *** Joins: nszceta (hax@moz-E458A7C0.pharm.pitt.edu)
[20:00:00] *** Joins: dsyang (dsyang@moz-8EBF0366.wv.cc.cmu.edu)
[20:00:05] <_Y_> Anyway the reason I came here was to ask this question:
[20:00:06] <Matthias247> mcpherrin: you can use mine or also build your own :)
[20:00:07] <_Y_> 	I've been running into a lot of " warning: code is never used: `run_fmt` " errors in macro expansions
[20:00:12] *** tabraldes is now known as TimAbraldes
[20:00:15] <mcpherrin> Matthias247: I am using yours ;)
[20:00:43] <Matthias247> mcpherrin: wow, than at least anyone is using it :-)
[20:01:02] <dsyang> Hey all, I'm taking Distributed Systems at CMU right now and I wanted to try completing some projects in rust (it's taught in go). I'm wondering if there's a way to select on Ports similar to golang's 'select' construct
[20:01:05] *** Quits: nszceta (hax@moz-E458A7C0.pharm.pitt.edu) (Input/output error)
[20:01:16] *** Joins: nszceta (hax@moz-E458A7C0.pharm.pitt.edu)
[20:01:21] <mcpherrin> Matthias247: well, sorta.  I starred it on github and checked out the source intending to use it :P
[20:01:45] <Matthias247> yeah, i've seen the star from you and tiffany
[20:01:58] <Zylinski> is the json module in extra good?
[20:02:07] <mcpherrin> Zylinski: Yes, and if it isn't, fix it :)
[20:02:14] <Jemaclus> oh. i see the problem.\
[20:02:16] <Zylinski> :)
[20:02:17] <Jemaclus> nuts.
[20:02:17] <brson> mcpherrin: what's wrong with tcpstream?
[20:02:29] *** jorendorff is now known as jorendorff_away
[20:02:31] <Jemaclus> hmm
[20:02:38] <mcpherrin> brson: you can't send and recieve at the same time.  This makes it impossible to implement, say, IRC
[20:02:51] <mcpherrin> there's an issue open, and acrichto was talking about solutions
[20:03:10] <_Y_> brson: What's new this week in Rust?
[20:03:42] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[20:03:44] <acrichto> mcpherrin: you may be interested in https://github.com/mozilla/rust/pull/11894
[20:04:10] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[20:04:11] <mcpherrin> acrichto: Yeah, I saw :)
[20:04:12] <dsyang> more specifically, can you provide a default block to std::comm::select?
[20:05:07] *** jorendorff_away is now known as jorendorff
[20:05:15] <brson> _Y_: I'm working on a roadmap, library stability and binary installers
[20:05:19] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Ping timeout)
[20:05:21] <mcpherrin> acrichto: land it already ;)
[20:05:31] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[20:05:43] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[20:06:41] <_Y_> brson: Wow, that sounds great. Especially library stability and binary installers (I assume this is Win as well)
[20:07:43] *** jorendorff is now known as jorendorff_away
[20:08:29] <jasom> how do I set crate traits (e.g. #[feature(globs)] #[feature(macro_rules)]
[20:08:46] <Eridius> #[feature(globs)];
[20:08:51] <Eridius> semicolon makes it apply to the thing it's in
[20:08:55] <jasom> ahhh
[20:08:56] <Eridius> rather than the thing following it
[20:09:35] *** Joins: alex-abreu (alex@C08D9303.9289A342.80AB4F0.IP)
[20:09:58] *** jorendorff_away is now known as jorendorff
[20:10:20] <Matthias247> brson: ah, one thing for the 1.0 roadmap: You should really invest into getting an IDE and good debugging support
[20:10:27] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[20:10:38] <_Y_> Just gonna reiterate my question, got lost in discussion 
[20:11:03] <strcat> Matthias247: the debugging support is pretty great already
[20:11:06] <_Y_>  I've been running into a lot of " warning: code is never used: `run_fmt` " warnings in macro fail! and assert_eq!  - What am I doing wrong?
[20:11:20] <Matthias247> strcat: in an IDE?
[20:11:27] <strcat> sure, it works fine
[20:11:36] <Matthias247> or command line gdb
[20:11:48] <SiegeLord> I recall somebody using Eclipse successfully
[20:11:49] <strcat> in either gdb, lldb or a gdb/lldb frontend it works fine
[20:11:53] <_Y_> I think rust emits some kind of debug tokens that any ide can use?
[20:12:03] <_Y_> DWARF, was it?
[20:12:06] <strcat> I tried it in nemiver for the hell of it and it works fine
[20:12:11] <strcat> _Y_: it uses LLVM's debug info
[20:12:15] <Matthias247> strcat: then someone should document that better :)
[20:12:19] <strcat> LLVM will output the right kind of debug info
[20:12:27] <strcat> Matthias247: -Z extra-debug-info, and a debugger will work
[20:12:43] <strcat> it's not really specific to rust in any way
[20:12:53] <strcat> you can use the same tools as you would use for C or C++
[20:13:06] <Matthias247> in C++ I simply click debug in my IDE
[20:13:12] *** jorendorff is now known as jorendorff_away
[20:13:15] <_Y_> http://michaelwoerister.github.io/2013/09/27/what-you-call-the-present.html
[20:13:49] <strcat> Matthias247: and rust is no different
[20:13:54] <strcat> existing debuggers work
[20:13:56] *** Quits: jvrmaia (jvrmaia@488448C0.A3C460C4.EBCD9D32.IP) (Quit: Leaving...)
[20:14:01] <Matthias247> i don't care about how to attach to the process, locate the source files and so on
[20:14:03] <strcat> a rust-specific IDE/debugger isn't necessary
[20:14:15] *** Joins: dmillerw (dylan@moz-D352EDAE.eugn.qwest.net)
[20:14:23] <_Y_> I think I get what Matthias is trying to go for
[20:14:32] <kimundi> _Y_: I know that run_fmt is part of the implementation for fail! - not sure why it doesn't get used though
[20:14:41] <Hildar> Hmm, how do I convert a closure from do syntax?
[20:14:43] *** Quits: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP) (Client exited)
[20:14:47] <_Y_> IDE's offer more functionality than just debuging
[20:15:18] <brson> Matthias247: IDE's would be great, but it's not something we can focus on for 1.0, imo
[20:15:21] *** Quits: canhtak (canhtak@moz-8A625E1D.wl.t.ulaval.ca) (Quit: canhtak)
[20:15:22] <strcat> sure, I use code completion and editor breakpoints in C++
[20:15:27] <_Y_> basically, IDE has refactorings, source snippets, auto-complete, the whole she bang
[20:15:28] <strcat> in vim
[20:15:28] <Zylinski> My json decoding code is a bit of a mess. Would the "automatic" json -> struct decoder work for nested structs?
[20:15:30] <brson> only so much time and effort available
[20:15:40] <strcat> _Y_: none of those require writing an IDE
[20:15:42] <strcat> or writing a debugger
[20:16:00] <SiegeLord> "Just" a plugin to one of the pluggable IDEs would be sufficient
[20:16:14] <Matthias247> I understand that. But tooling is a major decision factor when it comes to programming languages. So it shouldn't be underestimated
[20:16:21] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[20:16:21] *** ChanServ sets mode: +ao pcwalton pcwalton
[20:16:21] <strcat> if librustc has code completion support then it's 99% done
[20:16:36] <strcat> it will need a tiny bit of work on the editor side
[20:16:50] <strcat> for example, adding a dozen lines to youcompleteme for vim, and similar for other editors
[20:17:03] <_Y_> kimundi: Dunno I have this function  fail!("bla bla when {?} ", quote)
[20:17:11] <_Y_> kimundi quote is ~str
[20:17:13] <Hildar> Oh, I found it, nevermind. I need to brush up on google-foo it seems.
[20:17:30] <dmillerw> If I pass a mutable struct to a function (have to pass the entire thing, can't reference), is there a reason why I can't change values of that struct from within the function?
[20:17:36] <_Y_> strcat: Well the more specific the IDE, the better the plugin
[20:17:48] <kimundi> _Y_: ah, then the error might be that quote is not used because your {} syntax is wrong. try {:?}
[20:17:50] <jasom> where do I submit performance improvements to the standard library?
[20:17:52] <strcat> _Y_: what do you mean?
[20:18:00] *** jorendorff_away is now known as jorendorff
[20:18:06] <strcat> what does rust need that's different from what C++ needs?
[20:18:25] <kimundi> dmillerw: If you pass the struct by value, you are free to do whatever you want with it
[20:18:25] <strcat> it's not really a special snowflake, it works in existing profilers/debuggers and code completion will work the same way as it does via libclang for C++
[20:18:32] <strcat> I really don't think there's a need for a rust IDE
[20:18:54] <_Y_> sorry meant to say, that the closer the 'plugin' is to Rust specific IDE the better
[20:19:02] <dmillerw> kimundi, that's what I thought, but as soon as I do and try to change a value, it complains about it being immutable
[20:19:09] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[20:19:15] <strcat> _Y_: debugging and profiling with C++ tools work today
[20:19:26] <_Y_> I'm pretty sure Rust has some unique idioms, other languages rarely use
[20:19:29] <strcat> code completion and fetching docstrings will be identical to C++ from the editor side
[20:19:42] <_Y_> strcat: but will refactorings be same?
[20:19:55] <kimundi> dmillerw: well, the function argument is of course a immutable variable per default, just like in let. Add the "mut" binding modifer in front of it, or rebind to a mutable local variable
[20:20:13] <_Y_> IDE's do much much more than debug/fetch docstring/code completion
[20:20:50] <kimundi> fn foo(x: Foo) -> fn foo(mut x: Foo){...} or fn foo(x: Foo) { let mut y = x; ...}
[20:21:12] <Zylinski> C++ IDEs have crappy refactoring to start with since C++ is a hard language to refactor. So for a more modern language like rust some real work would propably have to be done to get that nice and dandy.
[20:21:42] <strcat> not really sure why rust would be easier to refactor than C++
[20:22:00] <strcat> being able to add extension methods to any type via generic implementations and so on is more to deal with than C++
[20:22:06] <chromatic> You get a lot from the easy refactorings though: extract method, rename symbol.
[20:22:10] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[20:22:36] <chromatic> Although "extract method" does get fun when you think about ownership.
[20:22:37] <Zylinski> Well, I dunno, no-one has ever done any good refactoring for c++ but there are some awesome tools out there for for example c#
[20:23:14] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Quit: )
[20:23:53] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[20:24:29] <dmillerw> kimundi, that finally did it. Figures that was simple. Thanks.
[20:24:47] *** victorporof|away is now known as victorporof
[20:25:10] <dsyang> Does anyone know where I can find the select! macro? I tried use std::comm::select but got a macro undefined error at compilation
[20:26:20] *** Quits: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Ping timeout)
[20:26:32] <strcat> should probably get the basic language features working before worrying about rewriting librustc to support tooling
[20:26:43] *** Joins: klzzvn (Mibbit@moz-DC0C951A.xnet.hr)
[20:26:58] *** Quits: claudiu (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP) (Ping timeout)
[20:27:08] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[20:27:21] *** Joins: omnus (omnus@moz-2E009EE2.stny.res.rr.com)
[20:27:24] <herrwolf`> dsyang: this doesn't answer your question directly, but here is the code referencing the select macro: https://github.com/mozilla/rust/blob/master/src/libstd/comm/select.rs
[20:27:24] *** jorendorff is now known as jorendorff_away
[20:27:37] <klzzvn> feeling stupid, but where do I find rustpkg? i've built rust, and the compiler works... but I cant find rustpkg?
[20:28:12] <strcat> klzzvn: rustpkg is gone
[20:28:23] <strcat> there are only rustc and rustdoc
[20:28:27] <klzzvn> strcat: oh, what does that mean? :)
[20:28:33] <strcat> means it's gone
[20:28:39] <strcat> there's no such thing as rustpkg now
[20:28:48] *** Joins: canhtak (canhtak@moz-8A625E1D.wl.t.ulaval.ca)
[20:28:52] <strcat> the two binaries rust comes with are rustc and rustdoc
[20:28:54] <klzzvn> hm, so, I'm trying to build gl-rs library, and it uses rustpkg
[20:28:58] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[20:29:15] <bjz> klzzvn: you shouldn't need to use it
[20:29:24] <klzzvn> (i'm a python dev, so all this building and linking is quite foreign)
[20:29:28] <bjz> klzzvn: it's just a .rs file
[20:29:49] <strcat> klzzvn: you need rustc for building code and rustdoc for building docs
[20:29:51] <bjz> klzzvn: sorry, I need to update the README
[20:29:51] <dsyang> herrwolf`: Yea, I saw that too, it seems like that file says it'd be under std::comm::select but it's not :(
[20:30:48] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[20:30:54] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[20:31:14] <klzzvn> strcat: ok, thanks for clearing that up... (I was double confused because my distro had rustpkg somewhere, but an older version)
[20:32:06] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[20:33:36] *** Joins: ehThrHydroImpulse (androirc@moz-1A0DAD73.wireless.telus.com)
[20:33:41] <bjz> klzzvn: we like getting rid of things in Rust land :D
[20:34:10] <klzzvn> bjz: that's... actually not that bad :) kiss and all :)
[20:36:27] *** Quits: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net) (Quit: kellogh)
[20:37:07] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[20:37:13] <klzzvn> guys, *.rlib vs *.so? what's the difference?
[20:37:20] * pcwalton is going to look into tbaa-struct
[20:37:23] <pcwalton> maybe it won't take too long
[20:37:26] <pcwalton> I think I know how to do it
[20:37:32] <klzzvn> oh, so i just "rustc lib.rs" and it works... briliant :)
[20:37:50] <klzzvn> thist rust thing is simpler than python! :)
[20:37:53] <strcat> pcwalton: pretty sure it's a fairly easy adt.rs addition
[20:38:05] <strcat> I just don't expect it to make a big difference ;)
[20:38:12] *** Quits: klzzvn (Mibbit@moz-DC0C951A.xnet.hr) (Quit: http://www.mibbit.com ajax IRC Client)
[20:39:11] *** Joins: klzzvn (Mibbit@moz-DC0C951A.xnet.hr)
[20:40:17] <strcat> weird, this program hangs in pthread_join
[20:40:46] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[20:40:46] *** ChanServ sets mode: +ao dherman dherman
[20:40:47] <strcat> acrichto: have you ever seen libstd hang in pthread_join? using libgreen
[20:41:03] <strcat> just decides to block forever
[20:41:16] <strcat> futex(0x7fbeebdfd9d0, FUTEX_WAIT, 18341, NULL
[20:41:23] *** Joins: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net)
[20:42:54] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:43:21] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[20:43:32] <acrichto> strcat: that probably means that there's a green thread still running around somewhere
[20:43:53] <acrichto> although normally that's blocking on a cvar, not in pthread_join
[20:44:00] <acrichto> once it hits pthread_join everything should be gone
[20:44:09] <herrwolf`> what does one need to include to use the select! macro?
[20:44:23] *** Joins: sunfish (chatzilla@moz-BBE3ABD.mv.mozilla.com)
[20:44:58] *** Joins: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[20:45:31] *** Quits: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com) (Quit: )
[20:45:32] *** Joins: fyolnish (fyolnish@moz-3579E53B.uqwimax.jp)
[20:45:33] *** Quits: nadph (Adium@EC55D6D0.5DC12898.58B1C2DD.IP) (Quit: Leaving.)
[20:46:13] *** Joins: Kjelle (karl@moz-58495553.static.spa.siw.siwnet.net)
[20:46:40] *** Quits: Kjelle (karl@moz-58495553.static.spa.siw.siwnet.net) (Quit: Kjelle)
[20:47:17] *** Quits: fyolnish (fyolnish@moz-3579E53B.uqwimax.jp) (Ping timeout)
[20:47:42] <pcwalton> strcat: I think we could perhaps also get a win by having a new ADT repr, "Prefix"
[20:47:56] <strcat> pcwalton: what would that be?
[20:47:58] <pcwalton> if every discriminant is a prefix of some other discriminant
[20:48:05] <pcwalton> err
[20:48:16] <pcwalton> if every variant is a prefix of some other variant, except the largest variant
[20:48:21] <pcwalton> then you can represent as a plain struct
[20:48:23] <pcwalton> with no casting
[20:48:33] <strcat> pcwalton: I'm planning on doing an LLVM patch to significantly improve stuff for us btw
[20:48:34] <pcwalton> all Options fall into this category, notably
[20:48:44] <strcat> adding a way to mark stuff as non-null/dereferenceable
[20:48:47] <pcwalton> that's cool
[20:48:59] <strcat> but, beyond function parameters and return values I don't know how to represent it in the IR...
[20:49:08] <pcwalton> possibly worth doing some measurements to see how much Prefix would win us
[20:49:15] <pcwalton> but "every Option" seems nice
[20:49:24] <eddyb> strcat: what about range metadata?
[20:49:30] <strcat> eddyb: range metadata only goes on loads
[20:49:41] <strcat> doesn't help for pointers since they are only loaded if they were in another ptr
[20:49:57] <eddyb> strcat: oh, you mean it gets lost?
[20:50:09] <strcat> no, I mean you can only attach range metadata to a load instruction
[20:50:32] <strcat> they added it for a very specific case in clang
[20:50:43] <strcat> they pass booleans as i1 but store them as i8
[20:50:49] <strcat> so when loading them, you need to be able to mark the range
[20:51:13] <strcat> eddyb: there's no way to attach range metadata to a parameter
[20:51:15] <eddyb> I was thinking "you can only get a pointer from an argument or loading it from another pointer" but that's not true and you'd lose the metadata when optimizing
[20:51:26] <strcat> to mark a parameter you would need to alloca, store it
[20:51:31] <strcat> and load it + mark the range metadata
[20:51:51] <eddyb> and sroa would nuke the metadata, right?
[20:51:52] <strcat> and it would happily optimize out the alloca and only have the range metadata in the value correlation/propagation/whatever tables
[20:51:55] <strcat> and then it loses it
[20:52:05] <strcat> eddyb: LLVM does have metadata about the code in-memory
[20:52:09] <strcat> as in not represented in the IR
[20:52:14] <strcat> but it is destroyed
[20:52:19] <strcat> when it does stuff
[20:52:24] <eddyb> interesting...
[20:52:33] <strcat> if condition { unreachable }
[20:52:38] <strcat> will tell LLVM that the condition is never true
[20:52:50] <strcat> the problem is that a pass will strip that branch *long* before it makes use of that kind of knowledge
[20:53:02] <strcat> and by the time you get there, it has destroyed the relevance of that metadata and purged it
[20:53:25] <eddyb> maybe we need generic metadata
[20:53:37] <strcat> there is generic metadata
[20:53:41] <strcat> but existing passes don't use it
[20:54:00] <strcat> I think to add a standard pass, it would need to be a special form of metadata
[20:54:18] <eddyb> well, yeah, I mean generic usage of metadata, propagation and whatnot
[20:54:21] *** Quits: nooblit (Mibbit@moz-CBA73F0A.dhcp.ftwo.tx.charter.com) (Quit: http://www.mibbit.com ajax IRC Client)
[20:54:23] <kmc> how far off are DST for first class trait objects?
[20:54:43] <eddyb> kmc: what exactly do you mean by "first class"?
[20:54:53] *** Joins: hoverbear (hoverbear@moz-7DD91146.wireless.uvic.ca)
[20:55:00] *** Joins: echristo (echristo@E55635C9.D6CCE4AE.77834EAA.IP)
[20:55:02] <strcat> Rc<Trait>
[20:55:02] <eddyb> strcat: are there any current attempts at range metadata propagation in LLVM?
[20:55:16] <pcwalton> eddyb: https://code.google.com/p/range-analysis/ ;)
[20:55:20] <kmc> sure or in my case, DList<Trait>
[20:55:22] <echristo> heh
[20:56:02] <dsyang> Can someone explain to me what the stage 0,1,2,3 stuff is? I'd I make a one-line change to source code, how should i rebuild rustc so it doesn't take 5+ minutes
[20:56:06] <eddyb> kmc: the container has to explicitly support unsized types and they can't just be anywhere
[20:56:13] <dsyang> s/I'd/if/
[20:56:21] <eddyb> dsyang: make rustc-stage1
[20:56:22] <kmc> eddyb: that's true
[20:56:23] <strcat> our biggest issue is the inability to mark stuff as 'valid'
[20:56:30] <strcat> as in not null and actually points to an object
[20:56:36] <dsyang> eddyb: thanks!
[20:56:52] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[20:56:53] <strcat> range metadata could be extended to support marking pointers non-null, but I don't think that's the right path
[20:57:00] <strcat> it still doesn't solve most of the issues
[20:57:15] <strcat> non-null still means it can be a dangling pointer
[20:57:23] *** Joins: claudiu (claudiu@moz-FB94486E.thefacebook.com)
[20:57:24] <strcat> or point to protected memory
[20:57:31] *** Quits: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de) (Quit: Leaving.)
[20:57:49] <strcat> LLVM is unaware of whether or not a ptr deref is going to read PROT_NONE memory and fault
[20:58:34] *** Quits: eddyb (eddy@832D2DE5.66315F97.FB866788.IP) (Ping timeout)
[20:58:34] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[20:58:44] <sunfish> strcat: you're talking about llvm's isDereferenceablePointer concept, right?
[20:58:50] <strcat> sunfish: yes
[20:59:12] <strcat> sunfish: I've found that adding unused padding in front of objects in allocations is a big performance win, which is sad
[20:59:14] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[20:59:14] <Zylinski> Could somebody enlighten me to why line 9-10 in this gist gives me this error? I've tried to work around it but it's making me dizzy. https://gist.github.com/KarlZylinski/8792212
[20:59:18] <Ms2ger> sunfish, did I hear correctly that you're with us now?
[20:59:31] <strcat> why is it a win? because it causes an inbounds GEP to be output
[20:59:34] <sunfish> Ms2ger: yep!
[20:59:34] *** Quits: jackneill (jackneill@moz-B529C2E7.pool.digikabel.hu) (Ping timeout)
[20:59:49] <strcat> &int is bad, LLVM sees a deref and assumes it might fault or something
[20:59:52] <Ms2ger> \o/
[20:59:58] <sunfish> strcat: that doesn't explain it, because inbounds shouldn't help pointers be dereferencable
[21:00:21] <Ms2ger> Now going to fix all the range analyses in rust? :)
[21:00:35] *** Joins: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP)
[21:00:40] *** Joins: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com)
[21:00:44] <strcat> sunfish: well I do know it helps :)
[21:00:49] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[21:00:49] *** ChanServ sets mode: +ao brson brson
[21:01:00] <sunfish> at the LLVM level, people have been arguing about how to do range analysis for probably a decade
[21:01:03] <strcat> sunfish: iteration over ~[T] always optimizes to good code, because of the GEPi
[21:01:09] <strcat> iteration over &[T] does not
[21:01:11] *** pmoore|away is now known as pmoore
[21:01:23] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[21:01:23] *** ChanServ sets mode: +ao pcwalton pcwalton
[21:01:25] <strcat> even though it coerces ~[T] -> &[T] before iteration, the point is that it sees a GEPi
[21:01:26] *** Quits: KindOne (KindOne@moz-9F0D4F25.dynamic.ip.windstream.net) (Ping timeout)
[21:01:37] <_Y_> klzzvn: don't know if answered but the difference is that *.so and *.rlib are different kind of library files. If I'm not mistaken, one kind is dynamic and the other is static
[21:01:38] <strcat> don't know what exactly this is communicating to it
[21:01:58] <strcat> sunfish: I think GEPi asserts that it is non-null, maybe I am wrong
[21:01:59] <eibwen> GEPi?
[21:02:03] <strcat> sunfish: not necessarily dereferenceable
[21:02:05] <sunfish> strcat: yeah, I don't have any good gueses either
[21:02:18] <strcat> sunfish: but specifically for iterators, it leaves a redundant null check in the loop without the padding
[21:02:20] <sunfish> isDereferenceablePointer in Value.cpp doesn't care about inbounds, for example
[21:02:30] <strcat> sunfish: well this case involves null
[21:02:34] <sunfish> oh, I see
[21:02:42] <strcat> sunfish: vector iterator is over refs
[21:02:46] <strcat> next() returns Option<&T>
[21:02:49] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[21:02:54] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[21:02:54] <strcat> Some(&T) and &T have the same in-memory representation
[21:03:11] <strcat> fn foo(x: &int) -> bool { Some(x) == None }
[21:03:12] <echristo> hey sunfish :)
[21:03:17] <strcat> you might expect that to optimize to 'false'
[21:03:18] <sunfish> echristo: yo
[21:03:19] <strcat> but it doesn't
[21:03:22] <strcat> it performs a null check
[21:03:24] *** Quits: satalha (satalha@moz-21D6B3DE.csclub.uwaterloo.ca) (Ping timeout)
[21:03:25] *** Quits: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net) (Quit: kellogh)
[21:03:37] *** Joins: dsyang_ (dsyang@moz-8EBF0366.wv.cc.cmu.edu)
[21:03:37] <strcat> anyway iterators have a null check like that from the for loop expansion (checking for None)
[21:03:38] <sunfish> ah, so saying that the memory is dereferenceable allows the null check to be skipped?
[21:03:42] *** Quits: dsyang (dsyang@moz-8EBF0366.wv.cc.cmu.edu) (Quit: dsyang)
[21:03:52] <strcat> sunfish: well I'm saying that I think the inbounds GEP instruction asserts that it is non-null
[21:03:52] *** Quits: dsyang_ (dsyang@moz-8EBF0366.wv.cc.cmu.edu) (Quit: )
[21:04:00] <strcat> it'd be even better to say it's not just non-null but also dereferenceable
[21:04:01] *** Joins: dsyang (dsyang@moz-8EBF0366.wv.cc.cmu.edu)
[21:04:30] <strcat> we know every single &T, &mut T, ~T, etc. in parameters is non-null and can be dereferenced
[21:04:41] <eibwen> what is iGEP?
[21:04:48] <strcat> inbounds GEP instruction
[21:04:55] <strcat> http://llvm.org/docs/LangRef.html#getelementptr-instruction
[21:04:55] <sunfish> and GEP = getelementptr
[21:05:02] <strcat> pointer arithmetic
[21:05:26] <strcat> inbounds is added to all our pointer arithmetic (as it is in C) and asserts that it produces a ptr within the bounds of an object (or one byte past the end)
[21:05:30] *** Joins: KindOne (KindOne@moz-9F0D4F25.dynamic.ip.windstream.net)
[21:05:31] <_Y_> klzzvn: I think *.so are static files and the *.rlib are Rust dynamically linked libraries
[21:05:37] <strcat> and combined with the basic aliasing guarantees
[21:05:43] <strcat> it enables most of the important optimizations
[21:06:10] <strcat> iterators won't be a cost-free abstraction in every case until rust can communicate this information to LLVM :(
[21:07:21] *** Parts: herrwolf` (user@CACBD77F.4EBBBE62.C082B7DC.IP) (ERC Version 5.3 (IRC client for Emacs))
[21:07:31] <strcat> well and this also blocks devirtualization
[21:07:40] <strcat> it doesn't know the vtable is dereferenceable
[21:07:43] <strcat> and plenty of other great things!
[21:07:58] * strcat shrugs
[21:08:13] *** Joins: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net)
[21:08:22] <_Y_> Silly question, but how are rust binaries, compared to other languages?
[21:08:31] <_Y_> in terms of MB
[21:08:48] <strcat> sunfish: imo this is LLVM's single biggest optimization issue... even in C++, I think you can assert that references are non-null and that all dereferences are valid (since it'd be undefined behaviour otherwise)
[21:09:16] <SiegeLord> I'd say somewhat large, at least back when I checked the hello world sizes
[21:09:22] <strcat> sunfish: gcc supports the 'if condition { unreachable }' idiom to work around it on a case-by-case basis, but LLVM optimizes out the branch early
[21:09:27] <strcat> SiegeLord: libstd issue
[21:09:36] <Hildar> _Y_ :Right now, pretty damn big. 2.6MB for an empty main() with -O
[21:09:41] <strcat> rust binaries match C with rust-core
[21:09:55] <sunfish> strcat: yeah, among LLVM people, the unreachable approach tends to swing in and out of favor
[21:10:07] <strcat> sunfish: well it'd severely bloat the IR
[21:10:11] *** Quits: KindOne (KindOne@moz-9F0D4F25.dynamic.ip.windstream.net) (Ping timeout)
[21:10:12] <strcat> more memory usage, longer compile times
[21:10:13] *** Joins: nik_ (nik@moz-E9BD1DA6.pool.mediaways.net)
[21:10:16] <strcat> metadata seems much, much better
[21:10:24] <strcat> I don't want rust to need branches everywhere ;\
[21:10:29] *** Quits: nkoep (nik@moz-EB07C027.pool.mediaways.net) (Ping timeout)
[21:10:32] <o11c> strcat: if (condition) call unreachable(), and then only define unreachable at the end ?
[21:10:36] *** Quits: espindol_ (espindola@moz-9F530B29.com) (Quit: Leaving...)
[21:10:43] <sunfish> strcat: then we'd need some kind of metadata-based expression language
[21:10:44] <SiegeLord> strcat: Can you even do a Hello world with rust-core? :P
[21:10:46] *** Joins: nadph (Adium@EC55D6D0.5DC12898.58B1C2DD.IP)
[21:10:49] <strcat> SiegeLord: yes
[21:11:03] <_Y_> what eats, all that MB?
[21:11:07] <SiegeLord> Calling C printf doesn't count :P
[21:11:15] <sunfish> strcat: and it still wouldn't bridge the gap between non-null and dereferenceable
[21:11:26] <strcat> SiegeLord: it has a stub io module
[21:11:29] *** Quits: hoverbear (hoverbear@moz-7DD91146.wireless.uvic.ca) (Quit: This bear's gotta fly.)
[21:11:36] <strcat> at the very least you can write to stdout/stderr and read from stdin
[21:11:57] <strcat> it just calls fread/fwrite for those and fread_unlocked/fwrite_unlocked for files
[21:11:59] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[21:12:01] <Hildar> _Y_: Staticly linking to the rust runtime iirc.
[21:12:06] <strcat> but it should probably build on syscalls like libnative in libstd
[21:12:14] <strcat> it's just a stub
[21:12:33] <strcat> anyway, there's no reason rust as a language would have any overhead over C in that regard
[21:12:44] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[21:12:52] <strcat> rust-core + musl generates binaries of the same size as musl from C
[21:12:57] <strcat> anything you don't use is optimized out
[21:13:12] *** Quits: hansjorg (hansjorg@moz-41C5CE61.redpill-linpro.com) (Client exited)
[21:13:13] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[21:13:18] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Ping timeout)
[21:13:28] <strcat> and I don't plan on adding anything that uses trait objects so it will continue to optimize out
[21:13:54] <strcat> I think I'll probably add stuff like sqlite and libcurl bindings to it as separate crates
[21:14:42] *** Joins: mgottschlag (quassel@moz-D9E207E7.cust.bluewin.ch)
[21:14:53] *** Joins: KindOne (KindOne@moz-9F4CE2D7.dynamic.ip.windstream.net)
[21:15:18] *** Joins: eholk (eholk@moz-BA312F07.crest.iu.edu)
[21:16:21] *** Quits: bl4ze (plw@moz-44304BD5.neoplus.adsl.tpnet.pl) (Quit: WeeChat 0.4.2)
[21:17:07] *** Joins: awidegreen (awidegreen@moz-D6CC34B1.mobileonline.telia.com)
[21:17:58] *** Joins: tq (tq@moz-9FE9CCF4.a251.priv.bahnhof.se)
[21:18:30] *** Quits: Florob (Florob@moz-39532932.de) (Max SendQ exceeded)
[21:18:38] *** Quits: KindOne (KindOne@moz-9F4CE2D7.dynamic.ip.windstream.net) (Ping timeout)
[21:18:59] *** Quits: moostik (Icedove@moz-133D2136.w92-139.abo.wanadoo.fr) (Quit: moostik)
[21:20:53] *** Quits: nadph (Adium@EC55D6D0.5DC12898.58B1C2DD.IP) (Quit: Leaving.)
[21:21:07] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[21:21:21] *** Quits: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net) (Quit: bye!)
[21:21:30] *** Joins: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net)
[21:22:19] *** Quits: [o__o] (~o__o@604A2740.DB688352.F4ADE383.IP) (Input/output error)
[21:22:27] *** Quits: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP) (Client exited)
[21:22:32] *** Joins: [o__o] (~o__o@604A2740.DB688352.F4ADE383.IP)
[21:22:46] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[21:22:48] *** Joins: KindOne (KindOne@9FE94A0D.B11A32F.EC6A1518.IP)
[21:22:51] <sp3d> _Y_: you can use -Z prefer-dynamic to link dynamically and get several-kb binaries
[21:23:04] *** Quits: klzzvn (Mibbit@moz-DC0C951A.xnet.hr) (Quit: http://www.mibbit.com ajax IRC Client)
[21:23:24] <bstrie_boot> "Consider the greatest language ever, Lisp (I hate it, but I recognize it's power.)" #shitHNsays
[21:23:31] *** Joins: hansjorg (hansjorg@moz-41C5CE61.redpill-linpro.com)
[21:24:27] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[21:24:50] *** Joins: Florob (Florob@moz-39532932.de)
[21:24:54] <kmc> i prefer a language whose "power" includes the power to catch lots of mistakes at compile time, in the context of a huge codebase
[21:25:36] <Ms2ger> I prefer one that has the power to make you hate parens forever
[21:25:47] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[21:25:52] *** Joins: ofeldt- (ofeldt@moz-3CFA7472.dip0.t-ipconnect.de)
[21:25:53] <kmc> Ms2ger: come on, there are so many more interesting complaints about Lisp than the tired syntactic one
[21:26:16] <Ms2ger> It's late, I was just going for a cheap troll :)
[21:26:17] <sp3d> kmc: relative to python and ruby and javascript, Lisp has similar expressiveness, binding times, and static guarantees with a much simpler definition
[21:26:26] <Scriptor> the lack of curly brackets, for example
[21:26:31] *** Quits: dsyang (dsyang@moz-8EBF0366.wv.cc.cmu.edu) (Client exited)
[21:26:32] <sp3d> that's what I'd guess the hn commenter was getting at
[21:26:46] <bstrie_boot> Ms2ger: have I got news for you: http://pschombe.wordpress.com/2006/04/16/lisp-without-parentheses/
[21:26:49] *** Quits: ofeldt (ofeldt@moz-1A2A81B5.dip0.t-ipconnect.de) (Ping timeout)
[21:28:20] <kmc> the cool thing about "Lisp" is that it can mean "ANSI Common Lisp" or "a tiny subset of Scheme" or "Clojure" or "JavaScript" depending on what point you're trying to make...
[21:28:23] *** Quits: new_one (new_one@7245A2DE.AAAF9A7F.B3C0173E.IP) (Client exited)
[21:28:24] *** Quits: mgottschlag (quassel@moz-D9E207E7.cust.bluewin.ch) (Ping timeout)
[21:28:54] <Hildar> Now rust is just showing off. It manages to link to SDL_mixer successfully when clang and gcc fail (missing some symbols). >.>
[21:29:14] * strcat doesn't understand why that'd be the case
[21:29:19] <strcat> Hildar: rust links with gcc
[21:29:41] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[21:29:49] <Hildar> strcat : Yeah, that's why I am confused >.>
[21:29:54] <strcat> and the way FFI symbols are declared atm is certainly one of the biggest weaknesses of the language
[21:30:22] <strcat> when it becomes as easy to use C APIs from rust as it is from C++, my incentive to use C++ is gone
[21:30:44] *** Joins: nif (nif@moz-8181E2AC.oberlin.net)
[21:30:47] <strcat> and I do think it will get there
[21:31:32] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[21:31:52] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[21:31:52] <jxs> Fixed-size vectors are an unboxed block of memory, with the element length as part of the type. What does it mean to have element length as part of the type?
[21:32:27] <strcat> the type of a fixed-size array is [T, ..n]
[21:32:30] <strcat> like [int, ..4]
[21:32:46] <strcat> a fixed-size array of length 4 is a different type than one of length 5
[21:33:03] <strcat> they're different sizes, can't assign one to the other, etc.
[21:34:08] <sp3d> strcat: what would be ideal for defining extern "C" symbols? pointing rustc at a .h?
[21:34:32] <strcat> sp3d: yes, then it's automatic and not hard-wired to a specific version/configuration of the library's ABI
[21:34:42] <strcat> library ABIs change between platforms/versions and configurations of the library
[21:34:45] <sp3d> yeah
[21:35:09] <sp3d> it just seems like that requires bolting a significant chunk of C's semantics onto the rustc frontend
[21:35:14] <Tari> sounds like just running rust-bindgen at compile time
[21:35:22] <jxs> ok thanks strcat 
[21:35:25] <sp3d> which wouldn't probably be that hard pragmatically but might be ugly to specify
[21:35:25] <strcat> sp3d: it's the canonical use case for libclang
[21:35:28] *** Joins: io2 (io2@moz-7C3DDBE8.home.otenet.gr)
[21:35:29] <sp3d> right
[21:35:42] <strcat> Tari: yes, but as part of name resolution
[21:35:54] <strcat> that's the idea though
[21:36:21] <strcat> convince one of the mozillians to start building libclang with LLVM
[21:36:24] <strcat> ;p
[21:36:58] <strcat> then rust-bindgen can be in-tree, and then integrated into librustc with the standalone part dropped
[21:37:49] <SiegeLord> How much of the C standard would we have to subsume into the Rust spec?
[21:38:33] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[21:38:37] *** Joins: A1kmm (A1kmm@moz-6171F151.dsl.mel.iprimus.net.au)
[21:38:49] <sp3d> the preprocessor, declarations, the type system insofar as it relates to declarations...
[21:39:10] *** Quits: mmalecki (maciej@DE8E8A22.9EBA3CD1.D6573861.IP) (Quit: leaving)
[21:39:16] *** Joins: mmalecki (maciej@DE8E8A22.9EBA3CD1.D6573861.IP)
[21:39:30] <sp3d> all the syntax since .h files can have really any code in them
[21:39:38] <strcat> it would refer to it by reference as the C++ standard refers to the C standard and only go into detail about the semantics of translating to resolve
[21:39:38] <chromatic> Alignment and padding....
[21:39:48] <strcat> rust structs are already defined as 'like C'
[21:40:01] <o11c> well, you would skip the bodies of functions
[21:40:17] <Tari> struct alignment is usually from the system ABI, not C
[21:40:18] <jasom> I'm getting a run-time bounds-checkign fail that is reported on line 1 of a module that doesn't use vectors
[21:40:28] <strcat> o11c: it could include support for inline functions
[21:40:32] <strcat> o11c: eventually
[21:40:34] <strcat> long-term goal :P
[21:40:36] *** Quits: cdidd (cdidd@moz-59E35386.broadband.corbina.ru) (Quit: Leaving)
[21:40:48] <jasom> I'm 99% sure I know which module is causing the error, but how can I localize it more than that?
[21:41:04] <o11c> I think it's a bad idea, though
[21:41:06] <strcat> Tari: they are defined by the platform ABI for C structs
[21:41:16] <strcat> so rust defines structs as following the platform C ABI
[21:41:17] <strcat> as I said
[21:41:29] <sp3d> jasom: does -Z extra-debug-info and gdb help?
[21:41:56] <strcat> it doesn't support any of the C++ ABI, just C
[21:42:07] *** Joins: cdidd (cdidd@moz-59E35386.broadband.corbina.ru)
[21:42:21] *** Quits: nif (nif@moz-8181E2AC.oberlin.net) (Quit: Konversation terminated!)
[21:42:23] *** Quits: nszceta (hax@moz-E458A7C0.pharm.pitt.edu) (Input/output error)
[21:42:25] <jasom> sp3d: yeah, with a bp at rust_fail it gives me some more info
[21:42:40] *** Joins: dsyang (dsyang@moz-8EBF0366.wv.cc.cmu.edu)
[21:42:49] *** Joins: ecr (chatzilla@moz-CC701484.dhcp4.washington.edu)
[21:44:03] *** Quits: Ms2ger (Ms2ger@moz-E2F08450.adsl-dyn.isp.belgacom.be) (Quit: nn)
[21:44:55] *** Joins: nif (nif@moz-8181E2AC.oberlin.net)
[21:45:00] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[21:45:25] *** Joins: fyolnish (fyolnish@moz-39B31B4B.uqwimax.jp)
[21:46:49] *** pmoore is now known as pmoore|away
[21:47:17] *** Quits: fyolnish (fyolnish@moz-39B31B4B.uqwimax.jp) (Ping timeout)
[21:47:55] *** Quits: avsej (avsej@D9A610B8.4841F515.FB33447D.IP) (Client exited)
[21:48:00] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:48:10] *** Quits: Florob (Florob@moz-39532932.de) (Ping timeout)
[21:49:07] *** Joins: moostik (Icedove@moz-133D2136.w92-139.abo.wanadoo.fr)
[21:49:21] *** Quits: victorporof (victorporo@53EBB099.7C27E871.79933D60.IP) (Quit: victorporof)
[21:49:29] *** Joins: victorporof (victorporo@53EBB099.7C27E871.79933D60.IP)
[21:49:34] *** Quits: dsyang (dsyang@moz-8EBF0366.wv.cc.cmu.edu) (Client exited)
[21:49:39] *** Joins: andrew-d_w (andrew-d_w@moz-A89AD7F2.nat.bb.dnainternet.fi)
[21:49:45] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[21:49:49] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[21:50:18] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[21:50:53] *** Quits: andrew-d_w (andrew-d_w@moz-A89AD7F2.nat.bb.dnainternet.fi) (Input/output error)
[21:51:17] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[21:51:22] <Zylinski> Does a struct which contains a ~trait object not fulfill 'static?
[21:51:36] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[21:52:05] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[21:52:35] <Matthias247> it would only be if all the content also is 'static
[21:53:38] <Matthias247> and I'm not sure whether you can have a 'static ~Trait
[21:53:44] <Zylinski> oh ok :(
[21:54:18] *** Joins: dylukes (dylukes@5879CCBD.6FFDD922.E8393EEB.IP)
[21:54:41] *** Quits: awidegreen (awidegreen@moz-D6CC34B1.mobileonline.telia.com) (Ping timeout)
[21:54:42] *** Joins: Seb (Seb@moz-97344273.actrix.co.nz)
[21:54:48] <Zylinski> Had AnyRefExt implemented for my type which requires 'static, when I added a ~tratit to my struct I could no longer use stuff like e.is::<Player>()
[21:54:48] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[21:55:07] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[21:56:11] <Zylinski> Which is sad since I was relying on that to find specific types in a vector of ~trait objects
[21:56:23] *** jorendorff_away is now known as jorendorff
[21:56:45] <strcat> Matthias247: you were the one making the eventfd-based queue right?
[21:57:23] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:57:27] <Matthias247> Zylinski: oh that's basically the same major problem I have with Rust. I wanted also to have lists of traits
[21:57:31] <Matthias247> strcat: yes
[21:57:36] <strcat> Matthias247: I remembered why you have to notify on every push :P
[21:57:47] <Matthias247> and why?
[21:57:57] *** Quits: takuin_ (takuin@moz-21A5F23D.ks.ks.cox.net) (Quit: Leaving)
[21:58:08] <strcat> Matthias247: so lets say 5 consumers are blocked on the cond var (well, file descriptor in your case)
[21:58:22] <strcat> Matthias247: you quickly push two elements to queue, *before* the notified thread is woken up
[21:58:27] <strcat> you're only going to send one notification
[21:58:29] <Matthias247> ah, multi-consumer
[21:58:40] <Matthias247> I didn't respect multi-consumer :)
[21:58:40] *** Joins: zeenix (zeenix@moz-B92AB3AA.range109-158.btcentralplus.com)
[21:59:01] *** Parts: zeenix (zeenix@moz-B92AB3AA.range109-158.btcentralplus.com) (Leaving)
[21:59:01] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[21:59:06] <Matthias247> if you have multi-consumer you will really need more notifications
[21:59:11] <Zylinski> Matthias247: Ah. Even if I did something super simple like a "is_player()" on my trait I still can't cast it with as_ref since that also requires 'static. Only way I can think of is to go via unsafe{}
[22:00:17] <Matthias247> or you could also send a notification each time you pop something when you see that another thread is blocked
[22:00:17] *** Quits: ehThrHydroImpulse (androirc@moz-1A0DAD73.wireless.telus.com) (Ping timeout)
[22:01:47] <ecr> Matthias247: ~Trait only fulfills the Send bound by default.
[22:02:27] <ecr> Matthias247: you want ~Trait:'static I think
[22:02:46] *** Quits: canhtak (canhtak@moz-8A625E1D.wl.t.ulaval.ca) (Quit: canhtak)
[22:02:47] <Matthias247> Zylinski: I know. I wanted to use a List of Rc<~Trait> for callbacks. Then I discovered that it's not possible. Then I also considered a list of void* and bare functions. But now I'm waiting if either DST will resolve it or give up on Rust
[22:02:48] *** Quits: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca) (Ping timeout)
[22:03:48] *** Joins: kvanb (kvanb@moz-4300E235.lnse1.win.bigpond.net.au)
[22:04:58] <Zylinski> Matthias247: What's DST?
[22:05:04] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[22:05:42] *** Joins: jensnock_ (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[22:05:42] <o11c> dynamic sized type
[22:05:46] <Matthias247> something called dynamically sized types that should enable things like Rc<T> if I understood it correctly
[22:05:58] <Matthias247> Rc<Trait> I meant
[22:05:58] <Zylinski> cool
[22:06:18] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[22:06:21] <o11c> DST is easier if you don't have to worry about alignment though
[22:06:47] <kmc> wait, why doesn't Rc<~Trait> work?
[22:07:10] <Matthias247> it should work
[22:07:35] <Matthias247> but not Rc<Trait> -> double indirection
[22:07:55] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Quit: Leaving)
[22:08:01] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[22:08:26] <ecr> I don't see any reason why Rc<~Trait> wouldn't work. No bounds on Rc's type parameter.
[22:08:39] <Matthias247> and as long as you can't clone an Rc<~Trait> from an Rc<~DerivedTrait> it won't help anyway
[22:09:55] *** Quits: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net) (Quit: calvinmetcalf)
[22:10:52] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[22:10:56] *** Quits: doener (doener@moz-C68F600D.unity-media.net) (Quit: leaving)
[22:11:58] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[22:13:01] *** Quits: jensnock_ (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[22:14:26] <strcat> kmc: ecr: Rc<~Trait> does work but you have double-indirection
[22:14:44] <strcat> DST will make Rc<Trait> work
[22:14:59] <ecr> strcat: oh, well yeah
[22:15:07] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[22:15:20] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[22:15:21] <kmc> how will Rc<Trait> know how big it needs to be? will Rc<Trait> also be sizeless?
[22:15:24] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[22:15:40] <strcat> kmc: Rc<Trait> will have a size, it's just an Rc
[22:15:49] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[22:15:54] <strcat> Rc is always pointer-size
[22:15:55] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: kngl)
[22:17:00] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[22:17:16] <kmc> right, okay
[22:18:56] *** Quits: KindOne (KindOne@9FE94A0D.B11A32F.EC6A1518.IP) (Quit: ZNC 1.2 - http://znc.in)
[22:21:09] *** Quits: lerc (quassel@moz-289EFA2.telstraclear.net) (Ping timeout)
[22:22:03] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[22:22:25] *** Joins: aruniiird (aruniiird@28876D92.F24A7F1B.260B031E.IP)
[22:23:03] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[22:23:39] *** Quits: dylukes (dylukes@5879CCBD.6FFDD922.E8393EEB.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:23:57] *** Joins: lerc (quassel@moz-289EFA2.telstraclear.net)
[22:27:25] <strcat> can anyone think of a case where you don't know the size of the allocation you are going to call free() on ?
[22:27:43] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Ping timeout)
[22:28:11] *** Joins: KindOne (KindOne@9FE94A0D.B11A32F.EC6A1518.IP)
[22:28:11] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[22:28:43] *** Joins: japaric (japaric@DA9B0B44.F596884F.F29ED47E.IP)
[22:28:48] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[22:29:24] <o11c> strcat: it happens sometimes with cstrings that have been cut in half
[22:29:48] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[22:30:05] <strcat> well, other than C strings
[22:30:12] <strcat> because this would just be rust's allocator
[22:30:32] <strcat> which isn't something you can mix with the C allocator with defined behaviour
[22:30:33] *** Joins: dsyang (dsyang@F241238B.7254D4BA.689607DE.IP)
[22:30:43] <strcat> as it's not always going to be the libc malloc/free/realloc
[22:31:00] <o11c> yeah, I think free(void *, size_t) is sensible for rust
[22:31:05] <o11c> well, allocator.free();
[22:31:26] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[22:32:01] <strcat> and passing the old size to realloc
[22:32:02] *** Joins: aklt (aklt@moz-E66E9BCB.u.parknet.dk)
[22:32:14] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[22:32:31] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Connection reset by peer)
[22:32:43] <strcat> the issue is...
[22:32:56] <strcat> malloc(0) may return null, or it may return a unique ptr to an allocation
[22:33:04] <strcat> so rust now normalizes it to always being null
[22:33:17] <strcat> but it's not right for ~T to ever be a null ptr, as it breaks Option<~T>
[22:33:28] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[22:33:35] <strcat> so, we could instead clamp all allocations to at least size 1
[22:33:41] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[22:33:45] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[22:33:50] <strcat> so it will do the regular 16-byte allocation on x86_64 for 'struct Foo; ~Foo'
[22:34:03] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Ping timeout)
[22:34:08] <strcat> I'd rather preserve it not allocating though because it's neat for ~Trait with a unit struct to not allocate
[22:34:08] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[22:34:14] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[22:34:24] <eibwen> strcat: can't you jsut return 1 or something?
[22:34:35] <eibwen> for ~ZeroSizedType
[22:34:53] <strcat> then it calls free(0x1)
[22:34:53] <eibwen> because you won't dereference it anyway
[22:35:16] <eibwen> I thought you were going to make it free(0x1, sizeof(ZeroSizedType))?
[22:35:22] <strcat> yes
[22:35:24] <sp3d> strcat: what about requiring all allocations of <= pointer size to be inlined?
[22:35:34] <eibwen> because that way, free(x, 0) would be a no op
[22:35:42] <sp3d> i.e. not-indirected-through-a-pointer
[22:35:59] <mcpherrin> strcat: Sometimes in networking code, I pass a packet along to subsequent parsing functions, and only the end one free()s it.  But if there are trailers, I don't preserve that information, so the free()er doesn't know the size
[22:36:15] <sp3d> then any time you actually call malloc the size will be >4 or >8 or such
[22:36:19] <mcpherrin> I do pass the start of the buffer to pass to free() though
[22:36:49] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Client exited)
[22:36:59] <mcpherrin> Not horrible to make that case 3 words if there's good reason to
[22:37:09] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[22:37:23] * mcpherrin not paying too much attention to conversation though
[22:37:35] <strcat> hm
[22:37:44] <strcat> technically I could just omit the free for zero-size types
[22:37:47] <strcat> and leave it as-is...
[22:38:20] <mcpherrin> Doesn't malloc() return unique non-null pointers for zero-size types, so you'd still want to free
[22:38:26] <strcat> mcpherrin: no
[22:38:31] <eibwen> mcpherrin: implementation-defined
[22:38:32] <strcat> malloc(0) may return a unique pointer
[22:38:33] <o11c> it's imp-defined
[22:38:36] <strcat> it may also return null
[22:38:41] <strcat> rust is normalizing it to null
[22:38:46] <kimundi> Afaik the hypothetical future zero cost conversion from two word ~[T] -> three word Vec<T> -> two word ~[T] would also involve forgetting the exact size of an allocation
[22:38:48] <strcat> it could normalize it to malloc(1) instead
[22:38:52] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[22:38:53] <mcpherrin> zero sized mallocs are weird
[22:39:04] * mcpherrin c++ code normalizes to malloc(1)
[22:39:15] <strcat> C++ doesn't have zero-size types though
[22:39:28] <o11c> strcat: unless you twist it's arm
[22:39:36] <kmc> how do you do that o11c?
[22:39:37] *** Joins: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP)
[22:39:38] <o11c> struct { int a[0]; };
[22:39:42] <strcat> o11c: that's not C++
[22:39:43] <mcpherrin> right, but they can still be useful as something guaranteed to be unique
[22:39:45] <strcat> o11c: it's GNU C/C++
[22:39:52] <o11c> technically not legal, but very useful
[22:39:55] <strcat> zero-size arrays aren't  standard
[22:40:14] <o11c> (and before you ask: the standard says that trailing array members must not be the only element)
[22:40:16] <strcat> o11c: gcc explicitly considers indexing past the end of a zero-size array to be UB
[22:40:23] <strcat> you can't do the pre-c99 struct hack anymore
[22:40:31] <strcat> you have to use c99 flexible size structs
[22:40:33] <mcpherrin> struct hack is best hack :(
[22:40:46] <o11c> strcat: huh, I thought they were equivalent ...
[22:41:12] <strcat> o11c: well, int a[0] was always non-standard so gcc can do what it wants
[22:41:17] <strcat> and it now considers it UB to index into it
[22:41:31] <strcat> and it's not considered a bug as it's non-standard
[22:41:35] * strcat shrugs
[22:41:39] * o11c greps his codebase real quick
[22:41:52] <strcat> I believe gcc 4.8 started doing this
[22:42:02] <o11c> oh good, I ended up using []
[22:42:16] <eibwen> what does gcc do?
[22:42:22] <o11c> strcat: I read the discussion about size 0 *VLA*s ...
[22:42:34] <strcat> o11c: ah I don't know about that
[22:42:40] <o11c> since c++14 requires an exception for it
[22:42:46] <o11c> but gcc has historically allowed it
[22:42:59] <o11c> so -std=gnu++14 will generate different code
[22:43:07] <strcat> so
[22:43:09] <strcat> my plan is to do
[22:43:18] <strcat> static EMPTY: () = ();
[22:43:26] <strcat> then return &EMPTY for allocate(0)
[22:43:29] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Client exited)
[22:43:48] <strcat> and I think I can remove all the free calls in trans itself
[22:44:03] <o11c> yeah, probably
[22:44:10] *** Quits: dmillerw (dylan@moz-D352EDAE.eugn.qwest.net) (Ping timeout)
[22:44:56] <strcat> curious if that's even sound atm
[22:44:58] <strcat> won't worry about it
[22:45:10] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[22:45:10] <strcat> rusti: static EMPTY: () = (); &EMPTY as *()
[22:45:11] -rusti- (0x5ea730 as *())
[22:45:24] * strcat passes the buck to the static-handling code
[22:45:28] *** Joins: dmillerw (dylan@moz-D352EDAE.eugn.qwest.net)
[22:45:28] <strcat> already has to be right :)
[22:45:32] *** Joins: fyolnish (fyolnish@moz-39B31B4B.uqwimax.jp)
[22:45:57] *** Quits: squiddy (squiddy@moz-38E516B.adsl.alicedsl.de) (Quit: Leaving)
[22:46:00] <strcat> ah this is annoying
[22:46:03] <strcat> atm
[22:46:11] <eibwen> strcat: casting to unsafe poitners isn't unsafe?
[22:46:12] <strcat> ~Trait dtor doesn't free the allocation
[22:46:17] <strcat> eibwen: nope
[22:46:25] <strcat> creating unsafe pointers is safe
[22:46:33] <strcat> that's not the unsafe part of unsafe pointers
[22:46:40] <eibwen> but doesn't this allow & to escape?
[22:46:46] <strcat> no
[22:46:50] <strcat> it allows an * to escape
[22:46:57] *** Joins: satalha (satalha@moz-21D6B3DE.csclub.uwaterloo.ca)
[22:46:57] <strcat> deref of * isn't safe
[22:47:12] <eibwen> mh
[22:47:14] <strcat> whether or not creating unsafe pointers is safe/unsafe, a raw pointer can become dangling after creating it
[22:47:19] <strcat> so deref has to be unsafe no matter what
[22:47:20] *** Quits: fyolnish (fyolnish@moz-39B31B4B.uqwimax.jp) (Ping timeout)
[22:47:42] <strcat> and it would give a false sense of security to consider creating an unsafe ptr to be unsafe
[22:47:49] <strcat> as... it can become dangling whether you get that right or not
[22:48:08] <strcat> rusti: let x = 5; let y = &x as *int; y
[22:48:10] -rusti- (0x7f34e5b81dc0 as *())
[22:48:21] <strcat> rusti: fn foo() -> *int { let x = 5; &x as *int } foo()
[22:48:22] -rusti- (0x7f8a132c7dc8 as *())
[22:48:55] * strcat shrugs
[22:49:34] <eibwen> ah
[22:49:44] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[22:49:47] <eibwen> let x = 5; &x
[22:49:57] <eibwen> rusti: let x = 5; &x
[22:50:01] -rusti- pastebinned 16 lines of output: http://ix.io/aiO
[22:50:09] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[22:50:32] <Jemaclus> dumb question time! let foo = 52; println!("{:?} => {:?}", foo, foo as u8);  why does this output 52 ==> 0u8 instead of 52 ==> 52u8?
[22:50:36] <Jemaclus> i feel like I'm missing something
[22:51:08] <strcat> rusti: let foo = 52; println!("{:?} => {:?}", foo, foo as u8);
[22:51:11] -rusti- pastebinned 7 lines of output: http://ix.io/a6T
[22:51:16] <strcat> rusti: let foo = 52; println!("{:?} => {:?}", foo, foo as u8); ()
[22:51:18] -rusti- 52 => 52u8
[22:51:18] -rusti- ()
[22:51:43] <strcat> Jemaclus: are you using master?
[22:51:51] <Jemaclus> yeah
[22:52:03] <Jemaclus> well, as of a few weeks ago
[22:52:07] <Jemaclus> was that a bug that was fixed?
[22:52:10] <eibwen> rusti: 128i8 as u8
[22:52:11] -rusti- <anon>:10:9: 10:14 warning: literal out of range for its type, #[warn(type_overflow)] on by default
[22:52:11] -rusti- <anon>:10         128i8 as u8
[22:52:11] -rusti-                   ^~~~~
[22:52:12] -rusti- 128u8
[22:52:19] <strcat> Jemaclus: I haven't seen it occur before
[22:52:26] <Jemaclus> hmm
[22:52:39] <FreeFull> good warning
[22:52:42] <strcat> Jemaclus: is '52' actually the number it's happening with?
[22:52:48] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[22:52:52] <FreeFull> rusti: -1i8 as u8
[22:52:54] -rusti- 255u8
[22:52:55] <strcat> rusti: 0b1_0000_0000
[22:52:57] -rusti- 256
[22:53:05] <strcat> rusti: 0b1_0000_0000 as u8
[22:53:06] -rusti- 0u8
[22:53:10] <strcat> that is supposed to be 0.
[22:53:12] *** Quits: io2 (io2@moz-7C3DDBE8.home.otenet.gr) (Quit: )
[22:53:13] <Jemaclus> oh.
[22:53:15] <Jemaclus> hmm
[22:53:23] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Quit: Leaving)
[22:53:23] <Jemaclus> well, that explains it.
[22:53:25] <Jemaclus> thanks
[22:53:29] <strcat> casting truncates, it doesn't clamp
[22:53:32] *** Quits: sellout (Adium@2917A62E.8B65BA63.1D2A2C57.IP) (Quit: Leaving.)
[22:53:43] <strcat> same in C/C++
[22:54:04] <strcat> rusti: 0b1_0000_0001
[22:54:05] -rusti- 257
[22:54:06] <strcat> rusti: 0b1_0000_0001 as u8
[22:54:08] -rusti- 1u8
[22:54:15] <strcat> can see that it just chops off 8 bits
[22:55:25] <Jemaclus> yeah, gotcha.
[22:55:30] <Jemaclus> makes sense
[22:55:32] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[22:55:53] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[22:56:04] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:56:33] <strcat> bool in C++ (and _Bool in C) has different cast semantics
[22:56:35] <strcat> fun
[22:56:46] *** Quits: Hildar (Mibbit@moz-7F4621B6.cable.virginm.net) (Quit: http://www.mibbit.com ajax IRC Client)
[22:56:47] <strcat> rust used to have broken casts to bool so now it's forbidden
[22:56:57] * strcat enjoyed that bug :(
[22:57:02] <ecr> I remember that day
[22:57:08] *** Quits: rca (rcatolino@moz-7840ADE2.adsl.proxad.net) (Ping timeout)
[22:57:28] <strcat> you could make a bool that was true in some cases and false in others
[22:57:28] <o11c> gcc had bugs with that too
[22:57:38] <o11c> because *internally* bool was just a 1-bit integer
[22:57:38] <strcat> and would be non-zero when cast as an integer
[22:57:55] <o11c> it was the *frontend* that treated (bool)i as (i != 0)
[22:58:08] <strcat> clang compiles bool to i1
[22:58:18] <o11c> i.e. same as gcc
[22:58:18] <strcat> passes as 'i1 zeroext' (at least on x86) and stores as i8
[22:58:34] <strcat> they just do zext (zero-extend) when storing
[22:58:43] <mcpherrin> damn byte-oriented computers
[22:58:49] <strcat> loads used to have to truncate
[22:58:56] *** Joins: aatch (James@moz-B437F499.pocketrent.com)
[22:59:01] <strcat> they added range metadata to mark ranges on loads so that bool loads are a no-op
[22:59:03] <ecr> stupid physics getting in the way of my beautiful math
[22:59:13] <strcat> that's why LLVM has http://llvm.org/docs/LangRef.html#range-metadata
[22:59:17] * strcat finds it amusing
[22:59:18] <mcpherrin> Imagine the bugs if your pointers were to bits
[22:59:43] <strcat> hm
[22:59:46] <mcpherrin> amd64 should have swithed to bit-pointers :)
[22:59:53] <mcpherrin> all that extra address space
[22:59:59] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[22:59:59] *** ChanServ sets mode: +o tjc
[23:00:01] <ecr> i'm not sure the bugs would be that different really
[23:00:13] <o11c> we already get pointer alignment bugs
[23:00:34] *** Joins: assaf758 (assaf@moz-7FEEB595.adsl.012.net.il)
[23:00:35] <mcpherrin> alignment seems infinity worse in a bit machine
[23:00:45] <strcat> ugh this stupid simplified_glue_type thing is going to break :|
[23:00:57] <ecr> it's just harder to automatically enforce in a bit machine
[23:00:57] * strcat sighs
[23:01:04] * strcat thinks hard...
[23:01:15] <ecr> you're halfway through feynmann's method
[23:01:20] <ecr> now just write down the answer
[23:01:23] *** Joins: nadph (Adium@EC55D6D0.5DC12898.58B1C2DD.IP)
[23:01:27] *** Quits: assaf__ (assaf@moz-E4D7531C.inter.net.il) (Ping timeout)
[23:01:46] <o11c> my math teacher doesn't like that :/
[23:02:06] <o11c> I mean, it's only DiffEq
[23:02:24] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[23:02:56] <geomyidae_> Does anyone who knows about ether/ip/{Tcp,udp} packets have an ideas for a good encoding api? I've been looking at ryu, but it's still easy to misuse it seems.
[23:02:57] *** Joins: AndroUser2 (androirc@moz-F1D96E8.wireless.telus.com)
[23:03:14] <ecr> o11c: just wait until you get to the end and learn there was a closed form solution the whole time
[23:03:31] *** Joins: maxiepoo (Max@moz-FFD7044A.nuwlan.northwestern.edu)
[23:03:35] *** Quits: moostik (Icedove@moz-133D2136.w92-139.abo.wanadoo.fr) (Quit: moostik)
[23:03:51] *** Joins: ecl3ctic (Mibbit@578C64B6.F0F44EFA.76AE55C1.IP)
[23:03:58] <mcpherrin> geomyidae_: that depends. What do you want to use it for?
[23:04:17] <mcpherrin> geomyidae_: writing a network stack /manipulating packets, or just a high level network endpoint api?
[23:04:22] <Matthias247> I don't understand the question. Is it how to encode your data to transfer it over network?
[23:04:30] *** Joins: fyolnish (fyolnish@moz-39B31B4B.uqwimax.jp)
[23:04:31] <geomyidae_> literally just the API layer
[23:04:44] <geomyidae_> I have the code written to pull apart network packets and have the code to put them together, but I can't come up with a good API for encoding, because the different parts of the packet can be interdependent.
[23:04:48] *** Joins: pepper_chico (pepper_chi@2E27DB8.A156809A.4D7FED01.IP)
[23:04:55] <ecr> hm
[23:04:57] <mcpherrin> you want different apis if you're constructing funky packets or not
[23:05:11] <mcpherrin> Scapy is useful because you can create all sorts of invalid packets
[23:05:14] <geomyidae_> Like the UDP packet is "separate" from the containing IP Packet structure, but they cross- depend on each other (IP's len is based on UDP size, UDP checksum is based on IP header fields)
[23:05:20] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[23:05:20] *** ChanServ sets mode: +ao pcwalton pcwalton
[23:05:35] <ecr> right
[23:05:39] <geomyidae_> The answer may simply be "people may do stupid things, and runtime failures are okay" I guess.
[23:06:02] <mcpherrin> geomyidae_: Right, so the important question I'm asking is if you want allow overriding those or not?
[23:06:16] <mcpherrin> Like, I need networking APIs that send packets with invalid lengths
[23:06:18] <geomyidae_> I'm fine with providing both.
[23:06:19] *** Quits: fyolnish (fyolnish@moz-39B31B4B.uqwimax.jp) (Ping timeout)
[23:06:33] <geomyidae_> mcpherrin: I would like it to be easy to NOT do that, but I understand the need to do that as well, yes.
[23:06:42] <mcpherrin> geomyidae_: right, that's probably best
[23:06:56] <pcwalton> strcat: ok, I have a sketch of tbaa-struct
[23:06:57] <aatch> geomyidae_, then mcpherrin's idea of have 2 APIs is probably best.
[23:06:59] <pcwalton> testing it now
[23:07:00] <geomyidae_> In terms of just calling .to_bytes(), that's already more or less implemented, you just stack the headers the way you want and it will write them out very happily for you.
[23:07:13] <pcwalton> this infrastructure should, by the way, pave the way toward full TBAA
[23:07:21] <aatch> pcwalton, oh sweet.
[23:07:27] <mcpherrin> geomyidae_: I'd thought about this problem a bit before.  Not sure exactly what's best
[23:07:42] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[23:08:22] <geomyidae_> Hm, I can always just finish it up doing things "by hand" and get it out there since I'm looking for feedback all around, I'm sure others may have some suggestions. I'll try to do that and send it to the ML or /r/rust or something
[23:08:52] <mcpherrin> What I was thinking was maybe something like
[23:09:12] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Client exited)
[23:09:31] <mcpherrin> Ethernet<Ip<Udp<IpcPkt>>>
[23:09:42] <strcat> pcwalton: it's really tricky to make any guarantees about our pointers though
[23:09:46] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[23:09:54] <pcwalton> &mut can't alias any other &mut and ~ can't alias any other ~
[23:09:55] <mcpherrin> and having sane defaults
[23:09:58] <mcpherrin> with a method to override
[23:10:09] <strcat> rusti: let mut x = 5; let y = &mut x; *y = 15; let z = x; *y = 10; x
[23:10:10] -rusti- <anon>:10:53: 10:54 warning: unused variable: `z`, #[warn(unused_variable)] on by default
[23:10:11] -rusti- <anon>:10         let mut x = 5; let y = &mut x; *y = 15; let z = x; *y = 10; x
[23:10:11] -rusti-                                                               ^
[23:10:11] -rusti- 10
[23:10:15] <strcat> rusti: let mut x = 5; let y = &mut x; *y = 15; let z = x; *y = 10; (x, z)
[23:10:16] -rusti- (10, 15)
[23:10:22] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[23:10:23] <strcat> pcwalton: it's not as simple as it seemed to me at first
[23:10:43] <strcat> for parameters, it's simple
[23:10:44] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[23:10:45] <pcwalton> what's wrong with those?
[23:10:50] <pcwalton> there's only one &mut there
[23:10:54] <mcpherrin> enum Length { Overriden(uint), Default(?? payload??) }
[23:11:01] <strcat> pcwalton: well, the &mut doesn't alias other &mut, but it can alias locals
[23:11:09] <pcwalton> sure
[23:11:10] <mcpherrin> or maybe stuffing a closure in there that could set the fields
[23:11:14] <pcwalton> for now I only want &mut/&mut
[23:11:19] <geomyidae_> IpcPkt is something for your usecase presumably
[23:11:20] <pcwalton> and ~/~
[23:11:20] <strcat> and &mut/& I guess?
[23:11:22] <pcwalton> yeah
[23:11:25] <pcwalton> we can scale it up later
[23:11:31] <mcpherrin> geomyidae_: right, just some payload that has a trait implemented
[23:12:07] <mcpherrin> impl Payload for IpcPkt { fn length() -> uint {...}, fn bytes() -> Iterator {...} }
[23:12:21] <geomyidae_> I think I was headed down that path and got a bit scared of getting in over my head but it does kind of make sense. an enum to constrain what can "go in" what and then a trait for "to_bytes" or serialize or something
[23:12:26] <geomyidae_> yeah
[23:12:27] *** Quits: alex-abreu (alex@C08D9303.9289A342.80AB4F0.IP) (Ping timeout)
[23:12:34] *** Quits: nik_ (nik@moz-E9BD1DA6.pool.mediaways.net) (Client exited)
[23:12:41] <aatch> proper no-alias for `~` is one of the better ones anyway, since the lack of aliasing is pretty much a defining feature.
[23:12:44] *** Quits: vmx (vmx@moz-22C2518E.pools.arcor-ip.net) (Quit: Leaving)
[23:13:00] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[23:13:39] <strcat> aatch: it does alias other pointers though, just not other ~
[23:13:41] *** Quits: lerc (quassel@moz-289EFA2.telstraclear.net) (Ping timeout)
[23:13:50] <mcpherrin> geomyidae_: This plan I was thinking is very useful for super flexible networking, but it'll be hella slow compared to just stuffing things in a buffer
[23:13:51] <aatch> strcat, that's what I meant.
[23:13:52] <strcat> as a parameter, it's noalias
[23:14:04] <mcpherrin> But super flexible is what I need
[23:14:10] <mcpherrin> (for writing network tools)
[23:15:09] <geomyidae_> That's fine though, if they don't need to manually calculate len or checksum, they can stuff the header structs themselves and then serialize it. Still a bit slower than stuff the buffer by hand but at some point they can choose to just do it all by hand :)
[23:15:10] *** Quits: pepper_chico (pepper_chi@2E27DB8.A156809A.4D7FED01.IP) (Quit: WeeChat 0.4.1)
[23:15:12] <Matthias247> Ethernet<Ip<Udp<IpcPkt>>>    <-- I would have probably structured it the other way around :)99,99
[23:15:58] <strcat> anyway exchange_free can definitely be given a length
[23:16:04] <strcat> I've decided against trying to remove the calls for now
[23:16:15] <strcat> it's error prone due to all the weird normalization/opaque stuff rustc does
[23:16:20] <strcat> hm
[23:16:22] <strcat> well
[23:16:26] <strcat> even passing the length isn't going to turn out well
[23:16:28] * strcat sighs
[23:16:30] *** Quits: marianoguerra (marianogue@moz-57045709.dip0.t-ipconnect.de) (Ping timeout)
[23:16:31] <strcat> I hate glue
[23:16:51] <aatch> I also assume that, for rust, &T != &U where T != U?
[23:17:08] <strcat> aatch: well, the stdlib certainly violates that kind of rule all over
[23:17:14] <strcat> it also violates &mut not aliasing &mut
[23:17:16] <strcat> and many other rules
[23:17:37] <strcat> libextra even stores an out-of-range value in char via transmute
[23:17:43] <strcat> to parse json, of all things
[23:17:44] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[23:18:39] <aatch> strcat, some of those are bad, others, I think it doesn't affect the alias stuff since most of the time the original value isn't touched.
[23:18:57] <strcat> aatch: atomics use &mut self and are shared between threads
[23:19:06] <strcat> and written to concurrently
[23:19:17] <strcat> that's certainly not noalias
[23:19:25] *** Quits: amir (amir@moz-467F7F30.cust.bluewin.ch) (Ping timeout)
[23:19:40] <ecr> geomyidae: you could make a UdpChecksum trait and impl it only for Ip<Udp<T>>
[23:19:41] <strcat> maybe it won't manifest as a bug, but it's undefined behaviour AFAIK.
[23:19:46] *** Quits: AndroUser2 (androirc@moz-F1D96E8.wireless.telus.com) (Ping timeout)
[23:19:55] *** Joins: lennart (lennart@moz-DE70D6F.stanford.edu)
[23:20:05] *** Quits: maxiepoo (Max@moz-FFD7044A.nuwlan.northwestern.edu) (Quit: maxiepoo)
[23:20:09] <ecr> geomyidae: so you'd only be able to all udp_checksum on IP-wrapped UDP packets
[23:20:16] *** Joins: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net)
[23:20:45] <aatch> strcat, sure, I'm just saying that the most common pattern that "breaks" the normal invariants are like `let a : &U = cast::transmute(b)` and you then ignore 'b' altogether.
[23:21:28] <lennart> is it possible to do a parallel map over a mutable vector to modify it in place using `mut_chunks`?
[23:21:40] <strcat> lennart: not yet, as there's no fork-join parallelism yet
[23:21:45] *** Quits: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[23:21:53] <pcwalton> you can with unsafe code
[23:21:53] <strcat> but once there is, yes, you will be able to do it for &mut [T] where T is Share
[23:22:09] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[23:22:16] <strcat> can't define a safe library function doing it though, can only be correct for known types
[23:22:18] <ecr> only as long as the input and output types of the map are the same size
[23:22:27] <ecr> otherwise bad things
[23:22:48] *** Quits: nif (nif@moz-8181E2AC.oberlin.net) (Quit: Konversation terminated!)
[23:22:49] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[23:22:56] <strcat> well we can't express that in the type system atm so you just plain can't do that
[23:22:59] <lennart> the unsafe way would be to take the mutable reference to the chunk, cast it as a pointer, then use that in the spawned proc?
[23:23:02] <strcat> has to be the same input/output type
[23:23:04] *** Quits: aklt (aklt@moz-E66E9BCB.u.parknet.dk) (Quit: leaving)
[23:23:08] <strcat> unless we added SameSize<T> as a trait
[23:23:25] <strcat> and even then it sounds pretty wrong, because the alignment may be different
[23:23:27] <ecr> probably just same type. I think the consensus is keep the types non-dependent
[23:23:49] <strcat> lennart: slices are 2 words (ptr and length)
[23:23:58] <strcat> you can convert a slice to the raw representation
[23:23:59] <strcat> via transmute
[23:24:02] <strcat> then transmute back
[23:24:19] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[23:24:22] *** flaper87 is now known as flaper87|afk
[23:24:25] <strcat> you just have to guarantee that you know the types aren't stuff like Rc
[23:24:36] <strcat> and also guarantee that the tasks can't outlive the slice lifetime
[23:24:56] *** Joins: nif (nif@moz-8181E2AC.oberlin.net)
[23:25:55] <lennart> strcat: thanks
[23:25:57] <strcat> pcwalton: I think I'm going to remove drop glue from tydescs completely and then only visit glue will need tydescs...
[23:26:06] <pcwalton> ok, cool
[23:26:14] *** Joins: alex-abreu (alex@C08D9303.9289A342.80AB4F0.IP)
[23:26:19] <strcat> ~Trait no longer has a tydesc which is nice, but proc does :(
[23:26:31] <strcat> but ~Trait still generates a tydesc to get the drop glue
[23:27:28] *** Quits: Zylinski (karl@moz-58495553.static.spa.siw.siwnet.net) (Quit: )
[23:27:46] *** Quits: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP) (Ping timeout)
[23:28:33] *** Quits: alex-abreu (alex@C08D9303.9289A342.80AB4F0.IP) (Ping timeout)
[23:29:17] <Jemaclus> argh, so close. :(
[23:30:42] <aatch> bjz, ping
[23:31:02] *** Joins: canhtak (canhtak@moz-8A625E1D.wl.t.ulaval.ca)
[23:31:24] <Jemaclus> if I want to write bytes to a file, is there a difference between writing u8s vs u32s?
[23:31:28] *** Joins: ktt3ja (ktt3ja@moz-85E2770C.hsd1.va.comcast.net)
[23:31:48] <strcat> Jemaclus: which API are using to write?
[23:31:53] *** Joins: alex-abreu (alex@C08D9303.9289A342.80AB4F0.IP)
[23:32:07] <Jemaclus> well, before I was using file.write(~[u8])
[23:32:17] <bjz> aatch: hoy
[23:32:17] <Jemaclus> but I think I need to switch it to ~[u32]
[23:32:22] *** Quits: Saj (Sajuuk@moz-840D0658.netvisao.pt) (Quit: Leaving)
[23:32:35] <Jemaclus> so there's write_be_u32() and write_le_u32()...
[23:32:48] *** Joins: lpy (lpy@51E8C831.DDD9F058.E99F7FDB.IP)
[23:33:24] <Jemaclus> but you write byte by byte instead of passing in a vector of u8s.. I think
[23:33:29] <Jemaclus> and reading seems more complicated with u32s as well
[23:33:32] <Jemaclus> wondering if I'm missing something
[23:33:51] <aatch> bjz, I'm thinking of doing some work on noise-rs.
[23:34:04] <bjz> aatch: awesome!
[23:34:15] <o11c> files don't contain u32s ... the best way is to do the struct -> [u8] conversion ahead of time (possibly involving a second struct with endian'ed types
[23:34:35] *** Quits: lpy (lpy@51E8C831.DDD9F058.E99F7FDB.IP) (Ping timeout)
[23:35:01] <aatch> bjz, mainly looking at adding a sort of general API that allows you to combine and modify sources of noise into new sources of noise.
[23:35:16] *** Quits: eholk (eholk@moz-BA312F07.crest.iu.edu) (Quit: eholk)
[23:35:19] <bjz> aatch: ooh, that sounds exciting
[23:35:24] <jxs> strcat, https://github.com/mozilla/rust/pull/11999, sorry, can't understand what needs to be rebased again
[23:35:29] <bjz> aatch: have you seen libnoise btw?
[23:35:44] <aatch> bjz, I think so.
[23:35:54] <Jemaclus> hmm
[23:35:54] <bjz> aatch: might be interesting inspiration: http://libnoise.sourceforge.net/
[23:36:20] <Jemaclus> i'm not entirely sure I follow.
[23:36:53] <aatch> bjz, ah yes, I have. That's where I'm getting my general idea.
[23:36:59] *** Joins: amir (amir@moz-467F7F30.cust.bluewin.ch)
[23:38:15] <aatch> Anyway, I just wanted to ask what kind of scope I have for API-ish changes.
[23:38:21] <aatch> bjz ^
[23:38:34] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[23:38:56] <cgaebel> how do I get the reference count for an Rc<T>?
[23:39:04] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[23:39:17] <strcat> cgaebel: you can't, it's an implementation detail
[23:39:26] <bjz> aatch: lots of scope
[23:39:34] <strcat> there are two reference counts, since it supports weak pointers
[23:39:39] <cgaebel> strcat: aah. then how do I easily test that drops are called properly?
[23:39:50] <strcat> cgaebel: well, I can tell you that it works
[23:39:50] <aatch> bjz, figured as much, better to ask though.
[23:39:57] <strcat> cgaebel: you could print in your Drop function if it's a specific test
[23:39:58] <bjz> aatch: maybe you could make an issue outlining your ideas?
[23:40:01] <strcat> or use valgrind to look for leaks
[23:40:09] <cgaebel> strcat: I'd prefer to have an automated test for it.
[23:40:10] <bjz> aatch: or you could just send a PR
[23:40:23] <aatch> bjz, I'll probably do a bit of both.
[23:40:33] <strcat> cgaebel: run your test suite under valgrind
[23:40:37] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[23:40:40] <strcat> it will catch any memory leaks..
[23:40:53] *** Quits: dsyang (dsyang@F241238B.7254D4BA.689607DE.IP) (Client exited)
[23:40:53] <cgaebel> strcat: ok...
[23:40:56] <strcat> the only way for an Rc to leak is if you make a cycle, and in that case the box allocation will leak
[23:41:10] <strcat> cgaebel: you could transmute to access the Rc priv fields
[23:41:10] <aatch> bjz, what's the range of the Perlin output, by the way? -1 -> 1?
[23:41:11] <strcat> but...
[23:41:17] <strcat> I really don't recommend it as Rc may change
[23:41:25] <bjz> aatch: yes, I think that's it
[23:41:28] <cgaebel> strcat: alright. I'll try just printing in the drops to sanity check
[23:41:33] <bjz> aatch: that should really be documented
[23:41:35] <cgaebel> strcat: automatically testing this seems too hard.
[23:41:40] <aatch> bjz, yes lol.
[23:42:00] *** Quits: Ferreus (ferreus@moz-889258AB.pools.arcor-ip.net) (Ping timeout)
[23:42:15] <aatch> Ideally, all the noise functions should have that range (if/when more types are added, I like Worley noise myself)
[23:42:44] *** Joins: u1 (u1@2E3F5E6A.9DD606B.3DAF2526.IP)
[23:43:04] <strcat> cgaebel: the way you could do it is to transmute Rc<T> to *(T, uint, uint) and check that the two counts (strong and weak) are zero
[23:43:08] <strcat> but then if Rc changes, it'll break
[23:43:10] *** Quits: snerd (motk@moz-D21A06DF.members.linode.com) (Quit: leaving)
[23:43:18] *** Joins: snerd (motk@moz-D21A06DF.members.linode.com)
[23:43:20] <strcat> well, transmute_copy(&x)
[23:43:26] <strcat> since you just want a view
[23:43:39] *** Parts: simlay (simlay@moz-490DE04A.amandrai.net) ()
[23:43:44] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Input/output error)
[23:44:33] <cgaebel> strcat: naw. I don't want tests in hashmap to start breaking if Rc needs tweaking
[23:44:34] *** Quits: Locke23rus (quassel@moz-7F6F6C7E.broadband.corbina.ru) (Connection reset by peer)
[23:44:37] <cgaebel> that just seems like bad form.
[23:44:49] <o11c> wait, Rc puts the T first, not the counts?
[23:44:59] <strcat> o11c: yes, that way it's a no-op to deref it
[23:45:09] *** Quits: amir (amir@moz-467F7F30.cust.bluewin.ch) (Ping timeout)
[23:45:17] <strcat> refcounts are rare since they only happen on ownership splits
[23:45:23] <strcat> woo, micro-optimizations
[23:45:32] *** Joins: fyolnish (fyolnish@moz-39B31B4B.uqwimax.jp)
[23:45:35] <o11c> but that breaks DSTs ...
[23:45:41] <o11c> unless you put the counts at *negative* offsets
[23:45:43] <strcat> o11c: well there are no DSTs yet
[23:45:50] <o11c> libstdc++ std::string does that
[23:45:50] <cgaebel> isn't lea eax, [eax] just as expensive as lea eax, [eax+8]?
[23:46:04] <o11c> but I'm not sure if they were actually thinking about performance - they only *mention* debugging
[23:46:47] <strcat> cgaebel: it's at an LLVM IR level
[23:47:18] *** Quits: fyolnish (fyolnish@moz-39B31B4B.uqwimax.jp) (Ping timeout)
[23:47:20] <cgaebel> strcat: but it turns into normal assembly one day...
[23:47:48] <strcat> cgaebel: that's not really the thought model that LLVM IR code generation requires
[23:48:04] <cgaebel> strcat: how do you mean?
[23:48:12] <strcat> pointers in LLVM IR are not just addresses
[23:48:22] <bjz> aatch: awesome! sounds super exciting
[23:48:30] <strcat> they have semantic information, thanks to aliasing rules and pointer arithmetic rules
[23:49:01] <strcat> cgaebel: for example casting a pointer to *u8 and incrementing it by 5 bytes
[23:49:05] <aatch> bjz, I think I'll make the lower-level changes to support my plans first, since they'll probably be necessary, no matter what
[23:49:09] <strcat> is certainly not the same as casting to an integer and incrementing it by 5
[23:49:14] <strcat> and then casting back (in both cases)
[23:49:20] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[23:49:26] <strcat> yes, LLVM will compile both to the same assembly
[23:49:29] <bjz> aatch: sure thing
[23:49:34] <strcat> but the second case loses all of the aliasing information
[23:49:38] <strcat> and prevents many optimizations
[23:49:50] <aatch> bjz, it's just stuff like adding traits, abstracting out some things.
[23:50:06] <bstrie_boot> strcat: I always forget, what's the command to get op from chanserv in freenode
[23:50:12] <cgaebel> strcat: oh. interesting. so pointers to structs are aliased with pointers to the first element?
[23:50:24] <strcat> bstrie_boot: op
[23:51:00] <bjz> aatch: do you know what the patent status of simplex noise is?
[23:51:02] *** Quits: alex-abreu (alex@C08D9303.9289A342.80AB4F0.IP) (Ping timeout)
[23:51:03] <bstrie_boot> strcat: thanks
[23:51:05] <strcat> cgaebel: the incentive was to make &T and Rc<T> compile to the same code for dereferencing, etc.
[23:51:06] <pcwalton> strcat: llvm doesn't look like it use TBAA struct for memcpy optimization
[23:51:10] <pcwalton> despite what the docs say
[23:51:11] <pcwalton> :\
[23:51:17] <pcwalton> whee
[23:51:20] <aatch> bjz, no, I wasn't aware it *was* patented.
[23:51:24] <strcat> pcwalton: it may just be really bad at it...
[23:51:29] *** Joins: dsyang (dsyang@F241238B.7254D4BA.689607DE.IP)
[23:51:31] <pcwalton> nah, I grepped through the source
[23:51:32] <strcat> pcwalton: also make sure you're not using fastisel
[23:51:34] <strcat> hrm
[23:51:37] *** jorendorff is now known as jorendorff_away
[23:51:38] *** Quits: dsyang (dsyang@F241238B.7254D4BA.689607DE.IP) (Client exited)
[23:51:39] <bjz> aatch: oh, I thought it was - could be wrong though
[23:51:43] <strcat> pcwalton: it will be in codegen, if it does do it
[23:51:46] <aatch> bjz, I could be too
[23:51:53] <bjz> ^_^
[23:51:54] <aatch> It's not like I pay much attention to these things
[23:53:01] <strcat> pcwalton: it's sad if it doesn't because they claim it works...
[23:53:35] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[23:53:36] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[23:53:42] <aatch> bjz, looks like it's still patented.
[23:54:05] <aatch> http://www.google.com/patents/US6867776
[23:54:23] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[23:54:31] <aatch> bjz, blame Nokia :P
[23:54:33] *** Joins: AndroUser2 (androirc@moz-F1D96E8.wireless.telus.com)
[23:54:40] <strcat> aatch: you don't live somewhere with software patents anyway
[23:54:41] <strcat> ;p
[23:54:42] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Ping timeout)
[23:54:46] <aatch> strcat, I know
[23:55:13] <pcwalton> strcat: the only case it seems to be used is to propagate TBAA info for one-element structs if you're memcpying them
[23:55:24] <pcwalton> otherwise TBAA-struct is totally ignored
[23:55:35] <strcat> ugh.
[23:55:35] <aatch> probably bad form to publish code that can't be used in the US to an open-source project.
[23:55:48] <strcat> pcwalton: I wonder if it used to do it and it was dropped...
[23:56:17] <acrichto> pcwalton: :( :( :(
[23:56:19] <bjz> strcat: and at least some of the github servers are in america
[23:56:20] <strcat> aatch: mesa and freetype2 use a lot of patented stuff
[23:56:38] <strcat> arch linux enables floating point textures and ships S3TC support regardless
[23:56:40] <strcat> *shrug*
[23:56:49] <aatch> strcat, don't they have to have licenses though?
[23:56:50] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[23:56:58] <strcat> aatch: arch certainly doesn't have licenses
[23:57:14] <strcat> aatch: mesa/freetype2 don't either
[23:57:26] <strcat> mesa and freetype2 hide this stuff behind config flags or defines
[23:57:38] <strcat> S3TC is split out as a dynamically loaded library, in fact (floating point textures aren't)
[23:57:51] <pcwalton> acrichto: I think there may be other ways to fix your bug
[23:57:55] <strcat> aatch: they just make it very clear to users of the library that it's patented
[23:57:58] <strcat> because it's off by default
[23:58:04] <pcwalton> acrichto: testing something.
[23:58:25] <aatch> strcat, fair enough. Still, this is an improved version of an already decent coherent noise function.
[23:58:34] *** Joins: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net)
[23:58:35] <pcwalton> strcat: it doesn't come up in clang as much because clang marks all "non-immediate" locals as not aliasing one another
[23:58:39] <pcwalton> which we could trivially do as well
[23:58:46] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[23:58:54] <pcwalton> so SROA will go nuts with them
[23:59:31] <strcat> hm, they actually mark them? I thought basicaa would do something like that
[23:59:46] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[23:59:46] <pcwalton> well, they do mark them
[23:59:48] <LRN> so, static libs by default now? What about shared libs? 
