[00:06:08] *** Quits: tjc (tjc@moz-BBE3ABD.mv.mozilla.com) (Quit: Places to go, people to annoy)
[00:06:11] *** Joins: dbaupp (Thunderbir@B11E503F.D5A1DCF.37681C44.IP)
[00:27:38] *** Joins: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[00:28:25] *** Quits: tikue_ (tikue_star@8E84FE3F.F3E8A984.689607DE.IP) (Ping timeout)
[00:31:27] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[00:31:27] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/fkHlug
[00:31:27] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[00:36:23] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[00:36:23] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/75Q8Ew
[00:36:23] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[00:36:23] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[00:36:24] <ghrust> 01[13rust01] 15bors pushed 1 new commit to 06auto: 02http://git.io/kYLz0Q
[00:36:24] <ghrust> 13rust/06auto 142e1df8e 15bors: auto merge of #9732 : catamorphism/rust/rustpkg-read-only, r=brson...
[00:36:24] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[00:40:52] *** Joins: ecr (Mibbit@E940BDD3.FBC7597F.11F8506F.IP)
[00:41:21] <ecr> howdy
[00:45:32] <cmr> hullo
[00:46:17] <ecr> I'm going to give a talk on rust to the PLSE group tomorrow
[00:46:43] <ecr> Any really major changes in the last month or so?
[00:48:30] <cmr> ecr: @fn removed
[00:49:39] <cmr> no more float, loop->continue, new format! replaced the old fmt!, 
[00:50:22] <ecr> ah good, float is dead.
[00:51:02] <ecr> thanks. at least I don't need to relearn everything then.
[00:52:38] <ecr> what was @fn again? implicit Freeze bound (and shared reference to the function obviously)?
[00:52:55] <cmr> no idea, I only used it when iteracting with old APIs
[00:53:07] <cmr> shared ref to the env, not the fn
[00:55:32] <ecr> ah, ok. that makes sense actually. I guess that was the confusing bit about it.
[01:07:53] *** Quits: dbaupp (Thunderbir@B11E503F.D5A1DCF.37681C44.IP) (Ping timeout)
[01:09:21] *** Quits: jdm (jdm@moz-E4B91594.zone16.bethere.co.uk) (Quit: Lost terminal)
[01:16:37] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[01:21:34] <kmc> ecr: take a look at This Week in Rust, I guess
[01:21:48] <kmc> also, good luck with your talk! i'd love to see slides if they'll be available
[01:25:16] <ecr> kmc: thanks. I'll probably post them to reddit at some point. I'm just going to a 'tour of rust' kind of thing.
[01:41:25] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[01:41:25] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/DaN3YQ
[01:41:25] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[01:44:16] *** Quits: ecr (Mibbit@E940BDD3.FBC7597F.11F8506F.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:46:24] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[01:46:25] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/3wCsVA
[01:46:25] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[01:46:25] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[01:46:25] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/40TBEQ
[01:46:25] <ghrust> 13rust/06auto 14a9dddba 15Tim Chevalier: rust / build: Remove the `rust` tool...
[01:46:25] <ghrust> 13rust/06auto 14afa42a0 15bors: auto merge of #9785 : catamorphism/rust/remove-convenience-tool, r=pcwalton...
[01:46:26] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[02:15:43] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[02:18:59] <acrichto> moredeath.eh ?
[02:21:05] <acrichto> > Stack overflow has been detected
[02:21:06] <acrichto> woohoo!
[02:23:32] <acrichto> .section self_modifying_code
[02:23:34] <acrichto> oh boy
[02:23:41] * acrichto puts a seat belt on
[02:26:05] <aatch> acrichto, woo, old-school
[02:31:53] *** Quits: kimundi (kimundi@moz-ED7978E9.dip0.t-ipconnect.de) (Ping timeout)
[02:35:08] *** Joins: kimundi (kimundi@moz-E1BEDB61.dip0.t-ipconnect.de)
[02:39:34] *** kimundi is now known as zz_kimundi
[02:49:56] *** Quits: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca) (Input/output error)
[02:51:27] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[02:51:28] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/40TBEQ
[02:51:28] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[02:52:27] *** Joins: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca)
[02:56:24] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[02:56:24] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/cDoIDA
[02:56:24] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[02:56:27] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[02:56:27] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/sIcFXA
[02:56:28] <ghrust> 13rust/06auto 1495fc31a 15Jyun-Yan You: improve C ABI...
[02:56:28] <ghrust> 13rust/06auto 140daced6 15bors: auto merge of #9517 : crabtw/rust/cabi, r=nikomatsakis...
[02:56:28] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[02:57:18] *** Joins: tikue (quassel@moz-FEADCD38.hsd1.pa.comcast.net)
[03:02:46] *** Joins: dbaupp (Thunderbir@moz-4301A13F.lns20.syd6.internode.on.net)
[03:08:04] *** Joins: vadimcn_ (chatzilla@A2F885AA.5334B0D2.DA40C4B3.IP)
[03:08:08] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[03:08:14] *** vadimcn_ is now known as vadimcn
[03:10:01] *** Joins: vadimcn_ (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[03:10:05] *** Quits: vadimcn (chatzilla@A2F885AA.5334B0D2.DA40C4B3.IP) (Ping timeout)
[03:10:11] *** vadimcn_ is now known as vadimcn
[03:43:57] *** Quits: StarLight (StarLight@moz-9A720B6E.dynamic.avangarddsl.ru) (Ping timeout)
[03:54:45] *** Joins: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP)
[04:01:25] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[04:01:25] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/sIcFXA
[04:01:25] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[04:06:28] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[04:06:28] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/VpmWOw
[04:06:28] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[04:07:51] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[04:12:01] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[04:12:01] *** ChanServ sets mode: +qo brson brson
[04:26:46] *** Quits: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net) (Ping timeout)
[04:27:12] *** Joins: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[04:31:23] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[04:31:23] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/VpmWOw
[04:31:23] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[04:31:23] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[04:31:24] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/4K-P8w
[04:31:24] <ghrust> 13rust/06auto 14b703061 15Alex Crichton: Remove named extern blocks from the AST...
[04:31:24] <ghrust> 13rust/06auto 14e5fc0ca 15bors: auto merge of #9804 : alexcrichton/rust/always-anon-extern, r=brson...
[04:31:24] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[04:36:28] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[04:41:22] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[05:08:04] *** Quits: aatch (James@moz-B437F499.pocketrent.com) (Client exited)
[05:09:53] *** Quits: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP) (Quit: Leaving)
[05:10:35] *** Joins: tikue_ (quassel@moz-FEADCD38.hsd1.pa.comcast.net)
[05:11:24] *** Quits: tikue (quassel@moz-FEADCD38.hsd1.pa.comcast.net) (Ping timeout)
[05:11:36] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[05:36:23] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[05:36:23] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/4K-P8w
[05:36:23] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[05:41:24] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[05:41:24] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/95wVdw
[05:41:24] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[05:41:28] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[05:41:28] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/4DwEsg
[05:41:28] <ghrust> 13rust/06auto 141e1ef1c 15Alex Crichton: De-pub some private runtime components...
[05:41:28] <ghrust> 13rust/06auto 14d09c42c 15bors: auto merge of #9803 : alexcrichton/rust/less-pub2, r=brson...
[05:41:29] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[05:51:22] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[05:51:22] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14d09c42c to 14e5fc0ca: 02http://git.io/N3iJvQ
[05:51:22] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[05:51:25] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[05:51:25] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/hPHRsA
[05:51:25] <ghrust> 13rust/06auto 14478c9b7 15Alex Crichton: Add tests and un-xfail a few issues...
[05:51:25] <ghrust> 13rust/06auto 145bddcc1 15bors: auto merge of #9805 : alexcrichton/rust/needstest, r=brson...
[05:51:26] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[05:53:59] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[05:54:04] *** Joins: vadimcn_ (chatzilla@A2F885AA.5334B0D2.DA40C4B3.IP)
[05:54:06] *** vadimcn_ is now known as vadimcn
[05:57:48] *** Joins: vadimcn_ (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[05:57:56] *** Quits: vadimcn (chatzilla@A2F885AA.5334B0D2.DA40C4B3.IP) (Ping timeout)
[05:57:57] *** vadimcn_ is now known as vadimcn
[06:19:24] *** Quits: doomlord_ (servitor@moz-728E30A7.range109-151.btcentralplus.com) (Connection reset by peer)
[06:47:55] *** Quits: lbergstrom (Adium@moz-5D8E4B14.lightspeed.cicril.sbcglobal.net) (Ping timeout)
[06:52:15] *** Joins: lbergstrom (Adium@moz-5D8E4B14.lightspeed.cicril.sbcglobal.net)
[06:56:20] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[06:56:20] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/hPHRsA
[06:56:20] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[07:47:51] *** Quits: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net) (Quit: jeffb)
[08:11:57] *** Joins: nrc (nrc@moz-3576D163.cable.virginmedia.com)
[09:03:32] *** Quits: nrc (nrc@moz-3576D163.cable.virginmedia.com) (Ping timeout)
[09:21:38] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[09:27:56] *** Joins: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP)
[09:30:14] *** Joins: pnkfelix (pnkfelix@moz-1467CA5F.bstnma.fios.verizon.net)
[09:30:14] *** ChanServ sets mode: +o pnkfelix
[09:30:16] *** Joins: nrc (nrc@88F51059.F3BBB17D.144F44FA.IP)
[11:01:58] *** zz_kimundi is now known as kimundi
[11:31:36] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[11:54:53] *** Joins: steveklabnik (steveklabn@701D470.129BE976.EE0D0080.IP)
[11:59:54] *** Joins: stevekla1nik (steveklabn@701D470.129BE976.EE0D0080.IP)
[11:59:56] *** Joins: stevekla2nik (steveklabn@701D470.129BE976.EE0D0080.IP)
[12:00:54] *** Quits: steveklabnik (steveklabn@701D470.129BE976.EE0D0080.IP) (NickServ (GHOST command used by stevekla1nik))
[12:01:00] *** Joins: steveklabnik (steveklabn@701D470.129BE976.EE0D0080.IP)
[12:01:33] *** Quits: stevekla1nik (steveklabn@701D470.129BE976.EE0D0080.IP) (Quit: bye!)
[12:04:28] *** Joins: stevekla1nik (steveklabn@701D470.129BE976.EE0D0080.IP)
[12:06:58] *** Quits: steveklabnik (steveklabn@701D470.129BE976.EE0D0080.IP) (NickServ (GHOST command used by stevekla1nik))
[12:07:04] *** Joins: steveklabnik (steveklabn@701D470.129BE976.EE0D0080.IP)
[12:07:16] *** Quits: steveklabnik (steveklabn@701D470.129BE976.EE0D0080.IP) (NickServ (GHOST command used by stevekla1nik))
[12:07:27] *** stevekla1nik is now known as steveklabnik
[12:12:09] *** Joins: stevekla1nik (steveklabn@701D470.129BE976.EE0D0080.IP)
[12:21:48] *** Quits: steveklabnik (steveklabn@701D470.129BE976.EE0D0080.IP) (Ping timeout)
[12:22:23] *** Quits: stevekla1nik (steveklabn@701D470.129BE976.EE0D0080.IP) (Ping timeout)
[12:22:25] *** Quits: stevekla2nik (steveklabn@701D470.129BE976.EE0D0080.IP) (Ping timeout)
[12:29:09] *** Joins: steveklabnik (steveklabn@701D470.129BE976.EE0D0080.IP)
[12:32:33] *** Joins: stevekla1nik (steveklabn@701D470.129BE976.EE0D0080.IP)
[12:37:34] *** Joins: stevekla2nik (steveklabn@701D470.129BE976.EE0D0080.IP)
[12:41:57] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[12:43:30] <dbaupp> benh: https://github.com/mozilla/rust/pull/9802 needs a rebase
[12:44:00] <benh> ah, thank you
[12:44:35] <benh> How do I tell that it does?
[12:45:30] <dbaupp> I can tell because I'm a collaborator, so i see a "We canâ€™t automatically merge this pull request" message at the bottom
[12:45:35] <benh> Ah
[12:45:40] <benh> ok, I'll get on it when I've eaten
[12:45:41] <dbaupp> I think the bors queue has a "stale" category
[12:45:59] <dbaupp> yeah, buildbot.rust-lang.org/bors/bors.html the orange tells you the same thing
[12:46:05] <dbaupp> *http://buildbot.rust-lang.org/bors/bors.html
[12:46:11] <steveklabnik> github really needs to expose that
[12:46:20] <steveklabnik> it's really annoying to triage
[12:46:23] <steveklabnik> as a maintainer
[12:46:55] <dbaupp> expose to everyone in the HTML, you mean
[12:46:55] <dbaupp> ?
[12:49:37] <steveklabnik> yes
[12:49:48] <steveklabnik> as someone without commit, seeing 'this needs rebased'
[12:49:51] <steveklabnik> would be nice
[12:50:01] <steveklabnik> i spend a LOT of time in rails just letting people know that they need one
[12:50:06] <steveklabnik> or rather, did.
[12:50:10] <steveklabnik> not really working on rails any more
[12:51:16] *** Quits: pnkfelix (pnkfelix@moz-1467CA5F.bstnma.fios.verizon.net) (Quit: Leaving.)
[12:51:54] <benh> ... I wonder if there's a better way to deal with merge conflicts than a text search for =====...
[12:52:10] <dbaupp> yeah, it is very weird that it's not even exposed to the PR-submitterr
[12:52:16] <steveklabnik> git merge --difftool i think, benh 
[12:52:27] <dbaupp> benh: `git diff` should show them, at least
[13:03:52] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[13:15:07] <kaeso> benh: git mergetool
[13:44:24] <dbaupp> benh: push the rebased code if it's looking promising: bors isn't doing anything
[13:46:01] <benh> oh no, i push -f'd twice and you r+'d inbetween
[13:46:05] <benh> I'm terrible at this, sorry
[13:46:18] <acrichto> benh: all hope is lost
[13:46:20] <acrichto> r-
[13:46:29] <acrichto> :)
[13:46:42] <benh> history editing/push -f is making me way too sloppy ;)
[13:47:01] <acrichto> I suppose we don't even get clean histories out of it b/c bors makes merge commits
[13:47:11] <acrichto> it is nice to have tidy pull requests though
[13:47:44] <strcat> github makes merge commits anyway
[13:47:48] <acrichto> steveklabnik: I wonder if it would be bad for bors to auto-coment
[13:48:04] <benh> incidentally the commits I rebased over changed a funtion in rustpkg to return a path to a directory that is sometimes a temporary directory and sometimes a directory the user passed in
[13:48:05] <strcat> you have to avoid github's merging if you want a clean history ;p
[13:48:15] <benh> so the RAII doesn't save us there from leaving things in /tmp
[13:48:19] <acrichto> strcat: although we're using bors merging instead of github merging
[13:48:28] *** Quits: steveklabnik (steveklabn@701D470.129BE976.EE0D0080.IP) (Ping timeout)
[13:48:38] <strcat> acrichto: yeah but either way you get a merge commit ;p
[13:48:40] <acrichto> benh: is that one of the rustpkg tests?
[13:48:46] *** Quits: stevekla2nik (steveklabn@701D470.129BE976.EE0D0080.IP) (Ping timeout)
[13:48:48] *** Quits: stevekla1nik (steveklabn@701D470.129BE976.EE0D0080.IP) (Ping timeout)
[13:48:54] <benh> acrichto: not 100% sure but I suspect not
[13:49:41] <acrichto> eh, it's no worse than it was before
[13:49:43] <benh> It's in the code to fetch a git repos remotely, that shouldn't be a test iirc
[13:50:15] <benh> I want to talk to tjc about maybe changing the API so it has a separate enum variant to return a TempDir instead of a Path, or maybe not having it return a Path at all, not sure
[13:50:51] <acrichto> klutzy: ping
[13:50:55] <benh> I should probably run make check NO_BENCH=1 the next time :(
[13:51:14] <acrichto> benches are long :(
[13:51:23] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[13:51:23] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/dE8YdA
[13:51:23] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[13:51:25] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[13:51:25] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/rd21kw
[13:51:25] <ghrust> 13rust/06auto 148d02889 15Benjamin Herr: extra::tempfile: replace mkdtemp with an RAII wrapper...
[13:51:25] <ghrust> 13rust/06auto 143c832d1 15bors: auto merge of #9802 : ben0x539/rust/mkdtemp-raii, r=alexcrichton...
[13:51:25] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[13:51:41] <benh> and it just failed to build the tests
[13:52:11] <acrichto> wanna cancel the bors build?
[13:52:14] <benh> please do
[13:53:59] <benh> Didn't look closely enough at the new tests :(
[13:58:53] *** Joins: steveklabnik (steveklabn@701D470.129BE976.EE0D0080.IP)
[13:58:58] *** Joins: stevekla1nik (steveklabn@701D470.129BE976.EE0D0080.IP)
[14:01:34] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[14:01:34] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 143c832d1 to 145bddcc1: 02http://git.io/N3iJvQ
[14:01:34] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[14:01:35] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[14:01:35] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/FIZCgQ
[14:01:35] <ghrust> 13rust/06auto 148b4423b 15Alex Crichton: De-pub some private runtime components...
[14:01:35] <ghrust> 13rust/06auto 14c8c3700 15bors: auto merge of #9803 : alexcrichton/rust/less-pub2, r=brson...
[14:01:35] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[14:02:24] <benh> acrichto: can I have another +r?
[14:02:48] <benh> fixed the rustpkg tests, make checks now, locally
[14:02:54] <acrichto> benh: you may indeed
[14:02:55] <benh> thanks!
[14:05:05] *** Joins: stevekla2nik (steveklabn@701D470.129BE976.EE0D0080.IP)
[14:05:17] *** Quits: steveklabnik (steveklabn@701D470.129BE976.EE0D0080.IP) (NickServ (GHOST command used by stevekla2nik))
[14:05:22] *** Joins: steveklabnik (steveklabn@701D470.129BE976.EE0D0080.IP)
[14:05:39] *** Quits: steveklabnik (steveklabn@701D470.129BE976.EE0D0080.IP) (NickServ (GHOST command used by stevekla2nik))
[14:05:44] *** stevekla2nik is now known as steveklabnik
[14:10:26] *** Joins: stevekla2nik (steveklabn@701D470.129BE976.EE0D0080.IP)
[14:11:25] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[14:11:25] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14c8c3700 to 145bddcc1: 02http://git.io/N3iJvQ
[14:11:25] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[14:11:25] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[14:11:26] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/Ts2H7Q
[14:11:26] <ghrust> 13rust/06auto 1463e9e49 15Benjamin Herr: extra::tempfile: replace mkdtemp with an RAII wrapper...
[14:11:26] <ghrust> 13rust/06auto 1493a08f4 15bors: auto merge of #9802 : ben0x539/rust/mkdtemp-raii, r=alexcrichton...
[14:11:26] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[14:12:59] <acrichto> I think I'm just confusing bors
[14:13:36] <acrichto> ok that look better
[14:31:34] *** Quits: stevekla1nik (steveklabn@701D470.129BE976.EE0D0080.IP) (Ping timeout)
[14:31:42] *** Quits: steveklabnik (steveklabn@701D470.129BE976.EE0D0080.IP) (Ping timeout)
[14:31:53] *** Quits: stevekla2nik (steveklabn@701D470.129BE976.EE0D0080.IP) (Ping timeout)
[14:34:33] <klutzy> acrichto: pong
[14:35:08] <acrichto> klutzy: so I'm trying to turn back on morestack
[14:35:29] <acrichto> and I noticed that you just posted on 3445 with a relevant comment plus you did some win64 stuff
[14:35:46] <acrichto> so first off it looks like win64 morestack is a no-op, is that intentional?
[14:37:52] <klutzy> acrichto: ah, no. I left it as my future-work but I didn't noted it properly :-/
[14:38:08] <acrichto> klutzy: oh ok just wanted to make sure there wasn't a reason
[14:38:20] <acrichto> also so what's the business with this stack limit stuff during context switching?
[14:38:31] <acrichto> does windows need this for only exception handling?
[14:38:46] <acrichto> or if we call any FFI we need this?
[14:39:07] <klutzy> some windows apis or c functions check stack limit
[14:39:15] <klutzy> but only on win64 as I observed
[14:39:59] <acrichto> but this is only during FFI, right?
[14:40:04] <klutzy> yep
[14:40:14] <acrichto> ok I may change the location of doing that then
[14:40:25] <acrichto> I'm slowly getting an understand of what all this is :P
[14:40:48] <klutzy> when I didn't set stack limit, everything was ok but it got segfault if I call some system functions
[14:41:03] <acrichto> interesting
[14:41:15] <acrichto> if I have a patch to turn on morestack, would you be able to test it on win64?
[14:41:34] <klutzy> maybe we're already doing wrong on win32, but it works so I didn't touched them :p
[14:42:13] <klutzy> acrichto: I'm now on linux, but I can multiboot to win7
[14:42:29] <acrichto> klutzy: oh cool, it'll be awhile before I get it anyway
[14:52:19] *** Joins: steveklabnik (steveklabn@701D470.129BE976.EE0D0080.IP)
[14:52:55] *** Joins: stevekla1nik (steveklabn@701D470.129BE976.EE0D0080.IP)
[14:52:57] *** Joins: stevekla2nik (steveklabn@701D470.129BE976.EE0D0080.IP)
[14:53:03] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[14:58:52] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[15:15:51] *** Joins: pnkfelix (pnkfelix@moz-1467CA5F.bstnma.fios.verizon.net)
[15:15:51] *** ChanServ sets mode: +o pnkfelix
[15:16:38] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[15:16:38] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/Ts2H7Q
[15:16:38] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[15:21:25] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[15:21:25] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/OpSuzQ
[15:21:25] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[15:21:27] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[15:21:27] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/bXDTFA
[15:21:27] <ghrust> 13rust/06auto 14c8dcb33 15Steve Klabnik: Remove unused abi attributes....
[15:21:27] <ghrust> 13rust/06auto 1442e39dc 15bors: auto merge of #9606 : steveklabnik/rust/abi_removal, r=huonw...
[15:21:28] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[15:21:41] *** Quits: stevekla2nik (steveklabn@701D470.129BE976.EE0D0080.IP) (Quit: bye)
[15:25:53] *** Quits: steveklabnik (steveklabn@701D470.129BE976.EE0D0080.IP) (Ping timeout)
[15:26:21] *** Quits: stevekla1nik (steveklabn@701D470.129BE976.EE0D0080.IP) (Ping timeout)
[15:32:23] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[15:33:33] <strcat> acrichto: https://github.com/mozilla/rust/pull/9794 r? I'll remove the std::rt::rc module in a follow-up PR
[15:34:03] <strcat> well I guess I could always do it now
[15:34:20] <strcat> it doesn't look like the low-level features on it are actually used 
[15:35:32] <acrichto> why not remove extra::rc now?
[15:37:18] <acrichto> strcat: also I forget again, but can't this destructor run twice, and isn't that a bad thing?
[15:37:37] <strcat> acrichto: it checks for null in the destructor
[15:37:38] <acrichto> oh wait it's zeroed out nvmd
[15:37:47] <acrichto> as in this doesn't explicitly zero it out
[15:37:49] <acrichto> but the compiler does
[15:37:54] <acrichto> I always forget that...
[15:37:58] <strcat> I could remove RcMut now
[15:38:13] <acrichto> there are no consumers, right?
[15:38:43] <strcat> acrichto: yeah nothing uses it
[15:39:06] <acrichto> I think it's ok to remove for now, especially with Mut<T> nearly on the horizon
[15:41:16] <strcat> acrichto: I'm not entirely sure if it will work though
[15:41:53] <strcat> although maybe we can tackle the Rc<Mut<Trait>> issue when it comes up
[15:42:51] <acrichto> you could also move RcMut into std for now
[15:42:59] <acrichto> instead of removing it entirely
[15:44:16] <acrichto> what in the world strcat I can't compile the vector benchmark
[15:44:26] <acrichto> unresolved name `std::vec::with_capacity`
[15:44:32] <strcat> acrichto: it needs 'use std;'
[15:44:34] <strcat> in the test module
[15:44:36] <strcat> don't ask me why
[15:45:08] <acrichto> weird I thought I had that and it was complaining about resolving 'use std'
[15:45:16] <acrichto> w/e
[15:45:25] <strcat> I forget if something else needed to be changed
[15:45:29] <strcat> I should copy-paste the fixed one
[15:45:39] <strcat> ah right, * globs
[15:45:56] <acrichto> it's just super::Vec anyway
[15:47:01] <strcat> hm
[15:47:24] <strcat> acrichto: I guess I could move RcMut too
[15:47:32] <strcat> but we might not want it
[15:47:46] <strcat> and we might want to use RAII instead of closures
[15:48:42] <acrichto> hm, alright let's stick to Rc for nw
[15:48:47] <acrichto> but drop extra::rc entirely
[15:48:53] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[15:49:00] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[15:49:02] <acrichto> also could you make sure that there's a test in compile-fail ensuring that rc isn't send?
[15:49:27] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[15:49:42] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Connection reset by peer)
[15:49:51] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[15:50:40] <dbaupp> https://github.com/mozilla/rust/pull/9810 comments?
[15:51:23] * dbaupp -> sleep
[15:51:57] *** Quits: pnkfelix (pnkfelix@moz-1467CA5F.bstnma.fios.verizon.net) (Quit: Leaving.)
[15:53:50] <strcat> acrichto: well I have tests for #[no_send]
[15:54:36] <acrichto> strcat: oh they might need to get updated for extra => std
[15:54:48] <strcat> acrichto: they define their own type
[15:54:53] <strcat> I could add one specifically for Rc
[15:55:07] <acrichto> yeah that's what I meant
[15:55:15] <acrichto> just in case someone accidentally removes no_send
[15:55:21] <acrichto> from Rc that is
[15:56:06] <strcat> yeah, sec
[15:56:11] <strcat> the tests are also named wrong now
[15:56:21] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[15:56:21] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1442e39dc to 1493a08f4: 02http://git.io/N3iJvQ
[15:56:21] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[15:56:21] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[15:56:22] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/eHUeag
[15:56:22] <ghrust> 13rust/06auto 148b4423b 15Alex Crichton: De-pub some private runtime components...
[15:56:22] <ghrust> 13rust/06auto 14ed37b00 15bors: auto merge of #9803 : alexcrichton/rust/less-pub2, r=brson...
[15:56:22] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[15:57:29] <strcat> will 'use std::rc::Rc' work on check-fast
[15:57:31] <strcat> :S
[15:57:45] <acrichto> yes
[15:57:55] <acrichto> use statements are crate-local
[15:58:01] <acrichto> path expressions are module-local
[15:58:34] <strcat> I don't really understand why you need 'use std;' in sub-modules
[15:58:55] <strcat> it doesn't seem like you used to need it
[16:01:01] *** Joins: doomlord_ (servitor@moz-728E30A7.range109-151.btcentralplus.com)
[16:12:37] *** Joins: pnkfelix (pnkfelix@moz-62BA0D57.public.wayport.net)
[16:12:37] *** ChanServ sets mode: +o pnkfelix
[16:13:31] *** Joins: pnkfelix1 (pnkfelix@moz-62BA0D57.public.wayport.net)
[16:13:39] *** Quits: pnkfelix (pnkfelix@moz-62BA0D57.public.wayport.net) (Connection reset by peer)
[16:15:03] *** pnkfelix1 is now known as pnkfelix
[16:20:26] *** Quits: pnkfelix (pnkfelix@moz-62BA0D57.public.wayport.net) (services.mozilla.org (Too many invalid passwords))
[16:20:32] *** Joins: pnkfelix (pnkfelix@moz-62BA0D57.public.wayport.net)
[16:20:32] *** ChanServ sets mode: +o pnkfelix
[16:21:41] <acrichto> silly llvm removing my infinite recursion
[16:24:14] *** Joins: adridu59 (Mibbit@moz-6C393FDD.rev.numericable.fr)
[16:24:30] <acrichto> what in the world I can't get llvm to not optimize this away
[16:24:30] *** Parts: adridu59 (Mibbit@moz-6C393FDD.rev.numericable.fr) ()
[16:24:42] <strcat> acrichto: there's an old llvm bug
[16:24:55] <strcat> it removes calls to functions it marks as readnone/readonly/nounwind
[16:25:34] <strcat> they need to implement a halting attribute to fix the optimization semantics, but haven't done it yet
[16:26:19] <acrichto> hm maybe if I throw in something with a destructor
[16:26:24] <klutzy> ah, it's not a feature? I've heard c++ permits to remove infinite recursion, so I thought they do that
[16:27:09] *** Quits: nrc (nrc@88F51059.F3BBB17D.144F44FA.IP) (Ping timeout)
[16:27:10] <acrichto> there we go
[16:27:17] <acrichto> destructors make everything way more complicated
[16:27:27] <strcat> klutzy: it's not a feature
[16:27:42] <strcat> C++11 permits removing infinite loops, other languages (C, C++03) do not
[16:28:20] <cmr> Is there anything anyone wants me to do today?
[16:28:27] <cmr> (Like, priority)
[16:46:19] <bstrie> cmr: I could really use a back massage
[16:46:32] <bstrie> I mean, if you're not too busy...
[16:58:06] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[17:01:29] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[17:01:29] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/eHUeag
[17:01:29] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[17:04:43] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[17:04:43] *** ChanServ sets mode: +qo brson brson
[17:06:31] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[17:06:31] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/OX9X0g
[17:06:31] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[17:06:31] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[17:06:32] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/41cGyg
[17:06:32] <ghrust> 13rust/06auto 14c77f39c 15Florian Hahn: Remove support for older CrateMap versions
[17:06:32] <ghrust> 13rust/06auto 14e0357aa 15bors: auto merge of #9809 : fhahn/rust/remove-old-cratemap-code, r=alexcrichton...
[17:06:32] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[17:15:57] *** Joins: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[17:20:57] <strcat> acrichto: https://github.com/mozilla/rust/pull/9794 r? 
[17:27:17] <strcat> ugh
[17:27:20] <strcat> that thing already had a test
[17:27:22] <strcat> and I broke it
[17:29:30] <bstrie> brson: curious what the rationale is for the new approach to milestones and 1.0. not that I'm complaining, just wanted to know what the thought process was like or if there was some external pressure
[17:30:56] <bstrie> for example, whether mozilla's projected timeline for servo necessitates the language stabilizing
[17:30:59] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[17:36:36] *** Quits: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net) (Quit: jeffb)
[17:37:57] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[17:38:04] <brson> bstrie: servo doesn't require the language to be stable. public perception does
[17:39:25] <brson> we've been in development a long time. need to send a signal that people should actually use the language
[17:41:23] <bstrie> brson: ok :) my wishlist, as ever, is 1) DST, 2) fn reform, and 3) GC-in-a-lib. that's what I've been waiting for to tell people to start using rust
[17:41:37] <brson> bstrie: that's all in scope
[17:41:41] <pnkfelix> I think we need to come up with a different term for "GC-in-a-lib"
[17:43:03] <strcat> lets just hide managed pointers behind a feature flag
[17:43:11] <strcat> until there's a gc implemented, there's not really a use case for them
[17:43:13] <pnkfelix> (at least, to me, it is ambiguous as to whether it is about surface syntax (where it looks like any other parameteric type, but is tightly coupled with rustc), or is about a re-pluggable library where one can swap in another implementation)
[17:43:23] <strcat> pnkfelix: well it would have to use lang items
[17:43:27] <strcat> it needs compiler support
[17:43:42] <strcat> but so does Rc - it uses no_send/no_freeze, and I essentially made those for it
[17:43:44] <pnkfelix> strcat: yes I agree with this.  But I'm not sure everyone else understands that
[17:44:00] <pnkfelix> strcat: (and the scope of coupling remains a question.)
[17:44:28] <pnkfelix> strcat: e.g. some comments on the BitC mailing list made me wonder if we are giving the wrong impression
[17:44:51] <strcat> until we actually land a garbage collector, it doesn't need to exist outside of the legacy rustc/servo codebases
[17:45:13] <strcat> I'm not really sure "freeing cycles when a task ends" deserves a type
[17:45:33] <pnkfelix> strcat: (also, support for cyclic data structures, *without* using native ptrs, seems like something that should not be hidden behind a feature flagâ€¦  Am I right that Rc<T> does not allow cycles?)
[17:46:06] <strcat> pnkfelix: well Rc is immutable, so you can't make a cycle
[17:46:11] <strcat> and RcMut uses bounds to prevent them
[17:46:19] <strcat> they do expose new_unchecked
[17:46:39] <strcat> we'd really need a StrongRc/WeakRc pair if we wanted to go that route
[17:47:10] <bstrie> pnkfelix: my support of GC-in-a-lib is purely aesthetic. I've come around to pcwalton's argument that resorting to GC is too easy, and also that spurning GC syntactically is good for marketing
[17:47:20] <pnkfelix> strcat: What is "WeakRc" meant to denote?  Seems easily confused with "Weak References" ...
[17:47:25] <strcat> @ is really, really awful atm - it leaks cycles despite allowing them, and since it copies implicitly you end up with sooo many refcounts (and it doesn't free nearly as early as you'd want)
[17:47:37] <strcat> pnkfelix: it would mean 'weak reference' in the C++ sense of the term
[17:47:45] <strcat> so, Rc is just
[17:47:47] <strcat> { count, object }
[17:48:00] <strcat> StrongRc would be
[17:48:07] <strcat> { count, next*, object }
[17:48:18] <strcat> where next* is a linked list of WeakRc
[17:48:34] <strcat> and a WeakRc is basically { ptr_to_strong*, next*, is_dead }
[17:48:53] <pnkfelix> strcat: do you have a ptr for C++ def of "weak reference" ?  Wikipedia and Google were not helpful here
[17:48:54] <strcat> so a WeakRc won't hold onto the object
[17:49:06] <strcat> pnkfelix: http://en.cppreference.com/w/cpp/memory/weak_ptr it's part of shared_ptr
[17:49:34] <pnkfelix> strcat: thx
[17:49:37] <strcat> for example, in a doubly-linked list
[17:49:42] <strcat> the forward pointer could be StrongRc
[17:49:50] <strcat> and the backwards one would be WeakRc
[17:49:55] <strcat> it wouldn't leak, and it would be memory safe
[17:50:20] <strcat> rather than the alternative, which is ~ one way and a raw ptr the other way
[17:50:57] <pnkfelix> (given that we would like to add a Gc eventually, I still think it would be a mistake to adopt this terminology.  Though perhaps an argument could be made that C++'s use of the term is somewhat related to its defn in the GC community...)
[17:52:06] <pnkfelix> ((the more I read, the more I wonder whether its in fact very much the same as the GC community's meaning â€¦ not sure, it may not convey the same amount of lack-of-predictability that it should.))
[17:55:05] <pnkfelix> bstrie: if its just surface syntax, that's fine with me
[17:56:25] <bstrie> I've seen too many people in the wild say "oh rust has GC in the language, it can't replace C++"
[17:56:53] <bstrie> or "oh rust has four types of pointers that's too many"
[17:57:01] <strcat> no one who knows C++ is saying that
[17:57:14] <bstrie> doesn't matter, people who know C++ hear these things secondhand
[17:57:41] <bstrie> they've already been burned once by D, which doesn't *technically* require GC but sorta does
[17:57:42] <pnkfelix> bstrie: there are nonetheless some ugly details here.  nmatsakis was brainstorming in front of brson and me and a bunch of new problems pop up.  Nothing unresolvable, just not immediately expected.
[17:58:34] <bstrie> hey I'm just the salesperson in this enterprise, it's up to you ENGINEERS to sort out the details!
[17:58:58] <bstrie> I've already sold the system as having no GC and having no more than three types of pointers, I don't care how you make it happen!! :)
[17:59:41] <strcat> I'm just going to open a PR putting managed pointers/vectors behind a feature flag and we can stop worrying about it
[17:59:50] *** Joins: geoffhill (geoffhill@moz-244CF33A.amazon.com)
[17:59:53] <strcat> you don't need them to write rust, since they don't currently offer any useful property ;p
[17:59:56] <pnkfelix> strcat: I thought you already did that
[18:00:00] <strcat> pnkfelix: nope
[18:00:06] <pnkfelix> strcat: (maybe it was just a side-comment somewhere)
[18:00:09] <strcat> yeah
[18:00:26] <strcat> a gc doesn't have to be a 1.0 feature
[18:00:35] <bstrie> strcat: sounds awesome. while you're at it, also remove all references to them from the documentation
[18:01:04] <bstrie> I don't necessarily agree about the not-a-1.0 feature, but they're definitely not surviving to 1.0 in their current form
[18:01:16] <strcat> well I have a PR open moving Rc to libstd because we need a replacement available first
[18:01:24] <pnkfelix> strcat: I disagree (i.e. I think we do need *some* GC for 1.0), but we'll see what happens.  At this point I've been tasked with trying to either revive Graydon's GC work or put in a new one.
[18:02:24] <strcat> pnkfelix: I think actually wanting cyclical data structures is an extremely niche thing
[18:02:45] <strcat> because graphs are usually stored as maps (in a hash table, tree or matrix)
[18:04:04] <strcat> and something like a tree with parent pointers isn't actually cyclic
[18:04:17] <strcat> ownership is still all top-down
[18:05:06] <strcat> rust's move-by-default feature makes reference counting incredibly lightweight
[18:05:09] <cmr> bstrie: :p
[18:05:37] *** Joins: tikue3 (tikue_star@91CF8C6.21C37D63.689607DE.IP)
[18:06:21] <kimundi> strcat: Hm, interesting. I didn't know that a WeakRc implementation involves a linked list, I though it would work with two reference counters.
[18:06:37] <strcat> kimundi: you need a way to walk them and mark them as dead
[18:07:07] <strcat> Rc::new((5, 2, 3)) has no overhead over ~(5, 2, 3), for example
[18:07:14] <strcat> they are a pointer to a 32-byte allocation with move semantics
[18:07:33] <strcat> Rc just gives you the choice to refcount instead of allocating a new one
[18:07:58] <strcat> (ofc it *sometimes* puts you in the next size bucket :P)
[18:07:58] <kimundi> couldn't that just happens with constructors in WeakRc?
[18:08:49] <strcat> kimundi: when the last StrongRc goes out of scope, the object is freed and it needs to mark the WeakRc as dead
[18:09:07] <kimundi> I mean, I have no idea of the implementation, but I remember reading somewhere that you can implement it with two reference counters, one for the strongrcs, and one for the weakrcs
[18:09:25] <strcat> well it's a different trade off
[18:09:29] <strcat> you *can* do that too
[18:09:41] <strcat> you could do
[18:09:42] <kimundi> strcat: I guess the difference would be that you can only free the actual box after the last WeakRc goes out of scope
[18:09:48] <strcat> { is_dead, count, object }
[18:09:51] <benh> no overhead meaning no overhead besides the always-0 refcount?
[18:10:04] <strcat> benh: it's not overhead because the allocator pads up to 32 bytes anyway
[18:10:13] <strcat> and the object comes first, so both point directly at an object
[18:10:54] <strcat> the allocation sizes are 16, 32, 64, 128, 256, 512, 4KiB, 8KiB, 12KiB, ...
[18:11:23] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[18:11:23] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14e0357aa to 14ed37b00: 02http://git.io/N3iJvQ
[18:11:23] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[18:11:23] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[18:11:23] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/7Sw2Rg
[18:11:23] <ghrust> 13rust/06auto 14e192b6d 15Daniel Micay: correct names for `#[no_send]`/`#[no_freeze]` tests
[18:11:23] <ghrust> 13rust/06auto 1418be986 15Daniel Micay: clean up the `Rc`/`RcMut` types and move to libstd
[18:11:24] <ghrust> 13rust/06auto 14c147ec6 15bors: auto merge of #9794 : thestinger/rust/rc, r=alexcrichton...
[18:11:26] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[18:11:27] <strcat> so if the count pushes you from 16 bytes to 24 bytes, yeah, it doubles the allocation size
[18:11:37] <kimundi> So, using a linked list would mean O(n) time of marking all weak references as dead, with the advantage of being able to deallocate the memory directly. Seems like the better tradeof.
[18:12:20] <strcat> kimundi: although you don't get to deallocate the weak ptr allocations
[18:12:38] *** Joins: tjc_ (tjc@moz-BBE3ABD.mv.mozilla.com)
[18:12:41] <pnkfelix>  kimundi: wait, for the variant that uses two counters (and no linked-list), that doesn't handle cycles anymore, right?
[18:13:06] * pnkfelix feels like he's missing something there
[18:13:10] <kimundi> strcat: What weak pointer allocation?
[18:13:31] <strcat> pnkfelix: well, the way it handles cycles is that weak pointers don't hold onto the allocation
[18:13:41] <strcat> but they are informed if they are 'dead', because the allocation was freed
[18:14:05] <pnkfelix> strcat: oh, is there a level of indirection, so that the weak refs do not point directly to the allocated data?
[18:14:08] <kimundi> pnkfelix: As I said, no idea if it works liek that at all, but I'd imagine that the box contains two counters, and if the strong counter reaches zero the weak pointer don'T allow you access anymore, and if the weak rc reaches zero and the strong rc is zero it could dealocate the box
[18:14:28] <strcat> pnkfelix: multiple ways of solving it, but yeah, one is that the weak pointers are a double-pointer
[18:14:32] <strcat> and they form an intrusive linked list
[18:14:40] <pnkfelix> okay
[18:15:00] <strcat> another is that your reference count box is { is_dead, count, object } and you destroy the object in-place when the last StrongRc is gone
[18:15:10] <strcat> but you *don't* free the allocation until the last WeakPtr is gone
[18:15:13] <strcat> well
[18:15:15] <strcat> you need 2 counts
[18:15:21] <strcat> { is_dead, count, weak_count, object }
[18:15:37] <strcat> anyway afaik the usual way is an intrusive linked list of weak ptrs
[18:15:48] <benh> is_dead == (count == 0)?
[18:16:01] <strcat> benh: right :), don't need that
[18:16:38] <strcat> pnkfelix: anyway the reason for doing it with a separate list might just have to do with std::shared_ptr being really weird
[18:16:45] <strcat> pnkfelix: it does atomic reference counting like our Arc types
[18:17:01] <benh> data-sharing concurrency sure is weird
[18:17:32] <strcat> I should just try writing it in rust and see if any problems come up
[18:18:00] <benh> if the bookkeeping info goes past the object in the allocation, that implies that all the bookkeeping fns in either pointer type won't get monomorphized as much because they'll do different offsetting for different-sized types, right?
[18:27:08] <strcat> benh: well, Rc places the object first so converting to & is a no-op
[18:27:32] <strcat> LLVM's mergefunc pass will be happily merging all of our duplicate instantiations at a bytecode level soon
[18:28:14] <strcat> the only perf issue is caused by rustc not being able to xcrate inline destructors
[18:29:17] *** brson changes topic to 'Rust compiler engineering | https://botbot.me/mozilla/rust-internals | http://buildbot.rust-lang.org/bors/bors.html | http://huonw.github.io/isrustfastyet'
[18:46:09] <kimundi> brson: ping
[18:48:11] <brson> kimundi: pong
[18:48:25] <kimundi> brson: Hi, do you have a few minutes?
[18:48:45] <kimundi> I have a few questions about the runtime/the unwinding system
[18:49:41] <brson> kimundi: yes
[18:52:08] <kimundi> So, I'm currently trying to make the failure cause of fail!() receivable by a parent task, so that fail!(~data as ~Any); could be recieved as a error by, eg, task::try
[18:52:40] <kimundi> And I'm wondering what the best approach for that would be
[18:53:18] <kimundi> At the moment I started by working backwards from sys::begin_unwind and task::try and trying to make them meet in the middle
[18:53:30] *** Quits: geoffhill (geoffhill@moz-244CF33A.amazon.com) (Ping timeout)
[18:54:15] <kimundi> But it gets hairy because apparently a task failure can be observed by many tasks, and with linked tasks many task can in turn cause one task to fail. (Did I get that right?)
[18:56:23] <brson> kimundi: yes, but any given task will only fail once and the failure can only be 'caught' once. if you wanted to keep a stack of failure reasons across linked failure then your ~Any would need to be clonable, and then yes, it is complicated. I'd start simpler than that though
[18:56:36] <brson> for one, the linked failure code is going to change again, so I wouldn't invest much in it
[18:56:53] <kimundi> Hm, I see
[18:57:19] <brson> kimundi: there are two main components here: modify rt::task::Unwinder to contain an Option<~Any> that represents the exception. Then modify future_result to take it and send it
[18:58:08] <kimundi> My current approach is to have the the FailCause in a Arc that get's allocated early with task creation, but only initialized with the actual fail cause if the task fails. This way multible tasks cuold recive a handle to the fail cause, without needing an allocation during unwinding for that
[18:58:51] <brson> what's a FailCause?
[18:58:53] <kimundi> And if only one task cares about the cause, it can .unwrap() that Arc
[18:59:11] <kimundi> basically just a enum between ~str, &'static str and ~Any
[18:59:26] <strcat> we really need to fix the code bloat caused by fail!()
[18:59:47] <strcat> it'd be nice if it was just a function call for a &'static str
[19:00:17] <brson> strcat: there are lots of cases where it's not a static string
[19:00:32] <strcat> yeah but fail!("foo") knows it's receiving a string literal
[19:00:45] <brson> kimundi: I'd suggest just using an ~Any, but then that does require an allocation in cases where the exception is a static string
[19:00:47] <strcat> it still becomes a pile of code
[19:01:04] <strcat> and we have lots of option methods with failure in them marked #[inline]
[19:01:29] <kimundi> brson: It's orthogonal for the implementation anyway. Whether it is a ~Any directly or a FailCause, both are Sendable types.
[19:01:33] <brson> kimundi: though exceptions are exceptional - i'm not sure how much perf matters here
[19:01:42] <brson> kimundi: ok. i also don't see why this needs an Arc
[19:01:45] <kimundi> RIght, my thinking too
[19:01:51] <strcat> I think it's okay for them to be really slow on the failure path
[19:01:53] <kimundi> brson: Well, I'm not sure if it needs
[19:02:00] <strcat> the non-failure path needs to be fast/lightweight
[19:02:35] <brson> kimundi: afaict there's always one owner. it just gets sent over a channel from the child to the parent
[19:02:38] <brson> via future_result
[19:02:47] <strcat> table-based unwinding is already really slow when you actually throw, it's highly optimistic in favour of the no-throw case
[19:02:54] <brson> is ~Any already in std?
[19:02:58] <strcat> no
[19:03:14] <kimundi> brson: Basically, I'm trying to implement this without understanding enough of the runtime to know what I'm doing. :) The Arc stuff started when I reached code paths that handle linked failure, and I needed to have a failure cause for those linked tasks
[19:03:39] <brson> i'd just leave them as 'task failed due to linked failure' for simplicity
[19:03:47] *** Joins: geoffhill (geoffhill@moz-244CF33A.amazon.com)
[19:04:10] <kimundi> Yeah, probably best as a first approach
[19:04:40] <kimundi> brson: Any is not in the stdlib, but I implemnted it last week for fun, and it seems to work
[19:04:57] <brson> strcat: I do want to completely change the failure interface - I'm not crazy about the FailWithCause trait. Would rather just have a function
[19:05:15] <kimundi> brson: https://gist.github.com/Kimundi/6802198
[19:06:14] <brson> kimundi: yeah, I saw. that's exciting
[19:06:37] <brson> although i think the way it uses tydesc equality is not correct
[19:07:04] <brson> i don't think there's any guarantee that type descriptors across crates are not duplicated
[19:07:04] <kimundi> We need a proper intrinsic for that, yeah
[19:07:57] <pnkfelix> brson: Since you and Kimundi are both here, How wedded are you to the `#! inner(attribute) ;` syntax?  I've been thinking #! is more pain than its worth; could just use `#^` or `#|`  maybe
[19:08:28] <kimundi> pnkfelix: I made a comment on the issue there. I think ## could also work
[19:08:53] <pnkfelix> brson: (for reference: https://github.com/mozilla/rust/issues/2569 )
[19:08:54] <kimundi> /#, /*# */, ## attr
[19:09:18] <pnkfelix> kimundi: yes I saw, I forgot to throw that in.  Though it is a bit heavier on the eyes than `#|`
[19:09:54] <strcat> pnkfelix: imo we should drop inner attributes completely except at crate/module level ;p
[19:10:04] <benh> I thought the analogy to shebangs was really cute :(
[19:10:07] <benh> ;)
[19:10:33] * strcat is strongly against multiple ways of doing the exact same thing without a *really* good reason
[19:10:45] <strcat> and I don't think we have one
[19:12:01] <strcat> some people like inner ones more, but they still have to use outer attributes on types/fields/variants
[19:12:03] *** Quits: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP) (Quit: Lost terminal)
[19:12:03] <brson> pnkfelix: i'm ok with ^. would also be tentatively ok with making ^ just mean 'crate attribute' though inner function documentation continues to be very appealing to me
[19:12:42] <brson> although ^ also needs to be used for file mods, so that would be a little inconsistent
[19:12:53] <brson> ^ means 'crate attribute' or 'module attribute if that module is a file'
[19:12:55] <brson> ?
[19:13:29] <brson> which does doxygen use? < i think?
[19:13:30] <kimundi> what about nested modules in a source file?
[19:13:47] <benh> I feel like #^ looks a lot like line noise :(
[19:14:03] <pnkfelix> benh: moreso than `#!` ?
[19:14:04] <kimundi> Also, making the attributes dependant on the source file seems contrary to the intention of the module system
[19:14:09] <brson> it is kind of ugly, and it's the first thing you'll see in every source file
[19:14:17] <brson> probably get used to it though
[19:14:25] <kimundi> Do you think ## would be ugly too?
[19:14:29] <benh> pnkfelix: yeah, everybody is familiar with #! in unix scripts already :)
[19:14:41] <strcat> kimundi: nested modules can use outer attributes
[19:14:43] <brson> kimundi: no, but then I *do* think /*# is ugly
[19:15:07] <kimundi> he, it'S a loosing battle either way
[19:15:27] * pnkfelix doesn't like abusing `#!` for this, but that's probably because he strongly wants a trailing `;` on inner attributes.
[19:15:41] <brson> pnkfelix: why are those two considerations related?
[19:15:54] <brson> oh, you would rather *just* use the trailing semi?
[19:16:01] <pnkfelix> brson: no, I want both 
[19:16:13] <pnkfelix> brson: portable shebangs can't have a trailing semi.  Not on the same line, at least
[19:16:23] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[19:16:23] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/7Sw2Rg
[19:16:24] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[19:16:33] <kimundi> The way the module system works right now, you could take all your source files, dump them into one crate.rs while changing mod foo; to mod foo{ content }, and it would still be identical
[19:16:39] <pnkfelix> brson:  and putting the semicolon on the succeeding line just to placate me seems excessively baroque
[19:17:20] <kimundi> If attributes become dependant on whether they are the top level item of a body or not, that would not work anymore
[19:17:28] <pnkfelix> kimundi: +1
[19:17:32] <kimundi> of a body in a file*
[19:18:33] <strcat> brson: is the reason we're holding off on once fns because we may end up using RAII heavily instead?
[19:18:34] <pnkfelix> brson: anyway, I did not mean for this to turn into a bikeshed here.  I mostly wanted to see if I should bother trying to update my branch with something other than `#!`
[19:19:22] <brson> pnkfelix: what's your opinion?
[19:19:25] <pnkfelix> brson: I'll try out `#^`, `#|`, and `##`, and present results at Tuesdays mtg.
[19:19:32] <brson> ok
[19:19:44] <bstrie> my opinion is that trailing semis on attributes are satan, who is the devil :)
[19:20:02] <bstrie> but as long as the situation improves *somehow* I may be placated
[19:20:05] *** Quits: tikue3 (tikue_star@91CF8C6.21C37D63.689607DE.IP) (Ping timeout)
[19:20:08] <pnkfelix> brson: I was really liking `#!` with lookahead for a leading / or \ to determine whether it was shebang or an inner attribute
[19:20:12] <brson> bstrie: it should be better at least with the leading syntax differentiation
[19:20:16] <bstrie> indeed
[19:20:30] <kimundi> Imo it makes sens if every item ends with either a ; or a }.
[19:20:31] <bstrie> also, braceless would put me on cloud 9
[19:20:32] <pnkfelix> brson: but kimundi pointed out that on Windows  one often sees e.g. #! C:\foo\â€¦  
[19:20:42] <kimundi> well, I wouldn't say 'often'
[19:21:00] <bstrie> ...I didn't even know you could do shebangs on windows
[19:21:01] <pnkfelix> kimundi: brson: whoops, sorry, scratch "often"
[19:21:04] <brson> pnkfelix: oh. sadtimes
[19:21:06] <kimundi> All I know is that the German wikipedia has an example for Apache interpreting them in cgi scripts under windows
[19:21:20] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[19:21:20] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/0h-WsA
[19:21:20] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[19:21:22] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[19:21:22] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/ubM2ug
[19:21:22] <ghrust> 13rust/06auto 14f3b1f79 15Florian Hahn: Remove support for older CrateMap versions
[19:21:22] <ghrust> 13rust/06auto 1480878ff 15bors: auto merge of #9809 : fhahn/rust/remove-old-cratemap-code, r=alexcrichton...
[19:21:22] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[19:21:36] <pnkfelix> brson: on the plus side, the whole experiment led me to to learn a bit more about our pretty printer.  :)
[19:21:38] <benh> pnkfelix: lookahead for a letter, : is just a tag less nice than lookahead for a /
[19:21:54] <benh> Unless Windows can have multi-letter drive letters now?
[19:22:04] <pnkfelix> benh: its bizarre enough to make me want to throw away `#!` entirelyt
[19:22:24] <kimundi> BUt I think the issue is simply that a shebang is only defined by two things: File starts with "#!", adn the shebang ends with the first line break. Any assumption beyond that might fail in some obscure situation
[19:22:25] <benh> btw, how do we lex filesystem paths in shebangs that aren't balanced token trees?
[19:22:30] <brson> strcat: no. the plan is currently to make all heap closures once fns
[19:22:40] <benh> Does the lexer just go, ew, a #!, and fast-forward to newline?
[19:22:48] <strcat> brson: but we won't have stack closure once fns?
[19:22:59] <strcat> s/stack/borrowed/
[19:23:06] <pnkfelix> benh: you mean currently?
[19:23:17] <brson> strcat: that's correct
[19:23:18] <bstrie> benh: I think currently only on the very first line...
[19:23:19] <pnkfelix> benh: or do you mean in the hacked up branch?
[19:23:26] <benh> pnkfelix: either, really :)
[19:23:43] <pnkfelix> benh: yeah, bstrie is right, its a special case for the first line
[19:23:49] <benh> ok, that makes sense
[19:23:55] <kimundi> brson: I'm pretty sure that if we see #!C:\... as valid, #!\\unc-path\foo\... and #!absolute_paths\who_needs_that should be valid too
[19:24:07] <pnkfelix> benh: At least, that's the way that the lexer/parser treats it.  The pretty-printer was not so smart (but it did not have to be)
[19:25:24] <acrichto> "task '<unnamed>' failed at 'Stack overflow', :0"
[19:25:31] <acrichto> unwinding on a stack overflow
[19:26:01] <benh> nice!
[19:27:02] <kimundi> The only way to make sure that no collisions on either Rust or OS side happen is to use a different token than #!, or to dissallow #! attributes on the first line. 
[19:27:57] <bstrie> once strcat disables managed pointers, we can change all attrs to use @ instead of # :)
[19:28:10] <strcat> they will just be used everywhere
[19:29:03] <benh> hm
[19:29:32] <benh> @[] for inner attrs and [] for attrs before items in non-expression context might look nice ;)
[19:29:36] <strcat> I think I'll try implementing a Pointer trait for Rc soon, though
[19:29:43] <strcat> and then killing off most @ would be pretty easy ;p
[19:47:08] *** Quits: geoffhill (geoffhill@moz-244CF33A.amazon.com) (Quit: geoffhill)
[19:51:29] *** Joins: geoffhill (geoffhill@moz-244CF33A.amazon.com)
[20:19:55] *** Quits: tjc_ (tjc@moz-BBE3ABD.mv.mozilla.com) (Quit: zzzzzzzzzz)
[20:26:29] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[20:26:29] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/ubM2ug
[20:26:29] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[20:31:21] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[20:31:21] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/0h7hrQ
[20:31:21] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[20:31:23] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[20:31:23] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/tNiE0g
[20:31:23] <ghrust> 13rust/06auto 1461ce87a 15Tim Chevalier: rustpkg: Search for crates in the current directory...
[20:31:23] <ghrust> 13rust/06auto 1411cb25e 15bors: auto merge of #9736 : catamorphism/rust/rustpkg-issue-8520, r=cmr...
[20:31:23] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[20:32:23] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[20:51:23] *** Quits: pnkfelix (pnkfelix@moz-62BA0D57.public.wayport.net) (Quit: Leaving.)
[21:06:59] *** Joins: tjc_ (tjc@moz-7B0110AD.mv.mozilla.com)
[21:12:05] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[21:12:52] *** Quits: tjc_ (tjc@moz-7B0110AD.mv.mozilla.com) (Ping timeout)
[21:13:07] *** Joins: tjc_ (tjc@moz-BBE3ABD.mv.mozilla.com)
[21:19:24] *** Joins: pnkfelix (pnkfelix@moz-1467CA5F.bstnma.fios.verizon.net)
[21:19:24] *** ChanServ sets mode: +o pnkfelix
[21:34:15] <cmr> strcat: are you working on compiler-rt integration / are there any issues with integrating it?
[21:34:54] <strcat> cmr: I think it would be pretty trivial to do, but it involves building it with LLVM and teaching rustc to statically link it like it does with morestack.a
[21:35:18] <cmr> Alright
[21:35:21] <strcat> link it*
[21:35:24] <cmr> That's what I thought to
[21:35:27] <cmr> o
[21:35:28] <acrichto> do we always want i tstatically linked?
[21:35:36] <acrichto> we only want it statically linked with librustrt, right?
[21:35:43] <strcat> acrichto: no, with all rust binaries
[21:36:02] <acrichto> really? even for things like kernel modules?
[21:36:07] <strcat> yes
[21:36:17] <acrichto> does it just provide the functions for the lowered intrinsics?
[21:36:18] <strcat> compiler-rt is code LLVM generates calls to
[21:36:26] <strcat> acrichto: yeah
[21:36:30] <acrichto> so it's not like C++ exceptions and whatnot
[21:36:36] <strcat> nope, not that stuff
[21:36:48] <acrichto> oh cool, then I like the sound of that
[21:37:01] <strcat> it has stuff like int operators (mostly 64-bit) on certain archs, etc.
[21:37:09] <strcat> operations*
[21:37:10] <acrichto> cmr: if we can get libcompiler-rt.a inside of each of the output directories, then we just need to add the linker arg for that in back/link.rs
[21:37:17] <acrichto> strcat: ah I see
[21:38:22] <strcat> acrichto: libgcc supports most of the stuff it provides, so that's where we get it atm
[21:38:39] <strcat> compiler-rt is faster, and libgcc is missing some obscure stuff we need like 64-bit checked multiplication on 32-bit
[21:38:43] <acrichto> oh we'll probably need a switch saying "dear gcc, please don't link this"
[21:39:19] <strcat> acrichto: we'll still need libgcc for exception support anyway, at least on linux
[21:39:38] <acrichto> oh hm, nvmd then
[21:39:43] *** Quits: pnkfelix (pnkfelix@moz-1467CA5F.bstnma.fios.verizon.net) (Ping timeout)
[21:39:58] *** Joins: pnkfelix (pnkfelix@moz-1467CA5F.bstnma.fios.verizon.net)
[21:39:58] *** ChanServ sets mode: +o pnkfelix
[21:40:38] <strcat> acrichto: the LLVM project might develop the ambition to replace the "platform ABI" library, but they are not quite there yet on anything but OS X
[21:41:03] <strcat> just 90% of the way there
[21:41:39] <acrichto> I wonder why they're "all the way there" on osx
[21:42:38] <cmr> because it's Apple's project and LLVM is their only toolchain? :P
[21:42:41] <strcat> acrichto: because Apple wants to be able to sue their users with patents their software depends on and the GPLv3 says they can't ;p
[21:43:39] <acrichto> :(
[21:43:51] <strcat> http://www.gnu.org/licenses/rms-why-gplv3.html to them this is why-not-gplv3
[21:44:00] <tjc_> ha
[21:44:35] <strcat> "One major danger that GPLv3 will block is tivoization. Tivoization means certain â€œappliancesâ€ (which have computers inside) contain GPL-covered software that you can't effectively change, because the appliance shuts down if it detects modified software."
[21:44:37] <strcat> the other thing
[21:44:51] <tjc_> gosh, why would Apple want to do a thing like that
[21:44:56] <tjc_> I can't imagine how it could be relevant to them :-)
[21:45:47] *** Quits: pnkfelix (pnkfelix@moz-1467CA5F.bstnma.fios.verizon.net) (Quit: Leaving.)
[21:46:17] <strcat> acrichto: lots of people portray the GPL as being about making people "contribute back", but it's not really
[21:46:32] <strcat> you're free to use GPLv3 software in your company and never contribute back
[21:46:47] <acrichto> yeah I never really remember what licenses do what
[21:46:47] <benh> AGPL!
[21:47:31] <kmc> strcat: yep, in fact you can argue this way that GPL helps big companies at the expense of little ones
[21:47:47] <kmc> Google can afford to maintain a bunch of internal forks of GPL software for running their services
[21:47:55] <strcat> the GPL is intended to prevent locking down software you distribute to users
[21:48:30] <strcat> so the GPLv3 changes are very much in the spirit of it and very much the opposite of the core parts of Apple's products ;p
[21:49:03] <strcat> benh: AGPL is still about users
[21:49:09] <strcat> only applies to a user-facing service :)
[21:49:23] <strcat> and you could probably stretch that a lot...
[21:49:27] <benh> yeah, but that's something
[21:49:51] <strcat> yeah but my point is just that it was never really intended to be about making them contribute back
[21:50:43] <benh> I suppose AGPL makes it slightly less trivial to just wrap GPL software you found somewhere behind some web-based RPC
[21:50:44] <strcat> and I don't really think it does, you still have to go out of your way to push stuff back upstream
[21:51:29] <benh> just seems to patch a gap between the GPL's idea of users of software and the web, I dunno
[22:11:18] *** Quits: andrew-d (andrew-d@6C6C9B53.23518FA3.CE794808.IP) (Input/output error)
[22:15:09] *** Joins: tikue3 (tikue_star@75BD426D.28336FB0.689607DE.IP)
[22:20:46] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[22:35:02] *** Quits: tjc_ (tjc@moz-BBE3ABD.mv.mozilla.com) (Quit: Places to go, people to annoy)
[22:46:15] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[22:53:25] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[22:53:29] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[22:53:29] *** ChanServ sets mode: +qo brson brson
[23:12:13] *** Quits: lbergstrom (Adium@moz-5D8E4B14.lightspeed.cicril.sbcglobal.net) (Quit: Leaving.)
[23:13:24] *** Joins: lbergstrom (Adium@moz-5D8E4B14.lightspeed.cicril.sbcglobal.net)
[23:16:03] *** Joins: tjc_ (tjc@moz-7B0110AD.mv.mozilla.com)
[23:42:52] *** Joins: Kxepal (Miranda@moz-E10CC2AA.pppoe.mtu-net.ru)
[23:58:47] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[23:58:47] <ghrust> 01[13rust01] 15catamorphism pushed 2 new commits to 06try: 02http://git.io/Bbao3A
[23:58:47] <ghrust> 13rust/06try 1428e19a8 15Tim Chevalier: rustpkg: Make rustpkg tests stop comparing dates...
[23:58:47] <ghrust> 13rust/06try 14ae10077 15Tim Chevalier: rustc: Check that the output file is writeable before linking...
[23:58:47] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[23:59:18] *** Joins: nrc (nrc@moz-3576D163.cable.virginmedia.com)
