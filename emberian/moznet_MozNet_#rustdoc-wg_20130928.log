[00:02:39] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[00:02:55] *** Quits: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[01:02:49] *** Joins: vk (chatzilla@F92596F.2DEF7520.EF7679FA.IP)
[01:03:25] *** Parts: vk (chatzilla@F92596F.2DEF7520.EF7679FA.IP) ()
[01:25:57] <acrichto> cmr: r? the last commit of https://github.com/mozilla/rust/pull/9577
[01:27:10] <cmr> woot, typarams!
[01:27:30] <acrichto> option A http://www.contrib.andrew.cmu.edu/~acrichto/doc/extra/treemap/struct.TreeSetIterator.html
[01:27:34] <acrichto> option B http://static.rust-lang.org/doc/master/extra/treemap/struct.TreeSetIterator.html
[02:50:20] *** Joins: SiegeLord (sl@moz-3D449DF.bstnma.fios.verizon.net)
[02:50:44] <SiegeLord> Can rustdoc be switched from generating the cross-crate documentation to intra-crate documentation?
[02:51:03] <SiegeLord> With the former not following through paths that are unreachable from a cross-crate situation?
[02:51:24] <SiegeLord> And omitting private fields
[02:52:29] <cmr> SiegeLord: as in, not looking for dependencies?
[02:53:53] <acrichto> currently private fields aren't omitted, although I suppose that could become an option
[02:54:16] <SiegeLord> Like... not documenting this function mod foo { pub bar(); }
[02:54:25] <SiegeLord> It cannot be used cross-crate
[02:54:52] <SiegeLord> It's part of the crate's internal implementation and does not need public documentation
[02:54:58] <cmr> mod foo wouldn't show up on any indexes
[02:55:02] <cmr> or the search
[02:55:17] <acrichto> SiegeLord: that's actually intended, I just haven't fixd privacy yet
[02:55:22] <SiegeLord> Is that a description of the way things should be, or the way they are now?
[02:55:34] <acrichto> it's what they should be
[02:56:02] <SiegeLord> Well thing is... it is useful for it to be documented... for the purposes of developing the crate itself
[02:56:11] <SiegeLord> Hence the two modes
[02:56:25] <cmr> I would also like a togggle.
[02:56:37] <cmr> I think the web frontend should have a panel that you open to set some settings
[02:56:46] <cmr> "Hide private fields", "Show private items", "Show hidden items"
[02:56:49] <cmr> All in the js
[02:57:14] <SiegeLord> That's... not too appropriate for a closed source lib :P
[02:57:33] <cmr> closed source libs can add passes to disable that output in the json
[02:58:35] <SiegeLord> That seems like a functionality that would naturally reside in rustdoc
[02:59:52] <dbaupp> (do we have to have such a reliance on JS? it seems like reducing that would make it easier to generate e.g. a hyperlinked pdf)
[03:00:26] <cmr> dbaupp: the less that is static, the less you need to rerun rustdoc on a crate to get the documentation you want.
[03:00:34] <cmr> A hyperlinked pdf would need to be static.
[03:00:56] <cmr> But while we're having a web frontend, why not take advantage of its dynamic nature?
[03:01:21] <cmr> And running rustdoc can be a problem, since you need all of a crates deps.
[03:01:54] <SiegeLord> Anyway, another question... is there a way to hyperlink to items/methods/etc?
[03:02:07] <acrichto> across crates?
[03:02:21] <SiegeLord> Within a crate
[03:02:30] <cmr> It already happens within a crate?
[03:02:40] <dbaupp> cmr: yes, there are several things that are being done in JS but should be static (e.g. some links are rewritten to be valid dynamically)
[03:02:42] <SiegeLord> Like I'm documenting a method foo and I want to say "This method resembles method bar"
[03:02:42] <cmr> Do you have an example in the libstd docs where it isn't?
[03:02:44] <acrichto> it won't happen for private things
[03:02:54] <cmr> Oh, in the doc comment?
[03:02:55] <SiegeLord> And I want that "bar" to link to the method
[03:03:06] <acrichto> dbaupp: wait really, like which links?
[03:04:15] <dbaupp> acrichto: aren't the struct field ones being done dynamically?
[03:04:24] <dbaupp> (the ones that were broken?)
[03:04:27] <acrichto> dbaupp: I fixed those
[03:04:30] <acrichto> they weren't JS though
[03:04:34] <acrichto> it was a static html redirect
[03:04:44] <acrichto> but now the search pages just generate the correct links (as they should)
[03:04:51] <dbaupp> oh, it was via search?
[03:04:57] <acrichto> yeah
[03:05:05] <dbaupp> my apologies, I thought it was rewriting the links in the pages.
[03:05:18] <acrichto> yeah search is scary
[03:05:22] <acrichto> it's so nice though
[03:05:23] <acrichto> I love it
[03:14:28] <SiegeLord> Hmm... the href to the css is kind of odd
[03:14:36] <SiegeLord> ../crate_name/main.css
[03:14:39] <SiegeLord> Why not just main.css
[03:16:12] <SiegeLord> Damn, it really doesn't like being moved out of the crate_name directory...
[03:16:18] <SiegeLord> That's really unfortunate
[03:17:56] <SiegeLord> So... where do you guys except your bugs to be submitted? :P
[03:18:26] <cmr> rust repo
[03:18:43] <cmr> cc me, seldaek, and acrichto, usually :p
[03:20:57] <SiegeLord> gh-pages expects an index.html in the root directory, so now I have to create a dummy one with a link to the one generated by rustdoc
[03:30:20] <acrichto> SiegeLord: that's mildly intentionall because multiple crates of documentation can go in one directory
[03:30:47] <SiegeLord> Which one directory is that?
[03:31:00] <acrichto> doc/
[03:31:16] <SiegeLord> Then it doesn't matter, because there's nothing in doc/ except the crate directories
[03:31:35] <SiegeLord> All these links simply go up a directory level and then re-enter the same directory
[03:31:50] <acrichto> doc/<crate>/index.html exists
[03:31:56] <acrichto> do you want doc/index.html or index.html to exist?
[03:32:40] <SiegeLord> I'm fine with doc/<crate>/index.html
[03:33:10] <SiegeLord> I'm not fine with this link in index.html: "../<crate>/main.css"
[03:33:29] <SiegeLord> And a whole bunch of related ones
[03:33:38] <SiegeLord> It should just be "main.css"
[03:33:39] <acrichto> why not?
[03:34:01] <acrichto> does it matter?
[03:34:04] <SiegeLord> Well, it assumes, for no good reason, that index.html is inside a directory named <crate>
[03:34:20] <SiegeLord> It matters if you move it out of there, for convenience
[03:35:15] <SiegeLord> Like with Github pages... I generally just make that page be the documentation
[03:35:34] <SiegeLord> But since the documentation assumes its in a subdirectory, I had to add a redirect
[03:36:04] <SiegeLord> *it's
[06:19:38] *** Quits: SiegeLord (sl@moz-3D449DF.bstnma.fios.verizon.net) (Quit: Leaving)
[20:42:21] <cmr> acrichto: 
[20:42:23] <cmr> [16:42:16.606] TypeError: myparent is undefined @ http://static.rust-lang.org/doc/master/std/main.js:273
[20:42:27] <cmr> lots of it
[20:42:42] <acrichto> hm that's not good
[20:42:44] <acrichto> oh wait no
[20:42:45] <acrichto> I fixed that
[20:42:49] <acrichto> branch just didn't land
[20:42:51] * acrichto goes to rebase
[20:42:53] <cmr> oh ok
[20:44:07] <acrichto> go, bors, go!
