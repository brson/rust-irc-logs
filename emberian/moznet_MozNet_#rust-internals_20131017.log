[00:01:31] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[00:01:31] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 149593794 to 149d6c251: 02http://git.io/N3iJvQ
[00:01:31] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[00:01:36] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[00:01:36] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/UMeFcw
[00:01:36] <ghrust> 13rust/06auto 148163cb5 15blake2-ppc: std::iter: Introduce .by_ref() adaptor...
[00:01:36] <ghrust> 13rust/06auto 1463e097d 15bors: auto merge of #9634 : blake2-ppc/rust/by-ref-iter, r=thestinger...
[00:01:38] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[00:23:22] <acrichto> assertion error "Calling a function with a bad signature" -- what patterns are triggering that llvm assertion these days?
[00:23:33] <strcat> dunno
[00:23:36] <strcat> where are you seeing that?
[00:23:50] <acrichto> I wish I knew :(
[00:23:57] <acrichto> stage0 compiling libstd
[00:23:59] <strcat> does it say what's wrong specifically? wrong number of args? etc.
[00:24:01] <acrichto> with my changes
[00:24:06] <acrichto> ((i >= FTy->getNumParams() || FTy->getParamType(i) == Args[i]->getType())
[00:24:09] <strcat> acrichto: what did you change?
[00:24:15] <acrichto> pretty much the entire runtime
[00:24:19] <acrichto> that's my problem :(
[00:24:28] <strcat> lang items aren't type checked
[00:24:31] <strcat> that's possibly it
[00:24:53] <acrichto> 38 files changed, 1330 insertions(+), 1201 deletions(-)
[00:24:54] <strcat> I'm just glad the slice thing is over
[00:24:56] <strcat> ;p
[00:25:02] <strcat> far less painful than I expected
[00:25:03] <acrichto> don't think I changed any lang items... but maybe
[00:25:10] <acrichto> strcat: did owned/managed vecs change?
[00:25:12] <acrichto> or just slices?
[00:25:12] <strcat> no
[00:25:14] <strcat> slices
[00:25:16] <acrichto> ah oh well
[00:36:07] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[00:36:19] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[00:37:14] * acrichto shakes fist at trait objects
[00:38:54] <acrichto> trait objects have betrayed me :( https://gist.github.com/alexcrichton/7017439
[00:39:03] <acrichto> I believed in them!
[00:39:28] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[00:39:54] <sfackler> welp
[00:40:15] <dbaupp> acrichto: it works without the Some... :S
[00:41:17] <acrichto> argh I can't even transmute from Some((uint, uint)) it dies
[00:42:25] <dbaupp> fix the all the bugs! \o/
[00:50:52] <acrichto> oh!
[00:50:59] <acrichto> maybe the null-ptr optimization is being applied
[00:51:04] <acrichto> when it probably shouldn't be
[00:51:39] <acrichto> rusti: trait A {} ::std::sys::size_of::<Option<&mut A>>()
[00:51:41] -rusti- 24u
[00:56:21] <dbaupp> it might be something to do with immediates vs non immediates... but these are larger than one word...
[00:58:01] <acrichto> rusti: trait A {} ::std::sys::size_of::<&mut A>()
[00:58:02] -rusti- 16u
[01:06:32] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[01:06:32] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/UMeFcw
[01:06:32] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[01:11:24] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[01:11:24] <ghrust> 01[13rust01] 15bors pushed 5 new commits to 06auto: 02http://git.io/lYWUXg
[01:11:24] <ghrust> 13rust/06auto 143d693d7 15Alex Crichton: rustdoc: Use privacy visibility for pruning...
[01:11:24] <ghrust> 13rust/06auto 144d2a402 15Alex Crichton: rustdoc: Don't abort if there's nothing to document...
[01:11:24] <ghrust> 13rust/06auto 14a84c299 15Alex Crichton: Require module documentation with missing_doc...
[01:11:26] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[01:14:20] *** Quits: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net) (Ping timeout)
[01:27:30] <olsonjeffery> acrichto: ping
[01:28:24] <acrichto> olsonjeffery: pong
[01:28:32] <acrichto> oh no are you doing rtio things
[01:29:19] <acrichto> just a work in progress over here :)
[01:30:03] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:30:32] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[01:30:51] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[01:35:47] *** Joins: jeffdb_ (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[01:35:52] *** Quits: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Bye!)
[01:36:00] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[01:44:58] *** Joins: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[01:47:51] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[01:48:45] <olsonjeffery> acrichto: are you already stripping conditions from rt::io ?
[01:48:54] <olsonjeffery> is it moving out of std::rt ?
[01:52:08] <acrichto> olsonjeffery: I believe the current consensus is to remove conditions entirely
[01:52:09] *** Joins: brson (brson@981AA104.E81F12CD.76F66111.IP)
[01:52:10] *** ChanServ sets mode: +qo brson brson
[01:52:23] <acrichto> I had just started doing it, but I'm by no means knee-deep
[01:52:35] <acrichto> I do have a 1.5k line patch against std::rt though for lots of other changes
[01:54:35] <acrichto> so right now we have IoError with three fields
[01:54:41] <acrichto> and I kind of like having all three fields
[01:54:58] <acrichto> so I was thinkinga bout the Error trait basically having those three methods
[01:55:58] <strcat> acrichto: what exactly does it have in the fields?
[01:56:20] <acrichto> enum ErrorKind, desc: &'static str, detail: Option<~str>
[01:57:09] <strcat> you could make it so that the enum can be converted to the description
[01:59:09] <strcat> do we really need a trait? it seems hard to capture a generic concept of an error appropriate for other uses, beyond a static string description
[02:00:42] *** Quits: tjc (tjc@moz-BBE3ABD.mv.mozilla.com) (Quit: zzzzzzzzzz)
[02:02:40] <acrichto> hm well hopefully this is an extensible type
[02:02:52] <acrichto> in the sense that anyone can create io errors, it's not just limited to std::rt::io's errors
[02:07:01] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[02:10:54] *** Joins: andrew-__ (andrew-d_w@moz-5A92CAFF.dsl.static.sonic.net)
[02:11:30] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[02:11:30] <acrichto> olsonjeffery: if you want to take over removing conditions, I can give you my branch in progress
[02:11:43] <acrichto> I want to think more carefully about what the Error part of the Result is though
[02:11:53] <acrichto> I don't want to hasten into anything which turns out to just be annoying in the future
[02:16:08] *** Quits: andrew-__ (andrew-d_w@moz-5A92CAFF.dsl.static.sonic.net) (Ping timeout)
[02:16:26] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[02:16:26] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/lYWUXg
[02:16:26] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[02:18:30] *** Quits: brson (brson@981AA104.E81F12CD.76F66111.IP) (Ping timeout)
[02:21:27] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[02:21:27] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/A0fN4w
[02:21:27] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[02:21:28] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[02:21:28] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/KklFGg
[02:21:28] <ghrust> 13rust/06auto 14a402fb2 15klutzy: std::rt::uv::net: Handle `read_start` error...
[02:21:28] <ghrust> 13rust/06auto 148aadcd4 15klutzy: std::rt: Add NotConnected to IoErrorKind
[02:21:28] <ghrust> 13rust/06auto 14ade57d9 15klutzy: rt::io::net::tcp: Fix eof_twice tests on Win32...
[02:21:30] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[02:24:41] *** Quits: zz_kimundi (kimundi@moz-265AA1A2.dip0.t-ipconnect.de) (Ping timeout)
[02:28:07] *** Joins: zz_kimundi (kimundi@moz-55AF642C.dip0.t-ipconnect.de)
[02:28:08] *** zz_kimundi is now known as kimundi
[02:29:36] <strcat> acrichto: https://github.com/mozilla/rust/pull/9897 r?
[02:30:04] <strcat> also zapped some things still mentioning `rust`
[02:30:10] <strcat> since they were all in the same places
[02:30:36] <strcat> err sec, the last bug shouldn't be closed
[02:30:59] <strcat> acrichto: there :)
[02:32:09] <strcat> I guess we can drop linenoise too, I dunno
[02:32:14] <strcat> I'll deal with that in a follow-up
[02:53:08] <acrichto> strcat: that's a lot of closed bugs
[02:53:16] <strcat> acrichto: sec, adding a commit closing one more
[02:53:21] <strcat> linenoise
[02:54:04] <strcat> acrichto: seems to build, pushed
[02:54:13] <acrichto> cool, looking now
[02:54:13] <strcat> (we'll see ;p)
[02:54:28] <strcat> it bitrotted...
[02:54:30] <strcat> wat
[02:54:38] <strcat> sec..
[02:55:01] <strcat> acrichto: rebased :)
[02:55:57] <acrichto> strcat: there's a -DUSE_UTF8 I think in the makefiles
[02:56:05] <acrichto> that was for linenoise, can you remove that as well?
[02:56:47] <acrichto> strcat: other than that, r=me
[02:58:44] * strcat put r=alexcrichton on the wrong commit
[02:58:52] <strcat> github is slow
[03:08:50] *** Joins: dbaupp (Thunderbir@7B3DE86F.D5A1DCF.37681C44.IP)
[03:12:48] *** Quits: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper_)
[03:12:52] *** Joins: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[03:14:10] <olsonjeffery> acrichto: id wait for the proposals about Error to shake out, tbh
[03:14:25] <olsonjeffery> there seems to be a big pro-monad backlash, heh.
[03:15:27] <olsonjeffery> thus ends a brief detour into the world of lisp-style error handling
[03:17:43] * dbaupp wishes we had HKT for `trait Monad`
[03:19:20] <sfackler> while we're reconsidering the IO api, can we get rid of the impl Reader for Option<Reader>? or I guess the future impl Reader for Result<Reader, ~Error>
[03:20:10] <acrichto> sfackler: I'm actually a pretty big fan of that, brson is as well but pcwalton doesn't like it
[03:20:27] <sfackler> I find it super weird
[03:21:06] <sfackler> you end up with something that claims to be able to read or write or whatever, only when you try, it goes "oh sorry, I'm not a reader, DNS lookup failed when you created me 20 mintues ago"
[03:21:47] <dbaupp> acrichto: is this fixed? https://github.com/mozilla/rust/issues/9074
[03:22:10] <acrichto> sfackler: it may be too clever for its own good, and it also may only be useful for writing short examples of I/O
[03:22:27] <acrichto> dbaupp: yes
[03:22:45] <sfackler> Even with short examples, you can just do TcpStream::connect(addr).unwrap() or whatever
[03:22:55] <sfackler> or go the `try_connect`/`connect` route
[03:23:13] <acrichto> I'm a bit wary about doubling the size of the api
[03:23:45] <sfackler> yeah, it may not be feasible
[03:23:51] * dbaupp prefers just having -> Option<..> fns, except when .method().unwrap() is really really common
[03:23:53] <sfackler> especially for things like readerbyteconversions
[03:24:40] <acrichto> all the reader byte things are gonna have to become Result<XXX, ~Error>
[03:24:44] <acrichto> which is a little unfortunate...
[03:26:07] <sfackler> is unrecoverable task unwinding fully decided on? I like the way Go's panic/recover ends up working for this kind of thing
[03:26:23] <Eridius> sfackler: recoverable task unwinding breaks memory safety
[03:26:26] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[03:26:26] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/KklFGg
[03:26:26] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[03:26:32] <Eridius> because you may have unwound through something that caused it to violate invariants
[03:26:55] <sfackler> hmm
[03:27:12] <strcat> well we could audit every unsafe block and potentially fix the safety issues
[03:27:23] <strcat> but 'exception safety' is still a thing, even if it doesn't cause memory safety issues
[03:27:38] <Eridius> you can have invariants that don't depend on unsafety
[03:27:58] <Eridius> for example, PosixPath and WindowsPath have "safe" invariants, e.g. that one of their fields represents something about another
[03:31:25] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[03:31:25] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/qZoFMA
[03:31:25] <ghrust> 13rust/06auto 145e1ccc6 15Vijay Korapaty: Added comments to public functions in num.rs....
[03:31:25] <ghrust> 13rust/06auto 145d8e494 15bors: auto merge of #9585 : vky/rust/num-docs, r=alexcrichton...
[03:31:25] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[03:31:27] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[03:31:27] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/Ijju0A
[03:31:27] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[03:45:28] *** Joins: jensnockert (jensnocker@moz-D12CA539.mobileonline.telia.com)
[03:45:35] *** Quits: jensnockert (jensnocker@moz-D12CA539.mobileonline.telia.com) (Connection reset by peer)
[03:56:45] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Ping timeout)
[04:01:06] *** Quits: dbaupp (Thunderbir@7B3DE86F.D5A1DCF.37681C44.IP) (Ping timeout)
[04:01:56] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[04:13:41] *** Quits: jeffdb_ (jeff@moz-D13B6004.hsd1.ca.comcast.net) (Quit: jeffdb_)
[04:14:55] *** Joins: jeffdb_ (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[04:16:47] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[04:33:21] *** Joins: andrew-d_w (andrew-d_w@moz-5A92CAFF.dsl.static.sonic.net)
[04:36:33] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[04:36:33] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/qZoFMA
[04:36:33] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[04:37:38] *** Quits: andrew-d_w (andrew-d_w@moz-5A92CAFF.dsl.static.sonic.net) (Input/output error)
[04:37:59] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[04:39:07] *** Joins: andrew-__ (andrew-d_w@moz-5A92CAFF.dsl.static.sonic.net)
[04:39:50] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[04:41:24] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[04:41:24] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/8MpxmA
[04:41:24] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[04:41:26] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[04:41:26] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/wmi7_w
[04:41:26] <ghrust> 13rust/06auto 14023466c 15Corey Richardson: extra: implement Encodable/Decodable for Uuid
[04:41:26] <ghrust> 13rust/06auto 1475cedf8 15Corey Richardson: uuid: serialize test and documentations
[04:41:26] <ghrust> 13rust/06auto 146c08cc2 15bors: auto merge of #9846 : cmr/rust/serialize_uuid, r=alexcrichton
[04:41:28] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[04:41:47] *** Quits: andrew-__ (andrew-d_w@moz-5A92CAFF.dsl.static.sonic.net) (Input/output error)
[04:56:52] <jack> strcat: so i'm pretty sure your first immediate PR plug the foreign.rs change is the culprit.
[04:57:01] <jack> s/plug/plus/
[04:57:13] <strcat> hm, *shrug*
[04:57:23] <jack> i can compile servo with that and it crashes. but with the previous commit it's fine.
[04:58:09] <jack> strcat: do you have some time to dig into this?
[04:58:13] <strcat> yeah
[04:59:07] <strcat> it does a bitcast
[04:59:10] <strcat> that could be the issue
[04:59:11] <jack> this branch: https://github.com/metajack/servo/tree/rust-up-20131014
[04:59:14] <strcat> bitcasting ptr to int doesn't work
[04:59:32] <strcat> hrm
[04:59:35] <strcat> meh not the issue
[04:59:38] <jack> it basically fails in some drop glue.
[04:59:53] <jack> freeing some random value 0x7 or 0xc etc
[05:00:12] <jack> seems like an enum with Nothing, Something(~Foo)
[05:00:47] <strcat> so that's compiled as a nullable ptr and was non-immediate before but immediate now
[05:01:05] <strcat> sec
[05:02:54] <jack> strcat: here's the enum in question: https://github.com/metajack/servo/blob/rust-up-20131014/src/components/main/layout/float_context.rs#L49-L52
[05:03:07] <strcat> alright I think I see the problem
[05:03:19] <strcat> in the IR I mean
[05:04:13] <strcat> jack: for some odd reason it stores a value in the enum before passing it to the foreign fn...
[05:04:26] <strcat> afaict
[05:04:52] <strcat> oh wait nvm
[05:04:54] <strcat> looks fine
[05:05:22] <strcat> jack: ah that's strange, that enum isn't immediate
[05:05:25] <strcat> er
[05:05:27] <strcat> sorry
[05:05:29] <strcat> it is
[05:05:31] * strcat is silly
[05:05:39] <jack> we aren't doing any ffi call with this
[05:05:46] <strcat> oh it's just rust?
[05:05:47] <jack> i needed that foreign.rs patch to get glfw-rs to compile
[05:05:54] <jack> afaik, this is all safe rust code.
[05:05:58] <strcat> ah but now it dies at runtime
[05:06:04] <strcat> I misunderstood
[05:06:29] <jack> it segfault
[05:06:41] <jack> do you want a stack trace?
[05:07:10] <strcat> jack: yeah
[05:07:29] <jack> strcat: https://gist.github.com/metajack/7010750
[05:08:27] <strcat> jack: looks somewhat like a double-free
[05:08:45] <strcat> jack: you could build rust's jemalloc with --enable-debug and it might produce a useful error
[05:08:59] <jack> how do i do that?
[05:09:30] <jack> is there a configure flag that rust's configure will pass to jemalloc?
[05:09:37] <strcat> jack: in mk/rt.mk, add --enable-debug on the line with --disable-experimental
[05:09:43] <strcat> jack: not a way to pass them through atm
[05:11:28] <strcat> jack: I don't expect it will catch anything but you never know!
[05:13:27] *** Quits: Kxepal (Miranda@moz-2EDC98B.pppoe.mtu-net.ru) (Ping timeout)
[05:15:40] <strcat> jack: I suspect there is a bug in the cleanup cancelling code for immediates
[05:15:48] <strcat> and it results in a double-free after moving from an immediate
[05:16:02] <strcat> so by moving more things to immediate, more things are going to hit this bug :(
[05:16:33] *** Joins: Kxepal (Miranda@moz-D440E09C.pppoe.mtu-net.ru)
[05:16:51] <strcat> hard to be sure about these things until they are tracked down...
[05:18:34] <jack> it'll be 30 minutes or so before my compiles finish and i can tell if you if jemalloc gives us anything useful.
[05:25:33] <strcat> jack: https://github.com/mozilla/rust/issues/9758 I highly suspect this is the same issue
[05:34:20] <jack> ok. confirmed it's the immediate patch.
[05:34:31] <jack> recompiling with master and jemalloc debugging now
[05:41:10] *** Joins: tikue (quassel@moz-FEADCD38.hsd1.pa.comcast.net)
[05:41:52] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[05:41:57] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[05:44:53] *** Quits: jeffdb_ (jeff@moz-D13B6004.hsd1.ca.comcast.net) (Ping timeout)
[05:45:48] *** Joins: jensnockert (jensnocker@moz-D12CA539.mobileonline.telia.com)
[05:46:51] *** Quits: jensnockert (jensnocker@moz-D12CA539.mobileonline.telia.com) (Connection reset by peer)
[05:51:23] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[05:51:23] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/wmi7_w
[05:51:23] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[05:56:18] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[05:56:18] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/M-vduQ
[05:56:18] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[05:56:23] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[05:56:24] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/iim18A
[05:56:24] <ghrust> 13rust/06auto 146969e5f 15Alex Crichton: Allow stage0 warnings
[05:56:24] <ghrust> 13rust/06auto 1488acb73 15bors: auto merge of #9891 : alexcrichton/rust/allow-warnings, r=brson...
[05:56:24] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[06:02:36] <strcat> jack: I'm looking into the UnsafeArc failure again
[06:02:49] <strcat> it's definitely caused by an extra call of the destructor
[06:03:11] <strcat> an assertion fails in the destructor, checking that the refcount is not 0
[06:03:27] <strcat> anyway I'll try fixing this and hopefully it fixes yours ;p
[06:03:47] <strcat> jack: you could work around it by making Nothing into Nothing((int, int)) ;p
[06:10:13] *** Joins: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net)
[06:13:00] *** Quits: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk) (Quit: Ex-Chat)
[06:14:17] *** Quits: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper_)
[06:23:27] <jack> I'll try that in the morning. I upgraded to master and now I'm dealing with the Path rewrite.
[06:23:48] <strcat> jack: fwiw I narrowed it down
[06:24:01] <strcat> jack: it's caused by rvalues
[06:24:16] <strcat> *assuming* this UnsafeArc bug is the same
[06:24:29] <strcat> jack: http://ix.io/8xg/diff
[06:24:41] <strcat> so at least I have a starting point now
[06:24:47] <strcat> need to make a small test case for this and I bet I can fix it
[06:25:27] <strcat> jack: it calls the destructor an extra time if that rvalue is used without a temporary (moved from directly)
[06:25:57] <strcat> jack: https://github.com/mozilla/rust/issues/7972 could also be the same bug :)
[06:27:02] <Eridius> `make check-stage1` is failing for me in run-pass/ifmt.rs on current master
[06:27:12] <Eridius> well, not quite current
[06:27:24] <Eridius> but not missing anything important
[06:27:55] <strcat> Eridius: do you have my slice changes?
[06:28:12] <Eridius> yes
[06:28:29] <strcat> Eridius: which assert fails?
[06:29:05] <Eridius> line 122. unterminated format string
[06:29:06] <Eridius> t!(format!("{:.a$s}", "aaaaaaaaaaaaaaaaaa", a=4), "aaaa")
[06:29:16] <Eridius> and again on 125
[06:29:22] <Eridius> seems to be the a$ that's problematic
[06:30:41] <strcat> weird
[06:30:53] <strcat> Eridius: can you try before my slice commit?
[06:31:01] <strcat> although.... I have a feeling that's not it
[06:31:07] <Eridius> any chance `make check-stage1` runs tests that `make check` itself doesn't?
[06:31:13] <strcat> string slice representation didn't change
[06:31:14] <Eridius> (which would be very strange)
[06:31:18] <strcat> Eridius: it's possible I broke stage1 tests
[06:31:20] * strcat shrugs
[06:31:25] <strcat> I doubt I broke *that* test
[06:31:33] <Eridius> strcat: if you broke stage1 tests in general how did bors pass it?
[06:31:45] <strcat> it runs them with the stage2 compiler
[06:31:57] <Eridius> ok see, that was my question, if `make check-stage1` does something different than `make check`
[06:32:10] <strcat> stage1 tests don't necessarily work except right after a snapshot, it's just a shortcut
[06:32:14] <Eridius> I see
[06:32:20] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Leaving...)
[06:32:27] <strcat> ideally they would still work but bors doesn't guarantee it and I rarely run them
[06:32:41] <strcat> I run stage1 tests when doing a minor lib change
[06:33:08] <Eridius> yeah that's when I do stage1 too
[06:33:14] <Eridius> and I was trying to test a minor lib change ;)
[06:33:19] * Eridius is re-running without your changes
[06:34:33] <jack> ugh. there's no ToStr for Path? or Default?
[06:34:57] <jack> what is %? now?
[06:35:43] <Eridius> Path deliberately doesn't implement ToStr because it cannot always be converted to a str
[06:35:50] <Eridius> why do you want Default?
[06:35:55] <strcat> jack: {:?}
[06:36:03] <strcat> jack: you really don't want it outside of debugging though
[06:36:05] <Eridius> jack: if you want to print a path, use {} and call path.display()
[06:36:46] <Eridius> path.display() returns a type that implements fmt:Default in order to convert a path to a displayable string. However, the conversion is lossy
[06:37:18] <jack> It seems weird that you can't just print a path.
[06:37:40] <strcat> jack: narrowing down a test case now...
[06:37:54] <strcat> although maybe that &mut ~5 thing counts ;p
[06:38:49] *** flaper87|afk is now known as flaper87
[06:38:51] <jack> heh
[06:38:59] <dbaupp> jack: not all paths are valid strings (and not all strings are valid paths)
[06:39:00] <Eridius> jack: paths may be non-utf8 sequences
[06:40:03] <jack> sure. but display() does somethign right? why can't to_str() also do that thing.
[06:40:32] <Eridius> jack: because .display() is a lossy conversion, only suitable for printing
[06:40:34] <strcat> jack: to_str should probably be reversible
[06:40:43] <strcat> haskell has type class laws for these things
[06:40:48] <Eridius> whereas a .to_str() impl would make it far too easy for people to incorrectly convert paths to strings
[06:40:55] <Eridius> (also .display() avoids unnecessary allocation)
[06:41:10] <Eridius> strcat: `make check-stage1` still fails without your changes
[06:41:23] <strcat> good, it's probably not my fault then ;p
[06:42:10] <cmr> dbaupp: reenabled CPU benching
[06:43:51] <Eridius> strcat: fc06f7922db0b4d1063f4f29157635117d853426 (the one that added those lines) broke it
[06:43:55] <Eridius> it's cfg'd out on stage0
[06:44:01] <Eridius> (I wonder why?)
[06:44:16] <strcat> Eridius: I'll just make a snapshot and we won't ever have to know why
[06:44:29] <Eridius> acrichto: ^
[06:44:31] <Eridius> strcat: hah
[06:44:34] <cmr> Well, compile time measurement.
[06:44:47] <strcat> cmr: it's only stage1 that fails though, not stage2
[06:44:53] <strcat> on bors it would be clean
[06:44:56] <cmr> strcat: eh?
[06:45:05] <strcat> make check-stage1
[06:45:19] <cmr> I have no idea what you're talking about.
[06:45:24] <strcat> oh
[06:45:28] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[06:45:28] <ghrust> 01[13rust01] 15thestinger merged 06master into 06snap-stage3: 02http://git.io/xTq-5Q
[06:45:28] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[06:45:29] <strcat> you were talking to dbaupp 
[06:45:31] <strcat> cmr: ha
[06:45:32] <dbaupp> cmr: cool!
[06:45:33] <strcat> nvm 
[06:45:38] <dbaupp> haha
[06:45:42] <cmr> :P
[06:46:06] <strcat> Eridius: your problem will be solved in N decades when the snapshots finish
[06:46:08] <strcat> ;p
[06:46:23] <strcat> they build i686 *and* x86_64 + test them both while running under valgrind the whole time
[06:46:25] <strcat> yay.
[06:46:58] <Eridius> egads
[06:47:31] <jack> haha. the url servo tries to parse is file://()
[06:47:40] <jack> with that, i shall sleep.
[06:47:44] <strcat> jack: good news!
[06:47:47] <strcat> I narrowed down a test case
[06:47:57] <jack> strcat: sounds like it will be fixed by teh time i awaken :)
[06:47:59] <strcat> jack: http://ix.io/8xj
[06:48:02] <strcat> maybe
[06:48:20] <strcat> unsafe_no_drop_flag zeroes instead of stopping a destructor call
[06:48:30] <strcat> but anyway
[06:48:33] <strcat> it prints 5 twice.
[06:49:31] <jack> heh. I didn't think we had an unsafe_no_drop_flag
[06:49:37] <jack> in servo i mean.
[06:49:39] <Eridius> strcat: huh, why does it print 0's before 5's?
[06:49:41] <strcat> jack: well, you don't
[06:49:54] <jack> oh, that prevents the double free ?
[06:50:02] <strcat> jack: it's just what I did to debug
[06:50:12] <strcat> jack: unsafe_no_drop_flag is the only way to get an immediate struct with a field
[06:50:19] <strcat> since otherwise it gets +1 word for a destructor
[06:50:29] <strcat> jack: your enum is 1 word, due to the nullable ptr optimization for enums
[06:50:33] <strcat> jack: and has a destructor from the ~T
[06:50:57] <strcat> UnsafeArc is also a ptr, and if tagged with unsafe_no_drop_flag (becomes immediate) hits this issue
[06:51:36] <strcat> it is very strange
[06:52:15] * strcat will use u32 in order to add another field...
[06:53:47] <strcat> yep
[06:53:53] <strcat> it's the rvalue being destroyed...
[06:55:21] <strcat> wtf :s
[06:56:20] <strcat> wow
[06:56:22] <strcat> this is ridiculous
[06:56:27] <strcat> I think it runs the function twice
[07:06:20] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[07:06:20] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/iim18A
[07:06:20] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[07:11:22] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[07:11:22] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/5IEnKQ
[07:11:22] <ghrust> 13rust/06auto 145ab5088 15Brian Anderson: std: Move size/align functions to std::mem. #2240
[07:11:22] <ghrust> 13rust/06auto 14ae850ea 15bors: auto merge of #9896 : brson/rust/stdmem, r=alexcrichton...
[07:11:23] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[07:13:41] *** Quits: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net) (Quit: dbaupp)
[07:14:48] *** Joins: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net)
[07:21:21] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[07:21:21] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14ae850ea to 1488acb73: 02http://git.io/N3iJvQ
[07:21:21] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[07:21:23] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[07:21:23] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/qAZibg
[07:21:23] <ghrust> 13rust/06auto 1488ab38c 15Chris Sainty: Removed the -Z once_fns compiler flag and added the new feature directive of the same name to replace it....
[07:21:23] <ghrust> 13rust/06auto 1400adcf0 15bors: auto merge of #9863 : csainty/rust/issue-9755-once-fns-feature-directive, r=alexcrichton...
[07:21:24] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[07:21:31] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[07:37:19] <strcat> jack: I believe I've fixed it ;p
[07:38:19] <dbaupp> strcat: so much for "I'll try to fix it [but I don't know much]" :P
[07:39:12] <strcat> well this code didn't end up being as complex as I imagined it
[07:39:26] <dbaupp> awesome
[07:39:32] <strcat> I am just deleting an incorrect codegen optimization ;\
[07:39:52] <strcat> it assumes a reference to a value cannot alter the value in a way that would be detectable in the destructor
[07:39:57] <strcat> a *totally wrong* assumption
[07:40:26] <strcat> a consequence of our codegen being bad ;p
[07:48:17] <strcat> Eridius: meh
[07:48:28] <strcat> stupid snapshots
[07:48:41] * strcat already ran into something that needs a stage flag
[07:49:58] <dbaupp> acrichto: does https://github.com/mozilla/rust/pull/9901 fix https://github.com/mozilla/rust/issues/8925?
[07:57:47] <strcat> acrichto: any idea if there's actually a cfg(stage3)?
[08:00:42] <dbaupp> strcat: `make -n VERBOSE=1 rustc-stage3` seems to invoke rustc as `x86_64-unknown-linux-gnu/stage3/bin/rustc --cfg stage3 ...` so yes
[08:05:45] <acrichto> strcat: yes, I believe that it fixes that (or at least to the best of my understanding of the requireemnts of DNS). Right now it's a pretty thin wrapper around what libuv provides
[08:05:58] <acrichto> wait wrong ping, dbaupp&
[08:06:05] <acrichto> but yes, I believe that there is a stage3
[08:06:12] <acrichto> snapshots are built with it
[08:08:48] <strcat> dbaupp: meh I don't think I fixed it :s
[08:08:58] <strcat> I fixed part of the issue
[08:09:00] <strcat> damn
[08:24:08] *** Joins: bjz (brendanzab@moz-38D46E1C.perm.iinet.net.au)
[08:29:37] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: sleep)
[08:31:28] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[08:31:28] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/qAZibg
[08:31:28] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[08:36:34] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[08:36:34] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/IaTZRA
[08:36:34] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[08:36:36] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[08:36:36] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/eMYQZQ
[08:36:36] <ghrust> 13rust/06auto 147c92435 15Daniel Micay: remove the rusti command...
[08:36:36] <ghrust> 13rust/06auto 14f766aca 15Daniel Micay: drop the linenoise library...
[08:36:36] <ghrust> 13rust/06auto 14386fa1d 15bors: auto merge of #9897 : thestinger/rust/rusti, r=alexcrichton...
[08:36:38] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[09:09:13] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[09:41:23] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[09:41:23] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/eMYQZQ
[09:41:23] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[09:46:25] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[09:46:25] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/rNzyHA
[09:46:25] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[09:46:29] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[09:46:30] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/gVuSTw
[09:46:30] <ghrust> 13rust/06auto 14256913e 15Ziad Hatahet: Fixed example comment for num::cast().
[09:46:30] <ghrust> 13rust/06auto 142cb96a4 15bors: auto merge of #9900 : hatahet/rust/master, r=alexcrichton...
[09:46:30] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[10:12:30] *** Quits: StarLight (StarLight@moz-C80940BC.pppoe.avangarddsl.ru) (Ping timeout)
[10:14:14] *** Joins: jdm (jdm@moz-300427AD.cable.virginmedia.com)
[10:16:50] *** Joins: StarLight (StarLight@moz-C2023557.dynamic.avangarddsl.ru)
[10:20:04] *** Joins: jensnockert (jensnocker@moz-D12CA539.mobileonline.telia.com)
[10:52:51] *** flaper87 is now known as flaper87|afk
[10:53:37] *** Quits: jensnockert (jensnocker@moz-D12CA539.mobileonline.telia.com) (Connection reset by peer)
[10:56:18] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[10:56:18] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/gVuSTw
[10:56:18] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[11:15:32] *** Joins: jensnockert (jensnocker@moz-197D59BC.wireless.lu.se)
[11:19:00] *** Quits: jensnockert (jensnocker@moz-197D59BC.wireless.lu.se) (Connection reset by peer)
[11:19:21] *** Joins: jensnockert (jensnocker@moz-197D59BC.wireless.lu.se)
[11:23:58] *** Quits: jensnockert (jensnocker@moz-197D59BC.wireless.lu.se) (Input/output error)
[11:26:17] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[11:26:18] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/H6W11Q
[11:26:18] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[11:26:22] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[11:26:22] <ghrust> 01[13rust01] 15bors pushed 6 new commits to 06auto: 02http://git.io/OA0W3w
[11:26:22] <ghrust> 13rust/06auto 145f14d8f 15Adrien TÃ©tar: doc: switch pandoc to html5
[11:26:22] <ghrust> 13rust/06auto 14ac80ab5 15Adrien TÃ©tar: doc/rust.HTML: proper version box
[11:26:23] <ghrust> 13rust/06auto 1495563b9 15Adrien TÃ©tar: doc: tidy and cleanup CSS deps, add tutorial PDF generation
[11:26:25] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[11:39:12] *** Joins: jensnockert (jensnocker@moz-D12CA539.mobileonline.telia.com)
[11:52:00] *** Quits: bjz (brendanzab@moz-38D46E1C.perm.iinet.net.au) (Quit: Leaving...)
[11:55:49] *** Quits: jdm (jdm@moz-300427AD.cable.virginmedia.com) (Ping timeout)
[11:56:07] *** kimundi is now known as zz_kimundi
[11:57:08] *** Joins: jdm (jdm@moz-300427AD.cable.virginmedia.com)
[11:59:57] *** Quits: jdm (jdm@moz-300427AD.cable.virginmedia.com) (Ping timeout)
[12:11:42] *** zz_kimundi is now known as kimundi
[12:13:03] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[12:35:07] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[12:47:49] *** Quits: jensnockert (jensnocker@moz-D12CA539.mobileonline.telia.com) (Input/output error)
[12:49:05] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[12:57:57] *** flaper87|afk is now known as flaper87
[13:05:44] *** Joins: jensnockert (jensnocker@moz-D12CA539.mobileonline.telia.com)
[13:22:45] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[13:23:48] *** Joins: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP)
[13:28:43] *** Quits: jensnockert (jensnocker@moz-D12CA539.mobileonline.telia.com) (Input/output error)
[13:49:50] <jack> strcat: thanks for that patch. i'll test it right now
[14:06:43] *** Joins: jdm (jdm@514D186.F3BBB17D.144F44FA.IP)
[14:07:59] *** Joins: jdm_ (jdm@88F51059.F3BBB17D.144F44FA.IP)
[14:08:25] *** Quits: jdm (jdm@514D186.F3BBB17D.144F44FA.IP) (Ping timeout)
[14:13:03] *** Joins: pnkfelix (pnkfelix@moz-B65AF445.hfc.comcastbusiness.net)
[14:13:03] *** ChanServ sets mode: +o pnkfelix
[14:44:24] *** jdm_ is now known as jdm
[15:08:04] *** Joins: saneyuki (Mibbit@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[15:09:18] *** Quits: saneyuki (Mibbit@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Quit: http://www.mibbit.com ajax IRC Client)
[16:25:14] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[16:29:28] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[16:30:37] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[16:44:46] *** flaper87 is now known as flaper87|afk
[16:45:36] *** Quits: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP) (Ping timeout)
[16:46:17] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[16:46:29] *** Joins: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP)
[16:48:01] *** Quits: isenmann (isenmann@moz-B656BA79.science-computing.de) (Quit: Leaving.)
[16:56:13] *** Quits: lbergstrom (Adium@moz-5D8E4B14.lightspeed.cicril.sbcglobal.net) (Quit: Leaving.)
[16:56:18] *** Joins: lbergstrom (Adium@moz-5D8E4B14.lightspeed.cicril.sbcglobal.net)
[16:56:29] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[16:56:29] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14ba21d47 to 142cb96a4: 02http://git.io/N3iJvQ
[16:56:29] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[16:56:32] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[16:56:32] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/MKLfIQ
[16:56:32] <ghrust> 13rust/06auto 14d8f82c8 15Kevin Ballard: Rewrite vec.contains() to be simpler
[16:56:32] <ghrust> 13rust/06auto 142fcb534 15Kevin Ballard: Implement new methods vec.starts_with()/vec.ends_with()
[16:56:33] <ghrust> 13rust/06auto 1487a2d03 15Kevin Ballard: Rewrite str.starts_with()/ends_with() to be simpler
[16:56:35] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[17:00:21] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[17:00:21] *** ChanServ sets mode: +qo brson brson
[17:07:44] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[17:07:56] <strcat> nmatsakis: https://github.com/mozilla/rust/pull/9902/files is this good?
[17:10:15] * strcat wrote the previous comment at 4am ;p
[17:15:25] <eddyb> strcat: ohai :D
[17:19:13] *** Quits: pnkfelix (pnkfelix@moz-B65AF445.hfc.comcastbusiness.net) (Quit: Leaving.)
[17:20:54] <eddyb> acrichto: any way to get a Span from something like p.parse_str() (see libsyntax/ext/asm.rs)?
[17:21:08] *** Joins: pnkfelix (pnkfelix@moz-B65AF445.hfc.comcastbusiness.net)
[17:21:08] *** ChanServ sets mode: +o pnkfelix
[17:35:44] *** Joins: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[17:35:48] *** Quits: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Connection reset by peer)
[17:35:57] *** Joins: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[17:41:22] <nmatsakis> strcat: yes
[17:42:08] <strcat> nmatsakis: it doesn't seem to have actually fixed the UnsafeArc issue so it needs to be poked at a bit more anyway :(
[17:42:15] <strcat> it just fixed my simplified test cases and the other bug
[17:42:57] <acrichto> eddyb: I think you can say p.last_span
[17:43:28] <nmatsakis> strcat: going to have to see how this fits into my branch for #3511, which takes a very different approach to cleanups
[17:44:07] <eddyb> acrichto: just as I pushed https://github.com/mozilla/rust/pull/9850/files
[17:44:17] <eddyb> err, without /files, that was me browsing it
[17:44:48] <eddyb> acrichto: if it builds with last_span, I'll make you happy :P
[17:46:51] <acrichto> eddyb: cool, I'll look at that soon
[17:47:17] <eddyb> just don't pull it before I get to upload this patch :P
[17:47:43] <eddyb> acrichto: error reporting should be slightly better than gcc and clang, at least for this little thing
[17:48:29] <eddyb> expected `codemap::Span` but found `@mut codemap::Span`
[17:48:37] <eddyb> I assume deref by * would work
[17:49:42] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[17:52:57] <acrichto> yep
[17:53:52] <eddyb> how is anyone working on rustc with these build times?
[17:54:22] <eddyb> SSDs, 64GBs of RAM or sword fights?
[17:55:33] <strcat> nmatsakis: I seem to have found a *separate* bug
[17:55:43] <strcat> nmatsakis: and it's the real cause of the UnsafeArc thing
[17:55:56] <strcat> yep
[17:56:14] <strcat> nmatsakis: moving from an immediate with by-value self doesn't work
[17:58:55] <eddyb> does rustc store some kind of dependency graph anywhere?
[18:00:05] <strcat> hm
[18:01:40] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[18:01:40] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/MKLfIQ
[18:01:40] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[18:02:13] <eddyb> because if a file wasn't changed, its internal dependencies are still valid. if I file was changed, but if only code in already existing functions was changed, external dependencies on that changed file are still valid
[18:02:27] <eddyb> but I'm just speculating like a fool
[18:05:49] <eddyb> acrichto: whee, the missing/invalid constraint modifier errors point at the constraint string :D
[18:06:22] <acrichto> eddyb: nice!
[18:06:30] * acrichto hits refresh
[18:06:32] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[18:06:32] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/xEiOVQ
[18:06:32] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[18:06:36] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[18:06:36] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/cfM0XQ
[18:06:36] <ghrust> 13rust/06auto 140adb41d 15Alex Crichton: Register new snapshots
[18:06:36] <ghrust> 13rust/06auto 14d773a02 15bors: auto merge of #9908 : alexcrichton/rust/snapshots, r=thestinger
[18:06:37] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[18:07:33] <acrichto> eddyb: sadly the tests still won't compile on things like mips
[18:07:57] <acrichto> I think you'll need to do #[cfg(...)] fn test() {} #[cfg(not(...))] fn test() {}
[18:08:08] <acrichto> test files always need to have a main function
[18:09:59] *** Quits: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP) (Ping timeout)
[18:10:10] <eddyb> acrichto: v8 has the MIPS devs port any changes... let me check mov syntax in MIPS
[18:10:40] <acrichto> eddyb: we're already having a #[cfg], only do it for x86 and nothing else b/c there's really no need to test it on other architectures
[18:10:47] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[18:12:43] <eddyb> acrichto: is there anything wrong with #[cfg(not(...))] fn main() {} ?
[18:12:52] <acrichto> that could also work
[18:15:49] <eddyb> is there anything matching *both* x86 and x86_64?
[18:17:00] <eddyb> or a way to do cfg(not(or(x86, x86_64)))? my head is spinning :P
[18:22:32] <eddyb> done it, #[cfg(not(target_arch = "x86"), not(target_arch = "x86_64"))]
[18:25:00] <eddyb> acrichto: done, https://github.com/mozilla/rust/pull/9850
[18:25:36] <eddyb> sorry for taking so long, I got sidetracked...
[18:25:40] <acrichto> oh no problem!
[18:25:55] *** lbergstrom is now known as lbergstrom|meeting
[18:26:19] <acrichto> eddyb: nice work!
[18:26:41] <acrichto> if you're still feeling adventurous you could try to tackle 9882 as well
[18:28:32] <eddyb> acrichto: I converted an slab-like allocator (with multi-thread and multi-processor safety and large object improvements) from C++ to Rust *then* optimized it. that's what I should be working on now :P
[18:28:53] <acrichto> oh nice!
[18:29:04] <acrichto> sounds pretty intense
[18:29:26] <brson> acrichto: why do we need an abort intrinsic?
[18:29:39] <eddyb> this asm thing was a nit (it gets rid of a dumb fn zero() {0} trait method required just to initialize a local that gets written by asm!)
[18:29:47] <acrichto> brson: it was added by strcat awhile ago, I'm not entirely sure as to the reasons though
[18:30:09] <eddyb> acrichto: I had no clue how this worked before I removed all the clutter *and* made this improvement myself: http://forum.osdev.org/viewtopic.php?f=15&t=20878&p=228353#p228353
[18:30:12] <strcat> brson: a portable way of aborting when you don't have libc
[18:30:18] <strcat> without having to use asm
[18:30:21] <strcat> it's not really important
[18:31:06] <eddyb> acrichto: I now believe I can overengineer it (yay macro metaprogramming) to require so little overhead that it might beat most other allocators out there
[18:31:19] <acrichto> brson: I leveraged it b/c libc::abort would require a fixed stack segment (or an allow(cstack))
[18:31:30] <acrichto> eddyb: that'd be pretty awesome :)
[18:32:04] <eddyb> I'm abusing rust to get an alloc down to two or three instructions, directly calling the specialized function for the size class (if the size is known at compile-time)
[18:32:09] <strcat> it does end up calling abort on obscure platforms, but on ARM/x86/MIPS it doesn't need libc
[18:32:15] <strcat> (most LLVM intrinsics are like that)
[18:32:37] <eddyb> strcat: what does it do? rustic abort was asm("cli; hlt")
[18:32:44] <eddyb> acrichto: oh, and it inherently supports in-place realloc
[18:32:56] <strcat> eddyb: https://github.com/thestinger/rust-core/blob/master/core/slice.rs that works without libc
[18:33:11] <strcat> in userspace it causes a SIGILL
[18:33:22] <strcat> no idea what it does in a kernel, but it's supposed to work ;p
[18:33:35] <eddyb> strcat: guess how a SIGILL is triggered :P
[18:33:52] <eddyb> it's going to trigger the equivalent CPU exception
[18:34:41] <eddyb> acrichto: when it's done I'm going to tell everyone about it :))
[18:35:33] <eddyb> strcat: do you have the fail_ lang item in rust-core? I seem to need it for a modulo, it should be the same as failed bounds check (just abort), right?
[18:35:47] <strcat> no I didn't add it
[18:35:52] <strcat> but yeah I should, and it should just abort
[18:36:05] <strcat> it's for div/mod by 0
[18:36:52] <eddyb> I know, I have a mod
[18:37:58] <strcat> I just didn't have a way to abort before
[18:37:58] <eddyb> it's stupid because it's x % STATIC_IMMUT_VALUE
[18:38:42] <eddyb> ooh, bound checking gives you information?
[18:38:58] <strcat> yes
[18:39:12] <strcat> my definition of the lang item isn't using it
[18:39:17] <strcat> can't really do I/O
[18:40:09] <eddyb> that's going to be useful to dump in a debugger before aborting. heck, abort can drop directly into a kernel debugger (we had a relatively fancy one in pedigree, using textmode and/or serial. you could do a backtrace after a kernel panic, if you wanted to :P)
[18:40:47] <eddyb> rustc: /home/eddy/Projects/rust/src/llvm/lib/IR/Instructions.cpp:276: void llvm::CallInst::init(llvm::Value*, llvm::ArrayRef<llvm::Value*>, const llvm::Twine&): Assertion `(Args.size() == FTy->getNumParams() || (FTy->isVarArg() && Args.size() > FTy->getNumParams())) && "Calling a function with bad signature!"' failed.
[18:40:57] <eddyb> strcat: lang items aren't type checked :(
[18:41:02] <strcat> I know
[18:41:08] <strcat> I opened a bug about it
[18:41:43] <brson> is there already an open issue about adding some kind of implementation inheritance?
[18:42:24] <strcat> brson: would generic impls work for that?
[18:42:52] <eddyb> strcat: src/rusty.c:41:6: warning: incompatible redeclaration of library function 'realloc' [-Wincompatible-library-redeclaration]
[18:43:11] <eddyb> pffft, the C code can have malloc and free, but not realloc?
[18:43:27] <strcat> it has to use the same type signature that clang expects
[18:43:43] <brson> strcat: no, i'm looking for a feature that allows the structure of types to be inherited
[18:43:57] <strcat> eddyb: you're using -ffreestanding right?
[18:44:16] <strcat> -fno-builtin turns off special handling based on symbol names but you probably want that (just be careful! ;p)
[18:44:30] <strcat> brson: ah
[18:44:37] <acrichto> brson: the RtioTcpListener has a by-value listen function, but it turns out that those methods don't work on trait objects, do you have any ideas of how to migrate away from "fn listen(self)" ?
[18:44:55] <acrichto> I'd rather not merge the acceptor into the listener, but that's one possible route to take
[18:45:47] <brson> acrichto: ~self should be fine. All the Rtio types are intended to be used as ~traits
[18:45:56] <eddyb> strcat: no -ffreestanding, the other dev must've forgotten, since pedigree has all automated flags :)). to be honest, it did have a bad signature (void instead of void* on the return type)
[18:45:57] <acrichto> oh haha I didn't even consider that
[18:46:47] <acrichto> brson: yep that works, nevermind
[18:48:14] <strcat> eddyb: added fail_
[18:48:34] <eddyb> strcat: thanks, one less hack :D
[18:49:28] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[18:49:32] <eddyb> strcat: I know how to have custom allocators, with two macros: either provide a static allocator object, implementing the Allocator trait (I have it in rustic::mem) or provide the allocation functions - (malloc, free) for libc, (allocator.alloc, allocator.free) for a custom allocator
[18:50:06] <eddyb> too bad you can't pull things from cfg, --cfg allocator=mem::SlamAllocator would've been cool
[18:50:50] <eddyb> strcat: it's trivial then to check cfg(allocator) and only use libc for cfg(allocator="libc")
[18:51:28] * strcat isn't sure about the best way to do that yet
[18:51:35] <strcat> but yeah, Rc/Vec should be usable without libc
[18:51:38] <strcat> if you define an allocator
[18:53:04] <eddyb> strcat: you need a macro, something that would work like this: !use_allocator(my_static_allocator, LinearStaticHeap!(4*1024*1024));
[18:53:32] <eddyb> the second macro is just a shorthand to instantiate a structure with an otherwise ugly and implementation-specific syntax
[18:54:49] <strcat> I don't see the point of the move_val intrinsic
[18:54:57] <strcat> it seems identical to *dest = src
[18:55:06] * strcat will just remove it
[18:55:40] <eddyb> strcat: there's the atomic intrinsics and the generic wrappers for them, quite useful
[18:56:50] <eddyb> strcat: both the LinearStaticHeap (very dumb allocator, I use it to allocate pages to SlamAllocator without memory management) and SlamAllocator will be atomic
[18:57:02] <strcat> I guess move_val is about avoiding take glue
[18:58:15] <eddyb> strcat: no slice methods yet? (asking because we use transmute, which is nasty)
[18:58:35] <strcat> nope no slice methods yet
[18:58:53] <strcat> rust-core has no prelude so doing that stuff is going to be very painful
[18:59:13] <strcat> because rust doesn't let you define impls on built-ins..
[18:59:27] <strcat> it might be better to just use free functions
[19:00:01] <eddyb> hmpf
[19:00:37] <eddyb> strcat: but you can dump all that stuff into core::prelude and then use core::prelude::*; is enough, right :P?
[19:00:44] <strcat> yeah, I could do that
[19:00:44] <brson> strcat: do you intend for std to be implementable on top of rust-core?
[19:01:01] <strcat> brson: I'm not really sure yet
[19:01:13] <strcat> mostly just exploring what kinds of problems there are going to be
[19:02:05] <strcat> brson: libstd would need the ability to define cfg switches inside the source
[19:02:30] <strcat> since it would want to turn off the definitions of most of the lang items, and enable cfg(libc)
[19:02:43] <eddyb> you mean cfg(allocator="libc") :P
[19:03:21] <strcat> eddyb: I'll be exposing C11 threads, etc. though
[19:04:04] <eddyb> hmm
[19:05:09] <eddyb> strcat: well, that's fine, it's just going to be slightly more painful to check both cfg(has_allocator) and cfg(libc) in some places
[19:05:41] <eddyb> (but if you reimplement std-like behavior on top of threads, I want to be able to do that with kernel threads :D)
[19:05:59] <eddyb> strcat: zero.rs has my permission to die https://github.com/pcmattman/rustic/pull/5
[19:07:10] *** Joins: tjc (tjc@8B72BF20.2A034839.284344F5.IP)
[19:07:10] *** ChanServ sets mode: +o tjc
[19:07:18] *** Quits: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper_)
[19:08:01] <eddyb> strcat: what do you say of this (the trait)? https://github.com/eddyb/rustic/blob/slam/src/mem/mod.rs#L52-L55
[19:08:20] <eddyb> (keep in mind that contains zero.rs-specific code)
[19:08:54] *** Quits: tjc (tjc@8B72BF20.2A034839.284344F5.IP) (Ping timeout)
[19:08:58] <strcat> eddyb: dunno yet how I want to handle that kind of thing
[19:09:07] <strcat> needs lots of thought :)
[19:09:15] <eddyb> I've already done the thinking
[19:09:37] <strcat> there are things like https://github.com/thestinger/rust-core/issues/1 I want to do
[19:09:50] <eddyb> the only flexible way is to use a macro that drops a static allocator into place
[19:10:35] <strcat> isn't that similar to defining malloc/free yourself?
[19:10:42] <eddyb> strcat: you can do that with the Allocator trait, if you add realloc and realloc_in_place (returns bool), with default implementations
[19:11:06] <strcat> the C API is malloc, calloc, aligned_alloc, realloc, free
[19:11:21] <strcat> jemalloc's API is more useful, and those can be implemented in terms of it
[19:11:47] <eddyb> strcat: if you were lazy, all you'd have to do is !use_allocator(my_static_allocator, LinearStaticHeap!(4*1024*1024));
[19:12:18] <eddyb> the Allocator trait would allow you custom behavior for certain things
[19:12:44] <strcat> so the useful thing the jemalloc API does is that the malloc/realloc equivalents tell you the real amount of space it allocated
[19:13:05] <strcat> so a vector implementation could set the capacity to the real allocation size the allocator made
[19:13:19] *** Joins: tjc (tjc@8B72BF20.2A034839.284344F5.IP)
[19:13:19] *** ChanServ sets mode: +o tjc
[19:15:14] <eddyb> strcat: alloc_get_size(size : uint) -> (uint, uint) {(alloc(size), size)}
[19:15:34] <eddyb> you get the dumb behavior if you don't implement the fancy method
[19:16:24] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[19:16:24] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/cfM0XQ
[19:16:24] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[19:21:35] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[19:21:35] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/nwSD3g
[19:21:35] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[19:21:36] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[19:21:36] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/wRaoFw
[19:21:36] <ghrust> 13rust/06auto 14061e309 15Alex Crichton: Use __morestack to detect stack overflow...
[19:21:36] <ghrust> 13rust/06auto 144631300 15bors: auto merge of #9834 : alexcrichton/rust/morestack, r=brson...
[19:21:36] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[19:22:42] <strcat> eddyb: afaik malloc_usable_size is going to be much slower with jemalloc
[19:22:50] <strcat> because it's going to have to find the allocation again
[19:27:23] *** Quits: tjc (tjc@8B72BF20.2A034839.284344F5.IP) (Quit: zzzzzzzzzz)
[19:30:01] <eddyb> strcat: well, yeah, but I thought you meant malloc_*with*_usable_size (which should be quite fast)
[19:30:14] <strcat> yeah
[19:30:48] <eddyb> strcat: hehe, SlamAllocator should be O(1) for malloc_usable_size
[19:31:36] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[19:31:36] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 144631300 to 14d773a02: 02http://git.io/N3iJvQ
[19:31:36] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[19:31:41] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[19:31:41] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/Ls8SZQ
[19:31:41] <ghrust> 13rust/06auto 146582475 15Eduard Burtescu: Handle inline asm outputs as write-only in liveness, borrowck and trans.
[19:31:41] <ghrust> 13rust/06auto 14e7bfcc3 15bors: auto merge of #9850 : eddyb/rust/inline-asm-constraints, r=alexcrichton...
[19:31:41] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[19:32:02] <eddyb> acrichto: awesome :D
[19:32:31] <strcat> rust-core is unable to define macros because #[feature(macros)] only works at crate level, not module level
[19:32:38] <strcat> so yeah.
[19:32:50] <eddyb> strcat: I include the top module directly
[19:33:00] <strcat> yeah but rust-core can't enable macros
[19:33:11] <eddyb> aaah, lol
[19:33:42] <eddyb> well, they'll have to enable macros to use the allocator (can the feature be checked?)
[19:33:54] <strcat> no, can't be checked
[19:34:00] <strcat> I'll wait until the feature thing works at module level
[19:34:09] <strcat> assuming it can
[19:34:28] <eddyb> malloc_with_usable_size is (1 << ((*((ptr - size_of::<UsedNode>()) as *UsedNode).cache - &caches[0]) / size_of::<Cache>())) - size_of::<UsedNode>()
[19:34:37] <strcat> I'll probably remove the intrinsics module, makes more sense to spread them out where they semantically belong
[19:35:39] <nmatsakis> strcat: that's how it used to be, and it was ... annoying
[19:35:47] <strcat> nmatsakis: in rust-core, I mean
[19:36:08] <nmatsakis> oh
[19:37:21] <brson> i prefer both intrinsics and lang items to be collected and documented in one place, where practical
[19:37:50] <brson> makes it easy to figure out what the interface to the compiler is
[19:41:01] <eddyb> gtg, good night, and thanks for all the fish fun!
[19:41:45] *** Quits: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP) (Quit: Konversation terminated!)
[19:41:55] *** Joins: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP)
[19:43:55] *** Quits: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP) (Ping timeout)
[19:46:29] <strcat> brson: yeah, it's easier to maintain, but exposes compiler details (I don't really want to do the unstable mod thing)
[19:51:58] *** Joins: tjc (tjc@4DAA5A80.2D024FDB.284344F5.IP)
[19:51:58] *** ChanServ sets mode: +o tjc
[19:54:19] <brson> strcat: I expect the unstable mod will dismantled with the stability attributes
[20:01:29] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[20:01:29] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14e7bfcc3 to 14d773a02: 02http://git.io/N3iJvQ
[20:01:29] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[20:01:31] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[20:01:31] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/B6e1gg
[20:01:31] <ghrust> 13rust/06auto 14759151f 15Daniel Micay: fix immediate rvalues...
[20:01:31] <ghrust> 13rust/06auto 14c00af67 15bors: auto merge of #9902 : thestinger/rust/immediate, r=nikomatsakis...
[20:01:31] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[20:27:06] *** lbergstrom|meeting is now known as lbergstrom
[20:27:43] *** lbergstrom is now known as help
[20:28:06] *** help is now known as lbergstrom
[20:30:59] *** Quits: tjc (tjc@4DAA5A80.2D024FDB.284344F5.IP) (Quit: Places to go, people to annoy)
[20:46:28] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[20:46:28] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/rOe_yw
[20:46:28] <ghrust> 13rust/06auto 14d874606 15Alex Crichton: Use __morestack to detect stack overflow...
[20:46:28] <ghrust> 13rust/06auto 142de72ff 15bors: auto merge of #9834 : alexcrichton/rust/morestack, r=brson...
[20:46:29] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[20:50:05] <acrichto> dbaupp: how attached are you to the fileinput module?
[20:56:24] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[20:56:24] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 142de72ff to 14d773a02: 02http://git.io/N3iJvQ
[20:56:24] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[20:56:26] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[20:56:26] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/rHpoYg
[20:56:26] <ghrust> 13rust/06auto 1434ae5d7 15Daniel Micay: partially fix immediate rvalues...
[20:56:26] <ghrust> 13rust/06auto 143fd0e3a 15bors: auto merge of #9902 : thestinger/rust/immediate, r=nikomatsakis...
[20:56:27] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[21:14:09] *** Quits: pnkfelix (pnkfelix@moz-B65AF445.hfc.comcastbusiness.net) (Quit: Leaving.)
[21:21:11] *** Joins: tjc (tjc@AC76BDFB.870F2FA5.2370DFC3.IP)
[21:21:11] *** ChanServ sets mode: +o tjc
[21:21:20] *** Quits: tjc (tjc@AC76BDFB.870F2FA5.2370DFC3.IP) (Client exited)
[21:27:08] *** Quits: pauls (pauls@9205DEB4.9B5854D0.10894A1E.IP) (Ping timeout)
[21:32:43] *** Joins: tjc (tjc@moz-6C584174.ipnetworksinc.net)
[21:32:43] *** ChanServ sets mode: +o tjc
[21:32:49] *** Quits: tjc (tjc@moz-6C584174.ipnetworksinc.net) (Client exited)
[21:50:55] *** Joins: geoffhill (geoffhill@moz-79C8D45C.amazon.com)
[21:53:55] *** Joins: tjc (tjc@AC76BDFB.870F2FA5.2370DFC3.IP)
[21:53:56] *** ChanServ sets mode: +o tjc
[21:54:03] *** Quits: tjc (tjc@AC76BDFB.870F2FA5.2370DFC3.IP) (Client exited)
[22:01:28] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[22:01:28] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/rHpoYg
[22:01:28] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[22:02:15] <strcat> jack: it landed
[22:03:03] <acrichto> I do not understand, https://gist.github.com/alexcrichton/7033025 will cause rustc to segfault while building
[22:03:14] <acrichto> and __morestack is never called
[22:06:22] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[22:06:22] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/fNbbeg
[22:06:22] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[22:06:31] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[22:06:31] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/4ODDZw
[22:06:31] <ghrust> 13rust/06auto 143a0660c 15LeÌo Testard: Fix ICE when casting on constant expressions. Closes #9867
[22:06:31] <ghrust> 13rust/06auto 1474edbb2 15LeÌo Testard: Remove rusti target in Makefile.in (Fixes compilation failure due to rusti's removal)
[22:06:31] <ghrust> 13rust/06auto 14b787850 15bors: auto merge of #9909 : LeoTestard/rust/master, r=thestinger...
[22:06:33] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[22:25:12] *** lbergstrom is now known as lbergstrom|dinner
[22:33:45] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[22:41:15] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[22:46:48] *** lbergstrom|dinner is now known as lbergstrom
[23:02:36] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[23:06:17] *** Joins: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[23:07:44] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[23:16:43] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[23:20:34] *** Joins: andrew-d_w (andrew-d_w@3D890366.5FA265D1.30850A2D.IP)
[23:51:21] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[23:51:22] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14b787850 to 143fd0e3a: 02http://git.io/N3iJvQ
[23:51:22] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[23:51:24] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[23:51:24] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/qZZwrw
[23:51:24] <ghrust> 13rust/06auto 1428a6498 15Daniel Micay: rm rusti from `Makefile.in`
[23:51:24] <ghrust> 13rust/06auto 14532ab94 15bors: auto merge of #9915 : thestinger/rust/rusti, r=thestinger
[23:51:24] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
