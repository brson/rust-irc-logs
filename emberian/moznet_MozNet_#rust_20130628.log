[00:00:58] *** Quits: roo (jesse.rudo@moz-5635E54C.ip.windstream.net) (Ping timeout)
[00:02:00] <cmr> jclements: well that was an adventure. I set out to remove @mut ~[] from codemap, did that, fixed about 8/9 of the code that broke with that, gave up, and reverted it all. On the other hand, I have various misc cleanups :p
[00:02:04] *** Joins: roo (jesse.rudo@moz-E39F613E.dynamic.ip.windstream.net)
[00:02:19] <strcat> meh
[00:02:25] <strcat> I can't be bothered to say "borrowed pointer"
[00:02:30] <jclements> cmr: yes. I have done that too. About three times. Painful, isn't it?
[00:02:35] <cmr> jclements: yeah it is :(
[00:02:36] * strcat wishes we just called them references
[00:02:49] <cmr> jclements: the dependencies between everything in libsyntax is... nonobvious
[00:02:59] * aatch needs to attack fn_ctxt in trans...
[00:03:01] <MaikKlein> with a hashmap in rust I can express  A -> [B,C,D] right?
[00:03:10] <cmr> aatch: Blei was doing that all day
[00:03:10] <strcat> MaikKlein: yes
[00:03:12] <cmr> he also gave up
[00:03:25] <strcat> HashMap<K, ~[K]>
[00:03:44] <aatch> cmr, yeah... I've tried a couple times. Though I'd probably roll it up into better handling of functions in general.
[00:04:20] <strcat> or TreeMap if you want the keys ordered
[00:04:33] <cmr> My understanding of the rust codebase right now is that @ has allowed everything to implicitly depend on everything else. There's no clear heirarchy, everything is shared between everything else.
[00:04:44] <cmr> I think it's going to take major, invasive efforts to clean it up.
[00:04:46] <aatch> cmr, sounds about right.
[00:05:23] <aatch> cmr, I know. trans is especially bad for it because it also has the implicitly copyable {Value,Type}Refs everywhere.
[00:05:40] <aatch> so it's impossibly to know what is relying on what, where.
[00:05:47] <cmr> graydon: perhaps a large chunk of this next release cycle should focus on cleanup, rather than features?
[00:05:56] <aatch> I would like that.
[00:06:15] <graydon> I am not the person you have to convince about this
[00:06:51] *** Joins: dylukes (dylukes@moz-D570BF90.hsd1.pa.comcast.net)
[00:06:56] <jclements> cmr: one difference between us: I don't necessarily regard the widespread use of @ as a problem; it's a design decision, and one that allows you to implement some pieces of code a lot more quickly.  Is it the best long-term strategy? Maybe I'm not the best judge of that.
[00:06:59] <graydon> I don't mean to be too blunt about it, but .. we've had a bit of a struggle for the past couple releases, whether to push on "finishing the language" or "making codegen good"
[00:07:37] <aatch> graydon, the issue is that they aren't mutually exclusive goals.
[00:07:39] <graydon> we've wound up focusing on "finishing the language" but I have been on the other side of that discussion :)
[00:07:51] *** Quits: dylukes (dylukes@moz-D570BF90.hsd1.pa.comcast.net) (Quit: Computer has gone to sleep.)
[00:08:01] <SiegeLord> tcc being a fast compiler doesn't fix C's issues :P
[00:08:01] <graydon> aatch: they are somewhat. we had a lot of obsolete stuff to clean out, a lot of feature work to finish.
[00:08:40] <sp3d> SiegeLord: and tcc is slower when it's been compiled by itself ;)
[00:08:42] <graydon> I do not think we made the _wrong_ decision, but I'd be perfectly happy to spend a whole release cycle on performance and cleanup
[00:08:50] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[00:09:25] <strcat> and for loops ;p
[00:09:36] *** Joins: lmandel (lmandel@556E85CD.E855F8D7.412CF160.IP)
[00:09:51] <strcat> removing features is a good use of time
[00:09:51] <aatch> graydon, but the poor code is a significant obstacle to making other changes. There are bugs that I know the root cause of, but can't fix because I have no idea how.
[00:10:01] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[00:10:02] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/nOtXVg
[00:10:02] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[00:10:11] <strcat> yay
[00:10:19] <strcat> str/vec are going to be so much saner for 0.7 :)
[00:10:26] <graydon> aatch: yes. this has been my argument: that speed issues were a sufficient gate / drain on doing feature work
[00:10:35] <graydon> but anyway, that's past. I don't want to dwell on it.
[00:10:38] <strcat> graydon: well and correctness issues
[00:10:44] <graydon> just saying: "I don't need to be argued this point"
[00:11:08] <cmr> jclements: it's a code smell I think. it might be my inexperience, but so far from what I've seen, code that has a clear concept of ownership and boundaries between components is cleaner and easier to reason about
[00:11:13] *** Quits: lmandel (lmandel@556E85CD.E855F8D7.412CF160.IP) (Quit: lmandel)
[00:11:18] <aatch> I'm getting tired of having to go "Ok, this is the problem, niko, patrick, can you help?"
[00:11:56] <cmr> jclements: also @ is like a poison: once you start using it, you can't opt out of it. I started this clenaup beacuse in rewriting rustdoc I was having to resort to either using @ in everything that touches syntax (ie, almost everything), or copying constantly.
[00:12:43] <strcat> well if you design with clear ownership in mind you get static mutability control and fast code
[00:12:53] <strcat> it's hard to change from @ to &
[00:12:58] <graydon> we didn't have a working &-system when we did most of the compiler
[00:12:58] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[00:12:58] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/tNUGJA
[00:12:58] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[00:13:01] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[00:13:02] <ghrust> 01[13rust01] 15bors pushed 19 new commits to 06auto: 02http://git.io/L_9fmw
[00:13:02] <ghrust> 13rust/06auto 14cf9ca95 15Patrick Walton: librustc: Rename Owned to Send in the compiler
[00:13:02] <ghrust> 13rust/06auto 14dda2b7b 15Patrick Walton: librustc: Change Const to Freeze in the compiler
[00:13:02] <ghrust> 13rust/06auto 144ca4904 15Patrick Walton: librustc: Rename Const to Freeze
[00:13:02] <cmr> right
[00:13:04] <cmr> or trait
[00:13:04] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[00:13:06] <cmr> s
[00:13:08] <graydon> yeah
[00:13:09] <cmr> or lots of things
[00:13:14] <strcat> traits still don't really work
[00:13:18] <graydon> we're just .. bringing rustc into the modern age
[00:13:25] <strcat> just look at all the problems Iterator reveals ;p
[00:13:35] <cmr> I was looking through brson's archae thing and a bunch of old things, and the language has almost completely changed from what I can see
[00:13:38] <strcat> sully got default methods working well though :)
[00:13:43] <graydon> strcat: traits don't work? .. we use them quite a bit!
[00:13:47] <jclements> cmr: I think I would agree with you about boundaries, but not so much necessarily about ownership.  With that said, there are definite spaghetti-dependencies in syntax. It's certainly true that @ tends to spread. When I started, five months ago, I let myself get caught up in a huge number of cleanup issues; very distracting.
[00:13:56] <strcat> graydon: we use them to work around primitives not being defined in libstd
[00:14:05] <strcat> there are many genuine uses of traits
[00:14:11] <cmr> jclements: yeah, but I have no features I want, besides a cleaner interface :P
[00:14:18] <aatch> Which is why I described most of the issues as technical debt, rather than poor code in and of itself.
[00:14:23] <jclements> cmr: fair enough.
[00:14:50] *** Quits: cowboyd (cowboyd@moz-1BD02A1E.sw.biz.rr.com) (Client exited)
[00:14:57] <strcat> graydon: aren't many*
[00:15:01] <cmr> graydon: almost every time I try to write robust, generic traits, I run into ICEs and limitations.
[00:15:04] <strcat> graydon: other than the simple ones like Eq and Ord
[00:15:16] <cmr> I'm frankly amazed the iterator stuff works :p
[00:15:37] <strcat> type parameters to traits don't have bounds checked, and type inference doesn't work on them
[00:15:43] *** Parts: ecr (ereed@2557E599.66715431.D25A875A.IP) ()
[00:15:54] <aatch> strcat, that one is incredibly frustrating.
[00:16:08] <MaikKlein> rusti: let h =std::hashmap::HashMap<int, ~[~str]>;
[00:16:10] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/hWJI
[00:16:27] *** Joins: dylukes (dylukes@moz-D570BF90.hsd1.pa.comcast.net)
[00:16:38] <cmr> MaikKlein: that's a weird bug. you want HashMap::<...> though
[00:16:41] *** Quits: dylukes (dylukes@moz-D570BF90.hsd1.pa.comcast.net) (Quit: Computer has gone to sleep.)
[00:16:48] <strcat> not a bug
[00:16:53] *** Joins: reyre_ (reyre@moz-9002CDDA.cpe.net.cable.rogers.com)
[00:17:03] <cmr> not a bug?
[00:17:11] <cmr> that looks like it's incorrectly parsing to me
[00:17:18] <aatch> Nope, just a bad error message.
[00:17:19] <strcat> let a = TypeName<A, B>; // not valid syntax
[00:17:35] <strcat> if it was more clever it could maybe give a better error message
[00:17:45] *** Quits: roo (jesse.rudo@moz-E39F613E.dynamic.ip.windstream.net) (Ping timeout)
[00:17:46] *** Parts: wuwei (wuwei@1A513F49.818D7924.FAA9ED67.IP) (Leaving)
[00:17:48] <cmr> Oh it's seeing a comparison and a random >
[00:17:53] <strcat> but syntax error messages are heavily based on tuning for common errors
[00:18:05] <strcat> like what clang does with missing semicolons
[00:18:11] <MaikKlein> rusti: let h =std::hashmap::HashMap::<int, ~[~str]>;
[00:18:11] -rusti- <anon>:9:16: 9:53 error: unresolved name `std::hashmap::HashMap`.
[00:18:12] -rusti- <anon>:9          let h =std::hashmap::HashMap::<int, ~[~str]>;
[00:18:12] -rusti-                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[00:18:12] -rusti- error: aborting due to previous error
[00:18:12] -rusti- application terminated with error code 101
[00:18:32] <strcat> MaikKlein: need to call the constructor function (new)
[00:18:44] <cmr> right, that's just the type.
[00:18:50] <cmr> and usually inference works
[00:18:55] <cmr> so you just need HashMap::new()
[00:19:20] <graydon> strcat: ok. I'm sorry, I can't do much about that in the short term as I don't really understand the code there; I think it's a stretch to say traits don't work at all though. encode/decode, sorting, randomness, containers, hashing..
[00:19:39] <strcat> graydon: well, defining them works :)
[00:19:50] <strcat> graydon: it falls apart when you start to write generic code using them
[00:19:51] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[00:19:58] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[00:20:02] <strcat> it's getting better quickly
[00:20:15] <strcat> but they were really not usable when I started using rust at 0.4
[00:20:15] <cmr> afaik niko has a branch that fixes a lot of the issues
[00:20:24] <graydon> strcat: I know you're frustrated. I am too. I guess I'm just ... seeing this in the perspective of years and years of work, it feels like we're down to a small-ish set of bugs, not a completely unbounded design problem
[00:20:58] <strcat> graydon: it's just frustrating because it's so close to being awesome
[00:21:05] <strcat> but because of a few little bugs, I can't do a lot of things
[00:21:21] <aatch> graydon, I think I'm more frustrated now we're down to a small set of bugs. I have enough perspective to understand how far it's come.
[00:21:41] <graydon> it will get there
[00:22:18] <aatch> It's like christmas eve though and you're just too exited because "It's Tomorrow! Why can't tomorrow be here faster!"
[00:22:31] <strcat> graydon: it's my fault for staying on the bleeding edge of what we can represent ;p
[00:22:33] <graydon> yeah
[00:22:55] <graydon> strcat: don't blame yourself! you're doing the hard work of mapping out the territory of what works and what doesn't
[00:22:59] <MaikKlein> am I retarded? can someone give me a simple example of a hashmap?
[00:23:07] <strcat> Iterator is the first thing using a default method ;p
[00:23:11] <strcat> it almost works for what I want
[00:23:23] *** Joins: dylukes (dylukes@moz-D570BF90.hsd1.pa.comcast.net)
[00:23:25] <strcat> lifetimes break it atm
[00:23:33] <tjc> back in my day, anonymous functions couldn't capture the environment and nested patterns didn't work
[00:23:34] <tjc> :-D
[00:23:53] <cmr> rusti: let h = std::hashmap::HashMap::new(); h.insert("foo", ~[~"bar", ~"baz"]); h
[00:23:54] -rusti- <anon>:9:47: 9:48 error: cannot borrow immutable local variable as mutable
[00:23:55] -rusti- <anon>:9          let h = std::hashmap::HashMap::new(); h.insert("foo", ~[~"bar", ~"baz"]); h
[00:23:55] -rusti-                                                         ^
[00:23:55] -rusti- error: aborting due to previous error
[00:23:55] -rusti- application terminated with error code 101
[00:23:59] <cmr> rusti: let mut h = std::hashmap::HashMap::new(); h.insert("foo", ~[~"bar", ~"baz"]); h
[00:23:59] *** Joins: cowboyd (cowboyd@moz-1BD02A1E.sw.biz.rr.com)
[00:23:59] <strcat> well rust has come a long way even since I started using it
[00:24:01] -rusti- line longer than 150 columns, pastebinned: http://sprunge.us/UTSH
[00:24:05] <cmr> heh
[00:24:05] <aatch> tjc, stop waving your walking stick, you'll hurt yourself.
[00:24:18] <strcat> std::iterator wasn't possible before this cycle at *all*.
[00:24:22] <tjc> if I had a lawn, I'd suggest that you kids get off it
[00:24:27] * strcat was so happy when niko fixed self parameter regions
[00:24:29] <cmr> MaikKlein: don't be so hard on yourself
[00:25:04] *** Joins: ghrust (ghrust@CFE85B59.6A2AE50.F3114085.IP)
[00:25:04] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 146213120 to 1463afb8c: 02http://git.io/N3iJvQ
[00:25:04] *** Parts: ghrust (ghrust@CFE85B59.6A2AE50.F3114085.IP) ()
[00:25:04] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[00:25:04] <ghrust> 01[13rust01] 15bors pushed 19 new commits to 06auto: 02http://git.io/o20etQ
[00:25:04] <ghrust> 13rust/06auto 14fda193d 15Michael Woerister: Extended test cases for struct debug information....
[00:25:04] <ghrust> 13rust/06auto 147bb189e 15Michael Woerister: Fixed debug information bug regarding struct padding.
[00:25:04] <ghrust> 13rust/06auto 1436aa04b 15Michael Woerister: debuginfo: Added test cases for tuples.
[00:25:06] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[00:25:16] <cmr> oh fie I need to rebase on top of that
[00:25:20] <MaikKlein> rusti: let h  = std::hashmap::HashMap<int,int>::new();
[00:25:21] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/aKhW
[00:25:40] <brson> jclements: are there any changes to macros that need to be communicated for 0.7?
[00:26:00] <cmr> jdm: are the chances good of that landing?
[00:26:16] <jdm> cmr: of what landing?
[00:26:22] <cmr> jdm: mw's debuginfo pull
[00:26:33] <jdm> cmr: what chances are we talking about, exactly?
[00:26:45] <graydon> brson: https://github.com/mozilla/rust/pull/7442 r?
[00:26:54] <graydon> (that's the clean-llvm trigger)
[00:26:54] *** Quits: echristo (echristo@D423593A.D6CCE4AE.77834EAA.IP) (Ping timeout)
[00:26:59] <brson> should we talk about debuginfo in the relnotes are is it sill not recommended?
[00:27:00] <Eridius> brson: if I change the throw type to an int, don't I have change to catch too? There's an explicit `catch` in the same file, but does anything have to change with the llvm landing pads? or is that catch really the only place?
[00:27:15] <brson> Eridius: just the throw and catch. the landing pads don't care
[00:27:21] <MaikKlein> rusti: let h : std::hashmap::HashMap<int,int>  = std::hashmap::HashMap::new();
[00:27:22] -rusti- <anon>:9:13: 9:14 warning: unused variable: `h` [-W unused-variable (default)]
[00:27:22] -rusti- <anon>:9          let h : std::hashmap::HashMap<int,int>  = std::hashmap::HashMap::new();
[00:27:22] -rusti-                       ^
[00:27:23] -rusti- ()
[00:27:27] <graydon> brson: I would mention that debug info has actually come back to life, some
[00:27:27] <MaikKlein> ah there we go
[00:27:32] <cmr> jdm: well the code I'm working needs to be rebased on top of his debuginfo patches, wondering if I would be fine to do that now and go to bed, or if it's better to hold off on it
[00:27:39] <engla> MaikKlein: the type parameters must be the last thing before ()
[00:27:43] <graydon> 0.6 it was completely broken, right?
[00:27:46] <strcat> MaikKlein: you don't need to explicitly state the type once you have an expression inserting something into it
[00:27:48] *** Joins: roo (jesse.rudo@moz-C5C303F7.dynamic.ip.windstream.net)
[00:27:56] <engla> MaikKlein: HashMap::new::<int, int>() for example
[00:28:08] <MaikKlein> engla, oh 
[00:28:10] <jdm> cmr: so I threw an r+ at it a while ago; I'm assuming that bors will do its thing
[00:28:16] <aatch> engla, normally that'
[00:28:19] <aatch> s not needed
[00:28:22] <Eridius> brson: hrm, I'm skeptical at this point that the exported nature of the symbol makes even the slightest difference
[00:28:28] <engla> it depends
[00:28:30] <strcat> jdm: can check at http://buildbot.rust-lang.org/bors/bors.html
[00:28:34] <Eridius> right now I'm attempting a full compile with the -exported_symbols_list flag removed from rustrt
[00:28:35] <jdm> in fact, is doing its thing right now
[00:28:41] <jdm> cmr: rebasing sounds reasonable to me
[00:28:47] <Eridius> brson: if this fails I'll try throwing an int and seeing what happens
[00:29:11] <Eridius> there is a chance that 10.9's libc++abi actually has a bug in it, which is why I'd prefer to figure out what's wrong with throwing rust_task*, but it would be useful to know if throwing something else makes a difference
[00:29:11] <jclements> brson: 0.7 goes out at the end of this week, right? In that case, no.
[00:29:39] <engla> MaikKlein: go ahead and listen to aatch; maybe only add type paramters if the compiler can't infer the types
[00:29:55] <engla> which it normally can if you use or return the object
[00:30:14] <engla> maybe I should say *value, not object for Rust.. don't know.
[00:30:18] <aatch> pcwalton, your re-write thing bounced because of a lingering +=
[00:30:24] <MaikKlein> ok
[00:30:40] <sully> oh, what is the status of 0.7
[00:30:55] <sully> I suppose maybe I should be hurrying to get default methods fixes in
[00:31:13] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[00:31:20] <doener> *sigh* I'm going back and forth between double free and memory leak
[00:32:37] <aatch> sully, that would be great.
[00:32:53] <aatch> Don't worry about fixing it all at once (in fact, it's better if you don't)
[00:33:28] <sully> there are a bunch of default method related things where I haven't even started mapping out how broken they are, though
[00:33:31] <sully> default static methods
[00:33:43] <sully> and the interaction between default methods and supertraits
[00:34:34] <aatch> sully, yeah, but they are broken now.
[00:34:45] *** Quits: jdm (jdm@moz-E4B91594.zone16.bethere.co.uk) (Quit: Lost terminal)
[00:34:49] <sully> also, woo
[00:34:52] <aatch> It doesn't matter if you fix some and not others.
[00:34:53] <sully> vtable bounds on traits working
[00:35:15] <sully> (not cross crate)
[00:35:49] <brson> tjc: is the rustpkg manual being uploaded to the website and are there any links to it?
[00:36:25] <bblum> wow brson you're going to be unhappy about this
[00:36:26] <sully> but you can put a vtable bound on a trait
[00:36:34] <sully> and default methods can use the vtable bound
[00:36:50] <cmr> sully: what is a vtable bound?
[00:36:52] <aatch> sully, explain?
[00:36:56] <cmr> this is the first I have heard of them
[00:36:57] <sully> er
[00:36:58] <sully> a param bound
[00:37:08] <sully> like, a bounded type parameter
[00:37:24] <tjc> brson: I'm not sure, and, no
[00:37:45] <tjc> brson: I should be able to edit the web site, though, I'll see if I can add it
[00:38:07] <cmr> tjc: while you're at it mind fixing https://github.com/mozilla/rust/issues/4558 ?
[00:38:09] <bblum> brson: the double-free is from "tombstones.pop().release(true);" -- https://github.com/mozilla/rust/issues/4355
[00:38:15] <brson> tjc: a linke from https://github.com/mozilla/rust/wiki/Docs would be good
[00:38:19] <cmr> hah you commented on it yesterday
[00:38:26] <aatch> sully, what's the status of default method's interaction with the Self type?
[00:38:28] <bblum> if you write "let x = tombstones.pop(); x.release(true);" it appears to work
[00:38:37] <cmr> that is fortituous
[00:38:39] <tjc> cmr: I don't think I have access to, but I'll ask graydon
[00:38:50] <sully> aatch: I believe that using the self type works, on master
[00:39:19] <aatch> sully, I hit an ICE trying to call a default method from an overridden method.
[00:39:34] <sully> aatch: ugh, really?
[00:39:42] <sully> aatch: could you give me a test case?
[00:39:43] <aatch> Unless that was fixed since yesterday (which It might be)
[00:39:50] <aatch> sully, sure, gimme a minute
[00:40:10] <aatch> I was all over the place yesterday, so when things stopped working I just threw a hissy fit.
[00:40:14] <jclements> hey! finally got enough hygiene working that I'm successfully preventing some macros from working correctly! \o/
[00:40:40] <tjc> :-D
[00:40:53] <jclements> now I need to design a capturing mechanism‚Ä¶. :)
[00:40:54] <tjc> I love it when I can say that my job is to make sure programs don't compile
[00:41:02] <brson> bblum: wow! nice find. I poked at that for a long time
[00:41:11] *** Joins: herro (nobody@moz-688E4107.fw1.la.vclk.net)
[00:41:32] <jclements> though it is a bit of a shame that it's quote_expr! that I've successfully blocked.
[00:41:55] *** Quits: herro (nobody@moz-688E4107.fw1.la.vclk.net) (Client exited)
[00:42:32] <bblum> brson: found it through printf debugging binary search
[00:42:55] <bblum> i was like "ok, so the function appears to be returning fine, but the next message after the .release is not printed... maybe if i unchain the method calls..."
[00:43:10] <bblum> i believe this is not the only bug
[00:43:43] *** Quits: jclements (jclements@43CB6079.66715431.D25A875A.IP) (Quit: jclements)
[00:44:17] <cmr> bblum: that sounds *really* bad
[00:44:27] <cmr> bblum: any idea what the root cause is yet?
[00:44:47] <bblum> cmr: yes, https://github.com/mozilla/rust/issues/4355
[00:44:50] <bblum> very easy to reproduce
[00:45:05] <bblum> this is not the only bug though; i appear to still have runtime aborts
[00:46:37] <doener> bblum: if I figure out where I introduced a new double free, I have a fix for 4355
[00:46:47] *** Quits: MaikKlein (maik@moz-DB448B31.dip0.t-ipconnect.de) (Ping timeout)
[00:46:52] <bblum> doener: where you... introduced?
[00:47:03] <doener> bblum: in the PR I'm working on
[00:47:21] <bblum> oh good
[00:51:29] <bblum> ok, all the join_latch tests appear to pass but there is still something wrong
[00:54:19] <bblum> "Then rose spires and monoliths that were weedy but not remembered; terrible spires and monoliths of lands that men neverknew were lands...[New Thread 0x7fffdfdfd700 (LWP 26131)]"
[00:54:55] <cmr> What is that a quote of?
[00:55:07] <bblum> my GDB output, obviously
[00:55:14] <cmr> well the poetry :P
[00:55:25] *** Quits: timot (timot@moz-A46256EB.cust.telenor.se) (Ping timeout)
[00:55:25] <cmr> looks lovecraftian
[00:55:34] <bblum> it is hp lovecraft
[00:55:42] <cmr> bam nailed it
[00:55:50] <engla> bblum: I've found a crash when moving values into ~fn closures. The bug is probably that the compiler allows it, testcase https://gist.github.com/anonymous/fecb6e2d72f2009f67c0
[00:56:48] *** Quits: roo (jesse.rudo@moz-C5C303F7.dynamic.ip.windstream.net) (Ping timeout)
[00:56:49] <engla> using version f1e09d6
[00:57:34] <aatch> sully, ok, I have a test case that's pretty small, trying to reduce it a little more.
[00:57:47] <aatch> sully, in your defense, it's a pretty fragile bug.
[00:58:40] <sully> ok
[00:58:51] <sully> link what you have so far
[00:58:57] <strcat> brson: https://github.com/mozilla/rust/pull/7438 r? the container part isn't great yet, but the iterator stuff has some nice examples
[00:58:57] <sully> I might recognize what the problem is
[00:59:01] <bblum> engla: hmm, looks lke a bug in moves
[00:59:20] <engla> bblum: it shouldn't allow moving the t variable into both closures
[00:59:37] <aatch> sully, https://gist.github.com/Aatch/5881675
[01:00:27] <sully> does it ICE if there is no default implementation of visit_item?
[01:01:00] <aatch> sully, yes
[01:01:36] <aatch> oh, wait.
[01:01:42] <aatch> Sorry, wrong way round
[01:02:05] <aatch> but still yes
[01:02:31] *** Quits: carllerche (carllerche@moz-BF6CB667.hsd1.ca.comcast.net) (Quit: carllerche)
[01:02:38] <cmr> strcat: nice! every language needs a /dev/null example
[01:02:49] <cmr> wait that's /dev/zero
[01:02:52] <cmr> still
[01:02:59] <bblum> engla: that is much apparent
[01:03:05] <sully> aatch: ok, so, that example works for me
[01:03:12] <aatch> My investigation led me to think that the Self type isn't being substituted somewhere.
[01:03:22] <sully> so I guess I fixed that bug.
[01:03:27] <aatch> sully, oh, and that was built from a pull this morning.
[01:03:40] <sully> well, and not pushed the fix yet
[01:03:47] <aatch> sully, this is what I mean by pushing your fixes sooner :P
[01:04:04] <sully> although maybe I have...
[01:04:09] <bblum> engla: snapshot compiler seems busted; i don't think my closure env checking changes are in the snapshot compiler
[01:04:12] *** Quits: heftig (heftig@moz-CD61A97C.dip0.t-ipconnect.de) (Ping timeout)
[01:04:12] <bblum> so
[01:04:29] <engla> bblum: I'm not very clear on how captures work and how many types of closures there really is so I'm just happy I could make a testcase
[01:04:58] <sully> ok, I guess this must be a dupe of bug #7341, then?
[01:05:20] <bblum> engla: hmm, please file it
[01:05:30] <bblum> i'm honestly quite surprised that the compiler accepts that
[01:05:31] <engla> ok
[01:05:47] <bblum> it's certainly the combination of clone and capture
[01:05:49] <bblum> not just capture
[01:06:24] <bblum> brson: ok, so with this fix all the join latch tests work, but all the sched tests that use run_in_bare_thread fail on join latch's "assertion failed: this.parent.is_some()"
[01:06:43] <bblum> i think i'm gonna call it a day though and we should talk properly about linked failure tomorrow
[01:06:57] <engla> bblum: I can reproduce it without clone, just dereference
[01:07:06] <bblum> engla: ok, please file and assign to me
[01:07:25] *** Quits: maxli (maxli@F2D29657.F60B0462.67AC9B1.IP) (Quit: Leaving.)
[01:07:46] <bblum> boy the runtime sure likes telling me about how the ocean ate the last of the land and poured into the smoking gulf
[01:08:13] <sully> aatch: I have been trying to batch up patches to keep the bors queue length down
[01:08:28] *** Quits: bnicholson (bnicholson@moz-BE33DA21.fw1.sfo1.mozilla.net) (Ping timeout)
[01:08:28] *** Quits: mschifer (Adium@2557E599.66715431.D25A875A.IP) (Quit: Leaving.)
[01:08:42] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[01:08:48] *** Joins: bnicholson (bnicholson@moz-BE33DA21.fw1.sfo1.mozilla.net)
[01:08:55] <aatch> sully, that's fine, but remember to balance that with the fact that larger patches are harder to land.
[01:09:07] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[01:09:27] *** Quits: brendan (brendaneic@2557E599.66715431.D25A875A.IP) (Quit: brendan)
[01:09:36] <aatch> especially something like default methods that touch large swaths of the codebase
[01:09:45] <sully> ... apparently my 7341 fix /isn't/ what fixed that bug
[01:09:49] <strcat> cmr: heh, already have to amend it ;p
[01:10:24] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[01:10:38] *** Quits: seth (seth@2557E599.66715431.D25A875A.IP) (Input/output error)
[01:11:14] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[01:13:33] <strcat> hm
[01:13:42] <strcat> I wonder why the toc depth isn't 3 like it's supposed to be
[01:13:54] <strcat> will worry about that later
[01:14:10] <brson> strcat: probably hidden by the stylesheet
[01:14:31] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[01:14:31] *** Quits: bnicholson (bnicholson@moz-BE33DA21.fw1.sfo1.mozilla.net) (Ping timeout)
[01:14:38] <cmr> pcwalton: you might have to rebase your each-path/reachability stuff on top of the current debuginfo stuff
[01:14:54] <sully> aatch: ah, I figured out what was going wrong
[01:15:05] <aatch> sully, ok?
[01:15:05] <sully> maybe.
[01:15:09] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[01:15:15] <strcat> and the vec changes probably broke everything againb
[01:15:18] <strcat> ;p
[01:15:32] <sully> one default method called another
[01:15:42] <sully> but when compiling the second, it lost track of which impl it was in
[01:16:01] <aatch> sully, ok, is this a trans problem?
[01:16:52] <sully> yeah
[01:17:07] *** Joins: rubber-duck (rubber-duc@moz-70AB535C.dsl.iskon.hr)
[01:17:12] <sully> and I changed around how some of this trans stuff works
[01:17:17] <sully> that causes this test to pass
[01:17:23] <sully> although I'm still losing track of the impl_id...
[01:17:26] <aatch> sully, ah, ok. I'm just trying to get a feel for what kinds of errors are caused by what section.
[01:18:18] <cmr> http://rustlog.octayn.net/post/54060262959/status-update, g'night
[01:18:29] <sully> hm.....
[01:19:52] <tikue> why can't you cast in a match pattern?
[01:21:10] <aatch> tikue, because casting isn't a pattern? 
[01:21:30] <aatch> Same reason why you can't do multiplication in a match pattern.
[01:21:51] <graydon> cmr: sorry for the frustration :(
[01:21:54] <engla> bblum: reported, but I don't think I can assign. I've mentioned you.
[01:24:21] <tikue> aatch: are you not sure if what you said is true or are you being intentionally derisive? : \
[01:25:04] <aatch> tikue, I'm explaining why. If I'm coming across mean, it's unintentional.
[01:25:19] *** Quits: jack (jack@moz-F1B36F9F.hsd1.nm.comcast.net) (Ping timeout)
[01:25:51] <aatch> tikue, sorry, I'm doing PHP, always puts me in a bad mood :S
[01:26:27] <tikue> aatch: np. :p anyway, i'm trying to think of a better way to do something like: match 10u8 { 5 => stuff(), 'c' as u8 => char_stuff()}
[01:27:32] <aatch> tikue, hmm... maybe that's possible...
[01:27:49] <SiegeLord> Can't you do something like a if (a as u8 == 'c') => char_stuff() ?
[01:27:56] <aatch> I thought you were meaning binding with an 'as' thrown in.
[01:27:58] *** kimundi is now known as zz_kimundi
[01:28:19] <tikue> SiegeLord: yeah you can, but there will be potentially a lot of arms in this use case -- basically matching key presses
[01:28:45] <tikue> SiegeLord: sorry I misread what you wrote -- yeah you can and that's the current implementation, but it's kinda yucky
[01:28:50] <aatch> SiegeLord, yes, but it might be possible to do what tikue wrote, since we could collapse the constant expression.
[01:29:05] *** Joins: roo (jesse.rudo@moz-8FA10E17.dynamic.ip.windstream.net)
[01:29:43] <aatch> tikue, do you get a parse error or something else?
[01:29:44] <SiegeLord> tikue: Then match on a non-special number first and then match again on the number casted to a char?
[01:29:59] *** Quits: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP) (Quit: eatkinson)
[01:30:10] *** Joins: jsjin (Mibbit@moz-2F7B19D2.dynamic.tstt.net.tt)
[01:30:13] <tikue> SiegeLord: yeah, that's probably the best option right now, thanks
[01:30:15] *** Joins: heftig (heftig@moz-C12DDF6A.heftig.linuxsecured.net)
[01:30:28] <tikue> aatch: yeah, a parse error
[01:30:31] *** Quits: dylukes (dylukes@moz-D570BF90.hsd1.pa.comcast.net) (Quit: Computer has gone to sleep.)
[01:30:43] <SiegeLord> I think it's cleaner than a whole bunch of 'c' as u8's
[01:30:50] <SiegeLord> (if they worked)
[01:31:03] <tikue> SiegeLord: what if rust supported syntax like: 'c'u8 :P
[01:31:18] <tikue> I think I agree though, it's probably better to have two matches
[01:31:38] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[01:32:16] *** Quits: heftig (heftig@moz-C12DDF6A.heftig.linuxsecured.net) (Ping timeout)
[01:32:18] <tikue> SiegeLord: the only problem with that is that it'd have to go through the whole second match right?
[01:32:32] <tikue> SiegeLord: if it matched against the first
[01:32:39] *** Joins: heftig (heftig@moz-C12DDF6A.heftig.linuxsecured.net)
[01:32:45] *** Quits: jsjin (Mibbit@moz-2F7B19D2.dynamic.tstt.net.tt) (Quit: http://www.mibbit.com ajax IRC Client)
[01:33:47] <SiegeLord> I meant match a { 5 => stuff(), c => match c as u8 { 'c' => char_stuff() } }
[01:34:07] <SiegeLord> Err, c as char
[01:34:12] <SiegeLord> Or however you convert that
[01:34:15] <tikue> SiegeLord: ohhh yeah, I gotcha now
[01:34:17] <aatch> Of course, you have all your not-chars first.
[01:34:57] <tikue> right
[01:35:32] *** Quits: heftig (heftig@moz-C12DDF6A.heftig.linuxsecured.net) (Ping timeout)
[01:36:03] *** Joins: heftig (heftig@moz-C12DDF6A.heftig.linuxsecured.net)
[01:37:14] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[01:38:52] <strcat> rusti: static a: bool = 0 == 0; a
[01:38:53] -rusti- true
[01:39:48] <aatch> strcat, yep, that's why I said you should, theoretically, be able to do something like 'c' as u8 in a match.
[01:39:49] *** Quits: heftig (heftig@moz-C12DDF6A.heftig.linuxsecured.net) (Ping timeout)
[01:40:38] *** Joins: heftig (heftig@moz-C12DDF6A.heftig.linuxsecured.net)
[01:40:43] *** Quits: tjc (tjc@moz-508C89CD.lightspeed.irvnca.sbcglobal.net) (Quit: zzzzzzzzzz)
[01:41:12] *** Joins: dylukes (dylukes@moz-D570BF90.hsd1.pa.comcast.net)
[01:41:48] *** Quits: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP) (Quit: eatkinson)
[01:41:59] <Jesse> 'üê∏' as u32 as u
[01:42:07] <Jesse> rusti: 'üê∏' as u32 as u
[01:42:08] -rusti- <anon>:9:22: 9:23 error: use of undeclared type name `u`
[01:42:08] -rusti- <anon>:9          'üê∏' as u32 as u
[01:42:08] -rusti-                                ^
[01:42:08] -rusti- error: aborting due to previous error
[01:42:08] -rusti- application terminated with error code 101
[01:42:11] *** Quits: reyre_ (reyre@moz-9002CDDA.cpe.net.cable.rogers.com) (Client exited)
[01:42:17] <Jesse> rusti: 'üê∏' as u32 as u
[01:42:18] -rusti- <anon>:9:22: 9:23 error: use of undeclared type name `u`
[01:42:18] -rusti- <anon>:9          'üê∏' as u32 as u
[01:42:18] -rusti-                                ^
[01:42:18] -rusti- error: aborting due to previous error
[01:42:18] -rusti- application terminated with error code 101
[01:42:43] <Jesse> u8
[01:43:05] <Jesse> rusti: 'üê∏' as u32 as u8
[01:43:06] -rusti- 56
[01:43:12] <Jesse> rusti: 'üê∏' as u8
[01:43:13] -rusti- 56
[01:43:22] *** Quits: heftig (heftig@moz-C12DDF6A.heftig.linuxsecured.net) (Ping timeout)
[01:44:55] <aatch> rusti: 'üê∏' as u32
[01:44:57] -rusti- 128056
[01:45:15] <xenocons> http://codepad.org/TSsQTMZL muhaha
[01:46:53] <xenocons> could probably just [6u32,...] but thats not the point
[01:46:57] <xenocons> the point is: wasting time is fun
[01:48:14] <brson> acrichto: did you see https://github.com/mozilla/rust/pull/7442? that adds a hacky way to force a rebuild of llvm
[01:48:16] <xenocons> my rust program is growing! added the sha-3 candidates that are at round 2 now
[01:49:39] *** Joins: seth (seth@B62AA4E5.251B1C95.B66DD36E.IP)
[01:50:30] *** Joins: ross (ross@moz-8A84103E.br.br.cox.net)
[01:54:40] *** Quits: seth (seth@B62AA4E5.251B1C95.B66DD36E.IP) (Ping timeout)
[01:55:12] *** Quits: BitPuffin (quassel@moz-49828767.cust.tele2.se) (Ping timeout)
[01:55:57] *** Quits: pcwalton (pcwalton@2557E599.66715431.D25A875A.IP) (Quit: pcwalton)
[01:56:58] *** Quits: Earnestly (earnest@4C6AD711.44DF70CF.5411983D.IP) (Ping timeout)
[02:02:09] <engla> xenocons: fyi the sha-3 candidate has been selected (keccak)
[02:03:36] <xenocons> engla: doesnt stop people from using the ones publically available ;)
[02:03:39] *** Joins: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net)
[02:03:56] <xenocons> (i am not implementing crypto, im scanning for use of crypto)
[02:04:07] <engla> aha
[02:04:24] <Jesse> does that mean round is over?
[02:04:24] *** Joins: jack (jack@moz-F1B36F9F.hsd1.nm.comcast.net)
[02:04:31] <Jesse> round 2
[02:04:37] *** Quits: wilsonk|2 (kvirc@moz-39EFBFC2.cg.shawcable.net) (Ping timeout)
[02:05:05] <engla> if you mean a round in selecting a sha-3 candidate then yes it's over. but the standard is not finished
[02:06:45] *** Joins: seth (seth@B62AA4E5.251B1C95.B66DD36E.IP)
[02:06:46] *** Quits: dylukes (dylukes@moz-D570BF90.hsd1.pa.comcast.net) (Quit: Computer has gone to sleep.)
[02:07:35] *** Quits: KindOne (KindOne@moz-D53C683A.dynamic.ip.windstream.net) (Ping timeout)
[02:08:12] *** Quits: EXetoC (ex@moz-2DBEB1E4.customer.t3.se) (Quit: WeeChat 0.4.1)
[02:08:26] *** Quits: roo (jesse.rudo@moz-8FA10E17.dynamic.ip.windstream.net) (Ping timeout)
[02:08:29] *** Joins: sankha93 (Instantbir@A9EF28FD.56EC8A95.8B6C1D65.IP)
[02:11:44] *** Joins: KindOne (KindOne@moz-913DB376.dynamic.ip.windstream.net)
[02:12:59] *** Joins: roo (jesse.rudo@moz-56338026.dynamic.ip.windstream.net)
[02:13:05] <xenocons> http://ehash.iaik.tugraz.at/index.php/The_SHA-3_Zoo good reference
[02:13:40] <xenocons> everytime i read keccack i think of 'pebkac'
[02:13:41] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[02:15:27] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[02:15:49] <engla> keccak is very cool but it's not finished yet so no rush to add it to rust
[02:16:26] <engla> unlike sha-2 you can implement keccak efficiently with either 32-bit or 64-bit words
[02:16:52] <Jesse> the same keccak or a different keccak?
[02:17:00] <xenocons> nice
[02:18:39] <engla> the same hash function, same parameters same result
[02:21:30] *** Quits: seth (seth@B62AA4E5.251B1C95.B66DD36E.IP) (Ping timeout)
[02:24:05] *** Joins: brendan (brendaneic@moz-ACC6832C.sub-70-197-7.myvzw.com)
[02:24:33] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[02:31:02] *** Joins: ghrust (ghrust@614D05BD.6A2AE50.F3114085.IP)
[02:31:02] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/o20etQ
[02:31:02] *** Parts: ghrust (ghrust@614D05BD.6A2AE50.F3114085.IP) ()
[02:32:19] *** Quits: Sorella (queen@B12A78F5.BA14766C.95C8B7C6.IP) (Quit: (quit))
[02:33:07] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Quit: leaving)
[02:33:44] <aatch> Sweet, pcwaton's stuff doesn't conflict with the debuginfo changes (at least not at a source level)
[02:34:05] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[02:34:05] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/ShTBvw
[02:34:05] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[02:34:08] *** Joins: ghrust (ghrust@CFE85B59.6A2AE50.F3114085.IP)
[02:34:08] <ghrust> 01[13rust01] 15bors pushed 19 new commits to 06auto: 02http://git.io/Z0UxFQ
[02:34:08] <ghrust> 13rust/06auto 14cf9ca95 15Patrick Walton: librustc: Rename Owned to Send in the compiler
[02:34:08] <ghrust> 13rust/06auto 14dda2b7b 15Patrick Walton: librustc: Change Const to Freeze in the compiler
[02:34:08] <ghrust> 13rust/06auto 144ca4904 15Patrick Walton: librustc: Rename Const to Freeze
[02:34:10] *** Parts: ghrust (ghrust@CFE85B59.6A2AE50.F3114085.IP) ()
[02:38:14] <roo> what is the difference between priv and no visibility modifier?
[02:38:27] <strcat> roo: depends on where it is
[02:38:37] <strcat> I have a bug open about forbidding visibility modifiers when they're a no-op
[02:38:39] <strcat> to avoid confusion
[02:38:59] <strcat> functions, structs, methods, traits are private by default
[02:39:07] <strcat> fields in public structs are public by default
[02:39:20] <strcat> if they weren't... we wouldn't need 'priv'
[02:40:34] *** Joins: Jesse_ (jruderman@2557E599.66715431.D25A875A.IP)
[02:40:36] *** Quits: Jesse (jruderman@2557E599.66715431.D25A875A.IP) (Connection reset by peer)
[02:42:33] *** Joins: roo_ (jesse.rudo@moz-EB0F8E9B.dynamic.ip.windstream.net)
[02:42:49] *** Quits: roo (jesse.rudo@moz-56338026.dynamic.ip.windstream.net) (Ping timeout)
[02:42:56] <roo_> strcat: well thats clear enough I guess. I am still kind of confused about pub then. Does it control visibility between modules in the same crate, only between crate boundaries, or some combination of both. If the latter, what are the rules?
[02:43:01] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[02:43:22] <strcat> roo_: between modules
[02:43:45] <strcat> if it's priv the path won't resolve
[02:43:50] <strcat> trait impls are public if the trait is public
[02:44:24] *** Joins: eatkinson (eatkinson@moz-A7CDB794.dia.static.qwest.net)
[02:44:31] <roo_> ok, that makes sense
[02:44:38] *** roo_ is now known as roo
[02:45:03] *** Joins: MaikKlein (maik@moz-DB448B31.dip0.t-ipconnect.de)
[02:46:12] *** Joins: jclements (jclements@moz-20AD2EFB.dsl.static.sonic.net)
[02:46:13] <MaikKlein> is rust the only language with lifetimes?
[02:47:53] *** Joins: huddler (Mibbit@moz-72830A1C.nyc.res.rr.com)
[02:48:22] *** Quits: jclements (jclements@moz-20AD2EFB.dsl.static.sonic.net) (Quit: jclements)
[02:48:31] <aatch> MaikKlein, as far as I am aware, it's the only language with lifetimes as a key part of the language
[02:48:46] <aatch> Though there are almost certainly research languages that have them.
[02:48:55] <aatch> (not that I know what they are)
[02:49:09] <doener> http://en.wikipedia.org/wiki/Region-based_memory_management
[02:50:57] <aatch> doener, so Rust seems to be the only industry language (I don't know what ParaSail comes under)
[02:51:47] <MaikKlein> is parasail even a thing?
[02:51:58] <MaikKlein> I couldn't find the official homepage
[02:52:17] <aatch> MaikKlein, yep.
[02:52:20] <roo> its a blog, and a google group
[02:52:22] <roo> its a one man operation i think.
[02:52:32] *** Joins: reyre_ (reyre@moz-9002CDDA.cpe.net.cable.rogers.com)
[02:52:46] <MaikKlein> ah ok
[02:53:05] <aatch> roo, technically it's developed by AdaCore
[02:53:17] <Jesse_> a one man google group?
[02:53:47] <aatch> But it was only a draft in 2009
[02:53:58] <Jesse_> i bet the flamewars are harsh, since nobody is going to step in and moderate
[02:54:02] *** Joins: jclements (jclements@moz-20AD2EFB.dsl.static.sonic.net)
[02:54:06] <roo> XD
[02:54:23] *** Quits: reyre_ (reyre@moz-9002CDDA.cpe.net.cable.rogers.com) (Ping timeout)
[02:55:53] <MaikKlein> damn someone here posted me a interesting looking language that looks a lot like python but compiles to c. does anyone know the name of it?
[02:55:59] *** Quits: zz_kimundi (kimundi@moz-E2BF5C01.dip0.t-ipconnect.de) (Ping timeout)
[02:56:08] <MaikKlein> I wanted to check it out but I forgot to bookmark it :(
[02:58:00] *** Joins: ghrust (ghrust@614D05BD.6A2AE50.F3114085.IP)
[02:58:00] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14ac35b2d to 14927f454: 02http://git.io/N3iJvQ
[02:58:00] *** Parts: ghrust (ghrust@614D05BD.6A2AE50.F3114085.IP) ()
[02:58:01] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[02:58:01] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/iI15MQ
[02:58:01] <ghrust> 13rust/06auto 141b945c9 15Tim Chevalier: rustpkg: Implement RUST_PATH...
[02:58:01] <ghrust> 13rust/06auto 1413ace31 15bors: auto merge of #7397 : catamorphism/rust/rustpkg_path, r=catamorphism...
[02:58:01] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[02:58:37] <MaikKlein> ah nimrod
[02:58:59] *** Joins: zz_kimundi (kimundi@moz-BDA1F045.dip0.t-ipconnect.de)
[02:59:25] *** zz_kimundi is now known as kimundi
[03:00:33] *** Quits: tikue (tkuehn@2557E599.66715431.D25A875A.IP) (Quit: tikue)
[03:01:21] <MaikKlein> "...model that supports a soft realtime GC on thread local heaps. Asynchronous message passing is used between threads, so no "stop the world".. looks a lot like rust haha
[03:01:44] <strcat> MaikKlein: but they always use gc
[03:02:02] <strcat> so no move semantics or ownership - not much like rust
[03:02:05] <strcat> erlang has thread-local heaps too
[03:02:56] <MaikKlein> so it's more like D?
[03:03:10] <MaikKlein> they also stated "Ability to manage your own memory"
[03:03:46] <strcat> sure, just like you can call malloc/free from ruby
[03:04:15] <strcat> are there many languages where you can't? it would imply no compatibility with existing C libraries
[03:04:15] <MaikKlein> :D
[03:04:31] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[03:05:07] <strcat> but yes it's more like D than rust
[03:05:21] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[03:05:24] <strcat> value-based data types (like Rust and D) with GC for all the heap stuff
[03:05:57] *** Quits: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP) (Quit: carllerche)
[03:07:14] <MaikKlein> it's really hard to find a language without an "always on GC"
[03:09:17] <strcat> ada and c++? ;p
[03:10:31] <MaikKlein> btw I never looked at ada
[03:11:25] <dcolish> what about pascal?
[03:11:39] <strcat> dcolish: sure, there are lots
[03:13:02] <dcolish> yup
[03:13:18] <MaikKlein> how do you keep up with new languages?
[03:13:57] <dcolish> oh wow, nimrod
[03:14:01] <dcolish> yeah that was a little funky
[03:14:08] <dcolish> i did like clay
[03:15:50] *** Quits: roo (jesse.rudo@moz-EB0F8E9B.dynamic.ip.windstream.net) (Ping timeout)
[03:16:22] *** Joins: roo (jesse.rudo@moz-88952DD0.dynamic.ip.windstream.net)
[03:20:25] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[03:20:28] <MaikKlein> is the  maturity #5 milestone 1.0?
[03:21:02] <strcat> I don't think any of them is really a 1.0 milestone
[03:22:00] *** Joins: ghrust (ghrust@614D05BD.6A2AE50.F3114085.IP)
[03:22:00] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/ZtFWDA
[03:22:01] <ghrust> 13rust/06auto 147673749 15Luqman Aden: librustc: Always pass self ByRef.
[03:22:01] <ghrust> 13rust/06auto 140aa94ff 15Luqman Aden: Add test for #5321.
[03:22:01] <ghrust> 13rust/06auto 1461dc776 15bors: auto merge of #7410 : luqmana/rust/bare-self, r=catamorphism...
[03:22:02] *** Parts: ghrust (ghrust@614D05BD.6A2AE50.F3114085.IP) ()
[03:26:41] *** Quits: MaikKlein (maik@moz-DB448B31.dip0.t-ipconnect.de) (Ping timeout)
[03:27:40] <aatch> Argh. pcwalton's thing bounced. again.
[03:29:36] *** Quits: brendan (brendaneic@moz-ACC6832C.sub-70-197-7.myvzw.com) (Quit: brendan)
[03:30:04] <aatch> I'm gonna try to get patrick's pull through.
[03:34:11] *** Quits: jclements (jclements@moz-20AD2EFB.dsl.static.sonic.net) (Quit: jclements)
[03:37:28] <aatch> curse you bblum
[03:37:59] *** Quits: huddler (Mibbit@moz-72830A1C.nyc.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[03:41:27] <dcolish> is there a way to `use` only in test scope?
[03:43:52] *** Quits: cowboyd (cowboyd@moz-1BD02A1E.sw.biz.rr.com) (Client exited)
[03:45:07] <SiegeLord> dcolish: I think the idiom is to wrap the tests in a module that is conditionally compiled during testing
[03:45:09] *** Joins: heftig (heftig@moz-C12DDF6A.heftig.linuxsecured.net)
[03:45:58] *** Quits: roo (jesse.rudo@moz-88952DD0.dynamic.ip.windstream.net) (Ping timeout)
[03:46:08] <dcolish> ah thats what i was starting to consider
[03:46:40] <engla> I think you can 'use' in a function
[03:47:07] *** Joins: roo (jesse.rudo@moz-118473C5.dynamic.ip.windstream.net)
[03:48:46] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[03:49:22] *** Joins: jclements (jclements@moz-20AD2EFB.dsl.static.sonic.net)
[03:50:24] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Input/output error)
[03:51:02] *** Quits: Jesse_ (jruderman@2557E599.66715431.D25A875A.IP) (Quit: Jesse_)
[03:55:49] <dcolish> SiegeLord: yeah libstd/os.rs is a pretty good example
[03:56:07] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[03:59:30] <bblum> aatch: wat
[03:59:41] <bblum> did my thing cause rot
[03:59:48] <aatch> bblum, your tests broke pcwaltons pull to fail
[03:59:59] <aatch> because he renamed Owned->Send and Const->Freeze
[04:00:05] <bblum> oh whoops
[04:00:09] <bblum> yeah
[04:00:17] <bblum> and i added an owned+const test
[04:00:18] <aatch> bblum, it's fine. I've decided to fix it myself.
[04:00:34] <bblum> i mean, one or the other of them was going to rot :P
[04:00:55] <bblum> and uh. i've had enough rot to deal with to get my stuff through already
[04:00:59] *** Quits: heftig (heftig@moz-C12DDF6A.heftig.linuxsecured.net) (Ping timeout)
[04:01:24] <aatch> bblum, true. it's just annoying because pcwalton tends to just fly-by, so stuff justs sits there for a day-or-two.
[04:02:47] *** Joins: huhlig-home (huhlig@moz-C8339267.hfc.comcastbusiness.net)
[04:03:31] <bblum> peacy walton
[04:06:35] <aatch> and done. Hopefully Luqman's changes don't conflict.
[04:09:30] *** Joins: heftig (heftig@moz-C12DDF6A.heftig.linuxsecured.net)
[04:10:54] *** Quits: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP) (Quit: carllerche)
[04:10:55] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[04:11:41] *** Quits: heftig (heftig@moz-C12DDF6A.heftig.linuxsecured.net) (Ping timeout)
[04:13:07] <doener> https://github.com/mozilla/rust/blob/master/src/librustc/middle/trans/meth.rs#L650 -- wth is up with that take_ty call? llbox is the original @box the trait is for, and callee_ty is the type of the method that is being called. Does that make _any_ sense?
[04:14:15] <aatch> doener, possibly not...
[04:14:39] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[04:15:04] *** Joins: brendan (brendaneic@moz-ACC6832C.sub-70-197-7.myvzw.com)
[04:15:50] <dcolish> this error is confusing me because the notes seems to contradict https://gist.github.com/dcolish/5882409
[04:16:03] *** Quits: graydon (graydon@moz-9918B407.vc.shawcable.net) (Quit: Leaving.)
[04:16:25] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[04:16:37] <strcat> dcolish: std::vec::zip is an old deprecated thing
[04:16:39] <strcat> it makes a new vector
[04:16:58] <strcat> you want comp.iter().zip(spec.iter()).transform(...
[04:17:19] <strcat> atm rust won't allow you to borrow from a temporary value if you have more than 1 chained reference to it
[04:17:29] <strcat> and zip makes a temporary vec
[04:17:30] <dcolish> that makes sense
[04:17:32] <strcat> (vec::zip)
[04:17:44] *** Quits: thiez (thiez@moz-BF669398.student.utwente.nl) (Ping timeout)
[04:17:55] <dcolish> the notes were just a bit confusing because they said the lifetime was long enough for but then not long enough
[04:18:34] <strcat> dcolish: what it means by 'must be valid' is that it's required
[04:18:40] <strcat> and then the 2nd is saying it doesn't meet the requirement
[04:18:49] <strcat> it should actually work, but rustc isn't smart with rvalues (temporaries)
[04:19:10] <strcat> but std::vec::zip also shouldn't exist :)
[04:19:14] <dcolish> ah i see what you mean
[04:19:23] <dcolish> i was misunderstanding the 1st note
[04:21:02] *** Joins: Aetherspawn (Aetherspaw@moz-8811D9F0.static.tpgi.com.au)
[04:21:11] *** Joins: tjc (tjc@moz-D530ECE9.lightspeed.irvnca.sbcglobal.net)
[04:21:11] *** ChanServ sets mode: +o tjc
[04:21:47] *** Quits: roo (jesse.rudo@moz-118473C5.dynamic.ip.windstream.net) (Ping timeout)
[04:23:04] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[04:27:23] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Input/output error)
[04:32:13] *** Quits: sankha93 (Instantbir@A9EF28FD.56EC8A95.8B6C1D65.IP) (Quit: Instantbird 1.4 -- http://www.instantbird.com)
[04:33:32] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[04:35:32] <doener> hm, I guess this will now fix the double free and kill the visitor :-/ Endless fun
[04:37:37] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[04:38:20] *** Joins: roo (jesse.rudo@moz-D3EC996E.dynamic.ip.windstream.net)
[04:46:47] *** Quits: H4199 (chatzilla@moz-64E556D3.austin.res.rr.com) (Quit: ChatZilla 0.9.90 [Firefox 23.0a2/20130617004017])
[04:48:05] *** Quits: bent (chatzilla@moz-932324BF.hsd1.ca.comcast.net) (Quit: ChatZilla 0.9.90-rdmsoft [XULRunner 18.0.2/20130201065344])
[04:48:32] *** Joins: cowboyd (cowboyd@moz-DD0FF83.lightspeed.austtx.sbcglobal.net)
[04:50:50] <roo> is there something like phantom types in rust? (i guess unit types are close enough)
[04:51:07] <strcat> enum Foo { }
[04:51:11] <strcat> can't make one
[04:51:19] <strcat> (I think that's what you mean?)
[04:51:24] <roo> :o
[04:51:24] <roo> cool, thanks
[04:51:24] <roo> yep
[04:51:35] *** Quits: cowboyd (cowboyd@moz-DD0FF83.lightspeed.austtx.sbcglobal.net) (Client exited)
[04:51:50] *** Quits: brendan (brendaneic@moz-ACC6832C.sub-70-197-7.myvzw.com) (Quit: brendan)
[04:52:24] *** Joins: vk (chatzilla@moz-389FEE13.hsd1.ca.comcast.net)
[04:52:31] <bblum> phantom type means something  different
[04:52:40] <bblum> you can write struct Foo; for aunit type
[04:52:54] <bblum> a phantom type would be struct Foo<T>;
[04:53:54] *** Quits: roo (jesse.rudo@moz-D3EC996E.dynamic.ip.windstream.net) (Ping timeout)
[04:56:23] *** Joins: roo (jesse.rudo@moz-FFF00D32.ip.windstream.net)
[04:58:58] *** Joins: MaikKlein (maik@moz-DB448B31.dip0.t-ipconnect.de)
[04:59:02] *** Quits: roo (jesse.rudo@moz-FFF00D32.ip.windstream.net) (Ping timeout)
[04:59:51] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz‚Ä¶)
[05:00:13] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[05:00:43] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[05:05:28] *** Joins: H4199 (chatzilla@moz-64E556D3.austin.res.rr.com)
[05:07:12] *** Quits: eatkinson (eatkinson@moz-A7CDB794.dia.static.qwest.net) (Quit: eatkinson)
[05:09:22] *** Joins: bnicholson (bnicholson@moz-E98974C1.hsd1.ca.comcast.net)
[05:13:22] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[05:14:12] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz‚Ä¶)
[05:14:31] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[05:14:34] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: hjr3)
[05:15:00] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[05:16:45] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[05:18:16] *** Joins: sankha93 (Instantbir@FE8D38DB.834387F1.D2D1FAF0.IP)
[05:20:22] *** Quits: MaikKlein (maik@moz-DB448B31.dip0.t-ipconnect.de) (Ping timeout)
[05:21:09] *** Joins: timot (timot@moz-52F0BC38.cust.telenor.se)
[05:22:53] *** Quits: eagen (eagen@8737942B.7A99C13A.B7961A98.IP) (Ping timeout)
[05:23:12] *** Quits: madmoose (Hat@73F3A637.B23483B.7BA20D97.IP) (Ping timeout)
[05:23:12] *** Quits: paulproteus (quassel@rose.makesad.us) (Ping timeout)
[05:25:44] *** Joins: paulproteus (quassel@moz-E86A3B42.makesad.us)
[05:27:02] *** Joins: pyrac (pyrac@moz-9180E00E.w86-201.abo.wanadoo.fr)
[05:27:29] *** Joins: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net)
[05:28:58] *** Joins: madmoose (Hat@moz-E1973371.nerp.net)
[05:30:38] *** Joins: brendan (brendaneic@moz-ACC6832C.sub-70-197-7.myvzw.com)
[05:33:18] *** Quits: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca) (Connection reset by peer)
[05:34:01] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[05:34:18] <Luqman> \o/ by-value self
[05:34:49] *** Quits: cp (cp@moz-993078EE.plus.com) (Ping timeout)
[05:35:22] <aatch> Luqman, hurrah!
[05:35:43] <aatch> Luqman, you didn't add any Const or Owned bounds, did you?
[05:35:51] <Luqman> nope
[05:36:29] <aatch> Luqman, cool, hopefully patrick's thing will land now.
[05:36:53] *** Joins: ghrust (ghrust@AC22872E.6A2AE50.F3114085.IP)
[05:36:53] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/ZtFWDA
[05:36:53] *** Parts: ghrust (ghrust@AC22872E.6A2AE50.F3114085.IP) ()
[05:38:58] <aatch> Luqman, pcwalton's massive patch failed on a test because bblum added trait bounds and thus a test with Owned+Const in it...
[05:39:50] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[05:39:50] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/jQfCbQ
[05:39:50] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[05:39:52] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[05:39:52] <ghrust> 01[13rust01] 15bors pushed 20 new commits to 06auto: 02http://git.io/yjCzNA
[05:39:52] <ghrust> 13rust/06auto 14bc73535 15Patrick Walton: librustc: Rename Owned to Send in the compiler
[05:39:52] <ghrust> 13rust/06auto 14c5ef547 15Patrick Walton: librustc: Change Const to Freeze in the compiler
[05:39:53] <ghrust> 13rust/06auto 14368176b 15Patrick Walton: librustc: Rename Const to Freeze
[05:39:55] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[05:41:14] <Luqman> aatch: hopefully passes this time round
[05:42:13] <aatch> Luqman, hopefully. I actually re-submitted the PR myself because pcwalton was gone (bed?)
[05:42:37] <aatch> And otherwise it'd probably end up waiting until monday.
[05:43:09] <Luqman> ya, hopefully the bors gets through more of the queue tonight
[05:44:39] <strcat> Luqman: well hopefully, after we merged ~30 pulls into 4 pulls ;p
[05:44:47] <strcat> https://github.com/mozilla/rust/pull/7426 yet another
[05:45:16] *** Quits: brendan (brendaneic@moz-ACC6832C.sub-70-197-7.myvzw.com) (Quit: brendan)
[05:48:46] <aatch> Luqman, you got rid of the shape code right? Or was that somebody else?
[05:48:59] <Luqman> aatch: that would be someone else
[05:49:19] <aatch> I guess it doesn't matter, but it's gone, right?
[05:51:07] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[05:52:57] <Luqman> i believe so
[05:53:15] <strcat> rusti: 2
[05:53:17] -rusti- 2
[05:53:38] *** Quits: pyrac (pyrac@moz-9180E00E.w86-201.abo.wanadoo.fr) (Quit: pyrac)
[05:53:59] <strcat> aatch: https://github.com/thestinger/rust/commit/779ee2a2dd06235470cf5b6bea90b78619dc0654 another use for that, btw
[05:54:17] <aatch> strcat, I saw that. that's pretty cool.
[05:54:22] <aatch> Like a compile-time tag.
[05:54:45] <strcat> I thought we'd have to add #[non_copyable] but that's much nicer :)
[05:59:45] *** Joins: berak (chatzilla@DA02F119.C4D4A1E0.1A5CC7E5.IP)
[06:04:03] *** Joins: n00b6502 (kwr5y54@moz-6651F8D4.range86-145.btcentralplus.com)
[06:04:14] *** Joins: pyrac (pyrac@moz-9180E00E.w86-201.abo.wanadoo.fr)
[06:04:19] *** Joins: doomlord (doomlod@moz-6651F8D4.range86-145.btcentralplus.com)
[06:04:20] *** Quits: pyrac (pyrac@moz-9180E00E.w86-201.abo.wanadoo.fr) (Quit: pyrac)
[06:04:43] <strcat> aatch: nope :[
[06:04:53] <aatch> I fixed it wrong.
[06:05:39] <aatch> forgot to fix the error pattern
[06:05:46] <strcat> you broke it right
[06:05:54] <strcat> ;p
[06:05:58] <bjz> Luqman: by value self?
[06:06:09] *** Joins: jpochyla (jpochyla@moz-8D99AE5D.broadband18.iol.cz)
[06:06:52] *** Joins: ghrust (ghrust@5FEF1C87.6A2AE50.F3114085.IP)
[06:06:52] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14c949628 to 1461dc776: 02http://git.io/N3iJvQ
[06:06:52] *** Parts: ghrust (ghrust@5FEF1C87.6A2AE50.F3114085.IP) ()
[06:06:56] *** Joins: ghrust (ghrust@AC22872E.6A2AE50.F3114085.IP)
[06:06:56] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/LI5qCQ
[06:06:56] <ghrust> 13rust/06auto 14ea62fd1 15Tim Chevalier: rustpkg: Implement RUST_PATH...
[06:06:56] <ghrust> 13rust/06auto 14a86c63f 15bors: auto merge of #7397 : catamorphism/rust/rustpkg_path, r=catamorphism...
[06:06:57] *** Parts: ghrust (ghrust@AC22872E.6A2AE50.F3114085.IP) ()
[06:07:22] <doener> oh oh
[06:07:42] <aatch> doener, oh?
[06:07:44] *** Joins: robert (robertknig@moz-C34822AC.range86-166.btcentralplus.com)
[06:08:08] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[06:08:36] <doener> it failed again
[06:08:55] <doener> pcwalton's/your PR that is
[06:09:02] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[06:09:08] <aatch> doener, yes, because I forgot to update the error pattern...
[06:10:29] <doener> hm, almost there, now I'm just left with a breakage for ~Trait objects
[06:10:52] <aatch> doener, whatcha workin' on?
[06:11:11] *** Joins: roo (jesse.rudo@moz-22D8369B.dynamic.ip.windstream.net)
[06:11:29] <doener> the double indirection for explicit self, fixes a few other things along the way, because self handling seems to be built on errors that depend on each other
[06:11:51] <aatch> doener, like most of trans then
[06:11:54] *** Joins: heftig (heftig@moz-C12DDF6A.heftig.linuxsecured.net)
[06:12:01] <doener> probabl
[06:12:02] <doener> y
[06:13:04] <doener> at least the results seem promising. For example time-passes shows type checking going from 4.366s to  3.947s
[06:13:42] *** Quits: heftig (heftig@moz-C12DDF6A.heftig.linuxsecured.net) (Ping timeout)
[06:13:51] *** Quits: roo (jesse.rudo@moz-22D8369B.dynamic.ip.windstream.net) (Ping timeout)
[06:14:58] *** Joins: heftig (heftig@moz-C12DDF6A.heftig.linuxsecured.net)
[06:15:19] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[06:17:00] <strcat> stupid master trying to steal the mac bot
[06:17:13] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[06:18:29] *** Joins: Blei (philipp@moz-650B9C6A.cust.bluewin.ch)
[06:19:05] *** Quits: mark_edward (quassel@moz-4A9A2F15.dynamic.utc.edu) (Client exited)
[06:19:27] *** Quits: heftig (heftig@moz-C12DDF6A.heftig.linuxsecured.net) (Ping timeout)
[06:20:05] *** Joins: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net)
[06:20:22] *** Quits: tjc (tjc@moz-D530ECE9.lightspeed.irvnca.sbcglobal.net) (Quit: Places to go, people to annoy)
[06:20:54] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[06:21:10] *** Joins: mark_edward (quassel@moz-4A9A2F15.dynamic.utc.edu)
[06:21:49] *** Quits: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net) (Ping timeout)
[06:24:10] *** Joins: roo (jesse.rudo@moz-C5E95C71.ip.windstream.net)
[06:26:18] *** Quits: vk (chatzilla@moz-389FEE13.hsd1.ca.comcast.net) (Quit: ChatZilla 0.9.90 [Firefox 22.0/20130617145905])
[06:29:59] *** Parts: berak (chatzilla@DA02F119.C4D4A1E0.1A5CC7E5.IP) ()
[06:33:40] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[06:36:29] *** Quits: jpochyla (jpochyla@moz-8D99AE5D.broadband18.iol.cz) (Ping timeout)
[06:38:01] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[06:50:57] *** Quits: roo (jesse.rudo@moz-C5E95C71.ip.windstream.net) (Ping timeout)
[06:51:54] *** Quits: sankha93 (Instantbir@FE8D38DB.834387F1.D2D1FAF0.IP) (Ping timeout)
[06:52:01] *** Joins: thiez (thiez@moz-8F8FE2C.student.utwente.nl)
[06:56:17] *** Joins: sankha93 (Instantbir@99020F38.34F57F4.D2D1FAF0.IP)
[07:00:05] <yichoi> strcat: ebml.rs changed
[07:00:32] <yichoi> strcat: my patch might conflict since ebml.rs changed
[07:01:48] *** Quits: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net) (Quit: zzz)
[07:02:35] <strcat> yichoi: seems to be okay
[07:03:12] <strcat> I already rebased something, don't remember what :)
[07:04:20] <aatch> ok, so I had a rustpkg test fail locally, but that's it. Pretty sure that, unless tjc's patch does something, the massive PR will finally get through!
[07:05:22] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Ping timeout)
[07:06:10] *** Quits: aatch (aatch@moz-B437F499.pocketrent.com) (Quit: Leaving)
[07:06:12] <yichoi> strcat: ok. hope not conflict. I cannot compile for android target with master branch because of unused import errors
[07:06:19] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[07:07:14] *** Joins: Ms2ger (Ms2ger@9D2CFE09.F6F1767D.3773EA9F.IP)
[07:09:31] *** Joins: roo (jesse.rudo@moz-8DFA0F98.dynamic.ip.windstream.net)
[07:09:45] *** Joins: nano (nano@moz-972880B.superkabel.de)
[07:15:13] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz‚Ä¶)
[07:15:39] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[07:17:27] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[07:18:36] *** Quits: roo (jesse.rudo@moz-8DFA0F98.dynamic.ip.windstream.net) (Ping timeout)
[07:23:18] *** Joins: MaikKlein (maik@moz-DB448B31.dip0.t-ipconnect.de)
[07:30:21] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[07:30:30] *** Quits: nano (nano@moz-972880B.superkabel.de) (Connection reset by peer)
[07:30:58] *** Joins: ghrust (ghrust@AC22872E.6A2AE50.F3114085.IP)
[07:30:58] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14a86c63f to 1461dc776: 02http://git.io/N3iJvQ
[07:30:58] *** Parts: ghrust (ghrust@AC22872E.6A2AE50.F3114085.IP) ()
[07:31:00] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[07:31:00] <ghrust> 01[13rust01] 15bors pushed 20 new commits to 06auto: 02http://git.io/IaTfkg
[07:31:00] <ghrust> 13rust/06auto 14bc73535 15Patrick Walton: librustc: Rename Owned to Send in the compiler
[07:31:00] <ghrust> 13rust/06auto 14c5ef547 15Patrick Walton: librustc: Change Const to Freeze in the compiler
[07:31:01] <ghrust> 13rust/06auto 14368176b 15Patrick Walton: librustc: Rename Const to Freeze
[07:31:03] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[07:31:47] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[07:32:33] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[07:35:18] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[07:37:03] *** Joins: jpochyla (jpochyla@moz-8D99AE5D.broadband18.iol.cz)
[07:40:57] *** Joins: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net)
[07:43:13] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[07:43:45] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[07:47:28] *** Quits: robert (robertknig@moz-C34822AC.range86-166.btcentralplus.com) (Ping timeout)
[07:49:05] *** Joins: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP)
[07:51:01] <MaikKlein> do you think this could be possible in rust? Ogre::SceneNode* headNode = mSceneMgr->getRootSceneNode()->createChildSceneNode("HeadNode");
[07:51:48] <MaikKlein> in rust "Ogre::SceneNode* headNode" would probably freez the RootSceneNode until it goes out of scope right?
[07:53:11] *** Quits: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net) (Ping timeout)
[07:54:01] *** Joins: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net)
[07:54:50] *** Quits: jclements (jclements@moz-20AD2EFB.dsl.static.sonic.net) (Quit: jclements)
[07:55:53] *** Joins: roo (jesse.rudo@moz-1CFD25AC.ip.windstream.net)
[07:56:41] *** Joins: victorporof (victorporo@70DEDDA.9004F55.9B1E38F4.IP)
[07:59:43] *** Quits: rubber-duck (rubber-duc@moz-70AB535C.dsl.iskon.hr) (Ping timeout)
[08:02:22] *** Quits: bnicholson (bnicholson@moz-E98974C1.hsd1.ca.comcast.net) (Ping timeout)
[08:04:13] *** Joins: ghrust (ghrust@FD7BC443.6A2AE50.F3114085.IP)
[08:04:13] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14dacaf72 to 1461dc776: 02http://git.io/N3iJvQ
[08:04:13] *** Parts: ghrust (ghrust@FD7BC443.6A2AE50.F3114085.IP) ()
[08:04:14] *** Joins: ghrust (ghrust@E7A4CCE2.6A2AE50.F3114085.IP)
[08:04:14] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/2lJENA
[08:04:14] <ghrust> 13rust/06auto 14a897a9a 15James Miller: Remove useless namegen thunk
[08:04:14] <ghrust> 13rust/06auto 148600c18 15bors: auto merge of #7272 : Aatch/rust/namegen_thunk, r=thestinger...
[08:04:15] *** Parts: ghrust (ghrust@E7A4CCE2.6A2AE50.F3114085.IP) ()
[08:04:55] *** Joins: SimonSapin (simon@moz-D0C2F181.zone2.bethere.co.uk)
[08:07:55] *** Quits: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net) (Quit: tikue)
[08:12:18] *** Quits: MaikKlein (maik@moz-DB448B31.dip0.t-ipconnect.de) (Ping timeout)
[08:17:40] *** Quits: Blei (philipp@moz-650B9C6A.cust.bluewin.ch) (Quit: WeeChat 0.4.1)
[08:19:13] *** Quits: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net) (Ping timeout)
[08:21:40] *** Quits: jpochyla (jpochyla@moz-8D99AE5D.broadband18.iol.cz) (Ping timeout)
[08:23:10] *** Quits: roo (jesse.rudo@moz-1CFD25AC.ip.windstream.net) (Ping timeout)
[08:24:42] *** Joins: nano (nano@moz-972880B.superkabel.de)
[08:26:18] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[08:28:11] *** Joins: ac_dc (ac@moz-FD24B77.sohonet.co.uk)
[08:31:05] *** Quits: ac_dc (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[08:32:03] *** Joins: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net)
[08:34:19] *** Quits: timot (timot@moz-52F0BC38.cust.telenor.se) (Ping timeout)
[08:34:38] *** Quits: H4199 (chatzilla@moz-64E556D3.austin.res.rr.com) (Ping timeout)
[08:37:29] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[08:38:46] *** Joins: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net)
[08:39:51] *** Quits: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net) (Client exited)
[08:42:57] *** Joins: pnkfelix|rcirc (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[08:43:11] *** Joins: H4199 (chatzilla@moz-64E556D3.austin.res.rr.com)
[08:43:17] *** Joins: pyrac (pyrac@EDE6BD92.73C89388.AD05C589.IP)
[08:45:00] *** Joins: timot (timot@FA38954F.5AD22177.898DC978.IP)
[08:45:40] *** Joins: fabiand (fabiand@moz-34D7246A.adsl.alicedsl.de)
[08:46:55] *** Joins: davbo (dave@moz-3FFA637C.oucs.ox.ac.uk)
[08:49:06] *** Quits: santiago (santiago@moz-8ADE82B4.socal.res.rr.com) (Ping timeout)
[08:52:33] *** Joins: santiago (santiago@moz-8ADE82B4.socal.res.rr.com)
[08:56:13] *** Quits: SimonSapin (simon@moz-D0C2F181.zone2.bethere.co.uk) (Ping timeout)
[08:56:37] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[09:00:42] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[09:01:13] *** Joins: SimonSapin (simon@moz-D0C2F181.zone2.bethere.co.uk)
[09:05:32] *** Joins: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP)
[09:10:16] *** Quits: pyrac (pyrac@EDE6BD92.73C89388.AD05C589.IP) (Quit: pyrac)
[09:13:01] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[09:16:19] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[09:18:07] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[09:22:02] *** Quits: timot (timot@FA38954F.5AD22177.898DC978.IP) (Ping timeout)
[09:22:09] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[09:22:09] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Quit: Eaten by a grue)
[09:23:55] *** Quits: ross (ross@moz-8A84103E.br.br.cox.net) (Quit: )
[09:24:06] *** Quits: SimonSapin (simon@moz-D0C2F181.zone2.bethere.co.uk) (Ping timeout)
[09:24:42] *** Joins: timot (timot@CBF56E7F.21346AE7.898DC978.IP)
[09:28:15] <pnkfelix> jdm: thanks for the suggestion, am emailing bsmedberg now
[09:37:35] *** Quits: timot (timot@CBF56E7F.21346AE7.898DC978.IP) (Ping timeout)
[09:38:23] *** Joins: spider-mario (spidermari@moz-B8FA2FF4.rev.sfr.net)
[09:41:08] *** Joins: jpochyla (jpochyla@E1DB45DB.1AFA5C43.5DC06702.IP)
[09:55:17] *** Joins: jamil_1 (quassel@467FDE5C.C74DB0B7.E86700E.IP)
[09:56:23] *** Quits: victorporof (victorporo@70DEDDA.9004F55.9B1E38F4.IP) (Quit: victorporof)
[09:57:35] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[09:57:54] *** Joins: ghrust (ghrust@614D05BD.6A2AE50.F3114085.IP)
[09:57:54] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/2lJENA
[09:57:54] *** Parts: ghrust (ghrust@614D05BD.6A2AE50.F3114085.IP) ()
[10:00:54] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[10:00:54] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/JzoHUQ
[10:00:54] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[10:00:57] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[10:00:57] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/vzy1NA
[10:00:57] <ghrust> 13rust/06auto 14ea62fd1 15Tim Chevalier: rustpkg: Implement RUST_PATH...
[10:00:57] <ghrust> 13rust/06auto 14887ae82 15bors: auto merge of #7397 : catamorphism/rust/rustpkg_path, r=catamorphism...
[10:00:58] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[10:02:01] *** Quits: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP) (Quit: Lost terminal)
[10:02:38] *** Joins: SimonSapin (simon@moz-D0C2F181.zone2.bethere.co.uk)
[10:03:00] *** Quits: jamil_1 (quassel@467FDE5C.C74DB0B7.E86700E.IP) (Ping timeout)
[10:04:01] *** Joins: timot (timot@moz-8FCBAC25.cust.telenor.se)
[10:04:07] *** Joins: jamil_1 (quassel@467FDE5C.C74DB0B7.E86700E.IP)
[10:05:56] *** Quits: jamil_1 (quassel@467FDE5C.C74DB0B7.E86700E.IP) (Ping timeout)
[10:07:26] *** Joins: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP)
[10:10:42] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[10:12:31] *** Quits: H4199 (chatzilla@moz-64E556D3.austin.res.rr.com) (Ping timeout)
[10:12:47] *** Quits: timot (timot@moz-8FCBAC25.cust.telenor.se) (Ping timeout)
[10:12:47] *** Quits: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net) (Quit: tikue)
[10:16:39] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[10:18:24] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[10:24:23] *** Joins: yut831 (yut831@moz-8DCBE74F.ccnet.ne.jp)
[10:24:58] *** Parts: yut831 (yut831@moz-8DCBE74F.ccnet.ne.jp) (Leaving...)
[10:27:43] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Ping timeout)
[10:34:20] *** Joins: MaikKlein (maik@moz-DB448B31.dip0.t-ipconnect.de)
[10:35:46] *** Joins: victorporof (victorporo@70DEDDA.9004F55.9B1E38F4.IP)
[10:51:21] *** Joins: donri (dag@moz-9BB61102.tbcn.telia.com)
[11:04:19] *** Quits: sankha93 (Instantbir@99020F38.34F57F4.D2D1FAF0.IP) (Quit: Instantbird 1.4 -- http://www.instantbird.com)
[11:05:01] *** Joins: sankha93 (Instantbir@99020F38.34F57F4.D2D1FAF0.IP)
[11:08:19] *** Joins: igork (igork@EA6E75EE.C06D4940.6E0EE79F.IP)
[11:13:58] *** Joins: Sorella (queen@B12A78F5.BA14766C.95C8B7C6.IP)
[11:15:57] *** kimundi is now known as zz_kimundi
[11:16:59] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[11:17:51] *** Quits: sankha93 (Instantbir@99020F38.34F57F4.D2D1FAF0.IP) (Quit: Instantbird 1.4 -- http://www.instantbird.com)
[11:18:49] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[11:22:13] *** Quits: MaikKlein (maik@moz-DB448B31.dip0.t-ipconnect.de) (Client exited)
[11:24:29] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Quit: yichoi)
[11:25:59] *** Quits: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net) (Ping timeout)
[11:26:02] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[11:26:08] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Quit: yichoi)
[11:26:22] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[11:35:54] *** Quits: jpochyla (jpochyla@E1DB45DB.1AFA5C43.5DC06702.IP) (Ping timeout)
[11:39:46] *** Joins: jamil_1 (quassel@467FDE5C.C74DB0B7.E86700E.IP)
[11:40:50] *** Quits: jamil_1 (quassel@467FDE5C.C74DB0B7.E86700E.IP) (Client exited)
[11:41:54] *** Joins: jamil_1 (quassel@467FDE5C.C74DB0B7.E86700E.IP)
[11:42:09] *** Joins: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca)
[11:46:42] *** Quits: igork (igork@EA6E75EE.C06D4940.6E0EE79F.IP) (Quit: igork)
[11:47:12] *** zz_kimundi is now known as kimundi
[11:47:51] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[11:49:23] *** Joins: pyrac (pyrac@EDE6BD92.73C89388.AD05C589.IP)
[11:54:23] *** Joins: timot (timot@BE4D03E4.75460F8D.898DC978.IP)
[12:02:33] *** Quits: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net) (Client exited)
[12:03:06] *** Joins: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net)
[12:06:46] *** Quits: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net) (Client exited)
[12:06:54] *** Joins: ghrust (ghrust@C621748.6A2AE50.F3114085.IP)
[12:06:54] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/vzy1NA
[12:06:54] *** Parts: ghrust (ghrust@C621748.6A2AE50.F3114085.IP) ()
[12:07:45] *** Quits: jamil_1 (quassel@467FDE5C.C74DB0B7.E86700E.IP) (Ping timeout)
[12:08:11] *** Joins: dylukes (dylukes@moz-E4DF3FED.pitbpa.fios.verizon.net)
[12:09:12] *** Quits: dylukes (dylukes@moz-E4DF3FED.pitbpa.fios.verizon.net) (Quit: Computer has gone to sleep.)
[12:09:40] *** Joins: jamil_1 (quassel@75708ECD.C48B2BBC.E86700E.IP)
[12:09:53] *** Joins: ghrust (ghrust@AC22872E.6A2AE50.F3114085.IP)
[12:09:53] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/aToZXw
[12:09:53] *** Parts: ghrust (ghrust@AC22872E.6A2AE50.F3114085.IP) ()
[12:09:56] *** Joins: ghrust (ghrust@FD7BC443.6A2AE50.F3114085.IP)
[12:09:56] <ghrust> 01[13rust01] 15bors pushed 21 new commits to 06auto: 02http://git.io/zSknFg
[12:09:56] <ghrust> 13rust/06auto 14bc73535 15Patrick Walton: librustc: Rename Owned to Send in the compiler
[12:09:56] <ghrust> 13rust/06auto 14c5ef547 15Patrick Walton: librustc: Change Const to Freeze in the compiler
[12:09:56] <ghrust> 13rust/06auto 14368176b 15Patrick Walton: librustc: Rename Const to Freeze
[12:09:59] *** Parts: ghrust (ghrust@FD7BC443.6A2AE50.F3114085.IP) ()
[12:10:21] <Aetherspawn> cmr, howsit goin?
[12:10:57] <cmr> Aetherspawn: not bad, you?
[12:11:23] <Aetherspawn> :P sorry for not doing the terminal stuff
[12:11:30] <cmr> nbd
[12:15:03] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[12:15:22] *** Quits: SimonSapin (simon@moz-D0C2F181.zone2.bethere.co.uk) (Ping timeout)
[12:16:56] *** Quits: pyrac (pyrac@EDE6BD92.73C89388.AD05C589.IP) (Quit: pyrac)
[12:17:19] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[12:18:18] *** Joins: BitPuffin (quassel@moz-49828767.cust.tele2.se)
[12:19:05] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[12:28:20] <cmr> fehhh
[12:29:35] *** Quits: Amanieu (amanieu@moz-D5D10CA8.halls.manchester.ac.uk) (Connection reset by peer)
[12:29:43] *** Joins: mib_a97m7j (Mibbit@moz-711DD266.nc.res.rr.com)
[12:30:12] *** Quits: mib_a97m7j (Mibbit@moz-711DD266.nc.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[12:30:21] <cmr> that's weird
[12:30:22] *** Joins: Amanieu (amanieu@moz-D5D10CA8.halls.manchester.ac.uk)
[12:30:52] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[12:30:52] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 146726479 to 14887ae82: 02http://git.io/N3iJvQ
[12:30:52] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[12:30:57] *** Joins: ghrust (ghrust@AD60B2E3.6A2AE50.F3114085.IP)
[12:30:57] <ghrust> 01[13rust01] 15bors pushed 11 new commits to 06auto: 02http://git.io/R8Vl9w
[12:30:57] <ghrust> 13rust/06auto 14779ee2a 15Daniel Micay: util: make NonCopyable 0 size (instead of 1 byte)...
[12:30:57] <ghrust> 13rust/06auto 14dcf1dc0 15Birunthan Mohanathas: Rename #[no_drop_flag] to #[unsafe_no_drop_flag]
[12:30:57] <ghrust> 13rust/06auto 14b854d6e 15Tim Chevalier: docs: Mention rustpkg in release notes
[12:30:59] *** Parts: ghrust (ghrust@AD60B2E3.6A2AE50.F3114085.IP) ()
[12:34:00] *** Quits: Aetherspawn (Aetherspaw@moz-8811D9F0.static.tpgi.com.au) (Ping timeout)
[12:35:15] *** Joins: maxli (maxli@F2D29657.F60B0462.67AC9B1.IP)
[12:36:45] *** Joins: jpochyla (jpochyla@E1DB45DB.1AFA5C43.5DC06702.IP)
[12:36:53] *** Quits: jamil_1 (quassel@75708ECD.C48B2BBC.E86700E.IP) (Ping timeout)
[12:37:04] *** Joins: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net)
[12:39:22] *** Quits: nano (nano@moz-972880B.superkabel.de) (Connection reset by peer)
[12:42:28] *** Quits: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net) (Ping timeout)
[12:43:51] *** Joins: SimonSapin (simon@88F51059.F3BBB17D.144F44FA.IP)
[12:46:52] *** Joins: msingle (Thunderbir@moz-930E5D97.hr.hr.cox.net)
[12:49:36] *** Joins: reyre_ (reyre@F2D29657.F60B0462.67AC9B1.IP)
[12:53:46] *** Joins: nano (nano@moz-972880B.superkabel.de)
[12:57:15] *** Quits: petantik (oz@moz-20EC2160.net) (Ping timeout)
[12:57:24] *** Quits: cade (cadecairos@moz-DB3BF95F.members.linode.com) (Ping timeout)
[12:57:24] *** Quits: jroll (jroll@moz-5989BB9E.members.linode.com) (Ping timeout)
[12:57:24] *** Quits: friggle (friggle@moz-A607EAFA.members.linode.com) (Ping timeout)
[12:57:24] *** Quits: ivan (ivan@moz-531C3EC9.members.linode.com) (Ping timeout)
[12:57:26] *** Joins: petantik (oz@399731BC:E9BA9B39:2829DA14:IP)
[12:57:38] *** Joins: cadecairos (cadecairos@BBD22340:2039A81A:2829DA14:IP)
[12:57:50] *** Quits: Caseus (bacon@moz-9F046088.members.linode.com) (Ping timeout)
[12:57:59] *** Quits: hoelzro (hoelzro@moz-937642A5.ro) (Ping timeout)
[12:59:41] *** Joins: jroll (jroll@moz-5989BB9E.members.linode.com)
[13:00:01] *** Joins: Caseus (bacon@moz-9F046088.members.linode.com)
[13:00:24] *** Joins: ivan (ivan@moz-531C3EC9.members.linode.com)
[13:00:31] *** Joins: pyrac (pyrac@EDE6BD92.73C89388.AD05C589.IP)
[13:03:24] *** Quits: timot (timot@BE4D03E4.75460F8D.898DC978.IP) (Ping timeout)
[13:03:36] *** Quits: Amanieu (amanieu@moz-D5D10CA8.halls.manchester.ac.uk) (Ping timeout)
[13:04:33] *** Joins: friggle (friggle@moz-A607EAFA.members.linode.com)
[13:05:08] *** Joins: hoelzro (hoelzro@moz-937642A5.ro)
[13:06:04] *** kimundi is now known as zz_kimundi
[13:10:51] *** Quits: igl (igl@moz-457AC4E5.adsl.alicedsl.de) (Ping timeout)
[13:11:47] *** Joins: igl (igl@moz-8FA77247.adsl.alicedsl.de)
[13:12:53] *** Joins: lmandel (lmandel@F27D3820.D6C5F29.ADB88A9.IP)
[13:13:04] *** Joins: timot (timot@F3F8FAAB.D70A5E49.898DC978.IP)
[13:13:35] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[13:14:30] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[13:17:39] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[13:19:23] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[13:20:45] *** Joins: dylukes (dylukes@moz-B5418F79.hsd1.pa.comcast.net)
[13:26:23] <SimonSapin> can unique pointers make cycles?
[13:28:19] <cmr> no
[13:28:54] <cmr> Or, actually...
[13:28:54] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[13:29:01] <cmr> I don't think so
[13:31:28] <cmr> nope
[13:33:55] *** Joins: cowboyd (cowboyd@moz-1BD02A1E.sw.biz.rr.com)
[13:35:12] <bstrie> SimonSapin: that's a fundamental limitation of unique pointers. you'll need GC or RC or weak pointers for that
[13:36:37] <SimonSapin> bstrie: I‚Äôm actually checking that they don‚Äôt need GC
[13:36:59] *** Quits: BitPuffin (quassel@moz-49828767.cust.tele2.se) (Ping timeout)
[13:37:04] <cmr> You can make cycles with borrowed pointers can't you?
[13:39:34] *** zz_kimundi is now known as kimundi
[13:40:07] *** Joins: jedestep (jedestep@34641662.FB4DE631.66C78B76.IP)
[13:40:25] *** Joins: roo (jesse.rudo@moz-457B17A0.dynamic.ip.windstream.net)
[13:40:41] *** jdm is now known as jdm|f00ding
[13:47:58] *** Quits: timot (timot@F3F8FAAB.D70A5E49.898DC978.IP) (Ping timeout)
[13:48:03] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[13:48:36] *** Quits: lmandel (lmandel@F27D3820.D6C5F29.ADB88A9.IP) (Quit: lmandel)
[13:50:22] *** jdm|f00ding is now known as jdm
[13:50:25] *** Quits: noam_ (noam@F6B530A7.720527A7.416762B.IP) (Quit: Leaving)
[13:53:35] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[13:53:35] *** Joins: berak (chatzilla@743E747B.4742BCFA.1A5CC7E5.IP)
[13:56:35] *** Quits: msingle (Thunderbir@moz-930E5D97.hr.hr.cox.net) (Ping timeout)
[13:57:20] *** Joins: jyeo (user@F2D29657.F60B0462.67AC9B1.IP)
[14:00:26] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[14:01:35] *** Quits: jyeo (user@F2D29657.F60B0462.67AC9B1.IP) (Input/output error)
[14:03:47] *** Joins: jamil_1 (quassel@467FDE5C.C74DB0B7.E86700E.IP)
[14:04:15] *** Parts: berak (chatzilla@743E747B.4742BCFA.1A5CC7E5.IP) ()
[14:04:21] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[14:04:30] *** Quits: roo (jesse.rudo@moz-457B17A0.dynamic.ip.windstream.net) (Ping timeout)
[14:05:29] *** Joins: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net)
[14:06:22] *** Joins: Amanieu (amanieu@moz-D5D10CA8.halls.manchester.ac.uk)
[14:08:01] *** Quits: jamil_1 (quassel@467FDE5C.C74DB0B7.E86700E.IP) (Ping timeout)
[14:08:04] *** Joins: msingle (Thunderbir@moz-930E5D97.hr.hr.cox.net)
[14:09:35] *** Joins: mib_k2x5mb (Mibbit@A70AC465.EEEE47CF.F22F0031.IP)
[14:09:36] *** Joins: jamil_1 (quassel@75708ECD.C48B2BBC.E86700E.IP)
[14:11:24] *** Quits: jamil_1 (quassel@75708ECD.C48B2BBC.E86700E.IP) (Ping timeout)
[14:13:21] *** Joins: jamil_1 (quassel@75708ECD.C48B2BBC.E86700E.IP)
[14:13:23] *** Joins: vosen (vosen@moz-3B059DC4.sta.asta-net.com.pl)
[14:15:13] *** Joins: Blei (philipp@moz-650B9C6A.cust.bluewin.ch)
[14:17:20] *** Joins: jyeo (user@F2D29657.F60B0462.67AC9B1.IP)
[14:17:59] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[14:18:11] *** Quits: pyrac (pyrac@EDE6BD92.73C89388.AD05C589.IP) (Quit: pyrac)
[14:19:39] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[14:19:59] *** Joins: timot (timot@moz-699D467.cust.telenor.se)
[14:21:09] *** Joins: Guest_ (textual@34641662.FB4DE631.66C78B76.IP)
[14:22:12] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[14:22:57] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[14:25:26] *** Joins: mib_5lxsoc (Mibbit@BBE7C46A.B4F11D08.8612FA94.IP)
[14:30:44] *** Quits: timot (timot@moz-699D467.cust.telenor.se) (Ping timeout)
[14:31:34] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[14:31:35] *** Joins: pyrac (pyrac@moz-C4B13AD4.math.u-bordeaux1.fr)
[14:33:58] *** Quits: mib_k2x5mb (Mibbit@A70AC465.EEEE47CF.F22F0031.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:37:14] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[14:37:14] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/R8Vl9w
[14:37:14] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[14:39:42] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[14:40:14] *** Joins: ghrust (ghrust@C621748.6A2AE50.F3114085.IP)
[14:40:15] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/EyOarQ
[14:40:15] *** Parts: ghrust (ghrust@C621748.6A2AE50.F3114085.IP) ()
[14:43:17] *** Joins: ghrust (ghrust@614D05BD.6A2AE50.F3114085.IP)
[14:43:17] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/EyOarQ
[14:43:17] *** Parts: ghrust (ghrust@614D05BD.6A2AE50.F3114085.IP) ()
[14:43:21] *** Joins: ghrust (ghrust@AC22872E.6A2AE50.F3114085.IP)
[14:43:21] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/tUuIDQ
[14:43:21] <ghrust> 13rust/06auto 14d9fed2b 15Kevin Ballard: Teach extra::term::Terminal.reset() to handle missing op...
[14:43:21] <ghrust> 13rust/06auto 144e4e2f7 15bors: auto merge of #7436 : kballard/rust/term-dumb, r=cmr...
[14:43:21] *** Parts: ghrust (ghrust@AC22872E.6A2AE50.F3114085.IP) ()
[14:47:08] *** Joins: z0w0 (zack@moz-730D2B29.lnse3.woo.bigpond.net.au)
[14:48:05] *** Quits: jamil_1 (quassel@75708ECD.C48B2BBC.E86700E.IP) (Ping timeout)
[14:49:15] *** Quits: z0w0 (zack@moz-730D2B29.lnse3.woo.bigpond.net.au) (Client exited)
[14:50:41] *** cadecairos is now known as cade
[14:50:44] *** Joins: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP)
[14:50:55] *** Quits: victorporof (victorporo@70DEDDA.9004F55.9B1E38F4.IP) (Ping timeout)
[14:52:19] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Ping timeout)
[14:58:33] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Ping timeout)
[15:01:11] *** Joins: victorporof (victorporo@475EFE2D.75AF2AF4.D111398B.IP)
[15:05:20] *** Joins: jamil_1 (quassel@467FDE5C.C74DB0B7.E86700E.IP)
[15:13:25] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[15:13:55] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[15:14:37] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Computer has gone to sleep.)
[15:15:03] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[15:18:24] *** Joins: MaikKlein (maik@moz-DB448B31.dip0.t-ipconnect.de)
[15:22:43] *** Quits: pyrac (pyrac@moz-C4B13AD4.math.u-bordeaux1.fr) (Ping timeout)
[15:22:57] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[15:23:05] *** Quits: jamil_1 (quassel@467FDE5C.C74DB0B7.E86700E.IP) (Ping timeout)
[15:24:13] *** Quits: hansjorg_ (hansjorg@moz-41C5CE61.redpill-linpro.com) (Ping timeout)
[15:25:21] *** Quits: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net) (Quit: jorendorff)
[15:25:32] *** Joins: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net)
[15:25:37] <MaikKlein> bjz, lmath is broken again :)
[15:31:25] *** Joins: robert (robertknig@moz-C34822AC.range86-166.btcentralplus.com)
[15:32:01] <MaikKlein> bjz, "aborting due to 186 previous errors" :D, I am already trying to figure out whats wrong with it.
[15:34:34] <MaikKlein> bjz,  oh boy, this is going to be a lot of work
[15:36:13] <dbaupp> MaikKlein: what are the errors?
[15:37:27] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[15:37:28] *** Quits: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net) (Quit: jorendorff)
[15:37:39] *** Joins: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net)
[15:38:45] <MaikKlein> dbaupp, mostly " error: cannot move out of dereference of & pointer
[15:38:45] <MaikKlein> "
[15:39:09] <dbaupp> you need to add an explicit `copy`
[15:39:13] <dbaupp> (I think)
[15:39:37] <MaikKlein> yeah 180 times :D
[15:39:44] <doomlord> could anyone hazard a guess as to rusts progress vs c++ getting modules (eliminating headers)
[15:40:03] <cmr> doomlord: hm? we already have them
[15:40:13] <cmr> rust doesn't have headers
[15:40:17] <doomlord> let me word that better
[15:40:22] <MaikKlein> c++ is eliminating headers?
[15:40:30] <jdm> will rust hit 1.0 before c++ gets modules?
[15:40:43] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz‚Ä¶)
[15:40:46] <doomlord> rusts progress in reaching maturity yes
[15:40:58] <doomlord> i hope it can
[15:40:58] <cmr> is c++14 adding them?
[15:41:05] <cmr> if not I'd bet on rust
[15:41:09] <doomlord> someone told me c++17
[15:41:21] <cmr> clang has some plans but their module system only works for C right now
[15:41:36] <doomlord> my idea for hedging bets is to start dropping more code from C++ to C...
[15:41:39] <cmr> and even if it is c++17, when is msvc going to implement it? they're always slow
[15:41:39] <hoelzro> cmr: do you have a link to these plans?
[15:41:44] <cmr> hoelzro: sec
[15:41:58] <cmr> http://llvm.org/devmtg/2012-11/Gregor-Modules.pdf
[15:42:11] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[15:42:13] <doomlord> if i write more of my code in plain C, i could interoperate with rust... without being committed to it
[15:42:17] <hoelzro> cmr: thanks
[15:42:17] <cmr> http://clang.llvm.org/docs/Modules.html
[15:42:46] <doomlord> but rust can match C already right, (features,usefulness..)
[15:42:49] <cmr> doomlord: or if you can expose a C interface for your c++ (not requiring lots of templates etc)
[15:43:47] <doomlord> i'm a c/c++ head, not a c++ purist, dropping back to C or making C wrappers for C++ is fine
[15:43:51] *** Quits: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP) (Client exited)
[15:43:58] *** Quits: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net) (Quit: jorendorff)
[15:43:59] <cmr> yup
[15:44:10] *** Joins: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net)
[15:44:14] <doomlord> i like the simplicity of C sometimes
[15:45:04] <doomlord> (but right now i still feel very torn between familiarity/stability and the promise of rust/vs teething problems)
[15:45:47] *** Quits: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net) (Quit: jorendorff)
[15:45:55] *** Joins: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net)
[15:46:00] *** Quits: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net) (Quit: jorendorff)
[15:46:04] *** Joins: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net)
[15:47:10] <doomlord> rusts advantages over c++11:-  
[15:47:53] <doomlord> more elegant syntax, tuples, memory safety, better type inference, more elegant OOP system, better concurency,propper module-system. Did i miss any
[15:47:59] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:48:26] <cmr> I don't think so
[15:48:26] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Connection reset by peer)
[15:48:35] <doomlord> C++11 advantages:  large existing source-bases; stable/mature, templates are more powerful, overloading.
[15:48:44] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:48:56] <monk> C++11 does have a tuple type, doesn't it?
[15:48:57] <MaikKlein> constexpr
[15:49:05] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[15:49:35] <doomlord> i say 'emulated with templates', it doesn't have tuples in the language syntax. you can't assign the components
[15:49:50] <engla> you can assign to the components with std::tie
[15:50:15] <MaikKlein> and I wouldn't say "better concurency" it's just different
[15:50:18] <cmr> doomlord: oh, you forgot pattern matching
[15:50:26] <Ms2ger> Rust has more elegant syntax?
[15:50:28] <doomlord> ah. i missed: -Rust macro system will handle some things 1 want better;  -ENUMs ..
[15:50:29] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[15:50:31] * Ms2ger blinks
[15:50:36] <monk> than C++? hell yes.
[15:50:48] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[15:50:50] <doomlord> yes rusts' syntax is objectively more elegant: context free grammar, and smaller code for the same task, i think
[15:51:01] <doomlord> nothing like 'most vexing parse'
[15:51:08] <MaikKlein> what does context free mean?
[15:51:10] <engla> rust macros are pretty confusing too
[15:51:21] <cmr> MaikKlein: http://en.wikipedia.org/wiki/Context-free_grammar
[15:51:24] <Ms2ger> You can accept the language with a PDA
[15:51:27] <doomlord> you can't lexically analyze c++ without knowing the symbol table
[15:51:43] <doomlord> if its not context-free
[15:51:46] <doener> *fingers crossed*
[15:52:03] <doener> I hope this works now
[15:52:03] *** Joins: erickt1 (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[15:52:10] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Connection reset by peer)
[15:52:23] <doomlord> so: my list of rust advantages.. these are worth perservering with teething problems pre v1.0 ... i hope
[15:52:48] <monk> I'm new to rust, but one thing that seems nicer than C++ is that ownership is a concept in the core language, so you don't have problems with libraries who have their own way of dealing with ownership
[15:52:58] <monk> I guess that comes under memory safety
[15:53:19] <doomlord> could say its learning from c++ and absorbing a pattern found to work well
[15:53:30] <doomlord> auto_ptr/unique_ptr..
[15:53:32] <monk> yep
[15:53:41] <engla> Rust pros: no constructors, copy constructors or more insanity
[15:54:02] <doomlord> i'd be careful to call ommisions pros - these are less objective
[15:54:26] <doomlord> lack of overloading means a more 'grep-able' sourcebase. but sometimes overloading eases function naming
[15:54:47] <monk> engla: you might be able to do the same in C++ if you just use the right smart pointers in your fields
[15:54:55] <doomlord> but yeah those things are defintely double-edge swords. lots of hidden code being called
[15:55:10] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[15:55:13] <bstrie> doomlord: iirc C++14 is only for very small features, not something like modules. so you'll need to wait until C++17. but also C++11 was originally called C++0x, you should expect C++17 to actually be released three to six years after 2017. and then it takes about three years for all the big compilers to finish implementing the features. so perhaps expect modules to be usable in C++ by around 2026 or so
[15:55:19] <cmr> doomlord: rust does have operator overloading though
[15:55:32] <monk> oh yeah, typeclasses!
[15:55:47] <doomlord> i've mentiend that as 'more elegant OOP' - yes
[15:55:47] <monk> I actually haven't looked into how they work in rust, but typeclasses seem nicer than ADL
[15:55:58] <doomlord> typeclasses/trait-objects >> c++ classes
[15:56:33] <MaikKlein> I am still not too convinced of traits, but I need to practical experience.
[15:56:37] <doomlord> i am
[15:56:45] <Sodel_the_V> I've been having a love affair with traits ever since I learned Scala.
[15:56:52] <MaikKlein> *to get more
[15:56:53] <engla> doomlord: it's more a different philosophy of explicit vs. implicit. rust has .clone() but it is explicit. C++ has the constructor jungle and I'm happier without it http://stackoverflow.com/a/4782927/137317
[15:57:03] <doomlord> the fail of class-heirachies is one of the biggest repels from C++ for me
[15:57:33] <doomlord> repels from c++:  class heirachies; header-files.
[15:57:41] *** Joins: bent (chatzilla@moz-932324BF.hsd1.ca.comcast.net)
[15:57:42] <monk> oh god build system
[15:58:02] <monk> having a cross platform build system that everyone uses seems a big time saver
[15:58:35] <doomlord> if i write an indy game in rust, i fear not being able to port to as many platforms - i had a bash at iOS and failed..
[15:58:43] <bjz> MaikKlein: cheers
[15:58:59] <monk> well yeah, obviously rust is less mature :P
[15:59:10] <MaikKlein> bjz, I already fixed projection.rs and I am on plane.rs
[15:59:29] <doomlord> plus if i put time into rust, i'm not learning existing C++ source-bases, thus not making myself as useful to existing software companies
[15:59:31] <bjz> MaikKlein: I'm probably going to de-macrofy it - too hard to maintain. failed experiment :(
[15:59:39] <MaikKlein> bjz, haha
[15:59:40] <bjz> MaikKlein: oh wow
[15:59:49] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[15:59:49] *** ChanServ sets mode: +o dherman
[15:59:50] <MaikKlein> bjz, default methods are kinda usable right now
[16:00:04] <doomlord> but on the plus side, placing oneself in an unusual situation supposedly trains fluidic intelligence.
[16:00:08] <bjz> MaikKlein: really?
[16:00:15] <monk> doomlord: okay, though I'm not sure you can predict what codebases you should be studying :P
[16:00:35] <Seldaek> doomlord: it's a bet though, rust might be more interesting for employment down the line
[16:00:39] <monk> the main reason to practice C++ is to learn how to avoid the potholes -_-
[16:00:43] <bjz> MaikKlein: I'm sure lmath will have a way to break them x)
[16:00:49] <MaikKlein> bjz, well I ony used them for some smaller projects, but I didn't run into an issue yet. #[allow(default_methods)]
[16:00:51] <Seldaek> doomlord: also it's a lot more fun than banging one's head against C++ IMO
[16:00:57] <MaikKlein> bjz, probably :D
[16:01:24] <bjz> MaikKlein: cool, thanks so much for your help, I really do appreaciate it.
[16:01:39] <doomlord> Seldaek, well its catch 22. i'm just so familiar with C++. i like all the decisions behind rust and i want it to suceed. but if i want to write a new program myself.. i'll get it done quicker in C++.
[16:02:18] <doomlord> coding solo, one can pick ones' prefered subset of C++ :)
[16:02:32] <bjz> MaikKlein: I'm out of town at the moment, so it'll be harder to work on lmath, but when I get back I'll try to do some work on it
[16:02:57] <doomlord> its the thought of a team environment that makes me want rust to suceed.
[16:03:13] <MaikKlein> bjz, sure no problem
[16:03:47] <bjz> MaikKlein: let me know if you have any ideas on how to improve it. At the moment I think it's probably better to reduce the reliance on macros - far too brittle :(
[16:04:27] *** Quits: victorporof (victorporo@475EFE2D.75AF2AF4.D111398B.IP) (Quit: victorporof)
[16:05:02] <MaikKlein> bjz, ok plane.rs error free 150 errors to go :D , yeah maybe we can experiment with default methods
[16:06:04] <Seldaek> doomlord: I come from a web dev background with no C/C++ knowledge and I managed to get by relatively quickly with rust so I guess you shouldn't waste too much time diving in
[16:06:38] <bstrie> web dev background here as well
[16:06:56] <MaikKlein> web dev as well here
[16:06:56] <MaikKlein> :D
[16:07:04] *** Joins: lmandel (lmandel@F27D3820.D6C5F29.ADB88A9.IP)
[16:07:11] *** Joins: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net)
[16:07:16] <bstrie> rust is the only systems programming language suitable for us cowards who quail at the words SEGMENTATION FAULT
[16:07:31] <Seldaek> something like that :p
[16:07:44] *** Joins: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net)
[16:07:57] <MaikKlein> I need rust for my upcoming game engine research project
[16:08:04] <Seldaek> also I guess servo has been attracting the eyes of many web people
[16:08:05] <bstrie> I remember the first time I ever got a segfault, in a class in college on writing low-level stuff
[16:08:15] <bstrie> I asked the professor "what does this error mean"
[16:08:23] <bstrie> and he laughed and clapped me on the shoulder and walked away
[16:08:28] <cmr> hahah
[16:08:29] <MaikKlein> haha
[16:08:32] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz‚Ä¶)
[16:08:39] <erickt1> that's some good teaching
[16:08:51] *** Parts: erickt1 (erickt@8C9ECD8F.3A598286.F12515B4.IP) ()
[16:08:54] <bstrie> he was a good teacher
[16:08:55] *** Joins: erickt1 (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[16:09:02] *** Quits: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net) (Ping timeout)
[16:09:29] *** Joins: jyeo` (user@F2D29657.F60B0462.67AC9B1.IP)
[16:09:59] <bstrie> very old-school though
[16:10:12] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[16:10:25] <cmr> I get paid to do python but I'm going to be going to school for systems work and it's what I'm interested in. I want something better than C but am frustrated with C++
[16:10:25] *** Quits: jyeo` (user@F2D29657.F60B0462.67AC9B1.IP) (Input/output error)
[16:10:28] <cmr> so, rust
[16:10:29] <bstrie> that was the class where we wrote a mips assembler in mips
[16:10:39] <pnkfelix> cmr: what about D ?
[16:10:43] *** Joins: jyeo` (user@F2D29657.F60B0462.67AC9B1.IP)
[16:10:53] <pnkfelix> cmr: (not that I object to being interested in Rust.  :) 
[16:10:56] *** Quits: lmandel (lmandel@F27D3820.D6C5F29.ADB88A9.IP) (Ping timeout)
[16:10:58] <erickt1> pnkfelix: wrong channel :p
[16:11:05] *** erickt1 is now known as erickt
[16:11:30] <pnkfelix> erickt: yeah, I know, I know.  I couldn't stop the logician in myself from saying "wait, there's something missing in that implication"
[16:11:42] <bstrie> pnkfelix is secretly walter bright, come to infiltrate our ranks
[16:12:06] <cmr> pnkfelix: I only looked at D seriously ~2-3 years ago and my feeling was that it was more complex and harder to actually write code at the level I wanted (GC? really?)
[16:12:42] <Seldaek> pnkfelix: does D have anyone using it? I mean it made a bit of noise when it came out and then nothing lately..
[16:13:09] <Seldaek> maybe I'm not looking at the right place, but it seems to have less of an exciting future than rust to me 
[16:13:13] *** Joins: lmandel (lmandel@F27D3820.D6C5F29.ADB88A9.IP)
[16:13:38] <MaikKlein> who is walter bright? I thin I saw a post of him several days ago
[16:13:46] <MaikKlein> I think it was c++ vs d or sth
[16:13:46] <cmr> author of D
[16:14:07] <pnkfelix> Seldaek: certainly from hanging out in this room, Rust feels like it wins w.r.t. exciting future 
[16:14:48] <Seldaek> pnkfelix: yeah obviously but I meant just overall news buzz, it seems a bit dead
[16:15:18] *** Joins: eholk (eholk@moz-503EAD7C.uconnect.utah.edu)
[16:15:34] <bstrie> it needs a big project where you can point to and say "D made this possible". without servo rust would be dead in the water
[16:15:56] <bstrie> it's not enough to make a good language nowadays, you need to have a compelling application
[16:16:03] <MaikKlein> doesn't samsung also use rust for sth?
[16:16:10] *** Quits: mib_5lxsoc (Mibbit@BBE7C46A.B4F11D08.8612FA94.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:16:10] <bstrie> maybe
[16:16:13] *** Quits: jpochyla (jpochyla@E1DB45DB.1AFA5C43.5DC06702.IP) (Ping timeout)
[16:16:14] *** Quits: lmandel (lmandel@F27D3820.D6C5F29.ADB88A9.IP) (Quit: lmandel)
[16:16:18] <bstrie> they have people working on it
[16:16:28] <bstrie> though I haven't heard from sanxiyn in a long time
[16:16:38] *** Joins: stomper (Mibbit@moz-1FEAB537.ucsf.edu)
[16:17:17] <bstrie> in any case, samsung is big enough that it makes sense for them to diversify. I'm sure they have their fingers in a lot more pies than rust
[16:17:37] <Seldaek> finally compiling.. goddamned llvm submodule took forever to download
[16:17:53] <MaikKlein> yeah its pretty big
[16:17:55] <bstrie> Seldaek: oh good, now you get to wait an hour for llvm to compile :)
[16:18:02] <Seldaek> hehe
[16:18:03] <bstrie> unless you have a good CPU and used -j8
[16:18:25] <bstrie> oh and also more than 5gb free ram
[16:18:28] <erickt> and then it's *only* 10-20 minutes or so
[16:18:30] <MaikKlein> a full compile takes like 17 min on my laptop
[16:18:31] <Seldaek> it runs in a VM on my laptop, and no I didn't do that, should I pass it to make?
[16:18:39] <bstrie> make -j8 would do it
[16:18:47] <bstrie> but make sure your vm has 8gb of memory
[16:18:55] <bstrie> -j8 literally does use 5gb peak
[16:18:59] <Seldaek> my laptop has 8GB of memory :p
[16:19:11] <Seldaek> of which 1 is free 
[16:19:15] <Seldaek> so I guess I'll skip that
[16:19:18] <MaikKlein> btw is everyone here using a laptop for coding :D?
[16:19:20] <bstrie> then you get to wait for a while! :)
[16:19:31] <bstrie> all these people trying to compile rust in vms, damn
[16:19:39] <bstrie> they crazy :)
[16:19:44] <Seldaek> well is it possible to download snapshots?
[16:19:49] <MaikKlein> yes
[16:19:56] <bstrie> it's possible to download... linux :P
[16:19:59] <MaikKlein> there is a arch repo for linux
[16:19:59] <Seldaek> I just want to update my stuff to "0.7"
[16:20:04] *** Joins: carllerche (carllerche@moz-CDE5367B.dsl.static.sonic.net)
[16:20:12] <bstrie> Seldaek: 0.7 won't be out for a few days still
[16:20:18] <MaikKlein> 0.7 comes in 2 days
[16:20:22] <Seldaek> yeah that's why  Ithought I compile it now
[16:20:27] <bstrie> hahaha
[16:20:31] <Seldaek> seems like I might be better off waiting for binaries at this rate though :p
[16:20:47] *** Joins: lmandel (lmandel@moz-344B563E.dsl.bell.ca)
[16:20:52] <bstrie> is your actual OS windows?
[16:20:58] <Seldaek> yes
[16:20:58] <bstrie> because we do release binaries for windows
[16:21:08] <bstrie> we make mac and linux users build themselves
[16:21:17] <Seldaek> but I had socket issues on 0.6 on windows
[16:21:33] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[16:21:45] <Seldaek> which is why I started using a vm
[16:21:51] <bstrie> you'll probably have the same issue on 0.7, we're still a little ways away from enabling the new scheduler and all its satellites
[16:22:07] <bstrie> so anything with networking is basically the same
[16:22:15] *** Joins: wilsonk|2 (kvirc@moz-39EFBFC2.cg.shawcable.net)
[16:22:32] <Seldaek> eh well, no worries
[16:22:47] *** Quits: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net) (Ping timeout)
[16:23:12] *** Joins: brendan (brendaneic@moz-ACC6832C.sub-70-197-7.myvzw.com)
[16:23:14] <Seldaek> apart from the initial compiling issue, the rest is fairly ok with the vm, I'm just running commands in a terminal anyway
[16:23:57] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Connection reset by peer)
[16:24:07] <cmr> MaikKlein: no, I almost soley use a desktop
[16:24:09] <bstrie> rust is the reason I switched to linux full-time... if only all my games weren't still on windows :(
[16:24:11] <cmr> though I have a netbook for travel
[16:24:13] <bstrie> except for tf2
[16:24:25] <bstrie> gj valve
[16:24:49] <MaikKlein> bstrie, haha
[16:24:54] *** Joins: jclements (jclements@43CB6079.66715431.D25A875A.IP)
[16:24:57] <MaikKlein> hl2 is now in linux too
[16:25:04] <MaikKlein> on*
[16:25:06] <MaikKlein> beta
[16:25:12] <bstrie> I'm still playing through the first half-life (and yes, on linux)
[16:25:19] <cmr> 55/122 of my steam games are on linux.
[16:25:25] <MaikKlein> there is actually a hl1 mod
[16:25:30] <MaikKlein> in source engine
[16:25:32] <Seldaek> bstrie: I just can't stand linux desktops, I really wish it wasn't a pain in the ass because I spend half my day in a terminal anyway
[16:25:36] <MaikKlein> and the sdk is now linux compatible
[16:25:41] <MaikKlein> maybe u can play it on linux
[16:25:43] <bstrie> unfortunately right now all my friends are obsessed with mechwarrior online so I'm never in my linux partition so I never get any work done
[16:25:56] <cmr> mmm mechwarrior
[16:25:59] <cmr> such a good series
[16:26:09] <MaikKlein> i hate mech :(
[16:26:11] <cmr> the rts wasn't bad either
[16:26:24] <MaikKlein> but i am stupid
[16:26:27] <MaikKlein> ok going to eat now
[16:27:13] *** Quits: robert (robertknig@moz-C34822AC.range86-166.btcentralplus.com) (Ping timeout)
[16:27:35] *** Joins: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP)
[16:28:32] *** Quits: MaikKlein (maik@moz-DB448B31.dip0.t-ipconnect.de) (Ping timeout)
[16:30:13] <doomlord> rust / gl bindings - the ones i saw were rustified - GL_  gl*** prefixes removed and put into a namespace/module 
[16:30:17] *** Joins: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca)
[16:30:32] <doomlord> i might have been more comfortable if they were 1:1 with c bindings - its an experiment i might try
[16:30:53] <doomlord> i.e. the same functioon names, symbol names
[16:32:20] <bstrie> doomlord: I'll probably end up doing that with my lua bindings... it's said because *every* function call looks like either lua_foo(lua_context, ...) or luaL_foo(lua_context, ...), and I wanted to turn them into lua_context.foo(...), but there are like six functions in the entire interface that would collide if I did that :(
[16:32:30] <dbaupp> bjz: you were/are working on this^, aren't you?
[16:32:46] <cmr> bjz wrote https://github.com/bjz/gl-rs
[16:32:51] *** Quits: spider-mario (spidermari@moz-B8FA2FF4.rev.sfr.net) (Input/output error)
[16:32:55] <cmr> and the other one, glcore
[16:33:25] *** Joins: bnicholson (bnicholson@moz-E98974C1.hsd1.ca.comcast.net)
[16:33:27] <bjz> I'm currently working on a loader generator that uses the xml registry
[16:33:36] <bjz> that was recently released
[16:34:05] <bjz> it will also use static muts
[16:34:07] <doener> is tests::package_script_with_default_build failing for anybody else?
[16:34:15] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[16:34:41] *** Joins: victorporof (victorporo@475EFE2D.75AF2AF4.D111398B.IP)
[16:35:01] <doener> hm, maybe it's because I'm doing in-tree builds?
[16:35:43] *** Joins: mib_nkqc2k (Mibbit@BBE7C46A.B4F11D08.8612FA94.IP)
[16:37:04] *** Joins: spider-mario (spidermari@moz-B8FA2FF4.rev.sfr.net)
[16:37:39] <doomlord> i want to start doing some graphics coding again hence i'm torn :) 
[16:38:05] <doomlord> if rust gets the multiple item macros fixed .. .it wins hands down
[16:38:25] <bstrie> you hear that, pauls? our future depends on you!
[16:38:56] <doomlord> From what i've been advised, it would be hard for an outsider to learn the compiler enough to contribute a fix for that
[16:39:06] <jclements> doomlord: the solution here is probably to steal something from racket--namely, a lightweight "begin" form that gets flattened out during expansion.
[16:39:09] <doener> yeah, that test pop()s once too often
[16:39:39] <doomlord> from what i understand the intended macro behaviour is simple broken at the minute, (fair enough)
[16:39:57] <doomlord> someone had a workaround which was to make a module inside the macro expansion :)
[16:40:03] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:40:15] *** Quits: nano (nano@moz-972880B.superkabel.de) (Connection reset by peer)
[16:40:18] <doomlord> mod blah { .many items .... } ... but it means cluttering code with extraneous modules
[16:40:31] <jclements> doomlord: yep, that might have been me.
[16:40:42] <doomlord> i find myself wanting to do thigns with "x-macros" in c/c++ a lot ... feels very clunky
[16:40:44] <jclements> doomlord: you need to wrap them with #[macro_escape], though.
[16:40:51] *** Quits: victorporof (victorporo@475EFE2D.75AF2AF4.D111398B.IP) (Ping timeout)
[16:42:50] *** Quits: fabiand (fabiand@moz-34D7246A.adsl.alicedsl.de) (Quit: Verlassend)
[16:43:15] *** Joins: Azdle (Azdle@moz-B334B496.hfc.comcastbusiness.net)
[16:43:17] <doener> r? https://github.com/mozilla/rust/pull/7452
[16:44:09] *** Quits: carllerche (carllerche@moz-CDE5367B.dsl.static.sonic.net) (Quit: carllerche)
[16:45:41] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[16:45:50] *** Quits: jyeo` (user@F2D29657.F60B0462.67AC9B1.IP) (Ping timeout)
[16:49:41] *** Quits: stomper (Mibbit@moz-1FEAB537.ucsf.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[16:51:01] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[16:51:50] *** Quits: brendan (brendaneic@moz-ACC6832C.sub-70-197-7.myvzw.com) (Quit: brendan)
[16:51:54] <Seldaek> compiling compiling.. 
[16:52:07] <doener> cmr: thanks!
[16:52:25] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[16:52:29] *** Quits: jclements (jclements@43CB6079.66715431.D25A875A.IP) (Ping timeout)
[16:52:50] *** Joins: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com)
[16:53:29] *** Joins: jclements (jclements@2557E599.66715431.D25A875A.IP)
[16:54:31] *** Quits: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[17:01:37] *** Quits: dbaupp (Thunderbir@moz-EAB436DB.lns20.syd6.internode.on.net) (Ping timeout)
[17:01:41] *** Joins: fenster (Mibbit@3EB95FA4.3B7A6AA3.27B0C9E2.IP)
[17:02:09] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[17:02:24] *** Quits: fenster (Mibbit@3EB95FA4.3B7A6AA3.27B0C9E2.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:03:18] <doomlord> https://github.com/mozilla/rust/wiki/Rust-for-CXX-programmers <<< nice , i only just found that..
[17:03:45] *** Joins: erickt1 (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[17:03:46] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Connection reset by peer)
[17:04:51] *** Joins: jviereck (Adium@moz-F6B10945.dclient.hispeed.ch)
[17:06:20] *** Joins: Kruppe (user@moz-4DDA8AB8.uwaterloo.ca)
[17:08:32] *** Quits: jyeo (user@F2D29657.F60B0462.67AC9B1.IP) (Ping timeout)
[17:09:15] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[17:10:37] *** Joins: H4199 (chatzilla@moz-64E556D3.austin.res.rr.com)
[17:10:54] *** Joins: MaikKlein (maik@moz-DB448B31.dip0.t-ipconnect.de)
[17:12:45] <MaikKlein> whats the syntax for HOF?
[17:12:58] <MaikKlein> like fn foo(f: fn()->())
[17:13:37] <MaikKlein> rusti: foo(f: fn()->()){}
[17:13:44] *** Joins: timot (timot@71B9CDC9.D70A5E49.898DC978.IP)
[17:14:15] <kimundi> fn foo(f: &fn(U)-> T) for a stack closure, fn foo(f: ~fn(U)-> T) for an ownin closure
[17:14:41] <kimundi> also, fn foo(f: @fn(U)-> T)
[17:15:03] <strcat> well you can pass extern fns or heap closures as &fn
[17:16:37] *** Quits: bnicholson (bnicholson@moz-E98974C1.hsd1.ca.comcast.net) (Quit: Ex-Chat)
[17:16:57] <MaikKlein> ok
[17:18:18] *** Joins: jyeo (user@F2D29657.F60B0462.67AC9B1.IP)
[17:21:52] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:24:29] <MaikKlein> do you think this looks usable? https://gist.github.com/MaikKlein/5886408
[17:24:50] *** Quits: jyeo (user@F2D29657.F60B0462.67AC9B1.IP) (Input/output error)
[17:25:08] <MaikKlein> i am not sure if clients always want to write {}
[17:25:24] *** Quits: a__ (a__@moz-250D9B4.nycmny.fios.verizon.net) (Client exited)
[17:25:26] *** Joins: ecr (ereed@2557E599.66715431.D25A875A.IP)
[17:25:40] *** Joins: jyeo (user@F2D29657.F60B0462.67AC9B1.IP)
[17:25:54] <cmr> and you don't need them here. you can have multiple "let foo = bar"
[17:26:17] *** Joins: a__ (a__@moz-250D9B4.nycmny.fios.verizon.net)
[17:26:43] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Connection reset by peer)
[17:27:01] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[17:27:21] <engla> it looks like you can chain them, root.create_child_node("x").create_child_node("y")
[17:27:30] <bstrie> indeed
[17:28:14] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Ping timeout)
[17:28:16] <MaikKlein> right I could do that ;)
[17:28:20] *** Joins: ghrust (ghrust@C621748.6A2AE50.F3114085.IP)
[17:28:20] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/tUuIDQ
[17:28:21] *** Parts: ghrust (ghrust@C621748.6A2AE50.F3114085.IP) ()
[17:29:19] *** Quits: davbo (dave@moz-3FFA637C.oucs.ox.ac.uk) (Client exited)
[17:30:48] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[17:31:00] *** Joins: ghrust (ghrust@AC22872E.6A2AE50.F3114085.IP)
[17:31:01] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/RHrdXw
[17:31:01] *** Parts: ghrust (ghrust@AC22872E.6A2AE50.F3114085.IP) ()
[17:31:03] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[17:31:03] <ghrust> 01[13rust01] 15bors pushed 22 new commits to 06auto: 02http://git.io/uLuPeg
[17:31:03] <ghrust> 13rust/06auto 14607b91d 15Patrick Walton: librustc: Rename Owned to Send in the compiler
[17:31:03] <ghrust> 13rust/06auto 14d350981 15Patrick Walton: librustc: Change Const to Freeze in the compiler
[17:31:04] <ghrust> 13rust/06auto 141eec3bb 15Patrick Walton: librustc: Rename Const to Freeze
[17:31:06] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[17:31:30] <MaikKlein> haha
[17:31:40] <MaikKlein> engla, thanks now my code looks a lot better https://gist.github.com/MaikKlein/5886462
[17:31:54] <MaikKlein> why didn't I realize that by myself :x
[17:32:12] <bstrie> method chaining is pretty sweet
[17:32:24] <MaikKlein> ah right
[17:32:29] <MaikKlein> I wanted to ask sth
[17:32:37] <MaikKlein> rusti: "d"
[17:32:46] <bstrie> rusti has left the building
[17:32:56] <MaikKlein> seems so 
[17:32:56] <MaikKlein> anway
[17:33:05] *** Quits: timot (timot@71B9CDC9.D70A5E49.898DC978.IP) (Ping timeout)
[17:33:07] <bstrie> MaikKlein: I will play rusti today
[17:33:09] <bstrie> "d"
[17:33:15] *** Joins: steven_is_false (user@moz-144077DE.bchsia.telus.net)
[17:33:45] <MaikKlein> bstrie, let v = ~[1,2,3,4,5]; let mut r = v.last(); r
[17:33:55] <bstrie> "d"
[17:33:56] *** Parts: steven_is_false (user@moz-144077DE.bchsia.telus.net) (ERC Version 5.3 (IRC client for Emacs))
[17:33:59] <MaikKlein> :D
[17:34:00] <cmr> hahah
[17:34:04] <Seldaek> bstrie: eh at least something good (I hope) came out of me having to stare at the compile for an hour :p https://github.com/mozilla/rust/pull/7453
[17:34:15] <cmr> (http://esolangs.org/wiki/IRP)
[17:34:21] *** Joins: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[17:34:26] *** Joins: mschifer (Adium@2557E599.66715431.D25A875A.IP)
[17:34:40] <MaikKlein> it outputs &5 instead of &mut 5
[17:34:51] <MaikKlein> can i force .last() to give me a mutable & ?
[17:34:51] <cmr> r isn't a &mut though.
[17:35:07] <MaikKlein> hm
[17:35:21] <MaikKlein> let r: &mut int ?
[17:35:46] <kimundi> last() needs to be declared as returning &mut
[17:35:56] <kimundi> err, defined
[17:36:15] <MaikKlein> because I hacked it like &mut(self.child[self.child.len()-1])
[17:36:27] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[17:36:40] <kimundi> which in practice means you need a last_mut() kinda method
[17:36:49] <MaikKlein> ah ok
[17:36:53] <MaikKlein> should I add it?
[17:37:08] <bstrie> cmr: wonderful
[17:37:10] <MaikKlein> as a PR?
[17:37:11] <bstrie> "The only real problem with a quine in this format is that it could easily lead to infinite recursion, until the interpreters get bored."
[17:37:45] <bstrie> Seldaek: thanks!
[17:38:32] <Seldaek> bstrie: np, I'm a bit sad deleting a line is my only achievement so far though 
[17:39:00] <indutny> hey people
[17:39:06] <Blei> doener: great work! 5 bugs in one commit might be a new record
[17:39:09] <indutny> cmr: I've almost working MmapChunk API
[17:39:10] <indutny> :)
[17:39:13] <cmr> Blei: nope
[17:39:15] <indutny> with win32 support
[17:39:19] <indutny> still, haven't tested it yet
[17:39:23] <Blei> haha, what's the record then?
[17:39:24] <cmr> Blei: niko topped it with one of his recent ones iirc
[17:39:33] <cmr> 6 until he gave up looking for bugs
[17:39:36] <indutny> but if you feel like  you want to take a look at it - I can share it with you
[17:39:43] *** Joins: victorporof (victorporo@475EFE2D.75AF2AF4.D111398B.IP)
[17:39:46] <Blei> not bad, not bad
[17:40:11] <Blei> but niko's commits are always so huge. maybe we should normalize with diff size
[17:40:46] <cmr> hm. I think that one would win hands down
[17:41:45] *** Quits: victorporof (victorporo@475EFE2D.75AF2AF4.D111398B.IP) (Ping timeout)
[17:42:49] *** Quits: Amanieu (amanieu@moz-D5D10CA8.halls.manchester.ac.uk) (Ping timeout)
[17:43:17] *** Joins: ghrust (ghrust@C621748.6A2AE50.F3114085.IP)
[17:43:17] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1402b4d38 to 144e4e2f7: 02http://git.io/N3iJvQ
[17:43:17] *** Parts: ghrust (ghrust@C621748.6A2AE50.F3114085.IP) ()
[17:43:19] *** Joins: ghrust (ghrust@CFE85B59.6A2AE50.F3114085.IP)
[17:43:19] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/66HVdA
[17:43:19] <ghrust> 13rust/06auto 1465ca183 15Bj√∂rn Steinbrink: Add missing argument to a debug! call in trans_arg_expr
[17:43:19] <ghrust> 13rust/06auto 143b10531 15Bj√∂rn Steinbrink: Avoid double indirection for the "self" arg in methods...
[17:43:19] <ghrust> 13rust/06auto 14047f1c5 15bors: auto merge of #7452 : dotdash/rust/self_indirection, r=cmr...
[17:43:21] *** Parts: ghrust (ghrust@CFE85B59.6A2AE50.F3114085.IP) ()
[17:43:27] <cmr> bahhh
[17:43:45] *** Joins: timot (timot@moz-1027AC1.cust.telenor.se)
[17:43:53] <doener> Blei: thanks!
[17:44:13] *** Quits: doomlord (doomlod@moz-6651F8D4.range86-145.btcentralplus.com) (Ping timeout)
[17:44:15] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[17:44:21] *** Quits: n00b6502 (kwr5y54@moz-6651F8D4.range86-145.btcentralplus.com) (Ping timeout)
[17:45:07] <doener> tooks me almost a week to get that right, mostly because of two existing bugs that just didn't matter before
[17:45:40] <doener> well, and the fact that I just didn't read the code carefully enough ;-)
[17:46:11] <Blei> well, it's definitely time well spent
[17:47:34] <engla> MaikKlein: nice.. now line up the indentation so my eyes can stop twitching
[17:47:49] <MaikKlein> engla, i did but gist is formatting it weird
[17:47:52] <MaikKlein> dunno why
[17:48:14] *** Quits: jyeo (user@F2D29657.F60B0462.67AC9B1.IP) (Ping timeout)
[17:48:32] *** Joins: jyeo (user@F2D29657.F60B0462.67AC9B1.IP)
[17:48:44] *** Joins: n00b6502 (kwr5y54@moz-6651F8D4.range86-145.btcentralplus.com)
[17:48:45] <MaikKlein> is this how I do composition in rust? have a look at scenenode and rootscenenode -> https://gist.github.com/MaikKlein/5886579 It feels a little bit wrong.
[17:49:36] *** Quits: a__ (a__@moz-250D9B4.nycmny.fios.verizon.net) (Client exited)
[17:50:35] *** Joins: a__ (a__@moz-250D9B4.nycmny.fios.verizon.net)
[17:50:40] *** Quits: n00b6502 (kwr5y54@moz-6651F8D4.range86-145.btcentralplus.com) (Ping timeout)
[17:51:39] *** Joins: graydon (graydon@moz-9918B407.vc.shawcable.net)
[17:51:39] *** ChanServ sets mode: +qo graydon graydon
[17:52:08] *** Quits: jviereck (Adium@moz-F6B10945.dclient.hispeed.ch) (Quit: Leaving.)
[17:52:32] *** Quits: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP) (Quit: Lost terminal)
[17:54:20] <Seldaek> quick question.. if I rustc src/librust/rust.rs nothing seems to happen/build, I guess I'm doing something dumb but is there sometihng I have to clear (make clean?) to be able to rebuild with some changes?
[17:54:34] <engla> MaikKlein: I think the code doesn't show why you need a separate type for the root
[17:54:43] <Seldaek> I'd rather not wait 30min to build a minor change is why I ask before trying random stuff
[17:55:07] <engla> MaikKlein: by the way you can let the traverse function pass a slice, and the caller will copy only if needed
[17:56:10] <cmr> Seldaek: it should spit out a librustc-hash.so in the current dir
[17:56:16] <bstrie> Seldaek: you can just run the first stage of the compiler if you want to make sure your code has no errors
[17:56:37] <cmr> Seldaek: or, rather, in src/librustc
[17:56:39] <cmr> *librust
[17:57:02] <cmr> if you did an in-tree build you probably won't see any change
[17:57:45] <Seldaek> cmr: indeed there is that, but I guess I can't just run this can I?
[17:57:58] <cmr> Seldaek: can't just run what?
[17:57:59] *** Quits: a__ (a__@moz-250D9B4.nycmny.fios.verizon.net) (Client exited)
[17:58:04] <cmr> No, librust isn't really anything
[17:58:23] <Seldaek> well I just wanted to tweak something in the rust CLI "API" 
[17:58:52] *** Joins: pcwalton (pcwalton@43CB6079.66715431.D25A875A.IP)
[17:58:52] *** ChanServ sets mode: +o pcwalton
[17:58:52] <cmr> librust is the `rust` program, not `rustc`, you know that right?
[17:58:54] <MaikKlein> engla, ah right I forgot to make SceneNode private. I just want that the client can only use a root.
[17:58:57] *** Joins: a__ (a__@moz-250D9B4.nycmny.fios.verizon.net)
[17:59:07] <Seldaek> cmr: yup that's what I'm trying to tweak
[17:59:12] <cmr> Ok
[17:59:18] <Seldaek> just not sure how I can recompile just that and run it
[17:59:29] <bstrie> ah I see
[17:59:33] <cmr> Seldaek: you can do rustc --bin, I think
[17:59:35] <bstrie> I forgot about the rust program :P
[17:59:43] <cmr> that should override the crate attr
[17:59:51] <engla> MaikKlein: could you do that by just exposing the root node? make get children priv
[17:59:56] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[18:00:33] *** Quits: SimonSapin (simon@88F51059.F3BBB17D.144F44FA.IP) (Ping timeout)
[18:00:40] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Ping timeout)
[18:01:34] *** Joins: jclements_ (jclements@43CB6079.66715431.D25A875A.IP)
[18:01:47] <Seldaek> cmr: hmm, error: linking with `cc` failed with code 1 and then a crapton of undefined reference to LLVMSomethingSomething
[18:01:58] <MaikKlein> engla, I don't want to have SceneNodes hidden, I just want that the client can only create them like root.create_child_node. Dunno if this is a good idea yet :)
[18:02:55] <engla> ok
[18:03:07] <cmr> I wonder if there is a make target for stage1 rust...
[18:03:19] <MaikKlein> yes
[18:03:20] <MaikKlein> there is
[18:03:33] <MaikKlein> make rustc-stage1
[18:03:34] <graydon> aww, rust team sent me flowers
[18:03:39] <cmr> not rustc, rust
[18:03:39] <graydon> y'all so nice
[18:03:49] <MaikKlein> ups sry
[18:03:51] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[18:07:12] <bstrie> graydon: are you... in the hospital?
[18:07:28] <graydon> no, just at home recovering from surgery on tuesday
[18:07:38] <cmr> bstrie: he's actually dead
[18:07:53] *** graydon is now known as graydon_flatline
[18:07:58] <bstrie> it wouldn't be the first time I've conversed with the dead on irc
[18:07:59] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[18:07:59] *** ChanServ sets mode: +o brson
[18:08:09] <cmr> mecha-graydon doesn't need no organic bits
[18:08:20] <jedestep> we have the technology
[18:08:22] <jedestep> we can rebuild him
[18:08:39] <graydon_flatline> I'll just keep telling very familiar jokes while waiting
[18:08:47] <bstrie> graydon_flatline: that doesn't prove anything, what if the surgery was to give you one of those awesome continuous-pump hearts that keep you alive without a heartbeat
[18:09:07] <Seldaek> cmr: so if all else fails, make clean && make is the only way I guess? Can I at least skip the llvm compilation somehow?
[18:09:15] <cmr> Seldaek: you don't need a make clean
[18:09:19] <cmr> and make clean doesn't clean llvm
[18:09:26] <Seldaek> alright
[18:09:32] <graydon_flatline> bstrie: only me and my silent, whooshing heart will know
[18:09:34] <bstrie> Seldaek: yes, llvm building is a one-time process
[18:09:47] <Seldaek> at least some good news ;)
[18:09:58] <bstrie> http://www.popsci.com/science/article/2012-02/no-pulse-how-doctors-reinvented-human-heart?page=all
[18:09:59] <pcwalton> stop landing such awesome things like 4% performance improvements so I don't feel bad about closing the tree :)
[18:10:04] <pcwalton> (kidding)
[18:10:07] *** Joins: doomlord (doomlod@moz-6651F8D4.range86-145.btcentralplus.com)
[18:10:07] <bstrie> Seldaek: at least until we make a change to llvm :)
[18:10:35] <pcwalton> this is something like a 25% compiler performance increase over the past 3 weeks, no?
[18:10:45] <cmr> much more than that I think
[18:11:03] <bstrie> pcwalton: it's definitely faster, it's something like two minutes reduced from the last time I checked a few months ago
[18:11:16] <bstrie> 12m6s was my last timing
[18:11:22] <doomlord> pastebin.com/afh0tGYr
[18:11:36] <bblum> hm where's aatch
[18:11:59] <doener> stage2 librustc took about 2:45 a few weeks ago, it's at 2:01 now
[18:12:06] <doener> on my box...
[18:12:17] <cmr> pcwalton: someone made pre-trans memory usage better too, I haven't bisected which PR did it though
[18:12:34] <pcwalton> cmr: was that the borrowck fix?
[18:12:42] <pcwalton> "map node ids through a whatever whatever"
[18:12:44] <cmr> no
[18:12:48] <cmr> that did almost nothing
[18:12:54] <doomlord> any comments on my paste wecome
[18:12:59] <pnkfelix> graydon_flatline: Hey, did you come up with the entire set of github issue labels all in one go? or do you know some secret magic to add a new label and get it inserted into the appropriate spot in the alphabetical order?
[18:12:59] <doener> the borrowck fix just kills a few small early spikes
[18:13:03] <doomlord> welcome^
[18:13:17] *** Quits: erickt1 (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[18:13:24] <doener> cmr: didn't aatch's refactoring drop some? That was how we noticed the skew from measuring memory usage
[18:13:36] <cmr> *shrug*
[18:13:44] <cmr> I'm going to bisect over the weekend, figure out who to blame :p
[18:13:46] <graydon_flatline> pnkfelix: I don't remember if there was some trick
[18:13:47] <bstrie> doomlord: if you have to make the decision *right this minute*, stick with c++. otherwise, it's too soon to tell
[18:13:54] *** Quits: jclements_ (jclements@43CB6079.66715431.D25A875A.IP) (Ping timeout)
[18:14:01] <cmr> pcwalton: I have your PR updated btw
[18:14:03] <Blei> also we don't parse the prelude anymore
[18:14:06] <cmr> it... should pass
[18:14:07] *** Quits: a__ (a__@moz-250D9B4.nycmny.fios.verizon.net) (Client exited)
[18:14:08] <Blei> that might have been a spike
[18:14:13] <pcwalton> cmr: cool
[18:14:14] <pnkfelix> graydon_flatline: I wanted to add a "A-ffi" label, but could not figure out how to do it without disrupting the collection
[18:14:16] <Blei> s/prelude/intrinsics/
[18:14:17] <pcwalton> I just updated
[18:14:29] *** Joins: n00b6502 (kwr5y54@moz-6651F8D4.range86-145.btcentralplus.com)
[18:14:32] <graydon_flatline> cmr: the borrowck thing fixed a giant memory-use, not a speed thing
[18:14:38] <pnkfelix> graydon_flatline: and since the current alphabetical order is so pleasant ‚Ä¶ I just couldn't bring myself to add the issue.  :(
[18:14:43] <cmr> graydon_flatline: I know, I'm measuring memory usage
[18:14:48] <pcwalton> I would make resolve lazy if I didn't feel remiss about being behind on getting rid of "copy"
[18:14:54] <bstrie> pnkfelix: are you sure it wasn't just putting the label at the bottom because it had zero issues tagged?
[18:15:03] <pnkfelix> bstrie: that ‚Ä¶ is an interesting theory
[18:15:06] <pcwalton> I suspect that lazy resolve and more efficient coherence could have huge impacts on testsuite time
[18:15:08] *** Joins: a__ (a__@moz-250D9B4.nycmny.fios.verizon.net)
[18:15:14] * pnkfelix goes to experiment more with github
[18:15:16] <graydon_flatline> pnkfelix: I thought it alphebetized them automatically
[18:15:19] *** graydon_flatline is now known as graydon
[18:15:31] *** Joins: jclements_ (jclements@2557E599.66715431.D25A875A.IP)
[18:15:34] *** Joins: roo (jesse.rudo@moz-9E389259.dynamic.ip.windstream.net)
[18:15:36] <cmr> See http://sadpanda.us/images/1697379-60YF7PO.png
[18:15:38] <pnkfelix> graydon: not according to my experiments last night.  but I'll report back in a few
[18:15:41] <cmr> That's the most recent graph I have
[18:15:41] *** Quits: graydon (graydon@moz-9918B407.vc.shawcable.net) (Quit: Leaving.)
[18:15:44] *** Joins: graydon (graydon@moz-9918B407.vc.shawcable.net)
[18:15:44] *** ChanServ sets mode: +qo graydon graydon
[18:15:46] <doener> graydon_flatline: it wasn't that huge, a short spike of maybe 50-80MB IIRC. It was actually more of a speed thing, because it killed the zeroing of those allocations
[18:15:55] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[18:16:03] <cmr> There's a flat line pre-trans where before it was all spikey
[18:16:04] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[18:16:04] <ghrust> 01[13rust01] 15brson merged 06master into 06dist-snap: 02http://git.io/cIZjzQ
[18:16:04] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[18:16:11] <graydon> doener: it was huge on gc :)
[18:16:11] <cmr> or, more of a staircase type thing
[18:16:19] <graydon> doener: like 2gb difference :)
[18:16:42] <graydon> anything that allocates really large @-boxes really fast is a problem for gc at this point :(
[18:16:44] <doener> graydon: ah, yeah, with gc it's a different story, but you're the only one to enjoy that :-p
[18:16:52] <pnkfelix> bstrie: your hypothesis appears to have been 100% correct
[18:16:52] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: Textual IRC Client: www.textualapp.com)
[18:17:09] *** Quits: eholk (eholk@moz-503EAD7C.uconnect.utah.edu) (Quit: eholk)
[18:17:50] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[18:18:18] <bstrie> another snapshot? decadence
[18:19:12] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[18:19:58] *** Joins: Yurume_ (yurume@AC58A8CE.8A059B47.E313B915.IP)
[18:20:02] <bblum> where's aatch
[18:20:07] <cmr> not here
[18:20:35] *** Joins: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net)
[18:20:53] <brson> did we already do a dist snap?
[18:21:01] *** Quits: a__ (a__@moz-250D9B4.nycmny.fios.verizon.net) (Client exited)
[18:21:05] <brson> no
[18:21:18] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[18:21:21] <bstrie> ah, so this is a different kind of snapshot
[18:21:31] <brson> tarballs and installers
[18:21:56] *** Quits: roo (jesse.rudo@moz-9E389259.dynamic.ip.windstream.net) (Ping timeout)
[18:22:07] *** Joins: a__ (a__@moz-250D9B4.nycmny.fios.verizon.net)
[18:22:09] <MaikKlein> we probably should update the showcase code on http://www.rust-lang.org/
[18:22:22] <brson> yes please
[18:22:39] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Computer has gone to sleep.)
[18:22:46] *** Joins: echristo (echristo@D423593A.D6CCE4AE.77834EAA.IP)
[18:23:06] <brson> we also need to document the release process
[18:23:27] *** Quits: a__ (a__@moz-250D9B4.nycmny.fios.verizon.net) (Client exited)
[18:23:51] <bblum> i still don't get like half of the blurb text on the webpage
[18:24:08] <toddaaro> brson: are you busy? I still can't figure out a way to destroy coroutines
[18:24:23] <toddaaro> brson: everything I've tried ends up in segfaults/null pointer errors
[18:25:48] <MaikKlein> bblum, blurb text?
[18:26:06] <bblum> MaikKlein: Its design is oriented toward concerns of ‚Äúprogramming in the large‚Äù, that is, of creating and maintaining boundaries ‚Äì both abstract and operational ‚Äì that preserve large-system integrity, availability and concurrency. 
[18:26:13] <bblum> Rust also supports generic programming and metaprogramming, in both static and dynamic styles.
[18:26:40] <bstrie> the copy hasn't been touched since like rust 0.0
[18:27:21] <brson> toddaaro: I'll come up
[18:27:24] <toddaaro> brson: k
[18:28:42] <MaikKlein> do we have a tool to create c++ bindings in rust?
[18:29:16] <cmr> MaikKlein: no, nor is it possible
[18:29:22] <cmr> there's only a c ffi
[18:29:31] <bstrie> it's possible for a few select compilers, like D does
[18:29:32] <bstrie> but not in general
[18:29:35] <cmr> so any interacting with c++ needs to be through extern "C" { ... } in the C
[18:29:37] <brson> i really want to update the web page to make the sales pitch simpler, put a focus on the links. not enough time for 0.7 though
[18:30:10] <bstrie> brson: that sounds like a challenge
[18:31:04] <MaikKlein> is c++ support planed? because at  some time i would need to port bullet physics to rust.
[18:31:22] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Ping timeout)
[18:31:32] <pcwalton> MaikKlein: I'd like to have some subset of C++ support
[18:31:44] <cmr> MaikKlein: it's not an easy problem
[18:31:51] <bstrie> MaikKlein: https://github.com/mozilla/rust/issues/5853
[18:32:14] <bstrie> now *that* would be a good intern project
[18:32:33] <cmr> also https://github.com/mozilla/rust/issues/37
[18:32:49] *** Joins: victorporof (victorporo@475EFE2D.75AF2AF4.D111398B.IP)
[18:34:42] <doomlord> Something to compile C++ to C would be nice :) eg with a predictable human-readable name-mangle
[18:35:37] <doomlord> perhaps something along those lines could be done to automate making C wrappers for C++ (manually rolled vtables, extern "C" functions that call the C++ equivalent .. )
[18:36:26] <pcwalton> vtables are the easy part
[18:36:27] <pcwalton> templates are the hard part :)
[18:36:59] <doomlord> i wouldnt' expect theyre possible 
[18:37:09] *** Quits: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net) (Client exited)
[18:37:10] <Eridius> full C++ compatibility is crazy. Just write C wrappers and use those
[18:37:35] <strcat> pcwalton: also, destructors, etc.
[18:37:48] <strcat> yay virtual destructors
[18:37:54] <cmr> doomlord: swig already does this.
[18:38:15] <doomlord> making C wrappers means exposure of a library to many other languages too
[18:38:19] <pcwalton> cmr: can SWIG create C wrappers for C++?
[18:38:21] <cmr> yes
[18:38:29] <pcwalton> if so that might be a good way to do Rust bindings for C++
[18:38:37] <pcwalton> just punt to SWIG for the hard word
[18:38:37] <pcwalton> work
[18:39:15] <doomlord> the reverse would be good too ... C view of trait-objects..
[18:39:21] <cmr> it was a gsoc 2012 project
[18:39:32] <graydon> vec.each turned into vec.iter.advance?
[18:39:32] <doomlord> now there's a question- does rust do some sort of name mangling like C++ ?
[18:39:34] <graydon> is that it?
[18:39:39] <cmr> graydon: vec.iter().advance
[18:39:44] <graydon> thx
[18:39:45] <pcwalton> graydon: yeah
[18:39:47] <cmr> doomlord: yes, it does identical name mangling
[18:39:49] <pcwalton> temporarily
[18:39:50] <cmr> (at least on linux)
[18:39:54] <Seldaek> cmr, bstrie: alright actually make works fine to rebuild rust and only takes like 5sec so I managed to pull this out, would be happy to know if it's good enough: https://github.com/mozilla/rust/pull/7454
[18:40:03] <graydon> I know temporary, just want it to build
[18:40:43] <engla> what's the difference between &'static fn and extern fn  values?
[18:41:09] <pcwalton> engla: &'static fn is two words, extern fn is one word
[18:41:21] <pcwalton> other than that, no difference really
[18:41:30] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[18:41:37] <graydon> gosh. "do sort::quick_sort(array) |&(_, _, a), &(_, _, b)| { a > b }" is really nice
[18:42:04] <graydon> full points
[18:42:08] *** Joins: carllerche (carllerche@moz-BF6CB667.hsd1.ca.comcast.net)
[18:42:40] <pcwalton> graydon: yeah, the new iter library allows really elegant stuff like that too
[18:42:44] <pcwalton> method chaining
[18:43:15] *** Quits: Yurume_ (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[18:43:30] <Eridius> where's Le<T> defined?
[18:43:30] <engla> pcwalton: ok I'm not really good at closures yet, but why isn't &'static fn sendable?
[18:43:51] <pcwalton> engla: it should be
[18:43:52] <cmr> Eridius: std::op
[18:44:07] <pcwalton> I think nmatsakis and I discussed that
[18:44:08] <graydon> no, in sort
[18:44:15] <engla> ok great
[18:44:30] <Eridius> cmr: it's certainly not in std::ops, and there's no std::op. graydon, I don't see it defined in the docs for sort
[18:44:36] <cmr> ops, sorryoops
[18:44:39] <cmr> bah
[18:44:43] <graydon> it's in sort
[18:44:44] * cmr stops typing to eat
[18:44:46] <graydon> sort-specific
[18:44:59] <graydon> it's just a typedef for a comparator function
[18:45:03] <Eridius> ok it's in sort.rs. Why is it not in the docs?
[18:45:16] <graydon> not sure
[18:45:32] *** Quits: MaikKlein (maik@moz-DB448B31.dip0.t-ipconnect.de) (Ping timeout)
[18:45:59] <cmr> rustdoc doesn't do typedefs does it?
[18:46:24] <bstrie> Seldaek: does that give you anything different than "rust build -v" ?
[18:47:23] <bstrie> Seldaek: also, are you doing general cleanups on the rust tool? if so, please batch up your changes, because every pull request we run takes two hours to integrate
[18:47:26] <strcat> graydon: those sorts are all really slow anyway ;p, the closures don't optimize away at all
[18:48:16] <Seldaek> bstrie: no, but it's annoying when you aren't used to the tools, you try to figure out if the new rust got installed well, try rust -v and you get usage info without -v or --version option in the usage
[18:49:00] <Seldaek> bstrie: and nope I don't really have other things coming, but if there is anything stupid I can help with I might try and do it (after I go home and eat..)
[18:49:10] <bstrie> Seldaek: the rust tool is actually kind of neglected right no, I don't know if anyone really uses it. we obviously want that to change, but a lot of our other tooling (rustpkg, rustdoc, the pretty printer) all basically need rewrites
[18:50:15] <bstrie> but this change is fine
[18:50:18] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:50:33] <strcat> nmatsakis: the way that drop flag attribute should actually work is being attached to a field, so it could be safe if it only worked on POD fields or raw pointers
[18:50:39] <strcat> but it didn't end up being implemented that way
[18:50:55] *** Joins: vcl (chatzilla@741D4FEA.76F9E272.DA40C4B3.IP)
[18:50:56] *** Joins: hansjorg (hansjorg@moz-41C5CE61.redpill-linpro.com)
[18:51:11] <nmatsakis> strcat: I don't follow
[18:51:13] <strcat> I guess it could even use Zero and work on anything
[18:51:16] <nmatsakis> strcat: I also don't know why we need a drop flag
[18:51:31] <nmatsakis> strcat: afiak plan is to remove it, I have a rough plan for this
[18:51:38] *** Joins: sproing (Mibbit@moz-2760DC43.customer.cdi.no)
[18:51:39] <strcat> nmatsakis: well I don't know if we actually need it, but if we *do* have it, you should be able to pick a field to use as a replacement field
[18:51:47] <strcat> replacement drop flag*
[18:52:02] <nmatsakis> strcat: I see. Perhaps, I guess, but I'd prefer not to have it at all.
[18:52:08] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[18:52:23] <Seldaek> bstrie: ok, well thanks for the feedback, not sure I'm comfortable enough yet to be useful on rewriting the other tools, is there an issue list of sorts for those?
[18:52:39] *** Quits: pcwalton (pcwalton@43CB6079.66715431.D25A875A.IP) (Ping timeout)
[18:52:50] <nmatsakis> r? https://github.com/mozilla/rust/pull/7455 (somebody, pcwalton?)
[18:52:51] <cmr> Seldaek: I'm working on the rustdoc rewrite. https://github.com/mozilla/rust/wiki/Bikeshed-rustdoc
[18:52:59] *** Quits: sproing (Mibbit@moz-2760DC43.customer.cdi.no) (Quit: http://www.mibbit.com ajax IRC Client)
[18:53:04] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[18:53:09] *** Joins: pcwalton (pcwalton@43CB6079.66715431.D25A875A.IP)
[18:53:09] *** ChanServ sets mode: +o pcwalton
[18:53:12] <Seldaek> cmr: oh right I saw this on the ml, didn't have time to read in details though
[18:53:23] <bstrie> Seldaek: the general issue tracker is at https://github.com/mozilla/rust/issues , if you look at the side you'll see a "E-easy" tag for "easy" bugs
[18:53:54] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:54:47] <Seldaek> bstrie: right, thanks. heading home then, will check later
[18:54:47] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[18:55:19] <strcat> http://static.rust-lang.org/doc/tutorial-container.html#iterators \o/
[18:55:36] <strcat> so glad incoming is gone
[18:55:59] *** Joins: SimonSapin (simon@moz-D0C2F181.zone2.bethere.co.uk)
[18:56:01] <jack> bjz: does window.make_context_current() in your glfw work?
[18:56:20] <jack> bjz: it doesn't seem to generate a context change according to the opengl profiler
[18:57:42] *** Joins: tikue (tkuehn@2557E599.66715431.D25A875A.IP)
[18:59:23] <bblum> this code looks so much nicer now that we have atomic library types and 'finally'
[18:59:40] <graydon> ooh, color coded squiggles
[18:59:57] <bblum> graydon: i know right
[19:00:06] <graydon> my terminal is a disco
[19:00:10] <strcat> the finest squiggles in the land
[19:00:15] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[19:00:19] <bblum> it's rewarding you for writing incorrect code :P
[19:00:29] <pcwalton> for some reason color coding the squiggles feels much better
[19:00:36] <cmr> yeah it really does
[19:00:41] <pcwalton> also having a faster compiler doesn't hurt
[19:00:41] <bstrie> I still think that ^.....^ would be a better squiggle than ^~~~~~
[19:00:45] <strcat> graydon: you need http://terse.tk/ponysay/ and rustc() { /usr/bin/rustc $@ |& ponysay -W 80 }
[19:00:47] <bstrie> but now we're bikeshedding squiggles
[19:02:00] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[19:02:03] *** Joins: a__ (a__@moz-250D9B4.nycmny.fios.verizon.net)
[19:02:15] <cmr> "3 Advanced usage of ponysay."
[19:02:28] <strcat> our sorts are indeed pretty bad.
[19:02:55] <graydon> I wrote some #[bench] code on them out of curiosity
[19:03:05] *** Quits: n00b6502 (kwr5y54@moz-6651F8D4.range86-145.btcentralplus.com) (Ping timeout)
[19:03:09] <graydon> IIRC they vary by a factor of like 10,000 ?
[19:03:12] <strcat> sticking elements in an extra::PriorityQueue is faster than tim_sort ;p
[19:03:14] *** Quits: doomlord (doomlod@moz-6651F8D4.range86-145.btcentralplus.com) (Ping timeout)
[19:03:18] <graydon> yeah yeah
[19:03:27] <graydon> measure twice, cut once. we need better measurement.
[19:03:46] <cmr> I cannot help but think of tim the enchanter when I see tim_sort
[19:03:47] <graydon> speaking of which: I have a tasty new patch for those of you wanting to help with codegen
[19:03:54] *** Quits: jyeo (user@F2D29657.F60B0462.67AC9B1.IP) (Ping timeout)
[19:06:12] <doener> meh, timeout on linux-64bit-opt
[19:06:30] *** Joins: pcdummy (quassel@moz-CF4CA865.page4me.ch)
[19:06:40] <graydon> https://github.com/mozilla/rust/pull/7456 r? anyone
[19:07:20] <cmr> graydon: what's the output look like?
[19:07:29] *** Joins: n00b6502 (kwr5y54@moz-6651F8D4.range86-145.btcentralplus.com)
[19:07:35] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[19:07:35] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14047f1c5 to 144e4e2f7: 02http://git.io/N3iJvQ
[19:07:35] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[19:07:38] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[19:07:38] <ghrust> 01[13rust01] 15bors pushed 23 new commits to 06auto: 02http://git.io/OtdQaQ
[19:07:38] <ghrust> 13rust/06auto 14607b91d 15Patrick Walton: librustc: Rename Owned to Send in the compiler
[19:07:38] <ghrust> 13rust/06auto 14d350981 15Patrick Walton: librustc: Change Const to Freeze in the compiler
[19:07:38] <ghrust> 13rust/06auto 141eec3bb 15Patrick Walton: librustc: Rename Const to Freeze
[19:07:40] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[19:07:59] <graydon> cmr: https://gist.github.com/graydon/1c4eccba2a72e143d63a
[19:08:36] *** Joins: jpochyla (jpochyla@moz-8D99AE5D.broadband18.iol.cz)
[19:09:23] <cmr> ok
[19:09:46] <doener> retry? https://github.com/mozilla/rust/pull/7452
[19:10:33] <cmr> graydon: hm, would it be possible to use graphite for tracking performance?
[19:10:48] <cmr> for display, that is.
[19:11:25] <graydon> eventually, I'd like to. but I'd also like the most-serious parts of perf tracking to be automatic
[19:11:32] <graydon> i.e. "not allowed to regress at all"
[19:11:35] <cmr> I have a spare box I can dedicate to running benches and such, there's just nothing I can do with the data (my hacked-together matplotlib script can only go so far)
[19:12:12] <cmr> graydon: someone on reddit pointed out that that is equiv to https://en.wikipedia.org/wiki/Hill_climbing
[19:12:30] <strcat> graydon: yeah the ones taking closures are ridiculously slow
[19:12:49] <strcat> it's probably a bad sign that they all use Copy too
[19:12:53] *** Joins: eholk (eholk@moz-503EAD7C.uconnect.utah.edu)
[19:12:55] * strcat is testing on ints but...
[19:13:06] <graydon> cmr: well, we humans run the bots, we can override 'em
[19:13:26] <strcat> I think you need unsafe code to do a fast merge sort
[19:13:26] *** Joins: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net)
[19:13:26] *** Quits: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP) (Quit: eatkinson)
[19:13:28] <graydon> cmr: I just mean the default should be that regression => reject, in terms of integration. if you're landing a change you _expect_ to regress something, and know why, sure
[19:13:47] <cmr> sure
[19:13:49] *** Joins: Palmik (palmik@moz-CC484FDD.tmcz.cz)
[19:14:05] <strcat> and we need a rotate method on slices
[19:14:16] *** Quits: tikue (tkuehn@2557E599.66715431.D25A875A.IP) (Quit: tikue)
[19:14:19] <graydon> so we don't have these oversight-that-makes-everything-10%-slower things slipping in all the time
[19:15:10] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:15:30] <bblum> aaaaaaaaaaaaaatch
[19:15:31] *** Joins: heftig (heftig@moz-C12DDF6A.heftig.linuxsecured.net)
[19:15:34] <bblum> where is he
[19:15:34] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[19:15:37] <graydon> hm?
[19:16:05] <bblum> i just have a small question for him, is all :P
[19:16:17] <graydon> if anyone is interested in "making std compile faster", you might want to look at: https://gist.github.com/graydon/67879a5c2dc19d846530
[19:16:20] <Eridius> I bet saying his name without stretching it out would be more effective
[19:16:47] <strcat> graydon: implementing a new for loop will kill lots and lots of closures :)
[19:17:07] <bstrie> is aatch the one whose house keeps getting blown away by new zealand hurricanes
[19:17:10] <bblum> graydon: what am i looking at here?
[19:17:22] <strcat> 589 insns, 2 ms, str::__extensions__::push_char
[19:17:24] <strcat> huh.
[19:17:30] <graydon> bblum: instruction counts of the functions trans produces when compiling libstd
[19:17:34] <graydon> LLVM instruction counts
[19:17:39] <cmr> What are all the various numbers tacked at the end of from_str_bytes_common_XXXXX?
[19:17:41] <strcat> oh that's the utf-8 encoder
[19:18:14] <strcat> cmr: implementations?
[19:18:24] <strcat> well, I guess instantiations of it
[19:18:42] <graydon> cmr: different instantiations I believe
[19:18:47] <strcat> we should be doing generic code like C++ where you hoist out as much as possible from the generic function itself
[19:18:49] <cmr> Ahh
[19:18:54] <graydon> though that alone is an interesting question, to confirm
[19:19:01] <graydon> I am seeing a lot of this stuff in our generics, yes
[19:19:18] <bblum> strcat: that's a good idea
[19:19:21] *** Joins: jyeo (user@F2D29657.F60B0462.67AC9B1.IP)
[19:19:31] <cmr> Would it be possible to *not* monomorphize certain things, at like --opt-level=0 or something like -Os ?
[19:19:36] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[19:19:41] <graydon> where we are not properly doing the "C++ bloat-compensation" by factoring out non-type-dependent stuff. it's trickier for us since we have to manage the safe/unsafe boundary and will want most code to be safe.
[19:20:04] <graydon> cmr: no, we have no other implementation technique for polymorphic code at the moment. we used to, but we removed it.
[19:20:38] <graydon> (it was kinda a nightmare)
[19:20:55] <bblum> some sort of dynamic dispatch right?
[19:21:08] <Blei> is it possible to integrate c files into unit tests?
[19:21:10] <bblum> it must be harder when all your types can be on the stack instead of being pointer sized
[19:21:14] <Blei> to test the ffi?
[19:21:38] *** Joins: doomlord (doomlod@moz-6651F8D4.range86-145.btcentralplus.com)
[19:21:45] <SiegeLord> I wonder if there's any research on automatic template hoisting
[19:22:02] <strcat> we could be using the mergefunc pass
[19:22:04] <strcat> it'd help a lot
[19:22:08] <strcat> but our IR is too invalid to use it atm
[19:22:11] <strcat> it breaks stuff
[19:22:19] <strcat> stuff as in the entire hashmap, for one ;D
[19:22:26] <strcat> and then resolve breaks
[19:23:56] <graydon> https://gist.github.com/graydon/2bf27075dfeffb43fcaa  <-- libextra
[19:24:09] <cmr> 5244 insns, 31 ms, terminfo::parm::expand
[19:24:19] <cmr> that's basically just a state machine implemented using `match` on enums
[19:24:32] <cmr> so, more confirmation `match` has awful codegen
[19:24:33] * graydon suggests our 'match' code has .. issues
[19:24:36] <graydon> yeah
[19:25:42] <cmr> A really nice project would be unifying all the various reporting infrastructure in rustc and being able to output json or something, for easy extraction
[19:25:55] <graydon> I know
[19:25:58] <graydon> I am working on that
[19:26:00] <cmr> you are?
[19:26:03] <cmr> <3
[19:26:15] <graydon> yeah, one of many branches. also reasonable stats in general.
[19:26:23] <graydon> we have too many counters and not enough good reporting of them
[19:28:45] <graydon> https://gist.github.com/graydon/6571089fcc353e85747a  <-- librustc
[19:29:02] *** Joins: ShanHai-SR (Mibbit@moz-5C35A530.mc.videotron.ca)
[19:29:43] <engla> strcat: I created a very simple PR for fixing Unfoldr's new() https://github.com/mozilla/rust/pull/7450 can you review it? or roll it into some patch stack. thanks
[19:29:51] <strcat> engla: sec
[19:30:09] <bblum> hmm why on earth did i implement it this way
[19:30:21] *** Quits: ShanHai-SR (Mibbit@moz-5C35A530.mc.videotron.ca) (Quit: http://www.mibbit.com ajax IRC Client)
[19:30:27] <bblum> that's way more complicated than it needed to be
[19:31:37] <strcat> graydon: well... the quick sort is 2x slower than C++, but the others are far worse ;p
[19:31:50] <graydon> yeah, qsort is not bad. the others are bad.
[19:32:11] <strcat> and I can easily write a faster sort than std::sort in C++, it's pretty trivial
[19:32:15] <strcat> don't know why libstdc++ is so bad
[19:32:24] <strcat> well I guess because they don't want to allocate ;p
[19:32:34] <bblum> oh no it isn't; it did need to be that way
[19:34:04] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:35:13] <cmr> graydon: is it possible to measure the size of the IR in between optimization passes?
[19:35:21] <graydon> no
[19:35:24] <graydon> or, well, I don't know how
[19:35:27] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Textual IRC Client: www.textualapp.com)
[19:35:29] <graydon> maybe LLVM can
[19:35:46] <strcat> our optimization passes need work
[19:36:17] <strcat> we currently don't run constprop at all :|
[19:36:39] <graydon> oO
[19:36:47] <strcat> anyway we need to look at what clang does and copy it
[19:36:47] <bblum> what o_O
[19:37:08] <strcat> bblum: src/librustc/back/passes.rs, create_standard_passes fn
[19:37:09] <strcat> no constprop.
[19:37:45] *** Quits: jyeo (user@F2D29657.F60B0462.67AC9B1.IP) (Input/output error)
[19:37:49] *** Joins: tikue (tkuehn@2557E599.66715431.D25A875A.IP)
[19:37:51] <strcat> clang also starting using loop-vectorize at -O2, but we need to update LLVM
[19:38:03] *** Joins: jyeo (user@F2D29657.F60B0462.67AC9B1.IP)
[19:38:04] <bstrie> https://github.com/mozilla/rust/issues/3519  <-- llvm pass bug
[19:38:24] <strcat> well I don't think we are that different from C++ that we need to figure anything out ourselves
[19:38:36] *** Quits: pcwalton (pcwalton@43CB6079.66715431.D25A875A.IP) (Ping timeout)
[19:38:41] *** Joins: brendan (brendaneic@2557E599.66715431.D25A875A.IP)
[19:39:11] *** Joins: TAoPHOENIX (Mibbit@F16EB81C.67782878.BA607295.IP)
[19:40:09] <TAoPHOENIX> Hi everybody
[19:40:27] <Blei> hi
[19:40:28] <cmr> `llvm-as < /dev/null | opt -O3 -disable-output -debug-pass=Arguments` dumps the passes llvm-as runs by default at a given opt level, not sure if clang does something different
[19:42:00] *** Quits: TAoPHOENIX (Mibbit@F16EB81C.67782878.BA607295.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:42:31] <strcat> clang folds constants in the frontend
[19:42:44] <strcat> and eliminates trivially dead code
[19:43:12] *** Joins: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net)
[19:43:13] <cmr> what is trivially dead code?
[19:43:39] <cmr> we don't allow unreachable code, so it wouldn't help for that.
[19:43:44] <strcat> code that's dead before optimizations/analysis
[19:43:49] <strcat> cmr: it would
[19:43:59] <strcat> we generate tons of unused functions/closures/branches
[19:44:07] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:44:11] <strcat> for example...
[19:44:44] <strcat> rusti: if 5 < 2 { true } else { false }
[19:44:47] -rusti- false
[19:44:54] <strcat> clang outputs a constant, we output a branch
[19:44:58] <cmr> ah
[19:45:06] <strcat> it really matters for generic code
[19:45:09] *** Quits: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP) (Ping timeout)
[19:45:10] <strcat> there's a lot of dead stuff
[19:47:28] *** Joins: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP)
[19:47:30] *** Joins: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net)
[19:48:49] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[19:49:24] *** Quits: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net) (Ping timeout)
[19:49:56] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[19:53:07] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[19:54:50] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:59:59] <engla> thanks strcat
[20:02:39] <cmr> Hm
[20:02:47] <cmr> LZ4 can be run multicore
[20:02:51] <cmr> But I don't think I ever did
[20:03:12] *** Joins: pcwalton (pcwalton@43CB6079.66715431.D25A875A.IP)
[20:03:12] *** ChanServ sets mode: +o pcwalton
[20:04:27] <cmr> I don't see anything in the source which indicates that it is parallel..
[20:04:30] *** Quits: Ms2ger (Ms2ger@9D2CFE09.F6F1767D.3773EA9F.IP) (Quit: nn)
[20:04:46] <pcwalton> cmr: does terminfo::parm::expand match against ~""?
[20:05:01] <pcwalton> our match codegen *should* be OK, better with niko's changes
[20:05:04] <pcwalton> because it uses the ocaml algorithm
[20:05:32] *** Quits: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP) (Ping timeout)
[20:05:46] <cmr> pcwalton: it has 2 main layers of `match`, one over a State enum and then one on the current char
[20:05:49] <cmr> So no, it doesn't
[20:05:52] <pcwalton> hmmm
[20:05:56] <pcwalton> worth investigating then
[20:05:59] <cmr> It also has lots of sub-matches
[20:06:05] <cmr> for deconstructing
[20:06:05] <pcwalton> I'd like niko's changes to land first
[20:06:20] <cmr> https://github.com/mozilla/rust/blob/master/src/libextra/terminfo/parm.rs
[20:06:23] <strcat> we're missing sroa too? :\
[20:06:48] <cmr> strcat: I specifically remember that one generating invalid code
[20:06:51] <pcwalton> wait, we don't run SRoA??
[20:06:56] <strcat> pcwalton: apparently not
[20:07:00] <strcat> or constant propagation
[20:07:01] <pcwalton> uhhhhh
[20:07:11] <pcwalton> those are like
[20:07:11] <pcwalton> essential
[20:07:29] <cmr> rust doesn't build when they're on
[20:07:32] <strcat> well I'm going to copy clang's
[20:07:36] <cmr> well, I dont' know about constprop
[20:07:41] <cmr> sroa caused failures though
[20:07:54] <cmr> might be better, been a while since aatch played with the pipeline
[20:08:26] <bblum> haha, "test_back_to_the_future_result", i'd forgotten about that
[20:09:27] <strcat> 'Function and Module passes have their own pass managers and so print out separately.'
[20:09:32] <strcat> I don't think we're doing it right
[20:09:42] <strcat> at all
[20:10:04] <strcat> ok I don't think we run function passes
[20:10:10] <strcat> this could explain why it's so damn so
[20:10:12] <strcat> slow*
[20:10:16] <pcwalton> whoa
[20:10:25] <bblum> when did the TaskBuilder stuff get changed to not return self? o_O
[20:10:30] <strcat> we only seem to run whole module passes
[20:10:35] <bblum> you can't write task::task().unlinked().spawn anymore :(
[20:10:42] <pcwalton> bblum: it was fallout from de-muting
[20:10:44] <pcwalton> should be fixed
[20:10:46] <pnkfelix> hmm.  I think something has gone wrong with how "make check" outputs info about test failures...
[20:11:04] <bblum> i see
[20:11:57] <pnkfelix> (at least in the case where there was a rustc error during the testing.  Or maybe there's something deeper wrong)
[20:13:24] *** Joins: sw17ch (sw17ch@moz-39D8564F.wndsny.tds.net)
[20:13:44] <strcat> meh
[20:13:55] <strcat> well rust could compile a lot faster..
[20:14:45] <strcat> http://ix.io/6p0 clang at -O3
[20:14:56] <strcat> we have no FunctionPass at all afaik
[20:15:38] <strcat> clang foo.c -O3 -mllvm -debug-pass=Structure
[20:15:53] <pcwalton> strcat: I'm not sure what the function/module difference amounts to, could you elaborate?
[20:15:53] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[20:15:58] <bblum> hmm our transmute error message appears to be pretty informative
[20:16:05] *** Quits: pnkfelix|rcirc (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Input/output error)
[20:16:12] <bblum> apart from the fact that it shows up in a weird compilation phase, i don't see what's wrong practically with it
[20:16:20] <strcat> pcwalton: they seem to run some basic optimizations on individual functions
[20:16:24] <strcat> before whole-module optimization
[20:16:25] <bblum> oh the span is wrong
[20:16:31] <pcwalton> strcat: ah, I see
[20:16:46] <strcat> we are missing a *lot* of passes
[20:17:06] <strcat> but anyway I'll fix the module pass we have first
[20:17:17] <strcat> Pass Arguments:  -datalayout -notti -basictti -x86tti -targetlibinfo -targetpassconfig -no-aa -tbaa -basicaa -collector-metadata -machinemoduleinfo -gc-lowering -unreachableblockelim -stack-protector -expand-isel-pseudos -localstackalloc -phi-node-elimination -twoaddressinstruction -edge-bundles -prologepilog -postrapseudos -gc-analysis
[20:17:24] <strcat> clang at -O0
[20:17:25] <cmr> strcat: don't forget about --passes
[20:17:38] <strcat> --passes ?
[20:18:05] <strcat> rustc has a hardcoded list of passes but it's not complete...
[20:18:44] *** Joins: robert (robertknig@moz-C34822AC.range86-166.btcentralplus.com)
[20:18:49] <bblum> oof yeah the span being wrong is pretty terrible
[20:19:27] <Blei> strcat: you can pass the passes you want rustc to run on the command line
[20:19:33] <Blei> that's what --passes does
[20:19:50] <strcat> Blei: yeah but they're just going to put on the end
[20:19:53] <strcat> order matters
[20:20:00] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Ping timeout)
[20:20:00] *** Quits: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca) (Ping timeout)
[20:20:00] <Blei> really?
[20:20:04] <strcat> yes
[20:20:07] <strcat> order matters a lot
[20:20:19] <Blei> i'm pretty sure you can inhibit running passes by doing --passes ''
[20:20:32] <Blei> i've used this a lot when debugging stuff, so i'm sure that works
[20:20:42] <strcat> how can we inhibit running passes? don't we always need targetlibinfo, etc?
[20:21:06] <brendanc> hmm, buildbot could probably do with prioriting slower builders over faster ones
[20:21:11] <brendanc> prioritizing
[20:21:12] *** Quits: sw17ch (sw17ch@moz-39D8564F.wndsny.tds.net) (Quit: sw17ch)
[20:21:12] *** Quits: brendan (brendaneic@2557E599.66715431.D25A875A.IP) (Quit: brendan)
[20:21:21] <strcat> pcwalton: http://llvm.org/docs/WritingAnLLVMPass.html#the-functionpass-class we aren't doing this at all :(
[20:21:30] <pcwalton> I would say :)
[20:21:32] <pcwalton> I mean
[20:21:43] <pcwalton> when we find incredibly stupid things we're doing that's an opportunity for potential large improvements
[20:22:15] *** Quits: reyre_ (reyre@F2D29657.F60B0462.67AC9B1.IP) (Client exited)
[20:22:15] *** Joins: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca)
[20:22:49] <Blei> strcat: back/link.rs:254
[20:23:15] <strcat> well, that's pretty wrong
[20:23:35] <Blei> no, that's what --passes is supposed to do :3
[20:23:40] <strcat> it's not
[20:23:50] <strcat> are you actually passing the passes we always need?
[20:23:57] <strcat> it's not what -mllvm does with clang
[20:24:04] <Blei> "Overrides the default passes for optimization levels"
[20:24:08] <Blei> from rustc --help
[20:24:20] <strcat> so you need to manually readd the passes that are always supposed to be there
[20:24:21] <Blei> it's for experimenting with different passes, or disabling them for debugging
[20:24:34] *** Joins: roo (jesse.rudo@moz-C18E3511.dynamic.ip.windstream.net)
[20:24:36] <strcat> clang without args, or at -O0
[20:24:38] <strcat> Pass Arguments:  -datalayout -notti -basictti -x86tti -targetlibinfo -targetpassconfig -no-aa -tbaa -basicaa -collector-metadata -machinemoduleinfo -gc-lowering -unreachableblockelim -stack-protector -expand-isel-pseudos -localstackalloc -phi-node-elimination -twoaddressinstruction -edge-bundles -prologepilog -postrapseudos -gc-analysis
[20:24:51] <Blei> yeah, and now you can try that without recompiling rustc
[20:24:55] <strcat> pretty sure targetlibinfo and targetpassconfig are important...
[20:25:42] *** Quits: dylukes (dylukes@moz-B5418F79.hsd1.pa.comcast.net) (Quit: Computer has gone to sleep.)
[20:25:55] <strcat> I'm just going to remove what we have and copy clang
[20:26:03] <strcat> not going to test every combination
[20:26:03] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:27:03] *** Quits: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP) (Quit: eatkinson)
[20:27:08] *** Quits: Blei (philipp@moz-650B9C6A.cust.bluewin.ch) (Quit: WeeChat 0.4.1)
[20:27:10] *** Joins: dylukes (dylukes@moz-B5418F79.hsd1.pa.comcast.net)
[20:27:35] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[20:28:10] <strcat> and we're using experimental stuff like scev-aa omitted by clang
[20:28:18] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[20:28:18] *** ChanServ sets mode: +o brson
[20:28:53] *** Quits: dylukes (dylukes@moz-B5418F79.hsd1.pa.comcast.net) (Quit: Computer has gone to sleep.)
[20:29:01] <bblum> oops double freed a LittleLock
[20:29:14] <bblum> i dunno what i would do without printf debugging
[20:29:27] <brendanc> graydon: might want to prioritize slower auto builds over longer, since there seems to be a shortage of macs
[20:29:37] <graydon> brendanc: define "prioritize"?
[20:29:49] <graydon> all auto builds are likely to take the same amount of time
[20:31:02] <brendanc> the mac nopt ones looked like they took 1.5 hours, some of the the others closer to 45 minutes. but I didn't look far back, I guess it might have been scheduling noise
[20:31:30] <graydon> can you point me to the case you're looking at?
[20:32:09] <jclements> nmatsakis: ping
[20:32:20] <nmatsakis> jclements: pong
[20:32:40] <jclements> nmatsakis: simple question: I'm looking at adding visit_ident to the visitor.
[20:32:46] <jclements> It looks like it would be straightforward.
[20:32:47] <brendanc> auto-mac-64-nopt 137, 136, 134, 133 vs auto-mac-64-opt 135, 134, 132, 131
[20:32:54] <nmatsakis> jclements: (though I'm about to knock off for the day and do more unpacking, or at least for the next few hours)
[20:32:57] <nmatsakis> jclements: ok
[20:33:06] <jclements> I'm thinking about the constraints on visit order specified by your comments in visit.rs.
[20:33:26] <jclements> It appears that they don't really apply to visit_ident, since idents are not actually evaluated as individual entities.
[20:33:55] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Quit: Eaten by a grue)
[20:33:56] <jclements> therefore, it shouldn't really matter where the sub-call to visit_ident occurs in, say visit_expr or visit_item or whatever.
[20:34:07] <jclements> nmatsakis: does this sound semi-reasonable?
[20:34:09] *** Joins: sw17ch (sw17ch@moz-9D524DE1.hsd1.mi.comcast.net)
[20:34:30] <nmatsakis> jclements: yes, that sounds reasonable. Also, I think those constraints no longer apply.
[20:34:34] <brendanc> I should also fix the auto-interrupter to cancel pending builds as well as running ones
[20:34:39] <jclements> nmatsakis: okay. thanks!
[20:34:49] <nmatsakis> jclements: I should remove that comment. (well, they might apply somewhere, but not in borrowck at least)
[20:35:23] <jclements> nmatsakis: with your permission, I'll add a comment indicating that on this date, you said that this might not be the case any more.
[20:38:01] *** Joins: seth (seth@moz-BE33DA21.fw1.sfo1.mozilla.net)
[20:38:07] <brson> graydon: to speed up the noopt builds we can actuall optimize the compiler. I think successfully running the test cases without opts is more-or-less sufficient, and having a fast compiler should make the build somewhat faster
[20:38:24] <pcwalton> +1 on that
[20:38:31] <graydon> ok
[20:38:54] <graydon> I'm not certain I agree that testsuite coverage is as good as compiler + testsuite coverage
[20:39:01] <graydon> but it's possible, and I won't object
[20:39:09] <strcat> the nice thing about how we let LLVM define the passes before was that we didn't need to worry about all of this ;p
[20:41:00] <strcat> clang doesn't run always-inline at -O0
[20:41:06] <strcat> that's why inline(always) was hurting so much
[20:41:27] <bstrie> aren't we still inline(always)'ing as much as ever?
[20:41:31] <strcat> no
[20:41:32] <strcat> it's all gone
[20:41:34] <bstrie> I thought that PR to remove them never landed
[20:41:42] <bstrie> because of the name change that we got hung up on
[20:41:54] *** Quits: Jesin (Jessin_@moz-7995C9F4.eecs.lehigh.edu) (Ping timeout)
[20:41:59] <strcat> it did land
[20:42:04] <bstrie> well good
[20:42:09] <bstrie> I can stop feeling guilty then :)
[20:42:12] <strcat> and there are some places we could be using inline(always)
[20:42:24] <strcat> if we were doing proper LLVM passes and not running it at -O0
[20:43:41] *** Quits: Palmik (palmik@moz-CC484FDD.tmcz.cz) (Quit: Lost terminal)
[20:45:38] * strcat shrugs
[20:46:09] <strcat> kind of funny that we aren't even running sroa though
[20:46:32] *** Quits: roo (jesse.rudo@moz-C18E3511.dynamic.ip.windstream.net) (Ping timeout)
[20:47:26] <strcat> clang does two module passes though
[20:47:49] <graydon> I thought we were doing sroa
[20:48:03] <strcat> graydon: nope
[20:48:06] <graydon> eek
[20:48:10] <strcat> not since we switched from letting LLVM choose
[20:48:15] <strcat> graydon: we're not doing half of what clang is
[20:48:35] <graydon> ok. incidentally I've beefed up https://github.com/mozilla/rust/issues/6819 as a metabug for "getting codegen under control"
[20:48:45] <graydon> please add bugs to its list / file extras for anything you're aware of
[20:48:52] *** Joins: MaikKlein (maik@moz-DB448B31.dip0.t-ipconnect.de)
[20:49:08] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Input/output error)
[20:49:40] <bblum> ugh, clownshoes extensions doesn't tell you in the debug symbol what the extensions are for
[20:49:47] <strcat> graydon: http://ix.io/6p1 our passes, 
[20:49:49] <strcat> and...
[20:50:01] <strcat> graydon: http://ix.io/6p2 clang at -O3
[20:50:08] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[20:50:15] <strcat> the first is a function pass (we don't do that afaict), the next 2 are module passes (we seem to only do one)
[20:50:29] <strcat> we're missing a dozen passes, at least
[20:50:49] <graydon> I missed the conversation earlier: can we (without recompiling) pass a different set on the command line and see how it varies, presently?
[20:50:56] <strcat> sroa, scalar-evolution, domtree, loop-simplify, etc
[20:51:02] <strcat> graydon: --passes
[20:51:18] <graydon> that does work? ok, cool. I thought I was seeing disagreement about its efficacy
[20:51:30] <strcat> graydon: well it doesn't work as -mllvm does with clang
[20:51:32] <strcat> but it does work
[20:51:51] <strcat> graydon: anyway clang runs 2 module passes so...
[20:51:59] <strcat> can't easily convert that to rust's --passes
[20:52:43] <graydon> right
[20:52:53] *** Quits: jclements (jclements@2557E599.66715431.D25A875A.IP) (Quit: jclements)
[20:52:53] *** jclements_ is now known as jclements
[20:53:17] <strcat> I think the 2nd pass is the important one though
[20:53:20] <strcat> I'll just copy that
[20:53:34] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[20:53:47] *** Quits: jclements (jclements@2557E599.66715431.D25A875A.IP) (Quit: jclements)
[20:54:41] *** Joins: roo (jesse.rudo@moz-99E54E3C.dynamic.ip.windstream.net)
[20:55:25] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[20:57:34] *** Quits: jyeo (user@F2D29657.F60B0462.67AC9B1.IP) (Ping timeout)
[20:58:16] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[20:58:43] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Quit: Leaving)
[20:59:52] *** Quits: roo (jesse.rudo@moz-99E54E3C.dynamic.ip.windstream.net) (Ping timeout)
[21:00:18] <mark_edward> traits!
[21:00:34] <mark_edward> i've read the IRC logs a bit, and there seem to be quite a few improvements
[21:00:46] <mark_edward> any w.r.t. trait objects? 
[21:00:51] * mark_edward waits hopefully
[21:00:59] *** Joins: deioddd (Mibbit@moz-2F7B19D2.dynamic.tstt.net.tt)
[21:01:20] <bstrie> mark_edward: I don't think there's been much improvement
[21:01:32] <bstrie> well, I mean not much specifically wrt trait objects
[21:01:42] *** Quits: seth (seth@moz-BE33DA21.fw1.sfo1.mozilla.net) (Ping timeout)
[21:01:43] <bstrie> pcwalton: how would moving gc to a library affect @Traits?
[21:01:49] <mark_edward> but like, for example does inheritance work?
[21:01:54] <pcwalton> bstrie: dynamically sized types makes it Just Work
[21:01:54] *** Quits: deioddd (Mibbit@moz-2F7B19D2.dynamic.tstt.net.tt) (Quit: http://www.mibbit.com ajax IRC Client)
[21:01:59] <bstrie> oh, cool
[21:02:01] <pcwalton> since a Trait is an <unsized T>
[21:02:15] <bstrie> so I could have Rc<Trait> and all that?
[21:02:18] <pcwalton> mark_edward: there have been improvements, default methods work better and ~Trait is less busted
[21:02:23] <pcwalton> yes
[21:02:27] <bstrie> crazy
[21:02:37] *** Joins: deioddd (Mibbit@moz-2F7B19D2.dynamic.tstt.net.tt)
[21:02:49] *** Quits: SimonSapin (simon@moz-D0C2F181.zone2.bethere.co.uk) (Ping timeout)
[21:03:10] <mark_edward> can you have a vector of ~Traits yet? that caused a compiler failure for me recently
[21:03:34] *** Joins: mschifer1 (Adium@2557E599.66715431.D25A875A.IP)
[21:03:39] *** Quits: mschifer (Adium@2557E599.66715431.D25A875A.IP) (Connection reset by peer)
[21:04:00] <bstrie> rusti: trait Foo {} let x = ~[1 as ~Foo]; x
[21:04:01] -rusti- <anon>:9:32: 9:41 error: can only cast an ~-pointer to a ~-object, not a integral variable
[21:04:01] -rusti- <anon>:9          trait Foo {} let x = ~[1 as ~Foo]; x
[21:04:01] -rusti-                                          ^~~~~~~~~
[21:04:01] -rusti- error: aborting due to previous error
[21:04:01] -rusti- application terminated with error code 101
[21:04:14] <bstrie> rusti: trait Foo {} let x = ~[~1 as ~Foo]; x
[21:04:15] -rusti- <anon>:9:32: 9:42 error: failed to find an implementation of trait ~main::Foo:Owned for int
[21:04:15] -rusti- <anon>:9          trait Foo {} let x = ~[~1 as ~Foo]; x
[21:04:15] -rusti-                                          ^~~~~~~~~~
[21:04:15] -rusti- error: aborting due to previous error
[21:04:15] -rusti- application terminated with error code 101
[21:04:32] <bstrie> I'm not actually sure how trait objects are supposed to work :P
[21:05:02] <mark_edward> rusti: trait Foo {}  impl Foo for int {} let x = ~[~1 as ~Foo]; x
[21:05:03] -rusti- ~[]
[21:05:11] <strcat> graydon: well I'm rewriting the optimization pass thing
[21:05:17] <strcat> just copying clang + documenting any differences
[21:05:19] <strcat> we'll see if it helps
[21:05:28] <mark_edward> rusti: trait Foo {} impl Foo for int {} let x = ~[~1 as ~Foo]; x
[21:05:29] -rusti- ~[]
[21:05:30] <strcat> finished -O0 and -O1
[21:05:47] <mark_edward> rusti: trait Foo {} impl Foo for int {} let x = ~[~1 as ~Foo, ~2 as ~Foo]; x.len()
[21:05:48] -rusti- 2
[21:05:54] <mark_edward> cool!
[21:05:55] <bstrie> mark_edward: ...not sure why it's printing the empty array
[21:06:11] <mark_edward> something about ToStr i think
[21:06:21] <mark_edward> do you know if inheritanc ehas improved?
[21:06:23] <graydon> strcat: I think aatch found that many combinations led to producing invalid code due to our not-so-great IR
[21:06:37] * strcat shrugs
[21:06:43] <engla> mark_edward: I've managed to use vectors of ~Trait ...
[21:06:53] <strcat> graydon: well we're running less than half of the opt passes clang does
[21:07:02] <graydon> sure. here's hoping!
[21:07:03] <mark_edward> engla: nice!
[21:07:15] <mark_edward> graydon: do you know if inheritanc ehas improved?
[21:07:22] <engla> I've got some crazy experiments that depend on it
[21:07:43] *** Joins: seth (seth@moz-BE33DA21.fw1.sfo1.mozilla.net)
[21:07:44] <graydon> mark_edward: I do not know. sully might. I get a bit confused about which bugs cause which problems in traits, inheritence vs. default methods
[21:08:34] <sully> any improvements in inheritance have either been by accident or by someone other than me
[21:08:51] <bblum> c.c
[21:09:31] <sully> I *think* that default methods without any inheritance involved
[21:09:32] <MaikKlein> bstrie, you could also have a look at  http://maikklein.github.io/2013/06/22/vistor-pattern-in-rust-with-dynamic-and-static-dispatch/  dunno if this helps
[21:09:37] <sully> are getting really close to being stable
[21:09:53] <strcat> graydon: http://ix.io/6p6 clang at -O1, for example
[21:10:11] <sully> but I think that I also thought that a week or two ago, so.
[21:10:27] <strcat> graydon: we only run lcssa once
[21:10:32] *** Joins: roo (jesse.rudo@moz-1CBA4EEE.dynamic.ip.windstream.net)
[21:10:40] <strcat> no loop-simplify, rotate, etc.
[21:10:54] <bjz> jack: ping
[21:11:02] *** Quits: maxli (maxli@F2D29657.F60B0462.67AC9B1.IP) (Quit: Leaving.)
[21:12:34] <roo> https://gist.github.com/jessopher/5888116 I have borrowed a borrow and this happened >:!
[21:12:49] <sully> hm, what is the right way to borrow a vector?
[21:12:55] <sully> I could do slice, but I want the whole thing
[21:13:15] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[21:13:29] <strcat> sully: just &
[21:13:33] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[21:13:33] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/OtdQaQ
[21:13:33] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[21:13:41] <mark_edward> :-( this bug about mutability/borrowck is still affecting me :-(
[21:13:42] <mark_edward> https://gist.github.com/MarkJr94/5888147
[21:13:57] <sully> strcat: that is giving me a &~[T], and I need a &[T]
[21:14:07] <strcat> sully: it will coerce from ~[T] to &[T]
[21:14:20] <strcat> rusti: let xs = ~[1, 2, 3]; let ys: &[int] = xs; ys
[21:14:21] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/cfXc
[21:14:23] *** Quits: roo (jesse.rudo@moz-1CBA4EEE.dynamic.ip.windstream.net) (Ping timeout)
[21:14:27] <strcat> rusti: let xs = ~[1, 2, 3]; let ys: &[int] = xs; fmt!("%?", ys)
[21:14:28] -rusti- ~"&[1, 2, 3]"
[21:15:05] <sully> the coercion is not happening in my case
[21:15:21] <sully> but it occurs to me that my case shouldn't be allowed anyways, really.
[21:15:22] <sully> so.
[21:15:31] *** Joins: roo (jesse.rudo@moz-C726906.dynamic.ip.windstream.net)
[21:16:01] <doener> mark_edward: does it works if you use "mut player: &mut Character"?
[21:16:01] *** Quits: seth (seth@moz-BE33DA21.fw1.sfo1.mozilla.net) (Input/output error)
[21:16:24] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[21:16:24] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/v5Fizw
[21:16:24] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[21:16:26] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[21:16:26] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/YDSt5Q
[21:16:26] <ghrust> 13rust/06auto 1459905d1 15Brian Anderson: mk: Make windows installer work with -pre versions
[21:16:26] <ghrust> 13rust/06auto 146511fe4 15Brian Anderson: mk: Include all bins in the windows install
[21:16:26] <ghrust> 13rust/06auto 145d2e565 15bors: auto merge of #7437 : brson/rust/winver, r=brson...
[21:16:28] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[21:16:30] <mark_edward> doener: is that legal syntax?
[21:16:53] <mark_edward> doener: but it works!!!!
[21:17:02] <mark_edward> what does that mean?
[21:17:09] <doener> mark_edward: that is perfectly legal, it means that you can reassign "player"
[21:17:26] <strcat> graydon: http://ix.io/6p7 copied exactly from clang
[21:17:28] <strcat> lets see if it works
[21:18:00] <doener> mark_edward: mut foo: &Foo ==> mutate the pointer. foo: &mut Foo ==> mutate the pointee. mut foo: &mut Foo => mutate either
[21:18:19] <mark_edward> doener: do you know why it works as i only want to mutate the pointee?
[21:18:56] <doener> mark_edward: no, looks like a bug to me. I just figured that it checks the wrong thing from the error message
[21:18:59] *** Quits: roo (jesse.rudo@moz-C726906.dynamic.ip.windstream.net) (Ping timeout)
[21:19:17] <mark_edward> doener: ah, i see
[21:19:31] <strcat> pcwalton: so yeah, we were missing more than 50% of the passes ;p
[21:19:37] <pcwalton> strcat: wow
[21:19:42] <strcat> pcwalton: http://ix.io/6p7 trying this now (same as clang 3.3)
[21:20:13] *** Joins: gareth0 (gareth0@7C428FA9.3FD5F917.1A294DCF.IP)
[21:20:21] <pcwalton> strcat: I'd also like to try running function passes first
[21:20:31] <strcat> clang -O0 foo.c -mllvm -debug-pass=Arguments |& tail -n +2 | head -1 | tr ' ' '\n'
[21:20:35] <strcat> and for the other opt levels
[21:20:37] <strcat> is their module pass
[21:20:41] * strcat just copied that
[21:20:48] <strcat> the first line is their function pass
[21:21:00] <strcat> 3rd line is... I don't know
[21:21:06] <strcat> but it runs utility passes mostly
[21:21:43] <cmr> pcwalton: \o/ each-path stuff landed
[21:21:51] <pcwalton> sweet!
[21:21:52] <pcwalton> thanks a lot for updating
[21:21:56] <strcat> pcwalton: I think it already breaks down our crappy IR by the time it gets to the new passes I added, I don't expect it to be much slower
[21:22:36] <strcat> anyway I need to look at their 3rd pass
[21:22:54] <jedestep> are there #[before] or #[after] attributes for unit testing?
[21:23:03] <strcat> -unreachableblockelim
[21:23:09] <strcat> among others, in the 3rd pass they run
[21:23:29] <brson> strcat: #[managed]  means #[non_freeze] right?
[21:23:33] <doener> mark_edward: hrm, it even works with "mut player: &Character" which looks pretty wrong to me. Could you file a bug?
[21:23:46] *** Quits: eholk (eholk@moz-503EAD7C.uconnect.utah.edu) (Quit: eholk)
[21:23:46] <strcat> brson: I don't think so - is there actually #[managed]?
[21:23:46] <bblum> brson: i think it means non_static
[21:23:55] <bblum> brson: which is slightly weaker than non_owned
[21:23:59] <brson> strcat: sorry #[mutable]
[21:24:05] <brson> brain-fart
[21:24:06] <mark_edward> doener: sure how would I go about doing that? haven't filed a bug on github before
[21:24:07] <strcat> brson: yes that means non-Freeze
[21:24:07] <bblum> oh, mutable means non-freeze, yes
[21:24:15] <brson> ok, I'm going to change it
[21:24:19] <brson> #[non_freeze]
[21:24:22] <strcat> brson: yeah that'd be saner
[21:24:29] <strcat> brson: and #[non_owned] -> #[non_send]
[21:24:38] <pcwalton> I made that change
[21:24:45] <strcat> oh
[21:24:50] <bblum> i would like to take this opportunity to make the ultimate bikeshed suggestion
[21:25:00] <bblum> and say "no_freeze" and "no_send" instead of "non_*"
[21:25:06] <brson> bblum: agreed
[21:25:08] <pcwalton> actually it says non_sendable
[21:25:19] <brson> #[non(Send)]
[21:25:24] <brson> #[non(Freeze)]
[21:25:36] <bblum> hmm so actually
[21:25:47] <bblum> i had an idea a while back for users to be able to define kinds
[21:25:49] <brson> #[anti(Freeze)]
[21:25:52] <bblum> c.c
[21:25:54] <cmr> hahah
[21:26:06] <bblum> inspired by niko's blog post where he talks about more bounds, like Isolate and Share so on
[21:26:18] <doener> mark_edward: just go to https://github.com/mozilla/rust/issues/new and have a go ;-) If you put a code sample in there, enclose a block in between ```rust and ``` to get syntax highlighting
[21:26:21] <bblum> kind Isolate; kind Share;
[21:26:26] <bblum> and if the syntax is #[non($KIND...)] that works well with that
[21:26:45] <bblum> i dunno if it would make compiler infrastructure too complicated, but theoretically it's no big deal
[21:26:47] *** Joins: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP)
[21:26:53] <brson> that sort of syntax makes sense, to match deriving
[21:26:58] <brson> maybe we can do that for 0.8 though
[21:27:05] <bblum> yeah, not an immediate thing
[21:27:14] <bblum> it'd even be post-1.0 possible
[21:27:29] <strcat> graydon: well it's successfully done stage1 now FWIW
[21:27:46] *** Quits: Guest_ (textual@34641662.FB4DE631.66C78B76.IP) (Quit: Textual IRC Client: www.textualapp.com)
[21:27:51] <bblum> but it'd let you replace the #[mutable] tag on, e.g., RWARC, with
[21:27:56] *** Joins: MaikKlein1 (maik@moz-C8D04999.dip0.t-ipconnect.de)
[21:28:04] <strcat> #[anti(Freeze)] !
[21:28:10] *** Joins: jyeo (user@F2D29657.F60B0462.67AC9B1.IP)
[21:28:10] <bblum> kind RWARC; impl <T: CanGoInsideRWARC> RWARC<T>
[21:28:15] <cmr> #[anti(Freeze)] -- makes the ICE go away
[21:28:21] <bblum> haha cmr.
[21:28:46] <strcat> bblum: we need "anti-trait-bounds" ;p
[21:28:48] *** Quits: msingle (Thunderbir@moz-930E5D97.hr.hr.cox.net) (Ping timeout)
[21:28:53] <strcat> T: !Foo
[21:28:53] <bblum> i guess rwarc isn't the best example since you need const there too
[21:28:55] *** Quits: MaikKlein (maik@moz-DB448B31.dip0.t-ipconnect.de) (Ping timeout)
[21:29:14] <bblum> strcat: antideriving only makes sense when you define types, not when you use them, i think
[21:29:16] <strcat> cmr: want to benchmark something?
[21:29:27] <cmr> strcat: sure.
[21:29:34] <bblum> although i guess T:Copy pretty much means T:!Drop, huh
[21:29:36] <graydon> strcat: that's positive! does stage1 run? :)
[21:29:46] <strcat> graydon: yeah it's halfway done stage2 now
[21:29:49] <graydon> woo
[21:29:51] * brson testing android
[21:29:52] <graydon> size +/- ?
[21:29:56] <strcat> cmr: https://github.com/thestinger/rust/tree/passes
[21:30:00] <strcat> graydon: dunno yet!
[21:30:11] <strcat> well
[21:30:14] *** Joins: eholk (eholk@moz-503EAD7C.uconnect.utah.edu)
[21:30:15] <strcat> I can look at the stage1 stuff ;p
[21:31:42] <strcat> graydon: heh for a second I thought it got much bigger but it's because pacman strips debug symbols by default so my system ones are stripped
[21:31:48] <graydon> stage1 target libstd should show a change
[21:32:00] <graydon> soon as it's done
[21:32:16] <Luqman> mark_edward: your issue seems to be only with trait objects. changing &mut Character to a &mut Mummy works 
[21:32:27] <strcat> graydon: some are a tiny bit smaller, some are a tiny bit bigger - none of these were really size optimizations though
[21:32:31] <mark_edward> Luqman: thanks for the info
[21:32:32] <strcat> mostly loop ones + SROA
[21:32:37] *** Joins: reyre_ (reyre@C8DE3F9C.51109CF7.47C41102.IP)
[21:32:51] <strcat> + loop-unroll at -O2 and higher like clang
[21:33:00] <strcat> so... it's positive that they're the same size
[21:33:28] <strcat> ‚îú‚îÄ‚îÄ [    5048927]  libstd-6c65cf4b443341b1-0.7-pre.so
[21:33:30] <strcat> before
[21:33:32] <strcat> ‚îú‚îÄ‚îÄ [    5034639]  libstd-6c65cf4b443341b1-0.7-pre.so
[21:33:34] <strcat> after
[21:33:59] <strcat> but I'll try seeing if the generated code is faster
[21:33:59] <graydon> positive, yes
[21:34:28] *** Quits: reyre_ (reyre@C8DE3F9C.51109CF7.47C41102.IP) (Ping timeout)
[21:35:16] <strcat> stage2 done
[21:35:30] * strcat hopes it will pass all the tests ;p
[21:36:44] <strcat> pcwalton: oh okay
[21:36:48] <strcat> clang has 3 phases
[21:36:56] <strcat> function passes, module passes, codegen passes
[21:37:01] <strcat> we only have an equivalent for module passes.
[21:37:18] <strcat> we probably (hopefully!) get the default codegen ones
[21:37:21] <strcat> don't know how to check
[21:37:34] <cmr> What would function passes do that wouldn't/couldn't be done by module passes?
[21:37:41] <strcat> cmr: run fast
[21:37:57] <cmr> strcat: you'd still be doing the same work though wouldn't you?
[21:38:01] <strcat> Pass Arguments:  -datalayout -notti -basictti -x86tti -targetlibinfo -no-aa -tbaa -basicaa -simplifycfg -domtree -sroa -early-cse -lower-expect
[21:38:07] <strcat> they run those function passes at -O3
[21:38:19] <strcat> cmr: well they run extra passes so they do get extra optimization
[21:38:20] <bstrie> "I am aware of some level of contrarian bias -- I should arguably be learning Python and JavaScript instead of Haskell and Scheme..." ~ John Carmack
[21:38:35] <bstrie> now's our chance to convert carmack, before he realizes the value of well-supported languages! :)
[21:38:40] <MaikKlein1> bjz, ok I made your lmath compile again
[21:39:03] <MaikKlein1> bjz, sort of I couldn't fix one bug
[21:39:04] <strcat> http://root.cern.ch/svn/root/trunk/interpreter/llvm/src/lib/Transforms/Scalar/EarlyCSE.cpp
[21:39:06] <MaikKlein1> yet
[21:39:06] <strcat> early-cse
[21:39:12] <strcat> / This pass performs a simple dominator tree walk that eliminates trivially
[21:39:15] <strcat> / redundant instructions.
[21:39:17] <strcat> so that's how clang does that
[21:39:51] <MaikKlein1> what was the git cmd to show the difference in numbers?
[21:40:06] *** Quits: Kruppe (user@moz-4DDA8AB8.uwaterloo.ca) (Client exited)
[21:40:27] <MaikKlein1> lines changed , lines removed
[21:40:38] *** Joins: steven_is_false (user@moz-144077DE.bchsia.telus.net)
[21:40:45] <strcat> git diff --stat ?
[21:41:27] *** Quits: jyeo (user@F2D29657.F60B0462.67AC9B1.IP) (Input/output error)
[21:41:38] *** Quits: sw17ch (sw17ch@moz-9D524DE1.hsd1.mi.comcast.net) (Ping timeout)
[21:41:43] <mark_edward> doener: Is this a good issue? https://github.com/mozilla/rust/issues/7464
[21:42:01] *** Joins: roo (jesse.rudo@moz-DB862D03.dynamic.ip.windstream.net)
[21:42:08] *** Joins: sw17ch (sw17ch@moz-6761BA23.members.linode.com)
[21:42:26] *** Quits: robert (robertknig@moz-C34822AC.range86-166.btcentralplus.com) (Ping timeout)
[21:42:42] <MaikKlein1> strcat, thanks!
[21:42:46] *** Joins: BitPuffin (quassel@moz-49828767.cust.tele2.se)
[21:43:19] *** Quits: BitPuffin (quassel@moz-49828767.cust.tele2.se) (Client exited)
[21:43:29] *** Joins: BitPuffin (quassel@moz-49828767.cust.tele2.se)
[21:43:54] <steven_is_false> Hi! Does anyone think it'd be a good idea to put the failed bit for what is now RWARC data into what is now RWlock?
[21:44:43] *** Joins: jyeo (user@F2D29657.F60B0462.67AC9B1.IP)
[21:44:45] <doener> mark_edward: that will do :-) If you want to improve it, a minimal example that one can just copy and paste is often useful
[21:44:57] <mark_edward> okay, i'll try and implement that
[21:47:31] <steven_is_false> What happens if one fails inside a task::unkillable block?
[21:47:44] <cmr> "error: aborting due to 631 previous errors"
[21:47:50] <cmr> woo
[21:48:32] <strcat> cmr: hm?
[21:48:33] *** Quits: Axord (xord@moz-C3CCF156.lsanca.dsl-w.verizon.net) (Ping timeout)
[21:48:49] <cmr> strcat: great renaming in libextra
[21:48:59] <cmr> justa simple sed s/core::/std::/g
[21:49:03] <strcat> ah
[21:50:21] <brson> can't build android
[21:50:27] <brson> yichoi: have you seen this error: 'x86_64-unknown-linux-gnu/stage2/lib/rustc/arm-linux-androideabi/lib/libstd.s:438388: Error: Missing symbol name in directive
[21:50:30] <brson> x86_64-unknown-linux-gnu/stage2/lib/rustc/arm-linux-androideabi/lib/libstd.s:438388: Error: unrecognized symbol type ""
[21:50:33] <brson> x86_64-unknown-linux-gnu/stage2/lib/rustc/arm-linux-androideabi/lib/libstd.s:438451: Error: expected comma after name `' in .size directive
[21:50:46] *** Quits: spider-mario (spidermari@moz-B8FA2FF4.rev.sfr.net) (Input/output error)
[21:53:04] <brson> yichoi: I opened an issue https://github.com/mozilla/rust/issues/7467
[21:55:18] *** Quits: roo (jesse.rudo@moz-DB862D03.dynamic.ip.windstream.net) (Ping timeout)
[21:55:19] <steven_is_false> Okay, so I'm refactoring extra::arc to use a more RAII style, and I'm having trouble understanding write_downgrade.
[21:55:39] <brson> strcat: do you have more to add to the container tutorial?
[21:55:43] *** Quits: cowboyd (cowboyd@moz-1BD02A1E.sw.biz.rr.com) (Client exited)
[21:55:59] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[21:57:04] <strcat> brson: probably not for 0.7
[21:57:15] <strcat> I just wanted to get the iterator part done okay
[21:57:18] <Seldaek> brson: did I miss something or is it correct that the new io stuff you worked on won't be in 0.7?
[21:57:33] <brson> Seldaek: it won't make it
[21:57:48] <Seldaek> alright, too bad
[21:57:53] <strcat> cmr: https://github.com/mozilla/rust/pull/7466 here it is anyways
[21:57:56] <brson> I contributed very little to 0.7!
[21:57:58] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Input/output error)
[21:58:06] <strcat> I need to figure out how to get LLVM to print out the passes it has enabled
[21:58:10] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:58:23] <strcat> I might not need to explicitly pass some 
[21:58:34] *** Joins: zargony (zargony@moz-FA1DD09E.versanet.de)
[21:58:38] <strcat> basiccg and inline-cost
[21:58:41] <brson> graydon: we need to do the manual step of updating the 0.7 docs. I don't think there's any more pending changes
[21:58:58] <strcat> brson: I think we should fix the TOC
[21:59:02] <strcat> the css
[21:59:08] <strcat> it's really annoying
[21:59:15] <brson> strcat: maybe. i'm sure i did it for a reason
[21:59:19] <brson> what's wrong
[21:59:19] <strcat> it hides all but the top-level sections
[21:59:52] <mark_edward> doener: how's this?
[21:59:54] <mark_edward> https://github.com/mozilla/rust/issues/7464
[21:59:54] <brson> it's definitely on purpose. it was hideous to start the tutorial with pages of section tree
[22:00:07] <brson> maybe if the style can be more compact
[22:00:09] * brson meeting
[22:00:19] <graydon> brson: manual step .. what do you mean? updating them like writing docs, or like copying them to the s3 subdir?
[22:00:25] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[22:00:31] <strcat> brson: well we could stop using gigantic font sizes ;p
[22:00:45] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:01:01] <brson> graydon: copying. there's a step you listed in the rel process that I'm not familiar with
[22:01:04] *** Quits: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP) (Quit: ChatZilla 0.9.90 [Firefox 23.0a2/20130624004020])
[22:01:55] <graydon> oh, ok. I usually do that after the release is tagged
[22:02:03] <graydon> since the docs contain an embedded revid
[22:02:11] <graydon> and if that's different from the tag, it confuses readers
[22:02:12] <jedestep> how can I match &self in a macro?
[22:02:24] <doener> mark_edward: awesome!
[22:02:31] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[22:02:33] <mark_edward> cool!
[22:02:53] *** Joins: reyre_ (reyre@moz-9002CDDA.cpe.net.cable.rogers.com)
[22:02:54] *** Quits: ecr (ereed@2557E599.66715431.D25A875A.IP) (Quit: Leaving.)
[22:02:57] <Seldaek> strcat: if you can point me at things for docs, maybe I can put my webdev skills to better use than my rust fumblings :p
[22:03:13] <strcat> pcwalton: are the shootout benchmarks in the src/bench dir up-to-date?
[22:03:17] <strcat> like nbody?
[22:03:21] <cmr> strcat: more or lessish
[22:03:23] *** Quits: MaikKlein1 (maik@moz-C8D04999.dip0.t-ipconnect.de) (Ping timeout)
[22:03:30] <cmr> thiez did some updating work on them recfently
[22:04:11] <brson> graydon: ok
[22:04:42] <zargony> hi everybody. i'm trying to pass a trait object to a method but rustc insists that the pointer needs to be 'static. am i missing something?
[22:05:05] *** Joins: ecr (ereed@2557E599.66715431.D25A875A.IP)
[22:05:14] <doomlord> how much of trait objects works yet
[22:05:26] <jedestep> zargony: what is the exact code?
[22:05:28] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Client exited)
[22:05:42] <cmr> doomlord: @ is in good shape. ~ is okish afaik. no idea about &
[22:06:05] <jedestep> ~ still seems to have some issues but i've been using @ with no problems
[22:06:57] <jedestep> last time i tried to use & i may have run into a problem similar to what zargony described, where no lifetime was long enough
[22:07:28] <strcat> graydon: it definitely makes some stuff faster \o
[22:07:32] <strcat> \o/ *
[22:07:34] <graydon> anything slower?
[22:07:38] <strcat> not so far
[22:07:38] <zargony> jedestep: method looks like pub fn foo (&mut self, obj: &'self MyTrait<u16>) ... call is thing.foo(&obj as &MyTrait<u16>)
[22:07:41] <graydon> ship it!
[22:07:49] <cmr> I'm running the benches now
[22:07:52] <strcat> test bench_from_elem ... bench: 985 ns/iter (+/- 0)
[22:07:54] <strcat> test bench_set_memory ... bench: 347 ns/iter (+/- 0)
[22:07:56] <strcat> before
[22:08:03] <strcat> test bench_from_elem ... bench: 667 ns/iter (+/- 0)
[22:08:05] <strcat> test bench_set_memory ... bench: 343 ns/iter (+/- 0)
[22:08:06] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Input/output error)
[22:08:07] <strcat> now
[22:08:09] <strcat> from https://github.com/mozilla/rust/issues/7136
[22:08:09] <cmr> well, the build-librustc benches
[22:08:22] * zargony is struggling with lifetime specifiers
[22:08:34] <cmr> strcat: I really wouldn't have expected set_memory to get faster
[22:08:37] <strcat> graydon: I mostly enabled loop optimizations so... it's better at vectorizing and so on
[22:08:41] <strcat> cmr: it didn't
[22:08:43] <strcat> ;p
[22:08:43] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[22:08:45] <jedestep> zargony: you can try something like &'self obj when you pass it, but i'm not sure that &Trait objects are entirely working
[22:09:00] <jedestep> zargony: you might want to consider using @Trait instead, that will almost certainly work as you expect
[22:09:00] <strcat> there 5-10ns of noise
[22:09:13] <strcat> graydon: we'd need -march=native to really show it
[22:09:14] <cmr> well the stupid bench runner shouldn't lie about +/- 0 then!
[22:09:26] <strcat> hrm
[22:09:31] * strcat could manually flip on sse/avx
[22:09:34] <strcat> going to try
[22:10:08] <zargony> actually i'm trying to stay away from @, but maybe I should give it a try to at least get it to work
[22:10:14] *** Joins: rubber-duck (rubber-duc@moz-70AB535C.dsl.iskon.hr)
[22:10:32] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[22:10:32] *** Quits: jpochyla (jpochyla@moz-8D99AE5D.broadband18.iol.cz) (Ping timeout)
[22:10:42] <engla> ~Trait requires onwed, not sure if that can be changed with bounds
[22:11:38] *** Quits: sw17ch (sw17ch@moz-6761BA23.members.linode.com) (Ping timeout)
[22:12:28] *** Joins: Amanieu (amanieu@moz-D5D10CA8.halls.manchester.ac.uk)
[22:12:28] *** Quits: reyre_ (reyre@moz-9002CDDA.cpe.net.cable.rogers.com) (Client exited)
[22:12:51] *** Joins: bbrittain (bbrittain@5D4864B4.A99474B0.6679FAEF.IP)
[22:12:54] <strcat> meh as usual it fails to do anything
[22:12:57] <strcat> we need TBAA ;p
[22:13:01] *** Parts: bbrittain (bbrittain@5D4864B4.A99474B0.6679FAEF.IP) (Leaving)
[22:13:02] <rubber-duck> why do I get "failed to find an implementation of trait std::io::Reader for scanner::Scanner<>" when my type Scanner implements "fn read_char(&mut self) -> Option<char>" directly in impl and it doesn't even implement or import std::io namespace
[22:13:04] <graydon> strcat: on x64 you should have sse2 at least by default, it's part of x64
[22:13:07] <zargony> i thought ~ pointers can't have an explicit lifetime since they live as long as the owner somehow holds it
[22:13:10] <graydon> not sse4 or avx
[22:13:24] <strcat> graydon: I just passed avx,avx2,sse,sse2,sse3,sse41,sse42,ssse3,fast-unaligned-mem to target-feature, but it didn't help ;p
[22:13:24] <Eridius> rubber-duck: because this isn't Go, and traits aren't considered implemented unless you explicitly implement them?
[22:13:38] <rubber-duck> Eridius, but I don't care about that trait
[22:13:43] <rubber-duck> I just want to call my method
[22:13:50] <Eridius> rubber-duck: oh
[22:13:51] <rubber-duck> I don't even import that trait - it has nothing to do with my code
[22:14:01] <cmr> rubber-duck: you're passing it to something that does, looks like
[22:14:10] <strcat> graydon: I guess avx needs 32-byte aligned memory anyway
[22:14:28] <rubber-duck> cmr, nope - I'm invoking the method directly and as I've said that namespace isn't even imported
[22:14:28] <strcat> and we just have 16-byte alignment from malloc
[22:14:38] <Eridius> rubber-duck: got some code to share?
[22:14:47] <rubber-duck> sure I can upload the entire file
[22:14:58] *** Joins: brendan (brendaneic@moz-ACC6832C.sub-70-197-7.myvzw.com)
[22:15:02] *** Joins: cowboyd (cowboyd@moz-DD0FF83.lightspeed.austtx.sbcglobal.net)
[22:15:03] *** Joins: reyre_ (reyre@moz-9002CDDA.cpe.net.cable.rogers.com)
[22:15:38] <strcat> cmr: are you benchmarking that thing? :)
[22:15:45] <cmr> strcat: it's running now
[22:15:51] * strcat is curious how much the extra passes cost
[22:16:01] <rubber-duck> https://gist.github.com/rubber-duck/5888555
[22:16:21] <rubber-duck> The error is in the second file
[22:18:03] <engla> rubber-duck: might be the method lookup bug?
[22:18:06] <Eridius> hmm, looks like a bug to me
[22:18:13] <rubber-duck> yep that's what I thought
[22:18:22] <rubber-duck> :(
[22:19:03] *** Quits: brendan (brendaneic@moz-ACC6832C.sub-70-197-7.myvzw.com) (Ping timeout)
[22:19:47] <rubber-duck> funny thing is I remember trying to isolate it and could reproduce it :|
[22:20:07] <rubber-duck> but that was few days ago maybe I did something wrong gonna try again
[22:20:16] *** Quits: indirect (indirect_m@moz-770AB053.hsd1.ca.comcast.net) (Ping timeout)
[22:20:29] <rubber-duck> *could not
[22:20:47] <sully> uggggggh.
[22:20:50] <strcat> anyway
[22:20:50] <sully> another rebase failure
[22:20:52] <sully> twice today
[22:20:53] <strcat> 2 differences from clang
[22:20:54] <sully> sigh
[22:21:07] <strcat> 1) we don't run the built-in tbaa pass (since we don't emit the info)
[22:21:12] <strcat> and 2) we always strip dead prototypes
[22:21:19] *** Joins: indirect (indirect_m@moz-770AB053.hsd1.ca.comcast.net)
[22:21:24] <strcat> because unlike clang, rustc spits out dead function prototypes :[
[22:23:23] <cmr> strcat: preliminary results are good
[22:23:36] <cmr> minor speedup
[22:23:40] <strcat> ok
[22:23:52] <strcat> cmr: good enough for me! ;p
[22:23:55] <strcat> cmr: https://github.com/mozilla/rust/pull/7466 r?
[22:24:15] <strcat> if it doesn't slow down the compile.... it means the extra passes actually help more than the time taken to run
[22:24:37] *** Quits: victorporof (victorporo@475EFE2D.75AF2AF4.D111398B.IP) (Quit: victorporof)
[22:24:47] <cmr> or it's doing something that makes llvm have an easier time optimizing
[22:25:04] *** Joins: dylukes (dylukes@moz-E4DF3FED.pitbpa.fios.verizon.net)
[22:25:32] *** Quits: n00b6502 (kwr5y54@moz-6651F8D4.range86-145.btcentralplus.com) (Ping timeout)
[22:26:15] *** Quits: doomlord (doomlod@moz-6651F8D4.range86-145.btcentralplus.com) (Ping timeout)
[22:26:20] <strcat> cmr: well clang does it in a very precise order
[22:26:55] <strcat> they spent ages tuning it for the huge number of samples they have
[22:27:00] *** Quits: Azdle (Azdle@moz-B334B496.hfc.comcastbusiness.net) (Ping timeout)
[22:27:12] <cmr> http://i.imgur.com/ggjY4Zx.png
[22:27:34] *** Joins: Sindwiller (sindwiller@moz-743130B2.dynamic.hispeed.ch)
[22:27:35] <strcat> red is the new one?
[22:27:41] <cmr> memory usage has creeped up by ~50-100MB the past week :(
[22:27:41] *** Quits: Sindwiller (sindwiller@moz-743130B2.dynamic.hispeed.ch) (Quit: Konversation terminated!)
[22:27:43] <cmr> yes
[22:27:48] <zargony> sometimes pointer lifetimes confuse me. is it possible at all to keep a borrowed pointer to an object (in a list with others) and use it to modify the object later? one can only borrow a single mutable pointer from something, right?
[22:28:06] <sully> hey, does anybody want to review a bunch of default methods fixes?
[22:28:14] <sully> I suspect nmatsakis is out for the weekend
[22:28:15] <bblum> zargony: yes sometimes, and yes, respectively
[22:28:58] *** Quits: jedestep (jedestep@34641662.FB4DE631.66C78B76.IP) (Quit: jedestep)
[22:28:58] <zargony> sometimes?
[22:29:28] <bblum> the interface has to be right
[22:29:31] <cmr> zargony: the pointee has to outlive the pointer
[22:29:32] <bblum> to link the lifetimes together
[22:31:05] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[22:31:06] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[22:32:02] <zargony> struct MyContainer<'self> { objects: ~[ &'self MyElem ] }   // or does it need to be &'self mut MyElem?
[22:32:17] <Eridius> ify ou want to mutate them later it'll need to be mut
[22:33:26] <cmr> graydon: I have the renaming propagation patch ready. Should probably be the last thing to land before 0.7 is cut, because it's probably going to make a lot of things need a rebase
[22:33:36] <zargony> but when adding one elem to it, I can't modify it anymore unless I'm doing it through the container which has the only mut pointer to it?
[22:33:58] <cmr> zargony: yup
[22:34:07] <graydon> cmr: ok. can I see it?
[22:34:11] <graydon> sully: happy to do so
[22:34:27] <sully> ok
[22:34:33] <sully> I just realized that I should add tests
[22:34:41] <cmr> yes you really should
[22:34:43] <sully> so that should take another 10 minutes or so
[22:34:44] <cmr> :p
[22:34:52] <sully> because I have the tests, I just need to figure out which tests go in which commits
[22:35:02] <sully> oh, I could also be lazy and have an 'Add tests' commit
[22:35:18] <cmr> that's what I'd do :p
[22:35:19] <bblum> zargony: right, and you can never mutate as long as an immutable &pointer exists, whether in a data structure or on your stack or anything
[22:35:24] *** Joins: seth (seth@moz-BE33DA21.fw1.sfo1.mozilla.net)
[22:35:32] <cmr> graydon: https://github.com/cmr/rust/commit/4dd240125c63205f51ae8eb9f8c8ce7b7544aaf2
[22:35:37] *** Joins: maxli (maxli@B5559308.9C54E60.2FA4EA88.IP)
[22:36:37] *** Quits: vosen (vosen@moz-3B059DC4.sta.asta-net.com.pl) (Quit: Leaving)
[22:37:04] <Seldaek> hurray
[22:37:21] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[22:37:27] <graydon> cmr: huh. you think that'll break a lot in the queue?
[22:37:32] <graydon> it looks fine to me
[22:37:48] <cmr> graydon: maybe
[22:38:10] <graydon> sully: I won't hold it against you if you do it that way
[22:38:13] *** Quits: pcwalton (pcwalton@43CB6079.66715431.D25A875A.IP) (Quit: pcwalton)
[22:38:23] <graydon> god knows I've landed enough stuff without tests. you're already of greater moral character than myself.
[22:38:23] *** Quits: jyeo (user@F2D29657.F60B0462.67AC9B1.IP) (Input/output error)
[22:38:36] <cmr> graydon: guess not looking through them! that's good at least
[22:38:54] <zargony> hm. so if i plan to store a list of pointer to elems in a vec for the whole runtime, i could as well move them there (~ instead &), since i couldn't use them outside the list anyway?
[22:39:13] *** Quits: maxli (maxli@B5559308.9C54E60.2FA4EA88.IP) (Quit: Leaving.)
[22:40:15] *** Joins: pcwalton (pcwalton@2557E599.66715431.D25A875A.IP)
[22:40:16] *** ChanServ sets mode: +o pcwalton
[22:40:39] <strcat> pcwalton: sroa happily kicks in everywhere now with my changes :)
[22:40:45] <strcat> among other improvements
[22:40:47] <pcwalton> strcat: nice
[22:40:52] <pcwalton> have any measurements?
[22:41:01] <cmr> http://i.imgur.com/ggjY4Zx.png is the rustc bench
[22:41:02] <strcat> pcwalton: https://github.com/mozilla/rust/issues/7136#issuecomment-20218108 well there's one
[22:41:10] *** Quits: mib_nkqc2k (Mibbit@BBE7C46A.B4F11D08.8612FA94.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:41:14] <strcat> pcwalton: it mostly improves loops so... need loop examples ;p
[22:41:17] <cmr> strcat: try rustray?
[22:41:21] <strcat> cmr: link?
[22:41:23] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[22:41:32] <cmr> https://github.com/Thiez/rustray
[22:41:39] <strcat> pcwalton: ugh I screwed up the Before numbers
[22:41:41] <strcat> heh
[22:42:13] <strcat> pcwalton: anyway
[22:42:18] <strcat> test bench_from_elem ... bench: 986 ns/iter (+/- 3) -> test bench_from_elem ... bench: 667 ns/iter (+/- 0)
[22:42:25] <pcwalton> 2x as slow is still a problem
[22:42:39] <strcat> pcwalton: well, yeah, but I think std::vector in C++ would have the same issues
[22:42:48] <strcat> we should fix it regardless
[22:42:49] <pcwalton> is it just not memsetting?
[22:42:50] <pcwalton> I wonder why
[22:42:54] <strcat> pcwalton: yeah it doesn't memset
[22:43:01] <pcwalton> weird
[22:43:05] <pcwalton> alias analysis problems?
[22:43:11] <strcat> pcwalton: http://llvm.org/docs/doxygen/html/LoopIdiomRecognize_8cpp_source.html
[22:43:12] <strcat> pcwalton: maybe
[22:43:15] <cmr> it can't, memset is only bytes?
[22:43:29] <cmr> single bytes that is
[22:43:43] <pcwalton> so this is like a 2% improvement in librustc
[22:43:46] <strcat> cmr: yes memset does a byte pattern but the bunchmark is just zeroing a big array
[22:43:46] <pcwalton> I'll take it
[22:43:55] <cmr> oh right
[22:44:02] <strcat> pcwalton: well 2% improvement including the extra time taken to optimize
[22:44:09] <strcat> it's probably more on microbenchmarks
[22:44:12] <strcat> a lot, in some cases
[22:44:13] <pcwalton> right
[22:45:32] <strcat> pcwalton: http://ix.io/6pe from_elem becomes this horror
[22:45:34] <strcat> ;\
[22:46:12] <strcat> pcwalton: I think vector codegen is FUBAR
[22:46:18] <strcat> it does weird stores
[22:46:27] <strcat>   store i64 1024, i64* %31, align 8 why would it do that before dropping?
[22:46:37] * pcwalton is very sad about this tydesc-in-exchange-heap-allocations garbage
[22:46:52] <strcat> pcwalton: it's used by ~fn
[22:46:54] <strcat> to store the size
[22:47:02] <strcat> we need to split ~T into a separate allocator I think
[22:47:14] *** Quits: jesse98 (jjones@6251EDC2.15651213.B46B86FA.IP) (Connection reset by peer)
[22:47:15] <strcat> pcwalton: it's 4 words :(
[22:47:16] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[22:47:36] <pcwalton> ~fn stores...the size?
[22:47:57] <cmr> pcwalton: about to bench the each-path rewrite
[22:48:01] <strcat> pcwalton: of the closure's captured stuff I guess
[22:48:01] <pcwalton> cmr: ok
[22:48:04] <strcat> pcwalton: I tried fixing this ;p
[22:48:07] <pcwalton> why does it care?
[22:48:08] *** Quits: cowboyd (cowboyd@moz-DD0FF83.lightspeed.austtx.sbcglobal.net) (Client exited)
[22:48:12] <strcat> pcwalton: don't know
[22:48:24] <strcat> it seems to allocate space for captures + stores the size *in the exchange alloc header*
[22:48:41] <cmr> I mean it's there, why not? :P
[22:48:43] <strcat> so when I stopped initializing exchange alloc headers, that was one of the issues
[22:48:53] *** Joins: MaikKlein (maik@moz-C8D04999.dip0.t-ipconnect.de)
[22:48:57] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[22:48:58] *** Quits: lmandel (lmandel@moz-344B563E.dsl.bell.ca) (Quit: lmandel)
[22:49:09] <strcat> pcwalton: I think this is our worst perf issue though
[22:49:10] <pcwalton> how terrible
[22:49:19] <strcat> it means a 16-byte allocation is in the 64-byte allocation class
[22:49:21] <strcat> instead of 16-byte
[22:49:23] <pcwalton> yeah, it'll be a huge improvement all around
[22:49:27] <pcwalton> it also results in lots of bogus IR
[22:49:48] <cmr> r? https://github.com/mozilla/rust/pull/7468
[22:50:33] <pcwalton> cmr: nice, r+
[22:50:42] <strcat> pcwalton: it would be nice if we used available_externally + linkonce_odr for inlining
[22:50:49] *** Quits: dylukes (dylukes@moz-E4DF3FED.pitbpa.fios.verizon.net) (Quit: Computer has gone to sleep.)
[22:50:56] <strcat>     Globals with ‚Äúavailable_externally‚Äù linkage are never emitted into the object file corresponding to the LLVM module. They exist to allow inlining and other optimizations to take place given knowledge of the definition of the global, which is known to be somewhere outside the module. Globals with available_externally linkage are allowed to be discarded at will, and are otherwise the same as
[22:50:58] <strcat> linkonce_odr. This linkage type is only allowed on definitions, not declarations.
[22:51:14] <pcwalton> for non-generic inlining
[22:51:17] <strcat> yeah
[22:51:23] <strcat> pcwalton: well for generics we can do what C++11 does
[22:51:30] <strcat> allow initializing certain pre-instantiations in a crate
[22:51:44] <strcat> like HashMap<int, int>, etc.
[22:51:47] <pcwalton> right
[22:52:19] * strcat really wishes mergefunc didn't break everything
[22:52:48] <sully> oh, argh.
[22:52:53] <sully> was updating a test, and now it ices
[22:53:33] *** Quits: donri (dag@moz-9BB61102.tbcn.telia.com) (Client exited)
[22:53:37] <strcat> pcwalton: when we update LLVM we can enable loop vectorization at -O2 too like clang does now in svn
[22:53:41] <strcat> they made it a lot better, the cost analysis
[22:53:48] <sully> oh, wait, everything is iceing.
[22:53:49] <sully> uh.
[22:54:08] <sully> oh, welp, can't get away with only rebuilding the compiler when the library has changed
[22:54:42] <strcat> pcwalton: they really, really need to finish the slp vectorize thing
[22:54:50] *** Joins: victorporof (victorporo@475EFE2D.75AF2AF4.D111398B.IP)
[22:54:52] <strcat> I think it can vectorize our siphash
[22:55:03] * strcat tries
[22:57:20] <strcat> heh
[22:57:23] <strcat> nvm, it really sucks atm
[22:57:28] <strcat> it makes it *slower*
[22:57:42] <strcat> search: 0.227929 -> search: 0.241958
[22:59:00] <sully> aaaargh. found a bug while updating my test :(
[22:59:24] *** Joins: dylukes (dylukes@moz-E4DF3FED.pitbpa.fios.verizon.net)
[22:59:50] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[23:00:46] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[23:00:57] *** Quits: eholk (eholk@moz-503EAD7C.uconnect.utah.edu) (Quit: eholk)
[23:01:08] <Seldaek> what's the 0.7 equivalent of task::spawn_supervised?
[23:01:12] *** Quits: victorporof (victorporo@475EFE2D.75AF2AF4.D111398B.IP) (Ping timeout)
[23:01:16] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:01:27] *** Quits: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP) (Quit: night)
[23:01:45] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[23:02:17] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[23:03:03] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[23:05:08] <strcat> pcwalton: and we need to make ~[0, 10000] use calloc
[23:05:23] <strcat> even if LLVM optimizes it to a memset, it will be slower
[23:05:33] *** Quits: chee (chee@moz-E5A0DD8.org) (Ping timeout)
[23:05:35] <MaikKlein> .iter().advance() |x| always gives me an immutable pointer right?
[23:05:38] <strcat> because mmap hands you pre-zeroed pages so calloc doesn't have to do anything on large allocs
[23:05:44] <strcat> MaikKlein: assuming a vector, yes
[23:05:51] <MaikKlein> what if I want to have a mutable one? to I need to use .transform?
[23:05:56] <strcat> .mut_iter
[23:05:57] <MaikKlein> strcat, yes it is a vector
[23:05:59] <MaikKlein> ahh
[23:06:01] <MaikKlein> ok thanks
[23:06:02] *** Joins: chee (chee@moz-E5A0DD8.org)
[23:06:12] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz‚Ä¶)
[23:06:29] <Jesse> strcat: why doesn't LLVM figure out that it should use calloc? it doesn't know enough about our allocator?
[23:06:35] <strcat> rusti: let mut xs = [0, ..10]; for xs.mut_iter().enumerate |(i, v)| { *v = i }; xs
[23:06:37] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/hTPh
[23:06:53] <strcat> rusti: let mut xs = [0, ..10]; for xs.mut_iter().enumerate().advance |(i, v)| { *v = i }; xs
[23:06:53] -rusti- <anon>:9:87: 9:88 error: mismatched types: expected `int` but found `uint` (expected int but found uint)
[23:06:53] -rusti- <anon>:9          let mut xs = [0, ..10]; for xs.mut_iter().enumerate().advance |(i, v)| { *v = i }; xs
[23:06:54] -rusti-                                                                                                 ^
[23:06:54] -rusti- error: aborting due to previous error
[23:06:54] <MaikKlein> nice its working
[23:06:55] -rusti- application terminated with error code 101
[23:07:02] <strcat> rusti: let mut xs = [0u, ..10]; for xs.mut_iter().enumerate().advance |(i, v)| { *v = i }; xs
[23:07:04] -rusti- [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
[23:07:10] *** Quits: seth (seth@moz-BE33DA21.fw1.sfo1.mozilla.net) (Input/output error)
[23:07:11] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[23:07:11] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/YDSt5Q
[23:07:11] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[23:07:13] <strcat> Jesse: it can't see through a function call to an external lib
[23:07:25] <strcat> our exchange allocation stuff is terrible bloated code
[23:07:42] <strcat> and it's not marked #[inline] so it's not possible for LLVM to inline it cross-crate
[23:07:50] *** Joins: Thad (chatzilla@moz-C35F90AE.tx.res.rr.com)
[23:08:01] <strcat> even if we did, I don't think LLVM can optimize malloc + memset to calloc
[23:08:17] <strcat> they only special case the common C functions to a certain extent
[23:08:38] *** Joins: mindginative (mindginati@moz-90AB6445.dyn.cust.vf.net.nz)
[23:09:00] <Thad> hmm, Compiling is failing for me now. (Regression on Win7)  llvm-mc.exe - Entry Point Not Found in the dynamic link library libstdc++-6.dll
[23:09:21] *** Joins: maxli (maxli@B5559308.9C54E60.2FA4EA88.IP)
[23:09:37] *** mindginative is now known as rix
[23:09:47] <Thad> i686-pc-mingw32/stage0/arch/i386/_context.o
[23:10:09] *** Joins: ghrust (ghrust@AC22872E.6A2AE50.F3114085.IP)
[23:10:09] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/X9YHHw
[23:10:09] *** Parts: ghrust (ghrust@AC22872E.6A2AE50.F3114085.IP) ()
[23:10:13] *** Joins: ghrust (ghrust@AD60B2E3.6A2AE50.F3114085.IP)
[23:10:13] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/tj-eHA
[23:10:13] <ghrust> 13rust/06auto 1465ca183 15Bj√∂rn Steinbrink: Add missing argument to a debug! call in trans_arg_expr
[23:10:13] <ghrust> 13rust/06auto 143b10531 15Bj√∂rn Steinbrink: Avoid double indirection for the "self" arg in methods...
[23:10:13] <ghrust> 13rust/06auto 14bff3d28 15bors: auto merge of #7452 : dotdash/rust/self_indirection, r=cmr...
[23:10:16] *** Parts: ghrust (ghrust@AD60B2E3.6A2AE50.F3114085.IP) ()
[23:10:17] <strcat> LLVM doesn't even know libc::free is free
[23:10:20] <strcat> lets see...
[23:11:06] *** Quits: maxli (maxli@B5559308.9C54E60.2FA4EA88.IP) (Ping timeout)
[23:11:42] <sully> man, this bug is weird
[23:11:45] <strcat> pcwalton: should I actually see something in the IR from #[fast_ffi] calls to C fns?
[23:11:53] <sully> it is really strange when I produce bugs that cause wrong behavior
[23:11:56] <strcat> other than a C fn call
[23:11:58] <sully> instead of ICEs or llvm asserts
[23:12:07] <pcwalton> strcat: yeah, the wrapper is still necessary because niko's stuff is not done
[23:12:13] <pcwalton> due to a windows bug
[23:12:13] <strcat> pcwalton: ah
[23:12:18] <pcwalton> it's sad
[23:12:29] <strcat> pcwalton: can we just not enable it on windows for now? or is that too much duplicate code to maintain
[23:12:36] <pcwalton> I would be in favor of that
[23:12:39] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[23:12:50] <bstrie> it's sad to see it rotting
[23:12:54] <pcwalton> I don't know where nmatsakis' changes are
[23:13:15] <bstrie> the PR was closed in the great extinction of 2013
[23:13:33] <cmr> hahah
[23:13:35] <cmr> great name
[23:13:44] <Thad> was it a Comet or a Volcano ?
[23:13:46] *** Joins: seth (seth@moz-BE33DA21.fw1.sfo1.mozilla.net)
[23:13:53] <cmr> Worse: a graydon
[23:14:04] <cmr> a mecha-graydon, at that!
[23:14:08] <bstrie> cmr: now be fair, he did it to save us all
[23:14:10] <Thad> oh $diety ... those are really bad bad bad
[23:14:18] <graydon> bleep bloop
[23:14:19] <bstrie> we're all better off for it
[23:14:26] <bstrie> instantly-updated docs!
[23:14:39] <bstrie> if a few prs had to die, then I say the end justified the means
[23:14:55] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Ping timeout)
[23:15:00] <graydon> (which thing did I do to save everyone?)
[23:15:04] <cmr> kill incoming
[23:15:35] *** Quits: Excureo (c@moz-B0B6F5C3.static.knwc.wa.charter.com) (Input/output error)
[23:16:20] <strcat> pcwalton: https://github.com/mozilla/rust/pull/6661 I guess it was this
[23:16:45] <pcwalton> yeah
[23:16:51] <pcwalton> bookmarked
[23:17:27] <strcat> at least we now sometimes return things sanely
[23:17:32] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Input/output error)
[23:17:58] <MaikKlein> bjz, ping
[23:18:50] *** Quits: gareth0 (gareth0@7C428FA9.3FD5F917.1A294DCF.IP) (Client exited)
[23:18:50] *** Quits: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP) (Quit: eatkinson)
[23:19:37] *** Joins: jpochyla (jpochyla@moz-8D99AE5D.broadband18.iol.cz)
[23:21:30] *** Quits: jpochyla (jpochyla@moz-8D99AE5D.broadband18.iol.cz) (Ping timeout)
[23:21:51] <Seldaek> what's the best way to pass "infinity" to a limit:uint arg?
[23:22:04] *** Joins: Excureo (c@moz-B0B6F5C3.static.knwc.wa.charter.com)
[23:22:12] <cmr> Seldaek: you don't, there is no meaningful infinity value for uint
[23:22:24] <Seldaek> or max int then?
[23:22:47] <yichoi> brson: current cannot build for android with master branch because of unused import
[23:22:48] <strcat> lazy way is to pass -1
[23:22:56] <strcat> will just underflow to max
[23:23:09] <Seldaek> ok that's what I got, but wasn't sure if it works since I have a gazillion other compile errors still
[23:23:15] <yichoi> brson: oh. already landed on. checking again
[23:23:28] <Seldaek> strcat: but there's no constant or something to express it "cleanly"?
[23:23:35] <strcat> there probably is
[23:23:37] <cmr> Seldaek: there is, it's a function somewhere in std::num
[23:23:40] <cmr> I'm looking for it...
[23:23:41] <strcat> -1 is clean enough to me
[23:23:58] <strcat> the fixnums are modular arithmetic
[23:24:04] <cmr> all the num code though is -1 :P
[23:24:07] <Eridius> Seldaek: uint::max_value
[23:24:16] <Eridius> rusti: std::uint::max_value
[23:24:17] -rusti- 18446744073709551615
[23:24:21] <Eridius> rusti: -1 as uint
[23:24:22] -rusti- 18446744073709551615
[23:24:22] <cmr> "pub static max_value: $T = 0 as $T - 1 as $T;"
[23:24:29] <strcat> rusti: -1u
[23:24:30] -rusti- 18446744073709551615
[23:24:51] <Eridius> rusti: -1u8
[23:24:52] -rusti- 255
[23:24:52] <strcat> cmr: why doesn't it just use unary -
[23:24:54] <strcat> ;\
[23:25:02] <cmr> Oh I was thinkihng of Bounded::max_value()
[23:25:07] <Seldaek> eh ok, well thanks guys, wonder why that uint::max_value isn't listed on http://static.rust-lang.org/doc/std/uint.html 
[23:25:10] <cmr> strcat: I dunno
[23:25:24] <cmr> Seldaek: it's generated by a macro, it's not actually "real code"
[23:25:34] <Eridius> rustdoc doesn't process macros yet
[23:25:46] <Seldaek> alright
[23:25:50] <cmr> rustdoc can't possibly know about it... unless it did macro expansion and macro expanded things could have doc comments.... hm
[23:26:16] * cmr adds it to his list of features
[23:26:40] <acrichto> cmr: another problem with the uint module is that it's all imported via a 'pub use self::generated::*'
[23:26:42] <strcat> how about "have rustc emit structured documentation for rustdoc to parse"
[23:26:55] <strcat> when you use sphinx with C++, you use clang to extract the docs
[23:26:56] <acrichto> cmr: so it'd have to follow the pub use and then also use the expanded macro version
[23:27:02] <cmr> strcat: well rustdoc just uses libsyntax
[23:27:07] <bstrie> please, let's not make it idiomatic to use -1 to refer to MAXINT
[23:27:12] <strcat> cmr: but then it doesn't deal with a lot of things
[23:27:24] <strcat> bstrie: it is idiomatic, they're fixnums ;p
[23:27:33] <cmr> strcat: such as?
[23:27:34] <strcat> you have to know how they work to use them at *all*
[23:27:35] <Eridius> maybe we should have a num::max_value::<uint>() or somesuch
[23:27:42] <strcat> cmr: whether trait impls are public
[23:27:49] <strcat> cmr: it has to resolve the trait and check if the trait is public
[23:27:59] <strcat> cmr: and to give a link for pub use statements
[23:28:04] <strcat> and to give a link to a trait
[23:28:21] <strcat> good documentation requires running resolve, so just make rustc spit out docs
[23:28:39] <cmr> yeah
[23:28:56] <cmr> pcwalton: thoughts on this?
[23:29:13] <bstrie> strcat: I don't care if they're fixnums, I don't want to make a reliance on overflow into an accepted idiom :P
[23:29:26] <Seldaek> ok another issue I'm having upgrading to 0.7-dev is "".to_bytes() fails now it seems, and my code is littered with them
[23:29:29] <strcat> bstrie: by using the fixed size ints, you want overflow
[23:29:36] <strcat> it's not "reliance" on overflow
[23:29:39] <strcat> it is how they are defined
[23:29:42] <pcwalton> it does mean that you cannot generate docs unless the thing builds on your system
[23:29:49] <pcwalton> e.g. a buildbot for servo cannot generate docs for windows
[23:29:51] <pcwalton> unless it is windwos
[23:29:52] <pcwalton> windows
[23:30:03] <strcat> pcwalton: but that's already true
[23:30:07] <strcat> cfg is per-platform
[23:30:11] <strcat> so docs are per-platform
[23:30:13] <pcwalton> that's not true for systems like doxygen
[23:30:25] <strcat> what it do with ifdef'ed stuff that's platform specific?
[23:30:26] <cmr> Well on my feature list is the ability to have rustdoc ignore/specifify platform cfg's
[23:30:39] <Eridius> Seldaek: the new way is .as_bytes() returns a &[u8] (same lifetime as the string), and you can use .to_owned() if you need a ~[u8]
[23:30:41] <pcwalton> cmr: you will have to write out external metadata too
[23:30:49] <pcwalton> write out other cfg's into external metadata
[23:30:54] <Eridius> Seldaek: you can also use bytes!("foo") if you were using .to_bytes on a literal string before (e.g. "foo".to_bytes())
[23:30:59] <cmr> pcwalton: eh?
[23:31:01] <pcwalton> and it has to expand macros and what if those macros have cfgs?
[23:31:17] <strcat> bstrie: if you use uint, you absolutely must know that either 1) wrapping is desired or 2) it never reaches the lower or upper bounds
[23:31:20] <pcwalton> "#[cfg(not_this_os)] pub use other_crate::foo;"
[23:31:24] <strcat> otherwise you want a bigint
[23:31:32] <pcwalton> assuming that foo is conditionally defined as #[cfg(not_this_os)]
[23:31:44] <cmr> ahh
[23:31:45] <strcat> and that's why bigints shouldn't be second-class, they need to be encouraged when they are the correct choice
[23:31:52] <cmr> yeah :\
[23:31:53] <strcat> need generic literals.
[23:32:51] <cmr> pcwalton: I feel like I don't really care about resolve faillures though
[23:32:54] <Seldaek> Eridius: thanks, bytes!() it is then
[23:33:00] <cmr> The worst thing that would happen is a link isn't generated
[23:33:40] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[23:33:42] <Eridius> rusti: bytes!("foo")
[23:33:43] -rusti- &[102, 111, 111]
[23:33:50] <Eridius> Seldaek: note that bytes!() gives you back a &'static [u8]
[23:34:07] <pcwalton> cmr: I just don't like to complicate resolve which is already the most complicated pass in rustc
[23:34:15] <cmr> pcwalton: right :(
[23:34:40] <bstrie> strcat: any code that you write that references MAXINT isn't going to translate into bignums anyway, and I'm not concerned about API consumers so much as I am about code reviewers. uint::max is self-documenting in a way that -1 is not
[23:34:45] <Seldaek> Eridius: not sure what the implications are given it's almost 2am and I've been staring at compile errors for a while, but I'll keep it in mind
[23:34:53] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[23:35:20] <Eridius> Seldaek: basically, if you wnat a ~[u8], use bytes!("foo").to_owned()
[23:35:52] *** Quits: Excureo (c@moz-B0B6F5C3.static.knwc.wa.charter.com) (Ping timeout)
[23:35:54] <bstrie> though now I'm reminded of http://www.jwz.org/blog/2008/03/most-positive-bignum/
[23:36:07] <Seldaek> Eridius: yeah ok, compiler made it more clear what you meant, sorry for being slow
[23:36:51] <strcat> bstrie: gmp can do up to 2^37 *bits* so... ;p
[23:37:33] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[23:38:02] <cmr> " If you add one to it, e.g.: (1+ MOST-POSITIVE-BIGNUM) you get zero. But it's a zero that consumes 524 KB, and is not = to 0. " heh
[23:38:08] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[23:38:30] <Eridius> "here's some code that doesn't run on any computer that has been manufactured in two decades"
[23:38:32] <strcat> gmp's most positive number consumes over 16 gigabytes
[23:38:38] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[23:38:46] *** Quits: mschifer1 (Adium@2557E599.66715431.D25A875A.IP) (Quit: Leaving.)
[23:39:17] <strcat> so to add two of them, you need at least 48GiB of memory
[23:39:34] <engla> at least you can't be DoS'ed with uint
[23:39:47] *** Quits: echristo (echristo@D423593A.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[23:39:57] <strcat> engla: if you aren't checking inputs, you can be DoS'ed with either
[23:40:14] <engla> true
[23:40:40] <strcat> or just division by zero failure
[23:41:39] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[23:41:54] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:43:40] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[23:44:07] <Seldaek> oh, no more unicode to_lower? or was it never working?
[23:44:40] <strcat> Seldaek: it was never unicode
[23:44:43] <strcat> so it was removed
[23:44:51] <Seldaek> fair enough
[23:45:03] *** Joins: Aetherspawn (Aetherspaw@moz-8811D9F0.static.tpgi.com.au)
[23:45:04] <bstrie> Seldaek: iirc there's a to_lower in the ascii module
[23:45:34] <strcat> rusti: 2
[23:45:34] -rusti- 2
[23:45:53] <Seldaek> yup I found that
[23:46:00] <strcat> rusti: std::sys::size_of::<extra::rc::Rc::<int>>()
[23:46:01] -rusti- <anon>:9:42: 9:44 error: expected `,` but found `::`
[23:46:01] -rusti- <anon>:9          std::sys::size_of::<extra::rc::Rc::<int>>()
[23:46:01] -rusti-                                                    ^~
[23:46:01] -rusti- application terminated with error code 101
[23:46:07] <strcat> rusti: std::sys::size_of::<extra::rc::Rc<int>>()
[23:46:07] -rusti- 8
[23:46:11] <strcat> yay
[23:46:18] <engla> std::unicode has a few tables but it seems it's just the categories
[23:46:23] <Seldaek> kinda confused about how to get back to a str after though, there is ascii::to_str, to_str_ascii, into_str, ..?
[23:46:50] <Seldaek> they all seem to do the same
[23:47:05] <engla> what does into_* mean?
[23:47:13] * pcwalton loves deriving(Clone)
[23:47:16] <Seldaek> yeah that's the weirdest
[23:47:22] <bstrie> engla: there's a proposal to make "to_foo" change in-place, and "into_foo" do a copy
[23:47:26] <bstrie> or, something
[23:48:31] <engla> ah strcat, don't we need to mark most iterators as deriving Clone
[23:48:41] <bstrie> does that make sense
[23:48:46] <bstrie> seems like you could invalidate iterators that way
[23:48:50] <strcat> engla: yes
[23:48:55] <strcat> bstrie: immutable ones
[23:48:56] <engla> it's great bstrie 
[23:49:01] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[23:49:45] <engla> it completely depends on the iterator but many are clonable just not marked that way
[23:50:00] <engla> I'm thinking about the combinators strcat
[23:50:19] <engla> bstrie: what does changing in place mean?
[23:51:06] <bstrie> engla: https://github.com/mozilla/rust/issues/7087
[23:51:27] *** Joins: maxli (maxli@B5559308.9C54E60.2FA4EA88.IP)
[23:51:45] *** Joins: echristo (echristo@D423593A.D6CCE4AE.77834EAA.IP)
[23:52:10] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[23:52:10] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14bff3d28 to 145d2e565: 02http://git.io/N3iJvQ
[23:52:10] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[23:52:12] *** Joins: ghrust (ghrust@CFE85B59.6A2AE50.F3114085.IP)
[23:52:12] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/4UbhLw
[23:52:12] <ghrust> 13rust/06auto 142bdc88b 15Daniel Micay: copy the optimization passes from clang
[23:52:12] <ghrust> 13rust/06auto 14e239346 15bors: auto merge of #7466 : thestinger/rust/passes, r=cmr
[23:52:12] *** Parts: ghrust (ghrust@CFE85B59.6A2AE50.F3114085.IP) ()
[23:52:21] <strcat> aw that failed
[23:52:21] <cmr> doener: ^
[23:53:17] <bstrie> I can't figure out why it failed
[23:53:18] <cmr> http://ianstormtaylor.com/refactoring-githubs-design/ for those interested in that sort of thing
[23:53:26] <bstrie> "command interrupted, attempting to kill"
[23:53:38] <bstrie> did someone cancel it?
[23:53:40] <pcwalton> wow, I converted copy -> clone in the visitor really easily
[23:53:43] <cmr> bstrie: no
[23:53:50] <pcwalton> maybe removing copy won't be so terrible after all
[23:53:51] <cmr> bstrie: look for the failing build
[23:53:57] <cmr> bstrie: it's in that haystack somewhere!
[23:54:25] <strcat> pcwalton: I think the one notable thing missing Clone is a fixed-size array
[23:54:30] <strcat> I added it for borrowed pointers + slices
[23:54:39] <strcat> so 99% of things are covered
[23:54:55] <bstrie> http://buildbot.rust-lang.org/builders/auto-linux-64-opt-vg/builds/155/steps/test/logs/stdio
[23:54:58] <bstrie> weird errors
[23:55:05] <pcwalton> strcat: yeah, nmatsakis mentioned to me that fixed size arrays were an issue
[23:55:07] <pcwalton> we'll see how bad it is
[23:55:11] <pcwalton> we could always do some common array sizes
[23:55:15] <pcwalton> although that's awful of course
[23:55:23] <doener> I think I know what's wrong
[23:55:24] <bstrie> ...common array sizes...
[23:55:35] <pcwalton> powers of two and everything < 64 or something
[23:55:39] <doener> I forgot to add temporary cleanups for trait object method calls
[23:55:58] <Seldaek> cmr: I'm sure the guy is right, but I was so used to the old github UI that the new one still freaks me out 
[23:56:17] <strcat> pcwalton: or you could add integers to the type system ;p
[23:56:30] <Seldaek> I also miss the issue/pr counts a lot when the sidebar is reduced to icons
[23:56:41] <cmr> Seldaek: I'm a design nerd, I really like the new design
[23:57:05] <strcat> cmr: make my web version of rusti pretty ;p
[23:57:28] <cmr> strcat: I'd much rather never touch CSS again in my life, sorry! :P
[23:57:28] <Seldaek> cmr: don't get me wrong it's objectively better, cleaner and all that. Just hurts my addict-user-gut-feeling, but I'll no doubt get used to it since  Ihave no choice
[23:57:33] *** Joins: bjz_ (brendanzab@moz-E17AB2AB.lnse2.cha.bigpond.net.au)
[23:57:34] <strcat> cmr: :)
[23:57:43] <cmr> At least not until the box model dies and is gone...
[23:57:45] <strcat> cmr: I tried and failed to make it resizable
[23:57:46] *** Quits: bjz (brendanzab@moz-E17AB2AB.lnse2.cha.bigpond.net.au) (Ping timeout)
[23:57:57] <strcat> added resize (css3) + added a hook to tell ace to resize
[23:58:06] <strcat> but ace fails to properly draw itself :(
[23:58:11] <bjz_> MaikKlein: hoy, you're welcome to send a PR
[23:58:27] <strcat> woooo, my zsh expert friend is helping me fix the completion for rustc \o/
[23:58:33] <cmr> nice!
[23:58:38] <strcat> also, W and -Z are really weird
[23:58:41] <Seldaek> strcat: as said before, I wouldn't mind helping with css/styling, I'm not a great designer but at least I know css well
[23:58:46] <strcat> -W can only be passed once and wants a comma-separated list
[23:58:55] <cmr> really?
[23:58:55] <Eridius> strcat: hmm, we should have completion for fish
[23:58:58] <cmr> I didn't actually know that
[23:58:58] <strcat> -Z can be passed multiple times and won't accept a comma-separated list
[23:59:23] <strcat> cmr: atm my zsh completion thinks -Z and -W take infinite parameters
[23:59:25] <strcat> :D
[23:59:37] <Eridius> strcat: -1u parameters?
[23:59:37] <MaikKlein> bjz_, I also found a few bugs, but I wanted to ask you sth
[23:59:38] <strcat> anyway it can complete both a comma separated list and limit them to 1 argument
[23:59:39] <sully> graydon: sigh, still trying to track down the bug I found when improving my test cases
[23:59:45] <strcat> Eridius: well it doesn't handle a limit :)
[23:59:49] <bjz_> MaikKlein: nice!
[23:59:52] <strcat> I copied a program that acted like...
[23:59:52] *** Joins: victorporof (victorporo@475EFE2D.75AF2AF4.D111398B.IP)
[23:59:54] <MaikKlein> bjz_, how do you intend to create a translate matrix?
[23:59:57] <strcat> program [flags] [arguments....]
