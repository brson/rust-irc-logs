[00:00:02] <aatch> cmr, there's one for variables
[00:00:15] <cmr> rusti: let foo = 5; fo
[00:00:16] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/ZKPJ
[00:00:20] <cmr> Aha
[00:01:00] <aatch> possibly because the semantics of the language doesn't rely on the names of the variables
[00:01:18] <aatch> or maybe nobody bothered to do it for types
[00:01:49] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[00:02:07] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[00:02:07] *** ChanServ sets mode: +o brson
[00:02:46] *** Joins: pcwalton (pcwalton@2557E599.66715431.D25A875A.IP)
[00:02:46] *** ChanServ sets mode: +o pcwalton
[00:08:39] <steven_is_false> How do I kill a task (from outside, failing is easy?) I have to do so in order to kill the standard input thread while it's blockin on I/O.
[00:08:52] <brson> steven_is_false: it can't be done
[00:09:48] <cmr> Even if you could kill a task from outside, the thread would be blocked at a kernel level on the syscall
[00:10:22] <cmr> (doesn't always prevent killing it, though)
[00:10:33] *** Quits: steven_is_false (user@moz-144077DE.bchsia.telus.net) (Ping timeout)
[00:10:38] <brson> this is all supposed to work in the new scheduler i/o stack, somehow, someday
[00:10:49] <bjz_> nmatsakis: how goes the fnpointer pull?
[00:10:58] <bjz_> nmatsakis: still stuck on that bug?
[00:14:03] <nmatsakis> bjz_ : https://github.com/mozilla/rust/pull/6661
[00:14:56] <bjz_> nmatsakis: such an unassuming PR
[00:15:00] <bjz_> nmatsakis: :)
[00:15:18] <bjz_> nmatsakis: and yet the ramifications are awesome
[00:16:30] <bjz_> nmatsakis: I have my loader up ready: https://github.com/bjz/gl-rs
[00:17:13] <bjz_> nmatsakis: If I wer to be transmuting a function pointer, would I do it from a *c_void, or a extern "C" fn()?
[00:18:18] <nmatsakis> bjz_: I don't understand the question...
[00:18:36] <nmatsakis> bjz_: transmuting it for what purpose? and from what source?
[00:18:55] <bjz_> nmatsakis: ok, so I get a function pointer from glfwGetProcAddress
[00:19:28] <bjz_> it returns a *c_void in the .h
[00:19:49] <bjz_> I want to transmute it to the correct function type
[00:19:58] <nmatsakis> bjz_: I see, transmute it to extern "C" fn(S) -> T
[00:20:02] <nmatsakis> where S and T are the appropriate types 
[00:20:07] *** Joins: sanxiyn (tinuviel@858F408C.B797260D.EF43EC08.IP)
[00:20:12] <nmatsakis> then (with my patch) you can call it
[00:20:14] <nmatsakis> or should be
[00:20:16] <bjz_> what do I transmute it from?
[00:20:20] <sanxiyn> brson: We're having trouble connecting to conference call (again)
[00:20:26] <nmatsakis> bjz_: void* would be fine
[00:20:31] <bjz_> cool
[00:22:06] <brson> sanxiyn: us too. we're not sure which room we're supposed to be in. can you connect at all?
[00:22:18] <sanxiyn> Yes I think so
[00:22:18] <bjz_> nmatsakis: yeah, this is the function: https://github.com/bjz/gl-rs/blob/master/gl_core_4_3.rs#L3610
[00:22:23] <sanxiyn> brson: /query?
[00:22:26] <bjz_> nmatsakis: I think it will work
[00:23:23] <jack> sanxiyn: i can call into the number but the chairperson has not arrived. is that what you're getting as well?
[00:23:57] <bjz_> nmatsakis: can we do let f: extern "C" fn() = || { fail!() }; ?
[00:24:22] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[00:24:22] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/JgbgwQ
[00:24:22] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[00:24:23] <sanxiyn> jack: "chairperson has not arrived"?
[00:24:31] <sanxiyn> I don't think we got any such message
[00:24:47] <bjz_> nmatsakis: at the moment I have to create a whole host of failing functions
[00:25:05] <erickt> cmr: you can look up a str for a given ident with parse_sess.interner.get(id)
[00:25:19] <erickt> cmr: great!
[00:26:28] <cmr> erickt: I'd like to add a span to the site of use, is there a way to get that?
[00:27:21] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[00:27:21] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/m1JAqQ
[00:27:21] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[00:27:25] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[00:27:25] <ghrust> 01[13rust01] 15bors pushed 19 new commits to 06auto: 02http://git.io/B9Wjuw
[00:27:25] <ghrust> 13rust/06auto 143d9697b 15Patrick Walton: librustc: Disallow `use` from reaching into impls or traits....
[00:27:25] <ghrust> 13rust/06auto 143c71ef8 15Patrick Walton: librustc: Disable borrow check debugging even when rustc is compiled with -O0....
[00:27:26] <ghrust> 13rust/06auto 145f1b7a9 15Patrick Walton: test: Fix tests.
[00:27:27] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[00:27:36] <erickt> cmr: that I don't know. I see you're using a span already in https://github.com/mozilla/rust/pull/6686/files, is that not the right one?
[00:27:51] <cmr> erickt: no, it just points to the m in macro_rules!
[00:28:12] <erickt> hrm
[00:28:48] <erickt> maybe the caller of lookup_cur_matched has the span you are looking for?
[00:29:08] <erickt> if so, you could pass it in and use that for your error message
[00:31:20] *** Joins: pnathan (Adium@DB849214.31A7A48D.B1142EBE.IP)
[00:31:58] *** Quits: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP) (Quit: eatkinson)
[00:32:36] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[00:33:21] *** Joins: samx (sami@moz-62B7FC03.dyn.optonline.net)
[00:33:37] <cmr> opened https://github.com/mozilla/rust/issues/6691 about it
[00:33:56] <erickt> anyone up for a review of https://github.com/mozilla/rust/pull/6690? It cleans up all the warnings being generated by compiling rust
[00:34:56] *** Joins: steven_is_false (user@moz-144077DE.bchsia.telus.net)
[00:34:57] <tikue> does rust have an equivalent of python's zip?
[00:36:00] <cmr> tikue: http://static.rust-lang.org/doc/core/vec.html#function-zip, http://static.rust-lang.org/doc/core/iterator.html#trait-iteratorutil
[00:36:14] <cmr> I don't know if core::iterator is the old or new iterator code...
[00:36:15] <erickt> cmr: the first item in tt_nonterminal is a span. I think that's what you want: https://github.com/mozilla/rust/blob/master/src/libsyntax/ext/tt/transcribe.rs#L157
[00:36:19] <tikue> awesome, thanks
[00:37:30] *** Quits: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net) (Quit: jorendorff)
[00:41:11] *** Joins: nooy (user@moz-2458675D.a146.priv.bahnhof.se)
[00:42:16] <nmatsakis> sanxiyn: r? https://github.com/mozilla/rust/pull/6661
[00:44:53] <bstrie> so... I could have sworn that `static ASSERT_EQUALS: [uint, ..5] = [0, ..5];` worked. am I wrong?
[00:45:38] <nmatsakis> erickt: nice.
[00:45:40] <nmatsakis> (your PR)
[00:45:54] <cmr> rusti: static ASSERT_EQUALS: [uint, ..5] = [0, ..5];
[00:45:55] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/cLZe
[00:46:02] <cmr> rusti: static ASSERT_EQUALS: &'static [uint, ..5] = &'static [0, ..5];
[00:46:03] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/bVIC
[00:46:27] <bstrie> I was trying to pull off the hilarious thing where you emulate assert_equals by putting different constants on either side of the declaration
[00:46:39] <cmr> bstrie: I was recently mucking around in that code. I don't think I broke that, though
[00:46:39] <bstrie> but even the basic form doesn't work :\
[00:46:40] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Ping timeout)
[00:46:47] <cmr> bstrie: You know #[static_assert] landed today right? :)
[00:46:52] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[00:46:52] *** ChanServ sets mode: +o brson
[00:46:57] <bstrie> sure do :P
[00:47:43] <bstrie> so is this a regression or am I just delusional?
[00:51:01] <cmr> I don't think it is a regression
[00:51:26] <steven_is_false> So my plan of using failure to kill the io task doesn't seem to work. Is a task unkillable while it's blocking on I/O?
[00:52:03] *** Quits: pcwalton (pcwalton@2557E599.66715431.D25A875A.IP) (Quit: pcwalton)
[00:52:50] *** Joins: pcwalton (pcwalton@2557E599.66715431.D25A875A.IP)
[00:52:51] *** ChanServ sets mode: +o pcwalton
[00:53:03] *** Quits: azita (Azita@2557E599.66715431.D25A875A.IP) (Quit: azita)
[00:53:18] <bjz_> sanxiyn: me and h3r3tic will huggle you if you r? this: https://github.com/mozilla/rust/pull/6661
[00:53:46] * sanxiyn is back
[00:54:00] <sanxiyn> Oh
[00:54:05] *** Joins: Jesin (Jessin_@moz-A03A364F.cc.lehigh.edu)
[00:54:15] <cmr> bstrie: it shouldn't beetoo hard to fix; add expr_repeat in rustc::middle::check_const::check_expr, and add repeat handling to rustc::trans::consts::const_repeat (you can copy const_vec for the most part)
[00:54:31] <bjz_> sanxiyn: an unassuming patch with huge implications :)
[00:54:41] <sanxiyn> bjz_: What huge implication?
[00:54:58] <bjz_> sanxiyn: opengl function loader!!!!!
[00:55:54] <sanxiyn> Ah
[00:55:58] <bjz_> sanxiyn: I can kill glcore-rs, and bring out gl-rs
[00:56:18] <sanxiyn> This is exciting, but could be also destablizing... I will test on ARM right now
[00:56:29] <sanxiyn> (While build is going on, I can look at the code :)
[00:56:48] *** Quits: Benvie_ (brandon@5FD20F9A.53D07D95.EFF8B7BF.IP) (Ping timeout)
[00:57:10] *** Joins: Benvie_ (brandon@5FD20F9A.53D07D95.EFF8B7BF.IP)
[00:57:15] <bjz_> sanxiyn: np
[00:57:38] <Luqman> nmatsakis: i think you might have missed middle/trans/intrinsics.rs in the pull
[00:57:53] *** Quits: thomaslee_ (thomaslee@moz-6C3931E3.static.twtelecom.net) (Client exited)
[00:58:12] <nmatsakis> Luqman: yeah, I was wondering about that. I saw it in my directory after changing branches, but it looked like it was part of the commit data as well?
[00:59:17] <sanxiyn> "This is subtle and surprising, but sometimes we have to bitcast the resulting fn pointer"
[00:59:28] <erickt> Luqman: make any progress with by-value selfs?
[00:59:47] <Luqman> nmatsakis: it doesn't seem to be in the file listing on github for that commit
[01:00:02] *** Quits: samx (sami@moz-62B7FC03.dyn.optonline.net) (Quit: This computer has gone to sleep)
[01:00:06] <steven_is_false> Okay, I think I/O is unkillable while blocking. How would I move to nonblocking I/O?
[01:00:16] <Luqman> erickt: no sadly, have a few assignments to work on
[01:00:29] <bjz_> sanxiyn: you mean transmute?
[01:00:44] <cmr> steven_is_false: can use select. probably libuv has a thing for it too
[01:00:59] <sanxiyn> bjz_: https://github.com/nikomatsakis/rust/commit/98f3da3dc3eb66611416845e8ef60847d8e842ca#L3R304
[01:01:36] <bjz_> ahh
[01:01:37] <bjz_> heh
[01:02:33] <sanxiyn> I like unnecessary-allocation lint
[01:02:40] <steven_is_false> cmr: How can I use select with IO? There does not seem to be a way to get standard input as a Port.
[01:02:54] <sanxiyn> I found that it does not handle operator overloading (which is a method call, but not expr_method_call)
[01:03:12] <nmatsakis> Luqman: ok I will try to figure it out, maybe what I have locally and what it to github differ somehow
[01:03:22] <sanxiyn> I think it should use adjustments table instead of matching on expr_call and expr_method_call?
[01:03:24] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[01:03:25] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1418e2dc2 to 14f517ed0: 02http://git.io/N3iJvQ
[01:03:25] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[01:03:27] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[01:03:27] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/7fp9xw
[01:03:27] <ghrust> 13rust/06auto 14f8af2b5 15Jihyun Yu: fix issue #6209
[01:03:27] <ghrust> 13rust/06auto 141d3e84c 15bors: auto merge of #6669 : yjh0502/rust/fix_6209, r=graydon...
[01:03:27] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[01:03:32] <sanxiyn> nmatsakis: Does that sound right
[01:03:54] <steven_is_false> cmr: So I don't get what you mean by using select?
[01:03:57] <nmatsakis> sanxiyn: to decide if an operator is overloaded, you must check the method_map
[01:04:11] <nmatsakis> sanxiyn: but I am not sure precisely what you are saying to be honest
[01:04:18] <sanxiyn> https://github.com/alexcrichton/rust/commit/074799b4c586c521ba678a4dc3809cad1a872dfe#L0R892
[01:04:20] <nmatsakis> sanxiyn: that is to say, I haven't read the code in question
[01:04:30] <sanxiyn> (is the code in question)
[01:04:30] *** Joins: SimonSapin (simon@5AAE35B2.5EFFC0B8.24454B25.IP)
[01:04:38] <nmatsakis> ah, thank you.
[01:04:50] <sanxiyn> nmatsakis: It looks for ~"string" passed to &str, basically
[01:05:01] <sanxiyn> (And warns that you should use "string")
[01:05:21] <nmatsakis> sanxiyn: then yes, adjustments would be the proper way.
[01:05:37] <pcwalton> aw, come on
[01:05:40] <nmatsakis> sanxiyn: basically looking for an expr with an "autoslice" whose type is ~[] or ~str
[01:05:55] <nmatsakis> pcwalton: ?
[01:06:02] <pcwalton> my renaming patch keeps bouncing
[01:06:11] <pcwalton> and the queue is going to bitrot it
[01:06:14] <sanxiyn> nmatsakis: AutoBorrowVec, right?
[01:06:17] * pcwalton is tempted to close the tree
[01:06:26] <cmr> steven_is_false: I mean select(3) plus fileno(3)
[01:06:29] *** Quits: heftig_ (heftig@moz-1493AB3.dip0.t-ipconnect.de) (Ping timeout)
[01:06:37] <nmatsakis> sanxiyn: yes, right :0
[01:06:40] <steven_is_false> cmr: Oh you mean the low level IO stuff
[01:06:51] <cmr> Yeah
[01:06:54] <sanxiyn> nmatsakis: Do you have some idea how this graydon's wishlist could be implemented?
[01:06:55] <sanxiyn> https://github.com/mozilla/rust/pull/6647#issuecomment-18176868
[01:07:07] <sanxiyn> (in the simple case)
[01:07:22] <bjz_> pcwalton: maybe it's better to do that kind of thing on the weekend? I think cmr managed to merge his big assert_eq patch then, when things were reasonably quiet
[01:07:23] <acrichto> sanxiyn: oh I meant to add a test for the lint as well. If you're going to modify it to be more general, I could write up some test cases for the previous uses
[01:07:33] <cmr> pcwalton: specifically on sunday morning :)
[01:07:38] <sanxiyn> acrichto: Yes, that would be appreciated
[01:07:39] <bjz_> :)
[01:07:48] <sanxiyn> acrichto: btw, thank you for the great work!
[01:07:49] <cmr> (saturday was quiet too, but I took too long to write the thing)
[01:08:03] <bjz_> cmr: well, it depends where in the world you are :D
[01:08:42] <steven_is_false> I can't seem to find where it is in libc. Also, should I look at libuv before reimplementing everything from scratch?
[01:08:54] *** Joins: int3_ (int3_@moz-B7B5F043.singnet.com.sg)
[01:09:18] <sanxiyn> nmatsakis: For example, would it be sound to warn that when an argument is not & (or &mut) but all use of argument is borrowed (imm or mut), argument should be & (or &mut)?
[01:09:31] <sanxiyn> (I think it is, but I am not sure)
[01:09:37] *** Quits: Jesin (Jessin_@moz-A03A364F.cc.lehigh.edu) (Ping timeout)
[01:11:18] <pcwalton> hmmm, I don't actually know what the problem is because the builder truncated the logs
[01:11:21] <cmr> steven_is_false: http://nikhilm.github.io/uvbook/filesystem.html#buffers-and-streams
[01:11:24] <pcwalton> and it looks linux-specific.
[01:11:56] <pcwalton> brson: can I log into the bots or something?
[01:12:05] <cmr> steven_is_false: https://github.com/joyent/libuv/blob/master/test/test-stdio-over-pipes.c
[01:12:12] <sanxiyn> acrichto: My enhancement is that now it warns on `s /* ~str */ + ~"string"`
[01:12:21] <sanxiyn> (~ on the second term can be dropped)
[01:12:37] <acrichto> sanxiyn: yeah I noticed a lot of that afterwards, I wasn't sure how to deal with that when I started doing that
[01:12:59] <acrichto> are you detecting this in a more robust fashion than just matching the ast? That's probably the way to go...
[01:13:08] <sanxiyn> acrichto: Apparently `adjustments` table on ty::ctxt can be used for that
[01:13:57] <acrichto> sanxiyn: ah so if there's an AutoDerefRef then the sigil wasn't needed?
[01:14:02] <sanxiyn> yes
[01:14:12] <brson> pcwalton: the linux bots are under graydon's desk and can't be accessed by name
[01:14:21] <sanxiyn> yes if AutoBorrowVec is on literals
[01:14:30] <pcwalton> brson: hmm I'm kinda stuck then
[01:14:41] <pcwalton> tests pass for me but they don't on the bots
[01:14:48] <sanxiyn> pcwalton: :(
[01:14:50] <pcwalton> and I don't have the output because of all the warning spew (unnecessary allocation)
[01:14:57] <pcwalton> well, I can try one thing
[01:15:02] <pcwalton> turn off unnecessary allocation warnings in libextra
[01:15:10] <tjc> I'm fixing those warnings
[01:15:38] <acrichto> sanxiyn: https://github.com/alexcrichton/rust/commit/8ca72b15e728c45360d9ff0776559f324e3a19db
[01:15:38] <erickt> pcwalton / tjc: I got a pull request to fix a bunch of warnings
[01:15:52] <tjc> erickt: I r+'ed it but I don't think it fixes the testsuite warnings
[01:15:53] <tjc> but I did
[01:16:04] <graydon> pcwalton: need me to poke at them looking for something?
[01:16:07] <erickt> tjc: I'm hacking away at the test suite now
[01:16:19] <pcwalton> graydon: I need the full build report from http://buildbot.rust-lang.org/builders/auto-linux/builds/1374/steps/test/logs/stdio
[01:16:24] <tjc> erickt: well, don't bother with the allocation warnings, I've got them all -- just running make check
[01:16:27] <pcwalton> it truncated due to too many warning
[01:16:27] *** Quits: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net) (Ping timeout)
[01:16:50] <graydon> huh, ok
[01:17:22] <graydon> which bot was this on?
[01:17:33] <sanxiyn> acrichto: Thanks
[01:17:35] <graydon> linux2
[01:17:39] <pcwalton> http://buildbot.rust-lang.org/builders/auto-linux/builds/1374 this one
[01:17:51] <steven_is_false> There don't seem to be any high level bindings in libuv yet.
[01:19:21] <brson> steven_is_false: there are incomplete bindings in core::rt::uv
[01:19:26] <sanxiyn> acrichto: I see some tests use #[deny] and some use compile-flags: -D directive
[01:19:28] <brson> undocumented though
[01:19:34] <sanxiyn> I guess the later is an old way?
[01:19:35] <graydon> pcwalton: oh, that log isn't kept anywhere
[01:19:41] <pcwalton> bleh
[01:19:42] <graydon> pcwalton: I mean, you got the whole thing
[01:19:48] <pcwalton> been trying to land this for a long time :(
[01:19:50] <graydon> the truncation is on buildbot-side
[01:19:56] <steven_is_false> brson: Thank you.
[01:20:05] <acrichto> sanxiyn: yeah the #[deny] syntax used to be flaky, but it should work far more often now. Everything should work with both, although I prefer the attribute syntax
[01:20:07] <graydon> it truncates because runaway processes that spew take down buildbot periodically if it doesn't
[01:20:08] <graydon> :((
[01:20:46] <sanxiyn> acrichto: On the other hand, for lints, I think we should test that lints can be turned off, i.e. compile-fail test together with run-pas test
[01:20:59] <sanxiyn> Maybe to do that without much duplication we need some tweak to test infra
[01:21:01] <graydon> pcwalton: I can try running an independent scratch build on that machine, see if it reproduces?
[01:21:05] <pcwalton> sure
[01:21:07] <pcwalton> that would be helpful
[01:21:22] *** Joins: Jesin (Jessin_@moz-A03A364F.cc.lehigh.edu)
[01:21:24] <pcwalton> I put another request in bors' queue to try to reduce the warnings
[01:21:25] <sanxiyn> acrichto: Does that make sense
[01:21:32] <pcwalton> but there's a ton of stuff in bors' queue now
[01:21:37] *** Joins: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net)
[01:21:55] <acrichto> sanxiyn: that's more testing how the lint levels are set, you could also do that with #[allow] and then don't put //~ERROR next to the lines in suspect. Those should be covered by other generic lint tests, not necessarily for each specific lint mode
[01:22:00] <vermeille> Hey guys, I know this is not Rust related, but do you know how the .net assembly could be typed ? I'm reading something about a TypeDescriptor stack, but I can't understand it
[01:22:27] <acrichto> sanxiyn: kinda like https://github.com/mozilla/rust/blob/incoming/src/test/compile-fail/lint-impl-fn.rs
[01:23:49] <steven_is_false> brson: There's no documention for an rt library. So the runtime library isn't exported, and if I wanted to reuse the libuv bindings in it, I'd have to rip it out myself?
[01:23:55] <sanxiyn> acrichto: Eh well, that is testing two things. One that lint level is set correctly, the other that, say, "unused import" is a lint, not an unconditional warning
[01:24:21] <nmatsakis> sanxiyn: that sounds reasonable (the idea of checking when an argument is always used borrowed).
[01:24:28] <sanxiyn> nmatsakis: ok
[01:24:38] <nmatsakis> brson: I have to go to bed now, but you sounded like you had some questions earlier, maybe ping me tomorrow morning?
[01:25:48] <acrichto> sanxiyn: I guess at some point the tests aren't comprehensive, but I also don't think that each test for each specific lint should test 100 different use cases. The best way to ensure correct lint emission is to follow the same correct pattern when writing the lint, and after my recent changes that's now what's happening
[01:25:55] <graydon> pcwalton: building
[01:26:04] <sanxiyn> ok
[01:27:33] <bblum> hmm, what's the status of (general, any-number-of-argument) tail call optimization? on the map, or decided against?
[01:27:37] *** Quits: int3_ (int3_@moz-B7B5F043.singnet.com.sg) (Client exited)
[01:27:47] <brson> steven_is_false: core::rt is public atm
[01:27:58] <brson> nmatsakis: ok
[01:28:02] <cmr> bblum: https://mail.mozilla.org/pipermail/rust-dev/2013-April/003557.html ?
[01:28:13] <pcwalton> bblum: it's hard to do in general but sibling call optimization is OK
[01:28:14] <pcwalton> "
[01:28:21] <steven_is_false> brson: It's not documentated though?
[01:28:24] *** Quits: SimonSapin (simon@5AAE35B2.5EFFC0B8.24454B25.IP) (Quit: Leaving.)
[01:28:45] *** Joins: samx (sami@moz-62B7FC03.dyn.optonline.net)
[01:30:00] <bblum> pcwalton: that was the status last summer; i am wondering if it's "we decided against this forever" or "this will hopefully happen someday"
[01:30:28] <sanxiyn> bblum: See cmr's link
[01:30:33] <bblum> yeah, i just did
[01:30:36] <bblum> looks like it's the former
[01:30:37] <pcwalton> we decided against any penalties over the cdecl calling convention
[01:30:38] <aatch> steven_is_false, core::rt is kinda documented
[01:30:41] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[01:30:44] <pcwalton> which means yeah, general TCO is out
[01:31:04] <steven_is_false> aatch: It's not in the rust doc.
[01:31:10] <cmr> Who needs documentation when you have code? ;)
[01:31:27] <steven_is_false> cmr: ;)
[01:31:33] <aatch> steven_is_false, that's because the documentation isn't always built.
[01:31:44] <bblum> yeah, code is just like english, only better
[01:31:49] <bblum> in all cases
[01:32:30] <sanxiyn> Code is better than English because English is a foreign language!
[01:32:36] <sanxiyn> But Korean is better than Code
[01:32:37] <sanxiyn> (for me to read)
[01:32:46] <steven_is_false> bblum: Yes, for example the english language is very vulnerable to buffer overflows such as result from the GNU acronym GNU is not, GNU is not, GNU is not.... SEG FAULT
[01:33:00] *** Joins: eatkinson (eatkinson@moz-5CF47426.dia.static.qwest.net)
[01:33:13] <brson> steven_is_false: it's not documented, but it follows the uv design pretty closely which is fairly well documented in uv.h
[01:33:32] <aatch> Also, the actual code is well-documented.
[01:33:54] <aatch> At least, the important bits are
[01:34:04] <aatch> some of the more in-flux stuff isn't
[01:34:41] <steven_is_false> Cool, I'll browse through it, and maybe submit a few patches for documentation. Alright, I have to deal with a few things. so thank you very much, and goodbye
[01:34:44] *** Parts: steven_is_false (user@moz-144077DE.bchsia.telus.net) (ERC Version 5.3 (IRC client for Emacs))
[01:35:04] * aatch goes back to battling the Zend engine
[01:36:12] <sanxiyn> aatch: Aw
[01:36:12] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[01:36:28] *** Joins: peeves (Mibbit@moz-6E94815.dhcp.dntn.tx.charter.com)
[01:36:52] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[01:37:05] <nmatsakis> sanxiyn: if you are testing that PR, I just added the missing intrinsic.rs file.
[01:37:11] <nmatsakis> night all.
[01:37:15] <sanxiyn> Night
[01:37:39] *** Joins: namespace (namespace@moz-6E94815.dhcp.dntn.tx.charter.com)
[01:38:04] *** Quits: peeves (Mibbit@moz-6E94815.dhcp.dntn.tx.charter.com) (Quit: http://www.mibbit.com ajax IRC Client)
[01:41:17] *** Quits: devbug (quassel@moz-E1DE087C.bchsia.telus.net) (Ping timeout)
[01:41:38] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Ping timeout)
[01:46:18] *** Quits: Eridius (kevin@moz-533B0DB4.us) (Quit: bbiab)
[01:46:30] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Client exited)
[01:49:16] *** Quits: pcwalton (pcwalton@2557E599.66715431.D25A875A.IP) (Ping timeout)
[01:49:43] <zxcdw> What does ICE stand for, or what exactly is it?
[01:49:46] *** Joins: int3_ (int3_@moz-B7B5F043.singnet.com.sg)
[01:49:50] <aatch> Internal Compiler Error
[01:50:28] *** Quits: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP) (Quit: lmandel)
[01:50:38] <zxcdw> Yay, thanks.
[01:51:07] <cmr> it's usually an assertion failure for unexpected code paths, but not always
[01:51:11] <cmr> (ime, at least)
[01:51:19] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[01:51:21] <aatch> Basically anything that causes the compiler to fail without it being a user-error
[01:51:37] *** Quits: int3_ (int3_@moz-B7B5F043.singnet.com.sg) (Ping timeout)
[01:51:37] <cmr> Or if it is a user-error, and it's just not handled yet
[01:52:02] <sanxiyn> Compiler should not fail, period
[01:52:07] <aatch> A common one is when type errors slip through type checking and trans explodes
[01:52:07] <sanxiyn> (If it is a user error, you emit diagnostics)
[01:52:12] <aatch> sanxiyn, hence ICE
[01:52:13] <sanxiyn> aatch: Yeah
[01:52:53] <aatch> Also its why most ICEs are causes by a call to sess.bug
[01:52:54] *** Joins: mhamrick (mhamrick@2557E599.66715431.D25A875A.IP)
[01:52:57] *** Quits: pnathan (Adium@DB849214.31A7A48D.B1142EBE.IP) (Quit: Leaving.)
[01:54:48] *** Quits: eatkinson (eatkinson@moz-5CF47426.dia.static.qwest.net) (Quit: eatkinson)
[01:55:17] <cmr> Could someone review https://github.com/mozilla/rust/issues/6477#issuecomment-18319244, please? I'm not really sure how the resolver works and how to make this diagnostic prettier
[01:56:26] *** Quits: tikue (tkuehn@2557E599.66715431.D25A875A.IP) (Quit: tikue)
[01:56:56] *** Quits: lkuper (lkuper@moz-D6AAFF3.cs.indiana.edu) (Ping timeout)
[01:59:55] *** Joins: Eridius (kevin@moz-533B0DB4.us)
[02:02:30] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[02:02:58] <sanxiyn> cmr: Eh... I don't think that is right
[02:02:59] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[02:03:07] *** Quits: catpig (catpig@moz-2BE53924.dip0.t-ipconnect.de) (Quit: Verlassend)
[02:03:20] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[02:04:53] *** Quits: graydon (Adium@A5087023.2354C43D.D8E68FF6.IP) (Quit: Leaving.)
[02:05:12] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[02:08:06] <sanxiyn> cmr: I *think* resolve_glob_import should be involved
[02:09:04] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Ping timeout)
[02:09:28] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[02:09:29] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/7fp9xw
[02:09:29] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[02:11:51] <cmr> sanxiyn: I don't that will help. The import is succesful, I'm trying to have a better error at the site of the use of an undeclared type (ie, type name not in scope), unless I misunderstand what this function does?
[02:12:25] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[02:12:25] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/mtrdEA
[02:12:25] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[02:12:29] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[02:12:29] <ghrust> 01[13rust01] 15bors pushed 20 new commits to 06auto: 02http://git.io/ED4O_A
[02:12:29] <ghrust> 13rust/06auto 143d9697b 15Patrick Walton: librustc: Disallow `use` from reaching into impls or traits....
[02:12:29] <ghrust> 13rust/06auto 143c71ef8 15Patrick Walton: librustc: Disable borrow check debugging even when rustc is compiled with -O0....
[02:12:29] <ghrust> 13rust/06auto 145f1b7a9 15Patrick Walton: test: Fix tests.
[02:12:31] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[02:14:14] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[02:15:43] *** Quits: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net) (Ping timeout)
[02:16:08] *** Quits: seth (seth@moz-99690620.hinet-ip.hinet.net) (Input/output error)
[02:16:14] *** Joins: sam1 (sam@moz-83612DFD.us-west-2.compute.amazonaws.com)
[02:18:02] <aatch> cmr, I think you should be able to change the xray flag, re-run the resolve, then change it back after
[02:18:25] *** Joins: SimonSapin (simon@moz-99690620.hinet-ip.hinet.net)
[02:19:21] *** Quits: Earnestly (earnest@6A917A59.5E1FD793.39C00A7A.IP) (Ping timeout)
[02:20:15] *** Joins: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net)
[02:20:57] *** Joins: seth (seth@moz-99690620.hinet-ip.hinet.net)
[02:22:11] *** Quits: SimonSapin (simon@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[02:26:40] <aatch> cmr: https://github.com/mozilla/rust/issues/6477#issuecomment-18320033
[02:28:11] <cmr> aatch: what is a path, exactly?
[02:28:37] <aatch> cmr, a path is anything like `foo::bar::baz`
[02:29:09] <cmr> aatch: including plain `foo`?
[02:29:16] <aatch> cmr, I think so
[02:29:37] <cmr> hm, that could work then
[02:29:44] <aatch> I pretty much used the code from the previous block in the fn you linked to
[02:31:15] *** Quits: EXetoC (ex@moz-C741B177.customer.t3.se) (Quit: WeeChat 0.4.1)
[02:33:17] <aatch> cmr, the advantage of my way also means that you can't get out-of-sync issues with how it's resolved
[02:33:42] <aatch> since the only difference is that the second resolve is that it xrays
[02:36:34] *** Quits: samx (sami@moz-62B7FC03.dyn.optonline.net) (Quit: Leaving)
[02:37:36] *** Quits: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net) (Ping timeout)
[02:37:53] <jack> tjc: does graydon email you 100 bugs a week or something? :) you triage a _lot_
[02:38:16] <tjc> jack: right now I'm just going through all the not-recently-active bugs and nominating stuff because I got frustrated that my Rust builds were taking forever :-)
[02:38:48] *** Joins: SimonSapin (simon@moz-99690620.hinet-ip.hinet.net)
[02:38:48] <cmr> I think it's a compsiracy... artificially inflated build time to encourage more review and such
[02:38:52] <tjc> ha
[02:38:56] <aatch> tjc, that's what I do too.
[02:38:59] <tjc> if only it was a conspiracyâ€¦ then it would be easy to fix
[02:39:04] *** Joins: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net)
[02:39:06] <aatch> Though I am more lazy
[02:39:16] <cmr> but then it wouldn't be a very good conspiracy!
[02:39:20] <aatch> so I don't bother checking cases that require more than ~5 lines of code
[02:39:23] <tjc> heh
[02:46:28] *** Quits: zz_kimundi (kimundi@moz-5043E167.dip0.t-ipconnect.de) (Ping timeout)
[02:48:26] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[02:48:26] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1430ee8b8 to 141d3e84c: 02http://git.io/N3iJvQ
[02:48:26] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[02:48:54] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[02:49:40] *** Joins: zz_kimundi (kimundi@moz-D470C7AA.dip0.t-ipconnect.de)
[02:50:02] *** zz_kimundi is now known as kimundi
[02:53:56] *** Quits: mhamrick (mhamrick@2557E599.66715431.D25A875A.IP) (Quit: mhamrick)
[02:57:58] *** Joins: heftig (heftig@moz-59C01F9A.dip0.t-ipconnect.de)
[02:58:52] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[02:59:27] *** Joins: steven_is_false (user@moz-144077DE.bchsia.telus.net)
[02:59:30] <bstrie> tjc: new policy: build times will be artificially and automatically inflated proportionally to the total number of open bugs in the bug tracker
[02:59:47] <steven_is_false> Hi! The spawn_with function is really inconvenient to work with.
[02:59:55] <tjc> bstrie: that's a good idea
[02:59:56] <bstrie> steven_is_false: file a bug!
[03:00:00] * tjc will file a bug
[03:00:03] <tjc> (to inflate the build times)
[03:00:10] <tjc> steven_is_false: unfortunately, I don'
[03:00:15] <bstrie> tjc: that's a self-fulfilling bug
[03:00:17] <tjc> t think anyone who has any influence over it is online
[03:00:18] <bstrie> or maybe
[03:00:22] <bstrie> a self-defeating bug
[03:00:31] <tjc> bstrie: yes, especially after I write a script to cause a fill-up-bug-tracker/inflate-build-time feedback loop
[03:00:33] <bblum> over spawn_with?
[03:00:59] <tjc> bblum: yes
[03:01:13] <tjc> then again, I don't know if steven_is_false wanted to register a complaint or ask for help :-)
[03:01:30] <bblum> i am responsible for.... not removing it
[03:01:44] <bblum> i was never sure why you needed it if you oculd just capture
[03:01:45] <aatch> steven_is_false, spawn_with should be made obsolete by once fns, I think
[03:01:57] <bblum> oh yeah
[03:02:00] <bblum> can't move out of captured
[03:02:17] <bblum> yes, i will be responsible for making it better
[03:02:19] <bblum> c.c
[03:02:23] <tjc> ok, cool
[03:02:27] <tjc> I stand corrected
[03:03:24] <steven_is_false> aatch: I tried using a once closure but it didn't work. Is this still under construction stuff? It's nice to know that it'll be fixed in the future though.
[03:03:35] *** aatch is now known as aatch|gone
[03:03:39] <aatch|gone> steven_is_false, it is
[03:03:42] *** Joins: lmandel (lmandel@FE1F74.86ED00A7.971E19F6.IP)
[03:03:58] <steven_is_false> aatch|gone: okay
[03:05:01] *** Quits: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net) (Ping timeout)
[03:06:07] *** Joins: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net)
[03:09:35] <steven_is_false> When do I have to call task::yield? I assume I should put it in window polling loop, and in my sleep for a few seconds loop right?
[03:10:36] <jack> steven_is_false: what are you trying to do? i don't think you ever need to call task::yield in normal code
[03:11:35] <steven_is_false> jack: I know I need to call it in my sleep function implementation but the thing I'm unsure about is that I have a loop loop { match sdl::poll_events () { etc...
[03:12:08] <steven_is_false> And I think I need to put a yield in the poll loop to get proper semantics when running single threaded.
[03:13:16] <jack> does poll_events block?
[03:13:37] <steven_is_false> jack: No poll_events does not block
[03:13:53] <jack> you probably want to yield to the schedule at the event of every event loop pass. glut has check_loop() for this
[03:14:07] <steven_is_false> jack: Okay.
[03:14:27] <jack> yield to the schedulre at the end of every event loop iteration i meant
[03:14:34] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[03:14:38] <jack> my typing is not doing so well tonight.
[03:15:17] *** Quits: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net) (Connection reset by peer)
[03:15:28] *** Joins: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net)
[03:16:04] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[03:16:06] <steven_is_false> okay
[03:18:11] *** Quits: an0nymous (an0nymous@moz-A6B0CE4.tx.res.rr.com) (Input/output error)
[03:18:31] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[03:18:31] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 144b665c0 to 141d3e84c: 02http://git.io/N3iJvQ
[03:18:31] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[03:18:31] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[03:18:31] <ghrust> 01[13rust01] 15bors pushed 21 new commits to 06auto: 02http://git.io/cneNew
[03:18:31] <ghrust> 13rust/06auto 143d9697b 15Patrick Walton: librustc: Disallow `use` from reaching into impls or traits....
[03:18:31] <ghrust> 13rust/06auto 143c71ef8 15Patrick Walton: librustc: Disable borrow check debugging even when rustc is compiled with -O0....
[03:18:31] <ghrust> 13rust/06auto 145f1b7a9 15Patrick Walton: test: Fix tests.
[03:18:33] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[03:20:41] *** Quits: Sorella (queen@B12A78F5.BA14766C.95C8B7C6.IP) (Quit: (quit))
[03:20:53] *** Joins: jgilbert (jgilbert@moz-1190BCC3.dynamic.hinet.net)
[03:23:27] *** Joins: an0nymous (an0nymous@moz-A6B0CE4.tx.res.rr.com)
[03:25:14] *** Quits: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net) (Ping timeout)
[03:25:54] *** Joins: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net)
[03:29:00] *** Quits: steven_is_false (user@moz-144077DE.bchsia.telus.net) (Ping timeout)
[03:29:30] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[03:29:56] *** Joins: brson (brson@E9CDE21E.991753BB.CA4D1600.IP)
[03:29:56] *** ChanServ sets mode: +o brson
[03:37:01] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke. It's all a joke.)
[03:42:44] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[03:45:33] *** Quits: sanxiyn (tinuviel@858F408C.B797260D.EF43EC08.IP) (Ping timeout)
[03:46:37] *** Quits: namespace (namespace@moz-6E94815.dhcp.dntn.tx.charter.com) (Quit: Leaving)
[03:47:31] *** Joins: graydon (graydon@3853DDD.39EEDBB3.D758B1AA.IP)
[03:47:31] *** ChanServ sets mode: +qo graydon graydon
[03:47:48] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[03:48:05] *** Joins: pnathan (Adium@DB849214.31A7A48D.B1142EBE.IP)
[03:48:31] *** Joins: sanxiyn (tinuviel@858F408C.B797260D.EF43EC08.IP)
[03:54:27] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[03:54:27] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14891388a to 141d3e84c: 02http://git.io/N3iJvQ
[03:54:27] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[03:54:28] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[03:54:28] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/ZnhE1Q
[03:54:28] <ghrust> 13rust/06auto 1406685ba 15Jihyun Yu: add smallintset
[03:54:28] <ghrust> 13rust/06auto 142915187 15bors: auto merge of #6677 : yjh0502/rust/smallintset, r=graydon...
[03:54:28] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[03:57:39] *** Quits: seth (seth@moz-99690620.hinet-ip.hinet.net) (Input/output error)
[03:59:06] *** Quits: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net) (Quit: Leaving.)
[03:59:18] *** Joins: seth (seth@moz-99690620.hinet-ip.hinet.net)
[04:02:38] *** Quits: wizeman (quassel@moz-C1AB58EC.dyn.user.ono.com) (Connection reset by peer)
[04:02:43] *** Joins: wizeman (quassel@moz-C1AB58EC.dyn.user.ono.com)
[04:03:36] *** Joins: devbug (quassel@moz-E1DE087C.bchsia.telus.net)
[04:08:05] *** Quits: sanxiyn (tinuviel@858F408C.B797260D.EF43EC08.IP) (Quit: Leaving)
[04:13:25] *** Joins: alisdair (textual@moz-EBE9F394.bchsia.telus.net)
[04:14:24] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[04:18:11] *** Joins: doomlord1 (walter@moz-B63745D8.range86-176.btcentralplus.com)
[04:18:23] *** Joins: doomlord (doomlod@moz-B63745D8.range86-176.btcentralplus.com)
[04:23:22] *** Quits: KindOne (KindOne@40FC3A40.256A6F8A.EC6A1518.IP) (Ping timeout)
[04:24:34] *** Joins: KindOne (KindOne@moz-37342E1F.dynamic.ip.windstream.net)
[04:25:01] *** Quits: tjc (tjc@A5087023.2354C43D.D8E68FF6.IP) (Quit: Places to go, people to annoy)
[04:25:18] *** Joins: stomper (Mibbit@moz-C6ED16AA.hsd1.ca.comcast.net)
[04:26:02] *** Quits: BitPuffin (quassel@moz-8370D1B9.bredband.comhem.se) (Client exited)
[04:26:08] *** Joins: tikue (tkuehn@moz-CF8BEBEF.dia.static.qwest.net)
[04:26:25] *** Quits: KindOne (KindOne@moz-37342E1F.dynamic.ip.windstream.net) (Ping timeout)
[04:26:36] <stomper> Hi, Does rusti work in 0.6?
[04:27:06] *** Joins: hjr3 (hradtke@moz-AE3056B9.static.stls.mo.charter.com)
[04:28:33] <stomper> I just installed Rust 0.6 on a windows machine. Do I need to build and install rusti separately? I thought I might hve read it was broken in 0.6.  
[04:30:43] <stomper> I just found the answer, https://github.com/mozilla/rust/issues/6088?source=cc
[04:30:58] <stomper> In case anyone else was wondering
[04:32:40] *** Quits: wizeman (quassel@moz-C1AB58EC.dyn.user.ono.com) (Connection reset by peer)
[04:32:49] *** Joins: wizeman (quassel@moz-C1AB58EC.dyn.user.ono.com)
[04:33:06] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[04:33:39] <cyndis> it is also broken in 0.6.
[04:34:11] <dbaupp> stomper: if you feel like compiling from source, rusti was recently fixed (yay!)
[04:34:44] <dbaupp> also, you can private message with the bot on this channel
[04:34:53] <dbaupp> (/query rusti)
[04:34:54] *** Quits: devbug (quassel@moz-E1DE087C.bchsia.telus.net) (Ping timeout)
[04:35:21] <dbaupp> (it doesn't preserve history though, each line is an entirely new state)
[04:36:35] *** Quits: Luqman (laden@moz-DCEF6040.csclub.uwaterloo.ca) (Quit: Lost terminal)
[04:36:51] *** Joins: Luqman (laden@moz-DCEF6040.csclub.uwaterloo.ca)
[04:38:01] *** Joins: brendan (brendaneic@moz-F758E0D2.mondrianip.m.subnet.rcn.com)
[04:38:29] <stomper> I just downloaded Rust yesterday and was hoping to get going without setting up to build rusti. Sounds complicated. If no one else has an oppurtunity, I'll give it a shot... 
[04:40:08] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[04:40:52] <dbaupp> it should "just work" once you get the msys/mingw setup correct (no idea how complicated this, I'm not on windows)
[04:42:05] *** Joins: devbug (quassel@moz-E1DE087C.bchsia.telus.net)
[04:42:08] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[04:42:36] *** Joins: steven_is_false (user@moz-144077DE.bchsia.telus.net)
[04:43:13] <tikue> hey guys, has anyone seen this compilation error before:
[04:43:14] <tikue> error: internal compiler error: node_id_to_type: no type for node `unknown node (id=1284)`
[04:43:14] <tikue> make: *** [/Users/tkuehn/servo/build/src/components/servo-util/libservoutil.dummy] Error 101
[04:44:34] <dbaupp> tikue: looks like it https://github.com/mozilla/rust/issues/6557
[04:45:05] <steven_is_false> Hi! I'm curious. Does it make sense to do --link-args='-O3'?
[04:45:09] <dbaupp> tikue: or, https://github.com/mozilla/rust/search?q=node_id_to_type&state=open&type=Issues
[04:45:36] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[04:46:28] <strcat> steven_is_false: no
[04:46:56] <strcat> gcc isn't being asked to compile anything, and -O3 doesn't do linker optimizations
[04:47:23] <steven_is_false> strcat: And we don't have the metadata to do -O4 yet?
[04:47:37] <strcat> steven_is_false: gcc wouldn't be involved in that
[04:47:41] *** Quits: brson (brson@E9CDE21E.991753BB.CA4D1600.IP) (Ping timeout)
[04:47:58] <strcat> LTO would just mean an equivalent of that #[inline(maybe)] pull request for every function
[04:48:03] <strcat> although...
[04:48:15] <strcat> if you're really comparing to C, there is no LTO between libraries
[04:48:27] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Quit: Eaten by a grue)
[04:48:39] <dbaupp> strcat: do you happen to know if there's been any more discussion of inline(maybe)?
[04:48:41] <strcat> there is only LTO between object files in a library, which rust already does by default (you have no choice, you get a non-incremental LTO build)
[04:49:32] *** Joins: brson (brson@E9CDE21E.991753BB.CA4D1600.IP)
[04:49:32] *** ChanServ sets mode: +o brson
[04:50:33] <steven_is_false> Okay well, that was just a side question anyways I was thinking of.
[04:50:44] *** Quits: lmandel (lmandel@FE1F74.86ED00A7.971E19F6.IP) (Quit: lmandel)
[04:51:09] <steven_is_false> What I was thinking is that even though --static is under construction I don't quite get how it is supposed to work.
[04:51:25] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[04:51:25] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/ZnhE1Q
[04:51:25] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[04:52:15] *** Quits: pnathan (Adium@DB849214.31A7A48D.B1142EBE.IP) (Ping timeout)
[04:52:22] *** Joins: pnathan (Adium@DB849214.31A7A48D.B1142EBE.IP)
[04:53:24] <steven_is_false> It doesn't seem to even be able to link in core with --static passed in
[04:54:28] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[04:54:28] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/NuvM0g
[04:54:28] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[04:54:54] <steven_is_false> Why does bors make these "phantom" commits?
[04:55:50] <dbaupp> tikue: it looks like that problem is caused by the `as uint`
[04:56:33] <tikue> dbaupp: yeah it goes away when I take that out. Apparently casting an enum to an int inside a vector declaration crashes it
[04:57:03] <dbaupp> file a bug? :)
[04:57:25] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[04:57:25] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/NuvM0g
[04:57:25] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[04:57:27] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[04:57:27] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/TwXQsg
[04:57:27] <ghrust> 13rust/06auto 145a42481 15Benjamin Herr: declare that "///" is still a doc comment, just not "////+" (fixes #5838)
[04:57:27] <ghrust> 13rust/06auto 14d798761 15bors: auto merge of #6680 : ben0x539/rust/slashslashslash, r=graydon...
[04:57:27] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[04:58:24] <graydon> steven_is_false: it's rewinding auto to incoming
[04:58:36] <graydon> steven_is_false: before advancing it to a fresh merge node
[04:58:44] <steven_is_false> graydon: Oh that makes sense.
[04:58:46] <graydon> they don't wind up in the commit history
[04:58:51] *** Quits: bent (chatzilla@moz-932324BF.hsd1.ca.comcast.net) (Ping timeout)
[04:58:52] <graydon> it's just a branch pointer moving around in github
[04:59:16] *** Joins: thomaslee_ (thomaslee@moz-306D3DF4.hsd1.or.comcast.net)
[04:59:31] <dbaupp> rusti: static Y: [u8, ..(0 as uint) + 1] = [0]; 0
[04:59:35] -rusti- error: internal compiler error: node_id_to_type: no type for node `unknown node (id=48)`
[05:00:22] <dbaupp> rusti: ley y: [u8, .. 0 as uint] = [];
[05:00:23] -rusti- foo.rs:5:13: 5:14 error: expected `;` or `}` after expression but found `y`
[05:00:23] -rusti- foo.rs:5          ley y: [u8, .. 0 as uint] = [];
[05:00:23] -rusti-                       ^
[05:00:32] <dbaupp> rusti: let y: [u8, .. 0 as uint] = [];
[05:00:34] -rusti- error: internal compiler error: node_id_to_type: no type for node `unknown node (id=50)`
[05:00:44] *** Joins: KindOne (KindOne@moz-37342E1F.dynamic.ip.windstream.net)
[05:01:37] <dbaupp> tikue: looks like this bug is https://github.com/mozilla/rust/issues/4063
[05:02:02] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[05:02:53] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[05:03:24] <tikue> dbaupp: yeah that's it
[05:03:31] *** Quits: heftig (heftig@moz-59C01F9A.dip0.t-ipconnect.de) (Ping timeout)
[05:03:31] *** Joins: pcwalton (pcwalton@moz-481A040C.hsd1.ca.comcast.net)
[05:03:31] *** ChanServ sets mode: +o pcwalton
[05:03:46] *** Joins: heftig (heftig@moz-59C01F9A.dip0.t-ipconnect.de)
[05:03:53] <pcwalton> can I push directly to incoming? my patch has bounced 6 times and just bitrotted again
[05:04:02] <pcwalton> it looks like most patches in the queue bitrot mine instantly
[05:04:49] *** Quits: santiago (santiago@moz-8ADE82B4.socal.res.rr.com) (Ping timeout)
[05:05:19] <pcwalton> I guess I'll do it, better to ask forgiveness than permission
[05:05:43] *** Quits: echristo (echristo@D423593A.D6CCE4AE.77834EAA.IP) (Ping timeout)
[05:05:51] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[05:05:51] <ghrust> 01[13rust01] 15pcwalton pushed 20 new commits to 06incoming: 02http://git.io/bFy2oA
[05:05:51] <ghrust> 13rust/06incoming 14ca9bb2d 15Patrick Walton: librustc: Disallow `use` from reaching into impls or traits....
[05:05:51] <ghrust> 13rust/06incoming 1408e561a 15Patrick Walton: librustc: Disable borrow check debugging even when rustc is compiled with -O0....
[05:05:51] <ghrust> 13rust/06incoming 14db518ef 15Patrick Walton: test: Fix tests.
[05:05:52] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[05:06:01] *** Joins: echristo (echristo@D423593A.D6CCE4AE.77834EAA.IP)
[05:06:25] *** Quits: pcwalton (pcwalton@moz-481A040C.hsd1.ca.comcast.net) (Quit: .)
[05:06:33] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[05:06:33] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14d798761 to 1418fca3e: 02http://git.io/N3iJvQ
[05:06:33] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[05:07:18] *** Joins: eatkinson (eatkinson@moz-5CF47426.dia.static.qwest.net)
[05:08:46] *** Joins: santiago (santiago@moz-8ADE82B4.socal.res.rr.com)
[05:08:49] *** Quits: hansjorg (hansjorg@moz-EECB5F79.static.cust.telenor.com) (Ping timeout)
[05:09:01] <thomaslee> anybody here happen to know the details of how glue_fns work?
[05:11:45] *** Quits: thomaslee_ (thomaslee@moz-306D3DF4.hsd1.or.comcast.net) (Connection reset by peer)
[05:12:01] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[05:12:04] *** Joins: thomaslee_ (thomaslee@moz-306D3DF4.hsd1.or.comcast.net)
[05:12:30] *** Joins: hansjorg (hansjorg@moz-EECB5F79.static.cust.telenor.com)
[05:13:12] *** Quits: seth (seth@moz-99690620.hinet-ip.hinet.net) (Input/output error)
[05:14:37] *** Joins: seth (seth@moz-99690620.hinet-ip.hinet.net)
[05:19:43] *** Quits: brson (brson@E9CDE21E.991753BB.CA4D1600.IP) (Quit: leaving)
[05:20:03] <tikue> anyone here know how to set a constant at module level?
[05:20:56] <steven_is_false> tikue: You mean a static variable?
[05:21:32] <tikue> ah, yes, thank you
[05:21:46] *** Quits: Luqman (laden@moz-DCEF6040.csclub.uwaterloo.ca) (Quit: leaving)
[05:21:51] *** Joins: Luqman (laden@moz-DCEF6040.csclub.uwaterloo.ca)
[05:23:00] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[05:23:22] *** Quits: Luqman (laden@moz-DCEF6040.csclub.uwaterloo.ca) (Quit: leaving)
[05:23:25] *** Quits: steven_is_false (user@moz-144077DE.bchsia.telus.net) (Ping timeout)
[05:23:28] *** Joins: Luqman (laden@moz-DCEF6040.csclub.uwaterloo.ca)
[05:24:11] *** Joins: steven_is_false (user@moz-144077DE.bchsia.telus.net)
[05:26:18] <steven_is_false> rusti: 1 + 2 + 3 + 4 + 5 + 6
[05:26:23] -rusti- 21
[05:27:08] *** Quits: jgilbert (jgilbert@moz-1190BCC3.dynamic.hinet.net) (Ping timeout)
[05:27:25] *** Quits: stomper (Mibbit@moz-C6ED16AA.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[05:28:44] <dbaupp> thomaslee: you'll probably get a better answer on the mailing list (I'm interested too)
[05:40:03] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.1)
[05:41:47] *** Joins: jgilbert (jgilbert@moz-99690620.hinet-ip.hinet.net)
[05:45:12] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[05:45:12] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14a8152e3 to 1418fca3e: 02http://git.io/N3iJvQ
[05:45:12] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[05:45:14] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[05:45:14] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/yWICDw
[05:45:14] <ghrust> 13rust/06auto 14ee1b419 15Graydon Hoare: revert no-longer-required workaround for mystery bug, close #3396
[05:45:14] <ghrust> 13rust/06auto 1477e831f 15bors: auto merge of #6688 : graydon/rust/issue-3396-mystery-bug-in-metadata, r=Aatch...
[05:45:15] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[05:45:20] *** Quits: alisdair (textual@moz-EBE9F394.bchsia.telus.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[05:51:05] <graydon> sigh
[05:51:11] <graydon> pcwalton's force-push to incoming broke incoming
[05:51:14] <graydon> bors is turned off for the night
[05:53:15] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[05:54:25] *** Joins: mye (mye@moz-B1A48CF6.dip0.t-ipconnect.de)
[05:54:30] <thomaslee> dbaupp, you're probably right -- thanks
[05:55:51] *** Quits: hjr3 (hradtke@moz-AE3056B9.static.stls.mo.charter.com) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[05:57:28] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[06:08:37] *** Quits: Jesin (Jessin_@moz-A03A364F.cc.lehigh.edu) (Ping timeout)
[06:09:46] *** Quits: tikue (tkuehn@moz-CF8BEBEF.dia.static.qwest.net) (Quit: tikue)
[06:10:29] *** Quits: jack (jack@moz-F1B36F9F.hsd1.nm.comcast.net) (Connection reset by peer)
[06:10:35] *** Joins: jack (jack@moz-F1B36F9F.hsd1.nm.comcast.net)
[06:10:47] *** Quits: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr) (Ping timeout)
[06:10:47] *** Quits: RMF (RMF@moz-58DFF2D4.dsl.telepac.pt) (Ping timeout)
[06:11:02] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[06:11:02] *** Quits: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP) (Ping timeout)
[06:11:13] *** Quits: dbaupp (Thunderbir@moz-C83F6225.lns20.syd6.internode.on.net) (Ping timeout)
[06:11:34] *** Quits: wizeman (quassel@moz-C1AB58EC.dyn.user.ono.com) (Ping timeout)
[06:11:43] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[06:11:49] *** Quits: barosl (barosl@1E71221E.C81E10FB.7544CABF.IP) (Ping timeout)
[06:11:49] *** Quits: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw) (Ping timeout)
[06:11:49] *** Quits: jc-denton (nils@moz-C5E8B5EA.ethz.ch) (Ping timeout)
[06:11:49] *** Quits: rroels (rroels@moz-57D4C308.vub.ac.be) (Ping timeout)
[06:11:51] *** Quits: yosemite (sam@moz-8CEAB1B0.dasbistro.com) (Ping timeout)
[06:11:58] *** Quits: cdidd (cdidd@moz-1CCC251B.broadband.corbina.ru) (Ping timeout)
[06:12:25] *** Quits: Mowah (Mowah@moz-B9D06A8A.cust.bredbandsbolaget.se) (Ping timeout)
[06:12:41] *** Quits: hansjorg (hansjorg@moz-EECB5F79.static.cust.telenor.com) (Ping timeout)
[06:12:49] *** Quits: markluffel (markluffel@179F0C2A.5C4C7C24.8354FB35.IP) (Ping timeout)
[06:13:01] *** Joins: yosemite (sam@moz-8CEAB1B0.dasbistro.com)
[06:13:02] *** Joins: wizeman (quassel@moz-C1AB58EC.dyn.user.ono.com)
[06:13:04] *** Joins: jc-denton (nils@moz-C5E8B5EA.ethz.ch)
[06:13:33] *** Joins: Jesin (Jessin_@moz-A03A364F.cc.lehigh.edu)
[06:13:40] *** Joins: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw)
[06:14:09] *** Joins: rroels (rroels@moz-F4424B80.vub.ac.be)
[06:14:16] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[06:14:26] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[06:14:28] *** Joins: barosl (barosl@1E71221E.C81E10FB.7544CABF.IP)
[06:14:36] *** Joins: Mowah (Mowah@moz-B9D06A8A.cust.bredbandsbolaget.se)
[06:14:38] *** Joins: cdidd (cdidd@moz-1CCC251B.broadband.corbina.ru)
[06:14:40] *** Joins: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP)
[06:14:51] *** Joins: RMF (RMF@moz-58DFF2D4.dsl.telepac.pt)
[06:14:56] *** Joins: dbaupp (Thunderbir@moz-C83F6225.lns20.syd6.internode.on.net)
[06:15:52] *** Joins: hansjorg (hansjorg@moz-EECB5F79.static.cust.telenor.com)
[06:17:26] *** Joins: hjr3 (hradtke@moz-AE3056B9.static.stls.mo.charter.com)
[06:18:54] *** Joins: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr)
[06:19:07] *** Joins: markluffel (markluffel@179F0C2A.5C4C7C24.8354FB35.IP)
[06:23:59] *** Quits: Ralith (ralith@moz-50F3C77.vc.shawcable.net) (Ping timeout)
[06:24:18] *** Quits: blitter (blitter@moz-E761A52F.dyn.centurytel.net) (Ping timeout)
[06:24:34] *** Quits: an0nymous (an0nymous@moz-A6B0CE4.tx.res.rr.com) (Ping timeout)
[06:24:35] *** Joins: Ralith (ralith@moz-50F3C77.vc.shawcable.net)
[06:29:48] *** Quits: eatkinson (eatkinson@moz-5CF47426.dia.static.qwest.net) (Quit: eatkinson)
[06:31:11] *** Quits: graydon (graydon@3853DDD.39EEDBB3.D758B1AA.IP) (Quit: Leaving.)
[06:31:18] *** Joins: mzabaluev (mzabaluev@moz-91FFD755.dhcp.inet.fi)
[06:31:22] *** Quits: mzabaluev (mzabaluev@moz-91FFD755.dhcp.inet.fi) (Quit: mzabaluev)
[06:31:38] *** Joins: haard (fredrik@moz-6A86987C.dynamic.se.alltele.net)
[06:32:00] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[06:33:25] *** Joins: jaguilar (Mibbit@moz-5182E345.hfc.comcastbusiness.net)
[06:34:25] <jaguilar> I was about to ask how common ICEs are, since I have found two in the fairly short program I wrote. Then I realized that the modeline of the channel pretty much tells the story.
[06:34:28] *** Quits: steven_is_false (user@moz-144077DE.bchsia.telus.net) (Client exited)
[06:35:09] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[06:38:39] *** Quits: haard (fredrik@moz-6A86987C.dynamic.se.alltele.net) (Ping timeout)
[06:39:55] *** Joins: an0nymous (an0nymous@moz-A6B0CE4.tx.res.rr.com)
[06:40:07] *** Joins: blitter (blitter@moz-E761A52F.dyn.centurytel.net)
[06:40:26] *** Joins: solancile (solancile@moz-A1CFFAE5.hsd1.wa.comcast.net)
[06:42:51] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[06:43:38] *** Joins: haard (fredrik@moz-6A86987C.dynamic.se.alltele.net)
[06:44:33] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[06:46:49] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[06:47:26] <benh> Looks like the tests for what used to be core are currently failing and the tests for for libextra aren't building on incoming
[06:48:55] *** Quits: nooy (user@moz-2458675D.a146.priv.bahnhof.se) (Client exited)
[06:49:18] <benh> I'm not sure what that means for my pull request that got rejected by bors for test failures but I assume that's not going to be held against me :)
[06:53:13] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[06:56:42] *** Quits: haard (fredrik@moz-6A86987C.dynamic.se.alltele.net) (Ping timeout)
[06:58:19] *** Quits: KindOne (KindOne@moz-37342E1F.dynamic.ip.windstream.net) (Ping timeout)
[07:02:15] *** Joins: KindOne (KindOne@moz-AB3F6392.dynamic.ip.windstream.net)
[07:03:38] *** Joins: tav_ (tav@moz-C8D2AC96.range86-145.btcentralplus.com)
[07:03:52] *** Quits: hjr3 (hradtke@moz-AE3056B9.static.stls.mo.charter.com) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[07:05:46] *** Quits: sp3d (a@moz-49806493.dhcp.stls.mo.charter.com) (Ping timeout)
[07:11:18] *** Quits: thomaslee_ (thomaslee@moz-306D3DF4.hsd1.or.comcast.net) (Connection reset by peer)
[07:11:33] *** Joins: thomaslee_ (thomaslee@moz-306D3DF4.hsd1.or.comcast.net)
[07:16:22] *** Quits: brendan (brendaneic@moz-F758E0D2.mondrianip.m.subnet.rcn.com) (Quit: brendan)
[07:16:24] *** Joins: berak (chatzilla@D32AEC1E.5F42470D.16E13E53.IP)
[07:17:31] *** Quits: disjukr_ (disjukr@D4D5F731.A5F7C7E2.84F431B6.IP) (Connection reset by peer)
[07:17:44] *** Joins: disjukr_ (disjukr@D4D5F731.A5F7C7E2.84F431B6.IP)
[07:18:47] *** Quits: passcod (passcod@moz-5BCF5019.passcod.name) (Ping timeout)
[07:19:06] *** Joins: victorporof (victorporo@CDD95F1.20718EE9.79933D60.IP)
[07:19:15] *** Joins: passcod (passcod@moz-5BCF5019.passcod.name)
[07:21:35] *** Joins: haard (fredrik@moz-6A86987C.dynamic.se.alltele.net)
[07:25:22] *** Quits: blitter (blitter@moz-E761A52F.dyn.centurytel.net) (Ping timeout)
[07:26:15] *** Quits: doomlord1 (walter@moz-B63745D8.range86-176.btcentralplus.com) (Ping timeout)
[07:26:24] *** Quits: doomlord (doomlod@moz-B63745D8.range86-176.btcentralplus.com) (Ping timeout)
[07:27:20] *** Quits: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net) (Quit: zzzZZZzzz)
[07:29:45] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (Quit: ChatZilla 0.9.90 [Firefox 20.0.1/20130409194949])
[07:41:05] <dbaupp> jaguilar: ping
[07:41:29] *** Parts: berak (chatzilla@D32AEC1E.5F42470D.16E13E53.IP) ()
[07:43:22] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[07:45:06] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[07:54:26] *** Joins: doener (bs@moz-AA189A5A.unitymedia.biz)
[07:56:34] *** Joins: wilsonk|2 (kvirc@moz-39EFBFC2.cg.shawcable.net)
[07:57:08] *** Quits: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net) (Ping timeout)
[08:03:05] <benh> What are //! comments for again?
[08:04:04] <benh> inner doc comments...?
[08:05:30] <dbaupp> yeah
[08:06:16] <benh> What's the semantic difference to ///?
[08:06:44] *** Quits: SimonSapin (simon@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[08:06:59] <dbaupp> well, //! attaches to the item it is inside, but /// attaches to the next item
[08:07:04] <benh> (they're apparently not mentioned in doc/rust.md)
[08:07:24] <dbaupp> i.e. mod foo { //! doc <newline> fn bar() {} }
[08:07:28] <benh> but it all flows together for the generated documentation?
[08:07:30] <dbaupp> will put doc on foo
[08:07:39] <dbaupp> yes
[08:08:06] <dbaupp> (well, not sure what happens when an item has both inner and outer docs)
[08:08:38] <benh> arg, they even flow together
[08:09:08] *** Quits: devbug (quassel@moz-E1DE087C.bchsia.telus.net) (Connection reset by peer)
[08:10:05] *** Joins: xorcon (Mibbit@3F64A6FB.E890859E.CA273D4C.IP)
[08:10:30] <xorcon> hello 
[08:10:34] <benh> hi
[08:12:08] *** Quits: xorcon (Mibbit@3F64A6FB.E890859E.CA273D4C.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:14:06] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[08:14:52] *** Quits: jgilbert (jgilbert@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[08:15:48] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[08:19:01] *** Joins: Blub\w (wry@moz-73E92C9B.wireless.dyn.drei.com)
[08:20:44] *** Quits: thomaslee_ (thomaslee@moz-306D3DF4.hsd1.or.comcast.net) (Client exited)
[08:20:59] *** Joins: donri (dag@moz-9BB61102.tbcn.telia.com)
[08:26:04] *** Joins: pnkfelix (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net)
[08:27:10] *** Joins: SimonSapin (simon@moz-99690620.hinet-ip.hinet.net)
[08:30:47] *** Joins: victorporof_ (victorporo@CDD95F1.20718EE9.79933D60.IP)
[08:31:56] *** Quits: victorporof (victorporo@CDD95F1.20718EE9.79933D60.IP) (Ping timeout)
[08:33:11] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[08:33:17] *** Joins: jgilbert (jgilbert@moz-1190BCC3.dynamic.hinet.net)
[08:39:46] *** Quits: SimonSapin (simon@moz-99690620.hinet-ip.hinet.net) (Quit: Leaving.)
[08:42:39] *** Joins: SimonSapin (simon@moz-99690620.hinet-ip.hinet.net)
[08:43:29] *** Joins: fabiand (fabiand@FFB9214.5E545589.16E13E53.IP)
[08:44:50] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[08:44:54] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[08:46:40] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[08:47:09] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[08:51:57] *** Joins: trapni (trapni@moz-6A0EA166.dawanda.com)
[08:53:21] *** Quits: Blub\w (wry@moz-73E92C9B.wireless.dyn.drei.com) (Ping timeout)
[08:54:48] *** Joins: Blub\w (wry@moz-73E92C9B.wireless.dyn.drei.com)
[08:56:23] *** Quits: SimonSapin (simon@moz-99690620.hinet-ip.hinet.net) (Quit: Leaving.)
[08:58:23] *** Joins: novabyte (Instantbir@moz-3E0F9699.cable.virginmedia.com)
[09:12:01] *** Quits: fabiand (fabiand@FFB9214.5E545589.16E13E53.IP) (Ping timeout)
[09:15:08] *** Quits: fread2281 (zcarterc@moz-CB181B42.dia.static.qwest.net) (Ping timeout)
[09:15:43] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[09:17:35] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[09:20:43] *** Joins: fabiand (fabiand@FFB9214.5E545589.16E13E53.IP)
[09:21:36] *** Quits: donri (dag@moz-9BB61102.tbcn.telia.com) (Client exited)
[09:21:57] *** Quits: jgilbert (jgilbert@moz-1190BCC3.dynamic.hinet.net) (Ping timeout)
[09:22:30] *** Joins: SimonSapin (simon@moz-99690620.hinet-ip.hinet.net)
[09:22:41] *** Joins: donri (dag@moz-9BB61102.tbcn.telia.com)
[09:22:50] *** Quits: fabiand (fabiand@FFB9214.5E545589.16E13E53.IP) (Ping timeout)
[09:27:14] *** Joins: fread2281 (zcarterc@moz-CB181B42.dia.static.qwest.net)
[09:33:13] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[09:33:28] *** kimundi is now known as zz_kimundi
[09:38:23] *** Joins: jgilbert (jgilbert@moz-99690620.hinet-ip.hinet.net)
[09:38:38] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[09:38:50] *** Quits: cdidd (cdidd@moz-1CCC251B.broadband.corbina.ru) (Ping timeout)
[09:38:54] *** Quits: victorporof_ (victorporo@CDD95F1.20718EE9.79933D60.IP) (Ping timeout)
[09:39:10] *** Quits: novabyte (Instantbir@moz-3E0F9699.cable.virginmedia.com) (Ping timeout)
[09:39:10] *** Quits: trapni (trapni@moz-6A0EA166.dawanda.com) (Ping timeout)
[09:39:16] *** Quits: yosemite (sam@moz-8CEAB1B0.dasbistro.com) (Ping timeout)
[09:39:51] *** Quits: Jesin (Jessin_@moz-A03A364F.cc.lehigh.edu) (Ping timeout)
[09:40:03] *** Quits: hansjorg (hansjorg@moz-EECB5F79.static.cust.telenor.com) (Ping timeout)
[09:40:18] *** Joins: yosemite (sam@moz-8CEAB1B0.dasbistro.com)
[09:40:25] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[09:40:42] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Quit: Leaving)
[09:41:07] *** Joins: Jesin (Jessin_@moz-A03A364F.cc.lehigh.edu)
[09:42:01] *** Joins: cdidd (cdidd@moz-1CCC251B.broadband.corbina.ru)
[09:42:07] *** Joins: victorporof (victorporo@CDD95F1.20718EE9.79933D60.IP)
[09:42:11] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[09:42:22] *** Joins: trapni (trapni@moz-6A0EA166.dawanda.com)
[09:42:56] *** Joins: novabyte (Instantbir@moz-3E0F9699.cable.virginmedia.com)
[09:43:16] *** Joins: hansjorg (hansjorg@moz-EECB5F79.static.cust.telenor.com)
[09:44:58] *** Quits: KindOne (KindOne@moz-AB3F6392.dynamic.ip.windstream.net) (Connection reset by peer)
[09:46:31] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[09:48:19] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[09:48:45] *** Joins: judder (maradukewa@CF01B517.FDE2B133.950D3BB5.IP)
[09:49:27] *** Joins: KindOne (KindOne@moz-AB3F6392.dynamic.ip.windstream.net)
[10:05:43] *** zz_kimundi is now known as kimundi
[10:10:35] *** Quits: solancile (solancile@moz-A1CFFAE5.hsd1.wa.comcast.net) (Quit: Leaving)
[10:16:08] *** Quits: Blub\w (wry@moz-73E92C9B.wireless.dyn.drei.com) (Quit: WeeChat 0.4.0)
[10:16:51] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[10:17:20] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[10:18:25] *** Parts: hoelzro (hoelzro@moz-937642A5.ro) ()
[10:18:55] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[10:19:08] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[10:19:12] *** Joins: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP)
[10:19:12] *** Quits: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP) (Z:lined (Open Proxy found on your host. Please visit www.blitzed.org/proxy?ip=115.68.131.49 for more information.))
[10:36:46] * kimundi yawns
[10:37:05] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[10:40:08] *** Quits: KindOne (KindOne@moz-AB3F6392.dynamic.ip.windstream.net) (Ping timeout)
[10:43:59] <indutny> hoya
[10:44:00] *** Joins: KindOne (KindOne@60BAFDA8.D40F8E6E.EC6A1518.IP)
[10:44:07] <indutny> oh this std=>extra, core=>std changes :)
[10:44:12] <indutny> broke my code this morning
[10:44:56] <cmr> it broke *everyones* code :p
[10:48:07] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[10:48:33] <bjz_> heh
[10:48:54] * bjz_ is sad about core going away
[10:49:38] <cmr> me too, I thought it was a nice name
[10:49:50] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[10:50:20] *** Joins: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl)
[10:50:30] <kimundi> yeah... It was a strange name at first, but that made it special. O_Q 
[10:53:14] *** Quits: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr) (Ping timeout)
[10:53:39] <bjz_> it feels like some of the personality went away
[10:53:47] <bjz_> oh well :(
[10:54:55] <indutny> :)
[10:55:21] *** Joins: thomaslee_ (thomaslee@moz-306D3DF4.hsd1.or.comcast.net)
[10:55:39] <kimundi> Hey lets make a third party libcore full of cute rustic stuff :D 
[10:55:55] <bjz_> heh
[10:56:17] <bjz_> we need a banana method on T
[10:58:46] *** Joins: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr)
[10:58:53] <kimundi> 'for 5.bananas |b| {b.peel()}'
[11:04:18] *** Joins: Sorella (queen@B12A78F5.BA14766C.95C8B7C6.IP)
[11:10:38] *** Joins: sankha93 (Instantbir@EA2D262B.E0248F56.616A18A6.IP)
[11:10:54] *** Quits: sankha93 (Instantbir@EA2D262B.E0248F56.616A18A6.IP) (Client exited)
[11:11:46] *** Joins: sankha93 (Instantbir@EA2D262B.E0248F56.616A18A6.IP)
[11:12:44] *** Parts: SimonSapin (simon@moz-99690620.hinet-ip.hinet.net) ()
[11:15:05] *** Joins: z0w0 (zack@moz-780F7535.lns9.cha.bigpond.net.au)
[11:16:32] *** Joins: Wilcov (Wilcov@C514A4F5.2A55B1B0.E7431284.IP)
[11:16:53] *** Quits: Wilcov (Wilcov@C514A4F5.2A55B1B0.E7431284.IP) (Client exited)
[11:18:54] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[11:20:39] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[11:26:25] *** Joins: fabiand (fabiand@moz-68EEC8CB.adsl.alicedsl.de)
[11:27:00] *** Quits: hansjorg (hansjorg@moz-EECB5F79.static.cust.telenor.com) (Quit: Leaving.)
[11:29:36] *** Joins: hansjorg (hansjorg@moz-EECB5F79.static.cust.telenor.com)
[11:30:06] <cmr> foo.is_bananas()
[11:30:41] <cmr> (returns &['B', 'A', 'N', 'A', 'N', 'A', 'S'])
[11:32:18] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[11:33:40] <nmatsakis> bjz_: I liked core too.
[11:33:49] <bjz_> :(
[11:34:28] <bjz_> it felt like a part of the identity of rust
[11:34:48] *** Joins: MaikKlein (Mibbit@moz-5F822E06.dip0.t-ipconnect.de)
[11:34:51] <bjz_> but yeah, maybe I will get used to it
[11:35:07] <jensnockert> We're ditching core for something else?!
[11:35:16] <dbaupp> jensnockert: ditched!
[11:35:22] <jensnockert> :(
[11:35:24] <jensnockert> Core sounded cool.
[11:35:33] <dbaupp> incoming is broken because of the core -> std, std -> extra change
[11:35:35] <jensnockert> But I made new OpenCL bindings so I am still \o/
[11:35:45] <dbaupp> I liked core too, but std -> extra is nice
[11:35:49] <bjz_> yeah :(
[11:35:51] <dbaupp> jensnockert: ooooh... online?
[11:36:04] <jensnockert> dbaupp: Oui oui! https://github.com/JensNockert/opencl.rs
[11:36:11] <nmatsakis> I was just reflecting today on all the keyword changes, wich mostly seem quite natural now. alt-> match, ret->return, etc
[11:36:31] <dbaupp> jensnockert: varsÃ¥god!
[11:36:37] *** Joins: EXetoC (ex@moz-C741B177.customer.t3.se)
[11:36:39] <bjz_> nmatsakis: those have been awesome
[11:37:01] <bjz_> nmatsakis: I still wish for struct -> type
[11:37:19] <nmatsakis> bjz_: at the time though they sometimes felt like losing a piece of rust's identify as well
[11:37:29] <bjz_> nmatsakis: yeah?
[11:37:59] <jensnockert> But now we free up core for some other cool library.
[11:38:14] <jensnockert> Like a library for managing magnetic core memory.
[11:40:19] <kimundi> haha
[11:40:41] <kimundi> :) 
[11:41:48] <jensnockert> But now when I have done some shameless self-promotion, I need to take a break and think how to make my compute-library the bestest.
[11:42:25] <dbaupp> jensnockert: it should be able to add numbers
[11:42:41] <dbaupp> and if you're feeling adventurous, you could try multiplication too
[11:42:43] <dbaupp> :P
[11:45:40] *** Quits: KindOne (KindOne@60BAFDA8.D40F8E6E.EC6A1518.IP) (Ping timeout)
[11:48:11] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[11:48:14] <MaikKlein> we only have two things to design our programs right? traits that act like interfaces and structs that are like classes without inheritance. 
[11:48:21] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[11:48:52] <dbaupp> MaikKlein: and enums
[11:49:43] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[11:49:49] *** Joins: KindOne (KindOne@moz-516C583A.dynamic.ip.windstream.net)
[11:50:01] <fabiand> jensnockert, nice bindings
[11:51:30] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[11:53:14] <benh> and macros :V
[11:55:05] <cmr> MaikKlein: I think you focus too much on "design" and "patterns".
[11:55:30] <MaikKlein> possible
[11:55:34] <MaikKlein> :)
[11:56:22] *** Joins: vmx (vmx@moz-1C249253.pools.arcor-ip.net)
[11:56:30] *** Quits: seth (seth@moz-99690620.hinet-ip.hinet.net) (Input/output error)
[11:57:17] <dbaupp> I have a feeling that design patterns in Haskell will be a better fit for Rust (on average), than those in conventional OO languages
[11:59:46] <MaikKlein> http://mibpaste.com/gCMRk2  I have a question, this code is from the tutorial. Let's say I also want a hexagon. So the only way I could add one is to add "Hexagon" in the enum Shape and extend the match case in the method draw. But it feels like  touching existing code
[12:00:20] <dbaupp> MaikKlein: with that structure, yes
[12:00:36] *** Joins: Palmik (palmik@moz-DADC71F0.pks.muni.cz)
[12:01:15] <dbaupp> however, `trait Shape { fn draw(&self); } struct Circle(Point, float); impl Shape for Circle {...} struct Rectangle(...); impl Shape for Rectangle { .. }`
[12:01:17] <cmr> MaikKlein: you should consider using gist or some other pastebin for code. mibbit's builtin one is very primitive and doesn't preserve code's formatting
[12:01:18] <dbaupp> would also work
[12:02:38] <MaikKlein> okay yeah this looks better
[12:05:34] *** Quits: KindOne (KindOne@moz-516C583A.dynamic.ip.windstream.net) (Ping timeout)
[12:06:50] *** Joins: KindOne (KindOne@moz-7973B695.dynamic.ip.windstream.net)
[12:06:56] *** kimundi is now known as zz_kimundi
[12:07:16] <jensnockert> fabiand: Thanks.
[12:08:45] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[12:11:44] *** Joins: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net)
[12:12:48] *** Quits: sankha93 (Instantbir@EA2D262B.E0248F56.616A18A6.IP) (Ping timeout)
[12:14:51] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[12:14:51] *** ChanServ sets mode: +o dherman
[12:15:49] *** zz_kimundi is now known as kimundi
[12:16:20] *** Joins: pnkfelix|rcirc (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net)
[12:17:46] *** Joins: sankha93 (Instantbir@EA2D262B.E0248F56.616A18A6.IP)
[12:20:31] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[12:21:12] *** Joins: vosen (vosen@moz-266BA656.icpnet.pl)
[12:22:12] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[12:22:48] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[12:23:16] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[12:23:31] *** Quits: judder (maradukewa@CF01B517.FDE2B133.950D3BB5.IP) (No route to host)
[12:23:36] *** Joins: judder (maradukewa@CF01B517.FDE2B133.950D3BB5.IP)
[12:26:04] <MaikKlein> https://gist.github.com/MaikKlein/5635687
[12:26:15] <MaikKlein> can someone tell me why I have to use a return statement here?
[12:27:44] <dbaupp> fn attack(&self) -> int { self.damage } doesn't work?
[12:28:00] <MaikKlein> it tells me
[12:28:19] <MaikKlein> oh wait
[12:28:25] <dbaupp> (the semicolon must be dropped to get implicit return)
[12:28:27] <MaikKlein> ohhh ok
[12:28:34] <MaikKlein> yes I realized that now
[12:28:36] <MaikKlein> :x
[12:28:38] <dbaupp> cool :)
[12:31:44] *** Joins: maxli (maxli@F2D29657.F60B0462.67AC9B1.IP)
[12:33:45] *** Quits: MaikKlein (Mibbit@moz-5F822E06.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[12:40:34] *** Quits: sankha93 (Instantbir@EA2D262B.E0248F56.616A18A6.IP) (Quit: Instantbird 1.4 -- http://www.instantbird.com)
[12:42:07] *** Joins: sk (sk@5F3B8500.CB2CB346.78DD174B.IP)
[12:43:16] *** Joins: MaikKlein (maik@moz-8B7A1D66.dip0.t-ipconnect.de)
[12:44:04] *** Quits: MaikKlein (maik@moz-8B7A1D66.dip0.t-ipconnect.de) (Quit: Leaving.)
[12:44:37] *** Joins: MaikKlein (maik@moz-8B7A1D66.dip0.t-ipconnect.de)
[12:45:15] *** Quits: Sorella (queen@B12A78F5.BA14766C.95C8B7C6.IP) (Ping timeout)
[12:46:16] *** Joins: Sorella (queen@B12A78F5.BA14766C.95C8B7C6.IP)
[12:51:17] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[12:51:50] <fabiand> dbaupp, http://www.fpaste.org/13954/36931339/
[12:52:19] <fabiand> dbaupp, I called Monster() instead of Monster{...} - the error which was raised did not help me to find the problem ...
[12:52:38] *** Quits: judder (maradukewa@CF01B517.FDE2B133.950D3BB5.IP) (Ping timeout)
[12:52:59] <fabiand> dbaupp, I'd have expected sth like "Intiialize structs using Monster{...}" or so ... but b/c of that error I looked for hidden utf8 chars :)
[12:53:03] *** Joins: recrack (Mibbit@B4104EBB.3CC170B1.1E14B209.IP)
[12:53:03] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[12:53:04] <dbaupp> fabiand: yeah that's not a very helpful error
[12:53:14] <dbaupp> you should file a bug :)
[12:53:18] <fabiand> :)
[12:53:33] *** Quits: Sorella (queen@B12A78F5.BA14766C.95C8B7C6.IP) (Connection reset by peer)
[12:54:44] <MaikKlein> how do I run a loop 10 times? I know it was something like 10.times{....}
[12:55:02] <dbaupp> rusti: for 3.times { println("hi"); }
[12:55:02] -rusti- hi
[12:55:03] -rusti- hi
[12:55:03] -rusti- hi
[12:55:17] <MaikKlein> ah nice thanks
[12:55:43] <MaikKlein> wtf
[12:56:00] <MaikKlein> rusti: for 3.times { println("test"); }
[12:56:00] -rusti- test
[12:56:01] -rusti- test
[12:56:01] -rusti- test
[12:56:06] <MaikKlein> Ã¶hm okay :D
[12:56:08] *** Joins: SimonSapin (simon@moz-F9968C87.dynamic.kbronet.com.tw)
[12:57:30] <zxcdw> What, that pasted code is byte by byte exact to something I wrote last night
[12:57:40] <zxcdw> (impl Monster ... one)
[12:58:02] <dbaupp> zxcdw: with the comments?
[12:58:18] <MaikKlein> u mean my code?
[12:59:29] <zxcdw> dbaupp: ha not comment unfortunately :( or main :P
[12:59:46] <dbaupp> clearly rusty monsters are popular :P
[12:59:48] <zxcdw> MaikKlein: Yeah
[13:00:26] *** Joins: SimonSapin1 (simon@F65ECE71.FC6A7316.FF0DE09B.IP)
[13:00:36] <MaikKlein> I wrote that 10 min ago, but it was mostly from that rust for ruby tutorial
[13:01:18] <zxcdw> Ah, I got the idea of doing something related to monsters from there, I haven't gone through it very thoroughly myself
[13:01:22] *** Quits: SimonSapin (simon@moz-F9968C87.dynamic.kbronet.com.tw) (Ping timeout)
[13:01:53] <MaikKlein> btw whats the difference between a struct xyz and a pub struct xyz?
[13:02:12] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Input/output error)
[13:02:24] <zxcdw> with pub the struct is accessible outside the crate or something?
[13:02:57] <dbaupp> zxcdw: yes
[13:03:12] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Input/output error)
[13:03:17] <dbaupp> in fact, without pub it is only visible to the current module
[13:03:24] <dbaupp> not even things in the same crate
[13:03:29] <MaikKlein> ok haven't looked too closely on crates yet
[13:03:30] <dbaupp> (or even submodules)
[13:03:40] <MaikKlein> ok thanks
[13:04:42] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[13:04:57] <MaikKlein> btw are the already some naming conventions in rust?
[13:06:19] <dbaupp> https://github.com/mozilla/rust/wiki/Note-style-guide
[13:07:11] *** Joins: seth (seth@5AAE35B2.5EFFC0B8.24454B25.IP)
[13:08:18] <MaikKlein> cool thanks again :)
[13:08:45] *** Joins: judder (maradukewa@CF01B517.FDE2B133.950D3BB5.IP)
[13:09:29] <MaikKlein> is this a typo or is this correct syntax in rust?  fn new<T: MoveController + 'static>    
[13:09:34] <MaikKlein> the 'static> seems fishy
[13:09:46] *** Quits: seth (seth@5AAE35B2.5EFFC0B8.24454B25.IP) (Ping timeout)
[13:09:52] <bstrie> MaikKlein: it is fishy, but it's legal
[13:09:54] <bstrie> I hate it :P
[13:10:07] <rsaarelm> What does it mean anyway?
[13:10:11] <MaikKlein> what the heck does it do?
[13:10:18] <rsaarelm> I think I tried to look it up from the docs but didn't find it.
[13:10:29] <bstrie> pretty sure it just means that T has to be a constant, or something
[13:16:17] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[13:17:54] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[13:18:34] <dbaupp> it means that T has the static lifetime
[13:18:45] <MaikKlein> in the note style guide "Constructors are methods called new or new_with_more_details." Shouldn't it be static functions instead of methods?
[13:18:52] <dbaupp> which basically means that any borrowed pointers inside T are pointers to static memory
[13:18:59] <dbaupp> (but that's all)
[13:19:04] <dbaupp> (I think)
[13:19:16] *** Joins: hjr3 (hradtke@moz-AE3056B9.static.stls.mo.charter.com)
[13:19:16] *** Quits: hjr3 (hradtke@moz-AE3056B9.static.stls.mo.charter.com) (Client exited)
[13:22:11] <bjz_> I think there's starting to be a move to calling them 'associated functions'
[13:22:22] <bjz_> which I think is better
[13:22:36] <bjz_> as opposed to 'static methods'
[13:23:55] *** Joins: jaen (jaen@B361617C.6A94545C.43DC2829.IP)
[13:24:15] <dbaupp> yeah
[13:24:27] <dbaupp> rusti: fn foo<T: 'static>(_a: T) {} let a = 1; foo(a)
[13:24:39] <dbaupp> rusti: fn foo<T: 'static>(_a: T) {} let a = 1; foo(&a)
[13:24:41] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/XUKF
[13:25:03] <dbaupp> (the former worked silently...)
[13:28:08] *** Joins: Flibo (Flibo@moz-40397852.org.aalto.fi)
[13:28:31] *** Joins: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP)
[13:31:46] *** Joins: hjr3 (hradtke@moz-AE3056B9.static.stls.mo.charter.com)
[13:33:52] *** Quits: thomaslee_ (thomaslee@moz-306D3DF4.hsd1.or.comcast.net) (Client exited)
[13:39:34] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[13:40:12] <EXetoC> will rust-sdl be ported to SDL2 once it is released?
[13:41:28] <rsaarelm> Depends on whoever is maintaining it.
[13:42:51] <benh> It seems that SDL2 is a big enough change that a separate pckage might be better...? I don't know, I haven't used it.
[13:43:33] <rsaarelm> I think so, yeah.
[13:43:49] <rsaarelm> Haven't looked much into SDL2, but my impression is that it'll change a lot of things all over the place.
[13:44:09] <rsaarelm> Then again, Rust is still so new that you might get away with just dropping the support for the old SDL.
[13:44:26] <rsaarelm> There probably aren't that many existing projects with people who will get angry.
[13:45:41] <rsaarelm> Looks like the folk on the SDL forums are making noise about releasing 2.0 Any Day Now.
[13:45:52] <benh> I'll get angry if you break sprocketnes :D
[13:46:26] <rsaarelm> Isn't it already broken against the latest rustc?
[13:46:33] <rsaarelm> At least I couldn't make it build.
[13:46:44] <benh> well. what isn't, right now with the core/std/extra switch ;)
[13:47:18] <EXetoC> yeah might as well make a new lib
[13:48:29] <bjz_> I thought SDL2 already was released?
[13:48:48] <bjz_> oh, just read what rsaarelm said
[13:49:18] <bjz_> GLFW3 is pretty much 'Any Day Now' too
[13:49:22] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[13:50:25] *** Quits: SimonSapin1 (simon@F65ECE71.FC6A7316.FF0DE09B.IP) (Quit: Leaving.)
[13:50:27] *** Joins: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net)
[13:50:33] *** Quits: zxcdw (r-a@moz-C7C5467B.cust.bredband2.com) (Ping timeout)
[13:50:48] <SiegeLord> Damn, all these alternative libraries and I've still haven't got Allegro bound >_<
[13:50:57] <SiegeLord> Gotta quit my job...
[13:51:07] <bjz_> What's Allegro again?
[13:51:45] <SiegeLord> It's like SDL, but different
[13:52:11] <bjz_> oh http://alleg.sourceforge.net/
[13:52:49] <rsaarelm> Older and less minimalist than SDL.
[13:53:20] <SiegeLord> I'd be binding the newer version... which is more like SDL2, but different
[13:53:43] <SiegeLord> Which also happens to be older (as it's been released for a few years) and less minimalist
[13:54:47] <bjz_> rsaarelm: SDL is minimalist? :P
[13:55:58] <rsaarelm> It seems pretty determined to exclude anything that can be done as regular application logic on top of the API that needs hardware specific support, such as putpixel routines.
[13:56:03] <kaeso> fabiand: FYI https://github.com/joyent/libuv/issues/354#issuecomment-17803641
[13:56:35] <fabiand> kaeso, wuhu! thanks for reaching out! Time for a new specfile :)
[13:57:07] *** Joins: berak (chatzilla@9BCFEC82.4742BCFA.1A5CC7E5.IP)
[13:57:48] <kaeso> fabiand: from what I understood, they are going to bump the soname at each non-minor release
[13:58:15] <fabiand> that should be fine .., as lonk as the abi is stable ..
[13:58:17] <fabiand> long
[14:00:04] *** Quits: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP) (Ping timeout)
[14:00:27] <bstrie> oh man, awesome
[14:00:39] <bstrie> finally an official libuv release :)
[14:00:48] *** Joins: pyrac (pyrac@E9441625.81445FE4.1B3E68DA.IP)
[14:01:14] *** Joins: mib_qzz151 (Mibbit@moz-2B803C4E.red.bezeqint.net)
[14:02:01] *** Parts: berak (chatzilla@9BCFEC82.4742BCFA.1A5CC7E5.IP) ()
[14:02:07] <mib_qzz151> I am trying to build rust-sdl on Windows, but getting multiple errors like this: "libsdl.o:(.text+0x46c7b): undefined reference to `IMG_Init'"
[14:02:21] <mib_qzz151> Any ideas?
[14:02:41] <Diablo-D3> make sure you're on the right version of SDL
[14:02:45] <Diablo-D3> SDL 2.0 != 1.2
[14:03:00] <mib_qzz151> Rust-SDL uses which?
[14:03:04] <Diablo-D3> IMG_init is part of sdl_image on 1.2, I dont know if 2.0 ended up integrating that lib or not
[14:03:13] <Diablo-D3> dont know, Ive never used Rust-SDL, only SDL
[14:03:24] <mib_qzz151> Thank you, I'll try to find out
[14:03:40] <mib_qzz151> Where can I get SDL 2.0, if I need to? I just downloaded the latest I found, and it was 1.2
[14:04:19] <mib_qzz151> Hmm... Doesn't seem to be the issue. I have SDL 1.2, and the docs say the requirement is SDL 1.2
[14:05:17] <Diablo-D3> 2.0 isnt officially released yet I believe
[14:05:31] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[14:05:39] <Diablo-D3> but your error is clearly a missing sdl_image, which is a separate lib
[14:05:43] *** Quits: Jesin (Jessin_@moz-A03A364F.cc.lehigh.edu) (Quit: Leaving)
[14:06:30] *** Quits: hjr3 (hradtke@moz-AE3056B9.static.stls.mo.charter.com) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[14:06:31] <mib_qzz151> I do have it (before I had it, I got "note: ... cannot find -lSDL_image")
[14:06:55] <mib_qzz151> Copied the entire folder from the devel package of sdl_image
[14:06:56] <Diablo-D3> do whatever the equivalent of make distclean is in rust and try again
[14:07:58] <EXetoC> should work if it's in your linker path
[14:08:15] *** Quits: anshin (nbs@441B8B9E.2055B963.D2A6B5.IP) (Quit: Lost terminal)
[14:09:03] <cmr> is incoming still exploding?
[14:09:07] *** Joins: Guest_ (textual@BBE7C46A.B4F11D08.8612FA94.IP)
[14:09:50] <mib_qzz151> @cmr: Is that question directed at me?
[14:09:57] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[14:09:57] <cmr> mib_qzz151: no
[14:10:00] <dbaupp> cmr: yes
[14:10:30] <dbaupp> cmr: after pcwalton pushed, that half of the world went to bed and bors was turned off
[14:11:32] *** Quits: pyrac (pyrac@E9441625.81445FE4.1B3E68DA.IP) (Ping timeout)
[14:11:39] <cmr> heh
[14:11:50] *** Joins: zxcdw (r-a@moz-C7C5467B.cust.bredband2.com)
[14:12:17] *** Joins: pyrac (pyrac@E9441625.81445FE4.1B3E68DA.IP)
[14:12:38] *** Joins: jensnockert (jensnocker@935BADC2.DE7BE147.A94117DA.IP)
[14:12:42] <mib_qzz151> Diablo-D3: clean and built, same errors. I'll note that the errors also report a linkage issue with mixer, not only image
[14:13:00] <Diablo-D3> mib_qzz151: then your library path is wrong
[14:13:26] <Diablo-D3> what linux are you on? because on ubuntu or debian, all of this is a simple apt-get away
[14:13:41] <mib_qzz151> Windows, for the challenge :)
[14:13:53] <Diablo-D3> ... nope.jpg.
[14:14:02] <Diablo-D3> you're on your own
[14:14:03] <benh> My first real if trivial pull request got r+'ed at some point before I went to bed and I woke up to a buildbot reporting dozens of test failures and tests not even compiling :)
[14:14:16] <Diablo-D3> mib_qzz151: you probably want to ask questions in #sdl on freenode, though
[14:14:22] <bstrie> benh: you broke everything!!
[14:14:31] <Diablo-D3> benh: good job!
[14:14:31] <mib_qzz151> mib_qzz151: Thanks, I'll head over there
[14:14:44] *** Quits: MaikKlein (maik@moz-8B7A1D66.dip0.t-ipconnect.de) (Ping timeout)
[14:14:45] <mib_qzz151> Diablo-D3: Thanks, I'll head over there
[14:14:49] *** Quits: trapni (trapni@moz-6A0EA166.dawanda.com) (Quit: Leaving)
[14:14:52] <benh> I'll stick to editing docs from now on :D
[14:16:16] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[14:16:42] *** Parts: mib_qzz151 (Mibbit@moz-2B803C4E.red.bezeqint.net) ()
[14:18:32] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Ping timeout)
[14:23:22] *** Quits: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP) (Quit: Lost terminal)
[14:25:30] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[14:26:29] *** Quits: EXetoC (ex@moz-C741B177.customer.t3.se) (Ping timeout)
[14:27:52] *** Joins: MaikKlein (maik@moz-8B7A1D66.dip0.t-ipconnect.de)
[14:29:03] <MaikKlein> .
[14:29:23] <MaikKlein> is it possible in rust to leak memory?
[14:30:21] <dbaupp> MaikKlein: in theory no, but in practice yes
[14:30:26] <dbaupp> (the compiler has bugs)
[14:30:45] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[14:30:48] <dbaupp> (this is assuming that you aren't using unsafe pointers)
[14:31:09] <jesse99> managed pointer cycles aren't cleaned up until the end of a task atm
[14:31:19] <jesse99> which can be very bad
[14:31:36] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[14:31:54] <MaikKlein> managed pointers are @?
[14:31:54] *** Joins: EXetoC (ex@moz-2DBEB1E4.customer.t3.se)
[14:32:09] <jesse99> ya
[14:32:18] *** Quits: pyrac (pyrac@E9441625.81445FE4.1B3E68DA.IP) (Ping timeout)
[14:32:36] *** Joins: pyrac (pyrac@E9441625.81445FE4.1B3E68DA.IP)
[14:32:46] <dbaupp> jesse99: that limitation is going away
[14:32:55] <dbaupp> (hopefully soon...)
[14:32:59] <jesse99> gray don is working on an actual GC
[14:33:02] <dbaupp> when the GC lands
[14:33:17] <bjz_> MaikKlein: also if you make mistakes within unsafe blocks :)
[14:33:41] <MaikKlein> yeah ok but that should be expected
[14:33:54] <bjz_> yup
[14:33:55] <MaikKlein> btw are there more talks about rust like this one https://air.mozilla.org/rust-gc/ ?
[14:35:17] *** Quits: pyrac (pyrac@E9441625.81445FE4.1B3E68DA.IP) (Quit: pyrac)
[14:37:17] *** Joins: bent (chatzilla@moz-932324BF.hsd1.ca.comcast.net)
[14:37:18] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Client exited)
[14:39:48] *** Joins: isaac (isaac@moz-C864CE71.dfw.dsl-w.verizon.net)
[14:40:56] *** Quits: isaac (isaac@moz-C864CE71.dfw.dsl-w.verizon.net) (Quit: WeeChat 0.4.1)
[14:41:11] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[14:44:08] *** Joins: Blub\w (wry@moz-A4D44E79.wireless.dyn.drei.com)
[14:44:29] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[14:45:36] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[14:46:06] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Client exited)
[14:47:26] *** Quits: sk (sk@5F3B8500.CB2CB346.78DD174B.IP) (Quit: Leaving)
[14:54:04] *** Quits: recrack (Mibbit@B4104EBB.3CC170B1.1E14B209.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:54:07] *** Joins: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com)
[14:54:17] *** Joins: SimonSapin (simon@5AAE35B2.5EFFC0B8.24454B25.IP)
[14:57:16] *** Joins: anshin (nbs@441B8B9E.2055B963.D2A6B5.IP)
[14:58:04] *** Joins: Jesin (Jessin_@moz-D59031C.eecs.lehigh.edu)
[14:58:13] *** Quits: busylizzy (lisa@85228838.12D0DC84.211374C4.IP) (Ping timeout)
[14:59:16] *** Joins: busylizzy (lisa@85228838.12D0DC84.211374C4.IP)
[14:59:49] *** Joins: lmandel (lmandel@FE1F74.86ED00A7.971E19F6.IP)
[15:03:05] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Quit: Leaving)
[15:03:19] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[15:04:04] <MaikKlein> do you know some code that shows / explains the usage of "Option"?
[15:04:22] <dbaupp> MaikKlein: in what sense?
[15:04:57] *** Quits: doener (bs@moz-AA189A5A.unitymedia.biz) (Quit: leaving)
[15:05:21] <MaikKlein> the official tutorial briefly explains what an "Option" ist but it never really shows how to make use of it.
[15:05:32] <MaikKlein> I know something similar when i learned scala
[15:05:36] <dbaupp> the first section of http://en.wikibooks.org/wiki/Haskell/Hierarchical_libraries/Maybe
[15:05:46] <dbaupp> explains the reason for Option/Maybe types
[15:05:59] <MaikKlein> okay thanks
[15:06:22] <dbaupp> but the basic pattern in Rust is `match thing { Some(val) => { ... }, None => { ... } }`
[15:08:15] <dbaupp> (to be clear, that page is in Haskell, so Maybe -> Option, Just -> Some, Nothing -> None for rust)
[15:09:26] <MaikKlein> okay wow the haskell wiki explains it pretty good
[15:10:07] <MaikKlein> thanks
[15:10:54] *** Quits: dbaupp (Thunderbir@moz-C83F6225.lns20.syd6.internode.on.net) (Ping timeout)
[15:12:34] <jaen> Matching is one thing, but doing a map on Maybe is even cooler - it short-circuits on the first Nothing; I think Rust's Option does that too
[15:13:08] <MaikKlein> can u show us an example of a map?
[15:14:09] *** Quits: pnathan (Adium@DB849214.31A7A48D.B1142EBE.IP) (Quit: Leaving.)
[15:14:53] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[15:15:17] <jaen> MaikKlein: this is described pretty swell in here - http://learnyouahaskell.com/a-fistful-of-monads 
[15:15:47] <MaikKlein> ok thanks I'll have a look
[15:15:54] <jaen> At least general idea, I'm not that well versed in Rust intricacies to give you an example off the top of my head
[15:16:38] <jaen> The examples from "Walkt the line" heading describe this short-circuiting behaviour pretty nicely
[15:16:48] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[15:17:13] <engla> rusti: let x: Option<int> = Some(4); x.map_consume(|y| y*2)
[15:17:14] -rusti- Some(8)
[15:17:22] <engla> rusti: let x: Option<int> = None; x.map_consume(|y| y*2)
[15:17:24] -rusti- None
[15:17:31] <bjz_> rusti: Some(3).chain(|&x| if x < 2 { None } else { Some 3 * 3 })
[15:17:32] -rusti- foo.rs:5:58: 5:59 error: expected `;` or `}` after expression but found `3`
[15:17:32] -rusti- foo.rs:5          Some(3).chain(|&x| if x < 2 { None } else { Some 3 * 3 })
[15:17:32] -rusti-                                                                    ^
[15:17:34] *** Quits: a_make (a__@moz-250D9B4.nycmny.fios.verizon.net) (Client exited)
[15:17:41] <bjz_> rusti: Some(3).chain(|&x| if x < 2 { None } else { Some(3 * 3) })
[15:17:42] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/AEYf
[15:17:44] <engla> in this example, that function is only called if x is not None
[15:18:11] <bjz_> rusti: Some(3).chain(|x| if x < 2 { None } else { Some(3 * 3) })
[15:18:12] -rusti- Some(9)
[15:18:39] <bjz_> (mine took a few attempts)
[15:18:44] *** Joins: a__ (a__@moz-250D9B4.nycmny.fios.verizon.net)
[15:18:56] <bjz_> with chain you can specify a some or a none
[15:19:24] <bjz_> where as map always returns a some, if the original option was some
[15:19:25] <benh> imo the if ... { None } else { Some(...) } pattern deserves a name too
[15:20:14] *** Joins: sankha93 (Instantbir@ECF3ECD8.A5E24E6D.8B6C1D65.IP)
[15:21:07] <engla> in Haskell land,  Option::map would be functor fmap and Option::chain the monadic bind
[15:21:33] *** Quits: jaen (jaen@B361617C.6A94545C.43DC2829.IP) (Ping timeout)
[15:21:49] <benh> rust doesn't let us overload the bitshiftright-assign operator, does it?
[15:22:02] <bjz_> no
[15:22:10] <MaikKlein> okay that is pretty cool
[15:22:19] *** Joins: pyrac (pyrac@BC2AA53D.73C89388.AD05C589.IP)
[15:22:47] <bjz_> MaikKlein: think of Option<T> as an explicitly nullable version of T, that forces you to handle the null case every time
[15:23:52] <bjz_> MaikKlein: but as you see above, you can do a heap of cool things with it
[15:24:54] <bjz_> rusti: (sys::size_of::<Option<int>>(), sys::size_of::<int>())
[15:24:55] -rusti- (16, 8)
[15:25:31] <benh> rusti:: sys::size_of::<Option<~int>>()
[15:25:31] -rusti- foo.rs:5:8: 5:9 error: unexpected token: `:`
[15:25:31] -rusti- foo.rs:5         : sys::size_of::<Option<~int>>()
[15:25:31] -rusti-                  ^
[15:25:33] <benh> whoops
[15:25:36] <benh> rusti: sys::size_of::<Option<~int>>()
[15:25:37] -rusti- 8
[15:25:57] <bjz_> rusti: (sys::size_of::<Option<~int>>(), sys::size_of::<~int>())
[15:25:58] -rusti- (8, 8)
[15:26:14] <bjz_> yeah, it optimises pointers
[15:26:21] <bjz_> using null
[15:27:06] <benh> yeah it's great
[15:27:23] <benh> Would be neat if you could do Option<i64 except for -2^63> to optimize that too or something :))
[15:27:33] <bjz_> heh
[15:27:52] <MaikKlein> rusti: sys::size_of::<Option<~@nt>>()
[15:27:54] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/YEZC
[15:28:00] <MaikKlein> ups
[15:28:08] <MaikKlein> rusti: sys::size_of::<Option<@int>>()
[15:28:09] -rusti- 8
[15:28:18] <MaikKlein> rusti: sys::size_of::<Option<int>>()
[15:28:19] -rusti- 16
[15:28:37] <MaikKlein> hm
[15:28:44] <MaikKlein> how big is an int in rust?
[15:28:53] <benh> 8, on x86_64
[15:29:04] <bjz_> rusti: sys::size_of::<int>()
[15:29:05] -rusti- 8
[15:29:09] <MaikKlein> ok and an option is also 8bit?
[15:29:14] <bjz_> depends on the architecture
[15:29:16] <benh> (byte)
[15:29:21] <MaikKlein> byte*
[15:29:27] <bjz_> (size of int I mean)
[15:29:28] <MaikKlein> yeah on 64
[15:29:36] *** Joins: jdm (jdm@F2D29657.F60B0462.67AC9B1.IP)
[15:29:37] <benh> For Option<int> you basically end up with a tuple (boolIsItNone?, theInt)
[15:29:53] <benh> for Option<~int>, it's just an int pointer and it's None if the pointer is the NULL pointer
[15:30:11] <bjz_> sys::size_of::<bool>()
[15:30:14] <MaikKlein> ah ok
[15:30:19] <bjz_> rusti: sys::size_of::<bool>()
[15:30:20] -rusti- 1
[15:30:25] <MaikKlein> rusti: sys::size_of::<Option<~10>>()
[15:30:26] -rusti- foo.rs:5:32: 5:34 error: expected type, found token LIT_INT_UNSUFFIXED(10)
[15:30:26] -rusti- foo.rs:5          sys::size_of::<Option<~10>>()
[15:30:26] -rusti-                                          ^~
[15:30:50] <benh> Option<int> is 43.75% padding :(
[15:30:52] <bjz_> I'm guessing because of alignment it has to be a factor of 8?
[15:31:12] <benh> I don't understand alignment, don't ask me :( but it's probably that
[15:31:26] <bjz_> I'm probably using the wrong term
[15:31:30] <bjz_> me neither
[15:31:30] <benh> Or maybe all enums uniformly have 8 byte tags
[15:31:47] <nmatsakis> I think that is still true (all enums have 8 byte tags)
[15:31:55] <benh> rusti: sys::size_of::<(bool, int)>()
[15:31:55] -rusti- 16
[15:31:55] <nmatsakis> but thanks to jld's excellent work we could probably change this someday
[15:32:01] <nmatsakis> also, alignment is an issue :)
[15:32:13] <nmatsakis> however:
[15:32:19] <MaikKlein> rusti: sys::size_of::<(bool, bool)>()
[15:32:20] <benh> that tuple size surprises me
[15:32:21] -rusti- 2
[15:32:22] <bjz_> rusti: enum ABC { A, B, C } sys::size_of::<ABC>()
[15:32:23] -rusti- 8
[15:32:28] <nmatsakis> rusti: sys::size_of::<(bool, i32)>
[15:32:36] <nmatsakis> rusti: sys::size_of::<Option<i32>>
[15:32:51] <bjz_> rusti: sys::size_of::<(bool, i32)>()
[15:32:52] -rusti- 8
[15:33:00] <nmatsakis> benh: why? it's because the int must be 8byte aligned.
[15:33:02] <bjz_> rusti: sys::size_of::<Option<i32>>()
[15:33:02] -rusti- 16
[15:33:08] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[15:33:12] <nmatsakis> there, that's what I was trying to demonstrate
[15:33:16] <nmatsakis> we are also lazy :)
[15:33:22] <bjz_> :)
[15:33:36] <nmatsakis> there you see the discrepancy because i32 only requires 4 byte alignment
[15:33:38] <bjz_> nmatsakis: careful, the haskellers might come out to bite
[15:34:11] <benh> nmatsakis: I'm pretty sure it's just because 1) I read that tuple layout ought to be compatible with C struct and 2) I never thougt about alignment issues when looking at C structs ;)
[15:34:21] <bjz_> rusti: enum ABC { A(i64,i64,i64), B, C } sys::size_of::<ABC>()
[15:34:22] -rusti- 32
[15:34:38] <nmatsakis> benh: indeed, a C struct would layout the same way
[15:34:40] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[15:34:43] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[15:34:43] <ghrust> 01[13rust01] 15pcwalton pushed 1 new commit to 06incoming: 02http://git.io/Ri2xmw
[15:34:43] <ghrust> 13rust/06incoming 14be01109 15Patrick Walton: etc: Fix test combiner for core->std/std->extra change. rs=burningtree
[15:34:43] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[15:35:34] <benh> It wouldn't buy us anything to swap it so the bool comes after the int and the size is 7 bytes, right? :)
[15:35:36] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[15:35:36] <ghrust> 01[13rust01] 15pcwalton pushed 1 new commit to 06incoming: 02http://git.io/wR7eKg
[15:35:36] <ghrust> 13rust/06incoming 146e2b082 15Patrick Walton: libextra: Add missing core::prelude import. rs=burningtree
[15:35:36] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[15:35:57] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[15:36:00] *** Joins: cowboyd (cowboyd@moz-1BD02A1E.sw.biz.rr.com)
[15:36:03] <bjz_> rusti: struct StructyOption<T> { val: T, is_none: bool } sys::size_of::<StructyOption<int>>()
[15:36:04] -rusti- 16
[15:36:27] <bjz_> rusti: struct StructyOption<T> { val: T, is_none: bool } sys::size_of::<StructyOption<i8>>()
[15:36:28] -rusti- 2
[15:36:37] <engla> benh: not if it's laid out as C, you still need to pad it at the end (imagine the thing being in an array)
[15:36:38] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[15:36:39] <nmatsakis> benh: not in this case, no, because the total size must be rounded up to match the alignment.
[15:36:44] <benh> ah
[15:36:54] <bjz_> rusti: sys::size_of::<Option<i8>>()
[15:36:55] -rusti- 16
[15:37:07] <benh> is the alignment of a struct the alignment of its largest-alignment member?
[15:37:09] <bjz_> :S
[15:37:17] <nmatsakis> benh: yes.
[15:37:25] <bjz_> rusti: struct StructyOption<T> { val: T, is_none: bool } sys::size_of::<StructyOption<i32>>()
[15:37:26] -rusti- 8
[15:37:34] <bjz_> rusti: struct StructyOption<T> { val: T, is_none: bool } sys::size_of::<StructyOption<i16>>()
[15:37:36] -rusti- 4
[15:37:40] <bjz_> ahh
[15:37:43] <bjz_> neat
[15:38:07] <bjz_> rusti: struct StructyOption<T> { val: T, is_none: bool , is_pickles: bool } sys::size_of::<StructyOption<i16>>()
[15:38:08] -rusti- 4
[15:40:16] *** Quits: pyrac (pyrac@BC2AA53D.73C89388.AD05C589.IP) (Quit: pyrac)
[15:40:33] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[15:40:33] *** ChanServ sets mode: +o dherman
[15:42:49] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[15:44:29] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[15:46:22] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[15:48:02] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[15:48:58] <EXetoC> innit
[15:49:34] *** Quits: SimonSapin (simon@5AAE35B2.5EFFC0B8.24454B25.IP) (Quit: Leaving.)
[15:52:10] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[15:52:29] *** Joins: seth (seth@5AAE35B2.5EFFC0B8.24454B25.IP)
[15:53:05] <pnkfelix> nmatsakis: warnings in rustc always come from the lint module (and thus bugs therein should always be tagged A-lint), right?
[15:53:39] <nmatsakis> pnkfelix: not entirely true, but should eventually be true
[15:53:55] *** Quits: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net) (Quit: jorendorff)
[15:54:55] <pnkfelix> nmatsakis: okay, so I wrote a "A and thus B" and you said it was not entirely true.  Lets throw out A.  Is B still true?
[15:55:36] <nmatsakis> pnkfelix: certainly bugs in lint should be tagged A-lint
[15:55:57] <pnkfelix> nmatsakis: â€¦ but a spurious warning â€¦ should *that* be tagged A-lint ?
[15:55:58] *** Joins: jclements (jclements@2557E599.66715431.D25A875A.IP)
[15:56:08] <nmatsakis> pnkfelix: I guess it would depend on the warning :)
[15:56:17] <nmatsakis> pnkfelix: but I'd say yes, err on the side of yes
[15:56:19] <pnkfelix> nmatsakis: (unreservedly)?  Or do I need to first determine that its origin lies in the lint module.
[15:56:22] <pnkfelix> nmatsakis: okay.
[15:56:23] <nmatsakis> pnkfelix: if nothing else, the warning should be moved to lint.
[15:56:35] <nmatsakis> pnkfelix: since I think every warning should be something that one can control the serverity of
[15:57:31] *** Joins: \n (NDesaulnie@2557E599.66715431.D25A875A.IP)
[15:57:50] <\n> Hey can my blog post on the option type get some love on HN? https://news.ycombinator.com/item?id=5757535
[15:59:03] *** Joins: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net)
[15:59:35] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[16:00:24] *** Joins: pyrac (pyrac@BC2AA53D.73C89388.AD05C589.IP)
[16:02:09] *** Quits: pyrac (pyrac@BC2AA53D.73C89388.AD05C589.IP) (Ping timeout)
[16:03:02] *** Quits: sankha93 (Instantbir@ECF3ECD8.A5E24E6D.8B6C1D65.IP) (Ping timeout)
[16:03:43] *** Joins: Earnestly (earnest@6A917A59.5E1FD793.39C00A7A.IP)
[16:03:46] <nmatsakis> \n: upvoted.
[16:04:00] <\n> sweet thanks!
[16:04:57] <zxcdw> same
[16:05:26] *** Joins: int3_ (int3_@moz-B7B5F043.singnet.com.sg)
[16:05:41] <MaikKlein> you can have blogs on github?
[16:06:33] <\n> MaikKlein: yes, it's just a github pages/octopress blog
[16:06:46] <\n> are you familiar with github pages?  it's kind of new
[16:07:15] <\n> basically any repo, if you make a gh-pages orphan branch, it will be hosted for you
[16:07:41] <\n> in fact, you can host entire Firefox OS open web apps there as the manifest is even served with the correct MIME type
[16:08:06] <\n> octopress, a blogging software written in Ruby, publishes to a github page
[16:08:06] <MaikKlein> but they are completely static right?
[16:08:10] <\n> yes
[16:08:18] <\n> well
[16:08:41] <\n> there are a lot of new companies offering database as a service or back end as a service
[16:09:04] <\n> so you could host it statically from github and pay for someone else to host the back end
[16:10:44] *** Quits: novabyte (Instantbir@moz-3E0F9699.cable.virginmedia.com) (Connection reset by peer)
[16:10:45] *** Joins: novabyte (Instantbir@moz-3E0F9699.cable.virginmedia.com)
[16:11:50] <MaikKlein> I think I'll say with wordpress hosted on openshift for free. But still pretty cool that you can host pages on github
[16:11:55] *** Joins: sp3d (a@moz-49806493.dhcp.stls.mo.charter.com)
[16:11:57] <jaen> Static blogs don't hurt that much when you have things like disqus
[16:12:31] <benh> But disqus is going to know all the blogs I visit :(
[16:14:09] <\n> turn off third party cookies
[16:14:23] *** Joins: blitter (blitter@moz-E761A52F.dyn.centurytel.net)
[16:15:51] <EXetoC> mmh, cookies
[16:16:17] <MaikKlein> :D
[16:18:19] *** Quits: sam1 (sam@moz-83612DFD.us-west-2.compute.amazonaws.com) (Quit: WeeChat 0.4.0)
[16:18:28] <bjz_> \n: it's std::rand now, and io::println is exported in prelude :)
[16:18:48] <bjz_> \n: so you can just do println
[16:18:56] <bjz_> \n: but yeah, minor nit-picks
[16:18:58] <\n> what do you mean "in prelude?"
[16:19:01] *** Joins: sankha93 (Instantbir@ECF3ECD8.A5E24E6D.8B6C1D65.IP)
[16:19:07] <\n> no, I appreciate the feedback!  Thanks!
[16:19:49] <bjz_> \n: std::prelude (formerly core::prelude) has exports that are available by default in all rust programs
[16:20:07] <EXetoC> bjz_: std::? well, they renamed libcore to libstd didn't they? but it's still core::
[16:20:11] <bjz_> that's why you don't have to import Option, None and Some
[16:20:19] *** Joins: sam1 (sam@moz-83612DFD.us-west-2.compute.amazonaws.com)
[16:20:32] <\n> oh neat!  is std::prelude the only module imported by default like that?
[16:20:41] *** Quits: sam1 (sam@moz-83612DFD.us-west-2.compute.amazonaws.com) (Quit: WeeChat 0.4.0)
[16:20:43] <EXetoC> or maybe I've missed something, but that seemed to be the case after I updated only a couple of hours ago
[16:20:49] <bjz_> oh is it?
[16:21:01] <jack> is it possible to disambiguate a method call when the struct impl and a trait impl have a similarly named method (different signatures)
[16:21:03] <bjz_> \n: yup
[16:21:33] *** Joins: sam1 (sam@moz-83612DFD.us-west-2.compute.amazonaws.com)
[16:21:38] <bjz_> EXetoC: it's std
[16:21:58] *** Quits: int3_ (int3_@moz-B7B5F043.singnet.com.sg) (Client exited)
[16:21:59] <bjz_> EXetoC: there's core.rc, but it has `#[link(name = "std",`
[16:23:41] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[16:23:58] <EXetoC> ok but core::rand works for me, but not std::rand
[16:24:16] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Computer has gone to sleep.)
[16:24:24] <bjz_> what version do you have?
[16:25:13] <bjz_> it happened in the last 24hrs
[16:26:15] <erickt> !! huonw wrote a haskell-like do syntax sugar! https://github.com/huonw/rust/tree/do-notation. that's awesome
[16:26:31] *** Quits: jgilbert (jgilbert@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[16:26:39] <benh> :D
[16:27:52] <benh> that's dbaupp, right
[16:28:00] <otters> what does it actually do? rust doesn't have bind
[16:28:03] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[16:28:43] <erickt> otters: https://mail.mozilla.org/pipermail/rust-dev/2013-May/004182.html
[16:29:19] <erickt> otters: the sugar adds a bind statement, and then converts it over to chain method calls
[16:29:24] <otters> neat
[16:29:30] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[16:29:55] *** Joins: thomaslee_ (thomaslee@moz-6C3931E3.static.twtelecom.net)
[16:30:17] <bstrie> I'm still not sure that I understand do notation
[16:30:20] <benh> > but there's no generic return equivalent yet, so that has to be changed for each type.
[16:30:32] <benh> Can we just add a Monad trait?
[16:30:41] <bstrie> is the point of it to just avoid unwrapping options all the time?
[16:31:01] *** Joins: BitPuffin (quassel@moz-8370D1B9.bredband.comhem.se)
[16:31:39] <EXetoC> I thought it was syntactic sugar for functions taking a delegate
[16:31:48] <bstrie> I still have no idea what that means
[16:31:58] *** Joins: graydon (graydon@3853DDD.39EEDBB3.D758B1AA.IP)
[16:31:58] *** ChanServ sets mode: +qo graydon graydon
[16:32:24] <EXetoC> isn't it documented somewhere?
[16:32:30] <bstrie> I'm sure it is
[16:32:33] <bstrie> but I can't read haskell
[16:33:06] <bstrie> also, I think that leaving macro-import for rust 2.0 is going to be very painful, if that comes to pass
[16:33:33] <jclements> bstrie: I'm also hoping that macro import is a part of 1.0.
[16:33:38] <EXetoC> talking about haskell? nvm then
[16:33:50] <bstrie> EXetoC: right, the other do notation :P
[16:34:40] <benh> In haskell the maybe monad is basically set up so you can chain computations that produce Option values as if they just straight-up gave you the values, and instead of fatal pattern match errors the whole block just terminates early and gives you None
[16:34:48] <EXetoC> bjz_: will try again when the package is updated
[16:34:49] *** Quits: sankha93 (Instantbir@ECF3ECD8.A5E24E6D.8B6C1D65.IP) (Ping timeout)
[16:35:09] <otters> Every language needs monads
[16:35:16] <benh> do-notation is a thin wrapper over their .chain(), basically, so it looks more imperative and less "oh god 15 nested higher-order function calls"
[16:35:17] *** Joins: tjc (tjc@moz-E0677B46.vc.shawcable.net)
[16:35:17] *** ChanServ sets mode: +o tjc
[16:35:23] <bstrie> jclements: indeed, I would *love* it if libraries could provide macros like this, because then they don't need to be shipped with the compiler itself and essentially standardized
[16:35:38] <tjc> graydon nmatsakis: we're in MTV-Bridge?
[16:35:39] <EXetoC> +1
[16:35:42] *** Quits: pnkfelix|rcirc (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net) (Ping timeout)
[16:35:45] *** Quits: pnkfelix (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net) (Ping timeout)
[16:36:01] <jclements> tjc: are we? I was kinda hoping there was no meeting this week....
[16:36:14] <tjc> jclements: triage meetingâ€¦ I thought it was scheduled
[16:36:25] *** Quits: sam1 (sam@moz-83612DFD.us-west-2.compute.amazonaws.com) (Quit: WeeChat 0.4.0)
[16:36:39] <nmatsakis> tjc: jclements: what time is the meeting, now? My calendar must be wrong.
[16:37:01] <tjc> nmatsakis: thought it was 9:30 Pacific for triage
[16:37:03] *** Joins: sankha93 (Instantbir@ECF3ECD8.A5E24E6D.8B6C1D65.IP)
[16:37:11] <graydon> calendar now says 10am and every _two_ weeks
[16:37:12] <jclements> nmatsakis: sighâ€¦ it's not on my calendar at all, but I'll head up there...
[16:37:12] <graydon> which is weird
[16:37:17] <graydon> because I thought it was 9:30 and every week
[16:37:24] <graydon> we can't leave it to every 2 weeks, the list is growing far too rapidly
[16:37:43] <jclements> well, I don't see pcwalton or brson here...
[16:37:46] <graydon> yeah
[16:37:54] <bstrie> the nomination list yes, but the total bug count has actually stabilized since the weekly bugmail process was installed
[16:37:57] <tjc> I thought I got an email reminder tho'
[16:37:58] <graydon> obviously everyone saw and responded to 10am
[16:37:59] <tjc> I'll check
[16:37:59] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Computer has gone to sleep.)
[16:39:50] *** Joins: sam1 (sam@moz-ADDDDFB1.mc.videotron.ca)
[16:39:57] <tjc> hmm, I don't seem to have a reminder for today
[16:40:03] <tjc> so maybe I just imagined that we had a meeting
[16:40:36] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[16:40:50] <graydon> zimbra has it scheduled for 10am
[16:40:53] <tjc> oh
[16:40:57] *** Joins: jorendorff (jorendorff@moz-1747FB68.hsd1.tn.comcast.net)
[16:41:16] <tjc> well then
[16:41:41] <graydon> and scheduled for bi-weeky, with the text 'can do it every other week at this time""' in the body of the calendar entry
[16:41:45] <graydon> which, um, is not ok
[16:42:06] <graydon> we can move the time around but if anything we need it more often than weekly, as people seem nomination-happy
[16:42:12] <graydon> (100 nominated this past week?)
[16:42:21] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[16:42:21] <tjc> graydon: that's mostly due to me
[16:42:33] <tjc> I went on a spree last night since I was getting frustrated about the build times and needed something to do
[16:42:41] <tjc> but I don't expect to be doing that much nominating every week :-)
[16:44:36] <MaikKlein> ok hm
[16:44:40] <MaikKlein> is this the same as do?
[16:44:41] <MaikKlein> https://gist.github.com/MaikKlein/5637473
[16:45:07] <MaikKlein> I don't know how generics work yet so its only for int's
[16:45:24] <benh> this is cheating because + is actually overloaded for Option :(
[16:45:58] <graydon> tjc: if you nominate, can you mention that you're doing so and for what milestone, in a comment? otherwise the tag-changes have no history
[16:46:10] <tjc> graydon: Iâ€¦ think I did that for every bug?
[16:46:16] <tjc> (every bug that I nominated)
[16:46:25] <graydon> ok
[16:46:34] <graydon> someone else is doing it then. hence the problem!
[16:46:37] <jdm> heh
[16:47:05] <MaikKlein> mhh
[16:47:18] <tjc> well, could be that someone wasn't sure
[16:47:56] <graydon> yeah, but they should at least mention they're putting the tag on, so we can ask what the motivation was
[16:48:07] <tjc> sure
[16:50:37] *** Quits: jensnockert (jensnocker@935BADC2.DE7BE147.A94117DA.IP) (Input/output error)
[16:51:23] <graydon> http://venge.net/graydon/flamegraph.svg heh
[16:51:36] *** Joins: deLta30 (quassel@5F76EC65.38B2EFD6.A05B35DF.IP)
[16:52:51] <graydon> "flamegraphs make profile-viewing easy and obvious" (cough cough)
[16:53:07] <graydon> I guess it's a little more compact / meaningful than other views
[16:53:57] <jdm> oh goodness
[16:54:00] <jdm> what am I looking at?
[16:54:24] <graydon> a run of rustc
[16:54:50] <jdm> graydon: also, could you elaborate on your comment regarding the two heaps and massif's output?
[16:55:07] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[16:56:25] <graydon> oh, sure. in any ps_print output there's a huge subtree under boxed_region::malloc and 2 huge subtrees under rust_exchange_alloc::malloc / unstable::exchange_alloc::malloc
[16:56:45] <graydon> the former is the local heap, the latter two are the exchange-heap allocation of stacks and other ~boxes, respectively
[16:56:48] <tjc> easy and obvious like how to refinance the national debt is easy and obvious
[16:56:51] <graydon> it's important to look at all 3
[16:57:04] <graydon> tjc: yeah. "stop doing the major thing you're doing"
[16:57:15] <jdm> graydon: oh, ok. I thought you were saying that one of them wasn't important to look at.
[16:57:16] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[16:57:33] <tjc> graydon: Yeah, when I used to profile Haskell stuff, often it would just say that parsing was the main thing using heap
[16:57:35] <tjc> and it's like
[16:57:35] <tjc> sure
[16:57:39] <tjc> parsing is what creates the AST
[16:57:43] <tjc> so I shouldâ€¦ not create the AST?
[16:57:45] <graydon> jdm: no, just .. it's tempting at a first glance to look at only one (and its children) and forget the other
[16:57:57] <jdm> yep, got it.
[16:58:34] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[16:59:27] <jack> can you not have a field in a struct that holds a trait pointer?
[16:59:43] <jdm> "not" in what sense?
[16:59:51] <jack> do i have to cast it with as?
[16:59:57] <jdm> yep
[17:00:06] <jdm> that's how you get trait pointers
[17:00:24] <jack> is it always an @-ptr or is it possible to use ~-ptrs?
[17:01:01] <jclements> tjc: we decided there's no meeting, is that right?
[17:01:12] <jdm> jack: ~ and & are also valid
[17:01:28] <tjc> jclements: meeting is in 1 minute, in theory
[17:01:31] <jdm> ~-ptrs can only come from ~ objects, of course
[17:01:31] <tjc> right, graydon?
[17:01:40] <jclements> tjc: in the bridge?
[17:01:46] <tjc> yeah
[17:01:55] <jclements> tjc: okay, I'm heading up.
[17:02:03] <graydon> that's what zimbra says
[17:02:15] <benh> By the way, did the person who posted the "Boxed traits in generics" message to the list just run into a bug?
[17:02:22] *** Quits: jclements (jclements@2557E599.66715431.D25A875A.IP) (Quit: jclements)
[17:02:22] <graydon> I'm not about to "decide" anything different and last minute that'll lose any more attendees!
[17:02:23] *** Quits: seth (seth@5AAE35B2.5EFFC0B8.24454B25.IP) (Input/output error)
[17:02:58] <benh> I thought he must have, but the only reply really is "no, you can't use boxed traits for that, use static polymorphism" which seems surprising
[17:03:13] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[17:03:32] *** Quits: sankha93 (Instantbir@ECF3ECD8.A5E24E6D.8B6C1D65.IP) (Ping timeout)
[17:04:14] *** Quits: goffrie (gzsong@moz-65A98BE.csclub.uwaterloo.ca) (Client exited)
[17:04:20] *** Joins: jclements (jclements@2557E599.66715431.D25A875A.IP)
[17:04:36] <jclements> tjc: holy crabâ€¦ there are a *lot* of people in the bridge right now.
[17:04:46] <tjc> jclements: MTV-Bridge?
[17:04:48] <graydon> not rust people?
[17:04:56] <tjc> it's just graydon , jack, nmatsakis and pnkfelix as far as I can see
[17:04:58] <jclements> tjc: waitâ€¦ the bridge says it's occupied until *15:00* today.
[17:05:03] <graydon> oooookay
[17:05:19] <jclements> tjc: I'm going to try dialing in using vidyo...
[17:05:37] <tjc> jclements: sometimes the physical room and the vidyo room get used for different things
[17:06:27] *** Quits: Jesin (Jessin_@moz-D59031C.eecs.lehigh.edu) (Ping timeout)
[17:07:40] *** Joins: azita (Azita@2557E599.66715431.D25A875A.IP)
[17:07:47] *** Joins: lkuper (lkuper@moz-D6AAFF3.cs.indiana.edu)
[17:08:11] <jclements> azita: the physical bridge is occupied.
[17:08:28] <azita> jclements: we're in CYA
[17:09:03] <azita> guys please call CYA room
[17:09:56] *** Quits: victorporof (victorporo@CDD95F1.20718EE9.79933D60.IP) (Ping timeout)
[17:10:26] <bjz_> what's the 'MTV-Bridge' thing?
[17:10:41] <bjz_> somewhere at mozilla?
[17:10:53] <jack> yeah, they are conference rooms. MTV == Mountain View office
[17:10:58] <bjz_> ahhh
[17:11:18] <pauls> But they don't play music videos, either.
[17:11:26] <bjz_> ha
[17:11:31] <bjz_> shame
[17:11:34] <bjz_> anctually
[17:11:37] <bjz_> good
[17:12:05] *** Quits: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP) (Quit: eatkinson)
[17:14:02] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[17:14:10] *** kimundi is now known as zz_kimundi
[17:14:39] <MaikKlein> has anyone saw a blogpost about error handling yet? Kinda wanna see error handling in action
[17:14:55] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[17:14:55] *** ChanServ sets mode: +o brson
[17:15:05] *** Quits: z0w0 (zack@moz-780F7535.lns9.cha.bigpond.net.au) (Quit: Leaving.)
[17:15:19] <cmr> MaikKlein: Just look through pretty much any part of rustc
[17:15:33] <cmr> std::result
[17:15:41] <MaikKlein> ah right haven't done that yet
[17:15:52] <cmr> There's also conditions but I don't know how they work :)
[17:16:17] <tjc> cmr: they're surprisingly simple, I recommend just looking at the unit tests in the conditions module itself :-)
[17:16:36] *** Joins: pcwalton (pcwalton@2557E599.66715431.D25A875A.IP)
[17:16:36] *** ChanServ sets mode: +o pcwalton
[17:16:38] <benh> Are conditions used in rustc?
[17:17:26] * bjz_ loves the sandess conditions
[17:17:33] <bjz_> *sadness
[17:17:37] <bjz_> :)
[17:17:57] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[17:18:08] <tjc> benh: a little bit; they should be used more, it's just that the code was written when conditions didn't exist
[17:18:17] <bjz_> please don't decuteify those tests :)
[17:18:46] <MaikKlein> where can I find the condition module?
[17:18:59] <bjz_> std::condition
[17:19:02] <cmr> MaikKlein: https://github.com/mozilla/rust/blob/master/src/libcore/condition.rs
[17:19:16] <MaikKlein> thanks
[17:19:18] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[17:19:40] <cmr> pcwalton: is there going to be a rename of libcore->libstd and libstd->libextra in the directory tree?
[17:19:54] <pcwalton> cmr: it should be done in the directory tree now
[17:19:58] <pcwalton> unless i'm misunderstanding
[17:20:07] <cmr> oh I'm looking at master
[17:20:30] <cmr> MaikKlein: https://github.com/mozilla/rust/blob/incoming/src/libstd/condition.rs
[17:21:02] *** Joins: bytbox (s@moz-2E27684C.student.umd.edu)
[17:21:24] <bjz_> cmr: that's always confusing
[17:21:33] *** Joins: jviereck (Adium@moz-BA1D85DC.dclient.hispeed.ch)
[17:22:57] <MaikKlein> okay what is this ? 'self
[17:23:18] <MaikKlein> i saw that earlier too with static
[17:23:28] <MaikKlein> is this symbol in the manual somehwere?
[17:23:40] <bjz_> lifetimes!
[17:23:40] <MaikKlein> the '
[17:24:02] <benh> ' introduces a lifetime name (if it's not a char literal)
[17:24:33] <MaikKlein> what is a lifetime name? :)
[17:24:49] <benh> they get declared in those <> type parameter lists and basically parameterize a &-pointer over a scope in which it'll remain usable
[17:25:26] <pnkfelix> 5734
[17:25:27] <cmr> MaikKlein: http://static.rust-lang.org/doc/tutorial-borrowed-ptr.html
[17:25:51] *** Quits: bnicholson (bnicholson@moz-E98974C1.hsd1.ca.comcast.net) (Ping timeout)
[17:25:55] <bstrie> wow, that's quite a flame graph
[17:26:30] <pnkfelix> 5718
[17:26:54] <MaikKlein> ah thanks haven't looked at the advanced stuff yet
[17:27:56] *** Quits: davbo (dave@moz-3FFA637C.oucs.ox.ac.uk) (Client exited)
[17:28:03] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Quit: Computer has gone to sleep.)
[17:28:23] <pnkfelix> 5639
[17:29:22] <pnkfelix> 5557
[17:30:00] *** Joins: pyrac (pyrac@moz-D851FA22.w92-149.abo.wanadoo.fr)
[17:30:11] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[17:30:14] <pnkfelix> 5529
[17:30:39] <cmr> pnkfelix: yes?
[17:30:56] <pnkfelix> cmr: I'm tracking something for an ongoing mtg b/c people kept asking for reminder of current numberr
[17:32:09] <pnkfelix> 5521
[17:32:15] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[17:32:15] *** Joins: solancile (solancile@moz-A1CFFAE5.hsd1.wa.comcast.net)
[17:32:19] *** Joins: int3_ (int3_@moz-B7B5F043.singnet.com.sg)
[17:32:32] <pnkfelix> cmr: in future I will try to get us to go to a separate room or etherpad, but switching right now will impede flow.
[17:32:38] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Quit: Computer has gone to sleep.)
[17:33:43] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Client exited)
[17:34:04] *** Quits: int3_ (int3_@moz-B7B5F043.singnet.com.sg) (Ping timeout)
[17:34:05] *** Joins: mschifer (Adium@2557E599.66715431.D25A875A.IP)
[17:35:12] *** zz_kimundi is now known as kimundi
[17:35:21] <pnkfelix> 5516
[17:35:30] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[17:36:12] *** Joins: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[17:36:52] <pnkfelix> 5489
[17:36:54] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[17:37:35] *** Joins: bbrittain (mozilla@2557E599.66715431.D25A875A.IP)
[17:38:50] <pnkfelix> 5462
[17:40:33] <pnkfelix> 5416
[17:40:59] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[17:41:16] *** Joins: tikue (tkuehn@2557E599.66715431.D25A875A.IP)
[17:42:27] <MaikKlein> what are you counting again?
[17:42:43] *** Joins: bnicholson (bnicholson@2557E599.66715431.D25A875A.IP)
[17:42:57] <pnkfelix> MaikKlein: its a cursor for the current github issue under discussion
[17:43:25] *** Joins: bnicholson_ (bnicholson@2557E599.66715431.D25A875A.IP)
[17:43:53] <pnkfelix> 5402
[17:44:22] *** Quits: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Leaving...)
[17:45:10] <pnkfelix> 5362
[17:45:17] <pnkfelix> shoot
[17:45:24] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[17:45:27] <pnkfelix> 5363
[17:45:42] <pnkfelix> 5269
[17:46:21] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[17:48:04] <pnkfelix> 5261
[17:48:42] <pnkfelix> 5236
[17:49:15] <bstrie> so rust lets you use generic functions imported from other libraries... is this something that C++ doesn't have, or that it requires headers to do?
[17:49:18] <bstrie> <-- bad at C++
[17:49:39] <cmr> bstrie: templates need to be in headers, yes.
[17:49:51] *** Quits: jviereck (Adium@moz-BA1D85DC.dclient.hispeed.ch) (Quit: Leaving.)
[17:50:00] <pnkfelix> 5221
[17:50:25] <bstrie> cmr: so how does rust solve it? I've heard something about encoding generics metadata into the binaries
[17:50:36] <cmr> bstrie: I don't know.
[17:50:38] <cmr> :)
[17:50:47] <bstrie> cmr: I demand that you find out
[17:50:48] <cmr> <-- bad at rust
[17:51:57] <erickt> hrm, I don't think the unused imports lint check works with glob importsâ€¦
[17:52:01] <cmr> bstrie: looking through the nm dump, I'm guessing they are the tydesc_* stuff
[17:52:09] *** Joins: thomaslee__ (thomaslee@moz-D4A96DE7.dia.static.qwest.net)
[17:52:21] <bstrie> cmr: then you must make a journey, far to the east. there you will find a mountain whose peak is eternally obscured by clouds. you must climb this mountain, and when you have reached the top, you must use the terminal to ask questions in #rust. then you will achieve enlightenment
[17:52:21] <cmr> erickt: why would you want it it too?
[17:52:22] *** Joins: jviereck (Adium@moz-BA1D85DC.dclient.hispeed.ch)
[17:52:37] <pnkfelix> 5153
[17:52:46] *** Quits: thomaslee_ (thomaslee@moz-6C3931E3.static.twtelecom.net) (Ping timeout)
[17:53:34] <pnkfelix> 4981
[17:53:48] *** Joins: victorporof (victorporo@7362939B.70F4578F.79933D60.IP)
[17:53:58] *** Joins: thomaslee_ (thomaslee@moz-6C3931E3.static.twtelecom.net)
[17:54:43] *** Quits: thomaslee__ (thomaslee@moz-D4A96DE7.dia.static.qwest.net) (Ping timeout)
[17:55:58] <pnkfelix> 4807
[17:56:00] *** Joins: steven_is_false (user@moz-144077DE.bchsia.telus.net)
[17:56:57] <MaikKlein> i am so in love with rust
[17:57:37] <EXetoC> <3
[17:57:47] <pnkfelix> 4725
[17:57:51] <Yurume> wo-uh, I'm trying to make my code compile in both 0.6 and 0.7-pre
[17:58:01] <cmr> Yurume: an effort destined to fail
[17:58:04] <Yurume> ...and it is complicated by lifetimes! ;)
[17:58:12] <cmr> as soon as core->std lands
[17:58:12] <jesse98> did you ever get rparse updated cmr?
[17:58:27] <pnkfelix> 4712
[17:58:32] <cmr> jesse98: I think it's ~80% done
[17:58:40] <Yurume> cmr, ...in the presence of --cfg legacy macro for 0.6.
[17:58:43] <cmr> jesse98: want me to push what I have to my fork?
[17:58:49] <jesse98> I had always found it a challenge in the past :-)
[17:58:49] <Yurume> macro? option.
[17:59:02] <jesse98> if you have a remote fork setup, sure
[17:59:06] <MaikKlein> btw can I spawn remote tasks like remote actors?
[17:59:23] <Yurume> unless 0.7 will be released in this month I have to support both 0.6 and 0.7-pre
[17:59:46] <Yurume> #[cfg(legacy)] and #[cfg(not(legacy))] things are nifty but lifetime problems are harder to solve
[17:59:57] <pnkfelix> 4678
[18:00:32] *** Quits: bytbox (s@moz-2E27684C.student.umd.edu) (Ping timeout)
[18:00:43] <pnkfelix> 4636
[18:00:53] *** Quits: tikue (tkuehn@2557E599.66715431.D25A875A.IP) (Quit: tikue)
[18:00:58] <steven_is_false> How well specified is modular arithmetic on unsigned values in Rust? I was thinking of representing angles as something along the lines of (max_value () * (Î¸ / 2Ï€)) (Not sure how to get rid of the duplicate representation of 2Ï€ as 0, or the max value though.
[18:01:13] <Yurume> well, time is up, I'll go to sleep...
[18:01:16] <pnkfelix> 4566
[18:01:31] <pnkfelix> 4402
[18:02:09] <cmr> jesse98: https://github.com/cmr/rparse/commit/5aef9a7105bd4622eef9050d30f78a4398676ce2
[18:02:36] <cmr> Oh great, and Durable went away between when I did this and now..
[18:02:43] *** Quits: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP) (Quit: eatkinson)
[18:02:44] <cmr> whoops, wrong rustc
[18:02:48] *** Quits: jclements (jclements@2557E599.66715431.D25A875A.IP) (Quit: jclements)
[18:02:51] <pnkfelix> okay i'm done, thanks for putting up with me everyone
[18:03:01] *** Quits: pcwalton (pcwalton@2557E599.66715431.D25A875A.IP) (Quit: pcwalton)
[18:03:54] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[18:03:57] <cmr> jesse98: currently have: src/parsers.rs:866:58: 866:60 error: mismatched types: expected `&fn(&('a,'b), +:&'a) -> &'a` but found `&fn(&('a,'b), &'a) -> 'a` (expected &-ptr but found type parameter)
[18:04:00] <cmr> src/parsers.rs:866                         let value = vec::foldr(terms, e3, cl);
[18:04:14] <jdm> pnkfelix: what was that?
[18:04:24] <cmr> been working on other things, though
[18:04:31] <jesse98> I'm sure you'll get many more once you start hitting the later compiler passes cmr :-)
[18:04:33] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Ping timeout)
[18:04:37] <cmr> yup :)
[18:04:45] <pnkfelix> jdm: I was abusing the chat room tracking a cursor.
[18:04:50] <erickt> cmr: I'm getting a lot of warnings of "warning: unused â€¦", but when you remove it you get a compile error. It's rather obnoxious
[18:04:51] <jdm> heh
[18:05:07] <cmr> erickt: #[cfg(stage0)] it, is the usual remedy
[18:05:13] <cmr> erickt: it's dying in the later stages, yeah?
[18:05:18] *** Joins: tcsc (tcsc@moz-A838B260.dhcp.nwtn.ct.charter.com)
[18:05:41] <erickt> cmr: I tried that, and still ran into issues
[18:06:07] *** Joins: jclements (jclements@2557E599.66715431.D25A875A.IP)
[18:07:23] *** Joins: tikue (tkuehn@2557E599.66715431.D25A875A.IP)
[18:07:26] *** Quits: EXetoC (ex@moz-2DBEB1E4.customer.t3.se) (Quit: WeeChat 0.4.1)
[18:09:35] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[18:10:00] *** Joins: catpig (catpig@moz-C8A9C85E.dip0.t-ipconnect.de)
[18:10:23] *** Quits: paulproteus (quassel@rose.makesad.us) (Ping timeout)
[18:11:18] *** Joins: Jesin (Jessin_@moz-D59031C.eecs.lehigh.edu)
[18:12:03] *** Joins: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[18:12:26] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[18:12:26] *** Joins: paulproteus (quassel@moz-E86A3B42.makesad.us)
[18:12:59] *** Joins: seth (seth@5AAE35B2.5EFFC0B8.24454B25.IP)
[18:12:59] <bstrie> hm, are rust source code files required to be utf-8?
[18:13:24] <cmr> yes
[18:13:30] <bstrie> good
[18:15:04] *** Quits: seth (seth@5AAE35B2.5EFFC0B8.24454B25.IP) (Ping timeout)
[18:16:34] *** Quits: jviereck (Adium@moz-BA1D85DC.dclient.hispeed.ch) (Quit: Leaving.)
[18:17:01] *** kimundi is now known as zz_kimundi
[18:18:06] *** Joins: jviereck (Adium@moz-BA1D85DC.dclient.hispeed.ch)
[18:18:11] <cmr> "Between  the boolean section and the number section, a null byte will be inserted, if necessary, to ensure that the number section begins on an even byte"
[18:18:25] <cmr> The one paragraph I ignore is the one that bites me in the ass
[18:18:33] * cmr is bad at reading
[18:19:24] <cmr> rusti: 3 % 2
[18:19:25] -rusti- 1
[18:19:45] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[18:26:22] *** Quits: tjc (tjc@moz-E0677B46.vc.shawcable.net) (Quit: Places to go, people to annoy)
[18:26:57] *** Joins: bytbox (s@moz-2E27684C.student.umd.edu)
[18:27:40] *** Quits: cowboyd (cowboyd@moz-1BD02A1E.sw.biz.rr.com) (Client exited)
[18:31:08] <MaikKlein> is it possible to write undefined behavior in rust?
[18:32:32] <steven_is_false> RngGen ().rand () ?
[18:33:30] <steven_is_false> MaikKlein: More seriously though there a bunch of low-level undefined things one can do.
[18:35:56] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[18:35:56] *** ChanServ sets mode: +o brson
[18:36:05] <bstrie> imo there's a difference between "undefined behavior" and "defined to mess you up if you attempt this"
[18:36:20] *** Joins: Axord (xord@moz-C3CCF156.lsanca.dsl-w.verizon.net)
[18:36:42] *** Joins: cowboyd (cowboyd@1D8844A7.1B729417.CEE440B6.IP)
[18:37:12] <steven_is_false> bstrie: Doesn't the C standard use implementation defined, and undefined for them?
[18:38:08] <SiegeLord> You need a spec before something can be undefined
[18:38:12] <bstrie> steven_is_false: to my knowledge there's no "undefined behavior" in the rust spec, but that doesn't mean that dropping into unsafe code and dereferencing a null pointer is defined
[18:38:41] *** Quits: vmx (vmx@moz-1C249253.pools.arcor-ip.net) (Quit: Leaving)
[18:38:43] <steven_is_false> bstrie: Or using asm! ()
[18:40:03] *** Quits: BitPuffin (quassel@moz-8370D1B9.bredband.comhem.se) (Ping timeout)
[18:40:12] *** zz_kimundi is now known as kimundi
[18:41:03] *** Quits: lkuper (lkuper@moz-D6AAFF3.cs.indiana.edu) (Ping timeout)
[18:41:55] *** Joins: BitPuffin (quassel@moz-8370D1B9.bredband.comhem.se)
[18:41:57] *** Quits: mye (mye@moz-B1A48CF6.dip0.t-ipconnect.de) (Ping timeout)
[18:42:21] *** Joins: mye (mye@moz-5E55807E.dip0.t-ipconnect.de)
[18:45:26] *** Joins: pcwalton (pcwalton@2557E599.66715431.D25A875A.IP)
[18:45:26] *** ChanServ sets mode: +o pcwalton
[18:47:53] <steven_is_false> Okay floating point numbers are annoying. I'm getting a value which is output as zero but that is not compared as equal to zero.
[18:48:48] <MaikKlein> how do you output this value?
[18:49:11] <friggle> acrichto: are those graphs you just posted in #6637 from massif?
[18:49:16] <steven_is_false> MaikKlein: Just with fail! (fmt! ("Blurb text %?", zero))
[18:49:23] <acrichto> friggle: yes
[18:49:31] <friggle> neat
[18:49:48] <acrichto> yeah I never knew what it was until now, but it's pretty useful!
[18:50:03] <steven_is_false> How can I do multiline strings in Rust?
[18:50:24] <MaikKlein> is there a float version for fmt! ?
[18:50:29] <MaikKlein> I thought it is for int only
[18:51:09] <MaikKlein> so you probably have to do float::to_string(f); or sth
[18:52:32] <SiegeLord> fmt! handles pretty much everything
[18:53:16] <cmr> rusti: fmt!("%?", 0.52513)
[18:53:17] -rusti- ~"0.52513"
[18:53:19] <cmr> rusti: fmt!("%f", 0.52513)
[18:53:21] -rusti- ~"0.52513"
[18:53:27] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[18:53:38] <MaikKlein> hm okay 
[18:53:55] <cmr> %? will take anything you throw at it.
[18:54:42] *** Quits: fireglow (fireglow@moz-DC22A4B9.firc.de) (Quit: leaving)
[18:55:09] *** Quits: tikue (tkuehn@2557E599.66715431.D25A875A.IP) (Ping timeout)
[18:55:10] <cmr> rusti: enum foo {A, B, C]; let x = A; fmt!("%?", x)
[18:55:11] -rusti- foo.rs:5:26: 5:27 error: incorrect close delimiter: `]`
[18:55:11] -rusti- foo.rs:5          enum foo {A, B, C]; let x = A; fmt!("%?", x)
[18:55:11] -rusti-                                    ^
[18:55:17] <cmr> rusti: enum foo {A, B, C}; let x = A; fmt!("%?", x)
[18:55:18] -rusti- ~"A"
[18:55:39] <MaikKlein> ok now I wanna look at fmt! :D
[18:56:07] *** Joins: EXetoC (ex@moz-2DBEB1E4.customer.t3.se)
[18:56:09] *** Quits: sam1 (sam@moz-ADDDDFB1.mc.videotron.ca) (Quit: WeeChat 0.4.0)
[18:56:31] *** Joins: tikue (tkuehn@2557E599.66715431.D25A875A.IP)
[18:57:31] *** Joins: lkuper (lkuper@290F781E.FFCF2A3B.51B6877.IP)
[18:57:39] *** Joins: sam1 (sam@moz-ADDDDFB1.mc.videotron.ca)
[18:57:48] <h3r3tic> whoa, it prints enum names? that's awesome :)
[18:58:04] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[18:58:12] *** Quits: jorendorff (jorendorff@moz-1747FB68.hsd1.tn.comcast.net) (Ping timeout)
[18:58:42] <bstrie> is anyone else bothered by the ~"" bits that %? gives you? I get that it's reflecting on the type, which is ultimately a string, but it's still annoying :P
[18:59:34] <cmr> no
[18:59:54] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Connection reset by peer)
[18:59:55] <sp3d> rusti: println(fmt!("%?", 4))
[18:59:56] -rusti- 4
[19:00:04] *** Quits: solancile (solancile@moz-A1CFFAE5.hsd1.wa.comcast.net) (Ping timeout)
[19:00:10] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[19:00:16] <cmr> afaik what fmt gives you is also a valid literal for the value you feed it
[19:00:22] <MaikKlein> where is fmt! defined, it should be in the core right? 
[19:00:22] <sp3d> rusti: fmt!("%?", 4)
[19:00:23] -rusti- ~"4"
[19:00:24] *** Parts: steven_is_false (user@moz-144077DE.bchsia.telus.net) (ERC Version 5.3 (IRC client for Emacs))
[19:00:28] <MaikKlein> ok its libstd now 
[19:00:30] <MaikKlein> probably
[19:00:34] <bstrie> ah right
[19:00:38] <cmr> MaikKlein: no, it's a syntax extension in...
[19:00:48] <bstrie> I was thinking of error!() and friends, which always wrap your variables in the ~"" when printing
[19:00:55] <bstrie> because they're probably just doing fmt! internally
[19:01:19] <bstrie> rusti: error!(1)
[19:01:20] -rusti- rust: ~"1"
[19:02:17] <sp3d> mm, that does seem extraneous
[19:03:40] <cmr> MaikKlein: libsyntax/ext/fmt.rs
[19:03:43] *** Quits: \n (NDesaulnie@2557E599.66715431.D25A875A.IP) (Ping timeout)
[19:04:22] <MaikKlein> ah there it is thank you very much
[19:04:48] *** Joins: \n (NDesaulnie@43CB6079.66715431.D25A875A.IP)
[19:05:23] *** Quits: bytbox (s@moz-2E27684C.student.umd.edu) (Ping timeout)
[19:07:04] *** Quits: MaikKlein (maik@moz-8B7A1D66.dip0.t-ipconnect.de) (Ping timeout)
[19:09:04] <bstrie> is `extern mod foo` syntax for using the FFI deprecated?
[19:09:45] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[19:11:06] <bjz_> yep
[19:11:20] <bjz_> extern "C" { }
[19:11:38] *** Joins: jorendorff (jorendorff@moz-1747FB68.hsd1.tn.comcast.net)
[19:11:56] *** Quits: lkuper (lkuper@290F781E.FFCF2A3B.51B6877.IP) (Ping timeout)
[19:12:35] <bstrie> I really just want a version of the C tutorial that doesn't require me to install anything, because I'm a systems dunce :P
[19:13:20] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[19:13:32] *** Joins: tjc (tjc@A5087023.2354C43D.D8E68FF6.IP)
[19:13:32] *** ChanServ sets mode: +o tjc
[19:13:33] <EXetoC> bjz_: and just 'extern'?
[19:14:54] <EXetoC> I remember extern "C" not working after that update, but both seems to work in my lib, though I haven't used it in an app yet
[19:17:23] *** Joins: solancile (solancile@moz-A1CFFAE5.hsd1.wa.comcast.net)
[19:19:32] *** Quits: Blub\w (wry@moz-A4D44E79.wireless.dyn.drei.com) (Ping timeout)
[19:21:03] *** Joins: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[19:21:45] <jclements> who introduced the new "unneccessary allocation" warning? I like it a lot!
[19:21:55] <cmr> acrichto
[19:22:54] *** Joins: hansjorg_ (hansjorg@moz-1D800A00.dsl.no.powertech.net)
[19:23:37] <acrichto> jclements: although sanxiyn is about to make it apply to more than just function calls
[19:24:49] <pauls> Wooo! 256 users!
[19:26:28] <bstrie> ...why do I have to `use core;` inside of submodules?
[19:27:58] *** Quits: jorendorff (jorendorff@moz-1747FB68.hsd1.tn.comcast.net) (Ping timeout)
[19:27:59] *** bnicholson is now known as bnicholson|lunch
[19:29:20] *** Joins: jorendorff (jorendorff@moz-1747FB68.hsd1.tn.comcast.net)
[19:30:10] *** Quits: judder (maradukewa@CF01B517.FDE2B133.950D3BB5.IP) (Ping timeout)
[19:31:01] *** Quits: novabyte (Instantbir@moz-3E0F9699.cable.virginmedia.com) (Quit: bye bye)
[19:32:41] *** Quits: \n (NDesaulnie@43CB6079.66715431.D25A875A.IP) (Quit: \n)
[19:32:55] <bstrie> ah weird, you have to put `pub extern` if you want any of the contained functions to be visible outside the module
[19:33:21] *** Quits: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl) (Client exited)
[19:33:47] <cmr> I'm pretty sure that extends to the users of your module too.
[19:33:56] *** Quits: zxcdw (r-a@moz-C7C5467B.cust.bredband2.com) (Ping timeout)
[19:35:49] *** Quits: Jesin (Jessin_@moz-D59031C.eecs.lehigh.edu) (Ping timeout)
[19:37:13] *** Quits: jorendorff (jorendorff@moz-1747FB68.hsd1.tn.comcast.net) (Ping timeout)
[19:37:18] *** Joins: zxcdw (r-a@moz-C7C5467B.cust.bredband2.com)
[19:38:25] *** Quits: bbrittain (mozilla@2557E599.66715431.D25A875A.IP) (Quit: bbrittain)
[19:42:47] *** Joins: Blub\w (wry@moz-FC341D0C.wireless.dyn.drei.com)
[19:43:30] *** Joins: kud1ing (Mibbit@moz-D0EFC33D.pools.arcor-ip.net)
[19:43:41] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[19:44:41] *** Quits: tikue (tkuehn@2557E599.66715431.D25A875A.IP) (Quit: tikue)
[19:44:41] *** Quits: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP) (Quit: eatkinson)
[19:44:43] * kud1ing wonders whether @cmr has seen #6702
[19:45:01] <cmr> kud1ing: nope
[19:45:06] *** Joins: bbrittain (mozilla@2557E599.66715431.D25A875A.IP)
[19:47:37] *** Quits: fabiand (fabiand@moz-68EEC8CB.adsl.alicedsl.de) (Quit: Verlassend)
[19:48:26] <cmr> rusti: struct Monster; fn Monster() { };
[19:48:28] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/dWIC
[19:48:33] <kud1ing> i like those usability-fixes almost as much as the big language/compiler improvements
[19:48:45] <cmr> Hrmph
[19:49:02] <cmr> rusti: struct Monster; let Monster: int = 5;
[19:49:04] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/CCJS
[19:49:17] <kud1ing> oh
[19:49:26] <cmr> rusti: struct Monster(int); let Monster: int = 5;
[19:49:28] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/SVNa
[19:49:38] <cmr> rusti: struct Monster {a: int}; let Monster: int = 5;
[19:49:39] -rusti- foo.rs:5:38: 5:45 warning: unused variable: `Monster` [-W unused-variable (default)]
[19:49:39] -rusti- foo.rs:5          struct Monster {a: int}; let Monster: int = 5;
[19:49:40] -rusti-                                                ^~~~~~~
[19:49:40] -rusti- note: in expansion of fmt!
[19:49:40] -rusti- foo.rs:4:12: 6:7 note: expansion site
[19:49:43] <cmr> There we are.
[19:50:26] <eevee> oh THIS is why irssi has been flashing at me for no apparent reason all week
[19:50:32] <bstrie> haha
[19:50:35] <bstrie> blame strcat!
[19:50:44] <bjz_> blame irssi
[19:50:46] <bstrie> well, really, blame people abusing the bots
[19:51:16] <EXetoC> or irssi :p
[19:51:18] <cmr> rusti: struct Monster {a: int}; let m = Monster();
[19:51:20] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/DAaV
[19:51:35] <bjz_> cmr: what are you trying to do?
[19:51:37] <cmr> that's a really weird error
[19:51:44] <cmr> bjz_: playing with https://github.com/mozilla/rust/issues/6702
[19:51:54] <Luqman> my irssi doesn't really notify me of notices, but it does show up in my hilight window but that's just because i'm too lazy  to change that
[19:52:08] <eevee> i should certainly blame something; these don't count as highlights which is why i had no idea where they came from.  but they bell.
[19:52:10] <bstrie> my irssi neither pings me nor shows notices in my highlight window
[19:52:12] <bstrie> so hooray!
[19:52:35] <zxcdw> bstrie: that!
[19:53:03] <cmr> rusti: struct monster {a: int}; fn monster() {}; let m = Monster();
[19:53:04] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/FDUM
[19:53:12] <cmr> rusti: struct monster {a: int}; fn monster() {}; let m = monster();
[19:53:13] -rusti- foo.rs:5:55: 5:56 warning: unused variable: `m` [-W unused-variable (default)]
[19:53:13] -rusti- foo.rs:5          struct monster {a: int}; fn monster() {}; let m = monster();
[19:53:13] -rusti-                                                                 ^
[19:53:13] -rusti- note: in expansion of fmt!
[19:53:13] -rusti- foo.rs:4:12: 6:7 note: expansion site
[19:53:24] <bjz_> eevee: apparently rusti's use of NOTICE is to spec, but irssi doesn't treat it the right way
[19:53:28] *** Quits: Blub\w (wry@moz-FC341D0C.wireless.dyn.drei.com) (Ping timeout)
[19:53:41] <cmr> Anyone know whether fns go in the typens or the valuens?
[19:53:52] <cmr> valuens, I'm thinking
[19:53:57] *** Joins: Blub\w (wry@moz-FC341D0C.wireless.dyn.drei.com)
[19:54:15] *** Quits: heftig (heftig@moz-59C01F9A.dip0.t-ipconnect.de) (Ping timeout)
[19:54:39] <zxcdw> Why does rusti send a notice in the first place and not just normal privmsg to the channel?
[19:55:00] <cmr> zxcdw: http://tools.ietf.org/html/rfc1459.html#section-4.4.2
[19:55:45] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Computer has gone to sleep.)
[19:56:04] <eevee> huh, didn't know that
[19:56:56] <zxcdw> same, although the reasoning seems weird in this case imo
[19:57:07] <zxcdw> But whatever the spec says!
[19:57:10] *** Joins: Jesin (Jessin_@moz-D59031C.eecs.lehigh.edu)
[19:57:19] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[19:57:20] <cmr> supposedly rusti caused a feedback loop with another bot in one of the channels he's in
[19:57:35] *** Joins: heftig (heftig@moz-F654C133.dip0.t-ipconnect.de)
[19:57:55] <bstrie> hence we must all suffer
[19:58:07] <eevee> it appears irssi doesn't have separate message levels for private notices and channel notices
[19:58:10] <bstrie> or at least reconfigure irssi
[19:58:23] <cmr> all you peons still using irssi deserve suffering :p
[19:58:28] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[19:58:34] <bstrie> brb writing terminal-based irc in rust
[19:58:36] <cmr> weechat master race
[19:58:57] *** Quits: kud1ing (Mibbit@moz-D0EFC33D.pools.arcor-ip.net) (Quit: http://www.mibbit.com ajax IRC Client)
[19:59:01] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Quit: Leaving)
[20:00:14] <eevee> bstrie: ++
[20:01:46] <bstrie> I'll call it irk (eye-arr-kay) in reference to how irked I am at irssi. and then in ten years I'll insist that everyone pronounce it "jif"
[20:02:05] <cmr> hahah
[20:02:27] <eevee> genius
[20:03:05] *** Quits: solancile (solancile@moz-A1CFFAE5.hsd1.wa.comcast.net) (Ping timeout)
[20:06:03] <samnardoni> anyone started work on an autocompletion daemon for rust?
[20:06:10] <cmr> no but please do that
[20:06:21] <cmr> I would love to have proper completion with YCM
[20:06:23] <bstrie> samnardoni: theoretically it should be possible by leveraging the compiler itself as a library
[20:06:56] <bstrie> but I think you'd have to wait for runtimeless rust unless your editor just so happened to also be written in rust
[20:07:05] *** Quits: haard (fredrik@moz-6A86987C.dynamic.se.alltele.net) (Ping timeout)
[20:07:25] <cmr> bstrie: that's the point of a daemon; you can hit it over a pipe or socket
[20:07:26] *** Joins: MaikKlein (maik@moz-8B7A1D66.dip0.t-ipconnect.de)
[20:07:48] <bstrie> ah right
[20:08:24] <samnardoni> the de-facto Go autocompletion daemon is at https://github.com/nsf/gocode if you're interested
[20:08:48] *** Quits: jviereck (Adium@moz-BA1D85DC.dclient.hispeed.ch) (Quit: Leaving.)
[20:11:29] <MaikKlein> what editor do you use for rust?
[20:11:35] <cmr> I use vim
[20:11:38] <bstrie> vim
[20:12:15] <MaikKlein> is it true that vim has error detection for rust?
[20:12:25] <cmr> Yes, if you use syntastic.
[20:12:29] <bstrie> what
[20:12:39] <bstrie> what is this sorcery
[20:12:51] <cmr> https://github.com/scrooloose/syntastic/blob/master/syntax_checkers/rust/rustc.vim
[20:13:52] <MaikKlein> never used vim before :) 
[20:14:12] *** Joins: diegoyam_ (quassel@FF9B1514.A4EC3D18.3A1EC144.IP)
[20:14:45] <bstrie> MaikKlein: it's like playing a video game, except you're ostensibly doing something useful
[20:15:02] <cmr> in fact, it *is* a video game! http://vim-adventures.com/
[20:15:24] <bstrie> hahaha, what
[20:15:31] <bstrie> bookmarked for later
[20:15:50] <sam1> IÂ use a dvorak keyboard layout though >(
[20:15:55] *** Joins: \n (NDesaulnie@2557E599.66715431.D25A875A.IP)
[20:16:21] <cmr> yeah. I tried using dvorak and colemac, and while I really liked them, I just couldn't use vim anymore, so I stopped :(
[20:16:29] <bstrie> sam1: fork vim and produce dvimak
[20:16:44] <sam1> I have remapped keys already so I'm alright
[20:17:10] <kimundi> Danmn you kb-layout-dependent games!
[20:17:16] <sam1> exactly
[20:17:46] <sam1> I can't play it with vimperator, anyway
[20:18:54] <MaikKlein> haha iam gonna play this game
[20:19:37] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[20:19:48] <cmr> rusti: 0xFFFE
[20:19:50] -rusti- 65534
[20:20:10] *** Joins: deLta30_ (quassel@6E44E4E.6BBD8207.622A08E2.IP)
[20:20:29] *** Quits: deLta30 (quassel@5F76EC65.38B2EFD6.A05B35DF.IP) (Ping timeout)
[20:20:36] *** Quits: pyrac (pyrac@moz-D851FA22.w92-149.abo.wanadoo.fr) (Quit: pyrac)
[20:21:21] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[20:21:31] <kimundi> rusti: 96u as char
[20:21:32] -rusti- '`'
[20:21:50] <kimundi> rusti: 0xFFFFFFu as char
[20:21:51] -rusti- '\U00ffffff'
[20:22:02] <kimundi> rusti: 0xFFFFFFFFu as char
[20:22:03] -rusti- rust: task failed at 'assertion failed: s.len() <= pad', /build/rust-incoming-git/src/rust/src/libcore/char.rs:207
[20:22:03] -rusti- rust: domain main @0x18711b0 root task failed
[20:22:03] <MaikKlein> do you know if there is a syntax checker for other editors :D ?
[20:22:39] <cmr> probably not, but it'd be really easy to add with the editor's extension api, using rustc --parse-only
[20:23:07] *** jdm is now known as jdm|away
[20:24:03] *** Joins: hjr3 (hradtke@moz-AE3056B9.static.stls.mo.charter.com)
[20:24:44] *** Quits: deLta30_ (quassel@6E44E4E.6BBD8207.622A08E2.IP) (Connection reset by peer)
[20:25:47] *** Joins: deLta30 (quassel@11AC52F3.2170BEB9.110F01C1.IP)
[20:26:08] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[20:27:18] *** Joins: steven_is_false (user@moz-144077DE.bchsia.telus.net)
[20:28:09] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[20:29:44] *** Quits: Blub\w (wry@moz-FC341D0C.wireless.dyn.drei.com) (Ping timeout)
[20:29:52] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Ping timeout)
[20:30:09] *** Joins: alexrp_ (zor@moz-180BED6.rfw.name)
[20:30:13] *** Quits: alexrp_ (zor@moz-180BED6.rfw.name) (Quit: alexrp_)
[20:30:36] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[20:30:47] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[20:31:25] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[20:33:03] *** Joins: jviereck (Adium@moz-BA1D85DC.dclient.hispeed.ch)
[20:33:29] *** Quits: jviereck (Adium@moz-BA1D85DC.dclient.hispeed.ch) (Quit: Leaving.)
[20:33:58] <tedh> pcwalton: can you check pr #6704, its more library renaming fallout, should pass make check now
[20:38:47] <sam1> rust 1 will be the stable version, right?
[20:38:55] <bstrie> sam1: yes
[20:39:09] <bstrie> well, the backwards-compatible version
[20:39:27] <sam1> do you believe it will become popular?
[20:40:24] *** bnicholson|lunch is now known as bnicholson
[20:40:48] <kimundi> sam1: Well we hope it will
[20:41:10] <heftig> MaikKlein: there's one for gedit (and other users of gtksourceview)
[20:41:35] <bstrie> sam1: it takes many years for languages to achieve popularity on a wide scale. what really matters is that the language has enough momentum to keep growing
[20:41:39] <heftig> MaikKlein:  one for emacs and one for kate
[20:42:03] <bstrie> consider how guido spent 16 years working on python before anyone bothered to notice :P
[20:42:04] <MaikKlein> @heftig do you mean highlighting or syntax checking?
[20:42:13] <heftig> MaikKlein: highlighting
[20:42:24] <MaikKlein> yeah I am already using sublime for that :)
[20:43:07] <sam1> 16 years, really?
[20:43:11] <MaikKlein> rust is a really wonderful language 
[20:43:22] <bstrie> sam1: python came out in 1989
[20:43:25] <bstrie> or at least
[20:43:35] *** Quits: Jesin (Jessin_@moz-D59031C.eecs.lehigh.edu) (Ping timeout)
[20:43:36] <bstrie> sort-of-came-out in an unstable fashion
[20:43:41] * tjc waits for someone to say "I wasn't born yet in 1989!"
[20:43:50] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[20:43:53] <kimundi> "I wasn't born yet in 1989!"
[20:43:54] <indutny> hi guys
[20:43:57] <indutny> I need some help
[20:43:58] <tjc> :P
[20:44:05] <sam1> IÂ wasn't born either
[20:44:07] <graydon> anyone else seen "entry function not found" recently?
[20:44:14] <kimundi> indutny: Don't we all?
[20:44:14] <bstrie> wikipedia says 1991, though
[20:44:15] <indutny> I get segfault
[20:44:16] <tjc> <--- is old
[20:44:21] <indutny> err
[20:44:24] <indutny> I'm getting segfault
[20:44:34] <indutny> https://gist.github.com/indutny/e22fa745f65a80aafcb9
[20:44:42] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[20:45:01] <bstrie> Python was conceived in the late 1980s[15] and its implementation was started in December 1989[16] by Guido van Rossum at CWI in the Netherlands as a successor to the ABC language (itself inspired by SETL)[17] capable of exception handling and interfacing with the Amoeba operating system.
[20:45:03] <indutny> and that happens there https://github.com/indutny/linearscan.rs/blob/master/src/linearscan/liveness.rs#L174
[20:45:08] <graydon> tjc: I'm turning 36 in 2 weeks..
[20:45:09] <indutny> any help would be appreciated
[20:45:09] <indutny> thanks
[20:45:15] <tjc> graydon: you're older :-D
[20:45:33] <graydon> there are 247 people here, there's no way I'm the oldest of the bunch
[20:45:44] <sam1> well, I know it's old, but IÂ don't know when it became popular
[20:45:57] <tjc> indutny: it may be related to this compiler bug - https://github.com/mozilla/rust/issues/4439
[20:46:13] <tjc> indutny: if it is related, it's because by-move self doesn't completely work -- try using vec::filtered and see if it helps
[20:46:15] <graydon> yeah, it's that
[20:46:23] <graydon> by-move self on [].filter
[20:46:27] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[20:46:38] <kimundi> Old people, speak out! Make graydon feel better about himself!
[20:46:46] <graydon> I do not feel old, but .. occasionally things surprise me
[20:46:52] <graydon> like "people born _after_ the soviet union"
[20:46:56] <EXetoC> I'm younger!
[20:46:58] <graydon> then I blink
[20:47:58] <tedh> don't worry graydon, i've got 12 years on you
[20:48:04] <graydon> phew
[20:48:09] <kimundi> :D
[20:50:04] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[20:50:11] <graydon> um, this is kinda messed up. I was not getting "entry function not found" in this repo yesterday. I did not update anything. it's still on a not-rebased branch. what's going on?
[20:50:12] <graydon> hmmm
[20:50:39] <graydon> oh
[20:50:48] * graydon goes off to congratulate self
[20:51:01] <tjc> well, tell us what it was, at least
[20:51:06] <sam1> rust looks a bit like ruby
[20:51:14] <MaikKlein> btw is someone here who doesn't or hasn't studied computer science?
[20:51:17] <graydon> there is no entry function. it's a file I was working on with --test
[20:51:22] <graydon> \o/
[20:51:25] <tjc> aha!
[20:51:37] <bstrie> MaikKlein: I have a degree in it, but it would be a stretch to say that I have studied it
[20:51:49] <graydon> I've forgotten most of it?
[20:52:11] <sam1> MaikKlein: me
[20:52:26] <graydon> degree from 12 years ago, speaking of feeling old
[20:52:33] <sam1> wait
[20:52:33] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[20:52:33] <MaikKlein> :D
[20:52:46] <indutny> tjc: thanks
[20:52:48] <kimundi> graydon: About that 'currently number parsing always allocates' issue. Would it be alright for the float parser to use a stack allocated buffer as long as it is large enough, and fall back to an ~[] if it's full?
[20:53:06] <graydon> number parsing or printing?
[20:53:23] <kimundi> err, printingf
[20:53:40] <kimundi> sorry :)
[20:53:53] <MaikKlein> well I am only in my 4th semester, so still a long way to go :)
[20:53:54] <graydon> sure. I mean, floats are quite special-case; I think we format about 10e7 more ints and uints than we do floats
[20:54:04] *** Joins: jorendorff (jorendorff@moz-B860E258.hsd1.tn.comcast.net)
[20:54:11] <graydon> if you can get the int and uint paths into non-allocation, it'll be a big win
[20:54:17] <graydon> and those have upper bounds
[20:55:02] <kimundi> yeah, ints, uints and floats would all use a stack buffer, but in the case of floats there is no reasonable upper limit for it's size.
[20:55:27] *** Joins: judder (maradukewa@CF01B517.FDE2B133.950D3BB5.IP)
[20:55:30] <graydon> you might enjoy http://research.swtch.com/ftoa
[20:55:33] <graydon> if you haven't read it yet
[20:55:45] *** Quits: Palmik (palmik@moz-DADC71F0.pks.muni.cz) (Quit: Lost terminal)
[20:56:32] <kimundi> I've alread read three different papers, and have decided that I'm not smart enough yet to implement something other than a naive implementation xD
[20:56:46] <graydon> though I'm not clear on whether that "plenty" bound is really "plenty" or if you can actually make an unbounded float format using, I dunno, repeating decimal subseqeuces or something?
[20:56:47] <tjc> sometimes naive is good enough :-)
[20:56:53] *** Joins: pyrac (pyrac@moz-D851FA22.w92-149.abo.wanadoo.fr)
[20:57:09] <graydon> kimundi: that page is about the naive algorithm, it's just an especially short, clear presentation of it.
[20:57:51] <graydon> I don't know how I feel about Î´ showing up in numerical code
[20:58:06] <graydon> better or worse than variables called "delta"?
[20:59:01] <MaikKlein> I would always prefer delta, dunno why
[20:59:38] <bstrie> only greeks shall be allowed to write our numerical code
[20:59:53] <kimundi> graydon: Well that page seems to be just about base 10. which is what you want in 99% the time, but...
[20:59:54] <bstrie> the descendants of pythagoras himself
[21:00:16] <graydon> kimundi: oh, you intend to do float conversion to any radix?
[21:00:26] <graydon> I guess
[21:00:40] <kimundi> graydon: Well it would be nice to have. It's what the current does.
[21:00:51] *** Quits: bbrittain (mozilla@2557E599.66715431.D25A875A.IP) (Quit: bbrittain)
[21:00:54] <graydon> k
[21:00:57] <kimundi> rusti: 159.985f.to_str_radix(36u)
[21:00:58] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/YLIU
[21:01:34] <kimundi> rusti: float::to_str_radix(159.985f, 36u)
[21:01:35] -rusti- /usr/local/bin/rust.sh: line 21:     4 Killed                  rustc foo.rs
[21:01:38] <tedh> was bors turned off for the direct push to incoming last night, or is it stuck?
[21:01:45] <graydon> turned off
[21:01:51] <kimundi> rusti: float::to_str_radix(159.985f, 10u)
[21:01:52] -rusti- line longer than 150 columns, pastebinned: http://sprunge.us/WQbX
[21:01:52] <graydon> awaiting incoming-being-fixed
[21:02:25] <kimundi> rusti: "?"
[21:02:26] -rusti- "?"
[21:02:31] *** Quits: pyrac (pyrac@moz-D851FA22.w92-149.abo.wanadoo.fr) (Ping timeout)
[21:02:51] <kimundi> rusti: 159.985f.to_str()
[21:02:52] -rusti- /usr/local/bin/rust.sh: line 21:     4 Killed                  rustc foo.rs
[21:02:57] <kimundi> hum...
[21:03:18] <kimundi> rusti: let x: float = 159.985f; x.to_str()
[21:03:19] -rusti- /usr/local/bin/rust.sh: line 21:     4 Killed                  rustc foo.rs
[21:03:35] <kimundi> Strange
[21:03:54] <tedh> ok, is it correct that the only bots that do a full make check are also the only bots that build 32 bit?
[21:05:48] <MaikKlein> do tasks in rust care if they are on your local machine or on a different machine? Something like remote actors 
[21:06:10] <indutny> tjc: thanks
[21:06:12] <indutny> I'll try it
[21:06:18] <tjc> indutny: you're welcome
[21:06:39] <indutny> yeah, seems to be working
[21:06:41] <bstrie> MaikKlein: no remote tasks right now, but since there's no shared memory it should be possible while preserving the same sort of API
[21:08:02] <kimundi> graydon: Anyway, from what I've found out so far there seems to be an algorithm that can optimal float->string in base10 conversion on 99.6% of all floats just using u64. For the rest and other cases an algorithm is needed that uses bignums, and str->float is similar complex
[21:08:36] <graydon> um, ok!
[21:08:47] <graydon> as I say, I'm much more concerned with performance of uint and int formatting
[21:08:52] <graydon> whatever works for float, go for it
[21:08:59] <kimundi> If you want allways the shortest possible output that reads back to the same value, that is.
[21:10:36] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[21:11:20] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Input/output error)
[21:11:31] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[21:12:45] <graydon> uh oh. trie itself has a bug.
[21:12:50] <graydon> that explains what I'm seeing!
[21:14:08] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[21:15:59] *** Quits: Ralith (ralith@moz-50F3C77.vc.shawcable.net) (Ping timeout)
[21:16:32] *** Quits: MaikKlein (maik@moz-8B7A1D66.dip0.t-ipconnect.de) (Ping timeout)
[21:16:47] <pcwalton> incoming works again
[21:16:48] <pcwalton> well
[21:16:51] <pcwalton> as working as it's ever been
[21:16:53] *** Quits: maxli (maxli@F2D29657.F60B0462.67AC9B1.IP) (Quit: Leaving.)
[21:18:06] <graydon> do we know what the ebml failure on mac is?
[21:18:16] <graydon> ebml::tests::test_option_int
[21:18:53] <samnardoni> if I was to attempt a rust autocompletion daemon, where would be the best place to look? libsyntax?
[21:19:22] *** Joins: mhamrick (mhamrick@2557E599.66715431.D25A875A.IP)
[21:20:21] <tjc> samnardoni: that and rustdoc, I'm guessing
[21:20:35] <tjc> I would imagine rustdoc already does some of the indexing you would need
[21:20:41] <bjz_> nmatsakis: getting wierd things:
[21:20:42] <bjz_> src/mat.rs:454:36: 454:41 error: cannot borrow `*self` as mutable more than once at at a time
[21:20:42] <bjz_> src/mat.rs:454         util::swap(self.col_mut(a), self.col_mut(b));
[21:21:00] <samnardoni> tjc: sweet, thanks
[21:21:04] *** Joins: tikue (tkuehn@2557E599.66715431.D25A875A.IP)
[21:22:11] <brson> graydon: this ebml failure has been appearing and disappearing for weeks. there's an XXX logging statement in ebml.rs that at one point succeeded in working around the problem
[21:22:20] <brson> i386 only i think
[21:22:21] <graydon> amazing
[21:22:27] <graydon> ok, erm
[21:22:34] <graydon> shall I turn bors back on then?
[21:23:00] <brson> yes, please
[21:23:14] <graydon> enabled
[21:23:57] *** Quits: hjr3 (hradtke@moz-AE3056B9.static.stls.mo.charter.com) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[21:27:28] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[21:27:28] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1477e831f to 146e2b082: 02http://git.io/N3iJvQ
[21:27:28] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[21:27:59] *** Joins: bbrittain (mozilla@2557E599.66715431.D25A875A.IP)
[21:33:47] <bjz_> nmatsakis: ohh
[21:34:00] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[21:35:29] <bjz_> nmatsakis: util::swap doesn't do the same thing as <-> it seems
[21:38:06] *** Quits: cowboyd (cowboyd@1D8844A7.1B729417.CEE440B6.IP) (Client exited)
[21:38:12] <Luqman> rustc: /scratch/laden/rust2/src/rt/boxed_region.cpp:75: void boxed_region::free(rust_opaque_box*): Assertion `box->td != __null' failed.
[21:38:16] <Luqman> :(
[21:38:42] *** Joins: Ralith (ralith@moz-6809779E.wireless.sfu.ca)
[21:40:11] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[21:43:00] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[21:44:22] *** Joins: Jesin (Jessin_@moz-48B48C95.eecs.lehigh.edu)
[21:45:30] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[21:46:16] *** jdm|away is now known as jdm
[21:47:23] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[21:50:21] <pcwalton> whee, we're relying on calling unsafe methods in many places
[21:50:42] *** Quits: Ralith (ralith@moz-6809779E.wireless.sfu.ca) (Ping timeout)
[21:51:00] *** Joins: Ralith (ralith@moz-6809779E.wireless.sfu.ca)
[21:53:00] <zxcdw> Now lets take a guess how many safety violating bugs there are!
[21:54:04] <Diablo-D3> all of them!
[21:56:18] *** Joins: pyrac (pyrac@moz-D851FA22.w92-149.abo.wanadoo.fr)
[21:56:42] <tjc> none, of course, because each person who wrote the relevant bit of code would have satisfied the unstated proof obligation
[21:58:05] *** Quits: pyrac (pyrac@moz-D851FA22.w92-149.abo.wanadoo.fr) (Ping timeout)
[21:58:12] <bjz_> "when in doubt, unsafe it"
[21:58:29] <bjz_> :D
[21:59:22] <bjz_> Luqman: could I have some assistance with some lifetime issues in lmath?
[22:00:08] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Quit: Leaving)
[22:01:28] *** Quits: mhamrick (mhamrick@2557E599.66715431.D25A875A.IP) (Quit: mhamrick)
[22:01:47] <graydon> um, ok
[22:02:56] <graydon> the dense bitmap runs about 2x faster than the trie when allocations are reasonably well-clustered
[22:03:02] <graydon> memory use though, hmmm
[22:03:23] <pcwalton> 2x faster, nice
[22:03:39] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[22:03:40] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/DFTZPg
[22:03:40] <ghrust> 13rust/06auto 1400d99d0 15Graydon Hoare: fix the check-stageN-doc-$doc targets, close #5661
[22:03:40] <ghrust> 13rust/06auto 14b55ce7e 15bors: auto merge of #6689 : graydon/rust/issue-5661-doc-test-targets, r=brson...
[22:03:40] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[22:04:32] *** Joins: mhamrick (mhamrick@2557E599.66715431.D25A875A.IP)
[22:05:28] <tedh> oh, auto does a full make check
[22:05:59] *** Quits: victorporof (victorporo@7362939B.70F4578F.79933D60.IP) (Quit: victorporof)
[22:06:01] <tedh> thats not going to work without something like pr #6704
[22:06:04] *** Quits: Guest_ (textual@BBE7C46A.B4F11D08.8612FA94.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[22:09:39] *** Quits: zxcdw (r-a@moz-C7C5467B.cust.bredband2.com) (Ping timeout)
[22:09:58] *** Joins: zxcdw (r-a@moz-C7C5467B.cust.bredband2.com)
[22:11:06] *** Quits: Ralith (ralith@moz-6809779E.wireless.sfu.ca) (Ping timeout)
[22:11:07] *** Joins: Ralith (ralith@moz-6809779E.wireless.sfu.ca)
[22:12:28] *** Quits: mye (mye@moz-5E55807E.dip0.t-ipconnect.de) (Quit: mye)
[22:13:44] <acrichto> how can you tesll rustc about type parameters on trait bounds? https://gist.github.com/alexcrichton/5639877
[22:14:24] <acrichto> the error is with B::foo(t), it just can't be called
[22:15:25] *** Joins: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net)
[22:15:33] *** Quits: judder (maradukewa@CF01B517.FDE2B133.950D3BB5.IP) (Ping timeout)
[22:15:54] *** Quits: wilsonk|2 (kvirc@moz-39EFBFC2.cg.shawcable.net) (Ping timeout)
[22:16:03] <zxcdw> What's the _ in input parameters to a function? :o
[22:16:29] <tjc> zxcdw: it means that the function ignores this argument
[22:16:37] <tjc> adding the _ stops the compiler from warning about the unused argument
[22:16:42] <zxcdw> Ah, okay
[22:17:04] <zxcdw> But the : &int type specifier is useless too in a sense then?
[22:17:09] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[22:20:02] *** bent is now known as bent|brb
[22:21:50] <nmatsakis> bjz_: how so?
[22:23:03] *** Quits: Jesin (Jessin_@moz-48B48C95.eecs.lehigh.edu) (Quit: Leaving)
[22:23:12] *** Joins: Thad (chatzilla@moz-C35F90AE.tx.res.rr.com)
[22:23:14] *** Quits: Ralith (ralith@moz-6809779E.wireless.sfu.ca) (Ping timeout)
[22:23:42] <nmatsakis> bjz_: what is self.col_mut()? I don't think this error has to do with swap vs <->...?
[22:25:13] *** Joins: snearch (snearch@moz-3F4E20CB.pool.mediaways.net)
[22:28:07] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Quit: Eaten by a grue)
[22:28:46] *** Quits: wizeman (quassel@moz-C1AB58EC.dyn.user.ono.com) (Ping timeout)
[22:32:37] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[22:35:45] <bjz_> nmatsakis: I got it
[22:36:00] <bjz_> nmatsakis: swap exchanges pointers
[22:36:51] <bjz_> nmatsakis: where as self.col_mut(i) gets a tempary &mut to a field in a struct
[22:37:08] <bjz_> nmatsakis: the solution was to make a temporary variable
[22:37:13] *** Joins: MaikKlein (maik@moz-8B7A1D66.dip0.t-ipconnect.de)
[22:37:21] <bjz_> and do it the 'ol fasioned way
[22:37:25] <nmatsakis> bjz_: ok. This is the major limitation of the borrowck you are running against, I think.
[22:37:42] <bjz_> nmatsakis: well, it's understandable
[22:37:44] <nmatsakis> bjz_: that is, that you would need a method like "self.cols_mut(i,j) -> (&mut, &mut)"
[22:37:52] <nmatsakis> bjz_: that creates the two pointers in one atomic action
[22:38:14] <nmatsakis> bjz_: and probably that function would have to be unsafe, since we can't reason about the vales of i and j and know that they are !=
[22:38:25] <bjz_> you can't swap the pointers two two fields in a struct
[22:38:30] * nmatsakis shades of typestate
[22:38:47] <nmatsakis> bjz_: you should be able to do this: util::swap(&mut x.a, &mut x.b)
[22:38:51] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[22:39:12] <nmatsakis> because there the borrow checker can track
[22:39:18] <bjz_> nmatsakis: https://github.com/bjz/lmath-rs/blob/master/src/mat.rs#L1560
[22:39:34] <bjz_> is what I did
[22:39:46] <nmatsakis> rusti: struct S { a: int, b: int} let mut x = S { a: 1, b: 2 }; util::swap(&mut x.a, &mut x.b); x
[22:39:47] <bjz_> still running into some more lifetime issues too
[22:39:47] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/GSjE
[22:40:01] <nmatsakis> rusti: struct S { a: int, b: int} let mut x = S { a: 1, b: 2 }; core::util::swap(&mut x.a, &mut x.b); x
[22:40:02] -rusti- {a: 2, b: 1}
[22:40:07] <bjz_> oh
[22:40:10] <bjz_> dang
[22:40:51] <bjz_> nmatsakis: the col_mut thing is me hanging out for an index-assign trait x)
[22:41:43] <nmatsakis> bjz_: structs are the easy case though, code like you wrote is harder, since it involves both indices and non-local reasoning (i.e., the method `col_mut`)
[22:41:56] <nmatsakis> bjz_: anyway, let me know if I can help with the further issues you are encountering
[22:42:17] <bjz_> let mut xs = [1, 2, 3]; core::util::swap(&mut xs[1], &mut xs[2])
[22:42:25] <bjz_> let mut xs = [1, 2, 3]; core::util::swap(&mut xs[1], &mut xs[2]); xs
[22:42:35] *** Joins: igl1 (igl@moz-C416C1D2.adsl.alicedsl.de)
[22:42:49] *** Quits: steven_is_false (user@moz-144077DE.bchsia.telus.net) (Ping timeout)
[22:43:02] <strcat> bjz_: you have to use the vec's swap method
[22:43:10] *** Joins: steven_is_false (user@moz-144077DE.bchsia.telus.net)
[22:43:15] *** Quits: igl (igl@moz-EE4B3E2F.adsl.alicedsl.de) (Ping timeout)
[22:43:18] <bjz_> nmatsakis: https://github.com/bjz/lmath-rs/blob/master/src/mat.rs#L1468
[22:43:20] <strcat> otherwise it thinks you're aliasing
[22:43:34] <bjz_> nmatsakis: I also had to put a temorary there
[22:43:46] <strcat> bjz_: rusti let mut xs = [1, 2, 3]; xs.swap(1, 2); xs
[22:43:53] <strcat> rusti: let mut xs = [1, 2, 3]; xs.swap(1, 2); xs
[22:43:54] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/GaQQ
[22:43:55] <bjz_> strcat: ah
[22:43:56] <strcat> ugh
[22:44:04] <strcat> rusti: let mut xs = ~[1, 2, 3]; xs.swap(1, 2); xs
[22:44:05] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/NGcO
[22:44:10] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[22:44:13] *** Quits: donri (dag@moz-9BB61102.tbcn.telia.com) (Client exited)
[22:44:18] <strcat> rusti: let mut xs = ~[1, 2, 3]; vec::swap(xs, 1, 2); xs
[22:44:18] -rusti- ~[1, 3, 2]
[22:44:22] <strcat> yay for how terrible the vec module is ;p
[22:44:26] <bjz_> nmatsakis: I.col_mut(i).sub_self_v(&I[j].mul_t(A[i][j])) gave an error
[22:44:55] <bjz_> nmatsakis: same with https://github.com/bjz/lmath-rs/blob/master/src/mat.rs#L1459
[22:45:27] <nmatsakis> bjz_: this is definitely the torture case :), I mean these are all variants on the same problem.
[22:45:31] <bjz_> src/mat.rs:1468:49: 1468:50 error: cannot borrow `I` as immutable because it is also borrowed as mutable
[22:45:31] <bjz_> src/mat.rs:1468                         I.col_mut(i).sub_self_v(&I[j].mul_t(A[i][j]));
[22:45:31] <bjz_>                                                                  ^
[22:45:31] <bjz_> src/mat.rs:1468:24: 1468:25 note: second borrow of `I` occurs here
[22:45:31] <bjz_> src/mat.rs:1468                         I.col_mut(i).sub_self_v(&I[j].mul_t(A[i][j]));
[22:45:31] <bjz_>                                         ^
[22:45:53] <bjz_> nmatsakis: I aim to please :D
[22:46:04] <nmatsakis> basically, the borrow checker is trying to guarantee that your mutable borrows are unique,
[22:46:05] <steven_is_false> Hi! I've been working on my little game engine for a while now, and I'm almost ready to released to the public. My questions are: is the Rust packaging system mature enough to be used with a tiny project, what sort of projects packaging do you think could be useful to look at (for example, I'm taking a little bit of inspiration from GNU policy, and guidelines as applied to there GNU Hello project), and do you guys have any personal
[22:46:05] <steven_is_false> experience that you can share?
[22:46:21] <nmatsakis> bjz_: but it can't see through the indices and `col_mut` methods and so forth
[22:46:36] <nmatsakis> bjz_: I am not sure whta's the most elegant solution
[22:46:37] <bjz_> nmatsakis: of course
[22:47:01] <bjz_> steven_is_false: I don't think so, unfortunately :(
[22:47:08] <nmatsakis> bjz_: I mean, creating temporaries will work, but I guess is not the most efficient?
[22:47:18] <nmatsakis> though in this case, it's be ok.
[22:47:19] <bjz_> nmatsakis: no idea
[22:47:36] <bjz_> nmatsakis: it's a workaround at least
[22:47:37] <steven_is_false> bjz_: Fair enough.
[22:47:45] <nmatsakis> bjz: since presumably mul_t() is returning a new value
[22:47:51] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[22:47:55] <bjz_> nmatsakis: yup
[22:47:55] <MaikKlein> @steven where will you publish your engine? on github?
[22:48:00] <nmatsakis> bjz_: well, you are also running into the fact that &mut methods don't like to hvae other calls nested in their parameters
[22:48:29] <nmatsakis> bjz_: which will be fixed "soonish"
[22:48:51] <nmatsakis> bjz_: https://github.com/mozilla/rust/issues/6268
[22:48:53] <steven_is_false> MaikKlein: I'll probable publish on Gitorious.
[22:49:01] <bjz_> nmatsakis:
[22:49:01] <aatch|gone> steven_is_false, rustpkg /might/ be ok for a small package. No guarentees though
[22:49:03] <bjz_> rc/mat.rs:1646:30: 1646:36 error: borrowed value does not live long enough
[22:49:03] <bjz_> src/mat.rs:1646         self[3][2].approx_eq(&self[2][3])
[22:49:25] <bjz_> nmatsakis: https://github.com/bjz/lmath-rs/blob/master/src/mat.rs#L1646
[22:49:46] <steven_is_false> aatch|gone: If I break my package up into small subpackages is it possible to have the tiny subpackages use rustpkg but the toplevel package not?
[22:50:04] *** aatch|gone is now known as aatch
[22:50:09] <aatch> steven_is_false, no idea sorry
[22:50:18] <steven_is_false> aatch: Okay.
[22:50:30] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Quit: Lost terminal)
[22:50:35] <bjz_> nmatsakis: this is index: https://github.com/bjz/lmath-rs/blob/master/src/mat.rs#L1731
[22:50:35] *** Quits: Axord (xord@moz-C3CCF156.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[22:51:26] <bjz_> nmatsakis: and this is index on the vec4: https://github.com/bjz/lmath-rs/blob/master/src/vec.rs#L1211
[22:51:31] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[22:51:31] *** ChanServ sets mode: +o brson
[22:51:38] <nmatsakis> bjz_: what's the unsafe for in Index?
[22:51:43] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Textual IRC Client: www.textualapp.com)
[22:51:55] <bjz_> nmatsakis: I transmute the struct to a vector
[22:52:04] *** Joins: Sorella (queen@B12A78F5.BA14766C.95C8B7C6.IP)
[22:52:04] <MaikKlein> @steven could you post your Gitorious profile link? then I can follow you. I am quite interested in your engine :)
[22:52:10] <nmatsakis> bjz_: oh, I read that as transpose :)
[22:52:12] *** Joins: Jesse (jruderman@2557E599.66715431.D25A875A.IP)
[22:52:12] <bjz_> nmatsakis: and get the index of the vector
[22:52:17] <bjz_> :)
[22:52:58] <bjz_> nmatsakis: oh, and here's index_mut, which is kinda scary: https://github.com/bjz/lmath-rs/blob/master/src/vec.rs#L1186
[22:53:13] <steven_is_false> MaikKlein: Thank you, you can find me here: http://gitorious.org/~sstewartgallus
[22:55:17] <nmatsakis> bjz_: so, I am not sure precisely what's going on there, but it may we be warning you about something legitimate. basicaly, the x[i][j] setup you have is kind of inefficient, since it looks like x[i] returns a vector (which will copy it out) and then the [j] part indexes into that to yield a single scalar, and borrowck believes that this temporary won't live long enough. but i'm not sure it's right.
[22:55:49] <nmatsakis> this is a downside of the current [] overloading,
[22:55:50] *** Quits: mhamrick (mhamrick@2557E599.66715431.D25A875A.IP) (Quit: mhamrick)
[22:55:51] <bjz_> nmatsakis: yikes
[22:55:57] <nmatsakis> &x[i] looks like valid syntax,
[22:56:01] <nmatsakis> but it compiles to sometihng kind of goofy.
[22:56:29] <aatch> steven_is_false, looking through the rustpkg code seems to suggest that it probably works for simple projects.
[22:56:35] <MaikKlein> thanks this will be interesting. I am studying computer vision and I kinda started my own engine a while ago. But then I saw Rust which seems like a "perfect" fit
[22:56:41] * bjz_ is always annoying poor rustc
[22:56:43] <nmatsakis> arguably it should be a distinct trait, or the index trait should yield a pointer, I don't know.
[22:56:55] *** Joins: pyrac (pyrac@moz-D851FA22.w92-149.abo.wanadoo.fr)
[22:57:28] <steven_is_false> aatch: Cool.
[22:57:28] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Ping timeout)
[22:57:34] <bjz_> nmatsakis: maybe I need to leave lmath for another day :)
[22:57:48] <graydon> uh oh
[22:57:51] <graydon> hmm
[22:58:01] <bjz_> hum?
[22:58:06] <graydon> task local RNG is in @ heap
[22:58:14] <graydon> hashmap uses it
[22:58:18] <steven_is_false> MaikKlein: So are you working on the high level, and using libraries like OpenCV, or working on the low-level, and making alternatives to OpenCV?
[22:58:20] <graydon> meaning no hashmaps in implementation of gc
[22:58:25] <graydon> which is kinda weaksauce
[22:58:27] *** Quits: RMF (RMF@moz-58DFF2D4.dsl.telepac.pt) (Quit: Textual IRC Client: www.textualapp.com)
[22:58:47] *** Quits: pyrac (pyrac@moz-D851FA22.w92-149.abo.wanadoo.fr) (Ping timeout)
[22:59:34] <steven_is_false> graydon: If you're going to use hashing in gc doesn't that mean applications might be able to attacked by attackers creating pathological situations where the hash doesn't work too well (I heard of a similar bug in a filesystem driver which had to be fixed.)
[22:59:58] *** Joins: mhamrick (mhamrick@2557E599.66715431.D25A875A.IP)
[23:00:03] <graydon> steven_is_false: that's why there's an RNG in there
[23:00:22] <bjz_> graydon: http://i.imgur.com/OCM8jeB.jpg
[23:00:37] <graydon> steven_is_false: it's a strong keyed hash, randomly re-keyed for each table. all our hashtables are.
[23:01:16] <nmatsakis> graydon: yet more reason to make task-local not @, I guess...
[23:01:18] <graydon> oh, thankfully I can use a different ctor
[23:01:18] <MaikKlein> @steven I started completely from scratch because I wanted to learn everything in great detail. I first wrote an opengl layer and then I started to design my rendering engine with my own scenegraphs and AABB. It's mostly an educational project for now. 
[23:01:20] <graydon> no problem
[23:01:22] <graydon> (for now)
[23:01:30] <graydon> yes, eventually TLS should not use @, that is a mistake
[23:01:32] <steven_is_false> graydon: Cool it's nice to see that all the edge cases are being handled.
[23:01:38] <tedh> anybody want to r+ #6704 before bors makes someone else sad?
[23:02:08] <MaikKlein> also called salting :)
[23:02:16] <graydon> done
[23:02:27] <graydon> tedh: r+ p=999, should go in next
[23:02:36] <tedh> thanks
[23:02:46] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[23:02:46] *** ChanServ sets mode: +o brson
[23:03:13] *** Quits: Jesse (jruderman@2557E599.66715431.D25A875A.IP) (Ping timeout)
[23:03:15] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Client exited)
[23:03:23] *** Joins: Jesse (jruderman@2557E599.66715431.D25A875A.IP)
[23:03:35] <MaikKlein> wait what is computer vision in english? is this only image manipulation?
[23:03:47] <steven_is_false> So I should use rust pkg build dlfcn to build the dlfcn package?
[23:04:28] <steven_is_false> MaikKlein: That's so bizarre, salting is done when hashing passwords. So hash table, and passwords both need salting.
[23:04:40] *** Quits: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[23:06:00] <MaikKlein> I have not much experience in security stuff, that's what I picked up when I developed some web-applications :)
[23:06:12] <bjz_> steven_is_false: I just want to say I'm super interested to see your GE
[23:06:18] <bjz_> steven_is_false: 2D?
[23:06:25] *** Joins: ghrust (ghrust@AD60B2E3.6A2AE50.F3114085.IP)
[23:06:25] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14b55ce7e to 146e2b082: 02http://git.io/N3iJvQ
[23:06:25] *** Parts: ghrust (ghrust@AD60B2E3.6A2AE50.F3114085.IP) ()
[23:06:26] *** Joins: ghrust (ghrust@614D05BD.6A2AE50.F3114085.IP)
[23:06:26] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/Aa-iJg
[23:06:26] <ghrust> 13rust/06auto 1434cfd21 15Ted Horst: more testing fallout from core->std/std->extra move
[23:06:27] <ghrust> 13rust/06auto 14d49d0f8 15bors: auto merge of #6704 : tedhorst/rust/rename_lib_fixes, r=graydon...
[23:06:27] *** Parts: ghrust (ghrust@614D05BD.6A2AE50.F3114085.IP) ()
[23:06:36] <MaikKlein> yeah what are your project design decisions?
[23:07:06] <steven_is_false> bjz_: No I'm working in 3d.
[23:07:08] *** Joins: vcl (chatzilla@741D4FEA.76F9E272.DA40C4B3.IP)
[23:07:26] *** Quits: Jesse (jruderman@2557E599.66715431.D25A875A.IP) (Ping timeout)
[23:07:30] <bjz_> steven_is_false: niice
[23:07:38] <bjz_> steven_is_false: :)
[23:07:49] <MaikKlein> here hmm
[23:07:58] <MaikKlein> http://ttimo.typepad.com/blog/2013/05/es_core-an-experimental-framework-for-low-latency-high-fps-multiplayer-games.html
[23:08:03] <MaikKlein> this might be interesting to you
[23:08:22] *** Joins: Jesse (jruderman@2557E599.66715431.D25A875A.IP)
[23:08:52] <steven_is_false> MaikKlein: cool.
[23:09:12] <aatch> MaikKlein, "computer vision" is generally understood to mean the problem of computers analyzing images. So everything from edge detection to object classification
[23:09:20] <MaikKlein> oh
[23:09:37] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Ping timeout)
[23:09:45] <MaikKlein> what is the whole genre called? with opengl physics etc?
[23:09:45] <aatch> I can see how a non-native-english speaker could confuse that with computer /graphics/ though.
[23:10:29] <aatch> MaikKlein, well, just the entire rendering process is graphics. Adding physics pretty much just makes it game development.
[23:10:29] <steven_is_false> MaikKlein: I actually have a question you might be able to answer.
[23:10:32] <aatch> Or simulation.
[23:10:49] <steven_is_false> I was trying to use edge detection to get a cel-shading effect in my game.
[23:11:14] *** Joins: int3_ (int3_@moz-B7B5F043.singnet.com.sg)
[23:11:20] *** Quits: Jesse (jruderman@2557E599.66715431.D25A875A.IP) (Connection reset by peer)
[23:11:20] <steven_is_false> But I was trying to do so using the polygon surface normal information, and I couldn't figure out how to do it.
[23:11:25] *** Joins: Jesse (jruderman@2557E599.66715431.D25A875A.IP)
[23:11:27] <steven_is_false> Do you know if it's possible?
[23:12:03] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[23:12:03] *** ChanServ sets mode: +o brson
[23:12:23] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[23:13:47] <MaikKlein> hm give me a moment :)
[23:13:51] *** Joins: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net)
[23:14:45] <MaikKlein> if you are talking about polygons
[23:14:54] <MaikKlein> do you only have convex polygons?
[23:15:39] <MaikKlein> i don't know
[23:15:42] <MaikKlein> honestly
[23:15:53] <steven_is_false> MaikKlein: Fair enough.
[23:16:17] <MaikKlein> but still interesting to think about
[23:17:19] <MaikKlein> haven't too much experience with shaders yet. Most of my research went into game engine design
[23:17:41] <MaikKlein> such a huge topic :/
[23:17:49] *** Quits: int3_ (int3_@moz-B7B5F043.singnet.com.sg) (Client exited)
[23:17:53] <steven_is_false> MaikKlein: That's fair enough. Besides with shaders one has to deal with a whole bunch of nonsense incompatibilities, and breakage.
[23:19:18] <MaikKlein> but
[23:19:26] <MaikKlein> have you looked at this tutorial?
[23:19:26] <MaikKlein> http://ogldev.atspace.co.uk/www/tutorial39/tutorial39.html
[23:20:20] <steven_is_false> MaikKlein: Interesting.
[23:20:26] <graydon> rust: task failed at 'attempted remainder with a divisor of zero', /home/graydon/src/rust6/src/libcore/hashmap.rs:80
[23:20:28] <graydon> dawww
[23:20:37] <graydon> SO FRIENDLY
[23:20:47] <MaikKlein> :D
[23:21:25] <tjc> friendly would be "I'm sorry, I don't know how to divide by zero. Would you like a cookie?"
[23:21:26] <MaikKlein> does anyone know why everyone is using sdl2 instead of GLFW?
[23:21:46] <MaikKlein> probably a bit offtopic :D
[23:22:28] *** Quits: Jesse (jruderman@2557E599.66715431.D25A875A.IP) (Ping timeout)
[23:22:29] *** Joins: Jesse (jruderman@2557E599.66715431.D25A875A.IP)
[23:22:42] *** Quits: jorendorff (jorendorff@moz-B860E258.hsd1.tn.comcast.net) (Ping timeout)
[23:23:47] <bstrie> MaikKlein: bjz is all about glfw
[23:24:42] <MaikKlein> yeah I saw he already made some GLFW bindings
[23:24:43] <MaikKlein> awesome
[23:25:27] <MaikKlein> haha I just googled sdl2 vs glfw and I found this https://twitter.com/mitsuhiko/status/259766214396608513 Last post says " i want to make a rust binding..."
[23:25:34] <strcat> graydon: heh, how did that happen?
[23:25:36] <MaikKlein> seems like rust is getting popular :p
[23:25:45] *** Quits: vcl (chatzilla@741D4FEA.76F9E272.DA40C4B3.IP) (Ping timeout)
[23:26:08] <graydon> strcat: manual intervention, operator error :)
[23:26:42] <steven_is_false> ls
[23:26:44] *** Joins: vcl (chatzilla@741D4FEA.76F9E272.DA40C4B3.IP)
[23:26:45] <steven_is_false> Doh!
[23:26:48] *** Quits: Jesse (jruderman@2557E599.66715431.D25A875A.IP) (Ping timeout)
[23:26:58] <steven_is_false> doh should be a unix command actually
[23:28:11] <kimundi> he, who wants to build in a undocumented doh!() macro as easter egg?
[23:28:57] <kimundi> Expands to a random Simpsons quote on each compile ;)
[23:29:11] <MaikKlein> lol
[23:29:14] <MaikKlein> kinda want that
[23:29:35] *** Parts: \n (NDesaulnie@2557E599.66715431.D25A875A.IP) ()
[23:29:43] <tjc> licensing the quotes database would be a nightmare, though :-)
[23:30:27] *** Quits: Earnestly (earnest@6A917A59.5E1FD793.39C00A7A.IP) (Quit: WeeChat 0.4.1-rc2)
[23:31:47] <steven_is_false> So in OpenGL one can map two attributes to the same buffer right? And one attribute to the same buffer twice right?
[23:32:15] <steven_is_false> So than one could draw the scene twice, much easier.
[23:35:22] *** Joins: Earnestly (earnest@6A917A59.5E1FD793.39C00A7A.IP)
[23:37:03] <Jeaye> steven_is_false: You can bind multiple attribs to one buffer, yes.
[23:37:21] <Jeaye> Though you might want to look into instance rendering if you're drawing the same thing multiple times.
[23:37:28] <Jeaye> Depends how many times you're rendering it.
[23:37:32] <steven_is_false> Jeaye: You can also make them overlap.
[23:37:42] <Jeaye> Interleave, you mean?
[23:38:54] <steven_is_false> Jeaye: attribute vec4 position; attribute vec4 position1; attribute vec4 position2; attribute vec4 position3; . 
[23:39:40] <Jeaye> What about it?
[23:40:14] <steven_is_false> Jeaye: Then using the vertex_ID one should be able to get 4 values, float x, float y; float z; float w;
[23:40:40] <steven_is_false> Wait I'm wrong
[23:40:59] <Jeaye> What are you trying to do?
[23:41:12] <steven_is_false> What I mean is that one can have a single value vec2 position for each 4 vertices. 
[23:41:27] <Jeaye> yes
[23:42:28] <steven_is_false> I haven't checked how fast that method is though because my hardware only supports really low OpenGL.
[23:42:37] <MaikKlein> is there something wrong with this code?
[23:42:39] <MaikKlein> let receive = PortSet::new();
[23:42:46] <steven_is_false> And the higher OpenGL versions support better ways of doing the same thing.
[23:43:07] <steven_is_false> rusti: let receive = core::comm::PortSet::new (); "foo"
[23:43:08] -rusti- error: internal compiler error: unexpected failure
[23:43:08] -rusti- note: the compiler hit an unexpected failure path. this is a bug
[23:43:09] -rusti- note: try running with RUST_LOG=rustc=1,::rt::backtrace to get further details and report the results to github.com/mozilla/rust/issues
[23:43:39] <MaikKlein> yeah
[23:43:44] <Jeaye> ICE
[23:43:46] <MaikKlein> I get the same thing
[23:44:57] <MaikKlein> so I guess PortSet is currently broken?
[23:45:50] <bjz_> MaikKlein: https://github.com/bjz/glfw-rs/
[23:45:56] <steven_is_false> rusti: let receive : () = core::comm::PortSet::new (); "foo"
[23:45:58] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/MELb
[23:46:24] <steven_is_false> rusti: let receive : core::comm::PortSet <()> = core::comm::PortSet::new (); "foo"
[23:46:26] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/WRHZ
[23:46:38] <bjz_> MaikKlein: oh wait, it looks like you've already seen it
[23:46:53] <MaikKlein> yes :D
[23:47:01] <MaikKlein> @bjz
[23:47:10] <steven_is_false> MaikKlein: So it doesn't seem like it is totally broken.
[23:47:25] <bjz_> MaikKlein: unfortunately if you want maths you'll have to roll your own
[23:47:37] <bjz_> MaikKlein: my lib is broked majorly
[23:47:41] <bjz_> :(
[23:47:44] <MaikKlein> :(
[23:48:36] <bjz_> I think I have an idea for a temporary fix though
[23:49:02] <bjz_> MaikKlein: I don't suppose you are awesome at compilers? you can help me fix it! XD
[23:49:06] <MaikKlein> @steven thanks ok it just has to be  let receive : PortSet<int> = PortSet::new(); 
[23:49:12] <MaikKlein> haha
[23:49:12] <MaikKlein> :D
[23:49:20] <MaikKlein> I saw rust 2 days ago
[23:49:22] <MaikKlein> :p
[23:49:30] <MaikKlein> btw
[23:49:50] <MaikKlein> do you know why everyone is using sdl2 instead of glfw?
[23:49:56] <bjz_> no idea
[23:50:02] <bjz_> glfw is better imo
[23:50:14] <MaikKlein> even valve hired the guy who is responsible for sdl2
[23:50:29] <bjz_> glfw is simpler, lighter weight
[23:50:48] <MaikKlein> it does only window creator and input management and thats good
[23:50:50] <bjz_> trouble is that glfw3 has been a little under the radar
[23:50:52] <MaikKlein> creation*
[23:51:04] <bjz_> glfw2.7 isn't nearly as good
[23:51:23] <bjz_> but it's near release
[23:51:26] <MaikKlein> why? because now you can poll manually your events?
[23:51:27] <bjz_> any day now
[23:51:43] <bjz_> MaikKlein: removed features, nicer api
[23:51:54] <MaikKlein> okay that I can agree on
[23:52:07] <bjz_> MaikKlein: it's more to the spirit of what glfw should have been, funnily
[23:52:21] <bjz_> it's being done by a different dev now
[23:52:30] <steven_is_false> Okay I'm going to take a break now. Thanks for the conversation.
[23:52:36] <MaikKlein> bye
[23:52:37] *** Parts: steven_is_false (user@moz-144077DE.bchsia.telus.net) (ERC Version 5.3 (IRC client for Emacs))
[23:52:38] <SiegeLord> What good is a featureless library... sometimes it's nice to have the library do something for you
[23:52:39] <bjz_> MaikKlein: https://github.com/glfw/glfw/
[23:52:57] <bjz_> SiegeLord: lighter weight, simpler, more flexible
[23:53:15] <SiegeLord> Taffy is flexible... but you don't build buldings out of it :P
[23:53:23] <MaikKlein> @Siegelord you have better alternatives for tasks that are missing in glfw
[23:53:32] <bjz_> aye
[23:54:00] *** Joins: RMF (RMF@moz-58DFF2D4.dsl.telepac.pt)
[23:54:18] <bjz_> SiegeLord: it means it's more of an api
[23:55:17] *** bent|brb is now known as bent
[23:55:25] <bjz_> bar some things it's been reasonably nice to make an ideomatic wrapper around
[23:57:37] *** Joins: pyrac (pyrac@moz-D851FA22.w92-149.abo.wanadoo.fr)
[23:58:29] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[23:58:32] <SiegeLord> It seems subjective to me. There's plenty of arguments for a batteries included libraries like SDL too
[23:58:36] <a_m0d> Anyone know why rustc might complain about missing crate link metadata, even when I have it in there?
[23:58:39] <MaikKlein> how do I get a random number from 1-100?
[23:58:59] <bjz_> SiegeLord: agreed
[23:59:02] *** Joins: wuwei`lab (wuwei@1A513F49.818D7924.FAA9ED67.IP)
[23:59:25] *** Quits: pyrac (pyrac@moz-D851FA22.w92-149.abo.wanadoo.fr) (Ping timeout)
