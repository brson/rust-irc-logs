[00:10:09] *** Quits: dherman (dherman@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: dherman)
[00:10:24] <kmc> seems linked failure is broken again
[00:10:43] <kmc> if we want to keep that feature, we should devise a way to regression-test it
[00:11:05] <kmc> same for iframes but there's already a reftest, it's just disabled because iframes are broken atm
[00:11:35] <kmc> ("linked failure" is the wrong term, I mean the handling of task failure to display the "i tried" star)
[00:12:08] *** Quits: Rym (WUT@39CBEBF9.BF9A5138.8772DA20.IP) (Ping timeout)
[00:17:01] *** Joins: Rym (WUT@AC250667.5D2765E2.51C6DE68.IP)
[00:20:46] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[00:24:14] *** Quits: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com) (Quit: computer sleep)
[00:27:55] *** Joins: mccr8 (mccr8@moz-F6A7B612.dsl.dynamic.sonic.net)
[00:28:52] *** Quits: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca) (Quit: canhtak)
[00:29:22] *** Quits: gsnedders (gsnedders@C95C83A3.84389009.803EA162.IP) (Ping timeout)
[00:32:44] *** Joins: gsnedders (gsnedders@C95C83A3.84389009.803EA162.IP)
[00:43:22] *** Joins: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP)
[00:43:22] <ghservo> [13servo] 15lpy opened pull request #1802: Remove next_subpage_id argument from parse_html.(fixes #1801) (06master...06issue1801) 02http://git.io/F8-EMQ
[00:43:22] *** Parts: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP) ()
[00:46:15] *** Joins: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca)
[00:52:54] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[00:54:36] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[00:55:23] * kmc reviews
[00:55:47] <lpy> is `screen_size` in `LayoutTask` is the viewport I need to implement `clientWidth`?
[00:57:02] *** Quits: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca) (Quit: canhtak)
[00:57:02] <eddyb> lpy: when everything else fails... use a ruler :P
[00:57:09] *** Quits: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: azita)
[00:57:16] <eddyb> (and I mean one of those apps that let you measure in pixels)
[00:57:33] <eddyb> not cm, or worse, inches
[00:58:05] <lpy> joke?
[00:58:23] <eddyb> not just a joke
[00:58:26] *** Joins: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca)
[00:58:31] *** Joins: ghservo (ghservo@5AC7F92B.6A2AE50.F3114085.IP)
[00:58:31] <ghservo> [13servo] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/DXMfvg
[00:58:31] <ghservo> 13servo/06auto 14b13a7c7 15lpy: Remove next_subpage_id argument from parse_html.(fixes #1801)
[00:58:31] <ghservo> 13servo/06auto 144a6077c 15bors-servo: auto merge of #1802 : lpy/servo/issue1801, r=kmcallister...
[00:58:31] *** Parts: ghservo (ghservo@5AC7F92B.6A2AE50.F3114085.IP) ()
[00:58:45] <eddyb> you can measure and compare with other clients. though you should follow the spec. I dunno
[00:59:17] <lpy> okay. thank you :)
[01:07:19] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[01:09:44] *** Quits: june0cho (june0cho@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[01:09:45] *** Joins: june0cho (june0cho@5AB4884B.FCC4549.14D5B978.IP)
[01:13:24] *** Joins: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP)
[01:13:24] <ghservo> [13servo] 15kmcallister opened issue #1803: Failure handling crashes in local_heap 02http://git.io/QZoCLg
[01:13:24] *** Parts: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP) ()
[01:16:29] *** Quits: eibwen (kvirc@moz-D4DF209C.dip0.t-ipconnect.de) (Ping timeout)
[01:16:31] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[01:18:34] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[01:20:32] *** Joins: Armavica (virgile@moz-AD428ED7.ens.fr)
[01:22:27] *** Joins: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP)
[01:22:28] <ghservo> [13servo] 15bors-servo closed issue #1801: Remove next_subpage_id argument from parse_html 02http://git.io/5dvJNw
[01:22:28] *** Parts: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP) ()
[01:22:29] *** Joins: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP)
[01:22:30] <ghservo> [13servo] 15bors-servo closed pull request #1802: Remove next_subpage_id argument from parse_html.(fixes #1801) (06master...06issue1801) 02http://git.io/F8-EMQ
[01:22:30] *** Parts: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP) ()
[01:24:17] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[01:24:49] *** Quits: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca) (Quit: canhtak)
[01:25:51] <Armavica> hello, I would like to use mozilla-servo/rust-xlib in a project, but there is a couple of changes required to make it work with the latest rustc, would you mind if I updated it?
[01:28:39] *** Quits: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP) (Input/output error)
[01:29:20] *** Joins: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca)
[01:30:48] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[01:35:35] <kmc> Armavica: that sounds great, thanks for helping us out!  with our workflow we are able to merge your patches before Servo itself is ready to update
[01:39:09] *** Quits: jet (jet@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: jet)
[01:40:33] <Armavica> kmc: great, this is what I was worried about
[01:41:09] <kmc> Servo's repo contains Git submodules for all dependencies at the specific versions that will work
[01:41:42] *** Quits: mccr8 (mccr8@moz-F6A7B612.dsl.dynamic.sonic.net) (Quit: )
[01:45:54] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[01:53:36] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[01:53:41] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[01:55:16] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[01:56:44] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[02:01:25] *** Quits: azakai (alon@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[02:01:40] *** Quits: Jayflux (Jason@moz-696B1891.ppp.as43234.net) (Quit: Leaving)
[02:03:58] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[02:14:26] *** Joins: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP)
[02:14:26] <ghservo> [13servo] 15kmcallister opened pull request #1804: Reftest both CPU and GPU rendering (06master...06cpu-ref-test) 02http://git.io/vWPvTA
[02:14:26] *** Parts: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP) ()
[02:20:00] <lpy> how could I make the file I created be compiled?
[02:20:12] <kmc> what's the file?
[02:20:28] <lpy> I create the node_layout.rs under script/dom
[02:20:39] *** Quits: pcwalton (pcwalton@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: pcwalton)
[02:20:41] <kmc> add it to src/components/script/script.rs
[02:20:56] <lpy> thank you
[02:20:57] <kmc> which is the top-level Rust file for the script crate
[02:20:59] <kmc> np :)
[02:21:47] *** Quits: brson (brson@4A08E125.708C0A12.C7EEF3A2.IP) (Ping timeout)
[02:21:50] <lpy> oh I see. we can access `util` under dom by using `servo_util`?
[02:22:08] <kmc> yeah
[02:22:09] <kmc> extern mod servo_util = "util";
[02:22:23] <kmc> I don't know why the rename... possibly so you can also use std::util
[02:23:26] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[02:29:01] *** Joins: ghservo (ghservo@2DCF43EA.6A2AE50.F3114085.IP)
[02:29:01] <ghservo> [13servo] 15pradeep90 opened pull request #1805: Implement `position: absolute` for replaced elements. (06master...06replaced-absolute-position) 02http://git.io/cJVLTg
[02:29:01] *** Parts: ghservo (ghservo@2DCF43EA.6A2AE50.F3114085.IP) ()
[02:29:59] *** Quits: nrc (nrc@F16146EB.9D3722BB.58DC3EE6.IP) (Ping timeout)
[02:30:47] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[02:30:48] *** Joins: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP)
[02:30:49] <ghservo> [13servo] 15kmcallister opened issue #1806: Automated testing for task failure handling 02http://git.io/iO7Kaw
[02:30:49] *** Parts: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP) ()
[02:37:01] <pradeep> larsberg: ping
[02:37:57] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[02:40:08] <larsberg> pradeep: unfortunately we are at the rust workweek and heading for dinner :( 
[02:41:57] <pradeep> oh ok
[02:41:59] <pradeep> np
[02:42:07] <pradeep> enjoy :)
[02:43:36] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Quit: Computer has gone to sleep.)
[02:44:00] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[02:45:39] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[02:48:17] <larsberg> Btw, congrats on landing absolute!
[02:54:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[02:54:20] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[02:54:23] *** Joins: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP)
[02:54:23] <ghservo> [13rust-xlib] 15Armavica opened pull request #10: Upgrade to newer Rust (a5342d5 2014-02-23) (06master...06rustup-20140223) 02http://git.io/kuspug
[02:54:23] *** Parts: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP) ()
[02:56:01] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[02:56:25] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[02:57:25] <zmike> servo-embedded can now open a very hackish window
[02:57:28] <zmike> seems like a good stopping place
[03:02:49] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[03:05:31] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[03:14:45] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[03:17:16] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[03:33:03] *** Joins: stumpart (stumpart@moz-93393D0A.hsd1.ca.comcast.net)
[03:37:26] *** Joins: tobytailor (tobytailor@95595BAF.CB3251F2.284344F5.IP)
[03:46:21] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[03:48:00] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[03:50:39] *** Joins: hikerclimb (Mibbit@moz-24C1ACE9.hsd1.il.comcast.net)
[03:53:08] <larsberg> zmike: that's awesome! Great work!
[03:54:42] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[03:54:56] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[03:55:02] *** Joins: dranov (dranov@7D983409.94264913.FB866788.IP)
[03:55:05] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[03:56:16] *** Quits: tobytailor (tobytailor@95595BAF.CB3251F2.284344F5.IP) (Quit: tobytailor)
[03:56:26] *** Quits: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[03:56:29] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[03:56:46] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[03:57:39] *** Quits: kimundi (kimundi@moz-C46B8065.dip0.t-ipconnect.de) (Ping timeout)
[04:01:30] *** Joins: kimundi (kimundi@moz-82D1D1B3.dip0.t-ipconnect.de)
[04:02:29] <pradeep> larsberg: :)
[04:04:40] *** Quits: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca) (Quit: canhtak)
[04:05:28] *** kimundi is now known as zz_kimundi
[04:08:00] *** Joins: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca)
[04:12:33] *** zz_kimundi is now known as kimundi
[04:18:37] *** Quits: Rym (WUT@AC250667.5D2765E2.51C6DE68.IP) (Ping timeout)
[04:19:00] *** Joins: Rym (WUT@AC250667.5D2765E2.51C6DE68.IP)
[04:22:31] *** Quits: dranov (dranov@7D983409.94264913.FB866788.IP) (Ping timeout)
[04:47:05] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[04:49:33] *** Joins: jet (jet@moz-79F891EE.hsd1.ca.comcast.net)
[04:49:35] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[04:52:20] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[04:54:32] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[04:55:51] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[04:56:28] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[04:57:32] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[05:08:11] *** Quits: hikerclimb (Mibbit@moz-24C1ACE9.hsd1.il.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[05:18:55] *** Quits: jet (jet@moz-79F891EE.hsd1.ca.comcast.net) (Quit: jet)
[05:27:21] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[05:32:20] *** Joins: jet (jet@moz-79F891EE.hsd1.ca.comcast.net)
[05:36:22] *** Joins: ezequiel (sid18787@moz-5F4AA75A.irccloud.com)
[05:36:45] *** Joins: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net)
[05:38:56] *** Quits: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca) (Quit: canhtak)
[05:48:36] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[05:48:53] *** Quits: nimish (quassel@6CD90D4F.B586C2A4.5F29FBA5.IP) (Connection reset by peer)
[05:48:54] *** Joins: nimish (quassel@6CD90D4F.B586C2A4.5F29FBA5.IP)
[05:50:10] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[05:51:05] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[05:51:50] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[05:54:34] *** Joins: brson (brson@981AA104.E81F12CD.76F66111.IP)
[05:54:34] *** ChanServ sets mode: +o brson
[05:54:48] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[05:56:30] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[05:56:37] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[05:58:19] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[06:00:18] *** Joins: harth (heather@moz-42412102.hsd1.ca.comcast.net)
[06:05:57] *** Joins: circ-user-my1Us (circuser-m@moz-20A6B1BC.ed.shawcable.net)
[06:11:48] *** Quits: circ-user-my1Us (circuser-m@moz-20A6B1BC.ed.shawcable.net) (Ping timeout)
[06:15:14] *** Quits: brson (brson@981AA104.E81F12CD.76F66111.IP) (Ping timeout)
[06:15:28] *** Joins: brson (brson@981AA104.E81F12CD.76F66111.IP)
[06:15:28] *** ChanServ sets mode: +o brson
[06:16:19] *** Quits: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[06:16:43] *** Joins: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca)
[06:20:27] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[06:25:00] *** Joins: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net)
[06:26:05] *** Joins: maxli (Instantbir@moz-1650391B.hsd1.ca.comcast.net)
[06:26:20] *** Quits: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[06:26:22] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[06:28:28] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[06:30:58] <Manishearth> Uh, I forgot how to built the dom folder
[06:31:01] <Manishearth> ANy help?
[06:31:09] <Manishearth> make libscript isn't working
[06:34:43] *** Quits: brson (brson@981AA104.E81F12CD.76F66111.IP) (Ping timeout)
[06:36:31] <Manishearth> meh, make servo should do timestamp checking
[06:39:09] *** Joins: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP)
[06:39:09] *** ChanServ sets mode: +o brson
[06:41:00] <larsberg> Manishearth: the only way I know to build just script is to do 'make x86_64-apple-darwin/src/components/script/libscript.dummy'
[06:41:03] <larsberg> I usually just do 'make servo'
[06:41:45] <larsberg> Our makefiles do timestamp checking, but there are definitely some missing dependencies here and there (e.g., changing rust-layers doesn't always remind rust-azure to rebuild). Should work fine for all of the servo crates, though, just the submodules are wonky
[06:43:17] *** Quits: maxli (Instantbir@moz-1650391B.hsd1.ca.comcast.net) (Ping timeout)
[06:43:36] <Manishearth> larsberg: Huh, I tried to make and it gave me rust errors
[06:43:40] *** Joins: maxli (Instantbir@moz-1650391B.hsd1.ca.comcast.net)
[06:44:01] <Manishearth> task 'rustc' failed at 'explicit failure', /home/muon/Desktop/Programming/Mozilla/servo/src/compiler/rust/src/libsyntax/diagnostic.rs:74
[06:44:04] <Manishearth> task '<main>' failed at 'explicit failure', /home/muon/Desktop/Programming/Mozilla/servo/src/compiler/rust/src/librustc/lib.rs:440
[06:44:16] <Manishearth> make clean?
[06:45:05] <larsberg> that's all the compiler output you got? No error message at all?
[06:45:48] <larsberg> (I expected the failure mentioned to have printed some output string about the error the compiler ran into)
[06:47:06] <Manishearth> larsberg: tons of errors
[06:47:42] <Manishearth> larsberg: https://manishearth.pastebin.mozilla.org/4463279
[06:48:31] *** Quits: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP) (Ping timeout)
[06:48:55] *** Joins: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP)
[06:48:55] *** ChanServ sets mode: +o brson
[06:50:05] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[06:50:35] <larsberg> hrm, I suppose that should be built by servo/src/support/spidermonkey/rust-mozjs, but I'm not very familiar with that code
[06:51:33] <Manishearth> I'll just run make so that everything gets fixd
[06:51:51] *** Quits: ibnc (ibnc@moz-718F3037.client.mchsi.com) (Client exited)
[06:51:53] <Manishearth> I ran make servo, rust must have been improved
[06:52:13] *** Joins: ibnc (ibnc@moz-718F3037.client.mchsi.com)
[06:52:35] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[06:53:52] *** Quits: ibnc (ibnc@moz-718F3037.client.mchsi.com) (Ping timeout)
[06:54:21] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[06:54:35] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[06:56:31] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[06:56:50] *** Joins: ghservo (ghservo@5AC7F92B.6A2AE50.F3114085.IP)
[06:56:50] <ghservo> [13servo] 15Manishearth opened pull request #1807: merge (06master...06comparedoc-1794) 02http://git.io/ICM5Cw
[06:56:50] *** Parts: ghservo (ghservo@5AC7F92B.6A2AE50.F3114085.IP) ()
[06:57:08] *** Joins: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP)
[06:57:08] <ghservo> [13servo] 15Manishearth closed pull request #1807: merge (06master...06comparedoc-1794) 02http://git.io/ICM5Cw
[06:57:08] *** Parts: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP) ()
[06:57:20] *** Quits: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net) (Quit: tobytailor)
[06:58:47] <Manishearth> gaah
[07:01:45] *** Joins: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP)
[07:06:50] *** Quits: kanru (kanru@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[07:08:13] *** Joins: kanru (kanru@moz-99690620.hinet-ip.hinet.net)
[07:14:29] *** Quits: maxli (Instantbir@moz-1650391B.hsd1.ca.comcast.net) (Ping timeout)
[07:19:14] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[07:22:15] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[07:23:54] *** Quits: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca) (Quit: canhtak)
[07:26:24] *** Joins: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net)
[07:29:09] *** Joins: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[07:30:56] *** Quits: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: azita)
[07:31:05] *** Quits: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[07:36:39] *** Quits: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[07:47:34] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Ping timeout)
[07:51:39] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[07:53:19] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[07:53:47] *** Quits: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: leaving)
[07:54:42] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[07:56:29] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[08:03:16] *** Joins: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP)
[08:03:16] <ghservo> [13servo] 15pradeep90 opened pull request #1808: Send in the right container block size for relative positioning. (06master...06relative-position-container-block-size) 02http://git.io/pAxXWw
[08:03:16] *** Parts: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP) ()
[08:14:50] *** Joins: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net)
[08:19:53] *** Quits: Rym (WUT@AC250667.5D2765E2.51C6DE68.IP) (Ping timeout)
[08:25:14] *** Quits: dbaron (dbaron@6E6C815B.27376607.189F3E15.IP) (Ping timeout)
[08:25:30] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:27:55] *** Quits: jet (jet@moz-79F891EE.hsd1.ca.comcast.net) (Quit: jet)
[08:30:34] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[08:34:03] *** Joins: Ms2ger (Ms2ger@57ACE628.C60A97A6.F9FB0584.IP)
[08:38:30] *** Joins: jet (jet@moz-79F891EE.hsd1.ca.comcast.net)
[08:42:20] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:52:24] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[08:54:34] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[08:54:56] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[08:56:28] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[09:01:53] *** Joins: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[09:07:32] *** Joins: jkingyens (jkingyens@moz-B0C1B161.hsd1.ca.comcast.net)
[09:08:00] *** jkingyens is now known as enos
[09:24:16] *** Joins: eibwen (kvirc@moz-283702DC.dip0.t-ipconnect.de)
[09:26:01] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[09:26:21] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[09:30:08] *** Quits: harth (heather@moz-42412102.hsd1.ca.comcast.net) (Client exited)
[09:30:28] *** Joins: harth (heather@moz-42412102.hsd1.ca.comcast.net)
[09:32:20] *** Quits: harth (heather@moz-42412102.hsd1.ca.comcast.net) (Ping timeout)
[09:33:05] *** Quits: yury (yury@moz-86474802.ok.ok.cox.net) (Ping timeout)
[09:33:13] *** Joins: yury (yury@moz-86474802.ok.ok.cox.net)
[09:34:27] *** Joins: harth (heather@moz-42412102.hsd1.ca.comcast.net)
[09:36:11] *** Quits: harth (heather@moz-42412102.hsd1.ca.comcast.net) (Ping timeout)
[09:41:09] *** Quits: jet (jet@moz-79F891EE.hsd1.ca.comcast.net) (Quit: jet)
[09:43:10] *** Joins: ghservo (ghservo@2DCF43EA.6A2AE50.F3114085.IP)
[09:43:10] <ghservo> [13rust-mozjs] 15Ms2ger opened pull request #51: Return a JSVal rather than a *JSVal from JS_CALLEE, to match C++. (06master...06callee) 02http://git.io/JFLrXg
[09:43:10] *** Parts: ghservo (ghservo@2DCF43EA.6A2AE50.F3114085.IP) ()
[09:44:55] *** Quits: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[09:47:44] *** Joins: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP)
[09:47:44] <ghservo> [13servo] 15Ms2ger opened pull request #1809: When calling constructors, retrieve the global object from the callee... (06master...06constructor-global-from-object) 02http://git.io/lCrypQ
[09:47:44] *** Parts: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP) ()
[09:53:59] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[09:54:28] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[09:55:22] *** Joins: msanchez (msanchez@E6836824.9773E83B.5D23F53B.IP)
[09:56:30] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[09:56:30] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[10:05:00] *** Joins: Kostic (Kostic@moz-F24C2D7F.mbb.telenor.rs)
[10:06:30] *** Joins: teosz (teosz@5F23F990.D75A9DA0.3EA6AAD8.IP)
[10:12:28] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[10:16:53] *** Quits: Kostic (Kostic@moz-F24C2D7F.mbb.telenor.rs) (Ping timeout)
[10:23:44] *** Quits: june0cho (june0cho@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[10:24:05] *** Joins: june0cho (june0cho@5AB4884B.FCC4549.14D5B978.IP)
[10:44:59] *** Quits: teosz (teosz@5F23F990.D75A9DA0.3EA6AAD8.IP) (Ping timeout)
[10:54:32] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[10:55:34] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[10:56:30] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[10:58:04] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[11:04:23] *** Quits: june0cho (june0cho@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[11:19:55] *** Joins: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP)
[11:19:55] <ghservo> [13rust-xlib] 15metajack pushed 2 new commits to 06master: 02http://git.io/dSofAw
[11:19:55] <ghservo> 13rust-xlib/06master 141d649ef 15Virgile Andreani: Upgrade to newer Rust (a5342d5 2014-02-23)
[11:19:55] <ghservo> 13rust-xlib/06master 14520b193 15Jack Moffitt: Merge pull request #10 from Armavica/rustup-20140223...
[11:19:56] *** Parts: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP) ()
[11:19:56] *** Joins: jackneill (jackneill@moz-68FD19F9.pool.digikabel.hu)
[11:28:57] *** Quits: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[11:38:45] *** Joins: mno2 (mno2@76ED98CE.BEBC37B7.DA359910.IP)
[11:52:25] <Manishearth> Gah, ../configure not working when my insti proxy acts up *shakes fist*
[11:53:01] <eddyb> Manishearth: enjoying auto-refresh :P?
[11:54:20] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[11:56:28] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[11:56:59] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[11:57:19] <Manishearth> eddyb: auto refresh?
[11:58:32] <eddyb> I'm assuming you're talking about submodules updating and whatnot
[11:58:39] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[11:58:55] *** Quits: mno2 (mno2@76ED98CE.BEBC37B7.DA359910.IP) (Quit: mno2)
[12:02:14] *** Joins: mno2 (mno2@76ED98CE.BEBC37B7.DA359910.IP)
[12:03:06] <Manishearth> eddyb: yeah
[12:04:00] *** Joins: teosz (teosz@5F23F990.D75A9DA0.3EA6AAD8.IP)
[12:06:03] *** Quits: teosz (teosz@5F23F990.D75A9DA0.3EA6AAD8.IP) (Ping timeout)
[12:11:44] <Manishearth> http://i.imgur.com/wWhjKme.jpg
[12:17:27] *** Joins: Kostic (Kostic@C4D4CB5C.58A2DD99.2168A69F.IP)
[12:19:59] *** Quits: stumpart (stumpart@moz-93393D0A.hsd1.ca.comcast.net) (Quit: stumpart)
[12:28:29] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[12:30:21] *** Quits: Armavica (virgile@moz-AD428ED7.ens.fr) (Quit: leaving)
[12:30:24] *** Joins: Armavica (virgile@moz-AD428ED7.ens.fr)
[12:51:17] *** Quits: Debloper (debloper@moz-88FF8AE8.redhat.com) (Quit: Leaving.)
[12:52:16] *** Joins: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com)
[12:54:40] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[12:56:29] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[12:57:22] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[12:59:53] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[13:07:41] <Ms2ger> Manishearth, have you looked at what the issue is in #1756?
[13:07:41] <crowbot> Issue #1756: #1744 make getElementsByName return a NodeList - https://github.com/mozilla/servo/pull/1756
[13:16:14] *** Quits: msanchez (msanchez@E6836824.9773E83B.5D23F53B.IP) (Ping timeout)
[13:18:54] *** Joins: msanchez (msanchez@E6836824.9773E83B.5D23F53B.IP)
[13:27:30] *** Quits: Kostic (Kostic@C4D4CB5C.58A2DD99.2168A69F.IP) (Connection reset by peer)
[13:27:57] *** bhearsum|afk is now known as bhearsum
[13:29:48] *** Joins: Kostic (Kostic@C4D4CB5C.58A2DD99.2168A69F.IP)
[13:30:34] *** Quits: Ms2ger (Ms2ger@57ACE628.C60A97A6.F9FB0584.IP) (Ping timeout)
[13:34:27] *** Joins: harth (heather@moz-42412102.hsd1.ca.comcast.net)
[13:37:07] *** Quits: harth (heather@moz-42412102.hsd1.ca.comcast.net) (Ping timeout)
[13:41:07] *** Joins: ahal (ahal@moz-7DE89BF0.cable.teksavvy.com)
[13:47:21] *** Joins: dranov (dranov@C6975356.3C4F00D.E16F0CF5.IP)
[13:50:01] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[13:50:22] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[13:54:36] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[13:56:27] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[13:57:34] *** Joins: teosz (teosz@5F23F990.D75A9DA0.3EA6AAD8.IP)
[13:58:13] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[14:00:43] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[14:00:58] *** Quits: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net) (Quit: huon)
[14:01:20] *** Joins: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net)
[14:08:56] *** Joins: tgkokk (tgkokk@moz-E589AF21.home.otenet.gr)
[14:09:01] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[14:10:50] *** Quits: eibwen (kvirc@moz-283702DC.dip0.t-ipconnect.de) (Ping timeout)
[14:17:08] *** Quits: msanchez (msanchez@E6836824.9773E83B.5D23F53B.IP) (Quit: Ex-Chat)
[14:20:47] *** Joins: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca)
[14:25:13] *** Joins: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP)
[14:25:13] <ghservo> [13rust-mozjs] 15jdm closed pull request #51: Return a JSVal rather than a *JSVal from JS_CALLEE, to match C++. (06master...06callee) 02http://git.io/JFLrXg
[14:25:13] *** Parts: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP) ()
[14:25:14] *** Joins: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP)
[14:25:14] <ghservo> [13rust-mozjs] 15jdm pushed 2 new commits to 06master: 02http://git.io/RGGh3A
[14:25:14] <ghservo> 13rust-mozjs/06master 141730e6b 15Ms2ger: Return a JSVal rather than a *JSVal from JS_CALLEE, to match C++.
[14:25:14] <ghservo> 13rust-mozjs/06master 1449cd4a7 15Josh Matthews: Merge pull request #51 from Ms2ger/callee...
[14:25:15] *** Parts: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP) ()
[14:26:56] <larsberg> Manishearth: you can use --disable-manage-submodules to skip the part of configure where we redownload and check all the things
[14:26:57] *** Joins: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[14:27:35] *** Quits: lukad (luka@moz-3FD26969.me) (Quit: leaving)
[14:28:55] *** Joins: ghservo (ghservo@2DCF43EA.6A2AE50.F3114085.IP)
[14:28:55] <ghservo> [13servo] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/Puy81g
[14:28:55] *** Parts: ghservo (ghservo@2DCF43EA.6A2AE50.F3114085.IP) ()
[14:37:19] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[14:37:19] *** ChanServ sets mode: +o jdm
[14:39:15] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[14:41:36] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[14:43:59] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[14:49:44] *** Joins: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP)
[14:49:44] <ghservo> [13servo] 15bors-servo closed pull request #1809: When calling constructors, retrieve the global object from the callee... (06master...06constructor-global-from-object) 02http://git.io/lCrypQ
[14:49:44] *** Parts: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP) ()
[14:49:47] *** Joins: ghservo (ghservo@88C0CBA2.6A2AE50.F3114085.IP)
[14:49:47] <ghservo> [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/5IW76w
[14:49:47] *** Parts: ghservo (ghservo@88C0CBA2.6A2AE50.F3114085.IP) ()
[14:51:05] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Quit: victorporof)
[14:54:02] *** Joins: ibnc (ibnc@moz-718F3037.client.mchsi.com)
[14:54:19] *** Joins: msanchez (msanchez@E6836824.9773E83B.5D23F53B.IP)
[14:54:22] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[14:56:28] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[15:03:18] <eddyb> http://open.gl/textures hehe, GL_CLAMP_TO_EDGE
[15:20:51] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[15:28:05] *** Quits: ahal (ahal@moz-7DE89BF0.cable.teksavvy.com) (Input/output error)
[15:31:43] *** Quits: mno2 (mno2@76ED98CE.BEBC37B7.DA359910.IP) (Quit: mno2)
[15:34:45] *** Joins: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP)
[15:39:20] *** Quits: tgkokk (tgkokk@moz-E589AF21.home.otenet.gr) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[15:44:47] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[15:45:43] <jdm> woo, windowproxy lives
[15:47:44] <tinco> :o
[15:52:36] *** Joins: maxli (maxli@moz-1650391B.hsd1.ca.comcast.net)
[15:53:07] *** Joins: ahal (ahal@moz-7DE89BF0.cable.teksavvy.com)
[15:53:29] *** Quits: teosz (teosz@5F23F990.D75A9DA0.3EA6AAD8.IP) (Ping timeout)
[15:54:22] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[15:55:25] *** Joins: maxli1 (Instantbir@moz-1650391B.hsd1.ca.comcast.net)
[15:56:28] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[15:57:51] *** Joins: tgkokk (tgkokk@moz-E589AF21.home.otenet.gr)
[16:03:18] <eddyb> jdm: <insert pokemon reference>
[16:05:50] *** Quits: Kostic (Kostic@C4D4CB5C.58A2DD99.2168A69F.IP) (Ping timeout)
[16:05:55] *** Joins: stumpart (stumpart@moz-93393D0A.hsd1.ca.comcast.net)
[16:06:13] *** Parts: stumpart (stumpart@moz-93393D0A.hsd1.ca.comcast.net) ()
[16:07:39] *** Joins: Kostic (Kostic@C4D4CB5C.58A2DD99.2168A69F.IP)
[16:12:24] <larsberg> jdm: it's monkey time! (finally got to rust-mozjs in the rust upgrade...)
[16:12:33] <jdm> yay!
[16:15:51] <larsberg> ruh-roh, I think we missed one, shaggy:
[16:15:51] <larsberg>  /Users/larsberg/servo2/src/support/spidermonkey/rust-mozjs/name_pool.rs:12:23: 12:26 error: found `mut` in ident position
[16:15:52] <larsberg>  /Users/larsberg/servo2/src/support/spidermonkey/rust-mozjs/name_pool.rs:12 pub fn NamePool() -> @mut NamePool {
[16:16:15] <jdm> whoops
[16:16:17] <jdm> kill it
[16:16:22] <jdm> wait, the file should be gone :/
[16:16:34] <jdm> and in fact it is: https://github.com/mozilla-servo/rust-mozjs/
[16:17:12] <larsberg> aha, I must have started the rust upgrade before that submodule update landed in Servo!
[16:18:12] * larsberg ponders how to safely pull master without killing all the submodule things
[16:31:53] <lpy> jdm: Hi jdm!
[16:31:57] <jdm> hi lpy 
[16:32:05] <lpy> jdm: If we couldn't get the layout data in script, how could I get the `ComputedValues` from the `layout_data` in the `Node`?
[16:32:14] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Quit: )
[16:32:18] *** Quits: maxli1 (Instantbir@moz-1650391B.hsd1.ca.comcast.net) (Ping timeout)
[16:32:22] <jdm> lpy: when can we not get it?
[16:33:20] <lpy> node could not access layout data?
[16:33:53] <jdm> lpy: can you be more specific? do you mean something like a match that fails, or fundamentally you cannot write code to access the layout data?
[16:34:07] *** Joins: jet (jet@moz-79F891EE.hsd1.ca.comcast.net)
[16:34:46] <lpy> for #1713, I should use `cast::transmute(self.layout_data.borrow())` to convert it to `Ref<'a,Option<LayoutDataWrapper>>`
[16:34:46] <crowbot> Issue #1713: Implement Element.client{Top,Left,Width,Height} - https://github.com/mozilla/servo/issues/1713
[16:35:00] <lpy> so that I could get the `ComputedValues` from the result
[16:35:13] *** Quits: maxli (maxli@moz-1650391B.hsd1.ca.comcast.net) (Quit: Leaving.)
[16:35:33] <jdm> oh right, and LayoutDataWrapper is in layout/ so you can't use it, yes?
[16:35:45] <lpy> yep
[16:35:55] <jdm> grumble grumble
[16:36:10] <jdm> we may need to move that to style/
[16:36:31] <jdm> or maybe script, since it uses LayoutChan
[16:37:05] <jdm> or, hmm
[16:37:17] <jdm> maybe we can make a LayoutData trait or something and throw that in style
[16:37:18] <lpy> in script we can't use LayoutdataWrapper
[16:37:50] <jdm> right, I'm saying that we can probably move LayoutDataWrapper to script, or else create a trait in style that is implemented in both script/ and main/
[16:37:56] <lpy> yep. I am making the LayoutDataTrait, and I tested it in script/dom
[16:39:06] <jdm> ok, here is my recommendation after reading the code:
[16:39:37] <jdm> make a SharedLayoutData structure that contains the style field from PrivateLayoutData
[16:39:49] <jdm> make it the first field of PrivateLayoutData
[16:40:01] <jdm> and put SharedLayoutData in the style/ crate
[16:40:20] <jdm> then script/ code can cast the *() field to SharedLayoutData and use
[16:40:22] <jdm> *use it
[16:40:31] <jdm> and layout/ code can keep using PrivateLayoutData
[16:40:35] <jdm> does that make sense?
[16:41:59] * lpy looks
[16:43:01] *** Joins: Ms2ger (Ms2ger@57ACE628.C60A97A6.F9FB0584.IP)
[16:43:40] *** Quits: lpy (lpy@12172131.F09091A8.1348A864.IP) (Ping timeout)
[16:46:23] * Ms2ger needs to upload some more work for jdm
[16:46:33] <jdm> you're a machine
[16:46:43] <jdm> (the PR earlier today was fantastic, by the way)
[16:46:51] <jdm> anything to get rid of more page_from_cx uses
[16:47:06] <Ms2ger> I may have all of them gone
[16:47:11] <jgraham> Specifically he's a secret NSA AI. In Belgium. Because who would expect that.
[16:47:19] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[16:47:23] <Ms2ger> Except one in dead code
[16:51:39] <Ms2ger> Gah!
[16:52:02] <Ms2ger> "type `dom::testbinding::TestBinding` does not implement any method in scope named `PassOptionalUnsignedLongLongWithDefault`" is such a terrible way to tell me I've forgotten to add "&self"
[16:52:12] *** Quits: tgkokk (tgkokk@moz-E589AF21.home.otenet.gr) (Input/output error)
[16:53:33] <jdm> I know :/
[16:53:51] <jgraham> Yeah, I remember being confused by that
[16:54:25] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[16:54:38] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Quit: Bye)
[16:54:39] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:56:18] *** Joins: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP)
[16:56:18] <ghservo> [13servo] 15Ms2ger opened pull request #1810: Introduce a test IDL file. (06master...06test-binding) 02http://git.io/z7yWQA
[16:56:18] *** Parts: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP) ()
[16:56:30] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[16:58:04] *** Joins: ghservo (ghservo@38D6F008.6A2AE50.F3114085.IP)
[16:58:04] <ghservo> [13servo] 15Ms2ger opened pull request #1811: Cleanup the *Binding::Wrap functions (06master...06Wrap_) 02http://git.io/ENASMg
[16:58:04] *** Parts: ghservo (ghservo@38D6F008.6A2AE50.F3114085.IP) ()
[16:58:21] *** Joins: ghservo (ghservo@2DCF43EA.6A2AE50.F3114085.IP)
[16:58:21] <ghservo> [13servo] 15Ms2ger opened pull request #1812: Get the Page from the global object for ResolveProperty. (06master...06ResolveProperty) 02http://git.io/fu-0cg
[16:58:21] *** Parts: ghservo (ghservo@2DCF43EA.6A2AE50.F3114085.IP) ()
[16:59:08] <Ms2ger> jdm, hi :)
[16:59:22] <jdm> haha
[16:59:27] <jdm> you don't mess around
[16:59:37] <Ms2ger> This is my messing around
[16:59:44] * jdm wants to kill the xray-related code
[16:59:57] <Ms2ger> I've threaded around it lightly
[17:00:21] *** Joins: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP)
[17:00:21] *** ChanServ sets mode: +o brson
[17:01:03] <Ms2ger> And I've been trying to have bz implement all that stuff :)
[17:02:26] <Ms2ger> jdm, first one is kinda blocking me right now, latter two remove a page_from_cx each
[17:02:37] <jdm> ok
[17:04:22] *** Joins: dherman (dherman@F16146EB.9D3722BB.58DC3EE6.IP)
[17:04:23] *** ChanServ sets mode: +qo dherman dherman
[17:05:58] *** Quits: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[17:06:00] *** Joins: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP)
[17:06:00] <ghservo> [13servo] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/JxxPUQ
[17:06:00] <ghservo> 13servo/06auto 144166ff4 15Ms2ger: Introduce a test IDL file.
[17:06:00] <ghservo> 13servo/06auto 14a6410e8 15bors-servo: auto merge of #1810 : Ms2ger/servo/test-binding, r=jdm
[17:06:00] *** Parts: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP) ()
[17:06:10] *** Joins: pcwalton (pcwalton@F16146EB.9D3722BB.58DC3EE6.IP)
[17:06:10] *** ChanServ sets mode: +o pcwalton
[17:08:09] *** Joins: nrc (nrc@F16146EB.9D3722BB.58DC3EE6.IP)
[17:09:18] *** Joins: dbaron (dbaron@6E6C815B.27376607.189F3E15.IP)
[17:09:34] <Ms2ger> Woop
[17:09:53] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:10:17] <Ms2ger>   void passOptionalBoolean(optional boolean arg);
[17:10:25] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[17:10:30] <Ms2ger>   let mut arg0: bool = false;
[17:10:30] <Ms2ger>   if (0 < argc) { ... }
[17:10:31] <Ms2ger>   (*this).PassOptionalBoolean(arg0);
[17:10:45] <Ms2ger> jdm, I don't know if that's quite what was intended :)
[17:11:15] <jdm> hmm?
[17:11:29] <jdm> oh, you're saying it should be Option<bool> instead?
[17:11:42] <Ms2ger> Yeah
[17:11:55] <jdm> yeah, the optional handling in the codegen is really ugly right now
[17:12:05] *** Joins: analyst74 (Mibbit@9D2B184F.DE01D124.4EFEDE71.IP)
[17:13:44] <Ms2ger> Also, it sucks that Option is overloaded for Optional/Nullable
[17:13:59] * jdm has somehow broken a test that doesn't use window proxies via the window proxy changes
[17:14:05] <jdm> yeah, that's part of the problem
[17:14:24] <jdm> so there's a bunch of places that use heuristics to decide what kind of type to use
[17:14:26] <jdm> and what kind of initializer
[17:14:29] <jdm> and blah blah
[17:14:37] *** Joins: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com)
[17:14:43] <jdm> I admit that I don't really understand what the difference needs to be
[17:15:12] <Ms2ger> I think I'm just going to file this
[17:16:59] *** Joins: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP)
[17:16:59] <ghservo> [13servo] 15Ms2ger opened issue #1813: Optional arguments without a default value should be passed as Option<T> 02http://git.io/4LnyBw
[17:16:59] *** Parts: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP) ()
[17:16:59] *** Joins: hoverbear (hoverbear@moz-9D3C6E8B.wireless.uvic.ca)
[17:17:01] *** Joins: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP)
[17:18:03] *** Joins: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net)
[17:18:55] *** Joins: ramitos (ramitos@23CC355F.C8CFF01.593B3862.IP)
[17:19:11] *** Quits: hoverbear (hoverbear@moz-9D3C6E8B.wireless.uvic.ca) (Quit: This bear's gotta fly.)
[17:21:41] *** Quits: Ms2ger (Ms2ger@57ACE628.C60A97A6.F9FB0584.IP) (Ping timeout)
[17:23:26] <jgraham> In theory an argument could be both optional and nullable
[17:24:49] *** Joins: hoverbear (hoverbear@moz-9D3C6E8B.wireless.uvic.ca)
[17:25:06] <jgraham> So you could have foo(optional int? bar) or whatever the right syntax is
[17:25:23] <jgraham> Which would accept all of foo(), foo(null), foo(123)
[17:25:26] *** Joins: maxli (maxli@moz-6F0C4397.thefacebook.com)
[17:25:45] <jgraham> and it wouldn't necessarily be the case that foo() == foo(null)
[17:25:54] <jdm> aha
[17:28:21] <jgraham> (I don't know if this ever happens in practice)
[17:31:53] *** Joins: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP)
[17:31:53] <ghservo> [13servo] 15bors-servo closed pull request #1810: Introduce a test IDL file. (06master...06test-binding) 02http://git.io/z7yWQA
[17:31:53] *** Parts: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP) ()
[17:34:48] *** Joins: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP)
[17:34:48] <ghservo> [13servo] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/Adh9KA
[17:34:48] *** Parts: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP) ()
[17:34:59] *** Joins: harth (heather@moz-42412102.hsd1.ca.comcast.net)
[17:35:36] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:37:56] *** Joins: victorporof_ (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[17:38:16] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[17:38:51] *** Quits: jet (jet@moz-79F891EE.hsd1.ca.comcast.net) (Quit: jet)
[17:43:47] *** Joins: jensnock_ (jensnocker@moz-C4B24C3.customers.ownit.se)
[17:45:58] *** Joins: jensnoc__ (jensnocker@moz-33279404.customers.ownit.se)
[17:46:22] *** Quits: jensnock_ (jensnocker@moz-C4B24C3.customers.ownit.se) (Ping timeout)
[17:47:00] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:47:34] *** Quits: jensnoc__ (jensnocker@moz-33279404.customers.ownit.se) (Input/output error)
[17:49:23] <zmike> pcwalton: ping
[17:49:31] <pcwalton> zmike: pong
[17:50:45] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[17:52:06] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Input/output error)
[17:52:47] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[17:53:12] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:55:08] *** Quits: dranov (dranov@C6975356.3C4F00D.E16F0CF5.IP) (Ping timeout)
[17:55:43] *** Joins: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP)
[17:55:44] <ghservo> [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/bpjdlg
[17:55:44] *** Parts: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP) ()
[17:55:45] *** Joins: ghservo (ghservo@49477F7E.6A2AE50.F3114085.IP)
[17:55:45] <ghservo> [13servo] 15bors-servo closed pull request #1804: Reftest both CPU and GPU rendering (06master...06cpu-ref-test) 02http://git.io/vWPvTA
[17:55:45] *** Parts: ghservo (ghservo@49477F7E.6A2AE50.F3114085.IP) ()
[17:55:47] *** Joins: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP)
[17:55:47] <ghservo> [13servo] 15kmcallister closed issue #1179: check-ref should test both CPU and GPU rendering 02http://git.io/WZEh0A
[17:55:47] *** Parts: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP) ()
[17:56:02] *** Joins: bholley (bholley@32EFA1FF.F0338C73.AECC5372.IP)
[17:56:20] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:57:48] *** Joins: Ms2ger (Ms2ger@57ACE628.C60A97A6.F9FB0584.IP)
[17:58:45] *** Joins: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP)
[17:58:45] <ghservo> [13servo] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/cGWx8w
[17:58:45] <ghservo> 13servo/06auto 148acf36c 15Ms2ger: Get the Page from the global object for ResolveProperty.
[17:58:45] <ghservo> 13servo/06auto 14e3e5cf5 15bors-servo: auto merge of #1812 : Ms2ger/servo/ResolveProperty, r=metajack
[17:58:46] *** Parts: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP) ()
[18:03:08] *** Quits: maxli (maxli@moz-6F0C4397.thefacebook.com) (Quit: Leaving.)
[18:05:00] *** Joins: maxli1 (maxli@moz-6F0C4397.thefacebook.com)
[18:08:31] *** Joins: jet (jet@moz-79F891EE.hsd1.ca.comcast.net)
[18:12:50] *** Joins: hoverbea_ (hoverbear@moz-18618393.cs.uvic.ca)
[18:13:10] *** Quits: msanchez (msanchez@E6836824.9773E83B.5D23F53B.IP) (Ping timeout)
[18:13:51] *** Quits: hoverbear (hoverbear@moz-9D3C6E8B.wireless.uvic.ca) (Ping timeout)
[18:18:36] *** Joins: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP)
[18:18:37] <ghservo> [13servo] 15Ms2ger opened pull request #1814: Use JSValConvertible more in codegen (06master...06more-primitive-setters) 02http://git.io/TGg5pQ
[18:18:37] *** Parts: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP) ()
[18:19:46] *** Quits: Ms2ger (Ms2ger@57ACE628.C60A97A6.F9FB0584.IP) (Quit: bbl)
[18:21:15] *** Joins: ghservo (ghservo@2E45E35D.6A2AE50.F3114085.IP)
[18:21:15] <ghservo> [13servo] 15kmcallister closed pull request #1610: Fix #1179, Add Cpu rendering for ref-test. (06master...06master) 02http://git.io/qzqe4w
[18:21:15] *** Parts: ghservo (ghservo@2E45E35D.6A2AE50.F3114085.IP) ()
[18:21:57] *** Joins: Rym (WUT@7001AAD.5D2765E2.51C6DE68.IP)
[18:23:33] <jdm> zmike: \m/
[18:24:05] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[18:24:08] <zmike> :D
[18:24:55] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:26:42] *** Quits: maxli1 (maxli@moz-6F0C4397.thefacebook.com) (Quit: Leaving.)
[18:27:26] <jdm> bholley: what's the trick to making |this == window| true?
[18:27:48] <eddyb> s/|/`/
[18:27:56] <bholley> jdm: the fact that inner window references are never exposed to script
[18:28:01] <eddyb> I can totally read that fine, jdm
[18:28:08] <bholley> jdm: |this| gets outerized by the time it reaches your code
[18:28:13] <jdm> hmm, I see
[18:28:26] <eddyb> but my brain is like "WHAT R U DOING, ==? GET OUT OF THE CLOSURE ARGUMENTS NAO"
[18:28:27] * jdm wonders how to make the happens
[18:28:37] <jdm> s/the happens/that happen/
[18:28:49] <jdm> maybe the global object needs an outerize
[18:29:01] <bholley> jdm: generally by invoking |wrap| on reflectors before returning references to them to script
[18:29:11] <kmc> eddyb: this is why I started using Â«Â» to quote code in prose
[18:29:12] <jdm> oh, right
[18:29:14] <jdm> that makes sense
[18:30:46] <eddyb> kmc: I have that on </> (no shift, ,/. technically, just the same keys as for </>) + AltGr
[18:36:29] <jdm> yuck, I need to add the extension methods to JSClass now :(
[18:41:55] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:43:11] <jdm> bholley: is the thisObject op in ObjectOps relevant at all, or just outerObject?
[18:43:30] <bholley> jdm: outerObject
[18:43:34] <jdm> ok
[18:48:26] <bhearsum> larsberg: hey, do you have time to verify that you've got access to the servo machines? should take 2-10min, depending on whether you've got the vpn set-up already
[18:49:38] <larsberg> bhearsum: will do! I'm at a workweek, but can check during a break. The VPN worked based on the bug you opened for me - thanks!
[18:49:47] <bhearsum> oh, great
[18:50:25] <bhearsum> just try ssh'ing to buildbot-master-servo-01.srv.servo.releng.use1.mozilla.com while connected to the vpn when you get a chance
[18:55:47] *** Joins: tgkokk (tgkokk@moz-E589AF21.home.otenet.gr)
[19:04:48] <larsberg> bhearsum: worked perfectly - thanks!
[19:04:54] *** Quits: Kostic (Kostic@C4D4CB5C.58A2DD99.2168A69F.IP) (Quit: Leaving)
[19:05:13] <bhearsum> woohoo
[19:05:15] * bhearsum closes the bug
[19:06:16] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[19:14:14] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[19:18:21] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Connection reset by peer)
[19:18:41] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[19:20:07] *** Joins: Ms2ger (Ms2ger@57ACE628.C60A97A6.F9FB0584.IP)
[19:24:53] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[19:26:01] *** Quits: victorporof_ (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[19:26:18] *** Quits: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[19:27:57] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:33:48] <hoverbea_> rusti: std::io::net::addrinfo::get_host_addresses("reddit.com");
[19:33:53] <hoverbea_> rusti: std::io::net::addrinfo::get_host_addresses("reddit.com")
[19:33:59] -rusti- <anon>:10:9: 10:65 warning: unused result which must be used, #[warn(unused_must_use)] on by default
[19:33:59] -rusti- <anon>:10         std::io::net::addrinfo::get_host_addresses("reddit.com");
[19:33:59] -rusti-                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[19:33:59] -rusti- timeout triggered!
[19:33:59] -rusti- timeout triggered!
[19:34:12] <hoverbea_> rusti: :(
[19:34:13] -rusti- pastebinned 7 lines of output: http://sprunge.us/eENE
[19:34:50] *** Quits: ramitos (ramitos@23CC355F.C8CFF01.593B3862.IP) (Quit: Textual IRC Client: www.textualapp.com)
[19:35:41] <Manishearth> Ms2ger: No, not yet, had classes the whole day and needed a rebuild. I wasn't able to repro it on my system, and it seems to be stuck on an arbitrary test
[19:35:49] *** Quits: jet (jet@moz-79F891EE.hsd1.ca.comcast.net) (Quit: jet)
[19:35:52] <Ms2ger> Lovely
[19:36:02] <Manishearth> Because I had fixed the broken tests before
[19:36:18] <Manishearth> I could check with the rebased commit though
[19:36:43] <Manishearth> Right now I've got a different branch on, one that requires a clobber :/
[19:37:10] <Ms2ger> :/
[19:37:27] <Ms2ger> There's "task '<unnamed>' failed at 'RefCell<T> already mutably borrowed', /builds/slave/mac/build/src/compiler/rust/src/libstd/cell.rs:135" in the log, not sure what from
[19:38:03] <Manishearth> Ms2ger: Hmm, that was an issue that was appearing on my system hen I opened Google in Servo, but iirc that was on master
[19:38:24] <Ms2ger> Yeah, it might be
[19:41:18] *** Joins: analyst75 (analyst74@9D2B184F.DE01D124.4EFEDE71.IP)
[19:43:06] *** Quits: pauls (pauls@moz-BFEF1F22.ccs.neu.edu) (Quit: Ignore me!!)
[19:44:15] <jdm> if that's from the content tests, it's not the google one
[19:44:26] <jdm> that's from the compositor; we don't run that in content tests.
[19:44:44] <Manishearth> ah
[19:46:32] <Ms2ger> jdm, do you know the retry-incantation?
[19:47:02] *** Quits: ibnc (ibnc@moz-718F3037.client.mchsi.com) (Client exited)
[19:47:17] <jdm> Ms2ger: @bors: retry
[19:47:24] *** Joins: ibnc (ibnc@moz-718F3037.client.mchsi.com)
[19:49:04] *** Quits: ibnc (ibnc@moz-718F3037.client.mchsi.com) (Ping timeout)
[19:49:26] <Manishearth> `let random = 4`
[19:49:30] <Manishearth> Just wrote that :p
[19:49:39] *** Joins: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP)
[19:49:40] <ghservo> [13servo] 15bors-servo 04force-pushed 06auto from 14e3e5cf5 to 1460e438e: 02http://git.io/c8GovQ
[19:49:40] *** Parts: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP) ()
[19:49:41] *** Joins: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP)
[19:49:41] <ghservo> [13servo] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/VsUaIQ
[19:49:41] <ghservo> 13servo/06auto 148acf36c 15Ms2ger: Get the Page from the global object for ResolveProperty.
[19:49:41] <ghservo> 13servo/06auto 14d9cf8cc 15bors-servo: auto merge of #1812 : Ms2ger/servo/ResolveProperty, r=metajack
[19:49:41] *** Parts: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP) ()
[19:49:46] <Ms2ger> xkcd did it first
[19:49:53] <Manishearth> I know :p
[19:50:23] *** Quits: analyst74 (Mibbit@9D2B184F.DE01D124.4EFEDE71.IP) (NickServ (GHOST command used by analyst75))
[19:50:30] *** analyst75 is now known as analyst74
[19:50:57] <Ms2ger> jdm, thanks
[19:51:58] *** Joins: Jayflux (Jason@moz-696B1891.ppp.as43234.net)
[19:52:38] *** Quits: pcwalton (pcwalton@F16146EB.9D3722BB.58DC3EE6.IP) (Ping timeout)
[19:56:31] <Manishearth> Ms2ger: How do I go around adding an abstract self to a method?
[19:56:46] <Manishearth> There's pub fn CompareDocumentPosition(&self, other: &JS<Node>) -> u16 that was already there as a stub
[19:57:19] <Manishearth> I want an abstract_self argument for it. Can I add it so that the abstract_self is autopupulated with the JS<Node> of self?
[19:57:38] <Manishearth> (because this method is exposed to the outside via idl bindings, not sure how to get around that)
[19:58:28] <Ms2ger> Manishearth, right now, add to the needsAbstract array in dom/bindings/codegen/Bindings.conf
[19:58:47] <Ms2ger> jdm has good ideas to make this easier... Dunno if they're filed yet
[19:59:03] <Manishearth> ah, thanks
[19:59:16] <jdm> my current idea is to make it mandatory for everything, iirc
[20:00:14] <Ms2ger> Just call everything on JS<T>?
[20:01:16] <Manishearth> Ms2ger: Looks like this method wasn't in the Bindings file at all. Do I need to add it to the idl? WHere?
[20:01:23] <Manishearth> (there are multiple idl files)
[20:01:28] <Ms2ger> No
[20:01:35] <Ms2ger> There's an entry for Node, right?
[20:02:17] <jdm> oh right, the generating interface thing
[20:02:19] <Manishearth> Ms2ger: so there's an entry for Node in Bindings.conf
[20:02:28] <Manishearth> And there's a webidl file with CompareDocumentPosition
[20:02:32] <Ms2ger> Yep
[20:02:50] <Ms2ger> Node has a list of members that need an abstract self
[20:02:55] <Ms2ger> Add it to that list
[20:03:01] <Manishearth> sorry, *c* ompareDocumentPosition
[20:03:18] <Manishearth> I'm not sure if the binding for compareDC --> CompareDC exists
[20:03:31] <Ms2ger> Huh?
[20:04:09] <Manishearth> Ms2ger: The bit of code that says "compareDC in JS is the same as CompareDC in node.rs"
[20:04:39] <Ms2ger> That's CodegenRust.py :)
[20:05:23] <Manishearth> Ms2ger: Oh, so it looks at Bindings.conf and autorenames things
[20:05:46] <Ms2ger> It just autorenames everything :)
[20:08:25] *** Quits: dbaron (dbaron@6E6C815B.27376607.189F3E15.IP) (Ping timeout)
[20:08:53] <Manishearth> Ms2ger: Btw, in what scenario would two nodes not be in the same document but would be in the same tree?
[20:09:06] <Manishearth> Or vice versa
[20:09:11] <Ms2ger> No such scenario exists
[20:09:26] <Manishearth> Ah. S comparing owner docs is fine
[20:09:29] <Manishearth> *So
[20:09:34] <Ms2ger> The other way around: document.createElement("div").compareDocumentPosition(document)
[20:10:57] *** Quits: nrc (nrc@F16146EB.9D3722BB.58DC3EE6.IP) (Ping timeout)
[20:15:07] *** Joins: swook (swook@moz-BE4AA2E7.swook.net)
[20:15:51] <Ms2ger> jdm, btw, I think it would make sense to make JSValConvertible return Result<>s for both functions, wdyt?
[20:15:55] <Manishearth> Ms2ger: Uh, so I have a variable other which is a JS<Node>, but the owner_doc is a Node function. I doubt that I can cast it directly; is there any way to access Node functions from a JS<Node>?
[20:16:15] <Ms2ger> node.get().owner_doc()
[20:16:20] <jdm> Ms2ger: that sounds pretty reasonable.
[20:16:43] *** Joins: ghservo (ghservo@2E45E35D.6A2AE50.F3114085.IP)
[20:16:43] <ghservo> [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/VsUaIQ
[20:16:43] *** Parts: ghservo (ghservo@2E45E35D.6A2AE50.F3114085.IP) ()
[20:16:44] <Manishearth> I'm basically confused by the JS<T>/T duality, I sort of see what it means but not exactly
[20:16:46] <jdm> Manishearth: learn to love .get() and .get_mut()
[20:16:48] <Manishearth> Ms2ger: ah, thanks
[20:17:42] *** Quits: Rym (WUT@7001AAD.5D2765E2.51C6DE68.IP) (Ping timeout)
[20:17:58] <Ms2ger> You kinda-sorta don't want to see raw Ts, I think
[20:19:15] *** Joins: Rym (WUT@7001AAD.5D2765E2.51C6DE68.IP)
[20:23:21] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:24:09] *** Quits: bholley (bholley@32EFA1FF.F0338C73.AECC5372.IP) (Quit: bholley)
[20:25:40] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[20:27:12] <Manishearth> Some(T) is awesome
[20:27:23] <Manishearth> looks like a pain to use, but the concept is nice
[20:30:28] <swook> jdm: What is the level of Rust-knowledge expected for the XMLHttpRequest implementation project?
[20:32:33] <Manishearth> swook: Well, to give you an idea, I'm thinking of applying for it, and I learned Rust a few weeks ago (that too not thoroughly, I'm learning more from the code itself)
[20:32:47] <Manishearth> but if jdm is still around he'll know better, of course :)
[20:32:54] <swook> Manishearth: I see :)
[20:33:03] <Manishearth> yay, make did not fail yet
[20:33:08] <swook> It sounds like a really cool idea, but I haven't touched Rust before
[20:33:22] <Ms2ger> You probably won't need a huge amount of experience
[20:33:37] <Manishearth> Rust is a *very* cool language. The degree of coolness is similar to Ruby, but it's less crazy
[20:33:57] <Ms2ger> But if you don't have any experience, Manishearth will probably beat you ;)
[20:34:07] <swook> Hehe, that's true
[20:34:10] <jdm> swook: I expect someone comfortable using c++ would not have too much trouble picking up Rust over the course of the project
[20:34:35] <Manishearth> Ms2ger: Hey, lpy is way better than I am :p
[20:34:47] <swook> I've quite a bit of experience with Go and C++, so I was hoping to do so.
[20:35:02] <swook> But I can imagine this might be a rather popular project!
[20:35:11] <Manishearth> jdm: I think if I submit like 10 more Rust PRs I'll be *more* comfy in Rust that C++. THat
[20:35:16] <Manishearth> is a scary thought
[20:35:26] <Manishearth> swook: Have you looked at jdm's talk on Servo?
[20:35:35] <Manishearth> it = awesome
[20:35:47] * Manishearth rummages
[20:35:55] <jdm> not sure that my talk is all that relevant to the gsoc project, though
[20:36:12] <swook> I guess some background knowledge doesn't hurt :)
[20:36:36] <Ms2ger> jdm, it's relevant to everything! :)
[20:36:39] *** Joins: ibnc (ibnc@moz-718F3037.client.mchsi.com)
[20:36:47] <Manishearth> jdm: It isn't. But it is what got me interested in Servo. Well, Ms2ger had mentioned it to me before and got me a bit interested, but the video got me really hooked
[20:36:56] <jdm> huh, cool :)
[20:37:23] <Manishearth> swook: http://www.youtube.com/watch?v=IvtyihvXdS8
[20:37:46] <swook> cheers
[20:37:57] <Manishearth> Warning: Watching above video may make you reevaluate your impression of the mental state of those in this room :p
[20:38:10] <swook> damn, I wanted to go to Fosdem, but my exams were on the day after...
[20:38:41] <Manishearth> (I still find the idea a bit crazy)
[20:40:46] <Ms2ger> It is
[20:42:03] <eddyb> jdm: totally beating you in hair length
[20:42:10] <eddyb> I think even ChrisMorgan
[20:42:25] <jdm> heh
[20:42:50] <eddyb> I can look faceless if I want to. but that's orthogonal
[20:43:32] <Manishearth> Ms2ger: If I want to check if a node is in the same owner doc, would I have to compare self.owner_doc() with other.get().owner_doc(), or something else?
[20:43:45] <Manishearth> Because owner_doc() seems to clone the object
[20:43:56] <Manishearth> Also, should I add a test for this?
[20:44:23] <jdm> Manishearth: cloning isn't a problem.
[20:44:33] <jdm> JS<T> is just a smart pointer around the actual object
[20:44:33] <Manishearth> O.o
[20:44:53] <jdm> the equality checks look at the wrapped object
[20:44:59] <Manishearth> Oh nice
[20:45:02] <Ms2ger> eddyb, hmm? Hair length?
[20:45:05] * Manishearth didn't think of looking for that
[20:45:22] <eddyb> Ms2ger: rusty mane
[20:45:36] <eddyb> sounds like a cool code name
[20:45:58] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:47:30] <Manishearth> jdm: Once I'm better at this I think I'll update the Servo wiki with all the strangeness that is JS<T> and abstract_self and whatnot
[20:47:41] <jdm> Manishearth: yeah, I've been meaning to write a guide
[20:47:43] <Manishearth> Could take a while for me to reach that clarity though :p
[20:47:49] <jdm> I would welcome your thoughts on what's confusing
[20:48:44] <Manishearth> Well, JS<T> vs T for one is rather opaque. I know that JS<T> is a pointer-y thing that is passed in by JavaScript, but not much else
[20:48:57] <Manishearth> How to deal with webidls.
[20:49:14] <Manishearth> Common useful casts
[20:49:26] <Manishearth> (eg ElementCast::to and from and NodeCast and whatnot)
[20:50:22] *** Quits: hoverbea_ (hoverbear@moz-18618393.cs.uvic.ca) (Quit: Taking a nap.)
[20:50:50] <Manishearth> jdm: So the spec asks me to compare the pointer values of two nodes , and says that JS implementations just return a random value. Is it worth adding the std::ptr dependancy for this one pointer comparison?
[20:51:09] *** Joins: teosz (teosz@5F23F990.D75A9DA0.3EA6AAD8.IP)
[20:51:12] <Ms2ger> I think just =='ing makes the most sense
[20:51:23] <jdm> what ^ said, but adding dependencies is never a problem
[20:51:25] <Ms2ger> Oh, but I guess you need to >/
[20:51:59] <Ms2ger> jdm, unless the dependency is ICU :)
[20:52:04] <Manishearth> jdm: I need to >
[20:52:06] <jdm> NO EXCEPTIONS
[20:52:06] <Manishearth> not ==
[20:52:07] *** Joins: dbaron (dbaron@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[20:52:13] <strcat> ICU... ugh.
[20:52:46] <Ms2ger> Don't you love how some ecma people forced it into Firefox
[20:54:21] <jdm> if I'm in gdb, how can I find the address of a symbol?
[20:55:06] <eddyb> p?
[20:55:18] <eddyb> (no idea if it works)
[20:55:23] <jdm> it did not appear to
[20:55:29] <strcat> jdm: p &s
[20:55:31] <strcat> ?
[20:55:40] <strcat> or use that long info thing
[20:55:44] <jdm> this is complicated by the fact that I can't seem to use the symbol from nm nor the proper rust name
[20:55:52] <jdm> so I'm not even sure how to find it
[20:56:02] <jdm> I'm trying to figure out the address of a function
[20:56:25] <jdm> and incidentally why I'm crashing in some random place in libscript.so when a function pointer tries to call said method
[21:00:10] *** Joins: nrc (nrc@F16146EB.9D3722BB.58DC3EE6.IP)
[21:01:07] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[21:01:36] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[21:04:06] *** Quits: jackneill (jackneill@moz-68FD19F9.pool.digikabel.hu) (Ping timeout)
[21:07:36] *** Quits: tgkokk (tgkokk@moz-E589AF21.home.otenet.gr) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[21:11:31] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:12:50] *** Joins: hoverbear (hoverbear@moz-51AA3137.wireless.uvic.ca)
[21:17:19] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[21:17:22] * jdm gives up and adds a println
[21:18:08] <Ms2ger> That took long
[21:23:10] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Client exited)
[21:23:59] <Manishearth> Ms2ger: what was the magic word for running tests again?
[21:24:07] <Manishearth> make check, or make check-something?
[21:24:10] <Ms2ger> make check-content
[21:24:15] <Manishearth> Also, do I have to rebuild when I add a test?
[21:24:15] <Ms2ger> make check does more
[21:24:19] <Manishearth> Thanks
[21:24:21] <Ms2ger> I don't think so
[21:25:21] <Jayflux> so with COW does js write to a virtual dom?
[21:25:25] <Jayflux> hi im new here btw
[21:26:13] <jdm> Manishearth: https://github.com/mozilla/servo/wiki/JS-smart-pointers
[21:26:14] *** Quits: hoverbear (hoverbear@moz-51AA3137.wireless.uvic.ca) (Quit: Taking a nap.)
[21:26:22] *** Joins: ghservo (ghservo@C82447D.6A2AE50.F3114085.IP)
[21:26:22] <ghservo> [13servo] 15Manishearth opened pull request #1815: Add make check-content (06master...06patch-1) 02http://git.io/ezoO1w
[21:26:22] *** Parts: ghservo (ghservo@C82447D.6A2AE50.F3114085.IP) ()
[21:26:24] <jdm> Jayflux: not precisely
[21:26:31] <jdm> (note that COW DOM doesn't exist yet)
[21:26:47] <jdm> but in theory, content writes to special shadow properties on DOM nodes
[21:26:54] <Manishearth> Ms2ger: added to Readme ^^
[21:27:05] <jdm> and when layout finishes running, it overwrites the properties that layout sees with the shadow ones
[21:27:14] <jdm> and script always reads the shadow ones if they exist
[21:27:34] <eddyb> jdm: all dem COWs https://www.youtube.com/watch?v=FavUpD_IjVY
[21:28:00] *** Joins: jet (jet@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:28:16] <Jayflux> jdm,  this sounds interesting, is there anywhere to learn more about this?
[21:28:23] <jdm> Jayflux: unfortunately no
[21:28:37] <jdm> it's just a plan we have
[21:33:41] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[21:37:12] <Ms2ger> jdm, something else I thought about earlier
[21:37:31] <Ms2ger> Would it make sense if the FooBinding::Wrap functions returned JS<T> somehow?
[21:37:57] *** Quits: teosz (teosz@5F23F990.D75A9DA0.3EA6AAD8.IP) (Ping timeout)
[21:38:12] * jdm looks
[21:38:37] <kmc> thinking about this approach for translating Java static fields, which can have non-constant initializers:  https://gist.github.com/kmcallister/9356218
[21:38:57] <kmc> my understanding (or hope anyway) is that all statics in the HTML parser are constant after initialization
[21:39:04] <eddyb> what'ya doing?
[21:39:11] <jdm> Ms2ger: it seems complicated, and I'm not sure there's much benefit
[21:39:36] <eddyb> I guess porting the Java-to-C++ converter?
[21:39:59] <kmc> so I think this is thread-safe, assuming init() has finished
[21:40:08] <eddyb> kmc: kimundi posted something like that on the rust subreddit
[21:40:22] <SimonSapin> kmc: is there anything to ensure or check that get() is not called before init()?
[21:40:23] <eddyb> lazily initialized statics
[21:40:34] <eddyb> I think his was safe
[21:40:38] <kimundi> hm?
[21:41:25] <kimundi> you meant that? https://gist.github.com/Kimundi/8782487
[21:42:02] <eddyb> kmc: ^^
[21:42:03] <kmc> eddyb: yep; https://github.com/mozilla/servo/issues/1289
[21:42:04] <crowbot> Issue #1289: Switch to Gecko's HTML5 parser - https://github.com/mozilla/servo/issues/1289
[21:42:10] <kmc> and yeah I saw that
[21:42:48] <kmc> SimonSapin: not intrinsic to this code but when we integrate the translated parser with Servo we will need to ensure that, yes
[21:44:37] <kmc> eddyb: I think we want to initialize on startup, not lazily, and this way is a lot simpler
[21:44:58] <eddyb> then ignore me
[21:45:20] <eddyb> kmc: it seems you have started writing an email
[21:45:36] <kmc> ?
[21:45:49] <eddyb> oh come on, I thought that one would work :/
[21:46:54] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[21:47:08] <eddyb> aaaand google can't find it. come on, did I miss by that much?
[21:48:03] <eddyb> kmc: it was supposed to be a reference to useless helpers
[21:48:16] <kmc> clippy?
[21:48:21] <eddyb> mmmaybe
[21:48:32] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[21:48:37] <kmc> anyway I don't think your link is useless; if I hadn't seen it already I would have wanted to :)
[21:49:00] <kmc> also it's a pretty impressive hack =)
[21:50:27] *** Joins: ghservo (ghservo@2E45E35D.6A2AE50.F3114085.IP)
[21:50:27] <ghservo> [13servo] 15Ms2ger opened pull request #1816: Fail if JS_NewUCStringCopyN returns null in str_to_jsval. (06master...06str_to_jsval-fail) 02http://git.io/FmIOOQ
[21:50:27] *** Parts: ghservo (ghservo@2E45E35D.6A2AE50.F3114085.IP) ()
[21:50:55] <Ms2ger> jdm, r? for a few prs, btw :)
[21:51:07] <jdm> yep, I'll take a look at them
[21:51:49] * Ms2ger gets some sleep
[21:52:19] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[21:52:21] <jdm> goodnight!
[21:52:54] *** Joins: askalski (akuda@2BA4E5A7.CC7751E8.6712E96B.IP)
[21:54:28] *** Joins: pcwalton (pcwalton@F16146EB.9D3722BB.58DC3EE6.IP)
[21:54:28] *** ChanServ sets mode: +o pcwalton
[21:55:34] <eddyb> pcwalton: did larsberg tell you about the Deref subtyping trick? I can't remember if I've mentioned it myself to you
[21:55:37] <Ms2ger> Hmm, just realized that it's going to be annoying to move more stuff into JSValConvertible with things like StringificationBehavior
[21:55:44] <pcwalton> yeah, I'll take a look at it when I get a chance.
[21:55:46] *** Joins: ghservo (ghservo@38D6F008.6A2AE50.F3114085.IP)
[21:55:46] <ghservo> [13servo] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/BPVDsw
[21:55:46] *** Parts: ghservo (ghservo@38D6F008.6A2AE50.F3114085.IP) ()
[21:55:47] *** Joins: ghservo (ghservo@5AC7F92B.6A2AE50.F3114085.IP)
[21:55:48] <Ms2ger> Maybe implement it for (DOMString, StringificationBehavior)
[21:55:48] <ghservo> [13servo] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/82HNMg
[21:55:48] <ghservo> 13servo/06auto 1423d9a5a 15Ms2ger: Fail if JS_NewUCStringCopyN returns null in str_to_jsval.
[21:55:48] <ghservo> 13servo/06auto 14bc2a795 15bors-servo: auto merge of #1816 : Ms2ger/servo/str_to_jsval-fail, r=jdm
[21:55:48] *** Parts: ghservo (ghservo@5AC7F92B.6A2AE50.F3114085.IP) ()
[21:55:58] <jdm> graaaaaar
[21:56:04] <jdm> I still can't find my symbol
[21:56:04] *** Joins: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP)
[21:56:05] <ghservo> [13servo] 15Manishearth opened pull request #1817: Add link to testing (06master...06patch-2) 02http://git.io/3imarg
[21:56:05] *** Parts: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP) ()
[21:56:08] <jdm> even println is not helping
[21:56:55] <eddyb> jdm: there is no symbol
[21:56:55] *** Joins: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP)
[21:56:55] <ghservo> [13servo] 15Manishearth closed pull request #1815: Add make check-content (06master...06patch-1) 02http://git.io/ezoO1w
[21:56:55] *** Parts: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP) ()
[21:57:01] <eddyb> (which may be accurate)
[21:57:15] <eddyb> like, trying to break on a function will not work if that function is inlined
[21:57:35] <eddyb> that function may not even exist on its own at all
[21:57:47] <Ms2ger> But that doesn't make sense for the other direction...
[21:57:52] * Ms2ger grumbles
[21:58:12] *** Quits: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: leaving)
[21:58:21] <jdm> given that this is an extern fn for calling by C, I suspect it exists
[21:58:30] <eddyb> jdm: ohh
[21:58:30] *** Joins: brson (brson@4A08E125.708C0A12.C7EEF3A2.IP)
[21:58:30] *** ChanServ sets mode: +o brson
[21:58:40] <eddyb> Ms2ger: I had implicit conversions from JS Value's to C++ values in gearbox
[21:58:46] <eddyb> and things like .to<String>()
[21:59:03] <eddyb> (where String implicitly converted to char*)
[21:59:17] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[21:59:31] <eddyb> Ms2ger: so I'm curious if something close to that is going into Servo
[21:59:49] <Ms2ger> It's coercions
[22:00:03] <eddyb> Ms2ger: about your (value, mode) problem, can't you have a bunch of newtypes so it's mode(value) instead?
[22:00:15] <eddyb> with the default operating on the type itself
[22:00:18] <Ms2ger> Maybe
[22:00:28] <eddyb> seems shorter and more practical
[22:01:01] <Ms2ger> Basically, I need a null value to coerce into either "" or "null"
[22:01:11] <eddyb> JS -> Rust?
[22:01:14] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Quit: victorporof)
[22:01:23] <Ms2ger> Yes
[22:01:30] <eddyb> ohh that's a bit troubling
[22:01:40] <eddyb> I thought you only had the mode for Rust -> JS
[22:01:55] <Ms2ger> Well, you need to be able to call rust-implemented functions
[22:02:12] *** Joins: eholk (eholk@moz-BA312F07.crest.iu.edu)
[22:03:14] <Ms2ger> Also, for the rust -> js direction, this distinction doesn't matter, but both directions are stuck in one trait right now
[22:03:22] * Ms2ger will need to think about it more
[22:04:26] *** Quits: Ms2ger (Ms2ger@57ACE628.C60A97A6.F9FB0584.IP) (Quit: nn)
[22:06:49] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[22:08:30] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[22:09:07] *** bhearsum is now known as bhearsum|afk
[22:16:33] <kmc> bah, this isn't going to work, because some static final fields within a class depend on others
[22:19:42] *** Quits: Rym (WUT@7001AAD.5D2765E2.51C6DE68.IP) (Ping timeout)
[22:19:46] *** Joins: ghservo (ghservo@49477F7E.6A2AE50.F3114085.IP)
[22:19:46] <ghservo> [13servo] 15bors-servo closed pull request #1816: Fail if JS_NewUCStringCopyN returns null in str_to_jsval. (06master...06str_to_jsval-fail) 02http://git.io/FmIOOQ
[22:19:46] *** Parts: ghservo (ghservo@49477F7E.6A2AE50.F3114085.IP) ()
[22:19:49] *** Joins: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP)
[22:19:49] <ghservo> [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/82HNMg
[22:19:49] *** Parts: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP) ()
[22:21:11] *** Joins: Rym (WUT@7001AAD.5D2765E2.51C6DE68.IP)
[22:22:26] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[22:22:44] *** Joins: ghservo (ghservo@5AC7F92B.6A2AE50.F3114085.IP)
[22:22:44] <ghservo> [13servo] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/2J0KGw
[22:22:44] *** Parts: ghservo (ghservo@5AC7F92B.6A2AE50.F3114085.IP) ()
[22:22:45] *** Joins: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP)
[22:22:45] <ghservo> [13servo] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/SMqO4Q
[22:22:45] <ghservo> 13servo/06auto 14199dc55 15Manish Goregaokar: Add link to testing
[22:22:45] <ghservo> 13servo/06auto 14b308c58 15bors-servo: auto merge of #1817 : Manishearth/servo/patch-2, r=kmcallister
[22:22:45] *** Parts: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP) ()
[22:23:54] *** Joins: bholley (bholley@32EFA1FF.F0338C73.AECC5372.IP)
[22:24:15] <kmc> this business of translating Java to Rust is a real mess
[22:24:46] <kmc> and I fear we won't be able to do it without lots of unsafe code, which makes it a security-risk mess
[22:26:19] <kmc> I'd like to understand better why people think writing our own HTML5 parser in Rust is not the way to go
[22:26:47] <kmc> I get that it's a complicated spec, and that supporting the things real browsers need is more complicated still
[22:27:09] <eddyb> kmc: you can try to rewrite the original Java one to result in less unsafe Rust code :P
[22:27:27] <eddyb> but... I dunno. I'd do a rudimentary machine translation then clean up the mess
[22:27:27] <kmc> but the parsers I see out there aren't *that* much code, even the generated C++ that goes into Gecko
[22:27:41] <eddyb> there's patterns that fit Rust better
[22:27:57] <jdm> kmc: we've mainly been deferring to people like hsivonen and the mythical promise of shared code
[22:28:29] <kmc> (the Gecko C++ output is ~16k LoC much of which is tables)
[22:28:35] <SimonSapin> kmc: I think we hadnâ€™t realized translating Java to Rust would be significantly harder than to C++. The security risk is new info, it may be a reason to reconsider
[22:28:52] <kmc> okay
[22:28:59] <kmc> I can bring this up at the next Servo meeting
[22:29:27] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[22:29:51] <SimonSapin> please do, or write to the list to give details
[22:29:57] <kmc> okay
[22:31:38] <jdm> the list might be a good choice
[22:31:50] <jdm> other people with experience can weigh in who don't attend the meeting
[22:31:54] <kmc> yeah
[22:32:34] <kmc> that sounds good, I'll think about what to say
[22:32:49] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[22:33:01] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[22:34:38] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Quit: Savago)
[22:37:26] *** Joins: hoverbear (hoverbear@moz-51AA3137.wireless.uvic.ca)
[22:38:53] *** Joins: eibwen (kvirc@moz-7F98B089.dip0.t-ipconnect.de)
[22:40:12] *** Quits: enos (jkingyens@moz-B0C1B161.hsd1.ca.comcast.net) (Quit: enos)
[22:40:50] *** Quits: bholley (bholley@32EFA1FF.F0338C73.AECC5372.IP) (Ping timeout)
[22:43:38] *** Joins: ghservo (ghservo@2DCF43EA.6A2AE50.F3114085.IP)
[22:43:39] <ghservo> [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/SMqO4Q
[22:43:39] *** Parts: ghservo (ghservo@2DCF43EA.6A2AE50.F3114085.IP) ()
[22:43:39] *** Joins: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP)
[22:43:39] <ghservo> [13servo] 15bors-servo closed pull request #1817: Add link to testing (06master...06patch-2) 02http://git.io/3imarg
[22:43:39] *** Parts: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP) ()
[22:45:53] *** Quits: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com) (Quit: Connection closed for inactivity)
[22:46:58] *** Quits: dherman (dherman@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: dherman)
[22:48:22] *** Quits: askalski (akuda@2BA4E5A7.CC7751E8.6712E96B.IP) (Quit: Wychodzi)
[22:55:00] *** Quits: Jayflux (Jason@moz-696B1891.ppp.as43234.net) (Quit: Leaving)
[22:55:03] *** Joins: Jayflux (Jason@moz-696B1891.ppp.as43234.net)
[22:55:22] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[22:59:35] <larsberg> I suspect that part of the goal was to avoid having to do too much validation of the parser - are there some sort of test suites that we could use to test a custom html parser?
[22:59:38] *** Joins: enos (jkingyens@moz-E6FB95AC.lightspeed.sntcca.sbcglobal.net)
[22:59:51] <larsberg> or maybe an html generator-fuzzer that we could feed into the c++ one and a new rust one to verify they match?
[23:02:17] *** Quits: enos (jkingyens@moz-E6FB95AC.lightspeed.sntcca.sbcglobal.net) (Ping timeout)
[23:03:17] <kmc> there are some tests within http://code.google.com/p/html5lib/source/browse/testdata
[23:03:51] <kmc> I see that many of them were committed by hsivonen or jgraham :)
[23:05:54] *** Joins: enos (jkingyens@moz-F6D5BB14.mycingular.net)
[23:06:22] <kmc> seems the current link is https://github.com/html5lib/html5lib-tests
[23:12:30] *** Quits: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com) (Quit: computer sleep)
[23:13:14] *** Joins: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com)
[23:13:52] <SimonSapin> larsberg: I think html5lib-tests is designed to be used by different implementations
[23:16:10] <pcwalton> https://github.com/google/gumbo-parser/tree/master/src doesn't seem too bad
[23:17:40] <kmc> one issue is that browsers have to deal with document.write() and other stuff that static analysis parsers don't
[23:18:01] <kmc> but it's not clear to me that the portable parser code handles very much of that
[23:18:09] <eddyb> https://github.com/tarruda/vm.js less than 5k lines of coffeescript... I wonder if we can make a simplistic JS engine in Rust
[23:18:32] <eddyb> and even run servo with it - no performance, but as much safety as possible
[23:19:04] <eddyb> I know people are doing scheme VMs with JIT and whatnot
[23:19:19] <eddyb> is it an absolute waste of time?
[23:19:25] <jgraham> FWIW my thoughts are a) writing a static parser is "easy
[23:19:27] <jgraham> "
[23:19:38] <kmc> https://developer.mozilla.org/en-US/docs/Mozilla/Gecko/HTML_parser_threading talks about document.write(), speculation, etc. and it mostly seems to be happening on the Gecko-specific side
[23:19:46] <jgraham> In the sense that you can do a decent job with a fairly mechanical translation of the spec
[23:19:47] <kmc> so we would have to re-implement that in either case
[23:20:23] *** Quits: ahal (ahal@moz-7DE89BF0.cable.teksavvy.com) (Input/output error)
[23:20:34] <jgraham> b) Getting the document.write stuff to work right is hard, but we should have the freedom to design the rest of the code in a way that makes that relatively OK
[23:20:47] <jgraham> c) The static parsing part is very well tested
[23:21:27] <jgraham> d) The benefits of code sharing in terms of getting updates are maybe overstated. The gecko parser seems to get a few patches a year, not dozens a week
[23:22:27] <jdm> woo, my window outerizes
[23:22:29] <jgraham> So I think there is something to be said for being informed by the design of the gecko parser in terms of the way that it speculates and how it handles document.write
[23:22:54] <jgraham> But I don't think that writing a parser is the hardest challenge in writing a web browser
[23:23:09] <jgraham> Even a production-grade one
[23:24:26] <kmc> cool
[23:24:43] <jgraham> (in fact istr that large parts of the webkit parser are *literally* mechanical translations of the spec)
[23:25:14] <zmike> pcwalton: hmm all the embedding functions should probably be marked as unsafe if they take possibly-null params, right?
[23:25:30] <pcwalton> I think so
[23:26:00] <zmike> what's the syntax for that if the function is supposed to be 'pub extern "C" unsafe fn' ?
[23:26:12] <kmc> i don't think you can make unsafe externs, I filed that bug a while back :/
[23:26:17] <kmc> may have been fixed
[23:26:27] <zmike> I tried previously and got compiler errors
[23:26:43] <eddyb> abis are orthogonal from purity
[23:26:48] <eddyb> so it *should* work, if it's parsed right
[23:26:57] <eddyb> rusti: extern "C" unsafe fn foo() {}
[23:26:58] -rusti- <anon>:10:20: 10:26 error: expected `{` or `fn` but found `unsafe`
[23:26:58] -rusti- <anon>:10         extern "C" unsafe fn foo() {}
[23:26:58] -rusti-                              ^~~~~~
[23:26:58] -rusti- application terminated with error code 101
[23:27:07] <eddyb> rusti: unsafe extern "C" fn foo() {}
[23:27:07] -rusti- <anon>:10:16: 10:22 error: expected `fn`, found `extern`
[23:27:07] -rusti- <anon>:10         unsafe extern "C" fn foo() {}
[23:27:07] *** concrete.mozilla.org sets mode: +b *!*@moz-54F7FD49.cpe.net.cable.rogers.com
[23:27:07] *** rusti was kicked by concrete.mozilla.org (Flooding (Limit is 6 lines per 10 seconds))
[23:27:12] <kmc> haha
[23:27:15] <kmc> anyway it's https://github.com/mozilla/rust/issues/10025
[23:27:16] <crowbot> Issue #10025: Can't define unsafe extern "C" fn - https://github.com/mozilla/rust/issues/10025
[23:27:24] <zmike> eddyb:  I told you I couldn't do it :D
[23:27:28] <eddyb> yeah, I think it just parses one of them and stops
[23:27:37] <eddyb> but we can store that combination in the AST
[23:27:50] <eddyb> so this can very well be a 5 line parser fix
[23:27:51] <SimonSapin> Gumbo non-goals: execution speed, security
[23:27:55] <zmike> well for now I'll just mark the body as unsafe
[23:28:01] <zmike> and it can be changed later
[23:28:02] <eddyb> SimonSapin: lol
[23:28:02] *** Quits: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com) (Quit: computer sleep)
[23:28:08] *** Joins: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com)
[23:28:23] <SimonSapin> tough to justify in Servo
[23:28:44] <kmc> I don't think we would bind to an existing HTML5 library in C or whatever
[23:28:52] <kmc> we're doing that now and not that happy with it
[23:29:07] <kmc> it's unlikely to have the hooks we need for dynamic speculative parsing
[23:29:38] <zmike> jdm: haha you published that meme on the tumblr
[23:30:10] <eddyb> kmc: and Rust can end up with much better code than the Java/C++ parsers, can't it?
[23:30:12] <jgraham> FWIW I'm going to bed now but if you want to talk about this at the next meeting I will make an effort to attend. Alternatively I will read any mail on the list
[23:30:27] <kmc> cool; I'll send mail to the list soon
[23:30:34] <eddyb> heck, write a macro that takes spec format
[23:30:34] *** swook is now known as swook`
[23:30:38] <kmc> heh
[23:30:48] <eddyb> and produces Rust code. let LLVM optimize the result
[23:31:10] <jdm> zmike: I never joke about memes
[23:31:17] <SimonSapin> what I heard is that writing an HTMLÂ parser is not especially hard, but very tedious (especially the tokenizer)
[23:31:32] <zmike> jdm: that's good, I rarely find anyone else who is equally serious about memes
[23:32:09] <SimonSapin> eddyb: the spec algorithms are written in English: http://www.whatwg.org/specs/web-apps/current-work/multipage/tokenization.html
[23:32:18] <zmike> jdm: I started this one for my other project: http://edevel.tumblr.com/
[23:32:54] <jdm> nice
[23:32:57] <eddyb> SimonSapin: is it token-compatible to Rust?
[23:33:06] <SimonSapin> ?
[23:33:30] <eddyb> you can write a macro for anything that doesn't have token-level differences from Rust
[23:33:45] <eddyb> {} [] () all have to pair
[23:33:46] <kmc> SimonSapin: perhaps we can alleviate the tedium by starting with a one-time machine-translation from Java and then hacking on that rather than making the translator perfect
[23:33:49] <kmc> as eddyb suggested
[23:34:13] <jdm> there may be something to that
[23:34:31] <eddyb> SimonSapin: so far it looks goood
[23:34:35] <zmike> I swear it's like every time I run 'make' it's a race to the bottom of hte list of compiler failure errors
[23:34:51] <eddyb> U+0027 APOSTROPHE (') // this might be a problem
[23:35:04] <eddyb> also U+0022 QUOTATION MARK (")
[23:35:50] <eddyb> SimonSapin: and then there's that table at the end. but you could write a rust macro for most of it
[23:36:25] <eddyb> this is easy mode compared to generating a JS parser from a human-readable spec
[23:36:36] <SimonSapin> eddyb: show me running code :p
[23:36:38] <eddyb> (though it's true it's just the tokenizer)
[23:36:54] <SimonSapin> is there a JS parser generated from the spec?
[23:37:20] <eddyb> I mean, from the grammar in the ES spec
[23:37:41] <eddyb> I tried once and it was just too badly written
[23:38:56] <eddyb> SimonSapin: anyways, my point was that the HTML token spec you linked is just using english as pseudocode
[23:39:17] *** Quits: jet (jet@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: jet)
[23:39:25] <SimonSapin> eddyb: yes, but itâ€™s not a formally defined pseudo-code
[23:39:41] <eddyb> SimonSapin: what is? hurr durr
[23:40:12] <eddyb> and that most of it won't cause problems to the Rust tokenizer, so you can try to pattern match on it if you're crazy enough
[23:40:31] <eddyb> "Parse error. Set the DOCTYPE token's force-quirks flag to on. Switch to the bogus DOCTYPE state."
[23:40:32] <kmc> why can't specs use actual code ;_;
[23:40:41] <eddyb> that's arguably pattern matchable
[23:41:24] <eddyb> however... there's metadata so you could use a HTML or markdown version of the spec to simplify the process
[23:41:55] <eddyb> perl or awk might be more powerful than other tools at this. I dunno
[23:42:12] <eddyb> I kinda gave up on actually dealing with human input
[23:42:25] <zmike> sooo on a serious note, do I have any hope of figuring out why I'm getting a compiler error or do I need to turn it over to the competent people?
[23:43:27] <SimonSapin> kmc: Interesting idea, but using what language?
[23:43:43] *** Quits: Armavica (virgile@moz-AD428ED7.ens.fr) (Quit: leaving)
[23:43:46] <kmc> not sure
[23:43:50] *** Joins: Armavica (virgile@moz-AD428ED7.ens.fr)
[23:44:51] <kmc> EBNF for actual grammars, but harder to say for something tremendously ad-hoc like HTML5
[23:45:22] <SimonSapin> kmc: though the flexibility of human language is important for readability. Compare http://dev.w3.org/csswg/css-grid/#layout-algorithm and http://dev.w3.org/csswg/css-grid/#layout-algorithm-fantasai
[23:46:38] <SimonSapin> (two versions of the same algorithm, should behave the same)
[23:47:43] <SimonSapin> Things like "Repeat incrementally for items with greater spans until all items have been considered." would much more tedious to write in actual code, but this is easier to understand and still precise enough
[23:50:43] <jdm> zmike: ?
[23:51:16] <zmike> somehow I keep getting ICEs
[23:51:25] <jdm> mm, fun
[23:51:57] <zmike> I figured out the code that it's coming from at least
