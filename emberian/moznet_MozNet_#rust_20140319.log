[00:00:52] *** Quits: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP) (Quit: Lost terminal)
[00:01:56] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[00:03:43] <sfackler> jroweboy: I'm getting both an rlib and dylib with your version of rustc and rust-postgres :/
[00:03:52] <strcat> jmgrosen: I mean like on rust's slices
[00:05:16] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Quit: canhtak)
[00:05:38] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[00:05:49] *** Quits: twi (Adium@moz-A3B8EA95.static.bezeqint.net) (Quit: Leaving.)
[00:05:49] <jmgrosen> strcat: i.e. things will just implement Slice, and then you index the slice returned from that?
[00:05:57] <strcat> jmgrosen: no
[00:06:00] <strcat> jmgrosen: slices aren't generic
[00:06:04] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[00:06:13] <cmr> slices also only work with contiguous data.
[00:06:21] <strcat> jmgrosen: the indexing traits need to provide the ability to implement indexing *as* slices do
[00:06:26] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[00:06:29] <strcat> as in &x[0], &mut x[0], x[0], x[0] = 5 all need to work
[00:06:31] *** Joins: cris_h (cris_h@moz-7D1F0258.thefacebook.com)
[00:06:35] <strcat> Index can't provide that, so it just needs to be ripped out
[00:06:44] <jmgrosen> yeah, okay, I misunderstood what you were saying
[00:07:53] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[00:07:53] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[00:08:04] <jmgrosen> so we'll need Index, IndexMut (or IndexSet), IndexRef, and IndexRefMut?
[00:08:16] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[00:08:38] *** Quits: Denommus (user@79485229.20CA00E6.AD91B79.IP) (Quit: going home)
[00:08:42] <strcat> jmgrosen: yeah
[00:09:01] <strcat> jmgrosen: and I think +=, etc. would be implemented in terms of IndexRefMut
[00:09:08] <strcat> via the AddAssign, etc. overloads
[00:09:12] <strcat> since they take &mut self
[00:09:19] <strcat> would just be the IndexRefMut &mut
[00:10:03] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[00:10:03] *** Joins: twi (Adium@moz-A3B8EA95.static.bezeqint.net)
[00:10:07] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[00:10:10] <krdln> cmr: ok, it worked. Thank you very much!
[00:10:42] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[00:10:47] *** Quits: twi (Adium@moz-A3B8EA95.static.bezeqint.net) (Quit: Leaving.)
[00:10:54] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[00:10:54] *** Quits: IanCormac84 (User@8CCA81F.2A8D8854.67DFF8B4.IP) (Ping timeout)
[00:11:10] *** Joins: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP)
[00:11:10] <jmgrosen> strcat: out of curiosity, which do you like more: nmatsakis's simple but not very powerful slices, or chris-morgan's more powerful but more complex slices (i.e. like python)?
[00:11:14] <jmgrosen> (from https://github.com/rust-lang/rfcs/issues/13)
[00:11:22] <Tobba> ugh
[00:11:25] *** Quits: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP) (Quit: Leaving...)
[00:11:26] <Tobba> LTO still appears to be broken
[00:11:26] <strcat> jmgrosen: dunno, haven't looked at that
[00:11:29] <strcat> Tobba: works for me
[00:11:34] <Tobba> I get note: Cannot export __rust_crate_map_toplevel: symbol not found now instead of a billion linker errors though
[00:12:00] <strcat> Tobba: is this just from a single rustc invocation?
[00:12:07] <Tobba> yep
[00:12:19] *** Joins: IanCormac84 (User@DBB393A5.2A8D8854.67DFF8B4.IP)
[00:13:11] <Tobba> I think its a windows problem
[00:13:22] <Tobba> but I'd like this binary to not be 3MB
[00:13:33] *** Quits: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net) (Client exited)
[00:14:18] <huon> Tobba: https://github.com/mozilla/rust/issues/12471
[00:14:20] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[00:14:48] *** Joins: Zorbtar (e@moz-3EB6E0F9.kirk.macalester.edu)
[00:14:57] *** Joins: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net)
[00:15:09] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[00:15:21] <krdln> jmgrosen: What is chrismorgan's idea for slices?
[00:15:28] <strcat> Tobba: it will still be huge with LTO because of the stdlib's use of trait objects
[00:15:34] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[00:15:42] *** Quits: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net) (Quit: I haz left.)
[00:15:43] <Tobba> well shit
[00:15:46] <strcat> to abstract 1:1 vs. M:N dynamically
[00:15:53] *** Joins: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net)
[00:16:06] *** kimundi is now known as zz_kimundi
[00:16:08] *** Joins: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP)
[00:16:10] <strcat> Tobba: well, --link-args='-Wl,--as-needed,--gc-sections -s' should help a bit
[00:16:14] <strcat> er
[00:16:16] <strcat> -C link-args=
[00:16:32] <strcat> dunno why LTO doesn't work on windows ;\
[00:16:50] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[00:16:59] <jmgrosen> krdln: in one line, `impl Index<[Slice | int | Ellipsis, ..N], MatrixSlice> for MatrixSlice`
[00:17:13] <ChrisMorgan> Well, that's extending it much further.
[00:17:39] <ChrisMorgan> *Just* slices, it'd be `impl Index<Slice, [T]> for [T]>` or some such thing.
[00:18:43] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[00:18:54] <jmgrosen> I think that sort of thing works really well in Python (especially for NumPy), but I feel like it's just too complex for Rust
[00:19:01] <krdln> hm, aren't int | Ellipsis variants of Slice?
[00:19:27] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[00:19:58] <ChrisMorgan> krdln: allowing mingling of slices, tuples and numbers is a red herring at present
[00:20:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[00:20:53] <ChrisMorgan> In the long run, perhaps; before 1.0, almost certainly not.
[00:20:56] <krdln> i don't see a mut_split method in any of proposals
[00:21:35] <cmr> krdln: it doesn't need to be part of the trait?
[00:21:43] <cmr> once you *have* a slice it's easy to split
[00:21:56] <jmgrosen> cmr: regarding your comment on the Slice rfc, do you mean the whole rfc or just my addition?
[00:22:04] <cmr> jmgrosen: whole thing
[00:22:08] <jmgrosen> okay
[00:22:11] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[00:22:29] <krdln> cmr: of course, sorry :)
[00:22:44] <jmgrosen> cmr: you think it's just not worth the extra complexity over .slice(a, b)?
[00:22:48] *** Joins: gavinb (gavinb@E673F25E.B9698BFB.D3BA2C17.IP)
[00:22:59] <cmr> jmgrosen: yeah
[00:23:12] <cmr> I also don't see many types using it...
[00:23:12] *** Joins: txdv (quassel@966F3542.3BA477DA.14C26596.IP)
[00:23:19] <cmr> none of the interesting data structures are contiguous
[00:23:30] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[00:23:41] <jmgrosen> cmr: well, it's useful for things that wrap [T], for one
[00:23:46] <jmgrosen> e.g. str
[00:23:59] *** Quits: krdln (Mibbit@moz-C271714F.dynamic.chello.pl) (Quit: http://www.mibbit.com ajax IRC Client)
[00:23:59] <cmr> str can't return a slice of any type known to man
[00:23:59] <jmgrosen> although I agree with the contiguous bit
[00:24:36] <jmgrosen> what would you think of a slice trait that had a generic return type?
[00:24:47] <cmr> that *might* be useful
[00:24:52] <cmr> but again. complexity.
[00:24:56] <jmgrosen> yeah :/
[00:25:01] *** Joins: Khady (Khady@moz-31F9D77E.khady.info)
[00:25:15] <cmr> I mean, we already have iterators!
[00:26:42] *** jorendorff is now known as jorendorff_away
[00:26:59] <jmgrosen> what do you say to putting nmatsakis's Slice trait in libstd, but nothing special in the compiler?
[00:27:07] <cmr> sure
[00:27:53] <cmr> all it needs is .as_slice(), the rest can be default methods, which is nice.
[00:28:11] <doomlord_> (got gl linking and running again fine, is the #link(name= ...) stuff just obselete now)
[00:28:12] *** Joins: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net)
[00:28:34] <cmr> doomlord_: no, #[link(name="foo")] extern { fn foo() }
[00:28:36] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[00:28:38] <cmr> is the idiomatic way to do ffi
[00:28:56] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[00:30:44] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[00:30:46] <doomlord_> interesting, i guess that can apply sane names to mangled functions
[00:30:53] *** Joins: saml_ (saml@moz-AFAADF83.nycmny.east.verizon.net)
[00:31:02] *** Quits: mattyohe (sid5632@moz-31ABA2C0.irccloud.com) (Ping timeout)
[00:31:12] <doomlord_> or is it for another reason
[00:31:32] <cmr> well #[link] attributes also propagate to dependencies
[00:31:34] <cmr> and are linker-agnostic
[00:32:31] *** Joins: mattyohe (sid5632@moz-31ABA2C0.irccloud.com)
[00:32:57] *** Quits: saml_ (saml@moz-AFAADF83.nycmny.east.verizon.net) (Ping timeout)
[00:33:21] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[00:33:25] *** Quits: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net) (Client exited)
[00:33:41] *** Joins: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net)
[00:33:59] *** Joins: dpc (Mibbit@moz-88B014CD.nvidia.com)
[00:35:02] *** Quits: mattyohe (sid5632@moz-31ABA2C0.irccloud.com) (Ping timeout)
[00:35:20] *** Quits: bgyss (sid11244@moz-31ABA2C0.irccloud.com) (Ping timeout)
[00:35:20] *** Quits: cmeiklejohn (sid1900@moz-31ABA2C0.irccloud.com) (Ping timeout)
[00:35:20] *** Quits: lacrosse (sid21607@moz-31ABA2C0.irccloud.com) (Ping timeout)
[00:35:20] *** Quits: tomdale (sid5518@moz-31ABA2C0.irccloud.com) (Ping timeout)
[00:35:20] *** Quits: dnyy (sid2106@moz-31ABA2C0.irccloud.com) (Ping timeout)
[00:35:20] *** Quits: lenary (sid5084@moz-31ABA2C0.irccloud.com) (Ping timeout)
[00:35:20] *** Quits: iamstef (sid12605@moz-31ABA2C0.irccloud.com) (Ping timeout)
[00:35:20] *** Quits: zil (sid23500@moz-31ABA2C0.irccloud.com) (Ping timeout)
[00:35:51] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[00:36:02] *** Joins: ewalstad (Adium@moz-9A04E871.dedicated.static.sonic.net)
[00:36:38] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[00:37:08] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:37:26] <mrmonday> if I have type foo = something, is it possible to implement a seperate to_str() for foo?
[00:37:31] <cmr> no
[00:37:35] <cmr> foo isn't its own typ
[00:37:39] <cmr> *type
[00:37:48] <cmr> use `struct foo(something);`
[00:37:52] <cmr> (known as a "newtype")
[00:38:40] *** Joins: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net)
[00:38:46] <mrmonday> okie dokie, thanks :)
[00:40:41] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[00:41:01] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[00:41:58] *** Quits: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net) (Ping timeout)
[00:42:12] <SiegeLord> rusti: "ë".len()
[00:42:14] -rusti- 2
[00:42:17] *** Quits: jmgrosen (user@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[00:42:47] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[00:42:51] <cmr> rusti:  "ë".char_len()
[00:42:52] -rusti- 1
[00:43:30] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[00:43:57] *** Quits: mye (mye@moz-59B9446A.dip0.t-ipconnect.de) (Ping timeout)
[00:44:49] *** Quits: ChrisOei (ChrisOei@moz-53A9266A.blurb.com) (Client exited)
[00:44:59] *** Quits: thewonderidiot (mstewart@FAFE6CB6.8FBF3E66.60E22FEA.IP) (Quit: Leaving.)
[00:48:41] *** Joins: saml_ (saml@moz-AFAADF83.nycmny.east.verizon.net)
[00:49:17] <comex> llvmhelp.rs:88:9: 88:63 error: non-scalar cast: `uint` as `llvmshim::Opcode`
[00:49:45] <cmr> #[deriving(FromPrimitive)]
[00:49:55] <comex> Opcode is an enum with only simple discriminators
[00:50:17] <cmr> it's still not safe to cast to it, it doesn't span the integers.
[00:50:17] <comex> oh, ok
[00:50:33] <gavinb> Wondering why vec_ng::Vec doesn't implement the Index trait for v[i] support?
[00:52:38] <strcat> gavinb: Index is going away
[00:52:45] <gavinb> aha
[00:53:20] <gavinb> So how will you be able to add custom [] operator support?
[00:53:22] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[00:53:41] *** Quits: eholk (eric@moz-F70D5031.hsd1.in.comcast.net) (Quit: Konversation terminated!)
[00:53:47] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[00:53:49] <strcat> gavinb: you won't be able to until the new index traits land
[00:53:53] <strcat> so it's not going to implement Index
[00:54:53] *** Quits: ehsanul (harish@moz-A9E56CFE.hfc.comcastbusiness.net) (Ping timeout)
[00:55:05] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[00:55:05] *** Joins: lucian_ (lucian@moz-8408FDFA.cable.virginm.net)
[00:55:07] *** Joins: ehsanul (harish@moz-A9E56CFE.hfc.comcastbusiness.net)
[00:55:30] <gavinb> I was trying to update rust-bindgen to work with master, as I am using rust-opengles which won't build atm. But it looks like updating it to use vec_ng was premature...
[00:56:01] <doomlord_> does rust-bindgen emit any constants these days
[00:56:12] <strcat> gavinb: ~[T] is going away
[00:56:24] <strcat> gavinb: it will be gone before new index traits land
[00:56:47] *** Joins: nszceta (nszceta@moz-E6CA8D6.hsd1.pa.comcast.net)
[00:56:48] *** Quits: lucian_ (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[00:57:10] <gavinb> strcat: yes I was trying to fix those deprecation warnings but doesn't look like I can complete the fixes with the current state of things.
[00:57:24] <strcat> gavinb: don't see why
[00:57:28] <seanmonstar> gavinb: isn't it vec.get(i)?
[00:57:39] <sfackler> strcat: e.g. Reader and Writer still use ~[T]
[00:57:41] <jensnockert> Anyone knows a workaround to this linker issue? https://gist.github.com/jensnockert/221ef976bcae3a1f13ff
[00:57:41] <doomlord_> i understand most people will need to refactor but is it safe to keep ~[T] for cases where you aren't growing
[00:57:48] <strcat> doomlord_: no
[00:57:52] <strcat> ~[T] is being removed
[00:57:59] *** Quits: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net) (Quit: carllerche)
[00:58:05] <strcat> it will be gone before there DST is there and before new indexing traits are there
[00:58:07] <gavinb> seanmonstar: erm yes, good point
[00:58:14] *** Quits: pcwalton (pcwalton@moz-24157589.mtv2.mozilla.com) (Quit: pcwalton)
[00:58:21] <Zorbtar> Hey all, random question.  Why does the Container trait have so few methods (e.g. not even contains())?
[00:58:47] <cmr> Zorbtar: the container trait is the lowest common denominator.
[00:58:54] <cmr> it's not particularly useful to be generic over it
[00:58:57] <sfackler> Zorbtar: what does it mean to call contains on a map?
[00:59:07] <cmr> but everything wants a .len()
[00:59:08] *** Quits: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP) (Ping timeout)
[00:59:09] <sfackler> contains key? contains value?
[00:59:10] <cmr> so there it is
[00:59:55] <pingveno> strcat: That [] indexing question... popular :)
[01:00:08] <dougxxx> jensnockert: It's not really a work around, but I use cmake to delete the duplicate symbols after building the dependency. :/
[01:00:23] <dougxxx> *duplicate libraries
[01:00:28] *** Joins: mattyohe (sid5632@moz-31ABA2C0.irccloud.com)
[01:00:31] <pingveno> strcat: I think you're the person who answered my question about it.
[01:01:35] <Zorbtar> sfackler: Is there any way it can be made more clear that Container is *not* the equivalent of Collection in Java?
[01:01:45] *** Quits: klaus (koz@moz-4486E876.hsd1.wa.comcast.net) (Quit: klaus)
[01:01:46] *** Quits: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP) (Ping timeout)
[01:02:00] *** Joins: pcwalton (pcwalton@moz-24157589.mtv2.mozilla.com)
[01:02:00] *** ChanServ sets mode: +ao pcwalton pcwalton
[01:02:06] <cmr> Zorbtar: Rust isn't Java, and it's not even named the same thing, and has nothing like the same methods so... it's pretty hard to confuse?
[01:03:21] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[01:03:21] <dpc> The libraries and structs inside them could really use more verbose descriptions in libraries.
[01:03:29] <Zorbtar> cmr: I don't know ---  I would think that a container would actually have to contain something, not just have a length.
[01:03:51] <Havvy|out> If it has a length, I'd call it Sizable
[01:03:51] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[01:03:52] <dpc> I'm looking at collections"
[01:04:00] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Ping timeout)
[01:04:05] <strcat> Zorbtar: it contains something and the length is the number of things it contains
[01:04:06] <seanmonstar> or Sized
[01:04:15] <cmr> Sized doesn't play nicely with DST
[01:04:21] <Havvy|out> Or Unsized. Because DST. ;)
[01:04:29] <gavinb> Sizable seems to imply mutability too
[01:04:30] <cmr> Unsized plays worse.
[01:04:32] <strcat> those traits can be extended in the future, and more traits can be added
[01:04:33] <doomlord_> are any C++ static analysis tools anywhere near rusts' lifetimes/freezing ... i guess they'd have to 'infer all lifetimes' .. and of course it would only be a subset of c++ programs it could check
[01:04:33] <seanmonstar> Sizedableness
[01:04:36] <strcat> seems fine as it is right now though
[01:04:44] <strcat> doomlord_: no
[01:04:57] <strcat> doomlord_: because no one writes C++ within a strict set of rules like that
[01:05:09] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[01:05:25] *** Joins: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP)
[01:05:35] *** Joins: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP)
[01:05:37] *** Joins: lacrosse (sid21607@moz-31ABA2C0.irccloud.com)
[01:05:40] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[01:06:06] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[01:06:17] *** Joins: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP)
[01:07:43] <Havvy|out> But what if they did?
[01:07:46] *** Havvy|out is now known as Havvy
[01:07:59] *** Quits: IanCormac84 (User@DBB393A5.2A8D8854.67DFF8B4.IP) (Ping timeout)
[01:08:03] *** Quits: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP) (Ping timeout)
[01:08:12] <strcat> Havvy: it would need extensions to support the same annotations...
[01:08:32] *** Joins: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP)
[01:08:38] <strcat> so if the question is what if you extended a small subset of C++ with rust's type system, would it work? sure
[01:08:43] <doomlord_> "if its syntactically legal, it will appear in the sourcebase" , but i wonder if the era of clang has produced attempts to automatically impose rules on c++ programmers
[01:08:54] <strcat> is that an interesting question? I don't really think so, it wouldn't be C++ anymore
[01:08:59] <strcat> it would be a tiny subset
[01:09:03] *** Joins: IanCormac84 (User@4CA8BF2C.2A8D8854.67DFF8B4.IP)
[01:09:05] <strcat> no existing programs/libraries would be valid
[01:09:49] <mrmonday> what do I need to compile with to get stack traces for index out of bounds errors? currently I'm just getting filename.rs:1
[01:10:33] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[01:10:50] *** Joins: jmgrosen (user@moz-848F6087.sb.sd.cox.net)
[01:11:06] *** Quits: gavinb (gavinb@E673F25E.B9698BFB.D3BA2C17.IP) (Quit: gavinb)
[01:11:35] <cmr> mrmonday: run with RUST_BACKTRACE=1
[01:11:42] *** Joins: ChrisOei (ChrisOei@moz-939DB6B2.dedicated.static.sonic.net)
[01:12:36] <mrmonday> magic, thanks :)
[01:12:41] *** Quits: jmgrosen (user@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[01:13:06] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[01:13:14] <mrmonday> line numbers are missing, is there something else I need to do to get them? I compiled with -g
[01:13:26] <cmr> you need to use gdb to get them
[01:13:31] *** Quits: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP) (Ping timeout)
[01:13:41] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[01:13:43] <cmr> anything beyond simple stack trace of symbols is gdb territory
[01:13:47] <Earnestly> Havvy: "What if C programmers wrote perfect, bug free code?" :P
[01:14:21] *** Quits: eatkinson-away (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Ping timeout)
[01:14:22] <Havvy> Earnestly:  Then they'd be working on Plan 9?
[01:14:28] <mrmonday> ok, thanks
[01:14:31] <Havvy> ;)
[01:14:37] <Earnestly> Havvy: Heh, I host mirrors of it, it's not perfect :p
[01:14:38] *** Joins: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP)
[01:15:01] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:15:04] <Earnestly> They can get away with nice and consistent code because it's all files, basically.  And dial() is quite lovely
[01:15:29] *** Joins: derek_c (derek@moz-E2D1E2DC.cit.cornell.edu)
[01:15:40] *** Joins: lenary (sid5084@moz-31ABA2C0.irccloud.com)
[01:15:44] <strcat> it's not about it being perfect code
[01:15:53] <Earnestly> strcat: bugfree*
[01:15:54] <strcat> rust's borrow checker forbids a *lot* of correct code
[01:15:58] <strcat> Earnestly: doesn't matter either
[01:16:07] <jmgao> should this be failing with "copying a value of non-copyable type `std::option::Option<T>`" on lines 15/21? shouldn't Option<T> be copyable if T is? http://hastebin.com/yuxejimame.cobol
[01:16:11] <strcat> and it wouldn't just force you to use a subset of the language
[01:16:15] <strcat> it would have to be annotated too
[01:16:25] *** Quits: onelson (owen@moz-DD666EC5.laika.com) (Quit: Leaving)
[01:16:33] *** Quits: apoelstra (username@moz-B7040E82.vs.shawcable.net) (Ping timeout)
[01:16:44] <Earnestly> strcat: I honestly think we're talking about two different things, I wasn't following your conversation, sorry :p
[01:18:55] *** Joins: gavinb (gavinb@E673F25E.B9698BFB.D3BA2C17.IP)
[01:19:03] *** Joins: eatkinson-away (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[01:19:57] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[01:20:18] *** Quits: q66 (q66@moz-F6A06AD8.range31-52.btcentralplus.com) (Quit: Leaving)
[01:20:25] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[01:20:31] *** Quits: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net) (Ping timeout)
[01:20:41] *** Joins: dnyy (sid2106@moz-31ABA2C0.irccloud.com)
[01:20:42] *** Joins: zil (sid23500@moz-31ABA2C0.irccloud.com)
[01:21:17] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[01:22:07] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[01:23:01] <dpc> Which library will give me elements inside a given directory?
[01:23:43] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[01:24:26] <Armavica> dpc: std::io::fs
[01:24:39] <dpc> Thank you.
[01:24:41] <SiegeLord> Hmm... bindgen's handling of size_t is kind of poor
[01:25:26] <Zorbtar> Another question ---  The lower_bound() and upper_bound() methods of TreeMap return iterators to entries >= and > the specified key, respectively.  This is copied from C++ std::map but could these be named something more intuitive, and similar methods added for keys < and <=?
[01:25:40] <strcat> SiegeLord: the bindings won't be platform independent
[01:25:42] *** Joins: cmeiklejohn (sid1900@moz-31ABA2C0.irccloud.com)
[01:25:43] *** Joins: tomdale (sid5518@moz-31ABA2C0.irccloud.com)
[01:25:53] <strcat> SiegeLord: library ABIs vary based on platform/configuration
[01:26:04] <strcat> so aiming for that may not make sense in the first place
[01:26:08] <SiegeLord> It's not a realistic issue
[01:26:24] <strcat> when it's integrated into rustc, it won't need to output reusable rust code
[01:26:34] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[01:26:43] <SiegeLord> I'll eat a cake on that day... but that day is not today
[01:26:47] <strcat> so whatever it does with typedefs that's wrong now would be fine
[01:26:59] <dpc> Is static linking a default nowadays?
[01:27:07] <strcat> dpc: static linking to rust libraries, yes
[01:27:14] <SiegeLord> I'll just make a note of it to go through everything manually
[01:27:16] <strcat> still dynamically links against native libs by default
[01:27:28] <strcat> SiegeLord: or generate them per-platform
[01:27:29] <dpc> strcat: Can this be changed?
[01:27:46] <strcat> dpc: you want to dynamically link?
[01:27:59] <dpc> Yes, just for trying.
[01:28:08] <SiegeLord> It seems like too much effort to generate them per-platform, as I have to do a lot of semi-manual post-processing
[01:28:13] <strcat> -C prefer-dynamic
[01:28:24] <dpc> Basically, I'm wondering how much can I strip the resulting hello_world binary.
[01:28:34] <strcat> SiegeLord: it won't handle ifdefs in a sane way though
[01:28:47] <SiegeLord> A good library won't have many of those
[01:29:02] <SiegeLord> Nor will it use stuff like 'long'
[01:29:05] <cmr> dpc: it's like 12K, stripped, dynamic.
[01:30:20] <dpc> Stripped static is build is 1.7MB. Shouldn't this be smaller?
[01:30:26] <cmr> it should be.
[01:30:30] <cmr> it's being worked on.
[01:30:31] <strcat> dpc: with LTO, it should be smaller
[01:30:52] <strcat> with static linking alone it may get smaller or larger
[01:30:53] <dpc> Ah, so the dead code is not eliminated from static binary yet?
[01:31:06] <strcat> but with -Z lto it should be the same as a C binary
[01:31:17] *** Quits: LU324 (asdf@moz-864C7465.dyn.embarqhsd.net) (Ping timeout)
[01:31:25] <strcat> dpc: it won't be, it's all in one .o
[01:31:46] <strcat> LTO can and should eliminate all the dead code, but it uses too much dynamic dispatch
[01:32:12] <dpc>  --debuginfo=0 -Z lto -O + strip brought that down to 830K
[01:32:38] <Armavica> I used to match an Option<~str> against None, a couple of Some(~"foo") and Some(s): how can I do it now that matching on ~str is not allowed anymore?
[01:32:39] <strcat> dpc: -C link-args="-s" would remove the need to do strip yourself
[01:32:44] <dpc> Though the compilation time is like 10s... :D
[01:32:47] <strcat> and you can pass -Wl,--as-needed,--gc-sections that way too
[01:32:59] <cmr> Armavica: match on Option.map(|x| x.as_slice())
[01:33:04] <cmr> and Some("foo")
[01:33:05] <strcat> dpc: it should be ~4-8K that way, but it won't be due to how the stdlib is written
[01:33:15] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[01:33:21] <Armavica> cmr: thank you
[01:33:26] <strcat> dpc: maybe one day it will be
[01:33:49] <strcat> for now the best you can do is ~700kB
[01:34:10] <dpc> 804K for a not-that trivial example. Not bad.
[01:34:12] <strcat> and it climbs faster than it should once you start using code
[01:34:31] <strcat> but that's due to a multitude of issues, not just the same one
[01:34:34] <dpc> All because of dynamic dispatch? 
[01:34:52] <strcat> dpc: most of it is because dynamic dispatch is used for I/O and concurrency, + it's not really a library
[01:34:57] <strcat> your main function isn't the entry point
[01:35:29] <dpc> It's all fine. I'm just playing. You're doing a great job guys. The documentation is getting better and better and I hope the new Cargo will rock.
[01:35:34] <strcat> dpc: if you define your own entry point with #[start], I think -Z lto will remove it all
[01:35:42] <strcat> but then you're unable to use the stdlib safely
[01:36:03] *** Joins: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[01:36:06] <cmr> almost everything except std::io and std::task will still work though.
[01:36:13] <Armavica> cmr: between that and Vec<T>, I find that the match structures now become pretty verbose: does it mean that it is not The Right Way?
[01:36:14] *** Quits: pcwalton (pcwalton@moz-24157589.mtv2.mozilla.com) (Quit: pcwalton)
[01:36:26] *** Joins: Guest_ (textual@moz-B0DA5BFF.hsd1.sc.comcast.net)
[01:36:46] <strcat> you can still match on Vec<T>
[01:36:56] <strcat> convert it to a slice
[01:36:58] <Armavica> yes, using as_slice()
[01:37:16] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[01:37:42] *** Joins: mimcpher (mimcpher@moz-345B5EBA.csclub.uwaterloo.ca)
[01:37:54] *** Joins: pcwalton (pcwalton@moz-24157589.mtv2.mozilla.com)
[01:37:54] *** ChanServ sets mode: +ao pcwalton pcwalton
[01:38:16] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[01:38:17] *** Quits: mimcpher (mimcpher@moz-345B5EBA.csclub.uwaterloo.ca) (Quit: leaving)
[01:38:46] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[01:38:47] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:38:52] *** Quits: pcwalton (pcwalton@moz-24157589.mtv2.mozilla.com) (Quit: pcwalton)
[01:40:39] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[01:40:40] <Armavica> but I find that the "beauty" of the code suffers a bit here
[01:41:30] <SiegeLord> Many things are getting uglier
[01:41:35] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[01:41:51] <SiegeLord> The sole exception is the Deref trait... that cleaned up a few things
[01:42:01] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[01:42:01] <ryeguy> i just hope that rust gets a facelift sometime in the future, even if it's post 1.0
[01:42:16] <SiegeLord> I'm not switching to Vec until it gets Index :P
[01:42:21] <SiegeLord> willingly, at least
[01:42:35] <strcat> SiegeLord: Index will be gone
[01:42:42] <strcat> so there's little point complaining about it not implementing it
[01:42:47] <dougxxx> hash!() here we come
[01:42:56] <dougxxx> next it'll be array!()
[01:43:07] <strcat> we never had literals for hash maps
[01:44:00] <mcpherrin> please_sir_instantiate_an_integer!()
[01:44:06] <dougxxx> yeah, I'm honestly fine with Vec; I find it useful to be able to macro it up to pick *which* hashmap or vector impl to use
[01:44:10] *** Quits: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:44:26] <strcat> dougxxx: we can have a generic container literal macro
[01:44:44] <strcat> let xs: HashSet<_> = seq!(1, 2, 3);
[01:44:48] <dougxxx> that would be cute
[01:44:59] <strcat> it would be more verbose than vec! is for Vec<T>
[01:45:17] <Zorbtar> Question about the bloated binaries: I compiled a hello world binary with rustc (no arguments) and stripped it.  It seems to contain duplicate strings (for example the quotes from rt/util.rs) --- why?
[01:45:36] <cmr> Zorbtar: did you run with -O and -Z lto?
[01:45:37] <strcat> or it could be seq!(HashSet<_>, 1, 2, 3)
[01:45:43] <gavinb> I keep getting an ICE around ebml::reader::vuint_at_slow. Seems to be related to out-of-date crates or something. Called from metadata::decoder::maybe_get_crate_id. Worth reporting or should I rebuild _everything_ first?
[01:45:44] *** Quits: leowoe (Leo@moz-B36BEE6A.dip0.t-ipconnect.de) (Quit: Leaving.)
[01:45:45] <dougxxx> mm
[01:45:59] <cmr> gavinb: rebuild
[01:46:01] <dougxxx> I'd love a way to specify macros in a scope
[01:46:18] <dougxxx> eg. pick_seq!(HashSet)
[01:46:24] <dougxxx> let x = seq!(1,2 ,3)
[01:46:26] <gavinb> cmr: ok
[01:46:35] <strcat> ryeguy: the syntax is very unlikely to change post-1.0
[01:46:43] <Zorbtar> cmr: I just ran with both and there was no difference.
[01:47:18] <strcat> ryeguy: syntax could be added, but the existing syntax wouldn't change or go away
[01:47:24] <ryeguy> strcat: i don't necessarily mean change, just some sugar 
[01:47:55] <strcat> Vec<T> won't get language-level sugar specific to it
[01:48:12] <ryeguy> i'm overall happy with rust's syntax, i'm not complaining about that. It's just rust takes the verbose route more often than not, which could be tamed with some syntactical sugar here or there
[01:48:15] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[01:48:26] <strcat> if there's something wrong with Vec<T>, then it's a problem for SmallVec<T> or Rope<T> too
[01:48:43] <strcat> hard-wiring a specific container into the language is an easy solution but not one that's viable in a systems language
[01:48:54] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[01:49:07] <Zorbtar> cmr: The stripped binary is also still 839672 bytes with those options.  Seems way excessive for hello world.
[01:49:26] <strcat> Zorbtar: it is excessive, it's a bug
[01:49:38] <strcat> don't forget to strip it though
[01:49:52] <strcat> -C link-args="-s -Wl,--as-needed,--gc-sections"
[01:49:58] <dougxxx> I'm a bit sad to see the Index trait go away though; it seemed like that was a good compromise.
[01:49:59] <strcat> why do we get so many of the same question in a day though? ;p
[01:49:59] *** Quits: funnel (hegel@DEB31F3E.28CFCE3E.FC69BED9.IP) (Ping timeout)
[01:50:26] <strcat> dougxxx: it's unable to provide the indexing available on &[T]/&mut [T] and what ~[T] had
[01:50:29] *** Quits: gsathya (gsathya@moz-5068C8E5.gsathya.in) (Ping timeout)
[01:50:56] <strcat> a half-working solution that's going to block a working solution is worse than not having one
[01:51:05] *** Joins: phay (phay@16E8BAAB.D2C4A785.91986DB5.IP)
[01:51:08] <dougxxx> yeah; and it's hard coding a trait, which is only one step away from hard coding a class impl.
[01:51:21] <dougxxx> ... but I still miss it
[01:51:27] <SiegeLord> strcat: So [] will not be overloadable?
[01:51:36] *** Quits: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net) (Quit: sw17ch)
[01:51:41] <strcat> SiegeLord: [] will be overloadable
[01:51:58] <SiegeLord> That's obviously what I mean though
[01:52:00] <strcat> &xs[i], &mut xs[i], xs[i], xs[i] = 5, xs[i] += 5 need to work
[01:52:04] <strcat> SiegeLord: well, Index will go away
[01:52:09] <strcat> it doesn't work for this
[01:52:09] <SiegeLord> Why would I say "I want Vec to implement an obviously horrible trait"
[01:52:34] <strcat> SiegeLord: we'll certainly have overloading for [], I don't think that's controversial
[01:52:41] <strcat> just needs to be done properly
[01:53:00] <strcat> atm you could only implement xs[i] returning &T
[01:53:06] <strcat> it would be backwards incompatible to change it
[01:53:21] <ryeguy> fn add(foos: &Vec<BigStruct>, bs: BigStruct) { foos.push(bs); } // How many times will `bs` be copied here? Or is there any hope it will be optimized away?
[01:53:25] <strcat> (and Index would have to be removed to land the new ones anyway)
[01:53:52] *** Quits: ehsanul (harish@moz-A9E56CFE.hfc.comcastbusiness.net) (Ping timeout)
[01:53:54] *** Joins: funnel (hegel@DEB31F3E.28CFCE3E.FC69BED9.IP)
[01:54:06] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[01:54:09] <strcat> ryeguy: it will get inlined and copied once into the vector
[01:54:18] <strcat> if it can see the initialization then it will construct it in-place
[01:54:19] <mrmonday> what do I need to import to get .len() for a &[u8]?
[01:54:31] *** Quits: dpc (Mibbit@moz-88B014CD.nvidia.com) (Quit: http://www.mibbit.com ajax IRC Client)
[01:54:37] <strcat> if you put #[inline(never)], then it would be copied to pass it and then written out into the vector
[01:55:25] <ryeguy> strcat: so in this case the copy avoidance is basically only because the function is small?
[01:55:26] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[01:55:36] <strcat> ryeguy: yes
[01:55:50] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[01:55:59] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[01:56:23] *** Quits: cris_h (cris_h@moz-7D1F0258.thefacebook.com) (Client exited)
[01:56:24] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[01:56:40] *** Quits: gimpf (gimpf@moz-DB86CEB0.adsl.highway.telekom.at) (Quit: Leaving.)
[01:57:49] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[01:58:21] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:58:26] <gavinb> What is the best way to ensure a clean removal of a rust build installed into /usr/local?
[01:58:35] <dougxxx> O_o, what's the different between c_void * and c_void_ptr?
[01:58:57] <strcat> gavinb: you can't really
[01:59:08] <strcat> you can run make uninstall from the same version you started from
[01:59:10] *** Joins: ehsanul (harish@moz-A9E56CFE.hfc.comcastbusiness.net)
[01:59:14] <dougxxx> yay automake~
[01:59:17] <dougxxx> :(
[01:59:20] <strcat> will hopefully remove everything
[01:59:36] <gavinb> strcat: maybe getting a home-brew recipe that builds from local source would do the trick...
[01:59:53] *** Quits: tyna (liadon@moz-BB1BAD9A.dynamic.chello.pl) (Ping timeout)
[02:00:01] <gavinb> anyway will try 'make uninstall' before doing the next 'git pull'
[02:00:13] <strcat> you can leave it in the dir you built from
[02:00:19] <cmr> dougxxx: we don't use automake
[02:00:27] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[02:00:35] <dougxxx> you don't?
[02:00:35] <gavinb> dougxxx: then you'd have two problems! :P
[02:00:38] <cmr> of course not.
[02:00:53] <strcat> if you want to be able to remove it sanely you should install it with a package ;p
[02:00:56] * dougxxx looks suspiciously at configure
[02:00:58] <cmr> why would we use such a miserable inflexible piece of garbage!
[02:01:00] *** Joins: p1start (rewi@moz-E7F3D014.org)
[02:01:05] <cmr> hand written by graydon himself I believe
[02:01:26] *** Joins: Mathieu (cicak@420C86E4.9C1E3043.FBF02BB8.IP)
[02:01:33] <gavinb> strcat: sounds like running in-place is the best solution...
[02:01:37] <dougxxx> I unconditionally withdraw my :(
[02:01:43] <dougxxx> that's actually quite lovely~
[02:02:42] *** Quits: espindola (espindola@780017EA.BC8F0BCC.87193065.IP) (Input/output error)
[02:03:17] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[02:04:11] *** Quits: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP) (Ping timeout)
[02:04:46] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[02:05:12] *** Joins: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[02:06:18] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[02:06:37] *** Joins: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP)
[02:07:33] *** Quits: janra (Janus@1CDC5701.A48867D7.52E4E107.IP) (Ping timeout)
[02:09:02] <sfackler> gavinb: another option is to build with a prefix of $HOME/.rust-local and adding $HOME/.rust-local/bin to your PATH
[02:09:03] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[02:09:18] <strcat> and .rust-local/lib to LD_LIBRARY_PATH
[02:09:27] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[02:09:46] <gavinb> strcat: yes, great idea.
[02:10:51] * strcat takes full credit for sfackler's idea ;)
[02:10:58] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[02:11:31] *** Joins: jmgrosen (user@moz-848F6087.sb.sd.cox.net)
[02:11:55] *** Joins: andrewd18 (andrew@moz-DAC9D29F.wi.res.rr.com)
[02:12:05] <Armavica> I hate the assert!(is_utf8(v)) in from_buf_len :(
[02:12:15] <strcat> why?
[02:12:24] <Armavica> I'm trying to print a c_str which is not utf8 encoded
[02:12:29] <dougxxx> O_o
[02:12:36] <strcat> Armavica: don't use ~str then
[02:12:55] <Armavica> what then?
[02:13:01] <strcat> Armavica: ~[u8]
[02:13:11] <strcat> the only purpose of ~str is to be a UTF-8 encoded string
[02:13:19] <strcat> if it didn't have that invariant, it would have no reason to exist
[02:13:25] *** Quits: jmgrosen (user@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[02:13:26] <Armavica> and I can print ~[u8] as a string?
[02:13:41] <strcat> you can write the raw bytes to stdout
[02:13:45] <o11c> Armavica: basically, rust's u8 is like a C char
[02:13:58] <Earnestly> C char is 1 byte
[02:14:00] <Armavica> ok, interesting
[02:14:01] <o11c> Armavica: sometimes it's a a string, sometimes it's just an integer, sometimes it's opaque data
[02:14:04] <Earnestly> to me :<
[02:14:19] <o11c> the only differrence is that you don't have to worry about signedness
[02:14:23] <strcat> Earnestly: sure, u8 is like unsigned char (on POSIX/windows at least)
[02:14:34] <Earnestly> o11c: Well, signedness is implementation defined for char
[02:14:48] <strcat> the signedness does end up changing behaviour
[02:15:34] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[02:16:11] <Earnestly> strcat: I wrote a recursive function in zsh and tried to give it a floating point number, now all my caches are gone and everything is slow again ;(
[02:16:23] *** Quits: gavinb (gavinb@E673F25E.B9698BFB.D3BA2C17.IP) (Quit: gavinb)
[02:16:34] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[02:16:35] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[02:16:38] *** Joins: gavinb (gavinb@E673F25E.B9698BFB.D3BA2C17.IP)
[02:17:43] <strcat> ugh, why does portaudio even have a windows pkg-config file
[02:17:46] <strcat> it's wrong
[02:18:56] *** Quits: Guest_ (textual@moz-B0DA5BFF.hsd1.sc.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:20:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[02:21:50] *** Joins: gsathya (gsathya@moz-5068C8E5.gsathya.in)
[02:22:09] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[02:22:40] *** Joins: dotfelix (dotfelix@DD7ADC91.829DBEF3.40E092AA.IP)
[02:23:11] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[02:23:39] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[02:24:26] <tautologico> are there plans for overloading indexing such that I can index a 2d matrix with minimal overhead? :)
[02:24:58] *** Quits: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP) (Ping timeout)
[02:25:14] <ryeguy> lol indexing sure gets mentioned here a lot
[02:25:33] <ryeguy> tautologico: yes, it's planned
[02:25:37] <strcat> well, depends
[02:25:54] <huhlig> anyone know of an up to date bare metal project using rust atm?
[02:26:34] <strcat> huhlig: rust-core still works afaik
[02:26:42] <strcat> although the subset of the library it has is way out-of-date
[02:27:01] <strcat> don't really want to maintain it anymore, it's about time libstd supported that use case
[02:27:14] <strcat> and by supported I mean stuff like Option and Iterator would be available
[02:27:26] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[02:27:49] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[02:27:50] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[02:28:36] <o11c> strcat: IMO it's still good that it *has* a pkg-config file - we need more pkg-config on windows
[02:28:54] *** Joins: dsrx (tom@moz-E45742D4.public.wayport.net)
[02:30:00] <strcat> o11c: it's a mess anyway
[02:30:21] <strcat> /usr/i686-w64-mingw32/bin/libportaudio-2.dll
[02:30:24] <strcat> /usr/i686-w64-mingw32/bin/libportaudiocpp-0.dll
[02:30:29] <strcat> /usr/i686-w64-mingw32/lib/libportaudio.dll.a
[02:30:31] <strcat> /usr/i686-w64-mingw32/lib/libportaudiocpp.a
[02:30:32] <huhlig> strcat
[02:30:33] <strcat> /usr/i686-w64-mingw32/lib/libportaudiocpp.dll.a
[02:30:35] <strcat> (and the same for 64-bit)
[02:30:53] <strcat> o11c: .dll.a? ;s
[02:31:00] <huhlig> strcat: is that something planned or is using rust for embedded/kernel dev just a pipe dream
[02:31:03] <strcat> although it looks like other libraries do that too
[02:31:11] <strcat> huhlig: it's not a pipe dream, it works fine already
[02:31:13] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[02:31:13] *** ChanServ sets mode: +o jdm
[02:31:16] <strcat> huhlig: just libstd doesn't work
[02:31:27] <sfackler> huhlig: there are a couple of rust kernels being worked on
[02:31:48] <huhlig> sfackler: most I have found all are still using zero.rs which was deprecated
[02:31:56] <strcat> 22:28:07      strcat | huhlig: rust-core still works afaik
[02:31:59] <strcat> 22:28:15      strcat | although the subset of the library it has is way out-of-date
[02:32:20] <huhlig> the other I found used rust-core
[02:32:29] <strcat> which works
[02:32:59] *** Quits: p1start (rewi@moz-E7F3D014.org) (Ping timeout)
[02:35:48] *** Joins: bgyss (sid11244@moz-31ABA2C0.irccloud.com)
[02:35:48] *** Joins: iamstef (sid12605@moz-31ABA2C0.irccloud.com)
[02:36:24] *** Quits: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[02:37:02] *** Joins: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[02:37:14] *** Quits: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[02:37:46] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[02:38:21] *** Joins: ehsanul_ (harish@moz-A9E56CFE.hfc.comcastbusiness.net)
[02:38:36] *** Quits: ehsanul (harish@moz-A9E56CFE.hfc.comcastbusiness.net) (Ping timeout)
[02:40:31] *** Joins: IanCormac841 (User@D961F774.2A8D8854.67DFF8B4.IP)
[02:40:38] *** Quits: IanCormac84 (User@4CA8BF2C.2A8D8854.67DFF8B4.IP) (Ping timeout)
[02:41:08] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Quit: canhtak)
[02:41:41] *** Quits: gavinb (gavinb@E673F25E.B9698BFB.D3BA2C17.IP) (Quit: gavinb)
[02:41:56] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[02:42:09] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[02:44:22] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Ping timeout)
[02:44:31] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[02:44:39] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[02:44:45] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[02:45:06] *** Quits: soumyaC (uid15286@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[02:45:08] <tautologico> how do I set a new value for an element of this new Vec thing?
[02:45:20] <tautologico> there's a get method but no set
[02:45:44] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[02:45:49] <strcat> get_mut
[02:46:48] <dotfelix> tautologico: do you mean the std::vec_ng::Vec ?
[02:46:56] <tautologico> yes
[02:48:03] <dotfelix> i think push will do it
[02:48:40] *** Quits: zmthy (zmthy@moz-C2881CC3.ecs.vuw.ac.nz) (Quit: leaving)
[02:48:48] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[02:49:04] *** Joins: jgmize (jmize@BF58DE81.56CA2DB3.882D51D2.IP)
[02:49:08] <tautologico> I don't want to grow the vector, just change an element
[02:49:27] *** Quits: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP) (Ping timeout)
[02:49:27] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:49:40] <strcat> get_mut works
[02:49:44] *** Joins: lpy (lpy@1834E2CB.F09091A8.1348A864.IP)
[02:50:09] *** Joins: cgaebel (clark@moz-F9D89110.nyc.res.rr.com)
[02:50:26] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Quit: Leaving...)
[02:50:45] <cgaebel> is there a way to get debug info in rustc? I'm looking mainly for usable "perf report" output.
[02:51:03] <strcat> -g
[02:51:08] *** Joins: orospakr (orospakr@moz-A57EF4CD.cpe.net.cable.rogers.com)
[02:51:37] <mrmonday> how do I disable documentation generation when building rustc/libstd?
[02:51:41] <cgaebel> uhh where do I put that when I'm building rustc?
[02:51:59] <strcat> cgaebel: oh for rustc itself
[02:52:04] <cgaebel> yeah
[02:52:12] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Connection reset by peer)
[02:52:18] <strcat> there's --enable-debug-symbols
[02:52:26] *** Joins: Guest_ (textual@moz-B0DA5BFF.hsd1.sc.comcast.net)
[02:52:34] <strcat> cgaebel: although LLVM doesn't support debugging with optimizations on, beyond basic line info
[02:52:41] *** Joins: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP)
[02:52:47] <cgaebel> strcat: where do I --enable-debug-symbols? make?
[02:52:55] <cgaebel> and I don't even really need line info, just function names..
[02:53:05] <strcat> configure
[02:53:28] <strcat> wtf portaudio.
[02:53:38] <cgaebel> I don't see --enable-debug-symbols..
[02:53:38] *** Joins: onelson (owen@18CF7301.95770028.5B6BFE7D.IP)
[02:53:57] <strcat> oh that's for LLVM, nvm ;p
[02:54:24] <strcat> cgaebel: you pass pass along flags to rustc manually, I just though we had a flag for this
[02:54:50] *** Quits: gwty (gwtypc@36B896FC.BD82C0B5.645B845A.IP) (Ping timeout)
[02:55:02] <strcat> cgaebel: RUSTFLAGS=-g
[02:55:07] <strcat> to make
[02:55:08] <cgaebel> fun.
[02:55:09] *** Joins: mib_aauzgg (Mibbit@A54702E.4B947797.97F07BE5.IP)
[02:56:01] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Ping timeout)
[02:56:01] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[02:56:30] <dotfelix> tautologico: insert will work
[02:56:34] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[02:56:35] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[02:57:27] <cgaebel> strcat: thanks. that seems to do the trick!
[02:57:30] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[02:58:07] *** Quits: Mathieu (cicak@420C86E4.9C1E3043.FBF02BB8.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:58:14] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[02:58:21] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[02:59:16] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[02:59:34] *** Quits: valentin (Thunderbir@4F2F9D91.E06BF678.B9540FE1.IP) (Ping timeout)
[02:59:39] <cgaebel> random question: any plans on named parameters for 1.0?
[02:59:58] <cgaebel> I really miss doing things like `Option.value ~default:42` from ocaml
[03:00:05] *** Joins: valentin (Thunderbir@4F2F9D91.E06BF678.B9540FE1.IP)
[03:00:09] <strcat> cgaebel: nope
[03:00:13] <cgaebel> :(
[03:00:17] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[03:01:41] <cgaebel> what about a real module system? ;)
[03:01:48] <strcat> it has one ;s
[03:01:51] <cgaebel> lol
[03:01:58] <cgaebel> kinda not really..
[03:02:05] <strcat> how so?
[03:02:12] <cgaebel> local imports n' stuff.
[03:02:13] *** Quits: brson (brson@moz-62518563.mtv2.mozilla.com) (Quit: leaving)
[03:02:21] <cgaebel> Option.(x >>= y)
[03:02:31] *** Quits: mib_aauzgg (Mibbit@A54702E.4B947797.97F07BE5.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:02:37] *** Quits: ChrisOei (ChrisOei@moz-939DB6B2.dedicated.static.sonic.net) (Client exited)
[03:02:39] <strcat> dunno what you mean
[03:02:54] <cgaebel> err the >>= is Option.>>=
[03:02:56] *** Quits: lpy (lpy@1834E2CB.F09091A8.1348A864.IP) (Client exited)
[03:02:59] *** Joins: erickt (etryzelaar@49C4075F.3AC15C18.2321E71E.IP)
[03:03:02] <cgaebel> kinda an ocaml thing
[03:03:12] <cgaebel> I'm just listing off the things ocaml has that I wish rust had right now :P
[03:04:11] <cgaebel> so you can do things like..
[03:04:36] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[03:04:54] <cgaebel> Time.(diff (of_local_time t1) (of_zoned_time ~zone t2)) and that's the same things as writing TIme.diff (Time.of_local_time t1) (Time.of_zoned_time ~zone t2)
[03:05:14] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[03:05:17] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[03:05:23] <strcat> { use foo::bar; bar(1, 2) } // not in scope anymore
[03:05:25] <strcat> works
[03:05:35] * strcat shrugs
[03:05:36] <cgaebel> orly. neat.
[03:05:46] <strcat> cgaebel: yeah that's how rusti works, it runs everything in main()
[03:05:58] <strcat> rusti: use std::vec_ng::Vec; Vec::new::<int>()
[03:05:58] -rusti- <anon>:16:31: 16:46 error: the impl referenced by this path needs 1 type parameter, but 0 type parameters were supplied
[03:05:58] -rusti- <anon>:16         use std::vec_ng::Vec; Vec::new::<int>()
[03:05:58] -rusti-                                         ^~~~~~~~~~~~~~~
[03:05:59] -rusti- error: aborting due to previous error
[03:05:59] -rusti- application terminated with error code 101
[03:06:05] <strcat> rusti: use std::vec_ng::Vec; Vec::<int>::new()
[03:06:05] -rusti- []
[03:06:23] <cgaebel> ic
[03:06:56] <cgaebel> I might take it upon myself to add named arguments to rust. It's very important for code readability
[03:07:40] *** Joins: Gbtpftpoftp (Mibbit@moz-534860D4.trinity-health.org)
[03:08:08] *** Joins: bleibig (bleibig@moz-B4D9C5AF.hsd1.ca.comcast.net)
[03:08:45] *** Joins: Mathieu (cicak@420C86E4.9C1E3043.FBF02BB8.IP)
[03:09:16] <mcpherrin> cgaebel: well, you should at least write up an RFC for how they should work if you want them
[03:10:12] <cgaebel> mcpherrin: I swear other people have looked into it before and then forgot about it or something..
[03:10:15] *** Quits: Gbtpftpoftp (Mibbit@moz-534860D4.trinity-health.org) (Quit: http://www.mibbit.com ajax IRC Client)
[03:10:20] *** Joins: jmgrosen (user@moz-848F6087.sb.sd.cox.net)
[03:10:20] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[03:10:29] <mcpherrin> cgaebel: I think other people did, and went 'hrrmmmm, complicated, not worth my time'
[03:10:33] <mcpherrin> :P
[03:10:54] <cgaebel> mcpherrin: yeah. kinda unfortunate. it touches a lot of different parts in the compiler
[03:11:04] <o11c> rust's bidirectional type inference definitely complicate it
[03:11:08] <cgaebel> It'll be a very good "getting acquainted with rustc" project
[03:11:16] <o11c> everything is much simpler if you only infer one way
[03:11:36] <mcpherrin> what do you mean by bidirectional?
[03:12:11] <mcpherrin> it's just hindley-milner ya?
[03:12:17] <strcat> yes
[03:12:48] *** Quits: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP) (Quit: )
[03:16:47] *** Joins: apoelstra (username@moz-B7040E82.vs.shawcable.net)
[03:19:30] *** Quits: oxum (anonymous@7120F591.A3F7A334.C28326FD.IP) (Quit: ...)
[03:20:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[03:22:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[03:22:32] *** Quits: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP) (Ping timeout)
[03:23:11] *** Joins: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP)
[03:23:43] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[03:23:54] *** Joins: claudiu (claudiu@moz-FB94486E.thefacebook.com)
[03:24:32] *** Quits: gregburd (uid3997@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[03:24:59] *** Quits: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP) (Ping timeout)
[03:25:39] *** Quits: claudiu (claudiu@moz-FB94486E.thefacebook.com) (Ping timeout)
[03:29:05] *** Joins: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net)
[03:29:59] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[03:30:00] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[03:30:16] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[03:30:59] *** Quits: untitaker (untitaker@moz-CE40CB19.adsl.highway.telekom.at) (Ping timeout)
[03:31:53] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[03:32:59] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[03:34:05] *** Quits: valentin (Thunderbir@4F2F9D91.E06BF678.B9540FE1.IP) (Connection reset by peer)
[03:34:07] *** Joins: valentin (Thunderbir@4F2F9D91.E06BF678.B9540FE1.IP)
[03:34:42] *** Joins: gavinb (gavinb@E673F25E.B9698BFB.D3BA2C17.IP)
[03:35:33] *** Quits: valentin (Thunderbir@4F2F9D91.E06BF678.B9540FE1.IP) (Connection reset by peer)
[03:35:34] *** Joins: valentin (Thunderbir@4F2F9D91.E06BF678.B9540FE1.IP)
[03:35:42] *** Quits: dotfelix (dotfelix@DD7ADC91.829DBEF3.40E092AA.IP) (Quit: )
[03:37:24] *** Quits: gavinb (gavinb@E673F25E.B9698BFB.D3BA2C17.IP) (Quit: gavinb)
[03:38:48] *** Joins: untitaker (untitaker@moz-B8D9C20B.adsl.highway.telekom.at)
[03:40:33] *** Joins: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP)
[03:41:36] *** Quits: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca) (Quit: Leaving.)
[03:46:31] *** Joins: dranov (dranov@B28B2927.3B6BC09B.A5830293.IP)
[03:47:18] *** Joins: dotfelix (dotfelix@8D8F45FE.829DBEF3.40E092AA.IP)
[03:48:13] *** Quits: sellout (Adium@moz-6B18A669.hlrn.qwest.net) (Input/output error)
[03:48:24] *** Joins: sellout (Adium@moz-6B18A669.hlrn.qwest.net)
[03:48:44] <cgaebel> uhhh how do I turn on llvm debug symbols? do I just ./configure --enable-debug-symbols in src/llvm and then make from the root?
[03:48:49] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:49:19] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[03:50:18] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[03:50:39] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[03:50:44] *** Joins: jroweboy (jrowe7@moz-18814A6B.provo.static.broadweavenetworks.net)
[03:50:47] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[03:51:16] *** Quits: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP) (Quit: mno2)
[03:52:04] *** Quits: dotfelix (dotfelix@8D8F45FE.829DBEF3.40E092AA.IP) (Quit: )
[03:52:16] <jroweboy> Is there a project on github that is similar to rusti? I am going to be doing a demo for rust next week and I wanted to have a way for people to run rust code without having to setup the entire everything
[03:56:12] *** Quits: valentin (Thunderbir@4F2F9D91.E06BF678.B9540FE1.IP) (Ping timeout)
[03:56:31] *** Joins: valentin (Thunderbir@4F2F9D91.E06BF678.B9540FE1.IP)
[03:56:44] *** Quits: cgaebel (clark@moz-F9D89110.nyc.res.rr.com) (Ping timeout)
[03:57:01] *** Quits: saml_ (saml@moz-AFAADF83.nycmny.east.verizon.net) (Quit: Leaving)
[03:57:03] *** Quits: zz_kimundi (kimundi@moz-CAFCCD90.dip0.t-ipconnect.de) (Ping timeout)
[03:57:03] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[03:57:12] *** Joins: p1start (rewi@moz-E7F3D014.org)
[03:57:19] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[03:57:19] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[03:58:16] <sfackler> jroweboy: https://github.com/thestinger/rust-playpen
[03:59:02] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[03:59:44] <sfackler> that's the irc rusti
[03:59:46] *** Joins: dpc (Mibbit@3CA2DD5F.FAD414BA.D74CC41D.IP)
[04:00:05] <dpc> What is going on with ~[] ? :)
[04:00:23] *** Joins: zz_kimundi (kimundi@moz-4CD428D2.dip0.t-ipconnect.de)
[04:00:51] *** zz_kimundi is now known as kimundi
[04:00:53] <sfackler> dpc: it's being replaced by Vec to make way for the DST changes (and because Vec is faster)
[04:00:57] *** Joins: dmillerw (Dylan@moz-68B5E96D.eugn.qwest.net)
[04:01:15] <dpc> I'm getting some worning from getopts library...
[04:01:16] *** Quits: dmillerw (Dylan@moz-68B5E96D.eugn.qwest.net) (Quit: Leaving)
[04:01:26] <dpc> So I should not be using ~[] at all now? 
[04:01:33] *** Joins: oxum (anonymous@CA6101E3.F5C870D1.520CDC98.IP)
[04:01:47] <aatch> dpc, ~[T] will be remove completely. Then once [T] is implemented as part of DST, it'll come back under that new regime
[04:01:57] *** Quits: erickt (etryzelaar@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[04:02:02] <aatch> removed*
[04:02:29] <aatch> dpc, so yes, you should not be using ~[] at all at the moment.
[04:02:38] <dpc> So how do I declare an array?
[04:02:49] <dpc> ~[1, 2, 3] becomes ... ?
[04:02:54] <sfackler> vec!(1, 2, 3)
[04:03:13] *** Quits: tmh (e@180B7532.123B3C13.AA32EE5B.IP) (Ping timeout)
[04:03:22] * aatch should probably make a seperate PR for the changes to support vec![1, 2, 3]
[04:03:27] *** Joins: erickt (etryzelaar@49C4075F.3AC15C18.2321E71E.IP)
[04:03:30] *** Quits: sellout (Adium@moz-6B18A669.hlrn.qwest.net) (Input/output error)
[04:03:42] *** Joins: sellout (Adium@moz-6B18A669.hlrn.qwest.net)
[04:04:01] <dpc> list.rs:11:43: 11:47 error: mismatched types: expected `&[getopts::OptGroup]` but found `std::vec_ng::Vec<getopts::OptGr oup>` (expected vector but found struct std::vec_ng::Vec)
[04:04:52] <aatch> dpc, if it's &[T], then you can convert a Vec<T> to it by using as_slice()
[04:06:29] <dpc> os::args() returns ~[...]. I guess I can not do anything about it, can I?
[04:06:30] *** Quits: orospakr (orospakr@moz-A57EF4CD.cpe.net.cable.rogers.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:06:44] <aatch> dpc, not currently, no
[04:07:16] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[04:08:14] *** Quits: Guest_ (textual@moz-B0DA5BFF.hsd1.sc.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:09:48] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[04:11:41] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[04:11:57] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[04:12:52] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[04:14:08] *** Joins: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com)
[04:14:27] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[04:14:41] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[04:17:11] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[04:17:37] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[04:18:15] *** Quits: oxum (anonymous@CA6101E3.F5C870D1.520CDC98.IP) (Ping timeout)
[04:18:18] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[04:19:33] *** Joins: oxum (anonymous@CA6101E3.F5C870D1.520CDC98.IP)
[04:20:19] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[04:20:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[04:20:40] *** Quits: dranov (dranov@B28B2927.3B6BC09B.A5830293.IP) (Ping timeout)
[04:22:08] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[04:23:36] *** Quits: alkino_ (alkino@moz-61F150EC.w92-151.abo.wanadoo.fr) (Ping timeout)
[04:23:36] *** Quits: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP) (Ping timeout)
[04:23:50] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Quit: canhtak)
[04:24:33] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:28:01] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[04:31:48] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[04:34:52] <dpc> How do I make vector of strings that are not static?
[04:35:05] *** Joins: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP)
[04:35:26] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[04:35:33] *** Joins: zmthy (zmthy@moz-C2881CC3.ecs.vuw.ac.nz)
[04:37:52] <cmr> dpc: the inner type you want is ~str
[04:38:09] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[04:39:02] *** Quits: dsrx (tom@moz-E45742D4.public.wayport.net) (Quit: WeeChat 0.4.1)
[04:39:19] <dpc> I have a ~[~str] I want vec!( ... ) ... or something ... :/
[04:39:35] <sfackler> you want a Vec<~str>
[04:40:46] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[04:40:53] <dpc> I have two cases. One is, I need to make vec of strings from one static string, and I need to make vec from ~[~str] ...
[04:41:17] *** Joins: ChrisOei (ChrisOei@moz-30D80888.hsd1.ca.comcast.net)
[04:41:48] *** Quits: richard|s_ (mindginati@moz-45375516.dyn.cust.vf.net.nz) (Ping timeout)
[04:41:56] <dpc> I understand I want Vec<~str> but the conversion is beyond me ...
[04:42:38] *** Quits: nszceta (nszceta@moz-E6CA8D6.hsd1.pa.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[04:43:50] *** Joins: victorporof_ (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[04:43:52] <comex> is it not possible to use a macro as a switch pattern?
[04:44:39] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Ping timeout)
[04:46:24] <ChrisMorgan> comex: no
[04:46:31] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[04:46:40] *** Quits: Zorbtar (e@moz-3EB6E0F9.kirk.macalester.edu) (Ping timeout)
[04:46:41] *** Joins: benoitc (sid1888@moz-31ABA2C0.irccloud.com)
[04:46:51] <comex> ChrisMorgan: why not?
[04:46:53] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[04:47:12] <ChrisMorgan> Macro support is fairly patch, really. They can expand to items or expressions; not identifiers, patterns, blocks, &c.
[04:47:34] <comex> https://github.com/mozilla/rust/issues/6830 yay, old issue
[04:48:33] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[04:48:33] *** Quits: IanCormac841 (User@D961F774.2A8D8854.67DFF8B4.IP) (Ping timeout)
[04:48:54] *** Quits: Earnestly (earnest@18162BE0.BA6AC103.30311652.IP) (Ping timeout)
[04:49:22] <ChrisMorgan> It'd require rather a lot of work to get it working generally, which would allow things like `fn concat_idents!(foo_, bar)() { }`.
[04:49:43] *** Joins: ksev (DrunkenPan@212685B3.5B8F260F.586E6F35.IP)
[04:49:49] <comex> sounds useful though
[04:49:52] <comex> ...a bit
[04:49:54] *** Joins: IanCormac84 (User@C099304.64D641E5.67DFF8B4.IP)
[04:50:32] *** Quits: victorporof_ (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Ping timeout)
[04:50:44] <ChrisMorgan> At times it would be *very* useful. Mostly inside macros with concat_idents! being the very macro.
[04:51:27] <benoitc> not sure if it's the good channel for it, but i was wondering if it's possible to do low level programming like systemd to run external program using execv* calls and others in rust
[04:51:29] <benoitc> ?
[04:51:33] <ChrisMorgan> The problem with concat_idents: _ is not an identifier, so you can't write, in a macro, `concat_idents!($lhs, _, $rhs)`.
[04:51:47] <cmr> benoitc: absolutely
[04:51:53] <cmr> benoitc: anything* you can do in C, you can do in Rust
[04:52:04] <cmr> (* modulo weird stuff like bitfields)
[04:52:20] <benoitc> ah good to know
[04:52:40] <cmr> but certainly calling into libc is easy
[04:52:41] <benoitc> thanks
[04:53:05] *** Joins: quaddle (Mibbit@13E2149A.A516C165.EEB9F940.IP)
[04:53:08] *** Quits: quaddle (Mibbit@13E2149A.A516C165.EEB9F940.IP) (Quit: quaddle)
[04:53:44] <benoitc> in go i would have to worry about inital threads launched by the vm, which can be a problem
[04:53:53] <cmr> well
[04:54:02] <cmr> we give you the opportunity to run code outside of the runtime
[04:54:13] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[04:55:05] <benoitc> ok
[04:55:13] *** Joins: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net)
[04:55:20] <benoitc> I guess it's better to try at this point
[04:55:58] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[04:56:08] <benoitc> thanks for the answer
[04:56:31] <cmr> I wrote a shell assignment in my os course in rust: https://github.com/cmr/cs444-lab1
[04:58:01] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[04:58:08] <benoitc> cmr: looking
[04:58:40] <eddyb> "fmt::Default" - yay outdated code
[04:59:15] <comex> there is no equivalent to C++'s "enum class" (where the options are automatically scoped)... right?
[04:59:17] <cmr> yup :(
[04:59:20] <cmr> comex: correct.
[04:59:38] <eddyb> I still don't know why that "enum mod" proposal fell through
[04:59:50] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[05:00:16] <eddyb> it could be the default and we could "use EnumName::*;" with globs
[05:00:49] <eddyb> (but I was just bitten by globs. apparently you can create loops with them even if you don't re-export)
[05:01:21] <eddyb> I guess resolution & type checking will always resolve private items/fields/methods/etc. :(
[05:01:45] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:02:29] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[05:03:01] *** Quits: heftig (heftig@moz-EA2845C1.dip0.t-ipconnect.de) (Ping timeout)
[05:03:19] *** Joins: heftig (heftig@moz-38012B68.dip0.t-ipconnect.de)
[05:04:27] *** Quits: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:05:44] *** Quits: philix (felipe@moz-E210B33C.user.veloxzone.com.br) (Ping timeout)
[05:06:02] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[05:06:03] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[05:06:36] <dpc> I'm looking for a map, so I can do: `sizes["path"] = 234234;`
[05:06:45] *** Joins: dotfelix (dotfelix@DD7ADC91.829DBEF3.40E092AA.IP)
[05:07:00] <cmr> nothing in rust supports that syntax
[05:07:05] <eddyb> dpc: sadly, the new index traits aren't implemented yet
[05:07:06] <sfackler> it may be worth bringing up the enum mod thing again in RFC form, but I dunno if it would be worth re-reviewing
[05:07:15] * sfackler can't wait for new index traits
[05:07:22] <jroweboy> oh comex! You were the person that put together the emscripten compiled vbam in twitch plays style! Just recognized your name and wanted to tell you I thought that was a really cool thing you put together there
[05:07:34] <dpc> I can leave without the syntax, but I need to be able to do sort by value.
[05:07:45] <cmr> dpc: you probably want a TreeMap?
[05:07:49] <eddyb> there's a nagging issue with the overloads that prevents me from implementing them *now*
[05:07:51] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[05:08:01] <eddyb> cmr: TreeMap is sorted by key, though
[05:08:07] <cmr> ah that's true
[05:08:20] <eddyb> maybe TreeMap<Size, Path>?
[05:08:32] <eddyb> but then you need a multimap
[05:09:04] * ChrisMorgan slowly changed his opinion from "let's have both" to "it might actually be better to have enum mod behaviour only"
[05:09:28] <eddyb> ChrisMorgan: see comment above about how easy it is to get old enum behavior from enum mod
[05:09:30] <dpc> I'm basically rewritting simple problem that I have in D to Rust. https://github.com/dpc/rdu/blob/master/rdu.d#L63
[05:09:40] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[05:09:45] <eddyb> TreeSet<PathAndSizeSortBySize> and implement the ordering stuff on that wrapper struct, to ignore the path
[05:10:09] <ChrisMorgan> eddyb: I know it; either can be formed with the other. But at the time of assessment and rejection, "let's have both" was the prevailing opinion.
[05:10:41] <eddyb> dpc: this is the magic that might be hard to translate to Rust https://github.com/dpc/rdu/blob/master/rdu.d#L88-L89
[05:11:21] <eddyb> dpc: but if you do the set thing above, you'll never have to actually sort
[05:11:39] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[05:11:41] <eddyb> then you can just iterate and print each entry
[05:11:44] *** Quits: dotfelix (dotfelix@DD7ADC91.829DBEF3.40E092AA.IP) (Quit: )
[05:11:51] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[05:11:58] <dpc> eddyb: I see. OK.
[05:11:58] *** Joins: Zorbtar (e@6EA30A01.F8A398CB.72ECBEEF.IP)
[05:12:28] <eddyb> D looks higher level than I expected. builtin HashMaps?
[05:12:50] <cmr> eddyb: D isn't a bad language, you should definitely check it out.
[05:13:09] *** Quits: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP) (Ping timeout)
[05:13:21] <comex> jroweboy: oh, thanks :)
[05:13:40] <eddyb> cmr: I feel cozy in Rust
[05:13:46] <dpc> Nowadays for stuff that I'd write shellscript, I consider using D.
[05:13:49] <comex> mm... another thing 
[05:13:52] *** Quits: Zorbtar (e@6EA30A01.F8A398CB.72ECBEEF.IP) (Ping timeout)
[05:14:02] <comex> i think "std | all docs" is somewhat unhelpful now
[05:14:08] *** Quits: IanCormac84 (User@C099304.64D641E5.67DFF8B4.IP) (Ping timeout)
[05:14:14] <comex> especially now that basic things like hashes are no longer in std
[05:14:21] <eddyb> yeah, remove any direct links to std
[05:14:24] <comex> there should be a way to search all packages' api reference
[05:14:27] <eddyb> and make search global
[05:14:30] <cmr> comex: there's a PR for it
[05:14:33] <cmr> it might have even landed?
[05:14:34] *** Joins: IanCormac84 (User@9D0C98C4.64D641E5.67DFF8B4.IP)
[05:14:39] <comex> apparently not, but cool
[05:14:50] <cmr> well the doc builder updates slowly
[05:15:01] <cmr> https://github.com/mozilla/rust/pull/13006
[05:15:05] <cmr> cross-crate searching
[05:15:19] <cmr> the doc bot is running on it now
[05:15:20] <eddyb> dpc: Rust should probably be able to do similar things, with slightly more incantations, but probably better performance (no GC, iterators, etc.)
[05:15:20] <comex> ah, goody
[05:15:56] <eddyb> dpc: there's a project to rewrite coreutils & friends in Rust, you should check it out, if you're into that shell utility stuff
[05:16:15] <eddyb> dpc: https://github.com/uutils/coreutils
[05:16:17] <cmr> just coreutils, no friends :P
[05:16:23] <eddyb> aww right
[05:16:45] <ChrisMorgan> coreutils has no friends?
[05:16:46] <comex> llvmhelp.rs:1:1: 1:1 error: transmute called on types with different sizes: u32 (32 bits) to uint (64 bits)
[05:16:51] <benoitc> cmr: why the comment " This is very disgusting" https://github.com/cmr/cs444-lab1/blob/master/main.rs#L178 ?
[05:16:52] <comex> hmm, the line number is wrong
[05:17:23] <comex> and another existing bug
[05:17:29] <cmr> benoitc: nasty mutability + building args+env
[05:17:30] <comex> well, at least it's all written down :p
[05:17:41] <cmr> benoitc: I mean, there's no obvious way to do it better. but it's not pretty.
[05:17:49] <benoitc> ahh ok
[05:18:12] <benoitc> good, anyway this is exactly what i was looking for
[05:18:14] <benoitc> thanks
[05:18:31] *** Quits: johnpclaus (johnpclaus@moz-7B864857.hlrn.qwest.net) (Ping timeout)
[05:18:31] <dpc> eddyb: Thanks.
[05:19:13] <eddyb> dpc: wow, YB and futures https://github.com/uutils/coreutils/blob/master/du/du.rs
[05:20:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[05:21:04] <eddyb> I wonder if it's faster than the original
[05:21:27] <eddyb> (GNU coreutils, I mean. there's probably a hundred variants by now)
[05:22:08] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[05:22:26] <jmgao> eddyb: probably not
[05:23:26] * ChrisMorgan would think it highly unlikely
[05:23:51] *** Quits: erickt (etryzelaar@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[05:23:58] <dpc> What happened to error! ?
[05:24:03] <eddyb> dpc: liblog
[05:24:52] <eddyb> ChrisMorgan: GNU one is 1116 lines long (compared to 360) and it has no mention of "thread"
[05:25:32] <eddyb> it looks pretty blocking to me
[05:29:22] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[05:29:43] *** Joins: edwardw (edwardw@E761717E.1B2F6624.7F41E82D.IP)
[05:30:02] *** Quits: jmgrosen (user@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[05:30:36] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[05:31:27] <dpc> How to do string matching ?
[05:31:37] <dpc> match str { "something" }
[05:31:48] <eddyb> that should work. the string has to be a slice
[05:31:52] <dpc> "something" => { do stuff } }
[05:31:54] <eddyb> so if you have ~str, call .as_slice() on it
[05:32:30] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[05:32:51] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Ping timeout)
[05:33:01] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[05:33:23] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[05:33:23] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[05:33:24] *** ChanServ sets mode: +ao pcwalton pcwalton
[05:34:37] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[05:35:06] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[05:35:19] <dpc> error: failed to find an implementation of trait std::cmp::TotalOrd for f32
[05:35:57] <eddyb> what are you doing with f32?
[05:36:27] <dpc> max
[05:36:27] *** Joins: nieksand (Mibbit@moz-22FBF5CA.tukw.qwest.net)
[05:36:32] <strcat> use the method
[05:36:35] <eddyb> dpc: I mean, what does it store?
[05:36:40] <strcat> rusti: 2.4f64.max(3.5)
[05:36:42] -rusti- 3.5
[05:36:52] <eddyb> I hope it's not the rdu thing before
[05:36:55] <strcat> dpc: min/max in std::cmp don't handle partially ordered things
[05:38:19] <ChrisMorgan> rusti: impl Option<()> {}
[05:38:19] -rusti- <anon>:16:14: 16:24 error: found module name used as a type: impl main::Option<()>::Option<()> (id=37)
[05:38:20] -rusti- <anon>:16         impl Option<()> {}
[05:38:20] -rusti-                        ^~~~~~~~~~
[05:38:20] -rusti- application terminated with error code 101
[05:38:25] <ChrisMorgan> That, I presume, is a bug.
[05:38:49] <eddyb> ChrisMorgan: a resolve bug
[05:39:14] <ChrisMorgan> Is it reasonable to impl Option<ATypeInMyOwnCrate>?
[05:39:25] *** Quits: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net) (Ping timeout)
[05:39:26] <eddyb> yes, but I don't think coherence would allow it (yet)
[05:39:35] <eddyb> (if resolve wasn't standing guard with its bug)
[05:39:50] <sfackler> it resolves properly
[05:39:52] <aatch> I think you can impl instantiations of types
[05:39:55] <sfackler> at least in some cases
[05:40:02] <aatch> you just can't have conflicts with existing methods
[05:40:14] <eddyb> aatch: not cross-crate
[05:40:22] <eddyb> among other things, it shouldn't even attempt to create a module if you don't have static methods
[05:40:26] <eddyb> but UFCS will ruin that
[05:40:33] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[05:40:34] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Quit: victorporof)
[05:41:37] <nieksand> Is os::args() generated a deprecated warning about ~[] expected behavior?  Is there a newer func I should be using?
[05:42:01] *** Quits: zmthy (zmthy@moz-C2881CC3.ecs.vuw.ac.nz) (Quit: leaving)
[05:42:30] * ChrisMorgan found his `impl Option<()> {}` bug filed by huon 13 days ago as https://github.com/mozilla/rust/issues/12729
[05:43:36] <eddyb> bar::Foo::Foo leads me to believe resolve is being silly like a dog chasing its tail
[05:44:02] <eddyb> it adds the impl as a module, then proceeds to resolve the type in that impl
[05:44:20] <comex> hmm, if you can impl Option<()>, you should be able to impl *llvm::Value_opaque
[05:44:29] <eddyb> comex: what?
[05:44:55] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[05:45:03] <eddyb> oh, I think I see what you mean. but probably a different context
[05:45:15] <comex> i mentioned it earlier...
[05:45:42] <eddyb> I don't think I was around, sorry
[05:45:59] <comex> way earlier :) 
[05:45:59] <eddyb> ChrisMorgan: and for some reason it finds the module it created in the lookup of the impl type (same impl that created the module). yay?
[05:46:04] <comex> just thinking out loud
[05:46:12] *** Joins: Ferreus (ferreus@moz-476D8F0F.lsn.wtnet.de)
[05:46:28] <sfackler> nieksand: it's expected. there's a lot that hasn't been converted over to Vec yet
[05:46:31] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[05:46:42] <eddyb> comex: you don't want to touch ValueRef anyways
[05:47:06] <eddyb> comex: right now I'm trying to remove as many mentions of it from rustc::middle::trans as I can
[05:47:48] *** Quits: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net) (Client exited)
[05:48:03] *** Quits: kvanb (kvanb@moz-B34A43F2.lnse7.win.bigpond.net.au) (Quit: kvanb)
[05:48:11] *** Joins: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net)
[05:48:30] <comex> eddyb: i am forking some of that code for use in a different context
[05:48:40] <eddyb> still applies
[05:48:51] <eddyb> ValueRef is an *unsafe* handle
[05:49:33] <nieksand> sfackler: thanks!
[05:49:41] <eddyb> comex: if you don't mind, what context may that be?
[05:49:44] <comex> i guess i should change some of those llvm functions to return borrowed pointers
[05:49:59] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[05:50:02] *** Quits: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net) (Ping timeout)
[05:50:10] <eddyb> comex: I don't mean that. that would be bad
[05:50:19] <comex> would it?
[05:50:21] *** Joins: Axord (xord@moz-BC8E2FBC.static.rvsd.ca.charter.com)
[05:50:22] <eddyb> yupp
[05:50:41] <comex> i guess the api is too complex for that to work very well
[05:50:41] <eddyb> you never have to deref it so it doesn't require unsafe code to handle
[05:50:57] <eddyb> comex: the issue is that ValueRef itself is dangerous
[05:51:25] <eddyb> if I knew the context, I'd know what to tell you to use instead :P
[05:52:26] <comex> there is no reasonable way to prevent a value from being removed from the function and then getting freed while you have another refernece to it... except locking out the entire function, i
[05:52:29] <comex> i think
[05:52:38] <eddyb> I don't mean that
[05:52:44] <eddyb> that is actually not an issue
[05:52:59] <eddyb> ValueRef's are owned by the Module you created them in, AFAIK
[05:53:26] <comex> pretty sure Instructions at least are owned by the function
[05:53:36] <eddyb> which is owned by the module
[05:53:47] <eddyb> as long as the module is alive, references are valid
[05:53:59] <comex> no, because oyu can remove it from the function
[05:54:08] <comex> so i guess you could ban that
[05:54:17] <eddyb> you get some funky errors if you use a ValueRef from a function in a different function
[05:54:25] <eddyb> comex: only optimization passes should do that
[05:54:38] <eddyb> anyways, what's the context?
[05:54:56] <comex> context is a decompiler, although only the barest outlines at the moment
[05:54:56] <eddyb> it can be simpler than rustc's Datum, or more complex
[05:55:14] <eddyb> darn, someone else is working on a decompiler :(
[05:55:30] <comex> could use a custom IR, but I want to use llvm's optimization passes and other stuff
[05:55:50] <eddyb> LLVM only knows how to optimize, not de-optimize :P
[05:56:03] <eddyb> and you're dragging all that C++ behind you
[05:56:17] <comex> yep, but some of the code is obfuscated
[05:56:17] <eddyb> comex: that's more complicated. the main issue is types
[05:56:56] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:57:02] <eddyb> ValueRef only has LLVM types, which have less information than C, C++ or Rust types
[05:58:07] *** Joins: jmgrosen (user@moz-848F6087.sb.sd.cox.net)
[05:58:15] <comex> yeah, that won't be the main representation of typs
[05:58:17] <comex> types
[05:58:23] *** Quits: bytbox (s@moz-E1E7FAC3.washdc.fios.verizon.net) (Ping timeout)
[05:58:39] *** Joins: genbattle (quassel@moz-44ABD640.jetstream.xtra.co.nz)
[05:58:39] <eddyb> comex: have you seen rustc's Datum?
[05:58:54] <comex> nope
[05:58:55] <eddyb> you'll have to craft something similar, maybe with extra information that you may need
[05:58:55] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[05:59:18] <eddyb> comex: basically (ValueRef, type, kind)
[05:59:24] <dougxxx> there isn't a literal include function is there?
[05:59:32] <eddyb> the kind can be Lvalue or Rvalue(ByValue) / Rvalue(ByRef)
[05:59:34] <dougxxx> For example to import a bunch of generated code
[05:59:43] <comex> nimrod has both import and include :]
[05:59:44] <dougxxx> without having to template up an entire rust file
[05:59:51] <dougxxx> handy...
[06:00:04] <eddyb> comex: the kinds have to do with generating cleanup, so you don't really need them
[06:00:23] *** Quits: jmgrosen (user@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[06:00:31] <eddyb> comex: though you could use something similar to differentiate between stack values and "register" values
[06:00:35] <strcat> dougxxx: include!, include_str!, include_bin!, etc.
[06:00:40] <eddyb> comex: what are you using to get the IR?
[06:00:40] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[06:00:49] <strcat> rusti: include_str!("/etc/passwd")
[06:00:50] -rusti- pastebinned 11 lines of output: http://sprunge.us/IZVb
[06:01:40] <strcat> or write your own with a syntax ext
[06:01:40] <dougxxx> is that built into the parser? 
[06:01:52] *** Quits: matp (matp@moz-16FE1E05.matp.at) (Ping timeout)
[06:01:57] <eddyb> it's a syntax extension
[06:02:07] <comex> oh, another reason i want to use llvm (like i said, i'm just starting this :p) is that the .td files have a declarative mapping from opcodes to DAG nodes for supported CPUs
[06:02:23] <comex> DAG nodes are not IR, but they're loads better than most disassemblers which are written directly in code and produce strings!
[06:02:40] <eddyb> comex: yay you're smarter than the average RE :P
[06:02:57] <eddyb> comex: I've had the same "epiphany" almost two years ago
[06:03:06] <eddyb> got pretty far with it, too
[06:03:19] <dougxxx> error: macros cannot expand to foreign items?
[06:03:20] <comex> btw, the Dagger project is doing this, but not releasing, and i'm impatient
[06:03:21] <eddyb> but ES6 is terrible at doing mass processing
[06:03:29] <comex> ES6? javascript?
[06:03:44] <eddyb> dougxxx: yeah you can't put macros in extern {...}
[06:03:51] <eddyb> comex: kinda
[06:03:55] <dougxxx> darn
[06:04:05] <eddyb> just put the extern {...} in the file
[06:04:16] *** Joins: matp (matp@moz-16FE1E05.matp.at)
[06:04:24] *** Joins: skade (skade@moz-1EC0F118.pools.arcor-ip.net)
[06:04:58] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[06:06:06] *** Joins: bytbox (s@moz-E1E7FAC3.washdc.fios.verizon.net)
[06:06:12] * dougxxx sighs
[06:06:13] <dougxxx> error: expr macro in item position: include
[06:06:20] <eddyb> lol
[06:06:29] <dougxxx> I guess maybe this is going to be easier to just template the entire file. :P
[06:06:31] <eddyb> dougxxx: can't you just use "mod"?
[06:07:00] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[06:07:06] <dougxxx> pub mod bindings { include!("generated.rs") }
[06:07:17] <eddyb> dougxxx: pub mod bindings;
[06:07:25] <eddyb> and generated.rs becomes bindings.rs
[06:07:49] <dougxxx> yeah, but then I'm tempalting the whole file, along with all the use std:libs::{... }
[06:07:57] <dougxxx> *libc
[06:07:58] <eddyb> that's much simpler and it works :P
[06:08:02] <eddyb> dougxxx: I don't understand
[06:08:13] <eddyb> which file?
[06:08:40] <dougxxx> so, what I'm trying to do is procedurally generate a binding for sdl_gpu
[06:08:43] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[06:08:54] <dougxxx> script dumps a bunch of fn -> blah 
[06:09:05] <comex> do you know about bindgen? :)
[06:09:15] <dougxxx> I was just hoping I just script > gen.txt, and use include
[06:09:40] <dougxxx> comex: never heard of it
[06:09:44] <comex> https://github.com/crabtw/rust-bindgen
[06:10:36] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[06:11:00] *** Joins: benjamin_ (benjamin@moz-4B6B3156.dip0.t-ipconnect.de)
[06:11:12] <dougxxx> looks cute
[06:11:22] <dougxxx> wonder how it knows how to magically map types though
[06:11:37] <eddyb> dougxxx: it parses C code
[06:11:54] <dougxxx> ugh, doesn't compile though
[06:12:26] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[06:13:09] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Input/output error)
[06:13:14] *** Quits: cschneid (cschneid@moz-621ACC77.hlrn.qwest.net) (Client exited)
[06:13:50] *** Joins: cschneid (cschneid@moz-621ACC77.hlrn.qwest.net)
[06:13:53] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[06:14:24] *** Quits: andrewd18 (andrew@moz-DAC9D29F.wi.res.rr.com) (Quit: Leaving.)
[06:14:31] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[06:14:43] *** Quits: cschneid (cschneid@moz-621ACC77.hlrn.qwest.net) (Client exited)
[06:14:50] <p1start> If I wanted to use an immutable unknown-length vector (~[T] in DST), should I use Vec<T> or ~[T] (which warns)?
[06:15:02] <eddyb> p1start: Vec<T>
[06:15:03] *** Quits: edwardw (edwardw@E761717E.1B2F6624.7F41E82D.IP) (Ping timeout)
[06:15:07] <eddyb> p1start: and then switch back in DST
[06:15:14] <eddyb> that lint is silly, we should've just removed ~[T]
[06:15:39] <p1start> eddyb: ah, OK. I was hoping I wouldn't have to, but I suppose it makes sense. Thanks
[06:15:43] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[06:16:21] *** Joins: edwardw (edwardw@3570A9BA.4E6A4251.FAED9FFC.IP)
[06:17:43] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[06:18:11] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[06:19:31] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[06:20:25] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[06:20:59] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[06:22:08] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[06:22:30] *** Joins: pczarn (pczarn@moz-69A55FA.izacom.pl)
[06:23:27] <p1start> How do I append to a string? I'm sure I saw a method for it a while back but I can't find it any more
[06:24:00] <p1start> nm, looks like it was just .append()
[06:24:03] * p1start facepalms
[06:24:42] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[06:26:09] *** Quits: oxum (anonymous@CA6101E3.F5C870D1.520CDC98.IP) (Quit: ...)
[06:26:27] *** Quits: pczarn (pczarn@moz-69A55FA.izacom.pl) (Input/output error)
[06:26:38] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[06:27:12] <jroweboy> p1start: There is also .push_str() I'm kinda wondering now which one is the preferred function in rust
[06:27:45] <sfackler> append creates a new string and push_str adds to the string in place
[06:27:52] <sfackler> iirc
[06:28:20] <p1start> sfackler: yep, just worked that out. Switching from .append() to .push_str()
[06:30:00] *** Quits: ehsanul_ (harish@moz-A9E56CFE.hfc.comcastbusiness.net) (Ping timeout)
[06:30:01] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Quit: Leaving.)
[06:31:07] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[06:32:41] *** Quits: p1start (rewi@moz-E7F3D014.org) (Ping timeout)
[06:33:19] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[06:33:46] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[06:35:40] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[06:36:19] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[06:36:32] *** Joins: p1start (rewi@moz-E7F3D014.org)
[06:36:59] *** Joins: gavinb (gavinb@E673F25E.B9698BFB.D3BA2C17.IP)
[06:37:04] *** Quits: mib_k29696 (Mibbit@moz-1BB03833.lnk.telstra.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:37:23] *** Quits: gavinb (gavinb@E673F25E.B9698BFB.D3BA2C17.IP) (Quit: gavinb)
[06:37:49] *** Quits: brandonson (SingingBoy@610D90A5.EE9B234.1ECA502.IP) (Ping timeout)
[06:38:19] *** Quits: p1start (rewi@moz-E7F3D014.org) (Ping timeout)
[06:38:30] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[06:38:53] *** Quits: nieksand (Mibbit@moz-22FBF5CA.tukw.qwest.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:38:56] <edwardw> extern "C" fn == extern fn now?
[06:39:08] <ChrisMorgan> Yes.
[06:39:31] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Ping timeout)
[06:39:31] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Ping timeout)
[06:40:13] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[06:41:19] *** Joins: ofeldt- (ofeldt@moz-746616B8.dip0.t-ipconnect.de)
[06:41:39] *** Joins: Doppp (Doppp@moz-6B405134.hsd1.ca.comcast.net)
[06:42:00] *** Quits: ofeldt (ofeldt@moz-C2965E0E.dip0.t-ipconnect.de) (Ping timeout)
[06:42:26] *** Joins: huon (Thunderbir@2702835C.D5A1DCF.37681C44.IP)
[06:42:26] *** ChanServ sets mode: +o huon
[06:44:57] *** Joins: klaus (koz@moz-4486E876.hsd1.wa.comcast.net)
[06:45:36] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[06:46:07] *** Joins: kvanb (kvanb@moz-B34A43F2.lnse7.win.bigpond.net.au)
[06:48:21] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[06:48:31] *** Joins: twi (Adium@E1F4AFAB.BA536DA5.C605BBF7.IP)
[06:48:33] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[06:50:02] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[06:50:37] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 30.0a1/20140317030202])
[06:51:34] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[06:59:11] *** Joins: fabiand (fabiand@moz-7B27AC98.adsl.alicedsl.de)
[06:59:14] *** Joins: jmgrosen (user@moz-848F6087.sb.sd.cox.net)
[06:59:36] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[06:59:47] *** Joins: oxum (anonymous@7120F591.A3F7A334.C28326FD.IP)
[07:00:57] *** Quits: jmgrosen (user@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[07:01:21] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[07:01:59] *** Quits: jesse98 (jjones@6251EDC2.15651213.B46B86FA.IP) (Ping timeout)
[07:03:00] *** Joins: jesse98 (jjones@6251EDC2.15651213.B46B86FA.IP)
[07:03:21] *** Joins: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net)
[07:04:24] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[07:04:26] *** Joins: philix (felipe@moz-E210B33C.user.veloxzone.com.br)
[07:04:59] *** Joins: dsrx (tom@F616D77.77D422C6.AA74B5DB.IP)
[07:05:04] *** Parts: dsrx (tom@F616D77.77D422C6.AA74B5DB.IP) (WeeChat 0.4.1)
[07:05:23] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[07:05:28] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[07:06:26] *** Quits: philix (felipe@moz-E210B33C.user.veloxzone.com.br) (Ping timeout)
[07:06:39] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[07:06:47] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[07:07:34] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[07:08:14] *** Joins: dsrx (tom@F616D77.77D422C6.AA74B5DB.IP)
[07:09:15] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[07:12:01] *** Quits: twi (Adium@E1F4AFAB.BA536DA5.C605BBF7.IP) (Quit: Leaving.)
[07:12:56] *** Joins: nfroidure (nfroidure@moz-C115682E.w90-34.abo.wanadoo.fr)
[07:13:43] *** Joins: tmh (e@6F8495BB.FEF84806.AA32EE5B.IP)
[07:14:17] *** flaper87|afk is now known as flaper87
[07:14:19] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[07:16:35] *** Joins: twi (Adium@E1F4AFAB.BA536DA5.C605BBF7.IP)
[07:16:52] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Ping timeout)
[07:17:45] *** Joins: p1start (rewi@moz-E7F3D014.org)
[07:18:56] *** Quits: skade (skade@moz-1EC0F118.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:19:04] *** Joins: ehsanul (harish@moz-24DD2596.hsd1.ca.comcast.net)
[07:20:20] *** Joins: alonlevy (alon@2CD54432.57968636.E9C721AF.IP)
[07:20:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[07:22:10] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[07:22:38] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[07:24:03] *** Quits: John-Galt (kris@125EF623.B2666F0E.66399531.IP) (Ping timeout)
[07:25:51] *** Joins: jviereck (Adium@moz-24195EF9.dclient.hispeed.ch)
[07:27:36] *** Joins: John-Galt (kris@125EF623.B2666F0E.66399531.IP)
[07:27:58] *** Joins: tiffany (kawaii@moz-7AF84602.dhcp.embarqhsd.net)
[07:29:53] *** Joins: Phoop (Phoop@moz-E68FED0B.me)
[07:32:06] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[07:34:10] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[07:35:18] *** Joins: Kelvin (Kelvin@moz-3D989EF4.hsd1.va.comcast.net)
[07:37:02] *** Quits: jviereck (Adium@moz-24195EF9.dclient.hispeed.ch) (Quit: Leaving.)
[07:38:11] *** Quits: dpc (Mibbit@3CA2DD5F.FAD414BA.D74CC41D.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:38:27] *** Quits: Kelvin (Kelvin@moz-3D989EF4.hsd1.va.comcast.net) (Connection reset by peer)
[07:38:52] *** Joins: dotfelix (dotfelix@12393A7E.829DBEF3.40E092AA.IP)
[07:39:00] *** pmoore|away is now known as pmoore
[07:39:26] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[07:40:43] *** Joins: Ms2ger (Ms2ger@moz-9FBF7DC.adsl-dyn.isp.belgacom.be)
[07:41:12] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[07:41:34] *** Parts: jroweboy (jrowe7@moz-18814A6B.provo.static.broadweavenetworks.net) ()
[07:45:01] *** Joins: mm (mm@moz-FFA9CC78.hsd1.ca.comcast.net)
[07:47:24] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[07:47:29] *** Quits: mm (mm@moz-FFA9CC78.hsd1.ca.comcast.net) (Quit: leaving)
[07:51:12] *** Quits: derek_c (derek@moz-E2D1E2DC.cit.cornell.edu) (Ping timeout)
[07:51:29] *** Quits: huon (Thunderbir@2702835C.D5A1DCF.37681C44.IP) (Ping timeout)
[07:52:38] *** pmoore is now known as pmoore|away
[07:56:17] *** Quits: Ferreus (ferreus@moz-476D8F0F.lsn.wtnet.de) (Quit: WeeChat 0.4.4-dev)
[08:00:01] *** Joins: jmgrosen (user@moz-848F6087.sb.sd.cox.net)
[08:00:18] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:01:55] *** Quits: jmgrosen (user@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[08:01:59] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[08:03:04] *** Joins: glaebhoerl (glaebhoerl@moz-3590251D.kabelnet.hu)
[08:06:37] <Ms2ger> What happened to tools.mk?
[08:08:21] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[08:08:48] *** Joins: gimpf (gimpf@moz-E131F8EC.adsl.highway.telekom.at)
[08:09:02] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[08:09:32] *** Joins: charmander (Mibbit@7E217F04.2C8DBE39.CC1A2609.IP)
[08:09:40] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[08:10:03] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[08:11:22] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[08:12:55] *** Quits: charmander (Mibbit@7E217F04.2C8DBE39.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:13:04] *** Joins: skade (skade@B4A5FE21.505237C9.CAE22B62.IP)
[08:13:07] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[08:13:45] *** Joins: jviereck (Adium@moz-E8F31DD.ethz.ch)
[08:14:33] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Ping timeout)
[08:15:23] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[08:15:35] *** Joins: marianoguerra (marianogue@moz-5D4BDC60.dip0.t-ipconnect.de)
[08:15:49] *** Quits: mikey_h (Mibbit@2434CED6.BF061CFB.10975BA7.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:16:47] *** Joins: oberstet (quassel@moz-C1B18653.dynamic.mnet-online.de)
[08:17:14] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Ping timeout)
[08:19:00] *** Quits: jviereck (Adium@moz-E8F31DD.ethz.ch) (Connection reset by peer)
[08:19:01] *** Joins: jviereck (Adium@moz-E8F31DD.ethz.ch)
[08:19:03] *** Quits: edwardw (edwardw@3570A9BA.4E6A4251.FAED9FFC.IP) (Quit: Leaving...)
[08:20:25] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[08:20:55] *** Quits: jviereck (Adium@moz-E8F31DD.ethz.ch) (Quit: Leaving.)
[08:21:25] *** Quits: marianoguerra (marianogue@moz-5D4BDC60.dip0.t-ipconnect.de) (Ping timeout)
[08:21:31] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[08:22:09] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[08:23:04] *** Joins: [squiddy] (squiddy@moz-7B493F09.dip0.t-ipconnect.de)
[08:23:52] *** Joins: marianoguerra (marianogue@moz-64A100C1.dip0.t-ipconnect.de)
[08:24:43] *** pmoore|away is now known as pmoore
[08:30:40] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[08:30:41] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[08:31:01] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[08:32:10] *** Quits: dotfelix (dotfelix@12393A7E.829DBEF3.40E092AA.IP) (Quit: )
[08:33:25] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[08:33:43] *** Quits: oxum (anonymous@7120F591.A3F7A334.C28326FD.IP) (Quit: Bye..)
[08:34:02] *** Joins: oxum (anonymous@7120F591.A3F7A334.C28326FD.IP)
[08:35:05] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[08:36:42] *** Joins: W0rmDr1nk (wormdrink@moz-5A0CCB1B.access.mtnbusiness.co.za)
[08:40:12] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[08:41:07] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:41:58] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[08:43:24] *** Joins: Ferreus (ferreus@moz-5176E6ED.customers.d1-online.com)
[08:43:25] *** Quits: W0rmDr1nk (wormdrink@moz-5A0CCB1B.access.mtnbusiness.co.za) (Ping timeout)
[08:43:39] *** Quits: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net) (Ping timeout)
[08:44:30] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[08:45:53] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[08:46:50] *** Joins: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net)
[08:46:50] *** ChanServ sets mode: +o huon
[08:46:53] *** Quits: EastByte (EastByte@moz-6D8FA74D.ewe-ip-backbone.de) (Ping timeout)
[08:47:05] *** Joins: EastByte (EastByte@moz-7BE365.ewe-ip-backbone.de)
[08:50:21] *** Joins: W0rmDr1nk (wormdrink@moz-5A0CCB1B.access.mtnbusiness.co.za)
[08:51:11] *** Joins: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP)
[08:51:14] *** Quits: Ferreus (ferreus@moz-5176E6ED.customers.d1-online.com) (No route to host)
[08:51:57] *** Joins: mouse (mouse@moz-373942D2.dhcp.yndx.net)
[08:52:23] *** Joins: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de)
[08:53:42] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[08:54:04] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[08:54:46] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[08:56:02] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:59:30] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[09:00:55] *** Joins: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP)
[09:01:00] *** Joins: jmgrosen (user@moz-848F6087.sb.sd.cox.net)
[09:01:01] *** Quits: twi (Adium@E1F4AFAB.BA536DA5.C605BBF7.IP) (Quit: Leaving.)
[09:01:59] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Quit: Coyote finally caught me)
[09:02:05] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[09:02:41] *** Quits: jmgrosen (user@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[09:03:19] *** Quits: klaus (koz@moz-4486E876.hsd1.wa.comcast.net) (Quit: klaus)
[09:03:55] *** Quits: dougxxx (dougxxx@moz-2801788.perm.iinet.net.au) (Quit: Leaving...)
[09:05:17] *** Joins: philix (felipe@moz-E210B33C.user.veloxzone.com.br)
[09:07:19] *** Quits: philix (felipe@moz-E210B33C.user.veloxzone.com.br) (Ping timeout)
[09:08:27] *** Joins: twi (Adium@E1F4AFAB.BA536DA5.C605BBF7.IP)
[09:08:33] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[09:08:33] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[09:08:55] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:09:10] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[09:09:21] *** Joins: alkino_ (alkino@moz-61F150EC.w92-151.abo.wanadoo.fr)
[09:09:49] *** Quits: onelson (owen@18CF7301.95770028.5B6BFE7D.IP) (Ping timeout)
[09:10:35] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[09:10:52] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[09:10:56] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[09:11:33] *** Joins: soumyaC (uid15286@moz-E77DEB21.irccloud.com)
[09:13:04] *** Quits: Ms2ger (Ms2ger@moz-9FBF7DC.adsl-dyn.isp.belgacom.be) (Quit: bbl)
[09:15:24] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[09:16:12] *** Joins: jviereck (Adium@moz-E8F31DD.ethz.ch)
[09:16:46] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[09:16:58] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[09:17:00] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[09:17:16] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Ping timeout)
[09:18:13] *** Quits: dsrx (tom@F616D77.77D422C6.AA74B5DB.IP) (Quit: WeeChat 0.4.1)
[09:19:22] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[09:20:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[09:22:12] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[09:22:41] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[09:26:14] *** Joins: Ferreus (ferreus@moz-26B99244.dip0.t-ipconnect.de)
[09:28:01] *** Quits: alonlevy (alon@2CD54432.57968636.E9C721AF.IP) (Ping timeout)
[09:32:22] *** Joins: brontron (brontron@moz-C8D86903.tc.ph.cox.net)
[09:34:23] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[09:35:46] *** Joins: libergeekingkid (quassel@E316AD4.CB7A9977.D61FB583.IP)
[09:35:54] *** pmoore is now known as pmoore|away
[09:36:02] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[09:36:39] *** Joins: patpat (patpat@7C419687.A0E34C8E.98F3E2B5.IP)
[09:36:56] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[09:37:21] *** Joins: brontron4k (Mibbit@moz-C8D86903.tc.ph.cox.net)
[09:37:36] *** pmoore|away is now known as pmoore
[09:38:45] *** Joins: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP)
[09:40:52] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[09:40:58] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[09:41:12] *** Joins: tom1 (tom@moz-EEA4C0D9.lsanca.fios.verizon.net)
[09:42:41] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[09:43:00] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[09:45:14] *** Quits: jviereck (Adium@moz-E8F31DD.ethz.ch) (Quit: Leaving.)
[09:48:50] *** Joins: lpy (lpy@F3793011.25165A39.3F03179E.IP)
[09:50:15] *** Joins: jviereck (Adium@moz-E8F31DD.ethz.ch)
[09:51:05] *** Quits: W0rmDr1nk (wormdrink@moz-5A0CCB1B.access.mtnbusiness.co.za) (Ping timeout)
[09:51:38] *** Quits: genbattle (quassel@moz-44ABD640.jetstream.xtra.co.nz) (Client exited)
[09:51:41] *** Quits: p1start (rewi@moz-E7F3D014.org) (Ping timeout)
[09:51:53] *** pmoore is now known as pmoore|away
[09:51:53] *** Joins: W0rmDr1nk (wormdrink@moz-5A0CCB1B.access.mtnbusiness.co.za)
[09:53:04] *** Quits: alkino_ (alkino@moz-61F150EC.w92-151.abo.wanadoo.fr) (Ping timeout)
[09:54:05] *** Quits: W0rmDr1nk (wormdrink@moz-5A0CCB1B.access.mtnbusiness.co.za) (Ping timeout)
[09:54:34] *** Quits: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de) (Quit: Leaving.)
[09:55:34] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[09:55:46] *** pmoore|away is now known as pmoore
[09:57:52] *** Quits: lessless (lessless@moz-F3755E99.emplot.net) (Ping timeout)
[09:58:18] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[09:58:59] *** Joins: matematikaadit (adit@88FBA5AB.27A26610.10475F6A.IP)
[10:01:30] *** Joins: jmgrosen (user@moz-848F6087.sb.sd.cox.net)
[10:02:18] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[10:03:25] *** Quits: jmgrosen (user@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[10:03:28] *** Joins: W0rmDr1nk (wormdrink@moz-B3199488.access.mtnbusiness.co.za)
[10:03:47] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[10:03:58] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[10:04:04] *** Quits: nstdloop (nstdloop@moz-C7FAE86A.washdc.fios.verizon.net) (Input/output error)
[10:04:30] *** Joins: nstdloop (nstdloop@moz-C7FAE86A.washdc.fios.verizon.net)
[10:06:13] *** Quits: nstdloop (nstdloop@moz-C7FAE86A.washdc.fios.verizon.net) (Ping timeout)
[10:09:57] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[10:10:14] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[10:10:16] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[10:10:22] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[10:11:36] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Connection reset by peer)
[10:11:40] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[10:12:10] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[10:13:21] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[10:13:59] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[10:14:14] *** Joins: jensnock_ (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[10:14:41] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[10:14:57] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[10:15:24] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[10:16:29] *** Joins: lessless (lessless@moz-F3755E99.emplot.net)
[10:16:47] *** Joins: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de)
[10:17:14] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Ping timeout)
[10:17:52] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[10:17:57] *** Joins: Ms2ger (Ms2ger@moz-4A14BC33.ugent.be)
[10:17:58] *** Joins: gwty (gwtypc@643F8048.BC0A3F1F.F64220F6.IP)
[10:18:14] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[10:19:17] *** Joins: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[10:19:22] <bollu> hey
[10:20:25] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[10:21:41] *** Quits: brontron4k (Mibbit@moz-C8D86903.tc.ph.cox.net) (Quit: http://www.mibbit.com ajax IRC Client)
[10:22:08] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[10:23:05] *** Quits: W0rmDr1nk (wormdrink@moz-B3199488.access.mtnbusiness.co.za) (Ping timeout)
[10:24:57] *** Quits: jviereck (Adium@moz-E8F31DD.ethz.ch) (Quit: Leaving.)
[10:29:55] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[10:30:23] *** Quits: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP) (Quit: mno2)
[10:30:58] *** Quits: libergeekingkid (quassel@E316AD4.CB7A9977.D61FB583.IP) (Client exited)
[10:31:10] <bjz_> bollu: ohai
[10:31:16] *** Joins: jviereck (Adium@moz-E8F31DD.ethz.ch)
[10:33:15] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[10:34:55] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[10:35:15] *** Joins: nstdloop (nstdloop@moz-C7FAE86A.washdc.fios.verizon.net)
[10:36:05] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[10:36:27] *** Joins: W0rmDr1nk (wormdrink@moz-B3199488.access.mtnbusiness.co.za)
[10:36:55] *** Quits: nstdloop (nstdloop@moz-C7FAE86A.washdc.fios.verizon.net) (Ping timeout)
[10:38:38] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[10:40:07] *** Quits: gwty (gwtypc@643F8048.BC0A3F1F.F64220F6.IP) (Ping timeout)
[10:40:12] *** Quits: avsej (avsej@D9A610B8.4841F515.FB33447D.IP) (Ping timeout)
[10:40:50] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[10:41:10] *** Joins: avsej (avsej@D9A610B8.4841F515.FB33447D.IP)
[10:41:41] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[10:43:27] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[10:45:16] *** Quits: jensnock_ (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[10:45:47] *** Quits: phay (phay@16E8BAAB.D2C4A785.91986DB5.IP) (Client exited)
[10:45:49] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[10:46:12] *** Joins: phay (phay@16E8BAAB.D2C4A785.91986DB5.IP)
[10:47:34] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[10:47:52] *** Quits: phay (phay@16E8BAAB.D2C4A785.91986DB5.IP) (Ping timeout)
[10:48:50] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[10:49:24] *** Quits: twi (Adium@E1F4AFAB.BA536DA5.C605BBF7.IP) (Quit: Leaving.)
[10:49:29] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Ping timeout)
[10:54:16] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[10:56:33] *** Quits: jviereck (Adium@moz-E8F31DD.ethz.ch) (Quit: Leaving.)
[10:57:00] *** Joins: gwty (gwtypc@59409F2E.3E0F208F.137C914F.IP)
[10:57:00] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[10:57:19] *** Quits: Ms2ger (Ms2ger@moz-4A14BC33.ugent.be) (Ping timeout)
[10:59:09] *** Quits: patpat (patpat@7C419687.A0E34C8E.98F3E2B5.IP) (Ping timeout)
[10:59:43] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[11:00:53] *** Joins: Ms2ger (Ms2ger@moz-4A14BC33.ugent.be)
[11:02:06] *** Joins: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au)
[11:02:13] *** Joins: jmgrosen (user@moz-848F6087.sb.sd.cox.net)
[11:03:28] *** Joins: cgaebel (clark@moz-F9D89110.nyc.res.rr.com)
[11:04:11] *** Quits: jmgrosen (user@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[11:04:33] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Quit: Bye)
[11:04:42] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[11:05:53] *** Joins: onix (Mibbit@229A770E.431BDA64.8FB52CB8.IP)
[11:06:09] *** Joins: philix (felipe@moz-D63CAE5D.user.veloxzone.com.br)
[11:06:19] *** Quits: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de) (Quit: Leaving.)
[11:06:35] *** Quits: onix (Mibbit@229A770E.431BDA64.8FB52CB8.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:08:04] *** Quits: philix (felipe@moz-D63CAE5D.user.veloxzone.com.br) (Ping timeout)
[11:08:13] *** Quits: matematikaadit (adit@88FBA5AB.27A26610.10475F6A.IP) (Ping timeout)
[11:10:30] *** Joins: Anathema (anathema@moz-2F6DE08B.cable.virginm.net)
[11:11:05] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[11:12:46] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[11:14:26] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[11:14:40] <Anathema> hello, I compiled rust from git last night, when trying to compile the hello example in the tutorial the compile complains that println is unresolved unless I prefix it with std::io::stdio, is there a problem with my installation or something?
[11:15:26] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[11:16:00] *** Joins: eibwen (kvirc@moz-6D1D100D.dip0.t-ipconnect.de)
[11:16:21] <huon> Anathema: nope not at all
[11:16:25] <Ms2ger> Anathema, println() or println!()?
[11:16:47] <Anathema> Ms2ger: println(), println!() worked as expected
[11:16:53] <huon> Anathema: are you looking at http://static.rust-lang.org/doc/master/tutorial.html#compiling-your-first-program ?
[11:16:56] <Ms2ger> Bug in the tutorial
[11:17:06] <Anathema> huon: yeah
[11:17:17] <huon> Anathema: I think you missed the ! on the println there :)
[11:17:18] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Ping timeout)
[11:17:22] *** flaper87 is now known as flaper87|afk
[11:17:29] <Anathema> oh no, I was at the 0.9 docs
[11:17:34] <Anathema> http://static.rust-lang.org/doc/0.9/tutorial.html
[11:17:37] <huon> oh, yes
[11:17:45] <Ms2ger> That'd explain it, then :)
[11:17:47] <huon> if you have a master compiler, you need to use the master docs :)
[11:18:07] <Anathema> ok, thanks :)
[11:18:59] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[11:20:15] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[11:20:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[11:21:12] *** Quits: Ms2ger (Ms2ger@moz-4A14BC33.ugent.be) (Ping timeout)
[11:21:36] *** Quits: marianoguerra (marianogue@moz-64A100C1.dip0.t-ipconnect.de) (Ping timeout)
[11:22:07] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[11:23:49] <Anathema> the tutorial linked in the readme on github is 0.9 btw, perhaps that should be changed to point to the master one?
[11:24:22] *** Joins: Ms2ger (Ms2ger@moz-4A14BC33.ugent.be)
[11:28:36] *** Quits: Mathieu (cicak@420C86E4.9C1E3043.FBF02BB8.IP) (Quit: Textual IRC Client: www.textualapp.com)
[11:30:28] *** Joins: dmsky (dmsky@moz-63A2E3E4.pppoe.spdop.ru)
[11:31:34] *** Quits: benjamin_ (benjamin@moz-4B6B3156.dip0.t-ipconnect.de) (Ping timeout)
[11:32:10] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[11:32:21] *** Quits: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP) (Ping timeout)
[11:33:16] *** Joins: matematikaadit (adit@8C01316.F52B6366.112A2BE.IP)
[11:35:44] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[11:36:00] *** Joins: nstdloop (nstdloop@moz-C7FAE86A.washdc.fios.verizon.net)
[11:37:35] *** Quits: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP) (Ping timeout)
[11:37:35] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[11:37:41] *** Quits: nstdloop (nstdloop@moz-C7FAE86A.washdc.fios.verizon.net) (Ping timeout)
[11:38:24] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Ping timeout)
[11:38:56] *** Joins: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP)
[11:39:30] *** Joins: Db (Db@moz-6F9AA8AA.me)
[11:40:27] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[11:42:30] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[11:43:01] *** Quits: Ferreus (ferreus@moz-26B99244.dip0.t-ipconnect.de) (Ping timeout)
[11:44:13] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[11:50:05] *** Quits: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP) (Quit: leaving)
[11:50:17] *** Joins: andre (andre@CA528A4A.45A4338E.8EE27E6.IP)
[11:51:17] *** Quits: Ms2ger (Ms2ger@moz-4A14BC33.ugent.be) (Ping timeout)
[11:56:14] *** Joins: twi (Adium@E1F4AFAB.BA536DA5.C605BBF7.IP)
[11:56:21] *** Joins: bvssvni (Mibbit@moz-A47B6F8E.bb.online.no)
[11:56:30] *** Joins: Earnestly (earnest@18162BE0.BA6AC103.30311652.IP)
[11:56:59] *** Quits: matematikaadit (adit@8C01316.F52B6366.112A2BE.IP) (Quit: Leaving)
[11:57:57] *** Joins: Ferreus (ferreus@moz-41A2BCF0.dip0.t-ipconnect.de)
[11:59:04] *** Joins: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de)
[12:00:17] *** Quits: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP) (Ping timeout)
[12:00:49] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[12:01:25] *** Joins: Sorella (quildreen@AA4589ED.97245BEB.1ED99692.IP)
[12:01:29] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Quit: Leaving)
[12:01:51] *** Joins: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP)
[12:03:08] *** jorendorff_away is now known as jorendorff
[12:05:22] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Connection reset by peer)
[12:05:34] *** Joins: jviereck (Adium@moz-E8F31DD.ethz.ch)
[12:05:42] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[12:06:04] <Earnestly> The new tutorials using a linked list to explain ~, move, etc. is much better
[12:07:04] *** Joins: ganitsu (ganitsu@moz-8478EB63.dialup.adsl.anteldata.net.uy)
[12:08:03] *** flaper87|afk is now known as flaper87
[12:08:37] *** Joins: asmyers (quassel@27B26EF5.A07F7734.FAA4474F.IP)
[12:11:49] *** Quits: luz (lu.cy@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[12:12:58] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[12:13:06] *** Joins: luz (lu.cy@moz-CD18B14B.customer.cdi.no)
[12:13:20] *** Joins: Afuna (sid21127@moz-31ABA2C0.irccloud.com)
[12:13:32] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[12:14:44] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[12:15:11] *** Joins: LU324 (asdf@moz-864C7465.dyn.embarqhsd.net)
[12:15:15] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[12:15:36] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[12:15:38] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[12:17:17] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Ping timeout)
[12:17:26] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[12:18:30] *** Joins: sawrubh (uid6719@moz-5F4AA75A.irccloud.com)
[12:20:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[12:20:27] *** Joins: claudiu (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP)
[12:21:24] *** Quits: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP) (Ping timeout)
[12:22:01] *** Quits: jviereck (Adium@moz-E8F31DD.ethz.ch) (Ping timeout)
[12:22:02] *** Joins: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP)
[12:22:07] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[12:22:09] *** Joins: jviereck (Adium@moz-2A42986C.ethz.ch)
[12:22:24] *** Quits: kvanb (kvanb@moz-B34A43F2.lnse7.win.bigpond.net.au) (Quit: kvanb)
[12:25:38] <doomlord_> to make macros available elsewere, do i need anything other than #[macro_escape];   in the module    and #[macro_export] before the macro ?... i've seen that in liblog/macros.rs, but it doesn't seem to work for me
[12:25:56] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[12:28:23] <huon> #[macro_escape] allows it to be used within the current crate
[12:28:27] <Earnestly> (Side point:  Will Rust ever attempt to guarantee TCO or will that be for an optimiser?)
[12:28:32] <huon> #[macro_export] allows it to be used externally
[12:28:38] <huon> Earnestly: never guaranteed
[12:28:49] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Client exited)
[12:28:56] <Earnestly> Yeah, fair
[12:29:08] <doomlord_> i just need it in my own crate; is macro_esscape supposed to go before the macro itself
[12:29:19] <huon> Earnestly: https://github.com/mozilla/rust/issues/217#issuecomment-16189706
[12:29:24] <huon> doomlord_: on the module
[12:29:35] <doomlord_> ok i thought so ; ( i just tried it both ways just now)
[12:29:49] <huon> that makes the macro visible to (and inside) the siblings following that module in its parents
[12:29:58] *** Quits: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP) (Ping timeout)
[12:30:16] *** Joins: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP)
[12:31:10] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[12:31:28] <Earnestly> Good, thanks for the explaination, it does make sense and why I thought it was unlikely to happen
[12:33:10] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[12:33:12] <doomlord_> "siblings".. i had the macros in the crate root file, i just tried moving them to another module (sibling of macro users), that didn't help
[12:33:57] *** Joins: mno2 (mno2@C9C55379.F9BA5024.DA359910.IP)
[12:34:05] *** Joins: marianoguerra (marianogue@moz-64A100C1.dip0.t-ipconnect.de)
[12:34:10] * pnkfelix is pleasantly surprised to see that str.chars().rev().take(2) is O(1) time
[12:34:30] <Earnestly> huon: Another, probably silly question, but will rust ever support non-monomorphisation?
[12:34:31] <EKK> whoa
[12:34:32] <EKK> that's neat
[12:34:32] <eddyb> pnkfelix: mhmm :D
[12:34:41] *** Joins: jviereck1 (Adium@moz-2A42986C.ethz.ch)
[12:34:44] <eddyb> Earnestly: most likely not
[12:34:44] <Earnestly> huon: Erm, non-/
[12:34:45] *** Quits: jviereck (Adium@moz-2A42986C.ethz.ch) (Connection reset by peer)
[12:34:53] <pnkfelix> but do I dare suggest that we add str::slice_chars_from
[12:35:06] <pnkfelix> for "quick" suffix extraction
[12:35:12] *** Joins: jviereck (Adium@moz-2A42986C.ethz.ch)
[12:35:19] <Earnestly> eddyb: So, like C++, the <T> will always not likely be made monomorphic?
[12:35:21] *** Quits: jviereck1 (Adium@moz-2A42986C.ethz.ch) (Connection reset by peer)
[12:35:24] <doomlord_> i just tried qualifying the macro name references, and "use macros::*",  no change :(
[12:35:50] <doomlord_> (i didn't think macros needed namespace paths anyway, but it was worth a try)
[12:35:58] <Earnestly> s/always//
[12:36:04] <eddyb> s/needed/supported/
[12:36:26] <eddyb> Earnestly: Rust is a systems programming language. monomorphization is kind of a big deal. and there's a lot of design points assuming that it remains the one true way
[12:36:42] *** Joins: nstdloop (nstdloop@moz-C7FAE86A.washdc.fios.verizon.net)
[12:37:05] <Earnestly> eddyb: My original question was worded poorly.  I was asking if Rust, like C++ templates, would be non-monomorphic?
[12:37:25] <Earnestly> Compared with something as crude as C's void* which is monomorphic
[12:37:32] <eddyb> Earnestly: without a JIT environment, non-monomorphization is... a bit ridiculous. and probably very expensive
[12:37:44] <eddyb> Earnestly: we have trait objects, btw
[12:38:27] *** Quits: nstdloop (nstdloop@moz-C7FAE86A.washdc.fios.verizon.net) (Ping timeout)
[12:38:48] *** Joins: jviereck1 (Adium@moz-2A42986C.ethz.ch)
[12:38:49] *** Quits: jviereck (Adium@moz-2A42986C.ethz.ch) (Connection reset by peer)
[12:39:03] <Earnestly> eddyb: I'm just looking over the tutorial again, and it mentioned List<T>, I was wondering if List would be monomorphic
[12:39:18] <eddyb> nope
[12:39:33] <Earnestly> And any `fn foo<T>`, etc. Like C's void foo(void *a)
[12:39:34] *** Joins: jviereck (Adium@moz-2A42986C.ethz.ch)
[12:39:45] *** Quits: jviereck1 (Adium@moz-2A42986C.ethz.ch) (Connection reset by peer)
[12:40:29] <eddyb> Earnestly: I mean... what you ask is confusing, i.e. I don't know whether "yes" or "no" is the appropriate answer :/
[12:40:46] *** Joins: jviereck1 (Adium@moz-2A42986C.ethz.ch)
[12:40:46] *** Quits: jviereck (Adium@moz-2A42986C.ethz.ch) (Connection reset by peer)
[12:40:53] <eddyb> Rust generics are like C++ templates, but with parametric polymorphism (trait bounds)
[12:41:00] <Earnestly> eddyb: Will `fn foo<T>` make a copy of that function foo for every type or will it use the same .data segment?
[12:41:06] <bvssvni> what is monomorphism in this case?
[12:41:11] <eddyb> Earnestly: will make a copy
[12:41:32] <Earnestly> bvssvni: It would be generating a copy for each type instead of using the same code for all types
[12:41:36] <eddyb> rusti: let v = vec!(~0 as ~Any, ~false as ~Any); (v.get(0).as_ref::<int>().map(|x| *x), v.get(1).as_ref::<bool>().map(|x| *x))
[12:41:37] -rusti- pastebinned 12 lines of output: http://sprunge.us/hZBd
[12:41:43] <eddyb> Earnestly: it's not really a "copy"
[12:41:59] <Earnestly> eddyb: Well, not in the sense of copy-pasting, I know, but fair enough
[12:42:10] <eddyb> it's an instantiation, and they can have very different results
[12:42:14] <Earnestly> so Rust's generics are not monomorphic, basically.  That's fine
[12:42:24] <Earnestly> Like C++ Templates
[12:42:41] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[12:42:48] <eddyb> rusti: use std::any::Any; let v = vec!(~0 as ~Any, ~false as ~Any); (v.get(0).as_ref::<int>().map(|x| *x), v.get(1).as_ref::<bool>().map(|x| *x))
[12:42:49] -rusti- pastebinned 20 lines of output: http://sprunge.us/SdIL
[12:42:58] <eddyb> doesn't want to cooperate with me :/
[12:43:00] *** Joins: jviereck (Adium@moz-2A42986C.ethz.ch)
[12:43:09] <eddyb> rusti: use std::any::{Any, AnyRefExt}; let v = vec!(~0 as ~Any, ~false as ~Any); (v.get(0).as_ref::<int>().map(|x| *x), v.get(1).as_ref::<bool>().map(|x| *x))
[12:43:10] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[12:43:10] -rusti- (Some(0), Some(false))
[12:43:20] *** Quits: jviereck (Adium@moz-2A42986C.ethz.ch) (Max SendQ exceeded)
[12:43:33] *** Joins: libfud (libfud@moz-73F272E4.res-cmts.eph2.ptd.net)
[12:43:34] *** Quits: gwty (gwtypc@59409F2E.3E0F208F.137C914F.IP) (Connection reset by peer)
[12:43:36] *** Joins: jviereck (Adium@moz-2A42986C.ethz.ch)
[12:43:40] *** Quits: Sorella (quildreen@AA4589ED.97245BEB.1ED99692.IP) (Ping timeout)
[12:43:51] <eddyb> Earnestly: ^^ that's RTTI without any real cost (other than the virtual calls)
[12:44:06] <libfud> if I have an array of owned strings, why is a variable made from one of those strings instead treated as an array of u8s?
[12:44:14] *** Quits: jviereck1 (Adium@moz-2A42986C.ethz.ch) (Ping timeout)
[12:44:14] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[12:44:29] <eddyb> libfud: are you indexing the strings?
[12:44:33] <libfud> I'm probably doing something very wrong here
[12:44:34] <libfud> yes
[12:44:39] <eddyb> that gives you bytes
[12:44:43] <libfud> oh
[12:44:44] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[12:44:53] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[12:44:55] <kimundi> doomlord_: re macros - are all modules that want to use the macro declared _after_ the module the macro is defined in?
[12:45:01] <eddyb> libfud: Rust strings are valid utf-8 sequences and character indexing is O(N)
[12:45:08] <eddyb> libfud: you should use iterators instead
[12:45:16] <doomlord_> kimundi, no , ok 
[12:45:20] <libfud> thanks
[12:45:32] <doomlord_> lol. that works, thanks :)
[12:46:04] <kimundi> doomlord_: mod { #[macro_escape] foo! ... } mod bar { foo!() } should work, but otherway round will not currently.
[12:46:14] <Earnestly> eddyb: Ooh, so Rust uses reflection (like haskell, ml, etc.)?
[12:46:21] <eddyb> Earnestly: nope
[12:46:35] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[12:46:42] *** Joins: gwty (gwtypc@5ED33DE6.A6C7EBF9.F099C9FB.IP)
[12:46:46] * kimundi thinks we should just go ahead and start intermingle macro expansion and resolve to make them both properly use the module system.
[12:46:48] <libfud> I've been up all night, so I might not be interpreting this right
[12:46:54] <libfud> you mean to iterate through the string?
[12:47:01] <Earnestly> eddyb: I need to probably better understand traits actually, before continuing anything else heh
[12:47:02] <eddyb> kimundi: that's what I've been preaching :D
[12:47:12] <eddyb> libfud: yupp
[12:47:15] <libfud> kk
[12:47:38] <eddyb> Earnestly: monomorphization and trait objects (which are like virtual classes, but used less than in C++)
[12:48:01] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[12:48:21] *** Joins: jviereck1 (Adium@moz-2A42986C.ethz.ch)
[12:48:21] *** Quits: jviereck (Adium@moz-2A42986C.ethz.ch) (Connection reset by peer)
[12:49:19] <kimundi> start with expansion, noting all unknown macros. Then resolve partially, discovering macro definitions in the process. The go back and continue expansion with the new definitions. repeat the circle until everything is resolved/expanded, or a infinite loop is detected. :P
[12:49:42] <huon> kimundi: bleh :(
[12:50:13] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[12:51:01] <doomlord_> was so spoilt by not needing to define things in a specific order elsewhere in rust :)
[12:51:18] *** Joins: Sorella (quildreen@89788746.FDF9B0F2.A95FAE2B.IP)
[12:51:18] <kimundi> Alternatively, have a macro resolve, a single expansion, and normal resolve. But that's still less flexible and doesn't let you do something like macros expanding to modules containing macros.
[12:51:32] *** Joins: pczarn (pczarn@moz-69A55FA.izacom.pl)
[12:51:34] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[12:52:01] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[12:52:14] <doomlord_> what would that allow, i'd always assumed macros would be simpler than everything else going on, but thats coming from C/C++ of course
[12:52:53] <kimundi> doomlord_: Well it would allow you to just do `use foo::bar::baz!;` to import a macro, and have that follow the identical rules to the module system.
[12:53:24] *** Quits: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au) (Quit: gavinb)
[12:53:24] *** Quits: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de) (Quit: Leaving.)
[12:53:30] <doomlord_> are macros going to get numerous enough to need namespacing
[12:53:36] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[12:53:56] <doomlord_> i suppose if people are using them regularly as wrappers for function calls they might
[12:54:25] <Earnestly> Hm, a lot of the wiki pages on github are apparently gone, is there a list of projects written in rust somewhere?
[12:54:30] <kimundi> Not necessarily, but having a completely different system just seems unintuitive to me.
[12:54:38] <Earnestly> (Not specifically libraries)
[12:55:15] *** Joins: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com)
[12:55:17] <Earnestly> Ah, found something, nevermind
[12:55:26] <ChrisMorgan> Earnestly: what?
[12:55:48] <ChrisMorgan> "Macros are one honking great idea -- let's do more of those!"
[12:56:07] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[12:56:08] <ChrisMorgan> (With apologies to Tim Peters.)
[12:56:17] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[12:56:35] <Earnestly> ChrisMorgan: A list of projects written in Rust, I found what looks like an old wiki for some
[12:56:56] <ChrisMorgan> Earnestly: perhaps I should have said "where" rather than "what"
[12:56:58] *** Quits: gwty (gwtypc@5ED33DE6.A6C7EBF9.F099C9FB.IP) (Ping timeout)
[12:57:04] <Earnestly> https://github.com/mozilla/rust/wiki/Projects-using-Rust
[12:57:09] <bvssvni> does Rust have a fmt tool yet?
[12:57:31] <ChrisMorgan> bvssvni: not beyond `rustc --pretty`
[12:58:00] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[12:58:06] <kimundi> Having to say "Our macros are completely differently than those of C++, but use the same import system, unlike the rest of Rust, which has a completely different module system but has functions working basically the same." sounds like a bad joke. :|
[12:58:07] <ChrisMorgan> At least it doesn't fail on any valid code in the Rust repository any more.
[12:58:56] *** Joins: gwty (gwtypc@566515B8.CD98C580.71EA9E17.IP)
[12:59:19] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[13:00:41] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Quit: canhtak)
[13:00:45] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[13:01:34] <Earnestly> github has the most useless 404's :<
[13:03:16] *** Joins: nstdloop (nstdloop@moz-C7FAE86A.washdc.fios.verizon.net)
[13:03:24] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[13:05:51] *** Quits: tom1 (tom@moz-EEA4C0D9.lsanca.fios.verizon.net) (Ping timeout)
[13:06:01] <bvssvni> ChrisMorgan: I see there are issues with --pretty that hasn't been fixed yet
[13:06:21] <ChrisMorgan> bvssvni: certainly. It's not perfect.
[13:06:27] <eddyb> it's pretty bad, in some cases
[13:06:32] <eddyb> (no pun intended)
[13:06:42] <ChrisMorgan> Earnestly: I wrote an article about that: http://chrismorgan.info/blog/github-links-case-study.html
[13:07:02] *** Joins: philix (felipe@moz-D63CAE5D.user.veloxzone.com.br)
[13:07:06] * ChrisMorgan was going with "not a pretty story" but let his judgement win
[13:07:23] <ChrisMorgan> eddyb: why spoil a perfectly good pun with a claim of not having meant it?
[13:07:25] *** Quits: lpy (lpy@F3793011.25165A39.3F03179E.IP) (Client exited)
[13:07:42] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[13:08:33] <Earnestly> ChrisMorgan: Exactly my feelings about gh's 404.  They are useless, even when the url is "off-by-one", it's not smart enough to suggest the correct location
[13:08:39] *** Quits: jviereck1 (Adium@moz-2A42986C.ethz.ch) (Connection reset by peer)
[13:08:39] *** Joins: jviereck (Adium@moz-2A42986C.ethz.ch)
[13:08:54] <ChrisMorgan> Earnestly: but naturally, nothing has happened.
[13:08:58] *** Quits: philix (felipe@moz-D63CAE5D.user.veloxzone.com.br) (Ping timeout)
[13:09:12] <ChrisMorgan> I didn't expect it to, really; I wrote the article for the benefit of others. GitHub was just a convenient case to study.
[13:09:14] *** Joins: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net)
[13:10:31] <Earnestly> Yeah of course, and using hidden key binds (which I don't have access to) to get urls is not nice
[13:11:05] <Earnestly> Case and point: https://github.com/chris-morgan/rust-http/blob/master/src/libhttp/request.rs :P
[13:11:49] <huon> you need to... request... that page better ;P
[13:11:59] <Earnestly> :D
[13:12:25] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[13:13:03] <eddyb> "Cow and dog are suspiciously silent" heh
[13:13:33] <Earnestly> But yeah, I've not come across a worse offender yet of useless 404's
[13:13:51] *** Quits: jviereck (Adium@moz-2A42986C.ethz.ch) (Ping timeout)
[13:14:17] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[13:15:12] *** Joins: edwardw (edwardw@BB690835.D7DB55D8.50B134B9.IP)
[13:15:58] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[13:16:21] *** Joins: Ms2ger (Ms2ger@moz-4A14BC33.ugent.be)
[13:16:58] *** Quits: ganitsu (ganitsu@moz-8478EB63.dialup.adsl.anteldata.net.uy) (Ping timeout)
[13:18:23] *** Joins: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP)
[13:18:59] *** Joins: arielb1 (Mibbit@moz-F45AD9C0.cs.tau.ac.il)
[13:20:53] <ChrisMorgan> Microsoft used to be worse. Then they put search results on their 404 page and all of a sudden, although they came up just as frequently as before, they were bearable. They've also been mending their ways a little.
[13:21:22] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[13:22:40] *** Joins: jviereck (Adium@moz-E8F31DD.ethz.ch)
[13:23:00] *** Quits: skade (skade@B4A5FE21.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:23:01] *** Quits: goffrie (goffrie@moz-A05CBFD4.dsl.ncf.ca) (Ping timeout)
[13:23:03] *** Joins: goffrie (goffrie@moz-68961183.dsl.ncf.ca)
[13:23:04] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[13:23:06] *** Joins: alisdair (textual@3E3FE702.A60260BB.C3C3A9D0.IP)
[13:23:08] <pnkfelix> i'm pretty sure static.rust-lang.org handles mistyped urls worse than github
[13:23:20] <eddyb> pnkfelix: that's just EC2
[13:23:54] <pnkfelix> eddyb: ... does that mean much to the person searching?
[13:24:19] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[13:24:27] <eddyb> I've been complaining about those index.html and nobody with the access has fixed it (I think someone else opened an issue)
[13:24:31] *** Joins: skade (skade@B4A5FE21.505237C9.CAE22B62.IP)
[13:24:46] <eddyb> pnkfelix: not really, but maybe it means EC2 is the bad thing to use
[13:25:01] <pnkfelix> okay me must eat
[13:25:12] <eddyb> or maybe we can configure it with a meaningful 404 page (supported? I don't know)
[13:25:19] *** Quits: twi (Adium@E1F4AFAB.BA536DA5.C605BBF7.IP) (Quit: Leaving.)
[13:25:53] *** Joins: twi (Adium@E1F4AFAB.BA536DA5.C605BBF7.IP)
[13:26:04] <huon> eddyb: you're not the only one complaining about it ;P
[13:26:30] <huon> ( https://github.com/mozilla/rust/issues/11896 is the issue)
[13:26:54] <eddyb> http://doc.rust-lang.org/master/std/option/Option#as_ref pls
[13:27:09] *** Quits: gwty (gwtypc@566515B8.CD98C580.71EA9E17.IP) (Ping timeout)
[13:27:30] <huon> http://doc.rs/master/... ;P
[13:28:07] <eddyb> http://doc.rs/ huh
[13:28:19] <libfud> woot
[13:28:21] <libfud> finally got it
[13:28:29] <ChrisMorgan> Registered. docs.rs isn't.
[13:28:34] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[13:28:43] <eddyb> ChrisMorgan: take it!
[13:28:48] <eddyb> for the glory of Rust
[13:28:57] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[13:28:58] *** Joins: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP)
[13:29:06] * ChrisMorgan is too lazy just at present
[13:29:08] <huon> eddyb: or, we could have doc.rs/Option in a similar vein to http://mdn.io/touch
[13:29:09] *** Joins: gwty (gwtypc@E28F3FC8.A4938A92.25B273F5.IP)
[13:29:46] <libfud> >>40894872
[13:29:46] <libfud> >>40896841
[13:29:49] <libfud> ooops
[13:29:51] <libfud> http://sprunge.us/gTSc
[13:29:54] <libfud> http://sprunge.us/Ogce
[13:30:01] *** Quits: jviereck (Adium@moz-E8F31DD.ethz.ch) (Quit: Leaving.)
[13:30:18] <libfud> ah, wrong channel
[13:30:23] <libfud> thanks for the help though guys
[13:30:26] <eddyb> libfud: why are you using floats?
[13:30:35] <libfud> because
[13:30:40] <libfud> I wanted to find out
[13:30:47] <libfud> the size of a bunch of files in total
[13:30:52] <bvssvni> what is the rationale behind putting all status flags in one enum? http://cairographics.org/manual/cairo-Error-handling.html#cairo-status-t
[13:31:12] <huon> bvssvni: as opposed to?
[13:31:14] <eddyb> bvssvni: lazy
[13:31:21] <bvssvni> haha
[13:31:24] <libfud> ls -Rsh doesn't give something that's nicely formatted for regular consumption
[13:31:26] <eddyb> huon: error groups
[13:31:32] <edwardw> anyone also wants a Repr implementation for `ty::sty`? If yes, I'll submit a PR
[13:31:45] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[13:31:46] <eddyb> edwardw: why would that be necessary?
[13:31:53] <eddyb> you shouldn't touch sty directly
[13:31:57] <bvssvni> huon: splitting it into multiple by usage
[13:32:06] <eddyb> huon: 404 -> doc search is fine with me
[13:32:09] <edwardw> eddyb: for debug
[13:32:13] <eddyb> huon: especially the lazy side of me :D
[13:32:17] <arielb1> libfud: use du
[13:32:21] <libfud> http://sprunge.us/MhCL
[13:32:24] <libfud> doesn't work like that
[13:32:26] <libfud> I was just going for
[13:32:31] <libfud> one file type
[13:32:37] <libfud> or does du work like that/
[13:32:53] *** Quits: alisdair (textual@3E3FE702.A60260BB.C3C3A9D0.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:33:01] <libfud> at any rate, I've certainly learned a lot
[13:33:13] <eddyb> libfud: I suggest you fork uutils/coreutils/du, if you want to be efficient :P
[13:33:24] <eddyb> edwardw: but when you do you have sty and not ty?
[13:33:29] <eddyb> edwardw: I mean, ty::t
[13:33:30] <libfud> hahaha
[13:33:40] <libfud> nah, I'm not good enough to be a contributor
[13:34:03] <edwardw> eddyb: ah good point. it won't be necessary then
[13:34:05] <huon> libfud: that's what everyone says
[13:34:09] <eddyb> libfud: they want to be GNU compatible anyways. I meant, fork their code for your own tool
[13:34:18] <huon> but then they are actually good enough
[13:34:19] <libfud> oh, point taken
[13:34:20] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Quit: canhtak)
[13:34:22] <eddyb> libfud: as a starting point, not necessarily to contribute back
[13:34:27] <libfud> right
[13:34:28] <eddyb> edwardw: ;)
[13:34:52] <eddyb> huon: except me. I'm the worst
[13:34:54] *** Joins: Guest_ (textual@moz-6FD8C94B.hfc.comcastbusiness.net)
[13:35:27] *** Quits: oal (oal@26029749.1D466084.2CFD4520.IP) (Ping timeout)
[13:35:39] <libfud> maybe a good exercise would be writing the coreutils in rust
[13:35:41] *** Joins: oal (oal@26029749.1D466084.2CFD4520.IP)
[13:35:43] <arielb1>  find . -name \*.mp3 -print0 | xargs -0 stat --format='%s+' | sed -e '1i0 ' -e '$ap' | dc
[13:35:54] <libfud> sone of a bitch
[13:36:15] <eddyb> libfud: keep that excitement down, pls
[13:36:28] <huon> eddyb: yeah, you've never contributed anything to any open source project ever
[13:36:30] *** Joins: jviereck (Adium@moz-E8F31DD.ethz.ch)
[13:36:41] <libfud> I was using ls -RSh | grep .mp3$
[13:36:43] <huon> well... nothing over 20K lines :P
[13:36:49] <libfud> sorry
[13:36:50] <eddyb> huon: I'm never prepared and only sometimes succeed
[13:36:52] <huon> ... in one go
[13:37:00] <eddyb> some people are okay with that
[13:37:20] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[13:37:35] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[13:38:22] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Client exited)
[13:38:32] <libfud> oh yeah, as for why floats, I picked that because I was getting real numbers instead of integers from ls 
[13:38:36] <libfud> until I used --block
[13:38:36] *** Joins: abinader (sid21713@moz-A42E5B7B.irccloud.com)
[13:38:36] <libfud> lol
[13:39:12] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[13:41:24] *** Quits: mno2 (mno2@C9C55379.F9BA5024.DA359910.IP) (Quit: mno2)
[13:44:02] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[13:45:07] *** Joins: bollu_ (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[13:45:43] <Earnestly> Parsing ls is considered a bit of a no-no
[13:45:43] *** Joins: mye (mye@moz-DACF5F52.dip0.t-ipconnect.de)
[13:45:43] <bollu_> if a trait method passes 2 arguments, but I don't use one, how do I tell rustc to shut up about it?
[13:45:45] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[13:46:04] <huon> bollu_: underscores
[13:46:13] <huon> fn foo(_: int) { ... }
[13:46:20] <huon> fn foo(_ignored: int) { ... }
[13:46:36] *** Joins: jviereck1 (Adium@moz-2A42986C.ethz.ch)
[13:46:44] *** Quits: jviereck (Adium@moz-E8F31DD.ethz.ch) (Ping timeout)
[13:46:53] *** Joins: philix (felipe@moz-D63CAE5D.user.veloxzone.com.br)
[13:46:55] *** Quits: jviereck1 (Adium@moz-2A42986C.ethz.ch) (Max SendQ exceeded)
[13:47:08] *** Joins: jviereck (Adium@moz-2A42986C.ethz.ch)
[13:47:09] *** Quits: jviereck (Adium@moz-2A42986C.ethz.ch) (Client exited)
[13:47:13] <bollu_> huon: ah. why doesn't match(something) { Type(_, _) => /*stuff*/ } not work?
[13:47:46] <eddyb> s/(something)/ something/
[13:47:51] <libfud> speaking of Parsing, there is a method in D with strings that can strip numbers that lead a string
[13:48:05] <eddyb> bollu_: what's with that match? it should work
[13:48:17] <eddyb> libfud: we were discussing adding that
[13:48:23] <eddyb> FromStrPrefix
[13:48:26] <libfud> yeah
[13:48:41] <bollu_> eddyb: sorry, brackets are a bad habit to break. I tried it once and it didn't seem to work? It was proabbly my fault. hmm, time to clean up code! 
[13:48:46] <libfud> that basically would have singlehandedly done what I was working on for a while (fruitlessly til I came here)
[13:49:01] <eddyb> libfud: hmm? it's pretty easy
[13:49:09] <eddyb> (but don't expect it to work with floats)
[13:49:31] <libfud> well I was also dealing with a leading space for some lines but not others
[13:49:41] <eddyb> trim_left
[13:49:47] <libfud> oh
[13:49:48] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[13:50:16] *** Joins: nszceta (nszceta@moz-E458A7C0.pharm.pitt.edu)
[13:50:18] <libfud> well, that's certainly easier than what I was going for
[13:50:53] *** Joins: dranov (dranov@D0C4F44C.1298A9BE.D602D2C5.IP)
[13:51:33] *** Parts: bollu_ (bollu@31CCE710.7065DDB9.6D6A344F.IP) ()
[13:51:41] *** Quits: sellout (Adium@moz-6B18A669.hlrn.qwest.net) (Quit: Leaving.)
[13:52:15] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[13:52:41] *** Joins: Guest__ (textual@CCBDA12A.5768461E.9532F1CE.IP)
[13:52:42] <arielb1> how do you convert a &[u8] to a ~[u8]?
[13:52:49] <ChrisMorgan> to_owned()
[13:53:02] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[13:53:34] <arielb1> ~*s doesn't work...
[13:53:34] *** Joins: paraze (paraze@moz-DAFFEE79.w90-27.abo.wanadoo.fr)
[13:53:51] *** Joins: mno2 (mno2@C9C55379.F9BA5024.DA359910.IP)
[13:53:52] <arielb1> why doesn't it work?
[13:54:32] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[13:54:36] *** Quits: Rufflewind (rf@moz-4556AD29.lightspeed.lnngmi.sbcglobal.net) (Client exited)
[13:54:44] <eddyb> because we don't have DST yet
[13:54:52] *** Quits: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP) (Ping timeout)
[13:56:38] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[13:57:04] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[13:58:51] *** Joins: leowoe (Leo@moz-8A753E71.dip0.t-ipconnect.de)
[13:58:54] <pnkfelix> libfud: you were musing about coreutils in rust; are you aware of this: https://github.com/uutils/coreutils
[13:59:58] <libfud> not until just now
[14:00:14] <libfud> thanks much, I'll review that later
[14:00:31] <eddyb> I should've linked directly instead of just mentioning it
[14:01:22] <libfud> I thought uutils looked funny but I assumed it was a non-GNU coreutils or something like that
[14:01:49] <pnkfelix> eddyb: I didn't even notice that, I think I skipped your path thinking it was a path relative to github.com/mozilla/rust/
[14:02:35] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[14:02:43] <pnkfelix> eddyb: or, wait, no, your message preceded libfud's, that's what happened.  You have the Sight!
[14:03:46] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[14:04:25] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[14:04:26] <libfud> so do you guys all have prior experience working on other compilers
[14:05:21] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[14:05:51] <pnkfelix> libfud: I've heard some community members say that they have been learning compilers on the fly while hacking on rustc
[14:05:55] *** Joins: jackneill (jackneill@moz-D6B5C229.pool.digikabel.hu)
[14:06:25] <pnkfelix> libfud: so the answer to your Q could well be "no"
[14:07:41] * huon hadn't done any serious compiler work before rust
[14:08:21] <huon> (well, I had done a "compilers" course before, but it was entirely theoretical, with literally no coding.)
[14:08:24] *** Joins: edwardw_ (edwardw@FE274C20.C036752E.F5B522C5.IP)
[14:08:37] *** Quits: edwardw (edwardw@BB690835.D7DB55D8.50B134B9.IP) (Ping timeout)
[14:08:43] <libfud> that's interesting. I hate to drag the comparison up again, but I've been thinking about something I read in 'The D Programming Language,' which brought up using angle brackets for specifying compile time arguments. Basically it said that doing that is nightmarish
[14:08:46] *** edwardw_ is now known as edwardw
[14:09:00] *** Joins: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net)
[14:09:00] <libfud> so, is that necessarily true?
[14:14:44] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[14:14:57] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[14:15:04] *** Quits: ChrisOei (ChrisOei@moz-30D80888.hsd1.ca.comcast.net) (Client exited)
[14:15:28] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[14:16:39] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[14:17:39] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[14:18:44] *** Joins: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[14:19:19] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[14:21:46] <Leo`> hum, I'm trying to write externally loaded syntax extensions but it doesn't work
[14:22:13] <Leo`> my crate seems loaded, but rustc keeps saying "macro not found"
[14:22:27] <Leo`> are externally loaded macros invoked ina different manner thatn macro_rules-defined macros ?
[14:22:31] <Leo`> than*
[14:23:03] <eddyb> nope. do you have #[phase(syntax)] on the extern crate?
[14:23:09] <Leo`> yep
[14:23:14] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[14:23:21] *** Joins: jmgrosen` (user@moz-848F6087.sb.sd.cox.net)
[14:23:28] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[14:23:50] <Leo`> does the extern crate needs to be compiled in some special way ?
[14:23:56] <Leo`> it's an rlib currently
[14:24:36] <bvssvni> Leo`: you remembered "-L <dir>" to rustc?
[14:24:40] *** Joins: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[14:24:40] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Quit: -y)
[14:24:41] <bollu> ../src/heart/game_event_layer.rs:81:30: 81:31 error: obsolete syntax: struct wildcard
[14:24:45] <bollu> ../src/heart/game_event_layer.rs:81 			event::KeyPressed { code, _, _, _,_ }  => self.handle_key_press(code),
[14:24:51] <bollu> so _ is deprecated?
[14:24:54] <bollu> what's the replacement?
[14:24:54] *** Quits: W0rmDr1nk (wormdrink@moz-B3199488.access.mtnbusiness.co.za) (Ping timeout)
[14:25:05] <huon> { code , .. }
[14:25:08] <eibwen> why is it unsafe to cast *mut T to *T ?
[14:25:16] <Leo`> bvssvni: of course, if not, Rustc would complain that it doesn't find the crate
[14:25:24] <huon> eibwen: it's not?
[14:25:29] <bollu> huon: how many args can I ignore that way?
[14:25:34] <eibwen> huon: http://static.rust-lang.org/doc/master/std/cast/fn.transmute_immut_unsafe.html
[14:25:37] *** Joins: W0rmDr1nk (wormdrink@moz-B3199488.access.mtnbusiness.co.za)
[14:25:43] <eddyb> bollu: all of them
[14:26:01] <huon> eibwen: that function is peculiar: it can be written as `ptr as *T`
[14:26:07] <Leo`> is there a use needed or something ... ?
[14:26:12] <huon> (in safe code)
[14:26:13] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[14:26:19] *** Quits: Earnestly (earnest@18162BE0.BA6AC103.30311652.IP) (Quit: WeeChat 0.4.4-dev)
[14:26:19] <Leo`> or even better, does someone have a working example of externally loaded macros ?
[14:26:19] <eibwen> so it should be removed? :)
[14:26:23] *** Joins: Earnestly (earnest@18162BE0.BA6AC103.30311652.IP)
[14:26:23] <bollu> huon: how many args can I ignore that way?
[14:26:30] <eibwen> Leo`: the logging module?
[14:26:31] <huon> bollu: eddyb answered you
[14:26:31] <bollu> eddyb: good to know.
[14:26:35] <bollu> and ignore that :)
[14:26:36] <Leo`> the one on the pull request that introduced them is too old
[14:26:47] <huon> Leo`: macros or syntax extensions?
[14:26:54] <Leo`> hem
[14:26:55] <huon> i.e. `macro_rules!`?
[14:26:56] <eddyb> rustilite: #[phase(syntax, link)] extern crate log; fn main(){debug!("foo");}
[14:26:58] *** Joins: Rym (y@121EE84.FAA15AB8.8772DA20.IP)
[14:27:00] -rustilite- pastebinned 8 lines of output: http://ix.io/bam
[14:27:02] <Leo`> the thing with phases and registrars
[14:27:04] <Leo`> no
[14:27:04] <huon> eddyb: need a feature
[14:27:08] <Leo`> syntax extension I guess
[14:27:10] <Leo`> +s
[14:27:13] <huon> Leo`: https://github.com/sfackler/syntax-ext-talk/blob/gh-pages/simple-ext/lib.rs
[14:27:18] <eddyb> rustilite: #[feature(phase)]; #[phase(syntax, link)] extern crate log; fn main(){debug!("foo");}
[14:27:19] -rustilite- application terminated abnormally with signal 31 (Bad system call)
[14:27:22] <huon> Leo`: https://github.com/sfackler/syntax-ext-talk/blob/gh-pages/simple-ext/test.rs
[14:27:32] <libfud> wow, that's weird
[14:27:55] <huon> libgreen doesn't run inside the sandbox, and that's still the default
[14:28:06] <Leo`> thanks huon 
[14:28:26] <huon> ("proper" rusti explicitly chooses libnative and so doesn't crash)
[14:28:33] * edwardw oh the all mighty transmute
[14:28:35] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[14:29:22] <Leo`> I don't understand
[14:29:26] <Leo`> my code is basically the same
[14:29:30] <Leo`> but... doesn't work
[14:29:59] <libfud> http://sprunge.us/OheE
[14:30:01] <libfud> http://sprunge.us/ZBhC
[14:30:22] <libfud> oh
[14:30:24] <libfud> nevermind
[14:30:25] <libfud> I see now
[14:30:38] <libfud> some of them are just doubled up in the middle column
[14:30:41] <libfud> time for me to sleep
[14:30:42] <libfud> bye all
[14:30:47] *** Parts: libfud (libfud@moz-73F272E4.res-cmts.eph2.ptd.net) ()
[14:31:19] <Leo`> wtf
[14:31:27] *** Quits: jackneill (jackneill@moz-D6B5C229.pool.digikabel.hu) (Ping timeout)
[14:31:30] <Leo`> I really fail to see what's wrong in my code
[14:31:57] <bvssvni> Leo`: try comment it out and rewrite it
[14:32:57] *** Joins: claudiu_ (claudiu@81B10C62.5F4BC945.49B2C1AE.IP)
[14:33:03] <Tobba> argh
[14:33:13] <Leo`> oh it works now
[14:33:16] <Leo`> no idea whyw
[14:33:17] <Leo`> -w
[14:33:19] <Tobba> Share was gonna get pulled last night but a bunch of tests failed for some inexplicable reason
[14:33:26] <Leo`> don't even know what I changed
[14:33:30] *** Quits: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP) (Ping timeout)
[14:33:34] *** Quits: jmgrosen` (user@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[14:33:43] *** Quits: claudiu (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP) (Ping timeout)
[14:33:43] *** Quits: Rym (y@121EE84.FAA15AB8.8772DA20.IP) (Ping timeout)
[14:33:50] *** Joins: jackneill (jackneill@moz-9049B396.pool.digikabel.hu)
[14:34:06] <Leo`> Ok found
[14:34:14] <Leo`> the crate must be a dylib
[14:34:14] <huon> Tobba: it's pretty explicable: the tests or code are broken
[14:34:16] <Leo`> not an rlib
[14:34:22] <Leo`> if it's an rlib it doesn't work
[14:34:23] *** Joins: lpy (lpy@1834E2CB.F09091A8.1348A864.IP)
[14:34:25] <Tobba> the tests were completely unrelated
[14:34:30] <Leo`> ok*
[14:34:31] <huon> no, they're really not
[14:34:35] <Leo`> that's strange
[14:34:49] <huon> error: instantiating a type parameter with an incompatible type `ast::Item`, which does not fulfill `Share`
[14:34:49] <huon> is_share::<Item>();
[14:35:10] <huon> it's asserting that ast::Item should be Share, which I think is no longer correct
[14:35:11] <edwardw> huon: eddyb: BAM! https://gist.github.com/edwardw/9642908
[14:35:35] <huon> (those tests were mechanically translated from the old ones which where asserting Freeze)
[14:35:36] <eddyb> huon: of course it's not correct. the AST is Freeze, not Share
[14:35:40] <huon> *were
[14:35:57] <eddyb> it would be Share if we had owning pointers instead of shared ones, I guess
[14:36:05] <huon> eddyb: it's not "of course". we *want* the AST to be Share
[14:36:12] <Leo`> hum
[14:36:13] *** Quits: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca) (Quit: Leaving.)
[14:36:24] <Leo`> and my macro can't be invoked on item position
[14:36:24] <huon> it just happens to not be Share now due to implementation details
[14:36:25] <eddyb> with TLS/context arenas, it would Share but not Send
[14:36:25] <Tobba> oh wait, most of the test failures are actually Share related
[14:36:25] <Leo`> why ?
[14:36:32] <Leo`> my syntax extension*
[14:36:34] <huon> Tobba: yes, exactly
[14:36:42] <eddyb> with ~, it would be both Share and Send
[14:36:43] <huon> Leo`: because it returns a MRExpr?
[14:36:49] <Tobba> when I first looked at it it looked like RcStr had decided to break out the ass because the text was cutting off
[14:37:05] *** Joins: bollu (bollu@moz-4C1E443F.clients.kiwiirc.com)
[14:37:11] <Leo`> huon: ha maybe
[14:37:15] <bollu> having some weird unreachable code -https://gist.github.com/bollu/a4f5da452bfbbc31a24c
[14:37:18] <eddyb> edwardw: what's the result?
[14:37:21] <Leo`> huon: thanks
[14:37:27] <Leo`> huon: it returns a  dummy expression for now
[14:37:34] <edwardw> eddyb: I added the failure itself
[14:37:37] <Leo`> s/ //
[14:37:47] <eddyb> edwardw: why md when you have have rust source?
[14:38:30] <edwardw> eddyb: oh just reflectively I think :)
[14:38:30] <huon> edwardw: is that the minimal reproducer?
[14:38:32] <eddyb> edwardw: RUST_LOG=rustc::middle::trans and put that in the gist (different files, pls)
[14:38:38] <eddyb> huon: highly doubt it
[14:38:39] <bvssvni> bollu: try add some ; after the assignments
[14:38:43] <edwardw> yes sir
[14:38:47] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[14:38:47] <huon> (i.e. does removing args stop it asserting)
[14:38:55] <bollu> bvssvni: okay, will do. but why?
[14:38:55] <huon> eddyb: I wasn't asking you ;)
[14:39:12] <Leo`> example.rs:5:1: 5:18 error: dlsym(0x7f8689c06910, _ZN6macros9registrar20h1c606ceaca7a85ccJLb4v0.0E): symbol not found
[14:39:14] <Leo`> wtf
[14:39:22] <bollu> bvssvni:nope
[14:39:26] <bvssvni> bollu: hmm
[14:39:29] <eddyb> huon: I'm pretty sure what causes the assert, I'm curious what causes the bad behavior that causes the assert
[14:40:14] <eddyb> rusti: ::std::mem::size_of::<Option<extern "C" fn()>>()
[14:40:17] -rusti- 8
[14:40:23] <huon> eddyb: I don't think asserts without edwardw's changes
[14:40:23] <eddyb> could be an ADT bug
[14:40:42] <eddyb> oh, derp
[14:40:46] <bollu> eddyb: ADT?
[14:40:57] <huon> yup, compiles fine for me locally
[14:40:58] <eddyb> bollu: *never* abstract
[14:40:58] <bollu> eddyb: I'm pretty sure it's not "_ data type"
[14:41:00] *** Joins: Rym (y@121EE84.FAA15AB8.8772DA20.IP)
[14:41:04] <bollu> eddyb: xD
[14:41:07] <bvssvni> bollu: do you have ; after the return as well?
[14:41:12] <huon> eddyb: *sometimes* abstract
[14:41:15] <eddyb> bollu: it's algebraic
[14:41:18] <eddyb> huon: NEVER
[14:41:27] <eddyb> edwardw: can you give us --pretty=typed?
[14:41:30] <edwardw> eddyb: huon: here is the debug output https://gist.github.com/edwardw/9643069
[14:41:42] <bollu> bvssvni: semicolon after return is a compiler error xD
[14:41:46] <edwardw> eddyb: will do
[14:41:54] <eddyb> edwardw: I guess I can look in that as well
[14:42:03] <edwardw> ok
[14:42:08] <bollu> ../src/heart/game_event_layer.rs:63:15: 63:16 error: expected one of `,`, `}` but found `;`
[14:42:09] <bollu> ../src/heart/game_event_layer.rs:63    _ => return;
[14:42:09] <bollu>                                                   ^
[14:42:19] <bvssvni> bollu: ah
[14:42:20] <bollu> this is really weird
[14:42:25] <eddyb> bollu: missing a , before _
[14:42:30] <eddyb> bollu: on the previous line
[14:42:31] <bvssvni> bollu: ok, remove all the ; and put it after the match
[14:42:46] <eddyb> bollu: nvm, silly me, IRC doesn't line up XD
[14:43:01] <eddyb> but I don't want to switch to monospaced because that makes it so much harder :/
[14:43:11] <bollu> bvssvni: ?
[14:43:48] <eddyb> edwardw: can you remove some args from that function type to trim it down? also, does it need to be an Option?
[14:44:09] <edwardw> on it
[14:44:43] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[14:44:47] *** Joins: Florob (Florob@moz-39532932.de)
[14:44:48] <bollu> bvssvni:replace
[14:44:52] <bollu> bvssvni:refresh*
[14:44:59] <bollu> https://gist.github.com/bollu/a4f5da452bfbbc31a24c
[14:45:27] <eddyb> --> mapped t=sd_callbacks middle::ty::t{inner: (0x7fb318d92b70 as *())} to llty=%struct.sd_callbacks = type opaque
[14:45:30] *** Joins: mikey_h (Mibbit@2434CED6.BF061CFB.10975BA7.IP)
[14:45:39] <eddyb> this is useless :(
[14:45:51] <bvssvni> bollu: it's still unreachable, is the whole function unreachable or something?
[14:46:15] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Quit: victorporof)
[14:46:16] <bollu> bvssvni:the error's the same. lemme try and replace it with a stub
[14:46:28] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[14:46:33] <kimundi> bollu: I guess you don't have the enum imported
[14:46:52] <bollu> kimundi: enum's in the same file...
[14:47:15] <bollu> https://gist.github.com/9a8aab04cefac55881de
[14:47:17] <mikey_h> Just trying to build the latest master. Getting lots of 'warning: unknown 'allow' attribute: 'depreciated_owned_vector'. - compile seems to have frozen after a bunch of these?
[14:47:29] <eddyb> mikey_h: ignore the warnings
[14:47:29] <kimundi> bollu: If the enums variants are not imported, match foo { Up => ...} gets interepreted as creating a pattern binding with the name "Up", which catches everything and will make subsequent pattern bindings unreachable because of that
[14:47:41] <kimundi> bollu: Also same module?
[14:47:44] <huon> mikey_h: not frozen: just busy working
[14:48:01] <eddyb> mikey_h: compiling librustc takes the longest. do something productive in the meanwhile :P
[14:48:04] <bollu> kimundi: https://gist.github.com/9a8aab04cefac55881de <- file in question
[14:48:07] <mikey_h> OK, I'll leave it a bit longer. Been over an hour now.
[14:48:16] <huon> mikey_h: an hour? woah
[14:48:18] <eddyb> mikey_h: oh, can you check your RAM usage?
[14:48:19] <bollu> eddyb: ah hour is normal?
[14:48:24] <edwardw> eddyb: huon: the bare minimum is https://gist.github.com/edwardw/9643213
[14:48:32] <edwardw> do you also want the debug output for that?
[14:48:44] <huon> mikey_h: yeah, how much ram do you have?
[14:48:47] <eddyb> edwardw: **u8 works fine?
[14:48:55] <kimundi> bollu: I don't see the enum that defines `Up, Left, Down` anwhere in that file
[14:48:57] <bollu> kimundi, bvssvni: ../src/heart/game_event_layer.rs:83:39: 83:49 error: type `&mut heart::game_event_layer::GameEventLayer` does not implement any method in scope named `foo
[14:49:01] <bollu> https://gist.github.com/bollu/9a8aab04cefac55881de
[14:49:07] <eddyb> edwardw: how about *(*u8,)?
[14:49:16] <edwardw> eddyb: **u8 also fails
[14:49:28] <huon> bollu: foo has no self
[14:49:34] <eddyb> edwardw: does *u8 fail? you want to reduce this to very small
[14:49:40] <bollu> huon: >_< I'm an idiot
[14:49:42] *** Joins: astroch (astroch@16817419.96F115D7.DDE5D3F6.IP)
[14:49:44] <bvssvni> bollu: try keyboard::Up, keyboard::Left etc.
[14:49:45] <edwardw> ok
[14:49:50] <eddyb> edwardw: but you need an argument, right?
[14:49:50] <kimundi> bollu: foo() needs a self parameter to be considered a method
[14:50:17] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:50:21] <mikey_h> 1gb. It's almost all used. 
[14:50:35] <bollu> kimundi, huon, bvssvni: it /still/ complains even though I'm not calling the function at all
[14:50:35] <edwardw> eddyb: I'll be damned, even `Option<extern "C" fn()>` fails
[14:51:00] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[14:51:12] <bollu> kimundi, huon, bvssvni: https://gist.github.com/bollu/9a8aab04cefac55881de
[14:51:33] <eddyb> huon: told you that wasn't minimal :P
[14:51:38] <bvssvni> bollu: since you are using use rsfml::window::keyboard; you need prefix with keyboard::
[14:51:56] <kimundi> bollu: Read what I wrote earlier
[14:52:00] <bollu> bvssvni: *facepalm*
[14:52:13] <eddyb> edwardw: does it need Option? if so, defined enum Option<T> {Some(T), None} locally and give us --pretty=typed and that debug log
[14:52:13] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Connection reset by peer)
[14:52:16] <bollu> kimundi:yeah, you're right. I usually import the enums into scope
[14:52:18] <paraze> <huon> [also, BTree isn't production ready yet] -> not at all ? :(
[14:52:30] <bollu> thanks guys!
[14:52:39] <edwardw> eddyb: option seems to be mandatory, will do
[14:52:50] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[14:52:51] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[14:53:19] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[14:53:19] *** ChanServ sets mode: +ao pcwalton pcwalton
[14:53:22] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[14:53:41] <huon> paraze: nope
[14:54:13] <huon> paraze: I think many of its operations are O(n^2) or O(n^3) when they should be O(log n)
[14:54:19] <thiez> Why is it that when I do 'let x: f32 = 1.0' x will print as '1', but when I do 'let x: f32 = 1' the compiler complains :p
[14:54:24] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Ping timeout)
[14:54:29] <huon> (seriously! :( )
[14:54:36] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[14:54:37] <huon> thiez: because consistency is for chumps
[14:54:50] <thiez> a fair point, we wouldn't want to be chumps.
[14:54:52] <paraze> wow, ok
[14:55:32] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[14:55:47] *** Joins: sellout1 (Adium@A186F63D.9FCBC8CB.91651C13.IP)
[14:55:55] *** Quits: astroch (astroch@16817419.96F115D7.DDE5D3F6.IP) (Ping timeout)
[14:56:11] *** Quits: sellout1 (Adium@A186F63D.9FCBC8CB.91651C13.IP) (Quit: Leaving.)
[14:56:38] *** Joins: colinsurprenant (colin@9CCB54A7.CF9068B.630E4E47.IP)
[14:57:06] <edwardw> eddyb: huon: https://gist.github.com/edwardw/38aa7ae948f17757ca05 and https://gist.github.com/edwardw/d3283f5e00be67994512
[14:57:28] <eddyb> you can have more than one file per gist ;)
[14:57:37] *** Joins: sellout1 (Adium@A186F63D.9FCBC8CB.91651C13.IP)
[14:57:49] <edwardw> :P
[14:58:23] *** Quits: colinsurprenant (colin@9CCB54A7.CF9068B.630E4E47.IP) (Ping timeout)
[14:58:39] <edwardw> done, all in the first one
[14:59:12] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[14:59:40] <eddyb> edwardw: the types look fine :/
[14:59:48] <jensnockert> bvssvni: Thank you for the cairo.rs feedback.
[14:59:54] <eddyb> Store (%"enum.Option<extern \22C\22 extern fn()>" = type { void ()* }:  %4 = load %"enum.Option<extern \22C\22 extern fn()>"* %0) -> (%"enum.Option<extern \22C\22 fn()>"*:  %5 = getelementptr inbounds %struct.sd_callbacks* %callbacks, i32 0, i32 0)
[14:59:59] <eddyb> okay, so that's slightly more readable now
[15:00:38] <eddyb> gotcha
[15:00:44] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:00:57] <edwardw> oh?
[15:01:04] <eddyb> edwardw: it's because there are two types, Option<extern "C" extern fn()> and Option<extern "C" fn()>
[15:01:20] <eddyb> huon: so this ^^ can be caused by... uhm... ppaux
[15:01:21] <bvssvni> jensnockert: no problem, I have finished copying docs from Cairo
[15:01:43] <bvssvni> jensnockert: the huge job of translating is remaining
[15:01:54] <eddyb> ahh, it's obvious https://gist.github.com/edwardw/38aa7ae948f17757ca05#file-gistfile1-txt-L22-L24
[15:01:56] <kimundi> Heh, I just got a crazy idea how to usefully support generic integer and float literals: Associated macros
[15:02:03] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[15:02:15] <eddyb> if only edwardw would use rust syntax highlighting, maybe it would be obvious
[15:02:24] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[15:02:42] <eddyb> edwardw: the function has type extern "C" extern fn()
[15:02:48] <edwardw> why extra extern?
[15:02:55] <eddyb> edwardw: while the structure contains a extern "C" fn()
[15:03:03] <eddyb> edwardw: bug?
[15:03:20] <eddyb> edwardw: diff --pretty=typed before/after your bug
[15:03:22] <kimundi> wtf is a extern extern fn()?
[15:03:33] <eddyb> kimundi: no, extern "ABI" extern fn()
[15:03:38] <eddyb> edwardw: wait a second
[15:03:42] <kimundi> right, what is that?
[15:03:48] <eddyb> rusti: extern "C" foo(){} let () = foo;
[15:03:49] -rusti- <anon>:16:20: 16:23 error: expected `{` or `fn` but found `foo`
[15:03:49] -rusti- <anon>:16         extern "C" foo(){} let () = foo;
[15:03:49] -rusti-                              ^~~
[15:03:49] -rusti- application terminated with error code 101
[15:03:52] <Tobba> eugh
[15:03:57] <eddyb> rusti: extern "C" fn foo(){} let () = foo;
[15:03:57] <Tobba> whats with this "cannot move out of a static item"
[15:03:57] -rusti- <anon>:16:35: 16:37 error: mismatched types: expected `extern "C" extern fn()` but found `()` (expected extern fn but found ())
[15:03:58] -rusti- <anon>:16         extern "C" fn foo(){} let () = foo;
[15:03:58] -rusti-                                             ^~
[15:03:58] *** concrete.mozilla.org sets mode: +M 
[15:03:58] -rusti- error: aborting due to previous error
[15:03:58] -rusti- application terminated with error code 101
[15:04:04] <eddyb> kimundi: ^^
[15:04:28] <eddyb> kimundi: I suspect the latter extern comes from the impurity of the function
[15:04:32] <eddyb> rusti: extern fn foo(){} let () = foo;
[15:04:33] -rusti- <anon>:16:31: 16:33 error: mismatched types: expected `extern "C" extern fn()` but found `()` (expected extern fn but found ())
[15:04:33] -rusti- <anon>:16         extern fn foo(){} let () = foo;
[15:04:33] -rusti-                                         ^~
[15:04:33] -rusti- error: aborting due to previous error
[15:04:33] -rusti- application terminated with error code 101
[15:05:08] <eddyb> rusti: extern "C"fn foo(){} let _: extern "C" fn() = foo;
[15:05:08] -rusti- ()
[15:05:17] <huon> "error: aborting due to 10866 previous errors"
[15:05:19] <huon> whoops
[15:05:34] <huon> "type parameters are not allowed on this type" pointing at `bool` :/
[15:05:41] <eddyb> lol
[15:05:51] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[15:06:17] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:06:38] *** huon sets mode: -M 
[15:06:43] <huon> kimundi
[15:07:22] <kimundi> yay
[15:07:36] *** Joins: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com)
[15:07:42] <kimundi> I should either change nicks or figure out what the password for this one was
[15:08:08] <edwardw> eddyb: the extra extern wasn't there w/t my patch, so it is the culprit
[15:08:47] <jensnockert> bvssvni: Yeah, that is a huge job. If you convert any examples to Rust I would love to add them to the repo as test cases, my current ones don't cover even 10% of the library, so I cannot really know if everything works as intended yet. :(
[15:09:19] *** Quits: Guest__ (textual@CCBDA12A.5768461E.9532F1CE.IP) (Ping timeout)
[15:09:42] <Tobba> hm
[15:09:50] <Tobba> not sure what "cannot move out of static item" is about at all
[15:10:06] <Tobba> it seems to make static Options practically unusable though
[15:10:27] *** Joins: ChrisOei (ChrisOei@moz-53A9266A.blurb.com)
[15:10:31] <huon> Hm, I think taht error was caused by having "fn len(&self) -> uint { self.len() }"
[15:10:37] <huon> i.e. an infinite loop
[15:10:49] <huon> notably, the compiler was *not* in an infinite loop.
[15:10:53] * huon confused
[15:11:43] *** flaper87 is now known as flaper87|afk
[15:11:58] <Tobba> ugh who did this
[15:12:06] <Tobba> I'm pretty sure this is supposed to only be for immutable static items
[15:12:14] *** Quits: bollu (bollu@moz-4C1E443F.clients.kiwiirc.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[15:12:15] <bvssvni> jensnockert: it is interesting to have a separate project for documentation
[15:12:20] * edwardw never thought --pretty would be a debug tool
[15:12:49] <huon> edwardw: anything other than --pretty normal (or without an arg) is only a debug tool :)
[15:12:51] *** Quits: murph (murph@moz-A933BAE1.oracle.com) (Ping timeout)
[15:13:04] <bvssvni> jensnockert: when generating new code, one can use the diff and copy/paste changes
[15:13:12] <jensnockert> bvssvni: Yes, it is probably easier.
[15:13:42] <jensnockert> Unless we somehow integrat docs generation into the code generator.
[15:13:52] <eddyb> edwardw: it actually is there without your patch, unless you mean something older that already got merged
[15:14:12] <bvssvni> jensnockert: just copy/pasting all the docs takes hours
[15:14:26] <jensnockert> From cairo-graphics.org?
[15:14:35] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[15:14:36] <bvssvni> jensnockert: yes
[15:14:42] <jensnockert> Yeah.
[15:14:52] <eddyb> automation?
[15:14:53] <edwardw> eddyb: oh? my regular rustc is about 2-weeks (?) old
[15:14:55] <jensnockert> I copied every prototype from there :S
[15:15:02] <huon> Tobba: use `replace(...)`
[15:15:06] *** Joins: astroch (astroch@B2D185FE.75B49943.DDE5D3F6.IP)
[15:15:09] <Tobba> uhhh
[15:15:14] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[15:15:15] <Tobba> why is this restriction a thing in the first place
[15:15:22] <jensnockert> eddyb: Isn't all that useful when you have to touch every line by hand anyhow.
[15:15:29] *** Joins: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com)
[15:15:33] <Tobba> I had to use replace hell in my allocator function and that went from bad to absolutely awful in about 5 seconds
[15:15:33] <huon> Tobba: ask the mailing list
[15:15:35] <eddyb> Tobba: you're doing it wrong
[15:15:38] <huon> (politely)
[15:15:44] <eddyb> Tobba: the option dance, I mean
[15:15:46] <huon> eddyb: that's not 100% claer
[15:15:48] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Client exited)
[15:15:50] <Tobba> eddyb: I cant really about it
[15:15:55] <eddyb> Tobba: it's take, not move out
[15:16:07] <Tobba> its an Option with a pointer in it
[15:16:15] *** Joins: Guest__ (textual@CCBDA12A.5768461E.9532F1CE.IP)
[15:16:15] <Tobba> thie move restriction stops me from grabbing that pointer in any way
[15:16:18] <huon> oh, yeah, .take() is a nicer version of replace specialised for Option
[15:16:18] <eddyb> Tobba: i.e. call .take() on a mutable static and it should work
[15:16:22] <bvssvni> jensnockert: I considered inserting links instead, but since I first is going to copy/paste, it is better to do a decent job
[15:16:23] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[15:16:24] <huon> Tobba: .as_ref()
[15:16:29] *** Quits: skade (skade@B4A5FE21.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:16:30] <huon> Tobba: matching
[15:16:33] <huon> with `ref`
[15:16:34] <Tobba> I dont have take()
[15:16:38] <Tobba> I should add that
[15:16:40] <huon> well implement it
[15:16:42] <eddyb> implement it using replace
[15:16:48] <eddyb> which is a swap, IIRC
[15:17:01] <eddyb> which is done using an intrinsic or two
[15:17:08] <Tobba> I should just move to normal stdlib
[15:17:09] *** Quits: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[15:17:14] <Tobba> but the amount of machete I would need to apply to that
[15:17:19] *** Quits: rootnode (rootnode@moz-CC640AB.pools.arcor-ip.net) (Ping timeout)
[15:17:21] <eddyb> edwardw: too bad only cmr can bisect :P
[15:17:21] <Tobba> rust-core is outdated as heck now
[15:17:43] *** Joins: ganitsu (ganitsu@moz-8478EB63.dialup.adsl.anteldata.net.uy)
[15:17:48] <bvssvni> jensnockert: one problem is how to maintain versions of Cairo
[15:18:11] *** flaper87|afk is now known as flaper87
[15:18:19] *** Quits: astroch (astroch@B2D185FE.75B49943.DDE5D3F6.IP) (Ping timeout)
[15:18:32] <eddyb> edwardw: this is basically wrong https://github.com/mozilla/rust/blob/master/src/librustc/util/ppaux.rs#L310-L322
[15:18:54] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[15:18:55] *** Joins: sockmister (Mibbit@moz-C8D86903.tc.ph.cox.net)
[15:19:04] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[15:19:09] <bvssvni> jensnockert: if it Rust tries linking with a function that does not exist in an old version of Cairo, will it fail?
[15:19:13] <Tobba> and_then() would probably be a better option
[15:19:20] <jensnockert> bvssvni: Yes.
[15:19:24] <edwardw> eddyb: wow, a `to_str` function is that significant?
[15:19:38] *** Quits: Guest__ (textual@CCBDA12A.5768461E.9532F1CE.IP) (Ping timeout)
[15:19:43] <eddyb> edwardw: of course it is
[15:19:44] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[15:19:46] *** Joins: rootnode (rootnode@moz-4E0AA685.pools.arcor-ip.net)
[15:19:55] <huon> eddyb: then why'd you point it out?
[15:20:03] <huon> if it wasn't significant?
[15:20:04] <jensnockert> bvssvni: But if I annotated the new functions with a min version, then that could be worked around.
[15:20:07] <Ms2ger> Mm, to_str
[15:20:11] <huon> oh
[15:20:13] * huon can't read
[15:20:16] <Tobba> hm yeah
[15:20:21] <jensnockert> bvssvni: I just need an actual build-script.
[15:20:21] <Tobba> time to slice up libstd
[15:20:25] <Tobba> and then somehow get it to compiled
[15:20:27] <eddyb> https://github.com/mozilla/rust/commit/f27272d60f193c6d27cc283f48c5be0e41562814
[15:20:29] <huon> eddyb: wait... why would a .to_str cause LLVM assertiosn?
[15:20:30] <Tobba> s/compiled/compile
[15:20:35] <eddyb> edwardw: oh dear it's been wrong for so long
[15:20:47] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[15:20:52] <eddyb> how did not bite us in the proverbial back side earlier?
[15:20:55] <Ms2ger> eddyb, eh, at least it doesn't predate your vcs
[15:20:58] <eddyb> *did this
[15:21:16] <bvssvni> jensnockert: perhaps it is possible to make something reusable for other projects
[15:21:25] <huon> eddyb: because it's only diagnostics?
[15:21:27] <Ms2ger> eddyb, I regularly need blame past the initial hg commit in Gecko
[15:21:39] <eddyb> huon: no it's not ;)
[15:21:43] <jensnockert> bvssvni: Yeah, preferably. And it needs to support the optional parts of Cairo as well. (Xcb support and so on)
[15:21:53] <bvssvni> jensnockert: Cairo is a good test bed for how to maintain Rust bindings on top of C
[15:21:58] <jensnockert> Right now the parts that don't work on OS X are simply not wrapped.
[15:22:02] <eibwen> r? https://github.com/mozilla/rust/pull/13015
[15:22:03] <eddyb> huon: I think we weren't using ExternFn in all the right places, or we were in all the places
[15:22:12] *** Joins: alisdair (textual@E1CEBB1A.D061F0C9.AA6AEE7B.IP)
[15:22:23] <huon> eddyb: so it's not the ty_to_str function that is broken, but rather the input?
[15:22:27] <eddyb> huon: now there's an inconsistency between "C" ABI + ExternFn (declarations) and just "C" ABI
[15:22:35] <eddyb> huon: well, both are broken
[15:22:36] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[15:22:42] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[15:22:50] <eddyb> you shouldn't allow for the inconsistency to happen in the first place
[15:22:54] <bvssvni> jensnockert: what does "optional parts" in this case mean? does the functions not exist on OS X?
[15:23:08] *** Quits: robarnold (rob@moz-59F6B5.hfc.comcastbusiness.net) (Ping timeout)
[15:23:08] <eddyb> huon: it should be ExternFn(AbiSet) or some such combination
[15:23:41] <jensnockert> bvssvni: Well, all the OS specific stuff. Like Win32Surface is never going to build on OS X.
[15:23:42] *** Quits: Rym (y@121EE84.FAA15AB8.8772DA20.IP) (Ping timeout)
[15:23:55] <jensnockert> And QuartzSurface is only going to build on OS X.
[15:24:18] <eddyb> huon: this is probably the culprit https://github.com/mozilla/rust/commit/317a253b22a512fad46c3749ea86d9674ff18453
[15:24:45] <jensnockert> Xcb and Xlib could of course build on OS X and Windows, but isn't built by default.
[15:24:54] <huon> eddyb: I seem to remember seeing `extern "C" extern fn` before that commit
[15:24:56] *** Joins: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[15:25:14] <huon> eddyb: especially since that's just a parser change
[15:25:22] <eddyb> huon: that commit created an inconsistency
[15:25:36] <huon> eddyb: where?
[15:26:06] <eddyb> let purity = self.parse_unsafety(); that's what produces ExternFn AFAIK
[15:26:42] <huon> the inconsistency was their before
[15:26:44] <huon> *there
[15:26:45] <eddyb> huon: it's hard to put my finger on it
[15:27:09] <eddyb> okay, I guess it's just edwardw's changes that makes inference pick the wrong types :/
[15:27:10] <bvssvni> jensnockert: hmm, idealistically the portable parts should be separated
[15:27:26] <jensnockert> bvssvni: Yes, that's the idea.
[15:27:43] *** Quits: brontron (brontron@moz-C8D86903.tc.ph.cox.net) (Quit: leaving)
[15:27:44] <eddyb> huon: the sane fix for this is to conflate ExternFn and the abi set
[15:27:52] *** Joins: robarnold (rob@moz-59F6B5.hfc.comcastbusiness.net)
[15:27:53] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[15:28:00] <jensnockert> bvssvni: The build script would then mix in the parts that are supported by the Cairo that is linked against.
[15:28:07] *** Joins: brontron_ (brontron@moz-C8D86903.tc.ph.cox.net)
[15:28:08] *** Joins: benjamin_ (benjamin@moz-1478BC90.dip0.t-ipconnect.de)
[15:28:09] <huon> eddyb: btw, parse_unsafety just checks for keyword::Unsafe, nothing to do with extern
[15:28:13] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[15:28:20] <eddyb> huon: ohh? then that's relevant
[15:28:34] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[15:28:39] <huon> how?
[15:28:47] <bvssvni> jensnockert: maybe we can create several projects, one for each os
[15:28:52] <eddyb> I guess we could remove ExternFn completely if it's not created *there*
[15:29:01] <bvssvni> jensnockert: at documentation level
[15:29:16] <bvssvni> jensnockert: which compiles if these features are supported when linking
[15:29:39] <eddyb> huon: huh, this is an occurrence https://github.com/mozilla/rust/blob/master/src/libsyntax/parse/parser.rs#L4609
[15:29:48] <eddyb> s/an/the only
[15:30:09] <eddyb> next stop: astconv
[15:30:17] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[15:30:37] <eddyb> wait, what? where is ExternFn even coming from?
[15:30:52] * Ms2ger walks up behind eddyb with an ExterFn
[15:31:04] *** Joins: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP)
[15:31:09] *** Joins: Rym (y@121EE84.FAA15AB8.8772DA20.IP)
[15:31:11] <eddyb> edwardw: wow
[15:31:19] <edwardw> ?
[15:31:30] <eddyb> the solution is to kill ExternFn
[15:31:41] <eddyb> edwardw: inference can sometimes create it out of thin air
[15:31:44] <bvssvni> jensnockert: I want to make the building process not require tampering with flags or configuration files
[15:31:47] *** Quits: Ferreus (ferreus@moz-41A2BCF0.dip0.t-ipconnect.de) (Ping timeout)
[15:31:49] <eddyb> edwardw: or some such nonsense
[15:32:09] <huon> eddyb: I don't think that's necessarily correct
[15:32:19] <eddyb> but I'm confused!
[15:32:21] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[15:32:22] *** Joins: cschneid (cschneid@moz-CA025D57.ip.mcleodusa.net)
[15:32:25] <jensnockert> bvssvni: Me too, so how we'll do it depends a lot on how Cargo will work.
[15:32:33] <arielb1> how do you prepend an element to an iterator?
[15:32:46] <eddyb> arielb1: Some(x).move_iter().chain(iterator)
[15:32:47] *** Joins: libergeekingkid (quassel@910D48FE.D8D7FA9.E532ECA5.IP)
[15:32:51] <jensnockert> bvssvni: Maybe it will support stuff like that magically, or has some support for it.
[15:32:53] *** Quits: ksev (DrunkenPan@212685B3.5B8F260F.586E6F35.IP) (Ping timeout)
[15:33:09] <eddyb> maybe we should make an iter::one function that does Some(x).move_iter()
[15:33:26] <eddyb> so you can do one(x).chain(one(y)).chain(one(z)
[15:33:27] *** Joins: kngl1 (Adium@moz-18BD1C.ipv4.evonet.be)
[15:33:28] <eddyb> )
[15:33:34] <arielb1> that's Iter::﻿one?
[15:33:56] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Connection reset by peer)
[15:34:02] <eddyb> arielb1: no, that's a proposal
[15:34:09] <eddyb> that I just made
[15:34:11] *** Quits: alisdair (textual@E1CEBB1A.D061F0C9.AA6AEE7B.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:34:18] *** Joins: thewonderidiot (mstewart@FAFE6CB6.8FBF3E66.60E22FEA.IP)
[15:34:31] <arielb1> Well actually Option::move_iter fits my code better
[15:34:38] <arielb1> there's a branch when I don't have to prepend anything
[15:34:44] *** Quits: gimpf (gimpf@moz-E131F8EC.adsl.highway.telekom.at) (Quit: Leaving.)
[15:34:56] <arielb1> but mibbit turns Iter::one into a smiley
[15:35:08] <Ms2ger> Iter:ne
[15:35:22] <eddyb> iter not Iter
[15:35:24] *** Joins: alisdair (textual@E1CEBB1A.D061F0C9.AA6AEE7B.IP)
[15:35:28] *** pmoore is now known as pmoore|teaaaaaaa
[15:35:40] <bvssvni> jensnockert: what I have in mind is creating separate repos that links the portable part as a submodule
[15:36:04] <bvssvni> jensnockert: then I can put links to those repos in the README
[15:36:39] <jensnockert> The problem with that, as I see, is that some libraries have hundreds of options that can be combined.
[15:37:08] *** pczarn is now known as pczarn_tea
[15:37:21] <bvssvni> jensnockert: but if one can compile a portable Cairo as well?
[15:37:33] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Quit: WeeChat 0.4.4-dev)
[15:37:55] <bvssvni> jensnockert: one repo for the bindings that are portable, but also works as a library
[15:38:18] *** Joins: murph (murph@moz-769F6638.oracle.com)
[15:38:49] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[15:39:18] <bvssvni> jensnockert: but new versions of Cairo might make this complicated
[15:39:23] *** Quits: Ms2ger (Ms2ger@moz-4A14BC33.ugent.be) (Quit: bbl)
[15:39:33] *** Joins: Guest__ (textual@CCBDA12A.5768461E.9532F1CE.IP)
[15:39:35] <jensnockert> Haven't thought about it, maybe.
[15:39:43] <jensnockert> Cairo could be a submodule too though.
[15:39:49] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[15:40:19] <bvssvni> jensnockert: how big is Cairo, is it possible to link it statically?
[15:40:30] <jensnockert> It should be fine.
[15:40:30] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[15:41:19] *** Quits: alisdair (textual@E1CEBB1A.D061F0C9.AA6AEE7B.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:41:29] *** Quits: mikey_h (Mibbit@2434CED6.BF061CFB.10975BA7.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:41:50] *** Quits: claudiu_ (claudiu@81B10C62.5F4BC945.49B2C1AE.IP) (Input/output error)
[15:42:01] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[15:42:08] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[15:42:11] *** Joins: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP)
[15:43:15] <bvssvni> jensnockert: it makes sense to keep the code generation in one repo, though
[15:43:26] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[15:43:33] *** Quits: brontron_ (brontron@moz-C8D86903.tc.ph.cox.net) (Quit: brontron_)
[15:43:52] *** Joins: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu)
[15:43:54] *** Quits: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP) (Ping timeout)
[15:44:14] <bvssvni> jensnockert: because I have to split it into separate files to make it managable
[15:44:44] <bvssvni> jensockert: as long as I keep the module name space compatible, it should be fine
[15:45:01] *** Joins: victorporof_ (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[15:45:25] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[15:45:26] *** Quits: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net) (Client exited)
[15:45:31] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[15:45:47] *** Joins: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net)
[15:46:28] *** Joins: jviereck (Adium@moz-B203F5A3.ethz.ch)
[15:46:31] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[15:46:48] *** Quits: jviereck (Adium@moz-B203F5A3.ethz.ch) (Max SendQ exceeded)
[15:46:54] *** Joins: jviereck (Adium@moz-B203F5A3.ethz.ch)
[15:47:02] *** Joins: brontron (brontron@moz-C8D86903.tc.ph.cox.net)
[15:47:13] *** Quits: jviereck (Adium@moz-B203F5A3.ethz.ch) (Max SendQ exceeded)
[15:47:22] *** Joins: jviereck (Adium@moz-B203F5A3.ethz.ch)
[15:47:26] *** Quits: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu) (Quit: lkuper)
[15:47:41] *** Quits: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net) (Ping timeout)
[15:47:50] *** Joins: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu)
[15:48:06] <bvssvni> is there a way to add references to types in rustdoc?
[15:48:23] *** Quits: sockmister (Mibbit@moz-C8D86903.tc.ph.cox.net) (Quit: http://www.mibbit.com ajax IRC Client)
[15:48:26] <bvssvni> to be able to click on a name and navigate to that page?
[15:49:23] *** Joins: voxpopuli (fanservice@474FE5D4.598E1842.689607DE.IP)
[15:49:51] *** Joins: reverend_paco (chatzilla@FE17A5C5.3BD77345.82925EFC.IP)
[15:50:08] *** Quits: gsnedders (gsnedders@C95C83A3.84389009.803EA162.IP) (Quit: leaving)
[15:50:11] *** Joins: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net)
[15:50:14] <olsonjeffery> awesome! 500 lines, in backscroll, of deprecated vector syntax warnings!
[15:50:54] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[15:52:05] *** Quits: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP) (Quit: leaving)
[15:52:18] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[15:53:49] *** Joins: gsnedders (gsnedders@C95C83A3.84389009.803EA162.IP)
[15:54:15] *** Joins: lars_t_h (lars_t_h@moz-E067948A.mbb.telenor.dk)
[15:55:04] <jensnockert> bvssvni: Yeah, it should be fine. I would like to split up the large cairo.rs file too, but I get compiler errors :(
[15:55:08] *** Quits: gsnedders (gsnedders@C95C83A3.84389009.803EA162.IP) (Quit: leaving)
[15:55:41] <bvssvni> jensnockert: I would like to make the 'opaque' pointers private
[15:55:43] *** Quits: libergeekingkid (quassel@910D48FE.D8D7FA9.E532ECA5.IP) (Ping timeout)
[15:55:48] *** Quits: jviereck (Adium@moz-B203F5A3.ethz.ch) (Quit: Leaving.)
[15:56:12] <bvssvni> jensnockert: it will be private when Rust makes members priv by default
[15:56:47] *** Joins: libergeekingkid (quassel@910D48FE.D8D7FA9.E532ECA5.IP)
[15:56:55] *** Joins: gsnedders (gsnedders@C95C83A3.84389009.803EA162.IP)
[15:56:58] *** Joins: jviereck (Adium@moz-B203F5A3.ethz.ch)
[15:57:10] <jensnockert> I would like them to be private too, but when wrapping gobject, I currently need them to be public.
[15:57:12] *** Joins: astroch (astroch@moz-B0D8E4B7.bootp.virginia.edu)
[15:57:51] <jensnockert> Or maybe I dont…
[15:57:55] <jensnockert> I'll check into it.
[15:59:01] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[15:59:11] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[15:59:20] *** Quits: marianoguerra (marianogue@moz-64A100C1.dip0.t-ipconnect.de) (Ping timeout)
[15:59:43] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:00:35] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[16:01:11] *** Quits: reverend_paco (chatzilla@FE17A5C5.3BD77345.82925EFC.IP) (Ping timeout)
[16:01:48] *** Joins: lawrence (lawrence@moz-B60AA531.wireless.utoronto.ca)
[16:02:02] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[16:02:55] *** Quits: mno2 (mno2@C9C55379.F9BA5024.DA359910.IP) (Quit: mno2)
[16:03:18] *** Quits: libergeekingkid (quassel@910D48FE.D8D7FA9.E532ECA5.IP) (Ping timeout)
[16:04:15] *** pmoore|teaaaaaaa is now known as pmoore
[16:04:54] *** Quits: Guest__ (textual@CCBDA12A.5768461E.9532F1CE.IP) (Ping timeout)
[16:04:55] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[16:05:03] *** Joins: libregeekingkid (quassel@910D48FE.D8D7FA9.E532ECA5.IP)
[16:05:11] *** Quits: avsej (avsej@D9A610B8.4841F515.FB33447D.IP) (Ping timeout)
[16:05:12] *** Quits: ganitsu (ganitsu@moz-8478EB63.dialup.adsl.anteldata.net.uy) (Connection reset by peer)
[16:05:36] *** Joins: avsej (avsej@D9A610B8.4841F515.FB33447D.IP)
[16:05:55] *** Joins: ganitsu (ganitsu@moz-B89D321B.dialup.adsl.anteldata.net.uy)
[16:07:25] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Quit: Bye)
[16:07:45] *** Joins: ksev (DrunkenPan@moz-B69B5B8B.autodesk.com)
[16:09:12] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[16:09:31] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:09:53] <arielb1> How do you create a 'static closure?
[16:09:57] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[16:10:01] <eddyb> arielb1: don't capture anything
[16:10:07] *** Joins: onelson (owen@moz-DD666EC5.laika.com)
[16:10:44] *** Joins: alonlevy (alon@2CD54432.57968636.E9C721AF.IP)
[16:11:12] *** flaper87 is now known as flaper87|afk
[16:11:58] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:12:09] *** Quits: mouse (mouse@moz-373942D2.dhcp.yndx.net) (Ping timeout)
[16:14:17] *** Quits: bleibig (bleibig@moz-B4D9C5AF.hsd1.ca.comcast.net) (Quit: bleibig)
[16:16:09] *** Quits: brontron (brontron@moz-C8D86903.tc.ph.cox.net) (Ping timeout)
[16:16:15] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[16:17:04] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[16:17:05] *** Joins: skade (skade@B4A5FE21.505237C9.CAE22B62.IP)
[16:18:00] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[16:18:28] *** Joins: azita (Azita@moz-62518563.mtv2.mozilla.com)
[16:19:07] *** Joins: Savago (Savago@816F9901.E820043D.D4C04133.IP)
[16:20:10] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Quit: canhtak)
[16:21:05] <eddyb> apparently this was a thing https://github.com/MrMEEE/bumblebee-Old-and-abbandoned/commit/a047be85247755cdbe0acce6f1dafc8beb84f2ac#diff-3fbb47e318cd8802bd325e7da9aaabe8L350
[16:21:34] *** Joins: josh (josh@moz-6F8AE023.mpls.qwest.net)
[16:23:13] *** Quits: japaric (japaric@7433ECC4.8FD1E798.5C7588CA.IP) (Ping timeout)
[16:23:21] *** Joins: brontron (brontron@moz-CF02444.dia.static.qwest.net)
[16:23:21] *** Joins: japaric (japaric@1B985D9E.C4F72AE.F29ED47E.IP)
[16:25:04] *** Quits: [squiddy] (squiddy@moz-7B493F09.dip0.t-ipconnect.de) (Input/output error)
[16:25:29] <bvssvni> eddyb: a space was all it took
[16:25:30] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Connection reset by peer)
[16:25:35] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[16:25:50] *** Joins: Ferreus (ferreus@moz-8213161C.lsn.wtnet.de)
[16:26:20] *** pczarn_tea is now known as pczarn
[16:26:37] *** Joins: espindola (espindola@8EC99D26.4B7A7726.A2E931B1.IP)
[16:26:51] *** Joins: mouse (mouse@moz-7732991A.dhcp.yndx.net)
[16:27:19] *** Quits: jviereck (Adium@moz-B203F5A3.ethz.ch) (Quit: Leaving.)
[16:30:17] *** Joins: ricepuddin (graham@moz-2E63C5CF.wlan.ic.ac.uk)
[16:30:21] *** Quits: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:31:26] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[16:31:38] *** Joins: Guest__ (textual@3E0487DF.D8252BC.9532F1CE.IP)
[16:33:52] *** Quits: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca) (Quit: Leaving.)
[16:35:00] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Quit: Leaving)
[16:35:32] *** Quits: libregeekingkid (quassel@910D48FE.D8D7FA9.E532ECA5.IP) (Ping timeout)
[16:35:41] *** Quits: mouse (mouse@moz-7732991A.dhcp.yndx.net) (Ping timeout)
[16:35:41] *** Joins: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP)
[16:35:47] *** Quits: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP) (Client exited)
[16:35:49] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:35:50] *** Joins: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP)
[16:35:52] *** Joins: libregeekingkid (quassel@910D48FE.D8D7FA9.E532ECA5.IP)
[16:36:54] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[16:37:24] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[16:38:21] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[16:38:46] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:39:00] <aphistic> am i doing something really wrong here? if i remove the -o switch it compiles fine. http://pastie.org/private/emiq3wk3nk7s2b4eg3f1ya
[16:39:20] <aphistic> this is on master from... an hour or two ago
[16:39:40] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[16:39:50] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[16:40:01] <bvssvni> aphistic: crate-type lib => create-type bin
[16:40:15] <aphistic> ah
[16:40:27] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[16:40:52] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[16:41:09] <aphistic> is the difference documented anywhere so i can read up on them?
[16:41:35] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[16:41:41] *** Quits: W0rmDr1nk (wormdrink@moz-B3199488.access.mtnbusiness.co.za) (Ping timeout)
[16:41:50] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:42:06] <bvssvni> aphistic: 'lib' generates a library where 'main()' is treated as a normal function
[16:42:31] <bvssvni> aphistic: since it is not pub, the compiler gives you 'unused code' warning
[16:42:52] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[16:43:18] <bvssvni> aphistic: 'bin' generates a binary executable
[16:43:35] <aphistic> this all came from trying to get rustboot to work with the latest version and it had the --lib switch used. did that get removed in favor of bin?
[16:43:38] *** Joins: marianoguerra (marianogue@moz-64A100C1.dip0.t-ipconnect.de)
[16:43:58] <bvssvni> aphistic: it was replaced with 'crate-type'
[16:44:12] *** Quits: ewalstad (Adium@moz-9A04E871.dedicated.static.sonic.net) (Ping timeout)
[16:44:18] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[16:44:42] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[16:44:57] <aphistic> but the "bin" type or "lib" type?
[16:45:16] *** Joins: marianog1erra (marianogue@moz-64A100C1.dip0.t-ipconnect.de)
[16:45:22] <bvssvni> aphistic: --crate-type bin or --crate-type lib
[16:45:23] <aphistic> or should i do some more reading on rust before i go further? :P
[16:46:11] <bvssvni> aphistic: it is a Linux convention, where some flags are followed with a parameter
[16:46:49] <bvssvni> aphistic: -<single letter> or --<multiple character flags>
[16:47:11] *** Joins: ewalstad (Adium@moz-9A04E871.dedicated.static.sonic.net)
[16:48:42] *** Quits: brontron (brontron@moz-CF02444.dia.static.qwest.net) (Quit: brontron)
[16:51:46] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[16:51:56] *** Joins: reverend_paco (chatzilla@moz-FDBE15EC.hsd1.ma.comcast.net)
[16:52:00] *** Quits: libregeekingkid (quassel@910D48FE.D8D7FA9.E532ECA5.IP) (Client exited)
[16:52:08] *** Joins: brson (brson@moz-62518563.mtv2.mozilla.com)
[16:52:08] *** ChanServ sets mode: +ao brson brson
[16:52:21] *** Quits: mye (mye@moz-DACF5F52.dip0.t-ipconnect.de) (Quit: mye)
[16:52:31] *** Quits: lawrence (lawrence@moz-B60AA531.wireless.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:52:34] *** Joins: janra (Janus@1CDC5701.A48867D7.52E4E107.IP)
[16:53:03] *** Quits: astroch (astroch@moz-B0D8E4B7.bootp.virginia.edu) (Ping timeout)
[16:53:16] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:53:28] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[16:54:49] *** Joins: ray (ray@21E8007B.14FD68F4.B395E7D8.IP)
[16:55:07] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Input/output error)
[16:55:29] <ray> are there any big planned syntax changes?
[16:55:58] *** Quits: Kxepal (Miranda@moz-1110A3C3.pppoe.mtu-net.ru) (Ping timeout)
[16:55:58] <ray> as in if i really start to learn rust now how much do i need to relearn
[16:56:04] <ray> or change program syntax
[16:56:17] <eddyb> the planned changes are mostly extensions
[16:56:27] <ray> as in libs?
[16:56:37] <kimundi> ray: Not really syntax changes, but a few semantic changes - but mostly they don't invalidate the existing stuff
[16:56:40] <eddyb> ray: no, I mean, *extra* syntax instead of changing current one
[16:56:55] *** Joins: sellout (greg@moz-F7BC9302.us-west-2.compute.amazonaws.com)
[16:57:03] <eddyb> maybe removing ~x in favor of box x
[16:57:14] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[16:57:21] *** Joins: Ralith_ (ralith@moz-67D4EB93.customer.broadstripe.net)
[16:57:29] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Connection reset by peer)
[16:57:53] *** Quits: sellout1 (Adium@A186F63D.9FCBC8CB.91651C13.IP) (Quit: Leaving.)
[16:58:27] *** Joins: astroch (astroch@380113AA.C4F5A14C.DDE5D3F6.IP)
[16:58:35] *** Joins: tyna (liadon@moz-BB1BAD9A.dynamic.chello.pl)
[16:58:51] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[16:59:35] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[16:59:49] *** Joins: q66 (q66@moz-78474039.range86-132.btcentralplus.com)
[17:00:15] *** Joins: Kxepal (Miranda@moz-5876CFFD.pppoe.mtu-net.ru)
[17:00:28] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Connection reset by peer)
[17:00:48] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[17:02:05] <Tobba> gotta love when specifically every http connection fails
[17:02:11] <Tobba> nothing suspicious here at all
[17:03:40] *** Joins: wilmoore (wilmoore@moz-1248C037.mystrotv.com)
[17:03:48] *** Quits: benjamin_ (benjamin@moz-1478BC90.dip0.t-ipconnect.de) (Ping timeout)
[17:04:17] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[17:04:28] *** Quits: ehsanul (harish@moz-24DD2596.hsd1.ca.comcast.net) (Ping timeout)
[17:05:35] <ray> i see
[17:05:37] <ray> thanks
[17:05:49] *** Quits: leowoe (Leo@moz-8A753E71.dip0.t-ipconnect.de) (Quit: Leaving.)
[17:06:04] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[17:06:05] <ray> so box as type?
[17:06:17] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[17:06:26] *** Joins: mye (mye@moz-DACF5F52.dip0.t-ipconnect.de)
[17:07:06] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[17:07:15] *** Joins: kris (kris@moz-47812C15.static.bcbnet.dk)
[17:07:16] *** Quits: azita (Azita@moz-62518563.mtv2.mozilla.com) (Quit: azita)
[17:07:21] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[17:07:22] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[17:08:09] <eddyb> ray: expression
[17:09:03] *** Joins: brontron (brontron@moz-CF02444.dia.static.qwest.net)
[17:09:21] *** Joins: Tuba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[17:09:32] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[17:09:53] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[17:09:57] *** Joins: azita (Azita@moz-62518563.mtv2.mozilla.com)
[17:10:44] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[17:10:52] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[17:11:12] *** Quits: Tuba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[17:11:28] *** Quits: ewalstad (Adium@moz-9A04E871.dedicated.static.sonic.net) (Quit: Leaving.)
[17:11:56] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[17:12:00] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[17:12:04] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[17:12:32] <ray> ~ was the unique pointer like thing right?
[17:12:38] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[17:12:45] <jensnockert> ray: Yes.
[17:13:49] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[17:14:20] *** pmoore is now known as pmoore|dinner
[17:15:22] <darnuria> Hmm already have stickers for Rust?
[17:15:50] <pjenvey> darnuria - yep, they exist
[17:16:44] <arielb1> how do you unsafely access an already borrowed variable?
[17:16:48] <darnuria> I find a funny slogan like "Spread the Rust" or "We will Rust you" in a brainstorming with friends :)
[17:16:56] <eddyb> arielb1: you don't
[17:17:01] <arielb1> for debugging
[17:17:12] <eddyb> arielb1: debugging that case can create UB
[17:17:19] *** Joins: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com)
[17:17:20] <eddyb> you may want a real debugger
[17:17:30] <arielb1> I'll use transmute<&S>(transmute<int64>(v))
[17:17:48] <eddyb> it's uint
[17:17:55] <arielb1> int works too
[17:17:57] <arielb1> its of the right size
[17:18:06] <eddyb> it's not the right signedness
[17:18:22] <arielb1> but doesn't transmute just take the bits
[17:18:23] <eddyb> signed and pointers should almost never touch
[17:18:35] <eddyb> you can create an unsafe pointer btw
[17:18:40] <eddyb> (safely)
[17:18:49] <eddyb> &x as *T
[17:19:03] *** Quits: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[17:19:29] *** Joins: claudiu (claudiu@moz-FB94486E.thefacebook.com)
[17:19:35] <Kroisse> Is it treated as unsafe using ~Trait:?
[17:19:51] <eddyb> Kroisse: hmm?
[17:19:56] <Kroisse> instead of ~Trait
[17:20:03] <Kroisse> (that is ~Trait:Send)
[17:20:15] <Kroisse> eddyb: https://gist.github.com/Kroisse/32ea9a8223a9dfc9095c
[17:20:31] <arielb1> I get  error: cannot borrow `*cur` as mutable more than once at a time
[17:20:42] <eddyb> arielb1: you have to get the pointer earlier
[17:21:10] <eddyb> Kroisse: it's a bug that that code compiles
[17:21:19] <Tobba> bors is weird
[17:21:21] <eddyb> Kroisse: you should never ~Iterator<T>
[17:21:25] <Kroisse> using ~Iterator<T>, I got an error that Emit<'a, T> is not sendable
[17:21:53] <Tobba> I think all tests suceeded this time and it passed the tests for Share but it just kinda created some commit not even on the master
[17:22:21] <Kroisse> eddyb: I think even if there is ~Iterator:<T> that should not be compiled
[17:22:42] <Tobba> I need Share to be able to do anything on what I want to work on sadly
[17:23:04] <eddyb> Kroisse: it should be ~Trait:'a where 'a is the lifetime of borrowed content
[17:23:19] *** Joins: dschatzberg (dschatzber@moz-E2680405.bu.edu)
[17:23:26] *** Quits: [o__o] (~o__o@604A2740.DB688352.F4ADE383.IP) (Ping timeout)
[17:23:44] <arielb1> Well the optimizer doesn't like it
[17:23:49] <Kroisse> eddyb: Can I use that syntax now?
[17:23:58] <eddyb> arielb1: told you
[17:24:03] <Kroisse> or is it planned?
[17:24:04] <eddyb> Kroisse: not yet :( hence the bug
[17:24:09] <Kroisse> :(
[17:24:14] <arielb1> Will it like a debugger later
[17:24:23] <eddyb> arielb1: compile with -g
[17:24:24] <arielb1> *better
[17:24:45] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[17:25:00] <Kroisse> I'll find that was issued on GitHub
[17:25:06] <Kroisse> eddyb: Thank you :)
[17:25:44] <arielb1> well probably I did it wrongly
[17:25:50] <arielb1> that arm of the match doesn't mutate it at all
[17:26:24] <arielb1> and the optimizer still hates it
[17:26:25] *** Joins: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com)
[17:27:50] *** Joins: ozten (ozten@moz-87FC77D4.hsd1.wa.comcast.net)
[17:29:43] <arielb1> I poked it and it looks better
[17:30:03] <Tari> is there a compelling reason that there isn't an impl of SampleRange for char, or should I submit a PR?
[17:30:39] *** Joins: brandonson (SingingBoy@610D90A5.EE9B234.1ECA502.IP)
[17:30:43] *** Quits: murph (murph@moz-769F6638.oracle.com) (Ping timeout)
[17:31:30] <Kroisse> eddyb: could you tell me the link to related issue if you know it? There's too many issues about "trait bound lifetime"
[17:31:50] <eddyb> Kroisse: no idea, sorry
[17:32:02] *** Joins: q66_ (q66@moz-B6B9A58F.range86-163.btcentralplus.com)
[17:32:13] *** Joins: [o__o] (~o__o@604A2740.DB688352.F4ADE383.IP)
[17:32:14] *** Quits: brontron (brontron@moz-CF02444.dia.static.qwest.net) (Quit: brontron)
[17:32:16] <Kroisse> well, thank you
[17:32:26] <Kroisse> hmm...
[17:33:04] *** Quits: q66 (q66@moz-78474039.range86-132.btcentralplus.com) (Ping timeout)
[17:33:19] *** Quits: skade (skade@B4A5FE21.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:33:51] *** Joins: TimAbraldes (quassel@moz-BF4D134B.hsd1.or.comcast.net)
[17:34:17] *** Joins: skade (skade@B4A5FE21.505237C9.CAE22B62.IP)
[17:34:47] <Tobba> uhg
[17:34:51] <Tobba> why does bors remove its own comments
[17:34:56] <Kroisse> https://github.com/mozilla/rust/issues/11971
[17:35:12] <Kroisse> I think it's similar to my case
[17:35:17] *** Quits: jpf (jan@moz-A8C26A15.org) (Quit: Lost terminal)
[17:35:45] *** Joins: jpf (jan@moz-A8C26A15.org)
[17:35:52] *** Quits: Rym (y@121EE84.FAA15AB8.8772DA20.IP) (Ping timeout)
[17:35:54] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[17:36:15] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[17:36:24] *** Joins: ewalstad (Adium@moz-9A04E871.dedicated.static.sonic.net)
[17:37:03] *** Joins: Rym (y@121EE84.FAA15AB8.8772DA20.IP)
[17:37:07] *** Quits: kngl1 (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[17:37:17] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[17:37:56] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[17:37:59] <kmc> is there something like [T, ..n] but for at most n elements, rather than exactly n?
[17:38:08] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[17:38:14] <jensnockert> kmc: No.
[17:38:16] <kimundi> kmc: Nope
[17:38:29] <kmc> :/
[17:38:31] <jensnockert> kmc: But [T, ..n] and a counter of how many you have used?
[17:38:58] <arielb1> well when will rust clear a borrow after your last write to the borrowed object?
[17:39:10] <kimundi> Though you could probably write one using unsafe code - but we need associated constants to actually express the N generically.
[17:39:17] <kmc> yeah
[17:39:42] <kimundi> arielb1: if the lexical scope of the borrow ends
[17:39:44] <sfackler> arielb1: at the end of that borrow's scope
[17:39:47] <eddyb> kimundi: DST might actually allow some smart tricks on the stack
[17:39:55] <o11c> when I needed one for "a utf-8 character", I did a conversion of the whole array, then sliced off just 1 char
[17:39:59] <Yurume> VLA on steroid?
[17:40:08] <kimundi> eddyb: well this is not  really DST
[17:40:16] <eddyb> kimundi: how sure are you :P?
[17:40:35] <eddyb> DST allows you to pass a [T] as a "value" to move it
[17:40:52] <kimundi> eddyb: but not to store it in a local variable
[17:41:16] *** Quits: StarLight (StarLight@520F7084.DA277C5.F1EF1E39.IP) (Ping timeout)
[17:41:16] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[17:41:17] <eddyb> kimundi: unless that variable is a [T, ..N]
[17:41:32] <kimundi> eddyb: then its not [T] anymore :P
[17:41:33] <arielb1> well I ref-match on part of an object, then I do stuff on that object depending on what the ref-match found
[17:41:48] <eddyb> or you could possibly use whatever clang does for VLAs
[17:41:51] <arielb1> but if I use the object inside the ref-match it thinks the ref-match is still live
[17:41:58] <eddyb> arielb1: it still is
[17:42:13] <eddyb> arielb1: it's a bug/maybe-hard-feature-to-implement
[17:42:25] <eddyb> (to cancel the borrow early)
[17:42:41] <eddyb> kimundi: the idea is that you can pass [T, ..N] as [T]
[17:42:52] *** Quits: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP) (Ping timeout)
[17:43:00] <kimundi> eddyb: yes, I know. :)
[17:43:11] <eddyb> so, uhm, uninit::<[T, ..N]>() and then some magic
[17:43:17] <arielb1> I currently use a few ugly flags to work around this problem
[17:43:27] <kimundi> eddyb: Thats what I'm talking about
[17:43:32] <eddyb> I guess &mut [T] is enough, I'm not sure why I thought DST would be needed
[17:43:37] * eddyb clears head
[17:43:41] <Yurume> I have a (tricky) question: in this code http://ix.io/bas, `fill_request` calls `self.buf.fill()` twice and returns the resulting buffer borrowed from `self.buf` conditionally. both invocations do not depend on each other, but the first invocation widens the lifetime 'a and results in the compile error. is there a good way to avoid this?
[17:43:54] <o11c> because DSTs can be contained as the trailing member of classes
[17:43:57] <kmc> maybe I'll just use a dynamic vector and not worry about micro-optimization so much
[17:44:02] <kimundi> eddyb: Needs associated constants to get a PartialArray<N> or so
[17:44:17] <eddyb> kimundi: excuse me, I'm obviously not thinking
[17:44:21] <Yurume> I do understand why does it fail to compile, but then I don't have a good idea to work that around
[17:44:28] <arielb1> associated constants or integer type parameters
[17:44:56] <arielb1> if you are static on PartialArray
[17:45:01] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:45:38] *** Joins: StarLight (StarLight@moz-5692E7D4.pppoe.avangarddsl.ru)
[17:45:39] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[17:45:55] <kimundi> arielb1: Yeah - the latter can be expressed with the former though, so I expect AC to get implemented in general rather than static integers in specific.
[17:46:16] *** Quits: josh (josh@moz-6F8AE023.mpls.qwest.net) (Ping timeout)
[17:46:56] *** Quits: glaebhoerl (glaebhoerl@moz-3590251D.kabelnet.hu) (Ping timeout)
[17:47:37] *** Joins: josh (josh@moz-E43DA1B.mpls.qwest.net)
[17:48:45] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[17:49:41] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[17:49:56] *** Quits: astroch (astroch@380113AA.C4F5A14C.DDE5D3F6.IP) (Ping timeout)
[17:50:49] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[17:51:57] <arielb1> kimundi: not really
[17:52:05] <arielb1> with integer type parameters the vtable is an integer
[17:52:16] <arielb1> so you can create it at runtime
[17:52:48] <eddyb> arielb1: that's something else
[17:52:58] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[17:53:01] <eddyb> arielb1: Rust code would still be monomorphized
[17:53:18] *** Quits: Guest__ (textual@3E0487DF.D8252BC.9532F1CE.IP) (Ping timeout)
[17:53:31] <arielb1> via a trait
[17:53:54] <eddyb> trait Foo {const BAR: uint;}
[17:54:20] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[17:54:23] <eddyb> then a &Foo would have a similar representation to &[T] (pointer, value)
[17:54:48] <eddyb> ~Foo would still require a vtable to hold the dtor, unless it inherits from Pod (which wouldn't be a bad idea)
[17:55:17] <arielb1> I mean, if you have struct Z<unsized A> { w: A->(), v:A }, impl<A> Z<A> { fn doit(self) {self.w(self.v)} }
[17:55:27] <arielb1> then you can't call Z via 
[17:55:32] <arielb1> Z<Trait>.doit()?
[17:55:47] *** Quits: lpy (lpy@1834E2CB.F09091A8.1348A864.IP) (Client exited)
[17:56:36] *** Joins: pcwalton (pcwalton@moz-24157589.mtv2.mozilla.com)
[17:56:36] *** ChanServ sets mode: +ao pcwalton pcwalton
[17:56:51] * kimundi is confused trying to connect that to assoziated constants
[17:57:14] <eddyb> arielb1: you can, but that's a virtual call
[17:57:30] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Quit: canhtak)
[17:57:47] <cmr> no you can't
[17:57:49] <arielb1> with Trait's vtable, isn't it
[17:57:51] <cmr> that struct isn't allowed.
[17:58:00] <cmr> all unsized types must be behind a pointer.
[17:58:14] <cmr> or that struct itself would have to be unsized
[17:58:25] <cmr> at which point you can no longer have a value of it.
[17:58:41] <eddyb> cmr: it was pseudocode
[17:58:50] <eddyb> I have to admit, pretty confusing
[17:58:50] <arielb1> That's (&Z<Trait>).doit()
[17:58:52] <arielb1> or whatever
[18:00:38] *** Joins: ehsanul (harish@moz-A9E56CFE.hfc.comcastbusiness.net)
[18:01:06] *** Joins: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP)
[18:01:06] *** ChanServ sets mode: +o jdm
[18:01:25] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[18:01:53] <arielb1> Make it: struct Z<unsized A> { w: |&A|->(), v: A }, impl<A> Z<A> { fn doit(&self) { self.w(self.v) } }
[18:02:29] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[18:03:34] *** Quits: q66_ (q66@moz-B6B9A58F.range86-163.btcentralplus.com) (Ping timeout)
[18:05:13] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[18:05:48] <eddyb> arielb1: that's waaay to complicated
[18:05:58] *** Quits: wilmoore (wilmoore@moz-1248C037.mystrotv.com) (Ping timeout)
[18:06:04] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[18:06:05] <eddyb> arielb1: trait Trait {fn doit(&self);} DONE
[18:06:22] <eddyb> your closure is more efficiently represented by a virtual method. which trait objects have
[18:06:27] <arielb1> of course
[18:06:34] <arielb1> that's a meta-closure
[18:06:48] *** Quits: fabiand (fabiand@moz-7B27AC98.adsl.alicedsl.de) (Quit: Verlassend)
[18:06:48] * eddyb lights fire to that overcomplication
[18:07:32] <arielb1> if it's, say, |int|->A instead of A
[18:07:38] <arielb1> and doit takes an int parameter
[18:07:49] <eddyb> well, not sure how you're going to return an unsized type
[18:07:52] *** Quits: Rym (y@121EE84.FAA15AB8.8772DA20.IP) (Ping timeout)
[18:08:00] <arielb1> |int|->&A
[18:08:04] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[18:08:07] <eddyb> a reference to what?
[18:08:31] <arielb1> to A
[18:08:32] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[18:08:35] <eddyb> rusti: |x: int| x as ~Clone
[18:08:36] -rusti- pastebinned 11 lines of output: http://sprunge.us/MCcO
[18:08:41] *** Quits: gwty (gwtypc@E28F3FC8.A4938A92.25B273F5.IP) (Quit: No Ping reply in 180 seconds.)
[18:08:43] <eddyb> rusti: |x: int| ~x as ~Clone
[18:08:44] -rusti- pastebinned 8 lines of output: http://sprunge.us/KdPF
[18:08:58] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[18:09:12] <kimundi> arielb1: The problem is more, where would the A live so that that closure could see and return a reference to it.
[18:09:33] *** Joins: gwty (gwtypc@E28F3FC8.A4938A92.25B273F5.IP)
[18:09:36] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[18:09:38] <eddyb> ^^ brson: is that (the Show error) proof enough that we should get VGs :P? oh, wait, there's no RFC yet :(
[18:10:06] <eddyb> brson: but all the hate for github doesn't motivate me to spend a couple days writing RFCs :/
[18:10:11] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Quit: Sharp)
[18:10:18] * kimundi nudges eddyb to the next text editor
[18:10:18] <arielb1> Well the Z<unsized A> was created from a Z<A>, 
[18:10:24] <arielb1> Z<Trait> created from Z<A>
[18:10:26] <arielb1> for some A
[18:10:33] <eddyb> aaaaand your point is?
[18:10:41] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[18:10:48] <kimundi> eddyb: hush, be a bit nicer ;)
[18:10:50] <arielb1> so it comes with a vtable to A
[18:11:01] *** Joins: Rym (y@121EE84.FAA15AB8.8772DA20.IP)
[18:11:20] <eddyb> kimundi: I'm trying to understand >_>
[18:11:37] *** Joins: p1start (rewi@moz-E7F3D014.org)
[18:11:39] *** Joins: brontron (brontron@moz-CF02444.dia.static.qwest.net)
[18:11:43] <eddyb> maybe I shouldn't. maybe I should get back to making this PR compile. and get it ready before the next weekend
[18:11:51] <eddyb> because I seem to waste entire weeks as of late
[18:11:54] <arielb1> but you don't need a vtable to just pass it around
[18:12:09] <arielb1> you can just pass the &A and ignore the vtable
[18:12:20] *** Quits: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net) (Ping timeout)
[18:12:24] <eddyb> you mean, don't convert &A to &Trait?
[18:12:29] <arielb1> although you still keep it around
[18:12:43] <kimundi> eddyb: I'm wasting weeks doing literally nothing atm, and I mean it. I do not count "crawling around in the compiler source" as nothing, thats something. ;P
[18:12:52] <arielb1> w takes an &A
[18:13:07] <arielb1> not a &Trait
[18:13:13] <eddyb> arielb1: you can't coerce |&A| to |&Trait|
[18:13:21] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:13:21] <arielb1> I know
[18:13:25] <arielb1> you don't
[18:13:28] <eddyb> so... what are you saying again?
[18:13:39] <eddyb> strcat: halp. save me pls
[18:13:44] *** Joins: dotfelix (dotfelix@BFB0E868.AB3AC796.40E092AA.IP)
[18:13:50] *** Joins: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net)
[18:13:56] <arielb1> that Z<Trait>.doit() should work
[18:14:17] *** Quits: skade (skade@B4A5FE21.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:14:29] <kimundi> witht what Z definition again?
[18:15:15] *** Quits: ray (ray@21E8007B.14FD68F4.B395E7D8.IP) (Ping timeout)
[18:15:29] <arielb1> struct Z<unsized A> { w: |&A|->(), v: A }, impl<A> Z<A> { fn doit(&self) { self.w(self.v) } }
[18:15:56] *** victorporof_ is now known as victorporof
[18:16:24] *** Joins: pyon (user@6B56F365.A9B419CB.1C8C8CE9.IP)
[18:16:42] *** Quits: Rym (y@121EE84.FAA15AB8.8772DA20.IP) (Ping timeout)
[18:17:07] <kimundi> apart from the end needing to be `self.w(&self.v)`, I indeed see not why that shouldn't work
[18:17:32] *** Quits: ehsanul (harish@moz-A9E56CFE.hfc.comcastbusiness.net) (Ping timeout)
[18:17:49] <brson> eddyb: why does people hating github make you not want to write RFCs?
[18:17:59] <arielb1> then do (Z<S> as Z<Trait>).doit()
[18:18:07] *** Joins: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com)
[18:18:15] <brson> why are people hating github today?
[18:18:38] <kimundi> arielb1: that should work too, if S implements Trait
[18:18:42] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[18:18:44] *** Joins: ray (ray@21E8007B.14FD68F4.B395E7D8.IP)
[18:18:53] <arielb1> of course S:Trait
[18:19:11] <arielb1> struct Z<unsized A> { w: |&A|->(), v: |int|->&A }, impl<A> Z<A> { fn doit(&self, n:int) { self.w(self.v(n)) } }
[18:19:19] <arielb1> that's the new example
[18:19:24] <kimundi> A assume Z<A> is shorthand for "value of type Z<A>"?
[18:19:29] <arielb1> yes
[18:19:39] <doomlord_> multi-item macros ... still need to be a mod? (it is ok for my use case)
[18:19:44] *** Joins: klaus (koz@moz-4486E876.hsd1.wa.comcast.net)
[18:19:45] <kimundi> doomlord_: works now
[18:19:48] <dotfelix> a question about this rust snippet
[18:19:53] *** Quits: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[18:19:59] *** Joins: Sharp (Sharp@19388942.6B775EBE.DC877F3B.IP)
[18:19:59] *** Joins: q66_ (q66@moz-B6B9A58F.range86-163.btcentralplus.com)
[18:20:01] <dotfelix> struct BitsNStrings<'a> {
[18:20:02] <dotfelix>     mybits: [uint, ..2],
[18:20:02] <dotfelix>     mystring: &'a str
[18:20:02] <kimundi> arielb1: |int|->&A would not work in general
[18:20:03] <dotfelix> }
[18:20:15] <dotfelix> please what does the 'a means?
[18:20:35] <arielb1> make that &'static |int|->&A
[18:20:54] <arielb1> that's orthogonal
[18:21:03] <kimundi> arielb1: The only way any Rust function of any kind could ever return a new reference to something without being handed one in a parameter is if its a reference to a static value.
[18:21:16] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Quit: Bye)
[18:21:23] <arielb1> sure
[18:21:37] <arielb1> Or make it &'a |int|->&'a A
[18:21:37] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[18:21:45] <kimundi> dotfelix: 'a is a named lifetime: http://static.rust-lang.org/doc/master/guide-lifetimes.html
[18:21:56] <arielb1> And add an 'a lifetime parameter
[18:22:11] <kimundi> arielb1: yeah, okay that would work.
[18:22:42] <dotfelix> kimundi: am reading...
[18:24:06] <kimundi> so, you get a struct Z<Trait> that represents a int -> () function which passes a trait object around internally - that should work, but I'm not yet fully sure what thats good for. :) Making the exact computation dynamically switchable at runtime?
[18:24:48] *** Quits: brontron (brontron@moz-CF02444.dia.static.qwest.net) (Quit: brontron)
[18:25:10] <eddyb> brson: well, people are complaining that the RFC process doesn't work well on github. and I'm getting that syndrome where I'm almost sure I'll hit similar problems and I'd rather wait until we know for sure where it's going to be
[18:25:33] <kimundi> eddyb: As long as your not force pushing you should be fine
[18:25:35] <eddyb> brson: and maybe it could take me less time if we move to a different system. assuming I'm not wasting time in the meanwhile
[18:25:42] <eddyb> kimundi: I kinda know that
[18:25:50] <kimundi> ;)
[18:26:35] *** Quits: arielb1 (Mibbit@moz-F45AD9C0.cs.tau.ac.il) (Quit: http://www.mibbit.com ajax IRC Client)
[18:26:36] <kimundi> (I'd claim the actually "writing something up" part won't change though, so the system doesn't really matter much.)
[18:26:40] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:27:13] *** Joins: autra (augustin@moz-BE76895F.fbx.proxad.net)
[18:27:33] *** Joins: ehsanul (harish@moz-A9E56CFE.hfc.comcastbusiness.net)
[18:28:07] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[18:28:22] *** Quits: wycats (sid79@moz-5F4AA75A.irccloud.com) (Ping timeout)
[18:28:22] *** Quits: redbrain (uid24282@moz-E77DEB21.irccloud.com) (Ping timeout)
[18:28:22] *** Quits: sawrubh (uid6719@moz-5F4AA75A.irccloud.com) (Ping timeout)
[18:28:30] *** Quits: benoitc (sid1888@moz-31ABA2C0.irccloud.com) (Ping timeout)
[18:28:30] *** Quits: etrepum (sid763@moz-5F4AA75A.irccloud.com) (Ping timeout)
[18:28:30] *** Quits: avdi (sid16245@moz-A42E5B7B.irccloud.com) (Ping timeout)
[18:28:30] *** Quits: jagtalon (sid24114@moz-E77DEB21.irccloud.com) (Ping timeout)
[18:28:46] *** Joins: sawrubh (uid6719@moz-5F4AA75A.irccloud.com)
[18:28:59] *** Quits: mbrubeck (sid17036@moz-A42E5B7B.irccloud.com) (Ping timeout)
[18:29:18] <kimundi> Heh, everytime I open one of Rusts guides I read something like "A reference can point anywhere: into the managed or exchange heap" and I'm reminded that our docs still are achronistic patchworks of old and new terminology and ideas. :P
[18:29:21] <doomlord_> awesome. rusts' macro system is great
[18:29:21] *** Quits: soumyaC (uid15286@moz-E77DEB21.irccloud.com) (Ping timeout)
[18:29:21] *** Quits: jack (sid19593@moz-A42E5B7B.irccloud.com) (Ping timeout)
[18:29:30] *** Joins: wycats (sid79@moz-5F4AA75A.irccloud.com)
[18:29:47] *** Quits: bjz_ (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[18:30:06] <kimundi> doomlord_: Heh, what are you doing with it?
[18:30:09] *** Joins: jagtalon (sid24114@moz-E77DEB21.irccloud.com)
[18:30:09] <doomlord_> set myself up something to declare a vertex structure with annotations for attribute indices, generates a function to set itself up.. would have been sort of possible with x-macros
[18:30:11] <eddyb> kimundi: replace that with "into the heap or the stack"
[18:30:24] *** Joins: etrepum (sid763@moz-5F4AA75A.irccloud.com)
[18:30:26] *** Joins: redbrain (uid24282@moz-E77DEB21.irccloud.com)
[18:30:36] *** Joins: soumyaC (uid15286@moz-E77DEB21.irccloud.com)
[18:31:03] *** Joins: mbrubeck (sid17036@moz-A42E5B7B.irccloud.com)
[18:31:14] *** Joins: benoitc (sid1888@moz-31ABA2C0.irccloud.com)
[18:31:25] <kimundi> eddyb: just "the heap", it already talks about the stack after that. But the problem is I scroll further down and still see comparisons using T, ~T and @T and I'm reminded that this is not going to be a three line fix. :P
[18:32:06] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[18:32:18] *** Quits: p1start (rewi@moz-E7F3D014.org) (Ping timeout)
[18:32:20] *** Joins: avdi (sid16245@moz-A42E5B7B.irccloud.com)
[18:33:33] *** Joins: jack_ (sid19593@moz-A42E5B7B.irccloud.com)
[18:33:43] <doomlord_> http://pastebin.com/hJizMJ6a  << would have been a mess in C/C++
[18:36:03] *** Joins: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de)
[18:36:36] <doomlord_> remains to be seen if this is deemed 'write-only code' by others
[18:37:37] <kimundi> doomlord_: Sadly I'm not yet familiar enough with glVertexAttribPointer to really get what it does :)
[18:38:11] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[18:38:41] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:38:50] <doomlord_> it specifies a pointer, or offset within a vertex array, to vertex element data
[18:39:04] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[18:39:11] <doomlord_> basically if you have a vertex structure in an array, you use it to describe the layout to gl.
[18:39:25] *** Quits: ganitsu (ganitsu@moz-B89D321B.dialup.adsl.anteldata.net.uy) (Quit: WeeChat 0.4.1)
[18:40:04] <doomlord_> you could do it purely data driven, but its nice to have a language struct aswell as a layout datatable IMO.
[18:40:19] <kimundi> Ah, so you have a [TestVertex], and then call this generated code to tell OGL how to interpret the data in that array?
[18:40:26] <doomlord_> right 
[18:41:15] *** Quits: azita (Azita@moz-62518563.mtv2.mozilla.com) (Quit: azita)
[18:41:32] <kimundi> hm, that pointer at the end throws me off- whats that for?
[18:41:35] <doomlord_> even if it was datadriven, in C you'd have columns of data.. i like the fact you can use syntax to give it meaning
[18:41:46] <kimundi> yeah
[18:42:18] <doomlord_> the pointer at the end: its weird :) this same function is used to specificy either raw pointers from memory, or offsets within a vertex-array... 
[18:42:44] <doomlord_> ... so you either pass a real pointer to data in memory, or an offset *cast* as a void* :) 
[18:42:48] <kimundi> ah, that explains it :P
[18:43:08] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[18:43:08] <eddyb> doomlord_: why u no enum?
[18:43:09] <doomlord_> i wish they just made another function, "setVertexAttribBufferOffset" ..
[18:43:22] <doomlord_> enum for which part : 
[18:43:26] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[18:43:27] <kimundi> So, which of the both is that code meant to do?
[18:43:36] <eddyb> offset/pointer. but I guess it's not your code
[18:43:37] <doomlord_> offsets in a buffer 
[18:43:47] <doomlord_> yeah its just raw gl calls
[18:43:49] *** Joins: Jesse (jruderman@moz-62518563.mtv2.mozilla.com)
[18:43:51] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[18:44:05] <eddyb> doomlord_: btw, http://www.reddit.com/r/rust/comments/20sves/help_with_understanding_function_visibility
[18:44:16] <eddyb> yes, you can have multiple traits with the same method names
[18:44:26] <eddyb> is it a good idea? mmmaybe
[18:44:27] *** Joins: Rym (y@1AD9BB8E.D1C9731D.8772DA20.IP)
[18:44:37] <eddyb> rusti: 0.fmt(0)
[18:44:38] -rusti- pastebinned 11 lines of output: http://sprunge.us/TDRL
[18:44:54] <kimundi> `let base_vertex = 0 as *$layout_name; &(*base_vertex).$element as *GLfloat as *c_void` - thats a pointer into the stack, right?
[18:45:07] <eddyb> rusti: use std::fmt::{Show, Signed, Unsigned}; 0.fmt(0)
[18:45:08] -rusti- pastebinned 68 lines of output: http://sprunge.us/CLBB
[18:45:15] <doomlord_> kimundi, yes thats' how i'm hacking offset of a struct element
[18:45:29] <doomlord_> (is there a rust offset_of!() macro ?)
[18:45:37] <eddyb> kimundi: it's an offset from 0, not in the stack
[18:45:44] <kimundi> doomlord_: Right, I'm just wondering how you get a offset from that. :)
[18:45:55] <kimundi> AHH
[18:45:59] <kimundi> its a 0 pointer
[18:46:00] <eddyb> doomlord_: http://sprunge.us/CLBB
[18:46:05] <kimundi> with filed index offset
[18:46:08] <kimundi> got it
[18:46:12] <kimundi> Not used to such hacks :P
[18:47:15] <doomlord_> C's syntax makes sense when hacking like that.. optimized for casting conviniently.. optimized for writing messy code :)
[18:47:15] <eddyb> https://github.com/hobinjk/rusty-kaleidoscope wowowow
[18:48:17] <eddyb> maybe I should hurry before someone decides to port LLVM to Rust
[18:48:19] <kimundi> now to find out what kaleidoscope is
[18:48:28] <eddyb> and, you know, doesn't use enough magic automation
[18:48:31] <eddyb> kimundi: LLVM tutorial
[18:49:15] <kimundi> eddyb: Still unsure what that would contain
[18:49:23] <ray> is a port/channel something like a queue?
[18:49:27] <ray> as in ipc?
[18:49:47] <eddyb> ray: a thread-safe queue, but not as far as IPC
[18:49:53] <kimundi> ray: its message passing intern to one process
[18:50:06] *** Quits: Rym (y@1AD9BB8E.D1C9731D.8772DA20.IP) (Ping timeout)
[18:50:14] <eddyb> it actually doesn't matter which threads hold which ends
[18:50:25] <ray> so its faster?
[18:50:26] <eddyb> it's just a thread-safe stream with disconnected ends... and that's about it
[18:50:40] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Quit: canhtak)
[18:50:46] <eddyb> ray: an unbounded lock-free queue, AFAIK
[18:50:51] *** Parts: lars_t_h (lars_t_h@moz-E067948A.mbb.telenor.dk) (Leaving)
[18:50:52] <kimundi> doomlord_: you could implement a `offset_of!()` macro using that hack :)
[18:50:53] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[18:51:23] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[18:51:28] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[18:51:33] *** Joins: japaric1 (japaric@2AF8646A.4B327FDB.F29ED47E.IP)
[18:51:46] <kimundi> rusti: struct Foo {bar: uint, baz: uint} static FOO: uint = {1 + 2}; FOO
[18:51:47] -rusti- <anon>:16:62: 16:69 error: constant contains unimplemented expression type
[18:51:47] -rusti- <anon>:16         struct Foo {bar: uint, baz: uint} static FOO: uint = {1 + 2}; FOO
[18:51:47] -rusti-                                                                        ^~~~~~~
[18:51:47] -rusti- error: aborting due to previous error
[18:51:47] -rusti- application terminated with error code 101
[18:51:57] <eddyb> "An optimisation was added so that switch-to-lookup-table conversion can be done by adding a bitmask check." lovely :D:D
[18:52:01] *** Quits: japaric (japaric@1B985D9E.C4F72AE.F29ED47E.IP) (Ping timeout)
[18:52:08] <eddyb> kimundi: it's not bad that I've been waiting to release Many
[18:52:12] <doomlord_> could call it offset_of or field_offset perhaps ... i notice there's a std::intrinsics::offset function
[18:52:18] *** Joins: Rym (y@1AD9BB8E.D1C9731D.8772DA20.IP)
[18:52:22] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[18:52:34] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[18:52:41] <kimundi> doomlord_: field_offset sounds like the right name
[18:52:44] <eddyb> kimundi: I can show that it has decent performance, even if it looks like complicated reflection. especially wtih all the new optimizations :D
[18:52:47] *** Joins: tomh- (uid501@moz-E77DEB21.irccloud.com)
[18:53:13] <eddyb> doomlord_: the offset intrinsic is probably LLVM-pointer-safe arithmetic
[18:53:25] <kimundi> rusti: struct Foo {bar: uint, baz: uint} static FOO: uint = &'static (0 as *Foo).baz as *() as uint; FOO
[18:53:26] -rusti- <anon>:16:71: 16:86 error: attempted access of field `baz` on type `*main::Foo`, but no field with that name was found
[18:53:26] -rusti- <anon>:16         struct Foo {bar: uint, baz: uint} static FOO: uint = &'static (0 as *Foo).baz as *() as uint; FOO
[18:53:26] -rusti-                                                                                 ^~~~~~~~~~~~~~~
[18:53:26] -rusti- error: aborting due to previous error
[18:53:28] -rusti- application terminated with error code 101
[18:53:35] <eddyb> doomlord_: since ptr as uint as *T leaves nasty LLVM instructions
[18:53:43] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:53:57] <eddyb> "The merging of a patchset to improve MergeFunctions time complexity from O(N*N) to O(N*log(N))."
[18:54:01] <eddyb> (pun intended)?
[18:54:14] <eddyb> strcat: ^^ so mergefunc is faster. but is it not broken yet?
[18:54:19] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[18:54:29] <kimundi> rusti: struct Foo {bar: uint, baz: uint} static FOO: uint = &'static (*(0 as *Foo)).baz as *() as uint; FOO
[18:54:30] -rusti- <anon>:16:62: 16:89 error: mismatched types: expected `*()` but found `&uint` (expected () but found uint)
[18:54:30] -rusti- <anon>:16         struct Foo {bar: uint, baz: uint} static FOO: uint = &'static (*(0 as *Foo)).baz as *() as uint; FOO
[18:54:30] -rusti-                                                                        ^~~~~~~~~~~~~~~~~~~~~~~~~~~
[18:54:30] -rusti- error: aborting due to previous error
[18:54:31] -rusti- application terminated with error code 101
[18:54:35] <strcat> eddyb: I think it's still broken
[18:54:39] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[18:54:54] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Ping timeout)
[18:55:24] *** Joins: orospakr (orospakr@D1407E33.15B0D379.C3C3A9D0.IP)
[18:55:56] *** Joins: jviereck (Adium@moz-57F9C94E.dclient.hispeed.ch)
[18:56:13] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[18:56:28] *** Quits: orospakr (orospakr@D1407E33.15B0D379.C3C3A9D0.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:56:35] *** Joins: krdln (Mibbit@moz-C271714F.dynamic.chello.pl)
[18:56:35] <kimundi> haha
[18:56:46] <kimundi> eddyb, doomlord_: insta llvm assert:
[18:56:47] <kimundi> rusti: struct Foo {bar: uint, baz: uint} unsafe{static FOO: uint = &'static (*(0 as *Foo)).baz as *uint as uint; FOO}
[18:56:47] -rusti- pastebinned 3 lines of output: http://sprunge.us/WjbR
[18:57:17] *** Joins: skade (skade@moz-6444221B.dip0.t-ipconnect.de)
[18:57:27] <doomlord_> http://pastebin.com/PpkuxP6a <<<< scratching another itch with macros... shortcut for declaring constructors .
[18:57:43] *** Quits: ewalstad (Adium@moz-9A04E871.dedicated.static.sonic.net) (Quit: Leaving.)
[18:57:45] <eddyb> kimundi: constant initializers are still pretty silly
[18:58:29] <doomlord_> i'm so surprised the C macro system didn't get some sort of list ability
[18:59:06] <kimundi> doomlord_: Heh, that constructor delcaring macro looks nice
[18:59:50] <kimundi> doomlord_: Btw you can invoke `def_struct!(...)` as `def_struct! {...}` if you want, to make it feel more block-ish. :)
[18:59:53] *** Quits: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu) (Quit: lkuper)
[18:59:57] *** Quits: Rym (y@1AD9BB8E.D1C9731D.8772DA20.IP) (Ping timeout)
[19:00:20] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[19:00:43] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[19:01:26] *** Quits: voxpopuli (fanservice@474FE5D4.598E1842.689607DE.IP) (Quit: WeeChat 0.4.3)
[19:02:23] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[19:03:38] <doomlord_> i saw there was a PR for a debug dump!(..) very similar to one i've made aswell.  (stringified expression) .. i  just added file/line, which i find really useful when i'm not sure when & where things are happening... stuff loads of trace information in but dont have to manually label it..
[19:04:08] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[19:04:20] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[19:04:34] <ray> what do i send through a channel? a string?
[19:04:54] <ray> or anything that defines some sort of serializer?
[19:05:33] *** Joins: newguy (Mibbit@287491B.4C91BF6B.DDE5D3F6.IP)
[19:06:01] <newguy> if its not too busy right now, does anyone have experience with heroku?
[19:06:27] <claudiu> define "experience" newguy :)
[19:06:35] <newguy> deploying to heroku
[19:06:44] <eddyb> "if it's not too busy right now"
[19:06:52] <eddyb> newguy: that's how you always start your offtopic questions :P
[19:06:55] <claudiu> It's just a git repo that you push to
[19:06:56] * eddyb is watching
[19:06:59] <newguy> lol
[19:07:06] <newguy> well, so this is my situation
[19:07:12] <newguy> i pushed to origin master
[19:07:15] *** Quits: dranov (dranov@D0C4F44C.1298A9BE.D602D2C5.IP) (Ping timeout)
[19:07:16] <newguy> i then pushed to heroku master
[19:07:23] *** Joins: Rym (y@1AD9BB8E.D1C9731D.8772DA20.IP)
[19:07:25] <newguy> but my herokuapp is still running the old code
[19:07:28] <ray> is there something special/built in to determine the types?
[19:07:29] *** jack_ is now known as jack
[19:07:38] <ray> when i receive from a port
[19:07:52] <ray> what if i wanted to send a list for instance
[19:08:11] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[19:08:12] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[19:08:15] <ray> as in i have a list with results and threads add the results
[19:09:04] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[19:09:06] *** Quits: dotfelix (dotfelix@BFB0E868.AB3AC796.40E092AA.IP) (Quit: )
[19:09:22] <claudiu> newguy: Maybe silly question, but I assume you eliminated any issues related to not correctly pushing your changes right?
[19:09:24] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[19:09:46] <newguy> claudiu: yea. all changes were successfully pushed.
[19:09:49] <newguy> everything is up to date
[19:09:51] <claudiu> Can you give a pastebin copy-pasta of what commands you ran please?
[19:10:24] <newguy> yea one sec
[19:10:34] *** Joins: eschweic (Adium@moz-CF8DE539.cit.cornell.edu)
[19:10:37] *** Quits: eschweic (Adium@moz-CF8DE539.cit.cornell.edu) (Quit: eschweic)
[19:10:48] <kimundi> ray: Port and Chan are generic. So you can have a channel for sending integers, a a channel for sending vectors, etc.
[19:11:15] *** Quits: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP) (Ping timeout)
[19:11:41] <newguy> claudiu: gotta run unexpectedly. ill be back later. dont worry about my issue...
[19:11:44] *** Quits: newguy (Mibbit@287491B.4C91BF6B.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:11:53] *** Quits: jviereck (Adium@moz-57F9C94E.dclient.hispeed.ch) (Quit: Leaving.)
[19:11:53] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[19:12:04] <kimundi> rusti: let x: Chan<int>;
[19:12:04] -rusti- <anon>:16:16: 16:25 error: use of undeclared type name `Chan`
[19:12:05] -rusti- <anon>:16         let x: Chan<int>;
[19:12:05] -rusti-                          ^~~~~~~~~
[19:12:05] -rusti- error: aborting due to previous error
[19:12:05] -rusti- application terminated with error code 101
[19:12:10] <kimundi> rusti: let x: Sender<int>;
[19:12:11] -rusti- <anon>:16:13: 16:14 warning: unused variable: `x`, #[warn(unused_variable)] on by default
[19:12:11] -rusti- <anon>:16         let x: Sender<int>;
[19:12:11] -rusti-                       ^
[19:12:11] -rusti- ()
[19:12:11] *** concrete.mozilla.org sets mode: +M 
[19:12:35] *** ray is now known as Raydiation
[19:13:02] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:13:46] *** Joins: fabiand (fabiand@moz-7B27AC98.adsl.alicedsl.de)
[19:14:11] *** Quits: Raydiation (ray@21E8007B.14FD68F4.B395E7D8.IP) (Quit: Leaving.)
[19:14:16] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[19:14:20] *** Joins: Raydiation (ray@21E8007B.14FD68F4.B395E7D8.IP)
[19:14:40] <Raydiation> kimundi: regarding the example at http://static.rust-lang.org/doc/0.9/std/comm/index.html where is the generic parameter?
[19:14:54] <Raydiation> i only see let (port, chan) = Chan::new(); 
[19:14:59] *** Joins: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP)
[19:15:20] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[19:16:03] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[19:16:06] *** Quits: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP) (Input/output error)
[19:16:32] *** Joins: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP)
[19:16:32] <Raydiation> or are the docs wrong
[19:16:33] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[19:17:14] *** concrete.mozilla.org sets mode: -M 
[19:17:23] <kimundi> sorry, couldn'T talj because of that
[19:17:34] <kimundi> anyway, the docs are correct
[19:17:41] <Earnestly> Raydiation: http://static.rust-lang.org/doc/master/std/comm/index.html ;p
[19:17:48] <kimundi> For 0.9, that is
[19:17:49] <kimundi> http://static.rust-lang.org/doc/0.9/std/comm/struct.Chan.html
[19:18:00] <kimundi> If you are using master, then those are the wrong docs though :P
[19:18:02] <Luqman> Raydiation: you can see the generic paramter in the docs here: http://static.rust-lang.org/doc/0.9/std/comm/struct.Chan.html
[19:18:10] <Earnestly> Raydiation: Stick to master instead, if you can
[19:18:11] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[19:18:12] *** Quits: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP) (Ping timeout)
[19:18:24] <kimundi> rusti: let (tx, rx) = std::comm::channel::<uint>(); tx.send(5u); rx.recv() // in master
[19:18:25] -rusti- 5
[19:18:33] *** Joins: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com)
[19:18:46] <Raydiation> Earnestly: thanks :) btw, http://static.rust-lang.org/doc/master/std/comm/index.html#example also doesnt specify the type
[19:18:56] <Raydiation> does it default to int if you dont set the type
[19:19:00] <kimundi> Raydiation: Thats the module doc
[19:19:06] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[19:19:13] <kimundi> Raydiation: Modules don'T have type parameters, just long docs :P
[19:19:31] <kimundi> Raydiation: The code example uses type inference
[19:19:48] <Earnestly> Well and channel::<int>()
[19:19:50] <Raydiation> and type inference knows that some lines further down its sending an int?
[19:19:50] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[19:19:58] <Raydiation> Earnestly: at the very bottom :P
[19:20:00] <Earnestly> Raydiation: Yes
[19:20:12] *** Quits: luz (lu.cy@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[19:20:14] <kimundi> Raydiation: Yes - for integers `int` is actually the fallback
[19:20:14] *** Quits: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[19:20:16] <Raydiation> i mean, is type inference so magic that it can do a lookahead?
[19:20:18] <Earnestly> Raydiation: Hindly-Milner https://en.wikipedia.org/wiki/Hindley-Milner
[19:20:25] <kimundi> Raydiation: yes
[19:20:27] <Earnestly> ley*
[19:20:27] *** Joins: luz (lu.cy@moz-CD18B14B.customer.cdi.no)
[19:20:29] <Raydiation> hoho :D
[19:20:32] <Earnestly> Raydiation: Haskell uses the same
[19:20:35] <Raydiation> wth
[19:20:37] <strcat> Raydiation: doesn't really do 'lookahead', it's run after parsing, etc.
[19:21:03] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:21:04] <kimundi> rusti: let x; x = 1; x += 100; x = x - 5; x += 1u8; x
[19:21:06] -rusti- pastebinned 20 lines of output: http://sprunge.us/OegL
[19:21:18] <kimundi> rusti: let mut x; x = 1; x += 100; x = x - 5; x += 1u8; x
[19:21:18] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[19:21:18] -rusti- 97
[19:21:23] <strcat> rusti: let mut xs = vec!(); xs.push(5); xs
[19:21:23] -rusti- [5]
[19:21:28] <kimundi> that inferes that x is a u8 from the end out
[19:21:51] <Earnestly> Raydiation: It's pretty awesome, static typing ❤ without the headache of having to always declare them
[19:22:03] <Earnestly> dynamic typing is a scam D;
[19:22:35] <Earnestly> It's like static typing, except less flexible and usually weaker.
[19:23:19] *** Quits: pczarn (pczarn@moz-69A55FA.izacom.pl) (Input/output error)
[19:23:20] <kimundi> wait, dynamic typing is _less_ flexible?
[19:24:06] <Earnestly> http://existentialtype.wordpress.com/2011/03/19/dynamic-languages-are-static-languages/
[19:24:49] <kimundi> Thats going to be a interesting read...
[19:25:25] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[19:26:34] *** Joins: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP)
[19:27:12] *** Joins: Guest (textual@3E0487DF.D8252BC.9532F1CE.IP)
[19:27:12] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[19:27:25] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[19:27:52] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[19:28:13] <Raydiation> well the only benefit of dynamic typing is to not have to type the types and type inference, well :P
[19:28:52] *** Joins: jviereck (Adium@moz-57F9C94E.dclient.hispeed.ch)
[19:29:27] <Earnestly> To be fair, most people who pine after dynamic languages tend to come from C, C++, Java, etc. which have fairly limited type systems that don't really afford the same level of expressiveness as say ML
[19:29:45] <Earnestly> Or Haskell indeed
[19:29:53] <Raydiation> how similar are goroutines and ports/channels
[19:30:17] <bvssvni> jensnockert: ping
[19:30:32] <strcat> Raydiation: as similar as they are to threads and channels in any other language with multithreading
[19:30:34] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:30:57] <Raydiation> so its basically the same?
[19:31:00] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[19:31:14] <Matthias247> no, they have nothing to do with each other
[19:31:19] <Matthias247> the same as in go ;)
[19:31:33] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Quit: canhtak)
[19:32:10] <Raydiation> dunno, looks the same to me, regarding the code
[19:32:43] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[19:32:49] <Raydiation> as in i create a channel, send something and receive from it
[19:32:57] <kimundi> Raydiation: (goroutine == task == thread != communication channeld between tasks/threads/goroutines)
[19:35:09] <kimundi> In other words, task and channels are indeed similar to goroutines and whatever go calls communication primitives, you just mixed up the words. :)
[19:35:27] *** Joins: _jrp_ (jasonp@36876914.423A118C.C9212293.IP)
[19:35:29] <Raydiation> i see :)
[19:35:51] <kimundi> One big difference is that goroutines are not memory safe with more than one thread
[19:35:54] <eddyb> Earnestly: dynamic languages don't have *only* dynamic types
[19:35:54] *** Joins: dotfelix (dotfelix@BFB0E868.AB3AC796.40E092AA.IP)
[19:36:11] *** Joins: lll (Mibbit@moz-A653BFD7.hsd1.tn.comcast.net)
[19:36:17] <strcat> eddyb: in-memory tags aren't types
[19:36:24] <strcat> enum Foo { A(int), B(int) }
[19:36:26] <strcat> A and B are the same type
[19:36:36] <eddyb> strcat: I meant... that post
[19:36:38] <Matthias247> I think they are also called channels in Go :)
[19:36:43] *** Quits: dotfelix (dotfelix@BFB0E868.AB3AC796.40E092AA.IP) (Quit: )
[19:37:13] <eddyb> Earnestly: you could relatively easily convert JS code to Rust using runtime types, and it may run (however slow)
[19:37:27] <eddyb> the actual benefit comes from runtime code generation
[19:37:53] <eddyb> I think one of the reasons I refused to try Dart is because it was a *compiled* dynamically typed language
[19:38:04] *** Quits: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net) (Ping timeout)
[19:38:09] <lll> sorry if this is basic, but i cant figure out i/o, i tried to use the docs,(static.rust-lang.org/doc/0.9/std/io/index.html), but i copy pasted them and they still dont run
[19:38:23] <eddyb> so none of the magic codegen stuff you usually get in a scripting language would work
[19:38:41] <Matthias247> eddyb: no, it all works and is the same
[19:38:45] <eddyb> Earnestly: Julia goes pretty far with this, and I'd like to steal as much as possible from their experience :P
[19:38:47] <kimundi> lll: Are you suing git master or 0.9?
[19:38:55] <lll> git master
[19:39:03] <strcat> use the docs for master
[19:39:04] <kimundi> welll, wrong docs then :P
[19:39:05] <Matthias247> eddyb: Dart uses static typing only for static analysis (in the IDE), not on runtime
[19:39:19] <lll> woosh, thanks
[19:39:34] <Ms2ger> Static types never work at runtile
[19:39:37] <Ms2ger> -time
[19:40:00] <eddyb> Matthias247: I said *compiled* as in, pre-compiled and without runtime code generation&execution support (basically, manipulable JIT)
[19:40:16] <GrecKo> hi, I want to learn rust, what are the best resources now ? rustforrubyists + the official tutorial, something else ?
[19:40:27] <jensnockert> bvssvni: pong
[19:40:35] <Matthias247> eddyb: but dart is not precompiled. And it has JIT
[19:40:53] <eddyb> Matthias247: how hard is it to create a function from source or AST?
[19:40:58] <kimundi> GrecKo: Those, and this channel :)
[19:41:09] <kimundi> GrecKo: And if possible, start with git master instead of 0.9
[19:41:23] <GrecKo> ok
[19:41:36] <eddyb> improving quasi quoting and giving the power to JIT Rust code, as a library, that could make Rust compete even with crazy scripting techniques
[19:41:49] <GrecKo> thanks fot the tip about not using 0.9
[19:41:56] <Matthias247> eddyb: you mean a real dynamic object? No clue. No usage for that
[19:42:18] <kimundi> GrecKo: Which OS are you using? FOr some linux distros there are nightlies.
[19:42:29] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[19:42:33] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[19:42:33] <eddyb> Matthias247: I mean dynamic code
[19:42:45] *** Joins: papanikge (papanikge@moz-7FCB17B7.access.hol.gr)
[19:42:56] <GrecKo> windows mainly
[19:43:01] <strcat> Ms2ger: sure they do, enums ;P
[19:43:03] <eddyb> Matthias247: at least some subset of JS' eval
[19:43:07] <GrecKo> wanted to try some stuff on my debian serv also
[19:43:12] <strcat> Ms2ger: if you consider python to have types then you have to consider each enum variant to be a type ;)
[19:43:14] <strcat> but it's not
[19:43:38] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[19:43:39] <strcat> but most of the time being technically accurate isn't important
[19:43:52] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[19:43:53] <eddyb> being fast and clean is
[19:43:53] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[19:44:00] *** Quits: autra (augustin@moz-BE76895F.fbx.proxad.net) (Ping timeout)
[19:44:06] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[19:44:13] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[19:44:33] *** Joins: Florob (Florob@moz-39532932.de)
[19:44:34] <kimundi> GrecKo: For windows there are apparently also nightlies here: http://www.nuget.org/packages/Rust/ - no idea how well they work though. Of course, you can also install mingw and compile from source if you want :)
[19:44:41] <Matthias247> eddyb: I think you can do that in many languages as long as you have access to the compiler during runtime
[19:45:01] *** Joins: murph (murph@moz-769F6638.oracle.com)
[19:45:13] <Raydiation> btw, what is the difference between using a mutex/lock for a list using normal threads and rusts channels/ports
[19:45:26] <Raydiation> implicit lock?
[19:45:26] *** Quits: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net) (Ping timeout)
[19:45:50] <eddyb> Matthias247: yeah, well, but within specs?
[19:46:05] <eddyb> Matthias247: Dart is supposed to be a (relatively) isolated language, like JS
[19:46:10] <kimundi> Raydiation: Abstraction - you can do both in Rust, but the latter is abstracted to "send a value between A and B", while the former is just a locked list :P
[19:46:17] <eddyb> Matthias247: if things are not provided to you, tough luck
[19:46:41] *** Joins: m-r-r (m-r-r@moz-4FB14902.rev.sfr.net)
[19:46:41] <Matthias247> eddyb: you can simply lookup the API ;)
[19:46:48] *** Quits: marianog1erra (marianogue@moz-64A100C1.dip0.t-ipconnect.de) (Input/output error)
[19:46:48] *** Quits: marianoguerra (marianogue@moz-64A100C1.dip0.t-ipconnect.de) (Input/output error)
[19:46:52] <Raydiation> kimundi: also just realized its a hack for the type system
[19:46:55] *** Joins: marianoguerra (marianogue@moz-64A100C1.dip0.t-ipconnect.de)
[19:47:02] <eddyb> Matthias247: I mean, you can always... uhm, use closures to build up functions (which given smart inlining behavior, might work), lambda calculus style
[19:47:13] <eddyb> Matthias247: well, when it was first release there was no such API
[19:47:18] <Raydiation> as in securely share data that is not allowed otherwise
[19:47:18] <eddyb> that's what I know
[19:47:30] <kimundi> Raydiation: Hm?
[19:47:55] <kimundi> Raydiation: You can securely share data in Rust just fine :)
[19:48:19] <Raydiation> between multiple threads :D?
[19:48:26] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[19:48:26] <kimundi> yeah
[19:48:34] *** Quits: espindola (espindola@8EC99D26.4B7A7726.A2E931B1.IP) (Connection reset by peer)
[19:48:36] <m-r-r> Hello
[19:48:52] *** Joins: espindola (espindola@8EC99D26.4B7A7726.A2E931B1.IP)
[19:48:56] <kimundi> Arc<RWLock<T>> - a atomic reference counted handle that safely uses locks to allow multiple threads simultaneous read/Write access.
[19:49:06] *** Joins: mib_383acx (Mibbit@7E217F04.2C8DBE39.CC1A2609.IP)
[19:49:24] <kimundi> Or just Arc<T> if you just want multiple threads reading T.
[19:49:45] <Raydiation> i see
[19:49:56] <GrecKo> kimundi: I think I compiled from source when I tried a couple month back
[19:49:56] <krdln> Hi, could you help me with some weird error? https://gist.github.com/krdln/3c0e553639c9c2fa198f It warns be about "dead" assignment and then crashes in llvm
[19:50:02] *** Joins: jmgrosen` (user@moz-A3814C08.sd.sd.cox.net)
[19:50:20] <m-r-r> My code that was using ~[] is broken, i had to switch to std::vec_ng::Vec
[19:50:29] <m-r-r> Why was ~[] renamed ?
[19:50:46] <kimundi> krdln: well its a dead assignment - nothing uses orx after that
[19:50:52] <eddyb> m-r-r: ~[T] is getting removed
[19:51:01] <krdln> kimundi: and the next iteration of loop?
[19:51:03] <strcat> m-r-r: planned for a long time, lots of information about it on the bug tracker
[19:51:04] <eddyb> because it will be syntax for something slightly different under DST
[19:51:26] <m-r-r> eddyb: what is DST ?
[19:51:26] <eddyb> huon: good job https://xkcd.com/1344/
[19:51:27] <kimundi> krdln: oh, right its in a loop. no idea then, should work :P
[19:51:35] <kimundi> krdln: ah
[19:51:56] <krdln> (that code worked in 0.9 (wrt to „do” and nonexistent now „spawn_with”)
[19:51:58] <bvssvni> m-r-r: Dynamically Sized Types
[19:51:59] *** Quits: mib_383acx (Mibbit@7E217F04.2C8DBE39.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:52:00] <kimundi> krdln: your loop never runs more than once, and the compiler knows that statically at compiletime: your using spawn wrong ;)
[19:52:12] <m-r-r> bvssvni: ok
[19:52:24] *** Joins: cornelius (Mibbit@moz-7AD9232F.rev.numericable.fr)
[19:53:08] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:53:11] <kimundi> krdln: spawn needs to take a proc() - as its written it loops endlessly instead evaluating to a proc
[19:53:32] <krdln> kimundi: oh, forgot, sorry :)
[19:53:34] <kimundi> spawn(proc(){ loop  { ... } })
[19:53:58] <kimundi> but that should indeed give a meaningfull error
[19:53:59] <eddyb> https://github.com/mozilla/rust/issues/12470#issuecomment-37965197 what is this sorcery?
[19:54:08] <kimundi> instead of llvm crashs - file a bug :)
[19:54:09] <eddyb> why is that code block so tiny?
[19:54:15] *** Quits: andre (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[19:54:21] <eddyb> kimundi: is it one of those ty_bot things?
[19:54:29] <krdln> kimundi: thanks!
[19:54:38] <kimundi> eddyb: If loop {} is !, then yes
[19:54:42] *** Joins: dapz (textual@moz-ADE1780.hsd1.ca.comcast.net)
[19:54:55] <eddyb> kimundi: there's code handling special cases like that all over trans
[19:55:06] <eddyb> can't trust it :/
[19:55:17] *** Quits: Raydiation (ray@21E8007B.14FD68F4.B395E7D8.IP) (Quit: Leaving.)
[19:55:23] <kimundi> rusti: spawn(loop { let _x = 1u;});
[19:55:24] -rusti- pastebinned 8 lines of output: http://sprunge.us/VFLf
[19:55:35] <kimundi> rusti: spawn(loop { let _x = 1u;}); ()
[19:55:36] -rusti- pastebinned 8 lines of output: http://sprunge.us/NAjT
[19:55:36] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[19:55:43] <eddyb> kimundi: you're doing it wrong
[19:55:58] <eddyb> rustilite: fn main(){spawn(loop { let _x = 1u;});}
[19:56:01] -rustilite- pastebinned 3 lines of output: http://ix.io/7ps
[19:56:03] <kimundi> rusti: if true {spawn(loop { let _x = 1u;});}; ()
[19:56:04] -rusti- pastebinned 3 lines of output: http://sprunge.us/GVLX
[19:56:04] *** Joins: jadbaires (jadrian@74FB06AB.A66525C4.6119BA41.IP)
[19:56:17] <eddyb> haha I wonder what it's passing
[19:56:32] <krdln> kimundi: Whoa, but that works really slow and uses 1G of memory o.o
[19:56:34] <Matthias247> eddyb: ok, it does'nt support random code injections in the current isolate. But anyway I can't see a usecase for it. eval() was always considered as bad. And from performance side JIT is important, not eval()
[19:56:38] *** Joins: tom1 (tom@F616D77.77D422C6.AA74B5DB.IP)
[19:57:27] <eddyb> Matthias247: meh
[19:57:31] *** Quits: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP) (Ping timeout)
[19:57:34] <eddyb> rustilite: fn main(){let p: proc() = loop { let _x = 1u;}); p();}
[19:57:37] -rustilite- pastebinned 7 lines of output: http://ix.io/baA
[19:57:44] <kimundi> krdln: Well, you need to use the tools in the right way - spawning thousands of tasks just to compute a modulo each will be way slower than doing it serially
[19:57:46] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Input/output error)
[19:57:51] <eddyb> rustilite: fn main(){let p: proc() = loop { let _x = 1u;}; p();}
[19:57:54] -rustilite- pastebinned 7 lines of output: http://ix.io/baB
[19:58:06] <eddyb> ^^ so that works... hmm
[19:58:16] <eddyb> why is it translating the call, though?
[19:58:20] <krdln> kimundi: that was the plan! But in 0.9 it worked whole lot better
[19:58:26] <eddyb> if an argument is ty_bot, then the entire call is unreachable
[19:58:40] <eddyb> nmatsakis: another thing CFGs would fix? ^^
[19:59:09] *** Joins: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP)
[19:59:11] <kimundi> krdln: Hm, I don't know of any fundamental performance difference to 0.9
[19:59:19] <nmatsakis> eddyb: they would make it much easier to do that sort of analysis, if that's what you're asking
[19:59:19] <krdln> kimundi: it writes "2" and before writing anything else, uses few hundred megs
[20:00:04] <nmatsakis> or if this is trans we're talking about, then yeah it'd just fall out
[20:00:07] *** Joins: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP)
[20:00:39] <Matthias247> eddyb: you should simply agree that JS is just bad :-)
[20:00:52] <eddyb> Matthias247: the one thing I hate is memory consumption
[20:01:15] <eddyb> *at least* two bytes per character (sometime ten because of all the slices that are kept alive for some weird closure reason)
[20:01:18] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[20:01:39] *** Quits: jmgrosen` (user@moz-A3814C08.sd.sd.cox.net) (Ping timeout)
[20:02:06] <Earnestly> Heh, "how do you increment 1?  What is the next number?"  Actually kind of a pain in the arse qurestion
[20:02:07] *** Quits: jviereck (Adium@moz-57F9C94E.dclient.hispeed.ch) (Ping timeout)
[20:02:08] <eddyb> v8 has fancy GC magic, I can't deny that... but it still made my app/experiment really bad
[20:02:15] <Earnestly> question* even
[20:02:29] <Matthias247> Dart argues that it's JIT can be more efficient and easier to implement because of the type guarantees and I tend to believe that
[20:02:33] *** Quits: skade (skade@moz-6444221B.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:02:44] <strcat> I thought dart just discarded the types
[20:02:49] <strcat> I didn't think they gave any guarantees
[20:03:17] <mcpherrin> strcat: I thought the argument was that it generated JS more amenable to the typical tricks JITs used
[20:03:18] <strcat> you need to enable checking, and it's not static
[20:03:25] <Matthias247> it at least guarantees that the types don't mutate during runtime as you can't do object.newfunction = ...
[20:03:31] <strcat> mcpherrin: sure, but not because of the optional type annotations afaik
[20:03:42] <strcat> I'm pretty sure you can stick a string in a variable marked as a number
[20:03:49] <strcat> and it won't catch it in a normal run, since checks aren't enabled
[20:03:51] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[20:04:01] <Matthias247> strcat: that's true
[20:04:32] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[20:04:35] <Matthias247> mcpherrin: and that's also true. However when you use the Dart VM instead of the JS VM it's even more efficient
[20:04:37] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[20:05:01] <eddyb> yeah, well, it's just another Java
[20:05:21] *** Quits: asmyers (quassel@27B26EF5.A07F7734.FAA4474F.IP) (Ping timeout)
[20:05:44] <Matthias247> yes, you can see it that way
[20:06:02] <eddyb> same reason I won't touch Go
[20:06:23] <eddyb> I can do (almost) all the things they can in languages I've given up on
[20:06:52] *** Quits: krdln (Mibbit@moz-C271714F.dynamic.chello.pl) (Quit: http://www.mibbit.com ajax IRC Client)
[20:06:57] <strcat> eddyb: java without proper static typing ;\
[20:07:08] <eddyb> strcat: Java is all about Object
[20:07:23] <Matthias247> however I think it doesn't matter if it's similar than others when the things it borrows are good, brings some nice additions and good tooling
[20:07:25] <eddyb> (and primitives. I guess that's what you mean)
[20:07:38] <eddyb> and now... Rust... I feel pretty powerful with it
[20:07:45] <strcat> eddyb: still does static typing, when you aren't using reflection at least
[20:07:54] <strcat> dart doesn't
[20:08:11] <eddyb> I had to design my JS project to take advantage of v8 optimizations
[20:08:58] <eddyb> I can spend that time designing efficient structures
[20:09:52] <Matthias247> java can't target the browser directly, is more verbose and has a more inconsistent stdlib and no package manager. That would be me plus points for Dart
[20:09:52] *** Joins: krdln (Mibbit@moz-C271714F.dynamic.chello.pl)
[20:10:07] <strcat> Matthias247: dart can't target the browser directly either ;p
[20:10:36] <Matthias247> strcat: yes, but it's integrated so good in the standard tooling so that the user doesn't recognize
[20:10:39] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Quit: Leaving)
[20:10:52] *** Quits: q66_ (q66@moz-B6B9A58F.range86-163.btcentralplus.com) (Ping timeout)
[20:10:53] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[20:11:09] <strcat> Matthias247: I think they'll notice that despite Dart having big integers by default, that goes away when compiling to JS
[20:11:11] <strcat> ;s
[20:11:23] <Matthias247> read about how unity now targets the browser. C# -> IL -> CPP -> LLVM -> emscripten -> JS. Yeah ;)
[20:11:31] <comex> yeah, wtf were they thinking on that
[20:12:15] <Matthias247> strcat: probably in a few applications :) But I read somewhere that they are going to fix that problem
[20:12:32] <strcat> Matthias247: how?
[20:12:40] <strcat> seems too late to add big ints to es6
[20:12:42] <Havvy> comex:  Easiest thing to do at each step.
[20:12:46] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Ping timeout)
[20:13:19] <Havvy> But sounds like it's really easy to add bugs to.
[20:13:31] <comex> I meant the big integers :)
[20:13:36] <comex> though the unity thing sounds odd too
[20:13:48] *** Joins: ewalstad (Adium@moz-9A04E871.dedicated.static.sonic.net)
[20:13:54] <Matthias247> strcat: I guess through code generation which does not use JS ints directly
[20:14:14] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[20:14:15] <Matthias247> or depending on the case. Don't know
[20:14:26] <Matthias247> never cared about such big numbers :)
[20:14:34] <strcat> I doubt they'll do that, they'll stop being competitive in performance
[20:14:46] <strcat> Matthias247: you need them if you do anything with currency...
[20:15:08] <strcat> most application-level integers should probably be big integers
[20:15:23] <strcat> it's quite silly how many user-facing applications have overflow issues
[20:15:27] <strcat> or abuse floats
[20:15:53] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[20:16:01] *** Joins: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de)
[20:16:09] *** Quits: bytbox (s@moz-E1E7FAC3.washdc.fios.verizon.net) (Ping timeout)
[20:16:09] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[20:16:21] <Matthias247> strcat: 2^53 is still pretty big
[20:16:28] *** Joins: bytbox (s@moz-E1E7FAC3.washdc.fios.verizon.net)
[20:16:33] <strcat> Matthias247: not really.
[20:16:44] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[20:16:53] <strcat> not big enough to work with anything using 64-bit ints externally, and not big enough for most application-level integers
[20:17:06] <Matthias247> "most"?
[20:17:56] <Matthias247> For the applications I wrote in most cases 16bit would be ok ;)
[20:18:11] <strcat> if you want to deal with currency, you're going to be dealing with some fraction of cents based on the rounding that's acceptable
[20:18:28] <strcat> can't hold the US national debt even in tenths of a cent in 2**53
[20:18:43] <strcat> let alone dealing with bigger numbers
[20:18:47] <Matthias247> if you deal with currency you better don't use Javascript at all :)
[20:19:01] <Matthias247> maybe for bitcoins :-)
[20:19:15] <strcat> there are countless web applications dealing with finances/currency
[20:19:24] <strcat> or just games with user-facing numbers they have a lot of control over
[20:19:29] *** Joins: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com)
[20:19:47] <strcat> if you don't need to write robust/correct code, then I can see how it isn't a problem
[20:19:50] *** Havvy is now known as Havvy|shower
[20:20:02] <Matthias247> you can still use only strings on the front-end and to all number stuff reliably in the backend
[20:20:34] <Matthias247> And I would hope that finanical applications do most work and validation anyway in the backend
[20:21:04] <jensnockert> My poor national debt, how am I going to store it /o\
[20:21:06] <strcat> Matthias247: why? financial application != the user is moving money around with your server
[20:21:11] *** Quits: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[20:21:17] *** Quits: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP) (Ping timeout)
[20:22:10] <strcat> if the user drags the timeline on some data a big longer, no reason to make the backend generate a new graph for them
[20:22:16] <strcat> or w/e
[20:22:21] *** Quits: oberstet (quassel@moz-C1B18653.dynamic.mnet-online.de) (Client exited)
[20:22:37] <strcat> jensnockert: sure, or in-game currencies or other values in games ;p
[20:23:05] <strcat> integer overflow bugs are pretty common/visible in most complex games I've played
[20:23:14] <jensnockert> strcat: My point is that you can use all common 'big' number formats to store essentially any amount of cash.
[20:23:20] <Matthias247> Hmm, I remember a game were got insane amounts of money after your debts were high enough ;)
[20:23:22] <jensnockert> Where 'big' means 64-bit.
[20:23:41] <strcat> jensnockert: not in small fractions of a cent
[20:23:50] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[20:24:05] <Matthias247> but for the average game I think you can safely use double
[20:24:06] <strcat> jensnockert: depends on how you need to round
[20:24:20] <jensnockert> 2**53 is a lot of precision.
[20:24:23] *** Joins: dranov (dranov@D0C4F44C.1298A9BE.D602D2C5.IP)
[20:24:35] *** Joins: jmgrosen` (user@moz-A3814C08.sd.sd.cox.net)
[20:24:36] <strcat> jensnockert: and still far from enough for a lot of use cases
[20:24:47] <strcat> it's really, really silly to claim that use cases for big integers are rare
[20:25:23] <Matthias247> not a long time ago people managed to get an insame amount of precision from 24bit DSPs ;)
[20:25:29] *** Joins: q66_ (q66@moz-E4DC8CD9.range86-132.btcentralplus.com)
[20:25:32] <benoitc> apart the channell and the ml are there any other place i should check
[20:25:54] <Matthias247> benoitc: github and http://www.reddit.com/r/rust
[20:26:05] <jensnockert> strcat: I think the use cases are rare, but bigints allow you to write code that works instead of having to think and write good code, which is a good property.
[20:26:28] <strcat> not everything is a signal processing or scientific calculation where 'good enough' precision is fine
[20:26:53] <strcat> jensnockert: I really don't think it's rare
[20:26:53] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:26:59] <strcat> jensnockert: you're just used to writing incorrect code...
[20:27:01] *** Quits: Sorella (quildreen@89788746.FDF9B0F2.A95FAE2B.IP) (Quit: Ex-Chat)
[20:27:12] <strcat> 64-bit integers aren't really enough for rust's random access iterators
[20:27:14] *** Joins: skade (skade@moz-6444221B.dip0.t-ipconnect.de)
[20:27:21] <benoitc> Matthias247: thanks
[20:27:29] <jensnockert> strcat: People don't whine about Excel for handling money do they?
[20:27:34] <mcpherrin> I think people tend to not use bigints all the time because it's inconvenient to use libgmp compared to fixed ints
[20:27:34] *** Quits: edwardw (edwardw@FE274C20.C036752E.F5B522C5.IP) (Quit: Leaving...)
[20:27:47] <mcpherrin> not because they don't need them
[20:28:02] <comex> strcat: good luck opening an OS file that's bigger than 64 bits :)
[20:28:13] *** Joins: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu)
[20:28:20] <strcat> comex: who says it's one file?
[20:28:45] <strcat> random access iterator implies indexing, so it doesn't force you to read every value
[20:28:48] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[20:28:50] <strcat> and you can chain them
[20:29:12] <comex> mmm
[20:29:37] <strcat> the number we're discussing here is also 2^53, not 64-bit
[20:29:38] *** Joins: WalrusPony1 (retep998@moz-DBA66FA0.bstnma.east.verizon.net)
[20:29:51] *** Quits: jmgrosen` (user@moz-A3814C08.sd.sd.cox.net) (Ping timeout)
[20:29:54] *** Quits: WalrusPony (retep998@moz-DBA66FA0.bstnma.east.verizon.net) (Ping timeout)
[20:30:47] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:30:54] <jensnockert> Still, I haven't heard anyone whining about Excel losing their money, and they use IEEE 754.
[20:30:59] <bvssvni> jensnockert: I was thinking about Surface in cairo.rs
[20:31:14] <jensnockert> bvssvni: Yes?
[20:31:14] *** Joins: japaric2 (japaric@5264F756.A8CC9503.F29ED47E.IP)
[20:31:21] *** Quits: japaric1 (japaric@2AF8646A.4B327FDB.F29ED47E.IP) (Ping timeout)
[20:31:29] <bvssvni> jensnockert: perhaps it could be made a phantom type Surface<SurfaceType>
[20:31:33] *** Quits: TimAbraldes (quassel@moz-BF4D134B.hsd1.or.comcast.net) (Input/output error)
[20:31:44] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[20:31:53] *** Quits: skade (skade@moz-6444221B.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:31:56] <bvssvni> jensnockert: because there are some methods requiring an image surface
[20:32:02] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[20:32:03] <jensnockert> bvssvni: I'm considering making each Surface type a separate Rust type, what do you think about that?
[20:32:16] <jensnockert> And then a common trait Surface for all the stuff they have in common?
[20:32:28] <bvssvni> jensnockert: yeah, that sounds nice
[20:32:40] *** Joins: victorporof_ (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[20:32:40] <bvssvni> jensnockert: I am worried by safety
[20:33:26] <jensnockert> Me too, Cairo doesn't seem to make too many guarantees.
[20:33:30] <jensnockert> Silly C. :(
[20:33:39] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[20:34:20] *** Joins: skade (skade@moz-6444221B.dip0.t-ipconnect.de)
[20:34:37] <bvssvni> jensnockert: this way I could comment the trait and not needing to do that on each impl
[20:35:02] *** Quits: jackneill (jackneill@moz-9049B396.pool.digikabel.hu) (Input/output error)
[20:35:09] *** Quits: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com) (Quit: Connection closed for inactivity)
[20:35:23] <bvssvni> jensnockert: there are other methods that have similar name and functionality, that could be separated into traits
[20:35:23] *** Quits: skade (skade@moz-6444221B.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:35:48] <jensnockert> Yeah, pattern most importantly, and fonts.
[20:36:01] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Quit: canhtak)
[20:37:44] *** Joins: edwardw (edwardw@FE274C20.C036752E.F5B522C5.IP)
[20:37:56] <bvssvni> jensnockert: have you thought about performance when using to_c_str?
[20:38:19] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[20:38:21] <jensnockert> bvssvni: Nope, not yet.
[20:38:36] <bvssvni> jensnockert: or perhaps you didn't use it, I think I added it when upgrading the code to master
[20:38:50] <jensnockert> I did, I think.
[20:38:57] *** Quits: dranov (dranov@D0C4F44C.1298A9BE.D602D2C5.IP) (Ping timeout)
[20:38:58] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Client exited)
[20:39:05] *** Joins: askalski (akuda@2BA4E5A7.CC7751E8.6712E96B.IP)
[20:39:28] <comex> does Rust have explicit specialization for trait implementations yet?
[20:39:41] <strcat> no
[20:39:53] <comex> oh well
[20:40:13] <strcat> you asked that question as if it will surely get it ;p
[20:40:17] <bvssvni> jensnockert: if to_c_str allocates on the heap, then it will be bad for performance
[20:40:54] <comex> ;p
[20:41:08] <jensnockert> bvssvni: Haven't thought about performance yet, focus is on getting everything working, then optimize.
[20:41:26] <jensnockert> But yes, allocation isn't optimal.
[20:41:38] *** Quits: lll (Mibbit@moz-A653BFD7.hsd1.tn.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:41:43] <bvssvni> we could use CString instead
[20:41:56] *** Quits: sawrubh (uid6719@moz-5F4AA75A.irccloud.com) (Quit: Connection closed for inactivity)
[20:42:07] <jensnockert> Yeah, but you need to create that from a str somehow.
[20:42:39] *** Havvy|shower is now known as Havvy
[20:42:40] <bvssvni> that's easy
[20:42:52] <bvssvni> .to_c_str() is all it takes
[20:43:13] <bvssvni> but if we use &str it needs to allocate on each rendering
[20:44:58] *** Quits: _jrp_ (jasonp@36876914.423A118C.C9212293.IP) (Quit: leaving)
[20:45:01] <comex> here is my use case: http://pastie.org/private/pe3kxm8amphcb9irgnc2ua
[20:45:09] *** Quits: Ferreus (ferreus@moz-8213161C.lsn.wtnet.de) (Quit: WeeChat 0.4.4-dev)
[20:45:23] <comex> I want to simulate a trait that covers a set of types rather than just one
[20:45:41] <comex> i could use a dummy object, but that's not amazing
[20:46:09] <bvssvni> jensnockert: can I open an issue about it? at least to remember benchmarking it later
[20:46:16] <jensnockert> bvssvni: Feel free.
[20:46:28] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[20:46:55] <jensnockert> bvssvni: You're worring about show_text, show_text_glyphs, right?
[20:47:19] *** Joins: kngl1 (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[20:47:19] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Connection reset by peer)
[20:48:12] *** Quits: josh (josh@moz-E43DA1B.mpls.qwest.net) (Quit: josh)
[20:48:16] <bvssvni> jensnockert: and text_path
[20:48:37] <bvssvni> jensnockert: and select_font_face
[20:48:48] <bvssvni> jensnockert: there are lots of them
[20:49:09] <jensnockert> Yeah, but the other ones don't feel critical for performance.
[20:49:22] <jensnockert> I'm not going to change font every frame ;)
[20:50:02] <bvssvni> well, if the different is calling .to_c_str() to convert then I would prefer CString to be used everywhere
[20:50:19] *** Quits: edwardw (edwardw@FE274C20.C036752E.F5B522C5.IP) (Quit: Leaving...)
[20:50:31] <kmc> I have a struct with an &mut field, and I'm accessing the struct through &... can I mutate through the field?
[20:50:31] <jensnockert> How is a string slice stored internally_
[20:50:31] <jensnockert> ?
[20:50:32] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[20:50:36] <kmc> this seems to have changed in the past few months
[20:50:39] <jensnockert> You couldn't just borrow the contents?
[20:51:12] *** Joins: mihneadb (mihneadb@moz-9897BD47.static.ziggozakelijk.nl)
[20:51:13] <bvssvni> the problem is Cairo accepts null terminated strings only
[20:52:06] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[20:52:28] <jensnockert> Right, Rust doesn't null-terminate them…
[20:52:51] <jensnockert> Probably with good reason.
[20:52:56] * jensnockert dreams of ropes.
[20:53:12] <bvssvni> jensnockert: it's because you can slice parts of a string
[20:53:16] *** Quits: mihneadb (mihneadb@moz-9897BD47.static.ziggozakelijk.nl) (Quit: Bye)
[20:53:21] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[20:53:23] *** Quits: kngl1 (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Ping timeout)
[20:53:31] <jensnockert> Yes, makes total sense.
[20:53:43] <bvssvni> jensnockert: maybe we can rewrite show_text() to use cairo_show_glyphs ()
[20:53:56] *** Joins: glaebhoerl (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[20:54:07] <jensnockert> Isn't show_text just a wrapper around cairo_show_glyphs?
[20:54:20] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[20:54:39] <bvssvni> if we can allocate on the stack, it will be faster
[20:55:03] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[20:55:07] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[20:55:15] <jensnockert> But then someone is going to pass in a huge string sometime and it poops.
[20:56:37] *** Quits: twi (Adium@E1F4AFAB.BA536DA5.C605BBF7.IP) (Quit: Leaving.)
[20:56:38] <bvssvni> jensnockert: if it is beyond a certain number of characters, we can allocate on the heap
[20:56:54] <bvssvni> jensnockert: or doing something more clever
[20:56:58] *** Quits: Savago (Savago@816F9901.E820043D.D4C04133.IP) (Quit: Savago)
[20:57:16] <bvssvni> jensnockert: git clone git://git.cairographics.org/git/cairo
[20:57:50] *** Quits: askalski (akuda@2BA4E5A7.CC7751E8.6712E96B.IP) (Quit: Wychodzi)
[20:58:09] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[20:58:57] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:59:09] <bvssvni> jensnockert: it would be cool if we could use &str, for slicing reasons
[21:00:17] *** Quits: pcwalton (pcwalton@moz-24157589.mtv2.mozilla.com) (Quit: pcwalton)
[21:00:51] *** Joins: skade (skade@moz-6444221B.dip0.t-ipconnect.de)
[21:00:56] *** Quits: skade (skade@moz-6444221B.dip0.t-ipconnect.de) (Quit: skade)
[21:01:02] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Client exited)
[21:02:18] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Client exited)
[21:02:43] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:03:17] *** Joins: pcwalton (pcwalton@moz-24157589.mtv2.mozilla.com)
[21:03:17] *** ChanServ sets mode: +ao pcwalton pcwalton
[21:04:35] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[21:04:55] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[21:05:08] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Quit: canhtak)
[21:06:02] *** Joins: dherman (dherman@moz-62518563.mtv2.mozilla.com)
[21:06:02] *** ChanServ sets mode: +ao dherman dherman
[21:06:21] *** Joins: josh (josh@moz-E43DA1B.mpls.qwest.net)
[21:06:31] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[21:06:50] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[21:06:54] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[21:07:33] *** Joins: azita (Azita@moz-62518563.mtv2.mozilla.com)
[21:07:55] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Quit: canhtak)
[21:07:56] <bvssvni> jensnockert: do you think it can be translated to Rust? https://gist.github.com/bvssvni/9651312
[21:08:57] *** Joins: int3_ (int3_@moz-768E0B58.hfc.comcastbusiness.net)
[21:09:26] <nszceta> Do you think ___ can be translated to Rust given infinite time -> True
[21:10:09] <bvssvni> nszceta: well, considering the types we have Rust bindings for
[21:10:51] <strcat> bvssvni: can always add bindings for other functions
[21:11:02] *** Quits: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net) (Ping timeout)
[21:11:13] <aatch> likelyhood = time/challenge :. lim time -> infinity => likelyhood = infinity
[21:11:15] <strcat> I don't think there's a C type you can't represent in rust at least in a platform dependent way
[21:11:21] <strcat> we even have varargs support
[21:11:47] <bvssvni> there are some calls like 'status = cr->backend->glyphs (cr, glyphs, num_glyphs, i);' that access members we don't have in cairo.rs
[21:11:59] <bvssvni> strcat: we have varargs?
[21:12:10] <strcat> yes we have FFI varargs support
[21:12:21] *** Quits: dschatzberg (dschatzber@moz-E2680405.bu.edu) (Input/output error)
[21:12:36] <aatch> You can't write a varargs function yourself though.
[21:13:16] <mcpherrin> Is there an inherient reason for that, or is it a design decision?
[21:13:18] <jensnockert> bvssvni: Yes, but it doesn't make much sense, it is part of the 'toy' API that you shouldn't use.
[21:13:30] <nszceta> why is python 3.x not supported by rust
[21:13:41] <mcpherrin> nszceta: in what way?
[21:13:41] <strcat> mcpherrin: not sure why you'd want to make more evil varargs functions :P
[21:13:52] <mcpherrin> strcat: I'm not saying I *want* then, just wondering :)
[21:14:02] <strcat> mcpherrin: well then we'd need a way to unpack the arguments, etc.
[21:14:03] <bvssvni> jensnockert: we could just go for CString if we need the performance
[21:14:19] *** Joins: derek_c (derek@moz-1A04E91E.cit.cornell.edu)
[21:14:27] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[21:14:29] <nszceta> mcpherrin: in the README.md on the mozilla/rust page
[21:14:31] <mcpherrin> strcat: right, but that's doable if we wanted
[21:15:05] *** Quits: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu) (Quit: lkuper)
[21:15:07] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[21:15:12] <strcat> mcpherrin: lets wait for a use case ;p
[21:15:12] <jensnockert> bvssvni: Yes, but that part of the API isn't designed to be fast and useful, it is meant for short demos (according to the docs), therefore optimizing it feels a bit pointless.
[21:15:47] <mcpherrin> nszceta: oh, I forgot that README existed.  Dunno, but patches to support 3.x would be nice if it's doable :P
[21:15:53] <jensnockert> bvssvni: Most can use the Glyph API instead, which has the advantages of CString.
[21:15:54] <nszceta> haha
[21:17:13] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[21:17:16] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Input/output error)
[21:17:47] *** Joins: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu)
[21:17:56] *** Joins: brontron (brontron@moz-CF02444.dia.static.qwest.net)
[21:17:58] <bvssvni> jensnockert: I agree
[21:19:06] <krdln> Are there any channels with limited (even to 1) capacity?
[21:19:36] *** pmoore|dinner is now known as pmoore|away
[21:20:12] *** Quits: ewalstad (Adium@moz-9A04E871.dedicated.static.sonic.net) (Ping timeout)
[21:20:20] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[21:20:20] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[21:20:25] *** Joins: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com)
[21:20:46] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[21:21:02] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Input/output error)
[21:21:10] *** Joins: twi (Adium@moz-A3B8EA95.static.bezeqint.net)
[21:21:30] *** Joins: jmgrosen` (user@moz-848F6087.sb.sd.cox.net)
[21:21:33] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[21:21:52] *** Joins: ewalstad (Adium@moz-9A04E871.dedicated.static.sonic.net)
[21:22:06] <ehsanul> kdrln: 0-capacity with the upcoming sync chan maybe? https://github.com/mozilla/rust/pull/12991
[21:22:07] *** Quits: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[21:22:24] <ehsanul> krdln: oops
[21:22:43] <bvssvni> jensnockert: if you want examine the docs https://github.com/bvssvni/rust-cairo
[21:23:02] <bvssvni> jensnockert: just clone it and type 'make doc'
[21:24:40] <krdln> ehsanul: so none now, I'll wait :) User-selected, bounded capacity will be good too.
[21:25:29] *** Quits: derek_c (derek@moz-1A04E91E.cit.cornell.edu) (Ping timeout)
[21:26:51] <kmc> sfackler: I'm building a PhfMap with almost 10,000 keys and it adds less than 3 seconds to my crate compile time
[21:26:54] <kmc> that's pretty good!!
[21:27:23] <sfackler> cool!
[21:28:08] *** Quits: gwty (gwtypc@E28F3FC8.A4938A92.25B273F5.IP) (Ping timeout)
[21:29:14] *** Joins: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net)
[21:30:45] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[21:31:56] *** Joins: refold (gman@moz-42D68426.a258.priv.bahnhof.se)
[21:32:05] <nrc> Why doesn't this work:
[21:32:10] <nrc> unsized trait T2 {
[21:32:11] <nrc>     fn f() -> Self;
[21:32:13] <nrc> }
[21:32:14] <nrc> struct S;
[21:32:16] <nrc> impl T2 for S {
[21:32:17] <nrc>     fn f() -> Self {
[21:32:19] <nrc>         ~S;
[21:32:20] <nrc>     }    
[21:32:22] <nrc> }
[21:32:35] <bvssvni> jensnockert: thoughts about a Pango binding for Rust?
[21:32:39] <sfackler> ~S isn't S?
[21:32:40] <nrc> the `fn f() -> Self {` line
[21:32:50] <sfackler> you can't use Self in an impl
[21:32:57] *** Quits: Guest (textual@3E0487DF.D8252BC.9532F1CE.IP) (Ping timeout)
[21:32:58] <jensnockert> bvssvni: Yes, but Clutter / GStreamer is first priority for me.
[21:32:58] <sfackler> it has to be substitued with the actual impl type
[21:33:02] *** Joins: tcsc (tcsc@moz-5E71BAD9.hsd1.ma.comcast.net)
[21:33:09] <nrc> sfackler: the second one is the answer I want :-)
[21:33:13] <nrc> thanks!
[21:33:21] <bvssvni> jensnockert: are you use the same xml tool to generate code in these projects?
[21:33:31] <jensnockert> bvssvni: Yes, already do.
[21:35:00] <bvssvni> jensnockert: do you have links to Clutter and GStreamer websites?
[21:35:27] *** Quits: mye (mye@moz-DACF5F52.dip0.t-ipconnect.de) (Quit: mye)
[21:35:38] <jensnockert> bvssvni: https://developer.gnome.org/clutter/stable/, http://gstreamer.freedesktop.org/
[21:36:36] <sfackler> nrc: there's an open issue to allow Self in impls, btw
[21:37:01] <bvssvni> jensnockert: this is cool!
[21:37:02] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[21:37:17] *** Quits: glaebhoerl (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Ping timeout)
[21:37:27] *** Joins: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP)
[21:38:10] *** Quits: nszceta (nszceta@moz-E458A7C0.pharm.pitt.edu) (Quit: Textual IRC Client: www.textualapp.com)
[21:38:34] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[21:38:56] *** Joins: glaebhoerl (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[21:38:59] *** Quits: kris (kris@moz-47812C15.static.bcbnet.dk) (Ping timeout)
[21:40:30] *** Quits: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de) (Quit: Leaving)
[21:40:36] *** Joins: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de)
[21:44:52] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[21:45:02] <jensnockert> bvssvni: \o/
[21:45:11] *** Quits: dherman (dherman@moz-62518563.mtv2.mozilla.com) (Quit: dherman)
[21:45:55] <sfackler> kmc: is that overall compile time or the time reported by the info span?
[21:46:06] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Quit: canhtak)
[21:47:30] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Ping timeout)
[21:48:36] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[21:49:37] *** Quits: glaebhoerl (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Quit: )
[21:49:42] *** Quits: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu) (Quit: lkuper)
[21:50:08] *** Quits: fabiand (fabiand@moz-7B27AC98.adsl.alicedsl.de) (Quit: Verlassend)
[21:50:15] <bvssvni> jensnockert: what about putting docs back into the rsi xml?
[21:50:26] <jensnockert> bvssvni: It's a good idea.
[21:50:38] <jensnockert> If you have any ideas on the format, that would be very welcome.
[21:50:39] *** Quits: pcwalton (pcwalton@moz-24157589.mtv2.mozilla.com) (Quit: pcwalton)
[21:51:05] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[21:51:33] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[21:51:38] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:51:51] <bvssvni> jensnockert: since docs are markdown, perhaps we could link in some files?
[21:52:04] *** Quits: janra (Janus@1CDC5701.A48867D7.52E4E107.IP) (Ping timeout)
[21:52:29] <bvssvni> jensnockert: of if rustdoc generates JSON ...
[21:52:38] <bvssvni> s/of/or
[21:54:40] *** Quits: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net) (Ping timeout)
[21:54:53] *** Quits: Blub\1 (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[21:54:53] *** Joins: pcwalton (pcwalton@moz-24157589.mtv2.mozilla.com)
[21:54:54] *** ChanServ sets mode: +ao pcwalton pcwalton
[21:54:56] *** Joins: Blub\1 (wry@620605B3.71150E1A.237AE2BA.IP)
[21:55:06] *** Joins: Guest (textual@3E0487DF.D8252BC.9532F1CE.IP)
[21:57:16] <kmc> sfackler: it's the difference in overall compile time, so also includes the linker dealing with that data, etc
[21:57:23] <kmc> how do I get the more fine-grained info?
[21:57:52] *** Quits: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de) (Quit: Leaving)
[21:57:58] <jensnockert> bvssvni: Maybe, I don't know what would be best.
[21:58:07] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Input/output error)
[21:58:09] *** Quits: azita (Azita@moz-62518563.mtv2.mozilla.com) (Quit: azita)
[21:58:26] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[21:58:37] *** Quits: josh (josh@moz-E43DA1B.mpls.qwest.net) (Quit: josh)
[21:58:43] <bvssvni> jensnockert: the xml is very nice
[21:59:02] *** Quits: ChrisOei (ChrisOei@moz-53A9266A.blurb.com) (Client exited)
[21:59:05] *** Joins: ChrisOei (ChrisOei@moz-53A9266A.blurb.com)
[21:59:13] <sfackler> kmc: set the PHF_STATS environment variable to something when compiling
[21:59:37] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[21:59:40] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[21:59:46] *** Quits: pcwalton (pcwalton@moz-24157589.mtv2.mozilla.com) (Quit: pcwalton)
[21:59:46] *** Quits: ewalstad (Adium@moz-9A04E871.dedicated.static.sonic.net) (Quit: Leaving.)
[21:59:47] <kmc> tokenizer/char_ref/data.rs:40:50: 9895:3 note: PHF generation took 0.244486 seconds
[21:59:49] <kmc> very nice
[21:59:53] <sfackler> noice
[22:00:13] *** Joins: azita (Azita@moz-62518563.mtv2.mozilla.com)
[22:01:00] <bvssvni> jensnockert: I'll open an issue on RSI for doc syntax
[22:01:05] <jensnockert> Yes please.
[22:01:07] <jensnockert> Thank you.
[22:01:10] *** Joins: pcwalton (pcwalton@moz-24157589.mtv2.mozilla.com)
[22:01:10] *** ChanServ sets mode: +ao pcwalton pcwalton
[22:01:48] <kmc> it's every HTML entity name + all their prefixes
[22:01:55] *** Joins: derek_c (derek@moz-EBB8D3E3.cit.cornell.edu)
[22:02:04] *** jorendorff is now known as jorendorff_away
[22:04:08] <kmc> sfackler: hm, is the hash table generation non-deterministic?
[22:05:16] <sfackler> yep
[22:05:30] <sfackler> it uses a randomized algorithm
[22:05:31] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[22:05:55] *** Joins: ewalstad (Adium@moz-9A04E871.dedicated.static.sonic.net)
[22:06:04] *** Quits: papanikge (papanikge@moz-7FCB17B7.access.hol.gr) (Quit: WeeChat 0.4.3)
[22:06:15] *** Joins: papanikge (papanikge@moz-7FCB17B7.access.hol.gr)
[22:06:30] <kmc> ok
[22:06:44] <kmc> so rebuilding could change the performance of my hash table?
[22:07:01] <kmc> deterministic builds are nice. maybe we should add a mode where the randomness comes from a hash of the input
[22:07:59] <kmc> mind if I open a GitHub issue for that?
[22:08:10] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[22:08:11] *** Joins: saml_ (saml@moz-AFAADF83.nycmny.east.verizon.net)
[22:08:18] <sfackler> kmc: go for it
[22:08:25] <sfackler> the performance of the hash table will always be the same
[22:08:31] <sfackler> it's the generation time that'll change
[22:09:34] <sfackler> it's using the task local RNG right now, but I could switch it to an unseeded xorshift rng or something
[22:09:49] <kmc> i see
[22:10:51] <sfackler> it's using a randomized search to build this disps array: https://github.com/sfackler/rust-phf/blob/master/src/phf.rs#L46
[22:10:58] *** Joins: dotfelix (dotfelix@A85169A3.829DBEF3.40E092AA.IP)
[22:11:15] <sfackler> which tweaks the hashed values of the strings to make it avoid collisions in the entries table
[22:13:19] *** Quits: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP) (Quit: Lost terminal)
[22:13:28] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[22:14:13] *** Joins: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com)
[22:14:32] *** Quits: dotfelix (dotfelix@A85169A3.829DBEF3.40E092AA.IP) (Ping timeout)
[22:17:02] <sfackler> the basic idea is: get three uncorrelated hashes of the string, a, b, and c. Use a to index into the displacement table. Use the displacements along with hashes b and c to find the index in the entries table that that string would end up at.
[22:17:35] *** Parts: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net) ()
[22:17:54] *** jorendorff_away is now known as jorendorff
[22:17:59] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[22:18:31] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Quit: Leaving)
[22:18:37] <sfackler> so the lookup cost is a run of SipHash, a tiny bit of math and an equality check
[22:18:38] *** Quits: sigma (sigma@moz-55097A0B.range86-163.btcentralplus.com) (Ping timeout)
[22:18:44] *** Joins: krdln1 (krdln@moz-C271714F.dynamic.chello.pl)
[22:18:44] *** Quits: q66_ (q66@moz-E4DC8CD9.range86-132.btcentralplus.com) (Ping timeout)
[22:19:07] *** Quits: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com) (Ping timeout)
[22:19:07] *** Quits: Rym (y@1AD9BB8E.D1C9731D.8772DA20.IP) (Ping timeout)
[22:19:33] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[22:19:37] <sfackler> i should really switch to a faster hash function, but *effort*
[22:20:18] *** Quits: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:20:57] *** Joins: kris (kris@D954AD01.1D0A8692.683E4874.IP)
[22:21:10] *** Joins: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com)
[22:22:30] *** Parts: krdln1 (krdln@moz-C271714F.dynamic.chello.pl) ()
[22:22:50] *** Joins: krdln1 (krdln@moz-C271714F.dynamic.chello.pl)
[22:22:51] *** Quits: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[22:23:03] *** Parts: krdln1 (krdln@moz-C271714F.dynamic.chello.pl) ()
[22:23:14] *** Quits: kris (kris@D954AD01.1D0A8692.683E4874.IP) (Ping timeout)
[22:23:42] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[22:24:15] *** Joins: Rym (y@1AD9BB8E.D1C9731D.8772DA20.IP)
[22:24:27] *** Quits: derek_c (derek@moz-EBB8D3E3.cit.cornell.edu) (Ping timeout)
[22:24:46] *** Joins: sigma (sigma@moz-55097A0B.range86-163.btcentralplus.com)
[22:25:09] *** Quits: paraze (paraze@moz-DAFFEE79.w90-27.abo.wanadoo.fr) (Client exited)
[22:25:15] *** Joins: q66_ (q66@moz-E4DC8CD9.range86-132.btcentralplus.com)
[22:25:36] *** Joins: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com)
[22:25:38] *** Joins: krdln1 (krdln@moz-C271714F.dynamic.chello.pl)
[22:25:44] *** Joins: kris (kris@D954AD01.1D0A8692.683E4874.IP)
[22:26:46] *** Quits: krdln (Mibbit@moz-C271714F.dynamic.chello.pl) (Quit: http://www.mibbit.com ajax IRC Client)
[22:27:29] *** Quits: Guest (textual@3E0487DF.D8252BC.9532F1CE.IP) (Ping timeout)
[22:28:03] *** Quits: kris (kris@D954AD01.1D0A8692.683E4874.IP) (Ping timeout)
[22:28:10] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[22:28:17] *** Joins: Guest (textual@3E0487DF.D8252BC.9532F1CE.IP)
[22:29:12] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Client exited)
[22:29:57] *** Quits: ricepuddin (graham@moz-2E63C5CF.wlan.ic.ac.uk) (Ping timeout)
[22:30:03] *** Joins: genbattle (quassel@moz-44ABD640.jetstream.xtra.co.nz)
[22:30:58] *** Joins: dotfelix (dotfelix@6110F704.AB3AC796.40E092AA.IP)
[22:31:19] *** Joins: nszceta (nszceta@B4D01FC3.8CCD02F5.D59EF1DC.IP)
[22:31:33] *** Joins: phildawes (Mibbit@moz-6FFBC57E.cable.virginm.net)
[22:32:10] *** Quits: cschneid (cschneid@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[22:33:20] <phildawes> Hello!. Another n00b question: If I have a Vec of owned strings, v: Vec<~str>, how to I pass it to a fn that wants a slice of string references?  &[&str]
[22:34:13] <phildawes> v.slice() gives me &[~str], but I don't know how to get &[&str] 
[22:34:31] <sfackler> you'll have to create a Vec of &str and then call as_slice on it
[22:34:50] <mcpherrin> ^ this is imho the worst :-(
[22:35:33] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[22:35:33] *** Quits: rntz (rntz@moz-E7065CE4.cmdnnj.fios.verizon.net) (Ping timeout)
[22:35:48] <phildawes> ah ok. there's no way to do it without creating a new vector?
[22:36:00] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[22:36:00] *** Joins: skade (skade@moz-1EC0F118.pools.arcor-ip.net)
[22:36:01] *** Quits: Rym (y@1AD9BB8E.D1C9731D.8772DA20.IP) (Ping timeout)
[22:36:05] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[22:36:12] <sfackler> nope
[22:36:23] *** Quits: dotfelix (dotfelix@6110F704.AB3AC796.40E092AA.IP) (Ping timeout)
[22:36:27] <phildawes> cool thanks
[22:36:40] <sfackler> I think niko had some ideas on doing variance with ~str -> &str
[22:36:56] *** Joins: Rym (y@1AD9BB8E.D1C9731D.8772DA20.IP)
[22:37:35] *** Quits: brontron (brontron@moz-CF02444.dia.static.qwest.net) (Ping timeout)
[22:38:05] <phildawes> is it because if the called function popped an element it wouldn't call the destructor?
[22:38:20] <sfackler> if you *really* wanted, you could use std::cast::transmute to go from a &[~str] to a &[&str] but please don't :)
[22:38:34] <sfackler> phildawes: since &[&str] is immutable, I don't think there are actually any safety issues
[22:39:00] <sfackler> actually, transmuting will probably blow things up
[22:39:00] <mcpherrin> Are a ~str and &str the same memory layout?
[22:39:04] <strcat> the function should take an iterator of slices
[22:39:06] <mcpherrin> I don't think that would work
[22:39:08] <strcat> mcpherrin: atm, no
[22:39:11] <sfackler> there was talk of allowing it to work iirc
[22:39:13] *** Quits: genbattle (quassel@moz-44ABD640.jetstream.xtra.co.nz) (Client exited)
[22:39:15] <strcat> anyway it should take an iterator
[22:39:15] *** Joins: brontron (brontron@moz-CF02444.dia.static.qwest.net)
[22:39:22] <strcat> unless it *really* needs them to be contiguous
[22:39:44] <strcat> otherwise it forces allocation of an intermediate vector in many cases
[22:39:59] <phildawes> ok
[22:40:30] <sfackler> It could also take a <S: Str>... &[S] but I've found that a bit limiting on what string methods you can actually end up calling
[22:42:07] <phildawes> the fn wants random access to elements, so isn't an iterator. Will have a think about this though thanks
[22:42:44] <kmc> sfackler: PhfMap has fn find<'a>(&'a self, key: & &str) -> Option<&'a T>  -- this could be -> Option<&'static T> aside from matching the trait, right?
[22:42:53] <strcat> phildawes: iterators are meant to allow random access
[22:43:15] <strcat> slices force memory to be contiguous so taking one as a parameter isn't very generic
[22:43:18] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[22:43:19] <strcat> can't use a ring buffer, for example
[22:43:33] <sfackler> kmc: impling Map for &'static str ends up making it pretty unusable for reasons I can't remember
[22:43:41] <phildawes> oh cool - something else for me to take a look at. 
[22:43:57] <sfackler> but it doesn't matter, since the lifetime of the map is 'static, you can pull Option<&'static T> out of it via find just fine
[22:44:07] <phildawes> I was assuming iterators only supported stepping forward
[22:44:32] <sfackler> the basic Iterator trait does, but there's a whole hierarchy on top of that. You'd want to look at RandomAccessIterator
[22:44:40] <strcat> it's not finished though
[22:44:49] <strcat> it's in a very primitive state
[22:45:06] <kmc> sfackler: could add it as a non-trait method, though.  and 'static is the lifetime of the map, but not necessarily the key that I pass to find()
[22:45:09] <sfackler> C++ has a similar hierarchy: http://www.cplusplus.com/reference/iterator/
[22:45:13] <mcpherrin> http://static.rust-lang.org/doc/master/std/iter/trait.RandomAccessIterator.html
[22:45:31] <strcat> sfackler: our iterators aren't like C++ iterators though
[22:45:33] <sfackler> kmc: the lifetime of the key you pass to find doesn't matter though
[22:45:33] <strcat> they're ranges
[22:45:40] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[22:45:44] <strcat> a C++ iterator represents a position
[22:45:44] <kmc> sfackler: oh, I misread
[22:45:46] <sfackler> strcat: yeah
[22:45:46] <kmc> sounds good then :)
[22:45:53] <strcat> a rust iterator represents a range of data
[22:45:58] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[22:46:00] <phildawes> nice
[22:46:12] <strcat> bidirectional iterators are quite different with the two ways
[22:46:30] *** Joins: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net)
[22:46:33] <strcat> a bidirectional range lets you pop off either end (next, next_back)
[22:46:52] <cgaebel> Is there any way for me to express the concept that "this pointer into a tree is vaild until a node is removed from the tree" in rust?
[22:46:57] <strcat> a bidirectional iterator in C++ lets you move forwards or backwards - not going past either end is up to you
[22:47:03] <strcat> cgaebel: no
[22:47:13] <cgaebel> well that's unfortunate
[22:47:31] <strcat> rust won't let you modify the tree if you have an iterator
[22:47:34] *** Quits: m-r-r (m-r-r@moz-4FB14902.rev.sfr.net) (Quit: goto bed;)
[22:47:36] <strcat> even if it won't invalidate anything
[22:47:40] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[22:47:42] <strcat> just how lifetimes work
[22:47:46] <strcat> 18:46:39        @kmc | sfackler: could add it as a non-trait method, though.  and 'static is the lifetime of the map, but not
[22:47:49] <cgaebel> still unfortunate
[22:48:01] *** Joins: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com)
[22:48:11] <strcat> ugh, hit the wrong hit
[22:48:17] <strcat> wrong key*
[22:48:54] <jensnockert> bvssvni: Thanks for the input, I'll read it tomorrow. I need to go to bed.
[22:48:55] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[22:49:04] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[22:49:25] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:49:52] *** Joins: derek_c (derek@moz-CF378A64.cit.cornell.edu)
[22:50:02] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[22:51:08] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[22:51:11] <krdln1> Can I make swap illegal for my struct, still allowing every other operation on &mut?
[22:51:31] *** Quits: Jesse (jruderman@moz-62518563.mtv2.mozilla.com) (Quit: Jesse)
[22:51:35] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[22:52:20] *** krdln1 is now known as krdln
[22:52:34] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[22:52:59] <sp3d> krdln1: I don't think so, but you might be able to make the two unswappable members private members of a publicly-visible substruct, and use that to require that only one is &mut-accessible at once
[22:53:08] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[22:53:23] <strcat> krdln: if you expose &mut, you allow people to assign to it and swap
[22:53:27] *** Quits: dapz (textual@moz-ADE1780.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:53:29] <strcat> at least if they can create another of that type
[22:53:36] *** Joins: dapz (textual@moz-ADE1780.hsd1.ca.comcast.net)
[22:53:41] <sp3d> if there are safety dependencies on values of fields beyond what the type requires, you generally shouldn't make them public
[22:53:52] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[22:54:00] <sp3d> or maybe "what the type guarantees" is a better phrasing
[22:54:05] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[22:54:15] *** Joins: Jesse (jruderman@moz-62518563.mtv2.mozilla.com)
[22:54:31] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[22:54:51] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[22:54:56] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[22:54:57] *** Quits: phildawes (Mibbit@moz-6FFBC57E.cable.virginm.net) (Quit: http://www.mibbit.com ajax IRC Client)
[22:55:53] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[22:56:34] *** Quits: int3_ (int3_@moz-768E0B58.hfc.comcastbusiness.net) (Client exited)
[22:56:46] <krdln> so I will have to write a wrapper. But that will add another layer of pointer indirection
[22:56:55] *** Joins: int3_ (int3_@moz-768E0B58.hfc.comcastbusiness.net)
[22:57:06] *** Quits: cornelius (Mibbit@moz-7AD9232F.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[22:57:19] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Quit: canhtak)
[22:57:34] *** Quits: Guest_ (textual@moz-6FD8C94B.hfc.comcastbusiness.net) (Ping timeout)
[22:58:13] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:58:43] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[22:58:46] *** Quits: int3_ (int3_@moz-768E0B58.hfc.comcastbusiness.net) (Ping timeout)
[22:59:14] *** Quits: bvssvni (Mibbit@moz-A47B6F8E.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[22:59:46] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:00:21] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[23:01:09] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[23:02:10] *** Quits: pcwalton (pcwalton@moz-24157589.mtv2.mozilla.com) (Quit: pcwalton)
[23:02:34] *** Quits: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru) (Connection reset by peer)
[23:02:57] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[23:03:07] *** Joins: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru)
[23:03:48] *** Quits: brson (brson@moz-62518563.mtv2.mozilla.com) (Ping timeout)
[23:04:13] *** Joins: leowoe (Leo@moz-8A753E71.dip0.t-ipconnect.de)
[23:05:52] *** Quits: marianoguerra (marianogue@moz-64A100C1.dip0.t-ipconnect.de) (Ping timeout)
[23:06:35] *** Quits: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP) (Quit: nn)
[23:06:40] *** Joins: brson (brson@moz-62518563.mtv2.mozilla.com)
[23:06:40] *** ChanServ sets mode: +ao brson brson
[23:06:54] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[23:06:59] *** Quits: skade (skade@moz-1EC0F118.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:07:41] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Quit: canhtak)
[23:08:14] *** Quits: ewalstad (Adium@moz-9A04E871.dedicated.static.sonic.net) (Quit: Leaving.)
[23:09:03] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[23:09:17] *** Quits: Jesse (jruderman@moz-62518563.mtv2.mozilla.com) (Quit: Jesse)
[23:09:41] *** Quits: enand (erik@67F9F6F9.5AF75EBF.841A3ED3.IP) (Ping timeout)
[23:09:46] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[23:09:51] *** Quits: Rym (y@1AD9BB8E.D1C9731D.8772DA20.IP) (Ping timeout)
[23:10:06] *** Joins: Rym (y@1AD9BB8E.D1C9731D.8772DA20.IP)
[23:10:44] *** Quits: cgaebel (clark@moz-F9D89110.nyc.res.rr.com) (Client exited)
[23:11:05] *** Joins: leonvv (leonvv@moz-9F89119B.ip.telfort.nl)
[23:11:15] *** Joins: cgaebel (clark@moz-F9D89110.nyc.res.rr.com)
[23:12:16] <cgaebel> yo strcat, how do I get a stage2 rustc with debugging symbols in both rust code and llvm code?
[23:12:38] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[23:12:40] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Client exited)
[23:12:42] <cmr> cgaebel: RUSTFLAGS="-g" for the rustc side of it
[23:12:47] *** Quits: Rym (y@1AD9BB8E.D1C9731D.8772DA20.IP) (Ping timeout)
[23:12:47] <cmr> dunno about llvm
[23:13:00] <cgaebel> yeah I got that part yesterday
[23:13:04] <cgaebel> missing the other half, though ;)
[23:13:10] *** Joins: ewalstad (Adium@moz-9A04E871.dedicated.static.sonic.net)
[23:13:35] *** Quits: tiffany (kawaii@moz-7AF84602.dhcp.embarqhsd.net) (Ping timeout)
[23:13:42] *** Quits: brontron (brontron@moz-CF02444.dia.static.qwest.net) (Ping timeout)
[23:14:17] *** Joins: Rym (y@1AD9BB8E.D1C9731D.8772DA20.IP)
[23:14:19] <leonvv> What would be the best way to implement a tree structure in Rust? Are raw pointers + unsafe code the best way to make multiple pointers to the same data possible?
[23:14:25] *** Quits: valentin (Thunderbir@4F2F9D91.E06BF678.B9540FE1.IP) (Ping timeout)
[23:14:31] <cgaebel> use a Rc<T>
[23:14:33] *** Joins: brontron (brontron@moz-CF02444.dia.static.qwest.net)
[23:14:36] <cgaebel> just refcount the nodes
[23:14:50] <cgaebel> it's the easiest way, although isn't free (unfortunately)
[23:15:15] <cgaebel> note that Rc<T> doesn't use atomics, so the overhead's pretty minimal
[23:15:33] *** Joins: valentin (Thunderbir@4F2F9D91.E06BF678.B9540FE1.IP)
[23:15:40] *** Quits: luz (lu.cy@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[23:15:49] <leonvv> cgaebel: thanks, will look into it
[23:16:29] <strcat> if it's a tree without parent pointers then ~ works
[23:16:35] <strcat> if it has parent pointers you need Rc/Weak
[23:16:44] <cgaebel> dear god people still make those!?
[23:16:50] *** Quits: derek_c (derek@moz-CF378A64.cit.cornell.edu) (Ping timeout)
[23:16:55] *** Joins: tiffany (kawaii@moz-7AF84602.dhcp.embarqhsd.net)
[23:16:59] <strcat> well if you don't have parent pointers then you don't have more than one pointer to the same node ;p
[23:17:03] *** Quits: Guest (textual@3E0487DF.D8252BC.9532F1CE.IP) (Ping timeout)
[23:17:05] <strcat> unless it's not a tree
[23:17:15] <cgaebel> he wants multiple pointers to the same data possible
[23:17:21] *** Joins: pcwalton (pcwalton@moz-24157589.mtv2.mozilla.com)
[23:17:21] <cgaebel> *or she
[23:17:21] *** ChanServ sets mode: +ao pcwalton pcwalton
[23:17:26] <cmr> parent pointers aren't strictly a tree either..
[23:17:35] <strcat> cmr: the ownership is still a tree
[23:17:40] <cmr> sure
[23:17:41] *** Quits: victorporof_ (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[23:17:44] <cgaebel> I swear it's a graph if you have parent pointers...
[23:17:48] <cmr> the datastructure isn't though.
[23:17:50] <strcat> cgaebel: yeah, a DAG at least
[23:18:03] <strcat> cgaebel: anyway I'm not counting non-owning ptrs
[23:18:06] <strcat> as part of the structure ;p
[23:18:08] <o11c> if you count the parent pointers, it's not acyclic
[23:18:21] <cgaebel> nomenclature's hard. let's just call it "stuff in RAM"
[23:18:25] <o11c> but I wouldn't count them
[23:19:07] <strcat> the structure seems like it would be defined by the owning ptrs
[23:19:15] <strcat> otherwise you'd be counting stuff like iterators as part of it ;p
[23:19:18] <leonvv> Can you also use Rc when you need to mutate the nodes in the tree?
[23:19:27] <strcat> leonvv: with RefCell
[23:19:31] <sfackler> leonvv: Rc<RefCell<Node>>
[23:19:54] <cgaebel> the structure of the tree will be ~Node<T>
[23:20:01] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[23:20:10] <cgaebel> the data elements themselves will be Rc<RefCell<T>>
[23:20:12] <cgaebel> or something like that
[23:20:31] <cgaebel> (in my interpretation of the question)
[23:21:31] <leonvv> Isn't there a lot of overhead with Rc<RefCell> compared to raw pointers?
[23:21:57] *** Joins: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com)
[23:21:59] *** Joins: luz (lu.cy@moz-CD18B14B.customer.cdi.no)
[23:22:15] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[23:22:21] <cmr> it's not going to be nonexistent
[23:22:22] *** Quits: dmsky (dmsky@moz-63A2E3E4.pppoe.spdop.ru) (Input/output error)
[23:22:25] <cmr> but it's not a *lot*
[23:22:25] <cgaebel> unfortunately, but only really in memory usage
[23:22:26] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[23:22:46] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[23:22:48] <krdln> cgaebels: and checks while borrows?
[23:22:54] <cgaebel> I honestly roll my own for most uses. I _never_ use weak pointers and wasting a word for every single Rc is very wasteful..
[23:23:00] <strcat> leonvv: if you need multiple owners then you would be doing refcounting with raw ptrs anyway
[23:23:16] <cgaebel> krdln: good point. forgot about those
[23:23:19] <strcat> cgaebel: it was originally separate
[23:23:29] <strcat> Strong/Weak and Rc were 3 different types
[23:23:33] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[23:23:41] <cgaebel> strcat: why'd it change?
[23:23:42] *** Quits: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[23:23:50] *** Joins: dmsky (dmsky@moz-63A2E3E4.pppoe.spdop.ru)
[23:23:56] <cmr> cgaebel: it's not every single Rc
[23:24:01] <cmr> and Rc just an *RcBox
[23:24:05] <cmr> it's every single Rc'd *object*
[23:24:11] <cgaebel> yeah
[23:24:20] <cgaebel> and in a tree of ints, that's like, 50% wasted space
[23:24:35] <cgaebel> err, 50% more space than necessary
[23:24:38] *** Quits: ewalstad (Adium@moz-9A04E871.dedicated.static.sonic.net) (Quit: Leaving.)
[23:24:42] <cgaebel> okay maybe 33%
[23:24:54] <krdln> and RefCell don't use borrow compile-time borrow checker, so you can fail suddenly in runtime, that's sad. I'm trying now to write a tree while exposing safe interface
[23:24:56] <cgaebel> point is, a non-trivial amount of space taken by the tree will be in useless counts
[23:25:12] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:25:24] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[23:25:25] <strcat> krdln: if it's a tree without parent pointers, you can use ~
[23:25:27] <strcat> no Rc
[23:25:35] <cgaebel> not for the data itself..
[23:25:38] *** Quits: dmsky (dmsky@moz-63A2E3E4.pppoe.spdop.ru) (Ping timeout)
[23:25:39] *** Joins: Guest_ (textual@moz-B0DA5BFF.hsd1.sc.comcast.net)
[23:25:44] <strcat> yes for the data itself
[23:25:46] *** Joins: ewalstad (Adium@moz-9A04E871.dedicated.static.sonic.net)
[23:25:49] <strcat> tree without parent pointers can use ~
[23:25:53] *** Quits: q66_ (q66@moz-E4DC8CD9.range86-132.btcentralplus.com) (Ping timeout)
[23:25:55] <strcat> look at TreeMap, no unsafe code
[23:26:00] <cgaebel> the original question was for multiple pointers to the data itself
[23:26:12] *** Joins: alkino_ (alkino@moz-61F150EC.w92-151.abo.wanadoo.fr)
[23:26:14] <strcat> if they're owning pointers, then either way you need refcounting
[23:26:27] <krdln> strcat: oh! i wouldn't expect that. How iterators work then?
[23:26:42] <cgaebel> it can own an Rc<T>
[23:26:45] *** Joins: skade (skade@moz-1EC0F118.pools.arcor-ip.net)
[23:26:49] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[23:26:56] <strcat> krdln: iterators have an internal stack, it only needs to be log2(n)
[23:27:05] <krdln> i mean, iterator on tree somehow have to traverse tree upward sometimes.
[23:27:10] <strcat> no need for parent pointers to iterate
[23:27:26] <strcat> either use the call stack or with an external iterator an explicit stack
[23:27:42] <cgaebel> can we do external iterators atm?
[23:27:49] <strcat> yes, that's what Iterator is
[23:27:59] <cgaebel> internal?
[23:28:05] <strcat> we don't have internal iterators anymore
[23:28:06] <cgaebel> I might be getting those two mixed up
[23:28:06] <cmr> I don't think we have any internal iterators left.
[23:28:09] <cgaebel> yeah that's what I meant
[23:28:11] <cgaebel> lol
[23:28:13] <krdln> strcat: nice idea! But, hm.. that could alocate..
[23:28:20] <cgaebel> kinda unfortunate
[23:28:31] <cgaebel> you can heuristically size it if it's a balanced tree
[23:28:33] <strcat> krdln: it doesn't *need* to allocate, you know the upper bound for a balanced binary search tree if you calculate it
[23:28:50] <cgaebel> i.e. 2*log(n) for an RB tree
[23:28:58] <strcat> cgaebel: well, approximately ;)
[23:29:02] <cgaebel> yeah
[23:29:08] <cgaebel> O(2*log(n)) ;)
[23:29:35] <strcat> which is O(log(n)) ;p
[23:29:38] <sfackler> it's a hard limit for RB trees, maybe with a ceil thrown in there somewhere
[23:29:58] *** Quits: leonvv (leonvv@moz-9F89119B.ip.telfort.nl) (Quit: Leaving)
[23:29:59] <strcat> sfackler: it's not a traditional rbtree though, it's an aatree
[23:29:59] <cgaebel> yeah I don't know the exact number. pretty sure it had a 2  and a log(n) in there somewhere, though..
[23:30:06] <cgaebel> well shit
[23:30:11] <sfackler> oh
[23:30:22] <strcat> it would be too slow as a traditional rbtree because there's more code, and the code has to have inefficient swaps everywhere due to safety
[23:30:46] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:30:46] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[23:30:48] <strcat> I probably should have just written it with raw pointers + unsafe code ;s
[23:30:58] <strcat> search is just as fast with safe code
[23:31:04] <strcat> but insert/remove are a *lot* slower
[23:31:15] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[23:31:38] <cgaebel> I <3 unsafe code for data structures
[23:31:44] <krdln> i wonder if parent refernces are better idea or fat iterators
[23:31:48] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:32:04] <strcat> krdln: parent ptrs make the whole tree take way more memory
[23:32:14] <cgaebel> and theyre silly
[23:32:29] <krdln> usually 3 words without and 4 with
[23:32:32] <strcat> krdln: and it's not necessarily any faster
[23:32:34] *** Quits: Guest_ (textual@moz-B0DA5BFF.hsd1.sc.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:32:39] <strcat> than a stack in the iterator
[23:33:07] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[23:33:43] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Client exited)
[23:33:44] <sinistersnare> cmr, https://github.com/mozilla/rust/pull/13016#issuecomment-38120324 what is this maddness??
[23:33:48] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[23:33:52] *** Joins: dsyang (dsyang@moz-C45D48C5.hsd1.pa.comcast.net)
[23:33:58] *** Joins: _jrp_ (jason@moz-B88BC42E.hsd1.wa.comcast.net)
[23:34:06] <strcat> wrong image
[23:34:08] <strcat> ?
[23:34:34] <sinistersnare> thats a lot of time saved, right?
[23:34:41] <krdln> strcat: i would be happy to see some benchmarcs. and keeping whole stack scares me
[23:34:49] <sfackler> sinistersnare: it's cutting off partway through the compilation process
[23:34:59] <strcat> krdln: the stack is just log2(n)
[23:35:20] <strcat> 2*log2(n) to be more precise ;p
[23:35:41] <strcat> krdln: tree with 4294967296 elements, stack would get to at most 64 ptrs
[23:35:44] <strcat> doesn't seem bad at all
[23:35:52] <sinistersnare> sfackler, oh ok.
[23:36:04] <cmr> sinistersnare: that's --emit bc
[23:36:08] <cmr> sinistersnare: no codegen or linking
[23:36:22] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[23:36:26] <strcat> on a 128-bit architecture in 1000 years, the stack would only get to 256 ;p
[23:36:29] <krdln> strcat: this just is usually about 20 words, so it's not... oh, so you say 64 words is not a lot, ok then. But i'm just curious
[23:36:51] <strcat> krdln: for a tree with 2^32 elements? it's not a lot
[23:36:56] <strcat> the alternative is 2^32 parent pointers
[23:37:06] <strcat> vs 64 ptr stack in iterators
[23:37:41] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:38:02] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:38:41] <strcat> although if you really cared about performance and memory usage, a binary tree wouldn't be a good data structure ;p
[23:38:48] <strcat> a b-tree is a lot saner
[23:39:00] <strcat> lower memory usage, and more cache friendly
[23:39:07] <sfackler> the runtime cost'd be a a 8KB memset
[23:39:14] <krdln> strcat: there are applications where you have to store many iterators, i think. And users may be surprised by memory usage on iterators
[23:39:26] <cgaebel> well, if you REALLY cared about performance and memory usage, you'd use an array..
[23:39:38] <strcat> cgaebel: I'm assuming you have interleaved inserts/searches
[23:39:46] <cgaebel> array-backed hashtable
[23:39:54] <cgaebel> *cough* like ours
[23:39:54] <strcat> and need ordered keys
[23:39:59] *** Joins: dotfelix (dotfelix@193B523.829DBEF3.40E092AA.IP)
[23:40:11] <krdln> cgaebel: i often need to maintain whole map ordered
[23:40:15] <strcat> otherwise, you'd just throw it all into a giant array and sort it
[23:40:16] <o11c> sorted keys are *so* useful
[23:40:17] <strcat> and do binary search
[23:40:43] <strcat> the interleaved inserts force you to pay for silly trees ;p
[23:40:44] <cgaebel> you probably want a heap then...?
[23:40:51] <o11c> but yeah, a 'ConstMap' class needs to exist for immutable array-backed binary search
[23:40:58] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[23:40:58] <strcat> cgaebel: I'm saying if you don't have interleaved inserts, you don't need a tree
[23:41:10] <strcat> since it will just be slower
[23:41:14] <cgaebel> yeah
[23:41:26] <cgaebel> still think a heap is what most people want in that scenario as opposed to a tree, still
[23:41:30] <cgaebel> I find few uses for trees..
[23:41:42] <o11c> it took me a while to realize "ooh, lots of nice data structures" -> end up just using the really basic ones
[23:41:57] <strcat> vectors, vectors and more vectors
[23:42:13] <strcat> cgaebel: well, tries can certainly be useful ;p
[23:42:14] *** Joins: q66_ (q66@moz-EB7001DA.range81-156.btcentralplus.com)
[23:42:18] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[23:42:18] <krdln> trees have huuuge usage in algorithmics
[23:42:20] <strcat> routing tables, page tables
[23:42:24] <cgaebel> vectors and hashtables are like, 98% of interview questions
[23:42:36] <mcpherrin> strcat: I have a hardware trie.  It's really cool :D
[23:42:44] <mcpherrin> (for storing routing tables)
[23:42:49] * strcat jealous
[23:42:57] <cgaebel> nice
[23:42:58] <kmc> i'm working on a web browser, which is entirely about turning trees into other trees
[23:43:00] <mcpherrin> for only $300k you can have one too :P
[23:43:03] *** Joins: enand (erik@67F9F6F9.5AF75EBF.841A3ED3.IP)
[23:43:14] <strcat> mcpherrin: sure, let me just rob a bank or two first...
[23:43:23] <cgaebel> yeah sorry by trees I meant "binary search trees of all colors"
[23:43:33] <cgaebel> "trees" the concept are very useful
[23:43:35] *** Quits: ewalstad (Adium@moz-9A04E871.dedicated.static.sonic.net) (Quit: Leaving.)
[23:43:50] <cgaebel> as are they're annoying big brother, graphs
[23:43:54] <mcpherrin> that's not really true, you can probably buy a switch with a hardware trie on ebay for $2k
[23:44:15] <strcat> mcpherrin: and you have a good chance of getting sent a 2k dollar rock
[23:44:20] <strcat> and then paypal freezes your account for no reason
[23:44:29] <cgaebel> bitcoin!
[23:44:37] <krdln> strcat: Those fat iterators scared me at first, but now I don't see any usecase, which would result in asymptotically bigger memory usage with such. Thanks :) But still, treemap allocates
[23:44:38] <kmc> binary search trees have pretty bad cache utilization and other problems
[23:44:47] <strcat> b-trees are neat though
[23:44:50] <mcpherrin> it's all about the b-trees
[23:44:50] <kmc> for a lot of things, higher fanout is good
[23:44:52] <kmc> yep
[23:44:59] <strcat> kmc: 64-bit basically kills the binary tree idea...
[23:44:59] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[23:45:11] <cgaebel> only for things outside of RAM. not that much use in-RAM
[23:45:16] <strcat> one day people will realize ;p
[23:45:20] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:45:21] *** Joins: andrewd18 (andrew@moz-DAC9D29F.wi.res.rr.com)
[23:45:26] <mcpherrin> strcat: You could use short/long pointers :P
[23:45:26] <strcat> cgaebel: b-trees are great in-memory
[23:45:30] <kmc> hash tries are usually 16- or 32-ary, whatever fits in a cache line, which means you have only a few levels at most
[23:45:33] <cgaebel> for what use case though?
[23:45:39] *** Joins: Guest_ (textual@3E0487DF.D8252BC.9532F1CE.IP)
[23:45:47] <cgaebel> they're pretty obscure..
[23:45:48] <strcat> cgaebel: https://code.google.com/p/cpp-btree/wiki/UsageInstructions#Memory_usage_comparison
[23:45:51] *** Quits: tomh- (uid501@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[23:45:51] <kmc> judy arrays are also like that
[23:45:51] <strcat> cgaebel: for an ordered map
[23:45:56] <strcat> TreeMap should probably be a b-tree
[23:45:58] *** Joins: bmccallister (brianm@B14CC6C5.5D49961F.D8D85ABD.IP)
[23:46:04] <strcat> I just didn't want to implement a b-tree
[23:46:04] <cgaebel> I reject the concept of an ordered map!
[23:46:09] <comex> Rust ought to have a HAMT
[23:46:12] <strcat> it took 2 hours to get the aatree working very well
[23:46:13] *** Quits: bmccallister (brianm@B14CC6C5.5D49961F.D8D85ABD.IP) (Quit: Leaving...)
[23:46:24] <sfackler> there is a partially implemented btree lying around somewhere in mozilla/rust I think
[23:46:26] <strcat> (a whole lot of time micro-optimizing away swaps due to safety...)
[23:46:31] <cgaebel> comex: Naw just use a hashtable
[23:46:33] <strcat> sfackler: it's not done yet though
[23:46:37] <comex> cgaebel: but immutable! :]
[23:46:41] <cgaebel> meeeh
[23:46:50] *** Quits: brontron (brontron@moz-CF02444.dia.static.qwest.net) (Ping timeout)
[23:47:06] <cgaebel> unless you need the ability to "go back in time", it's not that useful
[23:47:16] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:47:16] <strcat> cgaebel: O(n + m) worst-case set intersection, difference, etc.
[23:47:34] <strcat> just iterate over both b-tree sets together
[23:47:40] *** Quits: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP) (Ping timeout)
[23:47:42] <cgaebel> same with like.. hashtables
[23:47:50] <strcat> cgaebel: no, it's much slower
[23:47:55] <cgaebel> really?
[23:48:02] <strcat> you pay for a cache miss on nearly every compare
[23:48:10] <strcat> you iterate over on table, and cache miss N times on the other
[23:48:10] *** Quits: ksev (DrunkenPan@moz-B69B5B8B.autodesk.com) (Ping timeout)
[23:48:13] <strcat> one table*
[23:48:18] <cgaebel> hmm
[23:48:21] *** Quits: nszceta (nszceta@B4D01FC3.8CCD02F5.D59EF1DC.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:48:41] * comex also wants a database with a built-in undo feature
[23:48:48] <strcat> comex: use git
[23:48:50] <strcat> libgit2
[23:48:56] <strcat> ;p
[23:48:58] <comex> hmm
[23:49:01] *** Quits: tiffany (kawaii@moz-7AF84602.dhcp.embarqhsd.net) (Ping timeout)
[23:49:03] *** Joins: ewalstad (Adium@moz-9A04E871.dedicated.static.sonic.net)
[23:49:17] *** Quits: dsyang (dsyang@moz-C45D48C5.hsd1.pa.comcast.net) (Client exited)
[23:49:19] <strcat> comex: git is a persistent data structure
[23:49:21] *** Joins: derek_c (derek@moz-92A8B4BF.cit.cornell.edu)
[23:49:38] <strcat> with a really slow gc cycle
[23:49:41] <comex> interesting
[23:49:43] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[23:50:03] <strcat> and it uses simple on-disk data structures
[23:50:06] *** Quits: _jrp_ (jason@moz-B88BC42E.hsd1.wa.comcast.net) (Quit: WeeChat 0.3.8)
[23:50:50] *** Joins: brontron (brontron@moz-CF02444.dia.static.qwest.net)
[23:50:53] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[23:51:04] <cgaebel> dammit strcat, you nerd-sniped me trying to think of a more cache-efficient way to hashtable intersect
[23:51:32] <strcat> heh
[23:51:33] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[23:51:45] *** Quits: jmgrosen` (user@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[23:53:11] <strcat> comex: if you 'git add' a file for example, it just stores it as .git/objects/start_of_hash/rest_of_hash with 'blob size\0data' compressed with zlib
[23:53:17] *** Joins: dmsky (dmsky@moz-63A2E3E4.pppoe.spdop.ru)
[23:53:22] <strcat> git reset --hard ? it's still there.
[23:53:33] <strcat> they just get gc'ed after a long time
[23:53:38] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[23:53:47] <strcat> and when you have a lot of objects, it starts putting them in delta compressed packs
[23:53:49] <strcat> pretty neat
[23:54:29] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Quit: Leaving.)
[23:54:46] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:54:58] *** Quits: dmsky (dmsky@moz-63A2E3E4.pppoe.spdop.ru) (Ping timeout)
[23:55:16] *** Joins: mib_j2jzfu (Mibbit@moz-1BB03833.lnk.telstra.net)
[23:55:25] <strcat> so if you have the same file across 20000 commits, it refers to that same object, if you alter a line, you get a whole new object (but delta compression deals with that)
[23:55:35] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:55:42] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[23:55:56] <strcat> libgit2 has VFS backend too... can use stuff like sqlite
[23:56:03] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[23:56:24] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[23:57:11] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[23:57:29] <eibwen> acrichto: what are these bors failures about?
[23:57:31] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[23:57:48] <aatch> eibwen, the bots are throwing fits
[23:58:08] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[23:58:19] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[23:58:21] <acrichto> eibwen: intermittent failures, we're working on it
[23:59:01] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[23:59:12] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[23:59:12] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[23:59:55] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
