[00:22:20] *** Joins: aatch (james@moz-i1k1ks.tlms.2o1v.e006.2406.IP)
[01:49:41] *** Quits: brson (brson@moz-n5b.14a.129.78.IP) (Connection closed)
[01:53:35] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[02:41:11] *** Quits: zz_kimundi (kimundi@moz-s4f0fk.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:43:46] *** Joins: zz_kimundi (kimundi@moz-dn7o4m.dip0.t-ipconnect.de)
[02:43:48] *** zz_kimundi is now known as kimundi
[04:12:36] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[04:51:41] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[04:56:23] *** Joins: brson (brson@moz-omn.omd.251.216.IP)
[04:56:23] *** ChanServ sets mode: +qo brson brson
[04:59:36] *** Quits: brson (brson@moz-omn.omd.251.216.IP) (Quit: leaving)
[05:04:00] *** Quits: aatch (james@moz-i1k1ks.tlms.2o1v.e006.2406.IP) (Connection closed)
[05:41:48] *** Joins: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com)
[05:59:47] *** Joins: jroesch (sid26078@moz-o13a59.charlton.irccloud.com)
[06:07:16] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[07:48:19] *** Joins: arielb1 (Ariel@moz-e3b.ri7.19.46.IP)
[08:02:36] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[08:09:51] *** Quits: aatch (james@moz-is4j4r.cable.telstraclear.net) (Ping timeout: 121 seconds)
[08:16:16] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[08:55:50] *** Joins: laumann (thomas@moz-gqpfnm.science.ku.dk)
[09:17:15] *** Joins: nagisa (nagisa@moz-8t068g.static.zebra.lt)
[09:23:18] *** Quits: nagisa (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[09:36:06] *** Quits: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[09:40:58] *** Joins: nagisa (nagisa@moz-8t068g.static.zebra.lt)
[09:50:11] *** Quits: nagisa (nagisa@moz-8t068g.static.zebra.lt) (A TLS packet with unexpected length was received.)
[10:13:52] *** Joins: Rym (uid91135@moz-n2i7qm.charlton.irccloud.com)
[10:25:59] *** Joins: eddyb_ (eddyb@moz-bbmbdo.residential.rdsnet.ro)
[10:28:52] *** Quits: eddyb (eddyb@moz-5ad.8f9.121.86.IP) (Ping timeout: 121 seconds)
[10:29:51] *** eddyb_ is now known as eddyb
[11:14:28] *** Joins: nagisa (nagisa@moz-8t068g.static.zebra.lt)
[11:27:39] *** Quits: laumann (thomas@moz-gqpfnm.science.ku.dk) (Ping timeout: 121 seconds)
[11:29:41] *** Joins: laumann (thomas@moz-1i4.hq0.225.130.IP)
[12:07:36] *** Quits: laumann (thomas@moz-1i4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[12:24:15] *** Joins: laumann (thomas@moz-gqpfnm.science.ku.dk)
[13:17:05] *** Quits: arielb1 (Ariel@moz-e3b.ri7.19.46.IP) (Connection closed)
[13:42:41] *** Quits: Rym (uid91135@moz-n2i7qm.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[16:15:41] *** Joins: brson (brson@moz-omn.omd.251.216.IP)
[16:15:41] *** ChanServ sets mode: +qo brson brson
[17:02:25] *** Quits: laumann (thomas@moz-gqpfnm.science.ku.dk) (Ping timeout: 121 seconds)
[17:04:27] *** Joins: laumann (thomas@moz-vj4.hq0.225.130.IP)
[17:10:24] *** Quits: brson (brson@moz-omn.omd.251.216.IP) (Quit: leaving)
[17:47:27] *** Quits: laumann (thomas@moz-vj4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[18:00:54] *** Joins: brson (brson@moz-mmq.ebl.81.192.IP)
[18:00:54] *** ChanServ sets mode: +qo brson brson
[18:06:26] *** Joins: Elaine (Elaine@moz-35s2fm.members.linode.com)
[18:11:46] *** Joins: sigma (sigma@moz-l8bauc.range217-44.btcentralplus.com)
[18:15:52] *** Joins: killercup (killercup@moz-0pf6i8.dip0.t-ipconnect.de)
[18:26:36] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[18:30:05] *** Quits: brson (brson@moz-mmq.ebl.81.192.IP) (Connection closed)
[18:44:09] *** Joins: brson (brson@moz-ilu.bfn.243.173.IP)
[18:44:10] *** ChanServ sets mode: +qo brson brson
[18:52:21] *** Quits: Eridius (kevin@moz-6opvqs.us) (Connection closed)
[19:39:03] *** Quits: blank_name (blank_name@moz-p4egrb.mi.frontiernet.net) (Quit: leaving)
[19:39:58] *** Joins: blank_name (blank_name@moz-p4egrb.mi.frontiernet.net)
[19:50:45] *** Quits: killercup (killercup@moz-0pf6i8.dip0.t-ipconnect.de) (Quit: Bye)
[20:14:47] *** Joins: Eridius (kevin@moz-6opvqs.us)
[20:16:18] *** Quits: nagisa (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[20:27:55] *** Quits: sigma (sigma@moz-l8bauc.range217-44.btcentralplus.com) (Ping timeout: 121 seconds)
[20:33:44] *** Joins: nagisa (nagisa@moz-8t068g.static.zebra.lt)
[20:59:18] *** Joins: Rym (uid91135@moz-n2i7qm.charlton.irccloud.com)
[21:56:25] *** Quits: nagisa (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[22:04:28] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[22:44:26] <huon> what's the best way to debug LLVM asserts? -C save-temps and then... somehow disassembling the bitcode?
[22:45:51] <huon> (i.e. I'm modifying trans and it's resulting in invalid codegen)
[22:45:59] <Elaine> llvm-dis can do that
[22:46:08] <Elaine> (an appropriate name)
[22:46:25] <huon> it seemed to be emitting the same sort of assert when i tried it
[22:46:29] <huon> but let me try again
[22:46:39] <Elaine> makes sense, if you have invalid IR.
[22:46:58] <Elaine> I think we used to have a debug!() that dumped the body of every LLVM thing we generated
[22:47:05] <Elaine> not sure if we still do... do you have a backtrace?
[22:47:43] <huon> I can presumably get one
[22:48:15] <huon> i'll try with the rust build's llvm-dis instead of my system llvm-dis-3.6
[22:48:34] <Elaine> rust is on trunk/3.7 now isn't it?
[22:49:25] <huon> yeah
[22:51:22] <acrichto> huon: do you have bitcode that trips the assert?
[22:51:33] <huon> acrichto: yeah
[22:51:37] <acrichto> huon: bugpoint
[22:51:42] <acrichto> (it's an llvm tool)
[22:51:42] <huon> acrichto: oh, true
[22:53:17] <Elaine> ah yes I always forget about the lovely bugpoint.
[22:53:20] <huon> acrichto: how do I use it? bugpoint foo.bc just aborts due to the error
[22:53:34] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[22:53:42] <acrichto> huon: hm it should spit out bugpoint-reduced-simplified.bc
[22:53:48] <acrichto> huon: what's the exact message it spits out?
[22:53:56] <acrichto> huon: sometimes I have to pass -llc-safe as a flag
[22:54:43] <huon> acrichto: https://gist.github.com/huonw/4476f2bb777c05e40a23
[22:55:12] <acrichto> huon: oh wow that looks like it's just faulting in bugpoint itself maybe?
[22:55:20] <acrichto> huon: gist the IR? I'll try poking as well
[22:55:29] <huon> acrichto: no ir, just bc
[22:55:37] <acrichto> llvm-dis foo.bc > foo.ll
[22:55:39] <huon> acrichto: I'm trying to get the IR :P
[22:55:42] <acrichto> oh!
[22:55:50] <huon> acrichto: llvm-dis fails due to the invalid IR too
[22:55:53] <huon> *BC
[22:56:00] <acrichto> this was bc emitted by the compiler?
[22:56:09] <huon> yeah
[22:56:14] <acrichto> can you use --emit=llvm-ir?
[22:56:27] <huon> i'm making modifications to trans
[22:56:38] <huon> and I'm generating invalid code
[22:56:43] <huon> so I think only save-temps works?
[22:56:47] <acrichto> lolol
[22:56:55] <acrichto> that... I'm not 100% sure how to fix
[22:56:58] <acrichto> unfortunately :(
[22:57:07] <huon> :'(
[22:57:26] <acrichto> huon: send me the bc though?
[22:57:30] <acrichto> I've got a debug build of llvm lying around
[22:57:33] <acrichto> which may give a better stack trace
[22:57:36] <acrichto> to debug in llvm at least
[22:57:56] <huon> acrichto: sure, just a second
[22:59:28] <huon> acrichto: https://www.dropbox.com/s/vgz11osyod4bnza/sketch.0.no-opt.bc?dl=0
[22:59:36] <huon> dunno if that's the easiest way to get it
[23:00:27] <acrichto> https://gist.github.com/alexcrichton/61a7ab729cd109ae5df5
[23:00:31] <acrichto> huon: not sure if that helps though
[23:01:54] <huon> acrichto: that's... not telling me much I didn't know already :(
[23:01:57] <huon> acrichto: thanks though
[23:14:34] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[23:16:09] *** Quits: doener (doener@moz-fnh.n4j.147.5.IP) (Ping timeout: 121 seconds)
[23:29:31] *** Joins: doener (doener@moz-fnh.n4j.147.5.IP)
[23:39:22] <huon> acrichto: "sadly" this doesn't work yet https://gist.github.com/huonw/f1292a0679799de0ca9e#file-lib-rs-L55 :'(
[23:39:41] <huon> (associated constants don't quite work well enough atm)
[23:49:25] *** Quits: doener (doener@moz-fnh.n4j.147.5.IP) (Ping timeout: 121 seconds)
[23:49:29] <acrichto> whoa
[23:50:59] *** Quits: brson (brson@moz-ilu.bfn.243.173.IP) (Ping timeout: 121 seconds)
