[00:03:56] <brson> larsberg: thanks for starting twis. great idea
[00:04:48] <jdm> yeah, I've been meaning to propose that
[00:04:51] <jdm> so well done
[00:10:04] *** Joins: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP)
[00:10:04] <ghservo> [13servo] 15bors-servo closed pull request #1270: Basic support for window.location (06master...06url) 02http://git.io/_EHKaQ
[00:10:04] *** Parts: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP) ()
[00:10:05] *** Joins: ghservo (ghservo@79968228.6A2AE50.F3114085.IP)
[00:10:05] <ghservo> 01[13servo01] 15bors-servo merged 06auto into 06master: 02http://git.io/Xb75pg
[00:10:05] *** Parts: ghservo (ghservo@79968228.6A2AE50.F3114085.IP) ()
[00:13:26] *** Quits: bjz (bjz@moz-6AF19015.lnse4.cha.bigpond.net.au) (Ping timeout)
[00:18:12] <larsberg> brson,jdm: thanks! I'll try to call out new contributors each week. It's easy in the servo repo because of jdm's greeter tools :-)
[00:18:55] <jdm> larsberg: I could make it leave a comment like "^--------------------- @lbergstrom !!!!!!!!!!!!!!!!!!" too :)
[00:20:40] <larsberg> jdm: I could also just make a postini rule... <is afraid of being on the TO line of every comment on every first PR in every area>
[00:22:18] <brson> larsberg: cmr has a script for pulling out new contributors from the rust repo
[00:22:33] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[00:24:02] *** Joins: dbaupp (Thunderbir@29619B56.D5A1DCF.37681C44.IP)
[00:25:29] <cmr> nuh uh
[00:25:32] <cmr> brson has a script that I use :P
[00:25:59] <jdm> hot potato
[00:26:09] <jdm> grr
[00:26:31] <jdm> it looks like the LLVM debuginfo declaration intrinsics might be to blame for the poor stepping
[00:26:42] <jdm> but my plane is boarding ;_;
[00:26:46] <cmr> As in, not our bug?
[00:27:25] <jdm> no, our bug
[00:27:57] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[00:28:00] <larsberg> ooo! brson, cmr, can I have a copy of that script? :-) It's not a big deal now, but once we have hundreds of awesome servo contributors, manually counting through the webpage will be annoying.
[00:28:33] <cmr> larsberg: https://gist.github.com/cmr/7634468
[00:28:37] *** Quits: jdm (jdm@moz-C9C12F65.dynamic.hinet.net) (Quit: Lost terminal)
[00:28:57] <larsberg> cmr: ty
[00:42:28] *** Joins: june0cho (Mibbit@B4104EBB.3CC170B1.1E14B209.IP)
[00:46:09] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[00:46:24] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[00:50:51] <yichoi> larsberg: are you digging Xserver problem? #668
[01:06:59] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[01:10:17] <larsberg> Yichoi: yes, I reproduced the xserver (and local) errors that your team was seeing on Linux with an nvidia graphics card.
[01:11:39] <larsberg> It looks like we can work around it by switching which driver we use on Linux for now. But I'd like to talk in this week's meeting about how to address this problem fully.
[01:12:01] <larsberg> Pcwalton has a lot of experience and ideas on it, I believe.
[01:12:26] *** Joins: bjz (bjz@moz-6AF19015.lnse4.cha.bigpond.net.au)
[01:14:32] *** Quits: bjz (bjz@moz-6AF19015.lnse4.cha.bigpond.net.au) (Ping timeout)
[01:15:02] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[01:15:37] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[01:18:48] *** Quits: CaseyBecking (CaseyBecki@moz-29F30CC3.lsanca.fios.verizon.net) (Client exited)
[01:18:53] *** Joins: CaseyBecking (CaseyBecki@moz-29F30CC3.lsanca.fios.verizon.net)
[01:20:30] *** kimundi is now known as zz_kimundi
[01:27:09] *** Joins: bjz (bjz@moz-6AF19015.lnse4.cha.bigpond.net.au)
[01:31:12] *** Joins: deokjinkim (Mibbit@1A45E17B.8CE257A9.268E2EF2.IP)
[01:31:38] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Ping timeout)
[01:34:57] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[01:44:06] *** Quits: reyre (reyre@moz-89E9865B.com) (Ping timeout)
[01:47:47] *** Quits: brson (brson@EDE430AA.CB84766B.D1E74241.IP) (Ping timeout)
[01:51:01] *** Joins: kanru (kanru@moz-99690620.hinet-ip.hinet.net)
[01:52:08] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[01:52:08] *** ChanServ sets mode: +o brson
[01:56:46] *** Joins: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca)
[01:58:33] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[01:59:10] *** Quits: tikue (quassel@moz-FEADCD38.hsd1.pa.comcast.net) (Connection reset by peer)
[01:59:44] *** Quits: deokjinkim (Mibbit@1A45E17B.8CE257A9.268E2EF2.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:09:12] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[02:13:23] *** Quits: doomlord_ (servitor@moz-4625DF14.range86-184.btcentralplus.com) (Ping timeout)
[02:14:04] *** Joins: doomlord_ (servitor@moz-9738D381.range86-160.btcentralplus.com)
[02:17:31] *** Quits: Jesse (jruderman@moz-2ECEC9F7.oc.oc.cox.net) (Quit: Jesse)
[02:20:59] *** Quits: dbaupp (Thunderbir@29619B56.D5A1DCF.37681C44.IP) (Ping timeout)
[02:22:44] <june0cho> larsberg: I'll first install other driver and test again as you commented. Thanks a lot!
[02:23:32] *** Joins: Jesse (jruderman@moz-2ECEC9F7.oc.oc.cox.net)
[02:25:04] *** Joins: boredomist (ruqs@B16F530C.DC641F2C.BCAEBB33.IP)
[02:25:31] *** Joins: tikue (quassel@moz-FEADCD38.hsd1.pa.comcast.net)
[02:28:26] *** Joins: dbaupp (Thunderbir@29619B56.D5A1DCF.37681C44.IP)
[02:34:32] *** Quits: Jesse (jruderman@moz-2ECEC9F7.oc.oc.cox.net) (Quit: Jesse)
[02:50:47] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[02:57:32] *** Quits: rhodesd (none@3646D136.4C5731DA.F395EA5B.IP) (Ping timeout)
[03:01:11] *** Joins: tikue_ (tkuehn@7101C711.2ACBBF24.689607DE.IP)
[03:03:13] *** Joins: rhodesd (none@3646D136.4C5731DA.F395EA5B.IP)
[03:22:45] *** Quits: rhodesd (none@3646D136.4C5731DA.F395EA5B.IP) (Ping timeout)
[03:26:15] *** Quits: zz_kimundi (kimundi@moz-7ED39474.dip0.t-ipconnect.de) (Ping timeout)
[03:28:26] *** Joins: rhodesd (none@3646D136.4C5731DA.F395EA5B.IP)
[03:29:34] *** Joins: zz_kimundi (kimundi@moz-55BB9741.dip0.t-ipconnect.de)
[03:29:36] *** zz_kimundi is now known as kimundi
[03:35:03] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[04:00:05] *** Joins: dherman_ (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[04:03:24] *** Quits: dherman_ (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman_)
[04:26:36] *** Joins: jdm (jdm@579FEC0E.387F1B30.1A7D5C28.IP)
[04:26:36] *** ChanServ sets mode: +o jdm
[04:26:59] *** Joins: bholley (bholley@moz-FCAF9AAB.hsd1.ca.comcast.net)
[04:33:58] *** Joins: Jesse (jruderman@moz-2ECEC9F7.oc.oc.cox.net)
[04:42:06] *** Joins: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP)
[04:42:06] <ghservo> [13servo] 15pradeep90 opened pull request #1305: Use iter().map() instead of for loop. (06master...06rule-hash-optimize) 02http://git.io/-ako1w
[04:42:06] *** Parts: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP) ()
[04:57:25] *** Joins: eholk (eholk@C95FAD69.A304C61F.3ED9AD7C.IP)
[05:08:44] *** Quits: Jesse (jruderman@moz-2ECEC9F7.oc.oc.cox.net) (Quit: Jesse)
[05:14:38] *** Joins: Jesse (jruderman@moz-2ECEC9F7.oc.oc.cox.net)
[05:35:12] *** Joins: deokjinkim (Mibbit@1A45E17B.8CE257A9.268E2EF2.IP)
[05:40:41] *** Quits: deokjinkim (Mibbit@1A45E17B.8CE257A9.268E2EF2.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:50:44] *** Quits: hongminhee (sid295@moz-5F4AA75A.irccloud.com) (Ping timeout)
[05:57:30] *** Quits: CaseyBecking (CaseyBecki@moz-29F30CC3.lsanca.fios.verizon.net) (Client exited)
[05:58:00] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[05:58:00] *** ChanServ sets mode: +o brson
[05:58:11] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[05:58:11] *** Joins: CaseyBecking (CaseyBecki@moz-29F30CC3.lsanca.fios.verizon.net)
[05:58:27] *** Joins: brson (brson@6A848D32.C1B840DD.76F66111.IP)
[05:58:27] *** ChanServ sets mode: +o brson
[06:01:54] *** Joins: brson_ (brson@moz-BBE3ABD.mv.mozilla.com)
[06:02:44] *** Quits: brson (brson@6A848D32.C1B840DD.76F66111.IP) (Ping timeout)
[06:07:01] *** Quits: eholk (eholk@C95FAD69.A304C61F.3ED9AD7C.IP) (Quit: eholk)
[06:16:44] *** Quits: dbaupp (Thunderbir@29619B56.D5A1DCF.37681C44.IP) (Ping timeout)
[06:33:42] *** Quits: Jesse (jruderman@moz-2ECEC9F7.oc.oc.cox.net) (Connection reset by peer)
[06:34:55] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Quit: )
[06:35:11] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[06:35:49] *** Quits: jdm (jdm@579FEC0E.387F1B30.1A7D5C28.IP) (Quit: Lost terminal)
[06:49:53] *** Quits: boredomist (ruqs@B16F530C.DC641F2C.BCAEBB33.IP) (Client exited)
[06:52:52] *** Joins: victorporof (victorporo@47B918E3.BCF05198.9B1E38F4.IP)
[07:04:01] *** Quits: ^emi (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[07:10:32] *** Quits: bholley (bholley@moz-FCAF9AAB.hsd1.ca.comcast.net) (Quit: bholley)
[07:19:47] *** Joins: dbaupp (Thunderbir@moz-3BE4086E.lns20.syd6.internode.on.net)
[07:31:19] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[07:35:19] *** Quits: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca) (Quit: canhtak)
[07:35:50] *** Joins: jaeman (Mibbit@1A45E17B.8CE257A9.268E2EF2.IP)
[08:03:00] *** Quits: brson_ (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[08:04:57] *** Joins: ^emi (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[08:06:30] *** Joins: brson (brson@6A848D32.C1B840DD.76F66111.IP)
[08:06:30] *** ChanServ sets mode: +o brson
[08:08:54] *** Joins: glazou (glazou@D8B9C081.E820043D.D4C04133.IP)
[08:33:42] *** Quits: ^emi (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[08:33:49] *** Joins: Ms2ger (Ms2ger@moz-1B43DE50.adsl-dyn.isp.belgacom.be)
[08:46:42] *** Joins: ^emi (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[09:03:15] *** Quits: jaeman (Mibbit@1A45E17B.8CE257A9.268E2EF2.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[09:06:37] *** Quits: Ms2ger (Ms2ger@moz-1B43DE50.adsl-dyn.isp.belgacom.be) (Quit: bbl)
[09:07:44] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[09:15:35] *** Quits: ^emi (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[09:29:54] *** Joins: Jackneill (Jackneill@moz-CA2E3320.pool.digikabel.hu)
[10:12:41] *** Joins: Ms2ger (Ms2ger@moz-4040811E.ugent.be)
[10:13:36] *** Joins: marcosc (marcosc@moz-2AFFEC2E.dsl.telepac.pt)
[10:21:30] *** Joins: ^emi (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[10:30:49] *** Joins: hyunjunekim (hyunjuneki@5AB4884B.FCC4549.14D5B978.IP)
[10:32:17] <hyunjunekim> Hi. Is this possible to use a CGL in android?
[10:45:51] *** Quits: ^emi (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[10:51:44] *** Quits: brson (brson@6A848D32.C1B840DD.76F66111.IP) (Quit: leaving)
[11:04:49] *** Joins: Debloper (debloper@moz-88FF8AE8.redhat.com)
[11:10:17] *** Joins: jet (jet@3E68C539.A2C0EFE1.DC5B6E2A.IP)
[11:15:41] *** Quits: jet (jet@3E68C539.A2C0EFE1.DC5B6E2A.IP) (Ping timeout)
[11:20:29] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[11:32:36] *** Quits: hyunjunekim (hyunjuneki@5AB4884B.FCC4549.14D5B978.IP) (Quit: leaving)
[11:41:05] *** Quits: Ms2ger (Ms2ger@moz-4040811E.ugent.be) (Quit: bbl)
[11:54:05] *** Joins: ^emi (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[11:57:40] <larsberg> june0cho: Did the different driver help with the crashes on your system? Or are you still seeing them?
[12:15:21] *** Joins: hyunjunekim (Mibbit@7D74E938.F9F187B.FCFA478E.IP)
[12:15:53] *** Quits: ^emi (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[12:20:05] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[12:23:40] *** Quits: hyunjunekim (Mibbit@7D74E938.F9F187B.FCFA478E.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[12:26:54] *** victorporof is now known as victorporof|away
[12:35:19] <june0cho> larsberg: nope T.T I'm still seeing the crashes.
[12:40:20] <june0cho> larsberg: We can talk about it more in tomorrow CC! (maybe today evening to you?)
[12:45:35] *** Joins: reyre (reyre@moz-89E9865B.com)
[13:02:00] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[13:04:36] *** Joins: Ms2ger (Ms2ger@moz-1B43DE50.adsl-dyn.isp.belgacom.be)
[13:16:59] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[13:17:26] *** Joins: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca)
[13:17:36] *** Quits: tikue_ (tkuehn@7101C711.2ACBBF24.689607DE.IP) (Quit: tikue_)
[13:19:41] *** Joins: ^emi (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[13:27:24] *** bhearsum|afk is now known as bhearsum
[14:00:04] *** Joins: Kostic (marko@C4D4CB5C.58A2DD99.2168A69F.IP)
[14:20:12] *** Joins: ahal (ahal@moz-7DE89BF0.cable.teksavvy.com)
[14:34:01] *** kimundi is now known as zz_kimundi
[14:37:53] *** Joins: abinader (abinader@D8B9C081.E820043D.D4C04133.IP)
[14:41:13] *** Quits: Kostic (marko@C4D4CB5C.58A2DD99.2168A69F.IP) (Ping timeout)
[14:44:43] *** ahal is now known as ahal|brb
[14:45:45] *** Joins: miketaylr (mtaylor@moz-8ACC7131.dyn.grandenetworks.net)
[14:53:06] *** Joins: lmandel (lmandel@13F2CEC5.7672369.D8E68FF6.IP)
[15:00:10] *** ahal|brb is now known as ahal
[15:05:23] *** Joins: Kostic (marko@C4D4CB5C.58A2DD99.2168A69F.IP)
[15:07:32] *** Quits: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca) (Quit: canhtak)
[15:09:19] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Connection reset by peer)
[15:09:25] *** Quits: june0cho (Mibbit@B4104EBB.3CC170B1.1E14B209.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:09:45] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[15:11:07] *** zz_kimundi is now known as kimundi
[15:12:21] *** Joins: dherman_ (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[15:13:25] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[15:14:56] *** Quits: dherman_ (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman_)
[15:15:23] *** Joins: dherman_ (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[15:17:41] *** Quits: dherman_ (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman_)
[15:22:23] *** Joins: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca)
[15:29:37] *** Quits: CaseyBecking (CaseyBecki@moz-29F30CC3.lsanca.fios.verizon.net) (Client exited)
[15:29:43] *** Joins: CaseyBecking (CaseyBecki@moz-29F30CC3.lsanca.fios.verizon.net)
[15:37:32] *** Joins: CaseyBec_ (CaseyBecki@moz-29F30CC3.lsanca.fios.verizon.net)
[15:38:26] *** Quits: CaseyBecking (CaseyBecki@moz-29F30CC3.lsanca.fios.verizon.net) (Ping timeout)
[15:39:17] *** Quits: CaseyBec_ (CaseyBecki@moz-29F30CC3.lsanca.fios.verizon.net) (Ping timeout)
[15:42:48] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[15:42:56] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[15:54:09] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Quit: class)
[15:59:21] *** Joins: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP)
[16:01:02] *** kimundi is now known as zz_kimundi
[16:14:10] *** victorporof|away is now known as victorporof
[16:16:03] *** Quits: fabrice (fabrice@moz-94F028C6.hsd1.ca.comcast.net) (Quit: Leaving.)
[16:16:15] *** Joins: fabrice (fabrice@moz-94F028C6.hsd1.ca.comcast.net)
[16:20:56] *** Quits: fabrice (fabrice@moz-94F028C6.hsd1.ca.comcast.net) (Ping timeout)
[16:40:17] *** Quits: victorporof (victorporo@47B918E3.BCF05198.9B1E38F4.IP) (Quit: victorporof)
[16:42:58] *** Joins: bholley (bholley@moz-FCAF9AAB.hsd1.ca.comcast.net)
[16:43:01] *** Joins: dherman_ (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[16:44:52] <Ms2ger> Another advantage of MQ: I can grep my patches to find where I left my changes
[16:47:27] <jgraham> git grep?
[16:47:47] <Ms2ger> Does that look at other branches?
[16:48:51] <jgraham> You need to specify what to search
[16:48:55] <jgraham> But yes, it can
[16:49:27] <Ms2ger> $(git rev-list --all), apparently
[16:50:11] *** Joins: victorporof (victorporo@47B918E3.BCF05198.9B1E38F4.IP)
[16:50:13] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[16:51:21] <jgraham> To search everything, but I think it is also possible to just search commits that are branches
[16:51:46] <Ms2ger> Mmm
[16:52:03] <Ms2ger> Of course, I didn't find it because submodules >.<
[16:54:11] *** Joins: fabrice (fabrice@moz-7B0110AD.mv.mozilla.com)
[16:54:23] <jgraham> There probably is a way to fix that, but yes, submodules suck
[16:56:03] *** Quits: glazou (glazou@D8B9C081.E820043D.D4C04133.IP) (Quit: glazou)
[16:56:28] *** Joins: fabrice1 (fabrice@moz-BBE3ABD.mv.mozilla.com)
[16:57:09] *** Quits: fabrice (fabrice@moz-7B0110AD.mv.mozilla.com) (Ping timeout)
[16:57:26] *** Joins: dbaron (dbaron@moz-A035068C.dsl.dynamic.sonic.net)
[17:20:24] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[17:30:23] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[17:34:44] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[17:36:31] *** Joins: Jayflux (Jason@moz-52C003A0.as13285.net)
[17:36:57] *** zz_kimundi is now known as kimundi
[17:53:00] *** Quits: abinader (abinader@D8B9C081.E820043D.D4C04133.IP) (Ping timeout)
[18:07:05] *** Joins: vodik (simon@moz-63F3D7D1.net.uwaterloo.ca)
[18:11:32] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[18:20:06] *** Joins: boredomist (ruqs@8186917.CC8FA3EE.E3401B6E.IP)
[18:25:07] *** Quits: dbaron (dbaron@moz-A035068C.dsl.dynamic.sonic.net) (Ping timeout)
[18:28:16] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[18:41:58] *** Quits: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca) (Quit: canhtak)
[18:51:23] *** Joins: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca)
[18:52:29] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[18:52:29] *** ChanServ sets mode: +o pcwalton
[18:54:33] * kmc is back!
[18:55:45] <kmc> i see that we're doing This Week in Servo now, very cool
[18:57:13] <kmc> thanks for doing the first one larsberg
[19:05:47] <jack> kmc: how was japan?
[19:06:42] <kmc> really amazing :)
[19:08:00] <Ms2ger> Anyone here have bright ideas about rooting?
[19:08:42] <kmc> also I think I completely avoided jet lag on the way back, fingers crossed
[19:11:47] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Quit: Savago)
[19:21:08] *** Joins: dbaron (dbaron@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:22:40] *** Joins: harth (heather@moz-C07D5168.p2p.sfo1.mozilla.com)
[19:24:04] *** Joins: abinader (abinader@D8B9C081.E820043D.D4C04133.IP)
[19:27:19] *** joduinn-afk is now known as joduinn
[19:35:44] *** Quits: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca) (Quit: canhtak)
[19:41:15] *** Joins: Jesse (jruderman@moz-5973C6FA.oc.oc.cox.net)
[19:47:59] <nmatsakis> Ms2ger: maybe this channel is better
[19:48:10] <Ms2ger> Yeah
[19:48:12] <nmatsakis> Ms2ger: yes, so, here are some options.
[19:48:29] <nmatsakis> (there is a related issue that arises with arenas)
[19:48:50] <nmatsakis> basically I think you need to have a "ballast" that you create first and then pass a pointer into
[19:49:08] <nmatsakis> I don't think there's another way right now, I've been debating if this is a language feature we want to consider,
[19:49:14] <nmatsakis> but there are a couple of intersecting use cases
[19:49:22] <nmatsakis> so I'd want to be careful and survey them all 
[19:49:24] <nmatsakis> but let me explain what I mean
[19:49:31] <nmatsakis> one sec I will create an etherpad :)
[19:49:51] <nmatsakis> https://etherpad.mozilla.org/DiDwBfujGs
[19:50:15] <Ms2ger> Right, you need something allocated on the stack before creating the Rooted, somehow
[19:51:07] <nmatsakis> Ms2ger: yeah so let me sketch out first something I think would work and then maybe we can improve
[19:51:59] <Ms2ger> I don't claim to be able to design a PL, so I'll leave that to you :)
[19:54:38] <nmatsakis> Ms2ger: so, leaving aside usability, does that sketch seem like it would at least work to you?
[19:54:51] * Ms2ger looks
[19:59:53] <Ms2ger> nmatsakis, could you show the destructor too?
[20:00:00] *** Joins: tikue_ (tkuehn@60AB20BB.EB08480C.689607DE.IP)
[20:01:15] <nmatsakis> Ms2ger: hmm, interesting point -- the dtor might not work out if there are multiple ballasts
[20:02:06] <nmatsakis> Ms2ger: well that and the *current* dtor rules prohibit borrowed ptrs, though we plan to loosen them
[20:02:39] <Ms2ger> Feel free to use future-rust :)
[20:03:02] <pcwalton> you can work around it with #[unsafe_destructor]
[20:03:12] <nmatsakis> Ms2ger: yeah but I think future rust is not quite enough to get this right. 
[20:03:56] <nmatsakis> Ms2ger: what's needed really is a type that canot be moved, I think. In the past I've been able to workaround it with this "ballast" pattern but in this instance it seems insufficient.
[20:04:25] <pcwalton> nmatsakis: that scares me
[20:04:34] <pcwalton> (but I am willing to accept its inevitability of course)
[20:04:51] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[20:06:30] <nmatsakis> I'm not really sure what's the best fix. Once fns maybe, but that will introduce a lot of lambdas.
[20:06:54] <tikue_> what problem is being discussed? don't have backlog on this pc
[20:06:56] <nmatsakis> pcwalton: arenas are another case where it would be useful.
[20:07:19] <Ms2ger> nmatsakis, oh, and note that we need to support Rooted<Value> too
[20:07:42] <nmatsakis> Ms2ger: right, though I think that's easier to address
[20:08:09] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[20:09:09] <Ms2ger> nmatsakis, wait, drop() isn't going to take a Ballast, right?
[20:09:29] *** Quits: Kostic (marko@C4D4CB5C.58A2DD99.2168A69F.IP) (Ping timeout)
[20:09:56] <nmatsakis> Ms2ger: actualy I meant to implement drop on ballast I think, sorry
[20:10:15] <nmatsakis> Ms2ger: presumably it's type might have to change to include T
[20:10:26] <nmatsakis> Ms2ger: basically the idea would be that the Ballast carries the dtor,
[20:10:32] <nmatsakis> Ms2ger: and to initialize it, you must borrow it,
[20:10:42] <nmatsakis> Ms2ger: which both gives you a pointer and prevents it from being moved
[20:11:05] <pcwalton> nmatsakis: wonder if it works better to have the ballast contain a ref cell to prevent conflicting mut borrows./
[20:11:14] <pcwalton> then they can borrow it immutably.
[20:11:21] <pcwalton> they == rooteds.
[20:11:33] <nmatsakis> pcwalton: huh? you only want each ballast to be borrowed at most once
[20:11:43] <nmatsakis> in any case the whole design is flawed
[20:11:47] <nmatsakis> it works for arenas but not for this case
[20:11:50] <Ms2ger> The rooted2/1 issue is quite worrying too... I'd totally see that happen
[20:11:54] <nmatsakis> because you can't separate out allocation from initialization 
[20:13:02] <nmatsakis> seems like a good case for a monad :)
[20:13:29] <nmatsakis> (which is basically the once fn case)
[20:13:39] <pcwalton> oh, I see, each ballast is paired with a root.
[20:13:48] <Ms2ger> A monad?
[20:13:51] * Ms2ger stares blankly
[20:13:54] <pcwalton> I wonder if you could have one ballast be able to serve multiple roots, by using an array or something
[20:14:11] <nmatsakis> Ms2ger: fancy word meaning, in this case, closures like I sketched out below.
[20:14:22] <nmatsakis> Ms2ger: but you could associate them with some syntactic sugar or macros to make writing it more palatable
[20:14:27] <pcwalton> I really hope we can avoid the macro solution
[20:14:29] <pcwalton> err
[20:14:32] <pcwalton> the monadic solution
[20:14:35] <pcwalton> it's very bad for LLVM optimization
[20:14:47] <nmatsakis> yes, I know, there are other ways I'm sure
[20:15:26] <Ms2ger> Real constructors? :)
[20:15:27] <nmatsakis> well, it really seems like you want some way to both claim a stack slot in the ordering,
[20:15:50] <pcwalton> does the explicit rooting stuff have a stack slot that you push and pop from?
[20:15:51] <pcwalton> like lua?
[20:15:53] <nmatsakis> Ms2ger: "real" constructors isn't really enough, the real problem is needing to prevent moves and so on.
[20:16:08] <nmatsakis> pcwalton: the C++ technique has a linked list running up the stack frames
[20:16:22] <nmatsakis> I've actually used precisely this technique before in Rust
[20:16:46] <nmatsakis> ah, but I never to "reset" it
[20:16:57] <nmatsakis> that is, I didn't store the start of the linked list in the context,
[20:17:01] <nmatsakis> just in a local variable,
[20:17:04] <nmatsakis> so there was no need to worry about dtor ordering
[20:17:12] <pcwalton> I can think of various solutions that might work dynamically
[20:17:18] <pcwalton> and just explode at runtime if you try to move
[20:17:34] <pcwalton> which of course isn't as good
[20:17:35] <nmatsakis> well it depends on what level of safety we're going for here I guess
[20:17:48] <Ms2ger> I'd really like to avoid checking at runtime
[20:17:51] <nmatsakis> I was assumed we wanted something that couldn't be screwed up -- or at least where you have to work hard
[20:17:59] <pcwalton> static safety is the most important but I don't want to drop massive bombshells on the Rust design
[20:18:10] <pcwalton> and having immobile types isâ€¦ the kind of thing that has massive fallout
[20:18:18] <pcwalton> due to generics and so forth
[20:18:25] <nmatsakis> ?
[20:18:32] <nmatsakis> I see your point
[20:18:33] <pcwalton> generics assume that T can be moved
[20:18:35] <nmatsakis> but i'm not sure if it has to
[20:18:41] <nmatsakis> that is, we have a way of preventing moving:
[20:18:47] <nmatsakis> borrowing
[20:18:58] <nmatsakis> so what's needed is kind of a way to have a value that's "preborrowed"
[20:19:08] <pcwalton> yes
[20:19:12] <nmatsakis> this is more or less what I wanted for arenas,
[20:19:19] <nmatsakis> i.e., when you create it,
[20:19:27] <nmatsakis> there is a lifetime associated with the struct itself,
[20:19:49] <nmatsakis> let's call it 'self
[20:19:52] <pcwalton> you can't just have an immobile type though because you can't construct without moving
[20:19:53] <nmatsakis> just for maximal confusion :)
[20:20:04] <nmatsakis> and the caller basically gets back a &'self mut Ptr
[20:20:07] *** Quits: tikue_ (tkuehn@60AB20BB.EB08480C.689607DE.IP) (Quit: tikue_)
[20:20:20] <nmatsakis> well, the type doesn't have to be immobile,
[20:20:33] <nmatsakis> but if we had some way to define a constructor form
[20:20:41] <nmatsakis> that guaranteed the data was 'pre-borrowed',
[20:20:41] *** Joins: tikue_ (tkuehn@60AB20BB.EB08480C.689607DE.IP)
[20:20:49] <nmatsakis> then you could use privacy to ensure this is the only constructor form
[20:20:51] <nmatsakis> available for a given type
[20:20:52] <pcwalton> that sounds like again massive changes to rust :(
[20:20:53] <nmatsakis> imagine something like
[20:21:20] *** Quits: vodik (simon@moz-63F3D7D1.net.uwaterloo.ca) (Quit: studying)
[20:21:21] <nmatsakis> it's a change, yeah
[20:21:33] <nmatsakis> but it is a legit use case -- it might be something we want to toss around more for later,
[20:21:39] <nmatsakis> settle for a hacky sol'n for the time being
[20:21:52] *** Quits: tikue_ (tkuehn@60AB20BB.EB08480C.689607DE.IP) (Quit: tikue_)
[20:21:59] <nmatsakis> though of course there is an existing technique (closures) that work
[20:22:04] * pcwalton still doesn't totally understand why the ballast solution doesn't work
[20:22:28] <nmatsakis> basically the ballasts must be initialized and torn down in the same order (well, inverse)
[20:22:34] <nmatsakis> that is, you must initialize 1 then 2 and then tear down 2 then 1
[20:22:52] <pcwalton> oh, but nothing enforces this
[20:22:54] <nmatsakis> but because destructors are tied to the socping order of the ballasts,
[20:22:57] <nmatsakis> but initialization is separated,
[20:22:57] <nmatsakis> yes.
[20:23:25] <nmatsakis> I have another thought
[20:23:30] <pcwalton> there's probably a dynamic way to check that LLVM will optimize out
[20:23:36] <pcwalton> but that's obviously not great
[20:23:39] <nmatsakis> you could perhaps use a shadow stack
[20:23:56] <nmatsakis> i'm not sure that it'd be more expensive, it might be
[20:24:04] <nmatsakis> obviously it's more allocations, but hopefully amortized
[20:24:39] <nmatsakis> or of course push on pnkfelix to come up work more on exact stack rooting :)
[20:25:01] * nmatsakis a guy can dream, can't he?
[20:25:08] <pcwalton> back in a bit, lunch
[20:25:10] <pcwalton> this is an interesting puzzle
[20:25:14] <pcwalton> I feel like there should be a solution
[20:25:29] * Ms2ger goes to bed, will read backscroll
[20:25:37] <nmatsakis> Ms2ger: thanks for bringing this up :)
[20:26:04] <Ms2ger> And thanks to y'all for trying to figure it out :)
[20:26:32] *** Joins: tikue_ (tkuehn@60AB20BB.EB08480C.689607DE.IP)
[20:27:02] *** Quits: Ms2ger (Ms2ger@moz-1B43DE50.adsl-dyn.isp.belgacom.be) (Quit: nn)
[20:27:27] *** Quits: tikue_ (tkuehn@60AB20BB.EB08480C.689607DE.IP) (Quit: tikue_)
[20:29:28] *** victorporof is now known as victorporof|away
[20:30:13] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[20:32:45] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[20:43:14] *** Quits: victorporof|away (victorporo@47B918E3.BCF05198.9B1E38F4.IP) (Quit: victorporof|away)
[20:44:49] *** Quits: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP) (Ping timeout)
[20:46:08] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[20:46:08] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/HL7SXg
[20:46:08] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[20:46:09] *** Joins: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP)
[20:46:09] <ghservo> 01[13servo01] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/SEb3YA
[20:46:09] <ghservo> 13servo/06auto 14318a1a3 15S Pradeep Kumar: Use iter().map() instead of for loop.
[20:46:09] <ghservo> 13servo/06auto 140084cb3 15bors-servo: auto merge of #1305 : pradeep90/servo/rule-hash-optimize, r=kmcallister...
[20:46:10] *** Parts: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP) ()
[20:50:59] <jack> bhearsum: whoops. the Makefile.backup is not in objdir, it's in .. :)
[20:51:14] <bhearsum> jack: whoops...
[20:51:19] <bhearsum> i'll land a bustage fix
[20:51:30] <jack> thank you :)
[20:51:44] *** Joins: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca)
[20:53:10] <bhearsum> jack: https://pastebin.mozilla.org/3670747 ? abs_work_dir is the parent of objdir
[20:55:17] <jack> bhearsum: r+
[20:57:14] <bhearsum> alright, pushed
[20:59:28] <jack> how long does it take before hte machines are synced?
[21:01:21] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[21:01:27] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[21:02:07] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[21:03:12] *** Quits: dherman_ (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Ping timeout)
[21:05:42] <bhearsum> jack: for this type of change that doesn't matter - mozharness is pulled with every job
[21:06:03] *** Joins: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP)
[21:11:34] *** Quits: bholley (bholley@moz-FCAF9AAB.hsd1.ca.comcast.net) (Quit: bholley)
[21:12:13] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[21:25:26] *** Quits: lmandel (lmandel@13F2CEC5.7672369.D8E68FF6.IP) (Quit: lmandel)
[21:26:29] *** Quits: yury (yury@moz-86474802.ok.ok.cox.net) (Ping timeout)
[21:27:47] *** Joins: lmandel (lmandel@13F2CEC5.7672369.D8E68FF6.IP)
[21:28:12] *** Joins: yury (yury@moz-86474802.ok.ok.cox.net)
[21:31:23] *** Joins: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP)
[21:31:23] <ghservo> [13servo] 15kmcallister opened pull request #1306: Small fixes (06master...06cleanup) 02http://git.io/KyaQ2A
[21:31:23] *** Parts: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP) ()
[21:34:46] <kmc> highfive's heuristic for unsafe code is... simple :)
[21:35:22] <kmc> 'did you add a line containing the string "unsafe"'
[21:39:17] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[21:39:17] *** ChanServ sets mode: +o pcwalton
[21:39:54] <pcwalton> nmatsakis: maybe the best thing to do is to have #[return_value_immobile]; on functions
[21:39:55] <pcwalton> doesn't make me too happy but I couldn't come up with anything better
[21:41:12] <nmatsakis> pcwalton: doesn't really make me happy at all, no. in particular, it fails to address any use case beyond rooting
[21:41:23] <nmatsakis> e.g. arenas
[21:41:35] <nmatsakis> not sure if there are others,
[21:41:42] <nmatsakis> we occasionally get requests for structs that have internal pointers
[21:41:49] <nmatsakis> but sometimes people want them to be movable, sometimes not
[21:41:54] <nmatsakis> I don't think that's really possible with a movable struct
[21:42:03] <nmatsakis> or at least not without an API like the Message thing I outlined
[21:42:22] <nmatsakis> but if they are immobile,
[21:42:45] <nmatsakis> what you kind of want is some way to have the struct by parameterized by the lifetime in which it will be destructed
[21:43:16] <nmatsakis> this is not enough in and of itself to address the rooted problem,
[21:43:23] <nmatsakis> in that you also want to know its final address, 
[21:43:27] <nmatsakis> but it seems so...closely related
[21:43:40] *** Joins: bholley (bholley@moz-FCAF9AAB.hsd1.ca.comcast.net)
[21:43:41] <nmatsakis> like a form of function that let you initialize something in its final home,
[21:43:52] <nmatsakis> and gvae you a lifetime parameter with the lifetime of that home?
[21:44:02] <nmatsakis> I don't quite know, and I know you don't want to offer a big change to Rust, so maybe i'm thinking too big
[21:44:07] <pcwalton> nmatsakis: did you notice https://github.com/mozilla/rust/pull/10486 ?
[21:44:09] <nmatsakis> or maybe a shorter term fix is warranted
[21:44:22] *** Quits: abinader (abinader@D8B9C081.E820043D.D4C04133.IP) (Quit: Fui!)
[21:44:27] <nmatsakis> pcwalton: yeah i've seen it I just keep failing to review it
[21:45:06] <nmatsakis> let me look now
[21:45:35] <pcwalton> maybe having an explicit outptr is somehow related? you could refer to the lifetime of the outptr
[21:45:41] <pcwalton> we've talked about having explicit retptrs
[21:45:46] <pcwalton> this might be a use case for them
[21:46:50] <nmatsakis> that's basically what i'm talking about
[21:47:21] <pcwalton> fn new() -> Object<'return>
[21:47:58] <pcwalton> Go has a feature whereby you can name the return pointer
[21:48:12] *** Quits: bholley (bholley@moz-FCAF9AAB.hsd1.ca.comcast.net) (Quit: bholley)
[21:48:35] <nmatsakis> oh yes I remember why I didn't comment on that PR #10486. basically because I think it's not the right direction, but I think the best fix is more involved, and I'm not sure if it's a good short term fix. 
[21:49:10] <nmatsakis> so the idea of something like 'return  is kind of what I'm tlaking about
[21:49:59] <nmatsakis> I think it probably needs ... some sort of additional rule on caller side? something to make return value be considered borrowed, or maybe it's just specially integrated into the borrowck
[21:50:16] <nmatsakis> fn new(return outptr: *Object<'return>)
[21:50:32] <nmatsakis> any kind of outptr would point at uninitialized memory,
[21:50:35] <nmatsakis> not clear how that can be made safe
[21:50:48] <cmr> Disallow reads from it.
[21:51:00] <pcwalton> yeah, you just can't do anything but return it really
[21:51:07] <nmatsakis> what I mean is: can't give an &T
[21:51:17] <nmatsakis> we could give a *T and just tell people "don't read from it"
[21:51:24] <pcwalton> :(
[21:51:27] <nmatsakis> depends how frequently we expect this to arise
[21:51:39] <Luqman> oh speaking of which, that reminds me. is there a better option than adding a useless param for static methods on impls with some T that they don't use?
[21:51:41] <pcwalton> maybe the right thing to do is to *not* integrate this with explicit retptrs.
[21:52:05] <pcwalton> Luqman: no, there's not, but niko and I have ideas for how to fix it.
[21:53:01] <nmatsakis> pcwalton: what i'd really like is for the caller to get back a `&'return mut T` (where T is the return type) when they invoke this "ctor fn"
[21:53:25] <nmatsakis> and where 'return is short for "whatever lifetime we use"
[21:53:25] <pcwalton> why behind an & pointer?
[21:53:30] <nmatsakis> because then it is borrowed
[21:53:31] <nmatsakis> and can't be moved
[21:53:43] <pcwalton> but you could have T<'return> too
[21:53:58] <nmatsakis> yes, so that'd be a &'return mut Foo<'return>
[21:53:59] <pcwalton> seems to integrate better with our "functions usually return by-value"
[21:54:00] <nmatsakis> just having a lifetime in the type
[21:54:03] <nmatsakis> does not prevent it from being moved
[21:54:13] <pcwalton> yeah, but "return" would be magical
[21:54:14] <nmatsakis> it just prevnets it from being moved out of hte lifetime
[21:54:36] <nmatsakis> hmm maybe
[21:54:48] <pcwalton> it'd contain a borrowed pointer to itself and would therefore prevent itself from ever being moved
[21:54:59] <pcwalton> you couldn't untie the knot, so to speak
[21:55:00] <nmatsakis> yeah ok could prob work
[21:55:13] *** Joins: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP)
[21:55:14] <ghservo> 01[13servo01] 15bors-servo 04force-pushed 06auto from 140084cb3 to 14f6646e1: 02http://git.io/c8GovQ
[21:55:14] *** Parts: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP) ()
[21:55:14] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[21:55:14] <ghservo> 01[13servo01] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/U6BvcA
[21:55:14] <ghservo> 13servo/06auto 14318a1a3 15S Pradeep Kumar: Use iter().map() instead of for loop.
[21:55:14] <ghservo> 13servo/06auto 14bf146fb 15bors-servo: auto merge of #1305 : pradeep90/servo/rule-hash-optimize, r=kmcallister...
[21:55:15] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[21:55:17] <nmatsakis> that adds more complexity to borrowck,
[21:55:20] *** Quits: Jackneill (Jackneill@moz-CA2E3320.pool.digikabel.hu) (Input/output error)
[21:55:22] <nmatsakis> vs my approach which pushes complexity elsewhere
[21:55:30] <nmatsakis> but I guess it's two means to the same end
[21:55:33] <pcwalton> yeah
[21:56:09] <nmatsakis> interestingly,
[21:56:18] <nmatsakis> well no I guess that's ok
[21:56:27] <nmatsakis> I was going to say that even "returning" the struct is a move,
[21:56:35] <nmatsakis> but that's a move from *inside* the ctor fn,
[21:56:41] <nmatsakis> where 'return is just anohter lifetime, more or less
[21:56:47] <pcwalton> ah, yeah
[21:56:54] <nmatsakis> so basically you could couple this with an intrinsic
[21:56:57] <nmatsakis> to get back an out pointer
[21:57:01] <pcwalton> right
[21:57:05] <pcwalton> and that has the 'return lifetime
[21:57:15] <nmatsakis> well it'd probably be a *()
[21:57:26] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[21:57:26] *** ChanServ sets mode: +o jdm
[21:57:27] <nmatsakis> after all, how does the intrinsic know the return type of the current fn?
[21:57:28] <pcwalton> we could have a special rule disallowing looking inside 'return unless it's "your" 'return
[21:57:37] <pcwalton> ah yeah
[21:57:50] <pcwalton> unless it was built into the compiler somehow
[21:57:56] <nmatsakis> but I think tat's pretty specialized (getting the return pointer0
[21:57:56] <pcwalton> e.g. by naming your outptr Go-style
[21:58:05] <nmatsakis> and I'm personally fine with making it just a `*()`.
[21:58:13] <pcwalton> yeah, worse is better.
[21:58:14] <nmatsakis> you can transmute it
[21:58:24] <pcwalton> the question is whether is going to be wanted in safe code
[21:58:41] <pcwalton> but we can always add safe language features later
[21:58:45] <cmr> I really only see this feature being used in incredibly rare circumstances
[21:58:52] <nmatsakis> I don't think this will be wanted in safe code.
[21:58:58] <nmatsakis> or maybe wanted, but not needed
[21:59:03] <cmr> *except in
[21:59:07] <jack> pcwalton, nmatsakis: can you give a short description of the problem you're both trying to solve? I'm not sure I've followed the whole thing.
[21:59:24] <nmatsakis> jack: yes in 1 sec :)
[21:59:34] <nmatsakis> pcwalton: so really there are two features here, an intrinsic for getting out pointer,
[21:59:43] <nmatsakis> pcwalton: and a special lifetime 'return that puts some obligation on caller,
[21:59:49] <nmatsakis> pcwalton: the first of which permits an unsafe rooting api to be built,
[21:59:54] <nmatsakis> pcwalton: the second of which permits us to make it safe
[21:59:57] <nmatsakis> does that sound about right?
[21:59:59] <pcwalton> yes, agreed
[22:00:03] <pcwalton> good way of putting it
[22:00:16] <nmatsakis> jack: problem is how to create a version of the rooted API
[22:00:33] <nmatsakis> but the problem has connections to other things that are hard to express
[22:00:59] <nmatsakis> the tricky part with rooted is,
[22:01:07] <nmatsakis> the way it works is to create a linked list crawling up the stack,
[22:01:18] <nmatsakis> so (in C++ at least) you insert the Rooted into the linked list in the ctor,
[22:01:20] <nmatsakis> then remove it in the dtor,
[22:01:32] <nmatsakis> but in Rust that's a bit tricky because we don't know the final address of the value in the ctor
[22:01:43] <nmatsakis> and also because we always support moves
[22:01:43] <pcwalton> (you don't really in C++11 either)
[22:01:47] <pcwalton> because of move semantics
[22:01:50] <nmatsakis> yes well, that's another story
[22:01:52] <pcwalton> although not everything is moveable in C++
[22:01:54] <nmatsakis> that is, it's not particular safe in c++,
[22:01:58] <nmatsakis> but then what its
[22:01:59] <nmatsakis> *is
[22:02:02] <pcwalton> so maybe they're actually out of the woods (although it's as safe as anything in C++)
[22:02:06] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[22:02:21] *** bhearsum is now known as bhearsum|afk
[22:02:25] *** Joins: dherman_ (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[22:02:53] <jack> who's ctor are we in that we dont' know the final address?
[22:03:08] <nmatsakis> jack: imagine: fn new_rooted() -> Rooted<T> { ... Rooted { ... } }
[22:03:19] <nmatsakis> you basically want to know the address where the value you are returning will end up
[22:03:48] <jack> and you can't pass it in in an out param?
[22:03:57] <pcwalton> there'd be no way to initialize it.
[22:04:03] <nmatsakis> because you are going to do: fn new_rooted(cx: &mut Context) -> Rooted<T> { let head = cx.head; cx.head = pointer-to-return-value; Rooted { head: head } }
[22:04:04] <pcwalton> can't take the addr of uninitialized stuff in rust
[22:04:08] <nmatsakis> jack: that's what I tried at first,
[22:04:16] <nmatsakis> but that's not safe because it's vulnerable to reoredering
[22:04:28] <nmatsakis> basically you could then do something like:
[22:04:45] <nmatsakis> { Rooted r1; Rooted r2; init(&mut r2); init(&mut r1); // dtor for r2 runs, then r1 }
[22:04:51] <nmatsakis> and this will not leave the linked list in the correct state
[22:05:38] <pcwalton> kmc: is there some way I can force configure to run despite submodules having dirty working trees?
[22:05:58] <strcat> nmatsakis: C++ does let you delete the move ctor
[22:06:01] <jack> pcwalton: --disable-manage-submodules doens't turn that off?
[22:06:06] <pcwalton> no :(
[22:06:07] <nmatsakis> (and yes we don't have outpointers to uninit stuff, but you can imagine always initialized rooted with null etc)
[22:06:10] <strcat> if you don't have a copy ctor I guess it will error out
[22:06:14] <jack> pcwalton, kmc: that's a bug :(
[22:06:24] <nmatsakis> strcat: yes I know.
[22:06:24] <pcwalton> fixing
[22:06:26] <jack> nmatsakis: I don't quite understand yet how that fails.
[22:06:31] <kmc> pcwalton: thanks
[22:06:53] <nmatsakis> jack: so there is a linked list in the context. Let's say it starts out as "X". then init(&mut r2) runs, and inserts itself onto the linked list, so the list is r2 -> X
[22:07:00] <nmatsakis> jack: meanwhile r2 saves the old head (X)
[22:07:12] <nmatsakis> hmm well wait, maybe r2 doesn't have to save old head
[22:07:17] * strcat is happy rust types can't override moves
[22:07:25] <nmatsakis> oh no that doesn't work either I don't think
[22:07:29] <jack> so the order the dtors run has to be in opposite order of init calls?
[22:07:32] <nmatsakis> right
[22:07:40] <nmatsakis> they always have to pop off the head of the stack
[22:07:46] <nmatsakis> unless we made it a doubly linked list I guess
[22:07:52] <nmatsakis> but that's not how it works in SM
[22:07:58] <nmatsakis> and we don't really have control ove rthat
[22:08:00] <jack> how does a output pointer help you with that problem?
[22:08:05] <nmatsakis> it doesn't enforce safety
[22:08:07] <pcwalton> why can't we do it the way SM does?
[22:08:15] <nmatsakis> SM does it in a stack
[22:08:45] <jack> nmatsakis: then how does 'return help you? :)
[22:09:08] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[22:09:11] <nmatsakis> jack: right so the explicit out ptr doesn't enforce safety but it *does* let you write: let r1 = Rooted::new(); 
[22:09:13] <strcat> nmatsakis: so they do refcounting in C++ cooperating with a gc for js?
[22:09:21] <nmatsakis> strcat: no they hvae no refcounting.
[22:09:35] <strcat> it just tags stuff as roots then? I don't get it
[22:09:36] <nmatsakis> strcat: oh, well, sometimes they do
[22:09:42] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[22:09:43] <ghservo> [13servo] 15pcwalton opened pull request #1307: mk: Don't error out on dirty submodules if `--disable-manage-submodules` is on (06master...06disable-manage-submodules) 02http://git.io/oZvytg
[22:09:43] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[22:09:47] <nmatsakis> but mostly they maintain this linked list  of roots
[22:09:49] <nmatsakis> and they do a tracing GC
[22:09:50] <pcwalton> kmc: r? https://github.com/mozilla/servo/pull/1307
[22:09:52] <nmatsakis> and collect as needed
[22:10:26] <nmatsakis> jack: the idea of 'return is to address this idea that sometimes it's useful to have a lifetime that means "as long as this struct lives"
[22:10:39] <nmatsakis> jack: that's the use case that comes up from time to time, arenas being one place
[22:10:54] <pcwalton> I'm confused as to why we can't use a stack as well
[22:10:57] <pcwalton> with the <'return> trick
[22:11:00] <nmatsakis> jack: it's also kind of incompatible with moves
[22:11:03] <nmatsakis> pcwalton: we can, but we need 'return
[22:11:08] <pcwalton> oh, ok.
[22:11:12] <pcwalton> then yes :)
[22:11:14] <nmatsakis> (to enforce safety)
[22:11:31] <nmatsakis> jack: anyway, so the idea is that if you use this special lifetime 'return in your return type (and it can only appear there),
[22:11:35] <kmc> pcwalton: you can use -n instead of ! -z, and I think the var should be in ""-quotes so that it expands as one arg even if empty
[22:11:38] <jack> I odn't see how 'return solves this ordering problem. { let r1 = Rooted::new(); let r2 = Rooted::new(); // dtors run in some order }
[22:11:45] <kmc> so if [ -n "$CFG_DISABLE_MANAGE_SUBMODULES" ]
[22:11:49] <nmatsakis> jack: they run in a specified order: r1, then r1
[22:11:52] <pcwalton> jack: problem is by moving you can subvert that order :(
[22:12:00] <nmatsakis> jack: er, r2 then r1
[22:12:17] <jack> oh, so rust semantics is that ew run dtors inverse to construction?
[22:12:19] <nmatsakis> jack: the point of 'return is that the caller will ensure that the value which is returned is stored into one place, with lifetime 'return, and never moved.
[22:12:22] <strcat> jack: C++ too
[22:12:32] <nmatsakis> jack: yes we run dtors in inverse order, just as in C++
[22:12:32] <jack> ok. that's the piece I was missing.
[22:12:33] <pcwalton> jack: yeah, those are the semantics, but you can move in Rust
[22:12:39] <pcwalton> changing the order
[22:12:43] <jack> Now I understand :)
[22:12:47] <pcwalton> kmc: fixed
[22:12:50] <strcat> jack: the field order is also defined (reverse order) in C++, not sure what it does in rust
[22:12:58] <strcat> field destruction order*
[22:13:04] <nmatsakis> well we should do the same, but I'm not sure that we do :)
[22:13:10] <nmatsakis> but I think this is one place where deviation is pointless
[22:13:15] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[22:13:15] <ghservo> [13servo] 15bors-servo closed pull request #1305: Use iter().map() instead of for loop. (06master...06rule-hash-optimize) 02http://git.io/-ako1w
[22:13:15] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[22:13:18] *** Joins: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP)
[22:13:19] <ghservo> 01[13servo01] 15bors-servo merged 06auto into 06master: 02http://git.io/U6BvcA
[22:13:19] *** Parts: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP) ()
[22:13:20] <strcat> anyway gcc has -Wreorder but I've never really understood what the point is of that warning
[22:13:36] <jack> bhearsum|afk: ^^ success. thanks again.
[22:15:53] <nmatsakis> strcat: me neither. what I really want is a warning when there is no apparent store to a field in the ctor.
[22:16:21] *** Joins: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP)
[22:16:21] <ghservo> 01[13servo01] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/KfrIsg
[22:16:21] <ghservo> 13servo/06auto 14be357f3 15Patrick Walton: mk: Don't error out on dirty submodules if `--disable-manage-submodules` is on
[22:16:21] <ghservo> 13servo/06auto 14b4c0020 15bors-servo: auto merge of #1307 : pcwalton/servo/disable-manage-submodules, r=kmcallister...
[22:16:21] *** Parts: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP) ()
[22:16:22] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[22:16:22] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/t6ECdg
[22:16:22] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[22:16:37] <strcat> nmatsakis: well -Weffc++ does that
[22:16:42] <strcat> but it does a bunch of weird annoying stuff too
[22:17:09] <strcat> (I actually think that one counts as annoying, because it won't *let* you leave it uninit)
[22:17:20] <strcat> have to use ridiculous pragma warning push/pop
[22:17:42] * strcat is thankful for #[allow(...)]
[22:18:34] <strcat> #pragma GCC diagnostic push
[22:18:43] <strcat> #pragma GCC diagnostic ignored "-Weffc++"
[22:18:45] <strcat> #pragma GCC diagnostic pop
[22:18:46] * strcat sighs
[22:20:02] <pcwalton> does anyone mind if I change RenderBox to an enum and remove its @ness?
[22:20:21] <pcwalton> it will reduce the number of allocations in the rainbow page by roughly half
[22:20:31] <pcwalton> making us much closer to matching Blink
[22:20:48] <pcwalton> (after that and after I make DList intrusive we should have fewer allocations than Blink)
[22:21:02] <jack> I can't think of an argument against it.
[22:21:16] <pcwalton> I will need to change the RenderBox ref in DOM Nodes to a (flow, box index) pair
[22:21:26] <pcwalton> we need the ref to the flow for incremental box building anyway.
[22:22:03] <jack> that sounds fine
[22:22:16] <jack> i'd much rather it point to something ~-like than @-like
[22:23:04] <jack> what is the tyep in the renderer the pointer in DisplayItme?
[22:23:13] <pcwalton> hmm?
[22:23:16] <jack> must but a *Flow?
[22:23:23] <pcwalton> (*Flow, uint)
[22:23:26] <pcwalton> flow and render box index.
[22:23:30] <pcwalton> only thing is I need to think hard about how to rule out memory safety problems in the event of a malfunctioning box builder
[22:23:48] <pcwalton> Gecko and WebKit have had a LOT of very exploitable security vulnerabilities due to malfunctioning box builders leaving around dead pointers to freed flows
[22:23:58] <pcwalton> which we will have unless we can rule it out simply
[22:24:04] <jack> what happens to the old display list poitners when we start building a new flow tree?
[22:24:12] <pcwalton> display lists are very transient
[22:24:16] <pcwalton> they only exist for 1 layout
[22:24:18] <pcwalton> and are then thrown away
[22:24:27] <jack> don't we ant to keep them for DLBI?
[22:24:32] <pcwalton> (that may change if we do what Andreas wants us to do and cache display list items)
[22:24:38] <jack> or will they be stripped of back pointers when cached?
[22:25:04] <jack> ie, is it Option<(*Flow, uint)>?
[22:25:20] <pcwalton> display lists are type parameterized, the ones used for rendering don't have back pointers
[22:25:24] <pcwalton> this is ExtraDisplayListData
[22:25:56] <jack> How do we go form a mouse even in the compositor to the dom node?
[22:26:02] <pcwalton> I think the very organized nature of our box builder compared to Gecko or WebKit will help some to rule out flow problems
[22:26:06] <jack> i thought we did that with display list traversal
[22:26:21] <pcwalton> jack: we rebuild the DL with that type parameter set to (*Flow,uint)
[22:26:27] <pcwalton> or today @RenderBox
[22:26:43] <jack> so i i click a link, that causes a new displaylist build?
[22:26:45] <pcwalton> yes
[22:26:47] <jack> wat?
[22:26:49] <pcwalton> it does in Gecko too mind you
[22:26:57] <jack> that seems wrong
[22:27:00] <pcwalton> although Andreas wants to start caching display list items
[22:27:10] <pcwalton> keep in mind display lists are ONLY supposed to be for the visible region
[22:27:16] <jack> yes
[22:27:17] <pcwalton> in Servo we build display lists for the entire page
[22:27:21] <pcwalton> which is why it's slow
[22:27:25] <jack> fair enough.
[22:27:27] <pcwalton> when building for the visible region it's not that bad
[22:27:38] <pcwalton> although again gal wants to start caching them
[22:27:41] <pcwalton> but even if we start caching them
[22:27:45] <pcwalton> it'll still semantically be a DL rebuild
[22:27:47] <pcwalton> just with cached data
[22:27:47] <jack> I hadn't looked at it I guess. I had assumed that we checked the previous display list for hte back reference, and sent that to script
[22:27:52] <pcwalton> nope
[22:28:39] <pcwalton> we have better input latency in Gecko than Chrome
[22:28:47] <pcwalton> so I think the DL rebuild will not hurt us too much in Servo
[22:28:56] <pcwalton> as long as it's only for the current viewport
[22:28:59] <jack> fixes several problems i thought we had :)
[22:29:01] <pcwalton> which we can do btw
[22:29:07] <pcwalton> now that I compute overflow regions.
[22:29:41] <kmc> for DLBI you need persistent renderboxes but not persistent displaylist.  you diff the new displaylist against the old one, comparing renderbox IDs
[22:29:59] *** Quits: valenting (Thunderbir@95C905BA.4985FA88.FCAAE698.IP) (Ping timeout)
[22:30:12] <pcwalton> well, you need persistent render box IDs not necessarily shared renderboxes
[22:30:21] <kmc> mm
[22:34:09] *** Joins: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP)
[22:34:09] <ghservo> [13servo] 15bors-servo closed pull request #1307: mk: Don't error out on dirty submodules if `--disable-manage-submodules` is on (06master...06disable-manage-submodules) 02http://git.io/oZvytg
[22:34:09] *** Parts: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP) ()
[22:34:12] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[22:34:13] <ghservo> 01[13servo01] 15bors-servo merged 06auto into 06master: 02http://git.io/KfrIsg
[22:34:13] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[22:35:11] <pcwalton> I think because nodes are in 1:1 correspondence with flows and this is *guaranteed* by the traversal function we are in much better shape than Gecko/WebKit
[22:36:27] <pcwalton> you simply can't make a node point to multiple flows like you can in those engines
[22:36:32] <pcwalton> they are 1:1
[22:37:06] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[22:37:06] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/Tx7_jw
[22:37:06] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[22:37:13] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[22:37:13] <ghservo> 01[13servo01] 15bors-servo pushed 3 new commits to 06auto: 02http://git.io/EzTfUg
[22:37:13] <ghservo> 13servo/06auto 143f10510 15Keegan McAllister: rustpkg.mk: Defer shell commands until after 'define' expansion...
[22:37:13] <ghservo> 13servo/06auto 145157eac 15Keegan McAllister: Warning police...
[22:37:13] <ghservo> 13servo/06auto 140d15310 15bors-servo: auto merge of #1306 : kmcallister/servo/cleanup, r=jdm
[22:37:15] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[22:43:21] *** Joins: eholk (eholk@moz-EA69C7A5.wavecable.com)
[22:52:53] *** Joins: tikue_ (tkuehn@6E051717.B9B3942C.689607DE.IP)
[22:55:05] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[22:55:05] <ghservo> [13servo] 15bors-servo closed pull request #1306: Small fixes (06master...06cleanup) 02http://git.io/KyaQ2A
[22:55:05] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[23:02:23] <pcwalton> oh hmm, I guess we aren't storing render boxes in the DOM anymore already
[23:02:24] <pcwalton> yay!
[23:02:29] <pcwalton> time to get rid of some allocations
[23:06:46] *** Joins: jst_ (quassel@moz-BBE3ABD.mv.mozilla.com)
[23:07:18] *** Quits: lmandel (lmandel@13F2CEC5.7672369.D8E68FF6.IP) (Quit: lmandel)
[23:13:05] *** Joins: dzbarsky (Adium@moz-CF7C12E.wlan.wireless-pennnet.upenn.edu)
[23:21:33] *** Quits: dzbarsky (Adium@moz-CF7C12E.wlan.wireless-pennnet.upenn.edu) (Quit: Leaving.)
[23:22:35] *** Joins: bholley (bholley@moz-FCAF9AAB.hsd1.ca.comcast.net)
[23:23:37] <pcwalton> how is getElementById() implemented in Gecko?
[23:24:26] <pcwalton> I am wondering if there is some way to refer to a DOM node from layout such that script can easily and safely look up that node (and isn't exploitable if the node doesn't exist) that doesn't involve storing a pointer directly to that DOM node
[23:24:40] *** Joins: june0cho (Mibbit@B4104EBB.3CC170B1.1E14B209.IP)
[23:24:49] <pcwalton> having some sort of "unique selector" to that DOM node, say, the ID, seems like the obvious way to do it
[23:26:15] *** joduinn is now known as joduinn-biab
[23:26:26] <jgraham> pcwalton: But not all elements have an id, and multiple elements may have the same id
[23:26:30] <pcwalton> right, I know
[23:26:38] <pcwalton> it has to be something like it
[23:26:54] <pcwalton> I'm wondering if we can keep some sort of hash
[23:27:03] <jgraham> (iirc in gecko gEBI is a hash between an id and a list of element pointers)
[23:27:21] <jgraham> (but check the code, don't trust me)
[23:27:51] <pcwalton> if we had some sort of hash table of known good element addresses then that might be good enough to prevent exploitation
[23:29:18] <jgraham> What kind of thing are you worried about (I haven't read the backscroll and there seems to be a lot of it)?
[23:29:39] <pcwalton> a bug in box building leads to a tree that has RenderBoxes that point to destroyed DOM nodes
[23:29:52] <pcwalton> then the user clicks on one of those RenderBoxes
[23:30:02] <pcwalton> the address of a freed RenderBox is sent to script
[23:30:11] <pcwalton> it tries to call the event handler on a freed object
[23:30:13] <pcwalton> that sounds exploitable
[23:30:56] <pcwalton> er sorry, the address of a freed *Node* is sent to script
[23:33:10] <pcwalton> there seems to be two ways to solve this: (1) make sure that the pointer cannot become dangling via a trusted code path, ideally small; (2) make that pointer untrusted, so that script does not trust layout that the pointer is valid
[23:33:11] <jgraham> Yes, that does sound unpleasant
[23:34:18] <jgraham> Forcing all node lookups through a hash table doesn't obviously sound like it would perform well
[23:34:27] *** Quits: eholk (eholk@moz-EA69C7A5.wavecable.com) (Quit: eholk)
[23:35:49] <jgraham> Anyway I should sleep
[23:35:51] <pcwalton> hmm, so, if we dirty properly, then we will wipe the containing block whenever a node is deleted (at least in the current implementation)
[23:36:01] <pcwalton> that should mean that all render boxes are destroyed
[23:36:05] <pcwalton> all right, good night
[23:41:08] <pcwalton> hmm, having a hash set of addresses SHOULD be fastâ€¦ I mean, most GCs do it
[23:41:17] <pcwalton> just use a wide trie or something
[23:41:31] <pcwalton> all you have to do is verify that an address is valid
[23:41:49] <pcwalton> I should look at boehm's implementation again
[23:42:48] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[23:46:30] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[23:47:10] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[23:47:10] *** ChanServ sets mode: +o pcwalton
[23:48:30] <pcwalton> http://www.hpl.hp.com/personal/Hans_Boehm/gc/tree.html this
[23:49:06] <jdm> what the deuce
[23:49:27] <jdm> why is spidermonkey on os x ignoring the try/catch when a method fails?
