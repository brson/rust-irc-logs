[00:02:00] <brandonson> doesn't look like llvm actually does anything based on it yet though
[00:09:30] *** Quits: bdero (bran@moz-nr0176.b90n.1kaj.018d.2601.IP) (Connection closed)
[00:09:38] *** Joins: bdero (bran@moz-nr0176.b90n.1kaj.018d.2601.IP)
[00:10:07] *** Quits: dlight (dlight@moz-7rhf91.gvt.net.br) (A TLS packet with unexpected length was received.)
[00:14:46] *** Quits: bdero (bran@moz-nr0176.b90n.1kaj.018d.2601.IP) (Connection closed)
[00:14:49] *** Joins: bdero (bran@moz-nr0176.b90n.1kaj.018d.2601.IP)
[00:16:46] *** Joins: sprocket (Mibbit@moz-hu6.nja.252.72.IP)
[00:20:39] *** Joins: aatch (james@moz-i1k1ks.tlms.2o1v.e006.2406.IP)
[00:21:55] *** Quits: sprocket (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:27:41] *** Quits: tamird (textual@moz-lat.dkr.14.50.IP) (Connection closed)
[00:27:45] *** Joins: tamird (textual@moz-lat.dkr.14.50.IP)
[00:31:14] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[00:38:31] *** Joins: bkoropoff (bkoropoff@moz-kthi5c.wa.comcast.net)
[00:41:10] *** Quits: Pierre_M (Pierre_M@moz-2vs15r.slkc.qwest.net) (Ping timeout: 121 seconds)
[00:41:18] *** chmanchester is now known as chmanchester|afk
[00:42:28] <jroesch> brson: is it possible for you to run my default type parameter fallback branch on crater sometime soon? it might be best to evaluate it before we merge it into nightly (which should be soon, running one last check now, and otherwise it just needs a final review) 
[00:44:34] *** Quits: zxq9 (ceverett@moz-fe3mfn.mesh.ad.jp) (Ping timeout: 121 seconds)
[00:51:26] *** Quits: Sho (sho@moz-50bv2t.cust.telecolumbus.net) (Quit: Konversation terminated!)
[00:56:04] <brson> jroesch: sure. link to the pr?
[01:01:00] *** Quits: listochkin (listochkin@moz-u28j0j.interview.volia.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:07:26] <jroesch> brson: https://github.com/rust-lang/rust/pull/26870, it may be worth waiting for nmatsakis to review my most recent refactor before we do it, you would know better then me though 
[01:07:48] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:09:42] <brson> jroesch: i'll start building the compilers now
[01:10:25] *** Joins: johnsoft (johnsoft@moz-90c.4nn.74.71.IP)
[01:10:34] <jroesch> okay, let me make sure I've pushed my most recent commit 
[01:10:47] <jroesch> just was running a make check for it now
[01:13:59] *** Quits: genbattle (genbattle@moz-4v0.gkd.16.182.IP) (Connection closed)
[01:14:12] *** Joins: genbattle (genbattle@moz-4v0.gkd.16.182.IP)
[01:18:19] *** chmanchester|afk is now known as chmanchester
[01:18:32] *** Quits: harrisonclarke (harrisoncla@moz-g1kp2c.ns.bellaliant.net) (Connection closed)
[01:19:19] *** Quits: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au) (Ping timeout: 121 seconds)
[01:21:07] <brson> i've started prototyping a rust-specific mergefunc
[01:21:26] <brson> right now i'm just trying to merge mem::uninitialized, which does nothing but call the uninitialized intrinsic
[01:22:15] *** Quits: miselin (miselin@moz-c77.igu.11.203.IP) (Ping timeout: 121 seconds)
[01:28:53] *** Joins: miselin (miselin@moz-c77.igu.11.203.IP)
[01:44:38] *** Joins: GBGamer (npm@moz-6jp.56c.19.107.IP)
[01:46:12] *** chmanchester is now known as chmanchester|afk
[01:47:40] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Connection closed)
[01:51:07] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[01:51:57] *** Quits: dcb (dcb@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:52:02] *** Joins: rovar (rovar@moz-96effg.dyn.optonline.net)
[01:55:01] *** Joins: nham (nham@moz-lglsfe.il.comcast.net)
[01:59:38] *** Joins: Kingsquee (kingsquee@moz-k72lip.bchsia.telus.net)
[02:00:39] *** Quits: bluss (bluss@moz-dc3fi4.customer.cdi.no) (Ping timeout: 121 seconds)
[02:03:04] *** Joins: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au)
[02:10:25] *** Quits: kimundi (kimundi@moz-2q77u9.obe6.7gie.57bc.2002.IP) (Ping timeout: 121 seconds)
[02:16:15] *** Joins: kimundi (kimundi@moz-lr69rq.56vm.o3ls.4fe2.2002.IP)
[02:38:46] *** Joins: dcb (textual@moz-v6l3du.ca.comcast.net)
[02:41:59] *** Quits: Kingsquee (kingsquee@moz-k72lip.bchsia.telus.net) (Quit: Leaving)
[02:46:36] *** Joins: Kingsquee (kingsley@moz-k72lip.bchsia.telus.net)
[02:50:29] *** Quits: dcb (textual@moz-v6l3du.ca.comcast.net) (Ping timeout: 121 seconds)
[02:51:45] *** Joins: dcb (textual@moz-v6l3du.ca.comcast.net)
[02:55:31] *** Quits: GBGamer (npm@moz-6jp.56c.19.107.IP) (Connection closed)
[03:03:35] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[03:11:52] *** Quits: eddyb (eddyb@moz-5k2.pug.25.188.IP) (Ping timeout: 121 seconds)
[03:14:43] *** Joins: eddyb (eddyb@moz-pic.82i.25.188.IP)
[03:16:21] *** Joins: semarie (semarie@moz-jg3cg1.bpv6.bg1u.41d0.2001.IP)
[03:22:39] *** Quits: dcb (textual@moz-v6l3du.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:32:23] *** Quits: semarie (semarie@moz-jg3cg1.bpv6.bg1u.41d0.2001.IP) (Ping timeout: 121 seconds)
[03:38:14] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[03:39:24] *** Joins: semarie (semarie@moz-g3imo8.dsl.ovh.fr)
[03:39:46] *** Quits: bkoropoff (bkoropoff@moz-kthi5c.wa.comcast.net) (Client exited)
[03:47:40] *** Joins: dcb (textual@moz-v6l3du.ca.comcast.net)
[03:47:43] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[03:47:53] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[04:01:36] *** Quits: dcb (textual@moz-v6l3du.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:06:28] *** Joins: dcb (textual@moz-v6l3du.ca.comcast.net)
[04:06:33] *** Joins: brson (brson@moz-1t0.c9m.56.172.IP)
[04:06:33] *** ChanServ sets mode: +o brson
[04:09:29] *** Quits: Ericson2314 (user@moz-5muv45.m9e4.oi28.0306.2602.IP) (Ping timeout: 121 seconds)
[04:14:23] *** Quits: Kingsquee (kingsley@moz-k72lip.bchsia.telus.net) (Quit: Konversation terminated!)
[04:18:38] <Havvy> Murarth:  Thoughts on https://github.com/murarth/try/pull/1/files ?
[04:22:58] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[04:23:02] *** Quits: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au) (Ping timeout: 121 seconds)
[04:31:07] *** Joins: Quxxy (chatzilla@moz-0nv.jkp.167.59.IP)
[04:31:41] *** Quits: dcb (textual@moz-v6l3du.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:36:54] *** Quits: O01eg (o01eg@moz-3agoj3.qpcp.3egh.2698.2a02.IP) (Client exited)
[04:37:10] <Murarth> Havvy: I left a comment. I don't really feel strongly about it. I was just keeping things simple. A real implementation (if it's accepted) could do whatever is most sensible.
[04:38:21] <Havvy> Cool.
[04:39:45] <Havvy> If you're extending try!() to Option<T>, it's not necessarily true that `None` is an "error" in the English sense of the word, so I don't think we should call it an Error in the try function.
[04:43:07] <Murarth> True. But there's precedent (in binary_search) for using Result to express two different cases when neither one is really an error. binary_search used to have a custom enum. I expect it was changed for simplicity and to avoid having to import another name for such a limited use.
[04:44:14] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[04:44:14] *** ChanServ sets mode: +o pcwalton
[04:44:24] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[04:47:29] *** Joins: yjv (yjv@moz-ll38tk.pa.comcast.net)
[04:49:46] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[04:50:54] *** Joins: dcb (textual@moz-v6l3du.ca.comcast.net)
[04:51:35] *** Quits: dcb (textual@moz-v6l3du.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:52:27] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[04:53:15] *** Joins: dcb (textual@moz-v6l3du.ca.comcast.net)
[04:56:52] *** Quits: bdero (bran@moz-nr0176.b90n.1kaj.018d.2601.IP) (Ping timeout: 121 seconds)
[04:58:16] *** Joins: Pierre_M (Pierre_M@moz-2vs15r.slkc.qwest.net)
[05:03:16] *** Quits: aatch (james@moz-i1k1ks.tlms.2o1v.e006.2406.IP) (Connection closed)
[05:03:22] *** Joins: bdero (bran@moz-nr0176.b90n.1kaj.018d.2601.IP)
[05:03:39] *** Quits: brson (brson@moz-1t0.c9m.56.172.IP) (Connection closed)
[05:06:47] *** Joins: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au)
[05:14:24] *** Quits: bdero (bran@moz-nr0176.b90n.1kaj.018d.2601.IP) (Ping timeout: 121 seconds)
[05:15:32] *** Joins: bdero (bran@moz-nr0176.b90n.1kaj.018d.2601.IP)
[05:17:45] *** Quits: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au) (Ping timeout: 121 seconds)
[05:20:48] <kmc> an outlandish idea... auto-translating C++ to Rust would be very hard, but auto-translating the dialect of C++ used in, say, the LLVM codebase should be a lot easier
[05:21:04] *** Quits: bdero (bran@moz-nr0176.b90n.1kaj.018d.2601.IP) (Ping timeout: 121 seconds)
[05:21:13] <kmc> because (like any well run C++ project) they stick to a set of conventions and "best practices" and avoid other features
[05:22:26] <WindowsBunny> kmc: You want to port llvm to Rust?
[05:22:31] <kmc> I'm thinking about the long term question of how you would pivot to a pure Rust ecosystem, once "all new software" is written in Rust or languages implemented in Rust
[05:22:45] <kmc> reimplementing LLVM from scratch would be way too much work
[05:23:19] <kmc> but you could do a one time translation that preserves formatting and translates idiomatic LLVM-C++ APIs to idiomatic Rust APIs
[05:24:15] <kmc> writing the translator wouldn't exactly be easy, but it'd be a lot easier than reimplementing LLVM
[05:24:40] <Havvy> You could even make it a compiler plugin? *ducks*
[05:25:01] <kmc> yeah
[05:27:00] <kmc> of course someone should write a C compiler in Rust at some point
[05:27:20] <kmc> but probably, nobody should ever start another C++ compiler from scratch, ever again :P
[05:27:34] <Mutabah> kmc: I started a C parser in rust actually
[05:27:59] <Mutabah> kmc: Granted, it migrated towards parsing a C derivative I was working on for writing UDI drivers... but still
[05:28:19] <kmc> UDI?
[05:30:42] <kmc> since LLVM is a compiler, it largely uses inheritance to fake up algebraic data types
[05:30:52] <kmc> so I bet a lot of files would get much, much shorter
[05:31:04] <kmc> there are 500 line headers that would be a 10 line enum
[05:31:08] <kmc> ;D
[05:31:17] <eddyb> kmc: LLVM C++ is not nice
[05:31:27] <eddyb> lots of intrusive shennanigans
[05:31:41] <kmc> it's not nice exactly, but it's reasonably self-consistent from what I've seen
[05:32:01] <eddyb> yeah, you don't have to worry about virtual multiple inheritance :P
[05:32:07] <kmc> you can translate intrusive ptrs to extra indirection, and then work on fixing up the performance later
[05:32:30] <kmc> you can also translate some files by hand entirely
[05:32:37] <eddyb> I think you can get better performance in some cases
[05:32:50] <kmc> the idea is to write a tool that does 80% of the work, with 20% or maybe more like 2% the effort of doing it by hand
[05:33:11] <eddyb> it does this weird thing of having argument vectors even in cases when the number of arguments is known
[05:33:16] <kmc> o_O
[05:33:27] <eddyb> and by arguments I mean operands, of course
[05:33:50] <eddyb> that vector is allocated before the value, that is, *Value is a pointer in the middle of a malloc allocation
[05:34:21] <eddyb> and the Value contains a pointer to the vector before it
[05:34:46] <eddyb> at the same time, it doesn't use an arena for it
[05:35:34] <eddyb> kmc: having a tool do most of the work is a very good way to go about this
[05:36:01] <eddyb> it's how I wanted to tackle decompilation, back when I was working on *that* pipe dream
[05:36:32] *** Quits: genbattle (genbattle@moz-4v0.gkd.16.182.IP) (Ping timeout: 121 seconds)
[05:36:47] <eddyb> you can't have a fully automatic solution, but you could optimize for querying the developer the least number of times possible
[05:37:07] <eddyb> "here, take a look at this algorithm, what does it remind you of?"
[05:37:31] *** Joins: gretch (Mibbit@moz-hu6.nja.252.72.IP)
[05:40:15] <eddyb> kmc: it would be some work to even translate C to unsafe Rust, I don't even know where to start to use clang to analyze C or C++ code
[05:41:18] <eddyb> I've been spoiled by the neatness of Rust APIs - even if rustc is not the cleanest or most up to date on conventions, it's still quite accessible
[05:41:34] <eddyb> you take a good look at an ADT and it *makes sense*
[05:43:02] <eddyb> I could've sworn I came in here to ping someone, though
[05:43:44] <eddyb> aturon: I saw the RFC, I'm not worried much about it, other than the keywords and maybe potential abuse
[05:44:18] <eddyb> aturon: but I do want to see how it ties into the inheritance (replacement) scheme, I am still clueless (and anxious)
[05:46:58] *** Quits: gretch (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:49:14] <eddyb> aturon: do you plan some desugaring from default method bodies to a blanket impl which can be "specialized" for the regular impls?
[05:49:52] <eddyb> I'm still not seeing how it fits in with enheritance
[05:52:36] *** Quits: yjv (yjv@moz-ll38tk.pa.comcast.net) (Connection closed)
[06:01:29] *** Joins: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au)
[06:06:29] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[06:06:34] *** Joins: zxq9 (ceverett@moz-fe3mfn.mesh.ad.jp)
[06:09:30] *** Joins: James__ (quassel@moz-7abj9b.range86-163.btcentralplus.com)
[06:10:32] *** Quits: zxq9 (ceverett@moz-fe3mfn.mesh.ad.jp) (Quit: Konversation terminated!)
[06:15:06] *** Joins: Ericson2314 (user@moz-5muv45.m9e4.oi28.0306.2602.IP)
[06:15:24] *** Parts: Ericson2314 (user@moz-5muv45.m9e4.oi28.0306.2602.IP) ("ERC (IRC client for Emacs 24.5.2)")
[06:15:30] *** Joins: Ericson2314_ (user@moz-5muv45.m9e4.oi28.0306.2602.IP)
[06:15:49] *** Ericson2314_ is now known as Ericson2314
[06:18:18] *** Quits: Peach (Peach@moz-500.6lb.246.96.IP) (Client exited)
[06:19:05] *** Joins: Peach (Peach@moz-500.6lb.246.96.IP)
[06:20:31] *** Quits: RC9 (RCIX@moz-uq0.dfa.8.198.IP) (Ping timeout: 121 seconds)
[06:22:21] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[06:31:26] *** Quits: Peach (Peach@moz-500.6lb.246.96.IP) (Client exited)
[06:36:46] *** Quits: njn (chatzilla@moz-270n86.iinet.net.au) (Quit: ChatZilla 0.9.91.1 [Firefox 42.0a1/20150713004157])
[06:39:44] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[06:43:34] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:44:24] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[06:50:52] *** Quits: tynopex (Mibbit@moz-ikvsjo.cable.rogers.com) (Quit: http://www.mibbit.com ajax IRC Client)
[06:51:00] *** Quits: dcb (textual@moz-v6l3du.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[06:51:09] *** Joins: dcb (textual@moz-v6l3du.ca.comcast.net)
[06:53:21] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[06:54:29] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[06:55:27] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:55:33] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[06:56:00] *** Quits: lu324 (lu324___@moz-3v8ljg.dhcp.embarqhsd.net) (Ping timeout: 121 seconds)
[06:56:01] *** Quits: James__ (quassel@moz-7abj9b.range86-163.btcentralplus.com) (Ping timeout: 121 seconds)
[06:57:10] *** Joins: eljay (eljay@moz-fmte10.skybroadband.com)
[06:58:01] *** Joins: nagisa (nagisa@moz-8t068g.static.zebra.lt)
[07:01:59] *** Quits: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au) (Ping timeout: 121 seconds)
[07:02:24] <Manishearth> nrc: what are your 8.5 methods of calling a method?
[07:04:14] <Manishearth> I see .foo(); Type::foo(&self), same without <> sugar, then dynamic dispatch
[07:04:39] <nagisa> a.method(); <Trait as A>::method(a); A::method(a); extern { _ZN…method…(a); } _ZN…method…(a) I can think of these
[07:05:03] <nagisa> (well, extern would need to specify a correct ABI
[07:05:04] <nagisa> )
[07:05:57] <Manishearth> oh forgot the extern stuff
[07:06:22] <Manishearth> I wonder if we can use Fn*
[07:06:40] <Manishearth> nope
[07:06:40] <nrc> I wasn't even counting extern!
[07:07:00] <Manishearth> playbot: ("".len).call((,))
[07:07:01] -playbot- <anon>:9:24: 9:25 error: unexpected token: `,`
[07:07:01] -playbot- <anon>:9         ("".len).call((,))
[07:07:01] -playbot- output truncated; full output at: http://bit.ly/1GiFlsf
[07:07:05] <Manishearth> playbot: ("".len).call(())
[07:07:06] -playbot- <anon>:9:13: 9:16 error: attempted to take value of method `len` on type `&'static str`
[07:07:06] -playbot- <anon>:9         ("".len).call(())
[07:07:06] -playbot- output truncated; full output at: http://bit.ly/1K3AvXQ
[07:07:09] <Manishearth> nope
[07:07:46] <nrc> Manishearth: https://gist.github.com/nrc/7261e80068115a3ac76c
[07:08:12] <Manishearth> nrc: oh, you're countind the different rypes of methods too
[07:08:41] <nrc> I'm counting (I think) the different code paths in the compiler for method dispatch
[07:08:45] <Manishearth> you have UFCS static with receiver too
[07:08:51] <Manishearth> gotcha
[07:08:57] <nrc> in a hand-wavey kind of way
[07:09:09] <Manishearth> nrc: I wonder if we can treat methods as associated closures with the capture clause being self
[07:09:10] <nrc> e.g.?
[07:09:25] <Manishearth> Foo.m4(); --> Foo::m4(&Foo);
[07:09:51] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[07:10:09] <nrc> ah, yes
[07:10:24] <Gankro> r? everyone in the universe? https://github.com/rust-lang/rust/pull/27032
[07:10:33] <Manishearth> universe says no
[07:10:48] <Manishearth> http://truestorieswithgill.com/wp-content/uploads/2013/09/20130915-190532.jpg
[07:11:57] <Manishearth> Gankro: only if you review my object safety blog-post-as-a-diagnostic and my wrapper types merge
[07:12:36] <Gankro> Manishearth: I considered going over the wrapper types thing but it seems like everyone else had it covered?
[07:12:57] <Manishearth> Gankro: yeah sorry do the object safety one. That just needs a steve-colored rubber stamp :)
[07:13:07] <Gankro> link?
[07:13:14] <Manishearth> https://github.com/rust-lang/rust/pull/26963/files
[07:13:25] <nagisa> I’d say, just commit and everybody interested will fill issues/pulls anyway
[07:13:27] <Manishearth> there's this whole bit about object safety I may or may not have gotten correctly :)
[07:14:29] <nagisa> though I’m doubtful having 10 books will ever do anything good for people who’re learning rust
[07:14:49] <nagisa> (maybe merge everything into one super-rust-bible?)
[07:15:25] <Manishearth> Gankro: +++ on writing style
[07:16:03] <Gankro> nagisa: I think having a binary split between beginner and advanced is useful
[07:16:09] <Gankro> I doubt a third will be necessary
[07:16:12] <Gankro> modulo the reference
[07:17:35] <Manishearth> TRPL, TARPL, and The Rust Programming Fromage, a 16th century account of an eccentric monk who used mushrooms in his cheese-making process
[07:18:08] <Manishearth> We could also publish a Go book to troll everyone
[07:19:21] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[07:21:17] <Pierre_M> ha
[07:22:21] <Gankro> Manishearth: I think that's just the first 1/10th of TRPL ;P
[07:28:27] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[07:29:46] <Manishearth> Gankro: there's no bullet point for "rules specified by intrinsics" ..?
[07:29:58] <Gankro> It's in the paragraph below
[07:30:10] <Manishearth> oh right
[07:30:32] <Gankro> The list is basically the core language. Everything else is just shit we decided to declare randomly
[07:30:53] <Manishearth> Gankro: I expect more proclamations of doom in the book
[07:30:54] <Gankro> Or more accurately, shit llvm decided to declare
[07:30:57] <Manishearth> heh
[07:30:58] <Gankro> no
[07:31:01] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[07:37:30] *** Joins: laumann (thomas@moz-3m6.3kq.109.2.IP)
[07:41:52] *** Quits: nham (nham@moz-lglsfe.il.comcast.net) (Ping timeout: 121 seconds)
[07:43:47] <Gankro> Manishearth: It's 1am can't read
[07:44:04] <Manishearth> Gankro: np expect lots of comments on tardis tomorrow
[07:45:42] *** Joins: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au)
[07:50:31] *** Joins: sigma (sigma@moz-92585k.range217-44.btcentralplus.com)
[07:51:44] *** Joins: killercup (killercup@moz-0pf6i8.dip0.t-ipconnect.de)
[07:53:40] *** Quits: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au) (Ping timeout: 121 seconds)
[07:54:04] <Manishearth> > Dangling pointer! User after free! Alas!
[07:54:13] <Manishearth> I need to enact that sentence in my talk
[07:54:38] <Manishearth> *talks
[07:55:11] *** Quits: eljay (eljay@moz-fmte10.skybroadband.com) (Quit: Leaving)
[07:56:56] *** Joins: dp (dp@moz-jbmop1.gb4f.8ao9.0e35.2a01.IP)
[08:09:35] *** Joins: listochkin (listochkin@moz-u28j0j.interview.volia.net)
[08:16:29] *** Quits: listochkin (listochkin@moz-u28j0j.interview.volia.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[08:19:22] *** Joins: Tobba (Tobba@moz-4l45on.skybroadband.com)
[08:20:43] <doener> oh, looks like llvm will drop support for XP after 3.7
[08:21:30] <WindowsBunny> doener: targetting XP or running on XP?
[08:21:38] *** Quits: laumann (thomas@moz-3m6.3kq.109.2.IP) (Ping timeout: 121 seconds)
[08:23:54] <doener> WindowsBunny: running, actually. I had misread the message on the list first, thinking that it was about dropping target support as well.
[08:23:58] <doener> http://lists.cs.uiuc.edu/pipermail/llvmdev/2015-July/087991.html
[08:24:08] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[08:25:07] *** Quits: sigma (sigma@moz-92585k.range217-44.btcentralplus.com) (Ping timeout: 121 seconds)
[08:25:09] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[08:25:11] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[08:27:15] *** Quits: dcb (textual@moz-v6l3du.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[08:30:22] <Manishearth> doener: shouldn't xp vs vista not matter for target anyway?
[08:30:41] <Manishearth> as fas as llvm is cponcerned
[08:36:22] *** Joins: arrayjumper (Mibbit@moz-5nide5.res.rr.com)
[08:36:52] <Tobba> pretty sure LLVM gives no fucks about the specific windows version
[08:37:01] <Tobba> except maybe some TLS tidbits?
[08:37:27] *** Joins: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au)
[08:44:16] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[08:49:07] *** Joins: goyox86 (textual@moz-qfs.570.70.83.IP)
[08:54:08] *** Joins: killercu_ (killercup@moz-0pf6i8.dip0.t-ipconnect.de)
[08:56:59] *** Quits: killercup (killercup@moz-0pf6i8.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[08:59:18] *** Joins: laumann (thomas@moz-3m6.3kq.109.2.IP)
[08:59:57] *** Joins: nham (nham@moz-lglsfe.il.comcast.net)
[09:04:05] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[09:04:41] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Quit: Leaving.)
[09:13:32] *** Joins: listochkin (listochkin@moz-iv2.3rb.216.62.IP)
[09:17:07] *** Joins: listochk_ (listochkin@moz-iv2.3rb.216.62.IP)
[09:19:35] *** Joins: Kingsquee (kingsley@moz-k72lip.bchsia.telus.net)
[09:20:07] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[09:20:35] *** Quits: listochkin (listochkin@moz-iv2.3rb.216.62.IP) (Ping timeout: 121 seconds)
[09:23:05] *** Joins: vmx (vmx@moz-o12erd.dip0.t-ipconnect.de)
[09:23:10] <doener> I had expected one of the test{1,2} functions to work: http://is.gd/y3Bmou
[09:27:03] *** Quits: arrayjumper (Mibbit@moz-5nide5.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[09:27:35] *** Quits: Tobba (Tobba@moz-4l45on.skybroadband.com) (A TLS packet with unexpected length was received.)
[09:33:19] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[09:38:07] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[09:41:31] <kimundi> doener: For both the caller chooses the lifetime paramter
[09:45:11] *** Joins: bluss (bluss@moz-dc3fi4.customer.cdi.no)
[09:47:54] *** Quits: nham (nham@moz-lglsfe.il.comcast.net) (Ping timeout: 121 seconds)
[09:52:15] *** Quits: tamird (textual@moz-lat.dkr.14.50.IP) (Connection closed)
[10:04:34] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[10:10:51] *** Quits: Pierre_M (Pierre_M@moz-2vs15r.slkc.qwest.net) (Ping timeout: 121 seconds)
[10:12:05] *** Joins: Pierre_M (Pierre_M@moz-hjf32l.slkc.qwest.net)
[10:13:33] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[10:16:06] *** Quits: Skyler (Skyler@moz-7ds39s.sd.cox.net) (Connection closed)
[10:16:22] *** Joins: Skyler (Skyler@moz-7ds39s.sd.cox.net)
[10:23:22] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[10:29:16] *** ChanServ sets mode: +ao Manishearth Manishearth
[10:31:11] *** Quits: listochk_ (listochkin@moz-iv2.3rb.216.62.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[10:31:15] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[10:37:29] *** Quits: goyox86 (textual@moz-qfs.570.70.83.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[10:39:48] *** Joins: goyox86 (textual@moz-qfs.570.70.83.IP)
[10:45:38] *** Joins: lu324 (lu324___@moz-gogein.dhcp.embarqhsd.net)
[10:49:28] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[10:55:59] *** Quits: killercu_ (killercup@moz-0pf6i8.dip0.t-ipconnect.de) (Quit: My Mac has gone to sleep. ZZZzzz…)
[11:00:12] <SimonSapin> steveklabnik: "For example, if you have a gigabyte of RAM, your addresses go from 0 to 1,073,741,824." Is this ignoring virtual address space was on purpose to keep things simple?
[11:02:09] <WindowsBunny> SimonSapin: Virtual address is really important
[11:02:31] <WindowsBunny> SimonSapin: Maybe if it clarified that your physical addresses go from 0 to whatever
[11:02:48] <WindowsBunny> and that physical addresses are not what you work with in normal code do to virtual memory systems
[11:02:53] <WindowsBunny> *due to
[11:03:14] <SimonSapin> This is from https://doc.rust-lang.org/book/the-stack-and-the-heap.html
[11:03:58] <SimonSapin> WindowsBunny: it’s important, but maybe can be ignored in this intro chapter?
[11:04:22] *** Joins: summerlight (summerlight@moz-lb3.6do.193.175.IP)
[11:06:05] <WindowsBunny> maybe
[11:06:21] <WindowsBunny> maybe we just need the TURPL to explain this more detailed
[11:09:19] *** Joins: mukilan (mukilan@moz-uaj.174.164.122.IP)
[11:09:59] *** Quits: goyox86 (textual@moz-qfs.570.70.83.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[11:10:03] *** Joins: goyox86 (textual@moz-6gq.t8s.78.166.IP)
[11:13:21] *** Joins: listochkin (listochkin@moz-iv2.3rb.216.62.IP)
[11:18:25] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[11:22:35] *** Quits: mukilan (mukilan@moz-uaj.174.164.122.IP) (A TLS packet with unexpected length was received.)
[11:24:14] <steveklabnik> SimonSapin: yes
[11:24:27] <steveklabnik> this is introducing people to the general concepts
[11:24:40] <SimonSapin> ok
[11:26:32] <frewsxcv> Anyone have any insight as to why this regression test is failing? https://github.com/rust-lang/rust/pull/26988 something related to the format of the expected error message
[11:29:44] <bluss> frewsxcv: maybe you need // ~^^ ERROR    I looked at compile-fail/bad-sized.rs
[11:30:13] <bluss> git grep -F '^^' to see more examples of many errors on a line
[11:30:23] <bluss> from the same line, I guess
[11:30:38] <frewsxcv> You're allowed to cut off the end of the message, right?
[11:30:56] <bluss> yes I think so
[11:31:01] <bluss> I've done it
[11:31:27] <frewsxcv> Okay, I did that for the other ones too and it didn't complain so it must be the ^^
[11:31:48] *** Joins: Diggsey (diggsey@moz-7rhhd2.dsl.pipex.com)
[11:31:53] <bluss> yes for the error's line number to match
[11:32:03] *** Joins: wcosta (wander@moz-er7.5ve.255.191.IP)
[11:32:13] <bluss> frewsxcv: ping me and I can re-r
[11:32:13] <frewsxcv> Thanks bluss, I'll try that 
[11:32:19] *** Joins: mukilan (mukilan@moz-uaj.174.164.122.IP)
[11:32:40] *** Quits: mukilan (mukilan@moz-uaj.174.164.122.IP) (A TLS packet with unexpected length was received.)
[11:33:18] *** Quits: lu324 (lu324___@moz-gogein.dhcp.embarqhsd.net) (Connection closed)
[11:33:48] *** Joins: lu324 (lu324___@moz-gogein.dhcp.embarqhsd.net)
[11:35:58] *** Quits: untitaker (untitaker@moz-12ob49.highway.telekom.at) (Ping timeout: 121 seconds)
[11:36:59] *** Joins: untitaker (untitaker@moz-0js7jc.highway.telekom.at)
[11:39:42] <bluss> frewsxcv: by the way you should be able to test run your tests for example using   make check-stage1-cfail TESTNAME=issue-23595-1
[11:39:58] <bluss> frewsxcv: maybe I've got something wrong in that line (from memory), but something like that
[11:55:58] *** Joins: imperio (Mibbit@moz-0ebgt2.fbx.proxad.net)
[12:01:12] *** Joins: Sho (sho@moz-jpc.arq.28.5.IP)
[12:02:04] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[12:05:09] *** Joins: mgottschlag (quassel@moz-6ji51n.qiv1.bbcb.1398.2a00.IP)
[12:09:06] *** Quits: listochkin (listochkin@moz-iv2.3rb.216.62.IP) (Connection closed)
[12:09:25] *** Joins: listochkin (listochkin@moz-iv2.3rb.216.62.IP)
[12:10:03] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[12:10:11] *** Joins: listochk_ (listochkin@moz-iv2.3rb.216.62.IP)
[12:13:39] *** Quits: listochkin (listochkin@moz-iv2.3rb.216.62.IP) (Ping timeout: 121 seconds)
[12:14:00] *** Joins: mukilan (mukilan@moz-uaj.174.164.122.IP)
[12:19:27] *** Quits: rovar (rovar@moz-96effg.dyn.optonline.net) (Ping timeout: 121 seconds)
[12:26:29] *** Joins: killercup (killercup@moz-0pf6i8.dip0.t-ipconnect.de)
[12:37:09] *** Quits: mgottschlag (quassel@moz-6ji51n.qiv1.bbcb.1398.2a00.IP) (Ping timeout: 121 seconds)
[12:40:11] *** Joins: mgottschlag (quassel@moz-6ji51n.qiv1.bbcb.1398.2a00.IP)
[12:44:30] *** Joins: arielb1 (Mibbit@moz-cmi.jfj.114.192.IP)
[12:44:41] *** Quits: mgottschlag (quassel@moz-6ji51n.qiv1.bbcb.1398.2a00.IP) (Ping timeout: 121 seconds)
[12:45:21] *** Joins: mgottschlag (quassel@moz-cgd5u6.h71g.nb65.1398.2a00.IP)
[12:48:23] <arielb1> the hard part in llogiq's puzzler is chasing the methods, not resolving inheritance
[12:48:30] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[12:48:49] <arielb1> I don't think it will be clearer if you UFCS all the calls
[12:52:27] <arielb1> the annoying part of specialization is that it completely breaks dropck
[12:52:43] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[12:52:47] <arielb1> in its presence, we may want to change dropck to a dynamically-safe form of unsafe_destructor
[12:53:32] <arielb1> that would be a big scary breaking-change
[12:54:51] *** Quits: mgottschlag (quassel@moz-cgd5u6.h71g.nb65.1398.2a00.IP) (Ping timeout: 121 seconds)
[12:55:15] *** Joins: mgottschlag (quassel@moz-cgd5u6.h71g.nb65.1398.2a00.IP)
[12:59:41] <arielb1> aturon: "Every function/method in a trait has an implicit associated type that implements the closure types"
[12:59:47] <arielb1> what's that?
[12:59:56] *** Joins: amyers (amyers@moz-qn874b.zip.zayo.com)
[13:00:14] *** Joins: bdero (bran@moz-fc57gf.ma.comcast.net)
[13:00:28] *** Quits: amyers (amyers@moz-qn874b.zip.zayo.com) (Connection closed)
[13:00:38] *** Joins: amyers (amyers@moz-qn874b.zip.zayo.com)
[13:00:50] <arielb1> the closure isn't an associated type of the trait
[13:00:54] *** Quits: mgottschlag (quassel@moz-cgd5u6.h71g.nb65.1398.2a00.IP) (Ping timeout: 121 seconds)
[13:01:07] <arielb1> it is a separate ADT, with bounds matching the trait bounds
[13:01:52] <arielb1> that's how the standard desugaring goes, at least
[13:02:24] *** Quits: bdero (bran@moz-fc57gf.ma.comcast.net) (Quit: Leaving.)
[13:02:38] <arielb1> the bounds are the method bounds, not the trait bounds, in fact
[13:04:29] *** Joins: bdero (bran@moz-nr0176.b90n.1kaj.018d.2601.IP)
[13:04:53] <arielb1> || upvar
[13:04:53] <arielb1> desugars to
[13:05:33] <arielb1>  { struct Closure<'parent> { upvar: &'parent _ } impl<'parent, ..> FnOnce<()> for Closure<'parent> { type Output = _; fn call_once(&self, args: ()) -> _ { self.upvar } } Closure { upvar: &upvar } }
[13:05:48] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[13:05:58] <arielb1> except 'parent is implicit - checked by regionck, not borrowck
[13:06:21] <arielb1> *borrowck, not regionck
[13:10:08] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[13:12:34] *** Joins: mgottschlag (quassel@moz-kakuqi.scc.kit.edu)
[13:14:00] *** Joins: Pierre_M_ (Pierre_M@moz-hjf32l.slkc.qwest.net)
[13:16:36] *** Quits: Pierre_M (Pierre_M@moz-hjf32l.slkc.qwest.net) (Ping timeout: 121 seconds)
[13:19:43] *** Quits: mgottschlag (quassel@moz-kakuqi.scc.kit.edu) (Ping timeout: 121 seconds)
[13:21:14] *** Quits: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk) (Ping timeout: 121 seconds)
[13:24:25] *** Joins: ytain (ytain@moz-u0rb5h.dsl.teksavvy.com)
[13:26:02] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[13:30:22] *** Quits: wcosta (wander@moz-er7.5ve.255.191.IP) (Quit: Leaving.)
[13:30:37] *** Joins: aepsil0n (eduard@moz-96u0hs.hsi8.kabel-badenwuerttemberg.de)
[13:33:47] *** Joins: wcosta (wander@moz-er7.5ve.255.191.IP)
[13:34:46] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[13:38:29] <imperio> eddyb: pnkfelix: I updated the PR (gh26898)
[13:38:29] <[o__o]> Improvements of librustc_resolve and add missing error codes: https://github.com/rust-lang/rust/pull/26898
[13:39:12] <imperio> pnkfelix: I really like the macro =)
[13:47:44] *** Quits: arielb1 (Mibbit@moz-cmi.jfj.114.192.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:52:48] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[13:54:51] *** Quits: wcosta (wander@moz-er7.5ve.255.191.IP) (Quit: Leaving.)
[13:56:05] *** Joins: RC9 (RCIX@moz-7omm6s.ph.cox.net)
[13:56:18] <nagisa> pnkfelix: you might want to review https://github.com/rust-lang/rust/pull/27026#issuecomment-121152135
[14:00:59] *** Quits: imperio (Mibbit@moz-0ebgt2.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[14:03:52] *** Joins: Tobba (Tobba@moz-oecqnu.plus.com)
[14:03:56] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[14:08:04] *** Joins: imperio (Mibbit@moz-0ebgt2.fbx.proxad.net)
[14:08:29] <imperio> eddyb: I actually didn't think about it... I'll make it a parameter of the function instead of a field of the enums
[14:12:19] *** Quits: goyox86 (textual@moz-6gq.t8s.78.166.IP) (Connection closed)
[14:14:55] *** Joins: goyox86 (textual@moz-qfs.570.70.83.IP)
[14:15:14] <nagisa> idea for assembly (a mix of module-level assembly and naked functions proposal): `extern "asm" fn zero_rax(rax) { xor rax, rax }`
[14:16:18] *** Quits: goyox86 (textual@moz-qfs.570.70.83.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:18:15] *** Quits: aepsil0n (eduard@moz-96u0hs.hsi8.kabel-badenwuerttemberg.de) (Connection closed)
[14:18:25] <eddyb> first-class macro assembler?
[14:20:32] <nagisa> I think it would be possible to use LLVM’s module-level assembler support.
[14:20:59] <nagisa> oh, shrugs
[14:36:12] *** Joins: goyox86 (textual@moz-qfs.570.70.83.IP)
[14:36:15] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:41:27] *** Quits: Tobba (Tobba@moz-oecqnu.plus.com) (A TLS packet with unexpected length was received.)
[14:42:37] *** Joins: goyox86_ (textual@moz-qfs.570.70.83.IP)
[14:43:22] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[14:44:05] *** Quits: goyox86 (textual@moz-qfs.570.70.83.IP) (Ping timeout: 121 seconds)
[14:44:36] *** Joins: Peach (Peach@moz-500.6lb.246.96.IP)
[14:49:14] *** Joins: mukilan_ (mukilan@moz-mu4.o0o.164.122.IP)
[14:49:42] *** Quits: mukilan (mukilan@moz-uaj.174.164.122.IP) (Ping timeout: 121 seconds)
[14:51:37] *** Quits: mukilan_ (mukilan@moz-mu4.o0o.164.122.IP) (A TLS packet with unexpected length was received.)
[14:51:54] *** Joins: mukilan (mukilan@moz-mu4.o0o.164.122.IP)
[14:55:23] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[14:55:23] *** ChanServ sets mode: +o brson
[14:58:44] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[15:02:11] <Manishearth> bstrie: ping
[15:02:40] *** Quits: imperio (Mibbit@moz-0ebgt2.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[15:06:09] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[15:13:09] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[15:19:29] *** Joins: tynopex (Mibbit@moz-ikvsjo.cable.rogers.com)
[15:19:46] *** Joins: arielb1 (Ariel@moz-b95g78.red.bezeqint.net)
[15:21:35] *** Quits: Kingsquee (kingsley@moz-k72lip.bchsia.telus.net) (Quit: Konversation terminated!)
[15:27:42] *** Joins: aepsil0n (eduard@moz-adiikc.5mue.uq8s.8071.2a02.IP)
[15:32:44] *** Quits: blaenk (blaenkdenum@moz-ggnkpd.res.rr.com) (Quit: Leaving)
[15:33:57] *** Quits: Amaranth (travis@moz-1raqsl.cpe.cableone.net) (Connection closed)
[15:36:37] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (A TLS packet with unexpected length was received.)
[15:38:11] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[15:38:19] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[15:38:46] *** Joins: Amaranth (travis@moz-1raqsl.cpe.cableone.net)
[15:39:35] *** Quits: ytain (ytain@moz-u0rb5h.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[15:40:39] *** Joins: yjv (yjv@moz-j0cdis.fios.verizon.net)
[15:48:17] <bstrie> brson Manishearth: agh! overslept!
[15:49:48] <bstrie> I am really not a morning person...
[15:50:00] <Manishearth> bstrie: you can still join
[15:50:02] <Manishearth> it's going on!
[15:50:26] *** Quits: mukilan (mukilan@moz-mu4.o0o.164.122.IP) (A TLS packet with unexpected length was received.)
[15:50:46] * Manishearth braces self to see a bstrie-sans-morning-coffee
[15:51:46] <Manishearth> agh, motion sensitive lights in conf room turned off
[15:52:05] <bstrie> it won't be pretty, I can assure you
[15:53:03] <bstrie> I have to remember how to use vidyo
[15:53:15] <Manishearth> bstrie: run VidyoDesktop and click the link
[15:53:19] <Manishearth> link is on the calendar
[15:53:26] *** Joins: eibwen (eibwen@moz-k26hp6.dip0.t-ipconnect.de)
[15:53:43] <bluss> I'm wondering what the builders are doing https://github.com/rust-lang/rust/pull/27024
[15:53:47] <bluss> http://buildbot.rust-lang.org/console?refresh=15
[15:53:58] <bluss> my PR is broken? it's certainly taking time
[15:54:43] *** Joins: mukilan (mukilan@moz-mu4.o0o.164.122.IP)
[15:55:00] <bluss> Manishearth: can you look into the homu's brains?
[15:55:14] <Manishearth> bluss: I don't have ssh access
[15:55:18] <Manishearth> you want acrichto 
[15:55:21] <bluss> ok
[15:55:36] <bluss> if you have a meeting it can wait
[15:55:45] <Manishearth> both of us do :)
[16:03:16] *** Quits: summerlight (summerlight@moz-lb3.6do.193.175.IP) (Ping timeout: 121 seconds)
[16:03:56] *** Joins: O01eg (o01eg@moz-ne06bf.3r7k.3egh.2698.2a02.IP)
[16:04:44] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[16:06:10] *** Joins: waffles (wafflespean@moz-9v1.43b.136.123.IP)
[16:08:39] *** Quits: dp (dp@moz-jbmop1.gb4f.8ao9.0e35.2a01.IP) (Quit: Leaving)
[16:11:52] *** Joins: dcb (textual@moz-v6l3du.ca.comcast.net)
[16:12:26] <nagisa> bluss: it is running tests on bitrig
[16:14:41] <bluss> nagisa: Those shouldn't block or hold up the build though
[16:14:47] <bluss> otherwise every bors cycle is 5 hours
[16:15:05] *** Quits: goyox86_ (textual@moz-qfs.570.70.83.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:15:14] <nagisa> uhh
[16:15:54] <bluss> nagisa: see the last successful merge, it killed the bitrig build, same with the derefmut on strings build before that
[16:16:02] <bluss> info from here http://buildbot.rust-lang.org/console?refresh=15
[16:16:26] <nagisa> yeah
[16:16:39] <nagisa> the last time I had anything to do with build system is long time ago
[16:16:47] <nagisa> so I can’t really say anything either
[16:18:10] *** Joins: frogzilla (Mibbit@moz-hu6.nja.252.72.IP)
[16:19:48] *** Quits: frogzilla (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:24:56] *** Quits: dcb (textual@moz-v6l3du.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:30:12] *** Joins: nham (nham@moz-lglsfe.il.comcast.net)
[16:33:21] <bluss> acrichto: when you have time, bors seems to be stuck see links above in the channel (40 min previously)
[16:34:18] <Manishearth> bluss: http://buildbot.rust-lang.org/builders/auto-bitrig-64-opt/builds/1182/steps/test/logs/stdio seems to be running?
[16:35:20] <bluss> Manishearth: like I mentioned, it shouldn't wait for that
[16:35:50] <Manishearth> hm
[16:36:40] *** Joins: goyox86 (textual@moz-qfs.570.70.83.IP)
[16:37:28] <Manishearth> acrichto: I wonder if we could provide a fake libgit2 that shells out to git to make this easier
[16:37:40] <Manishearth> (only the functions we need, of course)
[16:39:17] *** Quits: aepsil0n (eduard@moz-adiikc.5mue.uq8s.8071.2a02.IP) (Connection closed)
[16:41:17] *** Quits: laumann (thomas@moz-3m6.3kq.109.2.IP) (Ping timeout: 121 seconds)
[16:41:17] *** Joins: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP)
[16:41:17] *** ChanServ sets mode: +o pcwalton
[16:46:13] *** Quits: waffles (wafflespean@moz-9v1.43b.136.123.IP) (Ping timeout: 121 seconds)
[16:47:50] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[16:48:26] *** Joins: Peach_ (Peach@moz-500.6lb.246.96.IP)
[16:50:35] *** Quits: Peach (Peach@moz-500.6lb.246.96.IP) (Ping timeout: 121 seconds)
[16:50:35] *** Peach_ is now known as Peach
[16:52:29] <bstrie> brson: what are the times of the other meetings? I only have 3 on my calendar, not 4
[16:52:43] <bstrie> just want to make sure I'm not de-sync'd
[16:53:01] <Manishearth> bstrie: total of three
[16:53:20] <bstrie> then why do I keep hearing people say there are four meetings...
[16:53:45] <bstrie> there must be some sort of conspiracy against me
[16:53:48] <Manishearth> bstrie: correction, there are three in *my* calendar
[16:54:10] <Manishearth> tomorrow's is 2 hours later
[16:54:36] <bstrie> and then one today at 4 PST
[16:54:59] <Manishearth> I also have I have a meeting/interview/luau/something every morning (Microsoft), and one every evening except Friday (Rust) this week
[16:55:02] <Manishearth> meeeeetings
[16:55:11] <bstrie> but in brson's email: "We have four meetings with prod users starting tomorrow"
[16:55:15] <Manishearth> yeah
[16:55:35] <steveklabnik> i got two today, one tomorrow, one thursday
[16:56:00] <bstrie> this thursday meeting is an anomaly
[16:56:25] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[16:57:55] *** Quits: bluss (bluss@moz-dc3fi4.customer.cdi.no) (Ping timeout: 121 seconds)
[16:59:12] <brson> bstrie Manishearth: I didn't schedule everybody into every meeting because i was worried about them being too big
[17:00:24] <bstrie> keeping in mind that I may be delusional due to lack of sleep, I contend that the real reason is that the thursday meeting is about rust in production at the NSA and/or illuminati headquarters
[17:02:24] <eddyb> I will gladly sign NDAs, but when it shows up wikileaks, know it wasn't me!
[17:02:35] <Manishearth> bstrie: np
[17:02:45] <Manishearth> * brson 
[17:02:59] <Manishearth> brson: if there's a second meeting today I can't attend it anyway :)
[17:03:03] <eddyb> *shows up on
[17:03:28] <eddyb> bstrie: you can measure my lack of sleep by the number of small words I miss
[17:03:37] <Manishearth> It's late here. I could stay back at the office more (still some interns here who I can play ping pong with), but sleep is good
[17:07:13] *** chmanchester|afk is now known as chmanchester
[17:09:32] *** Joins: dcb (dcb@moz-4hh.6p3.217.74.IP)
[17:14:24] *** Quits: Pierre_M_ (Pierre_M@moz-hjf32l.slkc.qwest.net) (Ping timeout: 121 seconds)
[17:16:40] *** Quits: listochk_ (listochkin@moz-iv2.3rb.216.62.IP) (Connection closed)
[17:17:04] *** Joins: listochkin (listochkin@moz-iv2.3rb.216.62.IP)
[17:17:14] *** Quits: goyox86 (textual@moz-qfs.570.70.83.IP) (Connection closed)
[17:18:12] *** Quits: listochkin (listochkin@moz-iv2.3rb.216.62.IP) (Connection closed)
[17:18:38] *** Joins: listochkin (listochkin@moz-iv2.3rb.216.62.IP)
[17:23:17] *** Joins: mcpherrin (mcpherrin@moz-clk6gh.ca.comcast.net)
[17:23:22] *** Quits: arielb1 (Ariel@moz-b95g78.red.bezeqint.net) (Quit: Ex-Chat)
[17:25:55] *** Joins: James__ (quassel@moz-7abj9b.range86-163.btcentralplus.com)
[17:29:55] *** Joins: achanda (achanda@moz-m7s4h8.static.monkeybrains.net)
[17:31:36] *** Quits: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP) (Client exited)
[17:34:21] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Connection closed)
[17:39:46] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[17:40:35] *** Joins: arielb1 (Ariel@moz-b95g78.red.bezeqint.net)
[17:40:44] *** Joins: poorman (poorman@moz-vid7t6.res.rr.com)
[17:41:09] <arielb1> are there any known plans for handling specialization + dropck?
[17:41:13] <arielb1> (cc aturon)
[17:41:14] *** Quits: achanda (achanda@moz-m7s4h8.static.monkeybrains.net) (Connection closed)
[17:41:34] *** Joins: achanda (achanda@moz-m7s4h8.static.monkeybrains.net)
[17:44:08] *** Joins: imperio (Mibbit@moz-0ebgt2.fbx.proxad.net)
[17:47:13] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[17:49:22] <aturon> arielb1: i just left some comments about it on the RFC
[17:49:29] *** Joins: eljay (eljay@moz-fmte10.skybroadband.com)
[17:55:41] *** Quits: listochkin (listochkin@moz-iv2.3rb.216.62.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:01:18] <arielb1> aturon: it seems that relying on #[fundamental] is needed for anything that works
[18:01:45] <arielb1> (the absence of it)
[18:02:06] <arielb1> otherwise you can implement all the markers you want
[18:02:55] *** Joins: Pierre_M (Pierre_M@moz-hjf32l.slkc.qwest.net)
[18:14:13] *** Quits: doener (doener@moz-fnh.n4j.147.5.IP) (Quit: leaving)
[18:20:49] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[18:20:49] *** ChanServ sets mode: +o pcwalton
[18:22:47] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[18:25:30] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[18:27:45] *** Joins: mgottschlag (quassel@moz-c3ivja.hsi14.kabel-badenwuerttemberg.de)
[18:30:20] *** Quits: vmx (vmx@moz-o12erd.dip0.t-ipconnect.de) (Quit: Leaving)
[18:32:02] *** Joins: bluss (bluss@moz-dc3fi4.customer.cdi.no)
[18:32:10] <jroesch> arielb1: is #[fundmental] a proposed attribute or did I totally miss something?
[18:32:24] <arielb1> #[fundamental]
[18:32:43] <arielb1> https://github.com/rust-lang/rfcs/blob/master/text/1023-rebalancing-coherence.md
[18:33:13] <arielb1> we don't need the attribute
[18:33:19] <arielb1> just the rules that it is part of
[18:37:34] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[18:39:42] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[18:42:30] *** Quits: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk) (Ping timeout: 121 seconds)
[18:42:43] <brson> is there an easy way to iterate over all the values of a c-like enum?
[18:43:40] <jroesch> arielb1: thanks, that was totally during my busiest period of the year makes sense why I hadn't seen it 
[18:44:33] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[18:45:04] <sfackler> brson: i do not believe so other than writing that yourself
[18:48:23] *** Quits: [o__o] ([o__o]@moz-4s2t5k.compute-1.amazonaws.com) (Ping timeout: 121 seconds)
[18:49:03] <bluss> this crate is popular but it doesn't really give you the iterator https://crates.io/crates/enum_primitive
[18:49:12] <bluss> just a stable replacement for the integer -> enum cast
[18:49:35] <bluss> which, if your integer range is not too sparse, can be a good way to create an iterator (maybe)
[18:49:54] *** Joins: Guest53 (textual@moz-rvv.00r.255.109.IP)
[18:50:06] <Gankro> brson: ^
[18:51:08] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[18:52:03] <eddyb> pnkfelix: https://github.com/rust-lang/rust/pull/26898 LGTM, r?
[18:52:44] <eddyb> bluss: it could easily also generate an iterator :/
[18:52:52] <eddyb> if it's what I think it is
[18:53:06] <bluss> yeah it probably should
[18:53:18] <bluss> it could also be patched to not reexport Option :)
[18:53:26] <bluss> it needs some maintainership
[18:53:32] <eddyb> ahhh $crate
[18:53:48] <eddyb> not much you can do about that, for now
[19:01:09] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[19:02:13] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[19:02:24] *** Quits: dcb (dcb@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:03:37] *** Quits: Quxxy (chatzilla@moz-0nv.jkp.167.59.IP) (Ping timeout: 121 seconds)
[19:04:55] *** Joins: sprang (sprang@moz-gpnug3.3dj0.bqct.0647.2601.IP)
[19:06:35] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[19:07:03] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[19:07:05] <Gankro> arielb1: Can you elaborate on this unsound code you just posted to the RFC? I don't immediately see what it's doing that is unsound. (also you left out a box in `zook = ...`)
[19:07:19] <arielb1> Gankro: that's the point
[19:07:35] <arielb1> its subtle
[19:07:44] <arielb1> note: fields drop in reverse order
[19:07:56] <Gankro> Right
[19:08:07] <arielb1> first the Vec is dropped
[19:08:07] <Gankro> I don't see why specialization changes the dropck analysis
[19:08:11] <arielb1> then Zook is dropped
[19:08:18] <arielb1> the logging function is called
[19:08:23] <arielb1> it prints the object
[19:08:29] <arielb1> which calls Debug on the Box
[19:08:35] <arielb1> *on the Vec
[19:08:37] <arielb1> which is already dropped
[19:08:52] <arielb1> I could actually see this bug occurring in production
[19:09:26] <arielb1> when Java programmers start playing with Rust
[19:09:28] <Gankro> Both of them access the Box's contents...? Is dropck seriously smart enough to see that you "only" take the address of it?
[19:09:49] <arielb1> Gankro: Zook::drop is obviously safe
[19:09:55] <arielb1> and Zook isn't a dropck type
[19:10:01] <arielb1> it just calls a method on &T
[19:10:10] <arielb1> basically every destructor does that
[19:10:15] <arielb1> including that of Vec
[19:10:17] <Gankro> Right
[19:10:38] <arielb1> so the code compiles
[19:11:00] <arielb1> Object<T>: fmt::Debug is satisfied by the blanket impl
[19:11:25] <arielb1> but at runtime the second impl gets called
[19:11:42] <arielb1> because specialization
[19:13:27] <arielb1> Gankro: got it?
[19:14:10] <Gankro> I think the key point which I just worked out with examples is that a plain unbounded T is treated special because you can't possible "do" things to it. It's an opaque pile of bits.
[19:14:27] <Gankro> My dropck understanding is very sketchy
[19:14:55] <arielb1> Gankro: right - this is required for Vec<T> to work
[19:15:22] <nagisa> acrichto: ping
[19:17:31] *** Joins: achanda_ (achanda@moz-fr1.spq.217.162.IP)
[19:17:31] *** Quits: achanda (achanda@moz-m7s4h8.static.monkeybrains.net) (Connection closed)
[19:19:01] *** Quits: barosl (barosl@moz-tmp.qma.67.220.IP) (Quit: Leaving)
[19:19:11] <arielb1> OT: is there a way to make github *not* spam my e-mail?
[19:19:58] <nagisa> arielb1: https://github.com/settings/notifications
[19:20:57] <nagisa> you can also ignore repositories one by one
[19:21:13] <nagisa> by clicking Watch (near Star and Fork) and setting it to ignore
[19:21:26] <arielb1> nagisa: thanks
[19:21:40] <nagisa> and for specific issues there’s a button to subscribe or unsubscribe from specific issues/PRs
[19:22:03] <arielb1> nagisa: the specific-issue-when-I'm-a-part-of-the-discussion is not a problem
[19:22:27] <nagisa> yeah, but you can always subscribe/unsubscribe after-the-fact
[19:23:17] <nagisa> e.g. I have unsubscribed from several RFCs after they’ve became too spammy on several occasions
[19:23:36] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Connection closed)
[19:24:20] <bluss> I don't get a single github email, so it's certainly possible to turn them off
[19:24:59] <nagisa> ~90% of mail I get is from github #foreveralone
[19:26:12] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[19:26:48] <arielb1> nagisa: it sends me 100 notifications/day
[19:26:57] <arielb1> that not so bad
[19:27:31] *** Joins: summerlight (summerlight@moz-lb3.6do.193.175.IP)
[19:27:32] *** Joins: dcb (dcb@moz-4hh.6p3.217.74.IP)
[19:29:58] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[19:33:33] *** Quits: achanda_ (achanda@moz-fr1.spq.217.162.IP) (Ping timeout: 121 seconds)
[19:35:05] *** Joins: achanda (achanda@moz-fr1.spq.217.162.IP)
[19:39:56] *** Joins: barosl (barosl@moz-tmp.qma.67.220.IP)
[19:42:48] *** Joins: killercu_ (killercup@moz-icpsbi.dip0.t-ipconnect.de)
[19:43:24] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[19:44:26] *** Quits: killercup (killercup@moz-0pf6i8.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[19:47:04] *** chmanchester is now known as chmanchester|afk
[19:47:32] *** Joins: [o__o] ([o__o]@moz-4s2t5k.compute-1.amazonaws.com)
[19:47:36] *** Quits: achanda (achanda@moz-fr1.spq.217.162.IP) (Connection closed)
[19:48:31] *** Quits: mukilan (mukilan@moz-mu4.o0o.164.122.IP) (A TLS packet with unexpected length was received.)
[19:48:55] *** Quits: MatrixBridge (matrixirc@moz-905bpb.openmarket.com) (Connection closed)
[19:48:59] *** Joins: MatrixBridge (matrixirc@moz-905bpb.openmarket.com)
[19:49:52] *** Joins: wcosta__ (sid430@moz-ve87os.0j4i.jtu0.0101.2620.IP)
[19:50:07] *** Quits: wcosta__ (sid430@moz-ve87os.0j4i.jtu0.0101.2620.IP) (Quit: )
[19:50:45] *** Joins: wcosta_ (sid430@moz-ve87os.0j4i.jtu0.0101.2620.IP)
[19:51:13] *** Quits: summerlight (summerlight@moz-lb3.6do.193.175.IP) (Ping timeout: 121 seconds)
[19:54:56] <jroesch> arielb1: yeah if I actually read GH during the day actively I can keep up with the flow of notifications 
[20:03:48] *** Quits: semarie (semarie@moz-g3imo8.dsl.ovh.fr) (Ping timeout: 121 seconds)
[20:04:55] *** Joins: genbattle (genbattle@moz-4v0.gkd.16.182.IP)
[20:08:39] *** Quits: amyers (amyers@moz-qn874b.zip.zayo.com) (Ping timeout: 121 seconds)
[20:09:00] *** Quits: Pierre_M (Pierre_M@moz-hjf32l.slkc.qwest.net) (Ping timeout: 121 seconds)
[20:09:34] *** Joins: Pierre_M (Pierre_M@moz-g3a.5hf.152.12.IP)
[20:09:59] *** Pierre_M is now known as PierreM
[20:12:20] <bluss> arielb1: working on siphash. Can you name a type in the compiler that's hashed a lot, so I can try to measure it (and see if it can improve)?
[20:12:29] <bluss> arielb1: or is everything on fnvhash in the compiler?
[20:12:40] <arielb1> bluss: the compiler should be on fnvhash
[20:12:54] <bluss> aha ok, I thought that were only some modules
[20:13:34] <bluss> Maybe that can improve too, there better fast alternatives out there
[20:17:33] *** Quits: PierreM (Pierre_M@moz-g3a.5hf.152.12.IP) (Ping timeout: 121 seconds)
[20:20:25] <Gankro> So what, exactly, needs to happen to get TARPL merged? How many people/who needs to review it? Just steveklabnik?
[20:21:15] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[20:21:44] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[20:21:44] *** ChanServ sets mode: +o pcwalton
[20:22:58] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[20:23:14] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[20:23:14] *** ChanServ sets mode: +o pcwalton
[20:25:04] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[20:25:15] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[20:25:15] *** ChanServ sets mode: +o pcwalton
[20:25:48] *** Joins: goyox86 (textual@moz-rvv.00r.255.109.IP)
[20:28:20] *** chmanchester|afk is now known as chmanchester
[20:30:18] <nrc> pnkfelix: Using the graphviz crate in the repo, is it possible to style edges? (I want to make dotted edges)
[20:30:52] *** Joins: GBGamer (npm@moz-sit.th5.56.172.IP)
[20:30:52] *** Quits: GBGamer (npm@moz-sit.th5.56.172.IP) (Quit: AndroIRC - Android IRC Client ( http://www.androirc.com ))
[20:31:00] <nrc> Gankro: I'd say it just needs r+ from one person, which could be, but doesn't have to be Steve
[20:31:30] <nrc> Gankro: it might be better to break it into one PR per chapter and get a different person to r? each chapter - it's kind of a lot of work for one person
[20:31:34] *** Joins: GBGamer (npm@moz-sit.th5.56.172.IP)
[20:31:52] <nrc> we can always change stuff later, right? So it doesn't need tonnes of review
[20:32:17] <Gankro> So strictly speaking I've gotten various members of the community to sign off on individual sections
[20:32:34] <reem> fwiw I am doing a read through now
[20:33:03] <Gankro> e.g. aturon signed off on concurrency and the intro. acrichto signed off on unwinding. You sort've signed off on coercions I think?
[20:33:13] <GBGamer> what are y'all talking about?
[20:33:55] <reem> Gankro: I think you linked to TURPL in the TARPL Pr
[20:34:08] <Gankro> reem: Yeah that's still the hosted URL
[20:34:19] *** Joins: Pierre_M (Pierre_M@moz-l5anv0.slkc.qwest.net)
[20:34:28] <Gankro> GBGamer: https://github.com/rust-lang/rust/pull/27032
[20:35:02] <reem> Gankro: so it is the same thing?
[20:35:16] <reem> oh you just re-used the URL
[20:35:26] <Gankro> reem: same basic text
[20:35:30] <Gankro> different title
[20:35:37] <Gankro> ever infinite reworking
[20:35:50] <reem> ah so TARPL == TURPL
[20:36:01] <Gankro> yeah
[20:36:08] <Gankro> dherman wanted a rename for Politics
[20:36:49] <GBGamer> thanks
[20:37:33] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Connection closed)
[20:38:00] <reem> I guess it makes sense, though when I read TARPL I expect something that covers “advanced” rust usage vs. just unsafe rust usage.
[20:38:11] <reem> I mean stuff like HRTB, advanced use of lifetimes, etc. 
[20:38:35] *** Joins: achanda (achanda@moz-fr1.spq.217.162.IP)
[20:39:51] <nrc> Gankro: so when you think you have sign offs for every section, just @bors r=everyone, probably worth tracking who has read what on the PR
[20:40:31] <Gankro> nrc: https://github.com/rust-lang/rust/pull/27032#issuecomment-121377939
[20:40:46] <nrc> heh, looks like you're a step ahead of me :-)
[20:41:05] <nrc> Also, screw you highfive, of all those r?s, you pick me as the assignee?
[20:41:27] <Gankro> reem: So it does cover more advanced stuff. The section on lifetimes/references/variance is probably the most authoritative text we have on the subject.
[20:41:52] <Gankro> nrc: it believes in you
[20:43:58] <arielb1> eddyb: could you re-r? gh27018?
[20:43:58] <[o__o]> don't ICE when FRU is used on an enum variant: https://github.com/rust-lang/rust/pull/27018
[20:44:01] <arielb1> stupid error syntax
[20:45:51] *** Joins: npm (npm@moz-crd.5hk.56.172.IP)
[20:46:28] *** Quits: Guest53 (textual@moz-rvv.00r.255.109.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:47:48] *** Joins: Kingsquee (kingsley@moz-k72lip.bchsia.telus.net)
[20:47:56] *** Joins: Pierre_M_ (Pierre_M@moz-g3a.5hf.152.12.IP)
[20:48:36] *** Joins: Pierre_M__ (Pierre_M@moz-l5anv0.slkc.qwest.net)
[20:48:51] *** Quits: GBGamer (npm@moz-sit.th5.56.172.IP) (Ping timeout: 121 seconds)
[20:48:58] *** npm is now known as GBGamer
[20:49:06] <nrc> arielb1: you can do it yourself now you have r+ powers
[20:50:07] *** Quits: Pierre_M (Pierre_M@moz-l5anv0.slkc.qwest.net) (Ping timeout: 121 seconds)
[20:50:56] *** Joins: Pierre_M (Pierre_M@moz-l5anv0.slkc.qwest.net)
[20:51:58] *** Quits: Pierre_M_ (Pierre_M@moz-g3a.5hf.152.12.IP) (Ping timeout: 121 seconds)
[20:53:05] <arielb1> pnkfelix: ping
[20:53:42] *** Quits: Pierre_M__ (Pierre_M@moz-l5anv0.slkc.qwest.net) (Ping timeout: 121 seconds)
[20:53:47] *** Joins: Pierre_M_ (Pierre_M@moz-l5anv0.slkc.qwest.net)
[20:54:57] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[20:56:44] *** Quits: Pierre_M (Pierre_M@moz-l5anv0.slkc.qwest.net) (Ping timeout: 121 seconds)
[20:57:27] *** Pierre_M_ is now known as Pierre_M
[20:59:46] *** Joins: Pierre_M_ (Pierre_M@moz-l5anv0.slkc.qwest.net)
[20:59:59] *** Quits: sprang (sprang@moz-gpnug3.3dj0.bqct.0647.2601.IP) (Connection closed)
[21:00:02] <arielb1> Gankro: what are the aliasing problems with raw pointers?
[21:00:24] <arielb1> that need to be clarified?
[21:00:35] <Gankro> arielb1: Things like am I allowed to take a raw pointer "for later"?
[21:00:48] <arielb1> take a raw pointer "for later"?
[21:01:46] <arielb1> I don't think raw pointers should have an "aliasing provenance"
[21:01:49] <Gankro> arielb1: So in BTreeMap right now during insertion we search down the tree and find and the key/val pair and take a raw pointer to that; leave it to the side. Then we start walking back up the tree doing fixups and *finally* upgrade the raw pointer to an &mut that we return.
[21:02:14] <arielb1> Gankro: why wouldn't that be safe?
[21:02:46] <Gankro> arielb1: because we might want more extreme aliasing rules than e.g. LLVM
[21:02:46] *** Quits: Pierre_M (Pierre_M@moz-l5anv0.slkc.qwest.net) (Ping timeout: 121 seconds)
[21:03:10] <arielb1> you just need to be careful and use a "WAR barrier" between your &-access and the raw-pointer read
[21:03:18] <Gankro> WAR?
[21:03:23] <arielb1> write-after-read
[21:03:40] <Gankro> I've never seen this before. Is it an LLVM thing?
[21:03:50] <arielb1> Gankro: concurrentese
[21:04:17] <arielb1> *that* should be made clearer
[21:04:44] <arielb1> the problem is that the lifetime of the &-borrow can extend forward and alias the ptr::write
[21:05:28] <arielb1> Gankro: this is more dangerous with RAW barriers
[21:05:33] *** Quits: tynopex (Mibbit@moz-ikvsjo.cable.rogers.com) (Quit: http://www.mibbit.com ajax IRC Client)
[21:05:51] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[21:06:14] *** Joins: swgillespie (swgillespie@moz-cla.3un.220.167.IP)
[21:06:19] <arielb1> Gankro: I don't think raw pointers are supposed to come with lifetime-aliasing rules
[21:06:26] <arielb1> they may get TBAA rules someday
[21:06:29] <arielb1> but that's different
[21:07:16] <arielb1> a different issue
[21:07:18] <sp3d> Gankro: https://en.wikipedia.org/wiki/Hazard_(computer_architecture)
[21:09:12] <Gankro> arielb1: I honestly don't know a lot about this. I just know it's fraught with danger and not at all specified.
[21:09:46] <Gankro> I've been trying to cajole nmatsakis and sunfish to hug it out and make a beautiful pointer aliasing baby
[21:10:18] <arielb1> Gankro: there's also the question of phantom reads/writes
[21:10:22] <Gankro> And I did my best to specify the *reference* rules which are, relatively speaking, fairly cut and dry
[21:11:19] <arielb1> the pointer aliasing rules are:
[21:11:23] <arielb1> do not mutate a live reference
[21:11:34] <bstrie> arielb1: WAR barriers, what are they good for?
[21:11:37] <arielb1> reads from memory pointed to by a live &mut reference are undef
[21:11:43] <arielb1> bstrie: preventing WAR hazards
[21:12:25] <arielb1> you don't *really* need a barrier in that case
[21:12:32] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[21:12:34] <arielb1> in practice you don't need to do anything
[21:12:35] *** Quits: imperio (Mibbit@moz-0ebgt2.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:12:39] <arielb1> there is just a technical issue with lifetime inference
[21:13:01] <Peach> I have a super miscellaneous question about the language design of Rust:   Why pub before each member instead of C++ style public: label so the coder can save some typing?
[21:13:18] <arielb1> Peach: historical reasons
[21:13:26] <arielb1> (that's for pub vs. public)
[21:13:51] <Gankro> arielb1: Does aliasing include pointers-to-pointers at all?
[21:13:59] <arielb1> Gankro: that's "phantom reads"
[21:14:05] <arielb1> and "phantom writes"
[21:14:09] <Gankro> Ah
[21:14:34] <arielb1> also with pointers-to-pointers-to-illegal-memory
[21:15:49] <arielb1> C99 is famous for leaving phantom writes unspecified
[21:16:05] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[21:16:33] <Gankro> arielb1: It seems desirable to me to make &mut Box<T> produce a live alias of the inner T
[21:16:48] *** Joins: npm (npm@moz-4t0mh6.qgs9.sjub.0141.2601.IP)
[21:16:56] <arielb1> Gankro: currently Box<T> uses Unique<T>
[21:16:58] <arielb1> which leaves no alias
[21:17:04] <Gankro> arielb1: in LLVM
[21:17:05] <arielb1> *is supposed to
[21:17:07] <Gankro> yes
[21:17:12] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[21:17:26] <Gankro> It seems *very* reasonable for Unique<T> to behave like T wrt aliasing
[21:17:53] <arielb1> Gankro: it isn't
[21:17:55] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[21:17:58] <arielb1> currently the case
[21:18:01] <arielb1> and would require an RFC to change
[21:18:32] *** Joins: X67r (user@moz-1rnldf.mullvad.net)
[21:20:29] <Gankro> arielb1: I agree that we don't leverage the information we have about Unique today
[21:20:32] *** Quits: GBGamer (npm@moz-crd.5hk.56.172.IP) (Ping timeout: 121 seconds)
[21:20:55] <Gankro> It's less clear to me that it would *require* an RFC. Formal pointer aliasing rules should probably go through RFC though, yes
[21:20:55] <brson> restarting buildbot
[21:21:18] <arielb1> Gankro: that would be a very user-visible change in semantics
[21:21:29] *** npm is now known as GBGamer
[21:21:41] <arielb1> much more significant than object-default-lifetimes
[21:22:09] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[21:22:16] <Gankro> arielb1: Well Unique is unstable
[21:22:19] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[21:22:42] <arielb1> Gankro: it is visible through Box<T>, Vec<T>, etc.
[21:23:07] <Gankro> arielb1: Does Box<T> have distinct semantics from T in that regard?
[21:23:21] <arielb1> distinct semantics from?
[21:23:48] <Gankro> ?
[21:24:03] <arielb1> &T is non-alias for T
[21:24:13] <arielb1> &Box<T> is currently same-as &*const T
[21:24:20] <arielb1> for aliasing purposes
[21:24:21] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[21:24:53] <Gankro> I agree this is what we tell LLVM, yes
[21:25:09] <Gankro> But that doesn't mean you're free to do anything that LLVM won't misoptimize
[21:26:05] <arielb1> Gankro: this is current behaviour, and I don't think it can be called a bug in any way
[21:26:11] <arielb1> and changing it is significant
[21:26:24] <Gankro> It's unspecified
[21:26:46] <arielb1> unspecified is not enough for UB
[21:27:24] <Gankro> It's enough to say it can be specified to something more strict than what the current implementation does
[21:27:27] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[21:27:38] <arielb1> we don't say that writing to a raw pointer of a ZST won't trigger UB
[21:27:44] <arielb1> doesn't mean it is
[21:27:58] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[21:29:21] <Gankro> I actually do specify that: http://cglab.ca/~abeinges/blah/turpl/_book/vec-drain.html#handling-zero-sized-types
[21:29:42] <Gankro> This is a fact that is well-established and leveraged
[21:29:57] <Gankro> How Box aliases its contents... who's leveraging that?
[21:30:49] <arielb1> Gankro: do you actually *write* to ZST-s?
[21:30:56] <Gankro> arielb1: Yes
[21:31:03] <Gankro> ptr::write and ptr::read
[21:31:06] <arielb1> let c: *const () = 1 as *const (); unsafe { *c } = ();
[21:31:15] <Gankro> Yes that's sound
[21:31:19] <aturon> (https://github.com/nikomatsakis/rfcs/blob/language-semver/text/0000-language-semver.md#underspecified-language-semantics may be of interest here)
[21:31:44] <arielb1> 0x1 isn't a valid address
[21:32:09] <Gankro> arielb1: Yes it is
[21:32:17] <arielb1> aturon: that's semver
[21:32:34] <arielb1> a different issue from RFC-requirement
[21:33:09] <Gankro> arielb1: I hashed it out with sunfish, it's sound to say that ZSTs are allocated at 0x1 (without actually communicating any information to LLVM about this fact)
[21:33:17] *** Joins: p1start (p1start@moz-nftjhe.org)
[21:33:36] <arielb1> Gankro: of course that doesn't trigger any LLVM UB
[21:34:19] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[21:34:29] <arielb1> LLVM's "allocated" requirement basically means "does not alias anything it's not supposed to"
[21:34:33] *** Joins: jdm (jdm@moz-mu9.06r.98.75.IP)
[21:34:35] <Gankro> So what's the problem?
[21:34:48] <arielb1> that we never specify that it works
[21:34:52] <bstrie> Peach: memory safety in rust depends strongly on a clear distinction between public and private members, so the more explicit form took precedence
[21:35:16] <arielb1> Gankro: I was saying that you can't take stuff that isn't specified and turn it into UB
[21:35:18] <Gankro> arielb1: I am literally specifying in TARPL that it does
[21:35:28] <arielb1> well now it is
[21:35:35] <bstrie> The Agonizing Rust Programming Language
[21:35:40] <arielb1> after that PR gets merged :-)
[21:36:01] <arielb1> where are you specifying that anyway?
[21:36:14] <Gankro> arielb1: Are you saying we can't ever do it; or that just that it *Defintely* needs an RFC?
[21:36:26] <arielb1> just that it needs an RFC
[21:36:31] <Gankro> ok
[21:36:33] <Gankro> That's fine by me
[21:36:48] <arielb1> it is a significant change to the user interface
[21:36:48] <Gankro> arielb1: I'm not sure if I say it in a particular sentence. It's definitely very clear from the text as a whole, though.
[21:37:23] <arielb1> well you say it about ptr::write
[21:37:38] <brson> starting a snapshot
[21:37:41] <arielb1> not about raw pointer writes
[21:37:54] <arielb1> but that's nitpicking
[21:40:08] <brson> FYI I have decommissioned the official FreeBSD builder. dhuseby is bringing up a new one that he will maintain
[21:40:53] *** Joins: rumpler (Mibbit@moz-hu6.nja.252.72.IP)
[21:51:03] <bstrie> brson: hooray!
[21:52:58] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[21:53:30] *** Quits: rumpler (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:54:42] *** Quits: nham (nham@moz-lglsfe.il.comcast.net) (Ping timeout: 121 seconds)
[21:54:58] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[21:55:00] <eddyb> step 1: move it into a garage. step 2: let the elements into said garage. step 3: uncover the decomissioned builder after a few years of rust. step 4: ??? step 5: PROFIT
[21:57:15] <eddyb> if stuff like that won't go on auction in a decade or two, I'm gonna eat my hat. could be dangerous, with all the rust it's going to catch
[21:57:40] <Pierre_M_> eddyb, sounds like I could sell you my skunk farm...
[21:58:16] <huon> eddyb: why does it need to be in a garage?
[21:58:49] <eddyb> huon: oh it could be anywhere, that was just the simplest controlled environment that I could think of
[21:59:08] *** Quits: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk) (Ping timeout: 121 seconds)
[22:00:33] *** Quits: goyox86 (textual@moz-rvv.00r.255.109.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:01:40] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[22:08:03] *** Quits: killercu_ (killercup@moz-icpsbi.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[22:08:59] *** Joins: killercup (killercup@moz-icpsbi.dip0.t-ipconnect.de)
[22:09:25] *** Joins: untitaker_ (untitaker@moz-q9mod5.highway.telekom.at)
[22:10:27] *** Quits: untitaker (untitaker@moz-0js7jc.highway.telekom.at) (Ping timeout: 121 seconds)
[22:14:56] *** Quits: GBGamer (npm@moz-4t0mh6.qgs9.sjub.0141.2601.IP) (Connection closed)
[22:20:02] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[22:20:17] *** Joins: goyox86 (textual@moz-rvv.00r.255.109.IP)
[22:20:35] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[22:20:35] *** ChanServ sets mode: +o pcwalton
[22:22:48] *** Quits: mgottschlag (quassel@moz-c3ivja.hsi14.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[22:23:47] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[22:25:25] *** Joins: mgottschlag (quassel@moz-c3ivja.hsi14.kabel-badenwuerttemberg.de)
[22:26:37] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Ping timeout: 121 seconds)
[22:27:59] *** Quits: Pierre_M_ (Pierre_M@moz-l5anv0.slkc.qwest.net) (Ping timeout: 121 seconds)
[22:30:34] *** Joins: mib_bh1ace (Mibbit@moz-hu6.nja.252.72.IP)
[22:33:55] *** Quits: mgottschlag (quassel@moz-c3ivja.hsi14.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[22:34:42] *** Quits: mib_bh1ace (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:38:11] *** Joins: njn (chatzilla@moz-270n86.iinet.net.au)
[22:38:53] *** Joins: GBGamer (npm@moz-4t0mh6.qgs9.sjub.0141.2601.IP)
[22:40:18] *** Quits: arielb1 (Ariel@moz-b95g78.red.bezeqint.net) (Quit: Ex-Chat)
[22:44:33] *** Quits: burntsushi (burntsushi@moz-t92kn9.ma.charter.com) (Quit: Konversation terminated!)
[22:46:06] *** Quits: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au) (Ping timeout: 121 seconds)
[22:49:55] *** Joins: mgottschlag (quassel@moz-c3ivja.hsi14.kabel-badenwuerttemberg.de)
[22:49:57] *** Joins: burntsushi (burntsushi@moz-t92kn9.ma.charter.com)
[22:50:53] *** ChanServ sets mode: +ao burntsushi burntsushi
[22:56:25] *** Quits: mgottschlag (quassel@moz-c3ivja.hsi14.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[22:58:07] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[22:59:15] *** Quits: dcb (dcb@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:02:56] *** Joins: dcb (dcb@moz-4hh.6p3.217.74.IP)
[23:02:59] *** Joins: nham (nham@moz-lglsfe.il.comcast.net)
[23:04:43] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[23:07:37] *** Quits: killercup (killercup@moz-icpsbi.dip0.t-ipconnect.de) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:11:30] *** Quits: Jesin (Jesin@moz-sak2gd.cc.lehigh.edu) (Quit: Leaving)
[23:13:32] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[23:13:32] *** ChanServ sets mode: +o pcwalton
[23:13:48] *** Joins: Jesin (Jesin@moz-sak2gd.cc.lehigh.edu)
[23:13:58] *** Quits: X67r (user@moz-1rnldf.mullvad.net) (Quit: leaving)
[23:14:17] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[23:15:37] *** Quits: goyox86 (textual@moz-rvv.00r.255.109.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:18:27] *** Quits: eljay (eljay@moz-fmte10.skybroadband.com) (Quit: Leaving)
[23:18:37] *** Quits: jdm (jdm@moz-mu9.06r.98.75.IP) (Quit: )
[23:21:26] <pcwalton> acrichto: how do I diagnose "a package was listed twice in the lock file"?
[23:21:32] <pcwalton> I guess I could try to revert the lock file
[23:22:15] <GBGamer> question
[23:22:33] <GBGamer> what is the point of not just using the C abi for function calls?
[23:24:02] <GBGamer> also, is an .rlib just an .so with extra metadata?
[23:27:01] <eddyb> pcwalton: silent merge failure?
[23:27:08] <pcwalton> it was a merge failure, yes
[23:27:10] <pcwalton> I just redid the lock files
[23:29:52] *** Joins: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au)
[23:35:39] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[23:38:54] *** Quits: James__ (quassel@moz-7abj9b.range86-163.btcentralplus.com) (Ping timeout: 121 seconds)
[23:40:19] *** Quits: Skyler (Skyler@moz-7ds39s.sd.cox.net) (Client exited)
[23:41:05] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[23:41:54] *** Joins: aatch (james@moz-i1k1ks.tlms.2o1v.e006.2406.IP)
[23:41:56] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[23:42:50] *** Quits: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au) (Ping timeout: 121 seconds)
[23:43:05] <Gankro> GBGamer: What's the C ABI say about `pub fn foo<T>(T)`? :P
[23:44:54] *** Quits: eibwen (eibwen@moz-k26hp6.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[23:46:01] <GBGamer> Gankro: I meant wrt passing arguments and return values
[23:47:31] <GBGamer> and also, why do we name-mangle with the hash of a function name?
[23:47:59] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[23:48:24] <Gankro> GBGamer: Need to mangle because of modules and generics
[23:48:27] <GBGamer> our function names are already something like 'name(type, type)'
[23:48:46] <GBGamer> or 'crate::mod::name(type, type)'
[23:49:28] <GBGamer> (which is why you gotta rb crate::main)
[23:49:39] <GBGamer> in gdb
[23:52:03] *** Joins: Rym (uid91135@moz-n2i7qm.charlton.irccloud.com)
[23:54:50] <GBGamer> hmm
[23:54:55] <GBGamer> I thought we did that
[23:55:11] <GBGamer> nvm
[23:56:02] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:57:00] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[23:59:20] <GBGamer> hmm
[23:59:26] <GBGamer> I think that would be cool
