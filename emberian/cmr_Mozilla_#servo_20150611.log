[00:07:05] *** Joins: je_julie (uid29643@moz-2q4j9e.brockwell.irccloud.com)
[00:09:02] *** Quits: mccr8 (mccr8@moz-cfhap5.mtv2.mozilla.com) (Quit: computer sleep)
[00:10:27] *** Quits: tglman (tglman@moz-l8btep.as13285.net) (Ping timeout: 121 seconds)
[00:18:41] <hyowon> pcwalton: ping?
[00:18:45] <pcwalton> hyowon: pong
[00:18:58] <hyowon> Hi. Could you review two PRs if you have some spare time?
[00:19:04] <pcwalton> sure, link me
[00:19:07] <hyowon> https://github.com/servo/rust-azure/pull/160
[00:19:08] <crowbot> PR #160: Implement fill_rect for surface pattern with repetition style. - https://github.com/servo/rust-azure/pull/160
[00:19:13] <hyowon> https://github.com/servo/servo/pull/6157
[00:19:13] <crowbot> PR #6157: Implement pattern fill style for canvas. - https://github.com/servo/servo/pull/6157
[00:19:42] <hyowon> Thank you :)
[00:20:32] *** Joins: mwu (mwu@moz-k9qbsp.oi2i.p882.0085.2601.IP)
[00:21:02] *** Joins: matiaslina (matias@moz-ufm.jl5.11.190.IP)
[00:21:28] *** Quits: matiaslina (matias@moz-ufm.jl5.11.190.IP) (Quit: leaving)
[00:22:17] <mwu> is f64::is_nan working
[00:23:27] <huon> playbot: (1_f64.is_nan(), std::f64::NAN.is_nan())
[00:23:28] -playbot- (false, true)
[00:23:58] <mwu> hmmm
[00:24:10] *** Quits: rohinpatel (rohinpatel@moz-ed0fdd.resnet.ubc.ca) (Ping timeout: 121 seconds)
[00:24:15] <mwu> weird...
[00:24:50] *** Quits: psd_ (psd@moz-l7stg7.mtnl.net.in) (Quit: Leaving)
[00:26:57] *** Joins: dinfuehr (dinfuehr@moz-vgkuuv.highway.telekom.at)
[00:28:09] *** Joins: jviereck (Adium@moz-l8ebtf.sfo1.mozilla.com)
[00:29:05] <pcwalton> oh my
[00:29:37] <pcwalton> after optimizing common_style_affecting_attributes to not be so silly, using 8 cores on ARM gives a 3.48x improvement over sequential in selector matching
[00:30:07] <pcwalton> 4 cores gives a 2.62x improvement
[00:30:17] * mwu wonders how much the little cores contribute
[00:30:42] <pcwalton> mwu: looks like they contribute as much as 0.84 of a big core, essentially
[00:30:44] <pcwalton> which is not surprising
[00:30:48] <pcwalton> they have much less cache
[00:30:49] <mwu> hah
[00:30:53] *** Joins: rohinpatel (rohinpatel@moz-ed0fdd.resnet.ubc.ca)
[00:30:58] <pcwalton> and are lower clock frequency
[00:31:04] *** Quits: dinfuehr (dinfuehr@moz-vgkuuv.highway.telekom.at) (Ping timeout: 121 seconds)
[00:31:09] <pcwalton> they're one processor model back (Cortex A7, not Cortex A9)
[00:31:27] <pcwalton> still, I'll take it! a 3.48x improvement on mobile over the current state of the art is nothing to laugh at
[00:33:13] * mwu looks for a big.LITTLE floorplan
[00:33:32] <pcwalton> mwu: I have a block diagram of the SoC I use
[00:33:46] <pcwalton> http://www.hardkernel.com/main/products/prdt_info.php?g_code=G141351880955&tab_idx=2
[00:33:48] <pcwalton> mwu: ^
[00:33:49] <mwu> I just want a die shot or something so I can compare the relative size of the cores
[00:33:55] <pcwalton> it's a Samsung Exynos 5422
[00:34:39] <pcwalton> err sorry, I misspoke -- big cores are Cortex A15 and little cores are Cortex A7
[00:36:11] <pcwalton> (I would really like to try a Xeon Phi someday)
[00:37:43] <mwu> ok, finally found one
[00:37:58] <mwu> http://images.anandtech.com/doci/6768/Screen%20Shot%202013-02-20%20at%2012.41.44%20PM.png
[00:38:06] *** Quits: rohinpatel (rohinpatel@moz-ed0fdd.resnet.ubc.ca) (Ping timeout: 121 seconds)
[00:38:12] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[00:38:19] <pcwalton> http://www.amazon.com/Intel-BC31S1P-Xeon-31S1P-Coprocessor/dp/B00OMCB4JI/ref=sr_1_1?s=pc&ie=UTF8&qid=1433983041&sr=1-1&keywords=xeon+phi whoa, looks like you can get them for cheap
[00:38:30] <pcwalton> $223
[00:38:33] <mwu> can't imagine many people wanting one
[00:38:33] *** Quits: jviereck (Adium@moz-l8ebtf.sfo1.mozilla.com) (Quit: Leaving.)
[00:38:37] <pcwalton> yeah, heh
[00:38:48] <mwu> oh man, amazon reviews too
[00:38:49] <pcwalton> Tesla kind of has them beat
[00:38:56] <pcwalton> for most things people want
[00:39:21] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[00:39:21] -ghservo- [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/vI1BY
[00:39:21] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[00:39:25] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[00:39:25] -ghservo- [13servo] 15bors-servo closed pull request #6328: Fix indices in Line::range doc comment (06master...06line-comment) 02http://git.io/vIXiF
[00:39:25] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[00:39:44] <pcwalton> we're the perfect market though -- "just give me a ton of x86 CPUs so I can run parallel implementations of the hideously complex CSS specs and Skia"
[00:40:30] <pcwalton> mwu: wow, that's a big size difference
[00:40:34] <mwu> so for the size of the big 4 cores, it looks like you can stick in at least 16 little cores
[00:40:45] <pcwalton> yeah
[00:41:02] <pcwalton> I don't care so much about clock speed as I do about memory, honestly
[00:41:04] <pcwalton> cache is king
[00:43:02] <pcwalton> ok, tentatively looks like ARM style recalc is scaling about the same as x86 on this giant Hacker News comment thread (2.27x vs. 2.34x respectively)
[00:43:08] <pcwalton> for 4 cores
[00:43:38] <pcwalton> need some more verification but it looks like my work is done
[00:43:44] <pcwalton> just needs to be cleaned up and submitted
[00:43:51] <mwu> nice
[00:44:20] <mwu> http://www.anandtech.com/show/6768/samsung-details-exynos-5-octa-architecture-power-at-isscc-13
[00:47:39] *** Joins: Guest46 (textual@moz-v8b.c8p.157.183.IP)
[00:48:20] *** Joins: godlikesme (godlikesme@moz-2a2.dsd.174.79.IP)
[00:50:45] *** Quits: BenWa (bgirard@moz-i5m.05u.207.66.IP) (Client exited)
[00:52:19] <larsberg> completing the drive towards heterogenous clockspeed madness, have you seen the big.Middle.LITTLE stuff? it's exactly what you'd expect from the name.
[00:53:02] <mwu> larsberg: sounds a lot like http://arstechnica.com/gadgets/2015/05/mediatek-escalates-the-multicore-madness-with-a-10-core-smartphone-soc/
[00:53:08] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[00:53:44] <mwu> oh hey, that is big.Middle.LITTLE
[00:53:54] <mwu> didn't notice
[00:53:55] *** Joins: jviereck (Adium@moz-9ohcu1.rgd2.9kg1.0101.2620.IP)
[00:54:29] <larsberg> mwu: that's it - MediaTek sounds familiar, but I accidentally remembered it as Middle instead of Medium!
[00:54:57] <mwu> larsberg: we've worked with mediatek
[00:55:45] *** Joins: rohinpatel (rohinpatel@moz-ed0fdd.resnet.ubc.ca)
[00:57:52] *** Quits: jviereck (Adium@moz-9ohcu1.rgd2.9kg1.0101.2620.IP) (Quit: Leaving.)
[00:58:44] <pcwalton> oh dear, I bumped up the spin count to 512 and that was disastrous
[00:58:47] <pcwalton> that number is really sensitive
[00:59:43] <pcwalton> also, amusingly, the workqueue is very sensitive to its use of the divide instruction to select a victim
[01:01:00] <pcwalton> or rather, the lack of a divide instruction on ARM
[01:02:45] <frewsxcv> is there any reason why some servo projects haven't been pushed to crates.io?
[01:03:25] * frewsxcv isn't sure if there is a reason or if it just hasn't been done yet
[01:03:40] <njn> how do I debug a task panic?
[01:03:53] <njn> I hoped that gdb would just break on one, but it doesn't appear to
[01:04:51] <mbrubeck> frewsxcv: Just hasn't been done.
[01:05:01] <frewsxcv> gotcha
[01:05:40] <mbrubeck> frewsxcv: Err... I think there are some that we reserved the names for, but then forgot who owned them.  jack was working on getting ownership of those straightened out a few days ago...
[01:06:18] <njn> ah, RUST_BACKTRACE=1
[01:06:53] <jack> frewsxcv: we are only putting the ones on crates.io that people ask for since it's more work to manage releases
[01:07:30] <mbrubeck> njn: In gdb you can break on rust_panic
[01:07:38] <njn> mbrubeck: thanks
[01:07:39] <mbrubeck> set a breakpoint on, that is
[01:11:51] <mwu> can I debug a single wpt test
[01:12:06] <mwu> I put in the full path of the test but it doesn't seem to run
[01:12:23] <gw> mwu: yes - see https://github.com/servo/servo/blob/master/tests/wpt/README.md#running-the-tests-manually
[01:12:28] <mwu> awesome, thanks
[01:12:38] <mwu> oh I guess it stops the test runner after a single test..
[01:12:39] <mwu> makes sense
[01:12:44] *** Quits: godlikesme (godlikesme@moz-2a2.dsd.174.79.IP) (Ping timeout: 121 seconds)
[01:12:50] *** Joins: ahunt (ahunt@moz-uibop6.fios.verizon.net)
[01:15:06] *** Joins: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP)
[01:17:16] *** Quits: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP) (Quit: å •å…¥ /dev/null)
[01:17:47] *** Quits: dbaron (dbaron@moz-13grj1.2rkg.9kg1.0101.2620.IP) (Ping timeout: 121 seconds)
[01:22:52] *** Joins: fkaa (tundmatu@moz-501od2.business.telia.com)
[01:25:16] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[01:27:29] *** Joins: newbie (eibwen@moz-gfvfik.dip0.t-ipconnect.de)
[01:27:33] *** Joins: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP)
[01:27:52] *** Joins: dinfuehr (dinfuehr@moz-vgkuuv.highway.telekom.at)
[01:28:09] <mwu> uggh
[01:28:30] <mwu> gdb is telling me is_nan() isn't working, but it works on play
[01:30:21] *** Quits: eibwen (eibwen@moz-sf8cgb.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[01:31:13] *** kimundi is now known as zz_kimundi
[01:31:55] *** Quits: dinfuehr (dinfuehr@moz-vgkuuv.highway.telekom.at) (Ping timeout: 121 seconds)
[01:35:10] *** Joins: nattokirai (nattokirai@moz-049uav.panda-world.ne.jp)
[01:37:36] *** Quits: Diamond (dick@moz-s67uin.ok.cox.net) (Connection closed)
[01:41:22] *** Quits: Guest46 (textual@moz-v8b.c8p.157.183.IP) (Ping timeout: 121 seconds)
[01:42:29] *** Joins: zxq9 (ceverett@moz-qsm369.mesh.ad.jp)
[01:42:33] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[01:42:33] -ghservo- [13servo] 15bstrie opened issue #6332: Consider appeasing Github's Linguist so that it does not categorize Servo as a web browser written entirely in HTML 02http://git.io/vI1HG
[01:42:33] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[01:45:13] *** Quits: jgallagher (john@moz-6ge.dhn.131.24.IP) (Client exited)
[01:46:06] <mwu> disassembled is_nan. looks broken
[01:48:53] <mwu> nm, it's fine
[01:53:23] *** Quits: nattokirai (nattokirai@moz-049uav.panda-world.ne.jp) (Connection closed)
[01:55:00] *** Quits: mib_7t8set (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:59:07] *** Joins: Caspy7 (chatzilla@moz-tkogmh.stlsmo.sbcglobal.net)
[01:59:44] *** Joins: mib_5zl94n (Mibbit@moz-hu6.nja.252.72.IP)
[02:04:55] *** Quits: zxq9 (ceverett@moz-qsm369.mesh.ad.jp) (Quit: Konversation terminated!)
[02:05:25] *** Joins: zxq9 (ceverett@moz-qsm369.mesh.ad.jp)
[02:08:22] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[02:13:33] *** Quits: bholley (bholley@moz-hb3rtc.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[02:16:01] *** Joins: playjax (chatzilla@moz-rpc9mg.optusnet.com.au)
[02:16:22] *** Quits: ahunt (ahunt@moz-uibop6.fios.verizon.net) (Ping timeout: 121 seconds)
[02:20:38] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[02:23:25] *** chmanchester is now known as chmanchestet
[02:23:35] *** chmanchestet is now known as chmanchester|afk
[02:28:29] *** Joins: ahunt (ahunt@moz-uibop6.fios.verizon.net)
[02:28:38] *** Joins: dinfuehr (dinfuehr@moz-vgkuuv.highway.telekom.at)
[02:32:42] *** Quits: dinfuehr (dinfuehr@moz-vgkuuv.highway.telekom.at) (Ping timeout: 121 seconds)
[02:34:29] *** Quits: ahunt (ahunt@moz-uibop6.fios.verizon.net) (Ping timeout: 121 seconds)
[02:38:30] *** Joins: cakecatz (cakecatz@moz-u6p4rc.so-net.ne.jp)
[02:41:11] *** Joins: BenWa (bgirard@moz-ugq1bb.cable.teksavvy.com)
[02:43:29] *** Joins: mccr8 (mccr8@moz-m84lpe.ca.comcast.net)
[02:46:26] *** Joins: dbaron (dbaron@moz-12jr9n.dynamic.fusionbroadband.com)
[02:49:14] *** Joins: caitp- (caitp@moz-lmogh4.cable.rogers.com)
[02:50:15] *** Joins: Rastus_Vernon (rvernon@moz-j5rng1.tor-exit.network)
[02:54:24] *** Quits: zz_kimundi (kimundi@moz-ktmie3.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:55:57] *** Quits: caitp- (caitp@moz-lmogh4.cable.rogers.com) (Ping timeout: 121 seconds)
[02:56:42] *** Joins: zz_kimundi (kimundi@moz-o5192b.dip0.t-ipconnect.de)
[02:56:44] *** zz_kimundi is now known as kimundi
[03:13:28] *** Joins: lateralus (Steve@moz-0e1qf5.ph.cox.net)
[03:15:36] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[03:15:59] *** Quits: lateralus (Steve@moz-0e1qf5.ph.cox.net) (Quit: Leaving)
[03:17:14] *** Joins: bholley (bholley@moz-hb3rtc.ca.comcast.net)
[03:22:14] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[03:22:14] -ghservo- [13rust-layers] 15frewsxcv opened pull request #178: rust-geom API changes (06master...06geom-api-changes) 02http://git.io/vIMJS
[03:22:14] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[03:28:54] *** Quits: playjax (chatzilla@moz-rpc9mg.optusnet.com.au) (Ping timeout: 121 seconds)
[03:29:13] *** Joins: dinfuehr (dinfuehr@moz-vgkuuv.highway.telekom.at)
[03:33:16] *** Quits: dinfuehr (dinfuehr@moz-vgkuuv.highway.telekom.at) (Ping timeout: 121 seconds)
[03:33:42] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[03:38:56] *** Quits: mib_5zl94n (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:39:24] *** Joins: dstrbad (dstrbad@moz-bqv7a6.xnet.hr)
[03:44:37] *** Joins: aravindavk (aravinda@moz-bdd.7qq.171.122.IP)
[03:45:38] *** Quits: aravindavk (aravinda@moz-bdd.7qq.171.122.IP) (Quit: Konversation terminated!)
[03:46:05] *** Joins: aravindavk (aravinda@moz-bdd.7qq.171.122.IP)
[03:47:22] *** Quits: cakecatz (cakecatz@moz-u6p4rc.so-net.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[03:47:44] *** Joins: dstrbad_ (dstrbad@moz-9fs0vd.cable.xnet.hr)
[03:48:58] *** Joins: dstrbad__ (dstrbad@moz-9fs0vd.cable.xnet.hr)
[03:49:27] *** Quits: dstrbad (dstrbad@moz-bqv7a6.xnet.hr) (Ping timeout: 121 seconds)
[03:51:00] <mwu> oh man.
[03:51:17] <mwu> the sm upgrade is finding buggy tests
[03:51:48] *** Quits: dstrbad_ (dstrbad@moz-9fs0vd.cable.xnet.hr) (Ping timeout: 121 seconds)
[03:53:41] *** Joins: cakecatz (cakecatz@moz-u6p4rc.so-net.ne.jp)
[03:54:11] *** Joins: seif (seif@moz-ilq.99t.243.162.IP)
[03:54:11] *** Joins: Guest57 (textual@moz-8uj2pj.dip0.t-ipconnect.de)
[03:56:17] *** Quits: mccr8 (mccr8@moz-m84lpe.ca.comcast.net) (Quit: quit)
[03:57:30] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[03:57:30] -ghservo- [13servo] 15frewsxcv opened issue #6333: More informative information at the beginning of `./mach build`? 02http://git.io/vIMqN
[03:57:30] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[03:58:10] <mbrubeck> frewsxcv: ~~~~RETICULATING SPLINES~~~~
[03:58:33] <frewsxcv> I understood that reference ;)
[03:59:26] *** Quits: bholley (bholley@moz-hb3rtc.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[03:59:27] <mbrubeck> frewsxcv: Seriously though, good idea... I think a big chunk of the time is cargo parsing its config file, but at least we could print "Running cargo build <whatever>" before launching it.
[03:59:43] <mbrubeck> frewsxcv: I also hear that a major speedup for that is coming to Cargo soon.
[03:59:56] <mbrubeck> s/config file/manifest files/
[04:02:22] *** Quits: Guest57 (textual@moz-8uj2pj.dip0.t-ipconnect.de) (Quit: Textual IRC Client: www.textualapp.com)
[04:06:12] *** Joins: glorydazed530 (uid91021@moz-kibj92.charlton.irccloud.com)
[04:07:16] *** Quits: aravindavk (aravinda@moz-bdd.7qq.171.122.IP) (Quit: Konversation terminated!)
[04:15:10] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[04:16:27] *** Quits: glorydazed530 (uid91021@moz-kibj92.charlton.irccloud.com) (Quit: )
[04:16:36] *** Quits: mwu (mwu@moz-k9qbsp.oi2i.p882.0085.2601.IP) (Quit: Leaving)
[04:17:20] *** Joins: ghservo (ghservo@moz-abh.5u0.30.192.IP)
[04:17:20] -ghservo- [13servo] 15nnethercote opened pull request #6334: Measure LocalLayoutContexts in LayoutTask and LayoutWorkers. (06master...06report-local-contexts) 02http://git.io/vIMOg
[04:17:20] *** Parts: ghservo (ghservo@moz-abh.5u0.30.192.IP) ()
[04:19:45] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[04:19:45] -ghservo- [13servo] 15nnethercote opened pull request #6335: Ignore CollectReport messages when shutting down the LayoutTask. (06master...06fix-layout-task-shutdown-panic) 02http://git.io/vIMOP
[04:19:45] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[04:25:05] *** Quits: nonsensickle (nonsensickl@moz-4v0.gkd.16.182.IP) (Connection closed)
[04:26:28] *** Joins: nonsensickle (nonsensickl@moz-4v0.gkd.16.182.IP)
[04:28:04] *** Joins: crowbot1 (nodebot@moz-nkhatb.compute-1.amazonaws.com)
[04:28:04] *** Quits: crowbot (nodebot@moz-rsr0b3.compute-1.amazonaws.com) (Connection closed)
[04:29:59] *** Joins: dinfuehr (dinfuehr@moz-vgkuuv.highway.telekom.at)
[04:30:01] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[04:30:01] -ghservo- [13servo] 15nerith opened pull request #6336: Appease Github's Linguist (06master...06master) 02http://git.io/vIMs0
[04:30:01] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[04:30:36] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[04:31:00] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[04:31:00] -ghservo- [13servo] 15bors-servo merged 06auto into 06tmp: 02https://github.com/servo/servo/compare/a8b6632a5ade...37fcced0fa6b
[04:31:00] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[04:34:02] *** Quits: dinfuehr (dinfuehr@moz-vgkuuv.highway.telekom.at) (Ping timeout: 121 seconds)
[04:41:02] *** Quits: chc4 (chc4@moz-pdo0at.ma.comcast.net) (Quit: AHHHHH BEES)
[04:46:10] *** Quits: valentin (icecold@moz-0ngvl0.s0r2.3jub.2f0a.2a02.IP) (Quit: Leaving.)
[04:48:19] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[04:48:19] -ghservo- [13rust-geom] 15glennw opened pull request #84: Add simple Point3D type, and homogenous transform method. (06master...06point3d) 02http://git.io/vIMnR
[04:48:19] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[04:52:12] *** Quits: cakecatz (cakecatz@moz-u6p4rc.so-net.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[04:53:11] <njn> Manishearth: ping
[04:53:30] <njn> Manishearth: unping
[04:59:57] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[05:04:43] *** Quits: rohinpatel (rohinpatel@moz-ed0fdd.resnet.ubc.ca) (Quit: Lost terminal)
[05:08:19] *** Joins: rohinpatel (rohinpatel@moz-ed0fdd.resnet.ubc.ca)
[05:10:46] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[05:10:46] -ghservo- [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/vIMsr
[05:10:46] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[05:10:47] *** Quits: dstrbad__ (dstrbad@moz-9fs0vd.cable.xnet.hr) (A TLS packet with unexpected length was received.)
[05:10:50] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[05:10:50] -ghservo- [13servo] 15bors-servo closed pull request #6336: Appease Github's Linguist (06master...06master) 02http://git.io/vIMs0
[05:10:50] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[05:14:58] *** rohinpatel is now known as rohin
[05:15:38] *** rohin is now known as ropate
[05:16:11] *** Parts: ropate (rohinpatel@moz-ed0fdd.resnet.ubc.ca) ()
[05:20:45] <njn>  expected `*const libc::types::common::c95::c_void`,
[05:20:47] <njn>     found `*const libc::types::common::c95::c_void`
[05:21:33] <Manishearth> njn: bwahahahahaha
[05:21:42] <Manishearth> njn: you're using two different libc crates
[05:21:43] <gw> njn: :) often an issue where one crate is using the (old) stdlib libc, and another crate is using the libc on crates.io
[05:22:17] <njn> gw, Manishearth: yeah, a Cargo.toml tweak fixed it
[05:22:51] *** Joins: rohin (rohinpatel@moz-ed0fdd.resnet.ubc.ca)
[05:22:56] <Manishearth> awesome
[05:25:10] *** Quits: rohin (rohinpatel@moz-ed0fdd.resnet.ubc.ca) (Quit: Lost terminal)
[05:25:51] *** Joins: slyu (slyu@moz-aj9ejj.HINET-IP.hinet.net)
[05:27:56] *** Joins: raster (raster@moz-1iqdsk.enlightenment.org)
[05:29:58] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[05:29:59] *** ChanServ sets mode: +o pcwalton
[05:30:14] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[05:30:43] *** Joins: dinfuehr (dinfuehr@moz-vgkuuv.highway.telekom.at)
[05:33:03] *** Joins: rohin (rohin@moz-ed0fdd.resnet.ubc.ca)
[05:33:27] *** Quits: rohin (rohin@moz-ed0fdd.resnet.ubc.ca) (Quit: Lost terminal)
[05:33:34] *** Joins: rohin (rohin@moz-ed0fdd.resnet.ubc.ca)
[05:34:51] *** Quits: dinfuehr (dinfuehr@moz-vgkuuv.highway.telekom.at) (Ping timeout: 121 seconds)
[05:37:52] *** Joins: cakecatz (cakecatz@moz-u6p4rc.so-net.ne.jp)
[05:40:46] *** Joins: mib_1os2s8 (Mibbit@moz-hu6.nja.252.72.IP)
[05:44:59] *** Quits: mib_1os2s8 (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:48:24] *** Joins: bogdan_maris (Instantbird@moz-662.esi.231.62.IP)
[05:48:48] *** Joins: vinod (vinod@moz-o3lrtq.miamfl.sbcglobal.net)
[05:49:51] *** Joins: aravindavk (aravinda@moz-m6j.f0d.244.121.IP)
[05:51:01] <vinod> i'm trying to run servo in my machine
[05:51:37] <vinod> ./mach build --dev
[05:51:37] <vinod> ./mach run tests/html/about-mozilla.html <- this works
[05:51:37] <vinod> ./mach run www.google.com <â€” This is not working
[05:51:56] <SimonSapin> vinod: try with http://
[05:52:16] <SimonSapin> otherwise servo assumes itâ€™s a file name
[05:52:40] <vinod> Bingo!!! it works.. Thank you
[05:53:55] *** Joins: dstrbad (dstrbad@moz-nc7.kub.217.31.IP)
[05:55:50] *** Quits: vinod (vinod@moz-o3lrtq.miamfl.sbcglobal.net) (Quit: )
[05:57:21] <SimonSapin> we could have more heuristics like in Firefoxâ€™s URL bar, but I donâ€™t expect the command line to be our main interface long term so it may not be worth it
[05:57:33] *** Joins: vinod (vinod@moz-o3lrtq.miamfl.sbcglobal.net)
[05:57:58] *** vinod is now known as vnpnkshn
[05:59:39] *** Quits: kanru (kanru@moz-aj9ejj.HINET-IP.hinet.net) (Ping timeout: 121 seconds)
[06:00:03] *** Quits: ToBeFree (tobefree@moz-782r3e.de) (Ping timeout: 121 seconds)
[06:00:15] *** Quits: kimundi (kimundi@moz-o5192b.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[06:00:36] *** Quits: vnpnkshn (vinod@moz-o3lrtq.miamfl.sbcglobal.net) (Quit: )
[06:00:52] *** Quits: aweinstock (aweinstock@moz-o91o46.res.rr.com) (Ping timeout: 121 seconds)
[06:00:54] *** Quits: esawin (esawin@moz-gob.6k5.214.85.IP) (Ping timeout: 121 seconds)
[06:01:28] *** Quits: Rastus_Vernon (rvernon@moz-j5rng1.tor-exit.network) (Ping timeout: 121 seconds)
[06:01:48] *** Joins: vinod (vinod@moz-o3lrtq.miamfl.sbcglobal.net)
[06:01:59] *** Joins: esawin (esawin@moz-gob.6k5.214.85.IP)
[06:02:07] *** Joins: Rastus_Vernon (rvernon@moz-als.nhl.10.176.IP)
[06:02:09] *** Quits: vinod (vinod@moz-o3lrtq.miamfl.sbcglobal.net) (Quit: )
[06:02:17] *** Joins: zz_kimundi (kimundi@moz-o5192b.dip0.t-ipconnect.de)
[06:02:20] *** zz_kimundi is now known as kimundi
[06:02:38] *** Joins: kanru (kanru@moz-2hf62a.HINET-IP.hinet.net)
[06:02:43] *** Joins: aweinstock (aweinstock@moz-o91o46.res.rr.com)
[06:03:50] *** Joins: akiss (akiss@moz-8er2ap.pool.digikabel.hu)
[06:05:39] *** Joins: ToBeFree (tobefree@moz-782r3e.de)
[06:10:19] *** Joins: ghservo (ghservo@moz-abh.5u0.30.192.IP)
[06:10:19] -ghservo- [13servo] 15hyowon opened pull request #6337: Add attributes for canvas shadows. (06master...06shadow_attrs) 02http://git.io/vIMgG
[06:10:19] *** Parts: ghservo (ghservo@moz-abh.5u0.30.192.IP) ()
[06:25:41] *** Quits: dstrbad (dstrbad@moz-nc7.kub.217.31.IP) (A TLS packet with unexpected length was received.)
[06:26:21] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[06:30:24] *** Quits: akiss (akiss@moz-8er2ap.pool.digikabel.hu) (Ping timeout: 121 seconds)
[06:30:47] *** Joins: eddyb (eddyb@moz-vpa.2f0.121.86.IP)
[06:31:04] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[06:33:21] *** Quits: dbaron (dbaron@moz-12jr9n.dynamic.fusionbroadband.com) (Ping timeout: 121 seconds)
[06:40:06] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[06:43:32] *** Quits: Rastus_Vernon (rvernon@moz-als.nhl.10.176.IP) (Ping timeout: 121 seconds)
[06:44:19] *** Joins: Rastus_Vernon (rvernon@moz-2hjefu.ip-37-187-119.eu)
[06:47:22] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[06:47:22] -ghservo- [13servo] 15SimonSapin closed issue #6332: Consider appeasing Github's Linguist so that it does not categorize Servo as a web browser written entirely in HTML 02http://git.io/vI1HG
[06:47:22] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[06:47:24] *** Joins: Jackneill (Jackneill@moz-uv1bbf.pool.digikabel.hu)
[06:58:42] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[06:58:42] -ghservo- [13servo] 15bors-servo pushed 0 new commits to 06tmp: 02http://git.io/vIMik
[06:58:42] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[06:58:46] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[06:58:46] -ghservo- [13servo] 15bors-servo merged 06tmp into 06auto: 02http://git.io/vIMiL
[06:58:46] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[06:59:12] *** Quits: slyu (slyu@moz-aj9ejj.HINET-IP.hinet.net) (Quit: Leaving.)
[07:03:54] *** Joins: slyu (slyu@moz-2hf62a.HINET-IP.hinet.net)
[07:11:50] *** Joins: Ms2ger (Ms2ger@moz-vbh.07m.182.91.IP)
[07:13:17] *** Joins: tglman (tglman@moz-l8btep.as13285.net)
[07:14:03] *** Quits: slyu (slyu@moz-2hf62a.HINET-IP.hinet.net) (Quit: Leaving.)
[07:17:04] *** Joins: akiss (akiss@moz-kij.q96.114.160.IP)
[07:19:27] *** Joins: tj_ (tj@moz-3m6.3kq.109.2.IP)
[07:19:57] *** Joins: laumann (thomas@moz-3m6.3kq.109.2.IP)
[07:21:50] *** Quits: Rastus_Vernon (rvernon@moz-2hjefu.ip-37-187-119.eu) (Quit: bye)
[07:23:10] *** Quits: BenWa (bgirard@moz-ugq1bb.cable.teksavvy.com) (Client exited)
[07:24:18] *** Quits: cakecatz (cakecatz@moz-u6p4rc.so-net.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[07:24:21] *** Joins: kmicu (kmicu@moz-uga.edn.218.91.IP)
[07:25:26] *** Joins: dstrbad (dstrbad@moz-nc7.kub.217.31.IP)
[07:27:06] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[07:30:20] *** Quits: tj_ (tj@moz-3m6.3kq.109.2.IP) (Quit: Leaving)
[07:30:36] *** Quits: je_julie (uid29643@moz-2q4j9e.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[07:31:51] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[07:35:15] *** Joins: cakecatz (cakecatz@moz-u6p4rc.so-net.ne.jp)
[07:37:19] *** Quits: njn (chatzilla@moz-c6c476.iinet.net.au) (Quit: ChatZilla 0.9.91.1 [Firefox 41.0a1/20150531163607])
[07:40:03] *** Joins: slyu (slyu@moz-2hf62a.HINET-IP.hinet.net)
[07:40:23] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[07:40:23] -ghservo- [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/vIMiL
[07:40:23] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[07:40:27] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[07:40:27] -ghservo- [13servo] 15bors-servo closed pull request #6335: Ignore CollectReport messages when shutting down the LayoutTask. (06master...06fix-layout-task-shutdown-panic) 02http://git.io/vIMOP
[07:40:27] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[07:48:53] *** Quits: akiss (akiss@moz-kij.q96.114.160.IP) (Connection closed)
[07:52:53] *** Quits: dstrbad (dstrbad@moz-nc7.kub.217.31.IP) (A TLS packet with unexpected length was received.)
[07:54:24] *** Quits: tglman (tglman@moz-l8btep.as13285.net) (Ping timeout: 121 seconds)
[07:56:03] *** Quits: rohin (rohin@moz-ed0fdd.resnet.ubc.ca) (Ping timeout: 121 seconds)
[07:56:36] *** Joins: akiss (akiss@moz-kij.q96.114.160.IP)
[08:00:36] *** Joins: bjz (bjz@moz-0j4.2c9.87.203.IP)
[08:01:04] *** Quits: nonsensickle (nonsensickl@moz-4v0.gkd.16.182.IP) (Connection closed)
[08:02:23] *** Joins: nonsensickle (nonsensickl@moz-4v0.gkd.16.182.IP)
[08:07:13] *** Joins: tglman (tglman@moz-l8btep.as13285.net)
[08:08:47] *** Quits: bjz (bjz@moz-0j4.2c9.87.203.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[08:12:25] *** Quits: FreeFull (freefull@moz-f8lkb1.range165-120.btcentralplus.com) (Ping timeout: 121 seconds)
[08:14:20] *** Joins: valentin (icecold@moz-00i.a39.33.89.IP)
[08:14:27] *** Joins: FreeFull (freefull@moz-qs0ed3.range165-120.btcentralplus.com)
[08:17:10] *** Joins: dstrbad (dstrbad@moz-nc7.kub.217.31.IP)
[08:22:26] *** Joins: kamarkiewicz (kamarkiewic@moz-df5.u5d.17.156.IP)
[08:26:48] *** Quits: newbie (eibwen@moz-gfvfik.dip0.t-ipconnect.de) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[08:32:19] *** Quits: tglman (tglman@moz-l8btep.as13285.net) (Ping timeout: 121 seconds)
[08:35:34] *** Joins: rohin (rohin@moz-ed0fdd.resnet.ubc.ca)
[08:37:26] *** Quits: dstrbad (dstrbad@moz-nc7.kub.217.31.IP) (A TLS packet with unexpected length was received.)
[08:37:36] *** Quits: moa (Cedric@moz-5q0u7t.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[08:39:40] *** Quits: rohin (rohin@moz-ed0fdd.resnet.ubc.ca) (Ping timeout: 121 seconds)
[08:41:36] *** Joins: rohin (rohin@moz-ed0fdd.resnet.ubc.ca)
[08:42:21] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[08:45:43] *** Quits: rohin (rohin@moz-ed0fdd.resnet.ubc.ca) (Ping timeout: 121 seconds)
[08:50:28] *** Joins: moa (Cedric@moz-5trmpn.abo.wanadoo.fr)
[08:54:01] *** Joins: nicknikolov (nicknikolov@moz-qg7.vka.123.2.IP)
[08:54:05] *** Joins: nefzaoui (nefzaoui@moz-5dg.pf8.227.41.IP)
[09:11:04] *** Joins: rohin (rohin@moz-ed0fdd.resnet.ubc.ca)
[09:15:11] *** Quits: rohin (rohin@moz-ed0fdd.resnet.ubc.ca) (Ping timeout: 121 seconds)
[09:15:53] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[09:18:00] *** Joins: tglman (tglman@moz-a9g.0ir.117.94.IP)
[09:20:41] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[09:21:55] *** Joins: godlikesme (godlikesme@moz-2a2.dsd.174.79.IP)
[09:22:24] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[09:22:24] -ghservo- [13servo] 15Ms2ger created 06ws-connect (+1 new commit): 02http://git.io/vID39
[09:22:24] -ghservo- 13servo/06ws-connect 14c321287 15Jinwoo Song: WebSocket constructor should not panic...
[09:22:24] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[09:23:58] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[09:23:58] -ghservo- [13servo] 15Ms2ger opened pull request #6338: WebSocket constructor should not panic (06master...06ws-connect) 02http://git.io/vIDsG
[09:23:58] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[09:24:51] *** Joins: ghservo (ghservo@moz-abh.5u0.30.192.IP)
[09:24:51] -ghservo- [13servo] 15bors-servo merged 06auto into 06tmp: 02http://git.io/vIDso
[09:24:51] *** Parts: ghservo (ghservo@moz-abh.5u0.30.192.IP) ()
[09:26:24] *** Joins: gandalf (zbraniecki@moz-feb.hhs.128.88.IP)
[09:27:18] *** Joins: dstrbad (dstrbad@moz-nc7.kub.217.31.IP)
[09:38:02] *** Quits: fkaa (tundmatu@moz-501od2.business.telia.com) (Connection closed)
[09:38:28] *** Joins: fkaa (tundmatu@moz-501od2.business.telia.com)
[09:39:51] *** Joins: rohin (rohin@moz-ed0fdd.resnet.ubc.ca)
[09:40:19] *** Quits: kamarkiewicz (kamarkiewic@moz-df5.u5d.17.156.IP) (Quit: Leaving)
[09:40:28] *** Quits: gandalf (zbraniecki@moz-feb.hhs.128.88.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[09:43:51] *** Quits: nicknikolov (nicknikolov@moz-qg7.vka.123.2.IP) (Connection closed)
[09:43:58] *** Quits: rohin (rohin@moz-ed0fdd.resnet.ubc.ca) (Ping timeout: 121 seconds)
[09:44:50] *** Joins: rohin (rohin@moz-ed0fdd.resnet.ubc.ca)
[09:45:49] *** Joins: nicknikolov (nicknikolov@moz-qg7.vka.123.2.IP)
[09:47:27] <nox> Ohai.
[09:47:31] <nox> eddyb: Ping?
[09:48:35] <eddyb> nox: pong
[09:48:44] <nox> eddyb: Will you write a test for UserAgent?
[09:50:00] <eddyb> nox: I would, but I don't know where to put it
[09:50:08] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[09:50:08] -ghservo- [13rust-geom] 15nox opened issue #85: Document why Matrix4 and other types are reversed with regard to the WhatWG specs 02http://git.io/vID8u
[09:50:08] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[09:50:17] *** Quits: rohin (rohin@moz-ed0fdd.resnet.ubc.ca) (Ping timeout: 121 seconds)
[09:50:18] <eddyb> Ms2ger showed me that WPT tests can check if headers were sent
[09:50:57] <Ms2ger> This was just for... Wait, no, it wasn't for xhr
[09:51:03] <Ms2ger> Under http/
[09:51:25] <eddyb> is in in the servo repo or somewhere else?
[09:51:29] <Ms2ger> And enable that dir in tests/wpt/include.ini
[09:51:30] <Ms2ger> Yeah
[09:51:40] <Ms2ger> tests/wpt/web-platform-tests/http/
[09:51:45] <eddyb> no submodules?
[09:51:48] <Ms2ger> Nope
[09:51:59] <eddyb> thanks (I think that changed at some point in the past)
[09:52:04] <Ms2ger> ./mach test-wpt http --manifest-update should make it happy
[09:52:06] <Ms2ger> Yeah, it did
[09:52:27] <eddyb> would explain my confusion :D
[09:52:32] <eddyb> Ms2ger: thanks again
[09:52:44] <Ms2ger> Thank you!
[09:53:25] <Ms2ger> https://github.com/servo/saltfs/pull/45 is pretty cool
[09:53:26] <crowbot1> PR #45: Let homu manage workflow for this repo. - https://github.com/servo/saltfs/pull/45
[09:56:14] *** Joins: rohin (rohin@moz-ed0fdd.resnet.ubc.ca)
[09:57:36] *** Quits: sp3d (sp3d@moz-ik970v.enn1.s22b.000d.2601.IP) (Ping timeout: 121 seconds)
[09:58:33] *** Joins: mukilan (mukilan@moz-5ke.d4s.164.122.IP)
[10:02:00] *** Quits: rohin (rohin@moz-ed0fdd.resnet.ubc.ca) (Ping timeout: 121 seconds)
[10:03:43] *** Quits: slyu (slyu@moz-2hf62a.HINET-IP.hinet.net) (A TLS packet with unexpected length was received.)
[10:04:15] <Ms2ger> Whaaaaaaa
[10:07:45] *** Quits: godlikesme (godlikesme@moz-2a2.dsd.174.79.IP) (Ping timeout: 121 seconds)
[10:08:53] *** Joins: godlikesme (godlikesme@moz-2a2.dsd.174.79.IP)
[10:11:23] *** Quits: dstrbad (dstrbad@moz-nc7.kub.217.31.IP) (A TLS packet with unexpected length was received.)
[10:16:41] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[10:17:57] *** Quits: tglman (tglman@moz-a9g.0ir.117.94.IP) (Ping timeout: 121 seconds)
[10:20:38] <Manishearth> yo dawg
[10:21:06] <Manishearth> I heard you liked infrastructure so I infrastructure'd your infrastructure so you can test your tests
[10:21:47] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[10:21:58] *** Joins: rohin (rohin@moz-ed0fdd.resnet.ubc.ca)
[10:22:18] <eddyb>           client.open("GET", "resources/redirect.py?location="+encodeURIComponent("http://www2."+location.host+(location.pathname.replace(/[^\/]+$/, ''))+'resources/corsenabled.py')+"&code=" + code)
[10:22:35] <eddyb> so that's how the python stuff is invoked
[10:23:39] <eddyb> and it's relative to the file, in tests/wpt/web-platform-tests/XMLHttpRequest/resources/corsenabled.py
[10:24:09] *** Joins: dstrbad (dstrbad@moz-nc7.kub.217.31.IP)
[10:25:24] <eddyb> and inspect-headers.py is very nice
[10:26:05] *** Quits: rohin (rohin@moz-ed0fdd.resnet.ubc.ca) (Ping timeout: 121 seconds)
[10:29:29] <eddyb> Ms2ger: how do I get the tests to pass -u to Servo?
[10:30:16] *** Quits: dstrbad (dstrbad@moz-nc7.kub.217.31.IP) (A TLS packet with unexpected length was received.)
[10:30:24] <mmatyas> mozjs_sys compiles some weird files, like host_jsoplengen, host_jskwgen, etc. I wonder what are these?
[10:31:26] <eddyb> jskwgen "obviously" means JS keyword generator
[10:31:42] <eddyb> and jsoplengen is... op length? not sure what "op" is
[10:32:45] <Ms2ger> eddyb, what's -u?
[10:33:14] <Ms2ger> op is like a JSOp, an... instruction?
[10:33:38] <eddyb> Ms2ger: --user-agent
[10:33:48] <Ms2ger> Oh, right, hm
[10:34:11] <Ms2ger> Calling jgraham 
[10:34:37] <mmatyas> I mean, are they linked to servo? I'm trying to find out why I get linking errors when I cross compile, and these files always compile to x86-64.
[10:34:55] <eddyb> mmatyas: they're generators so they're probably ran as part of the build
[10:35:13] <eddyb> mmatyas: oh, it's you :P
[10:35:17] <Ms2ger> host_* means they should compile for host, not target
[10:35:30] <eddyb> same story as with the plugins: this stuff would be broken if it would compile for the target
[10:35:39] <eddyb> I wouldn't be surprised if someone does just that
[10:36:19] <eddyb> Ms2ger: I think I can just use XMLHttpRequest/resources/{redirect,inspect-headers}.py but I need User-Agent to have some specific value
[10:36:34] <mmatyas> and what about "nsinstall"? I get an config/host_nsinstall and an config/nsinstall, both x86-64
[10:37:01] <Ms2ger> That sounds somewhat strange
[10:37:12] <Ms2ger> You really want #build, though
[10:37:35] <jgraham> eddyb: There isn't a way to pass custom command line options in other than editing the test harness
[10:38:06] <mmatyas> Ms2ger, isn't that channel for Firefox?
[10:38:15] <Ms2ger> This is Firefox
[10:38:18] <eddyb> lol
[10:38:31] <eddyb> jgraham: should I do that?
[10:38:54] <Ms2ger> jgraham, I don't guess we can hijack the pref code
[10:41:59] <jgraham> Ms2ger: Hijack which pref code? The one for setting prefs from the ini file? Seems like you could do something similar for sure
[10:42:09] <Ms2ger> Yeah
[10:42:12] <jgraham> But I wouldn't reuse prefs:
[10:42:23] *** Quits: stl (stl@moz-o95.t8r.15.176.IP) (Ping timeout: 121 seconds)
[10:42:57] <jgraham> But honestly testing specific tests with specific command line options seems quite unfortunate
[10:43:37] <Ms2ger> It is
[10:43:40] <jgraham> If we just want it to be possible to experimentally run all tests with non-default options, we could provide a way to pass them through from the command line
[10:44:02] <Ms2ger> I guess we could just run everything with some UA header
[10:45:22] *** Joins: stl (stl@moz-vot.hbd.15.176.IP)
[10:49:22] <eddyb> Servo/wpt-test or something
[10:49:31] <eddyb> Ms2ger: I thought only that was possible
[10:49:35] <Ms2ger> Yeah
[10:49:48] <eddyb> (somehow I was thinking one Servo instance runs all the tests)
[10:51:07] <eddyb> Ms2ger, jgraham: so, if I want to add --user-agent to Servo for tests, where do I do that?
[10:52:08] <Ms2ger> tests/wpt/harness/wptrunner/executors/executorservo.py
[10:52:44] *** Joins: tglman (tglman@moz-n4a.vc2.118.94.IP)
[10:52:53] *** Quits: stl (stl@moz-vot.hbd.15.176.IP) (Ping timeout: 121 seconds)
[10:57:54] *** Quits: tglman (tglman@moz-n4a.vc2.118.94.IP) (Ping timeout: 121 seconds)
[10:58:57] *** Quits: godlikesme (godlikesme@moz-2a2.dsd.174.79.IP) (Ping timeout: 121 seconds)
[10:59:21] *** Quits: tomaka (Pierre@moz-42vh99.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[11:00:13] *** Joins: tomaka (Pierre@moz-42vh99.abo.wanadoo.fr)
[11:00:21] *** Joins: rohin (rohin@moz-ed0fdd.resnet.ubc.ca)
[11:03:13] *** Joins: tglman (tglman@moz-hiv.vc2.118.94.IP)
[11:05:05] *** Joins: duncan (paul@moz-9vabq7.sgnwmi.sbcglobal.net)
[11:07:05] *** Quits: rohin (rohin@moz-ed0fdd.resnet.ubc.ca) (Ping timeout: 121 seconds)
[11:10:40] *** Joins: Nekit1234007 (nekit@moz-0a7.a78.189.91.IP)
[11:13:19] *** Joins: dstrbad (dstrbad@moz-t253c1.client.xnet.hr)
[11:14:38] *** Quits: dstrbad (dstrbad@moz-t253c1.client.xnet.hr) (A TLS packet with unexpected length was received.)
[11:18:20] *** Quits: tglman (tglman@moz-hiv.vc2.118.94.IP) (Ping timeout: 121 seconds)
[11:24:56] *** Joins: rohin (rohin@moz-ed0fdd.resnet.ubc.ca)
[11:26:15] *** Joins: godlikesme (godlikesme@moz-2a2.dsd.174.79.IP)
[11:29:03] *** Quits: rohin (rohin@moz-ed0fdd.resnet.ubc.ca) (Ping timeout: 121 seconds)
[11:29:49] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[11:33:52] *** Joins: stl (stl@moz-sa1.66b.15.176.IP)
[11:42:21] *** Joins: tglman (tglman@moz-a4okus.as13285.net)
[11:43:15] *** Joins: rohin (rohin@moz-ed0fdd.resnet.ubc.ca)
[11:43:39] *** Joins: filsmick (filsmick@moz-ckfrrr.abo.wanadoo.fr)
[11:47:22] *** Quits: rohin (rohin@moz-ed0fdd.resnet.ubc.ca) (Ping timeout: 121 seconds)
[11:51:34] *** Joins: gandalf (zbraniecki@moz-hpcspm.dublin.eircom.net)
[11:58:20] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[11:58:20] -ghservo- [13servo] 15Ms2ger 04force-pushed 06ws-connect from 14c321287 to 14877c369: 02http://git.io/vIyeH
[11:58:20] -ghservo- 13servo/06ws-connect 14877c369 15Jinwoo Song: WebSocket constructor should not panic...
[11:58:20] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[11:58:57] *** Joins: ghservo (ghservo@moz-abh.5u0.30.192.IP)
[11:58:57] -ghservo- [13servo] 15bors-servo 04force-pushed 06tmp from 1486d3070 to 1474ef31c: 02http://git.io/veWu4
[11:58:57] *** Parts: ghservo (ghservo@moz-abh.5u0.30.192.IP) ()
[11:59:01] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[11:59:01] -ghservo- [13servo] 15bors-servo 04force-pushed 06auto from 1486d3070 to 14a3eb253: 02http://git.io/A9I6iA
[11:59:01] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[12:02:47] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[12:05:25] *** Joins: Nashenas88 (Nashenas88@moz-of81j9.miamfl.sbcglobal.net)
[12:07:34] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[12:07:42] *** Quits: gandalf (zbraniecki@moz-hpcspm.dublin.eircom.net) (Quit: Textual IRC Client: www.textualapp.com)
[12:19:44] *** Joins: ProgramFOX (ProgramFOX@moz-gcfkbm.isp.belgacom.be)
[12:24:27] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[12:31:24] *** Joins: tromey (tromey@moz-m3id6o.hlrn.qwest.net)
[12:43:33] *** Quits: cakecatz (cakecatz@moz-u6p4rc.so-net.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[12:45:44] *** Quits: filsmick (filsmick@moz-ckfrrr.abo.wanadoo.fr) (Quit: )
[12:45:57] *** Quits: raster (raster@moz-1iqdsk.enlightenment.org) (Quit: Gettin' stinky!)
[12:47:32] *** Joins: ahal (ahal@moz-b8e0a0.cpe.pppoe.ca)
[12:59:03] *** Joins: rohin (rohin@moz-ed0fdd.resnet.ubc.ca)
[13:03:10] *** Quits: rohin (rohin@moz-ed0fdd.resnet.ubc.ca) (Ping timeout: 121 seconds)
[13:04:03] *** Joins: rohin (rohin@moz-ed0fdd.resnet.ubc.ca)
[13:04:36] *** Quits: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP) (Quit: å •å…¥ /dev/null)
[13:11:06] *** Quits: mskrzypkows (m.skrzypkow@moz-u9sv8i.itsa.net.pl) (Ping timeout: 121 seconds)
[13:11:32] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[13:15:51] *** Joins: dstrbad (dstrbad@moz-2kg.f49.217.31.IP)
[13:19:43] *** AutomatedTester|AFK is now known as AutomatedTester
[13:20:18] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[13:20:18] -ghservo- [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/vIyvt
[13:20:18] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[13:20:23] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[13:20:23] -ghservo- [13servo] 15bors-servo closed issue #6082: WebSocket constructor should not panic if address lookup fails 02http://git.io/vUhiD
[13:20:23] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[13:23:07] *** Joins: Debloper (debloper@moz-m6j.f0d.244.121.IP)
[13:23:25] *** Quits: rohin (rohin@moz-ed0fdd.resnet.ubc.ca) (Ping timeout: 121 seconds)
[13:27:57] *** Joins: wilfredh (uid159@moz-md9so9.brockwell.irccloud.com)
[13:36:11] *** Quits: aravindavk (aravinda@moz-m6j.f0d.244.121.IP) (Ping timeout: 121 seconds)
[13:40:26] *** Quits: dstrbad (dstrbad@moz-2kg.f49.217.31.IP) (A TLS packet with unexpected length was received.)
[13:46:19] *** Quits: Debloper (debloper@moz-m6j.f0d.244.121.IP) (Quit: Leaving.)
[13:50:38] *** Joins: Jayflux (Jason@moz-kbadmp.ppp.as43234.net)
[13:57:32] *** Joins: rohin (rohin@moz-ed0fdd.resnet.ubc.ca)
[14:01:05] <mukilan> Ms2ger, Manishearth: ping
[14:01:26] <Manishearth> mukilan: pong
[14:02:28] <mukilan> Manishearth: For this script https://gist.github.com/anonymous/d94fba8a4ef34548aeb3 , the output is 'true' on both FF and Chrome. Shouldn't it be 'null' since 'reset the form owner' is never invoked according to the spec?
[14:02:40] <mukilan> https://html.spec.whatwg.org/multipage/forms.html#form-owner
[14:03:18] *** Quits: rohin (rohin@moz-ed0fdd.resnet.ubc.ca) (Ping timeout: 121 seconds)
[14:04:59] <Manishearth> mukilan: https://html.spec.whatwg.org/multipage/forms.html#association-of-controls-and-forms:reset-the-form-owner ?
[14:05:27] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[14:06:04] <mukilan> Manishearth: but we don't insert anything into the document https://html.spec.whatwg.org/multipage/infrastructure.html#insert-an-element-into-a-document
[14:07:20] <Manishearth> mukilan: no the next point about subtrees
[14:08:08] <Manishearth> wait no
[14:08:09] <Manishearth> hm
[14:08:37] <jgraham> mukilan: I think it could be a spec bug
[14:08:44] *** Joins: cakecatz (cakecatz@moz-rakufn.sannet.ne.jp)
[14:08:48] <Manishearth> if a node is appended() in a forest where there is no form owner to belong to, did it make a sound?
[14:08:51] <Manishearth> hm
[14:09:07] <mukilan> Manishearth: haha
[14:09:30] <Manishearth> mukilan: I think the home subtree bit *should* have a clause about null owners, it just doesn't
[14:09:47] <Manishearth> we can assume it does for now
[14:09:55] <Manishearth> good catch
[14:10:11] <mukilan> jgraham, Manishearth : shall I file an issue ?
[14:10:20] *** Joins: rohin (rohin@moz-ed0fdd.resnet.ubc.ca)
[14:10:29] <Manishearth> on the spec, yes
[14:10:32] <Manishearth> cc me if you want
[14:10:58] <jgraham> mukilan: Feel free to cc me also
[14:10:59] <mukilan> Manishearth: sure. thanks
[14:11:30] <mukilan> jgraham: ok :)
[14:13:14] *** Joins: aravindavk (aravinda@moz-0cm.gl3.171.122.IP)
[14:13:34] *** Joins: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net)
[14:13:57] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[14:17:08] *** Joins: psd (psd@moz-89cogt.mtnl.net.in)
[14:20:13] *** Joins: dstrbad (dstrbad@moz-m3o.5qe.91.212.IP)
[14:20:54] *** Joins: gandalf (zbraniecki@moz-lt1.alp.248.89.IP)
[14:21:05] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[14:22:33] *** Joins: mib_od34yg (Mibbit@moz-hu6.nja.252.72.IP)
[14:24:01] *** AutomatedTester is now known as AutomatedTester|AFK
[14:24:37] *** Quits: rohin (rohin@moz-ed0fdd.resnet.ubc.ca) (Ping timeout: 121 seconds)
[14:25:12] *** Joins: rohin (rohin@moz-ed0fdd.resnet.ubc.ca)
[14:28:06] *** AutomatedTester|AFK is now known as AutomatedTester
[14:29:19] *** Quits: rohin (rohin@moz-ed0fdd.resnet.ubc.ca) (Ping timeout: 121 seconds)
[14:29:35] *** Quits: dstrbad (dstrbad@moz-m3o.5qe.91.212.IP) (A TLS packet with unexpected length was received.)
[14:30:34] *** Joins: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP)
[14:33:02] *** Quits: godlikesme (godlikesme@moz-2a2.dsd.174.79.IP) (Quit: Leaving)
[14:34:09] <Ms2ger> mukilan, and me :)
[14:34:40] <mukilan> Ms2ger: sure :)
[14:34:48] *** Joins: dstrbad (dstrbad@moz-m3o.5qe.91.212.IP)
[14:35:34] *** Quits: bogdan_maris (Instantbird@moz-662.esi.231.62.IP) (Client exited)
[14:41:57] *** Quits: dstrbad (dstrbad@moz-m3o.5qe.91.212.IP) (Connection closed)
[14:44:04] *** Joins: rohin (rohin@moz-ed0fdd.resnet.ubc.ca)
[14:44:47] *** Joins: dstrbad (dstrbad@moz-m3o.5qe.91.212.IP)
[14:45:03] *** Joins: till (till@moz-kqs.87m.91.95.IP)
[14:48:11] *** Quits: rohin (rohin@moz-ed0fdd.resnet.ubc.ca) (Ping timeout: 121 seconds)
[14:48:56] *** Quits: dstrbad (dstrbad@moz-m3o.5qe.91.212.IP) (Ping timeout: 121 seconds)
[14:49:29] *** AutomatedTester is now known as AutomatedTester|AFK
[14:49:44] *** Quits: gandalf (zbraniecki@moz-lt1.alp.248.89.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[14:52:35] *** AutomatedTester|AFK is now known as AutomatedTester
[14:56:41] *** Joins: gandalf (zbraniecki@moz-lt1.alp.248.89.IP)
[14:58:26] *** Joins: jviereck (Adium@moz-o5nloe.static.fusionbroadband.com)
[15:01:39] *** Joins: mwu (mwu@moz-87pg89.oi2i.p882.0085.2601.IP)
[15:02:19] *** Joins: BenWa (bgirard@moz-i5m.05u.207.66.IP)
[15:03:13] *** Quits: mib_od34yg (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:06:41] *** AutomatedTester is now known as AutomatedTester|AFK
[15:10:09] *** Joins: rohin (rohin@moz-ed0fdd.resnet.ubc.ca)
[15:10:54] <till> If anybody's experiencing the annoying "e10s tab crashes when replying on reviewable.io" bug, I found a workaround: clicking the "done" button instead of the text input opens the latter with "Done." pre-filled, but without the crash
[15:14:16] *** Quits: rohin (rohin@moz-ed0fdd.resnet.ubc.ca) (Ping timeout: 121 seconds)
[15:15:06] <jgraham> Ms2ger: AFAICT I get a successful WS upgrade
[15:19:55] *** AutomatedTester|AFK is now known as AutomatedTester
[15:28:34] <Ms2ger> I just saw my first one :)
[15:28:45] *** Quits: valentin (icecold@moz-00i.a39.33.89.IP) (Quit: Leaving.)
[15:31:15] <larsberg> jgraham: did you see mwu's note late-ish last night that he's having some trouble with a newer SM exposing some flakiness in the WPT tests? (I didn't see any details, but just wanted to know if you were aware)
[15:31:51] <Ms2ger> jgraham, so ws://localhost:8888/ fails miserably, but ws://localhost:8888/empty-message is fine
[15:32:01] <mwu> it was actually just an issue with the mozilla tests in wpt
[15:32:31] <Ms2ger> Unsurprising :)
[15:32:38] <mwu> those tests also fail in firefox because they use let without requesting a js version that supports it
[15:35:19] <mwu> very confusing to figure out though, because the syntax error just complains about a missing semicolon
[15:35:33] <Ms2ger> Ah, right
[15:35:51] <Ms2ger> mwu, wanna do a separate PR to just s/let/var/g?
[15:35:56] <mwu> Ms2ger: that was my plan
[15:38:26] <jgraham> Ms2ger: Oh so the handlers are misconfigured in some way?
[15:38:45] <Ms2ger> Possibly
[15:38:52] <jgraham> I don't really know much about pywebsocket
[15:38:55] <Ms2ger> Or that's just what pywebsocket does for dirs
[15:39:03] <Ms2ger> I'm going to say test bug
[15:39:12] <Ms2ger> Will fix later
[15:39:43] <jgraham> WFM, although is this possible to use to read arbitary directories on the server or anything?
[15:43:34] *** Joins: dstrbad (dstrbad@moz-m3o.5qe.91.212.IP)
[15:45:21] *** Joins: mccr8 (mccr8@moz-cfhap5.mtv2.mozilla.com)
[15:45:32] *** Quits: dstrbad (dstrbad@moz-m3o.5qe.91.212.IP) (A TLS packet with unexpected length was received.)
[15:47:47] <Ms2ger> Perhaps
[15:47:50] *** Joins: dbaron (dbaron@moz-12jr9n.dynamic.fusionbroadband.com)
[15:49:20] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[15:50:30] *** Joins: Rym (uid91135@moz-n2i7qm.charlton.irccloud.com)
[15:52:02] *** Joins: raster (raster@moz-hmb.m6k.147.221.IP)
[15:52:15] *** Quits: Ms2ger (Ms2ger@moz-vbh.07m.182.91.IP) (Ping timeout: 121 seconds)
[15:53:24] <Manishearth> mwu: that's funny
[15:53:56] <Manishearth> because in most languages, when the compiler encounters a missing semicolor, it emits a *different* unintelligible syntax error
[15:55:00] <mwu> sounds about right
[15:58:53] <jgraham> Semicolor? Is that the new category for black and white?
[15:59:40] <Manishearth> blagh
[16:02:39] *** Quits: ProgramFOX (ProgramFOX@moz-gcfkbm.isp.belgacom.be) (Quit: ChatZilla 0.9.91.1 [Firefox 38.0.5/20150525141253])
[16:02:50] *** Quits: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP) (Ping timeout: 121 seconds)
[16:04:59] *** Joins: rohin (rohin@moz-ed0fdd.resnet.ubc.ca)
[16:10:00] *** Quits: laumann (thomas@moz-3m6.3kq.109.2.IP) (Ping timeout: 121 seconds)
[16:14:09] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[16:14:09] -ghservo- [13servo] 15michaelwu opened pull request #6339: Switch from let to var in mozilla wpt tests (06master...06let-var-replacement) 02http://git.io/vISMc
[16:14:09] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[16:14:12] *** Quits: gandalf (zbraniecki@moz-lt1.alp.248.89.IP) (Connection closed)
[16:14:19] *** ahal is now known as ahal|afk
[16:14:29] *** Joins: mwu_ (mwu@moz-ugfb6p.oi2i.p882.0085.2601.IP)
[16:14:30] *** Joins: gandalf (zbraniecki@moz-lt1.alp.248.89.IP)
[16:15:12] *** Quits: mwu (mwu@moz-87pg89.oi2i.p882.0085.2601.IP) (Ping timeout: 121 seconds)
[16:15:45] *** Quits: mwu_ (mwu@moz-ugfb6p.oi2i.p882.0085.2601.IP) (Quit: Leaving)
[16:16:26] *** Joins: mwu (mwu@moz-ugfb6p.oi2i.p882.0085.2601.IP)
[16:16:38] *** ttaubert is now known as ttaubert|pto
[16:16:53] *** Quits: jviereck (Adium@moz-o5nloe.static.fusionbroadband.com) (Quit: Leaving.)
[16:20:15] <jgraham> mwu: Is the expectation data already correct? If not I guess that needs to be updated.
[16:20:25] <jgraham> Otherwise r+
[16:20:34] <mwu> jgraham: should ok - this only fails on the newer SM
[16:20:45] <mwu> older SM lets you use let
[16:21:40] <mwu> I would just request a newer js version but I don't think our script elements know how to deal with that
[16:23:09] <jgraham> mwu: This seems like a better fix than that
[16:23:25] <jgraham> Since the whole version requesting thing is nonstandard
[16:23:45] *** Quits: mwu (mwu@moz-ugfb6p.oi2i.p882.0085.2601.IP) (Connection closed)
[16:25:58] *** Quits: gandalf (zbraniecki@moz-lt1.alp.248.89.IP) (Ping timeout: 121 seconds)
[16:27:20] *** Joins: mwu (mwu@moz-3ttjoo.oi2i.p882.0085.2601.IP)
[16:27:25] *** Joins: gandalf (zbraniecki@moz-lt1.alp.248.89.IP)
[16:28:24] <mwu> jgraham: should I tell bors to land it then? never tried telling it to do things
[16:31:42] *** Joins: ghservo (ghservo@moz-abh.5u0.30.192.IP)
[16:31:42] -ghservo- [13servo] 15bors-servo merged 06auto into 06tmp: 02http://git.io/vIS7h
[16:31:42] *** Parts: ghservo (ghservo@moz-abh.5u0.30.192.IP) ()
[16:31:49] *** Parts: raster (raster@moz-hmb.m6k.147.221.IP) ("Skive!")
[16:32:02] <larsberg> I gave bors its marching orders :-)
[16:32:19] <mwu> nice
[16:32:43] <WindowsBunny> Manishearth: How are your PDB adventures
[16:33:12] <Manishearth> WindowsBunny: didn't do anything yet
[16:33:14] *** Joins: jviereck (Adium@moz-o5nloe.static.fusionbroadband.com)
[16:33:15] *** Quits: jviereck (Adium@moz-o5nloe.static.fusionbroadband.com) (Connection closed)
[16:33:23] <Manishearth> I hsould find that guy and remind him to give me the contacts
[16:33:25] <Manishearth> also, busy
[16:34:28] <WindowsBunny> Manishearth: k
[16:35:12] <Manishearth> WindowsBunny: if you want to take an initiative ins ome other direction let me know (eg emailing lars' friend)
[16:47:12] *** Quits: tomaka (Pierre@moz-42vh99.abo.wanadoo.fr) (Quit: Leaving)
[16:50:35] *** Joins: tomaka (Pierre@moz-42vh99.abo.wanadoo.fr)
[16:50:51] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[16:50:51] -ghservo- [13servo] 15aweinstock314 opened pull request #6340: Remove some unnecessary allocations in text input handling. (06master...06reduce-textinput-allocations) 02http://git.io/vISpb
[16:50:51] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[16:51:44] *** Joins: tobytailor (sid44@moz-bjj40k.0j4i.jtu0.0101.2620.IP)
[16:54:26] <jgraham> larsberg: So, fancy turning the CSS tests on on osx?
[16:55:11] <larsberg> jgraham: looking at http://build.servo.org/waterfall, aren't they still broken? Do they just need an OSX-specific baseline update?
[16:55:18] <jgraham> Yeah, I expect so
[16:55:50] <larsberg> Looks like http://build.servo.org/builders/mac3/builds/165/steps/shell/logs/stdio (last failed CSS tests from an otherwise passing PR that was merged).
[16:56:23] <jgraham> I'll make an update and we can see if it passes
[16:58:55] *** ahal|afk is now known as ahal
[16:59:13] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[16:59:13] -ghservo- [13servo] 15jgraham opened pull request #6341: Update CSS tests expected data to revision 31d63cc79bd4c929ed582229e9â€¦ (06master...06css_update_1010) 02http://git.io/vI9vp
[16:59:13] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[16:59:25] <jgraham> larsberg: ^
[16:59:47] *** Joins: rrandom (rrandom@moz-9a5.je5.148.182.IP)
[17:00:53] *** Parts: rrandom (rrandom@moz-9a5.je5.148.182.IP) ()
[17:01:25] *** Joins: rrandom (rrandom@moz-9a5.je5.148.182.IP)
[17:02:20] *** Quits: rrandom (rrandom@moz-9a5.je5.148.182.IP) (Connection closed)
[17:03:20] *** Joins: mib_zw6wm9 (Mibbit@moz-hu6.nja.252.72.IP)
[17:05:06] * larsberg questions the wisdom of enabling "auto-update" on the OSX builders when our CSS tests have hardcoded "10.10.3" version strings in them...
[17:06:02] *** Quits: rohin (rohin@moz-ed0fdd.resnet.ubc.ca) (Ping timeout: 121 seconds)
[17:06:30] *** Quits: FreeFull (freefull@moz-qs0ed3.range165-120.btcentralplus.com) (Quit: Lost terminal)
[17:08:24] *** Joins: FreeFull (freefull@moz-qs0ed3.range165-120.btcentralplus.com)
[17:12:36] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[17:12:36] -ghservo- [13servo] 15bors-servo merged 06auto into 06tmp: 02http://git.io/vI9LC
[17:12:36] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[17:13:26] <kmc> gsnedders: you're fuzzing the opentype sanitizer using afl? awesome
[17:13:31] <kmc> I did just a little bit of that
[17:15:48] *** Quits: gandalf (zbraniecki@moz-lt1.alp.248.89.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[17:16:27] <mwu> the reviewable review for the smup has about 180000 elements when loaded
[17:17:10] *** chmanchester|afk is now known as chmanchester
[17:20:23] *** Quits: tglman (tglman@moz-a4okus.as13285.net) (Ping timeout: 121 seconds)
[17:22:11] *** Joins: chc4 (chc4@moz-pdo0at.ma.comcast.net)
[17:22:41] *** Joins: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP)
[17:22:41] *** ChanServ sets mode: +o pcwalton
[17:23:47] *** Quits: psd (psd@moz-89cogt.mtnl.net.in) (Quit: Leaving)
[17:24:58] *** Joins: Savago (Savago@moz-8hd.3b6.246.162.IP)
[17:26:45] <zmike_> pcwalton: ping
[17:26:48] <pcwalton> zmike_: pong
[17:27:27] <zmike_> pcwalton: I continued investigating that paint size thing, and I noticed something very strange - the window size seems to change when it shouldn't
[17:27:54] <zmike_> sometimes compositor.window_size will be the previous size
[17:27:56] <zmike_> instead of the actual size
[17:28:20] <pcwalton> interesting
[17:28:25] <pcwalton> I don't know off the top of my head why that would be
[17:28:39] <zmike_> it seems that it's only getting set in one place, off the window resize event
[17:28:54] <zmike_> so this is especially strange
[17:30:25] <Manishearth> mwu: is there any work left on the review from the reviewer's side?
[17:32:39] <zmike_> oh wow
[17:32:51] <zmike_> pcwalton: false alarm, turned out to be an edge case in test app
[17:32:55] <pcwalton> ah, ok
[17:33:02] <zmike_> good news I suppose
[17:33:33] *** Quits: Caspy7 (chatzilla@moz-tkogmh.stlsmo.sbcglobal.net) (Ping timeout: 121 seconds)
[17:33:33] <mwu> Manishearth: it turns it I was never running the full test suite, so I'm fixing tests now and those changes should be reviewed
[17:33:35] *** Joins: ghservo (ghservo@moz-abh.5u0.30.192.IP)
[17:33:35] -ghservo- [13servo] 15zmike closed issue #6190: compositor renders at wrong size in some cases 02http://git.io/vkIS1
[17:33:35] *** Parts: ghservo (ghservo@moz-abh.5u0.30.192.IP) ()
[17:33:47] <mwu> but for all the review comments left that I haven't addressed, I'll open issues for
[17:33:47] <Manishearth> mwu: cool
[17:34:21] <Manishearth> mwu: please keep those in separate commits so that we can review -- following reviewable for this would be a nightmare since I wasn't part of the original review
[17:34:34] <mwu> Manishearth: yeah they're all separate
[17:36:56] *** Quits: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP) (Client exited)
[17:37:49] <Manishearth> cool
[17:37:58] <Manishearth> ping me if you need r on a commit
[17:41:10] *** Joins: rohin (rohin@moz-ed0fdd.resnet.ubc.ca)
[17:45:17] *** Quits: rohin (rohin@moz-ed0fdd.resnet.ubc.ca) (Ping timeout: 121 seconds)
[17:46:39] *** Joins: rohin (rohin@moz-ed0fdd.resnet.ubc.ca)
[17:48:30] *** Quits: fkaa (tundmatu@moz-501od2.business.telia.com) (RecvQ exceeded)
[17:48:52] *** Joins: fkaa (tundmatu@moz-501od2.business.telia.com)
[17:50:46] *** Quits: rohin (rohin@moz-ed0fdd.resnet.ubc.ca) (Ping timeout: 121 seconds)
[17:55:43] *** Joins: ghservo (ghservo@moz-abh.5u0.30.192.IP)
[17:55:43] -ghservo- [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/vI9LC
[17:55:43] *** Parts: ghservo (ghservo@moz-abh.5u0.30.192.IP) ()
[17:55:47] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[17:55:47] -ghservo- [13servo] 15bors-servo closed pull request #6341: Update CSS tests expected data to revision 31d63cc79bd4c929ed582229e9â€¦ (06master...06css_update_1010) 02http://git.io/vI9vp
[17:55:47] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[17:55:59] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[17:55:59] -ghservo- [13servo] 15jgraham opened issue #6342: Unstable CSS test /css21_dev/html4/absolute-replaced-height-014.htm on OSX 02http://git.io/vI9BX
[17:55:59] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[17:59:00] *** Quits: aravindavk (aravinda@moz-0cm.gl3.171.122.IP) (Quit: Konversation terminated!)
[18:04:17] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[18:04:17] -ghservo- [13servo] 15jgraham opened pull request #6343: Disable unstable test on OSX (06master...06css_disable_test) 02http://git.io/vI9u8
[18:04:17] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[18:06:53] *** Quits: mukilan (mukilan@moz-5ke.d4s.164.122.IP) (A TLS packet with unexpected length was received.)
[18:08:26] *** Joins: dstrbad (dstrbad@moz-0cje72.cable.xnet.hr)
[18:08:36] *** Quits: cakecatz (cakecatz@moz-rakufn.sannet.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[18:11:29] <jgraham> larsberg: That PR is to disable the test that failed
[18:14:13] *** Quits: dbaron (dbaron@moz-12jr9n.dynamic.fusionbroadband.com) (Quit: 8403864 bytes have been tenured, next gc will be global.)
[18:17:55] *** Quits: bdero (bran@moz-0e2lk5.sns9.e6pb.0197.2601.IP) (Quit: Leaving.)
[18:19:56] *** Quits: dstrbad (dstrbad@moz-0cje72.cable.xnet.hr) (Connection closed)
[18:19:57] *** Joins: dstrbad (dstrbad@moz-0cje72.cable.xnet.hr)
[18:20:15] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[18:20:15] *** ChanServ sets mode: +o pcwalton
[18:20:42] *** Joins: dstrbad_ (dstrbad@moz-i5d.kub.217.31.IP)
[18:21:24] *** Quits: doener (doener@moz-eku96m.hsi08.unitymediagroup.de) (Quit: leaving)
[18:22:19] *** Joins: ldng (ldng@moz-l3gmiq.abo.bbox.fr)
[18:22:57] *** Joins: brson (brson@moz-u3dg2t.sfo1.mozilla.com)
[18:22:58] *** ChanServ sets mode: +o brson
[18:24:13] *** Quits: kaksmet (kaksmet@moz-n1sp9f.se.alltele.net) (Connection closed)
[18:24:16] *** Quits: dstrbad (dstrbad@moz-0cje72.cable.xnet.hr) (Ping timeout: 121 seconds)
[18:24:21] *** Joins: kaksmet (kaksmet@moz-u2u7q2.cust.tele2.se)
[18:24:35] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[18:24:35] -ghservo- [13servo] 15bors-servo merged 06tmp into 06auto: 02http://git.io/vI9oD
[18:24:35] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[18:30:40] <pcwalton> at some point I'm going to stop making Rust source changes if it's in util and just start hex editing the binary
[18:30:42] <pcwalton> to avoid compile times
[18:30:45] <pcwalton> of script
[18:32:35] *** Quits: mib_zw6wm9 (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:32:47] <aweinstock> pcwalton: is there enough alignment/nop space in the binary for that to be practical?
[18:32:51] <larsberg> pcwalton: nmatsakis has an almost 2.5 minute reduction in script compile times coming :-)
[18:33:15] <pcwalton> larsberg: yeah, I heard
[18:33:25] <pcwalton> aweinstock: probably not, it's mostly just idle frustration ;)
[18:33:33] * larsberg still wants to talk a bit about doing something like SML/NJ vs. MLton for debug vs. release compile times, because even the remaining 5 minutes is too long for interactive hacking...
[18:33:41] <pcwalton> we need to do more
[18:33:46] <pcwalton> I like eddyb's pipelining idea
[18:34:22] <pcwalton> rustc should front-load all metadata generation and cargo should start the build for crate N+1 once the metadata for crate N is output
[18:34:50] *** Joins: rohin (rohin@moz-ed0fdd.resnet.ubc.ca)
[18:36:52] <aweinstock> larsberg: MLton's distinction is applying whole-program optimization, right? I didn't think rustc did that by default (and that the speed issues were elsewhere)
[18:37:19] <pcwalton> well, rustc does whole-module optimization, which is a lot
[18:37:50] *** Quits: till (till@moz-kqs.87m.91.95.IP) (A TLS packet with unexpected length was received.)
[18:38:22] <pcwalton> larsberg: there is a RFC to this effect which does what you want, by the way, and I'm fully in favor
[18:38:34] <aweinstock> is there a simple/hacky way to disable the whole-module optimization passes? (and would it still be feasible to debug the resulting unoptimized binaries?)
[18:38:41] <Manishearth> pcwalton: bstrie is working on that
[18:38:44] <pcwalton> larsberg: the tricky thing is calculating dependencies
[18:38:47] <larsberg> aweinstock: yeah, the analogy is just whole-{unit} compilation vs. a super-whizzy-fast incremental strategy. I'm a little worried for a couple of years, because we'll eat up all of the 25% performance gains when servo is 5x larger. nmatsakis is thinking about things :-)
[18:38:48] <Manishearth> though he's doing just `cargo check`
[18:38:56] <pcwalton> since ML has no circular dependencies among modules
[18:38:58] <pcwalton> and Rust does
[18:38:59] <Manishearth> (typecheck/borrowcheck via metadata)
[18:39:00] <pcwalton> it's a lot harder
[18:39:03] <pcwalton> not impossible
[18:39:05] <pcwalton> just a lot harder :)
[18:39:08] <larsberg> pcwalton: yeah, that's most of the complication in SML/NJ. Compilation manager allows circular dependencies between modules :-)
[18:39:13] <eddyb> Manishearth: I don't think bstrie is actually doing that. I mean, I haven't seen him ask hard questions yet
[18:39:14] <pcwalton> ah, OK
[18:39:25] <Manishearth> but, we could still do the N+1 compilation with the same frameworks
[18:39:29] <larsberg> and matthias blume spent a long time working on it (couple of years as a postdoc, IIRC)
[18:39:30] <Manishearth> eddyb: he hasn't started
[18:39:43] <eddyb> riiight
[18:39:49] <Manishearth> and the more we say that he's doing it the more likely he is to do it :P
[18:40:10] <eddyb> I could've told him that's a bad idea
[18:40:37] <eddyb> Manishearth: if he knew the internals, an hour would be more than enough to get *something* working
[18:40:44] <pcwalton> I think the first step is just to avoid def-ID drift by making def IDs per-function
[18:40:45] <pcwalton> or whatever
[18:40:49] <eddyb> hooking up cargo to it is harder
[18:41:07] <Manishearth> pcwalton: nmatsakis is working on making side tables local, right?
[18:41:08] <eddyb> pcwalton: well, one idea with MIR is to just have a vector of functions and that's it
[18:41:12] <Manishearth> or at least thinking of it
[18:41:18] <eddyb> Manishearth: it's a PITA
[18:41:53] <pcwalton> even if incremental compilation were *just* "if you make a purely internal change that affects no signatures then you don't have to rebuild all downstream crates" that would be an enormous help
[18:42:14] <pcwalton> no signatures and no inlined functions
[18:42:38] <eddyb> pcwalton: hmm, you could achieve that by changing just how the SVH is computed
[18:42:52] <pcwalton> yes
[18:43:01] <pcwalton> we should just start there
[18:43:02] <pcwalton> for example
[18:43:05] <pcwalton> that is the change I made
[18:43:13] <pcwalton> I added a "- 1" to a non-inlined function
[18:43:14] <pcwalton> and now I'm sitting here for 30 minutes
[18:43:33] <eddyb> 30... minutes? in what?
[18:43:40] *** Quits: rohin (rohin@moz-ed0fdd.resnet.ubc.ca) (Ping timeout: 121 seconds)
[18:43:43] <Manishearth> cargo justlinkitforchrissakes
[18:43:44] <pcwalton> rebuilding script on an ARM board ;)
[18:43:49] <eddyb> ouch
[18:43:53] <pcwalton> ok, actually, this was a generic function
[18:43:53] <eddyb> pcwalton: why not cross-compile?
[18:43:58] <pcwalton> because that's a pain to set up
[18:44:12] <eddyb> less pain than 30 minutes, for sure
[18:44:19] <pcwalton> well, not all of my changes are 30 minutes
[18:44:23] <pcwalton> only if they affect libscript
[18:44:26] <pcwalton> which is not most of my changes
[18:44:33] <pcwalton> this is just a bad one because I'm affecting workqueue
[18:46:12] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[18:48:04] *** Quits: brson (brson@moz-u3dg2t.sfo1.mozilla.com) (Connection closed)
[18:55:09] *** Joins: dinfuehr (dinfuehr@moz-fnju7g.highway.telekom.at)
[18:55:52] *** Quits: dinfuehr (dinfuehr@moz-fnju7g.highway.telekom.at) (Connection closed)
[18:56:13] *** Joins: dinfuehr (dinfuehr@moz-fnju7g.highway.telekom.at)
[18:59:11] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[18:59:28] *** Joins: erickt (erickt@moz-0vd.dgr.221.67.IP)
[18:59:38] *** Joins: dinfuehr_ (dinfuehr@moz-fnju7g.highway.telekom.at)
[19:00:16] *** Quits: dinfuehr (dinfuehr@moz-fnju7g.highway.telekom.at) (Ping timeout: 121 seconds)
[19:03:40] *** Quits: erickt (erickt@moz-0vd.dgr.221.67.IP) (Ping timeout: 121 seconds)
[19:05:28] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[19:05:28] -ghservo- [13servo] 15bors-servo 04force-pushed 06auto from 143a276b6 to 1473086fc: 02http://git.io/A9I6iA
[19:05:28] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[19:06:01] *** Joins: kaksmet_ (kaksmet@moz-n1sp9f.se.alltele.net)
[19:06:51] *** Quits: dinfuehr_ (dinfuehr@moz-fnju7g.highway.telekom.at) (Connection closed)
[19:07:12] *** Joins: dinfuehr (dinfuehr@moz-fnju7g.highway.telekom.at)
[19:08:55] *** Joins: dinfuehr_ (dinfuehr@moz-fnju7g.highway.telekom.at)
[19:09:23] *** Quits: kaksmet (kaksmet@moz-u2u7q2.cust.tele2.se) (Ping timeout: 121 seconds)
[19:09:59] *** Quits: dinfuehr (dinfuehr@moz-fnju7g.highway.telekom.at) (Connection closed)
[19:10:41] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[19:10:41] -ghservo- [13saltfs] 15jgraham opened pull request #47: Gate on CSS tests on OSX (06master...06osx_css) 02http://git.io/vI9xW
[19:10:41] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[19:12:39] <jgraham> larsberg: Hmm, looks liek similar failures on the test-disabling PR
[19:13:02] *** Joins: Ms2ger (Ms2ger@moz-15i.9ho.190.193.IP)
[19:13:22] *** Joins: jbomo (dkd@moz-uol4mm.fios.verizon.net)
[19:13:30] <larsberg> jgraham: yeah, a subset, but it looks like the same issue. Hrm...
[19:14:52] <jgraham> Ms2ger: Did something change with websockets recently?
[19:15:12] <Ms2ger> Yeah, the no-crash pr just landed
[19:15:19] <Ms2ger> (Quite to my surprise)
[19:15:35] <Ms2ger> https://github.com/servo/servo/pull/6338
[19:15:35] <crowbot1> PR #6338: WebSocket constructor should not panic - https://github.com/servo/servo/pull/6338
[19:16:16] <mwu> Ms2ger: huh, that looks a lot like a crash I was going to take a look at..
[19:16:22] <larsberg> We're getting timeouts from the tests now in some PRs - this is the second one: https://github.com/servo/servo/pull/6343#issuecomment-111247986
[19:16:22] <crowbot1> PR #6343: Disable unstable test on OSX - https://github.com/servo/servo/pull/6343
[19:16:22] * Ms2ger has some test fixes, but needs to build first
[19:16:25] * mwu goes to rebase
[19:17:07] <mwu> oh, but it's not in the unexpected results
[19:17:25] <Ms2ger> jgraham, wait, os-specific metadata works?
[19:18:41] <jgraham> Ms2ger: I think so? mozinfo can work out the simple stuff
[19:19:01] <jgraham> It only needs the build system to help out for more complex things
[19:19:29] <Ms2ger> Oh, I see
[19:21:10] *** Quits: dinfuehr_ (dinfuehr@moz-fnju7g.highway.telekom.at) (Connection closed)
[19:23:28] <Manishearth> kmc: around?
[19:24:32] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[19:25:29] <kmc> yeah
[19:26:10] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[19:26:10] -ghservo- [13servo] 15Ms2ger opened pull request #6344: Fix WebSocket test issues. (06master...06ws-tests) 02http://git.io/vIHfD
[19:26:10] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[19:26:16] <Ms2ger> jgraham, r?
[19:26:26] <Manishearth> kmc: these days been doing a little opengl (little = still struggling to make triangles)
[19:26:45] <Manishearth> kmc: When I noticed that shaders are written as strings and compiled at runtime
[19:26:58] <Manishearth> I immediately thought "syntax extension"!
[19:27:14] <Manishearth> and I remembered you'd made https://github.com/kmcallister/glassful
[19:27:39] <Manishearth> but that looks different -- does it still use strings to interact with the opengl api, or does it actually build the program at compile time?
[19:28:14] * Manishearth thinks it would be cool to generate a nice API with proper getters (instead of string property getters) and stuff at compile time
[19:28:39] <cmr> Manishearth: It's not possible to interact with OpenGL shaders via anything but strings
[19:28:47] <tomaka> Manishearth: the OpenGL driver compiles the code into a hardware-specific assembly
[19:28:56] <tomaka> which depends on the hardware of the person that runs the app
[19:28:58] <cmr> (Except for a few vendor extensions but the shader program formats are not usually documented or stable)
[19:29:15] <Manishearth> cmr: tomaka awww
[19:29:28] <Manishearth> tomaka: can't we run the driver at compile time?
[19:29:29] <tomaka> Manishearth: at some point I wanted to write a plugin that at least checks whether the GLSL code is correct
[19:29:35] <Manishearth> tomaka: yeah that would be nice
[19:29:52] <tomaka> because some drivers tend to be a bit too liberal and accept things that should be refused
[19:29:59] <Manishearth> I'm seeing all these calls and all I'm thinking is "when did C++ become Javascript?"
[19:30:03] <Manishearth> tomaka: bah
[19:30:09] <tomaka> so your code may work on your machine because your driver accepts too much, and then you find out that it doesn't work on other machiens
[19:30:12] <jgraham> Ms2ger: Thanks
[19:30:15] <Manishearth> right
[19:30:16] <kmc> it's a total mess
[19:30:18] <kmc> that vulkan should fix
[19:30:22] <kmc> they are specifying a LLVM-based shader IR
[19:30:36] <kmc> at that point glassful could be a frontend for that IR rather than a hackish string transformation
[19:30:43] <Manishearth> and compiling for different hardware would be a nightmare
[19:30:46] <Manishearth> kmc: oooooo
[19:31:02] <tomaka> Manishearth: vulkan only works on very recent hardware though
[19:31:07] <tomaka> will only work*
[19:31:07] <kmc> also, servo can sandbox webgl much better on vulkan
[19:31:09] <Manishearth> kmc: tomaka is there any perf hit due to the strings thing?
[19:31:16] <cmr> Manishearth: yes, but not really.
[19:31:21] <Manishearth> ah
[19:31:23] <kmc> there's a perf hit when you load a new shader
[19:31:24] <cmr> Like, there's no workaround for it, so.
[19:31:32] <kmc> as the shitty C compiler baked into the gfx driver does its thing
[19:31:48] <tomaka> the OpenGL API also allows you to retreive the binary of your shader once it's been compiled
[19:31:54] <tomaka> so that you can cache it for the next time you run the app
[19:31:56] <kmc> oh that's nice
[19:31:58] <kmc> i haven't done that
[19:32:15] <Manishearth> tomaka: huh
[19:32:17] <Manishearth> nice
[19:32:18] <tomaka> of course you must check for errors when you reload the shader, and fallback to using the source
[19:32:32] <tomaka> because the driver is free to refuse the data for whatever reason
[19:32:36] <tomaka> like a driver update
[19:32:53] <kmc> i bet the driver is also free to refuse the data by segfaulting / pwning your system in practice
[19:33:01] <kmc> so we'd have to be very careful using that in a browser context
[19:33:01] <tomaka> :D
[19:33:15] <Manishearth> why is the world so broken
[19:33:16] <kmc> vulkan is meant to make things safer for executing "untrusted" shaders
[19:33:39] <kmc> at least we aren't stuck with C and C++ forever :)
[19:33:56] <tomaka> is servo supposed to do its own opengl rendering internally, or will it just have an API that returns a list of commands for example?
[19:34:09] <cmr> kmc: I just noticed that glslang has primitive SPIR-V support now too.
[19:34:14] <kmc> cool
[19:34:30] <gsnedders> kmc: yup
[19:34:59] <gsnedders> kmc: it's not the easiest thing to get good coverage of, though, given length checks and the like
[19:37:38] *** Quits: nicknikolov (nicknikolov@moz-qg7.vka.123.2.IP) (Quit: Leaving...)
[19:38:54] *** AutomatedTester is now known as AutomatedTester|AFK
[19:39:07] <gsnedders> kmc: how does Vulkan make that easier?
[19:41:42] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[19:41:42] -ghservo- [13servo] 15jgraham closed pull request #6344: Fix WebSocket test issues. (06master...06ws-tests) 02http://git.io/vIHfD
[19:41:42] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[19:41:43] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[19:41:43] -ghservo- [13servo] 15jgraham pushed 3 new commits to 06master: 02http://git.io/vIHL9
[19:41:43] -ghservo- 13servo/06master 1461a9f9d 15Ms2ger: Don't try to connect to "ws://"+location.host+"/" in WebSocket tests....
[19:41:43] -ghservo- 13servo/06master 148ddb9cf 15Ms2ger: Remove the SCHEME_AND_DOMAIN constant....
[19:41:43] -ghservo- 13servo/06master 14c8f322b 15jgraham: Merge pull request #6344 from Ms2ger/ws-tests...
[19:41:43] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[19:42:21] <gsnedders> kmc: like does it rely on context-switching being supported?
[19:43:31] <tomaka> there's no current context in vulkan, you use it like a proper C API by passing a pointer to an object as first parameter
[19:43:53] <tomaka> and a vulkan context isn't binded to a window, at least not on windows
[19:44:21] <tomaka> it's like an actual well-designed library
[19:45:23] <gsnedders> but AFAIK the GPUs themselves don't have interrupts really for pre-empting tasks
[19:46:22] *** Joins: rohin (rohin@moz-ed0fdd.resnet.ubc.ca)
[19:46:57] <WindowsBunny> modern AMD GPUs have solid task pre-emption
[19:48:33] <WindowsBunny> although asynchronous shaders are better than pre-emption typically
[19:48:48] <gsnedders> Do I? At least on the APU side I thought it was only the just announced Cazzino (or whatever it's called) that did.
[19:48:53] <gsnedders> *Do they?
[19:49:01] <gsnedders> (Bleh, multiple conversations at once, can't English!)
[19:49:12] <WindowsBunny> gsnedders: GCN comes with ACEs
[19:49:25] <gsnedders> ah, right
[19:49:35] <WindowsBunny> gsnedders: http://media.bestofmicro.com/E/5/487805/original/3.PNG
[19:50:24] <WindowsBunny> Really at this point it's just an issue of exposing it in the API
[19:50:35] <WindowsBunny> and getting people to use these new toys
[19:51:21] <aweinstock> WindowsBunny: what are GCN and ACE in this context?
[19:51:51] <WindowsBunny> aweinstock: Graphics Core Next and Asynchronous Compute Engine 
[19:52:15] *** Parts: duncan (paul@moz-9vabq7.sgnwmi.sbcglobal.net) ()
[19:52:34] <WindowsBunny> all GCN based GPUs/APUs have ACEs
[19:52:42] <gsnedders> hmm, appears the older APUs miss mid-wave pre-emption, which is what I was thinking of
[19:54:38] <tomaka> it doesn't matter, vulkan won't work on older hardware
[19:55:25] *** chmanchester is now known as chmanchester|afk
[19:56:25] *** Joins: valentin (icecold@moz-i346v8.s0r2.3jub.2f0a.2a02.IP)
[19:56:48] * jgraham curses homu
[19:58:51] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[19:58:51] *** ChanServ sets mode: +o pcwalton
[19:59:01] *** Quits: akiss (akiss@moz-kij.q96.114.160.IP) (Ping timeout: 121 seconds)
[19:59:32] <WindowsBunny> tomaka: As long as vulkan works on my hardware, I'm okay
[19:59:48] <jgraham> So what happened here: https://github.com/servo/servo/pull/6338 ?
[19:59:48] <crowbot1> PR #6338: WebSocket constructor should not panic - https://github.com/servo/servo/pull/6338
[20:00:19] <jgraham> I'm pretty sure that's the one that's causing the WS problems
[20:00:30] <jgraham> But I don't see how it got merged
[20:00:34] <jgraham> Ms2ger: ^
[20:00:56] <mmatyas> pcwalton, I've *almost* managed to cross compile servo to ARM, but got an error at the final linking:
[20:01:23] <mmatyas> release/build/expat-sys-421a0aebdd6796cb/out/libexpat.a(xmlparse.o): relocation R_ARM_THM_MOVW_ABS_NC against `XmlInitUnknownEncoding' can not be used when making a shared object; recompile with -fPIC
[20:01:36] <pcwalton> I guess you need to hack expat to add -fPIC
[20:01:39] <pcwalton> to the link line
[20:01:43] <pcwalton> err, to the cflags
[20:01:56] <mmatyas> yeah, tried that and --enable-shared too
[20:02:20] <mmatyas> but that didn't work for me, 
[20:02:54] <mwu> figured out my is_nan() not working problem. a "as f64" cast was being too helpful
[20:03:43] <mmatyas> I've set CC as something-gcc -fPIC though, do you think setting it as cflag would work?
[20:04:03] <gsnedders> tomaka: yeah, that was my expectation
[20:04:14] <gsnedders> tomaka: just probably take a long while for stuff to all move to Vulkan :(
[20:04:20] <mwu> and gdb was also being too helpful and I never saw the real bits
[20:07:51] <larsberg> jgraham: on https://github.com/servo/servo/pull/6344, did you accidentally click the Big Green Button? :-)
[20:07:51] <crowbot1> PR #6344: Fix WebSocket test issues. - https://github.com/servo/servo/pull/6344
[20:08:08] <jgraham> larsberg: I don't think so?
[20:08:14] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[20:08:14] -ghservo- [13servo] 15bors-servo 04force-pushed 06tmp from 1473086fc to 14c8f322b: 02http://git.io/veWu4
[20:08:14] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[20:08:15] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[20:08:15] -ghservo- [13servo] 15bors-servo 04force-pushed 06auto from 1473086fc to 14d7778ba: 02http://git.io/A9I6iA
[20:08:15] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[20:08:34] <jgraham> Oh sorry, I thought that was a web-platform-tests PR :|
[20:09:10] <jgraham> larsberg: So, apparently yes :(
[20:09:17] *** Quits: dstrbad_ (dstrbad@moz-i5d.kub.217.31.IP) (A TLS packet with unexpected length was received.)
[20:11:27] <larsberg> jgraham: np, just poking a little fun :-) We'll find out immediately (from the 'retry') if it broke anything.
[20:13:44] *** Joins: dbaron (dbaron@moz-13grj1.2rkg.9kg1.0101.2620.IP)
[20:15:43] *** Quits: Nashenas88 (Nashenas88@moz-of81j9.miamfl.sbcglobal.net) (Client exited)
[20:15:57] *** Joins: filsmick (filsmick@moz-ckfrrr.abo.wanadoo.fr)
[20:15:58] *** Quits: filsmick (filsmick@moz-ckfrrr.abo.wanadoo.fr) (Quit: )
[20:19:44] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[20:19:44] -ghservo- [13rust-mozjs] 15michaelwu pushed 2 new commits to 06smupgrade2: 02http://git.io/vIH8R
[20:19:44] -ghservo- 13rust-mozjs/06smupgrade2 144c5c72a 15Michael Wu: Fix implementation of to_double
[20:19:44] -ghservo- 13rust-mozjs/06smupgrade2 148067e03 15Michael Wu: Fix evaluate_script...
[20:19:44] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[20:22:53] <pcwalton> hmm, I guess it's probably the case that memory barriers even slow down cores that didn't execute the memory barrier?
[20:23:24] <pcwalton> since they have to communicate with the core asking for the barrier
[20:23:52] <pcwalton> in that case it makes sense that when a workqueue node spins trying to steal it's very bad since it's constantly issuing memory barriers
[20:28:59] <pcwalton> hmm, looks like I can rid of all the memory barriers on the nothing-to-steal fast path
[20:29:01] * pcwalton tries
[20:29:49] *** Joins: brson (brson@moz-u3dg2t.sfo1.mozilla.com)
[20:29:50] *** ChanServ sets mode: +o brson
[20:29:55] <mwu> wonder what modern arm processors do for cache coherence
[20:30:54] <mwu> oh hey I found the whitepaper on that.
[20:30:59] <mwu> http://www.arm.com/files/pdf/CacheCoherencyWhitepaper_6June2011.pdf
[20:31:18] *** Joins: Rastus_Vernon (rvernon@moz-p7liog.torservers.net)
[20:39:07] *** Joins: dstrbad (dstrbad@moz-t253c1.client.xnet.hr)
[20:43:09] *** Joins: dstrbad_ (dstrbad@moz-i5d.kub.217.31.IP)
[20:43:33] <Manishearth> mwu: barriers right?
[20:43:44] *** Quits: ldng (ldng@moz-l3gmiq.abo.bbox.fr) (Quit: Leaving)
[20:44:02] <cmr> Manishearth: I think mwu is wondering about how barriers are actually implemented.
[20:44:32] <Manishearth> ah
[20:44:35] <mwu> yeah
[20:44:46] * Manishearth wiggles fingers and says "transistors"
[20:44:52] <Manishearth> (yeah I know what you mean :P)
[20:45:11] <mwu> well, you need cache coherence regardless of whether you're actually issuing barriers
[20:45:17] *** Quits: dstrbad_ (dstrbad@moz-i5d.kub.217.31.IP) (A TLS packet with unexpected length was received.)
[20:46:12] *** Quits: dstrbad (dstrbad@moz-t253c1.client.xnet.hr) (Ping timeout: 121 seconds)
[20:46:44] *** Quits: Ms2ger (Ms2ger@moz-15i.9ho.190.193.IP) (Ping timeout: 121 seconds)
[20:47:54] *** Joins: dstrbad (dstrbad@moz-i5d.kub.217.31.IP)
[20:50:04] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[20:54:45] *** Quits: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net) (Client exited)
[20:55:20] *** Joins: tglman (tglman@moz-a4okus.as13285.net)
[20:56:23] *** Quits: dstrbad (dstrbad@moz-i5d.kub.217.31.IP) (A TLS packet with unexpected length was received.)
[20:57:17] *** Quits: tromey (tromey@moz-m3id6o.hlrn.qwest.net) (Quit: ERC (IRC client for Emacs 25.0.50.3))
[20:58:19] *** Joins: mib_foh3vj (Mibbit@moz-hu6.nja.252.72.IP)
[20:58:29] *** Quits: dbaron (dbaron@moz-13grj1.2rkg.9kg1.0101.2620.IP) (Quit: 8403864 bytes have been tenured, next gc will be global.)
[20:58:29] *** Quits: Jackneill (Jackneill@moz-uv1bbf.pool.digikabel.hu) (Connection closed)
[20:58:53] *** Quits: Rastus_Vernon (rvernon@moz-p7liog.torservers.net) (Quit: bye)
[21:03:15] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[21:03:15] -ghservo- [13rust-egl] 15glennw pushed 2 new commits to 06master: 02http://git.io/vIHoy
[21:03:15] -ghservo- 13rust-egl/06master 1404d2d9d 15ecoal95: Add offscreen rendering surface types
[21:03:15] -ghservo- 13rust-egl/06master 14b21a3ea 15Glenn Watson: Merge pull request #16 from ecoal95/offscreen-rendering...
[21:03:15] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[21:04:46] *** chmanchester|afk is now known as chmanchester
[21:05:17] *** Joins: Rastus_Vernon (rvernon@moz-5be.jdc.105.89.IP)
[21:05:47] *** Quits: mib_foh3vj (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:06:24] <nox> Why don't we have something like the weak references in nsIMutableArray?
[21:08:16] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[21:08:16] -ghservo- [13servo] 15Manishearth 04deleted 06ws-connect at 14877c369: 02http://git.io/vIH6S
[21:08:16] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[21:09:24] *** Joins: dstrbad (dstrbad@moz-i5d.kub.217.31.IP)
[21:10:49] *** Quits: rohin (rohin@moz-ed0fdd.resnet.ubc.ca) (Ping timeout: 121 seconds)
[21:11:47] <gw> frewxcv: ping
[21:13:03] <nox> https://reviewable.io/reviews/servo/servo/6337 Is it not weird to implement the attributes and store them but not actually do anything with them? Is that a reason to block a PR or is that accepted?
[21:19:06] *** Quits: ahal (ahal@moz-b8e0a0.cpe.pppoe.ca) (A TLS packet with unexpected length was received.)
[21:20:11] <nox> pcwalton: Did rustc really generate a crappy PartialEq impl for something as simple as HTMLTableCellElementTypeId? :(
[21:20:16] <pcwalton> nox: yes
[21:20:21] <nox> That was fast.
[21:20:41] <nox> pcwalton: A match expression, I guess?
[21:20:44] <pcwalton> yup
[21:20:53] <pcwalton> it needs to use the enum discriminant intrinsic
[21:21:15] <nox> I would have expected it did it itself. :(
[21:22:17] *** Joins: safwan (chatzilla@moz-okj.q1v.152.59.IP)
[21:23:09] *** Quits: kmicu (kmicu@moz-uga.edn.218.91.IP) (Client exited)
[21:23:32] <Manishearth> nox: doener was working on fixing the impls
[21:23:46] <Manishearth> I think derive *does* use intrinsics, but not to their full extents
[21:24:18] <nox> pcwalton: Also, don't know if you've seen this: https://github.com/servo/rust-azure/pull/160
[21:24:18] <crowbot1> PR #160: Implement fill_rect for surface pattern with repetition style. - https://github.com/servo/rust-azure/pull/160
[21:24:46] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[21:24:46] -ghservo- [13rust-azure] 15pcwalton closed pull request #160: Implement fill_rect for surface pattern with repetition style. (06master...06fill_rect_with_pattern) 02http://git.io/vTGdI
[21:24:46] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[21:24:47] *** Joins: ghservo (ghservo@moz-abh.5u0.30.192.IP)
[21:24:47] -ghservo- [13rust-azure] 15pcwalton pushed 2 new commits to 06master: 02http://git.io/vIHD1
[21:24:47] -ghservo- 13rust-azure/06master 147386513 15Hyowon Kim: Add repeat_x, repeat_y and size() to the SurfacePattern.
[21:24:47] -ghservo- 13rust-azure/06master 14b9bb83c 15Patrick Walton: Merge pull request #160 from hyowon/fill_rect_with_pattern...
[21:24:47] *** Parts: ghservo (ghservo@moz-abh.5u0.30.192.IP) ()
[21:24:50] <pcwalton> nox: merged
[21:27:01] <eddyb> Manishearth: aaargh trans is a mess and it wants so many things to save metadata
[21:28:16] <safwan> Hi, anyone have servo built for android?
[21:28:55] <Manishearth> eddyb: does it need to be a part of trans?
[21:29:05] <Manishearth> eddyb: librustc_metadata would be awesome
[21:29:35] <eddyb> Manishearth: this is the bit that makes the LLVM module
[21:29:35] <Manishearth> I mean, it just takes the tcx/ast, filters it and dumps it, right?
[21:29:39] <nox> And what about my other questions about nsIMutableArray in Gecko?
[21:29:47] <Manishearth> eddyb: why do we need that?
[21:29:54] <eddyb> because you put the metadata in a LLVM thing
[21:29:58] <Manishearth> oh
[21:30:02] <eddyb> don't ask me, I didn't design this
[21:30:03] <Manishearth> gah
[21:30:07] <Manishearth> hah
[21:30:10] <eddyb> I think it's only used for shared libraries
[21:30:12] * Manishearth blames eddyb anyway
[21:30:39] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[21:34:29] <larsberg> safwan: The instructions should work, but be careful to make sure to follow the installation instructions or it won't launch - https://github.com/servo/servo/wiki/Building-for-Android#installing-and-running-on-device
[21:34:43] <larsberg> I'm planning to clean up the APK next quarter (after our workweek at the end of this month)
[21:36:44] <safwan> larsberg, do you have built in APK?
[21:37:00] <safwan> Like anyone already built the APK
[21:37:06] *** Joins: caitp- (caitp@moz-lmogh4.cable.rogers.com)
[21:37:10] *** Quits: caitp- (caitp@moz-lmogh4.cable.rogers.com) (Quit: Leaving)
[21:37:18] * mwu does terrible things with wrappers
[21:37:28] <safwan> Or like Mozilla FTP, does there any where the daily builds are being kept?
[21:38:24] <larsberg> safwan: You can download the nightly from https://servo-rust.s3.amazonaws.com/nightly/servo.apk, but you will still have to push the resources bits as described in the "installing" link above for it to work
[21:38:53] <larsberg> Sorry it's a bit of a mess right now!
[21:39:57] <safwan> Yes. I think I can do the push thing
[21:41:01] <Manishearth> larsberg: I wonder how hard it would be to make a very basic ServoWebView with perhaps simple JS messaging
[21:41:06] <Manishearth> for android
[21:41:27] * Manishearth should look at the android-rs-glue code to see what wrappers it creates
[21:42:09] *** AutomatedTester|AFK is now known as AutomatedTester
[21:42:32] <larsberg> Manishearth: I do indeed need to make a WebView wrapper so that people can build and push apps to the play store with an embedded Servo! But I figured just getting the APK working and scrolling + pinch-zoom working on Android again were first :-)
[21:44:55] *** Joins: jviereck (Adium@moz-m50plo.ethz.ch)
[21:45:17] *** Quits: jviereck (Adium@moz-m50plo.ethz.ch) (Quit: Leaving.)
[21:45:25] *** Quits: m_khvoinitsky (quassel@moz-bkl6sn.d57a.lq23.04f8.2a01.IP) (Connection closed)
[21:47:54] <mbrubeck> Manishearth: The hard part is getting the OpenGL context for an embedded Android view, since Android doesn't have a supported way to do this.
[21:48:05] <mbrubeck> Firefox uses private/undocumented APIs. :/
[21:52:03] <mwu> it's ok, they seem to realize when they break firefox
[21:53:05] <mwu> ok for fennec, at least
[21:53:51] <mbrubeck> Yeah, and the code's not *that* bad. It just that you need to read through Gecko or Android internals to figure out how to write it.
[21:53:56] <Manishearth> mnrubeck: textureview/attachtoglcontext/
[21:54:03] <Manishearth> * ?
[21:55:20] <Manishearth> or is it a bad idea to create your own context and use it
[21:56:00] <mbrubeck> I don't remember the details... It's possible there are supported APIs now.  That one is only available in Android 4 and later, which is probably fine for Servo if it works.
[21:56:18] <Manishearth> okay
[21:58:08] <Manishearth> mbrubeck: sleeping now, but if you can give more details about what needs to be done and why I can perhaps come up with something
[21:58:40] <Manishearth> as part of my internship ive been scrutinizing these same apis
[21:59:35] *** Quits: dstrbad (dstrbad@moz-i5d.kub.217.31.IP) (A TLS packet with unexpected length was received.)
[22:00:01] <mbrubeck> cool
[22:03:29] <mbrubeck> Manishearth: some old notes https://github.com/servo/servo/wiki/Meeting-2014-09-08#android-embedding
[22:07:17] *** Joins: rohin (rohin@moz-ed0fdd.resnet.ubc.ca)
[22:08:27] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[22:08:27] -ghservo- [13servo] 15pcwalton opened pull request #6345: util: Reduce memory barriers and integer divisions in the work queue. (06master...06workqueue-arm-optzns) 02http://git.io/vIHpz
[22:08:27] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[22:08:34] <pcwalton> gw: r? https://github.com/servo/servo/pull/6345
[22:08:35] <crowbot1> PR #6345: util: Reduce memory barriers and integer divisions in the work queue. - https://github.com/servo/servo/pull/6345
[22:09:40] *** Joins: njn (chatzilla@moz-c6c476.iinet.net.au)
[22:11:08] *** Joins: jviereck (Adium@moz-k1hvdg.g21i.vk5s.0000.2620.IP)
[22:11:24] *** Quits: rohin (rohin@moz-ed0fdd.resnet.ubc.ca) (Ping timeout: 121 seconds)
[22:11:39] <gw> pcwalton: looking. always liked that next power of 2 routine :) i'm no expert on atomic semantics though - if anyone else is they may want to take a look too
[22:11:54] <pcwalton> mwu: ^
[22:12:29] <pcwalton> my understanding is that it's OK to use Relaxed for a group of atomic operations as long as (a) the ordering does not matter and (b) before looking at any memory that the atomic protects, you use something stronger like SeqCst
[22:12:40] <pcwalton> Release/Acquire/SeqCst all turn into the same thing on ARM
[22:12:46] <pcwalton> (until ARM64 anyway)
[22:12:52] <mwu> pcwalton: your pow round up routine matches the one in hacker's delight. excellent
[22:13:02] <mwu> er
[22:13:05] <mwu> power of two
[22:13:15] <pcwalton> yeah, Rust has used it for a long time
[22:13:23] <pcwalton> it's such a silly trick to avoid integer mod
[22:13:32] <pcwalton> but if you don't do it there __umodsi3 shows up #1 in the profile
[22:14:17] <mwu> I was thinking there's a better way to do this calculation, but guess not
[22:14:31] *** Quits: jviereck (Adium@moz-k1hvdg.g21i.vk5s.0000.2620.IP) (Quit: Leaving.)
[22:14:36] <pcwalton> obviously if you can assume the number of threads is a power of two you don't need the loop
[22:14:53] <pcwalton> but it isn't always a power of two (and e.g. tri-core and decacore devices are a thing, soâ€¦)
[22:15:09] <mwu> wait a second
[22:15:11] <mwu> hmm
[22:15:47] <pcwalton> the RNG generation is like 6 instructions on ARM, it's pretty beautiful
[22:16:21] <pcwalton> who wants to review optimizations to rust-selectors? SimonSapin?
[22:17:01] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[22:17:01] -ghservo- [13rust-selectors] 15pcwalton opened pull request #28: Make the static arrays of style-affecting attributes thread-local. (06master...06thread-local-static-arrays) 02http://git.io/vIHjd
[22:17:01] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[22:18:01] <pcwalton> sadly, Arc<ComputedValues>::drop shows up #2 in the profile
[22:18:07] <pcwalton> because of the memory barriers
[22:18:22] <pcwalton> I wonder if it's just best to throw them on a free list and GC them after layout ends
[22:18:28] <gw> pcwalton: that makes sense about the atomics - it looks right to me, if mwu is happy with it too
[22:18:50] <pcwalton> then we could move the increment/decrements to be Relaxed and skip the memory barrier on ARM
[22:19:09] <mwu> not too familiar with atomics on rust
[22:20:42] <nox> Any progress on mutation observers?
[22:20:51] <bstrie> eddyb: someone actually gave me reddit gold for that comment where I talked about cargo check, so the pressure is on :P
[22:21:26] <eddyb> oh, yeah
[22:21:34] <eddyb> someone got me started watching Lie to Me
[22:23:06] * nox approaches eddyb and brings his face unconfortably close to his.
[22:23:20] <nox> Are you saying the truth?
[22:24:19] <eddyb> nox: yes. I am also "almost" done with --emit=rlibmeta
[22:24:23] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[22:24:23] -ghservo- [13servo] 15nnethercote opened pull request #6346: Improve unit testing of util::mem. (06master...06improve-mem-unit-testing) 02http://git.io/vIQv9
[22:24:23] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[22:24:49] <eddyb> nox: now why did you do that to me?
[22:24:52] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[22:24:59] <mwu> pcwalton: only thing I can think of besides that routine is using a CLZ instruction
[22:25:00] <nox> eddyb: You mentioned Lie to Me.
[22:25:09] <nox> eddyb: The hero does that all the time.
[22:25:18] <eddyb> nox: I was trying to be funny
[22:25:21] <eddyb> @ bstrie
[22:25:49] *** Joins: mib_gczdjg (Mibbit@moz-hu6.nja.252.72.IP)
[22:25:51] <nox> I was trying to be funny too.
[22:25:58] <nox> Let's blame the hot weather.
[22:26:30] <mwu> pcwalton: https://doc.rust-lang.org/std/intrinsics/fn.ctlz32.html :)
[22:26:52] <mwu> probably not much faster..
[22:27:01] <nox> mwu: Why is that unsafe?
[22:27:10] <mwu> no clue.
[22:28:12] <mwu> so the mask can be calculated in.. probably four instructions?
[22:28:56] *** Quits: fkaa (tundmatu@moz-501od2.business.telia.com) (Ping timeout: 121 seconds)
[22:29:24] <mwu> about half of what we need now
[22:29:33] *** Quits: nefzaoui (nefzaoui@moz-5dg.pf8.227.41.IP) (Quit: Ex-Chat)
[22:33:42] <WindowsBunny> nox: It's because its an intrinsic
[22:33:47] <zwarich> nox: it has undefined behavior in some cases
[22:33:56] <WindowsBunny> all intrinsics are unsafe
[22:34:07] <WindowsBunny> but some intrinsics have safe wrappers
[22:34:10] <mbrubeck> a wild zwarich appears!
[22:34:17] <zwarich> or is it just unspecified?
[22:34:25] <mbrubeck> an unspecified zwarich appears!
[22:34:58] <WindowsBunny> I prefer unspecified to undefined
[22:35:15] <WindowsBunny> just look at what guarantees llvm provides on that
[22:35:28] <WindowsBunny> since intrinsics map directly to llvm things
[22:40:04] *** Joins: jviereck (Adium@moz-rl4ugv.ethz.ch)
[22:41:05] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[22:42:09] <nox> Oh right.
[22:42:19] <nox> usize.leading_zeros().
[22:42:27] <mwu> perfect
[22:42:45] <nox> It's on all the integer types.
[22:43:27] <pcwalton> mwu: perf of next_power_of_two() doesn't matter since it's hoisted out
[22:43:47] <mwu> yup
[22:43:51] <pcwalton> the only thing that matters perf-wise is "let mut victim = ..."
[22:44:15] <mwu> I can't help but optimize when doing binary math
[22:44:35] <pcwalton> anyway, does that PR look good to you?
[22:44:54] <mwu> h/o
[22:49:22] <nox> pcwalton: Btw what about what eddyb said in #6308 about casting to u8?
[22:49:22] <crowbot1> Issue #6308: script: Make `PartialEq` on element type IDs generate a lot less code. - https://github.com/servo/servo/pull/6308
[22:49:41] <pcwalton> nox: yeah, I'll do that.
[22:49:48] <nox> Ok.
[22:54:54] <mwu> pcwalton: looks ok. looks like you hoisted out a mod, related some ordering requirements, and avoid a delay in the loop if it isn't necessary
[22:55:01] <mwu> s/related/relaxed/
[22:55:02] <eddyb> u8 in this case, but you have to be careful to match the repr (or just force the repr, I guess), otherwise it will zext (or worse, truncate)
[22:55:06] <pcwalton> ok
[22:55:11] <pcwalton> I'll consider that r+ then :) thanks
[22:55:12] <mwu> and all those changes make sense
[22:55:25] *** Joins: Nashenas88 (Nashenas88@moz-of81j9.miamfl.sbcglobal.net)
[22:56:07] *** Quits: BenWa (bgirard@moz-i5m.05u.207.66.IP) (Client exited)
[22:56:09] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[22:56:09] -ghservo- [13servo] 15bors-servo 04force-pushed 06tmp from 14d7778ba to 14c8f322b: 02http://git.io/veWu4
[22:56:09] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[22:56:11] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[22:56:11] -ghservo- [13servo] 15bors-servo 04force-pushed 06auto from 14d7778ba to 14d11cb3e: 02http://git.io/A9I6iA
[22:56:11] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[22:56:42] <gw> pcwalton: r? https://github.com/servo/rust-geom/pull/84
[22:56:42] <crowbot1> PR #84: Add simple Point3D type, and homogenous transform method. - https://github.com/servo/rust-geom/pull/84
[22:58:44] *** Quits: mccr8 (mccr8@moz-cfhap5.mtv2.mozilla.com) (Quit: quit)
[23:05:03] *** Quits: jviereck (Adium@moz-rl4ugv.ethz.ch) (Quit: Leaving.)
[23:05:42] *** Quits: Rastus_Vernon (rvernon@moz-5be.jdc.105.89.IP) (A TLS packet with unexpected length was received.)
[23:05:50] *** Joins: jviereck (Adium@moz-rl4ugv.ethz.ch)
[23:05:57] *** Joins: Rastus_Vernon (rvernon@moz-vjb.r8r.42.192.IP)
[23:05:58] *** Parts: safwan (chatzilla@moz-okj.q1v.152.59.IP) ("")
[23:07:08] *** Joins: jviereck1 (Adium@moz-2dodgi.g21i.vk5s.0000.2620.IP)
[23:07:08] *** Quits: jviereck (Adium@moz-rl4ugv.ethz.ch) (Connection closed)
[23:09:39] *** Quits: jviereck1 (Adium@moz-2dodgi.g21i.vk5s.0000.2620.IP) (Quit: Leaving.)
[23:10:38] *** Quits: Nashenas88 (Nashenas88@moz-of81j9.miamfl.sbcglobal.net) (Client exited)
[23:12:09] *** Joins: Nashenas88 (Nashenas88@moz-of81j9.miamfl.sbcglobal.net)
[23:13:05] <zwarich> WindowsBunny: interesting, the LLVM intrinsic produces undef for the edge case of zero, not an unspecified value, even though the instructions produce a specific target-dependent  value
[23:13:17] <zwarich> WindowsBunny: there's a flag you can pass to the intrinsic to make it have defined behavior
[23:13:20] <pcwalton> gw: reviewed
[23:13:47] <gw> thanks
[23:16:29] *** Quits: Rastus_Vernon (rvernon@moz-vjb.r8r.42.192.IP) (Ping timeout: 121 seconds)
[23:19:14] *** Joins: BenWa (bgirard@moz-ugq1bb.cable.teksavvy.com)
[23:19:33] <WindowsBunny> zwarich: neat
[23:23:35] *** Joins: rohin (rohin@moz-ed0fdd.resnet.ubc.ca)
[23:25:32] *** Joins: Rastus_Vernon (rvernon@moz-4lmh4m.privacyfoundation.ch)
[23:29:34] *** Joins: bholley (bholley@moz-qpv0dk.ca.comcast.net)
[23:30:00] *** Joins: dbaron (dbaron@moz-13grj1.2rkg.9kg1.0101.2620.IP)
[23:30:05] *** Quits: dbaron (dbaron@moz-13grj1.2rkg.9kg1.0101.2620.IP) (A TLS packet with unexpected length was received.)
[23:30:15] *** Joins: dbaron (dbaron@moz-13grj1.2rkg.9kg1.0101.2620.IP)
[23:32:17] *** Quits: rohin (rohin@moz-ed0fdd.resnet.ubc.ca) (Ping timeout: 121 seconds)
[23:37:10] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[23:37:10] -ghservo- [13servo] 15bors-servo 04force-pushed 06homu-tmp from 1457c4d19 to 14d11cb3e: 02http://git.io/veK6S
[23:37:10] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[23:38:49] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[23:38:49] -ghservo- [13servo] 15pcwalton opened pull request #6347: layout: Divide DOM nodes and flows into chunks, and perform work stealing over those instead of working on nodes one-by-one. (06master...06chunking) 02http://git.io/vIQcb
[23:38:49] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[23:38:51] <pcwalton> mbrubeck: r? https://github.com/servo/servo/pull/6347
[23:38:51] <crowbot1> PR #6347: layout: Divide DOM nodes and flows into chunks, and perform work stealing over those instead of working on nodes one-by-one. - https://github.com/servo/servo/pull/6347
[23:39:25] <nox> That's one damn long commit title.
[23:39:31] <mbrubeck> can do
[23:40:21] *** chmanchester is now known as chmanchester|afk
[23:41:22] *** Joins: rohin (rohin@moz-ed0fdd.resnet.ubc.ca)
[23:41:44] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[23:41:44] -ghservo- [13servo] 15nox opened pull request #6348: Update azure to b9bb83c733507f3f57e2c334499f38432056e26c (06master...06azure) 02http://git.io/vIQCz
[23:41:44] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[23:44:23] <nox> r? anyone ^
[23:44:35] <nox> It's needed for another PR (#6157).
[23:45:20] * nox likes to think that ghservo doesn't link to PR inside parentheses, as if it meant that we should talk quietly.
[23:45:29] *** Quits: rohin (rohin@moz-ed0fdd.resnet.ubc.ca) (Ping timeout: 121 seconds)
[23:45:32] <nox> doesn't link to PRs inside parentheses on purpose*
[23:48:16] <FreeFull> #1
[23:55:18] <eddyb> FreeFull: no you're not
[23:56:06] <FreeFull> That's not what I was saying
[23:57:45] <mbrubeck> crowbot1: source
[23:57:46] <crowbot1> mbrubeck: https://github.com/jdm/fennecbot
[23:58:07] <mbrubeck> crowbot1: what should I work on?
[23:58:08] *** AutomatedTester is now known as AutomatedTester|AFK
[23:58:09] <crowbot1> mbrubeck: you should write some tests for url (http://url.spec.whatwg.org/)
[23:59:29] <mbrubeck> FreeFull: https://github.com/jdm/fennecbot/issues/21
[23:59:29] <crowbot1> Issue #21: Ignore single digit #[digit] patterns - https://github.com/jdm/fennecbot/issues/21
