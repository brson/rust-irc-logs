[00:18:11] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[00:18:12] *** ChanServ sets mode: +o pnkfelix
[01:02:12] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[01:02:23] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[01:02:56] *** Quits: Rym (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[01:04:01] *** Joins: japaric_ (japaric@moz-b44.k15.230.201.IP)
[01:04:51] *** Joins: reem (reem@moz-29h7tb.coob.q2h1.0009.2601.IP)
[01:33:22] *** Quits: reem (reem@moz-29h7tb.coob.q2h1.0009.2601.IP) (Connection closed)
[01:33:43] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[01:37:06] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Client exited)
[01:40:38] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[01:45:27] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[01:50:06] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[01:50:11] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[01:52:55] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[02:00:40] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[02:11:28] *** Joins: p1start (p1start@moz-nftjhe.org)
[02:33:04] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[02:33:10] *** Joins: reem (reem@moz-8dkc8s.coob.q2h1.0009.2601.IP)
[03:33:05] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[03:33:51] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Client exited)
[03:44:01] *** Quits: zz_kimundi (kimundi@moz-abbsvi.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[03:45:05] *** Quits: japaric_ (japaric@moz-b44.k15.230.201.IP) (Ping timeout: 121 seconds)
[03:46:44] *** Joins: zz_kimundi (kimundi@moz-fjbps4.dip0.t-ipconnect.de)
[03:46:45] *** zz_kimundi is now known as kimundi
[03:51:06] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[03:59:37] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Client exited)
[04:00:03] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[04:00:08] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[04:20:16] *** Quits: reem (reem@moz-8dkc8s.coob.q2h1.0009.2601.IP) (Connection closed)
[04:21:20] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Connection closed)
[04:22:49] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[04:26:13] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[04:30:15] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Ping timeout: 121 seconds)
[04:38:31] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[05:25:12] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[05:28:57] *** Joins: reem (reem@moz-t0lj4l.coob.q2h1.0009.2601.IP)
[05:31:36] *** Joins: p1start (p1start@moz-nftjhe.org)
[06:30:22] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[06:31:24] *** Joins: p1start (p1start@moz-nftjhe.org)
[06:33:35] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[07:03:30] *** Quits: reem (reem@moz-t0lj4l.coob.q2h1.0009.2601.IP) (Connection closed)
[07:04:19] *** Joins: reem (reem@moz-t0lj4l.coob.q2h1.0009.2601.IP)
[07:22:25] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[07:26:39] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[07:29:49] *** Joins: csoriano (carlos@moz-g6rkdc.net.upcbroadband.cz)
[08:00:26] *** Joins: rustical (dida@moz-55rvi2.dclient.hispeed.ch)
[08:05:08] *** Quits: csoriano (carlos@moz-g6rkdc.net.upcbroadband.cz) (Client exited)
[08:07:30] *** Quits: reem (reem@moz-t0lj4l.coob.q2h1.0009.2601.IP) (Connection closed)
[08:09:02] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[08:16:33] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[08:20:49] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[08:23:34] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[08:34:36] *** Joins: reem (reem@moz-t0lj4l.coob.q2h1.0009.2601.IP)
[08:42:54] *** Quits: reem (reem@moz-t0lj4l.coob.q2h1.0009.2601.IP) (Connection closed)
[09:10:42] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[09:15:00] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[09:23:55] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[09:25:33] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[09:25:33] *** ChanServ sets mode: +qo nrc nrc
[09:29:54] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[09:49:27] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[09:49:27] *** ChanServ sets mode: +qo nrc nrc
[10:04:52] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[10:09:08] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[10:13:11] *** Joins: laumann (laumann@moz-fso.hq0.225.130.IP)
[10:27:26] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[10:38:23] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[10:42:28] *** Joins: bombless (bombless@moz-mpkd63.0v2u.0v40.0da8.2001.IP)
[10:59:01] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[11:03:17] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[11:11:48] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[11:14:22] *** Joins: doener (doener@moz-cpsld2.hsi08.unitymediagroup.de)
[11:43:37] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[11:47:44] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Ping timeout: 121 seconds)
[11:53:10] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[11:57:24] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[11:59:13] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Ping timeout: 121 seconds)
[12:03:32] *** Quits: bombless (bombless@moz-mpkd63.0v2u.0v40.0da8.2001.IP) (Quit: Leaving)
[12:37:49] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[12:37:49] *** ChanServ sets mode: +o pnkfelix
[12:47:22] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[12:51:38] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[13:01:02] *** Joins: bombless (bombless@moz-mpkd63.0v2u.0v40.0da8.2001.IP)
[13:30:31] <nmatsakis> I think I prefer naming type parameters with all caps
[13:30:37] <nmatsakis> e.g., struct Foo<GRAPH>
[13:30:44] * nmatsakis a bit surprised to say that
[13:41:32] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[13:45:46] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[13:53:04] <cmr> nmatsakis: I think I agree.
[13:55:33] <nmatsakis> it seems to be really useful to know what's a "real type" and what's a parameter at a glance
[13:56:24] <cmr> exactly
[13:56:37] *** Quits: bombless (bombless@moz-mpkd63.0v2u.0v40.0da8.2001.IP) (Quit: Leaving)
[14:09:21] *** Joins: bombless (bombless@moz-mpkd63.0v2u.0v40.0da8.2001.IP)
[14:35:39] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[14:39:57] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[15:08:33] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[15:08:33] *** ChanServ sets mode: +qo brson brson
[15:10:40] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Client exited)
[15:20:42] *** Quits: bombless (bombless@moz-mpkd63.0v2u.0v40.0da8.2001.IP) (Ping timeout: 121 seconds)
[15:20:43] *** Joins: bombless (bombless@moz-mpkd63.0v2u.0v40.0da8.2001.IP)
[15:29:50] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[15:34:07] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[15:35:01] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[15:40:23] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[16:08:12] *** Joins: vadimcn (uid46608@moz-o7asbu.uxbridge.irccloud.com)
[16:11:27] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Connection closed)
[16:34:45] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[16:34:46] *** ChanServ sets mode: +o pnkfelix
[17:16:49] <pnkfelix> should the thread_local feature gate be guarding uses of the `thread_local!` macro?  Or is it solely just for guarding the `#[thread_local]` attribute?
[17:17:16] <pnkfelix> (note that I would have thought that guarding the latter would imply the former, but that is not what I am observing)
[17:18:34] <cmr> pnkfelix: I think it's just the latter, with thread_local! being the sanctioned, stable way of accessing the functionality.
[17:22:41] *** Quits: laumann (laumann@moz-fso.hq0.225.130.IP) (Ping timeout: 121 seconds)
[17:25:34] * pnkfelix is feeling dumb because he cannot figure out how thread_local is being whitelisted currently
[17:25:41] <pnkfelix> (the macro, that is)
[17:26:16] <cmr> me either, to be honest.
[17:29:11] <pnkfelix> oh, maybe its the span_allows_unstable call in PostExpansionVisitor
[17:29:45] <cmr> Ahh, from the "gated stability" change, I guess.
[17:30:01] <pnkfelix> (mrrh, relying on spans for stability checking ... may be trouble ...)
[17:31:15] <pnkfelix> but okay, I see, `macro_rules! thread_local` has the `#[allow_internal_unstable]` attribute, so it can freely inject references to gated things, I guess
[17:31:46] <cmr> I must have missed that, I went straight to ___inner_thread_local or we/e
[17:32:36] <cmr> that seems dangerous, that means macro-expanded code isn't equivalent to the original code.
[17:33:20] *** Quits: bombless (bombless@moz-mpkd63.0v2u.0v40.0da8.2001.IP) (Connection closed)
[17:33:24] <pnkfelix> cmr: well, that seems like a natural property when one is using macros as an abstraction batter.
[17:33:39] <cmr> yeah
[17:33:44] <cmr> but...
[17:34:03] <pnkfelix> cmr: having said that, I would want to make sure that they do not provide a way to side-step the checks
[17:34:19] <pnkfelix> cmr: but I'm hoping kmc's tests already covered such scenarios
[17:34:56] <pnkfelix> (or wait, I guess huon added `fn span_allows_unstable` )
[17:44:47] *** Joins: japaric (japaric@moz-6af.asf.237.190.IP)
[17:50:10] <sfackler> allow_internal_unstable is also feature gated so downstream code can't use it to escape stability checks
[17:50:51] *** japaric is now known as japaric|afk
[18:06:10] *** Quits: doener (doener@moz-cpsld2.hsi08.unitymediagroup.de) (Quit: leaving)
[18:20:17] <pnkfelix> sfackler: Yeah, I was more idly wondering about potential... source injection attacks, for lack of a better term
[18:20:29] <pnkfelix> sfackler: but the overall strategy seems sound, modulo span bugs
[18:26:23] <nmatsakis> brson: ping
[18:28:00] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[18:28:00] *** ChanServ sets mode: +qo nrc nrc
[18:30:51] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Connection closed)
[18:31:35] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[18:31:35] *** ChanServ sets mode: +o pnkfelix
[18:35:34] <nmatsakis> do we feel that each error code E123 should be used with exactly one message?
[18:35:48] <nmatsakis> in the case of https://github.com/rust-lang/rust/pull/23038#discussion_r25992767 I was using two different messages with same code
[18:35:54] <nmatsakis> because they are both enforcing the same underlying rule
[18:36:05] <nmatsakis> curious to hear what others think
[18:36:06] <nmatsakis> ?win 27
[18:36:08] <nmatsakis> oops
[18:37:08] <cmr> nmatsakis: seems fine to me.
[18:37:29] <cmr> the point (aiui) of the error codes is to be able to look them up and get an explanation of when that error can arise and common fixes/justification.
[18:38:36] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Connection closed)
[18:39:07] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[18:39:08] *** ChanServ sets mode: +o pnkfelix
[18:42:26] *** Joins: laumann (laumann@moz-n9e72h.0.fullrate.dk)
[18:43:51] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Connection closed)
[18:43:53] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[18:43:53] *** ChanServ sets mode: +o pnkfelix
[18:45:28] <brson> nmatsakis: pong
[18:47:18] <nmatsakis> brson: wanted to ask you about if you felt that each error code must have a 1-to-1 correspond with error text; context https://github.com/rust-lang/rust/pull/23038#discussion_r25992767
[18:48:14] *** Joins: csoriano (carlos@moz-g6rkdc.net.upcbroadband.cz)
[18:49:30] <brson> nmatsakis: 1 error code per message
[18:59:16] <nmatsakis> brson: interesting. I feel...pretty strongly otherwise, so I'm curious what makes you want that?
[18:59:27] <nmatsakis> that is, I think there should be an error code per "explanation" that would be useful
[18:59:44] <nmatsakis> so if you can provide a more specific error message in one case,
[18:59:50] <nmatsakis> but the same general rule is being enforced,
[18:59:56] <nmatsakis> it makes sense to have one code so as to concentrate the google-ability
[19:00:02] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Quit: rcirc on GNU Emacs 24.3.92.1)
[19:00:21] *** Joins: RalfJ (quassel@moz-5t4t9t.ralfj.de)
[19:00:24] <nmatsakis> but perhaps there are other factors I'm not considering
[19:02:01] <nmatsakis> (I guess I shouldn't say I feel *strongly* exactly, but it just seems actively less useful to have distinct codes for the same error)
[19:08:29] *** Quits: rustical (dida@moz-55rvi2.dclient.hispeed.ch) (Ping timeout: 121 seconds)
[19:09:23] <brson> nmatsakis: it's easier to enforce that people don't duplicate error codes with a rule that can be mechanically enforced, like 'don't mention an error code more than once'
[19:09:30] <brson> there used to be code to prevent it
[19:18:01] <nmatsakis> brson: oh, I didn't mention the error code more than once
[19:18:08] <nmatsakis> I just had a variable `let msg = ...`
[19:18:41] <nmatsakis> (also, there is still code to prevent it, no? it just warns?)
[19:18:51] <nmatsakis> at least I remember seeing such warnings
[19:19:52] <brson> oh, ok. sounds fine to me. it's not a bd either way
[19:36:28] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Ping timeout: 121 seconds)
[19:46:42] *** Quits: laumann (laumann@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[19:47:52] *** Joins: laumann (laumann@moz-n9e72h.0.fullrate.dk)
[19:54:16] *** Quits: laumann (laumann@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[19:57:43] *** Joins: brson (brson@moz-mj1.c9m.56.172.IP)
[19:57:43] *** ChanServ sets mode: +qo brson brson
[20:07:51] *** Joins: doener (doener@moz-cpsld2.hsi08.unitymediagroup.de)
[20:18:30] *** Joins: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de)
[20:20:51] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[21:04:47] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[21:06:45] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[22:02:14] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[22:03:55] *** Joins: laumann (laumann@moz-n9e72h.0.fullrate.dk)
[22:05:06] *** Joins: reem (reem@moz-lbqjd2.coob.q2h1.0009.2601.IP)
[22:09:14] *** Quits: reem (reem@moz-lbqjd2.coob.q2h1.0009.2601.IP) (Ping timeout: 121 seconds)
[22:29:38] *** Quits: laumann (laumann@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[22:31:50] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[22:52:12] *** Quits: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[22:58:35] *** Quits: csoriano (carlos@moz-g6rkdc.net.upcbroadband.cz) (Client exited)
[23:03:46] <nrc> do I need some configure flag to get debug! working now?
[23:07:12] *** Quits: goffrie (uid69670@moz-1c9019.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[23:13:24] <brson> nrc: i was wondering something similar earlier
[23:13:35] <brson> no, i was wondering the same thing
[23:14:00] <nrc> brson: apparently yes, cc #rust-internals
[23:15:04] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
