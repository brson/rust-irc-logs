[00:00:00] <ssbr> that is not refutable you stupid machine
[00:00:08] <aatch> rusti: let a = ~[1,2,3,4]; match a { [a,..ar] => (a, ar), _ => fail!() }
[00:00:10] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/IRJi
[00:00:37] <aatch> rusti: let a = ~[1,2,3,4]; match a { [a,..ar] => fmt!("%?", (a, ar)), _ => fail!() }
[00:00:39] -rusti- ~"(1, &[2, 3, 4])"
[00:00:41] *** Quits: Sorella (queen@B12A78F5.BA14766C.95C8B7C6.IP) (Quit: (quit))
[00:01:02] <aatch> ssbr, and it is refutable, at least in isolation.
[00:01:20] <ssbr> aatch: how?
[00:01:24] <ssbr> it should match every vector
[00:01:29] <aatch> since `let [a,..b] = ~[]` doesn't work
[00:01:49] <ssbr> aatch: sure, but my pattern was [..b]
[00:02:03] <ssbr> I'd imagine it to be equivalent to `b`, except the type is restricted to vecs
[00:02:07] <aatch> ssbr, oh, sorry. I think that might be broken. I remember dbaupp opening an issue.
[00:02:13] <dbaupp> rusti: let a = ~[1,2,3,4]; match a { [100, .. _] => x, [.. _] => 1 }
[00:02:14] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/IKDC
[00:02:27] <dbaupp> rusti: let a = ~[1,2,3,4]; match a { [100, .. _] => 100, [.. _] => 1 }
[00:02:29] -rusti- 100
[00:02:38] <dbaupp> https://github.com/mozilla/rust/issues/6909
[00:02:50] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[00:03:00] <Luqman> rusti: match ~[1, 2, 3] { [head, _, ..tail] => println(fmt!("%?", (head, tail))), _ => () }
[00:03:02] -rusti- (1, &[3])
[00:03:02] -rusti- ()
[00:03:38] <ssbr> dbaupp: that's scary
[00:03:50] <dbaupp> ssbr: bugs! :D
[00:04:06] <ssbr> aatch et al: thanks for your help!
[00:04:08] <aatch> rusti: let a = ~[1,2,3,4]; match a { [a,..mid,last] => fmt!("%?", (a, mid, last)), _ => fail!() }
[00:04:10] -rusti- ~"(1, &[2, 3], 4)"
[00:04:10] <heftig> rusti: let a = ~[1,2,3,4]; match a { [100, .._] => 100, .. => 1 }
[00:04:11] -rusti- <anon>:10:58: 10:60 error: unexpected token: `..`
[00:04:11] -rusti- <anon>:10          let a = ~[1,2,3,4]; match a { [100, .._] => 100, .. => 1 }
[00:04:11] -rusti-                                                                     ^~
[00:04:11] -rusti- application terminated with error code 101
[00:04:21] <heftig> rusti: let a = ~[1,2,3,4]; match a { [100, .._] => 100, _ => 1 }
[00:04:22] -rusti- 1
[00:04:23] <aatch> I like that ^^ though
[00:04:30] *** Joins: devbug (quassel@moz-E1DE087C.bchsia.telus.net)
[00:04:37] <heftig> rusti: let a = ~[100,2,3,4]; match a { [100, .._] => 100, _ => 1 }
[00:04:38] -rusti- 100
[00:05:04] <bjz> aatch: tis a shame it doesn't allow irrefutable patterns, that makes sense
[00:05:25] <aatch> bjz, you mean refutable patterns in let?
[00:05:35] <bjz> aye
[00:05:39] <bjz> or in fn args
[00:06:08] <aatch> Well it would end up meaning you get run-time failures.
[00:06:13] <bjz> Indeed
[00:06:21] <dbaupp> strcat: ping
[00:06:30] <strcat> dbaupp: pong
[00:06:39] <dbaupp> strcat: https://github.com/mozilla/rust/pull/7032 again? :)
[00:06:48] <bjz> aatch: thereofre, it makes sense
[00:06:50] <aatch> and the runtime failure of dynamic freezing for @mut was controversial enough.
[00:07:39] <dbaupp> let x = @mut ~[1,2]; let y = x.slice(0,1); x.push(1); x
[00:07:51] <dbaupp> rusti: let x = @mut ~[1,2]; let y = x.slice(0,1); x.push(1); x
[00:07:51] *** Joins: Earnestly (earnest@6A917A59.5E1FD793.39C00A7A.IP)
[00:07:52] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/CEhP
[00:08:14] *** Joins: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[00:08:19] <dbaupp> aatch: how does one cause that failure? (I've never seen it happen...)
[00:08:39] <heftig> rusti: let x = @mut ~[1,2]; let mut y = x.slice(0,1); x.push(1); x
[00:08:40] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/iQPh
[00:08:54] <aatch> ty heftig
[00:09:02] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[00:09:47] <aatch> or at least, that's the general idea
[00:11:27] <aatch> immutably borrow a @mut and then try to modify or mutably borrow it again while the first borrow is active.
[00:15:28] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[00:15:28] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14444d992 to 149bcf911: 02http://git.io/N3iJvQ
[00:15:28] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[00:15:31] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[00:15:31] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/4tFRiA
[00:15:31] <ghrust> 13rust/06auto 14fde8f4d 15Daniel Micay: cmp: remove duplicate free functions
[00:15:31] <ghrust> 13rust/06auto 14b17ae0e 15bors: auto merge of #7028 : thestinger/rust/cmp, r=brson
[00:15:31] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[00:15:42] <strcat> please work this time >.<
[00:15:52] <flu_> hmm.. I cant get my x, xs match to work. Borrowed pointer is only valid ... etc error
[00:17:28] <flu_> rusti: let foo = ~[1,2,3,4]; match foo { [x, ..xs] => Some(xs), _ => None }
[00:17:29] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/OdOX
[00:18:36] <flu_> ah, semi-colon problem.
[00:18:48] <flu_> rusti: let a = ~[1, 2, 3, 4]; println(fmt!("%?", match a { [x, ..xs] => Some(xs), _ => None }));
[00:18:50] -rusti- Some(&[2, 3, 4])
[00:18:50] -rusti- ()
[00:20:38] <flu_> what is this 'r?' 'r+' stuff you rust folks are using wrt PR?
[00:20:55] <dbaupp> strcat: looking through str, there are so many _between functions... why can't people use .slice!?! :(
[00:21:22] <Eridius> flu_: r? is a request for review. r+ means reviewed and approved, I believe
[00:21:33] <strcat> flu_: review
[00:21:55] <flu_> Eridius, strcat - gotcha. every community has its jargon :-)
[00:22:03] <strcat> a bot (bors) sees the accepted review (r+) and automatically merges it to a test branch, builds/tests and merges if it passes
[00:22:11] <Eridius> where did the name "bors" come from?
[00:22:22] <strcat> it's on his github page
[00:22:30] <cmr> http://en.wikipedia.org/wiki/The_Last_of_the_Masters#The_last_government
[00:22:41] <Eridius> I see
[00:25:30] <dbaupp> strcat: just realised my fix for https://github.com/mozilla/rust/pull/7032 was incorrect... r again?
[00:31:23] *** Quits: magg (magg@B7B2D103.77B59C03.3D0AE249.IP) (Quit: magg)
[00:33:04] *** Joins: alisdair (textual@BB0336C3.D2943E17.C579BC3E.IP)
[00:33:41] <ssbr> No lie, I'm mad rust won't just say "oh, let's ignore all the borrows since they don't matter anymore" if you return an owned pointer that's borrowed earlier in the function
[00:33:51] <ssbr> rusti: fn blah() -> ~int { let x = ~1; let y : &int = x; x}
[00:33:52] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/TKaW
[00:34:04] <ssbr> is what I want unsafe somehow?
[00:34:21] <strcat> rusti: fn blah() -> ~int { let x = ~1; let y : &int = x; return x; }
[00:34:22] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/dAIV
[00:34:36] <strcat> ssbr: no but it doesn't know how to prove it's valid right now
[00:35:59] <ssbr> strcat: Fair enough. Thanks!
[00:36:01] <strcat> it would have to verify that the references don't escape
[00:36:08] *** Quits: true_droid (Adium@moz-123FD9B8.beck.volia.net) (Quit: Leaving.)
[00:36:37] <strcat> I guess it should know x is local and let you do it...
[00:36:44] * strcat shrugs ;p
[00:37:00] <ssbr> well, if the lifetime of the borrow is blah, then surely the references can never escape?
[00:37:13] <ssbr> but then one might want to generalize and "abandon" some of the references
[00:37:19] <ssbr> but you could do that with scoping lets
[00:37:36] <ssbr> I don't know the name for that. lets of the form "let y : &int = x in {...}:
[00:37:44] <flu_> omg. successful string manipulation! The fact that this feels like an accomplishment is kind of sad... lol
[00:37:56] <ssbr> oh, you can do "{ let y : &int = x; }"
[00:38:00] <ssbr> so there's that.
[00:38:08] <strcat> ssbr: it's just not very clever yet ;p
[00:38:51] <ssbr> hmmmm
[00:39:04] <ssbr> rusti: fn blah() -> ~int { let x = ~1; {let y : &int = x}; x}
[00:39:04] -rusti- <anon>:10:58: 10:59 error: expected `;` but found `}`
[00:39:04] -rusti- <anon>:10          fn blah() -> ~int { let x = ~1; {let y : &int = x}; x}
[00:39:04] -rusti-                                                                     ^
[00:39:04] -rusti- application terminated with error code 101
[00:39:38] <ssbr> rusti: fn blah() -> ~int { let x = ~1; {let y : &int = x;} x}
[00:39:40] -rusti- ()
[00:39:42] <ssbr> there we go!
[00:39:46] <ssbr> I think I can use that :)
[00:39:50] <ssbr> problem solved
[00:40:01] <ssbr> (in the scenario above described, you can _always_ do this workaround)
[00:41:37] <ssbr> my bad, no you can't
[00:42:19] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[00:42:19] *** ChanServ sets mode: +o brson
[00:44:29] <ssbr> Woo! everything works!
[00:44:46] <flu_> umm... so this is amazing -> "75:33 error: unresolved name `outfile`. Did you mean `out_file`?"
[00:44:50] <ssbr> strcat: thanks again for your invaluable assistance (also your status as accidental rubber duck)
[00:44:53] <flu_> good job compiler guys!
[00:45:01] *** Joins: dymk (dymk@44EEE21C.A6E21E6E.5E500FC7.IP)
[00:45:11] <aatch> flu_, yeah, it does get a little confused some times.
[00:45:18] <ssbr> flu_: it's pretty cool, isn't it? and yet it's so simple! One wishes other compilers did that.
[00:45:23] <dymk> Any tips for building Rust on a limited memory (2gb) system?
[00:45:28] <strcat> ssbr: clang does
[00:45:29] <aatch> I don't think there is an upper limit on the edit distance
[00:45:33] <flu_> aatch: I will give it some levity
[00:45:36] <aatch> dymk, swap
[00:45:41] <ssbr> strcat: OK, "more other compilers"
[00:45:46] <flu_> ssbr: totally. git is pretty smart about that too
[00:45:50] <dbaupp> aatch: there is
[00:45:59] <dbaupp> aatch: it's like 5, I think?
[00:46:05] <aatch> dbaupp, oh, ok. That's cool then
[00:46:55] <dbaupp> aatch: that has the unfortunate consequence of suggesting any other short variable if you have an unrecognised one less than the limit
[00:47:11] <dbaupp> should probably use a "similarity percentage" or something
[00:47:16] <aatch> dbaupp, hmm true.
[00:47:51] <flu_> whats the difference between c_schar and c_char?
[00:48:19] <strcat> c_char can be signed or unsigned
[00:48:20] <flu_> I found StrUtil::as_c_str, not sure if that's replaceable with a c_schar
[00:48:27] <aatch> maybe max edit distance should be min(len-1, 5)
[00:48:29] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[00:48:29] <ghrust> 01[13rust01] 15bors pushed 5 new commits to 06auto: 02http://git.io/zh9Gsg
[00:48:29] <ghrust> 13rust/06auto 14040c499 15Huon Wilson: std: replace str::each_split* with an iterator
[00:48:29] <ghrust> 13rust/06auto 1403aa0e4 15Huon Wilson: std: replace str::all/any fns and methods with iterators
[00:48:30] <ghrust> 13rust/06auto 146f8de56 15Huon Wilson: std: remove str::{len, slice, is_empty} in favour of methods.
[00:48:32] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[00:48:32] <flu_> strcat: of course. definitely been out of low level code for too long
[00:49:27] <aatch> so it can't just replace every character.
[00:50:10] *** Quits: bytbox (s@moz-2E27684C.student.umd.edu) (Ping timeout)
[00:50:11] <strcat> aatch: no harm in it giving a suggestion
[00:50:24] <dbaupp> rusti: let foo = 1; bar
[00:50:26] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/Fide
[00:50:45] <dbaupp> strcat: ^ that's a bit strange though
[00:50:46] <aatch> strcat, it?
[00:50:52] <strcat> rustc
[00:51:07] <strcat> dbaupp: maybe you did mean foo
[00:51:17] <strcat> it's the only variable in scope after all...
[00:51:39] <dbaupp> strcat: it really should suggest non-locals too
[00:51:43] <strcat> yes
[00:53:37] <aatch> strcat, unfortunately you do get this: unresolved name `topxq`. Did you mean `dress`?
[00:53:38] <flu_> heh. super safety here. "You can have the c string representation, BUT ONLY IN A CLOSURE"
[00:54:04] *** Quits: cdidd (cdidd@moz-3B6805BF.broadband.corbina.ru) (Input/output error)
[00:54:10] <aatch> flu_, well yeah, since as_c_str may-or-may not allocate
[00:54:23] <flu_> aatch: I get it, just poking fun :-)
[00:54:29] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[00:55:05] <aatch> there's not actually anything stopping you moving the pointer out of the closure. You just don't get to complain when you segfault.
[00:55:15] <bjz_> rusti: let mut x = 2; x %= 0; x
[00:55:17] -rusti- rust: task failed at 'attempted remainder with a divisor of zero', <anon>:10
[00:55:17] -rusti- rust: domain main @0x7ff2d201f810 root task failed
[00:55:18] -rusti- application terminated with error code 101
[00:55:24] <bjz_> rusti: let mut x = 2; x %= 1; x
[00:55:25] -rusti- 0
[00:56:40] *** Joins: cdidd (cdidd@moz-D8DCABD8.broadband.corbina.ru)
[01:00:41] <flu_> omg my test file works!
[01:00:46] * flu_ seizures in ecstasy
[01:02:29] *** Quits: vosen (vosen@moz-266BA656.icpnet.pl) (Quit: Leaving)
[01:02:37] *** Quits: EXetoC (ex@moz-2DBEB1E4.customer.t3.se) (Quit: WeeChat 0.4.1)
[01:04:10] <Eridius> rusti: [~[1,2,3],~[1,2],~[1,2,3,4]].iter().transform(|v| v.len()).fold(0u, cmp::max)
[01:04:12] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/bbIF
[01:04:19] <Eridius> rusti: [~[1,2,3],~[1,2],~[1,2,3,4]].iter().transform(|v| v.len()).fold(0u, std::cmp::max)
[01:04:20] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/XDHM
[01:04:44] <Eridius> rusti: use std::iterator::IteratorUtil; [~[1,2,3],~[1,2],~[1,2,3,4]].iter().transform(|v| v.len()).fold(0u, std::cmp::max)
[01:04:46] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/LJQA
[01:05:58] <Eridius> rusti: use std::iterator::IteratorUtil; let x = [~[1,2,3],~[1,2],~[1,2,3,4]]; x.iter().transform(|v| v.len()).fold(0u, cmp::max)
[01:06:00] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/NNGN
[01:06:09] <Eridius> rusti: use std::iterator::IteratorUtil; let x = [~[1,2,3],~[1,2],~[1,2,3,4]]; x.iter().transform(|v| v.len()).fold(0u, std::cmp::max)
[01:06:11] -rusti- 4
[01:06:14] *** Quits: arete (arete@moz-CE1DC602.xen.prgmr.com) (Ping timeout)
[01:07:58] *** Joins: annodomini (lambda@D9A47A6B.4AB75939.5F093114.IP)
[01:08:08] *** Quits: annodomini (lambda@D9A47A6B.4AB75939.5F093114.IP) (Quit: annodomini)
[01:08:21] *** Joins: reyre_ (reyre@moz-9002CDDA.cpe.net.cable.rogers.com)
[01:09:28] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[01:09:28] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14d9f075a to 149bcf911: 02http://git.io/N3iJvQ
[01:09:28] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[01:09:30] *** Joins: ghrust (ghrust@E7A4CCE2.6A2AE50.F3114085.IP)
[01:09:30] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/kSTwfQ
[01:09:30] <ghrust> 13rust/06auto 14983269e 15Ron Dahlgren: Updated documentation to refer to extra module...
[01:09:30] <ghrust> 13rust/06auto 149e4beaa 15Ron Dahlgren: Fix all issues with sample code...
[01:09:30] <ghrust> 13rust/06auto 141d91431 15bors: auto merge of #7035 : influenza/rust/getopts-doc-update, r=bstrie...
[01:09:33] *** Parts: ghrust (ghrust@E7A4CCE2.6A2AE50.F3114085.IP) ()
[01:10:08] *** Quits: reyre_ (reyre@moz-9002CDDA.cpe.net.cable.rogers.com) (Ping timeout)
[01:11:34] <flu_> woot! 15 seconds of fame!
[01:11:34] *** Quits: wuwei|offline (wuwei@1A513F49.818D7924.FAA9ED67.IP) (Connection reset by peer)
[01:12:08] *** Joins: wuwei|offline (wuwei@1A513F49.818D7924.FAA9ED67.IP)
[01:12:44] <dbaupp> rusti: use std::iterator::{IteratorUtil, OrdIterator}; let x = [~[1,2,3],~[1,2],~[1,2,3,4]]; x.iter().transform(|v| v.len()).max()
[01:12:46] -rusti- Some(4)
[01:13:04] <dbaupp> Eridius: there's that ^ too
[01:13:18] <Eridius> dbaupp: neat
[01:14:31] *** Quits: alisdair (textual@BB0336C3.D2943E17.C579BC3E.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[01:24:04] <SiegeLord> cmr, What do you think of this (CSS-wise): http://siegelord.github.io/RustGnuplot/#implementation-for-figureself-where-self
[01:24:42] <xenocons> http://roscidus.com/blog/blog/2013/06/09/choosing-a-python-replacement-for-0install/ mentions rust
[01:24:58] <steven_is_false> SiegeLord: If one makes the windows too small the boxes are squished smaller than the function declaration
[01:25:18] <flu_> so let's say, hypothetically, that I had 6,000 lines of FFI code. I don't want to grow that to 8000 adding my safe rust layer - what's the preferred way of packaging up a multi-file library? rustc only accepts a single input
[01:25:31] <SiegeLord> steven_is_false, I think that's just how <pre> works?
[01:25:47] *** Joins: mib_0adzbq (Mibbit@moz-6CDF9761.lightspeed.sndgca.sbcglobal.net)
[01:26:08] <steven_is_false> SiegeLord: It's still bothersome.
[01:26:36] *** Quits: mib_0adzbq (Mibbit@moz-6CDF9761.lightspeed.sndgca.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[01:26:58] <SiegeLord> Yeah... there's only so much you can bandaid over with CSS
[01:27:14] <Eridius> SiegeLord: word-wrap: break-word perhaps?
[01:27:24] <Eridius> or I dunno
[01:27:32] <Eridius> what's the right way to get a nil *libc::c_void ?
[01:27:33] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[01:27:55] <SiegeLord> The biggest things I hate "Implementation X for Y" and "Method Z" you can't fix anyway
[01:28:05] <bjz_> Eridius: ptr::null() ?
[01:28:17] <SiegeLord> Eridius, The thing is, the text in those <pre> sections is pre-wrapped by rustdoc
[01:28:20] <Eridius> bjz_: ah hah, thanks
[01:28:37] <SiegeLord> rustdoc should just not emit <pre> sections :P
[01:28:51] <SiegeLord> Or maybe I can force the boxes to have a minimum size...
[01:28:59] <Eridius> SiegeLord: min-width is your friend
[01:29:10] <Eridius> although how will you know what the appropriate minimum width to fit the text is?
[01:30:50] <SiegeLord> I'll pull it out of thin air :P
[01:31:48] <dbaupp> flu_: you can import other files via `mod filename;`
[01:32:00] <flu_> dbaupp: perfect
[01:32:10] <dbaupp> or `#[path="path/to/my/file.rs] mod whatever_you_want;`
[01:32:29] <dbaupp> flu_: (to have it externally accessible, you need `pub mod ...;`)
[01:33:53] *** Joins: alisdair (textual@moz-EA60A466.dedicated.allstream.net)
[01:36:09] *** Joins: MaikKlein1 (maik@moz-C731CFBB.dip0.t-ipconnect.de)
[01:38:22] <bjz_> moonchrome: *few* vec is done
[01:38:29] <bjz_> moonchrome: now for mat
[01:39:43] * xenocons scratches chin, what to work on today
[01:39:44] *** Joins: mreedell (mreedell@moz-9950CA28.hsd1.pa.comcast.net)
[01:39:48] <Eridius> "few"? is that supposed to be "phew" or do I just have no idea what you said?
[01:40:08] <bjz_> Eridius: whatever
[01:40:43] <bjz_> :)
[01:41:17] <bjz_> Eridius: according to the oxford dicitonary you are correct.
[01:41:30] *** Quits: MaikKlein1 (maik@moz-C731CFBB.dip0.t-ipconnect.de) (Client exited)
[01:41:57] <bjz_> brson: ping
[01:43:34] <xenocons> libfuzzer needs a readme
[01:45:13] <dbaupp> xenocons: libfuzzer needs a rewrite ;P
[01:46:28] <xenocons> yeah
[01:46:39] <xenocons> dbaupp: just trying to get my head around its current state
[01:49:43] *** Joins: deepdog (deepdog@moz-490E834C.client.mchsi.com)
[01:49:55] <dbaupp> xenocons: you were doing the Boyer-Moore, right?
[01:50:01] <xenocons> yeh
[01:50:06] <dbaupp> https://github.com/mozilla/rust/pull/1932
[01:50:15] <flu_> hmm... bors just told me my PR failed some build tests - but I just changed documentation...?
[01:50:22] <xenocons> oh nice! 
[01:50:37] <dbaupp> xenocons: "In my cursory testing the performance is significantly worse than the naive implementation"
[01:50:48] <xenocons> haha
[01:50:50] *** Joins: carter (carter@moz-12C317EF.nyc.res.rr.com)
[01:50:54] <dbaupp> (that pull request isn't merged)
[01:50:59] <xenocons> right
[01:51:12] <dbaupp> flu_: the code in the documentation is tested
[01:51:27] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[01:51:27] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 141d91431 to 149bcf911: 02http://git.io/N3iJvQ
[01:51:27] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[01:51:29] *** Joins: ghrust (ghrust@614D05BD.6A2AE50.F3114085.IP)
[01:51:29] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/liecsw
[01:51:29] <ghrust> 13rust/06auto 1486833ea 15Daniel Micay: cmp: remove duplicate free functions
[01:51:29] <ghrust> 13rust/06auto 145a270e1 15bors: auto merge of #7028 : thestinger/rust/cmp, r=brson
[01:51:30] *** Parts: ghrust (ghrust@614D05BD.6A2AE50.F3114085.IP) ()
[01:51:33] <flu_> dbaupp: I ran the code in the documentation against incoming. hrm
[01:51:44] <dbaupp> flu_: hm
[01:51:56] <xenocons> dbaupp: his boyer moore is a lot more intense than what i had
[01:51:58] <dbaupp> flu_: looking at the error (at the bottom of http://buildbot.rust-lang.org/builders/auto-linux/builds/1629/steps/test/logs/stdio)
[01:52:08] <dbaupp> flu_: it looks like it's not your problem
[01:52:38] <flu_> eh, yeah
[01:52:44] <xenocons> (btw is there a #time or time! macro to print time a function took)
[01:52:45] <brson> bjz_: pong
[01:53:02] <bjz_> brson: r? https://github.com/mozilla/rust/pull/6986
[01:53:05] <dbaupp> xenocons: there is a #[bench] attribute
[01:53:15] <bjz_> brson: bit concerned about it rotting
[01:53:20] <dbaupp> xenocons: https://github.com/mozilla/rust/wiki/Doc-unit-testing#benchmarking
[01:53:20] <xenocons> do you just drop it above functions?
[01:53:22] <xenocons> oh
[01:53:23] <xenocons> ty
[01:54:45] <dbaupp> brson: https://github.com/mozilla/rust/pull/7035 failed with some LLVM errors in rustpkg test... is this a known problem?
[01:55:01] <Eridius> is there any link attribute I can put on an extern function that changes the name it links against?
[01:55:26] <bjz_> Eridius: look at std::num::cmath
[01:55:42] <dbaupp> Eridius: #[link_name="foo"] I think
[01:55:45] <bjz_> Eridius: #[link_name="fabs"] unsafe fn abs(n: c_double) -> c_double;
[01:55:47] *** Quits: mreedell (mreedell@moz-9950CA28.hsd1.pa.comcast.net) (Quit: Computer has gone to sleep.)
[01:55:55] <Eridius> bjz_: thanks
[01:56:06] <brson> bjz_: I saw the pull request. It's a lot to take in. Is barycentric interpolation, etc. something that other standard libraries provide?
[01:57:36] <xenocons> dbaupp: i dont understand his test cases, he always searches for small needles in tiny haystacks, of course brute force will win against boyer moore
[01:58:19] <dbaupp> xenocons: even https://gist.github.com/brson/2003993?
[01:58:54] <xenocons> ah i didnt see that one, only https://github.com/killerswan/boyer-moore-search/blob/master/test.rs
[01:59:25] <bjz_> brson: I brought up that question. Personally I think linear interpolation is important (the graphics guys would get excited about it)
[01:59:44] <bjz_> brson: jensnockert was excited about the others
[02:00:12] <brson> we've put obscure math functions in std before then removed them
[02:00:23] *** Joins: mflamer (Mibbit@moz-C6ED16AA.hsd1.ca.comcast.net)
[02:00:25] <bjz_> brson: mm
[02:00:43] <bjz_> brson: definitely something to consider
[02:01:09] <bjz_> brson: I guess I was more concerned with getting those methodisation changes in
[02:01:24] <bjz_> brson: could we discuss this further after that?
[02:01:56] <bjz_> brson: sorry for mixing those two two things into the same commit
[02:02:43] <bjz_> brson: I do think it's important to discuss whether we want to support obscure functions (I'm more hesitant to)
[02:03:14] <bjz_> brson: even things like the stuff in RealExt I'm thinking might be better to remove
[02:03:31] <bjz_> brson: even if they are in libm
[02:05:22] <brson> bjz_: ok, I r+d
[02:06:03] <bjz_> brson: cheers. I will make sure to bring up the discussion on slimming down the maths functions again
[02:06:17] <dbaupp> bjz_: keeping gamma would be really nice!
[02:06:29] <bjz_> dbaupp: is it useful?
[02:06:53] <dbaupp> yes
[02:07:10] *** Joins: mreedell (mreedell@moz-9950CA28.hsd1.pa.comcast.net)
[02:07:16] *** Quits: mflamer (Mibbit@moz-C6ED16AA.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[02:07:45] <dbaupp> bjz_: at least, I think it's sufficiently useful that being forced to "shell out" to libm to use it would be very unfortunate
[02:07:47] <bjz_> dbaupp: ok cool. yeah I wasn't sure
[02:08:10] <bjz_> yeah I've just been going off libm so far
[02:08:21] <dbaupp> bjz_: I'm not sure about the bessel functions, but I'm sure they're in libm for a reason
[02:08:48] <bjz_> dbaupp: I remember hearing that bessel functions are pretty obscure these days
[02:08:59] <bjz_> dbaupp: not sure though
[02:09:04] <bjz_> (I'm no expert)
[02:09:23] <bjz_> ie. they were popular back in the day, but less so now
[02:09:36] <bjz_> can't remember where I got that from though
[02:09:56] <steven_is_false> fn factorial(x : uint) { tgamma (x as double) } ?
[02:10:08] <Eridius> how do I catch signals?
[02:10:19] <steven_is_false> * fn factorial(x : uint) { tgamma ((x + 1) as double).round() as uint } ?
[02:10:22] <dbaupp> steven_is_false: that'd work
[02:10:25] <dbaupp> I guess
[02:10:46] <dbaupp> lgamma is particularly nice
[02:11:22] <dbaupp> bjz_: well, I don't see any reason to be a subset of libm, since it's essentially 0 effort to support it
[02:11:31] *** Quits: mreedell (mreedell@moz-9950CA28.hsd1.pa.comcast.net) (Quit: Computer has gone to sleep.)
[02:11:33] <dbaupp> bjz_: unless we can entirely move away from libm
[02:11:34] <strcat> Eridius: we don't have signal handling yet. in the future the libuv signal handling should be exposed
[02:11:40] <Eridius> bah
[02:11:54] <bjz_> dbaupp: I would prefer to be fully free of cmath in the future
[02:12:03] <dbaupp> bjz_: yes
[02:12:12] <dbaupp> bjz_: that may be infeasible
[02:12:19] <bjz_> dbaupp: and look at how long C has been around for
[02:12:38] <dbaupp> bjz_: especially since that would move the floating-point accuracies/bugs considerations on to us
[02:12:47] <bjz_> dbaupp: there's no reason to saddle Rust with the C's api
[02:12:54] <bjz_> dbaupp: yep
[02:12:56] <dbaupp> rather that the platform's libm maintainers
[02:13:05] <dbaupp> *than
[02:13:33] <bjz_> dbaupp: D for example has its own implementations
[02:13:38] <dbaupp> bjz_: (FTR, I'd also like to move away from cmath)
[02:13:42] <dbaupp> bjz_: oh, really?
[02:14:29] <dbaupp> bjz_: well, the seem to support our RealExt methods http://dlang.org/phobos/std_mathspecial.html
[02:14:30] <dbaupp> *they
[02:14:54] <dbaupp> bjz_: actually... they support more!
[02:15:00] <bjz_> https://github.com/D-Programming-Language/phobos/blob/master/std/math.d
[02:15:08] <bjz_> seems so :)
[02:15:26] <bjz_> but we must make our own descisions
[02:15:45] <dbaupp> hm, they don't have the bessel functions though
[02:16:09] <dbaupp> bjz_: of course, but I'd guess the D people had reasonable reasons for their decisions
[02:16:27] <dbaupp> bjz_: i.e. the fact that they included them is evidence that they're useful, I guess
[02:16:45] <dbaupp> bjz_: I'd guess jensnockert has an informed opinion about this
[02:16:50] <bjz_> aye
[02:17:07] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Client exited)
[02:17:51] <xenocons> rusti: "test1234".len()
[02:17:55] -rusti- 8
[02:18:12] <xenocons> rusti: ~["test1234".len(),..8]
[02:18:13] -rusti- ~[8, 8, 8, 8, 8, 8, 8, 8]
[02:19:17] <xenocons> weird, strange bug in my algorithm i cannot work out 
[02:20:00] <xenocons> rusti: &"test1234".len()
[02:20:03] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/dSbZ
[02:20:16] <dbaupp> xenocons: what's the code? :)
[02:20:29] <xenocons> rusti: let x = "test1234"; (&x).len()
[02:20:30] -rusti- 8
[02:20:41] <xenocons> dbaupp: ill paste now
[02:21:10] <xenocons> dbaupp: https://gist.github.com/xenocons/b15ecda027f0a1be1294
[02:21:45] <dbaupp> it compiles, right?
[02:21:58] <xenocons> yup
[02:22:15] <xenocons> it seems that only some strings are matching
[02:22:20] <xenocons> where i expected all of them to
[02:22:21] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[02:24:25] <dbaupp> xenocons: i.e. it's not finding venenat?
[02:24:42] <xenocons> correct, or test1234
[02:25:10] <dbaupp> xenocons: reducing the haystack to "dolor test1234 venenat" makes it find test1234 but not venenat
[02:25:34] <xenocons> hrm
[02:26:17] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Quit: leaving)
[02:26:26] <dbaupp> should badchars just be entirely filled with the same number?
[02:26:44] <xenocons> yeah , judging from boyermoore horspool, i *think* so
[02:26:55] *** Quits: kimundi (kimundi@moz-D1D1BED9.dip0.t-ipconnect.de) (Ping timeout)
[02:27:10] <dbaupp> xenocons: also, `for uint::range(0, lastpbyte) |i| ...` saves you a cast
[02:27:12] <xenocons> http://en.wikipedia.org/wiki/Boyer%E2%80%93Moore%E2%80%93Horspool_algorithm
[02:27:19] <xenocons> oh nice
[02:27:19] <xenocons> ty
[02:28:02] <dbaupp> xenocons: I think you're missing the `- scan` part of that code
[02:28:04] <Eridius> hrm, I can't say `'q' as i32` in a match clause?
[02:28:28] <dbaupp> xenocons: changing the - 1 to - i seems to fix it
[02:28:30] <dbaupp> Eridius: nope
[02:28:34] <xenocons> dbaupp: AHHHHH
[02:28:38] <xenocons> :(
[02:28:44] <Eridius> dbaupp: can match clauses have guards?
[02:28:52] <xenocons> yup now it works
[02:28:54] <dbaupp> Eridius: yes,
[02:28:54] <xenocons> dbaupp: ty heh
[02:28:58] <Eridius> dbaupp: what's the syntax?
[02:29:11] <xenocons> bloody 1 looks identical to i
[02:29:13] <dbaupp> rusti: match 1 { a if a == 1 => { true } _ => { false } }
[02:29:13] -rusti- true
[02:29:20] <Eridius> dbaupp: thanks
[02:29:53] *** Joins: kimundi (kimundi@moz-786AC1FA.dip0.t-ipconnect.de)
[02:33:44] *** kimundi is now known as zz_kimundi
[02:34:14] *** Quits: carter (carter@moz-12C317EF.nyc.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[02:34:49] <steven_is_false> So... 0.7 is coming up soon.
[02:36:27] *** Quits: SingingBoyo (brandon@moz-EAC7E73D.bchsia.telus.net) (Ping timeout)
[02:37:37] *** Quits: jrfeenst (jrfeenst@moz-F912484F.cpe.norwoodlight.com) (Quit: jrfeenst)
[02:38:02] <xenocons> btw is there any intention to support the winapi to some level?
[02:38:09] <xenocons> guessing no
[02:38:37] <steven_is_false> xenocons: Well there are abstraction layers being written over the low level stuff like LoadLibrary, and such.
[02:38:55] *** Joins: sankha93 (Instantbir@915679EA.CB400184.8B6C1D65.IP)
[02:39:08] <dbaupp> xenocons: I'd guess yes, since windows is supposed to be a tier 1 platform
[02:39:13] <xenocons> oh cool
[02:39:28] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[02:39:28] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 145a270e1 to 149bcf911: 02http://git.io/N3iJvQ
[02:39:28] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[02:39:29] <xenocons> id like to see use win32api or something and be able to reach into windows api
[02:39:30] *** Joins: ghrust (ghrust@CFE85B59.6A2AE50.F3114085.IP)
[02:39:30] <ghrust> 01[13rust01] 15bors pushed 10 new commits to 06auto: 02http://git.io/ExPkHg
[02:39:30] <ghrust> 13rust/06auto 140b38d4c 15Brendan Zabarauskas: Make connect implementations clearer by using vector destructuring
[02:39:30] <ghrust> 13rust/06auto 14bd09c5f 15Brendan Zabarauskas: Begin implementing Interpolate trait...
[02:39:31] <ghrust> 13rust/06auto 149f98255 15Jens Nockert: Interpolation code...
[02:39:31] *** Parts: ghrust (ghrust@CFE85B59.6A2AE50.F3114085.IP) ()
[02:39:50] <xenocons> e.g. GetSystemTime heh
[02:40:07] *** Quits: paulproteus (quassel@rose.makesad.us) (Ping timeout)
[02:40:27] *** Joins: paulproteus (quassel@moz-E86A3B42.makesad.us)
[02:40:32] <dbaupp> xenocons: well, if you need a specific function, you can use an extern {} block
[02:40:40] <dbaupp> (and import it specially)
[02:40:44] <xenocons> havent tried that yet
[02:41:06] <xenocons> seems to be a blog about it
[02:42:02] <xenocons> https://github.com/mozilla/rust/blob/master/doc/tutorial-ffi.md
[02:43:03] <dbaupp> yeah, that's it. if it's a libc function, that you don't need any #[link_args=...]
[02:43:17] <dbaupp> speaking of which, there are a lot of functions in std/libc.rs
[02:43:22] <dbaupp> including windows specific ones
[02:44:30] <xenocons> ill check there first
[02:47:36] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[02:49:20] *** Joins: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net)
[02:51:04] *** Quits: deepdog (deepdog@moz-490E834C.client.mchsi.com) (Quit: Leaving)
[02:51:23] *** Joins: steveklabnik (steveklabn@E6CC197F.60294712.FDFC209F.IP)
[02:52:06] <Eridius> wow, "error: incorrect close delimiter: `}`" on the last line of my program is not very helpful
[02:54:01] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Connection reset by peer)
[02:54:31] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[02:55:07] <Eridius> ah, found the missing )
[02:56:03] <Eridius> crap. Assertion failed: (getOperand(0)->getType() == cast<PointerType>(getOperand(1)->getType())->getElementType() && "Ptr must be a pointer to Val type!"), function AssertOK, file /Users/kevin/Dev/rust/rust/src/llvm/lib/IR/Instructions.cpp, line 1084.
[02:57:29] <flu_> What's the syntax for a no-args closure?
[02:57:36] <Eridius> flu_: || {}
[02:57:44] <flu_> that's what I thought :-/
[02:57:56] <flu_> it bitched if I left out the empty pipes
[02:58:39] <Eridius> hmm ok, I know what small function of mine triggered the LLVM error, but I'm not sure what to do about it
[02:59:07] <aatch> flu_, try | | {}
[02:59:21] <Eridius> rusti: struct Foo(int,bool); let x = ~[Foo(1,false)]; let Foo(ref mut b,_) = x; *b
[02:59:22] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/SgdR
[02:59:29] <aatch> rusti: let x = | | { 42 }; x()
[02:59:29] -rusti- 42
[02:59:32] <dbaupp> Eridius: ref + let doesn't work yet :(
[02:59:39] <aatch> rusti: let x = || { 42 }; x()
[02:59:40] -rusti- 42
[02:59:43] <Eridius> rusti: struct Foo(int,bool); let x = ~[Foo(1,false)]; let Foo(ref mut b,_) = x[0]; *b
[02:59:44] -rusti- line longer than 150 columns, pastebinned: http://sprunge.us/WhdK
[02:59:51] <Eridius> dbaupp: d'oh!
[02:59:51] <aatch> ok, so empty pipes still work.
[02:59:53] <Eridius> :'(
[03:00:19] <dbaupp> rusti: struct Foo(int,bool); let x = ~[Foo(1,false)]; let b = match x[0] { Foo(ref mut b, _) => b }; *b
[03:00:20] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/QdBe
[03:00:22] <Eridius> dbaupp: any way to do this? I can modify my code to copy the values out, and then construct a new Foo and modify the vector, but it's cleaner to just modify the int value directly
[03:00:28] <Eridius> oh match does it? huh
[03:00:43] <dbaupp> the code for let and match is different
[03:00:53] <dbaupp> since let is only irrefutable patterns
[03:00:54] <Eridius> dbaupp: I assume there's a ticket on this already?
[03:00:56] *** Quits: alisdair (textual@moz-EA60A466.dedicated.allstream.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[03:01:05] <aatch> Eridius, probably
[03:01:06] <dbaupp> https://github.com/mozilla/rust/issues/3874
[03:01:11] <aatch> There we go.
[03:01:17] <Eridius> dbaupp: thanks
[03:02:20] <xenocons> where does rustc put the working dir when calling 'ld' ?
[03:02:40] <aatch> xenocons, what do you mean?
[03:03:00] <xenocons> im getting gcc failed withcode 1, ld cannot find -lkernel32.lib
[03:03:11] <xenocons> (im supplying it with #[link_args = "-lkernel32.lib"])
[03:03:44] <aatch> xenocons, well it adds a couple paths with -L
[03:03:56] <aatch> but they are rust-specific
[03:04:07] <xenocons> seems not to be the current dir im compiling from though
[03:04:22] *** Quits: steveklabnik (steveklabn@E6CC197F.60294712.FDFC209F.IP) (Quit: bai)
[03:04:32] <aatch> you also get the standard paths for gcc/clang
[03:04:37] <xenocons> ah
[03:04:45] <xenocons> i think haskell has taken over my ld paths
[03:05:06] <aatch> xenocons, try compiling a toy C program and link against kernel32.lib with gcc
[03:05:30] <xenocons> heh, ive never compiled against kernel32 without msvc
[03:05:34] <xenocons> ill give it a shot
[03:06:04] <aatch> finally, you can add paths with -L on the command line, or add it to the link args
[03:06:44] <xenocons> oh, its L not l
[03:06:58] <xenocons> (ld is l i guess, gcc is L?)
[03:07:15] <aatch> xenocons, no, -l adds a library, -L adds a search path
[03:07:33] <xenocons> ah
[03:07:56] <xenocons> #pragma comment(lib, "kernel32")
[03:08:09] <aatch> so -lkernel32.lib says "link against kernel32.lib", -L /c/System32 says "Look for libraries in /c/System32"
[03:08:22] <aatch> (or whatever it might be, I'm not a windows dev)
[03:08:45] <aatch> xenocons, pretty much, but that's a msvc-specific extension...
[03:08:54] <xenocons> heh yeh
[03:09:00] <xenocons> and i love it
[03:09:26] <aatch> unfortunately the vast majority of '#pragma's aren't cross-platform.
[03:09:34] <aatch> (In any direction)
[03:09:38] <xenocons> yeh, that sucks
[03:09:53] <aatch> xenocons, but at least rust has a form of it.
[03:10:07] *** Quits: sankha93 (Instantbir@915679EA.CB400184.8B6C1D65.IP) (Ping timeout)
[03:10:20] <aatch> and since there is only one compiler, you don't have the problem of some implementing it and others not.
[03:10:28] <xenocons> trueyeh
[03:10:37] <xenocons> hoping for msvc builds of rust one day ;)
[03:10:59] <aatch> xenocons, it might happen.
[03:11:37] <xenocons> i wish rustc -v printed what it was compiled with, and when, and if its release\incomming and its architecture
[03:11:56] <xenocons> (well it kinda lists architecture)
[03:12:25] <xenocons> but it says rustc 0.6, not sure if its incomming or release or what (i know its incomming in this case though)
[03:13:01] <aatch> it says the build date and the commit hash
[03:13:08] <aatch> but I agree that it's not ideal
[03:13:21] <xenocons> it does?
[03:13:29] *** Parts: steven_is_false (user@moz-144077DE.bchsia.telus.net) (ERC Version 5.3 (IRC client for Emacs))
[03:13:29] <xenocons> C:\Users\david\Desktop>rustc -v
[03:13:30] <xenocons> rustc 0.6
[03:13:30] <xenocons> host: i686-pc-mingw32
[03:13:38] <aatch> xenocons, does for me.
[03:13:44] <aatch> rustc 0.6 (13aa188 2013-06-03 15:40:29 -0700)
[03:13:52] <xenocons> :( i hope i didnt grab release
[03:14:14] <aatch> xenocons, you built from source, correct?
[03:14:18] <xenocons> yeh
[03:14:22] *** Joins: sankha93 (Instantbir@915679EA.CB400184.8B6C1D65.IP)
[03:14:35] <aatch> what branch does it say when you do git status?
[03:14:55] <xenocons> 1 sec
[03:15:12] <xenocons> on branch master :<
[03:15:20] <aatch> Well there you go.
[03:15:27] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[03:15:27] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14f48754d to 149bcf911: 02http://git.io/N3iJvQ
[03:15:27] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[03:15:28] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[03:15:28] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/l-vvgw
[03:15:28] <ghrust> 13rust/06auto 1486833ea 15Daniel Micay: cmp: remove duplicate free functions
[03:15:28] <ghrust> 13rust/06auto 146e5e97f 15bors: auto merge of #7028 : thestinger/rust/cmp, r=brson
[03:15:28] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[03:15:36] <aatch> HEAD should really be incoming.
[03:15:38] <xenocons> i followed https://github.com/mozilla/rust/wiki/Note-getting-started-developing-Rust
[03:16:06] <xenocons> im not really a git knowledgable person
[03:16:22] *** Quits: moonchrome (moonchrome@moz-99EA89E.dsl.iskon.hr) (Quit: Leaving)
[03:16:53] <xenocons> to get incomming do i do git://github.com/mozilla/rust/tree/incomming.git or something
[03:17:14] <aatch> xenocons, no, just do git checkout incoming
[03:17:20] <xenocons> ok
[03:17:36] <aatch> if you haven't updated in a while, then run `git pull origin incoming`
[03:17:44] <aatch> actually, do that anyway
[03:17:46] <xenocons> i guess this way i wont need to rebuild llvm
[03:17:46] <xenocons> ok
[03:18:10] <xenocons> then i guess ./configure, make, make install 
[03:18:43] <aatch> xenocons, you might need to rebuild LLVM, I'm not sure, but there may have been updates between master and incoming.
[03:19:01] <xenocons> ok
[03:19:03] <xenocons> lets try
[03:21:45] <xenocons> aatch: yeah gcc had issues linking kernel32 too
[03:21:53] <aatch> xenocons, figured it would.
[03:22:20] <xenocons> aatch: i think unfortunately one does not simply link kernel32 and not link like 7 other libs
[03:22:50] <aatch> xenocons, heh, the joys of systems programming.
[03:23:22] <aatch> I realised the advantages of Makefiles when I started thinking about how to script my build process.
[03:23:39] <xenocons> heh
[03:23:43] <cmr> SiegeLord: Really nice!
[03:23:49] <xenocons> so how do we make this easier from rustc?
[03:24:36] <xenocons> i mean, a collection of abstractions for common sys stuff would be nice, but could be limiting
[03:24:58] <aatch> xenocons, rustpkg is intended to be the canonical build system for rust
[03:25:27] <xenocons> hmm
[03:25:33] <xenocons> have to check out rustpkg
[03:26:53] <xenocons> imo wrappers as an abstraction for common stuff is best, but it comes at a cost, the cost of writing correct 'safeish' abstractions
[03:28:12] <xenocons> e.g.std::sys::getsystemtime should check for correctness of the struct before it passes to the native function
[03:28:25] <xenocons> eww, abstractions will be millions of lines long hehe
[03:29:19] <cmr> xenocons: don't you want to link to kernel32.dll, not kernel32.lib? I thought kernel32.lib just had... prototypes, or sth like that
[03:29:26] * cmr not a windows person
[03:29:38] <aatch> xenocons, no, you just make it impossible to construct an invalid struct
[03:30:13] <aatch> at least, impossible to do safely.
[03:30:27] <xenocons> cmr: tried both
[03:30:49] <aatch> you can always construct an identically laid out struct and cast::transmute your way to a crash.
[03:30:50] <xenocons> aatch: well, what defines an invalid struct? it can differ
[03:31:05] <cmr> xenocons: And what was the error message?
[03:31:33] <xenocons> cmr: im just rebuilding rustc atm, will be able to check in a tic
[03:33:15] <xenocons> make that a few tics ;) 
[03:34:01] *** Quits: devbug (quassel@moz-E1DE087C.bchsia.telus.net) (Client exited)
[03:40:22] *** Quits: sankha93 (Instantbir@915679EA.CB400184.8B6C1D65.IP) (Ping timeout)
[03:46:34] *** Joins: devbug (quassel@moz-E1DE087C.bchsia.telus.net)
[03:47:26] <xenocons> hrm, stuck at extracting rust-stage0/bin/rustllvm.dll
[03:47:27] <xenocons> guess its huge
[03:49:33] <aatch> strcat, for cross-compiling jemalloc, presumably we need to pick some common per-platform sizes, do you have any idea what they may be?
[03:49:41] <strcat> aatch: 12
[03:49:46] <strcat> everywhere
[03:50:43] <aatch> strcat, based on?
[03:50:54] <strcat> aatch: https://hg.mozilla.org/mozilla-central/file/86cf33eb2009/configure.in#l8944
[03:51:07] <strcat> aatch: 1 << 12 is 4k
[03:51:40] <aatch> Ah, oh right. I mis-read the manpage for ffsl
[03:51:42] <strcat> windows alloc granularity is 64k but it seems page size is still 4k.
[03:51:52] <strcat> so it appears to be 4k *everywhere* 
[03:52:08] <aatch> ok, well I'll just add it to the "if cross compiling" branch
[03:52:10] *** Joins: sankha93 (Instantbir@65E1D838.72E7F57E.8B6C1D65.IP)
[03:52:12] * aatch wants a snapshot
[04:03:35] *** Joins: aruniiird (arun@84E199D6.DCDBCF8E.83D0DF30.IP)
[04:06:30] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[04:06:30] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/l-vvgw
[04:06:30] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[04:09:31] <xenocons> wonder why it seems to be extracting rustllvm forever hmm
[04:09:35] <xenocons> maybe make -j4 was a bad idea
[04:09:54] <Jeaye> -j4 is good
[04:09:57] <cmr> xenocons: yeah -j on windows is like 30 different kinds of broken
[04:10:06] <Jeaye> Ahh, Windows.
[04:11:06] <xenocons> yah makes sense
[04:14:47] <xenocons> blast
[04:14:50] <xenocons> incomming didnt build
[04:15:17] <xenocons> is this expected? 
[04:15:19] <xenocons> std.rc:38:0: 38:48 error: multiple matching crates for `std`
[04:16:43] <dbaupp> xenocons: yes
[04:17:06] <xenocons> k
[04:17:07] *** Quits: joelteon (joel@moz-82AAB099.rs) (Quit: bye)
[04:17:08] <dbaupp> xenocons: go into x86-.../stage[012] and delete the oldest version of the std crate
[04:17:19] <dbaupp> sorry, stage[012]/lib
[04:17:29] <dbaupp> (I think)
[04:17:48] *** Joins: joelteon (joel@moz-82AAB099.rs)
[04:18:05] <xenocons> i686-pc-mingw32/stage0,1,2,3
[04:18:33] <aatch> ok, so thats cross-compiling jemalloc fixed.
[04:19:02] <xenocons> when you say std crate, is that std-<hash>-0.7.pre.dll
[04:19:11] <dbaupp> yeah
[04:19:12] <aatch> xenocons, correct
[04:19:14] <xenocons> k
[04:21:08] <xenocons> there was also a strange std.dll that was 0 bytes
[04:21:17] <flu_> lol
[04:21:25] <flu_> super lightweight standard library
[04:21:29] <xenocons> heh
[04:21:33] <aatch> thats to satisfy make dependencies
[04:21:38] <xenocons> i deleted it, seems to be building now
[04:21:55] <aatch> since the name of the real library is unpredictable.
[04:22:01] <xenocons> ah
[04:22:26] <xenocons> btw, all this 'unnecessary unsafe blocks' warnings, are they legacy stuff to be removed?
[04:23:21] <aatch> xenocons, pretty much.
[04:23:27] <xenocons> cool
[04:23:36] <cmr> just waiting for a snapshot
[04:23:38] <aatch> The snapshot compiler wouldn't build without the unsafe blocks
[04:23:49] <dbaupp> aatch: are they actually safe?
[04:23:51] <cmr> no
[04:23:55] <cmr> they call unsafe methods
[04:23:57] <xenocons> damnit, removing std.dlls causes same multiple crate issue to reappear
[04:24:14] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke. It's all a joke.)
[04:24:15] <dbaupp> "unsafe { *count_ptr += 1; }"
[04:24:28] <aatch> dbaupp, all extern fns are considered unsafe
[04:24:50] <aatch> which annoys some people, but I think it makes sense. Rust has no idea what those functions do.
[04:24:53] <dbaupp> is supposedly unnecessary, and that doesn't call extern or method
[04:25:00] <dbaupp> aatch: yeah, I know that
[04:25:01] <xenocons> aatch: i agree with the stance
[04:25:37] <aatch> dbaupp, assuming that count_ptr is a *-ptr, that should be considered unsafe.
[04:25:45] <dbaupp> aatch: yes it is
[04:25:56] *** Joins: quvarxa (chatzilla@moz-60654F71.lns21.adl2.internode.on.net)
[04:26:13] <dbaupp> aatch: all these blocks appeared when the new unsafe checker landed so I think that it's possibly buggy
[04:26:24] <aatch> Oh, so you mean the snapshot thinks it unnecessary?
[04:26:40] <dbaupp> snapshot and bootstrapped
[04:26:51] <aatch> but not stage2?
[04:27:14] <dbaupp> well, definitely stage1 & stage2, not sure about stage0
[04:27:21] <aatch> hmm, weird.
[04:27:47] *** Joins: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net)
[04:28:00] <aatch> bah! still can't cross-compile on linux.
[04:28:03] <dbaupp> rusti: unsafe fn f() {} unsafe { do std::task::spawn { unsafe { f() } } }
[04:28:04] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/ZViQ
[04:28:23] <dbaupp> I'm pretty sure that inner unsafe *is* necessary
[04:28:32] *** Quits: wilsonk|2 (kvirc@moz-39EFBFC2.cg.shawcable.net) (Ping timeout)
[04:28:32] <dbaupp> at least, should be necessary
[04:28:45] <dbaupp> rusti: unsafe fn f() {} unsafe { do std::task::spawn { f() } }
[04:28:46] -rusti- ()
[04:29:14] *** Joins: mflamer (Mibbit@moz-C6ED16AA.hsd1.ca.comcast.net)
[04:29:19] <aatch> its considered unnecessary because it's already in an unsafe block.
[04:29:29] <dbaupp> aatch: except it's in a closure
[04:29:44] <aatch> so? unsafe doesn't have any meaning past the checker
[04:29:44] <dbaupp> and that closure should be safe
[04:30:39] <dbaupp> I think nmatsakis was talking about this a while ago
[04:31:04] <dbaupp> the thing that recieves the closure thinks it's safe, so it should look safe
[04:31:14] <dbaupp> (in isolation)
[04:31:48] *** Joins: deepdog (deepdog@moz-490E834C.client.mchsi.com)
[04:32:39] *** Joins: eholk (eholk@moz-9AB4D52F.hsd1.ut.comcast.net)
[04:34:35] <aatch> I guess that makes sense
[04:35:17] *** Joins: brson (brson@DA348D07.AD1E507F.3688B332.IP)
[04:35:17] *** ChanServ sets mode: +o brson
[04:41:30] *** Quits: deepdog (deepdog@moz-490E834C.client.mchsi.com) (Client exited)
[04:49:43] *** Joins: steven_is_false (user@moz-144077DE.bchsia.telus.net)
[04:51:28] *** Joins: ghrust (ghrust@FD7BC443.6A2AE50.F3114085.IP)
[04:51:28] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/N7BU4Q
[04:51:28] *** Parts: ghrust (ghrust@FD7BC443.6A2AE50.F3114085.IP) ()
[04:51:29] *** Joins: ghrust (ghrust@FD7BC443.6A2AE50.F3114085.IP)
[04:51:29] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/NO1aTg
[04:51:29] <ghrust> 13rust/06auto 14b6cccb3 15Alex Crichton: Track the source of the type_target and value_target separately for ImportResolutions
[04:51:29] <ghrust> 13rust/06auto 148f4f0be 15bors: auto merge of #7038 : alexcrichton/rust/issue-6935, r=catamorphism...
[04:51:30] *** Parts: ghrust (ghrust@FD7BC443.6A2AE50.F3114085.IP) ()
[04:51:57] *** Joins: yoshi (Mibbit@993DE0B4.AA18ECD0.580BDDEE.IP)
[04:52:17] <aatch> jemalloc seems to be cross-compiling now.
[04:53:15] <xenocons> nice
[04:53:35] <xenocons> aatch: is that in incomming? (so if i get incomming compiling i will get jemalloc?)
[04:53:53] <aatch> xenocons, jemalloc is already in incoming.
[04:54:04] <aatch> and you should be able to build it fine for a local build
[04:54:15] <xenocons> ah
[04:54:17] <aatch> it's just that jemalloc doesn't seem to be set up for cross-compiling.
[04:54:36] <xenocons> is there a way to specify a local build instead of the stage stuff?
[04:54:38] <aatch> so incoming-full fails trying to build i686
[04:54:40] <xenocons> (guessing via ./configure)
[04:54:47] *** Joins: deepdog (deepdog@moz-490E834C.client.mchsi.com)
[04:54:49] <aatch> xenocons, not really. no.
[04:54:57] <xenocons> k
[04:55:39] *** Joins: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP)
[04:57:24] <dbaupp> xenocons: there is `./configure --enable-local-rust --local-rust-root=my/directory/foo/bar`
[04:57:52] <dbaupp> and that will use that Rust, rather than the stage0 compiler for bootstrapping... not sure if that's what you're talking about?
[04:58:34] *** cscottnet is now known as cscottnet_away
[05:00:18] <xenocons> ahh, well whatever is happening in stage0 isnt working for me on incomming
[05:00:33] <xenocons> i figured the staging was just to bootstrap stuff so that rust could be compiled with rustc?
[05:01:02] *** Joins: otters (joel@3E7A42CF.BE63433B.EE6E63A5.IP)
[05:01:03] *** Quits: joelteon (joel@moz-82AAB099.rs) (Quit: bye)
[05:01:47] <xenocons> (or is this incorrect)
[05:02:31] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[05:03:39] *** Quits: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP) (Quit: Leaving)
[05:03:40] *** cscottnet_away is now known as cscottnet
[05:04:56] *** Quits: deepdog (deepdog@moz-490E834C.client.mchsi.com) (Client exited)
[05:05:04] *** Joins: deepdog (deepdog@moz-490E834C.client.mchsi.com)
[05:06:09] <dbaupp> xenocons: yeah, the bootstrap is required becuase rustc needs a Rust compiler to build itself
[05:06:15] *** Quits: devbug (quassel@moz-E1DE087C.bchsia.telus.net) (Client exited)
[05:07:06] <aatch> Hurrah! it (seems to) cross compile properly.
[05:08:31] <dbaupp> snapshot time? :D
[05:09:40] <aatch> dbaupp, that's the goal.
[05:10:00] *** Quits: mflamer (Mibbit@moz-C6ED16AA.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[05:10:30] *** Quits: wuwei|offline (wuwei@1A513F49.818D7924.FAA9ED67.IP) (Connection reset by peer)
[05:10:58] <aatch> fixing jemalloc is step one, since now it builds.
[05:11:04] *** Joins: wuwei|offline (wuwei@1A513F49.818D7924.FAA9ED67.IP)
[05:17:17] <xenocons> good stuff
[05:17:38] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[05:18:46] *** Joins: SimonSapin (simon@9174376A.54328AEC.9C6A40AF.IP)
[05:19:46] *** Quits: deepdog (deepdog@moz-490E834C.client.mchsi.com) (Client exited)
[05:20:35] *** Quits: aatch (aatch@moz-B437F499.pocketrent.com) (Client exited)
[05:21:20] *** Quits: otters (joel@3E7A42CF.BE63433B.EE6E63A5.IP) (Quit: bye)
[05:21:22] *** Joins: aatch (aatch@moz-B437F499.pocketrent.com)
[05:21:38] *** Joins: lmandel (lmandel@FE1F74.86ED00A7.971E19F6.IP)
[05:21:59] <dbaupp> strcat: another 300 lines gone from str!
[05:22:51] *** Joins: pyrac (pyrac@moz-96C2FD1F.w109-214.abo.wanadoo.fr)
[05:23:45] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[05:25:04] *** Joins: tav (tav@moz-F64BC922.range86-145.btcentralplus.com)
[05:26:07] <bjz_> yay!
[05:26:24] *** Joins: joelteon (joel@3E7A42CF.BE63433B.EE6E63A5.IP)
[05:26:29] <dbaupp> it's "only" 3500 lines long now... :/
[05:29:02] *** Quits: Earnestly (earnest@6A917A59.5E1FD793.39C00A7A.IP) (Ping timeout)
[05:29:55] *** Joins: doomlord (doomlod@moz-8F385DB0.range109-153.btcentralplus.com)
[05:31:52] <steven_is_false> I find it interesting that the two conflicting for loop schemes are corecursive types (a seed, and a generator, or an iterator, âˆƒA, A âˆ§ A -> f A), and recursive types (a map function, or âˆ€A, (f A -> A) -> A)
[05:32:33] *** Quits: eholk (eholk@moz-9AB4D52F.hsd1.ut.comcast.net) (Quit: eholk)
[05:34:22] <dbaupp> steven_is_false: aren't they duals of each other?
[05:34:29] <steven_is_false> dbaupp: Yeah.
[05:34:32] * dbaupp doesn't know much type theory
[05:35:03] <steven_is_false> It's just interesting to get a theoretical basis for external iterators versus internal iterators.
[05:35:18] <steven_is_false> I think I'm slightly wrong with the types though.
[05:36:19] <steven_is_false> It's Scott Encoding (cons : a -> [a] -> [a]) versus Church Encoding (cons : âˆ€ B. ((a -> B -> B) -> B) -> [a]
[05:38:20] *** Quits: shachaf (shachaf@moz-F37E0395.members.linode.com) (Quit: leaving)
[05:39:11] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.1)
[05:41:47] *** Joins: alisdair (textual@moz-EBE9F394.bchsia.telus.net)
[05:42:40] *** Quits: dymk (dymk@44EEE21C.A6E21E6E.5E500FC7.IP) (Quit: Leaving)
[05:45:13] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[05:45:28] *** Joins: ghrust (ghrust@AC22872E.6A2AE50.F3114085.IP)
[05:45:28] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/NO1aTg
[05:45:28] *** Parts: ghrust (ghrust@AC22872E.6A2AE50.F3114085.IP) ()
[05:47:12] <steven_is_false> Uggh, How do I copy a borrowed vector into an owned vector?
[05:47:38] <steven_is_false> NVM
[05:48:36] <Eridius> .to_owned()
[05:49:44] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[05:52:04] *** Quits: aruniiird (arun@84E199D6.DCDBCF8E.83D0DF30.IP) (Ping timeout)
[05:52:05] *** Quits: wuwei|offline (wuwei@1A513F49.818D7924.FAA9ED67.IP) (Connection reset by peer)
[05:52:21] *** Quits: steven_is_false (user@moz-144077DE.bchsia.telus.net) (Ping timeout)
[05:52:31] *** Joins: wuwei|offline (wuwei@1A513F49.818D7924.FAA9ED67.IP)
[05:53:21] *** Joins: bitshifternz (cam@moz-3971750F.static.tpgi.com.au)
[05:56:32] *** Quits: lmandel (lmandel@FE1F74.86ED00A7.971E19F6.IP) (Quit: lmandel)
[05:56:48] *** Quits: yoshi (Mibbit@993DE0B4.AA18ECD0.580BDDEE.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:11:06] *** Joins: steven_is_false (user@moz-144077DE.bchsia.telus.net)
[06:11:47] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Quit: Eaten by a grue)
[06:14:03] *** Parts: steven_is_false (user@moz-144077DE.bchsia.telus.net) (ERC Version 5.3 (IRC client for Emacs))
[06:19:46] *** Quits: mitsuhiko (mitsuhiko-@moz-BC29B73E.srv.pocoo.org) (Ping timeout)
[06:21:54] *** Joins: fabiand (fabiand@moz-24FEA205.adsl.alicedsl.de)
[06:22:10] *** Joins: mitsuhiko (mitsuhiko-@moz-BC29B73E.srv.pocoo.org)
[06:24:18] *** Quits: pyrac (pyrac@moz-96C2FD1F.w109-214.abo.wanadoo.fr) (Quit: pyrac)
[06:24:24] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[06:24:40] <Eridius> cmr: I just tried to use extra::term and it claims "could not find terminfo entry for xterm-256color"
[06:24:54] *** Quits: Amanieu (amanieu@moz-D5D10CA8.halls.manchester.ac.uk) (Ping timeout)
[06:27:08] *** Joins: mleise (marco@moz-3468AB5B.pools.arcor-ip.net)
[06:27:42] <Eridius> rusti: "xterm".substr(0, 1)
[06:27:46] -rusti- "x"
[06:28:30] *** Joins: Amanieu (amanieu@moz-D5D10CA8.halls.manchester.ac.uk)
[06:29:07] <Eridius> cmr: on my system, /usr/share/terminfo's subdirs are named after the hex of the first char, not the first char itself
[06:29:10] <Eridius> so I have dir 78 instead of x
[06:29:38] <Eridius> on my linode, it looks like the terminfo is actually in /lib/terminfo/. I haven't checked if extra::term finds it, but I'm doubtful
[06:30:16] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[06:30:44] <bitshifternz> I'm trying to understand modules better - why is it that `use foo;` fails to compile when doing `mod foo;`?  It fails with "`use` and `extern mod` declarations must precede items `use foo;`"
[06:31:07] <Eridius> bitshifternz: put the `use foo` before the `mod foo`
[06:31:16] <Eridius> `mod foo` is an item. use declarations need to come before all items
[06:32:26] <bitshifternz> wow, that was a simple fix. I was stuck on that for ages :)
[06:32:39] <bjz_> dbaupp: http://www.mefeedia.com/video/26348171
[06:33:11] *** Quits: Nisstyre (wes@moz-FD86289.netflash.net) (Quit: Leaving)
[06:33:25] <aatch> r? https://github.com/mozilla/rust/pull/7041
[06:33:58] <Eridius> rusti: "".substr(0, 1)
[06:33:59] -rusti- rust: task failed at 'assertion failed: end < l', /build/rust-incoming-git/src/rust/src/libstd/str.rs:1897
[06:33:59] -rusti- rust: domain main @0x7f464ac1f810 root task failed
[06:33:59] -rusti- application terminated with error code 101
[06:34:35] <bitshifternz> what does an item entail exactly? I guess I'm confused because I'm coming from C++ where you'd do #include <foo>; using namespace foo;
[06:34:59] <Eridius> bitshifternz: pretty much everything besides extern mod and use ;)
[06:36:42] *** zz_kimundi is now known as kimundi
[06:37:15] *** Joins: aruniiird (arun@92D70115.B332A52C.E3D0A897.IP)
[06:37:16] <bitshifternz> so `mod foo;` from another file is kind of equivalent to declaring something as a mod inline?
[06:37:23] <dbaupp> bitshifternz: fn, mod, struct, enum, trait, impl and type are the most common items
[06:37:26] <dbaupp> bitshifternz: yes
[06:37:30] <bitshifternz> ok
[06:37:40] <dbaupp> bjz_: watching it now
[06:38:01] <bitshifternz> why is it that the use statement has to come first?
[06:38:08] *** Joins: fenster (Mibbit@E362A497.7950DEC2.32D6F566.IP)
[06:38:18] <bjz_> dbaupp: thought you might find it interesting re. rusp
[06:38:52] *** Quits: fenster (Mibbit@E362A497.7950DEC2.32D6F566.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:38:58] *** Joins: Blei (philipp@moz-96D25F7A.cust.bluewin.ch)
[06:39:18] <Eridius> rusti: "â€¦".substr(0,1)
[06:39:19] -rusti- "\u2026"
[06:39:41] <dbaupp> bitshifternz: it's the order in which Rust looks for item (i.e. the resolution order) 
[06:45:10] <aatch> dbaupp, more accurately, it reflects shadowing rules
[06:45:25] <dbaupp> aatch: ah, yes, that's the name I was looking for
[06:45:34] <aatch> so mod shadows use which shadows extern mod
[06:48:03] *** Joins: EXetoC (ex@moz-2DBEB1E4.customer.t3.se)
[06:48:35] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[06:49:35] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[06:50:56] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[06:52:50] <aatch> brson, mind r+ing this: https://github.com/mozilla/rust/pull/7041
[06:55:02] *** aatch is now known as aatch|gone
[06:56:23] <Eridius> wat, librustpkg's hash changed
[06:57:10] *** Quits: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net) (Quit: Don't tell them I was here...)
[07:00:15] *** Quits: Amanieu (amanieu@moz-D5D10CA8.halls.manchester.ac.uk) (Quit: Lost terminal)
[07:00:57] <dbaupp> bjz_: I didn't realise proper macros are so recent!
[07:08:30] *** Quits: sankha93 (Instantbir@65E1D838.72E7F57E.8B6C1D65.IP) (Quit: Instantbird 1.4 -- http://www.instantbird.com)
[07:09:00] *** Joins: Amanieu (amanieu@moz-D5D10CA8.halls.manchester.ac.uk)
[07:11:47] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[07:11:47] *** ChanServ sets mode: +o dherman
[07:12:02] *** Quits: SimonSapin (simon@9174376A.54328AEC.9C6A40AF.IP) (Quit: Leaving.)
[07:12:55] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[07:12:59] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[07:12:59] *** ChanServ sets mode: +o dherman
[07:13:44] *** Joins: doener (bs@moz-AA189A5A.unitymedia.biz)
[07:15:28] <dbaupp> bjz_: cool talk!
[07:17:34] <brson> aatch|gone: thanks
[07:17:35] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[07:17:46] <Eridius> GAHH. Just updated to latest incoming, and now I have an ICE where I didn't before
[07:18:10] <Eridius> oh wait, nm. It's the same ICE I keep getting, when I forget to rebuild my dependent libraries
[07:21:03] *** Joins: victorporof (victorporo@FE2F04DC.63E19875.D111398B.IP)
[07:21:31] *** Quits: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net) (Client exited)
[07:21:31] *** Joins: ghrust (ghrust@AD60B2E3.6A2AE50.F3114085.IP)
[07:21:31] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/J5Insw
[07:21:31] *** Parts: ghrust (ghrust@AD60B2E3.6A2AE50.F3114085.IP) ()
[07:21:33] *** Joins: ghrust (ghrust@614D05BD.6A2AE50.F3114085.IP)
[07:21:33] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/EwjdoA
[07:21:33] <ghrust> 13rust/06auto 14e9c309c 15James Miller: STATIC_PAGE_SHIFT for cross-compiling jemalloc...
[07:21:33] <ghrust> 13rust/06auto 14cf536e0 15James Miller: Pass the correct build flags to jemalloc...
[07:21:35] <ghrust> 13rust/06auto 142ff6b29 15bors: auto merge of #7041 : Aatch/rust/incoming, r=brson...
[07:21:37] *** Parts: ghrust (ghrust@614D05BD.6A2AE50.F3114085.IP) ()
[07:24:11] <Eridius> aww crud, terminfo doesn't implement if expressions so fixing the terminfo lookup still doesn't give me color
[07:25:42] <engla> rusti: "â€¦".substr(1,1)
[07:25:44] -rusti- rust: task failed at 'assertion failed: is_char_boundary(s, start)', /build/rust-incoming-git/src/rust/src/libstd/str.rs:1893
[07:25:44] -rusti- rust: domain main @0x7f7c57c1f810 root task failed
[07:25:44] -rusti- application terminated with error code 101
[07:26:04] <Eridius> rusti: "â€¦".len()
[07:26:05] -rusti- 3
[07:26:19] <Eridius> engla: substr uses a byte start index, but a character count
[07:26:29] <engla> yes, that's what I wanted to test
[07:26:46] *** Joins: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net)
[07:27:23] <engla> it's a tricky interface
[07:28:45] *** Quits: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net) (Ping timeout)
[07:31:53] *** Joins: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net)
[07:33:45] <engla> .slice() could be the fast interface and .substr() the safe one. so substr only using char offsets
[07:34:21] <Eridius> engla: every interface outside of str::raw needs to be saffe
[07:34:23] <Eridius> s/ff/f/
[07:34:42] <engla> ok safe is the wrong word.. you see above
[07:34:54] <engla> substr would not risk splitting chars
[07:34:55] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[07:35:00] <engla> substr would take char indices
[07:35:05] *** Quits: brson (brson@DA348D07.AD1E507F.3688B332.IP) (Quit: leaving)
[07:38:14] <engla> it's discussed in https://github.com/mozilla/rust/issues/1849
[07:38:24] *** Joins: true_droid (Adium@moz-123FD9B8.beck.volia.net)
[07:38:30] <engla> but since there is both .slice and .substr they could each have their byte vs char index idea
[07:39:28] <Eridius> I still think that the whole idea of using a bytewise datatype that requires all operations leave it as a valid utf-8 string is a bad idea
[07:40:13] *** Quits: alisdair (textual@moz-EBE9F394.bchsia.telus.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[07:40:53] *** Joins: alisdair (textual@moz-EBE9F394.bchsia.telus.net)
[07:40:57] <engla> (the method .substr is used extremely rarely in the rust src, so it would be easy to change it)
[07:41:46] <engla> it will trip up people
[07:43:31] <mark_edward> rusti: println("Dusseldorf".len().to_str()); println("DÃ¼sseldorf".len().to_str())
[07:43:33] -rusti- 10
[07:43:33] -rusti- 11
[07:43:33] -rusti- ()
[07:46:28] <mark_edward> rusti: for "DÃ¼sseldorf".each_char |&c| { println(fmt!("%?",*c)); }
[07:46:30] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/JODO
[07:48:04] <mark_edward> rusti: for "DÃ¼sseldorf".each_char |c| { println(fmt!("%?",c)); }
[07:48:10] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/bGEM
[07:48:34] <mark_edward> rusti: for ~"DÃ¼sseldorf".each_char |c| { println(fmt!("%?",c)); }
[07:48:35] -rusti- <anon>:10:26: 10:35 error: `for` must be followed by a block call
[07:48:35] -rusti- <anon>:10          for ~"DÃ¼sseldorf".each_char |c| { println(fmt!("%?",c)); }
[07:48:35] -rusti-                                     ^~~~~~~~~
[07:48:35] -rusti- application terminated with error code 101
[07:49:08] <mark_edward> rusti: let s = ~"DÃ¼sseldorf"; for s.each_char |c| { println(fmt!("%?",c)); }
[07:49:09] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/PJFU
[07:49:23] <engla> Eridius: you can say .substr with char indices would be sure to never fail if the programmer handles char indices correctly.. .slice requires not only keeping track of byte index bounds but of char boundaries
[07:49:34] <engla> that's the kind of 'safe' I meant.
[07:50:06] <mark_edward> rusti: let s = ~"DÃ¼sseldorf"; for s.each_char_i |_,c| { println(fmt!("%?",c)); }
[07:50:07] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/MCha
[07:51:06] <mleise> Do you want to "iterate" a UTF-8 string?
[07:52:11] <mark_edward> rusti: use std::str; let s = ~"DÃ¼sseldorf"; for str::each_char(s) |c| { println(fmt!("%?",c)); }
[07:52:12] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/KQOH
[07:52:13] <mleise> D already failed at that :p. foreach iterates byte-wise, all proper functions convert and iterate by UTF-32 char.
[07:52:13] <mark_edward> yes
[07:52:20] <engla> new iterators landed
[07:52:25] <engla> rusti: use std::iterator::*; let s = ~"RÃ¤v"; for s.iter().advance |c| { println(fmt!("%?",c)); }
[07:52:26] -rusti- 'R'
[07:52:26] -rusti- '\xe4'
[07:52:26] -rusti- 'v'
[07:52:26] -rusti- ()
[07:52:28] <mleise> What does Rust do?
[07:52:43] <engla> str has iter() and bytes_iter()
[07:52:51] <engla> the former is now an iter of char
[07:53:03] <mleise> and char is? utf-32?
[07:53:17] <engla> something that represents a unicode codepoint yes
[07:53:26] <mleise> still fail
[07:53:58] <mleise> it misses diacritical combining characters that sometimes make a letter
[07:54:04] <mark_edward> how recent is this iter business?
[07:54:15] <engla> mark_edward: the last few days 
[07:54:18] <engla> on incoming
[07:54:25] <mark_edward> my rustc was built June 2, and says ~str has no iter method
[07:54:27] <mark_edward> oh ok
[07:54:38] *** Joins: sankha93 (Instantbir@CF32CF7B.44798FA9.8B6C1D65.IP)
[07:54:48] <kimundi> thats not fail, thats incomplete...
[07:54:54] <mleise> If you want to iterate by visible character you need to return arbitrarily long sequenses
[07:55:12] <mleise> kimundi: It thinks it reaches a goal, but doesn't
[07:55:25] <engla> maybe it doesn't think that
[07:55:55] <mleise> so it is without purpose? a useless functionality? :p
[07:56:01] <kimundi> someone needs to write code to handle graphene clusters
[07:58:05] <kimundi> no, the problem is that the performance and ease of use get worse on the way u8,char,grapheme
[07:58:18] *** Joins: pyrac (pyrac@29E99D66.73C89388.AD05C589.IP)
[07:58:21] <mleise> I tell you what happened. The author of iter() didn't care, because all the writing systems he/she knows work within single graphemes
[07:59:16] <dbaupp> mleise: it's more that Rust doesn't have proper unicode support *at all*
[08:00:34] <dbaupp> mleise: I'm pretty sure there is not a way to determine if a given collection of code points is a grapheme or not
[08:00:51] <mleise> and "proper" is the keyword here. when Rust gets support, people don't want their character split from the accents because the implementation was a hack ;)
[08:01:08] <dbaupp> correct
[08:03:04] <engla> mleise: your assertion that everyone that worked on it is ignorant, is just offensive and wrong. tradeoffs are made in every program
[08:03:07] <mleise> sorry, we had long discussions on the D news group about the definition of Unicode support and seeing the next language implement them as "we know about graphemes, yay" made me :*(
[08:03:27] *** Quits: cdidd (cdidd@moz-D8DCABD8.broadband.corbina.ru) (Ping timeout)
[08:04:10] *** Joins: koomi (koomi@moz-56053A3B.pools.arcor-ip.net)
[08:04:32] <mleise> engla: I'd like to ask the people who worked on it, but I don't know who they are.
[08:05:03] <dbaupp> me
[08:05:12] <dbaupp> I wrote .iter() at least
[08:05:50] <mleise> dbaupp: Did you think that grapheme cluster support is required to split text by length and such?
[08:06:03] <mleise> or were you ignorant about the issue? :)
[08:06:20] <dbaupp> to be honest, I didn't really "write" them, I just copied them from the old each_* functions
[08:06:32] <dbaupp> but no, I understand the issue, but there is no way to express it in Rust yet
[08:07:04] <mleise> copy paste satisfies my definition of ignorance
[08:07:10] <dbaupp> we need ICU bindings or something
[08:07:35] <mleise> copy & paste made the railways as wide as roman chariots
[08:08:14] <mleise> ok, that doesn't add to the topic, but is a nice story none the less :p
[08:09:01] <dbaupp> are you saying that I should've just whipped up proper unicode support?
[08:09:50] <dbaupp> I'm currently working on removing huge amounts of duplication and cruft from str, *not* making it handle unicode properly... that can come later.
[08:09:51] <mleise> dbaupp: yes, more or less.
[08:10:07] <dbaupp> mleise: are you volunteering? :)
[08:10:14] <mleise> no, I'm using D
[08:11:15] <mleise> (as in: it doesn't have proper unicode support as we define it, either, but it is more usable today)
[08:11:52] <mleise> http://www.truthorfiction.com/rumors/r/railwidth.htm#.UbWJC4bFu1k
[08:12:15] <kimundi> mleise: If you only are here to complain about unfinished libraries then you should really leave this room...
[08:12:39] *** Quits: solancile (solancile@moz-A1CFFAE5.hsd1.wa.comcast.net) (Ping timeout)
[08:12:48] *** Joins: Palmik (palmik@moz-5CA3F354.pks.muni.cz)
[08:13:16] <Sodel_the_V> mleise: I'm pretty sure posting something on "how to do Unicode" right would be more useful than more exposition on the width of railroad tracks.
[08:13:17] <mleise> kimundi: No, I come here to argue with q66, ask for how some things are implemented, and call out warnings.
[08:13:37] * Sodel_the_V reads anyway
[08:13:51] <kimundi> That were no warnings, that was bashing... 
[08:13:57] *** Joins: pancake (pancake@moz-2D4AB1E5.dynamic.jazztel.es)
[08:14:04] <dbaupp> mleise: there's been quite a lot of discussion about unicode btw, e.g. https://encrypted.google.com/search?hl=en&q=libicu%20site%3Ahttps%3A%2F%2Fmail.mozilla.org%2Fpipermail%2Frust-dev%2F
[08:14:08] <pancake> where can i find some documentation about asm!?
[08:14:27] <dbaupp> pancake: nowhere, I think, unfortunately
[08:14:30] <dbaupp> pancake: :(
[08:14:39] <kimundi> The fact that rust lacks grapheme code in the libraries is a known bug. Resolving those issues is part of a larger design decission about how to implement propoer unicode support
[08:14:44] <pancake> and any code example? :P
[08:15:30] <dbaupp> pancake: i'm not even sure it works... :S
[08:15:43] <dbaupp> not properly anyway
[08:15:52] <pancake> http://lolcathost.org/b/asm.rs
[08:16:19] <pancake> this is just a hello world and it works, but im interested in passing vars from/to asm/rust
[08:16:27] <kimundi> The options are: "Implement all unicode handling code in rust", which is going to be a LOT of work if you want to be mostly complete in coverage, OR bind an existsing unicode C librarby of wich the nice ones have incompatible licenses and the only compatible one is 20mb big.
[08:16:58] <dbaupp> pancake: oh, asm!(<asm> : <outputs> : <inputs> : <clobbers> : <options>)
[08:17:25] <mleise> kimundi: I see, but surely splitting a string by grapheme clusters isn't rocket science, or is it really so difficult?
[08:17:26] <kimundi> And seeing how the language still struggles to stabilise, building out proper unicode support IS SIMPLY NOT A PRIORITY right now.
[08:17:26] <dbaupp> pancake: where outputs and inputs are like C `"r"(foo)`, or `"+r(foo)` or whatever
[08:17:44] <dbaupp> mleise: it is when you can't even identify grapheme clusters
[08:18:11] <mleise> dbaupp: But isn't that just any sequence of combining characters?
[08:18:13] <dbaupp> pancake: not many constraints are recognised though
[08:18:17] <mleise> i.e. a table lookup
[08:18:32] <dbaupp> mleise: I'm not sure we have the tables?
[08:18:33] *** Joins: ghrust (ghrust@5FEF1C87.6A2AE50.F3114085.IP)
[08:18:33] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/EwjdoA
[08:18:33] *** Parts: ghrust (ghrust@5FEF1C87.6A2AE50.F3114085.IP) ()
[08:18:43] <mleise> plus maybe \r\n
[08:19:27] <mleise> dbaupp: oh ok... that's a different story
[08:19:57] <kimundi> mleise: The table needs to live somewhere. case folding also needs a large table. so does unicode cathegories, wich currently HAVE a large table. Then there needs to be local support. And support for normalisation.
[08:20:51] <mleise> kimundi: That's mostly outside of what is required for an iterator, isn't it?
[08:20:51] *** Joins: SimonSapin (simon@88F51059.F3BBB17D.144F44FA.IP)
[08:21:52] <mleise> Anyway my bashing came from seeing iteration by char and by grapheme. It evoked some memories.
[08:22:22] <kimundi> Hacking in grpaheme support could propalyn be done today if someone writes a short script to autogenerate the tables, but the issue is that that doesn't solve the unicode situation, just improves it a bit. Maybe that's what is going to happen in the end, but first the devs need to make a final decision about how to implement the whole unicode subsystem in general.
[08:22:28] <mleise> Since usually what you want is to split by displayed character
[08:22:45] <dbaupp> actually, I think std::unicode has the table
[08:23:00] <kimundi> dbaupp: Thats for cathegories
[08:23:18] <dbaupp> kimundi: yeah, it's got the Mn combining character category though :)
[08:23:33] <mleise> :)
[08:23:35] <pancake> yay i got a segfault in the compiler
[08:23:44] <kimundi> Maybe that's all thats needed, I don't know :)
[08:24:05] <kimundi> I'm just replicating what has been sayd in thje past about thwe situation here.
[08:24:05] <pancake> http://lolcathost.org/b/asm.rs
[08:24:10] <pancake> can anyone test this on git?
[08:25:13] <mleise> I don't know what is required either. The discussion stopped at "grapheme support is not enough" back then.
[08:25:16] <pancake> i have rust 0.6 here and this code crash the compiler
[08:25:33] <mleise> I'm going to read http://useless-factor.blogspot.de/2007/08/unicode-implementers-guide-part-4.html. Let's see what he has to say about the matter.
[08:25:43] <Blei> pancake: crashes here as well, but it's supposed to be "r(foo)" iirc
[08:26:10] <dbaupp> pancake: "=r" seems to work
[08:26:33] <pancake> should i open a bug?
[08:26:36] <kimundi> mleise: For what it's worth, having th abaility to iterate over visible charactes just as easily as over bytes is something that I'd also want to see in the library. 
[08:27:04] <dbaupp> kimundi: there should be bytes, codepoints and graphemes
[08:27:20] <kimundi> yes the should
[08:27:50] <dbaupp> kimundi: it's "easy" enough to do... it "just" requires someone get their hands dirty and write the code
[08:28:01] <kimundi> and 'iter_bytes()', 'iter_codepoints' and 'iter_graphemes'
[08:28:16] <kimundi> Yeah
[08:28:33] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[08:29:12] <dbaupp> jensnockert: hej... brson isn't so keen on the interpolation functions being in std
[08:29:46] <dbaupp> pancake: you could... you should search for the LLVM assertion message first though
[08:30:15] <pancake> too busy :X
[08:31:47] *** Quits: Blei (philipp@moz-96D25F7A.cust.bluewin.ch) (Quit: WeeChat 0.4.1)
[08:32:22] <jensnockert> dbaupp: I know, which I think is fair.
[08:32:34] <jensnockert> dbaupp: Move them to extra?
[08:33:49] <dbaupp> jensnockert: that'd be reasonable
[08:34:19] <dbaupp> jensnockert: also, bjz_ was wondering if the bessel functions were necessary in RealExt... what do you think?
[08:34:38] <pancake> what . %0 is no valid register name :?
[08:35:00] <jensnockert> dbaupp: I doubt anyone without very special needs want those functions.
[08:36:15] <dbaupp> rusti: let mut i = 1; unsafe { asm!("addq $0, $0" : "=r"(i)) } i
[08:36:16] -rusti- 280403995297280
[08:36:17] *** Quits: Amanieu (amanieu@moz-D5D10CA8.halls.manchester.ac.uk) (Ping timeout)
[08:36:27] <dbaupp> pancake: ^ (ignoring the fact that it's entirely wrong :( )
[08:37:30] <mleise> kimundi, dbaupp: That blog post is a nice read. It's from the practical point of view of implementing Unicode grapheme breaking. The specs, the typical mistakes, all the good stuff.
[08:37:38] <pancake> $0 isnt an integer?
[08:37:46] *** Joins: Amanieu (amanieu@moz-D5D10CA8.halls.manchester.ac.uk)
[08:38:44] <dbaupp> pancake: seems not... asm! in rust is strange
[08:39:27] <dbaupp> mleise: I'll open an issue about general unicode support... do you have a github account/would you like me to @-mention you?
[08:39:47] <mleise> dbaupp: I have, but no don't mention me please.
[08:40:14] <dbaupp> sure :)
[08:40:25] <pancake> dbaupp: wop i see
[08:40:44] <mleise> maybe link the blog post instead. thats more informative
[08:41:00] <dbaupp> I was going to
[08:42:20] <mleise> I think once you have the tables in place you can split up the open issues like grapheme breaking, upper/lowercase, reversing, etc.
[08:42:36] *** Quits: Amanieu (amanieu@moz-D5D10CA8.halls.manchester.ac.uk) (Connection reset by peer)
[08:43:32] *** Joins: Amanieu (amanieu@moz-D5D10CA8.halls.manchester.ac.uk)
[08:44:14] * mleise comes to think that 90% of ICU's size is lookup tables.
[08:44:19] <pancake> dbaupp: how are numbers in asm!? 
[08:44:51] *** Quits: true_droid (Adium@moz-123FD9B8.beck.volia.net) (Ping timeout)
[08:45:04] <dbaupp> pancake: I don't know... does just a plain literal work?
[08:45:17] <pancake> nope, its mem ref, like in gas
[08:45:25] <dbaupp> :(
[08:45:28] * dbaupp shrugs
[08:45:42] <pancake> mov 0,$0 == %0=[0]
[08:46:11] *** Joins: true_droid (Adium@moz-123FD9B8.beck.volia.net)
[08:48:31] *** Joins: guacamole (Mibbit@C55E9DC6.43D13926.25174B27.IP)
[08:50:25] *** Quits: guacamole (Mibbit@C55E9DC6.43D13926.25174B27.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:53:06] <jensnockert> pancake: Do something like "let mut c = 0u32; let a = 1u32; let b = 2u32; unsafe { asm!("add $2, $0" : "=r"(c) : "0"(a), "r"(b)) }; c" instead.
[08:53:45] <dbaupp> rusti: let mut c = 0u32; let a = 1u32; let b = 2u32; unsafe { asm!("add $2, $0" : "=r"(c) : "0"(a), "r"(b)) }; c
[08:53:46] -rusti- 3
[08:53:55] <jensnockert> rusti: let mut c = 0u32; unsafe { asm!("add $2, $0" : "=r"(c) : "0"(1u32), "r"(2u32)) }; c
[08:53:56] -rusti- 3
[08:53:59] <jensnockert> If you want constants.
[08:54:44] <pancake> :/
[08:54:45] <dbaupp> jensnockert: do you happen to know if clobbers work with asm! ?
[08:55:19] <jensnockert> dbaupp: They should, never used them in Rust though, so cannot be sure.
[08:56:15] <jensnockert> Good chance they don't work though.
[08:57:04] <dbaupp> yeah I've never got them to work
[08:59:10] *** Quits: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net) (Client exited)
[08:59:57] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Quit: Eaten by a grue)
[09:00:51] *** Joins: webber46 (webber46@moz-DC342D45.cust.bredband2.com)
[09:06:18] *** Joins: davbo (dave@moz-3FFA637C.oucs.ox.ac.uk)
[09:07:22] *** Joins: Earnestly (earnest@6A917A59.5E1FD793.39C00A7A.IP)
[09:07:33] *** Joins: Blub\w (wry@moz-6F573CB0.wireless.dyn.drei.com)
[09:07:37] *** Quits: klutzy_ (th@BA61F396.8E859986.ECA1BB11.IP) (Ping timeout)
[09:07:43] *** Joins: klutzy (th@BA61F396.8E859986.ECA1BB11.IP)
[09:07:52] *** Quits: kroisse_ (Kroisse@7CF4064D.E3B51CAE.ECA1BB11.IP) (Ping timeout)
[09:07:58] *** Joins: Kroisse (Kroisse@7CF4064D.E3B51CAE.ECA1BB11.IP)
[09:08:39] *** Quits: quvarxa (chatzilla@moz-60654F71.lns21.adl2.internode.on.net) (Ping timeout)
[09:09:01] *** Joins: quvarxa (chatzilla@moz-60654F71.lns21.adl2.internode.on.net)
[09:09:58] *** Quits: quvarxa (chatzilla@moz-60654F71.lns21.adl2.internode.on.net) (Connection reset by peer)
[09:10:13] *** Quits: IdolfHatler (idolf@moz-4103EACC.pwnies.dk) (Ping timeout)
[09:10:26] *** Joins: quvarxa (chatzilla@moz-60654F71.lns21.adl2.internode.on.net)
[09:10:30] *** Quits: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP) (Ping timeout)
[09:13:23] *** Joins: IdolfHatler (idolf@moz-4103EACC.pwnies.dk)
[09:13:57] *** Joins: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP)
[09:14:07] <mleise> had an idea and made myself mentioned in the issue tracker anyway :p
[09:14:33] *** Quits: nooy (user@moz-2458675D.a146.priv.bahnhof.se) (Client exited)
[09:14:52] *** Quits: thou (thou@moz-1C1CA9F7.fasttrackcomm.net) (Input/output error)
[09:15:57] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Quit: Leaving)
[09:17:38] *** Joins: novabyte (Instantbir@moz-3E0F9699.cable.virginmedia.com)
[09:17:54] *** Quits: alisdair (textual@moz-EBE9F394.bchsia.telus.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[09:20:56] *** Quits: SimonSapin (simon@88F51059.F3BBB17D.144F44FA.IP) (Ping timeout)
[09:21:18] *** Joins: idkfa (idkfa@moz-141F54A4.krasinfo.ru)
[09:22:13] *** Quits: eevee (eevee@moz-A643AA65.evrt.wa.frontiernet.net) (Ping timeout)
[09:22:24] *** Joins: eevee (eevee@moz-A643AA65.evrt.wa.frontiernet.net)
[09:25:55] <kimundi> rusti: use std::iterator::*; "Ñž".iter().collect::<~[char]>()
[09:25:57] -rusti- ~['\u045e']
[09:27:04] *** Quits: Earnestly (earnest@6A917A59.5E1FD793.39C00A7A.IP) (Ping timeout)
[09:27:20] <mleise> rusti: use std::iterator::*; "yÌŒ".iter().collect::<~[char]>()
[09:27:22] -rusti- ~['y', '\u030c']
[09:27:26] <mleise> :p
[09:28:41] <kimundi> rusti: use std::iterator::*; "oÌ‚".iter().collect::<~[char]>()
[09:28:42] -rusti- ~['o', '\u0302']
[09:29:01] <kimundi> rusti: use std::iterator::*; "yÌŒoÌ‚".iter().collect::<~[char]>()
[09:29:02] -rusti- ~['y', '\u030c', 'o', '\u0302']
[09:29:33] <kimundi> rusti: use std::iterator::*; "yÌŒoÌ‚".iter().filter(|c|c!='o').collect::<~[char]>()
[09:29:35] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/HRSF
[09:29:45] <kimundi> rusti: use std::iterator::*; "yÌŒoÌ‚".iter().filter(|&c|c!='o').collect::<~[char]>()
[09:29:46] -rusti- ~['y', '\u030c', '\u0302']
[09:30:17] <kimundi> rusti: "y\u030c\u0302"
[09:30:18] -rusti- "y\u030c\u0302"
[09:31:31] <mleise> rusti: "a\tb"
[09:31:33] -rusti- "a\tb"
[09:32:32] <kimundi> rusti: use std::iterator::*; let mut s = ~""; for "yÌŒoÌ‚".iter().filter(|&c|c!='o').collect::<~[char]>().each |&c| { s.push_char(c) }; s
[09:32:33] -rusti- ~"y\u030c\u0302"
[09:32:54] <kimundi> rusti: use std::iterator::*; let mut s = ~""; for "yÌŒoÌ‚".iter().filter(|&c|c!='o').collect::<~[char]>().each |&c| { s.push_char(c) }; s.pop(); s
[09:32:55] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/ScHY
[09:33:09] <kimundi> rusti: use std::iterator::*; let mut s = ~""; for "yÌŒoÌ‚".iter().filter(|&c|c!='o').collect::<~[char]>().each |&c| { s.push_char(c) }; s.pop_char(); s
[09:33:11] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/fEGN
[09:33:29] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Ping timeout)
[09:33:40] <kimundi> rusti: use std::iterator::*; let mut s = ~""; for "yÌŒoÌ‚".iter().filter(|&c|c!='o').collect::<~[char]>().each |&c| { s.push_char(c) }; s.slice(0, s.len()-2)
[09:33:42] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/FFXO
[09:33:48] <kimundi> rusti: use std::iterator::*; let mut s = ~""; for "yÌŒoÌ‚".iter().filter(|&c|c!='o').collect::<~[char]>().each |&c| { s.push_char(c) }; s.slice(0, s.len()-2).to_str()
[09:33:49] -rusti- ~"y\u030c"
[09:34:09] <kimundi> rusti: "yÌŒ"
[09:34:10] -rusti- "y\u030c"
[09:34:28] <kimundi> ... Ah that explains that :|
[09:34:57] <kimundi> rusti: "y\u030c\u0302"
[09:34:59] -rusti- "y\u030c\u0302"
[09:35:06] <kimundi> rusti: println("y\u030c\u0302");
[09:35:07] -rusti- yÌŒÌ‚
[09:35:07] -rusti- ()
[09:35:17] <kimundi> rusti: println("y\u0302\u030c");
[09:35:18] -rusti- yÌ‚ÌŒ
[09:35:18] -rusti- ()
[09:35:34] <kimundi> rusti: println("y\u0302\u030c\0303");
[09:35:34] -rusti- <anon>:10:16: 10:17 error: unknown string escape: 48
[09:35:35] -rusti- <anon>:10          println("y\u0302\u030c\0303");
[09:35:35] -rusti-                           ^
[09:35:35] -rusti- application terminated with error code 101
[09:35:42] <kimundi> rusti: println("y\u0302\u030c\u0303");
[09:35:43] -rusti- yÌ‚ÌŒÌƒ
[09:35:43] -rusti- ()
[09:35:47] <kimundi> rusti: println("y\u0302\u0303");
[09:35:48] -rusti- yÌ‚Ìƒ
[09:35:48] -rusti- ()
[09:36:05] <kimundi> ah, sorry I'm spamming
[09:36:24] *** Joins: orshem (orshem@19491716.F0FDCE77.E3D28531.IP)
[09:38:08] *** Joins: SimonSapin (simon@88F51059.F3BBB17D.144F44FA.IP)
[09:40:08] *** Quits: SimonSapin (simon@88F51059.F3BBB17D.144F44FA.IP) (Connection reset by peer)
[09:40:28] *** Joins: SimonSapin (simon@88F51059.F3BBB17D.144F44FA.IP)
[09:42:10] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[09:44:33] *** Quits: Jesin (Jessin_@moz-3AD6F09F.res.lehigh.edu) (Ping timeout)
[09:55:46] <mleise> yes, that is spamming. well done. your reputation has now reached a low. all chat has silenced. ;)
[09:56:24] <engla> at least use /query rusti  to sort out the errors
[09:56:59] <engla> the iterator api is really sweet though
[10:02:04] *** Quits: wuwei|offline (wuwei@1A513F49.818D7924.FAA9ED67.IP) (Connection reset by peer)
[10:02:31] *** Joins: wuwei|offline (wuwei@1A513F49.818D7924.FAA9ED67.IP)
[10:06:45] *** Quits: heftig (heftig@moz-F9D278E1.dip0.t-ipconnect.de) (Ping timeout)
[10:09:27] *** Joins: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net)
[10:11:19] *** Quits: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net) (Ping timeout)
[10:14:11] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[10:14:37] *** Quits: Blub\w (wry@moz-6F573CB0.wireless.dyn.drei.com) (Quit: bbl)
[10:15:29] *** kimundi is now known as zz_kimundi
[10:17:14] *** Joins: heftig (heftig@moz-F25B4C08.dip0.t-ipconnect.de)
[10:19:23] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[10:20:27] <mark_edward> l
[10:22:33] *** Joins: pnkfelix (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net)
[10:23:43] *** Quits: pyrac (pyrac@29E99D66.73C89388.AD05C589.IP) (Quit: pyrac)
[10:28:36] *** Joins: MaikKlein (maik@moz-C731CFBB.dip0.t-ipconnect.de)
[10:30:49] <pnkfelix> nmatsakis: ping
[10:31:25] *** Quits: dualhbridge (dad@moz-9FEE6D3B.maine.res.rr.com) (Ping timeout)
[10:31:41] *** Joins: donri (dag@moz-9BB61102.tbcn.telia.com)
[10:31:55] *** Joins: pnkfelix|rcirc (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net)
[10:31:59] *** Joins: HollyRain (HollyRain@moz-50A83091.dyn.user.ono.com)
[10:32:14] <HollyRain> does the ML is working?
[10:35:44] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[10:37:01] *** Quits: doomlord (doomlod@moz-8F385DB0.range109-153.btcentralplus.com) (Ping timeout)
[10:37:32] <nmatsakis> pnkfelix: pong.
[10:37:45] <pnkfelix> nmatsakis: just wondering if anything of interest came out of the Friday closures mtg
[10:38:11] *** zz_kimundi is now known as kimundi
[10:38:12] <nmatsakis> pnkfelix: well, we more-or-less settled on taking the approach of using a thunk! macro and `fn` as "always borowed closure"
[10:38:18] <nmatsakis> pnkfelix: at least experimentally
[10:38:41] <nmatsakis> pnkfelix: I have to kind of draw up an action plan, I figure we'll begin by introducing thunk!, converting existing code, and seeing how much it hurts :)
[10:38:46] *** Joins: wuehlmaus (wuehlmaus@moz-BBCFACA0.de)
[10:38:50] <pnkfelix> nmatsakis: thunk! macro, so that means explicit lists of captured vars?
[10:39:13] <pnkfelix> nmatsakis: or are we going to avoid that by making thunk! a compiler built-in ?
[10:39:30] <nmatsakis> pnkfelix: I believe explicit list; jclements tried and failed to elaborate on your concern, we couldn't tell if it applied to Rust or not
[10:39:45] <pnkfelix> nmatsakis: (not that making things a compiler built-in is some sort of magic dust...)
[10:40:25] <pnkfelix> nmatsakis: Okay.  Maybe I will try to write a more explicit example up later.  Though if John could not explain it, then I must be missing something.
[10:41:20] <nmatsakis> pnkfelix: well, he was under some pressure :) so yes do try to draw up an example, but it seemed like the particulars of Rust's scoping etc made this a non-concern,
[10:42:06] <nmatsakis> pnkfelix: I am more concerned about finding limits due to the nominal nature of object types and/or those binding issues I showed you,
[10:42:17] <nmatsakis> pnkfelix: these are not theoretical limits, but they may prove to be practical annoyances,
[10:43:01] <nmatsakis> pnkfelix: but in that event, we can basically adopt some variant of bblum's proposal, meaning essentially bringing back `fn~` under some name or other.
[10:43:30] <cmr> Eridius: I only search what the spec says to search sorry :(
[10:43:32] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[10:43:49] <cmr> Eridius: fwiw it specifies env vars to use when not using the default location, and I do use those
[10:44:12] <cmr> Eridius: I could add in searching by the ascii code though, that's not so bad
[10:44:24] <Amanieu> nmatsakis: have you looked at my proposal for closures?
[10:45:49] <cmr> Eridius: oh you opened a PR, wonderful! :)
[10:46:26] *** Quits: webber46 (webber46@moz-DC342D45.cust.bredband2.com) (Quit: webber46)
[10:46:30] <MaikKlein> rusti: Test(int); fn Test(s: ~str){println(s);}  
[10:46:31] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/JGAj
[10:47:38] <MaikKlein> rusti: struct Test(int); fn Test(s: ~str){println(s);} Test(~"Hello"); 
[10:47:39] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/MiVC
[10:47:48] <nmatsakis> Amanieu: no, sorry, forgot, let me take a look now.
[10:48:22] *** Joins: Blub\w (wry@moz-80806C19.wireless.dyn.drei.com)
[10:48:55] <MaikKlein> rusti: struct Test { i: int }; fn Test(s: ~str){println(s);} Test(~"Hello"); 
[10:48:57] -rusti- Hello
[10:48:57] -rusti- ()
[10:49:00] <MaikKlein> hm
[10:49:04] <nmatsakis> Amanieu: I see, the problem is that this is a new kind of trait in many regards, so a big change from what we have now
[10:49:25] <nmatsakis> Amanieu: though there is definitely appeal to using the trait system for fns
[10:49:39] <MaikKlein> this is weird I can name structs and functions the same
[10:49:42] <nmatsakis> Amanieu: which is bsaically what I'm proposed to do for everything but simple callbacks.
[10:50:01] <nmatsakis> MaikKlein: weird or not, it's intentional :) types and values occupy distinct namespaces.
[10:50:30] <nmatsakis> Amanieu: but right now we cannot have trait types that have variable number of arguments, or which bind lifetimes, and a couple of other things that fn types do...
[10:51:23] <Amanieu> nmatsakis: The original version of my proposal used traits like Fn<Args, Ret> where Args is a tuple
[10:51:46] <Amanieu> but this made the code using them very ugly, so I changed to use the existing fn keyword
[10:52:14] <nmatsakis> Amanieu: the biggest thing is the binding of lifetimes, which right now can only occur in fns,
[10:52:27] <nmatsakis> Amanieu: e.g., fn<'a>(&'a uint) -> &'a uint
[10:52:35] <nmatsakis> is a fn type that returns a uint with same lifetime as its argument
[10:52:48] <nmatsakis> you can't express that in a trait type like Fn<&'a uint, &'a uint>
[10:53:00] <nmatsakis> because in that case, the 'a is not bound, meaning it's some lifetime that is in scope,
[10:53:04] <nmatsakis> vs being a lifetime defined at the point of call
[10:53:09] <nmatsakis> not that this cannot be solved,
[10:53:19] <nmatsakis> but it's trickier for traits.
[10:53:40] <nmatsakis> I guess you could say such are lifetimes are always bound at the point of member access,
[10:53:44] <nmatsakis> might be a really useful extension,
[10:53:46] <nmatsakis> this comes up in a few places.
[10:54:00] <nmatsakis> and I think that would make trait types truly the equal of closure types.
[10:54:01] <Amanieu> well isn't this pretty much https://github.com/mozilla/rust/issues/5121
[10:54:13] <nmatsakis> no, that's a separate issue.
[10:54:23] <kimundi> Amanieu: Got a link to your proposal? :)
[10:54:35] <Amanieu> https://github.com/mozilla/rust/wiki/Proposal-for-closure-reform
[10:54:37] <Amanieu> kimundi: at the bottom
[10:55:07] <nmatsakis> Amanieu: it's the difference between declaring a fn like: "fn foo<T>(x: T) -> T" and "fn foo(x: T) -> T"
[10:55:12] <nmatsakis> Amanieu: in the first case, you return what you get,
[10:55:20] <nmatsakis> Amanieu: in the case, you always take/return T, whatever that is.
[10:55:37] <nmatsakis> Amanieu: same difference but extended to lifetimes, basically.
[10:55:47] <Amanieu> right
[10:56:22] <cmr> I really like Amanieu's proposal as long as it can be implemented efficiently (ie, no overhead at all after optimization) for the important usecases
[10:56:40] <Amanieu> I'm afraid I'm still quite new to lifetime, so I'll trust you
[10:56:54] <nmatsakis> Amanieu: well, the limitation is definitely there, but it may be worth investing some thought into lifting it,
[10:57:04] <nmatsakis> Amanieu: it actually...probably wouldn't be that hard? I have to think it over.
[10:57:08] *** Quits: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw) (Ping timeout)
[10:57:15] <nmatsakis> Amanieu: as I said, this does come up here and there
[10:57:23] <nmatsakis> mostly in conditions.
[10:57:35] <Amanieu> Well I just wanted to put the idea out there
[10:58:01] <Amanieu> My main gripe with the current fn system is that you can't have value fn types (must always be a pointer)
[10:58:15] <Amanieu> which prevents things like combinators
[10:58:23] <nmatsakis> not...really?
[10:58:24] <Amanieu> where you want to include a fn inside another by value
[10:58:35] <Amanieu> though I guess you can do it with owned pointers
[10:58:35] *** Joins: solancile (solancile@moz-A1CFFAE5.hsd1.wa.comcast.net)
[10:58:51] <nmatsakis> yes, though at least the plan is to move to structs/traits for this sort of thing.
[10:58:55] <mleise> sounds like function inlining or mixins :p
[10:59:28] <Amanieu> And the second part of my proposal is just a copy of the C++11 lambda syntax
[10:59:37] <Amanieu> Basically allows you to capture by value and reference
[11:01:12] <Amanieu> It's kind of a separate proposal though, not really related to the main part
[11:01:34] *** Joins: matt (Mibbit@moz-A0E225F0.avcosystems.co.uk)
[11:03:07] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[11:03:27] *** Joins: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw)
[11:07:47] *** Joins: jensnockert (jensnocker@23703163.CE8A73BB.A94117DA.IP)
[11:10:35] <pancake> asm! is trying to generate 32bit stubs on my 64bit compiler...
[11:10:45] <pancake> looks like asm! is pretty broken actually
[11:11:29] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[11:13:48] <friggle> I'm a little conflicted about this proposal https://gist.github.com/Kimundi/5744578 but I think overall I like it
[11:17:21] <doener> Hm, that has no example for multi parameter traits like HashMap
[11:17:30] <doener> would that be @HashMap int,int?
[11:17:56] <kimundi> friggle: Hm, why are you conflicted?
[11:18:22] <pancake> there are plans to support slices in rust?
[11:18:39] <kimundi> pancake: If withe slices you mean slices of vectors, that already exists
[11:18:57] <kimundi> rusti: "foobar".slice(1,4)
[11:18:58] -rusti- "oob"
[11:19:30] <dbaupp> doener: as far as I understand it, that's not the point of the proposal
[11:19:41] <pancake> nope. like GSlice
[11:19:43] <dbaupp> doener: since HashMap isn't a smart pointer
[11:19:48] <kimundi> doener: It would just be for smartpointers
[11:20:21] <friggle> kimundi: just because I can see the argument for dropping the @ sigil. I also want a better understanding of what would be required to support Gc<>, Rc<> types. How "privileged" are they.
[11:20:22] <dbaupp> pancake: it could be implemented in "user" space, since traits allow for features to be bolted on later
[11:20:24] <pancake> or at least as a kind of hint for the gc, to create vectors of types in a shot and then reuse pointers
[11:20:33] <dbaupp> (I think)
[11:20:38] <kimundi> doener: That is, only types of the form S<T> that allocate and manage memory in a custom way.
[11:20:45] <pancake> dbaupp: yep i guess that.. but i think thats quite important feature to have in core lang
[11:20:50] <doener> ah, ok
[11:21:46] <dbaupp> pancake: I'm sure you could get it merged in if you implemented something :)
[11:22:02] <dbaupp> pancake: (that's basically how the iterator library started, I think)
[11:22:22] *** Quits: jensnockert (jensnocker@23703163.CE8A73BB.A94117DA.IP) (Input/output error)
[11:22:27] <pancake> i still have a lot to learn from rust and i have very little time to spend.. just guessing
[11:22:42] <kimundi> pancake: Could you explain wath a GSlice does?
[11:23:52] <pancake> https://developer.gnome.org/glib/2.32/glib-Memory-Slices.html
[11:24:23] *** Quits: MaikKlein (maik@moz-C731CFBB.dip0.t-ipconnect.de) (Ping timeout)
[11:24:27] *** Joins: Earnestly (earnest@6A917A59.5E1FD793.39C00A7A.IP)
[11:25:07] <pancake> kimundi: it basically allocs a pool of N elements of the given type size and it just returns a pointer to the internal array when requested
[11:25:11] <kimundi> friggle: Well my proposal is mostly about sugar for types like Gc<T>, Rc<T> etc. Based on the Meeting notes and the way RC is currently implemented I think implementing that change won't have to many problems
[11:25:16] <pancake> freeing only happens when all elements are no longer used
[11:25:38] <pancake> so you do just a single malloc() for 100 elements instead of 100 mallocs
[11:25:39] <kimundi> friggle: Sounds like refcounting
[11:25:41] <pancake> which is much faster
[11:25:58] <kimundi> And/or Arena
[11:26:11] *** Joins: pyrac (pyrac@29E99D66.73C89388.AD05C589.IP)
[11:26:12] <kimundi> I think there is extra::arena...
[11:26:47] <engla> GSlice had some very impressive benchmarks
[11:27:48] <dbaupp> pancake: oh, maybe you could file a bug/feature request about GSlice :)
[11:28:08] *** Joins: jensnockert (jensnocker@23703163.CE8A73BB.A94117DA.IP)
[11:28:26] *** Quits: sankha93 (Instantbir@CF32CF7B.44798FA9.8B6C1D65.IP) (Quit: Instantbird 1.4 -- http://www.instantbird.com)
[11:29:48] <pancake> https://mail.gnome.org/archives/gtk-devel-list/2006-May/pngQpplcxmRVt.png
[11:32:13] <dbaupp> nice! (do you happen to know what malloc that benchmark was using?)
[11:34:26] <Amanieu> kimundi: You might also want to consider user-defined unique pointers, which would allow the use of custom memory allocators
[11:34:45] <Amanieu> s/unique/owned/
[11:34:52] <Amanieu> you can tell I'm from C++ :P
[11:37:38] <HollyRain> does Rust can compile statically?
[11:37:47] <kimundi> Amanieu: Well, ~T is aslready the best unique pointer you will get, and if you really want to write your won you can still have a CustomUniq<T> type, just don'T overwite clone() for it
[11:38:28] <kimundi> That is, you can still write @CustomUniq T
[11:38:43] <dbaupp> HollyRain: yes
[11:40:01] <HollyRain> dbaupp, how? because in the help does not says anything -> rustc --help |grep static
[11:40:15] <dbaupp> HollyRain: oh, you mean statically linked?
[11:40:22] <HollyRain> yes
[11:40:36] <dbaupp> HollyRain: I think that's experimental still (rustc -Z help, maybe?)
[11:41:06] <dbaupp> yup, `-Z static               -- Use or produce static libraries or binaries (experimental)`
[11:41:11] <HollyRain> ok, thanks
[11:48:04] *** Quits: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw) (Ping timeout)
[11:49:13] <xenocons> interesting rust incomming built with no complaints just now
[11:49:18] <xenocons> musta done something
[11:54:23] *** Joins: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw)
[11:58:09] <HollyRain> does the ML is working?
[11:59:49] *** Quits: aruniiird (arun@92D70115.B332A52C.E3D0A897.IP) (Ping timeout)
[12:00:03] <cmr> HollyRain: yes
[12:01:25] <HollyRain> cmr, I've sent a message for two times but it has not been re-sent from the list
[12:01:52] <HollyRain> yesterady and today
[12:02:27] <cmr> HollyRain: Did you subscribe to it?
[12:02:49] <HollyRain> of course, and it is not the first time that I write to the ML
[12:03:35] <cmr> weird :\
[12:03:52] <cmr> HollyRain: I'd ask graydon when he gets on in a few hours
[12:04:00] <HollyRain> ok, thx
[12:07:08] *** Joins: sankha93 (Instantbir@65E1D838.72E7F57E.8B6C1D65.IP)
[12:11:44] *** Joins: webber46 (webber46@moz-AC14FDEA.se)
[12:15:45] *** Quits: quvarxa (chatzilla@moz-60654F71.lns21.adl2.internode.on.net) (Quit: ChatZilla 0.9.90 [Firefox 22.0/20130605070403])
[12:19:13] *** Joins: aruniiird (arun@92D70115.B332A52C.E3D0A897.IP)
[12:19:41] *** Joins: cdidd (cdidd@moz-D8D3789B.broadband.corbina.ru)
[12:21:35] *** Quits: RMF (RMF@E80DA7BB.A3D80C3C.8D19547B.IP) (Ping timeout)
[12:22:00] *** Joins: RMF (RMF@E80DA7BB.A3D80C3C.8D19547B.IP)
[12:23:12] *** Joins: dylukes (dylukes@moz-B5418F79.hsd1.pa.comcast.net)
[12:27:59] *** Quits: aruniiird (arun@92D70115.B332A52C.E3D0A897.IP) (Quit: Leaving)
[12:29:56] *** Quits: Blub\w (wry@moz-80806C19.wireless.dyn.drei.com) (Quit: night)
[12:34:20] *** Quits: jensnockert (jensnocker@23703163.CE8A73BB.A94117DA.IP) (Input/output error)
[12:37:16] *** Joins: Blei (Instantbir@moz-96D25F7A.cust.bluewin.ch)
[12:42:00] <xenocons> did libc change names in incomming?
[12:42:28] <dbaupp> xenocons: why?
[12:42:51] <xenocons> unresolved name 'libc' when compiling something
[12:42:59] <xenocons> (i built from incomming)
[12:43:05] <dbaupp> xenocons: oh, you need the std::libc
[12:43:08] <xenocons> ah
[12:43:22] <dbaupp> the modules are no longer in the prelude, so they aren't automatically in scope
[12:43:25] <xenocons> so use std i guess works at the top? or do i just use it everywhere
[12:43:26] <xenocons> ah
[12:43:38] <dbaupp> xenocons: `use std::libc;`
[12:43:43] *** Joins: sk (sk@44FB31D1.A56C954C.78DD174B.IP)
[12:43:56] <xenocons> right, ive seen { } for multiple ones
[12:44:06] <xenocons> so i guess use std::{os,libc,result}; or something?
[12:44:20] <dbaupp> yep! :)
[12:44:43] <dbaupp> (`use std::*;` also works)
[12:45:01] <xenocons> cool
[12:45:13] *** Joins: judder (maradukewa@85208D00.97F8E51D.E305BD61.IP)
[12:45:41] <xenocons> hmm int too?
[12:46:08] <dbaupp> yes
[12:47:00] <xenocons> cool it compiles again now
[12:47:00] <xenocons> hehe
[12:48:16] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Quit: Leaving)
[12:48:54] <xenocons> hmm my code seems faster in incomming, surely placebo ;)
[12:48:59] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[12:49:17] <cmr> maybe not. quite a bitof optimization work
[12:49:37] <xenocons> could this be the jemalloc i wonder
[12:50:01] <cmr> maybe. also aatch|gone's work with llvm.
[12:50:02] *** Joins: maxli (maxli@F2D29657.F60B0462.67AC9B1.IP)
[12:50:06] <cmr> what's the code?
[12:50:35] <xenocons> just reading all files that are dll in system32 and looking for needles
[12:51:03] <cmr> "just" :p
[12:51:12] <xenocons> yeah its fairly io intensive
[12:51:34] <xenocons> i think with this ammount of files and bytes hashing might be a better approach
[12:51:44] <xenocons> but im just using system32 for benchmark purposes
[12:53:45] <Blei> so, how do you get jemalloc to compile on windows?
[12:53:56] <Blei> it fails here with some strange errors
[12:54:01] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[12:54:41] <xenocons> well i just used incomming, aside from that i didnt change anything, so im not sure if its actually using JE or not
[12:57:29] <cmr> Blei: what are the errors?
[12:58:42] <Blei> configure runs ok (as far as i can tell) then this happens:
[12:58:44] <Blei> https://gist.github.com/anonymous/122c8c1178fced017281
[12:59:01] <Blei> (i'm only showing the first few lines, it creates a bazillion errors)
[12:59:42] <cmr> whoa
[13:00:00] <cmr> I haven't come across that before.
[13:00:12] <Blei> yeah, i'm mystified
[13:00:12] <cmr> Blei: what version of gcc? 4.5.x?
[13:00:31] <Blei> gcc.exe (GCC) 4.5.2
[13:05:57] <cmr> Blei: are yousure configure ran correctly? can you gist the jemalloc.h it refereneces? (should be in src/rt/jemalloc/include/jemalloc.h)
[13:08:10] *** Quits: dylukes (dylukes@moz-B5418F79.hsd1.pa.comcast.net) (Quit: ["Textual IRC Client: www.textualapp.com"])
[13:08:31] *** Joins: berak (chatzilla@26C9F8E5.5E545589.16E13E53.IP)
[13:08:57] <Blei> https://gist.github.com/anonymous/14d38a8a636c85496fb0
[13:11:38] *** Parts: berak (chatzilla@26C9F8E5.5E545589.16E13E53.IP) ()
[13:12:49] <doener> Blei: could you also gist jemalloc_defs.h?
[13:13:45] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[13:13:50] <Blei> https://gist.github.com/anonymous/d4dc2ac57c977543ca0e
[13:14:22] *** Quits: rsaarelm (rsaarelm@moz-D1CB7158.dhcp.inet.fi) (Quit: leaving)
[13:15:50] <doener> hm, that's unchanged from the .h.in file
[13:15:51] <doener> weird
[13:18:34] *** Quits: themgt (themgt@moz-248BBB96.dhcp.gnvl.sc.charter.com) (Quit: themgt)
[13:18:38] <Blei> they are both in rt\i686-pc-mingw32\stage0\jemalloc\include\jemalloc
[13:19:02] <Blei> are they supposed to be there, or should they be generated into the original jemalloc folder?
[13:19:07] <dbaupp> Blei: maybe just trying running ./configure again?
[13:19:22] <Blei> ok
[13:19:59] <dbaupp> (that seems to fix some things sometimes because make gets out of sync with the code)
[13:21:57] *** Quits: bitshifternz (cam@moz-3971750F.static.tpgi.com.au) (Ping timeout)
[13:23:15] *** Joins: bitshifternz (cam@moz-3971750F.static.tpgi.com.au)
[13:24:13] <Blei> same problem
[13:25:26] *** Quits: bitshifternz (cam@moz-3971750F.static.tpgi.com.au) (Ping timeout)
[13:27:21] *** Joins: bitshifternz (cam@moz-3971750F.static.tpgi.com.au)
[13:27:47] *** Joins: reyre_ (reyre@moz-9002CDDA.cpe.net.cable.rogers.com)
[13:32:38] <Blei> meh, windows is no fun
[13:32:46] <Blei> see you back in linux land
[13:32:50] *** Quits: Blei (Instantbir@moz-96D25F7A.cust.bluewin.ch) (Quit: Blei)
[13:33:39] *** Joins: jensnockert (jensnocker@moz-EF95FD94.astro.lu.se)
[13:35:50] *** Joins: Blei (philipp@moz-96D25F7A.cust.bluewin.ch)
[13:38:56] *** Quits: bitshifternz (cam@moz-3971750F.static.tpgi.com.au) (Client exited)
[13:42:59] *** Joins: doomlord (doomlod@moz-8F385DB0.range109-153.btcentralplus.com)
[13:45:32] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[13:45:45] *** Quits: HollyRain (HollyRain@moz-50A83091.dyn.user.ono.com) (Quit: bye, bye)
[13:47:56] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[13:55:36] *** Joins: themgt (themgt@moz-248BBB96.dhcp.gnvl.sc.charter.com)
[13:55:55] *** Joins: mje (Mibbit@moz-7F01A599.hsd1.pa.comcast.net)
[13:56:10] *** Quits: dan_johnsin (dan_johnsi@6902762D.11B071D.FB9A45AF.IP) (Client exited)
[13:57:37] *** Joins: dan_johnsin (dan_johnsi@6902762D.11B071D.FB9A45AF.IP)
[13:58:28] *** kimundi is now known as zz_kimundi
[14:04:17] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[14:04:28] *** Joins: cowboyd (cowboyd@1D8844A7.1B729417.CEE440B6.IP)
[14:12:29] *** Joins: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP)
[14:12:30] *** Quits: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP) (Z:lined (Open Proxy found on your host. Please visit www.blitzed.org/proxy?ip=115.68.131.49 for more information.))
[14:12:37] <jensnockert> bjz_: Do you mind if I split up the Interpolation PR in two?
[14:16:25] *** zz_kimundi is now known as kimundi
[14:18:33] *** Joins: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net)
[14:18:36] *** Quits: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[14:18:41] *** Joins: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com)
[14:19:09] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[14:19:13] *** Joins: yoshi (Mibbit@BBE7C46A.B4F11D08.8612FA94.IP)
[14:23:00] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[14:26:28] <bjz_> jensnockert:yeah np
[14:29:25] *** Quits: jensnockert (jensnocker@moz-EF95FD94.astro.lu.se) (Input/output error)
[14:30:49] *** Joins: jeff (jeff@4231C034.745B261B.F12515B4.IP)
[14:34:33] *** Joins: hjr3 (hradtke@moz-842BF853.hsd1.ca.comcast.net)
[14:35:52] <cmr> eugh
[14:35:54] <cmr> Assertion failed: (stk->canary == canary_value && "Somebody killed the canary"), function check_stack_canary, file /home/rustbuild/src/rust-buildbot/slave/incoming-full-bsd/build/src/rt/rust_stack.cpp, line 55.
[14:35:57] <cmr> on BSD build
[14:36:14] <dbaupp> those are fun
[14:37:33] <cmr> rust: task failed at 'uint 1 too large for this architecture', /home/rustbuild/src/rust-buildbot/slave/incoming-full-linux/build/src/libextra/ebml.rs:376
[14:37:37] <cmr> on linux
[14:37:41] *** Joins: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP)
[14:38:20] <dbaupp> this the incoming build on the buildbots, right?
[14:39:01] <dbaupp> (it seems unlikely that 1 is too large for any architecture... are we targeting any 0-bit computers? ;P )
[14:39:16] <cmr> yes
[14:39:21] *** Joins: Yurume_ (yurume@AC58A8CE.8A059B47.E313B915.IP)
[14:39:41] <cmr> yes for incoming, not 0-bit computers :p
[14:40:18] <dbaupp> yeah, that second one is pretty strange, given it's `if v > uint::max_value { fail!(...) }`
[14:40:24] *** Quits: SimonSapin (simon@88F51059.F3BBB17D.144F44FA.IP) (Quit: Leaving.)
[14:40:57] <cmr> hm, I wonder if it's miscompiling like read_int below it?
[14:42:20] <dbaupp> well, that's strange!
[14:43:13] <dbaupp> https://github.com/mozilla/rust/issues/6122 is closed... possibly incorrectly...
[14:46:54] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[14:47:17] *** Joins: MaikKlein (maik@moz-C731CFBB.dip0.t-ipconnect.de)
[14:50:25] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[14:54:49] *** Joins: jdm (jdm@CC0122E6.8F96AEA7.2D179A7D.IP)
[14:56:18] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[14:56:44] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[14:57:29] *** Quits: MaikKlein (maik@moz-C731CFBB.dip0.t-ipconnect.de) (Ping timeout)
[14:58:11] *** Joins: cypher (ircnet@F444B16E.BE42453B.71C89230.IP)
[14:58:32] *** Joins: dualhbridge (dad@moz-9FEE6D3B.maine.res.rr.com)
[14:58:38] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[14:58:46] *** Quits: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[15:00:09] <kimundi> rusti: let f = @5; f
[15:00:10] -rusti- @5
[15:00:13] <kimundi> rusti: let f = @5; *f
[15:00:14] -rusti- 5
[15:00:32] <kimundi> rusti: let f = @5; let x = *f; f
[15:00:33] -rusti- @5
[15:00:42] <kimundi> rusti: let f = @5; let x = *f; (f,x )
[15:00:43] -rusti- (@5, 5)
[15:01:04] <kimundi> rusti: struct Foo; let f = @Foo; let x = *f; (f,x )
[15:01:05] -rusti- (@{}, {})
[15:01:42] *** Quits: doener (bs@moz-AA189A5A.unitymedia.biz) (Quit: leaving)
[15:03:45] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[15:03:57] *** Joins: erickt1 (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[15:03:57] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Connection reset by peer)
[15:12:17] <yoshi> rust n00b with n00b question: can all uses of @ be rewritten with only ~?
[15:12:48] <yoshi> sorry, ~ and & or lifetime parameters, etc
[15:14:42] *** Joins: jorendorff (jorendorff@moz-B3A3C37B.hsd1.tn.comcast.net)
[15:15:24] *** Quits: pyrac (pyrac@29E99D66.73C89388.AD05C589.IP) (Ping timeout)
[15:17:09] *** Joins: thou (thou@moz-1C1CA9F7.fasttrackcomm.net)
[15:18:02] <erickt1> yoshi: nope, you need @ when you want to write a structure with a cycle, like a linked list
[15:18:34] <yoshi> hm, thanks
[15:18:35] <engla> or something with no clear owner
[15:18:54] <erickt1> yoshi: easiest is to try to use & in most places
[15:19:15] *** Quits: victorporof (victorporo@FE2F04DC.63E19875.D111398B.IP) (Ping timeout)
[15:19:17] <yoshi> OK, thanks
[15:19:22] *** Joins: victorporof (victorporo@D4D7A384.56056C9.D111398B.IP)
[15:19:39] <yoshi> I'd read somewhere about ~ "winning out" over @
[15:19:52] <yoshi> or something, hence the question
[15:21:18] <yoshi> @engla what would be a situation in which there's "no clear owner"? concurrent situations maybe?
[15:21:53] <dbaupp> yoshi: when there are cycles
[15:22:21] <dbaupp> so any of the things in the cycle could be considered an "owner"
[15:22:50] <yoshi> huh OK, thank you -- I think I [mis]understood owner to be analogous to scope
[15:23:02] <yoshi> e.g. who's doing the calling, so to speak
[15:23:09] <yoshi> in which case there should still be one "owner"
[15:23:37] *** Quits: webber46 (webber46@moz-AC14FDEA.se) (Quit: webber46)
[15:24:47] *** Joins: seth (seth@moz-D840E602.dsl.static.sonic.net)
[15:24:59] <kimundi> yoshi: Usually a local variable is the owner. In the case of @ there is in a way still an owner, but its the garbage collector, not a local variable.
[15:25:32] *** Joins: MaikKlein (maik@moz-C731CFBB.dip0.t-ipconnect.de)
[15:26:09] <yoshi> kimundi: right, thanks, and the garbage collector does reference counting
[15:26:58] <kimundi> atm yeah
[15:27:09] <kimundi> (will be tracing in the future)
[15:27:10] <yoshi> atm... what's in the works?
[15:27:15] <yoshi> oh interesting
[15:27:19] <yoshi> why the switch?
[15:27:29] <kimundi> less code bloat
[15:27:40] *** Joins: Blub\w (wry@moz-7734488E.wireless.dyn.drei.com)
[15:27:47] <yoshi> I see, thanks for the answer
[15:27:51] <kimundi> potentially faster/better
[15:27:57] <yoshi> right
[15:28:12] <MaikKlein> and only for @
[15:28:17] <kimundi> At least if you want to clean up cycles, wich @ doesn't do natm
[15:28:45] <yoshi> ah, that makes sense, the cycle thing is clearer now
[15:28:57] <kimundi> For reference counting that doesn't handle cycles, there is extra::Rc and extra::RcMut :)
[15:29:02] <MaikKlein> if i want to add a feaute rtu
[15:29:04] <MaikKlein> ups
[15:29:15] <yoshi> kimundi: cool, thanks!
[15:29:27] <yoshi> I should checkout extra:: more
[15:29:42] *** Quits: jorendorff (jorendorff@moz-B3A3C37B.hsd1.tn.comcast.net) (Quit: jorendorff)
[15:29:51] *** Joins: jorendorff (jorendorff@moz-B3A3C37B.hsd1.tn.comcast.net)
[15:30:05] *** Joins: jack (jack@moz-F1B36F9F.hsd1.nm.comcast.net)
[15:30:23] <MaikKlein> if i want to add a feature to rust for example method querying so that it is easy develop an auto completion system. Where do I have to ask to get permission?
[15:30:40] <MaikKlein> just open an issue on github?
[15:30:42] <dbaupp> MaikKlein: nowhere
[15:30:42] <kimundi> You don't need permission for that :P
[15:30:52] <MaikKlein> hm
[15:31:01] <dbaupp> if you want to have advice, etc, the the mailing list
[15:31:05] <dbaupp> *then the
[15:31:26] <dbaupp> but opening a pull request with the code is the best way to get "permission" :)
[15:31:34] <MaikKlein> ok
[15:31:36] <kimundi> Just do it, best ase everyone loves you, worst that can happen is that it doesn't work and nothing changes :)
[15:36:14] <MaikKlein> do you think it would make sense if someone could query a method list like this "rustc hello.rs --autocomplete typename" and then it would output something like "print(self) , to_string(self)"
[15:36:48] *** Quits: seth (seth@moz-D840E602.dsl.static.sonic.net) (Connection reset by peer)
[15:37:10] <MaikKlein> where typename could be any type here
[15:37:24] *** Joins: seth_ (seth@moz-D840E602.dsl.static.sonic.net)
[15:38:32] *** Quits: hjr3 (hradtke@moz-842BF853.hsd1.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[15:39:20] <SiegeLord> That doesn't seem like enough information
[15:39:40] *** Quits: seth_ (seth@moz-D840E602.dsl.static.sonic.net) (Ping timeout)
[15:40:27] <yoshi> btw this was the blog post to which I was referring: http://pcwalton.github.io/blog/2013/06/02/removing-garbage-collection-from-the-rust-language/
[15:40:34] <yoshi> I guess he's saying more like, *prefer* ~ over @?
[15:40:41] <MaikKlein> yes
[15:41:02] *** Quits: cypher (ircnet@F444B16E.BE42453B.71C89230.IP) (Quit: Leaving...)
[15:41:08] <MaikKlein> ~ doesn't need a gc
[15:41:18] <yoshi> MaikKlein I see, thanks
[15:41:19] <MaikKlein> it's like an unique pointer
[15:41:39] <SiegeLord> I'd say go with & as far as you can, then try ~ if that fails, then try @ if that fails
[15:42:00] <engla> it's like a reference counted pointer that refuses to have count higher than 1
[15:42:00] <engla> :-)
[15:42:02] <SiegeLord> You can get pretty far with just borrowed pointers and stack allocation
[15:42:18] <tiffany> and even farther with just that + ~
[15:42:32] <yoshi> SiegeLord engla tiffany nice, thank you (yeah, I come from C, where if you screw up memory, it's YODF)
[15:42:45] <yoshi> "your own d*mn fault" :P
[15:44:20] <Blei> ooh, an ice when using the stage2 compiler, but not the stage1 compiler
[15:44:43] *** Joins: SingingBoyo (brandon@moz-EAC7E73D.bchsia.telus.net)
[15:45:27] <MaikKlein> okay methods in rust get and ID right? Is is possible to retrieve the method name with this ID?
[15:45:34] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[15:45:37] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:45:52] <MaikKlein> or is the name gone when rust assigns an id?
[15:46:20] *** Quits: cscehr (Mibbit@moz-E9C5938B.solidonetworks.com) (Quit: http://www.mibbit.com ajax IRC Client)
[15:47:02] <MaikKlein> ah
[15:47:04] *** Joins: doener (doener@moz-121949B3.unitymediagroup.de)
[15:47:20] <MaikKlein> hm
[15:47:57] <yoshi> er, sorry, another silly question: Abort trap: 6 means...?
[15:48:21] <Blei> MaikKlein: there are some def_map fields and variable all over rustc, you could try using them
[15:48:42] *** Quits: SingingBoyo (brandon@moz-EAC7E73D.bchsia.telus.net) (Ping timeout)
[15:49:15] *** Joins: bent (chatzilla@moz-BE33DA21.fw1.sfo1.mozilla.net)
[15:49:48] <Blei> yoshi:  "Abort trap: 6" is MacOS's way of telling you that <whatever> failed due to a SIGABRT signal (which is signal #6).
[15:49:57] <MaikKlein> Blei, do you know the difference between a def_map and a method_map? 
[15:50:00] <Blei> (copied from http://stackoverflow.com/questions/15012950/gnu-make-abort-trap-6-after-gcc-call-however-call-is-valid-when-executed-alon)
[15:50:05] <MaikKlein> is def just ordinary functions?
[15:50:25] *** Joins: deepdog (deepdog@moz-490E834C.client.mchsi.com)
[15:50:43] <yoshi> Blei: oh haha I'd searched with rust in the search string and wasn't getting too many results, thanks!
[15:51:23] <Blei> MaikKlein: i don't know, sorry. rustc is quite... complex
[15:52:24] *** kimundi is now known as zz_kimundi
[15:52:29] <yoshi> Blei: oh haha I'd searched with rust in the search string and wasn't getting too many results, thanks!
[15:52:51] *** zz_kimundi is now known as kimundi
[15:52:54] <MaikKlein> Blei, yeah no problem, I started yesterday with reading though rustc.
[15:55:38] *** Quits: a__ (a__@moz-250D9B4.nycmny.fios.verizon.net) (Client exited)
[15:56:15] *** Joins: igl1 (igl@moz-25AA7AA8.adsl.alicedsl.de)
[15:56:36] *** Quits: igl (igl@moz-9E1F1B1.adsl.alicedsl.de) (Ping timeout)
[15:56:56] *** Joins: eholk (eholk@moz-C0121DF.uconnect.utah.edu)
[15:57:43] *** Joins: a__ (a__@moz-250D9B4.nycmny.fios.verizon.net)
[15:58:02] <doener> MaikKlein: the method_map is used to quickly look up which traits define the given method.
[15:59:52] <doener> MaikKlein: the def_map probably has just all definitions. It's also used outside the resolver.
[16:00:07] <doener> MaikKlein: i.e. the method_map is ultimately just a kind of cache
[16:00:14] <MaikKlein> ah ok
[16:00:41] *** Joins: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net)
[16:02:18] *** kimundi is now known as zz_kimundi
[16:06:33] *** Quits: Palmik (palmik@moz-5CA3F354.pks.muni.cz) (Ping timeout)
[16:06:34] <MaikKlein> I have no idea how people are reading though source-codes without an IDE :(
[16:06:38] *** Quits: erickt1 (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[16:07:47] <doener> MaikKlein: what do you need besides "search" and "jump to tag"?
[16:08:13] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[16:08:53] *** Joins: eschweic (Adium@2557E599.66715431.D25A875A.IP)
[16:09:33] *** Quits: jdm (jdm@CC0122E6.8F96AEA7.2D179A7D.IP) (Quit: Lost terminal)
[16:10:03] *** Joins: jdm (jdm@CC0122E6.8F96AEA7.2D179A7D.IP)
[16:10:37] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[16:10:48] <doener> Honest question. That and split windows (not tabs!) is all I need in vim to explore code bases. Do IDEs bring anything new for code browsing these days?
[16:11:19] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[16:12:22] <sully> hm, is incoming broken for other people?
[16:12:38] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[16:13:35] <MaikKlein> you can have jump to definition with a text editor?
[16:13:37] *** Joins: hjr3 (hradtke@moz-1EBFFE8.public.wayport.net)
[16:13:50] <MaikKlein> oO
[16:14:29] <MaikKlein> okay maybe if the definition is in the same file
[16:15:18] <doy> MaikKlein: https://en.wikipedia.org/wiki/Ctags
[16:15:28] <doener> MaikKlein: just create a tags file with ctags, then vim (and other editors) can use that to jump around. There are ctags rules for rust in src/etc/
[16:15:59] <MaikKlein> holy ****
[16:16:10] <MaikKlein> and I am searching since 30 min for node_id
[16:16:21] *** Joins: Palmik (palmik@moz-5CA3F354.pks.muni.cz)
[16:16:33] <doener> pub type node_id = int;
[16:16:43] <doener> :-)
[16:16:45] <MaikKlein> T_T
[16:16:53] <Blei> (git grep is your friend)
[16:17:02] *** Quits: pancake (pancake@moz-2D4AB1E5.dynamic.jazztel.es) (Quit: Lost terminal)
[16:17:43] *** zz_kimundi is now known as kimundi
[16:17:52] <Blei> sully: maybe... i see an ice, but that might be because of an additional patch i applied
[16:17:59] <Blei> currently recompiling vanilla incoming
[16:18:37] *** Joins: ghrust (ghrust@FD7BC443.6A2AE50.F3114085.IP)
[16:18:37] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/wsRm1Q
[16:18:37] *** Parts: ghrust (ghrust@FD7BC443.6A2AE50.F3114085.IP) ()
[16:18:40] *** Joins: ghrust (ghrust@E7A4CCE2.6A2AE50.F3114085.IP)
[16:18:40] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/Mgj9Cg
[16:18:41] <ghrust> 13rust/06auto 14af0a872 15Philipp BrÃ¼schweiler: rustc::middle::trans::reachable: remove some unneeded code...
[16:18:41] <ghrust> 13rust/06auto 14b6e2617 15Philipp BrÃ¼schweiler: tests: make lots of main functions public
[16:18:41] <ghrust> 13rust/06auto 1463d3790 15bors: auto merge of #6945 : Blei/rust/remove-export-all, r=pcwalton...
[16:18:43] *** Parts: ghrust (ghrust@E7A4CCE2.6A2AE50.F3114085.IP) ()
[16:19:01] <sully> my build failed because:
[16:19:03] <sully> /home/sully/src/rust/src/driver/driver.rs:17:0: 17:34 error: multiple matching crates for `rustpkg`
[16:19:07] <sully> /home/sully/src/rust/src/driver/driver.rs:17 extern mod this(name = "rustpkg");
[16:19:09] <sully> I am doing a clean build
[16:19:30] <doener> sully: the hash for rustpkg changed, unfortunately that currently ends like this
[16:19:39] <sully> ah.
[16:19:57] <doener> sully: either run "make clean" or manually remove the old librustpkg*.so from the build dir
[16:20:39] <doener> clean build just finished here
[16:23:40] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Computer has gone to sleep.)
[16:24:14] *** Joins: azita (Azita@2557E599.66715431.D25A875A.IP)
[16:25:21] *** Joins: steven_is_false (user@moz-144077DE.bchsia.telus.net)
[16:25:28] *** Quits: pnkfelix (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net) (Quit: Leaving.)
[16:25:40] *** Joins: cypher (ircnet@moz-1D494DB3.vie.surfer.at)
[16:30:51] *** Joins: pyrac (pyrac@moz-B2CB8564.w92-156.abo.wanadoo.fr)
[16:31:02] *** Quits: RMF (RMF@E80DA7BB.A3D80C3C.8D19547B.IP) (Ping timeout)
[16:32:02] *** Joins: tjc (tjc@moz-8238B076.hsd1.wa.comcast.net)
[16:32:02] *** ChanServ sets mode: +o tjc
[16:32:03] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[16:32:44] *** Joins: SimonSapin (simon@88F51059.F3BBB17D.144F44FA.IP)
[16:33:40] *** Joins: SingingBoyo (brandon@moz-948F798A.wifi.ubc.ca)
[16:33:40] *** Quits: pnkfelix|rcirc (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net) (Input/output error)
[16:34:36] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[16:36:25] *** Quits: jdm (jdm@CC0122E6.8F96AEA7.2D179A7D.IP) (Ping timeout)
[16:36:34] *** Quits: Palmik (palmik@moz-5CA3F354.pks.muni.cz) (Ping timeout)
[16:37:23] *** Joins: \n (NDesaulnie@2557E599.66715431.D25A875A.IP)
[16:37:54] <MaikKlein> anyone uses sublime with ctags here?
[16:38:36] *** Joins: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net)
[16:38:38] *** Quits: ski (Stefan@moz-4BB5E0FF.studat.chalmers.se) (Client exited)
[16:38:49] <steven_is_false> I don't use sublime but I use ctags.
[16:40:17] <MaikKlein> ok hm there is the ctag gilfe ctags.rust
[16:40:35] <MaikKlein> is this already in a usable state or do I need to compile it somehow with ctags?
[16:41:01] <MaikKlein> file*
[16:41:08] <steven_is_false> MaikKlein: You just need to add it to your ctags configuration file.
[16:41:18] <doener> MaikKlein: that's usable. If you have no other ctags configuration, you could just symlink it to ~/.ctags
[16:41:27] <doener> MaikKlein: otherwise, copy the contents to ~/.ctags
[16:41:46] <steven_is_false> I just symlinked it like doener suggested because I had no other configurations.
[16:41:54] <steven_is_false> doener: Is there no include directive?
[16:42:15] <doener> steven_is_false: I didn't find one in the 5 seconds I spent looking for it, then symlinked it :-)
[16:42:19] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Computer has gone to sleep.)
[16:42:23] *** Quits: Axord (xord@moz-C3CCF156.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[16:42:29] <steven_is_false> :-)
[16:42:49] *** Joins: webber46 (webber46@moz-DC342D45.cust.bredband2.com)
[16:42:50] *** Quits: webber46 (webber46@moz-DC342D45.cust.bredband2.com) (Quit: webber46)
[16:43:23] <MaikKlein> are you using exuberant-ctags ?
[16:43:45] <doener> yep
[16:44:26] *** Joins: webber46 (webber46@moz-DC342D45.cust.bredband2.com)
[16:45:20] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[16:45:53] *** Quits: matt (Mibbit@moz-A0E225F0.avcosystems.co.uk) (Quit: http://www.mibbit.com ajax IRC Client)
[16:45:55] *** Joins: Palmik (palmik@moz-5CA3F354.pks.muni.cz)
[16:45:56] *** Joins: RMF (RMF@E80DA7BB.A3D80C3C.8D19547B.IP)
[16:46:00] <tjc> nmatsakis: is https://github.com/mozilla/rust/issues/2934 still an issue?
[16:49:10] *** Quits: RMF (RMF@E80DA7BB.A3D80C3C.8D19547B.IP) (Quit: Textual IRC Client: www.textualapp.com)
[16:49:32] *** Joins: echristo (echristo@D423593A.D6CCE4AE.77834EAA.IP)
[16:49:50] *** Quits: webber46 (webber46@moz-DC342D45.cust.bredband2.com) (Ping timeout)
[16:50:44] *** Joins: webber46 (webber46@moz-DC342D45.cust.bredband2.com)
[16:50:56] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:55:12] *** Parts: orshem (orshem@19491716.F0FDCE77.E3D28531.IP) (WeeChat 0.4.0)
[16:56:18] *** Joins: Guest_ (textual@BBE7C46A.B4F11D08.8612FA94.IP)
[16:56:55] *** Quits: novabyte (Instantbir@moz-3E0F9699.cable.virginmedia.com) (Quit: bye bye)
[16:58:21] *** Joins: mzabaluev (mzabaluev@moz-91FFD755.dhcp.inet.fi)
[16:58:53] *** Joins: ecr (ereed@2557E599.66715431.D25A875A.IP)
[16:58:57] <cmr> MaikKlein: So you don't really need an IDE to effectively search the codebase. A (good) IDE can tell you the types of things and such, but not what it is and why it's there and what it's used for
[16:59:16] *** Joins: tiffnya (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net)
[16:59:56] *** Quits: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net) (Ping timeout)
[17:00:12] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[17:00:36] <nmatsakis> tjc: not sure, have to double check
[17:00:42] <tjc> nmatsakis: np
[17:01:05] *** Quits: sp3d (a@moz-49806493.dhcp.stls.mo.charter.com) (Quit: sp3d)
[17:01:09] <cmr> MaikKlein: Usually you can get by with just a grep (or git grep) and having a lot of editor windows opened :)
[17:03:27] <cmr> SiegeLord: ping
[17:03:42] *** Quits: \n (NDesaulnie@2557E599.66715431.D25A875A.IP) (Ping timeout)
[17:04:20] *** Joins: SimonSapin1 (simon@88F51059.F3BBB17D.144F44FA.IP)
[17:04:28] <SiegeLord> cmr, Hello
[17:05:03] *** Joins: \n (NDesaulnie@43CB6079.66715431.D25A875A.IP)
[17:05:44] *** Quits: SimonSapin (simon@88F51059.F3BBB17D.144F44FA.IP) (Ping timeout)
[17:05:52] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[17:06:33] <cmr> SiegeLord: It'd be sweet if you could open a PR with that CSS you had, it looked very nice
[17:07:00] <SiegeLord> Ok, let me clean it up a tiny bit and try doing that...
[17:07:00] *** Joins: RMF (RMF@E80DA7BB.A3D80C3C.8D19547B.IP)
[17:07:27] *** Quits: MaikKlein (maik@moz-C731CFBB.dip0.t-ipconnect.de) (Client exited)
[17:07:48] *** Joins: graydon (graydon@3853DDD.39EEDBB3.D758B1AA.IP)
[17:07:48] *** ChanServ sets mode: +qo graydon graydon
[17:07:50] *** Joins: SimonSapin (simon@88F51059.F3BBB17D.144F44FA.IP)
[17:07:56] *** Quits: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP) (Quit: eatkinson)
[17:07:56] *** Quits: SimonSapin1 (simon@88F51059.F3BBB17D.144F44FA.IP) (Connection reset by peer)
[17:07:56] *** Quits: eschweic (Adium@2557E599.66715431.D25A875A.IP) (Quit: Leaving.)
[17:08:22] *** Quits: webber46 (webber46@moz-DC342D45.cust.bredband2.com) (Ping timeout)
[17:09:04] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[17:09:22] *** Joins: MaikKlein (maik@moz-C731CFBB.dip0.t-ipconnect.de)
[17:09:34] *** Joins: webber46 (webber46@moz-DC342D45.cust.bredband2.com)
[17:09:39] *** Joins: eschweic (Adium@2557E599.66715431.D25A875A.IP)
[17:09:43] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[17:11:28] *** Quits: dbaupp (Thunderbir@moz-C6B1454A.lns20.syd7.internode.on.net) (Ping timeout)
[17:12:35] *** Joins: sp3d (a@moz-49806493.dhcp.stls.mo.charter.com)
[17:12:46] *** Quits: cypher (ircnet@moz-1D494DB3.vie.surfer.at) (Quit: Leaving...)
[17:14:03] *** Quits: \n (NDesaulnie@43CB6079.66715431.D25A875A.IP) (Ping timeout)
[17:14:46] *** Joins: pcwalton (pcwalton@43CB6079.66715431.D25A875A.IP)
[17:14:46] *** ChanServ sets mode: +o pcwalton
[17:14:54] *** Joins: \n (NDesaulnie@2557E599.66715431.D25A875A.IP)
[17:15:22] *** Joins: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP)
[17:16:33] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[17:16:33] *** ChanServ sets mode: +o brson
[17:17:02] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[17:17:10] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[17:18:57] *** Quits: Blub\w (wry@moz-7734488E.wireless.dyn.drei.com) (Ping timeout)
[17:21:09] <bblum> nmatsakis: reading backlog, what do you mean by "lifetimes are always bound at the point of member access"?
[17:22:12] *** Joins: seth (seth@2557E599.66715431.D25A875A.IP)
[17:23:09] *** Quits: SingingBoyo (brandon@moz-948F798A.wifi.ubc.ca) (Ping timeout)
[17:24:10] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[17:25:18] *** Quits: judder (maradukewa@85208D00.97F8E51D.E305BD61.IP) (Client exited)
[17:26:33] *** Quits: MaikKlein (maik@moz-C731CFBB.dip0.t-ipconnect.de) (Ping timeout)
[17:27:04] <nmatsakis> bblum: I was speaking about a hypothetical extension to what we have today.
[17:28:09] <bblum> yeah, i just didn't grok what it meant, or how it would solve the -> &'a uint problem
[17:29:32] <kimundi> @The rust devs: I have a proposal for the @T -> Gc<T> idea: https://gist.github.com/Kimundi/5744578
[17:29:32] *** Quits: maxli (maxli@F2D29657.F60B0462.67AC9B1.IP) (Quit: Leaving.)
[17:32:08] *** Joins: tikue (tkuehn@2557E599.66715431.D25A875A.IP)
[17:32:40] *** Quits: tikue (tkuehn@2557E599.66715431.D25A875A.IP) (Quit: tikue)
[17:34:49] *** Joins: maxli (maxli@F2D29657.F60B0462.67AC9B1.IP)
[17:35:00] *** Parts: ecr (ereed@2557E599.66715431.D25A875A.IP) ()
[17:35:07] *** Joins: tikue (tkuehn@2557E599.66715431.D25A875A.IP)
[17:36:34] *** Quits: Palmik (palmik@moz-5CA3F354.pks.muni.cz) (Ping timeout)
[17:40:03] <Blei> kimundi: i'm not a dev, but this looks awesome
[17:40:16] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Input/output error)
[17:41:13] <\n> Is there a tutorial on building a rust pkg?
[17:42:22] <tjc> \n: rustpkg is in flux right now, but you can find the manual, such as it is, in doc/rustpkg.md
[17:43:00] <\n> tjc: is there any functionality for installing external dependencies?
[17:43:11] <tjc> \n: Yes, but it's experimental
[17:43:27] <tjc> if you're on incoming, right now, rustpkg will automatically search for packages based on extracting `extern mod` directives
[17:43:42] <tjc> but, where it searches for packages is limited and can't be easily configured right now (that's the next item on my todo list)
[17:44:10] <\n> such as, say my pkg is a shim between a DLL written in C, and rust.  Can i specify that my pkg needs this external dependency, here's where it is, here's how to build it from source?
[17:44:24] *** Quits: hjr3 (hradtke@moz-1EBFFE8.public.wayport.net) (Ping timeout)
[17:44:50] <tjc> I haven't worked out yet what the details of building C libraries will be
[17:44:54] *** Joins: hjr3 (hradtke@moz-1EBFFE8.public.wayport.net)
[17:45:03] <tjc> basically, though, you'll have to write a pkg.rs file -- that's rustpkg's mechanism for custom build logic
[17:45:11] <tjc> could be as simple as a Rust program that shells out to call "make"
[17:45:46] <\n> how do you call out to the shell in rust?  do you have to fork & exec a shell process?
[17:45:49] <flu_> Any clues as to what is causing the test failures with 'PrettyStackTrace'? It's preventing PR 6945 and 7035 (possibly others) from showing as clean
[17:46:16] <tjc> \n: you can use run::process_output -- see std::run
[17:46:17] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[17:46:18] <flu_> relevant error -> http://buildbot.rust-lang.org/builders/auto-mac/builds/1649/steps/test/logs/stdio (last line)
[17:46:25] <Blei> flu_: heh, see https://github.com/mozilla/rust/pull/6945#issuecomment-19214766
[17:46:30] <\n> tjc: thanks!
[17:46:46] <tjc> \n: no problem! if you run into anything surprising with rustpkg, let me know
[17:46:50] <flu_> Blei: good find!
[17:46:53] <tjc> there's a lot that's unfinished, but would still be nice to know
[17:47:27] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:47:35] <\n> tjc: do you and the other core devs have meetings on the design of the dependency manager?
[17:47:53] <tjc> \n: we had a meeting a few weeks ago, there's no regularly scheduled meeting on it
[17:48:03] *** Joins: Palmik (palmik@moz-5CA3F354.pks.muni.cz)
[17:48:52] *** Quits: davbo (dave@moz-3FFA637C.oucs.ox.ac.uk) (Client exited)
[17:52:17] <\n> tjc: may I replace https://github.com/mozilla/rust/wiki/Rustpkg with the contents of doc/rustpkg.md?
[17:52:30] *** Quits: Guest_ (textual@BBE7C46A.B4F11D08.8612FA94.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[17:53:45] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[17:54:05] *** Quits: tiffnya (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net) (Ping timeout)
[17:54:35] *** Quits: azita (Azita@2557E599.66715431.D25A875A.IP) (Quit: azita)
[17:54:47] <cmr> rusti: fn foo(x: @int) -> &int { x } foo(@4)
[17:54:51] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/gQSK
[17:55:12] <cmr> kimundi: Proposal looks good to me
[17:55:37] *** Joins: Jesse (jruderman@2557E599.66715431.D25A875A.IP)
[17:55:54] *** Joins: jed (Mibbit@BBE7C46A.B4F11D08.8612FA94.IP)
[17:56:37] *** Quits: \n (NDesaulnie@2557E599.66715431.D25A875A.IP) (Ping timeout)
[17:57:20] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[17:58:00] *** Joins: \n (NDesaulnie@2557E599.66715431.D25A875A.IP)
[17:59:03] *** Quits: sk (sk@44FB31D1.A56C954C.78DD174B.IP) (Quit: Leaving)
[18:00:54] *** Joins: azita (Azita@2557E599.66715431.D25A875A.IP)
[18:02:30] <tjc> \n: Sorry, phone rang. One sec...
[18:02:35] <\n> np
[18:02:59] <tjc> \n: Heh, I didn't know that wiki page was there. Yeah, I would suggest linking to the up-to-date copy of rustpkg.md on github...
[18:03:07] <tjc> copying/pasting is bad cause it will get out of date :-)
[18:03:25] <tjc> at some point we'll change the build system to publish the rustpkg docs on the web site too, but it's too immature right now
[18:04:31] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:04:41] <jed> are there any easily available libraries with an ordered hashset?
[18:05:45] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[18:05:54] *** Quits: eschweic (Adium@2557E599.66715431.D25A875A.IP) (Quit: Leaving.)
[18:06:17] <cmr> jed: if it's not in extra, then probably not
[18:06:17] *** Quits: SimonSapin (simon@88F51059.F3BBB17D.144F44FA.IP) (Quit: Leaving.)
[18:07:01] <\n> tjc: done
[18:07:04] *** Quits: webber46 (webber46@moz-DC342D45.cust.bredband2.com) (Ping timeout)
[18:07:09] <tjc> \n: thanks!
[18:07:10] *** Joins: Guest (textual@BBE7C46A.B4F11D08.8612FA94.IP)
[18:07:20] *** Quits: pcwalton (pcwalton@43CB6079.66715431.D25A875A.IP) (Quit: pcwalton)
[18:07:31] *** Quits: seth (seth@2557E599.66715431.D25A875A.IP) (Input/output error)
[18:07:34] *** Quits: tikue (tkuehn@2557E599.66715431.D25A875A.IP) (Quit: tikue)
[18:07:45] <Blei> jed: treemap in extra might be what you want
[18:07:47] *** Joins: webber46 (webber46@moz-DC342D45.cust.bredband2.com)
[18:08:03] <jed> yeah just spotted that. thanks :)
[18:08:38] *** Quits: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP) (Ping timeout)
[18:08:55] <flu_> Is there any work to be done building out common data structures, or does extra / std pretty much have all the bases covered?
[18:09:40] <Blei> tjc: is it possible to run the rustpkg tests single threadedly on the build bots?
[18:09:47] <Blei> tjc: see https://github.com/mozilla/rust/pull/6945#issuecomment-19213438 and following
[18:10:31] <cmr> tjc: looking at the manual, will rustpkg handle cross compilation?
[18:10:32] *** Quits: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP) (Ping timeout)
[18:10:35] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[18:10:40] *** Quits: azita (Azita@2557E599.66715431.D25A875A.IP) (Quit: azita)
[18:10:45] <tjc> cmr: Eventually, yes, since we're going to build rustc with rustpkg
[18:10:51] <tjc> Blei: Looking at it
[18:10:52] <cmr> tjc: wonderful!
[18:11:27] <tjc> Blei: I think it's possible,b ut I don't remember the incantation to disable threads -- brson would, though
[18:11:36] *** Quits: cowboyd (cowboyd@1D8844A7.1B729417.CEE440B6.IP) (Client exited)
[18:11:45] <Blei> tjc: thanks
[18:11:58] <cmr> RUST_THREADS=1 ?
[18:12:37] <tjc> cmr: I tried that, didn't seem to work
[18:13:05] <jed> looking through std and extra, most basic data structures look to have at least some implementation. But things like b-trees look missing
[18:13:23] <flu_> jed: rgr
[18:13:43] <flu_> there was also the talk of making external iterators part of std - probably should hold my horses till a decision is made there
[18:13:55] *** Quits: Yurume_ (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[18:14:04] *** Joins: MaikKlein (maik@moz-C3CB0EB4.dip0.t-ipconnect.de)
[18:14:51] <cmr> flu_: they're already there
[18:14:53] <cmr> have been for a bit
[18:15:01] <cmr> std::iterator
[18:15:07] <flu_> huh- wonder what all the chatter was about last week?
[18:15:17] <flu_> maybe just picking a de facto 'right way'
[18:15:57] <cmr> There's still discussion about modifying `for` to work better with them
[18:15:58] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[18:16:02] *** Joins: eschweic (Adium@2557E599.66715431.D25A875A.IP)
[18:16:11] *** Joins: tikue (tkuehn@2557E599.66715431.D25A875A.IP)
[18:16:13] <flu_> ah! ok, that makes sense. I'm all for that :-)
[18:16:26] <flu_> with the fallback to internal iterators ala python
[18:16:48] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[18:18:25] <cmr> Python doesn't really use internal iterators at all
[18:18:49] <ssbr> the fallback python has is to C-style iteration
[18:18:58] <flu_> :-X
[18:19:02] * flu_ falls back to lurking
[18:19:32] *** Joins: pcwalton (pcwalton@43CB6079.66715431.D25A875A.IP)
[18:19:32] *** Quits: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk) (Ping timeout)
[18:19:32] *** ChanServ sets mode: +o pcwalton
[18:19:57] <pcwalton> nmatsakis: r? https://github.com/mozilla/rust/pull/7009
[18:20:52] <nmatsakis> pcwalton: I thought I r+'d that already...
[18:20:57] <nmatsakis> pcwalton: but r+ again :)
[18:23:36] <MaikKlein> how do i generate my ctags files? if I do sth like "maik@maik-UX32VD:~/rust$ ctags -R src/etc/ctags.rust " the generated tags file is only 5 lines big
[18:24:16] <doener> MaikKlein: because you told it to read src/etc/ctags.rust only
[18:24:20] <doener> MaikKlein: just "ctags -R2
[18:24:24] <doener> err, "ctags -R"
[18:24:37] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[18:24:37] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1463d3790 to 142ff6b29: 02http://git.io/N3iJvQ
[18:24:37] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[18:24:42] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[18:24:42] <ghrust> 01[13rust01] 15bors pushed 8 new commits to 06auto: 02http://git.io/zOvOqQ
[18:24:42] <ghrust> 13rust/06auto 14ac1a4cc 15Patrick Walton: librustc: Rename Owned to Send in the compiler
[18:24:42] <ghrust> 13rust/06auto 1495df806 15Patrick Walton: librustc: Change Const to Freeze in the compiler
[18:24:42] <ghrust> 13rust/06auto 14a8278a4 15Patrick Walton: librustc: Rename Const to Freeze
[18:24:45] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[18:25:10] <MaikKlein> doener, you mean just ctags -R without the src/etc/ctags.rust ?
[18:25:13] <Jeaye> Don't we have `make VI.tags` and the same for emacs?
[18:25:21] *** Quits: \n (NDesaulnie@2557E599.66715431.D25A875A.IP) (Quit: \n)
[18:25:28] <MaikKlein> i only have sublime atm
[18:25:33] <doener> MaikKlein: right
[18:25:35] <Jeaye> Ahh, Sublime.
[18:25:51] <flu_> MaikKlein: I always just fire it with 'ctags -R' from the source root of a project. My vimrc knows to search upwards in the directory tree for a tags file
[18:26:16] <Jeaye> flu_: Do you have code completion in Vim for Rust?
[18:26:37] *** Quits: tjc (tjc@moz-8238B076.hsd1.wa.comcast.net) (Ping timeout)
[18:26:45] <flu_> Jeaye: Haven't tried it yet honestly.
[18:26:52] <doener> MaikKlein: if you didn't add the contents of the ctags.rust file to your ctags config like, use "ctags -R --options=src/etc/ctags.rust"
[18:26:58] <Jeaye> So you just have tag following with ^] ?
[18:27:30] <flu_> Jeaye: haven't tried it on a rust project. I'd imagine you need the ctags.rust file mentioned above in your config (I use ~/.ctags)
[18:27:40] *** Quits: noct (quassel@moz-BAA6B280.com) (Ping timeout)
[18:27:46] *** Quits: jeff (jeff@4231C034.745B261B.F12515B4.IP) (Quit: jeff)
[18:28:04] <Jeaye> I s'pose I assumed you were saying you had tags working in Vim for Rust, sorry.
[18:28:10] *** Quits: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net) (Client exited)
[18:28:21] *** Quits: jorendorff (jorendorff@moz-B3A3C37B.hsd1.tn.comcast.net) (Quit: jorendorff)
[18:28:32] <flu_> Jeaye: just tried without the ctags.rust additions, and it does indeed generate an empty-ish tags file :-)
[18:28:35] *** Joins: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net)
[18:28:42] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[18:28:56] *** Quits: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net) (Connection reset by peer)
[18:29:34] *** Joins: tjc (tjc@moz-8238B076.hsd1.wa.comcast.net)
[18:29:34] *** ChanServ sets mode: +o tjc
[18:29:40] <MaikKlein> doener, thanks
[18:29:44] <flu_> Jeaye: Added the ctags.rust contents to my ~/.ctags, works like a charm
[18:30:00] <flu_> ctrl-n for completion, ctrl-] goes to tag
[18:30:13] <Jeaye> Nice. I'll need to give it a shot.
[18:30:17] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Ping timeout)
[18:30:24] *** Joins: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net)
[18:30:40] *** Joins: jeff (jeff@4231C034.745B261B.F12515B4.IP)
[18:30:41] <MaikKlein> I don't have a ~/.ctags folder 
[18:30:56] *** Quits: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net) (Connection reset by peer)
[18:31:35] <flu_> MaikKlein: it's just a flat file. The file that ctags uses for config by default. You can manually specify it with --options/path/to/file
[18:31:48] <flu_> sorry, --options=/path/to/file
[18:32:14] <flu_> that file should have the "--langdef=rust" etc stuff in it
[18:32:15] <MaikKlein> yeah
[18:32:19] <MaikKlein> that works like a charm
[18:32:24] <flu_> woot :-)
[18:32:24] *** Joins: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net)
[18:32:39] <MaikKlein> doener just posted that :)
[18:32:49] <MaikKlein> but now I have to figure out how to hell sublime to use this file
[18:32:50] *** Quits: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net) (Connection reset by peer)
[18:32:53] <MaikKlein> tell*
[18:33:47] *** Joins: jorendorff (jorendorff@moz-B3A3C37B.hsd1.tn.comcast.net)
[18:34:42] *** Joins: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk)
[18:34:48] *** Joins: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net)
[18:34:51] <Jeaye> flu_: I get a symbol popup window, but it's not context aware
[18:35:02] *** Joins: dymk (dymk@44EEE21C.A6E21E6E.5E500FC7.IP)
[18:35:12] <Jeaye> So std:: and then ^n doesn't give what's in the std module
[18:35:14] *** Quits: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net) (Connection reset by peer)
[18:35:18] <flu_> Jeaye: I've never had vim + ctags be particularly smart about context
[18:35:35] <Jeaye> It is with C++ for me, but that's using OmniCPP for a plugin.
[18:36:10] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Computer has gone to sleep.)
[18:36:16] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[18:36:18] *** Joins: noct (quassel@moz-BAA6B280.com)
[18:36:20] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[18:36:20] *** Quits: Guest (textual@BBE7C46A.B4F11D08.8612FA94.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[18:37:08] *** Joins: cowboyd (cowboyd@moz-1BD02A1E.sw.biz.rr.com)
[18:37:37] *** Joins: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net)
[18:38:11] <bblum> toddaaro: https://github.com/mozilla/rust/issues/3224
[18:38:11] *** Quits: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net) (Connection reset by peer)
[18:38:24] <yoshi> sanity check: atm, rust's traits are most like implementations, and can't accommodate straight-up inheritance...?
[18:38:55] <yoshi> *java interfaces, not implementations (?!) sorry for the brainfart
[18:39:11] <tjc> yoshi: if by inheritance, you mean code-reuse inheritance, then you're correct
[18:39:20] <tjc> the one exception to that is default methods, but those aren't fully implemented
[18:39:27] <tjc> and are meant to accommodate a particular subset of inheritance
[18:39:58] <yoshi> tjc: yes, that's what I mean. If I understand "default methods" correctly, that's basically java abstract classes?
[18:40:11] <MaikKlein> ahh finally it works thanks @ all
[18:40:16] <tjc> yoshi: not exactly, but I have to refresh my memory on abstract classes
[18:40:40] <yoshi> they're basically partially implemented interfaces, a combination between a regular ol' class and an interface
[18:40:44] <tjc> Oh, hmm, maybe
[18:40:45] <yoshi> which is completely unimplemented
[18:40:50] <yoshi> interesting, thanks!
[18:40:50] *** Joins: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net)
[18:41:16] <yoshi> and it seems that default implementations are in the works for rust? is that correct?
[18:41:16] *** Quits: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net) (Connection reset by peer)
[18:41:38] <tjc> yoshi: yes, they're planned, though not actively being worked on at the moment
[18:41:55] *** Quits: sankha93 (Instantbir@65E1D838.72E7F57E.8B6C1D65.IP) (Ping timeout)
[18:41:57] <yoshi> cool, thanks!
[18:42:00] <yoshi> tjc
[18:42:44] *** Joins: wilsonk|2 (kvirc@moz-39EFBFC2.cg.shawcable.net)
[18:42:51] *** Joins: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net)
[18:43:15] *** Quits: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net) (Ping timeout)
[18:43:16] *** Quits: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net) (Connection reset by peer)
[18:44:04] <MaikKlein> wow
[18:45:02] <MaikKlein> ctags are awesome
[18:45:10] <flu_> +1
[18:45:46] *** Joins: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net)
[18:46:06] <MaikKlein> and I tried to understand rustc with only a text editor. Even thinking about it seems completely ridiculous
[18:46:09] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[18:46:09] *** ChanServ sets mode: +o brson
[18:46:14] *** Quits: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net) (Connection reset by peer)
[18:46:21] *** Joins: sankha93 (Instantbir@83FDCCBB.7C356C25.8B6C1D65.IP)
[18:46:46] *** Quits: tikue (tkuehn@2557E599.66715431.D25A875A.IP) (Quit: tikue)
[18:47:04] <yoshi> actually there isn't *any* inheritance, is there...?
[18:47:22] <MaikKlein> not really
[18:48:17] <MaikKlein> enums are similar if you just want something like grouping (btw they are called ADT's)
[18:48:28] <yoshi> ah, well :P thanks!
[18:48:40] *** Joins: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net)
[18:48:50] <yoshi> um, sorry, I'm not seeing how enums are similar -- what do you mean grouping?
[18:49:02] <MaikKlein> for example
[18:49:05] <yoshi> i.e. suppose I have a class Car
[18:49:06] *** Quits: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net) (Connection reset by peer)
[18:49:16] <yoshi> and want a class Minivan to inherit a bunch of stuff already in Car
[18:49:19] <MaikKlein> enum expression { add, mult, sub}
[18:49:22] <yoshi> like name, weight, mpg
[18:49:27] <MaikKlein> no
[18:49:39] <MaikKlein> inheritance is not possible you can use traits
[18:49:41] *** Quits: eschweic (Adium@2557E599.66715431.D25A875A.IP) (Quit: Leaving.)
[18:49:51] <yoshi> yeah, that's what I figured, thanks
[18:49:53] <MaikKlein> there are similar to interfaces
[18:50:02] <MaikKlein> they'*
[18:50:05] <yoshi> I see what you mean by enums now -- not what I typically have in mind when talking about inheritance
[18:50:08] <yoshi> (parent-child)
[18:50:12] <yoshi> more like sibling-sibling, haha
[18:50:17] <MaikKlein> y
[18:50:25] <yoshi> right, thanks
[18:51:10] *** Joins: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net)
[18:51:10] <bblum> graydon: ping
[18:52:00] <graydon> pong
[18:52:03] *** Quits: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net) (Connection reset by peer)
[18:52:05] *** Quits: tjc (tjc@moz-8238B076.hsd1.wa.comcast.net) (Ping timeout)
[18:52:21] <bblum> graydon: can you tell me about this ghi thing in the triage email?
[18:52:41] <graydon> https://github.com/stephencelis/ghi
[18:52:57] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Client exited)
[18:52:59] <graydon> apt-get install ghi on linux
[18:53:08] <graydon> i think. or maybe gem install ghi
[18:53:11] <graydon> it's ruby
[18:53:26] <graydon> command line client for github
[18:53:32] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[18:53:38] <graydon> (sorry, slow typing, broken shoulder)
[18:53:41] *** Joins: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net)
[18:54:01] <kimundi> ouch
[18:54:09] <kimundi> :(
[18:54:09] *** Quits: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net) (Connection reset by peer)
[18:54:11] *** Joins: krebbit (Mibbit@3E9D68F2.B1163E0C.2A6693DD.IP)
[18:54:21] <MaikKlein> how did you manage to break a shoulder?
[18:55:05] <sp3d> unsafe blocks?
[18:55:25] *** Joins: tjc (tjc@moz-8238B076.hsd1.wa.comcast.net)
[18:55:25] *** ChanServ sets mode: +o tjc
[18:55:30] <MaikKlein> haha
[18:55:42] *** Joins: \n (NDesaulnie@2557E599.66715431.D25A875A.IP)
[18:56:36] *** Joins: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net)
[18:57:26] *** Quits: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net) (Connection reset by peer)
[18:58:05] <MaikKlein> what is a definition in Rust?
[18:58:17] <flu_> graydon: protip - 'tig', excellent ncurses interface for git, also makes a great pager for git log
[18:58:32] <EXetoC> word
[18:59:04] <graydon> sure, but ghi is for _github_ -- the issues system, specifically. not git.
[18:59:23] <flu_> graydon: oh, nice!
[18:59:58] *** Quits: krebbit (Mibbit@3E9D68F2.B1163E0C.2A6693DD.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:00:05] <graydon> tig's nice though, thanks
[19:00:21] <flu_> yeah, that's a good tool trade, haha. 
[19:00:48] *** Quits: fabiand (fabiand@moz-24FEA205.adsl.alicedsl.de) (Quit: Verlassend)
[19:04:35] *** Joins: gareth0 (gareth0@moz-4412FD67.dynamic.dsl.as9105.com)
[19:05:34] *** Quits: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net) (Ping timeout)
[19:05:40] *** Joins: ecr (ereed@2557E599.66715431.D25A875A.IP)
[19:07:07] <MaikKlein> does anyone know how I can break out of git grep?
[19:07:13] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[19:07:23] *** Quits: donri (dag@moz-9BB61102.tbcn.telia.com) (Ping timeout)
[19:07:26] <sp3d> if ^C doesn't work and neither does ^C^C, maybe ^4 would?
[19:07:41] <sp3d> i.e. ^\
[19:07:47] <cyndis> q
[19:07:51] <doener> MaikKlein: like most git tools, grep spawns a pager, usually less. Try q
[19:07:56] <MaikKlein> ah q works
[19:07:58] <MaikKlein> thanks <3
[19:08:42] *** Quits: mzabaluev (mzabaluev@moz-91FFD755.dhcp.inet.fi) (Ping timeout)
[19:08:42] *** Quits: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP) (Quit: eatkinson)
[19:09:22] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:10:20] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Quit: WeeChat 0.4.1)
[19:10:49] *** Joins: azita (Azita@2557E599.66715431.D25A875A.IP)
[19:11:00] *** Quits: mje (Mibbit@moz-7F01A599.hsd1.pa.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[19:11:05] *** Quits: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP) (Client exited)
[19:11:18] *** Quits: victorporof (victorporo@D4D7A384.56056C9.D111398B.IP) (Quit: victorporof)
[19:11:43] <flu_> MaikKlein: fwiw you can set that with 'git config --global core.pager "pagerprogram"'
[19:11:44] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[19:11:44] <MaikKlein> my mind is still blown that ctags are so fast
[19:12:13] <MaikKlein> flu_, thanks
[19:12:20] *** Joins: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP)
[19:12:44] *** Joins: ghrust (ghrust@FD7BC443.6A2AE50.F3114085.IP)
[19:12:44] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 142ed8d57 to 142ff6b29: 02http://git.io/N3iJvQ
[19:12:44] *** Parts: ghrust (ghrust@FD7BC443.6A2AE50.F3114085.IP) ()
[19:12:46] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[19:12:46] <ghrust> 01[13rust01] 15bors pushed 22 new commits to 06auto: 02http://git.io/ip3Q9Q
[19:12:46] <ghrust> 13rust/06auto 141e8982b 15Huon Wilson: std: replace str::each_split* with an iterator
[19:12:46] <ghrust> 13rust/06auto 14b29cd22 15Huon Wilson: std: replace str::all/any fns and methods with iterators
[19:12:46] <ghrust> 13rust/06auto 14c32fb53 15Huon Wilson: std: remove str::{len, slice, is_empty} in favour of methods.
[19:12:48] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[19:15:50] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Computer has gone to sleep.)
[19:16:03] <brson> i'm going to look at the incoming breakage now
[19:16:36] <cmr> yoshi: http://lwn.net/Articles/548560/
[19:17:10] <yoshi> cmr: thanks! checking it out now
[19:17:36] <strcat> graydon: btw the site needs to be updated for the core -> std and std -> extra renaming
[19:17:41] <cmr> brson: I looked at linux a bit, it seemed to be random breakage along the lines of the read_int function where the code is generated wrong without the debug!() line (or it may have been a different logging)
[19:17:47] <strcat> graydon: the docs were generated properly but the front page links to the wrong stuff
[19:17:53] *** Quits: hjr3 (hradtke@moz-1EBFFE8.public.wayport.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[19:18:10] *** Joins: seth (seth@2557E599.66715431.D25A875A.IP)
[19:19:20] <MaikKlein> btw how does an or look like in rust? I mean || is revered for closures
[19:19:54] *** Joins: Axord (xord@moz-C3CCF156.lsanca.dsl-w.verizon.net)
[19:20:06] <sp3d> rusti: 4 | 5
[19:20:07] -rusti- 5
[19:20:15] <sp3d> rusti: true | false
[19:20:15] <flu_> rusti:  println(fmt!("%?", true || false));
[19:20:17] -rusti- true
[19:20:17] -rusti- true
[19:20:17] -rusti- ()
[19:20:41] <MaikKlein> 1 | 2
[19:20:47] <MaikKlein> rusti: 1 | 2
[19:20:48] -rusti- 3
[19:20:49] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[19:20:59] <MaikKlein> ok so rust knows when it's a closure and when it should be an or
[19:21:00] <MaikKlein> ok
[19:21:16] <MaikKlein> rusti: true || false
[19:21:17] -rusti- true
[19:21:24] <flu_> rusti:  println(fmt!("%?", true | {println("I was evaluated"); false}));
[19:21:25] -rusti- I was evaluated
[19:21:25] -rusti- true
[19:21:25] -rusti- ()
[19:21:30] <flu_> also, that ^
[19:21:32] <MaikKlein> rusti: !(true || false)
[19:21:33] -rusti- false
[19:21:34] *** Quits: seth (seth@2557E599.66715431.D25A875A.IP) (Ping timeout)
[19:21:36] <flu_> double pipe for short-circuiting or
[19:21:38] <sp3d> ah, right
[19:21:57] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[19:25:45] <MaikKlein> rusti:  println(fmt!("%?", false | {println("I was evaluated"); true}));
[19:25:45] -rusti- I was evaluated
[19:25:46] -rusti- true
[19:25:46] -rusti- ()
[19:26:00] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[19:26:35] <cmr> rusti: println(fmt!("%?", true || {println("I was evaluated"); true}))
[19:26:37] -rusti- true
[19:26:37] -rusti- ()
[19:26:52] *** Quits: jorendorff (jorendorff@moz-B3A3C37B.hsd1.tn.comcast.net) (Quit: jorendorff)
[19:27:40] <yoshi> cmr: interesting read, thanks. I'm still not totally clear on why, philosophically, "classes" and "inheritance" in the classical sense (i.e. with code reuse) are worth forgoing
[19:27:47] *** Parts: steven_is_false (user@moz-144077DE.bchsia.telus.net) (ERC Version 5.3 (IRC client for Emacs))
[19:27:49] *** Joins: tikue (tkuehn@2557E599.66715431.D25A875A.IP)
[19:27:57] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Computer has gone to sleep.)
[19:28:02] <yoshi> hm
[19:28:17] <strcat> rust doesn't "forgo" code reuse
[19:28:25] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[19:28:30] <MaikKlein> rusti: println(fmt!("%?", true || {println("I was evaluated"); true;}))
[19:28:36] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/JLcb
[19:28:42] <MaikKlein> ok hm
[19:28:44] <yoshi> ah, it's probable that I just don't know how properly to use it then
[19:29:00] <yoshi> let's say I have minivans, SUVs, (I don't know many other cars)
[19:29:01] <flu_> MaikKlein: drop the semi-colon after the last true
[19:29:04] <MaikKlein> y
[19:29:11] <MaikKlein> rusti: println(fmt!("%?", true || {println("I was evaluated"); true}))
[19:29:11] -rusti- true
[19:29:12] -rusti- ()
[19:29:13] *** Quits: heftig (heftig@moz-F25B4C08.dip0.t-ipconnect.de) (Ping timeout)
[19:29:16] <MaikKlein> but why doesn't it print
[19:29:18] <yoshi> and I want to have some way to reuse the code to get their model and mileage
[19:29:23] <flu_> it short circuits ^_^
[19:29:25] <jed> use traits
[19:29:27] <yoshi> how would one do that in rust?
[19:29:28] <MaikKlein> i mean the block should get evaluated too 
[19:29:29] <cmr> yoshi: trait with default method
[19:29:35] <MaikKlein> ok
[19:29:40] <flu_> since an 'or' is guaranteed to be true if the left side is true, it doesnt even look at the right side
[19:29:41] <yoshi> aren't those in the works?
[19:29:44] <strcat> yoshi: doesn't make much sense to me. aren't they all going to have different hardcoded constants?
[19:29:44] <MaikKlein> now i google short circuit :D
[19:29:53] <strcat> yoshi: you can write generic implementations of traits right now
[19:30:01] <jed> no traits are available, they work similar to typeclasses from haskell
[19:30:04] *** Joins: heftig (heftig@moz-F25B4C08.dip0.t-ipconnect.de)
[19:30:05] <yoshi> hm, OK, thanks
[19:30:38] *** Joins: carter (carter@moz-BDFE46F6.nyc.biz.rr.com)
[19:30:40] <flu_> MaikKlein: it's useful for things like, if i_already_determined_this || determine_something_really_expensive()
[19:31:00] <strcat> yoshi: the iterator adaptors in iterator.rs are only written once. if you want an example to look at
[19:31:19] <yoshi> ah that'd be helpful thanks much
[19:31:24] <strcat> they're implemented as methods on every kind of iterator but iterators only implement a single method to get those extensions
[19:31:25] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[19:31:34] <cmr> yoshi: but yeah your contrived example is too contrived :p
[19:31:34] <dymk> rusti: println(fmt!("%?", nil || {println("I was evaluated"); true}))
[19:31:34] <strcat> in the future they should just be default methods that the implementation can choose to override
[19:31:39] <strcat> for now it's a generic implementation
[19:31:59] <deepdog> MaikKlein: Try changing that first true to false and you'll see that the second block is now evaluated.
[19:32:12] <MaikKlein> deepdog, already tried that above
[19:32:14] *** Quits: tjc (tjc@moz-8238B076.hsd1.wa.comcast.net) (Quit: zzzzzzzzzz)
[19:32:14] <strcat> yoshi: https://github.com/mozilla/rust/blob/incoming/src/libstd/iterator.rs
[19:32:20] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/LViV
[19:32:20] <kimundi> dymk: No nil in rust
[19:32:25] <MaikKlein> deepdog, it also prints
[19:32:35] <yoshi> well, actually that's not *quite* what I mean; that's fairly straightforward as an interface. thanks still! strcat
[19:32:51] <yoshi> cmr: well, yes... but it shouldn't be that hard to come up with a slightly less contrived example? :P
[19:32:52] <deepdog> Yeah I now see that flu_ told you the same thing.
[19:33:28] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:33:33] <strcat> yoshi: it will be, because there are alternate ways of sharing code
[19:33:38] <strcat> you don't need object inheritance
[19:34:24] <yoshi> fair enough; I guess I was wondering why there might be such objection but it seems like it's basically "We have this thing that works, why need something more complicated?"
[19:34:48] <strcat> yoshi: type classes and interfaces work, why do we need something more complicated/convoluted?
[19:34:54] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (No route to host)
[19:34:56] <MaikKlein> ähm
[19:34:59] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[19:35:03] *** Quits: webber46 (webber46@moz-DC342D45.cust.bredband2.com) (Quit: webber46)
[19:35:08] <strcat> yoshi: for one thing, what rust does is fast
[19:35:31] <strcat> you'd need a pretty good reason to substitute it for something much slower, with multiple inheritance issues
[19:35:42] <strcat> traits can do multiple inheritance without any issues
[19:35:55] <strcat> trait MutableMap: Map + Mutable
[19:36:02] <yoshi> fair enough!
[19:36:34] <strcat> when you write something like
[19:36:53] *** Joins: eschweic (Adium@2557E599.66715431.D25A875A.IP)
[19:36:54] <strcat> fn foo<T: Iterator<A>>(a: T) -> A {}
[19:37:02] <strcat> there's no dynamic dispatch
[19:38:00] <yoshi> true
[19:38:01] <strcat> you can *also* use traits as interface objects for edge cases where that would be better, without implementing a whole new form of methods (like C++ makes you do)
[19:38:41] <yoshi> aha so this seems closer to what I'm looking for, thanks... don't remember seeing that in the tutorials?
[19:38:51] <cmr> Trait objects are kinda buggy atm
[19:38:55] <yoshi> or maybe I'm blind :P
[19:39:03] <MaikKlein> traits are in the tutorial
[19:39:04] <cmr> @Trait is mostly fine
[19:39:21] <yoshi> traits are in the tutorial, but not with that much specificity, IIRC
[19:40:46] <strcat> yoshi: they are basically both type classes (type bounds, with static dispatch) + interfaces (boxed objects, with dynamic dispatch)
[19:41:07] <strcat> the trait itself doesn't have to care how it gets used
[19:41:28] *** Quits: a__ (a__@moz-250D9B4.nycmny.fios.verizon.net) (Client exited)
[19:41:32] <dymk> hm, anyone know the point at which incoming goes from green to red on Windows, due to the move to jemalloc? 
[19:41:47] <strcat> dymk: that's fixed now
[19:41:53] <yoshi> sounds reasonable, haha; I'm just looking for more exhaustive/comprehensive examples of traits then
[19:41:53] *** Quits: heftig (heftig@moz-F25B4C08.dip0.t-ipconnect.de) (Ping timeout)
[19:41:59] <yoshi> maybe I should just munge through the source
[19:42:10] <cmr> yoshi: or try writing some code
[19:42:13] <yoshi> iterator.rs helps
[19:42:17] <yoshi> yes, I have, haha
[19:42:37] <MaikKlein> yoshi
[19:42:39] *** Joins: a__ (a__@moz-250D9B4.nycmny.fios.verizon.net)
[19:42:44] <yoshi> ?
[19:42:48] <MaikKlein> search rust for rubyists or sth
[19:43:00] <yoshi> all right, thanks
[19:43:01] <MaikKlein> another tutorial
[19:43:06] *** Joins: ski (md9slj@moz-A8E54C8B.studat.chalmers.se)
[19:43:08] <cmr> Rust for Rubyists doesn't really satisfactorily cover traits right now
[19:43:21] *** Quits: Blei (philipp@moz-96D25F7A.cust.bluewin.ch) (Quit: WeeChat 0.4.1)
[19:43:33] <strcat> yoshi: and you can also use higher-order functions cleanly for lots of cases
[19:43:43] <strcat> you don't need a type bound if you can just accept a function to perform something for you
[19:44:08] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:44:25] *** Joins: josh (josh@E0E12B16.926BA891.2A2F4638.IP)
[19:44:33] <yoshi> that's certainly true
[19:44:35] *** Joins: donri (dag@moz-9BB61102.tbcn.telia.com)
[19:44:57] <strcat> the rust codebase doesn't really make good use of traits yet
[19:45:12] <\n> yoshi: someone named tom lee had a nce post
[19:45:29] <\n> yoshi: http://tomlee.co/2013/05/traits-structs-and-impls-in-rust/
[19:45:31] *** Joins: heftig (heftig@moz-F25B4C08.dip0.t-ipconnect.de)
[19:45:56] <yoshi> \n: thanks, looking at it now
[19:45:59] <flu_> \n: hadn't seen that one yet! thanks for the link drop
[19:46:03] *** Quits: txdv (quassel@966F3542.3BA477DA.14C26596.IP) (Ping timeout)
[19:46:17] <yoshi> side note: how up-to-date *is* the tutorial?
[19:46:20] <yoshi> :P
[19:46:38] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:46:42] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:46:45] <\n> look at the date it was posted :P
[19:46:59] <\n> oh the tutorial...
[19:47:06] <\n> I thought you meant the blog post
[19:47:16] <\n> I beleive the tutorial is fine
[19:47:18] <yoshi> haha
[19:47:39] <yoshi> it seems like the tutorial's for 0.6...?
[19:48:11] <donri> there's http://static.rust-lang.org/doc/tutorial.html
[19:48:15] <\n> from rust-lang.org, Trunk should be latest, 0.6 is 0.6
[19:48:39] *** Quits: heftig (heftig@moz-F25B4C08.dip0.t-ipconnect.de) (Ping timeout)
[19:48:44] <yoshi> so to confirm, http://static.rust-lang.org/doc/tutorial.html *is* for "0.7-pre"
[19:48:46] *** Joins: Jesse_ (jruderman@2557E599.66715431.D25A875A.IP)
[19:48:57] <\n> so technically there's two tutorials, based on whether you're building rust from source, or downloading a prebuilt binary
[19:49:12] *** Quits: Jesse (jruderman@2557E599.66715431.D25A875A.IP) (Connection reset by peer)
[19:49:29] <\n> yoshi: yes
[19:49:39] <yoshi> cool thanks
[19:49:39] <strcat> there are pre-built binaries for incoming ;p
[19:49:55] <\n> strcat: where?
[19:50:17] <strcat> well they are arch linux packages... built daily ;p
[19:50:26] *** Joins: dylukes (dylukes@moz-B5418F79.hsd1.pa.comcast.net)
[19:50:28] <strcat> they probably work on other linux distros
[19:50:35] <strcat> if they have a new enough gcc-libs/glibc
[19:50:52] <strcat> http://pkgbuild.com/~thestinger/repo/ *shrug*
[19:50:58] <gareth0> it is pretty easy to build from source, albeit time-consuming
[19:53:21] <dymk> strcat: seems that incoming still isn't green for windows :/
[19:53:59] <yoshi> interestingly http://tomlee.co/2013/05/traits-structs-and-impls-in-rust/ has almost exactly my earlier contrived example, haha
[19:56:03] <dymk> all sorts of jemalloc errors
[19:56:09] *** Quits: josh (josh@E0E12B16.926BA891.2A2F4638.IP) (Ping timeout)
[19:56:35] <strcat> dymk: on master, not incoming
[19:56:45] <strcat> http://buildbot.rust-lang.org/builders/incoming-full-win
[20:03:11] *** Quits: tav (tav@moz-F64BC922.range86-145.btcentralplus.com) (Quit: tav)
[20:03:17] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Input/output error)
[20:03:43] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[20:04:45] *** Joins: seth (seth@2557E599.66715431.D25A875A.IP)
[20:05:02] *** Joins: qmx (qmx@158DBDE0.B4C46C69.F6297865.IP)
[20:05:03] *** Joins: heftig (heftig@moz-F25B4C08.dip0.t-ipconnect.de)
[20:05:10] *** Quits: joelteon (joel@3E7A42CF.BE63433B.EE6E63A5.IP) (Quit: bye)
[20:05:28] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[20:05:53] *** Joins: joelteon (joel@moz-317E8D0C.io)
[20:08:42] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[20:09:26] <Jesse_> hehe https://twitter.com/sw17ch/statuses/344087396020793344
[20:09:43] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[20:09:44] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/ip3Q9Q
[20:09:44] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[20:10:44] *** Joins: ecr1 (ereed@2557E599.66715431.D25A875A.IP)
[20:11:55] *** Quits: ecr (ereed@2557E599.66715431.D25A875A.IP) (Ping timeout)
[20:12:37] *** Quits: carter (carter@moz-BDFE46F6.nyc.biz.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[20:12:37] *** Quits: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP) (Quit: eatkinson)
[20:12:44] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[20:12:44] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/I0N3qA
[20:12:44] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[20:12:48] <MaikKlein> Jesse_, haha
[20:14:48] *** Quits: pyrac (pyrac@moz-B2CB8564.w92-156.abo.wanadoo.fr) (Quit: pyrac)
[20:15:25] *** Joins: dymk_ (dymk@moz-C336D200.client.dyn.strong-sf34.as22781.net)
[20:15:35] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[20:15:36] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/I0N3qA
[20:15:36] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[20:15:38] *** Joins: ghrust (ghrust@FD7BC443.6A2AE50.F3114085.IP)
[20:15:38] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/QOj_Fg
[20:15:38] <ghrust> 13rust/06auto 148cd9cb7 15Kevin Ballard: terminfo: Support more terminfo directory structures...
[20:15:38] <ghrust> 13rust/06auto 1415d47f0 15bors: auto merge of #7042 : kballard/rust/terminfo-searcher-paths, r=thestinger...
[20:15:39] *** Parts: ghrust (ghrust@FD7BC443.6A2AE50.F3114085.IP) ()
[20:16:11] *** Quits: dymk (dymk@44EEE21C.A6E21E6E.5E500FC7.IP) (Ping timeout)
[20:16:12] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[20:17:55] *** Quits: MaikKlein (maik@moz-C3CB0EB4.dip0.t-ipconnect.de) (Ping timeout)
[20:18:38] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[20:18:45] *** Joins: HollyRain (HollyRain@moz-50A83091.dyn.user.ono.com)
[20:19:34] <HollyRain> I could not send a message to the ML, I tried it yesterday and today; it is not the first time that I send a message
[20:22:19] *** Joins: cuemin__ (dymk@moz-B708CCC4.sub-70-211-88.myvzw.com)
[20:22:37] <flu_> brson: wrt PR 7033 - I'd prefer to have an assert invariant and remove the if checks actually :-) I'll update that when I get home (~8pm pacific time)
[20:23:43] *** Quits: dymk_ (dymk@moz-C336D200.client.dyn.strong-sf34.as22781.net) (Ping timeout)
[20:23:44] *** Joins: dymk (dymk@moz-2490795B.client.dyn.strong-sf34.as22781.net)
[20:24:02] *** Quits: cuemin__ (dymk@moz-B708CCC4.sub-70-211-88.myvzw.com) (Ping timeout)
[20:24:11] <jed> I see on the mailing list that str and vec are having their iteration methods redone. Will this also be happening to other structures like hashmap?
[20:25:00] *** Quits: dylukes (dylukes@moz-B5418F79.hsd1.pa.comcast.net) (Quit: ["Textual IRC Client: www.textualapp.com"])
[20:25:25] <graydon> strcat: are the docs being generated from master?
[20:25:36] * pcwalton grumbles about andrei getting into D versus Rust language wars on reddit
[20:25:41] <pcwalton> I figured he'd be better than that
[20:26:00] <graydon> if so, master hasn't been updated past the core->std->extra change
[20:26:06] *** Parts: ecr1 (ereed@2557E599.66715431.D25A875A.IP) ()
[20:26:45] *** Joins: ecr1 (ereed@2557E599.66715431.D25A875A.IP)
[20:27:17] <ssbr> graydon: the online docs have the change, but the links on the home page are out of date
[20:27:53] <ssbr> oh, no, the online docs are just confusing.
[20:28:05] <ssbr> http://static.rust-lang.org/doc/std/index.html vs http://static.rust-lang.org/doc/extra/index.html
[20:28:14] *** Joins: jgilbert (jgilbert@2557E599.66715431.D25A875A.IP)
[20:28:20] <jed> if you google for the docs you are linked to dated ones (at least I am)
[20:28:49] *** Joins: snearch (snearch@moz-7D87B02A.pool.mediaways.net)
[20:29:03] *** ecr1 is now known as ecr
[20:29:06] *** Joins: CanhTak (Mibbit@moz-E16FC90F.rev.sfr.net)
[20:29:47] *** Quits: CanhTak (Mibbit@moz-E16FC90F.rev.sfr.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:30:04] <graydon> yeah, those need work
[20:30:14] *** Joins: cscehr (Mibbit@moz-C694A9D0.shulgin.dc1.nl.tor.exit.node.qwertyoruiop.com)
[20:31:24] *** Quits: jgilbert (jgilbert@2557E599.66715431.D25A875A.IP) (Ping timeout)
[20:31:28] <tbrock> jed I was thinking the same thing
[20:32:37] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[20:32:44] *** Joins: hjr3 (hradtke@moz-E8F2FF56.public.wayport.net)
[20:33:08] <jed> tbrock: w.r.t hashmaps and iterators?
[20:33:18] <tbrock> yeah
[20:35:05] *** Quits: sankha93 (Instantbir@83FDCCBB.7C356C25.8B6C1D65.IP) (Quit: Instantbird 1.4 -- http://www.instantbird.com)
[20:35:39] <pcwalton> http://www.reddit.com/r/programming/comments/1g1fhf/case_study_for_replacing_python_in_0install/cag2i98 "Rust is quite baroque"? come on now
[20:37:36] <graydon> ugh, let it go
[20:39:38] * jensnockert hugs pcwalton.
[20:40:09] <graydon> it's just a throwaway comment. we sometimes say sloppy / unkind things about our competitors too.
[20:40:25] <graydon> let's just be the best we can :)
[20:40:38] <bjz> pcwalton
[20:40:42] <bjz> woops
[20:40:46] <kimundi> pcwalton: You've made a doublepost there
[20:40:57] <pcwalton> oops
[20:41:07] <bjz> fruitloops
[20:41:08] <pcwalton> yeah, I probably shouldn't have commented
[20:41:47] <bjz> pcwalton: I wouldn't worry. He was on 0.6 anyway
[20:42:11] <kimundi> pcwalton, graydon: I'm not sure if you saw it earlier, but I have a proposal for the @ -> Gc<> idea: https://gist.github.com/Kimundi/5744578
[20:42:14] <bjz> pcwalton: as somebody said on reddit, it was really cool it did so well
[20:42:31] <Eridius> pcwalton: I suspect that by "baroque" he's basically complaining about the sigils
[20:42:42] *** Joins: Diamond (dick@moz-625C0DAF.ks.ok.cox.net)
[20:43:10] <pcwalton> or maybe just the ML-ish nature of it. whatever, it's not worth worrying about
[20:43:20] <pcwalton> kimundi: yeah, niko and I have had thoughts like that. one problem is that it's ambiguous
[20:43:24] <pcwalton> because of :: paths
[20:43:33] <kimundi> howso?
[20:43:41] <pcwalton> @::std::Gc ::foo::bar::MyType
[20:43:42] *** Parts: ecr (ereed@2557E599.66715431.D25A875A.IP) ()
[20:43:49] <pcwalton> is parsed the same as @::std::Gc::foo::bar::MyType
[20:44:05] <pcwalton> or @::std::Gc::foo ::bar::MyType
[20:44:19] <kimundi> AH, hm... That's indeed a problem
[20:44:28] <graydon> kimundi: saw, not sure. I agree we may need a way to annotate a variety of allocators / mem managers. not sure howit'll shake out.
[20:44:43] <graydon> (sorry, slow typing)
[20:44:52] <jensnockert> I think by `baroque', he means C-like, but I am not sure.
[20:45:47] <bjz> pcwalton: I think 'baroque' is more just a weirdness/unfamiliarity thing
[20:45:58] <flu_> is servo usable yet, or is it still super prototype status?
[20:46:10] *** Quits: donri (dag@moz-9BB61102.tbcn.telia.com) (Client exited)
[20:46:15] <pcwalton> it's a prototype
[20:46:25] <pcwalton> it can render simple pages but there are lots of things missing, you get crashes, etc
[20:46:49] <pcwalton> it's the easiest-to-hack layout engine in existence though, so patches welcome if anyone is interested in learning about how Web browsers work ;)
[20:46:54] <flu_> gotcha. might give it a whirl tonight when I've got 15 minutes to spare on the build :-)
[20:46:58] <pcwalton> (Web browsers are, like, way harder than compilers btw)
[20:48:49] <flu_> pcwalton: not to mention the exponential growth of complexity in the web space over the last decade+
[20:48:58] <flu_> no longer just rendering tables and text :-P
[20:49:14] <sp3d> has any (vague handwavy) thought been given to what Servo will do for UI?
[20:49:15] <kimundi> pcwalton: Hm, random thought: Annotate it like this: ::std::@Gc ::foo::bar::MyType - As in: "The final item in a path can be a smartpointer type", rather than "A path can be a smartpointer type"
[20:49:26] <pcwalton> hmmm, interesting idea.
[20:49:55] <sp3d> it would be nice to see more native behavior than FF has on Windows, GTK, and OS X... but I'm sure there's a lot of politics involved in such discussions
[20:49:58] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[20:50:18] *** Quits: yoshi (Mibbit@BBE7C46A.B4F11D08.8612FA94.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:50:25] <Eridius> kimundi: that seems like it'll be hard to read
[20:50:38] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Computer has gone to sleep.)
[20:50:38] <flu_> sp3d: pentadactyl should be the default UI. haha
[20:50:39] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[20:50:41] *** Joins: jgilbert (jgilbert@2557E599.66715431.D25A875A.IP)
[20:51:05] <kimundi> Eridius: Well, stating the whole path there will be something that yoeu will very seldomly do
[20:51:20] *** Quits: maxli (maxli@F2D29657.F60B0462.67AC9B1.IP) (Quit: Leaving.)
[20:51:25] <pcwalton> yeah, it's just there as an edge case
[20:51:31] <pcwalton> you would almost always import
[20:51:46] <kimundi> It's just needed if you have a naming conflict
[20:53:15] <pcwalton> kimundi: so what I was thinking this morning is to make @ a valid identifier sigil so you could write @<T> but that's still ugly compared to @T so I think your idea is better if we want to go down that road.
[20:53:54] <pcwalton> still haven't totally decided which I prefer but I'm leaning toward this since a lot of people like @ and it's just simple sugar, like "for"
[20:55:57] <kimundi> Yeah. It looks confusing for newcomers, but once they now it's just sugar to denote smartpointer types it should actually become clearer to read.
[20:56:31] <pcwalton> I'm beginning to come around to the idea that the sigils are something that people initially react in disgust to and then come to really like
[20:57:06] <Eridius> I love me some sigils
[20:57:07] <pcwalton> the tricky part is not the aesthetics of the sigils but rather the learning curve of whether to use ~ versus @
[20:57:12] <Eridius> it's like syntax coloring, without the syntax coloring!
[20:57:19] <pcwalton> which is mostly just telling people to use ~ ;)
[20:57:25] <pcwalton> mostly solved by that, that is
[20:57:48] <Eridius> pcwalton: speaking of @, what's the reasoning for using @@mut for rand::task_rng?
[20:58:05] <pcwalton> task local data is wired to @ for a very sad reason
[20:58:07] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[20:58:08] <pcwalton> which needs to be fixed
[20:58:22] <Eridius> I see
[20:58:35] <Eridius> and task_rng couldn't just dereference it and return the contained @mut?
[20:58:35] *** Joins: orshem (orshem@19491716.F0FDCE77.E3D28531.IP)
[20:58:37] *** Quits: KindOne (KindOne@moz-8D92DF9A.dynamic.ip.windstream.net) (Ping timeout)
[20:59:04] <pcwalton> oh, it probably should
[20:59:17] <pcwalton> (btw, that can be fixed -- TLS should not use @)
[20:59:52] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[21:02:04] *** Joins: brendan (brendaneic@2557E599.66715431.D25A875A.IP)
[21:02:16] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[21:02:36] *** Joins: tjc (tjc@moz-B867959A.redactedconsulting.com)
[21:02:36] *** ChanServ sets mode: +o tjc
[21:03:38] *** Joins: KindOne (KindOne@moz-F9A4DD6A.dynamic.ip.windstream.net)
[21:04:03] *** Quits: tikue (tkuehn@2557E599.66715431.D25A875A.IP) (Quit: tikue)
[21:04:12] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[21:05:00] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[21:06:01] <tbrock> is the github repo not the canonical source for rust?
[21:06:12] *** Quits: heftig (heftig@moz-F25B4C08.dip0.t-ipconnect.de) (Quit: Quitting)
[21:06:13] *** Quits: Palmik (palmik@moz-5CA3F354.pks.muni.cz) (Ping timeout)
[21:06:15] <kimundi> tbrock: It is
[21:06:17] <tbrock> oh ok
[21:06:19] <tbrock> cool
[21:06:36] <kimundi> tbrock: Just note that development happens on the incoming branch
[21:06:58] <tbrock> gotcha
[21:07:07] <bblum> who here knows about libextra::net_tcp? brson?
[21:09:31] <pcwalton> bblum: it's deprecated
[21:10:01] <bblum> pcwalton: and likewise libextra::timer?
[21:11:11] <graydon> shall I just kill off incoming?
[21:11:31] *** Quits: brendan (brendaneic@2557E599.66715431.D25A875A.IP) (Quit: brendan)
[21:11:42] <graydon> it's not like the tree states that fail to test ok aren't in master's history when it advances
[21:11:43] *** Joins: yoshi (Mibbit@BBE7C46A.B4F11D08.8612FA94.IP)
[21:12:26] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[21:13:29] <bjz> graydon: kill it! :D
[21:13:55] *** Joins: tikue (tkuehn@2557E599.66715431.D25A875A.IP)
[21:14:34] <bjz> graydon: it kinda makes us look bad, tbh. seeing that the last commit on master is usally a few days to a week+ old
[21:14:51] <tikue> rusti: let s = ~"foo"; str::pop_char(s); s
[21:14:53] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/Ucfe
[21:15:28] <bjz> rusti: let mut s = ~"foo"; s.pop_char(); s
[21:15:29] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/TCDT
[21:15:56] <bjz> rusti: let mut s = ~"foo"; s.pop(); s
[21:15:58] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/KWCO
[21:16:17] <bjz> strcat: what is the way to do that? ^
[21:16:48] <strcat> std::str::pop_char, until it gets turned into a method
[21:16:57] <bjz> tikue: str and vec are being overhauled
[21:16:59] <tikue> ah, forgot the std, thanks strcat 
[21:17:10] <bjz> ahh *facepalm*
[21:17:23] <tikue> bjz: is it all going to be methods?
[21:17:31] <bjz> tikue: most
[21:17:35] *** Joins: Palmik (palmik@moz-5CA3F354.pks.muni.cz)
[21:17:37] <strcat> well str is a pretty useless type right now because it doesn't enforce the always-valid-utf8 guarantee correctly
[21:18:17] <strcat> conversion from bytes allows invalid utf-8 and encoding code points allows out-of-range ones
[21:18:23] *** Quits: \n (NDesaulnie@2557E599.66715431.D25A875A.IP) (Ping timeout)
[21:18:35] <bjz> strcat: why isn't it just a type alias?
[21:18:36] <strcat> would be easy to fix if the codebase didn't depend on storing invalid stuff in them...
[21:18:42] <strcat> bjz: type alias for what?
[21:18:53] <strcat> it's supposed to only be valid utf-8
[21:19:06] <bjz> type str8 = ~[u8];
[21:19:14] <strcat> because [u8] provides no such guarantee
[21:19:38] *** Joins: \n (NDesaulnie@43CB6079.66715431.D25A875A.IP)
[21:21:51] *** Joins: heftig (heftig@moz-F25B4C08.dip0.t-ipconnect.de)
[21:22:25] <Ralith> bjz: bytes are not text
[21:22:53] *** Joins: brendan (brendaneic@2557E599.66715431.D25A875A.IP)
[21:22:58] * bjz excuses his embarrasing ignorance
[21:23:11] *** Quits: \n (NDesaulnie@43CB6079.66715431.D25A875A.IP) (Ping timeout)
[21:23:30] <strcat> anyway I think I'm just going to disable the json test that fails from fixing str
[21:23:37] <strcat> better to have a working str than working json encoding
[21:23:51] <strcat> I can't figure out where that test goes wrong
[21:25:02] *** Joins: \n (NDesaulnie@2557E599.66715431.D25A875A.IP)
[21:25:19] <tbrock> this nes emulator project is just... awesome
[21:25:30] <tbrock> damn
[21:25:46] <strcat> graydon: well... http://static.rust-lang.org/doc/core/index.html http://static.rust-lang.org/doc/std/index.html
[21:25:50] <strcat> both of those link to the same thing
[21:25:58] <strcat> but http://static.rust-lang.org/doc/extra/index.html is there
[21:26:05] <strcat> (not linked to)
[21:26:35] <graydon> yeah. that's a mess.
[21:27:03] <graydon> sorry. trying to focus on gc today, agree that needs fixing.
[21:28:40] <Eridius> huh, tests fail if a line is longer than 100 chars?
[21:32:27] *** Joins: jdm (jdm@F5E30D14.2E53F4B8.47C41102.IP)
[21:32:31] <pcwalton> yup
[21:33:20] *** Quits: tjc (tjc@moz-B867959A.redactedconsulting.com) (Quit: zzzzzzzzzz)
[21:34:20] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[21:34:40] *** Quits: snearch (snearch@moz-7D87B02A.pool.mediaways.net) (Quit: Verlassend)
[21:35:10] *** Quits: brendan (brendaneic@2557E599.66715431.D25A875A.IP) (Quit: brendan)
[21:35:36] <bblum> bug  triage not going so well; the first bug i try to actually fix i run into an unrelated ICE
[21:36:14] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[21:36:24] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Quit: Eaten by a grue)
[21:37:11] *** Joins: brendan (brendaneic@2557E599.66715431.D25A875A.IP)
[21:38:52] *** Quits: \n (NDesaulnie@2557E599.66715431.D25A875A.IP) (Ping timeout)
[21:38:57] *** Quits: mleise (marco@moz-3468AB5B.pools.arcor-ip.net) (Quit: Leaving.)
[21:39:31] *** Joins: \n (NDesaulnie@43CB6079.66715431.D25A875A.IP)
[21:39:33] <bblum> pcwalton: is libextra::timer also deprecated?
[21:39:39] <pcwalton> yes
[21:40:00] <bblum> is there an issue open for removing them?
[21:40:33] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:41:59] *** Quits: gareth0 (gareth0@moz-4412FD67.dynamic.dsl.as9105.com) (Ping timeout)
[21:44:48] *** Quits: Palmik (palmik@moz-5CA3F354.pks.muni.cz) (Quit: Lost terminal)
[21:45:43] *** Quits: tikue (tkuehn@2557E599.66715431.D25A875A.IP) (Quit: tikue)
[21:45:56] <strcat> /home/strcat/projects/rust/src/libstd/option.rs:415:21: 415:29 note: field of `self` moved here because the field has type option::Option<&'self mut 'a>, which is moved by default (use `copy` to override)
[21:45:58] <strcat> /home/strcat/projects/rust/src/libstd/option.rs:415         let result = self.opt;
[21:46:00] <strcat>                                                                          ^~~~~~~~
[21:46:01] <strcat> ;\
[21:46:14] <strcat> why would Option<&'r T> be moved by default?
[21:46:27] <bblum> &mut is not copyable
[21:46:54] <strcat> oh right
[21:47:13] <strcat> util::replace to the rescue
[21:48:06] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[21:50:32] *** Quits: cowboyd (cowboyd@moz-1BD02A1E.sw.biz.rr.com) (Client exited)
[21:52:18] *** Joins: ecr (ereed@2557E599.66715431.D25A875A.IP)
[21:53:01] *** Quits: tbrock (tbrock@34641662.FB4DE631.66C78B76.IP) (Input/output error)
[21:54:11] <Eridius> damn rustc uses a lot of memory when compiling
[21:54:44] <bblum> strcat: love me some util::replace
[21:55:46] <orshem> Is there some comprehensive guide to the traits system?
[21:56:02] <orshem> What is this syntax? trait a : b
[21:56:27] <strcat> trait inheritance
[21:56:37] <strcat> anything implementing a has to implement b too
[21:56:38] <kimundi> trait inheritance
[21:57:17] *** Joins: SingingBoyo (brandon@moz-EAC7E73D.bchsia.telus.net)
[21:57:19] <orshem> thanks! strcat kimundi 
[21:57:20] <Eridius> cripes, compiling librustc took 1.6GB of RSIZE
[21:57:32] <strcat> Eridius: patches welcome ;p
[21:58:05] <Eridius> strcat: pfft, I'll do patches to the stdlib, but I ain't no compiler engineer ;)
[21:58:05] <orshem> when I implement a trait I need to implement it for all pointers type or is there some implement 1 get 2 for free?
[21:58:17] <Eridius> orshem: implement it for &T
[21:58:40] <strcat> no just implement it for T
[21:58:56] <Eridius> oh I'm thinkin about vectors/strings
[21:58:58] <strcat> you don't need to implement traits for pointer types - they are just a wrapper around the type
[21:59:00] <Eridius> since that's where all my traits are
[21:59:33] *** Quits: jeff (jeff@4231C034.745B261B.F12515B4.IP) (Quit: jeff)
[22:00:07] *** Quits: dualhbridge (dad@moz-9FEE6D3B.maine.res.rr.com) (Ping timeout)
[22:00:12] <orshem> I think I've seen code such as impl x for &y? or is that not possible?
[22:00:19] *** Joins: mzabaluev (mzabaluev@moz-91FFD755.dhcp.inet.fi)
[22:00:21] <orshem> I'd grep the code but I'm compiling
[22:00:30] <strcat> orshem: odd thing to do
[22:00:38] <orshem> I can't figure what it would mean
[22:00:40] <strcat> if you implement x for y, you already have it for &y
[22:00:55] <strcat> because you can just dereference the borrowed pointer
[22:00:59] *** Quits: Earnestly (earnest@6A917A59.5E1FD793.39C00A7A.IP) (Ping timeout)
[22:01:10] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Quit: Leaving)
[22:01:20] <strcat> orshem: it would mean you have a different implementation for the type and a reference to the type
[22:01:33] <strcat> which again would be an odd thing to do for anything but a trait like Clone
[22:02:08] <orshem> won't it conflict with the auto deref
[22:02:09] <orshem> ?
[22:02:16] <strcat> it won't conflict
[22:02:23] <strcat> auto-deref happens when no impl is found
[22:03:51] *** Quits: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP) (Quit: lmandel)
[22:05:52] <orshem> Where can I find good examples of trait usage? 
[22:06:14] *** Joins: Jesse (jruderman@2557E599.66715431.D25A875A.IP)
[22:06:16] *** Quits: Jesse_ (jruderman@2557E599.66715431.D25A875A.IP) (Connection reset by peer)
[22:06:38] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[22:06:52] <jed> orshem: https://github.com/mozilla/rust/blob/incoming/src/libstd/hashmap.rs it's a lot of code but it has plenty of trait implementations
[22:07:08] *** Quits: \n (NDesaulnie@43CB6079.66715431.D25A875A.IP) (Quit: \n)
[22:07:19] <orshem> jed: thanks
[22:07:19] *** Quits: brendan (brendaneic@2557E599.66715431.D25A875A.IP) (Quit: brendan)
[22:07:23] <strcat> the container ones aren't great examples because they should be using default implementations
[22:07:33] <strcat> and the iteration methods will go away
[22:07:47] <jed> well I found them helpful at least
[22:08:51] <bblum> are there servers we can use for testing test cases on architectures other than our own?
[22:08:56] *** Joins: brendan (brendaneic@2557E599.66715431.D25A875A.IP)
[22:09:43] <strcat> bblum: you can push a branch to the main repo and force buildbot to build it
[22:10:06] <strcat> 'try' seems to be the convention but it doesn't build automatically afaict.
[22:10:09] <strcat> anymore at least
[22:10:47] <orshem> ref in match statement matches a borrowed pointer or any kind of pointer?
[22:10:47] *** Quits: Amanieu (amanieu@moz-D5D10CA8.halls.manchester.ac.uk) (Connection reset by peer)
[22:10:51] <bblum> well, i want to get my own fingers dirty
[22:10:58] <strcat> orshem: it doesn't match something
[22:10:59] *** Joins: \n (NDesaulnie@2557E599.66715431.D25A875A.IP)
[22:11:01] <bblum> printf debugging, gdb possibly, etc
[22:11:04] <strcat> ref and ref mut are to get a reference
[22:11:33] *** Joins: Amanieu (amanieu@moz-D5D10CA8.halls.manchester.ac.uk)
[22:12:28] <orshem> strcat: borrowed reference?
[22:12:36] <strcat> yes
[22:12:50] <strcat> we should just be calling them references imo
[22:13:18] <orshem> and you'd need keyword because &x matches a refrence to x?
[22:13:26] <strcat> yes
[22:13:53] <orshem> how do you get a uniqueqgc pointer in match then? you can't?
[22:14:09] <orshem> unique/gc
[22:14:18] <strcat> you can't make a ~ or @ ptr without moving into them
[22:14:27] <strcat> ref and ref mut exist to add functionality that wouldn't otherwise be there
[22:14:55] <Luqman> r? https://github.com/mozilla/rust/pull/7046 
[22:15:13] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[22:15:41] <toddaaro> but ICE debugging is ergh
[22:15:54] <toddaaro> oh, non-empty buffer
[22:15:57] <orshem> strcat: thanks. sorry to bother you but Rust is very different to Java / Python / C
[22:16:25] <brson> bblum: you can have access to the bots. windows and mac are easiest
[22:16:57] *** Quits: mzabaluev (mzabaluev@moz-91FFD755.dhcp.inet.fi) (Quit: Ð£Ñ…Ð¾Ð¶Ñƒ Ñ Ð¾Ñ‚ Ð²Ð°Ñ)
[22:17:06] *** Quits: brendan (brendaneic@2557E599.66715431.D25A875A.IP) (Quit: brendan)
[22:17:38] *** Quits: jdm (jdm@F5E30D14.2E53F4B8.47C41102.IP) (Ping timeout)
[22:17:49] *** Joins: jdm (jdm@787660C2.6A6F5F66.47C41102.IP)
[22:18:02] *** Joins: tjc (tjc@moz-F2975D66.hsd1.wa.comcast.net)
[22:18:02] *** ChanServ sets mode: +o tjc
[22:18:53] *** Joins: Earnestly (earnest@6A917A59.5E1FD793.39C00A7A.IP)
[22:19:09] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Input/output error)
[22:20:46] <bblum> brson: i was assigned #6018 (some test fails on i686) for triage and wanna check it out
[22:20:55] <bblum> so i expect i need linux
[22:21:08] *** Joins: dbaupp (Thunderbir@moz-C6B1454A.lns20.syd7.internode.on.net)
[22:21:11] *** Joins: brendan (brendaneic@2557E599.66715431.D25A875A.IP)
[22:21:30] <dbaupp> strcat: it went through first time! :D
[22:21:57] <bblum> or is everything still broken there
[22:22:38] <strcat> dbaupp: I'm going to do Option next
[22:22:51] <Eridius> oh great. my "line longer than 100 chars" line was... 101 chars long.
[22:22:51] <brson> bblum: I can give you access to one of the old linux bots if you send email me your public gpg key
[22:22:57] <strcat> dbaupp: getting rid of old_iter
[22:23:01] <bblum> gpg? or ssh?
[22:23:03] <dbaupp> strcat: cool
[22:23:06] <strcat> anyway it's really annoying because of the related bugs
[22:23:09] <dbaupp> strcat: oooh, yes, please!
[22:23:20] <brson> bblum: ssh
[22:23:47] *** Joins: dualhbridge (dad@moz-9FEE6D3B.maine.res.rr.com)
[22:24:00] <dbaupp> strcat: 'related bugs'?
[22:24:12] <bblum> msged it to you
[22:24:33] <strcat> dbaupp: method resolve bugs, everything else still implementing the old_iter impls, silly current for loop
[22:24:55] <flu_> does Port::recv() block until data is available? (I'm assuming yes, just verifying)
[22:24:58] <strcat> lots of stuff uses the old methods that do copies everywhere
[22:25:10] <dbaupp> strcat: oh, right, *those* bugs
[22:25:16] <brson> bblum: ssh root@rust-linux1.mv.mozilla.com then 'su rustbuild' and work in the 'scratch' directory of rustbuild's home dir
[22:25:21] <bblum> thanks
[22:25:58] <dbaupp> strcat: I'd vote for putting IteratorUtils in the prelude and just renaming any conflict to '..._' or something, btw
[22:26:09] <strcat> or fixing those issues...
[22:26:17] <bblum> oh i have to be on the internal wireless for that huh
[22:26:20] <dbaupp> strcat: that works too
[22:27:03] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Input/output error)
[22:27:27] <brson> the ebml failure 'uint 22 is too large for this architecture' is really vexing
[22:27:30] <brson> bblum: yes
[22:27:36] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Computer has gone to sleep.)
[22:28:37] *** Joins: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net)
[22:29:12] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[22:30:06] *** Quits: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net) (Client exited)
[22:30:33] *** Quits: int3_ (int3_@moz-ABE52D50.hsd1.ca.comcast.net) (Ping timeout)
[22:32:44] *** Joins: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net)
[22:33:15] *** Quits: HollyRain (HollyRain@moz-50A83091.dyn.user.ono.com) (Quit: bye, bye)
[22:33:25] <strcat> dbaupp: anyway we should just migrate from each() -> iter().advance and then drop the .advance when it becomes unnecessary
[22:33:33] <strcat> would be nice for compile-time too
[22:33:54] <Eridius> strcat: any solution yet for the problem of iterating a tree structure?
[22:34:06] <Eridius> internal iterators are pretty simple to do with those, but not so much with external
[22:34:10] *** Quits: jdm (jdm@787660C2.6A6F5F66.47C41102.IP) (Input/output error)
[22:34:32] <strcat> Eridius: it's just as simple when the language supports it
[22:34:32] *** Joins: jrfeenst (jrfeenst@moz-F912484F.cpe.norwoodlight.com)
[22:34:33] <flu_> zippers! or define separate depth first and breadth first iterators
[22:34:56] <strcat> in some future summer, someone can do it as an intern project ;p
[22:35:00] <strcat> 'yield'
[22:35:10] <Eridius> ooh yield would solve it
[22:35:19] <strcat> anyway you can still write internal iterators, we are just going to remove ones that duplicate existing external iterators
[22:35:23] <Eridius> basically any internal iterator that uses the stack is going to be complicted to do as an external iterator
[22:35:36] <strcat> the call stack
[22:35:47] <strcat> treemap already has one anyway
[22:35:52] <strcat> it doesn't need the internal ones anymore
[22:35:55] <dbaupp> strcat: are you going to do the each() -> iter().advance?
[22:36:04] <strcat> dbaupp: for Option ;p
[22:36:05] <dbaupp> strcat: (just so we don't step on each others toes)
[22:36:08] <strcat> it's going to take a while
[22:36:13] <Eridius> btw, I hope we don't remove the .advance method entirely, just remove the need to use it with for, because writing a one-liner is easier in the internal iterator style
[22:36:31] <strcat> Eridius: the advance method is totally unnecessary though
[22:36:33] <dbaupp> strcat: hm, it's probably easiest to do it for all in one go
[22:36:34] <strcat> it's a hack
[22:36:45] <strcat> for our weird for protocol
[22:36:56] <strcat> fn foo(... arguments, fn(T) -> bool) -> bool {}
[22:37:07] <Eridius> true, I guess I'm just saying we need some method that processes the entire iterator
[22:37:09] <dbaupp> strcat: since every .each() method in the codebase is removable then
[22:37:18] <strcat> Eridius: fold, etc.
[22:37:44] <strcat> dbaupp: except for TrieMap, I don't want to write an external iterator for that until it's actually finished
[22:37:51] <strcat> it would make it much harder to change the structure
[22:37:57] <dbaupp> strcat: oh, right
[22:37:59] *** Joins: jdm (jdm@787660C2.6A6F5F66.47C41102.IP)
[22:38:06] <dbaupp> strcat: is TrieMap used anywhere?
[22:38:12] <strcat> dbaupp: not yet
[22:38:21] <strcat> needs to be finished before it's really useful
[22:38:31] *** Joins: tikue (tkuehn@2557E599.66715431.D25A875A.IP)
[22:38:34] <strcat> too slow right now
[22:38:40] <dbaupp> strcat: so sed -gi 's/.each/.iter().advance/ should be fine, then?
[22:38:49] *** Quits: hjr3 (hradtke@moz-E8F2FF56.public.wayport.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[22:38:54] <flu_> brave man
[22:39:00] <dbaupp> (probably with some fine tuning to not change other methods)
[22:39:33] <dbaupp> flu_: I've been doing it for a whole pile of the str functions. strong typing is the best!
[22:39:47] <flu_> nice :-)
[22:40:53] <jed> has anyone done iterator work for hashmap?
[22:40:54] *** Quits: SingingBoyo (brandon@moz-EAC7E73D.bchsia.telus.net) (Ping timeout)
[22:40:57] *** Parts: orshem (orshem@19491716.F0FDCE77.E3D28531.IP) (WeeChat 0.4.0)
[22:40:58] <strcat> dbaupp: well there are a bunch of other old_iter things to get rid of
[22:42:30] <sully> hm, does anybody know where it is checked that impls properly implement their trait?
[22:43:04] <sully> it does not seem to be check_item
[22:43:14] <sully> I feel like I understood how this worked last summer.
[22:43:18] *** Joins: hjr3 (hradtke@moz-E8F2FF56.public.wayport.net)
[22:43:27] <dbaupp> jed: seems not
[22:44:25] <jed> hmm
[22:45:16] <jed> I've been using a crappy hack to iterate through my map in the order in which items were inserted. new iterator style seems suited for this
[22:45:40] <strcat> if you want to iterate in the order they were inserted you don't want a hashmap
[22:45:51] *** Quits: cscehr (Mibbit@moz-C694A9D0.shulgin.dc1.nl.tor.exit.node.qwertyoruiop.com) (Quit: http://www.mibbit.com ajax IRC Client)
[22:46:11] <strcat> there will be a linked hash map eventually keeping track of insertion order (doubles as an LRU cache too)
[22:46:28] <jed> yeah I have been using essentially a linked hashmap
[22:47:12] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[22:50:31] *** Quits: yoshi (Mibbit@BBE7C46A.B4F11D08.8612FA94.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:50:38] <sully> who understands how traits are implemented? :P
[22:50:55] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Textual IRC Client: www.textualapp.com)
[22:51:10] <sully> oh, it is in collect, right.
[22:51:13] *** Quits: azita (Azita@2557E599.66715431.D25A875A.IP) (Quit: azita)
[22:52:50] <strcat> dbaupp: btw I know why the external ones are faster
[22:52:56] <strcat> it's because closures are *not* free
[22:53:03] <strcat> we treat them like they are....
[22:53:13] *** Joins: MaikKlein (maik@moz-C3CB0EB4.dip0.t-ipconnect.de)
[22:53:14] <strcat> LLVM can sometimes inline them
[22:53:44] <dbaupp> but it's even faster when replacing .each with .iter().advance, so there's still closures, and so on
[22:53:47] <strcat> C++ lambdas are easier to optimize because there's no function pointer
[22:54:11] <strcat> dbaupp: because our for protocol is nonsense ;\
[22:54:16] <strcat> it can't get rid of all the closures and bools
[22:54:24] *** Quits: doomlord (doomlod@moz-8F385DB0.range109-153.btcentralplus.com) (Ping timeout)
[22:54:34] <strcat> advance is force inlined
[22:54:56] *** Quits: jed (Mibbit@BBE7C46A.B4F11D08.8612FA94.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:55:11] <strcat> would still often compile better (and definitely much faster) without advance
[22:55:31] <dbaupp> hm, we could write a syntax extension that wrapped `loop { match it.next() { None => break, Some(v) => body } }`
[22:55:49] <strcat> dbaupp: wouldn't have 'break' or 'continue'
[22:55:51] <Eridius> my PR failed on bors's `make check`. I just force-pushed a fix. Do I have to do anything to tell bors to try again?
[22:56:03] <strcat> dbaupp: well... nvm it would
[22:56:05] <strcat> :)
[22:56:06] <dbaupp> strcat: oh, it could! since syntax extensions can do whatever
[22:56:20] <strcat> dbaupp: yeah I wasn't thinking about the fact that it's in a 'loop' anyway
[22:56:32] <dbaupp> strcat: oh, right :)
[22:56:34] <strcat> dbaupp: anyway just nag pcwalton about it :), it will make compile times faster
[22:56:41] *** Joins: Guest__ (textual@moz-E64A54F3.nyc.res.rr.com)
[22:56:44] <tjc> Eridius: when you push new commits onto a branch, it will have to be r+'ed again
[22:56:54] <tjc> best to ping the person who approved it and ask them to r+ again
[22:57:39] <dbaupp> strcat: changing .each to .iter().advance will be pretty naggy... it's not very nice to look at or write :)
[22:57:41] <brson> nmatsakis: do borrows from @mut get returned correctly during unwinding?
[22:57:45] <Eridius> tjc: ok
[22:57:59] <brson> nmatsakis: i'll just show you this snippet
[22:58:02] <strcat> dbaupp: it will be fine when for loops are improved
[22:58:15] <dbaupp> strcat: yes
[22:58:18] <brson> nmatsakis: https://gist.github.com/brson/5753178
[22:58:23] <strcat> dbaupp: so don't worry about it ;p
[22:58:32] <dbaupp> strcat: and so by being ugly, it will make for loops improved faster :)
[22:58:33] <brson> nmatsakis: that fails because the @mut is borrowed in the finally block
[22:58:38] <brson> which isn't what i expected
[22:58:40] *** Joins: alisdair (textual@moz-EA60A466.dedicated.allstream.net)
[22:58:50] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Ping timeout)
[22:59:11] <bblum> brson: relatedly, did you see https://github.com/mozilla/rust/issues/6996 ?
[22:59:53] <brson> bblum: no
[23:00:19] *** Joins: jeff (jeff@moz-E636CFF5.nycmny.east.verizon.net)
[23:00:39] *** Joins: ghrust (ghrust@E7A4CCE2.6A2AE50.F3114085.IP)
[23:00:40] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1415d47f0 to 141310212: 02http://git.io/N3iJvQ
[23:00:40] *** Parts: ghrust (ghrust@E7A4CCE2.6A2AE50.F3114085.IP) ()
[23:00:42] *** Joins: ghrust (ghrust@AC22872E.6A2AE50.F3114085.IP)
[23:00:42] <ghrust> 01[13rust01] 15bors pushed 9 new commits to 06auto: 02http://git.io/xw06Qw
[23:00:42] <ghrust> 13rust/06auto 141d1160b 15Patrick Walton: librustc: Rename Owned to Send in the compiler
[23:00:42] <ghrust> 13rust/06auto 14bd53602 15Patrick Walton: librustc: Change Const to Freeze in the compiler
[23:00:43] <ghrust> 13rust/06auto 14c8bce58 15Patrick Walton: librustc: Rename Const to Freeze
[23:00:45] *** Parts: ghrust (ghrust@AC22872E.6A2AE50.F3114085.IP) ()
[23:01:08] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[23:01:11] <strcat> dbaupp: I'll have to rewrite the set methods, they're much easier to write with external iterators anyway
[23:01:41] *** Quits: tikue (tkuehn@2557E599.66715431.D25A875A.IP) (Quit: tikue)
[23:03:08] *** Joins: Sorella (queen@B12A78F5.BA14766C.95C8B7C6.IP)
[23:03:42] *** Quits: pcwalton (pcwalton@43CB6079.66715431.D25A875A.IP) (Quit: pcwalton)
[23:03:51] <bblum> there we go
[23:04:04] <bblum> an hour later, i made wpa supplicant authenticate to the internal wireless
[23:04:24] <tjc> just think about how much you got paid for that hour :-D
[23:04:26] <bblum> turns out a sample wpa_supplicant.conf was posted on the intranet wiki all along...
[23:04:32] <bblum> tjc: i know :3
[23:04:56] <bblum> i also changed my LDAP password to a crappy one because i couldn't get away with not storing it in plaintext on my hard drive :(
[23:05:01] <bblum> (for god's sake. it's 2013.)
[23:05:07] <mcpherrin> bblum: Yay linux!
[23:05:13] <flu_> bblum: .netrc file?
[23:05:16] <bjz> cmr: you did the weekly Rust thing right?
[23:05:20] <toddaaro> bblum: ouch, you couldn't get it into something more reasonable?
[23:05:25] <bblum> flu_: huh?
[23:05:26] <bblum> toddaaro: nah
[23:05:43] <flu_> bblum: the .netrc file is one thing I've had to setup that requires a plain text password entry
[23:05:52] <Luqman> bblum: obviously this is why you need to use NetworkManager :P
[23:05:58] <bblum> flu_: this is wpa_supplicant.conf; more different
[23:06:05] <strcat> or just netcfg/netctl
[23:06:20] <strcat> they have a cli wifi-menu tool for scanning + starting wpa_supplicant
[23:06:20] <bblum> Luqman: if i ever run a laptop with networkmanager on it again for as long as i live... o_o
[23:06:40] *** Joins: tikue (tkuehn@2557E599.66715431.D25A875A.IP)
[23:06:48] *** Quits: jdm (jdm@787660C2.6A6F5F66.47C41102.IP) (Ping timeout)
[23:06:52] <mcpherrin> bblum: switch to firefoxOS
[23:06:55] <strcat> wifi-menu -> select network, type password ;p
[23:06:56] <Luqman> bblum: but it uses the keyring!
[23:07:18] <bjz> h3r3tic, Luqman, dbaupp, cyndis: lmath is back in action (again)
[23:07:34] <dbaupp> bjz: cross-crate, even?
[23:07:35] <bjz> apologies for being broken for ages
[23:07:41] <bjz> I believe so
[23:07:42] <strcat> Luqman: you can break a passphrase on a key/keyring in a day
[23:07:43] <Luqman> bjz: yay
[23:07:47] <bblum> Luqman: that is like saying i should move to a 3rd-world country without sanitized water because then my phone calls would not get snooped by the gummint
[23:08:12] <Luqman> haha
[23:08:42] <bjz> dbaupp: Luqman fixed that associated function error when using multiple impls
[23:09:11] <strcat> ugh why must everything use Option
[23:09:19] <strcat> changing the API is so painful ;p
[23:09:19] <flu_> Option is the bees knees!
[23:09:31] <bjz> <3 monads
[23:09:43] <bjz> strcat: removing unwrap?
[23:10:00] <flu_> bjz: +1 for monads
[23:10:25] <bblum> strcat: wat, what's wrong with option
[23:10:28] <sp3d> another +1
[23:10:38] <bjz> flu_: +1 for using 'map' and 'chain' as the method names
[23:10:59] <bjz> flu_: didn't even realize I was doing that haskelly thing
[23:11:05] <bjz> :P
[23:11:12] <flu_> bjz: I got it from scala
[23:11:58] <dbaupp> bblum: nothing, I think... just it's so pervasive that removing pointless methods/functions is hard
[23:11:58] *** Joins: pcwalton (pcwalton@2557E599.66715431.D25A875A.IP)
[23:11:58] *** ChanServ sets mode: +o pcwalton
[23:12:34] <bjz> dbaupp: that's why I think marking them as deprecated and spewing out hundreds of warnings would be better
[23:12:42] <bjz> *easier
[23:12:56] *** Quits: qmx (qmx@158DBDE0.B4C46C69.F6297865.IP) (Quit: Textual IRC Client: www.textualapp.com)
[23:12:57] <bjz> then whittle them down over a while
[23:13:06] <dbaupp> bjz: yes, but that requires #[deprecated] ;)
[23:13:06] <strcat> bjz: well I'd love to mark 90% of vec/str as deprecated but the compilation output would be a spew of warnings
[23:13:34] <bjz> strcat: well you don't do it all at once :P
[23:13:41] <bjz> strcat: incremental
[23:13:54] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[23:13:54] <strcat> would certainly make people aware of all the little things we need help with
[23:14:02] <strcat> if the compilation output was 100000 warnings :D
[23:14:06] <bjz> indeed
[23:14:29] <tjc> or else it would make people say "what kind of broken language is this, I'm going to go use Lisp" :-D
[23:14:29] <bjz> there are a few people who's commits are just warning removals
[23:14:36] <bjz> which is awesome
[23:14:42] <bjz> tjc: ^_^
[23:14:44] * flu_ could be one such committer
[23:14:48] <MaikKlein> is option a monad?
[23:14:57] <bjz> MaikKlein: yes
[23:14:58] <strcat> no but it will be an iterator ;p
[23:15:01] <dbaupp> MaikKlein: yes, but not really in Rust
[23:15:02] <tjc> MaikKlein: In theory, yes. The monad trait can't be defined in Rust, though
[23:15:04] <tjc> not in general
[23:15:10] <bjz> MaikKlein: yeah, wha they say
[23:15:18] <MaikKlein> :D
[23:15:21] <MaikKlein> ok thanks
[23:15:23] <strcat> yay method resolve bug
[23:15:28] <strcat> everyone gets an underscore
[23:15:30] <flu_> iterable option is great. I like using foreach (or equivalent) on option types
[23:15:36] <ecr> can Functor be defined in Rust?
[23:15:52] <strcat> flu_: and all the iterator adaptors
[23:16:19] <dbaupp> tjc: you can hack your way to be pretty close, http://www.reddit.com/r/rust/comments/1a57pw/haskeller_playing_with_rust_a_question_about/c8ut2ux
[23:16:30] <dbaupp> ecr: sort of ^
[23:16:32] <bjz> MaikKlein: but by getting famiar with it, you're actually learning about monads. 'Monad' is just a fancy generalisation. Causes too much pain
[23:16:37] <tjc> ecr: not the general version, no, for the same reason Monad can't be
[23:16:53] <tjc> dbaupp: I haven't seen that yet, reading it
[23:17:00] <flu_> for comprehension with several options yielding a result IFF all the options are defined is a nice pattern too. Cleans up what is usually a really bushy chain of check-then-act logic
[23:17:03] <bjz> MaikKlein: just be sure to make use of the chain and map methods, they're awesome
[23:17:53] <tjc> dbaupp: ah, I see. Kind of awkward :-) Still, though, deserving of the Oleg Award for doing things the type system was never intended to
[23:17:53] <ecr> aw, no higher-kinded types at all? :(
[23:18:02] <tjc> ecr: there are plans to add higher kinds
[23:18:04] <flu_> plans for partial functions or currying?
[23:18:15] <tjc> flu_: we used to have currying, removed it, though
[23:18:22] <flu_> huh, really? 
[23:18:23] <strcat> you can do partial function application, there just isn't specific sugar
[23:18:26] <bjz> really?
[23:18:28] <dbaupp> tjc: heh, thanks :) ("kind of awkward" is a huge understandment)
[23:18:31] <flu_> I guess in practical use, partial functions are way more useful
[23:18:39] <strcat> |x, y| f(x, 1, y)
[23:18:41] <bjz> @tjc
[23:18:44] <strcat> we could have something like...
[23:18:47] *** Quits: tikue (tkuehn@2557E599.66715431.D25A875A.IP) (Quit: tikue)
[23:18:52] <strcat> f(_, 1, _) but... what kind of closure is it?
[23:18:58] <tjc> bjz: really re: higher kinds? Yeah, we talked about it at the work week a few months ago
[23:19:12] <ecr> tjc: are they a post-1.0 plan then?
[23:19:19] <bjz> tjc: no, currying
[23:19:19] <tjc> ecr: Not sure if they're on a milestone yet or not
[23:19:23] <flu_> yeah. other languages use type specialization, like a PartialFunction<TypeOne, TypeTwo, Result> kind of thing
[23:19:30] <dbaupp> flu_: you could probably define a trail that gives you .call1 .call2 .call3 for currying but that'd require everything to be GC'd to be most useful
[23:19:36] <tjc> bjz: we used to have it, yeah, you could write "bind f(_, g, _)" and that would make a closure...
[23:19:39] <dbaupp> *traits
[23:19:40] <tjc> with g filled in for f's second arg
[23:19:48] <tjc> this was before all the different closure kinds we have now
[23:19:50] * bjz drools
[23:20:18] <bjz> :P
[23:20:30] *** Quits: eholk (eholk@moz-C0121DF.uconnect.utah.edu) (Quit: eholk)
[23:20:32] <flu_> dbaupp: yeah, like I said though, I think partial functions have more practical use. Currying is just neat (and appeals to my weird lambda calculus friends)
[23:20:40] *** Joins: jorendorff (jorendorff@moz-AF5FD687.hsd1.tn.comcast.net)
[23:20:43] <MaikKlein> bjz, where can i find chain?
[23:21:00] <bjz> MaikKlein: it's impled on Option
[23:21:01] <MaikKlein> ok it's probably in extra then
[23:21:03] <MaikKlein> oh
[23:21:05] <bjz> std::option
[23:21:15] <dbaupp> MaikKlein: it's also a method on Result
[23:21:18] <bjz> and it's alson on Result too
[23:21:20] <bjz> hah
[23:21:26] <strcat> result has a bad map function though
[23:21:31] <strcat> it uses Copy
[23:21:40] <dbaupp> bjz: we're basically the same person :P
[23:21:43] <bjz> MaikKlein: chain is super nice when writing parsers
[23:22:19] <bjz> MaikKlein: it basically handles the matching for you
[23:22:21] <joelteon> why was typestate droppeD?
[23:22:29] <MaikKlein> hm
[23:22:38] <bjz> joelteon: http://pcwalton.github.io/blog/2012/12/26/typestate-is-dead/
[23:22:50] <MaikKlein> can't find chain anywhere http://static.rust-lang.org/doc/core/option.html
[23:23:00] <MaikKlein> ok
[23:23:10] <strcat> MaikKlein: it's listed there
[23:23:14] <MaikKlein> what
[23:23:17] <dbaupp> MaikKlein: http://static.rust-lang.org/doc/core/option.html#method-chain
[23:23:18] <bjz> MaikKlein: http://static.rust-lang.org/doc/core/option.html#implementation-for-optiont-where-t
[23:23:23] <bjz> :P
[23:23:34] <dbaupp> MaikKlein: methods don't appear in the ToC yet
[23:23:56] *** aatch|gone is now known as aatch
[23:24:01] <bjz> rusti: Some(3).chain(|&x| x)
[23:24:05] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/RdEG
[23:24:09] <flu_> While we're talking about cool language features - I really liked Scala's concept of partial functions including just a match statement, where the 'isDefinedAt(Foo) -> boolean' was true if the match statement matched the given Foo. This made for good reuse with things like messageHandlerPF.handle(message).orElse(defaultHandler(message))
[23:24:16] <bjz> rusti: Some(3).chain(|x| x)
[23:24:17] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/FbNc
[23:24:20] * flu_ tries to hide his scala fan boy hat
[23:24:34] <bjz> rusti: Some(3).map(|&x| x) //??
[23:24:36] <MaikKlein> ok wow my fire 
[23:24:37] -rusti- Some(3)
[23:24:43] <MaikKlein> ok wow my firefox can't find chain
[23:24:52] <MaikKlein> w/e
[23:24:53] <strcat> worked here...
[23:24:54] <dbaupp> bjz: Some(3).chain(|x| Some(x+1))
[23:25:04] <dbaupp> rusti: Some(3).chain(|x| Some(x+1))
[23:25:06] -rusti- Some(4)
[23:25:15] <bjz> rusti: Some(3).chain(|x| x)
[23:25:16] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/SFRN
[23:25:18] <dbaupp> bjz: (sorry)
[23:25:25] <bjz> I just want to unwrap it
[23:25:47] <aatch> Uh oh... Making a new snapshot might be tricky with the libary name changes
[23:26:02] <bjz> ahh, I forgot
[23:26:06] <dbaupp> aatch: ?
[23:26:24] <strcat> ugh so many errors
[23:26:35] <MaikKlein> rusti: None.chain(|x| Some(x+1)
[23:26:36] -rusti- <anon>:11:4: 11:5 error: incorrect close delimiter: `}`
[23:26:36] -rusti- <anon>:11     }));
[23:26:36] -rusti-               ^
[23:26:36] -rusti- application terminated with error code 101
[23:26:41] *** Quits: bent (chatzilla@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: ChatZilla 0.9.90-rdmsoft [XULRunner 18.0.2/20130201065344])
[23:26:51] <MaikKlein> rusti: None.chain(|x| Some(x+1))
[23:26:53] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/BdWQ
[23:26:53] <bblum> we don't still have performance graphs of all the tests in the tests/bench/ directory, do we?
[23:26:55] <aatch> it looks for libcore-* and libstd-*
[23:26:57] <bblum> the way we used to with old rustbot
[23:26:57] <bjz> rusti: None::<int>.chain(|x| Some(x+1))
[23:26:58] -rusti- None
[23:27:08] <bjz> MaikKlein: rust needs the type
[23:27:12] <MaikKlein> ah right
[23:27:13] *** Quits: deepdog (deepdog@moz-490E834C.client.mchsi.com) (Quit: Leaving)
[23:27:15] <MaikKlein> this thing again
[23:27:16] <MaikKlein> :X
[23:27:36] <strcat> rusti: None.chain(|x| Some(x+1i))
[23:27:38] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/WdiW
[23:27:42] <bjz> MaikKlein: but you see why it's useful?
[23:27:56] <aatch> and the same code makes a new snapshot and extracts the existing one...
[23:28:04] <bjz> rusti: Some(3).map(|&x| x.to_str())
[23:28:06] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/aRTV
[23:28:12] <MaikKlein> bjz, I think I can work on Options without checking if its none or some
[23:28:37] <bjz> rusti: Some(3).map(|&x| fmt!("%?", x))
[23:28:39] -rusti- Some(~"3")
[23:28:50] <bjz> MaikKlein: that's where it's more useful
[23:28:51] <MaikKlein> at least that's what got out of it
[23:29:03] <dbaupp> aatch: so, we need a snapshot to be *able* to make a snapshot?
[23:29:12] <bjz> MaikKlein: ie. you can return an option with a different type inside
[23:29:12] <aatch> dbaupp, possibly...
[23:29:20] <dbaupp> rusti: struct A<T>; impl<T: Num> A<T> { fn foo() {} } impl<T: Trigonometric> A<T> { fn bar() {} }
[23:29:21] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/GiVU
[23:29:29] <dbaupp> isn't that supposed to be fixed? ^
[23:29:42] <strcat> no static methods don't work
[23:29:46] <strcat> in generic impls
[23:29:54] <bjz> dbaupp: it was
[23:30:03] <bjz> dbaupp: lmath compiles fine, at least
[23:30:06] <dbaupp> strcat: https://github.com/mozilla/rust/issues/4228
[23:30:21] <strcat> well that's why there are supposed to be tests... ;p
[23:30:30] <dbaupp> bjz: well... why doesn't this? :(
[23:30:38] <bjz> strcat: it passes my tests too :)
[23:30:47] *** Joins: bent (chatzilla@moz-BE33DA21.fw1.sfo1.mozilla.net)
[23:30:48] <bjz> np idea
[23:30:49] <strcat> dbaupp: those are generic impls
[23:30:52] <strcat> not anon ones
[23:31:07] <strcat> well they are anonymous generic impls
[23:31:08] <strcat> but anyway
[23:31:09] <Luqman> strcat: I totally tested those :P
[23:31:10] <strcat> different bugs
[23:31:14] <nmatsakis> brson: I ... think so?
[23:31:21] <bjz> strcat: mine are generic in lmath
[23:31:21] <Luqman> and it seems to work locally
[23:31:22] <dbaupp> strcat: oh... :(
[23:31:40] *** Quits: jorendorff (jorendorff@moz-AF5FD687.hsd1.tn.comcast.net) (Quit: jorendorff)
[23:31:42] <nmatsakis> brson: but maybe not, maybe I didn't quite setup the cleanup correctly, or incorrectly thought "oh, who cares about @ during failure"
[23:31:52] <MaikKlein> rusti: Some(3).chain(|x| Some(~"External function pointers"))
[23:31:54] -rusti- Some(~"External function pointers")
[23:32:01] <bjz> :)
[23:32:04] <MaikKlein> :D
[23:32:09] <MaikKlein> ok that's pretty cool
[23:32:18] <brson> nmatsakis: I'll try to put together a test case
[23:32:20] <bjz> rusti: Some(3).chain(|_| Some(~"External function pointers"))
[23:32:21] -rusti- Some(~"External function pointers")
[23:32:33] <dbaupp> strcat: what hash is rusti running from?
[23:32:38] <bjz> MaikKlein: better to use an `_` for the arg
[23:32:38] <strcat> yesterday
[23:32:40] <strcat> dbaupp: 
[23:32:47] <bjz> MaikKlein: because you're not using it
[23:33:15] <MaikKlein> rusti: Some(3).chain(|x| Some(int::to_str(x)))
[23:33:16] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/ZjVN
[23:33:16] <strcat> % sudo ./playpen -u rust --syscalls-file=whitelist -- /usr/bin/rustc -v
[23:33:18] <strcat> /usr/bin/rustc 0.6 (94f72dd 2013-06-09 13:16:27 -0700)
[23:33:20] <strcat> host: x86_64-unknown-linux-gnu
[23:33:25] <Luqman> that's way :P
[23:33:31] *** Quits: alisdair (textual@moz-EA60A466.dedicated.allstream.net) (Quit: Textual IRC Client: www.textualapp.com)
[23:33:34] <Luqman> the pull was merged ~2pm
[23:33:37] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[23:33:37] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14b329353 to 141310212: 02http://git.io/N3iJvQ
[23:33:37] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[23:33:39] <bjz> Luqman: I have to go, but I'll fix rray later
[23:33:40] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[23:33:40] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/FtqaYg
[23:33:40] <ghrust> 13rust/06auto 148f1edd5 15Kevin Ballard: terminfo: Support more terminfo directory structures...
[23:33:40] <ghrust> 13rust/06auto 1437733c7 15bors: auto merge of #7042 : kballard/rust/terminfo-searcher-paths, r=thestinger...
[23:33:41] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[23:34:02] <MaikKlein> is there no int::to_str() function anymore?
[23:34:03] <bjz> Luqman: I'm super interested to see if it runs faster with the new index methods
[23:34:09] <strcat> MaikKlein: it's a method
[23:34:11] <strcat> the ToStr trait
[23:34:14] <dbaupp> strcat: ok, thank
[23:34:17] <dbaupp> s
[23:34:19] <MaikKlein> rusti: Some(3).chain(|x| Some(x.to_str()))
[23:34:20] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/HVUL
[23:34:29] <flu_> I guess being able to define a function that's comprised entirely of a non-exhaustive match would sort of compromise safety, right? 
[23:34:30] <bjz> MaikKlein: all the free-standing functions are being removed
[23:34:44] <strcat> well not *all*, but duplicate ones
[23:34:52] <strcat> or ones that should be methods
[23:34:55] <strcat> going to take a long time
[23:35:00] <bjz> strcat: yeah
[23:35:26] <aatch> free-standing functions like `vec::with_capacity()` are fine.
[23:35:40] *** Quits: tjc (tjc@moz-F2975D66.hsd1.wa.comcast.net) (Quit: zzzzzzzzzz)
[23:35:42] *** Quits: doener (doener@moz-121949B3.unitymediagroup.de) (Ping timeout)
[23:35:58] <MaikKlein> rusti: 5.to_str();
[23:35:59] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/HZNB
[23:36:09] <aatch> rusti: 5i.to_str()
[23:36:10] -rusti- ~"5"
[23:36:27] <MaikKlein> rusti: 5ui.to_str();
[23:36:27] -rusti- <anon>:10:11: 10:12 error: expected `;` or `}` after expression but found `i`
[23:36:27] -rusti- <anon>:10          5ui.to_str();
[23:36:27] -rusti-                      ^
[23:36:27] -rusti- application terminated with error code 101
[23:36:28] <strcat> yay for inconsistent literal inference
[23:36:37] * strcat would rather it didn't fall back to 'int' at all without hints though
[23:36:45] <flu_> rusti: int::to_str(5)
[23:36:47] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/ZKGN
[23:36:55] <MaikKlein> rusti: Some(3).chain(|x: int| Some(x.to_str()))
[23:36:57] -rusti- Some(~"3")
[23:37:00] <flu_> ^-- that seg faults the 0.6 rusti btw
[23:37:22] <aatch> flu_, 2 things: rusti the bot is not rusti the program
[23:37:24] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[23:37:33] <aatch> and 0.6 rusti segfaults on everything.
[23:37:33] <strcat> 0.6 isn't actually supported
[23:37:40] <MaikKlein> haha
[23:37:43] <flu_> aatch: yeah, rusti the program seg faults - is rusty the bot running on incoming?
[23:37:50] <flu_> *rusti lol
[23:37:51] <nmatsakis> brson: oh yeah I see that cleanups for write gurads are "normla_ret_only"
[23:37:55] <nmatsakis> brson: should be a trivial fix I guess
[23:37:57] <nmatsakis> brson: oops
[23:38:19] <Luqman> flu_: yes
[23:38:23] <dbaupp> flu_: yes, but it's not actually using 'rusti', it's running rustc
[23:38:24] <aatch> flu_, rusti gets runs on a daily build from incoming.
[23:38:28] <flu_> nice
[23:38:33] <MaikKlein> ok back to rustc middle
[23:38:37] <aatch> bah, typing.
[23:38:52] <strcat> rusti just uses my nightly build repo
[23:38:56] <flu_> !botsnack
[23:38:57] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[23:39:06] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[23:39:07] <flu_> it's the thought that counts
[23:39:08] <strcat> it remakes the whole root every day so I never have to think about it
[23:39:28] <aatch> rusti: botsnack
[23:39:30] -rusti- "nom nom"
[23:39:31] <dbaupp> rusti: println(std::io::read_whole_file_str(&Path("foo.rs"))))
[23:39:31] -rusti- <anon>:10:63: 10:64 error: incorrect close delimiter: `)`
[23:39:31] -rusti- <anon>:10          println(std::io::read_whole_file_str(&Path("foo.rs"))))
[23:39:31] -rusti-                                                                          ^
[23:39:31] -rusti- application terminated with error code 101
[23:39:34] <MaikKlein> what
[23:39:36] <MaikKlein> :D
[23:39:45] <dbaupp> rusti: println(std::io::read_whole_file_str(&Path("foo.rs")))
[23:39:46] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/BLBC
[23:39:57] <MaikKlein> rusti: rust
[23:39:58] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/JIcN
[23:40:10] <MaikKlein> find the easter eggs
[23:40:11] <dbaupp> rusti: println(std::io::read_whole_file_str(&Path("foo.rs")).unwrap())
[23:40:12] -rusti- rust: task failed at 'unwrap called on an err result', /build/rust-incoming-git/src/rust/src/libstd/result.rs:383
[23:40:12] -rusti- rust: domain main @0x7f0100c1f810 root task failed
[23:40:12] -rusti- application terminated with error code 101
[23:40:13] *** Joins: tikue (tkuehn@2557E599.66715431.D25A875A.IP)
[23:40:19] <aatch> wut:
[23:40:20] <aatch> if v > (::core::uint::max_value as u64) {
[23:40:20] <strcat> dbaupp: there's no file anymore
[23:40:20] <aatch>                 fail!("uint %? too large for this architecture", v);
[23:40:20] <aatch>             }
[23:40:25] <strcat> dbaupp: it compiles from a pipe
[23:40:37] <dbaupp> strcat: well, that's just too fancy!
[23:40:41] <dbaupp> strcat: :)
[23:40:47] <strcat> dbaupp: as in
[23:41:00] <aatch> the error gives '1' as that value.
[23:41:03] <dbaupp> aatch: and it fails for v == 1 on the buildbots
[23:41:05] <strcat> rustc -o out - <<<"fn main() { }"
[23:41:05] <dbaupp> yeah
[23:41:16] <dbaupp> (it's building for a 0-bit architecure, clearly ;P )
[23:41:33] <dbaupp> strcat: that's pretty awesome!
[23:42:16] *** Quits: brendan (brendaneic@2557E599.66715431.D25A875A.IP) (Quit: brendan)
[23:43:10] <brson> nmatsakis: do you still want a test case?
[23:43:24] <strcat> rusti: print(std::str::from_bytes(std::run::process_output("ps", [~"ax"])))
[23:43:26] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/KYMT
[23:43:34] <strcat> rusti: print(std::str::from_bytes(std::run::process_output("ps", [~"ax"]).output))
[23:43:35] -rusti-   PID TTY      STAT   TIME COMMAND
[23:43:35] -rusti-     1 ?        Ssl    0:00 ./out
[23:43:36] -rusti-    13 ?        R      0:00 ps ax
[23:43:36] -rusti- ()
[23:43:39] <nmatsakis> brson: yes, always good
[23:43:48] <nmatsakis> brson: file an issue?
[23:43:52] <brson> ok
[23:44:19] <MaikKlein> bjz, btw are you the author of open.gl ?
[23:44:31] *** Quits: pcwalton (pcwalton@2557E599.66715431.D25A875A.IP) (Quit: pcwalton)
[23:45:01] *** Joins: pcwalton (pcwalton@2557E599.66715431.D25A875A.IP)
[23:45:01] *** ChanServ sets mode: +o pcwalton
[23:45:43] <aatch> Bah, that test passes locally. BUT I can't run it under valgrind.
[23:45:43] *** Joins: alisdair (textual@moz-EA60A466.dedicated.allstream.net)
[23:46:17] *** Quits: hjr3 (hradtke@moz-E8F2FF56.public.wayport.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[23:47:16] *** Joins: jdm (jdm@DB05BBF2.BB1F48F2.971E19F6.IP)
[23:47:25] *** Quits: sp3d (a@moz-49806493.dhcp.stls.mo.charter.com) (Quit: sp3d)
[23:47:34] *** Joins: sp3d (a@moz-49806493.dhcp.stls.mo.charter.com)
[23:47:54] <MaikKlein> this is super weird
[23:47:55] <MaikKlein> pub enum input {
[23:47:55] <MaikKlein>     /// Load source from file
[23:47:55] <MaikKlein>     file_input(Path),
[23:47:55] <MaikKlein>     /// The string is the source
[23:47:55] <MaikKlein>     str_input(~str)
[23:47:57] <MaikKlein> }
[23:48:33] <MaikKlein> if I compile sth, the following line is in str_input "~[TypeNS, ValueNS]"
[23:49:17] <MaikKlein> oh wait I think I screwed sth up
[23:49:33] <MaikKlein> yeah nvm :X
[23:49:39] *** Joins: eholk (eholk@moz-9AB4D52F.hsd1.ut.comcast.net)
[23:49:56] *** Joins: hjr3 (hradtke@moz-E8F2FF56.public.wayport.net)
[23:51:13] <aatch> lol, people doing <uint> >= 0
[23:51:32] <flu_> rusdo ti: Some(1i).mutate() |x| { x + 1 }
[23:51:34] <flu_> whoops
[23:51:41] <flu_> rusti: do Some(1i).mutate() |x| { x + 1 }
[23:51:43] -rusti- ()
[23:52:13] <flu_> oh, it's a side-effecty thing
[23:52:18] <aatch> Ok, installing valgrind-multilib
[23:52:28] <aatch> flu_, the name didn't give it away?
[23:52:31] <flu_> heheh
[23:52:34] *** Joins: brendan (brendaneic@2557E599.66715431.D25A875A.IP)
[23:52:54] <aatch> rusti: let a = Some(1i); a.mutate(|x| x+1); a
[23:52:58] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/YaBa
[23:53:00] *** Joins: tiffnya (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net)
[23:53:01] <mark_edward> hey, is there anyway to cast an integer type to an enum type?
[23:53:07] <mark_edward> i need it for some unsafe code
[23:53:10] <aatch> rusti: let a = Some(1i); a.mutate(|&x| x+1); a
[23:53:12] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/DGaS
[23:53:19] <strcat> mark_edward: sounds like a misuse of enums ;p
[23:53:23] <strcat> mark_edward: what's the use case?
[23:53:57] <flu_> rusti: let mut a = Some(1i); a.mutate(|x| x + 1); a
[23:53:58] -rusti- Some(2)
[23:54:00] <mark_edward> trying to use an enum type over a set of #defined C consants
[23:54:00] <flu_> woot
[23:54:14] <strcat> mark_edward: those constants are never OR'ed together?
[23:54:14] <aatch> mark_edward, you can use cast::transmute
[23:54:15] <MaikKlein> woot
[23:54:23] <mark_edward> nope
[23:54:33] <strcat> mark_edward: are they really treated as variants of a type?
[23:54:40] <mark_edward> yes
[23:54:46] *** Quits: tiffnya (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net) (Ping timeout)
[23:54:55] <mark_edward> used to tell the type of another pointer passed in
[23:55:05] <dbaupp> bjz: just wondering... is there any particular reason that atan2, log and hypot take their second argument by value?
[23:55:06] <mark_edward> to the c function
[23:56:24] <aatch> AHHHHHHHHHHH jemalloc causes hundreds of valgrind errors
[23:56:40] <MaikKlein> rusti: 5i.to_super_crazy_number();
[23:56:41] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/YQiN
[23:56:46] <strcat> aatch: it shouldn't
[23:56:50] <strcat> aatch: doesn't on the bots ;\
[23:56:57] <aatch> at least, I think it does...
[23:57:05] <MaikKlein> does anyone know in what file the error handling is done?
[23:57:13] <MaikKlein> the output
[23:57:20] <mcpherrin> aatch: I think you need to give valgrind some flags to work right iwth jemalloc
[23:57:24] <aatch> MaikKlein, as in compiler errors?
[23:57:31] <MaikKlein> aatch, yes
[23:57:41] <aatch> somewhere in session I think
[23:57:43] <strcat> mcpherrin: should work out-of-the-box fine
[23:57:56] <aatch> look for demitter or span_diagnostic
[23:58:12] <aatch> (at least I think it's jemalloc)
[23:58:15] <strcat> mcpherrin: didn't used to, but valgrind added explicit support for it
[23:58:30] <aatch> strcat, what version?
[23:58:42] <strcat> don't know, I only use the latest stable versions of things ;p
[23:58:42] <mcpherrin> strcat: Oh, okay.  I haven't valgrind'ed something using jemalloc in a few years :P
[23:59:12] * strcat prefers new bugs to old, fixed bugs
[23:59:22] <MaikKlein> aatch, ah thanks
[23:59:29] <aatch> strcat, well I just built valgrind from AUR, because I needed multilib support.
[23:59:41] <aatch> I have 3.8.1
